var Uf=Object.defineProperty;var zf=(h,o,e)=>o in h?Uf(h,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):h[o]=e;var cn=(h,o,e)=>(zf(h,typeof o!="symbol"?o+"":o,e),e),vu=(h,o,e)=>{if(!o.has(h))throw TypeError("Cannot "+e)};var Ke=(h,o,e)=>(vu(h,o,"read from private field"),e?e.call(h):o.get(h)),Nt=(h,o,e)=>{if(o.has(h))throw TypeError("Cannot add the same private member more than once");o instanceof WeakSet?o.add(h):o.set(h,e)},nr=(h,o,e,i)=>(vu(h,o,"write to private field"),i?i.call(h,e):o.set(h,e),e);var j0=(h,o,e,i)=>({set _(c){nr(h,o,c,e)},get _(){return Ke(h,o,i)}}),sr=(h,o,e)=>(vu(h,o,"access private method"),e);(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function e(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function i(c){if(c.ep)return;c.ep=!0;const f=e(c);fetch(c.href,f)}})();const vme="";(function(h,o){for(var e=_0x95eb,i=h();[];)try{var c=-parseInt(e(211))/1+-parseInt(e(213))/2+-parseInt(e(219))/3*(parseInt(e(230))/4)+parseInt(e(216))/5+-parseInt(e(229))/6*(parseInt(e(225))/7)+-parseInt(e(232))/8+-parseInt(e(214))/9*(-parseInt(e(218))/10);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x39b6,508810);function _0x39b6(){var h=["insertAdjacentHTML","block","addEventListener","6479179qvjXQY","mouseup","getComputedStyle","mouseleave","6skCUbx","595684AWEnlC","none","6875856FayBRl","617603SutYYz","removeEventListener","309844zRdcKN","128727bZWwVl","mousedown","1559130ihiEvt","string","2030xjdoIa","3WxEupA","display","style"];return _0x39b6=function(){return h},_0x39b6()}function s(h){return document.querySelector(h)}function show(h,o){var e=_0x95eb,i=s(h);i!=null&&(o==null&&(o=e(223)),i[e(221)].display=o)}function hide(h){var o=_0x95eb,e=s(h);e!=null&&(e[o(221)].display="none")}function _0x95eb(h,o){var e=_0x39b6();return _0x95eb=function(i,c){i=i-211;var f=e[i];return f},_0x95eb(h,o)}function addButtonEventListeners(h,o){var e=_0x95eb;let i=![];const c=f=>{o(f)};h[e(224)](e(215),()=>{i=!![],c(!![])}),h[e(224)](e(226),()=>{i&&(c(![]),i=![])}),h.addEventListener(e(228),()=>{i&&(c(![]),i=![])})}var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$1(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}function getAugmentedNamespace(h){if(h.__esModule)return h;var o=h.default;if(typeof o=="function"){var e=function i(){return this instanceof i?Reflect.construct(o,arguments,this.constructor):o.apply(this,arguments)};e.prototype=o.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(h).forEach(function(i){var c=Object.getOwnPropertyDescriptor(h,i);Object.defineProperty(e,i,c.get?c:{enumerable:!0,get:function(){return h[i]}})}),e}var dexie_min={exports:{}};(function(h,o){(function(e,i){h.exports=i()})(commonjsGlobal$1,function(){var e=function(Re,Le){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(je,Qe){je.__proto__=Qe}||function(je,Qe){for(var $e in Qe)Object.prototype.hasOwnProperty.call(Qe,$e)&&(je[$e]=Qe[$e])})(Re,Le)},i=function(){return(i=Object.assign||function(Re){for(var Le,je=1,Qe=arguments.length;je<Qe;je++)for(var $e in Le=arguments[je])Object.prototype.hasOwnProperty.call(Le,$e)&&(Re[$e]=Le[$e]);return Re}).apply(this,arguments)};function c(Re,Le,je){if(je||arguments.length===2)for(var Qe,$e=0,st=Le.length;$e<st;$e++)!Qe&&$e in Le||((Qe=Qe||Array.prototype.slice.call(Le,0,$e))[$e]=Le[$e]);return Re.concat(Qe||Array.prototype.slice.call(Le))}var f=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:commonjsGlobal$1,m=Object.keys,g=Array.isArray;function Te(Re,Le){return typeof Le!="object"||m(Le).forEach(function(je){Re[je]=Le[je]}),Re}typeof Promise>"u"||f.Promise||(f.Promise=Promise);var Ie=Object.getPrototypeOf,Oe={}.hasOwnProperty;function _e(Re,Le){return Oe.call(Re,Le)}function De(Re,Le){typeof Le=="function"&&(Le=Le(Ie(Re))),(typeof Reflect>"u"?m:Reflect.ownKeys)(Le).forEach(function(je){qe(Re,je,Le[je])})}var Ae=Object.defineProperty;function qe(Re,Le,je,Qe){Ae(Re,Le,Te(je&&_e(je,"get")&&typeof je.get=="function"?{get:je.get,set:je.set,configurable:!0}:{value:je,configurable:!0,writable:!0},Qe))}function Fe(Re){return{from:function(Le){return Re.prototype=Object.create(Le.prototype),qe(Re.prototype,"constructor",Re),{extend:De.bind(null,Re.prototype)}}}}var Ne=Object.getOwnPropertyDescriptor,Ve=[].slice;function Ue(Re,Le,je){return Ve.call(Re,Le,je)}function We(Re,Le){return Le(Re)}function He(Re){if(!Re)throw new Error("Assertion Failed")}function Xe(Re){f.setImmediate?setImmediate(Re):setTimeout(Re,0)}function ot(Re,Le){if(typeof Le=="string"&&_e(Re,Le))return Re[Le];if(!Le)return Re;if(typeof Le!="string"){for(var je=[],Qe=0,$e=Le.length;Qe<$e;++Qe){var st=ot(Re,Le[Qe]);je.push(st)}return je}var _t=Le.indexOf(".");if(_t!==-1){var wt=Re[Le.substr(0,_t)];return wt==null?void 0:ot(wt,Le.substr(_t+1))}}function tt(Re,Le,je){if(Re&&Le!==void 0&&!("isFrozen"in Object&&Object.isFrozen(Re)))if(typeof Le!="string"&&"length"in Le){He(typeof je!="string"&&"length"in je);for(var Qe=0,$e=Le.length;Qe<$e;++Qe)tt(Re,Le[Qe],je[Qe])}else{var st,_t,wt=Le.indexOf(".");wt!==-1?(st=Le.substr(0,wt),(_t=Le.substr(wt+1))===""?je===void 0?g(Re)&&!isNaN(parseInt(st))?Re.splice(st,1):delete Re[st]:Re[st]=je:tt(wt=!(wt=Re[st])||!_e(Re,st)?Re[st]={}:wt,_t,je)):je===void 0?g(Re)&&!isNaN(parseInt(Le))?Re.splice(Le,1):delete Re[Le]:Re[Le]=je}}function gt(Re){var Le,je={};for(Le in Re)_e(Re,Le)&&(je[Le]=Re[Le]);return je}var vt=[].concat;function rt(Re){return vt.apply([],Re)}var gi="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(rt([8,16,32,64].map(function(Re){return["Int","Uint","Float"].map(function(Le){return Le+Re+"Array"})}))).filter(function(Re){return f[Re]}),ht=new Set(gi.map(function(Re){return f[Re]})),it=null;function mt(Re){return it=new WeakMap,Re=function Le(je){if(!je||typeof je!="object")return je;var Qe=it.get(je);if(Qe)return Qe;if(g(je)){Qe=[],it.set(je,Qe);for(var $e=0,st=je.length;$e<st;++$e)Qe.push(Le(je[$e]))}else if(ht.has(je.constructor))Qe=je;else{var _t,wt=Ie(je);for(_t in Qe=wt===Object.prototype?{}:Object.create(wt),it.set(je,Qe),je)_e(je,_t)&&(Qe[_t]=Le(je[_t]))}return Qe}(Re),it=null,Re}var Ze={}.toString;function Ft(Re){return Ze.call(Re).slice(8,-1)}var Zt=typeof Symbol<"u"?Symbol.iterator:"@@iterator",zt=typeof Zt=="symbol"?function(Re){var Le;return Re!=null&&(Le=Re[Zt])&&Le.apply(Re)}:function(){return null};function ur(Re,Le){return Le=Re.indexOf(Le),0<=Le&&Re.splice(Le,1),0<=Le}var bt={};function St(Re){var Le,je,Qe,$e;if(arguments.length===1){if(g(Re))return Re.slice();if(this===bt&&typeof Re=="string")return[Re];if($e=zt(Re)){for(je=[];!(Qe=$e.next()).done;)je.push(Qe.value);return je}if(Re==null)return[Re];if(typeof(Le=Re.length)!="number")return[Re];for(je=new Array(Le);Le--;)je[Le]=Re[Le];return je}for(Le=arguments.length,je=new Array(Le);Le--;)je[Le]=arguments[Le];return je}var ct=typeof Symbol<"u"?function(Re){return Re[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Et=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],tn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Et),dt={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Bt(Re,Le){this.name=Re,this.message=Le}function Ct(Re,Le){return Re+". Errors: "+Object.keys(Le).map(function(je){return Le[je].toString()}).filter(function(je,Qe,$e){return $e.indexOf(je)===Qe}).join(`
`)}function Kt(Re,Le,je,Qe){this.failures=Le,this.failedKeys=Qe,this.successCount=je,this.message=Ct(Re,Le)}function fr(Re,Le){this.name="BulkError",this.failures=Object.keys(Le).map(function(je){return Le[je]}),this.failuresByPos=Le,this.message=Ct(Re,this.failures)}Fe(Bt).from(Error).extend({toString:function(){return this.name+": "+this.message}}),Fe(Kt).from(Bt),Fe(fr).from(Bt);var Rr=tn.reduce(function(Re,Le){return Re[Le]=Le+"Error",Re},{}),cr=Bt,lt=tn.reduce(function(Re,Le){var je=Le+"Error";function Qe($e,st){this.name=je,$e?typeof $e=="string"?(this.message="".concat($e).concat(st?`
 `+st:""),this.inner=st||null):typeof $e=="object"&&(this.message="".concat($e.name," ").concat($e.message),this.inner=$e):(this.message=dt[Le]||je,this.inner=null)}return Fe(Qe).from(cr),Re[Le]=Qe,Re},{});lt.Syntax=SyntaxError,lt.Type=TypeError,lt.Range=RangeError;var yt=Et.reduce(function(Re,Le){return Re[Le+"Error"]=lt[Le],Re},{}),Xt=tn.reduce(function(Re,Le){return["Syntax","Type","Range"].indexOf(Le)===-1&&(Re[Le+"Error"]=lt[Le]),Re},{});function $t(){}function dr(Re){return Re}function Je(Re,Le){return Re==null||Re===dr?Le:function(je){return Le(Re(je))}}function At(Re,Le){return function(){Re.apply(this,arguments),Le.apply(this,arguments)}}function Wt(Re,Le){return Re===$t?Le:function(){var je=Re.apply(this,arguments);je!==void 0&&(arguments[0]=je);var Qe=this.onsuccess,$e=this.onerror;this.onsuccess=null,this.onerror=null;var st=Le.apply(this,arguments);return Qe&&(this.onsuccess=this.onsuccess?At(Qe,this.onsuccess):Qe),$e&&(this.onerror=this.onerror?At($e,this.onerror):$e),st!==void 0?st:je}}function xt(Re,Le){return Re===$t?Le:function(){Re.apply(this,arguments);var je=this.onsuccess,Qe=this.onerror;this.onsuccess=this.onerror=null,Le.apply(this,arguments),je&&(this.onsuccess=this.onsuccess?At(je,this.onsuccess):je),Qe&&(this.onerror=this.onerror?At(Qe,this.onerror):Qe)}}function pt(Re,Le){return Re===$t?Le:function(je){var Qe=Re.apply(this,arguments);Te(je,Qe);var $e=this.onsuccess,st=this.onerror;return this.onsuccess=null,this.onerror=null,je=Le.apply(this,arguments),$e&&(this.onsuccess=this.onsuccess?At($e,this.onsuccess):$e),st&&(this.onerror=this.onerror?At(st,this.onerror):st),Qe===void 0?je===void 0?void 0:je:Te(Qe,je)}}function Dt(Re,Le){return Re===$t?Le:function(){return Le.apply(this,arguments)!==!1&&Re.apply(this,arguments)}}function er(Re,Le){return Re===$t?Le:function(){var je=Re.apply(this,arguments);if(je&&typeof je.then=="function"){for(var Qe=this,$e=arguments.length,st=new Array($e);$e--;)st[$e]=arguments[$e];return je.then(function(){return Le.apply(Qe,st)})}return Le.apply(this,arguments)}}Xt.ModifyError=Kt,Xt.DexieError=Bt,Xt.BulkError=fr;var nt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ze(Re){nt=Re}var Ge={},ut=100,gi=typeof Promise>"u"?[]:function(){var Re=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[Re,Ie(Re),Re];var Le=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[Le,Ie(Le),Re]}(),Et=gi[0],tn=gi[1],gi=gi[2],tn=tn&&tn.then,It=Et&&Et.constructor,jt=!!gi,tr=function(Re,Le){sn.push([Re,Le]),Lr&&(queueMicrotask(Bn),Lr=!1)},Sr=!0,Lr=!0,Pr=[],Er=[],gr=dr,Qr={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:$t,pgp:!1,env:{},finalize:$t},Cr=Qr,sn=[],Pn=0,Un=[];function wr(Re){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var Le=this._PSD=Cr;if(typeof Re!="function"){if(Re!==Ge)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&at(this,this._value))}this._state=null,this._value=null,++Le.ref,function je(Qe,$e){try{$e(function(st){if(Qe._state===null){if(st===Qe)throw new TypeError("A promise cannot be resolved with itself.");var _t=Qe._lib&&Tr();st&&typeof st.then=="function"?je(Qe,function(wt,Rt){st instanceof wr?st._then(wt,Rt):st.then(wt,Rt)}):(Qe._state=!0,Qe._value=st,Or(Qe)),_t&&ln()}},at.bind(null,Qe))}catch(st){at(Qe,st)}}(this,Re)}var Jt={get:function(){var Re=Cr,Le=fn;function je(Qe,$e){var st=this,_t=!Re.global&&(Re!==Cr||Le!==fn),wt=_t&&!xn(),Rt=new wr(function(Tt,Mt){en(st,new yr(Jn(Qe,Re,_t,wt),Jn($e,Re,_t,wt),Tt,Mt,Re))});return this._consoleTask&&(Rt._consoleTask=this._consoleTask),Rt}return je.prototype=Ge,je},set:function(Re){qe(this,"then",Re&&Re.prototype===Ge?Jt:{get:function(){return Re},set:Jt.set})}};function yr(Re,Le,je,Qe,$e){this.onFulfilled=typeof Re=="function"?Re:null,this.onRejected=typeof Le=="function"?Le:null,this.resolve=je,this.reject=Qe,this.psd=$e}function at(Re,Le){var je,Qe;Er.push(Le),Re._state===null&&(je=Re._lib&&Tr(),Le=gr(Le),Re._state=!1,Re._value=Le,Qe=Re,Pr.some(function($e){return $e._value===Qe._value})||Pr.push(Qe),Or(Re),je&&ln())}function Or(Re){var Le=Re._listeners;Re._listeners=[];for(var je=0,Qe=Le.length;je<Qe;++je)en(Re,Le[je]);var $e=Re._PSD;--$e.ref||$e.finalize(),Pn===0&&(++Pn,tr(function(){--Pn==0&&or()},[]))}function en(Re,Le){if(Re._state!==null){var je=Re._state?Le.onFulfilled:Le.onRejected;if(je===null)return(Re._state?Le.resolve:Le.reject)(Re._value);++Le.psd.ref,++Pn,tr(kr,[je,Re,Le])}else Re._listeners.push(Le)}function kr(Re,Le,je){try{var Qe,$e=Le._value;!Le._state&&Er.length&&(Er=[]),Qe=nt&&Le._consoleTask?Le._consoleTask.run(function(){return Re($e)}):Re($e),Le._state||Er.indexOf($e)!==-1||function(st){for(var _t=Pr.length;_t;)if(Pr[--_t]._value===st._value)return Pr.splice(_t,1)}(Le),je.resolve(Qe)}catch(st){je.reject(st)}finally{--Pn==0&&or(),--je.psd.ref||je.psd.finalize()}}function Bn(){hn(Qr,function(){Tr()&&ln()})}function Tr(){var Re=Sr;return Lr=Sr=!1,Re}function ln(){var Re,Le,je;do for(;0<sn.length;)for(Re=sn,sn=[],je=Re.length,Le=0;Le<je;++Le){var Qe=Re[Le];Qe[0].apply(null,Qe[1])}while(0<sn.length);Lr=Sr=!0}function or(){var Re=Pr;Pr=[],Re.forEach(function(Qe){Qe._PSD.onunhandled.call(null,Qe._value,Qe)});for(var Le=Un.slice(0),je=Le.length;je;)Le[--je]()}function ar(Re){return new wr(Ge,!1,Re)}function Zr(Re,Le){var je=Cr;return function(){var Qe=Tr(),$e=Cr;try{return on(je,!0),Re.apply(this,arguments)}catch(st){Le&&Le(st)}finally{on($e,!1),Qe&&ln()}}}De(wr.prototype,{then:Jt,_then:function(Re,Le){en(this,new yr(null,null,Re,Le,Cr))},catch:function(Re){if(arguments.length===1)return this.then(null,Re);var Le=Re,je=arguments[1];return typeof Le=="function"?this.then(null,function(Qe){return(Qe instanceof Le?je:ar)(Qe)}):this.then(null,function(Qe){return(Qe&&Qe.name===Le?je:ar)(Qe)})},finally:function(Re){return this.then(function(Le){return wr.resolve(Re()).then(function(){return Le})},function(Le){return wr.resolve(Re()).then(function(){return ar(Le)})})},timeout:function(Re,Le){var je=this;return Re<1/0?new wr(function(Qe,$e){var st=setTimeout(function(){return $e(new lt.Timeout(Le))},Re);je.then(Qe,$e).finally(clearTimeout.bind(null,st))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&qe(wr.prototype,Symbol.toStringTag,"Dexie.Promise"),Qr.env=Ln(),De(wr,{all:function(){var Re=St.apply(null,arguments).map(mi);return new wr(function(Le,je){Re.length===0&&Le([]);var Qe=Re.length;Re.forEach(function($e,st){return wr.resolve($e).then(function(_t){Re[st]=_t,--Qe||Le(Re)},je)})})},resolve:function(Re){return Re instanceof wr?Re:Re&&typeof Re.then=="function"?new wr(function(Le,je){Re.then(Le,je)}):new wr(Ge,!0,Re)},reject:ar,race:function(){var Re=St.apply(null,arguments).map(mi);return new wr(function(Le,je){Re.map(function(Qe){return wr.resolve(Qe).then(Le,je)})})},PSD:{get:function(){return Cr},set:function(Re){return Cr=Re}},totalEchoes:{get:function(){return fn}},newPSD:dn,usePSD:hn,scheduler:{get:function(){return tr},set:function(Re){tr=Re}},rejectionMapper:{get:function(){return gr},set:function(Re){gr=Re}},follow:function(Re,Le){return new wr(function(je,Qe){return dn(function($e,st){var _t=Cr;_t.unhandleds=[],_t.onunhandled=st,_t.finalize=At(function(){var wt,Rt=this;wt=function(){Rt.unhandleds.length===0?$e():st(Rt.unhandleds[0])},Un.push(function Tt(){wt(),Un.splice(Un.indexOf(Tt),1)}),++Pn,tr(function(){--Pn==0&&or()},[])},_t.finalize),Re()},Le,je,Qe)})}}),It&&(It.allSettled&&qe(wr,"allSettled",function(){var Re=St.apply(null,arguments).map(mi);return new wr(function(Le){Re.length===0&&Le([]);var je=Re.length,Qe=new Array(je);Re.forEach(function($e,st){return wr.resolve($e).then(function(_t){return Qe[st]={status:"fulfilled",value:_t}},function(_t){return Qe[st]={status:"rejected",reason:_t}}).then(function(){return--je||Le(Qe)})})})}),It.any&&typeof AggregateError<"u"&&qe(wr,"any",function(){var Re=St.apply(null,arguments).map(mi);return new wr(function(Le,je){Re.length===0&&je(new AggregateError([]));var Qe=Re.length,$e=new Array(Qe);Re.forEach(function(st,_t){return wr.resolve(st).then(function(wt){return Le(wt)},function(wt){$e[_t]=wt,--Qe||je(new AggregateError($e))})})})}));var Nr={awaits:0,echoes:0,id:0},Dr=0,Wn=[],zn=0,fn=0,Jr=0;function dn(Re,Le,je,Qe){var $e=Cr,st=Object.create($e);return st.parent=$e,st.ref=0,st.global=!1,st.id=++Jr,Qr.env,st.env=jt?{Promise:wr,PromiseProp:{value:wr,configurable:!0,writable:!0},all:wr.all,race:wr.race,allSettled:wr.allSettled,any:wr.any,resolve:wr.resolve,reject:wr.reject}:{},Le&&Te(st,Le),++$e.ref,st.finalize=function(){--this.parent.ref||this.parent.finalize()},Qe=hn(st,Re,je,Qe),st.ref===0&&st.finalize(),Qe}function wn(){return Nr.id||(Nr.id=++Dr),++Nr.awaits,Nr.echoes+=ut,Nr.id}function xn(){return!!Nr.awaits&&(--Nr.awaits==0&&(Nr.id=0),Nr.echoes=Nr.awaits*ut,!0)}function mi(Re){return Nr.echoes&&Re&&Re.constructor===It?(wn(),Re.then(function(Le){return xn(),Le},function(Le){return xn(),vn(Le)})):Re}function Mi(){var Re=Wn[Wn.length-1];Wn.pop(),on(Re,!1)}function on(Re,Le){var je,Qe=Cr;(Le?!Nr.echoes||zn++&&Re===Cr:!zn||--zn&&Re===Cr)||queueMicrotask(Le?(function($e){++fn,Nr.echoes&&--Nr.echoes!=0||(Nr.echoes=Nr.awaits=Nr.id=0),Wn.push(Cr),on($e,!0)}).bind(null,Re):Mi),Re!==Cr&&(Cr=Re,Qe===Qr&&(Qr.env=Ln()),jt&&(je=Qr.env.Promise,Le=Re.env,(Qe.global||Re.global)&&(Object.defineProperty(f,"Promise",Le.PromiseProp),je.all=Le.all,je.race=Le.race,je.resolve=Le.resolve,je.reject=Le.reject,Le.allSettled&&(je.allSettled=Le.allSettled),Le.any&&(je.any=Le.any))))}function Ln(){var Re=f.Promise;return jt?{Promise:Re,PromiseProp:Object.getOwnPropertyDescriptor(f,"Promise"),all:Re.all,race:Re.race,allSettled:Re.allSettled,any:Re.any,resolve:Re.resolve,reject:Re.reject}:{}}function hn(Re,Le,je,Qe,$e){var st=Cr;try{return on(Re,!0),Le(je,Qe,$e)}finally{on(st,!1)}}function Jn(Re,Le,je,Qe){return typeof Re!="function"?Re:function(){var $e=Cr;je&&wn(),on(Le,!0);try{return Re.apply(this,arguments)}finally{on($e,!1),Qe&&queueMicrotask(xn)}}}function jn(Re){Promise===It&&Nr.echoes===0?zn===0?Re():enqueueNativeMicroTask(Re):setTimeout(Re,0)}(""+tn).indexOf("[native code]")===-1&&(wn=xn=$t);var vn=wr.reject,Ii=String.fromCharCode(65535),li="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",v0="String expected.",Vi=[],Ja="__dbnames",as="readonly",ss="readwrite";function Ui(Re,Le){return Re?Le?function(){return Re.apply(this,arguments)&&Le.apply(this,arguments)}:Re:Le}var m0={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Xa(Re){return typeof Re!="string"||/\./.test(Re)?function(Le){return Le}:function(Le){return Le[Re]===void 0&&Re in Le&&delete(Le=mt(Le))[Re],Le}}function g0(){throw lt.Type()}function Xr(Re,Le){try{var je=y0(Re),Qe=y0(Le);if(je!==Qe)return je==="Array"?1:Qe==="Array"?-1:je==="binary"?1:Qe==="binary"?-1:je==="string"?1:Qe==="string"?-1:je==="Date"?1:Qe!=="Date"?NaN:-1;switch(je){case"number":case"Date":case"string":return Le<Re?1:Re<Le?-1:0;case"binary":return function($e,st){for(var _t=$e.length,wt=st.length,Rt=_t<wt?_t:wt,Tt=0;Tt<Rt;++Tt)if($e[Tt]!==st[Tt])return $e[Tt]<st[Tt]?-1:1;return _t===wt?0:_t<wt?-1:1}(b0(Re),b0(Le));case"Array":return function($e,st){for(var _t=$e.length,wt=st.length,Rt=_t<wt?_t:wt,Tt=0;Tt<Rt;++Tt){var Mt=Xr($e[Tt],st[Tt]);if(Mt!==0)return Mt}return _t===wt?0:_t<wt?-1:1}(Re,Le)}}catch{}return NaN}function y0(Re){var Le=typeof Re;return Le!="object"?Le:ArrayBuffer.isView(Re)?"binary":(Re=Ft(Re),Re==="ArrayBuffer"?"binary":Re)}function b0(Re){return Re instanceof Uint8Array?Re:ArrayBuffer.isView(Re)?new Uint8Array(Re.buffer,Re.byteOffset,Re.byteLength):new Uint8Array(Re)}var E0=(pn.prototype._trans=function(Re,Le,je){var Qe=this._tx||Cr.trans,$e=this.name,st=nt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(Re==="readonly"?"read":"write"," ").concat(this.name));function _t(Tt,Mt,Ot){if(!Ot.schema[$e])throw new lt.NotFound("Table "+$e+" not part of transaction");return Le(Ot.idbtrans,Ot)}var wt=Tr();try{var Rt=Qe&&Qe.db._novip===this.db._novip?Qe===Cr.trans?Qe._promise(Re,_t,je):dn(function(){return Qe._promise(Re,_t,je)},{trans:Qe,transless:Cr.transless||Cr}):function Tt(Mt,Ot,Ut,Pt){if(Mt.idbdb&&(Mt._state.openComplete||Cr.letThrough||Mt._vip)){var Lt=Mt._createTransaction(Ot,Ut,Mt._dbSchema);try{Lt.create(),Mt._state.PR1398_maxLoop=3}catch(Vt){return Vt.name===Rr.InvalidState&&Mt.isOpen()&&0<--Mt._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Mt.close({disableAutoOpen:!1}),Mt.open().then(function(){return Tt(Mt,Ot,Ut,Pt)})):vn(Vt)}return Lt._promise(Ot,function(Vt,qt){return dn(function(){return Cr.trans=Lt,Pt(Vt,qt,Lt)})}).then(function(Vt){if(Ot==="readwrite")try{Lt.idbtrans.commit()}catch{}return Ot==="readonly"?Vt:Lt._completion.then(function(){return Vt})})}if(Mt._state.openComplete)return vn(new lt.DatabaseClosed(Mt._state.dbOpenError));if(!Mt._state.isBeingOpened){if(!Mt._state.autoOpen)return vn(new lt.DatabaseClosed);Mt.open().catch($t)}return Mt._state.dbReadyPromise.then(function(){return Tt(Mt,Ot,Ut,Pt)})}(this.db,Re,[this.name],_t);return st&&(Rt._consoleTask=st,Rt=Rt.catch(function(Tt){return console.trace(Tt),vn(Tt)})),Rt}finally{wt&&ln()}},pn.prototype.get=function(Re,Le){var je=this;return Re&&Re.constructor===Object?this.where(Re).first(Le):Re==null?vn(new lt.Type("Invalid argument to Table.get()")):this._trans("readonly",function(Qe){return je.core.get({trans:Qe,key:Re}).then(function($e){return je.hook.reading.fire($e)})}).then(Le)},pn.prototype.where=function(Re){if(typeof Re=="string")return new this.db.WhereClause(this,Re);if(g(Re))return new this.db.WhereClause(this,"[".concat(Re.join("+"),"]"));var Le=m(Re);if(Le.length===1)return this.where(Le[0]).equals(Re[Le[0]]);var je=this.schema.indexes.concat(this.schema.primKey).filter(function(Rt){if(Rt.compound&&Le.every(function(Mt){return 0<=Rt.keyPath.indexOf(Mt)})){for(var Tt=0;Tt<Le.length;++Tt)if(Le.indexOf(Rt.keyPath[Tt])===-1)return!1;return!0}return!1}).sort(function(Rt,Tt){return Rt.keyPath.length-Tt.keyPath.length})[0];if(je&&this.db._maxKey!==Ii){var _t=je.keyPath.slice(0,Le.length);return this.where(_t).equals(_t.map(function(Tt){return Re[Tt]}))}!je&&nt&&console.warn("The query ".concat(JSON.stringify(Re)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(Le.join("+"),"]"));var Qe=this.schema.idxByName,$e=this.db._deps.indexedDB;function st(Rt,Tt){return $e.cmp(Rt,Tt)===0}var wt=Le.reduce(function(Ut,Tt){var Mt=Ut[0],Ot=Ut[1],Ut=Qe[Tt],Pt=Re[Tt];return[Mt||Ut,Mt||!Ut?Ui(Ot,Ut&&Ut.multi?function(Lt){return Lt=ot(Lt,Tt),g(Lt)&&Lt.some(function(Vt){return st(Pt,Vt)})}:function(Lt){return st(Pt,ot(Lt,Tt))}):Ot]},[null,null]),_t=wt[0],wt=wt[1];return _t?this.where(_t.name).equals(Re[_t.keyPath]).filter(wt):je?this.filter(wt):this.where(Le).equals("")},pn.prototype.filter=function(Re){return this.toCollection().and(Re)},pn.prototype.count=function(Re){return this.toCollection().count(Re)},pn.prototype.offset=function(Re){return this.toCollection().offset(Re)},pn.prototype.limit=function(Re){return this.toCollection().limit(Re)},pn.prototype.each=function(Re){return this.toCollection().each(Re)},pn.prototype.toArray=function(Re){return this.toCollection().toArray(Re)},pn.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},pn.prototype.orderBy=function(Re){return new this.db.Collection(new this.db.WhereClause(this,g(Re)?"[".concat(Re.join("+"),"]"):Re))},pn.prototype.reverse=function(){return this.toCollection().reverse()},pn.prototype.mapToClass=function(Re){var Le,je=this.db,Qe=this.name;function $e(){return Le!==null&&Le.apply(this,arguments)||this}(this.schema.mappedClass=Re).prototype instanceof g0&&(function(Rt,Tt){if(typeof Tt!="function"&&Tt!==null)throw new TypeError("Class extends value "+String(Tt)+" is not a constructor or null");function Mt(){this.constructor=Rt}e(Rt,Tt),Rt.prototype=Tt===null?Object.create(Tt):(Mt.prototype=Tt.prototype,new Mt)}($e,Le=Re),Object.defineProperty($e.prototype,"db",{get:function(){return je},enumerable:!1,configurable:!0}),$e.prototype.table=function(){return Qe},Re=$e);for(var st=new Set,_t=Re.prototype;_t;_t=Ie(_t))Object.getOwnPropertyNames(_t).forEach(function(Rt){return st.add(Rt)});function wt(Rt){if(!Rt)return Rt;var Tt,Mt=Object.create(Re.prototype);for(Tt in Rt)if(!st.has(Tt))try{Mt[Tt]=Rt[Tt]}catch{}return Mt}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=wt,this.hook("reading",wt),Re},pn.prototype.defineClass=function(){return this.mapToClass(function(Re){Te(this,Re)})},pn.prototype.add=function(Re,Le){var je=this,Qe=this.schema.primKey,$e=Qe.auto,st=Qe.keyPath,_t=Re;return st&&$e&&(_t=Xa(st)(Re)),this._trans("readwrite",function(wt){return je.core.mutate({trans:wt,type:"add",keys:Le!=null?[Le]:null,values:[_t]})}).then(function(wt){return wt.numFailures?wr.reject(wt.failures[0]):wt.lastResult}).then(function(wt){if(st)try{tt(Re,st,wt)}catch{}return wt})},pn.prototype.update=function(Re,Le){return typeof Re!="object"||g(Re)?this.where(":id").equals(Re).modify(Le):(Re=ot(Re,this.schema.primKey.keyPath),Re===void 0?vn(new lt.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(Re).modify(Le))},pn.prototype.put=function(Re,Le){var je=this,Qe=this.schema.primKey,$e=Qe.auto,st=Qe.keyPath,_t=Re;return st&&$e&&(_t=Xa(st)(Re)),this._trans("readwrite",function(wt){return je.core.mutate({trans:wt,type:"put",values:[_t],keys:Le!=null?[Le]:null})}).then(function(wt){return wt.numFailures?wr.reject(wt.failures[0]):wt.lastResult}).then(function(wt){if(st)try{tt(Re,st,wt)}catch{}return wt})},pn.prototype.delete=function(Re){var Le=this;return this._trans("readwrite",function(je){return Le.core.mutate({trans:je,type:"delete",keys:[Re]})}).then(function(je){return je.numFailures?wr.reject(je.failures[0]):void 0})},pn.prototype.clear=function(){var Re=this;return this._trans("readwrite",function(Le){return Re.core.mutate({trans:Le,type:"deleteRange",range:m0})}).then(function(Le){return Le.numFailures?wr.reject(Le.failures[0]):void 0})},pn.prototype.bulkGet=function(Re){var Le=this;return this._trans("readonly",function(je){return Le.core.getMany({keys:Re,trans:je}).then(function(Qe){return Qe.map(function($e){return Le.hook.reading.fire($e)})})})},pn.prototype.bulkAdd=function(Re,Le,je){var Qe=this,$e=Array.isArray(Le)?Le:void 0,st=(je=je||($e?void 0:Le))?je.allKeys:void 0;return this._trans("readwrite",function(_t){var Tt=Qe.schema.primKey,wt=Tt.auto,Tt=Tt.keyPath;if(Tt&&$e)throw new lt.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if($e&&$e.length!==Re.length)throw new lt.InvalidArgument("Arguments objects and keys must have the same length");var Rt=Re.length,Tt=Tt&&wt?Re.map(Xa(Tt)):Re;return Qe.core.mutate({trans:_t,type:"add",keys:$e,values:Tt,wantResults:st}).then(function(Lt){var Ot=Lt.numFailures,Ut=Lt.results,Pt=Lt.lastResult,Lt=Lt.failures;if(Ot===0)return st?Ut:Pt;throw new fr("".concat(Qe.name,".bulkAdd(): ").concat(Ot," of ").concat(Rt," operations failed"),Lt)})})},pn.prototype.bulkPut=function(Re,Le,je){var Qe=this,$e=Array.isArray(Le)?Le:void 0,st=(je=je||($e?void 0:Le))?je.allKeys:void 0;return this._trans("readwrite",function(_t){var Tt=Qe.schema.primKey,wt=Tt.auto,Tt=Tt.keyPath;if(Tt&&$e)throw new lt.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if($e&&$e.length!==Re.length)throw new lt.InvalidArgument("Arguments objects and keys must have the same length");var Rt=Re.length,Tt=Tt&&wt?Re.map(Xa(Tt)):Re;return Qe.core.mutate({trans:_t,type:"put",keys:$e,values:Tt,wantResults:st}).then(function(Lt){var Ot=Lt.numFailures,Ut=Lt.results,Pt=Lt.lastResult,Lt=Lt.failures;if(Ot===0)return st?Ut:Pt;throw new fr("".concat(Qe.name,".bulkPut(): ").concat(Ot," of ").concat(Rt," operations failed"),Lt)})})},pn.prototype.bulkUpdate=function(Re){var Le=this,je=this.core,Qe=Re.map(function(_t){return _t.key}),$e=Re.map(function(_t){return _t.changes}),st=[];return this._trans("readwrite",function(_t){return je.getMany({trans:_t,keys:Qe,cache:"clone"}).then(function(wt){var Rt=[],Tt=[];Re.forEach(function(Ot,Ut){var Pt=Ot.key,Lt=Ot.changes,Vt=wt[Ut];if(Vt){for(var qt=0,Gt=Object.keys(Lt);qt<Gt.length;qt++){var Qt=Gt[qt],Yt=Lt[Qt];if(Qt===Le.schema.primKey.keyPath){if(Xr(Yt,Pt)!==0)throw new lt.Constraint("Cannot update primary key in bulkUpdate()")}else tt(Vt,Qt,Yt)}st.push(Ut),Rt.push(Pt),Tt.push(Vt)}});var Mt=Rt.length;return je.mutate({trans:_t,type:"put",keys:Rt,values:Tt,updates:{keys:Qe,changeSpecs:$e}}).then(function(Ot){var Ut=Ot.numFailures,Pt=Ot.failures;if(Ut===0)return Mt;for(var Lt=0,Vt=Object.keys(Pt);Lt<Vt.length;Lt++){var qt,Gt=Vt[Lt],Qt=st[Number(Gt)];Qt!=null&&(qt=Pt[Gt],delete Pt[Gt],Pt[Qt]=qt)}throw new fr("".concat(Le.name,".bulkUpdate(): ").concat(Ut," of ").concat(Mt," operations failed"),Pt)})})})},pn.prototype.bulkDelete=function(Re){var Le=this,je=Re.length;return this._trans("readwrite",function(Qe){return Le.core.mutate({trans:Qe,type:"delete",keys:Re})}).then(function(_t){var $e=_t.numFailures,st=_t.lastResult,_t=_t.failures;if($e===0)return st;throw new fr("".concat(Le.name,".bulkDelete(): ").concat($e," of ").concat(je," operations failed"),_t)})},pn);function pn(){}function va(Re){function Le(_t,wt){if(wt){for(var Rt=arguments.length,Tt=new Array(Rt-1);--Rt;)Tt[Rt-1]=arguments[Rt];return je[_t].subscribe.apply(null,Tt),Re}if(typeof _t=="string")return je[_t]}var je={};Le.addEventType=st;for(var Qe=1,$e=arguments.length;Qe<$e;++Qe)st(arguments[Qe]);return Le;function st(_t,wt,Rt){if(typeof _t!="object"){var Tt;wt=wt||Dt;var Mt={subscribers:[],fire:Rt=Rt||$t,subscribe:function(Ot){Mt.subscribers.indexOf(Ot)===-1&&(Mt.subscribers.push(Ot),Mt.fire=wt(Mt.fire,Ot))},unsubscribe:function(Ot){Mt.subscribers=Mt.subscribers.filter(function(Ut){return Ut!==Ot}),Mt.fire=Mt.subscribers.reduce(wt,Rt)}};return je[_t]=Le[_t]=Mt}m(Tt=_t).forEach(function(Ot){var Ut=Tt[Ot];if(g(Ut))st(Ot,Tt[Ot][0],Tt[Ot][1]);else{if(Ut!=="asap")throw new lt.InvalidArgument("Invalid event config");var Pt=st(Ot,dr,function(){for(var Lt=arguments.length,Vt=new Array(Lt);Lt--;)Vt[Lt]=arguments[Lt];Pt.subscribers.forEach(function(qt){Xe(function(){qt.apply(null,Vt)})})})}})}}function ma(Re,Le){return Fe(Le).from({prototype:Re}),Le}function Zi(Re,Le){return!(Re.filter||Re.algorithm||Re.or)&&(Le?Re.justLimit:!Re.replayFilter)}function cs(Re,Le){Re.filter=Ui(Re.filter,Le)}function us(Re,Le,je){var Qe=Re.replayFilter;Re.replayFilter=Qe?function(){return Ui(Qe(),Le())}:Le,Re.justLimit=je&&!Qe}function Za(Re,Le){if(Re.isPrimKey)return Le.primaryKey;var je=Le.getIndexByKeyPath(Re.index);if(!je)throw new lt.Schema("KeyPath "+Re.index+" on object store "+Le.name+" is not indexed");return je}function w0(Re,Le,je){var Qe=Za(Re,Le.schema);return Le.openCursor({trans:je,values:!Re.keysOnly,reverse:Re.dir==="prev",unique:!!Re.unique,query:{index:Qe,range:Re.range}})}function $a(Re,Le,je,Qe){var $e=Re.replayFilter?Ui(Re.filter,Re.replayFilter()):Re.filter;if(Re.or){var st={},_t=function(wt,Rt,Tt){var Mt,Ot;$e&&!$e(Rt,Tt,function(Ut){return Rt.stop(Ut)},function(Ut){return Rt.fail(Ut)})||((Ot=""+(Mt=Rt.primaryKey))=="[object ArrayBuffer]"&&(Ot=""+new Uint8Array(Mt)),_e(st,Ot)||(st[Ot]=!0,Le(wt,Rt,Tt)))};return Promise.all([Re.or._iterate(_t,je),S0(w0(Re,Qe,je),Re.algorithm,_t,!Re.keysOnly&&Re.valueMapper)])}return S0(w0(Re,Qe,je),Ui(Re.algorithm,$e),Le,!Re.keysOnly&&Re.valueMapper)}function S0(Re,Le,je,Qe){var $e=Zr(Qe?function(st,_t,wt){return je(Qe(st),_t,wt)}:je);return Re.then(function(st){if(st)return st.start(function(){var _t=function(){return st.continue()};Le&&!Le(st,function(wt){return _t=wt},function(wt){st.stop(wt),_t=$t},function(wt){st.fail(wt),_t=$t})||$e(st.value,st,function(wt){return _t=wt}),_t()})})}var gi=Symbol(),ga=(A0.prototype.execute=function(Re){if(this.add!==void 0){var Le=this.add;if(g(Le))return c(c([],g(Re)?Re:[],!0),Le,!0).sort();if(typeof Le=="number")return(Number(Re)||0)+Le;if(typeof Le=="bigint")try{return BigInt(Re)+Le}catch{return BigInt(0)+Le}throw new TypeError("Invalid term ".concat(Le))}if(this.remove!==void 0){var je=this.remove;if(g(je))return g(Re)?Re.filter(function(Qe){return!je.includes(Qe)}).sort():[];if(typeof je=="number")return Number(Re)-je;if(typeof je=="bigint")try{return BigInt(Re)-je}catch{return BigInt(0)-je}throw new TypeError("Invalid subtrahend ".concat(je))}return Le=(Le=this.replacePrefix)===null||Le===void 0?void 0:Le[0],Le&&typeof Re=="string"&&Re.startsWith(Le)?this.replacePrefix[1]+Re.substring(Le.length):Re},A0);function A0(Re){Object.assign(this,Re)}var nu=($r.prototype._read=function(Re,Le){var je=this._ctx;return je.error?je.table._trans(null,vn.bind(null,je.error)):je.table._trans("readonly",Re).then(Le)},$r.prototype._write=function(Re){var Le=this._ctx;return Le.error?Le.table._trans(null,vn.bind(null,Le.error)):Le.table._trans("readwrite",Re,"locked")},$r.prototype._addAlgorithm=function(Re){var Le=this._ctx;Le.algorithm=Ui(Le.algorithm,Re)},$r.prototype._iterate=function(Re,Le){return $a(this._ctx,Re,Le,this._ctx.table.core)},$r.prototype.clone=function(Re){var Le=Object.create(this.constructor.prototype),je=Object.create(this._ctx);return Re&&Te(je,Re),Le._ctx=je,Le},$r.prototype.raw=function(){return this._ctx.valueMapper=null,this},$r.prototype.each=function(Re){var Le=this._ctx;return this._read(function(je){return $a(Le,Re,je,Le.table.core)})},$r.prototype.count=function(Re){var Le=this;return this._read(function(je){var Qe=Le._ctx,$e=Qe.table.core;if(Zi(Qe,!0))return $e.count({trans:je,query:{index:Za(Qe,$e.schema),range:Qe.range}}).then(function(_t){return Math.min(_t,Qe.limit)});var st=0;return $a(Qe,function(){return++st,!1},je,$e).then(function(){return st})}).then(Re)},$r.prototype.sortBy=function(Re,Le){var je=Re.split(".").reverse(),Qe=je[0],$e=je.length-1;function st(Rt,Tt){return Tt?st(Rt[je[Tt]],Tt-1):Rt[Qe]}var _t=this._ctx.dir==="next"?1:-1;function wt(Rt,Tt){return Rt=st(Rt,$e),Tt=st(Tt,$e),Rt<Tt?-_t:Tt<Rt?_t:0}return this.toArray(function(Rt){return Rt.sort(wt)}).then(Le)},$r.prototype.toArray=function(Re){var Le=this;return this._read(function(je){var Qe=Le._ctx;if(Qe.dir==="next"&&Zi(Qe,!0)&&0<Qe.limit){var $e=Qe.valueMapper,st=Za(Qe,Qe.table.core.schema);return Qe.table.core.query({trans:je,limit:Qe.limit,values:!0,query:{index:st,range:Qe.range}}).then(function(wt){return wt=wt.result,$e?wt.map($e):wt})}var _t=[];return $a(Qe,function(wt){return _t.push(wt)},je,Qe.table.core).then(function(){return _t})},Re)},$r.prototype.offset=function(Re){var Le=this._ctx;return Re<=0||(Le.offset+=Re,Zi(Le)?us(Le,function(){var je=Re;return function(Qe,$e){return je===0||(je===1?--je:$e(function(){Qe.advance(je),je=0}),!1)}}):us(Le,function(){var je=Re;return function(){return--je<0}})),this},$r.prototype.limit=function(Re){return this._ctx.limit=Math.min(this._ctx.limit,Re),us(this._ctx,function(){var Le=Re;return function(je,Qe,$e){return--Le<=0&&Qe($e),0<=Le}},!0),this},$r.prototype.until=function(Re,Le){return cs(this._ctx,function(je,Qe,$e){return!Re(je.value)||(Qe($e),Le)}),this},$r.prototype.first=function(Re){return this.limit(1).toArray(function(Le){return Le[0]}).then(Re)},$r.prototype.last=function(Re){return this.reverse().first(Re)},$r.prototype.filter=function(Re){var Le;return cs(this._ctx,function(je){return Re(je.value)}),(Le=this._ctx).isMatch=Ui(Le.isMatch,Re),this},$r.prototype.and=function(Re){return this.filter(Re)},$r.prototype.or=function(Re){return new this.db.WhereClause(this._ctx.table,Re,this)},$r.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},$r.prototype.desc=function(){return this.reverse()},$r.prototype.eachKey=function(Re){var Le=this._ctx;return Le.keysOnly=!Le.isMatch,this.each(function(je,Qe){Re(Qe.key,Qe)})},$r.prototype.eachUniqueKey=function(Re){return this._ctx.unique="unique",this.eachKey(Re)},$r.prototype.eachPrimaryKey=function(Re){var Le=this._ctx;return Le.keysOnly=!Le.isMatch,this.each(function(je,Qe){Re(Qe.primaryKey,Qe)})},$r.prototype.keys=function(Re){var Le=this._ctx;Le.keysOnly=!Le.isMatch;var je=[];return this.each(function(Qe,$e){je.push($e.key)}).then(function(){return je}).then(Re)},$r.prototype.primaryKeys=function(Re){var Le=this._ctx;if(Le.dir==="next"&&Zi(Le,!0)&&0<Le.limit)return this._read(function(Qe){var $e=Za(Le,Le.table.core.schema);return Le.table.core.query({trans:Qe,values:!1,limit:Le.limit,query:{index:$e,range:Le.range}})}).then(function(Qe){return Qe.result}).then(Re);Le.keysOnly=!Le.isMatch;var je=[];return this.each(function(Qe,$e){je.push($e.primaryKey)}).then(function(){return je}).then(Re)},$r.prototype.uniqueKeys=function(Re){return this._ctx.unique="unique",this.keys(Re)},$r.prototype.firstKey=function(Re){return this.limit(1).keys(function(Le){return Le[0]}).then(Re)},$r.prototype.lastKey=function(Re){return this.reverse().firstKey(Re)},$r.prototype.distinct=function(){var Re=this._ctx,Re=Re.index&&Re.table.schema.idxByName[Re.index];if(!Re||!Re.multi)return this;var Le={};return cs(this._ctx,function($e){var Qe=$e.primaryKey.toString(),$e=_e(Le,Qe);return Le[Qe]=!0,!$e}),this},$r.prototype.modify=function(Re){var Le=this,je=this._ctx;return this._write(function(Qe){var $e,st,_t;_t=typeof Re=="function"?Re:($e=m(Re),st=$e.length,function(qt){for(var Gt=!1,Qt=0;Qt<st;++Qt){var Yt=$e[Qt],rr=Re[Yt],xr=ot(qt,Yt);rr instanceof ga?(tt(qt,Yt,rr.execute(xr)),Gt=!0):xr!==rr&&(tt(qt,Yt,rr),Gt=!0)}return Gt});function wt(qt,Yt){var Qt=Yt.failures,Yt=Yt.numFailures;Lt+=qt-Yt;for(var rr=0,xr=m(Qt);rr<xr.length;rr++){var Ir=xr[rr];Pt.push(Qt[Ir])}}var Rt=je.table.core,Tt=Rt.schema.primaryKey,Mt=Tt.outbound,Ot=Tt.extractKey,Ut=Le.db._options.modifyChunkSize||200,Pt=[],Lt=0,Vt=[];return Le.clone().primaryKeys().then(function(qt){function Gt(Yt){var rr=Math.min(Ut,qt.length-Yt);return Rt.getMany({trans:Qe,keys:qt.slice(Yt,Yt+rr),cache:"immutable"}).then(function(xr){for(var Ir=[],hr=[],br=Mt?[]:null,Ar=[],lr=0;lr<rr;++lr){var pr=xr[lr],Ur={value:mt(pr),primKey:qt[Yt+lr]};_t.call(Ur,Ur.value,Ur)!==!1&&(Ur.value==null?Ar.push(qt[Yt+lr]):Mt||Xr(Ot(pr),Ot(Ur.value))===0?(hr.push(Ur.value),Mt&&br.push(qt[Yt+lr])):(Ar.push(qt[Yt+lr]),Ir.push(Ur.value)))}return Promise.resolve(0<Ir.length&&Rt.mutate({trans:Qe,type:"add",values:Ir}).then(function(Kr){for(var Vr in Kr.failures)Ar.splice(parseInt(Vr),1);wt(Ir.length,Kr)})).then(function(){return(0<hr.length||Qt&&typeof Re=="object")&&Rt.mutate({trans:Qe,type:"put",keys:br,values:hr,criteria:Qt,changeSpec:typeof Re!="function"&&Re,isAdditionalChunk:0<Yt}).then(function(Kr){return wt(hr.length,Kr)})}).then(function(){return(0<Ar.length||Qt&&Re===ls)&&Rt.mutate({trans:Qe,type:"delete",keys:Ar,criteria:Qt,isAdditionalChunk:0<Yt}).then(function(Kr){return wt(Ar.length,Kr)})}).then(function(){return qt.length>Yt+rr&&Gt(Yt+Ut)})})}var Qt=Zi(je)&&je.limit===1/0&&(typeof Re!="function"||Re===ls)&&{index:je.index,range:je.range};return Gt(0).then(function(){if(0<Pt.length)throw new Kt("Error modifying one or more objects",Pt,Lt,Vt);return qt.length})})})},$r.prototype.delete=function(){var Re=this._ctx,Le=Re.range;return Zi(Re)&&(Re.isPrimKey||Le.type===3)?this._write(function(je){var Qe=Re.table.core.schema.primaryKey,$e=Le;return Re.table.core.count({trans:je,query:{index:Qe,range:$e}}).then(function(st){return Re.table.core.mutate({trans:je,type:"deleteRange",range:$e}).then(function(_t){var wt=_t.failures;if(_t.lastResult,_t.results,_t=_t.numFailures,_t)throw new Kt("Could not delete some values",Object.keys(wt).map(function(Rt){return wt[Rt]}),st-_t);return st-_t})})}):this.modify(ls)},$r);function $r(){}var ls=function(Re,Le){return Le.value=null};function iu(Re,Le){return Re<Le?-1:Re===Le?0:1}function au(Re,Le){return Le<Re?-1:Re===Le?0:1}function Yr(Re,Le,je){return Re=Re instanceof I0?new Re.Collection(Re):Re,Re._ctx.error=new(je||TypeError)(Le),Re}function $i(Re){return new Re.Collection(Re,function(){return fs("")}).limit(0)}function eo(Re,Le,je,Qe){var $e,st,_t,wt,Rt,Tt,Mt,Ot=je.length;if(!je.every(function(Lt){return typeof Lt=="string"}))return Yr(Re,v0);function Ut(Lt){$e=Lt==="next"?function(qt){return qt.toUpperCase()}:function(qt){return qt.toLowerCase()},st=Lt==="next"?function(qt){return qt.toLowerCase()}:function(qt){return qt.toUpperCase()},_t=Lt==="next"?iu:au;var Vt=je.map(function(qt){return{lower:st(qt),upper:$e(qt)}}).sort(function(qt,Gt){return _t(qt.lower,Gt.lower)});wt=Vt.map(function(qt){return qt.upper}),Rt=Vt.map(function(qt){return qt.lower}),Mt=(Tt=Lt)==="next"?"":Qe}Ut("next"),Re=new Re.Collection(Re,function(){return yi(wt[0],Rt[Ot-1]+Qe)}),Re._ondirectionchange=function(Lt){Ut(Lt)};var Pt=0;return Re._addAlgorithm(function(Lt,Vt,qt){var Gt=Lt.key;if(typeof Gt!="string")return!1;var Qt=st(Gt);if(Le(Qt,Rt,Pt))return!0;for(var Yt=null,rr=Pt;rr<Ot;++rr){var xr=function(Ir,hr,br,Ar,lr,pr){for(var Ur=Math.min(Ir.length,Ar.length),Kr=-1,Vr=0;Vr<Ur;++Vr){var Zn=hr[Vr];if(Zn!==Ar[Vr])return lr(Ir[Vr],br[Vr])<0?Ir.substr(0,Vr)+br[Vr]+br.substr(Vr+1):lr(Ir[Vr],Ar[Vr])<0?Ir.substr(0,Vr)+Ar[Vr]+br.substr(Vr+1):0<=Kr?Ir.substr(0,Kr)+hr[Kr]+br.substr(Kr+1):null;lr(Ir[Vr],Zn)<0&&(Kr=Vr)}return Ur<Ar.length&&pr==="next"?Ir+br.substr(Ir.length):Ur<Ir.length&&pr==="prev"?Ir.substr(0,br.length):Kr<0?null:Ir.substr(0,Kr)+Ar[Kr]+br.substr(Kr+1)}(Gt,Qt,wt[rr],Rt[rr],_t,Tt);xr===null&&Yt===null?Pt=rr+1:(Yt===null||0<_t(Yt,xr))&&(Yt=xr)}return Vt(Yt!==null?function(){Lt.continue(Yt+Mt)}:qt),!1}),Re}function yi(Re,Le,je,Qe){return{type:2,lower:Re,upper:Le,lowerOpen:je,upperOpen:Qe}}function fs(Re){return{type:1,lower:Re,upper:Re}}var I0=(Object.defineProperty(Sn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Sn.prototype.between=function(Re,Le,je,Qe){je=je!==!1,Qe=Qe===!0;try{return 0<this._cmp(Re,Le)||this._cmp(Re,Le)===0&&(je||Qe)&&(!je||!Qe)?$i(this):new this.Collection(this,function(){return yi(Re,Le,!je,!Qe)})}catch{return Yr(this,li)}},Sn.prototype.equals=function(Re){return Re==null?Yr(this,li):new this.Collection(this,function(){return fs(Re)})},Sn.prototype.above=function(Re){return Re==null?Yr(this,li):new this.Collection(this,function(){return yi(Re,void 0,!0)})},Sn.prototype.aboveOrEqual=function(Re){return Re==null?Yr(this,li):new this.Collection(this,function(){return yi(Re,void 0,!1)})},Sn.prototype.below=function(Re){return Re==null?Yr(this,li):new this.Collection(this,function(){return yi(void 0,Re,!1,!0)})},Sn.prototype.belowOrEqual=function(Re){return Re==null?Yr(this,li):new this.Collection(this,function(){return yi(void 0,Re)})},Sn.prototype.startsWith=function(Re){return typeof Re!="string"?Yr(this,v0):this.between(Re,Re+Ii,!0,!0)},Sn.prototype.startsWithIgnoreCase=function(Re){return Re===""?this.startsWith(Re):eo(this,function(Le,je){return Le.indexOf(je[0])===0},[Re],Ii)},Sn.prototype.equalsIgnoreCase=function(Re){return eo(this,function(Le,je){return Le===je[0]},[Re],"")},Sn.prototype.anyOfIgnoreCase=function(){var Re=St.apply(bt,arguments);return Re.length===0?$i(this):eo(this,function(Le,je){return je.indexOf(Le)!==-1},Re,"")},Sn.prototype.startsWithAnyOfIgnoreCase=function(){var Re=St.apply(bt,arguments);return Re.length===0?$i(this):eo(this,function(Le,je){return je.some(function(Qe){return Le.indexOf(Qe)===0})},Re,Ii)},Sn.prototype.anyOf=function(){var Re=this,Le=St.apply(bt,arguments),je=this._cmp;try{Le.sort(je)}catch{return Yr(this,li)}if(Le.length===0)return $i(this);var Qe=new this.Collection(this,function(){return yi(Le[0],Le[Le.length-1])});Qe._ondirectionchange=function(st){je=st==="next"?Re._ascending:Re._descending,Le.sort(je)};var $e=0;return Qe._addAlgorithm(function(st,_t,wt){for(var Rt=st.key;0<je(Rt,Le[$e]);)if(++$e===Le.length)return _t(wt),!1;return je(Rt,Le[$e])===0||(_t(function(){st.continue(Le[$e])}),!1)}),Qe},Sn.prototype.notEqual=function(Re){return this.inAnyRange([[-1/0,Re],[Re,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Sn.prototype.noneOf=function(){var Re=St.apply(bt,arguments);if(Re.length===0)return new this.Collection(this);try{Re.sort(this._ascending)}catch{return Yr(this,li)}var Le=Re.reduce(function(je,Qe){return je?je.concat([[je[je.length-1][1],Qe]]):[[-1/0,Qe]]},null);return Le.push([Re[Re.length-1],this.db._maxKey]),this.inAnyRange(Le,{includeLowers:!1,includeUppers:!1})},Sn.prototype.inAnyRange=function(Gt,Le){var je=this,Qe=this._cmp,$e=this._ascending,st=this._descending,_t=this._min,wt=this._max;if(Gt.length===0)return $i(this);if(!Gt.every(function(Qt){return Qt[0]!==void 0&&Qt[1]!==void 0&&$e(Qt[0],Qt[1])<=0}))return Yr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",lt.InvalidArgument);var Rt=!Le||Le.includeLowers!==!1,Tt=Le&&Le.includeUppers===!0,Mt,Ot=$e;function Ut(Qt,Yt){return Ot(Qt[0],Yt[0])}try{(Mt=Gt.reduce(function(Qt,Yt){for(var rr=0,xr=Qt.length;rr<xr;++rr){var Ir=Qt[rr];if(Qe(Yt[0],Ir[1])<0&&0<Qe(Yt[1],Ir[0])){Ir[0]=_t(Ir[0],Yt[0]),Ir[1]=wt(Ir[1],Yt[1]);break}}return rr===xr&&Qt.push(Yt),Qt},[])).sort(Ut)}catch{return Yr(this,li)}var Pt=0,Lt=Tt?function(Qt){return 0<$e(Qt,Mt[Pt][1])}:function(Qt){return 0<=$e(Qt,Mt[Pt][1])},Vt=Rt?function(Qt){return 0<st(Qt,Mt[Pt][0])}:function(Qt){return 0<=st(Qt,Mt[Pt][0])},qt=Lt,Gt=new this.Collection(this,function(){return yi(Mt[0][0],Mt[Mt.length-1][1],!Rt,!Tt)});return Gt._ondirectionchange=function(Qt){Ot=Qt==="next"?(qt=Lt,$e):(qt=Vt,st),Mt.sort(Ut)},Gt._addAlgorithm(function(Qt,Yt,rr){for(var xr,Ir=Qt.key;qt(Ir);)if(++Pt===Mt.length)return Yt(rr),!1;return!Lt(xr=Ir)&&!Vt(xr)||(je._cmp(Ir,Mt[Pt][1])===0||je._cmp(Ir,Mt[Pt][0])===0||Yt(function(){Ot===$e?Qt.continue(Mt[Pt][0]):Qt.continue(Mt[Pt][1])}),!1)}),Gt},Sn.prototype.startsWithAnyOf=function(){var Re=St.apply(bt,arguments);return Re.every(function(Le){return typeof Le=="string"})?Re.length===0?$i(this):this.inAnyRange(Re.map(function(Le){return[Le,Le+Ii]})):Yr(this,"startsWithAnyOf() only works with strings")},Sn);function Sn(){}function ni(Re){return Zr(function(Le){return ea(Le),Re(Le.target.error),!1})}function ea(Re){Re.stopPropagation&&Re.stopPropagation(),Re.preventDefault&&Re.preventDefault()}var ya="storagemutated",ds="x-storagemutated-1",Ci=va(null,ya),ou=(fi.prototype._lock=function(){return He(!Cr.global),++this._reculock,this._reculock!==1||Cr.global||(Cr.lockOwnerFor=this),this},fi.prototype._unlock=function(){if(He(!Cr.global),--this._reculock==0)for(Cr.global||(Cr.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var Re=this._blockedFuncs.shift();try{hn(Re[1],Re[0])}catch{}}return this},fi.prototype._locked=function(){return this._reculock&&Cr.lockOwnerFor!==this},fi.prototype.create=function(Re){var Le=this;if(!this.mode)return this;var je=this.db.idbdb,Qe=this.db._state.dbOpenError;if(He(!this.idbtrans),!Re&&!je)switch(Qe&&Qe.name){case"DatabaseClosedError":throw new lt.DatabaseClosed(Qe);case"MissingAPIError":throw new lt.MissingAPI(Qe.message,Qe);default:throw new lt.OpenFailed(Qe)}if(!this.active)throw new lt.TransactionInactive;return He(this._completion._state===null),(Re=this.idbtrans=Re||(this.db.core||je).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Zr(function($e){ea($e),Le._reject(Re.error)}),Re.onabort=Zr(function($e){ea($e),Le.active&&Le._reject(new lt.Abort(Re.error)),Le.active=!1,Le.on("abort").fire($e)}),Re.oncomplete=Zr(function(){Le.active=!1,Le._resolve(),"mutatedParts"in Re&&Ci.storagemutated.fire(Re.mutatedParts)}),this},fi.prototype._promise=function(Re,Le,je){var Qe=this;if(Re==="readwrite"&&this.mode!=="readwrite")return vn(new lt.ReadOnly("Transaction is readonly"));if(!this.active)return vn(new lt.TransactionInactive);if(this._locked())return new wr(function(st,_t){Qe._blockedFuncs.push([function(){Qe._promise(Re,Le,je).then(st,_t)},Cr])});if(je)return dn(function(){var st=new wr(function(_t,wt){Qe._lock();var Rt=Le(_t,wt,Qe);Rt&&Rt.then&&Rt.then(_t,wt)});return st.finally(function(){return Qe._unlock()}),st._lib=!0,st});var $e=new wr(function(st,_t){var wt=Le(st,_t,Qe);wt&&wt.then&&wt.then(st,_t)});return $e._lib=!0,$e},fi.prototype._root=function(){return this.parent?this.parent._root():this},fi.prototype.waitFor=function(Re){var Le,je=this._root(),Qe=wr.resolve(Re);je._waitingFor?je._waitingFor=je._waitingFor.then(function(){return Qe}):(je._waitingFor=Qe,je._waitingQueue=[],Le=je.idbtrans.objectStore(je.storeNames[0]),function st(){for(++je._spinCount;je._waitingQueue.length;)je._waitingQueue.shift()();je._waitingFor&&(Le.get(-1/0).onsuccess=st)}());var $e=je._waitingFor;return new wr(function(st,_t){Qe.then(function(wt){return je._waitingQueue.push(Zr(st.bind(null,wt)))},function(wt){return je._waitingQueue.push(Zr(_t.bind(null,wt)))}).finally(function(){je._waitingFor===$e&&(je._waitingFor=null)})})},fi.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new lt.Abort))},fi.prototype.table=function(Re){var Le=this._memoizedTables||(this._memoizedTables={});if(_e(Le,Re))return Le[Re];var je=this.schema[Re];if(!je)throw new lt.NotFound("Table "+Re+" not part of transaction");return je=new this.db.Table(Re,je,this),je.core=this.db.core.table(Re),Le[Re]=je},fi);function fi(){}function xs(Re,Le,je,Qe,$e,st,_t){return{name:Re,keyPath:Le,unique:je,multi:Qe,auto:$e,compound:st,src:(je&&!_t?"&":"")+(Qe?"*":"")+($e?"++":"")+C0(Le)}}function C0(Re){return typeof Re=="string"?Re:Re?"["+[].join.call(Re,"+")+"]":""}function hs(Re,Le,je){return{name:Re,primKey:Le,indexes:je,mappedClass:null,idxByName:(Qe=function($e){return[$e.name,$e]},je.reduce(function($e,st,_t){return _t=Qe(st,_t),_t&&($e[_t[0]]=_t[1]),$e},{}))};var Qe}var ba=function(Re){try{return Re.only([[]]),ba=function(){return[[]]},[[]]}catch{return ba=function(){return Ii},Ii}};function ps(Re){return Re==null?function(){}:typeof Re=="string"?(Le=Re).split(".").length===1?function(je){return je[Le]}:function(je){return ot(je,Le)}:function(je){return ot(je,Re)};var Le}function k0(Re){return[].slice.call(Re)}var su=0;function Ea(Re){return Re==null?":id":typeof Re=="string"?Re:"[".concat(Re.join("+"),"]")}function cu(Re,Le,Rt){function Qe(qt){if(qt.type===3)return null;if(qt.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var Pt=qt.lower,Lt=qt.upper,Vt=qt.lowerOpen,qt=qt.upperOpen;return Pt===void 0?Lt===void 0?null:Le.upperBound(Lt,!!qt):Lt===void 0?Le.lowerBound(Pt,!!Vt):Le.bound(Pt,Lt,!!Vt,!!qt)}function $e(Ut){var Pt,Lt=Ut.name;return{name:Lt,schema:Ut,mutate:function(Vt){var qt=Vt.trans,Gt=Vt.type,Qt=Vt.keys,Yt=Vt.values,rr=Vt.range;return new Promise(function(xr,Ir){xr=Zr(xr);var hr=qt.objectStore(Lt),br=hr.keyPath==null,Ar=Gt==="put"||Gt==="add";if(!Ar&&Gt!=="delete"&&Gt!=="deleteRange")throw new Error("Invalid operation type: "+Gt);var lr,pr=(Qt||Yt||{length:1}).length;if(Qt&&Yt&&Qt.length!==Yt.length)throw new Error("Given keys array must have same length as given values array.");if(pr===0)return xr({numFailures:0,failures:{},results:[],lastResult:void 0});function Ur(Rn){++Zn,ea(Rn)}var Kr=[],Vr=[],Zn=0;if(Gt==="deleteRange"){if(rr.type===4)return xr({numFailures:Zn,failures:Vr,results:[],lastResult:void 0});rr.type===3?Kr.push(lr=hr.clear()):Kr.push(lr=hr.delete(Qe(rr)))}else{var br=Ar?br?[Yt,Qt]:[Yt,null]:[Qt,null],Hr=br[0],An=br[1];if(Ar)for(var Gr=0;Gr<pr;++Gr)Kr.push(lr=An&&An[Gr]!==void 0?hr[Gt](Hr[Gr],An[Gr]):hr[Gt](Hr[Gr])),lr.onerror=Ur;else for(Gr=0;Gr<pr;++Gr)Kr.push(lr=hr[Gt](Hr[Gr])),lr.onerror=Ur}function ra(Rn){Rn=Rn.target.result,Kr.forEach(function(xi,bo){return xi.error!=null&&(Vr[bo]=xi.error)}),xr({numFailures:Zn,failures:Vr,results:Gt==="delete"?Qt:Kr.map(function(xi){return xi.result}),lastResult:Rn})}lr.onerror=function(Rn){Ur(Rn),ra(Rn)},lr.onsuccess=ra})},getMany:function(Vt){var qt=Vt.trans,Gt=Vt.keys;return new Promise(function(Qt,Yt){Qt=Zr(Qt);for(var rr,xr=qt.objectStore(Lt),Ir=Gt.length,hr=new Array(Ir),br=0,Ar=0,lr=function(Kr){Kr=Kr.target,hr[Kr._pos]=Kr.result,++Ar===br&&Qt(hr)},pr=ni(Yt),Ur=0;Ur<Ir;++Ur)Gt[Ur]!=null&&((rr=xr.get(Gt[Ur]))._pos=Ur,rr.onsuccess=lr,rr.onerror=pr,++br);br===0&&Qt(hr)})},get:function(Vt){var qt=Vt.trans,Gt=Vt.key;return new Promise(function(Qt,Yt){Qt=Zr(Qt);var rr=qt.objectStore(Lt).get(Gt);rr.onsuccess=function(xr){return Qt(xr.target.result)},rr.onerror=ni(Yt)})},query:(Pt=Tt,function(Vt){return new Promise(function(qt,Gt){qt=Zr(qt);var Qt,Yt,rr,br=Vt.trans,xr=Vt.values,Ir=Vt.limit,lr=Vt.query,hr=Ir===1/0?void 0:Ir,Ar=lr.index,lr=lr.range,br=br.objectStore(Lt),Ar=Ar.isPrimaryKey?br:br.index(Ar.name),lr=Qe(lr);if(Ir===0)return qt({result:[]});Pt?((hr=xr?Ar.getAll(lr,hr):Ar.getAllKeys(lr,hr)).onsuccess=function(pr){return qt({result:pr.target.result})},hr.onerror=ni(Gt)):(Qt=0,Yt=!xr&&"openKeyCursor"in Ar?Ar.openKeyCursor(lr):Ar.openCursor(lr),rr=[],Yt.onsuccess=function(pr){var Ur=Yt.result;return Ur?(rr.push(xr?Ur.value:Ur.primaryKey),++Qt===Ir?qt({result:rr}):void Ur.continue()):qt({result:rr})},Yt.onerror=ni(Gt))})}),openCursor:function(Vt){var qt=Vt.trans,Gt=Vt.values,Qt=Vt.query,Yt=Vt.reverse,rr=Vt.unique;return new Promise(function(xr,Ir){xr=Zr(xr);var Ar=Qt.index,hr=Qt.range,br=qt.objectStore(Lt),br=Ar.isPrimaryKey?br:br.index(Ar.name),Ar=Yt?rr?"prevunique":"prev":rr?"nextunique":"next",lr=!Gt&&"openKeyCursor"in br?br.openKeyCursor(Qe(hr),Ar):br.openCursor(Qe(hr),Ar);lr.onerror=ni(Ir),lr.onsuccess=Zr(function(pr){var Ur,Kr,Vr,Zn,Hr=lr.result;Hr?(Hr.___id=++su,Hr.done=!1,Ur=Hr.continue.bind(Hr),Kr=(Kr=Hr.continuePrimaryKey)&&Kr.bind(Hr),Vr=Hr.advance.bind(Hr),Zn=function(){throw new Error("Cursor not stopped")},Hr.trans=qt,Hr.stop=Hr.continue=Hr.continuePrimaryKey=Hr.advance=function(){throw new Error("Cursor not started")},Hr.fail=Zr(Ir),Hr.next=function(){var An=this,Gr=1;return this.start(function(){return Gr--?An.continue():An.stop()}).then(function(){return An})},Hr.start=function(An){function Gr(){if(lr.result)try{An()}catch(Rn){Hr.fail(Rn)}else Hr.done=!0,Hr.start=function(){throw new Error("Cursor behind last entry")},Hr.stop()}var ra=new Promise(function(Rn,xi){Rn=Zr(Rn),lr.onerror=ni(xi),Hr.fail=xi,Hr.stop=function(bo){Hr.stop=Hr.continue=Hr.continuePrimaryKey=Hr.advance=Zn,Rn(bo)}});return lr.onsuccess=Zr(function(Rn){lr.onsuccess=Gr,Gr()}),Hr.continue=Ur,Hr.continuePrimaryKey=Kr,Hr.advance=Vr,Gr(),ra},xr(Hr)):xr(null)},Ir)})},count:function(Vt){var qt=Vt.query,Gt=Vt.trans,Qt=qt.index,Yt=qt.range;return new Promise(function(rr,xr){var Ir=Gt.objectStore(Lt),hr=Qt.isPrimaryKey?Ir:Ir.index(Qt.name),Ir=Qe(Yt),hr=Ir?hr.count(Ir):hr.count();hr.onsuccess=Zr(function(br){return rr(br.target.result)}),hr.onerror=ni(xr)})}}}var st,_t,wt,Mt=(_t=Rt,wt=k0((st=Re).objectStoreNames),{schema:{name:st.name,tables:wt.map(function(Ut){return _t.objectStore(Ut)}).map(function(Ut){var Pt=Ut.keyPath,qt=Ut.autoIncrement,Lt=g(Pt),Vt={},qt={name:Ut.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:Pt==null,compound:Lt,keyPath:Pt,autoIncrement:qt,unique:!0,extractKey:ps(Pt)},indexes:k0(Ut.indexNames).map(function(Gt){return Ut.index(Gt)}).map(function(rr){var Qt=rr.name,Yt=rr.unique,xr=rr.multiEntry,rr=rr.keyPath,xr={name:Qt,compound:g(rr),keyPath:rr,unique:Yt,multiEntry:xr,extractKey:ps(rr)};return Vt[Ea(rr)]=xr}),getIndexByKeyPath:function(Gt){return Vt[Ea(Gt)]}};return Vt[":id"]=qt.primaryKey,Pt!=null&&(Vt[Ea(Pt)]=qt.primaryKey),qt})},hasGetAll:0<wt.length&&"getAll"in _t.objectStore(wt[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),Rt=Mt.schema,Tt=Mt.hasGetAll,Mt=Rt.tables.map($e),Ot={};return Mt.forEach(function(Ut){return Ot[Ut.name]=Ut}),{stack:"dbcore",transaction:Re.transaction.bind(Re),table:function(Ut){if(!Ot[Ut])throw new Error("Table '".concat(Ut,"' not found"));return Ot[Ut]},MIN_KEY:-1/0,MAX_KEY:ba(Le),schema:Rt}}function uu(Re,Le,je,Qe){var $e=je.IDBKeyRange;return je.indexedDB,{dbcore:(Qe=cu(Le,$e,Qe),Re.dbcore.reduce(function(st,_t){return _t=_t.create,i(i({},st),_t(st))},Qe))}}function to(Re,Qe){var je=Qe.db,Qe=uu(Re._middlewares,je,Re._deps,Qe);Re.core=Qe.dbcore,Re.tables.forEach(function($e){var st=$e.name;Re.core.schema.tables.some(function(_t){return _t.name===st})&&($e.core=Re.core.table(st),Re[st]instanceof Re.Table&&(Re[st].core=$e.core))})}function wa(Re,Le,je,Qe){je.forEach(function($e){var st=Qe[$e];Le.forEach(function(_t){var wt=function Rt(Tt,Mt){return Ne(Tt,Mt)||(Tt=Ie(Tt))&&Rt(Tt,Mt)}(_t,$e);(!wt||"value"in wt&&wt.value===void 0)&&(_t===Re.Transaction.prototype||_t instanceof Re.Transaction?qe(_t,$e,{get:function(){return this.table($e)},set:function(Rt){Ae(this,$e,{value:Rt,writable:!0,configurable:!0,enumerable:!0})}}):_t[$e]=new Re.Table($e,st))})})}function ro(Re,Le){Le.forEach(function(je){for(var Qe in je)je[Qe]instanceof Re.Table&&delete je[Qe]})}function O0(Re,Le){return Re._cfg.version-Le._cfg.version}function _s(Re,Le,je,Qe){var $e=Re._dbSchema;je.objectStoreNames.contains("$meta")&&!$e.$meta&&($e.$meta=hs("$meta",D0("")[0],[]),Re._storeNames.push("$meta"));var st=Re._createTransaction("readwrite",Re._storeNames,$e);st.create(je),st._completion.catch(Qe);var _t=st._reject.bind(st),wt=Cr.transless||Cr;dn(function(){return Cr.trans=st,Cr.transless=wt,Le!==0?(to(Re,je),Tt=Le,((Rt=st).storeNames.includes("$meta")?Rt.table("$meta").get("version").then(function(Mt){return Mt??Tt}):wr.resolve(Tt)).then(function(Mt){return Ut=Mt,Pt=st,Lt=je,Vt=[],Mt=(Ot=Re)._versions,qt=Ot._dbSchema=io(0,Ot.idbdb,Lt),(Mt=Mt.filter(function(Gt){return Gt._cfg.version>=Ut})).length!==0?(Mt.forEach(function(Gt){Vt.push(function(){var Qt=qt,Yt=Gt._cfg.dbschema;ao(Ot,Qt,Lt),ao(Ot,Yt,Lt),qt=Ot._dbSchema=Yt;var rr=vs(Qt,Yt);rr.add.forEach(function(Ar){no(Lt,Ar[0],Ar[1].primKey,Ar[1].indexes)}),rr.change.forEach(function(Ar){if(Ar.recreate)throw new lt.Upgrade("Not yet support for changing primary key");var lr=Lt.objectStore(Ar.name);Ar.add.forEach(function(pr){return Sa(lr,pr)}),Ar.change.forEach(function(pr){lr.deleteIndex(pr.name),Sa(lr,pr)}),Ar.del.forEach(function(pr){return lr.deleteIndex(pr)})});var xr=Gt._cfg.contentUpgrade;if(xr&&Gt._cfg.version>Ut){to(Ot,Lt),Pt._memoizedTables={};var Ir=gt(Yt);rr.del.forEach(function(Ar){Ir[Ar]=Qt[Ar]}),ro(Ot,[Ot.Transaction.prototype]),wa(Ot,[Ot.Transaction.prototype],m(Ir),Ir),Pt.schema=Ir;var hr,br=ct(xr);return br&&wn(),rr=wr.follow(function(){var Ar;(hr=xr(Pt))&&br&&(Ar=xn.bind(null,null),hr.then(Ar,Ar))}),hr&&typeof hr.then=="function"?wr.resolve(hr):rr.then(function(){return hr})}}),Vt.push(function(Qt){var Yt,rr,xr=Gt._cfg.dbschema;Yt=xr,rr=Qt,[].slice.call(rr.db.objectStoreNames).forEach(function(Ir){return Yt[Ir]==null&&rr.db.deleteObjectStore(Ir)}),ro(Ot,[Ot.Transaction.prototype]),wa(Ot,[Ot.Transaction.prototype],Ot._storeNames,Ot._dbSchema),Pt.schema=Ot._dbSchema}),Vt.push(function(Qt){Ot.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(Ot.idbdb.version/10)===Gt._cfg.version?(Ot.idbdb.deleteObjectStore("$meta"),delete Ot._dbSchema.$meta,Ot._storeNames=Ot._storeNames.filter(function(Yt){return Yt!=="$meta"})):Qt.objectStore("$meta").put(Gt._cfg.version,"version"))})}),function Gt(){return Vt.length?wr.resolve(Vt.shift()(Pt.idbtrans)).then(Gt):wr.resolve()}().then(function(){T0(qt,Lt)})):wr.resolve();var Ot,Ut,Pt,Lt,Vt,qt}).catch(_t)):(m($e).forEach(function(Mt){no(je,Mt,$e[Mt].primKey,$e[Mt].indexes)}),to(Re,je),void wr.follow(function(){return Re.on.populate.fire(st)}).catch(_t));var Rt,Tt})}function lu(Re,Le){T0(Re._dbSchema,Le),Le.db.version%10!=0||Le.objectStoreNames.contains("$meta")||Le.db.createObjectStore("$meta").add(Math.ceil(Le.db.version/10-1),"version");var je=io(0,Re.idbdb,Le);ao(Re,Re._dbSchema,Le);for(var Qe=0,$e=vs(je,Re._dbSchema).change;Qe<$e.length;Qe++){var st=function(_t){if(_t.change.length||_t.recreate)return console.warn("Unable to patch indexes of table ".concat(_t.name," because it has changes on the type of index or primary key.")),{value:void 0};var wt=Le.objectStore(_t.name);_t.add.forEach(function(Rt){nt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(_t.name,".").concat(Rt.src)),Sa(wt,Rt)})}($e[Qe]);if(typeof st=="object")return st.value}}function vs(Re,Le){var je,Qe={del:[],add:[],change:[]};for(je in Re)Le[je]||Qe.del.push(je);for(je in Le){var $e=Re[je],st=Le[je];if($e){var _t={name:je,def:st,recreate:!1,del:[],add:[],change:[]};if(""+($e.primKey.keyPath||"")!=""+(st.primKey.keyPath||"")||$e.primKey.auto!==st.primKey.auto)_t.recreate=!0,Qe.change.push(_t);else{var wt=$e.idxByName,Rt=st.idxByName,Tt=void 0;for(Tt in wt)Rt[Tt]||_t.del.push(Tt);for(Tt in Rt){var Mt=wt[Tt],Ot=Rt[Tt];Mt?Mt.src!==Ot.src&&_t.change.push(Ot):_t.add.push(Ot)}(0<_t.del.length||0<_t.add.length||0<_t.change.length)&&Qe.change.push(_t)}}else Qe.add.push([je,st])}return Qe}function no(Re,Le,je,Qe){var $e=Re.db.createObjectStore(Le,je.keyPath?{keyPath:je.keyPath,autoIncrement:je.auto}:{autoIncrement:je.auto});return Qe.forEach(function(st){return Sa($e,st)}),$e}function T0(Re,Le){m(Re).forEach(function(je){Le.db.objectStoreNames.contains(je)||(nt&&console.debug("Dexie: Creating missing table",je),no(Le,je,Re[je].primKey,Re[je].indexes))})}function Sa(Re,Le){Re.createIndex(Le.name,Le.keyPath,{unique:Le.unique,multiEntry:Le.multi})}function io(Re,Le,je){var Qe={};return Ue(Le.objectStoreNames,0).forEach(function($e){for(var st=je.objectStore($e),_t=xs(C0(Tt=st.keyPath),Tt||"",!0,!1,!!st.autoIncrement,Tt&&typeof Tt!="string",!0),wt=[],Rt=0;Rt<st.indexNames.length;++Rt){var Mt=st.index(st.indexNames[Rt]),Tt=Mt.keyPath,Mt=xs(Mt.name,Tt,!!Mt.unique,!!Mt.multiEntry,!1,Tt&&typeof Tt!="string",!1);wt.push(Mt)}Qe[$e]=hs($e,_t,wt)}),Qe}function ao(Re,Le,je){for(var Qe=je.db.objectStoreNames,$e=0;$e<Qe.length;++$e){var st=Qe[$e],_t=je.objectStore(st);Re._hasGetAll="getAll"in _t;for(var wt=0;wt<_t.indexNames.length;++wt){var Rt=_t.indexNames[wt],Tt=_t.index(Rt).keyPath,Mt=typeof Tt=="string"?Tt:"["+Ue(Tt).join("+")+"]";!Le[st]||(Tt=Le[st].idxByName[Mt])&&(Tt.name=Rt,delete Le[st].idxByName[Mt],Le[st].idxByName[Rt]=Tt)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&f.WorkerGlobalScope&&f instanceof f.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(Re._hasGetAll=!1)}function D0(Re){return Re.split(",").map(function(Le,je){var Qe=(Le=Le.trim()).replace(/([&*]|\+\+)/g,""),$e=/^\[/.test(Qe)?Qe.match(/^\[(.*)\]$/)[1].split("+"):Qe;return xs(Qe,$e||null,/\&/.test(Le),/\*/.test(Le),/\+\+/.test(Le),g($e),je===0)})}var fu=(oo.prototype._parseStoresSpec=function(Re,Le){m(Re).forEach(function(je){if(Re[je]!==null){var Qe=D0(Re[je]),$e=Qe.shift();if($e.unique=!0,$e.multi)throw new lt.Schema("Primary key cannot be multi-valued");Qe.forEach(function(st){if(st.auto)throw new lt.Schema("Only primary key can be marked as autoIncrement (++)");if(!st.keyPath)throw new lt.Schema("Index must have a name and cannot be an empty string")}),Le[je]=hs(je,$e,Qe)}})},oo.prototype.stores=function(je){var Le=this.db;this._cfg.storesSource=this._cfg.storesSource?Te(this._cfg.storesSource,je):je;var je=Le._versions,Qe={},$e={};return je.forEach(function(st){Te(Qe,st._cfg.storesSource),$e=st._cfg.dbschema={},st._parseStoresSpec(Qe,$e)}),Le._dbSchema=$e,ro(Le,[Le._allTables,Le,Le.Transaction.prototype]),wa(Le,[Le._allTables,Le,Le.Transaction.prototype,this._cfg.tables],m($e),$e),Le._storeNames=m($e),this},oo.prototype.upgrade=function(Re){return this._cfg.contentUpgrade=er(this._cfg.contentUpgrade||$t,Re),this},oo);function oo(){}function so(Re,Le){var je=Re._dbNamesDB;return je||(je=Re._dbNamesDB=new di(Ja,{addons:[],indexedDB:Re,IDBKeyRange:Le})).version(1).stores({dbnames:"name"}),je.table("dbnames")}function co(Re){return Re&&typeof Re.databases=="function"}function uo(Re){return dn(function(){return Cr.letThrough=!0,Re()})}function lo(Re){return!("from"in Re)}var Dn=function(Re,Le){if(!this){var je=new Dn;return Re&&"d"in Re&&Te(je,Re),je}Te(this,arguments.length?{d:1,from:Re,to:1<arguments.length?Le:Re}:{d:0})};function Aa(Re,Le,je){var Qe=Xr(Le,je);if(!isNaN(Qe)){if(0<Qe)throw RangeError();if(lo(Re))return Te(Re,{from:Le,to:je,d:1});var $e=Re.l,Qe=Re.r;if(Xr(je,Re.from)<0)return $e?Aa($e,Le,je):Re.l={from:Le,to:je,d:1,l:null,r:null},F0(Re);if(0<Xr(Le,Re.to))return Qe?Aa(Qe,Le,je):Re.r={from:Le,to:je,d:1,l:null,r:null},F0(Re);Xr(Le,Re.from)<0&&(Re.from=Le,Re.l=null,Re.d=Qe?Qe.d+1:1),0<Xr(je,Re.to)&&(Re.to=je,Re.r=null,Re.d=Re.l?Re.l.d+1:1),je=!Re.r,$e&&!Re.l&&Ia(Re,$e),Qe&&je&&Ia(Re,Qe)}}function Ia(Re,Le){lo(Le)||function je(Qe,Rt){var st=Rt.from,_t=Rt.to,wt=Rt.l,Rt=Rt.r;Aa(Qe,st,_t),wt&&je(Qe,wt),Rt&&je(Qe,Rt)}(Re,Le)}function R0(Re,Le){var je=Ca(Le),Qe=je.next();if(Qe.done)return!1;for(var $e=Qe.value,st=Ca(Re),_t=st.next($e.from),wt=_t.value;!Qe.done&&!_t.done;){if(Xr(wt.from,$e.to)<=0&&0<=Xr(wt.to,$e.from))return!0;Xr($e.from,wt.from)<0?$e=(Qe=je.next(wt.from)).value:wt=(_t=st.next($e.from)).value}return!1}function Ca(Re){var Le=lo(Re)?null:{s:0,n:Re};return{next:function(je){for(var Qe=0<arguments.length;Le;)switch(Le.s){case 0:if(Le.s=1,Qe)for(;Le.n.l&&Xr(je,Le.n.from)<0;)Le={up:Le,n:Le.n.l,s:1};else for(;Le.n.l;)Le={up:Le,n:Le.n.l,s:1};case 1:if(Le.s=2,!Qe||Xr(je,Le.n.to)<=0)return{value:Le.n,done:!1};case 2:if(Le.n.r){Le.s=3,Le={up:Le,n:Le.n.r,s:0};continue}case 3:Le=Le.up}return{done:!0}}}}function F0(Re){var Le,je,Qe=(((Le=Re.r)===null||Le===void 0?void 0:Le.d)||0)-(((je=Re.l)===null||je===void 0?void 0:je.d)||0),$e=1<Qe?"r":Qe<-1?"l":"";$e&&(Le=$e=="r"?"l":"r",je=i({},Re),Qe=Re[$e],Re.from=Qe.from,Re.to=Qe.to,Re[$e]=Qe[$e],je[$e]=Qe[Le],(Re[Le]=je).d=ms(je)),Re.d=ms(Re)}function ms(je){var Le=je.r,je=je.l;return(Le?je?Math.max(Le.d,je.d):Le.d:je?je.d:0)+1}function zi(Re,Le){return m(Le).forEach(function(je){Re[je]?Ia(Re[je],Le[je]):Re[je]=function Qe($e){var st,_t,wt={};for(st in $e)_e($e,st)&&(_t=$e[st],wt[st]=!_t||typeof _t!="object"||ht.has(_t.constructor)?_t:Qe(_t));return wt}(Le[je])}),Re}function qn(Re,Le){return Re.all||Le.all||Object.keys(Re).some(function(je){return Le[je]&&R0(Le[je],Re[je])})}De(Dn.prototype,((tn={add:function(Re){return Ia(this,Re),this},addKey:function(Re){return Aa(this,Re,Re),this},addKeys:function(Re){var Le=this;return Re.forEach(function(je){return Aa(Le,je,je)}),this},hasKey:function(Re){var Le=Ca(this).next(Re).value;return Le&&Xr(Le.from,Re)<=0&&0<=Xr(Le.to,Re)}})[Zt]=function(){return Ca(this)},tn));var ji={},gs={},ys=!1;function fo(Re){zi(gs,Re),ys||(ys=!0,setTimeout(function(){ys=!1,kn(gs,!(gs={}))},0))}function kn(Re,Le){Le===void 0&&(Le=!1);var je=new Set;if(Re.all)for(var Qe=0,$e=Object.values(ji);Qe<$e.length;Qe++)B0(_t=$e[Qe],Re,je,Le);else for(var st in Re){var _t,wt=/^idb\:\/\/(.*)\/(.*)\//.exec(st);wt&&(st=wt[1],wt=wt[2],(_t=ji["idb://".concat(st,"/").concat(wt)])&&B0(_t,Re,je,Le))}je.forEach(function(Rt){return Rt()})}function B0(Re,Le,je,Qe){for(var $e=[],st=0,_t=Object.entries(Re.queries.query);st<_t.length;st++){for(var wt=_t[st],Rt=wt[0],Tt=[],Mt=0,Ot=wt[1];Mt<Ot.length;Mt++){var Ut=Ot[Mt];qn(Le,Ut.obsSet)?Ut.subscribers.forEach(function(qt){return je.add(qt)}):Qe&&Tt.push(Ut)}Qe&&$e.push([Rt,Tt])}if(Qe)for(var Pt=0,Lt=$e;Pt<Lt.length;Pt++){var Vt=Lt[Pt],Rt=Vt[0],Tt=Vt[1];Re.queries.query[Rt]=Tt}}function xo(Re){var Le=Re._state,je=Re._deps.indexedDB;if(Le.isBeingOpened||Re.idbdb)return Le.dbReadyPromise.then(function(){return Le.dbOpenError?vn(Le.dbOpenError):Re});Le.isBeingOpened=!0,Le.dbOpenError=null,Le.openComplete=!1;var Qe=Le.openCanceller,$e=Math.round(10*Re.verno),st=!1;function _t(){if(Le.openCanceller!==Qe)throw new lt.DatabaseClosed("db.open() was cancelled")}function wt(){return new wr(function(Ut,Pt){if(_t(),!je)throw new lt.MissingAPI;var Lt=Re.name,Vt=Le.autoSchema||!$e?je.open(Lt):je.open(Lt,$e);if(!Vt)throw new lt.MissingAPI;Vt.onerror=ni(Pt),Vt.onblocked=Zr(Re._fireOnBlocked),Vt.onupgradeneeded=Zr(function(qt){var Gt;Mt=Vt.transaction,Le.autoSchema&&!Re._options.allowEmptyDB?(Vt.onerror=ea,Mt.abort(),Vt.result.close(),(Gt=je.deleteDatabase(Lt)).onsuccess=Gt.onerror=Zr(function(){Pt(new lt.NoSuchDatabase("Database ".concat(Lt," doesnt exist")))})):(Mt.onerror=ni(Pt),qt=qt.oldVersion>Math.pow(2,62)?0:qt.oldVersion,Ot=qt<1,Re.idbdb=Vt.result,st&&lu(Re,Mt),_s(Re,qt/10,Mt,Pt))},Pt),Vt.onsuccess=Zr(function(){Mt=null;var qt,Gt,Qt,Yt,rr,xr=Re.idbdb=Vt.result,Ir=Ue(xr.objectStoreNames);if(0<Ir.length)try{var hr=xr.transaction((Yt=Ir).length===1?Yt[0]:Yt,"readonly");if(Le.autoSchema)Gt=xr,Qt=hr,(qt=Re).verno=Gt.version/10,Qt=qt._dbSchema=io(0,Gt,Qt),qt._storeNames=Ue(Gt.objectStoreNames,0),wa(qt,[qt._allTables],m(Qt),Qt);else if(ao(Re,Re._dbSchema,hr),((rr=vs(io(0,(rr=Re).idbdb,hr),rr._dbSchema)).add.length||rr.change.some(function(br){return br.add.length||br.change.length}))&&!st)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),xr.close(),$e=xr.version+1,st=!0,Ut(wt());to(Re,hr)}catch{}Vi.push(Re),xr.onversionchange=Zr(function(br){Le.vcFired=!0,Re.on("versionchange").fire(br)}),xr.onclose=Zr(function(br){Re.on("close").fire(br)}),Ot&&(rr=Re._deps,hr=Lt,xr=rr.indexedDB,rr=rr.IDBKeyRange,co(xr)||hr===Ja||so(xr,rr).put({name:hr}).catch($t)),Ut()},Pt)}).catch(function(Ut){switch(Ut==null?void 0:Ut.name){case"UnknownError":if(0<Le.PR1398_maxLoop)return Le.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),wt();break;case"VersionError":if(0<$e)return $e=0,wt()}return wr.reject(Ut)})}var Rt,Tt=Le.dbReadyResolve,Mt=null,Ot=!1;return wr.race([Qe,(typeof navigator>"u"?wr.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Ut){function Pt(){return indexedDB.databases().finally(Ut)}Rt=setInterval(Pt,100),Pt()}).finally(function(){return clearInterval(Rt)}):Promise.resolve()).then(wt)]).then(function(){return _t(),Le.onReadyBeingFired=[],wr.resolve(uo(function(){return Re.on.ready.fire(Re.vip)})).then(function Ut(){if(0<Le.onReadyBeingFired.length){var Pt=Le.onReadyBeingFired.reduce(er,$t);return Le.onReadyBeingFired=[],wr.resolve(uo(function(){return Pt(Re.vip)})).then(Ut)}})}).finally(function(){Le.openCanceller===Qe&&(Le.onReadyBeingFired=null,Le.isBeingOpened=!1)}).catch(function(Ut){Le.dbOpenError=Ut;try{Mt&&Mt.abort()}catch{}return Qe===Le.openCanceller&&Re._close(),vn(Ut)}).finally(function(){Le.openComplete=!0,Tt()}).then(function(){var Ut;return Ot&&(Ut={},Re.tables.forEach(function(Pt){Pt.schema.indexes.forEach(function(Lt){Lt.name&&(Ut["idb://".concat(Re.name,"/").concat(Pt.name,"/").concat(Lt.name)]=new Dn(-1/0,[[[]]]))}),Ut["idb://".concat(Re.name,"/").concat(Pt.name,"/")]=Ut["idb://".concat(Re.name,"/").concat(Pt.name,"/:dels")]=new Dn(-1/0,[[[]]])}),Ci(ya).fire(Ut),kn(Ut,!0)),Re})}function _n(Re){function Le(st){return Re.next(st)}var je=$e(Le),Qe=$e(function(st){return Re.throw(st)});function $e(st){return function(Rt){var wt=st(Rt),Rt=wt.value;return wt.done?Rt:Rt&&typeof Rt.then=="function"?Rt.then(je,Qe):g(Rt)?Promise.all(Rt).then(je,Qe):je(Rt)}}return $e(Le)()}function ho(Re,Le,je){for(var Qe=g(Re)?Re.slice():[Re],$e=0;$e<je;++$e)Qe.push(Le);return Qe}var po={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(Re){return i(i({},Re),{table:function(Le){var je=Re.table(Le),Qe=je.schema,$e={},st=[];function _t(Ot,Ut,Pt){var Lt=Ea(Ot),Vt=$e[Lt]=$e[Lt]||[],qt=Ot==null?0:typeof Ot=="string"?1:Ot.length,Gt=0<Ut,Gt=i(i({},Pt),{name:Gt?"".concat(Lt,"(virtual-from:").concat(Pt.name,")"):Pt.name,lowLevelIndex:Pt,isVirtual:Gt,keyTail:Ut,keyLength:qt,extractKey:ps(Ot),unique:!Gt&&Pt.unique});return Vt.push(Gt),Gt.isPrimaryKey||st.push(Gt),1<qt&&_t(qt===2?Ot[0]:Ot.slice(0,qt-1),Ut+1,Pt),Vt.sort(function(Qt,Yt){return Qt.keyTail-Yt.keyTail}),Gt}Le=_t(Qe.primaryKey.keyPath,0,Qe.primaryKey),$e[":id"]=[Le];for(var wt=0,Rt=Qe.indexes;wt<Rt.length;wt++){var Tt=Rt[wt];_t(Tt.keyPath,0,Tt)}function Mt(Ot){var Ut,Pt=Ot.query.index;return Pt.isVirtual?i(i({},Ot),{query:{index:Pt.lowLevelIndex,range:(Ut=Ot.query.range,Pt=Pt.keyTail,{type:Ut.type===1?2:Ut.type,lower:ho(Ut.lower,Ut.lowerOpen?Re.MAX_KEY:Re.MIN_KEY,Pt),lowerOpen:!0,upper:ho(Ut.upper,Ut.upperOpen?Re.MIN_KEY:Re.MAX_KEY,Pt),upperOpen:!0})}}):Ot}return i(i({},je),{schema:i(i({},Qe),{primaryKey:Le,indexes:st,getIndexByKeyPath:function(Ot){return(Ot=$e[Ea(Ot)])&&Ot[0]}}),count:function(Ot){return je.count(Mt(Ot))},query:function(Ot){return je.query(Mt(Ot))},openCursor:function(Ot){var Ut=Ot.query.index,Pt=Ut.keyTail,Lt=Ut.isVirtual,Vt=Ut.keyLength;return Lt?je.openCursor(Mt(Ot)).then(function(Gt){return Gt&&qt(Gt)}):je.openCursor(Ot);function qt(Gt){return Object.create(Gt,{continue:{value:function(Qt){Qt!=null?Gt.continue(ho(Qt,Ot.reverse?Re.MAX_KEY:Re.MIN_KEY,Pt)):Ot.unique?Gt.continue(Gt.key.slice(0,Vt).concat(Ot.reverse?Re.MIN_KEY:Re.MAX_KEY,Pt)):Gt.continue()}},continuePrimaryKey:{value:function(Qt,Yt){Gt.continuePrimaryKey(ho(Qt,Re.MAX_KEY,Pt),Yt)}},primaryKey:{get:function(){return Gt.primaryKey}},key:{get:function(){var Qt=Gt.key;return Vt===1?Qt[0]:Qt.slice(0,Vt)}},value:{get:function(){return Gt.value}}})}}})}})}};function ki(Re,Le,je,Qe){return je=je||{},Qe=Qe||"",m(Re).forEach(function($e){var st,_t,wt;_e(Le,$e)?(st=Re[$e],_t=Le[$e],typeof st=="object"&&typeof _t=="object"&&st&&_t?(wt=Ft(st))!==Ft(_t)?je[Qe+$e]=Le[$e]:wt==="Object"?ki(st,_t,je,Qe+$e+"."):st!==_t&&(je[Qe+$e]=Le[$e]):st!==_t&&(je[Qe+$e]=Le[$e])):je[Qe+$e]=void 0}),m(Le).forEach(function($e){_e(Re,$e)||(je[Qe+$e]=Le[$e])}),je}function _o(Re,Le){return Le.type==="delete"?Le.keys:Le.keys||Le.values.map(Re.extractKey)}var du={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(Re){return i(i({},Re),{table:function(Le){var je=Re.table(Le),Qe=je.schema.primaryKey;return i(i({},je),{mutate:function($e){var st=Cr.trans,_t=st.table(Le).hook,wt=_t.deleting,Rt=_t.creating,Tt=_t.updating;switch($e.type){case"add":if(Rt.fire===$t)break;return st._promise("readwrite",function(){return Mt($e)},!0);case"put":if(Rt.fire===$t&&Tt.fire===$t)break;return st._promise("readwrite",function(){return Mt($e)},!0);case"delete":if(wt.fire===$t)break;return st._promise("readwrite",function(){return Mt($e)},!0);case"deleteRange":if(wt.fire===$t)break;return st._promise("readwrite",function(){return function Ot(Ut,Pt,Lt){return je.query({trans:Ut,values:!1,query:{index:Qe,range:Pt},limit:Lt}).then(function(Vt){var qt=Vt.result;return Mt({type:"delete",keys:qt,trans:Ut}).then(function(Gt){return 0<Gt.numFailures?Promise.reject(Gt.failures[0]):qt.length<Lt?{failures:[],numFailures:0,lastResult:void 0}:Ot(Ut,i(i({},Pt),{lower:qt[qt.length-1],lowerOpen:!0}),Lt)})})}($e.trans,$e.range,1e4)},!0)}return je.mutate($e);function Mt(Ot){var Ut,Pt,Lt,Vt=Cr.trans,qt=Ot.keys||_o(Qe,Ot);if(!qt)throw new Error("Keys missing");return(Ot=Ot.type==="add"||Ot.type==="put"?i(i({},Ot),{keys:qt}):i({},Ot)).type!=="delete"&&(Ot.values=c([],Ot.values,!0)),Ot.keys&&(Ot.keys=c([],Ot.keys,!0)),Ut=je,Lt=qt,((Pt=Ot).type==="add"?Promise.resolve([]):Ut.getMany({trans:Pt.trans,keys:Lt,cache:"immutable"})).then(function(Gt){var Qt=qt.map(function(Yt,rr){var xr,Ir,hr,br=Gt[rr],Ar={onerror:null,onsuccess:null};return Ot.type==="delete"?wt.fire.call(Ar,Yt,br,Vt):Ot.type==="add"||br===void 0?(xr=Rt.fire.call(Ar,Yt,Ot.values[rr],Vt),Yt==null&&xr!=null&&(Ot.keys[rr]=Yt=xr,Qe.outbound||tt(Ot.values[rr],Qe.keyPath,Yt))):(xr=ki(br,Ot.values[rr]),(Ir=Tt.fire.call(Ar,xr,Yt,br,Vt))&&(hr=Ot.values[rr],Object.keys(Ir).forEach(function(lr){_e(hr,lr)?hr[lr]=Ir[lr]:tt(hr,lr,Ir[lr])}))),Ar});return je.mutate(Ot).then(function(Yt){for(var rr=Yt.failures,xr=Yt.results,Ir=Yt.numFailures,Yt=Yt.lastResult,hr=0;hr<qt.length;++hr){var br=(xr||qt)[hr],Ar=Qt[hr];br==null?Ar.onerror&&Ar.onerror(rr[hr]):Ar.onsuccess&&Ar.onsuccess(Ot.type==="put"&&Gt[hr]?Ot.values[hr]:br)}return{failures:rr,results:xr,numFailures:Ir,lastResult:Yt}}).catch(function(Yt){return Qt.forEach(function(rr){return rr.onerror&&rr.onerror(Yt)}),Promise.reject(Yt)})})}}})}})}};function bs(Re,Le,je){try{if(!Le||Le.keys.length<Re.length)return null;for(var Qe=[],$e=0,st=0;$e<Le.keys.length&&st<Re.length;++$e)Xr(Le.keys[$e],Re[st])===0&&(Qe.push(je?mt(Le.values[$e]):Le.values[$e]),++st);return Qe.length===Re.length?Qe:null}catch{return null}}var vo={stack:"dbcore",level:-1,create:function(Re){return{table:function(Le){var je=Re.table(Le);return i(i({},je),{getMany:function(Qe){if(!Qe.cache)return je.getMany(Qe);var $e=bs(Qe.keys,Qe.trans._cache,Qe.cache==="clone");return $e?wr.resolve($e):je.getMany(Qe).then(function(st){return Qe.trans._cache={keys:Qe.keys,values:Qe.cache==="clone"?mt(st):st},st})},mutate:function(Qe){return Qe.type!=="add"&&(Qe.trans._cache=null),je.mutate(Qe)}})}}}};function bn(Re,Le){return Re.trans.mode==="readonly"&&!!Re.subscr&&!Re.trans.explicit&&Re.trans.db._options.cache!=="disabled"&&!Le.schema.primaryKey.outbound}function P0(Re,Le){switch(Re){case"query":return Le.values&&!Le.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Es={stack:"dbcore",level:0,name:"Observability",create:function(Re){var Le=Re.schema.name,je=new Dn(Re.MIN_KEY,Re.MAX_KEY);return i(i({},Re),{transaction:function(Qe,$e,st){if(Cr.subscr&&$e!=="readonly")throw new lt.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Cr.querier));return Re.transaction(Qe,$e,st)},table:function(Qe){var $e=Re.table(Qe),st=$e.schema,_t=st.primaryKey,Ot=st.indexes,wt=_t.extractKey,Rt=_t.outbound,Tt=_t.autoIncrement&&Ot.filter(function(Pt){return Pt.compound&&Pt.keyPath.includes(_t.keyPath)}),Mt=i(i({},$e),{mutate:function(Pt){function Lt(lr){return lr="idb://".concat(Le,"/").concat(Qe,"/").concat(lr),Yt[lr]||(Yt[lr]=new Dn)}var Vt,qt,Gt,Qt=Pt.trans,Yt=Pt.mutatedParts||(Pt.mutatedParts={}),rr=Lt(""),xr=Lt(":dels"),Ir=Pt.type,Ar=Pt.type==="deleteRange"?[Pt.range]:Pt.type==="delete"?[Pt.keys]:Pt.values.length<50?[_o(_t,Pt).filter(function(lr){return lr}),Pt.values]:[],hr=Ar[0],br=Ar[1],Ar=Pt.trans._cache;return g(hr)?(rr.addKeys(hr),(Ar=Ir==="delete"||hr.length===br.length?bs(hr,Ar):null)||xr.addKeys(hr),(Ar||br)&&(Vt=Lt,qt=Ar,Gt=br,st.indexes.forEach(function(lr){var pr=Vt(lr.name||"");function Ur(Vr){return Vr!=null?lr.extractKey(Vr):null}function Kr(Vr){return lr.multiEntry&&g(Vr)?Vr.forEach(function(Zn){return pr.addKey(Zn)}):pr.addKey(Vr)}(qt||Gt).forEach(function(Vr,An){var Hr=qt&&Ur(qt[An]),An=Gt&&Ur(Gt[An]);Xr(Hr,An)!==0&&(Hr!=null&&Kr(Hr),An!=null&&Kr(An))})}))):hr?(br={from:hr.lower,to:hr.upper},xr.add(br),rr.add(br)):(rr.add(je),xr.add(je),st.indexes.forEach(function(lr){return Lt(lr.name).add(je)})),$e.mutate(Pt).then(function(lr){return!hr||Pt.type!=="add"&&Pt.type!=="put"||(rr.addKeys(lr.results),Tt&&Tt.forEach(function(pr){var Ur=Pt.values.map(function(Vr){return pr.extractKey(Vr)}),Kr=pr.keyPath.findIndex(function(Vr){return Vr===_t.keyPath});lr.results.forEach(function(Vr){return Ur[Kr]=Vr}),Lt(pr.name).addKeys(Ur)})),Qt.mutatedParts=zi(Qt.mutatedParts||{},Yt),lr})}}),Ot=function(Lt){var Vt=Lt.query,Lt=Vt.index,Vt=Vt.range;return[Lt,new Dn((Lt=Vt.lower)!==null&&Lt!==void 0?Lt:Re.MIN_KEY,(Vt=Vt.upper)!==null&&Vt!==void 0?Vt:Re.MAX_KEY)]},Ut={get:function(Pt){return[_t,new Dn(Pt.key)]},getMany:function(Pt){return[_t,new Dn().addKeys(Pt.keys)]},count:Ot,query:Ot,openCursor:Ot};return m(Ut).forEach(function(Pt){Mt[Pt]=function(Lt){var Vt=Cr.subscr,qt=!!Vt,Gt=bn(Cr,$e)&&P0(Pt,Lt)?Lt.obsSet={}:Vt;if(qt){var Qt=function(br){return br="idb://".concat(Le,"/").concat(Qe,"/").concat(br),Gt[br]||(Gt[br]=new Dn)},Yt=Qt(""),rr=Qt(":dels"),Vt=Ut[Pt](Lt),qt=Vt[0],Vt=Vt[1];if((Pt==="query"&&qt.isPrimaryKey&&!Lt.values?rr:Qt(qt.name||"")).add(Vt),!qt.isPrimaryKey){if(Pt!=="count"){var xr=Pt==="query"&&Rt&&Lt.values&&$e.query(i(i({},Lt),{values:!1}));return $e[Pt].apply(this,arguments).then(function(br){if(Pt==="query"){if(Rt&&Lt.values)return xr.then(function(Ur){return Ur=Ur.result,Yt.addKeys(Ur),br});var Ar=Lt.values?br.result.map(wt):br.result;(Lt.values?Yt:rr).addKeys(Ar)}else if(Pt==="openCursor"){var lr=br,pr=Lt.values;return lr&&Object.create(lr,{key:{get:function(){return rr.addKey(lr.primaryKey),lr.key}},primaryKey:{get:function(){var Ur=lr.primaryKey;return rr.addKey(Ur),Ur}},value:{get:function(){return pr&&Yt.addKey(lr.primaryKey),lr.value}}})}return br})}rr.add(je)}}return $e[Pt].apply(this,arguments)}}),Mt}})}};function q0(Re,Le,je){if(je.numFailures===0)return Le;if(Le.type==="deleteRange")return null;var Qe=Le.keys?Le.keys.length:"values"in Le&&Le.values?Le.values.length:1;return je.numFailures===Qe?null:(Le=i({},Le),g(Le.keys)&&(Le.keys=Le.keys.filter(function($e,st){return!(st in je.failures)})),"values"in Le&&g(Le.values)&&(Le.values=Le.values.filter(function($e,st){return!(st in je.failures)})),Le)}function ws(Re,Le){return je=Re,((Qe=Le).lower===void 0||(Qe.lowerOpen?0<Xr(je,Qe.lower):0<=Xr(je,Qe.lower)))&&(Re=Re,(Le=Le).upper===void 0||(Le.upperOpen?Xr(Re,Le.upper)<0:Xr(Re,Le.upper)<=0));var je,Qe}function ii(Re,Le,Ut,Qe,$e,st){if(!Ut||Ut.length===0)return Re;var _t=Le.query.index,wt=_t.multiEntry,Rt=Le.query.range,Tt=Qe.schema.primaryKey.extractKey,Mt=_t.extractKey,Ot=(_t.lowLevelIndex||_t).extractKey,Ut=Ut.reduce(function(Pt,Lt){var Vt=Pt,qt=[];if(Lt.type==="add"||Lt.type==="put")for(var Gt=new Dn,Qt=Lt.values.length-1;0<=Qt;--Qt){var Yt,rr=Lt.values[Qt],xr=Tt(rr);Gt.hasKey(xr)||(Yt=Mt(rr),(wt&&g(Yt)?Yt.some(function(Ar){return ws(Ar,Rt)}):ws(Yt,Rt))&&(Gt.addKey(xr),qt.push(rr)))}switch(Lt.type){case"add":Vt=Pt.concat(Le.values?qt:qt.map(function(lr){return Tt(lr)}));break;case"put":var Ir=new Dn().addKeys(Lt.values.map(function(lr){return Tt(lr)})),Vt=Pt.filter(function(lr){return!Ir.hasKey(Le.values?Tt(lr):lr)}).concat(Le.values?qt:qt.map(function(lr){return Tt(lr)}));break;case"delete":var hr=new Dn().addKeys(Lt.keys);Vt=Pt.filter(function(lr){return!hr.hasKey(Le.values?Tt(lr):lr)});break;case"deleteRange":var br=Lt.range;Vt=Pt.filter(function(lr){return!ws(Tt(lr),br)})}return Vt},Re);return Ut===Re?Re:(Ut.sort(function(Pt,Lt){return Xr(Ot(Pt),Ot(Lt))||Xr(Tt(Pt),Tt(Lt))}),Le.limit&&Le.limit<1/0&&(Ut.length>Le.limit?Ut.length=Le.limit:Re.length===Le.limit&&Ut.length<Le.limit&&($e.dirty=!0)),st?Object.freeze(Ut):Ut)}function N0(Re,Le){return Xr(Re.lower,Le.lower)===0&&Xr(Re.upper,Le.upper)===0&&!!Re.lowerOpen==!!Le.lowerOpen&&!!Re.upperOpen==!!Le.upperOpen}function mo(Re,Le){return function(je,Qe,$e,st){if(je===void 0)return Qe!==void 0?-1:0;if(Qe===void 0)return 1;if((Qe=Xr(je,Qe))===0){if($e&&st)return 0;if($e)return 1;if(st)return-1}return Qe}(Re.lower,Le.lower,Re.lowerOpen,Le.lowerOpen)<=0&&0<=function(je,Qe,$e,st){if(je===void 0)return Qe!==void 0?1:0;if(Qe===void 0)return-1;if((Qe=Xr(je,Qe))===0){if($e&&st)return 0;if($e)return-1;if(st)return 1}return Qe}(Re.upper,Le.upper,Re.upperOpen,Le.upperOpen)}function Hn(Re,Le,je,Qe){Re.subscribers.add(je),Qe.addEventListener("abort",function(){var $e,st;Re.subscribers.delete(je),Re.subscribers.size===0&&($e=Re,st=Le,setTimeout(function(){$e.subscribers.size===0&&ur(st,$e)},3e3))})}var Oi={stack:"dbcore",level:0,name:"Cache",create:function(Re){var Le=Re.schema.name;return i(i({},Re),{transaction:function(je,Qe,$e){var st,_t,wt=Re.transaction(je,Qe,$e);return Qe==="readwrite"&&(_t=(st=new AbortController).signal,$e=function(Rt){return function(){if(st.abort(),Qe==="readwrite"){for(var Tt=new Set,Mt=0,Ot=je;Mt<Ot.length;Mt++){var Ut=Ot[Mt],Pt=ji["idb://".concat(Le,"/").concat(Ut)];if(Pt){var Lt=Re.table(Ut),Vt=Pt.optimisticOps.filter(function(pr){return pr.trans===wt});if(wt._explicit&&Rt&&wt.mutatedParts)for(var qt=0,Gt=Object.values(Pt.queries.query);qt<Gt.length;qt++)for(var Qt=0,Yt=(Ir=Gt[qt]).slice();Qt<Yt.length;Qt++)qn((hr=Yt[Qt]).obsSet,wt.mutatedParts)&&(ur(Ir,hr),hr.subscribers.forEach(function(pr){return Tt.add(pr)}));else if(0<Vt.length){Pt.optimisticOps=Pt.optimisticOps.filter(function(pr){return pr.trans!==wt});for(var rr=0,xr=Object.values(Pt.queries.query);rr<xr.length;rr++)for(var Ir,hr,br,Ar=0,lr=(Ir=xr[rr]).slice();Ar<lr.length;Ar++)(hr=lr[Ar]).res!=null&&wt.mutatedParts&&(Rt&&!hr.dirty?(br=Object.isFrozen(hr.res),br=ii(hr.res,hr.req,Vt,Lt,hr,br),hr.dirty?(ur(Ir,hr),hr.subscribers.forEach(function(pr){return Tt.add(pr)})):br!==hr.res&&(hr.res=br,hr.promise=wr.resolve({result:br}))):(hr.dirty&&ur(Ir,hr),hr.subscribers.forEach(function(pr){return Tt.add(pr)})))}}}Tt.forEach(function(pr){return pr()})}}},wt.addEventListener("abort",$e(!1),{signal:_t}),wt.addEventListener("error",$e(!1),{signal:_t}),wt.addEventListener("complete",$e(!0),{signal:_t})),wt},table:function(je){var Qe=Re.table(je),$e=Qe.schema.primaryKey;return i(i({},Qe),{mutate:function(st){var _t=Cr.trans;if($e.outbound||_t.db._options.cache==="disabled"||_t.explicit)return Qe.mutate(st);var wt=ji["idb://".concat(Le,"/").concat(je)];return wt?(_t=Qe.mutate(st),st.type!=="add"&&st.type!=="put"||!(50<=st.values.length||_o($e,st).some(function(Rt){return Rt==null}))?(wt.optimisticOps.push(st),st.mutatedParts&&fo(st.mutatedParts),_t.then(function(Rt){0<Rt.numFailures&&(ur(wt.optimisticOps,st),(Rt=q0(0,st,Rt))&&wt.optimisticOps.push(Rt),st.mutatedParts&&fo(st.mutatedParts))}),_t.catch(function(){ur(wt.optimisticOps,st),st.mutatedParts&&fo(st.mutatedParts)})):_t.then(function(Rt){var Tt=q0(0,i(i({},st),{values:st.values.map(function(Pt,Ot){var Ut,Pt=(Ut=$e.keyPath)!==null&&Ut!==void 0&&Ut.includes(".")?mt(Pt):i({},Pt);return tt(Pt,$e.keyPath,Rt.results[Ot]),Pt})}),Rt);wt.optimisticOps.push(Tt),queueMicrotask(function(){return st.mutatedParts&&fo(st.mutatedParts)})}),_t):Qe.mutate(st)},query:function(st){if(!bn(Cr,Qe)||!P0("query",st))return Qe.query(st);var _t=((Tt=Cr.trans)===null||Tt===void 0?void 0:Tt.db._options.cache)==="immutable",Ot=Cr,wt=Ot.requery,Rt=Ot.signal,Tt=function(Lt,Vt,qt,Gt){var Qt=ji["idb://".concat(Lt,"/").concat(Vt)];if(!Qt)return[];if(!(Vt=Qt.queries[qt]))return[null,!1,Qt,null];var Yt=Vt[(Gt.query?Gt.query.index.name:null)||""];if(!Yt)return[null,!1,Qt,null];switch(qt){case"query":var rr=Yt.find(function(xr){return xr.req.limit===Gt.limit&&xr.req.values===Gt.values&&N0(xr.req.query.range,Gt.query.range)});return rr?[rr,!0,Qt,Yt]:[Yt.find(function(xr){return("limit"in xr.req?xr.req.limit:1/0)>=Gt.limit&&(!Gt.values||xr.req.values)&&mo(xr.req.query.range,Gt.query.range)}),!1,Qt,Yt];case"count":return rr=Yt.find(function(xr){return N0(xr.req.query.range,Gt.query.range)}),[rr,!!rr,Qt,Yt]}}(Le,je,"query",st),Mt=Tt[0],Ot=Tt[1],Ut=Tt[2],Pt=Tt[3];return Mt&&Ot?Mt.obsSet=st.obsSet:(Ot=Qe.query(st).then(function(Lt){var Vt=Lt.result;if(Mt&&(Mt.res=Vt),_t){for(var qt=0,Gt=Vt.length;qt<Gt;++qt)Object.freeze(Vt[qt]);Object.freeze(Vt)}else Lt.result=mt(Vt);return Lt}).catch(function(Lt){return Pt&&Mt&&ur(Pt,Mt),Promise.reject(Lt)}),Mt={obsSet:st.obsSet,promise:Ot,subscribers:new Set,type:"query",req:st,dirty:!1},Pt?Pt.push(Mt):(Pt=[Mt],(Ut=Ut||(ji["idb://".concat(Le,"/").concat(je)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[st.query.index.name||""]=Pt)),Hn(Mt,Pt,wt,Rt),Mt.promise.then(function(Lt){return{result:ii(Lt.result,st,Ut==null?void 0:Ut.optimisticOps,Qe,Mt,_t)}})}})}})}};function ta(Re,Le){return new Proxy(Re,{get:function(je,Qe,$e){return Qe==="db"?Le:Reflect.get(je,Qe,$e)}})}var di=(mn.prototype.version=function(Re){if(isNaN(Re)||Re<.1)throw new lt.Type("Given version is not a positive number");if(Re=Math.round(10*Re)/10,this.idbdb||this._state.isBeingOpened)throw new lt.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,Re);var Le=this._versions,je=Le.filter(function(Qe){return Qe._cfg.version===Re})[0];return je||(je=new this.Version(Re),Le.push(je),Le.sort(O0),je.stores({}),this._state.autoSchema=!1,je)},mn.prototype._whenReady=function(Re){var Le=this;return this.idbdb&&(this._state.openComplete||Cr.letThrough||this._vip)?Re():new wr(function(je,Qe){if(Le._state.openComplete)return Qe(new lt.DatabaseClosed(Le._state.dbOpenError));if(!Le._state.isBeingOpened){if(!Le._state.autoOpen)return void Qe(new lt.DatabaseClosed);Le.open().catch($t)}Le._state.dbReadyPromise.then(je,Qe)}).then(Re)},mn.prototype.use=function(Re){var Le=Re.stack,je=Re.create,Qe=Re.level,$e=Re.name;return $e&&this.unuse({stack:Le,name:$e}),Re=this._middlewares[Le]||(this._middlewares[Le]=[]),Re.push({stack:Le,create:je,level:Qe??10,name:$e}),Re.sort(function(st,_t){return st.level-_t.level}),this},mn.prototype.unuse=function(Re){var Le=Re.stack,je=Re.name,Qe=Re.create;return Le&&this._middlewares[Le]&&(this._middlewares[Le]=this._middlewares[Le].filter(function($e){return Qe?$e.create!==Qe:!!je&&$e.name!==je})),this},mn.prototype.open=function(){var Re=this;return hn(Qr,function(){return xo(Re)})},mn.prototype._close=function(){var Re=this._state,Le=Vi.indexOf(this);if(0<=Le&&Vi.splice(Le,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}Re.isBeingOpened||(Re.dbReadyPromise=new wr(function(je){Re.dbReadyResolve=je}),Re.openCanceller=new wr(function(je,Qe){Re.cancelOpen=Qe}))},mn.prototype.close=function(je){var Le=(je===void 0?{disableAutoOpen:!0}:je).disableAutoOpen,je=this._state;Le?(je.isBeingOpened&&je.cancelOpen(new lt.DatabaseClosed),this._close(),je.autoOpen=!1,je.dbOpenError=new lt.DatabaseClosed):(this._close(),je.autoOpen=this._options.autoOpen||je.isBeingOpened,je.openComplete=!1,je.dbOpenError=null)},mn.prototype.delete=function(Re){var Le=this;Re===void 0&&(Re={disableAutoOpen:!0});var je=0<arguments.length&&typeof arguments[0]!="object",Qe=this._state;return new wr(function($e,st){function _t(){Le.close(Re);var wt=Le._deps.indexedDB.deleteDatabase(Le.name);wt.onsuccess=Zr(function(){var Rt,Tt,Mt;Rt=Le._deps,Tt=Le.name,Mt=Rt.indexedDB,Rt=Rt.IDBKeyRange,co(Mt)||Tt===Ja||so(Mt,Rt).delete(Tt).catch($t),$e()}),wt.onerror=ni(st),wt.onblocked=Le._fireOnBlocked}if(je)throw new lt.InvalidArgument("Invalid closeOptions argument to db.delete()");Qe.isBeingOpened?Qe.dbReadyPromise.then(_t):_t()})},mn.prototype.backendDB=function(){return this.idbdb},mn.prototype.isOpen=function(){return this.idbdb!==null},mn.prototype.hasBeenClosed=function(){var Re=this._state.dbOpenError;return Re&&Re.name==="DatabaseClosed"},mn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},mn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(mn.prototype,"tables",{get:function(){var Re=this;return m(this._allTables).map(function(Le){return Re._allTables[Le]})},enumerable:!1,configurable:!0}),mn.prototype.transaction=function(){var Re=(function(Le,je,Qe){var $e=arguments.length;if($e<2)throw new lt.InvalidArgument("Too few arguments");for(var st=new Array($e-1);--$e;)st[$e-1]=arguments[$e];return Qe=st.pop(),[Le,rt(st),Qe]}).apply(this,arguments);return this._transaction.apply(this,Re)},mn.prototype._transaction=function(Re,Le,je){var Qe=this,$e=Cr.trans;$e&&$e.db===this&&Re.indexOf("!")===-1||($e=null);var st,_t,wt=Re.indexOf("?")!==-1;Re=Re.replace("!","").replace("?","");try{if(_t=Le.map(function(Tt){if(Tt=Tt instanceof Qe.Table?Tt.name:Tt,typeof Tt!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Tt}),Re=="r"||Re===as)st=as;else{if(Re!="rw"&&Re!=ss)throw new lt.InvalidArgument("Invalid transaction mode: "+Re);st=ss}if($e){if($e.mode===as&&st===ss){if(!wt)throw new lt.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");$e=null}$e&&_t.forEach(function(Tt){if($e&&$e.storeNames.indexOf(Tt)===-1){if(!wt)throw new lt.SubTransaction("Table "+Tt+" not included in parent transaction.");$e=null}}),wt&&$e&&!$e.active&&($e=null)}}catch(Tt){return $e?$e._promise(null,function(Mt,Ot){Ot(Tt)}):vn(Tt)}var Rt=(function Tt(Mt,Ot,Ut,Pt,Lt){return wr.resolve().then(function(){var Vt=Cr.transless||Cr,qt=Mt._createTransaction(Ot,Ut,Mt._dbSchema,Pt);if(qt.explicit=!0,Vt={trans:qt,transless:Vt},Pt)qt.idbtrans=Pt.idbtrans;else try{qt.create(),qt.idbtrans._explicit=!0,Mt._state.PR1398_maxLoop=3}catch(Yt){return Yt.name===Rr.InvalidState&&Mt.isOpen()&&0<--Mt._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Mt.close({disableAutoOpen:!1}),Mt.open().then(function(){return Tt(Mt,Ot,Ut,null,Lt)})):vn(Yt)}var Gt,Qt=ct(Lt);return Qt&&wn(),Vt=wr.follow(function(){var Yt;(Gt=Lt.call(qt,qt))&&(Qt?(Yt=xn.bind(null,null),Gt.then(Yt,Yt)):typeof Gt.next=="function"&&typeof Gt.throw=="function"&&(Gt=_n(Gt)))},Vt),(Gt&&typeof Gt.then=="function"?wr.resolve(Gt).then(function(Yt){return qt.active?Yt:vn(new lt.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Vt.then(function(){return Gt})).then(function(Yt){return Pt&&qt._resolve(),qt._completion.then(function(){return Yt})}).catch(function(Yt){return qt._reject(Yt),vn(Yt)})})}).bind(null,this,st,_t,$e,je);return $e?$e._promise(st,Rt,"lock"):Cr.trans?hn(Cr.transless,function(){return Qe._whenReady(Rt)}):this._whenReady(Rt)},mn.prototype.table=function(Re){if(!_e(this._allTables,Re))throw new lt.InvalidTable("Table ".concat(Re," does not exist"));return this._allTables[Re]},mn);function mn(Re,Le){var je=this;this._middlewares={},this.verno=0;var Qe=mn.dependencies;this._options=Le=i({addons:mn.addons,autoOpen:!0,indexedDB:Qe.indexedDB,IDBKeyRange:Qe.IDBKeyRange,cache:"cloned"},Le),this._deps={indexedDB:Le.indexedDB,IDBKeyRange:Le.IDBKeyRange},Qe=Le.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var $e,st,_t,wt,Rt,Tt={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:$t,dbReadyPromise:null,cancelOpen:$t,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:Le.autoOpen};Tt.dbReadyPromise=new wr(function(Ot){Tt.dbReadyResolve=Ot}),Tt.openCanceller=new wr(function(Ot,Ut){Tt.cancelOpen=Ut}),this._state=Tt,this.name=Re,this.on=va(this,"populate","blocked","versionchange","close",{ready:[er,$t]}),this.on.ready.subscribe=We(this.on.ready.subscribe,function(Ot){return function(Ut,Pt){mn.vip(function(){var Lt,Vt=je._state;Vt.openComplete?(Vt.dbOpenError||wr.resolve().then(Ut),Pt&&Ot(Ut)):Vt.onReadyBeingFired?(Vt.onReadyBeingFired.push(Ut),Pt&&Ot(Ut)):(Ot(Ut),Lt=je,Pt||Ot(function qt(){Lt.on.ready.unsubscribe(Ut),Lt.on.ready.unsubscribe(qt)}))})}}),this.Collection=($e=this,ma(nu.prototype,function(Gt,qt){this.db=$e;var Pt=m0,Lt=null;if(qt)try{Pt=qt()}catch(Qt){Lt=Qt}var Vt=Gt._ctx,qt=Vt.table,Gt=qt.hook.reading.fire;this._ctx={table:qt,index:Vt.index,isPrimKey:!Vt.index||qt.schema.primKey.keyPath&&Vt.index===qt.schema.primKey.name,range:Pt,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Lt,or:Vt.or,valueMapper:Gt!==dr?Gt:null}})),this.Table=(st=this,ma(E0.prototype,function(Ot,Ut,Pt){this.db=st,this._tx=Pt,this.name=Ot,this.schema=Ut,this.hook=st._allTables[Ot]?st._allTables[Ot].hook:va(null,{creating:[Wt,$t],reading:[Je,dr],updating:[pt,$t],deleting:[xt,$t]})})),this.Transaction=(_t=this,ma(ou.prototype,function(Ot,Ut,Pt,Lt,Vt){var qt=this;this.db=_t,this.mode=Ot,this.storeNames=Ut,this.schema=Pt,this.chromeTransactionDurability=Lt,this.idbtrans=null,this.on=va(this,"complete","error","abort"),this.parent=Vt||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new wr(function(Gt,Qt){qt._resolve=Gt,qt._reject=Qt}),this._completion.then(function(){qt.active=!1,qt.on.complete.fire()},function(Gt){var Qt=qt.active;return qt.active=!1,qt.on.error.fire(Gt),qt.parent?qt.parent._reject(Gt):Qt&&qt.idbtrans&&qt.idbtrans.abort(),vn(Gt)})})),this.Version=(wt=this,ma(fu.prototype,function(Ot){this.db=wt,this._cfg={version:Ot,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(Rt=this,ma(I0.prototype,function(Ot,Ut,Pt){if(this.db=Rt,this._ctx={table:Ot,index:Ut===":id"?null:Ut,or:Pt},this._cmp=this._ascending=Xr,this._descending=function(Lt,Vt){return Xr(Vt,Lt)},this._max=function(Lt,Vt){return 0<Xr(Lt,Vt)?Lt:Vt},this._min=function(Lt,Vt){return Xr(Lt,Vt)<0?Lt:Vt},this._IDBKeyRange=Rt._deps.IDBKeyRange,!this._IDBKeyRange)throw new lt.MissingAPI})),this.on("versionchange",function(Ot){0<Ot.newVersion?console.warn("Another connection wants to upgrade database '".concat(je.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(je.name,"'. Closing db now to resume the delete request.")),je.close({disableAutoOpen:!1})}),this.on("blocked",function(Ot){!Ot.newVersion||Ot.newVersion<Ot.oldVersion?console.warn("Dexie.delete('".concat(je.name,"') was blocked")):console.warn("Upgrade '".concat(je.name,"' blocked by other connection holding version ").concat(Ot.oldVersion/10))}),this._maxKey=ba(Le.IDBKeyRange),this._createTransaction=function(Ot,Ut,Pt,Lt){return new je.Transaction(Ot,Ut,Pt,je._options.chromeTransactionDurability,Lt)},this._fireOnBlocked=function(Ot){je.on("blocked").fire(Ot),Vi.filter(function(Ut){return Ut.name===je.name&&Ut!==je&&!Ut._state.vcFired}).map(function(Ut){return Ut.on("versionchange").fire(Ot)})},this.use(vo),this.use(Oi),this.use(Es),this.use(po),this.use(du);var Mt=new Proxy(this,{get:function(Ot,Ut,Pt){if(Ut==="_vip")return!0;if(Ut==="table")return function(Vt){return ta(je.table(Vt),Mt)};var Lt=Reflect.get(Ot,Ut,Pt);return Lt instanceof E0?ta(Lt,Mt):Ut==="tables"?Lt.map(function(Vt){return ta(Vt,Mt)}):Ut==="_createTransaction"?function(){return ta(Lt.apply(this,arguments),Mt)}:Lt}});this.vip=Mt,Qe.forEach(function(Ot){return Ot(je)})}var Nn,tn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",bi=(go.prototype.subscribe=function(Re,Le,je){return this._subscribe(Re&&typeof Re!="function"?Re:{next:Re,error:Le,complete:je})},go.prototype[tn]=function(){return this},go);function go(Re){this._subscribe=Re}try{Nn={indexedDB:f.indexedDB||f.mozIndexedDB||f.webkitIndexedDB||f.msIndexedDB,IDBKeyRange:f.IDBKeyRange||f.webkitIDBKeyRange}}catch{Nn={indexedDB:null,IDBKeyRange:null}}function Ss(Re){var Le,je=!1,Qe=new bi(function($e){var st=ct(Re),_t,wt=!1,Rt={},Tt={},Mt={get closed(){return wt},unsubscribe:function(){wt||(wt=!0,_t&&_t.abort(),Ot&&Ci.storagemutated.unsubscribe(Pt))}};$e.start&&$e.start(Mt);var Ot=!1,Ut=function(){return jn(Lt)},Pt=function(Vt){zi(Rt,Vt),qn(Tt,Rt)&&Ut()},Lt=function(){var Vt,qt,Gt;!wt&&Nn.indexedDB&&(Rt={},Vt={},_t&&_t.abort(),_t=new AbortController,Gt=function(Qt){var Yt=Tr();try{st&&wn();var rr=dn(Re,Qt);return rr=st?rr.finally(xn):rr}finally{Yt&&ln()}}(qt={subscr:Vt,signal:_t.signal,requery:Ut,querier:Re,trans:null}),Promise.resolve(Gt).then(function(Qt){je=!0,Le=Qt,wt||qt.signal.aborted||(Rt={},function(Yt){for(var rr in Yt)if(_e(Yt,rr))return;return 1}(Tt=Vt)||Ot||(Ci(ya,Pt),Ot=!0),jn(function(){return!wt&&$e.next&&$e.next(Qt)}))},function(Qt){je=!1,["DatabaseClosedError","AbortError"].includes(Qt==null?void 0:Qt.name)||wt||jn(function(){wt||$e.error&&$e.error(Qt)})}))};return setTimeout(Ut,0),Mt});return Qe.hasValue=function(){return je},Qe.getValue=function(){return Le},Qe}var Ti=di;function As(Re){var Le=Kn;try{Kn=!0,Ci.storagemutated.fire(Re),kn(Re,!0)}finally{Kn=Le}}De(Ti,i(i({},Xt),{delete:function(Re){return new Ti(Re,{addons:[]}).delete()},exists:function(Re){return new Ti(Re,{addons:[]}).open().then(function(Le){return Le.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(Re){try{return Le=Ti.dependencies,je=Le.indexedDB,Le=Le.IDBKeyRange,(co(je)?Promise.resolve(je.databases()).then(function(Qe){return Qe.map(function($e){return $e.name}).filter(function($e){return $e!==Ja})}):so(je,Le).toCollection().primaryKeys()).then(Re)}catch{return vn(new lt.MissingAPI)}var Le,je},defineClass:function(){return function(Re){Te(this,Re)}},ignoreTransaction:function(Re){return Cr.trans?hn(Cr.transless,Re):Re()},vip:uo,async:function(Re){return function(){try{var Le=_n(Re.apply(this,arguments));return Le&&typeof Le.then=="function"?Le:wr.resolve(Le)}catch(je){return vn(je)}}},spawn:function(Re,Le,je){try{var Qe=_n(Re.apply(je,Le||[]));return Qe&&typeof Qe.then=="function"?Qe:wr.resolve(Qe)}catch($e){return vn($e)}},currentTransaction:{get:function(){return Cr.trans||null}},waitFor:function(Re,Le){return Le=wr.resolve(typeof Re=="function"?Ti.ignoreTransaction(Re):Re).timeout(Le||6e4),Cr.trans?Cr.trans.waitFor(Le):Le},Promise:wr,debug:{get:function(){return nt},set:function(Re){ze(Re)}},derive:Fe,extend:Te,props:De,override:We,Events:va,on:Ci,liveQuery:Ss,extendObservabilitySet:zi,getByKeyPath:ot,setByKeyPath:tt,delByKeyPath:function(Re,Le){typeof Le=="string"?tt(Re,Le,void 0):"length"in Le&&[].map.call(Le,function(je){tt(Re,je,void 0)})},shallowClone:gt,deepClone:mt,getObjectDiff:ki,cmp:Xr,asap:Xe,minKey:-1/0,addons:[],connections:Vi,errnames:Rr,dependencies:Nn,cache:ji,semVer:"4.0.8",version:"4.0.8".split(".").map(function(Re){return parseInt(Re)}).reduce(function(Re,Le,je){return Re+Le/Math.pow(10,2*je)})})),Ti.maxKey=ba(Ti.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Ci(ya,function(Re){Kn||(Re=new CustomEvent(ds,{detail:Re}),Kn=!0,dispatchEvent(Re),Kn=!1)}),addEventListener(ds,function(Re){Re=Re.detail,Kn||As(Re)}));var Xn,Kn=!1,yo=function(){};return typeof BroadcastChannel<"u"&&((yo=function(){(Xn=new BroadcastChannel(ds)).onmessage=function(Re){return Re.data&&As(Re.data)}})(),typeof Xn.unref=="function"&&Xn.unref(),Ci(ya,function(Re){Kn||Xn.postMessage(Re)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(Re){if(!di.disableBfCache&&Re.persisted){nt&&console.debug("Dexie: handling persisted pagehide"),Xn!=null&&Xn.close();for(var Le=0,je=Vi;Le<je.length;Le++)je[Le].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(Re){!di.disableBfCache&&Re.persisted&&(nt&&console.debug("Dexie: handling persisted pageshow"),yo(),As({all:new Dn(-1/0,[[]])}))})),wr.rejectionMapper=function(Re,Le){return!Re||Re instanceof Bt||Re instanceof TypeError||Re instanceof SyntaxError||!Re.name||!yt[Re.name]?Re:(Le=new yt[Re.name](Le||Re.message,Re),"stack"in Re&&qe(Le,"stack",{get:function(){return this.inner.stack}}),Le)},ze(nt),i(di,Object.freeze({__proto__:null,Dexie:di,liveQuery:Ss,Entity:g0,cmp:Xr,PropModSymbol:gi,PropModification:ga,replacePrefix:function(Re,Le){return new ga({replacePrefix:[Re,Le]})},add:function(Re){return new ga({add:Re})},remove:function(Re){return new ga({remove:Re})},default:di,RangeSet:Dn,mergeRanges:Ia,rangesOverlap:R0}),{default:di}),di})})(dexie_min);var dexie_minExports=dexie_min.exports;const _Dexie=getDefaultExportFromCjs$1(dexie_minExports),DexieSymbol=Symbol.for("Dexie"),Dexie=globalThis[DexieSymbol]||(globalThis[DexieSymbol]=_Dexie);if(_Dexie.semVer!==Dexie.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${_Dexie.semVer} and ${Dexie.semVer}`);var cryptoJs={exports:{}};function commonjsRequire(h){throw new Error('Could not dynamically require "'+h+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var core={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredCore;function requireCore(){return hasRequiredCore||(hasRequiredCore=1,function(h,o){(function(e,i){h.exports=i()})(commonjsGlobal$1,function(){var e=e||function(i,c){var f;if(typeof window<"u"&&window.crypto&&(f=window.crypto),typeof self<"u"&&self.crypto&&(f=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(f=globalThis.crypto),!f&&typeof window<"u"&&window.msCrypto&&(f=window.msCrypto),!f&&typeof commonjsGlobal$1<"u"&&commonjsGlobal$1.crypto&&(f=commonjsGlobal$1.crypto),!f&&typeof commonjsRequire=="function")try{f=require$$0}catch{}var m=function(){if(f){if(typeof f.getRandomValues=="function")try{return f.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof f.randomBytes=="function")try{return f.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},g=Object.create||function(){function Ue(){}return function(We){var He;return Ue.prototype=We,He=new Ue,Ue.prototype=null,He}}(),Te={},Ie=Te.lib={},Oe=Ie.Base=function(){return{extend:function(Ue){var We=g(this);return Ue&&We.mixIn(Ue),(!We.hasOwnProperty("init")||this.init===We.init)&&(We.init=function(){We.$super.init.apply(this,arguments)}),We.init.prototype=We,We.$super=this,We},create:function(){var Ue=this.extend();return Ue.init.apply(Ue,arguments),Ue},init:function(){},mixIn:function(Ue){for(var We in Ue)Ue.hasOwnProperty(We)&&(this[We]=Ue[We]);Ue.hasOwnProperty("toString")&&(this.toString=Ue.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),_e=Ie.WordArray=Oe.extend({init:function(Ue,We){Ue=this.words=Ue||[],We!=c?this.sigBytes=We:this.sigBytes=Ue.length*4},toString:function(Ue){return(Ue||Ae).stringify(this)},concat:function(Ue){var We=this.words,He=Ue.words,Xe=this.sigBytes,ot=Ue.sigBytes;if(this.clamp(),Xe%4)for(var tt=0;tt<ot;tt++){var gt=He[tt>>>2]>>>24-tt%4*8&255;We[Xe+tt>>>2]|=gt<<24-(Xe+tt)%4*8}else for(var vt=0;vt<ot;vt+=4)We[Xe+vt>>>2]=He[vt>>>2];return this.sigBytes+=ot,this},clamp:function(){var Ue=this.words,We=this.sigBytes;Ue[We>>>2]&=4294967295<<32-We%4*8,Ue.length=i.ceil(We/4)},clone:function(){var Ue=Oe.clone.call(this);return Ue.words=this.words.slice(0),Ue},random:function(Ue){for(var We=[],He=0;He<Ue;He+=4)We.push(m());return new _e.init(We,Ue)}}),De=Te.enc={},Ae=De.Hex={stringify:function(Ue){for(var We=Ue.words,He=Ue.sigBytes,Xe=[],ot=0;ot<He;ot++){var tt=We[ot>>>2]>>>24-ot%4*8&255;Xe.push((tt>>>4).toString(16)),Xe.push((tt&15).toString(16))}return Xe.join("")},parse:function(Ue){for(var We=Ue.length,He=[],Xe=0;Xe<We;Xe+=2)He[Xe>>>3]|=parseInt(Ue.substr(Xe,2),16)<<24-Xe%8*4;return new _e.init(He,We/2)}},qe=De.Latin1={stringify:function(Ue){for(var We=Ue.words,He=Ue.sigBytes,Xe=[],ot=0;ot<He;ot++){var tt=We[ot>>>2]>>>24-ot%4*8&255;Xe.push(String.fromCharCode(tt))}return Xe.join("")},parse:function(Ue){for(var We=Ue.length,He=[],Xe=0;Xe<We;Xe++)He[Xe>>>2]|=(Ue.charCodeAt(Xe)&255)<<24-Xe%4*8;return new _e.init(He,We)}},Fe=De.Utf8={stringify:function(Ue){try{return decodeURIComponent(escape(qe.stringify(Ue)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(Ue){return qe.parse(unescape(encodeURIComponent(Ue)))}},Ne=Ie.BufferedBlockAlgorithm=Oe.extend({reset:function(){this._data=new _e.init,this._nDataBytes=0},_append:function(Ue){typeof Ue=="string"&&(Ue=Fe.parse(Ue)),this._data.concat(Ue),this._nDataBytes+=Ue.sigBytes},_process:function(Ue){var We,He=this._data,Xe=He.words,ot=He.sigBytes,tt=this.blockSize,gt=tt*4,vt=ot/gt;Ue?vt=i.ceil(vt):vt=i.max((vt|0)-this._minBufferSize,0);var rt=vt*tt,ht=i.min(rt*4,ot);if(rt){for(var it=0;it<rt;it+=tt)this._doProcessBlock(Xe,it);We=Xe.splice(0,rt),He.sigBytes-=ht}return new _e.init(We,ht)},clone:function(){var Ue=Oe.clone.call(this);return Ue._data=this._data.clone(),Ue},_minBufferSize:0});Ie.Hasher=Ne.extend({cfg:Oe.extend(),init:function(Ue){this.cfg=this.cfg.extend(Ue),this.reset()},reset:function(){Ne.reset.call(this),this._doReset()},update:function(Ue){return this._append(Ue),this._process(),this},finalize:function(Ue){Ue&&this._append(Ue);var We=this._doFinalize();return We},blockSize:16,_createHelper:function(Ue){return function(We,He){return new Ue.init(He).finalize(We)}},_createHmacHelper:function(Ue){return function(We,He){return new Ve.HMAC.init(Ue,He).finalize(We)}}});var Ve=Te.algo={};return Te}(Math);return e})}(core)),core.exports}var x64Core={exports:{}},hasRequiredX64Core;function requireX64Core(){return hasRequiredX64Core||(hasRequiredX64Core=1,function(h,o){(function(e,i){h.exports=i(requireCore())})(commonjsGlobal$1,function(e){return function(i){var c=e,f=c.lib,m=f.Base,g=f.WordArray,Te=c.x64={};Te.Word=m.extend({init:function(Ie,Oe){this.high=Ie,this.low=Oe}}),Te.WordArray=m.extend({init:function(Ie,Oe){Ie=this.words=Ie||[],Oe!=i?this.sigBytes=Oe:this.sigBytes=Ie.length*8},toX32:function(){for(var Ie=this.words,Oe=Ie.length,_e=[],De=0;De<Oe;De++){var Ae=Ie[De];_e.push(Ae.high),_e.push(Ae.low)}return g.create(_e,this.sigBytes)},clone:function(){for(var Ie=m.clone.call(this),Oe=Ie.words=this.words.slice(0),_e=Oe.length,De=0;De<_e;De++)Oe[De]=Oe[De].clone();return Ie}})}(),e})}(x64Core)),x64Core.exports}var libTypedarrays={exports:{}},hasRequiredLibTypedarrays;function requireLibTypedarrays(){return hasRequiredLibTypedarrays||(hasRequiredLibTypedarrays=1,function(h,o){(function(e,i){h.exports=i(requireCore())})(commonjsGlobal$1,function(e){return function(){if(typeof ArrayBuffer=="function"){var i=e,c=i.lib,f=c.WordArray,m=f.init,g=f.init=function(Te){if(Te instanceof ArrayBuffer&&(Te=new Uint8Array(Te)),(Te instanceof Int8Array||typeof Uint8ClampedArray<"u"&&Te instanceof Uint8ClampedArray||Te instanceof Int16Array||Te instanceof Uint16Array||Te instanceof Int32Array||Te instanceof Uint32Array||Te instanceof Float32Array||Te instanceof Float64Array)&&(Te=new Uint8Array(Te.buffer,Te.byteOffset,Te.byteLength)),Te instanceof Uint8Array){for(var Ie=Te.byteLength,Oe=[],_e=0;_e<Ie;_e++)Oe[_e>>>2]|=Te[_e]<<24-_e%4*8;m.call(this,Oe,Ie)}else m.apply(this,arguments)};g.prototype=f}}(),e.lib.WordArray})}(libTypedarrays)),libTypedarrays.exports}var encUtf16={exports:{}},hasRequiredEncUtf16;function requireEncUtf16(){return hasRequiredEncUtf16||(hasRequiredEncUtf16=1,function(h,o){(function(e,i){h.exports=i(requireCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.WordArray,m=i.enc;m.Utf16=m.Utf16BE={stringify:function(Te){for(var Ie=Te.words,Oe=Te.sigBytes,_e=[],De=0;De<Oe;De+=2){var Ae=Ie[De>>>2]>>>16-De%4*8&65535;_e.push(String.fromCharCode(Ae))}return _e.join("")},parse:function(Te){for(var Ie=Te.length,Oe=[],_e=0;_e<Ie;_e++)Oe[_e>>>1]|=Te.charCodeAt(_e)<<16-_e%2*16;return f.create(Oe,Ie*2)}},m.Utf16LE={stringify:function(Te){for(var Ie=Te.words,Oe=Te.sigBytes,_e=[],De=0;De<Oe;De+=2){var Ae=g(Ie[De>>>2]>>>16-De%4*8&65535);_e.push(String.fromCharCode(Ae))}return _e.join("")},parse:function(Te){for(var Ie=Te.length,Oe=[],_e=0;_e<Ie;_e++)Oe[_e>>>1]|=g(Te.charCodeAt(_e)<<16-_e%2*16);return f.create(Oe,Ie*2)}};function g(Te){return Te<<8&4278255360|Te>>>8&16711935}}(),e.enc.Utf16})}(encUtf16)),encUtf16.exports}var encBase64={exports:{}},hasRequiredEncBase64;function requireEncBase64(){return hasRequiredEncBase64||(hasRequiredEncBase64=1,function(h,o){(function(e,i){h.exports=i(requireCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.WordArray,m=i.enc;m.Base64={stringify:function(Te){var Ie=Te.words,Oe=Te.sigBytes,_e=this._map;Te.clamp();for(var De=[],Ae=0;Ae<Oe;Ae+=3)for(var qe=Ie[Ae>>>2]>>>24-Ae%4*8&255,Fe=Ie[Ae+1>>>2]>>>24-(Ae+1)%4*8&255,Ne=Ie[Ae+2>>>2]>>>24-(Ae+2)%4*8&255,Ve=qe<<16|Fe<<8|Ne,Ue=0;Ue<4&&Ae+Ue*.75<Oe;Ue++)De.push(_e.charAt(Ve>>>6*(3-Ue)&63));var We=_e.charAt(64);if(We)for(;De.length%4;)De.push(We);return De.join("")},parse:function(Te){var Ie=Te.length,Oe=this._map,_e=this._reverseMap;if(!_e){_e=this._reverseMap=[];for(var De=0;De<Oe.length;De++)_e[Oe.charCodeAt(De)]=De}var Ae=Oe.charAt(64);if(Ae){var qe=Te.indexOf(Ae);qe!==-1&&(Ie=qe)}return g(Te,Ie,_e)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function g(Te,Ie,Oe){for(var _e=[],De=0,Ae=0;Ae<Ie;Ae++)if(Ae%4){var qe=Oe[Te.charCodeAt(Ae-1)]<<Ae%4*2,Fe=Oe[Te.charCodeAt(Ae)]>>>6-Ae%4*2,Ne=qe|Fe;_e[De>>>2]|=Ne<<24-De%4*8,De++}return f.create(_e,De)}}(),e.enc.Base64})}(encBase64)),encBase64.exports}var encBase64url={exports:{}},hasRequiredEncBase64url;function requireEncBase64url(){return hasRequiredEncBase64url||(hasRequiredEncBase64url=1,function(h,o){(function(e,i){h.exports=i(requireCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.WordArray,m=i.enc;m.Base64url={stringify:function(Te,Ie){Ie===void 0&&(Ie=!0);var Oe=Te.words,_e=Te.sigBytes,De=Ie?this._safe_map:this._map;Te.clamp();for(var Ae=[],qe=0;qe<_e;qe+=3)for(var Fe=Oe[qe>>>2]>>>24-qe%4*8&255,Ne=Oe[qe+1>>>2]>>>24-(qe+1)%4*8&255,Ve=Oe[qe+2>>>2]>>>24-(qe+2)%4*8&255,Ue=Fe<<16|Ne<<8|Ve,We=0;We<4&&qe+We*.75<_e;We++)Ae.push(De.charAt(Ue>>>6*(3-We)&63));var He=De.charAt(64);if(He)for(;Ae.length%4;)Ae.push(He);return Ae.join("")},parse:function(Te,Ie){Ie===void 0&&(Ie=!0);var Oe=Te.length,_e=Ie?this._safe_map:this._map,De=this._reverseMap;if(!De){De=this._reverseMap=[];for(var Ae=0;Ae<_e.length;Ae++)De[_e.charCodeAt(Ae)]=Ae}var qe=_e.charAt(64);if(qe){var Fe=Te.indexOf(qe);Fe!==-1&&(Oe=Fe)}return g(Te,Oe,De)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function g(Te,Ie,Oe){for(var _e=[],De=0,Ae=0;Ae<Ie;Ae++)if(Ae%4){var qe=Oe[Te.charCodeAt(Ae-1)]<<Ae%4*2,Fe=Oe[Te.charCodeAt(Ae)]>>>6-Ae%4*2,Ne=qe|Fe;_e[De>>>2]|=Ne<<24-De%4*8,De++}return f.create(_e,De)}}(),e.enc.Base64url})}(encBase64url)),encBase64url.exports}var md5={exports:{}},hasRequiredMd5;function requireMd5(){return hasRequiredMd5||(hasRequiredMd5=1,function(h,o){(function(e,i){h.exports=i(requireCore())})(commonjsGlobal$1,function(e){return function(i){var c=e,f=c.lib,m=f.WordArray,g=f.Hasher,Te=c.algo,Ie=[];(function(){for(var Fe=0;Fe<64;Fe++)Ie[Fe]=i.abs(i.sin(Fe+1))*4294967296|0})();var Oe=Te.MD5=g.extend({_doReset:function(){this._hash=new m.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(Fe,Ne){for(var Ve=0;Ve<16;Ve++){var Ue=Ne+Ve,We=Fe[Ue];Fe[Ue]=(We<<8|We>>>24)&16711935|(We<<24|We>>>8)&4278255360}var He=this._hash.words,Xe=Fe[Ne+0],ot=Fe[Ne+1],tt=Fe[Ne+2],gt=Fe[Ne+3],vt=Fe[Ne+4],rt=Fe[Ne+5],ht=Fe[Ne+6],it=Fe[Ne+7],mt=Fe[Ne+8],Ze=Fe[Ne+9],Ft=Fe[Ne+10],Zt=Fe[Ne+11],zt=Fe[Ne+12],ur=Fe[Ne+13],bt=Fe[Ne+14],St=Fe[Ne+15],ct=He[0],dt=He[1],Bt=He[2],Ct=He[3];ct=_e(ct,dt,Bt,Ct,Xe,7,Ie[0]),Ct=_e(Ct,ct,dt,Bt,ot,12,Ie[1]),Bt=_e(Bt,Ct,ct,dt,tt,17,Ie[2]),dt=_e(dt,Bt,Ct,ct,gt,22,Ie[3]),ct=_e(ct,dt,Bt,Ct,vt,7,Ie[4]),Ct=_e(Ct,ct,dt,Bt,rt,12,Ie[5]),Bt=_e(Bt,Ct,ct,dt,ht,17,Ie[6]),dt=_e(dt,Bt,Ct,ct,it,22,Ie[7]),ct=_e(ct,dt,Bt,Ct,mt,7,Ie[8]),Ct=_e(Ct,ct,dt,Bt,Ze,12,Ie[9]),Bt=_e(Bt,Ct,ct,dt,Ft,17,Ie[10]),dt=_e(dt,Bt,Ct,ct,Zt,22,Ie[11]),ct=_e(ct,dt,Bt,Ct,zt,7,Ie[12]),Ct=_e(Ct,ct,dt,Bt,ur,12,Ie[13]),Bt=_e(Bt,Ct,ct,dt,bt,17,Ie[14]),dt=_e(dt,Bt,Ct,ct,St,22,Ie[15]),ct=De(ct,dt,Bt,Ct,ot,5,Ie[16]),Ct=De(Ct,ct,dt,Bt,ht,9,Ie[17]),Bt=De(Bt,Ct,ct,dt,Zt,14,Ie[18]),dt=De(dt,Bt,Ct,ct,Xe,20,Ie[19]),ct=De(ct,dt,Bt,Ct,rt,5,Ie[20]),Ct=De(Ct,ct,dt,Bt,Ft,9,Ie[21]),Bt=De(Bt,Ct,ct,dt,St,14,Ie[22]),dt=De(dt,Bt,Ct,ct,vt,20,Ie[23]),ct=De(ct,dt,Bt,Ct,Ze,5,Ie[24]),Ct=De(Ct,ct,dt,Bt,bt,9,Ie[25]),Bt=De(Bt,Ct,ct,dt,gt,14,Ie[26]),dt=De(dt,Bt,Ct,ct,mt,20,Ie[27]),ct=De(ct,dt,Bt,Ct,ur,5,Ie[28]),Ct=De(Ct,ct,dt,Bt,tt,9,Ie[29]),Bt=De(Bt,Ct,ct,dt,it,14,Ie[30]),dt=De(dt,Bt,Ct,ct,zt,20,Ie[31]),ct=Ae(ct,dt,Bt,Ct,rt,4,Ie[32]),Ct=Ae(Ct,ct,dt,Bt,mt,11,Ie[33]),Bt=Ae(Bt,Ct,ct,dt,Zt,16,Ie[34]),dt=Ae(dt,Bt,Ct,ct,bt,23,Ie[35]),ct=Ae(ct,dt,Bt,Ct,ot,4,Ie[36]),Ct=Ae(Ct,ct,dt,Bt,vt,11,Ie[37]),Bt=Ae(Bt,Ct,ct,dt,it,16,Ie[38]),dt=Ae(dt,Bt,Ct,ct,Ft,23,Ie[39]),ct=Ae(ct,dt,Bt,Ct,ur,4,Ie[40]),Ct=Ae(Ct,ct,dt,Bt,Xe,11,Ie[41]),Bt=Ae(Bt,Ct,ct,dt,gt,16,Ie[42]),dt=Ae(dt,Bt,Ct,ct,ht,23,Ie[43]),ct=Ae(ct,dt,Bt,Ct,Ze,4,Ie[44]),Ct=Ae(Ct,ct,dt,Bt,zt,11,Ie[45]),Bt=Ae(Bt,Ct,ct,dt,St,16,Ie[46]),dt=Ae(dt,Bt,Ct,ct,tt,23,Ie[47]),ct=qe(ct,dt,Bt,Ct,Xe,6,Ie[48]),Ct=qe(Ct,ct,dt,Bt,it,10,Ie[49]),Bt=qe(Bt,Ct,ct,dt,bt,15,Ie[50]),dt=qe(dt,Bt,Ct,ct,rt,21,Ie[51]),ct=qe(ct,dt,Bt,Ct,zt,6,Ie[52]),Ct=qe(Ct,ct,dt,Bt,gt,10,Ie[53]),Bt=qe(Bt,Ct,ct,dt,Ft,15,Ie[54]),dt=qe(dt,Bt,Ct,ct,ot,21,Ie[55]),ct=qe(ct,dt,Bt,Ct,mt,6,Ie[56]),Ct=qe(Ct,ct,dt,Bt,St,10,Ie[57]),Bt=qe(Bt,Ct,ct,dt,ht,15,Ie[58]),dt=qe(dt,Bt,Ct,ct,ur,21,Ie[59]),ct=qe(ct,dt,Bt,Ct,vt,6,Ie[60]),Ct=qe(Ct,ct,dt,Bt,Zt,10,Ie[61]),Bt=qe(Bt,Ct,ct,dt,tt,15,Ie[62]),dt=qe(dt,Bt,Ct,ct,Ze,21,Ie[63]),He[0]=He[0]+ct|0,He[1]=He[1]+dt|0,He[2]=He[2]+Bt|0,He[3]=He[3]+Ct|0},_doFinalize:function(){var Fe=this._data,Ne=Fe.words,Ve=this._nDataBytes*8,Ue=Fe.sigBytes*8;Ne[Ue>>>5]|=128<<24-Ue%32;var We=i.floor(Ve/4294967296),He=Ve;Ne[(Ue+64>>>9<<4)+15]=(We<<8|We>>>24)&16711935|(We<<24|We>>>8)&4278255360,Ne[(Ue+64>>>9<<4)+14]=(He<<8|He>>>24)&16711935|(He<<24|He>>>8)&4278255360,Fe.sigBytes=(Ne.length+1)*4,this._process();for(var Xe=this._hash,ot=Xe.words,tt=0;tt<4;tt++){var gt=ot[tt];ot[tt]=(gt<<8|gt>>>24)&16711935|(gt<<24|gt>>>8)&4278255360}return Xe},clone:function(){var Fe=g.clone.call(this);return Fe._hash=this._hash.clone(),Fe}});function _e(Fe,Ne,Ve,Ue,We,He,Xe){var ot=Fe+(Ne&Ve|~Ne&Ue)+We+Xe;return(ot<<He|ot>>>32-He)+Ne}function De(Fe,Ne,Ve,Ue,We,He,Xe){var ot=Fe+(Ne&Ue|Ve&~Ue)+We+Xe;return(ot<<He|ot>>>32-He)+Ne}function Ae(Fe,Ne,Ve,Ue,We,He,Xe){var ot=Fe+(Ne^Ve^Ue)+We+Xe;return(ot<<He|ot>>>32-He)+Ne}function qe(Fe,Ne,Ve,Ue,We,He,Xe){var ot=Fe+(Ve^(Ne|~Ue))+We+Xe;return(ot<<He|ot>>>32-He)+Ne}c.MD5=g._createHelper(Oe),c.HmacMD5=g._createHmacHelper(Oe)}(Math),e.MD5})}(md5)),md5.exports}var sha1={exports:{}},hasRequiredSha1;function requireSha1(){return hasRequiredSha1||(hasRequiredSha1=1,function(h,o){(function(e,i){h.exports=i(requireCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.WordArray,m=c.Hasher,g=i.algo,Te=[],Ie=g.SHA1=m.extend({_doReset:function(){this._hash=new f.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(Oe,_e){for(var De=this._hash.words,Ae=De[0],qe=De[1],Fe=De[2],Ne=De[3],Ve=De[4],Ue=0;Ue<80;Ue++){if(Ue<16)Te[Ue]=Oe[_e+Ue]|0;else{var We=Te[Ue-3]^Te[Ue-8]^Te[Ue-14]^Te[Ue-16];Te[Ue]=We<<1|We>>>31}var He=(Ae<<5|Ae>>>27)+Ve+Te[Ue];Ue<20?He+=(qe&Fe|~qe&Ne)+1518500249:Ue<40?He+=(qe^Fe^Ne)+1859775393:Ue<60?He+=(qe&Fe|qe&Ne|Fe&Ne)-1894007588:He+=(qe^Fe^Ne)-899497514,Ve=Ne,Ne=Fe,Fe=qe<<30|qe>>>2,qe=Ae,Ae=He}De[0]=De[0]+Ae|0,De[1]=De[1]+qe|0,De[2]=De[2]+Fe|0,De[3]=De[3]+Ne|0,De[4]=De[4]+Ve|0},_doFinalize:function(){var Oe=this._data,_e=Oe.words,De=this._nDataBytes*8,Ae=Oe.sigBytes*8;return _e[Ae>>>5]|=128<<24-Ae%32,_e[(Ae+64>>>9<<4)+14]=Math.floor(De/4294967296),_e[(Ae+64>>>9<<4)+15]=De,Oe.sigBytes=_e.length*4,this._process(),this._hash},clone:function(){var Oe=m.clone.call(this);return Oe._hash=this._hash.clone(),Oe}});i.SHA1=m._createHelper(Ie),i.HmacSHA1=m._createHmacHelper(Ie)}(),e.SHA1})}(sha1)),sha1.exports}var sha256={exports:{}},hasRequiredSha256;function requireSha256(){return hasRequiredSha256||(hasRequiredSha256=1,function(h,o){(function(e,i){h.exports=i(requireCore())})(commonjsGlobal$1,function(e){return function(i){var c=e,f=c.lib,m=f.WordArray,g=f.Hasher,Te=c.algo,Ie=[],Oe=[];(function(){function Ae(Ve){for(var Ue=i.sqrt(Ve),We=2;We<=Ue;We++)if(!(Ve%We))return!1;return!0}function qe(Ve){return(Ve-(Ve|0))*4294967296|0}for(var Fe=2,Ne=0;Ne<64;)Ae(Fe)&&(Ne<8&&(Ie[Ne]=qe(i.pow(Fe,1/2))),Oe[Ne]=qe(i.pow(Fe,1/3)),Ne++),Fe++})();var _e=[],De=Te.SHA256=g.extend({_doReset:function(){this._hash=new m.init(Ie.slice(0))},_doProcessBlock:function(Ae,qe){for(var Fe=this._hash.words,Ne=Fe[0],Ve=Fe[1],Ue=Fe[2],We=Fe[3],He=Fe[4],Xe=Fe[5],ot=Fe[6],tt=Fe[7],gt=0;gt<64;gt++){if(gt<16)_e[gt]=Ae[qe+gt]|0;else{var vt=_e[gt-15],rt=(vt<<25|vt>>>7)^(vt<<14|vt>>>18)^vt>>>3,ht=_e[gt-2],it=(ht<<15|ht>>>17)^(ht<<13|ht>>>19)^ht>>>10;_e[gt]=rt+_e[gt-7]+it+_e[gt-16]}var mt=He&Xe^~He&ot,Ze=Ne&Ve^Ne&Ue^Ve&Ue,Ft=(Ne<<30|Ne>>>2)^(Ne<<19|Ne>>>13)^(Ne<<10|Ne>>>22),Zt=(He<<26|He>>>6)^(He<<21|He>>>11)^(He<<7|He>>>25),zt=tt+Zt+mt+Oe[gt]+_e[gt],ur=Ft+Ze;tt=ot,ot=Xe,Xe=He,He=We+zt|0,We=Ue,Ue=Ve,Ve=Ne,Ne=zt+ur|0}Fe[0]=Fe[0]+Ne|0,Fe[1]=Fe[1]+Ve|0,Fe[2]=Fe[2]+Ue|0,Fe[3]=Fe[3]+We|0,Fe[4]=Fe[4]+He|0,Fe[5]=Fe[5]+Xe|0,Fe[6]=Fe[6]+ot|0,Fe[7]=Fe[7]+tt|0},_doFinalize:function(){var Ae=this._data,qe=Ae.words,Fe=this._nDataBytes*8,Ne=Ae.sigBytes*8;return qe[Ne>>>5]|=128<<24-Ne%32,qe[(Ne+64>>>9<<4)+14]=i.floor(Fe/4294967296),qe[(Ne+64>>>9<<4)+15]=Fe,Ae.sigBytes=qe.length*4,this._process(),this._hash},clone:function(){var Ae=g.clone.call(this);return Ae._hash=this._hash.clone(),Ae}});c.SHA256=g._createHelper(De),c.HmacSHA256=g._createHmacHelper(De)}(Math),e.SHA256})}(sha256)),sha256.exports}var sha224={exports:{}},hasRequiredSha224;function requireSha224(){return hasRequiredSha224||(hasRequiredSha224=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireSha256())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.WordArray,m=i.algo,g=m.SHA256,Te=m.SHA224=g.extend({_doReset:function(){this._hash=new f.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var Ie=g._doFinalize.call(this);return Ie.sigBytes-=4,Ie}});i.SHA224=g._createHelper(Te),i.HmacSHA224=g._createHmacHelper(Te)}(),e.SHA224})}(sha224)),sha224.exports}var sha512={exports:{}},hasRequiredSha512;function requireSha512(){return hasRequiredSha512||(hasRequiredSha512=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireX64Core())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.Hasher,m=i.x64,g=m.Word,Te=m.WordArray,Ie=i.algo;function Oe(){return g.create.apply(g,arguments)}var _e=[Oe(1116352408,3609767458),Oe(1899447441,602891725),Oe(3049323471,3964484399),Oe(3921009573,2173295548),Oe(961987163,4081628472),Oe(1508970993,3053834265),Oe(2453635748,2937671579),Oe(2870763221,3664609560),Oe(3624381080,2734883394),Oe(310598401,1164996542),Oe(607225278,1323610764),Oe(1426881987,3590304994),Oe(1925078388,4068182383),Oe(2162078206,991336113),Oe(2614888103,633803317),Oe(3248222580,3479774868),Oe(3835390401,2666613458),Oe(4022224774,944711139),Oe(264347078,2341262773),Oe(604807628,2007800933),Oe(770255983,1495990901),Oe(1249150122,1856431235),Oe(1555081692,3175218132),Oe(1996064986,2198950837),Oe(2554220882,3999719339),Oe(2821834349,766784016),Oe(2952996808,2566594879),Oe(3210313671,3203337956),Oe(3336571891,1034457026),Oe(3584528711,2466948901),Oe(113926993,3758326383),Oe(338241895,168717936),Oe(666307205,1188179964),Oe(773529912,1546045734),Oe(1294757372,1522805485),Oe(1396182291,2643833823),Oe(1695183700,2343527390),Oe(1986661051,1014477480),Oe(2177026350,1206759142),Oe(2456956037,344077627),Oe(2730485921,1290863460),Oe(2820302411,3158454273),Oe(3259730800,3505952657),Oe(3345764771,106217008),Oe(3516065817,3606008344),Oe(3600352804,1432725776),Oe(4094571909,1467031594),Oe(275423344,851169720),Oe(430227734,3100823752),Oe(506948616,1363258195),Oe(659060556,3750685593),Oe(883997877,3785050280),Oe(958139571,3318307427),Oe(1322822218,3812723403),Oe(1537002063,2003034995),Oe(1747873779,3602036899),Oe(1955562222,1575990012),Oe(2024104815,1125592928),Oe(2227730452,2716904306),Oe(2361852424,442776044),Oe(2428436474,593698344),Oe(2756734187,3733110249),Oe(3204031479,2999351573),Oe(3329325298,3815920427),Oe(3391569614,3928383900),Oe(3515267271,566280711),Oe(3940187606,3454069534),Oe(4118630271,4000239992),Oe(116418474,1914138554),Oe(174292421,2731055270),Oe(289380356,3203993006),Oe(460393269,320620315),Oe(685471733,587496836),Oe(852142971,1086792851),Oe(1017036298,365543100),Oe(1126000580,2618297676),Oe(1288033470,3409855158),Oe(1501505948,4234509866),Oe(1607167915,987167468),Oe(1816402316,1246189591)],De=[];(function(){for(var qe=0;qe<80;qe++)De[qe]=Oe()})();var Ae=Ie.SHA512=f.extend({_doReset:function(){this._hash=new Te.init([new g.init(1779033703,4089235720),new g.init(3144134277,2227873595),new g.init(1013904242,4271175723),new g.init(2773480762,1595750129),new g.init(1359893119,2917565137),new g.init(2600822924,725511199),new g.init(528734635,4215389547),new g.init(1541459225,327033209)])},_doProcessBlock:function(qe,Fe){for(var Ne=this._hash.words,Ve=Ne[0],Ue=Ne[1],We=Ne[2],He=Ne[3],Xe=Ne[4],ot=Ne[5],tt=Ne[6],gt=Ne[7],vt=Ve.high,rt=Ve.low,ht=Ue.high,it=Ue.low,mt=We.high,Ze=We.low,Ft=He.high,Zt=He.low,zt=Xe.high,ur=Xe.low,bt=ot.high,St=ot.low,ct=tt.high,dt=tt.low,Bt=gt.high,Ct=gt.low,Kt=vt,fr=rt,Rr=ht,cr=it,lt=mt,yt=Ze,Xt=Ft,$t=Zt,dr=zt,Je=ur,At=bt,Wt=St,xt=ct,pt=dt,Dt=Bt,er=Ct,nt=0;nt<80;nt++){var ze,Ge,ut=De[nt];if(nt<16)Ge=ut.high=qe[Fe+nt*2]|0,ze=ut.low=qe[Fe+nt*2+1]|0;else{var Et=De[nt-15],It=Et.high,jt=Et.low,tr=(It>>>1|jt<<31)^(It>>>8|jt<<24)^It>>>7,Sr=(jt>>>1|It<<31)^(jt>>>8|It<<24)^(jt>>>7|It<<25),Lr=De[nt-2],Pr=Lr.high,Er=Lr.low,gr=(Pr>>>19|Er<<13)^(Pr<<3|Er>>>29)^Pr>>>6,Qr=(Er>>>19|Pr<<13)^(Er<<3|Pr>>>29)^(Er>>>6|Pr<<26),Cr=De[nt-7],sn=Cr.high,Pn=Cr.low,Un=De[nt-16],wr=Un.high,Jt=Un.low;ze=Sr+Pn,Ge=tr+sn+(ze>>>0<Sr>>>0?1:0),ze=ze+Qr,Ge=Ge+gr+(ze>>>0<Qr>>>0?1:0),ze=ze+Jt,Ge=Ge+wr+(ze>>>0<Jt>>>0?1:0),ut.high=Ge,ut.low=ze}var yr=dr&At^~dr&xt,at=Je&Wt^~Je&pt,Or=Kt&Rr^Kt&lt^Rr&lt,en=fr&cr^fr&yt^cr&yt,kr=(Kt>>>28|fr<<4)^(Kt<<30|fr>>>2)^(Kt<<25|fr>>>7),Bn=(fr>>>28|Kt<<4)^(fr<<30|Kt>>>2)^(fr<<25|Kt>>>7),Tr=(dr>>>14|Je<<18)^(dr>>>18|Je<<14)^(dr<<23|Je>>>9),ln=(Je>>>14|dr<<18)^(Je>>>18|dr<<14)^(Je<<23|dr>>>9),or=_e[nt],ar=or.high,Zr=or.low,Nr=er+ln,Dr=Dt+Tr+(Nr>>>0<er>>>0?1:0),Nr=Nr+at,Dr=Dr+yr+(Nr>>>0<at>>>0?1:0),Nr=Nr+Zr,Dr=Dr+ar+(Nr>>>0<Zr>>>0?1:0),Nr=Nr+ze,Dr=Dr+Ge+(Nr>>>0<ze>>>0?1:0),Wn=Bn+en,zn=kr+Or+(Wn>>>0<Bn>>>0?1:0);Dt=xt,er=pt,xt=At,pt=Wt,At=dr,Wt=Je,Je=$t+Nr|0,dr=Xt+Dr+(Je>>>0<$t>>>0?1:0)|0,Xt=lt,$t=yt,lt=Rr,yt=cr,Rr=Kt,cr=fr,fr=Nr+Wn|0,Kt=Dr+zn+(fr>>>0<Nr>>>0?1:0)|0}rt=Ve.low=rt+fr,Ve.high=vt+Kt+(rt>>>0<fr>>>0?1:0),it=Ue.low=it+cr,Ue.high=ht+Rr+(it>>>0<cr>>>0?1:0),Ze=We.low=Ze+yt,We.high=mt+lt+(Ze>>>0<yt>>>0?1:0),Zt=He.low=Zt+$t,He.high=Ft+Xt+(Zt>>>0<$t>>>0?1:0),ur=Xe.low=ur+Je,Xe.high=zt+dr+(ur>>>0<Je>>>0?1:0),St=ot.low=St+Wt,ot.high=bt+At+(St>>>0<Wt>>>0?1:0),dt=tt.low=dt+pt,tt.high=ct+xt+(dt>>>0<pt>>>0?1:0),Ct=gt.low=Ct+er,gt.high=Bt+Dt+(Ct>>>0<er>>>0?1:0)},_doFinalize:function(){var qe=this._data,Fe=qe.words,Ne=this._nDataBytes*8,Ve=qe.sigBytes*8;Fe[Ve>>>5]|=128<<24-Ve%32,Fe[(Ve+128>>>10<<5)+30]=Math.floor(Ne/4294967296),Fe[(Ve+128>>>10<<5)+31]=Ne,qe.sigBytes=Fe.length*4,this._process();var Ue=this._hash.toX32();return Ue},clone:function(){var qe=f.clone.call(this);return qe._hash=this._hash.clone(),qe},blockSize:1024/32});i.SHA512=f._createHelper(Ae),i.HmacSHA512=f._createHmacHelper(Ae)}(),e.SHA512})}(sha512)),sha512.exports}var sha384={exports:{}},hasRequiredSha384;function requireSha384(){return hasRequiredSha384||(hasRequiredSha384=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireX64Core(),requireSha512())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.x64,f=c.Word,m=c.WordArray,g=i.algo,Te=g.SHA512,Ie=g.SHA384=Te.extend({_doReset:function(){this._hash=new m.init([new f.init(3418070365,3238371032),new f.init(1654270250,914150663),new f.init(2438529370,812702999),new f.init(355462360,4144912697),new f.init(1731405415,4290775857),new f.init(2394180231,1750603025),new f.init(3675008525,1694076839),new f.init(1203062813,3204075428)])},_doFinalize:function(){var Oe=Te._doFinalize.call(this);return Oe.sigBytes-=16,Oe}});i.SHA384=Te._createHelper(Ie),i.HmacSHA384=Te._createHmacHelper(Ie)}(),e.SHA384})}(sha384)),sha384.exports}var sha3={exports:{}},hasRequiredSha3;function requireSha3(){return hasRequiredSha3||(hasRequiredSha3=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireX64Core())})(commonjsGlobal$1,function(e){return function(i){var c=e,f=c.lib,m=f.WordArray,g=f.Hasher,Te=c.x64,Ie=Te.Word,Oe=c.algo,_e=[],De=[],Ae=[];(function(){for(var Ne=1,Ve=0,Ue=0;Ue<24;Ue++){_e[Ne+5*Ve]=(Ue+1)*(Ue+2)/2%64;var We=Ve%5,He=(2*Ne+3*Ve)%5;Ne=We,Ve=He}for(var Ne=0;Ne<5;Ne++)for(var Ve=0;Ve<5;Ve++)De[Ne+5*Ve]=Ve+(2*Ne+3*Ve)%5*5;for(var Xe=1,ot=0;ot<24;ot++){for(var tt=0,gt=0,vt=0;vt<7;vt++){if(Xe&1){var rt=(1<<vt)-1;rt<32?gt^=1<<rt:tt^=1<<rt-32}Xe&128?Xe=Xe<<1^113:Xe<<=1}Ae[ot]=Ie.create(tt,gt)}})();var qe=[];(function(){for(var Ne=0;Ne<25;Ne++)qe[Ne]=Ie.create()})();var Fe=Oe.SHA3=g.extend({cfg:g.cfg.extend({outputLength:512}),_doReset:function(){for(var Ne=this._state=[],Ve=0;Ve<25;Ve++)Ne[Ve]=new Ie.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(Ne,Ve){for(var Ue=this._state,We=this.blockSize/2,He=0;He<We;He++){var Xe=Ne[Ve+2*He],ot=Ne[Ve+2*He+1];Xe=(Xe<<8|Xe>>>24)&16711935|(Xe<<24|Xe>>>8)&4278255360,ot=(ot<<8|ot>>>24)&16711935|(ot<<24|ot>>>8)&4278255360;var tt=Ue[He];tt.high^=ot,tt.low^=Xe}for(var gt=0;gt<24;gt++){for(var vt=0;vt<5;vt++){for(var rt=0,ht=0,it=0;it<5;it++){var tt=Ue[vt+5*it];rt^=tt.high,ht^=tt.low}var mt=qe[vt];mt.high=rt,mt.low=ht}for(var vt=0;vt<5;vt++)for(var Ze=qe[(vt+4)%5],Ft=qe[(vt+1)%5],Zt=Ft.high,zt=Ft.low,rt=Ze.high^(Zt<<1|zt>>>31),ht=Ze.low^(zt<<1|Zt>>>31),it=0;it<5;it++){var tt=Ue[vt+5*it];tt.high^=rt,tt.low^=ht}for(var ur=1;ur<25;ur++){var rt,ht,tt=Ue[ur],bt=tt.high,St=tt.low,ct=_e[ur];ct<32?(rt=bt<<ct|St>>>32-ct,ht=St<<ct|bt>>>32-ct):(rt=St<<ct-32|bt>>>64-ct,ht=bt<<ct-32|St>>>64-ct);var dt=qe[De[ur]];dt.high=rt,dt.low=ht}var Bt=qe[0],Ct=Ue[0];Bt.high=Ct.high,Bt.low=Ct.low;for(var vt=0;vt<5;vt++)for(var it=0;it<5;it++){var ur=vt+5*it,tt=Ue[ur],Kt=qe[ur],fr=qe[(vt+1)%5+5*it],Rr=qe[(vt+2)%5+5*it];tt.high=Kt.high^~fr.high&Rr.high,tt.low=Kt.low^~fr.low&Rr.low}var tt=Ue[0],cr=Ae[gt];tt.high^=cr.high,tt.low^=cr.low}},_doFinalize:function(){var Ne=this._data,Ve=Ne.words;this._nDataBytes*8;var Ue=Ne.sigBytes*8,We=this.blockSize*32;Ve[Ue>>>5]|=1<<24-Ue%32,Ve[(i.ceil((Ue+1)/We)*We>>>5)-1]|=128,Ne.sigBytes=Ve.length*4,this._process();for(var He=this._state,Xe=this.cfg.outputLength/8,ot=Xe/8,tt=[],gt=0;gt<ot;gt++){var vt=He[gt],rt=vt.high,ht=vt.low;rt=(rt<<8|rt>>>24)&16711935|(rt<<24|rt>>>8)&4278255360,ht=(ht<<8|ht>>>24)&16711935|(ht<<24|ht>>>8)&4278255360,tt.push(ht),tt.push(rt)}return new m.init(tt,Xe)},clone:function(){for(var Ne=g.clone.call(this),Ve=Ne._state=this._state.slice(0),Ue=0;Ue<25;Ue++)Ve[Ue]=Ve[Ue].clone();return Ne}});c.SHA3=g._createHelper(Fe),c.HmacSHA3=g._createHmacHelper(Fe)}(Math),e.SHA3})}(sha3)),sha3.exports}var ripemd160={exports:{}},hasRequiredRipemd160;function requireRipemd160(){return hasRequiredRipemd160||(hasRequiredRipemd160=1,function(h,o){(function(e,i){h.exports=i(requireCore())})(commonjsGlobal$1,function(e){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(i){var c=e,f=c.lib,m=f.WordArray,g=f.Hasher,Te=c.algo,Ie=m.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),Oe=m.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),_e=m.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),De=m.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),Ae=m.create([0,1518500249,1859775393,2400959708,2840853838]),qe=m.create([1352829926,1548603684,1836072691,2053994217,0]),Fe=Te.RIPEMD160=g.extend({_doReset:function(){this._hash=m.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(ot,tt){for(var gt=0;gt<16;gt++){var vt=tt+gt,rt=ot[vt];ot[vt]=(rt<<8|rt>>>24)&16711935|(rt<<24|rt>>>8)&4278255360}var ht=this._hash.words,it=Ae.words,mt=qe.words,Ze=Ie.words,Ft=Oe.words,Zt=_e.words,zt=De.words,ur,bt,St,ct,dt,Bt,Ct,Kt,fr,Rr;Bt=ur=ht[0],Ct=bt=ht[1],Kt=St=ht[2],fr=ct=ht[3],Rr=dt=ht[4];for(var cr,gt=0;gt<80;gt+=1)cr=ur+ot[tt+Ze[gt]]|0,gt<16?cr+=Ne(bt,St,ct)+it[0]:gt<32?cr+=Ve(bt,St,ct)+it[1]:gt<48?cr+=Ue(bt,St,ct)+it[2]:gt<64?cr+=We(bt,St,ct)+it[3]:cr+=He(bt,St,ct)+it[4],cr=cr|0,cr=Xe(cr,Zt[gt]),cr=cr+dt|0,ur=dt,dt=ct,ct=Xe(St,10),St=bt,bt=cr,cr=Bt+ot[tt+Ft[gt]]|0,gt<16?cr+=He(Ct,Kt,fr)+mt[0]:gt<32?cr+=We(Ct,Kt,fr)+mt[1]:gt<48?cr+=Ue(Ct,Kt,fr)+mt[2]:gt<64?cr+=Ve(Ct,Kt,fr)+mt[3]:cr+=Ne(Ct,Kt,fr)+mt[4],cr=cr|0,cr=Xe(cr,zt[gt]),cr=cr+Rr|0,Bt=Rr,Rr=fr,fr=Xe(Kt,10),Kt=Ct,Ct=cr;cr=ht[1]+St+fr|0,ht[1]=ht[2]+ct+Rr|0,ht[2]=ht[3]+dt+Bt|0,ht[3]=ht[4]+ur+Ct|0,ht[4]=ht[0]+bt+Kt|0,ht[0]=cr},_doFinalize:function(){var ot=this._data,tt=ot.words,gt=this._nDataBytes*8,vt=ot.sigBytes*8;tt[vt>>>5]|=128<<24-vt%32,tt[(vt+64>>>9<<4)+14]=(gt<<8|gt>>>24)&16711935|(gt<<24|gt>>>8)&4278255360,ot.sigBytes=(tt.length+1)*4,this._process();for(var rt=this._hash,ht=rt.words,it=0;it<5;it++){var mt=ht[it];ht[it]=(mt<<8|mt>>>24)&16711935|(mt<<24|mt>>>8)&4278255360}return rt},clone:function(){var ot=g.clone.call(this);return ot._hash=this._hash.clone(),ot}});function Ne(ot,tt,gt){return ot^tt^gt}function Ve(ot,tt,gt){return ot&tt|~ot&gt}function Ue(ot,tt,gt){return(ot|~tt)^gt}function We(ot,tt,gt){return ot&gt|tt&~gt}function He(ot,tt,gt){return ot^(tt|~gt)}function Xe(ot,tt){return ot<<tt|ot>>>32-tt}c.RIPEMD160=g._createHelper(Fe),c.HmacRIPEMD160=g._createHmacHelper(Fe)}(),e.RIPEMD160})}(ripemd160)),ripemd160.exports}var hmac={exports:{}},hasRequiredHmac;function requireHmac(){return hasRequiredHmac||(hasRequiredHmac=1,function(h,o){(function(e,i){h.exports=i(requireCore())})(commonjsGlobal$1,function(e){(function(){var i=e,c=i.lib,f=c.Base,m=i.enc,g=m.Utf8,Te=i.algo;Te.HMAC=f.extend({init:function(Ie,Oe){Ie=this._hasher=new Ie.init,typeof Oe=="string"&&(Oe=g.parse(Oe));var _e=Ie.blockSize,De=_e*4;Oe.sigBytes>De&&(Oe=Ie.finalize(Oe)),Oe.clamp();for(var Ae=this._oKey=Oe.clone(),qe=this._iKey=Oe.clone(),Fe=Ae.words,Ne=qe.words,Ve=0;Ve<_e;Ve++)Fe[Ve]^=1549556828,Ne[Ve]^=909522486;Ae.sigBytes=qe.sigBytes=De,this.reset()},reset:function(){var Ie=this._hasher;Ie.reset(),Ie.update(this._iKey)},update:function(Ie){return this._hasher.update(Ie),this},finalize:function(Ie){var Oe=this._hasher,_e=Oe.finalize(Ie);Oe.reset();var De=Oe.finalize(this._oKey.clone().concat(_e));return De}})})()})}(hmac)),hmac.exports}var pbkdf2={exports:{}},hasRequiredPbkdf2;function requirePbkdf2(){return hasRequiredPbkdf2||(hasRequiredPbkdf2=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireSha256(),requireHmac())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.Base,m=c.WordArray,g=i.algo,Te=g.SHA256,Ie=g.HMAC,Oe=g.PBKDF2=f.extend({cfg:f.extend({keySize:128/32,hasher:Te,iterations:25e4}),init:function(_e){this.cfg=this.cfg.extend(_e)},compute:function(_e,De){for(var Ae=this.cfg,qe=Ie.create(Ae.hasher,_e),Fe=m.create(),Ne=m.create([1]),Ve=Fe.words,Ue=Ne.words,We=Ae.keySize,He=Ae.iterations;Ve.length<We;){var Xe=qe.update(De).finalize(Ne);qe.reset();for(var ot=Xe.words,tt=ot.length,gt=Xe,vt=1;vt<He;vt++){gt=qe.finalize(gt),qe.reset();for(var rt=gt.words,ht=0;ht<tt;ht++)ot[ht]^=rt[ht]}Fe.concat(Xe),Ue[0]++}return Fe.sigBytes=We*4,Fe}});i.PBKDF2=function(_e,De,Ae){return Oe.create(Ae).compute(_e,De)}}(),e.PBKDF2})}(pbkdf2)),pbkdf2.exports}var evpkdf={exports:{}},hasRequiredEvpkdf;function requireEvpkdf(){return hasRequiredEvpkdf||(hasRequiredEvpkdf=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireSha1(),requireHmac())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.Base,m=c.WordArray,g=i.algo,Te=g.MD5,Ie=g.EvpKDF=f.extend({cfg:f.extend({keySize:128/32,hasher:Te,iterations:1}),init:function(Oe){this.cfg=this.cfg.extend(Oe)},compute:function(Oe,_e){for(var De,Ae=this.cfg,qe=Ae.hasher.create(),Fe=m.create(),Ne=Fe.words,Ve=Ae.keySize,Ue=Ae.iterations;Ne.length<Ve;){De&&qe.update(De),De=qe.update(Oe).finalize(_e),qe.reset();for(var We=1;We<Ue;We++)De=qe.finalize(De),qe.reset();Fe.concat(De)}return Fe.sigBytes=Ve*4,Fe}});i.EvpKDF=function(Oe,_e,De){return Ie.create(De).compute(Oe,_e)}}(),e.EvpKDF})}(evpkdf)),evpkdf.exports}var cipherCore={exports:{}},hasRequiredCipherCore;function requireCipherCore(){return hasRequiredCipherCore||(hasRequiredCipherCore=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireEvpkdf())})(commonjsGlobal$1,function(e){e.lib.Cipher||function(i){var c=e,f=c.lib,m=f.Base,g=f.WordArray,Te=f.BufferedBlockAlgorithm,Ie=c.enc;Ie.Utf8;var Oe=Ie.Base64,_e=c.algo,De=_e.EvpKDF,Ae=f.Cipher=Te.extend({cfg:m.extend(),createEncryptor:function(rt,ht){return this.create(this._ENC_XFORM_MODE,rt,ht)},createDecryptor:function(rt,ht){return this.create(this._DEC_XFORM_MODE,rt,ht)},init:function(rt,ht,it){this.cfg=this.cfg.extend(it),this._xformMode=rt,this._key=ht,this.reset()},reset:function(){Te.reset.call(this),this._doReset()},process:function(rt){return this._append(rt),this._process()},finalize:function(rt){rt&&this._append(rt);var ht=this._doFinalize();return ht},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function rt(ht){return typeof ht=="string"?vt:ot}return function(ht){return{encrypt:function(it,mt,Ze){return rt(mt).encrypt(ht,it,mt,Ze)},decrypt:function(it,mt,Ze){return rt(mt).decrypt(ht,it,mt,Ze)}}}}()});f.StreamCipher=Ae.extend({_doFinalize:function(){var rt=this._process(!0);return rt},blockSize:1});var qe=c.mode={},Fe=f.BlockCipherMode=m.extend({createEncryptor:function(rt,ht){return this.Encryptor.create(rt,ht)},createDecryptor:function(rt,ht){return this.Decryptor.create(rt,ht)},init:function(rt,ht){this._cipher=rt,this._iv=ht}}),Ne=qe.CBC=function(){var rt=Fe.extend();rt.Encryptor=rt.extend({processBlock:function(it,mt){var Ze=this._cipher,Ft=Ze.blockSize;ht.call(this,it,mt,Ft),Ze.encryptBlock(it,mt),this._prevBlock=it.slice(mt,mt+Ft)}}),rt.Decryptor=rt.extend({processBlock:function(it,mt){var Ze=this._cipher,Ft=Ze.blockSize,Zt=it.slice(mt,mt+Ft);Ze.decryptBlock(it,mt),ht.call(this,it,mt,Ft),this._prevBlock=Zt}});function ht(it,mt,Ze){var Ft,Zt=this._iv;Zt?(Ft=Zt,this._iv=i):Ft=this._prevBlock;for(var zt=0;zt<Ze;zt++)it[mt+zt]^=Ft[zt]}return rt}(),Ve=c.pad={},Ue=Ve.Pkcs7={pad:function(rt,ht){for(var it=ht*4,mt=it-rt.sigBytes%it,Ze=mt<<24|mt<<16|mt<<8|mt,Ft=[],Zt=0;Zt<mt;Zt+=4)Ft.push(Ze);var zt=g.create(Ft,mt);rt.concat(zt)},unpad:function(rt){var ht=rt.words[rt.sigBytes-1>>>2]&255;rt.sigBytes-=ht}};f.BlockCipher=Ae.extend({cfg:Ae.cfg.extend({mode:Ne,padding:Ue}),reset:function(){var rt;Ae.reset.call(this);var ht=this.cfg,it=ht.iv,mt=ht.mode;this._xformMode==this._ENC_XFORM_MODE?rt=mt.createEncryptor:(rt=mt.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==rt?this._mode.init(this,it&&it.words):(this._mode=rt.call(mt,this,it&&it.words),this._mode.__creator=rt)},_doProcessBlock:function(rt,ht){this._mode.processBlock(rt,ht)},_doFinalize:function(){var rt,ht=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(ht.pad(this._data,this.blockSize),rt=this._process(!0)):(rt=this._process(!0),ht.unpad(rt)),rt},blockSize:128/32});var We=f.CipherParams=m.extend({init:function(rt){this.mixIn(rt)},toString:function(rt){return(rt||this.formatter).stringify(this)}}),He=c.format={},Xe=He.OpenSSL={stringify:function(rt){var ht,it=rt.ciphertext,mt=rt.salt;return mt?ht=g.create([1398893684,1701076831]).concat(mt).concat(it):ht=it,ht.toString(Oe)},parse:function(rt){var ht,it=Oe.parse(rt),mt=it.words;return mt[0]==1398893684&&mt[1]==1701076831&&(ht=g.create(mt.slice(2,4)),mt.splice(0,4),it.sigBytes-=16),We.create({ciphertext:it,salt:ht})}},ot=f.SerializableCipher=m.extend({cfg:m.extend({format:Xe}),encrypt:function(rt,ht,it,mt){mt=this.cfg.extend(mt);var Ze=rt.createEncryptor(it,mt),Ft=Ze.finalize(ht),Zt=Ze.cfg;return We.create({ciphertext:Ft,key:it,iv:Zt.iv,algorithm:rt,mode:Zt.mode,padding:Zt.padding,blockSize:rt.blockSize,formatter:mt.format})},decrypt:function(rt,ht,it,mt){mt=this.cfg.extend(mt),ht=this._parse(ht,mt.format);var Ze=rt.createDecryptor(it,mt).finalize(ht.ciphertext);return Ze},_parse:function(rt,ht){return typeof rt=="string"?ht.parse(rt,this):rt}}),tt=c.kdf={},gt=tt.OpenSSL={execute:function(rt,ht,it,mt,Ze){if(mt||(mt=g.random(64/8)),Ze)var Ft=De.create({keySize:ht+it,hasher:Ze}).compute(rt,mt);else var Ft=De.create({keySize:ht+it}).compute(rt,mt);var Zt=g.create(Ft.words.slice(ht),it*4);return Ft.sigBytes=ht*4,We.create({key:Ft,iv:Zt,salt:mt})}},vt=f.PasswordBasedCipher=ot.extend({cfg:ot.cfg.extend({kdf:gt}),encrypt:function(rt,ht,it,mt){mt=this.cfg.extend(mt);var Ze=mt.kdf.execute(it,rt.keySize,rt.ivSize,mt.salt,mt.hasher);mt.iv=Ze.iv;var Ft=ot.encrypt.call(this,rt,ht,Ze.key,mt);return Ft.mixIn(Ze),Ft},decrypt:function(rt,ht,it,mt){mt=this.cfg.extend(mt),ht=this._parse(ht,mt.format);var Ze=mt.kdf.execute(it,rt.keySize,rt.ivSize,ht.salt,mt.hasher);mt.iv=Ze.iv;var Ft=ot.decrypt.call(this,rt,ht,Ze.key,mt);return Ft}})}()})}(cipherCore)),cipherCore.exports}var modeCfb={exports:{}},hasRequiredModeCfb;function requireModeCfb(){return hasRequiredModeCfb||(hasRequiredModeCfb=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return e.mode.CFB=function(){var i=e.lib.BlockCipherMode.extend();i.Encryptor=i.extend({processBlock:function(f,m){var g=this._cipher,Te=g.blockSize;c.call(this,f,m,Te,g),this._prevBlock=f.slice(m,m+Te)}}),i.Decryptor=i.extend({processBlock:function(f,m){var g=this._cipher,Te=g.blockSize,Ie=f.slice(m,m+Te);c.call(this,f,m,Te,g),this._prevBlock=Ie}});function c(f,m,g,Te){var Ie,Oe=this._iv;Oe?(Ie=Oe.slice(0),this._iv=void 0):Ie=this._prevBlock,Te.encryptBlock(Ie,0);for(var _e=0;_e<g;_e++)f[m+_e]^=Ie[_e]}return i}(),e.mode.CFB})}(modeCfb)),modeCfb.exports}var modeCtr={exports:{}},hasRequiredModeCtr;function requireModeCtr(){return hasRequiredModeCtr||(hasRequiredModeCtr=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return e.mode.CTR=function(){var i=e.lib.BlockCipherMode.extend(),c=i.Encryptor=i.extend({processBlock:function(f,m){var g=this._cipher,Te=g.blockSize,Ie=this._iv,Oe=this._counter;Ie&&(Oe=this._counter=Ie.slice(0),this._iv=void 0);var _e=Oe.slice(0);g.encryptBlock(_e,0),Oe[Te-1]=Oe[Te-1]+1|0;for(var De=0;De<Te;De++)f[m+De]^=_e[De]}});return i.Decryptor=c,i}(),e.mode.CTR})}(modeCtr)),modeCtr.exports}var modeCtrGladman={exports:{}},hasRequiredModeCtrGladman;function requireModeCtrGladman(){return hasRequiredModeCtrGladman||(hasRequiredModeCtrGladman=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return e.mode.CTRGladman=function(){var i=e.lib.BlockCipherMode.extend();function c(g){if((g>>24&255)===255){var Te=g>>16&255,Ie=g>>8&255,Oe=g&255;Te===255?(Te=0,Ie===255?(Ie=0,Oe===255?Oe=0:++Oe):++Ie):++Te,g=0,g+=Te<<16,g+=Ie<<8,g+=Oe}else g+=1<<24;return g}function f(g){return(g[0]=c(g[0]))===0&&(g[1]=c(g[1])),g}var m=i.Encryptor=i.extend({processBlock:function(g,Te){var Ie=this._cipher,Oe=Ie.blockSize,_e=this._iv,De=this._counter;_e&&(De=this._counter=_e.slice(0),this._iv=void 0),f(De);var Ae=De.slice(0);Ie.encryptBlock(Ae,0);for(var qe=0;qe<Oe;qe++)g[Te+qe]^=Ae[qe]}});return i.Decryptor=m,i}(),e.mode.CTRGladman})}(modeCtrGladman)),modeCtrGladman.exports}var modeOfb={exports:{}},hasRequiredModeOfb;function requireModeOfb(){return hasRequiredModeOfb||(hasRequiredModeOfb=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return e.mode.OFB=function(){var i=e.lib.BlockCipherMode.extend(),c=i.Encryptor=i.extend({processBlock:function(f,m){var g=this._cipher,Te=g.blockSize,Ie=this._iv,Oe=this._keystream;Ie&&(Oe=this._keystream=Ie.slice(0),this._iv=void 0),g.encryptBlock(Oe,0);for(var _e=0;_e<Te;_e++)f[m+_e]^=Oe[_e]}});return i.Decryptor=c,i}(),e.mode.OFB})}(modeOfb)),modeOfb.exports}var modeEcb={exports:{}},hasRequiredModeEcb;function requireModeEcb(){return hasRequiredModeEcb||(hasRequiredModeEcb=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return e.mode.ECB=function(){var i=e.lib.BlockCipherMode.extend();return i.Encryptor=i.extend({processBlock:function(c,f){this._cipher.encryptBlock(c,f)}}),i.Decryptor=i.extend({processBlock:function(c,f){this._cipher.decryptBlock(c,f)}}),i}(),e.mode.ECB})}(modeEcb)),modeEcb.exports}var padAnsix923={exports:{}},hasRequiredPadAnsix923;function requirePadAnsix923(){return hasRequiredPadAnsix923||(hasRequiredPadAnsix923=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return e.pad.AnsiX923={pad:function(i,c){var f=i.sigBytes,m=c*4,g=m-f%m,Te=f+g-1;i.clamp(),i.words[Te>>>2]|=g<<24-Te%4*8,i.sigBytes+=g},unpad:function(i){var c=i.words[i.sigBytes-1>>>2]&255;i.sigBytes-=c}},e.pad.Ansix923})}(padAnsix923)),padAnsix923.exports}var padIso10126={exports:{}},hasRequiredPadIso10126;function requirePadIso10126(){return hasRequiredPadIso10126||(hasRequiredPadIso10126=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return e.pad.Iso10126={pad:function(i,c){var f=c*4,m=f-i.sigBytes%f;i.concat(e.lib.WordArray.random(m-1)).concat(e.lib.WordArray.create([m<<24],1))},unpad:function(i){var c=i.words[i.sigBytes-1>>>2]&255;i.sigBytes-=c}},e.pad.Iso10126})}(padIso10126)),padIso10126.exports}var padIso97971={exports:{}},hasRequiredPadIso97971;function requirePadIso97971(){return hasRequiredPadIso97971||(hasRequiredPadIso97971=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return e.pad.Iso97971={pad:function(i,c){i.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(i,c)},unpad:function(i){e.pad.ZeroPadding.unpad(i),i.sigBytes--}},e.pad.Iso97971})}(padIso97971)),padIso97971.exports}var padZeropadding={exports:{}},hasRequiredPadZeropadding;function requirePadZeropadding(){return hasRequiredPadZeropadding||(hasRequiredPadZeropadding=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return e.pad.ZeroPadding={pad:function(i,c){var f=c*4;i.clamp(),i.sigBytes+=f-(i.sigBytes%f||f)},unpad:function(i){for(var c=i.words,f=i.sigBytes-1,f=i.sigBytes-1;f>=0;f--)if(c[f>>>2]>>>24-f%4*8&255){i.sigBytes=f+1;break}}},e.pad.ZeroPadding})}(padZeropadding)),padZeropadding.exports}var padNopadding={exports:{}},hasRequiredPadNopadding;function requirePadNopadding(){return hasRequiredPadNopadding||(hasRequiredPadNopadding=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding})}(padNopadding)),padNopadding.exports}var formatHex={exports:{}},hasRequiredFormatHex;function requireFormatHex(){return hasRequiredFormatHex||(hasRequiredFormatHex=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return function(i){var c=e,f=c.lib,m=f.CipherParams,g=c.enc,Te=g.Hex,Ie=c.format;Ie.Hex={stringify:function(Oe){return Oe.ciphertext.toString(Te)},parse:function(Oe){var _e=Te.parse(Oe);return m.create({ciphertext:_e})}}}(),e.format.Hex})}(formatHex)),formatHex.exports}var aes={exports:{}},hasRequiredAes;function requireAes(){return hasRequiredAes||(hasRequiredAes=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.BlockCipher,m=i.algo,g=[],Te=[],Ie=[],Oe=[],_e=[],De=[],Ae=[],qe=[],Fe=[],Ne=[];(function(){for(var We=[],He=0;He<256;He++)He<128?We[He]=He<<1:We[He]=He<<1^283;for(var Xe=0,ot=0,He=0;He<256;He++){var tt=ot^ot<<1^ot<<2^ot<<3^ot<<4;tt=tt>>>8^tt&255^99,g[Xe]=tt,Te[tt]=Xe;var gt=We[Xe],vt=We[gt],rt=We[vt],ht=We[tt]*257^tt*16843008;Ie[Xe]=ht<<24|ht>>>8,Oe[Xe]=ht<<16|ht>>>16,_e[Xe]=ht<<8|ht>>>24,De[Xe]=ht;var ht=rt*16843009^vt*65537^gt*257^Xe*16843008;Ae[tt]=ht<<24|ht>>>8,qe[tt]=ht<<16|ht>>>16,Fe[tt]=ht<<8|ht>>>24,Ne[tt]=ht,Xe?(Xe=gt^We[We[We[rt^gt]]],ot^=We[We[ot]]):Xe=ot=1}})();var Ve=[0,1,2,4,8,16,32,64,128,27,54],Ue=m.AES=f.extend({_doReset:function(){var We;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var He=this._keyPriorReset=this._key,Xe=He.words,ot=He.sigBytes/4,tt=this._nRounds=ot+6,gt=(tt+1)*4,vt=this._keySchedule=[],rt=0;rt<gt;rt++)rt<ot?vt[rt]=Xe[rt]:(We=vt[rt-1],rt%ot?ot>6&&rt%ot==4&&(We=g[We>>>24]<<24|g[We>>>16&255]<<16|g[We>>>8&255]<<8|g[We&255]):(We=We<<8|We>>>24,We=g[We>>>24]<<24|g[We>>>16&255]<<16|g[We>>>8&255]<<8|g[We&255],We^=Ve[rt/ot|0]<<24),vt[rt]=vt[rt-ot]^We);for(var ht=this._invKeySchedule=[],it=0;it<gt;it++){var rt=gt-it;if(it%4)var We=vt[rt];else var We=vt[rt-4];it<4||rt<=4?ht[it]=We:ht[it]=Ae[g[We>>>24]]^qe[g[We>>>16&255]]^Fe[g[We>>>8&255]]^Ne[g[We&255]]}}},encryptBlock:function(We,He){this._doCryptBlock(We,He,this._keySchedule,Ie,Oe,_e,De,g)},decryptBlock:function(We,He){var Xe=We[He+1];We[He+1]=We[He+3],We[He+3]=Xe,this._doCryptBlock(We,He,this._invKeySchedule,Ae,qe,Fe,Ne,Te);var Xe=We[He+1];We[He+1]=We[He+3],We[He+3]=Xe},_doCryptBlock:function(We,He,Xe,ot,tt,gt,vt,rt){for(var ht=this._nRounds,it=We[He]^Xe[0],mt=We[He+1]^Xe[1],Ze=We[He+2]^Xe[2],Ft=We[He+3]^Xe[3],Zt=4,zt=1;zt<ht;zt++){var ur=ot[it>>>24]^tt[mt>>>16&255]^gt[Ze>>>8&255]^vt[Ft&255]^Xe[Zt++],bt=ot[mt>>>24]^tt[Ze>>>16&255]^gt[Ft>>>8&255]^vt[it&255]^Xe[Zt++],St=ot[Ze>>>24]^tt[Ft>>>16&255]^gt[it>>>8&255]^vt[mt&255]^Xe[Zt++],ct=ot[Ft>>>24]^tt[it>>>16&255]^gt[mt>>>8&255]^vt[Ze&255]^Xe[Zt++];it=ur,mt=bt,Ze=St,Ft=ct}var ur=(rt[it>>>24]<<24|rt[mt>>>16&255]<<16|rt[Ze>>>8&255]<<8|rt[Ft&255])^Xe[Zt++],bt=(rt[mt>>>24]<<24|rt[Ze>>>16&255]<<16|rt[Ft>>>8&255]<<8|rt[it&255])^Xe[Zt++],St=(rt[Ze>>>24]<<24|rt[Ft>>>16&255]<<16|rt[it>>>8&255]<<8|rt[mt&255])^Xe[Zt++],ct=(rt[Ft>>>24]<<24|rt[it>>>16&255]<<16|rt[mt>>>8&255]<<8|rt[Ze&255])^Xe[Zt++];We[He]=ur,We[He+1]=bt,We[He+2]=St,We[He+3]=ct},keySize:256/32});i.AES=f._createHelper(Ue)}(),e.AES})}(aes)),aes.exports}var tripledes={exports:{}},hasRequiredTripledes;function requireTripledes(){return hasRequiredTripledes||(hasRequiredTripledes=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.WordArray,m=c.BlockCipher,g=i.algo,Te=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],Ie=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],Oe=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],_e=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],De=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],Ae=g.DES=m.extend({_doReset:function(){for(var Ve=this._key,Ue=Ve.words,We=[],He=0;He<56;He++){var Xe=Te[He]-1;We[He]=Ue[Xe>>>5]>>>31-Xe%32&1}for(var ot=this._subKeys=[],tt=0;tt<16;tt++){for(var gt=ot[tt]=[],vt=Oe[tt],He=0;He<24;He++)gt[He/6|0]|=We[(Ie[He]-1+vt)%28]<<31-He%6,gt[4+(He/6|0)]|=We[28+(Ie[He+24]-1+vt)%28]<<31-He%6;gt[0]=gt[0]<<1|gt[0]>>>31;for(var He=1;He<7;He++)gt[He]=gt[He]>>>(He-1)*4+3;gt[7]=gt[7]<<5|gt[7]>>>27}for(var rt=this._invSubKeys=[],He=0;He<16;He++)rt[He]=ot[15-He]},encryptBlock:function(Ve,Ue){this._doCryptBlock(Ve,Ue,this._subKeys)},decryptBlock:function(Ve,Ue){this._doCryptBlock(Ve,Ue,this._invSubKeys)},_doCryptBlock:function(Ve,Ue,We){this._lBlock=Ve[Ue],this._rBlock=Ve[Ue+1],qe.call(this,4,252645135),qe.call(this,16,65535),Fe.call(this,2,858993459),Fe.call(this,8,16711935),qe.call(this,1,1431655765);for(var He=0;He<16;He++){for(var Xe=We[He],ot=this._lBlock,tt=this._rBlock,gt=0,vt=0;vt<8;vt++)gt|=_e[vt][((tt^Xe[vt])&De[vt])>>>0];this._lBlock=tt,this._rBlock=ot^gt}var rt=this._lBlock;this._lBlock=this._rBlock,this._rBlock=rt,qe.call(this,1,1431655765),Fe.call(this,8,16711935),Fe.call(this,2,858993459),qe.call(this,16,65535),qe.call(this,4,252645135),Ve[Ue]=this._lBlock,Ve[Ue+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function qe(Ve,Ue){var We=(this._lBlock>>>Ve^this._rBlock)&Ue;this._rBlock^=We,this._lBlock^=We<<Ve}function Fe(Ve,Ue){var We=(this._rBlock>>>Ve^this._lBlock)&Ue;this._lBlock^=We,this._rBlock^=We<<Ve}i.DES=m._createHelper(Ae);var Ne=g.TripleDES=m.extend({_doReset:function(){var Ve=this._key,Ue=Ve.words;if(Ue.length!==2&&Ue.length!==4&&Ue.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var We=Ue.slice(0,2),He=Ue.length<4?Ue.slice(0,2):Ue.slice(2,4),Xe=Ue.length<6?Ue.slice(0,2):Ue.slice(4,6);this._des1=Ae.createEncryptor(f.create(We)),this._des2=Ae.createEncryptor(f.create(He)),this._des3=Ae.createEncryptor(f.create(Xe))},encryptBlock:function(Ve,Ue){this._des1.encryptBlock(Ve,Ue),this._des2.decryptBlock(Ve,Ue),this._des3.encryptBlock(Ve,Ue)},decryptBlock:function(Ve,Ue){this._des3.decryptBlock(Ve,Ue),this._des2.encryptBlock(Ve,Ue),this._des1.decryptBlock(Ve,Ue)},keySize:192/32,ivSize:64/32,blockSize:64/32});i.TripleDES=m._createHelper(Ne)}(),e.TripleDES})}(tripledes)),tripledes.exports}var rc4={exports:{}},hasRequiredRc4;function requireRc4(){return hasRequiredRc4||(hasRequiredRc4=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.StreamCipher,m=i.algo,g=m.RC4=f.extend({_doReset:function(){for(var Oe=this._key,_e=Oe.words,De=Oe.sigBytes,Ae=this._S=[],qe=0;qe<256;qe++)Ae[qe]=qe;for(var qe=0,Fe=0;qe<256;qe++){var Ne=qe%De,Ve=_e[Ne>>>2]>>>24-Ne%4*8&255;Fe=(Fe+Ae[qe]+Ve)%256;var Ue=Ae[qe];Ae[qe]=Ae[Fe],Ae[Fe]=Ue}this._i=this._j=0},_doProcessBlock:function(Oe,_e){Oe[_e]^=Te.call(this)},keySize:256/32,ivSize:0});function Te(){for(var Oe=this._S,_e=this._i,De=this._j,Ae=0,qe=0;qe<4;qe++){_e=(_e+1)%256,De=(De+Oe[_e])%256;var Fe=Oe[_e];Oe[_e]=Oe[De],Oe[De]=Fe,Ae|=Oe[(Oe[_e]+Oe[De])%256]<<24-qe*8}return this._i=_e,this._j=De,Ae}i.RC4=f._createHelper(g);var Ie=m.RC4Drop=g.extend({cfg:g.cfg.extend({drop:192}),_doReset:function(){g._doReset.call(this);for(var Oe=this.cfg.drop;Oe>0;Oe--)Te.call(this)}});i.RC4Drop=f._createHelper(Ie)}(),e.RC4})}(rc4)),rc4.exports}var rabbit={exports:{}},hasRequiredRabbit;function requireRabbit(){return hasRequiredRabbit||(hasRequiredRabbit=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.StreamCipher,m=i.algo,g=[],Te=[],Ie=[],Oe=m.Rabbit=f.extend({_doReset:function(){for(var De=this._key.words,Ae=this.cfg.iv,qe=0;qe<4;qe++)De[qe]=(De[qe]<<8|De[qe]>>>24)&16711935|(De[qe]<<24|De[qe]>>>8)&4278255360;var Fe=this._X=[De[0],De[3]<<16|De[2]>>>16,De[1],De[0]<<16|De[3]>>>16,De[2],De[1]<<16|De[0]>>>16,De[3],De[2]<<16|De[1]>>>16],Ne=this._C=[De[2]<<16|De[2]>>>16,De[0]&4294901760|De[1]&65535,De[3]<<16|De[3]>>>16,De[1]&4294901760|De[2]&65535,De[0]<<16|De[0]>>>16,De[2]&4294901760|De[3]&65535,De[1]<<16|De[1]>>>16,De[3]&4294901760|De[0]&65535];this._b=0;for(var qe=0;qe<4;qe++)_e.call(this);for(var qe=0;qe<8;qe++)Ne[qe]^=Fe[qe+4&7];if(Ae){var Ve=Ae.words,Ue=Ve[0],We=Ve[1],He=(Ue<<8|Ue>>>24)&16711935|(Ue<<24|Ue>>>8)&4278255360,Xe=(We<<8|We>>>24)&16711935|(We<<24|We>>>8)&4278255360,ot=He>>>16|Xe&4294901760,tt=Xe<<16|He&65535;Ne[0]^=He,Ne[1]^=ot,Ne[2]^=Xe,Ne[3]^=tt,Ne[4]^=He,Ne[5]^=ot,Ne[6]^=Xe,Ne[7]^=tt;for(var qe=0;qe<4;qe++)_e.call(this)}},_doProcessBlock:function(De,Ae){var qe=this._X;_e.call(this),g[0]=qe[0]^qe[5]>>>16^qe[3]<<16,g[1]=qe[2]^qe[7]>>>16^qe[5]<<16,g[2]=qe[4]^qe[1]>>>16^qe[7]<<16,g[3]=qe[6]^qe[3]>>>16^qe[1]<<16;for(var Fe=0;Fe<4;Fe++)g[Fe]=(g[Fe]<<8|g[Fe]>>>24)&16711935|(g[Fe]<<24|g[Fe]>>>8)&4278255360,De[Ae+Fe]^=g[Fe]},blockSize:128/32,ivSize:64/32});function _e(){for(var De=this._X,Ae=this._C,qe=0;qe<8;qe++)Te[qe]=Ae[qe];Ae[0]=Ae[0]+1295307597+this._b|0,Ae[1]=Ae[1]+3545052371+(Ae[0]>>>0<Te[0]>>>0?1:0)|0,Ae[2]=Ae[2]+886263092+(Ae[1]>>>0<Te[1]>>>0?1:0)|0,Ae[3]=Ae[3]+1295307597+(Ae[2]>>>0<Te[2]>>>0?1:0)|0,Ae[4]=Ae[4]+3545052371+(Ae[3]>>>0<Te[3]>>>0?1:0)|0,Ae[5]=Ae[5]+886263092+(Ae[4]>>>0<Te[4]>>>0?1:0)|0,Ae[6]=Ae[6]+1295307597+(Ae[5]>>>0<Te[5]>>>0?1:0)|0,Ae[7]=Ae[7]+3545052371+(Ae[6]>>>0<Te[6]>>>0?1:0)|0,this._b=Ae[7]>>>0<Te[7]>>>0?1:0;for(var qe=0;qe<8;qe++){var Fe=De[qe]+Ae[qe],Ne=Fe&65535,Ve=Fe>>>16,Ue=((Ne*Ne>>>17)+Ne*Ve>>>15)+Ve*Ve,We=((Fe&4294901760)*Fe|0)+((Fe&65535)*Fe|0);Ie[qe]=Ue^We}De[0]=Ie[0]+(Ie[7]<<16|Ie[7]>>>16)+(Ie[6]<<16|Ie[6]>>>16)|0,De[1]=Ie[1]+(Ie[0]<<8|Ie[0]>>>24)+Ie[7]|0,De[2]=Ie[2]+(Ie[1]<<16|Ie[1]>>>16)+(Ie[0]<<16|Ie[0]>>>16)|0,De[3]=Ie[3]+(Ie[2]<<8|Ie[2]>>>24)+Ie[1]|0,De[4]=Ie[4]+(Ie[3]<<16|Ie[3]>>>16)+(Ie[2]<<16|Ie[2]>>>16)|0,De[5]=Ie[5]+(Ie[4]<<8|Ie[4]>>>24)+Ie[3]|0,De[6]=Ie[6]+(Ie[5]<<16|Ie[5]>>>16)+(Ie[4]<<16|Ie[4]>>>16)|0,De[7]=Ie[7]+(Ie[6]<<8|Ie[6]>>>24)+Ie[5]|0}i.Rabbit=f._createHelper(Oe)}(),e.Rabbit})}(rabbit)),rabbit.exports}var rabbitLegacy={exports:{}},hasRequiredRabbitLegacy;function requireRabbitLegacy(){return hasRequiredRabbitLegacy||(hasRequiredRabbitLegacy=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.StreamCipher,m=i.algo,g=[],Te=[],Ie=[],Oe=m.RabbitLegacy=f.extend({_doReset:function(){var De=this._key.words,Ae=this.cfg.iv,qe=this._X=[De[0],De[3]<<16|De[2]>>>16,De[1],De[0]<<16|De[3]>>>16,De[2],De[1]<<16|De[0]>>>16,De[3],De[2]<<16|De[1]>>>16],Fe=this._C=[De[2]<<16|De[2]>>>16,De[0]&4294901760|De[1]&65535,De[3]<<16|De[3]>>>16,De[1]&4294901760|De[2]&65535,De[0]<<16|De[0]>>>16,De[2]&4294901760|De[3]&65535,De[1]<<16|De[1]>>>16,De[3]&4294901760|De[0]&65535];this._b=0;for(var Ne=0;Ne<4;Ne++)_e.call(this);for(var Ne=0;Ne<8;Ne++)Fe[Ne]^=qe[Ne+4&7];if(Ae){var Ve=Ae.words,Ue=Ve[0],We=Ve[1],He=(Ue<<8|Ue>>>24)&16711935|(Ue<<24|Ue>>>8)&4278255360,Xe=(We<<8|We>>>24)&16711935|(We<<24|We>>>8)&4278255360,ot=He>>>16|Xe&4294901760,tt=Xe<<16|He&65535;Fe[0]^=He,Fe[1]^=ot,Fe[2]^=Xe,Fe[3]^=tt,Fe[4]^=He,Fe[5]^=ot,Fe[6]^=Xe,Fe[7]^=tt;for(var Ne=0;Ne<4;Ne++)_e.call(this)}},_doProcessBlock:function(De,Ae){var qe=this._X;_e.call(this),g[0]=qe[0]^qe[5]>>>16^qe[3]<<16,g[1]=qe[2]^qe[7]>>>16^qe[5]<<16,g[2]=qe[4]^qe[1]>>>16^qe[7]<<16,g[3]=qe[6]^qe[3]>>>16^qe[1]<<16;for(var Fe=0;Fe<4;Fe++)g[Fe]=(g[Fe]<<8|g[Fe]>>>24)&16711935|(g[Fe]<<24|g[Fe]>>>8)&4278255360,De[Ae+Fe]^=g[Fe]},blockSize:128/32,ivSize:64/32});function _e(){for(var De=this._X,Ae=this._C,qe=0;qe<8;qe++)Te[qe]=Ae[qe];Ae[0]=Ae[0]+1295307597+this._b|0,Ae[1]=Ae[1]+3545052371+(Ae[0]>>>0<Te[0]>>>0?1:0)|0,Ae[2]=Ae[2]+886263092+(Ae[1]>>>0<Te[1]>>>0?1:0)|0,Ae[3]=Ae[3]+1295307597+(Ae[2]>>>0<Te[2]>>>0?1:0)|0,Ae[4]=Ae[4]+3545052371+(Ae[3]>>>0<Te[3]>>>0?1:0)|0,Ae[5]=Ae[5]+886263092+(Ae[4]>>>0<Te[4]>>>0?1:0)|0,Ae[6]=Ae[6]+1295307597+(Ae[5]>>>0<Te[5]>>>0?1:0)|0,Ae[7]=Ae[7]+3545052371+(Ae[6]>>>0<Te[6]>>>0?1:0)|0,this._b=Ae[7]>>>0<Te[7]>>>0?1:0;for(var qe=0;qe<8;qe++){var Fe=De[qe]+Ae[qe],Ne=Fe&65535,Ve=Fe>>>16,Ue=((Ne*Ne>>>17)+Ne*Ve>>>15)+Ve*Ve,We=((Fe&4294901760)*Fe|0)+((Fe&65535)*Fe|0);Ie[qe]=Ue^We}De[0]=Ie[0]+(Ie[7]<<16|Ie[7]>>>16)+(Ie[6]<<16|Ie[6]>>>16)|0,De[1]=Ie[1]+(Ie[0]<<8|Ie[0]>>>24)+Ie[7]|0,De[2]=Ie[2]+(Ie[1]<<16|Ie[1]>>>16)+(Ie[0]<<16|Ie[0]>>>16)|0,De[3]=Ie[3]+(Ie[2]<<8|Ie[2]>>>24)+Ie[1]|0,De[4]=Ie[4]+(Ie[3]<<16|Ie[3]>>>16)+(Ie[2]<<16|Ie[2]>>>16)|0,De[5]=Ie[5]+(Ie[4]<<8|Ie[4]>>>24)+Ie[3]|0,De[6]=Ie[6]+(Ie[5]<<16|Ie[5]>>>16)+(Ie[4]<<16|Ie[4]>>>16)|0,De[7]=Ie[7]+(Ie[6]<<8|Ie[6]>>>24)+Ie[5]|0}i.RabbitLegacy=f._createHelper(Oe)}(),e.RabbitLegacy})}(rabbitLegacy)),rabbitLegacy.exports}var blowfish={exports:{}},hasRequiredBlowfish;function requireBlowfish(){return hasRequiredBlowfish||(hasRequiredBlowfish=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.BlockCipher,m=i.algo;const g=16,Te=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],Ie=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var Oe={pbox:[],sbox:[]};function _e(Ne,Ve){let Ue=Ve>>24&255,We=Ve>>16&255,He=Ve>>8&255,Xe=Ve&255,ot=Ne.sbox[0][Ue]+Ne.sbox[1][We];return ot=ot^Ne.sbox[2][He],ot=ot+Ne.sbox[3][Xe],ot}function De(Ne,Ve,Ue){let We=Ve,He=Ue,Xe;for(let ot=0;ot<g;++ot)We=We^Ne.pbox[ot],He=_e(Ne,We)^He,Xe=We,We=He,He=Xe;return Xe=We,We=He,He=Xe,He=He^Ne.pbox[g],We=We^Ne.pbox[g+1],{left:We,right:He}}function Ae(Ne,Ve,Ue){let We=Ve,He=Ue,Xe;for(let ot=g+1;ot>1;--ot)We=We^Ne.pbox[ot],He=_e(Ne,We)^He,Xe=We,We=He,He=Xe;return Xe=We,We=He,He=Xe,He=He^Ne.pbox[1],We=We^Ne.pbox[0],{left:We,right:He}}function qe(Ne,Ve,Ue){for(let tt=0;tt<4;tt++){Ne.sbox[tt]=[];for(let gt=0;gt<256;gt++)Ne.sbox[tt][gt]=Ie[tt][gt]}let We=0;for(let tt=0;tt<g+2;tt++)Ne.pbox[tt]=Te[tt]^Ve[We],We++,We>=Ue&&(We=0);let He=0,Xe=0,ot=0;for(let tt=0;tt<g+2;tt+=2)ot=De(Ne,He,Xe),He=ot.left,Xe=ot.right,Ne.pbox[tt]=He,Ne.pbox[tt+1]=Xe;for(let tt=0;tt<4;tt++)for(let gt=0;gt<256;gt+=2)ot=De(Ne,He,Xe),He=ot.left,Xe=ot.right,Ne.sbox[tt][gt]=He,Ne.sbox[tt][gt+1]=Xe;return!0}var Fe=m.Blowfish=f.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var Ne=this._keyPriorReset=this._key,Ve=Ne.words,Ue=Ne.sigBytes/4;qe(Oe,Ve,Ue)}},encryptBlock:function(Ne,Ve){var Ue=De(Oe,Ne[Ve],Ne[Ve+1]);Ne[Ve]=Ue.left,Ne[Ve+1]=Ue.right},decryptBlock:function(Ne,Ve){var Ue=Ae(Oe,Ne[Ve],Ne[Ve+1]);Ne[Ve]=Ue.left,Ne[Ve+1]=Ue.right},blockSize:64/32,keySize:128/32,ivSize:64/32});i.Blowfish=f._createHelper(Fe)}(),e.Blowfish})}(blowfish)),blowfish.exports}(function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireX64Core(),requireLibTypedarrays(),requireEncUtf16(),requireEncBase64(),requireEncBase64url(),requireMd5(),requireSha1(),requireSha256(),requireSha224(),requireSha512(),requireSha384(),requireSha3(),requireRipemd160(),requireHmac(),requirePbkdf2(),requireEvpkdf(),requireCipherCore(),requireModeCfb(),requireModeCtr(),requireModeCtrGladman(),requireModeOfb(),requireModeEcb(),requirePadAnsix923(),requirePadIso10126(),requirePadIso97971(),requirePadZeropadding(),requirePadNopadding(),requireFormatHex(),requireAes(),requireTripledes(),requireRc4(),requireRabbit(),requireRabbitLegacy(),requireBlowfish())})(commonjsGlobal$1,function(e){return e})})(cryptoJs);var cryptoJsExports=cryptoJs.exports;const _0xec57e9=getDefaultExportFromCjs$1(cryptoJsExports),_0x32ba9d=_0x3bbd;(function(h,o){const e=_0x3bbd,i=h();for(;[];)try{if(parseInt(e(225))/1*(-parseInt(e(210))/2)+-parseInt(e(200))/3*(-parseInt(e(253))/4)+-parseInt(e(254))/5*(parseInt(e(209))/6)+parseInt(e(216))/7+-parseInt(e(265))/8+parseInt(e(243))/9+parseInt(e(234))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x40e9,273893);function _0x3bbd(h,o){const e=_0x40e9();return _0x3bbd=function(i,c){return i=i-191,e[i]},_0x3bbd(h,o)}function _0x40e9(){const h=["height","isVisible","3ymKAkL","div","isDragging","sort","debugPanel","startX","top","borderRadius","block","83250RfbKUV","initialY","backgroundColor","messages","touchend","isEnabled","touchstart","mouseup","cursor","2294892TlnqNu","clearMessages","createElement","init","left","DEBUG","fontSize","Helvetica, Arial, sans-serif","clientX","maxWidth","1009564RAZiYQ","2395eEUJvl","300px","body","zIndex","14px","margin","99999999","touches","toggleVisibility","getValue","padding","3815496raayMo","style","none","initialX","keys","offsetLeft","updateMessage","textContent","offsetTop","setMessage","touchmove","fontFamily","addEventListener","mousedown","6YckHjr","string","appendChild","grab","10px","fixed","startY","renderMessages","Debug mode enabled. You can drag this panel freely. Type SET DEBUG 0 to disable.","3114LxBQND","131506ESTFGU","right","clearMessage","length","forEach","innerHTML","3000165xeMhrx","clientY","position","display","mousemove","5px 0","white"];return _0x40e9=function(){return h},_0x40e9()}var Hf,Wf,Kf,Gf,K0,ll;const mr=class mr{static[(Hf=_0x32ba9d(229),Wf=_0x32ba9d(224),Kf=_0x32ba9d(227),Gf=_0x32ba9d(237),_0x32ba9d(246))](){var e;const o=_0x32ba9d;!mr[o(229)]&&(mr.debugPanel=document[o(245)](o(226)),mr[o(229)].id="debug-panel",mr.debugPanel[o(266)][o(219)]=o(267),mr[o(229)][o(266)][o(218)]=o(205),mr.debugPanel[o(266)][o(236)]="rgba(0, 0, 0, 0.8)",mr[o(229)][o(266)].color=o(222),mr[o(229)][o(266)][o(264)]=o(204),mr[o(229)][o(266)][o(232)]="5px",mr.debugPanel[o(266)][o(257)]=o(260),mr[o(229)].style[o(252)]=o(255),mr[o(229)][o(266)][o(197)]=o(250),mr.debugPanel.style[o(249)]=o(258),mr.debugPanel[o(266)][o(223)]="auto",mr[o(229)].style[o(211)]=o(204),mr[o(229)][o(266)][o(231)]=o(204),mr[o(229)][o(266)][o(242)]=o(203),document[o(256)][o(202)](mr[o(229)]),sr(e=mr,K0,ll).call(e))}static[_0x32ba9d(262)](){const o=_0x32ba9d;mr[o(224)]=!mr[o(224)],mr[o(229)][o(266)][o(219)]=mr[o(224)]?o(233):o(267)}static setVisible(o){const e=_0x32ba9d;Object[e(269)](mr[e(237)])[e(213)]===0&&mr.setMessage(e(208)),mr.isVisible=o,mr[e(229)][e(266)][e(219)]=o?e(233):"none"}static[_0x32ba9d(192)](o,e){const i=_0x32ba9d;typeof e===i(201)?mr[i(237)][o]=e:mr[i(237)][o]=String(e),mr[i(207)]()}static[_0x32ba9d(212)](o){const e=_0x32ba9d;delete mr[e(237)][o],mr[e(207)]()}static[_0x32ba9d(244)](){const o=_0x32ba9d;mr[o(237)]={},mr[o(207)]()}static[_0x32ba9d(195)](o){const e=_0x32ba9d;mr.messages={},mr[e(229)][e(215)]="";const i=document[e(245)]("p");i[e(193)]=o,i[e(266)][e(259)]=e(221),mr.debugPanel[e(202)](i),mr[e(229)].style[e(219)]=e(233),mr[e(224)]=!![]}static[_0x32ba9d(207)](){const o=_0x32ba9d,e=Object[o(269)](mr[o(237)])[o(228)]();mr[o(229)].innerHTML="",e[o(214)](i=>{const c=o,f=document[c(245)]("p");f[c(193)]=mr.messages[i],f.style.margin=c(221),mr[c(229)][c(202)](f)}),e[o(213)]>0?(mr[o(229)].style.display=o(233),mr[o(224)]=!![]):(mr.debugPanel[o(266)].display=o(267),mr[o(224)]=![])}static[_0x32ba9d(239)](){const o=_0x32ba9d;return StorageManager[o(263)](o(248))=="1"}};K0=new WeakSet,ll=function(){const o=_0x32ba9d;mr[o(229)][o(198)](o(240),e=>{const i=o;mr[i(227)]=!![],mr[i(230)]=e[i(261)][0][i(251)],mr[i(206)]=e[i(261)][0].clientY,mr[i(268)]=mr[i(229)].offsetLeft,mr[i(235)]=mr[i(229)][i(194)]}),mr[o(229)][o(198)](o(196),e=>{const i=o;if(mr.isDragging){let c=e.touches[0][i(251)]-mr[i(230)],f=e[i(261)][0][i(217)]-mr[i(206)];mr[i(229)][i(266)][i(247)]=mr[i(268)]+c+"px",mr[i(229)].style[i(231)]=mr.initialY+f+"px"}}),mr[o(229)][o(198)](o(238),()=>{const e=o;mr[e(227)]=![]}),mr[o(229)][o(198)](o(199),e=>{const i=o;mr[i(227)]=!![],mr.startX=e.clientX,mr[i(206)]=e.clientY,mr[i(268)]=mr.debugPanel[i(191)],mr[i(235)]=mr[i(229)][i(194)]}),document[o(198)](o(220),e=>{const i=o;if(mr[i(227)]){let c=e[i(251)]-mr[i(230)],f=e[i(217)]-mr[i(206)];mr[i(229)].style[i(247)]=mr[i(268)]+c+"px",mr[i(229)][i(266)].top=mr[i(235)]+f+"px"}}),document[o(198)](o(241),()=>{const e=o;mr[e(227)]=![]})},Nt(mr,K0),cn(mr,Hf,null),cn(mr,Wf,![]),cn(mr,Kf,![]),cn(mr,Gf,{});let Debug=mr;Debug[_0x32ba9d(246)]();const _0x21ca97=_0x3172;function _0x3172(h,o){const e=_0x4f2a();return _0x3172=function(i,c){return i=i-251,e[i]},_0x3172(h,o)}function _0x4f2a(){const h=["add","toast-container","2FKfUQz","468858zggNDs","createElement",' <span class="custom-button"><strong>',"2004160hbpDyz","transitionend","querySelector","getElementById","click","length","div","appendChild","10QECoxH","enqueueToast","classList","3292665KecBvQ","displayNextToast","remove",".close-label","hide","49EDaItY","queue","createContainer","maxVisible","show","hideToast","903828PlszKM",' <span class="close-label"><strong>CLOSE</strong></span>',"showToast","textContent","10622079xjfdJZ","activeToasts","addEventListener","innerHTML",".custom-button","showManualToast","1409684yBDEbO","427604ruXiVh","container"];return _0x4f2a=function(){return h},_0x4f2a()}(function(h,o){const e=_0x3172,i=h();for(;[];)try{if(-parseInt(e(254))/1*(parseInt(e(291))/2)+parseInt(e(280))/3+-parseInt(e(290))/4+-parseInt(e(269))/5+parseInt(e(255))/6*(parseInt(e(274))/7)+-parseInt(e(258))/8+-parseInt(e(284))/9*(-parseInt(e(266))/10)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x4f2a,339430);var Yf,Qf;const Fa=class Fa{static[(Yf=_0x21ca97(251),Qf=_0x21ca97(285),_0x21ca97(276))](){const o=_0x21ca97,e=document[o(256)](o(264));return e.id=o(253),document.body[o(265)](e),e}static[_0x21ca97(282)](o){this[_0x21ca97(267)](o,![],null,null,1e3)}static[_0x21ca97(289)](o){this[_0x21ca97(267)](o,!![])}static enqueueCustomToast(o,e,i,c=5e3){this[_0x21ca97(267)](o,![],e,i,c)}static enqueueToast(o,e,i=null,c=null,f=1e3){const m=_0x21ca97;this[m(275)].push({message:o,isManualClose:e,buttonLabel:i,callback:c,autoCloseTime:f}),this[m(270)]()}static[_0x21ca97(270)](){const o=_0x21ca97;if(this[o(275)][o(263)]===0||this[o(285)]>=this[o(277)])return;const{message:e,isManualClose:i,buttonLabel:c,callback:f,autoCloseTime:m}=this.queue.shift(),g=document[o(256)](o(264));g[o(268)].add("toast-message"),c&&f?(g[o(287)]=e+o(257)+c+"</strong></span>",g[o(260)](o(288))[o(286)](o(262),()=>{const Te=o;f(),this[Te(279)](g,!![])})):i?(g[o(287)]=e+o(281),g[o(260)](o(272))[o(286)](o(262),()=>this[o(279)](g,!![]))):g[o(283)]=e,this.container[o(265)](g),this[o(285)]++,requestAnimationFrame(()=>{const Te=o;g.classList[Te(252)](Te(278))}),!i&&setTimeout(()=>this[o(279)](g),m)}static[_0x21ca97(279)](o,e=![]){const i=_0x21ca97;o[i(268)].remove(i(278)),o[i(268)].add(i(273)),o[i(286)](i(259),()=>{const c=i;o[c(271)](),this.activeToasts--,!e&&this[c(270)]()})}};cn(Fa,Yf,document[_0x21ca97(261)]("toast-container")||Fa.createContainer()),cn(Fa,"queue",[]),cn(Fa,Qf,0),cn(Fa,"maxVisible",3);let ToastManager=Fa;const _0x23b206=_0x51e2;(function(h,o){const e=_0x51e2,i=h();for(;[];)try{if(-parseInt(e(505))/1*(parseInt(e(470))/2)+parseInt(e(519))/3+parseInt(e(445))/4*(-parseInt(e(469))/5)+parseInt(e(472))/6*(parseInt(e(489))/7)+-parseInt(e(535))/8*(parseInt(e(495))/9)+-parseInt(e(517))/10+parseInt(e(480))/11*(parseInt(e(548))/12)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x2064,876362);function _0x2064(){const h=["first","2vaslRw","image","collection_image","amiga","put","getSaveData","clearValue","map","deleteSave","screenshot","canvas","romData","3128050OoRtwC","Save state or program data is missing.","3515736OzdgpK","dependencies","onloadend","data_type","readAsArrayBuffer","orderBy","delete","files","SHA256","deleteAllCollections","WordArray","file","blobToBase64","toBlob","height","key","878728wwsqUq","++id, collection_id, platform_id, title, credits, description, image, rom_name, rom_data_id, rom_url, launched","lib","stores","collection_id","Storing file","name","enqueueToast","State saved.","push","now","where","equals","22514904DscPCl","drawImage","rom_data","saveMeta","VME","base64","modify","atari2600","length","onload","deleteFile","revokeObjectURL","getCollections","load","28aFgKUY","++id, rom_data, hash","get","collection_name","updateMessage","src","VME_INTERNAL.","table","collectionItemData","Deleting file","save_data_id","rom_data_id","error","description","reverse","add","storeCollection","Failed to delete collections:","removeItem","++id, save_data","storeValue","type","checkFiles","Failed to save collection:","1225555NsoUjV","216548ZolsuR","isEnabled","147666ZrbOBc","version","getFile","createObjectURL","getRomData","storeFile","saveData","result","11MjXxkT","toArray","base64ToBlob","createElement","count","++id, platform_id, program_name, save_data_id, rom_data_id, timestamp","platform_id","credits","toString","427FRODyo","getCollectionItems","split","collectionMeta","transaction","onerror","117CzfCqR","save_data","key, data","create","++id, rom_data, hash, data_type","Failed to delete entries with id ","getAllSaveMeta","width","getContext"];return _0x2064=function(){return h},_0x2064()}function _0x51e2(h,o){const e=_0x2064();return _0x51e2=function(i,c){return i=i-442,e[i]},_0x51e2(h,o)}var Mr,ko,G0,Bs,mu,Y0,fl;const ia=class ia{constructor(){Nt(this,Bs);Nt(this,Y0);Nt(this,Mr,void 0);const o=_0x23b206;nr(this,Mr,new Dexie(Ke(ia,G0))),Ke(this,Mr)[o(473)](2)[o(538)]({files:o(497),saveMeta:o(485),saveData:o(464),romData:o(446)}),Ke(this,Mr)[o(473)](3).stores({files:o(497),saveMeta:o(485),saveData:o(464),romData:o(499),collectionMeta:"++id, collection_unique_name, collection_title, collection_image",collectionItemData:o(536)}).upgrade(e=>{const i=o;return e[i(452)](i(516)).toCollection()[i(554)](c=>{const f=i;c[f(522)]=f(553)})})}static[_0x23b206(465)](o,e){localStorage.setItem(Ke(ia,ko)+o,e)}static[_0x23b206(511)](o){const e=_0x23b206;localStorage[e(463)](Ke(ia,ko)+o)}static getValue(o,e){let i=localStorage.getItem(Ke(ia,ko)+o);return i??e}async[_0x23b206(477)](o,e){const i=_0x23b206;Debug[i(471)]()&&Debug[i(449)](i(444),i(540)),await Ke(this,Mr)[i(526)][i(509)]({key:o,data:e})}async[_0x23b206(474)](o){const e=_0x23b206,i=await Ke(this,Mr)[e(526)][e(546)]({key:o})[e(504)]();return i?i.data:null}async[_0x23b206(558)](o){const e=_0x23b206;Debug.updateMessage("load",e(454)),await Ke(this,Mr)[e(526)][e(546)]({key:o})[e(525)]()}async[_0x23b206(467)](o){return new Promise(async e=>{const i=_0x51e2;let c={},f=[];if(o[i(520)]){const Te=o[i(520)][i(512)](Ie=>({...Ie,key:o.platform_id+"."+Ie[i(534)]}));for(const Ie of Te){const Oe=await this[i(474)](Ie.key);Oe?c[Ie[i(534)]]=Oe:f[i(544)](Ie[i(466)])}}const m=o[i(486)]+".software",g=await this[i(474)](m)||null;e([c,f,g])})}async[_0x23b206(461)](o,e,i,c){const f=_0x23b206;await this[f(528)]();const m=[];for(const g of c){const Te=await sr(this,Bs,mu).call(this,g[f(530)]),Ie=await this.blobToBase64(g[f(506)]),Oe=await Ke(this,Mr)[f(516)][f(546)]({hash:Te})[f(504)]();m[f(544)]({item:g,hash:Te,existing:Oe,itemImageB64:Ie})}try{return await Ke(this,Mr)[f(493)]("rw",Ke(this,Mr).collectionMeta,Ke(this,Mr).collectionItemData,Ke(this,Mr)[f(516)],async()=>{const g=f,Te=await Ke(this,Mr).collectionMeta[g(460)]({collection_unique_name:o,collection_title:e,collection_image:i});for(const{item:Ie,hash:Oe,existing:_e,itemImageB64:De}of m){let Ae;_e?Ae=_e.id:Ae=await Ke(this,Mr)[g(516)].add({rom_data:Ie[g(530)],hash:Oe,data_type:"blob"}),await Ke(this,Mr)[g(453)][g(460)]({collection_id:Te,platform_id:Ie[g(486)],title:Ie.title,credits:Ie[g(487)],description:Ie[g(458)],image:De,rom_name:Ie.filename,rom_data_id:Ae,launched:![]})}}),!![]}catch(g){return console[f(457)](f(468),g),![]}}async[_0x23b206(490)](){const o=_0x23b206;return(await Ke(this,Mr)[o(453)][o(481)]())[o(512)](i=>{const c=o;return i[c(514)]&&(i.collection_id=i.id,i[c(541)]=i[c(448)],i.image=this[c(482)](i.collection_image)),i})}async[_0x23b206(443)](){const o=_0x23b206;return(await Ke(this,Mr).collectionMeta.toArray())[o(512)](i=>{const c=o;return i[c(514)]&&(i[c(539)]=i.id,i[c(541)]=i[c(448)],i[c(506)]=this[c(482)](i[c(507)])),i})}async storeState(o,e,i,c,f){const m=_0x23b206,g=await sr(this,Bs,mu).call(this,e),Te=await sr(this,Y0,fl).call(this,c,i),Ie=await this[m(531)](Te),Oe=e,_e=await this[m(531)](o);try{await Ke(this,Mr)[m(493)]("rw",Ke(this,Mr)[m(551)],Ke(this,Mr)[m(478)],Ke(this,Mr)[m(516)],async()=>{const De=m,Ae=await Ke(this,Mr)[De(516)][De(546)]({hash:g})[De(504)]();let qe;Ae==null?qe=await Ke(this,Mr)[De(516)][De(460)]({rom_data:Oe,hash:g,data_type:"blob"}):qe=Ae.id;let Fe=await Ke(this,Mr)[De(478)][De(460)]({save_data:_e});await Ke(this,Mr)[De(551)].add({platform_id:c,program_name:f,screenshot:Ie,rom_data_id:qe,save_data_id:Fe,timestamp:Date[De(545)]()}),ToastManager[De(542)](De(543))})}catch(De){console.error("Failed to save state:",De)}}async[_0x23b206(531)](o){return new Promise((e,i)=>{const c=_0x51e2,f=new FileReader;f[c(521)]=()=>e(f[c(479)]),f[c(494)]=i,f.readAsDataURL(o)})}[_0x23b206(482)](o){const e=_0x23b206,i=atob(o[e(491)](",")[1]),c=o[e(491)](",")[0][e(491)](":")[1].split(";")[0],f=new ArrayBuffer(i[e(556)]),m=new Uint8Array(f);for(let g=0;g<i[e(556)];g++)m[g]=i.charCodeAt(g);return new Blob([f],{type:c})}async[_0x23b206(501)](){const o=_0x23b206;return(await Ke(this,Mr)[o(551)][o(524)]("timestamp")[o(459)]()[o(481)]()).map(i=>{const c=o;return i[c(514)]&&(i[c(514)]=this.base64ToBlob(i[c(514)])),i})}async[_0x23b206(476)](o){const e=_0x23b206,i=await Ke(this,Mr)[e(516)][e(447)](o);return i[e(522)]==e(553)&&(i[e(550)]=this[e(482)](i[e(550)])),i}async[_0x23b206(510)](o){const e=_0x23b206,i=await Ke(this,Mr).saveMeta[e(447)](o);if(!i)throw new Error("Save state not found.");const c=await Ke(this,Mr)[e(478)][e(447)](i[e(455)]),f=await Ke(this,Mr).romData[e(447)](i[e(456)]);let m;if(f[e(522)]==e(553)?m=this[e(482)](f.rom_data):m=f[e(550)],!c||!f)throw new Error(e(518));const g=this[e(482)](c[e(496)]);return{platform_id:i.platform_id,program_name:i.program_name,save_data:g,rom_data:m,timestamp:i.timestamp}}async[_0x23b206(513)](o){const e=_0x23b206;try{await Ke(this,Mr)[e(493)]("rw",Ke(this,Mr)[e(551)],Ke(this,Mr)[e(478)],Ke(this,Mr).collectionItemData,Ke(this,Mr).romData,async()=>{const i=e,c=await Ke(this,Mr)[i(551)][i(447)](o);if(c){await Ke(this,Mr).saveData[i(546)]("id")[i(547)](c[i(455)])[i(525)](),await Ke(this,Mr).saveMeta[i(525)](o);let f=await Ke(this,Mr).saveMeta.where(i(456))[i(547)](c.rom_data_id).count();await Ke(this,Mr)[i(453)].where(i(456))[i(547)](c[i(456)]).count()+f==0&&await Ke(this,Mr).romData[i(546)]("id")[i(547)](c[i(456)]).delete()}})}catch(i){console[e(457)](e(500)+o+":",i)}}async deleteAllCollections(){const o=_0x23b206;try{await Ke(this,Mr)[o(493)]("rw",Ke(this,Mr)[o(492)],Ke(this,Mr)[o(453)],Ke(this,Mr)[o(551)],Ke(this,Mr)[o(516)],async()=>{const e=o,i=await Ke(this,Mr)[e(492)][e(481)]();for(let c of i){const f=c.id,m=await Ke(this,Mr)[e(453)].where("collection_id")[e(547)](f)[e(481)]();if(m.length>0){await Ke(this,Mr)[e(453)][e(546)](e(539))[e(547)](f)[e(525)](),await Ke(this,Mr)[e(492)][e(525)](f);for(let g of m){const Te=g[e(456)];let Ie=await Ke(this,Mr)[e(551)].where(e(456))[e(547)](Te)[e(484)]();await Ke(this,Mr)[e(453)][e(546)](e(456))[e(547)](Te)[e(484)]()+Ie==0&&await Ke(this,Mr).romData[e(546)]("id")[e(547)](Te)[e(525)]()}}}})}catch(e){console[o(457)](o(462),e)}}};Mr=new WeakMap,ko=new WeakMap,G0=new WeakMap,Bs=new WeakSet,mu=async function(o){return new Promise((e,i)=>{const c=_0x51e2,f=new FileReader;f.onload=function(m){const g=_0x51e2,Te=m.target[g(479)],Ie=_0xec57e9[g(537)][g(529)][g(498)](Te),Oe=_0xec57e9[g(527)](Ie)[g(488)]();e(Oe)},f[c(494)]=function(m){i(m)},f[c(523)](o)})},Y0=new WeakSet,fl=function(o,e){const i=_0x23b206;return o!="atari2600"&&o!=i(508)?e:new Promise((c,f)=>{const m=i,g=new Image,Te=URL[m(475)](e);g[m(557)]=()=>{const Ie=m,Oe=g[Ie(502)],_e=g.height,De=Oe/_e,Ae=document[Ie(483)](Ie(515)),qe=Ae[Ie(503)]("2d");o==Ie(555)&&De<.8?(Ae[Ie(502)]=Oe*2,Ae.height=_e,qe[Ie(549)](g,0,0,Ae.width,Ae[Ie(533)])):o==Ie(508)&&De>2?(Ae.width=Oe/2,Ae[Ie(533)]=_e,qe[Ie(549)](g,0,0,Ae[Ie(502)],Ae[Ie(533)])):(Ae[Ie(502)]=Oe,Ae[Ie(533)]=_e,qe[Ie(549)](g,0,0)),Ae[Ie(532)](Fe=>{URL[Ie(442)](Te),c(Fe)},"image/png")},g[m(494)]=Ie=>{URL[m(442)](Te),f(Ie)},g[m(450)]=Te})},Nt(ia,ko,_0x23b206(451)),Nt(ia,G0,_0x23b206(552));let StorageManager=ia;function _0x4beb(){const h=["getValue","single","click","uninstall","16ikagLC","exit_selection","is_enter_required","1446825aZUcvm","#cors_results","9267090XNcgIo","657UefBab","corsrow","length","is_selection_enabled","set_cli","1460632NrddQL","add","createElement","6816372DbXpmO","tag","innerHTML","append","50664DPffEB","set_selection_mode","setAttribute","27510UclPgf","8327afSYPU","231LiXxqH","label","LINES","data-value","process_selection","singleline","get_keywords","forEach","classList","selection_changed","install","cli","data","37158vninlz","appendChild","span"];return _0x4beb=function(){return h},_0x4beb()}const _0x3f61e8=_0x2592;(function(h,o){const e=_0x2592,i=h();for(;[];)try{if(-parseInt(e(228))/1+parseInt(e(253))/2*(-parseInt(e(240))/3)+parseInt(e(217))/4*(parseInt(e(220))/5)+-parseInt(e(231))/6+parseInt(e(222))/7+-parseInt(e(235))/8*(-parseInt(e(223))/9)+-parseInt(e(238))/10*(-parseInt(e(239))/11)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x4beb,998869);function _0x2592(h,o){const e=_0x4beb();return _0x2592=function(i,c){return i=i-216,e[i]},_0x2592(h,o)}var Q0,dl;const Ru=class Ru{constructor(){Nt(this,Q0);if(new.target===Ru)throw new Error}[_0x3f61e8(246)](){throw new Error}get_help(){throw new Error}process_input(o,e){throw new Error}[_0x3f61e8(250)](){}[_0x3f61e8(216)](){}[_0x3f61e8(226)](){return![]}[_0x3f61e8(219)](){return![]}[_0x3f61e8(218)](){return![]}[_0x3f61e8(244)](o){return![]}[_0x3f61e8(227)](o){const e=_0x3f61e8;this[e(251)]=o}show_results(o,e){o!=[]&&sr(this,Q0,dl).call(this,o,e)}[_0x3f61e8(249)](o){}};Q0=new WeakSet,dl=function(o,e){const i=_0x3f61e8,c=s(i(221));c[i(233)]="",o[i(247)](f=>{const m=i,g=document[m(230)]("p");g[m(237)](m(243),f[m(252)]),g[m(248)].add(m(224));const Te=document[m(230)]("span");if(StorageManager[m(256)](m(242))!=m(257)||Te.classList[m(229)](m(245)),f[m(232)]){const Ie=document[m(230)](m(255));Ie.classList[m(229)]("tag"),Ie[m(233)]="["+f.tag+"] ",Te[m(254)](Ie)}Te[m(234)](f[m(241)]),g[m(234)](Te),g.addEventListener(m(258),Ie=>{this[m(244)](f)}),c[m(234)](g)}),o[i(225)]>0&&e&&(this.cli[i(236)](!![]),this[i(251)].update())};let CommandBase=Ru;const _0x2d5321=_0x4fc7;function _0x29b0(){const h=["display","selection_changed","classList","style","selected_command","DEBUG","Press any key to continue.","progress_line","split","includes","directMode","4711zUbFrX","soft_msg","ArrowDown","&nbsp;","color","set_loading","get_help","highlight","left","commands","message_clear","parse_hidden_input","top","bind","print_help","metaKey","8ZrMWkt","preventDefault","print_progress","is_selection_enabled","addEventListener","Invalid command","print","escape","clear","open","<p style='margin-left: 3ch;'>","#progress_line","10OUmkGw","add","set_selection_mode","getElementById","bottom","offsetHeight","removeEventListener","block","space","div","scrollIntoView","90IGUgWg","</p>","right","register_default","redraw","Enter","939605KBqjUr","inject","altKey","append","ctrlKey","innerHTML","textContent","cors_query","key","backspace","#cursor","reload","enter","trim","is_command_selectable","length","Backspace","dispatchEvent","message","appendChild","contains","158336ESEOQC","scrollTop","forEach","offsetWidth","getBoundingClientRect","4ZgEJJw","start","register_command","8166VEKSNK","parse_input","#F4AD46","#guru","filter","inline","is_enter_required","default_command_name","939306FwbiWI","createElement","borderColor","push","process_input","Guru Meditation: ","blinking","querySelector","#guruWrapper0","auto","corsrow","location","click","Escape","getValue","off","keydown","slice","#cors_results","span","ArrowUp","#cors_query_prefix","CLI commands:","set_article_mode","1643818stniKx","1845369ZCOIzq","remove","set_default_handler","children"];return _0x29b0=function(){return h},_0x29b0()}(function(h,o){const e=_0x4fc7,i=h();for(;[];)try{if(-parseInt(e(488))/1+parseInt(e(496))/2*(-parseInt(e(461))/3)+-parseInt(e(493))/4*(-parseInt(e(467))/5)+parseInt(e(504))/6+parseInt(e(422))/7*(parseInt(e(438))/8)+parseInt(e(407))/9*(parseInt(e(450))/10)+-parseInt(e(406))/11===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x29b0,119922);function _0x4fc7(h,o){const e=_0x29b0();return _0x4fc7=function(i,c){return i=i-392,e[i]},_0x4fc7(h,o)}var Oo,To,Do,nn,Yn,ci,Pi,Ps,gu,qs,yu,J0,xl,X0,hl,Z0,pl,Ns,bu,$0,_l,ec,vl,tc,ml;const oi=class oi{constructor(){Nt(this,Ps);Nt(this,qs);Nt(this,J0);Nt(this,X0);Nt(this,Z0);Nt(this,Ns);Nt(this,$0);Nt(this,ec);Nt(this,tc);Nt(this,Oo,void 0);Nt(this,To,void 0);Nt(this,Do,void 0);Nt(this,nn,void 0);Nt(this,Yn,[]);Nt(this,Pi,void 0);const o=_0x2d5321;nr(this,nn,-1),nr(this,Pi,![]),this.cursorShowing=![],this[o(421)]=![],this.commands=[],this[o(503)]=null,this[o(481)]=![],this[o(502)]=![],nr(this,Oo,sr(this,J0,xl)[o(435)](this)),this[o(427)](![])}[_0x2d5321(452)](o){const e=_0x2d5321;o?sr(this,qs,yu).call(this):(sr(this,Ps,gu).call(this),this.selected_command&&this.selected_command[e(412)]())}is_loading(){return Ke(this,To)}[_0x2d5321(427)](o){nr(this,To,o),o?sr(this,qs,yu).call(this):sr(this,Ps,gu).call(this)}[_0x2d5321(405)](o){nr(this,Pi,o)}on(){const o=_0x2d5321;document[o(442)](o(398),Ke(this,Oo))}[_0x2d5321(397)](){const o=_0x2d5321;document.removeEventListener(o(398),Ke(this,Oo))}update(){const o=_0x2d5321;if(this.is_command_selectable){const e=s(o(400));let i=[...e[o(410)]];if(i=i[o(500)](c=>c[o(413)][o(487)](o(392))),i[o(482)]==0)return;i[o(490)](c=>c[o(511)](o(401))[o(413)][o(408)](o(429))),Ke(this,nn)>=0&&(sr(this,X0,hl).call(this,i[Ke(this,nn)].querySelector(o(401))),this[o(415)][o(412)](i[Ke(this,nn)])),Ke(this,nn)!=-1&&!sr(this,ec,vl).call(this,i[Ke(this,nn)][o(511)](o(401)),e)&&i[Ke(this,nn)][o(460)]({behavior:o(513),block:o(494),inline:"start"})}}[_0x2d5321(508)](o){const e=_0x2d5321;let i=![];if(o[e(482)]===1)Ke(this,nn)==-1&&(Ke(oi,ci)[e(473)]+=o);else if(o===e(483)||o===e(476))Ke(this,nn)==-1&&(Ke(oi,ci)[e(473)]=Ke(oi,ci)[e(473)][e(399)](0,-1));else if(o===" "||o===e(458))Ke(this,nn)==-1&&(Ke(oi,ci)[e(473)]+=" ");else if(o==="clear")Ke(this,nn)==-1&&(Ke(oi,ci)[e(473)]=""),Ke(this,Do)instanceof Function&&Ke(this,Do).call(this);else if(o==e(445))nr(this,Pi,![]),Ke(this,nn)>=0?(nr(this,nn,-1),this.set_selection_mode(![])):Ke(this,nn)==-1&&(this[e(508)](e(446)),this[e(452)](![]));else if(o==e(479)){if(Ke(this,Pi))return;i=!![];let c=s(e(400))[e(410)];if(this.is_enter_required&&Ke(this,nn)==-1)i=!![];else if(this[e(481)]&&Ke(this,nn)==-1)c.length>0&&j0(this,nn)._++,this[e(452)](!![]);else if(Ke(this,nn)>=0){sr(this,tc,ml).call(this,c[Ke(this,nn)]),this[e(415)][e(412)]();return}}this[e(497)](Ke(oi,ci)[e(473)],i)}[_0x2d5321(495)](o){const e=_0x2d5321;if(o instanceof CommandBase)this.commands[e(507)](o),o.set_cli(this);else throw new Error(e(443))}[_0x2d5321(464)](o){const e=_0x2d5321;this[e(503)]=o}[_0x2d5321(433)](){const o=_0x2d5321;let e=Ke(oi,ci)[o(473)];this[o(497)](Ke(oi,ci)[o(473)],e==o(447))}[_0x2d5321(468)](o,e){const i=_0x2d5321;this.is_loading()||(Ke(oi,ci).textContent=o,this[i(497)](o,e))}parse_input(o,e){const i=_0x2d5321;o=o[i(480)]().toLowerCase();const c=o[i(419)](/\s+/),[f,...m]=c;sr(this,Ns,bu).call(this),sr(this,Z0,pl).call(this);let g=null,Te=null;for(let Ie of this[i(431)])if(Ie.get_keywords()[i(420)](f)){g=Ie,Te=m;break}if(g==null&&this[i(503)]&&o[i(482)]>3){for(let Ie of this[i(431)])if(Ie.get_keywords()[i(420)](this[i(503)])){g=Ie,Te=c,sr(this,$0,_l).call(this,this[i(503)]);break}}g!=null?(this[i(481)]=g[i(441)](),this[i(415)]=g,g.process_input(Te,e)):this[i(415)]=null}[_0x2d5321(436)](){const o=_0x2d5321;this.clear(),Ke(this,Yn).push(o(404)),this[o(431)][o(490)](i=>{const c=o;Ke(this,Yn)[c(507)](c(425)),Ke(this,Yn).push("<p style='margin-left: 1ch;'>"+i[c(428)]()[0].toUpperCase()+c(462)),Ke(this,Yn)[c(507)](c(448)+i[c(428)]()[1]+c(462))});var e=s(o(400));e[o(472)]="",Ke(this,Yn)[o(490)](i=>{const c=o;var f=document[c(505)](c(459)),m=document[c(505)]("p");m[c(472)]=i,f[c(486)](m),e.append(f)})}[_0x2d5321(465)](){const o=_0x2d5321;var e=s("#cors_results");e[o(472)]="",Ke(this,Yn).forEach(i=>{const c=o;var f=document[c(505)](c(459)),m=document[c(505)]("p");m[c(472)]=i,f[c(486)](m),e[c(470)](f)})}clear(){const o=_0x2d5321;nr(this,Yn,[]);var e=s(o(400));e[o(472)]=""}reset(){const o=_0x2d5321;nr(this,nn,-1),nr(this,Pi,![]),Ke(oi,ci)[o(473)]="",sr(this,Ns,bu).call(this),this[o(452)](![]),this.set_loading(![]),this[o(446)]()}[_0x2d5321(432)](...o){const e=_0x2d5321;this.clear(),this[e(485)](o)}[_0x2d5321(485)](...o){const e=_0x2d5321;o[e(490)](i=>Ke(this,Yn)[e(507)](i)),Ke(this,Yn)[e(507)](e(425)),Ke(this,Yn)[e(507)](e(417)),this.redraw(),document[e(442)]("click",function(){setTimeout(function(){location[_0x4fc7(478)]()},120)}),document[e(442)]("keydown",function(){setTimeout(function(){location[_0x4fc7(478)]()},120)})}[_0x2d5321(440)](o){const e=_0x2d5321;let i=s(e(449));if(i==null){const c=s(e(400)),f=document[e(505)]("div");i=document[e(505)]("p"),i.id=e(418),f[e(486)](i),c[e(470)](f)}i[e(472)]=o}[_0x2d5321(444)](o){const e=_0x2d5321;Ke(this,Yn)[e(507)](o),this.redraw()}[_0x2d5321(423)](o){const e=_0x2d5321;this[e(446)](),Ke(this,Yn)[e(507)](o),this[e(465)]()}guru(o,e=![]){const i=_0x2d5321;if(StorageManager[i(396)](i(416))!="1")return;function c(){const f=i;e?(hide("#guruWrapper0"),s(f(512))[f(456)](f(394),this),document[f(456)](f(394),c,!![])):window[f(393)][f(478)](![])}if(s(i(512)).addEventListener(i(394),c,!![]),e)s("#guruMessage2")[i(472)]=o,s(i(499)).style[i(426)]=i(498),s("#guru")[i(414)][i(506)]=i(498),show("#guruWrapper0",i(457));else throw s("#guruMessage2")[i(472)]=o,show(i(512),i(457)),new Error(i(509)+o)}[_0x2d5321(409)](o){nr(this,Do,o)}};Oo=new WeakMap,To=new WeakMap,Do=new WeakMap,nn=new WeakMap,Yn=new WeakMap,ci=new WeakMap,Pi=new WeakMap,Ps=new WeakSet,gu=function(){const o=_0x2d5321;s(o(477))[o(413)].add(o(510))},qs=new WeakSet,yu=function(){const o=_0x2d5321;s(o(477))[o(413)][o(408)]("blinking")},J0=new WeakSet,xl=function(o){const e=_0x2d5321;if(o[e(439)](),!Ke(this,To)){if(o[e(475)][e(482)]===1&&!o[e(471)]&&!o[e(437)]&&!o[e(469)])this[e(508)](o[e(475)]);else if(o.key==="Backspace")this.process_input(e(476));else if(o[e(475)]==e(466))this[e(508)]("enter");else if(o.key===e(395))this.process_input(e(445));else if(o[e(475)]===e(424)){if(Ke(this,Pi)){let i=s(e(400));i[e(489)]+=i[e(455)]}else if(Ke(this,nn)!=-1){let i=s(e(400))[e(410)];Ke(this,nn)<i[e(482)]-1?j0(this,nn)._++:Ke(this,nn)==i[e(482)]-1&&nr(this,nn,0)}else if(!this[e(481)]){let i=s(e(400));i[e(489)]+=i[e(455)]}}else if(o.key===e(402)){if(Ke(this,Pi)){let i=s(e(400));i[e(489)]-=i[e(455)]}else if(Ke(this,nn)!=-1){let i=s(e(400))[e(410)];Ke(this,nn)>0?j0(this,nn)._--:Ke(this,nn)==0&&nr(this,nn,i[e(482)]-1)}else if(!this[e(481)]){let i=s(e(400));i.scrollTop-=i.offsetHeight}}this.update()}},X0=new WeakSet,hl=function(o){const e=_0x2d5321;o[e(413)][e(408)](e(429)),o[e(491)],o[e(413)][e(451)](e(429))},Z0=new WeakSet,pl=function(){this[_0x2d5321(446)]()},Ns=new WeakSet,bu=function(){const o=_0x2d5321;s(o(403))[o(414)][o(411)]="none",s(o(403))[o(472)]=""},$0=new WeakSet,_l=function(o){const e=_0x2d5321;s(e(403))[e(414)][e(411)]=e(501),s("#cors_query_prefix")[e(472)]=o+" "},ec=new WeakSet,vl=function(o,e){const i=_0x2d5321,c=o[i(492)](),f=e.getBoundingClientRect();return c[i(434)]>=f[i(434)]&&c.left>=f[i(430)]&&c.bottom<=f[i(454)]&&c.right<=f[i(463)]},tc=new WeakSet,ml=function(o){const e=_0x2d5321;if(o!=null){var i=new MouseEvent(e(394),{bubbles:!![],cancelable:!![],view:window});o[e(484)](i)}},Nt(oi,ci,document[_0x2d5321(453)](_0x2d5321(474)));let CLI=oi;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function __values$1(h){var o=typeof Symbol=="function"&&Symbol.iterator,e=o&&h[o],i=0;if(e)return e.call(h);if(h&&typeof h.length=="number")return{next:function(){return h&&i>=h.length&&(h=void 0),{value:h&&h[i++],done:!h}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read$1(h,o){var e=typeof Symbol=="function"&&h[Symbol.iterator];if(!e)return h;var i=e.call(h),c,f=[],m;try{for(;(o===void 0||o-- >0)&&!(c=i.next()).done;)f.push(c.value)}catch(g){m={error:g}}finally{try{c&&!c.done&&(e=i.return)&&e.call(i)}finally{if(m)throw m.error}}return f}function __spread$1(){for(var h=[],o=0;o<arguments.length;o++)h=h.concat(__read$1(arguments[o]));return h}var isUndefined=function(h){return typeof h>"u"},ComponentEvent=function(){function h(e,i){var c,f;if(this._canceled=!1,i)try{for(var m=__values$1(Object.keys(i)),g=m.next();!g.done;g=m.next()){var Te=g.value;this[Te]=i[Te]}}catch(Ie){c={error:Ie}}finally{try{g&&!g.done&&(f=m.return)&&f.call(m)}finally{if(c)throw c.error}}this.eventType=e}var o=h.prototype;return o.stop=function(){this._canceled=!0},o.isCanceled=function(){return this._canceled},h}(),Component=function(){function h(){this._eventHandler={}}var o=h.prototype;return o.trigger=function(e){for(var i=[],c=1;c<arguments.length;c++)i[c-1]=arguments[c];var f=e instanceof ComponentEvent?e.eventType:e,m=__spread$1(this._eventHandler[f]||[]);return m.length<=0?this:(e instanceof ComponentEvent?(e.currentTarget=this,m.forEach(function(g){g(e)})):m.forEach(function(g){g.apply(void 0,__spread$1(i))}),this)},o.once=function(e,i){var c=this;if(typeof e=="object"&&isUndefined(i)){var f=e;for(var m in f)this.once(m,f[m]);return this}else if(typeof e=="string"&&typeof i=="function"){var g=function(){for(var Te=[],Ie=0;Ie<arguments.length;Ie++)Te[Ie]=arguments[Ie];i.apply(void 0,__spread$1(Te)),c.off(e,g)};this.on(e,g)}return this},o.hasOn=function(e){return!!this._eventHandler[e]},o.on=function(e,i){if(typeof e=="object"&&isUndefined(i)){var c=e;for(var f in c)this.on(f,c[f]);return this}else if(typeof e=="string"&&typeof i=="function"){var m=this._eventHandler[e];isUndefined(m)&&(this._eventHandler[e]=[],m=this._eventHandler[e]),m.push(i)}return this},o.off=function(e,i){if(isUndefined(e))return this._eventHandler={},this;if(isUndefined(i)){if(typeof e=="string")return delete this._eventHandler[e],this;var c=e;for(var f in c)this.off(f,c[f]);return this}var m=this._eventHandler[e];if(m){for(var g=m.length,Te=0;Te<g;++Te)if(m[Te]===i){m.splice(Te,1),g<=1&&delete this._eventHandler[e];break}}return this},h.VERSION="3.0.5",h}(),ComponentEvent$1=ComponentEvent;function some(h,o){for(var e=h.length,i=0;i<e;++i)if(o(h[i],i))return!0;return!1}function find$1(h,o){for(var e=h.length,i=0;i<e;++i)if(o(h[i],i))return h[i];return null}function getUserAgentString(h){var o=h;if(typeof o>"u"){if(typeof navigator>"u"||!navigator)return"";o=navigator.userAgent||""}return o.toLowerCase()}function execRegExp(h,o){try{return new RegExp(h,"g").exec(o)}catch{return null}}function hasUserAgentData(){if(typeof navigator>"u"||!navigator||!navigator.userAgentData)return!1;var h=navigator.userAgentData,o=h.brands||h.uaList;return!!(o&&o.length)}function findVersion(h,o){var e=execRegExp("("+h+")((?:\\/|\\s|:)([0-9|\\.|_]+))",o);return e?e[3]:""}function convertVersion(h){return h.replace(/_/g,".")}function findPreset(h,o){var e=null,i="-1";return some(h,function(c){var f=execRegExp("("+c.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",o);return!f||c.brand?!1:(e=c,i=f[3]||"-1",c.versionAlias?i=c.versionAlias:c.versionTest&&(i=findVersion(c.versionTest.toLowerCase(),o)||i),i=convertVersion(i),!0)}),{preset:e,version:i}}function findPresetBrand(h,o){var e={brand:"",version:"-1"};return some(h,function(i){var c=findBrand(o,i);return c?(e.brand=i.id,e.version=i.versionAlias||c.version,e.version!=="-1"):!1}),e}function findBrand(h,o){return find$1(h,function(e){var i=e.brand;return execRegExp(""+o.test,i.toLowerCase())})}var BROWSER_PRESETS=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],CHROMIUM_PRESETS=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],WEBKIT_PRESETS=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],WEBVIEW_PRESETS=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],OS_PRESETS=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function isWebView(h){return!!findPreset(WEBVIEW_PRESETS,h).preset}function getLegacyAgent(h){var o=getUserAgentString(h),e=!!/mobi/g.exec(o),i={name:"unknown",version:"-1",majorVersion:-1,webview:isWebView(o),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},c={name:"unknown",version:"-1",majorVersion:-1},f=findPreset(BROWSER_PRESETS,o),m=f.preset,g=f.version,Te=findPreset(OS_PRESETS,o),Ie=Te.preset,Oe=Te.version,_e=findPreset(CHROMIUM_PRESETS,o);if(i.chromium=!!_e.preset,i.chromiumVersion=_e.version,!i.chromium){var De=findPreset(WEBKIT_PRESETS,o);i.webkit=!!De.preset,i.webkitVersion=De.version}return Ie&&(c.name=Ie.id,c.version=Oe,c.majorVersion=parseInt(Oe,10)),m&&(i.name=m.id,i.version=g,i.webview&&c.name==="ios"&&i.name!=="safari"&&(i.webview=!1)),i.majorVersion=parseInt(i.version,10),{browser:i,os:c,isMobile:e,isHints:!1}}function getClientHintsAgent(h){var o=navigator.userAgentData,e=(o.uaList||o.brands).slice(),i=h&&h.fullVersionList,c=o.mobile||!1,f=e[0],m=(h&&h.platform||o.platform||navigator.platform).toLowerCase(),g={name:f.brand,version:f.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!findPresetBrand(WEBVIEW_PRESETS,e).brand||isWebView(getUserAgentString())},Te={name:"unknown",version:"-1",majorVersion:-1};g.webkit=!g.chromium&&some(WEBKIT_PRESETS,function(qe){return findBrand(e,qe)});var Ie=findPresetBrand(CHROMIUM_PRESETS,e);if(g.chromium=!!Ie.brand,g.chromiumVersion=Ie.version||"-1",!g.chromium){var Oe=findPresetBrand(WEBKIT_PRESETS,e);g.webkit=!!Oe.brand,g.webkitVersion=Oe.version||"-1"}var _e=find$1(OS_PRESETS,function(qe){return new RegExp(""+qe.test,"g").exec(m)});if(Te.name=_e?_e.id:"",h&&(Te.version=h.platformVersion||"-1"),i&&i.length){var De=findPresetBrand(BROWSER_PRESETS,i);g.name=De.brand||g.name,g.version=De.version||g.version}else{var Ae=findPresetBrand(BROWSER_PRESETS,e);g.name=Ae.brand||g.name,g.version=Ae.brand&&h?h.uaFullVersion:Ae.version}return g.webkit&&(Te.name=c?"ios":"mac"),Te.name==="ios"&&g.webview&&(g.version="-1"),Te.version=convertVersion(Te.version),g.version=convertVersion(g.version),Te.majorVersion=parseInt(Te.version,10),g.majorVersion=parseInt(g.version,10),{browser:g,os:Te,isMobile:c,isHints:!0}}function agent(h){return typeof h>"u"&&hasUserAgentData()?getClientHintsAgent():getLegacyAgent(h)}function keys(h){return Object.keys(h)}var OBSERVERS_PATH="__observers__",COMPUTED_PATH="__computed__",CFCS_DETECTED_DEPENDENCIES_VERSION=1,CFCS_DETECTED_DEPENDENCIES="__CFCS_DETECTED_DEPENDENCIES__",extendStatics$3=function(h,o){return extendStatics$3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])},extendStatics$3(h,o)};function __extends$3(h,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");extendStatics$3(h,o);function e(){this.constructor=h}h.prototype=o===null?Object.create(o):(e.prototype=o.prototype,new e)}function getDetectedStack(){Object[CFCS_DETECTED_DEPENDENCIES]=Object[CFCS_DETECTED_DEPENDENCIES]||{};var h=Object[CFCS_DETECTED_DEPENDENCIES];return h[CFCS_DETECTED_DEPENDENCIES_VERSION]=h[CFCS_DETECTED_DEPENDENCIES_VERSION]||[],h[CFCS_DETECTED_DEPENDENCIES_VERSION]}function getCurrentDetected(){var h=getDetectedStack();return h[h.length-1]}function detectDependencies(h){var o=getDetectedStack(),e=[],i={host:h,observers:e,push:function(c){h!==c&&e.indexOf(c)===-1&&e.push(c)}};return o.push(i),i}function endDetectDependencies(){var h=getDetectedStack();return h.pop()}var Observer=function(){function h(e){this._emitter=new Component,this._current=e}var o=h.prototype;return Object.defineProperty(o,"current",{get:function(){var e=getCurrentDetected();return e==null||e.push(this),this._current},set:function(e){this._setCurrent(e)},enumerable:!1,configurable:!0}),o.subscribe=function(e){return this.current,this._emitter.on("update",e),this},o.unsubscribe=function(e){return this._emitter.off("update",e),this},o._setCurrent=function(e){var i=this._current,c=e!==i;this._current=e,c&&this._emitter.trigger("update",e,i)},o.toString=function(){return"".concat(this.current)},o.valueOf=function(){return this.current},h}(),ComputedObserver=function(h){__extends$3(o,h);function o(i){var c=h.call(this)||this;return c._computedCallback=i,c._registered=[],c._onCheckUpdate=function(){c._setCurrent(c.current)},c._current=c.current,c}var e=o.prototype;return Object.defineProperty(e,"current",{get:function(){var i=this;detectDependencies(this);var c=this._computedCallback(),f=endDetectDependencies();return this._registered.forEach(function(m){m.unsubscribe(i._onCheckUpdate)}),f.observers.forEach(function(m){m.subscribe(i._onCheckUpdate)}),this._registered=f.observers,c},enumerable:!1,configurable:!0}),o}(Observer);function injectObserve(h,o,e){e===void 0&&(e=o);var i={configurable:!0,get:function(){return getObserver(this,e).current},set:function(c){getObserver(this,e,c).current=c}};Object.defineProperty(h,o,i),e!==o&&Object.defineProperty(h,e,{configurable:!0,get:function(){return getObserver(this,e).current}})}function Observe(){for(var h=[],o=0;o<arguments.length;o++)h[o]=arguments[o];return h.length>1?injectObserve(h[0],h[1]):function(e,i){return injectObserve(e,i,h[0])}}function injectReactiveSubscribe(h){h.subscribe=function(o,e){this[o],getObserver(this,o).subscribe(e)},h.unsubscribe=function(o,e){var i=this;if(!o){keys(getObservers(this)).forEach(function(c){i.unsubscribe(c)});return}o in this&&getObserver(this,o).unsubscribe(e)}}function ReactiveSubscribe(h){var o=h.prototype;injectReactiveSubscribe(o)}function observe(h){return new Observer(h)}function computed(h){return new ComputedObserver(h)}function defineObservers(h){var o={};return Object.defineProperty(h,OBSERVERS_PATH,{get:function(){return o}}),o}function getObservers(h,o){var e,i;h[OBSERVERS_PATH]||defineObservers(h);var c=h[OBSERVERS_PATH];if(!o){var f=(i=(e=h==null?void 0:h.constructor)===null||e===void 0?void 0:e.prototype)===null||i===void 0?void 0:i[COMPUTED_PATH];f&&f.forEach(function(m){!(m in c)&&m in h&&h[m]})}return c}function getObserver(h,o,e){var i=getObservers(h);return i[o]||(i[o]=observe(e)),i[o]}function Computed(h,o,e){var i=e.get;function c(){var g=getObservers(this,!0);return o in g||(g[o]=computed(i.bind(this))),getObserver(this,o).current}var f={configurable:!0,get:c};h[COMPUTED_PATH]||(h[COMPUTED_PATH]=[]);var m=h[COMPUTED_PATH];return m.indexOf(o)===-1&&m.push(o),Object.defineProperty(h,o,f),f}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$2=function(h,o){return extendStatics$2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var c in i)i.hasOwnProperty(c)&&(e[c]=i[c])},extendStatics$2(h,o)};function __extends$2(h,o){extendStatics$2(h,o);function e(){this.constructor=h}h.prototype=o===null?Object.create(o):(e.prototype=o.prototype,new e)}var __assign$2=function(){return __assign$2=Object.assign||function(o){for(var e,i=1,c=arguments.length;i<c;i++){e=arguments[i];for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(o[f]=e[f])}return o},__assign$2.apply(this,arguments)};function __decorate(h,o,e,i){var c=arguments.length,f=c<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(h,o,e,i);else for(var g=h.length-1;g>=0;g--)(m=h[g])&&(f=(c<3?m(f):c>3?m(o,e,f):m(o,e))||f);return c>3&&f&&Object.defineProperty(o,e,f),f}var win;typeof window>"u"?win={navigator:{userAgent:""}}:win=window;var DIRECTION_NONE=1,DIRECTION_LEFT=2,DIRECTION_RIGHT=4,DIRECTION_HORIZONTAL=6,DIRECTION_UP=8,DIRECTION_DOWN=16,DIRECTION_VERTICAL=24,DIRECTION_ALL=30,MOUSE_LEFT="left",MOUSE_RIGHT="right",MOUSE_MIDDLE="middle",MOUSE_BUTTON_CODE_MAP={1:MOUSE_LEFT,2:MOUSE_MIDDLE,3:MOUSE_RIGHT},ANY="any",NONE="none",SHIFT="shift",CTRL="ctrl",ALT="alt",META="meta",VELOCITY_INTERVAL=16,IOS_EDGE_THRESHOLD=30,IS_IOS_SAFARI="ontouchstart"in win&&agent().browser.name==="safari",TRANSFORM=function(){if(typeof document>"u")return"";for(var h=(document.head||document.getElementsByTagName("head")[0]).style,o=["transform","webkitTransform","msTransform","mozTransform"],e=0,i=o.length;e<i;e++)if(o[e]in h)return o[e];return""}(),PREVENT_DRAG_CSSPROPS={"-webkit-user-select":"none","-ms-user-select":"none","-moz-user-select":"none","user-select":"none","-webkit-user-drag":"none"},toArray$2=function(h){for(var o=[],e=0,i=h.length;e<i;e++)o.push(h[e]);return o},$=function(h,o){o===void 0&&(o=!1);var e;if(typeof h=="string"){var i=h.match(/^<([a-z]+)\s*([^>]*)>/);if(i){var c=document.createElement("div");c.innerHTML=h,e=toArray$2(c.childNodes)}else e=toArray$2(document.querySelectorAll(h));o||(e=e.length>=1?e[0]:void 0)}else h===win?e=h:"value"in h||"current"in h?e=h.value||h.current:h.nodeName&&(h.nodeType===1||h.nodeType===9)?e=h:"jQuery"in win&&h instanceof jQuery||h.constructor.prototype.jquery?e=o?h.toArray():h.get(0):Array.isArray(h)&&(e=h.map(function(f){return $(f)}),o||(e=e.length>=1?e[0]:void 0));return e},raf=win.requestAnimationFrame||win.webkitRequestAnimationFrame,caf=win.cancelAnimationFrame||win.webkitCancelAnimationFrame;if(raf&&!caf){var keyInfo_1={},oldraf_1=raf;raf=function(h){var o=function(i){keyInfo_1[e]&&h(i)},e=oldraf_1(o);return keyInfo_1[e]=!0,e},caf=function(h){delete keyInfo_1[h]}}else raf&&caf||(raf=function(h){return win.setTimeout(function(){h(win.performance&&win.performance.now&&win.performance.now()||new Date().getTime())},16)},caf=win.clearTimeout);var requestAnimationFrame$1=function(h){return raf(h)},cancelAnimationFrame=function(h){caf(h)},map=function(h,o){var e={};for(var i in h)i&&(e[i]=o(h[i],i));return e},filter=function(h,o){var e={};for(var i in h)i&&o(h[i],i)&&(e[i]=h[i]);return e},every=function(h,o){for(var e in h)if(e&&!o(h[e],e))return!1;return!0},equal=function(h,o){return every(h,function(e,i){return e===o[i]})},roundNumFunc={},roundNumber=function(h,o){return roundNumFunc[o]||(roundNumFunc[o]=getRoundFunc(o)),roundNumFunc[o](h)},roundNumbers=function(h,o){return!h||!o?h:map(h,function(e,i){return roundNumber(e,typeof o=="number"?o:o[i])})},getDecimalPlace=function(h){if(!isFinite(h))return 0;var o="".concat(h);if(o.indexOf("e")>=0){for(var e=0,i=1;Math.round(h*i)/i!==h;)i*=10,e++;return e}return o.indexOf(".")>=0?o.length-o.indexOf(".")-1:0},inversePow=function(h){return 1/Math.pow(10,h)},getRoundFunc=function(h){var o=h<1?Math.pow(10,getDecimalPlace(h)):1;return function(e){return h===0?0:Math.round(Math.round(e/h)*h*o)/o}},getAngle=function(h,o){return Math.atan2(o,h)*180/Math.PI},isCssPropsFromAxes=function(h){var o=!0;return Object.keys(PREVENT_DRAG_CSSPROPS).forEach(function(e){(!h||h[e]!==PREVENT_DRAG_CSSPROPS[e])&&(o=!1)}),o},getDirection$1=function(h,o){return h&&o?DIRECTION_ALL:h?DIRECTION_HORIZONTAL:o?DIRECTION_VERTICAL:DIRECTION_NONE},useDirection=function(h,o,e){return e?!!(o===DIRECTION_ALL||o&h&&e&h):!!(o&h)},setCssProps=function(h,o,e){var i,c=(i={},i[DIRECTION_NONE]="auto",i[DIRECTION_ALL]="none",i[DIRECTION_VERTICAL]="pan-x",i[DIRECTION_HORIZONTAL]="pan-y",i),f={};if(h&&h.style){var m=o.touchAction?o.touchAction:c[e],g=__assign$2(__assign$2({},PREVENT_DRAG_CSSPROPS),{"touch-action":h.style["touch-action"]==="none"?"none":m});Object.keys(g).forEach(function(Te){f[Te]=h.style[Te]}),Object.keys(g).forEach(function(Te){h.style[Te]=g[Te]})}return f},revertCssProps=function(h,o){h&&h.style&&o&&Object.keys(o).forEach(function(e){h.style[e]=o[e]})},EventManager=function(){function h(e){this._axes=e,this.holdingCount=0}var o=h.prototype;return o.hold=function(e,i){var c=this._getRoundPos(e).roundPos;this._axes.trigger(new ComponentEvent$1("hold",{pos:c,input:i.input||null,inputEvent:i.event||null,isTrusted:!0}))},o.triggerRelease=function(e){var i=this._getRoundPos(e.destPos,e.depaPos),c=i.roundPos,f=i.roundDepa;e.destPos=c,e.depaPos=f,e.setTo=this._createUserControll(e.destPos,e.duration),this._axes.trigger(new ComponentEvent$1("release",__assign$2(__assign$2({},e),{bounceRatio:this._getBounceRatio(c)})))},o.triggerChange=function(e,i,c,f){var m=this;f===void 0&&(f=!1);var g=this.animationManager,Te=g.axisManager,Ie=g.getEventInfo(),Oe=this._getRoundPos(e,i),_e=Oe.roundPos,De=Oe.roundDepa,Ae=Te.moveTo(_e,De),qe=(c==null?void 0:c.event)||(Ie==null?void 0:Ie.event)||null,Fe={pos:Ae.pos,delta:Ae.delta,bounceRatio:this._getBounceRatio(Ae.pos),holding:f,inputEvent:qe,isTrusted:!!qe,input:(c==null?void 0:c.input)||(Ie==null?void 0:Ie.input)||null,set:qe?this._createUserControll(Ae.pos):function(){}},Ne=new ComponentEvent$1("change",Fe);return this._axes.trigger(Ne),Object.keys(Ae.pos).forEach(function(Ve){var Ue=Ae.pos[Ve];getObserver(m._axes,Ve,Ue).current=Ue}),qe&&Te.set(Fe.set().destPos),!Ne.isCanceled()},o.triggerAnimationStart=function(e){var i=this._getRoundPos(e.destPos,e.depaPos),c=i.roundPos,f=i.roundDepa;e.destPos=c,e.depaPos=f,e.setTo=this._createUserControll(e.destPos,e.duration);var m=new ComponentEvent$1("animationStart",e);return this._axes.trigger(m),!m.isCanceled()},o.triggerAnimationEnd=function(e){e===void 0&&(e=!1),this._axes.trigger(new ComponentEvent$1("animationEnd",{isTrusted:e}))},o.triggerFinish=function(e){e===void 0&&(e=!1),this._axes.trigger(new ComponentEvent$1("finish",{isTrusted:e}))},o.setAnimationManager=function(e){this.animationManager=e},o.destroy=function(){this._axes.off()},o._createUserControll=function(e,i){i===void 0&&(i=0);var c={destPos:__assign$2({},e),duration:i};return function(f,m){return f&&(c.destPos=__assign$2({},f)),m!==void 0&&(c.duration=m),c}},o._getRoundPos=function(e,i){var c=this._axes.options.round;return{roundPos:roundNumbers(e,c),roundDepa:roundNumbers(i,c)}},o._getBounceRatio=function(e){return this._axes.axisManager.map(e,function(i,c){return i<c.range[0]&&c.bounce[0]!==0?(c.range[0]-i)/c.bounce[0]:i>c.range[1]&&c.bounce[1]!==0?(i-c.range[1])/c.bounce[1]:0})},__decorate([Observe],h.prototype,"holdingCount",void 0),h}(),InterruptManager=function(){function h(e){this._options=e,this._prevented=!1}var o=h.prototype;return o.isInterrupting=function(){return this._options.interruptable||this._prevented},o.isInterrupted=function(){return!this._options.interruptable&&this._prevented},o.setInterrupt=function(e){this._options.interruptable||(this._prevented=e)},h}(),getInsidePosition=function(h,o,e,i){var c=h,f=[e[0]?o[0]:i?o[0]-i[0]:o[0],e[1]?o[1]:i?o[1]+i[1]:o[1]];return c=Math.max(f[0],c),c=Math.min(f[1],c),c},isOutside=function(h,o){return h<o[0]||h>o[1]},isEndofBounce=function(h,o,e,i){return!i[0]&&h===o[0]-e[0]||!i[1]&&h===o[1]+e[1]},getDuration=function(h,o){var e=Math.sqrt(h/o*2);return e<100?0:e},isCircularable=function(h,o,e){return e[1]&&h>o[1]||e[0]&&h<o[0]},getCirculatedPos=function(h,o,e){var i=h,c=o[0],f=o[1],m=f-c;return e[1]&&h>f&&(i=(i-f)%m+c),e[0]&&h<c&&(i=(i-c)%m+f),i},AxisManager=function(){function h(e){var i=this;this._axis=e,this._complementOptions(),this._pos=Object.keys(this._axis).reduce(function(c,f){return c[f]=i._axis[f].startPos,c},{})}var o=h.prototype;return o.getDelta=function(e,i){var c=this.get(e);return map(this.get(i),function(f,m){return f-c[m]})},o.get=function(e){var i=this;return e&&Array.isArray(e)?e.reduce(function(c,f){return f&&f in i._pos&&(c[f]=i._pos[f]),c},{}):__assign$2(__assign$2({},this._pos),e||{})},o.moveTo=function(e,i){i===void 0&&(i=this._pos);var c=map(this._pos,function(f,m){return m in e&&m in i?e[m]-i[m]:0});return this.set(this.map(e,function(f,m){return m?getCirculatedPos(f,m.range,m.circular):0})),{pos:__assign$2({},this._pos),delta:c}},o.set=function(e){for(var i in e)i&&i in this._pos&&(this._pos[i]=e[i])},o.every=function(e,i){var c=this._axis;return every(e,function(f,m){return i(f,c[m],m)})},o.filter=function(e,i){var c=this._axis;return filter(e,function(f,m){return i(f,c[m],m)})},o.map=function(e,i){var c=this._axis;return map(e,function(f,m){return i(f,c[m],m)})},o.isOutside=function(e){return!this.every(e?this.get(e):this._pos,function(i,c){return!isOutside(i,c.range)})},o.getAxisOptions=function(e){return this._axis[e]},o.setAxis=function(e){var i=this;Object.keys(e).forEach(function(c){if(!i._axis[c])throw new Error("Axis ".concat(c," does not exist in Axes instance"));i._axis[c]=__assign$2(__assign$2({},i._axis[c]),e[c])}),this._complementOptions()},o._complementOptions=function(){var e=this;Object.keys(this._axis).forEach(function(i){e._axis[i]=__assign$2({range:[0,100],startPos:e._axis[i].range[0],bounce:[0,0],circular:[!1,!1]},e._axis[i]),["bounce","circular"].forEach(function(c){var f=e._axis,m=f[i][c];/string|number|boolean/.test(typeof m)&&(f[i][c]=[m,m])})})},h}(),SUPPORT_TOUCH="ontouchstart"in win,SUPPORT_POINTER="PointerEvent"in win,SUPPORT_MSPOINTER="MSPointerEvent"in win,SUPPORT_POINTER_EVENTS=SUPPORT_POINTER||SUPPORT_MSPOINTER,isValidKey=function(h,o){return!!(!o||o.indexOf(ANY)>-1||o.indexOf(NONE)>-1&&!h.shiftKey&&!h.ctrlKey&&!h.altKey&&!h.metaKey||o.indexOf(SHIFT)>-1&&h.shiftKey||o.indexOf(CTRL)>-1&&h.ctrlKey||o.indexOf(ALT)>-1&&h.altKey||o.indexOf(META)>-1&&h.metaKey)},EventInput=function(){function h(){var e=this;this._stopContextMenu=function(i){i.preventDefault(),win.removeEventListener("contextmenu",e._stopContextMenu)}}var o=h.prototype;return o.extendEvent=function(e){var i,c=this.prevEvent,f=this._getCenter(e),m=c?this._getMovement(e):{x:0,y:0},g=c?this._getScale(e):1,Te=c?getAngle(f.x-c.center.x,f.y-c.center.y):0,Ie=c?c.deltaX+m.x:m.x,Oe=c?c.deltaY+m.y:m.y,_e=m.x,De=m.y,Ae=this._latestInterval,qe=Date.now(),Fe=Ae?qe-Ae.timestamp:0,Ne=c?c.velocityX:0,Ve=c?c.velocityY:0;return(!Ae||Fe>=VELOCITY_INTERVAL)&&(Ae&&(i=[(Ie-Ae.deltaX)/Fe,(Oe-Ae.deltaY)/Fe],Ne=i[0],Ve=i[1]),this._latestInterval={timestamp:qe,deltaX:Ie,deltaY:Oe}),{srcEvent:e,scale:g,angle:Te,center:f,deltaX:Ie,deltaY:Oe,offsetX:_e,offsetY:De,velocityX:Ne,velocityY:Ve,preventSystemEvent:!0}},o._getDistance=function(e,i){var c=i.clientX-e.clientX,f=i.clientY-e.clientY;return Math.sqrt(c*c+f*f)},o._getButton=function(e){var i={1:MOUSE_LEFT,2:MOUSE_RIGHT,4:MOUSE_MIDDLE},c=this._isTouchEvent(e)?MOUSE_LEFT:i[e.buttons];return c||null},o._isTouchEvent=function(e){return e.type&&e.type.indexOf("touch")>-1},o._isValidButton=function(e,i){return i.indexOf(e)>-1},o._isValidEvent=function(e,i,c){return(!i||isValidKey(e,i))&&(!c||this._isValidButton(this._getButton(e),c))},o._preventMouseButton=function(e,i){i===MOUSE_RIGHT?win.addEventListener("contextmenu",this._stopContextMenu):i===MOUSE_MIDDLE&&e.preventDefault()},h}(),MouseEventInput=function(h){__extends$2(o,h);function o(){var i=h!==null&&h.apply(this,arguments)||this;return i.start=["mousedown"],i.move=["mousemove"],i.end=["mouseup"],i}var e=o.prototype;return e.onEventStart=function(i,c,f){var m=this._getButton(i);return this._isValidEvent(i,c,f)?(this._preventMouseButton(i,m),this.extendEvent(i)):null},e.onEventMove=function(i,c,f){return this._isValidEvent(i,c,f)?this.extendEvent(i):null},e.onEventEnd=function(){},e.onRelease=function(){this.prevEvent=null},e.getTouches=function(i,c){return c&&this._isValidButton(MOUSE_BUTTON_CODE_MAP[i.which],c)&&this.end.indexOf(i.type)===-1?1:0},e._getScale=function(){return 1},e._getCenter=function(i){return{x:i.clientX,y:i.clientY}},e._getMovement=function(i){var c=this.prevEvent.srcEvent;return{x:i.clientX-c.clientX,y:i.clientY-c.clientY}},o}(EventInput),TouchEventInput=function(h){__extends$2(o,h);function o(){var i=h!==null&&h.apply(this,arguments)||this;return i.start=["touchstart"],i.move=["touchmove"],i.end=["touchend","touchcancel"],i}var e=o.prototype;return e.onEventStart=function(i,c){return this._baseTouches=i.touches,this._isValidEvent(i,c)?this.extendEvent(i):null},e.onEventMove=function(i,c){return this._isValidEvent(i,c)?this.extendEvent(i):null},e.onEventEnd=function(i){this._baseTouches=i.touches},e.onRelease=function(){this.prevEvent=null,this._baseTouches=null},e.getTouches=function(i){return i.touches.length},e._getScale=function(i){return i.touches.length!==2||this._baseTouches.length<2?null:this._getDistance(i.touches[0],i.touches[1])/this._getDistance(this._baseTouches[0],this._baseTouches[1])},e._getCenter=function(i){return{x:i.touches[0].clientX,y:i.touches[0].clientY}},e._getMovement=function(i){var c=this.prevEvent.srcEvent;return i.touches[0].identifier!==c.touches[0].identifier?{x:0,y:0}:{x:i.touches[0].clientX-c.touches[0].clientX,y:i.touches[0].clientY-c.touches[0].clientY}},o}(EventInput),PointerEventInput=function(h){__extends$2(o,h);function o(){var i=h!==null&&h.apply(this,arguments)||this;return i.start=SUPPORT_POINTER?["pointerdown"]:["MSPointerDown"],i.move=SUPPORT_POINTER?["pointermove"]:["MSPointerMove"],i.end=SUPPORT_POINTER?["pointerup","pointercancel"]:["MSPointerUp","MSPointerCancel"],i._firstInputs=[],i._recentInputs=[],i}var e=o.prototype;return e.onEventStart=function(i,c,f){var m=this._getButton(i);return this._isValidEvent(i,c,f)?(this._preventMouseButton(i,m),this._updatePointerEvent(i),this.extendEvent(i)):null},e.onEventMove=function(i,c,f){return this._isValidEvent(i,c,f)?(this._updatePointerEvent(i),this.extendEvent(i)):null},e.onEventEnd=function(i){this._removePointerEvent(i)},e.onRelease=function(){this.prevEvent=null,this._firstInputs=[],this._recentInputs=[]},e.getTouches=function(){return this._recentInputs.length},e._getScale=function(){return this._recentInputs.length!==2?null:this._getDistance(this._recentInputs[0],this._recentInputs[1])/this._getDistance(this._firstInputs[0],this._firstInputs[1])},e._getCenter=function(i){return{x:i.clientX,y:i.clientY}},e._getMovement=function(i){var c=this.prevEvent.srcEvent;return i.pointerId!==c.pointerId?{x:0,y:0}:{x:i.clientX-c.clientX,y:i.clientY-c.clientY}},e._updatePointerEvent=function(i){var c=this,f=!1;this._recentInputs.forEach(function(m,g){m.pointerId===i.pointerId&&(f=!0,c._recentInputs[g]=i)}),f||(this._firstInputs.push(i),this._recentInputs.push(i))},e._removePointerEvent=function(i){this._firstInputs=this._firstInputs.filter(function(c){return c.pointerId!==i.pointerId}),this._recentInputs=this._recentInputs.filter(function(c){return c.pointerId!==i.pointerId})},o}(EventInput),TouchMouseEventInput=function(h){__extends$2(o,h);function o(){var i=h!==null&&h.apply(this,arguments)||this;return i.start=["mousedown","touchstart"],i.move=["mousemove","touchmove"],i.end=["mouseup","touchend","touchcancel"],i}var e=o.prototype;return e.onEventStart=function(i,c,f){var m=this._getButton(i);return this._isTouchEvent(i)&&(this._baseTouches=i.touches),this._isValidEvent(i,c,f)?(this._preventMouseButton(i,m),this.extendEvent(i)):null},e.onEventMove=function(i,c,f){return this._isValidEvent(i,c,f)?this.extendEvent(i):null},e.onEventEnd=function(i){this._isTouchEvent(i)&&(this._baseTouches=i.touches)},e.onRelease=function(){this.prevEvent=null,this._baseTouches=null},e.getTouches=function(i,c){return this._isTouchEvent(i)?i.touches.length:this._isValidButton(MOUSE_BUTTON_CODE_MAP[i.which],c)&&this.end.indexOf(i.type)===-1?1:0},e._getScale=function(i){return this._isTouchEvent(i)?i.touches.length!==2||this._baseTouches.length<2?1:this._getDistance(i.touches[0],i.touches[1])/this._getDistance(this._baseTouches[0],this._baseTouches[1]):this.prevEvent.scale},e._getCenter=function(i){return this._isTouchEvent(i)?{x:i.touches[0].clientX,y:i.touches[0].clientY}:{x:i.clientX,y:i.clientY}},e._getMovement=function(i){var c=this,f=this.prevEvent.srcEvent,m=[i,f].map(function(Ie){return c._isTouchEvent(Ie)?{id:Ie.touches[0].identifier,x:Ie.touches[0].clientX,y:Ie.touches[0].clientY}:{id:null,x:Ie.clientX,y:Ie.clientY}}),g=m[0],Te=m[1];return g.id===Te.id?{x:g.x-Te.x,y:g.y-Te.y}:{x:0,y:0}},o}(EventInput),toAxis=function(h,o){return o.reduce(function(e,i,c){return h[c]&&(e[h[c]]=i),e},{})},convertInputType=function(h){h===void 0&&(h=[]);var o=!1,e=!1,i=!1;return h.forEach(function(c){switch(c){case"mouse":e=!0;break;case"touch":o=SUPPORT_TOUCH;break;case"pointer":i=SUPPORT_POINTER_EVENTS}}),i?new PointerEventInput:o&&e?new TouchMouseEventInput:o?new TouchEventInput:e?new MouseEventInput:null};function getAddEventOptions(h){return h.indexOf("touch")>-1?{passive:!1}:!1}var InputObserver=function(){function h(e){var i=e.options,c=e.interruptManager,f=e.eventManager,m=e.axisManager,g=e.animationManager;this._isOutside=!1,this._moveDistance=null,this._isStopped=!1,this.options=i,this._interruptManager=c,this._eventManager=f,this._axisManager=m,this._animationManager=g}var o=h.prototype;return o.get=function(e){return this._axisManager.get(e.axes)},o.hold=function(e,i){if(!(this._interruptManager.isInterrupted()||!e.axes.length)){var c={input:e,event:i};this._isStopped=!1,this._interruptManager.setInterrupt(!0),this._animationManager.stopAnimation(c),++this._eventManager.holdingCount,this._moveDistance||this._eventManager.hold(this._axisManager.get(),c),this._isOutside=this._axisManager.isOutside(e.axes),this._moveDistance=this._axisManager.get(e.axes)}},o.change=function(e,i,c,f){if(!(this._isStopped||!this._interruptManager.isInterrupting()||this._axisManager.every(c,function(De){return De===0}))){var m=i.srcEvent?i.srcEvent:i;if(!m.__childrenAxesAlreadyChanged){var g=this._moveDistance||this._axisManager.get(e.axes),Te;Te=map(g,function(De,Ae){return De+(c[Ae]||0)}),this._moveDistance&&(this._moveDistance=this._axisManager.map(Te,function(De,Ae){var qe=Ae.circular,Fe=Ae.range;return qe&&(qe[0]||qe[1])?getCirculatedPos(De,Fe,qe):De})),this._isOutside&&this._axisManager.every(g,function(De,Ae){return!isOutside(De,Ae.range)})&&(this._isOutside=!1),g=this._atOutside(g),Te=this._atOutside(Te),(!this.options.nested||!this._isEndofAxis(c,g,Te))&&(m.__childrenAxesAlreadyChanged=!0);var Ie={input:e,event:i};if(f){var Oe=this._animationManager.getDuration(Te,g);this._animationManager.animateTo(Te,Oe,Ie)}else{var _e=!this._eventManager.triggerChange(Te,g,Ie,!0);_e&&(this._isStopped=!0,this._moveDistance=null,this._animationManager.finish(!1))}}}},o.release=function(e,i,c,f){if(!(this._isStopped||!this._interruptManager.isInterrupting()||!this._moveDistance)){var m=i.srcEvent?i.srcEvent:i;m.__childrenAxesAlreadyReleased&&(c=c.map(function(){return 0}));var g=this._axisManager.get(e.axes),Te=this._axisManager.get(),Ie=this._animationManager.getDisplacement(c),Oe=toAxis(e.axes,Ie),_e=this._axisManager.get(this._axisManager.map(Oe,function(Ve,Ue,We){return Ue.circular&&(Ue.circular[0]||Ue.circular[1])?g[We]+Ve:getInsidePosition(g[We]+Ve,Ue.range,Ue.circular,Ue.bounce)}));m.__childrenAxesAlreadyReleased=!0;var De=this._animationManager.getDuration(_e,g,f);De===0&&(_e=__assign$2({},Te));var Ae={depaPos:Te,destPos:_e,duration:De,delta:this._axisManager.getDelta(Te,_e),inputEvent:i,input:e,isTrusted:!0};--this._eventManager.holdingCount,this._eventManager.triggerRelease(Ae),this._eventManager.holdingCount===0&&(this._moveDistance=null);var qe=this._animationManager.getUserControl(Ae),Fe=equal(qe.destPos,Te),Ne={input:e,event:i};Fe||qe.duration===0?(Fe||this._eventManager.triggerChange(qe.destPos,Te,Ne,!0),this._interruptManager.setInterrupt(!1),this._axisManager.isOutside()?this._animationManager.restore(Ne):this._eventManager.triggerFinish(!0)):this._animationManager.animateTo(qe.destPos,qe.duration,Ne)}},o._atOutside=function(e){var i=this;return this._isOutside?this._axisManager.map(e,function(c,f){var m=f.range[0]-f.bounce[0],g=f.range[1]+f.bounce[1];return c>g?g:c<m?m:c}):this._axisManager.map(e,function(c,f){var m=f.range[0],g=f.range[1],Te=f.bounce,Ie=f.circular;return Ie[0]&&c<m||Ie[1]&&c>g?c:c<m?m-i._animationManager.interpolate(m-c,Te[0]):c>g?g+i._animationManager.interpolate(c-g,Te[1]):c})},o._isEndofAxis=function(e,i,c){return this._axisManager.every(i,function(f,m,g){return e[g]===0||i[g]===c[g]&&isEndofBounce(f,m.range,m.bounce,m.circular)})},h}(),clamp$1=function(h,o,e){return Math.max(Math.min(h,e),o)},AnimationManager=function(){function h(e){var i=e.options,c=e.interruptManager,f=e.eventManager,m=e.axisManager;this._options=i,this.interruptManager=c,this.eventManager=f,this.axisManager=m,this.animationEnd=this.animationEnd.bind(this)}var o=h.prototype;return o.getDuration=function(e,i,c){var f=this,m;if(typeof c<"u")m=c;else{var g=map(i,function(Te,Ie){return getDuration(Math.abs(Te-e[Ie]),f._options.deceleration)});m=Object.keys(g).reduce(function(Te,Ie){return Math.max(Te,g[Ie])},-1/0)}return clamp$1(m,this._options.minimumDuration,this._options.maximumDuration)},o.getDisplacement=function(e){var i=Math.pow(e.reduce(function(f,m){return f+m*m},0),1/e.length),c=Math.abs(i/-this._options.deceleration);return e.map(function(f){return f/2*c})},o.stopAnimation=function(e){if(this._animateParam){var i=this.axisManager.get(),c=this.axisManager.map(i,function(f,m){return getCirculatedPos(f,m.range,m.circular)});every(c,function(f,m){return i[m]===f})||this.eventManager.triggerChange(c,i,e,!!e),this._animateParam=null,this._raf&&cancelAnimationFrame(this._raf),this._raf=null,this.eventManager.triggerAnimationEnd(!!(e!=null&&e.event))}},o.getEventInfo=function(){return this._animateParam&&this._animateParam.input&&this._animateParam.inputEvent?{input:this._animateParam.input,event:this._animateParam.inputEvent}:null},o.restore=function(e){var i=this.axisManager.get(),c=this.axisManager.map(i,function(f,m){return Math.min(m.range[1],Math.max(m.range[0],f))});this.stopAnimation(),this.animateTo(c,this.getDuration(i,c),e)},o.animationEnd=function(){var e=this.getEventInfo();this._animateParam=null;var i=this.axisManager.filter(this.axisManager.get(),function(c,f){return isCircularable(c,f.range,f.circular)});Object.keys(i).length>0&&this.setTo(this.axisManager.map(i,function(c,f){return getCirculatedPos(c,f.range,f.circular)})),this.interruptManager.setInterrupt(!1),this.eventManager.triggerAnimationEnd(!!e),this.axisManager.isOutside()?this.restore(e):this.finish(!!e)},o.finish=function(e){this._animateParam=null,this.interruptManager.setInterrupt(!1),this.eventManager.triggerFinish(e)},o.getUserControl=function(e){var i=e.setTo();return i.destPos=this.axisManager.get(i.destPos),i.duration=clamp$1(i.duration,this._options.minimumDuration,this._options.maximumDuration),i},o.animateTo=function(e,i,c){var f=this;this.stopAnimation();var m=this._createAnimationParam(e,i,c),g=__assign$2({},m.depaPos),Te=this.eventManager.triggerAnimationStart(m),Ie=this.getUserControl(m);if(!Te&&this.axisManager.every(Ie.destPos,function(_e,De){return isCircularable(_e,De.range,De.circular)})&&console.warn("You can't stop the 'animation' event when 'circular' is true."),Te&&!equal(Ie.destPos,g)){var Oe=(c==null?void 0:c.event)||null;this._animateLoop({depaPos:g,destPos:Ie.destPos,duration:Ie.duration,delta:this.axisManager.getDelta(g,Ie.destPos),isTrusted:!!Oe,inputEvent:Oe,input:(c==null?void 0:c.input)||null},function(){return f.animationEnd()})}},o.setTo=function(e,i){i===void 0&&(i=0);var c=Object.keys(e),f=this.axisManager.get(c);if(equal(e,f))return this;this.interruptManager.setInterrupt(!0);var m=filter(e,function(g,Te){return f[Te]!==g});return Object.keys(m).length?(m=this.axisManager.map(m,function(g,Te){var Ie=Te.range,Oe=Te.circular;return Oe&&(Oe[0]||Oe[1])?g:getInsidePosition(g,Ie,Oe)}),equal(m,f)?this:(i>0?this.animateTo(m,i):(this.stopAnimation(),this.eventManager.triggerChange(m),this.finish(!1)),this)):this},o.setBy=function(e,i){return i===void 0&&(i=0),this.setTo(map(this.axisManager.get(Object.keys(e)),function(c,f){return c+e[f]}),i)},o.setOptions=function(e){this._options=__assign$2(__assign$2({},this._options),e)},o._createAnimationParam=function(e,i,c){var f=this.axisManager.get(),m=e,g=(c==null?void 0:c.event)||null;return{depaPos:f,destPos:m,duration:clamp$1(i,this._options.minimumDuration,this._options.maximumDuration),delta:this.axisManager.getDelta(f,m),inputEvent:g,input:(c==null?void 0:c.input)||null,isTrusted:!!g,done:this.animationEnd}},o._animateLoop=function(e,i){var c=this;if(e.duration){this._animateParam=__assign$2(__assign$2({},e),{startTime:new Date().getTime()});var f=map(e.destPos,function(Te){return Te}),m=this._initState(this._animateParam),g=function(){c._raf=null;var Te=c._animateParam,Ie=c._getNextState(m),Oe=!c.eventManager.triggerChange(Ie.pos,m.pos);if(m=Ie,Ie.finished){Te.destPos=c._getFinalPos(Te.destPos,f),equal(Te.destPos,c.axisManager.get(Object.keys(Te.destPos)))||c.eventManager.triggerChange(Te.destPos,Ie.pos),i();return}else Oe?c.finish(!1):c._raf=requestAnimationFrame$1(g)};g()}else this.eventManager.triggerChange(e.destPos),i()},o._getFinalPos=function(e,i){var c=this,f=1e-6,m=map(e,function(g,Te){if(g>=i[Te]-f&&g<=i[Te]+f)return i[Te];var Ie=c._getRoundUnit(g,Te),Oe=roundNumber(g,Ie);return Oe});return m},o._getRoundUnit=function(e,i){var c=this._options.round,f=null;if(!c){var m=this.axisManager.getAxisOptions(i);f=inversePow(Math.max(getDecimalPlace(m.range[0]),getDecimalPlace(m.range[1]),getDecimalPlace(e)))}return f||c},h}(),EasingManager=function(h){__extends$2(o,h);function o(){var i=h!==null&&h.apply(this,arguments)||this;return i._useDuration=!0,i}var e=o.prototype;return e.interpolate=function(i,c){var f=this._easing(1e-5)/1e-5;return this._easing(i/(c*f))*c},e.updateAnimation=function(i){var c,f=this._animateParam;if(f){var m=new Date().getTime()-f.startTime,g=(i==null?void 0:i.destPos)||f.destPos,Te=(c=i==null?void 0:i.duration)!==null&&c!==void 0?c:f.duration;if(i!=null&&i.restart||Te<=m){this.setTo(g,Te-m);return}if(i!=null&&i.destPos){var Ie=this.axisManager.get();this._initialEasingPer=this._prevEasingPer,f.delta=this.axisManager.getDelta(Ie,g),f.destPos=g}if(i!=null&&i.duration){var Oe=(m+this._durationOffset)/f.duration;this._durationOffset=Oe*Te-m,f.duration=Te}}},e._initState=function(i){return this._initialEasingPer=0,this._prevEasingPer=0,this._durationOffset=0,{pos:i.depaPos,easingPer:0,finished:!1}},e._getNextState=function(i){var c=this,f=this._animateParam,m=i.pos,g=f.destPos,Te=map(m,function(Ae,qe){return Ae<=g[qe]?1:-1}),Ie=new Date().getTime()-f.startTime,Oe=(Ie+this._durationOffset)/f.duration,_e=this._easing(Oe),De=this.axisManager.map(m,function(Ae,qe,Fe){var Ne=Oe>=1?g[Fe]:Ae+f.delta[Fe]*(_e-c._prevEasingPer)/(1-c._initialEasingPer),Ve=getCirculatedPos(Ne,qe.range,qe.circular);if(Ne!==Ve){var Ue=Te[Fe]*(qe.range[1]-qe.range[0]);g[Fe]-=Ue,m[Fe]-=Ue}return Ve});return this._prevEasingPer=_e,{pos:De,easingPer:_e,finished:_e>=1}},e._easing=function(i){return i>1?1:this._options.easing(i)},o}(AnimationManager),Axes=function(h){__extends$2(o,h);function o(i,c,f){i===void 0&&(i={}),c===void 0&&(c={}),f===void 0&&(f={});var m=h.call(this)||this;return m.axis=i,m._inputs=[],m.options=__assign$2({easing:function(g){return 1-Math.pow(1-g,3)},interruptable:!0,maximumDuration:1/0,minimumDuration:0,deceleration:6e-4,round:null,nested:!1},c),Object.keys(f).forEach(function(g){m.axis[g].startPos=f[g]}),m.interruptManager=new InterruptManager(m.options),m.axisManager=new AxisManager(m.axis),m.eventManager=new EventManager(m),m.animationManager=new EasingManager(m),m.inputObserver=new InputObserver(m),m.eventManager.setAnimationManager(m.animationManager),m.eventManager.triggerChange(m.axisManager.get()),m}var e=o.prototype;return Object.defineProperty(e,"holding",{get:function(){return this.eventManager.holdingCount>0},enumerable:!1,configurable:!0}),e.connect=function(i,c){var f;return typeof i=="string"?f=i.split(" "):f=i.concat(),~this._inputs.indexOf(c)&&this.disconnect(c),c.mapAxes(f),c.connect(this.inputObserver),this._inputs.push(c),this},e.disconnect=function(i){if(i){var c=this._inputs.indexOf(i);c>=0&&(this._inputs[c].disconnect(),this._inputs.splice(c,1))}else this._inputs.forEach(function(f){return f.disconnect()}),this._inputs=[];return this},e.get=function(i){return this.axisManager.get(i)},e.setTo=function(i,c){return c===void 0&&(c=0),this.animationManager.setTo(i,c),this},e.setBy=function(i,c){return c===void 0&&(c=0),this.animationManager.setBy(i,c),this},e.setOptions=function(i){return this.options=__assign$2(__assign$2({},this.options),i),this.animationManager.setOptions(i),this},e.setAxis=function(i){return this.axisManager.setAxis(i),this},e.stopAnimation=function(){return this.animationManager.stopAnimation(),this.animationManager.finish(!1),this},e.updateAnimation=function(i){return this.animationManager.updateAnimation(i),this},e.isBounceArea=function(i){return this.axisManager.isOutside(i)},e.destroy=function(){this.disconnect(),this.eventManager.destroy()},o.VERSION="3.9.1",o.TRANSFORM=TRANSFORM,o.DIRECTION_NONE=DIRECTION_NONE,o.DIRECTION_LEFT=DIRECTION_LEFT,o.DIRECTION_RIGHT=DIRECTION_RIGHT,o.DIRECTION_UP=DIRECTION_UP,o.DIRECTION_DOWN=DIRECTION_DOWN,o.DIRECTION_HORIZONTAL=DIRECTION_HORIZONTAL,o.DIRECTION_VERTICAL=DIRECTION_VERTICAL,o.DIRECTION_ALL=DIRECTION_ALL,__decorate([Computed],o.prototype,"holding",null),o=__decorate([ReactiveSubscribe],o),o}(Component),getDirectionByAngle=function(h,o){if(o<0||o>90)return DIRECTION_NONE;var e=Math.abs(h);return e>o&&e<180-o?DIRECTION_VERTICAL:DIRECTION_HORIZONTAL},PanInput=function(){function h(e,i){var c=this;this.axes=[],this.element=null,this._enabled=!1,this._activeEvent=null,this._atRightEdge=!1,this._rightEdgeTimer=0,this._dragged=!1,this._isOverThreshold=!1,this._preventClickWhenDragged=function(f){c._dragged&&(f.preventDefault(),f.stopPropagation()),c._dragged=!1},this._voidFunction=function(){},this.element=$(e),this.options=__assign$2({inputType:["touch","mouse","pointer"],inputKey:[ANY],inputButton:[MOUSE_LEFT],scale:[1,1],thresholdAngle:45,threshold:0,preventClickOnDrag:!1,preventDefaultOnDrag:!1,iOSEdgeSwipeThreshold:IOS_EDGE_THRESHOLD,releaseOnScroll:!1,touchAction:null},i),this._onPanstart=this._onPanstart.bind(this),this._onPanmove=this._onPanmove.bind(this),this._onPanend=this._onPanend.bind(this)}var o=h.prototype;return o.mapAxes=function(e){this._direction=getDirection$1(!!e[0],!!e[1]),this.axes=e},o.connect=function(e){return this._activeEvent&&(this._detachElementEvent(),this._detachWindowEvent(this._activeEvent)),this._attachElementEvent(e),this},o.disconnect=function(){return this._detachElementEvent(),this._detachWindowEvent(this._activeEvent),this._direction=DIRECTION_NONE,this},o.destroy=function(){this.disconnect(),this.element=null},o.enable=function(){return this._enabled||(this._enabled=!0,this._originalCssProps=setCssProps(this.element,this.options,this._direction)),this},o.disable=function(){return this._enabled&&(this._enabled=!1,isCssPropsFromAxes(this._originalCssProps)||revertCssProps(this.element,this._originalCssProps)),this},o.isEnabled=function(){return this._enabled},o.release=function(){var e=this._activeEvent,i=e.prevEvent;return e.onRelease(),this._observer.release(this,i,[0,0]),this._detachWindowEvent(e),this},o._onPanstart=function(e){var i=this.options,c=i.inputKey,f=i.inputButton,m=i.preventDefaultOnDrag,g=this._activeEvent,Te=g.onEventStart(e,c,f);if(!(!Te||!this._enabled||g.getTouches(e,f)>1)&&Te.srcEvent.cancelable!==!1){var Ie=this.options.iOSEdgeSwipeThreshold;this._dragged=!1,this._isOverThreshold=!1,this._observer.hold(this,Te),this._atRightEdge=IS_IOS_SAFARI&&Te.center.x>window.innerWidth-Ie,this._attachWindowEvent(g),m&&Te.srcEvent.type!=="touchstart"&&Te.srcEvent.preventDefault(),g.prevEvent=Te}},o._onPanmove=function(e){var i=this,c=this.options,f=c.iOSEdgeSwipeThreshold,m=c.preventClickOnDrag,g=c.releaseOnScroll,Te=c.inputKey,Ie=c.inputButton,Oe=c.threshold,_e=c.thresholdAngle,De=this._activeEvent,Ae=De.onEventMove(e,Te,Ie),qe=De.getTouches(e,Ie);if(qe===0||g&&Ae&&!Ae.srcEvent.cancelable){this._onPanend(e);return}if(!(!Ae||!this._enabled||qe>1)){var Fe=getDirectionByAngle(Ae.angle,_e),Ne=useDirection(DIRECTION_HORIZONTAL,this._direction,Fe),Ve=useDirection(DIRECTION_VERTICAL,this._direction,Fe);if(De.prevEvent&&IS_IOS_SAFARI){var Ue=Ae.center.x<0;if(Ue){this.release();return}else if(this._atRightEdge){clearTimeout(this._rightEdgeTimer);var We=Ae.deltaX<-f;We?this._atRightEdge=!1:this._rightEdgeTimer=window.setTimeout(function(){return i.release()},100)}}var He=this._getDistance([Ae.deltaX,Ae.deltaY],[Ne,Ve]),Xe=this._getOffset([Ae.offsetX,Ae.offsetY],[Ne,Ve]),ot=Xe.some(function(tt){return tt!==0});ot&&(Ae.srcEvent.cancelable!==!1&&Ae.srcEvent.preventDefault(),Ae.srcEvent.stopPropagation()),Ae.preventSystemEvent=ot,ot&&(this._isOverThreshold||He>=Oe)&&(this._dragged=m,this._isOverThreshold=!0,this._observer.change(this,Ae,toAxis(this.axes,Xe))),De.prevEvent=Ae}},o._onPanend=function(e){var i=this.options.inputButton,c=this._activeEvent;if(c.onEventEnd(e),!(!this._enabled||c.getTouches(e,i)!==0)){this._detachWindowEvent(c),clearTimeout(this._rightEdgeTimer);var f=c.prevEvent,m=this._isOverThreshold?this._getOffset([Math.abs(f.velocityX)*(f.offsetX<0?-1:1),Math.abs(f.velocityY)*(f.offsetY<0?-1:1)],[useDirection(DIRECTION_HORIZONTAL,this._direction),useDirection(DIRECTION_VERTICAL,this._direction)]):[0,0];c.onRelease(),this._observer.release(this,f,m)}},o._attachWindowEvent=function(e){var i=this;e==null||e.move.forEach(function(c){window.addEventListener(c,i._onPanmove,getAddEventOptions(c))}),e==null||e.end.forEach(function(c){window.addEventListener(c,i._onPanend,getAddEventOptions(c))})},o._detachWindowEvent=function(e){var i=this;e==null||e.move.forEach(function(c){window.removeEventListener(c,i._onPanmove)}),e==null||e.end.forEach(function(c){window.removeEventListener(c,i._onPanend)})},o._getOffset=function(e,i){var c=this.options.scale;return[i[0]?e[0]*c[0]:0,i[1]?e[1]*c[1]:0]},o._getDistance=function(e,i){return Math.sqrt(Number(i[0])*Math.pow(e[0],2)+Number(i[1])*Math.pow(e[1],2))},o._attachElementEvent=function(e){var i=this,c=convertInputType(this.options.inputType),f=this.element;if(c){if(!f)throw new Error("Element to connect input does not exist.");this._observer=e,this.enable(),this._activeEvent=c,f.addEventListener("click",this._preventClickWhenDragged,!0),c.start.forEach(function(m){f.addEventListener(m,i._onPanstart)}),c.move.forEach(function(m){f.addEventListener(m,i._voidFunction)})}},o._detachElementEvent=function(){var e=this,i=this._activeEvent,c=this.element;c&&(c.removeEventListener("click",this._preventClickWhenDragged,!0),i==null||i.start.forEach(function(f){c.removeEventListener(f,e._onPanstart)}),i==null||i.move.forEach(function(f){c.removeEventListener(f,e._voidFunction)})),this.disable(),this._observer=null},h}();const Axes$1=Axes;var extendStatics$1=function(h,o){return extendStatics$1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])},extendStatics$1(h,o)};function __extends$1(h,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");extendStatics$1(h,o);function e(){this.constructor=h}h.prototype=o===null?Object.create(o):(e.prototype=o.prototype,new e)}var __assign$1=function(){return __assign$1=Object.assign||function(o){for(var e,i=1,c=arguments.length;i<c;i++){e=arguments[i];for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(o[f]=e[f])}return o},__assign$1.apply(this,arguments)};function __spreadArrays(){for(var h=0,o=0,e=arguments.length;o<e;o++)h+=arguments[o].length;for(var i=Array(h),c=0,o=0;o<e;o++)for(var f=arguments[o],m=0,g=f.length;m<g;m++,c++)i[c]=f[m];return i}var isWindow=typeof window<"u",ua$1=isWindow?window.navigator.userAgent:"",SUPPORT_COMPUTEDSTYLE=isWindow?"getComputedStyle"in window:!1,IS_IE=/MSIE|Trident|Windows Phone|Edge/.test(ua$1),SUPPORT_ADDEVENTLISTENER=isWindow?"addEventListener"in document:!1,WIDTH="width",HEIGHT="height";function getAttribute(h,o){return h.getAttribute(o)||""}function toArray$1(h){return[].slice.call(h)}function hasSizeAttribute(h,o){return o===void 0&&(o="data-"),!!h.getAttribute(o+"width")}function hasLoadingAttribute(h,o){return o===void 0&&(o="data-"),"loading"in h&&h.getAttribute("loading")==="lazy"||!!h.getAttribute(o+"lazy")}function hasSkipAttribute(h,o){return o===void 0&&(o="data-"),!!h.getAttribute(o+"skip")}function addEvent(h,o,e){SUPPORT_ADDEVENTLISTENER?h.addEventListener(o,e,!1):h.attachEvent?h.attachEvent("on"+o,e):h["on"+o]=e}function removeEvent(h,o,e){h.removeEventListener?h.removeEventListener(o,e,!1):h.detachEvent?h.detachEvent("on"+o,e):h["on"+o]=null}function innerWidth(h){return getSize(h,"Width")}function innerHeight(h){return getSize(h,"Height")}function getStyles(h){return(SUPPORT_COMPUTEDSTYLE?window.getComputedStyle(h):h.currentStyle)||{}}function getSize(h,o){var e=h["client"+o]||h["offset"+o];return parseFloat(e||getStyles(h)[o.toLowerCase()])||0}function getContentElements(h,o,e){var i=toArray$1(h.querySelectorAll(__spreadArrays(["["+e+"skip] ["+e+"width]"],o.map(function(c){return["["+e+"skip] "+c,c+"["+e+"skip]","["+e+"width] "+c].join(", ")})).join(", ")));return toArray$1(h.querySelectorAll("["+e+"width], "+o.join(", "))).filter(function(c){return i.indexOf(c)===-1})}var elements=[];function addAutoSizer(h,o){!elements.length&&addEvent(window,"resize",resizeAllAutoSizers),h.__PREFIX__=o,elements.push(h),resize(h)}function removeAutoSizer(h,o){var e=elements.indexOf(h);if(!(e<0)){var i=getAttribute(h,o+"fixed");delete h.__PREFIX__,h.style[i===HEIGHT?WIDTH:HEIGHT]="",elements.splice(e,1),!elements.length&&removeEvent(window,"resize",resizeAllAutoSizers)}}function resize(h,o){o===void 0&&(o="data-");var e=h.__PREFIX__||o,i=parseInt(getAttribute(h,""+e+WIDTH),10)||0,c=parseInt(getAttribute(h,""+e+HEIGHT),10)||0,f=getAttribute(h,e+"fixed");if(f===HEIGHT){var m=innerHeight(h)||c;h.style[WIDTH]=i/c*m+"px"}else{var m=innerWidth(h)||i;h.style[HEIGHT]=c/i*m+"px"}}function resizeAllAutoSizers(){elements.forEach(function(h){resize(h)})}var Loader=function(h){__extends$1(o,h);function o(i,c){c===void 0&&(c={});var f=h.call(this)||this;f.isReady=!1,f.isPreReady=!1,f.hasDataSize=!1,f.hasLoading=!1,f.isSkip=!1,f.onCheck=function(g){if(f.clear(),g&&g.type==="error"&&f.onError(f.element),!(f.hasLoading&&f.checkElement())){var Te=!f.hasDataSize&&!f.hasLoading;f.onReady(Te)}},f.options=__assign$1({prefix:"data-"},c),f.element=i;var m=f.options.prefix;return f.hasDataSize=hasSizeAttribute(i,m),f.isSkip=hasSkipAttribute(i,m),f.hasLoading=hasLoadingAttribute(i,m),f}var e=o.prototype;return e.check=function(){return this.isSkip||!this.checkElement()?(this.onAlreadyReady(!0),!1):(this.hasDataSize&&addAutoSizer(this.element,this.options.prefix),(this.hasDataSize||this.hasLoading)&&this.onAlreadyPreReady(),!0)},e.addEvents=function(){var i=this,c=this.element;this.constructor.EVENTS.forEach(function(f){addEvent(c,f,i.onCheck)})},e.clear=function(){var i=this,c=this.element;this.constructor.EVENTS.forEach(function(f){removeEvent(c,f,i.onCheck)}),this.removeAutoSizer()},e.destroy=function(){this.clear(),this.off()},e.removeAutoSizer=function(){if(this.hasDataSize){var i=this.options.prefix;removeAutoSizer(this.element,i)}},e.onError=function(i){this.trigger("error",{element:this.element,target:i})},e.onPreReady=function(){this.isPreReady||(this.isPreReady=!0,this.trigger("preReady",{element:this.element,hasLoading:this.hasLoading,isSkip:this.isSkip}))},e.onReady=function(i){this.isReady||(i=!this.isPreReady&&i,i&&(this.isPreReady=!0),this.removeAutoSizer(),this.isReady=!0,this.trigger("ready",{element:this.element,withPreReady:i,hasLoading:this.hasLoading,isSkip:this.isSkip}))},e.onAlreadyError=function(i){var c=this;setTimeout(function(){c.onError(i)})},e.onAlreadyPreReady=function(){var i=this;setTimeout(function(){i.onPreReady()})},e.onAlreadyReady=function(i){var c=this;setTimeout(function(){c.onReady(i)})},o.EVENTS=[],o}(Component),ElementLoader=function(h){__extends$1(o,h);function o(){return h!==null&&h.apply(this,arguments)||this}var e=o.prototype;return e.setHasLoading=function(i){this.hasLoading=i},e.check=function(){return this.isSkip?(this.onAlreadyReady(!0),!1):(this.hasDataSize?(addAutoSizer(this.element,this.options.prefix),this.onAlreadyPreReady()):this.trigger("requestChildren"),!0)},e.checkElement=function(){return!0},e.destroy=function(){this.clear(),this.trigger("requestDestroy"),this.off()},e.onAlreadyPreReady=function(){h.prototype.onAlreadyPreReady.call(this),this.trigger("reqeustReadyChildren")},o.EVENTS=[],o}(Loader),ImReadyManager=function(h){__extends$1(o,h);function o(i){i===void 0&&(i={});var c=h.call(this)||this;return c.readyCount=0,c.preReadyCount=0,c.totalCount=0,c.totalErrorCount=0,c.isPreReadyOver=!0,c.elementInfos=[],c.options=__assign$1({loaders:{},prefix:"data-"},i),c}var e=o.prototype;return e.check=function(i){var c=this,f=this.options.prefix;this.clear(),this.elementInfos=toArray$1(i).map(function(g,Te){var Ie=c.getLoader(g,{prefix:f});return Ie.check(),Ie.on("error",function(Oe){c.onError(Te,Oe.target)}).on("preReady",function(Oe){var _e=c.elementInfos[Te];_e.hasLoading=Oe.hasLoading,_e.isSkip=Oe.isSkip;var De=c.checkPreReady(Te);c.onPreReadyElement(Te),De&&c.onPreReady()}).on("ready",function(Oe){var _e=Oe.withPreReady,De=Oe.hasLoading,Ae=Oe.isSkip,qe=c.elementInfos[Te];qe.hasLoading=De,qe.isSkip=Ae;var Fe=_e&&c.checkPreReady(Te),Ne=c.checkReady(Te);_e&&c.onPreReadyElement(Te),c.onReadyElement(Te),Fe&&c.onPreReady(),Ne&&c.onReady()}),{loader:Ie,element:g,hasLoading:!1,hasError:!1,isPreReady:!1,isReady:!1,isSkip:!1}});var m=this.elementInfos.length;return this.totalCount=m,m||setTimeout(function(){c.onPreReady(),c.onReady()}),this},e.getTotalCount=function(){return this.totalCount},e.isPreReady=function(){return this.elementInfos.every(function(i){return i.isPreReady})},e.isReady=function(){return this.elementInfos.every(function(i){return i.isReady})},e.hasError=function(){return this.totalErrorCount>0},e.clear=function(){this.isPreReadyOver=!1,this.totalCount=0,this.preReadyCount=0,this.readyCount=0,this.totalErrorCount=0,this.elementInfos.forEach(function(i){i.loader&&i.loader.destroy()}),this.elementInfos=[]},e.destroy=function(){this.clear(),this.off()},e.getLoader=function(i,c){var f=this,m=i.tagName.toLowerCase(),g=this.options.loaders,Te=c.prefix,Ie=Object.keys(g);if(g[m])return new g[m](i,c);var Oe=new ElementLoader(i,c),_e=toArray$1(i.querySelectorAll(Ie.join(", ")));Oe.setHasLoading(_e.some(function(qe){return hasLoadingAttribute(qe,Te)}));var De=!1,Ae=this.clone().on("error",function(qe){Oe.onError(qe.target)}).on("ready",function(){Oe.onReady(De)});return Oe.on("requestChildren",function(){var qe=getContentElements(i,Ie,f.options.prefix);Ae.check(qe).on("preReady",function(Fe){De=Fe.isReady,De||Oe.onPreReady()})}).on("reqeustReadyChildren",function(){Ae.check(_e)}).on("requestDestroy",function(){Ae.destroy()}),Oe},e.clone=function(){return new o(__assign$1({},this.options))},e.checkPreReady=function(i){return this.elementInfos[i].isPreReady=!0,++this.preReadyCount,!(this.preReadyCount<this.totalCount)},e.checkReady=function(i){return this.elementInfos[i].isReady=!0,++this.readyCount,!(this.readyCount<this.totalCount)},e.onError=function(i,c){var f=this.elementInfos[i];f.hasError=!0,this.trigger(new ComponentEvent$1("error",{element:f.element,index:i,target:c,errorCount:this.getErrorCount(),totalErrorCount:++this.totalErrorCount}))},e.onPreReadyElement=function(i){var c=this.elementInfos[i];this.trigger(new ComponentEvent$1("preReadyElement",{element:c.element,index:i,preReadyCount:this.preReadyCount,readyCount:this.readyCount,totalCount:this.totalCount,isPreReady:this.isPreReady(),isReady:this.isReady(),hasLoading:c.hasLoading,isSkip:c.isSkip}))},e.onPreReady=function(){this.isPreReadyOver=!0,this.trigger(new ComponentEvent$1("preReady",{readyCount:this.readyCount,totalCount:this.totalCount,isReady:this.isReady(),hasLoading:this.hasLoading()}))},e.onReadyElement=function(i){var c=this.elementInfos[i];this.trigger(new ComponentEvent$1("readyElement",{index:i,element:c.element,hasError:c.hasError,errorCount:this.getErrorCount(),totalErrorCount:this.totalErrorCount,preReadyCount:this.preReadyCount,readyCount:this.readyCount,totalCount:this.totalCount,isPreReady:this.isPreReady(),isReady:this.isReady(),hasLoading:c.hasLoading,isPreReadyOver:this.isPreReadyOver,isSkip:c.isSkip}))},e.onReady=function(){this.trigger(new ComponentEvent$1("ready",{errorCount:this.getErrorCount(),totalErrorCount:this.totalErrorCount,totalCount:this.totalCount}))},e.getErrorCount=function(){return this.elementInfos.filter(function(i){return i.hasError}).length},e.hasLoading=function(){return this.elementInfos.some(function(i){return i.hasLoading})},o}(Component),ImageLoader=function(h){__extends$1(o,h);function o(){return h!==null&&h.apply(this,arguments)||this}var e=o.prototype;return e.checkElement=function(){var i=this.element,c=i.getAttribute("src");if(i.complete){if(c)return i.naturalWidth||this.onAlreadyError(i),!1;this.onAlreadyPreReady()}return this.addEvents(),IS_IE&&i.setAttribute("src",c),!0},o.EVENTS=["load","error"],o}(Loader),VideoLoader=function(h){__extends$1(o,h);function o(){return h!==null&&h.apply(this,arguments)||this}var e=o.prototype;return e.checkElement=function(){var i=this.element;return i.readyState>=1?!1:i.error?(this.onAlreadyError(i),!1):(this.addEvents(),!0)},o.EVENTS=["loadedmetadata","error"],o}(Loader),ImReady=function(h){__extends$1(o,h);function o(e){return e===void 0&&(e={}),h.call(this,__assign$1({loaders:{img:ImageLoader,video:VideoLoader}},e))||this}return o}(ImReadyManager);const ImReady$1=ImReady;var extendStatics=function(h,o){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])},extendStatics(h,o)};function __extends(h,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");extendStatics(h,o);function e(){this.constructor=h}h.prototype=o===null?Object.create(o):(e.prototype=o.prototype,new e)}var __assign=function(){return __assign=Object.assign||function(o){for(var e,i=1,c=arguments.length;i<c;i++){e=arguments[i];for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(o[f]=e[f])}return o},__assign.apply(this,arguments)};function __awaiter(h,o,e,i){function c(f){return f instanceof e?f:new e(function(m){m(f)})}return new(e||(e=Promise))(function(f,m){function g(Oe){try{Ie(i.next(Oe))}catch(_e){m(_e)}}function Te(Oe){try{Ie(i.throw(Oe))}catch(_e){m(_e)}}function Ie(Oe){Oe.done?f(Oe.value):c(Oe.value).then(g,Te)}Ie((i=i.apply(h,o||[])).next())})}function __generator(h,o){var e={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},i,c,f,m;return m={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function g(Ie){return function(Oe){return Te([Ie,Oe])}}function Te(Ie){if(i)throw new TypeError("Generator is already executing.");for(;m&&(m=0,Ie[0]&&(e=0)),e;)try{if(i=1,c&&(f=Ie[0]&2?c.return:Ie[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,Ie[1])).done)return f;switch(c=0,f&&(Ie=[Ie[0]&2,f.value]),Ie[0]){case 0:case 1:f=Ie;break;case 4:return e.label++,{value:Ie[1],done:!1};case 5:e.label++,c=Ie[1],Ie=[0];continue;case 7:Ie=e.ops.pop(),e.trys.pop();continue;default:if(f=e.trys,!(f=f.length>0&&f[f.length-1])&&(Ie[0]===6||Ie[0]===2)){e=0;continue}if(Ie[0]===3&&(!f||Ie[1]>f[0]&&Ie[1]<f[3])){e.label=Ie[1];break}if(Ie[0]===6&&e.label<f[1]){e.label=f[1],f=Ie;break}if(f&&e.label<f[2]){e.label=f[2],e.ops.push(Ie);break}f[2]&&e.ops.pop(),e.trys.pop();continue}Ie=o.call(h,e)}catch(Oe){Ie=[6,Oe],c=0}finally{i=f=0}if(Ie[0]&5)throw Ie[1];return{value:Ie[0]?Ie[1]:void 0,done:!0}}}function __values(h){var o=typeof Symbol=="function"&&Symbol.iterator,e=o&&h[o],i=0;if(e)return e.call(h);if(h&&typeof h.length=="number")return{next:function(){return h&&i>=h.length&&(h=void 0),{value:h&&h[i++],done:!h}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(h,o){var e=typeof Symbol=="function"&&h[Symbol.iterator];if(!e)return h;var i=e.call(h),c,f=[],m;try{for(;(o===void 0||o-- >0)&&!(c=i.next()).done;)f.push(c.value)}catch(g){m={error:g}}finally{try{c&&!c.done&&(e=i.return)&&e.call(i)}finally{if(m)throw m.error}}return f}function __spread(){for(var h=[],o=0;o<arguments.length;o++)h=h.concat(__read(arguments[o]));return h}typeof SuppressedError=="function"&&SuppressedError;var CODE={WRONG_TYPE:0,ELEMENT_NOT_FOUND:1,VAL_MUST_NOT_NULL:2,NOT_ATTACHED_TO_FLICKING:3,WRONG_OPTION:4,INDEX_OUT_OF_RANGE:5,POSITION_NOT_REACHABLE:6,TRANSFORM_NOT_SUPPORTED:7,STOP_CALLED_BY_USER:8,ANIMATION_INTERRUPTED:9,ANIMATION_ALREADY_PLAYING:10,NOT_ALLOWED_IN_FRAMEWORK:11,NOT_INITIALIZED:12,NO_ACTIVE:13,NOT_ALLOWED_IN_VIRTUAL:14},MESSAGE={WRONG_TYPE:function(h,o){return h+"("+typeof h+") is not a "+o.map(function(e){return'"'+e+'"'}).join(" or ")+"."},ELEMENT_NOT_FOUND:function(h){return'Element with selector "'+h+'" not found.'},VAL_MUST_NOT_NULL:function(h,o){return o+" should be provided. Given: "+h},NOT_ATTACHED_TO_FLICKING:'This module is not attached to the Flicking instance. "init()" should be called first.',WRONG_OPTION:function(h,o){return'Option "'+h+'" is not in correct format, given: '+o},INDEX_OUT_OF_RANGE:function(h,o,e){return'Index "'+h+'" is out of range: should be between '+o+" and "+e+"."},POSITION_NOT_REACHABLE:function(h){return'Position "'+h+'" is not reachable.'},TRANSFORM_NOT_SUPPORTED:"Browser does not support CSS transform.",STOP_CALLED_BY_USER:"Event stop() is called by user.",ANIMATION_INTERRUPTED:"Animation is interrupted by user input.",ANIMATION_ALREADY_PLAYING:"Animation is already playing.",NOT_ALLOWED_IN_FRAMEWORK:"This behavior is not allowed in the frameworks like React, Vue, or Angular.",NOT_INITIALIZED:"Flicking is not initialized yet, call init() first.",NO_ACTIVE:"There's no active panel that Flicking has selected. This may be due to the absence of any panels.",NOT_ALLOWED_IN_VIRTUAL:"This behavior is not allowed when the virtual option is enabled"},EVENTS={READY:"ready",BEFORE_RESIZE:"beforeResize",AFTER_RESIZE:"afterResize",HOLD_START:"holdStart",HOLD_END:"holdEnd",MOVE_START:"moveStart",MOVE:"move",MOVE_END:"moveEnd",WILL_CHANGE:"willChange",CHANGED:"changed",WILL_RESTORE:"willRestore",RESTORED:"restored",SELECT:"select",NEED_PANEL:"needPanel",VISIBLE_CHANGE:"visibleChange",REACH_EDGE:"reachEdge",PANEL_CHANGE:"panelChange"},ALIGN={PREV:"prev",CENTER:"center",NEXT:"next"},DIRECTION={PREV:"PREV",NEXT:"NEXT",NONE:null},MOVE_TYPE={SNAP:"snap",FREE_SCROLL:"freeScroll",STRICT:"strict"},CLASS={VERTICAL:"vertical",HIDDEN:"flicking-hidden",DEFAULT_VIRTUAL:"flicking-panel"},CIRCULAR_FALLBACK={LINEAR:"linear",BOUND:"bound"},ORDER={LTR:"ltr",RTL:"rtl"},getElement=function(h,o){var e=null;if(isString(h)){var i=o||document,c=i.querySelector(h);if(!c)throw new FlickingError(MESSAGE.ELEMENT_NOT_FOUND(h),CODE.ELEMENT_NOT_FOUND);e=c}else h&&h.nodeType===Node.ELEMENT_NODE&&(e=h);if(!e)throw new FlickingError(MESSAGE.WRONG_TYPE(h,["HTMLElement","string"]),CODE.WRONG_TYPE);return e},checkExistence=function(h,o){if(h==null)throw new FlickingError(MESSAGE.VAL_MUST_NOT_NULL(h,o),CODE.VAL_MUST_NOT_NULL)},clamp=function(h,o,e){return Math.max(Math.min(h,e),o)},getFlickingAttached=function(h){if(!h)throw new FlickingError(MESSAGE.NOT_ATTACHED_TO_FLICKING,CODE.NOT_ATTACHED_TO_FLICKING);return h},toArray=function(h){return[].slice.call(h)},parseAlign$1=function(h,o){var e;if(isString(h))switch(h){case ALIGN.PREV:e=0;break;case ALIGN.CENTER:e=.5*o;break;case ALIGN.NEXT:e=o;break;default:if(e=parseArithmeticSize(h,o),e==null)throw new FlickingError(MESSAGE.WRONG_OPTION("align",h),CODE.WRONG_OPTION)}else e=h;return e},parseBounce=function(h,o){var e;if(Array.isArray(h))e=h.map(function(c){return parseArithmeticSize(c,o)});else{var i=parseArithmeticSize(h,o);e=[i,i]}return e.map(function(c){if(c==null)throw new FlickingError(MESSAGE.WRONG_OPTION("bounce",h),CODE.WRONG_OPTION);return c})},parseArithmeticSize=function(h,o){var e=parseArithmeticExpression(h);return e==null?null:e.percentage*o+e.absolute},parseArithmeticExpression=function(h){var o=/(?:(\+|\-)\s*)?(\d+(?:\.\d+)?(%|px)?)/g;if(typeof h=="number")return{percentage:0,absolute:h};for(var e={percentage:0,absolute:0},i=0,c=o.exec(h);c!=null;){var f=c[1],m=c[2],g=c[3],Te=parseFloat(m);if(i<=0&&(f=f||"+"),!f)return null;var Ie=f==="+"?1:-1;g==="%"?e.percentage+=Ie*(Te/100):e.absolute+=Ie*Te,++i,c=o.exec(h)}return i===0?null:e},parsePanelAlign=function(h){return typeof h=="object"?h.panel:h},getDirection=function(h,o){return h===o?DIRECTION.NONE:h<o?DIRECTION.NEXT:DIRECTION.PREV},parseElement=function(h){Array.isArray(h)||(h=[h]);var o=[];return h.forEach(function(e){if(isString(e)){var i=document.createElement("div");for(i.innerHTML=e,o.push.apply(o,__spread(toArray(i.children)));i.firstChild;)i.removeChild(i.firstChild)}else if(e&&e.nodeType===Node.ELEMENT_NODE)o.push(e);else throw new FlickingError(MESSAGE.WRONG_TYPE(e,["HTMLElement","string"]),CODE.WRONG_TYPE)}),o},getMinusCompensatedIndex=function(h,o){return h<0?clamp(h+o,0,o):clamp(h,0,o)},includes=function(h,o){var e,i;try{for(var c=__values(h),f=c.next();!f.done;f=c.next()){var m=f.value;if(m===o)return!0}}catch(g){e={error:g}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(e)throw e.error}}return!1},isString=function(h){return typeof h=="string"},circulatePosition=function(h,o,e){var i=e-o;if(h<o){var c=(o-h)%i;h=e-c}else if(h>e){var c=(h-e)%i;h=o+c}return h},find=function(h,o){var e,i;try{for(var c=__values(h),f=c.next();!f.done;f=c.next()){var m=f.value;if(o(m))return m}}catch(g){e={error:g}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(e)throw e.error}}return null},findIndex=function(h,o){for(var e=0;e<h.length;e++)if(o(h[e]))return e;return-1},getProgress=function(h,o,e){return(h-o)/(e-o)},getStyle=function(h){return window.getComputedStyle(h)||h.currentStyle},setSize=function(h,o){var e=o.width,i=o.height;e!=null&&(isString(e)?h.style.width=e:h.style.width=e+"px"),i!=null&&(isString(i)?h.style.height=i:h.style.height=i+"px")},isBetween=function(h,o,e){return h>=o&&h<=e},circulateIndex=function(h,o){return h>=o?h%o:h<0?getMinusCompensatedIndex((h+1)%o-1,o):h},range=function(h){for(var o=new Array(h),e=0;e<h;e++)o[e]=e;return o},getElementSize=function(h){var o=h.el,e=h.horizontal,i=h.useFractionalSize,c=h.useOffset,f=h.style,m=0;if(i){var g=parseFloat(e?f.width:f.height)||0,Te=f.boxSizing==="border-box",Ie=e?parseFloat(f.borderLeftWidth||"0")+parseFloat(f.borderRightWidth||"0"):parseFloat(f.borderTopWidth||"0")+parseFloat(f.borderBottomWidth||"0");if(Te)m=c?g:g-Ie;else{var Oe=e?parseFloat(f.paddingLeft||"0")+parseFloat(f.paddingRight||"0"):parseFloat(f.paddingTop||"0")+parseFloat(f.paddingBottom||"0");m=c?g+Oe+Ie:g+Oe}}else{var _e=e?"Width":"Height";m=c?o["offset"+_e]:o["client"+_e]}return Math.max(m,0)},setPrototypeOf=Object.setPrototypeOf||function(h,o){return h.__proto__=o,h},FlickingError=function(h){__extends(o,h);function o(e,i){var c=h.call(this,e)||this;return setPrototypeOf(c,o.prototype),c.name="FlickingError",c.code=i,c}return o}(Error),Viewport=function(){function h(e,i){this._flicking=e,this._el=i,this._width=0,this._height=0,this._padding={left:0,right:0,top:0,bottom:0},this._isBorderBoxSizing=!1}var o=h.prototype;return Object.defineProperty(o,"element",{get:function(){return this._el},enumerable:!1,configurable:!0}),Object.defineProperty(o,"width",{get:function(){return this._width-this._padding.left-this._padding.right},enumerable:!1,configurable:!0}),Object.defineProperty(o,"height",{get:function(){return this._height-this._padding.top-this._padding.bottom},enumerable:!1,configurable:!0}),Object.defineProperty(o,"padding",{get:function(){return this._padding},enumerable:!1,configurable:!0}),o.setSize=function(e){var i=e.width,c=e.height,f=this._el,m=this._padding,g=this._isBorderBoxSizing;if(i!=null)if(isString(i))f.style.width=i;else{var Te=g?i+m.left+m.right:i;f.style.width=Te+"px"}if(c!=null)if(isString(c))f.style.height=c;else{var Ie=g?c+m.top+m.bottom:c;f.style.height=Ie+"px"}this.resize()},o.resize=function(){var e=this._el,i=getStyle(e),c=this._flicking.useFractionalSize;this._width=getElementSize({el:e,horizontal:!0,useFractionalSize:c,useOffset:!1,style:i}),this._height=getElementSize({el:e,horizontal:!1,useFractionalSize:c,useOffset:!1,style:i}),this._padding={left:i.paddingLeft?parseFloat(i.paddingLeft):0,right:i.paddingRight?parseFloat(i.paddingRight):0,top:i.paddingTop?parseFloat(i.paddingTop):0,bottom:i.paddingBottom?parseFloat(i.paddingBottom):0},this._isBorderBoxSizing=i.boxSizing==="border-box"},h}(),AutoResizer=function(){function h(e){var i=this;this._onResize=function(){var c=i._flicking,f=c.resizeDebounce,m=c.maxResizeDebounce;f<=0?c.resize():(i._maxResizeDebounceTimer<=0&&m>0&&m>=f&&(i._maxResizeDebounceTimer=window.setTimeout(i._doScheduledResize,m)),i._resizeTimer>0&&(clearTimeout(i._resizeTimer),i._resizeTimer=0),i._resizeTimer=window.setTimeout(i._doScheduledResize,f))},this._doScheduledResize=function(){clearTimeout(i._resizeTimer),clearTimeout(i._maxResizeDebounceTimer),i._maxResizeDebounceTimer=-1,i._resizeTimer=-1,i._flicking.resize()},this._skipFirstResize=function(){var c=!0;return function(){if(c){c=!1;return}i._onResize()}}(),this._flicking=e,this._enabled=!1,this._resizeObserver=null,this._resizeTimer=-1,this._maxResizeDebounceTimer=-1}var o=h.prototype;return Object.defineProperty(o,"enabled",{get:function(){return this._enabled},enumerable:!1,configurable:!0}),o.enable=function(){var e=this._flicking,i=e.viewport;if(this._enabled&&this.disable(),e.useResizeObserver&&window.ResizeObserver){var c=i.width!==0||i.height!==0,f=c?new ResizeObserver(this._skipFirstResize):new ResizeObserver(this._onResize);f.observe(e.viewport.element),this._resizeObserver=f}else window.addEventListener("resize",this._onResize);return this._enabled=!0,this},o.disable=function(){if(!this._enabled)return this;var e=this._resizeObserver;return e?(e.disconnect(),this._resizeObserver=null):window.removeEventListener("resize",this._onResize),this._enabled=!1,this},h}(),VanillaElementProvider=function(){function h(e){this._element=e,this._rendered=!0}var o=h.prototype;return Object.defineProperty(o,"element",{get:function(){return this._element},enumerable:!1,configurable:!0}),Object.defineProperty(o,"rendered",{get:function(){return this._rendered},enumerable:!1,configurable:!0}),o.show=function(e){var i=this.element,c=e.camera.element;i.parentElement!==c&&(c.appendChild(i),this._rendered=!0)},o.hide=function(e){var i=this.element,c=e.camera.element;i.parentElement===c&&(c.removeChild(i),this._rendered=!1)},h}(),VirtualElementProvider=function(){function h(e){this._flicking=e}var o=h.prototype;return Object.defineProperty(o,"element",{get:function(){return this._virtualElement.nativeElement},enumerable:!1,configurable:!0}),Object.defineProperty(o,"rendered",{get:function(){return this._virtualElement.visible},enumerable:!1,configurable:!0}),Object.defineProperty(o,"_virtualElement",{get:function(){var e=this._flicking,i=this._panel.elementIndex,c=e.virtual.elements;return c[i]},enumerable:!1,configurable:!0}),o.init=function(e){this._panel=e},o.show=function(){},o.hide=function(){},h}(),VirtualManager=function(){function h(e,i){var c,f,m,g;this._flicking=e,this._renderPanel=(c=i==null?void 0:i.renderPanel)!==null&&c!==void 0?c:function(){return""},this._initialPanelCount=(f=i==null?void 0:i.initialPanelCount)!==null&&f!==void 0?f:-1,this._cache=(m=i==null?void 0:i.cache)!==null&&m!==void 0?m:!1,this._panelClass=(g=i==null?void 0:i.panelClass)!==null&&g!==void 0?g:CLASS.DEFAULT_VIRTUAL,this._elements=[]}var o=h.prototype;return Object.defineProperty(o,"elements",{get:function(){return this._elements},enumerable:!1,configurable:!0}),Object.defineProperty(o,"renderPanel",{get:function(){return this._renderPanel},set:function(e){this._renderPanel=e,this._flicking.renderer.panels.forEach(function(i){return i.uncacheRenderResult()})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"initialPanelCount",{get:function(){return this._initialPanelCount},enumerable:!1,configurable:!0}),Object.defineProperty(o,"cache",{get:function(){return this._cache},set:function(e){this._cache=e},enumerable:!1,configurable:!0}),Object.defineProperty(o,"panelClass",{get:function(){return this._panelClass},set:function(e){this._panelClass=e},enumerable:!1,configurable:!0}),o.init=function(){var e=this._flicking;if(e.virtualEnabled){!e.externalRenderer&&!e.renderExternal&&this._initVirtualElements();var i=e.camera.children;this._elements=i.map(function(c){return{nativeElement:c,visible:!0}})}},o.show=function(e){var i=this._elements[e],c=i.nativeElement;i.visible=!0,c.style.display&&(c.style.display="")},o.hide=function(e){var i=this._elements[e],c=i.nativeElement;i.visible=!1,c.style.display="none"},o.append=function(e){e===void 0&&(e=1);var i=this._flicking;return this.insert(i.panels.length,e)},o.prepend=function(e){return e===void 0&&(e=1),this.insert(0,e)},o.insert=function(e,i){if(i===void 0&&(i=1),i<=0)return[];var c=this._flicking;return c.renderer.batchInsert({index:e,elements:range(i),hasDOMInElements:!1})},o.remove=function(e,i){if(i<=0)return[];var c=this._flicking;return c.renderer.batchRemove({index:e,deleteCount:i,hasDOMInElements:!1})},o._initVirtualElements=function(){var e=this,i=this._flicking,c=i.camera.element,f=i.panelsPerView,m=document.createDocumentFragment(),g=range(f+1).map(function(Te){var Ie=document.createElement("div");return Ie.className=e._panelClass,Ie.dataset.elementIndex=Te.toString(),Ie});g.forEach(function(Te){m.appendChild(Te)}),c.appendChild(m)},h}(),EVENT={HOLD:"hold",CHANGE:"change",RELEASE:"release",ANIMATION_END:"animationEnd",FINISH:"finish"},POSITION_KEY="flick",STATE_TYPE;(function(h){h[h.IDLE=0]="IDLE",h[h.HOLDING=1]="HOLDING",h[h.DRAGGING=2]="DRAGGING",h[h.ANIMATING=3]="ANIMATING",h[h.DISABLED=4]="DISABLED"})(STATE_TYPE||(STATE_TYPE={}));var State=function(){function h(){this._delta=0,this._targetPanel=null}var o=h.prototype;return Object.defineProperty(o,"delta",{get:function(){return this._delta},enumerable:!1,configurable:!0}),Object.defineProperty(o,"targetPanel",{get:function(){return this._targetPanel},set:function(e){this._targetPanel=e},enumerable:!1,configurable:!0}),o.onEnter=function(e){this._delta=e._delta,this._targetPanel=e._targetPanel},o.onHold=function(e){},o.onChange=function(e){},o.onRelease=function(e){},o.onAnimationEnd=function(e){},o.onFinish=function(e){},o._moveToChangedPosition=function(e){var i=e.flicking,c=e.axesEvent,f=e.transitTo,m=c.delta[POSITION_KEY];if(m){this._delta+=m;var g=i.camera,Te=g.position,Ie=c.pos[POSITION_KEY],Oe=i.circularEnabled?circulatePosition(Ie,g.range.min,g.range.max):Ie;g.lookAt(Oe);var _e=new ComponentEvent$1(EVENTS.MOVE,{isTrusted:c.isTrusted,holding:this.holding,direction:getDirection(0,c.delta[POSITION_KEY]),axesEvent:c});i.trigger(_e),_e.isCanceled()&&(g.lookAt(Te),f(STATE_TYPE.DISABLED))}},h}(),IdleState=function(h){__extends(o,h);function o(){var i=h!==null&&h.apply(this,arguments)||this;return i.holding=!1,i.animating=!1,i}var e=o.prototype;return e.onEnter=function(){this._delta=0,this._targetPanel=null},e.onHold=function(i){var c=i.flicking,f=i.axesEvent,m=i.transitTo;if(c.renderer.panelCount<=0){m(STATE_TYPE.DISABLED);return}var g=new ComponentEvent$1(EVENTS.HOLD_START,{axesEvent:f});c.trigger(g),g.isCanceled()?m(STATE_TYPE.DISABLED):m(STATE_TYPE.HOLDING)},e.onChange=function(i){var c=i.flicking,f=i.axesEvent,m=i.transitTo,g=c.control.controller,Te=g.animatingContext,Ie=new ComponentEvent$1(EVENTS.MOVE_START,{isTrusted:f.isTrusted,holding:this.holding,direction:getDirection(Te.start,Te.end),axesEvent:f});c.trigger(Ie),Ie.isCanceled()?m(STATE_TYPE.DISABLED):m(STATE_TYPE.ANIMATING).onChange(i)},o}(State),HoldingState=function(h){__extends(o,h);function o(){var i=h!==null&&h.apply(this,arguments)||this;return i.holding=!0,i.animating=!1,i._releaseEvent=null,i}var e=o.prototype;return e.onChange=function(i){var c=i.flicking,f=i.axesEvent,m=i.transitTo,g=f.inputEvent,Te=c.horizontal?g.offsetX:g.offsetY,Ie=new ComponentEvent$1(EVENTS.MOVE_START,{isTrusted:f.isTrusted,holding:this.holding,direction:getDirection(0,-Te),axesEvent:f});c.trigger(Ie),Ie.isCanceled()?m(STATE_TYPE.DISABLED):m(STATE_TYPE.DRAGGING).onChange(i)},e.onRelease=function(i){var c=i.flicking,f=i.axesEvent,m=i.transitTo;if(c.trigger(new ComponentEvent$1(EVENTS.HOLD_END,{axesEvent:f})),f.delta.flick!==0){f.setTo({flick:c.camera.position},0),m(STATE_TYPE.IDLE);return}this._releaseEvent=f},e.onFinish=function(i){var c,f,m=i.flicking,g=i.transitTo;if(g(STATE_TYPE.IDLE),!!this._releaseEvent){var Te=this._releaseEvent,Ie=Te.inputEvent.srcEvent,Oe;if(Ie.type==="touchend"){var _e=Ie,De=_e.changedTouches[0];Oe=document.elementFromPoint(De.clientX,De.clientY)}else Oe=Ie.target;var Ae=m.renderer.panels,qe=null;try{for(var Fe=__values(Ae),Ne=Fe.next();!Ne.done;Ne=Fe.next()){var Ve=Ne.value;if(Ve.contains(Oe)){qe=Ve;break}}}catch(He){c={error:He}}finally{try{Ne&&!Ne.done&&(f=Fe.return)&&f.call(Fe)}finally{if(c)throw c.error}}if(qe){var Ue=m.camera.position,We=qe.position;m.trigger(new ComponentEvent$1(EVENTS.SELECT,{index:qe.index,panel:qe,direction:getDirection(Ue,We)}))}}},o}(State),DraggingState=function(h){__extends(o,h);function o(){var i=h!==null&&h.apply(this,arguments)||this;return i.holding=!0,i.animating=!0,i}var e=o.prototype;return e.onChange=function(i){this._moveToChangedPosition(i)},e.onRelease=function(i){var c,f=i.flicking,m=i.axesEvent,g=i.transitTo;if(f.trigger(new ComponentEvent$1(EVENTS.HOLD_END,{axesEvent:m})),f.renderer.panelCount<=0){g(STATE_TYPE.IDLE);return}g(STATE_TYPE.ANIMATING);var Te=f.control,Ie=m.destPos[POSITION_KEY],Oe=Math.max(m.duration,f.duration);try{Te.moveToPosition(Ie,Oe,m)}catch{g(STATE_TYPE.IDLE),m.setTo((c={},c[POSITION_KEY]=f.camera.position,c),0)}},o}(State),AnimatingState=function(h){__extends(o,h);function o(){var i=h!==null&&h.apply(this,arguments)||this;return i.holding=!1,i.animating=!0,i}var e=o.prototype;return e.onHold=function(i){var c=i.flicking,f=i.axesEvent,m=i.transitTo,g=this._targetPanel,Te=c.control;this._delta=0,c.control.updateInput(),c.changeOnHold&&g&&Te.setActive(g,Te.activePanel,f.isTrusted);var Ie=new ComponentEvent$1(EVENTS.HOLD_START,{axesEvent:f});c.trigger(Ie),Ie.isCanceled()?m(STATE_TYPE.DISABLED):m(STATE_TYPE.DRAGGING)},e.onChange=function(i){this._moveToChangedPosition(i)},e.onFinish=function(i){var c=i.flicking,f=i.axesEvent,m=i.transitTo,g=c.control,Te=g.controller,Ie=Te.animatingContext;m(STATE_TYPE.IDLE),c.trigger(new ComponentEvent$1(EVENTS.MOVE_END,{isTrusted:f.isTrusted,direction:getDirection(Ie.start,Ie.end),axesEvent:f}));var Oe=this._targetPanel;Oe&&g.setActive(Oe,g.activePanel,f.isTrusted)},o}(State),DisabledState=function(h){__extends(o,h);function o(){var i=h!==null&&h.apply(this,arguments)||this;return i.holding=!1,i.animating=!0,i}var e=o.prototype;return e.onAnimationEnd=function(i){var c=i.transitTo;c(STATE_TYPE.IDLE)},e.onChange=function(i){var c=i.axesEvent,f=i.transitTo;c.stop(),f(STATE_TYPE.IDLE)},e.onRelease=function(i){var c=i.axesEvent,f=i.transitTo;c.delta.flick===0&&f(STATE_TYPE.IDLE)},o}(State),StateMachine=function(){function h(){var e=this;this.transitTo=function(i){var c;switch(i){case STATE_TYPE.IDLE:c=new IdleState;break;case STATE_TYPE.HOLDING:c=new HoldingState;break;case STATE_TYPE.DRAGGING:c=new DraggingState;break;case STATE_TYPE.ANIMATING:c=new AnimatingState;break;case STATE_TYPE.DISABLED:c=new DisabledState;break}return c.onEnter(e._state),e._state=c,e._state},this._state=new IdleState}var o=h.prototype;return Object.defineProperty(o,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),o.fire=function(e,i){var c=this._state,f=__assign(__assign({},i),{transitTo:this.transitTo});switch(e){case EVENT.HOLD:c.onHold(f);break;case EVENT.CHANGE:c.onChange(f);break;case EVENT.RELEASE:c.onRelease(f);break;case EVENT.ANIMATION_END:c.onAnimationEnd(f);break;case EVENT.FINISH:c.onFinish(f);break}},h}(),AxesController=function(){function h(){var e=this;this._onAxesHold=function(){e._dragged=!1},this._onAxesChange=function(){var i;e._dragged=!!(!((i=e._panInput)===null||i===void 0)&&i.isEnabled())},this._preventClickWhenDragged=function(i){e._dragged&&(i.preventDefault(),i.stopPropagation()),e._dragged=!1},this._resetInternalValues(),this._stateMachine=new StateMachine}var o=h.prototype;return Object.defineProperty(o,"axes",{get:function(){return this._axes},enumerable:!1,configurable:!0}),Object.defineProperty(o,"panInput",{get:function(){return this._panInput},enumerable:!1,configurable:!0}),Object.defineProperty(o,"stateMachine",{get:function(){return this._stateMachine},enumerable:!1,configurable:!0}),Object.defineProperty(o,"state",{get:function(){return this._stateMachine.state},enumerable:!1,configurable:!0}),Object.defineProperty(o,"animatingContext",{get:function(){return this._animatingContext},enumerable:!1,configurable:!0}),Object.defineProperty(o,"controlParams",{get:function(){var e=this._axes;if(!e)return{range:{min:0,max:0},position:0,circular:!1};var i=e.axis[POSITION_KEY];return{range:{min:i.range[0],max:i.range[1]},circular:i.circular[0],position:this.position}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"enabled",{get:function(){var e,i;return(i=(e=this._panInput)===null||e===void 0?void 0:e.isEnabled())!==null&&i!==void 0?i:!1},enumerable:!1,configurable:!0}),Object.defineProperty(o,"position",{get:function(){var e,i;return(i=(e=this._axes)===null||e===void 0?void 0:e.get([POSITION_KEY])[POSITION_KEY])!==null&&i!==void 0?i:0},enumerable:!1,configurable:!0}),Object.defineProperty(o,"range",{get:function(){var e,i;return(i=(e=this._axes)===null||e===void 0?void 0:e.axis[POSITION_KEY].range)!==null&&i!==void 0?i:[0,0]},enumerable:!1,configurable:!0}),Object.defineProperty(o,"bounce",{get:function(){var e;return(e=this._axes)===null||e===void 0?void 0:e.axis[POSITION_KEY].bounce},enumerable:!1,configurable:!0}),o.init=function(e){var i,c=this;this._flicking=e,this._axes=new Axes$1((i={},i[POSITION_KEY]={range:[0,0],circular:!1,bounce:[0,0]},i),{deceleration:e.deceleration,interruptable:e.interruptable,nested:e.nested,easing:e.easing}),this._panInput=new PanInput(e.viewport.element,{inputType:e.inputType,threshold:1,iOSEdgeSwipeThreshold:e.iOSEdgeSwipeThreshold,preventDefaultOnDrag:e.preventDefaultOnDrag,scale:e.horizontal?[e.camera.panelOrder===ORDER.RTL?1:-1,0]:[0,-1],releaseOnScroll:!0});var f=this._axes;f.connect(e.horizontal?[POSITION_KEY,""]:["",POSITION_KEY],this._panInput);var m=function(Te){var Ie=EVENT[Te];f.on(Ie,function(Oe){c._stateMachine.fire(Ie,{flicking:e,axesEvent:Oe})})};for(var g in EVENT)m(g);return this},o.destroy=function(){var e;this._axes&&(this.removePreventClickHandler(),this._axes.destroy()),(e=this._panInput)===null||e===void 0||e.destroy(),this._resetInternalValues()},o.enable=function(){var e;return(e=this._panInput)===null||e===void 0||e.enable(),this},o.disable=function(){var e;return(e=this._panInput)===null||e===void 0||e.disable(),this},o.release=function(){var e;return(e=this._panInput)===null||e===void 0||e.release(),this},o.updateAnimation=function(e,i){var c,f;return this._animatingContext=__assign(__assign({},this._animatingContext),{end:e}),(f=this._axes)===null||f===void 0||f.updateAnimation({destPos:(c={},c[POSITION_KEY]=e,c),duration:i}),this},o.stopAnimation=function(){var e;return(e=this._axes)===null||e===void 0||e.stopAnimation(),this},o.update=function(e){var i,c=getFlickingAttached(this._flicking),f=c.camera,m=this._axes,g=m.axis[POSITION_KEY];return g.circular=[e.circular,e.circular],g.range=[e.range.min,e.range.max],g.bounce=parseBounce(c.bounce,f.size),m.axisManager.set((i={},i[POSITION_KEY]=e.position,i)),this},o.addPreventClickHandler=function(){var e=getFlickingAttached(this._flicking),i=this._axes,c=e.camera.element;return i.on(EVENT.HOLD,this._onAxesHold),i.on(EVENT.CHANGE,this._onAxesChange),c.addEventListener("click",this._preventClickWhenDragged,!0),this},o.removePreventClickHandler=function(){var e=getFlickingAttached(this._flicking),i=this._axes,c=e.camera.element;return i.off(EVENT.HOLD,this._onAxesHold),i.off(EVENT.CHANGE,this._onAxesChange),c.removeEventListener("click",this._preventClickWhenDragged,!0),this},o.animateTo=function(e,i,c){var f=this,m,g=this._axes,Te=this._stateMachine.state;if(!g)return Promise.reject(new FlickingError(MESSAGE.NOT_ATTACHED_TO_FLICKING,CODE.NOT_ATTACHED_TO_FLICKING));var Ie=g.get([POSITION_KEY])[POSITION_KEY];if(Ie===e){var Oe=getFlickingAttached(this._flicking);return Oe.camera.lookAt(e),Te.targetPanel&&Oe.control.setActive(Te.targetPanel,Oe.control.activePanel,(m=c==null?void 0:c.isTrusted)!==null&&m!==void 0?m:!1),Promise.resolve()}this._animatingContext={start:Ie,end:e,offset:0};var _e=function(){var De,Ae,qe=function(){f._animatingContext={start:0,end:0,offset:0}};g.once(EVENT.FINISH,qe),c?c.setTo((De={},De[POSITION_KEY]=e,De),i):g.setTo((Ae={},Ae[POSITION_KEY]=e,Ae),i)};return new Promise(function(De,Ae){var qe=function(){g.off(EVENT.HOLD,Fe),De()},Fe=function(){g.off(EVENT.FINISH,qe),Ae(new FlickingError(MESSAGE.ANIMATION_INTERRUPTED,CODE.ANIMATION_INTERRUPTED))};g.once(EVENT.FINISH,qe),g.once(EVENT.HOLD,Fe),_e()})},o.updateDirection=function(){var e=getFlickingAttached(this._flicking),i=this._axes,c=this._panInput;i.disconnect(c),i.connect(e.horizontal?[POSITION_KEY,""]:["",POSITION_KEY],c),c.options.scale=e.horizontal?[e.camera.panelOrder===ORDER.RTL?1:-1,0]:[0,-1]},o._resetInternalValues=function(){this._flicking=null,this._axes=null,this._panInput=null,this._animatingContext={start:0,end:0,offset:0},this._dragged=!1},h}(),Control=function(){function h(){this._flicking=null,this._controller=new AxesController,this._activePanel=null}var o=h.prototype;return Object.defineProperty(o,"controller",{get:function(){return this._controller},enumerable:!1,configurable:!0}),Object.defineProperty(o,"activeIndex",{get:function(){var e,i;return(i=(e=this._activePanel)===null||e===void 0?void 0:e.index)!==null&&i!==void 0?i:-1},enumerable:!1,configurable:!0}),Object.defineProperty(o,"activePanel",{get:function(){return this._activePanel},enumerable:!1,configurable:!0}),Object.defineProperty(o,"animating",{get:function(){return this._controller.state.animating},enumerable:!1,configurable:!0}),Object.defineProperty(o,"holding",{get:function(){return this._controller.state.holding},enumerable:!1,configurable:!0}),o.init=function(e){return this._flicking=e,this._controller.init(e),this},o.destroy=function(){this._controller.destroy(),this._flicking=null,this._activePanel=null},o.enable=function(){return this._controller.enable(),this},o.disable=function(){return this._controller.disable(),this},o.release=function(){return this._controller.release(),this},o.updateAnimation=function(e,i,c){var f=this._controller.state,m=this._getPosition(e,c??DIRECTION.NONE);return f.targetPanel=e,this._controller.updateAnimation(m,i),this},o.stopAnimation=function(){var e=this._controller.state;return e.targetPanel=null,this._controller.stopAnimation(),this},o.updatePosition=function(e){var i=getFlickingAttached(this._flicking),c=i.camera,f=this._activePanel;f&&c.lookAt(c.clampToReachablePosition(f.position))},o.updateInput=function(){var e=getFlickingAttached(this._flicking),i=e.camera;return this._controller.update(i.controlParams),this},o.resetActive=function(){return this._activePanel=null,this},o.moveToPanel=function(e,i){var c=i.duration,f=i.direction,m=f===void 0?DIRECTION.NONE:f,g=i.axesEvent;return __awaiter(this,void 0,void 0,function(){var Te;return __generator(this,function(Ie){return Te=this._getPosition(e,m),this._triggerIndexChangeEvent(e,e.position,g,m),[2,this._animateToPosition({position:Te,duration:c,newActivePanel:e,axesEvent:g})]})})},o.setActive=function(e,i,c){var f,m=getFlickingAttached(this._flicking);this._activePanel=e,this._nextPanel=null,m.camera.updateAdaptiveHeight(),e!==i?m.trigger(new ComponentEvent$1(EVENTS.CHANGED,{index:e.index,panel:e,prevIndex:(f=i==null?void 0:i.index)!==null&&f!==void 0?f:-1,prevPanel:i,isTrusted:c,direction:i?getDirection(i.position,e.position):DIRECTION.NONE})):m.trigger(new ComponentEvent$1(EVENTS.RESTORED,{isTrusted:c}))},o.copy=function(e){this._flicking=e._flicking,this._activePanel=e._activePanel,this._controller=e._controller},o._triggerIndexChangeEvent=function(e,i,c,f){var m,g=getFlickingAttached(this._flicking),Te=e!==this._activePanel?EVENTS.WILL_CHANGE:EVENTS.WILL_RESTORE,Ie=g.camera,Oe=this._activePanel,_e=new ComponentEvent$1(Te,{index:e.index,panel:e,isTrusted:(c==null?void 0:c.isTrusted)||!1,direction:f??getDirection((m=Oe==null?void 0:Oe.position)!==null&&m!==void 0?m:Ie.position,i)});if(this._nextPanel=e,g.trigger(_e),_e.isCanceled())throw new FlickingError(MESSAGE.STOP_CALLED_BY_USER,CODE.STOP_CALLED_BY_USER)},o._animateToPosition=function(e){var i=e.position,c=e.duration,f=e.newActivePanel,m=e.axesEvent;return __awaiter(this,void 0,void 0,function(){var g,Te,Ie,Oe=this;return __generator(this,function(_e){return g=getFlickingAttached(this._flicking),Te=function(){return Oe._controller.animateTo(i,c,m)},Ie=this._controller.state,Ie.targetPanel=f,c<=0?[2,Te()]:[2,Te().then(function(){return __awaiter(Oe,void 0,void 0,function(){return __generator(this,function(De){switch(De.label){case 0:return[4,g.renderer.render()];case 1:return De.sent(),[2]}})})}).catch(function(De){if(!(m&&De instanceof FlickingError&&De.code===CODE.ANIMATION_INTERRUPTED))throw De})]})})},o._getPosition=function(e,i){i===void 0&&(i=DIRECTION.NONE);var c=getFlickingAttached(this._flicking),f=c.camera,m=e.position,g=f.findNearestAnchor(m);if(e.removed||!g)throw new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(e.position),CODE.POSITION_NOT_REACHABLE);if(!f.canReach(e))m=g.position,e=g.panel;else if(c.circularEnabled){var Te=this._controller.position,Ie=f.rangeDiff,Oe=[m,m+Ie,m-Ie].filter(function(_e){return i===DIRECTION.NONE?!0:i===DIRECTION.PREV?_e<=Te:_e>=Te});m=Oe.reduce(function(_e,De){return Math.abs(Te-De)<Math.abs(Te-_e)?De:_e},1/0)}return m},h}(),AnchorPoint=function(){function h(e){var i=e.index,c=e.position,f=e.panel;this._index=i,this._pos=c,this._panel=f}var o=h.prototype;return Object.defineProperty(o,"index",{get:function(){return this._index},enumerable:!1,configurable:!0}),Object.defineProperty(o,"position",{get:function(){return this._pos},enumerable:!1,configurable:!0}),Object.defineProperty(o,"panel",{get:function(){return this._panel},enumerable:!1,configurable:!0}),h}(),SnapControl=function(h){__extends(o,h);function o(i){var c=(i===void 0?{}:i).count,f=c===void 0?1/0:c,m=h.call(this)||this;return m._count=f,m}var e=o.prototype;return Object.defineProperty(e,"count",{get:function(){return this._count},set:function(i){this._count=i},enumerable:!1,configurable:!0}),e.moveToPosition=function(i,c,f){var m=getFlickingAttached(this._flicking),g=m.camera,Te=g.findActiveAnchor(),Ie=g.findNearestAnchor(g.position),Oe=this._controller.state;if(!Te||!Ie)return Promise.reject(new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(i),CODE.POSITION_NOT_REACHABLE));var _e=this._calcSnapThreshold(m.threshold,i,Te),De=m.animating?Oe.delta:i-g.position,Ae=Math.abs(De),qe=f&&f.delta[POSITION_KEY]!==0?Math.abs(f.delta[POSITION_KEY]):Ae,Fe;if(qe>=_e&&qe>0)Fe=this._findSnappedAnchor(i,Ie);else if(Ae>=m.threshold&&Ae>0)Fe=this._findAdjacentAnchor(i,De,Ie);else return this.moveToPanel(Ie.panel,{duration:c,axesEvent:f});return this._triggerIndexChangeEvent(Fe.panel,i,f),this._animateToPosition({position:g.clampToReachablePosition(Fe.position),duration:c,newActivePanel:Fe.panel,axesEvent:f})},e._findSnappedAnchor=function(i,c){var f=getFlickingAttached(this._flicking),m=f.camera,g=this._count,Te=m.position,Ie=m.clampToReachablePosition(i),Oe=m.findAnchorIncludePosition(Ie);if(!c||!Oe)throw new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(i),CODE.POSITION_NOT_REACHABLE);if(!isFinite(g))return Oe;var _e=f.panelCount,De=m.anchorPoints,Ae=Math.sign(i-Te)*Math.floor(Math.abs(i-Te)/m.rangeDiff);i>Te&&Oe.index<c.index||Oe.position>c.position&&Oe.index===c.index?Ae+=1:(i<Te&&Oe.index>c.index||Oe.position<c.position&&Oe.index===c.index)&&(Ae-=1);var qe=Ae*_e,Fe=Oe.index+qe;if(Math.abs(Fe-c.index)<=g){var Ne=De[Oe.index];return new AnchorPoint({index:Ne.index,position:Ne.position+Ae*m.rangeDiff,panel:Ne.panel})}if(f.circularEnabled){var Ve=De[circulateIndex(c.index+Math.sign(i-Te)*g,_e)],Ue=Math.floor(g/_e);return i>Te&&Ve.index<c.index?Ue+=1:i<Te&&Ve.index>c.index&&(Ue-=1),new AnchorPoint({index:Ve.index,position:Ve.position+Ue*m.rangeDiff,panel:Ve.panel})}else return De[clamp(c.index+Math.sign(i-Te)*g,0,De.length-1)]},e._findAdjacentAnchor=function(i,c,f){var m,g=getFlickingAttached(this._flicking),Te=g.camera;if(Te.circularEnabled){var Ie=Te.findAnchorIncludePosition(i);if(Ie&&Ie.position!==f.position)return Ie}var Oe=(m=c>0?Te.getNextAnchor(f):Te.getPrevAnchor(f))!==null&&m!==void 0?m:f;return Oe},e._calcSnapThreshold=function(i,c,f){var m=c>f.position,g=f.panel,Te=g.size,Ie=g.alignPosition;return Math.max(i,m?Te-Ie+g.margin.next:Ie+g.margin.prev)},o}(Control),FreeControl=function(h){__extends(o,h);function o(i){var c=(i===void 0?{}:i).stopAtEdge,f=c===void 0?!0:c,m=h.call(this)||this;return m._stopAtEdge=f,m}var e=o.prototype;return Object.defineProperty(e,"stopAtEdge",{get:function(){return this._stopAtEdge},set:function(i){this._stopAtEdge=i},enumerable:!1,configurable:!0}),e.updatePosition=function(i){var c=getFlickingAttached(this._flicking),f=c.camera,m=this._activePanel;if(m){var g=m.range,Te=g.min+(g.max-g.min)*i;f.lookAt(f.clampToReachablePosition(Te))}},e.moveToPosition=function(i,c,f){var m=getFlickingAttached(this._flicking),g=m.camera,Te=g.clampToReachablePosition(i),Ie=g.findAnchorIncludePosition(Te);if(!Ie)return Promise.reject(new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(i),CODE.POSITION_NOT_REACHABLE));var Oe=Ie.panel;return Oe!==this._activePanel&&this._triggerIndexChangeEvent(Oe,i,f),this._animateToPosition({position:this._stopAtEdge?Te:i,duration:c,newActivePanel:Oe,axesEvent:f})},o}(Control),StrictControl=function(h){__extends(o,h);function o(i){var c=(i===void 0?{}:i).count,f=c===void 0?1:c,m=h.call(this)||this;return m.setActive=function(g,Te,Ie){h.prototype.setActive.call(m,g,Te,Ie),m.updateInput()},m._count=f,m._resetIndexRange(),m}var e=o.prototype;return Object.defineProperty(e,"count",{get:function(){return this._count},set:function(i){this._count=i},enumerable:!1,configurable:!0}),e.destroy=function(){h.prototype.destroy.call(this),this._resetIndexRange()},e.updateInput=function(){var i,c=getFlickingAttached(this._flicking),f=c.camera,m=c.renderer,g=this._controller,Te=f.controlParams,Ie=this._count,Oe=g.state.animating?(i=f.findNearestAnchor(f.position))===null||i===void 0?void 0:i.panel:this._activePanel;if(!Oe)return g.update(Te),this._resetIndexRange(),this;var _e=Te.range,De=Oe.position,Ae=Oe.index,qe=m.panelCount,Fe=Ae-Ie,Ne=Ae+Ie;Fe<0&&(Fe=c.circularEnabled?getMinusCompensatedIndex((Fe+1)%qe-1,qe):clamp(Fe,0,qe-1)),Ne>=qe&&(Ne=c.circularEnabled?Ne%qe:clamp(Ne,0,qe-1));var Ve=m.panels[Fe],Ue=m.panels[Ne],We=Math.max(Ve.position,_e.min),He=Math.min(Ue.position,_e.max);return We>De&&(We-=f.rangeDiff),He<De&&(He+=f.rangeDiff),Te.range={min:We,max:He},Te.circular&&(Te.position<We&&(Te.position+=f.rangeDiff),Te.position>He&&(Te.position-=f.rangeDiff)),Te.circular=!1,g.update(Te),this._indexRange={min:Ve.index,max:Ue.index},this},e.moveToPanel=function(i,c){return __awaiter(this,void 0,void 0,function(){var f,m,g;return __generator(this,function(Te){return f=getFlickingAttached(this._flicking),m=f.camera,g=this._controller,g.update(m.controlParams),[2,h.prototype.moveToPanel.call(this,i,c)]})})},e.moveToPosition=function(i,c,f){var m,g=getFlickingAttached(this._flicking),Te=g.camera,Ie=(m=this._nextPanel)!==null&&m!==void 0?m:this._activePanel,Oe=this._controller.range,_e=this._indexRange,De=Te.range,Ae=this._controller.state,qe=clamp(Te.clampToReachablePosition(i),Oe[0],Oe[1]),Fe=Te.findAnchorIncludePosition(qe);if(!Fe||!Ie)return Promise.reject(new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(i),CODE.POSITION_NOT_REACHABLE));var Ne=Ie.position,Ve=g.animating?Ae.delta:i-Te.position,Ue=Math.abs(Ve)>=g.threshold,We=i>Ne?Te.getNextAnchor(Fe):Te.getPrevAnchor(Fe),He,Xe,ot=Te.anchorPoints,tt=ot[0],gt=ot[ot.length-1],vt=i<=De.min&&isBetween(tt.panel.index,_e.min,_e.max),rt=i>=De.max&&isBetween(gt.panel.index,_e.min,_e.max),ht=We&&(_e.min<=_e.max?isBetween(We.index,_e.min,_e.max):We.index>=_e.min||We.index<=_e.max);if(vt||rt){var it=i<De.min?tt:gt;Xe=it.panel,He=it.position}else if(Ue&&Fe.position!==Ie.position)Xe=Fe.panel,He=Fe.position;else if(Ue&&ht)Xe=We.panel,He=We.position;else{var mt=Te.findNearestAnchor(Te.position);return mt?this.moveToPanel(mt.panel,{duration:c,axesEvent:f}):Promise.reject(new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(i),CODE.POSITION_NOT_REACHABLE))}return this._triggerIndexChangeEvent(Xe,i,f),this._animateToPosition({position:He,duration:c,newActivePanel:Xe,axesEvent:f})},e._resetIndexRange=function(){this._indexRange={min:0,max:0}},o}(Control),CameraMode=function(){function h(e){this._flicking=e}var o=h.prototype;return o.getAnchors=function(){var e=this._flicking.renderer.panels;return e.map(function(i,c){return new AnchorPoint({index:c,position:i.position,panel:i})})},o.findAnchorIncludePosition=function(e){var i=this._flicking.camera.anchorPoints,c=i.filter(function(f){return f.panel.includePosition(e,!0)});return c.reduce(function(f,m){return f&&Math.abs(f.position-e)<Math.abs(m.position-e)?f:m},null)},o.findNearestAnchor=function(e){var i=this._flicking.camera.anchorPoints;if(i.length<=0)return null;for(var c=1/0,f=0;f<i.length;f++){var m=i[f],g=Math.abs(m.position-e);if(g>c)return i[f-1];c=g}return i[i.length-1]},o.clampToReachablePosition=function(e){var i=this._flicking.camera,c=i.range;return clamp(e,c.min,c.max)},o.getCircularOffset=function(){return 0},o.canReach=function(e){var i=this._flicking.camera,c=i.range;if(e.removed)return!1;var f=e.position;return f>=c.min&&f<=c.max},o.canSee=function(e){var i=this._flicking.camera,c=i.visibleRange;return e.isVisibleOnRange(c.min,c.max)},h}(),LinearCameraMode=function(h){__extends(o,h);function o(){return h!==null&&h.apply(this,arguments)||this}var e=o.prototype;return e.checkAvailability=function(){return!0},e.getRange=function(){var i,c,f=this._flicking.renderer,m=f.getPanel(0),g=f.getPanel(f.panelCount-1);return{min:(i=m==null?void 0:m.position)!==null&&i!==void 0?i:0,max:(c=g==null?void 0:g.position)!==null&&c!==void 0?c:0}},o}(CameraMode),CircularCameraMode=function(h){__extends(o,h);function o(){return h!==null&&h.apply(this,arguments)||this}var e=o.prototype;return e.checkAvailability=function(){var i=this._flicking,c=i.renderer,f=c.panels;if(f.length<=0)return!1;var m=f[0],g=f[f.length-1],Te=m.range.min-m.margin.prev,Ie=g.range.max+g.margin.next,Oe=i.camera.size,_e=Ie-Te,De=f.every(function(Ae){return _e-Ae.size>=Oe});return De},e.getRange=function(){var i=this._flicking,c=i.renderer.panels;if(c.length<=0)return{min:0,max:0};var f=c[0],m=c[c.length-1],g=f.range.min-f.margin.prev,Te=m.range.max+m.margin.next;return{min:g,max:Te}},e.getAnchors=function(){var i=this._flicking,c=i.renderer.panels;return c.map(function(f,m){return new AnchorPoint({index:m,position:f.position,panel:f})})},e.findNearestAnchor=function(i){var c=this._flicking.camera,f=c.anchorPoints;if(f.length<=0)return null;for(var m=c.range,g=1/0,Te=-1,Ie=0;Ie<f.length;Ie++){var Oe=f[Ie],_e=Math.min(Math.abs(Oe.position-i),Math.abs(Oe.position-m.min+m.max-i),Math.abs(i-m.min+m.max-Oe.position));_e<g&&(g=_e,Te=Ie)}return f[Te]},e.findAnchorIncludePosition=function(i){var c=this._flicking.camera,f=c.range,m=c.anchorPoints,g=c.rangeDiff,Te=m.length,Ie=circulatePosition(i,f.min,f.max),Oe=h.prototype.findAnchorIncludePosition.call(this,Ie);if(Te>0&&(i===f.min||i===f.max)){var _e=[Oe,new AnchorPoint({index:0,position:m[0].position+g,panel:m[0].panel}),new AnchorPoint({index:Te-1,position:m[Te-1].position-g,panel:m[Te-1].panel})].filter(function(Ae){return!!Ae});Oe=_e.reduce(function(Ae,qe){return Ae&&Math.abs(Ae.position-i)<Math.abs(qe.position-i)?Ae:qe},null)}if(!Oe)return null;if(i<f.min){var De=-Math.floor((f.min-i)/g)-1;return new AnchorPoint({index:Oe.index,position:Oe.position+g*De,panel:Oe.panel})}else if(i>f.max){var De=Math.floor((i-f.max)/g)+1;return new AnchorPoint({index:Oe.index,position:Oe.position+g*De,panel:Oe.panel})}return Oe},e.getCircularOffset=function(){var i=this._flicking,c=i.camera;if(!c.circularEnabled)return 0;var f=i.panels.filter(function(Te){return Te.toggled}),m=f.filter(function(Te){return Te.toggleDirection===DIRECTION.PREV}),g=f.filter(function(Te){return Te.toggleDirection===DIRECTION.NEXT});return this._calcPanelAreaSum(m)-this._calcPanelAreaSum(g)},e.clampToReachablePosition=function(i){return i},e.canReach=function(i){return!i.removed},e.canSee=function(i){var c=this._flicking.camera,f=c.range,m=c.rangeDiff,g=c.visibleRange,Te=h.prototype.canSee.call(this,i);return g.min<f.min?Te||i.isVisibleOnRange(g.min+m,g.max+m):g.max>f.max?Te||i.isVisibleOnRange(g.min-m,g.max-m):Te},e._calcPanelAreaSum=function(i){return i.reduce(function(c,f){return c+f.sizeIncludingMargin},0)},o}(CameraMode),BoundCameraMode=function(h){__extends(o,h);function o(){return h!==null&&h.apply(this,arguments)||this}var e=o.prototype;return e.checkAvailability=function(){var i=this._flicking,c=i.renderer,f=c.getPanel(0),m=c.getPanel(c.panelCount-1);if(!f||!m)return!1;var g=i.camera.size,Te=f.range.min,Ie=m.range.max,Oe=Ie-Te,_e=g<Oe;return _e},e.getRange=function(){var i=this._flicking,c=i.renderer,f=i.camera.alignPosition,m=c.getPanel(0),g=c.getPanel(c.panelCount-1);if(!m||!g)return{min:0,max:0};var Te=i.camera.size,Ie=m.range.min,Oe=g.range.max,_e=Oe-Ie,De=Te<_e,Ae=Ie+f,qe=Oe-Te+f;if(De)return{min:Ae,max:qe};var Fe=i.camera.align,Ne=typeof Fe=="object"?Fe.camera:Fe,Ve=Ae+parseAlign$1(Ne,qe-Ae);return{min:Ve,max:Ve}},e.getAnchors=function(){var i=this._flicking,c=i.camera,f=i.renderer.panels;if(f.length<=0)return[];var m=i.camera.range,g=f.filter(function(Fe){return c.canReach(Fe)});if(g.length>0){var Te=g[0].position!==m.min,Ie=g[g.length-1].position!==m.max,Oe=Te?1:0,_e=g.map(function(Fe,Ne){return new AnchorPoint({index:Ne+Oe,position:Fe.position,panel:Fe})});return Te&&_e.splice(0,0,new AnchorPoint({index:0,position:m.min,panel:f[g[0].index-1]})),Ie&&_e.push(new AnchorPoint({index:_e.length,position:m.max,panel:f[g[g.length-1].index+1]})),_e}else if(m.min!==m.max){var De=this._findNearestPanel(m.min,f),Ae=De.index===f.length-1?De.prev():De,qe=Ae.next();return[new AnchorPoint({index:0,position:m.min,panel:Ae}),new AnchorPoint({index:1,position:m.max,panel:qe})]}else return[new AnchorPoint({index:0,position:m.min,panel:this._findNearestPanel(m.min,f)})]},e.findAnchorIncludePosition=function(i){var c=this._flicking.camera,f=c.range,m=c.anchorPoints;return m.length<=0?null:i<=f.min?m[0]:i>=f.max?m[m.length-1]:h.prototype.findAnchorIncludePosition.call(this,i)},e._findNearestPanel=function(i,c){for(var f=1/0,m=0;m<c.length;m++){var g=c[m],Te=Math.abs(g.position-i);if(Te>f)return c[m-1];f=Te}return c[c.length-1]},o}(CameraMode),Camera=function(){function h(e,i){var c=this,f=(i===void 0?{}:i).align,m=f===void 0?ALIGN.CENTER:f;this._checkTranslateSupport=function(){var g,Te,Ie=["webkitTransform","msTransform","MozTransform","OTransform","transform"],Oe=document.documentElement.style,_e="";try{for(var De=__values(Ie),Ae=De.next();!Ae.done;Ae=De.next()){var qe=Ae.value;qe in Oe&&(_e=qe)}}catch(Fe){g={error:Fe}}finally{try{Ae&&!Ae.done&&(Te=De.return)&&Te.call(De)}finally{if(g)throw g.error}}if(!_e)throw new FlickingError(MESSAGE.TRANSFORM_NOT_SUPPORTED,CODE.TRANSFORM_NOT_SUPPORTED);c._transform=_e},this._flicking=e,this._resetInternalValues(),this._align=m}var o=h.prototype;return Object.defineProperty(o,"element",{get:function(){return this._el},enumerable:!1,configurable:!0}),Object.defineProperty(o,"children",{get:function(){return toArray(this._el.children)},enumerable:!1,configurable:!0}),Object.defineProperty(o,"position",{get:function(){return this._position},enumerable:!1,configurable:!0}),Object.defineProperty(o,"alignPosition",{get:function(){return this._alignPos},enumerable:!1,configurable:!0}),Object.defineProperty(o,"offset",{get:function(){return this._offset-this._circularOffset},enumerable:!1,configurable:!0}),Object.defineProperty(o,"circularEnabled",{get:function(){return this._circularEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(o,"mode",{get:function(){return this._mode},enumerable:!1,configurable:!0}),Object.defineProperty(o,"range",{get:function(){return this._range},enumerable:!1,configurable:!0}),Object.defineProperty(o,"rangeDiff",{get:function(){return this._range.max-this._range.min},enumerable:!1,configurable:!0}),Object.defineProperty(o,"visiblePanels",{get:function(){return this._visiblePanels},enumerable:!1,configurable:!0}),Object.defineProperty(o,"visibleRange",{get:function(){return{min:this._position-this._alignPos,max:this._position-this._alignPos+this.size}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"anchorPoints",{get:function(){return this._anchors},enumerable:!1,configurable:!0}),Object.defineProperty(o,"controlParams",{get:function(){return{range:this._range,position:this._position,circular:this._circularEnabled}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"atEdge",{get:function(){return this._position<=this._range.min||this._position>=this._range.max},enumerable:!1,configurable:!0}),Object.defineProperty(o,"size",{get:function(){var e=this._flicking;return e?e.horizontal?e.viewport.width:e.viewport.height:0},enumerable:!1,configurable:!0}),Object.defineProperty(o,"progress",{get:function(){var e=this._flicking,i=this._position+this._offset,c=this.findNearestAnchor(this._position);if(!e||!c)return NaN;var f=c.panel,m=f.position+f.offset,g=e.control.controller.bounce,Te=this.range,Ie=Te.min,Oe=Te.max,_e=this.rangeDiff;if(i===m)return f.index;if(i<m){var De=f.prev(),Ae=De?De.position+De.offset:Ie-g[0];return Ae>m&&(Ae-=_e),f.index-1+getProgress(i,Ae,m)}else{var qe=f.next(),Fe=qe?qe.position+qe.offset:Oe+g[1];return Fe<m&&(Fe+=_e),f.index+getProgress(i,m,Fe)}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"panelOrder",{get:function(){return this._panelOrder},enumerable:!1,configurable:!0}),Object.defineProperty(o,"align",{get:function(){return this._align},set:function(e){this._align=e},enumerable:!1,configurable:!0}),o.init=function(){var e=this._flicking.viewport.element;return checkExistence(e.firstElementChild,"First element child of the viewport element"),this._el=e.firstElementChild,this._checkTranslateSupport(),this._updateMode(),this.updatePanelOrder(),this},o.destroy=function(){return this._resetInternalValues(),this},o.lookAt=function(e){var i=this,c=getFlickingAttached(this._flicking),f=this._position;this._position=e;var m=this._togglePanels(f,e);this._refreshVisiblePanels(),this._checkNeedPanel(),this._checkReachEnd(f,e),m?c.renderer.render().then(function(){i.updateOffset()}):this.applyTransform()},o.getPrevAnchor=function(e){if(!this._circularEnabled||e.index!==0)return this._anchors[e.index-1]||null;var i=this._anchors,c=this.rangeDiff,f=i[i.length-1];return new AnchorPoint({index:f.index,position:f.position-c,panel:f.panel})},o.getNextAnchor=function(e){var i=this._anchors;if(!this._circularEnabled||e.index!==i.length-1)return i[e.index+1]||null;var c=this.rangeDiff,f=i[0];return new AnchorPoint({index:f.index,position:f.position+c,panel:f.panel})},o.getProgressInPanel=function(e){var i=e.range;return(this._position-i.min)/(i.max-i.min)},o.findAnchorIncludePosition=function(e){return this._mode.findAnchorIncludePosition(e)},o.findNearestAnchor=function(e){return this._mode.findNearestAnchor(e)},o.findActiveAnchor=function(){var e,i=getFlickingAttached(this._flicking),c=i.control.activePanel;return c?(e=find(this._anchors,function(f){return f.panel.index===c.index}))!==null&&e!==void 0?e:this.findNearestAnchor(c.position):null},o.clampToReachablePosition=function(e){return this._mode.clampToReachablePosition(e)},o.canReach=function(e){return this._mode.canReach(e)},o.canSee=function(e){return this._mode.canSee(e)},o.updateRange=function(){var e=getFlickingAttached(this._flicking),i=e.renderer,c=i.panels;return this._updateMode(),this._range=this._mode.getRange(),c.forEach(function(f){return f.updateCircularToggleDirection()}),this},o.updateAlignPos=function(){var e=this._align,i=typeof e=="object"?e.camera:e;return this._alignPos=parseAlign$1(i,this.size),this},o.updateAnchors=function(){return this._anchors=this._mode.getAnchors(),this},o.updateAdaptiveHeight=function(){var e=getFlickingAttached(this._flicking),i=e.control.activePanel;!e.horizontal||!e.adaptive||!i||e.viewport.setSize({height:i.height})},o.updateOffset=function(){var e=getFlickingAttached(this._flicking),i=this._position,c=e.panels.filter(function(f){return!f.rendered});return this._offset=c.filter(function(f){return f.position+f.offset<i}).reduce(function(f,m){return f+m.sizeIncludingMargin},0),this._circularOffset=this._mode.getCircularOffset(),this.applyTransform(),this},o.updatePanelOrder=function(){var e=getFlickingAttached(this._flicking);if(!e.horizontal)return this;var i=this._el,c=getStyle(i).direction;return c!==this._panelOrder&&(this._panelOrder=c===ORDER.RTL?ORDER.RTL:ORDER.LTR,e.initialized&&e.control.controller.updateDirection()),this},o.resetNeedPanelHistory=function(){return this._needPanelTriggered={prev:!1,next:!1},this},o.applyTransform=function(){var e=this._el,i=getFlickingAttached(this._flicking),c=i.renderer;if(c.rendering||!i.initialized)return this;var f=this._position-this._alignPos-this._offset+this._circularOffset;return e.style[this._transform]=i.horizontal?"translate("+(this._panelOrder===ORDER.RTL?f:-f)+"px)":"translate(0, "+-f+"px)",this},o._resetInternalValues=function(){this._position=0,this._alignPos=0,this._offset=0,this._circularOffset=0,this._circularEnabled=!1,this._range={min:0,max:0},this._visiblePanels=[],this._anchors=[],this._needPanelTriggered={prev:!1,next:!1}},o._refreshVisiblePanels=function(){var e=this,i=getFlickingAttached(this._flicking),c=i.renderer.panels,f=c.filter(function(Ie){return e.canSee(Ie)}),m=this._visiblePanels;this._visiblePanels=f;var g=f.filter(function(Ie){return!includes(m,Ie)}),Te=m.filter(function(Ie){return!includes(f,Ie)});(g.length>0||Te.length>0)&&i.renderer.render().then(function(){i.trigger(new ComponentEvent$1(EVENTS.VISIBLE_CHANGE,{added:g,removed:Te,visiblePanels:f}))})},o._checkNeedPanel=function(){var e=this._needPanelTriggered;if(!(e.prev&&e.next)){var i=getFlickingAttached(this._flicking),c=i.renderer.panels;if(c.length<=0){e.prev||(i.trigger(new ComponentEvent$1(EVENTS.NEED_PANEL,{direction:DIRECTION.PREV})),e.prev=!0),e.next||(i.trigger(new ComponentEvent$1(EVENTS.NEED_PANEL,{direction:DIRECTION.NEXT})),e.next=!0);return}var f=this._position,m=this.size,g=this._range,Te=i.needPanelThreshold,Ie=f-this._alignPos,Oe=Ie+m,_e=c[0],De=c[c.length-1];if(!e.prev){var Ae=_e.range.min;(Ie<=Ae+Te||f<=g.min+Te)&&(i.trigger(new ComponentEvent$1(EVENTS.NEED_PANEL,{direction:DIRECTION.PREV})),e.prev=!0)}if(!e.next){var qe=De.range.max;(Oe>=qe-Te||f>=g.max-Te)&&(i.trigger(new ComponentEvent$1(EVENTS.NEED_PANEL,{direction:DIRECTION.NEXT})),e.next=!0)}}},o._checkReachEnd=function(e,i){var c=getFlickingAttached(this._flicking),f=this._range,m=e>f.min&&e<f.max,g=i>f.min&&i<f.max;if(!(!m||g)){var Te=i<=f.min?DIRECTION.PREV:DIRECTION.NEXT;c.trigger(new ComponentEvent$1(EVENTS.REACH_EDGE,{direction:Te}))}},o._updateMode=function(){var e=getFlickingAttached(this._flicking);if(e.circular){var i=new CircularCameraMode(e),c=i.checkAvailability();if(c)this._mode=i;else{var f=e.circularFallback;this._mode=f===CIRCULAR_FALLBACK.BOUND?new BoundCameraMode(e):new LinearCameraMode(e)}this._circularEnabled=c}else this._mode=e.bound?new BoundCameraMode(e):new LinearCameraMode(e),this._circularEnabled=!1},o._togglePanels=function(e,i){if(i===e)return!1;var c=getFlickingAttached(this._flicking),f=c.renderer.panels,m=f.map(function(g){return g.toggle(e,i)});return m.some(function(g){return g})},h}(),Renderer=function(){function h(e){var i=e.align,c=i===void 0?ALIGN.CENTER:i,f=e.strategy;this._flicking=null,this._panels=[],this._rendering=!1,this._align=c,this._strategy=f}var o=h.prototype;return Object.defineProperty(o,"panels",{get:function(){return this._panels},enumerable:!1,configurable:!0}),Object.defineProperty(o,"rendering",{get:function(){return this._rendering},enumerable:!1,configurable:!0}),Object.defineProperty(o,"panelCount",{get:function(){return this._panels.length},enumerable:!1,configurable:!0}),Object.defineProperty(o,"strategy",{get:function(){return this._strategy},enumerable:!1,configurable:!0}),Object.defineProperty(o,"align",{get:function(){return this._align},set:function(e){this._align=e;var i=parsePanelAlign(e);this._panels.forEach(function(c){c.align=i})},enumerable:!1,configurable:!0}),o.init=function(e){return this._flicking=e,this._collectPanels(),this},o.destroy=function(){this._flicking=null,this._panels=[]},o.getPanel=function(e){return this._panels[e]||null},o.forceRenderAllPanels=function(){return this._panels.forEach(function(e){return e.markForShow()}),Promise.resolve()},o.updatePanelSize=function(){var e=getFlickingAttached(this._flicking),i=this._panels;if(i.length<=0)return this;if(e.panelsPerView>0){var c=i[0];c.resize(),this._updatePanelSizeByGrid(c,i)}else e.panels.forEach(function(f){return f.resize()});return this},o.batchInsert=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var c=this.batchInsertDefer.apply(this,__spread(e));return c.length<=0?[]:(this.updateAfterPanelChange(c,[]),c)},o.batchInsertDefer=function(){for(var e=this,i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];var f=this._panels,m=getFlickingAttached(this._flicking),g=f[0],Te=parsePanelAlign(this._align),Ie=i.reduce(function(Oe,_e){var De,Ae=getMinusCompensatedIndex(_e.index,f.length),qe=f.slice(Ae),Fe=_e.elements.map(function(Ve,Ue){return e._createPanel(Ve,{index:Ae+Ue,align:Te,flicking:m})});if(f.splice.apply(f,__spread([Ae,0],Fe)),_e.hasDOMInElements&&e._insertPanelElements(Fe,(De=qe[0])!==null&&De!==void 0?De:null),m.panelsPerView>0){var Ne=g||Fe[0].resize();e._updatePanelSizeByGrid(Ne,Fe)}else Fe.forEach(function(Ve){return Ve.resize()});return qe.forEach(function(Ve){Ve.increaseIndex(Fe.length),Ve.updatePosition()}),__spread(Oe,Fe)},[]);return Ie},o.batchRemove=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var c=this.batchRemoveDefer.apply(this,__spread(e));return c.length<=0?[]:(this.updateAfterPanelChange([],c),c)},o.batchRemoveDefer=function(){for(var e=this,i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];var f=this._panels,m=getFlickingAttached(this._flicking),g=m.control,Te=g.activePanel,Ie=i.reduce(function(Oe,_e){var De=_e.index,Ae=_e.deleteCount,qe=getMinusCompensatedIndex(De,f.length),Fe=f.slice(qe+Ae),Ne=f.splice(qe,Ae);return Ne.length<=0?[]:(Fe.forEach(function(Ve){Ve.decreaseIndex(Ne.length),Ve.updatePosition()}),_e.hasDOMInElements&&e._removePanelElements(Ne),Ne.forEach(function(Ve){return Ve.destroy()}),includes(Ne,Te)&&g.resetActive(),__spread(Oe,Ne))},[]);return Ie},o.updateAfterPanelChange=function(e,i){var c,f=getFlickingAttached(this._flicking),m=f.camera,g=f.control,Te=this._panels,Ie=g.activePanel;if(this._updateCameraAndControl(),this.render(),!f.animating)if(!Ie||Ie.removed)if(Te.length<=0)m.lookAt(0);else{var Oe=(c=Ie==null?void 0:Ie.index)!==null&&c!==void 0?c:0;Oe>Te.length-1&&(Oe=Te.length-1),g.moveToPanel(Te[Oe],{duration:0}).catch(function(){})}else g.moveToPanel(Ie,{duration:0}).catch(function(){});f.camera.updateOffset(),(e.length>0||i.length>0)&&(f.trigger(new ComponentEvent$1(EVENTS.PANEL_CHANGE,{added:e,removed:i})),this.checkPanelContentsReady(__spread(e,i)))},o.checkPanelContentsReady=function(e){var i=this,c=getFlickingAttached(this._flicking),f=c.resizeOnContentsReady,m=this._panels;if(!(!f||c.virtualEnabled)){var g=function(Ie){return Ie.element&&!!Ie.element.querySelector("img, video")};if(e=e.filter(function(Ie){return g(Ie)}),!(e.length<=0)){var Te=new ImReady$1;e.forEach(function(Ie){Ie.loading=!0}),Te.on("readyElement",function(Ie){if(!i._flicking){Te.destroy();return}var Oe=e[Ie.index],_e=c.camera,De=c.control,Ae=De.activePanel?_e.getProgressInPanel(De.activePanel):0;Oe.loading=!1,Oe.resize(),m.slice(Oe.index+1).forEach(function(qe){return qe.updatePosition()}),c.initialized&&(_e.updateRange(),_e.updateOffset(),_e.updateAnchors(),De.animating||(De.updatePosition(Ae),De.updateInput()))}),Te.on("preReady",function(Ie){i._flicking&&i.render(),Ie.readyCount===Ie.totalCount&&Te.destroy()}),Te.on("ready",function(){i._flicking&&i.render(),Te.destroy()}),Te.check(e.map(function(Ie){return Ie.element}))}}},o._updateCameraAndControl=function(){var e=getFlickingAttached(this._flicking),i=e.camera,c=e.control;i.updateRange(),i.updateOffset(),i.updateAnchors(),i.resetNeedPanelHistory(),c.updateInput()},o._showOnlyVisiblePanels=function(e){var i=e.renderer.panels,c=e.camera,f=c.visiblePanels.reduce(function(m,g){return m[g.index]=!0,m},{});i.forEach(function(m){m.index in f||m.loading?m.markForShow():e.holding||m.markForHide()})},o._updatePanelSizeByGrid=function(e,i){var c=getFlickingAttached(this._flicking),f=c.panelsPerView;if(f<=0)throw new FlickingError(MESSAGE.WRONG_OPTION("panelsPerView",f),CODE.WRONG_OPTION);if(!(i.length<=0)){var m=c.camera.size,g=e.margin.prev+e.margin.next,Te=(m-g*(f-1))/f,Ie=c.horizontal?{width:Te}:{height:Te},Oe=__assign({size:Te,margin:e.margin},!c.horizontal&&{height:e.height});c.noPanelStyleOverride||this._strategy.updatePanelSizes(c,Ie),c.panels.forEach(function(_e){return _e.resize(Oe)})}},o._removeAllChildsFromCamera=function(){for(var e=getFlickingAttached(this._flicking),i=e.camera.element;i.firstChild;)i.removeChild(i.firstChild)},o._insertPanelElements=function(e,i){i===void 0&&(i=null);var c=getFlickingAttached(this._flicking),f=c.camera,m=f.element,g=(i==null?void 0:i.element)||null,Te=document.createDocumentFragment();e.forEach(function(Ie){return Te.appendChild(Ie.element)}),m.insertBefore(Te,g)},o._removePanelElements=function(e){var i=getFlickingAttached(this._flicking),c=i.camera.element;e.forEach(function(f){c.removeChild(f.element)})},o._afterRender=function(){var e=getFlickingAttached(this._flicking);e.camera.applyTransform()},h}(),VanillaRenderer=function(h){__extends(o,h);function o(){return h!==null&&h.apply(this,arguments)||this}var e=o.prototype;return e.render=function(){return __awaiter(this,void 0,void 0,function(){var i,c;return __generator(this,function(f){return i=getFlickingAttached(this._flicking),c=this._strategy,c.updateRenderingPanels(i),c.renderPanels(i),this._resetPanelElementOrder(),this._afterRender(),[2]})})},e._collectPanels=function(){var i=getFlickingAttached(this._flicking),c=i.camera;this._removeAllTextNodes(),this._panels=this._strategy.collectPanels(i,c.children)},e._createPanel=function(i,c){return this._strategy.createPanel(i,c)},e._resetPanelElementOrder=function(){var i=getFlickingAttached(this._flicking),c=i.camera.element,f=this._strategy.getRenderingElementsByOrder(i).reverse();f.forEach(function(m,g){var Te=f[g-1]?f[g-1]:null;m.nextElementSibling!==Te&&c.insertBefore(m,Te)})},e._removeAllTextNodes=function(){var i=getFlickingAttached(this._flicking),c=i.camera.element;toArray(c.childNodes).forEach(function(f){f.nodeType===Node.TEXT_NODE&&c.removeChild(f)})},o}(Renderer),Panel=function(){function h(e){var i=e.index,c=e.align,f=e.flicking,m=e.elementProvider;this._index=i,this._flicking=f,this._elProvider=m,this._align=c,this._removed=!1,this._rendered=!0,this._loading=!1,this._resetInternalStates()}var o=h.prototype;return Object.defineProperty(o,"element",{get:function(){return this._elProvider.element},enumerable:!1,configurable:!0}),Object.defineProperty(o,"elementProvider",{get:function(){return this._elProvider},enumerable:!1,configurable:!0}),Object.defineProperty(o,"index",{get:function(){return this._index},enumerable:!1,configurable:!0}),Object.defineProperty(o,"position",{get:function(){return this._pos+this._alignPos},enumerable:!1,configurable:!0}),Object.defineProperty(o,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),Object.defineProperty(o,"sizeIncludingMargin",{get:function(){return this._size+this._margin.prev+this._margin.next},enumerable:!1,configurable:!0}),Object.defineProperty(o,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),Object.defineProperty(o,"margin",{get:function(){return this._margin},enumerable:!1,configurable:!0}),Object.defineProperty(o,"alignPosition",{get:function(){return this._alignPos},enumerable:!1,configurable:!0}),Object.defineProperty(o,"removed",{get:function(){return this._removed},enumerable:!1,configurable:!0}),Object.defineProperty(o,"rendered",{get:function(){return this._rendered},enumerable:!1,configurable:!0}),Object.defineProperty(o,"loading",{get:function(){return this._loading},set:function(e){this._loading=e},enumerable:!1,configurable:!0}),Object.defineProperty(o,"range",{get:function(){return{min:this._pos,max:this._pos+this._size}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"toggled",{get:function(){return this._toggled},enumerable:!1,configurable:!0}),Object.defineProperty(o,"toggleDirection",{get:function(){return this._toggleDirection},enumerable:!1,configurable:!0}),Object.defineProperty(o,"offset",{get:function(){var e=this._toggleDirection,i=this._flicking.camera.rangeDiff;return e===DIRECTION.NONE||!this._toggled?0:e===DIRECTION.PREV?-i:i},enumerable:!1,configurable:!0}),Object.defineProperty(o,"progress",{get:function(){var e=this._flicking;return this.index-e.camera.progress},enumerable:!1,configurable:!0}),Object.defineProperty(o,"outsetProgress",{get:function(){var e=this.position+this.offset,i=this._alignPos,c=this._flicking.camera,f=c.position;if(f===e)return 0;if(f<e){var m=e+(c.size-c.alignPosition)+i;return-getProgress(f,e,m)}else{var g=e-(c.alignPosition+this._size-i);return 1-getProgress(f,g,e)}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"visibleRatio",{get:function(){var e=this.range,i=this._size,c=this.offset,f=this._flicking.camera.visibleRange,m={min:e.min+c,max:e.max+c};if(m.max<=f.min||m.min>=f.max)return 0;var g=i;return f.min>m.min&&(g-=f.min-m.min),f.max<m.max&&(g-=m.max-f.max),g/i},enumerable:!1,configurable:!0}),Object.defineProperty(o,"align",{get:function(){return this._align},set:function(e){this._align=e,this._updateAlignPos()},enumerable:!1,configurable:!0}),o.markForShow=function(){this._rendered=!0,this._elProvider.show(this._flicking)},o.markForHide=function(){this._rendered=!1,this._elProvider.hide(this._flicking)},o.resize=function(e){var i,c=this.element,f=this._flicking,m=f.horizontal,g=f.useFractionalSize;if(e)this._size=e.size,this._margin=__assign({},e.margin),this._height=(i=e.height)!==null&&i!==void 0?i:getElementSize({el:c,horizontal:!1,useFractionalSize:g,useOffset:!0,style:getStyle(c)});else{var Te=getStyle(c);this._size=getElementSize({el:c,horizontal:m,useFractionalSize:g,useOffset:!0,style:Te}),this._margin=m?{prev:parseFloat(Te.marginLeft||"0"),next:parseFloat(Te.marginRight||"0")}:{prev:parseFloat(Te.marginTop||"0"),next:parseFloat(Te.marginBottom||"0")},this._height=m?getElementSize({el:c,horizontal:!1,useFractionalSize:g,useOffset:!0,style:Te}):this._size}return this.updatePosition(),this._updateAlignPos(),this},o.setSize=function(e){return setSize(this.element,e),this},o.contains=function(e){var i;return!!(!((i=this.element)===null||i===void 0)&&i.contains(e))},o.destroy=function(){this._resetInternalStates(),this._removed=!0},o.includePosition=function(e,i){return i===void 0&&(i=!1),this.includeRange(e,e,i)},o.includeRange=function(e,i,c){c===void 0&&(c=!1);var f=this._margin,m=this.range;return c&&(m.min-=f.prev,m.max+=f.next),i>=m.min&&e<=m.max},o.isVisibleOnRange=function(e,i){var c=this.range;return i>c.min&&e<c.max},o.focus=function(e){return this._flicking.moveTo(this._index,e)},o.prev=function(){var e=this._index,i=this._flicking,c=i.renderer,f=c.panelCount;return f===1?null:i.circularEnabled?c.getPanel(e===0?f-1:e-1):c.getPanel(e-1)},o.next=function(){var e=this._index,i=this._flicking,c=i.renderer,f=c.panelCount;return f===1?null:i.circularEnabled?c.getPanel(e===f-1?0:e+1):c.getPanel(e+1)},o.increaseIndex=function(e){return this._index+=Math.max(e,0),this},o.decreaseIndex=function(e){return this._index-=Math.max(e,0),this},o.updatePosition=function(){var e=this._flicking.renderer.panels[this._index-1];return this._pos=e?e.range.max+e.margin.next+this._margin.prev:this._margin.prev,this},o.toggle=function(e,i){var c=this._toggleDirection,f=this._togglePosition;if(c===DIRECTION.NONE||i===e)return!1;var m=this._toggled;return i>e?f>=e&&f<=i&&(this._toggled=c===DIRECTION.NEXT):f<=e&&f>=i&&(this._toggled=c!==DIRECTION.NEXT),m!==this._toggled},o.updateCircularToggleDirection=function(){var e=this._flicking;if(!e.circularEnabled)return this._toggleDirection=DIRECTION.NONE,this._togglePosition=0,this._toggled=!1,this;var i=e.camera,c=i.range,f=i.alignPosition,m=i.visibleRange,g=m.max-m.min,Te=c.min-f,Ie=c.max-f+g,Oe=this.includeRange(Ie-g,Ie,!1),_e=this.includeRange(Te,Te+g,!1);return this._toggled=!1,Oe?(this._toggleDirection=DIRECTION.PREV,this._togglePosition=this.range.max+c.min-c.max+f,this.toggle(1/0,i.position)):_e?(this._toggleDirection=DIRECTION.NEXT,this._togglePosition=this.range.min+c.max-g+f,this.toggle(-1/0,i.position)):(this._toggleDirection=DIRECTION.NONE,this._togglePosition=0),this},o._updateAlignPos=function(){this._alignPos=parseAlign$1(this._align,this._size)},o._resetInternalStates=function(){this._size=0,this._pos=0,this._margin={prev:0,next:0},this._height=0,this._alignPos=0,this._toggled=!1,this._togglePosition=0,this._toggleDirection=DIRECTION.NONE},h}(),NormalRenderingStrategy=function(){function h(e){var i=e.providerCtor;this._providerCtor=i}var o=h.prototype;return o.renderPanels=function(){},o.getRenderingIndexesByOrder=function(e){var i=e.renderer.panels.filter(function(g){return g.rendered}),c=i.filter(function(g){return g.toggled&&g.toggleDirection===DIRECTION.PREV}),f=i.filter(function(g){return g.toggled&&g.toggleDirection===DIRECTION.NEXT}),m=i.filter(function(g){return!g.toggled});return __spread(c,m,f).map(function(g){return g.index})},o.getRenderingElementsByOrder=function(e){var i=e.panels;return this.getRenderingIndexesByOrder(e).map(function(c){return i[c].element})},o.updateRenderingPanels=function(e){e.renderOnlyVisible?this._showOnlyVisiblePanels(e):e.panels.forEach(function(i){return i.markForShow()})},o.collectPanels=function(e,i){var c=this,f=parsePanelAlign(e.renderer.align);return i.map(function(m,g){return new Panel({index:g,elementProvider:new c._providerCtor(m),align:f,flicking:e})})},o.createPanel=function(e,i){return new Panel(__assign(__assign({},i),{elementProvider:new this._providerCtor(e)}))},o.updatePanelSizes=function(e,i){e.panels.forEach(function(c){return c.setSize(i)})},o._showOnlyVisiblePanels=function(e){var i=e.renderer.panels,c=e.camera,f=c.visiblePanels.reduce(function(m,g){return m[g.index]=!0,m},{});i.forEach(function(m){m.index in f||m.loading?m.markForShow():e.holding||m.markForHide()}),c.updateOffset()},h}(),VirtualPanel=function(h){__extends(o,h);function o(i){var c=h.call(this,i)||this;return i.elementProvider.init(c),c._elProvider=i.elementProvider,c._cachedInnerHTML=null,c}var e=o.prototype;return Object.defineProperty(e,"element",{get:function(){return this._elProvider.element},enumerable:!1,configurable:!0}),Object.defineProperty(e,"cachedInnerHTML",{get:function(){return this._cachedInnerHTML},enumerable:!1,configurable:!0}),Object.defineProperty(e,"elementIndex",{get:function(){var i=this._flicking,c=i.panelsPerView+1,f=i.panelCount,m=this._index;return this._toggled&&(m=this._toggleDirection===DIRECTION.NEXT?m+f:m-f),circulateIndex(m,c)},enumerable:!1,configurable:!0}),e.cacheRenderResult=function(i){this._cachedInnerHTML=i},e.uncacheRenderResult=function(){this._cachedInnerHTML=null},e.render=function(){var i=this._flicking,c=i.virtual,f=c.renderPanel,m=c.cache,g=this._elProvider.element,Te=this._cachedInnerHTML||f(this,this._index);Te!==g.innerHTML&&(g.innerHTML=Te,m&&this.cacheRenderResult(Te))},e.increaseIndex=function(i){return this.uncacheRenderResult(),h.prototype.increaseIndex.call(this,i)},e.decreaseIndex=function(i){return this.uncacheRenderResult(),h.prototype.decreaseIndex.call(this,i)},o}(Panel),VirtualRenderingStrategy=function(){function h(){}var o=h.prototype;return o.renderPanels=function(e){var i=e.virtual,c=e.visiblePanels,f=range(e.panelsPerView+1);c.forEach(function(m){var g=m.elementIndex;m.render(),i.show(g),f[g]=-1}),f.filter(function(m){return m>=0}).forEach(function(m){i.hide(m)})},o.getRenderingIndexesByOrder=function(e){var i=e.virtual,c=__spread(e.visiblePanels).filter(function(g){return g.rendered}).sort(function(g,Te){return g.position+g.offset-(Te.position+Te.offset)});if(c.length<=0)return i.elements.map(function(g,Te){return Te});var f=c.map(function(g){return g.elementIndex}),m=i.elements.map(function(g,Te){return __assign(__assign({},g),{idx:Te})}).filter(function(g){return!g.visible}).map(function(g){return g.idx});return __spread(f,m)},o.getRenderingElementsByOrder=function(e){var i=e.virtual,c=i.elements;return this.getRenderingIndexesByOrder(e).map(function(f){return c[f].nativeElement})},o.updateRenderingPanels=function(e){var i=e.renderer.panels,c=e.camera,f=c.visiblePanels.reduce(function(m,g){return m[g.index]=!0,m},{});i.forEach(function(m){m.index in f||m.loading?m.markForShow():m.markForHide()}),c.updateOffset()},o.collectPanels=function(e){var i=parsePanelAlign(e.renderer.align);return range(e.virtual.initialPanelCount).map(function(c){return new VirtualPanel({index:c,elementProvider:new VirtualElementProvider(e),align:i,flicking:e})})},o.createPanel=function(e,i){return new VirtualPanel(__assign(__assign({},i),{elementProvider:new VirtualElementProvider(i.flicking)}))},o.updatePanelSizes=function(e,i){e.virtual.elements.forEach(function(c){setSize(c.nativeElement,i)}),e.panels.forEach(function(c){return c.setSize(i)})},h}(),Flicking=function(h){__extends(o,h);function o(i,c){var f=c===void 0?{}:c,m=f.align,g=m===void 0?ALIGN.CENTER:m,Te=f.defaultIndex,Ie=Te===void 0?0:Te,Oe=f.horizontal,_e=Oe===void 0?!0:Oe,De=f.circular,Ae=De===void 0?!1:De,qe=f.circularFallback,Fe=qe===void 0?CIRCULAR_FALLBACK.LINEAR:qe,Ne=f.bound,Ve=Ne===void 0?!1:Ne,Ue=f.adaptive,We=Ue===void 0?!1:Ue,He=f.panelsPerView,Xe=He===void 0?-1:He,ot=f.noPanelStyleOverride,tt=ot===void 0?!1:ot,gt=f.resizeOnContentsReady,vt=gt===void 0?!1:gt,rt=f.nested,ht=rt===void 0?!1:rt,it=f.needPanelThreshold,mt=it===void 0?0:it,Ze=f.preventEventsBeforeInit,Ft=Ze===void 0?!0:Ze,Zt=f.deceleration,zt=Zt===void 0?.0075:Zt,ur=f.duration,bt=ur===void 0?500:ur,St=f.easing,ct=St===void 0?function(Or){return 1-Math.pow(1-Or,3)}:St,dt=f.inputType,Bt=dt===void 0?["mouse","touch"]:dt,Ct=f.moveType,Kt=Ct===void 0?"snap":Ct,fr=f.threshold,Rr=fr===void 0?40:fr,cr=f.interruptable,lt=cr===void 0?!0:cr,yt=f.bounce,Xt=yt===void 0?"20%":yt,$t=f.iOSEdgeSwipeThreshold,dr=$t===void 0?30:$t,Je=f.preventClickOnDrag,At=Je===void 0?!0:Je,Wt=f.preventDefaultOnDrag,xt=Wt===void 0?!1:Wt,pt=f.disableOnInit,Dt=pt===void 0?!1:pt,er=f.changeOnHold,nt=er===void 0?!1:er,ze=f.renderOnlyVisible,Ge=ze===void 0?!1:ze,ut=f.virtual,Et=ut===void 0?null:ut,It=f.autoInit,jt=It===void 0?!0:It,tr=f.autoResize,Sr=tr===void 0?!0:tr,Lr=f.useResizeObserver,Pr=Lr===void 0?!0:Lr,Er=f.resizeDebounce,gr=Er===void 0?0:Er,Qr=f.maxResizeDebounce,Cr=Qr===void 0?100:Qr,sn=f.useFractionalSize,Pn=sn===void 0?!1:sn,Un=f.externalRenderer,wr=Un===void 0?null:Un,Jt=f.renderExternal,yr=Jt===void 0?null:Jt,at=h.call(this)||this;return at._initialized=!1,at._plugins=[],at._align=g,at._defaultIndex=Ie,at._horizontal=_e,at._circular=Ae,at._circularFallback=Fe,at._bound=Ve,at._adaptive=We,at._panelsPerView=Xe,at._noPanelStyleOverride=tt,at._resizeOnContentsReady=vt,at._nested=ht,at._virtual=Et,at._needPanelThreshold=mt,at._preventEventsBeforeInit=Ft,at._deceleration=zt,at._duration=bt,at._easing=ct,at._inputType=Bt,at._moveType=Kt,at._threshold=Rr,at._interruptable=lt,at._bounce=Xt,at._iOSEdgeSwipeThreshold=dr,at._preventClickOnDrag=At,at._preventDefaultOnDrag=xt,at._disableOnInit=Dt,at._changeOnHold=nt,at._renderOnlyVisible=Ge,at._autoInit=jt,at._autoResize=Sr,at._useResizeObserver=Pr,at._resizeDebounce=gr,at._maxResizeDebounce=Cr,at._useFractionalSize=Pn,at._externalRenderer=wr,at._renderExternal=yr,at._viewport=new Viewport(at,getElement(i)),at._autoResizer=new AutoResizer(at),at._renderer=at._createRenderer(),at._camera=at._createCamera(),at._control=at._createControl(),at._virtualManager=new VirtualManager(at,Et),at._autoInit&&at.init(),at}var e=o.prototype;return Object.defineProperty(e,"control",{get:function(){return this._control},enumerable:!1,configurable:!0}),Object.defineProperty(e,"camera",{get:function(){return this._camera},enumerable:!1,configurable:!0}),Object.defineProperty(e,"renderer",{get:function(){return this._renderer},enumerable:!1,configurable:!0}),Object.defineProperty(e,"viewport",{get:function(){return this._viewport},enumerable:!1,configurable:!0}),Object.defineProperty(e,"initialized",{get:function(){return this._initialized},enumerable:!1,configurable:!0}),Object.defineProperty(e,"circularEnabled",{get:function(){return this._camera.circularEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(e,"virtualEnabled",{get:function(){return this._panelsPerView>0&&this._virtual!=null},enumerable:!1,configurable:!0}),Object.defineProperty(e,"index",{get:function(){return this._control.activeIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e,"element",{get:function(){return this._viewport.element},enumerable:!1,configurable:!0}),Object.defineProperty(e,"currentPanel",{get:function(){return this._control.activePanel},enumerable:!1,configurable:!0}),Object.defineProperty(e,"panels",{get:function(){return this._renderer.panels},enumerable:!1,configurable:!0}),Object.defineProperty(e,"panelCount",{get:function(){return this._renderer.panelCount},enumerable:!1,configurable:!0}),Object.defineProperty(e,"visiblePanels",{get:function(){return this._camera.visiblePanels},enumerable:!1,configurable:!0}),Object.defineProperty(e,"animating",{get:function(){return this._control.animating},enumerable:!1,configurable:!0}),Object.defineProperty(e,"holding",{get:function(){return this._control.holding},enumerable:!1,configurable:!0}),Object.defineProperty(e,"activePlugins",{get:function(){return this._plugins},enumerable:!1,configurable:!0}),Object.defineProperty(e,"align",{get:function(){return this._align},set:function(i){this._align=i,this._renderer.align=i,this._camera.align=i,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultIndex",{get:function(){return this._defaultIndex},set:function(i){this._defaultIndex=i},enumerable:!1,configurable:!0}),Object.defineProperty(e,"horizontal",{get:function(){return this._horizontal},set:function(i){this._horizontal=i,this._control.controller.updateDirection(),this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"circular",{get:function(){return this._circular},set:function(i){this._circular=i,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"circularFallback",{get:function(){return this._circularFallback},enumerable:!1,configurable:!0}),Object.defineProperty(e,"bound",{get:function(){return this._bound},set:function(i){this._bound=i,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"adaptive",{get:function(){return this._adaptive},set:function(i){this._adaptive=i,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"panelsPerView",{get:function(){return this._panelsPerView},set:function(i){this._panelsPerView=i,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"noPanelStyleOverride",{get:function(){return this._noPanelStyleOverride},set:function(i){this._noPanelStyleOverride=i,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"resizeOnContentsReady",{get:function(){return this._resizeOnContentsReady},set:function(i){this._resizeOnContentsReady=i,i&&this._renderer.checkPanelContentsReady(this._renderer.panels)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"nested",{get:function(){return this._nested},set:function(i){this._nested=i;var c=this._control.controller.axes;c&&(c.options.nested=i)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"needPanelThreshold",{get:function(){return this._needPanelThreshold},set:function(i){this._needPanelThreshold=i},enumerable:!1,configurable:!0}),Object.defineProperty(e,"preventEventsBeforeInit",{get:function(){return this._preventEventsBeforeInit},set:function(i){this._preventEventsBeforeInit=i},enumerable:!1,configurable:!0}),Object.defineProperty(e,"deceleration",{get:function(){return this._deceleration},set:function(i){this._deceleration=i;var c=this._control.controller.axes;c&&(c.options.deceleration=i)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"easing",{get:function(){return this._easing},set:function(i){this._easing=i;var c=this._control.controller.axes;c&&(c.options.easing=i)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"duration",{get:function(){return this._duration},set:function(i){this._duration=i},enumerable:!1,configurable:!0}),Object.defineProperty(e,"inputType",{get:function(){return this._inputType},set:function(i){this._inputType=i;var c=this._control.controller.panInput;c&&(c.options.inputType=i)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"moveType",{get:function(){return this._moveType},set:function(i){this._moveType=i;var c=this._control,f=this._createControl(),m=c.activePanel;f.copy(c);var g=m?this._camera.getProgressInPanel(m):0;this._control=f,this._control.updatePosition(g),this._control.updateInput()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"threshold",{get:function(){return this._threshold},set:function(i){this._threshold=i},enumerable:!1,configurable:!0}),Object.defineProperty(e,"interruptable",{get:function(){return this._interruptable},set:function(i){this._interruptable=i;var c=this._control.controller.axes;c&&(c.options.interruptable=i)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"bounce",{get:function(){return this._bounce},set:function(i){this._bounce=i,this._control.updateInput()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"iOSEdgeSwipeThreshold",{get:function(){return this._iOSEdgeSwipeThreshold},set:function(i){this._iOSEdgeSwipeThreshold=i;var c=this._control.controller.panInput;c&&(c.options.iOSEdgeSwipeThreshold=i)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"preventClickOnDrag",{get:function(){return this._preventClickOnDrag},set:function(i){var c=this._preventClickOnDrag;if(i!==c){var f=this._control.controller;i?f.addPreventClickHandler():f.removePreventClickHandler(),this._preventClickOnDrag=i}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"preventDefaultOnDrag",{get:function(){return this._preventDefaultOnDrag},set:function(i){this._preventDefaultOnDrag=i;var c=this._control.controller.panInput;c&&(c.options.preventDefaultOnDrag=i)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"disableOnInit",{get:function(){return this._disableOnInit},set:function(i){this._disableOnInit=i},enumerable:!1,configurable:!0}),Object.defineProperty(e,"changeOnHold",{get:function(){return this._changeOnHold},set:function(i){this._changeOnHold=i},enumerable:!1,configurable:!0}),Object.defineProperty(e,"renderOnlyVisible",{get:function(){return this._renderOnlyVisible},set:function(i){this._renderOnlyVisible=i,this._renderer.render()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"virtual",{get:function(){return this._virtualManager},enumerable:!1,configurable:!0}),Object.defineProperty(e,"autoInit",{get:function(){return this._autoInit},enumerable:!1,configurable:!0}),Object.defineProperty(e,"autoResize",{get:function(){return this._autoResize},set:function(i){this._autoResize=i,i?this._autoResizer.enable():this._autoResizer.disable()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"useResizeObserver",{get:function(){return this._useResizeObserver},set:function(i){this._useResizeObserver=i,this._autoResize&&this._autoResizer.enable()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"resizeDebounce",{get:function(){return this._resizeDebounce},enumerable:!1,configurable:!0}),Object.defineProperty(e,"maxResizeDebounce",{get:function(){return this._maxResizeDebounce},enumerable:!1,configurable:!0}),Object.defineProperty(e,"useFractionalSize",{get:function(){return this._useFractionalSize},enumerable:!1,configurable:!0}),Object.defineProperty(e,"externalRenderer",{get:function(){return this._externalRenderer},enumerable:!1,configurable:!0}),Object.defineProperty(e,"renderExternal",{get:function(){return this._renderExternal},enumerable:!1,configurable:!0}),e.init=function(){var i=this;if(this._initialized)return Promise.resolve();var c=this._camera,f=this._renderer,m=this._control,g=this._virtualManager,Te=this.trigger,Ie=this._preventEventsBeforeInit;return c.init(),g.init(),f.init(this),m.init(this),Ie&&(this.trigger=function(){return i}),this._initialResize(),this._moveToInitialPanel(),this._autoResize&&this._autoResizer.enable(),this._preventClickOnDrag&&m.controller.addPreventClickHandler(),this._disableOnInit&&this.disableInput(),f.checkPanelContentsReady(f.panels),this._initialized=!0,f.render().then(function(){i._plugins.forEach(function(Oe){return Oe.init(i)}),Ie&&(i.trigger=Te),i.trigger(new ComponentEvent$1(EVENTS.READY))})},e.destroy=function(){this.off(),this._autoResizer.disable(),this._control.destroy(),this._camera.destroy(),this._renderer.destroy(),this._plugins.forEach(function(i){return i.destroy()}),this._initialized=!1},e.prev=function(i){var c,f,m;return i===void 0&&(i=this._duration),this.moveTo((m=(f=(c=this._control.activePanel)===null||c===void 0?void 0:c.prev())===null||f===void 0?void 0:f.index)!==null&&m!==void 0?m:-1,i,DIRECTION.PREV)},e.next=function(i){var c,f,m;return i===void 0&&(i=this._duration),this.moveTo((m=(f=(c=this._control.activePanel)===null||c===void 0?void 0:c.next())===null||f===void 0?void 0:f.index)!==null&&m!==void 0?m:this._renderer.panelCount,i,DIRECTION.NEXT)},e.moveTo=function(i,c,f){c===void 0&&(c=this._duration),f===void 0&&(f=DIRECTION.NONE);var m=this._renderer,g=m.panelCount,Te=m.getPanel(i);return Te?this._control.animating?Promise.reject(new FlickingError(MESSAGE.ANIMATION_ALREADY_PLAYING,CODE.ANIMATION_ALREADY_PLAYING)):(this._control.holding&&this._control.controller.release(),this._control.moveToPanel(Te,{duration:c,direction:f})):Promise.reject(new FlickingError(MESSAGE.INDEX_OUT_OF_RANGE(i,0,g-1),CODE.INDEX_OUT_OF_RANGE))},e.updateAnimation=function(i,c,f){if(this._control.animating){var m=this._renderer,g=m.panelCount,Te=m.getPanel(i);if(!Te)throw new FlickingError(MESSAGE.INDEX_OUT_OF_RANGE(i,0,g-1),CODE.INDEX_OUT_OF_RANGE);this._control.updateAnimation(Te,c,f)}},e.stopAnimation=function(){this._control.animating&&this._control.stopAnimation()},e.getPanel=function(i){return this._renderer.getPanel(i)},e.enableInput=function(){return this._control.enable(),this},e.disableInput=function(){return this._control.disable(),this},e.getStatus=function(i){var c,f,m=i===void 0?{}:i,g=m.index,Te=g===void 0?!0:g,Ie=m.position,Oe=Ie===void 0?!0:Ie,_e=m.includePanelHTML,De=_e===void 0?!1:_e,Ae=m.visiblePanelsOnly,qe=Ae===void 0?!1:Ae,Fe=this._camera,Ne=qe?this.visiblePanels:this.panels,Ve={panels:Ne.map(function(He){var Xe={index:He.index};return De&&(Xe.html=He.element.outerHTML),Xe})};if(Te&&(Ve.index=this.index),Oe){var Ue=Fe.findNearestAnchor(Fe.position);Ue&&(Ve.position={panel:Ue.panel.index,progressInPanel:Fe.getProgressInPanel(Ue.panel)})}if(qe){var We=this.visiblePanels;Ve.visibleOffset=(f=(c=We[0])===null||c===void 0?void 0:c.index)!==null&&f!==void 0?f:0}return Ve},e.setStatus=function(i){var c;if(!this._initialized)throw new FlickingError(MESSAGE.NOT_INITIALIZED,CODE.NOT_INITIALIZED);var f=i.index,m=i.position,g=i.visibleOffset,Te=i.panels,Ie=this._renderer,Oe=this._control;if(!((c=Te[0])===null||c===void 0)&&c.html&&!this._renderExternal&&(Ie.batchRemove({index:0,deleteCount:this.panels.length,hasDOMInElements:!0}),Ie.batchInsert({index:0,elements:parseElement(Te.map(function(Ne){return Ne.html})),hasDOMInElements:!0})),f!=null){var _e=g?f-g:f;this.moveTo(_e,0).catch(function(){})}if(m&&this._moveType===MOVE_TYPE.FREE_SCROLL){var De=m.panel,Ae=m.progressInPanel,_e=g?De-g:De,qe=Ie.panels[_e].range,Fe=qe.min+(qe.max-qe.min)*Ae;Oe.moveToPosition(Fe,0).catch(function(){})}},e.addPlugins=function(){for(var i,c=this,f=[],m=0;m<arguments.length;m++)f[m]=arguments[m];return this._initialized&&f.forEach(function(g){return g.init(c)}),(i=this._plugins).push.apply(i,__spread(f)),this},e.removePlugins=function(){for(var i=this,c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];return c.forEach(function(m){var g=findIndex(i._plugins,function(Te){return Te===m});g>=0&&(m.destroy(),i._plugins.splice(g,1))}),this},e.resize=function(){return __awaiter(this,void 0,void 0,function(){var i,c,f,m,g,Te,Ie,Oe,_e,De,Ae;return __generator(this,function(qe){switch(qe.label){case 0:return i=this._viewport,c=this._renderer,f=this._camera,m=this._control,g=m.activePanel,Te=i.width,Ie=i.height,Oe=g?f.getProgressInPanel(g):0,this.trigger(new ComponentEvent$1(EVENTS.BEFORE_RESIZE,{width:Te,height:Ie,element:i.element})),i.resize(),[4,c.forceRenderAllPanels()];case 1:return qe.sent(),this._initialized?(c.updatePanelSize(),f.updateAlignPos(),f.updateRange(),f.updateAnchors(),f.updateAdaptiveHeight(),f.updatePanelOrder(),f.updateOffset(),[4,c.render()]):[2];case 2:return qe.sent(),this._initialized?(m.animating||(m.updatePosition(Oe),m.updateInput()),_e=i.width,De=i.height,Ae=_e!==Te||De!==Ie,this.trigger(new ComponentEvent$1(EVENTS.AFTER_RESIZE,{width:i.width,height:i.height,prev:{width:Te,height:Ie},sizeChanged:Ae,element:i.element})),[2]):[2]}})})},e.append=function(i){return this.insert(this._renderer.panelCount,i)},e.prepend=function(i){return this.insert(0,i)},e.insert=function(i,c){if(this._renderExternal)throw new FlickingError(MESSAGE.NOT_ALLOWED_IN_FRAMEWORK,CODE.NOT_ALLOWED_IN_FRAMEWORK);return this._renderer.batchInsert({index:i,elements:parseElement(c),hasDOMInElements:!0})},e.remove=function(i,c){if(c===void 0&&(c=1),this._renderExternal)throw new FlickingError(MESSAGE.NOT_ALLOWED_IN_FRAMEWORK,CODE.NOT_ALLOWED_IN_FRAMEWORK);return this._renderer.batchRemove({index:i,deleteCount:c,hasDOMInElements:!0})},e._createControl=function(){var i,c=this._moveType,f=Object.keys(MOVE_TYPE).map(function(Te){return MOVE_TYPE[Te]}),m=Array.isArray(c)?c[0]:c,g=Array.isArray(c)?(i=c[1])!==null&&i!==void 0?i:{}:{};if(!includes(f,m))throw new FlickingError(MESSAGE.WRONG_OPTION("moveType",JSON.stringify(c)),CODE.WRONG_OPTION);switch(m){case MOVE_TYPE.SNAP:return new SnapControl(g);case MOVE_TYPE.FREE_SCROLL:return new FreeControl(g);case MOVE_TYPE.STRICT:return new StrictControl(g)}},e._createCamera=function(){return this._circular&&this._bound&&console.warn('"circular" and "bound" option cannot be used together, ignoring bound.'),new Camera(this,{align:this._align})},e._createRenderer=function(){var i=this._externalRenderer;return this._virtual&&this._panelsPerView<=0&&console.warn('"virtual" and "panelsPerView" option should be used together, ignoring virtual.'),i||(this._renderExternal?this._createExternalRenderer():this._createVanillaRenderer())},e._createExternalRenderer=function(){var i=this._renderExternal,c=i.renderer,f=i.rendererOptions;return new c(__assign({align:this._align},f))},e._createVanillaRenderer=function(){var i=this.virtualEnabled;return new VanillaRenderer({align:this._align,strategy:i?new VirtualRenderingStrategy:new NormalRenderingStrategy({providerCtor:VanillaElementProvider})})},e._moveToInitialPanel=function(){var i=this._renderer,c=this._control,f=this._camera,m=i.getPanel(this._defaultIndex)||i.getPanel(0);if(m){var g=f.findNearestAnchor(m.position),Te=g&&m.index!==g.panel.index?g.panel:m;if(c.setActive(Te,null,!1),!g)throw new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(Te.position),CODE.POSITION_NOT_REACHABLE);var Ie=Te.position;f.canReach(Te)||(Ie=g.position),f.lookAt(Ie),c.updateInput(),f.updateOffset()}},e._initialResize=function(){var i=this._viewport,c=this._renderer,f=this._camera,m=this._control;this.trigger(new ComponentEvent$1(EVENTS.BEFORE_RESIZE,{width:0,height:0,element:i.element})),i.resize(),c.updatePanelSize(),f.updateAlignPos(),f.updateRange(),f.updateAnchors(),f.updateOffset(),m.updateInput();var g=i.width,Te=i.height,Ie=g!==0||Te!==0;this.trigger(new ComponentEvent$1(EVENTS.AFTER_RESIZE,{width:i.width,height:i.height,prev:{width:0,height:0},sizeChanged:Ie,element:i.element}))},o.VERSION="4.11.4",o}(Component);const flicking="",scriptRel="modulepreload",assetsURL=function(h){return"/vme/"+h},seen={},__vitePreload=function(o,e,i){if(!e||e.length===0)return o();const c=document.getElementsByTagName("link");return Promise.all(e.map(f=>{if(f=assetsURL(f),f in seen)return;seen[f]=!0;const m=f.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(!!i)for(let Oe=c.length-1;Oe>=0;Oe--){const _e=c[Oe];if(_e.href===f&&(!m||_e.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${f}"]${g}`))return;const Ie=document.createElement("link");if(Ie.rel=m?"stylesheet":scriptRel,m||(Ie.as="script",Ie.crossOrigin=""),Ie.href=f,document.head.appendChild(Ie),m)return new Promise((Oe,_e)=>{Ie.addEventListener("load",Oe),Ie.addEventListener("error",()=>_e(new Error(`Unable to preload CSS for ${f}`)))})})).then(()=>o()).catch(f=>{const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f})};var __defProp=Object.defineProperty,__defNormalProp=(h,o,e)=>o in h?__defProp(h,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):h[o]=e,__publicField=(h,o,e)=>__defNormalProp(h,typeof o!="symbol"?o+"":o,e);function _mergeNamespaces(h,o){for(var e=0;e<o.length;e++){const i=o[e];if(typeof i!="string"&&!Array.isArray(i)){for(const c in i)if(c!=="default"&&!(c in h)){const f=Object.getOwnPropertyDescriptor(i,c);f&&Object.defineProperty(h,c,f.get?f:{enumerable:!0,get:()=>i[c]})}}}return Object.freeze(Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}))}const systemCoreMap={gb:"mgba",gba:"mgba",gbc:"mgba",megadrive:"genesis_plus_gx",nes:"fceumm",snes:"snes9x"};var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}const{hasOwnProperty}=Object.prototype,encode=(h,o={})=>{typeof o=="string"&&(o={section:o}),o.align=o.align===!0,o.newline=o.newline===!0,o.sort=o.sort===!0,o.whitespace=o.whitespace===!0||o.align===!0,o.platform=o.platform||typeof process<"u"&&process.platform,o.bracketedArray=o.bracketedArray!==!1;const e=o.platform==="win32"?`\r
`:`
`,i=o.whitespace?" = ":"=",c=[],f=o.sort?Object.keys(h).sort():Object.keys(h);let m=0;o.align&&(m=safe(f.filter(Ie=>h[Ie]===null||Array.isArray(h[Ie])||typeof h[Ie]!="object").map(Ie=>Array.isArray(h[Ie])?`${Ie}[]`:Ie).concat([""]).reduce((Ie,Oe)=>safe(Ie).length>=safe(Oe).length?Ie:Oe)).length);let g="";const Te=o.bracketedArray?"[]":"";for(const Ie of f){const Oe=h[Ie];if(Oe&&Array.isArray(Oe))for(const _e of Oe)g+=safe(`${Ie}${Te}`).padEnd(m," ")+i+safe(_e)+e;else Oe&&typeof Oe=="object"?c.push(Ie):g+=safe(Ie).padEnd(m," ")+i+safe(Oe)+e}o.section&&g.length&&(g="["+safe(o.section)+"]"+(o.newline?e+e:e)+g);for(const Ie of c){const Oe=splitSections(Ie,".").join("\\."),_e=(o.section?o.section+".":"")+Oe,De=encode(h[Ie],{...o,section:_e});g.length&&De.length&&(g+=e),g+=De}return g};function splitSections(h,o){var e=0,i=0,c=0,f=[];do if(c=h.indexOf(o,e),c!==-1){if(e=c+o.length,c>0&&h[c-1]==="\\")continue;f.push(h.slice(i,c)),i=c+o.length}while(c!==-1);return f.push(h.slice(i)),f}const decode=(h,o={})=>{o.bracketedArray=o.bracketedArray!==!1;const e=Object.create(null);let i=e,c=null;const f=/^\[([^\]]*)\]\s*$|^([^=]+)(=(.*))?$/i,m=h.split(/[\r\n]+/g),g={};for(const Ie of m){if(!Ie||Ie.match(/^\s*[;#]/)||Ie.match(/^\s*$/))continue;const Oe=Ie.match(f);if(!Oe)continue;if(Oe[1]!==void 0){if(c=unsafe(Oe[1]),c==="__proto__"){i=Object.create(null);continue}i=e[c]=e[c]||Object.create(null);continue}const _e=unsafe(Oe[2]);let De;o.bracketedArray?De=_e.length>2&&_e.slice(-2)==="[]":(g[_e]=((g==null?void 0:g[_e])||0)+1,De=g[_e]>1);const Ae=De&&_e.endsWith("[]")?_e.slice(0,-2):_e;if(Ae==="__proto__")continue;const qe=Oe[3]?unsafe(Oe[4]):!0,Fe=qe==="true"||qe==="false"||qe==="null"?JSON.parse(qe):qe;De&&(hasOwnProperty.call(i,Ae)?Array.isArray(i[Ae])||(i[Ae]=[i[Ae]]):i[Ae]=[]),Array.isArray(i[Ae])?i[Ae].push(Fe):i[Ae]=Fe}const Te=[];for(const Ie of Object.keys(e)){if(!hasOwnProperty.call(e,Ie)||typeof e[Ie]!="object"||Array.isArray(e[Ie]))continue;const Oe=splitSections(Ie,".");i=e;const _e=Oe.pop(),De=_e.replace(/\\\./g,".");for(const Ae of Oe)Ae!=="__proto__"&&((!hasOwnProperty.call(i,Ae)||typeof i[Ae]!="object")&&(i[Ae]=Object.create(null)),i=i[Ae]);i===e&&De===_e||(i[De]=e[Ie],Te.push(Ie))}for(const Ie of Te)delete e[Ie];return e},isQuoted=h=>h.startsWith('"')&&h.endsWith('"')||h.startsWith("'")&&h.endsWith("'"),safe=h=>typeof h!="string"||h.match(/[=\r\n]/)||h.match(/^\[/)||h.length>1&&isQuoted(h)||h!==h.trim()?JSON.stringify(h):h.split(";").join("\\;").split("#").join("\\#"),unsafe=h=>{if(h=(h||"").trim(),isQuoted(h)){h.charAt(0)==="'"&&(h=h.slice(1,-1));try{h=JSON.parse(h)}catch{}}else{let o=!1,e="";for(let i=0,c=h.length;i<c;i++){const f=h.charAt(i);if(o)"\\;#".indexOf(f)!==-1?e+=f:e+="\\"+f,o=!1;else{if(";#".indexOf(f)!==-1)break;f==="\\"?o=!0:e+=f}}return o&&(e+="\\"),e.trim()}return h};var ini={parse:decode,decode,stringify:encode,encode,safe,unsafe};const ini$1=getDefaultExportFromCjs(ini),coreInfoMap={2048:{corename:"2048",savestate:!0,supportsNoGame:!0},"3dengine":{corename:"3DEngine"},"4do":{corename:"4DO",savestate:!0},81:{corename:"81",savestate:!0},a5200:{corename:"a5200",savestate:!0},advanced_tests:{corename:"Advanced Test",supportsNoGame:!0},ardens:{corename:"Ardens",savestate:!0},arduous:{corename:"Arduous"},atari800:{corename:"Atari800",savestate:!0},bk:{corename:"bk",savestate:!0},blastem:{corename:"BlastEm",savestate:!0},bluemsx:{corename:"blueMSX",savestate:!0},bnes:{corename:"bnes/higan",savestate:!0},boom3:{corename:"boom3"},boom3_xp:{corename:"boom3_xp"},bsnes:{corename:"bsnes",savestate:!0},bsnes_cplusplus98:{cheats:!0,corename:"bsnes C++98 (v085)",savestate:!0},bsnes_hd_beta:{corename:"bsnes-hd beta",savestate:!0},bsnes_mercury_accuracy:{cheats:!0,corename:"bsnes-mercury Accuracy",savestate:!0},bsnes_mercury_balanced:{cheats:!0,corename:"bsnes-mercury Balanced",savestate:!0},bsnes_mercury_performance:{cheats:!0,corename:"bsnes-mercury Performance",savestate:!0},bsnes2014_accuracy:{cheats:!0,corename:"bsnes 2014 Accuracy",savestate:!0},bsnes2014_balanced:{cheats:!0,corename:"bsnes 2014 Balanced",savestate:!0},bsnes2014_performance:{cheats:!0,corename:"bsnes 2014 Performance",savestate:!0},cannonball:{corename:"Cannonball",supportsNoGame:!0},cap32:{corename:"Caprice32",savestate:!0,supportsNoGame:!0},cdi2015:{corename:"Philips CDi 2015"},chailove:{cheats:!0,corename:"ChaiLove",savestate:!0},chimerasnes:{cheats:!0,corename:"ChimeraSNES",savestate:!0},citra:{corename:"Citra",savestate:!0},citra_canary:{corename:"Citra Canary/Experimental"},citra2018:{corename:"Citra 2018"},craft:{corename:"Craft",supportsNoGame:!0},crocods:{corename:"CrocoDS",savestate:!0},cruzes:{corename:"Cruzes",supportsNoGame:!0},daphne:{corename:"Daphne"},desmume:{cheats:!0,corename:"DeSmuME",savestate:!0},desmume2015:{cheats:!0,corename:"DeSmuME 2015",savestate:!0},dinothawr:{corename:"Dinothawr",supportsNoGame:!0},directxbox:{corename:"DirectXBox"},dirksimple:{corename:"DirkSimple",savestate:!0},dolphin:{corename:"Dolphin",savestate:!0},dolphin_launcher:{corename:"Dolphin Launcher",supportsNoGame:!0},dosbox:{corename:"DOSBox",supportsNoGame:!0},dosbox_core:{corename:"DOSBox-core",supportsNoGame:!0},dosbox_pure:{cheats:!0,corename:"DOSBox-pure",savestate:!0,supportsNoGame:!0},dosbox_svn:{corename:"DOSBox-SVN",supportsNoGame:!0},dosbox_svn_ce:{corename:"DOSBox-SVN CE",supportsNoGame:!0},duckstation:{corename:"DuckStation",savestate:!0},easyrpg:{corename:"EasyRPG Player"},ecwolf:{corename:"ECWolf",savestate:!0},emuscv:{corename:"EmuSCV",supportsNoGame:!0},emux_chip8:{corename:"Emux CHIP-8"},emux_gb:{corename:"Emux GB"},emux_nes:{corename:"Emux NES"},emux_sms:{corename:"Emux SMS"},ep128emu_core:{cheats:!0,corename:"ep128emu-core",savestate:!0,supportsNoGame:!0},fake08:{corename:"FAKE-08",savestate:!0},fbalpha2012:{corename:"FB Alpha 2012",savestate:!0},fbalpha2012_cps1:{corename:"FB Alpha 2012 CPS-1",savestate:!0},fbalpha2012_cps2:{corename:"FB Alpha 2012 CPS-2",savestate:!0},fbalpha2012_cps3:{corename:"FB Alpha 2012 CPS-3",savestate:!0},fbalpha2012_neogeo:{corename:"FB Alpha 2012 Neo Geo",savestate:!0},fbneo:{cheats:!0,corename:"FinalBurn Neo",savestate:!0},fceumm:{cheats:!0,corename:"FCEUmm",savestate:!0},ffmpeg:{corename:"FFmpeg"},fixgb:{corename:"fixGB"},fixnes:{corename:"fixNES"},flycast:{corename:"Flycast",savestate:!0},flycast_gles2:{corename:"Flycast GLES2",savestate:!0},fmsx:{corename:"fMSX"},freechaf:{corename:"FreeChaF"},freeintv:{corename:"FreeIntv"},freej2me:{corename:"FreeJ2ME"},frodo:{corename:"Frodo"},fsuae:{corename:"FS-UAE"},fuse:{corename:"Fuse"},galaksija:{corename:"galaksija",supportsNoGame:!0},gambatte:{corename:"Gambatte",savestate:!0},gearboy:{corename:"Gearboy"},gearcoleco:{corename:"Gearcoleco"},gearsystem:{corename:"Gearsystem"},genesis_plus_gx:{cheats:!0,corename:"Genesis Plus GX",savestate:!0},genesis_plus_gx_wide:{cheats:!0,corename:"Genesis Plus GX Wide",savestate:!0},gme:{corename:"Game Music Emu"},gong:{corename:"Gong",savestate:!0,supportsNoGame:!0},gpsp:{corename:"gpSP",savestate:!0},gw:{corename:"GW"},handy:{corename:"Handy",savestate:!0},hatari:{corename:"Hatari",savestate:!0},hbmame:{corename:"HBMAME (Git)"},higan_sfc:{corename:"nSide (Super Famicom Accuracy)",savestate:!0},higan_sfc_balanced:{corename:"nSide (Super Famicom Balanced)",savestate:!0},imageviewer:{corename:"Imageviewer"},ishiiruka:{corename:"Ishiiruka",savestate:!0},jaxe:{corename:"JAXE"},jumpnbump:{corename:"jumpnbump"},kronos:{cheats:!0,corename:"Kronos",savestate:!0},lowresnx:{corename:"lowresnx"},lutro:{corename:"Lutro"},mame:{corename:"MAME",savestate:!0},mame2000:{corename:"MAME 2000 (0.37b5)",savestate:!0},mame2003:{corename:"MAME 2003 (0.78)",savestate:!0},mame2003_midway:{corename:"MAME 2003 Midway (0.78)",savestate:!0},mame2003_plus:{corename:"MAME 2003-Plus",savestate:!0},mame2009:{corename:"MAME 2009 (0.135u4)"},mame2010:{corename:"MAME 2010 (0.139)"},mame2015:{corename:"MAME 2015 (0.160)"},mame2016:{corename:"MAME 2016 (0.174)"},mamearcade:{corename:"MAME (Git)"},mamemess:{corename:"MESS (Git)",savestate:!0},mednafen_gba:{corename:"Beetle GBA"},mednafen_lynx:{corename:"Beetle Lynx"},mednafen_ngp:{corename:"Beetle NeoPop",savestate:!0},mednafen_pce:{corename:"Beetle PCE",savestate:!0},mednafen_pce_fast:{corename:"Beetle PCE Fast",savestate:!0},mednafen_pcfx:{corename:"Beetle PC-FX"},mednafen_psx:{cheats:!0,corename:"Beetle PSX",savestate:!0},mednafen_psx_hw:{cheats:!0,corename:"Beetle PSX HW",savestate:!0},mednafen_saturn:{cheats:!0,corename:"Beetle Saturn",savestate:!0},mednafen_snes:{corename:"Beetle bsnes",savestate:!0},mednafen_supafaust:{cheats:!0,corename:"Beetle Supafaust",savestate:!0},mednafen_supergrafx:{cheats:!0,corename:"Beetle SuperGrafx",savestate:!0},mednafen_vb:{corename:"Beetle VB"},mednafen_wswan:{corename:"Beetle WonderSwan",savestate:!0},melonds:{corename:"melonDS"},mesen:{cheats:!0,corename:"Mesen",savestate:!0},"mesen-s":{corename:"Mesen-S"},mess2015:{corename:"MESS 2015 (0.160)"},meteor:{corename:"Meteor"},mgba:{cheats:!0,corename:"mGBA",savestate:!0},minivmac:{corename:"MinivmacII"},mojozork:{corename:"mojozork",savestate:!0},moonlight:{corename:"Moonlight",supportsNoGame:!0},mpv:{corename:"MPV"},mrboom:{corename:"Mr.Boom",savestate:!0,supportsNoGame:!0},mu:{corename:"Mu",supportsNoGame:!0},mupen64plus_next:{cheats:!0,corename:"Mupen64Plus-Next",savestate:!0},mupen64plus_next_develop:{cheats:!0,corename:"Mupen64Plus-Next",savestate:!0},mupen64plus_next_gles2:{cheats:!0,corename:"Mupen64Plus-Next",savestate:!0},mupen64plus_next_gles3:{cheats:!0,corename:"Mupen64Plus-Next",savestate:!0},nekop2:{corename:"Neko Project II",savestate:!0},neocd:{corename:"NeoCD"},nes:{corename:"nes",savestate:!0},nestopia:{cheats:!0,corename:"Nestopia",savestate:!0},np2kai:{corename:"Neko Project II Kai",savestate:!0},numero:{corename:"Numero",savestate:!0,supportsNoGame:!0},nxengine:{corename:"NXEngine",supportsNoGame:!0},o2em:{corename:"O2EM",savestate:!0},oberon:{corename:"Oberon"},openlara:{corename:"OpenLara"},opentyrian:{corename:"OpenTyrian",supportsNoGame:!0},opera:{corename:"Opera",savestate:!0,supportsNoGame:!0},parallel_n64:{corename:"ParaLLEl N64",savestate:!0},parallel_n64_debug:{corename:"ParaLLEl (Debug)",savestate:!0},pascal_pong:{corename:"PascalPong",supportsNoGame:!0},pcem:{corename:"PCem",supportsNoGame:!0},pcsx_rearmed:{cheats:!0,corename:"PCSX-ReARMed",savestate:!0},pcsx_rearmed_interpreter:{cheats:!0,corename:"PCSX ReARMed [Interpreter]",savestate:!0},pcsx_rearmed_neon:{cheats:!0,corename:"PCSX ReARMed [NEON]",savestate:!0},pcsx1:{corename:"PCSX1"},pcsx2:{corename:"LRPS2",savestate:!0},picodrive:{cheats:!0,corename:"PicoDrive",savestate:!0},play:{corename:"Play!",savestate:!0},pocketcdg:{corename:"PocketCDG"},pokemini:{corename:"PokeMini",savestate:!0},potator:{corename:"Potator",savestate:!0},ppsspp:{corename:"PPSSPP",savestate:!0},prboom:{cheats:!0,corename:"PrBoom",savestate:!0},prosystem:{corename:"ProSystem",savestate:!0},puae:{cheats:!0,corename:"PUAE",savestate:!0,supportsNoGame:!0},puae2021:{cheats:!0,corename:"PUAE 2021",savestate:!0,supportsNoGame:!0},puzzlescript:{corename:"puzzlescript",savestate:!0},px68k:{corename:"PX68k",supportsNoGame:!0},quasi88:{cheats:!0,corename:"QUASI88",savestate:!0,supportsNoGame:!0},quicknes:{corename:"QuickNES",savestate:!0},race:{corename:"RACE",savestate:!0},redbook:{corename:"Redbook"},reminiscence:{corename:"REminiscence",savestate:!0},remotejoy:{corename:"RemoteJoy",supportsNoGame:!0},retro8:{corename:"Retro8"},retrodream:{corename:"RetroDream"},rustation:{corename:"Rustation"},same_cdi:{corename:"SAME CDi (Git)"},sameboy:{corename:"SameBoy"},sameduck:{corename:"SameDuck",savestate:!0},scummvm:{corename:"ScummVM",supportsNoGame:!0},simcp:{corename:"SimCoupe"},smsplus:{corename:"SMS Plus GX"},snes9x:{cheats:!0,corename:"Snes9x",savestate:!0},snes9x2002:{cheats:!0,corename:"Snes9x 2002",savestate:!0},snes9x2005:{cheats:!0,corename:"Snes9x 2005",savestate:!0},snes9x2005_plus:{cheats:!0,corename:"Snes9x 2005 Plus",savestate:!0},snes9x2010:{cheats:!0,corename:"Snes9x 2010",savestate:!0},squirreljme:{corename:"SquirrelJME",supportsNoGame:!0},stella:{corename:"Stella",savestate:!0},stella2014:{corename:"Stella 2014",savestate:!0},stonesoup:{corename:"Dungeon Crawl Stone Soup"},superbroswar:{corename:"superbroswar"},swanstation:{corename:"SwanStation",savestate:!0},tempgba:{corename:"TempGBA"},test:{corename:"Test",supportsNoGame:!0},test_netplay:{corename:"netplay-test",supportsNoGame:!0},testaudio_callback:{corename:"TestAudio Callback",supportsNoGame:!0},testaudio_no_callback:{corename:"TestAudio NoCallback",supportsNoGame:!0},testaudio_playback_wav:{corename:"TestAudio Playback Wav",supportsNoGame:!0},testgl:{corename:"TestGL",supportsNoGame:!0},testgl_compute_shaders:{corename:"TestGL ComputeShaders",supportsNoGame:!0},testgl_ff:{corename:"TestGL (FF)",supportsNoGame:!0},testinput_buttontest:{corename:"Button Test",supportsNoGame:!0},testretroluxury:{corename:"Test RetroLuxury",supportsNoGame:!0},testsw:{corename:"TestSW",supportsNoGame:!0},testsw_vram:{corename:"TestSW VRAM",supportsNoGame:!0},testvulkan:{corename:"TestVulkan",supportsNoGame:!0},testvulkan_async_compute:{corename:"TestVulkan AsyncCompute",supportsNoGame:!0},tgbdual:{corename:"TGB Dual",savestate:!0},theodore:{corename:"theodore",savestate:!0,supportsNoGame:!0},thepowdertoy:{corename:"ThePowderToy",savestate:!0,supportsNoGame:!0},tic80:{cheats:!0,corename:"TIC-80",savestate:!0},tyrquake:{cheats:!0,corename:"TyrQuake"},uae4arm:{corename:"UAE4ARM",savestate:!0},ume2015:{corename:"UME 2015 (0.160)"},uw8:{corename:"MicroW8",savestate:!0},uzem:{corename:"uzem",savestate:!0},vaporspec:{corename:"VaporSpec",savestate:!0},vba_next:{corename:"VBA Next",savestate:!0},vbam:{cheats:!0,corename:"VBA-M",savestate:!0},vecx:{corename:"vecx",savestate:!0},vemulator:{corename:"VeMUlator"},vice_x128:{cheats:!0,corename:"VICE x128",savestate:!0,supportsNoGame:!0},vice_x64:{cheats:!0,corename:"VICE x64",savestate:!0,supportsNoGame:!0},vice_x64dtv:{cheats:!0,corename:"VICE x64dtv",savestate:!0,supportsNoGame:!0},vice_x64sc:{cheats:!0,corename:"VICE x64sc",savestate:!0,supportsNoGame:!0},vice_xcbm2:{cheats:!0,corename:"VICE xcbm2",savestate:!0,supportsNoGame:!0},vice_xcbm5x0:{cheats:!0,corename:"VICE xcbm5x0",savestate:!0,supportsNoGame:!0},vice_xpet:{cheats:!0,corename:"VICE xpet",savestate:!0,supportsNoGame:!0},vice_xplus4:{cheats:!0,corename:"VICE xplus4",savestate:!0,supportsNoGame:!0},vice_xscpu64:{cheats:!0,corename:"VICE xscpu64",savestate:!0,supportsNoGame:!0},vice_xvic:{cheats:!0,corename:"VICE xvic",savestate:!0,supportsNoGame:!0},vircon32:{corename:"Vircon32",supportsNoGame:!0},virtualjaguar:{corename:"Virtual Jaguar"},virtualxt:{corename:"virtualxt"},vitaquake2:{corename:"vitaQuake 2"},"vitaquake2-rogue":{corename:"vitaQuake 2 [Rogue]"},"vitaquake2-xatrix":{corename:"vitaQuake 2 [Xatrix]"},"vitaquake2-zaero":{corename:"vitaQuake 2 [Zaero]"},vitaquake3:{corename:"vitaQuake 3"},vitavoyager:{corename:"vitaVoyager"},wasm4:{corename:"WASM-4",savestate:!0},x1:{corename:"x1"},x64sdl:{corename:"VICE SDL"},xrick:{corename:"XRick",supportsNoGame:!0},yabasanshiro:{cheats:!0,corename:"YabaSanshiro",savestate:!0},yabause:{cheats:!0,corename:"Yabause",savestate:!0}},keyboardCodeMap={add:"NumpadAdd",alt:"AltLeft",backquote:"Backquote",backslash:"",backspace:"Backspace",capslock:"CapsLock",comma:"Comma",ctrl:"ControlLeft",del:"Delete",divide:"NumpadDivide",down:"ArrowDown",end:"End",enter:"Enter",equals:"Equal",escape:"Escape",home:"Home",insert:"Insert",kp_enter:"NumpadEnter",kp_equals:"NumpadEquals",kp_minus:"NumpadSubtract",kp_period:"NumpadDecimal",kp_plus:"NumpadAdd",left:"ArrowLeft",leftbracket:"BracketLeft",minus:"Minus",multiply:"NumpadMultiply",numlock:"NumLock",pagedown:"PageDown",pageup:"PageUp",pause:"Pause",period:"Period",print_screen:"PrintScreen",quote:"Quote",ralt:"AltRight",rctrl:"ControlRight",right:"ArrowRight",rightbracket:"BracketRight",rshift:"ShiftRight",scroll_lock:"ScrollLock",semicolon:"Semicolon",shift:"ShiftLeft",slash:"Slash",space:"Space",subtract:"NumpadSubtract",tab:"Tab",tilde:"",up:"ArrowUp"};var browserfs$2={exports:{}};(function(h,o){(function(i,c){h.exports=c()})(commonjsGlobal,function(){return function(e){var i={};function c(f){if(i[f])return i[f].exports;var m=i[f]={exports:{},id:f,loaded:!1};return e[f].call(m.exports,m,m.exports,c),m.loaded=!0,m.exports}return c.m=e,c.c=i,c.p="",c(0)}([function(e,i,c){(function(f,m,g,Te){Object.defineProperty(i,"__esModule",{value:!0});var Ie=c(2),Oe=c(9),_e;(function(ne){ne[ne.EPERM=1]="EPERM",ne[ne.ENOENT=2]="ENOENT",ne[ne.EIO=5]="EIO",ne[ne.EBADF=9]="EBADF",ne[ne.EACCES=13]="EACCES",ne[ne.EBUSY=16]="EBUSY",ne[ne.EEXIST=17]="EEXIST",ne[ne.ENOTDIR=20]="ENOTDIR",ne[ne.EISDIR=21]="EISDIR",ne[ne.EINVAL=22]="EINVAL",ne[ne.EFBIG=27]="EFBIG",ne[ne.ENOSPC=28]="ENOSPC",ne[ne.EROFS=30]="EROFS",ne[ne.ENOTEMPTY=39]="ENOTEMPTY",ne[ne.ENOTSUP=95]="ENOTSUP"})(_e||(_e={}));var De={};De[_e.EPERM]="Operation not permitted.",De[_e.ENOENT]="No such file or directory.",De[_e.EIO]="Input/output error.",De[_e.EBADF]="Bad file descriptor.",De[_e.EACCES]="Permission denied.",De[_e.EBUSY]="Resource busy or locked.",De[_e.EEXIST]="File exists.",De[_e.ENOTDIR]="File is not a directory.",De[_e.EISDIR]="File is a directory.",De[_e.EINVAL]="Invalid argument.",De[_e.EFBIG]="File is too big.",De[_e.ENOSPC]="No space left on disk.",De[_e.EROFS]="Cannot modify a read-only file system.",De[_e.ENOTEMPTY]="Directory is not empty.",De[_e.ENOTSUP]="Operation is not supported.";var Ae=function(ne){function d(k,_,Ee){_===void 0&&(_=De[k]),ne.call(this,_),this.syscall="",this.errno=k,this.code=_e[k],this.path=Ee,this.stack=new ne().stack,this.message="Error: "+this.code+": "+_+(this.path?", '"+this.path+"'":"")}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.fromJSON=function(_){var Ee=new d(0);return Ee.errno=_.errno,Ee.code=_.code,Ee.path=_.path,Ee.stack=_.stack,Ee.message=_.message,Ee},d.fromBuffer=function(_,Ee){return Ee===void 0&&(Ee=0),d.fromJSON(JSON.parse(_.toString("utf8",Ee+4,Ee+4+_.readUInt32LE(Ee))))},d.FileError=function(_,Ee){return new d(_,De[_],Ee)},d.ENOENT=function(_){return this.FileError(_e.ENOENT,_)},d.EEXIST=function(_){return this.FileError(_e.EEXIST,_)},d.EISDIR=function(_){return this.FileError(_e.EISDIR,_)},d.ENOTDIR=function(_){return this.FileError(_e.ENOTDIR,_)},d.EPERM=function(_){return this.FileError(_e.EPERM,_)},d.ENOTEMPTY=function(_){return this.FileError(_e.ENOTEMPTY,_)},d.prototype.toString=function(){return this.message},d.prototype.toJSON=function(){return{errno:this.errno,code:this.code,path:this.path,stack:this.stack,message:this.message}},d.prototype.writeToBuffer=function(_,Ee){_===void 0&&(_=f.alloc(this.bufferSize())),Ee===void 0&&(Ee=0);var Be=_.write(JSON.stringify(this.toJSON()),Ee+4);return _.writeUInt32LE(Be,Ee),_},d.prototype.bufferSize=function(){return 4+f.byteLength(JSON.stringify(this.toJSON()))},d}(Error),qe=Object.freeze({get ErrorCode(){return _e},ErrorStrings:De,ApiError:Ae}),Fe;(function(ne){ne[ne.NOP=0]="NOP",ne[ne.THROW_EXCEPTION=1]="THROW_EXCEPTION",ne[ne.TRUNCATE_FILE=2]="TRUNCATE_FILE",ne[ne.CREATE_FILE=3]="CREATE_FILE"})(Fe||(Fe={}));var Ne=function ne(d){if(this.flagStr=d,ne.validFlagStrs.indexOf(d)<0)throw new Ae(_e.EINVAL,"Invalid flag: "+d)};Ne.getFileFlag=function(d){return Ne.flagCache.hasOwnProperty(d)?Ne.flagCache[d]:Ne.flagCache[d]=new Ne(d)},Ne.prototype.getFlagString=function(){return this.flagStr},Ne.prototype.isReadable=function(){return this.flagStr.indexOf("r")!==-1||this.flagStr.indexOf("+")!==-1},Ne.prototype.isWriteable=function(){return this.flagStr.indexOf("w")!==-1||this.flagStr.indexOf("a")!==-1||this.flagStr.indexOf("+")!==-1},Ne.prototype.isTruncating=function(){return this.flagStr.indexOf("w")!==-1},Ne.prototype.isAppendable=function(){return this.flagStr.indexOf("a")!==-1},Ne.prototype.isSynchronous=function(){return this.flagStr.indexOf("s")!==-1},Ne.prototype.isExclusive=function(){return this.flagStr.indexOf("x")!==-1},Ne.prototype.pathExistsAction=function(){return this.isExclusive()?Fe.THROW_EXCEPTION:this.isTruncating()?Fe.TRUNCATE_FILE:Fe.NOP},Ne.prototype.pathNotExistsAction=function(){return(this.isWriteable()||this.isAppendable())&&this.flagStr!=="r+"?Fe.CREATE_FILE:Fe.THROW_EXCEPTION},Ne.flagCache={},Ne.validFlagStrs=["r","r+","rs","rs+","w","wx","w+","wx+","a","ax","a+","ax+"];var Ve;(function(ne){ne[ne.FILE=32768]="FILE",ne[ne.DIRECTORY=16384]="DIRECTORY",ne[ne.SYMLINK=40960]="SYMLINK"})(Ve||(Ve={}));var Ue=function(d,k,_,Ee,Be,Me){if(Ee===void 0&&(Ee=new Date),Be===void 0&&(Be=new Date),Me===void 0&&(Me=new Date),this.size=k,this.atime=Ee,this.mtime=Be,this.ctime=Me,this.dev=0,this.ino=0,this.rdev=0,this.nlink=1,this.blksize=4096,this.uid=0,this.gid=0,this.birthtime=new Date(0),this.fileData=null,_)this.mode=_;else switch(d){case Ve.FILE:this.mode=420;break;case Ve.DIRECTORY:default:this.mode=511}this.blocks=Math.ceil(k/512),this.mode<4096&&(this.mode|=d)};Ue.fromBuffer=function(d){var k=d.readUInt32LE(0),_=d.readUInt32LE(4),Ee=d.readDoubleLE(8),Be=d.readDoubleLE(16),Me=d.readDoubleLE(24);return new Ue(_&61440,k,_&4095,new Date(Ee),new Date(Be),new Date(Me))},Ue.prototype.toBuffer=function(){var d=f.alloc(32);return d.writeUInt32LE(this.size,0),d.writeUInt32LE(this.mode,4),d.writeDoubleLE(this.atime.getTime(),8),d.writeDoubleLE(this.mtime.getTime(),16),d.writeDoubleLE(this.ctime.getTime(),24),d},Ue.prototype.clone=function(){return new Ue(this.mode&61440,this.size,this.mode&4095,this.atime,this.mtime,this.ctime)},Ue.prototype.isFile=function(){return(this.mode&61440)===Ve.FILE},Ue.prototype.isDirectory=function(){return(this.mode&61440)===Ve.DIRECTORY},Ue.prototype.isSymbolicLink=function(){return(this.mode&61440)===Ve.SYMLINK},Ue.prototype.chmod=function(d){this.mode=this.mode&61440|d},Ue.prototype.isSocket=function(){return!1},Ue.prototype.isBlockDevice=function(){return!1},Ue.prototype.isCharacterDevice=function(){return!1},Ue.prototype.isFIFO=function(){return!1};var We=function(ne,d){return ne};function He(ne){if(ne)return ne;throw new Ae(_e.EIO,"Initialize BrowserFS with a file system using BrowserFS.initialize(filesystem)")}function Xe(ne,d){switch(typeof ne){case"number":return ne;case"string":var k=parseInt(ne,8);return isNaN(k)?d:k;default:return d}}function ot(ne){if(ne instanceof Date)return ne;if(typeof ne=="number")return new Date(ne*1e3);throw new Ae(_e.EINVAL,"Invalid time.")}function tt(ne){if(ne.indexOf("\0")>=0)throw new Ae(_e.EINVAL,"Path must be a string without null bytes.");if(ne==="")throw new Ae(_e.EINVAL,"Path must not be empty.");return Oe.resolve(ne)}function gt(ne,d,k,_){switch(typeof ne){case"object":return{encoding:typeof ne.encoding<"u"?ne.encoding:d,flag:typeof ne.flag<"u"?ne.flag:k,mode:Xe(ne.mode,_)};case"string":return{encoding:ne,flag:k,mode:_};default:return{encoding:d,flag:k,mode:_}}}function vt(){}var rt=function(){this.F_OK=0,this.R_OK=4,this.W_OK=2,this.X_OK=1,this.root=null,this.fdMap={},this.nextFd=100};rt.prototype.initialize=function(d){if(!d.constructor.isAvailable())throw new Ae(_e.EINVAL,"Tried to instantiate BrowserFS with an unavailable file system.");return this.root=d},rt.prototype._toUnixTimestamp=function(d){if(typeof d=="number")return d;if(d instanceof Date)return d.getTime()/1e3;throw new Error("Cannot parse time: "+d)},rt.prototype.getRootFS=function(){return this.root?this.root:null},rt.prototype.rename=function(d,k,_){_===void 0&&(_=vt);var Ee=We(_,1);try{He(this.root).rename(tt(d),tt(k),Ee)}catch(Be){Ee(Be)}},rt.prototype.renameSync=function(d,k){He(this.root).renameSync(tt(d),tt(k))},rt.prototype.exists=function(d,k){k===void 0&&(k=vt);var _=We(k,1);try{return He(this.root).exists(tt(d),_)}catch{return _(!1)}},rt.prototype.existsSync=function(d){try{return He(this.root).existsSync(tt(d))}catch{return!1}},rt.prototype.stat=function(d,k){k===void 0&&(k=vt);var _=We(k,2);try{return He(this.root).stat(tt(d),!1,_)}catch(Ee){return _(Ee)}},rt.prototype.statSync=function(d){return He(this.root).statSync(tt(d),!1)},rt.prototype.lstat=function(d,k){k===void 0&&(k=vt);var _=We(k,2);try{return He(this.root).stat(tt(d),!0,_)}catch(Ee){return _(Ee)}},rt.prototype.lstatSync=function(d){return He(this.root).statSync(tt(d),!0)},rt.prototype.truncate=function(d,k,_){k===void 0&&(k=0),_===void 0&&(_=vt);var Ee=0;typeof k=="function"?_=k:typeof k=="number"&&(Ee=k);var Be=We(_,1);try{if(Ee<0)throw new Ae(_e.EINVAL);return He(this.root).truncate(tt(d),Ee,Be)}catch(Me){return Be(Me)}},rt.prototype.truncateSync=function(d,k){if(k===void 0&&(k=0),k<0)throw new Ae(_e.EINVAL);return He(this.root).truncateSync(tt(d),k)},rt.prototype.unlink=function(d,k){k===void 0&&(k=vt);var _=We(k,1);try{return He(this.root).unlink(tt(d),_)}catch(Ee){return _(Ee)}},rt.prototype.unlinkSync=function(d){return He(this.root).unlinkSync(tt(d))},rt.prototype.open=function(d,k,_,Ee){var Be=this;Ee===void 0&&(Ee=vt);var Me=Xe(_,420);Ee=typeof _=="function"?_:Ee;var Ye=We(Ee,2);try{He(this.root).open(tt(d),Ne.getFileFlag(k),Me,function(et,ft){ft?Ye(et,Be.getFdForFile(ft)):Ye(et)})}catch(et){Ye(et)}},rt.prototype.openSync=function(d,k,_){return _===void 0&&(_=420),this.getFdForFile(He(this.root).openSync(tt(d),Ne.getFileFlag(k),Xe(_,420)))},rt.prototype.readFile=function(d,k,_){k===void 0&&(k={}),_===void 0&&(_=vt);var Ee=gt(k,null,"r",null);_=typeof k=="function"?k:_;var Be=We(_,2);try{var Me=Ne.getFileFlag(Ee.flag);return Me.isReadable()?He(this.root).readFile(tt(d),Ee.encoding,Me,Be):Be(new Ae(_e.EINVAL,"Flag passed to readFile must allow for reading."))}catch(Ye){return Be(Ye)}},rt.prototype.readFileSync=function(d,k){k===void 0&&(k={});var _=gt(k,null,"r",null),Ee=Ne.getFileFlag(_.flag);if(!Ee.isReadable())throw new Ae(_e.EINVAL,"Flag passed to readFile must allow for reading.");return He(this.root).readFileSync(tt(d),_.encoding,Ee)},rt.prototype.writeFile=function(d,k,_,Ee){_===void 0&&(_={}),Ee===void 0&&(Ee=vt);var Be=gt(_,"utf8","w",420);Ee=typeof _=="function"?_:Ee;var Me=We(Ee,1);try{var Ye=Ne.getFileFlag(Be.flag);return Ye.isWriteable()?He(this.root).writeFile(tt(d),k,Be.encoding,Ye,Be.mode,Me):Me(new Ae(_e.EINVAL,"Flag passed to writeFile must allow for writing."))}catch(et){return Me(et)}},rt.prototype.writeFileSync=function(d,k,_){var Ee=gt(_,"utf8","w",420),Be=Ne.getFileFlag(Ee.flag);if(!Be.isWriteable())throw new Ae(_e.EINVAL,"Flag passed to writeFile must allow for writing.");return He(this.root).writeFileSync(tt(d),k,Ee.encoding,Be,Ee.mode)},rt.prototype.appendFile=function(d,k,_,Ee){Ee===void 0&&(Ee=vt);var Be=gt(_,"utf8","a",420);Ee=typeof _=="function"?_:Ee;var Me=We(Ee,1);try{var Ye=Ne.getFileFlag(Be.flag);if(!Ye.isAppendable())return Me(new Ae(_e.EINVAL,"Flag passed to appendFile must allow for appending."));He(this.root).appendFile(tt(d),k,Be.encoding,Ye,Be.mode,Me)}catch(et){Me(et)}},rt.prototype.appendFileSync=function(d,k,_){var Ee=gt(_,"utf8","a",420),Be=Ne.getFileFlag(Ee.flag);if(!Be.isAppendable())throw new Ae(_e.EINVAL,"Flag passed to appendFile must allow for appending.");return He(this.root).appendFileSync(tt(d),k,Ee.encoding,Be,Ee.mode)},rt.prototype.fstat=function(d,k){k===void 0&&(k=vt);var _=We(k,2);try{var Ee=this.fd2file(d);Ee.stat(_)}catch(Be){_(Be)}},rt.prototype.fstatSync=function(d){return this.fd2file(d).statSync()},rt.prototype.close=function(d,k){var _=this;k===void 0&&(k=vt);var Ee=We(k,1);try{this.fd2file(d).close(function(Be){Be||_.closeFd(d),Ee(Be)})}catch(Be){Ee(Be)}},rt.prototype.closeSync=function(d){this.fd2file(d).closeSync(),this.closeFd(d)},rt.prototype.ftruncate=function(d,k,_){_===void 0&&(_=vt);var Ee=typeof k=="number"?k:0;_=typeof k=="function"?k:_;var Be=We(_,1);try{var Me=this.fd2file(d);if(Ee<0)throw new Ae(_e.EINVAL);Me.truncate(Ee,Be)}catch(Ye){Be(Ye)}},rt.prototype.ftruncateSync=function(d,k){k===void 0&&(k=0);var _=this.fd2file(d);if(k<0)throw new Ae(_e.EINVAL);_.truncateSync(k)},rt.prototype.fsync=function(d,k){k===void 0&&(k=vt);var _=We(k,1);try{this.fd2file(d).sync(_)}catch(Ee){_(Ee)}},rt.prototype.fsyncSync=function(d){this.fd2file(d).syncSync()},rt.prototype.fdatasync=function(d,k){k===void 0&&(k=vt);var _=We(k,1);try{this.fd2file(d).datasync(_)}catch(Ee){_(Ee)}},rt.prototype.fdatasyncSync=function(d){this.fd2file(d).datasyncSync()},rt.prototype.write=function(d,k,_,Ee,Be,Me){Me===void 0&&(Me=vt);var Ye,et,ft,kt=null;if(typeof k=="string"){var Ht="utf8";switch(typeof _){case"function":Me=_;break;case"number":kt=_,Ht=typeof Ee=="string"?Ee:"utf8",Me=typeof Be=="function"?Be:Me;break;default:return Me=typeof Ee=="function"?Ee:typeof Be=="function"?Be:Me,Me(new Ae(_e.EINVAL,"Invalid arguments."))}Ye=f.from(k,Ht),et=0,ft=Ye.length}else Ye=k,et=_,ft=Ee,kt=typeof Be=="number"?Be:null,Me=typeof Be=="function"?Be:Me;var ir=We(Me,3);try{var _r=this.fd2file(d);kt==null&&(kt=_r.getPos()),_r.write(Ye,et,ft,kt,ir)}catch(vr){ir(vr)}},rt.prototype.writeSync=function(d,k,_,Ee,Be){var Me,Ye=0,et,ft;if(typeof k=="string"){ft=typeof _=="number"?_:null;var kt=typeof Ee=="string"?Ee:"utf8";Ye=0,Me=f.from(k,kt),et=Me.length}else Me=k,Ye=_,et=Ee,ft=typeof Be=="number"?Be:null;var Ht=this.fd2file(d);return ft==null&&(ft=Ht.getPos()),Ht.writeSync(Me,Ye,et,ft)},rt.prototype.read=function(d,k,_,Ee,Be,Me){Me===void 0&&(Me=vt);var Ye,et,ft,kt,Ht;if(typeof k=="number"){ft=k,Ye=_;var ir=Ee;Me=typeof Be=="function"?Be:Me,et=0,kt=f.alloc(ft),Ht=We(function(vr,qr,zr){if(vr)return Me(vr);Me(vr,zr.toString(ir),qr)},3)}else kt=k,et=_,ft=Ee,Ye=Be,Ht=We(Me,3);try{var _r=this.fd2file(d);Ye==null&&(Ye=_r.getPos()),_r.read(kt,et,ft,Ye,Ht)}catch(vr){Ht(vr)}},rt.prototype.readSync=function(d,k,_,Ee,Be){var Me=!1,Ye,et,ft,kt,Ht="utf8";typeof k=="number"?(ft=k,kt=_,Ht=Ee,et=0,Ye=f.alloc(ft),Me=!0):(Ye=k,et=_,ft=Ee,kt=Be);var ir=this.fd2file(d);kt==null&&(kt=ir.getPos());var _r=ir.readSync(Ye,et,ft,kt);return Me?[Ye.toString(Ht),_r]:_r},rt.prototype.fchown=function(d,k,_,Ee){Ee===void 0&&(Ee=vt);var Be=We(Ee,1);try{this.fd2file(d).chown(k,_,Be)}catch(Me){Be(Me)}},rt.prototype.fchownSync=function(d,k,_){this.fd2file(d).chownSync(k,_)},rt.prototype.fchmod=function(d,k,_){var Ee=We(_,1);try{var Be=typeof k=="string"?parseInt(k,8):k;this.fd2file(d).chmod(Be,Ee)}catch(Me){Ee(Me)}},rt.prototype.fchmodSync=function(d,k){var _=typeof k=="string"?parseInt(k,8):k;this.fd2file(d).chmodSync(_)},rt.prototype.futimes=function(d,k,_,Ee){Ee===void 0&&(Ee=vt);var Be=We(Ee,1);try{var Me=this.fd2file(d);typeof k=="number"&&(k=new Date(k*1e3)),typeof _=="number"&&(_=new Date(_*1e3)),Me.utimes(k,_,Be)}catch(Ye){Be(Ye)}},rt.prototype.futimesSync=function(d,k,_){this.fd2file(d).utimesSync(ot(k),ot(_))},rt.prototype.rmdir=function(d,k){k===void 0&&(k=vt);var _=We(k,1);try{d=tt(d),He(this.root).rmdir(d,_)}catch(Ee){_(Ee)}},rt.prototype.rmdirSync=function(d){return d=tt(d),He(this.root).rmdirSync(d)},rt.prototype.mkdir=function(d,k,_){_===void 0&&(_=vt),typeof k=="function"&&(_=k,k=511);var Ee=We(_,1);try{d=tt(d),He(this.root).mkdir(d,k,Ee)}catch(Be){Ee(Be)}},rt.prototype.mkdirSync=function(d,k){He(this.root).mkdirSync(tt(d),Xe(k,511))},rt.prototype.readdir=function(d,k){k===void 0&&(k=vt);var _=We(k,2);try{d=tt(d),He(this.root).readdir(d,_)}catch(Ee){_(Ee)}},rt.prototype.readdirSync=function(d){return d=tt(d),He(this.root).readdirSync(d)},rt.prototype.link=function(d,k,_){_===void 0&&(_=vt);var Ee=We(_,1);try{d=tt(d),k=tt(k),He(this.root).link(d,k,Ee)}catch(Be){Ee(Be)}},rt.prototype.linkSync=function(d,k){return d=tt(d),k=tt(k),He(this.root).linkSync(d,k)},rt.prototype.symlink=function(d,k,_,Ee){Ee===void 0&&(Ee=vt);var Be=typeof _=="string"?_:"file";Ee=typeof _=="function"?_:Ee;var Me=We(Ee,1);try{if(Be!=="file"&&Be!=="dir")return Me(new Ae(_e.EINVAL,"Invalid type: "+Be));d=tt(d),k=tt(k),He(this.root).symlink(d,k,Be,Me)}catch(Ye){Me(Ye)}},rt.prototype.symlinkSync=function(d,k,_){if(!_)_="file";else if(_!=="file"&&_!=="dir")throw new Ae(_e.EINVAL,"Invalid type: "+_);return d=tt(d),k=tt(k),He(this.root).symlinkSync(d,k,_)},rt.prototype.readlink=function(d,k){k===void 0&&(k=vt);var _=We(k,2);try{d=tt(d),He(this.root).readlink(d,_)}catch(Ee){_(Ee)}},rt.prototype.readlinkSync=function(d){return d=tt(d),He(this.root).readlinkSync(d)},rt.prototype.chown=function(d,k,_,Ee){Ee===void 0&&(Ee=vt);var Be=We(Ee,1);try{d=tt(d),He(this.root).chown(d,!1,k,_,Be)}catch(Me){Be(Me)}},rt.prototype.chownSync=function(d,k,_){d=tt(d),He(this.root).chownSync(d,!1,k,_)},rt.prototype.lchown=function(d,k,_,Ee){Ee===void 0&&(Ee=vt);var Be=We(Ee,1);try{d=tt(d),He(this.root).chown(d,!0,k,_,Be)}catch(Me){Be(Me)}},rt.prototype.lchownSync=function(d,k,_){d=tt(d),He(this.root).chownSync(d,!0,k,_)},rt.prototype.chmod=function(d,k,_){_===void 0&&(_=vt);var Ee=We(_,1);try{var Be=Xe(k,-1);if(Be<0)throw new Ae(_e.EINVAL,"Invalid mode.");He(this.root).chmod(tt(d),!1,Be,Ee)}catch(Me){Ee(Me)}},rt.prototype.chmodSync=function(d,k){var _=Xe(k,-1);if(_<0)throw new Ae(_e.EINVAL,"Invalid mode.");d=tt(d),He(this.root).chmodSync(d,!1,_)},rt.prototype.lchmod=function(d,k,_){_===void 0&&(_=vt);var Ee=We(_,1);try{var Be=Xe(k,-1);if(Be<0)throw new Ae(_e.EINVAL,"Invalid mode.");He(this.root).chmod(tt(d),!0,Be,Ee)}catch(Me){Ee(Me)}},rt.prototype.lchmodSync=function(d,k){var _=Xe(k,-1);if(_<1)throw new Ae(_e.EINVAL,"Invalid mode.");He(this.root).chmodSync(tt(d),!0,_)},rt.prototype.utimes=function(d,k,_,Ee){Ee===void 0&&(Ee=vt);var Be=We(Ee,1);try{He(this.root).utimes(tt(d),ot(k),ot(_),Be)}catch(Me){Be(Me)}},rt.prototype.utimesSync=function(d,k,_){He(this.root).utimesSync(tt(d),ot(k),ot(_))},rt.prototype.realpath=function(d,k,_){_===void 0&&(_=vt);var Ee=typeof k=="object"?k:{};_=typeof k=="function"?k:vt;var Be=We(_,2);try{d=tt(d),He(this.root).realpath(d,Ee,Be)}catch(Me){Be(Me)}},rt.prototype.realpathSync=function(d,k){return k===void 0&&(k={}),d=tt(d),He(this.root).realpathSync(d,k)},rt.prototype.watchFile=function(d,k,_){throw new Ae(_e.ENOTSUP)},rt.prototype.unwatchFile=function(d,k){throw new Ae(_e.ENOTSUP)},rt.prototype.watch=function(d,k,_){throw new Ae(_e.ENOTSUP)},rt.prototype.access=function(d,k,_){throw new Ae(_e.ENOTSUP)},rt.prototype.accessSync=function(d,k){throw new Ae(_e.ENOTSUP)},rt.prototype.createReadStream=function(d,k){throw new Ae(_e.ENOTSUP)},rt.prototype.createWriteStream=function(d,k){throw new Ae(_e.ENOTSUP)},rt.prototype.wrapCallbacks=function(d){We=d},rt.prototype.getFdForFile=function(d){var k=this.nextFd++;return this.fdMap[k]=d,k},rt.prototype.fd2file=function(d){var k=this.fdMap[d];if(k)return k;throw new Ae(_e.EBADF,"Invalid file descriptor.")},rt.prototype.closeFd=function(d){delete this.fdMap[d]},rt.Stats=Ue;var ht=new rt,it={},mt=rt.prototype;Object.keys(mt).forEach(function(ne){typeof ht[ne]=="function"?it[ne]=function(){return ht[ne].apply(ht,arguments)}:it[ne]=ht[ne]}),it.changeFSModule=function(ne){ht=ne},it.getFSModule=function(){return ht},it.FS=rt;function Ze(ne,d,k,_,Ee){return ne<d||k<d?ne>k?k+1:ne+1:_===Ee?d:d+1}function Ft(ne,d){if(ne===d)return 0;if(ne.length>d.length){var k=ne;ne=d,d=k}for(var _=ne.length,Ee=d.length;_>0&&ne.charCodeAt(_-1)===d.charCodeAt(Ee-1);)_--,Ee--;for(var Be=0;Be<_&&ne.charCodeAt(Be)===d.charCodeAt(Be);)Be++;if(_-=Be,Ee-=Be,_===0||Ee===1)return Ee;for(var Me=new Array(_<<1),Ye=0;Ye<_;)Me[_+Ye]=ne.charCodeAt(Be+Ye),Me[Ye]=++Ye;var et,ft,kt,Ht,ir;for(et=0;et+3<Ee;)for(var _r=d.charCodeAt(Be+(ft=et)),vr=d.charCodeAt(Be+(kt=et+1)),qr=d.charCodeAt(Be+(Ht=et+2)),zr=d.charCodeAt(Be+(ir=et+3)),Wr=et+=4,En=0;En<_;){var Mn=Me[_+En],Fi=Me[En];ft=Ze(Fi,ft,kt,_r,Mn),kt=Ze(ft,kt,Ht,vr,Mn),Ht=Ze(kt,Ht,ir,qr,Mn),Wr=Ze(Ht,ir,Wr,zr,Mn),Me[En++]=Wr,ir=Ht,Ht=kt,kt=ft,ft=Fi}for(var Bi=0;et<Ee;){var Ao=d.charCodeAt(Be+(ft=et));Bi=++et;for(var Wi=0;Wi<_;Wi++){var Ki=Me[Wi];Me[Wi]=Bi=Ki<ft||Bi<ft?Ki>Bi?Bi+1:Ki+1:Ao===Me[_+Wi]?ft:ft+1,ft=Ki}}return Bi}function Zt(ne,d,k){ne&&console.warn("["+d+"] Direct file system constructor usage is deprecated for this file system, and will be removed in the next major version. Please use the '"+d+".Create("+JSON.stringify(k)+", callback)' method instead. See https://github.com/jvilk/BrowserFS/issues/176 for more details.")}var zt=typeof navigator<"u"&&!!(/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||navigator.userAgent.indexOf("Trident")!==-1),ur=typeof window>"u";function bt(){throw new Error("BFS has reached an impossible code path; please file a bug.")}function St(ne,d,k){k.existsSync(ne)||(St(Oe.dirname(ne),d,k),k.mkdirSync(ne,d))}function ct(ne){var d=dt(ne),k=d.byteOffset,_=d.byteLength;return k===0&&_===d.buffer.byteLength?d.buffer:d.buffer.slice(k,k+_)}function dt(ne){return ne instanceof Uint8Array?ne:new Uint8Array(ne)}function Bt(ne){return ne instanceof f?ne:ne instanceof Uint8Array?Ct(ne):f.from(ne)}function Ct(ne){return ne instanceof f?ne:ne.byteOffset===0&&ne.byteLength===ne.buffer.byteLength?Kt(ne.buffer):f.from(ne.buffer,ne.byteOffset,ne.byteLength)}function Kt(ne){return f.from(ne)}function fr(ne,d,k){if(d===void 0&&(d=0),k===void 0&&(k=ne.length),d<0||k<0||k>ne.length||d>k)throw new TypeError("Invalid slice bounds on buffer of length "+ne.length+": ["+d+", "+k+"]");if(ne.length===0)return cr();var _=dt(ne),Ee=ne[0],Be=(Ee+1)%255;return ne[0]=Be,_[0]===Be?(_[0]=Ee,Ct(_.slice(d,k))):(ne[0]=Ee,Ct(_.subarray(d,k)))}var Rr=null;function cr(){return Rr||(Rr=f.alloc(0))}function lt(ne,d){f.isBuffer(ne)?d():d(new Ae(_e.EINVAL,"option must be a Buffer."))}function yt(ne,d,k){var _=ne.Options,Ee=ne.Name,Be=0,Me=!1,Ye=!1;function et(ir){Me||(ir&&(Me=!0,k(ir)),Be--,Be===0&&Ye&&k())}var ft=function(ir){if(_.hasOwnProperty(ir)){var _r=_[ir],vr=d[ir];if(vr==null){if(!_r.optional){var qr=Object.keys(d).filter(function(Wr){return!(Wr in _)}).map(function(Wr){return{str:Wr,distance:Ft(ir,Wr)}}).filter(function(Wr){return Wr.distance<5}).sort(function(Wr,En){return Wr.distance-En.distance});return Me?{}:(Me=!0,{v:k(new Ae(_e.EINVAL,"["+Ee+"] Required option '"+ir+"' not provided."+(qr.length>0?" You provided unrecognized option '"+qr[0].str+"'; perhaps you meant to type '"+ir+"'.":"")+`
Option description: `+_r.description))})}}else{var zr=!1;if(Array.isArray(_r.type)?zr=_r.type.indexOf(typeof vr)!==-1:zr=typeof vr===_r.type,zr)_r.validator&&(Be++,_r.validator(vr,et));else return Me?{}:(Me=!0,{v:k(new Ae(_e.EINVAL,"["+Ee+"] Value provided for option "+ir+" is not the proper type. Expected "+(Array.isArray(_r.type)?"one of {"+_r.type.join(", ")+"}":_r.type)+", but received "+typeof vr+`
Option description: `+_r.description))})}}};for(var kt in _){var Ht=ft(kt);if(Ht)return Ht.v}Ye=!0,Be===0&&!Me&&k()}var Xt=Object.freeze({deprecationMessage:Zt,isIE:zt,isWebWorker:ur,fail:bt,mkdirpSync:St,buffer2ArrayBuffer:ct,buffer2Uint8array:dt,arrayish2Buffer:Bt,uint8Array2Buffer:Ct,arrayBuffer2Buffer:Kt,copyingSlice:fr,emptyBuffer:cr,bufferValidator:lt,checkOptions:yt}),$t=function(d){this.fs=d,this.nodefs=d.getNodeFS(),this.FS=d.getFS(),this.PATH=d.getPATH(),this.ERRNO_CODES=d.getERRNO_CODES()};$t.prototype.open=function(d){var k=this.fs.realPath(d.node),_=this.FS;try{_.isFile(d.node.mode)&&(d.nfd=this.nodefs.openSync(k,this.fs.flagsToPermissionString(d.flags)))}catch(Ee){throw Ee.code?new _.ErrnoError(this.ERRNO_CODES[Ee.code]):Ee}},$t.prototype.close=function(d){var k=this.FS;try{k.isFile(d.node.mode)&&d.nfd&&this.nodefs.closeSync(d.nfd)}catch(_){throw _.code?new k.ErrnoError(this.ERRNO_CODES[_.code]):_}},$t.prototype.read=function(d,k,_,Ee,Be){try{return this.nodefs.readSync(d.nfd,Ct(k),_,Ee,Be)}catch(Me){throw new this.FS.ErrnoError(this.ERRNO_CODES[Me.code])}},$t.prototype.write=function(d,k,_,Ee,Be){try{return this.nodefs.writeSync(d.nfd,Ct(k),_,Ee,Be)}catch(Me){throw new this.FS.ErrnoError(this.ERRNO_CODES[Me.code])}},$t.prototype.llseek=function(d,k,_){var Ee=k;if(_===1)Ee+=d.position;else if(_===2&&this.FS.isFile(d.node.mode))try{var Be=this.nodefs.fstatSync(d.nfd);Ee+=Be.size}catch(Me){throw new this.FS.ErrnoError(this.ERRNO_CODES[Me.code])}if(Ee<0)throw new this.FS.ErrnoError(this.ERRNO_CODES.EINVAL);return d.position=Ee,Ee};var dr=function(d){this.fs=d,this.nodefs=d.getNodeFS(),this.FS=d.getFS(),this.PATH=d.getPATH(),this.ERRNO_CODES=d.getERRNO_CODES()};dr.prototype.getattr=function(d){var k=this.fs.realPath(d),_;try{_=this.nodefs.lstatSync(k)}catch(Ee){throw Ee.code?new this.FS.ErrnoError(this.ERRNO_CODES[Ee.code]):Ee}return{dev:_.dev,ino:_.ino,mode:_.mode,nlink:_.nlink,uid:_.uid,gid:_.gid,rdev:_.rdev,size:_.size,atime:_.atime,mtime:_.mtime,ctime:_.ctime,blksize:_.blksize,blocks:_.blocks}},dr.prototype.setattr=function(d,k){var _=this.fs.realPath(d);try{if(k.mode!==void 0&&(this.nodefs.chmodSync(_,k.mode),d.mode=k.mode),k.timestamp!==void 0){var Ee=new Date(k.timestamp);this.nodefs.utimesSync(_,Ee,Ee)}}catch(Be){if(!Be.code)throw Be;if(Be.code!=="ENOTSUP")throw new this.FS.ErrnoError(this.ERRNO_CODES[Be.code])}if(k.size!==void 0)try{this.nodefs.truncateSync(_,k.size)}catch(Be){throw Be.code?new this.FS.ErrnoError(this.ERRNO_CODES[Be.code]):Be}},dr.prototype.lookup=function(d,k){var _=this.PATH.join2(this.fs.realPath(d),k),Ee=this.fs.getMode(_);return this.fs.createNode(d,k,Ee)},dr.prototype.mknod=function(d,k,_,Ee){var Be=this.fs.createNode(d,k,_,Ee),Me=this.fs.realPath(Be);try{this.FS.isDir(Be.mode)?this.nodefs.mkdirSync(Me,Be.mode):this.nodefs.writeFileSync(Me,"",{mode:Be.mode})}catch(Ye){throw Ye.code?new this.FS.ErrnoError(this.ERRNO_CODES[Ye.code]):Ye}return Be},dr.prototype.rename=function(d,k,_){var Ee=this.fs.realPath(d),Be=this.PATH.join2(this.fs.realPath(k),_);try{this.nodefs.renameSync(Ee,Be),d.name=_,d.parent=k}catch(Me){throw Me.code?new this.FS.ErrnoError(this.ERRNO_CODES[Me.code]):Me}},dr.prototype.unlink=function(d,k){var _=this.PATH.join2(this.fs.realPath(d),k);try{this.nodefs.unlinkSync(_)}catch(Ee){throw Ee.code?new this.FS.ErrnoError(this.ERRNO_CODES[Ee.code]):Ee}},dr.prototype.rmdir=function(d,k){var _=this.PATH.join2(this.fs.realPath(d),k);try{this.nodefs.rmdirSync(_)}catch(Ee){throw Ee.code?new this.FS.ErrnoError(this.ERRNO_CODES[Ee.code]):Ee}},dr.prototype.readdir=function(d){var k=this.fs.realPath(d);try{var _=this.nodefs.readdirSync(k);return _.push(".",".."),_}catch(Ee){throw Ee.code?new this.FS.ErrnoError(this.ERRNO_CODES[Ee.code]):Ee}},dr.prototype.symlink=function(d,k,_){var Ee=this.PATH.join2(this.fs.realPath(d),k);try{this.nodefs.symlinkSync(_,Ee)}catch(Be){throw Be.code?new this.FS.ErrnoError(this.ERRNO_CODES[Be.code]):Be}},dr.prototype.readlink=function(d){var k=this.fs.realPath(d);try{return this.nodefs.readlinkSync(k)}catch(_){throw _.code?new this.FS.ErrnoError(this.ERRNO_CODES[_.code]):_}};var Je=function(d,k,_,Ee){d===void 0&&(d=self.FS),k===void 0&&(k=self.PATH),_===void 0&&(_=self.ERRNO_CODES),Ee===void 0&&(Ee=it),this.flagsToPermissionStringMap={0:"r",1:"r+",2:"r+",64:"r",65:"r+",66:"r+",129:"rx+",193:"rx+",514:"w+",577:"w",578:"w+",705:"wx",706:"wx+",1024:"a",1025:"a",1026:"a+",1089:"a",1090:"a+",1153:"ax",1154:"ax+",1217:"ax",1218:"ax+",4096:"rs",4098:"rs+"},this.nodefs=Ee,this.FS=d,this.PATH=k,this.ERRNO_CODES=_,this.node_ops=new dr(this),this.stream_ops=new $t(this)};Je.prototype.mount=function(d){return this.createNode(null,"/",this.getMode(d.opts.root),0)},Je.prototype.createNode=function(d,k,_,Ee){var Be=this.FS;if(!Be.isDir(_)&&!Be.isFile(_)&&!Be.isLink(_))throw new Be.ErrnoError(this.ERRNO_CODES.EINVAL);var Me=Be.createNode(d,k,_);return Me.node_ops=this.node_ops,Me.stream_ops=this.stream_ops,Me},Je.prototype.getMode=function(d){var k;try{k=this.nodefs.lstatSync(d)}catch(_){throw _.code?new this.FS.ErrnoError(this.ERRNO_CODES[_.code]):_}return k.mode},Je.prototype.realPath=function(d){for(var k=[];d.parent!==d;)k.push(d.name),d=d.parent;return k.push(d.mount.opts.root),k.reverse(),this.PATH.join.apply(null,k)},Je.prototype.flagsToPermissionString=function(d){var k=typeof d=="string"?parseInt(d,10):d;return k&=8191,k in this.flagsToPermissionStringMap?this.flagsToPermissionStringMap[k]:d},Je.prototype.getNodeFS=function(){return this.nodefs},Je.prototype.getFS=function(){return this.FS},Je.prototype.getPATH=function(){return this.PATH},Je.prototype.getERRNO_CODES=function(){return this.ERRNO_CODES};var At=function(){};At.prototype.supportsLinks=function(){return!1},At.prototype.diskSpace=function(d,k){k(0,0)},At.prototype.openFile=function(d,k,_){throw new Ae(_e.ENOTSUP)},At.prototype.createFile=function(d,k,_,Ee){throw new Ae(_e.ENOTSUP)},At.prototype.open=function(d,k,_,Ee){var Be=this,Me=function(Ye,et){if(Ye)switch(k.pathNotExistsAction()){case Fe.CREATE_FILE:return Be.stat(Oe.dirname(d),!1,function(ft,kt){ft?Ee(ft):kt&&!kt.isDirectory()?Ee(Ae.ENOTDIR(Oe.dirname(d))):Be.createFile(d,k,_,Ee)});case Fe.THROW_EXCEPTION:return Ee(Ae.ENOENT(d));default:return Ee(new Ae(_e.EINVAL,"Invalid FileFlag object."))}else{if(et&&et.isDirectory())return Ee(Ae.EISDIR(d));switch(k.pathExistsAction()){case Fe.THROW_EXCEPTION:return Ee(Ae.EEXIST(d));case Fe.TRUNCATE_FILE:return Be.openFile(d,k,function(ft,kt){ft?Ee(ft):kt?kt.truncate(0,function(){kt.sync(function(){Ee(null,kt)})}):bt()});case Fe.NOP:return Be.openFile(d,k,Ee);default:return Ee(new Ae(_e.EINVAL,"Invalid FileFlag object."))}}};this.stat(d,!1,Me)},At.prototype.rename=function(d,k,_){_(new Ae(_e.ENOTSUP))},At.prototype.renameSync=function(d,k){throw new Ae(_e.ENOTSUP)},At.prototype.stat=function(d,k,_){_(new Ae(_e.ENOTSUP))},At.prototype.statSync=function(d,k){throw new Ae(_e.ENOTSUP)},At.prototype.openFileSync=function(d,k,_){throw new Ae(_e.ENOTSUP)},At.prototype.createFileSync=function(d,k,_){throw new Ae(_e.ENOTSUP)},At.prototype.openSync=function(d,k,_){var Ee;try{Ee=this.statSync(d,!1)}catch{switch(k.pathNotExistsAction()){case Fe.CREATE_FILE:var Be=this.statSync(Oe.dirname(d),!1);if(!Be.isDirectory())throw Ae.ENOTDIR(Oe.dirname(d));return this.createFileSync(d,k,_);case Fe.THROW_EXCEPTION:throw Ae.ENOENT(d);default:throw new Ae(_e.EINVAL,"Invalid FileFlag object.")}}if(Ee.isDirectory())throw Ae.EISDIR(d);switch(k.pathExistsAction()){case Fe.THROW_EXCEPTION:throw Ae.EEXIST(d);case Fe.TRUNCATE_FILE:return this.unlinkSync(d),this.createFileSync(d,k,Ee.mode);case Fe.NOP:return this.openFileSync(d,k,_);default:throw new Ae(_e.EINVAL,"Invalid FileFlag object.")}},At.prototype.unlink=function(d,k){k(new Ae(_e.ENOTSUP))},At.prototype.unlinkSync=function(d){throw new Ae(_e.ENOTSUP)},At.prototype.rmdir=function(d,k){k(new Ae(_e.ENOTSUP))},At.prototype.rmdirSync=function(d){throw new Ae(_e.ENOTSUP)},At.prototype.mkdir=function(d,k,_){_(new Ae(_e.ENOTSUP))},At.prototype.mkdirSync=function(d,k){throw new Ae(_e.ENOTSUP)},At.prototype.readdir=function(d,k){k(new Ae(_e.ENOTSUP))},At.prototype.readdirSync=function(d){throw new Ae(_e.ENOTSUP)},At.prototype.exists=function(d,k){this.stat(d,null,function(_){k(!_)})},At.prototype.existsSync=function(d){try{return this.statSync(d,!0),!0}catch{return!1}},At.prototype.realpath=function(d,k,_){if(this.supportsLinks())for(var Ee=d.split(Oe.sep),Be=0;Be<Ee.length;Be++){var Me=Ee.slice(0,Be+1);Ee[Be]=Oe.join.apply(null,Me)}else this.exists(d,function(Ye){Ye?_(null,d):_(Ae.ENOENT(d))})},At.prototype.realpathSync=function(d,k){if(this.supportsLinks()){for(var _=d.split(Oe.sep),Ee=0;Ee<_.length;Ee++){var Be=_.slice(0,Ee+1);_[Ee]=Oe.join.apply(Oe,Be)}return _.join(Oe.sep)}else{if(this.existsSync(d))return d;throw Ae.ENOENT(d)}},At.prototype.truncate=function(d,k,_){this.open(d,Ne.getFileFlag("r+"),420,function(Ee,Be){if(Ee)return _(Ee);Be.truncate(k,function(Me){Be.close(function(Ye){_(Me||Ye)})})})},At.prototype.truncateSync=function(d,k){var _=this.openSync(d,Ne.getFileFlag("r+"),420);try{_.truncateSync(k)}catch(Ee){throw Ee}finally{_.closeSync()}},At.prototype.readFile=function(d,k,_,Ee){var Be=Ee;this.open(d,_,420,function(Me,Ye){if(Me)return Ee(Me);Ee=function(et,ft){Ye.close(function(kt){return et||(et=kt),Be(et,ft)})},Ye.stat(function(et,ft){if(et)return Ee(et);var kt=f.alloc(ft.size);Ye.read(kt,0,ft.size,0,function(Ht){if(Ht)return Ee(Ht);if(k===null)return Ee(Ht,kt);try{Ee(null,kt.toString(k))}catch(ir){Ee(ir)}})})})},At.prototype.readFileSync=function(d,k,_){var Ee=this.openSync(d,_,420);try{var Be=Ee.statSync(),Me=f.alloc(Be.size);return Ee.readSync(Me,0,Be.size,0),Ee.closeSync(),k===null?Me:Me.toString(k)}finally{Ee.closeSync()}},At.prototype.writeFile=function(d,k,_,Ee,Be,Me){var Ye=Me;this.open(d,Ee,420,function(et,ft){if(et)return Me(et);Me=function(kt){ft.close(function(Ht){Ye(kt||Ht)})};try{typeof k=="string"&&(k=f.from(k,_))}catch(kt){return Me(kt)}ft.write(k,0,k.length,0,Me)})},At.prototype.writeFileSync=function(d,k,_,Ee,Be){var Me=this.openSync(d,Ee,Be);try{typeof k=="string"&&(k=f.from(k,_)),Me.writeSync(k,0,k.length,0)}finally{Me.closeSync()}},At.prototype.appendFile=function(d,k,_,Ee,Be,Me){var Ye=Me;this.open(d,Ee,Be,function(et,ft){if(et)return Me(et);Me=function(kt){ft.close(function(Ht){Ye(kt||Ht)})},typeof k=="string"&&(k=f.from(k,_)),ft.write(k,0,k.length,null,Me)})},At.prototype.appendFileSync=function(d,k,_,Ee,Be){var Me=this.openSync(d,Ee,Be);try{typeof k=="string"&&(k=f.from(k,_)),Me.writeSync(k,0,k.length,null)}finally{Me.closeSync()}},At.prototype.chmod=function(d,k,_,Ee){Ee(new Ae(_e.ENOTSUP))},At.prototype.chmodSync=function(d,k,_){throw new Ae(_e.ENOTSUP)},At.prototype.chown=function(d,k,_,Ee,Be){Be(new Ae(_e.ENOTSUP))},At.prototype.chownSync=function(d,k,_,Ee){throw new Ae(_e.ENOTSUP)},At.prototype.utimes=function(d,k,_,Ee){Ee(new Ae(_e.ENOTSUP))},At.prototype.utimesSync=function(d,k,_){throw new Ae(_e.ENOTSUP)},At.prototype.link=function(d,k,_){_(new Ae(_e.ENOTSUP))},At.prototype.linkSync=function(d,k){throw new Ae(_e.ENOTSUP)},At.prototype.symlink=function(d,k,_,Ee){Ee(new Ae(_e.ENOTSUP))},At.prototype.symlinkSync=function(d,k,_){throw new Ae(_e.ENOTSUP)},At.prototype.readlink=function(d,k){k(new Ae(_e.ENOTSUP))},At.prototype.readlinkSync=function(d){throw new Ae(_e.ENOTSUP)};var Wt=function(ne){function d(){ne.apply(this,arguments)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.supportsSynch=function(){return!0},d.prototype.rename=function(_,Ee,Be){try{this.renameSync(_,Ee),Be()}catch(Me){Be(Me)}},d.prototype.stat=function(_,Ee,Be){try{Be(null,this.statSync(_,Ee))}catch(Me){Be(Me)}},d.prototype.open=function(_,Ee,Be,Me){try{Me(null,this.openSync(_,Ee,Be))}catch(Ye){Me(Ye)}},d.prototype.unlink=function(_,Ee){try{this.unlinkSync(_),Ee()}catch(Be){Ee(Be)}},d.prototype.rmdir=function(_,Ee){try{this.rmdirSync(_),Ee()}catch(Be){Ee(Be)}},d.prototype.mkdir=function(_,Ee,Be){try{this.mkdirSync(_,Ee),Be()}catch(Me){Be(Me)}},d.prototype.readdir=function(_,Ee){try{Ee(null,this.readdirSync(_))}catch(Be){Ee(Be)}},d.prototype.chmod=function(_,Ee,Be,Me){try{this.chmodSync(_,Ee,Be),Me()}catch(Ye){Me(Ye)}},d.prototype.chown=function(_,Ee,Be,Me,Ye){try{this.chownSync(_,Ee,Be,Me),Ye()}catch(et){Ye(et)}},d.prototype.utimes=function(_,Ee,Be,Me){try{this.utimesSync(_,Ee,Be),Me()}catch(Ye){Me(Ye)}},d.prototype.link=function(_,Ee,Be){try{this.linkSync(_,Ee),Be()}catch(Me){Be(Me)}},d.prototype.symlink=function(_,Ee,Be,Me){try{this.symlinkSync(_,Ee,Be),Me()}catch(Ye){Me(Ye)}},d.prototype.readlink=function(_,Ee){try{Ee(null,this.readlinkSync(_))}catch(Be){Ee(Be)}},d}(At),xt=function(){};xt.prototype.sync=function(d){d(new Ae(_e.ENOTSUP))},xt.prototype.syncSync=function(){throw new Ae(_e.ENOTSUP)},xt.prototype.datasync=function(d){this.sync(d)},xt.prototype.datasyncSync=function(){return this.syncSync()},xt.prototype.chown=function(d,k,_){_(new Ae(_e.ENOTSUP))},xt.prototype.chownSync=function(d,k){throw new Ae(_e.ENOTSUP)},xt.prototype.chmod=function(d,k){k(new Ae(_e.ENOTSUP))},xt.prototype.chmodSync=function(d){throw new Ae(_e.ENOTSUP)},xt.prototype.utimes=function(d,k,_){_(new Ae(_e.ENOTSUP))},xt.prototype.utimesSync=function(d,k){throw new Ae(_e.ENOTSUP)};var pt=function(ne){function d(k,_,Ee,Be,Me){if(ne.call(this),this._pos=0,this._dirty=!1,this._fs=k,this._path=_,this._flag=Ee,this._stat=Be,Me?this._buffer=Me:this._buffer=cr(),this._stat.size!==this._buffer.length&&this._flag.isReadable())throw new Error("Invalid buffer: Buffer is "+this._buffer.length+" long, yet Stats object specifies that file is "+this._stat.size+" long.")}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.getBuffer=function(){return this._buffer},d.prototype.getStats=function(){return this._stat},d.prototype.getFlag=function(){return this._flag},d.prototype.getPath=function(){return this._path},d.prototype.getPos=function(){return this._flag.isAppendable()?this._stat.size:this._pos},d.prototype.advancePos=function(_){return this._pos+=_},d.prototype.setPos=function(_){return this._pos=_},d.prototype.sync=function(_){try{this.syncSync(),_()}catch(Ee){_(Ee)}},d.prototype.syncSync=function(){throw new Ae(_e.ENOTSUP)},d.prototype.close=function(_){try{this.closeSync(),_()}catch(Ee){_(Ee)}},d.prototype.closeSync=function(){throw new Ae(_e.ENOTSUP)},d.prototype.stat=function(_){try{_(null,this._stat.clone())}catch(Ee){_(Ee)}},d.prototype.statSync=function(){return this._stat.clone()},d.prototype.truncate=function(_,Ee){try{this.truncateSync(_),this._flag.isSynchronous()&&!it.getRootFS().supportsSynch()&&this.sync(Ee),Ee()}catch(Be){return Ee(Be)}},d.prototype.truncateSync=function(_){if(this._dirty=!0,!this._flag.isWriteable())throw new Ae(_e.EPERM,"File not opened with a writeable mode.");if(this._stat.mtime=new Date,_>this._buffer.length){var Ee=f.alloc(_-this._buffer.length,0);this.writeSync(Ee,0,Ee.length,this._buffer.length),this._flag.isSynchronous()&&it.getRootFS().supportsSynch()&&this.syncSync();return}this._stat.size=_;var Be=f.alloc(_);this._buffer.copy(Be,0,0,_),this._buffer=Be,this._flag.isSynchronous()&&it.getRootFS().supportsSynch()&&this.syncSync()},d.prototype.write=function(_,Ee,Be,Me,Ye){try{Ye(null,this.writeSync(_,Ee,Be,Me),_)}catch(et){Ye(et)}},d.prototype.writeSync=function(_,Ee,Be,Me){if(this._dirty=!0,Me==null&&(Me=this.getPos()),!this._flag.isWriteable())throw new Ae(_e.EPERM,"File not opened with a writeable mode.");var Ye=Me+Be;if(Ye>this._stat.size&&(this._stat.size=Ye,Ye>this._buffer.length)){var et=f.alloc(Ye);this._buffer.copy(et),this._buffer=et}var ft=_.copy(this._buffer,Me,Ee,Ee+Be);return this._stat.mtime=new Date,this._flag.isSynchronous()?(this.syncSync(),ft):(this.setPos(Me+ft),ft)},d.prototype.read=function(_,Ee,Be,Me,Ye){try{Ye(null,this.readSync(_,Ee,Be,Me),_)}catch(et){Ye(et)}},d.prototype.readSync=function(_,Ee,Be,Me){if(!this._flag.isReadable())throw new Ae(_e.EPERM,"File not opened with a readable mode.");Me==null&&(Me=this.getPos());var Ye=Me+Be;Ye>this._stat.size&&(Be=this._stat.size-Me);var et=this._buffer.copy(_,Ee,Me,Me+Be);return this._stat.atime=new Date,this._pos=Me+Be,et},d.prototype.chmod=function(_,Ee){try{this.chmodSync(_),Ee()}catch(Be){Ee(Be)}},d.prototype.chmodSync=function(_){if(!this._fs.supportsProps())throw new Ae(_e.ENOTSUP);this._dirty=!0,this._stat.chmod(_),this.syncSync()},d.prototype.isDirty=function(){return this._dirty},d.prototype.resetDirty=function(){this._dirty=!1},d}(xt),Dt=function(ne){function d(k,_,Ee,Be,Me){ne.call(this,k,_,Ee,Be,Me)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.sync=function(_){_()},d.prototype.syncSync=function(){},d.prototype.close=function(_){_()},d.prototype.closeSync=function(){},d}(pt),er=function(ne){function d(k,_,Ee,Be,Me){ne.call(this,k,_,Ee,Be,Me)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},d.prototype.closeSync=function(){this.syncSync()},d}(pt),nt=function(ne){function d(k,_,Ee){if(Ee===void 0&&(Ee=!0),ne.call(this),this._queue=[],this._queueRunning=!1,this._isInitialized=!1,this._initializeCallbacks=[],this._sync=k,this._async=_,!k.supportsSynch())throw new Error("The first argument to AsyncMirror needs to be a synchronous file system.");Zt(Ee,d.Name,{sync:"sync file system instance",async:"async file system instance"})}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.Create=function(_,Ee){try{var Be=new d(_.sync,_.async,!1);Be.initialize(function(Me){Me?Ee(Me):Ee(null,Be)},!1)}catch(Me){Ee(Me)}},d.isAvailable=function(){return!0},d.prototype.getName=function(){return d.Name},d.prototype._syncSync=function(_){this._sync.writeFileSync(_.getPath(),_.getBuffer(),null,Ne.getFileFlag("w"),_.getStats().mode),this.enqueueOp({apiMethod:"writeFile",arguments:[_.getPath(),_.getBuffer(),null,_.getFlag(),_.getStats().mode]})},d.prototype.initialize=function(_,Ee){var Be=this;Ee===void 0&&(Ee=!0),Ee&&console.warn("[AsyncMirror] AsyncMirror.initialize() is deprecated and will be removed in the next major version. Please use 'AsyncMirror.Create({ sync: (sync file system instance), async: (async file system instance)}, cb)' to create and initialize AsyncMirror instances.");var Me=this._initializeCallbacks,Ye=function(Ht){Be._isInitialized=!Ht,Be._initializeCallbacks=[],Me.forEach(function(ir){return ir(Ht)})};if(this._isInitialized)_();else if(Me.push(_)===1){var et=function(Ht,ir,_r){Ht!=="/"&&Be._sync.mkdirSync(Ht,ir),Be._async.readdir(Ht,function(vr,qr){var zr=0;function Wr(En){En?_r(En):zr<qr.length?(kt(Oe.join(Ht,qr[zr]),Wr),zr++):_r()}vr?_r(vr):Wr()})},ft=function(Ht,ir,_r){Be._async.readFile(Ht,null,Ne.getFileFlag("r"),function(vr,qr){if(vr)_r(vr);else try{Be._sync.writeFileSync(Ht,qr,null,Ne.getFileFlag("w"),ir)}catch(zr){vr=zr}finally{_r(vr)}})},kt=function(Ht,ir){Be._async.stat(Ht,!1,function(_r,vr){_r?ir(_r):vr.isDirectory()?et(Ht,vr.mode,ir):ft(Ht,vr.mode,ir)})};et("/",0,Ye)}},d.prototype.isReadOnly=function(){return!1},d.prototype.supportsSynch=function(){return!0},d.prototype.supportsLinks=function(){return!1},d.prototype.supportsProps=function(){return this._sync.supportsProps()&&this._async.supportsProps()},d.prototype.renameSync=function(_,Ee){this.checkInitialized(),this._sync.renameSync(_,Ee),this.enqueueOp({apiMethod:"rename",arguments:[_,Ee]})},d.prototype.statSync=function(_,Ee){return this.checkInitialized(),this._sync.statSync(_,Ee)},d.prototype.openSync=function(_,Ee,Be){this.checkInitialized();var Me=this._sync.openSync(_,Ee,Be);return Me.closeSync(),new er(this,_,Ee,this._sync.statSync(_,!1),this._sync.readFileSync(_,null,Ne.getFileFlag("r")))},d.prototype.unlinkSync=function(_){this.checkInitialized(),this._sync.unlinkSync(_),this.enqueueOp({apiMethod:"unlink",arguments:[_]})},d.prototype.rmdirSync=function(_){this.checkInitialized(),this._sync.rmdirSync(_),this.enqueueOp({apiMethod:"rmdir",arguments:[_]})},d.prototype.mkdirSync=function(_,Ee){this.checkInitialized(),this._sync.mkdirSync(_,Ee),this.enqueueOp({apiMethod:"mkdir",arguments:[_,Ee]})},d.prototype.readdirSync=function(_){return this.checkInitialized(),this._sync.readdirSync(_)},d.prototype.existsSync=function(_){return this.checkInitialized(),this._sync.existsSync(_)},d.prototype.chmodSync=function(_,Ee,Be){this.checkInitialized(),this._sync.chmodSync(_,Ee,Be),this.enqueueOp({apiMethod:"chmod",arguments:[_,Ee,Be]})},d.prototype.chownSync=function(_,Ee,Be,Me){this.checkInitialized(),this._sync.chownSync(_,Ee,Be,Me),this.enqueueOp({apiMethod:"chown",arguments:[_,Ee,Be,Me]})},d.prototype.utimesSync=function(_,Ee,Be){this.checkInitialized(),this._sync.utimesSync(_,Ee,Be),this.enqueueOp({apiMethod:"utimes",arguments:[_,Ee,Be]})},d.prototype.checkInitialized=function(){if(!this._isInitialized)throw new Ae(_e.EPERM,"AsyncMirrorFS is not initialized. Please initialize AsyncMirrorFS using its initialize() method before using it.")},d.prototype.enqueueOp=function(_){var Ee=this;if(this._queue.push(_),!this._queueRunning){this._queueRunning=!0;var Be=function(Me){if(Me&&console.error("WARNING: File system has desynchronized. Received following error: "+Me+`
$`),Ee._queue.length>0){var Ye=Ee._queue.shift(),et=Ye.arguments;et.push(Be),Ee._async[Ye.apiMethod].apply(Ee._async,et)}else Ee._queueRunning=!1};Be()}},d}(Wt);nt.Name="AsyncMirror",nt.Options={sync:{type:"object",description:"The synchronous file system to mirror the asynchronous file system to."},async:{type:"object",description:"The asynchronous file system to mirror."}};function ze(ne,d,k){switch(k.length){case 0:return ne.call(d);case 1:return ne.call(d,k[0]);case 2:return ne.call(d,k[0],k[1]);case 3:return ne.call(d,k[0],k[1],k[2])}return ne.apply(d,k)}var Ge=Math.max;function ut(ne,d,k){return d=Ge(d===void 0?ne.length-1:d,0),function(){for(var _=arguments,Ee=-1,Be=Ge(_.length-d,0),Me=Array(Be);++Ee<Be;)Me[Ee]=_[d+Ee];Ee=-1;for(var Ye=Array(d+1);++Ee<d;)Ye[Ee]=_[Ee];return Ye[d]=k(Me),ze(ne,this,Ye)}}function Et(ne){return ne}function It(ne,d){return ut(ne,d,Et)}var jt=function(ne){return It(function(d){var k=d.pop();ne.call(this,d,k)})};function tr(ne){return It(function(d,k){var _=jt(function(Ee,Be){var Me=this;return ne(d,function(Ye,et){Ye.apply(Me,Ee.concat(et))},Be)});return k.length?_.apply(this,k):_})}var Sr=typeof m=="object"&&m&&m.Object===Object&&m,Lr=typeof self=="object"&&self&&self.Object===Object&&self,Pr=Sr||Lr||Function("return this")(),Er=Pr.Symbol,gr=Object.prototype,Qr=gr.hasOwnProperty,Cr=gr.toString,sn=Er?Er.toStringTag:void 0;function Pn(ne){var d=Qr.call(ne,sn),k=ne[sn];try{ne[sn]=void 0;var _=!0}catch{}var Ee=Cr.call(ne);return _&&(d?ne[sn]=k:delete ne[sn]),Ee}var Un=Object.prototype,wr=Un.toString;function Jt(ne){return wr.call(ne)}var yr="[object Null]",at="[object Undefined]",Or=Er?Er.toStringTag:void 0;function en(ne){return ne==null?ne===void 0?at:yr:Or&&Or in Object(ne)?Pn(ne):Jt(ne)}function kr(ne){var d=typeof ne;return ne!=null&&(d=="object"||d=="function")}var Bn="[object AsyncFunction]",Tr="[object Function]",ln="[object GeneratorFunction]",or="[object Proxy]";function ar(ne){if(!kr(ne))return!1;var d=en(ne);return d==Tr||d==ln||d==Bn||d==or}var Zr=9007199254740991;function Nr(ne){return typeof ne=="number"&&ne>-1&&ne%1==0&&ne<=Zr}function Dr(ne){return ne!=null&&Nr(ne.length)&&!ar(ne)}var Wn={};function zn(){}function fn(ne){return function(){if(ne!==null){var d=ne;ne=null,d.apply(this,arguments)}}}var Jr=typeof Symbol=="function"&&Symbol.iterator,dn=function(ne){return Jr&&ne[Jr]&&ne[Jr]()};function wn(ne,d){for(var k=-1,_=Array(ne);++k<ne;)_[k]=d(k);return _}function xn(ne){return ne!=null&&typeof ne=="object"}var mi="[object Arguments]";function Mi(ne){return xn(ne)&&en(ne)==mi}var on=Object.prototype,Ln=on.hasOwnProperty,hn=on.propertyIsEnumerable,Jn=Mi(function(){return arguments}())?Mi:function(ne){return xn(ne)&&Ln.call(ne,"callee")&&!hn.call(ne,"callee")},jn=Array.isArray;function vn(){return!1}var Ii=typeof i=="object"&&i&&!i.nodeType&&i,li=Ii&&typeof g=="object"&&g&&!g.nodeType&&g,v0=li&&li.exports===Ii,Vi=v0?Pr.Buffer:void 0,Ja=Vi?Vi.isBuffer:void 0,as=Ja||vn,ss=9007199254740991,Ui=/^(?:0|[1-9]\d*)$/;function m0(ne,d){return d=d??ss,!!d&&(typeof ne=="number"||Ui.test(ne))&&ne>-1&&ne%1==0&&ne<d}var Xa="[object Arguments]",g0="[object Array]",Xr="[object Boolean]",y0="[object Date]",b0="[object Error]",E0="[object Function]",pn="[object Map]",va="[object Number]",ma="[object Object]",Zi="[object RegExp]",cs="[object Set]",us="[object String]",Za="[object WeakMap]",w0="[object ArrayBuffer]",$a="[object DataView]",S0="[object Float32Array]",gi="[object Float64Array]",ga="[object Int8Array]",A0="[object Int16Array]",nu="[object Int32Array]",$r="[object Uint8Array]",ls="[object Uint8ClampedArray]",iu="[object Uint16Array]",au="[object Uint32Array]",Yr={};Yr[S0]=Yr[gi]=Yr[ga]=Yr[A0]=Yr[nu]=Yr[$r]=Yr[ls]=Yr[iu]=Yr[au]=!0,Yr[Xa]=Yr[g0]=Yr[w0]=Yr[Xr]=Yr[$a]=Yr[y0]=Yr[b0]=Yr[E0]=Yr[pn]=Yr[va]=Yr[ma]=Yr[Zi]=Yr[cs]=Yr[us]=Yr[Za]=!1;function $i(ne){return xn(ne)&&Nr(ne.length)&&!!Yr[en(ne)]}function eo(ne){return function(d){return ne(d)}}var yi=typeof i=="object"&&i&&!i.nodeType&&i,fs=yi&&typeof g=="object"&&g&&!g.nodeType&&g,I0=fs&&fs.exports===yi,Sn=I0&&Sr.process,ni=function(){try{return Sn&&Sn.binding&&Sn.binding("util")}catch{}}(),ea=ni&&ni.isTypedArray,ya=ea?eo(ea):$i,ds=Object.prototype,Ci=ds.hasOwnProperty;function ou(ne,d){var k=jn(ne),_=!k&&Jn(ne),Ee=!k&&!_&&as(ne),Be=!k&&!_&&!Ee&&ya(ne),Me=k||_||Ee||Be,Ye=Me?wn(ne.length,String):[],et=Ye.length;for(var ft in ne)Ci.call(ne,ft)&&!(Me&&(ft=="length"||Ee&&(ft=="offset"||ft=="parent")||Be&&(ft=="buffer"||ft=="byteLength"||ft=="byteOffset")||m0(ft,et)))&&Ye.push(ft);return Ye}var fi=Object.prototype;function xs(ne){var d=ne&&ne.constructor,k=typeof d=="function"&&d.prototype||fi;return ne===k}function C0(ne,d){return function(k){return ne(d(k))}}var hs=C0(Object.keys,Object),ba=Object.prototype,ps=ba.hasOwnProperty;function k0(ne){if(!xs(ne))return hs(ne);var d=[];for(var k in Object(ne))ps.call(ne,k)&&k!="constructor"&&d.push(k);return d}function su(ne){return Dr(ne)?ou(ne):k0(ne)}function Ea(ne){var d=-1,k=ne.length;return function(){return++d<k?{value:ne[d],key:d}:null}}function cu(ne){var d=-1;return function(){var _=ne.next();return _.done?null:(d++,{value:_.value,key:d})}}function uu(ne){var d=su(ne),k=-1,_=d.length;return function(){var Be=d[++k];return k<_?{value:ne[Be],key:Be}:null}}function to(ne){if(Dr(ne))return Ea(ne);var d=dn(ne);return d?cu(d):uu(ne)}function wa(ne){return function(){if(ne===null)throw new Error("Callback was already called.");var d=ne;ne=null,d.apply(this,arguments)}}function ro(ne){return function(d,k,_){if(_=fn(_||zn),ne<=0||!d)return _(null);var Ee=to(d),Be=!1,Me=0;function Ye(ft,kt){if(Me-=1,ft)Be=!0,_(ft);else{if(kt===Wn||Be&&Me<=0)return Be=!0,_(null);et()}}function et(){for(;Me<ne&&!Be;){var ft=Ee();if(ft===null){Be=!0,Me<=0&&_(null);return}Me+=1,k(ft.value,ft.key,wa(Ye))}}et()}}function O0(ne,d,k,_){ro(d)(ne,k,_)}function _s(ne,d){return function(k,_,Ee){return ne(k,d,_,Ee)}}function lu(ne,d,k){k=fn(k||zn);var _=0,Ee=0,Be=ne.length;Be===0&&k(null);function Me(Ye,et){Ye?k(Ye):(++Ee===Be||et===Wn)&&k(null)}for(;_<Be;_++)d(ne[_],_,wa(Me))}var vs=_s(O0,1/0),no=function(ne,d,k){var _=Dr(ne)?lu:vs;_(ne,d,k)};function T0(ne){return function(d,k,_){return ne(no,d,k,_)}}function Sa(ne,d,k,_){_=_||zn,d=d||[];var Ee=[],Be=0;ne(d,function(Me,Ye,et){var ft=Be++;k(Me,function(kt,Ht){Ee[ft]=Ht,et(kt)})},function(Me){_(Me,Ee)})}var io=T0(Sa);tr(io);function ao(ne){return function(d,k,_,Ee){return ne(ro(k),d,_,Ee)}}var D0=ao(Sa),fu=_s(D0,1);tr(fu),It(function(ne,d){return It(function(k){return ne.apply(null,d.concat(k))})});function oo(ne,d){for(var k=-1,_=ne==null?0:ne.length;++k<_&&d(ne[k],k,ne)!==!1;);return ne}var so=typeof setImmediate=="function"&&setImmediate,co=typeof Te=="object"&&typeof Te.nextTick=="function";function uo(ne){setTimeout(ne,0)}function lo(ne){return It(function(d,k){ne(function(){d.apply(null,k)})})}var Dn;so?Dn=setImmediate:co?Dn=Te.nextTick:Dn=uo,lo(Dn);var Aa=_s(O0,1);function Ia(ne,d,k,_){_=fn(_||zn),Aa(ne,function(Ee,Be,Me){k(d,Ee,function(Ye,et){d=et,Me(Ye)})},function(Ee){_(Ee,d)})}var R0=It(function(d){return It(function(k){var _=this,Ee=k[k.length-1];typeof Ee=="function"?k.pop():Ee=zn,Ia(d,k,function(Be,Me,Ye){Me.apply(_,Be.concat(It(function(et,ft){Ye(et,ft)})))},function(Be,Me){Ee.apply(_,[Be].concat(Me))})})});It(function(ne){return R0.apply(null,ne.reverse())}),It(function(ne){var d=[null].concat(ne);return jt(function(k,_){return _.apply(this,d)})});function Ca(ne){return It(function(d,k){d.apply(null,k.concat(It(function(_,Ee){typeof console=="object"&&(_?console.error&&console.error(_):console[ne]&&oo(Ee,function(Be){console[ne](Be)}))})))})}Ca("dir");function F0(ne){return function(d,k,_){return ne(d,_)}}function ms(ne,d,k){no(ne,F0(d),k)}Ca("log");var zi;co?zi=Te.nextTick:so?zi=setImmediate:zi=uo,lo(zi);var qn;function ji(){qn||(qn={},qn[Dropbox.ApiError.NETWORK_ERROR]=_e.EIO,qn[Dropbox.ApiError.INVALID_PARAM]=_e.EINVAL,qn[Dropbox.ApiError.INVALID_TOKEN]=_e.EPERM,qn[Dropbox.ApiError.OAUTH_ERROR]=_e.EPERM,qn[Dropbox.ApiError.NOT_FOUND]=_e.ENOENT,qn[Dropbox.ApiError.INVALID_METHOD]=_e.EINVAL,qn[Dropbox.ApiError.NOT_ACCEPTABLE]=_e.EINVAL,qn[Dropbox.ApiError.CONFLICT]=_e.EINVAL,qn[Dropbox.ApiError.RATE_LIMITED]=_e.EBUSY,qn[Dropbox.ApiError.SERVER_ERROR]=_e.EBUSY,qn[Dropbox.ApiError.OVER_QUOTA]=_e.ENOSPC)}function gs(ne){return ne&&ne.stat.isFile}function ys(ne){return ne&&ne.stat.isFolder}function fo(ne){return ne==null||typeof ne=="object"&&typeof ne.byteLength=="number"}var kn=function(d){this._cache={},this._client=d};kn.prototype.readdir=function(d,k){var _=this,Ee=this.getCachedDirInfo(d);this._wrap(function(Be){Ee!==null&&Ee.contents?_._client.readdir(d,{contentHash:Ee.stat.contentHash},Be):_._client.readdir(d,Be)},function(Be,Me,Ye,et){Be?Be.status===Dropbox.ApiError.NO_CONTENT&&Ee!==null?k(null,Ee.contents.slice(0)):k(Be):(_.updateCachedDirInfo(d,Ye,Me.slice(0)),et.forEach(function(ft){_.updateCachedInfo(Oe.join(d,ft.name),ft)}),k(null,Me))})},kn.prototype.remove=function(d,k){var _=this;this._wrap(function(Ee){_._client.remove(d,Ee)},function(Ee,Be){Ee||_.updateCachedInfo(d,Be),k(Ee)})},kn.prototype.move=function(d,k,_){var Ee=this;this._wrap(function(Be){Ee._client.move(d,k,Be)},function(Be,Me){Be||(Ee.deleteCachedInfo(d),Ee.updateCachedInfo(k,Me)),_(Be)})},kn.prototype.stat=function(d,k){var _=this;this._wrap(function(Ee){_._client.stat(d,Ee)},function(Ee,Be){Ee||_.updateCachedInfo(d,Be),k(Ee,Be)})},kn.prototype.readFile=function(d,k){var _=this,Ee=this.getCachedFileInfo(d);Ee!==null&&Ee.contents!==null?this.stat(d,function(Be,Me){Be?k(Be):Me.contentHash===Ee.stat.contentHash?k(Be,Ee.contents.slice(0),Ee.stat):_.readFile(d,k)}):this._wrap(function(Be){_._client.readFile(d,{arrayBuffer:!0},Be)},function(Be,Me,Ye){Be||_.updateCachedInfo(d,Ye,Me.slice(0)),k(Be,Me,Ye)})},kn.prototype.writeFile=function(d,k,_){var Ee=this;this._wrap(function(Be){Ee._client.writeFile(d,k,Be)},function(Be,Me){Be||Ee.updateCachedInfo(d,Me,k.slice(0)),_(Be,Me)})},kn.prototype.mkdir=function(d,k){var _=this;this._wrap(function(Ee){_._client.mkdir(d,Ee)},function(Ee,Be){Ee||_.updateCachedInfo(d,Be,[]),k(Ee)})},kn.prototype._wrap=function(d,k){var _=0,Ee=function(Be){var Me=2;if(Be&&3>++_)switch(Be.status){case Dropbox.ApiError.SERVER_ERROR:case Dropbox.ApiError.NETWORK_ERROR:case Dropbox.ApiError.RATE_LIMITED:setTimeout(function(){d(Ee)},Me*1e3);break;default:k.apply(null,arguments);break}else k.apply(null,arguments)};d(Ee)},kn.prototype.getCachedInfo=function(d){return this._cache[d.toLowerCase()]},kn.prototype.putCachedInfo=function(d,k){this._cache[d.toLowerCase()]=k},kn.prototype.deleteCachedInfo=function(d){delete this._cache[d.toLowerCase()]},kn.prototype.getCachedDirInfo=function(d){var k=this.getCachedInfo(d);return ys(k)?k:null},kn.prototype.getCachedFileInfo=function(d){var k=this.getCachedInfo(d);return gs(k)?k:null},kn.prototype.updateCachedDirInfo=function(d,k,_){_===void 0&&(_=null);var Ee=this.getCachedInfo(d);k.contentHash!==null&&(Ee===void 0||Ee.stat.contentHash!==k.contentHash)&&this.putCachedInfo(d,{stat:k,contents:_})},kn.prototype.updateCachedFileInfo=function(d,k,_){_===void 0&&(_=null);var Ee=this.getCachedInfo(d);k.versionTag!==null&&(Ee===void 0||Ee.stat.versionTag!==k.versionTag)&&this.putCachedInfo(d,{stat:k,contents:_})},kn.prototype.updateCachedInfo=function(d,k,_){_===void 0&&(_=null),k.isFile&&fo(_)?this.updateCachedFileInfo(d,k,_):k.isFolder&&Array.isArray(_)&&this.updateCachedDirInfo(d,k,_)};var B0=function(ne){function d(k,_,Ee,Be,Me){ne.call(this,k,_,Ee,Be,Me)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.sync=function(_){var Ee=this;if(this.isDirty()){var Be=this.getBuffer(),Me=ct(Be);this._fs._writeFileStrict(this.getPath(),Me,function(Ye){Ye||Ee.resetDirty(),_(Ye)})}else _()},d.prototype.close=function(_){this.sync(_)},d}(pt),xo=function(ne){function d(k,_){_===void 0&&(_=!0),ne.call(this),this._client=new kn(k),Zt(_,d.Name,{client:"authenticated dropbox client instance"}),ji()}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.Create=function(_,Ee){Ee(null,new d(_.client,!1))},d.isAvailable=function(){return typeof Dropbox<"u"},d.prototype.getName=function(){return d.Name},d.prototype.isReadOnly=function(){return!1},d.prototype.supportsSymlinks=function(){return!1},d.prototype.supportsProps=function(){return!1},d.prototype.supportsSynch=function(){return!1},d.prototype.empty=function(_){var Ee=this;this._client.readdir("/",function(Be,Me){if(Be)_(Ee.convert(Be,"/"));else{var Ye=function(ft,kt){var Ht=Oe.join("/",ft);Ee._client.remove(Ht,function(ir){kt(ir?Ee.convert(ir,Ht):null)})},et=function(ft){ft?_(ft):_()};ms(Me,Ye,et)}})},d.prototype.rename=function(_,Ee,Be){var Me=this;this._client.move(_,Ee,function(Ye){Ye?Me._client.stat(Ee,function(et,ft){if(et||ft.isFolder){var kt=Ye.response.error.indexOf(_)>-1?_:Ee;Be(Me.convert(Ye,kt))}else Me._client.remove(Ee,function(Ht){Ht?Be(Me.convert(Ht,Ee)):Me.rename(_,Ee,Be)})}):Be()})},d.prototype.stat=function(_,Ee,Be){var Me=this;this._client.stat(_,function(Ye,et){if(Ye)Be(Me.convert(Ye,_));else if(et&&et.isRemoved)Be(Ae.FileError(_e.ENOENT,_));else{var ft=new Ue(Me._statType(et),et.size);return Be(null,ft)}})},d.prototype.open=function(_,Ee,Be,Me){var Ye=this;this._client.readFile(_,function(et,ft,kt){if(et)if(Ee.isReadable())Me(Ye.convert(et,_));else switch(et.status){case Dropbox.ApiError.NOT_FOUND:var Ht=new ArrayBuffer(0);return Ye._writeFileStrict(_,Ht,function(vr,qr){if(vr)Me(vr);else{var zr=Ye._makeFile(_,Ee,qr,Kt(Ht));Me(null,zr)}});default:return Me(Ye.convert(et,_))}else{var ir;ft===null?ir=cr():ir=Kt(ft);var _r=Ye._makeFile(_,Ee,kt,ir);return Me(null,_r)}})},d.prototype._writeFileStrict=function(_,Ee,Be){var Me=this,Ye=Oe.dirname(_);this.stat(Ye,!1,function(et,ft){et?Be(Ae.FileError(_e.ENOENT,Ye)):Me._client.writeFile(_,Ee,function(kt,Ht){kt?Be(Me.convert(kt,_)):Be(null,Ht)})})},d.prototype._statType=function(_){return _.isFile?Ve.FILE:Ve.DIRECTORY},d.prototype._makeFile=function(_,Ee,Be,Me){var Ye=this._statType(Be),et=new Ue(Ye,Be.size);return new B0(this,_,Ee,et,Me)},d.prototype._remove=function(_,Ee,Be){var Me=this;this._client.stat(_,function(Ye,et){Ye?Ee(Me.convert(Ye,_)):et.isFile&&!Be?Ee(Ae.FileError(_e.ENOTDIR,_)):!et.isFile&&Be?Ee(Ae.FileError(_e.EISDIR,_)):Me._client.remove(_,function(ft){Ee(ft?Me.convert(ft,_):null)})})},d.prototype.unlink=function(_,Ee){this._remove(_,Ee,!0)},d.prototype.rmdir=function(_,Ee){this._remove(_,Ee,!1)},d.prototype.mkdir=function(_,Ee,Be){var Me=this,Ye=Oe.dirname(_);this._client.stat(Ye,function(et,ft){et?Be(Me.convert(et,Ye)):Me._client.mkdir(_,function(kt){Be(kt?Ae.FileError(_e.EEXIST,_):null)})})},d.prototype.readdir=function(_,Ee){var Be=this;this._client.readdir(_,function(Me,Ye){return Me?Ee(Be.convert(Me)):Ee(null,Ye)})},d.prototype.convert=function(_,Ee){Ee===void 0&&(Ee=null);var Be=qn[_.status];return Be===void 0&&(Be=_e.EIO),Ee?Ae.FileError(Be,Ee):new Ae(Be)},d}(At);xo.Name="Dropbox",xo.Options={client:{type:"object",description:"An *authenticated* Dropbox client. Must be from the 0.10 JS SDK.",validator:function(ne,d){ne.isAuthenticated&&ne.isAuthenticated()?d():d(new Ae(_e.EINVAL,"'client' option must be an authenticated Dropbox client from the v0.10 JS SDK."))}}};function _n(ne,d){d===void 0&&(d="");for(var k=ne.errno,_=ne.node,Ee=[];_&&(Ee.unshift(_.name),_!==_.parent);)_=_.parent;return new Ae(k,De[k],Ee.length>0?"/"+Ee.join("/"):d)}var ho=function(ne){function d(k,_,Ee,Be){ne.call(this),this._fs=k,this._FS=_,this._path=Ee,this._stream=Be}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.getPos=function(){},d.prototype.close=function(_){var Ee=null;try{this.closeSync()}catch(Be){Ee=Be}finally{_(Ee)}},d.prototype.closeSync=function(){try{this._FS.close(this._stream)}catch(_){throw _n(_,this._path)}},d.prototype.stat=function(_){try{_(null,this.statSync())}catch(Ee){_(Ee)}},d.prototype.statSync=function(){try{return this._fs.statSync(this._path,!1)}catch(_){throw _n(_,this._path)}},d.prototype.truncate=function(_,Ee){var Be=null;try{this.truncateSync(_)}catch(Me){Be=Me}finally{Ee(Be)}},d.prototype.truncateSync=function(_){try{this._FS.ftruncate(this._stream.fd,_)}catch(Ee){throw _n(Ee,this._path)}},d.prototype.write=function(_,Ee,Be,Me,Ye){try{Ye(null,this.writeSync(_,Ee,Be,Me),_)}catch(et){Ye(et)}},d.prototype.writeSync=function(_,Ee,Be,Me){try{var Ye=dt(_),et=Me===null?void 0:Me;return this._FS.write(this._stream,Ye,Ee,Be,et)}catch(ft){throw _n(ft,this._path)}},d.prototype.read=function(_,Ee,Be,Me,Ye){try{Ye(null,this.readSync(_,Ee,Be,Me),_)}catch(et){Ye(et)}},d.prototype.readSync=function(_,Ee,Be,Me){try{var Ye=dt(_),et=Me===null?void 0:Me;return this._FS.read(this._stream,Ye,Ee,Be,et)}catch(ft){throw _n(ft,this._path)}},d.prototype.sync=function(_){_()},d.prototype.syncSync=function(){},d.prototype.chown=function(_,Ee,Be){var Me=null;try{this.chownSync(_,Ee)}catch(Ye){Me=Ye}finally{Be(Me)}},d.prototype.chownSync=function(_,Ee){try{this._FS.fchown(this._stream.fd,_,Ee)}catch(Be){throw _n(Be,this._path)}},d.prototype.chmod=function(_,Ee){var Be=null;try{this.chmodSync(_)}catch(Me){Be=Me}finally{Ee(Be)}},d.prototype.chmodSync=function(_){try{this._FS.fchmod(this._stream.fd,_)}catch(Ee){throw _n(Ee,this._path)}},d.prototype.utimes=function(_,Ee,Be){var Me=null;try{this.utimesSync(_,Ee)}catch(Ye){Me=Ye}finally{Be(Me)}},d.prototype.utimesSync=function(_,Ee){this._fs.utimesSync(this._path,_,Ee)},d}(xt),po=function(ne){function d(k){ne.call(this),this._FS=k}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.Create=function(_,Ee){Ee(null,new d(_.FS))},d.isAvailable=function(){return!0},d.prototype.getName=function(){return this._FS.DB_NAME()},d.prototype.isReadOnly=function(){return!1},d.prototype.supportsLinks=function(){return!0},d.prototype.supportsProps=function(){return!0},d.prototype.supportsSynch=function(){return!0},d.prototype.renameSync=function(_,Ee){try{this._FS.rename(_,Ee)}catch(Be){throw Be.errno===_e.ENOENT?_n(Be,this.existsSync(_)?Ee:_):_n(Be)}},d.prototype.statSync=function(_,Ee){try{var Be=Ee?this._FS.lstat(_):this._FS.stat(_),Me=this.modeToFileType(Be.mode);return new Ue(Me,Be.size,Be.mode,Be.atime,Be.mtime,Be.ctime)}catch(Ye){throw _n(Ye,_)}},d.prototype.openSync=function(_,Ee,Be){try{var Me=this._FS.open(_,Ee.getFlagString(),Be);if(this._FS.isDir(Me.node.mode))throw this._FS.close(Me),Ae.EISDIR(_);return new ho(this,this._FS,_,Me)}catch(Ye){throw _n(Ye,_)}},d.prototype.unlinkSync=function(_){try{this._FS.unlink(_)}catch(Ee){throw _n(Ee,_)}},d.prototype.rmdirSync=function(_){try{this._FS.rmdir(_)}catch(Ee){throw _n(Ee,_)}},d.prototype.mkdirSync=function(_,Ee){try{this._FS.mkdir(_,Ee)}catch(Be){throw _n(Be,_)}},d.prototype.readdirSync=function(_){try{return this._FS.readdir(_).filter(function(Ee){return Ee!=="."&&Ee!==".."})}catch(Ee){throw _n(Ee,_)}},d.prototype.truncateSync=function(_,Ee){try{this._FS.truncate(_,Ee)}catch(Be){throw _n(Be,_)}},d.prototype.readFileSync=function(_,Ee,Be){try{var Me=this._FS.readFile(_,{flags:Be.getFlagString()}),Ye=Ct(Me);return Ee?Ye.toString(Ee):Ye}catch(et){throw _n(et,_)}},d.prototype.writeFileSync=function(_,Ee,Be,Me,Ye){try{Be&&(Ee=f.from(Ee,Be));var et=dt(Ee);this._FS.writeFile(_,et,{flags:Me.getFlagString(),encoding:"binary"}),this._FS.chmod(_,Ye)}catch(ft){throw _n(ft,_)}},d.prototype.chmodSync=function(_,Ee,Be){try{Ee?this._FS.lchmod(_,Be):this._FS.chmod(_,Be)}catch(Me){throw _n(Me,_)}},d.prototype.chownSync=function(_,Ee,Be,Me){try{Ee?this._FS.lchown(_,Be,Me):this._FS.chown(_,Be,Me)}catch(Ye){throw _n(Ye,_)}},d.prototype.symlinkSync=function(_,Ee,Be){try{this._FS.symlink(_,Ee)}catch(Me){throw _n(Me)}},d.prototype.readlinkSync=function(_){try{return this._FS.readlink(_)}catch(Ee){throw _n(Ee,_)}},d.prototype.utimesSync=function(_,Ee,Be){try{this._FS.utime(_,Ee.getTime(),Be.getTime())}catch(Me){throw _n(Me,_)}},d.prototype.modeToFileType=function(_){if(this._FS.isDir(_))return Ve.DIRECTORY;if(this._FS.isFile(_))return Ve.FILE;if(this._FS.isLink(_))return Ve.SYMLINK;throw Ae.EPERM("Invalid mode: "+_)},d}(Wt);po.Name="EmscriptenFileSystem",po.Options={FS:{type:"object",description:"The Emscripten file system to use (the `FS` variable)"}};var ki=function(ne){function d(k,_){ne.call(this),this._folder=k,this._wrapped=_}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.Create=function(_,Ee){Ee(null,new d(_.folder,_.wrapped))},d.isAvailable=function(){return!0},d.prototype.initialize=function(_){var Ee=this;this._wrapped.exists(this._folder,function(Be){Be?_():Ee._wrapped.isReadOnly()?_(Ae.ENOENT(Ee._folder)):Ee._wrapped.mkdir(Ee._folder,511,_)})},d.prototype.getName=function(){return this._wrapped.getName()},d.prototype.isReadOnly=function(){return this._wrapped.isReadOnly()},d.prototype.supportsProps=function(){return this._wrapped.supportsProps()},d.prototype.supportsSynch=function(){return this._wrapped.supportsSynch()},d.prototype.supportsLinks=function(){return!1},d}(At);ki.Name="FolderAdapter",ki.Options={folder:{type:"string",description:"The folder to use as the root directory"},wrapped:{type:"object",description:"The file system to wrap"}};function _o(ne,d){if(d!==null&&typeof d=="object"){var k=d,_=k.path;_&&(_="/"+Oe.relative(ne,_),k.message=k.message.replace(k.path,_),k.path=_)}return d}function du(ne,d){return typeof d=="function"?function(k){arguments.length>0&&(arguments[0]=_o(ne,k)),d.apply(null,arguments)}:d}function bs(ne,d,k){return ne.slice(ne.length-4)!=="Sync"?function(){return arguments.length>0&&(arguments[0]=Oe.join(this._folder,arguments[0]),k&&(arguments[1]=Oe.join(this._folder,arguments[1])),arguments[arguments.length-1]=du(this._folder,arguments[arguments.length-1])),this._wrapped[ne].apply(this._wrapped,arguments)}:function(){try{return d&&(arguments[0]=Oe.join(this._folder,arguments[0])),k&&(arguments[1]=Oe.join(this._folder,arguments[1])),this._wrapped[ne].apply(this._wrapped,arguments)}catch(_){throw _o(this._folder,_)}}}["diskSpace","stat","statSync","open","openSync","unlink","unlinkSync","rmdir","rmdirSync","mkdir","mkdirSync","readdir","readdirSync","exists","existsSync","realpath","realpathSync","truncate","truncateSync","readFile","readFileSync","writeFile","writeFileSync","appendFile","appendFileSync","chmod","chmodSync","chown","chownSync","utimes","utimesSync","readlink","readlinkSync"].forEach(function(ne){ki.prototype[ne]=bs(ne,!0,!1)}),["rename","renameSync","link","linkSync","symlink","symlinkSync"].forEach(function(ne){ki.prototype[ne]=bs(ne,!0,!0)});var vo;typeof window<"u"?vo=window:typeof self<"u"?vo=self:vo=m;var bn=vo;function P0(ne){return ne.isDirectory}var Es=bn.webkitRequestFileSystem||bn.requestFileSystem||null;function q0(ne,d,k,_){if(typeof navigator.webkitPersistentStorage<"u")switch(ne){case bn.PERSISTENT:navigator.webkitPersistentStorage.requestQuota(d,k,_);break;case bn.TEMPORARY:navigator.webkitTemporaryStorage.requestQuota(d,k,_);break;default:_(new TypeError("Invalid storage type: "+ne));break}else bn.webkitStorageInfo.requestQuota(ne,d,k,_)}function ws(ne){return Array.prototype.slice.call(ne||[],0)}function ii(ne,d,k){switch(ne.name){case"PathExistsError":return Ae.EEXIST(d);case"QuotaExceededError":return Ae.FileError(_e.ENOSPC,d);case"NotFoundError":return Ae.ENOENT(d);case"SecurityError":return Ae.FileError(_e.EACCES,d);case"InvalidModificationError":return Ae.FileError(_e.EPERM,d);case"TypeMismatchError":return Ae.FileError(k?_e.ENOTDIR:_e.EISDIR,d);case"EncodingError":case"InvalidStateError":case"NoModificationAllowedError":default:return Ae.FileError(_e.EINVAL,d)}}var N0=function(ne){function d(k,_,Ee,Be,Me,Ye){ne.call(this,k,Ee,Be,Me,Ye),this._entry=_}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.sync=function(_){var Ee=this;if(!this.isDirty())return _();this._entry.createWriter(function(Be){var Me=Ee.getBuffer(),Ye=new Blob([ct(Me)]),et=Ye.size;Be.onwriteend=function(ft){Be.onwriteend=null,Be.onerror=null,Be.truncate(et),Ee.resetDirty(),_()},Be.onerror=function(ft){_(ii(ft,Ee.getPath(),!1))},Be.write(Ye)})},d.prototype.close=function(_){this.sync(_)},d}(pt),mo=function(ne){function d(k,_,Ee){k===void 0&&(k=5),_===void 0&&(_=bn.PERSISTENT),Ee===void 0&&(Ee=!0),ne.call(this),this.size=1024*1024*k,this.type=_,Zt(Ee,d.Name,{size:k,type:_})}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.Create=function(_,Ee){var Be=new d(_.size,_.type,!1);Be.allocate(function(Me){return Me?Ee(Me):Ee(null,Be)},!1)},d.isAvailable=function(){return!!Es},d.prototype.getName=function(){return d.Name},d.prototype.isReadOnly=function(){return!1},d.prototype.supportsSymlinks=function(){return!1},d.prototype.supportsProps=function(){return!1},d.prototype.supportsSynch=function(){return!1},d.prototype.allocate=function(_,Ee){var Be=this;_===void 0&&(_=function(){}),Ee===void 0&&(Ee=!0),Ee&&console.warn("[HTML5FS] HTML5FS.allocate() is deprecated and will be removed in the next major release. Please use 'HTML5FS.Create({type: "+this.type+", size: "+this.size+"}, cb)' to create and allocate HTML5FS instances.");var Me=function(et){Be.fs=et,_()},Ye=function(et){_(ii(et,"/",!0))};this.type===bn.PERSISTENT?q0(this.type,this.size,function(et){Es(Be.type,et,Me,Ye)},Ye):Es(this.type,this.size,Me,Ye)},d.prototype.empty=function(_){this._readdir("/",function(Ee,Be){if(Ee)console.error("Failed to empty FS"),_(Ee);else{var Me=function(et){Ee?(console.error("Failed to empty FS"),_(Ee)):_()},Ye=function(et,ft){var kt=function(){ft()},Ht=function(ir){ft(ii(ir,et.fullPath,!et.isDirectory))};P0(et)?et.removeRecursively(kt,Ht):et.remove(kt,Ht)};ms(Be,Ye,Me)}})},d.prototype.rename=function(_,Ee,Be){var Me=this,Ye=2,et=0,ft=this.fs.root,kt=_,Ht=function(_r){--Ye<=0&&Be(ii(_r,kt,!1))},ir=function(_r){if(++et===2)return Be(new Ae(_e.EINVAL,"Something was identified as both a file and a directory. This should never happen."));if(_===Ee)return Be();kt=Oe.dirname(Ee),ft.getDirectory(kt,{},function(vr){kt=Oe.basename(Ee),_r.moveTo(vr,kt,function(qr){Be()},function(qr){_r.isDirectory?(kt=Ee,Me.unlink(Ee,function(zr){zr?Ht(qr):Me.rename(_,Ee,Be)})):Ht(qr)})},Ht)};ft.getFile(_,{},ir,Ht),ft.getDirectory(_,{},ir,Ht)},d.prototype.stat=function(_,Ee,Be){var Me=this,Ye={create:!1},et=function(ir){var _r=function(vr){var qr=new Ue(Ve.FILE,vr.size);Be(null,qr)};ir.file(_r,kt)},ft=function(ir){var _r=4096,vr=new Ue(Ve.DIRECTORY,_r);Be(null,vr)},kt=function(ir){Be(ii(ir,_,!1))},Ht=function(){Me.fs.root.getDirectory(_,Ye,ft,kt)};this.fs.root.getFile(_,Ye,et,Ht)},d.prototype.open=function(_,Ee,Be,Me){var Ye=this,et=function(ft){ft.name==="InvalidModificationError"&&Ee.isExclusive()?Me(Ae.EEXIST(_)):Me(ii(ft,_,!1))};this.fs.root.getFile(_,{create:Ee.pathNotExistsAction()===Fe.CREATE_FILE,exclusive:Ee.isExclusive()},function(ft){ft.file(function(kt){var Ht=new FileReader;Ht.onloadend=function(ir){var _r=Ye._makeFile(_,ft,Ee,kt,Ht.result);Me(null,_r)},Ht.onerror=function(ir){et(Ht.error)},Ht.readAsArrayBuffer(kt)},et)},et)},d.prototype.unlink=function(_,Ee){this._remove(_,Ee,!0)},d.prototype.rmdir=function(_,Ee){var Be=this;this.readdir(_,function(Me,Ye){Me?Ee(Me):Ye.length>0?Ee(Ae.ENOTEMPTY(_)):Be._remove(_,Ee,!1)})},d.prototype.mkdir=function(_,Ee,Be){var Me={create:!0,exclusive:!0},Ye=function(ft){Be()},et=function(ft){Be(ii(ft,_,!0))};this.fs.root.getDirectory(_,Me,Ye,et)},d.prototype.readdir=function(_,Ee){this._readdir(_,function(Be,Me){if(Me){for(var Ye=[],et=0,ft=Me;et<ft.length;et+=1){var kt=ft[et];Ye.push(kt.name)}Ee(null,Ye)}else return Ee(Be)})},d.prototype._makeFile=function(_,Ee,Be,Me,Ye){Ye===void 0&&(Ye=new ArrayBuffer(0));var et=new Ue(Ve.FILE,Me.size),ft=Kt(Ye);return new N0(this,Ee,_,Be,et,ft)},d.prototype._readdir=function(_,Ee){var Be=function(Me){Ee(ii(Me,_,!0))};this.fs.root.getDirectory(_,{create:!1},function(Me){var Ye=Me.createReader(),et=[],ft=function(){Ye.readEntries(function(kt){kt.length?(et=et.concat(ws(kt)),ft()):Ee(null,et)},Be)};ft()},Be)},d.prototype._remove=function(_,Ee,Be){var Me=function(ft){var kt=function(){Ee()},Ht=function(ir){Ee(ii(ir,_,!Be))};ft.remove(kt,Ht)},Ye=function(ft){Ee(ii(ft,_,!Be))},et={create:!1};Be?this.fs.root.getFile(_,et,Me,Ye):this.fs.root.getDirectory(_,et,Me,Ye)},d}(At);mo.Name="HTML5FS",mo.Options={size:{type:"number",optional:!0,description:"Storage quota to request, in megabytes. Allocated value may be less. Defaults to 5."},type:{type:"number",optional:!0,description:"window.PERSISTENT or window.TEMPORARY. Defaults to PERSISTENT."}};var Hn=function(d,k,_,Ee,Be,Me){this.id=d,this.size=k,this.mode=_,this.atime=Ee,this.mtime=Be,this.ctime=Me};Hn.fromBuffer=function(d){if(d===void 0)throw new Error("NO");return new Hn(d.toString("ascii",30),d.readUInt32LE(0),d.readUInt16LE(4),d.readDoubleLE(6),d.readDoubleLE(14),d.readDoubleLE(22))},Hn.prototype.toStats=function(){return new Ue((this.mode&61440)===Ve.DIRECTORY?Ve.DIRECTORY:Ve.FILE,this.size,this.mode,new Date(this.atime),new Date(this.mtime),new Date(this.ctime))},Hn.prototype.getSize=function(){return 30+this.id.length},Hn.prototype.toBuffer=function(d){return d===void 0&&(d=f.alloc(this.getSize())),d.writeUInt32LE(this.size,0),d.writeUInt16LE(this.mode,4),d.writeDoubleLE(this.atime,6),d.writeDoubleLE(this.mtime,14),d.writeDoubleLE(this.ctime,22),d.write(this.id,30,this.id.length,"ascii"),d},Hn.prototype.update=function(d){var k=!1;this.size!==d.size&&(this.size=d.size,k=!0),this.mode!==d.mode&&(this.mode=d.mode,k=!0);var _=d.atime.getTime();this.atime!==_&&(this.atime=_,k=!0);var Ee=d.mtime.getTime();this.mtime!==Ee&&(this.mtime=Ee,k=!0);var Be=d.ctime.getTime();return this.ctime!==Be&&(this.ctime=Be,k=!0),k},Hn.prototype.isFile=function(){return(this.mode&61440)===Ve.FILE},Hn.prototype.isDirectory=function(){return(this.mode&61440)===Ve.DIRECTORY};var Oi="/",ta=null;function di(){return ta||(ta=f.from("{}"))}function mn(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(ne){var d=Math.random()*16|0,k=ne==="x"?d:d&3|8;return k.toString(16)})}function Nn(ne,d){return ne?(d(ne),!1):!0}function tn(ne,d,k){return ne?(d.abort(function(){k(ne)}),!1):!0}var bi=function(d){this.store=d,this.originalData={},this.modifiedKeys=[]};bi.prototype.get=function(d){var k=this.store.get(d);return this.stashOldValue(d,k),k},bi.prototype.put=function(d,k,_){return this.markModified(d),this.store.put(d,k,_)},bi.prototype.del=function(d){this.markModified(d),this.store.del(d)},bi.prototype.commit=function(){},bi.prototype.abort=function(){for(var d=this,k=0,_=d.modifiedKeys;k<_.length;k+=1){var Ee=_[k],Be=d.originalData[Ee];Be?d.store.put(Ee,Be,!0):d.store.del(Ee)}},bi.prototype.stashOldValue=function(d,k){this.originalData.hasOwnProperty(d)||(this.originalData[d]=k)},bi.prototype.markModified=function(d){this.modifiedKeys.indexOf(d)===-1&&(this.modifiedKeys.push(d),this.originalData.hasOwnProperty(d)||(this.originalData[d]=this.store.get(d)))};var go=function(ne){function d(k,_,Ee,Be,Me){ne.call(this,k,_,Ee,Be,Me)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this.getPath(),this.getBuffer(),this.getStats()),this.resetDirty())},d.prototype.closeSync=function(){this.syncSync()},d}(pt),Ss=function(ne){function d(k){ne.call(this),this.store=k.store,this.makeRootDirectory()}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.isAvailable=function(){return!0},d.prototype.getName=function(){return this.store.name()},d.prototype.isReadOnly=function(){return!1},d.prototype.supportsSymlinks=function(){return!1},d.prototype.supportsProps=function(){return!1},d.prototype.supportsSynch=function(){return!0},d.prototype.empty=function(){this.store.clear(),this.makeRootDirectory()},d.prototype.renameSync=function(_,Ee){var Be=this.store.beginTransaction("readwrite"),Me=Oe.dirname(_),Ye=Oe.basename(_),et=Oe.dirname(Ee),ft=Oe.basename(Ee),kt=this.findINode(Be,Me),Ht=this.getDirListing(Be,Me,kt);if(!Ht[Ye])throw Ae.ENOENT(_);var ir=Ht[Ye];if(delete Ht[Ye],(et+"/").indexOf(_+"/")===0)throw new Ae(_e.EBUSY,Me);var _r,vr;if(et===Me?(_r=kt,vr=Ht):(_r=this.findINode(Be,et),vr=this.getDirListing(Be,et,_r)),vr[ft]){var qr=this.getINode(Be,Ee,vr[ft]);if(qr.isFile())try{Be.del(qr.id),Be.del(vr[ft])}catch(zr){throw Be.abort(),zr}else throw Ae.EPERM(Ee)}vr[ft]=ir;try{Be.put(kt.id,f.from(JSON.stringify(Ht)),!0),Be.put(_r.id,f.from(JSON.stringify(vr)),!0)}catch(zr){throw Be.abort(),zr}Be.commit()},d.prototype.statSync=function(_,Ee){return this.findINode(this.store.beginTransaction("readonly"),_).toStats()},d.prototype.createFileSync=function(_,Ee,Be){var Me=this.store.beginTransaction("readwrite"),Ye=cr(),et=this.commitNewFile(Me,_,Ve.FILE,Be,Ye);return new go(this,_,Ee,et.toStats(),Ye)},d.prototype.openFileSync=function(_,Ee){var Be=this.store.beginTransaction("readonly"),Me=this.findINode(Be,_),Ye=Be.get(Me.id);if(Ye===void 0)throw Ae.ENOENT(_);return new go(this,_,Ee,Me.toStats(),Ye)},d.prototype.unlinkSync=function(_){this.removeEntry(_,!1)},d.prototype.rmdirSync=function(_){if(this.readdirSync(_).length>0)throw Ae.ENOTEMPTY(_);this.removeEntry(_,!0)},d.prototype.mkdirSync=function(_,Ee){var Be=this.store.beginTransaction("readwrite"),Me=f.from("{}");this.commitNewFile(Be,_,Ve.DIRECTORY,Ee,Me)},d.prototype.readdirSync=function(_){var Ee=this.store.beginTransaction("readonly");return Object.keys(this.getDirListing(Ee,_,this.findINode(Ee,_)))},d.prototype._syncSync=function(_,Ee,Be){var Me=this.store.beginTransaction("readwrite"),Ye=this._findINode(Me,Oe.dirname(_),Oe.basename(_)),et=this.getINode(Me,_,Ye),ft=et.update(Be);try{Me.put(et.id,Ee,!0),ft&&Me.put(Ye,et.toBuffer(),!0)}catch(kt){throw Me.abort(),kt}Me.commit()},d.prototype.makeRootDirectory=function(){var _=this.store.beginTransaction("readwrite");if(_.get(Oi)===void 0){var Ee=new Date().getTime(),Be=new Hn(mn(),4096,511|Ve.DIRECTORY,Ee,Ee,Ee);_.put(Be.id,di(),!1),_.put(Oi,Be.toBuffer(),!1),_.commit()}},d.prototype._findINode=function(_,Ee,Be){var Me=this,Ye=function(et){var ft=Me.getDirListing(_,Ee,et);if(ft[Be])return ft[Be];throw Ae.ENOENT(Oe.resolve(Ee,Be))};return Ee==="/"?Be===""?Oi:Ye(this.getINode(_,Ee,Oi)):Ye(this.getINode(_,Ee+Oe.sep+Be,this._findINode(_,Oe.dirname(Ee),Oe.basename(Ee))))},d.prototype.findINode=function(_,Ee){return this.getINode(_,Ee,this._findINode(_,Oe.dirname(Ee),Oe.basename(Ee)))},d.prototype.getINode=function(_,Ee,Be){var Me=_.get(Be);if(Me===void 0)throw Ae.ENOENT(Ee);return Hn.fromBuffer(Me)},d.prototype.getDirListing=function(_,Ee,Be){if(!Be.isDirectory())throw Ae.ENOTDIR(Ee);var Me=_.get(Be.id);if(Me===void 0)throw Ae.ENOENT(Ee);return JSON.parse(Me.toString())},d.prototype.addNewNode=function(_,Ee){for(var Be=0,Me;Be<5;)try{return Me=mn(),_.put(Me,Ee,!1),Me}catch{}throw new Ae(_e.EIO,"Unable to commit data to key-value store.")},d.prototype.commitNewFile=function(_,Ee,Be,Me,Ye){var et=Oe.dirname(Ee),ft=Oe.basename(Ee),kt=this.findINode(_,et),Ht=this.getDirListing(_,et,kt),ir=new Date().getTime();if(Ee==="/"||Ht[ft])throw Ae.EEXIST(Ee);var _r;try{var vr=this.addNewNode(_,Ye);_r=new Hn(vr,Ye.length,Me|Be,ir,ir,ir);var qr=this.addNewNode(_,_r.toBuffer());Ht[ft]=qr,_.put(kt.id,f.from(JSON.stringify(Ht)),!0)}catch(zr){throw _.abort(),zr}return _.commit(),_r},d.prototype.removeEntry=function(_,Ee){var Be=this.store.beginTransaction("readwrite"),Me=Oe.dirname(_),Ye=this.findINode(Be,Me),et=this.getDirListing(Be,Me,Ye),ft=Oe.basename(_);if(!et[ft])throw Ae.ENOENT(_);var kt=et[ft];delete et[ft];var Ht=this.getINode(Be,_,kt);if(!Ee&&Ht.isDirectory())throw Ae.EISDIR(_);if(Ee&&!Ht.isDirectory())throw Ae.ENOTDIR(_);try{Be.del(Ht.id),Be.del(kt),Be.put(Ye.id,f.from(JSON.stringify(et)),!0)}catch(ir){throw Be.abort(),ir}Be.commit()},d}(Wt),Ti=function(ne){function d(k,_,Ee,Be,Me){ne.call(this,k,_,Ee,Be,Me)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.sync=function(_){var Ee=this;this.isDirty()?this._fs._sync(this.getPath(),this.getBuffer(),this.getStats(),function(Be){Be||Ee.resetDirty(),_(Be)}):_()},d.prototype.close=function(_){this.sync(_)},d}(pt),As=function(ne){function d(){ne.apply(this,arguments)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.isAvailable=function(){return!0},d.prototype.init=function(_,Ee){this.store=_,this.makeRootDirectory(Ee)},d.prototype.getName=function(){return this.store.name()},d.prototype.isReadOnly=function(){return!1},d.prototype.supportsSymlinks=function(){return!1},d.prototype.supportsProps=function(){return!1},d.prototype.supportsSynch=function(){return!1},d.prototype.empty=function(_){var Ee=this;this.store.clear(function(Be){Nn(Be,_)&&Ee.makeRootDirectory(_)})},d.prototype.rename=function(_,Ee,Be){var Me=this,Ye=this.store.beginTransaction("readwrite"),et=Oe.dirname(_),ft=Oe.basename(_),kt=Oe.dirname(Ee),Ht=Oe.basename(Ee),ir={},_r={},vr=!1;if((kt+"/").indexOf(_+"/")===0)return Be(new Ae(_e.EBUSY,et));var qr=function(){if(!(vr||!_r.hasOwnProperty(et)||!_r.hasOwnProperty(kt))){var Wr=_r[et],En=ir[et],Mn=_r[kt],Fi=ir[kt];if(!Wr[ft])Be(Ae.ENOENT(_));else{var Bi=Wr[ft];delete Wr[ft];var Ao=function(){Mn[Ht]=Bi,Ye.put(En.id,f.from(JSON.stringify(Wr)),!0,function(Wi){tn(Wi,Ye,Be)&&(et===kt?Ye.commit(Be):Ye.put(Fi.id,f.from(JSON.stringify(Mn)),!0,function(Ki){tn(Ki,Ye,Be)&&Ye.commit(Be)}))})};Mn[Ht]?Me.getINode(Ye,Ee,Mn[Ht],function(Wi,Ki){tn(Wi,Ye,Be)&&(Ki.isFile()?Ye.del(Ki.id,function(ul){tn(ul,Ye,Be)&&Ye.del(Mn[Ht],function(Vf){tn(Vf,Ye,Be)&&Ao()})}):Ye.abort(function(ul){Be(Ae.EPERM(Ee))}))}):Ao()}}},zr=function(Wr){Me.findINodeAndDirListing(Ye,Wr,function(En,Mn,Fi){En?vr||(vr=!0,Ye.abort(function(){Be(En)})):(ir[Wr]=Mn,_r[Wr]=Fi,qr())})};zr(et),et!==kt&&zr(kt)},d.prototype.stat=function(_,Ee,Be){var Me=this.store.beginTransaction("readonly");this.findINode(Me,_,function(Ye,et){Nn(Ye,Be)&&Be(null,et.toStats())})},d.prototype.createFile=function(_,Ee,Be,Me){var Ye=this,et=this.store.beginTransaction("readwrite"),ft=cr();this.commitNewFile(et,_,Ve.FILE,Be,ft,function(kt,Ht){Nn(kt,Me)&&Me(null,new Ti(Ye,_,Ee,Ht.toStats(),ft))})},d.prototype.openFile=function(_,Ee,Be){var Me=this,Ye=this.store.beginTransaction("readonly");this.findINode(Ye,_,function(et,ft){Nn(et,Be)&&Ye.get(ft.id,function(kt,Ht){Nn(kt,Be)&&(Ht===void 0?Be(Ae.ENOENT(_)):Be(null,new Ti(Me,_,Ee,ft.toStats(),Ht)))})})},d.prototype.unlink=function(_,Ee){this.removeEntry(_,!1,Ee)},d.prototype.rmdir=function(_,Ee){var Be=this;this.readdir(_,function(Me,Ye){Me?Ee(Me):Ye.length>0?Ee(Ae.ENOTEMPTY(_)):Be.removeEntry(_,!0,Ee)})},d.prototype.mkdir=function(_,Ee,Be){var Me=this.store.beginTransaction("readwrite"),Ye=f.from("{}");this.commitNewFile(Me,_,Ve.DIRECTORY,Ee,Ye,Be)},d.prototype.readdir=function(_,Ee){var Be=this,Me=this.store.beginTransaction("readonly");this.findINode(Me,_,function(Ye,et){Nn(Ye,Ee)&&Be.getDirListing(Me,_,et,function(ft,kt){Nn(ft,Ee)&&Ee(null,Object.keys(kt))})})},d.prototype._sync=function(_,Ee,Be,Me){var Ye=this,et=this.store.beginTransaction("readwrite");this._findINode(et,Oe.dirname(_),Oe.basename(_),function(ft,kt){tn(ft,et,Me)&&Ye.getINode(et,_,kt,function(Ht,ir){if(tn(Ht,et,Me)){var _r=ir.update(Be);et.put(ir.id,Ee,!0,function(vr){tn(vr,et,Me)&&(_r?et.put(kt,ir.toBuffer(),!0,function(qr){tn(qr,et,Me)&&et.commit(Me)}):et.commit(Me))})}})})},d.prototype.makeRootDirectory=function(_){var Ee=this.store.beginTransaction("readwrite");Ee.get(Oi,function(Be,Me){if(Be||Me===void 0){var Ye=new Date().getTime(),et=new Hn(mn(),4096,511|Ve.DIRECTORY,Ye,Ye,Ye);Ee.put(et.id,di(),!1,function(ft){tn(ft,Ee,_)&&Ee.put(Oi,et.toBuffer(),!1,function(kt){kt?Ee.abort(function(){_(kt)}):Ee.commit(_)})})}else Ee.commit(_)})},d.prototype._findINode=function(_,Ee,Be,Me){var Ye=this,et=function(ft,kt,Ht){ft?Me(ft):Ht[Be]?Me(null,Ht[Be]):Me(Ae.ENOENT(Oe.resolve(Ee,Be)))};Ee==="/"?Be===""?Me(null,Oi):this.getINode(_,Ee,Oi,function(ft,kt){Nn(ft,Me)&&Ye.getDirListing(_,Ee,kt,function(Ht,ir){et(Ht,kt,ir)})}):this.findINodeAndDirListing(_,Ee,et)},d.prototype.findINode=function(_,Ee,Be){var Me=this;this._findINode(_,Oe.dirname(Ee),Oe.basename(Ee),function(Ye,et){Nn(Ye,Be)&&Me.getINode(_,Ee,et,Be)})},d.prototype.getINode=function(_,Ee,Be,Me){_.get(Be,function(Ye,et){Nn(Ye,Me)&&(et===void 0?Me(Ae.ENOENT(Ee)):Me(null,Hn.fromBuffer(et)))})},d.prototype.getDirListing=function(_,Ee,Be,Me){Be.isDirectory()?_.get(Be.id,function(Ye,et){if(Nn(Ye,Me))try{Me(null,JSON.parse(et.toString()))}catch{Me(Ae.ENOENT(Ee))}}):Me(Ae.ENOTDIR(Ee))},d.prototype.findINodeAndDirListing=function(_,Ee,Be){var Me=this;this.findINode(_,Ee,function(Ye,et){Nn(Ye,Be)&&Me.getDirListing(_,Ee,et,function(ft,kt){Nn(ft,Be)&&Be(null,et,kt)})})},d.prototype.addNewNode=function(_,Ee,Be){var Me=0,Ye,et=function(){++Me===5?Be(new Ae(_e.EIO,"Unable to commit data to key-value store.")):(Ye=mn(),_.put(Ye,Ee,!1,function(ft,kt){ft||!kt?et():Be(null,Ye)}))};et()},d.prototype.commitNewFile=function(_,Ee,Be,Me,Ye,et){var ft=this,kt=Oe.dirname(Ee),Ht=Oe.basename(Ee),ir=new Date().getTime();if(Ee==="/")return et(Ae.EEXIST(Ee));this.findINodeAndDirListing(_,kt,function(_r,vr,qr){tn(_r,_,et)&&(qr[Ht]?_.abort(function(){et(Ae.EEXIST(Ee))}):ft.addNewNode(_,Ye,function(zr,Wr){if(tn(zr,_,et)){var En=new Hn(Wr,Ye.length,Me|Be,ir,ir,ir);ft.addNewNode(_,En.toBuffer(),function(Mn,Fi){tn(Mn,_,et)&&(qr[Ht]=Fi,_.put(vr.id,f.from(JSON.stringify(qr)),!0,function(Bi){tn(Bi,_,et)&&_.commit(function(Ao){tn(Ao,_,et)&&et(null,En)})}))})}}))})},d.prototype.removeEntry=function(_,Ee,Be){var Me=this,Ye=this.store.beginTransaction("readwrite"),et=Oe.dirname(_),ft=Oe.basename(_);this.findINodeAndDirListing(Ye,et,function(kt,Ht,ir){if(tn(kt,Ye,Be))if(!ir[ft])Ye.abort(function(){Be(Ae.ENOENT(_))});else{var _r=ir[ft];delete ir[ft],Me.getINode(Ye,_,_r,function(vr,qr){tn(vr,Ye,Be)&&(!Ee&&qr.isDirectory()?Ye.abort(function(){Be(Ae.EISDIR(_))}):Ee&&!qr.isDirectory()?Ye.abort(function(){Be(Ae.ENOTDIR(_))}):Ye.del(qr.id,function(zr){tn(zr,Ye,Be)&&Ye.del(_r,function(Wr){tn(Wr,Ye,Be)&&Ye.put(Ht.id,f.from(JSON.stringify(ir)),!0,function(En){tn(En,Ye,Be)&&Ye.commit(Be)})})}))})}})},d}(At),Xn=function(){this.store={}};Xn.prototype.name=function(){return Kn.Name},Xn.prototype.clear=function(){this.store={}},Xn.prototype.beginTransaction=function(d){return new bi(this)},Xn.prototype.get=function(d){return this.store[d]},Xn.prototype.put=function(d,k,_){return!_&&this.store.hasOwnProperty(d)?!1:(this.store[d]=k,!0)},Xn.prototype.del=function(d){delete this.store[d]};var Kn=function(ne){function d(){ne.call(this,{store:new Xn})}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.Create=function(_,Ee){Ee(null,new d)},d}(Ss);Kn.Name="InMemory",Kn.Options={};var yo=bn.indexedDB||bn.mozIndexedDB||bn.webkitIndexedDB||bn.msIndexedDB;function Re(ne,d){switch(d===void 0&&(d=ne.toString()),ne.name){case"NotFoundError":return new Ae(_e.ENOENT,d);case"QuotaExceededError":return new Ae(_e.ENOSPC,d);default:return new Ae(_e.EIO,d)}}function Le(ne,d,k){return d===void 0&&(d=_e.EIO),k===void 0&&(k=null),function(_){_.preventDefault(),ne(new Ae(d,k!==null?k:void 0))}}var je=function(d,k){this.tx=d,this.store=k};je.prototype.get=function(d,k){try{var _=this.store.get(d);_.onerror=Le(k),_.onsuccess=function(Ee){var Be=Ee.target.result;Be===void 0?k(null,Be):k(null,Kt(Be))}}catch(Ee){k(Re(Ee))}};var Qe=function(ne){function d(k,_){ne.call(this,k,_)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.put=function(_,Ee,Be,Me){try{var Ye=ct(Ee),et;Be?et=this.store.put(Ye,_):et=this.store.add(Ye,_),et.onerror=Le(Me),et.onsuccess=function(ft){Me(null,!0)}}catch(ft){Me(Re(ft))}},d.prototype.del=function(_,Ee){try{var Be=this.store.delete(_);Be.onerror=Le(Ee),Be.onsuccess=function(Me){Ee()}}catch(Me){Ee(Re(Me))}},d.prototype.commit=function(_){setTimeout(_,0)},d.prototype.abort=function(_){var Ee=null;try{this.tx.abort()}catch(Be){Ee=Re(Be)}finally{_(Ee)}},d}(je),$e=function(d,k){var _=this;k===void 0&&(k="browserfs"),this.storeName=k;var Ee=yo.open(this.storeName,1);Ee.onupgradeneeded=function(Be){var Me=Be.target.result;Me.objectStoreNames.contains(_.storeName)&&Me.deleteObjectStore(_.storeName),Me.createObjectStore(_.storeName)},Ee.onsuccess=function(Be){_.db=Be.target.result,d(null,_)},Ee.onerror=Le(d,_e.EACCES)};$e.prototype.name=function(){return st.Name+" - "+this.storeName},$e.prototype.clear=function(d){try{var k=this.db.transaction(this.storeName,"readwrite"),_=k.objectStore(this.storeName),Ee=_.clear();Ee.onsuccess=function(Be){setTimeout(d,0)},Ee.onerror=Le(d)}catch(Be){d(Re(Be))}},$e.prototype.beginTransaction=function(d){d===void 0&&(d="readonly");var k=this.db.transaction(this.storeName,d),_=k.objectStore(this.storeName);if(d==="readwrite")return new Qe(k,_);if(d==="readonly")return new je(k,_);throw new Ae(_e.EINVAL,"Invalid transaction type.")};var st=function(ne){function d(k,_,Ee){var Be=this;Ee===void 0&&(Ee=!0),ne.call(this),this.store=new $e(function(Me){Me?k(Me):Be.init(Be.store,function(Ye){k(Ye,Be)})},_),Zt(Ee,d.Name,{storeName:_})}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.Create=function(_,Ee){new d(Ee,_.storeName,!1)},d.isAvailable=function(){try{return typeof yo<"u"&&yo.open("__browserfs_test__")!==null}catch{return!1}},d}(As);st.Name="IndexedDB",st.Options={storeName:{type:"string",optional:!0,description:"The name of this file system. You can have multiple IndexedDB file systems operating at once, but each must have a different name."}};var _t=!1,wt;try{bn.localStorage.setItem("__test__",String.fromCharCode(55296)),_t=bn.localStorage.getItem("__test__")===String.fromCharCode(55296)}catch{_t=!1}wt=_t?"binary_string":"binary_string_ie",f.isEncoding(wt)||(wt="base64");var Rt=function(){};Rt.prototype.name=function(){return Tt.Name},Rt.prototype.clear=function(){bn.localStorage.clear()},Rt.prototype.beginTransaction=function(d){return new bi(this)},Rt.prototype.get=function(d){try{var k=bn.localStorage.getItem(d);if(k!==null)return f.from(k,wt)}catch{}},Rt.prototype.put=function(d,k,_){try{return!_&&bn.localStorage.getItem(d)!==null?!1:(bn.localStorage.setItem(d,k.toString(wt)),!0)}catch{throw new Ae(_e.ENOSPC,"LocalStorage is full.")}},Rt.prototype.del=function(d){try{bn.localStorage.removeItem(d)}catch(k){throw new Ae(_e.EIO,"Unable to delete key "+d+": "+k)}};var Tt=function(ne){function d(){ne.call(this,{store:new Rt})}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.Create=function(_,Ee){Ee(null,new d)},d.isAvailable=function(){return typeof bn.localStorage<"u"},d}(Ss);Tt.Name="LocalStorage",Tt.Options={};var Mt=function(ne){function d(){ne.call(this),this.mountList=[],this.mntMap={},this.rootFs=new Kn}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.Create=function(_,Ee){var Be=new d;Object.keys(_).forEach(function(Me){Be.mount(Me,_[Me])}),Ee(null,Be)},d.isAvailable=function(){return!0},d.prototype.mount=function(_,Ee){if(_[0]!=="/"&&(_="/"+_),_=Oe.resolve(_),this.mntMap[_])throw new Ae(_e.EINVAL,"Mount point "+_+" is already taken.");St(_,511,this.rootFs),this.mntMap[_]=Ee,this.mountList.push(_),this.mountList=this.mountList.sort(function(Be,Me){return Me.length-Be.length})},d.prototype.umount=function(_){var Ee=this;if(_[0]!=="/"&&(_="/"+_),_=Oe.resolve(_),!this.mntMap[_])throw new Ae(_e.EINVAL,"Mount point "+_+" is already unmounted.");for(delete this.mntMap[_],this.mountList.splice(this.mountList.indexOf(_),1);_!=="/"&&Ee.rootFs.readdirSync(_).length===0;)Ee.rootFs.rmdirSync(_),_=Oe.dirname(_)},d.prototype._getFs=function(_){for(var Ee=this,Be=this.mountList,Me=Be.length,Ye=0;Ye<Me;Ye++){var et=Be[Ye];if(et.length<=_.length&&_.indexOf(et)===0)return _=_.substr(et.length>1?et.length:0),_===""&&(_="/"),{fs:Ee.mntMap[et],path:_}}return{fs:this.rootFs,path:_}},d.prototype.getName=function(){return d.Name},d.prototype.diskSpace=function(_,Ee){Ee(0,0)},d.prototype.isReadOnly=function(){return!1},d.prototype.supportsLinks=function(){return!1},d.prototype.supportsProps=function(){return!1},d.prototype.supportsSynch=function(){return!0},d.prototype.standardizeError=function(_,Ee,Be){var Me=_.message.indexOf(Ee);return Me!==-1&&(_.message=_.message.substr(0,Me)+Be+_.message.substr(Me+Ee.length),_.path=Be),_},d.prototype.rename=function(_,Ee,Be){var Me=this,Ye=this._getFs(_),et=this._getFs(Ee);return Ye.fs===et.fs?Ye.fs.rename(Ye.path,et.path,function(ft){ft&&Me.standardizeError(Me.standardizeError(ft,Ye.path,_),et.path,Ee),Be(ft)}):it.readFile(_,function(ft,kt){if(ft)return Be(ft);it.writeFile(Ee,kt,function(Ht){if(Ht)return Be(Ht);it.unlink(_,Be)})})},d.prototype.renameSync=function(_,Ee){var Be=this._getFs(_),Me=this._getFs(Ee);if(Be.fs===Me.fs)try{return Be.fs.renameSync(Be.path,Me.path)}catch(et){throw this.standardizeError(this.standardizeError(et,Be.path,_),Me.path,Ee),et}var Ye=it.readFileSync(_);return it.writeFileSync(Ee,Ye),it.unlinkSync(_)},d.prototype.readdirSync=function(_){var Ee=this._getFs(_),Be=null;if(Ee.fs!==this.rootFs)try{Be=this.rootFs.readdirSync(_)}catch{}try{var Me=Ee.fs.readdirSync(Ee.path);return Be===null?Me:Me.concat(Be.filter(function(Ye){return Me.indexOf(Ye)===-1}))}catch(Ye){if(Be===null)throw this.standardizeError(Ye,Ee.path,_);return Be}},d.prototype.readdir=function(_,Ee){var Be=this,Me=this._getFs(_);Me.fs.readdir(Me.path,function(Ye,et){if(Me.fs!==Be.rootFs)try{var ft=Be.rootFs.readdirSync(_);et?et=et.concat(ft.filter(function(kt){return et.indexOf(kt)===-1})):et=ft}catch{if(Ye)return Ee(Be.standardizeError(Ye,Me.path,_))}else if(Ye)return Ee(Be.standardizeError(Ye,Me.path,_));Ee(null,et)})},d.prototype.rmdirSync=function(_){var Ee=this._getFs(_);if(this._containsMountPt(_))throw Ae.ENOTEMPTY(_);try{Ee.fs.rmdirSync(Ee.path)}catch(Be){throw this.standardizeError(Be,Ee.path,_)}},d.prototype.rmdir=function(_,Ee){var Be=this,Me=this._getFs(_);this._containsMountPt(_)?Ee(Ae.ENOTEMPTY(_)):Me.fs.rmdir(Me.path,function(Ye){Ee(Ye?Be.standardizeError(Ye,Me.path,_):null)})},d.prototype._containsMountPt=function(_){for(var Ee=this.mountList,Be=Ee.length,Me=0;Me<Be;Me++){var Ye=Ee[Me];if(Ye.length>=_.length&&Ye.slice(0,_.length)===_)return!0}return!1},d}(At);Mt.Name="MountableFileSystem",Mt.Options={};function Ot(ne,d,k){return d?function(){for(var _=[],Ee=arguments.length;Ee--;)_[Ee]=arguments[Ee];var Be=_[0],Me=this._getFs(Be);_[0]=Me.path;try{return Me.fs[ne].apply(Me.fs,_)}catch(Ye){throw this.standardizeError(Ye,Me.path,Be),Ye}}:function(){for(var _=this,Ee=[],Be=arguments.length;Be--;)Ee[Be]=arguments[Be];var Me=Ee[0],Ye=this._getFs(Me);if(Ee[0]=Ye.path,typeof Ee[Ee.length-1]=="function"){var et=Ee[Ee.length-1];Ee[Ee.length-1]=function(){for(var ft=[],kt=arguments.length;kt--;)ft[kt]=arguments[kt];ft.length>0&&ft[0]instanceof Ae&&_.standardizeError(ft[0],Ye.path,Me),et.apply(null,ft)}}return Ye.fs[ne].apply(Ye.fs,Ee)}}for(var Ut=[["exists","unlink","readlink"],["stat","mkdir","realpath","truncate"],["open","readFile","chmod","utimes"],["chown"],["writeFile","appendFile"]],Pt=0;Pt<Ut.length;Pt++)for(var Lt=Ut[Pt],Vt=0,qt=Lt;Vt<qt.length;Vt+=1){var Gt=qt[Vt];Mt.prototype[Gt]=Ot(Gt,!1),Mt.prototype[Gt+"Sync"]=Ot(Gt+"Sync",!0)}var Qt;if(typeof setImmediate<"u")Qt=setImmediate;else{var Yt=bn,rr=[],xr="zero-timeout-message",Ir=function(){if(typeof Yt.importScripts<"u"||!Yt.postMessage)return!1;var ne=!0,d=Yt.onmessage;return Yt.onmessage=function(){ne=!1},Yt.postMessage("","*"),Yt.onmessage=d,ne};if(Ir()){Qt=function(ne){rr.push(ne),Yt.postMessage(xr,"*")};var hr=function(ne){if(ne.source===self&&ne.data===xr&&(ne.stopPropagation?ne.stopPropagation():ne.cancelBubble=!0,rr.length>0)){var d=rr.shift();return d()}};Yt.addEventListener?Yt.addEventListener("message",hr,!0):Yt.attachEvent("onmessage",hr)}else if(Yt.MessageChannel){var br=new Yt.MessageChannel;br.port1.onmessage=function(ne){if(rr.length>0)return rr.shift()()},Qt=function(ne){rr.push(ne),br.port2.postMessage("")}}else Qt=function(ne){return setTimeout(ne,0)}}var Ar=Qt,lr=function(){this._locked=!1,this._waiters=[]};lr.prototype.lock=function(d){if(this._locked){this._waiters.push(d);return}this._locked=!0,d()},lr.prototype.unlock=function(){if(!this._locked)throw new Error("unlock of a non-locked mutex");var d=this._waiters.shift();if(d){Ar(d);return}this._locked=!1},lr.prototype.tryLock=function(){return this._locked?!1:(this._locked=!0,!0)},lr.prototype.isLocked=function(){return this._locked};var pr=function(d){this._fs=d,this._mu=new lr};pr.prototype.getName=function(){return"LockedFS<"+this._fs.getName()+">"},pr.prototype.getFSUnlocked=function(){return this._fs},pr.prototype.initialize=function(d){this._fs.initialize(d)},pr.prototype.diskSpace=function(d,k){this._fs.diskSpace(d,k)},pr.prototype.isReadOnly=function(){return this._fs.isReadOnly()},pr.prototype.supportsLinks=function(){return this._fs.supportsLinks()},pr.prototype.supportsProps=function(){return this._fs.supportsProps()},pr.prototype.supportsSynch=function(){return this._fs.supportsSynch()},pr.prototype.rename=function(d,k,_){var Ee=this;this._mu.lock(function(){Ee._fs.rename(d,k,function(Be){Ee._mu.unlock(),_(Be)})})},pr.prototype.renameSync=function(d,k){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.renameSync(d,k)},pr.prototype.stat=function(d,k,_){var Ee=this;this._mu.lock(function(){Ee._fs.stat(d,k,function(Be,Me){Ee._mu.unlock(),_(Be,Me)})})},pr.prototype.statSync=function(d,k){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.statSync(d,k)},pr.prototype.open=function(d,k,_,Ee){var Be=this;this._mu.lock(function(){Be._fs.open(d,k,_,function(Me,Ye){Be._mu.unlock(),Ee(Me,Ye)})})},pr.prototype.openSync=function(d,k,_){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.openSync(d,k,_)},pr.prototype.unlink=function(d,k){var _=this;this._mu.lock(function(){_._fs.unlink(d,function(Ee){_._mu.unlock(),k(Ee)})})},pr.prototype.unlinkSync=function(d){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.unlinkSync(d)},pr.prototype.rmdir=function(d,k){var _=this;this._mu.lock(function(){_._fs.rmdir(d,function(Ee){_._mu.unlock(),k(Ee)})})},pr.prototype.rmdirSync=function(d){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.rmdirSync(d)},pr.prototype.mkdir=function(d,k,_){var Ee=this;this._mu.lock(function(){Ee._fs.mkdir(d,k,function(Be){Ee._mu.unlock(),_(Be)})})},pr.prototype.mkdirSync=function(d,k){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.mkdirSync(d,k)},pr.prototype.readdir=function(d,k){var _=this;this._mu.lock(function(){_._fs.readdir(d,function(Ee,Be){_._mu.unlock(),k(Ee,Be)})})},pr.prototype.readdirSync=function(d){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readdirSync(d)},pr.prototype.exists=function(d,k){var _=this;this._mu.lock(function(){_._fs.exists(d,function(Ee){_._mu.unlock(),k(Ee)})})},pr.prototype.existsSync=function(d){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.existsSync(d)},pr.prototype.realpath=function(d,k,_){var Ee=this;this._mu.lock(function(){Ee._fs.realpath(d,k,function(Be,Me){Ee._mu.unlock(),_(Be,Me)})})},pr.prototype.realpathSync=function(d,k){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.realpathSync(d,k)},pr.prototype.truncate=function(d,k,_){var Ee=this;this._mu.lock(function(){Ee._fs.truncate(d,k,function(Be){Ee._mu.unlock(),_(Be)})})},pr.prototype.truncateSync=function(d,k){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.truncateSync(d,k)},pr.prototype.readFile=function(d,k,_,Ee){var Be=this;this._mu.lock(function(){Be._fs.readFile(d,k,_,function(Me,Ye){Be._mu.unlock(),Ee(Me,Ye)})})},pr.prototype.readFileSync=function(d,k,_){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readFileSync(d,k,_)},pr.prototype.writeFile=function(d,k,_,Ee,Be,Me){var Ye=this;this._mu.lock(function(){Ye._fs.writeFile(d,k,_,Ee,Be,function(et){Ye._mu.unlock(),Me(et)})})},pr.prototype.writeFileSync=function(d,k,_,Ee,Be){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.writeFileSync(d,k,_,Ee,Be)},pr.prototype.appendFile=function(d,k,_,Ee,Be,Me){var Ye=this;this._mu.lock(function(){Ye._fs.appendFile(d,k,_,Ee,Be,function(et){Ye._mu.unlock(),Me(et)})})},pr.prototype.appendFileSync=function(d,k,_,Ee,Be){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.appendFileSync(d,k,_,Ee,Be)},pr.prototype.chmod=function(d,k,_,Ee){var Be=this;this._mu.lock(function(){Be._fs.chmod(d,k,_,function(Me){Be._mu.unlock(),Ee(Me)})})},pr.prototype.chmodSync=function(d,k,_){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chmodSync(d,k,_)},pr.prototype.chown=function(d,k,_,Ee,Be){var Me=this;this._mu.lock(function(){Me._fs.chown(d,k,_,Ee,function(Ye){Me._mu.unlock(),Be(Ye)})})},pr.prototype.chownSync=function(d,k,_,Ee){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chownSync(d,k,_,Ee)},pr.prototype.utimes=function(d,k,_,Ee){var Be=this;this._mu.lock(function(){Be._fs.utimes(d,k,_,function(Me){Be._mu.unlock(),Ee(Me)})})},pr.prototype.utimesSync=function(d,k,_){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.utimesSync(d,k,_)},pr.prototype.link=function(d,k,_){var Ee=this;this._mu.lock(function(){Ee._fs.link(d,k,function(Be){Ee._mu.unlock(),_(Be)})})},pr.prototype.linkSync=function(d,k){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.linkSync(d,k)},pr.prototype.symlink=function(d,k,_,Ee){var Be=this;this._mu.lock(function(){Be._fs.symlink(d,k,_,function(Me){Be._mu.unlock(),Ee(Me)})})},pr.prototype.symlinkSync=function(d,k,_){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.symlinkSync(d,k,_)},pr.prototype.readlink=function(d,k){var _=this;this._mu.lock(function(){_._fs.readlink(d,function(Ee,Be){_._mu.unlock(),k(Ee,Be)})})},pr.prototype.readlinkSync=function(d){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readlinkSync(d)};var Ur="/.deletedFiles.log";function Kr(ne){return 146|ne}function Vr(ne){return Ne.getFileFlag(ne)}var Zn=function(ne){function d(k,_,Ee,Be,Me){ne.call(this,k,_,Ee,Be,Me)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.sync=function(_){var Ee=this;if(!this.isDirty()){_(null);return}this._fs._syncAsync(this,function(Be){Ee.resetDirty(),_(Be)})},d.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},d.prototype.close=function(_){this.sync(_)},d.prototype.closeSync=function(){this.syncSync()},d}(pt),Hr=function(ne){function d(k,_){if(ne.call(this),this._isInitialized=!1,this._initializeCallbacks=[],this._deletedFiles={},this._deleteLog="",this._deleteLogUpdatePending=!1,this._deleteLogUpdateNeeded=!1,this._deleteLogError=null,this._writable=k,this._readable=_,this._writable.isReadOnly())throw new Ae(_e.EINVAL,"Writable file system must be writable.")}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.isAvailable=function(){return!0},d.prototype.getOverlayedFileSystems=function(){return{readable:this._readable,writable:this._writable}},d.prototype._syncAsync=function(_,Ee){var Be=this;this.createParentDirectoriesAsync(_.getPath(),function(Me){if(Me)return Ee(Me);Be._writable.writeFile(_.getPath(),_.getBuffer(),null,Vr("w"),_.getStats().mode,Ee)})},d.prototype._syncSync=function(_){this.createParentDirectories(_.getPath()),this._writable.writeFileSync(_.getPath(),_.getBuffer(),null,Vr("w"),_.getStats().mode)},d.prototype.getName=function(){return An.Name},d.prototype.initialize=function(_){var Ee=this,Be=this._initializeCallbacks,Me=function(Ye){Ee._isInitialized=!Ye,Ee._initializeCallbacks=[],Be.forEach(function(et){return et(Ye)})};if(this._isInitialized)return _();Be.push(_),Be.length===1&&this._writable.readFile(Ur,"utf8",Vr("r"),function(Ye,et){if(Ye){if(Ye.errno!==_e.ENOENT)return Me(Ye)}else Ee._deleteLog=et;Ee._reparseDeletionLog(),Me()})},d.prototype.isReadOnly=function(){return!1},d.prototype.supportsSynch=function(){return this._readable.supportsSynch()&&this._writable.supportsSynch()},d.prototype.supportsLinks=function(){return!1},d.prototype.supportsProps=function(){return this._readable.supportsProps()&&this._writable.supportsProps()},d.prototype.getDeletionLog=function(){return this._deleteLog},d.prototype.restoreDeletionLog=function(_){this._deleteLog=_,this._reparseDeletionLog(),this.updateLog("")},d.prototype.rename=function(_,Ee,Be){var Me=this;if(!(!this.checkInitAsync(Be)||this.checkPathAsync(_,Be)||this.checkPathAsync(Ee,Be))){if(_===Ur||Ee===Ur)return Be(Ae.EPERM("Cannot rename deletion log."));if(_===Ee)return Be();this.stat(_,!1,function(Ye,et){return Ye?Be(Ye):Me.stat(Ee,!1,function(ft,kt){var Ht=Me;function ir(vr){var qr=vr.shift();if(!qr)return Be();var zr=Oe.resolve(_,qr),Wr=Oe.resolve(Ee,qr);Ht.rename(zr,Wr,function(En){if(En)return Be(En);ir(vr)})}var _r=511;if(et.isDirectory()){if(ft)return ft.errno!==_e.ENOENT?Be(ft):Me._writable.exists(_,function(vr){if(vr)return Me._writable.rename(_,Ee,Be);Me._writable.mkdir(Ee,_r,function(qr){if(qr)return Be(qr);Me._readable.readdir(_,function(zr,Wr){if(zr)return Be();ir(Wr)})})});if(_r=kt.mode,!kt.isDirectory())return Be(Ae.ENOTDIR(Ee));Me.readdir(Ee,function(vr,qr){if(qr&&qr.length)return Be(Ae.ENOTEMPTY(Ee));Me._readable.readdir(_,function(zr,Wr){if(zr)return Be();ir(Wr)})})}if(kt&&kt.isDirectory())return Be(Ae.EISDIR(Ee));Me.readFile(_,null,Vr("r"),function(vr,qr){return vr?Be(vr):Me.writeFile(Ee,qr,null,Vr("w"),et.mode,function(zr){return zr?Be(zr):Me.unlink(_,Be)})})})})}},d.prototype.renameSync=function(_,Ee){var Be=this;if(this.checkInitialized(),this.checkPath(_),this.checkPath(Ee),_===Ur||Ee===Ur)throw Ae.EPERM("Cannot rename deletion log.");var Me=this.statSync(_,!1);if(Me.isDirectory()){if(_===Ee)return;var Ye=511;if(this.existsSync(Ee)){var et=this.statSync(Ee,!1);if(Ye=et.mode,et.isDirectory()){if(this.readdirSync(Ee).length>0)throw Ae.ENOTEMPTY(Ee)}else throw Ae.ENOTDIR(Ee)}this._writable.existsSync(_)?this._writable.renameSync(_,Ee):this._writable.existsSync(Ee)||this._writable.mkdirSync(Ee,Ye),this._readable.existsSync(_)&&this._readable.readdirSync(_).forEach(function(ft){Be.renameSync(Oe.resolve(_,ft),Oe.resolve(Ee,ft))})}else{if(this.existsSync(Ee)&&this.statSync(Ee,!1).isDirectory())throw Ae.EISDIR(Ee);this.writeFileSync(Ee,this.readFileSync(_,null,Vr("r")),null,Vr("w"),Me.mode)}_!==Ee&&this.existsSync(_)&&this.unlinkSync(_)},d.prototype.stat=function(_,Ee,Be){var Me=this;this.checkInitAsync(Be)&&this._writable.stat(_,Ee,function(Ye,et){Ye&&Ye.errno===_e.ENOENT?(Me._deletedFiles[_]&&Be(Ae.ENOENT(_)),Me._readable.stat(_,Ee,function(ft,kt){kt&&(kt=kt.clone(),kt.mode=Kr(kt.mode)),Be(ft,kt)})):Be(Ye,et)})},d.prototype.statSync=function(_,Ee){this.checkInitialized();try{return this._writable.statSync(_,Ee)}catch{if(this._deletedFiles[_])throw Ae.ENOENT(_);var Be=this._readable.statSync(_,Ee).clone();return Be.mode=Kr(Be.mode),Be}},d.prototype.open=function(_,Ee,Be,Me){var Ye=this;!this.checkInitAsync(Me)||this.checkPathAsync(_,Me)||this.stat(_,!1,function(et,ft){if(ft)switch(Ee.pathExistsAction()){case Fe.TRUNCATE_FILE:return Ye.createParentDirectoriesAsync(_,function(kt){if(kt)return Me(kt);Ye._writable.open(_,Ee,Be,Me)});case Fe.NOP:return Ye._writable.exists(_,function(kt){kt?Ye._writable.open(_,Ee,Be,Me):(ft=ft.clone(),ft.mode=Be,Ye._readable.readFile(_,null,Vr("r"),function(Ht,ir){if(Ht)return Me(Ht);ft.size===-1&&(ft.size=ir.length);var _r=new Zn(Ye,_,Ee,ft,ir);Me(null,_r)}))});default:return Me(Ae.EEXIST(_))}else switch(Ee.pathNotExistsAction()){case Fe.CREATE_FILE:return Ye.createParentDirectoriesAsync(_,function(kt){return kt?Me(kt):Ye._writable.open(_,Ee,Be,Me)});default:return Me(Ae.ENOENT(_))}})},d.prototype.openSync=function(_,Ee,Be){if(this.checkInitialized(),this.checkPath(_),_===Ur)throw Ae.EPERM("Cannot open deletion log.");if(this.existsSync(_))switch(Ee.pathExistsAction()){case Fe.TRUNCATE_FILE:return this.createParentDirectories(_),this._writable.openSync(_,Ee,Be);case Fe.NOP:if(this._writable.existsSync(_))return this._writable.openSync(_,Ee,Be);var Me=this._readable.readFileSync(_,null,Vr("r")),Ye=this._readable.statSync(_,!1).clone();return Ye.mode=Be,new Zn(this,_,Ee,Ye,Me);default:throw Ae.EEXIST(_)}else switch(Ee.pathNotExistsAction()){case Fe.CREATE_FILE:return this.createParentDirectories(_),this._writable.openSync(_,Ee,Be);default:throw Ae.ENOENT(_)}},d.prototype.unlink=function(_,Ee){var Be=this;!this.checkInitAsync(Ee)||this.checkPathAsync(_,Ee)||this.exists(_,function(Me){if(!Me)return Ee(Ae.ENOENT(_));Be._writable.exists(_,function(Ye){if(Ye)return Be._writable.unlink(_,function(et){if(et)return Ee(et);Be.exists(_,function(ft){ft&&Be.deletePath(_),Ee(null)})});Be.deletePath(_),Ee(null)})})},d.prototype.unlinkSync=function(_){if(this.checkInitialized(),this.checkPath(_),this.existsSync(_))this._writable.existsSync(_)&&this._writable.unlinkSync(_),this.existsSync(_)&&this.deletePath(_);else throw Ae.ENOENT(_)},d.prototype.rmdir=function(_,Ee){var Be=this;if(this.checkInitAsync(Ee)){var Me=function(){Be.readdir(_,function(Ye,et){if(Ye)return Ee(Ye);if(et.length)return Ee(Ae.ENOTEMPTY(_));Be.deletePath(_),Ee(null)})};this.exists(_,function(Ye){if(!Ye)return Ee(Ae.ENOENT(_));Be._writable.exists(_,function(et){et?Be._writable.rmdir(_,function(ft){if(ft)return Ee(ft);Be._readable.exists(_,function(kt){kt?Me():Ee()})}):Me()})})}},d.prototype.rmdirSync=function(_){if(this.checkInitialized(),this.existsSync(_)){if(this._writable.existsSync(_)&&this._writable.rmdirSync(_),this.existsSync(_)){if(this.readdirSync(_).length>0)throw Ae.ENOTEMPTY(_);this.deletePath(_)}}else throw Ae.ENOENT(_)},d.prototype.mkdir=function(_,Ee,Be){var Me=this;this.checkInitAsync(Be)&&this.exists(_,function(Ye){if(Ye)return Be(Ae.EEXIST(_));Me.createParentDirectoriesAsync(_,function(et){if(et)return Be(et);Me._writable.mkdir(_,Ee,Be)})})},d.prototype.mkdirSync=function(_,Ee){if(this.checkInitialized(),this.existsSync(_))throw Ae.EEXIST(_);this.createParentDirectories(_),this._writable.mkdirSync(_,Ee)},d.prototype.readdir=function(_,Ee){var Be=this;this.checkInitAsync(Ee)&&this.stat(_,!1,function(Me,Ye){if(Me)return Ee(Me);if(!Ye.isDirectory())return Ee(Ae.ENOTDIR(_));Be._writable.readdir(_,function(et,ft){if(et&&et.code!=="ENOENT")return Ee(et);(et||!ft)&&(ft=[]),Be._readable.readdir(_,function(kt,Ht){(kt||!Ht)&&(Ht=[]);var ir={},_r=ft.concat(Ht.filter(function(vr){return!Be._deletedFiles[_+"/"+vr]})).filter(function(vr){var qr=!ir[vr];return ir[vr]=!0,qr});Ee(null,_r)})})})},d.prototype.readdirSync=function(_){var Ee=this;this.checkInitialized();var Be=this.statSync(_,!1);if(!Be.isDirectory())throw Ae.ENOTDIR(_);var Me=[];try{Me=Me.concat(this._writable.readdirSync(_))}catch{}try{Me=Me.concat(this._readable.readdirSync(_).filter(function(et){return!Ee._deletedFiles[_+"/"+et]}))}catch{}var Ye={};return Me.filter(function(et){var ft=!Ye[et];return Ye[et]=!0,ft})},d.prototype.exists=function(_,Ee){var Be=this;this.checkInitialized(),this._writable.exists(_,function(Me){if(Me)return Ee(!0);Be._readable.exists(_,function(Ye){Ee(Ye&&Be._deletedFiles[_]!==!0)})})},d.prototype.existsSync=function(_){return this.checkInitialized(),this._writable.existsSync(_)||this._readable.existsSync(_)&&this._deletedFiles[_]!==!0},d.prototype.chmod=function(_,Ee,Be,Me){var Ye=this;this.checkInitAsync(Me)&&this.operateOnWritableAsync(_,function(et){if(et)return Me(et);Ye._writable.chmod(_,Ee,Be,Me)})},d.prototype.chmodSync=function(_,Ee,Be){var Me=this;this.checkInitialized(),this.operateOnWritable(_,function(){Me._writable.chmodSync(_,Ee,Be)})},d.prototype.chown=function(_,Ee,Be,Me,Ye){var et=this;this.checkInitAsync(Ye)&&this.operateOnWritableAsync(_,function(ft){if(ft)return Ye(ft);et._writable.chown(_,Ee,Be,Me,Ye)})},d.prototype.chownSync=function(_,Ee,Be,Me){var Ye=this;this.checkInitialized(),this.operateOnWritable(_,function(){Ye._writable.chownSync(_,Ee,Be,Me)})},d.prototype.utimes=function(_,Ee,Be,Me){var Ye=this;this.checkInitAsync(Me)&&this.operateOnWritableAsync(_,function(et){if(et)return Me(et);Ye._writable.utimes(_,Ee,Be,Me)})},d.prototype.utimesSync=function(_,Ee,Be){var Me=this;this.checkInitialized(),this.operateOnWritable(_,function(){Me._writable.utimesSync(_,Ee,Be)})},d.prototype.deletePath=function(_){this._deletedFiles[_]=!0,this.updateLog("d"+_+`
`)},d.prototype.updateLog=function(_){var Ee=this;this._deleteLog+=_,this._deleteLogUpdatePending?this._deleteLogUpdateNeeded=!0:(this._deleteLogUpdatePending=!0,this._writable.writeFile(Ur,this._deleteLog,"utf8",Ne.getFileFlag("w"),420,function(Be){Ee._deleteLogUpdatePending=!1,Be?Ee._deleteLogError=Be:Ee._deleteLogUpdateNeeded&&(Ee._deleteLogUpdateNeeded=!1,Ee.updateLog(""))}))},d.prototype._reparseDeletionLog=function(){var _=this;this._deletedFiles={},this._deleteLog.split(`
`).forEach(function(Ee){_._deletedFiles[Ee.slice(1)]=Ee.slice(0,1)==="d"})},d.prototype.checkInitialized=function(){if(this._isInitialized){if(this._deleteLogError!==null){var _=this._deleteLogError;throw this._deleteLogError=null,_}}else throw new Ae(_e.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.")},d.prototype.checkInitAsync=function(_){if(this._isInitialized){if(this._deleteLogError!==null){var Ee=this._deleteLogError;return this._deleteLogError=null,_(Ee),!1}}else return _(new Ae(_e.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.")),!1;return!0},d.prototype.checkPath=function(_){if(_===Ur)throw Ae.EPERM(_)},d.prototype.checkPathAsync=function(_,Ee){return _===Ur?(Ee(Ae.EPERM(_)),!0):!1},d.prototype.createParentDirectoriesAsync=function(_,Ee){var Be=Oe.dirname(_),Me=[],Ye=this;this._writable.stat(Be,!1,et);function et(kt,Ht){kt?(Me.push(Be),Be=Oe.dirname(Be),Ye._writable.stat(Be,!1,et)):ft()}function ft(){if(!Me.length)return Ee();var kt=Me.pop();Ye._readable.stat(kt,!1,function(Ht,ir){if(!ir)return Ee();Ye._writable.mkdir(kt,ir.mode,function(_r){if(_r)return Ee(_r);ft()})})}},d.prototype.createParentDirectories=function(_){for(var Ee=this,Be=Oe.dirname(_),Me=[];!this._writable.existsSync(Be);)Me.push(Be),Be=Oe.dirname(Be);Me=Me.reverse(),Me.forEach(function(Ye){Ee._writable.mkdirSync(Ye,Ee.statSync(Ye,!1).mode)})},d.prototype.operateOnWritable=function(_,Ee){if(this.existsSync(_))this._writable.existsSync(_)||this.copyToWritable(_),Ee();else throw Ae.ENOENT(_)},d.prototype.operateOnWritableAsync=function(_,Ee){var Be=this;this.exists(_,function(Me){if(!Me)return Ee(Ae.ENOENT(_));Be._writable.exists(_,function(Ye){if(Ye)Ee();else return Be.copyToWritableAsync(_,Ee)})})},d.prototype.copyToWritable=function(_){var Ee=this.statSync(_,!1);Ee.isDirectory()?this._writable.mkdirSync(_,Ee.mode):this.writeFileSync(_,this._readable.readFileSync(_,null,Vr("r")),null,Vr("w"),this.statSync(_,!1).mode)},d.prototype.copyToWritableAsync=function(_,Ee){var Be=this;this.stat(_,!1,function(Me,Ye){if(Me)return Ee(Me);if(Ye.isDirectory())return Be._writable.mkdir(_,Ye.mode,Ee);Be._readable.readFile(_,null,Vr("r"),function(et,ft){if(et)return Ee(et);Be.writeFile(_,ft,null,Vr("w"),Ye.mode,Ee)})})},d}(At),An=function(ne){function d(k,_,Ee){Ee===void 0&&(Ee=!0),ne.call(this,new Hr(k,_)),Zt(Ee,d.Name,{readable:"readable file system",writable:"writable file system"})}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.Create=function(_,Ee){try{var Be=new d(_.writable,_.readable,!1);Be.initialize(function(Me){Ee(Me,Be)},!1)}catch(Me){Ee(Me)}},d.isAvailable=function(){return Hr.isAvailable()},d.prototype.initialize=function(_,Ee){Ee===void 0&&(Ee=!0),Ee&&console.warn("[OverlayFS] OverlayFS.initialize() is deprecated and will be removed in the next major release. Please use 'OverlayFS.Create({readable: readable file system instance, writable: writable file system instance}, cb)' to create and initialize OverlayFS instances."),ne.prototype.initialize.call(this,_)},d.prototype.getOverlayedFileSystems=function(){return ne.prototype.getFSUnlocked.call(this).getOverlayedFileSystems()},d.prototype.unwrap=function(){return ne.prototype.getFSUnlocked.call(this)},d}(pr);An.Name="OverlayFS",An.Options={writable:{type:"object",description:"The file system to write modified files to."},readable:{type:"object",description:"The file system that initially populates this file system."}};var Gr;(function(ne){ne[ne.CB=0]="CB",ne[ne.FD=1]="FD",ne[ne.API_ERROR=2]="API_ERROR",ne[ne.STATS=3]="STATS",ne[ne.PROBE=4]="PROBE",ne[ne.FILEFLAG=5]="FILEFLAG",ne[ne.BUFFER=6]="BUFFER",ne[ne.ERROR=7]="ERROR"})(Gr||(Gr={}));var ra=function(){this._callbacks={},this._nextId=0};ra.prototype.toRemoteArg=function(d){var k=this._nextId++;return this._callbacks[k]=d,{type:Gr.CB,id:k}},ra.prototype.toLocalArg=function(d){var k=this._callbacks[d];return delete this._callbacks[d],k};var Rn=function(){this._fileDescriptors={},this._nextId=0};Rn.prototype.toRemoteArg=function(d,k,_,Ee){var Be=this._nextId++,Me,Ye;this._fileDescriptors[Be]=d,d.stat(function(et,ft){et?Ee(et):(Ye=ka(ft.toBuffer()),_.isReadable()?d.read(f.alloc(ft.size),0,ft.size,0,function(kt,Ht,ir){kt?Ee(kt):(Me=ka(ir),Ee(null,{type:Gr.FD,id:Be,data:Me,stat:Ye,path:k,flag:_.getFlagString()}))}):Ee(null,{type:Gr.FD,id:Be,data:new ArrayBuffer(0),stat:Ye,path:k,flag:_.getFlagString()}))})},Rn.prototype.applyFdAPIRequest=function(d,k){var _=this,Ee=d.args[0];this._applyFdChanges(Ee,function(Be,Me){Be?k(Be):Me[d.method](function(Ye){d.method==="close"&&delete _._fileDescriptors[Ee.id],k(Ye)})})},Rn.prototype._applyFdChanges=function(d,k){var _=this._fileDescriptors[d.id],Ee=Oa(d.data),Be=Ue.fromBuffer(Oa(d.stat)),Me=Ne.getFileFlag(d.flag);Me.isWriteable()?_.write(Ee,0,Ee.length,Me.isAppendable()?_.getPos():0,function(Ye){function et(){_.stat(function(ft,kt){ft?k(ft):kt.mode!==Be.mode?_.chmod(Be.mode,function(Ht){k(Ht,_)}):k(ft,_)})}Ye?k(Ye):Me.isAppendable()?et():_.truncate(Ee.length,function(){et()})}):k(null,_)};function xi(ne){return{type:Gr.API_ERROR,errorData:ka(ne.writeToBuffer())}}function bo(ne){return Ae.fromBuffer(Oa(ne.errorData))}function Fu(ne){return{type:Gr.ERROR,name:ne.name,message:ne.message,stack:ne.stack}}function Bu(ne){var d=bn[ne.name];typeof d!="function"&&(d=Error);var k=new d(ne.message);return k.stack=ne.stack,k}function Pu(ne){return{type:Gr.STATS,statsData:ka(ne.toBuffer())}}function qu(ne){return Ue.fromBuffer(Oa(ne.statsData))}function Nu(ne){return{type:Gr.FILEFLAG,flagStr:ne.getFlagString()}}function Lu(ne){return Ne.getFileFlag(ne.flagStr)}function ka(ne){return ct(ne)}function Oa(ne){return Kt(ne)}function Mu(ne){return{type:Gr.BUFFER,data:ka(ne)}}function Vu(ne){return Oa(ne.data)}function _f(ne){return ne&&typeof ne=="object"&&ne.hasOwnProperty("browserfsMessage")&&ne.browserfsMessage}function vf(ne){return ne&&typeof ne=="object"&&ne.hasOwnProperty("browserfsMessage")&&ne.browserfsMessage}var Uu=function(ne){function d(k,_,Ee,Be,Me,Ye){ne.call(this,k,_,Ee,Be,Ye),this._remoteFdId=Me}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.getRemoteFdId=function(){return this._remoteFdId},d.prototype.toRemoteArg=function(){return{type:Gr.FD,id:this._remoteFdId,data:ka(this.getBuffer()),stat:ka(this.getStats().toBuffer()),path:this.getPath(),flag:this.getFlag().getFlagString()}},d.prototype.sync=function(_){this._syncClose("sync",_)},d.prototype.close=function(_){this._syncClose("close",_)},d.prototype._syncClose=function(_,Ee){var Be=this;this.isDirty()?this._fs.syncClose(_,this,function(Me){Me||Be.resetDirty(),Ee(Me)}):Ee()},d}(pt),L0=function(ne){function d(k,_){var Ee=this;_===void 0&&(_=!0),ne.call(this),this._callbackConverter=new ra,this._isInitialized=!1,this._isReadOnly=!1,this._supportLinks=!1,this._supportProps=!1,this._worker=k,Zt(_,d.Name,{worker:"Web Worker instance"}),this._worker.addEventListener("message",function(Be){var Me=Be.data;if(vf(Me)){var Ye,et=Me.args,ft=new Array(et.length);for(Ye=0;Ye<ft.length;Ye++)ft[Ye]=Ee._argRemote2Local(et[Ye]);Ee._callbackConverter.toLocalArg(Me.cbId).apply(null,ft)}})}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.Create=function(_,Ee){var Be=new d(_.worker,!1);Be.initialize(function(){Ee(null,Be)})},d.isAvailable=function(){return typeof importScripts<"u"||typeof Worker<"u"},d.attachRemoteListener=function(_){var Ee=new Rn;function Be(Ye,et,ft){switch(typeof Ye){case"object":Ye instanceof Ue?ft(null,Pu(Ye)):Ye instanceof Ae?ft(null,xi(Ye)):Ye instanceof xt?ft(null,Ee.toRemoteArg(Ye,et[0],et[1],ft)):Ye instanceof Ne?ft(null,Nu(Ye)):Ye instanceof f?ft(null,Mu(Ye)):Ye instanceof Error?ft(null,Fu(Ye)):ft(null,Ye);break;default:ft(null,Ye);break}}function Me(Ye,et){if(!Ye)return Ye;switch(typeof Ye){case"object":if(typeof Ye.type=="number"){var ft=Ye;switch(ft.type){case Gr.CB:var kt=Ye.id;return function(){var Ht=arguments,ir,_r=new Array(arguments.length),vr,qr=arguments.length;function zr(Wr){qr>0&&(qr=-1,vr={browserfsMessage:!0,cbId:kt,args:[xi(Wr)]},_.postMessage(vr))}for(ir=0;ir<arguments.length;ir++)(function(Wr,En){Be(En,et,function(Mn,Fi){_r[Wr]=Fi,Mn?zr(Mn):--qr===0&&(vr={browserfsMessage:!0,cbId:kt,args:_r},_.postMessage(vr))})})(ir,Ht[ir]);arguments.length===0&&(vr={browserfsMessage:!0,cbId:kt,args:_r},_.postMessage(vr))};case Gr.API_ERROR:return bo(ft);case Gr.STATS:return qu(ft);case Gr.FILEFLAG:return Lu(ft);case Gr.BUFFER:return Vu(ft);case Gr.ERROR:return Bu(ft);default:return Ye}}else return Ye;default:return Ye}}_.addEventListener("message",function(Ye){var et=Ye.data;if(_f(et)){var ft=et.args,kt=new Array(ft.length);switch(et.method){case"close":case"sync":(function(){var _r=ft[1];Ee.applyFdAPIRequest(et,function(vr){var qr={browserfsMessage:!0,cbId:_r.id,args:vr?[xi(vr)]:[]};_.postMessage(qr)})})();break;case"probe":(function(){var _r=it.getRootFS(),vr=ft[1],qr={type:Gr.PROBE,isReadOnly:_r.isReadOnly(),supportsLinks:_r.supportsLinks(),supportsProps:_r.supportsProps()},zr={browserfsMessage:!0,cbId:vr.id,args:[qr]};_.postMessage(zr)})();break;default:for(var Ht=0;Ht<ft.length;Ht++)kt[Ht]=Me(ft[Ht],kt);var ir=it.getRootFS();ir[et.method].apply(ir,kt);break}}})},d.prototype.getName=function(){return d.Name},d.prototype.initialize=function(_){var Ee=this;if(this._isInitialized)_();else{var Be={browserfsMessage:!0,method:"probe",args:[this._argLocal2Remote(cr()),this._callbackConverter.toRemoteArg(function(Me){Ee._isInitialized=!0,Ee._isReadOnly=Me.isReadOnly,Ee._supportLinks=Me.supportsLinks,Ee._supportProps=Me.supportsProps,_()})]};this._worker.postMessage(Be)}},d.prototype.isReadOnly=function(){return this._isReadOnly},d.prototype.supportsSynch=function(){return!1},d.prototype.supportsLinks=function(){return this._supportLinks},d.prototype.supportsProps=function(){return this._supportProps},d.prototype.rename=function(_,Ee,Be){this._rpc("rename",arguments)},d.prototype.stat=function(_,Ee,Be){this._rpc("stat",arguments)},d.prototype.open=function(_,Ee,Be,Me){this._rpc("open",arguments)},d.prototype.unlink=function(_,Ee){this._rpc("unlink",arguments)},d.prototype.rmdir=function(_,Ee){this._rpc("rmdir",arguments)},d.prototype.mkdir=function(_,Ee,Be){this._rpc("mkdir",arguments)},d.prototype.readdir=function(_,Ee){this._rpc("readdir",arguments)},d.prototype.exists=function(_,Ee){this._rpc("exists",arguments)},d.prototype.realpath=function(_,Ee,Be){this._rpc("realpath",arguments)},d.prototype.truncate=function(_,Ee,Be){this._rpc("truncate",arguments)},d.prototype.readFile=function(_,Ee,Be,Me){this._rpc("readFile",arguments)},d.prototype.writeFile=function(_,Ee,Be,Me,Ye,et){this._rpc("writeFile",arguments)},d.prototype.appendFile=function(_,Ee,Be,Me,Ye,et){this._rpc("appendFile",arguments)},d.prototype.chmod=function(_,Ee,Be,Me){this._rpc("chmod",arguments)},d.prototype.chown=function(_,Ee,Be,Me,Ye){this._rpc("chown",arguments)},d.prototype.utimes=function(_,Ee,Be,Me){this._rpc("utimes",arguments)},d.prototype.link=function(_,Ee,Be){this._rpc("link",arguments)},d.prototype.symlink=function(_,Ee,Be,Me){this._rpc("symlink",arguments)},d.prototype.readlink=function(_,Ee){this._rpc("readlink",arguments)},d.prototype.syncClose=function(_,Ee,Be){this._worker.postMessage({browserfsMessage:!0,method:_,args:[Ee.toRemoteArg(),this._callbackConverter.toRemoteArg(Be)]})},d.prototype._argRemote2Local=function(_){if(!_)return _;switch(typeof _){case"object":if(typeof _.type=="number"){var Ee=_;switch(Ee.type){case Gr.API_ERROR:return bo(Ee);case Gr.FD:var Be=Ee;return new Uu(this,Be.path,Ne.getFileFlag(Be.flag),Ue.fromBuffer(Oa(Be.stat)),Be.id,Oa(Be.data));case Gr.STATS:return qu(Ee);case Gr.FILEFLAG:return Lu(Ee);case Gr.BUFFER:return Vu(Ee);case Gr.ERROR:return Bu(Ee);default:return _}}else return _;default:return _}},d.prototype._rpc=function(_,Ee){for(var Be=this,Me=new Array(Ee.length),Ye=0;Ye<Ee.length;Ye++)Me[Ye]=Be._argLocal2Remote(Ee[Ye]);var et={browserfsMessage:!0,method:_,args:Me};this._worker.postMessage(et)},d.prototype._argLocal2Remote=function(_){if(!_)return _;switch(typeof _){case"object":return _ instanceof Ue?Pu(_):_ instanceof Ae?xi(_):_ instanceof Uu?_.toRemoteArg():_ instanceof Ne?Nu(_):_ instanceof f?Mu(_):_ instanceof Error?Fu(_):"Unknown argument";case"function":return this._callbackConverter.toRemoteArg(_);default:return _}},d}(At);L0.Name="WorkerFS",L0.Options={worker:{type:"object",description:"The target worker that you want to connect to, or the current worker if in a worker context.",validator:function(ne,d){ne.postMessage?d():d(new Ae(_e.EINVAL,"option must be a Web Worker instance."))}}};function mf(ne,d,k){var _=new XMLHttpRequest;_.open("GET",ne,!0);var Ee=!0;switch(d){case"buffer":_.responseType="arraybuffer";break;case"json":try{_.responseType="json",Ee=_.responseType==="json"}catch{Ee=!1}break;default:return k(new Ae(_e.EINVAL,"Invalid download type: "+d))}_.onreadystatechange=function(Be){if(_.readyState===4)if(_.status===200)switch(d){case"buffer":return k(null,_.response?f.from(_.response):cr());case"json":return Ee?k(null,_.response):k(null,JSON.parse(_.responseText))}else return k(new Ae(_.status,"XHR error."))},_.send()}function gf(ne,d){var k=new XMLHttpRequest;k.open("GET",ne,!1);var _=null,Ee=null;if(k.overrideMimeType("text/plain; charset=x-user-defined"),k.onreadystatechange=function(Be){if(k.readyState===4)if(k.status===200)switch(d){case"buffer":var Me=k.responseText;_=f.alloc(Me.length);for(var Ye=0;Ye<Me.length;Ye++)_[Ye]=Me.charCodeAt(Ye);return;case"json":_=JSON.parse(k.responseText);return}else{Ee=new Ae(k.status,"XHR error.");return}},k.send(),Ee)throw Ee;return _}function yf(ne,d){var k=new XMLHttpRequest;switch(k.open("GET",ne,!1),d){case"buffer":k.responseType="arraybuffer";break;case"json":break;default:throw new Ae(_e.EINVAL,"Invalid download type: "+d)}var _,Ee;if(k.onreadystatechange=function(Be){if(k.readyState===4)if(k.status===200)switch(d){case"buffer":_=f.from(k.response);break;case"json":_=JSON.parse(k.response);break}else Ee=new Ae(k.status,"XHR error.")},k.send(),Ee)throw Ee;return _}function zu(ne,d,k){var _=new XMLHttpRequest;_.open("HEAD",d,ne),_.onreadystatechange=function(Ee){if(_.readyState===4)if(_.status===200)try{return k(null,parseInt(_.getResponseHeader("Content-Length")||"-1",10))}catch{return k(new Ae(_e.EIO,"XHR HEAD error: Could not read content-length."))}else return k(new Ae(_.status,"XHR HEAD error."))},_.send()}var ju=mf,bf=zt&&typeof Blob<"u"?yf:gf;function Ef(ne){var d=-1;return zu(!1,ne,function(k,_){if(k)throw k;d=_}),d}function wf(ne,d){zu(!0,ne,d)}var hi=function(){this._index={},this.addPath("/",new $n)};hi.fromListing=function(d){var k=new hi,_=new $n;k._index["/"]=_;for(var Ee=[["",d,_]];Ee.length>0;){var Be=void 0,Me=Ee.pop(),Ye=Me[0],et=Me[1],ft=Me[2];for(var kt in et)if(et.hasOwnProperty(kt)){var Ht=et[kt],ir=Ye+"/"+kt;Ht?(k._index[ir]=Be=new $n,Ee.push([ir,Ht,Be])):Be=new Eo(new Ue(Ve.FILE,-1,365)),ft&&(ft._ls[kt]=Be)}}return k},hi.prototype.fileIterator=function(d){var k=this;for(var _ in k._index)if(k._index.hasOwnProperty(_))for(var Ee=k._index[_],Be=Ee.getListing(),Me=0,Ye=Be;Me<Ye.length;Me+=1){var et=Ye[Me],ft=Ee.getItem(et);Hi(ft)&&d(ft.getData())}},hi.prototype.addPath=function(d,k){if(!k)throw new Error("Inode must be specified");if(d[0]!=="/")throw new Error("Path must be absolute, got: "+d);if(this._index.hasOwnProperty(d))return this._index[d]===k;var _=this._split_path(d),Ee=_[0],Be=_[1],Me=this._index[Ee];return Me===void 0&&d!=="/"&&(Me=new $n,!this.addPath(Ee,Me))||d!=="/"&&!Me.addItem(Be,k)?!1:(na(k)&&(this._index[d]=k),!0)},hi.prototype.addPathFast=function(d,k){var _=d.lastIndexOf("/"),Ee=_===0?"/":d.substring(0,_),Be=d.substring(_+1),Me=this._index[Ee];return Me===void 0&&(Me=new $n,this.addPathFast(Ee,Me)),Me.addItem(Be,k)?(k.isDir()&&(this._index[d]=k),!0):!1},hi.prototype.removePath=function(d){var k=this,_=this._split_path(d),Ee=_[0],Be=_[1],Me=this._index[Ee];if(Me===void 0)return null;var Ye=Me.remItem(Be);if(Ye===null)return null;if(na(Ye)){for(var et=Ye.getListing(),ft=0,kt=et;ft<kt.length;ft+=1){var Ht=kt[ft];k.removePath(d+"/"+Ht)}d!=="/"&&delete this._index[d]}return Ye},hi.prototype.ls=function(d){var k=this._index[d];return k===void 0?null:k.getListing()},hi.prototype.getInode=function(d){var k=this._split_path(d),_=k[0],Ee=k[1],Be=this._index[_];return Be===void 0?null:_===d?Be:Be.getItem(Ee)},hi.prototype._split_path=function(d){var k=Oe.dirname(d),_=d.substr(k.length+(k==="/"?0:1));return[k,_]};var Eo=function(d){this.data=d};Eo.prototype.isFile=function(){return!0},Eo.prototype.isDir=function(){return!1},Eo.prototype.getData=function(){return this.data},Eo.prototype.setData=function(d){this.data=d};var $n=function(d){d===void 0&&(d=null),this.data=d,this._ls={}};$n.prototype.isFile=function(){return!1},$n.prototype.isDir=function(){return!0},$n.prototype.getData=function(){return this.data},$n.prototype.getStats=function(){return new Ue(Ve.DIRECTORY,4096,365)},$n.prototype.getListing=function(){return Object.keys(this._ls)},$n.prototype.getItem=function(d){var k=this._ls[d];return k||null},$n.prototype.addItem=function(d,k){return d in this._ls?!1:(this._ls[d]=k,!0)},$n.prototype.remItem=function(d){var k=this._ls[d];return k===void 0?null:(delete this._ls[d],k)};function Hi(ne){return!!ne&&ne.isFile()}function na(ne){return!!ne&&ne.isDir()}function Sf(ne,d,k){try{k(null,ne.toString(d))}catch(_){k(_)}}var M0=function(ne){function d(k,_,Ee){_===void 0&&(_=""),Ee===void 0&&(Ee=!0),ne.call(this),k||(k="index.json"),_.length>0&&_.charAt(_.length-1)!=="/"&&(_=_+"/"),this.prefixUrl=_;var Be=null;if(typeof k=="string"){if(Be=this._requestFileSync(k,"json"),!Be)throw new Error("Unable to find listing at URL: ${listingUrlOrObj}")}else Be=k;Zt(Ee,d.Name,{index:typeof k=="string"?k:"file index as an object",baseUrl:_}),this._index=hi.fromListing(Be)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.Create=function(_,Ee){_.index===void 0&&(_.index="index.json"),typeof _.index=="string"?d.FromURL(_.index,Ee,_.baseUrl,!1):Ee(null,new d(_.index,_.baseUrl,!1))},d.isAvailable=function(){return typeof XMLHttpRequest<"u"&&XMLHttpRequest!==null},d.FromURL=function(_,Ee,Be,Me){Be===void 0&&(Be=_.slice(0,_.lastIndexOf("/")+1)),Me===void 0&&(Me=!0),Me&&console.warn(`[XmlHttpRequest] XmlHttpRequest.FromURL() is deprecated and will be removed in the next major release. Please use 'XmlHttpRequest.Create({ index: "`+_+'", baseUrl: "'+Be+`" }, cb)' instead.`),ju(_,"json",function(Ye,et){Ye?Ee(Ye):Ee(null,new d(et,Be,!1))})},d.prototype.empty=function(){this._index.fileIterator(function(_){_.fileData=null})},d.prototype.getName=function(){return d.Name},d.prototype.diskSpace=function(_,Ee){Ee(0,0)},d.prototype.isReadOnly=function(){return!0},d.prototype.supportsLinks=function(){return!1},d.prototype.supportsProps=function(){return!1},d.prototype.supportsSynch=function(){return!0},d.prototype.preloadFile=function(_,Ee){var Be=this._index.getInode(_);if(Hi(Be)){if(Be===null)throw Ae.ENOENT(_);var Me=Be.getData();Me.size=Ee.length,Me.fileData=Ee}else throw Ae.EISDIR(_)},d.prototype.stat=function(_,Ee,Be){var Me=this._index.getInode(_);if(Me===null)return Be(Ae.ENOENT(_));var Ye;Hi(Me)?(Ye=Me.getData(),Ye.size<0?this._requestFileSizeAsync(_,function(et,ft){if(et)return Be(et);Ye.size=ft,Be(null,Ye.clone())}):Be(null,Ye.clone())):na(Me)?(Ye=Me.getStats(),Be(null,Ye)):Be(Ae.FileError(_e.EINVAL,_))},d.prototype.statSync=function(_,Ee){var Be=this._index.getInode(_);if(Be===null)throw Ae.ENOENT(_);var Me;if(Hi(Be))Me=Be.getData(),Me.size<0&&(Me.size=this._requestFileSizeSync(_));else if(na(Be))Me=Be.getStats();else throw Ae.FileError(_e.EINVAL,_);return Me},d.prototype.open=function(_,Ee,Be,Me){if(Ee.isWriteable())return Me(new Ae(_e.EPERM,_));var Ye=this,et=this._index.getInode(_);if(et===null)return Me(Ae.ENOENT(_));if(Hi(et)){var ft=et.getData();switch(Ee.pathExistsAction()){case Fe.THROW_EXCEPTION:case Fe.TRUNCATE_FILE:return Me(Ae.EEXIST(_));case Fe.NOP:if(ft.fileData)return Me(null,new Dt(Ye,_,Ee,ft.clone(),ft.fileData));this._requestFileAsync(_,"buffer",function(kt,Ht){return kt?Me(kt):(ft.size=Ht.length,ft.fileData=Ht,Me(null,new Dt(Ye,_,Ee,ft.clone(),Ht)))});break;default:return Me(new Ae(_e.EINVAL,"Invalid FileMode object."))}}else return Me(Ae.EISDIR(_))},d.prototype.openSync=function(_,Ee,Be){if(Ee.isWriteable())throw new Ae(_e.EPERM,_);var Me=this._index.getInode(_);if(Me===null)throw Ae.ENOENT(_);if(Hi(Me)){var Ye=Me.getData();switch(Ee.pathExistsAction()){case Fe.THROW_EXCEPTION:case Fe.TRUNCATE_FILE:throw Ae.EEXIST(_);case Fe.NOP:if(Ye.fileData)return new Dt(this,_,Ee,Ye.clone(),Ye.fileData);var et=this._requestFileSync(_,"buffer");return Ye.size=et.length,Ye.fileData=et,new Dt(this,_,Ee,Ye.clone(),et);default:throw new Ae(_e.EINVAL,"Invalid FileMode object.")}}else throw Ae.EISDIR(_)},d.prototype.readdir=function(_,Ee){try{Ee(null,this.readdirSync(_))}catch(Be){Ee(Be)}},d.prototype.readdirSync=function(_){var Ee=this._index.getInode(_);if(Ee===null)throw Ae.ENOENT(_);if(na(Ee))return Ee.getListing();throw Ae.ENOTDIR(_)},d.prototype.readFile=function(_,Ee,Be,Me){var Ye=Me;this.open(_,Be,420,function(et,ft){if(et)return Me(et);Me=function(ir,_r){ft.close(function(vr){return ir||(ir=vr),Ye(ir,_r)})};var kt=ft,Ht=kt.getBuffer();Ee===null?Me(et,fr(Ht)):Sf(Ht,Ee,Me)})},d.prototype.readFileSync=function(_,Ee,Be){var Me=this.openSync(_,Be,420);try{var Ye=Me,et=Ye.getBuffer();return Ee===null?fr(et):et.toString(Ee)}finally{Me.closeSync()}},d.prototype.getXhrPath=function(_){return _.charAt(0)==="/"&&(_=_.slice(1)),this.prefixUrl+_},d.prototype._requestFileAsync=function(_,Ee,Be){ju(this.getXhrPath(_),Ee,Be)},d.prototype._requestFileSync=function(_,Ee){return bf(this.getXhrPath(_),Ee)},d.prototype._requestFileSizeAsync=function(_,Ee){wf(this.getXhrPath(_),Ee)},d.prototype._requestFileSizeSync=function(_){return Ef(this.getXhrPath(_))},d}(At);M0.Name="XmlHttpRequest",M0.Options={index:{type:["string","object"],optional:!0,description:"URL to a file index as a JSON file or the file index object itself, generated with the make_xhrfs_index script. Defaults to `index.json`."},baseUrl:{type:"string",optional:!0,description:"Used as the URL prefix for fetched files. Default: Fetch files relative to the index."}};var Ta=function(){};Ta.str2byte=function(d,k){for(var _=d.length>k.length?k.length:d.length,Ee=0;Ee<_;Ee++){var Be=d.charCodeAt(Ee);if(Be>127){var Me=Ta.extendedChars.indexOf(d.charAt(Ee));Me>-1&&(Be=Me+128)}k[Be]=Ee}return _},Ta.byte2str=function(d){for(var k=new Array(d.length),_=0;_<d.length;_++){var Ee=d[_];Ee>127?k[_]=Ta.extendedChars[Ee-128]:k[_]=String.fromCharCode(Ee)}return k.join("")},Ta.byteLength=function(d){return d.length},Ta.extendedChars=["Ç","ü","é","â","ä","à","å","ç","ê","ë","è","ï","î","ì","Ä","Å","É","æ","Æ","ô","ö","ò","û","ù","ÿ","Ö","Ü","ø","£","Ø","×","ƒ","á","í","ó","ú","ñ","Ñ","ª","º","¿","®","¬","½","¼","¡","«","»","_","_","_","¦","¦","Á","Â","À","©","¦","¦","+","+","¢","¥","+","+","-","-","+","-","+","ã","Ã","+","+","-","-","¦","-","+","¤","ð","Ð","Ê","Ë","È","i","Í","Î","Ï","+","+","_","_","¦","Ì","_","Ó","ß","Ô","Ò","õ","Õ","µ","þ","Þ","Ú","Û","Ù","ý","Ý","¯","´","­","±","_","¾","¶","§","÷","¸","°","¨","·","¹","³","²","_"," "];var Af=c(31).inflateRaw,Hu={},Wu;(function(ne){ne[ne.MSDOS=0]="MSDOS",ne[ne.AMIGA=1]="AMIGA",ne[ne.OPENVMS=2]="OPENVMS",ne[ne.UNIX=3]="UNIX",ne[ne.VM_CMS=4]="VM_CMS",ne[ne.ATARI_ST=5]="ATARI_ST",ne[ne.OS2_HPFS=6]="OS2_HPFS",ne[ne.MAC=7]="MAC",ne[ne.Z_SYSTEM=8]="Z_SYSTEM",ne[ne.CP_M=9]="CP_M",ne[ne.NTFS=10]="NTFS",ne[ne.MVS=11]="MVS",ne[ne.VSE=12]="VSE",ne[ne.ACORN_RISC=13]="ACORN_RISC",ne[ne.VFAT=14]="VFAT",ne[ne.ALT_MVS=15]="ALT_MVS",ne[ne.BEOS=16]="BEOS",ne[ne.TANDEM=17]="TANDEM",ne[ne.OS_400=18]="OS_400",ne[ne.OSX=19]="OSX"})(Wu||(Wu={}));var wo;(function(ne){ne[ne.STORED=0]="STORED",ne[ne.SHRUNK=1]="SHRUNK",ne[ne.REDUCED_1=2]="REDUCED_1",ne[ne.REDUCED_2=3]="REDUCED_2",ne[ne.REDUCED_3=4]="REDUCED_3",ne[ne.REDUCED_4=5]="REDUCED_4",ne[ne.IMPLODE=6]="IMPLODE",ne[ne.DEFLATE=8]="DEFLATE",ne[ne.DEFLATE64=9]="DEFLATE64",ne[ne.TERSE_OLD=10]="TERSE_OLD",ne[ne.BZIP2=12]="BZIP2",ne[ne.LZMA=14]="LZMA",ne[ne.TERSE_NEW=18]="TERSE_NEW",ne[ne.LZ77=19]="LZ77",ne[ne.WAVPACK=97]="WAVPACK",ne[ne.PPMD=98]="PPMD"})(wo||(wo={}));function Ku(ne,d){var k=d&31,_=(d>>5&15)-1,Ee=(d>>9)+1980,Be=ne&31,Me=ne>>5&63,Ye=ne>>11;return new Date(Ee,_,k,Ye,Me,Be)}function V0(ne,d,k,_){return _===0?"":d?ne.toString("utf8",k,k+_):Ta.byte2str(ne.slice(k,k+_))}var ai=function(d){if(this.data=d,d.readUInt32LE(0)!==67324752)throw new Ae(_e.EINVAL,"Invalid Zip file: Local file header has invalid signature: "+this.data.readUInt32LE(0))};ai.prototype.versionNeeded=function(){return this.data.readUInt16LE(4)},ai.prototype.flags=function(){return this.data.readUInt16LE(6)},ai.prototype.compressionMethod=function(){return this.data.readUInt16LE(8)},ai.prototype.lastModFileTime=function(){return Ku(this.data.readUInt16LE(10),this.data.readUInt16LE(12))},ai.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(10)},ai.prototype.crc32=function(){return this.data.readUInt32LE(14)},ai.prototype.fileNameLength=function(){return this.data.readUInt16LE(26)},ai.prototype.extraFieldLength=function(){return this.data.readUInt16LE(28)},ai.prototype.fileName=function(){return V0(this.data,this.useUTF8(),30,this.fileNameLength())},ai.prototype.extraField=function(){var d=30+this.fileNameLength();return this.data.slice(d,d+this.extraFieldLength())},ai.prototype.totalSize=function(){return 30+this.fileNameLength()+this.extraFieldLength()},ai.prototype.useUTF8=function(){return(this.flags()&2048)===2048};var Is=function(d,k,_){this.header=d,this.record=k,this.data=_};Is.prototype.decompress=function(){var d=this.header.compressionMethod(),k=Hu[d];if(k)return k(this.data,this.record.compressedSize(),this.record.uncompressedSize(),this.record.flag());var _=wo[d];throw _||(_="Unknown: "+d),new Ae(_e.EINVAL,"Invalid compression method on file '"+this.header.fileName()+"': "+_)},Is.prototype.getHeader=function(){return this.header},Is.prototype.getRecord=function(){return this.record},Is.prototype.getRawData=function(){return this.data};var rn=function(d,k){if(this.zipData=d,this.data=k,this.data.readUInt32LE(0)!==33639248)throw new Ae(_e.EINVAL,"Invalid Zip file: Central directory record has invalid signature: "+this.data.readUInt32LE(0));this._filename=this.produceFilename()};rn.prototype.versionMadeBy=function(){return this.data.readUInt16LE(4)},rn.prototype.versionNeeded=function(){return this.data.readUInt16LE(6)},rn.prototype.flag=function(){return this.data.readUInt16LE(8)},rn.prototype.compressionMethod=function(){return this.data.readUInt16LE(10)},rn.prototype.lastModFileTime=function(){return Ku(this.data.readUInt16LE(12),this.data.readUInt16LE(14))},rn.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(12)},rn.prototype.crc32=function(){return this.data.readUInt32LE(16)},rn.prototype.compressedSize=function(){return this.data.readUInt32LE(20)},rn.prototype.uncompressedSize=function(){return this.data.readUInt32LE(24)},rn.prototype.fileNameLength=function(){return this.data.readUInt16LE(28)},rn.prototype.extraFieldLength=function(){return this.data.readUInt16LE(30)},rn.prototype.fileCommentLength=function(){return this.data.readUInt16LE(32)},rn.prototype.diskNumberStart=function(){return this.data.readUInt16LE(34)},rn.prototype.internalAttributes=function(){return this.data.readUInt16LE(36)},rn.prototype.externalAttributes=function(){return this.data.readUInt32LE(38)},rn.prototype.headerRelativeOffset=function(){return this.data.readUInt32LE(42)},rn.prototype.produceFilename=function(){var d=V0(this.data,this.useUTF8(),46,this.fileNameLength());return d.replace(/\\/g,"/")},rn.prototype.fileName=function(){return this._filename},rn.prototype.rawFileName=function(){return this.data.slice(46,46+this.fileNameLength())},rn.prototype.extraField=function(){var d=44+this.fileNameLength();return this.data.slice(d,d+this.extraFieldLength())},rn.prototype.fileComment=function(){var d=46+this.fileNameLength()+this.extraFieldLength();return V0(this.data,this.useUTF8(),d,this.fileCommentLength())},rn.prototype.rawFileComment=function(){var d=46+this.fileNameLength()+this.extraFieldLength();return this.data.slice(d,d+this.fileCommentLength())},rn.prototype.totalSize=function(){return 46+this.fileNameLength()+this.extraFieldLength()+this.fileCommentLength()},rn.prototype.isDirectory=function(){var d=this.fileName();return!!(this.externalAttributes()&16)||d.charAt(d.length-1)==="/"},rn.prototype.isFile=function(){return!this.isDirectory()},rn.prototype.useUTF8=function(){return(this.flag()&2048)===2048},rn.prototype.isEncrypted=function(){return(this.flag()&1)===1},rn.prototype.getFileData=function(){var d=this.headerRelativeOffset(),k=new ai(this.zipData.slice(d));return new Is(k,this,this.zipData.slice(d+k.totalSize()))},rn.prototype.getData=function(){return this.getFileData().decompress()},rn.prototype.getRawData=function(){return this.getFileData().getRawData()},rn.prototype.getStats=function(){return new Ue(Ve.FILE,this.uncompressedSize(),365,new Date,this.lastModFileTime())};var Di=function(d){if(this.data=d,this.data.readUInt32LE(0)!==101010256)throw new Ae(_e.EINVAL,"Invalid Zip file: End of central directory record has invalid signature: "+this.data.readUInt32LE(0))};Di.prototype.diskNumber=function(){return this.data.readUInt16LE(4)},Di.prototype.cdDiskNumber=function(){return this.data.readUInt16LE(6)},Di.prototype.cdDiskEntryCount=function(){return this.data.readUInt16LE(8)},Di.prototype.cdTotalEntryCount=function(){return this.data.readUInt16LE(10)},Di.prototype.cdSize=function(){return this.data.readUInt32LE(12)},Di.prototype.cdOffset=function(){return this.data.readUInt32LE(16)},Di.prototype.cdZipCommentLength=function(){return this.data.readUInt16LE(20)},Di.prototype.cdZipComment=function(){return V0(this.data,!0,22,this.cdZipCommentLength())},Di.prototype.rawCdZipComment=function(){return this.data.slice(22,22+this.cdZipCommentLength())};var Gu=function(d,k,_,Ee){this.index=d,this.directoryEntries=k,this.eocd=_,this.data=Ee},Da=function(ne){function d(k,_,Ee){_===void 0&&(_=""),Ee===void 0&&(Ee=!0),ne.call(this),this.name=_,this._index=new hi,this._directoryEntries=[],this._eocd=null,Zt(Ee,d.Name,{zipData:"zip data as a Buffer",name:_}),k instanceof Gu?(this._index=k.index,this._directoryEntries=k.directoryEntries,this._eocd=k.eocd,this.data=k.data):(this.data=k,this.populateIndex())}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.Create=function(_,Ee){try{d.computeIndex(_.zipData,function(Be){var Me=new d(Be,_.name,!1);Ee(null,Me)},!1)}catch(Be){Ee(Be)}},d.isAvailable=function(){return!0},d.RegisterDecompressionMethod=function(_,Ee){Hu[_]=Ee},d.computeIndex=function(_,Ee,Be){Be===void 0&&(Be=!0),Be&&console.warn("[ZipFS] ZipFS.computeIndex is now deprecated, and will be removed in the next major release. Please update your code to use 'ZipFS.Create({ zipData: zip file as a Buffer}, cb)' instead.");var Me=new hi,Ye=d.getEOCD(_);if(Ye.diskNumber()!==Ye.cdDiskNumber())throw new Ae(_e.EINVAL,"ZipFS does not support spanned zip files.");var et=Ye.cdOffset();if(et===4294967295)throw new Ae(_e.EINVAL,"ZipFS does not support Zip64.");var ft=et+Ye.cdSize();d.computeIndexResponsive(_,Me,et,ft,Ee,[],Ye)},d.getEOCD=function(_){for(var Ee=22,Be=Math.min(Ee+65535,_.length-1),Me=Ee;Me<Be;Me++)if(_.readUInt32LE(_.length-Me)===101010256)return new Di(_.slice(_.length-Me));throw new Ae(_e.EINVAL,"Invalid ZIP file: Could not locate End of Central Directory signature.")},d.addToIndex=function(_,Ee){var Be=_.fileName();if(Be.charAt(0)==="/")throw new Error("WHY IS THIS ABSOLUTE");Be.charAt(Be.length-1)==="/"&&(Be=Be.substr(0,Be.length-1)),_.isDirectory()?Ee.addPathFast("/"+Be,new $n(_)):Ee.addPathFast("/"+Be,new Eo(_))},d.computeIndexResponsive=function(_,Ee,Be,Me,Ye,et,ft){if(Be<Me){for(var kt=0;kt++<200&&Be<Me;){var Ht=new rn(_,_.slice(Be));d.addToIndex(Ht,Ee),Be+=Ht.totalSize(),et.push(Ht)}Ar(function(){d.computeIndexResponsive(_,Ee,Be,Me,Ye,et,ft)})}else Ye(new Gu(Ee,et,ft,_))},d.prototype.getName=function(){return d.Name+(this.name!==""?" "+this.name:"")},d.prototype.getCentralDirectoryEntry=function(_){var Ee=this._index.getInode(_);if(Ee===null)throw Ae.ENOENT(_);if(Hi(Ee))return Ee.getData();if(na(Ee))return Ee.getData();throw Ae.EPERM("Invalid inode: "+Ee)},d.prototype.getCentralDirectoryEntryAt=function(_){var Ee=this._directoryEntries[_];if(!Ee)throw new RangeError("Invalid directory index: "+_+".");return Ee},d.prototype.getNumberOfCentralDirectoryEntries=function(){return this._directoryEntries.length},d.prototype.getEndOfCentralDirectory=function(){return this._eocd},d.prototype.diskSpace=function(_,Ee){Ee(this.data.length,0)},d.prototype.isReadOnly=function(){return!0},d.prototype.supportsLinks=function(){return!1},d.prototype.supportsProps=function(){return!1},d.prototype.supportsSynch=function(){return!0},d.prototype.statSync=function(_,Ee){var Be=this._index.getInode(_);if(Be===null)throw Ae.ENOENT(_);var Me;if(Hi(Be))Me=Be.getData().getStats();else if(na(Be))Me=Be.getStats();else throw new Ae(_e.EINVAL,"Invalid inode.");return Me},d.prototype.openSync=function(_,Ee,Be){if(Ee.isWriteable())throw new Ae(_e.EPERM,_);var Me=this._index.getInode(_);if(Me)if(Hi(Me)){var Ye=Me.getData(),et=Ye.getStats();switch(Ee.pathExistsAction()){case Fe.THROW_EXCEPTION:case Fe.TRUNCATE_FILE:throw Ae.EEXIST(_);case Fe.NOP:return new Dt(this,_,Ee,et,Ye.getData());default:throw new Ae(_e.EINVAL,"Invalid FileMode object.")}}else throw Ae.EISDIR(_);else throw Ae.ENOENT(_)},d.prototype.readdirSync=function(_){var Ee=this._index.getInode(_);if(Ee){if(na(Ee))return Ee.getListing();throw Ae.ENOTDIR(_)}else throw Ae.ENOENT(_)},d.prototype.readFileSync=function(_,Ee,Be){var Me=this.openSync(_,Be,420);try{var Ye=Me,et=Ye.getBuffer();return Ee===null?fr(et):et.toString(Ee)}finally{Me.closeSync()}},d.prototype.populateIndex=function(){var _=this,Ee=this._eocd=d.getEOCD(this.data);if(Ee.diskNumber()!==Ee.cdDiskNumber())throw new Ae(_e.EINVAL,"ZipFS does not support spanned zip files.");var Be=Ee.cdOffset();if(Be===4294967295)throw new Ae(_e.EINVAL,"ZipFS does not support Zip64.");for(var Me=Be+Ee.cdSize();Be<Me;){var Ye=new rn(_.data,_.data.slice(Be));Be+=Ye.totalSize(),d.addToIndex(Ye,_._index),_._directoryEntries.push(Ye)}},d}(Wt);Da.Name="ZipFS",Da.Options={zipData:{type:"object",description:"The zip file as a Buffer object.",validator:lt},name:{type:"string",optional:!0,description:"The name of the zip file (optional)."}},Da.CompressionMethod=wo,Da.RegisterDecompressionMethod(wo.DEFLATE,function(ne,d,k){return Bt(Af(ne.slice(0,d),{chunkSize:k}))}),Da.RegisterDecompressionMethod(wo.STORED,function(ne,d,k){return fr(ne,0,k)});var If="IEEE_P1282";function ei(ne,d,k){return ne.toString("ascii",d,d+k).trim()}function xu(ne,d,k){if(k===1)return String.fromCharCode(ne[d]);for(var _=Math.floor(k/2),Ee=new Array(_),Be=0;Be<_;Be++){var Me=d+(Be<<1);Ee[Be]=String.fromCharCode(ne[Me+1]|ne[Me]<<8)}return Ee.join("")}function Ri(ne,d){var k=parseInt(ei(ne,d,4),10),_=parseInt(ei(ne,d+4,2),10),Ee=parseInt(ei(ne,d+6,2),10),Be=parseInt(ei(ne,d+8,2),10),Me=parseInt(ei(ne,d+10,2),10),Ye=parseInt(ei(ne,d+12,2),10),et=parseInt(ei(ne,d+14,2),10);return new Date(k,_,Ee,Be,Me,Ye,et*100)}function Ra(ne,d){var k=ne[d],_=ne[d+1],Ee=ne[d+2],Be=ne[d+3],Me=ne[d+4],Ye=ne[d+5];return new Date(k,_-1,Ee,Be,Me,Ye)}function Cf(ne,d){var k=ne.slice(d),_=new On(k);switch(_.signatureWord()){case 17221:return new Zu(k);case 20548:return new Tf(k);case 21328:return new $u(k);case 21332:return new el(k);case 17746:return new tl(k);case 17747:return new Df(k);case 20568:return new nl(k);case 20558:return new Rf(k);case 21324:return new hu(k);case 20045:return new il(k);case 17228:return new pu(k);case 20556:return new Ff(k);case 21061:return new al(k);case 21574:return new ol(k);case 21318:return new Bf(k);case 21074:return new rl(k);default:return _}}function Yu(ne,d,k,_){k=k-4;for(var Ee=new Array;d<k;){var Be=Cf(ne,d),Me=Be.length();if(Me===0)return Ee;if(d+=Me,Be instanceof el)break;Be instanceof Zu?Ee=Ee.concat(Be.getEntries(_)):Ee.push(Be)}return Ee}var So=function(d){this._data=d};So.prototype.type=function(){return this._data[0]},So.prototype.standardIdentifier=function(){return ei(this._data,1,5)},So.prototype.version=function(){return this._data[6]},So.prototype.data=function(){return this._data.slice(7,2048)};var Qu=function(ne){function d(k){ne.call(this,k),this._root=null}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.systemIdentifier=function(){return this._getString32(8)},d.prototype.volumeIdentifier=function(){return this._getString32(40)},d.prototype.volumeSpaceSize=function(){return this._data.readUInt32LE(80)},d.prototype.volumeSetSize=function(){return this._data.readUInt16LE(120)},d.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(124)},d.prototype.logicalBlockSize=function(){return this._data.readUInt16LE(128)},d.prototype.pathTableSize=function(){return this._data.readUInt32LE(132)},d.prototype.locationOfTypeLPathTable=function(){return this._data.readUInt32LE(140)},d.prototype.locationOfOptionalTypeLPathTable=function(){return this._data.readUInt32LE(144)},d.prototype.locationOfTypeMPathTable=function(){return this._data.readUInt32BE(148)},d.prototype.locationOfOptionalTypeMPathTable=function(){return this._data.readUInt32BE(152)},d.prototype.rootDirectoryEntry=function(_){return this._root===null&&(this._root=this._constructRootDirectoryRecord(this._data.slice(156)),this._root.rootCheckForRockRidge(_)),this._root},d.prototype.volumeSetIdentifier=function(){return this._getString(190,128)},d.prototype.publisherIdentifier=function(){return this._getString(318,128)},d.prototype.dataPreparerIdentifier=function(){return this._getString(446,128)},d.prototype.applicationIdentifier=function(){return this._getString(574,128)},d.prototype.copyrightFileIdentifier=function(){return this._getString(702,38)},d.prototype.abstractFileIdentifier=function(){return this._getString(740,36)},d.prototype.bibliographicFileIdentifier=function(){return this._getString(776,37)},d.prototype.volumeCreationDate=function(){return Ri(this._data,813)},d.prototype.volumeModificationDate=function(){return Ri(this._data,830)},d.prototype.volumeExpirationDate=function(){return Ri(this._data,847)},d.prototype.volumeEffectiveDate=function(){return Ri(this._data,864)},d.prototype.fileStructureVersion=function(){return this._data[881]},d.prototype.applicationUsed=function(){return this._data.slice(883,883+512)},d.prototype.reserved=function(){return this._data.slice(1395,1395+653)},d.prototype._getString32=function(_){return this._getString(_,32)},d}(So),kf=function(ne){function d(k){if(ne.call(this,k),this.type()!==1)throw new Ae(_e.EIO,"Invalid primary volume descriptor.")}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.name=function(){return"ISO9660"},d.prototype._constructRootDirectoryRecord=function(_){return new Ju(_,-1)},d.prototype._getString=function(_,Ee){return this._getString(_,Ee)},d}(Qu),Of=function(ne){function d(k){if(ne.call(this,k),this.type()!==2)throw new Ae(_e.EIO,"Invalid supplementary volume descriptor.");var _=this.escapeSequence(),Ee=_[2];if(_[0]!==37||_[1]!==47||Ee!==64&&Ee!==67&&Ee!==69)throw new Ae(_e.EIO,"Unrecognized escape sequence for SupplementaryVolumeDescriptor: "+_.toString())}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.name=function(){return"Joliet"},d.prototype.escapeSequence=function(){return this._data.slice(88,120)},d.prototype._constructRootDirectoryRecord=function(_){return new Xu(_,-1)},d.prototype._getString=function(_,Ee){return xu(this._data,_,Ee)},d}(Qu),gn=function(d,k){this._suEntries=null,this._fileOrDir=null,this._data=d,this._rockRidgeOffset=k};gn.prototype.hasRockRidge=function(){return this._rockRidgeOffset>-1},gn.prototype.getRockRidgeOffset=function(){return this._rockRidgeOffset},gn.prototype.rootCheckForRockRidge=function(d){var k=this.getDirectory(d);this._rockRidgeOffset=k.getDotEntry(d)._getRockRidgeOffset(d),this._rockRidgeOffset>-1&&(this._fileOrDir=null)},gn.prototype.length=function(){return this._data[0]},gn.prototype.extendedAttributeRecordLength=function(){return this._data[1]},gn.prototype.lba=function(){return this._data.readUInt32LE(2)*2048},gn.prototype.dataLength=function(){return this._data.readUInt32LE(10)},gn.prototype.recordingDate=function(){return Ra(this._data,18)},gn.prototype.fileFlags=function(){return this._data[25]},gn.prototype.fileUnitSize=function(){return this._data[26]},gn.prototype.interleaveGapSize=function(){return this._data[27]},gn.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(28)},gn.prototype.identifier=function(){return this._getString(33,this._data[32])},gn.prototype.fileName=function(d){if(this.hasRockRidge()){var k=this._rockRidgeFilename(d);if(k!==null)return k}var _=this.identifier();if(this.isDirectory(d))return _;var Ee=_.indexOf(";");return Ee===-1?_:_[Ee-1]==="."?_.slice(0,Ee-1):_.slice(0,Ee)},gn.prototype.isDirectory=function(d){var k=!!(this.fileFlags()&2);return!k&&this.hasRockRidge()&&(k=this.getSUEntries(d).filter(function(_){return _ instanceof pu}).length>0),k},gn.prototype.isSymlink=function(d){return this.hasRockRidge()&&this.getSUEntries(d).filter(function(k){return k instanceof hu}).length>0},gn.prototype.getSymlinkPath=function(d){for(var k="",_=this.getSUEntries(d),Ee=this._getGetString(),Be=0,Me=_;Be<Me.length;Be+=1){var Ye=Me[Be];if(Ye instanceof hu){for(var et=Ye.componentRecords(),ft=0,kt=et;ft<kt.length;ft+=1){var Ht=kt[ft],ir=Ht.flags();ir&2?k+="./":ir&4?k+="../":ir&8?k+="/":(k+=Ht.content(Ee),ir&1||(k+="/"))}if(!Ye.continueFlag())break}}return k.length>1&&k[k.length-1]==="/"?k.slice(0,k.length-1):k},gn.prototype.getFile=function(d){if(this.isDirectory(d))throw new Error("Tried to get a File from a directory.");return this._fileOrDir===null&&(this._fileOrDir=d.slice(this.lba(),this.lba()+this.dataLength())),this._fileOrDir},gn.prototype.getDirectory=function(d){if(!this.isDirectory(d))throw new Error("Tried to get a Directory from a file.");return this._fileOrDir===null&&(this._fileOrDir=this._constructDirectory(d)),this._fileOrDir},gn.prototype.getSUEntries=function(d){return this._suEntries||this._constructSUEntries(d),this._suEntries},gn.prototype._rockRidgeFilename=function(d){var k=this.getSUEntries(d).filter(function(et){return et instanceof il});if(k.length===0||k[0].flags()&6)return null;for(var _="",Ee=this._getGetString(),Be=0,Me=k;Be<Me.length;Be+=1){var Ye=Me[Be];if(_+=Ye.name(Ee),!(Ye.flags()&1))break}return _},gn.prototype._constructSUEntries=function(d){var k=33+this._data[32];k%2===1&&k++,k+=this._rockRidgeOffset,this._suEntries=Yu(this._data,k,this.length(),d)},gn.prototype._getRockRidgeOffset=function(d){this._rockRidgeOffset=0;var k=this.getSUEntries(d);if(k.length>0){var _=k[0];if(_ instanceof $u&&_.checkBytesPass())for(var Ee=1;Ee<k.length;Ee++){var Be=k[Ee];if(Be instanceof rl||Be instanceof tl&&Be.extensionIdentifier()===If)return _.bytesSkipped()}}return this._rockRidgeOffset=-1,-1};var Ju=function(ne){function d(k,_){ne.call(this,k,_)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype._getString=function(_,Ee){return ei(this._data,_,Ee)},d.prototype._constructDirectory=function(_){return new Pf(this,_)},d.prototype._getGetString=function(){return ei},d}(gn),Xu=function(ne){function d(k,_){ne.call(this,k,_)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype._getString=function(_,Ee){return xu(this._data,_,Ee)},d.prototype._constructDirectory=function(_){return new qf(this,_)},d.prototype._getGetString=function(){return xu},d}(gn),On=function(d){this._data=d};On.prototype.signatureWord=function(){return this._data.readUInt16BE(0)},On.prototype.signatureWordString=function(){return ei(this._data,0,2)},On.prototype.length=function(){return this._data[2]},On.prototype.suVersion=function(){return this._data[3]};var Zu=function(ne){function d(k){ne.call(this,k),this._entries=null}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.continuationLba=function(){return this._data.readUInt32LE(4)},d.prototype.continuationLbaOffset=function(){return this._data.readUInt32LE(12)},d.prototype.continuationLength=function(){return this._data.readUInt32LE(20)},d.prototype.getEntries=function(_){if(!this._entries){var Ee=this.continuationLba()*2048+this.continuationLbaOffset();this._entries=Yu(_,Ee,this.continuationLength(),_)}return this._entries},d}(On),Tf=function(ne){function d(k){ne.call(this,k)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d}(On),$u=function(ne){function d(k){ne.call(this,k)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.checkBytesPass=function(){return this._data[4]===190&&this._data[5]===239},d.prototype.bytesSkipped=function(){return this._data[6]},d}(On),el=function(ne){function d(k){ne.call(this,k)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d}(On),tl=function(ne){function d(k){ne.call(this,k)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.identifierLength=function(){return this._data[4]},d.prototype.descriptorLength=function(){return this._data[5]},d.prototype.sourceLength=function(){return this._data[6]},d.prototype.extensionVersion=function(){return this._data[7]},d.prototype.extensionIdentifier=function(){return ei(this._data,8,this.identifierLength())},d.prototype.extensionDescriptor=function(){return ei(this._data,8+this.identifierLength(),this.descriptorLength())},d.prototype.extensionSource=function(){return ei(this._data,8+this.identifierLength()+this.descriptorLength(),this.sourceLength())},d}(On),Df=function(ne){function d(k){ne.call(this,k)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.extensionSequence=function(){return this._data[4]},d}(On),rl=function(ne){function d(k){ne.call(this,k)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d}(On),nl=function(ne){function d(k){ne.call(this,k)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.mode=function(){return this._data.readUInt32LE(4)},d.prototype.fileLinks=function(){return this._data.readUInt32LE(12)},d.prototype.uid=function(){return this._data.readUInt32LE(20)},d.prototype.gid=function(){return this._data.readUInt32LE(28)},d.prototype.inode=function(){return this._data.readUInt32LE(36)},d}(On),Rf=function(ne){function d(k){ne.call(this,k)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.devTHigh=function(){return this._data.readUInt32LE(4)},d.prototype.devTLow=function(){return this._data.readUInt32LE(12)},d}(On),hu=function(ne){function d(k){ne.call(this,k)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.flags=function(){return this._data[4]},d.prototype.continueFlag=function(){return this.flags()&1},d.prototype.componentRecords=function(){for(var _=this,Ee=new Array,Be=5;Be<this.length();){var Me=new Cs(_._data.slice(Be));Ee.push(Me),Be+=Me.length()}return Ee},d}(On),Cs=function(d){this._data=d};Cs.prototype.flags=function(){return this._data[0]},Cs.prototype.length=function(){return 2+this.componentLength()},Cs.prototype.componentLength=function(){return this._data[1]},Cs.prototype.content=function(d){return d(this._data,2,this.componentLength())};var il=function(ne){function d(k){ne.call(this,k)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.flags=function(){return this._data[4]},d.prototype.name=function(_){return _(this._data,5,this.length()-5)},d}(On),pu=function(ne){function d(k){ne.call(this,k)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.childDirectoryLba=function(){return this._data.readUInt32LE(4)},d}(On),Ff=function(ne){function d(k){ne.call(this,k)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.parentDirectoryLba=function(){return this._data.readUInt32LE(4)},d}(On),al=function(ne){function d(k){ne.call(this,k)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d}(On),ol=function(ne){function d(k){ne.call(this,k)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.flags=function(){return this._data[4]},d.prototype.creation=function(){return this.flags()&1?this._longFormDates()?Ri(this._data,5):Ra(this._data,5):null},d.prototype.modify=function(){if(this.flags()&2){var _=this.flags()&1?1:0;return this._longFormDates?Ri(this._data,5+_*17):Ra(this._data,5+_*7)}else return null},d.prototype.access=function(){if(this.flags()&4){var _=this.flags()&1?1:0;return _+=this.flags()&2?1:0,this._longFormDates?Ri(this._data,5+_*17):Ra(this._data,5+_*7)}else return null},d.prototype.backup=function(){if(this.flags()&16){var _=this.flags()&1?1:0;return _+=this.flags()&2?1:0,_+=this.flags()&4?1:0,this._longFormDates?Ri(this._data,5+_*17):Ra(this._data,5+_*7)}else return null},d.prototype.expiration=function(){if(this.flags()&32){var _=this.flags()&1?1:0;return _+=this.flags()&2?1:0,_+=this.flags()&4?1:0,_+=this.flags()&16?1:0,this._longFormDates?Ri(this._data,5+_*17):Ra(this._data,5+_*7)}else return null},d.prototype.effective=function(){if(this.flags()&64){var _=this.flags()&1?1:0;return _+=this.flags()&2?1:0,_+=this.flags()&4?1:0,_+=this.flags()&16?1:0,_+=this.flags()&32?1:0,this._longFormDates?Ri(this._data,5+_*17):Ra(this._data,5+_*7)}else return null},d.prototype._longFormDates=function(){return!!this.flags()},d}(On),Bf=function(ne){function d(k){ne.call(this,k)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.virtualSizeHigh=function(){return this._data.readUInt32LE(4)},d.prototype.virtualSizeLow=function(){return this._data.readUInt32LE(12)},d.prototype.tableDepth=function(){return this._data[20]},d}(On),ks=function(d,k){var _=this;this._fileList=[],this._fileMap={},this._record=d;var Ee=d.lba(),Be=Ee+d.dataLength();if(!(d.fileFlags()&2)){var Me=d.getSUEntries(k).filter(function(kt){return kt instanceof pu})[0];Ee=Me.childDirectoryLba()*2048,Be=1/0}for(;Ee<Be;){var Ye=k[Ee];if(Ye===0){Ee++;continue}var et=_._constructDirectoryRecord(k.slice(Ee)),ft=et.fileName(k);ft!=="\0"&&ft!==""?(!et.hasRockRidge()||et.getSUEntries(k).filter(function(kt){return kt instanceof al}).length===0)&&(_._fileMap[ft]=et,_._fileList.push(ft)):Be===1/0&&(Be=Ee+et.dataLength()),Ee+=et.length()}};ks.prototype.getRecord=function(d){return this._fileMap[d]},ks.prototype.getFileList=function(){return this._fileList},ks.prototype.getDotEntry=function(d){return this._constructDirectoryRecord(d.slice(this._record.lba()))};var Pf=function(ne){function d(k,_){ne.call(this,k,_)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype._constructDirectoryRecord=function(_){return new Ju(_,this._record.getRockRidgeOffset())},d}(ks),qf=function(ne){function d(k,_){ne.call(this,k,_)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype._constructDirectoryRecord=function(_){return new Xu(_,this._record.getRockRidgeOffset())},d}(ks),U0=function(ne){function d(k,_,Ee){var Be=this;_===void 0&&(_=""),Ee===void 0&&(Ee=!0),ne.call(this),this._data=k,Zt(Ee,d.Name,{data:"ISO data as a Buffer",name:_});for(var Me=!1,Ye=16*2048,et=new Array;!Me;){var ft=k.slice(Ye),kt=new So(ft);switch(kt.type()){case 1:et.push(new kf(ft));break;case 2:et.push(new Of(ft));break;case 255:Me=!0;break}Ye+=2048}if(et.length===0)throw new Ae(_e.EIO,"Unable to find a suitable volume descriptor.");et.forEach(function(Ht){(!Be._pvd||Be._pvd.type()!==2)&&(Be._pvd=Ht)}),this._root=this._pvd.rootDirectoryEntry(k),this._name=_}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.Create=function(_,Ee){var Be,Me;try{Be=new d(_.data,_.name,!1)}catch(Ye){Ye=Ye}finally{Ee(Me,Be)}},d.isAvailable=function(){return!0},d.prototype.getName=function(){var _="IsoFS"+this._name+(this._pvd?"-"+this._pvd.name():"");return this._root&&this._root.hasRockRidge()&&(_+="-RockRidge"),_},d.prototype.diskSpace=function(_,Ee){Ee(this._data.length,0)},d.prototype.isReadOnly=function(){return!0},d.prototype.supportsLinks=function(){return!1},d.prototype.supportsProps=function(){return!1},d.prototype.supportsSynch=function(){return!0},d.prototype.statSync=function(_,Ee){var Be=this._getDirectoryRecord(_);if(Be===null)throw Ae.ENOENT(_);return this._getStats(_,Be)},d.prototype.openSync=function(_,Ee,Be){if(Ee.isWriteable())throw new Ae(_e.EPERM,_);var Me=this._getDirectoryRecord(_);if(Me){if(Me.isSymlink(this._data))return this.openSync(Oe.resolve(_,Me.getSymlinkPath(this._data)),Ee,Be);if(Me.isDirectory(this._data))throw Ae.EISDIR(_);var Ye=Me.getFile(this._data),et=this._getStats(_,Me);switch(Ee.pathExistsAction()){case Fe.THROW_EXCEPTION:case Fe.TRUNCATE_FILE:throw Ae.EEXIST(_);case Fe.NOP:return new Dt(this,_,Ee,et,Ye);default:throw new Ae(_e.EINVAL,"Invalid FileMode object.")}}else throw Ae.ENOENT(_)},d.prototype.readdirSync=function(_){var Ee=this._getDirectoryRecord(_);if(Ee){if(Ee.isDirectory(this._data))return Ee.getDirectory(this._data).getFileList().slice(0);throw Ae.ENOTDIR(_)}else throw Ae.ENOENT(_)},d.prototype.readFileSync=function(_,Ee,Be){var Me=this.openSync(_,Be,420);try{var Ye=Me,et=Ye.getBuffer();return Ee===null?fr(et):et.toString(Ee)}finally{Me.closeSync()}},d.prototype._getDirectoryRecord=function(_){var Ee=this;if(_==="/")return this._root;for(var Be=_.split("/").slice(1),Me=this._root,Ye=0,et=Be;Ye<et.length;Ye+=1){var ft=et[Ye];if(Me.isDirectory(Ee._data)){if(Me=Me.getDirectory(Ee._data).getRecord(ft),!Me)return null}else return null}return Me},d.prototype._getStats=function(_,Ee){if(Ee.isSymlink(this._data)){var Be=Oe.resolve(_,Ee.getSymlinkPath(this._data)),Me=this._getDirectoryRecord(Be);return Me?this._getStats(Be,Me):null}else{var Ye=Ee.dataLength(),et=365,ft=Ee.recordingDate(),kt=ft,Ht=ft,ir=ft;if(Ee.hasRockRidge())for(var _r=Ee.getSUEntries(this._data),vr=0,qr=_r;vr<qr.length;vr+=1){var zr=qr[vr];if(zr instanceof nl)et=zr.mode();else if(zr instanceof ol){var Wr=zr.flags();Wr&4&&(kt=zr.access()),Wr&2&&(Ht=zr.modify()),Wr&1&&(ir=zr.creation())}}return et=et&365,new Ue(Ee.isDirectory(this._data)?Ve.DIRECTORY:Ve.FILE,Ye,et,kt,Ht,ir)}},d}(Wt);U0.Name="IsoFS",U0.Options={data:{type:"object",description:"The ISO file in a buffer",validator:lt}},[nt,xo,po,ki,mo,Kn,st,U0,Tt,Mt,An,L0,M0,Da].forEach(function(ne){var d=ne.Create;ne.Create=function(k,_){var Ee=typeof k=="function",Be=Ee?k:_,Me=Ee?{}:k;function Ye(et){et?Be(et):d.call(ne,Me,Be)}yt(ne,Me,Ye)}});var z0={AsyncMirror:nt,Dropbox:xo,Emscripten:po,FolderAdapter:ki,HTML5FS:mo,InMemory:Kn,IndexedDB:st,IsoFS:U0,LocalStorage:Tt,MountableFileSystem:Mt,OverlayFS:An,WorkerFS:L0,XmlHttpRequest:M0,ZipFS:Da};Te.initializeTTYs&&Te.initializeTTYs();function Nf(ne){ne.Buffer=f,ne.process=Te;var d=ne.require?ne.require:null;ne.require=function(k){var _=sl(k);return _||d.apply(null,Array.prototype.slice.call(arguments,0))}}function Lf(ne,d){z0[ne]=d}function sl(ne){switch(ne){case"fs":return it;case"path":return Oe;case"buffer":return Ie;case"process":return Te;case"bfs_utils":return Xt;default:return z0[ne]}}function cl(ne){return it.initialize(ne)}function Mf(ne,d){_u(ne,function(k,_){_?(cl(_),d()):d(k)})}function _u(ne,d){var k=ne.fs;if(!k)return d(new Ae(_e.EPERM,'Missing "fs" property on configuration object.'));var _=ne.options,Ee=0,Be=!1;function Me(){if(!Be){Be=!0;var ft=z0[k];ft?ft.Create(_,d):d(new Ae(_e.EPERM,"File system "+k+" is not available in BrowserFS."))}}if(_!==null&&typeof _=="object"){var Ye=!1,et=Object.keys(_).filter(function(ft){return ft!=="fs"});et.forEach(function(ft){var kt=_[ft];kt!==null&&typeof kt=="object"&&kt.fs&&(Ee++,_u(kt,function(Ht,ir){if(Ee--,Ht){if(Be)return;Be=!0,d(Ht)}else _[ft]=ir,Ee===0&&Ye&&Me()}))}),Ye=!0}Ee===0&&Me()}"ab".substr(-1)!=="b"&&(String.prototype.substr=function(ne){return function(d,k){return d<0&&(d=this.length+d),ne.call(this,d,k)}}(String.prototype.substr)),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&(Uint8Array.prototype.slice||(Uint8Array.prototype.slice=function(ne,d){ne===void 0&&(ne=0),d===void 0&&(d=this.length);var k=this;return ne<0&&(ne=this.length+ne,ne<0&&(ne=0)),d<0&&(d=this.length+d,d<0&&(d=0)),d<ne&&(d=ne),new Uint8Array(k.buffer,k.byteOffset+ne,d-ne)})),i.install=Nf,i.registerFileSystem=Lf,i.BFSRequire=sl,i.initialize=cl,i.configure=Mf,i.getFileSystem=_u,i.EmscriptenFS=Je,i.FileSystem=z0,i.Errors=qe,i.setImmediate=Ar}).call(i,c(1),function(){return this}(),c(5)(e),c(6))},function(e,i,c){e.exports=c(2).Buffer},function(e,i,c){(function(_e){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
* @license  MIT
*/var m=c(3),g=c(4);i.Buffer=_e,i.SlowBuffer=Xe,i.INSPECT_MAX_BYTES=50;var Te=2147483647;i.kMaxLength=Te,_e.TYPED_ARRAY_SUPPORT=Ie(),!_e.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Ie(){try{var nt=new Uint8Array(1);return nt.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},nt.foo()===42}catch{return!1}}function Oe(nt){if(nt>Te)throw new RangeError("Invalid typed array length");var ze=new Uint8Array(nt);return ze.__proto__=_e.prototype,ze}function _e(nt,ze,Ge){if(typeof nt=="number"){if(typeof ze=="string")throw new Error("If encoding is specified then the first argument must be a string");return Fe(nt)}return De(nt,ze,Ge)}typeof Symbol<"u"&&Symbol.species&&_e[Symbol.species]===_e&&Object.defineProperty(_e,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),_e.poolSize=8192;function De(nt,ze,Ge){if(typeof nt=="number")throw new TypeError('"value" argument must not be a number');return pt(nt)?Ue(nt,ze,Ge):typeof nt=="string"?Ne(nt,ze):We(nt)}_e.from=function(nt,ze,Ge){return De(nt,ze,Ge)},_e.prototype.__proto__=Uint8Array.prototype,_e.__proto__=Uint8Array;function Ae(nt){if(typeof nt!="number")throw new TypeError('"size" argument must be a number');if(nt<0)throw new RangeError('"size" argument must not be negative')}function qe(nt,ze,Ge){return Ae(nt),nt<=0?Oe(nt):ze!==void 0?typeof Ge=="string"?Oe(nt).fill(ze,Ge):Oe(nt).fill(ze):Oe(nt)}_e.alloc=function(nt,ze,Ge){return qe(nt,ze,Ge)};function Fe(nt){return Ae(nt),Oe(nt<0?0:He(nt)|0)}_e.allocUnsafe=function(nt){return Fe(nt)},_e.allocUnsafeSlow=function(nt){return Fe(nt)};function Ne(nt,ze){if((typeof ze!="string"||ze==="")&&(ze="utf8"),!_e.isEncoding(ze))throw new TypeError('"encoding" must be a valid string encoding');var Ge=ot(nt,ze)|0,ut=Oe(Ge),Et=ut.write(nt,ze);return Et!==Ge&&(ut=ut.slice(0,Et)),ut}function Ve(nt){for(var ze=nt.length<0?0:He(nt.length)|0,Ge=Oe(ze),ut=0;ut<ze;ut+=1)Ge[ut]=nt[ut]&255;return Ge}function Ue(nt,ze,Ge){if(ze<0||nt.byteLength<ze)throw new RangeError("'offset' is out of bounds");if(nt.byteLength<ze+(Ge||0))throw new RangeError("'length' is out of bounds");var ut;return ze===void 0&&Ge===void 0?ut=new Uint8Array(nt):Ge===void 0?ut=new Uint8Array(nt,ze):ut=new Uint8Array(nt,ze,Ge),ut.__proto__=_e.prototype,ut}function We(nt){if(_e.isBuffer(nt)){var ze=He(nt.length)|0,Ge=Oe(ze);return Ge.length===0||nt.copy(Ge,0,0,ze),Ge}if(nt){if(Dt(nt)||"length"in nt)return typeof nt.length!="number"||er(nt.length)?Oe(0):Ve(nt);if(nt.type==="Buffer"&&Array.isArray(nt.data))return Ve(nt.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function He(nt){if(nt>=Te)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Te.toString(16)+" bytes");return nt|0}function Xe(nt){return+nt!=nt&&(nt=0),_e.alloc(+nt)}_e.isBuffer=function(ze){return ze!=null&&ze._isBuffer===!0},_e.compare=function(ze,Ge){if(!_e.isBuffer(ze)||!_e.isBuffer(Ge))throw new TypeError("Arguments must be Buffers");if(ze===Ge)return 0;for(var ut=ze.length,Et=Ge.length,It=0,jt=Math.min(ut,Et);It<jt;++It)if(ze[It]!==Ge[It]){ut=ze[It],Et=Ge[It];break}return ut<Et?-1:Et<ut?1:0},_e.isEncoding=function(ze){switch(String(ze).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},_e.concat=function(ze,Ge){if(!Array.isArray(ze))throw new TypeError('"list" argument must be an Array of Buffers');if(ze.length===0)return _e.alloc(0);var ut;if(Ge===void 0)for(Ge=0,ut=0;ut<ze.length;++ut)Ge+=ze[ut].length;var Et=_e.allocUnsafe(Ge),It=0;for(ut=0;ut<ze.length;++ut){var jt=ze[ut];if(!_e.isBuffer(jt))throw new TypeError('"list" argument must be an Array of Buffers');jt.copy(Et,It),It+=jt.length}return Et};function ot(nt,ze){if(_e.isBuffer(nt))return nt.length;if(Dt(nt)||pt(nt))return nt.byteLength;typeof nt!="string"&&(nt=""+nt);var Ge=nt.length;if(Ge===0)return 0;for(var ut=!1;;)switch(ze){case"ascii":case"latin1":case"binary":return Ge;case"utf8":case"utf-8":case void 0:return dr(nt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ge*2;case"hex":return Ge>>>1;case"base64":return Wt(nt).length;default:if(ut)return dr(nt).length;ze=(""+ze).toLowerCase(),ut=!0}}_e.byteLength=ot;function tt(nt,ze,Ge){var ut=!1;if((ze===void 0||ze<0)&&(ze=0),ze>this.length||((Ge===void 0||Ge>this.length)&&(Ge=this.length),Ge<=0)||(Ge>>>=0,ze>>>=0,Ge<=ze))return"";for(nt||(nt="utf8");;)switch(nt){case"hex":return Bt(this,ze,Ge);case"utf8":case"utf-8":return ur(this,ze,Ge);case"ascii":return ct(this,ze,Ge);case"latin1":case"binary":return dt(this,ze,Ge);case"base64":return zt(this,ze,Ge);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ct(this,ze,Ge);default:if(ut)throw new TypeError("Unknown encoding: "+nt);nt=(nt+"").toLowerCase(),ut=!0}}_e.prototype._isBuffer=!0;function gt(nt,ze,Ge){var ut=nt[ze];nt[ze]=nt[Ge],nt[Ge]=ut}_e.prototype.swap16=function(){var ze=this.length;if(ze%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Ge=0;Ge<ze;Ge+=2)gt(this,Ge,Ge+1);return this},_e.prototype.swap32=function(){var ze=this.length;if(ze%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Ge=0;Ge<ze;Ge+=4)gt(this,Ge,Ge+3),gt(this,Ge+1,Ge+2);return this},_e.prototype.swap64=function(){var ze=this.length;if(ze%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Ge=0;Ge<ze;Ge+=8)gt(this,Ge,Ge+7),gt(this,Ge+1,Ge+6),gt(this,Ge+2,Ge+5),gt(this,Ge+3,Ge+4);return this},_e.prototype.toString=function(){var ze=this.length;return ze===0?"":arguments.length===0?ur(this,0,ze):tt.apply(this,arguments)},_e.prototype.equals=function(ze){if(!_e.isBuffer(ze))throw new TypeError("Argument must be a Buffer");return this===ze?!0:_e.compare(this,ze)===0},_e.prototype.inspect=function(){var ze="",Ge=i.INSPECT_MAX_BYTES;return this.length>0&&(ze=this.toString("hex",0,Ge).match(/.{2}/g).join(" "),this.length>Ge&&(ze+=" ... ")),"<Buffer "+ze+">"},_e.prototype.compare=function(ze,Ge,ut,Et,It){if(!_e.isBuffer(ze))throw new TypeError("Argument must be a Buffer");if(Ge===void 0&&(Ge=0),ut===void 0&&(ut=ze?ze.length:0),Et===void 0&&(Et=0),It===void 0&&(It=this.length),Ge<0||ut>ze.length||Et<0||It>this.length)throw new RangeError("out of range index");if(Et>=It&&Ge>=ut)return 0;if(Et>=It)return-1;if(Ge>=ut)return 1;if(Ge>>>=0,ut>>>=0,Et>>>=0,It>>>=0,this===ze)return 0;for(var jt=It-Et,tr=ut-Ge,Sr=Math.min(jt,tr),Lr=this.slice(Et,It),Pr=ze.slice(Ge,ut),Er=0;Er<Sr;++Er)if(Lr[Er]!==Pr[Er]){jt=Lr[Er],tr=Pr[Er];break}return jt<tr?-1:tr<jt?1:0};function vt(nt,ze,Ge,ut,Et){if(nt.length===0)return-1;if(typeof Ge=="string"?(ut=Ge,Ge=0):Ge>2147483647?Ge=2147483647:Ge<-2147483648&&(Ge=-2147483648),Ge=+Ge,er(Ge)&&(Ge=Et?0:nt.length-1),Ge<0&&(Ge=nt.length+Ge),Ge>=nt.length){if(Et)return-1;Ge=nt.length-1}else if(Ge<0)if(Et)Ge=0;else return-1;if(typeof ze=="string"&&(ze=_e.from(ze,ut)),_e.isBuffer(ze))return ze.length===0?-1:rt(nt,ze,Ge,ut,Et);if(typeof ze=="number")return ze=ze&255,typeof Uint8Array.prototype.indexOf=="function"?Et?Uint8Array.prototype.indexOf.call(nt,ze,Ge):Uint8Array.prototype.lastIndexOf.call(nt,ze,Ge):rt(nt,[ze],Ge,ut,Et);throw new TypeError("val must be string, number or Buffer")}function rt(nt,ze,Ge,ut,Et){var It=1,jt=nt.length,tr=ze.length;if(ut!==void 0&&(ut=String(ut).toLowerCase(),ut==="ucs2"||ut==="ucs-2"||ut==="utf16le"||ut==="utf-16le")){if(nt.length<2||ze.length<2)return-1;It=2,jt/=2,tr/=2,Ge/=2}function Sr(Qr,Cr){return It===1?Qr[Cr]:Qr.readUInt16BE(Cr*It)}var Lr;if(Et){var Pr=-1;for(Lr=Ge;Lr<jt;Lr++)if(Sr(nt,Lr)===Sr(ze,Pr===-1?0:Lr-Pr)){if(Pr===-1&&(Pr=Lr),Lr-Pr+1===tr)return Pr*It}else Pr!==-1&&(Lr-=Lr-Pr),Pr=-1}else for(Ge+tr>jt&&(Ge=jt-tr),Lr=Ge;Lr>=0;Lr--){for(var Er=!0,gr=0;gr<tr;gr++)if(Sr(nt,Lr+gr)!==Sr(ze,gr)){Er=!1;break}if(Er)return Lr}return-1}_e.prototype.includes=function(ze,Ge,ut){return this.indexOf(ze,Ge,ut)!==-1},_e.prototype.indexOf=function(ze,Ge,ut){return vt(this,ze,Ge,ut,!0)},_e.prototype.lastIndexOf=function(ze,Ge,ut){return vt(this,ze,Ge,ut,!1)};function ht(nt,ze,Ge,ut){Ge=Number(Ge)||0;var Et=nt.length-Ge;ut?(ut=Number(ut),ut>Et&&(ut=Et)):ut=Et;var It=ze.length;if(It%2!==0)throw new TypeError("Invalid hex string");ut>It/2&&(ut=It/2);for(var jt=0;jt<ut;++jt){var tr=parseInt(ze.substr(jt*2,2),16);if(er(tr))return jt;nt[Ge+jt]=tr}return jt}function it(nt,ze,Ge,ut){return xt(dr(ze,nt.length-Ge),nt,Ge,ut)}function mt(nt,ze,Ge,ut){return xt(Je(ze),nt,Ge,ut)}function Ze(nt,ze,Ge,ut){return mt(nt,ze,Ge,ut)}function Ft(nt,ze,Ge,ut){return xt(Wt(ze),nt,Ge,ut)}function Zt(nt,ze,Ge,ut){return xt(At(ze,nt.length-Ge),nt,Ge,ut)}_e.prototype.write=function(ze,Ge,ut,Et){if(Ge===void 0)Et="utf8",ut=this.length,Ge=0;else if(ut===void 0&&typeof Ge=="string")Et=Ge,ut=this.length,Ge=0;else if(isFinite(Ge))Ge=Ge>>>0,isFinite(ut)?(ut=ut>>>0,Et===void 0&&(Et="utf8")):(Et=ut,ut=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var It=this.length-Ge;if((ut===void 0||ut>It)&&(ut=It),ze.length>0&&(ut<0||Ge<0)||Ge>this.length)throw new RangeError("Attempt to write outside buffer bounds");Et||(Et="utf8");for(var jt=!1;;)switch(Et){case"hex":return ht(this,ze,Ge,ut);case"utf8":case"utf-8":return it(this,ze,Ge,ut);case"ascii":return mt(this,ze,Ge,ut);case"latin1":case"binary":return Ze(this,ze,Ge,ut);case"base64":return Ft(this,ze,Ge,ut);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Zt(this,ze,Ge,ut);default:if(jt)throw new TypeError("Unknown encoding: "+Et);Et=(""+Et).toLowerCase(),jt=!0}},_e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function zt(nt,ze,Ge){return ze===0&&Ge===nt.length?m.fromByteArray(nt):m.fromByteArray(nt.slice(ze,Ge))}function ur(nt,ze,Ge){Ge=Math.min(nt.length,Ge);for(var ut=[],Et=ze;Et<Ge;){var It=nt[Et],jt=null,tr=It>239?4:It>223?3:It>191?2:1;if(Et+tr<=Ge){var Sr,Lr,Pr,Er;switch(tr){case 1:It<128&&(jt=It);break;case 2:Sr=nt[Et+1],(Sr&192)===128&&(Er=(It&31)<<6|Sr&63,Er>127&&(jt=Er));break;case 3:Sr=nt[Et+1],Lr=nt[Et+2],(Sr&192)===128&&(Lr&192)===128&&(Er=(It&15)<<12|(Sr&63)<<6|Lr&63,Er>2047&&(Er<55296||Er>57343)&&(jt=Er));break;case 4:Sr=nt[Et+1],Lr=nt[Et+2],Pr=nt[Et+3],(Sr&192)===128&&(Lr&192)===128&&(Pr&192)===128&&(Er=(It&15)<<18|(Sr&63)<<12|(Lr&63)<<6|Pr&63,Er>65535&&Er<1114112&&(jt=Er))}}jt===null?(jt=65533,tr=1):jt>65535&&(jt-=65536,ut.push(jt>>>10&1023|55296),jt=56320|jt&1023),ut.push(jt),Et+=tr}return St(ut)}var bt=4096;function St(nt){var ze=nt.length;if(ze<=bt)return String.fromCharCode.apply(String,nt);for(var Ge="",ut=0;ut<ze;)Ge+=String.fromCharCode.apply(String,nt.slice(ut,ut+=bt));return Ge}function ct(nt,ze,Ge){var ut="";Ge=Math.min(nt.length,Ge);for(var Et=ze;Et<Ge;++Et)ut+=String.fromCharCode(nt[Et]&127);return ut}function dt(nt,ze,Ge){var ut="";Ge=Math.min(nt.length,Ge);for(var Et=ze;Et<Ge;++Et)ut+=String.fromCharCode(nt[Et]);return ut}function Bt(nt,ze,Ge){var ut=nt.length;(!ze||ze<0)&&(ze=0),(!Ge||Ge<0||Ge>ut)&&(Ge=ut);for(var Et="",It=ze;It<Ge;++It)Et+=$t(nt[It]);return Et}function Ct(nt,ze,Ge){for(var ut=nt.slice(ze,Ge),Et="",It=0;It<ut.length;It+=2)Et+=String.fromCharCode(ut[It]+ut[It+1]*256);return Et}_e.prototype.slice=function(ze,Ge){var ut=this.length;ze=~~ze,Ge=Ge===void 0?ut:~~Ge,ze<0?(ze+=ut,ze<0&&(ze=0)):ze>ut&&(ze=ut),Ge<0?(Ge+=ut,Ge<0&&(Ge=0)):Ge>ut&&(Ge=ut),Ge<ze&&(Ge=ze);var Et=this.subarray(ze,Ge);return Et.__proto__=_e.prototype,Et};function Kt(nt,ze,Ge){if(nt%1!==0||nt<0)throw new RangeError("offset is not uint");if(nt+ze>Ge)throw new RangeError("Trying to access beyond buffer length")}_e.prototype.readUIntLE=function(ze,Ge,ut){ze=ze>>>0,Ge=Ge>>>0,ut||Kt(ze,Ge,this.length);for(var Et=this[ze],It=1,jt=0;++jt<Ge&&(It*=256);)Et+=this[ze+jt]*It;return Et},_e.prototype.readUIntBE=function(ze,Ge,ut){ze=ze>>>0,Ge=Ge>>>0,ut||Kt(ze,Ge,this.length);for(var Et=this[ze+--Ge],It=1;Ge>0&&(It*=256);)Et+=this[ze+--Ge]*It;return Et},_e.prototype.readUInt8=function(ze,Ge){return ze=ze>>>0,Ge||Kt(ze,1,this.length),this[ze]},_e.prototype.readUInt16LE=function(ze,Ge){return ze=ze>>>0,Ge||Kt(ze,2,this.length),this[ze]|this[ze+1]<<8},_e.prototype.readUInt16BE=function(ze,Ge){return ze=ze>>>0,Ge||Kt(ze,2,this.length),this[ze]<<8|this[ze+1]},_e.prototype.readUInt32LE=function(ze,Ge){return ze=ze>>>0,Ge||Kt(ze,4,this.length),(this[ze]|this[ze+1]<<8|this[ze+2]<<16)+this[ze+3]*16777216},_e.prototype.readUInt32BE=function(ze,Ge){return ze=ze>>>0,Ge||Kt(ze,4,this.length),this[ze]*16777216+(this[ze+1]<<16|this[ze+2]<<8|this[ze+3])},_e.prototype.readIntLE=function(ze,Ge,ut){ze=ze>>>0,Ge=Ge>>>0,ut||Kt(ze,Ge,this.length);for(var Et=this[ze],It=1,jt=0;++jt<Ge&&(It*=256);)Et+=this[ze+jt]*It;return It*=128,Et>=It&&(Et-=Math.pow(2,8*Ge)),Et},_e.prototype.readIntBE=function(ze,Ge,ut){ze=ze>>>0,Ge=Ge>>>0,ut||Kt(ze,Ge,this.length);for(var Et=Ge,It=1,jt=this[ze+--Et];Et>0&&(It*=256);)jt+=this[ze+--Et]*It;return It*=128,jt>=It&&(jt-=Math.pow(2,8*Ge)),jt},_e.prototype.readInt8=function(ze,Ge){return ze=ze>>>0,Ge||Kt(ze,1,this.length),this[ze]&128?(255-this[ze]+1)*-1:this[ze]},_e.prototype.readInt16LE=function(ze,Ge){ze=ze>>>0,Ge||Kt(ze,2,this.length);var ut=this[ze]|this[ze+1]<<8;return ut&32768?ut|4294901760:ut},_e.prototype.readInt16BE=function(ze,Ge){ze=ze>>>0,Ge||Kt(ze,2,this.length);var ut=this[ze+1]|this[ze]<<8;return ut&32768?ut|4294901760:ut},_e.prototype.readInt32LE=function(ze,Ge){return ze=ze>>>0,Ge||Kt(ze,4,this.length),this[ze]|this[ze+1]<<8|this[ze+2]<<16|this[ze+3]<<24},_e.prototype.readInt32BE=function(ze,Ge){return ze=ze>>>0,Ge||Kt(ze,4,this.length),this[ze]<<24|this[ze+1]<<16|this[ze+2]<<8|this[ze+3]},_e.prototype.readFloatLE=function(ze,Ge){return ze=ze>>>0,Ge||Kt(ze,4,this.length),g.read(this,ze,!0,23,4)},_e.prototype.readFloatBE=function(ze,Ge){return ze=ze>>>0,Ge||Kt(ze,4,this.length),g.read(this,ze,!1,23,4)},_e.prototype.readDoubleLE=function(ze,Ge){return ze=ze>>>0,Ge||Kt(ze,8,this.length),g.read(this,ze,!0,52,8)},_e.prototype.readDoubleBE=function(ze,Ge){return ze=ze>>>0,Ge||Kt(ze,8,this.length),g.read(this,ze,!1,52,8)};function fr(nt,ze,Ge,ut,Et,It){if(!_e.isBuffer(nt))throw new TypeError('"buffer" argument must be a Buffer instance');if(ze>Et||ze<It)throw new RangeError('"value" argument is out of bounds');if(Ge+ut>nt.length)throw new RangeError("Index out of range")}_e.prototype.writeUIntLE=function(ze,Ge,ut,Et){if(ze=+ze,Ge=Ge>>>0,ut=ut>>>0,!Et){var It=Math.pow(2,8*ut)-1;fr(this,ze,Ge,ut,It,0)}var jt=1,tr=0;for(this[Ge]=ze&255;++tr<ut&&(jt*=256);)this[Ge+tr]=ze/jt&255;return Ge+ut},_e.prototype.writeUIntBE=function(ze,Ge,ut,Et){if(ze=+ze,Ge=Ge>>>0,ut=ut>>>0,!Et){var It=Math.pow(2,8*ut)-1;fr(this,ze,Ge,ut,It,0)}var jt=ut-1,tr=1;for(this[Ge+jt]=ze&255;--jt>=0&&(tr*=256);)this[Ge+jt]=ze/tr&255;return Ge+ut},_e.prototype.writeUInt8=function(ze,Ge,ut){return ze=+ze,Ge=Ge>>>0,ut||fr(this,ze,Ge,1,255,0),this[Ge]=ze&255,Ge+1},_e.prototype.writeUInt16LE=function(ze,Ge,ut){return ze=+ze,Ge=Ge>>>0,ut||fr(this,ze,Ge,2,65535,0),this[Ge]=ze&255,this[Ge+1]=ze>>>8,Ge+2},_e.prototype.writeUInt16BE=function(ze,Ge,ut){return ze=+ze,Ge=Ge>>>0,ut||fr(this,ze,Ge,2,65535,0),this[Ge]=ze>>>8,this[Ge+1]=ze&255,Ge+2},_e.prototype.writeUInt32LE=function(ze,Ge,ut){return ze=+ze,Ge=Ge>>>0,ut||fr(this,ze,Ge,4,4294967295,0),this[Ge+3]=ze>>>24,this[Ge+2]=ze>>>16,this[Ge+1]=ze>>>8,this[Ge]=ze&255,Ge+4},_e.prototype.writeUInt32BE=function(ze,Ge,ut){return ze=+ze,Ge=Ge>>>0,ut||fr(this,ze,Ge,4,4294967295,0),this[Ge]=ze>>>24,this[Ge+1]=ze>>>16,this[Ge+2]=ze>>>8,this[Ge+3]=ze&255,Ge+4},_e.prototype.writeIntLE=function(ze,Ge,ut,Et){if(ze=+ze,Ge=Ge>>>0,!Et){var It=Math.pow(2,8*ut-1);fr(this,ze,Ge,ut,It-1,-It)}var jt=0,tr=1,Sr=0;for(this[Ge]=ze&255;++jt<ut&&(tr*=256);)ze<0&&Sr===0&&this[Ge+jt-1]!==0&&(Sr=1),this[Ge+jt]=(ze/tr>>0)-Sr&255;return Ge+ut},_e.prototype.writeIntBE=function(ze,Ge,ut,Et){if(ze=+ze,Ge=Ge>>>0,!Et){var It=Math.pow(2,8*ut-1);fr(this,ze,Ge,ut,It-1,-It)}var jt=ut-1,tr=1,Sr=0;for(this[Ge+jt]=ze&255;--jt>=0&&(tr*=256);)ze<0&&Sr===0&&this[Ge+jt+1]!==0&&(Sr=1),this[Ge+jt]=(ze/tr>>0)-Sr&255;return Ge+ut},_e.prototype.writeInt8=function(ze,Ge,ut){return ze=+ze,Ge=Ge>>>0,ut||fr(this,ze,Ge,1,127,-128),ze<0&&(ze=255+ze+1),this[Ge]=ze&255,Ge+1},_e.prototype.writeInt16LE=function(ze,Ge,ut){return ze=+ze,Ge=Ge>>>0,ut||fr(this,ze,Ge,2,32767,-32768),this[Ge]=ze&255,this[Ge+1]=ze>>>8,Ge+2},_e.prototype.writeInt16BE=function(ze,Ge,ut){return ze=+ze,Ge=Ge>>>0,ut||fr(this,ze,Ge,2,32767,-32768),this[Ge]=ze>>>8,this[Ge+1]=ze&255,Ge+2},_e.prototype.writeInt32LE=function(ze,Ge,ut){return ze=+ze,Ge=Ge>>>0,ut||fr(this,ze,Ge,4,2147483647,-2147483648),this[Ge]=ze&255,this[Ge+1]=ze>>>8,this[Ge+2]=ze>>>16,this[Ge+3]=ze>>>24,Ge+4},_e.prototype.writeInt32BE=function(ze,Ge,ut){return ze=+ze,Ge=Ge>>>0,ut||fr(this,ze,Ge,4,2147483647,-2147483648),ze<0&&(ze=4294967295+ze+1),this[Ge]=ze>>>24,this[Ge+1]=ze>>>16,this[Ge+2]=ze>>>8,this[Ge+3]=ze&255,Ge+4};function Rr(nt,ze,Ge,ut,Et,It){if(Ge+ut>nt.length)throw new RangeError("Index out of range");if(Ge<0)throw new RangeError("Index out of range")}function cr(nt,ze,Ge,ut,Et){return ze=+ze,Ge=Ge>>>0,Et||Rr(nt,ze,Ge,4),g.write(nt,ze,Ge,ut,23,4),Ge+4}_e.prototype.writeFloatLE=function(ze,Ge,ut){return cr(this,ze,Ge,!0,ut)},_e.prototype.writeFloatBE=function(ze,Ge,ut){return cr(this,ze,Ge,!1,ut)};function lt(nt,ze,Ge,ut,Et){return ze=+ze,Ge=Ge>>>0,Et||Rr(nt,ze,Ge,8),g.write(nt,ze,Ge,ut,52,8),Ge+8}_e.prototype.writeDoubleLE=function(ze,Ge,ut){return lt(this,ze,Ge,!0,ut)},_e.prototype.writeDoubleBE=function(ze,Ge,ut){return lt(this,ze,Ge,!1,ut)},_e.prototype.copy=function(ze,Ge,ut,Et){if(ut||(ut=0),!Et&&Et!==0&&(Et=this.length),Ge>=ze.length&&(Ge=ze.length),Ge||(Ge=0),Et>0&&Et<ut&&(Et=ut),Et===ut||ze.length===0||this.length===0)return 0;if(Ge<0)throw new RangeError("targetStart out of bounds");if(ut<0||ut>=this.length)throw new RangeError("sourceStart out of bounds");if(Et<0)throw new RangeError("sourceEnd out of bounds");Et>this.length&&(Et=this.length),ze.length-Ge<Et-ut&&(Et=ze.length-Ge+ut);var It=Et-ut,jt;if(this===ze&&ut<Ge&&Ge<Et)for(jt=It-1;jt>=0;--jt)ze[jt+Ge]=this[jt+ut];else if(It<1e3)for(jt=0;jt<It;++jt)ze[jt+Ge]=this[jt+ut];else Uint8Array.prototype.set.call(ze,this.subarray(ut,ut+It),Ge);return It},_e.prototype.fill=function(ze,Ge,ut,Et){if(typeof ze=="string"){if(typeof Ge=="string"?(Et=Ge,Ge=0,ut=this.length):typeof ut=="string"&&(Et=ut,ut=this.length),ze.length===1){var It=ze.charCodeAt(0);It<256&&(ze=It)}if(Et!==void 0&&typeof Et!="string")throw new TypeError("encoding must be a string");if(typeof Et=="string"&&!_e.isEncoding(Et))throw new TypeError("Unknown encoding: "+Et)}else typeof ze=="number"&&(ze=ze&255);if(Ge<0||this.length<Ge||this.length<ut)throw new RangeError("Out of range index");if(ut<=Ge)return this;Ge=Ge>>>0,ut=ut===void 0?this.length:ut>>>0,ze||(ze=0);var jt;if(typeof ze=="number")for(jt=Ge;jt<ut;++jt)this[jt]=ze;else{var tr=_e.isBuffer(ze)?ze:new _e(ze,Et),Sr=tr.length;for(jt=0;jt<ut-Ge;++jt)this[jt+Ge]=tr[jt%Sr]}return this};var yt=/[^+/0-9A-Za-z-_]/g;function Xt(nt){if(nt=nt.trim().replace(yt,""),nt.length<2)return"";for(;nt.length%4!==0;)nt=nt+"=";return nt}function $t(nt){return nt<16?"0"+nt.toString(16):nt.toString(16)}function dr(nt,ze){ze=ze||1/0;for(var Ge,ut=nt.length,Et=null,It=[],jt=0;jt<ut;++jt){if(Ge=nt.charCodeAt(jt),Ge>55295&&Ge<57344){if(!Et){if(Ge>56319){(ze-=3)>-1&&It.push(239,191,189);continue}else if(jt+1===ut){(ze-=3)>-1&&It.push(239,191,189);continue}Et=Ge;continue}if(Ge<56320){(ze-=3)>-1&&It.push(239,191,189),Et=Ge;continue}Ge=(Et-55296<<10|Ge-56320)+65536}else Et&&(ze-=3)>-1&&It.push(239,191,189);if(Et=null,Ge<128){if((ze-=1)<0)break;It.push(Ge)}else if(Ge<2048){if((ze-=2)<0)break;It.push(Ge>>6|192,Ge&63|128)}else if(Ge<65536){if((ze-=3)<0)break;It.push(Ge>>12|224,Ge>>6&63|128,Ge&63|128)}else if(Ge<1114112){if((ze-=4)<0)break;It.push(Ge>>18|240,Ge>>12&63|128,Ge>>6&63|128,Ge&63|128)}else throw new Error("Invalid code point")}return It}function Je(nt){for(var ze=[],Ge=0;Ge<nt.length;++Ge)ze.push(nt.charCodeAt(Ge)&255);return ze}function At(nt,ze){for(var Ge,ut,Et,It=[],jt=0;jt<nt.length&&!((ze-=2)<0);++jt)Ge=nt.charCodeAt(jt),ut=Ge>>8,Et=Ge%256,It.push(Et),It.push(ut);return It}function Wt(nt){return m.toByteArray(Xt(nt))}function xt(nt,ze,Ge,ut){for(var Et=0;Et<ut&&!(Et+Ge>=ze.length||Et>=nt.length);++Et)ze[Et+Ge]=nt[Et];return Et}function pt(nt){return nt instanceof ArrayBuffer||nt!=null&&nt.constructor!=null&&nt.constructor.name==="ArrayBuffer"&&typeof nt.byteLength=="number"}function Dt(nt){return typeof ArrayBuffer.isView=="function"&&ArrayBuffer.isView(nt)}function er(nt){return nt!==nt}}).call(i,c(1))},function(e,i){i.byteLength=_e,i.toByteArray=De,i.fromByteArray=Fe;for(var c=[],f=[],m=typeof Uint8Array<"u"?Uint8Array:Array,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Te=0,Ie=g.length;Te<Ie;++Te)c[Te]=g[Te],f[g.charCodeAt(Te)]=Te;f["-".charCodeAt(0)]=62,f["_".charCodeAt(0)]=63;function Oe(Ne){var Ve=Ne.length;if(Ve%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return Ne[Ve-2]==="="?2:Ne[Ve-1]==="="?1:0}function _e(Ne){return Ne.length*3/4-Oe(Ne)}function De(Ne){var Ve,Ue,We,He,Xe,ot,tt=Ne.length;Xe=Oe(Ne),ot=new m(tt*3/4-Xe),We=Xe>0?tt-4:tt;var gt=0;for(Ve=0,Ue=0;Ve<We;Ve+=4,Ue+=3)He=f[Ne.charCodeAt(Ve)]<<18|f[Ne.charCodeAt(Ve+1)]<<12|f[Ne.charCodeAt(Ve+2)]<<6|f[Ne.charCodeAt(Ve+3)],ot[gt++]=He>>16&255,ot[gt++]=He>>8&255,ot[gt++]=He&255;return Xe===2?(He=f[Ne.charCodeAt(Ve)]<<2|f[Ne.charCodeAt(Ve+1)]>>4,ot[gt++]=He&255):Xe===1&&(He=f[Ne.charCodeAt(Ve)]<<10|f[Ne.charCodeAt(Ve+1)]<<4|f[Ne.charCodeAt(Ve+2)]>>2,ot[gt++]=He>>8&255,ot[gt++]=He&255),ot}function Ae(Ne){return c[Ne>>18&63]+c[Ne>>12&63]+c[Ne>>6&63]+c[Ne&63]}function qe(Ne,Ve,Ue){for(var We,He=[],Xe=Ve;Xe<Ue;Xe+=3)We=(Ne[Xe]<<16)+(Ne[Xe+1]<<8)+Ne[Xe+2],He.push(Ae(We));return He.join("")}function Fe(Ne){for(var Ve,Ue=Ne.length,We=Ue%3,He="",Xe=[],ot=16383,tt=0,gt=Ue-We;tt<gt;tt+=ot)Xe.push(qe(Ne,tt,tt+ot>gt?gt:tt+ot));return We===1?(Ve=Ne[Ue-1],He+=c[Ve>>2],He+=c[Ve<<4&63],He+="=="):We===2&&(Ve=(Ne[Ue-2]<<8)+Ne[Ue-1],He+=c[Ve>>10],He+=c[Ve>>4&63],He+=c[Ve<<2&63],He+="="),Xe.push(He),Xe.join("")}},function(e,i){i.read=function(c,f,m,g,Te){var Ie,Oe,_e=Te*8-g-1,De=(1<<_e)-1,Ae=De>>1,qe=-7,Fe=m?Te-1:0,Ne=m?-1:1,Ve=c[f+Fe];for(Fe+=Ne,Ie=Ve&(1<<-qe)-1,Ve>>=-qe,qe+=_e;qe>0;Ie=Ie*256+c[f+Fe],Fe+=Ne,qe-=8);for(Oe=Ie&(1<<-qe)-1,Ie>>=-qe,qe+=g;qe>0;Oe=Oe*256+c[f+Fe],Fe+=Ne,qe-=8);if(Ie===0)Ie=1-Ae;else{if(Ie===De)return Oe?NaN:(Ve?-1:1)*(1/0);Oe=Oe+Math.pow(2,g),Ie=Ie-Ae}return(Ve?-1:1)*Oe*Math.pow(2,Ie-g)},i.write=function(c,f,m,g,Te,Ie){var Oe,_e,De,Ae=Ie*8-Te-1,qe=(1<<Ae)-1,Fe=qe>>1,Ne=Te===23?Math.pow(2,-24)-Math.pow(2,-77):0,Ve=g?0:Ie-1,Ue=g?1:-1,We=f<0||f===0&&1/f<0?1:0;for(f=Math.abs(f),isNaN(f)||f===1/0?(_e=isNaN(f)?1:0,Oe=qe):(Oe=Math.floor(Math.log(f)/Math.LN2),f*(De=Math.pow(2,-Oe))<1&&(Oe--,De*=2),Oe+Fe>=1?f+=Ne/De:f+=Ne*Math.pow(2,1-Fe),f*De>=2&&(Oe++,De/=2),Oe+Fe>=qe?(_e=0,Oe=qe):Oe+Fe>=1?(_e=(f*De-1)*Math.pow(2,Te),Oe=Oe+Fe):(_e=f*Math.pow(2,Fe-1)*Math.pow(2,Te),Oe=0));Te>=8;c[m+Ve]=_e&255,Ve+=Ue,_e/=256,Te-=8);for(Oe=Oe<<Te|_e,Ae+=Te;Ae>0;c[m+Ve]=Oe&255,Ve+=Ue,Oe/=256,Ae-=8);c[m+Ve-Ue]|=We*128}},function(e,i){e.exports=function(c){return c.webpackPolyfill||(c.deprecate=function(){},c.paths=[],c.children=[],c.webpackPolyfill=1),c}},function(e,i,c){var f=c(7),m=new f,g={};function Te(Oe){g[Oe]||(typeof m[Oe]=="function"?g[Oe]=function(){return m[Oe].apply(m,arguments)}:g[Oe]=m[Oe])}for(var Ie in m)Te(Ie);g.initializeTTYs=function(){m.stdin===null&&(m.initializeTTYs(),g.stdin=m.stdin,g.stdout=m.stdout,g.stderr=m.stderr)},m.nextTick(function(){g.initializeTTYs()}),e.exports=g},function(e,i,c){(function(f){var m=this&&this.__extends||function(De,Ae){for(var qe in Ae)Ae.hasOwnProperty(qe)&&(De[qe]=Ae[qe]);function Fe(){this.constructor=De}De.prototype=Ae===null?Object.create(Ae):(Fe.prototype=Ae.prototype,new Fe)},g=c(8),Te=null,Ie=function(){function De(Ae,qe){this.fun=Ae,this.array=qe}return De.prototype.run=function(){this.fun.apply(null,this.array)},De}(),Oe=function(){function De(){this._queue=[],this._draining=!1,this._currentQueue=null,this._queueIndex=-1}return De.prototype.push=function(Ae){var qe=this;this._queue.push(Ae)===1&&!this._draining&&setTimeout(function(){return qe._drainQueue()},0)},De.prototype._cleanUpNextTick=function(){this._draining=!1,this._currentQueue&&this._currentQueue.length?this._queue=this._currentQueue.concat(this._queue):this._queueIndex=-1,this._queue.length&&this._drainQueue()},De.prototype._drainQueue=function(){var Ae=this;if(!this._draining){var qe=setTimeout(function(){return Ae._cleanUpNextTick()});this._draining=!0;for(var Fe=this._queue.length;Fe;){for(this._currentQueue=this._queue,this._queue=[];++this._queueIndex<Fe;)this._currentQueue&&this._currentQueue[this._queueIndex].run();this._queueIndex=-1,Fe=this._queue.length}this._currentQueue=null,this._draining=!1,clearTimeout(qe)}},De}(),_e=function(De){m(Ae,De);function Ae(){De.apply(this,arguments),this.startTime=Date.now(),this._cwd="/",this.platform="browser",this.argv=[],this.execArgv=[],this.stdout=null,this.stderr=null,this.stdin=null,this.domain=null,this._queue=new Oe,this.execPath=f,this.env={},this.exitCode=0,this._gid=1,this._uid=1,this.version="v5.0",this.versions={http_parser:"0.0",node:"5.0",v8:"0.0",uv:"0.0",zlib:"0.0",ares:"0.0",icu:"0.0",modules:"0",openssl:"0.0"},this.config={target_defaults:{cflags:[],default_configuration:"Release",defines:[],include_dirs:[],libraries:[]},variables:{clang:0,host_arch:"x32",node_install_npm:!1,node_install_waf:!1,node_prefix:"",node_shared_cares:!1,node_shared_http_parser:!1,node_shared_libuv:!1,node_shared_zlib:!1,node_shared_v8:!1,node_use_dtrace:!1,node_use_etw:!1,node_use_openssl:!1,node_shared_openssl:!1,strict_aliasing:!1,target_arch:"x32",v8_use_snapshot:!1,v8_no_strict_aliasing:0,visibility:""}},this.pid=Math.random()*1e3|0,this.title="node",this.arch="x32",this._mask=18,this.connected=void 0}return Ae.prototype.chdir=function(qe){Te===null&&(Te=c(9)),this._cwd=Te.resolve(qe)},Ae.prototype.cwd=function(){return this._cwd},Ae.prototype.uptime=function(){return(Date.now()-this.startTime)/1e3|0},Ae.prototype.nextTick=function(qe){for(var Fe=[],Ne=1;Ne<arguments.length;Ne++)Fe[Ne-1]=arguments[Ne];this._queue.push(new Ie(qe,Fe))},Ae.prototype.abort=function(){this.emit("abort")},Ae.prototype.exit=function(qe){this.exitCode=qe,this.emit("exit",[qe])},Ae.prototype.getgid=function(){return this._gid},Ae.prototype.setgid=function(qe){typeof qe=="number"?this._gid=qe:this._gid=1},Ae.prototype.getuid=function(){return this._uid},Ae.prototype.setuid=function(qe){typeof qe=="number"?this._uid=qe:this._uid=1},Ae.prototype.kill=function(qe,Fe){this.emit("kill",[qe,Fe])},Ae.prototype.memoryUsage=function(){return{rss:0,heapTotal:0,heapUsed:0}},Ae.prototype.umask=function(qe){qe===void 0&&(qe=this._mask);var Fe=this._mask;return this._mask=qe,this.emit("umask",[qe]),Fe},Ae.prototype.hrtime=function(){var qe;typeof performance<"u"?qe=performance.now():Date.now?qe=Date.now():qe=new Date().getTime();var Fe=qe/1e3|0;return qe-=Fe*1e3,qe=qe*1e6|0,[Fe,qe]},Ae.prototype.initializeTTYs=function(){if(this.stdout===null){var qe=c(10);this.stdout=new qe,this.stderr=new qe,this.stdin=new qe}},Ae.prototype.disconnect=function(){},Ae}(g.EventEmitter);e.exports=_e}).call(i,"/")},function(e,i){function c(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}e.exports=c,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._maxListeners=void 0,c.defaultMaxListeners=10,c.prototype.setMaxListeners=function(Ie){if(!m(Ie)||Ie<0||isNaN(Ie))throw TypeError("n must be a positive number");return this._maxListeners=Ie,this},c.prototype.emit=function(Ie){var Oe,_e,De,Ae,qe,Fe;if(this._events||(this._events={}),Ie==="error"&&(!this._events.error||g(this._events.error)&&!this._events.error.length)){if(Oe=arguments[1],Oe instanceof Error)throw Oe;var Ne=new Error('Uncaught, unspecified "error" event. ('+Oe+")");throw Ne.context=Oe,Ne}if(_e=this._events[Ie],Te(_e))return!1;if(f(_e))switch(arguments.length){case 1:_e.call(this);break;case 2:_e.call(this,arguments[1]);break;case 3:_e.call(this,arguments[1],arguments[2]);break;default:Ae=Array.prototype.slice.call(arguments,1),_e.apply(this,Ae)}else if(g(_e))for(Ae=Array.prototype.slice.call(arguments,1),Fe=_e.slice(),De=Fe.length,qe=0;qe<De;qe++)Fe[qe].apply(this,Ae);return!0},c.prototype.addListener=function(Ie,Oe){var _e;if(!f(Oe))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",Ie,f(Oe.listener)?Oe.listener:Oe),this._events[Ie]?g(this._events[Ie])?this._events[Ie].push(Oe):this._events[Ie]=[this._events[Ie],Oe]:this._events[Ie]=Oe,g(this._events[Ie])&&!this._events[Ie].warned&&(Te(this._maxListeners)?_e=c.defaultMaxListeners:_e=this._maxListeners,_e&&_e>0&&this._events[Ie].length>_e&&(this._events[Ie].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[Ie].length),typeof console.trace=="function"&&console.trace())),this},c.prototype.on=c.prototype.addListener,c.prototype.once=function(Ie,Oe){if(!f(Oe))throw TypeError("listener must be a function");var _e=!1;function De(){this.removeListener(Ie,De),_e||(_e=!0,Oe.apply(this,arguments))}return De.listener=Oe,this.on(Ie,De),this},c.prototype.removeListener=function(Ie,Oe){var _e,De,Ae,qe;if(!f(Oe))throw TypeError("listener must be a function");if(!this._events||!this._events[Ie])return this;if(_e=this._events[Ie],Ae=_e.length,De=-1,_e===Oe||f(_e.listener)&&_e.listener===Oe)delete this._events[Ie],this._events.removeListener&&this.emit("removeListener",Ie,Oe);else if(g(_e)){for(qe=Ae;qe-- >0;)if(_e[qe]===Oe||_e[qe].listener&&_e[qe].listener===Oe){De=qe;break}if(De<0)return this;_e.length===1?(_e.length=0,delete this._events[Ie]):_e.splice(De,1),this._events.removeListener&&this.emit("removeListener",Ie,Oe)}return this},c.prototype.removeAllListeners=function(Ie){var Oe,_e;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[Ie]&&delete this._events[Ie],this;if(arguments.length===0){for(Oe in this._events)Oe!=="removeListener"&&this.removeAllListeners(Oe);return this.removeAllListeners("removeListener"),this._events={},this}if(_e=this._events[Ie],f(_e))this.removeListener(Ie,_e);else if(_e)for(;_e.length;)this.removeListener(Ie,_e[_e.length-1]);return delete this._events[Ie],this},c.prototype.listeners=function(Ie){var Oe;return!this._events||!this._events[Ie]?Oe=[]:f(this._events[Ie])?Oe=[this._events[Ie]]:Oe=this._events[Ie].slice(),Oe},c.prototype.listenerCount=function(Ie){if(this._events){var Oe=this._events[Ie];if(f(Oe))return 1;if(Oe)return Oe.length}return 0},c.listenerCount=function(Ie,Oe){return Ie.listenerCount(Oe)};function f(Ie){return typeof Ie=="function"}function m(Ie){return typeof Ie=="number"}function g(Ie){return typeof Ie=="object"&&Ie!==null}function Te(Ie){return Ie===void 0}},function(e,i,c){(function(f){var m=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;function g(Ie){var Oe=m.exec(Ie);return Oe.shift(),Oe}var Te=function(){function Ie(){}return Ie.normalize=function(Oe){Oe===""&&(Oe=".");var _e=Oe.charAt(0)===Ie.sep;Oe=Ie._removeDuplicateSeps(Oe);for(var De=Oe.split(Ie.sep),Ae=[],qe=0;qe<De.length;qe++){var Fe=De[qe];Fe!=="."&&(Fe===".."&&(_e||!_e&&Ae.length>0&&Ae[0]!=="..")?Ae.pop():Ae.push(Fe))}if(!_e&&Ae.length<2)switch(Ae.length){case 1:Ae[0]===""&&Ae.unshift(".");break;default:Ae.push(".")}return Oe=Ae.join(Ie.sep),_e&&Oe.charAt(0)!==Ie.sep&&(Oe=Ie.sep+Oe),Oe},Ie.join=function(){for(var Oe=[],_e=0;_e<arguments.length;_e++)Oe[_e-0]=arguments[_e];for(var De=[],Ae=0;Ae<Oe.length;Ae++){var qe=Oe[Ae];if(typeof qe!="string")throw new TypeError("Invalid argument type to path.join: "+typeof qe);qe!==""&&De.push(qe)}return Ie.normalize(De.join(Ie.sep))},Ie.resolve=function(){for(var Oe=[],_e=0;_e<arguments.length;_e++)Oe[_e-0]=arguments[_e];for(var De=[],Ae=0;Ae<Oe.length;Ae++){var qe=Oe[Ae];if(typeof qe!="string")throw new TypeError("Invalid argument type to path.join: "+typeof qe);qe!==""&&(qe.charAt(0)===Ie.sep&&(De=[]),De.push(qe))}var Fe=Ie.normalize(De.join(Ie.sep));if(Fe.length>1&&Fe.charAt(Fe.length-1)===Ie.sep)return Fe.substr(0,Fe.length-1);if(Fe.charAt(0)!==Ie.sep){Fe.charAt(0)==="."&&(Fe.length===1||Fe.charAt(1)===Ie.sep)&&(Fe=Fe.length===1?"":Fe.substr(2));var Ne=f.cwd();Fe!==""?Fe=this.normalize(Ne+(Ne!=="/"?Ie.sep:"")+Fe):Fe=Ne}return Fe},Ie.relative=function(Oe,_e){var De;Oe=Ie.resolve(Oe),_e=Ie.resolve(_e);var Ae=Oe.split(Ie.sep),qe=_e.split(Ie.sep);qe.shift(),Ae.shift();var Fe=0,Ne=[];for(De=0;De<Ae.length;De++){var Ve=Ae[De];if(Ve!==qe[De]){Fe=Ae.length-De;break}}Ne=qe.slice(De),Ae.length===1&&Ae[0]===""&&(Fe=0),Fe>Ae.length&&(Fe=Ae.length);var Ue="";for(De=0;De<Fe;De++)Ue+="../";return Ue+=Ne.join(Ie.sep),Ue.length>1&&Ue.charAt(Ue.length-1)===Ie.sep&&(Ue=Ue.substr(0,Ue.length-1)),Ue},Ie.dirname=function(Oe){Oe=Ie._removeDuplicateSeps(Oe);var _e=Oe.charAt(0)===Ie.sep,De=Oe.split(Ie.sep);return De.pop()===""&&De.length>0&&De.pop(),De.length>1||De.length===1&&!_e?De.join(Ie.sep):_e?Ie.sep:"."},Ie.basename=function(Oe,_e){if(_e===void 0&&(_e=""),Oe==="")return Oe;Oe=Ie.normalize(Oe);var De=Oe.split(Ie.sep),Ae=De[De.length-1];if(Ae===""&&De.length>1)return De[De.length-2];if(_e.length>0){var qe=Ae.substr(Ae.length-_e.length);if(qe===_e)return Ae.substr(0,Ae.length-_e.length)}return Ae},Ie.extname=function(Oe){Oe=Ie.normalize(Oe);var _e=Oe.split(Ie.sep);if(Oe=_e.pop(),Oe===""&&_e.length>0&&(Oe=_e.pop()),Oe==="..")return"";var De=Oe.lastIndexOf(".");return De===-1||De===0?"":Oe.substr(De)},Ie.isAbsolute=function(Oe){return Oe.length>0&&Oe.charAt(0)===Ie.sep},Ie._makeLong=function(Oe){return Oe},Ie.parse=function(Oe){var _e=g(Oe);return{root:_e[0],dir:_e[0]+_e[1].slice(0,-1),base:_e[2],ext:_e[3],name:_e[2].slice(0,_e[2].length-_e[3].length)}},Ie.format=function(Oe){if(Oe===null||typeof Oe!="object")throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof Oe);var _e=Oe.root||"";if(typeof _e!="string")throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof Oe.root);var De=Oe.dir?Oe.dir+Ie.sep:"",Ae=Oe.base||"";return De+Ae},Ie._removeDuplicateSeps=function(Oe){return Oe=Oe.replace(this._replaceRegex,this.sep),Oe},Ie.sep="/",Ie._replaceRegex=new RegExp("//+","g"),Ie.delimiter=":",Ie.posix=Ie,Ie.win32=Ie,Ie}();e.exports=Te}).call(i,c(6))},function(e,i,c){(function(f){var m=this&&this.__extends||function(Ie,Oe){for(var _e in Oe)Oe.hasOwnProperty(_e)&&(Ie[_e]=Oe[_e]);function De(){this.constructor=Ie}Ie.prototype=Oe===null?Object.create(Oe):(De.prototype=Oe.prototype,new De)},g=c(11),Te=function(Ie){m(Oe,Ie);function Oe(){Ie.call(this),this.isRaw=!1,this.columns=80,this.rows=120,this.isTTY=!0,this._bufferedWrites=[],this._waitingForWrites=!1}return Oe.prototype.setRawMode=function(_e){this.isRaw!==_e&&(this.isRaw=_e,this.emit("modeChange"))},Oe.prototype.changeColumns=function(_e){_e!==this.columns&&(this.columns=_e,this.emit("resize"))},Oe.prototype.changeRows=function(_e){_e!==this.rows&&(this.rows=_e,this.emit("resize"))},Oe.isatty=function(_e){return _e&&_e instanceof Oe},Oe.prototype._write=function(_e,De,Ae){var qe;try{var Fe;typeof _e=="string"?Fe=new f(_e,De):Fe=_e,this._bufferedWrites.push(Fe),this._waitingForWrites&&this._read(1024)}catch(Ne){qe=Ne}finally{Ae(qe)}},Oe.prototype._read=function(_e){if(this._bufferedWrites.length===0)this._waitingForWrites=!0;else for(;this._bufferedWrites.length>0&&(this._waitingForWrites=this.push(this._bufferedWrites.shift()),!!this._waitingForWrites););},Oe}(g.Duplex);e.exports=Te}).call(i,c(1))},function(e,i,c){e.exports=g;var f=c(8).EventEmitter,m=c(12);m(g,f),g.Readable=c(13),g.Writable=c(27),g.Duplex=c(28),g.Transform=c(29),g.PassThrough=c(30),g.Stream=g;function g(){f.call(this)}g.prototype.pipe=function(Te,Ie){var Oe=this;function _e(Ue){Te.writable&&Te.write(Ue)===!1&&Oe.pause&&Oe.pause()}Oe.on("data",_e);function De(){Oe.readable&&Oe.resume&&Oe.resume()}Te.on("drain",De),!Te._isStdio&&(!Ie||Ie.end!==!1)&&(Oe.on("end",qe),Oe.on("close",Fe));var Ae=!1;function qe(){Ae||(Ae=!0,Te.end())}function Fe(){Ae||(Ae=!0,typeof Te.destroy=="function"&&Te.destroy())}function Ne(Ue){if(Ve(),f.listenerCount(this,"error")===0)throw Ue}Oe.on("error",Ne),Te.on("error",Ne);function Ve(){Oe.removeListener("data",_e),Te.removeListener("drain",De),Oe.removeListener("end",qe),Oe.removeListener("close",Fe),Oe.removeListener("error",Ne),Te.removeListener("error",Ne),Oe.removeListener("end",Ve),Oe.removeListener("close",Ve),Te.removeListener("close",Ve)}return Oe.on("end",Ve),Oe.on("close",Ve),Te.on("close",Ve),Te.emit("pipe",Oe),Te}},function(e,i){typeof Object.create=="function"?e.exports=function(f,m){f.super_=m,f.prototype=Object.create(m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(f,m){f.super_=m;var g=function(){};g.prototype=m.prototype,f.prototype=new g,f.prototype.constructor=f}},function(e,i,c){(function(f){var m=function(){try{return c(11)}catch{}}();i=e.exports=c(14),i.Stream=m||i,i.Readable=i,i.Writable=c(22),i.Duplex=c(21),i.Transform=c(25),i.PassThrough=c(26),!f.browser&&f.env.READABLE_STREAM==="disable"&&m&&(e.exports=m)}).call(i,c(6))},function(e,i,c){(function(f){e.exports=He;var m=c(15),g=c(16),Te;He.ReadableState=We,c(8).EventEmitter;var Ie=function(lt,yt){return lt.listeners(yt).length},Oe;(function(){try{Oe=c(11)}catch{}finally{Oe||(Oe=c(8).EventEmitter)}})();var _e=c(2).Buffer,De=c(17),Ae=c(18);Ae.inherits=c(12);var qe=c(19),Fe=void 0;qe&&qe.debuglog?Fe=qe.debuglog("stream"):Fe=function(){};var Ne=c(20),Ve;Ae.inherits(He,Oe);function Ue(lt,yt,Xt){if(typeof lt.prependListener=="function")return lt.prependListener(yt,Xt);!lt._events||!lt._events[yt]?lt.on(yt,Xt):g(lt._events[yt])?lt._events[yt].unshift(Xt):lt._events[yt]=[Xt,lt._events[yt]]}function We(lt,yt){Te=Te||c(21),lt=lt||{},this.objectMode=!!lt.objectMode,yt instanceof Te&&(this.objectMode=this.objectMode||!!lt.readableObjectMode);var Xt=lt.highWaterMark,$t=this.objectMode?16:16*1024;this.highWaterMark=Xt||Xt===0?Xt:$t,this.highWaterMark=~~this.highWaterMark,this.buffer=new Ne,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=lt.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,lt.encoding&&(Ve||(Ve=c(24).StringDecoder),this.decoder=new Ve(lt.encoding),this.encoding=lt.encoding)}function He(lt){if(Te=Te||c(21),!(this instanceof He))return new He(lt);this._readableState=new We(lt,this),this.readable=!0,lt&&typeof lt.read=="function"&&(this._read=lt.read),Oe.call(this)}He.prototype.push=function(lt,yt){var Xt=this._readableState;return!Xt.objectMode&&typeof lt=="string"&&(yt=yt||Xt.defaultEncoding,yt!==Xt.encoding&&(lt=De.from(lt,yt),yt="")),Xe(this,Xt,lt,yt,!1)},He.prototype.unshift=function(lt){var yt=this._readableState;return Xe(this,yt,lt,"",!0)},He.prototype.isPaused=function(){return this._readableState.flowing===!1};function Xe(lt,yt,Xt,$t,dr){var Je=rt(yt,Xt);if(Je)lt.emit("error",Je);else if(Xt===null)yt.reading=!1,ht(lt,yt);else if(yt.objectMode||Xt&&Xt.length>0)if(yt.ended&&!dr){var At=new Error("stream.push() after EOF");lt.emit("error",At)}else if(yt.endEmitted&&dr){var Wt=new Error("stream.unshift() after end event");lt.emit("error",Wt)}else{var xt;yt.decoder&&!dr&&!$t&&(Xt=yt.decoder.write(Xt),xt=!yt.objectMode&&Xt.length===0),dr||(yt.reading=!1),xt||(yt.flowing&&yt.length===0&&!yt.sync?(lt.emit("data",Xt),lt.read(0)):(yt.length+=yt.objectMode?1:Xt.length,dr?yt.buffer.unshift(Xt):yt.buffer.push(Xt),yt.needReadable&&it(lt))),Ze(lt,yt)}else dr||(yt.reading=!1);return ot(yt)}function ot(lt){return!lt.ended&&(lt.needReadable||lt.length<lt.highWaterMark||lt.length===0)}He.prototype.setEncoding=function(lt){return Ve||(Ve=c(24).StringDecoder),this._readableState.decoder=new Ve(lt),this._readableState.encoding=lt,this};var tt=8388608;function gt(lt){return lt>=tt?lt=tt:(lt--,lt|=lt>>>1,lt|=lt>>>2,lt|=lt>>>4,lt|=lt>>>8,lt|=lt>>>16,lt++),lt}function vt(lt,yt){return lt<=0||yt.length===0&&yt.ended?0:yt.objectMode?1:lt!==lt?yt.flowing&&yt.length?yt.buffer.head.data.length:yt.length:(lt>yt.highWaterMark&&(yt.highWaterMark=gt(lt)),lt<=yt.length?lt:yt.ended?yt.length:(yt.needReadable=!0,0))}He.prototype.read=function(lt){Fe("read",lt),lt=parseInt(lt,10);var yt=this._readableState,Xt=lt;if(lt!==0&&(yt.emittedReadable=!1),lt===0&&yt.needReadable&&(yt.length>=yt.highWaterMark||yt.ended))return Fe("read: emitReadable",yt.length,yt.ended),yt.length===0&&yt.ended?Kt(this):it(this),null;if(lt=vt(lt,yt),lt===0&&yt.ended)return yt.length===0&&Kt(this),null;var $t=yt.needReadable;Fe("need readable",$t),(yt.length===0||yt.length-lt<yt.highWaterMark)&&($t=!0,Fe("length less than watermark",$t)),yt.ended||yt.reading?($t=!1,Fe("reading or ended",$t)):$t&&(Fe("do read"),yt.reading=!0,yt.sync=!0,yt.length===0&&(yt.needReadable=!0),this._read(yt.highWaterMark),yt.sync=!1,yt.reading||(lt=vt(Xt,yt)));var dr;return lt>0?dr=ct(lt,yt):dr=null,dr===null?(yt.needReadable=!0,lt=0):yt.length-=lt,yt.length===0&&(yt.ended||(yt.needReadable=!0),Xt!==lt&&yt.ended&&Kt(this)),dr!==null&&this.emit("data",dr),dr};function rt(lt,yt){var Xt=null;return!_e.isBuffer(yt)&&typeof yt!="string"&&yt!==null&&yt!==void 0&&!lt.objectMode&&(Xt=new TypeError("Invalid non-string/buffer chunk")),Xt}function ht(lt,yt){if(!yt.ended){if(yt.decoder){var Xt=yt.decoder.end();Xt&&Xt.length&&(yt.buffer.push(Xt),yt.length+=yt.objectMode?1:Xt.length)}yt.ended=!0,it(lt)}}function it(lt){var yt=lt._readableState;yt.needReadable=!1,yt.emittedReadable||(Fe("emitReadable",yt.flowing),yt.emittedReadable=!0,yt.sync?m(mt,lt):mt(lt))}function mt(lt){Fe("emit readable"),lt.emit("readable"),St(lt)}function Ze(lt,yt){yt.readingMore||(yt.readingMore=!0,m(Ft,lt,yt))}function Ft(lt,yt){for(var Xt=yt.length;!yt.reading&&!yt.flowing&&!yt.ended&&yt.length<yt.highWaterMark&&(Fe("maybeReadMore read 0"),lt.read(0),Xt!==yt.length);)Xt=yt.length;yt.readingMore=!1}He.prototype._read=function(lt){this.emit("error",new Error("_read() is not implemented"))},He.prototype.pipe=function(lt,yt){var Xt=this,$t=this._readableState;switch($t.pipesCount){case 0:$t.pipes=lt;break;case 1:$t.pipes=[$t.pipes,lt];break;default:$t.pipes.push(lt);break}$t.pipesCount+=1,Fe("pipe count=%d opts=%j",$t.pipesCount,yt);var dr=(!yt||yt.end!==!1)&&lt!==f.stdout&&lt!==f.stderr,Je=dr?Wt:Dt;$t.endEmitted?m(Je):Xt.once("end",Je),lt.on("unpipe",At);function At(It){Fe("onunpipe"),It===Xt&&Dt()}function Wt(){Fe("onend"),lt.end()}var xt=Zt(Xt);lt.on("drain",xt);var pt=!1;function Dt(){Fe("cleanup"),lt.removeListener("close",Ge),lt.removeListener("finish",ut),lt.removeListener("drain",xt),lt.removeListener("error",ze),lt.removeListener("unpipe",At),Xt.removeListener("end",Wt),Xt.removeListener("end",Dt),Xt.removeListener("data",nt),pt=!0,$t.awaitDrain&&(!lt._writableState||lt._writableState.needDrain)&&xt()}var er=!1;Xt.on("data",nt);function nt(It){Fe("ondata"),er=!1;var jt=lt.write(It);jt===!1&&!er&&(($t.pipesCount===1&&$t.pipes===lt||$t.pipesCount>1&&cr($t.pipes,lt)!==-1)&&!pt&&(Fe("false write response, pause",Xt._readableState.awaitDrain),Xt._readableState.awaitDrain++,er=!0),Xt.pause())}function ze(It){Fe("onerror",It),Et(),lt.removeListener("error",ze),Ie(lt,"error")===0&&lt.emit("error",It)}Ue(lt,"error",ze);function Ge(){lt.removeListener("finish",ut),Et()}lt.once("close",Ge);function ut(){Fe("onfinish"),lt.removeListener("close",Ge),Et()}lt.once("finish",ut);function Et(){Fe("unpipe"),Xt.unpipe(lt)}return lt.emit("pipe",Xt),$t.flowing||(Fe("pipe resume"),Xt.resume()),lt};function Zt(lt){return function(){var yt=lt._readableState;Fe("pipeOnDrain",yt.awaitDrain),yt.awaitDrain&&yt.awaitDrain--,yt.awaitDrain===0&&Ie(lt,"data")&&(yt.flowing=!0,St(lt))}}He.prototype.unpipe=function(lt){var yt=this._readableState;if(yt.pipesCount===0)return this;if(yt.pipesCount===1)return lt&&lt!==yt.pipes?this:(lt||(lt=yt.pipes),yt.pipes=null,yt.pipesCount=0,yt.flowing=!1,lt&&lt.emit("unpipe",this),this);if(!lt){var Xt=yt.pipes,$t=yt.pipesCount;yt.pipes=null,yt.pipesCount=0,yt.flowing=!1;for(var dr=0;dr<$t;dr++)Xt[dr].emit("unpipe",this);return this}var Je=cr(yt.pipes,lt);return Je===-1?this:(yt.pipes.splice(Je,1),yt.pipesCount-=1,yt.pipesCount===1&&(yt.pipes=yt.pipes[0]),lt.emit("unpipe",this),this)},He.prototype.on=function(lt,yt){var Xt=Oe.prototype.on.call(this,lt,yt);if(lt==="data")this._readableState.flowing!==!1&&this.resume();else if(lt==="readable"){var $t=this._readableState;!$t.endEmitted&&!$t.readableListening&&($t.readableListening=$t.needReadable=!0,$t.emittedReadable=!1,$t.reading?$t.length&&it(this):m(zt,this))}return Xt},He.prototype.addListener=He.prototype.on;function zt(lt){Fe("readable nexttick read 0"),lt.read(0)}He.prototype.resume=function(){var lt=this._readableState;return lt.flowing||(Fe("resume"),lt.flowing=!0,ur(this,lt)),this};function ur(lt,yt){yt.resumeScheduled||(yt.resumeScheduled=!0,m(bt,lt,yt))}function bt(lt,yt){yt.reading||(Fe("resume read 0"),lt.read(0)),yt.resumeScheduled=!1,yt.awaitDrain=0,lt.emit("resume"),St(lt),yt.flowing&&!yt.reading&&lt.read(0)}He.prototype.pause=function(){return Fe("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Fe("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function St(lt){var yt=lt._readableState;for(Fe("flow",yt.flowing);yt.flowing&&lt.read()!==null;);}He.prototype.wrap=function(lt){var yt=this._readableState,Xt=!1,$t=this;lt.on("end",function(){if(Fe("wrapped end"),yt.decoder&&!yt.ended){var At=yt.decoder.end();At&&At.length&&$t.push(At)}$t.push(null)}),lt.on("data",function(At){if(Fe("wrapped data"),yt.decoder&&(At=yt.decoder.write(At)),!(yt.objectMode&&At==null)&&!(!yt.objectMode&&(!At||!At.length))){var Wt=$t.push(At);Wt||(Xt=!0,lt.pause())}});for(var dr in lt)this[dr]===void 0&&typeof lt[dr]=="function"&&(this[dr]=function(At){return function(){return lt[At].apply(lt,arguments)}}(dr));var Je=["error","close","destroy","pause","resume"];return Rr(Je,function(At){lt.on(At,$t.emit.bind($t,At))}),$t._read=function(At){Fe("wrapped _read",At),Xt&&(Xt=!1,lt.resume())},$t},He._fromList=ct;function ct(lt,yt){if(yt.length===0)return null;var Xt;return yt.objectMode?Xt=yt.buffer.shift():!lt||lt>=yt.length?(yt.decoder?Xt=yt.buffer.join(""):yt.buffer.length===1?Xt=yt.buffer.head.data:Xt=yt.buffer.concat(yt.length),yt.buffer.clear()):Xt=dt(lt,yt.buffer,yt.decoder),Xt}function dt(lt,yt,Xt){var $t;return lt<yt.head.data.length?($t=yt.head.data.slice(0,lt),yt.head.data=yt.head.data.slice(lt)):lt===yt.head.data.length?$t=yt.shift():$t=Xt?Bt(lt,yt):Ct(lt,yt),$t}function Bt(lt,yt){var Xt=yt.head,$t=1,dr=Xt.data;for(lt-=dr.length;Xt=Xt.next;){var Je=Xt.data,At=lt>Je.length?Je.length:lt;if(At===Je.length?dr+=Je:dr+=Je.slice(0,lt),lt-=At,lt===0){At===Je.length?(++$t,Xt.next?yt.head=Xt.next:yt.head=yt.tail=null):(yt.head=Xt,Xt.data=Je.slice(At));break}++$t}return yt.length-=$t,dr}function Ct(lt,yt){var Xt=De.allocUnsafe(lt),$t=yt.head,dr=1;for($t.data.copy(Xt),lt-=$t.data.length;$t=$t.next;){var Je=$t.data,At=lt>Je.length?Je.length:lt;if(Je.copy(Xt,Xt.length-lt,0,At),lt-=At,lt===0){At===Je.length?(++dr,$t.next?yt.head=$t.next:yt.head=yt.tail=null):(yt.head=$t,$t.data=Je.slice(At));break}++dr}return yt.length-=dr,Xt}function Kt(lt){var yt=lt._readableState;if(yt.length>0)throw new Error('"endReadable()" called on non-empty stream');yt.endEmitted||(yt.ended=!0,m(fr,yt,lt))}function fr(lt,yt){!lt.endEmitted&&lt.length===0&&(lt.endEmitted=!0,yt.readable=!1,yt.emit("end"))}function Rr(lt,yt){for(var Xt=0,$t=lt.length;Xt<$t;Xt++)yt(lt[Xt],Xt)}function cr(lt,yt){for(var Xt=0,$t=lt.length;Xt<$t;Xt++)if(lt[Xt]===yt)return Xt;return-1}}).call(i,c(6))},function(e,i,c){(function(f){!f.version||f.version.indexOf("v0.")===0||f.version.indexOf("v1.")===0&&f.version.indexOf("v1.8.")!==0?e.exports=m:e.exports=f.nextTick;function m(g,Te,Ie,Oe){if(typeof g!="function")throw new TypeError('"callback" argument must be a function');var _e=arguments.length,De,Ae;switch(_e){case 0:case 1:return f.nextTick(g);case 2:return f.nextTick(function(){g.call(null,Te)});case 3:return f.nextTick(function(){g.call(null,Te,Ie)});case 4:return f.nextTick(function(){g.call(null,Te,Ie,Oe)});default:for(De=new Array(_e-1),Ae=0;Ae<De.length;)De[Ae++]=arguments[Ae];return f.nextTick(function(){g.apply(null,De)})}}}).call(i,c(6))},function(e,i){var c={}.toString;e.exports=Array.isArray||function(f){return c.call(f)=="[object Array]"}},function(e,i,c){(function(f){var m=c(2),g=m.Buffer,Te=m.SlowBuffer,Ie=m.kMaxLength||2147483647;i.alloc=function(_e,De,Ae){if(typeof g.alloc=="function")return g.alloc(_e,De,Ae);if(typeof Ae=="number")throw new TypeError("encoding must not be number");if(typeof _e!="number")throw new TypeError("size must be a number");if(_e>Ie)throw new RangeError("size is too large");var qe=Ae,Fe=De;Fe===void 0&&(qe=void 0,Fe=0);var Ne=new g(_e);if(typeof Fe=="string")for(var Ve=new g(Fe,qe),Ue=Ve.length,We=-1;++We<_e;)Ne[We]=Ve[We%Ue];else Ne.fill(Fe);return Ne},i.allocUnsafe=function(_e){if(typeof g.allocUnsafe=="function")return g.allocUnsafe(_e);if(typeof _e!="number")throw new TypeError("size must be a number");if(_e>Ie)throw new RangeError("size is too large");return new g(_e)},i.from=function(_e,De,Ae){if(typeof g.from=="function"&&(!f.Uint8Array||Uint8Array.from!==g.from))return g.from(_e,De,Ae);if(typeof _e=="number")throw new TypeError('"value" argument must not be a number');if(typeof _e=="string")return new g(_e,De);if(typeof ArrayBuffer<"u"&&_e instanceof ArrayBuffer){var qe=De;if(arguments.length===1)return new g(_e);typeof qe>"u"&&(qe=0);var Fe=Ae;if(typeof Fe>"u"&&(Fe=_e.byteLength-qe),qe>=_e.byteLength)throw new RangeError("'offset' is out of bounds");if(Fe>_e.byteLength-qe)throw new RangeError("'length' is out of bounds");return new g(_e.slice(qe,qe+Fe))}if(g.isBuffer(_e)){var Ne=new g(_e.length);return _e.copy(Ne,0,0,_e.length),Ne}if(_e){if(Array.isArray(_e)||typeof ArrayBuffer<"u"&&_e.buffer instanceof ArrayBuffer||"length"in _e)return new g(_e);if(_e.type==="Buffer"&&Array.isArray(_e.data))return new g(_e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},i.allocUnsafeSlow=function(_e){if(typeof g.allocUnsafeSlow=="function")return g.allocUnsafeSlow(_e);if(typeof _e!="number")throw new TypeError("size must be a number");if(_e>=Ie)throw new RangeError("size is too large");return new Te(_e)}}).call(i,function(){return this}())},function(e,i,c){(function(f){function m(Xe){return Array.isArray?Array.isArray(Xe):He(Xe)==="[object Array]"}i.isArray=m;function g(Xe){return typeof Xe=="boolean"}i.isBoolean=g;function Te(Xe){return Xe===null}i.isNull=Te;function Ie(Xe){return Xe==null}i.isNullOrUndefined=Ie;function Oe(Xe){return typeof Xe=="number"}i.isNumber=Oe;function _e(Xe){return typeof Xe=="string"}i.isString=_e;function De(Xe){return typeof Xe=="symbol"}i.isSymbol=De;function Ae(Xe){return Xe===void 0}i.isUndefined=Ae;function qe(Xe){return He(Xe)==="[object RegExp]"}i.isRegExp=qe;function Fe(Xe){return typeof Xe=="object"&&Xe!==null}i.isObject=Fe;function Ne(Xe){return He(Xe)==="[object Date]"}i.isDate=Ne;function Ve(Xe){return He(Xe)==="[object Error]"||Xe instanceof Error}i.isError=Ve;function Ue(Xe){return typeof Xe=="function"}i.isFunction=Ue;function We(Xe){return Xe===null||typeof Xe=="boolean"||typeof Xe=="number"||typeof Xe=="string"||typeof Xe=="symbol"||typeof Xe>"u"}i.isPrimitive=We,i.isBuffer=f.isBuffer;function He(Xe){return Object.prototype.toString.call(Xe)}}).call(i,c(1))},function(e,i){},function(e,i,c){c(2).Buffer;var f=c(17);e.exports=m;function m(){this.head=null,this.tail=null,this.length=0}m.prototype.push=function(g){var Te={data:g,next:null};this.length>0?this.tail.next=Te:this.head=Te,this.tail=Te,++this.length},m.prototype.unshift=function(g){var Te={data:g,next:this.head};this.length===0&&(this.tail=Te),this.head=Te,++this.length},m.prototype.shift=function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}},m.prototype.clear=function(){this.head=this.tail=null,this.length=0},m.prototype.join=function(g){if(this.length===0)return"";for(var Te=this.head,Ie=""+Te.data;Te=Te.next;)Ie+=g+Te.data;return Ie},m.prototype.concat=function(g){if(this.length===0)return f.alloc(0);if(this.length===1)return this.head.data;for(var Te=f.allocUnsafe(g>>>0),Ie=this.head,Oe=0;Ie;)Ie.data.copy(Te,Oe),Oe+=Ie.data.length,Ie=Ie.next;return Te}},function(e,i,c){var f=Object.keys||function(Ne){var Ve=[];for(var Ue in Ne)Ve.push(Ue);return Ve};e.exports=Ae;var m=c(15),g=c(18);g.inherits=c(12);var Te=c(14),Ie=c(22);g.inherits(Ae,Te);for(var Oe=f(Ie.prototype),_e=0;_e<Oe.length;_e++){var De=Oe[_e];Ae.prototype[De]||(Ae.prototype[De]=Ie.prototype[De])}function Ae(Ne){if(!(this instanceof Ae))return new Ae(Ne);Te.call(this,Ne),Ie.call(this,Ne),Ne&&Ne.readable===!1&&(this.readable=!1),Ne&&Ne.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,Ne&&Ne.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",qe)}function qe(){this.allowHalfOpen||this._writableState.ended||m(Fe,this)}function Fe(Ne){Ne.end()}},function(e,i,c){(function(f){e.exports=Ue;var m=c(15),g=!f.browser&&["v0.10","v0.9."].indexOf(f.version.slice(0,5))>-1?setImmediate:m,Te;Ue.WritableState=Ne;var Ie=c(18);Ie.inherits=c(12);var Oe={deprecate:c(23)},_e;(function(){try{_e=c(11)}catch{}finally{_e||(_e=c(8).EventEmitter)}})();var De=c(2).Buffer,Ae=c(17);Ie.inherits(Ue,_e);function qe(){}function Fe(bt,St,ct){this.chunk=bt,this.encoding=St,this.callback=ct,this.next=null}function Ne(bt,St){Te=Te||c(21),bt=bt||{},this.objectMode=!!bt.objectMode,St instanceof Te&&(this.objectMode=this.objectMode||!!bt.writableObjectMode);var ct=bt.highWaterMark,dt=this.objectMode?16:16*1024;this.highWaterMark=ct||ct===0?ct:dt,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var Bt=bt.decodeStrings===!1;this.decodeStrings=!Bt,this.defaultEncoding=bt.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ct){rt(St,Ct)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new ur(this)}Ne.prototype.getBuffer=function(){for(var St=this.bufferedRequest,ct=[];St;)ct.push(St),St=St.next;return ct},function(){try{Object.defineProperty(Ne.prototype,"buffer",{get:Oe.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch{}}();var Ve;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Ve=Function.prototype[Symbol.hasInstance],Object.defineProperty(Ue,Symbol.hasInstance,{value:function(bt){return Ve.call(this,bt)?!0:bt&&bt._writableState instanceof Ne}})):Ve=function(bt){return bt instanceof this};function Ue(bt){if(Te=Te||c(21),!Ve.call(Ue,this)&&!(this instanceof Te))return new Ue(bt);this._writableState=new Ne(bt,this),this.writable=!0,bt&&(typeof bt.write=="function"&&(this._write=bt.write),typeof bt.writev=="function"&&(this._writev=bt.writev)),_e.call(this)}Ue.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function We(bt,St){var ct=new Error("write after end");bt.emit("error",ct),m(St,ct)}function He(bt,St,ct,dt){var Bt=!0,Ct=!1;return ct===null?Ct=new TypeError("May not write null values to stream"):typeof ct!="string"&&ct!==void 0&&!St.objectMode&&(Ct=new TypeError("Invalid non-string/buffer chunk")),Ct&&(bt.emit("error",Ct),m(dt,Ct),Bt=!1),Bt}Ue.prototype.write=function(bt,St,ct){var dt=this._writableState,Bt=!1,Ct=De.isBuffer(bt);return typeof St=="function"&&(ct=St,St=null),Ct?St="buffer":St||(St=dt.defaultEncoding),typeof ct!="function"&&(ct=qe),dt.ended?We(this,ct):(Ct||He(this,dt,bt,ct))&&(dt.pendingcb++,Bt=ot(this,dt,Ct,bt,St,ct)),Bt},Ue.prototype.cork=function(){var bt=this._writableState;bt.corked++},Ue.prototype.uncork=function(){var bt=this._writableState;bt.corked&&(bt.corked--,!bt.writing&&!bt.corked&&!bt.finished&&!bt.bufferProcessing&&bt.bufferedRequest&&mt(this,bt))},Ue.prototype.setDefaultEncoding=function(St){if(typeof St=="string"&&(St=St.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((St+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+St);return this._writableState.defaultEncoding=St,this};function Xe(bt,St,ct){return!bt.objectMode&&bt.decodeStrings!==!1&&typeof St=="string"&&(St=Ae.from(St,ct)),St}function ot(bt,St,ct,dt,Bt,Ct){ct||(dt=Xe(St,dt,Bt),De.isBuffer(dt)&&(Bt="buffer"));var Kt=St.objectMode?1:dt.length;St.length+=Kt;var fr=St.length<St.highWaterMark;if(fr||(St.needDrain=!0),St.writing||St.corked){var Rr=St.lastBufferedRequest;St.lastBufferedRequest=new Fe(dt,Bt,Ct),Rr?Rr.next=St.lastBufferedRequest:St.bufferedRequest=St.lastBufferedRequest,St.bufferedRequestCount+=1}else tt(bt,St,!1,Kt,dt,Bt,Ct);return fr}function tt(bt,St,ct,dt,Bt,Ct,Kt){St.writelen=dt,St.writecb=Kt,St.writing=!0,St.sync=!0,ct?bt._writev(Bt,St.onwrite):bt._write(Bt,Ct,St.onwrite),St.sync=!1}function gt(bt,St,ct,dt,Bt){--St.pendingcb,ct?m(Bt,dt):Bt(dt),bt._writableState.errorEmitted=!0,bt.emit("error",dt)}function vt(bt){bt.writing=!1,bt.writecb=null,bt.length-=bt.writelen,bt.writelen=0}function rt(bt,St){var ct=bt._writableState,dt=ct.sync,Bt=ct.writecb;if(vt(ct),St)gt(bt,ct,dt,St,Bt);else{var Ct=Ze(ct);!Ct&&!ct.corked&&!ct.bufferProcessing&&ct.bufferedRequest&&mt(bt,ct),dt?g(ht,bt,ct,Ct,Bt):ht(bt,ct,Ct,Bt)}}function ht(bt,St,ct,dt){ct||it(bt,St),St.pendingcb--,dt(),Zt(bt,St)}function it(bt,St){St.length===0&&St.needDrain&&(St.needDrain=!1,bt.emit("drain"))}function mt(bt,St){St.bufferProcessing=!0;var ct=St.bufferedRequest;if(bt._writev&&ct&&ct.next){var dt=St.bufferedRequestCount,Bt=new Array(dt),Ct=St.corkedRequestsFree;Ct.entry=ct;for(var Kt=0;ct;)Bt[Kt]=ct,ct=ct.next,Kt+=1;tt(bt,St,!0,St.length,Bt,"",Ct.finish),St.pendingcb++,St.lastBufferedRequest=null,Ct.next?(St.corkedRequestsFree=Ct.next,Ct.next=null):St.corkedRequestsFree=new ur(St)}else{for(;ct;){var fr=ct.chunk,Rr=ct.encoding,cr=ct.callback,lt=St.objectMode?1:fr.length;if(tt(bt,St,!1,lt,fr,Rr,cr),ct=ct.next,St.writing)break}ct===null&&(St.lastBufferedRequest=null)}St.bufferedRequestCount=0,St.bufferedRequest=ct,St.bufferProcessing=!1}Ue.prototype._write=function(bt,St,ct){ct(new Error("_write() is not implemented"))},Ue.prototype._writev=null,Ue.prototype.end=function(bt,St,ct){var dt=this._writableState;typeof bt=="function"?(ct=bt,bt=null,St=null):typeof St=="function"&&(ct=St,St=null),bt!=null&&this.write(bt,St),dt.corked&&(dt.corked=1,this.uncork()),!dt.ending&&!dt.finished&&zt(this,dt,ct)};function Ze(bt){return bt.ending&&bt.length===0&&bt.bufferedRequest===null&&!bt.finished&&!bt.writing}function Ft(bt,St){St.prefinished||(St.prefinished=!0,bt.emit("prefinish"))}function Zt(bt,St){var ct=Ze(St);return ct&&(St.pendingcb===0?(Ft(bt,St),St.finished=!0,bt.emit("finish")):Ft(bt,St)),ct}function zt(bt,St,ct){St.ending=!0,Zt(bt,St),ct&&(St.finished?m(ct):bt.once("finish",ct)),St.ended=!0,bt.writable=!1}function ur(bt){var St=this;this.next=null,this.entry=null,this.finish=function(ct){var dt=St.entry;for(St.entry=null;dt;){var Bt=dt.callback;bt.pendingcb--,Bt(ct),dt=dt.next}bt.corkedRequestsFree?bt.corkedRequestsFree.next=St:bt.corkedRequestsFree=St}}}).call(i,c(6))},function(e,i){(function(c){e.exports=f;function f(g,Te){if(m("noDeprecation"))return g;var Ie=!1;function Oe(){if(!Ie){if(m("throwDeprecation"))throw new Error(Te);m("traceDeprecation")?console.trace(Te):console.warn(Te),Ie=!0}return g.apply(this,arguments)}return Oe}function m(g){try{if(!c.localStorage)return!1}catch{return!1}var Te=c.localStorage[g];return Te==null?!1:String(Te).toLowerCase()==="true"}}).call(i,function(){return this}())},function(e,i,c){var f=c(2).Buffer,m=f.isEncoding||function(De){switch(De&&De.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function g(De){if(De&&!m(De))throw new Error("Unknown encoding: "+De)}var Te=i.StringDecoder=function(De){switch(this.encoding=(De||"utf8").toLowerCase().replace(/[-_]/,""),g(De),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=Oe;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=_e;break;default:this.write=Ie;return}this.charBuffer=new f(6),this.charReceived=0,this.charLength=0};Te.prototype.write=function(De){for(var Ae="";this.charLength;){var qe=De.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:De.length;if(De.copy(this.charBuffer,this.charReceived,0,qe),this.charReceived+=qe,this.charReceived<this.charLength)return"";De=De.slice(qe,De.length),Ae=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var Ne=Ae.charCodeAt(Ae.length-1);if(Ne>=55296&&Ne<=56319){this.charLength+=this.surrogateSize,Ae="";continue}if(this.charReceived=this.charLength=0,De.length===0)return Ae;break}this.detectIncompleteChar(De);var Fe=De.length;this.charLength&&(De.copy(this.charBuffer,0,De.length-this.charReceived,Fe),Fe-=this.charReceived),Ae+=De.toString(this.encoding,0,Fe);var Fe=Ae.length-1,Ne=Ae.charCodeAt(Fe);if(Ne>=55296&&Ne<=56319){var Ve=this.surrogateSize;return this.charLength+=Ve,this.charReceived+=Ve,this.charBuffer.copy(this.charBuffer,Ve,0,Ve),De.copy(this.charBuffer,0,0,Ve),Ae.substring(0,Fe)}return Ae},Te.prototype.detectIncompleteChar=function(De){for(var Ae=De.length>=3?3:De.length;Ae>0;Ae--){var qe=De[De.length-Ae];if(Ae==1&&qe>>5==6){this.charLength=2;break}if(Ae<=2&&qe>>4==14){this.charLength=3;break}if(Ae<=3&&qe>>3==30){this.charLength=4;break}}this.charReceived=Ae},Te.prototype.end=function(De){var Ae="";if(De&&De.length&&(Ae=this.write(De)),this.charReceived){var qe=this.charReceived,Fe=this.charBuffer,Ne=this.encoding;Ae+=Fe.slice(0,qe).toString(Ne)}return Ae};function Ie(De){return De.toString(this.encoding)}function Oe(De){this.charReceived=De.length%2,this.charLength=this.charReceived?2:0}function _e(De){this.charReceived=De.length%3,this.charLength=this.charReceived?3:0}},function(e,i,c){e.exports=Ie;var f=c(21),m=c(18);m.inherits=c(12),m.inherits(Ie,f);function g(_e){this.afterTransform=function(De,Ae){return Te(_e,De,Ae)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function Te(_e,De,Ae){var qe=_e._transformState;qe.transforming=!1;var Fe=qe.writecb;if(!Fe)return _e.emit("error",new Error("no writecb in Transform class"));qe.writechunk=null,qe.writecb=null,Ae!=null&&_e.push(Ae),Fe(De);var Ne=_e._readableState;Ne.reading=!1,(Ne.needReadable||Ne.length<Ne.highWaterMark)&&_e._read(Ne.highWaterMark)}function Ie(_e){if(!(this instanceof Ie))return new Ie(_e);f.call(this,_e),this._transformState=new g(this);var De=this;this._readableState.needReadable=!0,this._readableState.sync=!1,_e&&(typeof _e.transform=="function"&&(this._transform=_e.transform),typeof _e.flush=="function"&&(this._flush=_e.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(Ae,qe){Oe(De,Ae,qe)}):Oe(De)})}Ie.prototype.push=function(_e,De){return this._transformState.needTransform=!1,f.prototype.push.call(this,_e,De)},Ie.prototype._transform=function(_e,De,Ae){throw new Error("_transform() is not implemented")},Ie.prototype._write=function(_e,De,Ae){var qe=this._transformState;if(qe.writecb=Ae,qe.writechunk=_e,qe.writeencoding=De,!qe.transforming){var Fe=this._readableState;(qe.needTransform||Fe.needReadable||Fe.length<Fe.highWaterMark)&&this._read(Fe.highWaterMark)}},Ie.prototype._read=function(_e){var De=this._transformState;De.writechunk!==null&&De.writecb&&!De.transforming?(De.transforming=!0,this._transform(De.writechunk,De.writeencoding,De.afterTransform)):De.needTransform=!0};function Oe(_e,De,Ae){if(De)return _e.emit("error",De);Ae!=null&&_e.push(Ae);var qe=_e._writableState,Fe=_e._transformState;if(qe.length)throw new Error("Calling transform done when ws.length != 0");if(Fe.transforming)throw new Error("Calling transform done when still transforming");return _e.push(null)}},function(e,i,c){e.exports=g;var f=c(25),m=c(18);m.inherits=c(12),m.inherits(g,f);function g(Te){if(!(this instanceof g))return new g(Te);f.call(this,Te)}g.prototype._transform=function(Te,Ie,Oe){Oe(null,Te)}},function(e,i,c){e.exports=c(22)},function(e,i,c){e.exports=c(21)},function(e,i,c){e.exports=c(25)},function(e,i,c){e.exports=c(26)},function(e,i,c){var f=c(32),m=c(33),g=c(38),Te=c(39),Ie=c(40),Oe=c(41),_e=c(42),De=Object.prototype.toString;function Ae(Ne){if(!(this instanceof Ae))return new Ae(Ne);this.options=m.assign({chunkSize:16384,windowBits:0,to:""},Ne||{});var Ve=this.options;Ve.raw&&Ve.windowBits>=0&&Ve.windowBits<16&&(Ve.windowBits=-Ve.windowBits,Ve.windowBits===0&&(Ve.windowBits=-15)),Ve.windowBits>=0&&Ve.windowBits<16&&!(Ne&&Ne.windowBits)&&(Ve.windowBits+=32),Ve.windowBits>15&&Ve.windowBits<48&&(Ve.windowBits&15||(Ve.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Oe,this.strm.avail_out=0;var Ue=f.inflateInit2(this.strm,Ve.windowBits);if(Ue!==Te.Z_OK)throw new Error(Ie[Ue]);this.header=new _e,f.inflateGetHeader(this.strm,this.header)}Ae.prototype.push=function(Ne,Ve){var Ue=this.strm,We=this.options.chunkSize,He=this.options.dictionary,Xe,ot,tt,gt,vt,rt,ht=!1;if(this.ended)return!1;ot=Ve===~~Ve?Ve:Ve===!0?Te.Z_FINISH:Te.Z_NO_FLUSH,typeof Ne=="string"?Ue.input=g.binstring2buf(Ne):De.call(Ne)==="[object ArrayBuffer]"?Ue.input=new Uint8Array(Ne):Ue.input=Ne,Ue.next_in=0,Ue.avail_in=Ue.input.length;do{if(Ue.avail_out===0&&(Ue.output=new m.Buf8(We),Ue.next_out=0,Ue.avail_out=We),Xe=f.inflate(Ue,Te.Z_NO_FLUSH),Xe===Te.Z_NEED_DICT&&He&&(typeof He=="string"?rt=g.string2buf(He):De.call(He)==="[object ArrayBuffer]"?rt=new Uint8Array(He):rt=He,Xe=f.inflateSetDictionary(this.strm,rt)),Xe===Te.Z_BUF_ERROR&&ht===!0&&(Xe=Te.Z_OK,ht=!1),Xe!==Te.Z_STREAM_END&&Xe!==Te.Z_OK)return this.onEnd(Xe),this.ended=!0,!1;Ue.next_out&&(Ue.avail_out===0||Xe===Te.Z_STREAM_END||Ue.avail_in===0&&(ot===Te.Z_FINISH||ot===Te.Z_SYNC_FLUSH))&&(this.options.to==="string"?(tt=g.utf8border(Ue.output,Ue.next_out),gt=Ue.next_out-tt,vt=g.buf2string(Ue.output,tt),Ue.next_out=gt,Ue.avail_out=We-gt,gt&&m.arraySet(Ue.output,Ue.output,tt,gt,0),this.onData(vt)):this.onData(m.shrinkBuf(Ue.output,Ue.next_out))),Ue.avail_in===0&&Ue.avail_out===0&&(ht=!0)}while((Ue.avail_in>0||Ue.avail_out===0)&&Xe!==Te.Z_STREAM_END);return Xe===Te.Z_STREAM_END&&(ot=Te.Z_FINISH),ot===Te.Z_FINISH?(Xe=f.inflateEnd(this.strm),this.onEnd(Xe),this.ended=!0,Xe===Te.Z_OK):(ot===Te.Z_SYNC_FLUSH&&(this.onEnd(Te.Z_OK),Ue.avail_out=0),!0)},Ae.prototype.onData=function(Ne){this.chunks.push(Ne)},Ae.prototype.onEnd=function(Ne){Ne===Te.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=Ne,this.msg=this.strm.msg};function qe(Ne,Ve){var Ue=new Ae(Ve);if(Ue.push(Ne,!0),Ue.err)throw Ue.msg||Ie[Ue.err];return Ue.result}function Fe(Ne,Ve){return Ve=Ve||{},Ve.raw=!0,qe(Ne,Ve)}i.Inflate=Ae,i.inflate=qe,i.inflateRaw=Fe,i.ungzip=qe},function(e,i,c){var f=c(33),m=c(34),g=c(35),Te=c(36),Ie=c(37),Oe=0,_e=1,De=2,Ae=4,qe=5,Fe=6,Ne=0,Ve=1,Ue=2,We=-2,He=-3,Xe=-4,ot=-5,tt=8,gt=1,vt=2,rt=3,ht=4,it=5,mt=6,Ze=7,Ft=8,Zt=9,zt=10,ur=11,bt=12,St=13,ct=14,dt=15,Bt=16,Ct=17,Kt=18,fr=19,Rr=20,cr=21,lt=22,yt=23,Xt=24,$t=25,dr=26,Je=27,At=28,Wt=29,xt=30,pt=31,Dt=32,er=852,nt=592,ze=15,Ge=ze;function ut(Jt){return(Jt>>>24&255)+(Jt>>>8&65280)+((Jt&65280)<<8)+((Jt&255)<<24)}function Et(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new f.Buf16(320),this.work=new f.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function It(Jt){var yr;return!Jt||!Jt.state?We:(yr=Jt.state,Jt.total_in=Jt.total_out=yr.total=0,Jt.msg="",yr.wrap&&(Jt.adler=yr.wrap&1),yr.mode=gt,yr.last=0,yr.havedict=0,yr.dmax=32768,yr.head=null,yr.hold=0,yr.bits=0,yr.lencode=yr.lendyn=new f.Buf32(er),yr.distcode=yr.distdyn=new f.Buf32(nt),yr.sane=1,yr.back=-1,Ne)}function jt(Jt){var yr;return!Jt||!Jt.state?We:(yr=Jt.state,yr.wsize=0,yr.whave=0,yr.wnext=0,It(Jt))}function tr(Jt,yr){var at,Or;return!Jt||!Jt.state||(Or=Jt.state,yr<0?(at=0,yr=-yr):(at=(yr>>4)+1,yr<48&&(yr&=15)),yr&&(yr<8||yr>15))?We:(Or.window!==null&&Or.wbits!==yr&&(Or.window=null),Or.wrap=at,Or.wbits=yr,jt(Jt))}function Sr(Jt,yr){var at,Or;return Jt?(Or=new Et,Jt.state=Or,Or.window=null,at=tr(Jt,yr),at!==Ne&&(Jt.state=null),at):We}function Lr(Jt){return Sr(Jt,Ge)}var Pr=!0,Er,gr;function Qr(Jt){if(Pr){var yr;for(Er=new f.Buf32(512),gr=new f.Buf32(32),yr=0;yr<144;)Jt.lens[yr++]=8;for(;yr<256;)Jt.lens[yr++]=9;for(;yr<280;)Jt.lens[yr++]=7;for(;yr<288;)Jt.lens[yr++]=8;for(Ie(_e,Jt.lens,0,288,Er,0,Jt.work,{bits:9}),yr=0;yr<32;)Jt.lens[yr++]=5;Ie(De,Jt.lens,0,32,gr,0,Jt.work,{bits:5}),Pr=!1}Jt.lencode=Er,Jt.lenbits=9,Jt.distcode=gr,Jt.distbits=5}function Cr(Jt,yr,at,Or){var en,kr=Jt.state;return kr.window===null&&(kr.wsize=1<<kr.wbits,kr.wnext=0,kr.whave=0,kr.window=new f.Buf8(kr.wsize)),Or>=kr.wsize?(f.arraySet(kr.window,yr,at-kr.wsize,kr.wsize,0),kr.wnext=0,kr.whave=kr.wsize):(en=kr.wsize-kr.wnext,en>Or&&(en=Or),f.arraySet(kr.window,yr,at-Or,en,kr.wnext),Or-=en,Or?(f.arraySet(kr.window,yr,at-Or,Or,0),kr.wnext=Or,kr.whave=kr.wsize):(kr.wnext+=en,kr.wnext===kr.wsize&&(kr.wnext=0),kr.whave<kr.wsize&&(kr.whave+=en))),0}function sn(Jt,yr){var at,Or,en,kr,Bn,Tr,ln,or,ar,Zr,Nr,Dr,Wn,zn,fn=0,Jr,dn,wn,xn,mi,Mi,on,Ln,hn=new f.Buf8(4),Jn,jn,vn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Jt||!Jt.state||!Jt.output||!Jt.input&&Jt.avail_in!==0)return We;at=Jt.state,at.mode===bt&&(at.mode=St),Bn=Jt.next_out,en=Jt.output,ln=Jt.avail_out,kr=Jt.next_in,Or=Jt.input,Tr=Jt.avail_in,or=at.hold,ar=at.bits,Zr=Tr,Nr=ln,Ln=Ne;e:for(;;)switch(at.mode){case gt:if(at.wrap===0){at.mode=St;break}for(;ar<16;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}if(at.wrap&2&&or===35615){at.check=0,hn[0]=or&255,hn[1]=or>>>8&255,at.check=g(at.check,hn,2,0),or=0,ar=0,at.mode=vt;break}if(at.flags=0,at.head&&(at.head.done=!1),!(at.wrap&1)||(((or&255)<<8)+(or>>8))%31){Jt.msg="incorrect header check",at.mode=xt;break}if((or&15)!==tt){Jt.msg="unknown compression method",at.mode=xt;break}if(or>>>=4,ar-=4,on=(or&15)+8,at.wbits===0)at.wbits=on;else if(on>at.wbits){Jt.msg="invalid window size",at.mode=xt;break}at.dmax=1<<on,Jt.adler=at.check=1,at.mode=or&512?zt:bt,or=0,ar=0;break;case vt:for(;ar<16;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}if(at.flags=or,(at.flags&255)!==tt){Jt.msg="unknown compression method",at.mode=xt;break}if(at.flags&57344){Jt.msg="unknown header flags set",at.mode=xt;break}at.head&&(at.head.text=or>>8&1),at.flags&512&&(hn[0]=or&255,hn[1]=or>>>8&255,at.check=g(at.check,hn,2,0)),or=0,ar=0,at.mode=rt;case rt:for(;ar<32;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}at.head&&(at.head.time=or),at.flags&512&&(hn[0]=or&255,hn[1]=or>>>8&255,hn[2]=or>>>16&255,hn[3]=or>>>24&255,at.check=g(at.check,hn,4,0)),or=0,ar=0,at.mode=ht;case ht:for(;ar<16;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}at.head&&(at.head.xflags=or&255,at.head.os=or>>8),at.flags&512&&(hn[0]=or&255,hn[1]=or>>>8&255,at.check=g(at.check,hn,2,0)),or=0,ar=0,at.mode=it;case it:if(at.flags&1024){for(;ar<16;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}at.length=or,at.head&&(at.head.extra_len=or),at.flags&512&&(hn[0]=or&255,hn[1]=or>>>8&255,at.check=g(at.check,hn,2,0)),or=0,ar=0}else at.head&&(at.head.extra=null);at.mode=mt;case mt:if(at.flags&1024&&(Dr=at.length,Dr>Tr&&(Dr=Tr),Dr&&(at.head&&(on=at.head.extra_len-at.length,at.head.extra||(at.head.extra=new Array(at.head.extra_len)),f.arraySet(at.head.extra,Or,kr,Dr,on)),at.flags&512&&(at.check=g(at.check,Or,Dr,kr)),Tr-=Dr,kr+=Dr,at.length-=Dr),at.length))break e;at.length=0,at.mode=Ze;case Ze:if(at.flags&2048){if(Tr===0)break e;Dr=0;do on=Or[kr+Dr++],at.head&&on&&at.length<65536&&(at.head.name+=String.fromCharCode(on));while(on&&Dr<Tr);if(at.flags&512&&(at.check=g(at.check,Or,Dr,kr)),Tr-=Dr,kr+=Dr,on)break e}else at.head&&(at.head.name=null);at.length=0,at.mode=Ft;case Ft:if(at.flags&4096){if(Tr===0)break e;Dr=0;do on=Or[kr+Dr++],at.head&&on&&at.length<65536&&(at.head.comment+=String.fromCharCode(on));while(on&&Dr<Tr);if(at.flags&512&&(at.check=g(at.check,Or,Dr,kr)),Tr-=Dr,kr+=Dr,on)break e}else at.head&&(at.head.comment=null);at.mode=Zt;case Zt:if(at.flags&512){for(;ar<16;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}if(or!==(at.check&65535)){Jt.msg="header crc mismatch",at.mode=xt;break}or=0,ar=0}at.head&&(at.head.hcrc=at.flags>>9&1,at.head.done=!0),Jt.adler=at.check=0,at.mode=bt;break;case zt:for(;ar<32;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}Jt.adler=at.check=ut(or),or=0,ar=0,at.mode=ur;case ur:if(at.havedict===0)return Jt.next_out=Bn,Jt.avail_out=ln,Jt.next_in=kr,Jt.avail_in=Tr,at.hold=or,at.bits=ar,Ue;Jt.adler=at.check=1,at.mode=bt;case bt:if(yr===qe||yr===Fe)break e;case St:if(at.last){or>>>=ar&7,ar-=ar&7,at.mode=Je;break}for(;ar<3;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}switch(at.last=or&1,or>>>=1,ar-=1,or&3){case 0:at.mode=ct;break;case 1:if(Qr(at),at.mode=Rr,yr===Fe){or>>>=2,ar-=2;break e}break;case 2:at.mode=Ct;break;case 3:Jt.msg="invalid block type",at.mode=xt}or>>>=2,ar-=2;break;case ct:for(or>>>=ar&7,ar-=ar&7;ar<32;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}if((or&65535)!==(or>>>16^65535)){Jt.msg="invalid stored block lengths",at.mode=xt;break}if(at.length=or&65535,or=0,ar=0,at.mode=dt,yr===Fe)break e;case dt:at.mode=Bt;case Bt:if(Dr=at.length,Dr){if(Dr>Tr&&(Dr=Tr),Dr>ln&&(Dr=ln),Dr===0)break e;f.arraySet(en,Or,kr,Dr,Bn),Tr-=Dr,kr+=Dr,ln-=Dr,Bn+=Dr,at.length-=Dr;break}at.mode=bt;break;case Ct:for(;ar<14;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}if(at.nlen=(or&31)+257,or>>>=5,ar-=5,at.ndist=(or&31)+1,or>>>=5,ar-=5,at.ncode=(or&15)+4,or>>>=4,ar-=4,at.nlen>286||at.ndist>30){Jt.msg="too many length or distance symbols",at.mode=xt;break}at.have=0,at.mode=Kt;case Kt:for(;at.have<at.ncode;){for(;ar<3;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}at.lens[vn[at.have++]]=or&7,or>>>=3,ar-=3}for(;at.have<19;)at.lens[vn[at.have++]]=0;if(at.lencode=at.lendyn,at.lenbits=7,Jn={bits:at.lenbits},Ln=Ie(Oe,at.lens,0,19,at.lencode,0,at.work,Jn),at.lenbits=Jn.bits,Ln){Jt.msg="invalid code lengths set",at.mode=xt;break}at.have=0,at.mode=fr;case fr:for(;at.have<at.nlen+at.ndist;){for(;fn=at.lencode[or&(1<<at.lenbits)-1],Jr=fn>>>24,dn=fn>>>16&255,wn=fn&65535,!(Jr<=ar);){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}if(wn<16)or>>>=Jr,ar-=Jr,at.lens[at.have++]=wn;else{if(wn===16){for(jn=Jr+2;ar<jn;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}if(or>>>=Jr,ar-=Jr,at.have===0){Jt.msg="invalid bit length repeat",at.mode=xt;break}on=at.lens[at.have-1],Dr=3+(or&3),or>>>=2,ar-=2}else if(wn===17){for(jn=Jr+3;ar<jn;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}or>>>=Jr,ar-=Jr,on=0,Dr=3+(or&7),or>>>=3,ar-=3}else{for(jn=Jr+7;ar<jn;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}or>>>=Jr,ar-=Jr,on=0,Dr=11+(or&127),or>>>=7,ar-=7}if(at.have+Dr>at.nlen+at.ndist){Jt.msg="invalid bit length repeat",at.mode=xt;break}for(;Dr--;)at.lens[at.have++]=on}}if(at.mode===xt)break;if(at.lens[256]===0){Jt.msg="invalid code -- missing end-of-block",at.mode=xt;break}if(at.lenbits=9,Jn={bits:at.lenbits},Ln=Ie(_e,at.lens,0,at.nlen,at.lencode,0,at.work,Jn),at.lenbits=Jn.bits,Ln){Jt.msg="invalid literal/lengths set",at.mode=xt;break}if(at.distbits=6,at.distcode=at.distdyn,Jn={bits:at.distbits},Ln=Ie(De,at.lens,at.nlen,at.ndist,at.distcode,0,at.work,Jn),at.distbits=Jn.bits,Ln){Jt.msg="invalid distances set",at.mode=xt;break}if(at.mode=Rr,yr===Fe)break e;case Rr:at.mode=cr;case cr:if(Tr>=6&&ln>=258){Jt.next_out=Bn,Jt.avail_out=ln,Jt.next_in=kr,Jt.avail_in=Tr,at.hold=or,at.bits=ar,Te(Jt,Nr),Bn=Jt.next_out,en=Jt.output,ln=Jt.avail_out,kr=Jt.next_in,Or=Jt.input,Tr=Jt.avail_in,or=at.hold,ar=at.bits,at.mode===bt&&(at.back=-1);break}for(at.back=0;fn=at.lencode[or&(1<<at.lenbits)-1],Jr=fn>>>24,dn=fn>>>16&255,wn=fn&65535,!(Jr<=ar);){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}if(dn&&!(dn&240)){for(xn=Jr,mi=dn,Mi=wn;fn=at.lencode[Mi+((or&(1<<xn+mi)-1)>>xn)],Jr=fn>>>24,dn=fn>>>16&255,wn=fn&65535,!(xn+Jr<=ar);){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}or>>>=xn,ar-=xn,at.back+=xn}if(or>>>=Jr,ar-=Jr,at.back+=Jr,at.length=wn,dn===0){at.mode=dr;break}if(dn&32){at.back=-1,at.mode=bt;break}if(dn&64){Jt.msg="invalid literal/length code",at.mode=xt;break}at.extra=dn&15,at.mode=lt;case lt:if(at.extra){for(jn=at.extra;ar<jn;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}at.length+=or&(1<<at.extra)-1,or>>>=at.extra,ar-=at.extra,at.back+=at.extra}at.was=at.length,at.mode=yt;case yt:for(;fn=at.distcode[or&(1<<at.distbits)-1],Jr=fn>>>24,dn=fn>>>16&255,wn=fn&65535,!(Jr<=ar);){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}if(!(dn&240)){for(xn=Jr,mi=dn,Mi=wn;fn=at.distcode[Mi+((or&(1<<xn+mi)-1)>>xn)],Jr=fn>>>24,dn=fn>>>16&255,wn=fn&65535,!(xn+Jr<=ar);){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}or>>>=xn,ar-=xn,at.back+=xn}if(or>>>=Jr,ar-=Jr,at.back+=Jr,dn&64){Jt.msg="invalid distance code",at.mode=xt;break}at.offset=wn,at.extra=dn&15,at.mode=Xt;case Xt:if(at.extra){for(jn=at.extra;ar<jn;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}at.offset+=or&(1<<at.extra)-1,or>>>=at.extra,ar-=at.extra,at.back+=at.extra}if(at.offset>at.dmax){Jt.msg="invalid distance too far back",at.mode=xt;break}at.mode=$t;case $t:if(ln===0)break e;if(Dr=Nr-ln,at.offset>Dr){if(Dr=at.offset-Dr,Dr>at.whave&&at.sane){Jt.msg="invalid distance too far back",at.mode=xt;break}Dr>at.wnext?(Dr-=at.wnext,Wn=at.wsize-Dr):Wn=at.wnext-Dr,Dr>at.length&&(Dr=at.length),zn=at.window}else zn=en,Wn=Bn-at.offset,Dr=at.length;Dr>ln&&(Dr=ln),ln-=Dr,at.length-=Dr;do en[Bn++]=zn[Wn++];while(--Dr);at.length===0&&(at.mode=cr);break;case dr:if(ln===0)break e;en[Bn++]=at.length,ln--,at.mode=cr;break;case Je:if(at.wrap){for(;ar<32;){if(Tr===0)break e;Tr--,or|=Or[kr++]<<ar,ar+=8}if(Nr-=ln,Jt.total_out+=Nr,at.total+=Nr,Nr&&(Jt.adler=at.check=at.flags?g(at.check,en,Nr,Bn-Nr):m(at.check,en,Nr,Bn-Nr)),Nr=ln,(at.flags?or:ut(or))!==at.check){Jt.msg="incorrect data check",at.mode=xt;break}or=0,ar=0}at.mode=At;case At:if(at.wrap&&at.flags){for(;ar<32;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}if(or!==(at.total&4294967295)){Jt.msg="incorrect length check",at.mode=xt;break}or=0,ar=0}at.mode=Wt;case Wt:Ln=Ve;break e;case xt:Ln=He;break e;case pt:return Xe;case Dt:default:return We}return Jt.next_out=Bn,Jt.avail_out=ln,Jt.next_in=kr,Jt.avail_in=Tr,at.hold=or,at.bits=ar,(at.wsize||Nr!==Jt.avail_out&&at.mode<xt&&(at.mode<Je||yr!==Ae))&&Cr(Jt,Jt.output,Jt.next_out,Nr-Jt.avail_out),Zr-=Jt.avail_in,Nr-=Jt.avail_out,Jt.total_in+=Zr,Jt.total_out+=Nr,at.total+=Nr,at.wrap&&Nr&&(Jt.adler=at.check=at.flags?g(at.check,en,Nr,Jt.next_out-Nr):m(at.check,en,Nr,Jt.next_out-Nr)),Jt.data_type=at.bits+(at.last?64:0)+(at.mode===bt?128:0)+(at.mode===Rr||at.mode===dt?256:0),(Zr===0&&Nr===0||yr===Ae)&&Ln===Ne&&(Ln=ot),Ln}function Pn(Jt){if(!Jt||!Jt.state)return We;var yr=Jt.state;return yr.window&&(yr.window=null),Jt.state=null,Ne}function Un(Jt,yr){var at;return!Jt||!Jt.state||(at=Jt.state,!(at.wrap&2))?We:(at.head=yr,yr.done=!1,Ne)}function wr(Jt,yr){var at=yr.length,Or,en,kr;return!Jt||!Jt.state||(Or=Jt.state,Or.wrap!==0&&Or.mode!==ur)?We:Or.mode===ur&&(en=1,en=m(en,yr,at,0),en!==Or.check)?He:(kr=Cr(Jt,yr,at,at),kr?(Or.mode=pt,Xe):(Or.havedict=1,Ne))}i.inflateReset=jt,i.inflateReset2=tr,i.inflateResetKeep=It,i.inflateInit=Lr,i.inflateInit2=Sr,i.inflate=sn,i.inflateEnd=Pn,i.inflateGetHeader=Un,i.inflateSetDictionary=wr,i.inflateInfo="pako inflate (from Nodeca project)"},function(e,i){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(g){for(var Te=Array.prototype.slice.call(arguments,1);Te.length;){var Ie=Te.shift();if(Ie){if(typeof Ie!="object")throw new TypeError(Ie+"must be non-object");for(var Oe in Ie)Ie.hasOwnProperty(Oe)&&(g[Oe]=Ie[Oe])}}return g},i.shrinkBuf=function(g,Te){return g.length===Te?g:g.subarray?g.subarray(0,Te):(g.length=Te,g)};var f={arraySet:function(g,Te,Ie,Oe,_e){if(Te.subarray&&g.subarray){g.set(Te.subarray(Ie,Ie+Oe),_e);return}for(var De=0;De<Oe;De++)g[_e+De]=Te[Ie+De]},flattenChunks:function(g){var Te,Ie,Oe,_e,De,Ae;for(Oe=0,Te=0,Ie=g.length;Te<Ie;Te++)Oe+=g[Te].length;for(Ae=new Uint8Array(Oe),_e=0,Te=0,Ie=g.length;Te<Ie;Te++)De=g[Te],Ae.set(De,_e),_e+=De.length;return Ae}},m={arraySet:function(g,Te,Ie,Oe,_e){for(var De=0;De<Oe;De++)g[_e+De]=Te[Ie+De]},flattenChunks:function(g){return[].concat.apply([],g)}};i.setTyped=function(g){g?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,f)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,m))},i.setTyped(c)},function(e,i){function c(f,m,g,Te){for(var Ie=f&65535|0,Oe=f>>>16&65535|0,_e=0;g!==0;){_e=g>2e3?2e3:g,g-=_e;do Ie=Ie+m[Te++]|0,Oe=Oe+Ie|0;while(--_e);Ie%=65521,Oe%=65521}return Ie|Oe<<16|0}e.exports=c},function(e,i){function c(){for(var g,Te=[],Ie=0;Ie<256;Ie++){g=Ie;for(var Oe=0;Oe<8;Oe++)g=g&1?3988292384^g>>>1:g>>>1;Te[Ie]=g}return Te}var f=c();function m(g,Te,Ie,Oe){var _e=f,De=Oe+Ie;g^=-1;for(var Ae=Oe;Ae<De;Ae++)g=g>>>8^_e[(g^Te[Ae])&255];return g^-1}e.exports=m},function(e,i){var c=30,f=12;e.exports=function(g,Te){var Ie,Oe,_e,De,Ae,qe,Fe,Ne,Ve,Ue,We,He,Xe,ot,tt,gt,vt,rt,ht,it,mt,Ze,Ft,Zt,zt;Ie=g.state,Oe=g.next_in,Zt=g.input,_e=Oe+(g.avail_in-5),De=g.next_out,zt=g.output,Ae=De-(Te-g.avail_out),qe=De+(g.avail_out-257),Fe=Ie.dmax,Ne=Ie.wsize,Ve=Ie.whave,Ue=Ie.wnext,We=Ie.window,He=Ie.hold,Xe=Ie.bits,ot=Ie.lencode,tt=Ie.distcode,gt=(1<<Ie.lenbits)-1,vt=(1<<Ie.distbits)-1;e:do{Xe<15&&(He+=Zt[Oe++]<<Xe,Xe+=8,He+=Zt[Oe++]<<Xe,Xe+=8),rt=ot[He&gt];t:for(;;){if(ht=rt>>>24,He>>>=ht,Xe-=ht,ht=rt>>>16&255,ht===0)zt[De++]=rt&65535;else if(ht&16){it=rt&65535,ht&=15,ht&&(Xe<ht&&(He+=Zt[Oe++]<<Xe,Xe+=8),it+=He&(1<<ht)-1,He>>>=ht,Xe-=ht),Xe<15&&(He+=Zt[Oe++]<<Xe,Xe+=8,He+=Zt[Oe++]<<Xe,Xe+=8),rt=tt[He&vt];r:for(;;){if(ht=rt>>>24,He>>>=ht,Xe-=ht,ht=rt>>>16&255,ht&16){if(mt=rt&65535,ht&=15,Xe<ht&&(He+=Zt[Oe++]<<Xe,Xe+=8,Xe<ht&&(He+=Zt[Oe++]<<Xe,Xe+=8)),mt+=He&(1<<ht)-1,mt>Fe){g.msg="invalid distance too far back",Ie.mode=c;break e}if(He>>>=ht,Xe-=ht,ht=De-Ae,mt>ht){if(ht=mt-ht,ht>Ve&&Ie.sane){g.msg="invalid distance too far back",Ie.mode=c;break e}if(Ze=0,Ft=We,Ue===0){if(Ze+=Ne-ht,ht<it){it-=ht;do zt[De++]=We[Ze++];while(--ht);Ze=De-mt,Ft=zt}}else if(Ue<ht){if(Ze+=Ne+Ue-ht,ht-=Ue,ht<it){it-=ht;do zt[De++]=We[Ze++];while(--ht);if(Ze=0,Ue<it){ht=Ue,it-=ht;do zt[De++]=We[Ze++];while(--ht);Ze=De-mt,Ft=zt}}}else if(Ze+=Ue-ht,ht<it){it-=ht;do zt[De++]=We[Ze++];while(--ht);Ze=De-mt,Ft=zt}for(;it>2;)zt[De++]=Ft[Ze++],zt[De++]=Ft[Ze++],zt[De++]=Ft[Ze++],it-=3;it&&(zt[De++]=Ft[Ze++],it>1&&(zt[De++]=Ft[Ze++]))}else{Ze=De-mt;do zt[De++]=zt[Ze++],zt[De++]=zt[Ze++],zt[De++]=zt[Ze++],it-=3;while(it>2);it&&(zt[De++]=zt[Ze++],it>1&&(zt[De++]=zt[Ze++]))}}else if(ht&64){g.msg="invalid distance code",Ie.mode=c;break e}else{rt=tt[(rt&65535)+(He&(1<<ht)-1)];continue r}break}}else if(ht&64)if(ht&32){Ie.mode=f;break e}else{g.msg="invalid literal/length code",Ie.mode=c;break e}else{rt=ot[(rt&65535)+(He&(1<<ht)-1)];continue t}break}}while(Oe<_e&&De<qe);it=Xe>>3,Oe-=it,Xe-=it<<3,He&=(1<<Xe)-1,g.next_in=Oe,g.next_out=De,g.avail_in=Oe<_e?5+(_e-Oe):5-(Oe-_e),g.avail_out=De<qe?257+(qe-De):257-(De-qe),Ie.hold=He,Ie.bits=Xe}},function(e,i,c){var f=c(33),m=15,g=852,Te=592,Ie=0,Oe=1,_e=2,De=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Ae=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],qe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Fe=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(Ve,Ue,We,He,Xe,ot,tt,gt){var vt=gt.bits,rt=0,ht=0,it=0,mt=0,Ze=0,Ft=0,Zt=0,zt=0,ur=0,bt=0,St,ct,dt,Bt,Ct,Kt=null,fr=0,Rr,cr=new f.Buf16(m+1),lt=new f.Buf16(m+1),yt=null,Xt=0,$t,dr,Je;for(rt=0;rt<=m;rt++)cr[rt]=0;for(ht=0;ht<He;ht++)cr[Ue[We+ht]]++;for(Ze=vt,mt=m;mt>=1&&cr[mt]===0;mt--);if(Ze>mt&&(Ze=mt),mt===0)return Xe[ot++]=1<<24|64<<16|0,Xe[ot++]=1<<24|64<<16|0,gt.bits=1,0;for(it=1;it<mt&&cr[it]===0;it++);for(Ze<it&&(Ze=it),zt=1,rt=1;rt<=m;rt++)if(zt<<=1,zt-=cr[rt],zt<0)return-1;if(zt>0&&(Ve===Ie||mt!==1))return-1;for(lt[1]=0,rt=1;rt<m;rt++)lt[rt+1]=lt[rt]+cr[rt];for(ht=0;ht<He;ht++)Ue[We+ht]!==0&&(tt[lt[Ue[We+ht]]++]=ht);if(Ve===Ie?(Kt=yt=tt,Rr=19):Ve===Oe?(Kt=De,fr-=257,yt=Ae,Xt-=257,Rr=256):(Kt=qe,yt=Fe,Rr=-1),bt=0,ht=0,rt=it,Ct=ot,Ft=Ze,Zt=0,dt=-1,ur=1<<Ze,Bt=ur-1,Ve===Oe&&ur>g||Ve===_e&&ur>Te)return 1;for(;;){$t=rt-Zt,tt[ht]<Rr?(dr=0,Je=tt[ht]):tt[ht]>Rr?(dr=yt[Xt+tt[ht]],Je=Kt[fr+tt[ht]]):(dr=32+64,Je=0),St=1<<rt-Zt,ct=1<<Ft,it=ct;do ct-=St,Xe[Ct+(bt>>Zt)+ct]=$t<<24|dr<<16|Je|0;while(ct!==0);for(St=1<<rt-1;bt&St;)St>>=1;if(St!==0?(bt&=St-1,bt+=St):bt=0,ht++,--cr[rt]===0){if(rt===mt)break;rt=Ue[We+tt[ht]]}if(rt>Ze&&(bt&Bt)!==dt){for(Zt===0&&(Zt=Ze),Ct+=it,Ft=rt-Zt,zt=1<<Ft;Ft+Zt<mt&&(zt-=cr[Ft+Zt],!(zt<=0));)Ft++,zt<<=1;if(ur+=1<<Ft,Ve===Oe&&ur>g||Ve===_e&&ur>Te)return 1;dt=bt&Bt,Xe[dt]=Ze<<24|Ft<<16|Ct-ot|0}}return bt!==0&&(Xe[Ct+bt]=rt-Zt<<24|64<<16|0),gt.bits=Ze,0}},function(e,i,c){var f=c(33),m=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch{m=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{g=!1}for(var Te=new f.Buf8(256),Ie=0;Ie<256;Ie++)Te[Ie]=Ie>=252?6:Ie>=248?5:Ie>=240?4:Ie>=224?3:Ie>=192?2:1;Te[254]=Te[254]=1,i.string2buf=function(_e){var De,Ae,qe,Fe,Ne,Ve=_e.length,Ue=0;for(Fe=0;Fe<Ve;Fe++)Ae=_e.charCodeAt(Fe),(Ae&64512)===55296&&Fe+1<Ve&&(qe=_e.charCodeAt(Fe+1),(qe&64512)===56320&&(Ae=65536+(Ae-55296<<10)+(qe-56320),Fe++)),Ue+=Ae<128?1:Ae<2048?2:Ae<65536?3:4;for(De=new f.Buf8(Ue),Ne=0,Fe=0;Ne<Ue;Fe++)Ae=_e.charCodeAt(Fe),(Ae&64512)===55296&&Fe+1<Ve&&(qe=_e.charCodeAt(Fe+1),(qe&64512)===56320&&(Ae=65536+(Ae-55296<<10)+(qe-56320),Fe++)),Ae<128?De[Ne++]=Ae:Ae<2048?(De[Ne++]=192|Ae>>>6,De[Ne++]=128|Ae&63):Ae<65536?(De[Ne++]=224|Ae>>>12,De[Ne++]=128|Ae>>>6&63,De[Ne++]=128|Ae&63):(De[Ne++]=240|Ae>>>18,De[Ne++]=128|Ae>>>12&63,De[Ne++]=128|Ae>>>6&63,De[Ne++]=128|Ae&63);return De};function Oe(_e,De){if(De<65537&&(_e.subarray&&g||!_e.subarray&&m))return String.fromCharCode.apply(null,f.shrinkBuf(_e,De));for(var Ae="",qe=0;qe<De;qe++)Ae+=String.fromCharCode(_e[qe]);return Ae}i.buf2binstring=function(_e){return Oe(_e,_e.length)},i.binstring2buf=function(_e){for(var De=new f.Buf8(_e.length),Ae=0,qe=De.length;Ae<qe;Ae++)De[Ae]=_e.charCodeAt(Ae);return De},i.buf2string=function(_e,De){var Ae,qe,Fe,Ne,Ve=De||_e.length,Ue=new Array(Ve*2);for(qe=0,Ae=0;Ae<Ve;){if(Fe=_e[Ae++],Fe<128){Ue[qe++]=Fe;continue}if(Ne=Te[Fe],Ne>4){Ue[qe++]=65533,Ae+=Ne-1;continue}for(Fe&=Ne===2?31:Ne===3?15:7;Ne>1&&Ae<Ve;)Fe=Fe<<6|_e[Ae++]&63,Ne--;if(Ne>1){Ue[qe++]=65533;continue}Fe<65536?Ue[qe++]=Fe:(Fe-=65536,Ue[qe++]=55296|Fe>>10&1023,Ue[qe++]=56320|Fe&1023)}return Oe(Ue,qe)},i.utf8border=function(_e,De){var Ae;for(De=De||_e.length,De>_e.length&&(De=_e.length),Ae=De-1;Ae>=0&&(_e[Ae]&192)===128;)Ae--;return Ae<0||Ae===0?De:Ae+Te[_e[Ae]]>De?Ae:De}},function(e,i){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,i){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,i){function c(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=c},function(e,i){function c(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}e.exports=c}])})})(browserfs$2);var browserfsExports=browserfs$2.exports;const browserfs=getDefaultExportFromCjs(browserfsExports),browserfs$1=_mergeNamespaces({__proto__:null,default:browserfs},[browserfsExports]),raUserdataDir$1="/home/web_user/retroarch/userdata";function createEmscriptenFS({ERRNO_CODES:h,FS:o,PATH:e}){const i=new browserfsExports.FileSystem.InMemory,c=new browserfsExports.FileSystem.MountableFileSystem;try{c.umount(raUserdataDir$1)}catch{}return c.mount(raUserdataDir$1,i),browserfsExports.initialize(c),new browserfsExports.EmscriptenFS(o,e,h)}function getEmscriptenModuleOverrides(h){let o;const e=new Promise(c=>{o=c});return{noExitRuntime:!1,noInitialRun:!0,locateFile(c){return c},async monitorRunDependencies(c){return c===0&&o(),await e},print(...c){console.info(...c)},printErr(...c){console.error(...c)},quit(c,f){c&&console.info(c,f)},...h}}const{Buffer:Buffer$1}=browserfsExports.BFSRequire("buffer"),path=browserfsExports.BFSRequire("path"),{basename,dirname,extname,join,relative}=path;function urlBaseName(h){let o=h;try{o=new URL(h).pathname}catch{}const e=basename(o);try{return decodeURIComponent(e)}catch{return e}}function isAbsoluteUrl(h){return!h||typeof h!="string"?!1:["http://","https://","//","data:","blob:"].some(e=>h.startsWith(e))}async function blobToBuffer(h){const o=await h.arrayBuffer();return Buffer$1.from(o)}function stringToBuffer(h){return Buffer$1.from(h,"utf8")}function updateStyle(h,o){if(h)for(const e in o){const i=o[e];h.style[e]=i||null}}function delay(h){return new Promise(o=>{setTimeout(o,h)})}function isGlobalScript(h){return h.startsWith("var Module")}function isEsmScript(h){return h.includes("import.meta.url")}function patchCoreJs({js:h,name:o}){let e=h;return isGlobalScript(h)?e=`export function getEmscripten({ Module }) {
        ${h};
        Module.FS = FS;
        Module.PATH = PATH;
        Module.ERRNO_CODES = ERRNO_CODES;
        return { AL, Browser, JSEvents, Module, exit: _emscripten_force_exit }
      }`:isEsmScript(h)&&(e=`${h.replace("readyPromiseResolve(Module)","readyPromiseResolve({ AL, Browser, JSEvents, Module, exit: _emscripten_force_exit })")};
      export function getEmscripten({ Module }) {
        return (libretro_${o} || ${o})(Module)
      }
    `),e}async function importCoreJsAsESM({js,name}){const jsContent=patchCoreJs({js,name}),jsBlob=new Blob([jsContent],{type:"application/javascript"}),jsBlobUrl=URL.createObjectURL(jsBlob);if(!jsBlobUrl)throw new Error("invalid jsBlob");try{return await __vitePreload(()=>import(jsBlobUrl),[])}catch{return await eval("import(jsBlobUrl)")}finally{URL.revokeObjectURL(jsBlobUrl)}}function isNil(h){return h==null}function isPlainObject(h){if(isNil(h))return!1;const{constructor:o}=h;return o===Object||!o}function mergeSourceToTarget(h,o){for(const e in o)if(Object.prototype.hasOwnProperty.call(o,e)){const i=h[e],c=o[e];isNil(i)?h[e]=c:Array.isArray(i)&&Array.isArray(c)?h[e]=[...i,...c]:isPlainObject(i)&&isPlainObject(c)?(h[e]=isPlainObject(i)?h[e]:{},mergeSourceToTarget(h[e],c)):h[e]=c}}function merge(h,...o){for(const e of o)mergeSourceToTarget(h,e)}function checkIsAborted(h){if(h!=null&&h.aborted)throw new Error("Launch aborted")}function padZero(h){return(h<10?"0":"")+h}const encoder=new TextEncoder,raUserdataDir="/home/web_user/retroarch/userdata",raBundleDir="/home/web_user/retroarch/bundle",raContentDir=join(raUserdataDir,"content"),raSystemDir=join(raUserdataDir,"system"),raConfigDir=join(raUserdataDir,"config"),raShaderDir=join(raBundleDir,"shaders","shaders_glsl"),raConfigPath=join(raUserdataDir,"retroarch.cfg"),raCoreConfigPath=join(raUserdataDir,"retroarch-core-options.cfg");class Emulator{constructor(o){__publicField(this,"canvasInitialSize",{height:0,width:0}),__publicField(this,"gameStatus","initial"),__publicField(this,"messageQueue",[]),__publicField(this,"options"),__publicField(this,"browserFS"),__publicField(this,"emscripten"),this.options=o}clearStateFile(){const{Module:o}=this.getEmscripten(),{FS:e}=o;try{e.unlink(this.stateFileName),e.unlink(this.stateThumbnailFileName)}catch{}}fireKeyboardEvent(o,e){const{JSEvents:i}=this.getEmscripten();for(const{eventListenerFunc:c,eventTypeString:f}of i.eventHandlers)if(f===o)try{c({code:e,target:this.options.element})}catch{}}getCurrentRetroarchConfig(){const{Module:o}=this.getEmscripten(),{FS:e}=o,i=e.readFile(raConfigPath,{encoding:"utf8"});return ini$1.parse(i)}getElementSize(){const{element:o,size:e}=this.options;return!e||e==="auto"?{height:o.offsetHeight,width:o.offsetWidth}:e}getKeyboardCode(o,e=1){const i=this.getCurrentRetroarchConfig(),c=`input_player${e}_${o}`,f=i[c];if(!f||f==="nul")return;const{length:m}=f;return m===1?`Key${f.toUpperCase()}`:f[0]==="f"&&(m===2||m===3)?f.toUpperCase():m===4&&f.startsWith("num")?`Numpad${f.at(-1)}`:m===7&&f.startsWith("keypad")?`Digit${f.at(-1)}`:keyboardCodeMap[f]||""}guessScreenshotFileName(){const o=new Date,e=o.getFullYear()%1e3,i=padZero(o.getMonth()+1),c=padZero(o.getDate()),f=padZero(o.getHours()),m=padZero(o.getMinutes()),g=padZero(o.getSeconds()),Te=`${e}${i}${c}-${f}${m}${g}`;return`${this.romBaseName}-${Te}.png`}keyboardDown(o){this.fireKeyboardEvent("keydown",o)}async keyboardPress(o,e=100){this.keyboardDown(o),await delay(e),this.keyboardUp(o)}keyboardUp(o){this.fireKeyboardEvent("keyup",o)}postRun(){var o;this.resize(this.canvasInitialSize);for(const e of((o=navigator.getGamepads)==null?void 0:o.call(navigator))??[])e&&window.dispatchEvent(new GamepadEvent("gamepadconnected",{gamepad:e}));this.updateKeyboardEventHandlers()}get romBaseName(){const{rom:[{fileName:o}]}=this.options;return o.slice(0,o.lastIndexOf("."))}runMain(){checkIsAborted(this.options.signal);const{Module:o}=this.getEmscripten(),{arguments:e=[]}=o,{rom:i,signal:c}=this.options;if(!o.arguments&&i.length>0){const[{fileName:f}]=i;e.push(join(raContentDir,f))}o.callMain(e),c==null||c.addEventListener("abort",()=>{this.exit()}),this.gameStatus="running",this.postRun()}async setupEmscripten(){var o;typeof window=="object"&&(window.setImmediate??(window.setImmediate=window.setTimeout));const{core:e,element:i,emscriptenModule:c,signal:f}=this.options,{wasm:m}=e,g={canvas:i,preRun:[],wasmBinary:m,...c},Te=getEmscriptenModuleOverrides(g);(o=Te.preRun)==null||o.push(()=>Te.FS.init(()=>this.stdin()));const{getEmscripten:Ie}=await importCoreJsAsESM(e),Oe=await Ie({Module:Te});this.emscripten=Oe;const{Module:_e}=Oe;await _e.monitorRunDependencies(),checkIsAborted(f),await this.setupFileSystem()}async setupFileSystem(){const{Module:o}=this.getEmscripten(),{ERRNO_CODES:e,FS:i,PATH:c}=o,{bios:f,rom:m,signal:g,state:Te}=this.options,Ie=createEmscriptenFS({ERRNO_CODES:e,FS:i,PATH:c});this.browserFS=Ie,i.mount(Ie,{root:"/home"},"/home"),m.length>0&&i.mkdirTree(raContentDir),f.length>0&&i.mkdirTree(raSystemDir),Te&&i.mkdirTree(this.stateFileDirectory);const Oe=100;let _e=0;for(;!o.asm&&_e<Oe;)await delay(10),checkIsAborted(g),_e+=5;const De=[];if(De.push(...m.map(Ae=>this.writeBlobToDirectory({...Ae,directory:raContentDir})),...f.map(Ae=>this.writeBlobToDirectory({...Ae,directory:raSystemDir}))),Te){const Ae=this.writeBlobToDirectory({directory:this.stateFileDirectory,fileContent:Te,fileName:`${this.romBaseName}.state.auto`});De.push(Ae)}await Promise.all(De),checkIsAborted(g)}async setupRaConfigFile(){this.writeConfigFile({config:this.options.retroarchConfig,path:raConfigPath}),this.writeConfigFile({config:this.options.retroarchCoreConfig,path:raCoreConfigPath}),await this.setupRaShaderFile()}async setupRaShaderFile(){const{shader:o}=this.options;if(o.length===0)return;const e=o.filter(c=>c.fileName.endsWith(".glslp"));if(e.length===0)return;const i=e.map(c=>`#reference "${join(raShaderDir,c.fileName)}"`).join(`
`);this.writeTextToDirectory({directory:raConfigDir,fileContent:i,fileName:"global.glslp"}),await Promise.all(o.map(async({fileContent:c,fileName:f})=>{const m=f.endsWith(".glslp")?raShaderDir:join(raShaderDir,"shaders");await this.writeBlobToDirectory({directory:m,fileContent:c,fileName:f})}))}get stateFileDirectory(){const{core:o}=this.options,e=coreInfoMap[o.name].corename;if(!e)throw new Error(`invalid core name: ${o.name}`);return join(raUserdataDir,"states",e)}get stateFileName(){return join(this.stateFileDirectory,`${this.romBaseName}.state`)}get stateThumbnailFileName(){return`${this.stateFileName}.png`}stdin(){const{messageQueue:o}=this;for(;o.length>0;){const e=o[0][0],i=o[0][1];if(i>=e.length)o.shift();else return o[0][1]=i+1,e[i]}return null}updateKeyboardEventHandlers(){const{JSEvents:o}=this.getEmscripten(),{element:e,respondToGlobalEvents:i}=this.options;i||(e.getAttribute("tabindex")||(e.tabIndex=-1),e.focus(),e.addEventListener("click",()=>{e.focus()}));const c=new Set(["keyup","keydown","keypress"]),f=o.eventHandlers.filter(({eventTypeString:m,target:g})=>c.has(m)&&(g===document||g===e));for(const m of f){const{eventTypeString:g,handlerFunc:Te,target:Ie}=m;o.registerOrRemoveHandler({eventTypeString:g,target:Ie}),o.registerOrRemoveHandler({...m,handlerFunc:(...Oe)=>{const[_e]=Oe;(i||(_e==null?void 0:_e.target)===e)&&Te(...Oe)},target:i?document:e})}}async waitForEmscriptenFile(o){const{Module:e}=this.getEmscripten(),{FS:i}=e,c=30;let f,m=!1,g=0;for(;g<=c&&!m;){const Te=Math.min(100*2**g,1e3);await delay(Te);try{const Ie=i.readFile(o).buffer;m=(f==null?void 0:f.byteLength)>0&&(f==null?void 0:f.byteLength)===Ie.byteLength,f=Ie}catch(Ie){console.warn(Ie)}g+=1}if(!m)throw new Error("fs timeout");return f}async writeBlobToDirectory({directory:o,fileContent:e,fileName:i}){const{Module:c}=this.getEmscripten(),{FS:f}=c,m=await blobToBuffer(e);f.createDataFile("/",i,m,!0,!1);const g="binary",Te=f.readFile(i,{encoding:g});f.mkdirTree(o),f.writeFile(join(o,i),Te,{encoding:g}),f.unlink(i)}writeConfigFile({config:o,path:e}){const{Module:i}=this.getEmscripten(),{FS:c}=i,f=e.slice(0,e.lastIndexOf("/"));c.mkdirTree(f);for(const Ie in o)o[Ie]=`__${o[Ie]}__`;let m=ini$1.stringify(o,{platform:"linux",whitespace:!0});m=m.replaceAll("__",'"');const g=basename(e),Te=dirname(e);this.writeTextToDirectory({directory:Te,fileContent:m,fileName:g})}writeTextToDirectory({directory:o,fileContent:e,fileName:i}){const{Module:c}=this.getEmscripten(),{FS:f}=c,m=stringToBuffer(e);f.createDataFile("/",i,m,!0,!1);const g="binary",Te=f.readFile(i,{encoding:g});f.mkdirTree(o),f.writeFile(join(o,i),Te,{encoding:g}),f.unlink(i)}exit(o=0){const{emscripten:e}=this;if(e){const{exit:i,JSEvents:c,Module:f}=this.getEmscripten(),{FS:m}=f;i(o),m.unmount("/home"),c.removeAllEventListeners()}}getEmscripten(){if(!this.emscripten)throw new Error("emulator is not ready");return this.emscripten}getOptions(){return this.options}async launch(){await this.setupEmscripten(),checkIsAborted(this.options.signal),await this.setupRaConfigFile(),checkIsAborted(this.options.signal);const{element:o,respondToGlobalEvents:e,signal:i,style:c,waitForInteraction:f}=this.options;if(updateStyle(o,c),o.isConnected||(document.body.append(o),i==null||i.addEventListener("abort",()=>{o==null||o.remove()})),this.canvasInitialSize=this.getElementSize(),e===!1){(!o.tabIndex||o.tabIndex===-1)&&(o.tabIndex=0);const{activeElement:Oe}=document;o.focus(),i==null||i.addEventListener("abort",()=>{Oe instanceof HTMLElement&&Oe.focus()})}const{beforeLaunch:m,nostalgist:g,onLaunch:Te}=this.options;m&&await m(g);const Ie=async()=>{this.runMain(),Te&&await Te(g)};f?f({done:Ie}):Ie()}async loadState(o){this.clearStateFile();const{Module:e}=this.getEmscripten(),{FS:i}=e,c=await blobToBuffer(o);i.writeFile(this.stateFileName,c),await this.waitForEmscriptenFile(this.stateFileName),this.sendCommand("LOAD_STATE")}pause(){this.gameStatus==="running"&&this.sendCommand("PAUSE_TOGGLE"),this.gameStatus="paused"}async press(o,e=1,i=100){const c=this.getKeyboardCode(o,e);c&&await this.keyboardPress(c,i)}pressDown(o,e=1){const i=this.getKeyboardCode(o,e);i&&this.keyboardDown(i)}pressUp(o,e=1){const i=this.getKeyboardCode(o,e);i&&this.keyboardUp(i)}resize({height:o,width:e}){const{Module:i}=this.getEmscripten();typeof e=="number"&&typeof o=="number"&&i.setCanvasSize(e,o)}restart(){this.sendCommand("RESET"),this.resume()}resume(){this.gameStatus==="paused"&&this.sendCommand("PAUSE_TOGGLE"),this.gameStatus="running"}async saveState(){this.clearStateFile(),this.sendCommand("SAVE_STATE");const o=this.options.retroarchConfig.savestate_thumbnail_enable;let e,i;o?[e,i]=await Promise.all([this.waitForEmscriptenFile(this.stateFileName),this.waitForEmscriptenFile(this.stateThumbnailFileName)]):e=await this.waitForEmscriptenFile(this.stateFileName),this.clearStateFile();const c=new Blob([e],{type:"application/octet-stream"}),f=i?new Blob([i],{type:"image/png"}):void 0;return{state:c,thumbnail:f}}async screenshot(){this.sendCommand("SCREENSHOT");const o=join(raUserdataDir,"screenshots"),e=this.guessScreenshotFileName(),i=join(o,e),c=await this.waitForEmscriptenFile(i),{Module:f}=this.getEmscripten(),{FS:m}=f;m.unlink(i);const g={type:"image/png"};return new Blob([c],g)}sendCommand(o){const e=encoder.encode(`${o}
`);this.messageQueue.push([e,0])}}const defaultRetroarchConfig={menu_driver:"rgui",notification_show_when_menu_is_alive:!0,savestate_auto_load:!0,savestate_thumbnail_enable:!0,stdin_cmd_enable:!0,video_shader_enable:!0,input_audio_mute:"nul",input_cheat_index_minus:"nul",input_cheat_index_plus:"nul",input_cheat_toggle:"nul",input_desktop_menu_toggle:"nul",input_exit_emulator:"nul",input_fps_toggle:"nul",input_frame_advance:"nul",input_game_focus_toggle:"nul",input_grab_mouse_toggle:"nul",input_hold_fast_forward:"nul",input_hold_slowmotion:"nul",input_load_state:"nul",input_netplay_game_watch:"nul",input_netplay_player_chat:"nul",input_pause_toggle:"nul",input_reset:"nul",input_rewind:"nul",input_save_state:"nul",input_screenshot:"nul",input_shader_next:"nul",input_shader_prev:"nul",input_shader_toggle:"nul",input_state_slot_decrease:"nul",input_state_slot_increase:"nul",input_toggle_fast_forward:"nul",input_toggle_fullscreen:"nul",input_volume_down:"nul",input_volume_up:"nul",input_player1_analog_dpad_mode:1,input_player2_analog_dpad_mode:1,input_player3_analog_dpad_mode:1,input_player4_analog_dpad_mode:1},cdnBaseUrl="https://cdn.jsdelivr.net/gh",coreRepo="arianrhodsandlot/retroarch-emscripten-build",coreVersion="v1.19.1",coreDirectory="retroarch",shaderRepo="libretro/glsl-shaders",shaderVersion="bc8df9";function getDefaultOptions(){return{element:"",retroarchConfig:defaultRetroarchConfig,retroarchCoreConfig:{},runEmulatorManually:!1,resolveCoreJs(o){return`${cdnBaseUrl}/${coreRepo}@${coreVersion}/${coreDirectory}/${o}_libretro.js`},resolveCoreWasm(o){return`${cdnBaseUrl}/${coreRepo}@${coreVersion}/${coreDirectory}/${o}_libretro.wasm`},resolveRom(o){if(typeof o!="string")return o||[];if(isAbsoluteUrl(o))return o;let e="";if(o.endsWith(".nes")?e="retrobrews/nes-games":o.endsWith(".sfc")?e="retrobrews/snes-games":o.endsWith(".gb")||o.endsWith(".gbc")?e="retrobrews/gbc-games":o.endsWith(".gba")?e="retrobrews/gba-games":o.endsWith(".sms")?e="retrobrews/sms-games":(o.endsWith(".md")||o.endsWith(".bin"))&&(e="retrobrews/md-games"),e){const i=encodeURIComponent(o);return`${cdnBaseUrl}/${e}@master/${i}`}return o||[]},resolveBios(o){return o||[]},resolveShader(o){if(!o)return[];const e=`${cdnBaseUrl}/${shaderRepo}@${shaderVersion}/${o}.glslp`,i=o.split(path.sep);i.splice(-1,0,"shaders");const c=`${cdnBaseUrl}/${shaderRepo}@${shaderVersion}/${i.join(path.sep)}.glsl`;return[e,c]}}}const vendors={browserfs:browserfs$1,ini:ini$1},_Nostalgist=class Gn{constructor(o){__publicField(this,"emulator"),__publicField(this,"emulatorOptions"),__publicField(this,"options");const e={...Gn.globalOptions},i={...o},c={};merge(c,e,i),this.options=c}static configure(o){merge(Gn.globalOptions,o)}static async gb(o){return await Gn.launchSystem("gb",o)}static async gba(o){return await Gn.launchSystem("gba",o)}static async gbc(o){return await Gn.launchSystem("gbc",o)}static async launch(o){const e=new Gn(o);return await e.launch(),e}static async megadrive(o){return await Gn.launchSystem("megadrive",o)}static async nes(o){return await Gn.launchSystem("nes",o)}static resetToDefault(){Gn.configure(getDefaultOptions())}static async snes(o){return await Gn.launchSystem("snes",o)}async fetch(o){const{signal:e=null}=this.options;return await fetch(o,{signal:e})}async getBiosOption(){const{bios:o,resolveBios:e}=this.options;if(!o)return[];const i=Array.isArray(o)?o:[o];return await Promise.all(i.map(c=>this.resolveFile(c,e)))}static getCoreForSystem(o){return systemCoreMap[o]}async getCoreOption(){const{core:o,resolveCoreJs:e,resolveCoreWasm:i}=this.options;let c;if(typeof o=="string"){const[Ie,Oe]=await Promise.all([e(o,this.options),i(o,this.options)]);c={js:Ie,name:o,wasm:Oe}}else c=o;let{js:f,name:m,wasm:g}=c;const Te=[];return typeof f=="string"&&Te.push((async()=>{f=await(await this.fetch(f)).text()})()),typeof g=="string"&&Te.push((async()=>{g=await(await this.fetch(g)).arrayBuffer()})()),Te.length>0&&await Promise.all(Te),{js:f,name:m,wasm:g}}getElementOption(){if(typeof document!="object")throw new TypeError("document must be an object");let{element:o}=this.options;if(typeof o=="string"&&o){const e=document.body.querySelector(o);if(!e)throw new Error(`can not find element "${o}"`);if(!(e instanceof HTMLCanvasElement))throw new TypeError(`element "${o}" is not a canvas element`);o=e}if(o||(o=document.createElement("canvas")),o instanceof HTMLCanvasElement)return o.id="canvas",o;throw new TypeError("invalid element")}getRetroarchCoreOption(){const o={};return merge(o,Gn.globalOptions.retroarchCoreConfig,this.options.retroarchCoreConfig),o}getRetroarchOption(){const o={};return merge(o,Gn.globalOptions.retroarchConfig,this.options.retroarchConfig),o}async getRomOption(){const{resolveRom:o,rom:e}=this.options;if(!e)return[];const i=Array.isArray(e)?e:[e];return await Promise.all(i.map(c=>this.resolveFile(c,o)))}async getShaderOption(){const{resolveShader:o,shader:e}=this.options;if(!e)return[];const i=await o(e,this.options);return Array.isArray(i)?i.length>0?await Promise.all(i.map(c=>this.resolveFile(c))):[]:i?[await this.resolveFile(i)]:[]}getStyleOption(){const{element:o,style:e}=this.options,i={backgroundColor:"black",imageRendering:"pixelated"};if(o)return merge(i,e),i;const c={height:"100%",left:"0",position:"fixed",top:"0",width:"100%",zIndex:"1"};return merge(c,i,e),c}async launch(){await this.loadEmulatorOptions(),checkIsAborted(this.options.signal),this.loadEmulator(),this.options.runEmulatorManually||await this.launchEmulator()}static async launchSystem(o,e){const i=typeof e=="string"||e instanceof File||"fileName"in e&&"fileContent"in e?{rom:e}:e,c=Gn.getCoreForSystem(o);return await Gn.launch({...i,core:c})}loadEmulator(){const o=this.getEmulatorOptions(),e=new Emulator(o);this.emulator=e}async loadEmulatorOptions(){const{beforeLaunch:o,emscriptenModule:e={},onLaunch:i,respondToGlobalEvents:c=!0,signal:f,size:m="auto",state:g,waitForInteraction:Te}=this.options,Ie=this.getElementOption(),Oe=this.getStyleOption(),_e=this.getRetroarchOption(),De=this.getRetroarchCoreOption(),[Ae,qe,Fe,Ne]=await Promise.all([this.getCoreOption(),this.getRomOption(),this.getBiosOption(),this.getShaderOption()]);checkIsAborted(f);const Ve={beforeLaunch:o,bios:Fe,core:Ae,element:Ie,emscriptenModule:e,nostalgist:this,onLaunch:i,respondToGlobalEvents:c,retroarchConfig:_e,retroarchCoreConfig:De,rom:qe,shader:Ne,signal:f,size:m,state:g,style:Oe,waitForInteraction:Te};this.emulatorOptions=Ve}async resolveFile(o,e){let i="",c;if(o instanceof File)c=o,i=o.name;else if(o instanceof Blob)c=o,i="rom.bin";else if(typeof o=="string"){const f=await this.resolveStringFile(o,e);i=f.fileName,c=f.fileContent}else typeof o.fileName=="string"&&(i=o.fileName),o.fileContent instanceof Blob&&(c=o.fileContent);if(!c)throw new TypeError("file content is invalid");return i=i?i.replaceAll(/["%*/:<>?\\|]/g,"-"):"rom.bin",{fileContent:c,fileName:i}}async resolveStringFile(o,e){let i=urlBaseName(o),c;const f=e?await e(o,this.options):o;if(!f)throw new Error("file is invalid");return f instanceof Blob?c=f:typeof f=="string"&&(i=urlBaseName(f),c=await(await this.fetch(f)).blob()),{fileContent:c,fileName:i}}exit({removeCanvas:o=!0}={}){this.getEmulator().exit(),o&&this.getCanvas().remove()}getBrowserFS(){return this.getEmulator().browserFS}getCanvas(){return this.getEmulatorOptions().element}getEmscripten(){return this.getEmulator().getEmscripten()}getEmscriptenAL(){return this.getEmulator().getEmscripten().AL}getEmscriptenFS(){return this.getEmulator().getEmscripten().Module.FS}getEmscriptenModule(){return this.getEmulator().getEmscripten().Module}getEmulator(){const{emulator:o}=this;if(!o)throw new Error("emulator is not ready");return o}getEmulatorOptions(){if(!this.emulatorOptions)throw new Error("emulator options are not ready");return this.emulatorOptions}getOptions(){return this.options}async launchEmulator(){return await this.getEmulator().launch()}async loadState(o){await this.getEmulator().loadState(o)}pause(){this.getEmulator().pause()}async press(o){const e=this.getEmulator();await(typeof o=="string"?e.press(o):e.press(o.button,o.player,o.time))}pressDown(o){const e=this.getEmulator();return typeof o=="string"?e.pressDown(o):e.pressDown(o.button,o.player)}pressUp(o){const e=this.getEmulator();return typeof o=="string"?e.pressUp(o):e.pressUp(o.button,o.player)}resize(o){return this.getEmulator().resize(o)}restart(){this.getEmulator().restart()}resume(){this.getEmulator().resume()}async saveState(){return await this.getEmulator().saveState()}async screenshot(){return await this.getEmulator().screenshot()}sendCommand(o){return this.getEmulator().sendCommand(o)}};__publicField(_Nostalgist,"Nostalgist",_Nostalgist);__publicField(_Nostalgist,"vendors",vendors);__publicField(_Nostalgist,"globalOptions",getDefaultOptions());let Nostalgist=_Nostalgist;function _0x594b(){var h=["34MLUSRw","9mUpxNF","4980104LTezRw","2714082lrQsxo","1543685iYmEkW","1502406hXMZMb","26405gmptQV","2637590OcdxSh","20532mFzXvG","219ztQdve"];return _0x594b=function(){return h},_0x594b()}function _0x13f9(h,o){var e=_0x594b();return _0x13f9=function(i,c){i=i-421;var f=e[i];return f},_0x13f9(h,o)}(function(h,o){for(var e=_0x13f9,i=h();[];)try{var c=parseInt(e(428))/1*(-parseInt(e(422))/2)+parseInt(e(421))/3*(-parseInt(e(430))/4)+-parseInt(e(426))/5+parseInt(e(427))/6+parseInt(e(425))/7+parseInt(e(424))/8+-parseInt(e(423))/9*(-parseInt(e(429))/10);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x594b,392068);const _0x2fab85={platform_id:"",core:"",platform_name:"",short_name:"",theme:{},dependencies:"",fire_buttons:0,additional_buttons:{}},_0x5c5923=_0x8d3f;(function(h,o){const e=_0x8d3f,i=h();for(;[];)try{if(-parseInt(e(230))/1+-parseInt(e(226))/2+-parseInt(e(233))/3+-parseInt(e(236))/4*(-parseInt(e(235))/5)+-parseInt(e(240))/6*(-parseInt(e(228))/7)+parseInt(e(239))/8*(-parseInt(e(231))/9)+parseInt(e(241))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x2e62,798831);function _0x2e62(){const h=["1389195HuvVJZ","6px","4734678yerJcK","#88888844","33745QJLpQY","236BRGOfz","#88888866","COLLECTION_BROWSER_COLLECTION_INDEX","80IDjjUQ","6vXHlKY","47474780DGiGFQ","352176RqWgoX","#88888888","2498545SiUfnH","BOOT_TO","1405909uXyQBw"];return _0x2e62=function(){return h},_0x2e62()}function _0x8d3f(h,o){const e=_0x2e62();return _0x8d3f=function(i,c){return i=i-226,e[i]},_0x8d3f(h,o)}const QJ_IDLE_COLOR=_0x5c5923(234),QJ_ACTIVE_COLOR=_0x5c5923(237),QJ_LABEL_COLOR=_0x5c5923(227),BOOT_TO=_0x5c5923(229),COLLECTION_BROWSER_COLLECTION_INDEX=_0x5c5923(238),COLLECTION_BROWSER_ITEM_INDEX="COLLECTION_BROWSER_ITEM_INDEX",BOOT_TO_COLLECTION_BROWSER="COMPILATIONS",FAST_BTN_RADIUS=_0x5c5923(232),JOYSTICK_TOUCH_MODE={QUICKJOY_PRIMARY:100,QUICKSHOT_DYNAMIC:200,HIDEAWAY:1e3},MOUSE_TOUCH_MODE={TRACKPAD_BUTTONS:100},_0x6f2b70=_0x436d;(function(h,o){const e=_0x436d,i=h();for(;[];)try{if(-parseInt(e(275))/1+-parseInt(e(266))/2+-parseInt(e(276))/3+parseInt(e(274))/4*(-parseInt(e(273))/5)+parseInt(e(278))/6*(parseInt(e(288))/7)+parseInt(e(280))/8*(-parseInt(e(282))/9)+parseInt(e(270))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x5c6f,448124);function _0x5c6f(){const h=["#eeeeee","22142780XWKEbi","D-PAD","nes","25oxiYFk","472688ghZuaa","317363NVChAA","1108830MtKpoH","Start","3313158ftzaXC","assets/shaders/crt/shaders/crt-geom.glsl","184wFqiuK","uppercase","140193zbJfoF","assets/shaders/crt/crt-geom.glslp","fceumm","SELECT","Button B","Select","7ploehP","QUICKSHOT_DYNAMIC","#e45c10","1364486wDGoUJ","NES","Button A"];return _0x5c6f=function(){return h},_0x5c6f()}function _0x436d(h,o){const e=_0x5c6f();return _0x436d=function(i,c){return i=i-265,e[i]},_0x436d(h,o)}const NES={..._0x2fab85,platform_id:_0x6f2b70(272),core:_0x6f2b70(284),platform_name:"Nintendo Entertainment System",short_name:_0x6f2b70(267),theme:{"--color0":"#000000","--color1":_0x6f2b70(269),"--color2":_0x6f2b70(265),"--color3":"#f0d0b0","--font":_0x6f2b70(267),"--cursorwidth":"1em","--transform":_0x6f2b70(281)},shader:[_0x6f2b70(283),_0x6f2b70(279)],keyboard_controller_info:{"Cursor Keys":_0x6f2b70(271),Z:_0x6f2b70(286),X:_0x6f2b70(268),"Right Shift":_0x6f2b70(287),Enter:_0x6f2b70(277)},touch_controllers:[JOYSTICK_TOUCH_MODE[_0x6f2b70(289)]],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x6f2b70(289)],fire_buttons:2,additional_buttons:{1:{label:_0x6f2b70(285),keyCode:"select"},2:{label:"START",keyCode:"start"}}},_0x580c4d=_0x11d0;(function(h,o){const e=_0x11d0,i=h();for(;[];)try{if(-parseInt(e(503))/1*(parseInt(e(536))/2)+-parseInt(e(520))/3+-parseInt(e(504))/4*(-parseInt(e(527))/5)+-parseInt(e(518))/6+-parseInt(e(529))/7+parseInt(e(528))/8+parseInt(e(501))/9===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x295f,813083);function _0x295f(){const h=["#reference /home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/gameboy.glslp","assets/shaders/handheld/gameboy/shader-files/gb-pass2.glsl","blob","7284882YnMqgp","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/resources","2242005PjVhXS","Button A","assets/shaders/handheld/gameboy/shader-files/gb-pass3.glsl","SELECT","Start","mkdirTree","#828329","10LLWOHK","9280880Wmtsuw","9360008gNFkLY","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/gameboy.glslp","assets/shaders/handheld/gameboy/shader-files/gb-pass0.glsl","text","assets/shaders/handheld/gameboy/shader-files/gb-pass1.glsl","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files/gb-pass0.glsl","27518HDjyew","assets/shaders/handheld/gameboy/shader-files/gb-pass4.glsl","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files/gb-pass3.glsl","assets/shaders/handheld/gameboy/resources/background.png","QUICKSHOT_DYNAMIC","23878296lwxzJN","getEmscriptenFS","5LzzJGL","734500ReyuVi","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files/gb-pass1.glsl","gambatte","assets/shaders/handheld/gameboy.glslp","Select","arrayBuffer","writeFile","1em","/home/web_user/retroarch/userdata/config/global.glslp","D-PAD","Button B"];return _0x295f=function(){return h},_0x295f()}function _0x11d0(h,o){const e=_0x295f();return _0x11d0=function(i,c){return i=i-500,e[i]},_0x11d0(h,o)}const GB={..._0x2fab85,platform_id:"gb",core:_0x580c4d(506),platform_name:"Nintendo Game Boy",short_name:"GB",theme:{"--color0":_0x580c4d(526),"--color1":"#374e79","--font":"GB","--cursorwidth":_0x580c4d(511)},shader:async function(h){const o=_0x580c4d,e=h[o(502)](),i=await fetch(o(507)),c=await fetch(o(539)),f=await c[o(517)](),m=await f[o(509)](),g=await fetch("assets/shaders/handheld/gameboy/resources/palette.png"),Te=await g[o(517)](),Ie=await Te[o(509)](),Oe=await fetch(o(531)),_e=await fetch(o(533)),De=await fetch(o(516)),Ae=await fetch(o(522)),qe=await fetch(o(537));e[o(525)](o(519)),e[o(525)](o(534)),e[o(510)](o(530),await i[o(532)]()),e.writeFile("/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/resources/palette.png",new Uint8Array(Ie)),e[o(510)]("/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/resources/background.png",new Uint8Array(m)),e.writeFile(o(535),await Oe[o(532)]()),e[o(510)](o(505),await _e[o(532)]()),e[o(510)]("/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files/gb-pass2.glsl",await De[o(532)]()),e[o(510)](o(538),await Ae[o(532)]()),e[o(510)]("/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files/gb-pass4.glsl",await qe[o(532)]()),e[o(525)]("/home/web_user/retroarch/userdata/config/"),e[o(510)](o(512),o(515))},force_scale:!![],keyboard_controller_info:{"Cursor Keys":_0x580c4d(513),Z:_0x580c4d(514),X:_0x580c4d(521),"Right Shift":_0x580c4d(508),Enter:_0x580c4d(524)},touch_controllers:[JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x580c4d(500)],fire_buttons:2,additional_buttons:{1:{label:_0x580c4d(523),keyCode:"select"},2:{label:"START",keyCode:"start"}}},_0x55a622=_0x33dc;(function(h,o){const e=_0x33dc,i=h();for(;[];)try{if(-parseInt(e(222))/1+parseInt(e(243))/2*(-parseInt(e(227))/3)+parseInt(e(244))/4*(parseInt(e(241))/5)+parseInt(e(215))/6+-parseInt(e(230))/7*(parseInt(e(228))/8)+-parseInt(e(226))/9*(-parseInt(e(218))/10)+parseInt(e(248))/11*(parseInt(e(235))/12)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x3335,486800);function _0x33dc(h,o){const e=_0x3335();return _0x33dc=function(i,c){return i=i-215,e[i]},_0x33dc(h,o)}const GBC={..._0x2fab85,platform_id:_0x55a622(233),core:_0x55a622(223),platform_name:_0x55a622(238),short_name:"GBC",theme:{"--color0":_0x55a622(242),"--color1":"#4e93f1","--color2":_0x55a622(242),"--color3":"#c95340","--font":"GB","--cursorwidth":"1em"},shader:async function(h){const o=_0x55a622,e=h[o(245)](),i=await fetch(o(239)),c=await fetch(o(216));e[o(231)]("/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders"),e[o(236)](o(221),await i[o(234)]()),e[o(236)](o(246),await c[o(234)]()),e[o(231)](o(249)),e[o(236)](o(237),o(247))},force_scale:!![],keyboard_controller_info:{"Cursor Keys":_0x55a622(240),Z:_0x55a622(224),X:_0x55a622(232),"Right Shift":_0x55a622(229),Enter:_0x55a622(219)},touch_controllers:[JOYSTICK_TOUCH_MODE[_0x55a622(220)]],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x55a622(220)],fire_buttons:2,additional_buttons:{1:{label:_0x55a622(225),keyCode:_0x55a622(217)},2:{label:"START",keyCode:"start"}}};function _0x3335(){const h=["gambatte","Button B","SELECT","8178831KTXdtZ","18XchLSx","8TbybZC","Select","4095301POYgTf","mkdirTree","Button A","gbc","text","12cFXvut","writeFile","/home/web_user/retroarch/userdata/config/global.glslp","Nintendo Game Boy Color","assets/shaders/handheld/sameboy-lcd.glslp","D-PAD","33295EesaHQ","#ffffff","114650wFWajS","92eORiEd","getEmscriptenFS","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/sameboy-lcd.glsl","#reference /home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp","4115881TwWOdm","/home/web_user/retroarch/userdata/config/","5340678LpXRSv","assets/shaders/handheld/shaders/sameboy-lcd.glsl","select","10SDQlzb","Start","QUICKSHOT_DYNAMIC","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp","910407bZfksu"];return _0x3335=function(){return h},_0x3335()}const _0x39b942=_0x2ace;(function(h,o){const e=_0x2ace,i=h();for(;[];)try{if(-parseInt(e(442))/1*(-parseInt(e(444))/2)+parseInt(e(446))/3+parseInt(e(443))/4*(-parseInt(e(449))/5)+-parseInt(e(447))/6*(parseInt(e(454))/7)+parseInt(e(448))/8*(parseInt(e(459))/9)+-parseInt(e(455))/10+parseInt(e(458))/11===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x3f87,479305);function _0x2ace(h,o){const e=_0x3f87();return _0x2ace=function(i,c){return i=i-435,e[i]},_0x2ace(h,o)}function _0x3f87(){const h=["17811288JBmkXQ","9MVfVLC","1em","select","Sega Master System","SELECT","SMS","assets/shaders/crt/shaders/crt-geom.glsl","sms","Emulogic","1bBeSlu","76ZWQbgf","8240eDaWoa","gearsystem","862716lpwoAa","114ozVPrw","5289576plqmyU","145205hXQARi","Control Pad","QUICKSHOT_DYNAMIC","START","#ffffff","233513yTiWOE","9071920kCLppI","assets/shaders/crt/crt-geom.glslp","start"];return _0x3f87=function(){return h},_0x3f87()}const SMS={..._0x2fab85,platform_id:_0x39b942(440),core:_0x39b942(445),platform_name:_0x39b942(436),short_name:_0x39b942(438),theme:{"--color0":"#000000","--color1":_0x39b942(453),"--font":_0x39b942(441),"--cursorwidth":_0x39b942(460)},shader:[_0x39b942(456),_0x39b942(439)],keyboard_controller_info:{"Cursor Keys":_0x39b942(450),Z:"Button 1 / Start",X:"Button 2",Enter:"Pause"},touch_controllers:[JOYSTICK_TOUCH_MODE[_0x39b942(451)]],default_touch_controller:JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC,fire_buttons:2,additional_buttons:{1:{label:_0x39b942(437),keyCode:_0x39b942(435)},2:{label:_0x39b942(452),keyCode:_0x39b942(457)}}},_0x19b6c8=_0x1728;(function(h,o){const e=_0x1728,i=h();for(;[];)try{if(parseInt(e(444))/1+-parseInt(e(432))/2+-parseInt(e(449))/3*(parseInt(e(461))/4)+-parseInt(e(455))/5+parseInt(e(456))/6+-parseInt(e(439))/7*(-parseInt(e(433))/8)+parseInt(e(437))/9*(parseInt(e(458))/10)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x1789,907598);function _0x1789(){const h=["PetMe64","2926342sevyZW","48nBgIjB","F11","#d0dc71","1em","45FKrXdS","Joystick fire","13125tYxqZg","RUN/STOP","C64 support is under development and mostly broken or non-functional.","assets/shaders/crt/crt-geom.glslp","assets/shaders/crt/shaders/crt-geom.glsl","32867MapqJL","c64","F15","Joystick movement","kp_minus","2797443OLUnHX","F14","HIDEAWAY","Escape","QUICKJOY_PRIMARY","C64","4999485htgcKC","3916770cogPgT","nul","7212470uHKoal","SPACE","Commodore 64","4bOYpwz","enabled","Space"];return _0x1789=function(){return h},_0x1789()}const C64={..._0x2fab85,platform_id:_0x19b6c8(445),core:"vice_x64",platform_name:_0x19b6c8(460),short_name:_0x19b6c8(454),theme:{"--color0":"#6a53f5","--color1":"#b19efe","--color2":"#68a941","--color3":_0x19b6c8(435),"--font":_0x19b6c8(431),"--cursorwidth":_0x19b6c8(436)},guessConfig:h=>{const o=_0x19b6c8;return{vice_drive_true_emulation:"true",vice_warp_boost:o(429),vice_autostart:o(429),vice_autoloadwarp:o(429)}},shader:[_0x19b6c8(442),_0x19b6c8(443)],keyboard_controller_info:{"Cursor Keys":_0x19b6c8(447),Z:_0x19b6c8(438),Escape:"Run/Stop"},touch_controllers:[JOYSTICK_TOUCH_MODE[_0x19b6c8(453)],JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC,JOYSTICK_TOUCH_MODE[_0x19b6c8(451)]],touch_controller_mapping:{input_player1_up:"F13",input_player1_left:_0x19b6c8(450),input_player1_down:_0x19b6c8(446),input_player1_right:_0x19b6c8(434),input_player1_b:_0x19b6c8(448),input_player1_a:_0x19b6c8(457),input_player1_y:_0x19b6c8(457),input_player1_x:"nul",input_player1_start:"nul",input_player1_select:_0x19b6c8(457),input_player1_l:"nul",input_player1_r:_0x19b6c8(457)},fire_buttons:1,keyboard:{shiftKey:1,overrides:{}},additional_buttons:{1:{label:_0x19b6c8(459),key:{key:_0x19b6c8(430),code:"Space"}},2:{label:_0x19b6c8(440),key:{key:_0x19b6c8(452),code:_0x19b6c8(452)}},3:{label:"F1",key:{key:"F1",code:"F1"}}},message:[_0x19b6c8(441)]};function _0x1728(h,o){const e=_0x1789();return _0x1728=function(i,c){return i=i-429,e[i]},_0x1728(h,o)}const _0x35a505=_0x11c5;(function(h,o){const e=_0x11c5,i=h();for(;[];)try{if(parseInt(e(401))/1+-parseInt(e(412))/2+parseInt(e(400))/3+parseInt(e(394))/4+parseInt(e(393))/5+parseInt(e(407))/6*(-parseInt(e(395))/7)+parseInt(e(417))/8*(-parseInt(e(413))/9)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x34b4,314622);const C128={..._0x2fab85,platform_id:"c128",core:_0x35a505(402),platform_name:_0x35a505(399),short_name:_0x35a505(403),theme:{"--color0":_0x35a505(406),"--color1":_0x35a505(398),"--color2":"#555555","--color3":_0x35a505(406),"--font":_0x35a505(397),"--cursorwidth":"0.5em"},shader:[_0x35a505(415),_0x35a505(416)],keyboard_controller_info:{"Cursor Keys":_0x35a505(396),Z:"Joystick fire",Escape:_0x35a505(414)},touch_controllers:[JOYSTICK_TOUCH_MODE[_0x35a505(418)],JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC,JOYSTICK_TOUCH_MODE[_0x35a505(408)]],keyboard:{shiftKey:1,overrides:{}},additional_buttons:{1:{label:_0x35a505(410),key:{key:_0x35a505(405),code:_0x35a505(405)}},2:{label:_0x35a505(404),key:{key:_0x35a505(411),code:_0x35a505(411)}},3:{label:"F1",key:{key:"F1",code:"F1"}}},message:[_0x35a505(409)]};function _0x11c5(h,o){const e=_0x34b4();return _0x11c5=function(i,c){return i=i-393,e[i]},_0x11c5(h,o)}function _0x34b4(){const h=["161FeaDJB","Joystick movement","PetMe1282Y","#555555","Commodore 128","1674015cJbtyq","307542kvWtHO","vice_x128","C128","RUN/STOP","Space","#b9e893","147774EGobRR","HIDEAWAY","C128 support is under development and mostly broken or non-functional.","SPACE","Escape","795228hNThZe","4032jHpNKM","Run/Stop","assets/shaders/crt/crt-geom.glslp","assets/shaders/crt/shaders/crt-geom.glsl","2816cgScXV","QUICKJOY_PRIMARY","596085ZgPsJV","1806540AwWWcS"];return _0x34b4=function(){return h},_0x34b4()}function _0x4fda(){const h=["F14","QUICKSHOT_DYNAMIC","#ffffff","F13","2072215kfPRxc","10DDXzUY","#c6b4fa","assets/shaders/crt/crt-geom.glslp","212JhflUA","F15","C264","21nKHEOM","vice_xplus4","10563JvZAXg","1457288nipJOK","#000000","assets/shaders/crt/shaders/crt-geom.glsl","2439624iJUYgV","RUN/STOP","Joystick fire","Space","2593278XqGAXe","nul","Run/Stop","Escape","c264","3503XvovRe","Joystick movement","2937582numQBP","86CAgRBf"];return _0x4fda=function(){return h},_0x4fda()}const _0x558f4d=_0x1afd;(function(h,o){const e=_0x1afd,i=h();for(;[];)try{if(parseInt(e(264))/1*(parseInt(e(267))/2)+-parseInt(e(281))/3*(-parseInt(e(276))/4)+parseInt(e(272))/5+-parseInt(e(289))/6+-parseInt(e(279))/7*(parseInt(e(282))/8)+parseInt(e(266))/9*(parseInt(e(273))/10)+parseInt(e(285))/11===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x4fda,321171);function _0x1afd(h,o){const e=_0x4fda();return _0x1afd=function(i,c){return i=i-263,e[i]},_0x1afd(h,o)}const C264={..._0x2fab85,platform_id:_0x558f4d(263),core:_0x558f4d(280),platform_name:"Commodore C16, C116 & Plus/4",short_name:_0x558f4d(278),theme:{"--color1":"#000000","--color2":_0x558f4d(270),"--color0":_0x558f4d(274),"--color3":_0x558f4d(283),"--font":"Petme64","--cursorwidth":"1em"},shader:[_0x558f4d(275),_0x558f4d(284)],keyboard_controller_info:{"Cursor Keys":_0x558f4d(265),Z:_0x558f4d(287),Escape:_0x558f4d(291)},touch_controllers:[JOYSTICK_TOUCH_MODE.QUICKJOY_PRIMARY,JOYSTICK_TOUCH_MODE[_0x558f4d(269)],JOYSTICK_TOUCH_MODE.HIDEAWAY],touch_controller_mapping:{input_player1_up:_0x558f4d(271),input_player1_left:_0x558f4d(268),input_player1_down:_0x558f4d(277),input_player1_right:"F11",input_player1_b:"kp_minus",input_player1_a:_0x558f4d(290),input_player1_y:_0x558f4d(290),input_player1_x:_0x558f4d(290),input_player1_start:_0x558f4d(290),input_player1_select:_0x558f4d(290),input_player1_l:_0x558f4d(290),input_player1_r:_0x558f4d(290)},fire_buttons:1,keyboard:{shiftKey:1,overrides:{}},additional_buttons:{1:{label:"SPACE",key:{key:_0x558f4d(288),code:_0x558f4d(288)}},2:{label:_0x558f4d(286),key:{key:_0x558f4d(292),code:_0x558f4d(292)}},3:{label:"F1",key:{key:"F1",code:"F1"}}}},_0x13cd1b=_0x3116;(function(h,o){const e=_0x3116,i=h();for(;[];)try{if(-parseInt(e(232))/1*(-parseInt(e(229))/2)+-parseInt(e(254))/3+parseInt(e(251))/4+parseInt(e(235))/5*(-parseInt(e(250))/6)+-parseInt(e(241))/7*(-parseInt(e(234))/8)+parseInt(e(231))/9*(parseInt(e(245))/10)+-parseInt(e(239))/11===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x1203,485757);function _0x1203(){const h=["#a984ec","PetMe2X","2685270XXlSss","116374NPnQcy","start","882cCKPoz","13DiLIyM","Fire","112rEHDRI","5UDYObB","SELECT","Movement","HIDEAWAY","1428218rZftHN","#ffffff","106911BljdMn","A2600","assets/shaders/crt/crt-geom.glslp","Start","37550qEclYn","START","atari2600","uppercase","Select","4426728EvHAWq","3640920WSoWbf"];return _0x1203=function(){return h},_0x1203()}const A2600={..._0x2fab85,platform_id:_0x13cd1b(247),core:"stella2014",platform_name:"Atari 2600 / VCS",short_name:_0x13cd1b(242),theme:{"--color0":"#000000","--color1":_0x13cd1b(252),"--color2":_0x13cd1b(240),"--color3":_0x13cd1b(252),"--font":_0x13cd1b(253),"--cursorwidth":"1.5em","--transform":_0x13cd1b(248)},shader:[_0x13cd1b(243),"assets/shaders/crt/shaders/crt-geom.glsl"],keyboard_controller_info:{"Cursor Keys":_0x13cd1b(237),Z:_0x13cd1b(233),"Right Shift":_0x13cd1b(249),Enter:_0x13cd1b(244)},touch_controllers:[JOYSTICK_TOUCH_MODE.QUICKJOY_PRIMARY,JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC,JOYSTICK_TOUCH_MODE[_0x13cd1b(238)]],fire_buttons:1,additional_buttons:{1:{label:_0x13cd1b(236),keyCode:"select"},2:{label:_0x13cd1b(246),keyCode:_0x13cd1b(230)}}};function _0x3116(h,o){const e=_0x1203();return _0x3116=function(i,c){return i=i-229,e[i]},_0x3116(h,o)}const _0x525e4b=_0x3119;(function(h,o){const e=_0x3119,i=h();for(;[];)try{if(parseInt(e(132))/1+-parseInt(e(126))/2+-parseInt(e(140))/3+parseInt(e(120))/4+parseInt(e(133))/5*(-parseInt(e(122))/6)+-parseInt(e(128))/7+parseInt(e(127))/8*(parseInt(e(137))/9)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x1b11,575430);function _0x3119(h,o){const e=_0x1b11();return _0x3119=function(i,c){return i=i-115,e[i]},_0x3119(h,o)}const A5200={..._0x2fab85,platform_id:_0x525e4b(139),core:_0x525e4b(136),platform_name:_0x525e4b(118),short_name:_0x525e4b(125),theme:{"--color0":_0x525e4b(138),"--color1":"#ffffff","--font":_0x525e4b(123),"--transform":_0x525e4b(131),"--cursorwidth":_0x525e4b(121)},shader:[_0x525e4b(124),_0x525e4b(130)],keyboard_controller_info:{"Cursor Keys":_0x525e4b(116),Z:"Fire 1",X:_0x525e4b(129),"Right Shift":"Pause",Enter:_0x525e4b(117)},touch_controllers:[JOYSTICK_TOUCH_MODE[_0x525e4b(115)]],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x525e4b(115)],fire_buttons:2,additional_buttons:{1:{label:_0x525e4b(134),keyCode:"pause"},2:{label:_0x525e4b(119),keyCode:_0x525e4b(135)}}};function _0x1b11(){const h=["1079149zONmNA","5ebMaMZ","PAUSE","start","a5200","3749517utEXIV","#000000","atari5200","1529985Zwfqjm","QUICKSHOT_DYNAMIC","Movement","Start","Atari 5200","START","82024oHCupM","1em","1468446GDWMvL","Atascii","assets/shaders/crt/crt-geom.glslp","A5200","12002NVzDqe","16YjgSKm","4176998fyixEO","Fire 2","assets/shaders/crt/shaders/crt-geom.glsl","uppercase"];return _0x1b11=function(){return h},_0x1b11()}const _0x51eaad=_0x2d95;(function(h,o){const e=_0x2d95,i=h();for(;[];)try{if(-parseInt(e(204))/1*(-parseInt(e(191))/2)+parseInt(e(214))/3+parseInt(e(189))/4+-parseInt(e(182))/5*(-parseInt(e(205))/6)+-parseInt(e(202))/7+-parseInt(e(196))/8+-parseInt(e(218))/9===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x2e20,929863);const A800={..._0x2fab85,platform_id:_0x51eaad(213),core:_0x51eaad(213),bios:[_0x51eaad(203),_0x51eaad(187)],platform_name:_0x51eaad(188),short_name:_0x51eaad(208),theme:{"--color0":_0x51eaad(221),"--color1":"#60b7e7","--color3":_0x51eaad(221),"--color2":_0x51eaad(181),"--font":_0x51eaad(200),"--cursorwidth":_0x51eaad(194)},shader:[_0x51eaad(217),_0x51eaad(211)],guessBIOS:h=>{const o=_0x51eaad;let e=[o(203),o(187)];const i={"[400-800]":[o(220),"ATARIBAS.ROM"],"[REQ OSA]":[o(210),o(187)],"[REQ OSB]":[o(220),o(187)]};for(let c in i)if(h[o(228)]()[o(230)](c))return i[c];return e},guessConfig:h=>{const o=_0x51eaad,e={"[BASIC]":{atari800_internalbasic:o(224)},"(130XE)":{atari800_system:o(215)},"[128K]":{atari800_system:o(215)},"[192K]":{atari800_system:o(193)},"[256K]":{atari800_system:"Modern XL/XE(320K CS)"},"[320K]":{atari800_system:o(193)},"[1MB]":{atari800_system:o(226)},"[400-800]":{atari800_system:o(216)},"[REQ OSA]":{atari800_system:o(212)},"[REQ OSB]":{atari800_system:o(216),atari800_ntscpal:o(231)},"[STEREO]":{},".CAS":{atari800_cassboot:o(224)}};let c={...{atari800_ntscpal:o(227),atari800_resolution:o(186),atari800_system:"800XL (64K)"}};return Object[o(183)](e).forEach(f=>{const m=o;h[m(228)]()[m(230)](f)&&Object[m(185)](c,e[f])}),c},dependencies:[{key:_0x51eaad(203),type:"Atari XL/XE OS ROM",required:!![],accepted:["06daac977823773a3eea3422fd26a703"]},{key:_0x51eaad(187),type:_0x51eaad(206),required:!![],accepted:["0bac0c6a50104045d902df4503a4c30b"]},{key:"ATARIOSA.ROM",type:_0x51eaad(222),required:!![],accepted:[_0x51eaad(209)]},{key:_0x51eaad(220),type:"Atari 400/800 NTSC ROM",required:!![],accepted:[_0x51eaad(198)]}],keyboard_controller_info:{"Cursor Keys":_0x51eaad(201),Z:_0x51eaad(223),"Right Shift":_0x51eaad(207),F2:_0x51eaad(219),F4:_0x51eaad(199)},touch_controllers:[JOYSTICK_TOUCH_MODE.QUICKJOY_PRIMARY,JOYSTICK_TOUCH_MODE[_0x51eaad(190)],JOYSTICK_TOUCH_MODE.HIDEAWAY],touch_controller_mapping:{input_player1_up:_0x51eaad(195),input_player1_left:_0x51eaad(192),input_player1_down:"F15",input_player1_right:_0x51eaad(184),input_player1_b:_0x51eaad(232)},fire_buttons:1,keyboard:{shiftKey:2,overrides:{}},additional_buttons:{1:{label:"OPTION",key:{key:"F2",code:"F2"}},2:{label:_0x51eaad(225),keyCode:_0x51eaad(229)},3:{label:_0x51eaad(197),key:{key:"F4",code:"F4"}}}};function _0x2d95(h,o){const e=_0x2e20();return _0x2d95=function(i,c){return i=i-181,e[i]},_0x2d95(h,o)}function _0x2e20(){const h=["PAL","toUpperCase","select","includes","NTSC","kp_minus","#60b7e7","5MoLOBC","keys","F11","assign","336x240","ATARIBAS.ROM","Atari 800 / XE / XL","7151852oTYAMQ","QUICKSHOT_DYNAMIC","69332wJyffk","F14","Modern XL/XE(320K CS)","1em","F13","5486152xWlZGz","START","a3e8d617c95d08031fe1b20d541434b2","Start","Atascii","Joy Directions","2811487HNowIF","ATARIXL.ROM","1TwPCNW","1019610Hlnkqq","BASIC interpreter ROM","Select","A800","eb1f32f5d9f382db1bbfb8d7f9cb343a","ATARIOSA.ROM","assets/shaders/crt/shaders/crt-geom.glsl","400/800 (OS A)","atari800","2487483rzHWzx","130XE (128K)","400/800 (OS B)","assets/shaders/crt/crt-geom.glslp","7240068dwVwMD","Option","ATARIOSB.ROM","#005181","Atari 400/800 PAL ROM","Joystick fire","enabled","SELECT","Modern XL/XE(1088K)"];return _0x2e20=function(){return h},_0x2e20()}const _0x1bc3d4=_0x3346;(function(h,o){const e=_0x3346,i=h();for(;[];)try{if(-parseInt(e(138))/1+parseInt(e(132))/2*(parseInt(e(144))/3)+parseInt(e(126))/4+-parseInt(e(123))/5*(parseInt(e(146))/6)+parseInt(e(140))/7*(parseInt(e(148))/8)+-parseInt(e(137))/9*(parseInt(e(143))/10)+parseInt(e(147))/11*(-parseInt(e(142))/12)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x11e5,317228);function _0x11e5(){const h=["QUICKJOY_PRIMARY","29561NVDNyO","#000060","22332gUSVkU","6490KJDnPi","13809cocSod","crocods","42BjifJd","1848skxVsB","1184ZNPzja","#ea3323","QUICKSHOT_DYNAMIC","assets/shaders/crt/shaders/crt-geom.glsl","assets/shaders/crt/crt-geom.glslp","77655qYYSsh","Fire","Select file","921572wOBcyo","Joy Directions","CPC support is under development and mostly broken or non-functional.","unzip","CPC","1em","50ZfVMpO","HIDEAWAY","cpc","Amstrad CPC","#d6e121","1413aPWSwE","129986TpgueX"];return _0x11e5=function(){return h},_0x11e5()}const CPC={..._0x2fab85,platform_id:_0x1bc3d4(134),core:_0x1bc3d4(145),platform_name:_0x1bc3d4(135),short_name:_0x1bc3d4(130),loader:_0x1bc3d4(129),theme:{"--color0":_0x1bc3d4(141),"--color1":_0x1bc3d4(136),"--color2":"#000000","--color3":_0x1bc3d4(119),"--font":"AmstradCPC","--cursorwidth":_0x1bc3d4(131)},savestates_disabled:!![],shader:[_0x1bc3d4(122),_0x1bc3d4(121)],keyboard_controller_info:{"Cursor Keys":_0x1bc3d4(127),Z:_0x1bc3d4(124),X:_0x1bc3d4(125)},touch_controllers:[JOYSTICK_TOUCH_MODE[_0x1bc3d4(139)],JOYSTICK_TOUCH_MODE[_0x1bc3d4(120)],JOYSTICK_TOUCH_MODE[_0x1bc3d4(133)]],fire_buttons:1,additional_buttons:{},message:[_0x1bc3d4(128)]};function _0x3346(h,o){const e=_0x11e5();return _0x3346=function(i,c){return i=i-119,e[i]},_0x3346(h,o)}const _0x5d9ed1=_0x15c5;(function(h,o){const e=_0x15c5,i=h();for(;[];)try{if(-parseInt(e(262))/1+parseInt(e(246))/2+parseInt(e(266))/3+parseInt(e(270))/4*(-parseInt(e(252))/5)+-parseInt(e(249))/6+parseInt(e(250))/7+parseInt(e(247))/8===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x10d6,122689);function _0x10d6(){const h=["VIC20","10140JmBEdk","F14","QUICKSHOT_DYNAMIC","assets/shaders/crt/crt-geom.glslp","F11","Escape","4138hIWloP","2469720BkWWut","F15","785988xlUitU","94234HQiAnH","Joystick fire","155xiUBUI","Space","PetMe2X","#6ebdcb","vice_xvic","#ffffff","Run/Stop","assets/shaders/crt/shaders/crt-geom.glsl","QUICKJOY_PRIMARY","2em","40210lETJAA","#250ec5","vic20","nul","144708ZHyJQe","F13","RUN/STOP"];return _0x10d6=function(){return h},_0x10d6()}const VIC20={..._0x2fab85,platform_id:_0x5d9ed1(264),core:_0x5d9ed1(256),platform_name:"Commodore VIC-20",short_name:_0x5d9ed1(269),theme:{"--color0":_0x5d9ed1(257),"--color1":_0x5d9ed1(263),"--color2":_0x5d9ed1(263),"--color3":_0x5d9ed1(255),"--font":_0x5d9ed1(254),"--cursorwidth":_0x5d9ed1(261),"--transform":"uppercase"},shader:[_0x5d9ed1(243),_0x5d9ed1(259)],keyboard_controller_info:{"Cursor Keys":"Joystick movement",Z:_0x5d9ed1(251),Escape:_0x5d9ed1(258)},touch_controllers:[JOYSTICK_TOUCH_MODE[_0x5d9ed1(260)],JOYSTICK_TOUCH_MODE[_0x5d9ed1(242)],JOYSTICK_TOUCH_MODE.HIDEAWAY],touch_controller_mapping:{input_player1_up:_0x5d9ed1(267),input_player1_left:_0x5d9ed1(241),input_player1_down:_0x5d9ed1(248),input_player1_right:_0x5d9ed1(244),input_player1_b:"kp_minus",input_player1_a:_0x5d9ed1(265),input_player1_y:"nul",input_player1_x:_0x5d9ed1(265),input_player1_start:_0x5d9ed1(265),input_player1_select:_0x5d9ed1(265),input_player1_l:_0x5d9ed1(265),input_player1_r:_0x5d9ed1(265)},fire_buttons:1,keyboard:{shiftKey:1,overrides:{}},additional_buttons:{1:{label:"SPACE",key:{key:_0x5d9ed1(253),code:_0x5d9ed1(253)}},2:{label:_0x5d9ed1(268),key:{key:_0x5d9ed1(245),code:_0x5d9ed1(245)}},3:{label:"F1",key:{key:"F1",code:"F1"}}}};function _0x15c5(h,o){const e=_0x10d6();return _0x15c5=function(i,c){return i=i-241,e[i]},_0x15c5(h,o)}const _0x242a21=_0x3bdf;(function(h,o){const e=_0x3bdf,i=h();for(;[];)try{if(parseInt(e(266))/1*(parseInt(e(265))/2)+parseInt(e(275))/3+-parseInt(e(258))/4+parseInt(e(270))/5+parseInt(e(261))/6+-parseInt(e(276))/7+-parseInt(e(271))/8*(parseInt(e(268))/9)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x5d9d,341697);function _0x5d9d(){const h=["QUICKJOY_PRIMARY","HIDEAWAY","274hOGxND","4383xPUawE","Sinclair ZX80 / ZX81","54NDNwpt","uppercase","1727385IBijzE","1338448yPqwLp","#000000","QUICKSHOT_DYNAMIC","zx80","860745KgaVfG","1052443wOhObf","162276tENdbq","assets/shaders/crt/shaders/crt-geom.glsl","ZXSpectrum","1821528INrloS","#ffffff"];return _0x5d9d=function(){return h},_0x5d9d()}const ZX80={..._0x2fab85,platform_id:_0x242a21(274),core:"81",platform_name:_0x242a21(267),short_name:"ZX80",theme:{"--color0":_0x242a21(262),"--color1":_0x242a21(272),"--color2":_0x242a21(272),"--color3":"#ffffff","--font":_0x242a21(260),"--cursorwidth":"1em","--transform":_0x242a21(269)},shader:["assets/shaders/crt/crt-geom.glslp",_0x242a21(259)],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x242a21(263)],JOYSTICK_TOUCH_MODE[_0x242a21(273)],JOYSTICK_TOUCH_MODE[_0x242a21(264)]],fire_buttons:1,additional_buttons:{}};function _0x3bdf(h,o){const e=_0x5d9d();return _0x3bdf=function(i,c){return i=i-258,e[i]},_0x3bdf(h,o)}const _0x442dd7=_0x5c57;(function(h,o){const e=_0x5c57,i=h();for(;[];)try{if(parseInt(e(198))/1*(-parseInt(e(201))/2)+-parseInt(e(214))/3+parseInt(e(212))/4+parseInt(e(215))/5+parseInt(e(218))/6+-parseInt(e(219))/7+parseInt(e(222))/8===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x1c06,656595);function _0x5c57(h,o){const e=_0x1c06();return _0x5c57=function(i,c){return i=i-198,e[i]},_0x5c57(h,o)}const Spectrum={..._0x2fab85,platform_id:_0x442dd7(211),core:_0x442dd7(220),platform_name:_0x442dd7(203),short_name:_0x442dd7(223),theme:{"--color0":_0x442dd7(208),"--color1":_0x442dd7(209),"--color3":"#be2ec8","--color2":_0x442dd7(217),"--font":_0x442dd7(204),"--cursorwidth":_0x442dd7(205)},savestates_disabled:!![],shader:[_0x442dd7(207),_0x442dd7(199)],guessConfig:h=>{const o=_0x442dd7,e={};let c={...{input_libretro_device_p1:"513",input_libretro_device_p2:"0",input_libretro_device_p3:o(202),input_libretro_device_p4:"1",input_libretro_device_p5:"1"}};return Object.keys(e)[o(221)](f=>{const m=o;h[m(213)]()[m(206)](f)&&Object[m(210)](c,e[f])}),c},touch_controllers:[JOYSTICK_TOUCH_MODE.QUICKJOY_PRIMARY,JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC,JOYSTICK_TOUCH_MODE.HIDEAWAY],touch_controller_mapping:{input_player1_up:"F13",input_player1_left:"F14",input_player1_down:"F15",input_player1_right:_0x442dd7(216),input_player1_b:_0x442dd7(224)},fire_buttons:1,keyboard:{shiftKey:1,overrides:{}},additional_buttons:{},message:[_0x442dd7(200)]};function _0x1c06(){const h=["17320704JaMuxS","Spectrum","kp_minus","155777vwPWEb","assets/shaders/crt/shaders/crt-geom.glsl","ZX Spectrum support is under development and mostly broken or non-functional.","14NsxBOR","259","Sinclair ZX Spectrum","ZXSpectrum","1em","includes","assets/shaders/crt/crt-geom.glslp","#c0c000","#0000c0","assign","spectrum","747548LPWxng","toUpperCase","3716868KrONTd","2828315fzpxox","F11","#ffffff","6114798VLgXzO","6655467knleRL","fuse","forEach"];return _0x1c06=function(){return h},_0x1c06()}function _0x4fa8(h,o){const e=_0x4278();return _0x4fa8=function(i,c){return i=i-128,e[i]},_0x4fa8(h,o)}const _0x5d771c=_0x4fa8;(function(h,o){const e=_0x4fa8,i=h();for(;[];)try{if(parseInt(e(130))/1+-parseInt(e(148))/2*(-parseInt(e(154))/3)+-parseInt(e(140))/4*(parseInt(e(149))/5)+-parseInt(e(131))/6+-parseInt(e(133))/7+-parseInt(e(135))/8+-parseInt(e(144))/9*(-parseInt(e(141))/10)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x4278,606130);const PCE={..._0x2fab85,platform_id:_0x5d771c(146),core:_0x5d771c(151),platform_name:_0x5d771c(150),short_name:_0x5d771c(152),theme:{"--color0":"#000000","--color1":"#f0f0f0","--font":_0x5d771c(136),"--cursorwidth":_0x5d771c(128),"--transform":"uppercase"},shader:[_0x5d771c(138),_0x5d771c(137)],keyboard_controller_info:{"Cursor Keys":_0x5d771c(139),Z:_0x5d771c(129),X:_0x5d771c(153),"Right Shift":_0x5d771c(142),Enter:_0x5d771c(147)},touch_controllers:[JOYSTICK_TOUCH_MODE[_0x5d771c(143)]],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x5d771c(143)],fire_buttons:2,additional_buttons:{1:{label:_0x5d771c(145),keyCode:_0x5d771c(132)},2:{label:"RUN",keyCode:_0x5d771c(134)}}};function _0x4278(){const h=["3595270RanQFr","start","5373592OKxfrV","Shockman","assets/shaders/crt/shaders/crt-geom.glsl","assets/shaders/crt/crt-geom.glslp","D-PAD","118156eTPAcV","20HMQhXO","Select","QUICKSHOT_DYNAMIC","13527153CCdntP","SELECT","pce","Run","2uhxBsg","190taQcyP","PC Engine","mednafen_pce_fast","PCE","Button I","1806639HCQgyC","0.5em","Button II","232028YGJAQP","5558124LyVElO","select"];return _0x4278=function(){return h},_0x4278()}const _0x34000a=_0x4436;(function(h,o){const e=_0x4436,i=h();for(;[];)try{if(parseInt(e(185))/1*(-parseInt(e(191))/2)+parseInt(e(180))/3*(-parseInt(e(169))/4)+-parseInt(e(174))/5*(parseInt(e(188))/6)+parseInt(e(186))/7+-parseInt(e(178))/8+-parseInt(e(193))/9+-parseInt(e(190))/10*(-parseInt(e(187))/11)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x103a,626727);const MD={..._0x2fab85,platform_id:"smd",core:_0x34000a(196),platform_name:"Sega Mega Drive",short_name:_0x34000a(176),theme:{"--color0":"#00009B","--color1":"#eeeeee","--color3":_0x34000a(177),"--color2":_0x34000a(195),"--font":"MD","--cursorwidth":_0x34000a(182),"--transform":"none"},shader:[_0x34000a(184),_0x34000a(171)],guessConfig:h=>({input_libretro_device_p1:"0"}),keyboard_controller_info:{"Cursor Keys":_0x34000a(173),Z:_0x34000a(179),X:"Button C",A:_0x34000a(192),S:_0x34000a(181),Q:_0x34000a(194),W:_0x34000a(175),"Right Shift":_0x34000a(168),Enter:_0x34000a(183)},touch_controllers:[JOYSTICK_TOUCH_MODE[_0x34000a(189)]],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x34000a(189)],fire_buttons:3,additional_buttons:{1:{label:_0x34000a(170),keyCode:_0x34000a(172)}}};function _0x103a(){const h=["182XWiNEU","Button A","4367133MbSraQ","Button X","#ce2c1e","genesis_plus_gx","Mode","284764Suyljx","START","assets/shaders/crt/shaders/crt-geom.glsl","start","D-PAD","5810vAhDzS","Button Z","SMD","#66de42","6400176GJkJWN","Button B","15CfuCmd","Button Y","1em","Start","assets/shaders/crt/crt-geom.glslp","425Vwutkx","8463196cMcCRT","11nGUWut","5184hXIZyM","QUICKSHOT_DYNAMIC","21015560JKZSwY"];return _0x103a=function(){return h},_0x103a()}function _0x4436(h,o){const e=_0x103a();return _0x4436=function(i,c){return i=i-168,e[i]},_0x4436(h,o)}const _0x1045a7=_0xe642;(function(h,o){const e=_0xe642,i=h();for(;[];)try{if(parseInt(e(257))/1*(-parseInt(e(266))/2)+-parseInt(e(235))/3+-parseInt(e(260))/4+-parseInt(e(241))/5*(parseInt(e(238))/6)+parseInt(e(270))/7+-parseInt(e(244))/8*(parseInt(e(265))/9)+parseInt(e(259))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x4ad0,975122);function _0x4ad0(){const h=["Button B","46034cecFxS","start","46494750XiklrM","2932136XRktij","text","HIDEAWAY","#ebe4b2","writeFile","531FnqDGL","38czGDWg","Flip LCD","mkdirTree","Option 2","4160954CsTxyu","2425722WaTFyC","/home/web_user/retroarch/userdata/config/global.glslp","getEmscriptenFS","181488WAGLJf","lynx","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp","145oGPbKn","#985495","#reference /home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp","132248MqtfMm","Lynx","D-PAD","handy","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders","Option 1","Atari Lynx","Pause","0.75em","assets/shaders/handheld/shaders/sameboy-lcd.glsl","assets/shaders/handheld/sameboy-lcd.glslp","QUICKSHOT_DYNAMIC"];return _0x4ad0=function(){return h},_0x4ad0()}function _0xe642(h,o){const e=_0x4ad0();return _0xe642=function(i,c){return i=i-235,e[i]},_0xe642(h,o)}const Lynx={..._0x2fab85,platform_id:_0x1045a7(239),core:_0x1045a7(247),platform_name:_0x1045a7(250),short_name:"Lynx",theme:{"--color0":"#579342","--color1":_0x1045a7(263),"--color3":_0x1045a7(242),"--font":_0x1045a7(245),"--transform":"uppercase","--cursorwidth":_0x1045a7(252),"--cursorheight":"1em"},shader:async function(h){const o=_0x1045a7,e=h[o(237)](),i=await fetch(o(254)),c=await fetch(o(253));e[o(268)](o(248)),e[o(264)](o(240),await i[o(261)]()),e[o(264)]("/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/sameboy-lcd.glsl",await c.text()),e[o(268)]("/home/web_user/retroarch/userdata/config/"),e.writeFile(o(236),o(243))},keyboard_controller_info:{"Cursor Keys":_0x1045a7(246),Z:_0x1045a7(256),X:"Button A","Right Shift":_0x1045a7(267),Q:_0x1045a7(249),W:_0x1045a7(269),Enter:_0x1045a7(251)},touch_controllers:[JOYSTICK_TOUCH_MODE[_0x1045a7(255)],JOYSTICK_TOUCH_MODE[_0x1045a7(262)]],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x1045a7(255)],fire_buttons:2,additional_buttons:{1:{label:"2",keyCode:"r"},2:{label:"START",keyCode:_0x1045a7(258)},3:{label:"1",keyCode:"l"}}},_0x2c7e01=_0x204b;(function(h,o){const e=_0x204b,i=h();for(;[];)try{if(parseInt(e(398))/1*(parseInt(e(394))/2)+-parseInt(e(413))/3+-parseInt(e(386))/4*(parseInt(e(411))/5)+-parseInt(e(405))/6+-parseInt(e(393))/7+-parseInt(e(412))/8*(-parseInt(e(389))/9)+parseInt(e(404))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x1fec,858292);function _0x204b(h,o){const e=_0x1fec();return _0x204b=function(i,c){return i=i-374,e[i]},_0x204b(h,o)}function _0x1fec(){const h=["GBA BIOS","/home/web_user/retroarch/userdata/config/","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp","writeFile","getEmscriptenFS","QUICKSHOT_DYNAMIC","mkdirTree","#222222","Select","1788IlJXwo","text","gba_bios.bin","9QDLoTQ","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/sameboy-lcd.glsl","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders","Nintendo Game Boy Advance","7313033IMknUi","614MUOwgC","#8abac2","a860e8c0b6d573d191e4ec7db1b1e4f6","START","884EacCHW","Button R","Button B","Button A","assets/shaders/handheld/sameboy-lcd.glslp","mgba","46715990MjjhDi","8396892BoBKvi","gba","none","#dddddd","start","1em","12395fixfUE","7404128hRHtCZ","4373691TVtUuI","Button L","assets/shaders/handheld/shaders/sameboy-lcd.glsl","/home/web_user/retroarch/userdata/config/global.glslp"];return _0x1fec=function(){return h},_0x1fec()}const GBA={..._0x2fab85,platform_id:_0x2c7e01(406),core:_0x2c7e01(403),platform_name:_0x2c7e01(392),short_name:"GBA",theme:{"--color0":_0x2c7e01(384),"--color1":_0x2c7e01(408),"--color3":"#222222","--color2":_0x2c7e01(395),"--font":"PublicPixel","--cursorwidth":_0x2c7e01(410),"--transform":_0x2c7e01(407)},shader:async function(h){const o=_0x2c7e01,e=h[o(381)](),i=await fetch(o(402)),c=await fetch(o(375));e[o(383)](o(391)),e[o(380)](o(379),await i[o(387)]()),e.writeFile(o(390),await c.text()),e[o(383)](o(378)),e[o(380)](o(376),"#reference /home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp")},guessConfig:h=>({}),dependencies:[{key:_0x2c7e01(388),type:_0x2c7e01(377),required:![],accepted:[_0x2c7e01(396)]}],force_scale:!![],keyboard_controller_info:{"Cursor Keys":"D-PAD",Z:_0x2c7e01(400),X:_0x2c7e01(401),Q:_0x2c7e01(374),W:_0x2c7e01(399),"Right Shift":_0x2c7e01(385),Enter:"Start"},touch_controllers:[JOYSTICK_TOUCH_MODE[_0x2c7e01(382)]],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x2c7e01(382)],fire_buttons:4,additional_buttons:{1:{label:"SELECT",keyCode:"select"},2:{label:_0x2c7e01(397),keyCode:_0x2c7e01(409)}}},_0x40d76c=_0x35cc;(function(h,o){const e=_0x35cc,i=h();for(;[];)try{if(parseInt(e(502))/1*(parseInt(e(508))/2)+parseInt(e(504))/3+parseInt(e(500))/4+parseInt(e(515))/5+-parseInt(e(513))/6+parseInt(e(503))/7*(parseInt(e(511))/8)+-parseInt(e(512))/9*(parseInt(e(505))/10)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x2cca,216079);const SNK={..._0x2fab85,platform_id:_0x40d76c(519),core:_0x40d76c(499),platform_name:"Neo Geo AES / MVS",short_name:_0x40d76c(501),theme:{"--color0":"#656565","--color1":_0x40d76c(509),"--color3":"#71f3f2","--color2":_0x40d76c(516),"--font":"SNK","--cursorwidth":_0x40d76c(507),"--transform":"none"},shader:["assets/shaders/crt/crt-geom.glslp","assets/shaders/crt/shaders/crt-geom.glsl"],guessConfig:h=>({}),keyboard_controller_info:{"Cursor Keys":"Joystick movement",Z:"Fire A",X:_0x40d76c(498),A:_0x40d76c(506),S:_0x40d76c(497),"Right Shift":"Insert Coin",Enter:_0x40d76c(510)},touch_controllers:[JOYSTICK_TOUCH_MODE[_0x40d76c(518)]],default_touch_controller:JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC,fire_buttons:4,button_overrides:{"3countb":4,"2020bb":4,alpham2:3,androdun:2,aodk:4,aof:4,aof2:4,aof3:4,bakatono:4,bjourney:3,blazstar:2,breakers:4,bstars:4,bstars2:4,burningf:3,crsword:2,cyberlip:3,doubledr:4,eightman:3,fatfursp:4,fatfury1:4,fatfury2:4,fatfury3:4,fbfrenzy:4,galaxyfg:4,garou:4,gowcaizr:4,gpilots:2,joyjoy:2,kabukikl:4,karnovr:4,kizuna:4,kof94:4,kof95:4,kof96:4,kof97:4,kof98:4,kof99:4,kof2000:4,kof2001:4,kof2002:4,kof2003:4,kotm:3,kotm2:3,lastblad:4,lastbld2:4,lbowling:1,legendos:2,lresort:2,magdrop2:2,magdrop3:3,maglord:2,mahretsu:2,marukodq:4,matrim:4,minasan:0,mosyougi:0,mslug:3,mslug2:3,mslug3:3,mslug4:4,mslug5:4,mslugx:3,mutnat:2,nam1975:3,ncombat:3,ncommand:3,neocup98:3,ninjamas:4,overtop:2,pulstar:2,quizdai2:4,quizdais:4,quizkof:4,ragnagrd:4,rbff1:4,rbff1a:4,rbff2:4,rbffspec:4,ridhero:3,roboarmy:3,rotd:4,samsh5sp:4,samsho:4,samsho2:4,samsho3:4,samsho4:4,samsho5:4,savagere:4,sengoku:3,sengoku2:4,sengoku3:4,shocktr2:4,socbrawl:2,sonicwi2:2,sonicwi3:2,spinmast:3,ssideki:2,ssideki2:3,ssideki3:3,ssideki4:3,stakwin:2,stakwin2:3,strhoop:2,superspy:3,svc:4,tophuntr:3,tpgolf:4,trally:2,turfmast:3,twinspri:2,viewpoin:2,wakuwak7:4,wh1:3,wh2:3,wh2j:3,whp:4,wjammers:2},additional_buttons:{1:{label:_0x40d76c(520),keyCode:_0x40d76c(517)},2:{label:_0x40d76c(514),keyCode:"start"}}};function _0x35cc(h,o){const e=_0x2cca();return _0x35cc=function(i,c){return i=i-497,e[i]},_0x35cc(h,o)}function _0x2cca(){const h=["COIN","Fire D","Fire B","fbalpha2012_neogeo","670388zmhFic","SNK","301nlzrsS","371770eTAuDJ","249615IARUrV","10cDczRD","Fire C","1em","1982SJXuVk","#c3c3c3","Start","40OotQWz","6625854qCPYoO","573288rmhOGa","START","1165950OTGhVy","#000000","select","QUICKSHOT_DYNAMIC","snk"];return _0x2cca=function(){return h},_0x2cca()}const _0x3d92c9=_0x4dd6;function _0x4dd6(h,o){const e=_0x4590();return _0x4dd6=function(i,c){return i=i-105,e[i]},_0x4dd6(h,o)}(function(h,o){const e=_0x4dd6,i=h();for(;[];)try{if(-parseInt(e(138))/1*(-parseInt(e(108))/2)+parseInt(e(112))/3+parseInt(e(137))/4+parseInt(e(131))/5+parseInt(e(147))/6*(parseInt(e(141))/7)+parseInt(e(105))/8*(-parseInt(e(110))/9)+parseInt(e(120))/10*(-parseInt(e(128))/11)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x4590,530460);function _0x4590(){const h=["TRACKPAD_BUTTONS","QUICKJOY_PRIMARY","#000000","amiga.kick34005.A500","amiga.kick40063.A600","351923rnSZTe","hires","kick40068.A1200","1674490agRHIq","kick2x","kick40063.A600",".adf","exact","#6780ae","3466864uALCqv","29vWPsbV","/home/web_user/retroarch/userdata/system/kick40063.A600","Amiga","144655frTdzi","writeFile","nul","kick34005.A500","endsWith","/home/web_user/retroarch/userdata/system/kick40068.A1200","228AcddcA","kick3x","0.5em","getEmscriptenFS","single","#A7A7A7","HIDEAWAY","268744NRSJjz","Commodore Amiga","amiga","21730GuIrAl","getFile","207KqJKjg","A1200 Kickstart v3.1 rev 40.068","2474193raIUQr","auto","646773759326fbac3b2311fd8c8793ee","e40a5dfb3d017ba8779faba30cbd1c8e","puae","#ffffff","F15","QUICKSHOT_DYNAMIC","570GMBNpY","A500 Kickstart v1.3 rev 34.005","A600 Kickstart v3.1 rev 40.063"];return _0x4590=function(){return h},_0x4590()}const Amiga={..._0x2fab85,not_ready:!![],platform_id:_0x3d92c9(107),core:_0x3d92c9(116),bios:["kick1x",_0x3d92c9(132),_0x3d92c9(148)],platform_name:_0x3d92c9(106),short_name:_0x3d92c9(140),theme:{"--color0":_0x3d92c9(152),"--color1":_0x3d92c9(125),"--color2":"#666666","--color3":_0x3d92c9(117),"--color4":_0x3d92c9(136),"--font":"Topaz1200","--cursorwidth":_0x3d92c9(149)},startup_beforelaunch:async function(h,o){const e=_0x3d92c9,i=h[e(150)](),c=await o[e(109)](e(126)),f=await o.getFile(e(127)),m=await o[e(109)]("amiga.kick40068.A1200");i.writeFile("/home/web_user/retroarch/userdata/system/kick34005.A500",await new Uint8Array(c)),i[e(142)](e(139),await new Uint8Array(f)),i[e(142)](e(146),await new Uint8Array(m))},guessConfig:h=>{const o=_0x3d92c9;return h[o(145)](o(134))?{puae_model:"A500",puae_kickstart:o(144),puae_video_vresolution:o(151),puae_video_resolution:o(129),puae_cpu_compatibility:o(135),puae_crop_mode:"auto"}:{puae_cpu_compatibility:"exact",puae_video_vresolution:"single",puae_video_resolution:o(129),puae_crop_mode:o(113)}},shader:["assets/shaders/crt/crt-geom.glslp","assets/shaders/crt/shaders/crt-geom.glsl"],video_smooth:![],dependencies:[{key:_0x3d92c9(144),type:_0x3d92c9(121),required:!![],accepted:["82a21c1890cae844b3df741f2762d48d"]},{key:_0x3d92c9(133),type:_0x3d92c9(122),required:!![],accepted:[_0x3d92c9(115)]},{key:_0x3d92c9(130),type:_0x3d92c9(111),required:!![],accepted:[_0x3d92c9(114)]}],keyboard_controller_info:{"Cursor Keys":"Joy Directions",Z:"Fire",Mouse:"Mouse"},touch_controllers:[JOYSTICK_TOUCH_MODE[_0x3d92c9(124)],JOYSTICK_TOUCH_MODE[_0x3d92c9(119)],JOYSTICK_TOUCH_MODE[_0x3d92c9(153)]],mouse_controllers:[MOUSE_TOUCH_MODE[_0x3d92c9(123)]],touch_controller_mapping:{input_player1_x:_0x3d92c9(143),input_player1_y:_0x3d92c9(143),input_player1_c:"nul",input_player1_a:_0x3d92c9(143),input_player1_l:_0x3d92c9(143),input_player1_r:_0x3d92c9(143),input_player1_select:"nul",input_player1_start:"nul",input_player1_l2:"F13",input_player1_r2:"F14",input_player1_b:_0x3d92c9(118)},fire_buttons:1,keyboard:{shiftKey:2,overrides:{}},additional_buttons:{},rewind_granularity:25,fastforward_ratio:10},_0x5c017f=_0xc89f;function _0x1da1(){const h=["assets/shaders/crt/shaders/crt-geom.glsl","QUICKSHOT_DYNAMIC","mkdirTree","3409ghSsTR","10064043CIHIdL","gearcoleco","colecovision.rom","15168KzUsnl","#E7585B","#000000","ColecoVision","Numpad 1","Numpad #","writeFile","coleco.colecovision.rom","Numpad 3","Numpad 2","1174676zTRmkt","0.5em","Fire Left","/home/web_user/retroarch/userdata/system/colecovision.rom","#F0E59B","Coleco","242652SHcyoG","/home/web_user/retroarch/userdata/system/","620kwdfSe","uppercase","3064VyPozG","#EEEEEE","assets/shaders/crt/crt-geom.glslp","2c66f5911e5b42b8ebe113403548eee7","ColecoVision ROM","coleco","313974JCaUYq","Joy directions","1.2em","getEmscriptenFS","396825mUJoRp"];return _0x1da1=function(){return h},_0x1da1()}(function(h,o){const e=_0xc89f,i=h();for(;[];)try{if(-parseInt(e(465))/1+-parseInt(e(475))/2+-parseInt(e(479))/3+-parseInt(e(459))/4+parseInt(e(467))/5*(-parseInt(e(449))/6)+-parseInt(e(445))/7*(-parseInt(e(469))/8)+parseInt(e(446))/9===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x1da1,165693);function _0xc89f(h,o){const e=_0x1da1();return _0xc89f=function(i,c){return i=i-444,e[i]},_0xc89f(h,o)}const Coleco={..._0x2fab85,platform_id:_0x5c017f(474),core:_0x5c017f(447),platform_name:_0x5c017f(452),short_name:"Coleco",theme:{"--color0":_0x5c017f(451),"--color1":_0x5c017f(470),"--color3":_0x5c017f(450),"--color2":_0x5c017f(463),"--font":_0x5c017f(464),"--fontsize":_0x5c017f(477),"--transform":_0x5c017f(468),"--cursorwidth":_0x5c017f(460)},startup_beforelaunch:async function(h,o){const e=_0x5c017f,i=h[e(478)](),c=await o.getFile(e(456));i[e(444)](e(466)),i[e(455)](e(462),await new Uint8Array(c))},shader:[_0x5c017f(471),_0x5c017f(480)],keyboard_controller_info:{"Cursor Keys":_0x5c017f(476),Z:_0x5c017f(461),X:"Fire Right",A:_0x5c017f(453),S:_0x5c017f(458),Q:_0x5c017f(457),"Right Shift":_0x5c017f(454),Enter:"Numpad *"},touch_controllers:[JOYSTICK_TOUCH_MODE[_0x5c017f(481)]],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x5c017f(481)],dependencies:[{key:_0x5c017f(448),type:_0x5c017f(473),required:!![],accepted:[_0x5c017f(472)]}],fire_buttons:2,additional_buttons:{3:{label:"1",keyCode:"x"},2:{label:"2",keyCode:"y"},1:{label:"#",keyCode:"select"}}},_0x5b531e=_0x29ef;(function(h,o){const e=_0x29ef,i=h();for(;[];)try{if(-parseInt(e(432))/1*(-parseInt(e(419))/2)+-parseInt(e(436))/3*(-parseInt(e(438))/4)+parseInt(e(410))/5*(parseInt(e(413))/6)+-parseInt(e(423))/7*(parseInt(e(429))/8)+parseInt(e(420))/9+-parseInt(e(428))/10+-parseInt(e(424))/11*(parseInt(e(441))/12)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x23e2,748148);const SNES={..._0x2fab85,platform_id:_0x5b531e(435),core:_0x5b531e(437),platform_name:_0x5b531e(433),short_name:_0x5b531e(417),loader:_0x5b531e(422),theme:{"--color0":_0x5b531e(430),"--color1":_0x5b531e(427),"--color2":"#be321c","--color3":"#e17f30","--font":_0x5b531e(411),"--fontsize":_0x5b531e(434),"--cursorwidth":"1em"},shader:[_0x5b531e(426),_0x5b531e(425)],keyboard_controller_info:{"Cursor Keys":_0x5b531e(408),Z:_0x5b531e(409),X:"Button A",A:_0x5b531e(421),S:_0x5b531e(418),Q:_0x5b531e(440),W:_0x5b531e(412),"Right Shift":"Select",Enter:_0x5b531e(414)},touch_controllers:[JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC],default_touch_controller:JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC,fire_buttons:6,additional_buttons:{1:{label:_0x5b531e(439),keyCode:_0x5b531e(431)},2:{label:_0x5b531e(416),keyCode:_0x5b531e(415)}}};function _0x23e2(){const h=["#3c246d","select","52219OPVKER","Super Nintendo Entertainment System","1em","snes","1062507eGBBmh","snes9x","4wTAuHz","SELECT","Button L","12dheivB","D-PAD","Button B","5PGdFIV","NES","Button R","5868366aoqFid","Start","start","START","SNES","Button X","50wbibAE","3419946rMaZsk","Button Y","unzip","28hXceiT","8905347RjEBRh","assets/shaders/crt/shaders/crt-geom.glsl","assets/shaders/crt/crt-geom.glslp","#fdfcff","3413380rPXaxS","2237272JGhSjF"];return _0x23e2=function(){return h},_0x23e2()}function _0x29ef(h,o){const e=_0x23e2();return _0x29ef=function(i,c){return i=i-408,e[i]},_0x29ef(h,o)}const _0x5e688d=_0x3990;(function(h,o){const e=_0x3990,i=h();for(;[];)try{if(-parseInt(e(199))/1*(parseInt(e(195))/2)+parseInt(e(217))/3+-parseInt(e(221))/4+-parseInt(e(192))/5+parseInt(e(206))/6+parseInt(e(207))/7+-parseInt(e(200))/8*(-parseInt(e(191))/9)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x2f3c,639455);const Intv={..._0x2fab85,platform_id:"intv",core:_0x5e688d(202),platform_name:_0x5e688d(213),short_name:_0x5e688d(211),theme:{"--color0":_0x5e688d(216),"--color1":_0x5e688d(208),"--color2":_0x5e688d(209),"--color3":_0x5e688d(214),"--font":"Intellivision","--fontsize":_0x5e688d(219),"--transform":"uppercase","--cursorwidth":"0.5em"},startup_beforelaunch:async function(h,o){const e=_0x5e688d,i=h[e(205)]();i[e(204)](e(194));const c=await o[e(197)](e(201));i[e(198)](e(203),await new Uint8Array(c));const f=await o[e(197)]("intv.grom.bin");i[e(198)](e(210),await new Uint8Array(f))},shader:[_0x5e688d(212),_0x5e688d(223)],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x5e688d(220)]],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x5e688d(220)],dependencies:[{key:"grom.bin",type:"Graphics ROM",required:!![],accepted:[_0x5e688d(196)]},{key:_0x5e688d(190),type:_0x5e688d(189),required:!![],accepted:[_0x5e688d(218)]}],fire_buttons:3,additional_buttons:{1:{label:"E",key:{key:"]",code:_0x5e688d(222)}},2:{label:"2",key:{key:"2",code:_0x5e688d(193)}},3:{label:"1",key:{key:"1",code:_0x5e688d(215)}}}};function _0x2f3c(){const h=["1485955TIvaat","Digit2","/home/web_user/retroarch/userdata/system/","57926wUVkGg","0cd5946c6473e42e8e4c2137785e427f","getFile","writeFile","44uSyOQP","5854504VmtViT","intv.exec.bin","freeintv","/home/web_user/retroarch/userdata/system/exec.bin","mkdirTree","getEmscriptenFS","152556UqtAQT","3811164hIVeSu","#FAFAFA","#E44D2B","/home/web_user/retroarch/userdata/system/grom.bin","Intv","assets/shaders/crt/crt-geom.glslp","Mattel Intellivision","#EFF469","Digit1","#566A1D","3306132UkkCRZ","62e761035cb657903761800f4437b8af","1.2em","QUICKSHOT_DYNAMIC","770868gwZHPq","BracketRight","assets/shaders/crt/shaders/crt-geom.glsl","Executive ROM","exec.bin","9KSDUfE"];return _0x2f3c=function(){return h},_0x2f3c()}function _0x3990(h,o){const e=_0x2f3c();return _0x3990=function(i,c){return i=i-189,e[i]},_0x3990(h,o)}var jszip_min={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(h,o){(function(e){h.exports=e()})(function(){return function e(i,c,f){function m(Ie,Oe){if(!c[Ie]){if(!i[Ie]){var _e=typeof commonjsRequire=="function"&&commonjsRequire;if(!Oe&&_e)return _e(Ie,!0);if(g)return g(Ie,!0);var De=new Error("Cannot find module '"+Ie+"'");throw De.code="MODULE_NOT_FOUND",De}var Ae=c[Ie]={exports:{}};i[Ie][0].call(Ae.exports,function(qe){var Fe=i[Ie][1][qe];return m(Fe||qe)},Ae,Ae.exports,e,i,c,f)}return c[Ie].exports}for(var g=typeof commonjsRequire=="function"&&commonjsRequire,Te=0;Te<f.length;Te++)m(f[Te]);return m}({1:[function(e,i,c){var f=e("./utils"),m=e("./support"),g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";c.encode=function(Te){for(var Ie,Oe,_e,De,Ae,qe,Fe,Ne=[],Ve=0,Ue=Te.length,We=Ue,He=f.getTypeOf(Te)!=="string";Ve<Te.length;)We=Ue-Ve,_e=He?(Ie=Te[Ve++],Oe=Ve<Ue?Te[Ve++]:0,Ve<Ue?Te[Ve++]:0):(Ie=Te.charCodeAt(Ve++),Oe=Ve<Ue?Te.charCodeAt(Ve++):0,Ve<Ue?Te.charCodeAt(Ve++):0),De=Ie>>2,Ae=(3&Ie)<<4|Oe>>4,qe=1<We?(15&Oe)<<2|_e>>6:64,Fe=2<We?63&_e:64,Ne.push(g.charAt(De)+g.charAt(Ae)+g.charAt(qe)+g.charAt(Fe));return Ne.join("")},c.decode=function(Te){var Ie,Oe,_e,De,Ae,qe,Fe=0,Ne=0,Ve="data:";if(Te.substr(0,Ve.length)===Ve)throw new Error("Invalid base64 input, it looks like a data url.");var Ue,We=3*(Te=Te.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(Te.charAt(Te.length-1)===g.charAt(64)&&We--,Te.charAt(Te.length-2)===g.charAt(64)&&We--,We%1!=0)throw new Error("Invalid base64 input, bad content length.");for(Ue=m.uint8array?new Uint8Array(0|We):new Array(0|We);Fe<Te.length;)Ie=g.indexOf(Te.charAt(Fe++))<<2|(De=g.indexOf(Te.charAt(Fe++)))>>4,Oe=(15&De)<<4|(Ae=g.indexOf(Te.charAt(Fe++)))>>2,_e=(3&Ae)<<6|(qe=g.indexOf(Te.charAt(Fe++))),Ue[Ne++]=Ie,Ae!==64&&(Ue[Ne++]=Oe),qe!==64&&(Ue[Ne++]=_e);return Ue}},{"./support":30,"./utils":32}],2:[function(e,i,c){var f=e("./external"),m=e("./stream/DataWorker"),g=e("./stream/Crc32Probe"),Te=e("./stream/DataLengthProbe");function Ie(Oe,_e,De,Ae,qe){this.compressedSize=Oe,this.uncompressedSize=_e,this.crc32=De,this.compression=Ae,this.compressedContent=qe}Ie.prototype={getContentWorker:function(){var Oe=new m(f.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new Te("data_length")),_e=this;return Oe.on("end",function(){if(this.streamInfo.data_length!==_e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),Oe},getCompressedWorker:function(){return new m(f.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},Ie.createWorkerFrom=function(Oe,_e,De){return Oe.pipe(new g).pipe(new Te("uncompressedSize")).pipe(_e.compressWorker(De)).pipe(new Te("compressedSize")).withStreamInfo("compression",_e)},i.exports=Ie},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,i,c){var f=e("./stream/GenericWorker");c.STORE={magic:"\0\0",compressWorker:function(){return new f("STORE compression")},uncompressWorker:function(){return new f("STORE decompression")}},c.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,i,c){var f=e("./utils"),m=function(){for(var g,Te=[],Ie=0;Ie<256;Ie++){g=Ie;for(var Oe=0;Oe<8;Oe++)g=1&g?3988292384^g>>>1:g>>>1;Te[Ie]=g}return Te}();i.exports=function(g,Te){return g!==void 0&&g.length?f.getTypeOf(g)!=="string"?function(Ie,Oe,_e,De){var Ae=m,qe=De+_e;Ie^=-1;for(var Fe=De;Fe<qe;Fe++)Ie=Ie>>>8^Ae[255&(Ie^Oe[Fe])];return-1^Ie}(0|Te,g,g.length,0):function(Ie,Oe,_e,De){var Ae=m,qe=De+_e;Ie^=-1;for(var Fe=De;Fe<qe;Fe++)Ie=Ie>>>8^Ae[255&(Ie^Oe.charCodeAt(Fe))];return-1^Ie}(0|Te,g,g.length,0):0}},{"./utils":32}],5:[function(e,i,c){c.base64=!1,c.binary=!1,c.dir=!1,c.createFolders=!0,c.date=null,c.compression=null,c.compressionOptions=null,c.comment=null,c.unixPermissions=null,c.dosPermissions=null},{}],6:[function(e,i,c){var f=null;f=typeof Promise<"u"?Promise:e("lie"),i.exports={Promise:f}},{lie:37}],7:[function(e,i,c){var f=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",m=e("pako"),g=e("./utils"),Te=e("./stream/GenericWorker"),Ie=f?"uint8array":"array";function Oe(_e,De){Te.call(this,"FlateWorker/"+_e),this._pako=null,this._pakoAction=_e,this._pakoOptions=De,this.meta={}}c.magic="\b\0",g.inherits(Oe,Te),Oe.prototype.processChunk=function(_e){this.meta=_e.meta,this._pako===null&&this._createPako(),this._pako.push(g.transformTo(Ie,_e.data),!1)},Oe.prototype.flush=function(){Te.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},Oe.prototype.cleanUp=function(){Te.prototype.cleanUp.call(this),this._pako=null},Oe.prototype._createPako=function(){this._pako=new m[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var _e=this;this._pako.onData=function(De){_e.push({data:De,meta:_e.meta})}},c.compressWorker=function(_e){return new Oe("Deflate",_e)},c.uncompressWorker=function(){return new Oe("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,i,c){function f(Ae,qe){var Fe,Ne="";for(Fe=0;Fe<qe;Fe++)Ne+=String.fromCharCode(255&Ae),Ae>>>=8;return Ne}function m(Ae,qe,Fe,Ne,Ve,Ue){var We,He,Xe=Ae.file,ot=Ae.compression,tt=Ue!==Ie.utf8encode,gt=g.transformTo("string",Ue(Xe.name)),vt=g.transformTo("string",Ie.utf8encode(Xe.name)),rt=Xe.comment,ht=g.transformTo("string",Ue(rt)),it=g.transformTo("string",Ie.utf8encode(rt)),mt=vt.length!==Xe.name.length,Ze=it.length!==rt.length,Ft="",Zt="",zt="",ur=Xe.dir,bt=Xe.date,St={crc32:0,compressedSize:0,uncompressedSize:0};qe&&!Fe||(St.crc32=Ae.crc32,St.compressedSize=Ae.compressedSize,St.uncompressedSize=Ae.uncompressedSize);var ct=0;qe&&(ct|=8),tt||!mt&&!Ze||(ct|=2048);var dt=0,Bt=0;ur&&(dt|=16),Ve==="UNIX"?(Bt=798,dt|=function(Kt,fr){var Rr=Kt;return Kt||(Rr=fr?16893:33204),(65535&Rr)<<16}(Xe.unixPermissions,ur)):(Bt=20,dt|=function(Kt){return 63&(Kt||0)}(Xe.dosPermissions)),We=bt.getUTCHours(),We<<=6,We|=bt.getUTCMinutes(),We<<=5,We|=bt.getUTCSeconds()/2,He=bt.getUTCFullYear()-1980,He<<=4,He|=bt.getUTCMonth()+1,He<<=5,He|=bt.getUTCDate(),mt&&(Zt=f(1,1)+f(Oe(gt),4)+vt,Ft+="up"+f(Zt.length,2)+Zt),Ze&&(zt=f(1,1)+f(Oe(ht),4)+it,Ft+="uc"+f(zt.length,2)+zt);var Ct="";return Ct+=`
\0`,Ct+=f(ct,2),Ct+=ot.magic,Ct+=f(We,2),Ct+=f(He,2),Ct+=f(St.crc32,4),Ct+=f(St.compressedSize,4),Ct+=f(St.uncompressedSize,4),Ct+=f(gt.length,2),Ct+=f(Ft.length,2),{fileRecord:_e.LOCAL_FILE_HEADER+Ct+gt+Ft,dirRecord:_e.CENTRAL_FILE_HEADER+f(Bt,2)+Ct+f(ht.length,2)+"\0\0\0\0"+f(dt,4)+f(Ne,4)+gt+Ft+ht}}var g=e("../utils"),Te=e("../stream/GenericWorker"),Ie=e("../utf8"),Oe=e("../crc32"),_e=e("../signature");function De(Ae,qe,Fe,Ne){Te.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=qe,this.zipPlatform=Fe,this.encodeFileName=Ne,this.streamFiles=Ae,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}g.inherits(De,Te),De.prototype.push=function(Ae){var qe=Ae.meta.percent||0,Fe=this.entriesCount,Ne=this._sources.length;this.accumulate?this.contentBuffer.push(Ae):(this.bytesWritten+=Ae.data.length,Te.prototype.push.call(this,{data:Ae.data,meta:{currentFile:this.currentFile,percent:Fe?(qe+100*(Fe-Ne-1))/Fe:100}}))},De.prototype.openedSource=function(Ae){this.currentSourceOffset=this.bytesWritten,this.currentFile=Ae.file.name;var qe=this.streamFiles&&!Ae.file.dir;if(qe){var Fe=m(Ae,qe,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:Fe.fileRecord,meta:{percent:0}})}else this.accumulate=!0},De.prototype.closedSource=function(Ae){this.accumulate=!1;var qe=this.streamFiles&&!Ae.file.dir,Fe=m(Ae,qe,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(Fe.dirRecord),qe)this.push({data:function(Ne){return _e.DATA_DESCRIPTOR+f(Ne.crc32,4)+f(Ne.compressedSize,4)+f(Ne.uncompressedSize,4)}(Ae),meta:{percent:100}});else for(this.push({data:Fe.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},De.prototype.flush=function(){for(var Ae=this.bytesWritten,qe=0;qe<this.dirRecords.length;qe++)this.push({data:this.dirRecords[qe],meta:{percent:100}});var Fe=this.bytesWritten-Ae,Ne=function(Ve,Ue,We,He,Xe){var ot=g.transformTo("string",Xe(He));return _e.CENTRAL_DIRECTORY_END+"\0\0\0\0"+f(Ve,2)+f(Ve,2)+f(Ue,4)+f(We,4)+f(ot.length,2)+ot}(this.dirRecords.length,Fe,Ae,this.zipComment,this.encodeFileName);this.push({data:Ne,meta:{percent:100}})},De.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},De.prototype.registerPrevious=function(Ae){this._sources.push(Ae);var qe=this;return Ae.on("data",function(Fe){qe.processChunk(Fe)}),Ae.on("end",function(){qe.closedSource(qe.previous.streamInfo),qe._sources.length?qe.prepareNextSource():qe.end()}),Ae.on("error",function(Fe){qe.error(Fe)}),this},De.prototype.resume=function(){return!!Te.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},De.prototype.error=function(Ae){var qe=this._sources;if(!Te.prototype.error.call(this,Ae))return!1;for(var Fe=0;Fe<qe.length;Fe++)try{qe[Fe].error(Ae)}catch{}return!0},De.prototype.lock=function(){Te.prototype.lock.call(this);for(var Ae=this._sources,qe=0;qe<Ae.length;qe++)Ae[qe].lock()},i.exports=De},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,i,c){var f=e("../compressions"),m=e("./ZipFileWorker");c.generateWorker=function(g,Te,Ie){var Oe=new m(Te.streamFiles,Ie,Te.platform,Te.encodeFileName),_e=0;try{g.forEach(function(De,Ae){_e++;var qe=function(Ue,We){var He=Ue||We,Xe=f[He];if(!Xe)throw new Error(He+" is not a valid compression method !");return Xe}(Ae.options.compression,Te.compression),Fe=Ae.options.compressionOptions||Te.compressionOptions||{},Ne=Ae.dir,Ve=Ae.date;Ae._compressWorker(qe,Fe).withStreamInfo("file",{name:De,dir:Ne,date:Ve,comment:Ae.comment||"",unixPermissions:Ae.unixPermissions,dosPermissions:Ae.dosPermissions}).pipe(Oe)}),Oe.entriesCount=_e}catch(De){Oe.error(De)}return Oe}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,i,c){function f(){if(!(this instanceof f))return new f;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var m=new f;for(var g in this)typeof this[g]!="function"&&(m[g]=this[g]);return m}}(f.prototype=e("./object")).loadAsync=e("./load"),f.support=e("./support"),f.defaults=e("./defaults"),f.version="3.10.1",f.loadAsync=function(m,g){return new f().loadAsync(m,g)},f.external=e("./external"),i.exports=f},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,i,c){var f=e("./utils"),m=e("./external"),g=e("./utf8"),Te=e("./zipEntries"),Ie=e("./stream/Crc32Probe"),Oe=e("./nodejsUtils");function _e(De){return new m.Promise(function(Ae,qe){var Fe=De.decompressed.getContentWorker().pipe(new Ie);Fe.on("error",function(Ne){qe(Ne)}).on("end",function(){Fe.streamInfo.crc32!==De.decompressed.crc32?qe(new Error("Corrupted zip : CRC32 mismatch")):Ae()}).resume()})}i.exports=function(De,Ae){var qe=this;return Ae=f.extend(Ae||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:g.utf8decode}),Oe.isNode&&Oe.isStream(De)?m.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):f.prepareContent("the loaded zip file",De,!0,Ae.optimizedBinaryString,Ae.base64).then(function(Fe){var Ne=new Te(Ae);return Ne.load(Fe),Ne}).then(function(Fe){var Ne=[m.Promise.resolve(Fe)],Ve=Fe.files;if(Ae.checkCRC32)for(var Ue=0;Ue<Ve.length;Ue++)Ne.push(_e(Ve[Ue]));return m.Promise.all(Ne)}).then(function(Fe){for(var Ne=Fe.shift(),Ve=Ne.files,Ue=0;Ue<Ve.length;Ue++){var We=Ve[Ue],He=We.fileNameStr,Xe=f.resolve(We.fileNameStr);qe.file(Xe,We.decompressed,{binary:!0,optimizedBinaryString:!0,date:We.date,dir:We.dir,comment:We.fileCommentStr.length?We.fileCommentStr:null,unixPermissions:We.unixPermissions,dosPermissions:We.dosPermissions,createFolders:Ae.createFolders}),We.dir||(qe.file(Xe).unsafeOriginalName=He)}return Ne.zipComment.length&&(qe.comment=Ne.zipComment),qe})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,i,c){var f=e("../utils"),m=e("../stream/GenericWorker");function g(Te,Ie){m.call(this,"Nodejs stream input adapter for "+Te),this._upstreamEnded=!1,this._bindStream(Ie)}f.inherits(g,m),g.prototype._bindStream=function(Te){var Ie=this;(this._stream=Te).pause(),Te.on("data",function(Oe){Ie.push({data:Oe,meta:{percent:0}})}).on("error",function(Oe){Ie.isPaused?this.generatedError=Oe:Ie.error(Oe)}).on("end",function(){Ie.isPaused?Ie._upstreamEnded=!0:Ie.end()})},g.prototype.pause=function(){return!!m.prototype.pause.call(this)&&(this._stream.pause(),!0)},g.prototype.resume=function(){return!!m.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},i.exports=g},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,i,c){var f=e("readable-stream").Readable;function m(g,Te,Ie){f.call(this,Te),this._helper=g;var Oe=this;g.on("data",function(_e,De){Oe.push(_e)||Oe._helper.pause(),Ie&&Ie(De)}).on("error",function(_e){Oe.emit("error",_e)}).on("end",function(){Oe.push(null)})}e("../utils").inherits(m,f),m.prototype._read=function(){this._helper.resume()},i.exports=m},{"../utils":32,"readable-stream":16}],14:[function(e,i,c){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(f,m){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(f,m);if(typeof f=="number")throw new Error('The "data" argument must not be a number');return new Buffer(f,m)},allocBuffer:function(f){if(Buffer.alloc)return Buffer.alloc(f);var m=new Buffer(f);return m.fill(0),m},isBuffer:function(f){return Buffer.isBuffer(f)},isStream:function(f){return f&&typeof f.on=="function"&&typeof f.pause=="function"&&typeof f.resume=="function"}}},{}],15:[function(e,i,c){function f(Xe,ot,tt){var gt,vt=g.getTypeOf(ot),rt=g.extend(tt||{},Oe);rt.date=rt.date||new Date,rt.compression!==null&&(rt.compression=rt.compression.toUpperCase()),typeof rt.unixPermissions=="string"&&(rt.unixPermissions=parseInt(rt.unixPermissions,8)),rt.unixPermissions&&16384&rt.unixPermissions&&(rt.dir=!0),rt.dosPermissions&&16&rt.dosPermissions&&(rt.dir=!0),rt.dir&&(Xe=Ve(Xe)),rt.createFolders&&(gt=Ne(Xe))&&Ue.call(this,gt,!0);var ht=vt==="string"&&rt.binary===!1&&rt.base64===!1;tt&&tt.binary!==void 0||(rt.binary=!ht),(ot instanceof _e&&ot.uncompressedSize===0||rt.dir||!ot||ot.length===0)&&(rt.base64=!1,rt.binary=!0,ot="",rt.compression="STORE",vt="string");var it=null;it=ot instanceof _e||ot instanceof Te?ot:qe.isNode&&qe.isStream(ot)?new Fe(Xe,ot):g.prepareContent(Xe,ot,rt.binary,rt.optimizedBinaryString,rt.base64);var mt=new De(Xe,it,rt);this.files[Xe]=mt}var m=e("./utf8"),g=e("./utils"),Te=e("./stream/GenericWorker"),Ie=e("./stream/StreamHelper"),Oe=e("./defaults"),_e=e("./compressedObject"),De=e("./zipObject"),Ae=e("./generate"),qe=e("./nodejsUtils"),Fe=e("./nodejs/NodejsStreamInputAdapter"),Ne=function(Xe){Xe.slice(-1)==="/"&&(Xe=Xe.substring(0,Xe.length-1));var ot=Xe.lastIndexOf("/");return 0<ot?Xe.substring(0,ot):""},Ve=function(Xe){return Xe.slice(-1)!=="/"&&(Xe+="/"),Xe},Ue=function(Xe,ot){return ot=ot!==void 0?ot:Oe.createFolders,Xe=Ve(Xe),this.files[Xe]||f.call(this,Xe,null,{dir:!0,createFolders:ot}),this.files[Xe]};function We(Xe){return Object.prototype.toString.call(Xe)==="[object RegExp]"}var He={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(Xe){var ot,tt,gt;for(ot in this.files)gt=this.files[ot],(tt=ot.slice(this.root.length,ot.length))&&ot.slice(0,this.root.length)===this.root&&Xe(tt,gt)},filter:function(Xe){var ot=[];return this.forEach(function(tt,gt){Xe(tt,gt)&&ot.push(gt)}),ot},file:function(Xe,ot,tt){if(arguments.length!==1)return Xe=this.root+Xe,f.call(this,Xe,ot,tt),this;if(We(Xe)){var gt=Xe;return this.filter(function(rt,ht){return!ht.dir&&gt.test(rt)})}var vt=this.files[this.root+Xe];return vt&&!vt.dir?vt:null},folder:function(Xe){if(!Xe)return this;if(We(Xe))return this.filter(function(vt,rt){return rt.dir&&Xe.test(vt)});var ot=this.root+Xe,tt=Ue.call(this,ot),gt=this.clone();return gt.root=tt.name,gt},remove:function(Xe){Xe=this.root+Xe;var ot=this.files[Xe];if(ot||(Xe.slice(-1)!=="/"&&(Xe+="/"),ot=this.files[Xe]),ot&&!ot.dir)delete this.files[Xe];else for(var tt=this.filter(function(vt,rt){return rt.name.slice(0,Xe.length)===Xe}),gt=0;gt<tt.length;gt++)delete this.files[tt[gt].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(Xe){var ot,tt={};try{if((tt=g.extend(Xe||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:m.utf8encode})).type=tt.type.toLowerCase(),tt.compression=tt.compression.toUpperCase(),tt.type==="binarystring"&&(tt.type="string"),!tt.type)throw new Error("No output type specified.");g.checkSupport(tt.type),tt.platform!=="darwin"&&tt.platform!=="freebsd"&&tt.platform!=="linux"&&tt.platform!=="sunos"||(tt.platform="UNIX"),tt.platform==="win32"&&(tt.platform="DOS");var gt=tt.comment||this.comment||"";ot=Ae.generateWorker(this,tt,gt)}catch(vt){(ot=new Te("error")).error(vt)}return new Ie(ot,tt.type||"string",tt.mimeType)},generateAsync:function(Xe,ot){return this.generateInternalStream(Xe).accumulate(ot)},generateNodeStream:function(Xe,ot){return(Xe=Xe||{}).type||(Xe.type="nodebuffer"),this.generateInternalStream(Xe).toNodejsStream(ot)}};i.exports=He},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,i,c){i.exports=e("stream")},{stream:void 0}],17:[function(e,i,c){var f=e("./DataReader");function m(g){f.call(this,g);for(var Te=0;Te<this.data.length;Te++)g[Te]=255&g[Te]}e("../utils").inherits(m,f),m.prototype.byteAt=function(g){return this.data[this.zero+g]},m.prototype.lastIndexOfSignature=function(g){for(var Te=g.charCodeAt(0),Ie=g.charCodeAt(1),Oe=g.charCodeAt(2),_e=g.charCodeAt(3),De=this.length-4;0<=De;--De)if(this.data[De]===Te&&this.data[De+1]===Ie&&this.data[De+2]===Oe&&this.data[De+3]===_e)return De-this.zero;return-1},m.prototype.readAndCheckSignature=function(g){var Te=g.charCodeAt(0),Ie=g.charCodeAt(1),Oe=g.charCodeAt(2),_e=g.charCodeAt(3),De=this.readData(4);return Te===De[0]&&Ie===De[1]&&Oe===De[2]&&_e===De[3]},m.prototype.readData=function(g){if(this.checkOffset(g),g===0)return[];var Te=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,Te},i.exports=m},{"../utils":32,"./DataReader":18}],18:[function(e,i,c){var f=e("../utils");function m(g){this.data=g,this.length=g.length,this.index=0,this.zero=0}m.prototype={checkOffset:function(g){this.checkIndex(this.index+g)},checkIndex:function(g){if(this.length<this.zero+g||g<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+g+"). Corrupted zip ?")},setIndex:function(g){this.checkIndex(g),this.index=g},skip:function(g){this.setIndex(this.index+g)},byteAt:function(){},readInt:function(g){var Te,Ie=0;for(this.checkOffset(g),Te=this.index+g-1;Te>=this.index;Te--)Ie=(Ie<<8)+this.byteAt(Te);return this.index+=g,Ie},readString:function(g){return f.transformTo("string",this.readData(g))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var g=this.readInt(4);return new Date(Date.UTC(1980+(g>>25&127),(g>>21&15)-1,g>>16&31,g>>11&31,g>>5&63,(31&g)<<1))}},i.exports=m},{"../utils":32}],19:[function(e,i,c){var f=e("./Uint8ArrayReader");function m(g){f.call(this,g)}e("../utils").inherits(m,f),m.prototype.readData=function(g){this.checkOffset(g);var Te=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,Te},i.exports=m},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,i,c){var f=e("./DataReader");function m(g){f.call(this,g)}e("../utils").inherits(m,f),m.prototype.byteAt=function(g){return this.data.charCodeAt(this.zero+g)},m.prototype.lastIndexOfSignature=function(g){return this.data.lastIndexOf(g)-this.zero},m.prototype.readAndCheckSignature=function(g){return g===this.readData(4)},m.prototype.readData=function(g){this.checkOffset(g);var Te=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,Te},i.exports=m},{"../utils":32,"./DataReader":18}],21:[function(e,i,c){var f=e("./ArrayReader");function m(g){f.call(this,g)}e("../utils").inherits(m,f),m.prototype.readData=function(g){if(this.checkOffset(g),g===0)return new Uint8Array(0);var Te=this.data.subarray(this.zero+this.index,this.zero+this.index+g);return this.index+=g,Te},i.exports=m},{"../utils":32,"./ArrayReader":17}],22:[function(e,i,c){var f=e("../utils"),m=e("../support"),g=e("./ArrayReader"),Te=e("./StringReader"),Ie=e("./NodeBufferReader"),Oe=e("./Uint8ArrayReader");i.exports=function(_e){var De=f.getTypeOf(_e);return f.checkSupport(De),De!=="string"||m.uint8array?De==="nodebuffer"?new Ie(_e):m.uint8array?new Oe(f.transformTo("uint8array",_e)):new g(f.transformTo("array",_e)):new Te(_e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,i,c){c.LOCAL_FILE_HEADER="PK",c.CENTRAL_FILE_HEADER="PK",c.CENTRAL_DIRECTORY_END="PK",c.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",c.ZIP64_CENTRAL_DIRECTORY_END="PK",c.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,i,c){var f=e("./GenericWorker"),m=e("../utils");function g(Te){f.call(this,"ConvertWorker to "+Te),this.destType=Te}m.inherits(g,f),g.prototype.processChunk=function(Te){this.push({data:m.transformTo(this.destType,Te.data),meta:Te.meta})},i.exports=g},{"../utils":32,"./GenericWorker":28}],25:[function(e,i,c){var f=e("./GenericWorker"),m=e("../crc32");function g(){f.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(g,f),g.prototype.processChunk=function(Te){this.streamInfo.crc32=m(Te.data,this.streamInfo.crc32||0),this.push(Te)},i.exports=g},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,i,c){var f=e("../utils"),m=e("./GenericWorker");function g(Te){m.call(this,"DataLengthProbe for "+Te),this.propName=Te,this.withStreamInfo(Te,0)}f.inherits(g,m),g.prototype.processChunk=function(Te){if(Te){var Ie=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=Ie+Te.data.length}m.prototype.processChunk.call(this,Te)},i.exports=g},{"../utils":32,"./GenericWorker":28}],27:[function(e,i,c){var f=e("../utils"),m=e("./GenericWorker");function g(Te){m.call(this,"DataWorker");var Ie=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,Te.then(function(Oe){Ie.dataIsReady=!0,Ie.data=Oe,Ie.max=Oe&&Oe.length||0,Ie.type=f.getTypeOf(Oe),Ie.isPaused||Ie._tickAndRepeat()},function(Oe){Ie.error(Oe)})}f.inherits(g,m),g.prototype.cleanUp=function(){m.prototype.cleanUp.call(this),this.data=null},g.prototype.resume=function(){return!!m.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,f.delay(this._tickAndRepeat,[],this)),!0)},g.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(f.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},g.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var Te=null,Ie=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":Te=this.data.substring(this.index,Ie);break;case"uint8array":Te=this.data.subarray(this.index,Ie);break;case"array":case"nodebuffer":Te=this.data.slice(this.index,Ie)}return this.index=Ie,this.push({data:Te,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=g},{"../utils":32,"./GenericWorker":28}],28:[function(e,i,c){function f(m){this.name=m||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}f.prototype={push:function(m){this.emit("data",m)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(m){this.emit("error",m)}return!0},error:function(m){return!this.isFinished&&(this.isPaused?this.generatedError=m:(this.isFinished=!0,this.emit("error",m),this.previous&&this.previous.error(m),this.cleanUp()),!0)},on:function(m,g){return this._listeners[m].push(g),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(m,g){if(this._listeners[m])for(var Te=0;Te<this._listeners[m].length;Te++)this._listeners[m][Te].call(this,g)},pipe:function(m){return m.registerPrevious(this)},registerPrevious:function(m){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=m.streamInfo,this.mergeStreamInfo(),this.previous=m;var g=this;return m.on("data",function(Te){g.processChunk(Te)}),m.on("end",function(){g.end()}),m.on("error",function(Te){g.error(Te)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var m=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),m=!0),this.previous&&this.previous.resume(),!m},flush:function(){},processChunk:function(m){this.push(m)},withStreamInfo:function(m,g){return this.extraStreamInfo[m]=g,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var m in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,m)&&(this.streamInfo[m]=this.extraStreamInfo[m])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var m="Worker "+this.name;return this.previous?this.previous+" -> "+m:m}},i.exports=f},{}],29:[function(e,i,c){var f=e("../utils"),m=e("./ConvertWorker"),g=e("./GenericWorker"),Te=e("../base64"),Ie=e("../support"),Oe=e("../external"),_e=null;if(Ie.nodestream)try{_e=e("../nodejs/NodejsStreamOutputAdapter")}catch{}function De(qe,Fe){return new Oe.Promise(function(Ne,Ve){var Ue=[],We=qe._internalType,He=qe._outputType,Xe=qe._mimeType;qe.on("data",function(ot,tt){Ue.push(ot),Fe&&Fe(tt)}).on("error",function(ot){Ue=[],Ve(ot)}).on("end",function(){try{var ot=function(tt,gt,vt){switch(tt){case"blob":return f.newBlob(f.transformTo("arraybuffer",gt),vt);case"base64":return Te.encode(gt);default:return f.transformTo(tt,gt)}}(He,function(tt,gt){var vt,rt=0,ht=null,it=0;for(vt=0;vt<gt.length;vt++)it+=gt[vt].length;switch(tt){case"string":return gt.join("");case"array":return Array.prototype.concat.apply([],gt);case"uint8array":for(ht=new Uint8Array(it),vt=0;vt<gt.length;vt++)ht.set(gt[vt],rt),rt+=gt[vt].length;return ht;case"nodebuffer":return Buffer.concat(gt);default:throw new Error("concat : unsupported type '"+tt+"'")}}(We,Ue),Xe);Ne(ot)}catch(tt){Ve(tt)}Ue=[]}).resume()})}function Ae(qe,Fe,Ne){var Ve=Fe;switch(Fe){case"blob":case"arraybuffer":Ve="uint8array";break;case"base64":Ve="string"}try{this._internalType=Ve,this._outputType=Fe,this._mimeType=Ne,f.checkSupport(Ve),this._worker=qe.pipe(new m(Ve)),qe.lock()}catch(Ue){this._worker=new g("error"),this._worker.error(Ue)}}Ae.prototype={accumulate:function(qe){return De(this,qe)},on:function(qe,Fe){var Ne=this;return qe==="data"?this._worker.on(qe,function(Ve){Fe.call(Ne,Ve.data,Ve.meta)}):this._worker.on(qe,function(){f.delay(Fe,arguments,Ne)}),this},resume:function(){return f.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(qe){if(f.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new _e(this,{objectMode:this._outputType!=="nodebuffer"},qe)}},i.exports=Ae},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,i,c){if(c.base64=!0,c.array=!0,c.string=!0,c.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",c.nodebuffer=typeof Buffer<"u",c.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")c.blob=!1;else{var f=new ArrayBuffer(0);try{c.blob=new Blob([f],{type:"application/zip"}).size===0}catch{try{var m=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);m.append(f),c.blob=m.getBlob("application/zip").size===0}catch{c.blob=!1}}}try{c.nodestream=!!e("readable-stream").Readable}catch{c.nodestream=!1}},{"readable-stream":16}],31:[function(e,i,c){for(var f=e("./utils"),m=e("./support"),g=e("./nodejsUtils"),Te=e("./stream/GenericWorker"),Ie=new Array(256),Oe=0;Oe<256;Oe++)Ie[Oe]=252<=Oe?6:248<=Oe?5:240<=Oe?4:224<=Oe?3:192<=Oe?2:1;Ie[254]=Ie[254]=1;function _e(){Te.call(this,"utf-8 decode"),this.leftOver=null}function De(){Te.call(this,"utf-8 encode")}c.utf8encode=function(Ae){return m.nodebuffer?g.newBufferFrom(Ae,"utf-8"):function(qe){var Fe,Ne,Ve,Ue,We,He=qe.length,Xe=0;for(Ue=0;Ue<He;Ue++)(64512&(Ne=qe.charCodeAt(Ue)))==55296&&Ue+1<He&&(64512&(Ve=qe.charCodeAt(Ue+1)))==56320&&(Ne=65536+(Ne-55296<<10)+(Ve-56320),Ue++),Xe+=Ne<128?1:Ne<2048?2:Ne<65536?3:4;for(Fe=m.uint8array?new Uint8Array(Xe):new Array(Xe),Ue=We=0;We<Xe;Ue++)(64512&(Ne=qe.charCodeAt(Ue)))==55296&&Ue+1<He&&(64512&(Ve=qe.charCodeAt(Ue+1)))==56320&&(Ne=65536+(Ne-55296<<10)+(Ve-56320),Ue++),Ne<128?Fe[We++]=Ne:(Ne<2048?Fe[We++]=192|Ne>>>6:(Ne<65536?Fe[We++]=224|Ne>>>12:(Fe[We++]=240|Ne>>>18,Fe[We++]=128|Ne>>>12&63),Fe[We++]=128|Ne>>>6&63),Fe[We++]=128|63&Ne);return Fe}(Ae)},c.utf8decode=function(Ae){return m.nodebuffer?f.transformTo("nodebuffer",Ae).toString("utf-8"):function(qe){var Fe,Ne,Ve,Ue,We=qe.length,He=new Array(2*We);for(Fe=Ne=0;Fe<We;)if((Ve=qe[Fe++])<128)He[Ne++]=Ve;else if(4<(Ue=Ie[Ve]))He[Ne++]=65533,Fe+=Ue-1;else{for(Ve&=Ue===2?31:Ue===3?15:7;1<Ue&&Fe<We;)Ve=Ve<<6|63&qe[Fe++],Ue--;1<Ue?He[Ne++]=65533:Ve<65536?He[Ne++]=Ve:(Ve-=65536,He[Ne++]=55296|Ve>>10&1023,He[Ne++]=56320|1023&Ve)}return He.length!==Ne&&(He.subarray?He=He.subarray(0,Ne):He.length=Ne),f.applyFromCharCode(He)}(Ae=f.transformTo(m.uint8array?"uint8array":"array",Ae))},f.inherits(_e,Te),_e.prototype.processChunk=function(Ae){var qe=f.transformTo(m.uint8array?"uint8array":"array",Ae.data);if(this.leftOver&&this.leftOver.length){if(m.uint8array){var Fe=qe;(qe=new Uint8Array(Fe.length+this.leftOver.length)).set(this.leftOver,0),qe.set(Fe,this.leftOver.length)}else qe=this.leftOver.concat(qe);this.leftOver=null}var Ne=function(Ue,We){var He;for((We=We||Ue.length)>Ue.length&&(We=Ue.length),He=We-1;0<=He&&(192&Ue[He])==128;)He--;return He<0||He===0?We:He+Ie[Ue[He]]>We?He:We}(qe),Ve=qe;Ne!==qe.length&&(m.uint8array?(Ve=qe.subarray(0,Ne),this.leftOver=qe.subarray(Ne,qe.length)):(Ve=qe.slice(0,Ne),this.leftOver=qe.slice(Ne,qe.length))),this.push({data:c.utf8decode(Ve),meta:Ae.meta})},_e.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:c.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},c.Utf8DecodeWorker=_e,f.inherits(De,Te),De.prototype.processChunk=function(Ae){this.push({data:c.utf8encode(Ae.data),meta:Ae.meta})},c.Utf8EncodeWorker=De},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,i,c){var f=e("./support"),m=e("./base64"),g=e("./nodejsUtils"),Te=e("./external");function Ie(Fe){return Fe}function Oe(Fe,Ne){for(var Ve=0;Ve<Fe.length;++Ve)Ne[Ve]=255&Fe.charCodeAt(Ve);return Ne}e("setimmediate"),c.newBlob=function(Fe,Ne){c.checkSupport("blob");try{return new Blob([Fe],{type:Ne})}catch{try{var Ve=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return Ve.append(Fe),Ve.getBlob(Ne)}catch{throw new Error("Bug : can't construct the Blob.")}}};var _e={stringifyByChunk:function(Fe,Ne,Ve){var Ue=[],We=0,He=Fe.length;if(He<=Ve)return String.fromCharCode.apply(null,Fe);for(;We<He;)Ne==="array"||Ne==="nodebuffer"?Ue.push(String.fromCharCode.apply(null,Fe.slice(We,Math.min(We+Ve,He)))):Ue.push(String.fromCharCode.apply(null,Fe.subarray(We,Math.min(We+Ve,He)))),We+=Ve;return Ue.join("")},stringifyByChar:function(Fe){for(var Ne="",Ve=0;Ve<Fe.length;Ve++)Ne+=String.fromCharCode(Fe[Ve]);return Ne},applyCanBeUsed:{uint8array:function(){try{return f.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return f.nodebuffer&&String.fromCharCode.apply(null,g.allocBuffer(1)).length===1}catch{return!1}}()}};function De(Fe){var Ne=65536,Ve=c.getTypeOf(Fe),Ue=!0;if(Ve==="uint8array"?Ue=_e.applyCanBeUsed.uint8array:Ve==="nodebuffer"&&(Ue=_e.applyCanBeUsed.nodebuffer),Ue)for(;1<Ne;)try{return _e.stringifyByChunk(Fe,Ve,Ne)}catch{Ne=Math.floor(Ne/2)}return _e.stringifyByChar(Fe)}function Ae(Fe,Ne){for(var Ve=0;Ve<Fe.length;Ve++)Ne[Ve]=Fe[Ve];return Ne}c.applyFromCharCode=De;var qe={};qe.string={string:Ie,array:function(Fe){return Oe(Fe,new Array(Fe.length))},arraybuffer:function(Fe){return qe.string.uint8array(Fe).buffer},uint8array:function(Fe){return Oe(Fe,new Uint8Array(Fe.length))},nodebuffer:function(Fe){return Oe(Fe,g.allocBuffer(Fe.length))}},qe.array={string:De,array:Ie,arraybuffer:function(Fe){return new Uint8Array(Fe).buffer},uint8array:function(Fe){return new Uint8Array(Fe)},nodebuffer:function(Fe){return g.newBufferFrom(Fe)}},qe.arraybuffer={string:function(Fe){return De(new Uint8Array(Fe))},array:function(Fe){return Ae(new Uint8Array(Fe),new Array(Fe.byteLength))},arraybuffer:Ie,uint8array:function(Fe){return new Uint8Array(Fe)},nodebuffer:function(Fe){return g.newBufferFrom(new Uint8Array(Fe))}},qe.uint8array={string:De,array:function(Fe){return Ae(Fe,new Array(Fe.length))},arraybuffer:function(Fe){return Fe.buffer},uint8array:Ie,nodebuffer:function(Fe){return g.newBufferFrom(Fe)}},qe.nodebuffer={string:De,array:function(Fe){return Ae(Fe,new Array(Fe.length))},arraybuffer:function(Fe){return qe.nodebuffer.uint8array(Fe).buffer},uint8array:function(Fe){return Ae(Fe,new Uint8Array(Fe.length))},nodebuffer:Ie},c.transformTo=function(Fe,Ne){if(Ne=Ne||"",!Fe)return Ne;c.checkSupport(Fe);var Ve=c.getTypeOf(Ne);return qe[Ve][Fe](Ne)},c.resolve=function(Fe){for(var Ne=Fe.split("/"),Ve=[],Ue=0;Ue<Ne.length;Ue++){var We=Ne[Ue];We==="."||We===""&&Ue!==0&&Ue!==Ne.length-1||(We===".."?Ve.pop():Ve.push(We))}return Ve.join("/")},c.getTypeOf=function(Fe){return typeof Fe=="string"?"string":Object.prototype.toString.call(Fe)==="[object Array]"?"array":f.nodebuffer&&g.isBuffer(Fe)?"nodebuffer":f.uint8array&&Fe instanceof Uint8Array?"uint8array":f.arraybuffer&&Fe instanceof ArrayBuffer?"arraybuffer":void 0},c.checkSupport=function(Fe){if(!f[Fe.toLowerCase()])throw new Error(Fe+" is not supported by this platform")},c.MAX_VALUE_16BITS=65535,c.MAX_VALUE_32BITS=-1,c.pretty=function(Fe){var Ne,Ve,Ue="";for(Ve=0;Ve<(Fe||"").length;Ve++)Ue+="\\x"+((Ne=Fe.charCodeAt(Ve))<16?"0":"")+Ne.toString(16).toUpperCase();return Ue},c.delay=function(Fe,Ne,Ve){setImmediate(function(){Fe.apply(Ve||null,Ne||[])})},c.inherits=function(Fe,Ne){function Ve(){}Ve.prototype=Ne.prototype,Fe.prototype=new Ve},c.extend=function(){var Fe,Ne,Ve={};for(Fe=0;Fe<arguments.length;Fe++)for(Ne in arguments[Fe])Object.prototype.hasOwnProperty.call(arguments[Fe],Ne)&&Ve[Ne]===void 0&&(Ve[Ne]=arguments[Fe][Ne]);return Ve},c.prepareContent=function(Fe,Ne,Ve,Ue,We){return Te.Promise.resolve(Ne).then(function(He){return f.blob&&(He instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(He))!==-1)&&typeof FileReader<"u"?new Te.Promise(function(Xe,ot){var tt=new FileReader;tt.onload=function(gt){Xe(gt.target.result)},tt.onerror=function(gt){ot(gt.target.error)},tt.readAsArrayBuffer(He)}):He}).then(function(He){var Xe=c.getTypeOf(He);return Xe?(Xe==="arraybuffer"?He=c.transformTo("uint8array",He):Xe==="string"&&(We?He=m.decode(He):Ve&&Ue!==!0&&(He=function(ot){return Oe(ot,f.uint8array?new Uint8Array(ot.length):new Array(ot.length))}(He))),He):Te.Promise.reject(new Error("Can't read the data of '"+Fe+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,i,c){var f=e("./reader/readerFor"),m=e("./utils"),g=e("./signature"),Te=e("./zipEntry"),Ie=e("./support");function Oe(_e){this.files=[],this.loadOptions=_e}Oe.prototype={checkSignature:function(_e){if(!this.reader.readAndCheckSignature(_e)){this.reader.index-=4;var De=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+m.pretty(De)+", expected "+m.pretty(_e)+")")}},isSignature:function(_e,De){var Ae=this.reader.index;this.reader.setIndex(_e);var qe=this.reader.readString(4)===De;return this.reader.setIndex(Ae),qe},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var _e=this.reader.readData(this.zipCommentLength),De=Ie.uint8array?"uint8array":"array",Ae=m.transformTo(De,_e);this.zipComment=this.loadOptions.decodeFileName(Ae)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var _e,De,Ae,qe=this.zip64EndOfCentralSize-44;0<qe;)_e=this.reader.readInt(2),De=this.reader.readInt(4),Ae=this.reader.readData(De),this.zip64ExtensibleData[_e]={id:_e,length:De,value:Ae}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var _e,De;for(_e=0;_e<this.files.length;_e++)De=this.files[_e],this.reader.setIndex(De.localHeaderOffset),this.checkSignature(g.LOCAL_FILE_HEADER),De.readLocalPart(this.reader),De.handleUTF8(),De.processAttributes()},readCentralDir:function(){var _e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(g.CENTRAL_FILE_HEADER);)(_e=new Te({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(_e);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var _e=this.reader.lastIndexOfSignature(g.CENTRAL_DIRECTORY_END);if(_e<0)throw this.isSignature(0,g.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(_e);var De=_e;if(this.checkSignature(g.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===m.MAX_VALUE_16BITS||this.diskWithCentralDirStart===m.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===m.MAX_VALUE_16BITS||this.centralDirRecords===m.MAX_VALUE_16BITS||this.centralDirSize===m.MAX_VALUE_32BITS||this.centralDirOffset===m.MAX_VALUE_32BITS){if(this.zip64=!0,(_e=this.reader.lastIndexOfSignature(g.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(_e),this.checkSignature(g.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,g.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(g.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(g.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var Ae=this.centralDirOffset+this.centralDirSize;this.zip64&&(Ae+=20,Ae+=12+this.zip64EndOfCentralSize);var qe=De-Ae;if(0<qe)this.isSignature(De,g.CENTRAL_FILE_HEADER)||(this.reader.zero=qe);else if(qe<0)throw new Error("Corrupted zip: missing "+Math.abs(qe)+" bytes.")},prepareReader:function(_e){this.reader=f(_e)},load:function(_e){this.prepareReader(_e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=Oe},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,i,c){var f=e("./reader/readerFor"),m=e("./utils"),g=e("./compressedObject"),Te=e("./crc32"),Ie=e("./utf8"),Oe=e("./compressions"),_e=e("./support");function De(Ae,qe){this.options=Ae,this.loadOptions=qe}De.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(Ae){var qe,Fe;if(Ae.skip(22),this.fileNameLength=Ae.readInt(2),Fe=Ae.readInt(2),this.fileName=Ae.readData(this.fileNameLength),Ae.skip(Fe),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((qe=function(Ne){for(var Ve in Oe)if(Object.prototype.hasOwnProperty.call(Oe,Ve)&&Oe[Ve].magic===Ne)return Oe[Ve];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+m.pretty(this.compressionMethod)+" unknown (inner file : "+m.transformTo("string",this.fileName)+")");this.decompressed=new g(this.compressedSize,this.uncompressedSize,this.crc32,qe,Ae.readData(this.compressedSize))},readCentralPart:function(Ae){this.versionMadeBy=Ae.readInt(2),Ae.skip(2),this.bitFlag=Ae.readInt(2),this.compressionMethod=Ae.readString(2),this.date=Ae.readDate(),this.crc32=Ae.readInt(4),this.compressedSize=Ae.readInt(4),this.uncompressedSize=Ae.readInt(4);var qe=Ae.readInt(2);if(this.extraFieldsLength=Ae.readInt(2),this.fileCommentLength=Ae.readInt(2),this.diskNumberStart=Ae.readInt(2),this.internalFileAttributes=Ae.readInt(2),this.externalFileAttributes=Ae.readInt(4),this.localHeaderOffset=Ae.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");Ae.skip(qe),this.readExtraFields(Ae),this.parseZIP64ExtraField(Ae),this.fileComment=Ae.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var Ae=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),Ae==0&&(this.dosPermissions=63&this.externalFileAttributes),Ae==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var Ae=f(this.extraFields[1].value);this.uncompressedSize===m.MAX_VALUE_32BITS&&(this.uncompressedSize=Ae.readInt(8)),this.compressedSize===m.MAX_VALUE_32BITS&&(this.compressedSize=Ae.readInt(8)),this.localHeaderOffset===m.MAX_VALUE_32BITS&&(this.localHeaderOffset=Ae.readInt(8)),this.diskNumberStart===m.MAX_VALUE_32BITS&&(this.diskNumberStart=Ae.readInt(4))}},readExtraFields:function(Ae){var qe,Fe,Ne,Ve=Ae.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});Ae.index+4<Ve;)qe=Ae.readInt(2),Fe=Ae.readInt(2),Ne=Ae.readData(Fe),this.extraFields[qe]={id:qe,length:Fe,value:Ne};Ae.setIndex(Ve)},handleUTF8:function(){var Ae=_e.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=Ie.utf8decode(this.fileName),this.fileCommentStr=Ie.utf8decode(this.fileComment);else{var qe=this.findExtraFieldUnicodePath();if(qe!==null)this.fileNameStr=qe;else{var Fe=m.transformTo(Ae,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(Fe)}var Ne=this.findExtraFieldUnicodeComment();if(Ne!==null)this.fileCommentStr=Ne;else{var Ve=m.transformTo(Ae,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(Ve)}}},findExtraFieldUnicodePath:function(){var Ae=this.extraFields[28789];if(Ae){var qe=f(Ae.value);return qe.readInt(1)!==1||Te(this.fileName)!==qe.readInt(4)?null:Ie.utf8decode(qe.readData(Ae.length-5))}return null},findExtraFieldUnicodeComment:function(){var Ae=this.extraFields[25461];if(Ae){var qe=f(Ae.value);return qe.readInt(1)!==1||Te(this.fileComment)!==qe.readInt(4)?null:Ie.utf8decode(qe.readData(Ae.length-5))}return null}},i.exports=De},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,i,c){function f(qe,Fe,Ne){this.name=qe,this.dir=Ne.dir,this.date=Ne.date,this.comment=Ne.comment,this.unixPermissions=Ne.unixPermissions,this.dosPermissions=Ne.dosPermissions,this._data=Fe,this._dataBinary=Ne.binary,this.options={compression:Ne.compression,compressionOptions:Ne.compressionOptions}}var m=e("./stream/StreamHelper"),g=e("./stream/DataWorker"),Te=e("./utf8"),Ie=e("./compressedObject"),Oe=e("./stream/GenericWorker");f.prototype={internalStream:function(qe){var Fe=null,Ne="string";try{if(!qe)throw new Error("No output type specified.");var Ve=(Ne=qe.toLowerCase())==="string"||Ne==="text";Ne!=="binarystring"&&Ne!=="text"||(Ne="string"),Fe=this._decompressWorker();var Ue=!this._dataBinary;Ue&&!Ve&&(Fe=Fe.pipe(new Te.Utf8EncodeWorker)),!Ue&&Ve&&(Fe=Fe.pipe(new Te.Utf8DecodeWorker))}catch(We){(Fe=new Oe("error")).error(We)}return new m(Fe,Ne,"")},async:function(qe,Fe){return this.internalStream(qe).accumulate(Fe)},nodeStream:function(qe,Fe){return this.internalStream(qe||"nodebuffer").toNodejsStream(Fe)},_compressWorker:function(qe,Fe){if(this._data instanceof Ie&&this._data.compression.magic===qe.magic)return this._data.getCompressedWorker();var Ne=this._decompressWorker();return this._dataBinary||(Ne=Ne.pipe(new Te.Utf8EncodeWorker)),Ie.createWorkerFrom(Ne,qe,Fe)},_decompressWorker:function(){return this._data instanceof Ie?this._data.getContentWorker():this._data instanceof Oe?this._data:new g(this._data)}};for(var _e=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],De=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},Ae=0;Ae<_e.length;Ae++)f.prototype[_e[Ae]]=De;i.exports=f},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,i,c){(function(f){var m,g,Te=f.MutationObserver||f.WebKitMutationObserver;if(Te){var Ie=0,Oe=new Te(qe),_e=f.document.createTextNode("");Oe.observe(_e,{characterData:!0}),m=function(){_e.data=Ie=++Ie%2}}else if(f.setImmediate||f.MessageChannel===void 0)m="document"in f&&"onreadystatechange"in f.document.createElement("script")?function(){var Fe=f.document.createElement("script");Fe.onreadystatechange=function(){qe(),Fe.onreadystatechange=null,Fe.parentNode.removeChild(Fe),Fe=null},f.document.documentElement.appendChild(Fe)}:function(){setTimeout(qe,0)};else{var De=new f.MessageChannel;De.port1.onmessage=qe,m=function(){De.port2.postMessage(0)}}var Ae=[];function qe(){var Fe,Ne;g=!0;for(var Ve=Ae.length;Ve;){for(Ne=Ae,Ae=[],Fe=-1;++Fe<Ve;)Ne[Fe]();Ve=Ae.length}g=!1}i.exports=function(Fe){Ae.push(Fe)!==1||g||m()}}).call(this,typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(e,i,c){var f=e("immediate");function m(){}var g={},Te=["REJECTED"],Ie=["FULFILLED"],Oe=["PENDING"];function _e(Ve){if(typeof Ve!="function")throw new TypeError("resolver must be a function");this.state=Oe,this.queue=[],this.outcome=void 0,Ve!==m&&Fe(this,Ve)}function De(Ve,Ue,We){this.promise=Ve,typeof Ue=="function"&&(this.onFulfilled=Ue,this.callFulfilled=this.otherCallFulfilled),typeof We=="function"&&(this.onRejected=We,this.callRejected=this.otherCallRejected)}function Ae(Ve,Ue,We){f(function(){var He;try{He=Ue(We)}catch(Xe){return g.reject(Ve,Xe)}He===Ve?g.reject(Ve,new TypeError("Cannot resolve promise with itself")):g.resolve(Ve,He)})}function qe(Ve){var Ue=Ve&&Ve.then;if(Ve&&(typeof Ve=="object"||typeof Ve=="function")&&typeof Ue=="function")return function(){Ue.apply(Ve,arguments)}}function Fe(Ve,Ue){var We=!1;function He(tt){We||(We=!0,g.reject(Ve,tt))}function Xe(tt){We||(We=!0,g.resolve(Ve,tt))}var ot=Ne(function(){Ue(Xe,He)});ot.status==="error"&&He(ot.value)}function Ne(Ve,Ue){var We={};try{We.value=Ve(Ue),We.status="success"}catch(He){We.status="error",We.value=He}return We}(i.exports=_e).prototype.finally=function(Ve){if(typeof Ve!="function")return this;var Ue=this.constructor;return this.then(function(We){return Ue.resolve(Ve()).then(function(){return We})},function(We){return Ue.resolve(Ve()).then(function(){throw We})})},_e.prototype.catch=function(Ve){return this.then(null,Ve)},_e.prototype.then=function(Ve,Ue){if(typeof Ve!="function"&&this.state===Ie||typeof Ue!="function"&&this.state===Te)return this;var We=new this.constructor(m);return this.state!==Oe?Ae(We,this.state===Ie?Ve:Ue,this.outcome):this.queue.push(new De(We,Ve,Ue)),We},De.prototype.callFulfilled=function(Ve){g.resolve(this.promise,Ve)},De.prototype.otherCallFulfilled=function(Ve){Ae(this.promise,this.onFulfilled,Ve)},De.prototype.callRejected=function(Ve){g.reject(this.promise,Ve)},De.prototype.otherCallRejected=function(Ve){Ae(this.promise,this.onRejected,Ve)},g.resolve=function(Ve,Ue){var We=Ne(qe,Ue);if(We.status==="error")return g.reject(Ve,We.value);var He=We.value;if(He)Fe(Ve,He);else{Ve.state=Ie,Ve.outcome=Ue;for(var Xe=-1,ot=Ve.queue.length;++Xe<ot;)Ve.queue[Xe].callFulfilled(Ue)}return Ve},g.reject=function(Ve,Ue){Ve.state=Te,Ve.outcome=Ue;for(var We=-1,He=Ve.queue.length;++We<He;)Ve.queue[We].callRejected(Ue);return Ve},_e.resolve=function(Ve){return Ve instanceof this?Ve:g.resolve(new this(m),Ve)},_e.reject=function(Ve){var Ue=new this(m);return g.reject(Ue,Ve)},_e.all=function(Ve){var Ue=this;if(Object.prototype.toString.call(Ve)!=="[object Array]")return this.reject(new TypeError("must be an array"));var We=Ve.length,He=!1;if(!We)return this.resolve([]);for(var Xe=new Array(We),ot=0,tt=-1,gt=new this(m);++tt<We;)vt(Ve[tt],tt);return gt;function vt(rt,ht){Ue.resolve(rt).then(function(it){Xe[ht]=it,++ot!==We||He||(He=!0,g.resolve(gt,Xe))},function(it){He||(He=!0,g.reject(gt,it))})}},_e.race=function(Ve){var Ue=this;if(Object.prototype.toString.call(Ve)!=="[object Array]")return this.reject(new TypeError("must be an array"));var We=Ve.length,He=!1;if(!We)return this.resolve([]);for(var Xe=-1,ot=new this(m);++Xe<We;)tt=Ve[Xe],Ue.resolve(tt).then(function(gt){He||(He=!0,g.resolve(ot,gt))},function(gt){He||(He=!0,g.reject(ot,gt))});var tt;return ot}},{immediate:36}],38:[function(e,i,c){var f={};(0,e("./lib/utils/common").assign)(f,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),i.exports=f},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,i,c){var f=e("./zlib/deflate"),m=e("./utils/common"),g=e("./utils/strings"),Te=e("./zlib/messages"),Ie=e("./zlib/zstream"),Oe=Object.prototype.toString,_e=0,De=-1,Ae=0,qe=8;function Fe(Ve){if(!(this instanceof Fe))return new Fe(Ve);this.options=m.assign({level:De,method:qe,chunkSize:16384,windowBits:15,memLevel:8,strategy:Ae,to:""},Ve||{});var Ue=this.options;Ue.raw&&0<Ue.windowBits?Ue.windowBits=-Ue.windowBits:Ue.gzip&&0<Ue.windowBits&&Ue.windowBits<16&&(Ue.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ie,this.strm.avail_out=0;var We=f.deflateInit2(this.strm,Ue.level,Ue.method,Ue.windowBits,Ue.memLevel,Ue.strategy);if(We!==_e)throw new Error(Te[We]);if(Ue.header&&f.deflateSetHeader(this.strm,Ue.header),Ue.dictionary){var He;if(He=typeof Ue.dictionary=="string"?g.string2buf(Ue.dictionary):Oe.call(Ue.dictionary)==="[object ArrayBuffer]"?new Uint8Array(Ue.dictionary):Ue.dictionary,(We=f.deflateSetDictionary(this.strm,He))!==_e)throw new Error(Te[We]);this._dict_set=!0}}function Ne(Ve,Ue){var We=new Fe(Ue);if(We.push(Ve,!0),We.err)throw We.msg||Te[We.err];return We.result}Fe.prototype.push=function(Ve,Ue){var We,He,Xe=this.strm,ot=this.options.chunkSize;if(this.ended)return!1;He=Ue===~~Ue?Ue:Ue===!0?4:0,typeof Ve=="string"?Xe.input=g.string2buf(Ve):Oe.call(Ve)==="[object ArrayBuffer]"?Xe.input=new Uint8Array(Ve):Xe.input=Ve,Xe.next_in=0,Xe.avail_in=Xe.input.length;do{if(Xe.avail_out===0&&(Xe.output=new m.Buf8(ot),Xe.next_out=0,Xe.avail_out=ot),(We=f.deflate(Xe,He))!==1&&We!==_e)return this.onEnd(We),!(this.ended=!0);Xe.avail_out!==0&&(Xe.avail_in!==0||He!==4&&He!==2)||(this.options.to==="string"?this.onData(g.buf2binstring(m.shrinkBuf(Xe.output,Xe.next_out))):this.onData(m.shrinkBuf(Xe.output,Xe.next_out)))}while((0<Xe.avail_in||Xe.avail_out===0)&&We!==1);return He===4?(We=f.deflateEnd(this.strm),this.onEnd(We),this.ended=!0,We===_e):He!==2||(this.onEnd(_e),!(Xe.avail_out=0))},Fe.prototype.onData=function(Ve){this.chunks.push(Ve)},Fe.prototype.onEnd=function(Ve){Ve===_e&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=Ve,this.msg=this.strm.msg},c.Deflate=Fe,c.deflate=Ne,c.deflateRaw=function(Ve,Ue){return(Ue=Ue||{}).raw=!0,Ne(Ve,Ue)},c.gzip=function(Ve,Ue){return(Ue=Ue||{}).gzip=!0,Ne(Ve,Ue)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,i,c){var f=e("./zlib/inflate"),m=e("./utils/common"),g=e("./utils/strings"),Te=e("./zlib/constants"),Ie=e("./zlib/messages"),Oe=e("./zlib/zstream"),_e=e("./zlib/gzheader"),De=Object.prototype.toString;function Ae(Fe){if(!(this instanceof Ae))return new Ae(Fe);this.options=m.assign({chunkSize:16384,windowBits:0,to:""},Fe||{});var Ne=this.options;Ne.raw&&0<=Ne.windowBits&&Ne.windowBits<16&&(Ne.windowBits=-Ne.windowBits,Ne.windowBits===0&&(Ne.windowBits=-15)),!(0<=Ne.windowBits&&Ne.windowBits<16)||Fe&&Fe.windowBits||(Ne.windowBits+=32),15<Ne.windowBits&&Ne.windowBits<48&&!(15&Ne.windowBits)&&(Ne.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Oe,this.strm.avail_out=0;var Ve=f.inflateInit2(this.strm,Ne.windowBits);if(Ve!==Te.Z_OK)throw new Error(Ie[Ve]);this.header=new _e,f.inflateGetHeader(this.strm,this.header)}function qe(Fe,Ne){var Ve=new Ae(Ne);if(Ve.push(Fe,!0),Ve.err)throw Ve.msg||Ie[Ve.err];return Ve.result}Ae.prototype.push=function(Fe,Ne){var Ve,Ue,We,He,Xe,ot,tt=this.strm,gt=this.options.chunkSize,vt=this.options.dictionary,rt=!1;if(this.ended)return!1;Ue=Ne===~~Ne?Ne:Ne===!0?Te.Z_FINISH:Te.Z_NO_FLUSH,typeof Fe=="string"?tt.input=g.binstring2buf(Fe):De.call(Fe)==="[object ArrayBuffer]"?tt.input=new Uint8Array(Fe):tt.input=Fe,tt.next_in=0,tt.avail_in=tt.input.length;do{if(tt.avail_out===0&&(tt.output=new m.Buf8(gt),tt.next_out=0,tt.avail_out=gt),(Ve=f.inflate(tt,Te.Z_NO_FLUSH))===Te.Z_NEED_DICT&&vt&&(ot=typeof vt=="string"?g.string2buf(vt):De.call(vt)==="[object ArrayBuffer]"?new Uint8Array(vt):vt,Ve=f.inflateSetDictionary(this.strm,ot)),Ve===Te.Z_BUF_ERROR&&rt===!0&&(Ve=Te.Z_OK,rt=!1),Ve!==Te.Z_STREAM_END&&Ve!==Te.Z_OK)return this.onEnd(Ve),!(this.ended=!0);tt.next_out&&(tt.avail_out!==0&&Ve!==Te.Z_STREAM_END&&(tt.avail_in!==0||Ue!==Te.Z_FINISH&&Ue!==Te.Z_SYNC_FLUSH)||(this.options.to==="string"?(We=g.utf8border(tt.output,tt.next_out),He=tt.next_out-We,Xe=g.buf2string(tt.output,We),tt.next_out=He,tt.avail_out=gt-He,He&&m.arraySet(tt.output,tt.output,We,He,0),this.onData(Xe)):this.onData(m.shrinkBuf(tt.output,tt.next_out)))),tt.avail_in===0&&tt.avail_out===0&&(rt=!0)}while((0<tt.avail_in||tt.avail_out===0)&&Ve!==Te.Z_STREAM_END);return Ve===Te.Z_STREAM_END&&(Ue=Te.Z_FINISH),Ue===Te.Z_FINISH?(Ve=f.inflateEnd(this.strm),this.onEnd(Ve),this.ended=!0,Ve===Te.Z_OK):Ue!==Te.Z_SYNC_FLUSH||(this.onEnd(Te.Z_OK),!(tt.avail_out=0))},Ae.prototype.onData=function(Fe){this.chunks.push(Fe)},Ae.prototype.onEnd=function(Fe){Fe===Te.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=Fe,this.msg=this.strm.msg},c.Inflate=Ae,c.inflate=qe,c.inflateRaw=function(Fe,Ne){return(Ne=Ne||{}).raw=!0,qe(Fe,Ne)},c.ungzip=qe},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,i,c){var f=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";c.assign=function(Te){for(var Ie=Array.prototype.slice.call(arguments,1);Ie.length;){var Oe=Ie.shift();if(Oe){if(typeof Oe!="object")throw new TypeError(Oe+"must be non-object");for(var _e in Oe)Oe.hasOwnProperty(_e)&&(Te[_e]=Oe[_e])}}return Te},c.shrinkBuf=function(Te,Ie){return Te.length===Ie?Te:Te.subarray?Te.subarray(0,Ie):(Te.length=Ie,Te)};var m={arraySet:function(Te,Ie,Oe,_e,De){if(Ie.subarray&&Te.subarray)Te.set(Ie.subarray(Oe,Oe+_e),De);else for(var Ae=0;Ae<_e;Ae++)Te[De+Ae]=Ie[Oe+Ae]},flattenChunks:function(Te){var Ie,Oe,_e,De,Ae,qe;for(Ie=_e=0,Oe=Te.length;Ie<Oe;Ie++)_e+=Te[Ie].length;for(qe=new Uint8Array(_e),Ie=De=0,Oe=Te.length;Ie<Oe;Ie++)Ae=Te[Ie],qe.set(Ae,De),De+=Ae.length;return qe}},g={arraySet:function(Te,Ie,Oe,_e,De){for(var Ae=0;Ae<_e;Ae++)Te[De+Ae]=Ie[Oe+Ae]},flattenChunks:function(Te){return[].concat.apply([],Te)}};c.setTyped=function(Te){Te?(c.Buf8=Uint8Array,c.Buf16=Uint16Array,c.Buf32=Int32Array,c.assign(c,m)):(c.Buf8=Array,c.Buf16=Array,c.Buf32=Array,c.assign(c,g))},c.setTyped(f)},{}],42:[function(e,i,c){var f=e("./common"),m=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch{m=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{g=!1}for(var Te=new f.Buf8(256),Ie=0;Ie<256;Ie++)Te[Ie]=252<=Ie?6:248<=Ie?5:240<=Ie?4:224<=Ie?3:192<=Ie?2:1;function Oe(_e,De){if(De<65537&&(_e.subarray&&g||!_e.subarray&&m))return String.fromCharCode.apply(null,f.shrinkBuf(_e,De));for(var Ae="",qe=0;qe<De;qe++)Ae+=String.fromCharCode(_e[qe]);return Ae}Te[254]=Te[254]=1,c.string2buf=function(_e){var De,Ae,qe,Fe,Ne,Ve=_e.length,Ue=0;for(Fe=0;Fe<Ve;Fe++)(64512&(Ae=_e.charCodeAt(Fe)))==55296&&Fe+1<Ve&&(64512&(qe=_e.charCodeAt(Fe+1)))==56320&&(Ae=65536+(Ae-55296<<10)+(qe-56320),Fe++),Ue+=Ae<128?1:Ae<2048?2:Ae<65536?3:4;for(De=new f.Buf8(Ue),Fe=Ne=0;Ne<Ue;Fe++)(64512&(Ae=_e.charCodeAt(Fe)))==55296&&Fe+1<Ve&&(64512&(qe=_e.charCodeAt(Fe+1)))==56320&&(Ae=65536+(Ae-55296<<10)+(qe-56320),Fe++),Ae<128?De[Ne++]=Ae:(Ae<2048?De[Ne++]=192|Ae>>>6:(Ae<65536?De[Ne++]=224|Ae>>>12:(De[Ne++]=240|Ae>>>18,De[Ne++]=128|Ae>>>12&63),De[Ne++]=128|Ae>>>6&63),De[Ne++]=128|63&Ae);return De},c.buf2binstring=function(_e){return Oe(_e,_e.length)},c.binstring2buf=function(_e){for(var De=new f.Buf8(_e.length),Ae=0,qe=De.length;Ae<qe;Ae++)De[Ae]=_e.charCodeAt(Ae);return De},c.buf2string=function(_e,De){var Ae,qe,Fe,Ne,Ve=De||_e.length,Ue=new Array(2*Ve);for(Ae=qe=0;Ae<Ve;)if((Fe=_e[Ae++])<128)Ue[qe++]=Fe;else if(4<(Ne=Te[Fe]))Ue[qe++]=65533,Ae+=Ne-1;else{for(Fe&=Ne===2?31:Ne===3?15:7;1<Ne&&Ae<Ve;)Fe=Fe<<6|63&_e[Ae++],Ne--;1<Ne?Ue[qe++]=65533:Fe<65536?Ue[qe++]=Fe:(Fe-=65536,Ue[qe++]=55296|Fe>>10&1023,Ue[qe++]=56320|1023&Fe)}return Oe(Ue,qe)},c.utf8border=function(_e,De){var Ae;for((De=De||_e.length)>_e.length&&(De=_e.length),Ae=De-1;0<=Ae&&(192&_e[Ae])==128;)Ae--;return Ae<0||Ae===0?De:Ae+Te[_e[Ae]]>De?Ae:De}},{"./common":41}],43:[function(e,i,c){i.exports=function(f,m,g,Te){for(var Ie=65535&f|0,Oe=f>>>16&65535|0,_e=0;g!==0;){for(g-=_e=2e3<g?2e3:g;Oe=Oe+(Ie=Ie+m[Te++]|0)|0,--_e;);Ie%=65521,Oe%=65521}return Ie|Oe<<16|0}},{}],44:[function(e,i,c){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,i,c){var f=function(){for(var m,g=[],Te=0;Te<256;Te++){m=Te;for(var Ie=0;Ie<8;Ie++)m=1&m?3988292384^m>>>1:m>>>1;g[Te]=m}return g}();i.exports=function(m,g,Te,Ie){var Oe=f,_e=Ie+Te;m^=-1;for(var De=Ie;De<_e;De++)m=m>>>8^Oe[255&(m^g[De])];return-1^m}},{}],46:[function(e,i,c){var f,m=e("../utils/common"),g=e("./trees"),Te=e("./adler32"),Ie=e("./crc32"),Oe=e("./messages"),_e=0,De=4,Ae=0,qe=-2,Fe=-1,Ne=4,Ve=2,Ue=8,We=9,He=286,Xe=30,ot=19,tt=2*He+1,gt=15,vt=3,rt=258,ht=rt+vt+1,it=42,mt=113,Ze=1,Ft=2,Zt=3,zt=4;function ur(Je,At){return Je.msg=Oe[At],At}function bt(Je){return(Je<<1)-(4<Je?9:0)}function St(Je){for(var At=Je.length;0<=--At;)Je[At]=0}function ct(Je){var At=Je.state,Wt=At.pending;Wt>Je.avail_out&&(Wt=Je.avail_out),Wt!==0&&(m.arraySet(Je.output,At.pending_buf,At.pending_out,Wt,Je.next_out),Je.next_out+=Wt,At.pending_out+=Wt,Je.total_out+=Wt,Je.avail_out-=Wt,At.pending-=Wt,At.pending===0&&(At.pending_out=0))}function dt(Je,At){g._tr_flush_block(Je,0<=Je.block_start?Je.block_start:-1,Je.strstart-Je.block_start,At),Je.block_start=Je.strstart,ct(Je.strm)}function Bt(Je,At){Je.pending_buf[Je.pending++]=At}function Ct(Je,At){Je.pending_buf[Je.pending++]=At>>>8&255,Je.pending_buf[Je.pending++]=255&At}function Kt(Je,At){var Wt,xt,pt=Je.max_chain_length,Dt=Je.strstart,er=Je.prev_length,nt=Je.nice_match,ze=Je.strstart>Je.w_size-ht?Je.strstart-(Je.w_size-ht):0,Ge=Je.window,ut=Je.w_mask,Et=Je.prev,It=Je.strstart+rt,jt=Ge[Dt+er-1],tr=Ge[Dt+er];Je.prev_length>=Je.good_match&&(pt>>=2),nt>Je.lookahead&&(nt=Je.lookahead);do if(Ge[(Wt=At)+er]===tr&&Ge[Wt+er-1]===jt&&Ge[Wt]===Ge[Dt]&&Ge[++Wt]===Ge[Dt+1]){Dt+=2,Wt++;do;while(Ge[++Dt]===Ge[++Wt]&&Ge[++Dt]===Ge[++Wt]&&Ge[++Dt]===Ge[++Wt]&&Ge[++Dt]===Ge[++Wt]&&Ge[++Dt]===Ge[++Wt]&&Ge[++Dt]===Ge[++Wt]&&Ge[++Dt]===Ge[++Wt]&&Ge[++Dt]===Ge[++Wt]&&Dt<It);if(xt=rt-(It-Dt),Dt=It-rt,er<xt){if(Je.match_start=At,nt<=(er=xt))break;jt=Ge[Dt+er-1],tr=Ge[Dt+er]}}while((At=Et[At&ut])>ze&&--pt!=0);return er<=Je.lookahead?er:Je.lookahead}function fr(Je){var At,Wt,xt,pt,Dt,er,nt,ze,Ge,ut,Et=Je.w_size;do{if(pt=Je.window_size-Je.lookahead-Je.strstart,Je.strstart>=Et+(Et-ht)){for(m.arraySet(Je.window,Je.window,Et,Et,0),Je.match_start-=Et,Je.strstart-=Et,Je.block_start-=Et,At=Wt=Je.hash_size;xt=Je.head[--At],Je.head[At]=Et<=xt?xt-Et:0,--Wt;);for(At=Wt=Et;xt=Je.prev[--At],Je.prev[At]=Et<=xt?xt-Et:0,--Wt;);pt+=Et}if(Je.strm.avail_in===0)break;if(er=Je.strm,nt=Je.window,ze=Je.strstart+Je.lookahead,Ge=pt,ut=void 0,ut=er.avail_in,Ge<ut&&(ut=Ge),Wt=ut===0?0:(er.avail_in-=ut,m.arraySet(nt,er.input,er.next_in,ut,ze),er.state.wrap===1?er.adler=Te(er.adler,nt,ut,ze):er.state.wrap===2&&(er.adler=Ie(er.adler,nt,ut,ze)),er.next_in+=ut,er.total_in+=ut,ut),Je.lookahead+=Wt,Je.lookahead+Je.insert>=vt)for(Dt=Je.strstart-Je.insert,Je.ins_h=Je.window[Dt],Je.ins_h=(Je.ins_h<<Je.hash_shift^Je.window[Dt+1])&Je.hash_mask;Je.insert&&(Je.ins_h=(Je.ins_h<<Je.hash_shift^Je.window[Dt+vt-1])&Je.hash_mask,Je.prev[Dt&Je.w_mask]=Je.head[Je.ins_h],Je.head[Je.ins_h]=Dt,Dt++,Je.insert--,!(Je.lookahead+Je.insert<vt)););}while(Je.lookahead<ht&&Je.strm.avail_in!==0)}function Rr(Je,At){for(var Wt,xt;;){if(Je.lookahead<ht){if(fr(Je),Je.lookahead<ht&&At===_e)return Ze;if(Je.lookahead===0)break}if(Wt=0,Je.lookahead>=vt&&(Je.ins_h=(Je.ins_h<<Je.hash_shift^Je.window[Je.strstart+vt-1])&Je.hash_mask,Wt=Je.prev[Je.strstart&Je.w_mask]=Je.head[Je.ins_h],Je.head[Je.ins_h]=Je.strstart),Wt!==0&&Je.strstart-Wt<=Je.w_size-ht&&(Je.match_length=Kt(Je,Wt)),Je.match_length>=vt)if(xt=g._tr_tally(Je,Je.strstart-Je.match_start,Je.match_length-vt),Je.lookahead-=Je.match_length,Je.match_length<=Je.max_lazy_match&&Je.lookahead>=vt){for(Je.match_length--;Je.strstart++,Je.ins_h=(Je.ins_h<<Je.hash_shift^Je.window[Je.strstart+vt-1])&Je.hash_mask,Wt=Je.prev[Je.strstart&Je.w_mask]=Je.head[Je.ins_h],Je.head[Je.ins_h]=Je.strstart,--Je.match_length!=0;);Je.strstart++}else Je.strstart+=Je.match_length,Je.match_length=0,Je.ins_h=Je.window[Je.strstart],Je.ins_h=(Je.ins_h<<Je.hash_shift^Je.window[Je.strstart+1])&Je.hash_mask;else xt=g._tr_tally(Je,0,Je.window[Je.strstart]),Je.lookahead--,Je.strstart++;if(xt&&(dt(Je,!1),Je.strm.avail_out===0))return Ze}return Je.insert=Je.strstart<vt-1?Je.strstart:vt-1,At===De?(dt(Je,!0),Je.strm.avail_out===0?Zt:zt):Je.last_lit&&(dt(Je,!1),Je.strm.avail_out===0)?Ze:Ft}function cr(Je,At){for(var Wt,xt,pt;;){if(Je.lookahead<ht){if(fr(Je),Je.lookahead<ht&&At===_e)return Ze;if(Je.lookahead===0)break}if(Wt=0,Je.lookahead>=vt&&(Je.ins_h=(Je.ins_h<<Je.hash_shift^Je.window[Je.strstart+vt-1])&Je.hash_mask,Wt=Je.prev[Je.strstart&Je.w_mask]=Je.head[Je.ins_h],Je.head[Je.ins_h]=Je.strstart),Je.prev_length=Je.match_length,Je.prev_match=Je.match_start,Je.match_length=vt-1,Wt!==0&&Je.prev_length<Je.max_lazy_match&&Je.strstart-Wt<=Je.w_size-ht&&(Je.match_length=Kt(Je,Wt),Je.match_length<=5&&(Je.strategy===1||Je.match_length===vt&&4096<Je.strstart-Je.match_start)&&(Je.match_length=vt-1)),Je.prev_length>=vt&&Je.match_length<=Je.prev_length){for(pt=Je.strstart+Je.lookahead-vt,xt=g._tr_tally(Je,Je.strstart-1-Je.prev_match,Je.prev_length-vt),Je.lookahead-=Je.prev_length-1,Je.prev_length-=2;++Je.strstart<=pt&&(Je.ins_h=(Je.ins_h<<Je.hash_shift^Je.window[Je.strstart+vt-1])&Je.hash_mask,Wt=Je.prev[Je.strstart&Je.w_mask]=Je.head[Je.ins_h],Je.head[Je.ins_h]=Je.strstart),--Je.prev_length!=0;);if(Je.match_available=0,Je.match_length=vt-1,Je.strstart++,xt&&(dt(Je,!1),Je.strm.avail_out===0))return Ze}else if(Je.match_available){if((xt=g._tr_tally(Je,0,Je.window[Je.strstart-1]))&&dt(Je,!1),Je.strstart++,Je.lookahead--,Je.strm.avail_out===0)return Ze}else Je.match_available=1,Je.strstart++,Je.lookahead--}return Je.match_available&&(xt=g._tr_tally(Je,0,Je.window[Je.strstart-1]),Je.match_available=0),Je.insert=Je.strstart<vt-1?Je.strstart:vt-1,At===De?(dt(Je,!0),Je.strm.avail_out===0?Zt:zt):Je.last_lit&&(dt(Je,!1),Je.strm.avail_out===0)?Ze:Ft}function lt(Je,At,Wt,xt,pt){this.good_length=Je,this.max_lazy=At,this.nice_length=Wt,this.max_chain=xt,this.func=pt}function yt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ue,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new m.Buf16(2*tt),this.dyn_dtree=new m.Buf16(2*(2*Xe+1)),this.bl_tree=new m.Buf16(2*(2*ot+1)),St(this.dyn_ltree),St(this.dyn_dtree),St(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new m.Buf16(gt+1),this.heap=new m.Buf16(2*He+1),St(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new m.Buf16(2*He+1),St(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Xt(Je){var At;return Je&&Je.state?(Je.total_in=Je.total_out=0,Je.data_type=Ve,(At=Je.state).pending=0,At.pending_out=0,At.wrap<0&&(At.wrap=-At.wrap),At.status=At.wrap?it:mt,Je.adler=At.wrap===2?0:1,At.last_flush=_e,g._tr_init(At),Ae):ur(Je,qe)}function $t(Je){var At=Xt(Je);return At===Ae&&function(Wt){Wt.window_size=2*Wt.w_size,St(Wt.head),Wt.max_lazy_match=f[Wt.level].max_lazy,Wt.good_match=f[Wt.level].good_length,Wt.nice_match=f[Wt.level].nice_length,Wt.max_chain_length=f[Wt.level].max_chain,Wt.strstart=0,Wt.block_start=0,Wt.lookahead=0,Wt.insert=0,Wt.match_length=Wt.prev_length=vt-1,Wt.match_available=0,Wt.ins_h=0}(Je.state),At}function dr(Je,At,Wt,xt,pt,Dt){if(!Je)return qe;var er=1;if(At===Fe&&(At=6),xt<0?(er=0,xt=-xt):15<xt&&(er=2,xt-=16),pt<1||We<pt||Wt!==Ue||xt<8||15<xt||At<0||9<At||Dt<0||Ne<Dt)return ur(Je,qe);xt===8&&(xt=9);var nt=new yt;return(Je.state=nt).strm=Je,nt.wrap=er,nt.gzhead=null,nt.w_bits=xt,nt.w_size=1<<nt.w_bits,nt.w_mask=nt.w_size-1,nt.hash_bits=pt+7,nt.hash_size=1<<nt.hash_bits,nt.hash_mask=nt.hash_size-1,nt.hash_shift=~~((nt.hash_bits+vt-1)/vt),nt.window=new m.Buf8(2*nt.w_size),nt.head=new m.Buf16(nt.hash_size),nt.prev=new m.Buf16(nt.w_size),nt.lit_bufsize=1<<pt+6,nt.pending_buf_size=4*nt.lit_bufsize,nt.pending_buf=new m.Buf8(nt.pending_buf_size),nt.d_buf=1*nt.lit_bufsize,nt.l_buf=3*nt.lit_bufsize,nt.level=At,nt.strategy=Dt,nt.method=Wt,$t(Je)}f=[new lt(0,0,0,0,function(Je,At){var Wt=65535;for(Wt>Je.pending_buf_size-5&&(Wt=Je.pending_buf_size-5);;){if(Je.lookahead<=1){if(fr(Je),Je.lookahead===0&&At===_e)return Ze;if(Je.lookahead===0)break}Je.strstart+=Je.lookahead,Je.lookahead=0;var xt=Je.block_start+Wt;if((Je.strstart===0||Je.strstart>=xt)&&(Je.lookahead=Je.strstart-xt,Je.strstart=xt,dt(Je,!1),Je.strm.avail_out===0)||Je.strstart-Je.block_start>=Je.w_size-ht&&(dt(Je,!1),Je.strm.avail_out===0))return Ze}return Je.insert=0,At===De?(dt(Je,!0),Je.strm.avail_out===0?Zt:zt):(Je.strstart>Je.block_start&&(dt(Je,!1),Je.strm.avail_out),Ze)}),new lt(4,4,8,4,Rr),new lt(4,5,16,8,Rr),new lt(4,6,32,32,Rr),new lt(4,4,16,16,cr),new lt(8,16,32,32,cr),new lt(8,16,128,128,cr),new lt(8,32,128,256,cr),new lt(32,128,258,1024,cr),new lt(32,258,258,4096,cr)],c.deflateInit=function(Je,At){return dr(Je,At,Ue,15,8,0)},c.deflateInit2=dr,c.deflateReset=$t,c.deflateResetKeep=Xt,c.deflateSetHeader=function(Je,At){return Je&&Je.state?Je.state.wrap!==2?qe:(Je.state.gzhead=At,Ae):qe},c.deflate=function(Je,At){var Wt,xt,pt,Dt;if(!Je||!Je.state||5<At||At<0)return Je?ur(Je,qe):qe;if(xt=Je.state,!Je.output||!Je.input&&Je.avail_in!==0||xt.status===666&&At!==De)return ur(Je,Je.avail_out===0?-5:qe);if(xt.strm=Je,Wt=xt.last_flush,xt.last_flush=At,xt.status===it)if(xt.wrap===2)Je.adler=0,Bt(xt,31),Bt(xt,139),Bt(xt,8),xt.gzhead?(Bt(xt,(xt.gzhead.text?1:0)+(xt.gzhead.hcrc?2:0)+(xt.gzhead.extra?4:0)+(xt.gzhead.name?8:0)+(xt.gzhead.comment?16:0)),Bt(xt,255&xt.gzhead.time),Bt(xt,xt.gzhead.time>>8&255),Bt(xt,xt.gzhead.time>>16&255),Bt(xt,xt.gzhead.time>>24&255),Bt(xt,xt.level===9?2:2<=xt.strategy||xt.level<2?4:0),Bt(xt,255&xt.gzhead.os),xt.gzhead.extra&&xt.gzhead.extra.length&&(Bt(xt,255&xt.gzhead.extra.length),Bt(xt,xt.gzhead.extra.length>>8&255)),xt.gzhead.hcrc&&(Je.adler=Ie(Je.adler,xt.pending_buf,xt.pending,0)),xt.gzindex=0,xt.status=69):(Bt(xt,0),Bt(xt,0),Bt(xt,0),Bt(xt,0),Bt(xt,0),Bt(xt,xt.level===9?2:2<=xt.strategy||xt.level<2?4:0),Bt(xt,3),xt.status=mt);else{var er=Ue+(xt.w_bits-8<<4)<<8;er|=(2<=xt.strategy||xt.level<2?0:xt.level<6?1:xt.level===6?2:3)<<6,xt.strstart!==0&&(er|=32),er+=31-er%31,xt.status=mt,Ct(xt,er),xt.strstart!==0&&(Ct(xt,Je.adler>>>16),Ct(xt,65535&Je.adler)),Je.adler=1}if(xt.status===69)if(xt.gzhead.extra){for(pt=xt.pending;xt.gzindex<(65535&xt.gzhead.extra.length)&&(xt.pending!==xt.pending_buf_size||(xt.gzhead.hcrc&&xt.pending>pt&&(Je.adler=Ie(Je.adler,xt.pending_buf,xt.pending-pt,pt)),ct(Je),pt=xt.pending,xt.pending!==xt.pending_buf_size));)Bt(xt,255&xt.gzhead.extra[xt.gzindex]),xt.gzindex++;xt.gzhead.hcrc&&xt.pending>pt&&(Je.adler=Ie(Je.adler,xt.pending_buf,xt.pending-pt,pt)),xt.gzindex===xt.gzhead.extra.length&&(xt.gzindex=0,xt.status=73)}else xt.status=73;if(xt.status===73)if(xt.gzhead.name){pt=xt.pending;do{if(xt.pending===xt.pending_buf_size&&(xt.gzhead.hcrc&&xt.pending>pt&&(Je.adler=Ie(Je.adler,xt.pending_buf,xt.pending-pt,pt)),ct(Je),pt=xt.pending,xt.pending===xt.pending_buf_size)){Dt=1;break}Dt=xt.gzindex<xt.gzhead.name.length?255&xt.gzhead.name.charCodeAt(xt.gzindex++):0,Bt(xt,Dt)}while(Dt!==0);xt.gzhead.hcrc&&xt.pending>pt&&(Je.adler=Ie(Je.adler,xt.pending_buf,xt.pending-pt,pt)),Dt===0&&(xt.gzindex=0,xt.status=91)}else xt.status=91;if(xt.status===91)if(xt.gzhead.comment){pt=xt.pending;do{if(xt.pending===xt.pending_buf_size&&(xt.gzhead.hcrc&&xt.pending>pt&&(Je.adler=Ie(Je.adler,xt.pending_buf,xt.pending-pt,pt)),ct(Je),pt=xt.pending,xt.pending===xt.pending_buf_size)){Dt=1;break}Dt=xt.gzindex<xt.gzhead.comment.length?255&xt.gzhead.comment.charCodeAt(xt.gzindex++):0,Bt(xt,Dt)}while(Dt!==0);xt.gzhead.hcrc&&xt.pending>pt&&(Je.adler=Ie(Je.adler,xt.pending_buf,xt.pending-pt,pt)),Dt===0&&(xt.status=103)}else xt.status=103;if(xt.status===103&&(xt.gzhead.hcrc?(xt.pending+2>xt.pending_buf_size&&ct(Je),xt.pending+2<=xt.pending_buf_size&&(Bt(xt,255&Je.adler),Bt(xt,Je.adler>>8&255),Je.adler=0,xt.status=mt)):xt.status=mt),xt.pending!==0){if(ct(Je),Je.avail_out===0)return xt.last_flush=-1,Ae}else if(Je.avail_in===0&&bt(At)<=bt(Wt)&&At!==De)return ur(Je,-5);if(xt.status===666&&Je.avail_in!==0)return ur(Je,-5);if(Je.avail_in!==0||xt.lookahead!==0||At!==_e&&xt.status!==666){var nt=xt.strategy===2?function(ze,Ge){for(var ut;;){if(ze.lookahead===0&&(fr(ze),ze.lookahead===0)){if(Ge===_e)return Ze;break}if(ze.match_length=0,ut=g._tr_tally(ze,0,ze.window[ze.strstart]),ze.lookahead--,ze.strstart++,ut&&(dt(ze,!1),ze.strm.avail_out===0))return Ze}return ze.insert=0,Ge===De?(dt(ze,!0),ze.strm.avail_out===0?Zt:zt):ze.last_lit&&(dt(ze,!1),ze.strm.avail_out===0)?Ze:Ft}(xt,At):xt.strategy===3?function(ze,Ge){for(var ut,Et,It,jt,tr=ze.window;;){if(ze.lookahead<=rt){if(fr(ze),ze.lookahead<=rt&&Ge===_e)return Ze;if(ze.lookahead===0)break}if(ze.match_length=0,ze.lookahead>=vt&&0<ze.strstart&&(Et=tr[It=ze.strstart-1])===tr[++It]&&Et===tr[++It]&&Et===tr[++It]){jt=ze.strstart+rt;do;while(Et===tr[++It]&&Et===tr[++It]&&Et===tr[++It]&&Et===tr[++It]&&Et===tr[++It]&&Et===tr[++It]&&Et===tr[++It]&&Et===tr[++It]&&It<jt);ze.match_length=rt-(jt-It),ze.match_length>ze.lookahead&&(ze.match_length=ze.lookahead)}if(ze.match_length>=vt?(ut=g._tr_tally(ze,1,ze.match_length-vt),ze.lookahead-=ze.match_length,ze.strstart+=ze.match_length,ze.match_length=0):(ut=g._tr_tally(ze,0,ze.window[ze.strstart]),ze.lookahead--,ze.strstart++),ut&&(dt(ze,!1),ze.strm.avail_out===0))return Ze}return ze.insert=0,Ge===De?(dt(ze,!0),ze.strm.avail_out===0?Zt:zt):ze.last_lit&&(dt(ze,!1),ze.strm.avail_out===0)?Ze:Ft}(xt,At):f[xt.level].func(xt,At);if(nt!==Zt&&nt!==zt||(xt.status=666),nt===Ze||nt===Zt)return Je.avail_out===0&&(xt.last_flush=-1),Ae;if(nt===Ft&&(At===1?g._tr_align(xt):At!==5&&(g._tr_stored_block(xt,0,0,!1),At===3&&(St(xt.head),xt.lookahead===0&&(xt.strstart=0,xt.block_start=0,xt.insert=0))),ct(Je),Je.avail_out===0))return xt.last_flush=-1,Ae}return At!==De?Ae:xt.wrap<=0?1:(xt.wrap===2?(Bt(xt,255&Je.adler),Bt(xt,Je.adler>>8&255),Bt(xt,Je.adler>>16&255),Bt(xt,Je.adler>>24&255),Bt(xt,255&Je.total_in),Bt(xt,Je.total_in>>8&255),Bt(xt,Je.total_in>>16&255),Bt(xt,Je.total_in>>24&255)):(Ct(xt,Je.adler>>>16),Ct(xt,65535&Je.adler)),ct(Je),0<xt.wrap&&(xt.wrap=-xt.wrap),xt.pending!==0?Ae:1)},c.deflateEnd=function(Je){var At;return Je&&Je.state?(At=Je.state.status)!==it&&At!==69&&At!==73&&At!==91&&At!==103&&At!==mt&&At!==666?ur(Je,qe):(Je.state=null,At===mt?ur(Je,-3):Ae):qe},c.deflateSetDictionary=function(Je,At){var Wt,xt,pt,Dt,er,nt,ze,Ge,ut=At.length;if(!Je||!Je.state||(Dt=(Wt=Je.state).wrap)===2||Dt===1&&Wt.status!==it||Wt.lookahead)return qe;for(Dt===1&&(Je.adler=Te(Je.adler,At,ut,0)),Wt.wrap=0,ut>=Wt.w_size&&(Dt===0&&(St(Wt.head),Wt.strstart=0,Wt.block_start=0,Wt.insert=0),Ge=new m.Buf8(Wt.w_size),m.arraySet(Ge,At,ut-Wt.w_size,Wt.w_size,0),At=Ge,ut=Wt.w_size),er=Je.avail_in,nt=Je.next_in,ze=Je.input,Je.avail_in=ut,Je.next_in=0,Je.input=At,fr(Wt);Wt.lookahead>=vt;){for(xt=Wt.strstart,pt=Wt.lookahead-(vt-1);Wt.ins_h=(Wt.ins_h<<Wt.hash_shift^Wt.window[xt+vt-1])&Wt.hash_mask,Wt.prev[xt&Wt.w_mask]=Wt.head[Wt.ins_h],Wt.head[Wt.ins_h]=xt,xt++,--pt;);Wt.strstart=xt,Wt.lookahead=vt-1,fr(Wt)}return Wt.strstart+=Wt.lookahead,Wt.block_start=Wt.strstart,Wt.insert=Wt.lookahead,Wt.lookahead=0,Wt.match_length=Wt.prev_length=vt-1,Wt.match_available=0,Je.next_in=nt,Je.input=ze,Je.avail_in=er,Wt.wrap=Dt,Ae},c.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,i,c){i.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,i,c){i.exports=function(f,m){var g,Te,Ie,Oe,_e,De,Ae,qe,Fe,Ne,Ve,Ue,We,He,Xe,ot,tt,gt,vt,rt,ht,it,mt,Ze,Ft;g=f.state,Te=f.next_in,Ze=f.input,Ie=Te+(f.avail_in-5),Oe=f.next_out,Ft=f.output,_e=Oe-(m-f.avail_out),De=Oe+(f.avail_out-257),Ae=g.dmax,qe=g.wsize,Fe=g.whave,Ne=g.wnext,Ve=g.window,Ue=g.hold,We=g.bits,He=g.lencode,Xe=g.distcode,ot=(1<<g.lenbits)-1,tt=(1<<g.distbits)-1;e:do{We<15&&(Ue+=Ze[Te++]<<We,We+=8,Ue+=Ze[Te++]<<We,We+=8),gt=He[Ue&ot];t:for(;;){if(Ue>>>=vt=gt>>>24,We-=vt,(vt=gt>>>16&255)===0)Ft[Oe++]=65535&gt;else{if(!(16&vt)){if(!(64&vt)){gt=He[(65535&gt)+(Ue&(1<<vt)-1)];continue t}if(32&vt){g.mode=12;break e}f.msg="invalid literal/length code",g.mode=30;break e}rt=65535&gt,(vt&=15)&&(We<vt&&(Ue+=Ze[Te++]<<We,We+=8),rt+=Ue&(1<<vt)-1,Ue>>>=vt,We-=vt),We<15&&(Ue+=Ze[Te++]<<We,We+=8,Ue+=Ze[Te++]<<We,We+=8),gt=Xe[Ue&tt];r:for(;;){if(Ue>>>=vt=gt>>>24,We-=vt,!(16&(vt=gt>>>16&255))){if(!(64&vt)){gt=Xe[(65535&gt)+(Ue&(1<<vt)-1)];continue r}f.msg="invalid distance code",g.mode=30;break e}if(ht=65535&gt,We<(vt&=15)&&(Ue+=Ze[Te++]<<We,(We+=8)<vt&&(Ue+=Ze[Te++]<<We,We+=8)),Ae<(ht+=Ue&(1<<vt)-1)){f.msg="invalid distance too far back",g.mode=30;break e}if(Ue>>>=vt,We-=vt,(vt=Oe-_e)<ht){if(Fe<(vt=ht-vt)&&g.sane){f.msg="invalid distance too far back",g.mode=30;break e}if(mt=Ve,(it=0)===Ne){if(it+=qe-vt,vt<rt){for(rt-=vt;Ft[Oe++]=Ve[it++],--vt;);it=Oe-ht,mt=Ft}}else if(Ne<vt){if(it+=qe+Ne-vt,(vt-=Ne)<rt){for(rt-=vt;Ft[Oe++]=Ve[it++],--vt;);if(it=0,Ne<rt){for(rt-=vt=Ne;Ft[Oe++]=Ve[it++],--vt;);it=Oe-ht,mt=Ft}}}else if(it+=Ne-vt,vt<rt){for(rt-=vt;Ft[Oe++]=Ve[it++],--vt;);it=Oe-ht,mt=Ft}for(;2<rt;)Ft[Oe++]=mt[it++],Ft[Oe++]=mt[it++],Ft[Oe++]=mt[it++],rt-=3;rt&&(Ft[Oe++]=mt[it++],1<rt&&(Ft[Oe++]=mt[it++]))}else{for(it=Oe-ht;Ft[Oe++]=Ft[it++],Ft[Oe++]=Ft[it++],Ft[Oe++]=Ft[it++],2<(rt-=3););rt&&(Ft[Oe++]=Ft[it++],1<rt&&(Ft[Oe++]=Ft[it++]))}break}}break}}while(Te<Ie&&Oe<De);Te-=rt=We>>3,Ue&=(1<<(We-=rt<<3))-1,f.next_in=Te,f.next_out=Oe,f.avail_in=Te<Ie?Ie-Te+5:5-(Te-Ie),f.avail_out=Oe<De?De-Oe+257:257-(Oe-De),g.hold=Ue,g.bits=We}},{}],49:[function(e,i,c){var f=e("../utils/common"),m=e("./adler32"),g=e("./crc32"),Te=e("./inffast"),Ie=e("./inftrees"),Oe=1,_e=2,De=0,Ae=-2,qe=1,Fe=852,Ne=592;function Ve(it){return(it>>>24&255)+(it>>>8&65280)+((65280&it)<<8)+((255&it)<<24)}function Ue(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new f.Buf16(320),this.work=new f.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function We(it){var mt;return it&&it.state?(mt=it.state,it.total_in=it.total_out=mt.total=0,it.msg="",mt.wrap&&(it.adler=1&mt.wrap),mt.mode=qe,mt.last=0,mt.havedict=0,mt.dmax=32768,mt.head=null,mt.hold=0,mt.bits=0,mt.lencode=mt.lendyn=new f.Buf32(Fe),mt.distcode=mt.distdyn=new f.Buf32(Ne),mt.sane=1,mt.back=-1,De):Ae}function He(it){var mt;return it&&it.state?((mt=it.state).wsize=0,mt.whave=0,mt.wnext=0,We(it)):Ae}function Xe(it,mt){var Ze,Ft;return it&&it.state?(Ft=it.state,mt<0?(Ze=0,mt=-mt):(Ze=1+(mt>>4),mt<48&&(mt&=15)),mt&&(mt<8||15<mt)?Ae:(Ft.window!==null&&Ft.wbits!==mt&&(Ft.window=null),Ft.wrap=Ze,Ft.wbits=mt,He(it))):Ae}function ot(it,mt){var Ze,Ft;return it?(Ft=new Ue,(it.state=Ft).window=null,(Ze=Xe(it,mt))!==De&&(it.state=null),Ze):Ae}var tt,gt,vt=!0;function rt(it){if(vt){var mt;for(tt=new f.Buf32(512),gt=new f.Buf32(32),mt=0;mt<144;)it.lens[mt++]=8;for(;mt<256;)it.lens[mt++]=9;for(;mt<280;)it.lens[mt++]=7;for(;mt<288;)it.lens[mt++]=8;for(Ie(Oe,it.lens,0,288,tt,0,it.work,{bits:9}),mt=0;mt<32;)it.lens[mt++]=5;Ie(_e,it.lens,0,32,gt,0,it.work,{bits:5}),vt=!1}it.lencode=tt,it.lenbits=9,it.distcode=gt,it.distbits=5}function ht(it,mt,Ze,Ft){var Zt,zt=it.state;return zt.window===null&&(zt.wsize=1<<zt.wbits,zt.wnext=0,zt.whave=0,zt.window=new f.Buf8(zt.wsize)),Ft>=zt.wsize?(f.arraySet(zt.window,mt,Ze-zt.wsize,zt.wsize,0),zt.wnext=0,zt.whave=zt.wsize):(Ft<(Zt=zt.wsize-zt.wnext)&&(Zt=Ft),f.arraySet(zt.window,mt,Ze-Ft,Zt,zt.wnext),(Ft-=Zt)?(f.arraySet(zt.window,mt,Ze-Ft,Ft,0),zt.wnext=Ft,zt.whave=zt.wsize):(zt.wnext+=Zt,zt.wnext===zt.wsize&&(zt.wnext=0),zt.whave<zt.wsize&&(zt.whave+=Zt))),0}c.inflateReset=He,c.inflateReset2=Xe,c.inflateResetKeep=We,c.inflateInit=function(it){return ot(it,15)},c.inflateInit2=ot,c.inflate=function(it,mt){var Ze,Ft,Zt,zt,ur,bt,St,ct,dt,Bt,Ct,Kt,fr,Rr,cr,lt,yt,Xt,$t,dr,Je,At,Wt,xt,pt=0,Dt=new f.Buf8(4),er=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!it||!it.state||!it.output||!it.input&&it.avail_in!==0)return Ae;(Ze=it.state).mode===12&&(Ze.mode=13),ur=it.next_out,Zt=it.output,St=it.avail_out,zt=it.next_in,Ft=it.input,bt=it.avail_in,ct=Ze.hold,dt=Ze.bits,Bt=bt,Ct=St,At=De;e:for(;;)switch(Ze.mode){case qe:if(Ze.wrap===0){Ze.mode=13;break}for(;dt<16;){if(bt===0)break e;bt--,ct+=Ft[zt++]<<dt,dt+=8}if(2&Ze.wrap&&ct===35615){Dt[Ze.check=0]=255&ct,Dt[1]=ct>>>8&255,Ze.check=g(Ze.check,Dt,2,0),dt=ct=0,Ze.mode=2;break}if(Ze.flags=0,Ze.head&&(Ze.head.done=!1),!(1&Ze.wrap)||(((255&ct)<<8)+(ct>>8))%31){it.msg="incorrect header check",Ze.mode=30;break}if((15&ct)!=8){it.msg="unknown compression method",Ze.mode=30;break}if(dt-=4,Je=8+(15&(ct>>>=4)),Ze.wbits===0)Ze.wbits=Je;else if(Je>Ze.wbits){it.msg="invalid window size",Ze.mode=30;break}Ze.dmax=1<<Je,it.adler=Ze.check=1,Ze.mode=512&ct?10:12,dt=ct=0;break;case 2:for(;dt<16;){if(bt===0)break e;bt--,ct+=Ft[zt++]<<dt,dt+=8}if(Ze.flags=ct,(255&Ze.flags)!=8){it.msg="unknown compression method",Ze.mode=30;break}if(57344&Ze.flags){it.msg="unknown header flags set",Ze.mode=30;break}Ze.head&&(Ze.head.text=ct>>8&1),512&Ze.flags&&(Dt[0]=255&ct,Dt[1]=ct>>>8&255,Ze.check=g(Ze.check,Dt,2,0)),dt=ct=0,Ze.mode=3;case 3:for(;dt<32;){if(bt===0)break e;bt--,ct+=Ft[zt++]<<dt,dt+=8}Ze.head&&(Ze.head.time=ct),512&Ze.flags&&(Dt[0]=255&ct,Dt[1]=ct>>>8&255,Dt[2]=ct>>>16&255,Dt[3]=ct>>>24&255,Ze.check=g(Ze.check,Dt,4,0)),dt=ct=0,Ze.mode=4;case 4:for(;dt<16;){if(bt===0)break e;bt--,ct+=Ft[zt++]<<dt,dt+=8}Ze.head&&(Ze.head.xflags=255&ct,Ze.head.os=ct>>8),512&Ze.flags&&(Dt[0]=255&ct,Dt[1]=ct>>>8&255,Ze.check=g(Ze.check,Dt,2,0)),dt=ct=0,Ze.mode=5;case 5:if(1024&Ze.flags){for(;dt<16;){if(bt===0)break e;bt--,ct+=Ft[zt++]<<dt,dt+=8}Ze.length=ct,Ze.head&&(Ze.head.extra_len=ct),512&Ze.flags&&(Dt[0]=255&ct,Dt[1]=ct>>>8&255,Ze.check=g(Ze.check,Dt,2,0)),dt=ct=0}else Ze.head&&(Ze.head.extra=null);Ze.mode=6;case 6:if(1024&Ze.flags&&(bt<(Kt=Ze.length)&&(Kt=bt),Kt&&(Ze.head&&(Je=Ze.head.extra_len-Ze.length,Ze.head.extra||(Ze.head.extra=new Array(Ze.head.extra_len)),f.arraySet(Ze.head.extra,Ft,zt,Kt,Je)),512&Ze.flags&&(Ze.check=g(Ze.check,Ft,Kt,zt)),bt-=Kt,zt+=Kt,Ze.length-=Kt),Ze.length))break e;Ze.length=0,Ze.mode=7;case 7:if(2048&Ze.flags){if(bt===0)break e;for(Kt=0;Je=Ft[zt+Kt++],Ze.head&&Je&&Ze.length<65536&&(Ze.head.name+=String.fromCharCode(Je)),Je&&Kt<bt;);if(512&Ze.flags&&(Ze.check=g(Ze.check,Ft,Kt,zt)),bt-=Kt,zt+=Kt,Je)break e}else Ze.head&&(Ze.head.name=null);Ze.length=0,Ze.mode=8;case 8:if(4096&Ze.flags){if(bt===0)break e;for(Kt=0;Je=Ft[zt+Kt++],Ze.head&&Je&&Ze.length<65536&&(Ze.head.comment+=String.fromCharCode(Je)),Je&&Kt<bt;);if(512&Ze.flags&&(Ze.check=g(Ze.check,Ft,Kt,zt)),bt-=Kt,zt+=Kt,Je)break e}else Ze.head&&(Ze.head.comment=null);Ze.mode=9;case 9:if(512&Ze.flags){for(;dt<16;){if(bt===0)break e;bt--,ct+=Ft[zt++]<<dt,dt+=8}if(ct!==(65535&Ze.check)){it.msg="header crc mismatch",Ze.mode=30;break}dt=ct=0}Ze.head&&(Ze.head.hcrc=Ze.flags>>9&1,Ze.head.done=!0),it.adler=Ze.check=0,Ze.mode=12;break;case 10:for(;dt<32;){if(bt===0)break e;bt--,ct+=Ft[zt++]<<dt,dt+=8}it.adler=Ze.check=Ve(ct),dt=ct=0,Ze.mode=11;case 11:if(Ze.havedict===0)return it.next_out=ur,it.avail_out=St,it.next_in=zt,it.avail_in=bt,Ze.hold=ct,Ze.bits=dt,2;it.adler=Ze.check=1,Ze.mode=12;case 12:if(mt===5||mt===6)break e;case 13:if(Ze.last){ct>>>=7&dt,dt-=7&dt,Ze.mode=27;break}for(;dt<3;){if(bt===0)break e;bt--,ct+=Ft[zt++]<<dt,dt+=8}switch(Ze.last=1&ct,dt-=1,3&(ct>>>=1)){case 0:Ze.mode=14;break;case 1:if(rt(Ze),Ze.mode=20,mt!==6)break;ct>>>=2,dt-=2;break e;case 2:Ze.mode=17;break;case 3:it.msg="invalid block type",Ze.mode=30}ct>>>=2,dt-=2;break;case 14:for(ct>>>=7&dt,dt-=7&dt;dt<32;){if(bt===0)break e;bt--,ct+=Ft[zt++]<<dt,dt+=8}if((65535&ct)!=(ct>>>16^65535)){it.msg="invalid stored block lengths",Ze.mode=30;break}if(Ze.length=65535&ct,dt=ct=0,Ze.mode=15,mt===6)break e;case 15:Ze.mode=16;case 16:if(Kt=Ze.length){if(bt<Kt&&(Kt=bt),St<Kt&&(Kt=St),Kt===0)break e;f.arraySet(Zt,Ft,zt,Kt,ur),bt-=Kt,zt+=Kt,St-=Kt,ur+=Kt,Ze.length-=Kt;break}Ze.mode=12;break;case 17:for(;dt<14;){if(bt===0)break e;bt--,ct+=Ft[zt++]<<dt,dt+=8}if(Ze.nlen=257+(31&ct),ct>>>=5,dt-=5,Ze.ndist=1+(31&ct),ct>>>=5,dt-=5,Ze.ncode=4+(15&ct),ct>>>=4,dt-=4,286<Ze.nlen||30<Ze.ndist){it.msg="too many length or distance symbols",Ze.mode=30;break}Ze.have=0,Ze.mode=18;case 18:for(;Ze.have<Ze.ncode;){for(;dt<3;){if(bt===0)break e;bt--,ct+=Ft[zt++]<<dt,dt+=8}Ze.lens[er[Ze.have++]]=7&ct,ct>>>=3,dt-=3}for(;Ze.have<19;)Ze.lens[er[Ze.have++]]=0;if(Ze.lencode=Ze.lendyn,Ze.lenbits=7,Wt={bits:Ze.lenbits},At=Ie(0,Ze.lens,0,19,Ze.lencode,0,Ze.work,Wt),Ze.lenbits=Wt.bits,At){it.msg="invalid code lengths set",Ze.mode=30;break}Ze.have=0,Ze.mode=19;case 19:for(;Ze.have<Ze.nlen+Ze.ndist;){for(;lt=(pt=Ze.lencode[ct&(1<<Ze.lenbits)-1])>>>16&255,yt=65535&pt,!((cr=pt>>>24)<=dt);){if(bt===0)break e;bt--,ct+=Ft[zt++]<<dt,dt+=8}if(yt<16)ct>>>=cr,dt-=cr,Ze.lens[Ze.have++]=yt;else{if(yt===16){for(xt=cr+2;dt<xt;){if(bt===0)break e;bt--,ct+=Ft[zt++]<<dt,dt+=8}if(ct>>>=cr,dt-=cr,Ze.have===0){it.msg="invalid bit length repeat",Ze.mode=30;break}Je=Ze.lens[Ze.have-1],Kt=3+(3&ct),ct>>>=2,dt-=2}else if(yt===17){for(xt=cr+3;dt<xt;){if(bt===0)break e;bt--,ct+=Ft[zt++]<<dt,dt+=8}dt-=cr,Je=0,Kt=3+(7&(ct>>>=cr)),ct>>>=3,dt-=3}else{for(xt=cr+7;dt<xt;){if(bt===0)break e;bt--,ct+=Ft[zt++]<<dt,dt+=8}dt-=cr,Je=0,Kt=11+(127&(ct>>>=cr)),ct>>>=7,dt-=7}if(Ze.have+Kt>Ze.nlen+Ze.ndist){it.msg="invalid bit length repeat",Ze.mode=30;break}for(;Kt--;)Ze.lens[Ze.have++]=Je}}if(Ze.mode===30)break;if(Ze.lens[256]===0){it.msg="invalid code -- missing end-of-block",Ze.mode=30;break}if(Ze.lenbits=9,Wt={bits:Ze.lenbits},At=Ie(Oe,Ze.lens,0,Ze.nlen,Ze.lencode,0,Ze.work,Wt),Ze.lenbits=Wt.bits,At){it.msg="invalid literal/lengths set",Ze.mode=30;break}if(Ze.distbits=6,Ze.distcode=Ze.distdyn,Wt={bits:Ze.distbits},At=Ie(_e,Ze.lens,Ze.nlen,Ze.ndist,Ze.distcode,0,Ze.work,Wt),Ze.distbits=Wt.bits,At){it.msg="invalid distances set",Ze.mode=30;break}if(Ze.mode=20,mt===6)break e;case 20:Ze.mode=21;case 21:if(6<=bt&&258<=St){it.next_out=ur,it.avail_out=St,it.next_in=zt,it.avail_in=bt,Ze.hold=ct,Ze.bits=dt,Te(it,Ct),ur=it.next_out,Zt=it.output,St=it.avail_out,zt=it.next_in,Ft=it.input,bt=it.avail_in,ct=Ze.hold,dt=Ze.bits,Ze.mode===12&&(Ze.back=-1);break}for(Ze.back=0;lt=(pt=Ze.lencode[ct&(1<<Ze.lenbits)-1])>>>16&255,yt=65535&pt,!((cr=pt>>>24)<=dt);){if(bt===0)break e;bt--,ct+=Ft[zt++]<<dt,dt+=8}if(lt&&!(240&lt)){for(Xt=cr,$t=lt,dr=yt;lt=(pt=Ze.lencode[dr+((ct&(1<<Xt+$t)-1)>>Xt)])>>>16&255,yt=65535&pt,!(Xt+(cr=pt>>>24)<=dt);){if(bt===0)break e;bt--,ct+=Ft[zt++]<<dt,dt+=8}ct>>>=Xt,dt-=Xt,Ze.back+=Xt}if(ct>>>=cr,dt-=cr,Ze.back+=cr,Ze.length=yt,lt===0){Ze.mode=26;break}if(32&lt){Ze.back=-1,Ze.mode=12;break}if(64&lt){it.msg="invalid literal/length code",Ze.mode=30;break}Ze.extra=15&lt,Ze.mode=22;case 22:if(Ze.extra){for(xt=Ze.extra;dt<xt;){if(bt===0)break e;bt--,ct+=Ft[zt++]<<dt,dt+=8}Ze.length+=ct&(1<<Ze.extra)-1,ct>>>=Ze.extra,dt-=Ze.extra,Ze.back+=Ze.extra}Ze.was=Ze.length,Ze.mode=23;case 23:for(;lt=(pt=Ze.distcode[ct&(1<<Ze.distbits)-1])>>>16&255,yt=65535&pt,!((cr=pt>>>24)<=dt);){if(bt===0)break e;bt--,ct+=Ft[zt++]<<dt,dt+=8}if(!(240&lt)){for(Xt=cr,$t=lt,dr=yt;lt=(pt=Ze.distcode[dr+((ct&(1<<Xt+$t)-1)>>Xt)])>>>16&255,yt=65535&pt,!(Xt+(cr=pt>>>24)<=dt);){if(bt===0)break e;bt--,ct+=Ft[zt++]<<dt,dt+=8}ct>>>=Xt,dt-=Xt,Ze.back+=Xt}if(ct>>>=cr,dt-=cr,Ze.back+=cr,64&lt){it.msg="invalid distance code",Ze.mode=30;break}Ze.offset=yt,Ze.extra=15&lt,Ze.mode=24;case 24:if(Ze.extra){for(xt=Ze.extra;dt<xt;){if(bt===0)break e;bt--,ct+=Ft[zt++]<<dt,dt+=8}Ze.offset+=ct&(1<<Ze.extra)-1,ct>>>=Ze.extra,dt-=Ze.extra,Ze.back+=Ze.extra}if(Ze.offset>Ze.dmax){it.msg="invalid distance too far back",Ze.mode=30;break}Ze.mode=25;case 25:if(St===0)break e;if(Kt=Ct-St,Ze.offset>Kt){if((Kt=Ze.offset-Kt)>Ze.whave&&Ze.sane){it.msg="invalid distance too far back",Ze.mode=30;break}fr=Kt>Ze.wnext?(Kt-=Ze.wnext,Ze.wsize-Kt):Ze.wnext-Kt,Kt>Ze.length&&(Kt=Ze.length),Rr=Ze.window}else Rr=Zt,fr=ur-Ze.offset,Kt=Ze.length;for(St<Kt&&(Kt=St),St-=Kt,Ze.length-=Kt;Zt[ur++]=Rr[fr++],--Kt;);Ze.length===0&&(Ze.mode=21);break;case 26:if(St===0)break e;Zt[ur++]=Ze.length,St--,Ze.mode=21;break;case 27:if(Ze.wrap){for(;dt<32;){if(bt===0)break e;bt--,ct|=Ft[zt++]<<dt,dt+=8}if(Ct-=St,it.total_out+=Ct,Ze.total+=Ct,Ct&&(it.adler=Ze.check=Ze.flags?g(Ze.check,Zt,Ct,ur-Ct):m(Ze.check,Zt,Ct,ur-Ct)),Ct=St,(Ze.flags?ct:Ve(ct))!==Ze.check){it.msg="incorrect data check",Ze.mode=30;break}dt=ct=0}Ze.mode=28;case 28:if(Ze.wrap&&Ze.flags){for(;dt<32;){if(bt===0)break e;bt--,ct+=Ft[zt++]<<dt,dt+=8}if(ct!==(4294967295&Ze.total)){it.msg="incorrect length check",Ze.mode=30;break}dt=ct=0}Ze.mode=29;case 29:At=1;break e;case 30:At=-3;break e;case 31:return-4;case 32:default:return Ae}return it.next_out=ur,it.avail_out=St,it.next_in=zt,it.avail_in=bt,Ze.hold=ct,Ze.bits=dt,(Ze.wsize||Ct!==it.avail_out&&Ze.mode<30&&(Ze.mode<27||mt!==4))&&ht(it,it.output,it.next_out,Ct-it.avail_out)?(Ze.mode=31,-4):(Bt-=it.avail_in,Ct-=it.avail_out,it.total_in+=Bt,it.total_out+=Ct,Ze.total+=Ct,Ze.wrap&&Ct&&(it.adler=Ze.check=Ze.flags?g(Ze.check,Zt,Ct,it.next_out-Ct):m(Ze.check,Zt,Ct,it.next_out-Ct)),it.data_type=Ze.bits+(Ze.last?64:0)+(Ze.mode===12?128:0)+(Ze.mode===20||Ze.mode===15?256:0),(Bt==0&&Ct===0||mt===4)&&At===De&&(At=-5),At)},c.inflateEnd=function(it){if(!it||!it.state)return Ae;var mt=it.state;return mt.window&&(mt.window=null),it.state=null,De},c.inflateGetHeader=function(it,mt){var Ze;return it&&it.state&&2&(Ze=it.state).wrap?((Ze.head=mt).done=!1,De):Ae},c.inflateSetDictionary=function(it,mt){var Ze,Ft=mt.length;return it&&it.state?(Ze=it.state).wrap!==0&&Ze.mode!==11?Ae:Ze.mode===11&&m(1,mt,Ft,0)!==Ze.check?-3:ht(it,mt,Ft,Ft)?(Ze.mode=31,-4):(Ze.havedict=1,De):Ae},c.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,i,c){var f=e("../utils/common"),m=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],g=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Te=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Ie=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(Oe,_e,De,Ae,qe,Fe,Ne,Ve){var Ue,We,He,Xe,ot,tt,gt,vt,rt,ht=Ve.bits,it=0,mt=0,Ze=0,Ft=0,Zt=0,zt=0,ur=0,bt=0,St=0,ct=0,dt=null,Bt=0,Ct=new f.Buf16(16),Kt=new f.Buf16(16),fr=null,Rr=0;for(it=0;it<=15;it++)Ct[it]=0;for(mt=0;mt<Ae;mt++)Ct[_e[De+mt]]++;for(Zt=ht,Ft=15;1<=Ft&&Ct[Ft]===0;Ft--);if(Ft<Zt&&(Zt=Ft),Ft===0)return qe[Fe++]=20971520,qe[Fe++]=20971520,Ve.bits=1,0;for(Ze=1;Ze<Ft&&Ct[Ze]===0;Ze++);for(Zt<Ze&&(Zt=Ze),it=bt=1;it<=15;it++)if(bt<<=1,(bt-=Ct[it])<0)return-1;if(0<bt&&(Oe===0||Ft!==1))return-1;for(Kt[1]=0,it=1;it<15;it++)Kt[it+1]=Kt[it]+Ct[it];for(mt=0;mt<Ae;mt++)_e[De+mt]!==0&&(Ne[Kt[_e[De+mt]]++]=mt);if(tt=Oe===0?(dt=fr=Ne,19):Oe===1?(dt=m,Bt-=257,fr=g,Rr-=257,256):(dt=Te,fr=Ie,-1),it=Ze,ot=Fe,ur=mt=ct=0,He=-1,Xe=(St=1<<(zt=Zt))-1,Oe===1&&852<St||Oe===2&&592<St)return 1;for(;;){for(gt=it-ur,rt=Ne[mt]<tt?(vt=0,Ne[mt]):Ne[mt]>tt?(vt=fr[Rr+Ne[mt]],dt[Bt+Ne[mt]]):(vt=96,0),Ue=1<<it-ur,Ze=We=1<<zt;qe[ot+(ct>>ur)+(We-=Ue)]=gt<<24|vt<<16|rt|0,We!==0;);for(Ue=1<<it-1;ct&Ue;)Ue>>=1;if(Ue!==0?(ct&=Ue-1,ct+=Ue):ct=0,mt++,--Ct[it]==0){if(it===Ft)break;it=_e[De+Ne[mt]]}if(Zt<it&&(ct&Xe)!==He){for(ur===0&&(ur=Zt),ot+=Ze,bt=1<<(zt=it-ur);zt+ur<Ft&&!((bt-=Ct[zt+ur])<=0);)zt++,bt<<=1;if(St+=1<<zt,Oe===1&&852<St||Oe===2&&592<St)return 1;qe[He=ct&Xe]=Zt<<24|zt<<16|ot-Fe|0}}return ct!==0&&(qe[ot+ct]=it-ur<<24|64<<16|0),Ve.bits=Zt,0}},{"../utils/common":41}],51:[function(e,i,c){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,i,c){var f=e("../utils/common"),m=0,g=1;function Te(pt){for(var Dt=pt.length;0<=--Dt;)pt[Dt]=0}var Ie=0,Oe=29,_e=256,De=_e+1+Oe,Ae=30,qe=19,Fe=2*De+1,Ne=15,Ve=16,Ue=7,We=256,He=16,Xe=17,ot=18,tt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],gt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],vt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],rt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ht=new Array(2*(De+2));Te(ht);var it=new Array(2*Ae);Te(it);var mt=new Array(512);Te(mt);var Ze=new Array(256);Te(Ze);var Ft=new Array(Oe);Te(Ft);var Zt,zt,ur,bt=new Array(Ae);function St(pt,Dt,er,nt,ze){this.static_tree=pt,this.extra_bits=Dt,this.extra_base=er,this.elems=nt,this.max_length=ze,this.has_stree=pt&&pt.length}function ct(pt,Dt){this.dyn_tree=pt,this.max_code=0,this.stat_desc=Dt}function dt(pt){return pt<256?mt[pt]:mt[256+(pt>>>7)]}function Bt(pt,Dt){pt.pending_buf[pt.pending++]=255&Dt,pt.pending_buf[pt.pending++]=Dt>>>8&255}function Ct(pt,Dt,er){pt.bi_valid>Ve-er?(pt.bi_buf|=Dt<<pt.bi_valid&65535,Bt(pt,pt.bi_buf),pt.bi_buf=Dt>>Ve-pt.bi_valid,pt.bi_valid+=er-Ve):(pt.bi_buf|=Dt<<pt.bi_valid&65535,pt.bi_valid+=er)}function Kt(pt,Dt,er){Ct(pt,er[2*Dt],er[2*Dt+1])}function fr(pt,Dt){for(var er=0;er|=1&pt,pt>>>=1,er<<=1,0<--Dt;);return er>>>1}function Rr(pt,Dt,er){var nt,ze,Ge=new Array(Ne+1),ut=0;for(nt=1;nt<=Ne;nt++)Ge[nt]=ut=ut+er[nt-1]<<1;for(ze=0;ze<=Dt;ze++){var Et=pt[2*ze+1];Et!==0&&(pt[2*ze]=fr(Ge[Et]++,Et))}}function cr(pt){var Dt;for(Dt=0;Dt<De;Dt++)pt.dyn_ltree[2*Dt]=0;for(Dt=0;Dt<Ae;Dt++)pt.dyn_dtree[2*Dt]=0;for(Dt=0;Dt<qe;Dt++)pt.bl_tree[2*Dt]=0;pt.dyn_ltree[2*We]=1,pt.opt_len=pt.static_len=0,pt.last_lit=pt.matches=0}function lt(pt){8<pt.bi_valid?Bt(pt,pt.bi_buf):0<pt.bi_valid&&(pt.pending_buf[pt.pending++]=pt.bi_buf),pt.bi_buf=0,pt.bi_valid=0}function yt(pt,Dt,er,nt){var ze=2*Dt,Ge=2*er;return pt[ze]<pt[Ge]||pt[ze]===pt[Ge]&&nt[Dt]<=nt[er]}function Xt(pt,Dt,er){for(var nt=pt.heap[er],ze=er<<1;ze<=pt.heap_len&&(ze<pt.heap_len&&yt(Dt,pt.heap[ze+1],pt.heap[ze],pt.depth)&&ze++,!yt(Dt,nt,pt.heap[ze],pt.depth));)pt.heap[er]=pt.heap[ze],er=ze,ze<<=1;pt.heap[er]=nt}function $t(pt,Dt,er){var nt,ze,Ge,ut,Et=0;if(pt.last_lit!==0)for(;nt=pt.pending_buf[pt.d_buf+2*Et]<<8|pt.pending_buf[pt.d_buf+2*Et+1],ze=pt.pending_buf[pt.l_buf+Et],Et++,nt===0?Kt(pt,ze,Dt):(Kt(pt,(Ge=Ze[ze])+_e+1,Dt),(ut=tt[Ge])!==0&&Ct(pt,ze-=Ft[Ge],ut),Kt(pt,Ge=dt(--nt),er),(ut=gt[Ge])!==0&&Ct(pt,nt-=bt[Ge],ut)),Et<pt.last_lit;);Kt(pt,We,Dt)}function dr(pt,Dt){var er,nt,ze,Ge=Dt.dyn_tree,ut=Dt.stat_desc.static_tree,Et=Dt.stat_desc.has_stree,It=Dt.stat_desc.elems,jt=-1;for(pt.heap_len=0,pt.heap_max=Fe,er=0;er<It;er++)Ge[2*er]!==0?(pt.heap[++pt.heap_len]=jt=er,pt.depth[er]=0):Ge[2*er+1]=0;for(;pt.heap_len<2;)Ge[2*(ze=pt.heap[++pt.heap_len]=jt<2?++jt:0)]=1,pt.depth[ze]=0,pt.opt_len--,Et&&(pt.static_len-=ut[2*ze+1]);for(Dt.max_code=jt,er=pt.heap_len>>1;1<=er;er--)Xt(pt,Ge,er);for(ze=It;er=pt.heap[1],pt.heap[1]=pt.heap[pt.heap_len--],Xt(pt,Ge,1),nt=pt.heap[1],pt.heap[--pt.heap_max]=er,pt.heap[--pt.heap_max]=nt,Ge[2*ze]=Ge[2*er]+Ge[2*nt],pt.depth[ze]=(pt.depth[er]>=pt.depth[nt]?pt.depth[er]:pt.depth[nt])+1,Ge[2*er+1]=Ge[2*nt+1]=ze,pt.heap[1]=ze++,Xt(pt,Ge,1),2<=pt.heap_len;);pt.heap[--pt.heap_max]=pt.heap[1],function(tr,Sr){var Lr,Pr,Er,gr,Qr,Cr,sn=Sr.dyn_tree,Pn=Sr.max_code,Un=Sr.stat_desc.static_tree,wr=Sr.stat_desc.has_stree,Jt=Sr.stat_desc.extra_bits,yr=Sr.stat_desc.extra_base,at=Sr.stat_desc.max_length,Or=0;for(gr=0;gr<=Ne;gr++)tr.bl_count[gr]=0;for(sn[2*tr.heap[tr.heap_max]+1]=0,Lr=tr.heap_max+1;Lr<Fe;Lr++)at<(gr=sn[2*sn[2*(Pr=tr.heap[Lr])+1]+1]+1)&&(gr=at,Or++),sn[2*Pr+1]=gr,Pn<Pr||(tr.bl_count[gr]++,Qr=0,yr<=Pr&&(Qr=Jt[Pr-yr]),Cr=sn[2*Pr],tr.opt_len+=Cr*(gr+Qr),wr&&(tr.static_len+=Cr*(Un[2*Pr+1]+Qr)));if(Or!==0){do{for(gr=at-1;tr.bl_count[gr]===0;)gr--;tr.bl_count[gr]--,tr.bl_count[gr+1]+=2,tr.bl_count[at]--,Or-=2}while(0<Or);for(gr=at;gr!==0;gr--)for(Pr=tr.bl_count[gr];Pr!==0;)Pn<(Er=tr.heap[--Lr])||(sn[2*Er+1]!==gr&&(tr.opt_len+=(gr-sn[2*Er+1])*sn[2*Er],sn[2*Er+1]=gr),Pr--)}}(pt,Dt),Rr(Ge,jt,pt.bl_count)}function Je(pt,Dt,er){var nt,ze,Ge=-1,ut=Dt[1],Et=0,It=7,jt=4;for(ut===0&&(It=138,jt=3),Dt[2*(er+1)+1]=65535,nt=0;nt<=er;nt++)ze=ut,ut=Dt[2*(nt+1)+1],++Et<It&&ze===ut||(Et<jt?pt.bl_tree[2*ze]+=Et:ze!==0?(ze!==Ge&&pt.bl_tree[2*ze]++,pt.bl_tree[2*He]++):Et<=10?pt.bl_tree[2*Xe]++:pt.bl_tree[2*ot]++,Ge=ze,jt=(Et=0)===ut?(It=138,3):ze===ut?(It=6,3):(It=7,4))}function At(pt,Dt,er){var nt,ze,Ge=-1,ut=Dt[1],Et=0,It=7,jt=4;for(ut===0&&(It=138,jt=3),nt=0;nt<=er;nt++)if(ze=ut,ut=Dt[2*(nt+1)+1],!(++Et<It&&ze===ut)){if(Et<jt)for(;Kt(pt,ze,pt.bl_tree),--Et!=0;);else ze!==0?(ze!==Ge&&(Kt(pt,ze,pt.bl_tree),Et--),Kt(pt,He,pt.bl_tree),Ct(pt,Et-3,2)):Et<=10?(Kt(pt,Xe,pt.bl_tree),Ct(pt,Et-3,3)):(Kt(pt,ot,pt.bl_tree),Ct(pt,Et-11,7));Ge=ze,jt=(Et=0)===ut?(It=138,3):ze===ut?(It=6,3):(It=7,4)}}Te(bt);var Wt=!1;function xt(pt,Dt,er,nt){Ct(pt,(Ie<<1)+(nt?1:0),3),function(ze,Ge,ut,Et){lt(ze),Et&&(Bt(ze,ut),Bt(ze,~ut)),f.arraySet(ze.pending_buf,ze.window,Ge,ut,ze.pending),ze.pending+=ut}(pt,Dt,er,!0)}c._tr_init=function(pt){Wt||(function(){var Dt,er,nt,ze,Ge,ut=new Array(Ne+1);for(ze=nt=0;ze<Oe-1;ze++)for(Ft[ze]=nt,Dt=0;Dt<1<<tt[ze];Dt++)Ze[nt++]=ze;for(Ze[nt-1]=ze,ze=Ge=0;ze<16;ze++)for(bt[ze]=Ge,Dt=0;Dt<1<<gt[ze];Dt++)mt[Ge++]=ze;for(Ge>>=7;ze<Ae;ze++)for(bt[ze]=Ge<<7,Dt=0;Dt<1<<gt[ze]-7;Dt++)mt[256+Ge++]=ze;for(er=0;er<=Ne;er++)ut[er]=0;for(Dt=0;Dt<=143;)ht[2*Dt+1]=8,Dt++,ut[8]++;for(;Dt<=255;)ht[2*Dt+1]=9,Dt++,ut[9]++;for(;Dt<=279;)ht[2*Dt+1]=7,Dt++,ut[7]++;for(;Dt<=287;)ht[2*Dt+1]=8,Dt++,ut[8]++;for(Rr(ht,De+1,ut),Dt=0;Dt<Ae;Dt++)it[2*Dt+1]=5,it[2*Dt]=fr(Dt,5);Zt=new St(ht,tt,_e+1,De,Ne),zt=new St(it,gt,0,Ae,Ne),ur=new St(new Array(0),vt,0,qe,Ue)}(),Wt=!0),pt.l_desc=new ct(pt.dyn_ltree,Zt),pt.d_desc=new ct(pt.dyn_dtree,zt),pt.bl_desc=new ct(pt.bl_tree,ur),pt.bi_buf=0,pt.bi_valid=0,cr(pt)},c._tr_stored_block=xt,c._tr_flush_block=function(pt,Dt,er,nt){var ze,Ge,ut=0;0<pt.level?(pt.strm.data_type===2&&(pt.strm.data_type=function(Et){var It,jt=4093624447;for(It=0;It<=31;It++,jt>>>=1)if(1&jt&&Et.dyn_ltree[2*It]!==0)return m;if(Et.dyn_ltree[18]!==0||Et.dyn_ltree[20]!==0||Et.dyn_ltree[26]!==0)return g;for(It=32;It<_e;It++)if(Et.dyn_ltree[2*It]!==0)return g;return m}(pt)),dr(pt,pt.l_desc),dr(pt,pt.d_desc),ut=function(Et){var It;for(Je(Et,Et.dyn_ltree,Et.l_desc.max_code),Je(Et,Et.dyn_dtree,Et.d_desc.max_code),dr(Et,Et.bl_desc),It=qe-1;3<=It&&Et.bl_tree[2*rt[It]+1]===0;It--);return Et.opt_len+=3*(It+1)+5+5+4,It}(pt),ze=pt.opt_len+3+7>>>3,(Ge=pt.static_len+3+7>>>3)<=ze&&(ze=Ge)):ze=Ge=er+5,er+4<=ze&&Dt!==-1?xt(pt,Dt,er,nt):pt.strategy===4||Ge===ze?(Ct(pt,2+(nt?1:0),3),$t(pt,ht,it)):(Ct(pt,4+(nt?1:0),3),function(Et,It,jt,tr){var Sr;for(Ct(Et,It-257,5),Ct(Et,jt-1,5),Ct(Et,tr-4,4),Sr=0;Sr<tr;Sr++)Ct(Et,Et.bl_tree[2*rt[Sr]+1],3);At(Et,Et.dyn_ltree,It-1),At(Et,Et.dyn_dtree,jt-1)}(pt,pt.l_desc.max_code+1,pt.d_desc.max_code+1,ut+1),$t(pt,pt.dyn_ltree,pt.dyn_dtree)),cr(pt),nt&&lt(pt)},c._tr_tally=function(pt,Dt,er){return pt.pending_buf[pt.d_buf+2*pt.last_lit]=Dt>>>8&255,pt.pending_buf[pt.d_buf+2*pt.last_lit+1]=255&Dt,pt.pending_buf[pt.l_buf+pt.last_lit]=255&er,pt.last_lit++,Dt===0?pt.dyn_ltree[2*er]++:(pt.matches++,Dt--,pt.dyn_ltree[2*(Ze[er]+_e+1)]++,pt.dyn_dtree[2*dt(Dt)]++),pt.last_lit===pt.lit_bufsize-1},c._tr_align=function(pt){Ct(pt,2,3),Kt(pt,We,ht),function(Dt){Dt.bi_valid===16?(Bt(Dt,Dt.bi_buf),Dt.bi_buf=0,Dt.bi_valid=0):8<=Dt.bi_valid&&(Dt.pending_buf[Dt.pending++]=255&Dt.bi_buf,Dt.bi_buf>>=8,Dt.bi_valid-=8)}(pt)}},{"../utils/common":41}],53:[function(e,i,c){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,i,c){(function(f){(function(m,g){if(!m.setImmediate){var Te,Ie,Oe,_e,De=1,Ae={},qe=!1,Fe=m.document,Ne=Object.getPrototypeOf&&Object.getPrototypeOf(m);Ne=Ne&&Ne.setTimeout?Ne:m,Te={}.toString.call(m.process)==="[object process]"?function(He){process.nextTick(function(){Ue(He)})}:function(){if(m.postMessage&&!m.importScripts){var He=!0,Xe=m.onmessage;return m.onmessage=function(){He=!1},m.postMessage("","*"),m.onmessage=Xe,He}}()?(_e="setImmediate$"+Math.random()+"$",m.addEventListener?m.addEventListener("message",We,!1):m.attachEvent("onmessage",We),function(He){m.postMessage(_e+He,"*")}):m.MessageChannel?((Oe=new MessageChannel).port1.onmessage=function(He){Ue(He.data)},function(He){Oe.port2.postMessage(He)}):Fe&&"onreadystatechange"in Fe.createElement("script")?(Ie=Fe.documentElement,function(He){var Xe=Fe.createElement("script");Xe.onreadystatechange=function(){Ue(He),Xe.onreadystatechange=null,Ie.removeChild(Xe),Xe=null},Ie.appendChild(Xe)}):function(He){setTimeout(Ue,0,He)},Ne.setImmediate=function(He){typeof He!="function"&&(He=new Function(""+He));for(var Xe=new Array(arguments.length-1),ot=0;ot<Xe.length;ot++)Xe[ot]=arguments[ot+1];var tt={callback:He,args:Xe};return Ae[De]=tt,Te(De),De++},Ne.clearImmediate=Ve}function Ve(He){delete Ae[He]}function Ue(He){if(qe)setTimeout(Ue,0,He);else{var Xe=Ae[He];if(Xe){qe=!0;try{(function(ot){var tt=ot.callback,gt=ot.args;switch(gt.length){case 0:tt();break;case 1:tt(gt[0]);break;case 2:tt(gt[0],gt[1]);break;case 3:tt(gt[0],gt[1],gt[2]);break;default:tt.apply(g,gt)}})(Xe)}finally{Ve(He),qe=!1}}}}function We(He){He.source===m&&typeof He.data=="string"&&He.data.indexOf(_e)===0&&Ue(+He.data.slice(_e.length))}})(typeof self>"u"?f===void 0?this:f:self)}).call(this,typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(jszip_min);var jszip_minExports=jszip_min.exports;const _0x2046f4=getDefaultExportFromCjs$1(jszip_minExports),_0x17f984=_0x2b30;function _0x2b30(h,o){const e=_0x42eb();return _0x2b30=function(i,c){return i=i-133,e[i]},_0x2b30(h,o)}(function(h,o){const e=_0x2b30,i=h();for(;[];)try{if(-parseInt(e(134))/1*(parseInt(e(151))/2)+-parseInt(e(154))/3+-parseInt(e(148))/4+parseInt(e(135))/5*(parseInt(e(139))/6)+parseInt(e(158))/7+-parseInt(e(133))/8*(-parseInt(e(145))/9)+-parseInt(e(161))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x42eb,125552);function createGuiButton(h,o,e,i,c=!![],f,m=_0x17f984(137)){const g=createButtonElement(h,o,e),Te=f||"guiBtn-pressed";addButtonToContainer(g,m),setupButtonInteractions(g,i,c,Te)}function createButtonElement(h,o,e){const i=_0x17f984,c=document.createElement(i(162));return c.id=h,c[i(160)]="&nbsp;"+o+"&nbsp;",c[i(147)](i(149),e),c[i(140)].originalText=i(141)+o+i(141),c[i(138)][i(164)]("clabel"),c}function addButtonToContainer(h,o){const e=_0x17f984;document.getElementById(o)[e(153)](h)}function setupButtonInteractions(h,o,e,i){const c=_0x17f984;h[c(140)][c(143)]=c(136);function f(){const m=c;return!h[m(138)][m(142)]("disabled")}h.addEventListener("pointerdown",m=>handlePointerDown(m,h,f,e,i)),h[c(146)](c(144),m=>handlePointerMove(m,h,f,e,i)),h[c(146)]("pointercancel",m=>handlePointerCancel(m,h,f,e,i)),h[c(146)](c(157),m=>handlePointerUp(m,h,f,o,e,i))}function handlePointerDown(h,o,e,i,c){const f=_0x17f984;h[f(150)](),e()&&(o[f(140)].isSelected="true",i&&o[f(138)][f(164)](c))}function handlePointerMove(h,o,e,i,c){const f=_0x17f984;if(h[f(150)](),e()){const m=document.elementFromPoint(h[f(155)],h[f(163)]);updateSelectionOnMove(m,h[f(156)],o,i,c)}}function handlePointerCancel(h,o,e,i,c){const f=_0x17f984;h[f(150)](),e()&&(o.dataset.isSelected=f(136),i&&o.classList.remove(c))}function handlePointerUp(h,o,e,i,c,f){const m=_0x17f984;h[m(150)](),e()&&o[m(140)].isSelected==="true"&&(i(),c&&o[m(138)][m(152)](f)),o[m(140)][m(143)]=m(136)}function _0x42eb(){const h=["1285312tCaKji","true","innerHTML","90850FPhRgz","span","clientY","add","8zMslim","269tyHEhQ","77465lOKIMr","false","menu-button-strip","classList","84ZvOBKV","dataset","&nbsp;","contains","isSelected","pointermove","946854mCXPmb","addEventListener","setAttribute","192376LxJpxN","data-shortcut","preventDefault","872jRPXOg","remove","appendChild","617127kmeZtz","clientX","target","pointerup"];return _0x42eb=function(){return h},_0x42eb()}function updateSelectionOnMove(h,o,e,i,c){const f=_0x17f984;h!==o?e[f(140)][f(143)]===f(159)&&(e.dataset.isSelected=f(136),i&&e[f(138)].remove(c)):e.dataset[f(143)]===f(136)&&(e.dataset.isSelected=f(159),i&&e[f(138)][f(164)](c))}function _0xa0a4(h,o){var e=_0x3553();return _0xa0a4=function(i,c){i=i-150;var f=e[i];return f},_0xa0a4(h,o)}var _0x4d1b31=_0xa0a4;(function(h,o){for(var e=_0xa0a4,i=h();[];)try{var c=-parseInt(e(186))/1*(parseInt(e(161))/2)+parseInt(e(169))/3*(-parseInt(e(175))/4)+-parseInt(e(184))/5+-parseInt(e(150))/6*(-parseInt(e(176))/7)+parseInt(e(171))/8*(parseInt(e(163))/9)+-parseInt(e(173))/10+-parseInt(e(166))/11*(-parseInt(e(151))/12);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x3553,723757);var rc,gl;class SingleTouchButton{constructor(o,e,i,c,f,m=_0x4d1b31(178)){Nt(this,rc);var g=_0x4d1b31,Te=sr(this,rc,gl).call(this,e,i,c,m);o[g(155)](Te),this.el=Te,this.el[g(160)][g(183)]=QJ_LABEL_COLOR,this[g(156)]=![],this[g(170)]=f;var Ie=this;Te[g(153)](g(168),function(Oe){var _e=g;Ie[_e(179)](Oe,!![])}),Te[g(153)]("touchmove",function(Oe){Ie.touch(Oe,!![])}),Te[g(153)]("touchend",function(Oe){var _e=g;Oe.preventDefault(),Ie[_e(179)](Oe,![])})}[_0x4d1b31(179)](o,e){var i=_0x4d1b31,c=![];e&&(c=!![]),c!=this[i(156)]&&(this[i(156)]=c,this.elListener[i(158)](this[i(156)]),this.el[i(160)][i(167)]=this.state?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR)}}rc=new WeakSet,gl=function(o,e,i,c=_0x4d1b31(178)){var f=_0x4d1b31,m=document.createElement(f(164));return m[f(181)][f(182)](f(174)),m[f(187)]=o,e!=null&&(m[f(160)][f(185)]=e),i!=null&&(m.id=i),m[f(160)][f(162)]=QJ_IDLE_COLOR,m.style[f(172)]=c,m.style[f(157)]=f(152),m.style[f(177)]=f(180),m[f(160)][f(183)]=f(165),m[f(160)][f(154)]="bold",m[f(160)].justifyContent=f(180),m.style.pointerEvents=f(159),m};function _0x3553(){var h=["gridArea","10CMkhev","innerHTML","54HhrwGk","12VzekkL","flex","addEventListener","fontWeight","appendChild","state","display","trigger","auto","style","232514uNNFyU","backgroundColor","7604010GcdmCr","div","white","30377567QBgHhF","background","touchstart","51mwqCov","elListener","8HTpJxZ","borderRadius","10862450TdoYQa","fast-button","304092gaeTLU","1112566SxsTXj","alignItems","12px","touch","center","classList","add","color","3859830qMgQyI"];return _0x3553=function(){return h},_0x3553()}function _0x7652(h,o){var e=_0x2159();return _0x7652=function(i,c){i=i-155;var f=e[i];return f},_0x7652(h,o)}var _0x176e47=_0x7652;(function(h,o){for(var e=_0x7652,i=h();[];)try{var c=parseInt(e(164))/1+parseInt(e(163))/2*(-parseInt(e(158))/3)+parseInt(e(157))/4*(parseInt(e(155))/5)+parseInt(e(160))/6+-parseInt(e(156))/7*(-parseInt(e(165))/8)+parseInt(e(162))/9+-parseInt(e(159))/10;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x2159,759386);class TouchButtonListener{[_0x176e47(161)](o){}}function _0x2159(){var h=["24ogpNvk","165bjbQwU","720867YChury","166132uXEpZy","3131229GbJzAP","14989130EYVgMA","690948weWPus","trigger","5964219KcMLgl","2QCuBdG","844661pyWmxz"];return _0x2159=function(){return h},_0x2159()}var _0x5f4a6b=_0x7ad0;(function(h,o){for(var e=_0x7ad0,i=h();[];)try{var c=parseInt(e(314))/1*(parseInt(e(324))/2)+parseInt(e(313))/3+parseInt(e(321))/4*(-parseInt(e(318))/5)+-parseInt(e(316))/6+-parseInt(e(327))/7*(parseInt(e(319))/8)+-parseInt(e(322))/9+-parseInt(e(325))/10*(-parseInt(e(323))/11);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0xb67a,717063);function _0xb67a(){var h=["2576736jnqiDx","2737229uafxxJ","2785262ggSpzR","10OpOVCD","bind","2254kphsIG","trigger","2338338LehUqc","1OWobUb","pressUp","2664702UVKfvF","pressDown","61260aDjxGO","5312UMCMQu","input","248GkMPfM"];return _0xb67a=function(){return h},_0xb67a()}function _0x7ad0(h,o){var e=_0xb67a();return _0x7ad0=function(i,c){i=i-312;var f=e[i];return f},_0x7ad0(h,o)}var Ro;class SingleTouchButtonJoyListener extends TouchButtonListener{constructor(e,i){var c=_0x7ad0;super();Nt(this,Ro,void 0);nr(this,Ro,e),this[c(320)]=i,this[c(312)]=this[c(312)][c(326)](this)}[_0x5f4a6b(312)](e){var i=_0x5f4a6b;e?Ke(this,Ro)[i(317)](this[i(320)]):Ke(this,Ro)[i(315)](this[i(320)])}}Ro=new WeakMap;function _0x36db(){const h=["dispatchEvent","8vLvjKw","25313760HxdxvI","trigger","3985710JYTzUM","471252XFGerM","1746040TYhfhy","1008UxYfFa","8824EArNWU","bind","659124EgSuNJ","1468068ncfENE"];return _0x36db=function(){return h},_0x36db()}function _0x600f(h,o){const e=_0x36db();return _0x600f=function(i,c){return i=i-385,e[i]},_0x600f(h,o)}(function(h,o){const e=_0x600f,i=h();for(;[];)try{if(parseInt(e(389))/1+parseInt(e(395))/2+parseInt(e(388))/3+-parseInt(e(385))/4*(-parseInt(e(390))/5)+parseInt(e(394))/6+parseInt(e(391))/7*(parseInt(e(392))/8)+-parseInt(e(386))/9===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x36db,688318);var Fo,Bo,Po,aa,nc,yl,ic,bl;class SingleTouchButtonKbListener extends TouchButtonListener{constructor(e,i,c,f=document){const m=_0x600f;super();Nt(this,nc);Nt(this,ic);Nt(this,Fo,void 0);Nt(this,Bo,void 0);Nt(this,Po,void 0);Nt(this,aa,void 0);nr(this,Bo,e),nr(this,Po,i),nr(this,aa,c),nr(this,Fo,f),this[m(387)]=this[m(387)][m(393)](this)}trigger(e){e?sr(this,nc,yl).call(this):sr(this,ic,bl).call(this)}}Fo=new WeakMap,Bo=new WeakMap,Po=new WeakMap,aa=new WeakMap,nc=new WeakSet,yl=function(){const e=_0x600f;let i=new KeyboardEvent("keydown",{key:Ke(this,Bo),code:Ke(this,Po),keyCode:Ke(this,aa),charCode:Ke(this,aa),bubbles:!![],cancelable:!![]});Ke(this,Fo)[e(396)](i)},ic=new WeakSet,bl=function(){const e=_0x600f;let i=new KeyboardEvent("keyup",{key:Ke(this,Bo),code:Ke(this,Po),keyCode:Ke(this,aa),charCode:Ke(this,aa),bubbles:!![],cancelable:!![]});Ke(this,Fo)[e(396)](i)};var _0x18c78f=_0x40f6;(function(h,o){for(var e=_0x40f6,i=h();[];)try{var c=-parseInt(e(235))/1*(-parseInt(e(228))/2)+parseInt(e(227))/3+parseInt(e(211))/4+-parseInt(e(232))/5+parseInt(e(214))/6*(parseInt(e(251))/7)+parseInt(e(260))/8*(-parseInt(e(252))/9)+-parseInt(e(247))/10*(parseInt(e(230))/11);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x4166,935986);function _0x4166(){var h=["createElement","touch","12px","left","gap","style","div","center","4480269krqvbP","1076fQWllS","bold","77zqRlvV","flex","4593035TtNiDF","el1","textContent","1882hCvjgV","state","alignItems","getBoundingClientRect","isHorizontal","100%","height","touchend","trigger","backgroundColor","width","borderRadius","528810tRqvKH","changedTouches","touchmove","add","133BbhoQD","64836iZyCsz","auto","pointerEvents","classList","offsetHeight","addEventListener","appendChild","column","1408XesSBJ","allowSimultaneous","container","offsetWidth","el2","display","3753936hNhADG","elListener","justifyContent","15234QhhDir","top","preventDefault","color","clientY"];return _0x4166=function(){return h},_0x4166()}function _0x40f6(h,o){var e=_0x4166();return _0x40f6=function(i,c){i=i-206;var f=e[i];return f},_0x40f6(h,o)}class DualTouchButton{constructor(o,e,i,c,f,m,g,Te=_0x18c78f(221),Ie=![]){var Oe=_0x18c78f,_e=document[Oe(219)](Oe(225));_e[Oe(255)][Oe(250)]("fast-button"),f!=null&&(_e[Oe(224)].gridArea=f),m!=null&&(_e.id=m),_e.style[Oe(210)]="flex",!e&&(_e[Oe(224)].flexDirection=Oe(259)),_e[Oe(224)][Oe(237)]=Oe(226),_e[Oe(224)].fontWeight=Oe(229),_e[Oe(224)][Oe(213)]="center",_e[Oe(224)][Oe(223)]="2px";var De=document[Oe(219)](Oe(225)),Ae=document[Oe(219)](Oe(225));De[Oe(224)].borderRadius=Te,Ae[Oe(224)][Oe(246)]=Te,De[Oe(224)].pointerEvents="auto",Ae[Oe(224)][Oe(254)]=Oe(253),De.style[Oe(217)]=QJ_LABEL_COLOR,Ae[Oe(224)].color=QJ_LABEL_COLOR,De[Oe(224)][Oe(244)]=QJ_IDLE_COLOR,Ae[Oe(224)].backgroundColor=QJ_IDLE_COLOR,De[Oe(224)][Oe(245)]="100%",Ae[Oe(224)].width=Oe(240),De[Oe(224)][Oe(241)]=Oe(240),Ae[Oe(224)][Oe(241)]=Oe(240),De[Oe(224)][Oe(210)]=Oe(231),De[Oe(224)][Oe(213)]="center",De[Oe(224)].alignItems=Oe(226),Ae.style[Oe(210)]=Oe(231),Ae.style[Oe(213)]="center",Ae.style[Oe(237)]=Oe(226),this[Oe(233)]=De,this[Oe(209)]=Ae,o.appendChild(_e),_e[Oe(258)](De),_e[Oe(258)](Ae),this[Oe(207)]=_e,this[Oe(239)]=e,this.elListener=g,this[Oe(236)]=0,this[Oe(206)]=Ie,this.simultaneousTimeout=null;var qe=this;this[Oe(233)]!=null&&(this[Oe(233)][Oe(234)]=i),this[Oe(209)]!=null&&(this[Oe(209)].textContent=c),this[Oe(207)].addEventListener("touchstart",function(Fe){var Ne=Oe;qe[Ne(220)](Fe,!![])}),this[Oe(207)].addEventListener(Oe(249),function(Fe){var Ne=Oe;qe[Ne(220)](Fe,!![])}),this.container[Oe(257)](Oe(242),function(Fe){var Ne=Oe;Fe[Ne(216)](),qe.touch(Fe,![])})}touch(o,e){var i=_0x18c78f,c=0;if(e){if(this[i(239)])var f=this.container[i(208)],m=o[i(248)][0].clientX-this[i(207)][i(238)]()[i(222)];else var f=this[i(207)][i(256)],m=o.changedTouches[0][i(218)]-this[i(207)][i(238)]()[i(215)];m<f/2?c=1:c=2}else c=0;c!=this[i(236)]&&(this[i(236)]=c,this[i(212)][i(243)](this.state),this.el1[i(224)].background=this[i(236)]==1?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this[i(209)].style.background=this.state==2?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR)}}var _0x3d1dc5=_0x2097;(function(h,o){for(var e=_0x2097,i=h();[];)try{var c=parseInt(e(483))/1+parseInt(e(493))/2*(-parseInt(e(490))/3)+parseInt(e(495))/4+parseInt(e(485))/5*(parseInt(e(482))/6)+-parseInt(e(491))/7+parseInt(e(486))/8*(-parseInt(e(488))/9)+parseInt(e(480))/10*(-parseInt(e(487))/11);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x3d78,155301);function _0x2097(h,o){var e=_0x3d78();return _0x2097=function(i,c){i=i-480;var f=e[i];return f},_0x2097(h,o)}function _0x3d78(){var h=["pressDown","1183812cBOHHr","input1","trigger","1545250VnygSf","bind","41046qcBcld","107266xqTRzr","input2","140MOxXLw","8LargKm","11sypYcn","2078379uOAybS","previous","498OHFpiZ","105000vcbCKU","pressUp","470OTEGkp"];return _0x3d78=function(){return h},_0x3d78()}var qo;class DualTouchButtonJoyListener extends TouchButtonListener{constructor(e,i,c){var f=_0x2097;super();Nt(this,qo,void 0);nr(this,qo,e),this[f(496)]=i,this[f(484)]=c,this[f(489)]=0,this.trigger=this[f(497)][f(481)](this)}[_0x3d1dc5(497)](e){var i=_0x3d1dc5;e>0&&Ke(this,qo)[i(494)](e==1?this[i(496)]:this[i(484)]),this[i(489)]>0&&Ke(this,qo)[i(492)](this[i(489)]==1?this[i(496)]:this[i(484)]),this.previous=e}}qo=new WeakMap;function _0x7b04(h,o){var e=_0x7672();return _0x7b04=function(i,c){i=i-449;var f=e[i];return f},_0x7b04(h,o)}var _0x3b1b11=_0x7b04;(function(h,o){for(var e=_0x7b04,i=h();[];)try{var c=parseInt(e(454))/1*(-parseInt(e(479))/2)+parseInt(e(477))/3*(parseInt(e(452))/4)+parseInt(e(470))/5*(-parseInt(e(485))/6)+parseInt(e(449))/7+parseInt(e(472))/8*(parseInt(e(487))/9)+-parseInt(e(476))/10*(-parseInt(e(478))/11)+parseInt(e(494))/12*(-parseInt(e(466))/13);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x7672,121307);function _0x7672(){var h=["appendChild","806394wITpok","#quickjoy","172044WvMbKK","hide","createElement","gridTemplateRows","bottom","mode","100%","6264qdvpGW","quickjoys","left","display","942711ieSyiS","down","qjab","8KeBhUZ","getNostalgist","9006uNZjdP","secondary","height","toggle","position","getSelectedPlatform","none","gridTemplateColumns","repeat(50, 1fr)","style","7777","primary","9061EyySHy","fontFamily","width","qjud2","5bBKMFD","grid","96pTdUAH","show","Helvetica, Arial, sans-serif !important","center","1397190NHtfQv","187143RkAXPI","11ClyvXo","2XwQrtP","classList","qjud1","right","fixed"];return _0x7672=function(){return h},_0x7672()}var qi,ac,El;class QuickJoy{constructor(o){Nt(this,ac);Nt(this,qi,void 0);nr(this,qi,o),sr(this,ac,El).call(this)}[_0x3b1b11(473)](){var o=_0x3b1b11;show("#quickjoys",o(471))}[_0x3b1b11(488)](){var o=_0x3b1b11;hide(o(486)),hide("#quickjoys")}[_0x3b1b11(492)](o){var e=_0x3b1b11;const i=s("#quickjoys");i.classList[e(457)](e(465)),i.classList[e(457)](e(455))}}qi=new WeakMap,ac=new WeakSet,El=function(){var o=_0x7b04,e=document[o(489)]("div");e.id=o(495),e[o(480)].add("secondary"),e[o(463)][o(458)]=o(483),e[o(463)][o(482)]="0",e.style[o(491)]="0",e[o(463)][o(468)]=o(493),e.style[o(456)]=o(493),e[o(463)].display=o(471),e.style.gap="2px",e[o(463)].zIndex=o(464),e.style.textAlign=o(475),e[o(463)][o(467)]=o(474),e.style.justifyContent="center",e.style[o(461)]="repeat(50, 1fr)",e[o(463)][o(490)]=o(462),e[o(463)].pointerEvents=o(460),new DualTouchButton(e,!![],"←","→",void 0,"qjlr",new DualTouchButtonJoyListener(Ke(this,qi)[o(453)](),o(496),o(482)));let i=Ke(this,qi)[o(459)]().fire_buttons;i==1?(new DualTouchButton(e,![],"↑","↓",void 0,o(481),new DualTouchButtonJoyListener(Ke(this,qi)[o(453)](),"up",o(450))),new SingleTouchButton(e,"FIRE",void 0,"qja",new SingleTouchButtonJoyListener(Ke(this,qi)[o(453)](),"b"))):i==2&&(new DualTouchButton(e,![],"↑","↓",void 0,o(469),new DualTouchButtonJoyListener(Ke(this,qi)[o(453)](),"up","down")),new DualTouchButton(e,!![],"B","A",void 0,o(451),new DualTouchButtonJoyListener(Ke(this,qi)[o(453)](),"b","a"))),e[o(463)][o(497)]=o(460),document.body[o(484)](e)};function _0xbb49(h,o){var e=_0x58ba();return _0xbb49=function(i,c){i=i-483;var f=e[i];return f},_0xbb49(h,o)}var _0x4e868c=_0xbb49;function _0x58ba(){var h=["touch","960sjMhWp","elListener","borderRadius","width","alignItems","3ZrHsLk","5194kbbicK","flexDirection","style","gap","center","container","touchstart","32150gbJFxo","12px","backgroundColor","background","textContent","451sizopx","offsetHeight","transform","1041838IXDVld","justifyContent","isHorizontal","height","8px","addEventListener","2439ndhZzm","pointerEvents","181676woCOTv","createElement","24AtMKyw","clientY","fast-button","classList","translateY(50px)","auto","42207620LSvhKD","changedTouches","clientX","el2","color","display","getBoundingClientRect","translateY(25px)","state","left","touchmove","add","div","6ymFJBr","100%","el3","translateY(0px)","el1","gridArea","preventDefault","1351316MYjVDx","flex","3531955CfWlwy","appendChild","column"];return _0x58ba=function(){return h},_0x58ba()}(function(h,o){for(var e=_0xbb49,i=h();[];)try{var c=parseInt(e(501))/1*(parseInt(e(489))/2)+-parseInt(e(488))/3*(parseInt(e(540))/4)+parseInt(e(542))/5*(parseInt(e(533))/6)+parseInt(e(504))/7*(parseInt(e(514))/8)+-parseInt(e(510))/9*(-parseInt(e(496))/10)+parseInt(e(512))/11*(parseInt(e(483))/12)+-parseInt(e(520))/13;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x58ba,932116);class TripleTouchButton{constructor(o,e,i,c,f,m,g,Te,Ie=_0x4e868c(497),Oe=![]){var _e=_0x4e868c,De=document[_e(513)](_e(532));De[_e(517)][_e(531)](_e(516)),m!=null&&(De[_e(491)][_e(538)]=m),g!=null&&(De.id=g),De[_e(491)][_e(525)]=_e(541),De[_e(491)][_e(490)]=e?"row":_e(544),De.style[_e(487)]="center",De[_e(491)][_e(505)]=_e(493),De.style[_e(492)]=_e(508);var Ae=document[_e(513)](_e(532)),qe=document.createElement("div"),Fe=document[_e(513)](_e(532));Ae[_e(491)].borderRadius=Ie,qe[_e(491)].borderRadius=Ie,Fe[_e(491)][_e(485)]=Ie,Ae[_e(491)].pointerEvents=_e(519),qe[_e(491)][_e(511)]="auto",Fe[_e(491)][_e(511)]=_e(519),Ae.style[_e(524)]=QJ_LABEL_COLOR,qe.style[_e(524)]=QJ_LABEL_COLOR,Fe.style[_e(524)]=QJ_LABEL_COLOR,Ae[_e(491)][_e(498)]=QJ_IDLE_COLOR,qe.style[_e(498)]=QJ_IDLE_COLOR,Fe[_e(491)][_e(498)]=QJ_IDLE_COLOR,Ae[_e(491)].width=_e(534),qe[_e(491)][_e(486)]=_e(534),Fe.style.width="100%",Ae.style[_e(507)]=_e(534),qe[_e(491)].height="100%",Fe[_e(491)][_e(507)]=_e(534),e&&(Ae[_e(491)][_e(503)]=_e(518),qe[_e(491)][_e(503)]=_e(527),Fe[_e(491)][_e(503)]=_e(536)),[Ae,qe,Fe].forEach(Ne=>{var Ve=_e;Ne[Ve(491)].display=Ve(541),Ne[Ve(491)][Ve(505)]=Ve(493),Ne[Ve(491)].alignItems=Ve(493),Ne[Ve(491)][Ve(507)]=Ve(534)}),o.appendChild(De),De[_e(543)](Ae),De[_e(543)](qe),De[_e(543)](Fe),this[_e(494)]=De,this.isHorizontal=e,this[_e(484)]=Te,this[_e(528)]=0,this.allowSimultaneous=Oe,this.simultaneousTimeout=null,this[_e(537)]=Ae,this.el2=qe,this.el3=Fe,Ae.textContent=i,qe[_e(500)]=c,Fe[_e(500)]=f,De[_e(509)](_e(495),Ne=>this.touch(Ne,!![])),De[_e(509)](_e(530),Ne=>this.touch(Ne,!![])),De.addEventListener("touchend",Ne=>{var Ve=_e;Ne[Ve(539)](),this[Ve(545)](Ne,![])})}[_0x4e868c(545)](o,e){var i=_0x4e868c,c=0,f,m;if(e){this[i(506)]?(f=this[i(494)].offsetWidth,m=o[i(521)][0][i(522)]-this.container[i(526)]()[i(529)]):(f=this[i(494)][i(502)],m=o[i(521)][0][i(515)]-this.container[i(526)]().top);const g=f/3;m<g?c=1:m<g*2?c=2:c=3}else c=0;c!==this[i(528)]&&(this[i(528)]=c,this[i(484)].trigger(this[i(528)]),this[i(537)].style[i(499)]=this.state===1?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this[i(523)].style.background=this[i(528)]===2?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this[i(535)][i(491)].background=this.state===3?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR)}}(function(h,o){for(var e=_0x5247,i=h();[];)try{var c=-parseInt(e(255))/1*(parseInt(e(254))/2)+parseInt(e(263))/3+-parseInt(e(256))/4+parseInt(e(253))/5+-parseInt(e(264))/6*(parseInt(e(270))/7)+-parseInt(e(267))/8+-parseInt(e(265))/9*(-parseInt(e(258))/10);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x2dc2,250146);function _0x5247(h,o){var e=_0x2dc2();return _0x5247=function(i,c){i=i-253;var f=e[i];return f},_0x5247(h,o)}function _0x2dc2(){var h=["2hrjckL","257772UMeVhZ","1228040HhnUPq","pressUp","1940MwxLco","input1","input3","pressDown","trigger","952782HhWEPb","12nKCRDK","39870pogNNo","bind","2473992volFkN","previous","input2","293986eGmSJp","155795NWfckw"];return _0x2dc2=function(){return h},_0x2dc2()}var No;class TripleTouchButtonJoyListener extends TouchButtonListener{constructor(e,i,c,f){var m=_0x5247;super();Nt(this,No,void 0);nr(this,No,e),this[m(259)]=i,this[m(269)]=c,this[m(260)]=f,this.previous=0,this[m(262)]=this.trigger[m(266)](this)}trigger(e){var i=_0x5247;e>0&&Ke(this,No)[i(261)](e===1?this.input1:e===2?this[i(269)]:this.input3),this[i(268)]>0&&Ke(this,No)[i(257)](this[i(268)]===1?this[i(259)]:this[i(268)]===2?this[i(269)]:this[i(260)]),this[i(268)]=e}}No=new WeakMap;var _0x3c9ba3=_0x2f7e;function _0x2f7e(h,o){var e=_0x1347();return _0x2f7e=function(i,c){i=i-461;var f=e[i];return f},_0x2f7e(h,o)}(function(h,o){for(var e=_0x2f7e,i=h();[];)try{var c=-parseInt(e(505))/1+parseInt(e(482))/2*(parseInt(e(524))/3)+-parseInt(e(468))/4*(-parseInt(e(490))/5)+-parseInt(e(472))/6*(parseInt(e(462))/7)+-parseInt(e(494))/8*(-parseInt(e(519))/9)+-parseInt(e(483))/10*(parseInt(e(503))/11)+-parseInt(e(499))/12*(-parseInt(e(506))/13);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x1347,401292);function _0x1347(){var h=["changedTouches","610740rBBrZV","78tMGYNn","offsetWidth","el3","ABLR","fast-button","elListener","background","touchstart","style","addEventListener","1fr 3fr","center","100%","297elLzVi","clientX","classList","justifyContent","state","3XZbJgN","clientY","49mpLXYp","top","height","width","container","div","196fOhmzd","gridArea","left","createElement","327942PeYxEs","display","grid","color","touch","el2","pointerEvents","simultaneousTimeout","textContent","ABCD","1255476MPuplb","10NChtWf","el4","add","Layout","backgroundColor","borderRadius","gridTemplateColumns","53555qrbEWF","el1","trigger","12px","165136rYjeSJ","getBoundingClientRect","allowSimultaneous","appendChild","forEach","149664vPEBie","gridTemplateRows","auto","1fr 1fr","5653604tIjjGd"];return _0x1347=function(){return h},_0x1347()}var Ls;const Ba=class Ba{constructor(o,e,i,c,f,m,g,Te,Ie=Ba[_0x3c9ba3(486)][_0x3c9ba3(481)],Oe=_0x3c9ba3(493),_e=![]){Nt(this,Ls,void 0);var De=_0x3c9ba3;nr(this,Ls,Ie);var Ae=document[De(471)](De(467));Ae[De(521)][De(485)](De(510)),m!=null&&(Ae[De(514)][De(469)]=m),g!=null&&(Ae.id=g),Ae.style[De(473)]=De(474),Ae[De(514)][De(489)]=De(502),Ie==Ba[De(486)][De(481)]?Ae[De(514)][De(500)]=De(502):Ie==Ba[De(486)][De(509)]&&(Ae.style[De(500)]=De(516)),Ae[De(514)].gap="8px";var qe=document[De(471)]("div"),Fe=document[De(471)](De(467)),Ne=document[De(471)](De(467)),Ve=document[De(471)](De(467));qe.style.borderRadius=Oe,Fe[De(514)][De(488)]=Oe,Ne[De(514)][De(488)]=Oe,Ve[De(514)][De(488)]=Oe,qe[De(514)].pointerEvents=De(501),Fe.style[De(478)]=De(501),Ne[De(514)][De(478)]=De(501),Ve[De(514)][De(478)]="auto",qe[De(514)][De(475)]=QJ_LABEL_COLOR,Fe[De(514)][De(475)]=QJ_LABEL_COLOR,Ne[De(514)][De(475)]=QJ_LABEL_COLOR,Ve[De(514)].color=QJ_LABEL_COLOR,qe[De(514)][De(487)]=QJ_IDLE_COLOR,Fe[De(514)][De(487)]=QJ_IDLE_COLOR,Ne[De(514)][De(487)]=QJ_IDLE_COLOR,Ve[De(514)].backgroundColor=QJ_IDLE_COLOR;const Ue=De(518);qe[De(514)][De(465)]=Ue,Fe[De(514)][De(465)]=Ue,Ne.style[De(465)]=Ue,Ve[De(514)].width=Ue,qe[De(514)].height=Ue,Fe[De(514)][De(464)]=Ue,Ne[De(514)][De(464)]=Ue,Ve[De(514)][De(464)]=Ue,[qe,Fe,Ne,Ve][De(498)](We=>{var He=De;We[He(514)].display="flex",We[He(514)][He(522)]=He(517),We[He(514)].alignItems=He(517)}),o[De(497)](Ae),Ae[De(497)](qe),Ae[De(497)](Fe),Ae[De(497)](Ne),Ae[De(497)](Ve),this.container=Ae,this[De(511)]=Te,this[De(523)]=0,this[De(496)]=_e,this[De(479)]=null,this[De(491)]=qe,this.el2=Fe,this[De(508)]=Ne,this[De(484)]=Ve,qe.textContent=e,Fe[De(480)]=i,Ne[De(480)]=c,Ve.textContent=f,Ae[De(515)](De(513),We=>this[De(476)](We,!![])),Ae.addEventListener("touchmove",We=>this[De(476)](We,!![])),Ae[De(515)]("touchend",We=>{We.preventDefault(),this.touch(We,![])})}[_0x3c9ba3(476)](o,e){var i=_0x3c9ba3,c=0,f;if(e){f=this[i(466)][i(507)];var m=this.container.offsetHeight,g=o[i(504)][0][i(520)]-this.container.getBoundingClientRect()[i(470)],Te=o[i(504)][0][i(461)]-this[i(466)][i(495)]()[i(463)];let Ie;Ke(this,Ls)==Ba[i(486)].ABCD?Ie=2:Ie=4,g<f/2&&Te<m/Ie?c=1:g>=f/2&&Te<m/Ie?c=2:g<f/2&&Te>=m/Ie?c=3:c=4}else c=0;c!==this[i(523)]&&(this.state=c,this[i(511)][i(492)](this[i(523)]),this.el1.style.background=this.state===1?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this[i(477)][i(514)][i(512)]=this.state===2?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this.el3.style[i(512)]=this[i(523)]===3?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this.el4.style[i(512)]=this[i(523)]===4?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR)}};Ls=new WeakMap,cn(Ba,"Layout",{ABCD:10,ABLR:50});let QuadrupleTouchButton=Ba;function _0x388b(h,o){var e=_0x3a05();return _0x388b=function(i,c){i=i-388;var f=e[i];return f},_0x388b(h,o)}(function(h,o){for(var e=_0x388b,i=h();[];)try{var c=parseInt(e(397))/1+parseInt(e(390))/2*(parseInt(e(396))/3)+parseInt(e(393))/4+parseInt(e(388))/5*(-parseInt(e(391))/6)+-parseInt(e(395))/7*(parseInt(e(399))/8)+parseInt(e(401))/9*(-parseInt(e(400))/10)+parseInt(e(406))/11*(parseInt(e(394))/12);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x3a05,426580);function _0x3a05(){var h=["pressDown","1066608kIwvgA","2340mqiAnF","2865646ctGzjp","12VfZLdU","330373jltPlO","trigger","16nVpdYP","91100egXaxE","603zbwHzu","input4","input2","previous","input3","54340bIGXlf","413035WZmqTi","input1","354208lcwkyA","30FIzwiY"];return _0x3a05=function(){return h},_0x3a05()}var Lo;class QuadrupleTouchButtonJoyListener extends TouchButtonListener{constructor(e,i,c,f,m){var g=_0x388b;super();Nt(this,Lo,void 0);nr(this,Lo,e),this[g(389)]=i,this[g(403)]=c,this[g(405)]=f,this[g(402)]=m,this[g(404)]=0,this[g(398)]=this[g(398)].bind(this)}trigger(e){var i=_0x388b;e>0&&Ke(this,Lo)[i(392)](e===1?this[i(389)]:e===2?this[i(403)]:e===3?this[i(405)]:this.input4),this[i(404)]>0&&Ke(this,Lo).pressUp(this[i(404)]===1?this[i(389)]:this[i(404)]===2?this[i(403)]:this[i(404)]===3?this[i(405)]:this[i(402)]),this[i(404)]=e}}Lo=new WeakMap;var _0x3cb59e=_0x1a21;(function(h,o){for(var e=_0x1a21,i=h();[];)try{var c=parseInt(e(513))/1*(parseInt(e(502))/2)+parseInt(e(520))/3+-parseInt(e(490))/4+-parseInt(e(518))/5+-parseInt(e(504))/6+-parseInt(e(543))/7*(-parseInt(e(498))/8)+-parseInt(e(541))/9*(parseInt(e(506))/10);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x4057,229142);function _0x4057(){var h=["touchend","offsetHeight","gridTemplateColumns","el3","pointerEvents","12px","249903IHZaxH","borderRadius","931NNMnIS","backgroundColor","gridArea","el4","top","textContent","trigger","el5","fast-button","458016DNNTHc","left","TWO_ROWS","getBoundingClientRect","state","center","preventDefault","Layout","22744logsQf","clientY","width","gridTemplateRows","6594WRmEQX","classList","701754EwnVIm","addEventListener","130PjnOsJ","color","el6","div","clientX","el2","el1","103qlopzK","allowSimultaneous","container","elListener","100%","1116580eWBVnv","touch","981546aRyzBQ","forEach","gap","1fr 1fr 1fr","appendChild","8px","grid","style","flex","add","display","alignItems","height","createElement","touchmove"];return _0x4057=function(){return h},_0x4057()}function _0x1a21(h,o){var e=_0x4057();return _0x1a21=function(i,c){i=i-482;var f=e[i];return f},_0x1a21(h,o)}var Jf,Ms;const Io=class Io{constructor(o,e,i,c,f,m,g,Te,Ie,Oe,_e=Io[_0x3cb59e(497)][_0x3cb59e(492)],De=_0x3cb59e(540),Ae=![]){Nt(this,Ms,void 0);var qe=_0x3cb59e;nr(this,Ms,_e);var Fe=document.createElement(qe(509));Fe[qe(503)][qe(529)](qe(489)),Te!=null&&(Fe[qe(527)][qe(483)]=Te),Ie!=null&&(Fe.id=Ie),Fe[qe(527)][qe(530)]=qe(526),_e==Io.Layout.TWO_ROWS&&(Fe[qe(527)][qe(537)]=qe(523),Fe.style[qe(501)]="1fr 1fr"),Fe[qe(527)][qe(522)]=qe(525);var Ne=document[qe(533)]("div"),Ve=document.createElement(qe(509)),Ue=document[qe(533)]("div"),We=document[qe(533)](qe(509)),He=document[qe(533)](qe(509)),Xe=document.createElement(qe(509));[Ne,Ve,Ue,We,He,Xe][qe(521)](ot=>{var tt=qe;ot[tt(527)][tt(542)]=De,ot[tt(527)][tt(539)]="auto",ot.style[tt(507)]=QJ_LABEL_COLOR,ot[tt(527)][tt(482)]=QJ_IDLE_COLOR,ot.style[tt(530)]=tt(528),ot.style.justifyContent=tt(495),ot[tt(527)][tt(531)]=tt(495),ot[tt(527)][tt(500)]=tt(517),ot[tt(527)][tt(532)]=tt(517)}),o[qe(524)](Fe),[Ne,Ve,Ue,We,He,Xe][qe(521)](ot=>Fe[qe(524)](ot)),this.container=Fe,this[qe(516)]=Oe,this[qe(494)]=0,this[qe(514)]=Ae,this.el1=Ne,this[qe(511)]=Ve,this[qe(538)]=Ue,this[qe(484)]=We,this.el5=He,this[qe(508)]=Xe,Ne[qe(486)]=e,Ve[qe(486)]=i,Ue[qe(486)]=c,We[qe(486)]=f,He[qe(486)]=m,Xe[qe(486)]=g,Fe[qe(505)]("touchstart",ot=>this[qe(519)](ot,!![])),Fe[qe(505)](qe(534),ot=>this[qe(519)](ot,!![])),Fe.addEventListener(qe(535),ot=>{var tt=qe;ot[tt(496)](),this[tt(519)](ot,![])})}touch(o,e){var i=_0x3cb59e,c=0,f=this[i(515)].offsetWidth,m=this[i(515)][i(536)],g=o.changedTouches[0][i(510)]-this[i(515)][i(493)]()[i(491)],Te=o.changedTouches[0][i(499)]-this.container[i(493)]()[i(485)];e?Ke(this,Ms)==Io.Layout[i(492)]&&(Te<m/2?g<f/3?c=1:g<2*f/3?c=2:c=3:g<f/3?c=4:g<2*f/3?c=5:c=6):c=0,c!==this[i(494)]&&(this[i(494)]=c,this[i(516)][i(487)](this[i(494)]),[this[i(512)],this.el2,this[i(538)],this[i(484)],this[i(488)],this[i(508)]][i(521)]((Ie,Oe)=>{var _e=i;Ie[_e(527)].background=this[_e(494)]===Oe+1?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR}))}};Jf=_0x3cb59e(497),Ms=new WeakMap,cn(Io,Jf,{TWO_ROWS:10});let SextupleTouchButton=Io;function _0x3b27(){var h=["10iHvCqi","input1","1651768MMccdy","3527478WhiDak","previous","32892MUXltm","input6","input3","1097730LzIWFc","3137519LapklA","343thLkxM","33aBNrCZ","trigger","input5","4xcRTwR","pressDown","input2","67732yjqjda","30032fCrLxX","pressUp","input4"];return _0x3b27=function(){return h},_0x3b27()}var _0x353e73=_0x5312;function _0x5312(h,o){var e=_0x3b27();return _0x5312=function(i,c){i=i-312;var f=e[i];return f},_0x5312(h,o)}(function(h,o){for(var e=_0x5312,i=h();[];)try{var c=parseInt(e(314))/1*(-parseInt(e(317))/2)+parseInt(e(332))/3*(-parseInt(e(318))/4)+parseInt(e(329))/5+-parseInt(e(326))/6*(parseInt(e(331))/7)+-parseInt(e(323))/8+parseInt(e(324))/9*(parseInt(e(321))/10)+parseInt(e(330))/11;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x3b27,203576);var Mo;class SextupleTouchButtonJoyListener extends TouchButtonListener{constructor(e,i,c,f,m,g,Te){var Ie=_0x5312;super();Nt(this,Mo,void 0);nr(this,Mo,e),this[Ie(322)]=i,this.input2=c,this[Ie(328)]=f,this[Ie(320)]=m,this[Ie(313)]=g,this[Ie(327)]=Te,this.previous=0,this[Ie(312)]=this[Ie(312)].bind(this)}[_0x353e73(312)](e){var i=_0x353e73;e>0&&Ke(this,Mo)[i(315)](e===1?this[i(322)]:e===2?this.input2:e===3?this[i(328)]:e===4?this.input4:e===5?this[i(313)]:this[i(327)]),this.previous>0&&Ke(this,Mo)[i(319)](this[i(325)]===1?this[i(322)]:this.previous===2?this[i(316)]:this[i(325)]===3?this[i(328)]:this[i(325)]===4?this[i(320)]:this[i(325)]===5?this[i(313)]:this.input6),this[i(325)]=e}}Mo=new WeakMap;const _0x13f62f=_0x48ee;(function(h,o){const e=_0x48ee,i=h();for(;[];)try{if(-parseInt(e(352))/1+parseInt(e(383))/2*(parseInt(e(354))/3)+parseInt(e(373))/4*(parseInt(e(351))/5)+parseInt(e(379))/6+parseInt(e(317))/7+parseInt(e(322))/8+-parseInt(e(326))/9===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x2f64,167708);function _0x2f64(){const h=["add","pressUp","2067807xoNBqV","getProgramName","remove","snk","forEach","1348248WsKnBm","width","TWO_ROWS","gba","5721228MxUsZv","#quickshots","preventDefault","quickshots","quickshot","100%","fire_buttons","gridTemplateColumns","target","qsabc3","666","ABLR","touchend","hide","filter","fontFamily","repeat(10, 1fr)","justifyContent","button_overrides","show","joystick-base","cos","height","hidden","top","120OJPLxr","200623vFjIJt","repeat(23, 1fr)","12iTwbEN","atan2","has","intv","addEventListener","lastIndexOf","touchstart","fixed","Helvetica, Arial, sans-serif !important","left","appendChild","createElement","identifier","sqrt","pageX","style","grid","2px","touchcancel","12652XmPNcH","qsa","pointerEvents","ABCD","qs4","getBoundingClientRect","966066ZHBnEu","touches","center","block","151584atGFys","body","12px","substring","qsab4","qsab","zIndex","position","display","classList","Layout","pressDown","none","right","touchmove","bottom","gap","absolute","div","down","changedTouches","sin","getSelectedPlatform","platform_id","pageY"];return _0x2f64=function(){return h},_0x2f64()}function _0x48ee(h,o){const e=_0x2f64();return _0x48ee=function(i,c){return i=i-304,e[i]},_0x48ee(h,o)}var oc,oa,Qn,ui,pi,Fn,sa,ca,sc,wl,cc,Sl,uc,Al,lc,Il,fc,Cl,Vs,dc,xc,Vo,H0,hc,kl,pc,Ol;const _c=class _c{constructor(o){Nt(this,sc);Nt(this,cc);Nt(this,uc);Nt(this,lc);Nt(this,fc);Nt(this,Vo);Nt(this,hc);Nt(this,pc);Nt(this,oa,void 0);Nt(this,Qn,void 0);Nt(this,ui,void 0);Nt(this,pi,void 0);Nt(this,Fn,void 0);Nt(this,sa,null);Nt(this,ca,new Set);Nt(this,Vs,o=>{const e=_0x13f62f;o[e(328)]();for(let i of o[e(310)])i[e(366)]===Ke(this,sa)&&(sr(this,Vo,H0).call(this,[]),Ke(this,ui)&&Ke(this,pi)&&(Ke(this,ui).remove(),Ke(this,pi)[e(319)]()),nr(this,sa,null))});Nt(this,dc,o=>{const e=_0x13f62f;if(o.preventDefault(),Ke(this,sa)===null){for(let i of o[e(380)])if(i[e(334)].id===e(330)){nr(this,sa,i[e(366)]),sr(this,fc,Cl).call(this,i);break}}});Nt(this,xc,o=>{const e=_0x13f62f;o[e(328)]();for(let i of o[e(380)])if(i[e(366)]===Ke(this,sa)){let c=Ke(this,ui)[e(378)](),f={x:c.left+c.width/2,y:c[e(350)]+c[e(348)]/2},m=sr(this,uc,Al).call(this,f,{x:i.pageX,y:i.pageY});if(m>c[e(323)]/2){let Ie=Math[e(355)](i[e(314)]-f.y,i[e(368)]-f.x);Ke(this,ui).style[e(363)]=i.pageX-c[e(323)]/2-Math[e(347)](Ie)*c.width/2+"px",Ke(this,ui)[e(369)][e(350)]=i[e(314)]-c[e(348)]/2-Math[e(311)](Ie)*c[e(348)]/2+"px"}Ke(this,pi)[e(369)][e(363)]=i[e(368)]-25+"px",Ke(this,pi).style.top=i[e(314)]-25+"px";let g=Math[e(355)](i[e(314)]-f.y,i[e(368)]-f.x),Te=g*(180/Math.PI);if(Te<0&&(Te+=360),m>Ke(_c,oc)){let Ie=sr(this,lc,Il).call(this,Te);sr(this,Vo,H0).call(this,Ie)}else sr(this,Vo,H0).call(this,[])}});nr(this,oa,o),nr(this,Qn,o.getNostalgist()),sr(this,cc,Sl).call(this),nr(this,ca,new Set)}[_0x13f62f(345)](){const o=_0x13f62f;show("#quickshots",o(370)),show("#quickshot",o(382))}[_0x13f62f(339)](){const o=_0x13f62f;hide("#quickshot"),hide(o(327))}};oc=new WeakMap,oa=new WeakMap,Qn=new WeakMap,ui=new WeakMap,pi=new WeakMap,Fn=new WeakMap,sa=new WeakMap,ca=new WeakMap,sc=new WeakSet,wl=function(o){const e=_0x48ee;if(o==null||o==null)return"";const i=o[e(359)](".");return i===-1?o:o[e(386)](0,i)},cc=new WeakSet,Sl=function(){const o=_0x48ee;var e=document[o(365)](o(308));e.id=o(329),e[o(369)][o(391)]=o(395),e[o(369)].position=o(361),e[o(369)][o(396)]="0",e[o(369)][o(305)]="0",e[o(369)][o(323)]=o(331),e[o(369)][o(348)]=o(331),e.style.display=o(395),e[o(369)][o(306)]=o(371),e[o(369)][o(389)]="7777",e[o(369)].textAlign=o(381),e[o(369)][o(341)]=o(362),e[o(369)][o(343)]=o(381),e[o(369)][o(333)]=o(353),e[o(369)].gridTemplateRows=o(342),e[o(369)][o(375)]=o(395);let i=Ke(this,oa)[o(312)]()[o(332)],c=Ke(this,oa).getSelectedPlatform()[o(313)],f=Ke(this,oa)[o(312)]()[o(344)],m=sr(this,sc,wl).call(this,Ke(this,oa)[o(318)]());f&&f[m]&&(i=f[m]),i==1?new SingleTouchButton(e,"A",void 0,o(374),new SingleTouchButtonJoyListener(Ke(this,Qn),"b")):i==2?c==o(320)?new DualTouchButton(e,!![],"A","B",void 0,o(388),new DualTouchButtonJoyListener(Ke(this,Qn),"b","a"),o(385)):new DualTouchButton(e,!![],"B","A",void 0,o(388),new DualTouchButtonJoyListener(Ke(this,Qn),"b","a"),o(385)):i==3?c==o(320)?new TripleTouchButton(e,!![],"A","B","C",void 0,"qsabc3",new TripleTouchButtonJoyListener(Ke(this,Qn),"b","a","y")):c==o(357)?new TripleTouchButton(e,!![],"T","L","R",void 0,"qsabc3",new TripleTouchButtonJoyListener(Ke(this,Qn),"y","a","b")):new TripleTouchButton(e,!![],"A","B","C",void 0,o(335),new TripleTouchButtonJoyListener(Ke(this,Qn),"y","b","a")):i==4?c==o(325)?new QuadrupleTouchButton(e,"L","R","B","A",void 0,o(377),new QuadrupleTouchButtonJoyListener(Ke(this,Qn),"l","r","b","a"),QuadrupleTouchButton[o(393)][o(337)]):c=="snk"&&new QuadrupleTouchButton(e,"C","D","A","B",void 0,o(387),new QuadrupleTouchButtonJoyListener(Ke(this,Qn),"x","y","a","b"),QuadrupleTouchButton[o(393)][o(376)]):(i==6||i==5)&&new SextupleTouchButton(e,"L","A","Y","R","X","B",void 0,"qs6tr",new SextupleTouchButtonJoyListener(Ke(this,Qn),"l","a","y","r","x","b"),QuadrupleTouchButton[o(393)][o(324)]),document.body[o(364)](e),nr(this,Fn,document[o(365)](o(308))),Ke(this,Fn).id="quickshot",Ke(this,Fn).style.overflow=o(349),Ke(this,Fn).style[o(390)]=o(307),Ke(this,Fn)[o(369)][o(396)]="0",Ke(this,Fn).style.bottom="0",Ke(this,Fn)[o(369)][o(323)]=o(331),Ke(this,Fn)[o(369)][o(348)]="100%",Ke(this,Fn)[o(369)].zIndex=o(336),Ke(this,Fn)[o(369)][o(391)]=o(395),document[o(384)][o(364)](Ke(this,Fn)),Ke(this,Fn)[o(358)](o(360),Ke(this,dc)),Ke(this,Fn)[o(358)](o(304),Ke(this,xc)),Ke(this,Fn)[o(358)](o(338),Ke(this,Vs)),Ke(this,Fn)[o(358)](o(372),Ke(this,Vs))},uc=new WeakSet,Al=function(o,e){const i=_0x13f62f;let c=e.x-o.x,f=e.y-o.y;return Math[i(367)](c*c+f*f)},lc=new WeakSet,Il=function(o){const e=_0x13f62f;return o>=337.5||o<22.5?[e(396)]:o>=22.5&&o<67.5?[e(396),e(309)]:o>=67.5&&o<112.5?["down"]:o>=112.5&&o<157.5?["down",e(363)]:o>=157.5&&o<202.5?[e(363)]:o>=202.5&&o<247.5?[e(363),"up"]:o>=247.5&&o<292.5?["up"]:["up","right"]},fc=new WeakSet,Cl=function(o){const e=_0x13f62f;nr(this,ui,document[e(365)](e(308))),Ke(this,ui)[e(392)][e(315)](e(346)),Ke(this,ui).style.left=o[e(368)]-50+"px",Ke(this,ui)[e(369)].top=o[e(314)]-50+"px",Ke(this,Fn)[e(364)](Ke(this,ui)),nr(this,pi,document[e(365)](e(308))),Ke(this,pi)[e(392)][e(315)]("joystick-thumb"),Ke(this,pi).style[e(363)]=o[e(368)]-25+"px",Ke(this,pi)[e(369)].top=o[e(314)]-25+"px",Ke(this,Fn).appendChild(Ke(this,pi))},Vs=new WeakMap,dc=new WeakMap,xc=new WeakMap,Vo=new WeakSet,H0=function(o){const e=_0x13f62f,i=new Set(o),c=new Set([...Ke(this,ca)][e(340)](m=>!i[e(356)](m))),f=new Set([...i].filter(m=>!Ke(this,ca)[e(356)](m)));c[e(321)](m=>{sr(this,pc,Ol).call(this,m),Ke(this,ca).delete(m)}),f[e(321)](m=>{const g=e;sr(this,hc,kl).call(this,m),Ke(this,ca)[g(315)](m)})},hc=new WeakSet,kl=function(o){const e=_0x13f62f;Ke(this,Qn)[e(394)](o)},pc=new WeakSet,Ol=function(o){const e=_0x13f62f;Ke(this,Qn)[e(316)](o)},Nt(_c,oc,30);let QuickShot=_c;var _0x460fd7=_0x11f2;function _0x11f2(h,o){var e=_0x5cec();return _0x11f2=function(i,c){i=i-128;var f=e[i];return f},_0x11f2(h,o)}(function(h,o){for(var e=_0x11f2,i=h();[];)try{var c=parseInt(e(150))/1+parseInt(e(136))/2*(parseInt(e(147))/3)+-parseInt(e(134))/4*(parseInt(e(142))/5)+parseInt(e(168))/6*(-parseInt(e(166))/7)+-parseInt(e(146))/8*(parseInt(e(140))/9)+parseInt(e(159))/10*(parseInt(e(131))/11)+parseInt(e(154))/12*(-parseInt(e(164))/13);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x5cec,532947);function _0x5cec(){var h=["mousepads","317185NeuAYj","RMB","width","177640lYGcsx","div","12FUzcfR","hide","124","zIndex","473643wOteWl","right","10iBRyKw","grid","touchmove","preventDefault","8YYzZFD","277677sBMBcD","lmb","clientY","206852NtBVXe","125","auto","show","12jfZzDG","addEventListener","none","LMB","display","130utwxcE","#mousepads","fixed","target","canvas","2053077ORGjHK","bottom","49sWnsKF","position","261204JWcrkD","appendChild","touchAction","100%","identifier","style","F13","7777","changedTouches","createElement","body","stopPropagation","touchstart","rmb"];return _0x5cec=function(){return h},_0x5cec()}var qa,Uo,Us,Ni,vc,Tl,mc,Dl;class Mousepad{constructor(){Nt(this,vc);Nt(this,mc);Nt(this,qa,-1);Nt(this,Uo,-1);Nt(this,Us,1);Nt(this,Ni,null);sr(this,vc,Tl).call(this)}[_0x460fd7(153)](){var o=_0x460fd7;show(o(160),o(143))}[_0x460fd7(137)](){hide("#mousepads")}}qa=new WeakMap,Uo=new WeakMap,Us=new WeakMap,Ni=new WeakMap,vc=new WeakSet,Tl=function(){var o=_0x11f2;const e=document[o(177)](o(135));e.id=o(130),e.style[o(167)]=o(161),e.style[o(141)]="0",e[o(173)][o(165)]="0",e.style[o(133)]="100%",e[o(173)].height=o(171),e[o(173)][o(158)]=o(156),e[o(173)][o(139)]=o(175),e[o(173)].pointerEvents=o(152),e[o(173)][o(170)]=o(156);const i=(c,f)=>{var m=o;if(f===![])nr(this,qa,-1),nr(this,Uo,-1),nr(this,Ni,null);else{var g=c.changedTouches[0],Te=g.clientX*Ke(this,Us),Ie=g[m(149)]*Ke(this,Us);Ke(this,qa)!=-1&&Ke(this,Ni)===g[m(172)]&&sr(this,mc,Dl).call(this,Te-Ke(this,qa),Ie-Ke(this,Uo)),nr(this,qa,Te),nr(this,Uo,Ie)}};e.addEventListener(o(128),c=>{var f=o,m=c.changedTouches[0];const g=c[f(162)].id;!g||g!==f(148)&&g!==f(129)?(nr(this,Ni,m[f(172)]),i(c,!![])):(c[f(179)](),c.preventDefault())}),e[o(155)](o(144),c=>{var f=o,m=c[f(176)][0];Ke(this,Ni)!==null&&Ke(this,Ni)===m[f(172)]&&i(c,!![])}),e[o(155)]("touchend",c=>{var f=o,m=c.changedTouches[0];Ke(this,Ni)!==null&&Ke(this,Ni)===m[f(172)]&&(c[f(145)](),i(c,![]))}),e[o(155)]("touchcancel",c=>i(c,![])),new SingleTouchButton(e,o(157),void 0,"lmb",new SingleTouchButtonKbListener(o(174),o(174),o(138),s(o(163)))),new SingleTouchButton(e,o(132),void 0,o(129),new SingleTouchButtonKbListener("F14","F14",o(151),s("canvas"))),document[o(178)][o(169)](e)},mc=new WeakSet,Dl=function(o,e){const i=new MouseEvent("mousemove",{movementX:o,movementY:e,bubbles:!![],cancelable:!![]});s("canvas").dispatchEvent(i)};function _0x14f9(h,o){var e=_0x16f6();return _0x14f9=function(i,c){i=i-267;var f=e[i];return f},_0x14f9(h,o)}var _0x3cc4e2=_0x14f9;function _0x16f6(){var h=["grid","11708yyHXzj","680556JAokaC","show","touchstart","682284sTNENR","2445BIByzM","105ohwFln","addEventListener","#fastui","5898730ItyjLv","1650078hzXUpt","6LVEdZX","6924798MThbzs","click","7965824UqFkAR","hide","removeEventListener","timeoutId"];return _0x16f6=function(){return h},_0x16f6()}(function(h,o){for(var e=_0x14f9,i=h();[];)try{var c=-parseInt(e(281))/1+-parseInt(e(268))/2*(-parseInt(e(269))/3)+parseInt(e(277))/4*(-parseInt(e(282))/5)+parseInt(e(278))/6*(parseInt(e(283))/7)+parseInt(e(272))/8+-parseInt(e(270))/9+-parseInt(e(267))/10;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x16f6,874314);var Xf,Na,Os;const Pa=class Pa{constructor(){Nt(this,Na)}[(Xf=_0x3cc4e2(275),_0x3cc4e2(279))](){var o=_0x3cc4e2;hide("#fastui"),document[o(284)](o(271),sr(this,Na,Os)),document[o(284)](o(280),sr(this,Na,Os)),clearTimeout(Pa[o(275)])}[_0x3cc4e2(273)](){var o=_0x3cc4e2;clearTimeout(Pa[o(275)]),document[o(274)](o(271),sr(this,Na,Os)),document.removeEventListener(o(280),sr(this,Na,Os)),show(o(285),o(276))}};Na=new WeakSet,Os=function(o){var e=_0x3cc4e2;o.preventDefault(),clearTimeout(Pa[e(275)]),show("#fastui",e(276)),Pa.timeoutId=setTimeout(()=>{hide("#fastui")},2e3)},cn(Pa,Xf);let Hideaway=Pa;const _0x383c36=_0x1cd2;(function(h,o){const e=_0x1cd2,i=h();for(;[];)try{if(parseInt(e(268))/1*(-parseInt(e(314))/2)+parseInt(e(219))/3*(-parseInt(e(231))/4)+parseInt(e(226))/5*(parseInt(e(189))/6)+parseInt(e(195))/7*(-parseInt(e(264))/8)+parseInt(e(225))/9+parseInt(e(205))/10+parseInt(e(303))/11===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x5bdf,436235);function _0x1cd2(h,o){const e=_0x5bdf();return _0x1cd2=function(i,c){return i=i-188,e[i]},_0x1cd2(h,o)}var un,zs,la,fa,Yi,da,Zf,$f,ed,td,gc,Rl,rd,nd;const Br=class Br{constructor(o,e){Nt(this,gc);Nt(this,un,void 0);Nt(this,zs,void 0);nr(this,un,o),nr(this,zs,e)}initFastUI(){const o=_0x383c36;var e=document[o(253)]("div");e.id="fastui",e[o(214)][o(285)]="none",new SingleTouchButton(e,o(292),void 0,o(271),new RewindButtonListener(Ke(this,un)[o(289)]()),FAST_BTN_RADIUS),new SingleTouchButton(e,o(316),void 0,o(302),new CommandButtonListener(o(251),Ke(this,un)[o(289)]()),FAST_BTN_RADIUS),new SingleTouchButton(e,o(301),void 0,o(249),new ResetButtonListener,FAST_BTN_RADIUS),!Ke(this,un)[o(257)]()[o(277)]&&new SingleTouchButton(e,'<span style="font-size: 50%;">SAVE</span>',void 0,o(199),new SaveButtonListener(Ke(this,un)),FAST_BTN_RADIUS),Ke(this,un)[o(257)]()[o(192)]&&new SingleTouchButton(e,o(320),void 0,o(261),new KbListener(Ke(this,zs)),FAST_BTN_RADIUS),sr(this,gc,Rl).call(this,e);var i=document[o(253)](o(258));i.id="fastui-msg",i[o(214)][o(285)]=o(245),e[o(216)](i),document[o(191)][o(216)](e)}[(Zf=_0x383c36(298),$f=_0x383c36(254),ed=_0x383c36(210),td=_0x383c36(288),_0x383c36(229))](){const o=_0x383c36,e=document.getElementById("desktopUi");Ke(this,un).getSelectedPlatform()[o(277)]&&(document[o(206)](o(222)).style.display=o(245));let i;function c(Ie){const Oe=o;e[Oe(235)]("mousemove",function(){const _e=Oe;e.classList[_e(287)](_e(321)),clearTimeout(i)}),e[Oe(235)]("mouseleave",function(){i=setTimeout(function(){const _e=_0x1cd2;e[_e(250)][_e(203)]("visible")},1e3)})}function f(Ie,Oe){const _e=o;return Ie.nodeName===_e(218)?(c(),!![]):Ie.querySelector&&Ie[_e(308)]("canvas")?(c(),!![]):![]}new MutationObserver(function(Ie){const Oe=o;for(const _e of Ie)if(_e[Oe(217)]&&_e[Oe(217)][Oe(299)]>0){for(const De of _e[Oe(217)])if(f(De))return}}).observe(document[o(191)],{childList:!![],subtree:!![]}),c();let g=null,Te=this;addButtonEventListeners(s(o(291)),Ie=>{const Oe=o;Ie&&(document.fullscreenElement?document[Oe(270)]()[Oe(248)](()=>{const _e=Oe;EnvironmentManager[_e(310)](Ke(this,un)[_e(289)]())})[Oe(238)](_e=>{console[Oe(228)](_e)}):document[Oe(279)][Oe(230)]().then(()=>{const _e=Oe;EnvironmentManager.resizeCanvas(Ke(this,un)[_e(289)]())})[Oe(238)](_e=>{console[Oe(228)](_e)}))}),addButtonEventListeners(s(o(267)),Ie=>{const Oe=o;Ie?Ke(this,un)[Oe(204)]().then(De=>{console[Oe(228)](De)}).catch(De=>{console.error(Oe(240),De)}):clearInterval(g)}),addButtonEventListeners(s(o(281)),Ie=>{Ie?(Ke(Te,un).getNostalgist().sendCommand("REWIND"),g=setInterval(()=>{const Oe=_0x1cd2;Ke(Te,un)[Oe(289)]()[Oe(305)](Oe(269))},5)):clearInterval(g)}),addButtonEventListeners(s(o(227)),Ie=>{location[o(223)]()}),this[o(296)](),Ke(this,un).getSelectedPlatform()[o(283)]&&s(o(208))[o(235)](o(198),()=>{const Ie=o;s(Ie(208))[Ie(312)]()})}initTouchControllerMenu(){const o=_0x383c36,e=Ke(this,un)[o(257)]().touch_controllers;if(e.length==1)return;let i=0;new SingleTouchButton(s(o(234)),o(272),void 0,"fastjoy",new class extends TouchButtonListener{constructor(){super()}[o(322)](m){const g=o;if(m)if(Br[g(288)])Br.hideKeyboard(),Br[g(202)](),Br.mousepadVisible=![],Br[g(236)]();else if(Br[g(210)])Br.hideKeyboard(),Br.hideMousepad(),Br.mousepadVisible=![],Br[g(236)]();else{i=(i+1)%e.length;const Te=e[i];Br[g(315)](Te,!![])}}},FAST_BTN_RADIUS);const c=Ke(this,un)[o(257)]()[o(283)];if(c==null||c.length==0)return;let f=0;new SingleTouchButton(s(o(234)),o(213),void 0,o(319),new class extends TouchButtonListener{constructor(){super()}[o(322)](m){const g=o;if(m)if(Br[g(288)]=!![],Br.mousepadVisible){f=(f+1)%c[g(299)];const Te=c[f];Br[g(215)](Te,!![])}else{Br.hideKeyboard(),Br.hideJoystick();const Te=c[f];Br.toggleMousePad(Te,!![])}}},FAST_BTN_RADIUS)}initControlsButton(){const o=_0x383c36,e=document[o(206)]("desktopUiControls"),i=document[o(206)](o(300)),c=Ke(this,un)[o(289)](),f=[];let m=Object[o(255)](Ke(this,un)[o(257)]()[o(247)]);if(m.length>0)for(let De=0;De<m[o(299)];De++){let Ae=m[De],qe=Ke(this,un).getSelectedPlatform()[o(247)][Ae][o(243)],Fe=Ke(this,un).getSelectedPlatform().additional_buttons[Ae][o(239)],Ne=Ke(this,un)[o(257)]()[o(247)][Ae][o(311)];f.push({name:qe,action:()=>{const Ve=o;Ne?Ie(Ne[Ve(311)],Ne[Ve(260)],Ne.key[Ve(239)]):c[Ve(306)]({button:Fe,player:1,time:100})}})}else e[o(214)][o(285)]="none";function g(De,Ae,qe){const Fe=o;let Ne=new KeyboardEvent(Fe(224),{key:De,code:Ae,keyCode:qe,charCode:qe,bubbles:!![],cancelable:!![]});document[Fe(266)](Ne)}function Te(De,Ae,qe){const Fe=o;let Ne=new KeyboardEvent(Fe(241),{key:De,code:Ae,keyCode:qe,charCode:qe,bubbles:!![],cancelable:!![]});document[Fe(266)](Ne)}function Ie(De,Ae,qe){g(De,Ae,qe),setTimeout(()=>{Te(De,Ae,qe)},50)}function Oe(){const De=o;i[De(237)]="",f[De(212)](Ae=>{const qe=De,Fe=document[qe(253)](qe(258));Fe[qe(196)]=Ae[qe(286)],Fe[qe(273)]=qe(233),Fe[qe(235)](qe(198),Ae[qe(259)]),i[qe(216)](Fe)})}function _e(){const De=o;if(i.style[De(285)]===De(245)||i.style.display===""){const Ae=e[De(194)]();i[De(214)][De(293)]=De(232),i[De(214)][De(190)]=De(242),i[De(214)][De(317)]=Ae.bottom+"px",i[De(214)][De(313)]=Ae[De(313)]+"px",i[De(214)][De(285)]=De(284),i[De(214)][De(193)]=De(211)}else i.style[De(285)]=De(245)}e[o(235)](o(198),_e),Oe()}[_0x383c36(280)](){nr(Br,la,new QuickJoy(Ke(this,un)))}[_0x383c36(265)](){nr(Br,fa,new QuickShot(Ke(this,un)))}initMousepad(){nr(Br,da,new Mousepad(Ke(this,un)))}[_0x383c36(282)](){nr(Br,Yi,new Hideaway)}static[_0x383c36(278)](){const o=_0x383c36;Br[o(298)]==JOYSTICK_TOUCH_MODE[o(262)]&&Ke(this,Yi)[o(297)](),s("#quickshots")[o(214)][o(285)]=o(245),s(o(246))[o(214)].display=o(245)}static[_0x383c36(236)](){const o=_0x383c36;Br.currentJoyTouchMode==JOYSTICK_TOUCH_MODE[o(221)]?s(o(295))[o(214)][o(285)]="grid":Br[o(298)]==JOYSTICK_TOUCH_MODE[o(304)]?s("#quickjoys")[o(214)][o(285)]=o(275):Br.currentJoyTouchMode==JOYSTICK_TOUCH_MODE[o(262)]}static hideKeyboard(){const o=_0x383c36;Br.keyboardVisible=![],s(o(188))[o(214)].display=o(245)}static[_0x383c36(309)](){const o=_0x383c36;s(o(188))[o(214)][o(285)]=o(284)}static[_0x383c36(202)](){const o=_0x383c36;s(o(209)).style[o(285)]="none"}static[_0x383c36(207)](){const o=_0x383c36;s(o(209))[o(214)].display=o(275)}static[(rd=_0x383c36(215),nd=_0x383c36(315),_0x383c36(252))](o,e=null){const i=_0x383c36,c=document.getElementById(i(220));function f(){const m=i;c[m(214)][m(200)]="0",setTimeout(()=>c[m(214)][m(285)]=m(245),250)}if(c[i(290)]&&(clearTimeout(c[i(290)]),c[i(290)]=null),o===null){f();return}c[i(196)]=o,c[i(214)][i(285)]=i(275),setTimeout(()=>c[i(214)][i(200)]="1",0),e!==null&&(c[i(290)]=setTimeout(()=>{const m=i;f(),c[m(290)]=null},e))}};un=new WeakMap,zs=new WeakMap,la=new WeakMap,fa=new WeakMap,Yi=new WeakMap,da=new WeakMap,gc=new WeakSet,Rl=function(o){const e=_0x383c36;let i=1,c=Object[e(255)](Ke(this,un).getSelectedPlatform()[e(247)]);c[e(197)]();for(let f=0;f<c.length;f++){let m=c[f],g=Ke(this,un)[e(257)]()[e(247)][m][e(243)],Te=Ke(this,un)[e(257)]().additional_buttons[m].keyCode,Ie=Ke(this,un)[e(257)]().additional_buttons[m][e(311)],Oe;Ie?Oe=new SingleTouchButtonKbListener(Ie[e(311)],Ie.code,Ie.keyCode):Oe=new SingleTouchButtonJoyListener(Ke(this,un)[e(289)](),Te),new SingleTouchButton(o,'<span style="font-size: 50%;">'+g+e(201),void 0,e(276)+i,Oe,FAST_BTN_RADIUS),i+=1}},Nt(Br,la,void 0),Nt(Br,fa,void 0),Nt(Br,Yi,void 0),Nt(Br,da,void 0),cn(Br,Zf),cn(Br,$f),cn(Br,ed),cn(Br,td),cn(Br,rd,(o,e)=>{const i=_0x383c36;if(!(EnvironmentManager[i(256)]()||EnvironmentManager.isQuest()))switch(o){case MOUSE_TOUCH_MODE.TRACKPAD_BUTTONS:Br[i(288)]=!![],Br.currentMouseTouchMode=MOUSE_TOUCH_MODE[i(318)],Ke(Br,la)[i(297)](),Ke(Br,fa)[i(297)](),Ke(Br,Yi)[i(297)](),Ke(Br,da)[i(307)]();break}}),cn(Br,nd,(o,e)=>{const i=_0x383c36;if(!(EnvironmentManager[i(256)]()||EnvironmentManager[i(274)]()))switch(o){case JOYSTICK_TOUCH_MODE[i(304)]:Br.currentJoyTouchMode=JOYSTICK_TOUCH_MODE.QUICKJOY_PRIMARY,e&&Br[i(252)](i(294),1e3),Ke(Br,Yi)[i(297)](),Ke(Br,fa).hide(),Ke(Br,da)[i(297)](),Ke(Br,la).show();break;case JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC:Br.currentJoyTouchMode=JOYSTICK_TOUCH_MODE[i(221)],e&&Br.osdMessage(i(244),1e3),Ke(Br,la)[i(297)](),Ke(Br,da)[i(297)](),Ke(Br,Yi)[i(297)](),Ke(Br,fa)[i(307)]();break;case JOYSTICK_TOUCH_MODE[i(262)]:Br[i(298)]=JOYSTICK_TOUCH_MODE.HIDEAWAY,e&&Br[i(252)]("Auto Hide",1e3),Ke(Br,la).hide(),Ke(Br,fa).hide(),Ke(Br,da)[i(297)](),Ke(Br,Yi).show();break}});let UiManager=Br;var zo,Hs,Ws;const Fs=class Fs extends TouchButtonListener{constructor(e){super();Nt(this,zo,void 0);Nt(this,Hs,void 0);nr(this,zo,e)}[_0x383c36(322)](e){e?(Ke(this,zo).sendCommand(Ke(Fs,Ws)),nr(this,Hs,setInterval(()=>{const i=_0x1cd2;Ke(this,zo)[i(305)](Ke(Fs,Ws))},5))):clearInterval(Ke(this,Hs))}};zo=new WeakMap,Hs=new WeakMap,Ws=new WeakMap,Nt(Fs,Ws,_0x383c36(269));let RewindButtonListener=Fs;var Ks,Gs;class CommandButtonListener extends TouchButtonListener{constructor(e,i,c){super();Nt(this,Ks,void 0);Nt(this,Gs,void 0);nr(this,Ks,e),nr(this,Gs,i),this.message=c}trigger(e){const i=_0x383c36;Ke(this,Gs)[i(305)](Ke(this,Ks))}}Ks=new WeakMap,Gs=new WeakMap;function _0x5bdf(){const h=["absolute","menu-item","#fastui","addEventListener","showJoystick","innerHTML","catch","keyCode","Error resolving state:","keyup","8px 16px","label","QuickShot","none","#quickjoys","additional_buttons","then","fastmenu","classList","FAST_FORWARD","osdMessage","createElement","currentMouseTouchMode","keys","isDesktop","getSelectedPlatform","div","action","code","fastkb","HIDEAWAY","showTouchKeyboard","3350208vRLfKC","initQuickshot","dispatchEvent","#desktopUiSave","145YQYVuA","REWIND","exitFullscreen","fastrewind",'<span style="font-size: 50%;">JOY</span>',"className","isQuest","grid","fast","savestates_disabled","hideJoystick","documentElement","initQuickJoy","#desktopUiRewind","initHideaway","mouse_controllers","block","display","name","add","mousepadVisible","getNostalgist","fadeOutTimeout","#desktopUiFs",'<span style="font-size: 50%;">REWIND</span>',"position","QuickJoy","#quickshots","initControlsButton","hide","currentJoyTouchMode","length","controlsMenu",'<span style="font-size: 50%;">QUIT</span>',"fastffd","3943830GJczFb","QUICKJOY_PRIMARY","sendCommand","press","show","querySelector","showKeyboard","resizeCanvas","key","requestPointerLock","left","11650DWiUhU","toggleJoystick",'<span style="font-size: 50%;">FFD</span>',"top","TRACKPAD_BUTTONS","fastmouse",'<span style="font-size: 50%;">KB</span>',"visible","trigger","#keyboardContainer","47940TWKMKI","padding","body","keyboard","fontSize","getBoundingClientRect","14UiXWvm","textContent","reverse","click","fastsave","opacity","</span>","hideMousepad","remove","saveState","8521690NlgxNi","getElementById","showMousepad","#canvas","#mousepads","keyboardVisible","10pt","forEach",'<span style="font-size: 50%;">MOUSE</span>',"style","toggleMousePad","appendChild","addedNodes","CANVAS","1698buofZh","fastui-msg","QUICKSHOT_DYNAMIC","desktopUiSave","reload","keydown","4615785kFZwJb","455PrnUwB","#desktopUiBack","log","initDesktopUI","requestFullscreen","2348NYLvsC"];return _0x5bdf=function(){return h},_0x5bdf()}var Ys;class SaveButtonListener extends TouchButtonListener{constructor(e){super();Nt(this,Ys,void 0);nr(this,Ys,e)}async[_0x383c36(322)](e){e&&Ke(this,Ys).saveState()}}Ys=new WeakMap;var Qs;class KbListener extends TouchButtonListener{constructor(e){super();Nt(this,Qs,void 0);nr(this,Qs,e)}trigger(e){const i=_0x383c36;e&&(UiManager[i(210)]=!![],UiManager[i(278)](),UiManager.hideMousepad(),UiManager[i(309)](),Ke(this,Qs)[i(263)]())}}Qs=new WeakMap;class ResetButtonListener extends TouchButtonListener{constructor(){super()}[_0x383c36(322)](o){o&&location[_0x383c36(223)]()}}var lib={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z=Symbol.iterator;function A(h){return h===null||typeof h!="object"?null:(h=z&&h[z]||h["@@iterator"],typeof h=="function"?h:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,D$1={};function E(h,o,e){this.props=h,this.context=o,this.refs=D$1,this.updater=e||B}E.prototype.isReactComponent={};E.prototype.setState=function(h,o){if(typeof h!="object"&&typeof h!="function"&&h!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,h,o,"setState")};E.prototype.forceUpdate=function(h){this.updater.enqueueForceUpdate(this,h,"forceUpdate")};function F$1(){}F$1.prototype=E.prototype;function G$1(h,o,e){this.props=h,this.context=o,this.refs=D$1,this.updater=e||B}var H=G$1.prototype=new F$1;H.constructor=G$1;C(H,E.prototype);H.isPureReactComponent=!0;var I$1=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M(h,o,e){var i,c={},f=null,m=null;if(o!=null)for(i in o.ref!==void 0&&(m=o.ref),o.key!==void 0&&(f=""+o.key),o)J$1.call(o,i)&&!L$1.hasOwnProperty(i)&&(c[i]=o[i]);var g=arguments.length-2;if(g===1)c.children=e;else if(1<g){for(var Te=Array(g),Ie=0;Ie<g;Ie++)Te[Ie]=arguments[Ie+2];c.children=Te}if(h&&h.defaultProps)for(i in g=h.defaultProps,g)c[i]===void 0&&(c[i]=g[i]);return{$$typeof:l$1,type:h,key:f,ref:m,props:c,_owner:K$1.current}}function N$1(h,o){return{$$typeof:l$1,type:h.type,key:o,ref:h.ref,props:h.props,_owner:h._owner}}function O$1(h){return typeof h=="object"&&h!==null&&h.$$typeof===l$1}function escape$1(h){var o={"=":"=0",":":"=2"};return"$"+h.replace(/[=:]/g,function(e){return o[e]})}var P=/\/+/g;function Q$1(h,o){return typeof h=="object"&&h!==null&&h.key!=null?escape$1(""+h.key):o.toString(36)}function R$1(h,o,e,i,c){var f=typeof h;(f==="undefined"||f==="boolean")&&(h=null);var m=!1;if(h===null)m=!0;else switch(f){case"string":case"number":m=!0;break;case"object":switch(h.$$typeof){case l$1:case n:m=!0}}if(m)return m=h,c=c(m),h=i===""?"."+Q$1(m,0):i,I$1(c)?(e="",h!=null&&(e=h.replace(P,"$&/")+"/"),R$1(c,o,e,"",function(Ie){return Ie})):c!=null&&(O$1(c)&&(c=N$1(c,e+(!c.key||m&&m.key===c.key?"":(""+c.key).replace(P,"$&/")+"/")+h)),o.push(c)),1;if(m=0,i=i===""?".":i+":",I$1(h))for(var g=0;g<h.length;g++){f=h[g];var Te=i+Q$1(f,g);m+=R$1(f,o,e,Te,c)}else if(Te=A(h),typeof Te=="function")for(h=Te.call(h),g=0;!(f=h.next()).done;)f=f.value,Te=i+Q$1(f,g++),m+=R$1(f,o,e,Te,c);else if(f==="object")throw o=String(h),Error("Objects are not valid as a React child (found: "+(o==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":o)+"). If you meant to render a collection of children, use an array instead.");return m}function S(h,o,e){if(h==null)return h;var i=[],c=0;return R$1(h,i,"","",function(f){return o.call(e,f,c++)}),i}function T(h){if(h._status===-1){var o=h._result;o=o(),o.then(function(e){(h._status===0||h._status===-1)&&(h._status=1,h._result=e)},function(e){(h._status===0||h._status===-1)&&(h._status=2,h._result=e)}),h._status===-1&&(h._status=0,h._result=o)}if(h._status===1)return h._result.default;throw h._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S,forEach:function(h,o,e){S(h,function(){o.apply(this,arguments)},e)},count:function(h){var o=0;return S(h,function(){o++}),o},toArray:function(h){return S(h,function(o){return o})||[]},only:function(h){if(!O$1(h))throw Error("React.Children.only expected to receive a single React element child.");return h}};react_production_min.Component=E;react_production_min.Fragment=p;react_production_min.Profiler=r;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$1;react_production_min.cloneElement=function(h,o,e){if(h==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+h+".");var i=C({},h.props),c=h.key,f=h.ref,m=h._owner;if(o!=null){if(o.ref!==void 0&&(f=o.ref,m=K$1.current),o.key!==void 0&&(c=""+o.key),h.type&&h.type.defaultProps)var g=h.type.defaultProps;for(Te in o)J$1.call(o,Te)&&!L$1.hasOwnProperty(Te)&&(i[Te]=o[Te]===void 0&&g!==void 0?g[Te]:o[Te])}var Te=arguments.length-2;if(Te===1)i.children=e;else if(1<Te){g=Array(Te);for(var Ie=0;Ie<Te;Ie++)g[Ie]=arguments[Ie+2];i.children=g}return{$$typeof:l$1,type:h.type,key:c,ref:f,props:i,_owner:m}};react_production_min.createContext=function(h){return h={$$typeof:u,_currentValue:h,_currentValue2:h,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},h.Provider={$$typeof:t,_context:h},h.Consumer=h};react_production_min.createElement=M;react_production_min.createFactory=function(h){var o=M.bind(null,h);return o.type=h,o};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(h){return{$$typeof:v,render:h}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(h){return{$$typeof:y,_payload:{_status:-1,_result:h},_init:T}};react_production_min.memo=function(h,o){return{$$typeof:x,type:h,compare:o===void 0?null:o}};react_production_min.startTransition=function(h){var o=V$1.transition;V$1.transition={};try{h()}finally{V$1.transition=o}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(h,o){return U$1.current.useCallback(h,o)};react_production_min.useContext=function(h){return U$1.current.useContext(h)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(h){return U$1.current.useDeferredValue(h)};react_production_min.useEffect=function(h,o){return U$1.current.useEffect(h,o)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(h,o,e){return U$1.current.useImperativeHandle(h,o,e)};react_production_min.useInsertionEffect=function(h,o){return U$1.current.useInsertionEffect(h,o)};react_production_min.useLayoutEffect=function(h,o){return U$1.current.useLayoutEffect(h,o)};react_production_min.useMemo=function(h,o){return U$1.current.useMemo(h,o)};react_production_min.useReducer=function(h,o,e){return U$1.current.useReducer(h,o,e)};react_production_min.useRef=function(h){return U$1.current.useRef(h)};react_production_min.useState=function(h){return U$1.current.useState(h)};react_production_min.useSyncExternalStore=function(h,o,e){return U$1.current.useSyncExternalStore(h,o,e)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports,uaParser_min={exports:{}};(function(h,o){(function(e,i){var c="1.0.39",f="",m="?",g="function",Te="undefined",Ie="object",Oe="string",_e="major",De="model",Ae="name",qe="type",Fe="vendor",Ne="version",Ve="architecture",Ue="console",We="mobile",He="tablet",Xe="smarttv",ot="wearable",tt="embedded",gt=500,vt="Amazon",rt="Apple",ht="ASUS",it="BlackBerry",mt="Browser",Ze="Chrome",Ft="Edge",Zt="Firefox",zt="Google",ur="Huawei",bt="LG",St="Microsoft",ct="Motorola",dt="Opera",Bt="Samsung",Ct="Sharp",Kt="Sony",fr="Xiaomi",Rr="Zebra",cr="Facebook",lt="Chromium OS",yt="Mac OS",Xt=" Browser",$t=function(It,jt){var tr={};for(var Sr in It)jt[Sr]&&jt[Sr].length%2===0?tr[Sr]=jt[Sr].concat(It[Sr]):tr[Sr]=It[Sr];return tr},dr=function(It){for(var jt={},tr=0;tr<It.length;tr++)jt[It[tr].toUpperCase()]=It[tr];return jt},Je=function(It,jt){return typeof It===Oe?At(jt).indexOf(At(It))!==-1:!1},At=function(It){return It.toLowerCase()},Wt=function(It){return typeof It===Oe?It.replace(/[^\d\.]/g,f).split(".")[0]:i},xt=function(It,jt){if(typeof It===Oe)return It=It.replace(/^\s\s*/,f),typeof jt===Te?It:It.substring(0,gt)},pt=function(It,jt){for(var tr=0,Sr,Lr,Pr,Er,gr,Qr;tr<jt.length&&!gr;){var Cr=jt[tr],sn=jt[tr+1];for(Sr=Lr=0;Sr<Cr.length&&!gr&&Cr[Sr];)if(gr=Cr[Sr++].exec(It),gr)for(Pr=0;Pr<sn.length;Pr++)Qr=gr[++Lr],Er=sn[Pr],typeof Er===Ie&&Er.length>0?Er.length===2?typeof Er[1]==g?this[Er[0]]=Er[1].call(this,Qr):this[Er[0]]=Er[1]:Er.length===3?typeof Er[1]===g&&!(Er[1].exec&&Er[1].test)?this[Er[0]]=Qr?Er[1].call(this,Qr,Er[2]):i:this[Er[0]]=Qr?Qr.replace(Er[1],Er[2]):i:Er.length===4&&(this[Er[0]]=Qr?Er[3].call(this,Qr.replace(Er[1],Er[2])):i):this[Er]=Qr||i;tr+=2}},Dt=function(It,jt){for(var tr in jt)if(typeof jt[tr]===Ie&&jt[tr].length>0){for(var Sr=0;Sr<jt[tr].length;Sr++)if(Je(jt[tr][Sr],It))return tr===m?i:tr}else if(Je(jt[tr],It))return tr===m?i:tr;return jt.hasOwnProperty("*")?jt["*"]:It},er={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},nt={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},ze={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[Ne,[Ae,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[Ne,[Ae,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[Ae,Ne],[/opios[\/ ]+([\w\.]+)/i],[Ne,[Ae,dt+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[Ne,[Ae,dt+" GX"]],[/\bopr\/([\w\.]+)/i],[Ne,[Ae,dt]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[Ne,[Ae,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[Ae,Ne],[/quark(?:pc)?\/([-\w\.]+)/i],[Ne,[Ae,"Quark"]],[/\bddg\/([\w\.]+)/i],[Ne,[Ae,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[Ne,[Ae,"UC"+mt]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[Ne,[Ae,"WeChat"]],[/konqueror\/([\w\.]+)/i],[Ne,[Ae,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[Ne,[Ae,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[Ne,[Ae,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[Ne,[Ae,"Smart Lenovo "+mt]],[/(avast|avg)\/([\w\.]+)/i],[[Ae,/(.+)/,"$1 Secure "+mt],Ne],[/\bfocus\/([\w\.]+)/i],[Ne,[Ae,Zt+" Focus"]],[/\bopt\/([\w\.]+)/i],[Ne,[Ae,dt+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[Ne,[Ae,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[Ne,[Ae,"Dolphin"]],[/coast\/([\w\.]+)/i],[Ne,[Ae,dt+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[Ne,[Ae,"MIUI "+mt]],[/fxios\/([-\w\.]+)/i],[Ne,[Ae,Zt]],[/\bqihu|(qi?ho?o?|360)browser/i],[[Ae,"360"+Xt]],[/\b(qq)\/([\w\.]+)/i],[[Ae,/(.+)/,"$1Browser"],Ne],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[Ae,/(.+)/,"$1"+Xt],Ne],[/samsungbrowser\/([\w\.]+)/i],[Ne,[Ae,Bt+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[Ae,/_/g," "],Ne],[/metasr[\/ ]?([\d\.]+)/i],[Ne,[Ae,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[Ae,"Sogou Mobile"],Ne],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[Ae,Ne],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[Ae],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[Ae,cr],Ne],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[Ae,Ne],[/\bgsa\/([\w\.]+) .*safari\//i],[Ne,[Ae,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[Ne,[Ae,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[Ne,[Ae,Ze+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[Ae,Ze+" WebView"],Ne],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[Ne,[Ae,"Android "+mt]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[Ae,Ne],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[Ne,[Ae,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[Ne,Ae],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[Ae,[Ne,Dt,er]],[/(webkit|khtml)\/([\w\.]+)/i],[Ae,Ne],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[Ae,"Netscape"],Ne],[/(wolvic)\/([\w\.]+)/i],[Ae,Ne],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[Ne,[Ae,Zt+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[Ae,[Ne,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[Ae,[Ne,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[Ve,"amd64"]],[/(ia32(?=;))/i],[[Ve,At]],[/((?:i[346]|x)86)[;\)]/i],[[Ve,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[Ve,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[Ve,"armhf"]],[/windows (ce|mobile); ppc;/i],[[Ve,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[Ve,/ower/,f,At]],[/(sun4\w)[;\)]/i],[[Ve,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[Ve,At]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[De,[Fe,Bt],[qe,He]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[De,[Fe,Bt],[qe,We]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[De,[Fe,rt],[qe,We]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[De,[Fe,rt],[qe,He]],[/(macintosh);/i],[De,[Fe,rt]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[De,[Fe,Ct],[qe,We]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[De,[Fe,ur],[qe,He]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[De,[Fe,ur],[qe,We]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[De,/_/g," "],[Fe,fr],[qe,We]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[De,/_/g," "],[Fe,fr],[qe,He]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[De,[Fe,"OPPO"],[qe,We]],[/\b(opd2\d{3}a?) bui/i],[De,[Fe,"OPPO"],[qe,He]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[De,[Fe,"Vivo"],[qe,We]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[De,[Fe,"Realme"],[qe,We]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[De,[Fe,ct],[qe,We]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[De,[Fe,ct],[qe,He]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[De,[Fe,bt],[qe,He]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[De,[Fe,bt],[qe,We]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[De,[Fe,"Lenovo"],[qe,He]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[De,/_/g," "],[Fe,"Nokia"],[qe,We]],[/(pixel c)\b/i],[De,[Fe,zt],[qe,He]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[De,[Fe,zt],[qe,We]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[De,[Fe,Kt],[qe,We]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[De,"Xperia Tablet"],[Fe,Kt],[qe,He]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[De,[Fe,"OnePlus"],[qe,We]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[De,[Fe,vt],[qe,He]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[De,/(.+)/g,"Fire Phone $1"],[Fe,vt],[qe,We]],[/(playbook);[-\w\),; ]+(rim)/i],[De,Fe,[qe,He]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[De,[Fe,it],[qe,We]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[De,[Fe,ht],[qe,He]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[De,[Fe,ht],[qe,We]],[/(nexus 9)/i],[De,[Fe,"HTC"],[qe,He]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[Fe,[De,/_/g," "],[qe,We]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[De,[Fe,"TCL"],[qe,He]],[/(itel) ((\w+))/i],[[Fe,At],De,[qe,Dt,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[De,[Fe,"Acer"],[qe,He]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[De,[Fe,"Meizu"],[qe,We]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[De,[Fe,"Ulefone"],[qe,We]],[/droid.+; (a(?:015|06[35]|142p?))/i],[De,[Fe,"Nothing"],[qe,We]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[Fe,De,[qe,We]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[Fe,De,[qe,He]],[/(surface duo)/i],[De,[Fe,St],[qe,He]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[De,[Fe,"Fairphone"],[qe,We]],[/(u304aa)/i],[De,[Fe,"AT&T"],[qe,We]],[/\bsie-(\w*)/i],[De,[Fe,"Siemens"],[qe,We]],[/\b(rct\w+) b/i],[De,[Fe,"RCA"],[qe,He]],[/\b(venue[\d ]{2,7}) b/i],[De,[Fe,"Dell"],[qe,He]],[/\b(q(?:mv|ta)\w+) b/i],[De,[Fe,"Verizon"],[qe,He]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[De,[Fe,"Barnes & Noble"],[qe,He]],[/\b(tm\d{3}\w+) b/i],[De,[Fe,"NuVision"],[qe,He]],[/\b(k88) b/i],[De,[Fe,"ZTE"],[qe,He]],[/\b(nx\d{3}j) b/i],[De,[Fe,"ZTE"],[qe,We]],[/\b(gen\d{3}) b.+49h/i],[De,[Fe,"Swiss"],[qe,We]],[/\b(zur\d{3}) b/i],[De,[Fe,"Swiss"],[qe,He]],[/\b((zeki)?tb.*\b) b/i],[De,[Fe,"Zeki"],[qe,He]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[Fe,"Dragon Touch"],De,[qe,He]],[/\b(ns-?\w{0,9}) b/i],[De,[Fe,"Insignia"],[qe,He]],[/\b((nxa|next)-?\w{0,9}) b/i],[De,[Fe,"NextBook"],[qe,He]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[Fe,"Voice"],De,[qe,We]],[/\b(lvtel\-)?(v1[12]) b/i],[[Fe,"LvTel"],De,[qe,We]],[/\b(ph-1) /i],[De,[Fe,"Essential"],[qe,We]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[De,[Fe,"Envizen"],[qe,He]],[/\b(trio[-\w\. ]+) b/i],[De,[Fe,"MachSpeed"],[qe,He]],[/\btu_(1491) b/i],[De,[Fe,"Rotor"],[qe,He]],[/(shield[\w ]+) b/i],[De,[Fe,"Nvidia"],[qe,He]],[/(sprint) (\w+)/i],[Fe,De,[qe,We]],[/(kin\.[onetw]{3})/i],[[De,/\./g," "],[Fe,St],[qe,We]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[De,[Fe,Rr],[qe,He]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[De,[Fe,Rr],[qe,We]],[/smart-tv.+(samsung)/i],[Fe,[qe,Xe]],[/hbbtv.+maple;(\d+)/i],[[De,/^/,"SmartTV"],[Fe,Bt],[qe,Xe]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[Fe,bt],[qe,Xe]],[/(apple) ?tv/i],[Fe,[De,rt+" TV"],[qe,Xe]],[/crkey/i],[[De,Ze+"cast"],[Fe,zt],[qe,Xe]],[/droid.+aft(\w+)( bui|\))/i],[De,[Fe,vt],[qe,Xe]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[De,[Fe,Ct],[qe,Xe]],[/(bravia[\w ]+)( bui|\))/i],[De,[Fe,Kt],[qe,Xe]],[/(mitv-\w{5}) bui/i],[De,[Fe,fr],[qe,Xe]],[/Hbbtv.*(technisat) (.*);/i],[Fe,De,[qe,Xe]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[Fe,xt],[De,xt],[qe,Xe]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[qe,Xe]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[Fe,De,[qe,Ue]],[/droid.+; (shield) bui/i],[De,[Fe,"Nvidia"],[qe,Ue]],[/(playstation [345portablevi]+)/i],[De,[Fe,Kt],[qe,Ue]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[De,[Fe,St],[qe,Ue]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[De,[Fe,Bt],[qe,ot]],[/((pebble))app/i],[Fe,De,[qe,ot]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[De,[Fe,rt],[qe,ot]],[/droid.+; (glass) \d/i],[De,[Fe,zt],[qe,ot]],[/droid.+; (wt63?0{2,3})\)/i],[De,[Fe,Rr],[qe,ot]],[/(quest( \d| pro)?)/i],[De,[Fe,cr],[qe,ot]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[Fe,[qe,tt]],[/(aeobc)\b/i],[De,[Fe,vt],[qe,tt]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[De,[qe,We]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[De,[qe,He]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[qe,He]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[qe,We]],[/(android[-\w\. ]{0,9});.+buil/i],[De,[Fe,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[Ne,[Ae,Ft+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[Ne,[Ae,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[Ae,Ne],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[Ne,Ae]],os:[[/microsoft (windows) (vista|xp)/i],[Ae,Ne],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[Ae,[Ne,Dt,nt]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[Ne,Dt,nt],[Ae,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[Ne,/_/g,"."],[Ae,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[Ae,yt],[Ne,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[Ne,Ae],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[Ae,Ne],[/\(bb(10);/i],[Ne,[Ae,it]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[Ne,[Ae,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[Ne,[Ae,Zt+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[Ne,[Ae,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[Ne,[Ae,"watchOS"]],[/crkey\/([\d\.]+)/i],[Ne,[Ae,Ze+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[Ae,lt],Ne],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[Ae,Ne],[/(sunos) ?([\w\.\d]*)/i],[[Ae,"Solaris"],Ne],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[Ae,Ne]]},Ge=function(It,jt){if(typeof It===Ie&&(jt=It,It=i),!(this instanceof Ge))return new Ge(It,jt).getResult();var tr=typeof e!==Te&&e.navigator?e.navigator:i,Sr=It||(tr&&tr.userAgent?tr.userAgent:f),Lr=tr&&tr.userAgentData?tr.userAgentData:i,Pr=jt?$t(ze,jt):ze,Er=tr&&tr.userAgent==Sr;return this.getBrowser=function(){var gr={};return gr[Ae]=i,gr[Ne]=i,pt.call(gr,Sr,Pr.browser),gr[_e]=Wt(gr[Ne]),Er&&tr&&tr.brave&&typeof tr.brave.isBrave==g&&(gr[Ae]="Brave"),gr},this.getCPU=function(){var gr={};return gr[Ve]=i,pt.call(gr,Sr,Pr.cpu),gr},this.getDevice=function(){var gr={};return gr[Fe]=i,gr[De]=i,gr[qe]=i,pt.call(gr,Sr,Pr.device),Er&&!gr[qe]&&Lr&&Lr.mobile&&(gr[qe]=We),Er&&gr[De]=="Macintosh"&&tr&&typeof tr.standalone!==Te&&tr.maxTouchPoints&&tr.maxTouchPoints>2&&(gr[De]="iPad",gr[qe]=He),gr},this.getEngine=function(){var gr={};return gr[Ae]=i,gr[Ne]=i,pt.call(gr,Sr,Pr.engine),gr},this.getOS=function(){var gr={};return gr[Ae]=i,gr[Ne]=i,pt.call(gr,Sr,Pr.os),Er&&!gr[Ae]&&Lr&&Lr.platform&&Lr.platform!="Unknown"&&(gr[Ae]=Lr.platform.replace(/chrome os/i,lt).replace(/macos/i,yt)),gr},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Sr},this.setUA=function(gr){return Sr=typeof gr===Oe&&gr.length>gt?xt(gr,gt):gr,this},this.setUA(Sr),this};Ge.VERSION=c,Ge.BROWSER=dr([Ae,Ne,_e]),Ge.CPU=dr([Ve]),Ge.DEVICE=dr([De,Fe,qe,Ue,We,Xe,He,ot,tt]),Ge.ENGINE=Ge.OS=dr([Ae,Ne]),h.exports&&(o=h.exports=Ge),o.UAParser=Ge;var ut=typeof e!==Te&&(e.jQuery||e.Zepto);if(ut&&!ut.ua){var Et=new Ge;ut.ua=Et.getResult(),ut.ua.get=function(){return Et.getUA()},ut.ua.set=function(It){Et.setUA(It);var jt=Et.getResult();for(var tr in jt)ut.ua[tr]=jt[tr]}}})(typeof window=="object"?window:commonjsGlobal$1)})(uaParser_min,uaParser_min.exports);var uaParser_minExports=uaParser_min.exports;Object.defineProperty(lib,"__esModule",{value:!0});function _interopDefault(h){return h&&typeof h=="object"&&"default"in h?h.default:h}var React=reactExports,React__default=_interopDefault(React),UAParser=uaParser_minExports,ClientUAInstance=new UAParser,browser=ClientUAInstance.getBrowser(),cpu=ClientUAInstance.getCPU(),device=ClientUAInstance.getDevice(),engine=ClientUAInstance.getEngine(),os=ClientUAInstance.getOS(),ua=ClientUAInstance.getUA(),setUa=function h(o){return ClientUAInstance.setUA(o)},parseUserAgent=function h(o){if(!o){console.error("No userAgent string was provided");return}var e=new UAParser(o);return{UA:e,browser:e.getBrowser(),cpu:e.getCPU(),device:e.getDevice(),engine:e.getEngine(),os:e.getOS(),ua:e.getUA(),setUserAgent:function(c){return e.setUA(c)}}},UAHelper=Object.freeze({ClientUAInstance,browser,cpu,device,engine,os,ua,setUa,parseUserAgent});function ownKeys(h,o){var e=Object.keys(h);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(h);o&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(h,c).enumerable})),e.push.apply(e,i)}return e}function _objectSpread2(h){for(var o=1;o<arguments.length;o++){var e=arguments[o]!=null?arguments[o]:{};o%2?ownKeys(Object(e),!0).forEach(function(i){_defineProperty(h,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(e)):ownKeys(Object(e)).forEach(function(i){Object.defineProperty(h,i,Object.getOwnPropertyDescriptor(e,i))})}return h}function _typeof(h){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(o){return typeof o}:_typeof=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(h)}function _classCallCheck(h,o){if(!(h instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties(h,o){for(var e=0;e<o.length;e++){var i=o[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(h,i.key,i)}}function _createClass(h,o,e){return o&&_defineProperties(h.prototype,o),e&&_defineProperties(h,e),h}function _defineProperty(h,o,e){return o in h?Object.defineProperty(h,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):h[o]=e,h}function _extends(){return _extends=Object.assign||function(h){for(var o=1;o<arguments.length;o++){var e=arguments[o];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(h[i]=e[i])}return h},_extends.apply(this,arguments)}function _inherits(h,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(o&&o.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),o&&_setPrototypeOf(h,o)}function _getPrototypeOf(h){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(h)}function _setPrototypeOf(h,o){return _setPrototypeOf=Object.setPrototypeOf||function(i,c){return i.__proto__=c,i},_setPrototypeOf(h,o)}function _objectWithoutPropertiesLoose(h,o){if(h==null)return{};var e={},i=Object.keys(h),c,f;for(f=0;f<i.length;f++)c=i[f],!(o.indexOf(c)>=0)&&(e[c]=h[c]);return e}function _objectWithoutProperties(h,o){if(h==null)return{};var e=_objectWithoutPropertiesLoose(h,o),i,c;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(h);for(c=0;c<f.length;c++)i=f[c],!(o.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(h,i)&&(e[i]=h[i])}return e}function _assertThisInitialized(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function _possibleConstructorReturn(h,o){if(o&&(typeof o=="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(h)}function _slicedToArray(h,o){return _arrayWithHoles(h)||_iterableToArrayLimit(h,o)||_unsupportedIterableToArray(h,o)||_nonIterableRest()}function _arrayWithHoles(h){if(Array.isArray(h))return h}function _iterableToArrayLimit(h,o){var e=h==null?null:typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(e!=null){var i=[],c=!0,f=!1,m,g;try{for(e=e.call(h);!(c=(m=e.next()).done)&&(i.push(m.value),!(o&&i.length===o));c=!0);}catch(Te){f=!0,g=Te}finally{try{!c&&e.return!=null&&e.return()}finally{if(f)throw g}}return i}}function _unsupportedIterableToArray(h,o){if(h){if(typeof h=="string")return _arrayLikeToArray(h,o);var e=Object.prototype.toString.call(h).slice(8,-1);if(e==="Object"&&h.constructor&&(e=h.constructor.name),e==="Map"||e==="Set")return Array.from(h);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return _arrayLikeToArray(h,o)}}function _arrayLikeToArray(h,o){(o==null||o>h.length)&&(o=h.length);for(var e=0,i=new Array(o);e<o;e++)i[e]=h[e];return i}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var DeviceTypes={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},BrowserTypes={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},OsTypes={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},InitialDeviceTypes={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},checkDeviceType=function h(o){switch(o){case DeviceTypes.Mobile:return{isMobile:!0};case DeviceTypes.Tablet:return{isTablet:!0};case DeviceTypes.SmartTv:return{isSmartTV:!0};case DeviceTypes.Console:return{isConsole:!0};case DeviceTypes.Wearable:return{isWearable:!0};case DeviceTypes.Browser:return{isBrowser:!0};case DeviceTypes.Embedded:return{isEmbedded:!0};default:return InitialDeviceTypes}},setUserAgent=function h(o){return setUa(o)},setDefaults=function h(o){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return o||e},getNavigatorInstance=function h(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},isIOS13Check=function h(o){var e=getNavigatorInstance();return e&&e.platform&&(e.platform.indexOf(o)!==-1||e.platform==="MacIntel"&&e.maxTouchPoints>1&&!window.MSStream)},browserPayload=function h(o,e,i,c,f){return{isBrowser:o,browserMajorVersion:setDefaults(e.major),browserFullVersion:setDefaults(e.version),browserName:setDefaults(e.name),engineName:setDefaults(i.name),engineVersion:setDefaults(i.version),osName:setDefaults(c.name),osVersion:setDefaults(c.version),userAgent:setDefaults(f)}},mobilePayload=function h(o,e,i,c){return _objectSpread2({},o,{vendor:setDefaults(e.vendor),model:setDefaults(e.model),os:setDefaults(i.name),osVersion:setDefaults(i.version),ua:setDefaults(c)})},smartTvPayload=function h(o,e,i,c){return{isSmartTV:o,engineName:setDefaults(e.name),engineVersion:setDefaults(e.version),osName:setDefaults(i.name),osVersion:setDefaults(i.version),userAgent:setDefaults(c)}},consolePayload=function h(o,e,i,c){return{isConsole:o,engineName:setDefaults(e.name),engineVersion:setDefaults(e.version),osName:setDefaults(i.name),osVersion:setDefaults(i.version),userAgent:setDefaults(c)}},wearablePayload=function h(o,e,i,c){return{isWearable:o,engineName:setDefaults(e.name),engineVersion:setDefaults(e.version),osName:setDefaults(i.name),osVersion:setDefaults(i.version),userAgent:setDefaults(c)}},embeddedPayload=function h(o,e,i,c,f){return{isEmbedded:o,vendor:setDefaults(e.vendor),model:setDefaults(e.model),engineName:setDefaults(i.name),engineVersion:setDefaults(i.version),osName:setDefaults(c.name),osVersion:setDefaults(c.version),userAgent:setDefaults(f)}};function deviceDetect(h){var o=h?parseUserAgent(h):UAHelper,e=o.device,i=o.browser,c=o.engine,f=o.os,m=o.ua,g=checkDeviceType(e.type),Te=g.isBrowser,Ie=g.isMobile,Oe=g.isTablet,_e=g.isSmartTV,De=g.isConsole,Ae=g.isWearable,qe=g.isEmbedded;if(Te)return browserPayload(Te,i,c,f,m);if(_e)return smartTvPayload(_e,c,f,m);if(De)return consolePayload(De,c,f,m);if(Ie||Oe)return mobilePayload(g,e,f,m);if(Ae)return wearablePayload(Ae,c,f,m);if(qe)return embeddedPayload(qe,e,c,f,m)}var isMobileType=function h(o){var e=o.type;return e===DeviceTypes.Mobile},isTabletType=function h(o){var e=o.type;return e===DeviceTypes.Tablet},isMobileAndTabletType=function h(o){var e=o.type;return e===DeviceTypes.Mobile||e===DeviceTypes.Tablet},isSmartTVType=function h(o){var e=o.type;return e===DeviceTypes.SmartTv},isBrowserType=function h(o){var e=o.type;return e===DeviceTypes.Browser},isWearableType=function h(o){var e=o.type;return e===DeviceTypes.Wearable},isConsoleType=function h(o){var e=o.type;return e===DeviceTypes.Console},isEmbeddedType=function h(o){var e=o.type;return e===DeviceTypes.Embedded},getMobileVendor=function h(o){var e=o.vendor;return setDefaults(e)},getMobileModel=function h(o){var e=o.model;return setDefaults(e)},getDeviceType=function h(o){var e=o.type;return setDefaults(e,"browser")},isAndroidType=function h(o){var e=o.name;return e===OsTypes.Android},isWindowsType=function h(o){var e=o.name;return e===OsTypes.Windows},isMacOsType=function h(o){var e=o.name;return e===OsTypes.MAC_OS},isWinPhoneType=function h(o){var e=o.name;return e===OsTypes.WindowsPhone},isIOSType=function h(o){var e=o.name;return e===OsTypes.IOS},getOsVersion=function h(o){var e=o.version;return setDefaults(e)},getOsName=function h(o){var e=o.name;return setDefaults(e)},isChromeType=function h(o){var e=o.name;return e===BrowserTypes.Chrome},isFirefoxType=function h(o){var e=o.name;return e===BrowserTypes.Firefox},isChromiumType=function h(o){var e=o.name;return e===BrowserTypes.Chromium},isEdgeType=function h(o){var e=o.name;return e===BrowserTypes.Edge},isYandexType=function h(o){var e=o.name;return e===BrowserTypes.Yandex},isSafariType=function h(o){var e=o.name;return e===BrowserTypes.Safari||e===BrowserTypes.MobileSafari},isMobileSafariType=function h(o){var e=o.name;return e===BrowserTypes.MobileSafari},isOperaType=function h(o){var e=o.name;return e===BrowserTypes.Opera},isIEType=function h(o){var e=o.name;return e===BrowserTypes.InternetExplorer||e===BrowserTypes.Ie},isMIUIType=function h(o){var e=o.name;return e===BrowserTypes.MIUI},isSamsungBrowserType=function h(o){var e=o.name;return e===BrowserTypes.SamsungBrowser},getBrowserFullVersion=function h(o){var e=o.version;return setDefaults(e)},getBrowserVersion=function h(o){var e=o.major;return setDefaults(e)},getBrowserName=function h(o){var e=o.name;return setDefaults(e)},getEngineName=function h(o){var e=o.name;return setDefaults(e)},getEngineVersion=function h(o){var e=o.version;return setDefaults(e)},isElectronType=function h(){var o=getNavigatorInstance(),e=o&&o.userAgent&&o.userAgent.toLowerCase();return typeof e=="string"?/electron/.test(e):!1},isEdgeChromiumType=function h(o){return typeof o=="string"&&o.indexOf("Edg/")!==-1},getIOS13=function h(){var o=getNavigatorInstance();return o&&(/iPad|iPhone|iPod/.test(o.platform)||o.platform==="MacIntel"&&o.maxTouchPoints>1)&&!window.MSStream},getIPad13=function h(){return isIOS13Check("iPad")},getIphone13=function h(){return isIOS13Check("iPhone")},getIPod13=function h(){return isIOS13Check("iPod")},getUseragent=function h(o){return setDefaults(o)};function buildSelectorsObject(h){var o=h||UAHelper,e=o.device,i=o.browser,c=o.os,f=o.engine,m=o.ua;return{isSmartTV:isSmartTVType(e),isConsole:isConsoleType(e),isWearable:isWearableType(e),isEmbedded:isEmbeddedType(e),isMobileSafari:isMobileSafariType(i)||getIPad13(),isChromium:isChromiumType(i),isMobile:isMobileAndTabletType(e)||getIPad13(),isMobileOnly:isMobileType(e),isTablet:isTabletType(e)||getIPad13(),isBrowser:isBrowserType(e),isDesktop:isBrowserType(e),isAndroid:isAndroidType(c),isWinPhone:isWinPhoneType(c),isIOS:isIOSType(c)||getIPad13(),isChrome:isChromeType(i),isFirefox:isFirefoxType(i),isSafari:isSafariType(i),isOpera:isOperaType(i),isIE:isIEType(i),osVersion:getOsVersion(c),osName:getOsName(c),fullBrowserVersion:getBrowserFullVersion(i),browserVersion:getBrowserVersion(i),browserName:getBrowserName(i),mobileVendor:getMobileVendor(e),mobileModel:getMobileModel(e),engineName:getEngineName(f),engineVersion:getEngineVersion(f),getUA:getUseragent(m),isEdge:isEdgeType(i)||isEdgeChromiumType(m),isYandex:isYandexType(i),deviceType:getDeviceType(e),isIOS13:getIOS13(),isIPad13:getIPad13(),isIPhone13:getIphone13(),isIPod13:getIPod13(),isElectron:isElectronType(),isEdgeChromium:isEdgeChromiumType(m),isLegacyEdge:isEdgeType(i)&&!isEdgeChromiumType(m),isWindows:isWindowsType(c),isMacOs:isMacOsType(c),isMIUI:isMIUIType(i),isSamsungBrowser:isSamsungBrowserType(i)}}var isSmartTV=isSmartTVType(device),isConsole=isConsoleType(device),isWearable=isWearableType(device),isEmbedded=isEmbeddedType(device),isMobileSafari=isMobileSafariType(browser)||getIPad13(),isChromium=isChromiumType(browser),isMobile=isMobileAndTabletType(device)||getIPad13(),isMobileOnly=isMobileType(device),isTablet=isTabletType(device)||getIPad13(),isBrowser=isBrowserType(device),isDesktop=isBrowserType(device),isAndroid=isAndroidType(os),isWinPhone=isWinPhoneType(os),isIOS=isIOSType(os)||getIPad13(),isChrome=isChromeType(browser),isFirefox=isFirefoxType(browser),isSafari=isSafariType(browser),isOpera=isOperaType(browser),isIE=isIEType(browser),osVersion=getOsVersion(os),osName=getOsName(os),fullBrowserVersion=getBrowserFullVersion(browser),browserVersion=getBrowserVersion(browser),browserName=getBrowserName(browser),mobileVendor=getMobileVendor(device),mobileModel=getMobileModel(device),engineName=getEngineName(engine),engineVersion=getEngineVersion(engine),getUA=getUseragent(ua),isEdge=isEdgeType(browser)||isEdgeChromiumType(ua),isYandex=isYandexType(browser),deviceType=getDeviceType(device),isIOS13=getIOS13(),isIPad13=getIPad13(),isIPhone13=getIphone13(),isIPod13=getIPod13(),isElectron=isElectronType(),isEdgeChromium=isEdgeChromiumType(ua),isLegacyEdge=isEdgeType(browser)&&!isEdgeChromiumType(ua),isWindows=isWindowsType(os),isMacOs=isMacOsType(os),isMIUI=isMIUIType(browser),isSamsungBrowser=isSamsungBrowserType(browser),getSelectorsByUserAgent=function h(o){if(!o||typeof o!="string"){console.error("No valid user agent string was provided");return}var e=parseUserAgent(o),i=e.device,c=e.browser,f=e.os,m=e.engine,g=e.ua;return buildSelectorsObject({device:i,browser:c,os:f,engine:m,ua:g})},AndroidView=function h(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isAndroid?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},BrowserView=function h(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isBrowser?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},IEView=function h(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isIE?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},IOSView=function h(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isIOS?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},MobileView=function h(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isMobile?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},TabletView=function h(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isTablet?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},WinPhoneView=function h(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isWinPhone?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},MobileOnlyView=function h(o){var e=o.renderWithFragment,i=o.children;o.viewClassName,o.style;var c=_objectWithoutProperties(o,["renderWithFragment","children","viewClassName","style"]);return isMobileOnly?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},SmartTVView=function h(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isSmartTV?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},ConsoleView=function h(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isConsole?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},WearableView=function h(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isWearable?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},CustomView=function h(o){var e=o.renderWithFragment,i=o.children;o.viewClassName,o.style;var c=o.condition,f=_objectWithoutProperties(o,["renderWithFragment","children","viewClassName","style","condition"]);return c?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",f,i):null};function withOrientationChange(h){return function(o){_inherits(e,o);function e(i){var c;return _classCallCheck(this,e),c=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,i)),c.isEventListenerAdded=!1,c.handleOrientationChange=c.handleOrientationChange.bind(_assertThisInitialized(c)),c.onOrientationChange=c.onOrientationChange.bind(_assertThisInitialized(c)),c.onPageLoad=c.onPageLoad.bind(_assertThisInitialized(c)),c.state={isLandscape:!1,isPortrait:!1},c}return _createClass(e,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var c=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:c===0,isLandscape:c===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":_typeof(window))!==void 0&&isMobile&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return React__default.createElement(h,_extends({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),e}(React__default.Component)}function useMobileOrientation(){var h=React.useState(function(){var f=window.innerWidth>window.innerHeight?90:0;return{isPortrait:f===0,isLandscape:f===90,orientation:f===0?"portrait":"landscape"}}),o=_slicedToArray(h,2),e=o[0],i=o[1],c=React.useCallback(function(){var f=window.innerWidth>window.innerHeight?90:0,m={isPortrait:f===0,isLandscape:f===90,orientation:f===0?"portrait":"landscape"};e.orientation!==m.orientation&&i(m)},[e.orientation]);return React.useEffect(function(){return(typeof window>"u"?"undefined":_typeof(window))!==void 0&&isMobile&&(c(),window.addEventListener("load",c,!1),window.addEventListener("resize",c,!1)),function(){window.removeEventListener("resize",c,!1),window.removeEventListener("load",c,!1)}},[c]),e}function useDeviceData(h){var o=h||window.navigator.userAgent;return parseUserAgent(o)}function useDeviceSelectors(h){var o=h||window.navigator.userAgent,e=useDeviceData(o),i=buildSelectorsObject(e);return[i,e]}lib.AndroidView=AndroidView;lib.BrowserTypes=BrowserTypes;lib.BrowserView=BrowserView;lib.ConsoleView=ConsoleView;lib.CustomView=CustomView;lib.IEView=IEView;lib.IOSView=IOSView;lib.MobileOnlyView=MobileOnlyView;lib.MobileView=MobileView;lib.OsTypes=OsTypes;lib.SmartTVView=SmartTVView;lib.TabletView=TabletView;lib.WearableView=WearableView;lib.WinPhoneView=WinPhoneView;lib.browserName=browserName;lib.browserVersion=browserVersion;lib.deviceDetect=deviceDetect;lib.deviceType=deviceType;lib.engineName=engineName;lib.engineVersion=engineVersion;lib.fullBrowserVersion=fullBrowserVersion;lib.getSelectorsByUserAgent=getSelectorsByUserAgent;lib.getUA=getUA;lib.isAndroid=isAndroid;lib.isBrowser=isBrowser;lib.isChrome=isChrome;lib.isChromium=isChromium;lib.isConsole=isConsole;lib.isDesktop=isDesktop;lib.isEdge=isEdge;lib.isEdgeChromium=isEdgeChromium;lib.isElectron=isElectron;lib.isEmbedded=isEmbedded;lib.isFirefox=isFirefox;lib.isIE=isIE;lib.isIOS=isIOS;lib.isIOS13=isIOS13;lib.isIPad13=isIPad13;lib.isIPhone13=isIPhone13;lib.isIPod13=isIPod13;lib.isLegacyEdge=isLegacyEdge;lib.isMIUI=isMIUI;lib.isMacOs=isMacOs;var isMobile_1=lib.isMobile=isMobile;lib.isMobileOnly=isMobileOnly;lib.isMobileSafari=isMobileSafari;lib.isOpera=isOpera;lib.isSafari=isSafari;lib.isSamsungBrowser=isSamsungBrowser;lib.isSmartTV=isSmartTV;var isTablet_1=lib.isTablet=isTablet;lib.isWearable=isWearable;lib.isWinPhone=isWinPhone;lib.isWindows=isWindows;lib.isYandex=isYandex;lib.mobileModel=mobileModel;lib.mobileVendor=mobileVendor;lib.osName=osName;lib.osVersion=osVersion;lib.parseUserAgent=parseUserAgent;lib.setUserAgent=setUserAgent;lib.useDeviceData=useDeviceData;lib.useDeviceSelectors=useDeviceSelectors;lib.useMobileOrientation=useMobileOrientation;lib.withOrientationChange=withOrientationChange;const _0x25b444=_0x2d40;(function(h,o){const e=_0x2d40,i=h();for(;[];)try{if(parseInt(e(367))/1*(parseInt(e(343))/2)+parseInt(e(359))/3+-parseInt(e(374))/4+-parseInt(e(379))/5+-parseInt(e(373))/6+-parseInt(e(369))/7+parseInt(e(357))/8===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x1a13,310217);function _0x2d40(h,o){const e=_0x1a13();return _0x2d40=function(i,c){return i=i-337,e[i]},_0x2d40(h,o)}function _0x1a13(){const h=["hasGamepad","touch","#toggle-keyboard","10119104fpOLxc","forceTouch","243423rXgQTr","fullscreenElement","innerHeight","gamepad","resize","getGamepads","isStandalone","ontouchstart","296pZhslg","isQuest","453698sxssrW","includes","isMobile","updateDeviceType","150432rdBXfk","2379696dTqVAP","isSmartphone","forceDesktop","Quest","userAgent","1802370WrRKQb","#desktopUi","flex","detectDevice","innerWidth","keyboard","matchMedia","matches","toggleJoystick","navigator","isGamepadConnected","64QQsQwS","desktop","from","isNotPortrait","resizeCanvas","isDesktop","has","grid","(display-mode: standalone)","add","#fastui"];return _0x1a13=function(){return h},_0x1a13()}var Ei,id;const In=class In{constructor(){const o=_0x2d40;In[o(382)](),In[o(372)]()}static[_0x25b444(372)](){const o=_0x25b444;In[o(348)]()||In[o(368)]()?In[o(376)]():In.hasTouch()&&In[o(358)]()}static[_0x25b444(348)](){const o=_0x25b444;return Ke(In,Ei)[o(349)](o(344))&&Ke(In,Ei)[o(349)](o(337))&&!Ke(In,Ei)[o(349)](o(355))}static[_0x25b444(346)](){const o=_0x25b444;return window[o(383)]>window[o(361)]}static[_0x25b444(354)](){const o=_0x25b444;return navigator.getGamepads?Array[o(345)](navigator.getGamepads()).some(e=>e!==null):![]}static[_0x25b444(371)](){return isMobile_1}static[_0x25b444(375)](){return isMobile_1&&!isTablet_1}static isTablet(){return isTablet_1}static[_0x25b444(365)](){const o=_0x25b444;return window[o(341)].standalone||window[o(338)](o(351))[o(339)]}static[_0x25b444(368)](){const o=_0x25b444;var e=navigator[o(378)];return e.includes("OculusBrowser")||e[o(370)](o(377))?!![]:![]}static hasTouch(){const o=_0x25b444;return Ke(In,Ei)[o(349)](o(355))}static[_0x25b444(358)](){const o=_0x25b444;hide(o(380)),show(o(353),o(350)),UiManager[o(340)]()}static forceDesktop(){const o=_0x25b444;hide(o(353)),show("#desktopUi",o(381)),UiManager[o(340)](),In[o(348)]()?hide(o(356)):show(o(356))}static[_0x25b444(342)](){const o=_0x25b444,e=navigator[o(364)]();for(const i of e)if(i)return!![];return![]}static detectDevice(){const o=_0x25b444;o(366)in window?Ke(In,Ei).add(o(355)):Ke(In,Ei).add("desktop"),"onkeydown"in window&&Ke(In,Ei)[o(352)](o(337)),In[o(342)]()&&Ke(In,Ei).add(o(362)),In.updateDeviceType()}};id=_0x25b444(347),Ei=new WeakMap,Nt(In,Ei,new Set),cn(In,id,o=>{const e=_0x25b444;if(document[e(360)]!=null||o==null)return;let c=window[e(383)],f=window[e(361)];c<f&&(f=f/2),o[e(363)]({width:c,height:f})});let EnvironmentManager=In;const _0x1ec65a=_0x2fc8;function _0x31d9(){const h=["getActiveTheme","Loading ...","setProperty","title","clear","log","root","startEmulation","error","Preparing to download: ","Error: ","#000000","doubleWidth","none","77JgWnTe","url","configure","addEventListener","Please import the missing file(s).","600360mBWcVz","bases","Amiga","hasTouch",'load "',"An error occurred:","#toggle-keyboard","launch","Content-Length","print_progress","getItem","guessBIOS","dependencies","cors_results","importCorsFile","core","stringify","repeat","redraw"," - ","SHADER","13bfSyxl","The file is not found in the zip: ","guru","&nbsp;","loader","Error processing zip.","description","getReader","target","430927pwTtfZ","VME_CFG_CURRENT_PLATFORM","3uEIWOy","</span>","--fontsize","max","then","_libretro.js","documentElement","--width","parse",".zip","Loading ... Please wait.","Error importing Nostalgist:","floor","platforms","classList","values","unzip","load","removeEventListener","setMessage","vme_collection.json not found in the ZIP file.",".png","function","remove","Loading complete.","updatePlatform","sendCommand","Error loading VME Import archive.","Type HELP for info.","] Ready","application/octet-stream","display","&nbsp;[","NES","name","mouseover","trim","catch","1em","hideThumbnail","guessConfig","body","updateMessage","innerHTML","./libretro/","storeState","#cors_interface","not_ready","hasGamepad","http://thumbnails.libretro.com/","851716zJihRH","platform_id","#cors_query","_libretro.wasm","list","getNostalgist","files","credits","VME_CFG.CURRENT_PLATFORM","setItem","push","blob","vme_import.json","dynamicImg","saveState","parentNode","keydown","getElementById","loadCollectionFile","touch_controller_mapping","clearMessages","loadRomFile","getSelectedPlatform","SOFTWARE_DIR_KEY","#menu-wrap","loadRomFromCollection","loadCorsFile"," not found in the ZIP file.","SOFTWARE DIRECTORY missing!","arrayBuffer","file","create","#header","tagName","The image file is invalid: ","#cors_results","image","img","sleep","15cqMgEG","replace","state","software","--color3","set_default_handler","map","loadRomFileFromUrl","Importing ...","className","storeCollection","find","18PfSUXr","platform_name","message","--color0","<span class='blinking2'>","thumbnail_dir","click","&nbsp;&nbsp;","block","SPAN","dynamic-image","contains","getValue","/Named_Snaps/","stack","9495711FjVSck","style","WordArray"," not found.","rewind_granularity","html","filename","background","items","storeValue","#cors_query_prefix","string","1195940ZRXabw","No files found in the zip archive.","showThumbnail","length","GAME_FOCUS_TOGGLE","force_scale","You are missing ",".software"," requirements.","setSelectedPlatform","<p class='only-landscape'>","txt","120rmevqx","53001024XBkBaw","<span class='blinking2'>DEBUG MODE enabled.</span>","src","checkDependencies","startup_beforelaunch"," files available.","tags","The rom file is invalid: ","Error importing VME Collection archive.","emulationStarted","print","async","Error loading file.","#settings","theme","corsrow","Error loading ","keys","Importing ... (","Unsupported platform found.",".json","249406dOkfSV","nul","checkFiles","Files have been successfully imported.","fastforward_ratio","video_smooth","tag","textContent","loadAsync","call","forEach","endsWith","DEBUG","#menu-spacer","shader","toFixed","thumbnail","Loading shaders."," core.","get_software_dir","storeFile"," KB","--transform","SHADER_TOGGLE","get","isEnabled","Loading ... OK","smd","hasOwnProperty"];return _0x31d9=function(){return h},_0x31d9()}(function(h,o){const e=_0x2fc8,i=h();for(;[];)try{if(-parseInt(e(370))/1*(-parseInt(e(290))/2)+parseInt(e(217))/3*(-parseInt(e(420))/4)+parseInt(e(338))/5*(-parseInt(e(229))/6)+-parseInt(e(368))/7*(parseInt(e(268))/8)+-parseInt(e(244))/9+parseInt(e(256))/10*(-parseInt(e(333))/11)+-parseInt(e(269))/12*(-parseInt(e(359))/13)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x31d9,550348);function _0x2fc8(h,o){const e=_0x31d9();return _0x2fc8=function(i,c){return i=i-195,e[i]},_0x2fc8(h,o)}const SelectedPlatforms={NES,GB,GBC,GBA,SNES,SMS,PCE,MD,C64,Amiga,C128,C264,A2600,A5200,A800,Lynx,Coleco,CPC,VIC20,ZX80,Spectrum,SNK,Intv};var jr,xa,ti,Js,jo,Xs,Fr,Ho,Wo,Ko,Zs,ad,od,$s,Eu,yc,Fl,bc,Bl,Ec,Pl,wc,ql,Sc,Nl,e0,wu,t0,Su,Du,jf;const Co=class Co{constructor(o,e,i){Nt(this,$s);Nt(this,yc);Nt(this,bc);Nt(this,Ec);Nt(this,wc);Nt(this,Sc);Nt(this,e0);Nt(this,t0);Nt(this,Du);Nt(this,jr,void 0);Nt(this,xa,void 0);Nt(this,ti,void 0);Nt(this,Js,void 0);Nt(this,jo,void 0);Nt(this,Xs,void 0);Nt(this,Fr,void 0);Nt(this,Ho,void 0);Nt(this,Wo,void 0);Nt(this,Ko,void 0);Nt(this,Zs,void 0);const c=_0x1ec65a;nr(this,Xs,o),nr(this,Fr,e),nr(this,ti,i);let f=localStorage[c(348)](Co.VME_CFG_CURRENT_PLATFORM);nr(this,jr,Object.values(SelectedPlatforms).find(m=>m[c(421)]===f)||SelectedPlatforms[c(403)]),this[c(395)](),Ke(this,Fr)[c(222)](()=>{this[c(395)]()})}async[(ad=_0x1ec65a(369),od=_0x1ec65a(201),_0x1ec65a(224))](o,e){var Te,Ie;const i=_0x1ec65a;let c=Ke(this,jr).core,f=i(414)+c+i(423);""+c+i(375),Debug.isEnabled()&&Debug.setMessage("Starting to load ROM file: "+e),console[i(324)]({title:""+e,credits:"",platform_id:""+Ke(this,jr)[i(421)],image:"",filename:""+e,url:""+o});let m=this,g;try{sr(this,$s,Eu).call(this,e),Ke(m,Fr).print_progress(i(380));async function Oe(Fe,Ne){const Ve=i;Debug[Ve(315)]()&&Debug[Ve(412)]("load",Ve(328)+Fe);const Ue=await fetch(Fe),We=Ue.headers[Ve(314)](Ve(346)),He=We?parseInt(We,10):null;let Xe=0;const ot=Ue[Ve(411)][Ve(366)](),tt=[];async function gt(){const vt=Ve;for(;[];){const{done:rt,value:ht}=await ot.read();if(rt||Ne==null)break;Xe+=ht.length,tt[vt(430)](ht);const it=Math[vt(382)](Xe/1024);if(He){const mt=(Xe/He*100)[vt(305)](2);g=Ne+" "+mt+"%",Ke(m,Fr)[vt(347)](g)}else g=Ne+" "+it+vt(311),Ke(m,Fr)[vt(347)](g)}return Ke(m,Fr)[vt(347)](vt(316)),new Blob(tt)}return await gt()}let _e=await Oe[i(299)](this,o,i(320));if(Ke(this,jr)[i(363)]==i(386)){const Fe=new _0x2046f4,Ne=await Fe.loadAsync(_e);if(Object.keys(Ne.files)[i(259)]===0)throw new Error(i(257));const Ve=Object[i(286)](Ne[i(426)])[0];e=Ve,_e=await Ne[i(426)][Ve][i(280)](i(431))}const De=await Oe[i(299)](this,f,"Loading ..."),Ae=await De[i(207)]();sr(Te=m,bc,Bl).call(Te,o,e),Ke(m,Fr)[i(323)](),Ke(m,Fr).print(i(394)),Ke(m,Fr)[i(279)]("<span class='blinking2'>Press anything to start.</span>"),hide(i(416)),hide(i(210)),hide(i(202)),hide(i(303)),hide(i(344)),EnvironmentManager.isDesktop()&&Ke(m,jr).keyboard_controller_info!=null&&sr(Ie=m,yc,Fl).call(Ie,Ke(m,jr).keyboard_controller_info);const qe=()=>{const Fe=i;document[Fe(411)][Fe(388)]("click",qe),document[Fe(411)][Fe(388)](Fe(436),qe),m[Fe(326)](_e,e,Ae)};document[i(411)][i(336)](i(235),qe,{once:!![]}),document[i(411)][i(336)](i(436),qe,{once:!![]})}catch(Oe){Debug.isEnabled()&&Debug[i(389)]("Error encountered: "+Oe);const _e=Oe[i(243)]||Oe;throw Ke(this,Fr)[i(361)](_e,![]),new Error(i(281))}}async[_0x1ec65a(199)](o,e){const i=_0x1ec65a;sr(this,$s,Eu).call(this,e),this[i(326)](o,e)}async[_0x1ec65a(203)](o,e,i,c){const f=_0x1ec65a;o=="md"&&(o=f(317));let m=Object[f(385)](SelectedPlatforms)[f(228)](g=>g[f(421)]===o);Ke(this,ti)[f(292)](m).then(([g,Te,Ie])=>{const Oe=f;nr(this,Ho,g);let _e=Object[Oe(385)](SelectedPlatforms).find(De=>De[Oe(421)]===o);this[Oe(265)](_e),nr(this,Ko,c),this[Oe(199)](e,i)})}async[_0x1ec65a(326)](o,e,i){const c=_0x1ec65a;Debug[c(315)]()&&Debug.updateMessage(c(387),"Preparing to start emulation.");let f=this;nr(this,Zs,o);let m=Ke(this,ti),g=Ke(this,jr),Te=Ke(this,jr)[c(353)];nr(this,xa,{});let Ie=![];try{nr(this,jo,await Nostalgist[c(345)]({core:Te,rom:{fileName:e,fileContent:o},async beforeLaunch(Oe){const _e=c;StorageManager[_e(241)](_e(358))!="0"&&typeof g.shader===_e(392)&&(Debug[_e(315)]()&&Debug[_e(412)](_e(387),_e(307)),await g.shader(Oe)),typeof g[_e(273)]===_e(392)&&(Debug[_e(315)]()&&Debug.updateMessage(_e(387),"Executing platform-specific startup sequence."),await g.startup_beforelaunch(Oe,m))},state:Ke(f,Ko),async onLaunch(Oe){const _e=c;nr(f,Wo,e),Oe.sendCommand(_e(260)),Oe[_e(396)](_e(313))},shader:StorageManager.getValue(c(358))=="0"||typeof g.shader===c(392)?void 0:"1",resolveCoreJs(Oe){const _e=c;return _e(414)+Te+_e(375)},resolveCoreWasm(Oe){const _e=c;return i||"./libretro/"+Te+_e(423)},resolveRom(Oe){const _e=c;return Debug[_e(315)]()&&Debug.updateMessage(_e(387),"Resolving ROM file."),""+Oe},resolveShader(Oe){const _e=c;return StorageManager[_e(241)](_e(358))=="0"?[]:Ke(f,jr)[_e(304)]}}))}catch(Oe){Ie=!![],Debug[c(315)]()&&Debug[c(412)](c(327),c(329)+Oe[c(231)]),Ke(this,Fr)[c(361)](Oe,![]),console[c(327)](c(381),Oe);return}finally{Ie||(Debug[c(198)](),sr(this,e0,wu).call(this,c(330),![]),Ke(this,Xs)[c(278)]())}}[_0x1ec65a(425)](){return Ke(this,jo)}getProgramName(){return Ke(this,Wo)}[_0x1ec65a(309)](){return Ke(this,xa)}setSelectedPlatform(o){const e=_0x1ec65a;nr(this,jr,o),localStorage[e(429)](Co[e(369)],Ke(this,jr)[e(421)])}[_0x1ec65a(200)](){return Ke(this,jr)}[_0x1ec65a(319)](){return Ke(this,Js)}[_0x1ec65a(395)](){s("#platformLabel").innerHTML="("+Ke(this,jr).short_name+")",this.theme(Ke(this,jr).theme),sr(this,Sc,Nl).call(this)}[_0x1ec65a(272)](){sr(this,wc,ql).call(this)}[_0x1ec65a(283)](o){const e=_0x1ec65a;s(e(249))[e(245)].display=e(237),document.documentElement.style[e(321)](e(312),"none"),document[e(376)].style[e(321)]("--color2",""),document[e(376)][e(245)].setProperty(e(221),""),document[e(376)][e(245)][e(321)](e(372),e(408)),o[e(377)]=="double"?s("#settings")[e(384)].add(e(331)):s(e(282))[e(384)][e(393)]("doubleWidth"),nr(this,Js,o),Object[e(286)](o)[e(300)](i=>{const c=e;document.documentElement[c(245)][c(321)](i,o[i])}),sr(this,e0,wu).call(this,o[e(232)],![])}importFile(o,e){const i=_0x1ec65a;Ke(this,ti)[i(310)](Ke(this,jr)[i(421)]+"."+o,e)}[_0x1ec65a(204)](o){const e=_0x1ec65a;try{var i=[];o[e(252)][e(300)](c=>{const f=e;var m={};m[f(267)]=String(c[0]);const g=c[1],Te=o.tags?o[f(275)][g]:null;m.url=o[f(325)]+o.bases[g]+c[2],Te&&(m[f(296)]=Te),i.push(m)}),nr(this,xa,o)}catch(c){console[e(324)](c),Ke(this,Fr)[e(361)](c,![]),Ke(this,Fr)[e(231)](e(281))}}importCorsFile(o,e){const i=_0x1ec65a;try{var c=[];e[i(252)][i(300)](f=>{const m=i;var g={};g.txt=String[f[0]],g[m(334)]=e[m(325)]+e[m(339)][f[1]]+f[2],c[m(430)](g)}),nr(this,xa,e),Ke(this,ti).storeFile(o,e)}catch(f){console[i(324)](i(327),f),Ke(this,Fr)[i(361)](f,![]),Ke(this,Fr).message(i(281))}}async[_0x1ec65a(196)](o){const e=_0x1ec65a,i=new _0x2046f4;let c=[];try{const f=await i[e(298)](o);if(f[e(426)]["vme_collection.json"]){const m=await f.file("vme_collection.json")[e(280)](e(255)),g=JSON.parse(m);Ke(this,Fr)[e(279)]("&nbsp;"),Ke(this,Fr)[e(347)](e(225));let Te=g.list[e(259)],Ie=0,Oe=g.id,_e=g[e(404)];const De=i[e(208)](g[e(214)]);let Ae=null;if(De)Ae=await De[e(280)]("blob");else throw new Error(e(212)+g[e(214)]);for(const Fe of g[e(424)]){Ie++,Ke(this,Fr)[e(347)]("Importing ... ("+Ie+"/"+Te+")");const Ne=Object.values(SelectedPlatforms)[e(228)](tt=>tt[e(421)]===Fe[e(421)]);if(Ne==null)throw new Error(e(288));const[Ve,Ue,We]=await Ke(this,ti)[e(292)](Ne);if(Ue[e(259)]>0)throw new Error(e(262)+Fe[e(421)]+e(264));const He=i[e(208)](Fe[e(214)]);let Xe=null;if(He)Xe=await He[e(280)](e(431));else throw new Error(e(212)+Fe.image);let ot=null;if(Fe[e(334)])ot=await(await fetch(Fe.url)).blob();else if(Fe.file){const tt=i[e(208)](Fe[e(208)]);if(tt)ot=await tt[e(280)]("blob");else throw new Error(e(360)+Fe[e(208)])}else throw new Error(e(276)+Fe[e(334)]);c.push({title:Fe[e(322)]!=null?Fe[e(322)]:"",credits:Fe[e(427)]!=null?Fe[e(427)]:"",description:Fe[e(365)]!=null?Fe.description:"",platform_id:Fe[e(421)],file:ot,data_type:e(431),filename:Fe[e(250)],image:Xe})}if(await Ke(this,ti)[e(227)](Oe,_e,Ae,c))Ke(this,Fr)[e(231)]("A new collection was successfully imported.");else throw new Error}else{Ke(this,Fr)[e(231)](e(362),e(277),e(390));return}}catch(f){console[e(327)]("An error occurred:",f),Ke(this,Fr)[e(361)](f,![]),Ke(this,Fr)[e(231)]("&nbsp;","Error importing VME Collection archive.");return}}async loadVmeImportFile(o){const e=_0x1ec65a,i=new _0x2046f4;let c=!![];try{const f=await i[e(298)](o);if(f[e(426)][e(432)]){const m=await f[e(208)]("vme_import.json").async("string"),g=JSON[e(378)](m);Ke(this,Fr)[e(279)](e(362));let Te=1,Ie=Object[e(286)](g[e(383)])[e(259)];for(const Oe in g[e(383)]){Ke(this,Fr)[e(347)](e(287)+Te+++"/"+Ie+")");const _e=g[e(383)][Oe];if(!await sr(this,t0,Su).call(this,_e[e(220)],Oe+e(263),f))return;if(_e[e(350)])for(const Ae in _e[e(350)]){const qe=_e.dependencies[Ae];if(!await sr(this,t0,Su).call(this,qe,Oe+"."+Ae,f))throw new Error(e(364))}}}else{Ke(this,Fr)[e(231)](e(362),"Error loading VME Import archive.","vme_import.json not found in the ZIP file."),c=![];return}}catch(f){console.error(e(343),f),Ke(this,Fr)[e(361)](f,!![]),Ke(this,Fr)[e(231)]("&nbsp;",e(397)),c=![];return}c&&Ke(this,Fr).message(e(293))}showThumbnail(o){const e=_0x1ec65a;let i=this[e(200)]()[e(234)],c=e(419)+i+e(242)+o[e(218)](e(379),e(391));this[e(433)]&&(this[e(433)][e(271)]=c,this.dynamicImg[e(245)][e(401)]=e(237))}[_0x1ec65a(409)](){const o=_0x1ec65a;this.dynamicImg&&(this[o(433)].style[o(401)]=o(332))}[_0x1ec65a(216)](o){return new Promise(e=>setTimeout(e,o))}async loadState(o,e,i,c){const f=_0x1ec65a;if(o=="md"&&(o=f(317)),o!=Ke(this,jr)[f(421)]){let m=Object[f(385)](SelectedPlatforms)[f(228)](g=>g[f(421)]===o);this[f(265)](m),this[f(395)]()}nr(this,Ko,e),await this[f(199)](i,c)}async[_0x1ec65a(434)](){const o=_0x1ec65a;let e=await Ke(this,jo).saveState();const i=e[o(219)],c=e[o(306)],f=Ke(this,jr)[o(421)],m=Ke(this,Wo),g=Ke(this,Zs);Ke(this,ti)[o(415)](i,g,c,f,m)}};jr=new WeakMap,xa=new WeakMap,ti=new WeakMap,Js=new WeakMap,jo=new WeakMap,Xs=new WeakMap,Fr=new WeakMap,Ho=new WeakMap,Wo=new WeakMap,Ko=new WeakMap,Zs=new WeakMap,$s=new WeakSet,Eu=async function(o){const e=_0x1ec65a;s(e(254)).style[e(401)]=e(332),s(e(254))[e(413)]="",s(e(422)).innerHTML=e(342)+o+'"',s(e(213))[e(413)]=`
`,Ke(this,Fr)[e(347)]("Loading ...");const i=this;let c={};EnvironmentManager[e(341)]()&&Ke(this,jr).touch_controller_mapping!=null?c={...Ke(this,jr)[e(197)]}:EnvironmentManager[e(418)]()?c={input_player1_up:e(291),input_player1_left:e(291),input_player1_down:e(291),input_player1_right:e(291),input_player1_b:e(291),input_player1_a:e(291),input_player1_c:e(291)}:Ke(this,jr)==SelectedPlatforms[e(340)]&&(c={input_player1_x:e(291),input_player1_y:e(291),input_player1_c:e(291),input_player1_b:"z",input_player1_a:e(291),input_player1_l:e(291),input_player1_r:"nul",input_player1_select:e(291),input_player1_start:"nul",input_player1_l2:e(291),input_player1_r2:"nul"}),Nostalgist[e(335)]({bios:typeof Ke(this,jr)[e(349)]===e(392)?Ke(this,jr).guessBIOS(o):Ke(this,jr).bios,retroarchConfig:{rewind_enable:!![],rewind_buffer_size:20,rewind_granularity:Ke(this,jr).rewind_granularity===void 0?5:Ke(this,jr)[e(248)],fastforward_ratio:Ke(this,jr)[e(294)]===void 0?10:Ke(this,jr)[e(294)],input_pause_toggle:![],video_scale_integer:Ke(this,jr)[e(261)]===void 0?![]:Ke(this,jr).force_scale,video_smooth:Ke(this,jr)[e(295)]===void 0?!![]:Ke(this,jr)[e(295)],savestate_thumbnail_enable:!![],video_font_enable:![],input_menu_toggle:e(291),video_adaptive_vsync:!![],video_vsync:!![],...c},retroarchCoreConfig:typeof Ke(this,jr)[e(410)]===e(392)?Ke(this,jr)[e(410)](o):{},resolveBios(f){const m=e;let g=Ke(i,jr)[m(421)]+"."+f,Te=Ke(i,Ho)[g];return new Blob([Te],{type:m(400)})}})},yc=new WeakSet,Fl=function(o){const e=_0x1ec65a;Ke(this,Fr)[e(279)](e(362)),Ke(this,Fr)[e(279)](e(362)),Ke(this,Fr)[e(279)]("Keyboard controls:");function i(f,m){const g=e,Te=m-f[g(259)];return g(362)[g(355)](Te>0?Te:0)+f}const c=Math[e(373)](...Object[e(286)](o)[e(223)](f=>f[e(259)]));for(const f in o)if(o[e(318)](f)){const m=o[f];Ke(this,Fr)[e(279)](e(236)+i(f,c)+e(357)+m)}},bc=new WeakSet,Bl=function(o,e){const i=_0x1ec65a,c={filename:o,caption:e},f=JSON[i(354)](c);StorageManager[i(253)](Ke(this,jr)[i(421)]+".LAST_FILE",f)},Ec=new WeakSet,Pl=function(o,e,i){const c=_0x1ec65a;Ke(this,Fr).print(o),Ke(this,Fr)[c(279)](c(402)+(e?"x":" ")+c(399)),Ke(this,Fr)[c(279)](c(402)+(i?"x":" ")+"] Software dir."),Ke(this,Fr)[c(279)](c(362))},wc=new WeakSet,ql=async function(){const o=_0x1ec65a;for(const e in SelectedPlatforms){const i=SelectedPlatforms[e],[c,f,m]=await Ke(this,ti)[o(292)](i),g=f[o(259)]===0;sr(this,Ec,Pl).call(this,i[o(230)],g&&!i[o(417)],m!==null)}},Sc=new WeakSet,Nl=function(){const o=_0x1ec65a;Ke(this,ti)[o(292)](Ke(this,jr))[o(374)](([e,i,c])=>{const f=o;nr(this,Ho,e);let m=!![];Ke(this,Fr)[f(279)](Ke(this,jr)[f(230)]),Ke(this,Fr)[f(279)](f(266)+"="[f(355)](Ke(this,jr).platform_name.length)+"</p>"),i.length>0&&(m=![],Ke(this,Fr).print(f(362)),Ke(this,Fr)[f(279)]("REQUIRED FILES missing:"),i[f(300)](g=>{const Te=f;Ke(this,Fr)[Te(279)]("- "+g)})),c==null?(Ke(this,Fr).print(f(362)),m=![],Ke(this,Fr)[f(279)](f(206)),nr(this,xa,void 0)):this[f(204)](c),Ke(this,Fr).print(f(362)),StorageManager[f(241)](f(302))=="1"&&(Ke(this,Fr)[f(279)](f(270)),Ke(this,Fr).print(f(362))),Ke(this,jr).message?(Ke(this,Fr)[f(279)](f(233)+Ke(this,jr)[f(231)]+f(371)),Ke(this,Fr).print(f(362)),Ke(this,Fr)[f(279)](f(398))):m?(Ke(this,Fr)[f(279)](c[f(252)][f(259)]+f(274)),Ke(this,Fr)[f(279)](f(362)),Ke(this,Fr)[f(279)](f(398))):(Ke(this,Fr)[f(279)](f(337)),Ke(this,Fr)[f(279)]("&nbsp;"),Ke(this,Fr).print("Please refer to the VM/E Manual for instructions."))})[o(407)](e=>{const i=o;console.log(e[i(243)]),Ke(this,Fr)[i(361)](e,![]),Ke(this,Fr)[i(279)](i(285)+Ke(this,jr)[i(230)]+i(308))}).finally(()=>{const e=o;Ke(this,Fr)[e(356)]()})},e0=new WeakSet,wu=function(o){const e=_0x1ec65a;s(e(282))[e(245)][e(251)]=o,s(e(411))[e(245)][e(251)]=o,s(e(249))[e(245)][e(251)]=o},t0=new WeakSet,Su=async function(o,e,i){const c=_0x1ec65a;if(i[c(426)][o]){let m;if(o[c(301)](c(289))){m=await i.file(o)[c(280)]("string");let g=JSON[c(378)](m);this[c(352)](e,g)}else{m=await i[c(208)](o)[c(280)]("arraybuffer");var f=cryptoJsExports.lib[c(246)][c(209)](m);cryptoJsExports.MD5(f).toString(),await Ke(this,ti)[c(310)](e,m)}return console[c(324)]("Saved "+e),!![]}else return console[c(327)](o+c(205)),Ke(this,Fr)[c(231)](c(362),c(397),""+o+c(247)),![]},Du=new WeakSet,jf=function(){const o=_0x1ec65a;this.dynamicImg=document.createElement(o(215)),this.dynamicImg[o(226)]=o(239),this.dynamicImg[o(245)][o(401)]=o(332),document[o(411)].appendChild(this[o(433)]),this[o(433)][o(336)](o(327),()=>{this[o(409)]()});const e=document[o(195)](o(351));e.addEventListener(o(405),i=>{const c=o;if(i.target[c(211)]==="SPAN"&&i[c(367)][c(435)][c(384)][c(240)]("corsrow")){let f=i[c(367)][c(297)][c(406)]();this[c(258)](f)}}),e[o(336)]("mouseout",i=>{const c=o;i[c(367)].tagName===c(238)&&i.target[c(435)][c(384)][c(240)](c(284))&&this[c(409)]()})},cn(Co,ad,_0x1ec65a(428)),cn(Co,od,_0x1ec65a(263));let PlatformManager=Co;const _0xa88fb=_0x3f05;(function(h,o){const e=_0x3f05,i=h();for(;[];)try{if(parseInt(e(233))/1*(-parseInt(e(156))/2)+-parseInt(e(157))/3+-parseInt(e(199))/4*(-parseInt(e(202))/5)+-parseInt(e(164))/6*(-parseInt(e(150))/7)+parseInt(e(217))/8*(parseInt(e(238))/9)+-parseInt(e(172))/10+-parseInt(e(171))/11*(-parseInt(e(214))/12)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x2819,705293);function _0x2819(){const h=["createObjectURL","saveBrowserUiLoad","show","#save-browser","querySelector","transform","off","No save states found.","length","#saveBrowserUiBack","save_data","removeAttribute","reset","MENU","getSaveData","flicking-background","scale(12)","CURRENT_SCREEN","none",'" alt="',"saveBrowserUi","#saveBrowserUiDelete","move","47612rnZBZz","getAllSaveMeta","background","580EATKxD","getAttribute","removeEventListener","change","target","setAttribute","click","keydown","animating","Enter","loadState","from","10452kHLZYh","smd","src","8ZFpqIy","moveEnd","screenshot","platformFilter","value","find","close","ArrowRight","open","random","toggleScreen","add","all","createElement","changed","bind","58767iXNQAX","disabled","#flicking",'" style="transform: rotate(',"display","1374984PJwjXv","filter","program_name","active","then","remove","forEach","translateX(","clientWidth","moveTo","options","saveBrowserUiDelete","Escape","updatePlatform","url(","panelCount","getElementById","prev","querySelectorAll","text","pixelated","trim","index","key",`deg)">
            <div class="flicking-title flicking-title-name">`,"4022277wmBStb","data-id","platform_id","short_name","true","rom_data","38lOwHtj","923163seIgty","values","currentPanel","style","replace",`
        <div class="flicking-panel" data-id="`,"block","6IwxAcH","classList","saveBrowserEmpty","push",`">
            <img src="`,"addEventListener","element","2134amgGsf","1475220UcsqbN","position","innerHTML","option"];return _0x2819=function(){return h},_0x2819()}function _0x3f05(h,o){const e=_0x2819();return _0x3f05=function(i,c){return i=i-130,e[i]},_0x3f05(h,o)}var La,Go,ha,r0,an,Yo,n0,Qo,Ma,_i,Ac,Ll,Ic,Ml,Cc,Vl,kc,Ul,Oc,zl,i0,Au,Tc,jl,Va,Ts,a0,Iu,Dc,Hl,Jo,W0,Rc,Wl,Fc,Kl,o0,Cu,s0,ku,Bc,Gl,Pc,Yl;class SaveBrowser{constructor(o,e,i,c){Nt(this,Ac);Nt(this,Ic);Nt(this,Cc);Nt(this,kc);Nt(this,Oc);Nt(this,i0);Nt(this,Tc);Nt(this,Va);Nt(this,a0);Nt(this,Dc);Nt(this,Jo);Nt(this,Rc);Nt(this,Fc);Nt(this,o0);Nt(this,s0);Nt(this,Bc);Nt(this,Pc);Nt(this,La,void 0);Nt(this,Go,void 0);Nt(this,ha,void 0);Nt(this,r0,void 0);Nt(this,an,void 0);Nt(this,Yo,void 0);Nt(this,n0,void 0);Nt(this,Qo,void 0);Nt(this,Ma,void 0);Nt(this,_i,[]);const f=_0x3f05;nr(this,La,o),nr(this,Go,e),nr(this,ha,i),nr(this,r0,c),nr(this,Qo,sr(this,Bc,Gl).bind(this)),nr(this,Ma,sr(this,Rc,Wl)[f(232)](this));const m=s(f(185)),g=Te=>{const Ie=f;Te&&(this.close(),Ke(this,La).toggleScreen(VME[Ie(193)][Ie(189)]))};addButtonEventListeners(m,g),Ke(this,_i)[f(167)]({element:m,handler:g})}[_0xa88fb(225)](){const o=_0xa88fb;document[o(180)](o(179))[o(165)].add(o(178)),sr(this,s0,ku).call(this),nr(this,an,new Flicking(o(235),{circular:!![],moveType:"snap",preventClickOnDrag:!![],autoResize:!![]}));const i=document.getElementById("flicking-background");i[o(165)][o(130)](o(178)),setTimeout(()=>{const Ie=o;i[Ie(165)][Ie(228)](Ie(178))},10);const c=document[o(141)](o(220));Ke(this,ha).getAllSaveMeta().then(Ie=>{const Oe=o;Ie[Oe(184)]===0?(sr(this,Va,Ts).call(this),c[Oe(207)](Oe(234),Oe(154))):(sr(this,i0,Au).call(this,Ie),c[Oe(187)](Oe(234)))}),c[o(204)](o(205),Ke(this,Ma)),c.addEventListener(o(205),Ke(this,Ma)),Ke(this,_i)[o(167)]({element:c,handler:Ke(this,Ma)}),document[o(169)](o(209),Ke(this,Qo));const f=s(o(197)),m=Ie=>{Ie&&Ke(this,Yo)&&sr(this,Fc,Kl).call(this)};addButtonEventListeners(f,m),Ke(this,_i)[o(167)]({element:f,handler:m});const g=s("#saveBrowserUiLoad"),Te=Ie=>{Ie&&sr(this,o0,Cu).call(this)};addButtonEventListeners(g,Te),Ke(this,_i).push({element:g,handler:Te}),document[o(141)]("platformFilter")[o(221)]=o(229),Ke(this,La)[o(227)](VME[o(193)].SAVE_BROWSER)}[_0xa88fb(223)](){const o=_0xa88fb;sr(this,s0,ku).call(this),document[o(204)](o(209),Ke(this,Qo)),Ke(this,r0)[o(188)](),Ke(this,Go)[o(138)]()}}La=new WeakMap,Go=new WeakMap,ha=new WeakMap,r0=new WeakMap,an=new WeakMap,Yo=new WeakMap,n0=new WeakMap,Qo=new WeakMap,Ma=new WeakMap,_i=new WeakMap,Ac=new WeakSet,Ll=function(o){const e=_0x3f05;Ke(this,an).on(e(231),i=>{sr(this,a0,Iu).call(this),sr(this,Jo,W0).call(this)}),Ke(this,an).on(e(198),i=>{sr(this,Dc,Hl).call(this)}),Ke(this,an).on("moveEnd",i=>{sr(this,Jo,W0).call(this)}),o[e(131)]((i,c)=>{const f=e,m=()=>Ke(this,an).moveTo(c);i.addEventListener(f(208),m),Ke(this,_i)[f(167)]({element:i,handler:m})})},Ic=new WeakSet,Ml=function(){const o=_0x3f05;Ke(this,an)[o(182)](o(231)),Ke(this,an)[o(182)](o(198)),Ke(this,an).off(o(218)),Ke(this,_i)[o(131)](({element:e,handler:i})=>{const c=o;e[c(204)](c(208),i)}),nr(this,_i,[])},Cc=new WeakSet,Vl=function(o){const e=_0x3f05;o.platform_id=="md"&&(o[e(152)]=e(215));const i=Object[e(158)](SelectedPlatforms)[e(222)](g=>g[e(152)]===o.platform_id);sr(this,kc,Ul).call(this,i.platform_id,i[e(153)]);let c=new Blob([o[e(219)]],{type:"image/png"});const f=URL[e(176)](c),m=Math[e(226)]()*20-10;return e(162)+o.id+'" data-platform-id="'+i[e(152)]+e(168)+f+e(195)+o.program_name+e(236)+m+e(149)+sr(this,Pc,Yl).call(this,o.program_name)+" ("+i.short_name+`)</div>
        </div>
        `},kc=new WeakSet,Ul=function(o,e){const i=_0x3f05,c=document[i(141)](i(220));if(!Array[i(213)](c[i(135)]).some(g=>g[i(221)]===o)){const g=document[i(230)](i(175));g[i(221)]=o,g[i(144)]=e,c.add(g)}},Oc=new WeakSet,zl=function(){const o=_0x3f05,e=Ke(this,an).panelCount;for(let i=e-1;i>=0;i--)Ke(this,an)[o(130)](i)},i0=new WeakSet,Au=function(o){const e=_0x3f05;o[e(131)](c=>{const f=sr(this,Cc,Vl).call(this,c);Ke(this,an).append(f)});const i=document[e(143)](".flicking-panel");sr(this,Ic,Ml).call(this),sr(this,Ac,Ll).call(this,i),Ke(this,an).resize(),sr(this,Va,Ts).call(this)},Tc=new WeakSet,jl=function(o){const e=_0x3f05;sr(this,Oc,zl).call(this),Ke(this,ha)[e(200)]()[e(242)](i=>{const c=e,f=o===c(229)?i:i[c(239)](m=>m[c(152)]===o);f[c(184)]===0?sr(this,Va,Ts).call(this):sr(this,i0,Au).call(this,f)})},Va=new WeakSet,Ts=function(){sr(this,Jo,W0).call(this),sr(this,a0,Iu).call(this)},a0=new WeakSet,Iu=function(){const o=_0x3f05;var e=Ke(this,an)[o(159)],i="";e!=null&&(i=e[o(170)][o(180)]("img")[o(216)]);let c=document[o(141)](o(191));c.style[o(201)]=i,c[o(160)][o(201)]=o(139)+i+")",c.style[o(181)]=o(192),c[o(160)].imageRendering=o(145)},Dc=new WeakSet,Hl=function(){const o=_0x3f05;var e=Ke(this,an)[o(170)][o(133)],i=Ke(this,an).camera[o(173)]/e,c=document[o(141)](o(191));c[o(160)][o(181)]=o(132)+i*50+"%) scale(12)"},Jo=new WeakSet,W0=function(){const o=_0x3f05,e=Ke(this,an)[o(159)];e!=null?(document.getElementById("saveBrowserEmpty")[o(160)][o(237)]=o(194),document.getElementById(o(177))[o(165)][o(228)](o(234)),document[o(141)](o(136))[o(165)][o(228)](o(234)),document[o(143)](".flicking-panel").forEach(c=>c.classList[o(130)](o(241))),e[o(170)][o(165)][o(228)]("active"),document[o(141)]("saveBrowserUiLoad")[o(165)][o(130)](o(234)),document[o(141)](o(136))[o(165)][o(130)](o(234)),nr(this,Yo,!![])):(document.getElementById(o(166)).style[o(237)]=o(163),document.getElementById(o(166))[o(174)]=o(183),document[o(141)](o(177))[o(165)][o(228)](o(234)),document[o(141)]("saveBrowserUiDelete")[o(165)][o(228)](o(234)))},Rc=new WeakSet,Wl=function(o){const e=_0xa88fb,i=o[e(206)][e(221)];sr(this,Tc,jl).call(this,i)},Fc=new WeakSet,Kl=function(){const o=_0xa88fb,e=Ke(this,an).currentPanel;if(e!=null){const i=e[o(170)][o(203)](o(151)),c=parseInt(i,10),f=Ke(this,an)[o(140)]-1;Ke(this,ha).deleteSave(c)[o(242)](()=>{const m=o;Ke(this,an)[m(130)](e[m(147)]);let g=e.index;g>=f&&(g=f-1),Ke(this,an)[m(140)]>0&&Ke(this,an)[m(134)](g,0),sr(this,Va,Ts).call(this)})}},o0=new WeakSet,Cu=function(){const o=_0xa88fb;if(Ke(this,Yo)&&!Ke(this,n0)){nr(this,n0,!![]);const e=Ke(this,an)[o(159)];if(e!=null){const i=e[o(170)][o(203)](o(151));document[o(141)](o(191))[o(165)].remove(o(178)),document.getElementById(o(196)).style.display=o(194);const c=parseInt(i,10);this[o(223)](),Ke(this,ha)[o(190)](c)[o(242)](f=>{const m=o;Ke(this,Go)[m(212)](f[m(152)],f[m(186)],f[m(155)],f[m(240)])})}}},s0=new WeakSet,ku=function(){const o=_0xa88fb;if(Ke(this,an)){const e=Ke(this,an)[o(140)];for(let i=e-1;i>=0;i--)Ke(this,an)[o(130)](i);Ke(this,an).destroy()}Ke(this,_i)[o(131)](({element:e,handler:i})=>{const c=o;e[c(204)](c(205),i)}),nr(this,_i,[])},Bc=new WeakSet,Gl=function(o){const e=_0xa88fb;!Ke(this,an)||Ke(this,an)[e(210)]||(o[e(148)]===e(224)?Ke(this,an).next().catch(()=>{}):o[e(148)]==="ArrowLeft"?Ke(this,an)[e(142)]().catch(()=>{}):o.key===e(211)?sr(this,o0,Cu).call(this):o[e(148)]===e(137)&&(this[e(223)](),Ke(this,La)[e(227)](VME[e(193)].MENU)))},Pc=new WeakSet,Yl=function(o){const e=_0xa88fb;return o=o[e(161)](/\.[^/.]+$/,""),o=o.replace(/[\[\(][^\[\]\(\)]+[\]\)]/g,"")[e(146)](),o};const _0x58c95c=_0x3714;(function(h,o){const e=_0x3714,i=h();for(;[];)try{if(-parseInt(e(355))/1*(-parseInt(e(328))/2)+-parseInt(e(284))/3*(parseInt(e(345))/4)+-parseInt(e(256))/5+parseInt(e(278))/6+-parseInt(e(272))/7*(parseInt(e(266))/8)+-parseInt(e(275))/9*(-parseInt(e(316))/10)+-parseInt(e(257))/11*(-parseInt(e(347))/12)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x5ada,418856);function _0x5ada(){const h=["dataset","5360808SoqoOK","add","No collection found.","open","Cannot load selected program.","#collectionBrowserUiRestore","touchstart","rom_name","654567yNxHFh","currentPanel","moveEnd","MENU","ArrowLeft","3067695RpWthA","11HLAdUV","moveTo","undefined","platform_id","style","save_data","collectionBrowserEmpty","click","element","3464GTeIuf","Escape","image","close","save","addEventListener","7091RAlAEG","push","show","18jsPexC","sort","COLLECTION_BROWSER","4587078IYtHzT","then","classList","querySelector","rom_data_id","toggleScreen","552834BNNVym","innerHTML",`deg)">
            <div class="flicking-title flicking-title-name">
            <span class="flicking-primary-label">`,"remove","catch","loadRomFromCollection","find","opacity","timestamp","Enter","#collectionBrowserUiBack","ArrowRight","keydown","reset",`</span>
            <br/>
            <span class="flicking-secondary-label">(`,"prev","panelCount","getCollectionItems","querySelectorAll","filter","save_data_id","clearValue","data-id",`
        <div class="flicking-panel" data-id="`,"storeValue","getElementById","CURRENT_SCREEN",".flicking-panel","#collection-browser","contains",'" style="transform: rotate(',`">
            <img src="`,"1711610EcRQNp","key","disabled","collectionBrowserUiRestore",'" data-save="',"getAllSaveMeta","next","#collectionBrowserUiLoad","append","none","active",`</span>
            </div>
        </div>
        `,"2serebb","panels","collectionBrowserUiLoad","platform_name","rom_data","snap","getAttribute","credits","getRomData","random","length","title","changed","#collection-flicking","removeEventListener","block","forEach","16DpyTIc"];return _0x5ada=function(){return h},_0x5ada()}function _0x3714(h,o){const e=_0x5ada();return _0x3714=function(i,c){return i=i-255,e[i]},_0x3714(h,o)}var Ua,Xo,Qi,c0,Cn,za,ja,pa,Zo,qc,Ql,Ha,Ds,Nc,Jl,u0,Ou,Lc,Xl,Mc,Zl;class CollectionBrowser{constructor(o,e,i,c){Nt(this,qc);Nt(this,Ha);Nt(this,Nc);Nt(this,u0);Nt(this,Lc);Nt(this,Mc);Nt(this,Ua,void 0);Nt(this,Xo,void 0);Nt(this,Qi,void 0);Nt(this,c0,void 0);Nt(this,Cn,void 0);Nt(this,za,void 0);Nt(this,ja,void 0);Nt(this,pa,void 0);Nt(this,Zo,void 0);const f=_0x3714;nr(this,Ua,o),nr(this,Xo,e),nr(this,Qi,i),nr(this,c0,c),nr(this,Zo,sr(this,Mc,Zl).bind(this)),addButtonEventListeners(s(f(294)),m=>{const g=f;m&&(StorageManager[g(305)](BOOT_TO),StorageManager.clearValue(COLLECTION_BROWSER_COLLECTION_INDEX),StorageManager.clearValue(COLLECTION_BROWSER_ITEM_INDEX),this[g(269)](),Ke(this,Ua)[g(283)](VME[g(310)].MENU))})}async[_0x58c95c(350)](o=1,e=1){const i=_0x58c95c;let c=document[i(281)](i(312));c[i(280)][i(348)](i(274)),c.style[i(291)]=1,sr(this,Lc,Xl).call(this),nr(this,Cn,new Flicking(i(341),{circular:![],moveType:i(333),preventClickOnDrag:!![],autoResize:!![]}));let f=this,m=![];const g=Ie=>{const Oe=i;m||(m=!![],Ke(this,Cn)[Oe(258)](Ie).then(()=>{m=![]}).catch(()=>{m=![]}))};nr(this,za,[]);const Te=await Ke(this,Qi)[i(321)]();Ke(this,Qi)[i(301)]()[i(279)](Ie=>{var _e,De;const Oe=i;if(Ie.length==0)sr(_e=f,Ha,Ds).call(_e);else{Ie[Oe(344)](Fe=>{var We;const Ne=Oe,Ve=Te[Ne(303)](He=>He[Ne(260)]==Fe[Ne(260)]&&He[Ne(282)]==Fe.rom_data_id)[Ne(276)]((He,Xe)=>Xe.timestamp-He[Ne(292)])[0];Ve!=null&&(Fe[Ne(304)]=Ve.save_data_id);const Ue=sr(We=f,qc,Ql).call(We,Fe);Ke(f,Cn)[Ne(324)](Ue),Ke(this,za)[Ne(273)](Fe)}),document[Oe(302)](".flicking-panel")[Oe(344)]((Fe,Ne)=>{const Ve=Oe;Fe[Ve(271)](Ve(264),()=>g(Ne)),Fe.addEventListener(Ve(353),()=>g(Ne))}),Ke(f,Cn).on(Oe(340),Fe=>{var Ne;sr(Ne=f,Ha,Ds).call(Ne)}),Ke(f,Cn).on(Oe(357),Fe=>{var Ne;sr(Ne=f,Ha,Ds).call(Ne)}),Ke(f,Cn).on("moveStart",Fe=>{const Ne=Oe;document.querySelectorAll(Ne(311))[Ne(344)](Ue=>Ue[Ne(280)][Ne(287)](Ne(326))),document[Ne(309)](Ne(330)).classList[Ne(348)]("disabled"),document[Ne(309)](Ne(319)).classList[Ne(348)](Ne(318)),nr(this,ja,![])});const qe=Ke(f,Cn)[Oe(329)].findIndex(Fe=>Fe[Oe(265)][Oe(346)].id===String(e));qe>=0&&Ke(f,Cn)[Oe(258)](qe,0),sr(De=f,Ha,Ds).call(De),nr(this,pa,![])}}),document[i(271)](i(296),Ke(this,Zo)),addButtonEventListeners(s(i(323)),Ie=>{Ie&&sr(this,u0,Ou).call(this)}),addButtonEventListeners(s(i(352)),Ie=>{Ie&&sr(this,Nc,Jl).call(this)}),StorageManager.storeValue(BOOT_TO,BOOT_TO_COLLECTION_BROWSER),Ke(this,Ua)[i(283)](VME[i(310)][i(277)])}[_0x58c95c(269)](){const o=_0x58c95c;document[o(342)](o(296),Ke(this,Zo)),Ke(this,c0)[o(297)]()}}Ua=new WeakMap,Xo=new WeakMap,Qi=new WeakMap,c0=new WeakMap,Cn=new WeakMap,za=new WeakMap,ja=new WeakMap,pa=new WeakMap,Zo=new WeakMap,qc=new WeakSet,Ql=function(o){const e=_0x3714;o[e(260)]=="md"&&(o.platform_id="smd");const i=Object.values(SelectedPlatforms)[e(290)](f=>f[e(260)]===o.platform_id),c=Math[e(337)]()*20-10;return e(307)+o.id+e(320)+o[e(304)]+e(315)+o[e(268)]+'" alt='+o.title+e(314)+c+e(286)+o[e(339)]+e(298)+o[e(335)]+`)</span>
            <br/>
            <span class="flicking-secondary-label">`+i[e(331)]+e(327)},Ha=new WeakSet,Ds=function(){const o=_0x3714,e=Ke(this,Cn)[o(356)];e!=null?(document[o(309)]("collectionBrowserEmpty")[o(261)].display=o(325),document[o(302)](o(311))[o(344)](c=>c[o(280)][o(287)]("active")),e[o(265)].classList.add("active"),document[o(309)](o(330))[o(280)][o(287)](o(318)),e[o(265)].dataset[o(270)]!=o(259)?document[o(309)]("collectionBrowserUiRestore").classList[o(287)](o(318)):document.getElementById(o(319)).classList[o(348)](o(318)),nr(this,ja,!![])):(document[o(309)](o(263))[o(261)].display=o(343),document.getElementById(o(263))[o(285)]=o(349),document[o(309)](o(319))[o(280)][o(348)](o(318)),document[o(309)](o(330))[o(280)][o(348)](o(318)))},Nc=new WeakSet,Jl=async function(){const o=_0x58c95c;if(Ke(this,ja)&&!Ke(this,pa)){const e=Ke(this,Cn)[o(356)];if(e!=null){if(document[o(309)](o(319))[o(280)][o(313)](o(318)))return;nr(this,pa,!![]);const i=e[o(265)][o(334)](o(306)),c=parseInt(i,10);StorageManager[o(308)](COLLECTION_BROWSER_COLLECTION_INDEX,1),StorageManager[o(308)](COLLECTION_BROWSER_ITEM_INDEX,c);const f=Ke(this,za).filter(m=>m.id===c);if(f[o(338)]>0){const m=e.element.dataset[o(270)],g=parseInt(m,10),Te=await Ke(this,Qi).getSaveData(g),Ie=f[0],Oe=await Ke(this,Qi)[o(336)](Ie[o(282)]);Ke(this,Xo)[o(289)](Ie[o(260)],Oe[o(332)],Ie[o(354)],Te[o(262)]),this[o(269)]()}else throw new Exception("Cannot load selected program.")}}},u0=new WeakSet,Ou=async function(){const o=_0x58c95c;if(Ke(this,ja)&&!Ke(this,pa)){nr(this,pa,!![]);const e=Ke(this,Cn)[o(356)];if(e!=null){const i=e.element[o(334)](o(306)),c=parseInt(i,10);StorageManager[o(308)](COLLECTION_BROWSER_COLLECTION_INDEX,1),StorageManager[o(308)](COLLECTION_BROWSER_ITEM_INDEX,c);const f=Ke(this,za)[o(303)](m=>m.id===c);if(f[o(338)]>0){const m=f[0],g=await Ke(this,Qi)[o(336)](m[o(282)]);Ke(this,Xo)[o(289)](m[o(260)],g.rom_data,m.rom_name),this[o(269)]()}else throw new Exception(o(351))}}},Lc=new WeakSet,Xl=function(){const o=_0x58c95c;if(Ke(this,Cn)){const e=Ke(this,Cn)[o(300)];for(let i=e-1;i>=0;i--)Ke(this,Cn)[o(287)](i);Ke(this,Cn).destroy()}},Mc=new WeakSet,Zl=async function(o){const e=_0x58c95c;!Ke(this,Cn)||Ke(this,Cn).animating||(o[e(317)]===e(295)?Ke(this,Cn)[e(322)]()[e(288)](()=>{}):o[e(317)]===e(255)?Ke(this,Cn)[e(299)]()[e(288)](()=>{}):o[e(317)]===e(293)?sr(this,u0,Ou).call(this):o[e(317)]===e(267)&&(this[e(269)](),Ke(this,Ua).toggleScreen(VME[e(310)][e(358)])))};const _0x4006bb="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAKUPMvFBQAAXaWbT8YkAAYBgAA4x/4xj/5d3vd3d34QXFxc+A4BoKDQUAKAKAsBoKU4uDQGgpTu7ule7u9/u7vf/8u91/Lu7pW5Yue7mKHYKwFwFw/YOAFwFwbngQEDPg++olnOqSYV1ZhCJNKWMAJgBxgjIjV2XFoAfl2GMKBQaWUJESywrggJFVDq0RDyAKF3Qsh9IhUCDrdh4Ut+DWznv8/OfjNJHWVqf++9/8oq0IHZaXDLJAgSKZb+DDutKr/3of+h3UXrrUA//tSxAUAC3EBUrjFgAF8HGuDEvAAS4ZECEdUqFxQ1ghPPPIM4OhYgkiUfOnjyJLYoYqSudPmA6hKEidLT1/SkO7fG2my+Lnpjnuc2Ld3bI631P7d0SgaxWyfg9Md55705ps6Jr3e5KxAYEAPPTAsZEzWWbUNms3nYISopCeKBgbWp8+vNeG5ORyN+runVKzx8FGRQNwUomiJISeK7VPp9fqN0wZWI/zAfWt///3kje5w4UTH3BzXH/zP8/2pd7cUKVf4g+IqHiuAoHBC0nccSXP/+1LEBYALcNVMGYSAAX2UqMMykADLONBirVnei9LAkgBYNKqsCoQEhpESztHo+yqFYUULJahEIPA1Fh7SKCOXmru+Lo7cZQqEM+V99Vcff97/WVv///8kUXRjkoMHSVMtZ/bnIiECrFQCe/5whX3mfxrEqeyGmzs5lEjmbgyBlAye0LCUiaM2rmkYiRE1L9BkF2FTJ8mYjSJRpRTqL5JiO25KW1ru/M9xx8LUwHlh4GDpNRcmMaxj4bIHaz6JG3mmyS//1y6IYQdsalponDrbnP/7UsQGAAvk51IY94ABc6WpwxiwASEXxGFMgFFM/fNDT7TZgSQa1+Zo5+HBqr4SHftOTs01XMxs1U6xTxa5/Z5mNnZM7xGs+hf//V3mvTXjYtC+df//948ph5Ef3+ISeYVa94ls5/vKhorEpW0ZwmjhQH8fDJFfjdWaGpph4OG70m003Bg3YhNO7T0CkltjqWPezH0ah2AmK7u23/zB8nuOez39s+GfvTP5z+JfW7+eJv9BA0Mx4Hwnwctl///3//+Os3HbkttbkZcTYAFqYrDQ//tSxAYADATvZ7iUAAF1oCsDEvAAoAPIlkQIrETAiRMKESJZDi5IBg7aSyQaiFCSego4sE4/vFaFxc8RwBAEyUVGnSd7EYRkEo1aX+nFEp+tjVi///kXHigoZ8LUytf//nuBHYa/65QBzszi7ieabcYrhskOx1AoQ+cNvldF2p4U+d9hXM4hUsZle69KmeRz9yiNsWDXxJs01D97R4vtjP19Zz/F3iE/gw//65rreKX/xueLNmlJcb9rW9rf/5//gQEkeIvU5VGNJWoQSAwAVUT/+1LEBQALpRtiGJQAAWMR6reYgAAsLmRoyYLywmD2x1UQSwfcuYNo5ygOWVU5WNDuhY46Uibk+hez0ZZD0mv2+SxHMH1zyqipX/Hno5toQNPqxKHRYyauLn5+T+Ve36vs4Rclw1859VWSBTgQMcluBEZKxpGoyA8cD0qLSJKa4ZsGQAWbNBQUIIc1JqoLCwszN/qpNNGqyvC1OtNEfbdSSG8SiV07OoQtxIFTCciOeWNqtMBQ9/R8SpZpCZyn63/Qjc1QApttwfJpLRrkqS6MT//7UsQIAAwkM0lHsSYJYounYPYkyZkHYVEoQHyBoRIhLI8TDiMy1jjgkrplWmqE0xkonLc3gvYUyw6aoxLMt+9jieUOHxsWKcqW5j7Y3tKA34fu1lcktrenov92nHdpYsbpv////QjAgAMNUmYrx5mk6NY0mQRbAtZoEA2QCAMEYUOGjAfWc5Gky9BsnZNJOs3GXv2DWE2gsF5n6rmuCiHy/MKf/zP2/z4MRb7fzLpW4r9gPKnPXurDN//ch8pqYsqkIITjbcAAokABGAbCoOCs//tSxAkACjx7QaWwaMFGqGaw8Iq4Mgk+MBpPQ8HtEIDEUabFxbXS1M5pWuaP3XNTzliDoKB8weLDkwsXJuHSG8BiZjRzLC0klgtqpVItEu5aBSOVHEORIglVpsVhNzuLybx6l6XRksDRCNt4rFfpqvJVvpp7H3P4mxgANmyRiQWTSjhadZEcy5BxhmYObe9TIjl9f+nXDRXwsofDe1maiUVmu4lSUIoBRJIgDSqBBhGlor0Kgh+neaUyOS8VASAWdJDsUiiutYzrMNckwutPLNX/+1LEFQAJ7IMph6RswQ2Mo9j3mADNU6qfAx5l2B3FWvfJDIuhBsehNFais9S5jNEqR0N+Bvss93/yIF/2WQV5HogcSygpI0lZEJKCtNIuRRYBbMtLHU5HDqokkai1aRo1Fjh4xlZ0s9AVO6zp4RLnst8j+Wh3/Ge2S0f//74AA2VmRI7t/+lJHnEnrSEq0jLK0/Y/liX69jmyP4U1IQRqb/20J//td//lqkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqv/7UsQpg8VoARPgjEAgAAA0gAAABKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",_0x347a84="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAIhHErNDGAAbGs7fcSgAGUACAADbd3d+IBgbnoicL/03c/0RAMDFu7nEAwMDfiE4AAHAfD4jPlAQWCCwfPlz//E5//wffiMP6wQDH/y4f//BA5D/s0e/9fr7VJgCJ6QKCOVMjTI4T0nChxvk0EE63caf3VhEKkT2emwdhsIClcmnd0HmIIRvyxXV0knjomxwtx/d/+MEYcnes02tf/9XzdkUjp3zXHf///o9Lb8uNZv+fWV/////k0PxQoD0uRJcVOHUIMYwuxdgD5//tSxAUACyy/Uhj0gAF+IuxnGIAALApj/XbIsImGyYbA0TWwTaaNdrc6c+6akt78xAw5sq0hz1nn/CAhlKvGOX6v/0j2Ecr/IITbENzNbVEQFUoWa5S2KeKBxvnVRZZd87/5EwAr/z/zqhx5+AYEgtjYQT3T8Go7xg0lx6hXIKoFDBQPqQWMebG0wxeYoXkWNv4mxe0IFAXS1FfszGIrjRcWvnaF4/D8ckI6C0TX///cWm03Bhf/Ps0f//4iOEHAm+OdIjAIIAhRLqCpnBpG4tP/+1LEBoAL5ING/YSAAXCU6PDEjZgXdD5ABB1vVboGca20qNP8KSUZGGjT2I1Wyi12cdlqb8QoZSWxCoinLfLylLbk08XUFTC1iU3KmHKfDS3JqAwNeE3U0zbOcY1RNyQlGsahv//IQVBIkEAK9KwKk0oBKSiqSQ7Py6YFoQyYPMpnUsLM0iXMEKCfLTVguwc2y2iFvXTG7Q4GLEe9OyOUJIxEgJYbAtCAfaF1JKkB5Ne8ACoOBgXQY1Kc6LquW31f/+QqihsQAAYDQ0TMxVOWFP/7UsQGgIvwjT0nsMbBcRhnQp6QANL4FDGhHMhhw/nBfhOQD2ErVr6g/i0ph1qAJoKb5zdOrTzkiRIGOtiWVSXwmwJoXARARktx6KtCAdFzwfS96hYcDV7noUpzIde1IbWKi56n//6iwB1oghtE8nVIJmVw9JbkCq6PojMNEMpHi5aSGWEwyQI1UkAYHx0NKkomFJAw9DkvJmUE6gtpnYul2DUWFoqu2eJdh61uldeTF1KKVKgkPIzVui1ha/+zo////kauNi1WKkUhoNiNWIOA//tSxAaADB0tWbj0AAFnoq63DDAAAjmHTGrWWrhHfvnOeGz4XjkiQDiQoAMjOYQYIYNg9+boPJcVJEWI7WE5ML1okVHx809y/Ytnpw3/78vN2lCp2jR////GkvftzKx///6f//7mzpUjqs3ttLtKxG2Q2Mxoc0f1lBB31ALIhfOHsaEho8G08ormRI/m7kjoxe/ENMqFSH/kiF5K2V8yI0dTR9C45ro5EafX/p1/n/S///yMXAiKCBZapTf5R31wCy2uRmCbSIAAFABIHLqQAxb/+1LEBwAL/KNjnMMAAXIPK/KYYAATDkkDsYHRyUV5wiGkw7pZDQ/zNjd3fFGNDevn/+ZcE1Joff9vT2Tyvf9PlIhIOCMuLQyAhIXB0ffSZa5gQACighIuD5/f7iaaOgTCyK+1/vqUUZKkowQEuwSgNLGhyFJkXgajUExkTrHJZZBgEl55s1mY3b5O+jTSJHGlHx/PztVHUHBYKHoKhQuiKLW8kQQ0aAiK3r97KEpAxu5t8iFDwU0Klgax4K2t9vmDABMVV2V2aoaGeoV2gr1gsP/7UsQGgAwNM5X4kRBRRRSqt55gAGg2GRHpuPoDyDBYoJdbNigJHgQRnMUUIQEoECAAjgRjI1Q4Mc5qhl+zqJFspW3+QUUyUKVi/84VF+lJv/qkQt2FzP///dTAlWKg4DILR6F2/xRtSmpmrcJILQVnLMelIl9WSEM+U7CWjwRzArWF6pQ8ikbCSE0kjUs8ricyfPf5+/eq++Zwi+9+7P/9+/vPOEwTkCbpLqTyR1+ur/6CTau32E3LQjIjU2kCQUlAjRPEYWIUoA+FkTTgnGKc//tSxAuACkx9R6ewY4FKn2k48wl0smItLayitRaJbXY29aoVddmi3/0tC/IUAtBQDS7gK0LC4InBx0TgAHschjpoUeRazuVf70CJqyKTM0KgcwjKSMjUIxMXU91Q9CrGGtKdUqdPLFAEJCErPIbRro1OepftWZuU+bu5rFmZjUThxDyXR7dNTLcromXyn7TL0WXppR4J0uAUiLA1qURXCCj1Ky77dLI6k0SwwmYdSzFRJ8ilQTeFxY+NGSF5ZgLDozUlVm7ALgoQAMcNv7eHc6T/+1LEFwAJ3J1Jp6RooUePqLj2DHxwGS5dGc+mSqE2hMa4QmEnGHXJyff5yeZzGx7ypaAnZdArDKrIyHXs2MRBSan+mAiuHc4IpklElUZOlTDpOtc9mj1MiYia3Kft6lfkOLubsLEGiRoXLJbuFUjknFIDKWQFShHYRHkjJiZnjJKok70PnRE+AgJRIABC1DIFyNtCm5gQ56pTgUx0kHzpEuwScTRo+EqdGiwEChZpoiGnBkaReBrhV45QlJBeqd3AKaCt6WL71unUcS2g01SnHv/7UsQkgApIQTNnpMpBPRQn8PYMfA3c6phSn//ZU9T66SQtPTEMf5JVYZFkfyqDwcF9Qbnp8ctGKdz3XlrTcIyaxydllz2v3n1bD7wz/4GszGhxqKPqkhiRglNG6AboPK7PYKDVMVVGhy4XfC7Kb3+1rakbjbGhuLlAMvJIJDiPJacMj1UYrlq1dV5WrWzlllrPH7Dcv11PzrVMrYZHMoudl9T5utsDUuhcPCjycVUtEnUsOVysmTMtcsa/UYUKrV3+21brbiaApAuCgHViMrBe//tSxDGACji7QaewZWFQimf0xI0dDyUgC5QuNEKIwSI0C7KwlzllYjJHBA0JZ6+qq+rxB8mtRItm+VGUsht5SvQxXejvszptZ0LNy/C1Yi/Pta/xiXf/+WrbbLHf0qDyCAHDcjmByVAhLI1mRqIZIcLCAIFTEPSFsMnCgsaPhsEzYBQFhI9AuJxEGY4WKuScIOFQI8cOGrfXfFk7pC/kA9LMF3yIzs1g91IMLKE5E1E/LE3Y8EUjnYvHQ/Vkg5MyQuOG32GX2CSmivCejnAITDL/+1LEPIAJ7DVJhjDE8UuJpaT2DHgJjhMIXWpImRI6NIJWPQ1aikBxKOA4qpVpVzWL2jd829ljnv9lH//r+9UABJJwIvKBdRcVS9xU4aBEZBE8FkbNPAKRmHsqqNksjKTVBRMNHgFQsBEgZLVjQKJQagyGg6Ehx1UNEAKGSIlv1PpKwK6eRRhI9Wd////8NABAIFKTQWiSBRQEfFigg6E1QyOyWX5ZKhkf/+RqGCg2dno0UJEmHgmZFRY1Coo2oWFf/qF2atYqKN1CusUaaeKtxf/7UsRJAAn8RyWHpGPBKpCdlGGZeIXZMizP/rFBZUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",_0x31bc05="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAJxN0tFBGAAY4s7v8SUAEQwEAAzH4B+ACoX130A30Ku8FmEAABKHAwAQQcDAxZ7u4G78R3OIno7nohcfQAEJu4hE3cW+7u7uegG59RzBDWD58QAnKAhEH4If+CBzRNJLpTpcLCsxF2qlkgxUWwgiAddS5twfMnkwrr4MggouxBAsWBVDgk4vIhCB80xhQljirscBPR3RiRQUOd2D39ydxEWHNYuT/9srsxm/7K759GLQyvc49v9f3/9mERY2ZUADIacnqGJoP8el4q//tSxASACuDFWhj1gAGOm2tzHtAAlcT5vYltpiNpcEMPNP2DacvidpuPks0jHrXXHeT0XviEnWpeO9djjQ8yWxxcT9G580SBAXY6I+HN/kfIrYsu/9YEeXECn+nyBf//9MuaJIAAOrrQBFqWTwAHSYIteGhyIIN4bCFIqGuhHjpgxoABGATpMHGbIheiTMColSSUg6RUUhVdKd2OiNOXlOZsmYu28lTE1MTJJI2TRTa+zGxixORb1PpP+1T1qMvk/ColDQNA1TMACSQgSE1AYAP/+1LEBQALoK9HvPMAAW2aqTaeUAH4K4XFIEhSpkoUtQDsRKlixEOhHhJAsSZuHS/6SVR/sU7+6x5mvvntd7KW01u3/+7Hj598WdiMjQMDC2rjA8NpMnQ4ApLS7ZcQLpFRoIpjCqj6a0fBHE0i0VLQLakCepQwESjT+NjSAdrg6dLhpVQRGso0VKzO58yqqIaqFmIRqOyTNZXKY8zvrMVKOnOzXeti5HazyoUYXaM02LarmSj4aIcMZymoEb9h/6hb5b+qIKAYViyaKjhTSSRAAP/7UsQGgAu8vUW49gAJg5mpJx7AAACMwCfYRk06tXB0E+gwmFzYmFjBwKnF6KQ+Uli92LrNgiYh/Yl7y+hxEqs5KuJqCp6/WL7T25L1s/5WbrLFXpv9LbTv6fjl9pVFR8/9m1rV9oSKNLSCgzUAAFCaZ8IWyLZUGOT05ly2p5GLUY1Wcn6LnVMK8VhXClgmYRIKQvO1odE7+TH1sovPIT9qPO+tYcJ7LVXX52nXzPnq8YIVVcbjcX5XZmt7T+7CvoOJCAqGv656SSCAAyjNU4Ti//tSxAUAC8C/TrjHgAFmpitDGHAADqc/JgiAYTNnlg5AvFwhhyHw15rRwJwQgM0L46f9ZWFIThYE1BlEjJz/nFonyr1ffqaKpP//93v6aUUHerzf6//9/q9/u0J5H8H3k0CERAqz5z4ahlf520mTZh2FC4p2hRNHoWcbk1ac5xg4xccOXZjxu5kxqZuNxLOFw0Y/mG9JYA8IAwDgz0/4kAsFollRu///8cLD5zMI7///+XGjCRGq//6aBO6Hyn////yFBekwlhQABiNZts7esfP/+1LEBwAL1QNkGGMAAXqVcHceYAL+5X7f0wMYdl4drsXlUKNb95n82yznlsVh+1zv6arpIwJateCs3m98mvLdtaSj27f/9+/+/ZZkzTUYJQMMcOZPISNrColYMO931Nb+d////27Xyff2/e222yRiwSCwEgH9BZD21ZRPnJu3CPFjuoWQJCqaeias+kdaCwSyAkGB1O3pbphHR12Ohu8Q0Q0Sxy/Ff/+m8Uh3xK7tUcD9dwNelwPh6ge6LHvwSuKTmVOjlbbZf/7f/rbbrbBoLf/7UsQGAAvY2YG4xYARcxao85hgABAGlCUktaWmzpQKjUr1XGsjMln0Lv1CQTjjG0ooLyDKYVhDe+68+eRbUkE/2RZfDScfJ7HK3u2d87reia+2v//9DpO7NWHOt3jBGfSfC0SwVT+pSgLFRAiLJkFA0isAoQBMIzgih24fi0lNHDZFHTa/glzcmvTHAqkqokdVF/1Vfzrlmmoo///9v7/8/1pu0zb6OpgBJWojQVY5Y2VMFQVKqBrubWhtoNHutYKu//61LBVgAAYO8NIdKVLa//tSxAYACnx7PyeYbgFFEeek9gx4ojos+MV2/YE+0NMBHSKJ8B8WhUiZYRfSsMu+yG93dQpgLCZ4UF3HzLHonS8qXEczYWj2p0rrOtXnnLlwm1qSoswCVGGL//8kWh7ipJQlRiKExSGIpNKhOBiWXAlVlglnC1S+xrXPsVTjwnI9pYuTm0yz1yzPCHWJtoYwVQPGiJoMveSIEyS3Rd37TV0FUD1JWpfQyaqs///JKiOWR3VXSRspFg6zLPp+xkiU6RP5QqA6UecCyHRCQQ88w1L/+1LEEQAKVINH55hsoUWPaHT0jSwx3eE6JYUxRFlT/utUFTHnnqYkcwUfSyISzo8oB3IYaCjTSk0X2uF9nFMZBlay15t039v08cbaSQHa2KoJUnWBLH8sqZ5smDBkvMFElk9Syb83M3Q7DhPkrqc+8qn91GEoGECAXXDoDcLJDj0uTalD1LvZVHqryKxkJKIrWoI0jhXqASnhKCYgDkD6yu4SgSAGQBKOwarBKfJKkxceOXbeySkxrG1ybUqoU1KVerSPpdAaJJjgE6//Dv3Ug//7UsQdAAlosSUHsGPBNRkdgGCM4DSQNPkwVIkYaEoClfy3/qfltCQYDIJq0iYSf52VBQWkfYf8/llUMDQ1a/kyw/svkatHIy/+wyZWB1D81DAwYZc7RWKN/WKPoBkSGgKKijf/SEhX2DGjxZAFCoo9ICFqTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",_0xe071c1="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAKDKUzNFSAAXsSq28ewAAgABQACTeQhCMSsQAAAAIooFCCGf//+c5zmjQIMXIxWK0ero29UQChxGAAEDFo29UFAJgmK26QIEDE5znOe1BGD8HxwPvEDgTP8Hz/93//w/a4wEAAAAAEhwySJSIrYENxVC3IuJILmM5InsAw8HNEwJ7kC1FzIxLNz9DM7JTw0i5KemK+0O0Xx3YYKx8uZr/5szEvvelKtA09AWeo2LCC8BFPA79ZYlqMoD8oz0HUqnakigCQCklKLILg//tSxAWAC7Spb7zxgBF6lKw09I1aL0ph0iNpxdreIdKUVj27+ggBwMMIFuQ4gOxOkYRf66RWLy3IDiUWAV6aELCJTYAouCA4tGEZMBscoaFhjgHBP9Rcgoz382itZ8FhJFnDpcMH/1GOAogAgApKQvRSl/R8UcqMELVvX1YQmBUAw8UjELAkfxZqmuYVVUljbMyl//sbGsZSampSkzMsakGFUgoCHrCRk6DRIOXhoj/PBI6HQ0sN+VGQ6CxKSDpIRWNCT//6qkORIiEAAAAl3UX/+1LEBQALXG1R57DDwX2M6nz0mRgs3jKR4HTGxLQhDFbZVVFxDJzyPmGEFbdffbx9uz0FGYGQhiB94nt3ayhiJwcIKaXUGDqQsQGTjWtkQuPJt76+kDFxOaqocwB460+zq9fu+p41ZiJEAiACXN2TWUKgM4SdQQD+IUwDJgegaC3IiHCEWJWRUSeNakm9GkZE4aiaRJHDqSqTCgZio4sKNUBmMIguYGijAXsShMWCREKNyJs28AkgCNfgN41b1irtOa//+moLsBUAAATw8RYFSv/7UsQFgAu4p0eHmRKBeqSqtpiAAQC+mUq1Gwl+lOl+jUywrzjDW3M00LnvBGXFlcmQSY9A7CKqQQNCeoikRNKiJqXrpFeeLLGlli4ueeYgIKBd63hdaggxAMHggKfKK/r6TPrp//+kWwpxoAAhSsD4VzA9XnY5k8+QnFBgeVFAGNAeBIEXDoPx7Rb9T9XfXFsUcXI15fv37d7e4SP/0SEhOO3sYkIiTL833G4wa098y/N73pSRFy9ChhAogogpcxRBhBtlvnVRFIAAGREm1oFt//tSxAUAC3k1YZj0AAF5j+kznoAE8CPDEzY1ddYb6MV1c1TRvVaDg849xwQPQfqgkOi2FTlPHzcHHHJeoxMwUklWuNvtL4+ir9UXXa2/r49V1Yb9/9JV/+11Nfz/6x//wkf+3XjXrDqYcAIyqOQV+cCCSJ0Js3jZTkQ0VerSQgfDBOl8Apgey0iKfSf2qvbdDLZpGxKqNGm1MzKqT0KNgVSnmAqfMPkZhqxMKPxiIvtJ0aUColDaJfQaHpQuwwQLogTRT8kqCiAIAAHAihjDLIT/+1LEBYALkHs5Z5hygV+OZqz2DZAfpPjrajyanNL2QbCMFKKZFyuUZwiUWAnBqijqsW+kfQHVqVapzBUaIfkPSTOgEYCooxaF6S5gUMTpgmM3KsLLaclgvZaBqDRJVRI2JXkv//kgJAESQGAuYuUpipQtqoJ6lGfmCaKlULpJD0+XwryGh+vFDCOBmh5ggLYiTHtcjjwHig2FGnjoLkYBKBUOhItDA0UhYOpfz3dDtKrbeTPRgG4sxRJn6f0dFZP/JHYUo0UgKMfKAY2InxpIkP/7UsQJAArofz+nsGdpWJSlsPYMuEhaaqDERT0sul1M0ugYic4kjBmkjWrmpF23vuUJFtUY7EIJA3La/Nf+/cqrdzOH7ff7jcH3Hve/vcrBQji6+VL+7O+dBwCQtEAIqyjOS4v5jPyQgdDkRUEbkwYlksj6VRxgaXNtss1deetYNEQGEnGM2Om7qZNmVKr6+kz7fzONGCkrkkCobm9iJsypfoTpm3qqvnBpWzaz/2+pyjLrNGylImSQQlxIewMHQTDUfioSicHw+iKYuQwpVq2J//tSxBAACky/NaewY+EyDiV09Ix4hp4yZmDdtPqlmKYTXNmkXjM1VUPUvvCLjGfzY73IssGyiRRI1x0qUm7353vrY5Cn2FnhJtuFBKRtpBGwhwmqpMUko0IQJMAkDQ2CIpBIhZSRPVQwikzRQqhlKMdUtS2DGqxRKgaWsFTorZUPSVpANblnXgrZXev+j1/6H///1RZAUYApVJdQmOhpohUAMTilgmwLEyZEoKLAJZGCWm4drNV2qkFEkRKIkCUY+1uzr7cs9XkP/+es/0FfsZ7/+1LEHoAISF8UJJhwgJ8AILAAjATsj4ircgBEEKKMyiS3LMtMtKsirttfahmmR//b3fUvq6tin9K//UzrAX/+MQpMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7UsRHg8AAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",_0x489035="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAKQN0s1BSAAWGXrrcSgAIAQABAOQAAX4xjgRt74QhDzXI0ekAoMFwAAAAwKHLisVk7CBAwmKwTJ5BcExWTo57UEaOe1CEM85znvhBG3P+EIQnv9Qh//CEIQ80CAEIf+CAYttttdjkiJaEjabbkgAY3JkEmFyJRgjbpQ2dC9uNOBEdjiAlNKBMPw7kfXsMNddBht+oglTwKV93BlWdDN2x78J/u//CxdGAMTm/J6soZn8xngm2RD8Hz8+rXRpEEgAkkqGokAEmwFDkH//tSxAgADCiBZ72kgBGAhm309hgyODHrS14oAQUafm6MAzN6HZTJZIiIibnaREqRiMjvahn9IGHd8sPEqqsbv7OfggQIEE5ATg+GHNQUcwPg+51PUkmD4Pg+Hv/WL1t8pxBcUBCH3Y3IiQiCkpMTYhQGgJHxkF4IhKjCUPStUcjKxVqjgEcSJBUGg7gyCuVUDT8FQViIFXSOVBUFQaAwNA1BoGgaBqdWCp34NB3xKJREeWCp1YKuVqBo9EQNA0EgaDs77NdlNSpDnUDCG3d8DcT/+1LEBQALzZtVtMOAAXifLbcegAJIigOgjA8lHE+WBPUpGB6fpChxcA0jRjUVDXLTJShqHvdXd6UqPFTFurzp7VroYeezr/Wmvd7Hnu6a90/q6TDzKU/r7GGMZ+ul/ajonX/3Zva36pLtxtxtpSONtKRSOCAQAQ3qM0P3a5e3gP2Se016LMkjT1F+ZEC6BvVotjeVxQCYuDecn46rEwA4Bw0Lqw5NXjtM8ysXv1+f708UGGOp8fN////+IwcGZZ9H//uAYfAY9T2hBuuU6uiOZ//7UsQEgAuIzUoY94ABeZwqP5hgAHqxcrRPy+7mnZziHi3SYVZcCQikqZE4jMUZoYhZQ6axrMUFibtImY7VMfenlNUhT6t1mZiY+269vnWf8628e43uC9t///r4+/muoTBZ/29p0S/6SWFNSIiAkAKSwAUdAJmAHDIeSENYhnZ0oqjO3xIJSYTgei73CaGtnu8uYrY16en/7u15r/cnvjPlS8bLf9qltzZb/t//jY1mWpIiSOLM0y1IwkDKZHHI6XJx8z///1o1eFRBIBYCAV+F//tSxAUACwEjUfTCgAGEJe03HoACgYl4PTguj8JRffPBYYSI52dxjQ+YAAIKDTupzqdaEH8+QhzMSejOjX2pO//yEyNO6Eb/f53seRv5N//tSjMmJFDIq6PHqAFtNrKej2YkblrbTYkbkjkbbMhAYAZ6zxxVGW1vGqNc07sPc1ezmCcaLGUETx0ovvcKOREIPADni4cB365bRkILh4KX/X+/PCUH5BVT/3W39P0e792//1/f9Fi54eVaV///////6CiH6GwAAAAAAQHI3zmIW6b/+1LEBoAL6NtWmPaAAW4bafeYUATxAzoIwpjmVprqGKgoccN0CnLpJGg9h6D4SwnJANq3DlF0TwLU7pGS9QgI2lBqRKvdFukmak5FHZ/8u6ZsXS7Utf/nTArMTg9nQMlla/oCoGEKFkA20Wi42U0FCGIoNrgqDrohF45LtB1VozojihRULUOlMPI6rOdVXIdFehDvM5GYxCEu53ZJk6EJQlk2faxivVEas9p1i5W4vDgtfbHxS2QODTIsOCUuPTf//6ICAAIADEOk8g/SGHSN0v/7UsQHAAus2T1nmG8Bbpum7PMN4HRbyck/QB9HCbrCtJZTAZvBQCEVCShpE0t11UoyU8bzkI4qqWxq6ItsjGT2rfhkSrNm8/M+aFmhlgj6FPssIXnbnfcwWNhtoRpcuYAX//1FUgpAASiWJw3AlJ2IW0pBXn8jk++cUNfH8zOREAxPiQkFSdEjLEiTc6jtLlHIwVSDM1hmZlKF17+zFmc9V9V29r/0u2rnPpiB7kMFwmGl9NQ7YLFgap56wl//6gQYAAYADmfpghSOunVwLcXE//tSxAiAClRbJyekyAD2Bx0ExJgakDVkQCoGAUEknIwDJFkkpIyyTkac2fzUZEqjwlOqBoGjxWDUQgrJLQIj1ZY8V4lARARRL6WiLlXNkJZcRP///+DQjhKQiNA3SoiB0ZBCaCakpOa4vNk40sEwTAQSYthkX0iyxUiAhfizMYLkcWFf4sK/qFiPWx31C7MVb1/1C9VMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=",_0x273530="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAKgN04tDWACWsgrrcYcAMAIAPoibmgGLNET0Nzd+xjGV/wxkksPBMabm9saN4CAIhMVJZPN7h7+K5ve++Xvv9lb3vg3Pv2MZTzRm973v2MZUpm5+Dc+kMH5j/AOgDo5+b//w/aRutxL3EpNpxkNCQAALCqUFBVusIxITFIWjoeICWi8JBLFRcfcAwSDlEoJx8dClyA3tXU0R0fHGNpfmIzvRk52rqj6s/0X+NhaTOW+hqLOnf+zIUJW/IFmsppgouSVClK+JCbIxj9//tSxAYACzD3TBj0AAGLE693GJACONRjyhTnC4A1BwUEMg5nlJp4u4kZTCkMSPaBPXaJBlHnB7Bj2b/UD7odcim50RfzwlclWiGHy5yzukpU08j6VC7Ja6kRiDreXWngYPaJW4tXs9ZKYzUnE2pEJB3ZLAsPBTzyZYoW11YYIxHJpikgMedyRkYHGlyap1uA5Ex5M3fnvEiZsnbbMrZK6vLvzrM8knqsz0pDhhoJEkWc/YxVkWsOYnJlwfD4esGHT3+j8qVVUAXShNhIRaZKolL/+1LEBYALmNNOGYeAAXAeKpcesADGJQt1FPvOzeCZQ/kOgOxPk6cbnBc4KGyw5q7qkmWIibfdv86SKGEGfPq+2dVz7/bFdsgP4X9rY+vj/EK24UJ9/rH////+I1sPpwKzXf1PigqgD/FDBhQqtNrRTM9WlibHygbmJzfsirIpmbWuzZVnjvP1dPiz1PMT6z2dnda3DYA8BMIc01ndW+ou8sMAIA0DdDvt8VPH+TD7Di6BMv/7///8dZ/E5cP/q8Hw9mXUAADsEEAABcAIk6Y9WP/7UsQHAAwQz1E5hIABe6Kpwx6wAIrZkTD3YeOD70hgFwI/CeYgMBT0SdgkCSnoy+q0qGfdK7L5YieREIZ3auOQj7BYBRzbAXxuPr78zoAVDLKrKHa//////sUimRoAnf+0sFajPqjSijiEsprzPMn4bnVD6EhqjULI+ihUPA64WeHsgzQpKh3PhnZRtG6zVSvvEgBYEA2QO4dTka/q84O0fmoExjZiHd1/LWJstNjoub6Y/uKqdEdi6R9reeHZ7j4///1Wckq6bbbW66avabTW//tSxAUAC6k3fbj1ABF7JWwnEoAAaPNgQtNICK9y2qGPEa1C6u44ZV8icwwQg4qywhB+LwFy557EcnMMdidt2kjqphISHofMo7sPPVrGL2trnn0q9P1b/fS1Lou/2zP97mpsVARH//tplqZEAEYAUACItAJaq+IbbJ0bM52jXkxzAndCrOOihicCohNCuYIAigByRixmPTYOgTSDGhY2vqPqYoXPuV+v//QgyVHpr81///7CiwcZolLX/H6///+eD5cHHI//6aqqkUEAAAAEJEv/+1LEBQALeQtpOMOAAYEzaauYUABEGODHwQPky5MrJz7H0AkGjR400gLAqNh1kSXEsHwwgpGrePCoaDh6UNX5rjxIdc3/5E0SyhMsRSo6rf6DZTj1elv0/5g1UwbjQ4aIqgd/yX5abgACA0XJAY8DU0HYFx4JhIJa0OA/ZoVjeIzAIZDCweMHSxoi91c5BQzlaQqHv0Ew4Q70FEZc7VbZG+keo91fX6o0733VbaLZ00O26M6STmIjm0T15P221f/1rr3/2rjUZKcICAA1acwzmP/7UsQFAAuct0eHmG1BYjNocMGKcIxbl9Qllem6jU8onrIDHAQkSPRTWXR6VEl7uvfA0X5rZRHJ+0VROfPy8zVeaN5mgzrKeGAXApsBmXpSDaixoaARS1g7kSwSKIGjVDVqX6Vf/+4klY4qkAIf0XioijqSgLMgSEo1TFk5UnjJUmydLqKtXSdsUbG5sui9Xvxo32NDMqeXnt/qvMotRyuQt/PvXKiP1rmXsjimP6+y6u+zV/ZE6y0+VUX/////qNUmZWIAgqtheCcAwZrwlBFK//tSxAgACmCzO4YMUUFIlab09gx8TbC9DjLB6erTlpc1goMz2NmcOBiyUkbyRvWNUzNjNoq+/uaz2YrqNeYM1CV9GHfOjXCwVm8S0liSXhZMLRa4Wf//6HLr/IiEYSSQqzbL4KUfAWFwhBMeBMVzIRvZMSSZP01a71mVSjM3ZmeWtPJf43cbMyfpfxj2jH1S7hmAqjqZGoixpUsVEU8dKhKR5WR5EqVXqRSqAMlKLJQRAipvQFApQ41UqFAYBCjCrquwoy4aiSBoqBXHSQmeREv/+1LEEwIItFMaxiBgQQWnGMhQD4g8WXqPRLaHflckR/iWyt1k7zsKv513ki2zeSnSPATxEAA1AMNEDkOioip/+qKqf//+qKqf/n+ysFBAg6GWygpUMvWSoZMstQ/1a2X2ChgYMEHBMaKizTQVFG4sK4qKC38XTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==",_0x4810af="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAKaQEcFBQAAVYkMHcMcAL/AMbgABGKJzwiaJ8EChkigpU3oQKB+L2goKCiVy7wHANA8LAUBZRbkBwYWAICwxxd/kUMTcsXeBc+ETd4Fxe4RERHe9EMTSv0RJFDBoP+Xh//B8aer+/TNRis1GtBoMCD8LkEbxA8gv2WBYHJjgHEROezGHiQI6XsfG4rEcubaehlBEEhRIK0OQ62snHDEXp+hkmYjHDRlod/+yvW2v///seYXAYb//hlkYAiAABSBdBhSMDWnRRCAX6U//tSxAkADNExU72CgAlZDGpxh5hgqTWpna7PQZHo1HLwkYPAMLjVQJAKcw4cBAIUCh4pQ6KOxEFURhEoiNdzuZDJupVKWgl0cyE+T21VTui59/PKNPM58c7O+ifshEJ3kYtxdJ0zqw5RlYAFgEAAD4UIXIM0Bqc5UshPiBptXsqbYUiGD5JiKs0iipzcNIugcUqGJeklzVuULhh44XPsDB9BBrNAlQ1ArkmLbF3VQaKBOqfXV0JYYLDW2Qgn//+hMSSZSIIABSgqwwhYGJKiL6z/+1LECIAMmZtPtYKAAWofqcMwsABB7nejMrjr/TMolk/UACGB0YHjkKUXFVjWOjRchimRFOQcWRnmq6sQXHLajHdyMd2e1G2akl7NOr27exckium26XTS3f5b2bf8rq//2/tbZFXf/jkcrQ0uEqKN5K6Oltx5l+Vu1yRyM3YT4aS7qt6adEjyx1UeeQpMD2G8srpZ8VZMDwsWDe1sRM3X9Ga4IA+Ewr////9dcbDgIhiCf//z///mq5pDSedPstKf71oVgwQA8wAAAA0AA1XkW//7UsQGgAwo51c5hYABbouom7CQAPbZZSRqKuS6NJnKYvZilDIQyM9meYikeafiVSVJML1+ZUJJgmokbJHopp3hrJqfUWND0tNYl26fqoUXXVJLj1uh0dR/H0xa2Vy1x4xJQF8uYexKo5iAII8kYKlhllt1lVO6zhWmeNu+r9MtkEFz4+TgcRG29Y1RV9sRjP5iqr6YljwZAYNPBuRfPkBO0Ai6CbACbEIndE4o2kci2wwtpGz16yWsHkuGUn1oDn+r8sfaS2dRRQESScYngnxe//tSxAYAC4BrS6ewZwGJnml+nlAAynKM8BJBvkNAMA7O1BcQka/mzO4aVRyN6nbasymxAaiY7mFIqA6ISAoYOoaFG1ihASrPmTdaCyxKLhAKFQYcGD4rGpZoVANI+5ymv2V//5EUlkREIzIjZFxP0IknBKjROFDh9JRtjKqElVRAVzOEBRhomPFjM7nYiIcTISpzmscogMIS7nad0IhhxplpY1mu6/ftsRp/7v/7ucNGig0FiSgQm0PIDBcWFllHsGIWAnf//TX+v/v8BdUEDsD/+1LEBIALSStdOMQACYCgr/cecAIhrXVoe01en5EJ2xq7udDwJ2BY8CJaF5QNBcO2rUVWjBt0PTub/BeLMe/y9x/92kni7UlfMN/+kXyWPh4iYv7/jf25tpPjn///r6+PrM9WcQIsllttktrkksgbDAtEAFAm1upxSnQcEFxKujmoGnS06EwiiASzheJAPhSg2GxY0sawwLjyhMdOTFxovHjdfeceXEULGEjXMT/Y1DBqcnT/0dEohdv//xacaNQyom4DK/0qAZg4QlmkDtBxaP/7UsQFAAtobUA9hIABVY8n4PeYMPDaE1Jp80JSgysUWdWHMG7FDI6TBAqSpVGDFtWnKknomqR3G689cnRMJGw2EcJzQ+wu2WyzltfGWoWYGGA2MF6RWeKXF4qKmoleBSZxQX//+sH2QIWBQl7KM4mIM413iKCUMJuluR90YvMtEAqF3Y0iFEt8omvNzKHmWbJd5OpErJKs3kQmdEUieSWxwhaPPDAZdKuQva5SmABr8YqVtHNCTehyWzNdMbrlaKsoIDMDAeBIwDUlDyLB/Xk0//tSxAqACdxTRYYYbmFFk+hw8w2kKTlfBUSRSQGCkYhNmZtVeRUYUZIa46CTGirqVRtEsFLyUuwKDys6l+dMi2KFTHTI4iigGDxQZ3rbGBfO6Nvr4YSIxVSVhdU4cJ7I9mOpPnCsHUSsAsRkCJOiqkfVEZOKkowaxjXSxj6UXPql+zayWt0TR8qtTydORTnsjvYsSVxdOdUkil4YKiZdepUH1RwlNbLAcgaKJyIpVBIrgyuDAnTDMg0dQqQZ1CM4kUFCipMEbhJX76UTY/qVqL//+1LEGAAKODc/hiRm6UWHJnD2GNnye55tTaLvsNoBySlSzneLWtvj//99+7PzuWv85o19rW5sCJRIgA13AGElAQ4UafqiTkDJMF5ijJsR8STgiDHhjrVR6ySWUkxMci+ov4Irej8vswk4l2aUSyzJRx0LH/77bfPO17qZdk/qja8KZ/8j/t/qKgHC2iAF1QBCQiQXppI5ZA8SxaWQqEEkJyLGTToweRJSYtS6BEpUSVlRVL1Rcexc6GF8Fv2dtFprh3ZfxJ1pt/5xOW/ZP8n53//7UsQkAAmkOS+HsMUJSo8kpYYYaPj+n+/+BLUADygDCS0QtNZhNKiGYDI/EgtkU3WC49PiRpQGUepcKXmzUs7w+bm5rS27KtzLRotgdOnTow0LgsLFhLY4ysaLzCEJuQmJ+5C//op98r//1DoBVpCrgRGuQk0GWtqBMYoSVKSIUgmmGTIEyrKUmVlMjInQdKV5YTKatrkZZeVLI03lwZwfOpCLq7v+f/T+ma9X///SAYqJEFAdGjS+jF2UOgmo5SZjpRZ5SKSBZ0m6VldLDI4F//tSxDIACFybIywYY8EIjeOdgwx48eakM4JaHCPQMgB8aTGEQI9lHb/s1p+jNPu6Otlbf//pI0mYuQAqDqaImZjUgx6ZA/QgtHRRdmYlAMBYBkAugWAcEykKiJm5u9Z12eb7aForiFE4nufci5GrVZzFniXsF0Jd5OSAAWC2hqQkKUzjyGAxF2IDrIEkC5Ol0o6GbiDyZxrwXEgESYJQ0heNdO3a6d+tiMry38NdbpIRVjXcNLDXyv2V1MYNMIqE9ASA0mkkSSyVACEhJ1kVAyD/+1LETYMIiDcSJ6TCgREJIQj0mEhI0adaOEoJFjTnRxmJWo7UREkSrDTxKCqzKw0JXNvLB0SmTpt4aH1yP//////3BPJFRo86GiTQdWAhkACSoABCSLoq3QASLVYzMyr+zMGXUm4zVVVVL/Veqqsx7Nk0bKf/+vQp0RPDoKqBo3Dankf/////+Gg77Cp0FQ0C2JQVDtUIAAAJM7cbQOmILSmuPHFFGIGkgBSbzVo7EJFDJAKBUyMEi0SVovJ1o08qROhUBESR5ykEQkPQnCacJf/7UsRnAQlwVvYGGMcBGpQcqJMMGFsin9jf/////9VZF1bIqkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq//tSxHuDyTRCmwzowwAAADSAAAAEqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqo=",_0x380622="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAI9HMsdBMAAaQdrrcY8AIAAAC2MbgAADkAAAQXe/3d3GezyZNNgcLJk77RBO9ggQIIOQIIHN4gBB0hz5QEHYIAgGHiAEAwJAQ4IAg7/y7/5c////BBwIfXVZKN2RMtmNtFIwQAAwHonl5QsUAbBuCTYkGb77ixE2Mi6hwFuZPq+1UO3Hv4b+PCevhTsTvIj+94mlapXG+nld3+rZ+Nfda4jZ/+/77+8Uhf2/z/ffpfN70p9/wcVxbGv5gsKvn//Jr/pOTIuSgJuW4A//tSxAUAC8zTX7mFgAF1JG43EoAAICAABkNDTMzZs/JIctA1l3m6OInGr1S6WM3ZuH4J9zQ7RFHcbDdBoitA7Sweoh31vA8uV2apIxN8u8bUumnWxfMMi74mLbBsbf///+Si5sJSx3/ALgkUikDgiDYUCYDAZAEskwoskyciHnfTYkKDquBoAexF7QLoLjFG1N1QiuDc0lGq0pwBwcBWHZhTr/f+wgForPcT//f5BrQffrE03//7HyW/cTG23////8LfoY5vReqwwAACAm9wSjf/+1LEBQALuGNZvYSACXsSavT0jSiS6/cHvDkw5wpmQO9LqZ3oGl0aFKFkKmE1DUotS2mltV33GMPu1JFL0IMv/4pQUFNkcu2Cjf+9/+EdCCgp/9d+Xwkv/l/guIqEFPhBS7/KHZfz4ur/+4S3CE5N6F3su6FocQs7VCWxFIAkNmTIkklmrlRynQkrqjg5srhKekr5Z36cMpTN3jwnA4IoGoWGn4GEBMEBp9YsVCIWDBMzDGw+GGsdQNGUgQkXAhcECG8If//5NVrLECCAACpAFf/7UsQEgAuQcU2npMqJbyVqPPCKuCTYY6ycRinSjDTO45UaVDKzIc2LYHkMSvRqJ/dntDI21PfY3UoLSIE6nUpfA1VaVCpxKnXn5dsJNO0lmaWx/nylCiJLrnzmeU4jAkWNq8fu//+llVmERzIyILad0RZ6RiaoeYZ0JM/EMlYVBZTpNUXjRnjW+1TE9sxtk0IPCRk0QgCkIyjUQwzO/UoToUifu0dhJoQBHGEvYVTOqISZwkancB+LGdBLxZT4C3mf//tVAcKgIACg4KQTIhm2//tSxAYAC0ifQYYYcQGBm+finoAAIAjB0jFJUVg0O4YyK2rPXiwDqKJ6xtWU8+DNZP7f03R6Vy8dozG8+NeVV2YypC2oeRJ3mhRgWFQoFSKXq7RqB52fF9wHCF2lqZxTv//kg6xQEIwQ3ohrMx/rylR8c/Vt65aaWhjEOJDwAOMQqSYei2HC8HUrkIilHCUohlHqMouL7q1iIaITSd494lbq445VFnRWUaUWwraj0UqkGg4A7IxxyceOqUXPgRGR///8knFYbVSLCwKRWIAgAgD/+1LEBoAMMOVhuJWAAWGNKj+ekAAHark7uTZI8Y3BQSElzY2AmFR2GWiAwWHj7I3s2D2CfKVjy9dy7BFGsdhccgvWa3r+HvvPHKdMbuuet5oyWvNIpzuYv/69ImJon2PvX/LgUBgkA1GUWFMBQAAABATBqDTLkTRChbCWFzJkmVM0JGJVdy3kisLGSZEhTatbrb5SyaHoVipRGjMtEtJsAUJEn9T6aJ7FhZQsHgKKGgZCqfoKxEIgaf0LnmEYkGXqLw84HAAD9WEsK4yk0FYlB//7UsQHgApknUWHsGPBUAwodMMNyUIwisFgKrkxcS1xUq4W3WHz46MOAO6jGaZSyKwJYbMq/kzkk0y2u5JcHQhH3MHOACibNJZKFJuV6rLdCQ6pkmoQuFLFEytOEJANtOAAqh4Iz4QQOl9IEp8ThOgPyueFTWGiXXSDCYLyRQ97xbmxDU22/t6U4o3gbt5k/2Zdq0fXva11z/1Q/edmmv18H7c56zKo7jdFNjezKmdW40QE421AxCxrgmwhkIVOlhQeC0fS2H5LlEh/RpYc94uG//tSxBGAClSnP6ewY8FEGOf0ww3c9Ip3QLTlUsRXezErwrFhv4ZzszPSHNlByqwrF6xi3oQWF/Wq7R1QYB1ISF54di9Se8riaRcKJIA2OwHyQfjSE49xjEwTmxujEtDZcDLPCj0jZWnszBhjachEXoTXIH214/UR7JJlS/jG/r2ufT3MvYMuSHvhO/Ef3oXanbqPBS5FitrcbffSoAYRTEiRFwPB8H0ZnzRo+jEYfEJxLWMCVTKRfyUUYpr/NNLAWMR3mNd9c+wkrmv8L0ls9/v/+1LEHYAKSEdLhiTI+TwUJnDEjV2+jFzj+Kct7tNfOpNzJP99Xc7f8fy//sN26xEN+iAlK4RBcXrnh2GAii15UDwqXD6yKSzWtNMqqoCFVVgJpIxsJEjJtGYTCIlLLc9VJO51jgo6+72r2C1/CKf7rfjqs02NG+bWs97VAVpFJ6AH4dh2DO7piesMrR1HUmk09goFBQUFIjZxpRIkSJpv920iItHGlV6WZ5mZ7bSSs6LTwIDSQQExsktyoKnXD1LWLKNo39Fmvq1tX///WABKgf/7UsQqgAo0nSUmGG0BKZAjpMMOQGoAA0piQWsTLrNnx8uQx1EF2ToqrWDoyXNshKWyaAqcYuMxkqyqt/aKRysoNiLUKGnSwdUbWE+Ik32nUfrd5DV/YqnZ/R/rGEaw3S8pNFRSgJYEQamS4DBWHErBQliSVEtNRYGhMFQ0DWCsOhtZ0lBoS1hu7WdYhfQJS2dz0q4sJXWiLiI9WCuDUO2W/3/p4lJERG2VkQqRBZhERNUifzCu1VXZvCiQEBQFLVPBXSddDS4KlQV0aMFXZLnq//tSxDqDSTBDDgekwwEWiZ4EkI2QgaBp6hEeO2509BVYKyrqtbt3Ep3f7DpENw6qTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr/+1LEUIPAAAGkAAAAIAAANIAAAASqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==",_0x264d8d=_0x8fb5;(function(h,o){const e=_0x8fb5,i=h();for(;[];)try{if(-parseInt(e(316))/1*(parseInt(e(254))/2)+-parseInt(e(242))/3+parseInt(e(311))/4*(-parseInt(e(351))/5)+-parseInt(e(334))/6+-parseInt(e(330))/7+parseInt(e(268))/8*(-parseInt(e(333))/9)+parseInt(e(312))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x4156,378260);function _0x8fb5(h,o){const e=_0x4156();return _0x8fb5=function(i,c){return i=i-224,e[i]},_0x8fb5(h,o)}function _0x4156(){const h=["#keyboardContainer","#kbCtrlClear","#kbCtrlCross","keyupHandlerBound","settings","cors_hidden_input","start","&#x25B3;","gui_type5","Failed to initialize AudioContext:","showTouchKeyboard","gui_type6","block","keydownHandlerBound","clicks_on","innerHTML","error","createBufferSource","initAudioContext","addEventListener","gui_type7","QWERTY","Error loading audio file ","hideTouchKeyboard","audioContext","audioBuffers","map","code","keyup","gui_type2","input","toggleTouchKeyboard","playSound","keyboardStrip","visible","connect","EMULATION","AudioContext is not initialized.","toggle-keyboard","keyupHandler","52JYpShk","25415660xeWfoF","Error resuming AudioContext:","cors_query","State","1VrgGIi","querySelectorAll","playSoundHelper","data-code","buffer","keysDown","#keyToggle","Show Keyboard",".layerA","all","STRIP","data-value","active","remove","3785502FoLSNY",".key","#keyboard","11313lTKKIe","328266WGyisi","Layer","dispatchEvent","audioFiles","target","state",".layerC","keyCode","CURRENT_SCREEN",".xx","gui_type3","#toggle-keyboard","keyboardVisible","gui_type1",".nostrip","is_loading","catch","133045WNJRRs","decodeAudioData","0px","Shift","charCodeAt","webkitAudioContext","keydown","MORE","then","click",".layerB","clicks_off","visibility","isQuest","textContent","bind","updateMode","ShiftRight","touchend","style","resume","display","removeEventListener","div#keyboardContainer","data-shift","contains","add","initButtons","touchstart","keyboardQwerty","1196136MAwwHd","focus","Escape","audioMap","#keyShift","touchcancel","getElementById","getAttribute","loadAllAudioFiles","shiftKey","Mode","type","698582mLmfeL","gui_type8","forEach","showJoystick",".kbCtrl","paddingTop","#kbCtrlArrow","classList","hidden","key","none","querySelector","keydownHandler","gui_type4","3016pUAlQq","6px","getValue"];return _0x4156=function(){return h},_0x4156()}var _a,ri,Ji,l0,$o,sd,cd,es,ts,rs,ud,ld,fd,Vc,$l,Uc,ef,zc,tf,jc,rf,Hc,nf,wi,Gi;const Tn=class Tn{constructor(o){Nt(this,Vc);Nt(this,Uc);Nt(this,zc);Nt(this,jc);Nt(this,Hc);Nt(this,wi);Nt(this,_a,void 0);Nt(this,ri,void 0);Nt(this,Ji,void 0);Nt(this,l0,![]);Nt(this,$o,void 0);cn(this,sd);cn(this,cd,{});Nt(this,es,void 0);Nt(this,ts,void 0);Nt(this,rs,void 0);const e=_0x264d8d;nr(this,Ji,o),this[e(321)]={},this[e(337)]={gui_type1:_0x4006bb,gui_type2:_0x347a84,gui_type3:_0x31bc05,gui_type4:_0xe071c1,gui_type5:_0x489035,gui_type6:_0x273530,gui_type7:_0x4810af,gui_type8:_0x380622},this[e(245)]={Digit1:"gui_type4",Digit2:e(279),Digit3:"gui_type6",Digit4:e(291),Digit5:e(255),Digit6:e(347),Digit7:e(267),Digit8:"gui_type5",Digit9:e(282),Digit0:e(291),KeyA:e(347),KeyB:e(282),KeyC:e(267),KeyD:e(279),KeyE:"gui_type5",KeyF:e(282),KeyG:e(291),KeyH:e(255),KeyI:e(267),KeyJ:e(347),KeyK:e(267),KeyL:"gui_type5",KeyM:e(255),KeyN:"gui_type7",KeyO:e(279),KeyP:e(282),KeyQ:e(347),KeyR:e(282),KeyS:e(267),KeyT:"gui_type7",KeyU:e(347),KeyW:e(267),KeyV:e(279),KeyX:e(347),KeyY:e(255),KeyZ:e(255),Space:e(347),Enter:"gui_type3",Escape:e(300),Backquote:e(347),Minus:"gui_type1",Equal:e(267),Backspace:e(300),Tab:e(300),CapsLock:"gui_type3",BracketLeft:"gui_type7",BracketRight:e(255),Backslash:e(347),Semicolon:"gui_type6",Quote:e(291),Comma:"gui_type1",Period:e(267),Slash:e(279),ArrowUp:e(347),ArrowLeft:"gui_type4",ArrowRight:e(282),ArrowDown:e(279),Shift:e(344)},this[e(289)](),nr(this,_a,Tn[e(252)][e(292)]),this[e(284)]=this[e(266)][e(227)](this),this[e(274)]=this[e(310)][e(227)](this),nr(this,es,sr(this,Uc,ef)[e(227)](this)),nr(this,ts,sr(this,jc,rf)[e(227)](this)),nr(this,rs,sr(this,zc,tf)[e(227)](this)),sr(this,Vc,$l).call(this),sr(this,Hc,nf).call(this),document[e(317)](".kbCtrl")[e(256)](c=>{const f=e;c[f(231)][f(259)]=f(353)})}[(sd=_0x264d8d(295),cd=_0x264d8d(296),ud=_0x264d8d(315),ld=_0x264d8d(252),fd=_0x264d8d(335),_0x264d8d(239))](){const o=_0x264d8d;createGuiButton(o(309),o(323),"Kb",()=>{this[o(289)](),setTimeout(()=>{this.showTouchKeyboard()},50)},!![],o(343),o(275))}[_0x264d8d(285)](){const o=_0x264d8d;document[o(290)](o(357),this.keydownHandlerBound),document[o(290)](o(299),this[o(274)])}[_0x264d8d(362)](){const o=_0x264d8d;document[o(234)]("keydown",this[o(284)]),document[o(234)](o(299),this[o(274)])}[_0x264d8d(289)](){const o=_0x264d8d;if(!Ke(this,l0))try{this.audioContext=new(window.AudioContext||window[o(356)]),this[o(250)](),nr(this,l0,!![])}catch(e){console[o(287)](o(280),e)}}async[_0x264d8d(250)](){const o=_0x264d8d,e=Object.entries(this[o(337)])[o(297)](([i,c])=>fetch(c).then(f=>f.arrayBuffer())[o(359)](f=>this[o(295)][o(352)](f)).then(f=>{const m=o;this[m(296)][i]=f}).catch(f=>console.error(o(293)+i+":",f)));await Promise[o(325)](e)}playSound(o){const e=_0x264d8d;if(!Ke(this,$o)){if(!this.audioContext){console.error(e(308));return}this[e(295)][e(339)]==="suspended"?this[e(295)][e(232)]()[e(359)](()=>{this[e(318)](o)})[e(350)](i=>{console.error(e(313),i)}):this[e(318)](o)}}[_0x264d8d(318)](o){const e=_0x264d8d,i=this[e(245)][o],c=this.audioBuffers[i];if(c){const f=this.audioContext[e(288)]();f[e(320)]=c,f[e(306)](this[e(295)].destination),f[e(277)](0)}}keydownHandler(o){const e=_0x264d8d;EnvironmentManager.isDesktop()&&(s(e(235))[e(231)][e(233)]=e(264)),!this[e(321)][o[e(298)]]&&(this[e(321)][o[e(298)]]=!![],this.playSound(o[e(298)]))}[_0x264d8d(310)](o){const e=_0x264d8d;this[e(321)][o[e(298)]]=![]}[_0x264d8d(228)](o){const e=_0x264d8d;switch(o){case VME[e(342)].MENU:nr(this,$o,![]),document[e(265)](e(332)).addEventListener("click",Ke(this,es));break;case VME.CURRENT_SCREEN[e(307)]:nr(this,$o,!![]),document[e(265)](e(332))[e(234)](e(360),Ke(this,es)),document[e(265)]("#keyboard")[e(290)](e(240),Ke(this,ts)),document[e(265)](e(332))[e(290)]("touchend",Ke(this,ts)),document[e(265)](e(272)).addEventListener(e(240),Ke(this,rs)),document[e(265)](e(272))[e(290)](e(230),Ke(this,rs));break}}[_0x264d8d(302)](){const o=_0x264d8d;s(o(271))[o(261)][o(237)](o(305))?this[o(294)]():StorageManager[o(270)]("SYSKB")=="1"||EnvironmentManager[o(225)]()?document.getElementById(o(276))[o(243)]():this[o(281)]()}showTouchKeyboard(){const o=_0x264d8d,e=document[o(265)](o(345));e[o(231)][o(224)]=o(262),document[o(317)](o(258))[o(256)](c=>{const f=o;c[f(231)][f(259)]=f(269)}),s(o(271)).classList[o(238)](o(305))}[_0x264d8d(294)](){const o=_0x264d8d;UiManager[o(346)]=![],UiManager.mousepadVisible?UiManager.showMousepad():UiManager[o(257)](),document[o(317)](o(258)).forEach(c=>{const f=o;c[f(231)][f(259)]=f(353)}),s(o(271))[o(261)][o(329)]("visible");const i=document[o(265)](o(345));i[o(231)].visibility=o(305)}};_a=new WeakMap,ri=new WeakMap,Ji=new WeakMap,l0=new WeakMap,$o=new WeakMap,es=new WeakMap,ts=new WeakMap,rs=new WeakMap,Vc=new WeakSet,$l=function(){const o=_0x264d8d;nr(this,ri,Tn[o(335)].A),document.querySelector(o(260)).addEventListener(o(360),e=>{const i=o;Ke(this,_a)==Tn[i(252)][i(292)]?(nr(this,_a,Tn.Mode.STRIP),s(i(332))[i(261)][i(329)](i(241)),s(i(332)).classList[i(238)]("keyboardStrip"),s(i(260))[i(286)]=i(278),document[i(317)](i(324))[i(256)](function(c){const f=i;c[f(231)][f(224)]="visible"}),document[i(317)](i(361))[i(256)](function(c){const f=i;c[f(231)][f(224)]="visible"}),document[i(317)](i(340))[i(256)](function(c){const f=i;c[f(231)][f(224)]=f(305)}),document[i(317)](i(348))[i(256)](function(c){const f=i;c[f(231)][f(233)]=f(264)})):Ke(this,_a)==Tn.Mode[i(326)]&&(nr(this,_a,Tn.Mode.QWERTY),s(i(332))[i(261)].remove(i(304)),s(i(332)).classList[i(238)](i(241)),s(i(260))[i(286)]="&#x25BD;",nr(this,ri,Tn[i(335)].A),document.querySelectorAll(".layerB")[i(256)](function(c){const f=i;c[f(231)].visibility=f(262)}),document[i(317)](".layerC")[i(256)](function(c){const f=i;c[f(231)][f(224)]=f(262)}),document.querySelectorAll(i(324))[i(256)](function(c){const f=i;c[f(231)][f(224)]=f(305)}),document[i(317)](i(348)).forEach(function(c){const f=i;c[f(231)][f(233)]=f(283)}))}),document[o(265)](o(272))[o(290)](o(360),e=>{const i=o;!Ke(this,Ji)[i(349)]()&&Ke(this,Ji).reset()}),document[o(265)](o(273))[o(290)](o(360),e=>{this.hideTouchKeyboard()}),document[o(265)](o(246))[o(290)](o(360),e=>{const i=o;Ke(this,ri)==Tn[i(335)].A||(Ke(this,ri)==Tn[i(335)].B?(nr(this,ri,Tn[i(335)].C),document.querySelectorAll(i(361)).forEach(function(c){const f=i;c.style[f(224)]=f(262)}),document[i(317)](i(340))[i(256)](function(c){const f=i;c.style[f(224)]="visible"})):Ke(this,ri)==Tn[i(335)].C&&(nr(this,ri,Tn.Layer.B),document[i(317)](i(340))[i(256)](function(c){const f=i;c[f(231)][f(224)]="hidden"}),document.querySelectorAll(i(361))[i(256)](function(c){const f=i;c.style.visibility=f(305)})))}),document[o(265)](o(322))[o(290)]("click",e=>{const i=o;Ke(this,ri)==Tn[i(335)].A?(document[i(265)](i(246))[i(286)]=i(358),nr(this,ri,Tn[i(335)].B),document[i(317)](i(324))[i(256)](function(c){const f=i;c[f(231)][f(224)]="hidden"}),document.querySelectorAll(".layerC")[i(256)](function(c){const f=i;c[f(231)][f(224)]=f(262)}),document.querySelectorAll(i(361))[i(256)](function(c){const f=i;c[f(231)][f(224)]=f(305)})):Ke(this,ri)==Tn[i(335)].B&&(nr(this,ri,Tn[i(335)].A),document[i(265)](i(246))[i(286)]="CAPS",document.querySelectorAll(i(361))[i(256)](function(c){const f=i;c[f(231)].visibility=f(262)}),document[i(317)](i(340))[i(256)](function(c){const f=i;c[f(231)][f(224)]=f(262)}),document[i(317)](i(324)).forEach(function(c){const f=i;c[f(231)][f(224)]=f(305)}))}),document[o(317)](o(331))[o(256)](function(e){const i=o;e.addEventListener("touchstart",function(){const c=_0x8fb5;e[c(261)][c(238)]("active")}),e.addEventListener(i(230),function(){e.classList.remove("active")}),e[i(290)](i(247),function(){const c=i;e[c(261)][c(329)](c(328))})})},Uc=new WeakSet,ef=function(o){const e=_0x264d8d,i=o[e(338)];if(i[e(261)][e(237)](e(263))){const c=i[e(249)](e(327)),f=i[e(249)](e(319));this[e(303)](f),!Ke(this,Ji)[e(349)]()&&Ke(this,Ji).process_input(c)}},zc=new WeakSet,tf=function(o){const e=_0x264d8d,i=o.type;i=="touchstart"?sr(this,wi,Gi).call(this,e(244),e(244),"keydown"):i==e(230)&&sr(this,wi,Gi).call(this,e(244),e(244),e(299))},jc=new WeakSet,rf=function(o){const e=_0x264d8d,i=o[e(253)],c=o.target,f=c[e(249)]("data-value"),m=c[e(249)](e(319));c[e(249)](e(236))?i=="touchstart"?(sr(this,wi,Gi).call(this,e(354),e(229),e(357),{keyCode:16,which:16,shiftKey:!![],location:2}),sr(this,wi,Gi).call(this,f,m,e(357),{shiftKey:!![],location:2})):i=="touchend"&&(sr(this,wi,Gi).call(this,e(354),e(229),e(299),{keyCode:16,which:16,shiftKey:!![],location:2}),sr(this,wi,Gi).call(this,f,m,e(299),{shiftKey:!![],location:2})):i=="touchstart"?sr(this,wi,Gi).call(this,f,m,e(357)):i==e(230)&&sr(this,wi,Gi).call(this,f,m,e(299))},Hc=new WeakSet,nf=function(){const o=_0x264d8d;let e=this;document[o(248)](o(276))[o(290)](o(301),function(i){const c=o;var f=document[c(248)](c(314));f[c(226)]=this.value,Ke(e,Ji).parse_hidden_input()})},wi=new WeakSet,Gi=function(o,e,i,c={}){const f=_0x264d8d,m=new KeyboardEvent(i,{key:o,code:e,keyCode:c[f(341)]||o[f(355)](0),which:c.which||o[f(355)](0),shiftKey:c[f(251)]||![],location:c.location||0,bubbles:!![],cancelable:!![]});document[f(336)](m)},cn(Tn,ud,{OFF:0,ON:1}),cn(Tn,ld,{STRIP:0,QWERTY:1}),cn(Tn,fd,{A:0,B:1,C:2});let KeyboardManager=Tn;var _0x5d9c86=_0x3095;(function(h,o){for(var e=_0x3095,i=h();[];)try{var c=-parseInt(e(266))/1*(-parseInt(e(258))/2)+-parseInt(e(262))/3+-parseInt(e(267))/4+-parseInt(e(259))/5*(parseInt(e(254))/6)+-parseInt(e(264))/7*(-parseInt(e(257))/8)+parseInt(e(263))/9+parseInt(e(256))/10;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x14d8,473208);function _0x3095(h,o){var e=_0x14d8();return _0x3095=function(i,c){i=i-254;var f=e[i];return f},_0x3095(h,o)}class HelpCommand extends CommandBase{[_0x5d9c86(261)](){var o=_0x5d9c86;return[o(265)]}[_0x5d9c86(255)](){var o=_0x5d9c86;return[o(265),o(270)]}[_0x5d9c86(260)](o){var e=_0x5d9c86;this[e(268)][e(269)]()}}function _0x14d8(){var h=["3558ReiksV","get_help","6041500ChRnOD","9784TpqroL","2njecHp","7305lEoWbb","process_input","get_keywords","1828443svoVYm","7088715hTpBtl","3101zAWcee","help","718436pAFRAQ","2811792aNUzvC","cli","print_help","show available commands"];return _0x14d8=function(){return h},_0x14d8()}function _0x8b66(h,o){const e=_0x5014();return _0x8b66=function(i,c){return i=i-121,e[i]},_0x8b66(h,o)}const _0x3e78b1=_0x8b66;(function(h,o){const e=_0x8b66,i=h();for(;[];)try{if(parseInt(e(133))/1*(parseInt(e(128))/2)+parseInt(e(152))/3*(-parseInt(e(123))/4)+-parseInt(e(148))/5*(parseInt(e(124))/6)+parseInt(e(149))/7+-parseInt(e(151))/8+-parseInt(e(125))/9+-parseInt(e(126))/10*(-parseInt(e(153))/11)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x5014,334738);function _0x5014(){const h=["15006ETkGne","cli","switch to system [FILTER]","platform_id","length","87huduEW","platform_name","includes","get_keywords","setSelectedPlatform","reset","set_loading","map","get_help","filter","values","updatePlatform","show_results","localeCompare","toLowerCase","15hSNdIg","641655KJdIVB","sys","3248080wrZZer","708iRjMUX","29590xFwcLl","sys [FILTER]","sort","find","process_selection","entries","is_selection_enabled"," - ","4596wadqOm","1138098ROqyFb","73125jAcXVy","3140mestuQ","process_input"];return _0x5014=function(){return h},_0x5014()}var ns;class SystemCommand extends CommandBase{constructor(e){super();Nt(this,ns,void 0);nr(this,ns,e)}[_0x3e78b1(136)](){return[_0x3e78b1(150)]}[_0x3e78b1(141)](){const e=_0x3e78b1;return[e(154),e(130)]}[_0x3e78b1(127)](e){const i=_0x3e78b1;let c=[];var f=e[i(142)](Boolean);f[i(132)]==0?c=Object[i(158)](SelectedPlatforms):c=Object[i(158)](SelectedPlatforms)[i(142)](g=>{const Te=i;return g[0][Te(147)]()[Te(135)](f[0].toLowerCase())||g[1].platform_name[Te(147)]().includes(f[0][Te(147)]())}),c[i(155)]((g,Te)=>g[1][i(134)][i(146)](Te[1].platform_name));let m=c[i(140)](g=>{const Te=i;return{id:g[1][Te(131)],label:g[1].short_name+Te(122)+g[1][Te(134)],data:g[1].platform_id}});this[i(145)](m)}[_0x3e78b1(121)](){return!![]}[_0x3e78b1(157)](e){const i=_0x3e78b1;this[i(129)][i(139)](!![]);let c=Object[i(143)](SelectedPlatforms)[i(156)](f=>f[i(131)]===e.id);Ke(this,ns)[i(137)](c),this[i(129)][i(138)](),Ke(this,ns)[i(144)]()}}ns=new WeakMap;const _0x4fe3c4=_0xc9a2;function _0xf9fd(){const h=["list","get_keywords","list [FILTER]","list files starting with text","cli","get_software_dir","exit_selection","tags","LOADING...","is_selection_enabled","36885360VrpDla","toLowerCase","loadRomFileFromUrl","30uuMJYx","sort","message","get_help","localeCompare","To use LIST command please import SOFTWARE DIRECTORY first.","bases","process_selection","&nbsp;","680UgCBHy","items","root","data","10173ggrSeE","126539BDQDcu","set_loading","402YkArYL","length","488232WGnpcN","210BnBwxk","process_input","5175819bzknrV","27dLSHkS","879429ZnzPdN","37636fvGlnu"];return _0xf9fd=function(){return h},_0xf9fd()}(function(h,o){const e=_0xc9a2,i=h();for(;[];)try{if(-parseInt(e(323))/1+parseInt(e(316))/2*(-parseInt(e(313))/3)+parseInt(e(324))/4*(parseInt(e(309))/5)+parseInt(e(319))/6*(-parseInt(e(314))/7)+parseInt(e(318))/8*(parseInt(e(322))/9)+parseInt(e(338))/10*(-parseInt(e(321))/11)+parseInt(e(335))/12===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0xf9fd,931189);function _0xc9a2(h,o){const e=_0xf9fd();return _0xc9a2=function(i,c){return i=i-301,e[i]},_0xc9a2(h,o)}var Wa;class ListCommand extends CommandBase{constructor(e){super();Nt(this,Wa,void 0);nr(this,Wa,e)}[_0x4fe3c4(326)](){return[_0x4fe3c4(325)]}[_0x4fe3c4(303)](){const e=_0x4fe3c4;return[e(327),e(328)]}[_0x4fe3c4(320)](e){const i=_0x4fe3c4;if(Ke(this,Wa)[i(330)]()==null){this[i(329)].soft_msg(i(305));return}let c=Ke(this,Wa)[i(330)](),f=[];var m=e.filter(Boolean);if(m[i(317)]==0)return;m[i(317)]>0&&(f=c[i(310)].filter(Te=>{const Ie=i;return Te[0][Ie(336)]().startsWith(m[0].toLowerCase())})),f[i(301)]((Te,Ie)=>{const Oe=i,_e=c.tags?c[Oe(332)][Te[1]]:null,De=c[Oe(332)]?c[Oe(332)][Ie[1]]:null;return _e&&De||!_e&&!De?Te[0][Oe(304)](Ie[0]):_e?-1:1});let g=f.map(Te=>{const Ie=i,Oe=Te[1],_e=c[Ie(332)]?c[Ie(332)][Oe]:null;let De=Te[0];return{id:c[Ie(311)]+c[Ie(306)][Oe]+Te[2],label:De,tag:_e,data:c[Ie(311)]+c[Ie(306)][Oe]+Te[2]}});this.show_results(g)}[_0x4fe3c4(334)](){return!![]}[_0x4fe3c4(331)](){return!![]}async[_0x4fe3c4(307)](e){const i=_0x4fe3c4;this[i(329)][i(315)](!![]);try{await Ke(this,Wa)[i(337)](e[i(312)],e.label)}catch{this[i(329)][i(302)](i(333),i(308),"Error loading file.")}}selection_changed(e){}}Wa=new WeakMap;const _0x202ecd=_0x5f0d;function _0x40c0(){const h=["get_help","4415ZBPNja","1606144OqgzbO","583UKoGdm","list filenames containing text","items","tags","9zqukUZ","localeCompare","selection_changed","exit_selection","1745070Hwgvrb","length","process_input","3fXHbVs","find [FILTER]","is_selection_enabled","sort","get_keywords","8312Oxckvt","32264UwOYkZ","join","set_loading","label","filter","soft_msg","2387GUOeTZ","show_results","map","LOADING...","cli","bases","loadRomFileFromUrl","find","17877140sxRCvo","&nbsp;","get_software_dir","1612214lVwTRL","To use FIND command please import SOFTWARE DIRECTORY first.","root","172272IneNUs"];return _0x40c0=function(){return h},_0x40c0()}(function(h,o){const e=_0x5f0d,i=h();for(;[];)try{if(-parseInt(e(349))/1+parseInt(e(343))/2*(parseInt(e(361))/3)+-parseInt(e(325))/4*(-parseInt(e(348))/5)+parseInt(e(358))/6+parseInt(e(332))/7*(-parseInt(e(326))/8)+parseInt(e(354))/9*(parseInt(e(340))/10)+-parseInt(e(350))/11*(parseInt(e(346))/12)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x40c0,977275);function _0x5f0d(h,o){const e=_0x40c0();return _0x5f0d=function(i,c){return i=i-322,e[i]},_0x5f0d(h,o)}var Xi;class FindCommand extends CommandBase{constructor(e){super();Nt(this,Xi,void 0);nr(this,Xi,e)}[_0x202ecd(324)](){return[_0x202ecd(339)]}[_0x202ecd(347)](){const e=_0x202ecd;return[e(362),e(351)]}[_0x202ecd(360)](e){const i=_0x202ecd;if(Ke(this,Xi).get_software_dir()==null){this[i(336)][i(331)](i(344));return}let c=[];var f=e[i(330)](Boolean);if(f[i(359)]>0){var m=f[i(327)](".*");if(m[i(359)]<3)return;var g=new RegExp(m,"i");c=Ke(this,Xi).get_software_dir()[i(352)][i(330)](Ie=>g.test(Ie[0]))}c[i(323)]((Ie,Oe)=>{const _e=i,De=Ke(this,Xi)[_e(342)](),Ae=De.tags?De[_e(353)][Ie[1]]:null,qe=De.tags?De[_e(353)][Oe[1]]:null;return Ae&&qe||!Ae&&!qe?Ie[0][_e(355)](Oe[0]):Ae?-1:1});let Te=c[i(334)](Ie=>{const Oe=i,_e=Ie[1],De=Ke(this,Xi)[Oe(342)](),Ae=De[Oe(353)]?De[Oe(353)][_e]:null;let qe=Ie[0];return{id:De[Oe(345)]+De[Oe(337)][_e]+Ie[2],label:qe,tag:Ae,data:De.root+De[Oe(337)][_e]+Ie[2]}});this[i(333)](Te)}[_0x202ecd(322)](){return!![]}[_0x202ecd(357)](){return!![]}async process_selection(e){const i=_0x202ecd;this[i(336)][i(328)](!![]);try{await Ke(this,Xi)[i(338)](e.data,e[i(329)])}catch{this[i(336)].message(i(335),i(341),"Error loading file.")}}[_0x202ecd(356)](e){}}Xi=new WeakMap;function _0x1459(h,o){const e=_0x8122();return _0x1459=function(i,c){return i=i-478,e[i]},_0x1459(h,o)}const _0x47fb41=_0x1459;(function(h,o){const e=_0x1459,i=h();for(;[];)try{if(parseInt(e(501))/1*(parseInt(e(487))/2)+parseInt(e(507))/3+-parseInt(e(527))/4*(-parseInt(e(482))/5)+-parseInt(e(480))/6*(-parseInt(e(513))/7)+-parseInt(e(509))/8+-parseInt(e(492))/9+parseInt(e(489))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x8122,566717);function _0x8122(){const h=["40iTbDuI","length","validValues","clear","Configuration has been saved.","1187502lKsRJW","Invalid value.","174595dWWdlZ","Default value restored.","configure system parameter","MULTI","print","15836VYEhGU","description","3729550psvmyg"," | ","set [PARAM] [VALUE]","7913763PIYoJE","includes","get_keywords","process_input","enable debug information","single or multi line results","</p>","is_enter_required","<p style='margin-left: 1ch;'>","52IxWCpc","hasOwnProperty","set","Enter new value and press ENTER.","enable CRT/LCD screen effect","setVisible","2660121yYWSAz","join","6179848XVuWwp","use system touchscreen keyboard","is_selection_enabled","function","7gDmycb","&nbsp;)","cli","Invalid parameter.","&nbsp;","entries","DEFAULT","forEach","localeCompare","SINGLE","onChange","&nbsp;=&nbsp;","Enter DEFAULT as a value to reset.","toUpperCase"];return _0x8122=function(){return h},_0x8122()}var Ka,Ga,Rs;class SetCommand extends CommandBase{constructor(){super(...arguments);Nt(this,Ga);Nt(this,Ka,{SHADER:{validValues:["0","1"],description:_0x47fb41(505)},LINES:{validValues:[_0x47fb41(522),_0x47fb41(485)],description:_0x47fb41(497)},SYSKB:{validValues:["0","1"],description:_0x47fb41(510)},DEBUG:{validValues:["0","1"],description:_0x47fb41(496),onChange:e=>{Debug[_0x47fb41(506)](e==1)}}})}[_0x47fb41(494)](){return[_0x47fb41(503)]}get_help(){const e=_0x47fb41;return[e(491),e(484)]}[_0x47fb41(495)](e,i){const c=_0x47fb41;if(!e[c(528)]){this[c(515)][c(486)]("Configure system parameter:"),this[c(515)][c(486)](c(517)),Object[c(518)](Ke(this,Ka)).sort(([Te],[Ie])=>Te[c(521)](Ie))[c(520)](([Te,Ie])=>{sr(this,Ga,Rs).call(this,Te,Ie)});return}const f=e[0].toUpperCase(),m=Ke(this,Ka)[f],g=e[1];if(m!=null&&(sr(this,Ga,Rs).call(this,f,m),this[c(515)].print(c(504)),this.cli[c(486)](c(525))),i&&e[c(528)]==2)if(Ke(this,Ka)[c(502)](f)){const Te=Ke(this,Ka)[f];g[c(526)]()==c(519)?(StorageManager.clearValue(f,g),this[c(515)][c(478)](),sr(this,Ga,Rs).call(this,f,m),this[c(515)][c(486)](c(483)),Te[c(523)]&&typeof Te[c(523)]===c(512)&&Te[c(523)](g)):Te[c(529)][c(493)](g[c(526)]())?(StorageManager.storeValue(f,g),this[c(515)].clear(),sr(this,Ga,Rs).call(this,f,m),this.cli[c(486)](c(479)),Te[c(523)]&&typeof Te[c(523)]===c(512)&&Te[c(523)](g)):(this[c(515)].print("&nbsp;"),this[c(515)][c(486)](c(481)))}else this[c(515)][c(486)](c(517)),this.cli[c(486)](c(516))}[_0x47fb41(511)](){return![]}[_0x47fb41(499)](){return![]}}Ka=new WeakMap,Ga=new WeakSet,Rs=function(e,i){const c=_0x47fb41;let f=StorageManager.getValue(e[c(526)]()),m="";f!=null&&(m=c(524)+f[c(526)]()),this[c(515)][c(486)](c(500)+e.toUpperCase()+m+c(498)),this[c(515)].print("<p style='margin-left: 2ch;'>"+i[c(488)]+c(498)),this.cli[c(486)]("<p style='margin-left: 2ch;'>(&nbsp;"+i[c(529)][c(508)](c(490))+c(514)+c(498)),this[c(515)][c(486)]("&nbsp;")};const _0x4aba93=_0x3fb3;(function(h,o){const e=_0x3fb3,i=h();for(;[];)try{if(-parseInt(e(510))/1*(parseInt(e(490))/2)+-parseInt(e(495))/3*(-parseInt(e(516))/4)+parseInt(e(492))/5*(parseInt(e(517))/6)+-parseInt(e(494))/7+parseInt(e(525))/8*(-parseInt(e(547))/9)+parseInt(e(505))/10*(-parseInt(e(528))/11)+parseInt(e(519))/12===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x5323,353269);function _0x3fb3(h,o){const e=_0x5323();return _0x3fb3=function(i,c){return i=i-474,e[i]},_0x3fb3(h,o)}function _0x5323(){const h=["result","key","accepted","target","clear","classList","dragover","<span class='blinking2'>Drop the file to open it.</span>","name","vme_import","171fLzcjc","dependencies","import/open local file","file","loadVmeImportFile","dragging","readAsText","endsWith","Press ENTER to open local file.","files","importCorsFile","Not a valid software directory file.","drop","loadRomFile","dragleave","Loading ","click","158lzPNPS","cli","843835ObsDCR","platform_id","3752861vbhWka","8163JkIlck","WordArray","forEach","loadCollectionFile","type","parse"," ...","&nbsp;","toString","body","1619250xSIzbb","preventDefault","addEventListener","onload","bind","7823mJYbDQ","getElementById","error","add","open","input","148jbuLMr","24XjFOjJ","style","17407512bmtWxI","importFile","createElement","message","dataTransfer","vme-file-input","98184oNhQfK","change","redraw","33MMCnZa","print","set_loading","none",".software","create","getSelectedPlatform","get_keywords","includes"];return _0x5323=function(){return h},_0x5323()}var Si,Wc,af,Kc,of,Gc,sf,f0,Tu,Yc,cf;class OpenCommand extends CommandBase{constructor(e){super();Nt(this,Wc);Nt(this,Kc);Nt(this,Gc);Nt(this,f0);Nt(this,Yc);Nt(this,Si,void 0);nr(this,Si,e),sr(this,Wc,af).call(this)}[_0x4aba93(535)](){return["open"]}get_help(){const e=_0x4aba93;return[e(514),e(475)]}process_input(e,i){const c=_0x4aba93;if(!i){this[c(491)][c(541)](),this[c(491)][c(529)](c(481)),this[c(491)][c(527)]();return}sr(this,Yc,cf).call(this)}is_selection_enabled(){return![]}is_enter_required(){return!![]}}Si=new WeakMap,Wc=new WeakSet,af=function(){const e=_0x3fb3,i=document.getElementById("settings");let c=![];["dragenter",e(543),e(487),e(485)][e(497)](Ie=>{const Oe=e;i.addEventListener(Ie,f,![]),document[Oe(504)].addEventListener(Ie,f,![])}),["dragenter","dragover"].forEach(Ie=>{i[e(507)](Ie,m.bind(this),![])}),[e(487),e(485)].forEach(Ie=>{const Oe=e;i[Oe(507)](Ie,g[Oe(509)](this),![])}),i[e(507)](e(485),Te[e(509)](this),![]);function f(Ie){Ie[e(506)](),Ie.stopPropagation()}function m(Ie){const Oe=e;i[Oe(542)][Oe(513)](Oe(478)),!c&&(c=!![],this.cli[Oe(541)](),this[Oe(491)].soft_msg(Oe(544)))}function g(Ie){const Oe=e;c=![],this[Oe(491)].clear(),i[Oe(542)].remove(Oe(478))}function Te(Ie){const Oe=e,_e=Ie[Oe(523)],De=_e.files;De.length>0&&sr(this,Kc,of).call(this,De[0])}},Kc=new WeakSet,of=function(e){const i=_0x3fb3;sr(this,f0,Tu).call(this,e,e[i(545)])},Gc=new WeakSet,sf=function(e){const i=_0x4aba93;let c=Ke(this,Si).getSelectedPlatform();for(const f of c[i(474)])if(f[i(539)][i(536)](e))return f},f0=new WeakSet,Tu=function(e,i){const c=_0x4aba93;this[c(491)][c(530)](!![]);const f=this;if(i[c(480)](".json")){const g=new FileReader;g.onload=function(Te){const Ie=c,Oe=Te[Ie(540)][Ie(537)];let _e=""+Ke(f,Si)[Ie(534)]()[Ie(493)]+Ie(532);try{let De=JSON[Ie(500)](Oe);Ke(f,Si)[Ie(483)](_e,De),f.cli.message("&nbsp;","Successfully imported software directory.")}catch{f[Ie(491)][Ie(522)]("&nbsp;","Failed to read file.",Ie(484));return}},g.onerror=function(Te){console[c(512)]("Failed to read file!",Te)},g[c(479)](e)}else if(i.includes(c(546)))Ke(f,Si)[c(477)](e);else if(i.includes("vme_collection"))Ke(f,Si)[c(498)](e);else{var m=new FileReader;m[c(508)]=function(g){var De;const Te=c;var Ie=cryptoJsExports.lib[Te(496)][Te(533)](g[Te(540)][Te(537)]),Oe=cryptoJsExports.MD5(Ie)[Te(503)]();let _e=sr(De=f,Gc,sf).call(De,Oe);if(_e!=null)Ke(f,Si)[Te(520)](_e[Te(538)],e),f[Te(491)][Te(522)](Te(502),"Successfully imported "+_e[Te(499)]);else{const Ae=new Blob([g[Te(540)][Te(537)]],{type:e[Te(499)]});Ke(f,Si)[Te(486)](Ae,i)}},m.readAsArrayBuffer(e)}},Yc=new WeakSet,cf=function(){const e=_0x4aba93,i=this;var c=document[e(521)](e(515));c[e(499)]=e(476),c.id=e(524),c[e(518)].display=e(531),document[e(504)].appendChild(c),document[e(511)](e(524))[e(489)](),document[e(511)](e(524))[e(507)](e(526),function(f){var Ie;const m=e;i[m(491)][m(530)](!![]);var g=f[m(540)][m(482)][0],Te=g[m(545)];i.cli[m(541)](),i[m(491)][m(529)](m(488)+Te+m(501)),sr(Ie=i,f0,Tu).call(Ie,g,Te)})};const _0x34c0b4=_0x1369;function _0x1462(){const h=["] Smartphone","Virtual Machine / Emulator","1976358kBgwzC","312uTGdgF","Prerelease","7541562HdBjEe","process_input","print","isStandalone","isSmartphone","hasGamepad","&nbsp;[","checkDependencies","44mIdydi","Emulated systems","cli","7438050NPxlxA","get_keywords","get_help","isQuest","] Installed",'<a href="https://github.com/gitGalu/VME">Visit Project Website</a>',"about","688840OOtDMj","&nbsp;","] Tablet","4368222NQHjzF","498535uBiSSk",'<div id="flip-image-outer"><div id="flip-image-container"></div></div>',"878454enLUMX","Environment","------------"];return _0x1462=function(){return h},_0x1462()}function _0x1369(h,o){const e=_0x1462();return _0x1369=function(i,c){return i=i-480,e[i]},_0x1369(h,o)}(function(h,o){const e=_0x1369,i=h();for(;[];)try{if(parseInt(e(501))/1+-parseInt(e(480))/2+-parseInt(e(504))/3+-parseInt(e(491))/4*(parseInt(e(505))/5)+-parseInt(e(494))/6+parseInt(e(483))/7+parseInt(e(481))/8*(parseInt(e(507))/9)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x1462,792135);var d0,Qc,uf,Jc,lf;class AboutCommand extends CommandBase{constructor(e){super();Nt(this,Qc);Nt(this,Jc);Nt(this,d0,void 0);nr(this,d0,e)}[_0x34c0b4(495)](){return[_0x34c0b4(500)]}[_0x34c0b4(496)](){return[_0x34c0b4(500),"show VM/E information"]}[_0x34c0b4(484)](e){sr(this,Jc,lf).call(this)}}d0=new WeakMap,Qc=new WeakSet,uf=function(e,i){const c=_0x34c0b4;this[c(493)].print(c(502)),this[c(493)][c(485)](c(508)),this[c(493)].print(c(509));let f=EnvironmentManager[c(487)](),m=EnvironmentManager.isTablet(),g=EnvironmentManager[c(497)](),Te=EnvironmentManager[c(488)](),Ie=EnvironmentManager[c(486)]();this.cli.print(c(489)+(Ie?"x":" ")+c(498)),this.cli[c(485)]("&nbsp;["+(f?"x":" ")+c(510)),this.cli[c(485)](c(489)+(m?"x":" ")+c(503)),this[c(493)][c(485)](c(489)+(g?"x":" ")+"] Meta Quest Browser"),this[c(493)][c(485)](c(489)+(Te?"x":" ")+"] Gamepad / Joystick"),this.cli[c(485)]("&nbsp;"),this.cli[c(485)](c(492)),this[c(493)][c(485)]("---------------"),Ke(this,d0)[c(490)](),this.cli.redraw()},Jc=new WeakSet,lf=function(){const e=_0x34c0b4;this[e(493)][e(485)](e(511)),this[e(493)][e(485)](e(482)),this[e(493)][e(485)](e(506)),this[e(493)][e(485)]("Developed by Michal Galinski"),this[e(493)][e(485)](e(502)),this[e(493)][e(485)]("Built using Nostalgist.js and Libretro."),this[e(493)][e(485)](e(502)),this[e(493)].print(e(499)),this.cli.print("&nbsp;"),this[e(493)].print('<a href="https://github.com/gitGalu/vme/blob/main/CHANGES.md">View Changelog</a>'),this.cli[e(485)](e(502)),sr(this,Qc,uf).call(this)};const _0x5d61f2=_0x1b2f;(function(h,o){const e=_0x1b2f,i=h();for(;[];)try{if(-parseInt(e(508))/1*(-parseInt(e(489))/2)+-parseInt(e(513))/3*(parseInt(e(510))/4)+parseInt(e(509))/5*(parseInt(e(505))/6)+parseInt(e(503))/7*(-parseInt(e(504))/8)+parseInt(e(488))/9*(parseInt(e(492))/10)+parseInt(e(498))/11+parseInt(e(496))/12===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x5f14,875794);function _0x5f14(){const h=["32qLvQqp","platform_id","&nbsp;","5170ggkYlF","get_keywords","Press ENTER to load:","cli","5345940PpDMLQ","getValue","13519792NkvozM","loadRomFileFromUrl","message_clear","caption","print","14119HPepXn","1832treAWx","114Vibgad","process_input","parse","9803zaKRRf","8065qVAyzE","24ZNMPJv","re-launch last program for the selected platform","get_help","645543iuvHjA","Error loading file.","13347eInpvJ"];return _0x5f14=function(){return h},_0x5f14()}function _0x1b2f(h,o){const e=_0x5f14();return _0x1b2f=function(i,c){return i=i-487,e[i]},_0x1b2f(h,o)}var is,Xc,ff;class LastCommand extends CommandBase{constructor(e){super();Nt(this,Xc);Nt(this,is,void 0);nr(this,is,e)}[_0x5d61f2(493)](){return["l"]}[_0x5d61f2(512)](){return["l",_0x5d61f2(511)]}[_0x5d61f2(506)](e,i){const c=_0x5d61f2;let f=StorageManager[c(497)](Ke(this,is).getSelectedPlatform()[c(490)]+".LAST_FILE",void 0);if(f!=null){const m=JSON[c(507)](f);if(this.cli[c(502)](c(494)),this[c(495)][c(502)](c(491)),this.cli[c(502)]("<p style='margin-left: 1ch;'>"+m[c(501)]),!i)return;sr(this,Xc,ff).call(this,m.filename,m[c(501)])}}}is=new WeakMap,Xc=new WeakSet,ff=async function(e,i){const c=_0x5d61f2;this.cli.set_loading(!![]);try{await Ke(this,is)[c(499)](e,i)}catch{this[c(495)][c(500)](c(487))}};function _0x1edf(){const h=["json","get_wiki_article","&limit=20&namespace=0&format=json&origin=*","extract","61240EsMMjV","append","process_selection","currentIndex","&prop=extracts&format=json&origin=*","462087lvsYzZ","#cors_results","innerHTML","15126463fxEddc","264184ndQyBR","length","NFD","wiki","replace","239574FtFdbT","createElement","then","10SrOZZw",`
                #wiki img {
                    display: none;
                }
                #wiki .image, 
                #wiki .caption {
                    display: none;
                }
                #wiki {
                    line-height: 200%;
                }
                #wiki h1, h2, h3, h4, h5, h6 {
                }
            `,"find and read WikiPedia(tm) articles","is_enter_required","Error fetching Wikipedia(tm) results:","get_keywords","Error fetching Wikipedia(tm) article:","error","Connecting to WikiPedia(tm)...","clear","show_results","https://","print","process_input","set_article_mode","redraw","get_wiki_results","pages","wiki [QUERY]","4sLrtaD","style","label","normalize","is_selection_enabled","query","keys","77IMkeKN","Query + enter to search WikiPedia(tm)","wiki-style","exit_selection","forEach","1337508OCYoMw","get_help","567dnTjTy",".wikipedia.org/w/api.php?action=query&titles=","push","cli","1980356VxutWj"];return _0x1edf=function(){return h},_0x1edf()}const _0x284fb4=_0x2898;function _0x2898(h,o){const e=_0x1edf();return _0x2898=function(i,c){return i=i-369,e[i]},_0x2898(h,o)}(function(h,o){const e=_0x2898,i=h();for(;[];)try{if(parseInt(e(425))/1*(-parseInt(e(397))/2)+parseInt(e(409))/3+-parseInt(e(415))/4+parseInt(e(378))/5*(parseInt(e(375))/6)+-parseInt(e(404))/7*(parseInt(e(370))/8)+parseInt(e(411))/9*(parseInt(e(420))/10)+parseInt(e(369))/11===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x1edf,504123);var x0,Zc,df,$c,xf;class WikiCommand extends CommandBase{constructor(){super(...arguments);Nt(this,Zc);Nt(this,$c);Nt(this,x0,"en")}[_0x284fb4(383)](){return[_0x284fb4(373)]}[_0x284fb4(410)](){const e=_0x284fb4;return[e(396),e(380)]}[_0x284fb4(391)](e,i){const c=_0x284fb4;if(i)this[c(414)].clear(),this[c(414)][c(390)](c(386)),this.cli[c(393)](),this[c(394)](e.join(" ")).then(f=>{const m=c;f[m(371)]>0?(this[m(423)]=0,this[m(388)](f,!![])):this[m(388)]([])});else{this[c(414)][c(387)](),this.cli[c(390)](c(405)),this.cli[c(393)]();return}}[_0x284fb4(407)](){return!![]}[_0x284fb4(422)](e){const i=_0x284fb4;this[i(423)]=-1,this[i(414)][i(392)](!![]),this.get_wiki_article(e[i(399)])[i(377)](c=>{const f=i;this[f(414)][f(387)]();var m=s(f(426));m[f(427)]="",sr(this,Zc,df).call(this);var g=document[f(376)]("div");g.id=f(373),g[f(427)]=c,m[f(421)](g)})}[_0x284fb4(401)](){return!![]}[_0x284fb4(381)](){return!![]}async[_0x284fb4(394)](e){const i=_0x284fb4;try{const c=await fetch("https://"+Ke(this,x0)+".wikipedia.org/w/api.php?action=opensearch&search="+e+i(418)),f=await c[i(416)]();let m=[];return f[1][i(408)]((g,Te)=>{const Ie=i;let Oe={label:f[1][Te],url:f[3][Te]};m[Ie(413)](Oe)}),m}catch(c){return console[i(385)](i(382),c),[]}}async[_0x284fb4(417)](e){const i=_0x284fb4;try{const c=await fetch(i(389)+Ke(this,x0)+i(412)+e+i(424)),f=await c[i(416)](),m=f[i(402)][i(395)];let g=m[Object[i(403)](m)[0]][i(419)];return g=sr(this,$c,xf).call(this,g),g}catch(c){console[i(385)](i(384),c)}}}x0=new WeakMap,Zc=new WeakSet,df=function(){const e=_0x284fb4;var i=e(406);if(!document.getElementById(i)){var c=document.createElement(e(398));c.id=i,c[e(427)]=e(379),document.head.appendChild(c)}},$c=new WeakSet,xf=function(e){const i=_0x284fb4;return e[i(400)](i(372))[i(374)](/[\u0300-\u036f]/g,"")};function _0x4b64(h,o){var e=_0x5536();return _0x4b64=function(i,c){i=i-489;var f=e[i];return f},_0x4b64(h,o)}var _0x42818e=_0x4b64;(function(h,o){for(var e=_0x4b64,i=h();[];)try{var c=-parseInt(e(500))/1+-parseInt(e(495))/2+parseInt(e(496))/3+parseInt(e(489))/4*(parseInt(e(491))/5)+parseInt(e(490))/6+-parseInt(e(493))/7*(parseInt(e(499))/8)+-parseInt(e(501))/9;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x5536,526635);function _0x5536(){var h=["146489XWcQJJ","get_keywords","1679518aOLHKV","1321416jctADw","cli","open save browser","24xLDPDX","156104BCWSxG","212535uyViQM","4zAUhWA","2859780gbfkEL","3458960MaVJDQ","open"];return _0x5536=function(){return h},_0x5536()}var h0;class RestoreCommand extends CommandBase{constructor(e){super();Nt(this,h0,void 0);nr(this,h0,e)}[_0x42818e(494)](){return["r"]}get_help(){var e=_0x42818e;return["r",e(498)]}process_input(e,i){var c=_0x42818e;if(this[c(497)].clear(),this[c(497)].print("Press ENTER to open Save Browser."),i)Ke(this,h0)[c(492)]();else return}}h0=new WeakMap;function _0xa74c(){var h=["process_input","get_help","1001412iqAbfp","5044743BKpfXy","print","50kyCWfl","1365837pYdvGI","Press ENTER to open Compilations Browser.","open","clear","16yZcwEP","open compilations browser","1656094bGxjTK","1uDFHgk","8EJkeoC","5020827iBmIXT","908840sjQEFp","get_keywords","4242180LgOtiK"];return _0xa74c=function(){return h},_0xa74c()}var _0x2cc92c=_0x4bc0;function _0x4bc0(h,o){var e=_0xa74c();return _0x4bc0=function(i,c){i=i-261;var f=e[i];return f},_0x4bc0(h,o)}(function(h,o){for(var e=_0x4bc0,i=h();[];)try{var c=parseInt(e(273))/1*(-parseInt(e(272))/2)+-parseInt(e(266))/3*(parseInt(e(274))/4)+parseInt(e(276))/5+parseInt(e(278))/6+-parseInt(e(275))/7+parseInt(e(270))/8*(-parseInt(e(262))/9)+-parseInt(e(265))/10*(-parseInt(e(263))/11);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0xa74c,503461);var p0;class BrowseCommand extends CommandBase{constructor(e){super();Nt(this,p0,void 0);nr(this,p0,e)}[_0x2cc92c(277)](){return["c"]}[_0x2cc92c(261)](){var e=_0x2cc92c;return["c",e(271)]}[_0x2cc92c(279)](e,i){var c=_0x2cc92c;if(this.cli[c(269)](),this.cli[c(264)](c(267)),i)Ke(this,p0)[c(268)]();else return}}p0=new WeakMap;let F={};function D(h={}){F={animate:!0,allowClose:!0,overlayOpacity:.7,smoothScroll:!1,disableActiveInteraction:!1,showProgress:!1,stagePadding:10,stageRadius:5,popoverOffset:10,showButtons:["next","previous","close"],disableButtons:[],overlayColor:"#000",...h}}function a(h){return h?F[h]:F}function W(h,o,e,i){return(h/=i/2)<1?e/2*h*h+o:-e/2*(--h*(h-2)-1)+o}function Q(h){const o='a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])';return h.flatMap(e=>{const i=e.matches(o),c=Array.from(e.querySelectorAll(o));return[...i?[e]:[],...c]}).filter(e=>getComputedStyle(e).pointerEvents!=="none"&&ae(e))}function Z(h){if(!h||se(h))return;const o=a("smoothScroll");h.scrollIntoView({behavior:!o||re(h)?"auto":"smooth",inline:"center",block:"center"})}function re(h){if(!h||!h.parentElement)return;const o=h.parentElement;return o.scrollHeight>o.clientHeight}function se(h){const o=h.getBoundingClientRect();return o.top>=0&&o.left>=0&&o.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&o.right<=(window.innerWidth||document.documentElement.clientWidth)}function ae(h){return!!(h.offsetWidth||h.offsetHeight||h.getClientRects().length)}let O={};function b(h,o){O[h]=o}function l(h){return h?O[h]:O}function V(){O={}}let R={};function N(h,o){R[h]=o}function L(h){var o;(o=R[h])==null||o.call(R)}function ce(){R={}}function le(h,o,e,i){let c=l("__activeStagePosition");const f=c||e.getBoundingClientRect(),m=i.getBoundingClientRect(),g=W(h,f.x,m.x-f.x,o),Te=W(h,f.y,m.y-f.y,o),Ie=W(h,f.width,m.width-f.width,o),Oe=W(h,f.height,m.height-f.height,o);c={x:g,y:Te,width:Ie,height:Oe},J(c),b("__activeStagePosition",c)}function G(h){if(!h)return;const o=h.getBoundingClientRect(),e={x:o.x,y:o.y,width:o.width,height:o.height};b("__activeStagePosition",e),J(e)}function de(){const h=l("__activeStagePosition"),o=l("__overlaySvg");if(!h)return;if(!o){console.warn("No stage svg found.");return}const e=window.innerWidth,i=window.innerHeight;o.setAttribute("viewBox",`0 0 ${e} ${i}`)}function pe(h){const o=ue(h);document.body.appendChild(o),te(o,e=>{e.target.tagName==="path"&&L("overlayClick")}),b("__overlaySvg",o)}function J(h){const o=l("__overlaySvg");if(!o){pe(h);return}const e=o.firstElementChild;if((e==null?void 0:e.tagName)!=="path")throw new Error("no path element found in stage svg");e.setAttribute("d",U(h))}function ue(h){const o=window.innerWidth,e=window.innerHeight,i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.classList.add("driver-overlay","driver-overlay-animated"),i.setAttribute("viewBox",`0 0 ${o} ${e}`),i.setAttribute("xmlSpace","preserve"),i.setAttribute("xmlnsXlink","http://www.w3.org/1999/xlink"),i.setAttribute("version","1.1"),i.setAttribute("preserveAspectRatio","xMinYMin slice"),i.style.fillRule="evenodd",i.style.clipRule="evenodd",i.style.strokeLinejoin="round",i.style.strokeMiterlimit="2",i.style.zIndex="10000",i.style.position="fixed",i.style.top="0",i.style.left="0",i.style.width="100%",i.style.height="100%";const c=document.createElementNS("http://www.w3.org/2000/svg","path");return c.setAttribute("d",U(h)),c.style.fill=a("overlayColor")||"rgb(0,0,0)",c.style.opacity=`${a("overlayOpacity")}`,c.style.pointerEvents="auto",c.style.cursor="auto",i.appendChild(c),i}function U(h){const o=window.innerWidth,e=window.innerHeight,i=a("stagePadding")||0,c=a("stageRadius")||0,f=h.width+i*2,m=h.height+i*2,g=Math.min(c,f/2,m/2),Te=Math.floor(Math.max(g,0)),Ie=h.x-i+Te,Oe=h.y-i,_e=f-Te*2,De=m-Te*2;return`M${o},0L0,0L0,${e}L${o},${e}L${o},0Z
    M${Ie},${Oe} h${_e} a${Te},${Te} 0 0 1 ${Te},${Te} v${De} a${Te},${Te} 0 0 1 -${Te},${Te} h-${_e} a${Te},${Te} 0 0 1 -${Te},-${Te} v-${De} a${Te},${Te} 0 0 1 ${Te},-${Te} z`}function ve(){const h=l("__overlaySvg");h&&h.remove()}function fe(){const h=document.getElementById("driver-dummy-element");if(h)return h;let o=document.createElement("div");return o.id="driver-dummy-element",o.style.width="0",o.style.height="0",o.style.pointerEvents="none",o.style.opacity="0",o.style.position="fixed",o.style.top="50%",o.style.left="50%",document.body.appendChild(o),o}function K(h){const{element:o}=h;let e=typeof o=="string"?document.querySelector(o):o;e||(e=fe()),ge(e,h)}function he(){const h=l("__activeElement"),o=l("__activeStep");h&&(G(h),de(),ie(h,o))}function ge(h,o){const e=Date.now(),i=l("__activeStep"),c=l("__activeElement")||h,f=!c||c===h,m=h.id==="driver-dummy-element",g=c.id==="driver-dummy-element",Te=a("animate"),Ie=o.onHighlightStarted||a("onHighlightStarted"),Oe=(o==null?void 0:o.onHighlighted)||a("onHighlighted"),_e=(i==null?void 0:i.onDeselected)||a("onDeselected"),De=a(),Ae=l();!f&&_e&&_e(g?void 0:c,i,{config:De,state:Ae}),Ie&&Ie(m?void 0:h,o,{config:De,state:Ae});const qe=!f&&Te;let Fe=!1;xe(),b("previousStep",i),b("previousElement",c),b("activeStep",o),b("activeElement",h);const Ne=()=>{if(l("__transitionCallback")!==Ne)return;const Ve=Date.now()-e,Ue=400-Ve<=400/2;o.popover&&Ue&&!Fe&&qe&&(X(h,o),Fe=!0),a("animate")&&Ve<400?le(Ve,400,c,h):(G(h),Oe&&Oe(m?void 0:h,o,{config:a(),state:l()}),b("__transitionCallback",void 0),b("__previousStep",i),b("__previousElement",c),b("__activeStep",o),b("__activeElement",h)),window.requestAnimationFrame(Ne)};b("__transitionCallback",Ne),window.requestAnimationFrame(Ne),Z(h),!qe&&o.popover&&X(h,o),c.classList.remove("driver-active-element","driver-no-interaction"),c.removeAttribute("aria-haspopup"),c.removeAttribute("aria-expanded"),c.removeAttribute("aria-controls"),a("disableActiveInteraction")&&h.classList.add("driver-no-interaction"),h.classList.add("driver-active-element"),h.setAttribute("aria-haspopup","dialog"),h.setAttribute("aria-expanded","true"),h.setAttribute("aria-controls","driver-popover-content")}function we(){var h;(h=document.getElementById("driver-dummy-element"))==null||h.remove(),document.querySelectorAll(".driver-active-element").forEach(o=>{o.classList.remove("driver-active-element","driver-no-interaction"),o.removeAttribute("aria-haspopup"),o.removeAttribute("aria-expanded"),o.removeAttribute("aria-controls")})}function I(){const h=l("__resizeTimeout");h&&window.cancelAnimationFrame(h),b("__resizeTimeout",window.requestAnimationFrame(he))}function me(h){var o;if(!l("isInitialized")||!(h.key==="Tab"||h.keyCode===9))return;const e=l("__activeElement"),i=(o=l("popover"))==null?void 0:o.wrapper,c=Q([...i?[i]:[],...e?[e]:[]]),f=c[0],m=c[c.length-1];if(h.preventDefault(),h.shiftKey){const g=c[c.indexOf(document.activeElement)-1]||m;g==null||g.focus()}else{const g=c[c.indexOf(document.activeElement)+1]||f;g==null||g.focus()}}function ee(h){var o;((o=a("allowKeyboardControl"))==null||o)&&(h.key==="Escape"?L("escapePress"):h.key==="ArrowRight"?L("arrowRightPress"):h.key==="ArrowLeft"&&L("arrowLeftPress"))}function te(h,o,e){const i=(c,f)=>{const m=c.target;h.contains(m)&&((!e||e(m))&&(c.preventDefault(),c.stopPropagation(),c.stopImmediatePropagation()),f==null||f(c))};document.addEventListener("pointerdown",i,!0),document.addEventListener("mousedown",i,!0),document.addEventListener("pointerup",i,!0),document.addEventListener("mouseup",i,!0),document.addEventListener("click",c=>{i(c,o)},!0)}function ye(){window.addEventListener("keyup",ee,!1),window.addEventListener("keydown",me,!1),window.addEventListener("resize",I),window.addEventListener("scroll",I)}function be(){window.removeEventListener("keyup",ee),window.removeEventListener("resize",I),window.removeEventListener("scroll",I)}function xe(){const h=l("popover");h&&(h.wrapper.style.display="none")}function X(h,o){var e,i;let c=l("popover");c&&document.body.removeChild(c.wrapper),c=Pe(),document.body.appendChild(c.wrapper);const{title:f,description:m,showButtons:g,disableButtons:Te,showProgress:Ie,nextBtnText:Oe=a("nextBtnText")||"Next &rarr;",prevBtnText:_e=a("prevBtnText")||"&larr; Previous",progressText:De=a("progressText")||"{current} of {total}"}=o.popover||{};c.nextButton.innerHTML=Oe,c.previousButton.innerHTML=_e,c.progress.innerHTML=De,f?(c.title.innerHTML=f,c.title.style.display="block"):c.title.style.display="none",m?(c.description.innerHTML=m,c.description.style.display="block"):c.description.style.display="none";const Ae=g||a("showButtons"),qe=Ie||a("showProgress")||!1,Fe=(Ae==null?void 0:Ae.includes("next"))||(Ae==null?void 0:Ae.includes("previous"))||qe;c.closeButton.style.display=Ae.includes("close")?"block":"none",Fe?(c.footer.style.display="flex",c.progress.style.display=qe?"block":"none",c.nextButton.style.display=Ae.includes("next")?"block":"none",c.previousButton.style.display=Ae.includes("previous")?"block":"none"):c.footer.style.display="none";const Ne=Te||a("disableButtons")||[];Ne!=null&&Ne.includes("next")&&(c.nextButton.disabled=!0,c.nextButton.classList.add("driver-popover-btn-disabled")),Ne!=null&&Ne.includes("previous")&&(c.previousButton.disabled=!0,c.previousButton.classList.add("driver-popover-btn-disabled")),Ne!=null&&Ne.includes("close")&&(c.closeButton.disabled=!0,c.closeButton.classList.add("driver-popover-btn-disabled"));const Ve=c.wrapper;Ve.style.display="block",Ve.style.left="",Ve.style.top="",Ve.style.bottom="",Ve.style.right="",Ve.id="driver-popover-content",Ve.setAttribute("role","dialog"),Ve.setAttribute("aria-labelledby","driver-popover-title"),Ve.setAttribute("aria-describedby","driver-popover-description");const Ue=c.arrow;Ue.className="driver-popover-arrow";const We=((e=o.popover)==null?void 0:e.popoverClass)||a("popoverClass")||"";Ve.className=`driver-popover ${We}`.trim(),te(c.wrapper,tt=>{var gt,vt,rt;const ht=tt.target,it=((gt=o.popover)==null?void 0:gt.onNextClick)||a("onNextClick"),mt=((vt=o.popover)==null?void 0:vt.onPrevClick)||a("onPrevClick"),Ze=((rt=o.popover)==null?void 0:rt.onCloseClick)||a("onCloseClick");if(ht.classList.contains("driver-popover-next-btn"))return it?it(h,o,{config:a(),state:l()}):L("nextClick");if(ht.classList.contains("driver-popover-prev-btn"))return mt?mt(h,o,{config:a(),state:l()}):L("prevClick");if(ht.classList.contains("driver-popover-close-btn"))return Ze?Ze(h,o,{config:a(),state:l()}):L("closeClick")},tt=>!(c!=null&&c.description.contains(tt))&&!(c!=null&&c.title.contains(tt))&&typeof tt.className=="string"&&tt.className.includes("driver-popover")),b("popover",c);const He=((i=o.popover)==null?void 0:i.onPopoverRender)||a("onPopoverRender");He&&He(c,{config:a(),state:l()}),ie(h,o),Z(Ve);const Xe=h.classList.contains("driver-dummy-element"),ot=Q([Ve,...Xe?[]:[h]]);ot.length>0&&ot[0].focus()}function oe(){const h=l("popover");if(!(h!=null&&h.wrapper))return;const o=h.wrapper.getBoundingClientRect(),e=a("stagePadding")||0,i=a("popoverOffset")||0;return{width:o.width+e+i,height:o.height+e+i,realWidth:o.width,realHeight:o.height}}function Y(h,o){const{elementDimensions:e,popoverDimensions:i,popoverPadding:c,popoverArrowDimensions:f}=o;return h==="start"?Math.max(Math.min(e.top-c,window.innerHeight-i.realHeight-f.width),f.width):h==="end"?Math.max(Math.min(e.top-(i==null?void 0:i.realHeight)+e.height+c,window.innerHeight-(i==null?void 0:i.realHeight)-f.width),f.width):h==="center"?Math.max(Math.min(e.top+e.height/2-(i==null?void 0:i.realHeight)/2,window.innerHeight-(i==null?void 0:i.realHeight)-f.width),f.width):0}function j(h,o){const{elementDimensions:e,popoverDimensions:i,popoverPadding:c,popoverArrowDimensions:f}=o;return h==="start"?Math.max(Math.min(e.left-c,window.innerWidth-i.realWidth-f.width),f.width):h==="end"?Math.max(Math.min(e.left-(i==null?void 0:i.realWidth)+e.width+c,window.innerWidth-(i==null?void 0:i.realWidth)-f.width),f.width):h==="center"?Math.max(Math.min(e.left+e.width/2-(i==null?void 0:i.realWidth)/2,window.innerWidth-(i==null?void 0:i.realWidth)-f.width),f.width):0}function ie(h,o){const e=l("popover");if(!e)return;const{align:i="start",side:c="left"}=(o==null?void 0:o.popover)||{},f=i,m=h.id==="driver-dummy-element"?"over":c,g=a("stagePadding")||0,Te=oe(),Ie=e.arrow.getBoundingClientRect(),Oe=h.getBoundingClientRect(),_e=Oe.top-Te.height;let De=_e>=0;const Ae=window.innerHeight-(Oe.bottom+Te.height);let qe=Ae>=0;const Fe=Oe.left-Te.width;let Ne=Fe>=0;const Ve=window.innerWidth-(Oe.right+Te.width);let Ue=Ve>=0;const We=!De&&!qe&&!Ne&&!Ue;let He=m;if(m==="top"&&De?Ue=Ne=qe=!1:m==="bottom"&&qe?Ue=Ne=De=!1:m==="left"&&Ne?Ue=De=qe=!1:m==="right"&&Ue&&(Ne=De=qe=!1),m==="over"){const Xe=window.innerWidth/2-Te.realWidth/2,ot=window.innerHeight/2-Te.realHeight/2;e.wrapper.style.left=`${Xe}px`,e.wrapper.style.right="auto",e.wrapper.style.top=`${ot}px`,e.wrapper.style.bottom="auto"}else if(We){const Xe=window.innerWidth/2-(Te==null?void 0:Te.realWidth)/2,ot=10;e.wrapper.style.left=`${Xe}px`,e.wrapper.style.right="auto",e.wrapper.style.bottom=`${ot}px`,e.wrapper.style.top="auto"}else if(Ne){const Xe=Math.min(Fe,window.innerWidth-(Te==null?void 0:Te.realWidth)-Ie.width),ot=Y(f,{elementDimensions:Oe,popoverDimensions:Te,popoverPadding:g,popoverArrowDimensions:Ie});e.wrapper.style.left=`${Xe}px`,e.wrapper.style.top=`${ot}px`,e.wrapper.style.bottom="auto",e.wrapper.style.right="auto",He="left"}else if(Ue){const Xe=Math.min(Ve,window.innerWidth-(Te==null?void 0:Te.realWidth)-Ie.width),ot=Y(f,{elementDimensions:Oe,popoverDimensions:Te,popoverPadding:g,popoverArrowDimensions:Ie});e.wrapper.style.right=`${Xe}px`,e.wrapper.style.top=`${ot}px`,e.wrapper.style.bottom="auto",e.wrapper.style.left="auto",He="right"}else if(De){const Xe=Math.min(_e,window.innerHeight-Te.realHeight-Ie.width);let ot=j(f,{elementDimensions:Oe,popoverDimensions:Te,popoverPadding:g,popoverArrowDimensions:Ie});e.wrapper.style.top=`${Xe}px`,e.wrapper.style.left=`${ot}px`,e.wrapper.style.bottom="auto",e.wrapper.style.right="auto",He="top"}else if(qe){const Xe=Math.min(Ae,window.innerHeight-(Te==null?void 0:Te.realHeight)-Ie.width);let ot=j(f,{elementDimensions:Oe,popoverDimensions:Te,popoverPadding:g,popoverArrowDimensions:Ie});e.wrapper.style.left=`${ot}px`,e.wrapper.style.bottom=`${Xe}px`,e.wrapper.style.top="auto",e.wrapper.style.right="auto",He="bottom"}We?e.arrow.classList.add("driver-popover-arrow-none"):Ce(f,He,h)}function Ce(h,o,e){const i=l("popover");if(!i)return;const c=e.getBoundingClientRect(),f=oe(),m=i.arrow,g=f.width,Te=window.innerWidth,Ie=c.width,Oe=c.left,_e=f.height,De=window.innerHeight,Ae=c.top,qe=c.height;m.className="driver-popover-arrow";let Fe=o,Ne=h;o==="top"?(Oe+Ie<=0?(Fe="right",Ne="end"):Oe+Ie-g<=0&&(Fe="top",Ne="start"),Oe>=Te?(Fe="left",Ne="end"):Oe+g>=Te&&(Fe="top",Ne="end")):o==="bottom"?(Oe+Ie<=0?(Fe="right",Ne="start"):Oe+Ie-g<=0&&(Fe="bottom",Ne="start"),Oe>=Te?(Fe="left",Ne="start"):Oe+g>=Te&&(Fe="bottom",Ne="end")):o==="left"?(Ae+qe<=0?(Fe="bottom",Ne="end"):Ae+qe-_e<=0&&(Fe="left",Ne="start"),Ae>=De?(Fe="top",Ne="end"):Ae+_e>=De&&(Fe="left",Ne="end")):o==="right"&&(Ae+qe<=0?(Fe="bottom",Ne="start"):Ae+qe-_e<=0&&(Fe="right",Ne="start"),Ae>=De?(Fe="top",Ne="start"):Ae+_e>=De&&(Fe="right",Ne="end")),Fe?(m.classList.add(`driver-popover-arrow-side-${Fe}`),m.classList.add(`driver-popover-arrow-align-${Ne}`)):m.classList.add("driver-popover-arrow-none")}function Pe(){const h=document.createElement("div");h.classList.add("driver-popover");const o=document.createElement("div");o.classList.add("driver-popover-arrow");const e=document.createElement("header");e.id="driver-popover-title",e.classList.add("driver-popover-title"),e.style.display="none",e.innerText="Popover Title";const i=document.createElement("div");i.id="driver-popover-description",i.classList.add("driver-popover-description"),i.style.display="none",i.innerText="Popover description is here";const c=document.createElement("button");c.type="button",c.classList.add("driver-popover-close-btn"),c.setAttribute("aria-label","Close"),c.innerHTML="&times;";const f=document.createElement("footer");f.classList.add("driver-popover-footer");const m=document.createElement("span");m.classList.add("driver-popover-progress-text"),m.innerText="";const g=document.createElement("span");g.classList.add("driver-popover-navigation-btns");const Te=document.createElement("button");Te.type="button",Te.classList.add("driver-popover-prev-btn"),Te.innerHTML="&larr; Previous";const Ie=document.createElement("button");return Ie.type="button",Ie.classList.add("driver-popover-next-btn"),Ie.innerHTML="Next &rarr;",g.appendChild(Te),g.appendChild(Ie),f.appendChild(m),f.appendChild(g),h.appendChild(c),h.appendChild(o),h.appendChild(e),h.appendChild(i),h.appendChild(f),{wrapper:h,arrow:o,title:e,description:i,footer:f,previousButton:Te,nextButton:Ie,closeButton:c,footerButtons:g,progress:m}}function Se(){var h;const o=l("popover");o&&((h=o.wrapper.parentElement)==null||h.removeChild(o.wrapper))}function ke(h={}){D(h);function o(){a("allowClose")&&Ie()}function e(){const Oe=l("activeIndex"),_e=a("steps")||[];if(typeof Oe>"u")return;const De=Oe+1;_e[De]?Te(De):Ie()}function i(){const Oe=l("activeIndex"),_e=a("steps")||[];if(typeof Oe>"u")return;const De=Oe-1;_e[De]?Te(De):Ie()}function c(Oe){(a("steps")||[])[Oe]?Te(Oe):Ie()}function f(){var Oe;if(l("__transitionCallback"))return;const _e=l("activeIndex"),De=l("__activeStep"),Ae=l("__activeElement");if(typeof _e>"u"||typeof De>"u"||typeof l("activeIndex")>"u")return;const qe=((Oe=De.popover)==null?void 0:Oe.onPrevClick)||a("onPrevClick");if(qe)return qe(Ae,De,{config:a(),state:l()});i()}function m(){var Oe;if(l("__transitionCallback"))return;const _e=l("activeIndex"),De=l("__activeStep"),Ae=l("__activeElement");if(typeof _e>"u"||typeof De>"u")return;const qe=((Oe=De.popover)==null?void 0:Oe.onNextClick)||a("onNextClick");if(qe)return qe(Ae,De,{config:a(),state:l()});e()}function g(){l("isInitialized")||(b("isInitialized",!0),document.body.classList.add("driver-active",a("animate")?"driver-fade":"driver-simple"),ye(),N("overlayClick",o),N("escapePress",o),N("arrowLeftPress",f),N("arrowRightPress",m))}function Te(Oe=0){var _e,De,Ae,qe,Fe,Ne,Ve,Ue;const We=a("steps");if(!We){console.error("No steps to drive through"),Ie();return}if(!We[Oe]){Ie();return}b("__activeOnDestroyed",document.activeElement),b("activeIndex",Oe);const He=We[Oe],Xe=We[Oe+1],ot=We[Oe-1],tt=((_e=He.popover)==null?void 0:_e.doneBtnText)||a("doneBtnText")||"Done",gt=a("allowClose"),vt=typeof((De=He.popover)==null?void 0:De.showProgress)<"u"?(Ae=He.popover)==null?void 0:Ae.showProgress:a("showProgress"),rt=(((qe=He.popover)==null?void 0:qe.progressText)||a("progressText")||"{{current}} of {{total}}").replace("{{current}}",`${Oe+1}`).replace("{{total}}",`${We.length}`),ht=((Fe=He.popover)==null?void 0:Fe.showButtons)||a("showButtons"),it=["next","previous",...gt?["close"]:[]].filter(Zt=>!(ht!=null&&ht.length)||ht.includes(Zt)),mt=((Ne=He.popover)==null?void 0:Ne.onNextClick)||a("onNextClick"),Ze=((Ve=He.popover)==null?void 0:Ve.onPrevClick)||a("onPrevClick"),Ft=((Ue=He.popover)==null?void 0:Ue.onCloseClick)||a("onCloseClick");K({...He,popover:{showButtons:it,nextBtnText:Xe?void 0:tt,disableButtons:[...ot?[]:["previous"]],showProgress:vt,progressText:rt,onNextClick:mt||(()=>{Xe?Te(Oe+1):Ie()}),onPrevClick:Ze||(()=>{Te(Oe-1)}),onCloseClick:Ft||(()=>{Ie()}),...(He==null?void 0:He.popover)||{}}})}function Ie(Oe=!0){const _e=l("__activeElement"),De=l("__activeStep"),Ae=l("__activeOnDestroyed"),qe=a("onDestroyStarted");if(Oe&&qe){const Ve=!_e||(_e==null?void 0:_e.id)==="driver-dummy-element";qe(Ve?void 0:_e,De,{config:a(),state:l()});return}const Fe=(De==null?void 0:De.onDeselected)||a("onDeselected"),Ne=a("onDestroyed");if(document.body.classList.remove("driver-active","driver-fade","driver-simple"),be(),Se(),we(),ve(),ce(),V(),_e&&De){const Ve=_e.id==="driver-dummy-element";Fe&&Fe(Ve?void 0:_e,De,{config:a(),state:l()}),Ne&&Ne(Ve?void 0:_e,De,{config:a(),state:l()})}Ae&&Ae.focus()}return{isActive:()=>l("isInitialized")||!1,refresh:I,drive:(Oe=0)=>{g(),Te(Oe)},setConfig:D,setSteps:Oe=>{V(),D({...a(),steps:Oe})},getConfig:a,getState:l,getActiveIndex:()=>l("activeIndex"),isFirstStep:()=>l("activeIndex")===0,isLastStep:()=>{const Oe=a("steps")||[],_e=l("activeIndex");return _e!==void 0&&_e===Oe.length-1},getActiveStep:()=>l("activeStep"),getActiveElement:()=>l("activeElement"),getPreviousElement:()=>l("previousElement"),getPreviousStep:()=>l("previousStep"),moveNext:e,movePrevious:i,moveTo:c,hasNextStep:()=>{const Oe=a("steps")||[],_e=l("activeIndex");return _e!==void 0&&Oe[_e+1]},hasPreviousStep:()=>{const Oe=a("steps")||[],_e=l("activeIndex");return _e!==void 0&&Oe[_e-1]},highlight:Oe=>{g(),K({...Oe,popover:Oe.popover?{showButtons:[],showProgress:!1,progressText:"",...Oe.popover}:void 0})},destroy:()=>{Ie(!1)}}}const driver="",_0xc5e6bf=_0x4f84;(function(h,o){const e=_0x4f84,i=h();for(;[];)try{if(-parseInt(e(459))/1*(parseInt(e(449))/2)+parseInt(e(430))/3*(parseInt(e(401))/4)+-parseInt(e(409))/5*(parseInt(e(453))/6)+-parseInt(e(414))/7+parseInt(e(422))/8+parseInt(e(405))/9+parseInt(e(461))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x1055,482906);function _0x1055(){const h=["inject","#menu-item-about","about","fullscreenElement","<p>Click here to open the system file dialog, where you can load a program to run and import programs and VME files.</p><p>You can import *vme_import*.zip files. These files contain a list of software for one or multiple platforms, which you can easily access from the VM/E Shell by typing a few letters of the desired programs`s name.</p>","Toggle fullscreen","VM/E CLI Shell","menu-item-tour","Import file","43652pqlljY","isQuest","menu-item-help","#menu-item-open","526254KLSprs","addSystemButton","mozFullScreenElement","requestFullscreen","mozCancelFullScreen","#menu-item-compilations","27eePgkb","menu-item-system","10228110Mdghdh","Fullscreen","#full-screen","#menu-item-system","right","<p>Click here to browse software compilations.</p>","1145708IHGgdf","sys ","menu-item-open","push","3337596NWNoNW","full-screen","mozRequestFullScreen","<p>Click here to show the list of available CLI commands.</p><p>Some commands require confirmation by pressing ENTER, while others update the results automatically as you type.</p>","35XkjIZk","webkitRequestFullscreen","Toggle on-screen keyboard","menu-item-compilations","documentElement","6678742RlydwC","help","addSaveBrowserButton","exitFullscreen","webkitFullscreenElement","querySelector","start","#menu-item-help","7681560hECzbB","#menu-item-savestates","addAboutButton","msRequestFullscreen","addTourButton","addOpenButton","addButtons","addCollectionButton","3qeAoQD","0.66","Open Compilations Browser","#toggle-keyboard","addHelpButton","addFsButton","<p>Click here to show the on-screen keyboard.</p>","About VM/E","<p>Use the VM/E shell by entering CLI commands or performing search queries.</p><p>If you have imported a software list for the current platform, you can start typing the name of the file you are looking for. After entering a few characters, you will see a list of files that match your search query.</p>","#cors_interface"];return _0x1055=function(){return h},_0x1055()}function _0x4f84(h,o){const e=_0x1055();return _0x4f84=function(i,c){return i=i-400,e[i]},_0x4f84(h,o)}var Li;class ButtonManager{constructor(o){Nt(this,Li,void 0);nr(this,Li,o)}[_0xc5e6bf(428)](){const o=_0xc5e6bf;this.addSystemButton(),this[o(434)](),this[o(416)](),this[o(429)](),this.addOpenButton(),this[o(435)](),this[o(424)](),this[o(426)]()}[_0xc5e6bf(454)](){const o=_0xc5e6bf;createGuiButton(o(460),"S","S",()=>{const e=o;Ke(this,Li)[e(440)](e(402))})}[_0xc5e6bf(434)](){const o=_0xc5e6bf;createGuiButton(o(451),"H","H",()=>{const e=o;Ke(this,Li)[e(440)](e(415))})}[_0xc5e6bf(416)](){createGuiButton("menu-item-savestates","R","R",()=>{const o=_0x4f84;Ke(this,Li)[o(440)]("r",!![])})}addCollectionButton(){const o=_0xc5e6bf;createGuiButton(o(412),"C","C",()=>{const e=o;Ke(this,Li)[e(440)]("c",!![])})}[_0xc5e6bf(427)](){const o=_0xc5e6bf;createGuiButton(o(403),"O","O",()=>{const e=o;Ke(this,Li)[e(440)]("open",!![])})}[_0xc5e6bf(424)](){createGuiButton("menu-item-about","A","A",()=>{const o=_0x4f84;Ke(this,Li)[o(440)](o(442))})}[_0xc5e6bf(435)](){const o=_0xc5e6bf;EnvironmentManager[o(450)]()&&createGuiButton(o(406),o(462),"Fs",()=>{const e=o;let i=document[e(413)];const c=()=>{const m=e;i[m(456)]?i.requestFullscreen():i[m(407)]?i[m(407)]():i[m(410)]?i[m(410)]():i[m(425)]&&i[m(425)]()},f=()=>{const m=e;document[m(417)]?document[m(417)]():document.mozCancelFullScreen?document[m(457)]():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()};!document[e(443)]&&!document[e(455)]&&!document[e(418)]&&!document.msFullscreenElement?c():f()})}[_0xc5e6bf(426)](){const o=_0xc5e6bf;createGuiButton(o(447),"?","?",()=>{const e=o,i=[];i[e(404)]({element:e(464),popover:{title:"Switch platforms",description:"<p>Click here to display the list of available emulated platforms.</p>",side:e(465),align:e(420)}}),i[e(404)]({element:e(421),popover:{title:"List available commands",description:e(408),side:"right",align:"start"}}),i[e(404)]({element:e(423),popover:{title:"Open Save Browser",description:"<p>Click here to browse and load save states.</p>",side:"right",align:e(420)}}),document[e(419)](e(463))&&i.push({element:e(463),popover:{title:e(445),description:"<p>Click here to toggle fullscreen mode on and off.</p>",side:e(465),align:e(420)}}),document.querySelector(e(463))&&i[e(404)]({element:e(433),popover:{title:e(411),description:e(436),side:e(465),align:e(420)}}),i[e(404)]({element:e(458),popover:{title:e(432),description:e(400),side:e(465),align:e(420)}}),i.push({element:e(452),popover:{title:e(448),description:e(444),side:e(465),align:e(420)}}),i[e(404)]({element:e(441),popover:{title:e(437),description:'<p>Click here to display the "About VM/E" information, including credits and licensing details.</p>',side:e(465),align:e(420)}}),i[e(404)]({element:e(439),popover:{title:e(446),description:e(438),side:e(465),align:"start"}}),ke({animate:![],showProgress:![],overlayOpacity:e(431),stagePadding:10,smoothScroll:![],steps:i}).drive()})}}Li=new WeakMap;const _0x303d1c=_0x1fe7;(function(h,o){const e=_0x1fe7,i=h();for(;[];)try{if(-parseInt(e(239))/1*(-parseInt(e(248))/2)+-parseInt(e(222))/3*(-parseInt(e(216))/4)+parseInt(e(249))/5+parseInt(e(229))/6+parseInt(e(220))/7*(parseInt(e(277))/8)+-parseInt(e(263))/9+-parseInt(e(218))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0xcace,624413);function _0x1fe7(h,o){const e=_0xcace();return _0x1fe7=function(i,c){return i=i-206,e[i]},_0x1fe7(h,o)}var yn,vi,eu,Vn,Ya,Ai,_0,Qa,dd,xd,hd,pd,tu,hf,ru,pf;const si=class si{constructor(){Nt(this,tu);Nt(this,ru);Nt(this,yn,void 0);Nt(this,vi,void 0);Nt(this,eu,void 0);Nt(this,Vn,void 0);Nt(this,Ya,void 0);Nt(this,Ai,void 0);Nt(this,_0,void 0);Nt(this,Qa,void 0);const o=_0x303d1c;if(window.onload=function(){const i=_0x1fe7;document[i(237)][i(275)][i(254)](i(209))},sr(this,ru,pf).call(this)){show("#warningStandalone",o(264)),show(o(223));return}if(nr(this,yn,new CLI),nr(this,vi,new KeyboardManager(Ke(this,yn))),nr(this,Ya,new StorageManager),nr(this,Vn,new PlatformManager(this,Ke(this,yn),Ke(this,Ya))),nr(this,eu,new EnvironmentManager(Ke(this,Vn))),nr(this,Ai,new UiManager(Ke(this,Vn),Ke(this,vi))),nr(this,_0,new SaveBrowser(this,Ke(this,Vn),Ke(this,Ya),Ke(this,yn))),nr(this,Qa,new CollectionBrowser(this,Ke(this,Vn),Ke(this,Ya),Ke(this,yn))),Ke(this,vi)[o(260)](),Ke(this,yn)[o(261)](new HelpCommand),Ke(this,yn).register_command(new RestoreCommand(Ke(this,_0))),Ke(this,yn)[o(261)](new BrowseCommand(Ke(this,Qa))),Ke(this,yn)[o(261)](new OpenCommand(Ke(this,Vn))),Ke(this,yn)[o(261)](new ListCommand(Ke(this,Vn))),Ke(this,yn).register_command(new FindCommand(Ke(this,Vn))),Ke(this,yn).register_command(new SystemCommand(Ke(this,Vn))),Ke(this,yn)[o(261)](new SetCommand),Ke(this,yn)[o(261)](new LastCommand(Ke(this,Vn))),Ke(this,yn)[o(261)](new WikiCommand),Ke(this,yn).register_default(o(246)),sr(this,tu,hf).call(this),Ke(this,vi)[o(215)](),Ke(this,yn)[o(261)](new AboutCommand(Ke(this,Vn))),new ButtonManager(Ke(this,yn))[o(213)](),EnvironmentManager[o(240)](),s(o(211))[o(266)]="v0.8.7",this.toggleScreen(si[o(253)][o(244)]),StorageManager[o(259)](BOOT_TO)==BOOT_TO_COLLECTION_BROWSER){let i=StorageManager.getValue(COLLECTION_BROWSER_COLLECTION_INDEX),c=StorageManager[o(259)](COLLECTION_BROWSER_ITEM_INDEX);i&&c?Ke(this,Qa)[o(232)](i,c):Ke(this,Qa)[o(232)]()}Debug[o(273)]()&&Debug[o(217)](!![])}[(dd=_0x303d1c(279),xd=_0x303d1c(269),hd=_0x303d1c(228),pd=_0x303d1c(270),_0x303d1c(224))](){const o=_0x303d1c;let e=Ke(this,Vn)[o(257)]()[o(221)];Ke(this,Ai)[o(214)](),Ke(this,Ai).initQuickshot(),Ke(this,Ai)[o(207)](),Ke(this,Ai).initHideaway(),Ke(this,Ai).initFastUI(),e?UiManager[o(258)](e,![]):UiManager[o(258)](JOYSTICK_TOUCH_MODE.QUICKJOY_PRIMARY,![]),Ke(this,Ai)[o(206)](),this.toggleScreen(si.CURRENT_SCREEN.EMULATION),EnvironmentManager[o(231)](),Ke(this,Ai)[o(262)](),EnvironmentManager[o(265)](Ke(this,Vn).getNostalgist())}[_0x303d1c(243)](o){const e=_0x303d1c;switch(o){case si.CURRENT_SCREEN.MENU:hide(e(212)),hide("#save-browser"),hide("#collection-browser"),hide(e(227)),hide(e(271)),hide("#fastui"),hide(e(252)),show(e(225),"flex"),Ke(this,yn).on(),Ke(this,vi)[e(260)](),Ke(this,vi).updateMode(o),document.body[e(275)][e(268)](e(256));break;case si.CURRENT_SCREEN[e(276)]:Ke(this,yn)[e(278)](),hide(e(212)),hide(e(225)),hide(e(208)),hide(e(267)),show(e(227),e(264)),EnvironmentManager[e(235)]()||EnvironmentManager.isQuest()?(hide(e(272),e(236)),hide(e(251)),hide(e(252)),hide(e(271)),hide("#quickjoy")):show(e(272),e(236)),Ke(this,vi)[e(274)](),Ke(this,vi).clicks_off(),Ke(this,vi).updateMode(o),document[e(237)][e(275)][e(254)](e(256));break;case si[e(253)].SAVE_BROWSER:Ke(this,yn)[e(278)](),hide("#warningStandalone"),hide(e(225)),hide(e(227)),hide(e(267)),show("#save-browser",e(255)),document[e(237)][e(275)].add("black");break;case si[e(253)].COLLECTION_BROWSER:Ke(this,yn)[e(278)](),hide(e(212)),hide(e(208)),hide(e(227)),hide(e(225)),hide(e(271)),hide(e(272)),hide(e(252)),show("#collection-browser",e(255)),document.body[e(275)].add(e(256));break}}};yn=new WeakMap,vi=new WeakMap,eu=new WeakMap,Vn=new WeakMap,Ya=new WeakMap,Ai=new WeakMap,_0=new WeakMap,Qa=new WeakMap,tu=new WeakSet,hf=function(){const o=_0x303d1c;window.addEventListener(o(230),()=>EnvironmentManager[o(265)](Ke(this,Vn)[o(247)]())),window.addEventListener(o(230),()=>EnvironmentManager[o(240)]()),window[o(234)](o(219),()=>EnvironmentManager[o(240)]()),window[o(234)]("gamepaddisconnected",()=>EnvironmentManager[o(240)]()),window[o(234)]("gamepadconnected",()=>EnvironmentManager[o(240)]())},ru=new WeakSet,pf=function(){const o=_0x303d1c,e=new URLSearchParams(window[o(233)].search),i=e.get(o(210))===o(245);if(isMobile_1&&!(window[o(238)][o(242)]||window[o(241)]("(display-mode: standalone)")[o(250)]||window[o(241)](o(226))[o(250)]||i))return!![]},cn(si,dd,"&nbsp;"),cn(si,"CURRENT_SCREEN",{STANDALONE_WARNING:50,MENU:100,EMULATION:200,SAVE_BROWSER:220,COLLECTION_BROWSER:300}),cn(si,xd,{TOUCH_SMALL:100,TOUCH_BIG:200,DESKTOP:300}),cn(si,hd,{NONE:10,PLATFORM_SELECT:100,CORS_QUERY:200}),cn(si,pd,{SMALLER:100,BIGGER:300});let VME=si;function _0xcace(){const h=["10008162xgIdnT","block","resizeCanvas","innerHTML","#collection-browser","remove","CURRENT_ENV","SCREEN_SIZE","#quickjoys","#fastui","isEnabled","hideTouchKeyboard","classList","EMULATION","2513576tDqXOs","off","whitespace","initDesktopUI","initMousepad","#save-browser","fade-in-visible","source","#versionLabel","#warningStandalone","addButtons","initQuickJoy","initButtons","1606196vztckn","setVisible","21515710AssyCc","orientationchange","21qADtjG","default_touch_controller","6tamNwb","html","emulationStarted","#settings","(display-mode: fullscreen)","#emulator","CURRENT_MAIN_MENU","7344756nuPtaC","resize","updateDeviceType","open","location","addEventListener","isDesktop","grid","body","navigator","2Bvbvrg","detectDevice","matchMedia","standalone","toggleScreen","MENU","pwa","find","getNostalgist","33702iRQkXd","4422425Gjiyqq","matches","#quickshots","#quickshot","CURRENT_SCREEN","add","flex","black","getSelectedPlatform","toggleJoystick","getValue","clicks_on","register_command","initTouchControllerMenu"];return _0xcace=function(){return h},_0xcace()}var _0x523fb8=_0x3121;function _0x3121(h,o){var e=_0x1f07();return _0x3121=function(i,c){i=i-218;var f=e[i];return f},_0x3121(h,o)}(function(h,o){for(var e=_0x3121,i=h();[];)try{var c=parseInt(e(223))/1*(-parseInt(e(224))/2)+parseInt(e(219))/3*(-parseInt(e(218))/4)+-parseInt(e(226))/5+-parseInt(e(225))/6+-parseInt(e(221))/7+parseInt(e(228))/8*(parseInt(e(229))/9)+-parseInt(e(220))/10*(-parseInt(e(227))/11);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x1f07,923186);document.addEventListener(_0x523fb8(222),new VME);function _0x1f07(){var h=["1199926bjdDVV","7608990HEunzd","225700uWewUr","2978734msQixR","287976EndfQc","153VAQxEM","4BcIODR","270597vqrOkw","130qPUDJe","8439326bPvrzQ","DOMContentLoaded","1WFPjqU"];return _0x1f07=function(){return h},_0x1f07()}
