var nx=Object.defineProperty;var ix=(lr,cr,ar)=>cr in lr?nx(lr,cr,{enumerable:!0,configurable:!0,writable:!0,value:ar}):lr[cr]=ar;var Ea=(lr,cr,ar)=>(ix(lr,typeof cr!="symbol"?cr+"":cr,ar),ar),ju=(lr,cr,ar)=>{if(!cr.has(lr))throw TypeError("Cannot "+ar)};var Lr=(lr,cr,ar)=>(ju(lr,cr,"read from private field"),ar?ar.call(lr):cr.get(lr)),mi=(lr,cr,ar)=>{if(cr.has(lr))throw TypeError("Cannot add the same private member more than once");cr instanceof WeakSet?cr.add(lr):cr.set(lr,ar)},Ci=(lr,cr,ar,or)=>(ju(lr,cr,"write to private field"),or?or.call(lr,ar):cr.set(lr,ar),ar);var bc=(lr,cr,ar,or)=>({set _(ur){Ci(lr,cr,ur,ar)},get _(){return Lr(lr,cr,or)}}),Pi=(lr,cr,ar)=>(ju(lr,cr,"access private method"),ar);(function(){const cr=document.createElement("link").relList;if(cr&&cr.supports&&cr.supports("modulepreload"))return;for(const ur of document.querySelectorAll('link[rel="modulepreload"]'))or(ur);new MutationObserver(ur=>{for(const fr of ur)if(fr.type==="childList")for(const dr of fr.addedNodes)dr.tagName==="LINK"&&dr.rel==="modulepreload"&&or(dr)}).observe(document,{childList:!0,subtree:!0});function ar(ur){const fr={};return ur.integrity&&(fr.integrity=ur.integrity),ur.referrerPolicy&&(fr.referrerPolicy=ur.referrerPolicy),ur.crossOrigin==="use-credentials"?fr.credentials="include":ur.crossOrigin==="anonymous"?fr.credentials="omit":fr.credentials="same-origin",fr}function or(ur){if(ur.ep)return;ur.ep=!0;const fr=ar(ur);fetch(ur.href,fr)}})();const vme="";(function(lr,cr){for(var ar=_0x4fdb,or=lr();[];)try{var ur=-parseInt(ar(392))/1+-parseInt(ar(398))/2*(parseInt(ar(404))/3)+-parseInt(ar(389))/4*(-parseInt(ar(403))/5)+-parseInt(ar(393))/6+-parseInt(ar(401))/7+-parseInt(ar(402))/8*(parseInt(ar(399))/9)+parseInt(ar(395))/10;if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x2efb,532828);function _0x4fdb(lr,cr){var ar=_0x2efb();return _0x4fdb=function(or,ur){or=or-386;var fr=ar[or];return fr},_0x4fdb(lr,cr)}function s$1(lr){var cr=_0x4fdb;return document[cr(397)](lr)}function _0x2efb(){var lr=["280uAzOGL","10kcgNuD","3YXZPSL","beforeend","mousedown","string","730492NYhJIO","mouseup","display","802714WppROe","2288466CBWMzT","addEventListener","30233820Esxbwb","style","querySelector","1458370enjVlD","154701TrMaOf","block","2386125uURsgD"];return _0x2efb=function(){return lr},_0x2efb()}function show(lr,cr){var ar=_0x4fdb,or=s$1(lr);or!=null&&(cr==null&&(cr=ar(400)),or[ar(396)][ar(391)]=cr)}function hide(lr){var cr=_0x4fdb,ar=s$1(lr);ar!=null&&(ar[cr(396)][cr(391)]="none")}function addButtonEventListeners(lr,cr){var ar=_0x4fdb;let or=![];const ur=fr=>{cr(fr)};lr.addEventListener(ar(387),()=>{or=!![],ur(!![])}),lr[ar(394)](ar(390),()=>{or&&(ur(![]),or=![])}),lr[ar(394)]("mouseleave",()=>{or&&(ur(![]),or=![])})}const e=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,t$1=Object.keys,n$1=Array.isArray;function r$1(lr,cr){return typeof cr!="object"||t$1(cr).forEach(function(ar){lr[ar]=cr[ar]}),lr}typeof Promise>"u"||e.Promise||(e.Promise=Promise);const s=Object.getPrototypeOf,i={}.hasOwnProperty;function o(lr,cr){return i.call(lr,cr)}function a$1(lr,cr){typeof cr=="function"&&(cr=cr(s(lr))),(typeof Reflect>"u"?t$1:Reflect.ownKeys)(cr).forEach(ar=>{l$2(lr,ar,cr[ar])})}const u$1=Object.defineProperty;function l$2(lr,cr,ar,or){u$1(lr,cr,r$1(ar&&o(ar,"get")&&typeof ar.get=="function"?{get:ar.get,set:ar.set,configurable:!0}:{value:ar,configurable:!0,writable:!0},or))}function c(lr){return{from:function(cr){return lr.prototype=Object.create(cr.prototype),l$2(lr.prototype,"constructor",lr),{extend:a$1.bind(null,lr.prototype)}}}}const h=Object.getOwnPropertyDescriptor;function d(lr,cr){let ar;return h(lr,cr)||(ar=s(lr))&&d(ar,cr)}const f=[].slice;function p$1(lr,cr,ar){return f.call(lr,cr,ar)}function y$1(lr,cr){return cr(lr)}function m(lr){if(!lr)throw new Error("Assertion Failed")}function v$1(lr){e.setImmediate?setImmediate(lr):setTimeout(lr,0)}function g(lr,cr){return lr.reduce((ar,or,ur)=>{var fr=cr(or,ur);return fr&&(ar[fr[0]]=fr[1]),ar},{})}function b$1(lr,cr){if(typeof cr=="string"&&o(lr,cr))return lr[cr];if(!cr)return lr;if(typeof cr!="string"){for(var ar=[],or=0,ur=cr.length;or<ur;++or){var fr=b$1(lr,cr[or]);ar.push(fr)}return ar}var dr=cr.indexOf(".");if(dr!==-1){var pr=lr[cr.substr(0,dr)];return pr==null?void 0:b$1(pr,cr.substr(dr+1))}}function _(lr,cr,ar){if(lr&&cr!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(lr)))if(typeof cr!="string"&&"length"in cr){m(typeof ar!="string"&&"length"in ar);for(var or=0,ur=cr.length;or<ur;++or)_(lr,cr[or],ar[or])}else{var fr=cr.indexOf(".");if(fr!==-1){var dr=cr.substr(0,fr),pr=cr.substr(fr+1);if(pr==="")ar===void 0?n$1(lr)&&!isNaN(parseInt(dr))?lr.splice(dr,1):delete lr[dr]:lr[dr]=ar;else{var br=lr[dr];br&&o(lr,dr)||(br=lr[dr]={}),_(br,pr,ar)}}else ar===void 0?n$1(lr)&&!isNaN(parseInt(cr))?lr.splice(cr,1):delete lr[cr]:lr[cr]=ar}}function w$1(lr){var cr={};for(var ar in lr)o(lr,ar)&&(cr[ar]=lr[ar]);return cr}const x$1=[].concat;function k(lr){return x$1.apply([],lr)}const E$1="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(k([8,16,32,64].map(lr=>["Int","Uint","Float"].map(cr=>cr+lr+"Array")))).filter(lr=>e[lr]),P$1=E$1.map(lr=>e[lr]);g(E$1,lr=>[lr,!0]);let K$2=null;function O$2(lr){K$2=typeof WeakMap<"u"&&new WeakMap;const cr=S$1(lr);return K$2=null,cr}function S$1(lr){if(!lr||typeof lr!="object")return lr;let cr=K$2&&K$2.get(lr);if(cr)return cr;if(n$1(lr)){cr=[],K$2&&K$2.set(lr,cr);for(var ar=0,or=lr.length;ar<or;++ar)cr.push(S$1(lr[ar]))}else if(P$1.indexOf(lr.constructor)>=0)cr=lr;else{const fr=s(lr);for(var ur in cr=fr===Object.prototype?{}:Object.create(fr),K$2&&K$2.set(lr,cr),lr)o(lr,ur)&&(cr[ur]=S$1(lr[ur]))}return cr}const{toString:A$1}={};function C$1(lr){return A$1.call(lr).slice(8,-1)}const j$1=typeof Symbol<"u"?Symbol.iterator:"@@iterator",D$2=typeof j$1=="symbol"?function(lr){var cr;return lr!=null&&(cr=lr[j$1])&&cr.apply(lr)}:function(){return null},I$2={};function B$1(lr){var cr,ar,or,ur;if(arguments.length===1){if(n$1(lr))return lr.slice();if(this===I$2&&typeof lr=="string")return[lr];if(ur=D$2(lr)){for(ar=[];!(or=ur.next()).done;)ar.push(or.value);return ar}if(lr==null)return[lr];if(typeof(cr=lr.length)=="number"){for(ar=new Array(cr);cr--;)ar[cr]=lr[cr];return ar}return[lr]}for(cr=arguments.length,ar=new Array(cr);cr--;)ar[cr]=arguments[cr];return ar}const T$1=typeof Symbol<"u"?lr=>lr[Symbol.toStringTag]==="AsyncFunction":()=>!1;var R$2=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function F$2(lr,cr){R$2=lr,M$1=cr}var M$1=()=>!0;const N$2=!new Error("").stack;function q$1(){if(N$2)try{throw q$1.arguments,new Error}catch(lr){return lr}return new Error}function $$1(lr,cr){var ar=lr.stack;return ar?(cr=cr||0,ar.indexOf(lr.name)===0&&(cr+=(lr.name+lr.message).split(`
`).length),ar.split(`
`).slice(cr).filter(M$1).map(or=>`
`+or).join("")):""}var U$2=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],L$2=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(U$2),V$2={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function W$2(lr,cr){this._e=q$1(),this.name=lr,this.message=cr}function Y$1(lr,cr){return lr+". Errors: "+Object.keys(cr).map(ar=>cr[ar].toString()).filter((ar,or,ur)=>ur.indexOf(ar)===or).join(`
`)}function z$1(lr,cr,ar,or){this._e=q$1(),this.failures=cr,this.failedKeys=or,this.successCount=ar,this.message=Y$1(lr,cr)}function G$2(lr,cr){this._e=q$1(),this.name="BulkError",this.failures=Object.keys(cr).map(ar=>cr[ar]),this.failuresByPos=cr,this.message=Y$1(lr,cr)}c(W$2).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+$$1(this._e,2))}},toString:function(){return this.name+": "+this.message}}),c(z$1).from(W$2),c(G$2).from(W$2);var H$1=L$2.reduce((lr,cr)=>(lr[cr]=cr+"Error",lr),{});const Q$2=W$2;var X$2=L$2.reduce((lr,cr)=>{var ar=cr+"Error";function or(ur,fr){this._e=q$1(),this.name=ar,ur?typeof ur=="string"?(this.message=`${ur}${fr?`
 `+fr:""}`,this.inner=fr||null):typeof ur=="object"&&(this.message=`${ur.name} ${ur.message}`,this.inner=ur):(this.message=V$2[cr]||ar,this.inner=null)}return c(or).from(Q$2),lr[cr]=or,lr},{});X$2.Syntax=SyntaxError,X$2.Type=TypeError,X$2.Range=RangeError;var J$2=U$2.reduce((lr,cr)=>(lr[cr+"Error"]=X$2[cr],lr),{}),Z$1=L$2.reduce((lr,cr)=>(["Syntax","Type","Range"].indexOf(cr)===-1&&(lr[cr+"Error"]=X$2[cr]),lr),{});function ee$1(){}function te$1(lr){return lr}function ne(lr,cr){return lr==null||lr===te$1?cr:function(ar){return cr(lr(ar))}}function re$1(lr,cr){return function(){lr.apply(this,arguments),cr.apply(this,arguments)}}function se$1(lr,cr){return lr===ee$1?cr:function(){var ar=lr.apply(this,arguments);ar!==void 0&&(arguments[0]=ar);var or=this.onsuccess,ur=this.onerror;this.onsuccess=null,this.onerror=null;var fr=cr.apply(this,arguments);return or&&(this.onsuccess=this.onsuccess?re$1(or,this.onsuccess):or),ur&&(this.onerror=this.onerror?re$1(ur,this.onerror):ur),fr!==void 0?fr:ar}}function ie$1(lr,cr){return lr===ee$1?cr:function(){lr.apply(this,arguments);var ar=this.onsuccess,or=this.onerror;this.onsuccess=this.onerror=null,cr.apply(this,arguments),ar&&(this.onsuccess=this.onsuccess?re$1(ar,this.onsuccess):ar),or&&(this.onerror=this.onerror?re$1(or,this.onerror):or)}}function oe$1(lr,cr){return lr===ee$1?cr:function(ar){var or=lr.apply(this,arguments);r$1(ar,or);var ur=this.onsuccess,fr=this.onerror;this.onsuccess=null,this.onerror=null;var dr=cr.apply(this,arguments);return ur&&(this.onsuccess=this.onsuccess?re$1(ur,this.onsuccess):ur),fr&&(this.onerror=this.onerror?re$1(fr,this.onerror):fr),or===void 0?dr===void 0?void 0:dr:r$1(or,dr)}}function ae$1(lr,cr){return lr===ee$1?cr:function(){return cr.apply(this,arguments)!==!1&&lr.apply(this,arguments)}}function ue$1(lr,cr){return lr===ee$1?cr:function(){var ar=lr.apply(this,arguments);if(ar&&typeof ar.then=="function"){for(var or=this,ur=arguments.length,fr=new Array(ur);ur--;)fr[ur]=arguments[ur];return ar.then(function(){return cr.apply(or,fr)})}return cr.apply(this,arguments)}}Z$1.ModifyError=z$1,Z$1.DexieError=W$2,Z$1.BulkError=G$2;var le$1={};const ce$1=100,[he$1,de$1,fe$1]=typeof Promise>"u"?[]:(()=>{let lr=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[lr,s(lr),lr];const cr=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[cr,s(cr),lr]})(),pe$1=de$1&&de$1.then,ye$1=he$1&&he$1.constructor,me$1=!!fe$1;var ve$1=!1,ge$1=fe$1?()=>{fe$1.then($e)}:e.setImmediate?setImmediate.bind(null,$e):e.MutationObserver?()=>{var lr=document.createElement("div");new MutationObserver(()=>{$e(),lr=null}).observe(lr,{attributes:!0}),lr.setAttribute("i","1")}:()=>{setTimeout($e,0)},be$1=function(lr,cr){Se$1.push([lr,cr]),we$1&&(ge$1(),we$1=!1)},_e=!0,we$1=!0,xe$1=[],ke$1=[],Ee=null,Pe$1=te$1,Ke={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:dt,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(lr=>{try{dt(lr[0],lr[1])}catch{}})}},Oe=Ke,Se$1=[],Ae=0,Ce$1=[];function je(lr){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=ee$1,this._lib=!1;var cr=this._PSD=Oe;if(R$2&&(this._stackHolder=q$1(),this._prev=null,this._numPrev=0),typeof lr!="function"){if(lr!==le$1)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Te(this,this._value))}this._state=null,this._value=null,++cr.ref,Be(this,lr)}const De={get:function(){var lr=Oe,cr=Xe;function ar(or,ur){var fr=!lr.global&&(lr!==Oe||cr!==Xe);const dr=fr&&!tt();var pr=new je((br,_r)=>{Fe(this,new Ie(lt(or,lr,fr,dr),lt(ur,lr,fr,dr),br,_r,lr))});return R$2&&qe(pr,this),pr}return ar.prototype=le$1,ar},set:function(lr){l$2(this,"then",lr&&lr.prototype===le$1?De:{get:function(){return lr},set:De.set})}};function Ie(lr,cr,ar,or,ur){this.onFulfilled=typeof lr=="function"?lr:null,this.onRejected=typeof cr=="function"?cr:null,this.resolve=ar,this.reject=or,this.psd=ur}function Be(lr,cr){try{cr(ar=>{if(lr._state===null){if(ar===lr)throw new TypeError("A promise cannot be resolved with itself.");var or=lr._lib&&Ue();ar&&typeof ar.then=="function"?Be(lr,(ur,fr)=>{ar instanceof je?ar._then(ur,fr):ar.then(ur,fr)}):(lr._state=!0,lr._value=ar,Re(lr)),or&&Le()}},Te.bind(null,lr))}catch(ar){Te(lr,ar)}}function Te(lr,cr){if(ke$1.push(cr),lr._state===null){var ar=lr._lib&&Ue();cr=Pe$1(cr),lr._state=!1,lr._value=cr,R$2&&cr!==null&&typeof cr=="object"&&!cr._promise&&function(or,ur,fr){try{or.apply(null,fr)}catch(dr){ur&&ur(dr)}}(()=>{var or=d(cr,"stack");cr._promise=lr,l$2(cr,"stack",{get:()=>ve$1?or&&(or.get?or.get.apply(cr):or.value):lr.stack})}),function(or){xe$1.some(ur=>ur._value===or._value)||xe$1.push(or)}(lr),Re(lr),ar&&Le()}}function Re(lr){var cr=lr._listeners;lr._listeners=[];for(var ar=0,or=cr.length;ar<or;++ar)Fe(lr,cr[ar]);var ur=lr._PSD;--ur.ref||ur.finalize(),Ae===0&&(++Ae,be$1(()=>{--Ae==0&&Ve()},[]))}function Fe(lr,cr){if(lr._state!==null){var ar=lr._state?cr.onFulfilled:cr.onRejected;if(ar===null)return(lr._state?cr.resolve:cr.reject)(lr._value);++cr.psd.ref,++Ae,be$1(Me,[ar,lr,cr])}else lr._listeners.push(cr)}function Me(lr,cr,ar){try{Ee=cr;var or,ur=cr._value;cr._state?or=lr(ur):(ke$1.length&&(ke$1=[]),or=lr(ur),ke$1.indexOf(ur)===-1&&function(fr){for(var dr=xe$1.length;dr;)if(xe$1[--dr]._value===fr._value)return void xe$1.splice(dr,1)}(cr)),ar.resolve(or)}catch(fr){ar.reject(fr)}finally{Ee=null,--Ae==0&&Ve(),--ar.psd.ref||ar.psd.finalize()}}function Ne(lr,cr,ar){if(cr.length===ar)return cr;var or="";if(lr._state===!1){var ur,fr,dr=lr._value;dr!=null?(ur=dr.name||"Error",fr=dr.message||dr,or=$$1(dr,0)):(ur=dr,fr=""),cr.push(ur+(fr?": "+fr:"")+or)}return R$2&&((or=$$1(lr._stackHolder,2))&&cr.indexOf(or)===-1&&cr.push(or),lr._prev&&Ne(lr._prev,cr,ar)),cr}function qe(lr,cr){var ar=cr?cr._numPrev+1:0;ar<100&&(lr._prev=cr,lr._numPrev=ar)}function $e(){Ue()&&Le()}function Ue(){var lr=_e;return _e=!1,we$1=!1,lr}function Le(){var lr,cr,ar;do for(;Se$1.length>0;)for(lr=Se$1,Se$1=[],ar=lr.length,cr=0;cr<ar;++cr){var or=lr[cr];or[0].apply(null,or[1])}while(Se$1.length>0);_e=!0,we$1=!0}function Ve(){var lr=xe$1;xe$1=[],lr.forEach(or=>{or._PSD.onunhandled.call(null,or._value,or)});for(var cr=Ce$1.slice(0),ar=cr.length;ar;)cr[--ar]()}function We(lr){return new je(le$1,!1,lr)}function Ye(lr,cr){var ar=Oe;return function(){var or=Ue(),ur=Oe;try{return it(ar,!0),lr.apply(this,arguments)}catch(fr){cr&&cr(fr)}finally{it(ur,!1),or&&Le()}}}a$1(je.prototype,{then:De,_then:function(lr,cr){Fe(this,new Ie(null,null,lr,cr,Oe))},catch:function(lr){if(arguments.length===1)return this.then(null,lr);var cr=arguments[0],ar=arguments[1];return typeof cr=="function"?this.then(null,or=>or instanceof cr?ar(or):We(or)):this.then(null,or=>or&&or.name===cr?ar(or):We(or))},finally:function(lr){return this.then(cr=>(lr(),cr),cr=>(lr(),We(cr)))},stack:{get:function(){if(this._stack)return this._stack;try{ve$1=!0;var lr=Ne(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=lr),lr}finally{ve$1=!1}}},timeout:function(lr,cr){return lr<1/0?new je((ar,or)=>{var ur=setTimeout(()=>or(new X$2.Timeout(cr)),lr);this.then(ar,or).finally(clearTimeout.bind(null,ur))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&l$2(je.prototype,Symbol.toStringTag,"Dexie.Promise"),Ke.env=ot(),a$1(je,{all:function(){var lr=B$1.apply(null,arguments).map(nt);return new je(function(cr,ar){lr.length===0&&cr([]);var or=lr.length;lr.forEach((ur,fr)=>je.resolve(ur).then(dr=>{lr[fr]=dr,--or||cr(lr)},ar))})},resolve:lr=>{if(lr instanceof je)return lr;if(lr&&typeof lr.then=="function")return new je((ar,or)=>{lr.then(ar,or)});var cr=new je(le$1,!0,lr);return qe(cr,Ee),cr},reject:We,race:function(){var lr=B$1.apply(null,arguments).map(nt);return new je((cr,ar)=>{lr.map(or=>je.resolve(or).then(cr,ar))})},PSD:{get:()=>Oe,set:lr=>Oe=lr},totalEchoes:{get:()=>Xe},newPSD:Ze,usePSD:at,scheduler:{get:()=>be$1,set:lr=>{be$1=lr}},rejectionMapper:{get:()=>Pe$1,set:lr=>{Pe$1=lr}},follow:(lr,cr)=>new je((ar,or)=>Ze((ur,fr)=>{var dr=Oe;dr.unhandleds=[],dr.onunhandled=fr,dr.finalize=re$1(function(){(function(pr){function br(){pr(),Ce$1.splice(Ce$1.indexOf(br),1)}Ce$1.push(br),++Ae,be$1(()=>{--Ae==0&&Ve()},[])})(()=>{this.unhandleds.length===0?ur():fr(this.unhandleds[0])})},dr.finalize),lr()},cr,ar,or))}),ye$1&&(ye$1.allSettled&&l$2(je,"allSettled",function(){const lr=B$1.apply(null,arguments).map(nt);return new je(cr=>{lr.length===0&&cr([]);let ar=lr.length;const or=new Array(ar);lr.forEach((ur,fr)=>je.resolve(ur).then(dr=>or[fr]={status:"fulfilled",value:dr},dr=>or[fr]={status:"rejected",reason:dr}).then(()=>--ar||cr(or)))})}),ye$1.any&&typeof AggregateError<"u"&&l$2(je,"any",function(){const lr=B$1.apply(null,arguments).map(nt);return new je((cr,ar)=>{lr.length===0&&ar(new AggregateError([]));let or=lr.length;const ur=new Array(or);lr.forEach((fr,dr)=>je.resolve(fr).then(pr=>cr(pr),pr=>{ur[dr]=pr,--or||ar(new AggregateError(ur))}))})}));const ze={awaits:0,echoes:0,id:0};var Ge=0,He=[],Qe=0,Xe=0,Je=0;function Ze(lr,cr,ar,or){var ur=Oe,fr=Object.create(ur);fr.parent=ur,fr.ref=0,fr.global=!1,fr.id=++Je;var dr=Ke.env;fr.env=me$1?{Promise:je,PromiseProp:{value:je,configurable:!0,writable:!0},all:je.all,race:je.race,allSettled:je.allSettled,any:je.any,resolve:je.resolve,reject:je.reject,nthen:ct(dr.nthen,fr),gthen:ct(dr.gthen,fr)}:{},cr&&r$1(fr,cr),++ur.ref,fr.finalize=function(){--this.parent.ref||this.parent.finalize()};var pr=at(fr,lr,ar,or);return fr.ref===0&&fr.finalize(),pr}function et(){return ze.id||(ze.id=++Ge),++ze.awaits,ze.echoes+=ce$1,ze.id}function tt(){return!!ze.awaits&&(--ze.awaits==0&&(ze.id=0),ze.echoes=ze.awaits*ce$1,!0)}function nt(lr){return ze.echoes&&lr&&lr.constructor===ye$1?(et(),lr.then(cr=>(tt(),cr),cr=>(tt(),ft(cr)))):lr}function rt(lr){++Xe,ze.echoes&&--ze.echoes!=0||(ze.echoes=ze.id=0),He.push(Oe),it(lr,!0)}function st(){var lr=He[He.length-1];He.pop(),it(lr,!1)}function it(lr,cr){var ar=Oe;if((cr?!ze.echoes||Qe++&&lr===Oe:!Qe||--Qe&&lr===Oe)||ut(cr?rt.bind(null,lr):st),lr!==Oe&&(Oe=lr,ar===Ke&&(Ke.env=ot()),me$1)){var or=Ke.env.Promise,ur=lr.env;de$1.then=ur.nthen,or.prototype.then=ur.gthen,(ar.global||lr.global)&&(Object.defineProperty(e,"Promise",ur.PromiseProp),or.all=ur.all,or.race=ur.race,or.resolve=ur.resolve,or.reject=ur.reject,ur.allSettled&&(or.allSettled=ur.allSettled),ur.any&&(or.any=ur.any))}}function ot(){var lr=e.Promise;return me$1?{Promise:lr,PromiseProp:Object.getOwnPropertyDescriptor(e,"Promise"),all:lr.all,race:lr.race,allSettled:lr.allSettled,any:lr.any,resolve:lr.resolve,reject:lr.reject,nthen:de$1.then,gthen:lr.prototype.then}:{}}function at(lr,cr,ar,or,ur){var fr=Oe;try{return it(lr,!0),cr(ar,or,ur)}finally{it(fr,!1)}}function ut(lr){pe$1.call(he$1,lr)}function lt(lr,cr,ar,or){return typeof lr!="function"?lr:function(){var ur=Oe;ar&&et(),it(cr,!0);try{return lr.apply(this,arguments)}finally{it(ur,!1),or&&ut(tt)}}}function ct(lr,cr){return function(ar,or){return lr.call(this,lt(ar,cr),lt(or,cr))}}(""+pe$1).indexOf("[native code]")===-1&&(et=tt=ee$1);const ht="unhandledrejection";function dt(lr,cr){var ar;try{ar=cr.onuncatched(lr)}catch{}if(ar!==!1)try{var or,ur={promise:cr,reason:lr};if(e.document&&document.createEvent?((or=document.createEvent("Event")).initEvent(ht,!0,!0),r$1(or,ur)):e.CustomEvent&&r$1(or=new CustomEvent(ht,{detail:ur}),ur),or&&e.dispatchEvent&&(dispatchEvent(or),!e.PromiseRejectionEvent&&e.onunhandledrejection))try{e.onunhandledrejection(or)}catch{}R$2&&or&&!or.defaultPrevented&&console.warn(`Unhandled rejection: ${lr.stack||lr}`)}catch{}}var ft=je.reject;function pt(lr,cr,ar,or){if(lr.idbdb&&(lr._state.openComplete||Oe.letThrough||lr._vip)){var ur=lr._createTransaction(cr,ar,lr._dbSchema);try{ur.create(),lr._state.PR1398_maxLoop=3}catch(fr){return fr.name===H$1.InvalidState&&lr.isOpen()&&--lr._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),lr._close(),lr.open().then(()=>pt(lr,cr,ar,or))):ft(fr)}return ur._promise(cr,(fr,dr)=>Ze(()=>(Oe.trans=ur,or(fr,dr,ur)))).then(fr=>ur._completion.then(()=>fr))}if(lr._state.openComplete)return ft(new X$2.DatabaseClosed(lr._state.dbOpenError));if(!lr._state.isBeingOpened){if(!lr._options.autoOpen)return ft(new X$2.DatabaseClosed);lr.open().catch(ee$1)}return lr._state.dbReadyPromise.then(()=>pt(lr,cr,ar,or))}const yt="3.2.7",mt=String.fromCharCode(65535),vt=-1/0,gt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",bt="String expected.",_t=[],wt=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),xt=wt,kt=wt,Et=lr=>!/(dexie\.js|dexie\.min\.js)/.test(lr),Pt="__dbnames",Kt="readonly",Ot="readwrite";function St(lr,cr){return lr?cr?function(){return lr.apply(this,arguments)&&cr.apply(this,arguments)}:lr:cr}const At={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ct(lr){return typeof lr!="string"||/\./.test(lr)?cr=>cr:cr=>(cr[lr]===void 0&&lr in cr&&delete(cr=O$2(cr))[lr],cr)}class jt{_trans(cr,ar,or){const ur=this._tx||Oe.trans,fr=this.name;function dr(br,_r,yr){if(!yr.schema[fr])throw new X$2.NotFound("Table "+fr+" not part of transaction");return ar(yr.idbtrans,yr)}const pr=Ue();try{return ur&&ur.db===this.db?ur===Oe.trans?ur._promise(cr,dr,or):Ze(()=>ur._promise(cr,dr,or),{trans:ur,transless:Oe.transless||Oe}):pt(this.db,cr,[this.name],dr)}finally{pr&&Le()}}get(cr,ar){return cr&&cr.constructor===Object?this.where(cr).first(ar):this._trans("readonly",or=>this.core.get({trans:or,key:cr}).then(ur=>this.hook.reading.fire(ur))).then(ar)}where(cr){if(typeof cr=="string")return new this.db.WhereClause(this,cr);if(n$1(cr))return new this.db.WhereClause(this,`[${cr.join("+")}]`);const ar=t$1(cr);if(ar.length===1)return this.where(ar[0]).equals(cr[ar[0]]);const or=this.schema.indexes.concat(this.schema.primKey).filter(_r=>{if(_r.compound&&ar.every(yr=>_r.keyPath.indexOf(yr)>=0)){for(let yr=0;yr<ar.length;++yr)if(ar.indexOf(_r.keyPath[yr])===-1)return!1;return!0}return!1}).sort((_r,yr)=>_r.keyPath.length-yr.keyPath.length)[0];if(or&&this.db._maxKey!==mt){const _r=or.keyPath.slice(0,ar.length);return this.where(_r).equals(_r.map(yr=>cr[yr]))}!or&&R$2&&console.warn(`The query ${JSON.stringify(cr)} on ${this.name} would benefit of a compound index [${ar.join("+")}]`);const{idxByName:ur}=this.schema,fr=this.db._deps.indexedDB;function dr(_r,yr){try{return fr.cmp(_r,yr)===0}catch{return!1}}const[pr,br]=ar.reduce(([_r,yr],mr)=>{const Er=ur[mr],gr=cr[mr];return[_r||Er,_r||!Er?St(yr,Er&&Er.multi?Ir=>{const Ar=b$1(Ir,mr);return n$1(Ar)&&Ar.some(kr=>dr(gr,kr))}:Ir=>dr(gr,b$1(Ir,mr))):yr]},[null,null]);return pr?this.where(pr.name).equals(cr[pr.keyPath]).filter(br):or?this.filter(br):this.where(ar).equals("")}filter(cr){return this.toCollection().and(cr)}count(cr){return this.toCollection().count(cr)}offset(cr){return this.toCollection().offset(cr)}limit(cr){return this.toCollection().limit(cr)}each(cr){return this.toCollection().each(cr)}toArray(cr){return this.toCollection().toArray(cr)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(cr){return new this.db.Collection(new this.db.WhereClause(this,n$1(cr)?`[${cr.join("+")}]`:cr))}reverse(){return this.toCollection().reverse()}mapToClass(cr){this.schema.mappedClass=cr;const ar=or=>{if(!or)return or;const ur=Object.create(cr.prototype);for(var fr in or)if(o(or,fr))try{ur[fr]=or[fr]}catch{}return ur};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=ar,this.hook("reading",ar),cr}defineClass(){return this.mapToClass(function(cr){r$1(this,cr)})}add(cr,ar){const{auto:or,keyPath:ur}=this.schema.primKey;let fr=cr;return ur&&or&&(fr=Ct(ur)(cr)),this._trans("readwrite",dr=>this.core.mutate({trans:dr,type:"add",keys:ar!=null?[ar]:null,values:[fr]})).then(dr=>dr.numFailures?je.reject(dr.failures[0]):dr.lastResult).then(dr=>{if(ur)try{_(cr,ur,dr)}catch{}return dr})}update(cr,ar){if(typeof cr!="object"||n$1(cr))return this.where(":id").equals(cr).modify(ar);{const or=b$1(cr,this.schema.primKey.keyPath);if(or===void 0)return ft(new X$2.InvalidArgument("Given object does not contain its primary key"));try{typeof ar!="function"?t$1(ar).forEach(ur=>{_(cr,ur,ar[ur])}):ar(cr,{value:cr,primKey:or})}catch{}return this.where(":id").equals(or).modify(ar)}}put(cr,ar){const{auto:or,keyPath:ur}=this.schema.primKey;let fr=cr;return ur&&or&&(fr=Ct(ur)(cr)),this._trans("readwrite",dr=>this.core.mutate({trans:dr,type:"put",values:[fr],keys:ar!=null?[ar]:null})).then(dr=>dr.numFailures?je.reject(dr.failures[0]):dr.lastResult).then(dr=>{if(ur)try{_(cr,ur,dr)}catch{}return dr})}delete(cr){return this._trans("readwrite",ar=>this.core.mutate({trans:ar,type:"delete",keys:[cr]})).then(ar=>ar.numFailures?je.reject(ar.failures[0]):void 0)}clear(){return this._trans("readwrite",cr=>this.core.mutate({trans:cr,type:"deleteRange",range:At})).then(cr=>cr.numFailures?je.reject(cr.failures[0]):void 0)}bulkGet(cr){return this._trans("readonly",ar=>this.core.getMany({keys:cr,trans:ar}).then(or=>or.map(ur=>this.hook.reading.fire(ur))))}bulkAdd(cr,ar,or){const ur=Array.isArray(ar)?ar:void 0,fr=(or=or||(ur?void 0:ar))?or.allKeys:void 0;return this._trans("readwrite",dr=>{const{auto:pr,keyPath:br}=this.schema.primKey;if(br&&ur)throw new X$2.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(ur&&ur.length!==cr.length)throw new X$2.InvalidArgument("Arguments objects and keys must have the same length");const _r=cr.length;let yr=br&&pr?cr.map(Ct(br)):cr;return this.core.mutate({trans:dr,type:"add",keys:ur,values:yr,wantResults:fr}).then(({numFailures:mr,results:Er,lastResult:gr,failures:Ir})=>{if(mr===0)return fr?Er:gr;throw new G$2(`${this.name}.bulkAdd(): ${mr} of ${_r} operations failed`,Ir)})})}bulkPut(cr,ar,or){const ur=Array.isArray(ar)?ar:void 0,fr=(or=or||(ur?void 0:ar))?or.allKeys:void 0;return this._trans("readwrite",dr=>{const{auto:pr,keyPath:br}=this.schema.primKey;if(br&&ur)throw new X$2.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(ur&&ur.length!==cr.length)throw new X$2.InvalidArgument("Arguments objects and keys must have the same length");const _r=cr.length;let yr=br&&pr?cr.map(Ct(br)):cr;return this.core.mutate({trans:dr,type:"put",keys:ur,values:yr,wantResults:fr}).then(({numFailures:mr,results:Er,lastResult:gr,failures:Ir})=>{if(mr===0)return fr?Er:gr;throw new G$2(`${this.name}.bulkPut(): ${mr} of ${_r} operations failed`,Ir)})})}bulkDelete(cr){const ar=cr.length;return this._trans("readwrite",or=>this.core.mutate({trans:or,type:"delete",keys:cr})).then(({numFailures:or,lastResult:ur,failures:fr})=>{if(or===0)return ur;throw new G$2(`${this.name}.bulkDelete(): ${or} of ${ar} operations failed`,fr)})}}function Dt(lr){var cr={},ar=function(dr,pr){if(pr){for(var br=arguments.length,_r=new Array(br-1);--br;)_r[br-1]=arguments[br];return cr[dr].subscribe.apply(null,_r),lr}if(typeof dr=="string")return cr[dr]};ar.addEventType=fr;for(var or=1,ur=arguments.length;or<ur;++or)fr(arguments[or]);return ar;function fr(dr,pr,br){if(typeof dr!="object"){var _r;pr||(pr=ae$1),br||(br=ee$1);var yr={subscribers:[],fire:br,subscribe:function(mr){yr.subscribers.indexOf(mr)===-1&&(yr.subscribers.push(mr),yr.fire=pr(yr.fire,mr))},unsubscribe:function(mr){yr.subscribers=yr.subscribers.filter(function(Er){return Er!==mr}),yr.fire=yr.subscribers.reduce(pr,br)}};return cr[dr]=ar[dr]=yr,yr}t$1(_r=dr).forEach(function(mr){var Er=_r[mr];if(n$1(Er))fr(mr,_r[mr][0],_r[mr][1]);else{if(Er!=="asap")throw new X$2.InvalidArgument("Invalid event config");var gr=fr(mr,te$1,function(){for(var Ir=arguments.length,Ar=new Array(Ir);Ir--;)Ar[Ir]=arguments[Ir];gr.subscribers.forEach(function(kr){v$1(function(){kr.apply(null,Ar)})})})}})}}function It(lr,cr){return c(cr).from({prototype:lr}),cr}function Bt(lr,cr){return!(lr.filter||lr.algorithm||lr.or)&&(cr?lr.justLimit:!lr.replayFilter)}function Tt(lr,cr){lr.filter=St(lr.filter,cr)}function Rt(lr,cr,ar){var or=lr.replayFilter;lr.replayFilter=or?()=>St(or(),cr()):cr,lr.justLimit=ar&&!or}function Ft(lr,cr){if(lr.isPrimKey)return cr.primaryKey;const ar=cr.getIndexByKeyPath(lr.index);if(!ar)throw new X$2.Schema("KeyPath "+lr.index+" on object store "+cr.name+" is not indexed");return ar}function Mt(lr,cr,ar){const or=Ft(lr,cr.schema);return cr.openCursor({trans:ar,values:!lr.keysOnly,reverse:lr.dir==="prev",unique:!!lr.unique,query:{index:or,range:lr.range}})}function Nt(lr,cr,ar,or){const ur=lr.replayFilter?St(lr.filter,lr.replayFilter()):lr.filter;if(lr.or){const fr={},dr=(pr,br,_r)=>{if(!ur||ur(br,_r,Er=>br.stop(Er),Er=>br.fail(Er))){var yr=br.primaryKey,mr=""+yr;mr==="[object ArrayBuffer]"&&(mr=""+new Uint8Array(yr)),o(fr,mr)||(fr[mr]=!0,cr(pr,br,_r))}};return Promise.all([lr.or._iterate(dr,ar),qt(Mt(lr,or,ar),lr.algorithm,dr,!lr.keysOnly&&lr.valueMapper)])}return qt(Mt(lr,or,ar),St(lr.algorithm,ur),cr,!lr.keysOnly&&lr.valueMapper)}function qt(lr,cr,ar,or){var ur=Ye(or?(fr,dr,pr)=>ar(or(fr),dr,pr):ar);return lr.then(fr=>{if(fr)return fr.start(()=>{var dr=()=>fr.continue();cr&&!cr(fr,pr=>dr=pr,pr=>{fr.stop(pr),dr=ee$1},pr=>{fr.fail(pr),dr=ee$1})||ur(fr.value,fr,pr=>dr=pr),dr()})})}function $t(lr,cr){try{const ar=Ut(lr),or=Ut(cr);if(ar!==or)return ar==="Array"?1:or==="Array"?-1:ar==="binary"?1:or==="binary"?-1:ar==="string"?1:or==="string"?-1:ar==="Date"?1:or!=="Date"?NaN:-1;switch(ar){case"number":case"Date":case"string":return lr>cr?1:lr<cr?-1:0;case"binary":return function(ur,fr){const dr=ur.length,pr=fr.length,br=dr<pr?dr:pr;for(let _r=0;_r<br;++_r)if(ur[_r]!==fr[_r])return ur[_r]<fr[_r]?-1:1;return dr===pr?0:dr<pr?-1:1}(Lt(lr),Lt(cr));case"Array":return function(ur,fr){const dr=ur.length,pr=fr.length,br=dr<pr?dr:pr;for(let _r=0;_r<br;++_r){const yr=$t(ur[_r],fr[_r]);if(yr!==0)return yr}return dr===pr?0:dr<pr?-1:1}(lr,cr)}}catch{}return NaN}function Ut(lr){const cr=typeof lr;if(cr!=="object")return cr;if(ArrayBuffer.isView(lr))return"binary";const ar=C$1(lr);return ar==="ArrayBuffer"?"binary":ar}function Lt(lr){return lr instanceof Uint8Array?lr:ArrayBuffer.isView(lr)?new Uint8Array(lr.buffer,lr.byteOffset,lr.byteLength):new Uint8Array(lr)}class Vt{_read(cr,ar){var or=this._ctx;return or.error?or.table._trans(null,ft.bind(null,or.error)):or.table._trans("readonly",cr).then(ar)}_write(cr){var ar=this._ctx;return ar.error?ar.table._trans(null,ft.bind(null,ar.error)):ar.table._trans("readwrite",cr,"locked")}_addAlgorithm(cr){var ar=this._ctx;ar.algorithm=St(ar.algorithm,cr)}_iterate(cr,ar){return Nt(this._ctx,cr,ar,this._ctx.table.core)}clone(cr){var ar=Object.create(this.constructor.prototype),or=Object.create(this._ctx);return cr&&r$1(or,cr),ar._ctx=or,ar}raw(){return this._ctx.valueMapper=null,this}each(cr){var ar=this._ctx;return this._read(or=>Nt(ar,cr,or,ar.table.core))}count(cr){return this._read(ar=>{const or=this._ctx,ur=or.table.core;if(Bt(or,!0))return ur.count({trans:ar,query:{index:Ft(or,ur.schema),range:or.range}}).then(dr=>Math.min(dr,or.limit));var fr=0;return Nt(or,()=>(++fr,!1),ar,ur).then(()=>fr)}).then(cr)}sortBy(cr,ar){const or=cr.split(".").reverse(),ur=or[0],fr=or.length-1;function dr(_r,yr){return yr?dr(_r[or[yr]],yr-1):_r[ur]}var pr=this._ctx.dir==="next"?1:-1;function br(_r,yr){var mr=dr(_r,fr),Er=dr(yr,fr);return mr<Er?-pr:mr>Er?pr:0}return this.toArray(function(_r){return _r.sort(br)}).then(ar)}toArray(cr){return this._read(ar=>{var or=this._ctx;if(or.dir==="next"&&Bt(or,!0)&&or.limit>0){const{valueMapper:ur}=or,fr=Ft(or,or.table.core.schema);return or.table.core.query({trans:ar,limit:or.limit,values:!0,query:{index:fr,range:or.range}}).then(({result:dr})=>ur?dr.map(ur):dr)}{const ur=[];return Nt(or,fr=>ur.push(fr),ar,or.table.core).then(()=>ur)}},cr)}offset(cr){var ar=this._ctx;return cr<=0||(ar.offset+=cr,Bt(ar)?Rt(ar,()=>{var or=cr;return(ur,fr)=>or===0||(or===1?(--or,!1):(fr(()=>{ur.advance(or),or=0}),!1))}):Rt(ar,()=>{var or=cr;return()=>--or<0})),this}limit(cr){return this._ctx.limit=Math.min(this._ctx.limit,cr),Rt(this._ctx,()=>{var ar=cr;return function(or,ur,fr){return--ar<=0&&ur(fr),ar>=0}},!0),this}until(cr,ar){return Tt(this._ctx,function(or,ur,fr){return!cr(or.value)||(ur(fr),ar)}),this}first(cr){return this.limit(1).toArray(function(ar){return ar[0]}).then(cr)}last(cr){return this.reverse().first(cr)}filter(cr){var ar,or;return Tt(this._ctx,function(ur){return cr(ur.value)}),ar=this._ctx,or=cr,ar.isMatch=St(ar.isMatch,or),this}and(cr){return this.filter(cr)}or(cr){return new this.db.WhereClause(this._ctx.table,cr,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(cr){var ar=this._ctx;return ar.keysOnly=!ar.isMatch,this.each(function(or,ur){cr(ur.key,ur)})}eachUniqueKey(cr){return this._ctx.unique="unique",this.eachKey(cr)}eachPrimaryKey(cr){var ar=this._ctx;return ar.keysOnly=!ar.isMatch,this.each(function(or,ur){cr(ur.primaryKey,ur)})}keys(cr){var ar=this._ctx;ar.keysOnly=!ar.isMatch;var or=[];return this.each(function(ur,fr){or.push(fr.key)}).then(function(){return or}).then(cr)}primaryKeys(cr){var ar=this._ctx;if(ar.dir==="next"&&Bt(ar,!0)&&ar.limit>0)return this._read(ur=>{var fr=Ft(ar,ar.table.core.schema);return ar.table.core.query({trans:ur,values:!1,limit:ar.limit,query:{index:fr,range:ar.range}})}).then(({result:ur})=>ur).then(cr);ar.keysOnly=!ar.isMatch;var or=[];return this.each(function(ur,fr){or.push(fr.primaryKey)}).then(function(){return or}).then(cr)}uniqueKeys(cr){return this._ctx.unique="unique",this.keys(cr)}firstKey(cr){return this.limit(1).keys(function(ar){return ar[0]}).then(cr)}lastKey(cr){return this.reverse().firstKey(cr)}distinct(){var cr=this._ctx,ar=cr.index&&cr.table.schema.idxByName[cr.index];if(!ar||!ar.multi)return this;var or={};return Tt(this._ctx,function(ur){var fr=ur.primaryKey.toString(),dr=o(or,fr);return or[fr]=!0,!dr}),this}modify(cr){var ar=this._ctx;return this._write(or=>{var ur;if(typeof cr=="function")ur=cr;else{var fr=t$1(cr),dr=fr.length;ur=function(Ar){for(var kr=!1,Or=0;Or<dr;++Or){var Dr=fr[Or],Rr=cr[Dr];b$1(Ar,Dr)!==Rr&&(_(Ar,Dr,Rr),kr=!0)}return kr}}const pr=ar.table.core,{outbound:br,extractKey:_r}=pr.schema.primaryKey,yr=this.db._options.modifyChunkSize||200,mr=[];let Er=0;const gr=[],Ir=(Ar,kr)=>{const{failures:Or,numFailures:Dr}=kr;Er+=Ar-Dr;for(let Rr of t$1(Or))mr.push(Or[Rr])};return this.clone().primaryKeys().then(Ar=>{const kr=Or=>{const Dr=Math.min(yr,Ar.length-Or);return pr.getMany({trans:or,keys:Ar.slice(Or,Or+Dr),cache:"immutable"}).then(Rr=>{const Fr=[],Nr=[],Hr=br?[]:null,Ur=[];for(let Gr=0;Gr<Dr;++Gr){const jr=Rr[Gr],Jr={value:O$2(jr),primKey:Ar[Or+Gr]};ur.call(Jr,Jr.value,Jr)!==!1&&(Jr.value==null?Ur.push(Ar[Or+Gr]):br||$t(_r(jr),_r(Jr.value))===0?(Nr.push(Jr.value),br&&Hr.push(Ar[Or+Gr])):(Ur.push(Ar[Or+Gr]),Fr.push(Jr.value)))}const Zr=Bt(ar)&&ar.limit===1/0&&(typeof cr!="function"||cr===Wt)&&{index:ar.index,range:ar.range};return Promise.resolve(Fr.length>0&&pr.mutate({trans:or,type:"add",values:Fr}).then(Gr=>{for(let jr in Gr.failures)Ur.splice(parseInt(jr),1);Ir(Fr.length,Gr)})).then(()=>(Nr.length>0||Zr&&typeof cr=="object")&&pr.mutate({trans:or,type:"put",keys:Hr,values:Nr,criteria:Zr,changeSpec:typeof cr!="function"&&cr}).then(Gr=>Ir(Nr.length,Gr))).then(()=>(Ur.length>0||Zr&&cr===Wt)&&pr.mutate({trans:or,type:"delete",keys:Ur,criteria:Zr}).then(Gr=>Ir(Ur.length,Gr))).then(()=>Ar.length>Or+Dr&&kr(Or+yr))})};return kr(0).then(()=>{if(mr.length>0)throw new z$1("Error modifying one or more objects",mr,Er,gr);return Ar.length})})})}delete(){var cr=this._ctx,ar=cr.range;return Bt(cr)&&(cr.isPrimKey&&!kt||ar.type===3)?this._write(or=>{const{primaryKey:ur}=cr.table.core.schema,fr=ar;return cr.table.core.count({trans:or,query:{index:ur,range:fr}}).then(dr=>cr.table.core.mutate({trans:or,type:"deleteRange",range:fr}).then(({failures:pr,lastResult:br,results:_r,numFailures:yr})=>{if(yr)throw new z$1("Could not delete some values",Object.keys(pr).map(mr=>pr[mr]),dr-yr);return dr-yr}))}):this.modify(Wt)}}const Wt=(lr,cr)=>cr.value=null;function Yt(lr,cr){return lr<cr?-1:lr===cr?0:1}function zt(lr,cr){return lr>cr?-1:lr===cr?0:1}function Gt(lr,cr,ar){var or=lr instanceof en?new lr.Collection(lr):lr;return or._ctx.error=ar?new ar(cr):new TypeError(cr),or}function Ht(lr){return new lr.Collection(lr,()=>Zt("")).limit(0)}function Qt(lr,cr,ar,or,ur,fr){for(var dr=Math.min(lr.length,or.length),pr=-1,br=0;br<dr;++br){var _r=cr[br];if(_r!==or[br])return ur(lr[br],ar[br])<0?lr.substr(0,br)+ar[br]+ar.substr(br+1):ur(lr[br],or[br])<0?lr.substr(0,br)+or[br]+ar.substr(br+1):pr>=0?lr.substr(0,pr)+cr[pr]+ar.substr(pr+1):null;ur(lr[br],_r)<0&&(pr=br)}return dr<or.length&&fr==="next"?lr+ar.substr(lr.length):dr<lr.length&&fr==="prev"?lr.substr(0,ar.length):pr<0?null:lr.substr(0,pr)+or[pr]+ar.substr(pr+1)}function Xt(lr,cr,ar,or){var ur,fr,dr,pr,br,_r,yr,mr=ar.length;if(!ar.every(Ar=>typeof Ar=="string"))return Gt(lr,bt);function Er(Ar){ur=function(Or){return Or==="next"?Dr=>Dr.toUpperCase():Dr=>Dr.toLowerCase()}(Ar),fr=function(Or){return Or==="next"?Dr=>Dr.toLowerCase():Dr=>Dr.toUpperCase()}(Ar),dr=Ar==="next"?Yt:zt;var kr=ar.map(function(Or){return{lower:fr(Or),upper:ur(Or)}}).sort(function(Or,Dr){return dr(Or.lower,Dr.lower)});pr=kr.map(function(Or){return Or.upper}),br=kr.map(function(Or){return Or.lower}),_r=Ar,yr=Ar==="next"?"":or}Er("next");var gr=new lr.Collection(lr,()=>Jt(pr[0],br[mr-1]+or));gr._ondirectionchange=function(Ar){Er(Ar)};var Ir=0;return gr._addAlgorithm(function(Ar,kr,Or){var Dr=Ar.key;if(typeof Dr!="string")return!1;var Rr=fr(Dr);if(cr(Rr,br,Ir))return!0;for(var Fr=null,Nr=Ir;Nr<mr;++Nr){var Hr=Qt(Dr,Rr,pr[Nr],br[Nr],dr,_r);Hr===null&&Fr===null?Ir=Nr+1:(Fr===null||dr(Fr,Hr)>0)&&(Fr=Hr)}return kr(Fr!==null?function(){Ar.continue(Fr+yr)}:Or),!1}),gr}function Jt(lr,cr,ar,or){return{type:2,lower:lr,upper:cr,lowerOpen:ar,upperOpen:or}}function Zt(lr){return{type:1,lower:lr,upper:lr}}class en{get Collection(){return this._ctx.table.db.Collection}between(cr,ar,or,ur){or=or!==!1,ur=ur===!0;try{return this._cmp(cr,ar)>0||this._cmp(cr,ar)===0&&(or||ur)&&(!or||!ur)?Ht(this):new this.Collection(this,()=>Jt(cr,ar,!or,!ur))}catch{return Gt(this,gt)}}equals(cr){return cr==null?Gt(this,gt):new this.Collection(this,()=>Zt(cr))}above(cr){return cr==null?Gt(this,gt):new this.Collection(this,()=>Jt(cr,void 0,!0))}aboveOrEqual(cr){return cr==null?Gt(this,gt):new this.Collection(this,()=>Jt(cr,void 0,!1))}below(cr){return cr==null?Gt(this,gt):new this.Collection(this,()=>Jt(void 0,cr,!1,!0))}belowOrEqual(cr){return cr==null?Gt(this,gt):new this.Collection(this,()=>Jt(void 0,cr))}startsWith(cr){return typeof cr!="string"?Gt(this,bt):this.between(cr,cr+mt,!0,!0)}startsWithIgnoreCase(cr){return cr===""?this.startsWith(cr):Xt(this,(ar,or)=>ar.indexOf(or[0])===0,[cr],mt)}equalsIgnoreCase(cr){return Xt(this,(ar,or)=>ar===or[0],[cr],"")}anyOfIgnoreCase(){var cr=B$1.apply(I$2,arguments);return cr.length===0?Ht(this):Xt(this,(ar,or)=>or.indexOf(ar)!==-1,cr,"")}startsWithAnyOfIgnoreCase(){var cr=B$1.apply(I$2,arguments);return cr.length===0?Ht(this):Xt(this,(ar,or)=>or.some(ur=>ar.indexOf(ur)===0),cr,mt)}anyOf(){const cr=B$1.apply(I$2,arguments);let ar=this._cmp;try{cr.sort(ar)}catch{return Gt(this,gt)}if(cr.length===0)return Ht(this);const or=new this.Collection(this,()=>Jt(cr[0],cr[cr.length-1]));or._ondirectionchange=fr=>{ar=fr==="next"?this._ascending:this._descending,cr.sort(ar)};let ur=0;return or._addAlgorithm((fr,dr,pr)=>{const br=fr.key;for(;ar(br,cr[ur])>0;)if(++ur,ur===cr.length)return dr(pr),!1;return ar(br,cr[ur])===0||(dr(()=>{fr.continue(cr[ur])}),!1)}),or}notEqual(cr){return this.inAnyRange([[vt,cr],[cr,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const cr=B$1.apply(I$2,arguments);if(cr.length===0)return new this.Collection(this);try{cr.sort(this._ascending)}catch{return Gt(this,gt)}const ar=cr.reduce((or,ur)=>or?or.concat([[or[or.length-1][1],ur]]):[[vt,ur]],null);return ar.push([cr[cr.length-1],this.db._maxKey]),this.inAnyRange(ar,{includeLowers:!1,includeUppers:!1})}inAnyRange(cr,ar){const or=this._cmp,ur=this._ascending,fr=this._descending,dr=this._min,pr=this._max;if(cr.length===0)return Ht(this);if(!cr.every(Dr=>Dr[0]!==void 0&&Dr[1]!==void 0&&ur(Dr[0],Dr[1])<=0))return Gt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",X$2.InvalidArgument);const br=!ar||ar.includeLowers!==!1,_r=ar&&ar.includeUppers===!0;let yr,mr=ur;function Er(Dr,Rr){return mr(Dr[0],Rr[0])}try{yr=cr.reduce(function(Dr,Rr){let Fr=0,Nr=Dr.length;for(;Fr<Nr;++Fr){const Hr=Dr[Fr];if(or(Rr[0],Hr[1])<0&&or(Rr[1],Hr[0])>0){Hr[0]=dr(Hr[0],Rr[0]),Hr[1]=pr(Hr[1],Rr[1]);break}}return Fr===Nr&&Dr.push(Rr),Dr},[]),yr.sort(Er)}catch{return Gt(this,gt)}let gr=0;const Ir=_r?Dr=>ur(Dr,yr[gr][1])>0:Dr=>ur(Dr,yr[gr][1])>=0,Ar=br?Dr=>fr(Dr,yr[gr][0])>0:Dr=>fr(Dr,yr[gr][0])>=0;let kr=Ir;const Or=new this.Collection(this,()=>Jt(yr[0][0],yr[yr.length-1][1],!br,!_r));return Or._ondirectionchange=Dr=>{Dr==="next"?(kr=Ir,mr=ur):(kr=Ar,mr=fr),yr.sort(Er)},Or._addAlgorithm((Dr,Rr,Fr)=>{for(var Nr=Dr.key;kr(Nr);)if(++gr,gr===yr.length)return Rr(Fr),!1;return!!function(Hr){return!Ir(Hr)&&!Ar(Hr)}(Nr)||(this._cmp(Nr,yr[gr][1])===0||this._cmp(Nr,yr[gr][0])===0||Rr(()=>{mr===ur?Dr.continue(yr[gr][0]):Dr.continue(yr[gr][1])}),!1)}),Or}startsWithAnyOf(){const cr=B$1.apply(I$2,arguments);return cr.every(ar=>typeof ar=="string")?cr.length===0?Ht(this):this.inAnyRange(cr.map(ar=>[ar,ar+mt])):Gt(this,"startsWithAnyOf() only works with strings")}}function tn(lr){return Ye(function(cr){return nn(cr),lr(cr.target.error),!1})}function nn(lr){lr.stopPropagation&&lr.stopPropagation(),lr.preventDefault&&lr.preventDefault()}const rn="storagemutated",sn="x-storagemutated-1",on=Dt(null,rn);class an{_lock(){return m(!Oe.global),++this._reculock,this._reculock!==1||Oe.global||(Oe.lockOwnerFor=this),this}_unlock(){if(m(!Oe.global),--this._reculock==0)for(Oe.global||(Oe.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var cr=this._blockedFuncs.shift();try{at(cr[1],cr[0])}catch{}}return this}_locked(){return this._reculock&&Oe.lockOwnerFor!==this}create(cr){if(!this.mode)return this;const ar=this.db.idbdb,or=this.db._state.dbOpenError;if(m(!this.idbtrans),!cr&&!ar)switch(or&&or.name){case"DatabaseClosedError":throw new X$2.DatabaseClosed(or);case"MissingAPIError":throw new X$2.MissingAPI(or.message,or);default:throw new X$2.OpenFailed(or)}if(!this.active)throw new X$2.TransactionInactive;return m(this._completion._state===null),(cr=this.idbtrans=cr||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):ar.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Ye(ur=>{nn(ur),this._reject(cr.error)}),cr.onabort=Ye(ur=>{nn(ur),this.active&&this._reject(new X$2.Abort(cr.error)),this.active=!1,this.on("abort").fire(ur)}),cr.oncomplete=Ye(()=>{this.active=!1,this._resolve(),"mutatedParts"in cr&&on.storagemutated.fire(cr.mutatedParts)}),this}_promise(cr,ar,or){if(cr==="readwrite"&&this.mode!=="readwrite")return ft(new X$2.ReadOnly("Transaction is readonly"));if(!this.active)return ft(new X$2.TransactionInactive);if(this._locked())return new je((fr,dr)=>{this._blockedFuncs.push([()=>{this._promise(cr,ar,or).then(fr,dr)},Oe])});if(or)return Ze(()=>{var fr=new je((dr,pr)=>{this._lock();const br=ar(dr,pr,this);br&&br.then&&br.then(dr,pr)});return fr.finally(()=>this._unlock()),fr._lib=!0,fr});var ur=new je((fr,dr)=>{var pr=ar(fr,dr,this);pr&&pr.then&&pr.then(fr,dr)});return ur._lib=!0,ur}_root(){return this.parent?this.parent._root():this}waitFor(cr){var ar=this._root();const or=je.resolve(cr);if(ar._waitingFor)ar._waitingFor=ar._waitingFor.then(()=>or);else{ar._waitingFor=or,ar._waitingQueue=[];var ur=ar.idbtrans.objectStore(ar.storeNames[0]);(function dr(){for(++ar._spinCount;ar._waitingQueue.length;)ar._waitingQueue.shift()();ar._waitingFor&&(ur.get(-1/0).onsuccess=dr)})()}var fr=ar._waitingFor;return new je((dr,pr)=>{or.then(br=>ar._waitingQueue.push(Ye(dr.bind(null,br))),br=>ar._waitingQueue.push(Ye(pr.bind(null,br)))).finally(()=>{ar._waitingFor===fr&&(ar._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new X$2.Abort))}table(cr){const ar=this._memoizedTables||(this._memoizedTables={});if(o(ar,cr))return ar[cr];const or=this.schema[cr];if(!or)throw new X$2.NotFound("Table "+cr+" not part of transaction");const ur=new this.db.Table(cr,or,this);return ur.core=this.db.core.table(cr),ar[cr]=ur,ur}}function un(lr,cr,ar,or,ur,fr,dr){return{name:lr,keyPath:cr,unique:ar,multi:or,auto:ur,compound:fr,src:(ar&&!dr?"&":"")+(or?"*":"")+(ur?"++":"")+ln(cr)}}function ln(lr){return typeof lr=="string"?lr:lr?"["+[].join.call(lr,"+")+"]":""}function cn(lr,cr,ar){return{name:lr,primKey:cr,indexes:ar,mappedClass:null,idxByName:g(ar,or=>[or.name,or])}}let hn=lr=>{try{return lr.only([[]]),hn=()=>[[]],[[]]}catch{return hn=()=>mt,mt}};function dn(lr){return lr==null?()=>{}:typeof lr=="string"?function(cr){return cr.split(".").length===1?or=>or[cr]:or=>b$1(or,cr)}(lr):cr=>b$1(cr,lr)}function fn(lr){return[].slice.call(lr)}let pn=0;function yn(lr){return lr==null?":id":typeof lr=="string"?lr:`[${lr.join("+")}]`}function mn(lr,cr,ar){function or(br){if(br.type===3)return null;if(br.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:_r,upper:yr,lowerOpen:mr,upperOpen:Er}=br;return _r===void 0?yr===void 0?null:cr.upperBound(yr,!!Er):yr===void 0?cr.lowerBound(_r,!!mr):cr.bound(_r,yr,!!mr,!!Er)}const{schema:ur,hasGetAll:fr}=function(br,_r){const yr=fn(br.objectStoreNames);return{schema:{name:br.name,tables:yr.map(mr=>_r.objectStore(mr)).map(mr=>{const{keyPath:Er,autoIncrement:gr}=mr,Ir=n$1(Er),Ar=Er==null,kr={},Or={name:mr.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:Ar,compound:Ir,keyPath:Er,autoIncrement:gr,unique:!0,extractKey:dn(Er)},indexes:fn(mr.indexNames).map(Dr=>mr.index(Dr)).map(Dr=>{const{name:Rr,unique:Fr,multiEntry:Nr,keyPath:Hr}=Dr,Ur={name:Rr,compound:n$1(Hr),keyPath:Hr,unique:Fr,multiEntry:Nr,extractKey:dn(Hr)};return kr[yn(Hr)]=Ur,Ur}),getIndexByKeyPath:Dr=>kr[yn(Dr)]};return kr[":id"]=Or.primaryKey,Er!=null&&(kr[yn(Er)]=Or.primaryKey),Or})},hasGetAll:yr.length>0&&"getAll"in _r.objectStore(yr[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(lr,ar),dr=ur.tables.map(br=>function(_r){const yr=_r.name;return{name:yr,schema:_r,mutate:function({trans:mr,type:Er,keys:gr,values:Ir,range:Ar}){return new Promise((kr,Or)=>{kr=Ye(kr);const Dr=mr.objectStore(yr),Rr=Dr.keyPath==null,Fr=Er==="put"||Er==="add";if(!Fr&&Er!=="delete"&&Er!=="deleteRange")throw new Error("Invalid operation type: "+Er);const{length:Nr}=gr||Ir||{length:1};if(gr&&Ir&&gr.length!==Ir.length)throw new Error("Given keys array must have same length as given values array.");if(Nr===0)return kr({numFailures:0,failures:{},results:[],lastResult:void 0});let Hr;const Ur=[],Zr=[];let Gr=0;const jr=Wr=>{++Gr,nn(Wr)};if(Er==="deleteRange"){if(Ar.type===4)return kr({numFailures:Gr,failures:Zr,results:[],lastResult:void 0});Ar.type===3?Ur.push(Hr=Dr.clear()):Ur.push(Hr=Dr.delete(or(Ar)))}else{const[Wr,ni]=Fr?Rr?[Ir,gr]:[Ir,null]:[gr,null];if(Fr)for(let Mr=0;Mr<Nr;++Mr)Ur.push(Hr=ni&&ni[Mr]!==void 0?Dr[Er](Wr[Mr],ni[Mr]):Dr[Er](Wr[Mr])),Hr.onerror=jr;else for(let Mr=0;Mr<Nr;++Mr)Ur.push(Hr=Dr[Er](Wr[Mr])),Hr.onerror=jr}const Jr=Wr=>{const ni=Wr.target.result;Ur.forEach((Mr,di)=>Mr.error!=null&&(Zr[di]=Mr.error)),kr({numFailures:Gr,failures:Zr,results:Er==="delete"?gr:Ur.map(Mr=>Mr.result),lastResult:ni})};Hr.onerror=Wr=>{jr(Wr),Jr(Wr)},Hr.onsuccess=Jr})},getMany:({trans:mr,keys:Er})=>new Promise((gr,Ir)=>{gr=Ye(gr);const Ar=mr.objectStore(yr),kr=Er.length,Or=new Array(kr);let Dr,Rr=0,Fr=0;const Nr=Ur=>{const Zr=Ur.target;Or[Zr._pos]=Zr.result,++Fr===Rr&&gr(Or)},Hr=tn(Ir);for(let Ur=0;Ur<kr;++Ur)Er[Ur]!=null&&(Dr=Ar.get(Er[Ur]),Dr._pos=Ur,Dr.onsuccess=Nr,Dr.onerror=Hr,++Rr);Rr===0&&gr(Or)}),get:({trans:mr,key:Er})=>new Promise((gr,Ir)=>{gr=Ye(gr);const Ar=mr.objectStore(yr).get(Er);Ar.onsuccess=kr=>gr(kr.target.result),Ar.onerror=tn(Ir)}),query:function(mr){return Er=>new Promise((gr,Ir)=>{gr=Ye(gr);const{trans:Ar,values:kr,limit:Or,query:Dr}=Er,Rr=Or===1/0?void 0:Or,{index:Fr,range:Nr}=Dr,Hr=Ar.objectStore(yr),Ur=Fr.isPrimaryKey?Hr:Hr.index(Fr.name),Zr=or(Nr);if(Or===0)return gr({result:[]});if(mr){const Gr=kr?Ur.getAll(Zr,Rr):Ur.getAllKeys(Zr,Rr);Gr.onsuccess=jr=>gr({result:jr.target.result}),Gr.onerror=tn(Ir)}else{let Gr=0;const jr=kr||!("openKeyCursor"in Ur)?Ur.openCursor(Zr):Ur.openKeyCursor(Zr),Jr=[];jr.onsuccess=Wr=>{const ni=jr.result;return ni?(Jr.push(kr?ni.value:ni.primaryKey),++Gr===Or?gr({result:Jr}):void ni.continue()):gr({result:Jr})},jr.onerror=tn(Ir)}})}(fr),openCursor:function({trans:mr,values:Er,query:gr,reverse:Ir,unique:Ar}){return new Promise((kr,Or)=>{kr=Ye(kr);const{index:Dr,range:Rr}=gr,Fr=mr.objectStore(yr),Nr=Dr.isPrimaryKey?Fr:Fr.index(Dr.name),Hr=Ir?Ar?"prevunique":"prev":Ar?"nextunique":"next",Ur=Er||!("openKeyCursor"in Nr)?Nr.openCursor(or(Rr),Hr):Nr.openKeyCursor(or(Rr),Hr);Ur.onerror=tn(Or),Ur.onsuccess=Ye(Zr=>{const Gr=Ur.result;if(!Gr)return void kr(null);Gr.___id=++pn,Gr.done=!1;const jr=Gr.continue.bind(Gr);let Jr=Gr.continuePrimaryKey;Jr&&(Jr=Jr.bind(Gr));const Wr=Gr.advance.bind(Gr),ni=()=>{throw new Error("Cursor not stopped")};Gr.trans=mr,Gr.stop=Gr.continue=Gr.continuePrimaryKey=Gr.advance=()=>{throw new Error("Cursor not started")},Gr.fail=Ye(Or),Gr.next=function(){let Mr=1;return this.start(()=>Mr--?this.continue():this.stop()).then(()=>this)},Gr.start=Mr=>{const di=new Promise((_i,Fi)=>{_i=Ye(_i),Ur.onerror=tn(Fi),Gr.fail=Fi,Gr.stop=si=>{Gr.stop=Gr.continue=Gr.continuePrimaryKey=Gr.advance=ni,_i(si)}}),Ei=()=>{if(Ur.result)try{Mr()}catch(_i){Gr.fail(_i)}else Gr.done=!0,Gr.start=()=>{throw new Error("Cursor behind last entry")},Gr.stop()};return Ur.onsuccess=Ye(_i=>{Ur.onsuccess=Ei,Ei()}),Gr.continue=jr,Gr.continuePrimaryKey=Jr,Gr.advance=Wr,Ei(),di},kr(Gr)},Or)})},count({query:mr,trans:Er}){const{index:gr,range:Ir}=mr;return new Promise((Ar,kr)=>{const Or=Er.objectStore(yr),Dr=gr.isPrimaryKey?Or:Or.index(gr.name),Rr=or(Ir),Fr=Rr?Dr.count(Rr):Dr.count();Fr.onsuccess=Ye(Nr=>Ar(Nr.target.result)),Fr.onerror=tn(kr)})}}}(br)),pr={};return dr.forEach(br=>pr[br.name]=br),{stack:"dbcore",transaction:lr.transaction.bind(lr),table(br){if(!pr[br])throw new Error(`Table '${br}' not found`);return pr[br]},MIN_KEY:-1/0,MAX_KEY:hn(cr),schema:ur}}function vn({_novip:lr},cr){const ar=cr.db,or=function(ur,fr,{IDBKeyRange:dr,indexedDB:pr},br){return{dbcore:function(yr,mr){return mr.reduce((Er,{create:gr})=>({...Er,...gr(Er)}),yr)}(mn(fr,dr,br),ur.dbcore)}}(lr._middlewares,ar,lr._deps,cr);lr.core=or.dbcore,lr.tables.forEach(ur=>{const fr=ur.name;lr.core.schema.tables.some(dr=>dr.name===fr)&&(ur.core=lr.core.table(fr),lr[fr]instanceof lr.Table&&(lr[fr].core=ur.core))})}function gn({_novip:lr},cr,ar,or){ar.forEach(ur=>{const fr=or[ur];cr.forEach(dr=>{const pr=d(dr,ur);(!pr||"value"in pr&&pr.value===void 0)&&(dr===lr.Transaction.prototype||dr instanceof lr.Transaction?l$2(dr,ur,{get(){return this.table(ur)},set(br){u$1(this,ur,{value:br,writable:!0,configurable:!0,enumerable:!0})}}):dr[ur]=new lr.Table(ur,fr))})})}function bn({_novip:lr},cr){cr.forEach(ar=>{for(let or in ar)ar[or]instanceof lr.Table&&delete ar[or]})}function _n(lr,cr){return lr._cfg.version-cr._cfg.version}function wn(lr,cr,ar,or){const ur=lr._dbSchema,fr=lr._createTransaction("readwrite",lr._storeNames,ur);fr.create(ar),fr._completion.catch(or);const dr=fr._reject.bind(fr),pr=Oe.transless||Oe;Ze(()=>{Oe.trans=fr,Oe.transless=pr,cr===0?(t$1(ur).forEach(br=>{kn(ar,br,ur[br].primKey,ur[br].indexes)}),vn(lr,ar),je.follow(()=>lr.on.populate.fire(fr)).catch(dr)):function({_novip:br},_r,yr,mr){const Er=[],gr=br._versions;let Ir=br._dbSchema=Pn(br,br.idbdb,mr),Ar=!1;const kr=gr.filter(Dr=>Dr._cfg.version>=_r);function Or(){return Er.length?je.resolve(Er.shift()(yr.idbtrans)).then(Or):je.resolve()}return kr.forEach(Dr=>{Er.push(()=>{const Rr=Ir,Fr=Dr._cfg.dbschema;Kn(br,Rr,mr),Kn(br,Fr,mr),Ir=br._dbSchema=Fr;const Nr=xn(Rr,Fr);Nr.add.forEach(Ur=>{kn(mr,Ur[0],Ur[1].primKey,Ur[1].indexes)}),Nr.change.forEach(Ur=>{if(Ur.recreate)throw new X$2.Upgrade("Not yet support for changing primary key");{const Zr=mr.objectStore(Ur.name);Ur.add.forEach(Gr=>En(Zr,Gr)),Ur.change.forEach(Gr=>{Zr.deleteIndex(Gr.name),En(Zr,Gr)}),Ur.del.forEach(Gr=>Zr.deleteIndex(Gr))}});const Hr=Dr._cfg.contentUpgrade;if(Hr&&Dr._cfg.version>_r){vn(br,mr),yr._memoizedTables={},Ar=!0;let Ur=w$1(Fr);Nr.del.forEach(Jr=>{Ur[Jr]=Rr[Jr]}),bn(br,[br.Transaction.prototype]),gn(br,[br.Transaction.prototype],t$1(Ur),Ur),yr.schema=Ur;const Zr=T$1(Hr);let Gr;Zr&&et();const jr=je.follow(()=>{if(Gr=Hr(yr),Gr&&Zr){var Jr=tt.bind(null,null);Gr.then(Jr,Jr)}});return Gr&&typeof Gr.then=="function"?je.resolve(Gr):jr.then(()=>Gr)}}),Er.push(Rr=>{(!Ar||!xt)&&function(Fr,Nr){[].slice.call(Nr.db.objectStoreNames).forEach(Hr=>Fr[Hr]==null&&Nr.db.deleteObjectStore(Hr))}(Dr._cfg.dbschema,Rr),bn(br,[br.Transaction.prototype]),gn(br,[br.Transaction.prototype],br._storeNames,br._dbSchema),yr.schema=br._dbSchema})}),Or().then(()=>{var Dr,Rr;Rr=mr,t$1(Dr=Ir).forEach(Fr=>{Rr.db.objectStoreNames.contains(Fr)||kn(Rr,Fr,Dr[Fr].primKey,Dr[Fr].indexes)})})}(lr,cr,fr,ar).catch(dr)})}function xn(lr,cr){const ar={del:[],add:[],change:[]};let or;for(or in lr)cr[or]||ar.del.push(or);for(or in cr){const ur=lr[or],fr=cr[or];if(ur){const dr={name:or,def:fr,recreate:!1,del:[],add:[],change:[]};if(""+(ur.primKey.keyPath||"")!=""+(fr.primKey.keyPath||"")||ur.primKey.auto!==fr.primKey.auto&&!wt)dr.recreate=!0,ar.change.push(dr);else{const pr=ur.idxByName,br=fr.idxByName;let _r;for(_r in pr)br[_r]||dr.del.push(_r);for(_r in br){const yr=pr[_r],mr=br[_r];yr?yr.src!==mr.src&&dr.change.push(mr):dr.add.push(mr)}(dr.del.length>0||dr.add.length>0||dr.change.length>0)&&ar.change.push(dr)}}else ar.add.push([or,fr])}return ar}function kn(lr,cr,ar,or){const ur=lr.db.createObjectStore(cr,ar.keyPath?{keyPath:ar.keyPath,autoIncrement:ar.auto}:{autoIncrement:ar.auto});return or.forEach(fr=>En(ur,fr)),ur}function En(lr,cr){lr.createIndex(cr.name,cr.keyPath,{unique:cr.unique,multiEntry:cr.multi})}function Pn(lr,cr,ar){const or={};return p$1(cr.objectStoreNames,0).forEach(ur=>{const fr=ar.objectStore(ur);let dr=fr.keyPath;const pr=un(ln(dr),dr||"",!1,!1,!!fr.autoIncrement,dr&&typeof dr!="string",!0),br=[];for(let yr=0;yr<fr.indexNames.length;++yr){const mr=fr.index(fr.indexNames[yr]);dr=mr.keyPath;var _r=un(mr.name,dr,!!mr.unique,!!mr.multiEntry,!1,dr&&typeof dr!="string",!1);br.push(_r)}or[ur]=cn(ur,pr,br)}),or}function Kn({_novip:lr},cr,ar){const or=ar.db.objectStoreNames;for(let ur=0;ur<or.length;++ur){const fr=or[ur],dr=ar.objectStore(fr);lr._hasGetAll="getAll"in dr;for(let pr=0;pr<dr.indexNames.length;++pr){const br=dr.indexNames[pr],_r=dr.index(br).keyPath,yr=typeof _r=="string"?_r:"["+p$1(_r).join("+")+"]";if(cr[fr]){const mr=cr[fr].idxByName[yr];mr&&(mr.name=br,delete cr[fr].idxByName[yr],cr[fr].idxByName[br]=mr)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&e.WorkerGlobalScope&&e instanceof e.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(lr._hasGetAll=!1)}class On{_parseStoresSpec(cr,ar){t$1(cr).forEach(or=>{if(cr[or]!==null){var ur=cr[or].split(",").map((dr,pr)=>{const br=(dr=dr.trim()).replace(/([&*]|\+\+)/g,""),_r=/^\[/.test(br)?br.match(/^\[(.*)\]$/)[1].split("+"):br;return un(br,_r||null,/\&/.test(dr),/\*/.test(dr),/\+\+/.test(dr),n$1(_r),pr===0)}),fr=ur.shift();if(fr.multi)throw new X$2.Schema("Primary key cannot be multi-valued");ur.forEach(dr=>{if(dr.auto)throw new X$2.Schema("Only primary key can be marked as autoIncrement (++)");if(!dr.keyPath)throw new X$2.Schema("Index must have a name and cannot be an empty string")}),ar[or]=cn(or,fr,ur)}})}stores(cr){const ar=this.db;this._cfg.storesSource=this._cfg.storesSource?r$1(this._cfg.storesSource,cr):cr;const or=ar._versions,ur={};let fr={};return or.forEach(dr=>{r$1(ur,dr._cfg.storesSource),fr=dr._cfg.dbschema={},dr._parseStoresSpec(ur,fr)}),ar._dbSchema=fr,bn(ar,[ar._allTables,ar,ar.Transaction.prototype]),gn(ar,[ar._allTables,ar,ar.Transaction.prototype,this._cfg.tables],t$1(fr),fr),ar._storeNames=t$1(fr),this}upgrade(cr){return this._cfg.contentUpgrade=ue$1(this._cfg.contentUpgrade||ee$1,cr),this}}function Sn(lr,cr){let ar=lr._dbNamesDB;return ar||(ar=lr._dbNamesDB=new Xn(Pt,{addons:[],indexedDB:lr,IDBKeyRange:cr}),ar.version(1).stores({dbnames:"name"})),ar.table("dbnames")}function An(lr){return lr&&typeof lr.databases=="function"}function Cn(lr){return Ze(function(){return Oe.letThrough=!0,lr()})}function jn(){var lr;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(cr){var ar=function(){return indexedDB.databases().finally(cr)};lr=setInterval(ar,100),ar()}).finally(function(){return clearInterval(lr)}):Promise.resolve()}function Dn(lr){const cr=lr._state,{indexedDB:ar}=lr._deps;if(cr.isBeingOpened||lr.idbdb)return cr.dbReadyPromise.then(()=>cr.dbOpenError?ft(cr.dbOpenError):lr);R$2&&(cr.openCanceller._stackHolder=q$1()),cr.isBeingOpened=!0,cr.dbOpenError=null,cr.openComplete=!1;const or=cr.openCanceller;function ur(){if(cr.openCanceller!==or)throw new X$2.DatabaseClosed("db.open() was cancelled")}let fr=cr.dbReadyResolve,dr=null,pr=!1;const br=()=>new je((_r,yr)=>{if(ur(),!ar)throw new X$2.MissingAPI;const mr=lr.name,Er=cr.autoSchema?ar.open(mr):ar.open(mr,Math.round(10*lr.verno));if(!Er)throw new X$2.MissingAPI;Er.onerror=tn(yr),Er.onblocked=Ye(lr._fireOnBlocked),Er.onupgradeneeded=Ye(gr=>{if(dr=Er.transaction,cr.autoSchema&&!lr._options.allowEmptyDB){Er.onerror=nn,dr.abort(),Er.result.close();const Ar=ar.deleteDatabase(mr);Ar.onsuccess=Ar.onerror=Ye(()=>{yr(new X$2.NoSuchDatabase(`Database ${mr} doesnt exist`))})}else{dr.onerror=tn(yr);var Ir=gr.oldVersion>Math.pow(2,62)?0:gr.oldVersion;pr=Ir<1,lr._novip.idbdb=Er.result,wn(lr,Ir/10,dr,yr)}},yr),Er.onsuccess=Ye(()=>{dr=null;const gr=lr._novip.idbdb=Er.result,Ir=p$1(gr.objectStoreNames);if(Ir.length>0)try{const kr=gr.transaction((Ar=Ir).length===1?Ar[0]:Ar,"readonly");cr.autoSchema?function({_novip:Or},Dr,Rr){Or.verno=Dr.version/10;const Fr=Or._dbSchema=Pn(0,Dr,Rr);Or._storeNames=p$1(Dr.objectStoreNames,0),gn(Or,[Or._allTables],t$1(Fr),Fr)}(lr,gr,kr):(Kn(lr,lr._dbSchema,kr),function(Or,Dr){const Rr=xn(Pn(0,Or.idbdb,Dr),Or._dbSchema);return!(Rr.add.length||Rr.change.some(Fr=>Fr.add.length||Fr.change.length))}(lr,kr)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),vn(lr,kr)}catch{}var Ar;_t.push(lr),gr.onversionchange=Ye(kr=>{cr.vcFired=!0,lr.on("versionchange").fire(kr)}),gr.onclose=Ye(kr=>{lr.on("close").fire(kr)}),pr&&function({indexedDB:kr,IDBKeyRange:Or},Dr){!An(kr)&&Dr!==Pt&&Sn(kr,Or).put({name:Dr}).catch(ee$1)}(lr._deps,mr),_r()},yr)}).catch(_r=>_r&&_r.name==="UnknownError"&&cr.PR1398_maxLoop>0?(cr.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),br()):je.reject(_r));return je.race([or,(typeof navigator>"u"?je.resolve():jn()).then(br)]).then(()=>(ur(),cr.onReadyBeingFired=[],je.resolve(Cn(()=>lr.on.ready.fire(lr.vip))).then(function _r(){if(cr.onReadyBeingFired.length>0){let yr=cr.onReadyBeingFired.reduce(ue$1,ee$1);return cr.onReadyBeingFired=[],je.resolve(Cn(()=>yr(lr.vip))).then(_r)}}))).finally(()=>{cr.onReadyBeingFired=null,cr.isBeingOpened=!1}).then(()=>lr).catch(_r=>{cr.dbOpenError=_r;try{dr&&dr.abort()}catch{}return or===cr.openCanceller&&lr._close(),ft(_r)}).finally(()=>{cr.openComplete=!0,fr()})}function In(lr){var cr=fr=>lr.next(fr),ar=ur(cr),or=ur(fr=>lr.throw(fr));function ur(fr){return dr=>{var pr=fr(dr),br=pr.value;return pr.done?br:br&&typeof br.then=="function"?br.then(ar,or):n$1(br)?Promise.all(br).then(ar,or):ar(br)}}return ur(cr)()}function Bn(lr,cr,ar){var or=arguments.length;if(or<2)throw new X$2.InvalidArgument("Too few arguments");for(var ur=new Array(or-1);--or;)ur[or-1]=arguments[or];return ar=ur.pop(),[lr,k(ur),ar]}function Tn(lr,cr,ar,or,ur){return je.resolve().then(()=>{const fr=Oe.transless||Oe,dr=lr._createTransaction(cr,ar,lr._dbSchema,or),pr={trans:dr,transless:fr};if(or)dr.idbtrans=or.idbtrans;else try{dr.create(),lr._state.PR1398_maxLoop=3}catch(mr){return mr.name===H$1.InvalidState&&lr.isOpen()&&--lr._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),lr._close(),lr.open().then(()=>Tn(lr,cr,ar,null,ur))):ft(mr)}const br=T$1(ur);let _r;br&&et();const yr=je.follow(()=>{if(_r=ur.call(dr,dr),_r)if(br){var mr=tt.bind(null,null);_r.then(mr,mr)}else typeof _r.next=="function"&&typeof _r.throw=="function"&&(_r=In(_r))},pr);return(_r&&typeof _r.then=="function"?je.resolve(_r).then(mr=>dr.active?mr:ft(new X$2.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):yr.then(()=>_r)).then(mr=>(or&&dr._resolve(),dr._completion.then(()=>mr))).catch(mr=>(dr._reject(mr),ft(mr)))})}function Rn(lr,cr,ar){const or=n$1(lr)?lr.slice():[lr];for(let ur=0;ur<ar;++ur)or.push(cr);return or}const Fn={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(lr){return{...lr,table(cr){const ar=lr.table(cr),{schema:or}=ar,ur={},fr=[];function dr(yr,mr,Er){const gr=yn(yr),Ir=ur[gr]=ur[gr]||[],Ar=yr==null?0:typeof yr=="string"?1:yr.length,kr=mr>0,Or={...Er,isVirtual:kr,keyTail:mr,keyLength:Ar,extractKey:dn(yr),unique:!kr&&Er.unique};return Ir.push(Or),Or.isPrimaryKey||fr.push(Or),Ar>1&&dr(Ar===2?yr[0]:yr.slice(0,Ar-1),mr+1,Er),Ir.sort((Dr,Rr)=>Dr.keyTail-Rr.keyTail),Or}const pr=dr(or.primaryKey.keyPath,0,or.primaryKey);ur[":id"]=[pr];for(const yr of or.indexes)dr(yr.keyPath,0,yr);function br(yr){const mr=yr.query.index;return mr.isVirtual?{...yr,query:{index:mr,range:(Er=yr.query.range,gr=mr.keyTail,{type:Er.type===1?2:Er.type,lower:Rn(Er.lower,Er.lowerOpen?lr.MAX_KEY:lr.MIN_KEY,gr),lowerOpen:!0,upper:Rn(Er.upper,Er.upperOpen?lr.MIN_KEY:lr.MAX_KEY,gr),upperOpen:!0})}}:yr;var Er,gr}return{...ar,schema:{...or,primaryKey:pr,indexes:fr,getIndexByKeyPath:function(yr){const mr=ur[yn(yr)];return mr&&mr[0]}},count:yr=>ar.count(br(yr)),query:yr=>ar.query(br(yr)),openCursor(yr){const{keyTail:mr,isVirtual:Er,keyLength:gr}=yr.query.index;return Er?ar.openCursor(br(yr)).then(Ir=>Ir&&function(Ar){return Object.create(Ar,{continue:{value:function(Or){Or!=null?Ar.continue(Rn(Or,yr.reverse?lr.MAX_KEY:lr.MIN_KEY,mr)):yr.unique?Ar.continue(Ar.key.slice(0,gr).concat(yr.reverse?lr.MIN_KEY:lr.MAX_KEY,mr)):Ar.continue()}},continuePrimaryKey:{value(Or,Dr){Ar.continuePrimaryKey(Rn(Or,lr.MAX_KEY,mr),Dr)}},primaryKey:{get:()=>Ar.primaryKey},key:{get(){const Or=Ar.key;return gr===1?Or[0]:Or.slice(0,gr)}},value:{get:()=>Ar.value}})}(Ir)):ar.openCursor(yr)}}}}}};function Mn(lr,cr,ar,or){return ar=ar||{},or=or||"",t$1(lr).forEach(ur=>{if(o(cr,ur)){var fr=lr[ur],dr=cr[ur];if(typeof fr=="object"&&typeof dr=="object"&&fr&&dr){const pr=C$1(fr);pr!==C$1(dr)?ar[or+ur]=cr[ur]:pr==="Object"?Mn(fr,dr,ar,or+ur+"."):fr!==dr&&(ar[or+ur]=cr[ur])}else fr!==dr&&(ar[or+ur]=cr[ur])}else ar[or+ur]=void 0}),t$1(cr).forEach(ur=>{o(lr,ur)||(ar[or+ur]=cr[ur])}),ar}const Nn={stack:"dbcore",name:"HooksMiddleware",level:2,create:lr=>({...lr,table(cr){const ar=lr.table(cr),{primaryKey:or}=ar.schema;return{...ar,mutate(fr){const dr=Oe.trans,{deleting:pr,creating:br,updating:_r}=dr.table(cr).hook;switch(fr.type){case"add":if(br.fire===ee$1)break;return dr._promise("readwrite",()=>yr(fr),!0);case"put":if(br.fire===ee$1&&_r.fire===ee$1)break;return dr._promise("readwrite",()=>yr(fr),!0);case"delete":if(pr.fire===ee$1)break;return dr._promise("readwrite",()=>yr(fr),!0);case"deleteRange":if(pr.fire===ee$1)break;return dr._promise("readwrite",()=>function(Er){return mr(Er.trans,Er.range,1e4)}(fr),!0)}return ar.mutate(fr);function yr(Er){const gr=Oe.trans,Ir=Er.keys||function(Ar,kr){return kr.type==="delete"?kr.keys:kr.keys||kr.values.map(Ar.extractKey)}(or,Er);if(!Ir)throw new Error("Keys missing");return(Er=Er.type==="add"||Er.type==="put"?{...Er,keys:Ir}:{...Er}).type!=="delete"&&(Er.values=[...Er.values]),Er.keys&&(Er.keys=[...Er.keys]),function(Ar,kr,Or){return kr.type==="add"?Promise.resolve([]):Ar.getMany({trans:kr.trans,keys:Or,cache:"immutable"})}(ar,Er,Ir).then(Ar=>{const kr=Ir.map((Or,Dr)=>{const Rr=Ar[Dr],Fr={onerror:null,onsuccess:null};if(Er.type==="delete")pr.fire.call(Fr,Or,Rr,gr);else if(Er.type==="add"||Rr===void 0){const Nr=br.fire.call(Fr,Or,Er.values[Dr],gr);Or==null&&Nr!=null&&(Or=Nr,Er.keys[Dr]=Or,or.outbound||_(Er.values[Dr],or.keyPath,Or))}else{const Nr=Mn(Rr,Er.values[Dr]),Hr=_r.fire.call(Fr,Nr,Or,Rr,gr);if(Hr){const Ur=Er.values[Dr];Object.keys(Hr).forEach(Zr=>{o(Ur,Zr)?Ur[Zr]=Hr[Zr]:_(Ur,Zr,Hr[Zr])})}}return Fr});return ar.mutate(Er).then(({failures:Or,results:Dr,numFailures:Rr,lastResult:Fr})=>{for(let Nr=0;Nr<Ir.length;++Nr){const Hr=Dr?Dr[Nr]:Ir[Nr],Ur=kr[Nr];Hr==null?Ur.onerror&&Ur.onerror(Or[Nr]):Ur.onsuccess&&Ur.onsuccess(Er.type==="put"&&Ar[Nr]?Er.values[Nr]:Hr)}return{failures:Or,results:Dr,numFailures:Rr,lastResult:Fr}}).catch(Or=>(kr.forEach(Dr=>Dr.onerror&&Dr.onerror(Or)),Promise.reject(Or)))})}function mr(Er,gr,Ir){return ar.query({trans:Er,values:!1,query:{index:or,range:gr},limit:Ir}).then(({result:Ar})=>yr({type:"delete",keys:Ar,trans:Er}).then(kr=>kr.numFailures>0?Promise.reject(kr.failures[0]):Ar.length<Ir?{failures:[],numFailures:0,lastResult:void 0}:mr(Er,{...gr,lower:Ar[Ar.length-1],lowerOpen:!0},Ir)))}}}}})};function qn(lr,cr,ar){try{if(!cr||cr.keys.length<lr.length)return null;const or=[];for(let ur=0,fr=0;ur<cr.keys.length&&fr<lr.length;++ur)$t(cr.keys[ur],lr[fr])===0&&(or.push(ar?O$2(cr.values[ur]):cr.values[ur]),++fr);return or.length===lr.length?or:null}catch{return null}}const $n={stack:"dbcore",level:-1,create:lr=>({table:cr=>{const ar=lr.table(cr);return{...ar,getMany:or=>{if(!or.cache)return ar.getMany(or);const ur=qn(or.keys,or.trans._cache,or.cache==="clone");return ur?je.resolve(ur):ar.getMany(or).then(fr=>(or.trans._cache={keys:or.keys,values:or.cache==="clone"?O$2(fr):fr},fr))},mutate:or=>(or.type!=="add"&&(or.trans._cache=null),ar.mutate(or))}}})};function Un(lr){return!("from"in lr)}const Ln=function(lr,cr){if(!this){const ar=new Ln;return lr&&"d"in lr&&r$1(ar,lr),ar}r$1(this,arguments.length?{d:1,from:lr,to:arguments.length>1?cr:lr}:{d:0})};function Vn(lr,cr,ar){const or=$t(cr,ar);if(isNaN(or))return;if(or>0)throw RangeError();if(Un(lr))return r$1(lr,{from:cr,to:ar,d:1});const ur=lr.l,fr=lr.r;if($t(ar,lr.from)<0)return ur?Vn(ur,cr,ar):lr.l={from:cr,to:ar,d:1,l:null,r:null},Gn(lr);if($t(cr,lr.to)>0)return fr?Vn(fr,cr,ar):lr.r={from:cr,to:ar,d:1,l:null,r:null},Gn(lr);$t(cr,lr.from)<0&&(lr.from=cr,lr.l=null,lr.d=fr?fr.d+1:1),$t(ar,lr.to)>0&&(lr.to=ar,lr.r=null,lr.d=lr.l?lr.l.d+1:1);const dr=!lr.r;ur&&!lr.l&&Wn(lr,ur),fr&&dr&&Wn(lr,fr)}function Wn(lr,cr){Un(cr)||function ar(or,{from:ur,to:fr,l:dr,r:pr}){Vn(or,ur,fr),dr&&ar(or,dr),pr&&ar(or,pr)}(lr,cr)}function Yn(lr,cr){const ar=zn(cr);let or=ar.next();if(or.done)return!1;let ur=or.value;const fr=zn(lr);let dr=fr.next(ur.from),pr=dr.value;for(;!or.done&&!dr.done;){if($t(pr.from,ur.to)<=0&&$t(pr.to,ur.from)>=0)return!0;$t(ur.from,pr.from)<0?ur=(or=ar.next(pr.from)).value:pr=(dr=fr.next(ur.from)).value}return!1}function zn(lr){let cr=Un(lr)?null:{s:0,n:lr};return{next(ar){const or=arguments.length>0;for(;cr;)switch(cr.s){case 0:if(cr.s=1,or)for(;cr.n.l&&$t(ar,cr.n.from)<0;)cr={up:cr,n:cr.n.l,s:1};else for(;cr.n.l;)cr={up:cr,n:cr.n.l,s:1};case 1:if(cr.s=2,!or||$t(ar,cr.n.to)<=0)return{value:cr.n,done:!1};case 2:if(cr.n.r){cr.s=3,cr={up:cr,n:cr.n.r,s:0};continue}case 3:cr=cr.up}return{done:!0}}}}function Gn(lr){var cr,ar;const or=(((cr=lr.r)===null||cr===void 0?void 0:cr.d)||0)-(((ar=lr.l)===null||ar===void 0?void 0:ar.d)||0),ur=or>1?"r":or<-1?"l":"";if(ur){const fr=ur==="r"?"l":"r",dr={...lr},pr=lr[ur];lr.from=pr.from,lr.to=pr.to,lr[ur]=pr[ur],dr[ur]=pr[fr],lr[fr]=dr,dr.d=Hn(dr)}lr.d=Hn(lr)}function Hn({r:lr,l:cr}){return(lr?cr?Math.max(lr.d,cr.d):lr.d:cr?cr.d:0)+1}a$1(Ln.prototype,{add(lr){return Wn(this,lr),this},addKey(lr){return Vn(this,lr,lr),this},addKeys(lr){return lr.forEach(cr=>Vn(this,cr,cr)),this},[j$1](){return zn(this)}});const Qn={stack:"dbcore",level:0,create:lr=>{const cr=lr.schema.name,ar=new Ln(lr.MIN_KEY,lr.MAX_KEY);return{...lr,table:or=>{const ur=lr.table(or),{schema:fr}=ur,{primaryKey:dr}=fr,{extractKey:pr,outbound:br}=dr,_r={...ur,mutate:Er=>{const gr=Er.trans,Ir=gr.mutatedParts||(gr.mutatedParts={}),Ar=Hr=>{const Ur=`idb://${cr}/${or}/${Hr}`;return Ir[Ur]||(Ir[Ur]=new Ln)},kr=Ar(""),Or=Ar(":dels"),{type:Dr}=Er;let[Rr,Fr]=Er.type==="deleteRange"?[Er.range]:Er.type==="delete"?[Er.keys]:Er.values.length<50?[[],Er.values]:[];const Nr=Er.trans._cache;return ur.mutate(Er).then(Hr=>{if(n$1(Rr)){Dr!=="delete"&&(Rr=Hr.results),kr.addKeys(Rr);const Ur=qn(Rr,Nr);Ur||Dr==="add"||Or.addKeys(Rr),(Ur||Fr)&&function(Zr,Gr,jr,Jr){function Wr(ni){const Mr=Zr(ni.name||"");function di(_i){return _i!=null?ni.extractKey(_i):null}const Ei=_i=>ni.multiEntry&&n$1(_i)?_i.forEach(Fi=>Mr.addKey(Fi)):Mr.addKey(_i);(jr||Jr).forEach((_i,Fi)=>{const si=jr&&di(jr[Fi]),ci=Jr&&di(Jr[Fi]);$t(si,ci)!==0&&(si!=null&&Ei(si),ci!=null&&Ei(ci))})}Gr.indexes.forEach(Wr)}(Ar,fr,Ur,Fr)}else if(Rr){const Ur={from:Rr.lower,to:Rr.upper};Or.add(Ur),kr.add(Ur)}else kr.add(ar),Or.add(ar),fr.indexes.forEach(Ur=>Ar(Ur.name).add(ar));return Hr})}},yr=({query:{index:Er,range:gr}})=>{var Ir,Ar;return[Er,new Ln((Ir=gr.lower)!==null&&Ir!==void 0?Ir:lr.MIN_KEY,(Ar=gr.upper)!==null&&Ar!==void 0?Ar:lr.MAX_KEY)]},mr={get:Er=>[dr,new Ln(Er.key)],getMany:Er=>[dr,new Ln().addKeys(Er.keys)],count:yr,query:yr,openCursor:yr};return t$1(mr).forEach(Er=>{_r[Er]=function(gr){const{subscr:Ir}=Oe;if(Ir){const Ar=Fr=>{const Nr=`idb://${cr}/${or}/${Fr}`;return Ir[Nr]||(Ir[Nr]=new Ln)},kr=Ar(""),Or=Ar(":dels"),[Dr,Rr]=mr[Er](gr);if(Ar(Dr.name||"").add(Rr),!Dr.isPrimaryKey){if(Er!=="count"){const Fr=Er==="query"&&br&&gr.values&&ur.query({...gr,values:!1});return ur[Er].apply(this,arguments).then(Nr=>{if(Er==="query"){if(br&&gr.values)return Fr.then(({result:Ur})=>(kr.addKeys(Ur),Nr));const Hr=gr.values?Nr.result.map(pr):Nr.result;gr.values?kr.addKeys(Hr):Or.addKeys(Hr)}else if(Er==="openCursor"){const Hr=Nr,Ur=gr.values;return Hr&&Object.create(Hr,{key:{get:()=>(Or.addKey(Hr.primaryKey),Hr.key)},primaryKey:{get(){const Zr=Hr.primaryKey;return Or.addKey(Zr),Zr}},value:{get:()=>(Ur&&kr.addKey(Hr.primaryKey),Hr.value)}})}return Nr})}Or.add(ar)}}return ur[Er].apply(this,arguments)}}),_r}}}};class Xn{constructor(cr,ar){this._middlewares={},this.verno=0;const or=Xn.dependencies;this._options=ar={addons:Xn.addons,autoOpen:!0,indexedDB:or.indexedDB,IDBKeyRange:or.IDBKeyRange,...ar},this._deps={indexedDB:ar.indexedDB,IDBKeyRange:ar.IDBKeyRange};const{addons:ur}=ar;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const fr={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ee$1,dbReadyPromise:null,cancelOpen:ee$1,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var dr;fr.dbReadyPromise=new je(pr=>{fr.dbReadyResolve=pr}),fr.openCanceller=new je((pr,br)=>{fr.cancelOpen=br}),this._state=fr,this.name=cr,this.on=Dt(this,"populate","blocked","versionchange","close",{ready:[ue$1,ee$1]}),this.on.ready.subscribe=y$1(this.on.ready.subscribe,pr=>(br,_r)=>{Xn.vip(()=>{const yr=this._state;if(yr.openComplete)yr.dbOpenError||je.resolve().then(br),_r&&pr(br);else if(yr.onReadyBeingFired)yr.onReadyBeingFired.push(br),_r&&pr(br);else{pr(br);const mr=this;_r||pr(function Er(){mr.on.ready.unsubscribe(br),mr.on.ready.unsubscribe(Er)})}})}),this.Collection=(dr=this,It(Vt.prototype,function(pr,br){this.db=dr;let _r=At,yr=null;if(br)try{_r=br()}catch(Ir){yr=Ir}const mr=pr._ctx,Er=mr.table,gr=Er.hook.reading.fire;this._ctx={table:Er,index:mr.index,isPrimKey:!mr.index||Er.schema.primKey.keyPath&&mr.index===Er.schema.primKey.name,range:_r,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:yr,or:mr.or,valueMapper:gr!==te$1?gr:null}})),this.Table=function(pr){return It(jt.prototype,function(br,_r,yr){this.db=pr,this._tx=yr,this.name=br,this.schema=_r,this.hook=pr._allTables[br]?pr._allTables[br].hook:Dt(null,{creating:[se$1,ee$1],reading:[ne,te$1],updating:[oe$1,ee$1],deleting:[ie$1,ee$1]})})}(this),this.Transaction=function(pr){return It(an.prototype,function(br,_r,yr,mr,Er){this.db=pr,this.mode=br,this.storeNames=_r,this.schema=yr,this.chromeTransactionDurability=mr,this.idbtrans=null,this.on=Dt(this,"complete","error","abort"),this.parent=Er||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new je((gr,Ir)=>{this._resolve=gr,this._reject=Ir}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},gr=>{var Ir=this.active;return this.active=!1,this.on.error.fire(gr),this.parent?this.parent._reject(gr):Ir&&this.idbtrans&&this.idbtrans.abort(),ft(gr)})})}(this),this.Version=function(pr){return It(On.prototype,function(br){this.db=pr,this._cfg={version:br,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(pr){return It(en.prototype,function(br,_r,yr){this.db=pr,this._ctx={table:br,index:_r===":id"?null:_r,or:yr};const mr=pr._deps.indexedDB;if(!mr)throw new X$2.MissingAPI;this._cmp=this._ascending=mr.cmp.bind(mr),this._descending=(Er,gr)=>mr.cmp(gr,Er),this._max=(Er,gr)=>mr.cmp(Er,gr)>0?Er:gr,this._min=(Er,gr)=>mr.cmp(Er,gr)<0?Er:gr,this._IDBKeyRange=pr._deps.IDBKeyRange})}(this),this.on("versionchange",pr=>{pr.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",pr=>{!pr.newVersion||pr.newVersion<pr.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${pr.oldVersion/10}`)}),this._maxKey=hn(ar.IDBKeyRange),this._createTransaction=(pr,br,_r,yr)=>new this.Transaction(pr,br,_r,this._options.chromeTransactionDurability,yr),this._fireOnBlocked=pr=>{this.on("blocked").fire(pr),_t.filter(br=>br.name===this.name&&br!==this&&!br._state.vcFired).map(br=>br.on("versionchange").fire(pr))},this.use(Fn),this.use(Nn),this.use(Qn),this.use($n),this.vip=Object.create(this,{_vip:{value:!0}}),ur.forEach(pr=>pr(this))}version(cr){if(isNaN(cr)||cr<.1)throw new X$2.Type("Given version is not a positive number");if(cr=Math.round(10*cr)/10,this.idbdb||this._state.isBeingOpened)throw new X$2.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,cr);const ar=this._versions;var or=ar.filter(ur=>ur._cfg.version===cr)[0];return or||(or=new this.Version(cr),ar.push(or),ar.sort(_n),or.stores({}),this._state.autoSchema=!1,or)}_whenReady(cr){return this.idbdb&&(this._state.openComplete||Oe.letThrough||this._vip)?cr():new je((ar,or)=>{if(this._state.openComplete)return or(new X$2.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void or(new X$2.DatabaseClosed);this.open().catch(ee$1)}this._state.dbReadyPromise.then(ar,or)}).then(cr)}use({stack:cr,create:ar,level:or,name:ur}){ur&&this.unuse({stack:cr,name:ur});const fr=this._middlewares[cr]||(this._middlewares[cr]=[]);return fr.push({stack:cr,create:ar,level:or??10,name:ur}),fr.sort((dr,pr)=>dr.level-pr.level),this}unuse({stack:cr,name:ar,create:or}){return cr&&this._middlewares[cr]&&(this._middlewares[cr]=this._middlewares[cr].filter(ur=>or?ur.create!==or:!!ar&&ur.name!==ar)),this}open(){return Dn(this)}_close(){const cr=this._state,ar=_t.indexOf(this);if(ar>=0&&_t.splice(ar,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}cr.dbReadyPromise=new je(or=>{cr.dbReadyResolve=or}),cr.openCanceller=new je((or,ur)=>{cr.cancelOpen=ur})}close(){this._close();const cr=this._state;this._options.autoOpen=!1,cr.dbOpenError=new X$2.DatabaseClosed,cr.isBeingOpened&&cr.cancelOpen(cr.dbOpenError)}delete(){const cr=arguments.length>0,ar=this._state;return new je((or,ur)=>{const fr=()=>{this.close();var dr=this._deps.indexedDB.deleteDatabase(this.name);dr.onsuccess=Ye(()=>{(function({indexedDB:pr,IDBKeyRange:br},_r){!An(pr)&&_r!==Pt&&Sn(pr,br).delete(_r).catch(ee$1)})(this._deps,this.name),or()}),dr.onerror=tn(ur),dr.onblocked=this._fireOnBlocked};if(cr)throw new X$2.InvalidArgument("Arguments not allowed in db.delete()");ar.isBeingOpened?ar.dbReadyPromise.then(fr):fr()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const cr=this._state.dbOpenError;return cr&&cr.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return t$1(this._allTables).map(cr=>this._allTables[cr])}transaction(){const cr=Bn.apply(this,arguments);return this._transaction.apply(this,cr)}_transaction(cr,ar,or){let ur=Oe.trans;ur&&ur.db===this&&cr.indexOf("!")===-1||(ur=null);const fr=cr.indexOf("?")!==-1;let dr,pr;cr=cr.replace("!","").replace("?","");try{if(pr=ar.map(_r=>{var yr=_r instanceof this.Table?_r.name:_r;if(typeof yr!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return yr}),cr=="r"||cr===Kt)dr=Kt;else{if(cr!="rw"&&cr!=Ot)throw new X$2.InvalidArgument("Invalid transaction mode: "+cr);dr=Ot}if(ur){if(ur.mode===Kt&&dr===Ot){if(!fr)throw new X$2.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");ur=null}ur&&pr.forEach(_r=>{if(ur&&ur.storeNames.indexOf(_r)===-1){if(!fr)throw new X$2.SubTransaction("Table "+_r+" not included in parent transaction.");ur=null}}),fr&&ur&&!ur.active&&(ur=null)}}catch(_r){return ur?ur._promise(null,(yr,mr)=>{mr(_r)}):ft(_r)}const br=Tn.bind(null,this,dr,pr,ur,or);return ur?ur._promise(dr,br,"lock"):Oe.trans?at(Oe.transless,()=>this._whenReady(br)):this._whenReady(br)}table(cr){if(!o(this._allTables,cr))throw new X$2.InvalidTable(`Table ${cr} does not exist`);return this._allTables[cr]}}const Jn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class Zn{constructor(cr){this._subscribe=cr}subscribe(cr,ar,or){return this._subscribe(cr&&typeof cr!="function"?cr:{next:cr,error:ar,complete:or})}[Jn](){return this}}function er(lr,cr){return t$1(cr).forEach(ar=>{Wn(lr[ar]||(lr[ar]=new Ln),cr[ar])}),lr}function tr(lr){let cr,ar=!1;const or=new Zn(ur=>{const fr=T$1(lr);let dr=!1,pr={},br={};const _r={get closed(){return dr},unsubscribe:()=>{dr=!0,on.storagemutated.unsubscribe(gr)}};ur.start&&ur.start(_r);let yr=!1,mr=!1;function Er(){return t$1(br).some(Ar=>pr[Ar]&&Yn(pr[Ar],br[Ar]))}const gr=Ar=>{er(pr,Ar),Er()&&Ir()},Ir=()=>{if(yr||dr)return;pr={};const Ar={},kr=function(Or){fr&&et();const Dr=()=>Ze(lr,{subscr:Or,trans:null}),Rr=Oe.trans?at(Oe.transless,Dr):Dr();return fr&&Rr.then(tt,tt),Rr}(Ar);mr||(on(rn,gr),mr=!0),yr=!0,Promise.resolve(kr).then(Or=>{ar=!0,cr=Or,yr=!1,dr||(Er()?Ir():(pr={},br=Ar,ur.next&&ur.next(Or)))},Or=>{yr=!1,ar=!1,ur.error&&ur.error(Or),_r.unsubscribe()})};return Ir(),_r});return or.hasValue=()=>ar,or.getValue=()=>cr,or}let nr;try{nr={indexedDB:e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB,IDBKeyRange:e.IDBKeyRange||e.webkitIDBKeyRange}}catch{nr={indexedDB:null,IDBKeyRange:null}}const rr=Xn;function sr(lr){let cr=ir;try{ir=!0,on.storagemutated.fire(lr)}finally{ir=cr}}a$1(rr,{...Z$1,delete:lr=>new rr(lr,{addons:[]}).delete(),exists:lr=>new rr(lr,{addons:[]}).open().then(cr=>(cr.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(lr){try{return function({indexedDB:cr,IDBKeyRange:ar}){return An(cr)?Promise.resolve(cr.databases()).then(or=>or.map(ur=>ur.name).filter(ur=>ur!==Pt)):Sn(cr,ar).toCollection().primaryKeys()}(rr.dependencies).then(lr)}catch{return ft(new X$2.MissingAPI)}},defineClass:()=>function(lr){r$1(this,lr)},ignoreTransaction:lr=>Oe.trans?at(Oe.transless,lr):lr(),vip:Cn,async:function(lr){return function(){try{var cr=In(lr.apply(this,arguments));return cr&&typeof cr.then=="function"?cr:je.resolve(cr)}catch(ar){return ft(ar)}}},spawn:function(lr,cr,ar){try{var or=In(lr.apply(ar,cr||[]));return or&&typeof or.then=="function"?or:je.resolve(or)}catch(ur){return ft(ur)}},currentTransaction:{get:()=>Oe.trans||null},waitFor:function(lr,cr){const ar=je.resolve(typeof lr=="function"?rr.ignoreTransaction(lr):lr).timeout(cr||6e4);return Oe.trans?Oe.trans.waitFor(ar):ar},Promise:je,debug:{get:()=>R$2,set:lr=>{F$2(lr,lr==="dexie"?()=>!0:Et)}},derive:c,extend:r$1,props:a$1,override:y$1,Events:Dt,on,liveQuery:tr,extendObservabilitySet:er,getByKeyPath:b$1,setByKeyPath:_,delByKeyPath:function(lr,cr){typeof cr=="string"?_(lr,cr,void 0):"length"in cr&&[].map.call(cr,function(ar){_(lr,ar,void 0)})},shallowClone:w$1,deepClone:O$2,getObjectDiff:Mn,cmp:$t,asap:v$1,minKey:vt,addons:[],connections:_t,errnames:H$1,dependencies:nr,semVer:yt,version:yt.split(".").map(lr=>parseInt(lr)).reduce((lr,cr,ar)=>lr+cr/Math.pow(10,2*ar))}),rr.maxKey=hn(rr.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(on(rn,lr=>{if(!ir){let cr;wt?(cr=document.createEvent("CustomEvent"),cr.initCustomEvent(sn,!0,!0,lr)):cr=new CustomEvent(sn,{detail:lr}),ir=!0,dispatchEvent(cr),ir=!1}}),addEventListener(sn,({detail:lr})=>{ir||sr(lr)}));let ir=!1;if(typeof BroadcastChannel<"u"){const lr=new BroadcastChannel(sn);typeof lr.unref=="function"&&lr.unref(),on(rn,cr=>{ir||lr.postMessage(cr)}),lr.onmessage=cr=>{cr.data&&sr(cr.data)}}else if(typeof self<"u"&&typeof navigator<"u"){on(rn,cr=>{try{ir||(typeof localStorage<"u"&&localStorage.setItem(sn,JSON.stringify({trig:Math.random(),changedParts:cr})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(ar=>ar.postMessage({type:sn,changedParts:cr})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",cr=>{if(cr.key===sn){const ar=JSON.parse(cr.newValue);ar&&sr(ar.changedParts)}});const lr=self.document&&navigator.serviceWorker;lr&&lr.addEventListener("message",function({data:cr}){cr&&cr.type===sn&&sr(cr.changedParts)})}je.rejectionMapper=function(lr,cr){if(!lr||lr instanceof W$2||lr instanceof TypeError||lr instanceof SyntaxError||!lr.name||!J$2[lr.name])return lr;var ar=new J$2[lr.name](cr||lr.message,lr);return"stack"in lr&&l$2(ar,"stack",{get:function(){return this.inner.stack}}),ar},F$2(R$2,Et);var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$1(lr){return lr&&lr.__esModule&&Object.prototype.hasOwnProperty.call(lr,"default")?lr.default:lr}function getAugmentedNamespace(lr){if(lr.__esModule)return lr;var cr=lr.default;if(typeof cr=="function"){var ar=function or(){return this instanceof or?Reflect.construct(cr,arguments,this.constructor):cr.apply(this,arguments)};ar.prototype=cr.prototype}else ar={};return Object.defineProperty(ar,"__esModule",{value:!0}),Object.keys(lr).forEach(function(or){var ur=Object.getOwnPropertyDescriptor(lr,or);Object.defineProperty(ar,or,ur.get?ur:{enumerable:!0,get:function(){return lr[or]}})}),ar}var cryptoJs={exports:{}};function commonjsRequire(lr){throw new Error('Could not dynamically require "'+lr+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var core={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredCore;function requireCore(){return hasRequiredCore||(hasRequiredCore=1,function(lr,cr){(function(ar,or){lr.exports=or()})(commonjsGlobal$1,function(){var ar=ar||function(or,ur){var fr;if(typeof window<"u"&&window.crypto&&(fr=window.crypto),typeof self<"u"&&self.crypto&&(fr=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(fr=globalThis.crypto),!fr&&typeof window<"u"&&window.msCrypto&&(fr=window.msCrypto),!fr&&typeof commonjsGlobal$1<"u"&&commonjsGlobal$1.crypto&&(fr=commonjsGlobal$1.crypto),!fr&&typeof commonjsRequire=="function")try{fr=require$$0}catch{}var dr=function(){if(fr){if(typeof fr.getRandomValues=="function")try{return fr.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof fr.randomBytes=="function")try{return fr.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},pr=Object.create||function(){function Dr(){}return function(Rr){var Fr;return Dr.prototype=Rr,Fr=new Dr,Dr.prototype=null,Fr}}(),br={},_r=br.lib={},yr=_r.Base=function(){return{extend:function(Dr){var Rr=pr(this);return Dr&&Rr.mixIn(Dr),(!Rr.hasOwnProperty("init")||this.init===Rr.init)&&(Rr.init=function(){Rr.$super.init.apply(this,arguments)}),Rr.init.prototype=Rr,Rr.$super=this,Rr},create:function(){var Dr=this.extend();return Dr.init.apply(Dr,arguments),Dr},init:function(){},mixIn:function(Dr){for(var Rr in Dr)Dr.hasOwnProperty(Rr)&&(this[Rr]=Dr[Rr]);Dr.hasOwnProperty("toString")&&(this.toString=Dr.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),mr=_r.WordArray=yr.extend({init:function(Dr,Rr){Dr=this.words=Dr||[],Rr!=ur?this.sigBytes=Rr:this.sigBytes=Dr.length*4},toString:function(Dr){return(Dr||gr).stringify(this)},concat:function(Dr){var Rr=this.words,Fr=Dr.words,Nr=this.sigBytes,Hr=Dr.sigBytes;if(this.clamp(),Nr%4)for(var Ur=0;Ur<Hr;Ur++){var Zr=Fr[Ur>>>2]>>>24-Ur%4*8&255;Rr[Nr+Ur>>>2]|=Zr<<24-(Nr+Ur)%4*8}else for(var Gr=0;Gr<Hr;Gr+=4)Rr[Nr+Gr>>>2]=Fr[Gr>>>2];return this.sigBytes+=Hr,this},clamp:function(){var Dr=this.words,Rr=this.sigBytes;Dr[Rr>>>2]&=4294967295<<32-Rr%4*8,Dr.length=or.ceil(Rr/4)},clone:function(){var Dr=yr.clone.call(this);return Dr.words=this.words.slice(0),Dr},random:function(Dr){for(var Rr=[],Fr=0;Fr<Dr;Fr+=4)Rr.push(dr());return new mr.init(Rr,Dr)}}),Er=br.enc={},gr=Er.Hex={stringify:function(Dr){for(var Rr=Dr.words,Fr=Dr.sigBytes,Nr=[],Hr=0;Hr<Fr;Hr++){var Ur=Rr[Hr>>>2]>>>24-Hr%4*8&255;Nr.push((Ur>>>4).toString(16)),Nr.push((Ur&15).toString(16))}return Nr.join("")},parse:function(Dr){for(var Rr=Dr.length,Fr=[],Nr=0;Nr<Rr;Nr+=2)Fr[Nr>>>3]|=parseInt(Dr.substr(Nr,2),16)<<24-Nr%8*4;return new mr.init(Fr,Rr/2)}},Ir=Er.Latin1={stringify:function(Dr){for(var Rr=Dr.words,Fr=Dr.sigBytes,Nr=[],Hr=0;Hr<Fr;Hr++){var Ur=Rr[Hr>>>2]>>>24-Hr%4*8&255;Nr.push(String.fromCharCode(Ur))}return Nr.join("")},parse:function(Dr){for(var Rr=Dr.length,Fr=[],Nr=0;Nr<Rr;Nr++)Fr[Nr>>>2]|=(Dr.charCodeAt(Nr)&255)<<24-Nr%4*8;return new mr.init(Fr,Rr)}},Ar=Er.Utf8={stringify:function(Dr){try{return decodeURIComponent(escape(Ir.stringify(Dr)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(Dr){return Ir.parse(unescape(encodeURIComponent(Dr)))}},kr=_r.BufferedBlockAlgorithm=yr.extend({reset:function(){this._data=new mr.init,this._nDataBytes=0},_append:function(Dr){typeof Dr=="string"&&(Dr=Ar.parse(Dr)),this._data.concat(Dr),this._nDataBytes+=Dr.sigBytes},_process:function(Dr){var Rr,Fr=this._data,Nr=Fr.words,Hr=Fr.sigBytes,Ur=this.blockSize,Zr=Ur*4,Gr=Hr/Zr;Dr?Gr=or.ceil(Gr):Gr=or.max((Gr|0)-this._minBufferSize,0);var jr=Gr*Ur,Jr=or.min(jr*4,Hr);if(jr){for(var Wr=0;Wr<jr;Wr+=Ur)this._doProcessBlock(Nr,Wr);Rr=Nr.splice(0,jr),Fr.sigBytes-=Jr}return new mr.init(Rr,Jr)},clone:function(){var Dr=yr.clone.call(this);return Dr._data=this._data.clone(),Dr},_minBufferSize:0});_r.Hasher=kr.extend({cfg:yr.extend(),init:function(Dr){this.cfg=this.cfg.extend(Dr),this.reset()},reset:function(){kr.reset.call(this),this._doReset()},update:function(Dr){return this._append(Dr),this._process(),this},finalize:function(Dr){Dr&&this._append(Dr);var Rr=this._doFinalize();return Rr},blockSize:16,_createHelper:function(Dr){return function(Rr,Fr){return new Dr.init(Fr).finalize(Rr)}},_createHmacHelper:function(Dr){return function(Rr,Fr){return new Or.HMAC.init(Dr,Fr).finalize(Rr)}}});var Or=br.algo={};return br}(Math);return ar})}(core)),core.exports}var x64Core={exports:{}},hasRequiredX64Core;function requireX64Core(){return hasRequiredX64Core||(hasRequiredX64Core=1,function(lr,cr){(function(ar,or){lr.exports=or(requireCore())})(commonjsGlobal$1,function(ar){return function(or){var ur=ar,fr=ur.lib,dr=fr.Base,pr=fr.WordArray,br=ur.x64={};br.Word=dr.extend({init:function(_r,yr){this.high=_r,this.low=yr}}),br.WordArray=dr.extend({init:function(_r,yr){_r=this.words=_r||[],yr!=or?this.sigBytes=yr:this.sigBytes=_r.length*8},toX32:function(){for(var _r=this.words,yr=_r.length,mr=[],Er=0;Er<yr;Er++){var gr=_r[Er];mr.push(gr.high),mr.push(gr.low)}return pr.create(mr,this.sigBytes)},clone:function(){for(var _r=dr.clone.call(this),yr=_r.words=this.words.slice(0),mr=yr.length,Er=0;Er<mr;Er++)yr[Er]=yr[Er].clone();return _r}})}(),ar})}(x64Core)),x64Core.exports}var libTypedarrays={exports:{}},hasRequiredLibTypedarrays;function requireLibTypedarrays(){return hasRequiredLibTypedarrays||(hasRequiredLibTypedarrays=1,function(lr,cr){(function(ar,or){lr.exports=or(requireCore())})(commonjsGlobal$1,function(ar){return function(){if(typeof ArrayBuffer=="function"){var or=ar,ur=or.lib,fr=ur.WordArray,dr=fr.init,pr=fr.init=function(br){if(br instanceof ArrayBuffer&&(br=new Uint8Array(br)),(br instanceof Int8Array||typeof Uint8ClampedArray<"u"&&br instanceof Uint8ClampedArray||br instanceof Int16Array||br instanceof Uint16Array||br instanceof Int32Array||br instanceof Uint32Array||br instanceof Float32Array||br instanceof Float64Array)&&(br=new Uint8Array(br.buffer,br.byteOffset,br.byteLength)),br instanceof Uint8Array){for(var _r=br.byteLength,yr=[],mr=0;mr<_r;mr++)yr[mr>>>2]|=br[mr]<<24-mr%4*8;dr.call(this,yr,_r)}else dr.apply(this,arguments)};pr.prototype=fr}}(),ar.lib.WordArray})}(libTypedarrays)),libTypedarrays.exports}var encUtf16={exports:{}},hasRequiredEncUtf16;function requireEncUtf16(){return hasRequiredEncUtf16||(hasRequiredEncUtf16=1,function(lr,cr){(function(ar,or){lr.exports=or(requireCore())})(commonjsGlobal$1,function(ar){return function(){var or=ar,ur=or.lib,fr=ur.WordArray,dr=or.enc;dr.Utf16=dr.Utf16BE={stringify:function(br){for(var _r=br.words,yr=br.sigBytes,mr=[],Er=0;Er<yr;Er+=2){var gr=_r[Er>>>2]>>>16-Er%4*8&65535;mr.push(String.fromCharCode(gr))}return mr.join("")},parse:function(br){for(var _r=br.length,yr=[],mr=0;mr<_r;mr++)yr[mr>>>1]|=br.charCodeAt(mr)<<16-mr%2*16;return fr.create(yr,_r*2)}},dr.Utf16LE={stringify:function(br){for(var _r=br.words,yr=br.sigBytes,mr=[],Er=0;Er<yr;Er+=2){var gr=pr(_r[Er>>>2]>>>16-Er%4*8&65535);mr.push(String.fromCharCode(gr))}return mr.join("")},parse:function(br){for(var _r=br.length,yr=[],mr=0;mr<_r;mr++)yr[mr>>>1]|=pr(br.charCodeAt(mr)<<16-mr%2*16);return fr.create(yr,_r*2)}};function pr(br){return br<<8&4278255360|br>>>8&16711935}}(),ar.enc.Utf16})}(encUtf16)),encUtf16.exports}var encBase64={exports:{}},hasRequiredEncBase64;function requireEncBase64(){return hasRequiredEncBase64||(hasRequiredEncBase64=1,function(lr,cr){(function(ar,or){lr.exports=or(requireCore())})(commonjsGlobal$1,function(ar){return function(){var or=ar,ur=or.lib,fr=ur.WordArray,dr=or.enc;dr.Base64={stringify:function(br){var _r=br.words,yr=br.sigBytes,mr=this._map;br.clamp();for(var Er=[],gr=0;gr<yr;gr+=3)for(var Ir=_r[gr>>>2]>>>24-gr%4*8&255,Ar=_r[gr+1>>>2]>>>24-(gr+1)%4*8&255,kr=_r[gr+2>>>2]>>>24-(gr+2)%4*8&255,Or=Ir<<16|Ar<<8|kr,Dr=0;Dr<4&&gr+Dr*.75<yr;Dr++)Er.push(mr.charAt(Or>>>6*(3-Dr)&63));var Rr=mr.charAt(64);if(Rr)for(;Er.length%4;)Er.push(Rr);return Er.join("")},parse:function(br){var _r=br.length,yr=this._map,mr=this._reverseMap;if(!mr){mr=this._reverseMap=[];for(var Er=0;Er<yr.length;Er++)mr[yr.charCodeAt(Er)]=Er}var gr=yr.charAt(64);if(gr){var Ir=br.indexOf(gr);Ir!==-1&&(_r=Ir)}return pr(br,_r,mr)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function pr(br,_r,yr){for(var mr=[],Er=0,gr=0;gr<_r;gr++)if(gr%4){var Ir=yr[br.charCodeAt(gr-1)]<<gr%4*2,Ar=yr[br.charCodeAt(gr)]>>>6-gr%4*2,kr=Ir|Ar;mr[Er>>>2]|=kr<<24-Er%4*8,Er++}return fr.create(mr,Er)}}(),ar.enc.Base64})}(encBase64)),encBase64.exports}var encBase64url={exports:{}},hasRequiredEncBase64url;function requireEncBase64url(){return hasRequiredEncBase64url||(hasRequiredEncBase64url=1,function(lr,cr){(function(ar,or){lr.exports=or(requireCore())})(commonjsGlobal$1,function(ar){return function(){var or=ar,ur=or.lib,fr=ur.WordArray,dr=or.enc;dr.Base64url={stringify:function(br,_r){_r===void 0&&(_r=!0);var yr=br.words,mr=br.sigBytes,Er=_r?this._safe_map:this._map;br.clamp();for(var gr=[],Ir=0;Ir<mr;Ir+=3)for(var Ar=yr[Ir>>>2]>>>24-Ir%4*8&255,kr=yr[Ir+1>>>2]>>>24-(Ir+1)%4*8&255,Or=yr[Ir+2>>>2]>>>24-(Ir+2)%4*8&255,Dr=Ar<<16|kr<<8|Or,Rr=0;Rr<4&&Ir+Rr*.75<mr;Rr++)gr.push(Er.charAt(Dr>>>6*(3-Rr)&63));var Fr=Er.charAt(64);if(Fr)for(;gr.length%4;)gr.push(Fr);return gr.join("")},parse:function(br,_r){_r===void 0&&(_r=!0);var yr=br.length,mr=_r?this._safe_map:this._map,Er=this._reverseMap;if(!Er){Er=this._reverseMap=[];for(var gr=0;gr<mr.length;gr++)Er[mr.charCodeAt(gr)]=gr}var Ir=mr.charAt(64);if(Ir){var Ar=br.indexOf(Ir);Ar!==-1&&(yr=Ar)}return pr(br,yr,Er)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function pr(br,_r,yr){for(var mr=[],Er=0,gr=0;gr<_r;gr++)if(gr%4){var Ir=yr[br.charCodeAt(gr-1)]<<gr%4*2,Ar=yr[br.charCodeAt(gr)]>>>6-gr%4*2,kr=Ir|Ar;mr[Er>>>2]|=kr<<24-Er%4*8,Er++}return fr.create(mr,Er)}}(),ar.enc.Base64url})}(encBase64url)),encBase64url.exports}var md5={exports:{}},hasRequiredMd5;function requireMd5(){return hasRequiredMd5||(hasRequiredMd5=1,function(lr,cr){(function(ar,or){lr.exports=or(requireCore())})(commonjsGlobal$1,function(ar){return function(or){var ur=ar,fr=ur.lib,dr=fr.WordArray,pr=fr.Hasher,br=ur.algo,_r=[];(function(){for(var Ar=0;Ar<64;Ar++)_r[Ar]=or.abs(or.sin(Ar+1))*4294967296|0})();var yr=br.MD5=pr.extend({_doReset:function(){this._hash=new dr.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(Ar,kr){for(var Or=0;Or<16;Or++){var Dr=kr+Or,Rr=Ar[Dr];Ar[Dr]=(Rr<<8|Rr>>>24)&16711935|(Rr<<24|Rr>>>8)&4278255360}var Fr=this._hash.words,Nr=Ar[kr+0],Hr=Ar[kr+1],Ur=Ar[kr+2],Zr=Ar[kr+3],Gr=Ar[kr+4],jr=Ar[kr+5],Jr=Ar[kr+6],Wr=Ar[kr+7],ni=Ar[kr+8],Mr=Ar[kr+9],di=Ar[kr+10],Ei=Ar[kr+11],_i=Ar[kr+12],Fi=Ar[kr+13],si=Ar[kr+14],ci=Ar[kr+15],$r=Fr[0],ei=Fr[1],pi=Fr[2],ui=Fr[3];$r=mr($r,ei,pi,ui,Nr,7,_r[0]),ui=mr(ui,$r,ei,pi,Hr,12,_r[1]),pi=mr(pi,ui,$r,ei,Ur,17,_r[2]),ei=mr(ei,pi,ui,$r,Zr,22,_r[3]),$r=mr($r,ei,pi,ui,Gr,7,_r[4]),ui=mr(ui,$r,ei,pi,jr,12,_r[5]),pi=mr(pi,ui,$r,ei,Jr,17,_r[6]),ei=mr(ei,pi,ui,$r,Wr,22,_r[7]),$r=mr($r,ei,pi,ui,ni,7,_r[8]),ui=mr(ui,$r,ei,pi,Mr,12,_r[9]),pi=mr(pi,ui,$r,ei,di,17,_r[10]),ei=mr(ei,pi,ui,$r,Ei,22,_r[11]),$r=mr($r,ei,pi,ui,_i,7,_r[12]),ui=mr(ui,$r,ei,pi,Fi,12,_r[13]),pi=mr(pi,ui,$r,ei,si,17,_r[14]),ei=mr(ei,pi,ui,$r,ci,22,_r[15]),$r=Er($r,ei,pi,ui,Hr,5,_r[16]),ui=Er(ui,$r,ei,pi,Jr,9,_r[17]),pi=Er(pi,ui,$r,ei,Ei,14,_r[18]),ei=Er(ei,pi,ui,$r,Nr,20,_r[19]),$r=Er($r,ei,pi,ui,jr,5,_r[20]),ui=Er(ui,$r,ei,pi,di,9,_r[21]),pi=Er(pi,ui,$r,ei,ci,14,_r[22]),ei=Er(ei,pi,ui,$r,Gr,20,_r[23]),$r=Er($r,ei,pi,ui,Mr,5,_r[24]),ui=Er(ui,$r,ei,pi,si,9,_r[25]),pi=Er(pi,ui,$r,ei,Zr,14,_r[26]),ei=Er(ei,pi,ui,$r,ni,20,_r[27]),$r=Er($r,ei,pi,ui,Fi,5,_r[28]),ui=Er(ui,$r,ei,pi,Ur,9,_r[29]),pi=Er(pi,ui,$r,ei,Wr,14,_r[30]),ei=Er(ei,pi,ui,$r,_i,20,_r[31]),$r=gr($r,ei,pi,ui,jr,4,_r[32]),ui=gr(ui,$r,ei,pi,ni,11,_r[33]),pi=gr(pi,ui,$r,ei,Ei,16,_r[34]),ei=gr(ei,pi,ui,$r,si,23,_r[35]),$r=gr($r,ei,pi,ui,Hr,4,_r[36]),ui=gr(ui,$r,ei,pi,Gr,11,_r[37]),pi=gr(pi,ui,$r,ei,Wr,16,_r[38]),ei=gr(ei,pi,ui,$r,di,23,_r[39]),$r=gr($r,ei,pi,ui,Fi,4,_r[40]),ui=gr(ui,$r,ei,pi,Nr,11,_r[41]),pi=gr(pi,ui,$r,ei,Zr,16,_r[42]),ei=gr(ei,pi,ui,$r,Jr,23,_r[43]),$r=gr($r,ei,pi,ui,Mr,4,_r[44]),ui=gr(ui,$r,ei,pi,_i,11,_r[45]),pi=gr(pi,ui,$r,ei,ci,16,_r[46]),ei=gr(ei,pi,ui,$r,Ur,23,_r[47]),$r=Ir($r,ei,pi,ui,Nr,6,_r[48]),ui=Ir(ui,$r,ei,pi,Wr,10,_r[49]),pi=Ir(pi,ui,$r,ei,si,15,_r[50]),ei=Ir(ei,pi,ui,$r,jr,21,_r[51]),$r=Ir($r,ei,pi,ui,_i,6,_r[52]),ui=Ir(ui,$r,ei,pi,Zr,10,_r[53]),pi=Ir(pi,ui,$r,ei,di,15,_r[54]),ei=Ir(ei,pi,ui,$r,Hr,21,_r[55]),$r=Ir($r,ei,pi,ui,ni,6,_r[56]),ui=Ir(ui,$r,ei,pi,ci,10,_r[57]),pi=Ir(pi,ui,$r,ei,Jr,15,_r[58]),ei=Ir(ei,pi,ui,$r,Fi,21,_r[59]),$r=Ir($r,ei,pi,ui,Gr,6,_r[60]),ui=Ir(ui,$r,ei,pi,Ei,10,_r[61]),pi=Ir(pi,ui,$r,ei,Ur,15,_r[62]),ei=Ir(ei,pi,ui,$r,Mr,21,_r[63]),Fr[0]=Fr[0]+$r|0,Fr[1]=Fr[1]+ei|0,Fr[2]=Fr[2]+pi|0,Fr[3]=Fr[3]+ui|0},_doFinalize:function(){var Ar=this._data,kr=Ar.words,Or=this._nDataBytes*8,Dr=Ar.sigBytes*8;kr[Dr>>>5]|=128<<24-Dr%32;var Rr=or.floor(Or/4294967296),Fr=Or;kr[(Dr+64>>>9<<4)+15]=(Rr<<8|Rr>>>24)&16711935|(Rr<<24|Rr>>>8)&4278255360,kr[(Dr+64>>>9<<4)+14]=(Fr<<8|Fr>>>24)&16711935|(Fr<<24|Fr>>>8)&4278255360,Ar.sigBytes=(kr.length+1)*4,this._process();for(var Nr=this._hash,Hr=Nr.words,Ur=0;Ur<4;Ur++){var Zr=Hr[Ur];Hr[Ur]=(Zr<<8|Zr>>>24)&16711935|(Zr<<24|Zr>>>8)&4278255360}return Nr},clone:function(){var Ar=pr.clone.call(this);return Ar._hash=this._hash.clone(),Ar}});function mr(Ar,kr,Or,Dr,Rr,Fr,Nr){var Hr=Ar+(kr&Or|~kr&Dr)+Rr+Nr;return(Hr<<Fr|Hr>>>32-Fr)+kr}function Er(Ar,kr,Or,Dr,Rr,Fr,Nr){var Hr=Ar+(kr&Dr|Or&~Dr)+Rr+Nr;return(Hr<<Fr|Hr>>>32-Fr)+kr}function gr(Ar,kr,Or,Dr,Rr,Fr,Nr){var Hr=Ar+(kr^Or^Dr)+Rr+Nr;return(Hr<<Fr|Hr>>>32-Fr)+kr}function Ir(Ar,kr,Or,Dr,Rr,Fr,Nr){var Hr=Ar+(Or^(kr|~Dr))+Rr+Nr;return(Hr<<Fr|Hr>>>32-Fr)+kr}ur.MD5=pr._createHelper(yr),ur.HmacMD5=pr._createHmacHelper(yr)}(Math),ar.MD5})}(md5)),md5.exports}var sha1={exports:{}},hasRequiredSha1;function requireSha1(){return hasRequiredSha1||(hasRequiredSha1=1,function(lr,cr){(function(ar,or){lr.exports=or(requireCore())})(commonjsGlobal$1,function(ar){return function(){var or=ar,ur=or.lib,fr=ur.WordArray,dr=ur.Hasher,pr=or.algo,br=[],_r=pr.SHA1=dr.extend({_doReset:function(){this._hash=new fr.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(yr,mr){for(var Er=this._hash.words,gr=Er[0],Ir=Er[1],Ar=Er[2],kr=Er[3],Or=Er[4],Dr=0;Dr<80;Dr++){if(Dr<16)br[Dr]=yr[mr+Dr]|0;else{var Rr=br[Dr-3]^br[Dr-8]^br[Dr-14]^br[Dr-16];br[Dr]=Rr<<1|Rr>>>31}var Fr=(gr<<5|gr>>>27)+Or+br[Dr];Dr<20?Fr+=(Ir&Ar|~Ir&kr)+1518500249:Dr<40?Fr+=(Ir^Ar^kr)+1859775393:Dr<60?Fr+=(Ir&Ar|Ir&kr|Ar&kr)-1894007588:Fr+=(Ir^Ar^kr)-899497514,Or=kr,kr=Ar,Ar=Ir<<30|Ir>>>2,Ir=gr,gr=Fr}Er[0]=Er[0]+gr|0,Er[1]=Er[1]+Ir|0,Er[2]=Er[2]+Ar|0,Er[3]=Er[3]+kr|0,Er[4]=Er[4]+Or|0},_doFinalize:function(){var yr=this._data,mr=yr.words,Er=this._nDataBytes*8,gr=yr.sigBytes*8;return mr[gr>>>5]|=128<<24-gr%32,mr[(gr+64>>>9<<4)+14]=Math.floor(Er/4294967296),mr[(gr+64>>>9<<4)+15]=Er,yr.sigBytes=mr.length*4,this._process(),this._hash},clone:function(){var yr=dr.clone.call(this);return yr._hash=this._hash.clone(),yr}});or.SHA1=dr._createHelper(_r),or.HmacSHA1=dr._createHmacHelper(_r)}(),ar.SHA1})}(sha1)),sha1.exports}var sha256={exports:{}},hasRequiredSha256;function requireSha256(){return hasRequiredSha256||(hasRequiredSha256=1,function(lr,cr){(function(ar,or){lr.exports=or(requireCore())})(commonjsGlobal$1,function(ar){return function(or){var ur=ar,fr=ur.lib,dr=fr.WordArray,pr=fr.Hasher,br=ur.algo,_r=[],yr=[];(function(){function gr(Or){for(var Dr=or.sqrt(Or),Rr=2;Rr<=Dr;Rr++)if(!(Or%Rr))return!1;return!0}function Ir(Or){return(Or-(Or|0))*4294967296|0}for(var Ar=2,kr=0;kr<64;)gr(Ar)&&(kr<8&&(_r[kr]=Ir(or.pow(Ar,1/2))),yr[kr]=Ir(or.pow(Ar,1/3)),kr++),Ar++})();var mr=[],Er=br.SHA256=pr.extend({_doReset:function(){this._hash=new dr.init(_r.slice(0))},_doProcessBlock:function(gr,Ir){for(var Ar=this._hash.words,kr=Ar[0],Or=Ar[1],Dr=Ar[2],Rr=Ar[3],Fr=Ar[4],Nr=Ar[5],Hr=Ar[6],Ur=Ar[7],Zr=0;Zr<64;Zr++){if(Zr<16)mr[Zr]=gr[Ir+Zr]|0;else{var Gr=mr[Zr-15],jr=(Gr<<25|Gr>>>7)^(Gr<<14|Gr>>>18)^Gr>>>3,Jr=mr[Zr-2],Wr=(Jr<<15|Jr>>>17)^(Jr<<13|Jr>>>19)^Jr>>>10;mr[Zr]=jr+mr[Zr-7]+Wr+mr[Zr-16]}var ni=Fr&Nr^~Fr&Hr,Mr=kr&Or^kr&Dr^Or&Dr,di=(kr<<30|kr>>>2)^(kr<<19|kr>>>13)^(kr<<10|kr>>>22),Ei=(Fr<<26|Fr>>>6)^(Fr<<21|Fr>>>11)^(Fr<<7|Fr>>>25),_i=Ur+Ei+ni+yr[Zr]+mr[Zr],Fi=di+Mr;Ur=Hr,Hr=Nr,Nr=Fr,Fr=Rr+_i|0,Rr=Dr,Dr=Or,Or=kr,kr=_i+Fi|0}Ar[0]=Ar[0]+kr|0,Ar[1]=Ar[1]+Or|0,Ar[2]=Ar[2]+Dr|0,Ar[3]=Ar[3]+Rr|0,Ar[4]=Ar[4]+Fr|0,Ar[5]=Ar[5]+Nr|0,Ar[6]=Ar[6]+Hr|0,Ar[7]=Ar[7]+Ur|0},_doFinalize:function(){var gr=this._data,Ir=gr.words,Ar=this._nDataBytes*8,kr=gr.sigBytes*8;return Ir[kr>>>5]|=128<<24-kr%32,Ir[(kr+64>>>9<<4)+14]=or.floor(Ar/4294967296),Ir[(kr+64>>>9<<4)+15]=Ar,gr.sigBytes=Ir.length*4,this._process(),this._hash},clone:function(){var gr=pr.clone.call(this);return gr._hash=this._hash.clone(),gr}});ur.SHA256=pr._createHelper(Er),ur.HmacSHA256=pr._createHmacHelper(Er)}(Math),ar.SHA256})}(sha256)),sha256.exports}var sha224={exports:{}},hasRequiredSha224;function requireSha224(){return hasRequiredSha224||(hasRequiredSha224=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireSha256())})(commonjsGlobal$1,function(ar){return function(){var or=ar,ur=or.lib,fr=ur.WordArray,dr=or.algo,pr=dr.SHA256,br=dr.SHA224=pr.extend({_doReset:function(){this._hash=new fr.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var _r=pr._doFinalize.call(this);return _r.sigBytes-=4,_r}});or.SHA224=pr._createHelper(br),or.HmacSHA224=pr._createHmacHelper(br)}(),ar.SHA224})}(sha224)),sha224.exports}var sha512={exports:{}},hasRequiredSha512;function requireSha512(){return hasRequiredSha512||(hasRequiredSha512=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireX64Core())})(commonjsGlobal$1,function(ar){return function(){var or=ar,ur=or.lib,fr=ur.Hasher,dr=or.x64,pr=dr.Word,br=dr.WordArray,_r=or.algo;function yr(){return pr.create.apply(pr,arguments)}var mr=[yr(1116352408,3609767458),yr(1899447441,602891725),yr(3049323471,3964484399),yr(3921009573,2173295548),yr(961987163,4081628472),yr(1508970993,3053834265),yr(2453635748,2937671579),yr(2870763221,3664609560),yr(3624381080,2734883394),yr(310598401,1164996542),yr(607225278,1323610764),yr(1426881987,3590304994),yr(1925078388,4068182383),yr(2162078206,991336113),yr(2614888103,633803317),yr(3248222580,3479774868),yr(3835390401,2666613458),yr(4022224774,944711139),yr(264347078,2341262773),yr(604807628,2007800933),yr(770255983,1495990901),yr(1249150122,1856431235),yr(1555081692,3175218132),yr(1996064986,2198950837),yr(2554220882,3999719339),yr(2821834349,766784016),yr(2952996808,2566594879),yr(3210313671,3203337956),yr(3336571891,1034457026),yr(3584528711,2466948901),yr(113926993,3758326383),yr(338241895,168717936),yr(666307205,1188179964),yr(773529912,1546045734),yr(1294757372,1522805485),yr(1396182291,2643833823),yr(1695183700,2343527390),yr(1986661051,1014477480),yr(2177026350,1206759142),yr(2456956037,344077627),yr(2730485921,1290863460),yr(2820302411,3158454273),yr(3259730800,3505952657),yr(3345764771,106217008),yr(3516065817,3606008344),yr(3600352804,1432725776),yr(4094571909,1467031594),yr(275423344,851169720),yr(430227734,3100823752),yr(506948616,1363258195),yr(659060556,3750685593),yr(883997877,3785050280),yr(958139571,3318307427),yr(1322822218,3812723403),yr(1537002063,2003034995),yr(1747873779,3602036899),yr(1955562222,1575990012),yr(2024104815,1125592928),yr(2227730452,2716904306),yr(2361852424,442776044),yr(2428436474,593698344),yr(2756734187,3733110249),yr(3204031479,2999351573),yr(3329325298,3815920427),yr(3391569614,3928383900),yr(3515267271,566280711),yr(3940187606,3454069534),yr(4118630271,4000239992),yr(116418474,1914138554),yr(174292421,2731055270),yr(289380356,3203993006),yr(460393269,320620315),yr(685471733,587496836),yr(852142971,1086792851),yr(1017036298,365543100),yr(1126000580,2618297676),yr(1288033470,3409855158),yr(1501505948,4234509866),yr(1607167915,987167468),yr(1816402316,1246189591)],Er=[];(function(){for(var Ir=0;Ir<80;Ir++)Er[Ir]=yr()})();var gr=_r.SHA512=fr.extend({_doReset:function(){this._hash=new br.init([new pr.init(1779033703,4089235720),new pr.init(3144134277,2227873595),new pr.init(1013904242,4271175723),new pr.init(2773480762,1595750129),new pr.init(1359893119,2917565137),new pr.init(2600822924,725511199),new pr.init(528734635,4215389547),new pr.init(1541459225,327033209)])},_doProcessBlock:function(Ir,Ar){for(var kr=this._hash.words,Or=kr[0],Dr=kr[1],Rr=kr[2],Fr=kr[3],Nr=kr[4],Hr=kr[5],Ur=kr[6],Zr=kr[7],Gr=Or.high,jr=Or.low,Jr=Dr.high,Wr=Dr.low,ni=Rr.high,Mr=Rr.low,di=Fr.high,Ei=Fr.low,_i=Nr.high,Fi=Nr.low,si=Hr.high,ci=Hr.low,$r=Ur.high,ei=Ur.low,pi=Zr.high,ui=Zr.low,bi=Gr,qi=jr,Ki=Jr,Ti=Wr,ii=ni,oi=Mr,Si=di,Di=Ei,Mi=_i,Vr=Fi,hi=si,yi=ci,ti=$r,ri=ei,xi=pi,Ai=ui,Kr=0;Kr<80;Kr++){var Pr,qr,Xr=Er[Kr];if(Kr<16)qr=Xr.high=Ir[Ar+Kr*2]|0,Pr=Xr.low=Ir[Ar+Kr*2+1]|0;else{var ai=Er[Kr-15],fi=ai.high,vi=ai.low,Ri=(fi>>>1|vi<<31)^(fi>>>8|vi<<24)^fi>>>7,$i=(vi>>>1|fi<<31)^(vi>>>8|fi<<24)^(vi>>>7|fi<<25),Xi=Er[Kr-2],ji=Xi.high,Bi=Xi.low,Zi=(ji>>>19|Bi<<13)^(ji<<3|Bi>>>29)^ji>>>6,Aa=(Bi>>>19|ji<<13)^(Bi<<3|ji>>>29)^(Bi>>>6|ji<<26),Da=Er[Kr-7],ba=Da.high,_o=Da.low,co=Er[Kr-16],Co=co.high,wi=co.low;Pr=$i+_o,qr=Ri+ba+(Pr>>>0<$i>>>0?1:0),Pr=Pr+Aa,qr=qr+Zi+(Pr>>>0<Aa>>>0?1:0),Pr=Pr+wi,qr=qr+Co+(Pr>>>0<wi>>>0?1:0),Xr.high=qr,Xr.low=Pr}var Vi=Mi&hi^~Mi&ti,Yr=Vr&yi^~Vr&ri,zi=bi&Ki^bi&ii^Ki&ii,la=qi&Ti^qi&oi^Ti&oi,Ui=(bi>>>28|qi<<4)^(bi<<30|qi>>>2)^(bi<<25|qi>>>7),Ba=(qi>>>28|bi<<4)^(qi<<30|bi>>>2)^(qi<<25|bi>>>7),Hi=(Mi>>>14|Vr<<18)^(Mi>>>18|Vr<<14)^(Mi<<23|Vr>>>9),ma=(Vr>>>14|Mi<<18)^(Vr>>>18|Mi<<14)^(Vr<<23|Mi>>>9),ki=mr[Kr],Oi=ki.high,ko=ki.low,na=Ai+ma,Wi=xi+Hi+(na>>>0<Ai>>>0?1:0),na=na+Yr,Wi=Wi+Vi+(na>>>0<Yr>>>0?1:0),na=na+ko,Wi=Wi+Oi+(na>>>0<ko>>>0?1:0),na=na+Pr,Wi=Wi+qr+(na>>>0<Pr>>>0?1:0),vo=Ba+la,uo=Ui+zi+(vo>>>0<Ba>>>0?1:0);xi=ti,Ai=ri,ti=hi,ri=yi,hi=Mi,yi=Vr,Vr=Di+na|0,Mi=Si+Wi+(Vr>>>0<Di>>>0?1:0)|0,Si=ii,Di=oi,ii=Ki,oi=Ti,Ki=bi,Ti=qi,qi=na+vo|0,bi=Wi+uo+(qi>>>0<na>>>0?1:0)|0}jr=Or.low=jr+qi,Or.high=Gr+bi+(jr>>>0<qi>>>0?1:0),Wr=Dr.low=Wr+Ti,Dr.high=Jr+Ki+(Wr>>>0<Ti>>>0?1:0),Mr=Rr.low=Mr+oi,Rr.high=ni+ii+(Mr>>>0<oi>>>0?1:0),Ei=Fr.low=Ei+Di,Fr.high=di+Si+(Ei>>>0<Di>>>0?1:0),Fi=Nr.low=Fi+Vr,Nr.high=_i+Mi+(Fi>>>0<Vr>>>0?1:0),ci=Hr.low=ci+yi,Hr.high=si+hi+(ci>>>0<yi>>>0?1:0),ei=Ur.low=ei+ri,Ur.high=$r+ti+(ei>>>0<ri>>>0?1:0),ui=Zr.low=ui+Ai,Zr.high=pi+xi+(ui>>>0<Ai>>>0?1:0)},_doFinalize:function(){var Ir=this._data,Ar=Ir.words,kr=this._nDataBytes*8,Or=Ir.sigBytes*8;Ar[Or>>>5]|=128<<24-Or%32,Ar[(Or+128>>>10<<5)+30]=Math.floor(kr/4294967296),Ar[(Or+128>>>10<<5)+31]=kr,Ir.sigBytes=Ar.length*4,this._process();var Dr=this._hash.toX32();return Dr},clone:function(){var Ir=fr.clone.call(this);return Ir._hash=this._hash.clone(),Ir},blockSize:1024/32});or.SHA512=fr._createHelper(gr),or.HmacSHA512=fr._createHmacHelper(gr)}(),ar.SHA512})}(sha512)),sha512.exports}var sha384={exports:{}},hasRequiredSha384;function requireSha384(){return hasRequiredSha384||(hasRequiredSha384=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireX64Core(),requireSha512())})(commonjsGlobal$1,function(ar){return function(){var or=ar,ur=or.x64,fr=ur.Word,dr=ur.WordArray,pr=or.algo,br=pr.SHA512,_r=pr.SHA384=br.extend({_doReset:function(){this._hash=new dr.init([new fr.init(3418070365,3238371032),new fr.init(1654270250,914150663),new fr.init(2438529370,812702999),new fr.init(355462360,4144912697),new fr.init(1731405415,4290775857),new fr.init(2394180231,1750603025),new fr.init(3675008525,1694076839),new fr.init(1203062813,3204075428)])},_doFinalize:function(){var yr=br._doFinalize.call(this);return yr.sigBytes-=16,yr}});or.SHA384=br._createHelper(_r),or.HmacSHA384=br._createHmacHelper(_r)}(),ar.SHA384})}(sha384)),sha384.exports}var sha3={exports:{}},hasRequiredSha3;function requireSha3(){return hasRequiredSha3||(hasRequiredSha3=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireX64Core())})(commonjsGlobal$1,function(ar){return function(or){var ur=ar,fr=ur.lib,dr=fr.WordArray,pr=fr.Hasher,br=ur.x64,_r=br.Word,yr=ur.algo,mr=[],Er=[],gr=[];(function(){for(var kr=1,Or=0,Dr=0;Dr<24;Dr++){mr[kr+5*Or]=(Dr+1)*(Dr+2)/2%64;var Rr=Or%5,Fr=(2*kr+3*Or)%5;kr=Rr,Or=Fr}for(var kr=0;kr<5;kr++)for(var Or=0;Or<5;Or++)Er[kr+5*Or]=Or+(2*kr+3*Or)%5*5;for(var Nr=1,Hr=0;Hr<24;Hr++){for(var Ur=0,Zr=0,Gr=0;Gr<7;Gr++){if(Nr&1){var jr=(1<<Gr)-1;jr<32?Zr^=1<<jr:Ur^=1<<jr-32}Nr&128?Nr=Nr<<1^113:Nr<<=1}gr[Hr]=_r.create(Ur,Zr)}})();var Ir=[];(function(){for(var kr=0;kr<25;kr++)Ir[kr]=_r.create()})();var Ar=yr.SHA3=pr.extend({cfg:pr.cfg.extend({outputLength:512}),_doReset:function(){for(var kr=this._state=[],Or=0;Or<25;Or++)kr[Or]=new _r.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(kr,Or){for(var Dr=this._state,Rr=this.blockSize/2,Fr=0;Fr<Rr;Fr++){var Nr=kr[Or+2*Fr],Hr=kr[Or+2*Fr+1];Nr=(Nr<<8|Nr>>>24)&16711935|(Nr<<24|Nr>>>8)&4278255360,Hr=(Hr<<8|Hr>>>24)&16711935|(Hr<<24|Hr>>>8)&4278255360;var Ur=Dr[Fr];Ur.high^=Hr,Ur.low^=Nr}for(var Zr=0;Zr<24;Zr++){for(var Gr=0;Gr<5;Gr++){for(var jr=0,Jr=0,Wr=0;Wr<5;Wr++){var Ur=Dr[Gr+5*Wr];jr^=Ur.high,Jr^=Ur.low}var ni=Ir[Gr];ni.high=jr,ni.low=Jr}for(var Gr=0;Gr<5;Gr++)for(var Mr=Ir[(Gr+4)%5],di=Ir[(Gr+1)%5],Ei=di.high,_i=di.low,jr=Mr.high^(Ei<<1|_i>>>31),Jr=Mr.low^(_i<<1|Ei>>>31),Wr=0;Wr<5;Wr++){var Ur=Dr[Gr+5*Wr];Ur.high^=jr,Ur.low^=Jr}for(var Fi=1;Fi<25;Fi++){var jr,Jr,Ur=Dr[Fi],si=Ur.high,ci=Ur.low,$r=mr[Fi];$r<32?(jr=si<<$r|ci>>>32-$r,Jr=ci<<$r|si>>>32-$r):(jr=ci<<$r-32|si>>>64-$r,Jr=si<<$r-32|ci>>>64-$r);var ei=Ir[Er[Fi]];ei.high=jr,ei.low=Jr}var pi=Ir[0],ui=Dr[0];pi.high=ui.high,pi.low=ui.low;for(var Gr=0;Gr<5;Gr++)for(var Wr=0;Wr<5;Wr++){var Fi=Gr+5*Wr,Ur=Dr[Fi],bi=Ir[Fi],qi=Ir[(Gr+1)%5+5*Wr],Ki=Ir[(Gr+2)%5+5*Wr];Ur.high=bi.high^~qi.high&Ki.high,Ur.low=bi.low^~qi.low&Ki.low}var Ur=Dr[0],Ti=gr[Zr];Ur.high^=Ti.high,Ur.low^=Ti.low}},_doFinalize:function(){var kr=this._data,Or=kr.words;this._nDataBytes*8;var Dr=kr.sigBytes*8,Rr=this.blockSize*32;Or[Dr>>>5]|=1<<24-Dr%32,Or[(or.ceil((Dr+1)/Rr)*Rr>>>5)-1]|=128,kr.sigBytes=Or.length*4,this._process();for(var Fr=this._state,Nr=this.cfg.outputLength/8,Hr=Nr/8,Ur=[],Zr=0;Zr<Hr;Zr++){var Gr=Fr[Zr],jr=Gr.high,Jr=Gr.low;jr=(jr<<8|jr>>>24)&16711935|(jr<<24|jr>>>8)&4278255360,Jr=(Jr<<8|Jr>>>24)&16711935|(Jr<<24|Jr>>>8)&4278255360,Ur.push(Jr),Ur.push(jr)}return new dr.init(Ur,Nr)},clone:function(){for(var kr=pr.clone.call(this),Or=kr._state=this._state.slice(0),Dr=0;Dr<25;Dr++)Or[Dr]=Or[Dr].clone();return kr}});ur.SHA3=pr._createHelper(Ar),ur.HmacSHA3=pr._createHmacHelper(Ar)}(Math),ar.SHA3})}(sha3)),sha3.exports}var ripemd160={exports:{}},hasRequiredRipemd160;function requireRipemd160(){return hasRequiredRipemd160||(hasRequiredRipemd160=1,function(lr,cr){(function(ar,or){lr.exports=or(requireCore())})(commonjsGlobal$1,function(ar){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(or){var ur=ar,fr=ur.lib,dr=fr.WordArray,pr=fr.Hasher,br=ur.algo,_r=dr.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),yr=dr.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),mr=dr.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),Er=dr.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),gr=dr.create([0,1518500249,1859775393,2400959708,2840853838]),Ir=dr.create([1352829926,1548603684,1836072691,2053994217,0]),Ar=br.RIPEMD160=pr.extend({_doReset:function(){this._hash=dr.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(Hr,Ur){for(var Zr=0;Zr<16;Zr++){var Gr=Ur+Zr,jr=Hr[Gr];Hr[Gr]=(jr<<8|jr>>>24)&16711935|(jr<<24|jr>>>8)&4278255360}var Jr=this._hash.words,Wr=gr.words,ni=Ir.words,Mr=_r.words,di=yr.words,Ei=mr.words,_i=Er.words,Fi,si,ci,$r,ei,pi,ui,bi,qi,Ki;pi=Fi=Jr[0],ui=si=Jr[1],bi=ci=Jr[2],qi=$r=Jr[3],Ki=ei=Jr[4];for(var Ti,Zr=0;Zr<80;Zr+=1)Ti=Fi+Hr[Ur+Mr[Zr]]|0,Zr<16?Ti+=kr(si,ci,$r)+Wr[0]:Zr<32?Ti+=Or(si,ci,$r)+Wr[1]:Zr<48?Ti+=Dr(si,ci,$r)+Wr[2]:Zr<64?Ti+=Rr(si,ci,$r)+Wr[3]:Ti+=Fr(si,ci,$r)+Wr[4],Ti=Ti|0,Ti=Nr(Ti,Ei[Zr]),Ti=Ti+ei|0,Fi=ei,ei=$r,$r=Nr(ci,10),ci=si,si=Ti,Ti=pi+Hr[Ur+di[Zr]]|0,Zr<16?Ti+=Fr(ui,bi,qi)+ni[0]:Zr<32?Ti+=Rr(ui,bi,qi)+ni[1]:Zr<48?Ti+=Dr(ui,bi,qi)+ni[2]:Zr<64?Ti+=Or(ui,bi,qi)+ni[3]:Ti+=kr(ui,bi,qi)+ni[4],Ti=Ti|0,Ti=Nr(Ti,_i[Zr]),Ti=Ti+Ki|0,pi=Ki,Ki=qi,qi=Nr(bi,10),bi=ui,ui=Ti;Ti=Jr[1]+ci+qi|0,Jr[1]=Jr[2]+$r+Ki|0,Jr[2]=Jr[3]+ei+pi|0,Jr[3]=Jr[4]+Fi+ui|0,Jr[4]=Jr[0]+si+bi|0,Jr[0]=Ti},_doFinalize:function(){var Hr=this._data,Ur=Hr.words,Zr=this._nDataBytes*8,Gr=Hr.sigBytes*8;Ur[Gr>>>5]|=128<<24-Gr%32,Ur[(Gr+64>>>9<<4)+14]=(Zr<<8|Zr>>>24)&16711935|(Zr<<24|Zr>>>8)&4278255360,Hr.sigBytes=(Ur.length+1)*4,this._process();for(var jr=this._hash,Jr=jr.words,Wr=0;Wr<5;Wr++){var ni=Jr[Wr];Jr[Wr]=(ni<<8|ni>>>24)&16711935|(ni<<24|ni>>>8)&4278255360}return jr},clone:function(){var Hr=pr.clone.call(this);return Hr._hash=this._hash.clone(),Hr}});function kr(Hr,Ur,Zr){return Hr^Ur^Zr}function Or(Hr,Ur,Zr){return Hr&Ur|~Hr&Zr}function Dr(Hr,Ur,Zr){return(Hr|~Ur)^Zr}function Rr(Hr,Ur,Zr){return Hr&Zr|Ur&~Zr}function Fr(Hr,Ur,Zr){return Hr^(Ur|~Zr)}function Nr(Hr,Ur){return Hr<<Ur|Hr>>>32-Ur}ur.RIPEMD160=pr._createHelper(Ar),ur.HmacRIPEMD160=pr._createHmacHelper(Ar)}(),ar.RIPEMD160})}(ripemd160)),ripemd160.exports}var hmac={exports:{}},hasRequiredHmac;function requireHmac(){return hasRequiredHmac||(hasRequiredHmac=1,function(lr,cr){(function(ar,or){lr.exports=or(requireCore())})(commonjsGlobal$1,function(ar){(function(){var or=ar,ur=or.lib,fr=ur.Base,dr=or.enc,pr=dr.Utf8,br=or.algo;br.HMAC=fr.extend({init:function(_r,yr){_r=this._hasher=new _r.init,typeof yr=="string"&&(yr=pr.parse(yr));var mr=_r.blockSize,Er=mr*4;yr.sigBytes>Er&&(yr=_r.finalize(yr)),yr.clamp();for(var gr=this._oKey=yr.clone(),Ir=this._iKey=yr.clone(),Ar=gr.words,kr=Ir.words,Or=0;Or<mr;Or++)Ar[Or]^=1549556828,kr[Or]^=909522486;gr.sigBytes=Ir.sigBytes=Er,this.reset()},reset:function(){var _r=this._hasher;_r.reset(),_r.update(this._iKey)},update:function(_r){return this._hasher.update(_r),this},finalize:function(_r){var yr=this._hasher,mr=yr.finalize(_r);yr.reset();var Er=yr.finalize(this._oKey.clone().concat(mr));return Er}})})()})}(hmac)),hmac.exports}var pbkdf2={exports:{}},hasRequiredPbkdf2;function requirePbkdf2(){return hasRequiredPbkdf2||(hasRequiredPbkdf2=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireSha256(),requireHmac())})(commonjsGlobal$1,function(ar){return function(){var or=ar,ur=or.lib,fr=ur.Base,dr=ur.WordArray,pr=or.algo,br=pr.SHA256,_r=pr.HMAC,yr=pr.PBKDF2=fr.extend({cfg:fr.extend({keySize:128/32,hasher:br,iterations:25e4}),init:function(mr){this.cfg=this.cfg.extend(mr)},compute:function(mr,Er){for(var gr=this.cfg,Ir=_r.create(gr.hasher,mr),Ar=dr.create(),kr=dr.create([1]),Or=Ar.words,Dr=kr.words,Rr=gr.keySize,Fr=gr.iterations;Or.length<Rr;){var Nr=Ir.update(Er).finalize(kr);Ir.reset();for(var Hr=Nr.words,Ur=Hr.length,Zr=Nr,Gr=1;Gr<Fr;Gr++){Zr=Ir.finalize(Zr),Ir.reset();for(var jr=Zr.words,Jr=0;Jr<Ur;Jr++)Hr[Jr]^=jr[Jr]}Ar.concat(Nr),Dr[0]++}return Ar.sigBytes=Rr*4,Ar}});or.PBKDF2=function(mr,Er,gr){return yr.create(gr).compute(mr,Er)}}(),ar.PBKDF2})}(pbkdf2)),pbkdf2.exports}var evpkdf={exports:{}},hasRequiredEvpkdf;function requireEvpkdf(){return hasRequiredEvpkdf||(hasRequiredEvpkdf=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireSha1(),requireHmac())})(commonjsGlobal$1,function(ar){return function(){var or=ar,ur=or.lib,fr=ur.Base,dr=ur.WordArray,pr=or.algo,br=pr.MD5,_r=pr.EvpKDF=fr.extend({cfg:fr.extend({keySize:128/32,hasher:br,iterations:1}),init:function(yr){this.cfg=this.cfg.extend(yr)},compute:function(yr,mr){for(var Er,gr=this.cfg,Ir=gr.hasher.create(),Ar=dr.create(),kr=Ar.words,Or=gr.keySize,Dr=gr.iterations;kr.length<Or;){Er&&Ir.update(Er),Er=Ir.update(yr).finalize(mr),Ir.reset();for(var Rr=1;Rr<Dr;Rr++)Er=Ir.finalize(Er),Ir.reset();Ar.concat(Er)}return Ar.sigBytes=Or*4,Ar}});or.EvpKDF=function(yr,mr,Er){return _r.create(Er).compute(yr,mr)}}(),ar.EvpKDF})}(evpkdf)),evpkdf.exports}var cipherCore={exports:{}},hasRequiredCipherCore;function requireCipherCore(){return hasRequiredCipherCore||(hasRequiredCipherCore=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireEvpkdf())})(commonjsGlobal$1,function(ar){ar.lib.Cipher||function(or){var ur=ar,fr=ur.lib,dr=fr.Base,pr=fr.WordArray,br=fr.BufferedBlockAlgorithm,_r=ur.enc;_r.Utf8;var yr=_r.Base64,mr=ur.algo,Er=mr.EvpKDF,gr=fr.Cipher=br.extend({cfg:dr.extend(),createEncryptor:function(jr,Jr){return this.create(this._ENC_XFORM_MODE,jr,Jr)},createDecryptor:function(jr,Jr){return this.create(this._DEC_XFORM_MODE,jr,Jr)},init:function(jr,Jr,Wr){this.cfg=this.cfg.extend(Wr),this._xformMode=jr,this._key=Jr,this.reset()},reset:function(){br.reset.call(this),this._doReset()},process:function(jr){return this._append(jr),this._process()},finalize:function(jr){jr&&this._append(jr);var Jr=this._doFinalize();return Jr},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function jr(Jr){return typeof Jr=="string"?Gr:Hr}return function(Jr){return{encrypt:function(Wr,ni,Mr){return jr(ni).encrypt(Jr,Wr,ni,Mr)},decrypt:function(Wr,ni,Mr){return jr(ni).decrypt(Jr,Wr,ni,Mr)}}}}()});fr.StreamCipher=gr.extend({_doFinalize:function(){var jr=this._process(!0);return jr},blockSize:1});var Ir=ur.mode={},Ar=fr.BlockCipherMode=dr.extend({createEncryptor:function(jr,Jr){return this.Encryptor.create(jr,Jr)},createDecryptor:function(jr,Jr){return this.Decryptor.create(jr,Jr)},init:function(jr,Jr){this._cipher=jr,this._iv=Jr}}),kr=Ir.CBC=function(){var jr=Ar.extend();jr.Encryptor=jr.extend({processBlock:function(Wr,ni){var Mr=this._cipher,di=Mr.blockSize;Jr.call(this,Wr,ni,di),Mr.encryptBlock(Wr,ni),this._prevBlock=Wr.slice(ni,ni+di)}}),jr.Decryptor=jr.extend({processBlock:function(Wr,ni){var Mr=this._cipher,di=Mr.blockSize,Ei=Wr.slice(ni,ni+di);Mr.decryptBlock(Wr,ni),Jr.call(this,Wr,ni,di),this._prevBlock=Ei}});function Jr(Wr,ni,Mr){var di,Ei=this._iv;Ei?(di=Ei,this._iv=or):di=this._prevBlock;for(var _i=0;_i<Mr;_i++)Wr[ni+_i]^=di[_i]}return jr}(),Or=ur.pad={},Dr=Or.Pkcs7={pad:function(jr,Jr){for(var Wr=Jr*4,ni=Wr-jr.sigBytes%Wr,Mr=ni<<24|ni<<16|ni<<8|ni,di=[],Ei=0;Ei<ni;Ei+=4)di.push(Mr);var _i=pr.create(di,ni);jr.concat(_i)},unpad:function(jr){var Jr=jr.words[jr.sigBytes-1>>>2]&255;jr.sigBytes-=Jr}};fr.BlockCipher=gr.extend({cfg:gr.cfg.extend({mode:kr,padding:Dr}),reset:function(){var jr;gr.reset.call(this);var Jr=this.cfg,Wr=Jr.iv,ni=Jr.mode;this._xformMode==this._ENC_XFORM_MODE?jr=ni.createEncryptor:(jr=ni.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==jr?this._mode.init(this,Wr&&Wr.words):(this._mode=jr.call(ni,this,Wr&&Wr.words),this._mode.__creator=jr)},_doProcessBlock:function(jr,Jr){this._mode.processBlock(jr,Jr)},_doFinalize:function(){var jr,Jr=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(Jr.pad(this._data,this.blockSize),jr=this._process(!0)):(jr=this._process(!0),Jr.unpad(jr)),jr},blockSize:128/32});var Rr=fr.CipherParams=dr.extend({init:function(jr){this.mixIn(jr)},toString:function(jr){return(jr||this.formatter).stringify(this)}}),Fr=ur.format={},Nr=Fr.OpenSSL={stringify:function(jr){var Jr,Wr=jr.ciphertext,ni=jr.salt;return ni?Jr=pr.create([1398893684,1701076831]).concat(ni).concat(Wr):Jr=Wr,Jr.toString(yr)},parse:function(jr){var Jr,Wr=yr.parse(jr),ni=Wr.words;return ni[0]==1398893684&&ni[1]==1701076831&&(Jr=pr.create(ni.slice(2,4)),ni.splice(0,4),Wr.sigBytes-=16),Rr.create({ciphertext:Wr,salt:Jr})}},Hr=fr.SerializableCipher=dr.extend({cfg:dr.extend({format:Nr}),encrypt:function(jr,Jr,Wr,ni){ni=this.cfg.extend(ni);var Mr=jr.createEncryptor(Wr,ni),di=Mr.finalize(Jr),Ei=Mr.cfg;return Rr.create({ciphertext:di,key:Wr,iv:Ei.iv,algorithm:jr,mode:Ei.mode,padding:Ei.padding,blockSize:jr.blockSize,formatter:ni.format})},decrypt:function(jr,Jr,Wr,ni){ni=this.cfg.extend(ni),Jr=this._parse(Jr,ni.format);var Mr=jr.createDecryptor(Wr,ni).finalize(Jr.ciphertext);return Mr},_parse:function(jr,Jr){return typeof jr=="string"?Jr.parse(jr,this):jr}}),Ur=ur.kdf={},Zr=Ur.OpenSSL={execute:function(jr,Jr,Wr,ni,Mr){if(ni||(ni=pr.random(64/8)),Mr)var di=Er.create({keySize:Jr+Wr,hasher:Mr}).compute(jr,ni);else var di=Er.create({keySize:Jr+Wr}).compute(jr,ni);var Ei=pr.create(di.words.slice(Jr),Wr*4);return di.sigBytes=Jr*4,Rr.create({key:di,iv:Ei,salt:ni})}},Gr=fr.PasswordBasedCipher=Hr.extend({cfg:Hr.cfg.extend({kdf:Zr}),encrypt:function(jr,Jr,Wr,ni){ni=this.cfg.extend(ni);var Mr=ni.kdf.execute(Wr,jr.keySize,jr.ivSize,ni.salt,ni.hasher);ni.iv=Mr.iv;var di=Hr.encrypt.call(this,jr,Jr,Mr.key,ni);return di.mixIn(Mr),di},decrypt:function(jr,Jr,Wr,ni){ni=this.cfg.extend(ni),Jr=this._parse(Jr,ni.format);var Mr=ni.kdf.execute(Wr,jr.keySize,jr.ivSize,Jr.salt,ni.hasher);ni.iv=Mr.iv;var di=Hr.decrypt.call(this,jr,Jr,Mr.key,ni);return di}})}()})}(cipherCore)),cipherCore.exports}var modeCfb={exports:{}},hasRequiredModeCfb;function requireModeCfb(){return hasRequiredModeCfb||(hasRequiredModeCfb=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(ar){return ar.mode.CFB=function(){var or=ar.lib.BlockCipherMode.extend();or.Encryptor=or.extend({processBlock:function(fr,dr){var pr=this._cipher,br=pr.blockSize;ur.call(this,fr,dr,br,pr),this._prevBlock=fr.slice(dr,dr+br)}}),or.Decryptor=or.extend({processBlock:function(fr,dr){var pr=this._cipher,br=pr.blockSize,_r=fr.slice(dr,dr+br);ur.call(this,fr,dr,br,pr),this._prevBlock=_r}});function ur(fr,dr,pr,br){var _r,yr=this._iv;yr?(_r=yr.slice(0),this._iv=void 0):_r=this._prevBlock,br.encryptBlock(_r,0);for(var mr=0;mr<pr;mr++)fr[dr+mr]^=_r[mr]}return or}(),ar.mode.CFB})}(modeCfb)),modeCfb.exports}var modeCtr={exports:{}},hasRequiredModeCtr;function requireModeCtr(){return hasRequiredModeCtr||(hasRequiredModeCtr=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(ar){return ar.mode.CTR=function(){var or=ar.lib.BlockCipherMode.extend(),ur=or.Encryptor=or.extend({processBlock:function(fr,dr){var pr=this._cipher,br=pr.blockSize,_r=this._iv,yr=this._counter;_r&&(yr=this._counter=_r.slice(0),this._iv=void 0);var mr=yr.slice(0);pr.encryptBlock(mr,0),yr[br-1]=yr[br-1]+1|0;for(var Er=0;Er<br;Er++)fr[dr+Er]^=mr[Er]}});return or.Decryptor=ur,or}(),ar.mode.CTR})}(modeCtr)),modeCtr.exports}var modeCtrGladman={exports:{}},hasRequiredModeCtrGladman;function requireModeCtrGladman(){return hasRequiredModeCtrGladman||(hasRequiredModeCtrGladman=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(ar){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return ar.mode.CTRGladman=function(){var or=ar.lib.BlockCipherMode.extend();function ur(pr){if((pr>>24&255)===255){var br=pr>>16&255,_r=pr>>8&255,yr=pr&255;br===255?(br=0,_r===255?(_r=0,yr===255?yr=0:++yr):++_r):++br,pr=0,pr+=br<<16,pr+=_r<<8,pr+=yr}else pr+=1<<24;return pr}function fr(pr){return(pr[0]=ur(pr[0]))===0&&(pr[1]=ur(pr[1])),pr}var dr=or.Encryptor=or.extend({processBlock:function(pr,br){var _r=this._cipher,yr=_r.blockSize,mr=this._iv,Er=this._counter;mr&&(Er=this._counter=mr.slice(0),this._iv=void 0),fr(Er);var gr=Er.slice(0);_r.encryptBlock(gr,0);for(var Ir=0;Ir<yr;Ir++)pr[br+Ir]^=gr[Ir]}});return or.Decryptor=dr,or}(),ar.mode.CTRGladman})}(modeCtrGladman)),modeCtrGladman.exports}var modeOfb={exports:{}},hasRequiredModeOfb;function requireModeOfb(){return hasRequiredModeOfb||(hasRequiredModeOfb=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(ar){return ar.mode.OFB=function(){var or=ar.lib.BlockCipherMode.extend(),ur=or.Encryptor=or.extend({processBlock:function(fr,dr){var pr=this._cipher,br=pr.blockSize,_r=this._iv,yr=this._keystream;_r&&(yr=this._keystream=_r.slice(0),this._iv=void 0),pr.encryptBlock(yr,0);for(var mr=0;mr<br;mr++)fr[dr+mr]^=yr[mr]}});return or.Decryptor=ur,or}(),ar.mode.OFB})}(modeOfb)),modeOfb.exports}var modeEcb={exports:{}},hasRequiredModeEcb;function requireModeEcb(){return hasRequiredModeEcb||(hasRequiredModeEcb=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(ar){return ar.mode.ECB=function(){var or=ar.lib.BlockCipherMode.extend();return or.Encryptor=or.extend({processBlock:function(ur,fr){this._cipher.encryptBlock(ur,fr)}}),or.Decryptor=or.extend({processBlock:function(ur,fr){this._cipher.decryptBlock(ur,fr)}}),or}(),ar.mode.ECB})}(modeEcb)),modeEcb.exports}var padAnsix923={exports:{}},hasRequiredPadAnsix923;function requirePadAnsix923(){return hasRequiredPadAnsix923||(hasRequiredPadAnsix923=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(ar){return ar.pad.AnsiX923={pad:function(or,ur){var fr=or.sigBytes,dr=ur*4,pr=dr-fr%dr,br=fr+pr-1;or.clamp(),or.words[br>>>2]|=pr<<24-br%4*8,or.sigBytes+=pr},unpad:function(or){var ur=or.words[or.sigBytes-1>>>2]&255;or.sigBytes-=ur}},ar.pad.Ansix923})}(padAnsix923)),padAnsix923.exports}var padIso10126={exports:{}},hasRequiredPadIso10126;function requirePadIso10126(){return hasRequiredPadIso10126||(hasRequiredPadIso10126=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(ar){return ar.pad.Iso10126={pad:function(or,ur){var fr=ur*4,dr=fr-or.sigBytes%fr;or.concat(ar.lib.WordArray.random(dr-1)).concat(ar.lib.WordArray.create([dr<<24],1))},unpad:function(or){var ur=or.words[or.sigBytes-1>>>2]&255;or.sigBytes-=ur}},ar.pad.Iso10126})}(padIso10126)),padIso10126.exports}var padIso97971={exports:{}},hasRequiredPadIso97971;function requirePadIso97971(){return hasRequiredPadIso97971||(hasRequiredPadIso97971=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(ar){return ar.pad.Iso97971={pad:function(or,ur){or.concat(ar.lib.WordArray.create([2147483648],1)),ar.pad.ZeroPadding.pad(or,ur)},unpad:function(or){ar.pad.ZeroPadding.unpad(or),or.sigBytes--}},ar.pad.Iso97971})}(padIso97971)),padIso97971.exports}var padZeropadding={exports:{}},hasRequiredPadZeropadding;function requirePadZeropadding(){return hasRequiredPadZeropadding||(hasRequiredPadZeropadding=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(ar){return ar.pad.ZeroPadding={pad:function(or,ur){var fr=ur*4;or.clamp(),or.sigBytes+=fr-(or.sigBytes%fr||fr)},unpad:function(or){for(var ur=or.words,fr=or.sigBytes-1,fr=or.sigBytes-1;fr>=0;fr--)if(ur[fr>>>2]>>>24-fr%4*8&255){or.sigBytes=fr+1;break}}},ar.pad.ZeroPadding})}(padZeropadding)),padZeropadding.exports}var padNopadding={exports:{}},hasRequiredPadNopadding;function requirePadNopadding(){return hasRequiredPadNopadding||(hasRequiredPadNopadding=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(ar){return ar.pad.NoPadding={pad:function(){},unpad:function(){}},ar.pad.NoPadding})}(padNopadding)),padNopadding.exports}var formatHex={exports:{}},hasRequiredFormatHex;function requireFormatHex(){return hasRequiredFormatHex||(hasRequiredFormatHex=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(ar){return function(or){var ur=ar,fr=ur.lib,dr=fr.CipherParams,pr=ur.enc,br=pr.Hex,_r=ur.format;_r.Hex={stringify:function(yr){return yr.ciphertext.toString(br)},parse:function(yr){var mr=br.parse(yr);return dr.create({ciphertext:mr})}}}(),ar.format.Hex})}(formatHex)),formatHex.exports}var aes={exports:{}},hasRequiredAes;function requireAes(){return hasRequiredAes||(hasRequiredAes=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(ar){return function(){var or=ar,ur=or.lib,fr=ur.BlockCipher,dr=or.algo,pr=[],br=[],_r=[],yr=[],mr=[],Er=[],gr=[],Ir=[],Ar=[],kr=[];(function(){for(var Rr=[],Fr=0;Fr<256;Fr++)Fr<128?Rr[Fr]=Fr<<1:Rr[Fr]=Fr<<1^283;for(var Nr=0,Hr=0,Fr=0;Fr<256;Fr++){var Ur=Hr^Hr<<1^Hr<<2^Hr<<3^Hr<<4;Ur=Ur>>>8^Ur&255^99,pr[Nr]=Ur,br[Ur]=Nr;var Zr=Rr[Nr],Gr=Rr[Zr],jr=Rr[Gr],Jr=Rr[Ur]*257^Ur*16843008;_r[Nr]=Jr<<24|Jr>>>8,yr[Nr]=Jr<<16|Jr>>>16,mr[Nr]=Jr<<8|Jr>>>24,Er[Nr]=Jr;var Jr=jr*16843009^Gr*65537^Zr*257^Nr*16843008;gr[Ur]=Jr<<24|Jr>>>8,Ir[Ur]=Jr<<16|Jr>>>16,Ar[Ur]=Jr<<8|Jr>>>24,kr[Ur]=Jr,Nr?(Nr=Zr^Rr[Rr[Rr[jr^Zr]]],Hr^=Rr[Rr[Hr]]):Nr=Hr=1}})();var Or=[0,1,2,4,8,16,32,64,128,27,54],Dr=dr.AES=fr.extend({_doReset:function(){var Rr;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var Fr=this._keyPriorReset=this._key,Nr=Fr.words,Hr=Fr.sigBytes/4,Ur=this._nRounds=Hr+6,Zr=(Ur+1)*4,Gr=this._keySchedule=[],jr=0;jr<Zr;jr++)jr<Hr?Gr[jr]=Nr[jr]:(Rr=Gr[jr-1],jr%Hr?Hr>6&&jr%Hr==4&&(Rr=pr[Rr>>>24]<<24|pr[Rr>>>16&255]<<16|pr[Rr>>>8&255]<<8|pr[Rr&255]):(Rr=Rr<<8|Rr>>>24,Rr=pr[Rr>>>24]<<24|pr[Rr>>>16&255]<<16|pr[Rr>>>8&255]<<8|pr[Rr&255],Rr^=Or[jr/Hr|0]<<24),Gr[jr]=Gr[jr-Hr]^Rr);for(var Jr=this._invKeySchedule=[],Wr=0;Wr<Zr;Wr++){var jr=Zr-Wr;if(Wr%4)var Rr=Gr[jr];else var Rr=Gr[jr-4];Wr<4||jr<=4?Jr[Wr]=Rr:Jr[Wr]=gr[pr[Rr>>>24]]^Ir[pr[Rr>>>16&255]]^Ar[pr[Rr>>>8&255]]^kr[pr[Rr&255]]}}},encryptBlock:function(Rr,Fr){this._doCryptBlock(Rr,Fr,this._keySchedule,_r,yr,mr,Er,pr)},decryptBlock:function(Rr,Fr){var Nr=Rr[Fr+1];Rr[Fr+1]=Rr[Fr+3],Rr[Fr+3]=Nr,this._doCryptBlock(Rr,Fr,this._invKeySchedule,gr,Ir,Ar,kr,br);var Nr=Rr[Fr+1];Rr[Fr+1]=Rr[Fr+3],Rr[Fr+3]=Nr},_doCryptBlock:function(Rr,Fr,Nr,Hr,Ur,Zr,Gr,jr){for(var Jr=this._nRounds,Wr=Rr[Fr]^Nr[0],ni=Rr[Fr+1]^Nr[1],Mr=Rr[Fr+2]^Nr[2],di=Rr[Fr+3]^Nr[3],Ei=4,_i=1;_i<Jr;_i++){var Fi=Hr[Wr>>>24]^Ur[ni>>>16&255]^Zr[Mr>>>8&255]^Gr[di&255]^Nr[Ei++],si=Hr[ni>>>24]^Ur[Mr>>>16&255]^Zr[di>>>8&255]^Gr[Wr&255]^Nr[Ei++],ci=Hr[Mr>>>24]^Ur[di>>>16&255]^Zr[Wr>>>8&255]^Gr[ni&255]^Nr[Ei++],$r=Hr[di>>>24]^Ur[Wr>>>16&255]^Zr[ni>>>8&255]^Gr[Mr&255]^Nr[Ei++];Wr=Fi,ni=si,Mr=ci,di=$r}var Fi=(jr[Wr>>>24]<<24|jr[ni>>>16&255]<<16|jr[Mr>>>8&255]<<8|jr[di&255])^Nr[Ei++],si=(jr[ni>>>24]<<24|jr[Mr>>>16&255]<<16|jr[di>>>8&255]<<8|jr[Wr&255])^Nr[Ei++],ci=(jr[Mr>>>24]<<24|jr[di>>>16&255]<<16|jr[Wr>>>8&255]<<8|jr[ni&255])^Nr[Ei++],$r=(jr[di>>>24]<<24|jr[Wr>>>16&255]<<16|jr[ni>>>8&255]<<8|jr[Mr&255])^Nr[Ei++];Rr[Fr]=Fi,Rr[Fr+1]=si,Rr[Fr+2]=ci,Rr[Fr+3]=$r},keySize:256/32});or.AES=fr._createHelper(Dr)}(),ar.AES})}(aes)),aes.exports}var tripledes={exports:{}},hasRequiredTripledes;function requireTripledes(){return hasRequiredTripledes||(hasRequiredTripledes=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(ar){return function(){var or=ar,ur=or.lib,fr=ur.WordArray,dr=ur.BlockCipher,pr=or.algo,br=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],_r=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],yr=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],mr=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],Er=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],gr=pr.DES=dr.extend({_doReset:function(){for(var Or=this._key,Dr=Or.words,Rr=[],Fr=0;Fr<56;Fr++){var Nr=br[Fr]-1;Rr[Fr]=Dr[Nr>>>5]>>>31-Nr%32&1}for(var Hr=this._subKeys=[],Ur=0;Ur<16;Ur++){for(var Zr=Hr[Ur]=[],Gr=yr[Ur],Fr=0;Fr<24;Fr++)Zr[Fr/6|0]|=Rr[(_r[Fr]-1+Gr)%28]<<31-Fr%6,Zr[4+(Fr/6|0)]|=Rr[28+(_r[Fr+24]-1+Gr)%28]<<31-Fr%6;Zr[0]=Zr[0]<<1|Zr[0]>>>31;for(var Fr=1;Fr<7;Fr++)Zr[Fr]=Zr[Fr]>>>(Fr-1)*4+3;Zr[7]=Zr[7]<<5|Zr[7]>>>27}for(var jr=this._invSubKeys=[],Fr=0;Fr<16;Fr++)jr[Fr]=Hr[15-Fr]},encryptBlock:function(Or,Dr){this._doCryptBlock(Or,Dr,this._subKeys)},decryptBlock:function(Or,Dr){this._doCryptBlock(Or,Dr,this._invSubKeys)},_doCryptBlock:function(Or,Dr,Rr){this._lBlock=Or[Dr],this._rBlock=Or[Dr+1],Ir.call(this,4,252645135),Ir.call(this,16,65535),Ar.call(this,2,858993459),Ar.call(this,8,16711935),Ir.call(this,1,1431655765);for(var Fr=0;Fr<16;Fr++){for(var Nr=Rr[Fr],Hr=this._lBlock,Ur=this._rBlock,Zr=0,Gr=0;Gr<8;Gr++)Zr|=mr[Gr][((Ur^Nr[Gr])&Er[Gr])>>>0];this._lBlock=Ur,this._rBlock=Hr^Zr}var jr=this._lBlock;this._lBlock=this._rBlock,this._rBlock=jr,Ir.call(this,1,1431655765),Ar.call(this,8,16711935),Ar.call(this,2,858993459),Ir.call(this,16,65535),Ir.call(this,4,252645135),Or[Dr]=this._lBlock,Or[Dr+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function Ir(Or,Dr){var Rr=(this._lBlock>>>Or^this._rBlock)&Dr;this._rBlock^=Rr,this._lBlock^=Rr<<Or}function Ar(Or,Dr){var Rr=(this._rBlock>>>Or^this._lBlock)&Dr;this._lBlock^=Rr,this._rBlock^=Rr<<Or}or.DES=dr._createHelper(gr);var kr=pr.TripleDES=dr.extend({_doReset:function(){var Or=this._key,Dr=Or.words;if(Dr.length!==2&&Dr.length!==4&&Dr.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var Rr=Dr.slice(0,2),Fr=Dr.length<4?Dr.slice(0,2):Dr.slice(2,4),Nr=Dr.length<6?Dr.slice(0,2):Dr.slice(4,6);this._des1=gr.createEncryptor(fr.create(Rr)),this._des2=gr.createEncryptor(fr.create(Fr)),this._des3=gr.createEncryptor(fr.create(Nr))},encryptBlock:function(Or,Dr){this._des1.encryptBlock(Or,Dr),this._des2.decryptBlock(Or,Dr),this._des3.encryptBlock(Or,Dr)},decryptBlock:function(Or,Dr){this._des3.decryptBlock(Or,Dr),this._des2.encryptBlock(Or,Dr),this._des1.decryptBlock(Or,Dr)},keySize:192/32,ivSize:64/32,blockSize:64/32});or.TripleDES=dr._createHelper(kr)}(),ar.TripleDES})}(tripledes)),tripledes.exports}var rc4={exports:{}},hasRequiredRc4;function requireRc4(){return hasRequiredRc4||(hasRequiredRc4=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(ar){return function(){var or=ar,ur=or.lib,fr=ur.StreamCipher,dr=or.algo,pr=dr.RC4=fr.extend({_doReset:function(){for(var yr=this._key,mr=yr.words,Er=yr.sigBytes,gr=this._S=[],Ir=0;Ir<256;Ir++)gr[Ir]=Ir;for(var Ir=0,Ar=0;Ir<256;Ir++){var kr=Ir%Er,Or=mr[kr>>>2]>>>24-kr%4*8&255;Ar=(Ar+gr[Ir]+Or)%256;var Dr=gr[Ir];gr[Ir]=gr[Ar],gr[Ar]=Dr}this._i=this._j=0},_doProcessBlock:function(yr,mr){yr[mr]^=br.call(this)},keySize:256/32,ivSize:0});function br(){for(var yr=this._S,mr=this._i,Er=this._j,gr=0,Ir=0;Ir<4;Ir++){mr=(mr+1)%256,Er=(Er+yr[mr])%256;var Ar=yr[mr];yr[mr]=yr[Er],yr[Er]=Ar,gr|=yr[(yr[mr]+yr[Er])%256]<<24-Ir*8}return this._i=mr,this._j=Er,gr}or.RC4=fr._createHelper(pr);var _r=dr.RC4Drop=pr.extend({cfg:pr.cfg.extend({drop:192}),_doReset:function(){pr._doReset.call(this);for(var yr=this.cfg.drop;yr>0;yr--)br.call(this)}});or.RC4Drop=fr._createHelper(_r)}(),ar.RC4})}(rc4)),rc4.exports}var rabbit={exports:{}},hasRequiredRabbit;function requireRabbit(){return hasRequiredRabbit||(hasRequiredRabbit=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(ar){return function(){var or=ar,ur=or.lib,fr=ur.StreamCipher,dr=or.algo,pr=[],br=[],_r=[],yr=dr.Rabbit=fr.extend({_doReset:function(){for(var Er=this._key.words,gr=this.cfg.iv,Ir=0;Ir<4;Ir++)Er[Ir]=(Er[Ir]<<8|Er[Ir]>>>24)&16711935|(Er[Ir]<<24|Er[Ir]>>>8)&4278255360;var Ar=this._X=[Er[0],Er[3]<<16|Er[2]>>>16,Er[1],Er[0]<<16|Er[3]>>>16,Er[2],Er[1]<<16|Er[0]>>>16,Er[3],Er[2]<<16|Er[1]>>>16],kr=this._C=[Er[2]<<16|Er[2]>>>16,Er[0]&4294901760|Er[1]&65535,Er[3]<<16|Er[3]>>>16,Er[1]&4294901760|Er[2]&65535,Er[0]<<16|Er[0]>>>16,Er[2]&4294901760|Er[3]&65535,Er[1]<<16|Er[1]>>>16,Er[3]&4294901760|Er[0]&65535];this._b=0;for(var Ir=0;Ir<4;Ir++)mr.call(this);for(var Ir=0;Ir<8;Ir++)kr[Ir]^=Ar[Ir+4&7];if(gr){var Or=gr.words,Dr=Or[0],Rr=Or[1],Fr=(Dr<<8|Dr>>>24)&16711935|(Dr<<24|Dr>>>8)&4278255360,Nr=(Rr<<8|Rr>>>24)&16711935|(Rr<<24|Rr>>>8)&4278255360,Hr=Fr>>>16|Nr&4294901760,Ur=Nr<<16|Fr&65535;kr[0]^=Fr,kr[1]^=Hr,kr[2]^=Nr,kr[3]^=Ur,kr[4]^=Fr,kr[5]^=Hr,kr[6]^=Nr,kr[7]^=Ur;for(var Ir=0;Ir<4;Ir++)mr.call(this)}},_doProcessBlock:function(Er,gr){var Ir=this._X;mr.call(this),pr[0]=Ir[0]^Ir[5]>>>16^Ir[3]<<16,pr[1]=Ir[2]^Ir[7]>>>16^Ir[5]<<16,pr[2]=Ir[4]^Ir[1]>>>16^Ir[7]<<16,pr[3]=Ir[6]^Ir[3]>>>16^Ir[1]<<16;for(var Ar=0;Ar<4;Ar++)pr[Ar]=(pr[Ar]<<8|pr[Ar]>>>24)&16711935|(pr[Ar]<<24|pr[Ar]>>>8)&4278255360,Er[gr+Ar]^=pr[Ar]},blockSize:128/32,ivSize:64/32});function mr(){for(var Er=this._X,gr=this._C,Ir=0;Ir<8;Ir++)br[Ir]=gr[Ir];gr[0]=gr[0]+1295307597+this._b|0,gr[1]=gr[1]+3545052371+(gr[0]>>>0<br[0]>>>0?1:0)|0,gr[2]=gr[2]+886263092+(gr[1]>>>0<br[1]>>>0?1:0)|0,gr[3]=gr[3]+1295307597+(gr[2]>>>0<br[2]>>>0?1:0)|0,gr[4]=gr[4]+3545052371+(gr[3]>>>0<br[3]>>>0?1:0)|0,gr[5]=gr[5]+886263092+(gr[4]>>>0<br[4]>>>0?1:0)|0,gr[6]=gr[6]+1295307597+(gr[5]>>>0<br[5]>>>0?1:0)|0,gr[7]=gr[7]+3545052371+(gr[6]>>>0<br[6]>>>0?1:0)|0,this._b=gr[7]>>>0<br[7]>>>0?1:0;for(var Ir=0;Ir<8;Ir++){var Ar=Er[Ir]+gr[Ir],kr=Ar&65535,Or=Ar>>>16,Dr=((kr*kr>>>17)+kr*Or>>>15)+Or*Or,Rr=((Ar&4294901760)*Ar|0)+((Ar&65535)*Ar|0);_r[Ir]=Dr^Rr}Er[0]=_r[0]+(_r[7]<<16|_r[7]>>>16)+(_r[6]<<16|_r[6]>>>16)|0,Er[1]=_r[1]+(_r[0]<<8|_r[0]>>>24)+_r[7]|0,Er[2]=_r[2]+(_r[1]<<16|_r[1]>>>16)+(_r[0]<<16|_r[0]>>>16)|0,Er[3]=_r[3]+(_r[2]<<8|_r[2]>>>24)+_r[1]|0,Er[4]=_r[4]+(_r[3]<<16|_r[3]>>>16)+(_r[2]<<16|_r[2]>>>16)|0,Er[5]=_r[5]+(_r[4]<<8|_r[4]>>>24)+_r[3]|0,Er[6]=_r[6]+(_r[5]<<16|_r[5]>>>16)+(_r[4]<<16|_r[4]>>>16)|0,Er[7]=_r[7]+(_r[6]<<8|_r[6]>>>24)+_r[5]|0}or.Rabbit=fr._createHelper(yr)}(),ar.Rabbit})}(rabbit)),rabbit.exports}var rabbitLegacy={exports:{}},hasRequiredRabbitLegacy;function requireRabbitLegacy(){return hasRequiredRabbitLegacy||(hasRequiredRabbitLegacy=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(ar){return function(){var or=ar,ur=or.lib,fr=ur.StreamCipher,dr=or.algo,pr=[],br=[],_r=[],yr=dr.RabbitLegacy=fr.extend({_doReset:function(){var Er=this._key.words,gr=this.cfg.iv,Ir=this._X=[Er[0],Er[3]<<16|Er[2]>>>16,Er[1],Er[0]<<16|Er[3]>>>16,Er[2],Er[1]<<16|Er[0]>>>16,Er[3],Er[2]<<16|Er[1]>>>16],Ar=this._C=[Er[2]<<16|Er[2]>>>16,Er[0]&4294901760|Er[1]&65535,Er[3]<<16|Er[3]>>>16,Er[1]&4294901760|Er[2]&65535,Er[0]<<16|Er[0]>>>16,Er[2]&4294901760|Er[3]&65535,Er[1]<<16|Er[1]>>>16,Er[3]&4294901760|Er[0]&65535];this._b=0;for(var kr=0;kr<4;kr++)mr.call(this);for(var kr=0;kr<8;kr++)Ar[kr]^=Ir[kr+4&7];if(gr){var Or=gr.words,Dr=Or[0],Rr=Or[1],Fr=(Dr<<8|Dr>>>24)&16711935|(Dr<<24|Dr>>>8)&4278255360,Nr=(Rr<<8|Rr>>>24)&16711935|(Rr<<24|Rr>>>8)&4278255360,Hr=Fr>>>16|Nr&4294901760,Ur=Nr<<16|Fr&65535;Ar[0]^=Fr,Ar[1]^=Hr,Ar[2]^=Nr,Ar[3]^=Ur,Ar[4]^=Fr,Ar[5]^=Hr,Ar[6]^=Nr,Ar[7]^=Ur;for(var kr=0;kr<4;kr++)mr.call(this)}},_doProcessBlock:function(Er,gr){var Ir=this._X;mr.call(this),pr[0]=Ir[0]^Ir[5]>>>16^Ir[3]<<16,pr[1]=Ir[2]^Ir[7]>>>16^Ir[5]<<16,pr[2]=Ir[4]^Ir[1]>>>16^Ir[7]<<16,pr[3]=Ir[6]^Ir[3]>>>16^Ir[1]<<16;for(var Ar=0;Ar<4;Ar++)pr[Ar]=(pr[Ar]<<8|pr[Ar]>>>24)&16711935|(pr[Ar]<<24|pr[Ar]>>>8)&4278255360,Er[gr+Ar]^=pr[Ar]},blockSize:128/32,ivSize:64/32});function mr(){for(var Er=this._X,gr=this._C,Ir=0;Ir<8;Ir++)br[Ir]=gr[Ir];gr[0]=gr[0]+1295307597+this._b|0,gr[1]=gr[1]+3545052371+(gr[0]>>>0<br[0]>>>0?1:0)|0,gr[2]=gr[2]+886263092+(gr[1]>>>0<br[1]>>>0?1:0)|0,gr[3]=gr[3]+1295307597+(gr[2]>>>0<br[2]>>>0?1:0)|0,gr[4]=gr[4]+3545052371+(gr[3]>>>0<br[3]>>>0?1:0)|0,gr[5]=gr[5]+886263092+(gr[4]>>>0<br[4]>>>0?1:0)|0,gr[6]=gr[6]+1295307597+(gr[5]>>>0<br[5]>>>0?1:0)|0,gr[7]=gr[7]+3545052371+(gr[6]>>>0<br[6]>>>0?1:0)|0,this._b=gr[7]>>>0<br[7]>>>0?1:0;for(var Ir=0;Ir<8;Ir++){var Ar=Er[Ir]+gr[Ir],kr=Ar&65535,Or=Ar>>>16,Dr=((kr*kr>>>17)+kr*Or>>>15)+Or*Or,Rr=((Ar&4294901760)*Ar|0)+((Ar&65535)*Ar|0);_r[Ir]=Dr^Rr}Er[0]=_r[0]+(_r[7]<<16|_r[7]>>>16)+(_r[6]<<16|_r[6]>>>16)|0,Er[1]=_r[1]+(_r[0]<<8|_r[0]>>>24)+_r[7]|0,Er[2]=_r[2]+(_r[1]<<16|_r[1]>>>16)+(_r[0]<<16|_r[0]>>>16)|0,Er[3]=_r[3]+(_r[2]<<8|_r[2]>>>24)+_r[1]|0,Er[4]=_r[4]+(_r[3]<<16|_r[3]>>>16)+(_r[2]<<16|_r[2]>>>16)|0,Er[5]=_r[5]+(_r[4]<<8|_r[4]>>>24)+_r[3]|0,Er[6]=_r[6]+(_r[5]<<16|_r[5]>>>16)+(_r[4]<<16|_r[4]>>>16)|0,Er[7]=_r[7]+(_r[6]<<8|_r[6]>>>24)+_r[5]|0}or.RabbitLegacy=fr._createHelper(yr)}(),ar.RabbitLegacy})}(rabbitLegacy)),rabbitLegacy.exports}var blowfish={exports:{}},hasRequiredBlowfish;function requireBlowfish(){return hasRequiredBlowfish||(hasRequiredBlowfish=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(ar){return function(){var or=ar,ur=or.lib,fr=ur.BlockCipher,dr=or.algo;const pr=16,br=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],_r=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var yr={pbox:[],sbox:[]};function mr(kr,Or){let Dr=Or>>24&255,Rr=Or>>16&255,Fr=Or>>8&255,Nr=Or&255,Hr=kr.sbox[0][Dr]+kr.sbox[1][Rr];return Hr=Hr^kr.sbox[2][Fr],Hr=Hr+kr.sbox[3][Nr],Hr}function Er(kr,Or,Dr){let Rr=Or,Fr=Dr,Nr;for(let Hr=0;Hr<pr;++Hr)Rr=Rr^kr.pbox[Hr],Fr=mr(kr,Rr)^Fr,Nr=Rr,Rr=Fr,Fr=Nr;return Nr=Rr,Rr=Fr,Fr=Nr,Fr=Fr^kr.pbox[pr],Rr=Rr^kr.pbox[pr+1],{left:Rr,right:Fr}}function gr(kr,Or,Dr){let Rr=Or,Fr=Dr,Nr;for(let Hr=pr+1;Hr>1;--Hr)Rr=Rr^kr.pbox[Hr],Fr=mr(kr,Rr)^Fr,Nr=Rr,Rr=Fr,Fr=Nr;return Nr=Rr,Rr=Fr,Fr=Nr,Fr=Fr^kr.pbox[1],Rr=Rr^kr.pbox[0],{left:Rr,right:Fr}}function Ir(kr,Or,Dr){for(let Ur=0;Ur<4;Ur++){kr.sbox[Ur]=[];for(let Zr=0;Zr<256;Zr++)kr.sbox[Ur][Zr]=_r[Ur][Zr]}let Rr=0;for(let Ur=0;Ur<pr+2;Ur++)kr.pbox[Ur]=br[Ur]^Or[Rr],Rr++,Rr>=Dr&&(Rr=0);let Fr=0,Nr=0,Hr=0;for(let Ur=0;Ur<pr+2;Ur+=2)Hr=Er(kr,Fr,Nr),Fr=Hr.left,Nr=Hr.right,kr.pbox[Ur]=Fr,kr.pbox[Ur+1]=Nr;for(let Ur=0;Ur<4;Ur++)for(let Zr=0;Zr<256;Zr+=2)Hr=Er(kr,Fr,Nr),Fr=Hr.left,Nr=Hr.right,kr.sbox[Ur][Zr]=Fr,kr.sbox[Ur][Zr+1]=Nr;return!0}var Ar=dr.Blowfish=fr.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var kr=this._keyPriorReset=this._key,Or=kr.words,Dr=kr.sigBytes/4;Ir(yr,Or,Dr)}},encryptBlock:function(kr,Or){var Dr=Er(yr,kr[Or],kr[Or+1]);kr[Or]=Dr.left,kr[Or+1]=Dr.right},decryptBlock:function(kr,Or){var Dr=gr(yr,kr[Or],kr[Or+1]);kr[Or]=Dr.left,kr[Or+1]=Dr.right},blockSize:64/32,keySize:128/32,ivSize:64/32});or.Blowfish=fr._createHelper(Ar)}(),ar.Blowfish})}(blowfish)),blowfish.exports}(function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireX64Core(),requireLibTypedarrays(),requireEncUtf16(),requireEncBase64(),requireEncBase64url(),requireMd5(),requireSha1(),requireSha256(),requireSha224(),requireSha512(),requireSha384(),requireSha3(),requireRipemd160(),requireHmac(),requirePbkdf2(),requireEvpkdf(),requireCipherCore(),requireModeCfb(),requireModeCtr(),requireModeCtrGladman(),requireModeOfb(),requireModeEcb(),requirePadAnsix923(),requirePadIso10126(),requirePadIso97971(),requirePadZeropadding(),requirePadNopadding(),requireFormatHex(),requireAes(),requireTripledes(),requireRc4(),requireRabbit(),requireRabbitLegacy(),requireBlowfish())})(commonjsGlobal$1,function(ar){return ar})})(cryptoJs);var cryptoJsExports=cryptoJs.exports;const _0x6aa883=getDefaultExportFromCjs$1(cryptoJsExports),_0x3439c1=_0x512d;(function(lr,cr){const ar=_0x512d,or=lr();for(;[];)try{if(-parseInt(ar(370))/1+parseInt(ar(309))/2*(parseInt(ar(287))/3)+-parseInt(ar(337))/4+parseInt(ar(362))/5*(parseInt(ar(386))/6)+parseInt(ar(393))/7*(-parseInt(ar(327))/8)+parseInt(ar(395))/9+parseInt(ar(300))/10*(parseInt(ar(307))/11)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x3a9a,989622);function _0x512d(lr,cr){const ar=_0x3a9a();return _0x512d=function(or,ur){return or=or-283,ar[or]},_0x512d(lr,cr)}function _0x3a9a(){const lr=["modify","Failed to save state:","stores","add","description","getCollectionItems","equals","removeItem","deleteAllCollections","3352QGrkuM","lib","credits","VME_INTERNAL.","collection_name","saveData","deleteSave","setItem","name","rom_data_id","6289080EUReVi","files","platform_id","++id, collection_unique_name, collection_title, collection_image","storeState","Save state or program data is missing.","collection_id","length","onloadend","getCollections","++id, save_data","createElement","title","blob","width","Failed to delete entries with id ","orderBy","getSaveData","create","++id, platform_id, program_name, save_data_id, rom_data_id, timestamp","get","romData","file","dependencies","createObjectURL","9060035UptfYu","toBlob","timestamp","error","Save state not found.","delete","getItem","++id, collection_id, platform_id, title, credits, description, image, rom_name, rom_data_id, rom_url, launched","827603iQlLfc","image/png","version","where","result","clearValue","readAsDataURL","screenshot","getFile","upgrade","revokeObjectURL","first","onload","getAllSaveMeta","image","checkFiles","6nOuvUC","onerror","atari2600","getContext","VME","transaction","key, data","19033WQZcAY","key","3827115RiNUVG","canvas","base64","base64ToBlob","getRomData","9615ZmTzRt","rom_data",".software","storeValue","count","drawImage","Failed to delete collections:","split","blobToBase64","collection_image","data","collectionMeta","data_type","10ktNaBW","program_name","filename","type","toCollection","toArray","collectionItemData","9200884cMKCKY","map","908FHpyIs","push","++id, rom_data, hash","storeFile","height","amiga","save_data_id","saveMeta","++id, rom_data, hash, data_type"];return _0x3a9a=function(){return lr},_0x3a9a()}var Qi,Bs,Sc,C0,zu,Ac,df;const Uo=class Uo{constructor(){mi(this,C0);mi(this,Ac);mi(this,Qi,void 0);const cr=_0x3439c1;Ci(this,Qi,new Xn(Lr(Uo,Sc))),Lr(this,Qi)[cr(372)](2)[cr(320)]({files:"key, data",saveMeta:cr(356),saveData:cr(347),romData:cr(311)}),Lr(this,Qi)[cr(372)](3)[cr(320)]({files:cr(392),saveMeta:cr(356),saveData:cr(347),romData:cr(317),collectionMeta:cr(340),collectionItemData:cr(369)})[cr(379)](ar=>{const or=cr;return ar.table("romData")[or(304)]()[or(318)](ur=>{const fr=or;ur[fr(299)]="base64"})})}static[_0x3439c1(290)](cr,ar){const or=_0x3439c1;localStorage[or(334)](Lr(Uo,Bs)+cr,ar)}static[_0x3439c1(375)](cr){const ar=_0x3439c1;localStorage[ar(325)](Lr(Uo,Bs)+cr)}static getValue(cr,ar){const or=_0x3439c1;let ur=localStorage[or(368)](Lr(Uo,Bs)+cr);return ur??ar}async[_0x3439c1(312)](cr,ar){const or=_0x3439c1;await Lr(this,Qi)[or(338)].put({key:cr,data:ar})}async[_0x3439c1(378)](cr){const ar=_0x3439c1,or=await Lr(this,Qi)[ar(338)][ar(373)]({key:cr})[ar(381)]();return or?or[ar(297)]:null}async deleteFile(cr){const ar=_0x3439c1;await Lr(this,Qi)[ar(338)].where({key:cr})[ar(367)]()}async[_0x3439c1(385)](cr){return new Promise(async ar=>{const or=_0x512d;let ur={},fr=[];if(cr[or(360)]){const br=cr[or(360)][or(308)](_r=>({..._r,key:cr[or(339)]+"."+_r[or(394)]}));for(const _r of br){const yr=await this.getFile(_r.key);yr?ur[_r[or(394)]]=yr:fr.push(_r[or(303)])}}const dr=cr[or(339)]+or(289),pr=await this[or(378)](dr)||null;ar([ur,fr,pr])})}async storeCollection(cr,ar,or,ur){const fr=_0x3439c1;await this[fr(326)]();const dr=[];for(const pr of ur){const br=await Pi(this,C0,zu).call(this,pr[fr(359)]),_r=await this.blobToBase64(pr[fr(384)]),yr=await Lr(this,Qi)[fr(358)][fr(373)]({hash:br}).first();dr[fr(310)]({item:pr,hash:br,existing:yr,itemImageB64:_r})}try{return await Lr(this,Qi)[fr(391)]("rw",Lr(this,Qi)[fr(298)],Lr(this,Qi)[fr(306)],Lr(this,Qi)[fr(358)],async()=>{const pr=fr,br=await Lr(this,Qi)[pr(298)][pr(321)]({collection_unique_name:cr,collection_title:ar,collection_image:or});for(const{item:_r,hash:yr,existing:mr,itemImageB64:Er}of dr){let gr;mr?gr=mr.id:gr=await Lr(this,Qi)[pr(358)][pr(321)]({rom_data:_r[pr(359)],hash:yr,data_type:pr(350)}),await Lr(this,Qi)[pr(306)][pr(321)]({collection_id:br,platform_id:_r[pr(339)],title:_r[pr(349)],credits:_r[pr(329)],description:_r[pr(322)],image:Er,rom_name:_r[pr(302)],rom_data_id:gr,launched:![]})}}),!![]}catch(pr){return console[fr(365)]("Failed to save collection:",pr),![]}}async[_0x3439c1(323)](){const cr=_0x3439c1;return(await Lr(this,Qi)[cr(306)][cr(305)]())[cr(308)](or=>{const ur=cr;return or[ur(377)]&&(or[ur(343)]=or.id,or[ur(335)]=or[ur(331)],or[ur(384)]=this[ur(285)](or[ur(296)])),or})}async[_0x3439c1(346)](){const cr=_0x3439c1;return(await Lr(this,Qi)[cr(298)].toArray())[cr(308)](or=>{const ur=cr;return or[ur(377)]&&(or.collection_id=or.id,or[ur(335)]=or[ur(331)],or[ur(384)]=this[ur(285)](or[ur(296)])),or})}async[_0x3439c1(341)](cr,ar,or,ur,fr){const dr=_0x3439c1,pr=await Pi(this,C0,zu).call(this,ar),br=await Pi(this,Ac,df).call(this,ur,or),_r=await this[dr(295)](br),yr=ar,mr=await this.blobToBase64(cr);try{await Lr(this,Qi)[dr(391)]("rw",Lr(this,Qi).saveMeta,Lr(this,Qi)[dr(332)],Lr(this,Qi)[dr(358)],async()=>{const Er=dr,gr=await Lr(this,Qi)[Er(358)][Er(373)]({hash:pr}).first();let Ir;gr==null?Ir=await Lr(this,Qi)[Er(358)][Er(321)]({rom_data:yr,hash:pr,data_type:"blob"}):Ir=gr.id;let Ar=await Lr(this,Qi).saveData.add({save_data:mr});await Lr(this,Qi)[Er(316)][Er(321)]({platform_id:ur,program_name:fr,screenshot:_r,rom_data_id:Ir,save_data_id:Ar,timestamp:Date.now()})})}catch(Er){console[dr(365)](dr(319),Er)}}async[_0x3439c1(295)](cr){return new Promise((ar,or)=>{const ur=_0x512d,fr=new FileReader;fr[ur(345)]=()=>ar(fr[ur(374)]),fr.onerror=or,fr[ur(376)](cr)})}base64ToBlob(cr){const ar=_0x3439c1,or=atob(cr[ar(294)](",")[1]),ur=cr.split(",")[0][ar(294)](":")[1][ar(294)](";")[0],fr=new ArrayBuffer(or[ar(344)]),dr=new Uint8Array(fr);for(let pr=0;pr<or[ar(344)];pr++)dr[pr]=or.charCodeAt(pr);return new Blob([fr],{type:ur})}async[_0x3439c1(383)](){const cr=_0x3439c1;return(await Lr(this,Qi).saveMeta[cr(353)](cr(364)).reverse()[cr(305)]())[cr(308)](or=>{const ur=cr;return or.screenshot&&(or[ur(377)]=this[ur(285)](or[ur(377)])),or})}async[_0x3439c1(286)](cr){const ar=_0x3439c1,or=await Lr(this,Qi)[ar(358)][ar(357)](cr);return or[ar(299)]==ar(284)&&(or[ar(288)]=this.base64ToBlob(or.rom_data)),or}async[_0x3439c1(354)](cr){const ar=_0x3439c1,or=await Lr(this,Qi)[ar(316)][ar(357)](cr);if(!or)throw new Error(ar(366));const ur=await Lr(this,Qi)[ar(332)][ar(357)](or[ar(315)]),fr=await Lr(this,Qi)[ar(358)].get(or[ar(336)]);let dr;if(fr[ar(299)]==ar(284)?dr=this.base64ToBlob(fr[ar(288)]):dr=fr[ar(288)],!ur||!fr)throw new Error(ar(342));const pr=this[ar(285)](ur.save_data);return{platform_id:or.platform_id,program_name:or[ar(301)],save_data:pr,rom_data:dr,timestamp:or[ar(364)]}}async[_0x3439c1(333)](cr){const ar=_0x3439c1;try{await Lr(this,Qi).transaction("rw",Lr(this,Qi)[ar(316)],Lr(this,Qi)[ar(332)],Lr(this,Qi)[ar(306)],Lr(this,Qi)[ar(358)],async()=>{const or=ar,ur=await Lr(this,Qi)[or(316)][or(357)](cr);if(ur){await Lr(this,Qi)[or(332)][or(373)]("id").equals(ur[or(315)])[or(367)](),await Lr(this,Qi)[or(316)].delete(cr);let fr=await Lr(this,Qi)[or(316)][or(373)]("rom_data_id")[or(324)](ur.rom_data_id).count();await Lr(this,Qi).collectionItemData[or(373)](or(336))[or(324)](ur[or(336)]).count()+fr==0&&await Lr(this,Qi).romData[or(373)]("id")[or(324)](ur[or(336)])[or(367)]()}})}catch(or){console.error(ar(352)+cr+":",or)}}async[_0x3439c1(326)](){const cr=_0x3439c1;try{await Lr(this,Qi)[cr(391)]("rw",Lr(this,Qi).collectionMeta,Lr(this,Qi)[cr(306)],Lr(this,Qi)[cr(316)],Lr(this,Qi)[cr(358)],async()=>{const ar=cr,or=await Lr(this,Qi)[ar(298)][ar(305)]();for(let ur of or){const fr=ur.id,dr=await Lr(this,Qi)[ar(306)][ar(373)](ar(343)).equals(fr)[ar(305)]();if(dr[ar(344)]>0){await Lr(this,Qi)[ar(306)][ar(373)](ar(343)).equals(fr).delete(),await Lr(this,Qi)[ar(298)].delete(fr);for(let pr of dr){const br=pr[ar(336)];let _r=await Lr(this,Qi)[ar(316)].where("rom_data_id")[ar(324)](br)[ar(291)]();await Lr(this,Qi)[ar(306)].where("rom_data_id")[ar(324)](br).count()+_r==0&&await Lr(this,Qi)[ar(358)].where("id").equals(br)[ar(367)]()}}}})}catch(ar){console[cr(365)](cr(293),ar)}}};Qi=new WeakMap,Bs=new WeakMap,Sc=new WeakMap,C0=new WeakSet,zu=async function(cr){return new Promise((ar,or)=>{const ur=_0x512d,fr=new FileReader;fr[ur(382)]=function(dr){const pr=ur,br=dr.target[pr(374)],_r=_0x6aa883[pr(328)].WordArray[pr(355)](br),yr=_0x6aa883.SHA256(_r).toString();ar(yr)},fr[ur(387)]=function(dr){or(dr)},fr.readAsArrayBuffer(cr)})},Ac=new WeakSet,df=function(cr,ar){const or=_0x3439c1;return cr!=or(388)&&cr!=or(314)?ar:new Promise((ur,fr)=>{const dr=or,pr=new Image,br=URL[dr(361)](ar);pr[dr(382)]=()=>{const _r=dr,yr=pr[_r(351)],mr=pr[_r(313)],Er=yr/mr,gr=document[_r(348)](_r(283)),Ir=gr[_r(389)]("2d");cr==_r(388)&&Er<.8?(gr[_r(351)]=yr*2,gr.height=mr,Ir[_r(292)](pr,0,0,gr[_r(351)],gr[_r(313)])):cr==_r(314)&&Er>2?(gr[_r(351)]=yr/2,gr[_r(313)]=mr,Ir[_r(292)](pr,0,0,gr.width,gr[_r(313)])):(gr[_r(351)]=yr,gr.height=mr,Ir[_r(292)](pr,0,0)),gr[_r(363)](Ar=>{URL[_r(380)](br),ur(Ar)},_r(371))},pr[dr(387)]=_r=>{URL[dr(380)](br),fr(_r)},pr.src=br})},mi(Uo,Bs,_0x3439c1(330)),mi(Uo,Sc,_0x3439c1(390));let StorageManager=Uo;const _0xa3f433=_0x59d2;function _0x4d7a(){const lr=["1610tNMHCO","append","40rUPvWY","add","process_input","show_results","LINES","innerHTML","getValue","span","createElement","get_keywords","click","appendChild","process_selection","get_help","setAttribute","selection_changed","install","tag","3509262uWraMg","3190451VxkXFE","cli","3036rbmTbu","1CkBaTc","single","data","length","addEventListener","#cors_results","classList","label","4nxbGmI","update","878168JSZWrF","1401579gBPjiu","singleline","uninstall","224695KzrWRw","1195732bnXIVE","corsrow","exit_selection","forEach"];return _0x4d7a=function(){return lr},_0x4d7a()}(function(lr,cr){const ar=_0x59d2,or=lr();for(;[];)try{if(-parseInt(ar(175))/1*(-parseInt(ar(147))/2)+-parseInt(ar(171))/3+parseInt(ar(140))/4*(-parseInt(ar(146))/5)+parseInt(ar(174))/6*(parseInt(ar(151))/7)+-parseInt(ar(142))/8+parseInt(ar(143))/9+-parseInt(ar(153))/10*(-parseInt(ar(172))/11)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x4d7a,705677);function _0x59d2(lr,cr){const ar=_0x4d7a();return _0x59d2=function(or,ur){return or=or-137,ar[or]},_0x59d2(lr,cr)}var Ic,xf;const el=class el{constructor(){mi(this,Ic);if(new.target===el)throw new Error}[_0xa3f433(162)](){throw new Error}[_0xa3f433(166)](){throw new Error}[_0xa3f433(155)](cr,ar){throw new Error}[_0xa3f433(169)](){}[_0xa3f433(145)](){}is_selection_enabled(){return![]}is_enter_required(){return![]}[_0xa3f433(149)](){return![]}[_0xa3f433(165)](cr){return![]}set_cli(cr){const ar=_0xa3f433;this[ar(173)]=cr}[_0xa3f433(156)](cr,ar){cr!=[]&&Pi(this,Ic,xf).call(this,cr,ar)}[_0xa3f433(168)](cr){}};Ic=new WeakSet,xf=function(cr,ar){const or=_0xa3f433,ur=s$1(or(137));ur.innerHTML="",cr[or(150)](fr=>{const dr=or,pr=document[dr(161)]("p");pr[dr(167)]("data-value",fr[dr(177)]),pr.classList[dr(154)](dr(148));const br=document.createElement(dr(160));if(StorageManager[dr(159)](dr(157))!=dr(176)||br[dr(138)][dr(154)](dr(144)),fr.tag){const _r=document[dr(161)](dr(160));_r[dr(138)][dr(154)](dr(170)),_r[dr(158)]="["+fr[dr(170)]+"] ",br[dr(164)](_r)}br[dr(152)](fr[dr(139)]),pr[dr(152)](br),pr[dr(179)](dr(163),_r=>{this[dr(165)](fr)}),ur[dr(152)](pr)}),cr[or(178)]>0&&ar&&(this.cli.set_selection_mode(!![]),this[or(173)][or(141)]())};let CommandBase=el;const _0x8eaa27=_0x2888;(function(lr,cr){const ar=_0x2888,or=lr();for(;[];)try{if(parseInt(ar(145))/1*(parseInt(ar(141))/2)+parseInt(ar(142))/3+-parseInt(ar(143))/4*(parseInt(ar(133))/5)+-parseInt(ar(132))/6*(-parseInt(ar(137))/7)+parseInt(ar(139))/8*(-parseInt(ar(144))/9)+parseInt(ar(134))/10*(-parseInt(ar(131))/11)+parseInt(ar(147))/12*(parseInt(ar(140))/13)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x1e83,277837);const QJ_IDLE_COLOR=_0x8eaa27(135),QJ_ACTIVE_COLOR="#88888866";function _0x2888(lr,cr){const ar=_0x1e83();return _0x2888=function(or,ur){return or=or-131,ar[or]},_0x2888(lr,cr)}function _0x1e83(){const lr=["3581357HbwvGa","2kutgxy","1169391ZQoHTX","4CwgCJQ","1075743urGNmZ","413211fxCyOH","#88888888","12zNLZoi","66ALhzns","35658pFfjpU","538385aKaXXu","902900kwdlhu","#88888844","COLLECTION_BROWSER_ITEM_INDEX","385VRxZSJ","BOOT_TO","32nvjjTn"];return _0x1e83=function(){return lr},_0x1e83()}const QJ_LABEL_COLOR=_0x8eaa27(146),BOOT_TO=_0x8eaa27(138),COLLECTION_BROWSER_COLLECTION_INDEX="COLLECTION_BROWSER_COLLECTION_INDEX",COLLECTION_BROWSER_ITEM_INDEX=_0x8eaa27(136),BOOT_TO_COLLECTION_BROWSER="COMPILATIONS",JOYSTICK_TOUCH_MODE={QUICKJOY_PRIMARY:100,QUICKSHOT_DYNAMIC:200,HIDEAWAY:1e3},MOUSE_TOUCH_MODE={TRACKPAD_BUTTONS:100};var _0x57e620=_0x2a4c;function _0x2a4c(lr,cr){var ar=_0x47d5();return _0x2a4c=function(or,ur){or=or-139;var fr=ar[or];return fr},_0x2a4c(lr,cr)}(function(lr,cr){for(var ar=_0x2a4c,or=lr();[];)try{var ur=parseInt(ar(149))/1*(parseInt(ar(140))/2)+parseInt(ar(167))/3+-parseInt(ar(139))/4+-parseInt(ar(156))/5+parseInt(ar(168))/6+parseInt(ar(169))/7*(-parseInt(ar(155))/8)+parseInt(ar(174))/9*(parseInt(ar(152))/10);if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x47d5,619338);function _0x47d5(){var lr=["gridArea","pointerEvents","borderRadius","appendChild","addEventListener","12px","preventDefault","trigger","1928829YZXurM","3793314MTxvWi","496146rNnwvv","div","justifyContent","white","color","54OLKekb","4688904mXDCiw","148226hpszYu","state","classList","bold","elListener","add","touchend","flex","backgroundColor","9tHQvlZ","touch","alignItems","2219560RZSesd","style","touchmove","48WaWqkB","5285415qpVMtS","createElement","fast-button"];return _0x47d5=function(){return lr},_0x47d5()}var Cc,pf;class SingleTouchButton{constructor(cr,ar,or,ur,fr,dr="12px"){mi(this,Cc);var pr=_0x2a4c,br=Pi(this,Cc,pf).call(this,ar,or,ur,dr);cr[pr(162)](br),this.el=br,this.el[pr(153)][pr(173)]=QJ_LABEL_COLOR,this.state=![],this[pr(144)]=fr;var _r=this;br.addEventListener("touchstart",function(yr){var mr=pr;_r[mr(150)](yr,!![])}),br.addEventListener(pr(154),function(yr){var mr=pr;_r[mr(150)](yr,!![])}),br[pr(163)](pr(146),function(yr){var mr=pr;yr[mr(165)](),_r[mr(150)](yr,![])})}[_0x57e620(150)](cr,ar){var or=_0x57e620,ur=![];ar&&(ur=!![]),ur!=this.state&&(this[or(141)]=ur,this.elListener[or(166)](this[or(141)]),this.el[or(153)].background=this.state?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR)}}Cc=new WeakSet,pf=function(cr,ar,or,ur=_0x57e620(164)){var fr=_0x57e620,dr=document[fr(157)](fr(170));return dr[fr(142)][fr(145)](fr(158)),dr.innerHTML=cr,ar!=null&&(dr[fr(153)][fr(159)]=ar),or!=null&&(dr.id=or),dr[fr(153)][fr(148)]=QJ_IDLE_COLOR,dr[fr(153)][fr(161)]=ur,dr[fr(153)].display=fr(147),dr.style[fr(151)]="center",dr[fr(153)][fr(173)]=fr(172),dr[fr(153)].fontWeight=fr(143),dr[fr(153)][fr(171)]="center",dr.style[fr(160)]="auto",dr};function _0x3821(){var lr=["4wUejFJ","629208tykfNX","22274628nhyqRF","trigger","440gAMSSn","6CjjXZH","11wiQvIY","69279FbafpP","1812100nMSVHd","4DtUoXB","1729164YTNiAo","278045dYlFjI","5380160BobSRq"];return _0x3821=function(){return lr},_0x3821()}var _0x4ce7c2=_0x3dc5;function _0x3dc5(lr,cr){var ar=_0x3821();return _0x3dc5=function(or,ur){or=or-170;var fr=ar[or];return fr},_0x3dc5(lr,cr)}(function(lr,cr){for(var ar=_0x3dc5,or=lr();[];)try{var ur=-parseInt(ar(181))/1*(parseInt(ar(179))/2)+parseInt(ar(180))/3*(-parseInt(ar(170))/4)+-parseInt(ar(178))/5*(parseInt(ar(175))/6)+parseInt(ar(177))/7*(parseInt(ar(174))/8)+-parseInt(ar(171))/9+-parseInt(ar(182))/10+parseInt(ar(176))/11*(parseInt(ar(172))/12);if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x3821,297728);class TouchButtonListener{[_0x4ce7c2(173)](cr){}}var _0xc0296=_0x1e39;(function(lr,cr){for(var ar=_0x1e39,or=lr();[];)try{var ur=-parseInt(ar(409))/1*(parseInt(ar(411))/2)+parseInt(ar(413))/3+-parseInt(ar(405))/4+parseInt(ar(410))/5*(parseInt(ar(407))/6)+-parseInt(ar(414))/7+parseInt(ar(412))/8+parseInt(ar(415))/9;if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x17d3,862114);var qs;class SingleTouchButtonJoyListener extends TouchButtonListener{constructor(ar,or){var ur=_0x1e39;super();mi(this,qs,void 0);Ci(this,qs,ar),this[ur(406)]=or,this[ur(404)]=this.trigger[ur(408)](this)}[_0xc0296(404)](ar){var or=_0xc0296;ar?Lr(this,qs)[or(416)](this[or(406)]):Lr(this,qs).pressUp(this[or(406)])}}qs=new WeakMap;function _0x1e39(lr,cr){var ar=_0x17d3();return _0x1e39=function(or,ur){or=or-404;var fr=ar[or];return fr},_0x1e39(lr,cr)}function _0x17d3(){var lr=["5jaKvyq","822yemvJc","2098160ROyMPf","4143348OaeRrK","11855067hxZRSp","9232002JKxtWa","pressDown","trigger","1949420RcypMQ","input","2995446OGjofo","bind","305jzAAyO"];return _0x17d3=function(){return lr},_0x17d3()}function _0x10b8(){const lr=["34893ALwsdC","168954scgeVA","keyup","trigger","keydown","3oHkwOW","927372jMCXkQ","7tWAvuC","12196xkkRhs","330WPWxfD","32622qjcDOU","65fZNRCX","34331YvnQrM","dispatchEvent","50hvvLlx","174084rYtkUE","bind","112IASNvi"];return _0x10b8=function(){return lr},_0x10b8()}(function(lr,cr){const ar=_0x5375,or=lr();for(;[];)try{if(parseInt(ar(223))/1+-parseInt(ar(232))/2*(parseInt(ar(227))/3)+parseInt(ar(230))/4*(-parseInt(ar(231))/5)+-parseInt(ar(228))/6*(-parseInt(ar(229))/7)+parseInt(ar(221))/8*(-parseInt(ar(222))/9)+parseInt(ar(236))/10*(-parseInt(ar(234))/11)+parseInt(ar(237))/12*(parseInt(ar(233))/13)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x10b8,108623);function _0x5375(lr,cr){const ar=_0x10b8();return _0x5375=function(or,ur){return or=or-220,ar[or]},_0x5375(lr,cr)}var Ns,Ls,Ms,jo,kc,_f,Oc,vf;class SingleTouchButtonKbListener extends TouchButtonListener{constructor(ar,or,ur,fr=document){const dr=_0x5375;super();mi(this,kc);mi(this,Oc);mi(this,Ns,void 0);mi(this,Ls,void 0);mi(this,Ms,void 0);mi(this,jo,void 0);Ci(this,Ls,ar),Ci(this,Ms,or),Ci(this,jo,ur),Ci(this,Ns,fr),this[dr(225)]=this[dr(225)][dr(220)](this)}trigger(ar){ar?Pi(this,kc,_f).call(this):Pi(this,Oc,vf).call(this)}}Ns=new WeakMap,Ls=new WeakMap,Ms=new WeakMap,jo=new WeakMap,kc=new WeakSet,_f=function(){const ar=_0x5375;let or=new KeyboardEvent(ar(226),{key:Lr(this,Ls),code:Lr(this,Ms),keyCode:Lr(this,jo),charCode:Lr(this,jo),bubbles:!![],cancelable:!![]});Lr(this,Ns).dispatchEvent(or)},Oc=new WeakSet,vf=function(){const ar=_0x5375;let or=new KeyboardEvent(ar(224),{key:Lr(this,Ls),code:Lr(this,Ms),keyCode:Lr(this,jo),charCode:Lr(this,jo),bubbles:!![],cancelable:!![]});Lr(this,Ns)[ar(235)](or)};function _0x57bc(){var lr=["clientX","12px","getBoundingClientRect","touch","column","add","auto","2678269WaWyAp","flexDirection","628934JHggeF","background","textContent","33pLMhlQ","touchmove","changedTouches","5255502loIIlV","65MtTMUS","center","color","1796aecBYv","div","preventDefault","el2","offsetHeight","flex","alignItems","424974buzhMM","simultaneousTimeout","allowSimultaneous","590JmBFHk","114831vZjvMF","gridArea","justifyContent","fontWeight","fast-button","display","trigger","el1","appendChild","14346824qTnmEA","100%","isHorizontal","offsetWidth","1BnButD","container","width","style","addEventListener","backgroundColor","createElement","borderRadius","pointerEvents","top","state","bold","height"];return _0x57bc=function(){return lr},_0x57bc()}function _0x136f(lr,cr){var ar=_0x57bc();return _0x136f=function(or,ur){or=or-462;var fr=ar[or];return fr},_0x136f(lr,cr)}var _0x2f66d1=_0x136f;(function(lr,cr){for(var ar=_0x136f,or=lr();[];)try{var ur=parseInt(ar(508))/1*(parseInt(ar(474))/2)+parseInt(ar(477))/3*(-parseInt(ar(484))/4)+parseInt(ar(481))/5*(-parseInt(ar(491))/6)+-parseInt(ar(480))/7+parseInt(ar(504))/8+parseInt(ar(495))/9*(parseInt(ar(494))/10)+-parseInt(ar(472))/11;if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x57bc,940620);class DualTouchButton{constructor(cr,ar,or,ur,fr,dr,pr,br=_0x2f66d1(466),_r=![]){var yr=_0x2f66d1,mr=document.createElement("div");mr.classList[yr(470)](yr(499)),fr!=null&&(mr[yr(511)][yr(496)]=fr),dr!=null&&(mr.id=dr),mr[yr(511)][yr(500)]="flex",!ar&&(mr[yr(511)][yr(473)]=yr(469)),mr[yr(511)][yr(490)]="center",mr[yr(511)][yr(498)]=yr(463),mr.style[yr(497)]=yr(482),mr.style.gap="2px";var Er=document[yr(514)]("div"),gr=document[yr(514)](yr(485));Er.style[yr(515)]=br,gr.style[yr(515)]=br,Er.style[yr(516)]=yr(471),gr[yr(511)][yr(516)]=yr(471),Er[yr(511)][yr(483)]=QJ_LABEL_COLOR,gr.style.color=QJ_LABEL_COLOR,Er[yr(511)].backgroundColor=QJ_IDLE_COLOR,gr.style[yr(513)]=QJ_IDLE_COLOR,Er[yr(511)][yr(510)]="100%",gr.style[yr(510)]=yr(505),Er[yr(511)][yr(464)]=yr(505),gr[yr(511)][yr(464)]=yr(505),Er[yr(511)][yr(500)]="flex",Er[yr(511)].justifyContent=yr(482),Er[yr(511)][yr(490)]=yr(482),gr[yr(511)].display=yr(489),gr.style[yr(497)]=yr(482),gr[yr(511)][yr(490)]="center",this.el1=Er,this.el2=gr,cr[yr(503)](mr),mr.appendChild(Er),mr[yr(503)](gr),this[yr(509)]=mr,this[yr(506)]=ar,this.elListener=pr,this[yr(462)]=0,this[yr(493)]=_r,this[yr(492)]=null;var Ir=this;this[yr(502)]!=null&&(this[yr(502)][yr(476)]=or),this[yr(487)]!=null&&(this[yr(487)].textContent=ur),this[yr(509)].addEventListener("touchstart",function(Ar){Ir.touch(Ar,!![])}),this.container[yr(512)](yr(478),function(Ar){Ir.touch(Ar,!![])}),this[yr(509)][yr(512)]("touchend",function(Ar){var kr=yr;Ar[kr(486)](),Ir[kr(468)](Ar,![])})}[_0x2f66d1(468)](cr,ar){var or=_0x2f66d1,ur=0;if(ar){if(this[or(506)])var fr=this.container[or(507)],dr=cr[or(479)][0][or(465)]-this.container[or(467)]().left;else var fr=this[or(509)][or(488)],dr=cr.changedTouches[0].clientY-this[or(509)][or(467)]()[or(517)];dr<fr/2?ur=1:ur=2}else ur=0;ur!=this[or(462)]&&(this[or(462)]=ur,this.elListener[or(501)](this[or(462)]),this[or(502)][or(511)][or(475)]=this[or(462)]==1?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this[or(487)][or(511)][or(475)]=this[or(462)]==2?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR)}}function _0x5d52(lr,cr){var ar=_0x1c87();return _0x5d52=function(or,ur){or=or-321;var fr=ar[or];return fr},_0x5d52(lr,cr)}var _0x5f0a10=_0x5d52;(function(lr,cr){for(var ar=_0x5d52,or=lr();[];)try{var ur=parseInt(ar(324))/1*(-parseInt(ar(322))/2)+-parseInt(ar(334))/3*(parseInt(ar(328))/4)+-parseInt(ar(323))/5+parseInt(ar(335))/6+-parseInt(ar(331))/7*(parseInt(ar(327))/8)+-parseInt(ar(325))/9+parseInt(ar(329))/10;if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x1c87,250213);function _0x1c87(){var lr=["1532RFTmdA","1608825vDuhgz","431BQcBdv","798138MyMsdo","pressDown","16ASDNnx","4LnqvlJ","12171750VNkGPk","previous","808864yJsjvj","pressUp","trigger","1198749wDQcES","2425908KFckYV","input1","input2"];return _0x1c87=function(){return lr},_0x1c87()}var Vs;class DualTouchButtonJoyListener extends TouchButtonListener{constructor(ar,or,ur){var fr=_0x5d52;super();mi(this,Vs,void 0);Ci(this,Vs,ar),this[fr(336)]=or,this[fr(321)]=ur,this.previous=0,this[fr(333)]=this.trigger.bind(this)}[_0x5f0a10(333)](ar){var or=_0x5f0a10;ar>0&&Lr(this,Vs)[or(326)](ar==1?this[or(336)]:this.input2),this.previous>0&&Lr(this,Vs)[or(332)](this[or(330)]==1?this.input1:this.input2),this[or(330)]=ar}}Vs=new WeakMap;var _0x1e3f69=_0x24e0;(function(lr,cr){for(var ar=_0x24e0,or=lr();[];)try{var ur=parseInt(ar(312))/1+parseInt(ar(298))/2+-parseInt(ar(310))/3+parseInt(ar(305))/4+-parseInt(ar(281))/5+parseInt(ar(272))/6*(-parseInt(ar(274))/7)+-parseInt(ar(288))/8*(parseInt(ar(294))/9);if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x3a05,601157);function _0x24e0(lr,cr){var ar=_0x3a05();return _0x24e0=function(or,ur){or=or-264;var fr=ar[or];return fr},_0x24e0(lr,cr)}function _0x3a05(){var lr=["right","gridTemplateColumns","repeat(50, 1fr)","center","classList","primary","#quickjoy","319524NSAyXZ","grid","84DnnfGh","toggle","show","down","getNostalgist","body","qjud2","1817895pBMzSn","#quickjoys","display","style","left","100%","mode","3989728voXPmM","2px","fontFamily","secondary","hide","position","9qTqUgl","justifyContent","qjud1","fixed","748046PJThrC","appendChild","pointerEvents","qjab","width","Helvetica, Arial, sans-serif !important","bottom","3422324laJDtQ","textAlign","zIndex","fire_buttons","height","671100YNsFwU","none","1096596PasrBi","qja"];return _0x3a05=function(){return lr},_0x3a05()}var wo,Tc,mf;class QuickJoy{constructor(cr){mi(this,Tc);mi(this,wo,void 0);Ci(this,wo,cr),Pi(this,Tc,mf).call(this)}[_0x1e3f69(276)](){var cr=_0x1e3f69;show(cr(282),"grid")}[_0x1e3f69(292)](){var cr=_0x1e3f69;hide(cr(271)),hide(cr(282))}[_0x1e3f69(287)](cr){var ar=_0x1e3f69;const or=s$1(ar(282));or[ar(269)][ar(275)](ar(270)),or[ar(269)].toggle(ar(291))}}wo=new WeakMap,Tc=new WeakSet,mf=function(){var cr=_0x24e0,ar=document.createElement("div");ar.id="quickjoys",ar[cr(269)].add(cr(291)),ar[cr(284)][cr(293)]=cr(297),ar[cr(284)][cr(265)]="0",ar[cr(284)][cr(304)]="0",ar[cr(284)][cr(302)]=cr(286),ar.style[cr(309)]="100%",ar[cr(284)][cr(283)]=cr(273),ar[cr(284)].gap=cr(289),ar[cr(284)][cr(307)]="7777",ar[cr(284)][cr(306)]=cr(268),ar.style[cr(290)]=cr(303),ar[cr(284)][cr(295)]="center",ar[cr(284)][cr(266)]=cr(267),ar[cr(284)].gridTemplateRows=cr(267),ar[cr(284)][cr(300)]=cr(311),new DualTouchButton(ar,!![],"⇦","⇨",void 0,"qjlr",new DualTouchButtonJoyListener(Lr(this,wo)[cr(278)](),cr(285),"right"));let or=Lr(this,wo).getSelectedPlatform()[cr(308)];or==1?(new DualTouchButton(ar,![],"⇧","⇩",void 0,cr(296),new DualTouchButtonJoyListener(Lr(this,wo)[cr(278)](),"up",cr(277))),new SingleTouchButton(ar,"FIRE",void 0,cr(264),new SingleTouchButtonJoyListener(Lr(this,wo).getNostalgist(),"b"))):or==2&&(new DualTouchButton(ar,![],"⇧","⇩",void 0,cr(280),new DualTouchButtonJoyListener(Lr(this,wo)[cr(278)](),"up","down")),new DualTouchButton(ar,!![],"B","A",void 0,cr(301),new DualTouchButtonJoyListener(Lr(this,wo)[cr(278)](),"b","a"))),ar[cr(284)][cr(283)]="none",document[cr(279)][cr(299)](ar)};var _0x4afb30=_0x1601;(function(lr,cr){for(var ar=_0x1601,or=lr();[];)try{var ur=parseInt(ar(417))/1*(-parseInt(ar(440))/2)+-parseInt(ar(426))/3*(-parseInt(ar(412))/4)+parseInt(ar(396))/5+-parseInt(ar(402))/6*(parseInt(ar(421))/7)+parseInt(ar(405))/8+-parseInt(ar(394))/9*(parseInt(ar(418))/10)+parseInt(ar(416))/11;if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x3a74,482430);function _0x1601(lr,cr){var ar=_0x3a74();return _0x1601=function(or,ur){or=or-393;var fr=ar[or];return fr},_0x1601(lr,cr)}function _0x3a74(){var lr=["el2","width","el1","changedTouches","simultaneousTimeout","8px","display","color","getBoundingClientRect","center","column","alignItems","textContent","1279338uBZxXT","appendChild","translateY(0px)","touchmove","translateY(25px)","clientX","translateY(50px)","div","touchstart","fast-button","el3","allowSimultaneous","elListener","flex","style","transform","17775RGCZyn","offsetHeight","4537905LBjKxC","gridArea","auto","pointerEvents","container","top","78XznfiJ","borderRadius","addEventListener","6605328aamvTS","add","touch","backgroundColor","height","state","left","4ewMJdB","background","offsetWidth","createElement","4466759svNwan","1MWxAIN","3790iJkkGo","justifyContent","12px","171857nJMUNT","trigger","row","gap","100%","151413EjcWZc"];return _0x3a74=function(){return lr},_0x3a74()}class TripleTouchButton{constructor(cr,ar,or,ur,fr,dr,pr,br,_r=_0x4afb30(420),yr=![]){var mr=_0x4afb30,Er=document[mr(415)](mr(447));Er.classList[mr(406)](mr(449)),dr!=null&&(Er.style[mr(397)]=dr),pr!=null&&(Er.id=pr),Er[mr(454)][mr(433)]=mr(453),Er.style.flexDirection=mr(ar?423:437),Er.style[mr(438)]=mr(436),Er[mr(454)][mr(419)]=mr(436),Er.style[mr(424)]=mr(432);var gr=document[mr(415)](mr(447)),Ir=document[mr(415)]("div"),Ar=document[mr(415)](mr(447));gr[mr(454)][mr(403)]=_r,Ir.style[mr(403)]=_r,Ar.style[mr(403)]=_r,gr.style[mr(399)]="auto",Ir[mr(454)][mr(399)]=mr(398),Ar.style[mr(399)]=mr(398),gr.style[mr(434)]=QJ_LABEL_COLOR,Ir[mr(454)][mr(434)]=QJ_LABEL_COLOR,Ar.style[mr(434)]=QJ_LABEL_COLOR,gr[mr(454)][mr(408)]=QJ_IDLE_COLOR,Ir[mr(454)][mr(408)]=QJ_IDLE_COLOR,Ar[mr(454)][mr(408)]=QJ_IDLE_COLOR,gr[mr(454)][mr(428)]=mr(425),Ir[mr(454)][mr(428)]="100%",Ar.style.width=mr(425),gr.style.height=mr(425),Ir[mr(454)][mr(409)]=mr(425),Ar[mr(454)][mr(409)]=mr(425),ar&&(gr[mr(454)][mr(393)]=mr(446),Ir.style[mr(393)]=mr(444),Ar.style[mr(393)]=mr(442)),[gr,Ir,Ar].forEach(kr=>{var Or=mr;kr[Or(454)][Or(433)]="flex",kr.style[Or(419)]="center",kr[Or(454)][Or(438)]=Or(436),kr[Or(454)].height="100%"}),cr.appendChild(Er),Er.appendChild(gr),Er[mr(441)](Ir),Er[mr(441)](Ar),this[mr(400)]=Er,this.isHorizontal=ar,this[mr(452)]=br,this.state=0,this[mr(451)]=yr,this[mr(431)]=null,this[mr(429)]=gr,this[mr(427)]=Ir,this[mr(450)]=Ar,gr[mr(439)]=or,Ir[mr(439)]=ur,Ar.textContent=fr,Er[mr(404)](mr(448),kr=>this[mr(407)](kr,!![])),Er[mr(404)](mr(443),kr=>this.touch(kr,!![])),Er[mr(404)]("touchend",kr=>{kr.preventDefault(),this.touch(kr,![])})}[_0x4afb30(407)](cr,ar){var or=_0x4afb30,ur=0,fr,dr;if(ar){this.isHorizontal?(fr=this[or(400)][or(414)],dr=cr[or(430)][0][or(445)]-this[or(400)].getBoundingClientRect()[or(411)]):(fr=this[or(400)][or(395)],dr=cr.changedTouches[0].clientY-this[or(400)][or(435)]()[or(401)]);const pr=fr/3;dr<pr?ur=1:dr<pr*2?ur=2:ur=3}else ur=0;ur!==this.state&&(this[or(410)]=ur,this[or(452)][or(422)](this[or(410)]),this[or(429)][or(454)].background=this.state===1?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this.el2.style[or(413)]=this[or(410)]===2?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this.el3.style[or(413)]=this[or(410)]===3?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR)}}var _0x145af1=_0x571c;(function(lr,cr){for(var ar=_0x571c,or=lr();[];)try{var ur=-parseInt(ar(135))/1*(-parseInt(ar(127))/2)+parseInt(ar(134))/3+-parseInt(ar(138))/4+-parseInt(ar(130))/5+parseInt(ar(133))/6*(parseInt(ar(136))/7)+parseInt(ar(125))/8*(parseInt(ar(141))/9)+parseInt(ar(143))/10*(-parseInt(ar(139))/11);if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x411d,604833);function _0x571c(lr,cr){var ar=_0x411d();return _0x571c=function(or,ur){or=or-125;var fr=ar[or];return fr},_0x571c(lr,cr)}var Us;class TripleTouchButtonJoyListener extends TouchButtonListener{constructor(ar,or,ur,fr){var dr=_0x571c;super();mi(this,Us,void 0);Ci(this,Us,ar),this[dr(126)]=or,this[dr(131)]=ur,this.input3=fr,this[dr(140)]=0,this[dr(129)]=this[dr(129)][dr(128)](this)}[_0x145af1(129)](ar){var or=_0x145af1;ar>0&&Lr(this,Us)[or(142)](ar===1?this.input1:ar===2?this.input2:this[or(132)]),this[or(140)]>0&&Lr(this,Us)[or(137)](this[or(140)]===1?this.input1:this.previous===2?this.input2:this[or(132)]),this.previous=ar}}Us=new WeakMap;function _0x411d(){var lr=["2970QHoDCD","previous","9bACNHv","pressDown","10210PsBjRr","8441464QkSEbv","input1","15022UwVtYC","bind","trigger","268250liuMPc","input2","input3","24uWqkZm","329772thVUFL","11nARdYj","1455482SCzSwk","pressUp","4581116lQxjDz"];return _0x411d=function(){return lr},_0x411d()}var _0x7e2339=_0x43df;(function(lr,cr){for(var ar=_0x43df,or=lr();[];)try{var ur=-parseInt(ar(341))/1+-parseInt(ar(350))/2+-parseInt(ar(347))/3+parseInt(ar(324))/4*(parseInt(ar(375))/5)+-parseInt(ar(371))/6*(-parseInt(ar(348))/7)+parseInt(ar(326))/8+parseInt(ar(365))/9*(parseInt(ar(362))/10);if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x17df,959160);function _0x17df(){var lr=["addEventListener","changedTouches","12px","center","textContent","trigger","flex","display","grid","1129090LkOnPW","auto","el1","offsetWidth","state","createElement","5027589umbrnG","8463847JixvRk","1fr 1fr","3202510dUbRHN","ABLR","fast-button","100%","touch","gridTemplateColumns","8px","height","clientY","background","simultaneousTimeout","ABCD","436890NsqjQE","container","backgroundColor","450EsYKnx","appendChild","el4","borderRadius","gridArea","el2","6ltbVtn","pointerEvents","style","Layout","550tqtujT","touchend","gridTemplateRows","preventDefault","elListener","forEach","touchmove","div","getBoundingClientRect","color","left","clientX","32884RtJLAW","allowSimultaneous","8539896faVmlQ","el3","width","offsetHeight","gap","add"];return _0x17df=function(){return lr},_0x17df()}function _0x43df(lr,cr){var ar=_0x17df();return _0x43df=function(or,ur){or=or-318;var fr=ar[or];return fr},_0x43df(lr,cr)}var ox,k0;const cs=class cs{constructor(cr,ar,or,ur,fr,dr,pr,br,_r=cs[_0x7e2339(374)][_0x7e2339(361)],yr=_0x7e2339(334),mr=![]){mi(this,k0,void 0);var Er=_0x7e2339;Ci(this,k0,_r);var gr=document[Er(346)](Er(319));gr.classList[Er(331)](Er(352)),dr!=null&&(gr[Er(373)][Er(369)]=dr),pr!=null&&(gr.id=pr),gr[Er(373)][Er(339)]=Er(340),gr.style[Er(355)]=Er(349),_r==cs[Er(374)][Er(361)]?gr[Er(373)][Er(377)]=Er(349):_r==cs.Layout[Er(351)]&&(gr[Er(373)][Er(377)]="1fr 3fr"),gr[Er(373)][Er(330)]=Er(356);var Ir=document[Er(346)](Er(319)),Ar=document[Er(346)]("div"),kr=document.createElement(Er(319)),Or=document[Er(346)](Er(319));Ir[Er(373)][Er(368)]=yr,Ar[Er(373)][Er(368)]=yr,kr[Er(373)][Er(368)]=yr,Or[Er(373)][Er(368)]=yr,Ir[Er(373)][Er(372)]=Er(342),Ar[Er(373)][Er(372)]=Er(342),kr.style[Er(372)]=Er(342),Or[Er(373)][Er(372)]=Er(342),Ir[Er(373)][Er(321)]=QJ_LABEL_COLOR,Ar[Er(373)][Er(321)]=QJ_LABEL_COLOR,kr[Er(373)].color=QJ_LABEL_COLOR,Or[Er(373)][Er(321)]=QJ_LABEL_COLOR,Ir[Er(373)][Er(364)]=QJ_IDLE_COLOR,Ar[Er(373)][Er(364)]=QJ_IDLE_COLOR,kr[Er(373)].backgroundColor=QJ_IDLE_COLOR,Or[Er(373)][Er(364)]=QJ_IDLE_COLOR;const Dr=Er(353);Ir[Er(373)][Er(328)]=Dr,Ar.style.width=Dr,kr[Er(373)].width=Dr,Or.style.width=Dr,Ir[Er(373)].height=Dr,Ar[Er(373)].height=Dr,kr[Er(373)].height=Dr,Or[Er(373)][Er(357)]=Dr,[Ir,Ar,kr,Or][Er(380)](Rr=>{var Fr=Er;Rr[Fr(373)][Fr(339)]=Fr(338),Rr[Fr(373)].justifyContent=Fr(335),Rr[Fr(373)].alignItems=Fr(335)}),cr[Er(366)](gr),gr.appendChild(Ir),gr[Er(366)](Ar),gr[Er(366)](kr),gr.appendChild(Or),this[Er(363)]=gr,this[Er(379)]=br,this[Er(345)]=0,this[Er(325)]=mr,this[Er(360)]=null,this[Er(343)]=Ir,this[Er(370)]=Ar,this[Er(327)]=kr,this.el4=Or,Ir.textContent=ar,Ar[Er(336)]=or,kr.textContent=ur,Or.textContent=fr,gr[Er(332)]("touchstart",Rr=>this[Er(354)](Rr,!![])),gr[Er(332)](Er(318),Rr=>this.touch(Rr,!![])),gr[Er(332)](Er(376),Rr=>{var Fr=Er;Rr[Fr(378)](),this.touch(Rr,![])})}[(ox=_0x7e2339(374),_0x7e2339(354))](cr,ar){var or=_0x7e2339,ur=0,fr;if(ar){fr=this[or(363)][or(344)];var dr=this.container[or(329)],pr=cr[or(333)][0][or(323)]-this.container[or(320)]()[or(322)],br=cr[or(333)][0][or(358)]-this.container[or(320)]().top;let _r;Lr(this,k0)==cs[or(374)][or(361)]?_r=2:_r=4,pr<fr/2&&br<dr/_r?ur=1:pr>=fr/2&&br<dr/_r?ur=2:pr<fr/2&&br>=dr/_r?ur=3:ur=4}else ur=0;ur!==this.state&&(this[or(345)]=ur,this[or(379)][or(337)](this[or(345)]),this[or(343)].style[or(359)]=this[or(345)]===1?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this[or(370)].style[or(359)]=this[or(345)]===2?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this[or(327)][or(373)][or(359)]=this.state===3?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this[or(367)].style.background=this[or(345)]===4?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR)}};k0=new WeakMap,Ea(cs,ox,{ABCD:10,ABLR:50});let QuadrupleTouchButton=cs;function _0x282c(lr,cr){var ar=_0xbfc4();return _0x282c=function(or,ur){or=or-223;var fr=ar[or];return fr},_0x282c(lr,cr)}function _0xbfc4(){var lr=["previous","3655463uDwawQ","4462424NNQpAh","input1","18491706LBLaiD","bind","pressUp","14487qrzYdP","input3","936VOPiJN","128ZtooYb","input4","13085vJrqOs","782847TQHSjm","pressDown","trigger","5754768ecVtLh","input2"];return _0xbfc4=function(){return lr},_0xbfc4()}(function(lr,cr){for(var ar=_0x282c,or=lr();[];)try{var ur=parseInt(ar(234))/1*(-parseInt(ar(237))/2)+-parseInt(ar(240))/3+parseInt(ar(236))/4*(parseInt(ar(239))/5)+-parseInt(ar(225))/6+-parseInt(ar(228))/7+parseInt(ar(229))/8+parseInt(ar(231))/9;if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0xbfc4,555361);var zs;class QuadrupleTouchButtonJoyListener extends TouchButtonListener{constructor(ar,or,ur,fr,dr){var pr=_0x282c;super();mi(this,zs,void 0);Ci(this,zs,ar),this.input1=or,this.input2=ur,this[pr(235)]=fr,this[pr(238)]=dr,this[pr(227)]=0,this[pr(224)]=this[pr(224)][pr(232)](this)}trigger(ar){var or=_0x282c;ar>0&&Lr(this,zs)[or(223)](ar===1?this.input1:ar===2?this[or(226)]:ar===3?this[or(235)]:this[or(238)]),this[or(227)]>0&&Lr(this,zs)[or(233)](this[or(227)]===1?this[or(230)]:this.previous===2?this[or(226)]:this[or(227)]===3?this[or(235)]:this.input4),this[or(227)]=ar}}zs=new WeakMap;const _0x4e85f5=_0x116a;(function(lr,cr){const ar=_0x116a,or=lr();for(;[];)try{if(-parseInt(ar(338))/1*(parseInt(ar(328))/2)+-parseInt(ar(334))/3+parseInt(ar(310))/4*(-parseInt(ar(325))/5)+-parseInt(ar(279))/6*(-parseInt(ar(288))/7)+parseInt(ar(272))/8+parseInt(ar(319))/9+parseInt(ar(297))/10===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x4747,289953);var Dc,zo,eo,to,oo,Ta,Ho,Wo,Rc,gf,Fc,yf,Pc,bf,Bc,Ef,qc,wf,O0,Nc,Lc,Hs,Ec,Mc,Sf,Vc,Af;const Uc=class Uc{constructor(cr){mi(this,Rc);mi(this,Fc);mi(this,Pc);mi(this,Bc);mi(this,qc);mi(this,Hs);mi(this,Mc);mi(this,Vc);mi(this,zo,void 0);mi(this,eo,void 0);mi(this,to,void 0);mi(this,oo,void 0);mi(this,Ta,void 0);mi(this,Ho,null);mi(this,Wo,new Set);mi(this,O0,cr=>{const ar=_0x4e85f5;cr[ar(261)]();for(let or of cr.changedTouches)or[ar(296)]===Lr(this,Ho)&&(Pi(this,Hs,Ec).call(this,[]),Lr(this,to)&&Lr(this,oo)&&(Lr(this,to).remove(),Lr(this,oo)[ar(263)]()),Ci(this,Ho,null))});mi(this,Nc,cr=>{const ar=_0x4e85f5;if(cr[ar(261)](),Lr(this,Ho)===null){for(let or of cr[ar(318)])if(or[ar(275)].id===ar(313)){Ci(this,Ho,or.identifier),Pi(this,qc,wf).call(this,or);break}}});mi(this,Lc,cr=>{const ar=_0x4e85f5;cr[ar(261)]();for(let or of cr[ar(318)])if(or[ar(296)]===Lr(this,Ho)){let ur=Lr(this,to)[ar(324)](),fr={x:ur.left+ur[ar(285)]/2,y:ur.top+ur[ar(315)]/2},dr=Pi(this,Pc,bf).call(this,fr,{x:or[ar(307)],y:or[ar(321)]});if(dr>ur[ar(285)]/2){let _r=Math[ar(308)](or.pageY-fr.y,or[ar(307)]-fr.x);Lr(this,to)[ar(280)][ar(267)]=or[ar(307)]-ur[ar(285)]/2-Math.cos(_r)*ur.width/2+"px",Lr(this,to)[ar(280)][ar(311)]=or[ar(321)]-ur[ar(315)]/2-Math[ar(264)](_r)*ur[ar(315)]/2+"px"}Lr(this,oo).style[ar(267)]=or[ar(307)]-25+"px",Lr(this,oo)[ar(280)][ar(311)]=or[ar(321)]-25+"px";let pr=Math[ar(308)](or[ar(321)]-fr.y,or[ar(307)]-fr.x),br=pr*(180/Math.PI);if(br<0&&(br+=360),dr>Lr(Uc,Dc)){let _r=Pi(this,Bc,Ef).call(this,br);Pi(this,Hs,Ec).call(this,_r)}else Pi(this,Hs,Ec).call(this,[])}});const ar=_0x116a;Ci(this,zo,cr),Ci(this,eo,cr[ar(289)]()),Pi(this,Fc,yf).call(this),Ci(this,Wo,new Set)}show(){const cr=_0x116a;show("#quickshots","grid"),show("#quickshot",cr(262))}[_0x4e85f5(326)](){const cr=_0x4e85f5;hide(cr(305)),hide(cr(290))}};Dc=new WeakMap,zo=new WeakMap,eo=new WeakMap,to=new WeakMap,oo=new WeakMap,Ta=new WeakMap,Ho=new WeakMap,Wo=new WeakMap,Rc=new WeakSet,gf=function(cr){const ar=_0x116a;if(cr==null||cr==null)return"";const or=cr.lastIndexOf(".");return or===-1?cr:cr[ar(322)](0,or)},Fc=new WeakSet,yf=function(){const cr=_0x116a;var ar=document[cr(327)](cr(260));ar.id=cr(274),ar.style[cr(304)]=cr(292),ar.style.position="fixed",ar[cr(280)].right="0",ar[cr(280)][cr(282)]="0",ar[cr(280)][cr(285)]=cr(331),ar[cr(280)].height=cr(331),ar[cr(280)][cr(304)]=cr(292),ar[cr(280)][cr(329)]=cr(340),ar[cr(280)][cr(270)]=cr(281),ar[cr(280)][cr(336)]="center",ar[cr(280)][cr(294)]=cr(330),ar[cr(280)][cr(271)]=cr(284),ar[cr(280)][cr(316)]=cr(302),ar[cr(280)][cr(277)]="repeat(10, 1fr)",ar.style.pointerEvents="none";let or=Lr(this,zo).getSelectedPlatform()[cr(300)],ur=Lr(this,zo).getSelectedPlatform()[cr(259)],fr=Lr(this,zo).getSelectedPlatform()[cr(291)],dr=Pi(this,Rc,gf).call(this,Lr(this,zo)[cr(283)]());fr&&fr[dr]&&(or=fr[dr]),or==1?new SingleTouchButton(ar,"A",void 0,cr(317),new SingleTouchButtonJoyListener(Lr(this,eo),"b")):or==2?ur==cr(269)?new DualTouchButton(ar,!![],"A","B",void 0,"qsab",new DualTouchButtonJoyListener(Lr(this,eo),"b","a"),cr(306)):new DualTouchButton(ar,!![],"B","A",void 0,"qsab",new DualTouchButtonJoyListener(Lr(this,eo),"b","a"),cr(306)):or==3?ur==cr(269)?new TripleTouchButton(ar,!![],"A","B","C",void 0,"qsabc3",new TripleTouchButtonJoyListener(Lr(this,eo),"b","a","y")):new TripleTouchButton(ar,!![],"A","B","C",void 0,cr(332),new TripleTouchButtonJoyListener(Lr(this,eo),"y","b","a")):or==4&&(ur==cr(266)?new QuadrupleTouchButton(ar,"L","R","B","A",void 0,cr(286),new QuadrupleTouchButtonJoyListener(Lr(this,eo),"l","r","b","a"),QuadrupleTouchButton[cr(276)][cr(303)]):ur==cr(269)&&new QuadrupleTouchButton(ar,"C","D","A","B",void 0,"qsab4",new QuadrupleTouchButtonJoyListener(Lr(this,eo),"x","y","a","b"),QuadrupleTouchButton[cr(276)][cr(309)])),document.body[cr(314)](ar),Ci(this,Ta,document[cr(327)](cr(260))),Lr(this,Ta).id=cr(313),Lr(this,Ta)[cr(280)][cr(268)]=cr(278),Lr(this,Ta)[cr(280)][cr(298)]=cr(299),Lr(this,Ta)[cr(280)][cr(320)]="0",Lr(this,Ta)[cr(280)][cr(282)]="0",Lr(this,Ta)[cr(280)][cr(285)]=cr(331),Lr(this,Ta)[cr(280)][cr(315)]="100%",Lr(this,Ta)[cr(280)][cr(270)]=cr(273),Lr(this,Ta)[cr(280)][cr(304)]=cr(292),document.body[cr(314)](Lr(this,Ta)),Lr(this,Ta).addEventListener(cr(337),Lr(this,Nc)),Lr(this,Ta)[cr(295)](cr(265),Lr(this,Lc)),Lr(this,Ta).addEventListener("touchend",Lr(this,O0)),Lr(this,Ta)[cr(295)](cr(293),Lr(this,O0))},Pc=new WeakSet,bf=function(cr,ar){const or=_0x4e85f5;let ur=ar.x-cr.x,fr=ar.y-cr.y;return Math[or(323)](ur*ur+fr*fr)},Bc=new WeakSet,Ef=function(cr){const ar=_0x4e85f5;return cr>=337.5||cr<22.5?[ar(320)]:cr>=22.5&&cr<67.5?[ar(320),ar(258)]:cr>=67.5&&cr<112.5?[ar(258)]:cr>=112.5&&cr<157.5?[ar(258),ar(267)]:cr>=157.5&&cr<202.5?[ar(267)]:cr>=202.5&&cr<247.5?[ar(267),"up"]:cr>=247.5&&cr<292.5?["up"]:["up",ar(320)]},qc=new WeakSet,wf=function(cr){const ar=_0x4e85f5;Ci(this,to,document[ar(327)](ar(260))),Lr(this,to).classList[ar(339)](ar(335)),Lr(this,to)[ar(280)].left=cr.pageX-50+"px",Lr(this,to)[ar(280)].top=cr[ar(321)]-50+"px",Lr(this,Ta).appendChild(Lr(this,to)),Ci(this,oo,document[ar(327)]("div")),Lr(this,oo)[ar(333)][ar(339)]("joystick-thumb"),Lr(this,oo).style.left=cr[ar(307)]-25+"px",Lr(this,oo)[ar(280)][ar(311)]=cr[ar(321)]-25+"px",Lr(this,Ta)[ar(314)](Lr(this,oo))},O0=new WeakMap,Nc=new WeakMap,Lc=new WeakMap,Hs=new WeakSet,Ec=function(cr){const ar=_0x4e85f5,or=new Set(cr),ur=new Set([...Lr(this,Wo)][ar(301)](dr=>!or[ar(312)](dr))),fr=new Set([...or][ar(301)](dr=>!Lr(this,Wo)[ar(312)](dr)));ur[ar(287)](dr=>{Pi(this,Vc,Af).call(this,dr),Lr(this,Wo).delete(dr)}),fr[ar(287)](dr=>{const pr=ar;Pi(this,Mc,Sf).call(this,dr),Lr(this,Wo)[pr(339)](dr)})},Mc=new WeakSet,Sf=function(cr){Lr(this,eo).pressDown(cr)},Vc=new WeakSet,Af=function(cr){Lr(this,eo).pressUp(cr)},mi(Uc,Dc,30);let QuickShot=Uc;function _0x116a(lr,cr){const ar=_0x4747();return _0x116a=function(or,ur){return or=or-258,ar[or]},_0x116a(lr,cr)}function _0x4747(){const lr=["gap","Helvetica, Arial, sans-serif !important","100%","qsabc3","classList","802755ymYOhY","joystick-base","textAlign","touchstart","1dCErce","add","2px","down","platform_id","div","preventDefault","block","remove","sin","touchmove","gba","left","overflow","snk","zIndex","justifyContent","128264jzaEms","666","quickshots","target","Layout","gridTemplateRows","hidden","54UKWcwz","style","7777","bottom","getProgramName","center","width","qs4","forEach","57078kGlfKa","getNostalgist","#quickshots","button_overrides","none","touchcancel","fontFamily","addEventListener","identifier","14160400JMFRPF","position","absolute","fire_buttons","filter","repeat(23, 1fr)","ABLR","display","#quickshot","12px","pageX","atan2","ABCD","106348WuMhYa","top","has","quickshot","appendChild","height","gridTemplateColumns","qsa","touches","443925LJDNiB","right","pageY","substring","sqrt","getBoundingClientRect","95uVntFV","hide","createElement","984186BggyFH"];return _0x4747=function(){return lr},_0x4747()}var _0x154b6e=_0xdc08;function _0xdc08(lr,cr){var ar=_0x1efc();return _0xdc08=function(or,ur){or=or-372;var fr=ar[or];return fr},_0xdc08(lr,cr)}(function(lr,cr){for(var ar=_0xdc08,or=lr();[];)try{var ur=-parseInt(ar(412))/1*(-parseInt(ar(377))/2)+parseInt(ar(386))/3+parseInt(ar(390))/4*(-parseInt(ar(408))/5)+-parseInt(ar(397))/6+-parseInt(ar(381))/7+-parseInt(ar(410))/8*(-parseInt(ar(378))/9)+parseInt(ar(393))/10;if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x1efc,960345);function _0x1efc(){var lr=["fixed","2361712hLLiuV","right","32JOtyWa","zIndex","style","height","none","#mousepads","addEventListener","lmb","124","LMB","F13","body","mousepads","mousemove","125","canvas","touchAction","656SVxsRH","45VjfPiH","7777","auto","6511134tRacDA","hide","preventDefault","touchend","clientX","4697019LoCjVA","F14","stopPropagation","touchmove","1988ucbDTU","changedTouches","clientY","22458520MwwrpR","display","show","touchcancel","10100946ImBuPm","grid","100%","appendChild","identifier","touchstart","rmb","position","div","createElement","target","17345QDtroG"];return _0x1efc=function(){return lr},_0x1efc()}var ls,Ws,T0,So,jc,If,zc,Cf;class Mousepad{constructor(){mi(this,jc);mi(this,zc);mi(this,ls,-1);mi(this,Ws,-1);mi(this,T0,1);mi(this,So,null);Pi(this,jc,If).call(this)}[_0x154b6e(395)](){var cr=_0x154b6e;show(cr(417),cr(398))}[_0x154b6e(382)](){hide("#mousepads")}}ls=new WeakMap,Ws=new WeakMap,T0=new WeakMap,So=new WeakMap,jc=new WeakSet,If=function(){var cr=_0xdc08;const ar=document[cr(406)](cr(405));ar.id=cr(372),ar.style[cr(404)]=cr(409),ar[cr(414)][cr(411)]="0",ar.style.bottom="0",ar[cr(414)].width=cr(399),ar[cr(414)][cr(415)]=cr(399),ar[cr(414)][cr(394)]=cr(416),ar[cr(414)][cr(413)]=cr(379),ar[cr(414)].pointerEvents=cr(380),ar[cr(414)][cr(376)]=cr(416);const or=(ur,fr)=>{var dr=cr;if(fr===![])Ci(this,ls,-1),Ci(this,Ws,-1),Ci(this,So,null);else{var pr=ur[dr(391)][0],br=pr[dr(385)]*Lr(this,T0),_r=pr[dr(392)]*Lr(this,T0);Lr(this,ls)!=-1&&Lr(this,So)===pr[dr(401)]&&Pi(this,zc,Cf).call(this,br-Lr(this,ls),_r-Lr(this,Ws)),Ci(this,ls,br),Ci(this,Ws,_r)}};ar[cr(418)](cr(402),ur=>{var fr=cr,dr=ur[fr(391)][0];const pr=ur[fr(407)].id;!pr||pr!==fr(419)&&pr!==fr(403)?(Ci(this,So,dr[fr(401)]),or(ur,!![])):(ur[fr(388)](),ur.preventDefault())}),ar[cr(418)](cr(389),ur=>{var fr=cr,dr=ur[fr(391)][0];Lr(this,So)!==null&&Lr(this,So)===dr[fr(401)]&&or(ur,!![])}),ar[cr(418)](cr(384),ur=>{var fr=cr,dr=ur.changedTouches[0];Lr(this,So)!==null&&Lr(this,So)===dr[fr(401)]&&(ur[fr(383)](),or(ur,![]))}),ar[cr(418)](cr(396),ur=>or(ur,![])),new SingleTouchButton(ar,cr(421),void 0,cr(419),new SingleTouchButtonKbListener(cr(422),cr(422),cr(420),s$1(cr(375)))),new SingleTouchButton(ar,"RMB",void 0,cr(403),new SingleTouchButtonKbListener("F14",cr(387),cr(374),s$1(cr(375)))),document[cr(423)][cr(400)](ar)},zc=new WeakSet,Cf=function(cr,ar){var or=_0xdc08;const ur=new MouseEvent(or(373),{movementX:cr,movementY:ar,bubbles:!![],cancelable:!![]});s$1(or(375)).dispatchEvent(ur)};var _0x3bee79=_0x2b21;function _0x373f(){var lr=["hide","383ZblXEM","#fastui","15aqjSxM","grid","3202371jJseLo","addEventListener","touchstart","click","show","18dQpTnd","timeoutId","697543SwyWjt","191692UEOFdm","28236NeZoIp","preventDefault","6998120jINegX","removeEventListener","104664OHLdmY","1994prhBus"];return _0x373f=function(){return lr},_0x373f()}(function(lr,cr){for(var ar=_0x2b21,or=lr();[];)try{var ur=-parseInt(ar(336))/1*(parseInt(ar(334))/2)+-parseInt(ar(329))/3+parseInt(ar(328))/4*(-parseInt(ar(338))/5)+-parseInt(ar(325))/6*(parseInt(ar(327))/7)+-parseInt(ar(333))/8+parseInt(ar(320))/9+parseInt(ar(331))/10;if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x373f,208569);function _0x2b21(lr,cr){var ar=_0x373f();return _0x2b21=function(or,ur){or=or-319;var fr=ar[or];return fr},_0x2b21(lr,cr)}var sx,fs,w0;const us=class us{constructor(){mi(this,fs)}[(sx=_0x3bee79(326),_0x3bee79(324))](){var cr=_0x3bee79;hide("#fastui"),document[cr(321)](cr(323),Pi(this,fs,w0)),document.addEventListener("touchstart",Pi(this,fs,w0)),clearTimeout(us[cr(326)])}[_0x3bee79(335)](){var cr=_0x3bee79;clearTimeout(us[cr(326)]),document[cr(332)](cr(323),Pi(this,fs,w0)),document[cr(332)](cr(322),Pi(this,fs,w0)),show(cr(337),cr(319))}};fs=new WeakSet,w0=function(cr){var ar=_0x3bee79;cr[ar(330)](),clearTimeout(us[ar(326)]),show(ar(337),ar(319)),us[ar(326)]=setTimeout(()=>{var or=ar;hide(or(337))},2e3)},Ea(us,sx);let Hideaway=us;const _0x23f3aa=_0x4412;(function(lr,cr){const ar=_0x4412,or=lr();for(;[];)try{if(-parseInt(ar(325))/1*(-parseInt(ar(337))/2)+parseInt(ar(307))/3*(parseInt(ar(310))/4)+-parseInt(ar(394))/5*(-parseInt(ar(401))/6)+-parseInt(ar(298))/7+-parseInt(ar(345))/8+parseInt(ar(328))/9+-parseInt(ar(330))/10===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x36da,730592);function _0x4412(lr,cr){const ar=_0x36da();return _0x4412=function(or,ur){return or=or-280,ar[or]},_0x4412(lr,cr)}function _0x36da(){const lr=["fastkb","Error resolving state:","div","trigger","keyboard","isDesktop","#mousepads","querySelector","classList","documentElement","opacity","additional_buttons","sendCommand",'<span style="font-size: 50%;">',"message","toggleJoystick","9808568KgTLyX","fadeOutTimeout","name","hideJoystick","showKeyboard","appendChild","fastmouse","toggleMousePad","show","1474440AzhgFO","currentMouseTouchMode","visible","8NDtVkd","addedNodes","</span>","FAST_FORWARD","#desktopUiFs","initDesktopUI","currentJoyTouchMode","error","showJoystick","nodeName","fastrewind","top","code","initTouchControllerMenu","#quickjoys","1113tKuapT","log","reverse","6568002nMNPXA","createElement","6530250Jsaupo","getElementById","observe","keys",'<span style="font-size: 50%;">REWIND</span>',"grid","textContent","1714rmGibS","fastjoy","#canvas","fullscreenElement","10pt","mousepadVisible","className","reload","5841752MKPeuN","none","initFastUI","hideMousepad","getSelectedPlatform","mouseleave","desktopUiControls","label","length","menu-item","body","QUICKJOY_PRIMARY","desktopUiSave","#desktopUiBack","left","action",'<span style="font-size: 50%;">JOY</span>',"keyCode","saveState","padding","forEach","showTouchKeyboard","hideKeyboard",'<span style="font-size: 50%;">QUIT</span>',"requestPointerLock","Auto Hide","initQuickJoy","hide","mouse_controllers","remove","style","add","canvas","dispatchEvent","osdMessage","bottom","QUICKSHOT_DYNAMIC","#quickshots",'<span style="font-size: 50%;">FFD</span>',"position","REWIND","initControlsButton","key","keyboardVisible","catch","initHideaway","display","fast","getNostalgist","1414135Dqdjcc","#fastui","fontSize","fastffd","addEventListener","TRACKPAD_BUTTONS","HIDEAWAY","18SRbajv","Fast Forward","fastmenu","press","#desktopUiRewind","push","resizeCanvas","#keyboardContainer","8px 16px","exitFullscreen","CANVAS","block",'<span style="font-size: 50%;">KB</span>',"isQuest"];return _0x36da=function(){return lr},_0x36da()}var ca,D0,Ko,Yo,Bo,Go,cx,ux,Hc,kf,lx,fx;const Yi=class Yi{constructor(cr,ar){mi(this,Hc);mi(this,ca,void 0);mi(this,D0,void 0);Ci(this,ca,cr),Ci(this,D0,ar)}[(cx=_0x23f3aa(308),ux=_0x23f3aa(342),_0x23f3aa(347))](){const cr=_0x23f3aa;var ar=document.createElement(cr(284));ar.id="fastui",ar.style[cr(391)]=cr(346),new SingleTouchButton(ar,cr(334),void 0,cr(320),new RewindButtonListener(Lr(this,ca)[cr(393)]())),new SingleTouchButton(ar,cr(383),void 0,cr(397),new CommandButtonListener(cr(313),Lr(this,ca).getNostalgist(),cr(402))),new SingleTouchButton(ar,cr(368),void 0,cr(403),new ResetButtonListener),!Lr(this,ca).getSelectedPlatform().savestates_disabled&&new SingleTouchButton(ar,'<span style="font-size: 50%;">SAVE</span>',void 0,"fastsave",new SaveButtonListener(Lr(this,ca))),Lr(this,ca)[cr(349)]()[cr(286)]&&new SingleTouchButton(ar,cr(280),void 0,cr(282),new KbListener(Lr(this,D0))),Pi(this,Hc,kf).call(this,ar);var or=document[cr(329)]("div");or.id="fastui-msg",or[cr(375)][cr(391)]=cr(346),ar[cr(303)](or),document[cr(355)][cr(303)](ar)}[_0x23f3aa(315)](){const cr=_0x23f3aa,ar=document[cr(331)]("desktopUi");Lr(this,ca)[cr(349)]().savestates_disabled&&(document[cr(331)](cr(357))[cr(375)][cr(391)]=cr(346));let or;function ur(_r){const yr=cr;ar.addEventListener("mousemove",function(){const mr=_0x4412;ar[mr(290)][mr(376)](mr(309)),clearTimeout(or)}),ar[yr(398)](yr(350),function(){or=setTimeout(function(){const mr=_0x4412;ar.classList[mr(374)](mr(309))},1e3)})}function fr(_r,yr){const mr=cr;return _r[mr(319)]===mr(411)?(ur(),!![]):_r[mr(289)]&&_r[mr(289)](mr(377))?(ur(),!![]):![]}new MutationObserver(function(_r){const yr=cr;for(const mr of _r)if(mr[yr(311)]&&mr[yr(311)][yr(353)]>0){for(const Er of mr.addedNodes)if(fr(Er))return}})[cr(332)](document[cr(355)],{childList:!![],subtree:!![]}),ur();let pr=null,br=this;addButtonEventListeners(s$1(cr(314)),_r=>{const yr=cr;_r&&(document[yr(340)]?document[yr(410)]().then(()=>{const mr=yr;EnvironmentManager[mr(407)](Lr(this,ca)[mr(393)]())})[yr(389)](mr=>{console[yr(326)](mr)}):document[yr(291)].requestFullscreen().then(()=>{EnvironmentManager[yr(407)](Lr(this,ca).getNostalgist())}).catch(mr=>{console[yr(326)](mr)}))}),addButtonEventListeners(s$1("#desktopUiSave"),_r=>{_r?Lr(this,ca).saveState().then(mr=>{console.log(mr)}).catch(mr=>{const Er=_0x4412;console[Er(317)](Er(283),mr)}):clearInterval(pr)}),addButtonEventListeners(s$1(cr(405)),_r=>{const yr=cr;_r?(Lr(br,ca)[yr(393)]()[yr(294)](yr(385)),pr=setInterval(()=>{const mr=yr;Lr(br,ca)[mr(393)]()[mr(294)](mr(385))},5)):clearInterval(pr)}),addButtonEventListeners(s$1(cr(358)),_r=>{location[cr(344)]()}),this.initControlsButton(),Lr(this,ca)[cr(349)]().mouse_controllers&&s$1(cr(339)).addEventListener("click",()=>{const _r=cr;s$1(_r(339))[_r(369)]()})}[_0x23f3aa(323)](){const cr=_0x23f3aa,ar=Lr(this,ca)[cr(349)]().touch_controllers;if(ar[cr(353)]==1)return;let or=0;new SingleTouchButton(s$1("#fastui"),cr(361),void 0,cr(338),new class extends TouchButtonListener{constructor(){super()}trigger(dr){const pr=cr;if(dr)if(Yi[pr(342)])Yi[pr(367)](),Yi[pr(348)](),Yi[pr(342)]=![],Yi[pr(318)]();else if(Yi[pr(388)])Yi[pr(367)](),Yi.hideMousepad(),Yi.mousepadVisible=![],Yi[pr(318)]();else{or=(or+1)%ar[pr(353)];const br=ar[or];Yi.toggleJoystick(br,!![])}}});const ur=Lr(this,ca)[cr(349)]()[cr(373)];if(ur==null||ur.length==0)return;let fr=0;new SingleTouchButton(s$1(cr(395)),'<span style="font-size: 50%;">MOUSE</span>',void 0,cr(304),new class extends TouchButtonListener{constructor(){super()}[cr(285)](dr){const pr=cr;if(dr)if(Yi[pr(342)]=!![],Yi[pr(342)]){fr=(fr+1)%ur[pr(353)];const br=ur[fr];Yi[pr(305)](br,!![])}else{Yi.hideKeyboard(),Yi[pr(301)]();const br=ur[fr];Yi[pr(305)](br,!![])}}})}[_0x23f3aa(386)](){const cr=_0x23f3aa,ar=document[cr(331)](cr(351)),or=document.getElementById("controlsMenu"),ur=Lr(this,ca)[cr(393)](),fr=[];let dr=Object[cr(333)](Lr(this,ca)[cr(349)]()[cr(293)]);if(dr.length>0)for(let Er=0;Er<dr[cr(353)];Er++){let gr=dr[Er],Ir=Lr(this,ca)[cr(349)]()[cr(293)][gr][cr(352)],Ar=Lr(this,ca)[cr(349)]()[cr(293)][gr][cr(362)],kr=Lr(this,ca)[cr(349)]()[cr(293)][gr].key;fr[cr(406)]({name:Ir,action:()=>{const Or=cr;kr?_r(kr.key,kr[Or(322)],kr.key.keyCode):ur[Or(404)]({button:Ar,player:1,time:100})}})}else ar[cr(375)].display=cr(346);function pr(Er,gr,Ir){const Ar=cr;let kr=new KeyboardEvent("keydown",{key:Er,code:gr,keyCode:Ir,charCode:Ir,bubbles:!![],cancelable:!![]});document[Ar(378)](kr)}function br(Er,gr,Ir){const Ar=cr;let kr=new KeyboardEvent("keyup",{key:Er,code:gr,keyCode:Ir,charCode:Ir,bubbles:!![],cancelable:!![]});document[Ar(378)](kr)}function _r(Er,gr,Ir){pr(Er,gr,Ir),setTimeout(()=>{br(Er,gr,Ir)},50)}function yr(){const Er=cr;or.innerHTML="",fr[Er(365)](gr=>{const Ir=Er,Ar=document[Ir(329)]("div");Ar[Ir(336)]=gr[Ir(300)],Ar[Ir(343)]=Ir(354),Ar[Ir(398)]("click",gr[Ir(360)]),or[Ir(303)](Ar)})}function mr(){const Er=cr;if(or[Er(375)].display===Er(346)||or[Er(375)][Er(391)]===""){const gr=ar.getBoundingClientRect();or[Er(375)][Er(384)]="absolute",or[Er(375)][Er(364)]=Er(409),or[Er(375)][Er(321)]=gr[Er(380)]+"px",or[Er(375)][Er(359)]=gr[Er(359)]+"px",or[Er(375)][Er(391)]=Er(412),or[Er(375)][Er(396)]=Er(341)}else or.style[Er(391)]="none"}ar[cr(398)]("click",mr),yr()}[_0x23f3aa(371)](){Ci(Yi,Ko,new QuickJoy(Lr(this,ca)))}initQuickshot(){Ci(Yi,Yo,new QuickShot(Lr(this,ca)))}initMousepad(){Ci(Yi,Go,new Mousepad(Lr(this,ca)))}[_0x23f3aa(390)](){Ci(Yi,Bo,new Hideaway)}static hideJoystick(){const cr=_0x23f3aa;Yi[cr(316)]==JOYSTICK_TOUCH_MODE[cr(400)]&&Lr(this,Bo).hide(),s$1(cr(382))[cr(375)].display=cr(346),s$1(cr(324)).style[cr(391)]=cr(346)}static showJoystick(){const cr=_0x23f3aa;Yi[cr(316)]==JOYSTICK_TOUCH_MODE[cr(381)]?s$1(cr(382)).style.display="grid":Yi[cr(316)]==JOYSTICK_TOUCH_MODE[cr(356)]?s$1(cr(324))[cr(375)][cr(391)]=cr(335):Yi[cr(316)]==JOYSTICK_TOUCH_MODE.HIDEAWAY}static hideKeyboard(){const cr=_0x23f3aa;Yi.keyboardVisible=![],s$1(cr(408))[cr(375)][cr(391)]="none"}static[_0x23f3aa(302)](){const cr=_0x23f3aa;s$1("#keyboardContainer")[cr(375)][cr(391)]=cr(412)}static[_0x23f3aa(348)](){const cr=_0x23f3aa;s$1(cr(288)).style[cr(391)]=cr(346)}static showMousepad(){const cr=_0x23f3aa;s$1(cr(288))[cr(375)][cr(391)]=cr(335)}static[(lx=_0x23f3aa(305),fx=_0x23f3aa(297),_0x23f3aa(379))](cr,ar=null){const or=_0x23f3aa,ur=document[or(331)]("fastui-msg");function fr(){const dr=or;ur[dr(375)][dr(292)]="0",setTimeout(()=>ur[dr(375)][dr(391)]=dr(346),250)}if(ur[or(299)]&&(clearTimeout(ur[or(299)]),ur.fadeOutTimeout=null),cr===null){fr();return}ur[or(336)]=cr,ur[or(375)][or(391)]="grid",setTimeout(()=>ur[or(375)][or(292)]="1",0),ar!==null&&(ur[or(299)]=setTimeout(()=>{const dr=or;fr(),ur[dr(299)]=null},ar))}};ca=new WeakMap,D0=new WeakMap,Ko=new WeakMap,Yo=new WeakMap,Bo=new WeakMap,Go=new WeakMap,Hc=new WeakSet,kf=function(cr){const ar=_0x23f3aa;let or=1,ur=Object.keys(Lr(this,ca)[ar(349)]()[ar(293)]);ur[ar(327)]();for(let fr=0;fr<ur[ar(353)];fr++){let dr=ur[fr],pr=Lr(this,ca)[ar(349)]()[ar(293)][dr].label,br=Lr(this,ca).getSelectedPlatform().additional_buttons[dr][ar(362)],_r=Lr(this,ca).getSelectedPlatform()[ar(293)][dr][ar(387)],yr;_r?yr=new SingleTouchButtonKbListener(_r[ar(387)],_r[ar(322)],_r.keyCode):yr=new SingleTouchButtonJoyListener(Lr(this,ca)[ar(393)](),br),new SingleTouchButton(cr,ar(295)+pr+ar(312),void 0,ar(392)+or,yr),or+=1}},mi(Yi,Ko,void 0),mi(Yi,Yo,void 0),mi(Yi,Bo,void 0),mi(Yi,Go,void 0),Ea(Yi,"currentJoyTouchMode"),Ea(Yi,cx),Ea(Yi,"keyboardVisible"),Ea(Yi,ux),Ea(Yi,lx,(cr,ar)=>{const or=_0x23f3aa;if(!(EnvironmentManager.isDesktop()||EnvironmentManager.isQuest()))switch(cr){case MOUSE_TOUCH_MODE.TRACKPAD_BUTTONS:Yi[or(342)]=!![],Yi[or(308)]=MOUSE_TOUCH_MODE[or(399)],Lr(Yi,Ko).hide(),Lr(Yi,Yo)[or(372)](),Lr(Yi,Bo).hide(),Lr(Yi,Go).show();break}}),Ea(Yi,fx,(cr,ar)=>{const or=_0x23f3aa;if(!(EnvironmentManager[or(287)]()||EnvironmentManager[or(281)]()))switch(cr){case JOYSTICK_TOUCH_MODE[or(356)]:Yi[or(316)]=JOYSTICK_TOUCH_MODE[or(356)],ar&&Yi[or(379)]("QuickJoy",1e3),Lr(Yi,Bo)[or(372)](),Lr(Yi,Yo)[or(372)](),Lr(Yi,Go).hide(),Lr(Yi,Ko).show();break;case JOYSTICK_TOUCH_MODE[or(381)]:Yi[or(316)]=JOYSTICK_TOUCH_MODE[or(381)],ar&&Yi[or(379)]("QuickShot",1e3),Lr(Yi,Ko).hide(),Lr(Yi,Go)[or(372)](),Lr(Yi,Bo)[or(372)](),Lr(Yi,Yo)[or(306)]();break;case JOYSTICK_TOUCH_MODE.HIDEAWAY:Yi[or(316)]=JOYSTICK_TOUCH_MODE[or(400)],ar&&Yi.osdMessage(or(370),1e3),Lr(Yi,Ko)[or(372)](),Lr(Yi,Yo)[or(372)](),Lr(Yi,Go).hide(),Lr(Yi,Bo)[or(306)]();break}});let UiManager=Yi;var Ks,R0,F0;const I0=class I0 extends TouchButtonListener{constructor(ar){super();mi(this,Ks,void 0);mi(this,R0,void 0);Ci(this,Ks,ar)}[_0x23f3aa(285)](ar){const or=_0x23f3aa;ar?(Lr(this,Ks)[or(294)](Lr(I0,F0)),Ci(this,R0,setInterval(()=>{const ur=or;Lr(this,Ks)[ur(294)](Lr(I0,F0))},5))):clearInterval(Lr(this,R0))}};Ks=new WeakMap,R0=new WeakMap,F0=new WeakMap,mi(I0,F0,_0x23f3aa(385));let RewindButtonListener=I0;var P0,B0;class CommandButtonListener extends TouchButtonListener{constructor(ar,or,ur){const fr=_0x23f3aa;super();mi(this,P0,void 0);mi(this,B0,void 0);Ci(this,P0,ar),Ci(this,B0,or),this[fr(296)]=ur}[_0x23f3aa(285)](ar){const or=_0x23f3aa;Lr(this,B0)[or(294)](Lr(this,P0))}}P0=new WeakMap,B0=new WeakMap;var q0;class SaveButtonListener extends TouchButtonListener{constructor(ar){super();mi(this,q0,void 0);Ci(this,q0,ar)}async[_0x23f3aa(285)](ar){const or=_0x23f3aa;ar&&Lr(this,q0)[or(363)]()}}q0=new WeakMap;var N0;class KbListener extends TouchButtonListener{constructor(ar){super();mi(this,N0,void 0);Ci(this,N0,ar)}[_0x23f3aa(285)](ar){const or=_0x23f3aa;ar&&(UiManager.keyboardVisible=!![],UiManager[or(301)](),UiManager[or(348)](),UiManager[or(302)](),Lr(this,N0)[or(366)]())}}N0=new WeakMap;class ResetButtonListener extends TouchButtonListener{constructor(){super()}[_0x23f3aa(285)](cr){cr&&location[_0x23f3aa(344)]()}}var lib={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z=Symbol.iterator;function A(lr){return lr===null||typeof lr!="object"?null:(lr=z&&lr[z]||lr["@@iterator"],typeof lr=="function"?lr:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,D$1={};function E(lr,cr,ar){this.props=lr,this.context=cr,this.refs=D$1,this.updater=ar||B}E.prototype.isReactComponent={};E.prototype.setState=function(lr,cr){if(typeof lr!="object"&&typeof lr!="function"&&lr!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,lr,cr,"setState")};E.prototype.forceUpdate=function(lr){this.updater.enqueueForceUpdate(this,lr,"forceUpdate")};function F$1(){}F$1.prototype=E.prototype;function G$1(lr,cr,ar){this.props=lr,this.context=cr,this.refs=D$1,this.updater=ar||B}var H=G$1.prototype=new F$1;H.constructor=G$1;C(H,E.prototype);H.isPureReactComponent=!0;var I$1=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M(lr,cr,ar){var or,ur={},fr=null,dr=null;if(cr!=null)for(or in cr.ref!==void 0&&(dr=cr.ref),cr.key!==void 0&&(fr=""+cr.key),cr)J$1.call(cr,or)&&!L$1.hasOwnProperty(or)&&(ur[or]=cr[or]);var pr=arguments.length-2;if(pr===1)ur.children=ar;else if(1<pr){for(var br=Array(pr),_r=0;_r<pr;_r++)br[_r]=arguments[_r+2];ur.children=br}if(lr&&lr.defaultProps)for(or in pr=lr.defaultProps,pr)ur[or]===void 0&&(ur[or]=pr[or]);return{$$typeof:l$1,type:lr,key:fr,ref:dr,props:ur,_owner:K$1.current}}function N$1(lr,cr){return{$$typeof:l$1,type:lr.type,key:cr,ref:lr.ref,props:lr.props,_owner:lr._owner}}function O$1(lr){return typeof lr=="object"&&lr!==null&&lr.$$typeof===l$1}function escape$1(lr){var cr={"=":"=0",":":"=2"};return"$"+lr.replace(/[=:]/g,function(ar){return cr[ar]})}var P=/\/+/g;function Q$1(lr,cr){return typeof lr=="object"&&lr!==null&&lr.key!=null?escape$1(""+lr.key):cr.toString(36)}function R$1(lr,cr,ar,or,ur){var fr=typeof lr;(fr==="undefined"||fr==="boolean")&&(lr=null);var dr=!1;if(lr===null)dr=!0;else switch(fr){case"string":case"number":dr=!0;break;case"object":switch(lr.$$typeof){case l$1:case n:dr=!0}}if(dr)return dr=lr,ur=ur(dr),lr=or===""?"."+Q$1(dr,0):or,I$1(ur)?(ar="",lr!=null&&(ar=lr.replace(P,"$&/")+"/"),R$1(ur,cr,ar,"",function(_r){return _r})):ur!=null&&(O$1(ur)&&(ur=N$1(ur,ar+(!ur.key||dr&&dr.key===ur.key?"":(""+ur.key).replace(P,"$&/")+"/")+lr)),cr.push(ur)),1;if(dr=0,or=or===""?".":or+":",I$1(lr))for(var pr=0;pr<lr.length;pr++){fr=lr[pr];var br=or+Q$1(fr,pr);dr+=R$1(fr,cr,ar,br,ur)}else if(br=A(lr),typeof br=="function")for(lr=br.call(lr),pr=0;!(fr=lr.next()).done;)fr=fr.value,br=or+Q$1(fr,pr++),dr+=R$1(fr,cr,ar,br,ur);else if(fr==="object")throw cr=String(lr),Error("Objects are not valid as a React child (found: "+(cr==="[object Object]"?"object with keys {"+Object.keys(lr).join(", ")+"}":cr)+"). If you meant to render a collection of children, use an array instead.");return dr}function S(lr,cr,ar){if(lr==null)return lr;var or=[],ur=0;return R$1(lr,or,"","",function(fr){return cr.call(ar,fr,ur++)}),or}function T(lr){if(lr._status===-1){var cr=lr._result;cr=cr(),cr.then(function(ar){(lr._status===0||lr._status===-1)&&(lr._status=1,lr._result=ar)},function(ar){(lr._status===0||lr._status===-1)&&(lr._status=2,lr._result=ar)}),lr._status===-1&&(lr._status=0,lr._result=cr)}if(lr._status===1)return lr._result.default;throw lr._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S,forEach:function(lr,cr,ar){S(lr,function(){cr.apply(this,arguments)},ar)},count:function(lr){var cr=0;return S(lr,function(){cr++}),cr},toArray:function(lr){return S(lr,function(cr){return cr})||[]},only:function(lr){if(!O$1(lr))throw Error("React.Children.only expected to receive a single React element child.");return lr}};react_production_min.Component=E;react_production_min.Fragment=p;react_production_min.Profiler=r;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$1;react_production_min.cloneElement=function(lr,cr,ar){if(lr==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+lr+".");var or=C({},lr.props),ur=lr.key,fr=lr.ref,dr=lr._owner;if(cr!=null){if(cr.ref!==void 0&&(fr=cr.ref,dr=K$1.current),cr.key!==void 0&&(ur=""+cr.key),lr.type&&lr.type.defaultProps)var pr=lr.type.defaultProps;for(br in cr)J$1.call(cr,br)&&!L$1.hasOwnProperty(br)&&(or[br]=cr[br]===void 0&&pr!==void 0?pr[br]:cr[br])}var br=arguments.length-2;if(br===1)or.children=ar;else if(1<br){pr=Array(br);for(var _r=0;_r<br;_r++)pr[_r]=arguments[_r+2];or.children=pr}return{$$typeof:l$1,type:lr.type,key:ur,ref:fr,props:or,_owner:dr}};react_production_min.createContext=function(lr){return lr={$$typeof:u,_currentValue:lr,_currentValue2:lr,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},lr.Provider={$$typeof:t,_context:lr},lr.Consumer=lr};react_production_min.createElement=M;react_production_min.createFactory=function(lr){var cr=M.bind(null,lr);return cr.type=lr,cr};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(lr){return{$$typeof:v,render:lr}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(lr){return{$$typeof:y,_payload:{_status:-1,_result:lr},_init:T}};react_production_min.memo=function(lr,cr){return{$$typeof:x,type:lr,compare:cr===void 0?null:cr}};react_production_min.startTransition=function(lr){var cr=V$1.transition;V$1.transition={};try{lr()}finally{V$1.transition=cr}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(lr,cr){return U$1.current.useCallback(lr,cr)};react_production_min.useContext=function(lr){return U$1.current.useContext(lr)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(lr){return U$1.current.useDeferredValue(lr)};react_production_min.useEffect=function(lr,cr){return U$1.current.useEffect(lr,cr)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(lr,cr,ar){return U$1.current.useImperativeHandle(lr,cr,ar)};react_production_min.useInsertionEffect=function(lr,cr){return U$1.current.useInsertionEffect(lr,cr)};react_production_min.useLayoutEffect=function(lr,cr){return U$1.current.useLayoutEffect(lr,cr)};react_production_min.useMemo=function(lr,cr){return U$1.current.useMemo(lr,cr)};react_production_min.useReducer=function(lr,cr,ar){return U$1.current.useReducer(lr,cr,ar)};react_production_min.useRef=function(lr){return U$1.current.useRef(lr)};react_production_min.useState=function(lr){return U$1.current.useState(lr)};react_production_min.useSyncExternalStore=function(lr,cr,ar){return U$1.current.useSyncExternalStore(lr,cr,ar)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports,uaParser_min={exports:{}};(function(lr,cr){(function(ar,or){var ur="1.0.38",fr="",dr="?",pr="function",br="undefined",_r="object",yr="string",mr="major",Er="model",gr="name",Ir="type",Ar="vendor",kr="version",Or="architecture",Dr="console",Rr="mobile",Fr="tablet",Nr="smarttv",Hr="wearable",Ur="embedded",Zr=500,Gr="Amazon",jr="Apple",Jr="ASUS",Wr="BlackBerry",ni="Browser",Mr="Chrome",di="Edge",Ei="Firefox",_i="Google",Fi="Huawei",si="LG",ci="Microsoft",$r="Motorola",ei="Opera",pi="Samsung",ui="Sharp",bi="Sony",qi="Xiaomi",Ki="Zebra",Ti="Facebook",ii="Chromium OS",oi="Mac OS",Si=function(ai,fi){var vi={};for(var Ri in ai)fi[Ri]&&fi[Ri].length%2===0?vi[Ri]=fi[Ri].concat(ai[Ri]):vi[Ri]=ai[Ri];return vi},Di=function(ai){for(var fi={},vi=0;vi<ai.length;vi++)fi[ai[vi].toUpperCase()]=ai[vi];return fi},Mi=function(ai,fi){return typeof ai===yr?Vr(fi).indexOf(Vr(ai))!==-1:!1},Vr=function(ai){return ai.toLowerCase()},hi=function(ai){return typeof ai===yr?ai.replace(/[^\d\.]/g,fr).split(".")[0]:or},yi=function(ai,fi){if(typeof ai===yr)return ai=ai.replace(/^\s\s*/,fr),typeof fi===br?ai:ai.substring(0,Zr)},ti=function(ai,fi){for(var vi=0,Ri,$i,Xi,ji,Bi,Zi;vi<fi.length&&!Bi;){var Aa=fi[vi],Da=fi[vi+1];for(Ri=$i=0;Ri<Aa.length&&!Bi&&Aa[Ri];)if(Bi=Aa[Ri++].exec(ai),Bi)for(Xi=0;Xi<Da.length;Xi++)Zi=Bi[++$i],ji=Da[Xi],typeof ji===_r&&ji.length>0?ji.length===2?typeof ji[1]==pr?this[ji[0]]=ji[1].call(this,Zi):this[ji[0]]=ji[1]:ji.length===3?typeof ji[1]===pr&&!(ji[1].exec&&ji[1].test)?this[ji[0]]=Zi?ji[1].call(this,Zi,ji[2]):or:this[ji[0]]=Zi?Zi.replace(ji[1],ji[2]):or:ji.length===4&&(this[ji[0]]=Zi?ji[3].call(this,Zi.replace(ji[1],ji[2])):or):this[ji]=Zi||or;vi+=2}},ri=function(ai,fi){for(var vi in fi)if(typeof fi[vi]===_r&&fi[vi].length>0){for(var Ri=0;Ri<fi[vi].length;Ri++)if(Mi(fi[vi][Ri],ai))return vi===dr?or:vi}else if(Mi(fi[vi],ai))return vi===dr?or:vi;return ai},xi={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Ai={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Kr={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[kr,[gr,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[kr,[gr,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[gr,kr],[/opios[\/ ]+([\w\.]+)/i],[kr,[gr,ei+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[kr,[gr,ei+" GX"]],[/\bopr\/([\w\.]+)/i],[kr,[gr,ei]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[kr,[gr,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[gr,kr],[/\bddg\/([\w\.]+)/i],[kr,[gr,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[kr,[gr,"UC"+ni]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[kr,[gr,"WeChat"]],[/konqueror\/([\w\.]+)/i],[kr,[gr,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[kr,[gr,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[kr,[gr,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[kr,[gr,"Smart Lenovo "+ni]],[/(avast|avg)\/([\w\.]+)/i],[[gr,/(.+)/,"$1 Secure "+ni],kr],[/\bfocus\/([\w\.]+)/i],[kr,[gr,Ei+" Focus"]],[/\bopt\/([\w\.]+)/i],[kr,[gr,ei+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[kr,[gr,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[kr,[gr,"Dolphin"]],[/coast\/([\w\.]+)/i],[kr,[gr,ei+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[kr,[gr,"MIUI "+ni]],[/fxios\/([-\w\.]+)/i],[kr,[gr,Ei]],[/\bqihu|(qi?ho?o?|360)browser/i],[[gr,"360 "+ni]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[gr,/(.+)/,"$1 "+ni],kr],[/samsungbrowser\/([\w\.]+)/i],[kr,[gr,pi+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[gr,/_/g," "],kr],[/metasr[\/ ]?([\d\.]+)/i],[kr,[gr,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[gr,"Sogou Mobile"],kr],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[gr,kr],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[gr],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[gr,Ti],kr],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[gr,kr],[/\bgsa\/([\w\.]+) .*safari\//i],[kr,[gr,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[kr,[gr,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[kr,[gr,Mr+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[gr,Mr+" WebView"],kr],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[kr,[gr,"Android "+ni]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[gr,kr],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[kr,[gr,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[kr,gr],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[gr,[kr,ri,xi]],[/(webkit|khtml)\/([\w\.]+)/i],[gr,kr],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[gr,"Netscape"],kr],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[kr,[gr,Ei+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[gr,kr],[/(cobalt)\/([\w\.]+)/i],[gr,[kr,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[Or,"amd64"]],[/(ia32(?=;))/i],[[Or,Vr]],[/((?:i[346]|x)86)[;\)]/i],[[Or,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[Or,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[Or,"armhf"]],[/windows (ce|mobile); ppc;/i],[[Or,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[Or,/ower/,fr,Vr]],[/(sun4\w)[;\)]/i],[[Or,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[Or,Vr]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[Er,[Ar,pi],[Ir,Fr]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[Er,[Ar,pi],[Ir,Rr]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[Er,[Ar,jr],[Ir,Rr]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[Er,[Ar,jr],[Ir,Fr]],[/(macintosh);/i],[Er,[Ar,jr]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[Er,[Ar,ui],[Ir,Rr]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[Er,[Ar,Fi],[Ir,Fr]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[Er,[Ar,Fi],[Ir,Rr]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[Er,/_/g," "],[Ar,qi],[Ir,Rr]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[Er,/_/g," "],[Ar,qi],[Ir,Fr]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[Er,[Ar,"OPPO"],[Ir,Rr]],[/\b(opd2\d{3}a?) bui/i],[Er,[Ar,"OPPO"],[Ir,Fr]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[Er,[Ar,"Vivo"],[Ir,Rr]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[Er,[Ar,"Realme"],[Ir,Rr]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[Er,[Ar,$r],[Ir,Rr]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[Er,[Ar,$r],[Ir,Fr]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[Er,[Ar,si],[Ir,Fr]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[Er,[Ar,si],[Ir,Rr]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[Er,[Ar,"Lenovo"],[Ir,Fr]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[Er,/_/g," "],[Ar,"Nokia"],[Ir,Rr]],[/(pixel c)\b/i],[Er,[Ar,_i],[Ir,Fr]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[Er,[Ar,_i],[Ir,Rr]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[Er,[Ar,bi],[Ir,Rr]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[Er,"Xperia Tablet"],[Ar,bi],[Ir,Fr]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[Er,[Ar,"OnePlus"],[Ir,Rr]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[Er,[Ar,Gr],[Ir,Fr]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[Er,/(.+)/g,"Fire Phone $1"],[Ar,Gr],[Ir,Rr]],[/(playbook);[-\w\),; ]+(rim)/i],[Er,Ar,[Ir,Fr]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[Er,[Ar,Wr],[Ir,Rr]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[Er,[Ar,Jr],[Ir,Fr]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[Er,[Ar,Jr],[Ir,Rr]],[/(nexus 9)/i],[Er,[Ar,"HTC"],[Ir,Fr]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[Ar,[Er,/_/g," "],[Ir,Rr]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[Er,[Ar,"Acer"],[Ir,Fr]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[Er,[Ar,"Meizu"],[Ir,Rr]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[Er,[Ar,"Ulefone"],[Ir,Rr]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[Ar,Er,[Ir,Rr]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[Ar,Er,[Ir,Fr]],[/(surface duo)/i],[Er,[Ar,ci],[Ir,Fr]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[Er,[Ar,"Fairphone"],[Ir,Rr]],[/(u304aa)/i],[Er,[Ar,"AT&T"],[Ir,Rr]],[/\bsie-(\w*)/i],[Er,[Ar,"Siemens"],[Ir,Rr]],[/\b(rct\w+) b/i],[Er,[Ar,"RCA"],[Ir,Fr]],[/\b(venue[\d ]{2,7}) b/i],[Er,[Ar,"Dell"],[Ir,Fr]],[/\b(q(?:mv|ta)\w+) b/i],[Er,[Ar,"Verizon"],[Ir,Fr]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[Er,[Ar,"Barnes & Noble"],[Ir,Fr]],[/\b(tm\d{3}\w+) b/i],[Er,[Ar,"NuVision"],[Ir,Fr]],[/\b(k88) b/i],[Er,[Ar,"ZTE"],[Ir,Fr]],[/\b(nx\d{3}j) b/i],[Er,[Ar,"ZTE"],[Ir,Rr]],[/\b(gen\d{3}) b.+49h/i],[Er,[Ar,"Swiss"],[Ir,Rr]],[/\b(zur\d{3}) b/i],[Er,[Ar,"Swiss"],[Ir,Fr]],[/\b((zeki)?tb.*\b) b/i],[Er,[Ar,"Zeki"],[Ir,Fr]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[Ar,"Dragon Touch"],Er,[Ir,Fr]],[/\b(ns-?\w{0,9}) b/i],[Er,[Ar,"Insignia"],[Ir,Fr]],[/\b((nxa|next)-?\w{0,9}) b/i],[Er,[Ar,"NextBook"],[Ir,Fr]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[Ar,"Voice"],Er,[Ir,Rr]],[/\b(lvtel\-)?(v1[12]) b/i],[[Ar,"LvTel"],Er,[Ir,Rr]],[/\b(ph-1) /i],[Er,[Ar,"Essential"],[Ir,Rr]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[Er,[Ar,"Envizen"],[Ir,Fr]],[/\b(trio[-\w\. ]+) b/i],[Er,[Ar,"MachSpeed"],[Ir,Fr]],[/\btu_(1491) b/i],[Er,[Ar,"Rotor"],[Ir,Fr]],[/(shield[\w ]+) b/i],[Er,[Ar,"Nvidia"],[Ir,Fr]],[/(sprint) (\w+)/i],[Ar,Er,[Ir,Rr]],[/(kin\.[onetw]{3})/i],[[Er,/\./g," "],[Ar,ci],[Ir,Rr]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[Er,[Ar,Ki],[Ir,Fr]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[Er,[Ar,Ki],[Ir,Rr]],[/smart-tv.+(samsung)/i],[Ar,[Ir,Nr]],[/hbbtv.+maple;(\d+)/i],[[Er,/^/,"SmartTV"],[Ar,pi],[Ir,Nr]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[Ar,si],[Ir,Nr]],[/(apple) ?tv/i],[Ar,[Er,jr+" TV"],[Ir,Nr]],[/crkey/i],[[Er,Mr+"cast"],[Ar,_i],[Ir,Nr]],[/droid.+aft(\w+)( bui|\))/i],[Er,[Ar,Gr],[Ir,Nr]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[Er,[Ar,ui],[Ir,Nr]],[/(bravia[\w ]+)( bui|\))/i],[Er,[Ar,bi],[Ir,Nr]],[/(mitv-\w{5}) bui/i],[Er,[Ar,qi],[Ir,Nr]],[/Hbbtv.*(technisat) (.*);/i],[Ar,Er,[Ir,Nr]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[Ar,yi],[Er,yi],[Ir,Nr]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[Ir,Nr]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[Ar,Er,[Ir,Dr]],[/droid.+; (shield) bui/i],[Er,[Ar,"Nvidia"],[Ir,Dr]],[/(playstation [345portablevi]+)/i],[Er,[Ar,bi],[Ir,Dr]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[Er,[Ar,ci],[Ir,Dr]],[/((pebble))app/i],[Ar,Er,[Ir,Hr]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[Er,[Ar,jr],[Ir,Hr]],[/droid.+; (glass) \d/i],[Er,[Ar,_i],[Ir,Hr]],[/droid.+; (wt63?0{2,3})\)/i],[Er,[Ar,Ki],[Ir,Hr]],[/(quest( \d| pro)?)/i],[Er,[Ar,Ti],[Ir,Hr]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[Ar,[Ir,Ur]],[/(aeobc)\b/i],[Er,[Ar,Gr],[Ir,Ur]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[Er,[Ir,Rr]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[Er,[Ir,Fr]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[Ir,Fr]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[Ir,Rr]],[/(android[-\w\. ]{0,9});.+buil/i],[Er,[Ar,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[kr,[gr,di+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[kr,[gr,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[gr,kr],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[kr,gr]],os:[[/microsoft (windows) (vista|xp)/i],[gr,kr],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[gr,[kr,ri,Ai]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[kr,ri,Ai],[gr,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[kr,/_/g,"."],[gr,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[gr,oi],[kr,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[kr,gr],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[gr,kr],[/\(bb(10);/i],[kr,[gr,Wr]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[kr,[gr,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[kr,[gr,Ei+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[kr,[gr,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[kr,[gr,"watchOS"]],[/crkey\/([\d\.]+)/i],[kr,[gr,Mr+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[gr,ii],kr],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[gr,kr],[/(sunos) ?([\w\.\d]*)/i],[[gr,"Solaris"],kr],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[gr,kr]]},Pr=function(ai,fi){if(typeof ai===_r&&(fi=ai,ai=or),!(this instanceof Pr))return new Pr(ai,fi).getResult();var vi=typeof ar!==br&&ar.navigator?ar.navigator:or,Ri=ai||(vi&&vi.userAgent?vi.userAgent:fr),$i=vi&&vi.userAgentData?vi.userAgentData:or,Xi=fi?Si(Kr,fi):Kr,ji=vi&&vi.userAgent==Ri;return this.getBrowser=function(){var Bi={};return Bi[gr]=or,Bi[kr]=or,ti.call(Bi,Ri,Xi.browser),Bi[mr]=hi(Bi[kr]),ji&&vi&&vi.brave&&typeof vi.brave.isBrave==pr&&(Bi[gr]="Brave"),Bi},this.getCPU=function(){var Bi={};return Bi[Or]=or,ti.call(Bi,Ri,Xi.cpu),Bi},this.getDevice=function(){var Bi={};return Bi[Ar]=or,Bi[Er]=or,Bi[Ir]=or,ti.call(Bi,Ri,Xi.device),ji&&!Bi[Ir]&&$i&&$i.mobile&&(Bi[Ir]=Rr),ji&&Bi[Er]=="Macintosh"&&vi&&typeof vi.standalone!==br&&vi.maxTouchPoints&&vi.maxTouchPoints>2&&(Bi[Er]="iPad",Bi[Ir]=Fr),Bi},this.getEngine=function(){var Bi={};return Bi[gr]=or,Bi[kr]=or,ti.call(Bi,Ri,Xi.engine),Bi},this.getOS=function(){var Bi={};return Bi[gr]=or,Bi[kr]=or,ti.call(Bi,Ri,Xi.os),ji&&!Bi[gr]&&$i&&$i.platform&&$i.platform!="Unknown"&&(Bi[gr]=$i.platform.replace(/chrome os/i,ii).replace(/macos/i,oi)),Bi},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Ri},this.setUA=function(Bi){return Ri=typeof Bi===yr&&Bi.length>Zr?yi(Bi,Zr):Bi,this},this.setUA(Ri),this};Pr.VERSION=ur,Pr.BROWSER=Di([gr,kr,mr]),Pr.CPU=Di([Or]),Pr.DEVICE=Di([Er,Ar,Ir,Dr,Rr,Nr,Fr,Hr,Ur]),Pr.ENGINE=Pr.OS=Di([gr,kr]),lr.exports&&(cr=lr.exports=Pr),cr.UAParser=Pr;var qr=typeof ar!==br&&(ar.jQuery||ar.Zepto);if(qr&&!qr.ua){var Xr=new Pr;qr.ua=Xr.getResult(),qr.ua.get=function(){return Xr.getUA()},qr.ua.set=function(ai){Xr.setUA(ai);var fi=Xr.getResult();for(var vi in fi)qr.ua[vi]=fi[vi]}}})(typeof window=="object"?window:commonjsGlobal$1)})(uaParser_min,uaParser_min.exports);var uaParser_minExports=uaParser_min.exports;Object.defineProperty(lib,"__esModule",{value:!0});function _interopDefault(lr){return lr&&typeof lr=="object"&&"default"in lr?lr.default:lr}var React=reactExports,React__default=_interopDefault(React),UAParser=uaParser_minExports,ClientUAInstance=new UAParser,browser=ClientUAInstance.getBrowser(),cpu=ClientUAInstance.getCPU(),device=ClientUAInstance.getDevice(),engine=ClientUAInstance.getEngine(),os=ClientUAInstance.getOS(),ua$1=ClientUAInstance.getUA(),setUa=function(cr){return ClientUAInstance.setUA(cr)},parseUserAgent=function(cr){if(!cr){console.error("No userAgent string was provided");return}var ar=new UAParser(cr);return{UA:ar,browser:ar.getBrowser(),cpu:ar.getCPU(),device:ar.getDevice(),engine:ar.getEngine(),os:ar.getOS(),ua:ar.getUA(),setUserAgent:function(ur){return ar.setUA(ur)}}},UAHelper=Object.freeze({ClientUAInstance,browser,cpu,device,engine,os,ua:ua$1,setUa,parseUserAgent});function ownKeys(lr,cr){var ar=Object.keys(lr);if(Object.getOwnPropertySymbols){var or=Object.getOwnPropertySymbols(lr);cr&&(or=or.filter(function(ur){return Object.getOwnPropertyDescriptor(lr,ur).enumerable})),ar.push.apply(ar,or)}return ar}function _objectSpread2(lr){for(var cr=1;cr<arguments.length;cr++){var ar=arguments[cr]!=null?arguments[cr]:{};cr%2?ownKeys(Object(ar),!0).forEach(function(or){_defineProperty(lr,or,ar[or])}):Object.getOwnPropertyDescriptors?Object.defineProperties(lr,Object.getOwnPropertyDescriptors(ar)):ownKeys(Object(ar)).forEach(function(or){Object.defineProperty(lr,or,Object.getOwnPropertyDescriptor(ar,or))})}return lr}function _typeof(lr){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(cr){return typeof cr}:_typeof=function(cr){return cr&&typeof Symbol=="function"&&cr.constructor===Symbol&&cr!==Symbol.prototype?"symbol":typeof cr},_typeof(lr)}function _classCallCheck(lr,cr){if(!(lr instanceof cr))throw new TypeError("Cannot call a class as a function")}function _defineProperties(lr,cr){for(var ar=0;ar<cr.length;ar++){var or=cr[ar];or.enumerable=or.enumerable||!1,or.configurable=!0,"value"in or&&(or.writable=!0),Object.defineProperty(lr,or.key,or)}}function _createClass(lr,cr,ar){return cr&&_defineProperties(lr.prototype,cr),ar&&_defineProperties(lr,ar),lr}function _defineProperty(lr,cr,ar){return cr in lr?Object.defineProperty(lr,cr,{value:ar,enumerable:!0,configurable:!0,writable:!0}):lr[cr]=ar,lr}function _extends(){return _extends=Object.assign||function(lr){for(var cr=1;cr<arguments.length;cr++){var ar=arguments[cr];for(var or in ar)Object.prototype.hasOwnProperty.call(ar,or)&&(lr[or]=ar[or])}return lr},_extends.apply(this,arguments)}function _inherits(lr,cr){if(typeof cr!="function"&&cr!==null)throw new TypeError("Super expression must either be null or a function");lr.prototype=Object.create(cr&&cr.prototype,{constructor:{value:lr,writable:!0,configurable:!0}}),cr&&_setPrototypeOf(lr,cr)}function _getPrototypeOf(lr){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(ar){return ar.__proto__||Object.getPrototypeOf(ar)},_getPrototypeOf(lr)}function _setPrototypeOf(lr,cr){return _setPrototypeOf=Object.setPrototypeOf||function(or,ur){return or.__proto__=ur,or},_setPrototypeOf(lr,cr)}function _objectWithoutPropertiesLoose(lr,cr){if(lr==null)return{};var ar={},or=Object.keys(lr),ur,fr;for(fr=0;fr<or.length;fr++)ur=or[fr],!(cr.indexOf(ur)>=0)&&(ar[ur]=lr[ur]);return ar}function _objectWithoutProperties(lr,cr){if(lr==null)return{};var ar=_objectWithoutPropertiesLoose(lr,cr),or,ur;if(Object.getOwnPropertySymbols){var fr=Object.getOwnPropertySymbols(lr);for(ur=0;ur<fr.length;ur++)or=fr[ur],!(cr.indexOf(or)>=0)&&Object.prototype.propertyIsEnumerable.call(lr,or)&&(ar[or]=lr[or])}return ar}function _assertThisInitialized(lr){if(lr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return lr}function _possibleConstructorReturn(lr,cr){if(cr&&(typeof cr=="object"||typeof cr=="function"))return cr;if(cr!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(lr)}function _slicedToArray(lr,cr){return _arrayWithHoles(lr)||_iterableToArrayLimit(lr,cr)||_unsupportedIterableToArray(lr,cr)||_nonIterableRest()}function _arrayWithHoles(lr){if(Array.isArray(lr))return lr}function _iterableToArrayLimit(lr,cr){var ar=lr==null?null:typeof Symbol<"u"&&lr[Symbol.iterator]||lr["@@iterator"];if(ar!=null){var or=[],ur=!0,fr=!1,dr,pr;try{for(ar=ar.call(lr);!(ur=(dr=ar.next()).done)&&(or.push(dr.value),!(cr&&or.length===cr));ur=!0);}catch(br){fr=!0,pr=br}finally{try{!ur&&ar.return!=null&&ar.return()}finally{if(fr)throw pr}}return or}}function _unsupportedIterableToArray(lr,cr){if(lr){if(typeof lr=="string")return _arrayLikeToArray(lr,cr);var ar=Object.prototype.toString.call(lr).slice(8,-1);if(ar==="Object"&&lr.constructor&&(ar=lr.constructor.name),ar==="Map"||ar==="Set")return Array.from(lr);if(ar==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ar))return _arrayLikeToArray(lr,cr)}}function _arrayLikeToArray(lr,cr){(cr==null||cr>lr.length)&&(cr=lr.length);for(var ar=0,or=new Array(cr);ar<cr;ar++)or[ar]=lr[ar];return or}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var DeviceTypes={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},BrowserTypes={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},OsTypes={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},InitialDeviceTypes={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},checkDeviceType=function(cr){switch(cr){case DeviceTypes.Mobile:return{isMobile:!0};case DeviceTypes.Tablet:return{isTablet:!0};case DeviceTypes.SmartTv:return{isSmartTV:!0};case DeviceTypes.Console:return{isConsole:!0};case DeviceTypes.Wearable:return{isWearable:!0};case DeviceTypes.Browser:return{isBrowser:!0};case DeviceTypes.Embedded:return{isEmbedded:!0};default:return InitialDeviceTypes}},setUserAgent=function(cr){return setUa(cr)},setDefaults=function(cr){var ar=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return cr||ar},getNavigatorInstance=function(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},isIOS13Check=function(cr){var ar=getNavigatorInstance();return ar&&ar.platform&&(ar.platform.indexOf(cr)!==-1||ar.platform==="MacIntel"&&ar.maxTouchPoints>1&&!window.MSStream)},browserPayload=function(cr,ar,or,ur,fr){return{isBrowser:cr,browserMajorVersion:setDefaults(ar.major),browserFullVersion:setDefaults(ar.version),browserName:setDefaults(ar.name),engineName:setDefaults(or.name),engineVersion:setDefaults(or.version),osName:setDefaults(ur.name),osVersion:setDefaults(ur.version),userAgent:setDefaults(fr)}},mobilePayload=function(cr,ar,or,ur){return _objectSpread2({},cr,{vendor:setDefaults(ar.vendor),model:setDefaults(ar.model),os:setDefaults(or.name),osVersion:setDefaults(or.version),ua:setDefaults(ur)})},smartTvPayload=function(cr,ar,or,ur){return{isSmartTV:cr,engineName:setDefaults(ar.name),engineVersion:setDefaults(ar.version),osName:setDefaults(or.name),osVersion:setDefaults(or.version),userAgent:setDefaults(ur)}},consolePayload=function(cr,ar,or,ur){return{isConsole:cr,engineName:setDefaults(ar.name),engineVersion:setDefaults(ar.version),osName:setDefaults(or.name),osVersion:setDefaults(or.version),userAgent:setDefaults(ur)}},wearablePayload=function(cr,ar,or,ur){return{isWearable:cr,engineName:setDefaults(ar.name),engineVersion:setDefaults(ar.version),osName:setDefaults(or.name),osVersion:setDefaults(or.version),userAgent:setDefaults(ur)}},embeddedPayload=function(cr,ar,or,ur,fr){return{isEmbedded:cr,vendor:setDefaults(ar.vendor),model:setDefaults(ar.model),engineName:setDefaults(or.name),engineVersion:setDefaults(or.version),osName:setDefaults(ur.name),osVersion:setDefaults(ur.version),userAgent:setDefaults(fr)}};function deviceDetect(lr){var cr=lr?parseUserAgent(lr):UAHelper,ar=cr.device,or=cr.browser,ur=cr.engine,fr=cr.os,dr=cr.ua,pr=checkDeviceType(ar.type),br=pr.isBrowser,_r=pr.isMobile,yr=pr.isTablet,mr=pr.isSmartTV,Er=pr.isConsole,gr=pr.isWearable,Ir=pr.isEmbedded;if(br)return browserPayload(br,or,ur,fr,dr);if(mr)return smartTvPayload(mr,ur,fr,dr);if(Er)return consolePayload(Er,ur,fr,dr);if(_r||yr)return mobilePayload(pr,ar,fr,dr);if(gr)return wearablePayload(gr,ur,fr,dr);if(Ir)return embeddedPayload(Ir,ar,ur,fr,dr)}var isMobileType=function(cr){var ar=cr.type;return ar===DeviceTypes.Mobile},isTabletType=function(cr){var ar=cr.type;return ar===DeviceTypes.Tablet},isMobileAndTabletType=function(cr){var ar=cr.type;return ar===DeviceTypes.Mobile||ar===DeviceTypes.Tablet},isSmartTVType=function(cr){var ar=cr.type;return ar===DeviceTypes.SmartTv},isBrowserType=function(cr){var ar=cr.type;return ar===DeviceTypes.Browser},isWearableType=function(cr){var ar=cr.type;return ar===DeviceTypes.Wearable},isConsoleType=function(cr){var ar=cr.type;return ar===DeviceTypes.Console},isEmbeddedType=function(cr){var ar=cr.type;return ar===DeviceTypes.Embedded},getMobileVendor=function(cr){var ar=cr.vendor;return setDefaults(ar)},getMobileModel=function(cr){var ar=cr.model;return setDefaults(ar)},getDeviceType=function(cr){var ar=cr.type;return setDefaults(ar,"browser")},isAndroidType=function(cr){var ar=cr.name;return ar===OsTypes.Android},isWindowsType=function(cr){var ar=cr.name;return ar===OsTypes.Windows},isMacOsType=function(cr){var ar=cr.name;return ar===OsTypes.MAC_OS},isWinPhoneType=function(cr){var ar=cr.name;return ar===OsTypes.WindowsPhone},isIOSType=function(cr){var ar=cr.name;return ar===OsTypes.IOS},getOsVersion=function(cr){var ar=cr.version;return setDefaults(ar)},getOsName=function(cr){var ar=cr.name;return setDefaults(ar)},isChromeType=function(cr){var ar=cr.name;return ar===BrowserTypes.Chrome},isFirefoxType=function(cr){var ar=cr.name;return ar===BrowserTypes.Firefox},isChromiumType=function(cr){var ar=cr.name;return ar===BrowserTypes.Chromium},isEdgeType=function(cr){var ar=cr.name;return ar===BrowserTypes.Edge},isYandexType=function(cr){var ar=cr.name;return ar===BrowserTypes.Yandex},isSafariType=function(cr){var ar=cr.name;return ar===BrowserTypes.Safari||ar===BrowserTypes.MobileSafari},isMobileSafariType=function(cr){var ar=cr.name;return ar===BrowserTypes.MobileSafari},isOperaType=function(cr){var ar=cr.name;return ar===BrowserTypes.Opera},isIEType=function(cr){var ar=cr.name;return ar===BrowserTypes.InternetExplorer||ar===BrowserTypes.Ie},isMIUIType=function(cr){var ar=cr.name;return ar===BrowserTypes.MIUI},isSamsungBrowserType=function(cr){var ar=cr.name;return ar===BrowserTypes.SamsungBrowser},getBrowserFullVersion=function(cr){var ar=cr.version;return setDefaults(ar)},getBrowserVersion=function(cr){var ar=cr.major;return setDefaults(ar)},getBrowserName=function(cr){var ar=cr.name;return setDefaults(ar)},getEngineName=function(cr){var ar=cr.name;return setDefaults(ar)},getEngineVersion=function(cr){var ar=cr.version;return setDefaults(ar)},isElectronType=function(){var cr=getNavigatorInstance(),ar=cr&&cr.userAgent&&cr.userAgent.toLowerCase();return typeof ar=="string"?/electron/.test(ar):!1},isEdgeChromiumType=function(cr){return typeof cr=="string"&&cr.indexOf("Edg/")!==-1},getIOS13=function(){var cr=getNavigatorInstance();return cr&&(/iPad|iPhone|iPod/.test(cr.platform)||cr.platform==="MacIntel"&&cr.maxTouchPoints>1)&&!window.MSStream},getIPad13=function(){return isIOS13Check("iPad")},getIphone13=function(){return isIOS13Check("iPhone")},getIPod13=function(){return isIOS13Check("iPod")},getUseragent=function(cr){return setDefaults(cr)};function buildSelectorsObject(lr){var cr=lr||UAHelper,ar=cr.device,or=cr.browser,ur=cr.os,fr=cr.engine,dr=cr.ua;return{isSmartTV:isSmartTVType(ar),isConsole:isConsoleType(ar),isWearable:isWearableType(ar),isEmbedded:isEmbeddedType(ar),isMobileSafari:isMobileSafariType(or)||getIPad13(),isChromium:isChromiumType(or),isMobile:isMobileAndTabletType(ar)||getIPad13(),isMobileOnly:isMobileType(ar),isTablet:isTabletType(ar)||getIPad13(),isBrowser:isBrowserType(ar),isDesktop:isBrowserType(ar),isAndroid:isAndroidType(ur),isWinPhone:isWinPhoneType(ur),isIOS:isIOSType(ur)||getIPad13(),isChrome:isChromeType(or),isFirefox:isFirefoxType(or),isSafari:isSafariType(or),isOpera:isOperaType(or),isIE:isIEType(or),osVersion:getOsVersion(ur),osName:getOsName(ur),fullBrowserVersion:getBrowserFullVersion(or),browserVersion:getBrowserVersion(or),browserName:getBrowserName(or),mobileVendor:getMobileVendor(ar),mobileModel:getMobileModel(ar),engineName:getEngineName(fr),engineVersion:getEngineVersion(fr),getUA:getUseragent(dr),isEdge:isEdgeType(or)||isEdgeChromiumType(dr),isYandex:isYandexType(or),deviceType:getDeviceType(ar),isIOS13:getIOS13(),isIPad13:getIPad13(),isIPhone13:getIphone13(),isIPod13:getIPod13(),isElectron:isElectronType(),isEdgeChromium:isEdgeChromiumType(dr),isLegacyEdge:isEdgeType(or)&&!isEdgeChromiumType(dr),isWindows:isWindowsType(ur),isMacOs:isMacOsType(ur),isMIUI:isMIUIType(or),isSamsungBrowser:isSamsungBrowserType(or)}}var isSmartTV=isSmartTVType(device),isConsole=isConsoleType(device),isWearable=isWearableType(device),isEmbedded=isEmbeddedType(device),isMobileSafari=isMobileSafariType(browser)||getIPad13(),isChromium=isChromiumType(browser),isMobile=isMobileAndTabletType(device)||getIPad13(),isMobileOnly=isMobileType(device),isTablet=isTabletType(device)||getIPad13(),isBrowser=isBrowserType(device),isDesktop=isBrowserType(device),isAndroid=isAndroidType(os),isWinPhone=isWinPhoneType(os),isIOS=isIOSType(os)||getIPad13(),isChrome=isChromeType(browser),isFirefox=isFirefoxType(browser),isSafari=isSafariType(browser),isOpera=isOperaType(browser),isIE=isIEType(browser),osVersion=getOsVersion(os),osName=getOsName(os),fullBrowserVersion=getBrowserFullVersion(browser),browserVersion=getBrowserVersion(browser),browserName=getBrowserName(browser),mobileVendor=getMobileVendor(device),mobileModel=getMobileModel(device),engineName=getEngineName(engine),engineVersion=getEngineVersion(engine),getUA=getUseragent(ua$1),isEdge=isEdgeType(browser)||isEdgeChromiumType(ua$1),isYandex=isYandexType(browser),deviceType=getDeviceType(device),isIOS13=getIOS13(),isIPad13=getIPad13(),isIPhone13=getIphone13(),isIPod13=getIPod13(),isElectron=isElectronType(),isEdgeChromium=isEdgeChromiumType(ua$1),isLegacyEdge=isEdgeType(browser)&&!isEdgeChromiumType(ua$1),isWindows=isWindowsType(os),isMacOs=isMacOsType(os),isMIUI=isMIUIType(browser),isSamsungBrowser=isSamsungBrowserType(browser),getSelectorsByUserAgent=function(cr){if(!cr||typeof cr!="string"){console.error("No valid user agent string was provided");return}var ar=parseUserAgent(cr),or=ar.device,ur=ar.browser,fr=ar.os,dr=ar.engine,pr=ar.ua;return buildSelectorsObject({device:or,browser:ur,os:fr,engine:dr,ua:pr})},AndroidView=function(cr){var ar=cr.renderWithFragment,or=cr.children,ur=_objectWithoutProperties(cr,["renderWithFragment","children"]);return isAndroid?ar?React__default.createElement(React.Fragment,null,or):React__default.createElement("div",ur,or):null},BrowserView=function(cr){var ar=cr.renderWithFragment,or=cr.children,ur=_objectWithoutProperties(cr,["renderWithFragment","children"]);return isBrowser?ar?React__default.createElement(React.Fragment,null,or):React__default.createElement("div",ur,or):null},IEView=function(cr){var ar=cr.renderWithFragment,or=cr.children,ur=_objectWithoutProperties(cr,["renderWithFragment","children"]);return isIE?ar?React__default.createElement(React.Fragment,null,or):React__default.createElement("div",ur,or):null},IOSView=function(cr){var ar=cr.renderWithFragment,or=cr.children,ur=_objectWithoutProperties(cr,["renderWithFragment","children"]);return isIOS?ar?React__default.createElement(React.Fragment,null,or):React__default.createElement("div",ur,or):null},MobileView=function(cr){var ar=cr.renderWithFragment,or=cr.children,ur=_objectWithoutProperties(cr,["renderWithFragment","children"]);return isMobile?ar?React__default.createElement(React.Fragment,null,or):React__default.createElement("div",ur,or):null},TabletView=function(cr){var ar=cr.renderWithFragment,or=cr.children,ur=_objectWithoutProperties(cr,["renderWithFragment","children"]);return isTablet?ar?React__default.createElement(React.Fragment,null,or):React__default.createElement("div",ur,or):null},WinPhoneView=function(cr){var ar=cr.renderWithFragment,or=cr.children,ur=_objectWithoutProperties(cr,["renderWithFragment","children"]);return isWinPhone?ar?React__default.createElement(React.Fragment,null,or):React__default.createElement("div",ur,or):null},MobileOnlyView=function(cr){var ar=cr.renderWithFragment,or=cr.children;cr.viewClassName,cr.style;var ur=_objectWithoutProperties(cr,["renderWithFragment","children","viewClassName","style"]);return isMobileOnly?ar?React__default.createElement(React.Fragment,null,or):React__default.createElement("div",ur,or):null},SmartTVView=function(cr){var ar=cr.renderWithFragment,or=cr.children,ur=_objectWithoutProperties(cr,["renderWithFragment","children"]);return isSmartTV?ar?React__default.createElement(React.Fragment,null,or):React__default.createElement("div",ur,or):null},ConsoleView=function(cr){var ar=cr.renderWithFragment,or=cr.children,ur=_objectWithoutProperties(cr,["renderWithFragment","children"]);return isConsole?ar?React__default.createElement(React.Fragment,null,or):React__default.createElement("div",ur,or):null},WearableView=function(cr){var ar=cr.renderWithFragment,or=cr.children,ur=_objectWithoutProperties(cr,["renderWithFragment","children"]);return isWearable?ar?React__default.createElement(React.Fragment,null,or):React__default.createElement("div",ur,or):null},CustomView=function(cr){var ar=cr.renderWithFragment,or=cr.children;cr.viewClassName,cr.style;var ur=cr.condition,fr=_objectWithoutProperties(cr,["renderWithFragment","children","viewClassName","style","condition"]);return ur?ar?React__default.createElement(React.Fragment,null,or):React__default.createElement("div",fr,or):null};function withOrientationChange(lr){return function(cr){_inherits(ar,cr);function ar(or){var ur;return _classCallCheck(this,ar),ur=_possibleConstructorReturn(this,_getPrototypeOf(ar).call(this,or)),ur.isEventListenerAdded=!1,ur.handleOrientationChange=ur.handleOrientationChange.bind(_assertThisInitialized(ur)),ur.onOrientationChange=ur.onOrientationChange.bind(_assertThisInitialized(ur)),ur.onPageLoad=ur.onPageLoad.bind(_assertThisInitialized(ur)),ur.state={isLandscape:!1,isPortrait:!1},ur}return _createClass(ar,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var ur=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:ur===0,isLandscape:ur===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":_typeof(window))!==void 0&&isMobile&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return React__default.createElement(lr,_extends({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),ar}(React__default.Component)}function useMobileOrientation(){var lr=React.useState(function(){var fr=window.innerWidth>window.innerHeight?90:0;return{isPortrait:fr===0,isLandscape:fr===90,orientation:fr===0?"portrait":"landscape"}}),cr=_slicedToArray(lr,2),ar=cr[0],or=cr[1],ur=React.useCallback(function(){var fr=window.innerWidth>window.innerHeight?90:0,dr={isPortrait:fr===0,isLandscape:fr===90,orientation:fr===0?"portrait":"landscape"};ar.orientation!==dr.orientation&&or(dr)},[ar.orientation]);return React.useEffect(function(){return(typeof window>"u"?"undefined":_typeof(window))!==void 0&&isMobile&&(ur(),window.addEventListener("load",ur,!1),window.addEventListener("resize",ur,!1)),function(){window.removeEventListener("resize",ur,!1),window.removeEventListener("load",ur,!1)}},[ur]),ar}function useDeviceData(lr){var cr=lr||window.navigator.userAgent;return parseUserAgent(cr)}function useDeviceSelectors(lr){var cr=lr||window.navigator.userAgent,ar=useDeviceData(cr),or=buildSelectorsObject(ar);return[or,ar]}lib.AndroidView=AndroidView;lib.BrowserTypes=BrowserTypes;lib.BrowserView=BrowserView;lib.ConsoleView=ConsoleView;lib.CustomView=CustomView;lib.IEView=IEView;lib.IOSView=IOSView;lib.MobileOnlyView=MobileOnlyView;lib.MobileView=MobileView;lib.OsTypes=OsTypes;lib.SmartTVView=SmartTVView;lib.TabletView=TabletView;lib.WearableView=WearableView;lib.WinPhoneView=WinPhoneView;lib.browserName=browserName;lib.browserVersion=browserVersion;lib.deviceDetect=deviceDetect;lib.deviceType=deviceType;lib.engineName=engineName;lib.engineVersion=engineVersion;lib.fullBrowserVersion=fullBrowserVersion;lib.getSelectorsByUserAgent=getSelectorsByUserAgent;lib.getUA=getUA;lib.isAndroid=isAndroid;lib.isBrowser=isBrowser;lib.isChrome=isChrome;lib.isChromium=isChromium;lib.isConsole=isConsole;lib.isDesktop=isDesktop;lib.isEdge=isEdge;lib.isEdgeChromium=isEdgeChromium;lib.isElectron=isElectron;lib.isEmbedded=isEmbedded;lib.isFirefox=isFirefox;lib.isIE=isIE;lib.isIOS=isIOS;lib.isIOS13=isIOS13;lib.isIPad13=isIPad13;lib.isIPhone13=isIPhone13;lib.isIPod13=isIPod13;lib.isLegacyEdge=isLegacyEdge;lib.isMIUI=isMIUI;lib.isMacOs=isMacOs;var isMobile_1=lib.isMobile=isMobile;lib.isMobileOnly=isMobileOnly;lib.isMobileSafari=isMobileSafari;lib.isOpera=isOpera;lib.isSafari=isSafari;lib.isSamsungBrowser=isSamsungBrowser;lib.isSmartTV=isSmartTV;var isTablet_1=lib.isTablet=isTablet;lib.isWearable=isWearable;lib.isWinPhone=isWinPhone;lib.isWindows=isWindows;lib.isYandex=isYandex;lib.mobileModel=mobileModel;lib.mobileVendor=mobileVendor;lib.osName=osName;lib.osVersion=osVersion;lib.parseUserAgent=parseUserAgent;lib.setUserAgent=setUserAgent;lib.useDeviceData=useDeviceData;lib.useDeviceSelectors=useDeviceSelectors;lib.useMobileOrientation=useMobileOrientation;lib.withOrientationChange=withOrientationChange;const _0x16632d=_0x55e8;(function(lr,cr){const ar=_0x55e8,or=lr();for(;[];)try{if(-parseInt(ar(263))/1+parseInt(ar(301))/2+parseInt(ar(258))/3+parseInt(ar(273))/4*(parseInt(ar(279))/5)+parseInt(ar(266))/6+parseInt(ar(286))/7+parseInt(ar(265))/8*(-parseInt(ar(271))/9)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x119f,471634);function _0x119f(){const lr=["isNotPortrait","innerHeight","some","26790jlEOLc","isSmartphone","isStandalone","keyboard","hasTouch","(display-mode: standalone)","touch","2091607nTKOYa","onkeydown","add","#fastui","innerWidth","updateDeviceType","has","OculusBrowser","toggleJoystick","navigator","from","grid","hasGamepad","desktop","forceTouch","1106960XIneMC","isQuest","gamepad","2281281MJhxDH","includes","fullscreenElement","isGamepadConnected","forceDesktop","183864NKuEfQ","isTablet","24PXbKwm","1204938sUMIbN","Quest","#desktopUi","resizeCanvas","getGamepads","3618765gbXCaL","standalone","36zUVKOa","isDesktop","flex"];return _0x119f=function(){return lr},_0x119f()}function _0x55e8(lr,cr){const ar=_0x119f();return _0x55e8=function(or,ur){return or=or-258,ar[or]},_0x55e8(lr,cr)}var fo,hx;const wa=class wa{constructor(){const cr=_0x55e8;wa.detectDevice(),wa[cr(291)]()}static[_0x16632d(291)](){const cr=_0x16632d;wa[cr(274)]()||wa[cr(302)]()?wa[cr(262)]():wa[cr(283)]()&&wa[cr(300)]()}static[_0x16632d(274)](){const cr=_0x16632d;return Lr(wa,fo)[cr(292)](cr(299))&&Lr(wa,fo).has("keyboard")&&!Lr(wa,fo).has(cr(285))}static[_0x16632d(276)](){const cr=_0x16632d;return window[cr(290)]>window[cr(277)]}static[_0x16632d(298)](){const cr=_0x16632d;return navigator[cr(270)]?Array[cr(296)](navigator[cr(270)]())[cr(278)](ar=>ar!==null):![]}static isMobile(){return isMobile_1}static[_0x16632d(280)](){return isMobile_1&&!isTablet_1}static[_0x16632d(264)](){return isTablet_1}static[_0x16632d(281)](){const cr=_0x16632d;return window[cr(295)][cr(272)]||window.matchMedia(cr(284)).matches}static[_0x16632d(302)](){const cr=_0x16632d;var ar=navigator.userAgent;return ar[cr(259)](cr(293))||ar[cr(259)](cr(267))?!![]:![]}static hasTouch(){const cr=_0x16632d;return Lr(wa,fo)[cr(292)]("touch")}static[_0x16632d(300)](){const cr=_0x16632d;hide(cr(268)),show(cr(289),cr(297)),UiManager[cr(294)]()}static[_0x16632d(262)](){const cr=_0x16632d;hide(cr(289)),show("#desktopUi",cr(275)),UiManager[cr(294)](),wa[cr(274)]()?hide("#toggle-keyboard"):show("#toggle-keyboard")}static[_0x16632d(261)](){const cr=_0x16632d,ar=navigator[cr(270)]();for(const or of ar)if(or)return!![];return![]}static detectDevice(){const cr=_0x16632d;"ontouchstart"in window?Lr(wa,fo)[cr(288)](cr(285)):Lr(wa,fo)[cr(288)](cr(299)),cr(287)in window&&Lr(wa,fo).add(cr(282)),wa[cr(261)]()&&Lr(wa,fo)[cr(288)](cr(303)),wa[cr(291)]()}};hx=_0x16632d(269),fo=new WeakMap,mi(wa,fo,new Set),Ea(wa,hx,cr=>{const ar=_0x16632d;if(document[ar(260)]!=null||cr==null)return;let ur=window[ar(290)],fr=window[ar(277)];ur<fr&&(fr=fr/2),cr.resize({width:ur,height:fr})});let EnvironmentManager=wa;const _0x4b04c6=_0x3599;(function(lr,cr){const ar=_0x3599,or=lr();for(;[];)try{if(parseInt(ar(357))/1*(parseInt(ar(348))/2)+parseInt(ar(340))/3+parseInt(ar(360))/4+-parseInt(ar(368))/5*(-parseInt(ar(345))/6)+parseInt(ar(342))/7*(-parseInt(ar(354))/8)+parseInt(ar(341))/9*(parseInt(ar(365))/10)+-parseInt(ar(355))/11===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x5346,456455);function _0x3599(lr,cr){const ar=_0x5346();return _0x3599=function(or,ur){return or=or-334,ar[or]},_0x3599(lr,cr)}function createGuiButton(lr,cr,ar,or,ur=!![],fr,dr=_0x4b04c6(337)){const pr=createButtonElement(lr,cr,ar),br=fr||"guiBtn-pressed";addButtonToContainer(pr,dr),setupButtonInteractions(pr,or,ur,br)}function createButtonElement(lr,cr,ar){const or=_0x4b04c6,ur=document[or(369)](or(350));return ur.id=lr,ur[or(356)]=or(358)+cr+or(358),ur[or(349)](or(346),ar),ur[or(364)][or(352)]=or(358)+cr+or(358),ur[or(335)][or(366)](or(363)),ur}function addButtonToContainer(lr,cr){const ar=_0x4b04c6;document[ar(334)](cr)[ar(343)](lr)}function setupButtonInteractions(lr,cr,ar,or){const ur=_0x4b04c6;lr[ur(364)].isSelected="false";function fr(){const dr=ur;return!lr.classList[dr(344)](dr(338))}lr[ur(336)]("pointerdown",dr=>handlePointerDown(dr,lr,fr,ar,or)),lr[ur(336)](ur(339),dr=>handlePointerMove(dr,lr,fr,ar,or)),lr[ur(336)]("pointercancel",dr=>handlePointerCancel(dr,lr,fr,ar,or)),lr[ur(336)]("pointerup",dr=>handlePointerUp(dr,lr,fr,cr,ar,or))}function handlePointerDown(lr,cr,ar,or,ur){const fr=_0x4b04c6;lr.preventDefault(),ar()&&(cr.dataset.isSelected="true",or&&cr.classList[fr(366)](ur))}function handlePointerMove(lr,cr,ar,or,ur){const fr=_0x4b04c6;if(lr[fr(351)](),ar()){const dr=document.elementFromPoint(lr[fr(353)],lr[fr(359)]);updateSelectionOnMove(dr,lr.target,cr,or,ur)}}function handlePointerCancel(lr,cr,ar,or,ur){const fr=_0x4b04c6;lr[fr(351)](),ar()&&(cr[fr(364)].isSelected=fr(361),or&&cr[fr(335)][fr(367)](ur))}function handlePointerUp(lr,cr,ar,or,ur,fr){const dr=_0x4b04c6;lr[dr(351)](),ar()&&cr.dataset[dr(362)]===dr(347)&&(or(),ur&&cr[dr(335)][dr(367)](fr)),cr[dr(364)][dr(362)]=dr(361)}function updateSelectionOnMove(lr,cr,ar,or,ur){const fr=_0x4b04c6;lr!==cr?ar[fr(364)][fr(362)]===fr(347)&&(ar[fr(364)][fr(362)]=fr(361),or&&ar[fr(335)][fr(367)](ur)):ar.dataset[fr(362)]===fr(361)&&(ar[fr(364)][fr(362)]=fr(347),or&&ar[fr(335)][fr(366)](ur))}function _0x5346(){const lr=["innerHTML","2ITJPqJ","&nbsp;","clientY","33484TfoxCE","false","isSelected","clabel","dataset","1601910NTrykr","add","remove","38315ZmrziS","createElement","getElementById","classList","addEventListener","menu-button-strip","disabled","pointermove","1911849MCWdiY","9dbEdqU","847zNEuBD","appendChild","contains","414rcBMkN","data-shortcut","true","635714SsXHUD","setAttribute","span","preventDefault","originalText","clientX","15896KClqQQ","14007664ZHUJik"];return _0x5346=function(){return lr},_0x5346()}const _0x224232=_0x4d0c;(function(lr,cr){const ar=_0x4d0c,or=lr();for(;[];)try{if(-parseInt(ar(144))/1+parseInt(ar(211))/2+parseInt(ar(189))/3*(-parseInt(ar(126))/4)+parseInt(ar(133))/5*(parseInt(ar(150))/6)+-parseInt(ar(194))/7*(parseInt(ar(137))/8)+parseInt(ar(145))/9+-parseInt(ar(202))/10*(-parseInt(ar(178))/11)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x2dee,866902);function _0x2dee(){const lr=["scrollTop","right","get_keywords","message","none","open","3sUMcSv","classList","escape","toLowerCase","reload","133bzQyuF","offsetWidth","offsetHeight","top","add","ctrlKey","Escape","Enter","3506730ABVvMQ","display","append","left","&nbsp;","textContent","keydown","space","selected_command","752180UvcPBs","#cursor","process_input","parse_hidden_input","is_loading","print_help","print_progress","set_cli","#progress_line","CLI commands:","#cors_query_prefix","print","is_enter_required","highlight","register_default","style","click","set_selection_mode","parse_input","Backspace","message_clear","3018388grOweE","includes","addEventListener","soft_msg","selection_changed","trim","innerHTML","311365YkxJmp","#cors_results","forEach","getElementById","473208BaGbPq","filter","update","key","getBoundingClientRect","querySelector","inject","1281338BEwxoJ","4951890uyPint","push","get_help","bind","ArrowUp","96DrUheG","<p style='margin-left: 1ch;'>","reset","register_command","commands","is_command_selectable","set_loading","Invalid command","set_article_mode","blinking","default_command_name","<p style='margin-left: 3ch;'>","cursorShowing","ArrowDown","start","div","redraw","backspace","createElement","remove","clear","bottom","directMode","Press any key to continue.","is_selection_enabled","length","children","appendChild","66neqiAI","inline","enter","slice","span"];return _0x2dee=function(){return lr},_0x2dee()}function _0x4d0c(lr,cr){const ar=_0x2dee();return _0x4d0c=function(or,ur){return or=or-108,ar[or]},_0x4d0c(lr,cr)}var Ys,Gs,$s,sa,Ua,ro,Ao,L0,Hu,M0,Wu,Wc,Of,Kc,Tf,Yc,Df,V0,Ku,Gc,Rf,$c,Ff,Qc,Pf;const Ja=class Ja{constructor(){mi(this,L0);mi(this,M0);mi(this,Wc);mi(this,Kc);mi(this,Yc);mi(this,V0);mi(this,Gc);mi(this,$c);mi(this,Qc);mi(this,Ys,void 0);mi(this,Gs,void 0);mi(this,$s,void 0);mi(this,sa,void 0);mi(this,Ua,[]);mi(this,Ao,void 0);const cr=_0x224232;Ci(this,sa,-1),Ci(this,Ao,![]),this[cr(162)]=![],this[cr(172)]=![],this.commands=[],this[cr(160)]=null,this[cr(155)]=![],this[cr(117)]=![],Ci(this,Ys,Pi(this,Wc,Of)[cr(148)](this)),this[cr(156)](![])}set_selection_mode(cr){const ar=_0x224232;cr?Pi(this,M0,Wu).call(this):(Pi(this,L0,Hu).call(this),this.selected_command&&this[ar(210)][ar(130)]())}[_0x224232(109)](){return Lr(this,Gs)}[_0x224232(156)](cr){Ci(this,Gs,cr),cr?Pi(this,M0,Wu).call(this):Pi(this,L0,Hu).call(this)}[_0x224232(158)](cr){Ci(this,Ao,cr)}on(){document[_0x224232(128)]("keydown",Lr(this,Ys))}off(){const cr=_0x224232;document.removeEventListener(cr(208),Lr(this,Ys))}[_0x224232(139)](){const cr=_0x224232;if(this[cr(155)]){const ar=s$1(cr(134));let or=[...ar[cr(176)]];if(or=or[cr(138)](ur=>ur[cr(190)].contains("corsrow")),or[cr(175)]==0)return;or[cr(135)](ur=>ur[cr(142)](cr(182))[cr(190)][cr(169)](cr(118))),Lr(this,sa)>=0&&(Pi(this,Kc,Tf).call(this,or[Lr(this,sa)][cr(142)]("span")),this[cr(210)][cr(130)](or[Lr(this,sa)])),Lr(this,sa)!=-1&&!Pi(this,$c,Ff).call(this,or[Lr(this,sa)][cr(142)]("span"),ar)&&or[Lr(this,sa)].scrollIntoView({behavior:"auto",block:cr(164),inline:cr(164)})}}[_0x224232(213)](cr){const ar=_0x224232;let or=![];if(cr[ar(175)]===1)Lr(this,sa)==-1&&(Lr(Ja,ro)[ar(207)]+=cr);else if(cr===ar(124)||cr==="backspace")Lr(this,sa)==-1&&(Lr(Ja,ro)[ar(207)]=Lr(Ja,ro)[ar(207)][ar(181)](0,-1));else if(cr===" "||cr===ar(209))Lr(this,sa)==-1&&(Lr(Ja,ro)[ar(207)]+=" ");else if(cr===ar(170))Lr(this,sa)==-1&&(Lr(Ja,ro)[ar(207)]=""),Lr(this,$s)instanceof Function&&Lr(this,$s).call(this);else if(cr==ar(191))Ci(this,Ao,![]),Lr(this,sa)>=0?(Ci(this,sa,-1),this[ar(122)](![])):Lr(this,sa)==-1&&(this[ar(213)]("clear"),this[ar(122)](![]));else if(cr==ar(180)){if(Lr(this,Ao))return;or=!![];let ur=s$1(ar(134)).children;if(this[ar(117)]&&Lr(this,sa)==-1)or=!![];else if(this[ar(155)]&&Lr(this,sa)==-1)ur[ar(175)]>0&&bc(this,sa)._++,this[ar(122)](!![]);else if(Lr(this,sa)>=0){Pi(this,Qc,Pf).call(this,ur[Lr(this,sa)]),this[ar(210)][ar(130)]();return}}this[ar(123)](Lr(Ja,ro)[ar(207)],or)}[_0x224232(153)](cr){const ar=_0x224232;if(cr instanceof CommandBase)this.commands[ar(146)](cr),cr[ar(112)](this);else throw new Error(ar(157))}[_0x224232(119)](cr){const ar=_0x224232;this[ar(160)]=cr}[_0x224232(108)](){const cr=_0x224232;let ar=Lr(Ja,ro).textContent;this[cr(123)](Lr(Ja,ro).textContent,ar==cr(188))}[_0x224232(143)](cr,ar){const or=_0x224232;this[or(109)]()||(Lr(Ja,ro)[or(207)]=cr,this[or(123)](cr,ar))}[_0x224232(123)](cr,ar){const or=_0x224232;cr=cr[or(131)]()[or(192)]();const ur=cr.split(/\s+/),[fr,...dr]=ur;Pi(this,V0,Ku).call(this),Pi(this,Yc,Df).call(this);let pr=null,br=null;for(let _r of this.commands)if(_r[or(185)]()[or(127)](fr)){pr=_r,br=dr;break}if(pr==null&&this[or(160)]&&cr[or(175)]>3){for(let _r of this.commands)if(_r[or(185)]()[or(127)](this[or(160)])){pr=_r,br=ur,Pi(this,Gc,Rf).call(this,this[or(160)]);break}}pr!=null?(this.is_command_selectable=pr[or(174)](),this[or(210)]=pr,pr[or(213)](br,ar)):this[or(210)]=null}[_0x224232(110)](){const cr=_0x224232;this[cr(170)](),Lr(this,Ua)[cr(146)](cr(114)),this[cr(154)][cr(135)](or=>{const ur=cr;Lr(this,Ua)[ur(146)](ur(206)),Lr(this,Ua)[ur(146)](ur(151)+or[ur(147)]()[0].toUpperCase()+"</p>"),Lr(this,Ua).push(ur(161)+or.get_help()[1]+"</p>")});var ar=s$1(cr(134));ar.innerHTML="",Lr(this,Ua)[cr(135)](or=>{const ur=cr;var fr=document.createElement("div"),dr=document[ur(168)]("p");dr.innerHTML=or,fr[ur(177)](dr),ar[ur(204)](fr)})}[_0x224232(166)](){const cr=_0x224232;var ar=s$1("#cors_results");ar.innerHTML="",Lr(this,Ua)[cr(135)](or=>{const ur=cr;var fr=document[ur(168)](ur(165)),dr=document[ur(168)]("p");dr.innerHTML=or,fr[ur(177)](dr),ar[ur(204)](fr)})}[_0x224232(170)](){const cr=_0x224232;Ci(this,Ua,[]);var ar=s$1(cr(134));ar[cr(132)]=""}[_0x224232(152)](){const cr=_0x224232;Ci(this,sa,-1),Ci(this,Ao,![]),Lr(Ja,ro)[cr(207)]="",Pi(this,V0,Ku).call(this),this[cr(122)](![]),this[cr(156)](![]),this[cr(170)]()}[_0x224232(125)](...cr){this[_0x224232(170)](),this.message(cr)}[_0x224232(186)](...cr){const ar=_0x224232;cr[ar(135)](or=>Lr(this,Ua)[ar(146)](or)),Lr(this,Ua).push(ar(206)),Lr(this,Ua)[ar(146)](ar(173)),this[ar(166)](),document[ar(128)](ar(121),function(){setTimeout(function(){location[_0x4d0c(193)]()},120)}),document[ar(128)](ar(208),function(){setTimeout(function(){location[_0x4d0c(193)]()},120)})}[_0x224232(111)](cr){const ar=_0x224232;let or=s$1(ar(113));if(or==null){const ur=s$1("#cors_results"),fr=document[ar(168)](ar(165));or=document[ar(168)]("p"),or.id="progress_line",fr.appendChild(or),ur[ar(204)](fr)}or.innerHTML=cr}[_0x224232(116)](cr){const ar=_0x224232;Lr(this,Ua).push(cr),this[ar(166)]()}[_0x224232(129)](cr){const ar=_0x224232;this[ar(170)](),Lr(this,Ua)[ar(146)](cr),this[ar(166)]()}set_default_handler(cr){Ci(this,$s,cr)}};Ys=new WeakMap,Gs=new WeakMap,$s=new WeakMap,sa=new WeakMap,Ua=new WeakMap,ro=new WeakMap,Ao=new WeakMap,L0=new WeakSet,Hu=function(){const cr=_0x224232;s$1(cr(212))[cr(190)].add("blinking")},M0=new WeakSet,Wu=function(){const cr=_0x224232;s$1(cr(212))[cr(190)][cr(169)](cr(159))},Wc=new WeakSet,Of=function(cr){const ar=_0x224232;if(cr.preventDefault(),!Lr(this,Gs)){if(cr.key.length===1&&!cr[ar(199)]&&!cr.metaKey&&!cr.altKey)this[ar(213)](cr.key);else if(cr[ar(140)]===ar(124))this[ar(213)](ar(167));else if(cr[ar(140)]==ar(201))this[ar(213)](ar(180));else if(cr.key===ar(200))this.process_input("escape");else if(cr.key===ar(163)){if(Lr(this,Ao)){let or=s$1("#cors_results");or[ar(183)]+=or[ar(196)]}else if(Lr(this,sa)!=-1){let or=s$1("#cors_results")[ar(176)];Lr(this,sa)<or[ar(175)]-1?bc(this,sa)._++:Lr(this,sa)==or[ar(175)]-1&&Ci(this,sa,0)}else if(!this.is_command_selectable){let or=s$1("#cors_results");or.scrollTop+=or[ar(196)]}}else if(cr[ar(140)]===ar(149)){if(Lr(this,Ao)){let or=s$1("#cors_results");or[ar(183)]-=or.offsetHeight}else if(Lr(this,sa)!=-1){let or=s$1("#cors_results")[ar(176)];Lr(this,sa)>0?bc(this,sa)._--:Lr(this,sa)==0&&Ci(this,sa,or.length-1)}else if(!this.is_command_selectable){let or=s$1(ar(134));or[ar(183)]-=or.offsetHeight}}this[ar(139)]()}},Kc=new WeakSet,Tf=function(cr){const ar=_0x224232;cr[ar(190)][ar(169)]("highlight"),cr[ar(195)],cr[ar(190)][ar(198)]("highlight")},Yc=new WeakSet,Df=function(){this[_0x224232(170)]()},V0=new WeakSet,Ku=function(){const cr=_0x224232;s$1(cr(115))[cr(120)][cr(203)]=cr(187),s$1(cr(115))[cr(132)]=""},Gc=new WeakSet,Rf=function(cr){const ar=_0x224232;s$1(ar(115))[ar(120)][ar(203)]=ar(179),s$1(ar(115))[ar(132)]=cr+" "},$c=new WeakSet,Ff=function(cr,ar){const or=_0x224232,ur=cr.getBoundingClientRect(),fr=ar[or(141)]();return ur[or(197)]>=fr[or(197)]&&ur.left>=fr[or(205)]&&ur[or(171)]<=fr[or(171)]&&ur.right<=fr[or(184)]},Qc=new WeakSet,Pf=function(cr){const ar=_0x224232;if(cr!=null){var or=new MouseEvent(ar(121),{bubbles:!![],cancelable:!![],view:window});cr.dispatchEvent(or)}},mi(Ja,ro,document[_0x224232(136)]("cors_query"));let CLI=Ja;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function __values$1(lr){var cr=typeof Symbol=="function"&&Symbol.iterator,ar=cr&&lr[cr],or=0;if(ar)return ar.call(lr);if(lr&&typeof lr.length=="number")return{next:function(){return lr&&or>=lr.length&&(lr=void 0),{value:lr&&lr[or++],done:!lr}}};throw new TypeError(cr?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read$1(lr,cr){var ar=typeof Symbol=="function"&&lr[Symbol.iterator];if(!ar)return lr;var or=ar.call(lr),ur,fr=[],dr;try{for(;(cr===void 0||cr-- >0)&&!(ur=or.next()).done;)fr.push(ur.value)}catch(pr){dr={error:pr}}finally{try{ur&&!ur.done&&(ar=or.return)&&ar.call(or)}finally{if(dr)throw dr.error}}return fr}function __spread$1(){for(var lr=[],cr=0;cr<arguments.length;cr++)lr=lr.concat(__read$1(arguments[cr]));return lr}var isUndefined=function(lr){return typeof lr>"u"},ComponentEvent=function(){function lr(ar,or){var ur,fr;if(this._canceled=!1,or)try{for(var dr=__values$1(Object.keys(or)),pr=dr.next();!pr.done;pr=dr.next()){var br=pr.value;this[br]=or[br]}}catch(_r){ur={error:_r}}finally{try{pr&&!pr.done&&(fr=dr.return)&&fr.call(dr)}finally{if(ur)throw ur.error}}this.eventType=ar}var cr=lr.prototype;return cr.stop=function(){this._canceled=!0},cr.isCanceled=function(){return this._canceled},lr}(),Component=function(){function lr(){this._eventHandler={}}var cr=lr.prototype;return cr.trigger=function(ar){for(var or=[],ur=1;ur<arguments.length;ur++)or[ur-1]=arguments[ur];var fr=ar instanceof ComponentEvent?ar.eventType:ar,dr=__spread$1(this._eventHandler[fr]||[]);return dr.length<=0?this:(ar instanceof ComponentEvent?(ar.currentTarget=this,dr.forEach(function(pr){pr(ar)})):dr.forEach(function(pr){pr.apply(void 0,__spread$1(or))}),this)},cr.once=function(ar,or){var ur=this;if(typeof ar=="object"&&isUndefined(or)){var fr=ar;for(var dr in fr)this.once(dr,fr[dr]);return this}else if(typeof ar=="string"&&typeof or=="function"){var pr=function(){for(var br=[],_r=0;_r<arguments.length;_r++)br[_r]=arguments[_r];or.apply(void 0,__spread$1(br)),ur.off(ar,pr)};this.on(ar,pr)}return this},cr.hasOn=function(ar){return!!this._eventHandler[ar]},cr.on=function(ar,or){if(typeof ar=="object"&&isUndefined(or)){var ur=ar;for(var fr in ur)this.on(fr,ur[fr]);return this}else if(typeof ar=="string"&&typeof or=="function"){var dr=this._eventHandler[ar];isUndefined(dr)&&(this._eventHandler[ar]=[],dr=this._eventHandler[ar]),dr.push(or)}return this},cr.off=function(ar,or){if(isUndefined(ar))return this._eventHandler={},this;if(isUndefined(or)){if(typeof ar=="string")return delete this._eventHandler[ar],this;var ur=ar;for(var fr in ur)this.off(fr,ur[fr]);return this}var dr=this._eventHandler[ar];if(dr){for(var pr=dr.length,br=0;br<pr;++br)if(dr[br]===or){dr.splice(br,1),pr<=1&&delete this._eventHandler[ar];break}}return this},lr.VERSION="3.0.5",lr}(),ComponentEvent$1=ComponentEvent;function some(lr,cr){for(var ar=lr.length,or=0;or<ar;++or)if(cr(lr[or],or))return!0;return!1}function find$1(lr,cr){for(var ar=lr.length,or=0;or<ar;++or)if(cr(lr[or],or))return lr[or];return null}function getUserAgentString(lr){var cr=lr;if(typeof cr>"u"){if(typeof navigator>"u"||!navigator)return"";cr=navigator.userAgent||""}return cr.toLowerCase()}function execRegExp(lr,cr){try{return new RegExp(lr,"g").exec(cr)}catch{return null}}function hasUserAgentData(){if(typeof navigator>"u"||!navigator||!navigator.userAgentData)return!1;var lr=navigator.userAgentData,cr=lr.brands||lr.uaList;return!!(cr&&cr.length)}function findVersion(lr,cr){var ar=execRegExp("("+lr+")((?:\\/|\\s|:)([0-9|\\.|_]+))",cr);return ar?ar[3]:""}function convertVersion(lr){return lr.replace(/_/g,".")}function findPreset(lr,cr){var ar=null,or="-1";return some(lr,function(ur){var fr=execRegExp("("+ur.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",cr);return!fr||ur.brand?!1:(ar=ur,or=fr[3]||"-1",ur.versionAlias?or=ur.versionAlias:ur.versionTest&&(or=findVersion(ur.versionTest.toLowerCase(),cr)||or),or=convertVersion(or),!0)}),{preset:ar,version:or}}function findPresetBrand(lr,cr){var ar={brand:"",version:"-1"};return some(lr,function(or){var ur=findBrand(cr,or);return ur?(ar.brand=or.id,ar.version=or.versionAlias||ur.version,ar.version!=="-1"):!1}),ar}function findBrand(lr,cr){return find$1(lr,function(ar){var or=ar.brand;return execRegExp(""+cr.test,or.toLowerCase())})}var BROWSER_PRESETS=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],CHROMIUM_PRESETS=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],WEBKIT_PRESETS=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],WEBVIEW_PRESETS=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],OS_PRESETS=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function isWebView(lr){return!!findPreset(WEBVIEW_PRESETS,lr).preset}function getLegacyAgent(lr){var cr=getUserAgentString(lr),ar=!!/mobi/g.exec(cr),or={name:"unknown",version:"-1",majorVersion:-1,webview:isWebView(cr),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},ur={name:"unknown",version:"-1",majorVersion:-1},fr=findPreset(BROWSER_PRESETS,cr),dr=fr.preset,pr=fr.version,br=findPreset(OS_PRESETS,cr),_r=br.preset,yr=br.version,mr=findPreset(CHROMIUM_PRESETS,cr);if(or.chromium=!!mr.preset,or.chromiumVersion=mr.version,!or.chromium){var Er=findPreset(WEBKIT_PRESETS,cr);or.webkit=!!Er.preset,or.webkitVersion=Er.version}return _r&&(ur.name=_r.id,ur.version=yr,ur.majorVersion=parseInt(yr,10)),dr&&(or.name=dr.id,or.version=pr,or.webview&&ur.name==="ios"&&or.name!=="safari"&&(or.webview=!1)),or.majorVersion=parseInt(or.version,10),{browser:or,os:ur,isMobile:ar,isHints:!1}}function getClientHintsAgent(lr){var cr=navigator.userAgentData,ar=(cr.uaList||cr.brands).slice(),or=lr&&lr.fullVersionList,ur=cr.mobile||!1,fr=ar[0],dr=(lr&&lr.platform||cr.platform||navigator.platform).toLowerCase(),pr={name:fr.brand,version:fr.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!findPresetBrand(WEBVIEW_PRESETS,ar).brand||isWebView(getUserAgentString())},br={name:"unknown",version:"-1",majorVersion:-1};pr.webkit=!pr.chromium&&some(WEBKIT_PRESETS,function(Ir){return findBrand(ar,Ir)});var _r=findPresetBrand(CHROMIUM_PRESETS,ar);if(pr.chromium=!!_r.brand,pr.chromiumVersion=_r.version,!pr.chromium){var yr=findPresetBrand(WEBKIT_PRESETS,ar);pr.webkit=!!yr.brand,pr.webkitVersion=yr.version}var mr=find$1(OS_PRESETS,function(Ir){return new RegExp(""+Ir.test,"g").exec(dr)});if(br.name=mr?mr.id:"",lr&&(br.version=lr.platformVersion),or&&or.length){var Er=findPresetBrand(BROWSER_PRESETS,or);pr.name=Er.brand||pr.name,pr.version=Er.version||pr.version}else{var gr=findPresetBrand(BROWSER_PRESETS,ar);pr.name=gr.brand||pr.name,pr.version=gr.brand&&lr?lr.uaFullVersion:gr.version}return pr.webkit&&(br.name=ur?"ios":"mac"),br.name==="ios"&&pr.webview&&(pr.version="-1"),br.version=convertVersion(br.version),pr.version=convertVersion(pr.version),br.majorVersion=parseInt(br.version,10),pr.majorVersion=parseInt(pr.version,10),{browser:pr,os:br,isMobile:ur,isHints:!0}}function agent(lr){return typeof lr>"u"&&hasUserAgentData()?getClientHintsAgent():getLegacyAgent(lr)}function keys(lr){return Object.keys(lr)}var OBSERVERS_PATH="__observers__",COMPUTED_PATH="__computed__",CFCS_DETECTED_DEPENDENCIES_VERSION=1,CFCS_DETECTED_DEPENDENCIES="__CFCS_DETECTED_DEPENDENCIES__",extendStatics$3=function(lr,cr){return extendStatics$3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ar,or){ar.__proto__=or}||function(ar,or){for(var ur in or)Object.prototype.hasOwnProperty.call(or,ur)&&(ar[ur]=or[ur])},extendStatics$3(lr,cr)};function __extends$3(lr,cr){if(typeof cr!="function"&&cr!==null)throw new TypeError("Class extends value "+String(cr)+" is not a constructor or null");extendStatics$3(lr,cr);function ar(){this.constructor=lr}lr.prototype=cr===null?Object.create(cr):(ar.prototype=cr.prototype,new ar)}function getDetectedStack(){Object[CFCS_DETECTED_DEPENDENCIES]=Object[CFCS_DETECTED_DEPENDENCIES]||{};var lr=Object[CFCS_DETECTED_DEPENDENCIES];return lr[CFCS_DETECTED_DEPENDENCIES_VERSION]=lr[CFCS_DETECTED_DEPENDENCIES_VERSION]||[],lr[CFCS_DETECTED_DEPENDENCIES_VERSION]}function getCurrentDetected(){var lr=getDetectedStack();return lr[lr.length-1]}function detectDependencies(lr){var cr=getDetectedStack(),ar=[],or={host:lr,observers:ar,push:function(ur){lr!==ur&&ar.indexOf(ur)===-1&&ar.push(ur)}};return cr.push(or),or}function endDetectDependencies(){var lr=getDetectedStack();return lr.pop()}var Observer=function(){function lr(ar){this._emitter=new Component,this._current=ar}var cr=lr.prototype;return Object.defineProperty(cr,"current",{get:function(){var ar=getCurrentDetected();return ar==null||ar.push(this),this._current},set:function(ar){this._setCurrent(ar)},enumerable:!1,configurable:!0}),cr.subscribe=function(ar){return this.current,this._emitter.on("update",ar),this},cr.unsubscribe=function(ar){return this._emitter.off("update",ar),this},cr._setCurrent=function(ar){var or=this._current,ur=ar!==or;this._current=ar,ur&&this._emitter.trigger("update",ar,or)},cr.toString=function(){return"".concat(this.current)},cr.valueOf=function(){return this.current},lr}(),ComputedObserver=function(lr){__extends$3(cr,lr);function cr(or){var ur=lr.call(this)||this;return ur._computedCallback=or,ur._registered=[],ur._onCheckUpdate=function(){ur._setCurrent(ur.current)},ur._current=ur.current,ur}var ar=cr.prototype;return Object.defineProperty(ar,"current",{get:function(){var or=this;detectDependencies(this);var ur=this._computedCallback(),fr=endDetectDependencies();return this._registered.forEach(function(dr){dr.unsubscribe(or._onCheckUpdate)}),fr.observers.forEach(function(dr){dr.subscribe(or._onCheckUpdate)}),this._registered=fr.observers,ur},enumerable:!1,configurable:!0}),cr}(Observer);function injectObserve(lr,cr,ar){ar===void 0&&(ar=cr);var or={configurable:!0,get:function(){return getObserver(this,ar).current},set:function(ur){getObserver(this,ar,ur).current=ur}};Object.defineProperty(lr,cr,or),ar!==cr&&Object.defineProperty(lr,ar,{configurable:!0,get:function(){return getObserver(this,ar).current}})}function Observe(){for(var lr=[],cr=0;cr<arguments.length;cr++)lr[cr]=arguments[cr];return lr.length>1?injectObserve(lr[0],lr[1]):function(ar,or){return injectObserve(ar,or,lr[0])}}function injectReactiveSubscribe(lr){lr.subscribe=function(cr,ar){this[cr],getObserver(this,cr).subscribe(ar)},lr.unsubscribe=function(cr,ar){var or=this;if(!cr){keys(getObservers(this)).forEach(function(ur){or.unsubscribe(ur)});return}cr in this&&getObserver(this,cr).unsubscribe(ar)}}function ReactiveSubscribe(lr){var cr=lr.prototype;injectReactiveSubscribe(cr)}function observe(lr){return new Observer(lr)}function computed(lr){return new ComputedObserver(lr)}function defineObservers(lr){var cr={};return Object.defineProperty(lr,OBSERVERS_PATH,{get:function(){return cr}}),cr}function getObservers(lr,cr){var ar,or;lr[OBSERVERS_PATH]||defineObservers(lr);var ur=lr[OBSERVERS_PATH];if(!cr){var fr=(or=(ar=lr==null?void 0:lr.constructor)===null||ar===void 0?void 0:ar.prototype)===null||or===void 0?void 0:or[COMPUTED_PATH];fr&&fr.forEach(function(dr){!(dr in ur)&&dr in lr&&lr[dr]})}return ur}function getObserver(lr,cr,ar){var or=getObservers(lr);return or[cr]||(or[cr]=observe(ar)),or[cr]}function Computed(lr,cr,ar){var or=ar.get;function ur(){var pr=getObservers(this,!0);return cr in pr||(pr[cr]=computed(or.bind(this))),getObserver(this,cr).current}var fr={configurable:!0,get:ur};lr[COMPUTED_PATH]||(lr[COMPUTED_PATH]=[]);var dr=lr[COMPUTED_PATH];return dr.indexOf(cr)===-1&&dr.push(cr),Object.defineProperty(lr,cr,fr),fr}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$2=function(lr,cr){return extendStatics$2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ar,or){ar.__proto__=or}||function(ar,or){for(var ur in or)or.hasOwnProperty(ur)&&(ar[ur]=or[ur])},extendStatics$2(lr,cr)};function __extends$2(lr,cr){extendStatics$2(lr,cr);function ar(){this.constructor=lr}lr.prototype=cr===null?Object.create(cr):(ar.prototype=cr.prototype,new ar)}var __assign$2=function(){return __assign$2=Object.assign||function(cr){for(var ar,or=1,ur=arguments.length;or<ur;or++){ar=arguments[or];for(var fr in ar)Object.prototype.hasOwnProperty.call(ar,fr)&&(cr[fr]=ar[fr])}return cr},__assign$2.apply(this,arguments)};function __decorate(lr,cr,ar,or){var ur=arguments.length,fr=ur<3?cr:or===null?or=Object.getOwnPropertyDescriptor(cr,ar):or,dr;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")fr=Reflect.decorate(lr,cr,ar,or);else for(var pr=lr.length-1;pr>=0;pr--)(dr=lr[pr])&&(fr=(ur<3?dr(fr):ur>3?dr(cr,ar,fr):dr(cr,ar))||fr);return ur>3&&fr&&Object.defineProperty(cr,ar,fr),fr}var win;typeof window>"u"?win={navigator:{userAgent:""}}:win=window;var DIRECTION_NONE=1,DIRECTION_LEFT=2,DIRECTION_RIGHT=4,DIRECTION_HORIZONTAL=6,DIRECTION_UP=8,DIRECTION_DOWN=16,DIRECTION_VERTICAL=24,DIRECTION_ALL=30,MOUSE_LEFT="left",MOUSE_RIGHT="right",MOUSE_MIDDLE="middle",MOUSE_BUTTON_CODE_MAP={1:MOUSE_LEFT,2:MOUSE_MIDDLE,3:MOUSE_RIGHT},ANY="any",NONE="none",SHIFT="shift",CTRL="ctrl",ALT="alt",META="meta",VELOCITY_INTERVAL=16,IOS_EDGE_THRESHOLD=30,IS_IOS_SAFARI="ontouchstart"in win&&agent().browser.name==="safari",TRANSFORM=function(){if(typeof document>"u")return"";for(var lr=(document.head||document.getElementsByTagName("head")[0]).style,cr=["transform","webkitTransform","msTransform","mozTransform"],ar=0,or=cr.length;ar<or;ar++)if(cr[ar]in lr)return cr[ar];return""}(),PREVENT_DRAG_CSSPROPS={"-webkit-user-select":"none","-ms-user-select":"none","-moz-user-select":"none","user-select":"none","-webkit-user-drag":"none"},toArray$2=function(lr){for(var cr=[],ar=0,or=lr.length;ar<or;ar++)cr.push(lr[ar]);return cr},$=function(lr,cr){cr===void 0&&(cr=!1);var ar;if(typeof lr=="string"){var or=lr.match(/^<([a-z]+)\s*([^>]*)>/);if(or){var ur=document.createElement("div");ur.innerHTML=lr,ar=toArray$2(ur.childNodes)}else ar=toArray$2(document.querySelectorAll(lr));cr||(ar=ar.length>=1?ar[0]:void 0)}else lr===win?ar=lr:"value"in lr||"current"in lr?ar=lr.value||lr.current:lr.nodeName&&(lr.nodeType===1||lr.nodeType===9)?ar=lr:"jQuery"in win&&lr instanceof jQuery||lr.constructor.prototype.jquery?ar=cr?lr.toArray():lr.get(0):Array.isArray(lr)&&(ar=lr.map(function(fr){return $(fr)}),cr||(ar=ar.length>=1?ar[0]:void 0));return ar},raf=win.requestAnimationFrame||win.webkitRequestAnimationFrame,caf=win.cancelAnimationFrame||win.webkitCancelAnimationFrame;if(raf&&!caf){var keyInfo_1={},oldraf_1=raf;raf=function(lr){var cr=function(or){keyInfo_1[ar]&&lr(or)},ar=oldraf_1(cr);return keyInfo_1[ar]=!0,ar},caf=function(lr){delete keyInfo_1[lr]}}else raf&&caf||(raf=function(lr){return win.setTimeout(function(){lr(win.performance&&win.performance.now&&win.performance.now()||new Date().getTime())},16)},caf=win.clearTimeout);var requestAnimationFrame=function(lr){return raf(lr)},cancelAnimationFrame=function(lr){caf(lr)},map=function(lr,cr){var ar={};for(var or in lr)or&&(ar[or]=cr(lr[or],or));return ar},filter=function(lr,cr){var ar={};for(var or in lr)or&&cr(lr[or],or)&&(ar[or]=lr[or]);return ar},every=function(lr,cr){for(var ar in lr)if(ar&&!cr(lr[ar],ar))return!1;return!0},equal=function(lr,cr){return every(lr,function(ar,or){return ar===cr[or]})},roundNumFunc={},roundNumber=function(lr,cr){return roundNumFunc[cr]||(roundNumFunc[cr]=getRoundFunc(cr)),roundNumFunc[cr](lr)},roundNumbers=function(lr,cr){return!lr||!cr?lr:map(lr,function(ar,or){return roundNumber(ar,typeof cr=="number"?cr:cr[or])})},getDecimalPlace=function(lr){if(!isFinite(lr))return 0;var cr="".concat(lr);if(cr.indexOf("e")>=0){for(var ar=0,or=1;Math.round(lr*or)/or!==lr;)or*=10,ar++;return ar}return cr.indexOf(".")>=0?cr.length-cr.indexOf(".")-1:0},inversePow=function(lr){return 1/Math.pow(10,lr)},getRoundFunc=function(lr){var cr=lr<1?Math.pow(10,getDecimalPlace(lr)):1;return function(ar){return lr===0?0:Math.round(Math.round(ar/lr)*lr*cr)/cr}},getAngle=function(lr,cr){return Math.atan2(cr,lr)*180/Math.PI},isCssPropsFromAxes=function(lr){var cr=!0;return Object.keys(PREVENT_DRAG_CSSPROPS).forEach(function(ar){(!lr||lr[ar]!==PREVENT_DRAG_CSSPROPS[ar])&&(cr=!1)}),cr},getDirection$1=function(lr,cr){return lr&&cr?DIRECTION_ALL:lr?DIRECTION_HORIZONTAL:cr?DIRECTION_VERTICAL:DIRECTION_NONE},useDirection=function(lr,cr,ar){return ar?!!(cr===DIRECTION_ALL||cr&lr&&ar&lr):!!(cr&lr)},setCssProps=function(lr,cr,ar){var or,ur=(or={},or[DIRECTION_NONE]="auto",or[DIRECTION_ALL]="none",or[DIRECTION_VERTICAL]="pan-x",or[DIRECTION_HORIZONTAL]="pan-y",or),fr={};if(lr&&lr.style){var dr=cr.touchAction?cr.touchAction:ur[ar],pr=__assign$2(__assign$2({},PREVENT_DRAG_CSSPROPS),{"touch-action":lr.style["touch-action"]==="none"?"none":dr});Object.keys(pr).forEach(function(br){fr[br]=lr.style[br]}),Object.keys(pr).forEach(function(br){lr.style[br]=pr[br]})}return fr},revertCssProps=function(lr,cr){lr&&lr.style&&cr&&Object.keys(cr).forEach(function(ar){lr.style[ar]=cr[ar]})},EventManager=function(){function lr(ar){this._axes=ar,this.holdingCount=0}var cr=lr.prototype;return cr.hold=function(ar,or){var ur=this._getRoundPos(ar).roundPos;this._axes.trigger(new ComponentEvent$1("hold",{pos:ur,input:or.input||null,inputEvent:or.event||null,isTrusted:!0}))},cr.triggerRelease=function(ar){var or=this._getRoundPos(ar.destPos,ar.depaPos),ur=or.roundPos,fr=or.roundDepa;ar.destPos=ur,ar.depaPos=fr,ar.setTo=this._createUserControll(ar.destPos,ar.duration),this._axes.trigger(new ComponentEvent$1("release",__assign$2(__assign$2({},ar),{bounceRatio:this._getBounceRatio(ur)})))},cr.triggerChange=function(ar,or,ur,fr){var dr=this;fr===void 0&&(fr=!1);var pr=this.animationManager,br=pr.axisManager,_r=pr.getEventInfo(),yr=this._getRoundPos(ar,or),mr=yr.roundPos,Er=yr.roundDepa,gr=br.moveTo(mr,Er),Ir=(ur==null?void 0:ur.event)||(_r==null?void 0:_r.event)||null,Ar={pos:gr.pos,delta:gr.delta,bounceRatio:this._getBounceRatio(gr.pos),holding:fr,inputEvent:Ir,isTrusted:!!Ir,input:(ur==null?void 0:ur.input)||(_r==null?void 0:_r.input)||null,set:Ir?this._createUserControll(gr.pos):function(){}},kr=new ComponentEvent$1("change",Ar);return this._axes.trigger(kr),Object.keys(gr.pos).forEach(function(Or){var Dr=gr.pos[Or];getObserver(dr._axes,Or,Dr).current=Dr}),Ir&&br.set(Ar.set().destPos),!kr.isCanceled()},cr.triggerAnimationStart=function(ar){var or=this._getRoundPos(ar.destPos,ar.depaPos),ur=or.roundPos,fr=or.roundDepa;ar.destPos=ur,ar.depaPos=fr,ar.setTo=this._createUserControll(ar.destPos,ar.duration);var dr=new ComponentEvent$1("animationStart",ar);return this._axes.trigger(dr),!dr.isCanceled()},cr.triggerAnimationEnd=function(ar){ar===void 0&&(ar=!1),this._axes.trigger(new ComponentEvent$1("animationEnd",{isTrusted:ar}))},cr.triggerFinish=function(ar){ar===void 0&&(ar=!1),this._axes.trigger(new ComponentEvent$1("finish",{isTrusted:ar}))},cr.setAnimationManager=function(ar){this.animationManager=ar},cr.destroy=function(){this._axes.off()},cr._createUserControll=function(ar,or){or===void 0&&(or=0);var ur={destPos:__assign$2({},ar),duration:or};return function(fr,dr){return fr&&(ur.destPos=__assign$2({},fr)),dr!==void 0&&(ur.duration=dr),ur}},cr._getRoundPos=function(ar,or){var ur=this._axes.options.round;return{roundPos:roundNumbers(ar,ur),roundDepa:roundNumbers(or,ur)}},cr._getBounceRatio=function(ar){return this._axes.axisManager.map(ar,function(or,ur){return or<ur.range[0]&&ur.bounce[0]!==0?(ur.range[0]-or)/ur.bounce[0]:or>ur.range[1]&&ur.bounce[1]!==0?(or-ur.range[1])/ur.bounce[1]:0})},__decorate([Observe],lr.prototype,"holdingCount",void 0),lr}(),InterruptManager=function(){function lr(ar){this._options=ar,this._prevented=!1}var cr=lr.prototype;return cr.isInterrupting=function(){return this._options.interruptable||this._prevented},cr.isInterrupted=function(){return!this._options.interruptable&&this._prevented},cr.setInterrupt=function(ar){this._options.interruptable||(this._prevented=ar)},lr}(),getInsidePosition=function(lr,cr,ar,or){var ur=lr,fr=[ar[0]?cr[0]:or?cr[0]-or[0]:cr[0],ar[1]?cr[1]:or?cr[1]+or[1]:cr[1]];return ur=Math.max(fr[0],ur),ur=Math.min(fr[1],ur),ur},isOutside=function(lr,cr){return lr<cr[0]||lr>cr[1]},isEndofBounce=function(lr,cr,ar,or){return!or[0]&&lr===cr[0]-ar[0]||!or[1]&&lr===cr[1]+ar[1]},getDuration=function(lr,cr){var ar=Math.sqrt(lr/cr*2);return ar<100?0:ar},isCircularable=function(lr,cr,ar){return ar[1]&&lr>cr[1]||ar[0]&&lr<cr[0]},getCirculatedPos=function(lr,cr,ar){var or=lr,ur=cr[0],fr=cr[1],dr=fr-ur;return ar[1]&&lr>fr&&(or=(or-fr)%dr+ur),ar[0]&&lr<ur&&(or=(or-ur)%dr+fr),or},AxisManager=function(){function lr(ar){var or=this;this._axis=ar,this._complementOptions(),this._pos=Object.keys(this._axis).reduce(function(ur,fr){return ur[fr]=or._axis[fr].startPos,ur},{})}var cr=lr.prototype;return cr.getDelta=function(ar,or){var ur=this.get(ar);return map(this.get(or),function(fr,dr){return fr-ur[dr]})},cr.get=function(ar){var or=this;return ar&&Array.isArray(ar)?ar.reduce(function(ur,fr){return fr&&fr in or._pos&&(ur[fr]=or._pos[fr]),ur},{}):__assign$2(__assign$2({},this._pos),ar||{})},cr.moveTo=function(ar,or){or===void 0&&(or=this._pos);var ur=map(this._pos,function(fr,dr){return dr in ar&&dr in or?ar[dr]-or[dr]:0});return this.set(this.map(ar,function(fr,dr){return dr?getCirculatedPos(fr,dr.range,dr.circular):0})),{pos:__assign$2({},this._pos),delta:ur}},cr.set=function(ar){for(var or in ar)or&&or in this._pos&&(this._pos[or]=ar[or])},cr.every=function(ar,or){var ur=this._axis;return every(ar,function(fr,dr){return or(fr,ur[dr],dr)})},cr.filter=function(ar,or){var ur=this._axis;return filter(ar,function(fr,dr){return or(fr,ur[dr],dr)})},cr.map=function(ar,or){var ur=this._axis;return map(ar,function(fr,dr){return or(fr,ur[dr],dr)})},cr.isOutside=function(ar){return!this.every(ar?this.get(ar):this._pos,function(or,ur){return!isOutside(or,ur.range)})},cr.getAxisOptions=function(ar){return this._axis[ar]},cr.setAxis=function(ar){var or=this;Object.keys(ar).forEach(function(ur){if(!or._axis[ur])throw new Error("Axis ".concat(ur," does not exist in Axes instance"));or._axis[ur]=__assign$2(__assign$2({},or._axis[ur]),ar[ur])}),this._complementOptions()},cr._complementOptions=function(){var ar=this;Object.keys(this._axis).forEach(function(or){ar._axis[or]=__assign$2({range:[0,100],startPos:ar._axis[or].range[0],bounce:[0,0],circular:[!1,!1]},ar._axis[or]),["bounce","circular"].forEach(function(ur){var fr=ar._axis,dr=fr[or][ur];/string|number|boolean/.test(typeof dr)&&(fr[or][ur]=[dr,dr])})})},lr}(),SUPPORT_TOUCH="ontouchstart"in win,SUPPORT_POINTER="PointerEvent"in win,SUPPORT_MSPOINTER="MSPointerEvent"in win,SUPPORT_POINTER_EVENTS=SUPPORT_POINTER||SUPPORT_MSPOINTER,isValidKey=function(lr,cr){return!!(!cr||cr.indexOf(ANY)>-1||cr.indexOf(NONE)>-1&&!lr.shiftKey&&!lr.ctrlKey&&!lr.altKey&&!lr.metaKey||cr.indexOf(SHIFT)>-1&&lr.shiftKey||cr.indexOf(CTRL)>-1&&lr.ctrlKey||cr.indexOf(ALT)>-1&&lr.altKey||cr.indexOf(META)>-1&&lr.metaKey)},EventInput=function(){function lr(){var ar=this;this._stopContextMenu=function(or){or.preventDefault(),win.removeEventListener("contextmenu",ar._stopContextMenu)}}var cr=lr.prototype;return cr.extendEvent=function(ar){var or,ur=this.prevEvent,fr=this._getCenter(ar),dr=ur?this._getMovement(ar):{x:0,y:0},pr=ur?this._getScale(ar):1,br=ur?getAngle(fr.x-ur.center.x,fr.y-ur.center.y):0,_r=ur?ur.deltaX+dr.x:dr.x,yr=ur?ur.deltaY+dr.y:dr.y,mr=dr.x,Er=dr.y,gr=this._latestInterval,Ir=Date.now(),Ar=gr?Ir-gr.timestamp:0,kr=ur?ur.velocityX:0,Or=ur?ur.velocityY:0;return(!gr||Ar>=VELOCITY_INTERVAL)&&(gr&&(or=[(_r-gr.deltaX)/Ar,(yr-gr.deltaY)/Ar],kr=or[0],Or=or[1]),this._latestInterval={timestamp:Ir,deltaX:_r,deltaY:yr}),{srcEvent:ar,scale:pr,angle:br,center:fr,deltaX:_r,deltaY:yr,offsetX:mr,offsetY:Er,velocityX:kr,velocityY:Or,preventSystemEvent:!0}},cr._getDistance=function(ar,or){var ur=or.clientX-ar.clientX,fr=or.clientY-ar.clientY;return Math.sqrt(ur*ur+fr*fr)},cr._getButton=function(ar){var or={1:MOUSE_LEFT,2:MOUSE_RIGHT,4:MOUSE_MIDDLE},ur=this._isTouchEvent(ar)?MOUSE_LEFT:or[ar.buttons];return ur||null},cr._isTouchEvent=function(ar){return ar.type&&ar.type.indexOf("touch")>-1},cr._isValidButton=function(ar,or){return or.indexOf(ar)>-1},cr._isValidEvent=function(ar,or,ur){return(!or||isValidKey(ar,or))&&(!ur||this._isValidButton(this._getButton(ar),ur))},cr._preventMouseButton=function(ar,or){or===MOUSE_RIGHT?win.addEventListener("contextmenu",this._stopContextMenu):or===MOUSE_MIDDLE&&ar.preventDefault()},lr}(),MouseEventInput=function(lr){__extends$2(cr,lr);function cr(){var or=lr!==null&&lr.apply(this,arguments)||this;return or.start=["mousedown"],or.move=["mousemove"],or.end=["mouseup"],or}var ar=cr.prototype;return ar.onEventStart=function(or,ur,fr){var dr=this._getButton(or);return this._isValidEvent(or,ur,fr)?(this._preventMouseButton(or,dr),this.extendEvent(or)):null},ar.onEventMove=function(or,ur,fr){return this._isValidEvent(or,ur,fr)?this.extendEvent(or):null},ar.onEventEnd=function(){},ar.onRelease=function(){this.prevEvent=null},ar.getTouches=function(or,ur){return ur&&this._isValidButton(MOUSE_BUTTON_CODE_MAP[or.which],ur)&&this.end.indexOf(or.type)===-1?1:0},ar._getScale=function(){return 1},ar._getCenter=function(or){return{x:or.clientX,y:or.clientY}},ar._getMovement=function(or){var ur=this.prevEvent.srcEvent;return{x:or.clientX-ur.clientX,y:or.clientY-ur.clientY}},cr}(EventInput),TouchEventInput=function(lr){__extends$2(cr,lr);function cr(){var or=lr!==null&&lr.apply(this,arguments)||this;return or.start=["touchstart"],or.move=["touchmove"],or.end=["touchend","touchcancel"],or}var ar=cr.prototype;return ar.onEventStart=function(or,ur){return this._baseTouches=or.touches,this._isValidEvent(or,ur)?this.extendEvent(or):null},ar.onEventMove=function(or,ur){return this._isValidEvent(or,ur)?this.extendEvent(or):null},ar.onEventEnd=function(or){this._baseTouches=or.touches},ar.onRelease=function(){this.prevEvent=null,this._baseTouches=null},ar.getTouches=function(or){return or.touches.length},ar._getScale=function(or){return or.touches.length!==2||this._baseTouches.length<2?null:this._getDistance(or.touches[0],or.touches[1])/this._getDistance(this._baseTouches[0],this._baseTouches[1])},ar._getCenter=function(or){return{x:or.touches[0].clientX,y:or.touches[0].clientY}},ar._getMovement=function(or){var ur=this.prevEvent.srcEvent;return or.touches[0].identifier!==ur.touches[0].identifier?{x:0,y:0}:{x:or.touches[0].clientX-ur.touches[0].clientX,y:or.touches[0].clientY-ur.touches[0].clientY}},cr}(EventInput),PointerEventInput=function(lr){__extends$2(cr,lr);function cr(){var or=lr!==null&&lr.apply(this,arguments)||this;return or.start=SUPPORT_POINTER?["pointerdown"]:["MSPointerDown"],or.move=SUPPORT_POINTER?["pointermove"]:["MSPointerMove"],or.end=SUPPORT_POINTER?["pointerup","pointercancel"]:["MSPointerUp","MSPointerCancel"],or._firstInputs=[],or._recentInputs=[],or}var ar=cr.prototype;return ar.onEventStart=function(or,ur,fr){var dr=this._getButton(or);return this._isValidEvent(or,ur,fr)?(this._preventMouseButton(or,dr),this._updatePointerEvent(or),this.extendEvent(or)):null},ar.onEventMove=function(or,ur,fr){return this._isValidEvent(or,ur,fr)?(this._updatePointerEvent(or),this.extendEvent(or)):null},ar.onEventEnd=function(or){this._removePointerEvent(or)},ar.onRelease=function(){this.prevEvent=null,this._firstInputs=[],this._recentInputs=[]},ar.getTouches=function(){return this._recentInputs.length},ar._getScale=function(){return this._recentInputs.length!==2?null:this._getDistance(this._recentInputs[0],this._recentInputs[1])/this._getDistance(this._firstInputs[0],this._firstInputs[1])},ar._getCenter=function(or){return{x:or.clientX,y:or.clientY}},ar._getMovement=function(or){var ur=this.prevEvent.srcEvent;return or.pointerId!==ur.pointerId?{x:0,y:0}:{x:or.clientX-ur.clientX,y:or.clientY-ur.clientY}},ar._updatePointerEvent=function(or){var ur=this,fr=!1;this._recentInputs.forEach(function(dr,pr){dr.pointerId===or.pointerId&&(fr=!0,ur._recentInputs[pr]=or)}),fr||(this._firstInputs.push(or),this._recentInputs.push(or))},ar._removePointerEvent=function(or){this._firstInputs=this._firstInputs.filter(function(ur){return ur.pointerId!==or.pointerId}),this._recentInputs=this._recentInputs.filter(function(ur){return ur.pointerId!==or.pointerId})},cr}(EventInput),TouchMouseEventInput=function(lr){__extends$2(cr,lr);function cr(){var or=lr!==null&&lr.apply(this,arguments)||this;return or.start=["mousedown","touchstart"],or.move=["mousemove","touchmove"],or.end=["mouseup","touchend","touchcancel"],or}var ar=cr.prototype;return ar.onEventStart=function(or,ur,fr){var dr=this._getButton(or);return this._isTouchEvent(or)&&(this._baseTouches=or.touches),this._isValidEvent(or,ur,fr)?(this._preventMouseButton(or,dr),this.extendEvent(or)):null},ar.onEventMove=function(or,ur,fr){return this._isValidEvent(or,ur,fr)?this.extendEvent(or):null},ar.onEventEnd=function(or){this._isTouchEvent(or)&&(this._baseTouches=or.touches)},ar.onRelease=function(){this.prevEvent=null,this._baseTouches=null},ar.getTouches=function(or,ur){return this._isTouchEvent(or)?or.touches.length:this._isValidButton(MOUSE_BUTTON_CODE_MAP[or.which],ur)&&this.end.indexOf(or.type)===-1?1:0},ar._getScale=function(or){return this._isTouchEvent(or)?or.touches.length!==2||this._baseTouches.length<2?1:this._getDistance(or.touches[0],or.touches[1])/this._getDistance(this._baseTouches[0],this._baseTouches[1]):this.prevEvent.scale},ar._getCenter=function(or){return this._isTouchEvent(or)?{x:or.touches[0].clientX,y:or.touches[0].clientY}:{x:or.clientX,y:or.clientY}},ar._getMovement=function(or){var ur=this,fr=this.prevEvent.srcEvent,dr=[or,fr].map(function(_r){return ur._isTouchEvent(_r)?{id:_r.touches[0].identifier,x:_r.touches[0].clientX,y:_r.touches[0].clientY}:{id:null,x:_r.clientX,y:_r.clientY}}),pr=dr[0],br=dr[1];return pr.id===br.id?{x:pr.x-br.x,y:pr.y-br.y}:{x:0,y:0}},cr}(EventInput),toAxis=function(lr,cr){return cr.reduce(function(ar,or,ur){return lr[ur]&&(ar[lr[ur]]=or),ar},{})},convertInputType=function(lr){lr===void 0&&(lr=[]);var cr=!1,ar=!1,or=!1;return lr.forEach(function(ur){switch(ur){case"mouse":ar=!0;break;case"touch":cr=SUPPORT_TOUCH;break;case"pointer":or=SUPPORT_POINTER_EVENTS}}),or?new PointerEventInput:cr&&ar?new TouchMouseEventInput:cr?new TouchEventInput:ar?new MouseEventInput:null};function getAddEventOptions(lr){return lr.indexOf("touch")>-1?{passive:!1}:!1}var InputObserver=function(){function lr(ar){var or=ar.options,ur=ar.interruptManager,fr=ar.eventManager,dr=ar.axisManager,pr=ar.animationManager;this._isOutside=!1,this._moveDistance=null,this._isStopped=!1,this.options=or,this._interruptManager=ur,this._eventManager=fr,this._axisManager=dr,this._animationManager=pr}var cr=lr.prototype;return cr.get=function(ar){return this._axisManager.get(ar.axes)},cr.hold=function(ar,or){if(!(this._interruptManager.isInterrupted()||!ar.axes.length)){var ur={input:ar,event:or};this._isStopped=!1,this._interruptManager.setInterrupt(!0),this._animationManager.stopAnimation(ur),++this._eventManager.holdingCount,this._moveDistance||this._eventManager.hold(this._axisManager.get(),ur),this._isOutside=this._axisManager.isOutside(ar.axes),this._moveDistance=this._axisManager.get(ar.axes)}},cr.change=function(ar,or,ur,fr){if(!(this._isStopped||!this._interruptManager.isInterrupting()||this._axisManager.every(ur,function(Er){return Er===0}))){var dr=or.srcEvent?or.srcEvent:or;if(!dr.__childrenAxesAlreadyChanged){var pr=this._moveDistance||this._axisManager.get(ar.axes),br;br=map(pr,function(Er,gr){return Er+(ur[gr]||0)}),this._moveDistance&&(this._moveDistance=this._axisManager.map(br,function(Er,gr){var Ir=gr.circular,Ar=gr.range;return Ir&&(Ir[0]||Ir[1])?getCirculatedPos(Er,Ar,Ir):Er})),this._isOutside&&this._axisManager.every(pr,function(Er,gr){return!isOutside(Er,gr.range)})&&(this._isOutside=!1),pr=this._atOutside(pr),br=this._atOutside(br),(!this.options.nested||!this._isEndofAxis(ur,pr,br))&&(dr.__childrenAxesAlreadyChanged=!0);var _r={input:ar,event:or};if(fr){var yr=this._animationManager.getDuration(br,pr);this._animationManager.animateTo(br,yr,_r)}else{var mr=!this._eventManager.triggerChange(br,pr,_r,!0);mr&&(this._isStopped=!0,this._moveDistance=null,this._animationManager.finish(!1))}}}},cr.release=function(ar,or,ur,fr){if(!(this._isStopped||!this._interruptManager.isInterrupting()||!this._moveDistance)){var dr=or.srcEvent?or.srcEvent:or;dr.__childrenAxesAlreadyReleased&&(ur=ur.map(function(){return 0}));var pr=this._axisManager.get(ar.axes),br=this._axisManager.get(),_r=this._animationManager.getDisplacement(ur),yr=toAxis(ar.axes,_r),mr=this._axisManager.get(this._axisManager.map(yr,function(Or,Dr,Rr){return Dr.circular&&(Dr.circular[0]||Dr.circular[1])?pr[Rr]+Or:getInsidePosition(pr[Rr]+Or,Dr.range,Dr.circular,Dr.bounce)}));dr.__childrenAxesAlreadyReleased=!0;var Er=this._animationManager.getDuration(mr,pr,fr);Er===0&&(mr=__assign$2({},br));var gr={depaPos:br,destPos:mr,duration:Er,delta:this._axisManager.getDelta(br,mr),inputEvent:or,input:ar,isTrusted:!0};--this._eventManager.holdingCount,this._eventManager.triggerRelease(gr),this._eventManager.holdingCount===0&&(this._moveDistance=null);var Ir=this._animationManager.getUserControl(gr),Ar=equal(Ir.destPos,br),kr={input:ar,event:or};Ar||Ir.duration===0?(Ar||this._eventManager.triggerChange(Ir.destPos,br,kr,!0),this._interruptManager.setInterrupt(!1),this._axisManager.isOutside()?this._animationManager.restore(kr):this._eventManager.triggerFinish(!0)):this._animationManager.animateTo(Ir.destPos,Ir.duration,kr)}},cr._atOutside=function(ar){var or=this;return this._isOutside?this._axisManager.map(ar,function(ur,fr){var dr=fr.range[0]-fr.bounce[0],pr=fr.range[1]+fr.bounce[1];return ur>pr?pr:ur<dr?dr:ur}):this._axisManager.map(ar,function(ur,fr){var dr=fr.range[0],pr=fr.range[1],br=fr.bounce,_r=fr.circular;return _r[0]&&ur<dr||_r[1]&&ur>pr?ur:ur<dr?dr-or._animationManager.interpolate(dr-ur,br[0]):ur>pr?pr+or._animationManager.interpolate(ur-pr,br[1]):ur})},cr._isEndofAxis=function(ar,or,ur){return this._axisManager.every(or,function(fr,dr,pr){return ar[pr]===0||or[pr]===ur[pr]&&isEndofBounce(fr,dr.range,dr.bounce,dr.circular)})},lr}(),clamp$1=function(lr,cr,ar){return Math.max(Math.min(lr,ar),cr)},AnimationManager=function(){function lr(ar){var or=ar.options,ur=ar.interruptManager,fr=ar.eventManager,dr=ar.axisManager;this._options=or,this.interruptManager=ur,this.eventManager=fr,this.axisManager=dr,this.animationEnd=this.animationEnd.bind(this)}var cr=lr.prototype;return cr.getDuration=function(ar,or,ur){var fr=this,dr;if(typeof ur<"u")dr=ur;else{var pr=map(or,function(br,_r){return getDuration(Math.abs(br-ar[_r]),fr._options.deceleration)});dr=Object.keys(pr).reduce(function(br,_r){return Math.max(br,pr[_r])},-1/0)}return clamp$1(dr,this._options.minimumDuration,this._options.maximumDuration)},cr.getDisplacement=function(ar){var or=Math.pow(ar.reduce(function(fr,dr){return fr+dr*dr},0),1/ar.length),ur=Math.abs(or/-this._options.deceleration);return ar.map(function(fr){return fr/2*ur})},cr.stopAnimation=function(ar){if(this._animateParam){var or=this.axisManager.get(),ur=this.axisManager.map(or,function(fr,dr){return getCirculatedPos(fr,dr.range,dr.circular)});every(ur,function(fr,dr){return or[dr]===fr})||this.eventManager.triggerChange(ur,or,ar,!!ar),this._animateParam=null,this._raf&&cancelAnimationFrame(this._raf),this._raf=null,this.eventManager.triggerAnimationEnd(!!(ar!=null&&ar.event))}},cr.getEventInfo=function(){return this._animateParam&&this._animateParam.input&&this._animateParam.inputEvent?{input:this._animateParam.input,event:this._animateParam.inputEvent}:null},cr.restore=function(ar){var or=this.axisManager.get(),ur=this.axisManager.map(or,function(fr,dr){return Math.min(dr.range[1],Math.max(dr.range[0],fr))});this.stopAnimation(),this.animateTo(ur,this.getDuration(or,ur),ar)},cr.animationEnd=function(){var ar=this.getEventInfo();this._animateParam=null;var or=this.axisManager.filter(this.axisManager.get(),function(ur,fr){return isCircularable(ur,fr.range,fr.circular)});Object.keys(or).length>0&&this.setTo(this.axisManager.map(or,function(ur,fr){return getCirculatedPos(ur,fr.range,fr.circular)})),this.interruptManager.setInterrupt(!1),this.eventManager.triggerAnimationEnd(!!ar),this.axisManager.isOutside()?this.restore(ar):this.finish(!!ar)},cr.finish=function(ar){this._animateParam=null,this.interruptManager.setInterrupt(!1),this.eventManager.triggerFinish(ar)},cr.getUserControl=function(ar){var or=ar.setTo();return or.destPos=this.axisManager.get(or.destPos),or.duration=clamp$1(or.duration,this._options.minimumDuration,this._options.maximumDuration),or},cr.animateTo=function(ar,or,ur){var fr=this;this.stopAnimation();var dr=this._createAnimationParam(ar,or,ur),pr=__assign$2({},dr.depaPos),br=this.eventManager.triggerAnimationStart(dr),_r=this.getUserControl(dr);if(!br&&this.axisManager.every(_r.destPos,function(mr,Er){return isCircularable(mr,Er.range,Er.circular)})&&console.warn("You can't stop the 'animation' event when 'circular' is true."),br&&!equal(_r.destPos,pr)){var yr=(ur==null?void 0:ur.event)||null;this._animateLoop({depaPos:pr,destPos:_r.destPos,duration:_r.duration,delta:this.axisManager.getDelta(pr,_r.destPos),isTrusted:!!yr,inputEvent:yr,input:(ur==null?void 0:ur.input)||null},function(){return fr.animationEnd()})}},cr.setTo=function(ar,or){or===void 0&&(or=0);var ur=Object.keys(ar),fr=this.axisManager.get(ur);if(equal(ar,fr))return this;this.interruptManager.setInterrupt(!0);var dr=filter(ar,function(pr,br){return fr[br]!==pr});return Object.keys(dr).length?(dr=this.axisManager.map(dr,function(pr,br){var _r=br.range,yr=br.circular;return yr&&(yr[0]||yr[1])?pr:getInsidePosition(pr,_r,yr)}),equal(dr,fr)?this:(or>0?this.animateTo(dr,or):(this.stopAnimation(),this.eventManager.triggerChange(dr),this.finish(!1)),this)):this},cr.setBy=function(ar,or){return or===void 0&&(or=0),this.setTo(map(this.axisManager.get(Object.keys(ar)),function(ur,fr){return ur+ar[fr]}),or)},cr.setOptions=function(ar){this._options=__assign$2(__assign$2({},this._options),ar)},cr._createAnimationParam=function(ar,or,ur){var fr=this.axisManager.get(),dr=ar,pr=(ur==null?void 0:ur.event)||null;return{depaPos:fr,destPos:dr,duration:clamp$1(or,this._options.minimumDuration,this._options.maximumDuration),delta:this.axisManager.getDelta(fr,dr),inputEvent:pr,input:(ur==null?void 0:ur.input)||null,isTrusted:!!pr,done:this.animationEnd}},cr._animateLoop=function(ar,or){var ur=this;if(ar.duration){this._animateParam=__assign$2(__assign$2({},ar),{startTime:new Date().getTime()});var fr=map(ar.destPos,function(br){return br}),dr=this._initState(this._animateParam),pr=function(){ur._raf=null;var br=ur._animateParam,_r=ur._getNextState(dr),yr=!ur.eventManager.triggerChange(_r.pos,dr.pos);if(dr=_r,_r.finished){br.destPos=ur._getFinalPos(br.destPos,fr),equal(br.destPos,ur.axisManager.get(Object.keys(br.destPos)))||ur.eventManager.triggerChange(br.destPos,_r.pos),or();return}else yr?ur.finish(!1):ur._raf=requestAnimationFrame(pr)};pr()}else this.eventManager.triggerChange(ar.destPos),or()},cr._getFinalPos=function(ar,or){var ur=this,fr=1e-6,dr=map(ar,function(pr,br){if(pr>=or[br]-fr&&pr<=or[br]+fr)return or[br];var _r=ur._getRoundUnit(pr,br),yr=roundNumber(pr,_r);return yr});return dr},cr._getRoundUnit=function(ar,or){var ur=this._options.round,fr=null;if(!ur){var dr=this.axisManager.getAxisOptions(or);fr=inversePow(Math.max(getDecimalPlace(dr.range[0]),getDecimalPlace(dr.range[1]),getDecimalPlace(ar)))}return fr||ur},lr}(),EasingManager=function(lr){__extends$2(cr,lr);function cr(){var or=lr!==null&&lr.apply(this,arguments)||this;return or._useDuration=!0,or}var ar=cr.prototype;return ar.interpolate=function(or,ur){var fr=this._easing(1e-5)/1e-5;return this._easing(or/(ur*fr))*ur},ar.updateAnimation=function(or){var ur,fr=this._animateParam;if(fr){var dr=new Date().getTime()-fr.startTime,pr=(or==null?void 0:or.destPos)||fr.destPos,br=(ur=or==null?void 0:or.duration)!==null&&ur!==void 0?ur:fr.duration;if(or!=null&&or.restart||br<=dr){this.setTo(pr,br-dr);return}if(or!=null&&or.destPos){var _r=this.axisManager.get();this._initialEasingPer=this._prevEasingPer,fr.delta=this.axisManager.getDelta(_r,pr),fr.destPos=pr}if(or!=null&&or.duration){var yr=(dr+this._durationOffset)/fr.duration;this._durationOffset=yr*br-dr,fr.duration=br}}},ar._initState=function(or){return this._initialEasingPer=0,this._prevEasingPer=0,this._durationOffset=0,{pos:or.depaPos,easingPer:0,finished:!1}},ar._getNextState=function(or){var ur=this,fr=this._animateParam,dr=or.pos,pr=fr.destPos,br=map(dr,function(gr,Ir){return gr<=pr[Ir]?1:-1}),_r=new Date().getTime()-fr.startTime,yr=(_r+this._durationOffset)/fr.duration,mr=this._easing(yr),Er=this.axisManager.map(dr,function(gr,Ir,Ar){var kr=yr>=1?pr[Ar]:gr+fr.delta[Ar]*(mr-ur._prevEasingPer)/(1-ur._initialEasingPer),Or=getCirculatedPos(kr,Ir.range,Ir.circular);if(kr!==Or){var Dr=br[Ar]*(Ir.range[1]-Ir.range[0]);pr[Ar]-=Dr,dr[Ar]-=Dr}return Or});return this._prevEasingPer=mr,{pos:Er,easingPer:mr,finished:mr>=1}},ar._easing=function(or){return or>1?1:this._options.easing(or)},cr}(AnimationManager),Axes=function(lr){__extends$2(cr,lr);function cr(or,ur,fr){or===void 0&&(or={}),ur===void 0&&(ur={}),fr===void 0&&(fr={});var dr=lr.call(this)||this;return dr.axis=or,dr._inputs=[],dr.options=__assign$2({easing:function(pr){return 1-Math.pow(1-pr,3)},interruptable:!0,maximumDuration:1/0,minimumDuration:0,deceleration:6e-4,round:null,nested:!1},ur),Object.keys(fr).forEach(function(pr){dr.axis[pr].startPos=fr[pr]}),dr.interruptManager=new InterruptManager(dr.options),dr.axisManager=new AxisManager(dr.axis),dr.eventManager=new EventManager(dr),dr.animationManager=new EasingManager(dr),dr.inputObserver=new InputObserver(dr),dr.eventManager.setAnimationManager(dr.animationManager),dr.eventManager.triggerChange(dr.axisManager.get()),dr}var ar=cr.prototype;return Object.defineProperty(ar,"holding",{get:function(){return this.eventManager.holdingCount>0},enumerable:!1,configurable:!0}),ar.connect=function(or,ur){var fr;return typeof or=="string"?fr=or.split(" "):fr=or.concat(),~this._inputs.indexOf(ur)&&this.disconnect(ur),ur.mapAxes(fr),ur.connect(this.inputObserver),this._inputs.push(ur),this},ar.disconnect=function(or){if(or){var ur=this._inputs.indexOf(or);ur>=0&&(this._inputs[ur].disconnect(),this._inputs.splice(ur,1))}else this._inputs.forEach(function(fr){return fr.disconnect()}),this._inputs=[];return this},ar.get=function(or){return this.axisManager.get(or)},ar.setTo=function(or,ur){return ur===void 0&&(ur=0),this.animationManager.setTo(or,ur),this},ar.setBy=function(or,ur){return ur===void 0&&(ur=0),this.animationManager.setBy(or,ur),this},ar.setOptions=function(or){return this.options=__assign$2(__assign$2({},this.options),or),this.animationManager.setOptions(or),this},ar.setAxis=function(or){return this.axisManager.setAxis(or),this},ar.stopAnimation=function(){return this.animationManager.stopAnimation(),this.animationManager.finish(!1),this},ar.updateAnimation=function(or){return this.animationManager.updateAnimation(or),this},ar.isBounceArea=function(or){return this.axisManager.isOutside(or)},ar.destroy=function(){this.disconnect(),this.eventManager.destroy()},cr.VERSION="3.9.1",cr.TRANSFORM=TRANSFORM,cr.DIRECTION_NONE=DIRECTION_NONE,cr.DIRECTION_LEFT=DIRECTION_LEFT,cr.DIRECTION_RIGHT=DIRECTION_RIGHT,cr.DIRECTION_UP=DIRECTION_UP,cr.DIRECTION_DOWN=DIRECTION_DOWN,cr.DIRECTION_HORIZONTAL=DIRECTION_HORIZONTAL,cr.DIRECTION_VERTICAL=DIRECTION_VERTICAL,cr.DIRECTION_ALL=DIRECTION_ALL,__decorate([Computed],cr.prototype,"holding",null),cr=__decorate([ReactiveSubscribe],cr),cr}(Component),getDirectionByAngle=function(lr,cr){if(cr<0||cr>90)return DIRECTION_NONE;var ar=Math.abs(lr);return ar>cr&&ar<180-cr?DIRECTION_VERTICAL:DIRECTION_HORIZONTAL},PanInput=function(){function lr(ar,or){var ur=this;this.axes=[],this.element=null,this._enabled=!1,this._activeEvent=null,this._atRightEdge=!1,this._rightEdgeTimer=0,this._dragged=!1,this._isOverThreshold=!1,this._preventClickWhenDragged=function(fr){ur._dragged&&(fr.preventDefault(),fr.stopPropagation()),ur._dragged=!1},this._voidFunction=function(){},this.element=$(ar),this.options=__assign$2({inputType:["touch","mouse","pointer"],inputKey:[ANY],inputButton:[MOUSE_LEFT],scale:[1,1],thresholdAngle:45,threshold:0,preventClickOnDrag:!1,preventDefaultOnDrag:!1,iOSEdgeSwipeThreshold:IOS_EDGE_THRESHOLD,releaseOnScroll:!1,touchAction:null},or),this._onPanstart=this._onPanstart.bind(this),this._onPanmove=this._onPanmove.bind(this),this._onPanend=this._onPanend.bind(this)}var cr=lr.prototype;return cr.mapAxes=function(ar){this._direction=getDirection$1(!!ar[0],!!ar[1]),this.axes=ar},cr.connect=function(ar){return this._activeEvent&&(this._detachElementEvent(),this._detachWindowEvent(this._activeEvent)),this._attachElementEvent(ar),this},cr.disconnect=function(){return this._detachElementEvent(),this._detachWindowEvent(this._activeEvent),this._direction=DIRECTION_NONE,this},cr.destroy=function(){this.disconnect(),this.element=null},cr.enable=function(){return this._enabled||(this._enabled=!0,this._originalCssProps=setCssProps(this.element,this.options,this._direction)),this},cr.disable=function(){return this._enabled&&(this._enabled=!1,isCssPropsFromAxes(this._originalCssProps)||revertCssProps(this.element,this._originalCssProps)),this},cr.isEnabled=function(){return this._enabled},cr.release=function(){var ar=this._activeEvent,or=ar.prevEvent;return ar.onRelease(),this._observer.release(this,or,[0,0]),this._detachWindowEvent(ar),this},cr._onPanstart=function(ar){var or=this.options,ur=or.inputKey,fr=or.inputButton,dr=or.preventDefaultOnDrag,pr=this._activeEvent,br=pr.onEventStart(ar,ur,fr);if(!(!br||!this._enabled||pr.getTouches(ar,fr)>1)&&br.srcEvent.cancelable!==!1){var _r=this.options.iOSEdgeSwipeThreshold;this._dragged=!1,this._isOverThreshold=!1,this._observer.hold(this,br),this._atRightEdge=IS_IOS_SAFARI&&br.center.x>window.innerWidth-_r,this._attachWindowEvent(pr),dr&&br.srcEvent.type!=="touchstart"&&br.srcEvent.preventDefault(),pr.prevEvent=br}},cr._onPanmove=function(ar){var or=this,ur=this.options,fr=ur.iOSEdgeSwipeThreshold,dr=ur.preventClickOnDrag,pr=ur.releaseOnScroll,br=ur.inputKey,_r=ur.inputButton,yr=ur.threshold,mr=ur.thresholdAngle,Er=this._activeEvent,gr=Er.onEventMove(ar,br,_r),Ir=Er.getTouches(ar,_r);if(Ir===0||pr&&gr&&!gr.srcEvent.cancelable){this._onPanend(ar);return}if(!(!gr||!this._enabled||Ir>1)){var Ar=getDirectionByAngle(gr.angle,mr),kr=useDirection(DIRECTION_HORIZONTAL,this._direction,Ar),Or=useDirection(DIRECTION_VERTICAL,this._direction,Ar);if(Er.prevEvent&&IS_IOS_SAFARI){var Dr=gr.center.x<0;if(Dr){this.release();return}else if(this._atRightEdge){clearTimeout(this._rightEdgeTimer);var Rr=gr.deltaX<-fr;Rr?this._atRightEdge=!1:this._rightEdgeTimer=window.setTimeout(function(){return or.release()},100)}}var Fr=this._getDistance([gr.deltaX,gr.deltaY],[kr,Or]),Nr=this._getOffset([gr.offsetX,gr.offsetY],[kr,Or]),Hr=Nr.some(function(Ur){return Ur!==0});Hr&&(gr.srcEvent.cancelable!==!1&&gr.srcEvent.preventDefault(),gr.srcEvent.stopPropagation()),gr.preventSystemEvent=Hr,Hr&&(this._isOverThreshold||Fr>=yr)&&(this._dragged=dr,this._isOverThreshold=!0,this._observer.change(this,gr,toAxis(this.axes,Nr))),Er.prevEvent=gr}},cr._onPanend=function(ar){var or=this.options.inputButton,ur=this._activeEvent;if(ur.onEventEnd(ar),!(!this._enabled||ur.getTouches(ar,or)!==0)){this._detachWindowEvent(ur),clearTimeout(this._rightEdgeTimer);var fr=ur.prevEvent,dr=this._isOverThreshold?this._getOffset([Math.abs(fr.velocityX)*(fr.offsetX<0?-1:1),Math.abs(fr.velocityY)*(fr.offsetY<0?-1:1)],[useDirection(DIRECTION_HORIZONTAL,this._direction),useDirection(DIRECTION_VERTICAL,this._direction)]):[0,0];ur.onRelease(),this._observer.release(this,fr,dr)}},cr._attachWindowEvent=function(ar){var or=this;ar==null||ar.move.forEach(function(ur){window.addEventListener(ur,or._onPanmove,getAddEventOptions(ur))}),ar==null||ar.end.forEach(function(ur){window.addEventListener(ur,or._onPanend,getAddEventOptions(ur))})},cr._detachWindowEvent=function(ar){var or=this;ar==null||ar.move.forEach(function(ur){window.removeEventListener(ur,or._onPanmove)}),ar==null||ar.end.forEach(function(ur){window.removeEventListener(ur,or._onPanend)})},cr._getOffset=function(ar,or){var ur=this.options.scale;return[or[0]?ar[0]*ur[0]:0,or[1]?ar[1]*ur[1]:0]},cr._getDistance=function(ar,or){return Math.sqrt(Number(or[0])*Math.pow(ar[0],2)+Number(or[1])*Math.pow(ar[1],2))},cr._attachElementEvent=function(ar){var or=this,ur=convertInputType(this.options.inputType),fr=this.element;if(ur){if(!fr)throw new Error("Element to connect input does not exist.");this._observer=ar,this.enable(),this._activeEvent=ur,fr.addEventListener("click",this._preventClickWhenDragged,!0),ur.start.forEach(function(dr){fr.addEventListener(dr,or._onPanstart)}),ur.move.forEach(function(dr){fr.addEventListener(dr,or._voidFunction)})}},cr._detachElementEvent=function(){var ar=this,or=this._activeEvent,ur=this.element;ur&&(ur.removeEventListener("click",this._preventClickWhenDragged,!0),or==null||or.start.forEach(function(fr){ur.removeEventListener(fr,ar._onPanstart)}),or==null||or.move.forEach(function(fr){ur.removeEventListener(fr,ar._voidFunction)})),this.disable(),this._observer=null},lr}();const Axes$1=Axes;var extendStatics$1=function(lr,cr){return extendStatics$1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ar,or){ar.__proto__=or}||function(ar,or){for(var ur in or)Object.prototype.hasOwnProperty.call(or,ur)&&(ar[ur]=or[ur])},extendStatics$1(lr,cr)};function __extends$1(lr,cr){if(typeof cr!="function"&&cr!==null)throw new TypeError("Class extends value "+String(cr)+" is not a constructor or null");extendStatics$1(lr,cr);function ar(){this.constructor=lr}lr.prototype=cr===null?Object.create(cr):(ar.prototype=cr.prototype,new ar)}var __assign$1=function(){return __assign$1=Object.assign||function(cr){for(var ar,or=1,ur=arguments.length;or<ur;or++){ar=arguments[or];for(var fr in ar)Object.prototype.hasOwnProperty.call(ar,fr)&&(cr[fr]=ar[fr])}return cr},__assign$1.apply(this,arguments)};function __spreadArrays(){for(var lr=0,cr=0,ar=arguments.length;cr<ar;cr++)lr+=arguments[cr].length;for(var or=Array(lr),ur=0,cr=0;cr<ar;cr++)for(var fr=arguments[cr],dr=0,pr=fr.length;dr<pr;dr++,ur++)or[ur]=fr[dr];return or}var isWindow=typeof window<"u",ua=isWindow?window.navigator.userAgent:"",SUPPORT_COMPUTEDSTYLE=isWindow?"getComputedStyle"in window:!1,IS_IE=/MSIE|Trident|Windows Phone|Edge/.test(ua),SUPPORT_ADDEVENTLISTENER=isWindow?"addEventListener"in document:!1,WIDTH="width",HEIGHT="height";function getAttribute(lr,cr){return lr.getAttribute(cr)||""}function toArray$1(lr){return[].slice.call(lr)}function hasSizeAttribute(lr,cr){return cr===void 0&&(cr="data-"),!!lr.getAttribute(cr+"width")}function hasLoadingAttribute(lr,cr){return cr===void 0&&(cr="data-"),"loading"in lr&&lr.getAttribute("loading")==="lazy"||!!lr.getAttribute(cr+"lazy")}function hasSkipAttribute(lr,cr){return cr===void 0&&(cr="data-"),!!lr.getAttribute(cr+"skip")}function addEvent(lr,cr,ar){SUPPORT_ADDEVENTLISTENER?lr.addEventListener(cr,ar,!1):lr.attachEvent?lr.attachEvent("on"+cr,ar):lr["on"+cr]=ar}function removeEvent(lr,cr,ar){lr.removeEventListener?lr.removeEventListener(cr,ar,!1):lr.detachEvent?lr.detachEvent("on"+cr,ar):lr["on"+cr]=null}function innerWidth(lr){return getSize(lr,"Width")}function innerHeight(lr){return getSize(lr,"Height")}function getStyles(lr){return(SUPPORT_COMPUTEDSTYLE?window.getComputedStyle(lr):lr.currentStyle)||{}}function getSize(lr,cr){var ar=lr["client"+cr]||lr["offset"+cr];return parseFloat(ar||getStyles(lr)[cr.toLowerCase()])||0}function getContentElements(lr,cr,ar){var or=toArray$1(lr.querySelectorAll(__spreadArrays(["["+ar+"skip] ["+ar+"width]"],cr.map(function(ur){return["["+ar+"skip] "+ur,ur+"["+ar+"skip]","["+ar+"width] "+ur].join(", ")})).join(", ")));return toArray$1(lr.querySelectorAll("["+ar+"width], "+cr.join(", "))).filter(function(ur){return or.indexOf(ur)===-1})}var elements=[];function addAutoSizer(lr,cr){!elements.length&&addEvent(window,"resize",resizeAllAutoSizers),lr.__PREFIX__=cr,elements.push(lr),resize(lr)}function removeAutoSizer(lr,cr){var ar=elements.indexOf(lr);if(!(ar<0)){var or=getAttribute(lr,cr+"fixed");delete lr.__PREFIX__,lr.style[or===HEIGHT?WIDTH:HEIGHT]="",elements.splice(ar,1),!elements.length&&removeEvent(window,"resize",resizeAllAutoSizers)}}function resize(lr,cr){cr===void 0&&(cr="data-");var ar=lr.__PREFIX__||cr,or=parseInt(getAttribute(lr,""+ar+WIDTH),10)||0,ur=parseInt(getAttribute(lr,""+ar+HEIGHT),10)||0,fr=getAttribute(lr,ar+"fixed");if(fr===HEIGHT){var dr=innerHeight(lr)||ur;lr.style[WIDTH]=or/ur*dr+"px"}else{var dr=innerWidth(lr)||or;lr.style[HEIGHT]=ur/or*dr+"px"}}function resizeAllAutoSizers(){elements.forEach(function(lr){resize(lr)})}var Loader=function(lr){__extends$1(cr,lr);function cr(or,ur){ur===void 0&&(ur={});var fr=lr.call(this)||this;fr.isReady=!1,fr.isPreReady=!1,fr.hasDataSize=!1,fr.hasLoading=!1,fr.isSkip=!1,fr.onCheck=function(pr){if(fr.clear(),pr&&pr.type==="error"&&fr.onError(fr.element),!(fr.hasLoading&&fr.checkElement())){var br=!fr.hasDataSize&&!fr.hasLoading;fr.onReady(br)}},fr.options=__assign$1({prefix:"data-"},ur),fr.element=or;var dr=fr.options.prefix;return fr.hasDataSize=hasSizeAttribute(or,dr),fr.isSkip=hasSkipAttribute(or,dr),fr.hasLoading=hasLoadingAttribute(or,dr),fr}var ar=cr.prototype;return ar.check=function(){return this.isSkip||!this.checkElement()?(this.onAlreadyReady(!0),!1):(this.hasDataSize&&addAutoSizer(this.element,this.options.prefix),(this.hasDataSize||this.hasLoading)&&this.onAlreadyPreReady(),!0)},ar.addEvents=function(){var or=this,ur=this.element;this.constructor.EVENTS.forEach(function(fr){addEvent(ur,fr,or.onCheck)})},ar.clear=function(){var or=this,ur=this.element;this.constructor.EVENTS.forEach(function(fr){removeEvent(ur,fr,or.onCheck)}),this.removeAutoSizer()},ar.destroy=function(){this.clear(),this.off()},ar.removeAutoSizer=function(){if(this.hasDataSize){var or=this.options.prefix;removeAutoSizer(this.element,or)}},ar.onError=function(or){this.trigger("error",{element:this.element,target:or})},ar.onPreReady=function(){this.isPreReady||(this.isPreReady=!0,this.trigger("preReady",{element:this.element,hasLoading:this.hasLoading,isSkip:this.isSkip}))},ar.onReady=function(or){this.isReady||(or=!this.isPreReady&&or,or&&(this.isPreReady=!0),this.removeAutoSizer(),this.isReady=!0,this.trigger("ready",{element:this.element,withPreReady:or,hasLoading:this.hasLoading,isSkip:this.isSkip}))},ar.onAlreadyError=function(or){var ur=this;setTimeout(function(){ur.onError(or)})},ar.onAlreadyPreReady=function(){var or=this;setTimeout(function(){or.onPreReady()})},ar.onAlreadyReady=function(or){var ur=this;setTimeout(function(){ur.onReady(or)})},cr.EVENTS=[],cr}(Component),ElementLoader=function(lr){__extends$1(cr,lr);function cr(){return lr!==null&&lr.apply(this,arguments)||this}var ar=cr.prototype;return ar.setHasLoading=function(or){this.hasLoading=or},ar.check=function(){return this.isSkip?(this.onAlreadyReady(!0),!1):(this.hasDataSize?(addAutoSizer(this.element,this.options.prefix),this.onAlreadyPreReady()):this.trigger("requestChildren"),!0)},ar.checkElement=function(){return!0},ar.destroy=function(){this.clear(),this.trigger("requestDestroy"),this.off()},ar.onAlreadyPreReady=function(){lr.prototype.onAlreadyPreReady.call(this),this.trigger("reqeustReadyChildren")},cr.EVENTS=[],cr}(Loader),ImReadyManager=function(lr){__extends$1(cr,lr);function cr(or){or===void 0&&(or={});var ur=lr.call(this)||this;return ur.readyCount=0,ur.preReadyCount=0,ur.totalCount=0,ur.totalErrorCount=0,ur.isPreReadyOver=!0,ur.elementInfos=[],ur.options=__assign$1({loaders:{},prefix:"data-"},or),ur}var ar=cr.prototype;return ar.check=function(or){var ur=this,fr=this.options.prefix;this.clear(),this.elementInfos=toArray$1(or).map(function(pr,br){var _r=ur.getLoader(pr,{prefix:fr});return _r.check(),_r.on("error",function(yr){ur.onError(br,yr.target)}).on("preReady",function(yr){var mr=ur.elementInfos[br];mr.hasLoading=yr.hasLoading,mr.isSkip=yr.isSkip;var Er=ur.checkPreReady(br);ur.onPreReadyElement(br),Er&&ur.onPreReady()}).on("ready",function(yr){var mr=yr.withPreReady,Er=yr.hasLoading,gr=yr.isSkip,Ir=ur.elementInfos[br];Ir.hasLoading=Er,Ir.isSkip=gr;var Ar=mr&&ur.checkPreReady(br),kr=ur.checkReady(br);mr&&ur.onPreReadyElement(br),ur.onReadyElement(br),Ar&&ur.onPreReady(),kr&&ur.onReady()}),{loader:_r,element:pr,hasLoading:!1,hasError:!1,isPreReady:!1,isReady:!1,isSkip:!1}});var dr=this.elementInfos.length;return this.totalCount=dr,dr||setTimeout(function(){ur.onPreReady(),ur.onReady()}),this},ar.getTotalCount=function(){return this.totalCount},ar.isPreReady=function(){return this.elementInfos.every(function(or){return or.isPreReady})},ar.isReady=function(){return this.elementInfos.every(function(or){return or.isReady})},ar.hasError=function(){return this.totalErrorCount>0},ar.clear=function(){this.isPreReadyOver=!1,this.totalCount=0,this.preReadyCount=0,this.readyCount=0,this.totalErrorCount=0,this.elementInfos.forEach(function(or){or.loader&&or.loader.destroy()}),this.elementInfos=[]},ar.destroy=function(){this.clear(),this.off()},ar.getLoader=function(or,ur){var fr=this,dr=or.tagName.toLowerCase(),pr=this.options.loaders,br=ur.prefix,_r=Object.keys(pr);if(pr[dr])return new pr[dr](or,ur);var yr=new ElementLoader(or,ur),mr=toArray$1(or.querySelectorAll(_r.join(", ")));yr.setHasLoading(mr.some(function(Ir){return hasLoadingAttribute(Ir,br)}));var Er=!1,gr=this.clone().on("error",function(Ir){yr.onError(Ir.target)}).on("ready",function(){yr.onReady(Er)});return yr.on("requestChildren",function(){var Ir=getContentElements(or,_r,fr.options.prefix);gr.check(Ir).on("preReady",function(Ar){Er=Ar.isReady,Er||yr.onPreReady()})}).on("reqeustReadyChildren",function(){gr.check(mr)}).on("requestDestroy",function(){gr.destroy()}),yr},ar.clone=function(){return new cr(__assign$1({},this.options))},ar.checkPreReady=function(or){return this.elementInfos[or].isPreReady=!0,++this.preReadyCount,!(this.preReadyCount<this.totalCount)},ar.checkReady=function(or){return this.elementInfos[or].isReady=!0,++this.readyCount,!(this.readyCount<this.totalCount)},ar.onError=function(or,ur){var fr=this.elementInfos[or];fr.hasError=!0,this.trigger(new ComponentEvent$1("error",{element:fr.element,index:or,target:ur,errorCount:this.getErrorCount(),totalErrorCount:++this.totalErrorCount}))},ar.onPreReadyElement=function(or){var ur=this.elementInfos[or];this.trigger(new ComponentEvent$1("preReadyElement",{element:ur.element,index:or,preReadyCount:this.preReadyCount,readyCount:this.readyCount,totalCount:this.totalCount,isPreReady:this.isPreReady(),isReady:this.isReady(),hasLoading:ur.hasLoading,isSkip:ur.isSkip}))},ar.onPreReady=function(){this.isPreReadyOver=!0,this.trigger(new ComponentEvent$1("preReady",{readyCount:this.readyCount,totalCount:this.totalCount,isReady:this.isReady(),hasLoading:this.hasLoading()}))},ar.onReadyElement=function(or){var ur=this.elementInfos[or];this.trigger(new ComponentEvent$1("readyElement",{index:or,element:ur.element,hasError:ur.hasError,errorCount:this.getErrorCount(),totalErrorCount:this.totalErrorCount,preReadyCount:this.preReadyCount,readyCount:this.readyCount,totalCount:this.totalCount,isPreReady:this.isPreReady(),isReady:this.isReady(),hasLoading:ur.hasLoading,isPreReadyOver:this.isPreReadyOver,isSkip:ur.isSkip}))},ar.onReady=function(){this.trigger(new ComponentEvent$1("ready",{errorCount:this.getErrorCount(),totalErrorCount:this.totalErrorCount,totalCount:this.totalCount}))},ar.getErrorCount=function(){return this.elementInfos.filter(function(or){return or.hasError}).length},ar.hasLoading=function(){return this.elementInfos.some(function(or){return or.hasLoading})},cr}(Component),ImageLoader=function(lr){__extends$1(cr,lr);function cr(){return lr!==null&&lr.apply(this,arguments)||this}var ar=cr.prototype;return ar.checkElement=function(){var or=this.element,ur=or.getAttribute("src");if(or.complete){if(ur)return or.naturalWidth||this.onAlreadyError(or),!1;this.onAlreadyPreReady()}return this.addEvents(),IS_IE&&or.setAttribute("src",ur),!0},cr.EVENTS=["load","error"],cr}(Loader),VideoLoader=function(lr){__extends$1(cr,lr);function cr(){return lr!==null&&lr.apply(this,arguments)||this}var ar=cr.prototype;return ar.checkElement=function(){var or=this.element;return or.readyState>=1?!1:or.error?(this.onAlreadyError(or),!1):(this.addEvents(),!0)},cr.EVENTS=["loadedmetadata","error"],cr}(Loader),ImReady=function(lr){__extends$1(cr,lr);function cr(ar){return ar===void 0&&(ar={}),lr.call(this,__assign$1({loaders:{img:ImageLoader,video:VideoLoader}},ar))||this}return cr}(ImReadyManager);const ImReady$1=ImReady;var extendStatics=function(lr,cr){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ar,or){ar.__proto__=or}||function(ar,or){for(var ur in or)Object.prototype.hasOwnProperty.call(or,ur)&&(ar[ur]=or[ur])},extendStatics(lr,cr)};function __extends(lr,cr){if(typeof cr!="function"&&cr!==null)throw new TypeError("Class extends value "+String(cr)+" is not a constructor or null");extendStatics(lr,cr);function ar(){this.constructor=lr}lr.prototype=cr===null?Object.create(cr):(ar.prototype=cr.prototype,new ar)}var __assign=function(){return __assign=Object.assign||function(cr){for(var ar,or=1,ur=arguments.length;or<ur;or++){ar=arguments[or];for(var fr in ar)Object.prototype.hasOwnProperty.call(ar,fr)&&(cr[fr]=ar[fr])}return cr},__assign.apply(this,arguments)};function __awaiter(lr,cr,ar,or){function ur(fr){return fr instanceof ar?fr:new ar(function(dr){dr(fr)})}return new(ar||(ar=Promise))(function(fr,dr){function pr(yr){try{_r(or.next(yr))}catch(mr){dr(mr)}}function br(yr){try{_r(or.throw(yr))}catch(mr){dr(mr)}}function _r(yr){yr.done?fr(yr.value):ur(yr.value).then(pr,br)}_r((or=or.apply(lr,cr||[])).next())})}function __generator(lr,cr){var ar={label:0,sent:function(){if(fr[0]&1)throw fr[1];return fr[1]},trys:[],ops:[]},or,ur,fr,dr;return dr={next:pr(0),throw:pr(1),return:pr(2)},typeof Symbol=="function"&&(dr[Symbol.iterator]=function(){return this}),dr;function pr(_r){return function(yr){return br([_r,yr])}}function br(_r){if(or)throw new TypeError("Generator is already executing.");for(;dr&&(dr=0,_r[0]&&(ar=0)),ar;)try{if(or=1,ur&&(fr=_r[0]&2?ur.return:_r[0]?ur.throw||((fr=ur.return)&&fr.call(ur),0):ur.next)&&!(fr=fr.call(ur,_r[1])).done)return fr;switch(ur=0,fr&&(_r=[_r[0]&2,fr.value]),_r[0]){case 0:case 1:fr=_r;break;case 4:return ar.label++,{value:_r[1],done:!1};case 5:ar.label++,ur=_r[1],_r=[0];continue;case 7:_r=ar.ops.pop(),ar.trys.pop();continue;default:if(fr=ar.trys,!(fr=fr.length>0&&fr[fr.length-1])&&(_r[0]===6||_r[0]===2)){ar=0;continue}if(_r[0]===3&&(!fr||_r[1]>fr[0]&&_r[1]<fr[3])){ar.label=_r[1];break}if(_r[0]===6&&ar.label<fr[1]){ar.label=fr[1],fr=_r;break}if(fr&&ar.label<fr[2]){ar.label=fr[2],ar.ops.push(_r);break}fr[2]&&ar.ops.pop(),ar.trys.pop();continue}_r=cr.call(lr,ar)}catch(yr){_r=[6,yr],ur=0}finally{or=fr=0}if(_r[0]&5)throw _r[1];return{value:_r[0]?_r[1]:void 0,done:!0}}}function __values(lr){var cr=typeof Symbol=="function"&&Symbol.iterator,ar=cr&&lr[cr],or=0;if(ar)return ar.call(lr);if(lr&&typeof lr.length=="number")return{next:function(){return lr&&or>=lr.length&&(lr=void 0),{value:lr&&lr[or++],done:!lr}}};throw new TypeError(cr?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(lr,cr){var ar=typeof Symbol=="function"&&lr[Symbol.iterator];if(!ar)return lr;var or=ar.call(lr),ur,fr=[],dr;try{for(;(cr===void 0||cr-- >0)&&!(ur=or.next()).done;)fr.push(ur.value)}catch(pr){dr={error:pr}}finally{try{ur&&!ur.done&&(ar=or.return)&&ar.call(or)}finally{if(dr)throw dr.error}}return fr}function __spread(){for(var lr=[],cr=0;cr<arguments.length;cr++)lr=lr.concat(__read(arguments[cr]));return lr}typeof SuppressedError=="function"&&SuppressedError;var CODE={WRONG_TYPE:0,ELEMENT_NOT_FOUND:1,VAL_MUST_NOT_NULL:2,NOT_ATTACHED_TO_FLICKING:3,WRONG_OPTION:4,INDEX_OUT_OF_RANGE:5,POSITION_NOT_REACHABLE:6,TRANSFORM_NOT_SUPPORTED:7,STOP_CALLED_BY_USER:8,ANIMATION_INTERRUPTED:9,ANIMATION_ALREADY_PLAYING:10,NOT_ALLOWED_IN_FRAMEWORK:11,NOT_INITIALIZED:12,NO_ACTIVE:13,NOT_ALLOWED_IN_VIRTUAL:14},MESSAGE={WRONG_TYPE:function(lr,cr){return lr+"("+typeof lr+") is not a "+cr.map(function(ar){return'"'+ar+'"'}).join(" or ")+"."},ELEMENT_NOT_FOUND:function(lr){return'Element with selector "'+lr+'" not found.'},VAL_MUST_NOT_NULL:function(lr,cr){return cr+" should be provided. Given: "+lr},NOT_ATTACHED_TO_FLICKING:'This module is not attached to the Flicking instance. "init()" should be called first.',WRONG_OPTION:function(lr,cr){return'Option "'+lr+'" is not in correct format, given: '+cr},INDEX_OUT_OF_RANGE:function(lr,cr,ar){return'Index "'+lr+'" is out of range: should be between '+cr+" and "+ar+"."},POSITION_NOT_REACHABLE:function(lr){return'Position "'+lr+'" is not reachable.'},TRANSFORM_NOT_SUPPORTED:"Browser does not support CSS transform.",STOP_CALLED_BY_USER:"Event stop() is called by user.",ANIMATION_INTERRUPTED:"Animation is interrupted by user input.",ANIMATION_ALREADY_PLAYING:"Animation is already playing.",NOT_ALLOWED_IN_FRAMEWORK:"This behavior is not allowed in the frameworks like React, Vue, or Angular.",NOT_INITIALIZED:"Flicking is not initialized yet, call init() first.",NO_ACTIVE:"There's no active panel that Flicking has selected. This may be due to the absence of any panels.",NOT_ALLOWED_IN_VIRTUAL:"This behavior is not allowed when the virtual option is enabled"},EVENTS={READY:"ready",BEFORE_RESIZE:"beforeResize",AFTER_RESIZE:"afterResize",HOLD_START:"holdStart",HOLD_END:"holdEnd",MOVE_START:"moveStart",MOVE:"move",MOVE_END:"moveEnd",WILL_CHANGE:"willChange",CHANGED:"changed",WILL_RESTORE:"willRestore",RESTORED:"restored",SELECT:"select",NEED_PANEL:"needPanel",VISIBLE_CHANGE:"visibleChange",REACH_EDGE:"reachEdge",PANEL_CHANGE:"panelChange"},ALIGN={PREV:"prev",CENTER:"center",NEXT:"next"},DIRECTION={PREV:"PREV",NEXT:"NEXT",NONE:null},MOVE_TYPE={SNAP:"snap",FREE_SCROLL:"freeScroll",STRICT:"strict"},CLASS={VERTICAL:"vertical",HIDDEN:"flicking-hidden",DEFAULT_VIRTUAL:"flicking-panel"},CIRCULAR_FALLBACK={LINEAR:"linear",BOUND:"bound"},ORDER={LTR:"ltr",RTL:"rtl"},getElement=function(lr,cr){var ar=null;if(isString(lr)){var or=cr||document,ur=or.querySelector(lr);if(!ur)throw new FlickingError(MESSAGE.ELEMENT_NOT_FOUND(lr),CODE.ELEMENT_NOT_FOUND);ar=ur}else lr&&lr.nodeType===Node.ELEMENT_NODE&&(ar=lr);if(!ar)throw new FlickingError(MESSAGE.WRONG_TYPE(lr,["HTMLElement","string"]),CODE.WRONG_TYPE);return ar},checkExistence=function(lr,cr){if(lr==null)throw new FlickingError(MESSAGE.VAL_MUST_NOT_NULL(lr,cr),CODE.VAL_MUST_NOT_NULL)},clamp=function(lr,cr,ar){return Math.max(Math.min(lr,ar),cr)},getFlickingAttached=function(lr){if(!lr)throw new FlickingError(MESSAGE.NOT_ATTACHED_TO_FLICKING,CODE.NOT_ATTACHED_TO_FLICKING);return lr},toArray=function(lr){return[].slice.call(lr)},parseAlign$1=function(lr,cr){var ar;if(isString(lr))switch(lr){case ALIGN.PREV:ar=0;break;case ALIGN.CENTER:ar=.5*cr;break;case ALIGN.NEXT:ar=cr;break;default:if(ar=parseArithmeticSize(lr,cr),ar==null)throw new FlickingError(MESSAGE.WRONG_OPTION("align",lr),CODE.WRONG_OPTION)}else ar=lr;return ar},parseBounce=function(lr,cr){var ar;if(Array.isArray(lr))ar=lr.map(function(ur){return parseArithmeticSize(ur,cr)});else{var or=parseArithmeticSize(lr,cr);ar=[or,or]}return ar.map(function(ur){if(ur==null)throw new FlickingError(MESSAGE.WRONG_OPTION("bounce",lr),CODE.WRONG_OPTION);return ur})},parseArithmeticSize=function(lr,cr){var ar=parseArithmeticExpression(lr);return ar==null?null:ar.percentage*cr+ar.absolute},parseArithmeticExpression=function(lr){var cr=/(?:(\+|\-)\s*)?(\d+(?:\.\d+)?(%|px)?)/g;if(typeof lr=="number")return{percentage:0,absolute:lr};for(var ar={percentage:0,absolute:0},or=0,ur=cr.exec(lr);ur!=null;){var fr=ur[1],dr=ur[2],pr=ur[3],br=parseFloat(dr);if(or<=0&&(fr=fr||"+"),!fr)return null;var _r=fr==="+"?1:-1;pr==="%"?ar.percentage+=_r*(br/100):ar.absolute+=_r*br,++or,ur=cr.exec(lr)}return or===0?null:ar},parsePanelAlign=function(lr){return typeof lr=="object"?lr.panel:lr},getDirection=function(lr,cr){return lr===cr?DIRECTION.NONE:lr<cr?DIRECTION.NEXT:DIRECTION.PREV},parseElement=function(lr){Array.isArray(lr)||(lr=[lr]);var cr=[];return lr.forEach(function(ar){if(isString(ar)){var or=document.createElement("div");for(or.innerHTML=ar,cr.push.apply(cr,__spread(toArray(or.children)));or.firstChild;)or.removeChild(or.firstChild)}else if(ar&&ar.nodeType===Node.ELEMENT_NODE)cr.push(ar);else throw new FlickingError(MESSAGE.WRONG_TYPE(ar,["HTMLElement","string"]),CODE.WRONG_TYPE)}),cr},getMinusCompensatedIndex=function(lr,cr){return lr<0?clamp(lr+cr,0,cr):clamp(lr,0,cr)},includes=function(lr,cr){var ar,or;try{for(var ur=__values(lr),fr=ur.next();!fr.done;fr=ur.next()){var dr=fr.value;if(dr===cr)return!0}}catch(pr){ar={error:pr}}finally{try{fr&&!fr.done&&(or=ur.return)&&or.call(ur)}finally{if(ar)throw ar.error}}return!1},isString=function(lr){return typeof lr=="string"},circulatePosition=function(lr,cr,ar){var or=ar-cr;if(lr<cr){var ur=(cr-lr)%or;lr=ar-ur}else if(lr>ar){var ur=(lr-ar)%or;lr=cr+ur}return lr},find=function(lr,cr){var ar,or;try{for(var ur=__values(lr),fr=ur.next();!fr.done;fr=ur.next()){var dr=fr.value;if(cr(dr))return dr}}catch(pr){ar={error:pr}}finally{try{fr&&!fr.done&&(or=ur.return)&&or.call(ur)}finally{if(ar)throw ar.error}}return null},findIndex=function(lr,cr){for(var ar=0;ar<lr.length;ar++)if(cr(lr[ar]))return ar;return-1},getProgress=function(lr,cr,ar){return(lr-cr)/(ar-cr)},getStyle=function(lr){return window.getComputedStyle(lr)||lr.currentStyle},setSize=function(lr,cr){var ar=cr.width,or=cr.height;ar!=null&&(isString(ar)?lr.style.width=ar:lr.style.width=ar+"px"),or!=null&&(isString(or)?lr.style.height=or:lr.style.height=or+"px")},isBetween=function(lr,cr,ar){return lr>=cr&&lr<=ar},circulateIndex=function(lr,cr){return lr>=cr?lr%cr:lr<0?getMinusCompensatedIndex((lr+1)%cr-1,cr):lr},range=function(lr){for(var cr=new Array(lr),ar=0;ar<lr;ar++)cr[ar]=ar;return cr},getElementSize=function(lr){var cr=lr.el,ar=lr.horizontal,or=lr.useFractionalSize,ur=lr.useOffset,fr=lr.style,dr=0;if(or){var pr=parseFloat(ar?fr.width:fr.height)||0,br=fr.boxSizing==="border-box",_r=ar?parseFloat(fr.borderLeftWidth||"0")+parseFloat(fr.borderRightWidth||"0"):parseFloat(fr.borderTopWidth||"0")+parseFloat(fr.borderBottomWidth||"0");if(br)dr=ur?pr:pr-_r;else{var yr=ar?parseFloat(fr.paddingLeft||"0")+parseFloat(fr.paddingRight||"0"):parseFloat(fr.paddingTop||"0")+parseFloat(fr.paddingBottom||"0");dr=ur?pr+yr+_r:pr+yr}}else{var mr=ar?"Width":"Height";dr=ur?cr["offset"+mr]:cr["client"+mr]}return Math.max(dr,0)},setPrototypeOf=Object.setPrototypeOf||function(lr,cr){return lr.__proto__=cr,lr},FlickingError=function(lr){__extends(cr,lr);function cr(ar,or){var ur=lr.call(this,ar)||this;return setPrototypeOf(ur,cr.prototype),ur.name="FlickingError",ur.code=or,ur}return cr}(Error),Viewport=function(){function lr(ar,or){this._flicking=ar,this._el=or,this._width=0,this._height=0,this._padding={left:0,right:0,top:0,bottom:0},this._isBorderBoxSizing=!1}var cr=lr.prototype;return Object.defineProperty(cr,"element",{get:function(){return this._el},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"width",{get:function(){return this._width-this._padding.left-this._padding.right},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"height",{get:function(){return this._height-this._padding.top-this._padding.bottom},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"padding",{get:function(){return this._padding},enumerable:!1,configurable:!0}),cr.setSize=function(ar){var or=ar.width,ur=ar.height,fr=this._el,dr=this._padding,pr=this._isBorderBoxSizing;if(or!=null)if(isString(or))fr.style.width=or;else{var br=pr?or+dr.left+dr.right:or;fr.style.width=br+"px"}if(ur!=null)if(isString(ur))fr.style.height=ur;else{var _r=pr?ur+dr.top+dr.bottom:ur;fr.style.height=_r+"px"}this.resize()},cr.resize=function(){var ar=this._el,or=getStyle(ar),ur=this._flicking.useFractionalSize;this._width=getElementSize({el:ar,horizontal:!0,useFractionalSize:ur,useOffset:!1,style:or}),this._height=getElementSize({el:ar,horizontal:!1,useFractionalSize:ur,useOffset:!1,style:or}),this._padding={left:or.paddingLeft?parseFloat(or.paddingLeft):0,right:or.paddingRight?parseFloat(or.paddingRight):0,top:or.paddingTop?parseFloat(or.paddingTop):0,bottom:or.paddingBottom?parseFloat(or.paddingBottom):0},this._isBorderBoxSizing=or.boxSizing==="border-box"},lr}(),AutoResizer=function(){function lr(ar){var or=this;this._onResize=function(){var ur=or._flicking,fr=ur.resizeDebounce,dr=ur.maxResizeDebounce;fr<=0?ur.resize():(or._maxResizeDebounceTimer<=0&&dr>0&&dr>=fr&&(or._maxResizeDebounceTimer=window.setTimeout(or._doScheduledResize,dr)),or._resizeTimer>0&&(clearTimeout(or._resizeTimer),or._resizeTimer=0),or._resizeTimer=window.setTimeout(or._doScheduledResize,fr))},this._doScheduledResize=function(){clearTimeout(or._resizeTimer),clearTimeout(or._maxResizeDebounceTimer),or._maxResizeDebounceTimer=-1,or._resizeTimer=-1,or._flicking.resize()},this._skipFirstResize=function(){var ur=!0;return function(){if(ur){ur=!1;return}or._onResize()}}(),this._flicking=ar,this._enabled=!1,this._resizeObserver=null,this._resizeTimer=-1,this._maxResizeDebounceTimer=-1}var cr=lr.prototype;return Object.defineProperty(cr,"enabled",{get:function(){return this._enabled},enumerable:!1,configurable:!0}),cr.enable=function(){var ar=this._flicking,or=ar.viewport;if(this._enabled&&this.disable(),ar.useResizeObserver&&window.ResizeObserver){var ur=or.width!==0||or.height!==0,fr=ur?new ResizeObserver(this._skipFirstResize):new ResizeObserver(this._onResize);fr.observe(ar.viewport.element),this._resizeObserver=fr}else window.addEventListener("resize",this._onResize);return this._enabled=!0,this},cr.disable=function(){if(!this._enabled)return this;var ar=this._resizeObserver;return ar?(ar.disconnect(),this._resizeObserver=null):window.removeEventListener("resize",this._onResize),this._enabled=!1,this},lr}(),VanillaElementProvider=function(){function lr(ar){this._element=ar,this._rendered=!0}var cr=lr.prototype;return Object.defineProperty(cr,"element",{get:function(){return this._element},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"rendered",{get:function(){return this._rendered},enumerable:!1,configurable:!0}),cr.show=function(ar){var or=this.element,ur=ar.camera.element;or.parentElement!==ur&&(ur.appendChild(or),this._rendered=!0)},cr.hide=function(ar){var or=this.element,ur=ar.camera.element;or.parentElement===ur&&(ur.removeChild(or),this._rendered=!1)},lr}(),VirtualElementProvider=function(){function lr(ar){this._flicking=ar}var cr=lr.prototype;return Object.defineProperty(cr,"element",{get:function(){return this._virtualElement.nativeElement},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"rendered",{get:function(){return this._virtualElement.visible},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"_virtualElement",{get:function(){var ar=this._flicking,or=this._panel.elementIndex,ur=ar.virtual.elements;return ur[or]},enumerable:!1,configurable:!0}),cr.init=function(ar){this._panel=ar},cr.show=function(){},cr.hide=function(){},lr}(),VirtualManager=function(){function lr(ar,or){var ur,fr,dr,pr;this._flicking=ar,this._renderPanel=(ur=or==null?void 0:or.renderPanel)!==null&&ur!==void 0?ur:function(){return""},this._initialPanelCount=(fr=or==null?void 0:or.initialPanelCount)!==null&&fr!==void 0?fr:-1,this._cache=(dr=or==null?void 0:or.cache)!==null&&dr!==void 0?dr:!1,this._panelClass=(pr=or==null?void 0:or.panelClass)!==null&&pr!==void 0?pr:CLASS.DEFAULT_VIRTUAL,this._elements=[]}var cr=lr.prototype;return Object.defineProperty(cr,"elements",{get:function(){return this._elements},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"renderPanel",{get:function(){return this._renderPanel},set:function(ar){this._renderPanel=ar,this._flicking.renderer.panels.forEach(function(or){return or.uncacheRenderResult()})},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"initialPanelCount",{get:function(){return this._initialPanelCount},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"cache",{get:function(){return this._cache},set:function(ar){this._cache=ar},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"panelClass",{get:function(){return this._panelClass},set:function(ar){this._panelClass=ar},enumerable:!1,configurable:!0}),cr.init=function(){var ar=this._flicking;if(ar.virtualEnabled){!ar.externalRenderer&&!ar.renderExternal&&this._initVirtualElements();var or=ar.camera.children;this._elements=or.map(function(ur){return{nativeElement:ur,visible:!0}})}},cr.show=function(ar){var or=this._elements[ar],ur=or.nativeElement;or.visible=!0,ur.style.display&&(ur.style.display="")},cr.hide=function(ar){var or=this._elements[ar],ur=or.nativeElement;or.visible=!1,ur.style.display="none"},cr.append=function(ar){ar===void 0&&(ar=1);var or=this._flicking;return this.insert(or.panels.length,ar)},cr.prepend=function(ar){return ar===void 0&&(ar=1),this.insert(0,ar)},cr.insert=function(ar,or){if(or===void 0&&(or=1),or<=0)return[];var ur=this._flicking;return ur.renderer.batchInsert({index:ar,elements:range(or),hasDOMInElements:!1})},cr.remove=function(ar,or){if(or<=0)return[];var ur=this._flicking;return ur.renderer.batchRemove({index:ar,deleteCount:or,hasDOMInElements:!1})},cr._initVirtualElements=function(){var ar=this,or=this._flicking,ur=or.camera.element,fr=or.panelsPerView,dr=document.createDocumentFragment(),pr=range(fr+1).map(function(br){var _r=document.createElement("div");return _r.className=ar._panelClass,_r.dataset.elementIndex=br.toString(),_r});pr.forEach(function(br){dr.appendChild(br)}),ur.appendChild(dr)},lr}(),EVENT={HOLD:"hold",CHANGE:"change",RELEASE:"release",ANIMATION_END:"animationEnd",FINISH:"finish"},POSITION_KEY="flick",STATE_TYPE;(function(lr){lr[lr.IDLE=0]="IDLE",lr[lr.HOLDING=1]="HOLDING",lr[lr.DRAGGING=2]="DRAGGING",lr[lr.ANIMATING=3]="ANIMATING",lr[lr.DISABLED=4]="DISABLED"})(STATE_TYPE||(STATE_TYPE={}));var State=function(){function lr(){this._delta=0,this._targetPanel=null}var cr=lr.prototype;return Object.defineProperty(cr,"delta",{get:function(){return this._delta},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"targetPanel",{get:function(){return this._targetPanel},set:function(ar){this._targetPanel=ar},enumerable:!1,configurable:!0}),cr.onEnter=function(ar){this._delta=ar._delta,this._targetPanel=ar._targetPanel},cr.onHold=function(ar){},cr.onChange=function(ar){},cr.onRelease=function(ar){},cr.onAnimationEnd=function(ar){},cr.onFinish=function(ar){},cr._moveToChangedPosition=function(ar){var or=ar.flicking,ur=ar.axesEvent,fr=ar.transitTo,dr=ur.delta[POSITION_KEY];if(dr){this._delta+=dr;var pr=or.camera,br=pr.position,_r=ur.pos[POSITION_KEY],yr=or.circularEnabled?circulatePosition(_r,pr.range.min,pr.range.max):_r;pr.lookAt(yr);var mr=new ComponentEvent$1(EVENTS.MOVE,{isTrusted:ur.isTrusted,holding:this.holding,direction:getDirection(0,ur.delta[POSITION_KEY]),axesEvent:ur});or.trigger(mr),mr.isCanceled()&&(pr.lookAt(br),fr(STATE_TYPE.DISABLED))}},lr}(),IdleState=function(lr){__extends(cr,lr);function cr(){var or=lr!==null&&lr.apply(this,arguments)||this;return or.holding=!1,or.animating=!1,or}var ar=cr.prototype;return ar.onEnter=function(){this._delta=0,this._targetPanel=null},ar.onHold=function(or){var ur=or.flicking,fr=or.axesEvent,dr=or.transitTo;if(ur.renderer.panelCount<=0){dr(STATE_TYPE.DISABLED);return}var pr=new ComponentEvent$1(EVENTS.HOLD_START,{axesEvent:fr});ur.trigger(pr),pr.isCanceled()?dr(STATE_TYPE.DISABLED):dr(STATE_TYPE.HOLDING)},ar.onChange=function(or){var ur=or.flicking,fr=or.axesEvent,dr=or.transitTo,pr=ur.control.controller,br=pr.animatingContext,_r=new ComponentEvent$1(EVENTS.MOVE_START,{isTrusted:fr.isTrusted,holding:this.holding,direction:getDirection(br.start,br.end),axesEvent:fr});ur.trigger(_r),_r.isCanceled()?dr(STATE_TYPE.DISABLED):dr(STATE_TYPE.ANIMATING).onChange(or)},cr}(State),HoldingState=function(lr){__extends(cr,lr);function cr(){var or=lr!==null&&lr.apply(this,arguments)||this;return or.holding=!0,or.animating=!1,or._releaseEvent=null,or}var ar=cr.prototype;return ar.onChange=function(or){var ur=or.flicking,fr=or.axesEvent,dr=or.transitTo,pr=fr.inputEvent,br=ur.horizontal?pr.offsetX:pr.offsetY,_r=new ComponentEvent$1(EVENTS.MOVE_START,{isTrusted:fr.isTrusted,holding:this.holding,direction:getDirection(0,-br),axesEvent:fr});ur.trigger(_r),_r.isCanceled()?dr(STATE_TYPE.DISABLED):dr(STATE_TYPE.DRAGGING).onChange(or)},ar.onRelease=function(or){var ur=or.flicking,fr=or.axesEvent,dr=or.transitTo;if(ur.trigger(new ComponentEvent$1(EVENTS.HOLD_END,{axesEvent:fr})),fr.delta.flick!==0){fr.setTo({flick:ur.camera.position},0),dr(STATE_TYPE.IDLE);return}this._releaseEvent=fr},ar.onFinish=function(or){var ur,fr,dr=or.flicking,pr=or.transitTo;if(pr(STATE_TYPE.IDLE),!!this._releaseEvent){var br=this._releaseEvent,_r=br.inputEvent.srcEvent,yr;if(_r.type==="touchend"){var mr=_r,Er=mr.changedTouches[0];yr=document.elementFromPoint(Er.clientX,Er.clientY)}else yr=_r.target;var gr=dr.renderer.panels,Ir=null;try{for(var Ar=__values(gr),kr=Ar.next();!kr.done;kr=Ar.next()){var Or=kr.value;if(Or.contains(yr)){Ir=Or;break}}}catch(Fr){ur={error:Fr}}finally{try{kr&&!kr.done&&(fr=Ar.return)&&fr.call(Ar)}finally{if(ur)throw ur.error}}if(Ir){var Dr=dr.camera.position,Rr=Ir.position;dr.trigger(new ComponentEvent$1(EVENTS.SELECT,{index:Ir.index,panel:Ir,direction:getDirection(Dr,Rr)}))}}},cr}(State),DraggingState=function(lr){__extends(cr,lr);function cr(){var or=lr!==null&&lr.apply(this,arguments)||this;return or.holding=!0,or.animating=!0,or}var ar=cr.prototype;return ar.onChange=function(or){this._moveToChangedPosition(or)},ar.onRelease=function(or){var ur,fr=or.flicking,dr=or.axesEvent,pr=or.transitTo;if(fr.trigger(new ComponentEvent$1(EVENTS.HOLD_END,{axesEvent:dr})),fr.renderer.panelCount<=0){pr(STATE_TYPE.IDLE);return}pr(STATE_TYPE.ANIMATING);var br=fr.control,_r=dr.destPos[POSITION_KEY],yr=Math.max(dr.duration,fr.duration);try{br.moveToPosition(_r,yr,dr)}catch{pr(STATE_TYPE.IDLE),dr.setTo((ur={},ur[POSITION_KEY]=fr.camera.position,ur),0)}},cr}(State),AnimatingState=function(lr){__extends(cr,lr);function cr(){var or=lr!==null&&lr.apply(this,arguments)||this;return or.holding=!1,or.animating=!0,or}var ar=cr.prototype;return ar.onHold=function(or){var ur=or.flicking,fr=or.axesEvent,dr=or.transitTo,pr=this._targetPanel,br=ur.control;this._delta=0,ur.control.updateInput(),ur.changeOnHold&&pr&&br.setActive(pr,br.activePanel,fr.isTrusted);var _r=new ComponentEvent$1(EVENTS.HOLD_START,{axesEvent:fr});ur.trigger(_r),_r.isCanceled()?dr(STATE_TYPE.DISABLED):dr(STATE_TYPE.DRAGGING)},ar.onChange=function(or){this._moveToChangedPosition(or)},ar.onFinish=function(or){var ur=or.flicking,fr=or.axesEvent,dr=or.transitTo,pr=ur.control,br=pr.controller,_r=br.animatingContext;dr(STATE_TYPE.IDLE),ur.trigger(new ComponentEvent$1(EVENTS.MOVE_END,{isTrusted:fr.isTrusted,direction:getDirection(_r.start,_r.end),axesEvent:fr}));var yr=this._targetPanel;yr&&pr.setActive(yr,pr.activePanel,fr.isTrusted)},cr}(State),DisabledState=function(lr){__extends(cr,lr);function cr(){var or=lr!==null&&lr.apply(this,arguments)||this;return or.holding=!1,or.animating=!0,or}var ar=cr.prototype;return ar.onAnimationEnd=function(or){var ur=or.transitTo;ur(STATE_TYPE.IDLE)},ar.onChange=function(or){var ur=or.axesEvent,fr=or.transitTo;ur.stop(),fr(STATE_TYPE.IDLE)},ar.onRelease=function(or){var ur=or.axesEvent,fr=or.transitTo;ur.delta.flick===0&&fr(STATE_TYPE.IDLE)},cr}(State),StateMachine=function(){function lr(){var ar=this;this.transitTo=function(or){var ur;switch(or){case STATE_TYPE.IDLE:ur=new IdleState;break;case STATE_TYPE.HOLDING:ur=new HoldingState;break;case STATE_TYPE.DRAGGING:ur=new DraggingState;break;case STATE_TYPE.ANIMATING:ur=new AnimatingState;break;case STATE_TYPE.DISABLED:ur=new DisabledState;break}return ur.onEnter(ar._state),ar._state=ur,ar._state},this._state=new IdleState}var cr=lr.prototype;return Object.defineProperty(cr,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),cr.fire=function(ar,or){var ur=this._state,fr=__assign(__assign({},or),{transitTo:this.transitTo});switch(ar){case EVENT.HOLD:ur.onHold(fr);break;case EVENT.CHANGE:ur.onChange(fr);break;case EVENT.RELEASE:ur.onRelease(fr);break;case EVENT.ANIMATION_END:ur.onAnimationEnd(fr);break;case EVENT.FINISH:ur.onFinish(fr);break}},lr}(),AxesController=function(){function lr(){var ar=this;this._onAxesHold=function(){ar._dragged=!1},this._onAxesChange=function(){var or;ar._dragged=!!(!((or=ar._panInput)===null||or===void 0)&&or.isEnabled())},this._preventClickWhenDragged=function(or){ar._dragged&&(or.preventDefault(),or.stopPropagation()),ar._dragged=!1},this._resetInternalValues(),this._stateMachine=new StateMachine}var cr=lr.prototype;return Object.defineProperty(cr,"axes",{get:function(){return this._axes},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"panInput",{get:function(){return this._panInput},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"stateMachine",{get:function(){return this._stateMachine},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"state",{get:function(){return this._stateMachine.state},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"animatingContext",{get:function(){return this._animatingContext},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"controlParams",{get:function(){var ar=this._axes;if(!ar)return{range:{min:0,max:0},position:0,circular:!1};var or=ar.axis[POSITION_KEY];return{range:{min:or.range[0],max:or.range[1]},circular:or.circular[0],position:this.position}},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"enabled",{get:function(){var ar,or;return(or=(ar=this._panInput)===null||ar===void 0?void 0:ar.isEnabled())!==null&&or!==void 0?or:!1},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"position",{get:function(){var ar,or;return(or=(ar=this._axes)===null||ar===void 0?void 0:ar.get([POSITION_KEY])[POSITION_KEY])!==null&&or!==void 0?or:0},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"range",{get:function(){var ar,or;return(or=(ar=this._axes)===null||ar===void 0?void 0:ar.axis[POSITION_KEY].range)!==null&&or!==void 0?or:[0,0]},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"bounce",{get:function(){var ar;return(ar=this._axes)===null||ar===void 0?void 0:ar.axis[POSITION_KEY].bounce},enumerable:!1,configurable:!0}),cr.init=function(ar){var or,ur=this;this._flicking=ar,this._axes=new Axes$1((or={},or[POSITION_KEY]={range:[0,0],circular:!1,bounce:[0,0]},or),{deceleration:ar.deceleration,interruptable:ar.interruptable,nested:ar.nested,easing:ar.easing}),this._panInput=new PanInput(ar.viewport.element,{inputType:ar.inputType,threshold:1,iOSEdgeSwipeThreshold:ar.iOSEdgeSwipeThreshold,preventDefaultOnDrag:ar.preventDefaultOnDrag,scale:ar.horizontal?[ar.camera.panelOrder===ORDER.RTL?1:-1,0]:[0,-1],releaseOnScroll:!0});var fr=this._axes;fr.connect(ar.horizontal?[POSITION_KEY,""]:["",POSITION_KEY],this._panInput);var dr=function(br){var _r=EVENT[br];fr.on(_r,function(yr){ur._stateMachine.fire(_r,{flicking:ar,axesEvent:yr})})};for(var pr in EVENT)dr(pr);return this},cr.destroy=function(){var ar;this._axes&&(this.removePreventClickHandler(),this._axes.destroy()),(ar=this._panInput)===null||ar===void 0||ar.destroy(),this._resetInternalValues()},cr.enable=function(){var ar;return(ar=this._panInput)===null||ar===void 0||ar.enable(),this},cr.disable=function(){var ar;return(ar=this._panInput)===null||ar===void 0||ar.disable(),this},cr.release=function(){var ar;return(ar=this._panInput)===null||ar===void 0||ar.release(),this},cr.updateAnimation=function(ar,or){var ur,fr;return this._animatingContext=__assign(__assign({},this._animatingContext),{end:ar}),(fr=this._axes)===null||fr===void 0||fr.updateAnimation({destPos:(ur={},ur[POSITION_KEY]=ar,ur),duration:or}),this},cr.stopAnimation=function(){var ar;return(ar=this._axes)===null||ar===void 0||ar.stopAnimation(),this},cr.update=function(ar){var or,ur=getFlickingAttached(this._flicking),fr=ur.camera,dr=this._axes,pr=dr.axis[POSITION_KEY];return pr.circular=[ar.circular,ar.circular],pr.range=[ar.range.min,ar.range.max],pr.bounce=parseBounce(ur.bounce,fr.size),dr.axisManager.set((or={},or[POSITION_KEY]=ar.position,or)),this},cr.addPreventClickHandler=function(){var ar=getFlickingAttached(this._flicking),or=this._axes,ur=ar.camera.element;return or.on(EVENT.HOLD,this._onAxesHold),or.on(EVENT.CHANGE,this._onAxesChange),ur.addEventListener("click",this._preventClickWhenDragged,!0),this},cr.removePreventClickHandler=function(){var ar=getFlickingAttached(this._flicking),or=this._axes,ur=ar.camera.element;return or.off(EVENT.HOLD,this._onAxesHold),or.off(EVENT.CHANGE,this._onAxesChange),ur.removeEventListener("click",this._preventClickWhenDragged,!0),this},cr.animateTo=function(ar,or,ur){var fr=this,dr,pr=this._axes,br=this._stateMachine.state;if(!pr)return Promise.reject(new FlickingError(MESSAGE.NOT_ATTACHED_TO_FLICKING,CODE.NOT_ATTACHED_TO_FLICKING));var _r=pr.get([POSITION_KEY])[POSITION_KEY];if(_r===ar){var yr=getFlickingAttached(this._flicking);return yr.camera.lookAt(ar),br.targetPanel&&yr.control.setActive(br.targetPanel,yr.control.activePanel,(dr=ur==null?void 0:ur.isTrusted)!==null&&dr!==void 0?dr:!1),Promise.resolve()}this._animatingContext={start:_r,end:ar,offset:0};var mr=function(){var Er,gr,Ir=function(){fr._animatingContext={start:0,end:0,offset:0}};pr.once(EVENT.FINISH,Ir),ur?ur.setTo((Er={},Er[POSITION_KEY]=ar,Er),or):pr.setTo((gr={},gr[POSITION_KEY]=ar,gr),or)};return new Promise(function(Er,gr){var Ir=function(){pr.off(EVENT.HOLD,Ar),Er()},Ar=function(){pr.off(EVENT.FINISH,Ir),gr(new FlickingError(MESSAGE.ANIMATION_INTERRUPTED,CODE.ANIMATION_INTERRUPTED))};pr.once(EVENT.FINISH,Ir),pr.once(EVENT.HOLD,Ar),mr()})},cr.updateDirection=function(){var ar=getFlickingAttached(this._flicking),or=this._axes,ur=this._panInput;or.disconnect(ur),or.connect(ar.horizontal?[POSITION_KEY,""]:["",POSITION_KEY],ur),ur.options.scale=ar.horizontal?[ar.camera.panelOrder===ORDER.RTL?1:-1,0]:[0,-1]},cr._resetInternalValues=function(){this._flicking=null,this._axes=null,this._panInput=null,this._animatingContext={start:0,end:0,offset:0},this._dragged=!1},lr}(),Control=function(){function lr(){this._flicking=null,this._controller=new AxesController,this._activePanel=null}var cr=lr.prototype;return Object.defineProperty(cr,"controller",{get:function(){return this._controller},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"activeIndex",{get:function(){var ar,or;return(or=(ar=this._activePanel)===null||ar===void 0?void 0:ar.index)!==null&&or!==void 0?or:-1},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"activePanel",{get:function(){return this._activePanel},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"animating",{get:function(){return this._controller.state.animating},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"holding",{get:function(){return this._controller.state.holding},enumerable:!1,configurable:!0}),cr.init=function(ar){return this._flicking=ar,this._controller.init(ar),this},cr.destroy=function(){this._controller.destroy(),this._flicking=null,this._activePanel=null},cr.enable=function(){return this._controller.enable(),this},cr.disable=function(){return this._controller.disable(),this},cr.release=function(){return this._controller.release(),this},cr.updateAnimation=function(ar,or,ur){var fr=this._controller.state,dr=this._getPosition(ar,ur??DIRECTION.NONE);return fr.targetPanel=ar,this._controller.updateAnimation(dr,or),this},cr.stopAnimation=function(){var ar=this._controller.state;return ar.targetPanel=null,this._controller.stopAnimation(),this},cr.updatePosition=function(ar){var or=getFlickingAttached(this._flicking),ur=or.camera,fr=this._activePanel;fr&&ur.lookAt(ur.clampToReachablePosition(fr.position))},cr.updateInput=function(){var ar=getFlickingAttached(this._flicking),or=ar.camera;return this._controller.update(or.controlParams),this},cr.resetActive=function(){return this._activePanel=null,this},cr.moveToPanel=function(ar,or){var ur=or.duration,fr=or.direction,dr=fr===void 0?DIRECTION.NONE:fr,pr=or.axesEvent;return __awaiter(this,void 0,void 0,function(){var br;return __generator(this,function(_r){return br=this._getPosition(ar,dr),this._triggerIndexChangeEvent(ar,ar.position,pr,dr),[2,this._animateToPosition({position:br,duration:ur,newActivePanel:ar,axesEvent:pr})]})})},cr.setActive=function(ar,or,ur){var fr,dr=getFlickingAttached(this._flicking);this._activePanel=ar,this._nextPanel=null,dr.camera.updateAdaptiveHeight(),ar!==or?dr.trigger(new ComponentEvent$1(EVENTS.CHANGED,{index:ar.index,panel:ar,prevIndex:(fr=or==null?void 0:or.index)!==null&&fr!==void 0?fr:-1,prevPanel:or,isTrusted:ur,direction:or?getDirection(or.position,ar.position):DIRECTION.NONE})):dr.trigger(new ComponentEvent$1(EVENTS.RESTORED,{isTrusted:ur}))},cr.copy=function(ar){this._flicking=ar._flicking,this._activePanel=ar._activePanel,this._controller=ar._controller},cr._triggerIndexChangeEvent=function(ar,or,ur,fr){var dr,pr=getFlickingAttached(this._flicking),br=ar!==this._activePanel?EVENTS.WILL_CHANGE:EVENTS.WILL_RESTORE,_r=pr.camera,yr=this._activePanel,mr=new ComponentEvent$1(br,{index:ar.index,panel:ar,isTrusted:(ur==null?void 0:ur.isTrusted)||!1,direction:fr??getDirection((dr=yr==null?void 0:yr.position)!==null&&dr!==void 0?dr:_r.position,or)});if(this._nextPanel=ar,pr.trigger(mr),mr.isCanceled())throw new FlickingError(MESSAGE.STOP_CALLED_BY_USER,CODE.STOP_CALLED_BY_USER)},cr._animateToPosition=function(ar){var or=ar.position,ur=ar.duration,fr=ar.newActivePanel,dr=ar.axesEvent;return __awaiter(this,void 0,void 0,function(){var pr,br,_r,yr=this;return __generator(this,function(mr){return pr=getFlickingAttached(this._flicking),br=function(){return yr._controller.animateTo(or,ur,dr)},_r=this._controller.state,_r.targetPanel=fr,ur<=0?[2,br()]:[2,br().then(function(){return __awaiter(yr,void 0,void 0,function(){return __generator(this,function(Er){switch(Er.label){case 0:return[4,pr.renderer.render()];case 1:return Er.sent(),[2]}})})}).catch(function(Er){if(!(dr&&Er instanceof FlickingError&&Er.code===CODE.ANIMATION_INTERRUPTED))throw Er})]})})},cr._getPosition=function(ar,or){or===void 0&&(or=DIRECTION.NONE);var ur=getFlickingAttached(this._flicking),fr=ur.camera,dr=ar.position,pr=fr.findNearestAnchor(dr);if(ar.removed||!pr)throw new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(ar.position),CODE.POSITION_NOT_REACHABLE);if(!fr.canReach(ar))dr=pr.position,ar=pr.panel;else if(ur.circularEnabled){var br=this._controller.position,_r=fr.rangeDiff,yr=[dr,dr+_r,dr-_r].filter(function(mr){return or===DIRECTION.NONE?!0:or===DIRECTION.PREV?mr<=br:mr>=br});dr=yr.reduce(function(mr,Er){return Math.abs(br-Er)<Math.abs(br-mr)?Er:mr},1/0)}return dr},lr}(),AnchorPoint=function(){function lr(ar){var or=ar.index,ur=ar.position,fr=ar.panel;this._index=or,this._pos=ur,this._panel=fr}var cr=lr.prototype;return Object.defineProperty(cr,"index",{get:function(){return this._index},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"position",{get:function(){return this._pos},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"panel",{get:function(){return this._panel},enumerable:!1,configurable:!0}),lr}(),SnapControl=function(lr){__extends(cr,lr);function cr(or){var ur=(or===void 0?{}:or).count,fr=ur===void 0?1/0:ur,dr=lr.call(this)||this;return dr._count=fr,dr}var ar=cr.prototype;return Object.defineProperty(ar,"count",{get:function(){return this._count},set:function(or){this._count=or},enumerable:!1,configurable:!0}),ar.moveToPosition=function(or,ur,fr){var dr=getFlickingAttached(this._flicking),pr=dr.camera,br=pr.findActiveAnchor(),_r=pr.findNearestAnchor(pr.position),yr=this._controller.state;if(!br||!_r)return Promise.reject(new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(or),CODE.POSITION_NOT_REACHABLE));var mr=this._calcSnapThreshold(dr.threshold,or,br),Er=dr.animating?yr.delta:or-pr.position,gr=Math.abs(Er),Ir=fr&&fr.delta[POSITION_KEY]!==0?Math.abs(fr.delta[POSITION_KEY]):gr,Ar;if(Ir>=mr&&Ir>0)Ar=this._findSnappedAnchor(or,_r);else if(gr>=dr.threshold&&gr>0)Ar=this._findAdjacentAnchor(or,Er,_r);else return this.moveToPanel(_r.panel,{duration:ur,axesEvent:fr});return this._triggerIndexChangeEvent(Ar.panel,or,fr),this._animateToPosition({position:pr.clampToReachablePosition(Ar.position),duration:ur,newActivePanel:Ar.panel,axesEvent:fr})},ar._findSnappedAnchor=function(or,ur){var fr=getFlickingAttached(this._flicking),dr=fr.camera,pr=this._count,br=dr.position,_r=dr.clampToReachablePosition(or),yr=dr.findAnchorIncludePosition(_r);if(!ur||!yr)throw new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(or),CODE.POSITION_NOT_REACHABLE);if(!isFinite(pr))return yr;var mr=fr.panelCount,Er=dr.anchorPoints,gr=Math.sign(or-br)*Math.floor(Math.abs(or-br)/dr.rangeDiff);or>br&&yr.index<ur.index||yr.position>ur.position&&yr.index===ur.index?gr+=1:(or<br&&yr.index>ur.index||yr.position<ur.position&&yr.index===ur.index)&&(gr-=1);var Ir=gr*mr,Ar=yr.index+Ir;if(Math.abs(Ar-ur.index)<=pr){var kr=Er[yr.index];return new AnchorPoint({index:kr.index,position:kr.position+gr*dr.rangeDiff,panel:kr.panel})}if(fr.circularEnabled){var Or=Er[circulateIndex(ur.index+Math.sign(or-br)*pr,mr)],Dr=Math.floor(pr/mr);return or>br&&Or.index<ur.index?Dr+=1:or<br&&Or.index>ur.index&&(Dr-=1),new AnchorPoint({index:Or.index,position:Or.position+Dr*dr.rangeDiff,panel:Or.panel})}else return Er[clamp(ur.index+Math.sign(or-br)*pr,0,Er.length-1)]},ar._findAdjacentAnchor=function(or,ur,fr){var dr,pr=getFlickingAttached(this._flicking),br=pr.camera;if(br.circularEnabled){var _r=br.findAnchorIncludePosition(or);if(_r&&_r.position!==fr.position)return _r}var yr=(dr=ur>0?br.getNextAnchor(fr):br.getPrevAnchor(fr))!==null&&dr!==void 0?dr:fr;return yr},ar._calcSnapThreshold=function(or,ur,fr){var dr=ur>fr.position,pr=fr.panel,br=pr.size,_r=pr.alignPosition;return Math.max(or,dr?br-_r+pr.margin.next:_r+pr.margin.prev)},cr}(Control),FreeControl=function(lr){__extends(cr,lr);function cr(or){var ur=(or===void 0?{}:or).stopAtEdge,fr=ur===void 0?!0:ur,dr=lr.call(this)||this;return dr._stopAtEdge=fr,dr}var ar=cr.prototype;return Object.defineProperty(ar,"stopAtEdge",{get:function(){return this._stopAtEdge},set:function(or){this._stopAtEdge=or},enumerable:!1,configurable:!0}),ar.updatePosition=function(or){var ur=getFlickingAttached(this._flicking),fr=ur.camera,dr=this._activePanel;if(dr){var pr=dr.range,br=pr.min+(pr.max-pr.min)*or;fr.lookAt(fr.clampToReachablePosition(br))}},ar.moveToPosition=function(or,ur,fr){var dr=getFlickingAttached(this._flicking),pr=dr.camera,br=pr.clampToReachablePosition(or),_r=pr.findAnchorIncludePosition(br);if(!_r)return Promise.reject(new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(or),CODE.POSITION_NOT_REACHABLE));var yr=_r.panel;return yr!==this._activePanel&&this._triggerIndexChangeEvent(yr,or,fr),this._animateToPosition({position:this._stopAtEdge?br:or,duration:ur,newActivePanel:yr,axesEvent:fr})},cr}(Control),StrictControl=function(lr){__extends(cr,lr);function cr(or){var ur=(or===void 0?{}:or).count,fr=ur===void 0?1:ur,dr=lr.call(this)||this;return dr.setActive=function(pr,br,_r){lr.prototype.setActive.call(dr,pr,br,_r),dr.updateInput()},dr._count=fr,dr._resetIndexRange(),dr}var ar=cr.prototype;return Object.defineProperty(ar,"count",{get:function(){return this._count},set:function(or){this._count=or},enumerable:!1,configurable:!0}),ar.destroy=function(){lr.prototype.destroy.call(this),this._resetIndexRange()},ar.updateInput=function(){var or,ur=getFlickingAttached(this._flicking),fr=ur.camera,dr=ur.renderer,pr=this._controller,br=fr.controlParams,_r=this._count,yr=pr.state.animating?(or=fr.findNearestAnchor(fr.position))===null||or===void 0?void 0:or.panel:this._activePanel;if(!yr)return pr.update(br),this._resetIndexRange(),this;var mr=br.range,Er=yr.position,gr=yr.index,Ir=dr.panelCount,Ar=gr-_r,kr=gr+_r;Ar<0&&(Ar=ur.circularEnabled?getMinusCompensatedIndex((Ar+1)%Ir-1,Ir):clamp(Ar,0,Ir-1)),kr>=Ir&&(kr=ur.circularEnabled?kr%Ir:clamp(kr,0,Ir-1));var Or=dr.panels[Ar],Dr=dr.panels[kr],Rr=Math.max(Or.position,mr.min),Fr=Math.min(Dr.position,mr.max);return Rr>Er&&(Rr-=fr.rangeDiff),Fr<Er&&(Fr+=fr.rangeDiff),br.range={min:Rr,max:Fr},br.circular&&(br.position<Rr&&(br.position+=fr.rangeDiff),br.position>Fr&&(br.position-=fr.rangeDiff)),br.circular=!1,pr.update(br),this._indexRange={min:Or.index,max:Dr.index},this},ar.moveToPanel=function(or,ur){return __awaiter(this,void 0,void 0,function(){var fr,dr,pr;return __generator(this,function(br){return fr=getFlickingAttached(this._flicking),dr=fr.camera,pr=this._controller,pr.update(dr.controlParams),[2,lr.prototype.moveToPanel.call(this,or,ur)]})})},ar.moveToPosition=function(or,ur,fr){var dr,pr=getFlickingAttached(this._flicking),br=pr.camera,_r=(dr=this._nextPanel)!==null&&dr!==void 0?dr:this._activePanel,yr=this._controller.range,mr=this._indexRange,Er=br.range,gr=this._controller.state,Ir=clamp(br.clampToReachablePosition(or),yr[0],yr[1]),Ar=br.findAnchorIncludePosition(Ir);if(!Ar||!_r)return Promise.reject(new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(or),CODE.POSITION_NOT_REACHABLE));var kr=_r.position,Or=pr.animating?gr.delta:or-br.position,Dr=Math.abs(Or)>=pr.threshold,Rr=or>kr?br.getNextAnchor(Ar):br.getPrevAnchor(Ar),Fr,Nr,Hr=br.anchorPoints,Ur=Hr[0],Zr=Hr[Hr.length-1],Gr=or<=Er.min&&isBetween(Ur.panel.index,mr.min,mr.max),jr=or>=Er.max&&isBetween(Zr.panel.index,mr.min,mr.max),Jr=Rr&&(mr.min<=mr.max?isBetween(Rr.index,mr.min,mr.max):Rr.index>=mr.min||Rr.index<=mr.max);if(Gr||jr){var Wr=or<Er.min?Ur:Zr;Nr=Wr.panel,Fr=Wr.position}else if(Dr&&Ar.position!==_r.position)Nr=Ar.panel,Fr=Ar.position;else if(Dr&&Jr)Nr=Rr.panel,Fr=Rr.position;else{var ni=br.findNearestAnchor(br.position);return ni?this.moveToPanel(ni.panel,{duration:ur,axesEvent:fr}):Promise.reject(new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(or),CODE.POSITION_NOT_REACHABLE))}return this._triggerIndexChangeEvent(Nr,or,fr),this._animateToPosition({position:Fr,duration:ur,newActivePanel:Nr,axesEvent:fr})},ar._resetIndexRange=function(){this._indexRange={min:0,max:0}},cr}(Control),CameraMode=function(){function lr(ar){this._flicking=ar}var cr=lr.prototype;return cr.getAnchors=function(){var ar=this._flicking.renderer.panels;return ar.map(function(or,ur){return new AnchorPoint({index:ur,position:or.position,panel:or})})},cr.findAnchorIncludePosition=function(ar){var or=this._flicking.camera.anchorPoints,ur=or.filter(function(fr){return fr.panel.includePosition(ar,!0)});return ur.reduce(function(fr,dr){return fr&&Math.abs(fr.position-ar)<Math.abs(dr.position-ar)?fr:dr},null)},cr.findNearestAnchor=function(ar){var or=this._flicking.camera.anchorPoints;if(or.length<=0)return null;for(var ur=1/0,fr=0;fr<or.length;fr++){var dr=or[fr],pr=Math.abs(dr.position-ar);if(pr>ur)return or[fr-1];ur=pr}return or[or.length-1]},cr.clampToReachablePosition=function(ar){var or=this._flicking.camera,ur=or.range;return clamp(ar,ur.min,ur.max)},cr.getCircularOffset=function(){return 0},cr.canReach=function(ar){var or=this._flicking.camera,ur=or.range;if(ar.removed)return!1;var fr=ar.position;return fr>=ur.min&&fr<=ur.max},cr.canSee=function(ar){var or=this._flicking.camera,ur=or.visibleRange;return ar.isVisibleOnRange(ur.min,ur.max)},lr}(),LinearCameraMode=function(lr){__extends(cr,lr);function cr(){return lr!==null&&lr.apply(this,arguments)||this}var ar=cr.prototype;return ar.checkAvailability=function(){return!0},ar.getRange=function(){var or,ur,fr=this._flicking.renderer,dr=fr.getPanel(0),pr=fr.getPanel(fr.panelCount-1);return{min:(or=dr==null?void 0:dr.position)!==null&&or!==void 0?or:0,max:(ur=pr==null?void 0:pr.position)!==null&&ur!==void 0?ur:0}},cr}(CameraMode),CircularCameraMode=function(lr){__extends(cr,lr);function cr(){return lr!==null&&lr.apply(this,arguments)||this}var ar=cr.prototype;return ar.checkAvailability=function(){var or=this._flicking,ur=or.renderer,fr=ur.panels;if(fr.length<=0)return!1;var dr=fr[0],pr=fr[fr.length-1],br=dr.range.min-dr.margin.prev,_r=pr.range.max+pr.margin.next,yr=or.camera.size,mr=_r-br,Er=fr.every(function(gr){return mr-gr.size>=yr});return Er},ar.getRange=function(){var or=this._flicking,ur=or.renderer.panels;if(ur.length<=0)return{min:0,max:0};var fr=ur[0],dr=ur[ur.length-1],pr=fr.range.min-fr.margin.prev,br=dr.range.max+dr.margin.next;return{min:pr,max:br}},ar.getAnchors=function(){var or=this._flicking,ur=or.renderer.panels;return ur.map(function(fr,dr){return new AnchorPoint({index:dr,position:fr.position,panel:fr})})},ar.findNearestAnchor=function(or){var ur=this._flicking.camera,fr=ur.anchorPoints;if(fr.length<=0)return null;for(var dr=ur.range,pr=1/0,br=-1,_r=0;_r<fr.length;_r++){var yr=fr[_r],mr=Math.min(Math.abs(yr.position-or),Math.abs(yr.position-dr.min+dr.max-or),Math.abs(or-dr.min+dr.max-yr.position));mr<pr&&(pr=mr,br=_r)}return fr[br]},ar.findAnchorIncludePosition=function(or){var ur=this._flicking.camera,fr=ur.range,dr=ur.anchorPoints,pr=ur.rangeDiff,br=dr.length,_r=circulatePosition(or,fr.min,fr.max),yr=lr.prototype.findAnchorIncludePosition.call(this,_r);if(br>0&&(or===fr.min||or===fr.max)){var mr=[yr,new AnchorPoint({index:0,position:dr[0].position+pr,panel:dr[0].panel}),new AnchorPoint({index:br-1,position:dr[br-1].position-pr,panel:dr[br-1].panel})].filter(function(gr){return!!gr});yr=mr.reduce(function(gr,Ir){return gr&&Math.abs(gr.position-or)<Math.abs(Ir.position-or)?gr:Ir},null)}if(!yr)return null;if(or<fr.min){var Er=-Math.floor((fr.min-or)/pr)-1;return new AnchorPoint({index:yr.index,position:yr.position+pr*Er,panel:yr.panel})}else if(or>fr.max){var Er=Math.floor((or-fr.max)/pr)+1;return new AnchorPoint({index:yr.index,position:yr.position+pr*Er,panel:yr.panel})}return yr},ar.getCircularOffset=function(){var or=this._flicking,ur=or.camera;if(!ur.circularEnabled)return 0;var fr=or.panels.filter(function(br){return br.toggled}),dr=fr.filter(function(br){return br.toggleDirection===DIRECTION.PREV}),pr=fr.filter(function(br){return br.toggleDirection===DIRECTION.NEXT});return this._calcPanelAreaSum(dr)-this._calcPanelAreaSum(pr)},ar.clampToReachablePosition=function(or){return or},ar.canReach=function(or){return!or.removed},ar.canSee=function(or){var ur=this._flicking.camera,fr=ur.range,dr=ur.rangeDiff,pr=ur.visibleRange,br=lr.prototype.canSee.call(this,or);return pr.min<fr.min?br||or.isVisibleOnRange(pr.min+dr,pr.max+dr):pr.max>fr.max?br||or.isVisibleOnRange(pr.min-dr,pr.max-dr):br},ar._calcPanelAreaSum=function(or){return or.reduce(function(ur,fr){return ur+fr.sizeIncludingMargin},0)},cr}(CameraMode),BoundCameraMode=function(lr){__extends(cr,lr);function cr(){return lr!==null&&lr.apply(this,arguments)||this}var ar=cr.prototype;return ar.checkAvailability=function(){var or=this._flicking,ur=or.renderer,fr=ur.getPanel(0),dr=ur.getPanel(ur.panelCount-1);if(!fr||!dr)return!1;var pr=or.camera.size,br=fr.range.min,_r=dr.range.max,yr=_r-br,mr=pr<yr;return mr},ar.getRange=function(){var or=this._flicking,ur=or.renderer,fr=or.camera.alignPosition,dr=ur.getPanel(0),pr=ur.getPanel(ur.panelCount-1);if(!dr||!pr)return{min:0,max:0};var br=or.camera.size,_r=dr.range.min,yr=pr.range.max,mr=yr-_r,Er=br<mr,gr=_r+fr,Ir=yr-br+fr;if(Er)return{min:gr,max:Ir};var Ar=or.camera.align,kr=typeof Ar=="object"?Ar.camera:Ar,Or=gr+parseAlign$1(kr,Ir-gr);return{min:Or,max:Or}},ar.getAnchors=function(){var or=this._flicking,ur=or.camera,fr=or.renderer.panels;if(fr.length<=0)return[];var dr=or.camera.range,pr=fr.filter(function(Ar){return ur.canReach(Ar)});if(pr.length>0){var br=pr[0].position!==dr.min,_r=pr[pr.length-1].position!==dr.max,yr=br?1:0,mr=pr.map(function(Ar,kr){return new AnchorPoint({index:kr+yr,position:Ar.position,panel:Ar})});return br&&mr.splice(0,0,new AnchorPoint({index:0,position:dr.min,panel:fr[pr[0].index-1]})),_r&&mr.push(new AnchorPoint({index:mr.length,position:dr.max,panel:fr[pr[pr.length-1].index+1]})),mr}else if(dr.min!==dr.max){var Er=this._findNearestPanel(dr.min,fr),gr=Er.index===fr.length-1?Er.prev():Er,Ir=gr.next();return[new AnchorPoint({index:0,position:dr.min,panel:gr}),new AnchorPoint({index:1,position:dr.max,panel:Ir})]}else return[new AnchorPoint({index:0,position:dr.min,panel:this._findNearestPanel(dr.min,fr)})]},ar.findAnchorIncludePosition=function(or){var ur=this._flicking.camera,fr=ur.range,dr=ur.anchorPoints;return dr.length<=0?null:or<=fr.min?dr[0]:or>=fr.max?dr[dr.length-1]:lr.prototype.findAnchorIncludePosition.call(this,or)},ar._findNearestPanel=function(or,ur){for(var fr=1/0,dr=0;dr<ur.length;dr++){var pr=ur[dr],br=Math.abs(pr.position-or);if(br>fr)return ur[dr-1];fr=br}return ur[ur.length-1]},cr}(CameraMode),Camera=function(){function lr(ar,or){var ur=this,fr=(or===void 0?{}:or).align,dr=fr===void 0?ALIGN.CENTER:fr;this._checkTranslateSupport=function(){var pr,br,_r=["webkitTransform","msTransform","MozTransform","OTransform","transform"],yr=document.documentElement.style,mr="";try{for(var Er=__values(_r),gr=Er.next();!gr.done;gr=Er.next()){var Ir=gr.value;Ir in yr&&(mr=Ir)}}catch(Ar){pr={error:Ar}}finally{try{gr&&!gr.done&&(br=Er.return)&&br.call(Er)}finally{if(pr)throw pr.error}}if(!mr)throw new FlickingError(MESSAGE.TRANSFORM_NOT_SUPPORTED,CODE.TRANSFORM_NOT_SUPPORTED);ur._transform=mr},this._flicking=ar,this._resetInternalValues(),this._align=dr}var cr=lr.prototype;return Object.defineProperty(cr,"element",{get:function(){return this._el},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"children",{get:function(){return toArray(this._el.children)},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"position",{get:function(){return this._position},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"alignPosition",{get:function(){return this._alignPos},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"offset",{get:function(){return this._offset-this._circularOffset},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"circularEnabled",{get:function(){return this._circularEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"mode",{get:function(){return this._mode},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"range",{get:function(){return this._range},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"rangeDiff",{get:function(){return this._range.max-this._range.min},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"visiblePanels",{get:function(){return this._visiblePanels},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"visibleRange",{get:function(){return{min:this._position-this._alignPos,max:this._position-this._alignPos+this.size}},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"anchorPoints",{get:function(){return this._anchors},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"controlParams",{get:function(){return{range:this._range,position:this._position,circular:this._circularEnabled}},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"atEdge",{get:function(){return this._position<=this._range.min||this._position>=this._range.max},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"size",{get:function(){var ar=this._flicking;return ar?ar.horizontal?ar.viewport.width:ar.viewport.height:0},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"progress",{get:function(){var ar=this._flicking,or=this._position+this._offset,ur=this.findNearestAnchor(this._position);if(!ar||!ur)return NaN;var fr=ur.panel,dr=fr.position+fr.offset,pr=ar.control.controller.bounce,br=this.range,_r=br.min,yr=br.max,mr=this.rangeDiff;if(or===dr)return fr.index;if(or<dr){var Er=fr.prev(),gr=Er?Er.position+Er.offset:_r-pr[0];return gr>dr&&(gr-=mr),fr.index-1+getProgress(or,gr,dr)}else{var Ir=fr.next(),Ar=Ir?Ir.position+Ir.offset:yr+pr[1];return Ar<dr&&(Ar+=mr),fr.index+getProgress(or,dr,Ar)}},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"panelOrder",{get:function(){return this._panelOrder},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"align",{get:function(){return this._align},set:function(ar){this._align=ar},enumerable:!1,configurable:!0}),cr.init=function(){var ar=this._flicking.viewport.element;return checkExistence(ar.firstElementChild,"First element child of the viewport element"),this._el=ar.firstElementChild,this._checkTranslateSupport(),this._updateMode(),this.updatePanelOrder(),this},cr.destroy=function(){return this._resetInternalValues(),this},cr.lookAt=function(ar){var or=this,ur=getFlickingAttached(this._flicking),fr=this._position;this._position=ar;var dr=this._togglePanels(fr,ar);this._refreshVisiblePanels(),this._checkNeedPanel(),this._checkReachEnd(fr,ar),dr?ur.renderer.render().then(function(){or.updateOffset()}):this.applyTransform()},cr.getPrevAnchor=function(ar){if(!this._circularEnabled||ar.index!==0)return this._anchors[ar.index-1]||null;var or=this._anchors,ur=this.rangeDiff,fr=or[or.length-1];return new AnchorPoint({index:fr.index,position:fr.position-ur,panel:fr.panel})},cr.getNextAnchor=function(ar){var or=this._anchors;if(!this._circularEnabled||ar.index!==or.length-1)return or[ar.index+1]||null;var ur=this.rangeDiff,fr=or[0];return new AnchorPoint({index:fr.index,position:fr.position+ur,panel:fr.panel})},cr.getProgressInPanel=function(ar){var or=ar.range;return(this._position-or.min)/(or.max-or.min)},cr.findAnchorIncludePosition=function(ar){return this._mode.findAnchorIncludePosition(ar)},cr.findNearestAnchor=function(ar){return this._mode.findNearestAnchor(ar)},cr.findActiveAnchor=function(){var ar,or=getFlickingAttached(this._flicking),ur=or.control.activePanel;return ur?(ar=find(this._anchors,function(fr){return fr.panel.index===ur.index}))!==null&&ar!==void 0?ar:this.findNearestAnchor(ur.position):null},cr.clampToReachablePosition=function(ar){return this._mode.clampToReachablePosition(ar)},cr.canReach=function(ar){return this._mode.canReach(ar)},cr.canSee=function(ar){return this._mode.canSee(ar)},cr.updateRange=function(){var ar=getFlickingAttached(this._flicking),or=ar.renderer,ur=or.panels;return this._updateMode(),this._range=this._mode.getRange(),ur.forEach(function(fr){return fr.updateCircularToggleDirection()}),this},cr.updateAlignPos=function(){var ar=this._align,or=typeof ar=="object"?ar.camera:ar;return this._alignPos=parseAlign$1(or,this.size),this},cr.updateAnchors=function(){return this._anchors=this._mode.getAnchors(),this},cr.updateAdaptiveHeight=function(){var ar=getFlickingAttached(this._flicking),or=ar.control.activePanel;!ar.horizontal||!ar.adaptive||!or||ar.viewport.setSize({height:or.height})},cr.updateOffset=function(){var ar=getFlickingAttached(this._flicking),or=this._position,ur=ar.panels.filter(function(fr){return!fr.rendered});return this._offset=ur.filter(function(fr){return fr.position+fr.offset<or}).reduce(function(fr,dr){return fr+dr.sizeIncludingMargin},0),this._circularOffset=this._mode.getCircularOffset(),this.applyTransform(),this},cr.updatePanelOrder=function(){var ar=getFlickingAttached(this._flicking);if(!ar.horizontal)return this;var or=this._el,ur=getStyle(or).direction;return ur!==this._panelOrder&&(this._panelOrder=ur===ORDER.RTL?ORDER.RTL:ORDER.LTR,ar.initialized&&ar.control.controller.updateDirection()),this},cr.resetNeedPanelHistory=function(){return this._needPanelTriggered={prev:!1,next:!1},this},cr.applyTransform=function(){var ar=this._el,or=getFlickingAttached(this._flicking),ur=or.renderer;if(ur.rendering||!or.initialized)return this;var fr=this._position-this._alignPos-this._offset+this._circularOffset;return ar.style[this._transform]=or.horizontal?"translate("+(this._panelOrder===ORDER.RTL?fr:-fr)+"px)":"translate(0, "+-fr+"px)",this},cr._resetInternalValues=function(){this._position=0,this._alignPos=0,this._offset=0,this._circularOffset=0,this._circularEnabled=!1,this._range={min:0,max:0},this._visiblePanels=[],this._anchors=[],this._needPanelTriggered={prev:!1,next:!1}},cr._refreshVisiblePanels=function(){var ar=this,or=getFlickingAttached(this._flicking),ur=or.renderer.panels,fr=ur.filter(function(_r){return ar.canSee(_r)}),dr=this._visiblePanels;this._visiblePanels=fr;var pr=fr.filter(function(_r){return!includes(dr,_r)}),br=dr.filter(function(_r){return!includes(fr,_r)});(pr.length>0||br.length>0)&&or.renderer.render().then(function(){or.trigger(new ComponentEvent$1(EVENTS.VISIBLE_CHANGE,{added:pr,removed:br,visiblePanels:fr}))})},cr._checkNeedPanel=function(){var ar=this._needPanelTriggered;if(!(ar.prev&&ar.next)){var or=getFlickingAttached(this._flicking),ur=or.renderer.panels;if(ur.length<=0){ar.prev||(or.trigger(new ComponentEvent$1(EVENTS.NEED_PANEL,{direction:DIRECTION.PREV})),ar.prev=!0),ar.next||(or.trigger(new ComponentEvent$1(EVENTS.NEED_PANEL,{direction:DIRECTION.NEXT})),ar.next=!0);return}var fr=this._position,dr=this.size,pr=this._range,br=or.needPanelThreshold,_r=fr-this._alignPos,yr=_r+dr,mr=ur[0],Er=ur[ur.length-1];if(!ar.prev){var gr=mr.range.min;(_r<=gr+br||fr<=pr.min+br)&&(or.trigger(new ComponentEvent$1(EVENTS.NEED_PANEL,{direction:DIRECTION.PREV})),ar.prev=!0)}if(!ar.next){var Ir=Er.range.max;(yr>=Ir-br||fr>=pr.max-br)&&(or.trigger(new ComponentEvent$1(EVENTS.NEED_PANEL,{direction:DIRECTION.NEXT})),ar.next=!0)}}},cr._checkReachEnd=function(ar,or){var ur=getFlickingAttached(this._flicking),fr=this._range,dr=ar>fr.min&&ar<fr.max,pr=or>fr.min&&or<fr.max;if(!(!dr||pr)){var br=or<=fr.min?DIRECTION.PREV:DIRECTION.NEXT;ur.trigger(new ComponentEvent$1(EVENTS.REACH_EDGE,{direction:br}))}},cr._updateMode=function(){var ar=getFlickingAttached(this._flicking);if(ar.circular){var or=new CircularCameraMode(ar),ur=or.checkAvailability();if(ur)this._mode=or;else{var fr=ar.circularFallback;this._mode=fr===CIRCULAR_FALLBACK.BOUND?new BoundCameraMode(ar):new LinearCameraMode(ar)}this._circularEnabled=ur}else this._mode=ar.bound?new BoundCameraMode(ar):new LinearCameraMode(ar),this._circularEnabled=!1},cr._togglePanels=function(ar,or){if(or===ar)return!1;var ur=getFlickingAttached(this._flicking),fr=ur.renderer.panels,dr=fr.map(function(pr){return pr.toggle(ar,or)});return dr.some(function(pr){return pr})},lr}(),Renderer=function(){function lr(ar){var or=ar.align,ur=or===void 0?ALIGN.CENTER:or,fr=ar.strategy;this._flicking=null,this._panels=[],this._rendering=!1,this._align=ur,this._strategy=fr}var cr=lr.prototype;return Object.defineProperty(cr,"panels",{get:function(){return this._panels},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"rendering",{get:function(){return this._rendering},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"panelCount",{get:function(){return this._panels.length},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"strategy",{get:function(){return this._strategy},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"align",{get:function(){return this._align},set:function(ar){this._align=ar;var or=parsePanelAlign(ar);this._panels.forEach(function(ur){ur.align=or})},enumerable:!1,configurable:!0}),cr.init=function(ar){return this._flicking=ar,this._collectPanels(),this},cr.destroy=function(){this._flicking=null,this._panels=[]},cr.getPanel=function(ar){return this._panels[ar]||null},cr.forceRenderAllPanels=function(){return this._panels.forEach(function(ar){return ar.markForShow()}),Promise.resolve()},cr.updatePanelSize=function(){var ar=getFlickingAttached(this._flicking),or=this._panels;if(or.length<=0)return this;if(ar.panelsPerView>0){var ur=or[0];ur.resize(),this._updatePanelSizeByGrid(ur,or)}else ar.panels.forEach(function(fr){return fr.resize()});return this},cr.batchInsert=function(){for(var ar=[],or=0;or<arguments.length;or++)ar[or]=arguments[or];var ur=this.batchInsertDefer.apply(this,__spread(ar));return ur.length<=0?[]:(this.updateAfterPanelChange(ur,[]),ur)},cr.batchInsertDefer=function(){for(var ar=this,or=[],ur=0;ur<arguments.length;ur++)or[ur]=arguments[ur];var fr=this._panels,dr=getFlickingAttached(this._flicking),pr=fr[0],br=parsePanelAlign(this._align),_r=or.reduce(function(yr,mr){var Er,gr=getMinusCompensatedIndex(mr.index,fr.length),Ir=fr.slice(gr),Ar=mr.elements.map(function(Or,Dr){return ar._createPanel(Or,{index:gr+Dr,align:br,flicking:dr})});if(fr.splice.apply(fr,__spread([gr,0],Ar)),mr.hasDOMInElements&&ar._insertPanelElements(Ar,(Er=Ir[0])!==null&&Er!==void 0?Er:null),dr.panelsPerView>0){var kr=pr||Ar[0].resize();ar._updatePanelSizeByGrid(kr,Ar)}else Ar.forEach(function(Or){return Or.resize()});return Ir.forEach(function(Or){Or.increaseIndex(Ar.length),Or.updatePosition()}),__spread(yr,Ar)},[]);return _r},cr.batchRemove=function(){for(var ar=[],or=0;or<arguments.length;or++)ar[or]=arguments[or];var ur=this.batchRemoveDefer.apply(this,__spread(ar));return ur.length<=0?[]:(this.updateAfterPanelChange([],ur),ur)},cr.batchRemoveDefer=function(){for(var ar=this,or=[],ur=0;ur<arguments.length;ur++)or[ur]=arguments[ur];var fr=this._panels,dr=getFlickingAttached(this._flicking),pr=dr.control,br=pr.activePanel,_r=or.reduce(function(yr,mr){var Er=mr.index,gr=mr.deleteCount,Ir=getMinusCompensatedIndex(Er,fr.length),Ar=fr.slice(Ir+gr),kr=fr.splice(Ir,gr);return kr.length<=0?[]:(Ar.forEach(function(Or){Or.decreaseIndex(kr.length),Or.updatePosition()}),mr.hasDOMInElements&&ar._removePanelElements(kr),kr.forEach(function(Or){return Or.destroy()}),includes(kr,br)&&pr.resetActive(),__spread(yr,kr))},[]);return _r},cr.updateAfterPanelChange=function(ar,or){var ur,fr=getFlickingAttached(this._flicking),dr=fr.camera,pr=fr.control,br=this._panels,_r=pr.activePanel;if(this._updateCameraAndControl(),this.render(),!fr.animating)if(!_r||_r.removed)if(br.length<=0)dr.lookAt(0);else{var yr=(ur=_r==null?void 0:_r.index)!==null&&ur!==void 0?ur:0;yr>br.length-1&&(yr=br.length-1),pr.moveToPanel(br[yr],{duration:0}).catch(function(){})}else pr.moveToPanel(_r,{duration:0}).catch(function(){});fr.camera.updateOffset(),(ar.length>0||or.length>0)&&(fr.trigger(new ComponentEvent$1(EVENTS.PANEL_CHANGE,{added:ar,removed:or})),this.checkPanelContentsReady(__spread(ar,or)))},cr.checkPanelContentsReady=function(ar){var or=this,ur=getFlickingAttached(this._flicking),fr=ur.resizeOnContentsReady,dr=this._panels;if(!(!fr||ur.virtualEnabled)){var pr=function(_r){return _r.element&&!!_r.element.querySelector("img, video")};if(ar=ar.filter(function(_r){return pr(_r)}),!(ar.length<=0)){var br=new ImReady$1;ar.forEach(function(_r){_r.loading=!0}),br.on("readyElement",function(_r){if(!or._flicking){br.destroy();return}var yr=ar[_r.index],mr=ur.camera,Er=ur.control,gr=Er.activePanel?mr.getProgressInPanel(Er.activePanel):0;yr.loading=!1,yr.resize(),dr.slice(yr.index+1).forEach(function(Ir){return Ir.updatePosition()}),ur.initialized&&(mr.updateRange(),mr.updateOffset(),mr.updateAnchors(),Er.animating||(Er.updatePosition(gr),Er.updateInput()))}),br.on("preReady",function(_r){or._flicking&&or.render(),_r.readyCount===_r.totalCount&&br.destroy()}),br.on("ready",function(){or._flicking&&or.render(),br.destroy()}),br.check(ar.map(function(_r){return _r.element}))}}},cr._updateCameraAndControl=function(){var ar=getFlickingAttached(this._flicking),or=ar.camera,ur=ar.control;or.updateRange(),or.updateOffset(),or.updateAnchors(),or.resetNeedPanelHistory(),ur.updateInput()},cr._showOnlyVisiblePanels=function(ar){var or=ar.renderer.panels,ur=ar.camera,fr=ur.visiblePanels.reduce(function(dr,pr){return dr[pr.index]=!0,dr},{});or.forEach(function(dr){dr.index in fr||dr.loading?dr.markForShow():ar.holding||dr.markForHide()})},cr._updatePanelSizeByGrid=function(ar,or){var ur=getFlickingAttached(this._flicking),fr=ur.panelsPerView;if(fr<=0)throw new FlickingError(MESSAGE.WRONG_OPTION("panelsPerView",fr),CODE.WRONG_OPTION);if(!(or.length<=0)){var dr=ur.camera.size,pr=ar.margin.prev+ar.margin.next,br=(dr-pr*(fr-1))/fr,_r=ur.horizontal?{width:br}:{height:br},yr=__assign({size:br,margin:ar.margin},!ur.horizontal&&{height:ar.height});ur.noPanelStyleOverride||this._strategy.updatePanelSizes(ur,_r),ur.panels.forEach(function(mr){return mr.resize(yr)})}},cr._removeAllChildsFromCamera=function(){for(var ar=getFlickingAttached(this._flicking),or=ar.camera.element;or.firstChild;)or.removeChild(or.firstChild)},cr._insertPanelElements=function(ar,or){or===void 0&&(or=null);var ur=getFlickingAttached(this._flicking),fr=ur.camera,dr=fr.element,pr=(or==null?void 0:or.element)||null,br=document.createDocumentFragment();ar.forEach(function(_r){return br.appendChild(_r.element)}),dr.insertBefore(br,pr)},cr._removePanelElements=function(ar){var or=getFlickingAttached(this._flicking),ur=or.camera.element;ar.forEach(function(fr){ur.removeChild(fr.element)})},cr._afterRender=function(){var ar=getFlickingAttached(this._flicking);ar.camera.applyTransform()},lr}(),VanillaRenderer=function(lr){__extends(cr,lr);function cr(){return lr!==null&&lr.apply(this,arguments)||this}var ar=cr.prototype;return ar.render=function(){return __awaiter(this,void 0,void 0,function(){var or,ur;return __generator(this,function(fr){return or=getFlickingAttached(this._flicking),ur=this._strategy,ur.updateRenderingPanels(or),ur.renderPanels(or),this._resetPanelElementOrder(),this._afterRender(),[2]})})},ar._collectPanels=function(){var or=getFlickingAttached(this._flicking),ur=or.camera;this._removeAllTextNodes(),this._panels=this._strategy.collectPanels(or,ur.children)},ar._createPanel=function(or,ur){return this._strategy.createPanel(or,ur)},ar._resetPanelElementOrder=function(){var or=getFlickingAttached(this._flicking),ur=or.camera.element,fr=this._strategy.getRenderingElementsByOrder(or).reverse();fr.forEach(function(dr,pr){var br=fr[pr-1]?fr[pr-1]:null;dr.nextElementSibling!==br&&ur.insertBefore(dr,br)})},ar._removeAllTextNodes=function(){var or=getFlickingAttached(this._flicking),ur=or.camera.element;toArray(ur.childNodes).forEach(function(fr){fr.nodeType===Node.TEXT_NODE&&ur.removeChild(fr)})},cr}(Renderer),Panel=function(){function lr(ar){var or=ar.index,ur=ar.align,fr=ar.flicking,dr=ar.elementProvider;this._index=or,this._flicking=fr,this._elProvider=dr,this._align=ur,this._removed=!1,this._rendered=!0,this._loading=!1,this._resetInternalStates()}var cr=lr.prototype;return Object.defineProperty(cr,"element",{get:function(){return this._elProvider.element},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"elementProvider",{get:function(){return this._elProvider},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"index",{get:function(){return this._index},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"position",{get:function(){return this._pos+this._alignPos},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"sizeIncludingMargin",{get:function(){return this._size+this._margin.prev+this._margin.next},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"margin",{get:function(){return this._margin},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"alignPosition",{get:function(){return this._alignPos},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"removed",{get:function(){return this._removed},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"rendered",{get:function(){return this._rendered},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"loading",{get:function(){return this._loading},set:function(ar){this._loading=ar},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"range",{get:function(){return{min:this._pos,max:this._pos+this._size}},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"toggled",{get:function(){return this._toggled},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"toggleDirection",{get:function(){return this._toggleDirection},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"offset",{get:function(){var ar=this._toggleDirection,or=this._flicking.camera.rangeDiff;return ar===DIRECTION.NONE||!this._toggled?0:ar===DIRECTION.PREV?-or:or},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"progress",{get:function(){var ar=this._flicking;return this.index-ar.camera.progress},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"outsetProgress",{get:function(){var ar=this.position+this.offset,or=this._alignPos,ur=this._flicking.camera,fr=ur.position;if(fr===ar)return 0;if(fr<ar){var dr=ar+(ur.size-ur.alignPosition)+or;return-getProgress(fr,ar,dr)}else{var pr=ar-(ur.alignPosition+this._size-or);return 1-getProgress(fr,pr,ar)}},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"visibleRatio",{get:function(){var ar=this.range,or=this._size,ur=this.offset,fr=this._flicking.camera.visibleRange,dr={min:ar.min+ur,max:ar.max+ur};if(dr.max<=fr.min||dr.min>=fr.max)return 0;var pr=or;return fr.min>dr.min&&(pr-=fr.min-dr.min),fr.max<dr.max&&(pr-=dr.max-fr.max),pr/or},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"align",{get:function(){return this._align},set:function(ar){this._align=ar,this._updateAlignPos()},enumerable:!1,configurable:!0}),cr.markForShow=function(){this._rendered=!0,this._elProvider.show(this._flicking)},cr.markForHide=function(){this._rendered=!1,this._elProvider.hide(this._flicking)},cr.resize=function(ar){var or,ur=this.element,fr=this._flicking,dr=fr.horizontal,pr=fr.useFractionalSize;if(ar)this._size=ar.size,this._margin=__assign({},ar.margin),this._height=(or=ar.height)!==null&&or!==void 0?or:getElementSize({el:ur,horizontal:!1,useFractionalSize:pr,useOffset:!0,style:getStyle(ur)});else{var br=getStyle(ur);this._size=getElementSize({el:ur,horizontal:dr,useFractionalSize:pr,useOffset:!0,style:br}),this._margin=dr?{prev:parseFloat(br.marginLeft||"0"),next:parseFloat(br.marginRight||"0")}:{prev:parseFloat(br.marginTop||"0"),next:parseFloat(br.marginBottom||"0")},this._height=dr?getElementSize({el:ur,horizontal:!1,useFractionalSize:pr,useOffset:!0,style:br}):this._size}return this.updatePosition(),this._updateAlignPos(),this},cr.setSize=function(ar){return setSize(this.element,ar),this},cr.contains=function(ar){var or;return!!(!((or=this.element)===null||or===void 0)&&or.contains(ar))},cr.destroy=function(){this._resetInternalStates(),this._removed=!0},cr.includePosition=function(ar,or){return or===void 0&&(or=!1),this.includeRange(ar,ar,or)},cr.includeRange=function(ar,or,ur){ur===void 0&&(ur=!1);var fr=this._margin,dr=this.range;return ur&&(dr.min-=fr.prev,dr.max+=fr.next),or>=dr.min&&ar<=dr.max},cr.isVisibleOnRange=function(ar,or){var ur=this.range;return or>ur.min&&ar<ur.max},cr.focus=function(ar){return this._flicking.moveTo(this._index,ar)},cr.prev=function(){var ar=this._index,or=this._flicking,ur=or.renderer,fr=ur.panelCount;return fr===1?null:or.circularEnabled?ur.getPanel(ar===0?fr-1:ar-1):ur.getPanel(ar-1)},cr.next=function(){var ar=this._index,or=this._flicking,ur=or.renderer,fr=ur.panelCount;return fr===1?null:or.circularEnabled?ur.getPanel(ar===fr-1?0:ar+1):ur.getPanel(ar+1)},cr.increaseIndex=function(ar){return this._index+=Math.max(ar,0),this},cr.decreaseIndex=function(ar){return this._index-=Math.max(ar,0),this},cr.updatePosition=function(){var ar=this._flicking.renderer.panels[this._index-1];return this._pos=ar?ar.range.max+ar.margin.next+this._margin.prev:this._margin.prev,this},cr.toggle=function(ar,or){var ur=this._toggleDirection,fr=this._togglePosition;if(ur===DIRECTION.NONE||or===ar)return!1;var dr=this._toggled;return or>ar?fr>=ar&&fr<=or&&(this._toggled=ur===DIRECTION.NEXT):fr<=ar&&fr>=or&&(this._toggled=ur!==DIRECTION.NEXT),dr!==this._toggled},cr.updateCircularToggleDirection=function(){var ar=this._flicking;if(!ar.circularEnabled)return this._toggleDirection=DIRECTION.NONE,this._togglePosition=0,this._toggled=!1,this;var or=ar.camera,ur=or.range,fr=or.alignPosition,dr=or.visibleRange,pr=dr.max-dr.min,br=ur.min-fr,_r=ur.max-fr+pr,yr=this.includeRange(_r-pr,_r,!1),mr=this.includeRange(br,br+pr,!1);return this._toggled=!1,yr?(this._toggleDirection=DIRECTION.PREV,this._togglePosition=this.range.max+ur.min-ur.max+fr,this.toggle(1/0,or.position)):mr?(this._toggleDirection=DIRECTION.NEXT,this._togglePosition=this.range.min+ur.max-pr+fr,this.toggle(-1/0,or.position)):(this._toggleDirection=DIRECTION.NONE,this._togglePosition=0),this},cr._updateAlignPos=function(){this._alignPos=parseAlign$1(this._align,this._size)},cr._resetInternalStates=function(){this._size=0,this._pos=0,this._margin={prev:0,next:0},this._height=0,this._alignPos=0,this._toggled=!1,this._togglePosition=0,this._toggleDirection=DIRECTION.NONE},lr}(),NormalRenderingStrategy=function(){function lr(ar){var or=ar.providerCtor;this._providerCtor=or}var cr=lr.prototype;return cr.renderPanels=function(){},cr.getRenderingIndexesByOrder=function(ar){var or=ar.renderer.panels.filter(function(pr){return pr.rendered}),ur=or.filter(function(pr){return pr.toggled&&pr.toggleDirection===DIRECTION.PREV}),fr=or.filter(function(pr){return pr.toggled&&pr.toggleDirection===DIRECTION.NEXT}),dr=or.filter(function(pr){return!pr.toggled});return __spread(ur,dr,fr).map(function(pr){return pr.index})},cr.getRenderingElementsByOrder=function(ar){var or=ar.panels;return this.getRenderingIndexesByOrder(ar).map(function(ur){return or[ur].element})},cr.updateRenderingPanels=function(ar){ar.renderOnlyVisible?this._showOnlyVisiblePanels(ar):ar.panels.forEach(function(or){return or.markForShow()})},cr.collectPanels=function(ar,or){var ur=this,fr=parsePanelAlign(ar.renderer.align);return or.map(function(dr,pr){return new Panel({index:pr,elementProvider:new ur._providerCtor(dr),align:fr,flicking:ar})})},cr.createPanel=function(ar,or){return new Panel(__assign(__assign({},or),{elementProvider:new this._providerCtor(ar)}))},cr.updatePanelSizes=function(ar,or){ar.panels.forEach(function(ur){return ur.setSize(or)})},cr._showOnlyVisiblePanels=function(ar){var or=ar.renderer.panels,ur=ar.camera,fr=ur.visiblePanels.reduce(function(dr,pr){return dr[pr.index]=!0,dr},{});or.forEach(function(dr){dr.index in fr||dr.loading?dr.markForShow():ar.holding||dr.markForHide()}),ur.updateOffset()},lr}(),VirtualPanel=function(lr){__extends(cr,lr);function cr(or){var ur=lr.call(this,or)||this;return or.elementProvider.init(ur),ur._elProvider=or.elementProvider,ur._cachedInnerHTML=null,ur}var ar=cr.prototype;return Object.defineProperty(ar,"element",{get:function(){return this._elProvider.element},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"cachedInnerHTML",{get:function(){return this._cachedInnerHTML},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"elementIndex",{get:function(){var or=this._flicking,ur=or.panelsPerView+1,fr=or.panelCount,dr=this._index;return this._toggled&&(dr=this._toggleDirection===DIRECTION.NEXT?dr+fr:dr-fr),circulateIndex(dr,ur)},enumerable:!1,configurable:!0}),ar.cacheRenderResult=function(or){this._cachedInnerHTML=or},ar.uncacheRenderResult=function(){this._cachedInnerHTML=null},ar.render=function(){var or=this._flicking,ur=or.virtual,fr=ur.renderPanel,dr=ur.cache,pr=this._elProvider.element,br=this._cachedInnerHTML||fr(this,this._index);br!==pr.innerHTML&&(pr.innerHTML=br,dr&&this.cacheRenderResult(br))},ar.increaseIndex=function(or){return this.uncacheRenderResult(),lr.prototype.increaseIndex.call(this,or)},ar.decreaseIndex=function(or){return this.uncacheRenderResult(),lr.prototype.decreaseIndex.call(this,or)},cr}(Panel),VirtualRenderingStrategy=function(){function lr(){}var cr=lr.prototype;return cr.renderPanels=function(ar){var or=ar.virtual,ur=ar.visiblePanels,fr=range(ar.panelsPerView+1);ur.forEach(function(dr){var pr=dr.elementIndex;dr.render(),or.show(pr),fr[pr]=-1}),fr.filter(function(dr){return dr>=0}).forEach(function(dr){or.hide(dr)})},cr.getRenderingIndexesByOrder=function(ar){var or=ar.virtual,ur=__spread(ar.visiblePanels).filter(function(pr){return pr.rendered}).sort(function(pr,br){return pr.position+pr.offset-(br.position+br.offset)});if(ur.length<=0)return or.elements.map(function(pr,br){return br});var fr=ur.map(function(pr){return pr.elementIndex}),dr=or.elements.map(function(pr,br){return __assign(__assign({},pr),{idx:br})}).filter(function(pr){return!pr.visible}).map(function(pr){return pr.idx});return __spread(fr,dr)},cr.getRenderingElementsByOrder=function(ar){var or=ar.virtual,ur=or.elements;return this.getRenderingIndexesByOrder(ar).map(function(fr){return ur[fr].nativeElement})},cr.updateRenderingPanels=function(ar){var or=ar.renderer.panels,ur=ar.camera,fr=ur.visiblePanels.reduce(function(dr,pr){return dr[pr.index]=!0,dr},{});or.forEach(function(dr){dr.index in fr||dr.loading?dr.markForShow():dr.markForHide()}),ur.updateOffset()},cr.collectPanels=function(ar){var or=parsePanelAlign(ar.renderer.align);return range(ar.virtual.initialPanelCount).map(function(ur){return new VirtualPanel({index:ur,elementProvider:new VirtualElementProvider(ar),align:or,flicking:ar})})},cr.createPanel=function(ar,or){return new VirtualPanel(__assign(__assign({},or),{elementProvider:new VirtualElementProvider(or.flicking)}))},cr.updatePanelSizes=function(ar,or){ar.virtual.elements.forEach(function(ur){setSize(ur.nativeElement,or)}),ar.panels.forEach(function(ur){return ur.setSize(or)})},lr}(),Flicking=function(lr){__extends(cr,lr);function cr(or,ur){var fr=ur===void 0?{}:ur,dr=fr.align,pr=dr===void 0?ALIGN.CENTER:dr,br=fr.defaultIndex,_r=br===void 0?0:br,yr=fr.horizontal,mr=yr===void 0?!0:yr,Er=fr.circular,gr=Er===void 0?!1:Er,Ir=fr.circularFallback,Ar=Ir===void 0?CIRCULAR_FALLBACK.LINEAR:Ir,kr=fr.bound,Or=kr===void 0?!1:kr,Dr=fr.adaptive,Rr=Dr===void 0?!1:Dr,Fr=fr.panelsPerView,Nr=Fr===void 0?-1:Fr,Hr=fr.noPanelStyleOverride,Ur=Hr===void 0?!1:Hr,Zr=fr.resizeOnContentsReady,Gr=Zr===void 0?!1:Zr,jr=fr.nested,Jr=jr===void 0?!1:jr,Wr=fr.needPanelThreshold,ni=Wr===void 0?0:Wr,Mr=fr.preventEventsBeforeInit,di=Mr===void 0?!0:Mr,Ei=fr.deceleration,_i=Ei===void 0?.0075:Ei,Fi=fr.duration,si=Fi===void 0?500:Fi,ci=fr.easing,$r=ci===void 0?function(zi){return 1-Math.pow(1-zi,3)}:ci,ei=fr.inputType,pi=ei===void 0?["mouse","touch"]:ei,ui=fr.moveType,bi=ui===void 0?"snap":ui,qi=fr.threshold,Ki=qi===void 0?40:qi,Ti=fr.interruptable,ii=Ti===void 0?!0:Ti,oi=fr.bounce,Si=oi===void 0?"20%":oi,Di=fr.iOSEdgeSwipeThreshold,Mi=Di===void 0?30:Di,Vr=fr.preventClickOnDrag,hi=Vr===void 0?!0:Vr,yi=fr.preventDefaultOnDrag,ti=yi===void 0?!1:yi,ri=fr.disableOnInit,xi=ri===void 0?!1:ri,Ai=fr.changeOnHold,Kr=Ai===void 0?!1:Ai,Pr=fr.renderOnlyVisible,qr=Pr===void 0?!1:Pr,Xr=fr.virtual,ai=Xr===void 0?null:Xr,fi=fr.autoInit,vi=fi===void 0?!0:fi,Ri=fr.autoResize,$i=Ri===void 0?!0:Ri,Xi=fr.useResizeObserver,ji=Xi===void 0?!0:Xi,Bi=fr.resizeDebounce,Zi=Bi===void 0?0:Bi,Aa=fr.maxResizeDebounce,Da=Aa===void 0?100:Aa,ba=fr.useFractionalSize,_o=ba===void 0?!1:ba,co=fr.externalRenderer,Co=co===void 0?null:co,wi=fr.renderExternal,Vi=wi===void 0?null:wi,Yr=lr.call(this)||this;return Yr._initialized=!1,Yr._plugins=[],Yr._align=pr,Yr._defaultIndex=_r,Yr._horizontal=mr,Yr._circular=gr,Yr._circularFallback=Ar,Yr._bound=Or,Yr._adaptive=Rr,Yr._panelsPerView=Nr,Yr._noPanelStyleOverride=Ur,Yr._resizeOnContentsReady=Gr,Yr._nested=Jr,Yr._virtual=ai,Yr._needPanelThreshold=ni,Yr._preventEventsBeforeInit=di,Yr._deceleration=_i,Yr._duration=si,Yr._easing=$r,Yr._inputType=pi,Yr._moveType=bi,Yr._threshold=Ki,Yr._interruptable=ii,Yr._bounce=Si,Yr._iOSEdgeSwipeThreshold=Mi,Yr._preventClickOnDrag=hi,Yr._preventDefaultOnDrag=ti,Yr._disableOnInit=xi,Yr._changeOnHold=Kr,Yr._renderOnlyVisible=qr,Yr._autoInit=vi,Yr._autoResize=$i,Yr._useResizeObserver=ji,Yr._resizeDebounce=Zi,Yr._maxResizeDebounce=Da,Yr._useFractionalSize=_o,Yr._externalRenderer=Co,Yr._renderExternal=Vi,Yr._viewport=new Viewport(Yr,getElement(or)),Yr._autoResizer=new AutoResizer(Yr),Yr._renderer=Yr._createRenderer(),Yr._camera=Yr._createCamera(),Yr._control=Yr._createControl(),Yr._virtualManager=new VirtualManager(Yr,ai),Yr._autoInit&&Yr.init(),Yr}var ar=cr.prototype;return Object.defineProperty(ar,"control",{get:function(){return this._control},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"camera",{get:function(){return this._camera},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"renderer",{get:function(){return this._renderer},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"viewport",{get:function(){return this._viewport},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"initialized",{get:function(){return this._initialized},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"circularEnabled",{get:function(){return this._camera.circularEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"virtualEnabled",{get:function(){return this._panelsPerView>0&&this._virtual!=null},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"index",{get:function(){return this._control.activeIndex},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"element",{get:function(){return this._viewport.element},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"currentPanel",{get:function(){return this._control.activePanel},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"panels",{get:function(){return this._renderer.panels},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"panelCount",{get:function(){return this._renderer.panelCount},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"visiblePanels",{get:function(){return this._camera.visiblePanels},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"animating",{get:function(){return this._control.animating},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"holding",{get:function(){return this._control.holding},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"activePlugins",{get:function(){return this._plugins},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"align",{get:function(){return this._align},set:function(or){this._align=or,this._renderer.align=or,this._camera.align=or,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"defaultIndex",{get:function(){return this._defaultIndex},set:function(or){this._defaultIndex=or},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"horizontal",{get:function(){return this._horizontal},set:function(or){this._horizontal=or,this._control.controller.updateDirection(),this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"circular",{get:function(){return this._circular},set:function(or){this._circular=or,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"circularFallback",{get:function(){return this._circularFallback},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"bound",{get:function(){return this._bound},set:function(or){this._bound=or,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"adaptive",{get:function(){return this._adaptive},set:function(or){this._adaptive=or,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"panelsPerView",{get:function(){return this._panelsPerView},set:function(or){this._panelsPerView=or,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"noPanelStyleOverride",{get:function(){return this._noPanelStyleOverride},set:function(or){this._noPanelStyleOverride=or,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"resizeOnContentsReady",{get:function(){return this._resizeOnContentsReady},set:function(or){this._resizeOnContentsReady=or,or&&this._renderer.checkPanelContentsReady(this._renderer.panels)},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"nested",{get:function(){return this._nested},set:function(or){this._nested=or;var ur=this._control.controller.axes;ur&&(ur.options.nested=or)},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"needPanelThreshold",{get:function(){return this._needPanelThreshold},set:function(or){this._needPanelThreshold=or},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"preventEventsBeforeInit",{get:function(){return this._preventEventsBeforeInit},set:function(or){this._preventEventsBeforeInit=or},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"deceleration",{get:function(){return this._deceleration},set:function(or){this._deceleration=or;var ur=this._control.controller.axes;ur&&(ur.options.deceleration=or)},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"easing",{get:function(){return this._easing},set:function(or){this._easing=or;var ur=this._control.controller.axes;ur&&(ur.options.easing=or)},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"duration",{get:function(){return this._duration},set:function(or){this._duration=or},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"inputType",{get:function(){return this._inputType},set:function(or){this._inputType=or;var ur=this._control.controller.panInput;ur&&(ur.options.inputType=or)},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"moveType",{get:function(){return this._moveType},set:function(or){this._moveType=or;var ur=this._control,fr=this._createControl(),dr=ur.activePanel;fr.copy(ur);var pr=dr?this._camera.getProgressInPanel(dr):0;this._control=fr,this._control.updatePosition(pr),this._control.updateInput()},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"threshold",{get:function(){return this._threshold},set:function(or){this._threshold=or},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"interruptable",{get:function(){return this._interruptable},set:function(or){this._interruptable=or;var ur=this._control.controller.axes;ur&&(ur.options.interruptable=or)},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"bounce",{get:function(){return this._bounce},set:function(or){this._bounce=or,this._control.updateInput()},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"iOSEdgeSwipeThreshold",{get:function(){return this._iOSEdgeSwipeThreshold},set:function(or){this._iOSEdgeSwipeThreshold=or;var ur=this._control.controller.panInput;ur&&(ur.options.iOSEdgeSwipeThreshold=or)},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"preventClickOnDrag",{get:function(){return this._preventClickOnDrag},set:function(or){var ur=this._preventClickOnDrag;if(or!==ur){var fr=this._control.controller;or?fr.addPreventClickHandler():fr.removePreventClickHandler(),this._preventClickOnDrag=or}},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"preventDefaultOnDrag",{get:function(){return this._preventDefaultOnDrag},set:function(or){this._preventDefaultOnDrag=or;var ur=this._control.controller.panInput;ur&&(ur.options.preventDefaultOnDrag=or)},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"disableOnInit",{get:function(){return this._disableOnInit},set:function(or){this._disableOnInit=or},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"changeOnHold",{get:function(){return this._changeOnHold},set:function(or){this._changeOnHold=or},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"renderOnlyVisible",{get:function(){return this._renderOnlyVisible},set:function(or){this._renderOnlyVisible=or,this._renderer.render()},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"virtual",{get:function(){return this._virtualManager},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"autoInit",{get:function(){return this._autoInit},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"autoResize",{get:function(){return this._autoResize},set:function(or){this._autoResize=or,or?this._autoResizer.enable():this._autoResizer.disable()},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"useResizeObserver",{get:function(){return this._useResizeObserver},set:function(or){this._useResizeObserver=or,this._autoResize&&this._autoResizer.enable()},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"resizeDebounce",{get:function(){return this._resizeDebounce},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"maxResizeDebounce",{get:function(){return this._maxResizeDebounce},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"useFractionalSize",{get:function(){return this._useFractionalSize},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"externalRenderer",{get:function(){return this._externalRenderer},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"renderExternal",{get:function(){return this._renderExternal},enumerable:!1,configurable:!0}),ar.init=function(){var or=this;if(this._initialized)return Promise.resolve();var ur=this._camera,fr=this._renderer,dr=this._control,pr=this._virtualManager,br=this.trigger,_r=this._preventEventsBeforeInit;return ur.init(),pr.init(),fr.init(this),dr.init(this),_r&&(this.trigger=function(){return or}),this._initialResize(),this._moveToInitialPanel(),this._autoResize&&this._autoResizer.enable(),this._preventClickOnDrag&&dr.controller.addPreventClickHandler(),this._disableOnInit&&this.disableInput(),fr.checkPanelContentsReady(fr.panels),this._initialized=!0,fr.render().then(function(){or._plugins.forEach(function(yr){return yr.init(or)}),_r&&(or.trigger=br),or.trigger(new ComponentEvent$1(EVENTS.READY))})},ar.destroy=function(){this.off(),this._autoResizer.disable(),this._control.destroy(),this._camera.destroy(),this._renderer.destroy(),this._plugins.forEach(function(or){return or.destroy()}),this._initialized=!1},ar.prev=function(or){var ur,fr,dr;return or===void 0&&(or=this._duration),this.moveTo((dr=(fr=(ur=this._control.activePanel)===null||ur===void 0?void 0:ur.prev())===null||fr===void 0?void 0:fr.index)!==null&&dr!==void 0?dr:-1,or,DIRECTION.PREV)},ar.next=function(or){var ur,fr,dr;return or===void 0&&(or=this._duration),this.moveTo((dr=(fr=(ur=this._control.activePanel)===null||ur===void 0?void 0:ur.next())===null||fr===void 0?void 0:fr.index)!==null&&dr!==void 0?dr:this._renderer.panelCount,or,DIRECTION.NEXT)},ar.moveTo=function(or,ur,fr){ur===void 0&&(ur=this._duration),fr===void 0&&(fr=DIRECTION.NONE);var dr=this._renderer,pr=dr.panelCount,br=dr.getPanel(or);return br?this._control.animating?Promise.reject(new FlickingError(MESSAGE.ANIMATION_ALREADY_PLAYING,CODE.ANIMATION_ALREADY_PLAYING)):(this._control.holding&&this._control.controller.release(),this._control.moveToPanel(br,{duration:ur,direction:fr})):Promise.reject(new FlickingError(MESSAGE.INDEX_OUT_OF_RANGE(or,0,pr-1),CODE.INDEX_OUT_OF_RANGE))},ar.updateAnimation=function(or,ur,fr){if(this._control.animating){var dr=this._renderer,pr=dr.panelCount,br=dr.getPanel(or);if(!br)throw new FlickingError(MESSAGE.INDEX_OUT_OF_RANGE(or,0,pr-1),CODE.INDEX_OUT_OF_RANGE);this._control.updateAnimation(br,ur,fr)}},ar.stopAnimation=function(){this._control.animating&&this._control.stopAnimation()},ar.getPanel=function(or){return this._renderer.getPanel(or)},ar.enableInput=function(){return this._control.enable(),this},ar.disableInput=function(){return this._control.disable(),this},ar.getStatus=function(or){var ur,fr,dr=or===void 0?{}:or,pr=dr.index,br=pr===void 0?!0:pr,_r=dr.position,yr=_r===void 0?!0:_r,mr=dr.includePanelHTML,Er=mr===void 0?!1:mr,gr=dr.visiblePanelsOnly,Ir=gr===void 0?!1:gr,Ar=this._camera,kr=Ir?this.visiblePanels:this.panels,Or={panels:kr.map(function(Fr){var Nr={index:Fr.index};return Er&&(Nr.html=Fr.element.outerHTML),Nr})};if(br&&(Or.index=this.index),yr){var Dr=Ar.findNearestAnchor(Ar.position);Dr&&(Or.position={panel:Dr.panel.index,progressInPanel:Ar.getProgressInPanel(Dr.panel)})}if(Ir){var Rr=this.visiblePanels;Or.visibleOffset=(fr=(ur=Rr[0])===null||ur===void 0?void 0:ur.index)!==null&&fr!==void 0?fr:0}return Or},ar.setStatus=function(or){var ur;if(!this._initialized)throw new FlickingError(MESSAGE.NOT_INITIALIZED,CODE.NOT_INITIALIZED);var fr=or.index,dr=or.position,pr=or.visibleOffset,br=or.panels,_r=this._renderer,yr=this._control;if(!((ur=br[0])===null||ur===void 0)&&ur.html&&!this._renderExternal&&(_r.batchRemove({index:0,deleteCount:this.panels.length,hasDOMInElements:!0}),_r.batchInsert({index:0,elements:parseElement(br.map(function(kr){return kr.html})),hasDOMInElements:!0})),fr!=null){var mr=pr?fr-pr:fr;this.moveTo(mr,0).catch(function(){})}if(dr&&this._moveType===MOVE_TYPE.FREE_SCROLL){var Er=dr.panel,gr=dr.progressInPanel,mr=pr?Er-pr:Er,Ir=_r.panels[mr].range,Ar=Ir.min+(Ir.max-Ir.min)*gr;yr.moveToPosition(Ar,0).catch(function(){})}},ar.addPlugins=function(){for(var or,ur=this,fr=[],dr=0;dr<arguments.length;dr++)fr[dr]=arguments[dr];return this._initialized&&fr.forEach(function(pr){return pr.init(ur)}),(or=this._plugins).push.apply(or,__spread(fr)),this},ar.removePlugins=function(){for(var or=this,ur=[],fr=0;fr<arguments.length;fr++)ur[fr]=arguments[fr];return ur.forEach(function(dr){var pr=findIndex(or._plugins,function(br){return br===dr});pr>=0&&(dr.destroy(),or._plugins.splice(pr,1))}),this},ar.resize=function(){return __awaiter(this,void 0,void 0,function(){var or,ur,fr,dr,pr,br,_r,yr,mr,Er,gr;return __generator(this,function(Ir){switch(Ir.label){case 0:return or=this._viewport,ur=this._renderer,fr=this._camera,dr=this._control,pr=dr.activePanel,br=or.width,_r=or.height,yr=pr?fr.getProgressInPanel(pr):0,this.trigger(new ComponentEvent$1(EVENTS.BEFORE_RESIZE,{width:br,height:_r,element:or.element})),or.resize(),[4,ur.forceRenderAllPanels()];case 1:return Ir.sent(),this._initialized?(ur.updatePanelSize(),fr.updateAlignPos(),fr.updateRange(),fr.updateAnchors(),fr.updateAdaptiveHeight(),fr.updatePanelOrder(),fr.updateOffset(),[4,ur.render()]):[2];case 2:return Ir.sent(),this._initialized?(dr.animating||(dr.updatePosition(yr),dr.updateInput()),mr=or.width,Er=or.height,gr=mr!==br||Er!==_r,this.trigger(new ComponentEvent$1(EVENTS.AFTER_RESIZE,{width:or.width,height:or.height,prev:{width:br,height:_r},sizeChanged:gr,element:or.element})),[2]):[2]}})})},ar.append=function(or){return this.insert(this._renderer.panelCount,or)},ar.prepend=function(or){return this.insert(0,or)},ar.insert=function(or,ur){if(this._renderExternal)throw new FlickingError(MESSAGE.NOT_ALLOWED_IN_FRAMEWORK,CODE.NOT_ALLOWED_IN_FRAMEWORK);return this._renderer.batchInsert({index:or,elements:parseElement(ur),hasDOMInElements:!0})},ar.remove=function(or,ur){if(ur===void 0&&(ur=1),this._renderExternal)throw new FlickingError(MESSAGE.NOT_ALLOWED_IN_FRAMEWORK,CODE.NOT_ALLOWED_IN_FRAMEWORK);return this._renderer.batchRemove({index:or,deleteCount:ur,hasDOMInElements:!0})},ar._createControl=function(){var or,ur=this._moveType,fr=Object.keys(MOVE_TYPE).map(function(br){return MOVE_TYPE[br]}),dr=Array.isArray(ur)?ur[0]:ur,pr=Array.isArray(ur)?(or=ur[1])!==null&&or!==void 0?or:{}:{};if(!includes(fr,dr))throw new FlickingError(MESSAGE.WRONG_OPTION("moveType",JSON.stringify(ur)),CODE.WRONG_OPTION);switch(dr){case MOVE_TYPE.SNAP:return new SnapControl(pr);case MOVE_TYPE.FREE_SCROLL:return new FreeControl(pr);case MOVE_TYPE.STRICT:return new StrictControl(pr)}},ar._createCamera=function(){return this._circular&&this._bound&&console.warn('"circular" and "bound" option cannot be used together, ignoring bound.'),new Camera(this,{align:this._align})},ar._createRenderer=function(){var or=this._externalRenderer;return this._virtual&&this._panelsPerView<=0&&console.warn('"virtual" and "panelsPerView" option should be used together, ignoring virtual.'),or||(this._renderExternal?this._createExternalRenderer():this._createVanillaRenderer())},ar._createExternalRenderer=function(){var or=this._renderExternal,ur=or.renderer,fr=or.rendererOptions;return new ur(__assign({align:this._align},fr))},ar._createVanillaRenderer=function(){var or=this.virtualEnabled;return new VanillaRenderer({align:this._align,strategy:or?new VirtualRenderingStrategy:new NormalRenderingStrategy({providerCtor:VanillaElementProvider})})},ar._moveToInitialPanel=function(){var or=this._renderer,ur=this._control,fr=this._camera,dr=or.getPanel(this._defaultIndex)||or.getPanel(0);if(dr){var pr=fr.findNearestAnchor(dr.position),br=pr&&dr.index!==pr.panel.index?pr.panel:dr;if(ur.setActive(br,null,!1),!pr)throw new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(br.position),CODE.POSITION_NOT_REACHABLE);var _r=br.position;fr.canReach(br)||(_r=pr.position),fr.lookAt(_r),ur.updateInput(),fr.updateOffset()}},ar._initialResize=function(){var or=this._viewport,ur=this._renderer,fr=this._camera,dr=this._control;this.trigger(new ComponentEvent$1(EVENTS.BEFORE_RESIZE,{width:0,height:0,element:or.element})),or.resize(),ur.updatePanelSize(),fr.updateAlignPos(),fr.updateRange(),fr.updateAnchors(),fr.updateOffset(),dr.updateInput();var pr=or.width,br=or.height,_r=pr!==0||br!==0;this.trigger(new ComponentEvent$1(EVENTS.AFTER_RESIZE,{width:or.width,height:or.height,prev:{width:0,height:0},sizeChanged:_r,element:or.element}))},cr.VERSION="4.11.4",cr}(Component);const flicking="",scriptRel="modulepreload",assetsURL=function(lr){return"/vme/"+lr},seen={},__vitePreload=function(cr,ar,or){if(!ar||ar.length===0)return cr();const ur=document.getElementsByTagName("link");return Promise.all(ar.map(fr=>{if(fr=assetsURL(fr),fr in seen)return;seen[fr]=!0;const dr=fr.endsWith(".css"),pr=dr?'[rel="stylesheet"]':"";if(!!or)for(let yr=ur.length-1;yr>=0;yr--){const mr=ur[yr];if(mr.href===fr&&(!dr||mr.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${fr}"]${pr}`))return;const _r=document.createElement("link");if(_r.rel=dr?"stylesheet":scriptRel,dr||(_r.as="script",_r.crossOrigin=""),_r.href=fr,document.head.appendChild(_r),dr)return new Promise((yr,mr)=>{_r.addEventListener("load",yr),_r.addEventListener("error",()=>mr(new Error(`Unable to preload CSS for ${fr}`)))})})).then(()=>cr()).catch(fr=>{const dr=new Event("vite:preloadError",{cancelable:!0});if(dr.payload=fr,window.dispatchEvent(dr),!dr.defaultPrevented)throw fr})};var __defProp=Object.defineProperty,__defNormalProp=(lr,cr,ar)=>cr in lr?__defProp(lr,cr,{enumerable:!0,configurable:!0,writable:!0,value:ar}):lr[cr]=ar,__publicField=(lr,cr,ar)=>(__defNormalProp(lr,typeof cr!="symbol"?cr+"":cr,ar),ar);function _mergeNamespaces(lr,cr){for(var ar=0;ar<cr.length;ar++){const or=cr[ar];if(typeof or!="string"&&!Array.isArray(or)){for(const ur in or)if(ur!=="default"&&!(ur in lr)){const fr=Object.getOwnPropertyDescriptor(or,ur);fr&&Object.defineProperty(lr,ur,fr.get?fr:{enumerable:!0,get:()=>or[ur]})}}}return Object.freeze(Object.defineProperty(lr,Symbol.toStringTag,{value:"Module"}))}const systemCoreMap={gb:"mgba",gba:"mgba",gbc:"mgba",megadrive:"genesis_plus_gx",nes:"fceumm",snes:"snes9x"};var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(lr){return lr&&lr.__esModule&&Object.prototype.hasOwnProperty.call(lr,"default")?lr.default:lr}const{hasOwnProperty}=Object.prototype,encode=(lr,cr={})=>{typeof cr=="string"&&(cr={section:cr}),cr.align=cr.align===!0,cr.newline=cr.newline===!0,cr.sort=cr.sort===!0,cr.whitespace=cr.whitespace===!0||cr.align===!0,cr.platform=cr.platform||typeof process<"u"&&process.platform,cr.bracketedArray=cr.bracketedArray!==!1;const ar=cr.platform==="win32"?`\r
`:`
`,or=cr.whitespace?" = ":"=",ur=[],fr=cr.sort?Object.keys(lr).sort():Object.keys(lr);let dr=0;cr.align&&(dr=safe(fr.filter(_r=>lr[_r]===null||Array.isArray(lr[_r])||typeof lr[_r]!="object").map(_r=>Array.isArray(lr[_r])?`${_r}[]`:_r).concat([""]).reduce((_r,yr)=>safe(_r).length>=safe(yr).length?_r:yr)).length);let pr="";const br=cr.bracketedArray?"[]":"";for(const _r of fr){const yr=lr[_r];if(yr&&Array.isArray(yr))for(const mr of yr)pr+=safe(`${_r}${br}`).padEnd(dr," ")+or+safe(mr)+ar;else yr&&typeof yr=="object"?ur.push(_r):pr+=safe(_r).padEnd(dr," ")+or+safe(yr)+ar}cr.section&&pr.length&&(pr="["+safe(cr.section)+"]"+(cr.newline?ar+ar:ar)+pr);for(const _r of ur){const yr=splitSections(_r,".").join("\\."),mr=(cr.section?cr.section+".":"")+yr,Er=encode(lr[_r],{...cr,section:mr});pr.length&&Er.length&&(pr+=ar),pr+=Er}return pr};function splitSections(lr,cr){var ar=0,or=0,ur=0,fr=[];do if(ur=lr.indexOf(cr,ar),ur!==-1){if(ar=ur+cr.length,ur>0&&lr[ur-1]==="\\")continue;fr.push(lr.slice(or,ur)),or=ur+cr.length}while(ur!==-1);return fr.push(lr.slice(or)),fr}const decode=(lr,cr={})=>{cr.bracketedArray=cr.bracketedArray!==!1;const ar=Object.create(null);let or=ar,ur=null;const fr=/^\[([^\]]*)\]\s*$|^([^=]+)(=(.*))?$/i,dr=lr.split(/[\r\n]+/g),pr={};for(const _r of dr){if(!_r||_r.match(/^\s*[;#]/)||_r.match(/^\s*$/))continue;const yr=_r.match(fr);if(!yr)continue;if(yr[1]!==void 0){if(ur=unsafe(yr[1]),ur==="__proto__"){or=Object.create(null);continue}or=ar[ur]=ar[ur]||Object.create(null);continue}const mr=unsafe(yr[2]);let Er;cr.bracketedArray?Er=mr.length>2&&mr.slice(-2)==="[]":(pr[mr]=((pr==null?void 0:pr[mr])||0)+1,Er=pr[mr]>1);const gr=Er?mr.slice(0,-2):mr;if(gr==="__proto__")continue;const Ir=yr[3]?unsafe(yr[4]):!0,Ar=Ir==="true"||Ir==="false"||Ir==="null"?JSON.parse(Ir):Ir;Er&&(hasOwnProperty.call(or,gr)?Array.isArray(or[gr])||(or[gr]=[or[gr]]):or[gr]=[]),Array.isArray(or[gr])?or[gr].push(Ar):or[gr]=Ar}const br=[];for(const _r of Object.keys(ar)){if(!hasOwnProperty.call(ar,_r)||typeof ar[_r]!="object"||Array.isArray(ar[_r]))continue;const yr=splitSections(_r,".");or=ar;const mr=yr.pop(),Er=mr.replace(/\\\./g,".");for(const gr of yr)gr!=="__proto__"&&((!hasOwnProperty.call(or,gr)||typeof or[gr]!="object")&&(or[gr]=Object.create(null)),or=or[gr]);or===ar&&Er===mr||(or[Er]=ar[_r],br.push(_r))}for(const _r of br)delete ar[_r];return ar},isQuoted=lr=>lr.startsWith('"')&&lr.endsWith('"')||lr.startsWith("'")&&lr.endsWith("'"),safe=lr=>typeof lr!="string"||lr.match(/[=\r\n]/)||lr.match(/^\[/)||lr.length>1&&isQuoted(lr)||lr!==lr.trim()?JSON.stringify(lr):lr.split(";").join("\\;").split("#").join("\\#"),unsafe=lr=>{if(lr=(lr||"").trim(),isQuoted(lr)){lr.charAt(0)==="'"&&(lr=lr.slice(1,-1));try{lr=JSON.parse(lr)}catch{}}else{let cr=!1,ar="";for(let or=0,ur=lr.length;or<ur;or++){const fr=lr.charAt(or);if(cr)"\\;#".indexOf(fr)!==-1?ar+=fr:ar+="\\"+fr,cr=!1;else{if(";#".indexOf(fr)!==-1)break;fr==="\\"?cr=!0:ar+=fr}}return cr&&(ar+="\\"),ar.trim()}return lr};var ini={parse:decode,decode,stringify:encode,encode,safe,unsafe};const ini$1=getDefaultExportFromCjs(ini),coreInfoMap={81:{corename:"81",savestate:!0},2048:{corename:"2048",savestate:!0,supportsNoGame:!0},"3dengine":{corename:"3DEngine"},"4do":{corename:"4DO",savestate:!0},a5200:{corename:"a5200",savestate:!0},advanced_tests:{corename:"Advanced Test",supportsNoGame:!0},ardens:{corename:"Ardens",savestate:!0},arduous:{corename:"Arduous"},atari800:{corename:"Atari800",savestate:!0},bk:{corename:"bk",savestate:!0},blastem:{corename:"BlastEm",savestate:!0},bluemsx:{corename:"blueMSX",savestate:!0},bnes:{corename:"bnes/higan",savestate:!0},boom3:{corename:"boom3"},boom3_xp:{corename:"boom3_xp"},bsnes_cplusplus98:{cheats:!0,corename:"bsnes C++98 (v085)",savestate:!0},bsnes_hd_beta:{corename:"bsnes-hd beta",savestate:!0},bsnes:{corename:"bsnes",savestate:!0},bsnes_mercury_accuracy:{cheats:!0,corename:"bsnes-mercury Accuracy",savestate:!0},bsnes_mercury_balanced:{cheats:!0,corename:"bsnes-mercury Balanced",savestate:!0},bsnes_mercury_performance:{cheats:!0,corename:"bsnes-mercury Performance",savestate:!0},bsnes2014_accuracy:{cheats:!0,corename:"bsnes 2014 Accuracy",savestate:!0},bsnes2014_balanced:{cheats:!0,corename:"bsnes 2014 Balanced",savestate:!0},bsnes2014_performance:{cheats:!0,corename:"bsnes 2014 Performance",savestate:!0},cannonball:{corename:"Cannonball",supportsNoGame:!0},cap32:{corename:"Caprice32",savestate:!0,supportsNoGame:!0},cdi2015:{corename:"Philips CDi 2015"},chailove:{cheats:!0,corename:"ChaiLove",savestate:!0},chimerasnes:{cheats:!0,corename:"ChimeraSNES",savestate:!0},citra_canary:{corename:"Citra Canary/Experimental"},citra:{corename:"Citra",savestate:!0},citra2018:{corename:"Citra 2018"},craft:{corename:"Craft",supportsNoGame:!0},crocods:{corename:"CrocoDS",savestate:!0},cruzes:{corename:"Cruzes",supportsNoGame:!0},daphne:{corename:"Daphne"},desmume:{cheats:!0,corename:"DeSmuME",savestate:!0},desmume2015:{cheats:!0,corename:"DeSmuME 2015",savestate:!0},dinothawr:{corename:"Dinothawr",supportsNoGame:!0},directxbox:{corename:"DirectXBox"},dirksimple:{corename:"DirkSimple",savestate:!0},dolphin_launcher:{corename:"Dolphin Launcher",supportsNoGame:!0},dolphin:{corename:"Dolphin",savestate:!0},dosbox_core:{corename:"DOSBox-core",supportsNoGame:!0},dosbox:{corename:"DOSBox",supportsNoGame:!0},dosbox_pure:{cheats:!0,corename:"DOSBox-pure",savestate:!0,supportsNoGame:!0},dosbox_svn_ce:{corename:"DOSBox-SVN CE",supportsNoGame:!0},dosbox_svn:{corename:"DOSBox-SVN",supportsNoGame:!0},duckstation:{corename:"DuckStation",savestate:!0},easyrpg:{corename:"EasyRPG Player"},ecwolf:{corename:"ECWolf",savestate:!0},emuscv:{corename:"EmuSCV",supportsNoGame:!0},emux_chip8:{corename:"Emux CHIP-8"},emux_gb:{corename:"Emux GB"},emux_nes:{corename:"Emux NES"},emux_sms:{corename:"Emux SMS"},ep128emu_core:{cheats:!0,corename:"ep128emu-core",savestate:!0,supportsNoGame:!0},fake08:{corename:"FAKE-08",savestate:!0},fbalpha2012_cps1:{corename:"FB Alpha 2012 CPS-1",savestate:!0},fbalpha2012_cps2:{corename:"FB Alpha 2012 CPS-2",savestate:!0},fbalpha2012_cps3:{corename:"FB Alpha 2012 CPS-3",savestate:!0},fbalpha2012:{corename:"FB Alpha 2012",savestate:!0},fbalpha2012_neogeo:{corename:"FB Alpha 2012 Neo Geo",savestate:!0},fbneo:{cheats:!0,corename:"FinalBurn Neo",savestate:!0},fceumm:{cheats:!0,corename:"FCEUmm",savestate:!0},ffmpeg:{corename:"FFmpeg"},fixgb:{corename:"fixGB"},fixnes:{corename:"fixNES"},flycast_gles2:{corename:"Flycast GLES2",savestate:!0},flycast:{corename:"Flycast",savestate:!0},fmsx:{corename:"fMSX"},freechaf:{corename:"FreeChaF"},freeintv:{corename:"FreeIntv"},freej2me:{corename:"FreeJ2ME"},frodo:{corename:"Frodo"},fsuae:{corename:"FS-UAE"},fuse:{corename:"Fuse"},galaksija:{corename:"galaksija",supportsNoGame:!0},gambatte:{corename:"Gambatte",savestate:!0},gearboy:{corename:"Gearboy"},gearcoleco:{corename:"Gearcoleco"},gearsystem:{corename:"Gearsystem"},genesis_plus_gx:{cheats:!0,corename:"Genesis Plus GX",savestate:!0},genesis_plus_gx_wide:{cheats:!0,corename:"Genesis Plus GX Wide",savestate:!0},gme:{corename:"Game Music Emu"},gong:{corename:"Gong",savestate:!0,supportsNoGame:!0},gpsp:{corename:"gpSP",savestate:!0},gw:{corename:"GW"},handy:{corename:"Handy",savestate:!0},hatari:{corename:"Hatari",savestate:!0},hbmame:{corename:"HBMAME (Git)"},higan_sfc_balanced:{corename:"nSide (Super Famicom Balanced)",savestate:!0},higan_sfc:{corename:"nSide (Super Famicom Accuracy)",savestate:!0},imageviewer:{corename:"Imageviewer"},ishiiruka:{corename:"Ishiiruka",savestate:!0},jaxe:{corename:"JAXE"},jumpnbump:{corename:"jumpnbump"},kronos:{cheats:!0,corename:"Kronos",savestate:!0},lowresnx:{corename:"lowresnx"},lutro:{corename:"Lutro"},mame:{corename:"MAME",savestate:!0},mame2000:{corename:"MAME 2000 (0.37b5)",savestate:!0},mame2003:{corename:"MAME 2003 (0.78)",savestate:!0},mame2003_midway:{corename:"MAME 2003 Midway (0.78)",savestate:!0},mame2003_plus:{corename:"MAME 2003-Plus",savestate:!0},mame2009:{corename:"MAME 2009 (0.135u4)"},mame2010:{corename:"MAME 2010 (0.139)"},mame2015:{corename:"MAME 2015 (0.160)"},mame2016:{corename:"MAME 2016 (0.174)"},mamearcade:{corename:"MAME (Git)"},mamemess:{corename:"MESS (Git)",savestate:!0},mednafen_gba:{corename:"Beetle GBA"},mednafen_lynx:{corename:"Beetle Lynx"},mednafen_ngp:{corename:"Beetle NeoPop",savestate:!0},mednafen_pce_fast:{corename:"Beetle PCE Fast",savestate:!0},mednafen_pce:{corename:"Beetle PCE",savestate:!0},mednafen_pcfx:{corename:"Beetle PC-FX"},mednafen_psx_hw:{cheats:!0,corename:"Beetle PSX HW",savestate:!0},mednafen_psx:{cheats:!0,corename:"Beetle PSX",savestate:!0},mednafen_saturn:{cheats:!0,corename:"Beetle Saturn",savestate:!0},mednafen_snes:{corename:"Beetle bsnes",savestate:!0},mednafen_supafaust:{cheats:!0,corename:"Beetle Supafaust",savestate:!0},mednafen_supergrafx:{cheats:!0,corename:"Beetle SuperGrafx",savestate:!0},mednafen_vb:{corename:"Beetle VB"},mednafen_wswan:{corename:"Beetle WonderSwan",savestate:!0},melonds:{corename:"melonDS"},mesen:{cheats:!0,corename:"Mesen",savestate:!0},"mesen-s":{corename:"Mesen-S"},mess2015:{corename:"MESS 2015 (0.160)"},meteor:{corename:"Meteor"},mgba:{cheats:!0,corename:"mGBA",savestate:!0},minivmac:{corename:"MinivmacII"},mojozork:{corename:"mojozork",savestate:!0},moonlight:{corename:"Moonlight",supportsNoGame:!0},mpv:{corename:"MPV"},mrboom:{corename:"Mr.Boom",savestate:!0,supportsNoGame:!0},mu:{corename:"Mu",supportsNoGame:!0},mupen64plus_next_develop:{cheats:!0,corename:"Mupen64Plus-Next",savestate:!0},mupen64plus_next_gles2:{cheats:!0,corename:"Mupen64Plus-Next",savestate:!0},mupen64plus_next_gles3:{cheats:!0,corename:"Mupen64Plus-Next",savestate:!0},mupen64plus_next:{cheats:!0,corename:"Mupen64Plus-Next",savestate:!0},nekop2:{corename:"Neko Project II",savestate:!0},neocd:{corename:"NeoCD"},nes:{corename:"nes",savestate:!0},nestopia:{cheats:!0,corename:"Nestopia",savestate:!0},np2kai:{corename:"Neko Project II Kai",savestate:!0},numero:{corename:"Numero",savestate:!0,supportsNoGame:!0},nxengine:{corename:"NXEngine",supportsNoGame:!0},o2em:{corename:"O2EM",savestate:!0},oberon:{corename:"Oberon"},openlara:{corename:"OpenLara"},opentyrian:{corename:"OpenTyrian",supportsNoGame:!0},opera:{corename:"Opera",savestate:!0,supportsNoGame:!0},parallel_n64_debug:{corename:"ParaLLEl (Debug)",savestate:!0},parallel_n64:{corename:"ParaLLEl N64",savestate:!0},pascal_pong:{corename:"PascalPong",supportsNoGame:!0},pcem:{corename:"PCem",supportsNoGame:!0},pcsx_rearmed_interpreter:{cheats:!0,corename:"PCSX ReARMed [Interpreter]",savestate:!0},pcsx_rearmed:{cheats:!0,corename:"PCSX-ReARMed",savestate:!0},pcsx_rearmed_neon:{cheats:!0,corename:"PCSX ReARMed [NEON]",savestate:!0},pcsx1:{corename:"PCSX1"},pcsx2:{corename:"LRPS2",savestate:!0},picodrive:{cheats:!0,corename:"PicoDrive",savestate:!0},play:{corename:"Play!",savestate:!0},pocketcdg:{corename:"PocketCDG"},pokemini:{corename:"PokeMini",savestate:!0},potator:{corename:"Potator",savestate:!0},ppsspp:{corename:"PPSSPP",savestate:!0},prboom:{cheats:!0,corename:"PrBoom",savestate:!0},prosystem:{corename:"ProSystem",savestate:!0},puae:{cheats:!0,corename:"PUAE",savestate:!0,supportsNoGame:!0},puae2021:{cheats:!0,corename:"PUAE 2021",savestate:!0,supportsNoGame:!0},puzzlescript:{corename:"puzzlescript",savestate:!0},px68k:{corename:"PX68k",supportsNoGame:!0},quasi88:{cheats:!0,corename:"QUASI88",savestate:!0,supportsNoGame:!0},quicknes:{corename:"QuickNES",savestate:!0},race:{corename:"RACE",savestate:!0},redbook:{corename:"Redbook"},reminiscence:{corename:"REminiscence",savestate:!0},remotejoy:{corename:"RemoteJoy",supportsNoGame:!0},retro8:{corename:"Retro8"},retrodream:{corename:"RetroDream"},rustation:{corename:"Rustation"},same_cdi:{corename:"SAME CDi (Git)"},sameboy:{corename:"SameBoy"},sameduck:{corename:"SameDuck",savestate:!0},scummvm:{corename:"ScummVM",supportsNoGame:!0},simcp:{corename:"SimCoupe"},smsplus:{corename:"SMS Plus GX"},snes9x:{cheats:!0,corename:"Snes9x",savestate:!0},snes9x2002:{cheats:!0,corename:"Snes9x 2002",savestate:!0},snes9x2005:{cheats:!0,corename:"Snes9x 2005",savestate:!0},snes9x2005_plus:{cheats:!0,corename:"Snes9x 2005 Plus",savestate:!0},snes9x2010:{cheats:!0,corename:"Snes9x 2010",savestate:!0},squirreljme:{corename:"SquirrelJME",supportsNoGame:!0},stella:{corename:"Stella",savestate:!0},stella2014:{corename:"Stella 2014",savestate:!0},stonesoup:{corename:"Dungeon Crawl Stone Soup"},superbroswar:{corename:"superbroswar"},swanstation:{corename:"SwanStation",savestate:!0},tempgba:{corename:"TempGBA"},test:{corename:"Test",supportsNoGame:!0},test_netplay:{corename:"netplay-test",supportsNoGame:!0},testaudio_callback:{corename:"TestAudio Callback",supportsNoGame:!0},testaudio_no_callback:{corename:"TestAudio NoCallback",supportsNoGame:!0},testaudio_playback_wav:{corename:"TestAudio Playback Wav",supportsNoGame:!0},testgl_compute_shaders:{corename:"TestGL ComputeShaders",supportsNoGame:!0},testgl_ff:{corename:"TestGL (FF)",supportsNoGame:!0},testgl:{corename:"TestGL",supportsNoGame:!0},testinput_buttontest:{corename:"Button Test",supportsNoGame:!0},testretroluxury:{corename:"Test RetroLuxury",supportsNoGame:!0},testsw:{corename:"TestSW",supportsNoGame:!0},testsw_vram:{corename:"TestSW VRAM",supportsNoGame:!0},testvulkan_async_compute:{corename:"TestVulkan AsyncCompute",supportsNoGame:!0},testvulkan:{corename:"TestVulkan",supportsNoGame:!0},tgbdual:{corename:"TGB Dual",savestate:!0},theodore:{corename:"theodore",savestate:!0,supportsNoGame:!0},thepowdertoy:{corename:"ThePowderToy",savestate:!0,supportsNoGame:!0},tic80:{cheats:!0,corename:"TIC-80",savestate:!0},tyrquake:{cheats:!0,corename:"TyrQuake"},uae4arm:{corename:"UAE4ARM",savestate:!0},ume2015:{corename:"UME 2015 (0.160)"},uw8:{corename:"MicroW8",savestate:!0},uzem:{corename:"uzem",savestate:!0},vaporspec:{corename:"VaporSpec",savestate:!0},vba_next:{corename:"VBA Next",savestate:!0},vbam:{cheats:!0,corename:"VBA-M",savestate:!0},vecx:{corename:"vecx",savestate:!0},vemulator:{corename:"VeMUlator"},vice_x128:{cheats:!0,corename:"VICE x128",savestate:!0,supportsNoGame:!0},vice_x64:{cheats:!0,corename:"VICE x64",savestate:!0,supportsNoGame:!0},vice_x64dtv:{cheats:!0,corename:"VICE x64dtv",savestate:!0,supportsNoGame:!0},vice_x64sc:{cheats:!0,corename:"VICE x64sc",savestate:!0,supportsNoGame:!0},vice_xcbm2:{cheats:!0,corename:"VICE xcbm2",savestate:!0,supportsNoGame:!0},vice_xcbm5x0:{cheats:!0,corename:"VICE xcbm5x0",savestate:!0,supportsNoGame:!0},vice_xpet:{cheats:!0,corename:"VICE xpet",savestate:!0,supportsNoGame:!0},vice_xplus4:{cheats:!0,corename:"VICE xplus4",savestate:!0,supportsNoGame:!0},vice_xscpu64:{cheats:!0,corename:"VICE xscpu64",savestate:!0,supportsNoGame:!0},vice_xvic:{cheats:!0,corename:"VICE xvic",savestate:!0,supportsNoGame:!0},vircon32:{corename:"Vircon32",supportsNoGame:!0},virtualjaguar:{corename:"Virtual Jaguar"},virtualxt:{corename:"virtualxt"},vitaquake2:{corename:"vitaQuake 2"},"vitaquake2-rogue":{corename:"vitaQuake 2 [Rogue]"},"vitaquake2-xatrix":{corename:"vitaQuake 2 [Xatrix]"},"vitaquake2-zaero":{corename:"vitaQuake 2 [Zaero]"},vitaquake3:{corename:"vitaQuake 3"},vitavoyager:{corename:"vitaVoyager"},wasm4:{corename:"WASM-4",savestate:!0},x1:{corename:"x1"},x64sdl:{corename:"VICE SDL"},xrick:{corename:"XRick",supportsNoGame:!0},yabasanshiro:{cheats:!0,corename:"YabaSanshiro",savestate:!0},yabause:{cheats:!0,corename:"Yabause",savestate:!0}},keyboardCodeMap={left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown",enter:"Enter",kp_enter:"NumpadEnter",tab:"Tab",insert:"Insert",del:"Delete",end:"End",home:"Home",shift:"ShiftLeft",rshift:"ShiftRight",ctrl:"ControlLeft",alt:"AltLeft",space:"Space",escape:"Escape",add:"NumpadAdd",subtract:"NumpadSubtract",kp_plus:"NumpadAdd",kp_minus:"NumpadSubtract",pageup:"PageUp",pagedown:"PageDown",period:"Period",capslock:"CapsLock",numlock:"NumLock",backspace:"Backspace",multiply:"NumpadMultiply",divide:"NumpadDivide",print_screen:"PrintScreen",scroll_lock:"ScrollLock",tilde:"",backquote:"Backquote",pause:"Pause",quote:"Quote",comma:"Comma",minus:"Minus",slash:"Slash",semicolon:"Semicolon",equals:"Equal",leftbracket:"BracketLeft",backslash:"",rightbracket:"BracketRight",kp_period:"NumpadDecimal",kp_equals:"NumpadEquals",rctrl:"ControlRight",ralt:"AltRight"};var browserfs$2={exports:{}};(function(lr,cr){(function(or,ur){lr.exports=ur()})(commonjsGlobal,function(){return function(ar){var or={};function ur(fr){if(or[fr])return or[fr].exports;var dr=or[fr]={exports:{},id:fr,loaded:!1};return ar[fr].call(dr.exports,dr,dr.exports,ur),dr.loaded=!0,dr.exports}return ur.m=ar,ur.c=or,ur.p="",ur(0)}([function(ar,or,ur){(function(fr,dr,pr,br){Object.defineProperty(or,"__esModule",{value:!0});var _r=ur(2),yr=ur(9),mr;(function(wr){wr[wr.EPERM=1]="EPERM",wr[wr.ENOENT=2]="ENOENT",wr[wr.EIO=5]="EIO",wr[wr.EBADF=9]="EBADF",wr[wr.EACCES=13]="EACCES",wr[wr.EBUSY=16]="EBUSY",wr[wr.EEXIST=17]="EEXIST",wr[wr.ENOTDIR=20]="ENOTDIR",wr[wr.EISDIR=21]="EISDIR",wr[wr.EINVAL=22]="EINVAL",wr[wr.EFBIG=27]="EFBIG",wr[wr.ENOSPC=28]="ENOSPC",wr[wr.EROFS=30]="EROFS",wr[wr.ENOTEMPTY=39]="ENOTEMPTY",wr[wr.ENOTSUP=95]="ENOTSUP"})(mr||(mr={}));var Er={};Er[mr.EPERM]="Operation not permitted.",Er[mr.ENOENT]="No such file or directory.",Er[mr.EIO]="Input/output error.",Er[mr.EBADF]="Bad file descriptor.",Er[mr.EACCES]="Permission denied.",Er[mr.EBUSY]="Resource busy or locked.",Er[mr.EEXIST]="File exists.",Er[mr.ENOTDIR]="File is not a directory.",Er[mr.EISDIR]="File is a directory.",Er[mr.EINVAL]="Invalid argument.",Er[mr.EFBIG]="File is too big.",Er[mr.ENOSPC]="No space left on disk.",Er[mr.EROFS]="Cannot modify a read-only file system.",Er[mr.ENOTEMPTY]="Directory is not empty.",Er[mr.ENOTSUP]="Operation is not supported.";var gr=function(wr){function hr(vr,xr,Sr){xr===void 0&&(xr=Er[vr]),wr.call(this,xr),this.syscall="",this.errno=vr,this.code=mr[vr],this.path=Sr,this.stack=new wr().stack,this.message="Error: "+this.code+": "+xr+(this.path?", '"+this.path+"'":"")}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.fromJSON=function(xr){var Sr=new hr(0);return Sr.errno=xr.errno,Sr.code=xr.code,Sr.path=xr.path,Sr.stack=xr.stack,Sr.message=xr.message,Sr},hr.fromBuffer=function(xr,Sr){return Sr===void 0&&(Sr=0),hr.fromJSON(JSON.parse(xr.toString("utf8",Sr+4,Sr+4+xr.readUInt32LE(Sr))))},hr.FileError=function(xr,Sr){return new hr(xr,Er[xr],Sr)},hr.ENOENT=function(xr){return this.FileError(mr.ENOENT,xr)},hr.EEXIST=function(xr){return this.FileError(mr.EEXIST,xr)},hr.EISDIR=function(xr){return this.FileError(mr.EISDIR,xr)},hr.ENOTDIR=function(xr){return this.FileError(mr.ENOTDIR,xr)},hr.EPERM=function(xr){return this.FileError(mr.EPERM,xr)},hr.ENOTEMPTY=function(xr){return this.FileError(mr.ENOTEMPTY,xr)},hr.prototype.toString=function(){return this.message},hr.prototype.toJSON=function(){return{errno:this.errno,code:this.code,path:this.path,stack:this.stack,message:this.message}},hr.prototype.writeToBuffer=function(xr,Sr){xr===void 0&&(xr=fr.alloc(this.bufferSize())),Sr===void 0&&(Sr=0);var Cr=xr.write(JSON.stringify(this.toJSON()),Sr+4);return xr.writeUInt32LE(Cr,Sr),xr},hr.prototype.bufferSize=function(){return 4+fr.byteLength(JSON.stringify(this.toJSON()))},hr}(Error),Ir=Object.freeze({get ErrorCode(){return mr},ErrorStrings:Er,ApiError:gr}),Ar;(function(wr){wr[wr.NOP=0]="NOP",wr[wr.THROW_EXCEPTION=1]="THROW_EXCEPTION",wr[wr.TRUNCATE_FILE=2]="TRUNCATE_FILE",wr[wr.CREATE_FILE=3]="CREATE_FILE"})(Ar||(Ar={}));var kr=function wr(hr){if(this.flagStr=hr,wr.validFlagStrs.indexOf(hr)<0)throw new gr(mr.EINVAL,"Invalid flag: "+hr)};kr.getFileFlag=function(hr){return kr.flagCache.hasOwnProperty(hr)?kr.flagCache[hr]:kr.flagCache[hr]=new kr(hr)},kr.prototype.getFlagString=function(){return this.flagStr},kr.prototype.isReadable=function(){return this.flagStr.indexOf("r")!==-1||this.flagStr.indexOf("+")!==-1},kr.prototype.isWriteable=function(){return this.flagStr.indexOf("w")!==-1||this.flagStr.indexOf("a")!==-1||this.flagStr.indexOf("+")!==-1},kr.prototype.isTruncating=function(){return this.flagStr.indexOf("w")!==-1},kr.prototype.isAppendable=function(){return this.flagStr.indexOf("a")!==-1},kr.prototype.isSynchronous=function(){return this.flagStr.indexOf("s")!==-1},kr.prototype.isExclusive=function(){return this.flagStr.indexOf("x")!==-1},kr.prototype.pathExistsAction=function(){return this.isExclusive()?Ar.THROW_EXCEPTION:this.isTruncating()?Ar.TRUNCATE_FILE:Ar.NOP},kr.prototype.pathNotExistsAction=function(){return(this.isWriteable()||this.isAppendable())&&this.flagStr!=="r+"?Ar.CREATE_FILE:Ar.THROW_EXCEPTION},kr.flagCache={},kr.validFlagStrs=["r","r+","rs","rs+","w","wx","w+","wx+","a","ax","a+","ax+"];var Or;(function(wr){wr[wr.FILE=32768]="FILE",wr[wr.DIRECTORY=16384]="DIRECTORY",wr[wr.SYMLINK=40960]="SYMLINK"})(Or||(Or={}));var Dr=function(hr,vr,xr,Sr,Cr,Tr){if(Sr===void 0&&(Sr=new Date),Cr===void 0&&(Cr=new Date),Tr===void 0&&(Tr=new Date),this.size=vr,this.atime=Sr,this.mtime=Cr,this.ctime=Tr,this.dev=0,this.ino=0,this.rdev=0,this.nlink=1,this.blksize=4096,this.uid=0,this.gid=0,this.birthtime=new Date(0),this.fileData=null,xr)this.mode=xr;else switch(hr){case Or.FILE:this.mode=420;break;case Or.DIRECTORY:default:this.mode=511}this.blocks=Math.ceil(vr/512),this.mode<4096&&(this.mode|=hr)};Dr.fromBuffer=function(hr){var vr=hr.readUInt32LE(0),xr=hr.readUInt32LE(4),Sr=hr.readDoubleLE(8),Cr=hr.readDoubleLE(16),Tr=hr.readDoubleLE(24);return new Dr(xr&61440,vr,xr&4095,new Date(Sr),new Date(Cr),new Date(Tr))},Dr.prototype.toBuffer=function(){var hr=fr.alloc(32);return hr.writeUInt32LE(this.size,0),hr.writeUInt32LE(this.mode,4),hr.writeDoubleLE(this.atime.getTime(),8),hr.writeDoubleLE(this.mtime.getTime(),16),hr.writeDoubleLE(this.ctime.getTime(),24),hr},Dr.prototype.clone=function(){return new Dr(this.mode&61440,this.size,this.mode&4095,this.atime,this.mtime,this.ctime)},Dr.prototype.isFile=function(){return(this.mode&61440)===Or.FILE},Dr.prototype.isDirectory=function(){return(this.mode&61440)===Or.DIRECTORY},Dr.prototype.isSymbolicLink=function(){return(this.mode&61440)===Or.SYMLINK},Dr.prototype.chmod=function(hr){this.mode=this.mode&61440|hr},Dr.prototype.isSocket=function(){return!1},Dr.prototype.isBlockDevice=function(){return!1},Dr.prototype.isCharacterDevice=function(){return!1},Dr.prototype.isFIFO=function(){return!1};var Rr=function(wr,hr){return wr};function Fr(wr){if(wr)return wr;throw new gr(mr.EIO,"Initialize BrowserFS with a file system using BrowserFS.initialize(filesystem)")}function Nr(wr,hr){switch(typeof wr){case"number":return wr;case"string":var vr=parseInt(wr,8);return isNaN(vr)?hr:vr;default:return hr}}function Hr(wr){if(wr instanceof Date)return wr;if(typeof wr=="number")return new Date(wr*1e3);throw new gr(mr.EINVAL,"Invalid time.")}function Ur(wr){if(wr.indexOf("\0")>=0)throw new gr(mr.EINVAL,"Path must be a string without null bytes.");if(wr==="")throw new gr(mr.EINVAL,"Path must not be empty.");return yr.resolve(wr)}function Zr(wr,hr,vr,xr){switch(typeof wr){case"object":return{encoding:typeof wr.encoding<"u"?wr.encoding:hr,flag:typeof wr.flag<"u"?wr.flag:vr,mode:Nr(wr.mode,xr)};case"string":return{encoding:wr,flag:vr,mode:xr};default:return{encoding:hr,flag:vr,mode:xr}}}function Gr(){}var jr=function(){this.F_OK=0,this.R_OK=4,this.W_OK=2,this.X_OK=1,this.root=null,this.fdMap={},this.nextFd=100};jr.prototype.initialize=function(hr){if(!hr.constructor.isAvailable())throw new gr(mr.EINVAL,"Tried to instantiate BrowserFS with an unavailable file system.");return this.root=hr},jr.prototype._toUnixTimestamp=function(hr){if(typeof hr=="number")return hr;if(hr instanceof Date)return hr.getTime()/1e3;throw new Error("Cannot parse time: "+hr)},jr.prototype.getRootFS=function(){return this.root?this.root:null},jr.prototype.rename=function(hr,vr,xr){xr===void 0&&(xr=Gr);var Sr=Rr(xr,1);try{Fr(this.root).rename(Ur(hr),Ur(vr),Sr)}catch(Cr){Sr(Cr)}},jr.prototype.renameSync=function(hr,vr){Fr(this.root).renameSync(Ur(hr),Ur(vr))},jr.prototype.exists=function(hr,vr){vr===void 0&&(vr=Gr);var xr=Rr(vr,1);try{return Fr(this.root).exists(Ur(hr),xr)}catch{return xr(!1)}},jr.prototype.existsSync=function(hr){try{return Fr(this.root).existsSync(Ur(hr))}catch{return!1}},jr.prototype.stat=function(hr,vr){vr===void 0&&(vr=Gr);var xr=Rr(vr,2);try{return Fr(this.root).stat(Ur(hr),!1,xr)}catch(Sr){return xr(Sr)}},jr.prototype.statSync=function(hr){return Fr(this.root).statSync(Ur(hr),!1)},jr.prototype.lstat=function(hr,vr){vr===void 0&&(vr=Gr);var xr=Rr(vr,2);try{return Fr(this.root).stat(Ur(hr),!0,xr)}catch(Sr){return xr(Sr)}},jr.prototype.lstatSync=function(hr){return Fr(this.root).statSync(Ur(hr),!0)},jr.prototype.truncate=function(hr,vr,xr){vr===void 0&&(vr=0),xr===void 0&&(xr=Gr);var Sr=0;typeof vr=="function"?xr=vr:typeof vr=="number"&&(Sr=vr);var Cr=Rr(xr,1);try{if(Sr<0)throw new gr(mr.EINVAL);return Fr(this.root).truncate(Ur(hr),Sr,Cr)}catch(Tr){return Cr(Tr)}},jr.prototype.truncateSync=function(hr,vr){if(vr===void 0&&(vr=0),vr<0)throw new gr(mr.EINVAL);return Fr(this.root).truncateSync(Ur(hr),vr)},jr.prototype.unlink=function(hr,vr){vr===void 0&&(vr=Gr);var xr=Rr(vr,1);try{return Fr(this.root).unlink(Ur(hr),xr)}catch(Sr){return xr(Sr)}},jr.prototype.unlinkSync=function(hr){return Fr(this.root).unlinkSync(Ur(hr))},jr.prototype.open=function(hr,vr,xr,Sr){var Cr=this;Sr===void 0&&(Sr=Gr);var Tr=Nr(xr,420);Sr=typeof xr=="function"?xr:Sr;var Br=Rr(Sr,2);try{Fr(this.root).open(Ur(hr),kr.getFileFlag(vr),Tr,function(zr,Qr){Qr?Br(zr,Cr.getFdForFile(Qr)):Br(zr)})}catch(zr){Br(zr)}},jr.prototype.openSync=function(hr,vr,xr){return xr===void 0&&(xr=420),this.getFdForFile(Fr(this.root).openSync(Ur(hr),kr.getFileFlag(vr),Nr(xr,420)))},jr.prototype.readFile=function(hr,vr,xr){vr===void 0&&(vr={}),xr===void 0&&(xr=Gr);var Sr=Zr(vr,null,"r",null);xr=typeof vr=="function"?vr:xr;var Cr=Rr(xr,2);try{var Tr=kr.getFileFlag(Sr.flag);return Tr.isReadable()?Fr(this.root).readFile(Ur(hr),Sr.encoding,Tr,Cr):Cr(new gr(mr.EINVAL,"Flag passed to readFile must allow for reading."))}catch(Br){return Cr(Br)}},jr.prototype.readFileSync=function(hr,vr){vr===void 0&&(vr={});var xr=Zr(vr,null,"r",null),Sr=kr.getFileFlag(xr.flag);if(!Sr.isReadable())throw new gr(mr.EINVAL,"Flag passed to readFile must allow for reading.");return Fr(this.root).readFileSync(Ur(hr),xr.encoding,Sr)},jr.prototype.writeFile=function(hr,vr,xr,Sr){xr===void 0&&(xr={}),Sr===void 0&&(Sr=Gr);var Cr=Zr(xr,"utf8","w",420);Sr=typeof xr=="function"?xr:Sr;var Tr=Rr(Sr,1);try{var Br=kr.getFileFlag(Cr.flag);return Br.isWriteable()?Fr(this.root).writeFile(Ur(hr),vr,Cr.encoding,Br,Cr.mode,Tr):Tr(new gr(mr.EINVAL,"Flag passed to writeFile must allow for writing."))}catch(zr){return Tr(zr)}},jr.prototype.writeFileSync=function(hr,vr,xr){var Sr=Zr(xr,"utf8","w",420),Cr=kr.getFileFlag(Sr.flag);if(!Cr.isWriteable())throw new gr(mr.EINVAL,"Flag passed to writeFile must allow for writing.");return Fr(this.root).writeFileSync(Ur(hr),vr,Sr.encoding,Cr,Sr.mode)},jr.prototype.appendFile=function(hr,vr,xr,Sr){Sr===void 0&&(Sr=Gr);var Cr=Zr(xr,"utf8","a",420);Sr=typeof xr=="function"?xr:Sr;var Tr=Rr(Sr,1);try{var Br=kr.getFileFlag(Cr.flag);if(!Br.isAppendable())return Tr(new gr(mr.EINVAL,"Flag passed to appendFile must allow for appending."));Fr(this.root).appendFile(Ur(hr),vr,Cr.encoding,Br,Cr.mode,Tr)}catch(zr){Tr(zr)}},jr.prototype.appendFileSync=function(hr,vr,xr){var Sr=Zr(xr,"utf8","a",420),Cr=kr.getFileFlag(Sr.flag);if(!Cr.isAppendable())throw new gr(mr.EINVAL,"Flag passed to appendFile must allow for appending.");return Fr(this.root).appendFileSync(Ur(hr),vr,Sr.encoding,Cr,Sr.mode)},jr.prototype.fstat=function(hr,vr){vr===void 0&&(vr=Gr);var xr=Rr(vr,2);try{var Sr=this.fd2file(hr);Sr.stat(xr)}catch(Cr){xr(Cr)}},jr.prototype.fstatSync=function(hr){return this.fd2file(hr).statSync()},jr.prototype.close=function(hr,vr){var xr=this;vr===void 0&&(vr=Gr);var Sr=Rr(vr,1);try{this.fd2file(hr).close(function(Cr){Cr||xr.closeFd(hr),Sr(Cr)})}catch(Cr){Sr(Cr)}},jr.prototype.closeSync=function(hr){this.fd2file(hr).closeSync(),this.closeFd(hr)},jr.prototype.ftruncate=function(hr,vr,xr){xr===void 0&&(xr=Gr);var Sr=typeof vr=="number"?vr:0;xr=typeof vr=="function"?vr:xr;var Cr=Rr(xr,1);try{var Tr=this.fd2file(hr);if(Sr<0)throw new gr(mr.EINVAL);Tr.truncate(Sr,Cr)}catch(Br){Cr(Br)}},jr.prototype.ftruncateSync=function(hr,vr){vr===void 0&&(vr=0);var xr=this.fd2file(hr);if(vr<0)throw new gr(mr.EINVAL);xr.truncateSync(vr)},jr.prototype.fsync=function(hr,vr){vr===void 0&&(vr=Gr);var xr=Rr(vr,1);try{this.fd2file(hr).sync(xr)}catch(Sr){xr(Sr)}},jr.prototype.fsyncSync=function(hr){this.fd2file(hr).syncSync()},jr.prototype.fdatasync=function(hr,vr){vr===void 0&&(vr=Gr);var xr=Rr(vr,1);try{this.fd2file(hr).datasync(xr)}catch(Sr){xr(Sr)}},jr.prototype.fdatasyncSync=function(hr){this.fd2file(hr).datasyncSync()},jr.prototype.write=function(hr,vr,xr,Sr,Cr,Tr){Tr===void 0&&(Tr=Gr);var Br,zr,Qr,li=null;if(typeof vr=="string"){var gi="utf8";switch(typeof xr){case"function":Tr=xr;break;case"number":li=xr,gi=typeof Sr=="string"?Sr:"utf8",Tr=typeof Cr=="function"?Cr:Tr;break;default:return Tr=typeof Sr=="function"?Sr:typeof Cr=="function"?Cr:Tr,Tr(new gr(mr.EINVAL,"Invalid arguments."))}Br=fr.from(vr,gi),zr=0,Qr=Br.length}else Br=vr,zr=xr,Qr=Sr,li=typeof Cr=="number"?Cr:null,Tr=typeof Cr=="function"?Cr:Tr;var Ii=Rr(Tr,3);try{var Ni=this.fd2file(hr);li==null&&(li=Ni.getPos()),Ni.write(Br,zr,Qr,li,Ii)}catch(Li){Ii(Li)}},jr.prototype.writeSync=function(hr,vr,xr,Sr,Cr){var Tr,Br=0,zr,Qr;if(typeof vr=="string"){Qr=typeof xr=="number"?xr:null;var li=typeof Sr=="string"?Sr:"utf8";Br=0,Tr=fr.from(vr,li),zr=Tr.length}else Tr=vr,Br=xr,zr=Sr,Qr=typeof Cr=="number"?Cr:null;var gi=this.fd2file(hr);return Qr==null&&(Qr=gi.getPos()),gi.writeSync(Tr,Br,zr,Qr)},jr.prototype.read=function(hr,vr,xr,Sr,Cr,Tr){Tr===void 0&&(Tr=Gr);var Br,zr,Qr,li,gi;if(typeof vr=="number"){Qr=vr,Br=xr;var Ii=Sr;Tr=typeof Cr=="function"?Cr:Tr,zr=0,li=fr.alloc(Qr),gi=Rr(function(Li,Gi,Ji){if(Li)return Tr(Li);Tr(Li,Ji.toString(Ii),Gi)},3)}else li=vr,zr=xr,Qr=Sr,Br=Cr,gi=Rr(Tr,3);try{var Ni=this.fd2file(hr);Br==null&&(Br=Ni.getPos()),Ni.read(li,zr,Qr,Br,gi)}catch(Li){gi(Li)}},jr.prototype.readSync=function(hr,vr,xr,Sr,Cr){var Tr=!1,Br,zr,Qr,li,gi="utf8";typeof vr=="number"?(Qr=vr,li=xr,gi=Sr,zr=0,Br=fr.alloc(Qr),Tr=!0):(Br=vr,zr=xr,Qr=Sr,li=Cr);var Ii=this.fd2file(hr);li==null&&(li=Ii.getPos());var Ni=Ii.readSync(Br,zr,Qr,li);return Tr?[Br.toString(gi),Ni]:Ni},jr.prototype.fchown=function(hr,vr,xr,Sr){Sr===void 0&&(Sr=Gr);var Cr=Rr(Sr,1);try{this.fd2file(hr).chown(vr,xr,Cr)}catch(Tr){Cr(Tr)}},jr.prototype.fchownSync=function(hr,vr,xr){this.fd2file(hr).chownSync(vr,xr)},jr.prototype.fchmod=function(hr,vr,xr){var Sr=Rr(xr,1);try{var Cr=typeof vr=="string"?parseInt(vr,8):vr;this.fd2file(hr).chmod(Cr,Sr)}catch(Tr){Sr(Tr)}},jr.prototype.fchmodSync=function(hr,vr){var xr=typeof vr=="string"?parseInt(vr,8):vr;this.fd2file(hr).chmodSync(xr)},jr.prototype.futimes=function(hr,vr,xr,Sr){Sr===void 0&&(Sr=Gr);var Cr=Rr(Sr,1);try{var Tr=this.fd2file(hr);typeof vr=="number"&&(vr=new Date(vr*1e3)),typeof xr=="number"&&(xr=new Date(xr*1e3)),Tr.utimes(vr,xr,Cr)}catch(Br){Cr(Br)}},jr.prototype.futimesSync=function(hr,vr,xr){this.fd2file(hr).utimesSync(Hr(vr),Hr(xr))},jr.prototype.rmdir=function(hr,vr){vr===void 0&&(vr=Gr);var xr=Rr(vr,1);try{hr=Ur(hr),Fr(this.root).rmdir(hr,xr)}catch(Sr){xr(Sr)}},jr.prototype.rmdirSync=function(hr){return hr=Ur(hr),Fr(this.root).rmdirSync(hr)},jr.prototype.mkdir=function(hr,vr,xr){xr===void 0&&(xr=Gr),typeof vr=="function"&&(xr=vr,vr=511);var Sr=Rr(xr,1);try{hr=Ur(hr),Fr(this.root).mkdir(hr,vr,Sr)}catch(Cr){Sr(Cr)}},jr.prototype.mkdirSync=function(hr,vr){Fr(this.root).mkdirSync(Ur(hr),Nr(vr,511))},jr.prototype.readdir=function(hr,vr){vr===void 0&&(vr=Gr);var xr=Rr(vr,2);try{hr=Ur(hr),Fr(this.root).readdir(hr,xr)}catch(Sr){xr(Sr)}},jr.prototype.readdirSync=function(hr){return hr=Ur(hr),Fr(this.root).readdirSync(hr)},jr.prototype.link=function(hr,vr,xr){xr===void 0&&(xr=Gr);var Sr=Rr(xr,1);try{hr=Ur(hr),vr=Ur(vr),Fr(this.root).link(hr,vr,Sr)}catch(Cr){Sr(Cr)}},jr.prototype.linkSync=function(hr,vr){return hr=Ur(hr),vr=Ur(vr),Fr(this.root).linkSync(hr,vr)},jr.prototype.symlink=function(hr,vr,xr,Sr){Sr===void 0&&(Sr=Gr);var Cr=typeof xr=="string"?xr:"file";Sr=typeof xr=="function"?xr:Sr;var Tr=Rr(Sr,1);try{if(Cr!=="file"&&Cr!=="dir")return Tr(new gr(mr.EINVAL,"Invalid type: "+Cr));hr=Ur(hr),vr=Ur(vr),Fr(this.root).symlink(hr,vr,Cr,Tr)}catch(Br){Tr(Br)}},jr.prototype.symlinkSync=function(hr,vr,xr){if(!xr)xr="file";else if(xr!=="file"&&xr!=="dir")throw new gr(mr.EINVAL,"Invalid type: "+xr);return hr=Ur(hr),vr=Ur(vr),Fr(this.root).symlinkSync(hr,vr,xr)},jr.prototype.readlink=function(hr,vr){vr===void 0&&(vr=Gr);var xr=Rr(vr,2);try{hr=Ur(hr),Fr(this.root).readlink(hr,xr)}catch(Sr){xr(Sr)}},jr.prototype.readlinkSync=function(hr){return hr=Ur(hr),Fr(this.root).readlinkSync(hr)},jr.prototype.chown=function(hr,vr,xr,Sr){Sr===void 0&&(Sr=Gr);var Cr=Rr(Sr,1);try{hr=Ur(hr),Fr(this.root).chown(hr,!1,vr,xr,Cr)}catch(Tr){Cr(Tr)}},jr.prototype.chownSync=function(hr,vr,xr){hr=Ur(hr),Fr(this.root).chownSync(hr,!1,vr,xr)},jr.prototype.lchown=function(hr,vr,xr,Sr){Sr===void 0&&(Sr=Gr);var Cr=Rr(Sr,1);try{hr=Ur(hr),Fr(this.root).chown(hr,!0,vr,xr,Cr)}catch(Tr){Cr(Tr)}},jr.prototype.lchownSync=function(hr,vr,xr){hr=Ur(hr),Fr(this.root).chownSync(hr,!0,vr,xr)},jr.prototype.chmod=function(hr,vr,xr){xr===void 0&&(xr=Gr);var Sr=Rr(xr,1);try{var Cr=Nr(vr,-1);if(Cr<0)throw new gr(mr.EINVAL,"Invalid mode.");Fr(this.root).chmod(Ur(hr),!1,Cr,Sr)}catch(Tr){Sr(Tr)}},jr.prototype.chmodSync=function(hr,vr){var xr=Nr(vr,-1);if(xr<0)throw new gr(mr.EINVAL,"Invalid mode.");hr=Ur(hr),Fr(this.root).chmodSync(hr,!1,xr)},jr.prototype.lchmod=function(hr,vr,xr){xr===void 0&&(xr=Gr);var Sr=Rr(xr,1);try{var Cr=Nr(vr,-1);if(Cr<0)throw new gr(mr.EINVAL,"Invalid mode.");Fr(this.root).chmod(Ur(hr),!0,Cr,Sr)}catch(Tr){Sr(Tr)}},jr.prototype.lchmodSync=function(hr,vr){var xr=Nr(vr,-1);if(xr<1)throw new gr(mr.EINVAL,"Invalid mode.");Fr(this.root).chmodSync(Ur(hr),!0,xr)},jr.prototype.utimes=function(hr,vr,xr,Sr){Sr===void 0&&(Sr=Gr);var Cr=Rr(Sr,1);try{Fr(this.root).utimes(Ur(hr),Hr(vr),Hr(xr),Cr)}catch(Tr){Cr(Tr)}},jr.prototype.utimesSync=function(hr,vr,xr){Fr(this.root).utimesSync(Ur(hr),Hr(vr),Hr(xr))},jr.prototype.realpath=function(hr,vr,xr){xr===void 0&&(xr=Gr);var Sr=typeof vr=="object"?vr:{};xr=typeof vr=="function"?vr:Gr;var Cr=Rr(xr,2);try{hr=Ur(hr),Fr(this.root).realpath(hr,Sr,Cr)}catch(Tr){Cr(Tr)}},jr.prototype.realpathSync=function(hr,vr){return vr===void 0&&(vr={}),hr=Ur(hr),Fr(this.root).realpathSync(hr,vr)},jr.prototype.watchFile=function(hr,vr,xr){throw new gr(mr.ENOTSUP)},jr.prototype.unwatchFile=function(hr,vr){throw new gr(mr.ENOTSUP)},jr.prototype.watch=function(hr,vr,xr){throw new gr(mr.ENOTSUP)},jr.prototype.access=function(hr,vr,xr){throw new gr(mr.ENOTSUP)},jr.prototype.accessSync=function(hr,vr){throw new gr(mr.ENOTSUP)},jr.prototype.createReadStream=function(hr,vr){throw new gr(mr.ENOTSUP)},jr.prototype.createWriteStream=function(hr,vr){throw new gr(mr.ENOTSUP)},jr.prototype.wrapCallbacks=function(hr){Rr=hr},jr.prototype.getFdForFile=function(hr){var vr=this.nextFd++;return this.fdMap[vr]=hr,vr},jr.prototype.fd2file=function(hr){var vr=this.fdMap[hr];if(vr)return vr;throw new gr(mr.EBADF,"Invalid file descriptor.")},jr.prototype.closeFd=function(hr){delete this.fdMap[hr]},jr.Stats=Dr;var Jr=new jr,Wr={},ni=jr.prototype;Object.keys(ni).forEach(function(wr){typeof Jr[wr]=="function"?Wr[wr]=function(){return Jr[wr].apply(Jr,arguments)}:Wr[wr]=Jr[wr]}),Wr.changeFSModule=function(wr){Jr=wr},Wr.getFSModule=function(){return Jr},Wr.FS=jr;function Mr(wr,hr,vr,xr,Sr){return wr<hr||vr<hr?wr>vr?vr+1:wr+1:xr===Sr?hr:hr+1}function di(wr,hr){if(wr===hr)return 0;if(wr.length>hr.length){var vr=wr;wr=hr,hr=vr}for(var xr=wr.length,Sr=hr.length;xr>0&&wr.charCodeAt(xr-1)===hr.charCodeAt(Sr-1);)xr--,Sr--;for(var Cr=0;Cr<xr&&wr.charCodeAt(Cr)===hr.charCodeAt(Cr);)Cr++;if(xr-=Cr,Sr-=Cr,xr===0||Sr===1)return Sr;for(var Tr=new Array(xr<<1),Br=0;Br<xr;)Tr[xr+Br]=wr.charCodeAt(Cr+Br),Tr[Br]=++Br;var zr,Qr,li,gi,Ii;for(zr=0;zr+3<Sr;)for(var Ni=hr.charCodeAt(Cr+(Qr=zr)),Li=hr.charCodeAt(Cr+(li=zr+1)),Gi=hr.charCodeAt(Cr+(gi=zr+2)),Ji=hr.charCodeAt(Cr+(Ii=zr+3)),ra=zr+=4,va=0;va<xr;){var Na=Tr[xr+va],bo=Tr[va];Qr=Mr(bo,Qr,li,Ni,Na),li=Mr(Qr,li,gi,Li,Na),gi=Mr(li,gi,Ii,Gi,Na),ra=Mr(gi,Ii,ra,Ji,Na),Tr[va++]=ra,Ii=gi,gi=li,li=Qr,Qr=bo}for(var Eo=0;zr<Sr;){var Rs=hr.charCodeAt(Cr+(Qr=zr));Eo=++zr;for(var Ro=0;Ro<xr;Ro++){var Fo=Tr[Ro];Tr[Ro]=Eo=Fo<Qr||Eo<Qr?Fo>Eo?Eo+1:Fo+1:Rs===Tr[xr+Ro]?Qr:Qr+1,Qr=Fo}}return Eo}function Ei(wr,hr,vr){wr&&console.warn("["+hr+"] Direct file system constructor usage is deprecated for this file system, and will be removed in the next major version. Please use the '"+hr+".Create("+JSON.stringify(vr)+", callback)' method instead. See https://github.com/jvilk/BrowserFS/issues/176 for more details.")}var _i=typeof navigator<"u"&&!!(/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||navigator.userAgent.indexOf("Trident")!==-1),Fi=typeof window>"u";function si(){throw new Error("BFS has reached an impossible code path; please file a bug.")}function ci(wr,hr,vr){vr.existsSync(wr)||(ci(yr.dirname(wr),hr,vr),vr.mkdirSync(wr,hr))}function $r(wr){var hr=ei(wr),vr=hr.byteOffset,xr=hr.byteLength;return vr===0&&xr===hr.buffer.byteLength?hr.buffer:hr.buffer.slice(vr,vr+xr)}function ei(wr){return wr instanceof Uint8Array?wr:new Uint8Array(wr)}function pi(wr){return wr instanceof fr?wr:wr instanceof Uint8Array?ui(wr):fr.from(wr)}function ui(wr){return wr instanceof fr?wr:wr.byteOffset===0&&wr.byteLength===wr.buffer.byteLength?bi(wr.buffer):fr.from(wr.buffer,wr.byteOffset,wr.byteLength)}function bi(wr){return fr.from(wr)}function qi(wr,hr,vr){if(hr===void 0&&(hr=0),vr===void 0&&(vr=wr.length),hr<0||vr<0||vr>wr.length||hr>vr)throw new TypeError("Invalid slice bounds on buffer of length "+wr.length+": ["+hr+", "+vr+"]");if(wr.length===0)return Ti();var xr=ei(wr),Sr=wr[0],Cr=(Sr+1)%255;return wr[0]=Cr,xr[0]===Cr?(xr[0]=Sr,ui(xr.slice(hr,vr))):(wr[0]=Sr,ui(xr.subarray(hr,vr)))}var Ki=null;function Ti(){return Ki||(Ki=fr.alloc(0))}function ii(wr,hr){fr.isBuffer(wr)?hr():hr(new gr(mr.EINVAL,"option must be a Buffer."))}function oi(wr,hr,vr){var xr=wr.Options,Sr=wr.Name,Cr=0,Tr=!1,Br=!1;function zr(Ii){Tr||(Ii&&(Tr=!0,vr(Ii)),Cr--,Cr===0&&Br&&vr())}var Qr=function(Ii){if(xr.hasOwnProperty(Ii)){var Ni=xr[Ii],Li=hr[Ii];if(Li==null){if(!Ni.optional){var Gi=Object.keys(hr).filter(function(ra){return!(ra in xr)}).map(function(ra){return{str:ra,distance:di(Ii,ra)}}).filter(function(ra){return ra.distance<5}).sort(function(ra,va){return ra.distance-va.distance});return Tr?{}:(Tr=!0,{v:vr(new gr(mr.EINVAL,"["+Sr+"] Required option '"+Ii+"' not provided."+(Gi.length>0?" You provided unrecognized option '"+Gi[0].str+"'; perhaps you meant to type '"+Ii+"'.":"")+`
Option description: `+Ni.description))})}}else{var Ji=!1;if(Array.isArray(Ni.type)?Ji=Ni.type.indexOf(typeof Li)!==-1:Ji=typeof Li===Ni.type,Ji)Ni.validator&&(Cr++,Ni.validator(Li,zr));else return Tr?{}:(Tr=!0,{v:vr(new gr(mr.EINVAL,"["+Sr+"] Value provided for option "+Ii+" is not the proper type. Expected "+(Array.isArray(Ni.type)?"one of {"+Ni.type.join(", ")+"}":Ni.type)+", but received "+typeof Li+`
Option description: `+Ni.description))})}}};for(var li in xr){var gi=Qr(li);if(gi)return gi.v}Br=!0,Cr===0&&!Tr&&vr()}var Si=Object.freeze({deprecationMessage:Ei,isIE:_i,isWebWorker:Fi,fail:si,mkdirpSync:ci,buffer2ArrayBuffer:$r,buffer2Uint8array:ei,arrayish2Buffer:pi,uint8Array2Buffer:ui,arrayBuffer2Buffer:bi,copyingSlice:qi,emptyBuffer:Ti,bufferValidator:ii,checkOptions:oi}),Di=function(hr){this.fs=hr,this.nodefs=hr.getNodeFS(),this.FS=hr.getFS(),this.PATH=hr.getPATH(),this.ERRNO_CODES=hr.getERRNO_CODES()};Di.prototype.open=function(hr){var vr=this.fs.realPath(hr.node),xr=this.FS;try{xr.isFile(hr.node.mode)&&(hr.nfd=this.nodefs.openSync(vr,this.fs.flagsToPermissionString(hr.flags)))}catch(Sr){throw Sr.code?new xr.ErrnoError(this.ERRNO_CODES[Sr.code]):Sr}},Di.prototype.close=function(hr){var vr=this.FS;try{vr.isFile(hr.node.mode)&&hr.nfd&&this.nodefs.closeSync(hr.nfd)}catch(xr){throw xr.code?new vr.ErrnoError(this.ERRNO_CODES[xr.code]):xr}},Di.prototype.read=function(hr,vr,xr,Sr,Cr){try{return this.nodefs.readSync(hr.nfd,ui(vr),xr,Sr,Cr)}catch(Tr){throw new this.FS.ErrnoError(this.ERRNO_CODES[Tr.code])}},Di.prototype.write=function(hr,vr,xr,Sr,Cr){try{return this.nodefs.writeSync(hr.nfd,ui(vr),xr,Sr,Cr)}catch(Tr){throw new this.FS.ErrnoError(this.ERRNO_CODES[Tr.code])}},Di.prototype.llseek=function(hr,vr,xr){var Sr=vr;if(xr===1)Sr+=hr.position;else if(xr===2&&this.FS.isFile(hr.node.mode))try{var Cr=this.nodefs.fstatSync(hr.nfd);Sr+=Cr.size}catch(Tr){throw new this.FS.ErrnoError(this.ERRNO_CODES[Tr.code])}if(Sr<0)throw new this.FS.ErrnoError(this.ERRNO_CODES.EINVAL);return hr.position=Sr,Sr};var Mi=function(hr){this.fs=hr,this.nodefs=hr.getNodeFS(),this.FS=hr.getFS(),this.PATH=hr.getPATH(),this.ERRNO_CODES=hr.getERRNO_CODES()};Mi.prototype.getattr=function(hr){var vr=this.fs.realPath(hr),xr;try{xr=this.nodefs.lstatSync(vr)}catch(Sr){throw Sr.code?new this.FS.ErrnoError(this.ERRNO_CODES[Sr.code]):Sr}return{dev:xr.dev,ino:xr.ino,mode:xr.mode,nlink:xr.nlink,uid:xr.uid,gid:xr.gid,rdev:xr.rdev,size:xr.size,atime:xr.atime,mtime:xr.mtime,ctime:xr.ctime,blksize:xr.blksize,blocks:xr.blocks}},Mi.prototype.setattr=function(hr,vr){var xr=this.fs.realPath(hr);try{if(vr.mode!==void 0&&(this.nodefs.chmodSync(xr,vr.mode),hr.mode=vr.mode),vr.timestamp!==void 0){var Sr=new Date(vr.timestamp);this.nodefs.utimesSync(xr,Sr,Sr)}}catch(Cr){if(!Cr.code)throw Cr;if(Cr.code!=="ENOTSUP")throw new this.FS.ErrnoError(this.ERRNO_CODES[Cr.code])}if(vr.size!==void 0)try{this.nodefs.truncateSync(xr,vr.size)}catch(Cr){throw Cr.code?new this.FS.ErrnoError(this.ERRNO_CODES[Cr.code]):Cr}},Mi.prototype.lookup=function(hr,vr){var xr=this.PATH.join2(this.fs.realPath(hr),vr),Sr=this.fs.getMode(xr);return this.fs.createNode(hr,vr,Sr)},Mi.prototype.mknod=function(hr,vr,xr,Sr){var Cr=this.fs.createNode(hr,vr,xr,Sr),Tr=this.fs.realPath(Cr);try{this.FS.isDir(Cr.mode)?this.nodefs.mkdirSync(Tr,Cr.mode):this.nodefs.writeFileSync(Tr,"",{mode:Cr.mode})}catch(Br){throw Br.code?new this.FS.ErrnoError(this.ERRNO_CODES[Br.code]):Br}return Cr},Mi.prototype.rename=function(hr,vr,xr){var Sr=this.fs.realPath(hr),Cr=this.PATH.join2(this.fs.realPath(vr),xr);try{this.nodefs.renameSync(Sr,Cr),hr.name=xr,hr.parent=vr}catch(Tr){throw Tr.code?new this.FS.ErrnoError(this.ERRNO_CODES[Tr.code]):Tr}},Mi.prototype.unlink=function(hr,vr){var xr=this.PATH.join2(this.fs.realPath(hr),vr);try{this.nodefs.unlinkSync(xr)}catch(Sr){throw Sr.code?new this.FS.ErrnoError(this.ERRNO_CODES[Sr.code]):Sr}},Mi.prototype.rmdir=function(hr,vr){var xr=this.PATH.join2(this.fs.realPath(hr),vr);try{this.nodefs.rmdirSync(xr)}catch(Sr){throw Sr.code?new this.FS.ErrnoError(this.ERRNO_CODES[Sr.code]):Sr}},Mi.prototype.readdir=function(hr){var vr=this.fs.realPath(hr);try{var xr=this.nodefs.readdirSync(vr);return xr.push(".",".."),xr}catch(Sr){throw Sr.code?new this.FS.ErrnoError(this.ERRNO_CODES[Sr.code]):Sr}},Mi.prototype.symlink=function(hr,vr,xr){var Sr=this.PATH.join2(this.fs.realPath(hr),vr);try{this.nodefs.symlinkSync(xr,Sr)}catch(Cr){throw Cr.code?new this.FS.ErrnoError(this.ERRNO_CODES[Cr.code]):Cr}},Mi.prototype.readlink=function(hr){var vr=this.fs.realPath(hr);try{return this.nodefs.readlinkSync(vr)}catch(xr){throw xr.code?new this.FS.ErrnoError(this.ERRNO_CODES[xr.code]):xr}};var Vr=function(hr,vr,xr,Sr){hr===void 0&&(hr=self.FS),vr===void 0&&(vr=self.PATH),xr===void 0&&(xr=self.ERRNO_CODES),Sr===void 0&&(Sr=Wr),this.flagsToPermissionStringMap={0:"r",1:"r+",2:"r+",64:"r",65:"r+",66:"r+",129:"rx+",193:"rx+",514:"w+",577:"w",578:"w+",705:"wx",706:"wx+",1024:"a",1025:"a",1026:"a+",1089:"a",1090:"a+",1153:"ax",1154:"ax+",1217:"ax",1218:"ax+",4096:"rs",4098:"rs+"},this.nodefs=Sr,this.FS=hr,this.PATH=vr,this.ERRNO_CODES=xr,this.node_ops=new Mi(this),this.stream_ops=new Di(this)};Vr.prototype.mount=function(hr){return this.createNode(null,"/",this.getMode(hr.opts.root),0)},Vr.prototype.createNode=function(hr,vr,xr,Sr){var Cr=this.FS;if(!Cr.isDir(xr)&&!Cr.isFile(xr)&&!Cr.isLink(xr))throw new Cr.ErrnoError(this.ERRNO_CODES.EINVAL);var Tr=Cr.createNode(hr,vr,xr);return Tr.node_ops=this.node_ops,Tr.stream_ops=this.stream_ops,Tr},Vr.prototype.getMode=function(hr){var vr;try{vr=this.nodefs.lstatSync(hr)}catch(xr){throw xr.code?new this.FS.ErrnoError(this.ERRNO_CODES[xr.code]):xr}return vr.mode},Vr.prototype.realPath=function(hr){for(var vr=[];hr.parent!==hr;)vr.push(hr.name),hr=hr.parent;return vr.push(hr.mount.opts.root),vr.reverse(),this.PATH.join.apply(null,vr)},Vr.prototype.flagsToPermissionString=function(hr){var vr=typeof hr=="string"?parseInt(hr,10):hr;return vr&=8191,vr in this.flagsToPermissionStringMap?this.flagsToPermissionStringMap[vr]:hr},Vr.prototype.getNodeFS=function(){return this.nodefs},Vr.prototype.getFS=function(){return this.FS},Vr.prototype.getPATH=function(){return this.PATH},Vr.prototype.getERRNO_CODES=function(){return this.ERRNO_CODES};var hi=function(){};hi.prototype.supportsLinks=function(){return!1},hi.prototype.diskSpace=function(hr,vr){vr(0,0)},hi.prototype.openFile=function(hr,vr,xr){throw new gr(mr.ENOTSUP)},hi.prototype.createFile=function(hr,vr,xr,Sr){throw new gr(mr.ENOTSUP)},hi.prototype.open=function(hr,vr,xr,Sr){var Cr=this,Tr=function(Br,zr){if(Br)switch(vr.pathNotExistsAction()){case Ar.CREATE_FILE:return Cr.stat(yr.dirname(hr),!1,function(Qr,li){Qr?Sr(Qr):li&&!li.isDirectory()?Sr(gr.ENOTDIR(yr.dirname(hr))):Cr.createFile(hr,vr,xr,Sr)});case Ar.THROW_EXCEPTION:return Sr(gr.ENOENT(hr));default:return Sr(new gr(mr.EINVAL,"Invalid FileFlag object."))}else{if(zr&&zr.isDirectory())return Sr(gr.EISDIR(hr));switch(vr.pathExistsAction()){case Ar.THROW_EXCEPTION:return Sr(gr.EEXIST(hr));case Ar.TRUNCATE_FILE:return Cr.openFile(hr,vr,function(Qr,li){Qr?Sr(Qr):li?li.truncate(0,function(){li.sync(function(){Sr(null,li)})}):si()});case Ar.NOP:return Cr.openFile(hr,vr,Sr);default:return Sr(new gr(mr.EINVAL,"Invalid FileFlag object."))}}};this.stat(hr,!1,Tr)},hi.prototype.rename=function(hr,vr,xr){xr(new gr(mr.ENOTSUP))},hi.prototype.renameSync=function(hr,vr){throw new gr(mr.ENOTSUP)},hi.prototype.stat=function(hr,vr,xr){xr(new gr(mr.ENOTSUP))},hi.prototype.statSync=function(hr,vr){throw new gr(mr.ENOTSUP)},hi.prototype.openFileSync=function(hr,vr,xr){throw new gr(mr.ENOTSUP)},hi.prototype.createFileSync=function(hr,vr,xr){throw new gr(mr.ENOTSUP)},hi.prototype.openSync=function(hr,vr,xr){var Sr;try{Sr=this.statSync(hr,!1)}catch{switch(vr.pathNotExistsAction()){case Ar.CREATE_FILE:var Cr=this.statSync(yr.dirname(hr),!1);if(!Cr.isDirectory())throw gr.ENOTDIR(yr.dirname(hr));return this.createFileSync(hr,vr,xr);case Ar.THROW_EXCEPTION:throw gr.ENOENT(hr);default:throw new gr(mr.EINVAL,"Invalid FileFlag object.")}}if(Sr.isDirectory())throw gr.EISDIR(hr);switch(vr.pathExistsAction()){case Ar.THROW_EXCEPTION:throw gr.EEXIST(hr);case Ar.TRUNCATE_FILE:return this.unlinkSync(hr),this.createFileSync(hr,vr,Sr.mode);case Ar.NOP:return this.openFileSync(hr,vr,xr);default:throw new gr(mr.EINVAL,"Invalid FileFlag object.")}},hi.prototype.unlink=function(hr,vr){vr(new gr(mr.ENOTSUP))},hi.prototype.unlinkSync=function(hr){throw new gr(mr.ENOTSUP)},hi.prototype.rmdir=function(hr,vr){vr(new gr(mr.ENOTSUP))},hi.prototype.rmdirSync=function(hr){throw new gr(mr.ENOTSUP)},hi.prototype.mkdir=function(hr,vr,xr){xr(new gr(mr.ENOTSUP))},hi.prototype.mkdirSync=function(hr,vr){throw new gr(mr.ENOTSUP)},hi.prototype.readdir=function(hr,vr){vr(new gr(mr.ENOTSUP))},hi.prototype.readdirSync=function(hr){throw new gr(mr.ENOTSUP)},hi.prototype.exists=function(hr,vr){this.stat(hr,null,function(xr){vr(!xr)})},hi.prototype.existsSync=function(hr){try{return this.statSync(hr,!0),!0}catch{return!1}},hi.prototype.realpath=function(hr,vr,xr){if(this.supportsLinks())for(var Sr=hr.split(yr.sep),Cr=0;Cr<Sr.length;Cr++){var Tr=Sr.slice(0,Cr+1);Sr[Cr]=yr.join.apply(null,Tr)}else this.exists(hr,function(Br){Br?xr(null,hr):xr(gr.ENOENT(hr))})},hi.prototype.realpathSync=function(hr,vr){if(this.supportsLinks()){for(var xr=hr.split(yr.sep),Sr=0;Sr<xr.length;Sr++){var Cr=xr.slice(0,Sr+1);xr[Sr]=yr.join.apply(yr,Cr)}return xr.join(yr.sep)}else{if(this.existsSync(hr))return hr;throw gr.ENOENT(hr)}},hi.prototype.truncate=function(hr,vr,xr){this.open(hr,kr.getFileFlag("r+"),420,function(Sr,Cr){if(Sr)return xr(Sr);Cr.truncate(vr,function(Tr){Cr.close(function(Br){xr(Tr||Br)})})})},hi.prototype.truncateSync=function(hr,vr){var xr=this.openSync(hr,kr.getFileFlag("r+"),420);try{xr.truncateSync(vr)}catch(Sr){throw Sr}finally{xr.closeSync()}},hi.prototype.readFile=function(hr,vr,xr,Sr){var Cr=Sr;this.open(hr,xr,420,function(Tr,Br){if(Tr)return Sr(Tr);Sr=function(zr,Qr){Br.close(function(li){return zr||(zr=li),Cr(zr,Qr)})},Br.stat(function(zr,Qr){if(zr)return Sr(zr);var li=fr.alloc(Qr.size);Br.read(li,0,Qr.size,0,function(gi){if(gi)return Sr(gi);if(vr===null)return Sr(gi,li);try{Sr(null,li.toString(vr))}catch(Ii){Sr(Ii)}})})})},hi.prototype.readFileSync=function(hr,vr,xr){var Sr=this.openSync(hr,xr,420);try{var Cr=Sr.statSync(),Tr=fr.alloc(Cr.size);return Sr.readSync(Tr,0,Cr.size,0),Sr.closeSync(),vr===null?Tr:Tr.toString(vr)}finally{Sr.closeSync()}},hi.prototype.writeFile=function(hr,vr,xr,Sr,Cr,Tr){var Br=Tr;this.open(hr,Sr,420,function(zr,Qr){if(zr)return Tr(zr);Tr=function(li){Qr.close(function(gi){Br(li||gi)})};try{typeof vr=="string"&&(vr=fr.from(vr,xr))}catch(li){return Tr(li)}Qr.write(vr,0,vr.length,0,Tr)})},hi.prototype.writeFileSync=function(hr,vr,xr,Sr,Cr){var Tr=this.openSync(hr,Sr,Cr);try{typeof vr=="string"&&(vr=fr.from(vr,xr)),Tr.writeSync(vr,0,vr.length,0)}finally{Tr.closeSync()}},hi.prototype.appendFile=function(hr,vr,xr,Sr,Cr,Tr){var Br=Tr;this.open(hr,Sr,Cr,function(zr,Qr){if(zr)return Tr(zr);Tr=function(li){Qr.close(function(gi){Br(li||gi)})},typeof vr=="string"&&(vr=fr.from(vr,xr)),Qr.write(vr,0,vr.length,null,Tr)})},hi.prototype.appendFileSync=function(hr,vr,xr,Sr,Cr){var Tr=this.openSync(hr,Sr,Cr);try{typeof vr=="string"&&(vr=fr.from(vr,xr)),Tr.writeSync(vr,0,vr.length,null)}finally{Tr.closeSync()}},hi.prototype.chmod=function(hr,vr,xr,Sr){Sr(new gr(mr.ENOTSUP))},hi.prototype.chmodSync=function(hr,vr,xr){throw new gr(mr.ENOTSUP)},hi.prototype.chown=function(hr,vr,xr,Sr,Cr){Cr(new gr(mr.ENOTSUP))},hi.prototype.chownSync=function(hr,vr,xr,Sr){throw new gr(mr.ENOTSUP)},hi.prototype.utimes=function(hr,vr,xr,Sr){Sr(new gr(mr.ENOTSUP))},hi.prototype.utimesSync=function(hr,vr,xr){throw new gr(mr.ENOTSUP)},hi.prototype.link=function(hr,vr,xr){xr(new gr(mr.ENOTSUP))},hi.prototype.linkSync=function(hr,vr){throw new gr(mr.ENOTSUP)},hi.prototype.symlink=function(hr,vr,xr,Sr){Sr(new gr(mr.ENOTSUP))},hi.prototype.symlinkSync=function(hr,vr,xr){throw new gr(mr.ENOTSUP)},hi.prototype.readlink=function(hr,vr){vr(new gr(mr.ENOTSUP))},hi.prototype.readlinkSync=function(hr){throw new gr(mr.ENOTSUP)};var yi=function(wr){function hr(){wr.apply(this,arguments)}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.prototype.supportsSynch=function(){return!0},hr.prototype.rename=function(xr,Sr,Cr){try{this.renameSync(xr,Sr),Cr()}catch(Tr){Cr(Tr)}},hr.prototype.stat=function(xr,Sr,Cr){try{Cr(null,this.statSync(xr,Sr))}catch(Tr){Cr(Tr)}},hr.prototype.open=function(xr,Sr,Cr,Tr){try{Tr(null,this.openSync(xr,Sr,Cr))}catch(Br){Tr(Br)}},hr.prototype.unlink=function(xr,Sr){try{this.unlinkSync(xr),Sr()}catch(Cr){Sr(Cr)}},hr.prototype.rmdir=function(xr,Sr){try{this.rmdirSync(xr),Sr()}catch(Cr){Sr(Cr)}},hr.prototype.mkdir=function(xr,Sr,Cr){try{this.mkdirSync(xr,Sr),Cr()}catch(Tr){Cr(Tr)}},hr.prototype.readdir=function(xr,Sr){try{Sr(null,this.readdirSync(xr))}catch(Cr){Sr(Cr)}},hr.prototype.chmod=function(xr,Sr,Cr,Tr){try{this.chmodSync(xr,Sr,Cr),Tr()}catch(Br){Tr(Br)}},hr.prototype.chown=function(xr,Sr,Cr,Tr,Br){try{this.chownSync(xr,Sr,Cr,Tr),Br()}catch(zr){Br(zr)}},hr.prototype.utimes=function(xr,Sr,Cr,Tr){try{this.utimesSync(xr,Sr,Cr),Tr()}catch(Br){Tr(Br)}},hr.prototype.link=function(xr,Sr,Cr){try{this.linkSync(xr,Sr),Cr()}catch(Tr){Cr(Tr)}},hr.prototype.symlink=function(xr,Sr,Cr,Tr){try{this.symlinkSync(xr,Sr,Cr),Tr()}catch(Br){Tr(Br)}},hr.prototype.readlink=function(xr,Sr){try{Sr(null,this.readlinkSync(xr))}catch(Cr){Sr(Cr)}},hr}(hi),ti=function(){};ti.prototype.sync=function(hr){hr(new gr(mr.ENOTSUP))},ti.prototype.syncSync=function(){throw new gr(mr.ENOTSUP)},ti.prototype.datasync=function(hr){this.sync(hr)},ti.prototype.datasyncSync=function(){return this.syncSync()},ti.prototype.chown=function(hr,vr,xr){xr(new gr(mr.ENOTSUP))},ti.prototype.chownSync=function(hr,vr){throw new gr(mr.ENOTSUP)},ti.prototype.chmod=function(hr,vr){vr(new gr(mr.ENOTSUP))},ti.prototype.chmodSync=function(hr){throw new gr(mr.ENOTSUP)},ti.prototype.utimes=function(hr,vr,xr){xr(new gr(mr.ENOTSUP))},ti.prototype.utimesSync=function(hr,vr){throw new gr(mr.ENOTSUP)};var ri=function(wr){function hr(vr,xr,Sr,Cr,Tr){if(wr.call(this),this._pos=0,this._dirty=!1,this._fs=vr,this._path=xr,this._flag=Sr,this._stat=Cr,Tr?this._buffer=Tr:this._buffer=Ti(),this._stat.size!==this._buffer.length&&this._flag.isReadable())throw new Error("Invalid buffer: Buffer is "+this._buffer.length+" long, yet Stats object specifies that file is "+this._stat.size+" long.")}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.prototype.getBuffer=function(){return this._buffer},hr.prototype.getStats=function(){return this._stat},hr.prototype.getFlag=function(){return this._flag},hr.prototype.getPath=function(){return this._path},hr.prototype.getPos=function(){return this._flag.isAppendable()?this._stat.size:this._pos},hr.prototype.advancePos=function(xr){return this._pos+=xr},hr.prototype.setPos=function(xr){return this._pos=xr},hr.prototype.sync=function(xr){try{this.syncSync(),xr()}catch(Sr){xr(Sr)}},hr.prototype.syncSync=function(){throw new gr(mr.ENOTSUP)},hr.prototype.close=function(xr){try{this.closeSync(),xr()}catch(Sr){xr(Sr)}},hr.prototype.closeSync=function(){throw new gr(mr.ENOTSUP)},hr.prototype.stat=function(xr){try{xr(null,this._stat.clone())}catch(Sr){xr(Sr)}},hr.prototype.statSync=function(){return this._stat.clone()},hr.prototype.truncate=function(xr,Sr){try{this.truncateSync(xr),this._flag.isSynchronous()&&!Wr.getRootFS().supportsSynch()&&this.sync(Sr),Sr()}catch(Cr){return Sr(Cr)}},hr.prototype.truncateSync=function(xr){if(this._dirty=!0,!this._flag.isWriteable())throw new gr(mr.EPERM,"File not opened with a writeable mode.");if(this._stat.mtime=new Date,xr>this._buffer.length){var Sr=fr.alloc(xr-this._buffer.length,0);this.writeSync(Sr,0,Sr.length,this._buffer.length),this._flag.isSynchronous()&&Wr.getRootFS().supportsSynch()&&this.syncSync();return}this._stat.size=xr;var Cr=fr.alloc(xr);this._buffer.copy(Cr,0,0,xr),this._buffer=Cr,this._flag.isSynchronous()&&Wr.getRootFS().supportsSynch()&&this.syncSync()},hr.prototype.write=function(xr,Sr,Cr,Tr,Br){try{Br(null,this.writeSync(xr,Sr,Cr,Tr),xr)}catch(zr){Br(zr)}},hr.prototype.writeSync=function(xr,Sr,Cr,Tr){if(this._dirty=!0,Tr==null&&(Tr=this.getPos()),!this._flag.isWriteable())throw new gr(mr.EPERM,"File not opened with a writeable mode.");var Br=Tr+Cr;if(Br>this._stat.size&&(this._stat.size=Br,Br>this._buffer.length)){var zr=fr.alloc(Br);this._buffer.copy(zr),this._buffer=zr}var Qr=xr.copy(this._buffer,Tr,Sr,Sr+Cr);return this._stat.mtime=new Date,this._flag.isSynchronous()?(this.syncSync(),Qr):(this.setPos(Tr+Qr),Qr)},hr.prototype.read=function(xr,Sr,Cr,Tr,Br){try{Br(null,this.readSync(xr,Sr,Cr,Tr),xr)}catch(zr){Br(zr)}},hr.prototype.readSync=function(xr,Sr,Cr,Tr){if(!this._flag.isReadable())throw new gr(mr.EPERM,"File not opened with a readable mode.");Tr==null&&(Tr=this.getPos());var Br=Tr+Cr;Br>this._stat.size&&(Cr=this._stat.size-Tr);var zr=this._buffer.copy(xr,Sr,Tr,Tr+Cr);return this._stat.atime=new Date,this._pos=Tr+Cr,zr},hr.prototype.chmod=function(xr,Sr){try{this.chmodSync(xr),Sr()}catch(Cr){Sr(Cr)}},hr.prototype.chmodSync=function(xr){if(!this._fs.supportsProps())throw new gr(mr.ENOTSUP);this._dirty=!0,this._stat.chmod(xr),this.syncSync()},hr.prototype.isDirty=function(){return this._dirty},hr.prototype.resetDirty=function(){this._dirty=!1},hr}(ti),xi=function(wr){function hr(vr,xr,Sr,Cr,Tr){wr.call(this,vr,xr,Sr,Cr,Tr)}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.prototype.sync=function(xr){xr()},hr.prototype.syncSync=function(){},hr.prototype.close=function(xr){xr()},hr.prototype.closeSync=function(){},hr}(ri),Ai=function(wr){function hr(vr,xr,Sr,Cr,Tr){wr.call(this,vr,xr,Sr,Cr,Tr)}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},hr.prototype.closeSync=function(){this.syncSync()},hr}(ri),Kr=function(wr){function hr(vr,xr,Sr){if(Sr===void 0&&(Sr=!0),wr.call(this),this._queue=[],this._queueRunning=!1,this._isInitialized=!1,this._initializeCallbacks=[],this._sync=vr,this._async=xr,!vr.supportsSynch())throw new Error("The first argument to AsyncMirror needs to be a synchronous file system.");Ei(Sr,hr.Name,{sync:"sync file system instance",async:"async file system instance"})}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.Create=function(xr,Sr){try{var Cr=new hr(xr.sync,xr.async,!1);Cr.initialize(function(Tr){Tr?Sr(Tr):Sr(null,Cr)},!1)}catch(Tr){Sr(Tr)}},hr.isAvailable=function(){return!0},hr.prototype.getName=function(){return hr.Name},hr.prototype._syncSync=function(xr){this._sync.writeFileSync(xr.getPath(),xr.getBuffer(),null,kr.getFileFlag("w"),xr.getStats().mode),this.enqueueOp({apiMethod:"writeFile",arguments:[xr.getPath(),xr.getBuffer(),null,xr.getFlag(),xr.getStats().mode]})},hr.prototype.initialize=function(xr,Sr){var Cr=this;Sr===void 0&&(Sr=!0),Sr&&console.warn("[AsyncMirror] AsyncMirror.initialize() is deprecated and will be removed in the next major version. Please use 'AsyncMirror.Create({ sync: (sync file system instance), async: (async file system instance)}, cb)' to create and initialize AsyncMirror instances.");var Tr=this._initializeCallbacks,Br=function(gi){Cr._isInitialized=!gi,Cr._initializeCallbacks=[],Tr.forEach(function(Ii){return Ii(gi)})};if(this._isInitialized)xr();else if(Tr.push(xr)===1){var zr=function(gi,Ii,Ni){gi!=="/"&&Cr._sync.mkdirSync(gi,Ii),Cr._async.readdir(gi,function(Li,Gi){var Ji=0;function ra(va){va?Ni(va):Ji<Gi.length?(li(yr.join(gi,Gi[Ji]),ra),Ji++):Ni()}Li?Ni(Li):ra()})},Qr=function(gi,Ii,Ni){Cr._async.readFile(gi,null,kr.getFileFlag("r"),function(Li,Gi){if(Li)Ni(Li);else try{Cr._sync.writeFileSync(gi,Gi,null,kr.getFileFlag("w"),Ii)}catch(Ji){Li=Ji}finally{Ni(Li)}})},li=function(gi,Ii){Cr._async.stat(gi,!1,function(Ni,Li){Ni?Ii(Ni):Li.isDirectory()?zr(gi,Li.mode,Ii):Qr(gi,Li.mode,Ii)})};zr("/",0,Br)}},hr.prototype.isReadOnly=function(){return!1},hr.prototype.supportsSynch=function(){return!0},hr.prototype.supportsLinks=function(){return!1},hr.prototype.supportsProps=function(){return this._sync.supportsProps()&&this._async.supportsProps()},hr.prototype.renameSync=function(xr,Sr){this.checkInitialized(),this._sync.renameSync(xr,Sr),this.enqueueOp({apiMethod:"rename",arguments:[xr,Sr]})},hr.prototype.statSync=function(xr,Sr){return this.checkInitialized(),this._sync.statSync(xr,Sr)},hr.prototype.openSync=function(xr,Sr,Cr){this.checkInitialized();var Tr=this._sync.openSync(xr,Sr,Cr);return Tr.closeSync(),new Ai(this,xr,Sr,this._sync.statSync(xr,!1),this._sync.readFileSync(xr,null,kr.getFileFlag("r")))},hr.prototype.unlinkSync=function(xr){this.checkInitialized(),this._sync.unlinkSync(xr),this.enqueueOp({apiMethod:"unlink",arguments:[xr]})},hr.prototype.rmdirSync=function(xr){this.checkInitialized(),this._sync.rmdirSync(xr),this.enqueueOp({apiMethod:"rmdir",arguments:[xr]})},hr.prototype.mkdirSync=function(xr,Sr){this.checkInitialized(),this._sync.mkdirSync(xr,Sr),this.enqueueOp({apiMethod:"mkdir",arguments:[xr,Sr]})},hr.prototype.readdirSync=function(xr){return this.checkInitialized(),this._sync.readdirSync(xr)},hr.prototype.existsSync=function(xr){return this.checkInitialized(),this._sync.existsSync(xr)},hr.prototype.chmodSync=function(xr,Sr,Cr){this.checkInitialized(),this._sync.chmodSync(xr,Sr,Cr),this.enqueueOp({apiMethod:"chmod",arguments:[xr,Sr,Cr]})},hr.prototype.chownSync=function(xr,Sr,Cr,Tr){this.checkInitialized(),this._sync.chownSync(xr,Sr,Cr,Tr),this.enqueueOp({apiMethod:"chown",arguments:[xr,Sr,Cr,Tr]})},hr.prototype.utimesSync=function(xr,Sr,Cr){this.checkInitialized(),this._sync.utimesSync(xr,Sr,Cr),this.enqueueOp({apiMethod:"utimes",arguments:[xr,Sr,Cr]})},hr.prototype.checkInitialized=function(){if(!this._isInitialized)throw new gr(mr.EPERM,"AsyncMirrorFS is not initialized. Please initialize AsyncMirrorFS using its initialize() method before using it.")},hr.prototype.enqueueOp=function(xr){var Sr=this;if(this._queue.push(xr),!this._queueRunning){this._queueRunning=!0;var Cr=function(Tr){if(Tr&&console.error("WARNING: File system has desynchronized. Received following error: "+Tr+`
$`),Sr._queue.length>0){var Br=Sr._queue.shift(),zr=Br.arguments;zr.push(Cr),Sr._async[Br.apiMethod].apply(Sr._async,zr)}else Sr._queueRunning=!1};Cr()}},hr}(yi);Kr.Name="AsyncMirror",Kr.Options={sync:{type:"object",description:"The synchronous file system to mirror the asynchronous file system to."},async:{type:"object",description:"The asynchronous file system to mirror."}};function Pr(wr,hr,vr){switch(vr.length){case 0:return wr.call(hr);case 1:return wr.call(hr,vr[0]);case 2:return wr.call(hr,vr[0],vr[1]);case 3:return wr.call(hr,vr[0],vr[1],vr[2])}return wr.apply(hr,vr)}var qr=Math.max;function Xr(wr,hr,vr){return hr=qr(hr===void 0?wr.length-1:hr,0),function(){for(var xr=arguments,Sr=-1,Cr=qr(xr.length-hr,0),Tr=Array(Cr);++Sr<Cr;)Tr[Sr]=xr[hr+Sr];Sr=-1;for(var Br=Array(hr+1);++Sr<hr;)Br[Sr]=xr[Sr];return Br[hr]=vr(Tr),Pr(wr,this,Br)}}function ai(wr){return wr}function fi(wr,hr){return Xr(wr,hr,ai)}var vi=function(wr){return fi(function(hr){var vr=hr.pop();wr.call(this,hr,vr)})};function Ri(wr){return fi(function(hr,vr){var xr=vi(function(Sr,Cr){var Tr=this;return wr(hr,function(Br,zr){Br.apply(Tr,Sr.concat(zr))},Cr)});return vr.length?xr.apply(this,vr):xr})}var $i=typeof dr=="object"&&dr&&dr.Object===Object&&dr,Xi=typeof self=="object"&&self&&self.Object===Object&&self,ji=$i||Xi||Function("return this")(),Bi=ji.Symbol,Zi=Object.prototype,Aa=Zi.hasOwnProperty,Da=Zi.toString,ba=Bi?Bi.toStringTag:void 0;function _o(wr){var hr=Aa.call(wr,ba),vr=wr[ba];try{wr[ba]=void 0;var xr=!0}catch{}var Sr=Da.call(wr);return xr&&(hr?wr[ba]=vr:delete wr[ba]),Sr}var co=Object.prototype,Co=co.toString;function wi(wr){return Co.call(wr)}var Vi="[object Null]",Yr="[object Undefined]",zi=Bi?Bi.toStringTag:void 0;function la(wr){return wr==null?wr===void 0?Yr:Vi:zi&&zi in Object(wr)?_o(wr):wi(wr)}function Ui(wr){var hr=typeof wr;return wr!=null&&(hr=="object"||hr=="function")}var Ba="[object AsyncFunction]",Hi="[object Function]",ma="[object GeneratorFunction]",ki="[object Proxy]";function Oi(wr){if(!Ui(wr))return!1;var hr=la(wr);return hr==Hi||hr==ma||hr==Ba||hr==ki}var ko=9007199254740991;function na(wr){return typeof wr=="number"&&wr>-1&&wr%1==0&&wr<=ko}function Wi(wr){return wr!=null&&na(wr.length)&&!Oi(wr)}var vo={};function uo(){}function pa(wr){return function(){if(wr!==null){var hr=wr;wr=null,hr.apply(this,arguments)}}}var aa=typeof Symbol=="function"&&Symbol.iterator,Fa=function(wr){return aa&&wr[aa]&&wr[aa]()};function Ma(wr,hr){for(var vr=-1,xr=Array(wr);++vr<wr;)xr[vr]=hr(vr);return xr}function Pa(wr){return wr!=null&&typeof wr=="object"}var Ss="[object Arguments]";function Zo(wr){return Pa(wr)&&la(wr)==Ss}var ga=Object.prototype,ja=ga.hasOwnProperty,Ra=ga.propertyIsEnumerable,lo=Zo(function(){return arguments}())?Zo:function(wr){return Pa(wr)&&ja.call(wr,"callee")&&!Ra.call(wr,"callee")},no=Array.isArray;function ic(){return!1}var tl=typeof or=="object"&&or&&!or.nodeType&&or,rl=tl&&typeof pr=="object"&&pr&&!pr.nodeType&&pr,lh=rl&&rl.exports===tl,nl=lh?ji.Buffer:void 0,fh=nl?nl.isBuffer:void 0,hh=fh||ic,dh=9007199254740991,xh=/^(?:0|[1-9]\d*)$/;function ph(wr,hr){return hr=hr??dh,!!hr&&(typeof wr=="number"||xh.test(wr))&&wr>-1&&wr%1==0&&wr<hr}var _h="[object Arguments]",vh="[object Array]",mh="[object Boolean]",gh="[object Date]",yh="[object Error]",bh="[object Function]",Eh="[object Map]",wh="[object Number]",Sh="[object Object]",Ah="[object RegExp]",Ih="[object Set]",Ch="[object String]",kh="[object WeakMap]",Oh="[object ArrayBuffer]",Th="[object DataView]",Dh="[object Float32Array]",Rh="[object Float64Array]",Fh="[object Int8Array]",Ph="[object Int16Array]",Bh="[object Int32Array]",qh="[object Uint8Array]",Nh="[object Uint8ClampedArray]",Lh="[object Uint16Array]",Mh="[object Uint32Array]",ha={};ha[Dh]=ha[Rh]=ha[Fh]=ha[Ph]=ha[Bh]=ha[qh]=ha[Nh]=ha[Lh]=ha[Mh]=!0,ha[_h]=ha[vh]=ha[Oh]=ha[mh]=ha[Th]=ha[gh]=ha[yh]=ha[bh]=ha[Eh]=ha[wh]=ha[Sh]=ha[Ah]=ha[Ih]=ha[Ch]=ha[kh]=!1;function Vh(wr){return Pa(wr)&&na(wr.length)&&!!ha[la(wr)]}function Uh(wr){return function(hr){return wr(hr)}}var il=typeof or=="object"&&or&&!or.nodeType&&or,al=il&&typeof pr=="object"&&pr&&!pr.nodeType&&pr,jh=al&&al.exports===il,Cu=jh&&$i.process,ol=function(){try{return Cu&&Cu.binding&&Cu.binding("util")}catch{}}(),sl=ol&&ol.isTypedArray,zh=sl?Uh(sl):Vh,Hh=Object.prototype,Wh=Hh.hasOwnProperty;function Kh(wr,hr){var vr=no(wr),xr=!vr&&lo(wr),Sr=!vr&&!xr&&hh(wr),Cr=!vr&&!xr&&!Sr&&zh(wr),Tr=vr||xr||Sr||Cr,Br=Tr?Ma(wr.length,String):[],zr=Br.length;for(var Qr in wr)(hr||Wh.call(wr,Qr))&&!(Tr&&(Qr=="length"||Sr&&(Qr=="offset"||Qr=="parent")||Cr&&(Qr=="buffer"||Qr=="byteLength"||Qr=="byteOffset")||ph(Qr,zr)))&&Br.push(Qr);return Br}var Yh=Object.prototype;function Gh(wr){var hr=wr&&wr.constructor,vr=typeof hr=="function"&&hr.prototype||Yh;return wr===vr}function $h(wr,hr){return function(vr){return wr(hr(vr))}}var Qh=$h(Object.keys,Object),Xh=Object.prototype,Jh=Xh.hasOwnProperty;function Zh(wr){if(!Gh(wr))return Qh(wr);var hr=[];for(var vr in Object(wr))Jh.call(wr,vr)&&vr!="constructor"&&hr.push(vr);return hr}function ed(wr){return Wi(wr)?Kh(wr):Zh(wr)}function td(wr){var hr=-1,vr=wr.length;return function(){return++hr<vr?{value:wr[hr],key:hr}:null}}function rd(wr){var hr=-1;return function(){var xr=wr.next();return xr.done?null:(hr++,{value:xr.value,key:hr})}}function nd(wr){var hr=ed(wr),vr=-1,xr=hr.length;return function(){var Cr=hr[++vr];return vr<xr?{value:wr[Cr],key:Cr}:null}}function id(wr){if(Wi(wr))return td(wr);var hr=Fa(wr);return hr?rd(hr):nd(wr)}function cl(wr){return function(){if(wr===null)throw new Error("Callback was already called.");var hr=wr;wr=null,hr.apply(this,arguments)}}function ul(wr){return function(hr,vr,xr){if(xr=pa(xr||uo),wr<=0||!hr)return xr(null);var Sr=id(hr),Cr=!1,Tr=0;function Br(Qr,li){if(Tr-=1,Qr)Cr=!0,xr(Qr);else{if(li===vo||Cr&&Tr<=0)return Cr=!0,xr(null);zr()}}function zr(){for(;Tr<wr&&!Cr;){var Qr=Sr();if(Qr===null){Cr=!0,Tr<=0&&xr(null);return}Tr+=1,vr(Qr.value,Qr.key,cl(Br))}}zr()}}function ll(wr,hr,vr,xr){ul(hr)(wr,vr,xr)}function ku(wr,hr){return function(vr,xr,Sr){return wr(vr,hr,xr,Sr)}}function ad(wr,hr,vr){vr=pa(vr||uo);var xr=0,Sr=0,Cr=wr.length;Cr===0&&vr(null);function Tr(Br,zr){Br?vr(Br):(++Sr===Cr||zr===vo)&&vr(null)}for(;xr<Cr;xr++)hr(wr[xr],xr,cl(Tr))}var od=ku(ll,1/0),fl=function(wr,hr,vr){var xr=Wi(wr)?ad:od;xr(wr,hr,vr)};function sd(wr){return function(hr,vr,xr){return wr(fl,hr,vr,xr)}}function hl(wr,hr,vr,xr){xr=xr||uo,hr=hr||[];var Sr=[],Cr=0;wr(hr,function(Tr,Br,zr){var Qr=Cr++;vr(Tr,function(li,gi){Sr[Qr]=gi,zr(li)})},function(Tr){xr(Tr,Sr)})}var cd=sd(hl);Ri(cd);function ud(wr){return function(hr,vr,xr,Sr){return wr(ul(vr),hr,xr,Sr)}}var ld=ud(hl),fd=ku(ld,1);Ri(fd),fi(function(wr,hr){return fi(function(vr){return wr.apply(null,hr.concat(vr))})});function hd(wr,hr){for(var vr=-1,xr=wr==null?0:wr.length;++vr<xr&&hr(wr[vr],vr,wr)!==!1;);return wr}var dl=typeof setImmediate=="function"&&setImmediate,xl=typeof br=="object"&&typeof br.nextTick=="function";function pl(wr){setTimeout(wr,0)}function _l(wr){return fi(function(hr,vr){wr(function(){hr.apply(null,vr)})})}var ac;dl?ac=setImmediate:xl?ac=br.nextTick:ac=pl,_l(ac);var dd=ku(ll,1);function xd(wr,hr,vr,xr){xr=pa(xr||uo),dd(wr,function(Sr,Cr,Tr){vr(hr,Sr,function(Br,zr){hr=zr,Tr(Br)})},function(Sr){xr(Sr,hr)})}var pd=fi(function(hr){return fi(function(vr){var xr=this,Sr=vr[vr.length-1];typeof Sr=="function"?vr.pop():Sr=uo,xd(hr,vr,function(Cr,Tr,Br){Tr.apply(xr,Cr.concat(fi(function(zr,Qr){Br(zr,Qr)})))},function(Cr,Tr){Sr.apply(xr,[Cr].concat(Tr))})})});fi(function(wr){return pd.apply(null,wr.reverse())}),fi(function(wr){var hr=[null].concat(wr);return vi(function(vr,xr){return xr.apply(this,hr)})});function vl(wr){return fi(function(hr,vr){hr.apply(null,vr.concat(fi(function(xr,Sr){typeof console=="object"&&(xr?console.error&&console.error(xr):console[wr]&&hd(Sr,function(Cr){console[wr](Cr)}))})))})}vl("dir");function _d(wr){return function(hr,vr,xr){return wr(hr,xr)}}function ml(wr,hr,vr){fl(wr,_d(hr),vr)}vl("log");var oc;xl?oc=br.nextTick:dl?oc=setImmediate:oc=pl,_l(oc);var za;function vd(){za||(za={},za[Dropbox.ApiError.NETWORK_ERROR]=mr.EIO,za[Dropbox.ApiError.INVALID_PARAM]=mr.EINVAL,za[Dropbox.ApiError.INVALID_TOKEN]=mr.EPERM,za[Dropbox.ApiError.OAUTH_ERROR]=mr.EPERM,za[Dropbox.ApiError.NOT_FOUND]=mr.ENOENT,za[Dropbox.ApiError.INVALID_METHOD]=mr.EINVAL,za[Dropbox.ApiError.NOT_ACCEPTABLE]=mr.EINVAL,za[Dropbox.ApiError.CONFLICT]=mr.EINVAL,za[Dropbox.ApiError.RATE_LIMITED]=mr.EBUSY,za[Dropbox.ApiError.SERVER_ERROR]=mr.EBUSY,za[Dropbox.ApiError.OVER_QUOTA]=mr.ENOSPC)}function md(wr){return wr&&wr.stat.isFile}function gd(wr){return wr&&wr.stat.isFolder}function yd(wr){return wr==null||typeof wr=="object"&&typeof wr.byteLength=="number"}var qa=function(hr){this._cache={},this._client=hr};qa.prototype.readdir=function(hr,vr){var xr=this,Sr=this.getCachedDirInfo(hr);this._wrap(function(Cr){Sr!==null&&Sr.contents?xr._client.readdir(hr,{contentHash:Sr.stat.contentHash},Cr):xr._client.readdir(hr,Cr)},function(Cr,Tr,Br,zr){Cr?Cr.status===Dropbox.ApiError.NO_CONTENT&&Sr!==null?vr(null,Sr.contents.slice(0)):vr(Cr):(xr.updateCachedDirInfo(hr,Br,Tr.slice(0)),zr.forEach(function(Qr){xr.updateCachedInfo(yr.join(hr,Qr.name),Qr)}),vr(null,Tr))})},qa.prototype.remove=function(hr,vr){var xr=this;this._wrap(function(Sr){xr._client.remove(hr,Sr)},function(Sr,Cr){Sr||xr.updateCachedInfo(hr,Cr),vr(Sr)})},qa.prototype.move=function(hr,vr,xr){var Sr=this;this._wrap(function(Cr){Sr._client.move(hr,vr,Cr)},function(Cr,Tr){Cr||(Sr.deleteCachedInfo(hr),Sr.updateCachedInfo(vr,Tr)),xr(Cr)})},qa.prototype.stat=function(hr,vr){var xr=this;this._wrap(function(Sr){xr._client.stat(hr,Sr)},function(Sr,Cr){Sr||xr.updateCachedInfo(hr,Cr),vr(Sr,Cr)})},qa.prototype.readFile=function(hr,vr){var xr=this,Sr=this.getCachedFileInfo(hr);Sr!==null&&Sr.contents!==null?this.stat(hr,function(Cr,Tr){Cr?vr(Cr):Tr.contentHash===Sr.stat.contentHash?vr(Cr,Sr.contents.slice(0),Sr.stat):xr.readFile(hr,vr)}):this._wrap(function(Cr){xr._client.readFile(hr,{arrayBuffer:!0},Cr)},function(Cr,Tr,Br){Cr||xr.updateCachedInfo(hr,Br,Tr.slice(0)),vr(Cr,Tr,Br)})},qa.prototype.writeFile=function(hr,vr,xr){var Sr=this;this._wrap(function(Cr){Sr._client.writeFile(hr,vr,Cr)},function(Cr,Tr){Cr||Sr.updateCachedInfo(hr,Tr,vr.slice(0)),xr(Cr,Tr)})},qa.prototype.mkdir=function(hr,vr){var xr=this;this._wrap(function(Sr){xr._client.mkdir(hr,Sr)},function(Sr,Cr){Sr||xr.updateCachedInfo(hr,Cr,[]),vr(Sr)})},qa.prototype._wrap=function(hr,vr){var xr=0,Sr=function(Cr){var Tr=2;if(Cr&&3>++xr)switch(Cr.status){case Dropbox.ApiError.SERVER_ERROR:case Dropbox.ApiError.NETWORK_ERROR:case Dropbox.ApiError.RATE_LIMITED:setTimeout(function(){hr(Sr)},Tr*1e3);break;default:vr.apply(null,arguments);break}else vr.apply(null,arguments)};hr(Sr)},qa.prototype.getCachedInfo=function(hr){return this._cache[hr.toLowerCase()]},qa.prototype.putCachedInfo=function(hr,vr){this._cache[hr.toLowerCase()]=vr},qa.prototype.deleteCachedInfo=function(hr){delete this._cache[hr.toLowerCase()]},qa.prototype.getCachedDirInfo=function(hr){var vr=this.getCachedInfo(hr);return gd(vr)?vr:null},qa.prototype.getCachedFileInfo=function(hr){var vr=this.getCachedInfo(hr);return md(vr)?vr:null},qa.prototype.updateCachedDirInfo=function(hr,vr,xr){xr===void 0&&(xr=null);var Sr=this.getCachedInfo(hr);vr.contentHash!==null&&(Sr===void 0||Sr.stat.contentHash!==vr.contentHash)&&this.putCachedInfo(hr,{stat:vr,contents:xr})},qa.prototype.updateCachedFileInfo=function(hr,vr,xr){xr===void 0&&(xr=null);var Sr=this.getCachedInfo(hr);vr.versionTag!==null&&(Sr===void 0||Sr.stat.versionTag!==vr.versionTag)&&this.putCachedInfo(hr,{stat:vr,contents:xr})},qa.prototype.updateCachedInfo=function(hr,vr,xr){xr===void 0&&(xr=null),vr.isFile&&yd(xr)?this.updateCachedFileInfo(hr,vr,xr):vr.isFolder&&Array.isArray(xr)&&this.updateCachedDirInfo(hr,vr,xr)};var bd=function(wr){function hr(vr,xr,Sr,Cr,Tr){wr.call(this,vr,xr,Sr,Cr,Tr)}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.prototype.sync=function(xr){var Sr=this;if(this.isDirty()){var Cr=this.getBuffer(),Tr=$r(Cr);this._fs._writeFileStrict(this.getPath(),Tr,function(Br){Br||Sr.resetDirty(),xr(Br)})}else xr()},hr.prototype.close=function(xr){this.sync(xr)},hr}(ri),sc=function(wr){function hr(vr,xr){xr===void 0&&(xr=!0),wr.call(this),this._client=new qa(vr),Ei(xr,hr.Name,{client:"authenticated dropbox client instance"}),vd()}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.Create=function(xr,Sr){Sr(null,new hr(xr.client,!1))},hr.isAvailable=function(){return typeof Dropbox<"u"},hr.prototype.getName=function(){return hr.Name},hr.prototype.isReadOnly=function(){return!1},hr.prototype.supportsSymlinks=function(){return!1},hr.prototype.supportsProps=function(){return!1},hr.prototype.supportsSynch=function(){return!1},hr.prototype.empty=function(xr){var Sr=this;this._client.readdir("/",function(Cr,Tr){if(Cr)xr(Sr.convert(Cr,"/"));else{var Br=function(Qr,li){var gi=yr.join("/",Qr);Sr._client.remove(gi,function(Ii){li(Ii?Sr.convert(Ii,gi):null)})},zr=function(Qr){Qr?xr(Qr):xr()};ml(Tr,Br,zr)}})},hr.prototype.rename=function(xr,Sr,Cr){var Tr=this;this._client.move(xr,Sr,function(Br){Br?Tr._client.stat(Sr,function(zr,Qr){if(zr||Qr.isFolder){var li=Br.response.error.indexOf(xr)>-1?xr:Sr;Cr(Tr.convert(Br,li))}else Tr._client.remove(Sr,function(gi){gi?Cr(Tr.convert(gi,Sr)):Tr.rename(xr,Sr,Cr)})}):Cr()})},hr.prototype.stat=function(xr,Sr,Cr){var Tr=this;this._client.stat(xr,function(Br,zr){if(Br)Cr(Tr.convert(Br,xr));else if(zr&&zr.isRemoved)Cr(gr.FileError(mr.ENOENT,xr));else{var Qr=new Dr(Tr._statType(zr),zr.size);return Cr(null,Qr)}})},hr.prototype.open=function(xr,Sr,Cr,Tr){var Br=this;this._client.readFile(xr,function(zr,Qr,li){if(zr)if(Sr.isReadable())Tr(Br.convert(zr,xr));else switch(zr.status){case Dropbox.ApiError.NOT_FOUND:var gi=new ArrayBuffer(0);return Br._writeFileStrict(xr,gi,function(Li,Gi){if(Li)Tr(Li);else{var Ji=Br._makeFile(xr,Sr,Gi,bi(gi));Tr(null,Ji)}});default:return Tr(Br.convert(zr,xr))}else{var Ii;Qr===null?Ii=Ti():Ii=bi(Qr);var Ni=Br._makeFile(xr,Sr,li,Ii);return Tr(null,Ni)}})},hr.prototype._writeFileStrict=function(xr,Sr,Cr){var Tr=this,Br=yr.dirname(xr);this.stat(Br,!1,function(zr,Qr){zr?Cr(gr.FileError(mr.ENOENT,Br)):Tr._client.writeFile(xr,Sr,function(li,gi){li?Cr(Tr.convert(li,xr)):Cr(null,gi)})})},hr.prototype._statType=function(xr){return xr.isFile?Or.FILE:Or.DIRECTORY},hr.prototype._makeFile=function(xr,Sr,Cr,Tr){var Br=this._statType(Cr),zr=new Dr(Br,Cr.size);return new bd(this,xr,Sr,zr,Tr)},hr.prototype._remove=function(xr,Sr,Cr){var Tr=this;this._client.stat(xr,function(Br,zr){Br?Sr(Tr.convert(Br,xr)):zr.isFile&&!Cr?Sr(gr.FileError(mr.ENOTDIR,xr)):!zr.isFile&&Cr?Sr(gr.FileError(mr.EISDIR,xr)):Tr._client.remove(xr,function(Qr){Sr(Qr?Tr.convert(Qr,xr):null)})})},hr.prototype.unlink=function(xr,Sr){this._remove(xr,Sr,!0)},hr.prototype.rmdir=function(xr,Sr){this._remove(xr,Sr,!1)},hr.prototype.mkdir=function(xr,Sr,Cr){var Tr=this,Br=yr.dirname(xr);this._client.stat(Br,function(zr,Qr){zr?Cr(Tr.convert(zr,Br)):Tr._client.mkdir(xr,function(li){Cr(li?gr.FileError(mr.EEXIST,xr):null)})})},hr.prototype.readdir=function(xr,Sr){var Cr=this;this._client.readdir(xr,function(Tr,Br){return Tr?Sr(Cr.convert(Tr)):Sr(null,Br)})},hr.prototype.convert=function(xr,Sr){Sr===void 0&&(Sr=null);var Cr=za[xr.status];return Cr===void 0&&(Cr=mr.EIO),Sr?gr.FileError(Cr,Sr):new gr(Cr)},hr}(hi);sc.Name="Dropbox",sc.Options={client:{type:"object",description:"An *authenticated* Dropbox client. Must be from the 0.10 JS SDK.",validator:function(wr,hr){wr.isAuthenticated&&wr.isAuthenticated()?hr():hr(new gr(mr.EINVAL,"'client' option must be an authenticated Dropbox client from the v0.10 JS SDK."))}}};function ya(wr,hr){hr===void 0&&(hr="");for(var vr=wr.errno,xr=wr.node,Sr=[];xr&&(Sr.unshift(xr.name),xr!==xr.parent);)xr=xr.parent;return new gr(vr,Er[vr],Sr.length>0?"/"+Sr.join("/"):hr)}var Ed=function(wr){function hr(vr,xr,Sr,Cr){wr.call(this),this._fs=vr,this._FS=xr,this._path=Sr,this._stream=Cr}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.prototype.getPos=function(){},hr.prototype.close=function(xr){var Sr=null;try{this.closeSync()}catch(Cr){Sr=Cr}finally{xr(Sr)}},hr.prototype.closeSync=function(){try{this._FS.close(this._stream)}catch(xr){throw ya(xr,this._path)}},hr.prototype.stat=function(xr){try{xr(null,this.statSync())}catch(Sr){xr(Sr)}},hr.prototype.statSync=function(){try{return this._fs.statSync(this._path,!1)}catch(xr){throw ya(xr,this._path)}},hr.prototype.truncate=function(xr,Sr){var Cr=null;try{this.truncateSync(xr)}catch(Tr){Cr=Tr}finally{Sr(Cr)}},hr.prototype.truncateSync=function(xr){try{this._FS.ftruncate(this._stream.fd,xr)}catch(Sr){throw ya(Sr,this._path)}},hr.prototype.write=function(xr,Sr,Cr,Tr,Br){try{Br(null,this.writeSync(xr,Sr,Cr,Tr),xr)}catch(zr){Br(zr)}},hr.prototype.writeSync=function(xr,Sr,Cr,Tr){try{var Br=ei(xr),zr=Tr===null?void 0:Tr;return this._FS.write(this._stream,Br,Sr,Cr,zr)}catch(Qr){throw ya(Qr,this._path)}},hr.prototype.read=function(xr,Sr,Cr,Tr,Br){try{Br(null,this.readSync(xr,Sr,Cr,Tr),xr)}catch(zr){Br(zr)}},hr.prototype.readSync=function(xr,Sr,Cr,Tr){try{var Br=ei(xr),zr=Tr===null?void 0:Tr;return this._FS.read(this._stream,Br,Sr,Cr,zr)}catch(Qr){throw ya(Qr,this._path)}},hr.prototype.sync=function(xr){xr()},hr.prototype.syncSync=function(){},hr.prototype.chown=function(xr,Sr,Cr){var Tr=null;try{this.chownSync(xr,Sr)}catch(Br){Tr=Br}finally{Cr(Tr)}},hr.prototype.chownSync=function(xr,Sr){try{this._FS.fchown(this._stream.fd,xr,Sr)}catch(Cr){throw ya(Cr,this._path)}},hr.prototype.chmod=function(xr,Sr){var Cr=null;try{this.chmodSync(xr)}catch(Tr){Cr=Tr}finally{Sr(Cr)}},hr.prototype.chmodSync=function(xr){try{this._FS.fchmod(this._stream.fd,xr)}catch(Sr){throw ya(Sr,this._path)}},hr.prototype.utimes=function(xr,Sr,Cr){var Tr=null;try{this.utimesSync(xr,Sr)}catch(Br){Tr=Br}finally{Cr(Tr)}},hr.prototype.utimesSync=function(xr,Sr){this._fs.utimesSync(this._path,xr,Sr)},hr}(ti),cc=function(wr){function hr(vr){wr.call(this),this._FS=vr}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.Create=function(xr,Sr){Sr(null,new hr(xr.FS))},hr.isAvailable=function(){return!0},hr.prototype.getName=function(){return this._FS.DB_NAME()},hr.prototype.isReadOnly=function(){return!1},hr.prototype.supportsLinks=function(){return!0},hr.prototype.supportsProps=function(){return!0},hr.prototype.supportsSynch=function(){return!0},hr.prototype.renameSync=function(xr,Sr){try{this._FS.rename(xr,Sr)}catch(Cr){throw Cr.errno===mr.ENOENT?ya(Cr,this.existsSync(xr)?Sr:xr):ya(Cr)}},hr.prototype.statSync=function(xr,Sr){try{var Cr=Sr?this._FS.lstat(xr):this._FS.stat(xr),Tr=this.modeToFileType(Cr.mode);return new Dr(Tr,Cr.size,Cr.mode,Cr.atime,Cr.mtime,Cr.ctime)}catch(Br){throw ya(Br,xr)}},hr.prototype.openSync=function(xr,Sr,Cr){try{var Tr=this._FS.open(xr,Sr.getFlagString(),Cr);if(this._FS.isDir(Tr.node.mode))throw this._FS.close(Tr),gr.EISDIR(xr);return new Ed(this,this._FS,xr,Tr)}catch(Br){throw ya(Br,xr)}},hr.prototype.unlinkSync=function(xr){try{this._FS.unlink(xr)}catch(Sr){throw ya(Sr,xr)}},hr.prototype.rmdirSync=function(xr){try{this._FS.rmdir(xr)}catch(Sr){throw ya(Sr,xr)}},hr.prototype.mkdirSync=function(xr,Sr){try{this._FS.mkdir(xr,Sr)}catch(Cr){throw ya(Cr,xr)}},hr.prototype.readdirSync=function(xr){try{return this._FS.readdir(xr).filter(function(Sr){return Sr!=="."&&Sr!==".."})}catch(Sr){throw ya(Sr,xr)}},hr.prototype.truncateSync=function(xr,Sr){try{this._FS.truncate(xr,Sr)}catch(Cr){throw ya(Cr,xr)}},hr.prototype.readFileSync=function(xr,Sr,Cr){try{var Tr=this._FS.readFile(xr,{flags:Cr.getFlagString()}),Br=ui(Tr);return Sr?Br.toString(Sr):Br}catch(zr){throw ya(zr,xr)}},hr.prototype.writeFileSync=function(xr,Sr,Cr,Tr,Br){try{Cr&&(Sr=fr.from(Sr,Cr));var zr=ei(Sr);this._FS.writeFile(xr,zr,{flags:Tr.getFlagString(),encoding:"binary"}),this._FS.chmod(xr,Br)}catch(Qr){throw ya(Qr,xr)}},hr.prototype.chmodSync=function(xr,Sr,Cr){try{Sr?this._FS.lchmod(xr,Cr):this._FS.chmod(xr,Cr)}catch(Tr){throw ya(Tr,xr)}},hr.prototype.chownSync=function(xr,Sr,Cr,Tr){try{Sr?this._FS.lchown(xr,Cr,Tr):this._FS.chown(xr,Cr,Tr)}catch(Br){throw ya(Br,xr)}},hr.prototype.symlinkSync=function(xr,Sr,Cr){try{this._FS.symlink(xr,Sr)}catch(Tr){throw ya(Tr)}},hr.prototype.readlinkSync=function(xr){try{return this._FS.readlink(xr)}catch(Sr){throw ya(Sr,xr)}},hr.prototype.utimesSync=function(xr,Sr,Cr){try{this._FS.utime(xr,Sr.getTime(),Cr.getTime())}catch(Tr){throw ya(Tr,xr)}},hr.prototype.modeToFileType=function(xr){if(this._FS.isDir(xr))return Or.DIRECTORY;if(this._FS.isFile(xr))return Or.FILE;if(this._FS.isLink(xr))return Or.SYMLINK;throw gr.EPERM("Invalid mode: "+xr)},hr}(yi);cc.Name="EmscriptenFileSystem",cc.Options={FS:{type:"object",description:"The Emscripten file system to use (the `FS` variable)"}};var As=function(wr){function hr(vr,xr){wr.call(this),this._folder=vr,this._wrapped=xr}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.Create=function(xr,Sr){Sr(null,new hr(xr.folder,xr.wrapped))},hr.isAvailable=function(){return!0},hr.prototype.initialize=function(xr){var Sr=this;this._wrapped.exists(this._folder,function(Cr){Cr?xr():Sr._wrapped.isReadOnly()?xr(gr.ENOENT(Sr._folder)):Sr._wrapped.mkdir(Sr._folder,511,xr)})},hr.prototype.getName=function(){return this._wrapped.getName()},hr.prototype.isReadOnly=function(){return this._wrapped.isReadOnly()},hr.prototype.supportsProps=function(){return this._wrapped.supportsProps()},hr.prototype.supportsSynch=function(){return this._wrapped.supportsSynch()},hr.prototype.supportsLinks=function(){return!1},hr}(hi);As.Name="FolderAdapter",As.Options={folder:{type:"string",description:"The folder to use as the root directory"},wrapped:{type:"object",description:"The file system to wrap"}};function gl(wr,hr){if(hr!==null&&typeof hr=="object"){var vr=hr,xr=vr.path;xr&&(xr="/"+yr.relative(wr,xr),vr.message=vr.message.replace(vr.path,xr),vr.path=xr)}return hr}function wd(wr,hr){return typeof hr=="function"?function(vr){arguments.length>0&&(arguments[0]=gl(wr,vr)),hr.apply(null,arguments)}:hr}function yl(wr,hr,vr){return wr.slice(wr.length-4)!=="Sync"?function(){return arguments.length>0&&(hr&&(arguments[0]=yr.join(this._folder,arguments[0])),vr&&(arguments[1]=yr.join(this._folder,arguments[1])),arguments[arguments.length-1]=wd(this._folder,arguments[arguments.length-1])),this._wrapped[wr].apply(this._wrapped,arguments)}:function(){try{return hr&&(arguments[0]=yr.join(this._folder,arguments[0])),vr&&(arguments[1]=yr.join(this._folder,arguments[1])),this._wrapped[wr].apply(this._wrapped,arguments)}catch(xr){throw gl(this._folder,xr)}}}["diskSpace","stat","statSync","open","openSync","unlink","unlinkSync","rmdir","rmdirSync","mkdir","mkdirSync","readdir","readdirSync","exists","existsSync","realpath","realpathSync","truncate","truncateSync","readFile","readFileSync","writeFile","writeFileSync","appendFile","appendFileSync","chmod","chmodSync","chown","chownSync","utimes","utimesSync","readlink","readlinkSync"].forEach(function(wr){As.prototype[wr]=yl(wr,!0,!1)}),["rename","renameSync","link","linkSync","symlink","symlinkSync"].forEach(function(wr){As.prototype[wr]=yl(wr,!0,!0)});var uc;typeof window<"u"?uc=window:typeof self<"u"?uc=self:uc=dr;var Ia=uc;function Sd(wr){return wr.isDirectory}var Ou=Ia.webkitRequestFileSystem||Ia.requestFileSystem||null;function Ad(wr,hr,vr,xr){if(typeof navigator.webkitPersistentStorage<"u")switch(wr){case Ia.PERSISTENT:navigator.webkitPersistentStorage.requestQuota(hr,vr,xr);break;case Ia.TEMPORARY:navigator.webkitTemporaryStorage.requestQuota(hr,vr,xr);break;default:xr(new TypeError("Invalid storage type: "+wr));break}else Ia.webkitStorageInfo.requestQuota(wr,hr,vr,xr)}function Id(wr){return Array.prototype.slice.call(wr||[],0)}function mo(wr,hr,vr){switch(wr.name){case"PathExistsError":return gr.EEXIST(hr);case"QuotaExceededError":return gr.FileError(mr.ENOSPC,hr);case"NotFoundError":return gr.ENOENT(hr);case"SecurityError":return gr.FileError(mr.EACCES,hr);case"InvalidModificationError":return gr.FileError(mr.EPERM,hr);case"TypeMismatchError":return gr.FileError(vr?mr.ENOTDIR:mr.EISDIR,hr);case"EncodingError":case"InvalidStateError":case"NoModificationAllowedError":default:return gr.FileError(mr.EINVAL,hr)}}var Cd=function(wr){function hr(vr,xr,Sr,Cr,Tr,Br){wr.call(this,vr,Sr,Cr,Tr,Br),this._entry=xr}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.prototype.sync=function(xr){var Sr=this;if(!this.isDirty())return xr();this._entry.createWriter(function(Cr){var Tr=Sr.getBuffer(),Br=new Blob([$r(Tr)]),zr=Br.size;Cr.onwriteend=function(Qr){Cr.onwriteend=null,Cr.onerror=null,Cr.truncate(zr),Sr.resetDirty(),xr()},Cr.onerror=function(Qr){xr(mo(Qr,Sr.getPath(),!1))},Cr.write(Br)})},hr.prototype.close=function(xr){this.sync(xr)},hr}(ri),lc=function(wr){function hr(vr,xr,Sr){vr===void 0&&(vr=5),xr===void 0&&(xr=Ia.PERSISTENT),Sr===void 0&&(Sr=!0),wr.call(this),this.size=1024*1024*vr,this.type=xr,Ei(Sr,hr.Name,{size:vr,type:xr})}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.Create=function(xr,Sr){var Cr=new hr(xr.size,xr.type,!1);Cr.allocate(function(Tr){return Tr?Sr(Tr):Sr(null,Cr)},!1)},hr.isAvailable=function(){return!!Ou},hr.prototype.getName=function(){return hr.Name},hr.prototype.isReadOnly=function(){return!1},hr.prototype.supportsSymlinks=function(){return!1},hr.prototype.supportsProps=function(){return!1},hr.prototype.supportsSynch=function(){return!1},hr.prototype.allocate=function(xr,Sr){var Cr=this;xr===void 0&&(xr=function(){}),Sr===void 0&&(Sr=!0),Sr&&console.warn("[HTML5FS] HTML5FS.allocate() is deprecated and will be removed in the next major release. Please use 'HTML5FS.Create({type: "+this.type+", size: "+this.size+"}, cb)' to create and allocate HTML5FS instances.");var Tr=function(zr){Cr.fs=zr,xr()},Br=function(zr){xr(mo(zr,"/",!0))};this.type===Ia.PERSISTENT?Ad(this.type,this.size,function(zr){Ou(Cr.type,zr,Tr,Br)},Br):Ou(this.type,this.size,Tr,Br)},hr.prototype.empty=function(xr){this._readdir("/",function(Sr,Cr){if(Sr)console.error("Failed to empty FS"),xr(Sr);else{var Tr=function(zr){Sr?(console.error("Failed to empty FS"),xr(Sr)):xr()},Br=function(zr,Qr){var li=function(){Qr()},gi=function(Ii){Qr(mo(Ii,zr.fullPath,!zr.isDirectory))};Sd(zr)?zr.removeRecursively(li,gi):zr.remove(li,gi)};ml(Cr,Br,Tr)}})},hr.prototype.rename=function(xr,Sr,Cr){var Tr=this,Br=2,zr=0,Qr=this.fs.root,li=xr,gi=function(Ni){--Br<=0&&Cr(mo(Ni,li,!1))},Ii=function(Ni){if(++zr===2)return Cr(new gr(mr.EINVAL,"Something was identified as both a file and a directory. This should never happen."));if(xr===Sr)return Cr();li=yr.dirname(Sr),Qr.getDirectory(li,{},function(Li){li=yr.basename(Sr),Ni.moveTo(Li,li,function(Gi){Cr()},function(Gi){Ni.isDirectory?(li=Sr,Tr.unlink(Sr,function(Ji){Ji?gi(Gi):Tr.rename(xr,Sr,Cr)})):gi(Gi)})},gi)};Qr.getFile(xr,{},Ii,gi),Qr.getDirectory(xr,{},Ii,gi)},hr.prototype.stat=function(xr,Sr,Cr){var Tr=this,Br={create:!1},zr=function(Ii){var Ni=function(Li){var Gi=new Dr(Or.FILE,Li.size);Cr(null,Gi)};Ii.file(Ni,li)},Qr=function(Ii){var Ni=4096,Li=new Dr(Or.DIRECTORY,Ni);Cr(null,Li)},li=function(Ii){Cr(mo(Ii,xr,!1))},gi=function(){Tr.fs.root.getDirectory(xr,Br,Qr,li)};this.fs.root.getFile(xr,Br,zr,gi)},hr.prototype.open=function(xr,Sr,Cr,Tr){var Br=this,zr=function(Qr){Qr.name==="InvalidModificationError"&&Sr.isExclusive()?Tr(gr.EEXIST(xr)):Tr(mo(Qr,xr,!1))};this.fs.root.getFile(xr,{create:Sr.pathNotExistsAction()===Ar.CREATE_FILE,exclusive:Sr.isExclusive()},function(Qr){Qr.file(function(li){var gi=new FileReader;gi.onloadend=function(Ii){var Ni=Br._makeFile(xr,Qr,Sr,li,gi.result);Tr(null,Ni)},gi.onerror=function(Ii){zr(gi.error)},gi.readAsArrayBuffer(li)},zr)},zr)},hr.prototype.unlink=function(xr,Sr){this._remove(xr,Sr,!0)},hr.prototype.rmdir=function(xr,Sr){var Cr=this;this.readdir(xr,function(Tr,Br){Tr?Sr(Tr):Br.length>0?Sr(gr.ENOTEMPTY(xr)):Cr._remove(xr,Sr,!1)})},hr.prototype.mkdir=function(xr,Sr,Cr){var Tr={create:!0,exclusive:!0},Br=function(Qr){Cr()},zr=function(Qr){Cr(mo(Qr,xr,!0))};this.fs.root.getDirectory(xr,Tr,Br,zr)},hr.prototype.readdir=function(xr,Sr){this._readdir(xr,function(Cr,Tr){if(Tr){for(var Br=[],zr=0,Qr=Tr;zr<Qr.length;zr+=1){var li=Qr[zr];Br.push(li.name)}Sr(null,Br)}else return Sr(Cr)})},hr.prototype._makeFile=function(xr,Sr,Cr,Tr,Br){Br===void 0&&(Br=new ArrayBuffer(0));var zr=new Dr(Or.FILE,Tr.size),Qr=bi(Br);return new Cd(this,Sr,xr,Cr,zr,Qr)},hr.prototype._readdir=function(xr,Sr){var Cr=function(Tr){Sr(mo(Tr,xr,!0))};this.fs.root.getDirectory(xr,{create:!1},function(Tr){var Br=Tr.createReader(),zr=[],Qr=function(){Br.readEntries(function(li){li.length?(zr=zr.concat(Id(li)),Qr()):Sr(null,zr)},Cr)};Qr()},Cr)},hr.prototype._remove=function(xr,Sr,Cr){var Tr=function(Qr){var li=function(){Sr()},gi=function(Ii){Sr(mo(Ii,xr,!Cr))};Qr.remove(li,gi)},Br=function(Qr){Sr(mo(Qr,xr,!Cr))},zr={create:!1};Cr?this.fs.root.getFile(xr,zr,Tr,Br):this.fs.root.getDirectory(xr,zr,Tr,Br)},hr}(hi);lc.Name="HTML5FS",lc.Options={size:{type:"number",optional:!0,description:"Storage quota to request, in megabytes. Allocated value may be less. Defaults to 5."},type:{type:"number",optional:!0,description:"window.PERSISTENT or window.TEMPORARY. Defaults to PERSISTENT."}};var Ha=function(hr,vr,xr,Sr,Cr,Tr){this.id=hr,this.size=vr,this.mode=xr,this.atime=Sr,this.mtime=Cr,this.ctime=Tr};Ha.fromBuffer=function(hr){if(hr===void 0)throw new Error("NO");return new Ha(hr.toString("ascii",30),hr.readUInt32LE(0),hr.readUInt16LE(4),hr.readDoubleLE(6),hr.readDoubleLE(14),hr.readDoubleLE(22))},Ha.prototype.toStats=function(){return new Dr((this.mode&61440)===Or.DIRECTORY?Or.DIRECTORY:Or.FILE,this.size,this.mode,new Date(this.atime),new Date(this.mtime),new Date(this.ctime))},Ha.prototype.getSize=function(){return 30+this.id.length},Ha.prototype.toBuffer=function(hr){return hr===void 0&&(hr=fr.alloc(this.getSize())),hr.writeUInt32LE(this.size,0),hr.writeUInt16LE(this.mode,4),hr.writeDoubleLE(this.atime,6),hr.writeDoubleLE(this.mtime,14),hr.writeDoubleLE(this.ctime,22),hr.write(this.id,30,this.id.length,"ascii"),hr},Ha.prototype.update=function(hr){var vr=!1;this.size!==hr.size&&(this.size=hr.size,vr=!0),this.mode!==hr.mode&&(this.mode=hr.mode,vr=!0);var xr=hr.atime.getTime();this.atime!==xr&&(this.atime=xr,vr=!0);var Sr=hr.mtime.getTime();this.mtime!==Sr&&(this.mtime=Sr,vr=!0);var Cr=hr.ctime.getTime();return this.ctime!==Cr&&(this.ctime=Cr,vr=!0),vr},Ha.prototype.isFile=function(){return(this.mode&61440)===Or.FILE},Ha.prototype.isDirectory=function(){return(this.mode&61440)===Or.DIRECTORY};var Mo="/",Tu=null;function bl(){return Tu||(Tu=fr.from("{}"))}function fc(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(wr){var hr=Math.random()*16|0,vr=wr==="x"?hr:hr&3|8;return vr.toString(16)})}function $a(wr,hr){return wr?(hr(wr),!1):!0}function Oa(wr,hr,vr){return wr?(hr.abort(function(){vr(wr)}),!1):!0}var Oo=function(hr){this.store=hr,this.originalData={},this.modifiedKeys=[]};Oo.prototype.get=function(hr){var vr=this.store.get(hr);return this.stashOldValue(hr,vr),vr},Oo.prototype.put=function(hr,vr,xr){return this.markModified(hr),this.store.put(hr,vr,xr)},Oo.prototype.del=function(hr){this.markModified(hr),this.store.del(hr)},Oo.prototype.commit=function(){},Oo.prototype.abort=function(){for(var hr=this,vr=0,xr=hr.modifiedKeys;vr<xr.length;vr+=1){var Sr=xr[vr],Cr=hr.originalData[Sr];Cr?hr.store.put(Sr,Cr,!0):hr.store.del(Sr)}},Oo.prototype.stashOldValue=function(hr,vr){this.originalData.hasOwnProperty(hr)||(this.originalData[hr]=vr)},Oo.prototype.markModified=function(hr){this.modifiedKeys.indexOf(hr)===-1&&(this.modifiedKeys.push(hr),this.originalData.hasOwnProperty(hr)||(this.originalData[hr]=this.store.get(hr)))};var El=function(wr){function hr(vr,xr,Sr,Cr,Tr){wr.call(this,vr,xr,Sr,Cr,Tr)}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this.getPath(),this.getBuffer(),this.getStats()),this.resetDirty())},hr.prototype.closeSync=function(){this.syncSync()},hr}(ri),wl=function(wr){function hr(vr){wr.call(this),this.store=vr.store,this.makeRootDirectory()}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.isAvailable=function(){return!0},hr.prototype.getName=function(){return this.store.name()},hr.prototype.isReadOnly=function(){return!1},hr.prototype.supportsSymlinks=function(){return!1},hr.prototype.supportsProps=function(){return!1},hr.prototype.supportsSynch=function(){return!0},hr.prototype.empty=function(){this.store.clear(),this.makeRootDirectory()},hr.prototype.renameSync=function(xr,Sr){var Cr=this.store.beginTransaction("readwrite"),Tr=yr.dirname(xr),Br=yr.basename(xr),zr=yr.dirname(Sr),Qr=yr.basename(Sr),li=this.findINode(Cr,Tr),gi=this.getDirListing(Cr,Tr,li);if(!gi[Br])throw gr.ENOENT(xr);var Ii=gi[Br];if(delete gi[Br],(zr+"/").indexOf(xr+"/")===0)throw new gr(mr.EBUSY,Tr);var Ni,Li;if(zr===Tr?(Ni=li,Li=gi):(Ni=this.findINode(Cr,zr),Li=this.getDirListing(Cr,zr,Ni)),Li[Qr]){var Gi=this.getINode(Cr,Sr,Li[Qr]);if(Gi.isFile())try{Cr.del(Gi.id),Cr.del(Li[Qr])}catch(Ji){throw Cr.abort(),Ji}else throw gr.EPERM(Sr)}Li[Qr]=Ii;try{Cr.put(li.id,fr.from(JSON.stringify(gi)),!0),Cr.put(Ni.id,fr.from(JSON.stringify(Li)),!0)}catch(Ji){throw Cr.abort(),Ji}Cr.commit()},hr.prototype.statSync=function(xr,Sr){return this.findINode(this.store.beginTransaction("readonly"),xr).toStats()},hr.prototype.createFileSync=function(xr,Sr,Cr){var Tr=this.store.beginTransaction("readwrite"),Br=Ti(),zr=this.commitNewFile(Tr,xr,Or.FILE,Cr,Br);return new El(this,xr,Sr,zr.toStats(),Br)},hr.prototype.openFileSync=function(xr,Sr){var Cr=this.store.beginTransaction("readonly"),Tr=this.findINode(Cr,xr),Br=Cr.get(Tr.id);if(Br===void 0)throw gr.ENOENT(xr);return new El(this,xr,Sr,Tr.toStats(),Br)},hr.prototype.unlinkSync=function(xr){this.removeEntry(xr,!1)},hr.prototype.rmdirSync=function(xr){if(this.readdirSync(xr).length>0)throw gr.ENOTEMPTY(xr);this.removeEntry(xr,!0)},hr.prototype.mkdirSync=function(xr,Sr){var Cr=this.store.beginTransaction("readwrite"),Tr=fr.from("{}");this.commitNewFile(Cr,xr,Or.DIRECTORY,Sr,Tr)},hr.prototype.readdirSync=function(xr){var Sr=this.store.beginTransaction("readonly");return Object.keys(this.getDirListing(Sr,xr,this.findINode(Sr,xr)))},hr.prototype._syncSync=function(xr,Sr,Cr){var Tr=this.store.beginTransaction("readwrite"),Br=this._findINode(Tr,yr.dirname(xr),yr.basename(xr)),zr=this.getINode(Tr,xr,Br),Qr=zr.update(Cr);try{Tr.put(zr.id,Sr,!0),Qr&&Tr.put(Br,zr.toBuffer(),!0)}catch(li){throw Tr.abort(),li}Tr.commit()},hr.prototype.makeRootDirectory=function(){var xr=this.store.beginTransaction("readwrite");if(xr.get(Mo)===void 0){var Sr=new Date().getTime(),Cr=new Ha(fc(),4096,511|Or.DIRECTORY,Sr,Sr,Sr);xr.put(Cr.id,bl(),!1),xr.put(Mo,Cr.toBuffer(),!1),xr.commit()}},hr.prototype._findINode=function(xr,Sr,Cr){var Tr=this,Br=function(zr){var Qr=Tr.getDirListing(xr,Sr,zr);if(Qr[Cr])return Qr[Cr];throw gr.ENOENT(yr.resolve(Sr,Cr))};return Sr==="/"?Cr===""?Mo:Br(this.getINode(xr,Sr,Mo)):Br(this.getINode(xr,Sr+yr.sep+Cr,this._findINode(xr,yr.dirname(Sr),yr.basename(Sr))))},hr.prototype.findINode=function(xr,Sr){return this.getINode(xr,Sr,this._findINode(xr,yr.dirname(Sr),yr.basename(Sr)))},hr.prototype.getINode=function(xr,Sr,Cr){var Tr=xr.get(Cr);if(Tr===void 0)throw gr.ENOENT(Sr);return Ha.fromBuffer(Tr)},hr.prototype.getDirListing=function(xr,Sr,Cr){if(!Cr.isDirectory())throw gr.ENOTDIR(Sr);var Tr=xr.get(Cr.id);if(Tr===void 0)throw gr.ENOENT(Sr);return JSON.parse(Tr.toString())},hr.prototype.addNewNode=function(xr,Sr){for(var Cr=0,Tr;Cr<5;)try{return Tr=fc(),xr.put(Tr,Sr,!1),Tr}catch{}throw new gr(mr.EIO,"Unable to commit data to key-value store.")},hr.prototype.commitNewFile=function(xr,Sr,Cr,Tr,Br){var zr=yr.dirname(Sr),Qr=yr.basename(Sr),li=this.findINode(xr,zr),gi=this.getDirListing(xr,zr,li),Ii=new Date().getTime();if(Sr==="/"||gi[Qr])throw gr.EEXIST(Sr);var Ni;try{var Li=this.addNewNode(xr,Br);Ni=new Ha(Li,Br.length,Tr|Cr,Ii,Ii,Ii);var Gi=this.addNewNode(xr,Ni.toBuffer());gi[Qr]=Gi,xr.put(li.id,fr.from(JSON.stringify(gi)),!0)}catch(Ji){throw xr.abort(),Ji}return xr.commit(),Ni},hr.prototype.removeEntry=function(xr,Sr){var Cr=this.store.beginTransaction("readwrite"),Tr=yr.dirname(xr),Br=this.findINode(Cr,Tr),zr=this.getDirListing(Cr,Tr,Br),Qr=yr.basename(xr);if(!zr[Qr])throw gr.ENOENT(xr);var li=zr[Qr];delete zr[Qr];var gi=this.getINode(Cr,xr,li);if(!Sr&&gi.isDirectory())throw gr.EISDIR(xr);if(Sr&&!gi.isDirectory())throw gr.ENOTDIR(xr);try{Cr.del(gi.id),Cr.del(li),Cr.put(Br.id,fr.from(JSON.stringify(zr)),!0)}catch(Ii){throw Cr.abort(),Ii}Cr.commit()},hr}(yi),Sl=function(wr){function hr(vr,xr,Sr,Cr,Tr){wr.call(this,vr,xr,Sr,Cr,Tr)}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.prototype.sync=function(xr){var Sr=this;this.isDirty()?this._fs._sync(this.getPath(),this.getBuffer(),this.getStats(),function(Cr){Cr||Sr.resetDirty(),xr(Cr)}):xr()},hr.prototype.close=function(xr){this.sync(xr)},hr}(ri),kd=function(wr){function hr(){wr.apply(this,arguments)}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.isAvailable=function(){return!0},hr.prototype.init=function(xr,Sr){this.store=xr,this.makeRootDirectory(Sr)},hr.prototype.getName=function(){return this.store.name()},hr.prototype.isReadOnly=function(){return!1},hr.prototype.supportsSymlinks=function(){return!1},hr.prototype.supportsProps=function(){return!1},hr.prototype.supportsSynch=function(){return!1},hr.prototype.empty=function(xr){var Sr=this;this.store.clear(function(Cr){$a(Cr,xr)&&Sr.makeRootDirectory(xr)})},hr.prototype.rename=function(xr,Sr,Cr){var Tr=this,Br=this.store.beginTransaction("readwrite"),zr=yr.dirname(xr),Qr=yr.basename(xr),li=yr.dirname(Sr),gi=yr.basename(Sr),Ii={},Ni={},Li=!1;if((li+"/").indexOf(xr+"/")===0)return Cr(new gr(mr.EBUSY,zr));var Gi=function(){if(!(Li||!Ni.hasOwnProperty(zr)||!Ni.hasOwnProperty(li))){var ra=Ni[zr],va=Ii[zr],Na=Ni[li],bo=Ii[li];if(!ra[Qr])Cr(gr.ENOENT(xr));else{var Eo=ra[Qr];delete ra[Qr];var Rs=function(){Na[gi]=Eo,Br.put(va.id,fr.from(JSON.stringify(ra)),!0,function(Ro){Oa(Ro,Br,Cr)&&(zr===li?Br.commit(Cr):Br.put(bo.id,fr.from(JSON.stringify(Na)),!0,function(Fo){Oa(Fo,Br,Cr)&&Br.commit(Cr)}))})};Na[gi]?Tr.getINode(Br,Sr,Na[gi],function(Ro,Fo){Oa(Ro,Br,Cr)&&(Fo.isFile()?Br.del(Fo.id,function(hf){Oa(hf,Br,Cr)&&Br.del(Na[gi],function(rx){Oa(rx,Br,Cr)&&Rs()})}):Br.abort(function(hf){Cr(gr.EPERM(Sr))}))}):Rs()}}},Ji=function(ra){Tr.findINodeAndDirListing(Br,ra,function(va,Na,bo){va?Li||(Li=!0,Br.abort(function(){Cr(va)})):(Ii[ra]=Na,Ni[ra]=bo,Gi())})};Ji(zr),zr!==li&&Ji(li)},hr.prototype.stat=function(xr,Sr,Cr){var Tr=this.store.beginTransaction("readonly");this.findINode(Tr,xr,function(Br,zr){$a(Br,Cr)&&Cr(null,zr.toStats())})},hr.prototype.createFile=function(xr,Sr,Cr,Tr){var Br=this,zr=this.store.beginTransaction("readwrite"),Qr=Ti();this.commitNewFile(zr,xr,Or.FILE,Cr,Qr,function(li,gi){$a(li,Tr)&&Tr(null,new Sl(Br,xr,Sr,gi.toStats(),Qr))})},hr.prototype.openFile=function(xr,Sr,Cr){var Tr=this,Br=this.store.beginTransaction("readonly");this.findINode(Br,xr,function(zr,Qr){$a(zr,Cr)&&Br.get(Qr.id,function(li,gi){$a(li,Cr)&&(gi===void 0?Cr(gr.ENOENT(xr)):Cr(null,new Sl(Tr,xr,Sr,Qr.toStats(),gi)))})})},hr.prototype.unlink=function(xr,Sr){this.removeEntry(xr,!1,Sr)},hr.prototype.rmdir=function(xr,Sr){var Cr=this;this.readdir(xr,function(Tr,Br){Tr?Sr(Tr):Br.length>0?Sr(gr.ENOTEMPTY(xr)):Cr.removeEntry(xr,!0,Sr)})},hr.prototype.mkdir=function(xr,Sr,Cr){var Tr=this.store.beginTransaction("readwrite"),Br=fr.from("{}");this.commitNewFile(Tr,xr,Or.DIRECTORY,Sr,Br,Cr)},hr.prototype.readdir=function(xr,Sr){var Cr=this,Tr=this.store.beginTransaction("readonly");this.findINode(Tr,xr,function(Br,zr){$a(Br,Sr)&&Cr.getDirListing(Tr,xr,zr,function(Qr,li){$a(Qr,Sr)&&Sr(null,Object.keys(li))})})},hr.prototype._sync=function(xr,Sr,Cr,Tr){var Br=this,zr=this.store.beginTransaction("readwrite");this._findINode(zr,yr.dirname(xr),yr.basename(xr),function(Qr,li){Oa(Qr,zr,Tr)&&Br.getINode(zr,xr,li,function(gi,Ii){if(Oa(gi,zr,Tr)){var Ni=Ii.update(Cr);zr.put(Ii.id,Sr,!0,function(Li){Oa(Li,zr,Tr)&&(Ni?zr.put(li,Ii.toBuffer(),!0,function(Gi){Oa(Gi,zr,Tr)&&zr.commit(Tr)}):zr.commit(Tr))})}})})},hr.prototype.makeRootDirectory=function(xr){var Sr=this.store.beginTransaction("readwrite");Sr.get(Mo,function(Cr,Tr){if(Cr||Tr===void 0){var Br=new Date().getTime(),zr=new Ha(fc(),4096,511|Or.DIRECTORY,Br,Br,Br);Sr.put(zr.id,bl(),!1,function(Qr){Oa(Qr,Sr,xr)&&Sr.put(Mo,zr.toBuffer(),!1,function(li){li?Sr.abort(function(){xr(li)}):Sr.commit(xr)})})}else Sr.commit(xr)})},hr.prototype._findINode=function(xr,Sr,Cr,Tr){var Br=this,zr=function(Qr,li,gi){Qr?Tr(Qr):gi[Cr]?Tr(null,gi[Cr]):Tr(gr.ENOENT(yr.resolve(Sr,Cr)))};Sr==="/"?Cr===""?Tr(null,Mo):this.getINode(xr,Sr,Mo,function(Qr,li){$a(Qr,Tr)&&Br.getDirListing(xr,Sr,li,function(gi,Ii){zr(gi,li,Ii)})}):this.findINodeAndDirListing(xr,Sr,zr)},hr.prototype.findINode=function(xr,Sr,Cr){var Tr=this;this._findINode(xr,yr.dirname(Sr),yr.basename(Sr),function(Br,zr){$a(Br,Cr)&&Tr.getINode(xr,Sr,zr,Cr)})},hr.prototype.getINode=function(xr,Sr,Cr,Tr){xr.get(Cr,function(Br,zr){$a(Br,Tr)&&(zr===void 0?Tr(gr.ENOENT(Sr)):Tr(null,Ha.fromBuffer(zr)))})},hr.prototype.getDirListing=function(xr,Sr,Cr,Tr){Cr.isDirectory()?xr.get(Cr.id,function(Br,zr){if($a(Br,Tr))try{Tr(null,JSON.parse(zr.toString()))}catch{Tr(gr.ENOENT(Sr))}}):Tr(gr.ENOTDIR(Sr))},hr.prototype.findINodeAndDirListing=function(xr,Sr,Cr){var Tr=this;this.findINode(xr,Sr,function(Br,zr){$a(Br,Cr)&&Tr.getDirListing(xr,Sr,zr,function(Qr,li){$a(Qr,Cr)&&Cr(null,zr,li)})})},hr.prototype.addNewNode=function(xr,Sr,Cr){var Tr=0,Br,zr=function(){++Tr===5?Cr(new gr(mr.EIO,"Unable to commit data to key-value store.")):(Br=fc(),xr.put(Br,Sr,!1,function(Qr,li){Qr||!li?zr():Cr(null,Br)}))};zr()},hr.prototype.commitNewFile=function(xr,Sr,Cr,Tr,Br,zr){var Qr=this,li=yr.dirname(Sr),gi=yr.basename(Sr),Ii=new Date().getTime();if(Sr==="/")return zr(gr.EEXIST(Sr));this.findINodeAndDirListing(xr,li,function(Ni,Li,Gi){Oa(Ni,xr,zr)&&(Gi[gi]?xr.abort(function(){zr(gr.EEXIST(Sr))}):Qr.addNewNode(xr,Br,function(Ji,ra){if(Oa(Ji,xr,zr)){var va=new Ha(ra,Br.length,Tr|Cr,Ii,Ii,Ii);Qr.addNewNode(xr,va.toBuffer(),function(Na,bo){Oa(Na,xr,zr)&&(Gi[gi]=bo,xr.put(Li.id,fr.from(JSON.stringify(Gi)),!0,function(Eo){Oa(Eo,xr,zr)&&xr.commit(function(Rs){Oa(Rs,xr,zr)&&zr(null,va)})}))})}}))})},hr.prototype.removeEntry=function(xr,Sr,Cr){var Tr=this,Br=this.store.beginTransaction("readwrite"),zr=yr.dirname(xr),Qr=yr.basename(xr);this.findINodeAndDirListing(Br,zr,function(li,gi,Ii){if(Oa(li,Br,Cr))if(!Ii[Qr])Br.abort(function(){Cr(gr.ENOENT(xr))});else{var Ni=Ii[Qr];delete Ii[Qr],Tr.getINode(Br,xr,Ni,function(Li,Gi){Oa(Li,Br,Cr)&&(!Sr&&Gi.isDirectory()?Br.abort(function(){Cr(gr.EISDIR(xr))}):Sr&&!Gi.isDirectory()?Br.abort(function(){Cr(gr.ENOTDIR(xr))}):Br.del(Gi.id,function(Ji){Oa(Ji,Br,Cr)&&Br.del(Ni,function(ra){Oa(ra,Br,Cr)&&Br.put(gi.id,fr.from(JSON.stringify(Ii)),!0,function(va){Oa(va,Br,Cr)&&Br.commit(Cr)})})}))})}})},hr}(hi),es=function(){this.store={}};es.prototype.name=function(){return Is.Name},es.prototype.clear=function(){this.store={}},es.prototype.beginTransaction=function(hr){return new Oo(this)},es.prototype.get=function(hr){return this.store[hr]},es.prototype.put=function(hr,vr,xr){return!xr&&this.store.hasOwnProperty(hr)?!1:(this.store[hr]=vr,!0)},es.prototype.del=function(hr){delete this.store[hr]};var Is=function(wr){function hr(){wr.call(this,{store:new es})}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.Create=function(xr,Sr){Sr(null,new hr)},hr}(wl);Is.Name="InMemory",Is.Options={};var Du=Ia.indexedDB||Ia.mozIndexedDB||Ia.webkitIndexedDB||Ia.msIndexedDB;function h0(wr,hr){switch(hr===void 0&&(hr=wr.toString()),wr.name){case"NotFoundError":return new gr(mr.ENOENT,hr);case"QuotaExceededError":return new gr(mr.ENOSPC,hr);default:return new gr(mr.EIO,hr)}}function d0(wr,hr,vr){return hr===void 0&&(hr=mr.EIO),vr===void 0&&(vr=null),function(xr){xr.preventDefault(),wr(new gr(hr,vr!==null?vr:void 0))}}var Ru=function(hr,vr){this.tx=hr,this.store=vr};Ru.prototype.get=function(hr,vr){try{var xr=this.store.get(hr);xr.onerror=d0(vr),xr.onsuccess=function(Sr){var Cr=Sr.target.result;Cr===void 0?vr(null,Cr):vr(null,bi(Cr))}}catch(Sr){vr(h0(Sr))}};var Od=function(wr){function hr(vr,xr){wr.call(this,vr,xr)}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.prototype.put=function(xr,Sr,Cr,Tr){try{var Br=$r(Sr),zr;Cr?zr=this.store.put(Br,xr):zr=this.store.add(Br,xr),zr.onerror=d0(Tr),zr.onsuccess=function(Qr){Tr(null,!0)}}catch(Qr){Tr(h0(Qr))}},hr.prototype.del=function(xr,Sr){try{var Cr=this.store.delete(xr);Cr.onerror=d0(Sr),Cr.onsuccess=function(Tr){Sr()}}catch(Tr){Sr(h0(Tr))}},hr.prototype.commit=function(xr){setTimeout(xr,0)},hr.prototype.abort=function(xr){var Sr=null;try{this.tx.abort()}catch(Cr){Sr=h0(Cr)}finally{xr(Sr)}},hr}(Ru),hc=function(hr,vr){var xr=this;vr===void 0&&(vr="browserfs"),this.storeName=vr;var Sr=Du.open(this.storeName,1);Sr.onupgradeneeded=function(Cr){var Tr=Cr.target.result;Tr.objectStoreNames.contains(xr.storeName)&&Tr.deleteObjectStore(xr.storeName),Tr.createObjectStore(xr.storeName)},Sr.onsuccess=function(Cr){xr.db=Cr.target.result,hr(null,xr)},Sr.onerror=d0(hr,mr.EACCES)};hc.prototype.name=function(){return x0.Name+" - "+this.storeName},hc.prototype.clear=function(hr){try{var vr=this.db.transaction(this.storeName,"readwrite"),xr=vr.objectStore(this.storeName),Sr=xr.clear();Sr.onsuccess=function(Cr){setTimeout(hr,0)},Sr.onerror=d0(hr)}catch(Cr){hr(h0(Cr))}},hc.prototype.beginTransaction=function(hr){hr===void 0&&(hr="readonly");var vr=this.db.transaction(this.storeName,hr),xr=vr.objectStore(this.storeName);if(hr==="readwrite")return new Od(vr,xr);if(hr==="readonly")return new Ru(vr,xr);throw new gr(mr.EINVAL,"Invalid transaction type.")};var x0=function(wr){function hr(vr,xr,Sr){var Cr=this;Sr===void 0&&(Sr=!0),wr.call(this),this.store=new hc(function(Tr){Tr?vr(Tr):Cr.init(Cr.store,function(Br){vr(Br,Cr)})},xr),Ei(Sr,hr.Name,{storeName:xr})}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.Create=function(xr,Sr){new hr(Sr,xr.storeName,!1)},hr.isAvailable=function(){try{return typeof Du<"u"&&Du.open("__browserfs_test__")!==null}catch{return!1}},hr}(kd);x0.Name="IndexedDB",x0.Options={storeName:{type:"string",optional:!0,description:"The name of this file system. You can have multiple IndexedDB file systems operating at once, but each must have a different name."}};var Fu=!1,p0;try{Ia.localStorage.setItem("__test__",String.fromCharCode(55296)),Fu=Ia.localStorage.getItem("__test__")===String.fromCharCode(55296)}catch{Fu=!1}p0=Fu?"binary_string":"binary_string_ie",fr.isEncoding(p0)||(p0="base64");var ts=function(){};ts.prototype.name=function(){return _0.Name},ts.prototype.clear=function(){Ia.localStorage.clear()},ts.prototype.beginTransaction=function(hr){return new Oo(this)},ts.prototype.get=function(hr){try{var vr=Ia.localStorage.getItem(hr);if(vr!==null)return fr.from(vr,p0)}catch{}},ts.prototype.put=function(hr,vr,xr){try{return!xr&&Ia.localStorage.getItem(hr)!==null?!1:(Ia.localStorage.setItem(hr,vr.toString(p0)),!0)}catch{throw new gr(mr.ENOSPC,"LocalStorage is full.")}},ts.prototype.del=function(hr){try{Ia.localStorage.removeItem(hr)}catch(vr){throw new gr(mr.EIO,"Unable to delete key "+hr+": "+vr)}};var _0=function(wr){function hr(){wr.call(this,{store:new ts})}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.Create=function(xr,Sr){Sr(null,new hr)},hr.isAvailable=function(){return typeof Ia.localStorage<"u"},hr}(wl);_0.Name="LocalStorage",_0.Options={};var Cs=function(wr){function hr(){wr.call(this),this.mountList=[],this.mntMap={},this.rootFs=new Is}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.Create=function(xr,Sr){var Cr=new hr;Object.keys(xr).forEach(function(Tr){Cr.mount(Tr,xr[Tr])}),Sr(null,Cr)},hr.isAvailable=function(){return!0},hr.prototype.mount=function(xr,Sr){if(xr[0]!=="/"&&(xr="/"+xr),xr=yr.resolve(xr),this.mntMap[xr])throw new gr(mr.EINVAL,"Mount point "+xr+" is already taken.");ci(xr,511,this.rootFs),this.mntMap[xr]=Sr,this.mountList.push(xr),this.mountList=this.mountList.sort(function(Cr,Tr){return Tr.length-Cr.length})},hr.prototype.umount=function(xr){var Sr=this;if(xr[0]!=="/"&&(xr="/"+xr),xr=yr.resolve(xr),!this.mntMap[xr])throw new gr(mr.EINVAL,"Mount point "+xr+" is already unmounted.");for(delete this.mntMap[xr],this.mountList.splice(this.mountList.indexOf(xr),1);xr!=="/"&&Sr.rootFs.readdirSync(xr).length===0;)Sr.rootFs.rmdirSync(xr),xr=yr.dirname(xr)},hr.prototype._getFs=function(xr){for(var Sr=this,Cr=this.mountList,Tr=Cr.length,Br=0;Br<Tr;Br++){var zr=Cr[Br];if(zr.length<=xr.length&&xr.indexOf(zr)===0)return xr=xr.substr(zr.length>1?zr.length:0),xr===""&&(xr="/"),{fs:Sr.mntMap[zr],path:xr}}return{fs:this.rootFs,path:xr}},hr.prototype.getName=function(){return hr.Name},hr.prototype.diskSpace=function(xr,Sr){Sr(0,0)},hr.prototype.isReadOnly=function(){return!1},hr.prototype.supportsLinks=function(){return!1},hr.prototype.supportsProps=function(){return!1},hr.prototype.supportsSynch=function(){return!0},hr.prototype.standardizeError=function(xr,Sr,Cr){var Tr=xr.message.indexOf(Sr);return Tr!==-1&&(xr.message=xr.message.substr(0,Tr)+Cr+xr.message.substr(Tr+Sr.length),xr.path=Cr),xr},hr.prototype.rename=function(xr,Sr,Cr){var Tr=this,Br=this._getFs(xr),zr=this._getFs(Sr);return Br.fs===zr.fs?Br.fs.rename(Br.path,zr.path,function(Qr){Qr&&Tr.standardizeError(Tr.standardizeError(Qr,Br.path,xr),zr.path,Sr),Cr(Qr)}):Wr.readFile(xr,function(Qr,li){if(Qr)return Cr(Qr);Wr.writeFile(Sr,li,function(gi){if(gi)return Cr(gi);Wr.unlink(xr,Cr)})})},hr.prototype.renameSync=function(xr,Sr){var Cr=this._getFs(xr),Tr=this._getFs(Sr);if(Cr.fs===Tr.fs)try{return Cr.fs.renameSync(Cr.path,Tr.path)}catch(zr){throw this.standardizeError(this.standardizeError(zr,Cr.path,xr),Tr.path,Sr),zr}var Br=Wr.readFileSync(xr);return Wr.writeFileSync(Sr,Br),Wr.unlinkSync(xr)},hr.prototype.readdirSync=function(xr){var Sr=this._getFs(xr),Cr=null;if(Sr.fs!==this.rootFs)try{Cr=this.rootFs.readdirSync(xr)}catch{}try{var Tr=Sr.fs.readdirSync(Sr.path);return Cr===null?Tr:Tr.concat(Cr.filter(function(Br){return Tr.indexOf(Br)===-1}))}catch(Br){if(Cr===null)throw this.standardizeError(Br,Sr.path,xr);return Cr}},hr.prototype.readdir=function(xr,Sr){var Cr=this,Tr=this._getFs(xr);Tr.fs.readdir(Tr.path,function(Br,zr){if(Tr.fs!==Cr.rootFs)try{var Qr=Cr.rootFs.readdirSync(xr);zr?zr=zr.concat(Qr.filter(function(li){return zr.indexOf(li)===-1})):zr=Qr}catch{if(Br)return Sr(Cr.standardizeError(Br,Tr.path,xr))}else if(Br)return Sr(Cr.standardizeError(Br,Tr.path,xr));Sr(null,zr)})},hr.prototype.rmdirSync=function(xr){var Sr=this._getFs(xr);if(this._containsMountPt(xr))throw gr.ENOTEMPTY(xr);try{Sr.fs.rmdirSync(Sr.path)}catch(Cr){throw this.standardizeError(Cr,Sr.path,xr)}},hr.prototype.rmdir=function(xr,Sr){var Cr=this,Tr=this._getFs(xr);this._containsMountPt(xr)?Sr(gr.ENOTEMPTY(xr)):Tr.fs.rmdir(Tr.path,function(Br){Sr(Br?Cr.standardizeError(Br,Tr.path,xr):null)})},hr.prototype._containsMountPt=function(xr){for(var Sr=this.mountList,Cr=Sr.length,Tr=0;Tr<Cr;Tr++){var Br=Sr[Tr];if(Br.length>=xr.length&&Br.slice(0,xr.length)===xr)return!0}return!1},hr}(hi);Cs.Name="MountableFileSystem",Cs.Options={};function Al(wr,hr,vr){return hr?function(){for(var xr=[],Sr=arguments.length;Sr--;)xr[Sr]=arguments[Sr];var Cr=xr[0],Tr=this._getFs(Cr);xr[0]=Tr.path;try{return Tr.fs[wr].apply(Tr.fs,xr)}catch(Br){throw this.standardizeError(Br,Tr.path,Cr),Br}}:function(){for(var xr=this,Sr=[],Cr=arguments.length;Cr--;)Sr[Cr]=arguments[Cr];var Tr=Sr[0],Br=this._getFs(Tr);if(Sr[0]=Br.path,typeof Sr[Sr.length-1]=="function"){var zr=Sr[Sr.length-1];Sr[Sr.length-1]=function(){for(var Qr=[],li=arguments.length;li--;)Qr[li]=arguments[li];Qr.length>0&&Qr[0]instanceof gr&&xr.standardizeError(Qr[0],Br.path,Tr),zr.apply(null,Qr)}}return Br.fs[wr].apply(Br.fs,Sr)}}for(var Il=[["exists","unlink","readlink"],["stat","mkdir","realpath","truncate"],["open","readFile","chmod","utimes"],["chown"],["writeFile","appendFile"]],Pu=0;Pu<Il.length;Pu++)for(var Td=Il[Pu],Bu=0,Cl=Td;Bu<Cl.length;Bu+=1){var dc=Cl[Bu];Cs.prototype[dc]=Al(dc,!1),Cs.prototype[dc+"Sync"]=Al(dc+"Sync",!0)}var v0;if(typeof setImmediate<"u")v0=setImmediate;else{var io=Ia,ks=[],kl="zero-timeout-message",Dd=function(){if(typeof io.importScripts<"u"||!io.postMessage)return!1;var wr=!0,hr=io.onmessage;return io.onmessage=function(){wr=!1},io.postMessage("","*"),io.onmessage=hr,wr};if(Dd()){v0=function(wr){ks.push(wr),io.postMessage(kl,"*")};var Ol=function(wr){if(wr.source===self&&wr.data===kl&&(wr.stopPropagation?wr.stopPropagation():wr.cancelBubble=!0,ks.length>0)){var hr=ks.shift();return hr()}};io.addEventListener?io.addEventListener("message",Ol,!0):io.attachEvent("onmessage",Ol)}else if(io.MessageChannel){var Tl=new io.MessageChannel;Tl.port1.onmessage=function(wr){if(ks.length>0)return ks.shift()()},v0=function(wr){ks.push(wr),Tl.port2.postMessage("")}}else v0=function(wr){return setTimeout(wr,0)}}var qu=v0,m0=function(){this._locked=!1,this._waiters=[]};m0.prototype.lock=function(hr){if(this._locked){this._waiters.push(hr);return}this._locked=!0,hr()},m0.prototype.unlock=function(){if(!this._locked)throw new Error("unlock of a non-locked mutex");var hr=this._waiters.shift();if(hr){qu(hr);return}this._locked=!1},m0.prototype.tryLock=function(){return this._locked?!1:(this._locked=!0,!0)},m0.prototype.isLocked=function(){return this._locked};var ea=function(hr){this._fs=hr,this._mu=new m0};ea.prototype.getName=function(){return"LockedFS<"+this._fs.getName()+">"},ea.prototype.getFSUnlocked=function(){return this._fs},ea.prototype.initialize=function(hr){this._fs.initialize(hr)},ea.prototype.diskSpace=function(hr,vr){this._fs.diskSpace(hr,vr)},ea.prototype.isReadOnly=function(){return this._fs.isReadOnly()},ea.prototype.supportsLinks=function(){return this._fs.supportsLinks()},ea.prototype.supportsProps=function(){return this._fs.supportsProps()},ea.prototype.supportsSynch=function(){return this._fs.supportsSynch()},ea.prototype.rename=function(hr,vr,xr){var Sr=this;this._mu.lock(function(){Sr._fs.rename(hr,vr,function(Cr){Sr._mu.unlock(),xr(Cr)})})},ea.prototype.renameSync=function(hr,vr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.renameSync(hr,vr)},ea.prototype.stat=function(hr,vr,xr){var Sr=this;this._mu.lock(function(){Sr._fs.stat(hr,vr,function(Cr,Tr){Sr._mu.unlock(),xr(Cr,Tr)})})},ea.prototype.statSync=function(hr,vr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.statSync(hr,vr)},ea.prototype.open=function(hr,vr,xr,Sr){var Cr=this;this._mu.lock(function(){Cr._fs.open(hr,vr,xr,function(Tr,Br){Cr._mu.unlock(),Sr(Tr,Br)})})},ea.prototype.openSync=function(hr,vr,xr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.openSync(hr,vr,xr)},ea.prototype.unlink=function(hr,vr){var xr=this;this._mu.lock(function(){xr._fs.unlink(hr,function(Sr){xr._mu.unlock(),vr(Sr)})})},ea.prototype.unlinkSync=function(hr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.unlinkSync(hr)},ea.prototype.rmdir=function(hr,vr){var xr=this;this._mu.lock(function(){xr._fs.rmdir(hr,function(Sr){xr._mu.unlock(),vr(Sr)})})},ea.prototype.rmdirSync=function(hr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.rmdirSync(hr)},ea.prototype.mkdir=function(hr,vr,xr){var Sr=this;this._mu.lock(function(){Sr._fs.mkdir(hr,vr,function(Cr){Sr._mu.unlock(),xr(Cr)})})},ea.prototype.mkdirSync=function(hr,vr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.mkdirSync(hr,vr)},ea.prototype.readdir=function(hr,vr){var xr=this;this._mu.lock(function(){xr._fs.readdir(hr,function(Sr,Cr){xr._mu.unlock(),vr(Sr,Cr)})})},ea.prototype.readdirSync=function(hr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readdirSync(hr)},ea.prototype.exists=function(hr,vr){var xr=this;this._mu.lock(function(){xr._fs.exists(hr,function(Sr){xr._mu.unlock(),vr(Sr)})})},ea.prototype.existsSync=function(hr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.existsSync(hr)},ea.prototype.realpath=function(hr,vr,xr){var Sr=this;this._mu.lock(function(){Sr._fs.realpath(hr,vr,function(Cr,Tr){Sr._mu.unlock(),xr(Cr,Tr)})})},ea.prototype.realpathSync=function(hr,vr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.realpathSync(hr,vr)},ea.prototype.truncate=function(hr,vr,xr){var Sr=this;this._mu.lock(function(){Sr._fs.truncate(hr,vr,function(Cr){Sr._mu.unlock(),xr(Cr)})})},ea.prototype.truncateSync=function(hr,vr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.truncateSync(hr,vr)},ea.prototype.readFile=function(hr,vr,xr,Sr){var Cr=this;this._mu.lock(function(){Cr._fs.readFile(hr,vr,xr,function(Tr,Br){Cr._mu.unlock(),Sr(Tr,Br)})})},ea.prototype.readFileSync=function(hr,vr,xr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readFileSync(hr,vr,xr)},ea.prototype.writeFile=function(hr,vr,xr,Sr,Cr,Tr){var Br=this;this._mu.lock(function(){Br._fs.writeFile(hr,vr,xr,Sr,Cr,function(zr){Br._mu.unlock(),Tr(zr)})})},ea.prototype.writeFileSync=function(hr,vr,xr,Sr,Cr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.writeFileSync(hr,vr,xr,Sr,Cr)},ea.prototype.appendFile=function(hr,vr,xr,Sr,Cr,Tr){var Br=this;this._mu.lock(function(){Br._fs.appendFile(hr,vr,xr,Sr,Cr,function(zr){Br._mu.unlock(),Tr(zr)})})},ea.prototype.appendFileSync=function(hr,vr,xr,Sr,Cr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.appendFileSync(hr,vr,xr,Sr,Cr)},ea.prototype.chmod=function(hr,vr,xr,Sr){var Cr=this;this._mu.lock(function(){Cr._fs.chmod(hr,vr,xr,function(Tr){Cr._mu.unlock(),Sr(Tr)})})},ea.prototype.chmodSync=function(hr,vr,xr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chmodSync(hr,vr,xr)},ea.prototype.chown=function(hr,vr,xr,Sr,Cr){var Tr=this;this._mu.lock(function(){Tr._fs.chown(hr,vr,xr,Sr,function(Br){Tr._mu.unlock(),Cr(Br)})})},ea.prototype.chownSync=function(hr,vr,xr,Sr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chownSync(hr,vr,xr,Sr)},ea.prototype.utimes=function(hr,vr,xr,Sr){var Cr=this;this._mu.lock(function(){Cr._fs.utimes(hr,vr,xr,function(Tr){Cr._mu.unlock(),Sr(Tr)})})},ea.prototype.utimesSync=function(hr,vr,xr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.utimesSync(hr,vr,xr)},ea.prototype.link=function(hr,vr,xr){var Sr=this;this._mu.lock(function(){Sr._fs.link(hr,vr,function(Cr){Sr._mu.unlock(),xr(Cr)})})},ea.prototype.linkSync=function(hr,vr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.linkSync(hr,vr)},ea.prototype.symlink=function(hr,vr,xr,Sr){var Cr=this;this._mu.lock(function(){Cr._fs.symlink(hr,vr,xr,function(Tr){Cr._mu.unlock(),Sr(Tr)})})},ea.prototype.symlinkSync=function(hr,vr,xr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.symlinkSync(hr,vr,xr)},ea.prototype.readlink=function(hr,vr){var xr=this;this._mu.lock(function(){xr._fs.readlink(hr,function(Sr,Cr){xr._mu.unlock(),vr(Sr,Cr)})})},ea.prototype.readlinkSync=function(hr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readlinkSync(hr)};var To="/.deletedFiles.log";function Dl(wr){return 146|wr}function Qa(wr){return kr.getFileFlag(wr)}var Rl=function(wr){function hr(vr,xr,Sr,Cr,Tr){wr.call(this,vr,xr,Sr,Cr,Tr)}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.prototype.sync=function(xr){var Sr=this;if(!this.isDirty()){xr(null);return}this._fs._syncAsync(this,function(Cr){Sr.resetDirty(),xr(Cr)})},hr.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},hr.prototype.close=function(xr){this.sync(xr)},hr.prototype.closeSync=function(){this.syncSync()},hr}(ri),Fl=function(wr){function hr(vr,xr){if(wr.call(this),this._isInitialized=!1,this._initializeCallbacks=[],this._deletedFiles={},this._deleteLog="",this._deleteLogUpdatePending=!1,this._deleteLogUpdateNeeded=!1,this._deleteLogError=null,this._writable=vr,this._readable=xr,this._writable.isReadOnly())throw new gr(mr.EINVAL,"Writable file system must be writable.")}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.isAvailable=function(){return!0},hr.prototype.getOverlayedFileSystems=function(){return{readable:this._readable,writable:this._writable}},hr.prototype._syncAsync=function(xr,Sr){var Cr=this;this.createParentDirectoriesAsync(xr.getPath(),function(Tr){if(Tr)return Sr(Tr);Cr._writable.writeFile(xr.getPath(),xr.getBuffer(),null,Qa("w"),xr.getStats().mode,Sr)})},hr.prototype._syncSync=function(xr){this.createParentDirectories(xr.getPath()),this._writable.writeFileSync(xr.getPath(),xr.getBuffer(),null,Qa("w"),xr.getStats().mode)},hr.prototype.getName=function(){return g0.Name},hr.prototype.initialize=function(xr){var Sr=this,Cr=this._initializeCallbacks,Tr=function(Br){Sr._isInitialized=!Br,Sr._initializeCallbacks=[],Cr.forEach(function(zr){return zr(Br)})};if(this._isInitialized)return xr();Cr.push(xr),Cr.length===1&&this._writable.readFile(To,"utf8",Qa("r"),function(Br,zr){if(Br){if(Br.errno!==mr.ENOENT)return Tr(Br)}else Sr._deleteLog=zr;Sr._reparseDeletionLog(),Tr()})},hr.prototype.isReadOnly=function(){return!1},hr.prototype.supportsSynch=function(){return this._readable.supportsSynch()&&this._writable.supportsSynch()},hr.prototype.supportsLinks=function(){return!1},hr.prototype.supportsProps=function(){return this._readable.supportsProps()&&this._writable.supportsProps()},hr.prototype.getDeletionLog=function(){return this._deleteLog},hr.prototype.restoreDeletionLog=function(xr){this._deleteLog=xr,this._reparseDeletionLog(),this.updateLog("")},hr.prototype.rename=function(xr,Sr,Cr){var Tr=this;if(!(!this.checkInitAsync(Cr)||this.checkPathAsync(xr,Cr)||this.checkPathAsync(Sr,Cr))){if(xr===To||Sr===To)return Cr(gr.EPERM("Cannot rename deletion log."));if(xr===Sr)return Cr();this.stat(xr,!1,function(Br,zr){return Br?Cr(Br):Tr.stat(Sr,!1,function(Qr,li){var gi=Tr;function Ii(Li){var Gi=Li.shift();if(!Gi)return Cr();var Ji=yr.resolve(xr,Gi),ra=yr.resolve(Sr,Gi);gi.rename(Ji,ra,function(va){if(va)return Cr(va);Ii(Li)})}var Ni=511;if(zr.isDirectory()){if(Qr)return Qr.errno!==mr.ENOENT?Cr(Qr):Tr._writable.exists(xr,function(Li){if(Li)return Tr._writable.rename(xr,Sr,Cr);Tr._writable.mkdir(Sr,Ni,function(Gi){if(Gi)return Cr(Gi);Tr._readable.readdir(xr,function(Ji,ra){if(Ji)return Cr();Ii(ra)})})});if(Ni=li.mode,!li.isDirectory())return Cr(gr.ENOTDIR(Sr));Tr.readdir(Sr,function(Li,Gi){if(Gi&&Gi.length)return Cr(gr.ENOTEMPTY(Sr));Tr._readable.readdir(xr,function(Ji,ra){if(Ji)return Cr();Ii(ra)})})}if(li&&li.isDirectory())return Cr(gr.EISDIR(Sr));Tr.readFile(xr,null,Qa("r"),function(Li,Gi){return Li?Cr(Li):Tr.writeFile(Sr,Gi,null,Qa("w"),zr.mode,function(Ji){return Ji?Cr(Ji):Tr.unlink(xr,Cr)})})})})}},hr.prototype.renameSync=function(xr,Sr){var Cr=this;if(this.checkInitialized(),this.checkPath(xr),this.checkPath(Sr),xr===To||Sr===To)throw gr.EPERM("Cannot rename deletion log.");var Tr=this.statSync(xr,!1);if(Tr.isDirectory()){if(xr===Sr)return;var Br=511;if(this.existsSync(Sr)){var zr=this.statSync(Sr,!1);if(Br=zr.mode,zr.isDirectory()){if(this.readdirSync(Sr).length>0)throw gr.ENOTEMPTY(Sr)}else throw gr.ENOTDIR(Sr)}this._writable.existsSync(xr)?this._writable.renameSync(xr,Sr):this._writable.existsSync(Sr)||this._writable.mkdirSync(Sr,Br),this._readable.existsSync(xr)&&this._readable.readdirSync(xr).forEach(function(Qr){Cr.renameSync(yr.resolve(xr,Qr),yr.resolve(Sr,Qr))})}else{if(this.existsSync(Sr)&&this.statSync(Sr,!1).isDirectory())throw gr.EISDIR(Sr);this.writeFileSync(Sr,this.readFileSync(xr,null,Qa("r")),null,Qa("w"),Tr.mode)}xr!==Sr&&this.existsSync(xr)&&this.unlinkSync(xr)},hr.prototype.stat=function(xr,Sr,Cr){var Tr=this;this.checkInitAsync(Cr)&&this._writable.stat(xr,Sr,function(Br,zr){Br&&Br.errno===mr.ENOENT?(Tr._deletedFiles[xr]&&Cr(gr.ENOENT(xr)),Tr._readable.stat(xr,Sr,function(Qr,li){li&&(li=li.clone(),li.mode=Dl(li.mode)),Cr(Qr,li)})):Cr(Br,zr)})},hr.prototype.statSync=function(xr,Sr){this.checkInitialized();try{return this._writable.statSync(xr,Sr)}catch{if(this._deletedFiles[xr])throw gr.ENOENT(xr);var Cr=this._readable.statSync(xr,Sr).clone();return Cr.mode=Dl(Cr.mode),Cr}},hr.prototype.open=function(xr,Sr,Cr,Tr){var Br=this;!this.checkInitAsync(Tr)||this.checkPathAsync(xr,Tr)||this.stat(xr,!1,function(zr,Qr){if(Qr)switch(Sr.pathExistsAction()){case Ar.TRUNCATE_FILE:return Br.createParentDirectoriesAsync(xr,function(li){if(li)return Tr(li);Br._writable.open(xr,Sr,Cr,Tr)});case Ar.NOP:return Br._writable.exists(xr,function(li){li?Br._writable.open(xr,Sr,Cr,Tr):(Qr=Qr.clone(),Qr.mode=Cr,Br._readable.readFile(xr,null,Qa("r"),function(gi,Ii){if(gi)return Tr(gi);Qr.size===-1&&(Qr.size=Ii.length);var Ni=new Rl(Br,xr,Sr,Qr,Ii);Tr(null,Ni)}))});default:return Tr(gr.EEXIST(xr))}else switch(Sr.pathNotExistsAction()){case Ar.CREATE_FILE:return Br.createParentDirectoriesAsync(xr,function(li){return li?Tr(li):Br._writable.open(xr,Sr,Cr,Tr)});default:return Tr(gr.ENOENT(xr))}})},hr.prototype.openSync=function(xr,Sr,Cr){if(this.checkInitialized(),this.checkPath(xr),xr===To)throw gr.EPERM("Cannot open deletion log.");if(this.existsSync(xr))switch(Sr.pathExistsAction()){case Ar.TRUNCATE_FILE:return this.createParentDirectories(xr),this._writable.openSync(xr,Sr,Cr);case Ar.NOP:if(this._writable.existsSync(xr))return this._writable.openSync(xr,Sr,Cr);var Tr=this._readable.readFileSync(xr,null,Qa("r")),Br=this._readable.statSync(xr,!1).clone();return Br.mode=Cr,new Rl(this,xr,Sr,Br,Tr);default:throw gr.EEXIST(xr)}else switch(Sr.pathNotExistsAction()){case Ar.CREATE_FILE:return this.createParentDirectories(xr),this._writable.openSync(xr,Sr,Cr);default:throw gr.ENOENT(xr)}},hr.prototype.unlink=function(xr,Sr){var Cr=this;!this.checkInitAsync(Sr)||this.checkPathAsync(xr,Sr)||this.exists(xr,function(Tr){if(!Tr)return Sr(gr.ENOENT(xr));Cr._writable.exists(xr,function(Br){if(Br)return Cr._writable.unlink(xr,function(zr){if(zr)return Sr(zr);Cr.exists(xr,function(Qr){Qr&&Cr.deletePath(xr),Sr(null)})});Cr.deletePath(xr),Sr(null)})})},hr.prototype.unlinkSync=function(xr){if(this.checkInitialized(),this.checkPath(xr),this.existsSync(xr))this._writable.existsSync(xr)&&this._writable.unlinkSync(xr),this.existsSync(xr)&&this.deletePath(xr);else throw gr.ENOENT(xr)},hr.prototype.rmdir=function(xr,Sr){var Cr=this;if(this.checkInitAsync(Sr)){var Tr=function(){Cr.readdir(xr,function(Br,zr){if(Br)return Sr(Br);if(zr.length)return Sr(gr.ENOTEMPTY(xr));Cr.deletePath(xr),Sr(null)})};this.exists(xr,function(Br){if(!Br)return Sr(gr.ENOENT(xr));Cr._writable.exists(xr,function(zr){zr?Cr._writable.rmdir(xr,function(Qr){if(Qr)return Sr(Qr);Cr._readable.exists(xr,function(li){li?Tr():Sr()})}):Tr()})})}},hr.prototype.rmdirSync=function(xr){if(this.checkInitialized(),this.existsSync(xr)){if(this._writable.existsSync(xr)&&this._writable.rmdirSync(xr),this.existsSync(xr)){if(this.readdirSync(xr).length>0)throw gr.ENOTEMPTY(xr);this.deletePath(xr)}}else throw gr.ENOENT(xr)},hr.prototype.mkdir=function(xr,Sr,Cr){var Tr=this;this.checkInitAsync(Cr)&&this.exists(xr,function(Br){if(Br)return Cr(gr.EEXIST(xr));Tr.createParentDirectoriesAsync(xr,function(zr){if(zr)return Cr(zr);Tr._writable.mkdir(xr,Sr,Cr)})})},hr.prototype.mkdirSync=function(xr,Sr){if(this.checkInitialized(),this.existsSync(xr))throw gr.EEXIST(xr);this.createParentDirectories(xr),this._writable.mkdirSync(xr,Sr)},hr.prototype.readdir=function(xr,Sr){var Cr=this;this.checkInitAsync(Sr)&&this.stat(xr,!1,function(Tr,Br){if(Tr)return Sr(Tr);if(!Br.isDirectory())return Sr(gr.ENOTDIR(xr));Cr._writable.readdir(xr,function(zr,Qr){if(zr&&zr.code!=="ENOENT")return Sr(zr);(zr||!Qr)&&(Qr=[]),Cr._readable.readdir(xr,function(li,gi){(li||!gi)&&(gi=[]);var Ii={},Ni=Qr.concat(gi.filter(function(Li){return!Cr._deletedFiles[xr+"/"+Li]})).filter(function(Li){var Gi=!Ii[Li];return Ii[Li]=!0,Gi});Sr(null,Ni)})})})},hr.prototype.readdirSync=function(xr){var Sr=this;this.checkInitialized();var Cr=this.statSync(xr,!1);if(!Cr.isDirectory())throw gr.ENOTDIR(xr);var Tr=[];try{Tr=Tr.concat(this._writable.readdirSync(xr))}catch{}try{Tr=Tr.concat(this._readable.readdirSync(xr).filter(function(zr){return!Sr._deletedFiles[xr+"/"+zr]}))}catch{}var Br={};return Tr.filter(function(zr){var Qr=!Br[zr];return Br[zr]=!0,Qr})},hr.prototype.exists=function(xr,Sr){var Cr=this;this.checkInitialized(),this._writable.exists(xr,function(Tr){if(Tr)return Sr(!0);Cr._readable.exists(xr,function(Br){Sr(Br&&Cr._deletedFiles[xr]!==!0)})})},hr.prototype.existsSync=function(xr){return this.checkInitialized(),this._writable.existsSync(xr)||this._readable.existsSync(xr)&&this._deletedFiles[xr]!==!0},hr.prototype.chmod=function(xr,Sr,Cr,Tr){var Br=this;this.checkInitAsync(Tr)&&this.operateOnWritableAsync(xr,function(zr){if(zr)return Tr(zr);Br._writable.chmod(xr,Sr,Cr,Tr)})},hr.prototype.chmodSync=function(xr,Sr,Cr){var Tr=this;this.checkInitialized(),this.operateOnWritable(xr,function(){Tr._writable.chmodSync(xr,Sr,Cr)})},hr.prototype.chown=function(xr,Sr,Cr,Tr,Br){var zr=this;this.checkInitAsync(Br)&&this.operateOnWritableAsync(xr,function(Qr){if(Qr)return Br(Qr);zr._writable.chown(xr,Sr,Cr,Tr,Br)})},hr.prototype.chownSync=function(xr,Sr,Cr,Tr){var Br=this;this.checkInitialized(),this.operateOnWritable(xr,function(){Br._writable.chownSync(xr,Sr,Cr,Tr)})},hr.prototype.utimes=function(xr,Sr,Cr,Tr){var Br=this;this.checkInitAsync(Tr)&&this.operateOnWritableAsync(xr,function(zr){if(zr)return Tr(zr);Br._writable.utimes(xr,Sr,Cr,Tr)})},hr.prototype.utimesSync=function(xr,Sr,Cr){var Tr=this;this.checkInitialized(),this.operateOnWritable(xr,function(){Tr._writable.utimesSync(xr,Sr,Cr)})},hr.prototype.deletePath=function(xr){this._deletedFiles[xr]=!0,this.updateLog("d"+xr+`
`)},hr.prototype.updateLog=function(xr){var Sr=this;this._deleteLog+=xr,this._deleteLogUpdatePending?this._deleteLogUpdateNeeded=!0:(this._deleteLogUpdatePending=!0,this._writable.writeFile(To,this._deleteLog,"utf8",kr.getFileFlag("w"),420,function(Cr){Sr._deleteLogUpdatePending=!1,Cr?Sr._deleteLogError=Cr:Sr._deleteLogUpdateNeeded&&(Sr._deleteLogUpdateNeeded=!1,Sr.updateLog(""))}))},hr.prototype._reparseDeletionLog=function(){var xr=this;this._deletedFiles={},this._deleteLog.split(`
`).forEach(function(Sr){xr._deletedFiles[Sr.slice(1)]=Sr.slice(0,1)==="d"})},hr.prototype.checkInitialized=function(){if(this._isInitialized){if(this._deleteLogError!==null){var xr=this._deleteLogError;throw this._deleteLogError=null,xr}}else throw new gr(mr.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.")},hr.prototype.checkInitAsync=function(xr){if(this._isInitialized){if(this._deleteLogError!==null){var Sr=this._deleteLogError;return this._deleteLogError=null,xr(Sr),!1}}else return xr(new gr(mr.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.")),!1;return!0},hr.prototype.checkPath=function(xr){if(xr===To)throw gr.EPERM(xr)},hr.prototype.checkPathAsync=function(xr,Sr){return xr===To?(Sr(gr.EPERM(xr)),!0):!1},hr.prototype.createParentDirectoriesAsync=function(xr,Sr){var Cr=yr.dirname(xr),Tr=[],Br=this;this._writable.stat(Cr,!1,zr);function zr(li,gi){li?(Tr.push(Cr),Cr=yr.dirname(Cr),Br._writable.stat(Cr,!1,zr)):Qr()}function Qr(){if(!Tr.length)return Sr();var li=Tr.pop();Br._readable.stat(li,!1,function(gi,Ii){if(!Ii)return Sr();Br._writable.mkdir(li,Ii.mode,function(Ni){if(Ni)return Sr(Ni);Qr()})})}},hr.prototype.createParentDirectories=function(xr){for(var Sr=this,Cr=yr.dirname(xr),Tr=[];!this._writable.existsSync(Cr);)Tr.push(Cr),Cr=yr.dirname(Cr);Tr=Tr.reverse(),Tr.forEach(function(Br){Sr._writable.mkdirSync(Br,Sr.statSync(Br,!1).mode)})},hr.prototype.operateOnWritable=function(xr,Sr){if(this.existsSync(xr))this._writable.existsSync(xr)||this.copyToWritable(xr),Sr();else throw gr.ENOENT(xr)},hr.prototype.operateOnWritableAsync=function(xr,Sr){var Cr=this;this.exists(xr,function(Tr){if(!Tr)return Sr(gr.ENOENT(xr));Cr._writable.exists(xr,function(Br){if(Br)Sr();else return Cr.copyToWritableAsync(xr,Sr)})})},hr.prototype.copyToWritable=function(xr){var Sr=this.statSync(xr,!1);Sr.isDirectory()?this._writable.mkdirSync(xr,Sr.mode):this.writeFileSync(xr,this._readable.readFileSync(xr,null,Qa("r")),null,Qa("w"),this.statSync(xr,!1).mode)},hr.prototype.copyToWritableAsync=function(xr,Sr){var Cr=this;this.stat(xr,!1,function(Tr,Br){if(Tr)return Sr(Tr);if(Br.isDirectory())return Cr._writable.mkdir(xr,Br.mode,Sr);Cr._readable.readFile(xr,null,Qa("r"),function(zr,Qr){if(zr)return Sr(zr);Cr.writeFile(xr,Qr,null,Qa("w"),Br.mode,Sr)})})},hr}(hi),g0=function(wr){function hr(vr,xr,Sr){Sr===void 0&&(Sr=!0),wr.call(this,new Fl(vr,xr)),Ei(Sr,hr.Name,{readable:"readable file system",writable:"writable file system"})}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.Create=function(xr,Sr){try{var Cr=new hr(xr.writable,xr.readable,!1);Cr.initialize(function(Tr){Sr(Tr,Cr)},!1)}catch(Tr){Sr(Tr)}},hr.isAvailable=function(){return Fl.isAvailable()},hr.prototype.initialize=function(xr,Sr){Sr===void 0&&(Sr=!0),Sr&&console.warn("[OverlayFS] OverlayFS.initialize() is deprecated and will be removed in the next major release. Please use 'OverlayFS.Create({readable: readable file system instance, writable: writable file system instance}, cb)' to create and initialize OverlayFS instances."),wr.prototype.initialize.call(this,xr)},hr.prototype.getOverlayedFileSystems=function(){return wr.prototype.getFSUnlocked.call(this).getOverlayedFileSystems()},hr.prototype.unwrap=function(){return wr.prototype.getFSUnlocked.call(this)},hr}(ea);g0.Name="OverlayFS",g0.Options={writable:{type:"object",description:"The file system to write modified files to."},readable:{type:"object",description:"The file system that initially populates this file system."}};var _a;(function(wr){wr[wr.CB=0]="CB",wr[wr.FD=1]="FD",wr[wr.API_ERROR=2]="API_ERROR",wr[wr.STATS=3]="STATS",wr[wr.PROBE=4]="PROBE",wr[wr.FILEFLAG=5]="FILEFLAG",wr[wr.BUFFER=6]="BUFFER",wr[wr.ERROR=7]="ERROR"})(_a||(_a={}));var Nu=function(){this._callbacks={},this._nextId=0};Nu.prototype.toRemoteArg=function(hr){var vr=this._nextId++;return this._callbacks[vr]=hr,{type:_a.CB,id:vr}},Nu.prototype.toLocalArg=function(hr){var vr=this._callbacks[hr];return delete this._callbacks[hr],vr};var xc=function(){this._fileDescriptors={},this._nextId=0};xc.prototype.toRemoteArg=function(hr,vr,xr,Sr){var Cr=this._nextId++,Tr,Br;this._fileDescriptors[Cr]=hr,hr.stat(function(zr,Qr){zr?Sr(zr):(Br=rs(Qr.toBuffer()),xr.isReadable()?hr.read(fr.alloc(Qr.size),0,Qr.size,0,function(li,gi,Ii){li?Sr(li):(Tr=rs(Ii),Sr(null,{type:_a.FD,id:Cr,data:Tr,stat:Br,path:vr,flag:xr.getFlagString()}))}):Sr(null,{type:_a.FD,id:Cr,data:new ArrayBuffer(0),stat:Br,path:vr,flag:xr.getFlagString()}))})},xc.prototype.applyFdAPIRequest=function(hr,vr){var xr=this,Sr=hr.args[0];this._applyFdChanges(Sr,function(Cr,Tr){Cr?vr(Cr):Tr[hr.method](function(Br){hr.method==="close"&&delete xr._fileDescriptors[Sr.id],vr(Br)})})},xc.prototype._applyFdChanges=function(hr,vr){var xr=this._fileDescriptors[hr.id],Sr=ns(hr.data),Cr=Dr.fromBuffer(ns(hr.stat)),Tr=kr.getFileFlag(hr.flag);Tr.isWriteable()?xr.write(Sr,0,Sr.length,Tr.isAppendable()?xr.getPos():0,function(Br){function zr(){xr.stat(function(Qr,li){Qr?vr(Qr):li.mode!==Cr.mode?xr.chmod(Cr.mode,function(gi){vr(gi,xr)}):vr(Qr,xr)})}Br?vr(Br):Tr.isAppendable()?zr():xr.truncate(Sr.length,function(){zr()})}):vr(null,xr)};function pc(wr){return{type:_a.API_ERROR,errorData:rs(wr.writeToBuffer())}}function Pl(wr){return gr.fromBuffer(ns(wr.errorData))}function Bl(wr){return{type:_a.ERROR,name:wr.name,message:wr.message,stack:wr.stack}}function ql(wr){var hr=Ia[wr.name];typeof hr!="function"&&(hr=Error);var vr=new hr(wr.message);return vr.stack=wr.stack,vr}function Nl(wr){return{type:_a.STATS,statsData:rs(wr.toBuffer())}}function Ll(wr){return Dr.fromBuffer(ns(wr.statsData))}function Ml(wr){return{type:_a.FILEFLAG,flagStr:wr.getFlagString()}}function Vl(wr){return kr.getFileFlag(wr.flagStr)}function rs(wr){return $r(wr)}function ns(wr){return bi(wr)}function Ul(wr){return{type:_a.BUFFER,data:rs(wr)}}function jl(wr){return ns(wr.data)}function Rd(wr){return wr&&typeof wr=="object"&&wr.hasOwnProperty("browserfsMessage")&&wr.browserfsMessage}function Fd(wr){return wr&&typeof wr=="object"&&wr.hasOwnProperty("browserfsMessage")&&wr.browserfsMessage}var zl=function(wr){function hr(vr,xr,Sr,Cr,Tr,Br){wr.call(this,vr,xr,Sr,Cr,Br),this._remoteFdId=Tr}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.prototype.getRemoteFdId=function(){return this._remoteFdId},hr.prototype.toRemoteArg=function(){return{type:_a.FD,id:this._remoteFdId,data:rs(this.getBuffer()),stat:rs(this.getStats().toBuffer()),path:this.getPath(),flag:this.getFlag().getFlagString()}},hr.prototype.sync=function(xr){this._syncClose("sync",xr)},hr.prototype.close=function(xr){this._syncClose("close",xr)},hr.prototype._syncClose=function(xr,Sr){var Cr=this;this.isDirty()?this._fs.syncClose(xr,this,function(Tr){Tr||Cr.resetDirty(),Sr(Tr)}):Sr()},hr}(ri),_c=function(wr){function hr(vr,xr){var Sr=this;xr===void 0&&(xr=!0),wr.call(this),this._callbackConverter=new Nu,this._isInitialized=!1,this._isReadOnly=!1,this._supportLinks=!1,this._supportProps=!1,this._worker=vr,Ei(xr,hr.Name,{worker:"Web Worker instance"}),this._worker.addEventListener("message",function(Cr){var Tr=Cr.data;if(Fd(Tr)){var Br,zr=Tr.args,Qr=new Array(zr.length);for(Br=0;Br<Qr.length;Br++)Qr[Br]=Sr._argRemote2Local(zr[Br]);Sr._callbackConverter.toLocalArg(Tr.cbId).apply(null,Qr)}})}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.Create=function(xr,Sr){var Cr=new hr(xr.worker,!1);Cr.initialize(function(){Sr(null,Cr)})},hr.isAvailable=function(){return typeof importScripts<"u"||typeof Worker<"u"},hr.attachRemoteListener=function(xr){var Sr=new xc;function Cr(Br,zr,Qr){switch(typeof Br){case"object":Br instanceof Dr?Qr(null,Nl(Br)):Br instanceof gr?Qr(null,pc(Br)):Br instanceof ti?Qr(null,Sr.toRemoteArg(Br,zr[0],zr[1],Qr)):Br instanceof kr?Qr(null,Ml(Br)):Br instanceof fr?Qr(null,Ul(Br)):Br instanceof Error?Qr(null,Bl(Br)):Qr(null,Br);break;default:Qr(null,Br);break}}function Tr(Br,zr){if(!Br)return Br;switch(typeof Br){case"object":if(typeof Br.type=="number"){var Qr=Br;switch(Qr.type){case _a.CB:var li=Br.id;return function(){var gi=arguments,Ii,Ni=new Array(arguments.length),Li,Gi=arguments.length;function Ji(ra){Gi>0&&(Gi=-1,Li={browserfsMessage:!0,cbId:li,args:[pc(ra)]},xr.postMessage(Li))}for(Ii=0;Ii<arguments.length;Ii++)(function(ra,va){Cr(va,zr,function(Na,bo){Ni[ra]=bo,Na?Ji(Na):--Gi===0&&(Li={browserfsMessage:!0,cbId:li,args:Ni},xr.postMessage(Li))})})(Ii,gi[Ii]);arguments.length===0&&(Li={browserfsMessage:!0,cbId:li,args:Ni},xr.postMessage(Li))};case _a.API_ERROR:return Pl(Qr);case _a.STATS:return Ll(Qr);case _a.FILEFLAG:return Vl(Qr);case _a.BUFFER:return jl(Qr);case _a.ERROR:return ql(Qr);default:return Br}}else return Br;default:return Br}}xr.addEventListener("message",function(Br){var zr=Br.data;if(Rd(zr)){var Qr=zr.args,li=new Array(Qr.length);switch(zr.method){case"close":case"sync":(function(){var Ni=Qr[1];Sr.applyFdAPIRequest(zr,function(Li){var Gi={browserfsMessage:!0,cbId:Ni.id,args:Li?[pc(Li)]:[]};xr.postMessage(Gi)})})();break;case"probe":(function(){var Ni=Wr.getRootFS(),Li=Qr[1],Gi={type:_a.PROBE,isReadOnly:Ni.isReadOnly(),supportsLinks:Ni.supportsLinks(),supportsProps:Ni.supportsProps()},Ji={browserfsMessage:!0,cbId:Li.id,args:[Gi]};xr.postMessage(Ji)})();break;default:for(var gi=0;gi<Qr.length;gi++)li[gi]=Tr(Qr[gi],li);var Ii=Wr.getRootFS();Ii[zr.method].apply(Ii,li);break}}})},hr.prototype.getName=function(){return hr.Name},hr.prototype.initialize=function(xr){var Sr=this;if(this._isInitialized)xr();else{var Cr={browserfsMessage:!0,method:"probe",args:[this._argLocal2Remote(Ti()),this._callbackConverter.toRemoteArg(function(Tr){Sr._isInitialized=!0,Sr._isReadOnly=Tr.isReadOnly,Sr._supportLinks=Tr.supportsLinks,Sr._supportProps=Tr.supportsProps,xr()})]};this._worker.postMessage(Cr)}},hr.prototype.isReadOnly=function(){return this._isReadOnly},hr.prototype.supportsSynch=function(){return!1},hr.prototype.supportsLinks=function(){return this._supportLinks},hr.prototype.supportsProps=function(){return this._supportProps},hr.prototype.rename=function(xr,Sr,Cr){this._rpc("rename",arguments)},hr.prototype.stat=function(xr,Sr,Cr){this._rpc("stat",arguments)},hr.prototype.open=function(xr,Sr,Cr,Tr){this._rpc("open",arguments)},hr.prototype.unlink=function(xr,Sr){this._rpc("unlink",arguments)},hr.prototype.rmdir=function(xr,Sr){this._rpc("rmdir",arguments)},hr.prototype.mkdir=function(xr,Sr,Cr){this._rpc("mkdir",arguments)},hr.prototype.readdir=function(xr,Sr){this._rpc("readdir",arguments)},hr.prototype.exists=function(xr,Sr){this._rpc("exists",arguments)},hr.prototype.realpath=function(xr,Sr,Cr){this._rpc("realpath",arguments)},hr.prototype.truncate=function(xr,Sr,Cr){this._rpc("truncate",arguments)},hr.prototype.readFile=function(xr,Sr,Cr,Tr){this._rpc("readFile",arguments)},hr.prototype.writeFile=function(xr,Sr,Cr,Tr,Br,zr){this._rpc("writeFile",arguments)},hr.prototype.appendFile=function(xr,Sr,Cr,Tr,Br,zr){this._rpc("appendFile",arguments)},hr.prototype.chmod=function(xr,Sr,Cr,Tr){this._rpc("chmod",arguments)},hr.prototype.chown=function(xr,Sr,Cr,Tr,Br){this._rpc("chown",arguments)},hr.prototype.utimes=function(xr,Sr,Cr,Tr){this._rpc("utimes",arguments)},hr.prototype.link=function(xr,Sr,Cr){this._rpc("link",arguments)},hr.prototype.symlink=function(xr,Sr,Cr,Tr){this._rpc("symlink",arguments)},hr.prototype.readlink=function(xr,Sr){this._rpc("readlink",arguments)},hr.prototype.syncClose=function(xr,Sr,Cr){this._worker.postMessage({browserfsMessage:!0,method:xr,args:[Sr.toRemoteArg(),this._callbackConverter.toRemoteArg(Cr)]})},hr.prototype._argRemote2Local=function(xr){if(!xr)return xr;switch(typeof xr){case"object":if(typeof xr.type=="number"){var Sr=xr;switch(Sr.type){case _a.API_ERROR:return Pl(Sr);case _a.FD:var Cr=Sr;return new zl(this,Cr.path,kr.getFileFlag(Cr.flag),Dr.fromBuffer(ns(Cr.stat)),Cr.id,ns(Cr.data));case _a.STATS:return Ll(Sr);case _a.FILEFLAG:return Vl(Sr);case _a.BUFFER:return jl(Sr);case _a.ERROR:return ql(Sr);default:return xr}}else return xr;default:return xr}},hr.prototype._rpc=function(xr,Sr){for(var Cr=this,Tr=new Array(Sr.length),Br=0;Br<Sr.length;Br++)Tr[Br]=Cr._argLocal2Remote(Sr[Br]);var zr={browserfsMessage:!0,method:xr,args:Tr};this._worker.postMessage(zr)},hr.prototype._argLocal2Remote=function(xr){if(!xr)return xr;switch(typeof xr){case"object":return xr instanceof Dr?Nl(xr):xr instanceof gr?pc(xr):xr instanceof zl?xr.toRemoteArg():xr instanceof kr?Ml(xr):xr instanceof fr?Ul(xr):xr instanceof Error?Bl(xr):"Unknown argument";case"function":return this._callbackConverter.toRemoteArg(xr);default:return xr}},hr}(hi);_c.Name="WorkerFS",_c.Options={worker:{type:"object",description:"The target worker that you want to connect to, or the current worker if in a worker context.",validator:function(wr,hr){wr.postMessage?hr():hr(new gr(mr.EINVAL,"option must be a Web Worker instance."))}}};function Pd(wr,hr,vr){var xr=new XMLHttpRequest;xr.open("GET",wr,!0);var Sr=!0;switch(hr){case"buffer":xr.responseType="arraybuffer";break;case"json":try{xr.responseType="json",Sr=xr.responseType==="json"}catch{Sr=!1}break;default:return vr(new gr(mr.EINVAL,"Invalid download type: "+hr))}xr.onreadystatechange=function(Cr){if(xr.readyState===4)if(xr.status===200)switch(hr){case"buffer":return vr(null,xr.response?fr.from(xr.response):Ti());case"json":return Sr?vr(null,xr.response):vr(null,JSON.parse(xr.responseText))}else return vr(new gr(xr.status,"XHR error."))},xr.send()}function Bd(wr,hr){var vr=new XMLHttpRequest;vr.open("GET",wr,!1);var xr=null,Sr=null;if(vr.overrideMimeType("text/plain; charset=x-user-defined"),vr.onreadystatechange=function(Cr){if(vr.readyState===4)if(vr.status===200)switch(hr){case"buffer":var Tr=vr.responseText;xr=fr.alloc(Tr.length);for(var Br=0;Br<Tr.length;Br++)xr[Br]=Tr.charCodeAt(Br);return;case"json":xr=JSON.parse(vr.responseText);return}else{Sr=new gr(vr.status,"XHR error.");return}},vr.send(),Sr)throw Sr;return xr}function qd(wr,hr){var vr=new XMLHttpRequest;switch(vr.open("GET",wr,!1),hr){case"buffer":vr.responseType="arraybuffer";break;case"json":break;default:throw new gr(mr.EINVAL,"Invalid download type: "+hr)}var xr,Sr;if(vr.onreadystatechange=function(Cr){if(vr.readyState===4)if(vr.status===200)switch(hr){case"buffer":xr=fr.from(vr.response);break;case"json":xr=JSON.parse(vr.response);break}else Sr=new gr(vr.status,"XHR error.")},vr.send(),Sr)throw Sr;return xr}function Hl(wr,hr,vr){var xr=new XMLHttpRequest;xr.open("HEAD",hr,wr),xr.onreadystatechange=function(Sr){if(xr.readyState===4)if(xr.status===200)try{return vr(null,parseInt(xr.getResponseHeader("Content-Length")||"-1",10))}catch{return vr(new gr(mr.EIO,"XHR HEAD error: Could not read content-length."))}else return vr(new gr(xr.status,"XHR HEAD error."))},xr.send()}var Wl=Pd,Nd=_i&&typeof Blob<"u"?qd:Bd;function Ld(wr){var hr=-1;return Hl(!1,wr,function(vr,xr){if(vr)throw vr;hr=xr}),hr}function Md(wr,hr){Hl(!0,wr,hr)}var ao=function(){this._index={},this.addPath("/",new Wa)};ao.fromListing=function(hr){var vr=new ao,xr=new Wa;vr._index["/"]=xr;for(var Sr=[["",hr,xr]];Sr.length>0;){var Cr=void 0,Tr=Sr.pop(),Br=Tr[0],zr=Tr[1],Qr=Tr[2];for(var li in zr)if(zr.hasOwnProperty(li)){var gi=zr[li],Ii=Br+"/"+li;gi?(vr._index[Ii]=Cr=new Wa,Sr.push([Ii,gi,Cr])):Cr=new Os(new Dr(Or.FILE,-1,365)),Qr&&(Qr._ls[li]=Cr)}}return vr},ao.prototype.fileIterator=function(hr){var vr=this;for(var xr in vr._index)if(vr._index.hasOwnProperty(xr))for(var Sr=vr._index[xr],Cr=Sr.getListing(),Tr=0,Br=Cr;Tr<Br.length;Tr+=1){var zr=Br[Tr],Qr=Sr.getItem(zr);Do(Qr)&&hr(Qr.getData())}},ao.prototype.addPath=function(hr,vr){if(!vr)throw new Error("Inode must be specified");if(hr[0]!=="/")throw new Error("Path must be absolute, got: "+hr);if(this._index.hasOwnProperty(hr))return this._index[hr]===vr;var xr=this._split_path(hr),Sr=xr[0],Cr=xr[1],Tr=this._index[Sr];return Tr===void 0&&hr!=="/"&&(Tr=new Wa,!this.addPath(Sr,Tr))||hr!=="/"&&!Tr.addItem(Cr,vr)?!1:(Vo(vr)&&(this._index[hr]=vr),!0)},ao.prototype.addPathFast=function(hr,vr){var xr=hr.lastIndexOf("/"),Sr=xr===0?"/":hr.substring(0,xr),Cr=hr.substring(xr+1),Tr=this._index[Sr];return Tr===void 0&&(Tr=new Wa,this.addPathFast(Sr,Tr)),Tr.addItem(Cr,vr)?(vr.isDir()&&(this._index[hr]=vr),!0):!1},ao.prototype.removePath=function(hr){var vr=this,xr=this._split_path(hr),Sr=xr[0],Cr=xr[1],Tr=this._index[Sr];if(Tr===void 0)return null;var Br=Tr.remItem(Cr);if(Br===null)return null;if(Vo(Br)){for(var zr=Br.getListing(),Qr=0,li=zr;Qr<li.length;Qr+=1){var gi=li[Qr];vr.removePath(hr+"/"+gi)}hr!=="/"&&delete this._index[hr]}return Br},ao.prototype.ls=function(hr){var vr=this._index[hr];return vr===void 0?null:vr.getListing()},ao.prototype.getInode=function(hr){var vr=this._split_path(hr),xr=vr[0],Sr=vr[1],Cr=this._index[xr];return Cr===void 0?null:xr===hr?Cr:Cr.getItem(Sr)},ao.prototype._split_path=function(hr){var vr=yr.dirname(hr),xr=hr.substr(vr.length+(vr==="/"?0:1));return[vr,xr]};var Os=function(hr){this.data=hr};Os.prototype.isFile=function(){return!0},Os.prototype.isDir=function(){return!1},Os.prototype.getData=function(){return this.data},Os.prototype.setData=function(hr){this.data=hr};var Wa=function(hr){hr===void 0&&(hr=null),this.data=hr,this._ls={}};Wa.prototype.isFile=function(){return!1},Wa.prototype.isDir=function(){return!0},Wa.prototype.getData=function(){return this.data},Wa.prototype.getStats=function(){return new Dr(Or.DIRECTORY,4096,365)},Wa.prototype.getListing=function(){return Object.keys(this._ls)},Wa.prototype.getItem=function(hr){var vr=this._ls[hr];return vr||null},Wa.prototype.addItem=function(hr,vr){return hr in this._ls?!1:(this._ls[hr]=vr,!0)},Wa.prototype.remItem=function(hr){var vr=this._ls[hr];return vr===void 0?null:(delete this._ls[hr],vr)};function Do(wr){return!!wr&&wr.isFile()}function Vo(wr){return!!wr&&wr.isDir()}function Vd(wr,hr,vr){try{vr(null,wr.toString(hr))}catch(xr){vr(xr)}}var vc=function(wr){function hr(vr,xr,Sr){xr===void 0&&(xr=""),Sr===void 0&&(Sr=!0),wr.call(this),vr||(vr="index.json"),xr.length>0&&xr.charAt(xr.length-1)!=="/"&&(xr=xr+"/"),this.prefixUrl=xr;var Cr=null;if(typeof vr=="string"){if(Cr=this._requestFileSync(vr,"json"),!Cr)throw new Error("Unable to find listing at URL: ${listingUrlOrObj}")}else Cr=vr;Ei(Sr,hr.Name,{index:typeof vr=="string"?vr:"file index as an object",baseUrl:xr}),this._index=ao.fromListing(Cr)}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.Create=function(xr,Sr){xr.index===void 0&&(xr.index="index.json"),typeof xr.index=="string"?hr.FromURL(xr.index,Sr,xr.baseUrl,!1):Sr(null,new hr(xr.index,xr.baseUrl,!1))},hr.isAvailable=function(){return typeof XMLHttpRequest<"u"&&XMLHttpRequest!==null},hr.FromURL=function(xr,Sr,Cr,Tr){Cr===void 0&&(Cr=xr.slice(0,xr.lastIndexOf("/")+1)),Tr===void 0&&(Tr=!0),Tr&&console.warn(`[XmlHttpRequest] XmlHttpRequest.FromURL() is deprecated and will be removed in the next major release. Please use 'XmlHttpRequest.Create({ index: "`+xr+'", baseUrl: "'+Cr+`" }, cb)' instead.`),Wl(xr,"json",function(Br,zr){Br?Sr(Br):Sr(null,new hr(zr,Cr,!1))})},hr.prototype.empty=function(){this._index.fileIterator(function(xr){xr.fileData=null})},hr.prototype.getName=function(){return hr.Name},hr.prototype.diskSpace=function(xr,Sr){Sr(0,0)},hr.prototype.isReadOnly=function(){return!0},hr.prototype.supportsLinks=function(){return!1},hr.prototype.supportsProps=function(){return!1},hr.prototype.supportsSynch=function(){return!0},hr.prototype.preloadFile=function(xr,Sr){var Cr=this._index.getInode(xr);if(Do(Cr)){if(Cr===null)throw gr.ENOENT(xr);var Tr=Cr.getData();Tr.size=Sr.length,Tr.fileData=Sr}else throw gr.EISDIR(xr)},hr.prototype.stat=function(xr,Sr,Cr){var Tr=this._index.getInode(xr);if(Tr===null)return Cr(gr.ENOENT(xr));var Br;Do(Tr)?(Br=Tr.getData(),Br.size<0?this._requestFileSizeAsync(xr,function(zr,Qr){if(zr)return Cr(zr);Br.size=Qr,Cr(null,Br.clone())}):Cr(null,Br.clone())):Vo(Tr)?(Br=Tr.getStats(),Cr(null,Br)):Cr(gr.FileError(mr.EINVAL,xr))},hr.prototype.statSync=function(xr,Sr){var Cr=this._index.getInode(xr);if(Cr===null)throw gr.ENOENT(xr);var Tr;if(Do(Cr))Tr=Cr.getData(),Tr.size<0&&(Tr.size=this._requestFileSizeSync(xr));else if(Vo(Cr))Tr=Cr.getStats();else throw gr.FileError(mr.EINVAL,xr);return Tr},hr.prototype.open=function(xr,Sr,Cr,Tr){if(Sr.isWriteable())return Tr(new gr(mr.EPERM,xr));var Br=this,zr=this._index.getInode(xr);if(zr===null)return Tr(gr.ENOENT(xr));if(Do(zr)){var Qr=zr.getData();switch(Sr.pathExistsAction()){case Ar.THROW_EXCEPTION:case Ar.TRUNCATE_FILE:return Tr(gr.EEXIST(xr));case Ar.NOP:if(Qr.fileData)return Tr(null,new xi(Br,xr,Sr,Qr.clone(),Qr.fileData));this._requestFileAsync(xr,"buffer",function(li,gi){return li?Tr(li):(Qr.size=gi.length,Qr.fileData=gi,Tr(null,new xi(Br,xr,Sr,Qr.clone(),gi)))});break;default:return Tr(new gr(mr.EINVAL,"Invalid FileMode object."))}}else return Tr(gr.EISDIR(xr))},hr.prototype.openSync=function(xr,Sr,Cr){if(Sr.isWriteable())throw new gr(mr.EPERM,xr);var Tr=this._index.getInode(xr);if(Tr===null)throw gr.ENOENT(xr);if(Do(Tr)){var Br=Tr.getData();switch(Sr.pathExistsAction()){case Ar.THROW_EXCEPTION:case Ar.TRUNCATE_FILE:throw gr.EEXIST(xr);case Ar.NOP:if(Br.fileData)return new xi(this,xr,Sr,Br.clone(),Br.fileData);var zr=this._requestFileSync(xr,"buffer");return Br.size=zr.length,Br.fileData=zr,new xi(this,xr,Sr,Br.clone(),zr);default:throw new gr(mr.EINVAL,"Invalid FileMode object.")}}else throw gr.EISDIR(xr)},hr.prototype.readdir=function(xr,Sr){try{Sr(null,this.readdirSync(xr))}catch(Cr){Sr(Cr)}},hr.prototype.readdirSync=function(xr){var Sr=this._index.getInode(xr);if(Sr===null)throw gr.ENOENT(xr);if(Vo(Sr))return Sr.getListing();throw gr.ENOTDIR(xr)},hr.prototype.readFile=function(xr,Sr,Cr,Tr){var Br=Tr;this.open(xr,Cr,420,function(zr,Qr){if(zr)return Tr(zr);Tr=function(Ii,Ni){Qr.close(function(Li){return Ii||(Ii=Li),Br(Ii,Ni)})};var li=Qr,gi=li.getBuffer();Sr===null?Tr(zr,qi(gi)):Vd(gi,Sr,Tr)})},hr.prototype.readFileSync=function(xr,Sr,Cr){var Tr=this.openSync(xr,Cr,420);try{var Br=Tr,zr=Br.getBuffer();return Sr===null?qi(zr):zr.toString(Sr)}finally{Tr.closeSync()}},hr.prototype.getXhrPath=function(xr){return xr.charAt(0)==="/"&&(xr=xr.slice(1)),this.prefixUrl+xr},hr.prototype._requestFileAsync=function(xr,Sr,Cr){Wl(this.getXhrPath(xr),Sr,Cr)},hr.prototype._requestFileSync=function(xr,Sr){return Nd(this.getXhrPath(xr),Sr)},hr.prototype._requestFileSizeAsync=function(xr,Sr){Md(this.getXhrPath(xr),Sr)},hr.prototype._requestFileSizeSync=function(xr){return Ld(this.getXhrPath(xr))},hr}(hi);vc.Name="XmlHttpRequest",vc.Options={index:{type:["string","object"],optional:!0,description:"URL to a file index as a JSON file or the file index object itself, generated with the make_xhrfs_index script. Defaults to `index.json`."},baseUrl:{type:"string",optional:!0,description:"Used as the URL prefix for fetched files. Default: Fetch files relative to the index."}};var is=function(){};is.str2byte=function(hr,vr){for(var xr=hr.length>vr.length?vr.length:hr.length,Sr=0;Sr<xr;Sr++){var Cr=hr.charCodeAt(Sr);if(Cr>127){var Tr=is.extendedChars.indexOf(hr.charAt(Sr));Tr>-1&&(Cr=Tr+128)}vr[Cr]=Sr}return xr},is.byte2str=function(hr){for(var vr=new Array(hr.length),xr=0;xr<hr.length;xr++){var Sr=hr[xr];Sr>127?vr[xr]=is.extendedChars[Sr-128]:vr[xr]=String.fromCharCode(Sr)}return vr.join("")},is.byteLength=function(hr){return hr.length},is.extendedChars=["Ç","ü","é","â","ä","à","å","ç","ê","ë","è","ï","î","ì","Ä","Å","É","æ","Æ","ô","ö","ò","û","ù","ÿ","Ö","Ü","ø","£","Ø","×","ƒ","á","í","ó","ú","ñ","Ñ","ª","º","¿","®","¬","½","¼","¡","«","»","_","_","_","¦","¦","Á","Â","À","©","¦","¦","+","+","¢","¥","+","+","-","-","+","-","+","ã","Ã","+","+","-","-","¦","-","+","¤","ð","Ð","Ê","Ë","È","i","Í","Î","Ï","+","+","_","_","¦","Ì","_","Ó","ß","Ô","Ò","õ","Õ","µ","þ","Þ","Ú","Û","Ù","ý","Ý","¯","´","­","±","_","¾","¶","§","÷","¸","°","¨","·","¹","³","²","_"," "];var Ud=ur(31).inflateRaw,Kl={},Yl;(function(wr){wr[wr.MSDOS=0]="MSDOS",wr[wr.AMIGA=1]="AMIGA",wr[wr.OPENVMS=2]="OPENVMS",wr[wr.UNIX=3]="UNIX",wr[wr.VM_CMS=4]="VM_CMS",wr[wr.ATARI_ST=5]="ATARI_ST",wr[wr.OS2_HPFS=6]="OS2_HPFS",wr[wr.MAC=7]="MAC",wr[wr.Z_SYSTEM=8]="Z_SYSTEM",wr[wr.CP_M=9]="CP_M",wr[wr.NTFS=10]="NTFS",wr[wr.MVS=11]="MVS",wr[wr.VSE=12]="VSE",wr[wr.ACORN_RISC=13]="ACORN_RISC",wr[wr.VFAT=14]="VFAT",wr[wr.ALT_MVS=15]="ALT_MVS",wr[wr.BEOS=16]="BEOS",wr[wr.TANDEM=17]="TANDEM",wr[wr.OS_400=18]="OS_400",wr[wr.OSX=19]="OSX"})(Yl||(Yl={}));var Ts;(function(wr){wr[wr.STORED=0]="STORED",wr[wr.SHRUNK=1]="SHRUNK",wr[wr.REDUCED_1=2]="REDUCED_1",wr[wr.REDUCED_2=3]="REDUCED_2",wr[wr.REDUCED_3=4]="REDUCED_3",wr[wr.REDUCED_4=5]="REDUCED_4",wr[wr.IMPLODE=6]="IMPLODE",wr[wr.DEFLATE=8]="DEFLATE",wr[wr.DEFLATE64=9]="DEFLATE64",wr[wr.TERSE_OLD=10]="TERSE_OLD",wr[wr.BZIP2=12]="BZIP2",wr[wr.LZMA=14]="LZMA",wr[wr.TERSE_NEW=18]="TERSE_NEW",wr[wr.LZ77=19]="LZ77",wr[wr.WAVPACK=97]="WAVPACK",wr[wr.PPMD=98]="PPMD"})(Ts||(Ts={}));function Gl(wr,hr){var vr=hr&31,xr=(hr>>5&15)-1,Sr=(hr>>9)+1980,Cr=wr&31,Tr=wr>>5&63,Br=wr>>11;return new Date(Sr,xr,vr,Br,Tr,Cr)}function mc(wr,hr,vr,xr){return xr===0?"":hr?wr.toString("utf8",vr,vr+xr):is.byte2str(wr.slice(vr,vr+xr))}var Xa=function(hr){if(this.data=hr,hr.readUInt32LE(0)!==67324752)throw new gr(mr.EINVAL,"Invalid Zip file: Local file header has invalid signature: "+this.data.readUInt32LE(0))};Xa.prototype.versionNeeded=function(){return this.data.readUInt16LE(4)},Xa.prototype.flags=function(){return this.data.readUInt16LE(6)},Xa.prototype.compressionMethod=function(){return this.data.readUInt16LE(8)},Xa.prototype.lastModFileTime=function(){return Gl(this.data.readUInt16LE(10),this.data.readUInt16LE(12))},Xa.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(10)},Xa.prototype.crc32=function(){return this.data.readUInt32LE(14)},Xa.prototype.fileNameLength=function(){return this.data.readUInt16LE(26)},Xa.prototype.extraFieldLength=function(){return this.data.readUInt16LE(28)},Xa.prototype.fileName=function(){return mc(this.data,this.useUTF8(),30,this.fileNameLength())},Xa.prototype.extraField=function(){var hr=30+this.fileNameLength();return this.data.slice(hr,hr+this.extraFieldLength())},Xa.prototype.totalSize=function(){return 30+this.fileNameLength()+this.extraFieldLength()},Xa.prototype.useUTF8=function(){return(this.flags()&2048)===2048};var y0=function(hr,vr,xr){this.header=hr,this.record=vr,this.data=xr};y0.prototype.decompress=function(){var hr=this.header.compressionMethod(),vr=Kl[hr];if(vr)return vr(this.data,this.record.compressedSize(),this.record.uncompressedSize(),this.record.flag());var xr=Ts[hr];throw xr||(xr="Unknown: "+hr),new gr(mr.EINVAL,"Invalid compression method on file '"+this.header.fileName()+"': "+xr)},y0.prototype.getHeader=function(){return this.header},y0.prototype.getRecord=function(){return this.record},y0.prototype.getRawData=function(){return this.data};var oa=function(hr,vr){if(this.zipData=hr,this.data=vr,this.data.readUInt32LE(0)!==33639248)throw new gr(mr.EINVAL,"Invalid Zip file: Central directory record has invalid signature: "+this.data.readUInt32LE(0));this._filename=this.produceFilename()};oa.prototype.versionMadeBy=function(){return this.data.readUInt16LE(4)},oa.prototype.versionNeeded=function(){return this.data.readUInt16LE(6)},oa.prototype.flag=function(){return this.data.readUInt16LE(8)},oa.prototype.compressionMethod=function(){return this.data.readUInt16LE(10)},oa.prototype.lastModFileTime=function(){return Gl(this.data.readUInt16LE(12),this.data.readUInt16LE(14))},oa.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(12)},oa.prototype.crc32=function(){return this.data.readUInt32LE(16)},oa.prototype.compressedSize=function(){return this.data.readUInt32LE(20)},oa.prototype.uncompressedSize=function(){return this.data.readUInt32LE(24)},oa.prototype.fileNameLength=function(){return this.data.readUInt16LE(28)},oa.prototype.extraFieldLength=function(){return this.data.readUInt16LE(30)},oa.prototype.fileCommentLength=function(){return this.data.readUInt16LE(32)},oa.prototype.diskNumberStart=function(){return this.data.readUInt16LE(34)},oa.prototype.internalAttributes=function(){return this.data.readUInt16LE(36)},oa.prototype.externalAttributes=function(){return this.data.readUInt32LE(38)},oa.prototype.headerRelativeOffset=function(){return this.data.readUInt32LE(42)},oa.prototype.produceFilename=function(){var hr=mc(this.data,this.useUTF8(),46,this.fileNameLength());return hr.replace(/\\/g,"/")},oa.prototype.fileName=function(){return this._filename},oa.prototype.rawFileName=function(){return this.data.slice(46,46+this.fileNameLength())},oa.prototype.extraField=function(){var hr=44+this.fileNameLength();return this.data.slice(hr,hr+this.extraFieldLength())},oa.prototype.fileComment=function(){var hr=46+this.fileNameLength()+this.extraFieldLength();return mc(this.data,this.useUTF8(),hr,this.fileCommentLength())},oa.prototype.rawFileComment=function(){var hr=46+this.fileNameLength()+this.extraFieldLength();return this.data.slice(hr,hr+this.fileCommentLength())},oa.prototype.totalSize=function(){return 46+this.fileNameLength()+this.extraFieldLength()+this.fileCommentLength()},oa.prototype.isDirectory=function(){var hr=this.fileName();return!!(this.externalAttributes()&16)||hr.charAt(hr.length-1)==="/"},oa.prototype.isFile=function(){return!this.isDirectory()},oa.prototype.useUTF8=function(){return(this.flag()&2048)===2048},oa.prototype.isEncrypted=function(){return(this.flag()&1)===1},oa.prototype.getFileData=function(){var hr=this.headerRelativeOffset(),vr=new Xa(this.zipData.slice(hr));return new y0(vr,this,this.zipData.slice(hr+vr.totalSize()))},oa.prototype.getData=function(){return this.getFileData().decompress()},oa.prototype.getRawData=function(){return this.getFileData().getRawData()},oa.prototype.getStats=function(){return new Dr(Or.FILE,this.uncompressedSize(),365,new Date,this.lastModFileTime())};var go=function(hr){if(this.data=hr,this.data.readUInt32LE(0)!==101010256)throw new gr(mr.EINVAL,"Invalid Zip file: End of central directory record has invalid signature: "+this.data.readUInt32LE(0))};go.prototype.diskNumber=function(){return this.data.readUInt16LE(4)},go.prototype.cdDiskNumber=function(){return this.data.readUInt16LE(6)},go.prototype.cdDiskEntryCount=function(){return this.data.readUInt16LE(8)},go.prototype.cdTotalEntryCount=function(){return this.data.readUInt16LE(10)},go.prototype.cdSize=function(){return this.data.readUInt32LE(12)},go.prototype.cdOffset=function(){return this.data.readUInt32LE(16)},go.prototype.cdZipCommentLength=function(){return this.data.readUInt16LE(20)},go.prototype.cdZipComment=function(){return mc(this.data,!0,22,this.cdZipCommentLength())},go.prototype.rawCdZipComment=function(){return this.data.slice(22,22+this.cdZipCommentLength())};var $l=function(hr,vr,xr,Sr){this.index=hr,this.directoryEntries=vr,this.eocd=xr,this.data=Sr},as=function(wr){function hr(vr,xr,Sr){xr===void 0&&(xr=""),Sr===void 0&&(Sr=!0),wr.call(this),this.name=xr,this._index=new ao,this._directoryEntries=[],this._eocd=null,Ei(Sr,hr.Name,{zipData:"zip data as a Buffer",name:xr}),vr instanceof $l?(this._index=vr.index,this._directoryEntries=vr.directoryEntries,this._eocd=vr.eocd,this.data=vr.data):(this.data=vr,this.populateIndex())}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.Create=function(xr,Sr){try{hr.computeIndex(xr.zipData,function(Cr){var Tr=new hr(Cr,xr.name,!1);Sr(null,Tr)},!1)}catch(Cr){Sr(Cr)}},hr.isAvailable=function(){return!0},hr.RegisterDecompressionMethod=function(xr,Sr){Kl[xr]=Sr},hr.computeIndex=function(xr,Sr,Cr){Cr===void 0&&(Cr=!0),Cr&&console.warn("[ZipFS] ZipFS.computeIndex is now deprecated, and will be removed in the next major release. Please update your code to use 'ZipFS.Create({ zipData: zip file as a Buffer}, cb)' instead.");var Tr=new ao,Br=hr.getEOCD(xr);if(Br.diskNumber()!==Br.cdDiskNumber())throw new gr(mr.EINVAL,"ZipFS does not support spanned zip files.");var zr=Br.cdOffset();if(zr===4294967295)throw new gr(mr.EINVAL,"ZipFS does not support Zip64.");var Qr=zr+Br.cdSize();hr.computeIndexResponsive(xr,Tr,zr,Qr,Sr,[],Br)},hr.getEOCD=function(xr){for(var Sr=22,Cr=Math.min(Sr+65535,xr.length-1),Tr=Sr;Tr<Cr;Tr++)if(xr.readUInt32LE(xr.length-Tr)===101010256)return new go(xr.slice(xr.length-Tr));throw new gr(mr.EINVAL,"Invalid ZIP file: Could not locate End of Central Directory signature.")},hr.addToIndex=function(xr,Sr){var Cr=xr.fileName();if(Cr.charAt(0)==="/")throw new Error("WHY IS THIS ABSOLUTE");Cr.charAt(Cr.length-1)==="/"&&(Cr=Cr.substr(0,Cr.length-1)),xr.isDirectory()?Sr.addPathFast("/"+Cr,new Wa(xr)):Sr.addPathFast("/"+Cr,new Os(xr))},hr.computeIndexResponsive=function(xr,Sr,Cr,Tr,Br,zr,Qr){if(Cr<Tr){for(var li=0;li++<200&&Cr<Tr;){var gi=new oa(xr,xr.slice(Cr));hr.addToIndex(gi,Sr),Cr+=gi.totalSize(),zr.push(gi)}qu(function(){hr.computeIndexResponsive(xr,Sr,Cr,Tr,Br,zr,Qr)})}else Br(new $l(Sr,zr,Qr,xr))},hr.prototype.getName=function(){return hr.Name+(this.name!==""?" "+this.name:"")},hr.prototype.getCentralDirectoryEntry=function(xr){var Sr=this._index.getInode(xr);if(Sr===null)throw gr.ENOENT(xr);if(Do(Sr))return Sr.getData();if(Vo(Sr))return Sr.getData();throw gr.EPERM("Invalid inode: "+Sr)},hr.prototype.getCentralDirectoryEntryAt=function(xr){var Sr=this._directoryEntries[xr];if(!Sr)throw new RangeError("Invalid directory index: "+xr+".");return Sr},hr.prototype.getNumberOfCentralDirectoryEntries=function(){return this._directoryEntries.length},hr.prototype.getEndOfCentralDirectory=function(){return this._eocd},hr.prototype.diskSpace=function(xr,Sr){Sr(this.data.length,0)},hr.prototype.isReadOnly=function(){return!0},hr.prototype.supportsLinks=function(){return!1},hr.prototype.supportsProps=function(){return!1},hr.prototype.supportsSynch=function(){return!0},hr.prototype.statSync=function(xr,Sr){var Cr=this._index.getInode(xr);if(Cr===null)throw gr.ENOENT(xr);var Tr;if(Do(Cr))Tr=Cr.getData().getStats();else if(Vo(Cr))Tr=Cr.getStats();else throw new gr(mr.EINVAL,"Invalid inode.");return Tr},hr.prototype.openSync=function(xr,Sr,Cr){if(Sr.isWriteable())throw new gr(mr.EPERM,xr);var Tr=this._index.getInode(xr);if(Tr)if(Do(Tr)){var Br=Tr.getData(),zr=Br.getStats();switch(Sr.pathExistsAction()){case Ar.THROW_EXCEPTION:case Ar.TRUNCATE_FILE:throw gr.EEXIST(xr);case Ar.NOP:return new xi(this,xr,Sr,zr,Br.getData());default:throw new gr(mr.EINVAL,"Invalid FileMode object.")}}else throw gr.EISDIR(xr);else throw gr.ENOENT(xr)},hr.prototype.readdirSync=function(xr){var Sr=this._index.getInode(xr);if(Sr){if(Vo(Sr))return Sr.getListing();throw gr.ENOTDIR(xr)}else throw gr.ENOENT(xr)},hr.prototype.readFileSync=function(xr,Sr,Cr){var Tr=this.openSync(xr,Cr,420);try{var Br=Tr,zr=Br.getBuffer();return Sr===null?qi(zr):zr.toString(Sr)}finally{Tr.closeSync()}},hr.prototype.populateIndex=function(){var xr=this,Sr=this._eocd=hr.getEOCD(this.data);if(Sr.diskNumber()!==Sr.cdDiskNumber())throw new gr(mr.EINVAL,"ZipFS does not support spanned zip files.");var Cr=Sr.cdOffset();if(Cr===4294967295)throw new gr(mr.EINVAL,"ZipFS does not support Zip64.");for(var Tr=Cr+Sr.cdSize();Cr<Tr;){var Br=new oa(xr.data,xr.data.slice(Cr));Cr+=Br.totalSize(),hr.addToIndex(Br,xr._index),xr._directoryEntries.push(Br)}},hr}(yi);as.Name="ZipFS",as.Options={zipData:{type:"object",description:"The zip file as a Buffer object.",validator:ii},name:{type:"string",optional:!0,description:"The name of the zip file (optional)."}},as.CompressionMethod=Ts,as.RegisterDecompressionMethod(Ts.DEFLATE,function(wr,hr,vr){return pi(Ud(wr.slice(0,hr),{chunkSize:vr}))}),as.RegisterDecompressionMethod(Ts.STORED,function(wr,hr,vr){return qi(wr,0,vr)});var jd="IEEE_P1282";function Ka(wr,hr,vr){return wr.toString("ascii",hr,hr+vr).trim()}function Lu(wr,hr,vr){if(vr===1)return String.fromCharCode(wr[hr]);for(var xr=Math.floor(vr/2),Sr=new Array(xr),Cr=0;Cr<xr;Cr++){var Tr=hr+(Cr<<1);Sr[Cr]=String.fromCharCode(wr[Tr+1]|wr[Tr]<<8)}return Sr.join("")}function yo(wr,hr){var vr=parseInt(Ka(wr,hr,4),10),xr=parseInt(Ka(wr,hr+4,2),10),Sr=parseInt(Ka(wr,hr+6,2),10),Cr=parseInt(Ka(wr,hr+8,2),10),Tr=parseInt(Ka(wr,hr+10,2),10),Br=parseInt(Ka(wr,hr+12,2),10),zr=parseInt(Ka(wr,hr+14,2),10);return new Date(vr,xr,Sr,Cr,Tr,Br,zr*100)}function ss(wr,hr){var vr=wr[hr],xr=wr[hr+1],Sr=wr[hr+2],Cr=wr[hr+3],Tr=wr[hr+4],Br=wr[hr+5];return new Date(vr,xr-1,Sr,Cr,Tr,Br)}function zd(wr,hr){var vr=wr.slice(hr),xr=new Ca(vr);switch(xr.signatureWord()){case 17221:return new ef(vr);case 20548:return new Kd(vr);case 21328:return new tf(vr);case 21332:return new rf(vr);case 17746:return new nf(vr);case 17747:return new Yd(vr);case 20568:return new of(vr);case 20558:return new Gd(vr);case 21324:return new Mu(vr);case 20045:return new sf(vr);case 17228:return new Vu(vr);case 20556:return new $d(vr);case 21061:return new cf(vr);case 21574:return new uf(vr);case 21318:return new Qd(vr);case 21074:return new af(vr);default:return xr}}function Ql(wr,hr,vr,xr){vr=vr-4;for(var Sr=new Array;hr<vr;){var Cr=zd(wr,hr),Tr=Cr.length();if(Tr===0)return Sr;if(hr+=Tr,Cr instanceof rf)break;Cr instanceof ef?Sr=Sr.concat(Cr.getEntries(xr)):Sr.push(Cr)}return Sr}var Ds=function(hr){this._data=hr};Ds.prototype.type=function(){return this._data[0]},Ds.prototype.standardIdentifier=function(){return Ka(this._data,1,5)},Ds.prototype.version=function(){return this._data[6]},Ds.prototype.data=function(){return this._data.slice(7,2048)};var Xl=function(wr){function hr(vr){wr.call(this,vr),this._root=null}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.prototype.systemIdentifier=function(){return this._getString32(8)},hr.prototype.volumeIdentifier=function(){return this._getString32(40)},hr.prototype.volumeSpaceSize=function(){return this._data.readUInt32LE(80)},hr.prototype.volumeSetSize=function(){return this._data.readUInt16LE(120)},hr.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(124)},hr.prototype.logicalBlockSize=function(){return this._data.readUInt16LE(128)},hr.prototype.pathTableSize=function(){return this._data.readUInt32LE(132)},hr.prototype.locationOfTypeLPathTable=function(){return this._data.readUInt32LE(140)},hr.prototype.locationOfOptionalTypeLPathTable=function(){return this._data.readUInt32LE(144)},hr.prototype.locationOfTypeMPathTable=function(){return this._data.readUInt32BE(148)},hr.prototype.locationOfOptionalTypeMPathTable=function(){return this._data.readUInt32BE(152)},hr.prototype.rootDirectoryEntry=function(xr){return this._root===null&&(this._root=this._constructRootDirectoryRecord(this._data.slice(156)),this._root.rootCheckForRockRidge(xr)),this._root},hr.prototype.volumeSetIdentifier=function(){return this._getString(190,128)},hr.prototype.publisherIdentifier=function(){return this._getString(318,128)},hr.prototype.dataPreparerIdentifier=function(){return this._getString(446,128)},hr.prototype.applicationIdentifier=function(){return this._getString(574,128)},hr.prototype.copyrightFileIdentifier=function(){return this._getString(702,38)},hr.prototype.abstractFileIdentifier=function(){return this._getString(740,36)},hr.prototype.bibliographicFileIdentifier=function(){return this._getString(776,37)},hr.prototype.volumeCreationDate=function(){return yo(this._data,813)},hr.prototype.volumeModificationDate=function(){return yo(this._data,830)},hr.prototype.volumeExpirationDate=function(){return yo(this._data,847)},hr.prototype.volumeEffectiveDate=function(){return yo(this._data,864)},hr.prototype.fileStructureVersion=function(){return this._data[881]},hr.prototype.applicationUsed=function(){return this._data.slice(883,883+512)},hr.prototype.reserved=function(){return this._data.slice(1395,1395+653)},hr.prototype._getString32=function(xr){return this._getString(xr,32)},hr}(Ds),Hd=function(wr){function hr(vr){if(wr.call(this,vr),this.type()!==1)throw new gr(mr.EIO,"Invalid primary volume descriptor.")}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.prototype.name=function(){return"ISO9660"},hr.prototype._constructRootDirectoryRecord=function(xr){return new Jl(xr,-1)},hr.prototype._getString=function(xr,Sr){return this._getString(xr,Sr)},hr}(Xl),Wd=function(wr){function hr(vr){if(wr.call(this,vr),this.type()!==2)throw new gr(mr.EIO,"Invalid supplementary volume descriptor.");var xr=this.escapeSequence(),Sr=xr[2];if(xr[0]!==37||xr[1]!==47||Sr!==64&&Sr!==67&&Sr!==69)throw new gr(mr.EIO,"Unrecognized escape sequence for SupplementaryVolumeDescriptor: "+xr.toString())}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.prototype.name=function(){return"Joliet"},hr.prototype.escapeSequence=function(){return this._data.slice(88,120)},hr.prototype._constructRootDirectoryRecord=function(xr){return new Zl(xr,-1)},hr.prototype._getString=function(xr,Sr){return Lu(this._data,xr,Sr)},hr}(Xl),da=function(hr,vr){this._suEntries=null,this._fileOrDir=null,this._data=hr,this._rockRidgeOffset=vr};da.prototype.hasRockRidge=function(){return this._rockRidgeOffset>-1},da.prototype.getRockRidgeOffset=function(){return this._rockRidgeOffset},da.prototype.rootCheckForRockRidge=function(hr){var vr=this.getDirectory(hr);this._rockRidgeOffset=vr.getDotEntry(hr)._getRockRidgeOffset(hr),this._rockRidgeOffset>-1&&(this._fileOrDir=null)},da.prototype.length=function(){return this._data[0]},da.prototype.extendedAttributeRecordLength=function(){return this._data[1]},da.prototype.lba=function(){return this._data.readUInt32LE(2)*2048},da.prototype.dataLength=function(){return this._data.readUInt32LE(10)},da.prototype.recordingDate=function(){return ss(this._data,18)},da.prototype.fileFlags=function(){return this._data[25]},da.prototype.fileUnitSize=function(){return this._data[26]},da.prototype.interleaveGapSize=function(){return this._data[27]},da.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(28)},da.prototype.identifier=function(){return this._getString(33,this._data[32])},da.prototype.fileName=function(hr){if(this.hasRockRidge()){var vr=this._rockRidgeFilename(hr);if(vr!==null)return vr}var xr=this.identifier();if(this.isDirectory(hr))return xr;var Sr=xr.indexOf(";");return Sr===-1?xr:xr[Sr-1]==="."?xr.slice(0,Sr-1):xr.slice(0,Sr)},da.prototype.isDirectory=function(hr){var vr=!!(this.fileFlags()&2);return!vr&&this.hasRockRidge()&&(vr=this.getSUEntries(hr).filter(function(xr){return xr instanceof Vu}).length>0),vr},da.prototype.isSymlink=function(hr){return this.hasRockRidge()&&this.getSUEntries(hr).filter(function(vr){return vr instanceof Mu}).length>0},da.prototype.getSymlinkPath=function(hr){for(var vr="",xr=this.getSUEntries(hr),Sr=this._getGetString(),Cr=0,Tr=xr;Cr<Tr.length;Cr+=1){var Br=Tr[Cr];if(Br instanceof Mu){for(var zr=Br.componentRecords(),Qr=0,li=zr;Qr<li.length;Qr+=1){var gi=li[Qr],Ii=gi.flags();Ii&2?vr+="./":Ii&4?vr+="../":Ii&8?vr+="/":(vr+=gi.content(Sr),Ii&1||(vr+="/"))}if(!Br.continueFlag())break}}return vr.length>1&&vr[vr.length-1]==="/"?vr.slice(0,vr.length-1):vr},da.prototype.getFile=function(hr){if(this.isDirectory(hr))throw new Error("Tried to get a File from a directory.");return this._fileOrDir===null&&(this._fileOrDir=hr.slice(this.lba(),this.lba()+this.dataLength())),this._fileOrDir},da.prototype.getDirectory=function(hr){if(!this.isDirectory(hr))throw new Error("Tried to get a Directory from a file.");return this._fileOrDir===null&&(this._fileOrDir=this._constructDirectory(hr)),this._fileOrDir},da.prototype.getSUEntries=function(hr){return this._suEntries||this._constructSUEntries(hr),this._suEntries},da.prototype._rockRidgeFilename=function(hr){var vr=this.getSUEntries(hr).filter(function(zr){return zr instanceof sf});if(vr.length===0||vr[0].flags()&6)return null;for(var xr="",Sr=this._getGetString(),Cr=0,Tr=vr;Cr<Tr.length;Cr+=1){var Br=Tr[Cr];if(xr+=Br.name(Sr),!(Br.flags()&1))break}return xr},da.prototype._constructSUEntries=function(hr){var vr=33+this._data[32];vr%2===1&&vr++,vr+=this._rockRidgeOffset,this._suEntries=Ql(this._data,vr,this.length(),hr)},da.prototype._getRockRidgeOffset=function(hr){this._rockRidgeOffset=0;var vr=this.getSUEntries(hr);if(vr.length>0){var xr=vr[0];if(xr instanceof tf&&xr.checkBytesPass())for(var Sr=1;Sr<vr.length;Sr++){var Cr=vr[Sr];if(Cr instanceof af||Cr instanceof nf&&Cr.extensionIdentifier()===jd)return xr.bytesSkipped()}}return this._rockRidgeOffset=-1,-1};var Jl=function(wr){function hr(vr,xr){wr.call(this,vr,xr)}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.prototype._getString=function(xr,Sr){return Ka(this._data,xr,Sr)},hr.prototype._constructDirectory=function(xr){return new Xd(this,xr)},hr.prototype._getGetString=function(){return Ka},hr}(da),Zl=function(wr){function hr(vr,xr){wr.call(this,vr,xr)}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.prototype._getString=function(xr,Sr){return Lu(this._data,xr,Sr)},hr.prototype._constructDirectory=function(xr){return new Jd(this,xr)},hr.prototype._getGetString=function(){return Lu},hr}(da),Ca=function(hr){this._data=hr};Ca.prototype.signatureWord=function(){return this._data.readUInt16BE(0)},Ca.prototype.signatureWordString=function(){return Ka(this._data,0,2)},Ca.prototype.length=function(){return this._data[2]},Ca.prototype.suVersion=function(){return this._data[3]};var ef=function(wr){function hr(vr){wr.call(this,vr),this._entries=null}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.prototype.continuationLba=function(){return this._data.readUInt32LE(4)},hr.prototype.continuationLbaOffset=function(){return this._data.readUInt32LE(12)},hr.prototype.continuationLength=function(){return this._data.readUInt32LE(20)},hr.prototype.getEntries=function(xr){if(!this._entries){var Sr=this.continuationLba()*2048+this.continuationLbaOffset();this._entries=Ql(xr,Sr,this.continuationLength(),xr)}return this._entries},hr}(Ca),Kd=function(wr){function hr(vr){wr.call(this,vr)}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr}(Ca),tf=function(wr){function hr(vr){wr.call(this,vr)}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.prototype.checkBytesPass=function(){return this._data[4]===190&&this._data[5]===239},hr.prototype.bytesSkipped=function(){return this._data[6]},hr}(Ca),rf=function(wr){function hr(vr){wr.call(this,vr)}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr}(Ca),nf=function(wr){function hr(vr){wr.call(this,vr)}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.prototype.identifierLength=function(){return this._data[4]},hr.prototype.descriptorLength=function(){return this._data[5]},hr.prototype.sourceLength=function(){return this._data[6]},hr.prototype.extensionVersion=function(){return this._data[7]},hr.prototype.extensionIdentifier=function(){return Ka(this._data,8,this.identifierLength())},hr.prototype.extensionDescriptor=function(){return Ka(this._data,8+this.identifierLength(),this.descriptorLength())},hr.prototype.extensionSource=function(){return Ka(this._data,8+this.identifierLength()+this.descriptorLength(),this.sourceLength())},hr}(Ca),Yd=function(wr){function hr(vr){wr.call(this,vr)}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.prototype.extensionSequence=function(){return this._data[4]},hr}(Ca),af=function(wr){function hr(vr){wr.call(this,vr)}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr}(Ca),of=function(wr){function hr(vr){wr.call(this,vr)}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.prototype.mode=function(){return this._data.readUInt32LE(4)},hr.prototype.fileLinks=function(){return this._data.readUInt32LE(12)},hr.prototype.uid=function(){return this._data.readUInt32LE(20)},hr.prototype.gid=function(){return this._data.readUInt32LE(28)},hr.prototype.inode=function(){return this._data.readUInt32LE(36)},hr}(Ca),Gd=function(wr){function hr(vr){wr.call(this,vr)}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.prototype.devTHigh=function(){return this._data.readUInt32LE(4)},hr.prototype.devTLow=function(){return this._data.readUInt32LE(12)},hr}(Ca),Mu=function(wr){function hr(vr){wr.call(this,vr)}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.prototype.flags=function(){return this._data[4]},hr.prototype.continueFlag=function(){return this.flags()&1},hr.prototype.componentRecords=function(){for(var xr=this,Sr=new Array,Cr=5;Cr<this.length();){var Tr=new b0(xr._data.slice(Cr));Sr.push(Tr),Cr+=Tr.length()}return Sr},hr}(Ca),b0=function(hr){this._data=hr};b0.prototype.flags=function(){return this._data[0]},b0.prototype.length=function(){return 2+this.componentLength()},b0.prototype.componentLength=function(){return this._data[1]},b0.prototype.content=function(hr){return hr(this._data,2,this.componentLength())};var sf=function(wr){function hr(vr){wr.call(this,vr)}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.prototype.flags=function(){return this._data[4]},hr.prototype.name=function(xr){return xr(this._data,5,this.length()-5)},hr}(Ca),Vu=function(wr){function hr(vr){wr.call(this,vr)}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.prototype.childDirectoryLba=function(){return this._data.readUInt32LE(4)},hr}(Ca),$d=function(wr){function hr(vr){wr.call(this,vr)}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.prototype.parentDirectoryLba=function(){return this._data.readUInt32LE(4)},hr}(Ca),cf=function(wr){function hr(vr){wr.call(this,vr)}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr}(Ca),uf=function(wr){function hr(vr){wr.call(this,vr)}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.prototype.flags=function(){return this._data[4]},hr.prototype.creation=function(){return this.flags()&1?this._longFormDates()?yo(this._data,5):ss(this._data,5):null},hr.prototype.modify=function(){if(this.flags()&2){var xr=this.flags()&1?1:0;return this._longFormDates?yo(this._data,5+xr*17):ss(this._data,5+xr*7)}else return null},hr.prototype.access=function(){if(this.flags()&4){var xr=this.flags()&1?1:0;return xr+=this.flags()&2?1:0,this._longFormDates?yo(this._data,5+xr*17):ss(this._data,5+xr*7)}else return null},hr.prototype.backup=function(){if(this.flags()&16){var xr=this.flags()&1?1:0;return xr+=this.flags()&2?1:0,xr+=this.flags()&4?1:0,this._longFormDates?yo(this._data,5+xr*17):ss(this._data,5+xr*7)}else return null},hr.prototype.expiration=function(){if(this.flags()&32){var xr=this.flags()&1?1:0;return xr+=this.flags()&2?1:0,xr+=this.flags()&4?1:0,xr+=this.flags()&16?1:0,this._longFormDates?yo(this._data,5+xr*17):ss(this._data,5+xr*7)}else return null},hr.prototype.effective=function(){if(this.flags()&64){var xr=this.flags()&1?1:0;return xr+=this.flags()&2?1:0,xr+=this.flags()&4?1:0,xr+=this.flags()&16?1:0,xr+=this.flags()&32?1:0,this._longFormDates?yo(this._data,5+xr*17):ss(this._data,5+xr*7)}else return null},hr.prototype._longFormDates=function(){return!!this.flags()},hr}(Ca),Qd=function(wr){function hr(vr){wr.call(this,vr)}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.prototype.virtualSizeHigh=function(){return this._data.readUInt32LE(4)},hr.prototype.virtualSizeLow=function(){return this._data.readUInt32LE(12)},hr.prototype.tableDepth=function(){return this._data[20]},hr}(Ca),E0=function(hr,vr){var xr=this;this._fileList=[],this._fileMap={},this._record=hr;var Sr=hr.lba(),Cr=Sr+hr.dataLength();if(!(hr.fileFlags()&2)){var Tr=hr.getSUEntries(vr).filter(function(li){return li instanceof Vu})[0];Sr=Tr.childDirectoryLba()*2048,Cr=1/0}for(;Sr<Cr;){var Br=vr[Sr];if(Br===0){Sr++;continue}var zr=xr._constructDirectoryRecord(vr.slice(Sr)),Qr=zr.fileName(vr);Qr!=="\0"&&Qr!==""?(!zr.hasRockRidge()||zr.getSUEntries(vr).filter(function(li){return li instanceof cf}).length===0)&&(xr._fileMap[Qr]=zr,xr._fileList.push(Qr)):Cr===1/0&&(Cr=Sr+zr.dataLength()),Sr+=zr.length()}};E0.prototype.getRecord=function(hr){return this._fileMap[hr]},E0.prototype.getFileList=function(){return this._fileList},E0.prototype.getDotEntry=function(hr){return this._constructDirectoryRecord(hr.slice(this._record.lba()))};var Xd=function(wr){function hr(vr,xr){wr.call(this,vr,xr)}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.prototype._constructDirectoryRecord=function(xr){return new Jl(xr,this._record.getRockRidgeOffset())},hr}(E0),Jd=function(wr){function hr(vr,xr){wr.call(this,vr,xr)}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.prototype._constructDirectoryRecord=function(xr){return new Zl(xr,this._record.getRockRidgeOffset())},hr}(E0),gc=function(wr){function hr(vr,xr,Sr){var Cr=this;xr===void 0&&(xr=""),Sr===void 0&&(Sr=!0),wr.call(this),this._data=vr,Ei(Sr,hr.Name,{data:"ISO data as a Buffer",name:xr});for(var Tr=!1,Br=16*2048,zr=new Array;!Tr;){var Qr=vr.slice(Br),li=new Ds(Qr);switch(li.type()){case 1:zr.push(new Hd(Qr));break;case 2:zr.push(new Wd(Qr));break;case 255:Tr=!0;break}Br+=2048}if(zr.length===0)throw new gr(mr.EIO,"Unable to find a suitable volume descriptor.");zr.forEach(function(gi){(!Cr._pvd||Cr._pvd.type()!==2)&&(Cr._pvd=gi)}),this._root=this._pvd.rootDirectoryEntry(vr),this._name=xr}return wr&&(hr.__proto__=wr),hr.prototype=Object.create(wr&&wr.prototype),hr.prototype.constructor=hr,hr.Create=function(xr,Sr){var Cr,Tr;try{Cr=new hr(xr.data,xr.name,!1)}catch(Br){Br=Br}finally{Sr(Tr,Cr)}},hr.isAvailable=function(){return!0},hr.prototype.getName=function(){var xr="IsoFS"+this._name+(this._pvd?"-"+this._pvd.name():"");return this._root&&this._root.hasRockRidge()&&(xr+="-RockRidge"),xr},hr.prototype.diskSpace=function(xr,Sr){Sr(this._data.length,0)},hr.prototype.isReadOnly=function(){return!0},hr.prototype.supportsLinks=function(){return!1},hr.prototype.supportsProps=function(){return!1},hr.prototype.supportsSynch=function(){return!0},hr.prototype.statSync=function(xr,Sr){var Cr=this._getDirectoryRecord(xr);if(Cr===null)throw gr.ENOENT(xr);return this._getStats(xr,Cr)},hr.prototype.openSync=function(xr,Sr,Cr){if(Sr.isWriteable())throw new gr(mr.EPERM,xr);var Tr=this._getDirectoryRecord(xr);if(Tr){if(Tr.isSymlink(this._data))return this.openSync(yr.resolve(xr,Tr.getSymlinkPath(this._data)),Sr,Cr);if(Tr.isDirectory(this._data))throw gr.EISDIR(xr);var Br=Tr.getFile(this._data),zr=this._getStats(xr,Tr);switch(Sr.pathExistsAction()){case Ar.THROW_EXCEPTION:case Ar.TRUNCATE_FILE:throw gr.EEXIST(xr);case Ar.NOP:return new xi(this,xr,Sr,zr,Br);default:throw new gr(mr.EINVAL,"Invalid FileMode object.")}}else throw gr.ENOENT(xr)},hr.prototype.readdirSync=function(xr){var Sr=this._getDirectoryRecord(xr);if(Sr){if(Sr.isDirectory(this._data))return Sr.getDirectory(this._data).getFileList().slice(0);throw gr.ENOTDIR(xr)}else throw gr.ENOENT(xr)},hr.prototype.readFileSync=function(xr,Sr,Cr){var Tr=this.openSync(xr,Cr,420);try{var Br=Tr,zr=Br.getBuffer();return Sr===null?qi(zr):zr.toString(Sr)}finally{Tr.closeSync()}},hr.prototype._getDirectoryRecord=function(xr){var Sr=this;if(xr==="/")return this._root;for(var Cr=xr.split("/").slice(1),Tr=this._root,Br=0,zr=Cr;Br<zr.length;Br+=1){var Qr=zr[Br];if(Tr.isDirectory(Sr._data)){if(Tr=Tr.getDirectory(Sr._data).getRecord(Qr),!Tr)return null}else return null}return Tr},hr.prototype._getStats=function(xr,Sr){if(Sr.isSymlink(this._data)){var Cr=yr.resolve(xr,Sr.getSymlinkPath(this._data)),Tr=this._getDirectoryRecord(Cr);return Tr?this._getStats(Cr,Tr):null}else{var Br=Sr.dataLength(),zr=365,Qr=Sr.recordingDate(),li=Qr,gi=Qr,Ii=Qr;if(Sr.hasRockRidge())for(var Ni=Sr.getSUEntries(this._data),Li=0,Gi=Ni;Li<Gi.length;Li+=1){var Ji=Gi[Li];if(Ji instanceof of)zr=Ji.mode();else if(Ji instanceof uf){var ra=Ji.flags();ra&4&&(li=Ji.access()),ra&2&&(gi=Ji.modify()),ra&1&&(Ii=Ji.creation())}}return zr=zr&365,new Dr(Sr.isDirectory(this._data)?Or.DIRECTORY:Or.FILE,Br,zr,li,gi,Ii)}},hr}(yi);gc.Name="IsoFS",gc.Options={data:{type:"object",description:"The ISO file in a buffer",validator:ii}},[Kr,sc,cc,As,lc,Is,x0,gc,_0,Cs,g0,_c,vc,as].forEach(function(wr){var hr=wr.Create;wr.Create=function(vr,xr){var Sr=typeof vr=="function",Cr=Sr?vr:xr,Tr=Sr?{}:vr;function Br(zr){zr?Cr(zr):hr.call(wr,Tr,Cr)}oi(wr,Tr,Br)}});var yc={AsyncMirror:Kr,Dropbox:sc,Emscripten:cc,FolderAdapter:As,HTML5FS:lc,InMemory:Is,IndexedDB:x0,IsoFS:gc,LocalStorage:_0,MountableFileSystem:Cs,OverlayFS:g0,WorkerFS:_c,XmlHttpRequest:vc,ZipFS:as};br.initializeTTYs&&br.initializeTTYs();function Zd(wr){wr.Buffer=fr,wr.process=br;var hr=wr.require?wr.require:null;wr.require=function(vr){var xr=lf(vr);return xr||hr.apply(null,Array.prototype.slice.call(arguments,0))}}function ex(wr,hr){yc[wr]=hr}function lf(wr){switch(wr){case"fs":return Wr;case"path":return yr;case"buffer":return _r;case"process":return br;case"bfs_utils":return Si;default:return yc[wr]}}function ff(wr){return Wr.initialize(wr)}function tx(wr,hr){Uu(wr,function(vr,xr){xr?(ff(xr),hr()):hr(vr)})}function Uu(wr,hr){var vr=wr.fs;if(!vr)return hr(new gr(mr.EPERM,'Missing "fs" property on configuration object.'));var xr=wr.options,Sr=0,Cr=!1;function Tr(){if(!Cr){Cr=!0;var Qr=yc[vr];Qr?Qr.Create(xr,hr):hr(new gr(mr.EPERM,"File system "+vr+" is not available in BrowserFS."))}}if(xr!==null&&typeof xr=="object"){var Br=!1,zr=Object.keys(xr).filter(function(Qr){return Qr!=="fs"});zr.forEach(function(Qr){var li=xr[Qr];li!==null&&typeof li=="object"&&li.fs&&(Sr++,Uu(li,function(gi,Ii){if(Sr--,gi){if(Cr)return;Cr=!0,hr(gi)}else xr[Qr]=Ii,Sr===0&&Br&&Tr()}))}),Br=!0}Sr===0&&Tr()}"ab".substr(-1)!=="b"&&(String.prototype.substr=function(wr){return function(hr,vr){return hr<0&&(hr=this.length+hr),wr.call(this,hr,vr)}}(String.prototype.substr)),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&(Uint8Array.prototype.slice||(Uint8Array.prototype.slice=function(wr,hr){wr===void 0&&(wr=0),hr===void 0&&(hr=this.length);var vr=this;return wr<0&&(wr=this.length+wr,wr<0&&(wr=0)),hr<0&&(hr=this.length+hr,hr<0&&(hr=0)),hr<wr&&(hr=wr),new Uint8Array(vr.buffer,vr.byteOffset+wr,hr-wr)})),or.install=Zd,or.registerFileSystem=ex,or.BFSRequire=lf,or.initialize=ff,or.configure=tx,or.getFileSystem=Uu,or.EmscriptenFS=Vr,or.FileSystem=yc,or.Errors=Ir,or.setImmediate=qu}).call(or,ur(1),function(){return this}(),ur(5)(ar),ur(6))},function(ar,or,ur){ar.exports=ur(2).Buffer},function(ar,or,ur){(function(mr){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
* @license  MIT
*/var dr=ur(3),pr=ur(4);or.Buffer=mr,or.SlowBuffer=Nr,or.INSPECT_MAX_BYTES=50;var br=2147483647;or.kMaxLength=br,mr.TYPED_ARRAY_SUPPORT=_r(),!mr.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function _r(){try{var Kr=new Uint8Array(1);return Kr.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},Kr.foo()===42}catch{return!1}}function yr(Kr){if(Kr>br)throw new RangeError("Invalid typed array length");var Pr=new Uint8Array(Kr);return Pr.__proto__=mr.prototype,Pr}function mr(Kr,Pr,qr){if(typeof Kr=="number"){if(typeof Pr=="string")throw new Error("If encoding is specified then the first argument must be a string");return Ar(Kr)}return Er(Kr,Pr,qr)}typeof Symbol<"u"&&Symbol.species&&mr[Symbol.species]===mr&&Object.defineProperty(mr,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),mr.poolSize=8192;function Er(Kr,Pr,qr){if(typeof Kr=="number")throw new TypeError('"value" argument must not be a number');return ri(Kr)?Dr(Kr,Pr,qr):typeof Kr=="string"?kr(Kr,Pr):Rr(Kr)}mr.from=function(Kr,Pr,qr){return Er(Kr,Pr,qr)},mr.prototype.__proto__=Uint8Array.prototype,mr.__proto__=Uint8Array;function gr(Kr){if(typeof Kr!="number")throw new TypeError('"size" argument must be a number');if(Kr<0)throw new RangeError('"size" argument must not be negative')}function Ir(Kr,Pr,qr){return gr(Kr),Kr<=0?yr(Kr):Pr!==void 0?typeof qr=="string"?yr(Kr).fill(Pr,qr):yr(Kr).fill(Pr):yr(Kr)}mr.alloc=function(Kr,Pr,qr){return Ir(Kr,Pr,qr)};function Ar(Kr){return gr(Kr),yr(Kr<0?0:Fr(Kr)|0)}mr.allocUnsafe=function(Kr){return Ar(Kr)},mr.allocUnsafeSlow=function(Kr){return Ar(Kr)};function kr(Kr,Pr){if((typeof Pr!="string"||Pr==="")&&(Pr="utf8"),!mr.isEncoding(Pr))throw new TypeError('"encoding" must be a valid string encoding');var qr=Hr(Kr,Pr)|0,Xr=yr(qr),ai=Xr.write(Kr,Pr);return ai!==qr&&(Xr=Xr.slice(0,ai)),Xr}function Or(Kr){for(var Pr=Kr.length<0?0:Fr(Kr.length)|0,qr=yr(Pr),Xr=0;Xr<Pr;Xr+=1)qr[Xr]=Kr[Xr]&255;return qr}function Dr(Kr,Pr,qr){if(Pr<0||Kr.byteLength<Pr)throw new RangeError("'offset' is out of bounds");if(Kr.byteLength<Pr+(qr||0))throw new RangeError("'length' is out of bounds");var Xr;return Pr===void 0&&qr===void 0?Xr=new Uint8Array(Kr):qr===void 0?Xr=new Uint8Array(Kr,Pr):Xr=new Uint8Array(Kr,Pr,qr),Xr.__proto__=mr.prototype,Xr}function Rr(Kr){if(mr.isBuffer(Kr)){var Pr=Fr(Kr.length)|0,qr=yr(Pr);return qr.length===0||Kr.copy(qr,0,0,Pr),qr}if(Kr){if(xi(Kr)||"length"in Kr)return typeof Kr.length!="number"||Ai(Kr.length)?yr(0):Or(Kr);if(Kr.type==="Buffer"&&Array.isArray(Kr.data))return Or(Kr.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function Fr(Kr){if(Kr>=br)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+br.toString(16)+" bytes");return Kr|0}function Nr(Kr){return+Kr!=Kr&&(Kr=0),mr.alloc(+Kr)}mr.isBuffer=function(Pr){return Pr!=null&&Pr._isBuffer===!0},mr.compare=function(Pr,qr){if(!mr.isBuffer(Pr)||!mr.isBuffer(qr))throw new TypeError("Arguments must be Buffers");if(Pr===qr)return 0;for(var Xr=Pr.length,ai=qr.length,fi=0,vi=Math.min(Xr,ai);fi<vi;++fi)if(Pr[fi]!==qr[fi]){Xr=Pr[fi],ai=qr[fi];break}return Xr<ai?-1:ai<Xr?1:0},mr.isEncoding=function(Pr){switch(String(Pr).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},mr.concat=function(Pr,qr){if(!Array.isArray(Pr))throw new TypeError('"list" argument must be an Array of Buffers');if(Pr.length===0)return mr.alloc(0);var Xr;if(qr===void 0)for(qr=0,Xr=0;Xr<Pr.length;++Xr)qr+=Pr[Xr].length;var ai=mr.allocUnsafe(qr),fi=0;for(Xr=0;Xr<Pr.length;++Xr){var vi=Pr[Xr];if(!mr.isBuffer(vi))throw new TypeError('"list" argument must be an Array of Buffers');vi.copy(ai,fi),fi+=vi.length}return ai};function Hr(Kr,Pr){if(mr.isBuffer(Kr))return Kr.length;if(xi(Kr)||ri(Kr))return Kr.byteLength;typeof Kr!="string"&&(Kr=""+Kr);var qr=Kr.length;if(qr===0)return 0;for(var Xr=!1;;)switch(Pr){case"ascii":case"latin1":case"binary":return qr;case"utf8":case"utf-8":case void 0:return Mi(Kr).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return qr*2;case"hex":return qr>>>1;case"base64":return yi(Kr).length;default:if(Xr)return Mi(Kr).length;Pr=(""+Pr).toLowerCase(),Xr=!0}}mr.byteLength=Hr;function Ur(Kr,Pr,qr){var Xr=!1;if((Pr===void 0||Pr<0)&&(Pr=0),Pr>this.length||((qr===void 0||qr>this.length)&&(qr=this.length),qr<=0)||(qr>>>=0,Pr>>>=0,qr<=Pr))return"";for(Kr||(Kr="utf8");;)switch(Kr){case"hex":return pi(this,Pr,qr);case"utf8":case"utf-8":return Fi(this,Pr,qr);case"ascii":return $r(this,Pr,qr);case"latin1":case"binary":return ei(this,Pr,qr);case"base64":return _i(this,Pr,qr);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ui(this,Pr,qr);default:if(Xr)throw new TypeError("Unknown encoding: "+Kr);Kr=(Kr+"").toLowerCase(),Xr=!0}}mr.prototype._isBuffer=!0;function Zr(Kr,Pr,qr){var Xr=Kr[Pr];Kr[Pr]=Kr[qr],Kr[qr]=Xr}mr.prototype.swap16=function(){var Pr=this.length;if(Pr%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var qr=0;qr<Pr;qr+=2)Zr(this,qr,qr+1);return this},mr.prototype.swap32=function(){var Pr=this.length;if(Pr%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var qr=0;qr<Pr;qr+=4)Zr(this,qr,qr+3),Zr(this,qr+1,qr+2);return this},mr.prototype.swap64=function(){var Pr=this.length;if(Pr%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var qr=0;qr<Pr;qr+=8)Zr(this,qr,qr+7),Zr(this,qr+1,qr+6),Zr(this,qr+2,qr+5),Zr(this,qr+3,qr+4);return this},mr.prototype.toString=function(){var Pr=this.length;return Pr===0?"":arguments.length===0?Fi(this,0,Pr):Ur.apply(this,arguments)},mr.prototype.equals=function(Pr){if(!mr.isBuffer(Pr))throw new TypeError("Argument must be a Buffer");return this===Pr?!0:mr.compare(this,Pr)===0},mr.prototype.inspect=function(){var Pr="",qr=or.INSPECT_MAX_BYTES;return this.length>0&&(Pr=this.toString("hex",0,qr).match(/.{2}/g).join(" "),this.length>qr&&(Pr+=" ... ")),"<Buffer "+Pr+">"},mr.prototype.compare=function(Pr,qr,Xr,ai,fi){if(!mr.isBuffer(Pr))throw new TypeError("Argument must be a Buffer");if(qr===void 0&&(qr=0),Xr===void 0&&(Xr=Pr?Pr.length:0),ai===void 0&&(ai=0),fi===void 0&&(fi=this.length),qr<0||Xr>Pr.length||ai<0||fi>this.length)throw new RangeError("out of range index");if(ai>=fi&&qr>=Xr)return 0;if(ai>=fi)return-1;if(qr>=Xr)return 1;if(qr>>>=0,Xr>>>=0,ai>>>=0,fi>>>=0,this===Pr)return 0;for(var vi=fi-ai,Ri=Xr-qr,$i=Math.min(vi,Ri),Xi=this.slice(ai,fi),ji=Pr.slice(qr,Xr),Bi=0;Bi<$i;++Bi)if(Xi[Bi]!==ji[Bi]){vi=Xi[Bi],Ri=ji[Bi];break}return vi<Ri?-1:Ri<vi?1:0};function Gr(Kr,Pr,qr,Xr,ai){if(Kr.length===0)return-1;if(typeof qr=="string"?(Xr=qr,qr=0):qr>2147483647?qr=2147483647:qr<-2147483648&&(qr=-2147483648),qr=+qr,Ai(qr)&&(qr=ai?0:Kr.length-1),qr<0&&(qr=Kr.length+qr),qr>=Kr.length){if(ai)return-1;qr=Kr.length-1}else if(qr<0)if(ai)qr=0;else return-1;if(typeof Pr=="string"&&(Pr=mr.from(Pr,Xr)),mr.isBuffer(Pr))return Pr.length===0?-1:jr(Kr,Pr,qr,Xr,ai);if(typeof Pr=="number")return Pr=Pr&255,typeof Uint8Array.prototype.indexOf=="function"?ai?Uint8Array.prototype.indexOf.call(Kr,Pr,qr):Uint8Array.prototype.lastIndexOf.call(Kr,Pr,qr):jr(Kr,[Pr],qr,Xr,ai);throw new TypeError("val must be string, number or Buffer")}function jr(Kr,Pr,qr,Xr,ai){var fi=1,vi=Kr.length,Ri=Pr.length;if(Xr!==void 0&&(Xr=String(Xr).toLowerCase(),Xr==="ucs2"||Xr==="ucs-2"||Xr==="utf16le"||Xr==="utf-16le")){if(Kr.length<2||Pr.length<2)return-1;fi=2,vi/=2,Ri/=2,qr/=2}function $i(Aa,Da){return fi===1?Aa[Da]:Aa.readUInt16BE(Da*fi)}var Xi;if(ai){var ji=-1;for(Xi=qr;Xi<vi;Xi++)if($i(Kr,Xi)===$i(Pr,ji===-1?0:Xi-ji)){if(ji===-1&&(ji=Xi),Xi-ji+1===Ri)return ji*fi}else ji!==-1&&(Xi-=Xi-ji),ji=-1}else for(qr+Ri>vi&&(qr=vi-Ri),Xi=qr;Xi>=0;Xi--){for(var Bi=!0,Zi=0;Zi<Ri;Zi++)if($i(Kr,Xi+Zi)!==$i(Pr,Zi)){Bi=!1;break}if(Bi)return Xi}return-1}mr.prototype.includes=function(Pr,qr,Xr){return this.indexOf(Pr,qr,Xr)!==-1},mr.prototype.indexOf=function(Pr,qr,Xr){return Gr(this,Pr,qr,Xr,!0)},mr.prototype.lastIndexOf=function(Pr,qr,Xr){return Gr(this,Pr,qr,Xr,!1)};function Jr(Kr,Pr,qr,Xr){qr=Number(qr)||0;var ai=Kr.length-qr;Xr?(Xr=Number(Xr),Xr>ai&&(Xr=ai)):Xr=ai;var fi=Pr.length;if(fi%2!==0)throw new TypeError("Invalid hex string");Xr>fi/2&&(Xr=fi/2);for(var vi=0;vi<Xr;++vi){var Ri=parseInt(Pr.substr(vi*2,2),16);if(Ai(Ri))return vi;Kr[qr+vi]=Ri}return vi}function Wr(Kr,Pr,qr,Xr){return ti(Mi(Pr,Kr.length-qr),Kr,qr,Xr)}function ni(Kr,Pr,qr,Xr){return ti(Vr(Pr),Kr,qr,Xr)}function Mr(Kr,Pr,qr,Xr){return ni(Kr,Pr,qr,Xr)}function di(Kr,Pr,qr,Xr){return ti(yi(Pr),Kr,qr,Xr)}function Ei(Kr,Pr,qr,Xr){return ti(hi(Pr,Kr.length-qr),Kr,qr,Xr)}mr.prototype.write=function(Pr,qr,Xr,ai){if(qr===void 0)ai="utf8",Xr=this.length,qr=0;else if(Xr===void 0&&typeof qr=="string")ai=qr,Xr=this.length,qr=0;else if(isFinite(qr))qr=qr>>>0,isFinite(Xr)?(Xr=Xr>>>0,ai===void 0&&(ai="utf8")):(ai=Xr,Xr=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var fi=this.length-qr;if((Xr===void 0||Xr>fi)&&(Xr=fi),Pr.length>0&&(Xr<0||qr<0)||qr>this.length)throw new RangeError("Attempt to write outside buffer bounds");ai||(ai="utf8");for(var vi=!1;;)switch(ai){case"hex":return Jr(this,Pr,qr,Xr);case"utf8":case"utf-8":return Wr(this,Pr,qr,Xr);case"ascii":return ni(this,Pr,qr,Xr);case"latin1":case"binary":return Mr(this,Pr,qr,Xr);case"base64":return di(this,Pr,qr,Xr);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ei(this,Pr,qr,Xr);default:if(vi)throw new TypeError("Unknown encoding: "+ai);ai=(""+ai).toLowerCase(),vi=!0}},mr.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function _i(Kr,Pr,qr){return Pr===0&&qr===Kr.length?dr.fromByteArray(Kr):dr.fromByteArray(Kr.slice(Pr,qr))}function Fi(Kr,Pr,qr){qr=Math.min(Kr.length,qr);for(var Xr=[],ai=Pr;ai<qr;){var fi=Kr[ai],vi=null,Ri=fi>239?4:fi>223?3:fi>191?2:1;if(ai+Ri<=qr){var $i,Xi,ji,Bi;switch(Ri){case 1:fi<128&&(vi=fi);break;case 2:$i=Kr[ai+1],($i&192)===128&&(Bi=(fi&31)<<6|$i&63,Bi>127&&(vi=Bi));break;case 3:$i=Kr[ai+1],Xi=Kr[ai+2],($i&192)===128&&(Xi&192)===128&&(Bi=(fi&15)<<12|($i&63)<<6|Xi&63,Bi>2047&&(Bi<55296||Bi>57343)&&(vi=Bi));break;case 4:$i=Kr[ai+1],Xi=Kr[ai+2],ji=Kr[ai+3],($i&192)===128&&(Xi&192)===128&&(ji&192)===128&&(Bi=(fi&15)<<18|($i&63)<<12|(Xi&63)<<6|ji&63,Bi>65535&&Bi<1114112&&(vi=Bi))}}vi===null?(vi=65533,Ri=1):vi>65535&&(vi-=65536,Xr.push(vi>>>10&1023|55296),vi=56320|vi&1023),Xr.push(vi),ai+=Ri}return ci(Xr)}var si=4096;function ci(Kr){var Pr=Kr.length;if(Pr<=si)return String.fromCharCode.apply(String,Kr);for(var qr="",Xr=0;Xr<Pr;)qr+=String.fromCharCode.apply(String,Kr.slice(Xr,Xr+=si));return qr}function $r(Kr,Pr,qr){var Xr="";qr=Math.min(Kr.length,qr);for(var ai=Pr;ai<qr;++ai)Xr+=String.fromCharCode(Kr[ai]&127);return Xr}function ei(Kr,Pr,qr){var Xr="";qr=Math.min(Kr.length,qr);for(var ai=Pr;ai<qr;++ai)Xr+=String.fromCharCode(Kr[ai]);return Xr}function pi(Kr,Pr,qr){var Xr=Kr.length;(!Pr||Pr<0)&&(Pr=0),(!qr||qr<0||qr>Xr)&&(qr=Xr);for(var ai="",fi=Pr;fi<qr;++fi)ai+=Di(Kr[fi]);return ai}function ui(Kr,Pr,qr){for(var Xr=Kr.slice(Pr,qr),ai="",fi=0;fi<Xr.length;fi+=2)ai+=String.fromCharCode(Xr[fi]+Xr[fi+1]*256);return ai}mr.prototype.slice=function(Pr,qr){var Xr=this.length;Pr=~~Pr,qr=qr===void 0?Xr:~~qr,Pr<0?(Pr+=Xr,Pr<0&&(Pr=0)):Pr>Xr&&(Pr=Xr),qr<0?(qr+=Xr,qr<0&&(qr=0)):qr>Xr&&(qr=Xr),qr<Pr&&(qr=Pr);var ai=this.subarray(Pr,qr);return ai.__proto__=mr.prototype,ai};function bi(Kr,Pr,qr){if(Kr%1!==0||Kr<0)throw new RangeError("offset is not uint");if(Kr+Pr>qr)throw new RangeError("Trying to access beyond buffer length")}mr.prototype.readUIntLE=function(Pr,qr,Xr){Pr=Pr>>>0,qr=qr>>>0,Xr||bi(Pr,qr,this.length);for(var ai=this[Pr],fi=1,vi=0;++vi<qr&&(fi*=256);)ai+=this[Pr+vi]*fi;return ai},mr.prototype.readUIntBE=function(Pr,qr,Xr){Pr=Pr>>>0,qr=qr>>>0,Xr||bi(Pr,qr,this.length);for(var ai=this[Pr+--qr],fi=1;qr>0&&(fi*=256);)ai+=this[Pr+--qr]*fi;return ai},mr.prototype.readUInt8=function(Pr,qr){return Pr=Pr>>>0,qr||bi(Pr,1,this.length),this[Pr]},mr.prototype.readUInt16LE=function(Pr,qr){return Pr=Pr>>>0,qr||bi(Pr,2,this.length),this[Pr]|this[Pr+1]<<8},mr.prototype.readUInt16BE=function(Pr,qr){return Pr=Pr>>>0,qr||bi(Pr,2,this.length),this[Pr]<<8|this[Pr+1]},mr.prototype.readUInt32LE=function(Pr,qr){return Pr=Pr>>>0,qr||bi(Pr,4,this.length),(this[Pr]|this[Pr+1]<<8|this[Pr+2]<<16)+this[Pr+3]*16777216},mr.prototype.readUInt32BE=function(Pr,qr){return Pr=Pr>>>0,qr||bi(Pr,4,this.length),this[Pr]*16777216+(this[Pr+1]<<16|this[Pr+2]<<8|this[Pr+3])},mr.prototype.readIntLE=function(Pr,qr,Xr){Pr=Pr>>>0,qr=qr>>>0,Xr||bi(Pr,qr,this.length);for(var ai=this[Pr],fi=1,vi=0;++vi<qr&&(fi*=256);)ai+=this[Pr+vi]*fi;return fi*=128,ai>=fi&&(ai-=Math.pow(2,8*qr)),ai},mr.prototype.readIntBE=function(Pr,qr,Xr){Pr=Pr>>>0,qr=qr>>>0,Xr||bi(Pr,qr,this.length);for(var ai=qr,fi=1,vi=this[Pr+--ai];ai>0&&(fi*=256);)vi+=this[Pr+--ai]*fi;return fi*=128,vi>=fi&&(vi-=Math.pow(2,8*qr)),vi},mr.prototype.readInt8=function(Pr,qr){return Pr=Pr>>>0,qr||bi(Pr,1,this.length),this[Pr]&128?(255-this[Pr]+1)*-1:this[Pr]},mr.prototype.readInt16LE=function(Pr,qr){Pr=Pr>>>0,qr||bi(Pr,2,this.length);var Xr=this[Pr]|this[Pr+1]<<8;return Xr&32768?Xr|4294901760:Xr},mr.prototype.readInt16BE=function(Pr,qr){Pr=Pr>>>0,qr||bi(Pr,2,this.length);var Xr=this[Pr+1]|this[Pr]<<8;return Xr&32768?Xr|4294901760:Xr},mr.prototype.readInt32LE=function(Pr,qr){return Pr=Pr>>>0,qr||bi(Pr,4,this.length),this[Pr]|this[Pr+1]<<8|this[Pr+2]<<16|this[Pr+3]<<24},mr.prototype.readInt32BE=function(Pr,qr){return Pr=Pr>>>0,qr||bi(Pr,4,this.length),this[Pr]<<24|this[Pr+1]<<16|this[Pr+2]<<8|this[Pr+3]},mr.prototype.readFloatLE=function(Pr,qr){return Pr=Pr>>>0,qr||bi(Pr,4,this.length),pr.read(this,Pr,!0,23,4)},mr.prototype.readFloatBE=function(Pr,qr){return Pr=Pr>>>0,qr||bi(Pr,4,this.length),pr.read(this,Pr,!1,23,4)},mr.prototype.readDoubleLE=function(Pr,qr){return Pr=Pr>>>0,qr||bi(Pr,8,this.length),pr.read(this,Pr,!0,52,8)},mr.prototype.readDoubleBE=function(Pr,qr){return Pr=Pr>>>0,qr||bi(Pr,8,this.length),pr.read(this,Pr,!1,52,8)};function qi(Kr,Pr,qr,Xr,ai,fi){if(!mr.isBuffer(Kr))throw new TypeError('"buffer" argument must be a Buffer instance');if(Pr>ai||Pr<fi)throw new RangeError('"value" argument is out of bounds');if(qr+Xr>Kr.length)throw new RangeError("Index out of range")}mr.prototype.writeUIntLE=function(Pr,qr,Xr,ai){if(Pr=+Pr,qr=qr>>>0,Xr=Xr>>>0,!ai){var fi=Math.pow(2,8*Xr)-1;qi(this,Pr,qr,Xr,fi,0)}var vi=1,Ri=0;for(this[qr]=Pr&255;++Ri<Xr&&(vi*=256);)this[qr+Ri]=Pr/vi&255;return qr+Xr},mr.prototype.writeUIntBE=function(Pr,qr,Xr,ai){if(Pr=+Pr,qr=qr>>>0,Xr=Xr>>>0,!ai){var fi=Math.pow(2,8*Xr)-1;qi(this,Pr,qr,Xr,fi,0)}var vi=Xr-1,Ri=1;for(this[qr+vi]=Pr&255;--vi>=0&&(Ri*=256);)this[qr+vi]=Pr/Ri&255;return qr+Xr},mr.prototype.writeUInt8=function(Pr,qr,Xr){return Pr=+Pr,qr=qr>>>0,Xr||qi(this,Pr,qr,1,255,0),this[qr]=Pr&255,qr+1},mr.prototype.writeUInt16LE=function(Pr,qr,Xr){return Pr=+Pr,qr=qr>>>0,Xr||qi(this,Pr,qr,2,65535,0),this[qr]=Pr&255,this[qr+1]=Pr>>>8,qr+2},mr.prototype.writeUInt16BE=function(Pr,qr,Xr){return Pr=+Pr,qr=qr>>>0,Xr||qi(this,Pr,qr,2,65535,0),this[qr]=Pr>>>8,this[qr+1]=Pr&255,qr+2},mr.prototype.writeUInt32LE=function(Pr,qr,Xr){return Pr=+Pr,qr=qr>>>0,Xr||qi(this,Pr,qr,4,4294967295,0),this[qr+3]=Pr>>>24,this[qr+2]=Pr>>>16,this[qr+1]=Pr>>>8,this[qr]=Pr&255,qr+4},mr.prototype.writeUInt32BE=function(Pr,qr,Xr){return Pr=+Pr,qr=qr>>>0,Xr||qi(this,Pr,qr,4,4294967295,0),this[qr]=Pr>>>24,this[qr+1]=Pr>>>16,this[qr+2]=Pr>>>8,this[qr+3]=Pr&255,qr+4},mr.prototype.writeIntLE=function(Pr,qr,Xr,ai){if(Pr=+Pr,qr=qr>>>0,!ai){var fi=Math.pow(2,8*Xr-1);qi(this,Pr,qr,Xr,fi-1,-fi)}var vi=0,Ri=1,$i=0;for(this[qr]=Pr&255;++vi<Xr&&(Ri*=256);)Pr<0&&$i===0&&this[qr+vi-1]!==0&&($i=1),this[qr+vi]=(Pr/Ri>>0)-$i&255;return qr+Xr},mr.prototype.writeIntBE=function(Pr,qr,Xr,ai){if(Pr=+Pr,qr=qr>>>0,!ai){var fi=Math.pow(2,8*Xr-1);qi(this,Pr,qr,Xr,fi-1,-fi)}var vi=Xr-1,Ri=1,$i=0;for(this[qr+vi]=Pr&255;--vi>=0&&(Ri*=256);)Pr<0&&$i===0&&this[qr+vi+1]!==0&&($i=1),this[qr+vi]=(Pr/Ri>>0)-$i&255;return qr+Xr},mr.prototype.writeInt8=function(Pr,qr,Xr){return Pr=+Pr,qr=qr>>>0,Xr||qi(this,Pr,qr,1,127,-128),Pr<0&&(Pr=255+Pr+1),this[qr]=Pr&255,qr+1},mr.prototype.writeInt16LE=function(Pr,qr,Xr){return Pr=+Pr,qr=qr>>>0,Xr||qi(this,Pr,qr,2,32767,-32768),this[qr]=Pr&255,this[qr+1]=Pr>>>8,qr+2},mr.prototype.writeInt16BE=function(Pr,qr,Xr){return Pr=+Pr,qr=qr>>>0,Xr||qi(this,Pr,qr,2,32767,-32768),this[qr]=Pr>>>8,this[qr+1]=Pr&255,qr+2},mr.prototype.writeInt32LE=function(Pr,qr,Xr){return Pr=+Pr,qr=qr>>>0,Xr||qi(this,Pr,qr,4,2147483647,-2147483648),this[qr]=Pr&255,this[qr+1]=Pr>>>8,this[qr+2]=Pr>>>16,this[qr+3]=Pr>>>24,qr+4},mr.prototype.writeInt32BE=function(Pr,qr,Xr){return Pr=+Pr,qr=qr>>>0,Xr||qi(this,Pr,qr,4,2147483647,-2147483648),Pr<0&&(Pr=4294967295+Pr+1),this[qr]=Pr>>>24,this[qr+1]=Pr>>>16,this[qr+2]=Pr>>>8,this[qr+3]=Pr&255,qr+4};function Ki(Kr,Pr,qr,Xr,ai,fi){if(qr+Xr>Kr.length)throw new RangeError("Index out of range");if(qr<0)throw new RangeError("Index out of range")}function Ti(Kr,Pr,qr,Xr,ai){return Pr=+Pr,qr=qr>>>0,ai||Ki(Kr,Pr,qr,4),pr.write(Kr,Pr,qr,Xr,23,4),qr+4}mr.prototype.writeFloatLE=function(Pr,qr,Xr){return Ti(this,Pr,qr,!0,Xr)},mr.prototype.writeFloatBE=function(Pr,qr,Xr){return Ti(this,Pr,qr,!1,Xr)};function ii(Kr,Pr,qr,Xr,ai){return Pr=+Pr,qr=qr>>>0,ai||Ki(Kr,Pr,qr,8),pr.write(Kr,Pr,qr,Xr,52,8),qr+8}mr.prototype.writeDoubleLE=function(Pr,qr,Xr){return ii(this,Pr,qr,!0,Xr)},mr.prototype.writeDoubleBE=function(Pr,qr,Xr){return ii(this,Pr,qr,!1,Xr)},mr.prototype.copy=function(Pr,qr,Xr,ai){if(Xr||(Xr=0),!ai&&ai!==0&&(ai=this.length),qr>=Pr.length&&(qr=Pr.length),qr||(qr=0),ai>0&&ai<Xr&&(ai=Xr),ai===Xr||Pr.length===0||this.length===0)return 0;if(qr<0)throw new RangeError("targetStart out of bounds");if(Xr<0||Xr>=this.length)throw new RangeError("sourceStart out of bounds");if(ai<0)throw new RangeError("sourceEnd out of bounds");ai>this.length&&(ai=this.length),Pr.length-qr<ai-Xr&&(ai=Pr.length-qr+Xr);var fi=ai-Xr,vi;if(this===Pr&&Xr<qr&&qr<ai)for(vi=fi-1;vi>=0;--vi)Pr[vi+qr]=this[vi+Xr];else if(fi<1e3)for(vi=0;vi<fi;++vi)Pr[vi+qr]=this[vi+Xr];else Uint8Array.prototype.set.call(Pr,this.subarray(Xr,Xr+fi),qr);return fi},mr.prototype.fill=function(Pr,qr,Xr,ai){if(typeof Pr=="string"){if(typeof qr=="string"?(ai=qr,qr=0,Xr=this.length):typeof Xr=="string"&&(ai=Xr,Xr=this.length),Pr.length===1){var fi=Pr.charCodeAt(0);fi<256&&(Pr=fi)}if(ai!==void 0&&typeof ai!="string")throw new TypeError("encoding must be a string");if(typeof ai=="string"&&!mr.isEncoding(ai))throw new TypeError("Unknown encoding: "+ai)}else typeof Pr=="number"&&(Pr=Pr&255);if(qr<0||this.length<qr||this.length<Xr)throw new RangeError("Out of range index");if(Xr<=qr)return this;qr=qr>>>0,Xr=Xr===void 0?this.length:Xr>>>0,Pr||(Pr=0);var vi;if(typeof Pr=="number")for(vi=qr;vi<Xr;++vi)this[vi]=Pr;else{var Ri=mr.isBuffer(Pr)?Pr:new mr(Pr,ai),$i=Ri.length;for(vi=0;vi<Xr-qr;++vi)this[vi+qr]=Ri[vi%$i]}return this};var oi=/[^+/0-9A-Za-z-_]/g;function Si(Kr){if(Kr=Kr.trim().replace(oi,""),Kr.length<2)return"";for(;Kr.length%4!==0;)Kr=Kr+"=";return Kr}function Di(Kr){return Kr<16?"0"+Kr.toString(16):Kr.toString(16)}function Mi(Kr,Pr){Pr=Pr||1/0;for(var qr,Xr=Kr.length,ai=null,fi=[],vi=0;vi<Xr;++vi){if(qr=Kr.charCodeAt(vi),qr>55295&&qr<57344){if(!ai){if(qr>56319){(Pr-=3)>-1&&fi.push(239,191,189);continue}else if(vi+1===Xr){(Pr-=3)>-1&&fi.push(239,191,189);continue}ai=qr;continue}if(qr<56320){(Pr-=3)>-1&&fi.push(239,191,189),ai=qr;continue}qr=(ai-55296<<10|qr-56320)+65536}else ai&&(Pr-=3)>-1&&fi.push(239,191,189);if(ai=null,qr<128){if((Pr-=1)<0)break;fi.push(qr)}else if(qr<2048){if((Pr-=2)<0)break;fi.push(qr>>6|192,qr&63|128)}else if(qr<65536){if((Pr-=3)<0)break;fi.push(qr>>12|224,qr>>6&63|128,qr&63|128)}else if(qr<1114112){if((Pr-=4)<0)break;fi.push(qr>>18|240,qr>>12&63|128,qr>>6&63|128,qr&63|128)}else throw new Error("Invalid code point")}return fi}function Vr(Kr){for(var Pr=[],qr=0;qr<Kr.length;++qr)Pr.push(Kr.charCodeAt(qr)&255);return Pr}function hi(Kr,Pr){for(var qr,Xr,ai,fi=[],vi=0;vi<Kr.length&&!((Pr-=2)<0);++vi)qr=Kr.charCodeAt(vi),Xr=qr>>8,ai=qr%256,fi.push(ai),fi.push(Xr);return fi}function yi(Kr){return dr.toByteArray(Si(Kr))}function ti(Kr,Pr,qr,Xr){for(var ai=0;ai<Xr&&!(ai+qr>=Pr.length||ai>=Kr.length);++ai)Pr[ai+qr]=Kr[ai];return ai}function ri(Kr){return Kr instanceof ArrayBuffer||Kr!=null&&Kr.constructor!=null&&Kr.constructor.name==="ArrayBuffer"&&typeof Kr.byteLength=="number"}function xi(Kr){return typeof ArrayBuffer.isView=="function"&&ArrayBuffer.isView(Kr)}function Ai(Kr){return Kr!==Kr}}).call(or,ur(1))},function(ar,or){or.byteLength=mr,or.toByteArray=Er,or.fromByteArray=Ar;for(var ur=[],fr=[],dr=typeof Uint8Array<"u"?Uint8Array:Array,pr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",br=0,_r=pr.length;br<_r;++br)ur[br]=pr[br],fr[pr.charCodeAt(br)]=br;fr["-".charCodeAt(0)]=62,fr["_".charCodeAt(0)]=63;function yr(kr){var Or=kr.length;if(Or%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return kr[Or-2]==="="?2:kr[Or-1]==="="?1:0}function mr(kr){return kr.length*3/4-yr(kr)}function Er(kr){var Or,Dr,Rr,Fr,Nr,Hr,Ur=kr.length;Nr=yr(kr),Hr=new dr(Ur*3/4-Nr),Rr=Nr>0?Ur-4:Ur;var Zr=0;for(Or=0,Dr=0;Or<Rr;Or+=4,Dr+=3)Fr=fr[kr.charCodeAt(Or)]<<18|fr[kr.charCodeAt(Or+1)]<<12|fr[kr.charCodeAt(Or+2)]<<6|fr[kr.charCodeAt(Or+3)],Hr[Zr++]=Fr>>16&255,Hr[Zr++]=Fr>>8&255,Hr[Zr++]=Fr&255;return Nr===2?(Fr=fr[kr.charCodeAt(Or)]<<2|fr[kr.charCodeAt(Or+1)]>>4,Hr[Zr++]=Fr&255):Nr===1&&(Fr=fr[kr.charCodeAt(Or)]<<10|fr[kr.charCodeAt(Or+1)]<<4|fr[kr.charCodeAt(Or+2)]>>2,Hr[Zr++]=Fr>>8&255,Hr[Zr++]=Fr&255),Hr}function gr(kr){return ur[kr>>18&63]+ur[kr>>12&63]+ur[kr>>6&63]+ur[kr&63]}function Ir(kr,Or,Dr){for(var Rr,Fr=[],Nr=Or;Nr<Dr;Nr+=3)Rr=(kr[Nr]<<16)+(kr[Nr+1]<<8)+kr[Nr+2],Fr.push(gr(Rr));return Fr.join("")}function Ar(kr){for(var Or,Dr=kr.length,Rr=Dr%3,Fr="",Nr=[],Hr=16383,Ur=0,Zr=Dr-Rr;Ur<Zr;Ur+=Hr)Nr.push(Ir(kr,Ur,Ur+Hr>Zr?Zr:Ur+Hr));return Rr===1?(Or=kr[Dr-1],Fr+=ur[Or>>2],Fr+=ur[Or<<4&63],Fr+="=="):Rr===2&&(Or=(kr[Dr-2]<<8)+kr[Dr-1],Fr+=ur[Or>>10],Fr+=ur[Or>>4&63],Fr+=ur[Or<<2&63],Fr+="="),Nr.push(Fr),Nr.join("")}},function(ar,or){or.read=function(ur,fr,dr,pr,br){var _r,yr,mr=br*8-pr-1,Er=(1<<mr)-1,gr=Er>>1,Ir=-7,Ar=dr?br-1:0,kr=dr?-1:1,Or=ur[fr+Ar];for(Ar+=kr,_r=Or&(1<<-Ir)-1,Or>>=-Ir,Ir+=mr;Ir>0;_r=_r*256+ur[fr+Ar],Ar+=kr,Ir-=8);for(yr=_r&(1<<-Ir)-1,_r>>=-Ir,Ir+=pr;Ir>0;yr=yr*256+ur[fr+Ar],Ar+=kr,Ir-=8);if(_r===0)_r=1-gr;else{if(_r===Er)return yr?NaN:(Or?-1:1)*(1/0);yr=yr+Math.pow(2,pr),_r=_r-gr}return(Or?-1:1)*yr*Math.pow(2,_r-pr)},or.write=function(ur,fr,dr,pr,br,_r){var yr,mr,Er,gr=_r*8-br-1,Ir=(1<<gr)-1,Ar=Ir>>1,kr=br===23?Math.pow(2,-24)-Math.pow(2,-77):0,Or=pr?0:_r-1,Dr=pr?1:-1,Rr=fr<0||fr===0&&1/fr<0?1:0;for(fr=Math.abs(fr),isNaN(fr)||fr===1/0?(mr=isNaN(fr)?1:0,yr=Ir):(yr=Math.floor(Math.log(fr)/Math.LN2),fr*(Er=Math.pow(2,-yr))<1&&(yr--,Er*=2),yr+Ar>=1?fr+=kr/Er:fr+=kr*Math.pow(2,1-Ar),fr*Er>=2&&(yr++,Er/=2),yr+Ar>=Ir?(mr=0,yr=Ir):yr+Ar>=1?(mr=(fr*Er-1)*Math.pow(2,br),yr=yr+Ar):(mr=fr*Math.pow(2,Ar-1)*Math.pow(2,br),yr=0));br>=8;ur[dr+Or]=mr&255,Or+=Dr,mr/=256,br-=8);for(yr=yr<<br|mr,gr+=br;gr>0;ur[dr+Or]=yr&255,Or+=Dr,yr/=256,gr-=8);ur[dr+Or-Dr]|=Rr*128}},function(ar,or){ar.exports=function(ur){return ur.webpackPolyfill||(ur.deprecate=function(){},ur.paths=[],ur.children=[],ur.webpackPolyfill=1),ur}},function(ar,or,ur){var fr=ur(7),dr=new fr,pr={};function br(yr){pr[yr]||(typeof dr[yr]=="function"?pr[yr]=function(){return dr[yr].apply(dr,arguments)}:pr[yr]=dr[yr])}for(var _r in dr)br(_r);pr.initializeTTYs=function(){dr.stdin===null&&(dr.initializeTTYs(),pr.stdin=dr.stdin,pr.stdout=dr.stdout,pr.stderr=dr.stderr)},dr.nextTick(function(){pr.initializeTTYs()}),ar.exports=pr},function(ar,or,ur){(function(fr){var dr=this&&this.__extends||function(Er,gr){for(var Ir in gr)gr.hasOwnProperty(Ir)&&(Er[Ir]=gr[Ir]);function Ar(){this.constructor=Er}Er.prototype=gr===null?Object.create(gr):(Ar.prototype=gr.prototype,new Ar)},pr=ur(8),br=null,_r=function(){function Er(gr,Ir){this.fun=gr,this.array=Ir}return Er.prototype.run=function(){this.fun.apply(null,this.array)},Er}(),yr=function(){function Er(){this._queue=[],this._draining=!1,this._currentQueue=null,this._queueIndex=-1}return Er.prototype.push=function(gr){var Ir=this;this._queue.push(gr)===1&&!this._draining&&setTimeout(function(){return Ir._drainQueue()},0)},Er.prototype._cleanUpNextTick=function(){this._draining=!1,this._currentQueue&&this._currentQueue.length?this._queue=this._currentQueue.concat(this._queue):this._queueIndex=-1,this._queue.length&&this._drainQueue()},Er.prototype._drainQueue=function(){var gr=this;if(!this._draining){var Ir=setTimeout(function(){return gr._cleanUpNextTick()});this._draining=!0;for(var Ar=this._queue.length;Ar;){for(this._currentQueue=this._queue,this._queue=[];++this._queueIndex<Ar;)this._currentQueue&&this._currentQueue[this._queueIndex].run();this._queueIndex=-1,Ar=this._queue.length}this._currentQueue=null,this._draining=!1,clearTimeout(Ir)}},Er}(),mr=function(Er){dr(gr,Er);function gr(){Er.apply(this,arguments),this.startTime=Date.now(),this._cwd="/",this.platform="browser",this.argv=[],this.execArgv=[],this.stdout=null,this.stderr=null,this.stdin=null,this.domain=null,this._queue=new yr,this.execPath=fr,this.env={},this.exitCode=0,this._gid=1,this._uid=1,this.version="v5.0",this.versions={http_parser:"0.0",node:"5.0",v8:"0.0",uv:"0.0",zlib:"0.0",ares:"0.0",icu:"0.0",modules:"0",openssl:"0.0"},this.config={target_defaults:{cflags:[],default_configuration:"Release",defines:[],include_dirs:[],libraries:[]},variables:{clang:0,host_arch:"x32",node_install_npm:!1,node_install_waf:!1,node_prefix:"",node_shared_cares:!1,node_shared_http_parser:!1,node_shared_libuv:!1,node_shared_zlib:!1,node_shared_v8:!1,node_use_dtrace:!1,node_use_etw:!1,node_use_openssl:!1,node_shared_openssl:!1,strict_aliasing:!1,target_arch:"x32",v8_use_snapshot:!1,v8_no_strict_aliasing:0,visibility:""}},this.pid=Math.random()*1e3|0,this.title="node",this.arch="x32",this._mask=18,this.connected=void 0}return gr.prototype.chdir=function(Ir){br===null&&(br=ur(9)),this._cwd=br.resolve(Ir)},gr.prototype.cwd=function(){return this._cwd},gr.prototype.uptime=function(){return(Date.now()-this.startTime)/1e3|0},gr.prototype.nextTick=function(Ir){for(var Ar=[],kr=1;kr<arguments.length;kr++)Ar[kr-1]=arguments[kr];this._queue.push(new _r(Ir,Ar))},gr.prototype.abort=function(){this.emit("abort")},gr.prototype.exit=function(Ir){this.exitCode=Ir,this.emit("exit",[Ir])},gr.prototype.getgid=function(){return this._gid},gr.prototype.setgid=function(Ir){typeof Ir=="number"?this._gid=Ir:this._gid=1},gr.prototype.getuid=function(){return this._uid},gr.prototype.setuid=function(Ir){typeof Ir=="number"?this._uid=Ir:this._uid=1},gr.prototype.kill=function(Ir,Ar){this.emit("kill",[Ir,Ar])},gr.prototype.memoryUsage=function(){return{rss:0,heapTotal:0,heapUsed:0}},gr.prototype.umask=function(Ir){Ir===void 0&&(Ir=this._mask);var Ar=this._mask;return this._mask=Ir,this.emit("umask",[Ir]),Ar},gr.prototype.hrtime=function(){var Ir;typeof performance<"u"?Ir=performance.now():Date.now?Ir=Date.now():Ir=new Date().getTime();var Ar=Ir/1e3|0;return Ir-=Ar*1e3,Ir=Ir*1e6|0,[Ar,Ir]},gr.prototype.initializeTTYs=function(){if(this.stdout===null){var Ir=ur(10);this.stdout=new Ir,this.stderr=new Ir,this.stdin=new Ir}},gr.prototype.disconnect=function(){},gr}(pr.EventEmitter);ar.exports=mr}).call(or,"/")},function(ar,or){function ur(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}ar.exports=ur,ur.EventEmitter=ur,ur.prototype._events=void 0,ur.prototype._maxListeners=void 0,ur.defaultMaxListeners=10,ur.prototype.setMaxListeners=function(_r){if(!dr(_r)||_r<0||isNaN(_r))throw TypeError("n must be a positive number");return this._maxListeners=_r,this},ur.prototype.emit=function(_r){var yr,mr,Er,gr,Ir,Ar;if(this._events||(this._events={}),_r==="error"&&(!this._events.error||pr(this._events.error)&&!this._events.error.length)){if(yr=arguments[1],yr instanceof Error)throw yr;var kr=new Error('Uncaught, unspecified "error" event. ('+yr+")");throw kr.context=yr,kr}if(mr=this._events[_r],br(mr))return!1;if(fr(mr))switch(arguments.length){case 1:mr.call(this);break;case 2:mr.call(this,arguments[1]);break;case 3:mr.call(this,arguments[1],arguments[2]);break;default:gr=Array.prototype.slice.call(arguments,1),mr.apply(this,gr)}else if(pr(mr))for(gr=Array.prototype.slice.call(arguments,1),Ar=mr.slice(),Er=Ar.length,Ir=0;Ir<Er;Ir++)Ar[Ir].apply(this,gr);return!0},ur.prototype.addListener=function(_r,yr){var mr;if(!fr(yr))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",_r,fr(yr.listener)?yr.listener:yr),this._events[_r]?pr(this._events[_r])?this._events[_r].push(yr):this._events[_r]=[this._events[_r],yr]:this._events[_r]=yr,pr(this._events[_r])&&!this._events[_r].warned&&(br(this._maxListeners)?mr=ur.defaultMaxListeners:mr=this._maxListeners,mr&&mr>0&&this._events[_r].length>mr&&(this._events[_r].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[_r].length),typeof console.trace=="function"&&console.trace())),this},ur.prototype.on=ur.prototype.addListener,ur.prototype.once=function(_r,yr){if(!fr(yr))throw TypeError("listener must be a function");var mr=!1;function Er(){this.removeListener(_r,Er),mr||(mr=!0,yr.apply(this,arguments))}return Er.listener=yr,this.on(_r,Er),this},ur.prototype.removeListener=function(_r,yr){var mr,Er,gr,Ir;if(!fr(yr))throw TypeError("listener must be a function");if(!this._events||!this._events[_r])return this;if(mr=this._events[_r],gr=mr.length,Er=-1,mr===yr||fr(mr.listener)&&mr.listener===yr)delete this._events[_r],this._events.removeListener&&this.emit("removeListener",_r,yr);else if(pr(mr)){for(Ir=gr;Ir-- >0;)if(mr[Ir]===yr||mr[Ir].listener&&mr[Ir].listener===yr){Er=Ir;break}if(Er<0)return this;mr.length===1?(mr.length=0,delete this._events[_r]):mr.splice(Er,1),this._events.removeListener&&this.emit("removeListener",_r,yr)}return this},ur.prototype.removeAllListeners=function(_r){var yr,mr;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[_r]&&delete this._events[_r],this;if(arguments.length===0){for(yr in this._events)yr!=="removeListener"&&this.removeAllListeners(yr);return this.removeAllListeners("removeListener"),this._events={},this}if(mr=this._events[_r],fr(mr))this.removeListener(_r,mr);else if(mr)for(;mr.length;)this.removeListener(_r,mr[mr.length-1]);return delete this._events[_r],this},ur.prototype.listeners=function(_r){var yr;return!this._events||!this._events[_r]?yr=[]:fr(this._events[_r])?yr=[this._events[_r]]:yr=this._events[_r].slice(),yr},ur.prototype.listenerCount=function(_r){if(this._events){var yr=this._events[_r];if(fr(yr))return 1;if(yr)return yr.length}return 0},ur.listenerCount=function(_r,yr){return _r.listenerCount(yr)};function fr(_r){return typeof _r=="function"}function dr(_r){return typeof _r=="number"}function pr(_r){return typeof _r=="object"&&_r!==null}function br(_r){return _r===void 0}},function(ar,or,ur){(function(fr){var dr=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;function pr(_r){var yr=dr.exec(_r);return yr.shift(),yr}var br=function(){function _r(){}return _r.normalize=function(yr){yr===""&&(yr=".");var mr=yr.charAt(0)===_r.sep;yr=_r._removeDuplicateSeps(yr);for(var Er=yr.split(_r.sep),gr=[],Ir=0;Ir<Er.length;Ir++){var Ar=Er[Ir];Ar!=="."&&(Ar===".."&&(mr||!mr&&gr.length>0&&gr[0]!=="..")?gr.pop():gr.push(Ar))}if(!mr&&gr.length<2)switch(gr.length){case 1:gr[0]===""&&gr.unshift(".");break;default:gr.push(".")}return yr=gr.join(_r.sep),mr&&yr.charAt(0)!==_r.sep&&(yr=_r.sep+yr),yr},_r.join=function(){for(var yr=[],mr=0;mr<arguments.length;mr++)yr[mr-0]=arguments[mr];for(var Er=[],gr=0;gr<yr.length;gr++){var Ir=yr[gr];if(typeof Ir!="string")throw new TypeError("Invalid argument type to path.join: "+typeof Ir);Ir!==""&&Er.push(Ir)}return _r.normalize(Er.join(_r.sep))},_r.resolve=function(){for(var yr=[],mr=0;mr<arguments.length;mr++)yr[mr-0]=arguments[mr];for(var Er=[],gr=0;gr<yr.length;gr++){var Ir=yr[gr];if(typeof Ir!="string")throw new TypeError("Invalid argument type to path.join: "+typeof Ir);Ir!==""&&(Ir.charAt(0)===_r.sep&&(Er=[]),Er.push(Ir))}var Ar=_r.normalize(Er.join(_r.sep));if(Ar.length>1&&Ar.charAt(Ar.length-1)===_r.sep)return Ar.substr(0,Ar.length-1);if(Ar.charAt(0)!==_r.sep){Ar.charAt(0)==="."&&(Ar.length===1||Ar.charAt(1)===_r.sep)&&(Ar=Ar.length===1?"":Ar.substr(2));var kr=fr.cwd();Ar!==""?Ar=this.normalize(kr+(kr!=="/"?_r.sep:"")+Ar):Ar=kr}return Ar},_r.relative=function(yr,mr){var Er;yr=_r.resolve(yr),mr=_r.resolve(mr);var gr=yr.split(_r.sep),Ir=mr.split(_r.sep);Ir.shift(),gr.shift();var Ar=0,kr=[];for(Er=0;Er<gr.length;Er++){var Or=gr[Er];if(Or!==Ir[Er]){Ar=gr.length-Er;break}}kr=Ir.slice(Er),gr.length===1&&gr[0]===""&&(Ar=0),Ar>gr.length&&(Ar=gr.length);var Dr="";for(Er=0;Er<Ar;Er++)Dr+="../";return Dr+=kr.join(_r.sep),Dr.length>1&&Dr.charAt(Dr.length-1)===_r.sep&&(Dr=Dr.substr(0,Dr.length-1)),Dr},_r.dirname=function(yr){yr=_r._removeDuplicateSeps(yr);var mr=yr.charAt(0)===_r.sep,Er=yr.split(_r.sep);return Er.pop()===""&&Er.length>0&&Er.pop(),Er.length>1||Er.length===1&&!mr?Er.join(_r.sep):mr?_r.sep:"."},_r.basename=function(yr,mr){if(mr===void 0&&(mr=""),yr==="")return yr;yr=_r.normalize(yr);var Er=yr.split(_r.sep),gr=Er[Er.length-1];if(gr===""&&Er.length>1)return Er[Er.length-2];if(mr.length>0){var Ir=gr.substr(gr.length-mr.length);if(Ir===mr)return gr.substr(0,gr.length-mr.length)}return gr},_r.extname=function(yr){yr=_r.normalize(yr);var mr=yr.split(_r.sep);if(yr=mr.pop(),yr===""&&mr.length>0&&(yr=mr.pop()),yr==="..")return"";var Er=yr.lastIndexOf(".");return Er===-1||Er===0?"":yr.substr(Er)},_r.isAbsolute=function(yr){return yr.length>0&&yr.charAt(0)===_r.sep},_r._makeLong=function(yr){return yr},_r.parse=function(yr){var mr=pr(yr);return{root:mr[0],dir:mr[0]+mr[1].slice(0,-1),base:mr[2],ext:mr[3],name:mr[2].slice(0,mr[2].length-mr[3].length)}},_r.format=function(yr){if(yr===null||typeof yr!="object")throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof yr);var mr=yr.root||"";if(typeof mr!="string")throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof yr.root);var Er=yr.dir?yr.dir+_r.sep:"",gr=yr.base||"";return Er+gr},_r._removeDuplicateSeps=function(yr){return yr=yr.replace(this._replaceRegex,this.sep),yr},_r.sep="/",_r._replaceRegex=new RegExp("//+","g"),_r.delimiter=":",_r.posix=_r,_r.win32=_r,_r}();ar.exports=br}).call(or,ur(6))},function(ar,or,ur){(function(fr){var dr=this&&this.__extends||function(_r,yr){for(var mr in yr)yr.hasOwnProperty(mr)&&(_r[mr]=yr[mr]);function Er(){this.constructor=_r}_r.prototype=yr===null?Object.create(yr):(Er.prototype=yr.prototype,new Er)},pr=ur(11),br=function(_r){dr(yr,_r);function yr(){_r.call(this),this.isRaw=!1,this.columns=80,this.rows=120,this.isTTY=!0,this._bufferedWrites=[],this._waitingForWrites=!1}return yr.prototype.setRawMode=function(mr){this.isRaw!==mr&&(this.isRaw=mr,this.emit("modeChange"))},yr.prototype.changeColumns=function(mr){mr!==this.columns&&(this.columns=mr,this.emit("resize"))},yr.prototype.changeRows=function(mr){mr!==this.rows&&(this.rows=mr,this.emit("resize"))},yr.isatty=function(mr){return mr&&mr instanceof yr},yr.prototype._write=function(mr,Er,gr){var Ir;try{var Ar;typeof mr=="string"?Ar=new fr(mr,Er):Ar=mr,this._bufferedWrites.push(Ar),this._waitingForWrites&&this._read(1024)}catch(kr){Ir=kr}finally{gr(Ir)}},yr.prototype._read=function(mr){if(this._bufferedWrites.length===0)this._waitingForWrites=!0;else for(;this._bufferedWrites.length>0&&(this._waitingForWrites=this.push(this._bufferedWrites.shift()),!!this._waitingForWrites););},yr}(pr.Duplex);ar.exports=br}).call(or,ur(1))},function(ar,or,ur){ar.exports=pr;var fr=ur(8).EventEmitter,dr=ur(12);dr(pr,fr),pr.Readable=ur(13),pr.Writable=ur(27),pr.Duplex=ur(28),pr.Transform=ur(29),pr.PassThrough=ur(30),pr.Stream=pr;function pr(){fr.call(this)}pr.prototype.pipe=function(br,_r){var yr=this;function mr(Dr){br.writable&&br.write(Dr)===!1&&yr.pause&&yr.pause()}yr.on("data",mr);function Er(){yr.readable&&yr.resume&&yr.resume()}br.on("drain",Er),!br._isStdio&&(!_r||_r.end!==!1)&&(yr.on("end",Ir),yr.on("close",Ar));var gr=!1;function Ir(){gr||(gr=!0,br.end())}function Ar(){gr||(gr=!0,typeof br.destroy=="function"&&br.destroy())}function kr(Dr){if(Or(),fr.listenerCount(this,"error")===0)throw Dr}yr.on("error",kr),br.on("error",kr);function Or(){yr.removeListener("data",mr),br.removeListener("drain",Er),yr.removeListener("end",Ir),yr.removeListener("close",Ar),yr.removeListener("error",kr),br.removeListener("error",kr),yr.removeListener("end",Or),yr.removeListener("close",Or),br.removeListener("close",Or)}return yr.on("end",Or),yr.on("close",Or),br.on("close",Or),br.emit("pipe",yr),br}},function(ar,or){typeof Object.create=="function"?ar.exports=function(fr,dr){fr.super_=dr,fr.prototype=Object.create(dr.prototype,{constructor:{value:fr,enumerable:!1,writable:!0,configurable:!0}})}:ar.exports=function(fr,dr){fr.super_=dr;var pr=function(){};pr.prototype=dr.prototype,fr.prototype=new pr,fr.prototype.constructor=fr}},function(ar,or,ur){(function(fr){var dr=function(){try{return ur(11)}catch{}}();or=ar.exports=ur(14),or.Stream=dr||or,or.Readable=or,or.Writable=ur(22),or.Duplex=ur(21),or.Transform=ur(25),or.PassThrough=ur(26),!fr.browser&&fr.env.READABLE_STREAM==="disable"&&dr&&(ar.exports=dr)}).call(or,ur(6))},function(ar,or,ur){(function(fr){ar.exports=Fr;var dr=ur(15),pr=ur(16),br;Fr.ReadableState=Rr,ur(8).EventEmitter;var _r=function(ii,oi){return ii.listeners(oi).length},yr;(function(){try{yr=ur(11)}catch{}finally{yr||(yr=ur(8).EventEmitter)}})();var mr=ur(2).Buffer,Er=ur(17),gr=ur(18);gr.inherits=ur(12);var Ir=ur(19),Ar=void 0;Ir&&Ir.debuglog?Ar=Ir.debuglog("stream"):Ar=function(){};var kr=ur(20),Or;gr.inherits(Fr,yr);function Dr(ii,oi,Si){if(typeof ii.prependListener=="function")return ii.prependListener(oi,Si);!ii._events||!ii._events[oi]?ii.on(oi,Si):pr(ii._events[oi])?ii._events[oi].unshift(Si):ii._events[oi]=[Si,ii._events[oi]]}function Rr(ii,oi){br=br||ur(21),ii=ii||{},this.objectMode=!!ii.objectMode,oi instanceof br&&(this.objectMode=this.objectMode||!!ii.readableObjectMode);var Si=ii.highWaterMark,Di=this.objectMode?16:16*1024;this.highWaterMark=Si||Si===0?Si:Di,this.highWaterMark=~~this.highWaterMark,this.buffer=new kr,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=ii.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,ii.encoding&&(Or||(Or=ur(24).StringDecoder),this.decoder=new Or(ii.encoding),this.encoding=ii.encoding)}function Fr(ii){if(br=br||ur(21),!(this instanceof Fr))return new Fr(ii);this._readableState=new Rr(ii,this),this.readable=!0,ii&&typeof ii.read=="function"&&(this._read=ii.read),yr.call(this)}Fr.prototype.push=function(ii,oi){var Si=this._readableState;return!Si.objectMode&&typeof ii=="string"&&(oi=oi||Si.defaultEncoding,oi!==Si.encoding&&(ii=Er.from(ii,oi),oi="")),Nr(this,Si,ii,oi,!1)},Fr.prototype.unshift=function(ii){var oi=this._readableState;return Nr(this,oi,ii,"",!0)},Fr.prototype.isPaused=function(){return this._readableState.flowing===!1};function Nr(ii,oi,Si,Di,Mi){var Vr=jr(oi,Si);if(Vr)ii.emit("error",Vr);else if(Si===null)oi.reading=!1,Jr(ii,oi);else if(oi.objectMode||Si&&Si.length>0)if(oi.ended&&!Mi){var hi=new Error("stream.push() after EOF");ii.emit("error",hi)}else if(oi.endEmitted&&Mi){var yi=new Error("stream.unshift() after end event");ii.emit("error",yi)}else{var ti;oi.decoder&&!Mi&&!Di&&(Si=oi.decoder.write(Si),ti=!oi.objectMode&&Si.length===0),Mi||(oi.reading=!1),ti||(oi.flowing&&oi.length===0&&!oi.sync?(ii.emit("data",Si),ii.read(0)):(oi.length+=oi.objectMode?1:Si.length,Mi?oi.buffer.unshift(Si):oi.buffer.push(Si),oi.needReadable&&Wr(ii))),Mr(ii,oi)}else Mi||(oi.reading=!1);return Hr(oi)}function Hr(ii){return!ii.ended&&(ii.needReadable||ii.length<ii.highWaterMark||ii.length===0)}Fr.prototype.setEncoding=function(ii){return Or||(Or=ur(24).StringDecoder),this._readableState.decoder=new Or(ii),this._readableState.encoding=ii,this};var Ur=8388608;function Zr(ii){return ii>=Ur?ii=Ur:(ii--,ii|=ii>>>1,ii|=ii>>>2,ii|=ii>>>4,ii|=ii>>>8,ii|=ii>>>16,ii++),ii}function Gr(ii,oi){return ii<=0||oi.length===0&&oi.ended?0:oi.objectMode?1:ii!==ii?oi.flowing&&oi.length?oi.buffer.head.data.length:oi.length:(ii>oi.highWaterMark&&(oi.highWaterMark=Zr(ii)),ii<=oi.length?ii:oi.ended?oi.length:(oi.needReadable=!0,0))}Fr.prototype.read=function(ii){Ar("read",ii),ii=parseInt(ii,10);var oi=this._readableState,Si=ii;if(ii!==0&&(oi.emittedReadable=!1),ii===0&&oi.needReadable&&(oi.length>=oi.highWaterMark||oi.ended))return Ar("read: emitReadable",oi.length,oi.ended),oi.length===0&&oi.ended?bi(this):Wr(this),null;if(ii=Gr(ii,oi),ii===0&&oi.ended)return oi.length===0&&bi(this),null;var Di=oi.needReadable;Ar("need readable",Di),(oi.length===0||oi.length-ii<oi.highWaterMark)&&(Di=!0,Ar("length less than watermark",Di)),oi.ended||oi.reading?(Di=!1,Ar("reading or ended",Di)):Di&&(Ar("do read"),oi.reading=!0,oi.sync=!0,oi.length===0&&(oi.needReadable=!0),this._read(oi.highWaterMark),oi.sync=!1,oi.reading||(ii=Gr(Si,oi)));var Mi;return ii>0?Mi=$r(ii,oi):Mi=null,Mi===null?(oi.needReadable=!0,ii=0):oi.length-=ii,oi.length===0&&(oi.ended||(oi.needReadable=!0),Si!==ii&&oi.ended&&bi(this)),Mi!==null&&this.emit("data",Mi),Mi};function jr(ii,oi){var Si=null;return!mr.isBuffer(oi)&&typeof oi!="string"&&oi!==null&&oi!==void 0&&!ii.objectMode&&(Si=new TypeError("Invalid non-string/buffer chunk")),Si}function Jr(ii,oi){if(!oi.ended){if(oi.decoder){var Si=oi.decoder.end();Si&&Si.length&&(oi.buffer.push(Si),oi.length+=oi.objectMode?1:Si.length)}oi.ended=!0,Wr(ii)}}function Wr(ii){var oi=ii._readableState;oi.needReadable=!1,oi.emittedReadable||(Ar("emitReadable",oi.flowing),oi.emittedReadable=!0,oi.sync?dr(ni,ii):ni(ii))}function ni(ii){Ar("emit readable"),ii.emit("readable"),ci(ii)}function Mr(ii,oi){oi.readingMore||(oi.readingMore=!0,dr(di,ii,oi))}function di(ii,oi){for(var Si=oi.length;!oi.reading&&!oi.flowing&&!oi.ended&&oi.length<oi.highWaterMark&&(Ar("maybeReadMore read 0"),ii.read(0),Si!==oi.length);)Si=oi.length;oi.readingMore=!1}Fr.prototype._read=function(ii){this.emit("error",new Error("_read() is not implemented"))},Fr.prototype.pipe=function(ii,oi){var Si=this,Di=this._readableState;switch(Di.pipesCount){case 0:Di.pipes=ii;break;case 1:Di.pipes=[Di.pipes,ii];break;default:Di.pipes.push(ii);break}Di.pipesCount+=1,Ar("pipe count=%d opts=%j",Di.pipesCount,oi);var Mi=(!oi||oi.end!==!1)&&ii!==fr.stdout&&ii!==fr.stderr,Vr=Mi?yi:xi;Di.endEmitted?dr(Vr):Si.once("end",Vr),ii.on("unpipe",hi);function hi(fi){Ar("onunpipe"),fi===Si&&xi()}function yi(){Ar("onend"),ii.end()}var ti=Ei(Si);ii.on("drain",ti);var ri=!1;function xi(){Ar("cleanup"),ii.removeListener("close",qr),ii.removeListener("finish",Xr),ii.removeListener("drain",ti),ii.removeListener("error",Pr),ii.removeListener("unpipe",hi),Si.removeListener("end",yi),Si.removeListener("end",xi),Si.removeListener("data",Kr),ri=!0,Di.awaitDrain&&(!ii._writableState||ii._writableState.needDrain)&&ti()}var Ai=!1;Si.on("data",Kr);function Kr(fi){Ar("ondata"),Ai=!1;var vi=ii.write(fi);vi===!1&&!Ai&&((Di.pipesCount===1&&Di.pipes===ii||Di.pipesCount>1&&Ti(Di.pipes,ii)!==-1)&&!ri&&(Ar("false write response, pause",Si._readableState.awaitDrain),Si._readableState.awaitDrain++,Ai=!0),Si.pause())}function Pr(fi){Ar("onerror",fi),ai(),ii.removeListener("error",Pr),_r(ii,"error")===0&&ii.emit("error",fi)}Dr(ii,"error",Pr);function qr(){ii.removeListener("finish",Xr),ai()}ii.once("close",qr);function Xr(){Ar("onfinish"),ii.removeListener("close",qr),ai()}ii.once("finish",Xr);function ai(){Ar("unpipe"),Si.unpipe(ii)}return ii.emit("pipe",Si),Di.flowing||(Ar("pipe resume"),Si.resume()),ii};function Ei(ii){return function(){var oi=ii._readableState;Ar("pipeOnDrain",oi.awaitDrain),oi.awaitDrain&&oi.awaitDrain--,oi.awaitDrain===0&&_r(ii,"data")&&(oi.flowing=!0,ci(ii))}}Fr.prototype.unpipe=function(ii){var oi=this._readableState;if(oi.pipesCount===0)return this;if(oi.pipesCount===1)return ii&&ii!==oi.pipes?this:(ii||(ii=oi.pipes),oi.pipes=null,oi.pipesCount=0,oi.flowing=!1,ii&&ii.emit("unpipe",this),this);if(!ii){var Si=oi.pipes,Di=oi.pipesCount;oi.pipes=null,oi.pipesCount=0,oi.flowing=!1;for(var Mi=0;Mi<Di;Mi++)Si[Mi].emit("unpipe",this);return this}var Vr=Ti(oi.pipes,ii);return Vr===-1?this:(oi.pipes.splice(Vr,1),oi.pipesCount-=1,oi.pipesCount===1&&(oi.pipes=oi.pipes[0]),ii.emit("unpipe",this),this)},Fr.prototype.on=function(ii,oi){var Si=yr.prototype.on.call(this,ii,oi);if(ii==="data")this._readableState.flowing!==!1&&this.resume();else if(ii==="readable"){var Di=this._readableState;!Di.endEmitted&&!Di.readableListening&&(Di.readableListening=Di.needReadable=!0,Di.emittedReadable=!1,Di.reading?Di.length&&Wr(this):dr(_i,this))}return Si},Fr.prototype.addListener=Fr.prototype.on;function _i(ii){Ar("readable nexttick read 0"),ii.read(0)}Fr.prototype.resume=function(){var ii=this._readableState;return ii.flowing||(Ar("resume"),ii.flowing=!0,Fi(this,ii)),this};function Fi(ii,oi){oi.resumeScheduled||(oi.resumeScheduled=!0,dr(si,ii,oi))}function si(ii,oi){oi.reading||(Ar("resume read 0"),ii.read(0)),oi.resumeScheduled=!1,oi.awaitDrain=0,ii.emit("resume"),ci(ii),oi.flowing&&!oi.reading&&ii.read(0)}Fr.prototype.pause=function(){return Ar("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Ar("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function ci(ii){var oi=ii._readableState;for(Ar("flow",oi.flowing);oi.flowing&&ii.read()!==null;);}Fr.prototype.wrap=function(ii){var oi=this._readableState,Si=!1,Di=this;ii.on("end",function(){if(Ar("wrapped end"),oi.decoder&&!oi.ended){var hi=oi.decoder.end();hi&&hi.length&&Di.push(hi)}Di.push(null)}),ii.on("data",function(hi){if(Ar("wrapped data"),oi.decoder&&(hi=oi.decoder.write(hi)),!(oi.objectMode&&hi==null)&&!(!oi.objectMode&&(!hi||!hi.length))){var yi=Di.push(hi);yi||(Si=!0,ii.pause())}});for(var Mi in ii)this[Mi]===void 0&&typeof ii[Mi]=="function"&&(this[Mi]=function(hi){return function(){return ii[hi].apply(ii,arguments)}}(Mi));var Vr=["error","close","destroy","pause","resume"];return Ki(Vr,function(hi){ii.on(hi,Di.emit.bind(Di,hi))}),Di._read=function(hi){Ar("wrapped _read",hi),Si&&(Si=!1,ii.resume())},Di},Fr._fromList=$r;function $r(ii,oi){if(oi.length===0)return null;var Si;return oi.objectMode?Si=oi.buffer.shift():!ii||ii>=oi.length?(oi.decoder?Si=oi.buffer.join(""):oi.buffer.length===1?Si=oi.buffer.head.data:Si=oi.buffer.concat(oi.length),oi.buffer.clear()):Si=ei(ii,oi.buffer,oi.decoder),Si}function ei(ii,oi,Si){var Di;return ii<oi.head.data.length?(Di=oi.head.data.slice(0,ii),oi.head.data=oi.head.data.slice(ii)):ii===oi.head.data.length?Di=oi.shift():Di=Si?pi(ii,oi):ui(ii,oi),Di}function pi(ii,oi){var Si=oi.head,Di=1,Mi=Si.data;for(ii-=Mi.length;Si=Si.next;){var Vr=Si.data,hi=ii>Vr.length?Vr.length:ii;if(hi===Vr.length?Mi+=Vr:Mi+=Vr.slice(0,ii),ii-=hi,ii===0){hi===Vr.length?(++Di,Si.next?oi.head=Si.next:oi.head=oi.tail=null):(oi.head=Si,Si.data=Vr.slice(hi));break}++Di}return oi.length-=Di,Mi}function ui(ii,oi){var Si=Er.allocUnsafe(ii),Di=oi.head,Mi=1;for(Di.data.copy(Si),ii-=Di.data.length;Di=Di.next;){var Vr=Di.data,hi=ii>Vr.length?Vr.length:ii;if(Vr.copy(Si,Si.length-ii,0,hi),ii-=hi,ii===0){hi===Vr.length?(++Mi,Di.next?oi.head=Di.next:oi.head=oi.tail=null):(oi.head=Di,Di.data=Vr.slice(hi));break}++Mi}return oi.length-=Mi,Si}function bi(ii){var oi=ii._readableState;if(oi.length>0)throw new Error('"endReadable()" called on non-empty stream');oi.endEmitted||(oi.ended=!0,dr(qi,oi,ii))}function qi(ii,oi){!ii.endEmitted&&ii.length===0&&(ii.endEmitted=!0,oi.readable=!1,oi.emit("end"))}function Ki(ii,oi){for(var Si=0,Di=ii.length;Si<Di;Si++)oi(ii[Si],Si)}function Ti(ii,oi){for(var Si=0,Di=ii.length;Si<Di;Si++)if(ii[Si]===oi)return Si;return-1}}).call(or,ur(6))},function(ar,or,ur){(function(fr){!fr.version||fr.version.indexOf("v0.")===0||fr.version.indexOf("v1.")===0&&fr.version.indexOf("v1.8.")!==0?ar.exports=dr:ar.exports=fr.nextTick;function dr(pr,br,_r,yr){if(typeof pr!="function")throw new TypeError('"callback" argument must be a function');var mr=arguments.length,Er,gr;switch(mr){case 0:case 1:return fr.nextTick(pr);case 2:return fr.nextTick(function(){pr.call(null,br)});case 3:return fr.nextTick(function(){pr.call(null,br,_r)});case 4:return fr.nextTick(function(){pr.call(null,br,_r,yr)});default:for(Er=new Array(mr-1),gr=0;gr<Er.length;)Er[gr++]=arguments[gr];return fr.nextTick(function(){pr.apply(null,Er)})}}}).call(or,ur(6))},function(ar,or){var ur={}.toString;ar.exports=Array.isArray||function(fr){return ur.call(fr)=="[object Array]"}},function(ar,or,ur){(function(fr){var dr=ur(2),pr=dr.Buffer,br=dr.SlowBuffer,_r=dr.kMaxLength||2147483647;or.alloc=function(mr,Er,gr){if(typeof pr.alloc=="function")return pr.alloc(mr,Er,gr);if(typeof gr=="number")throw new TypeError("encoding must not be number");if(typeof mr!="number")throw new TypeError("size must be a number");if(mr>_r)throw new RangeError("size is too large");var Ir=gr,Ar=Er;Ar===void 0&&(Ir=void 0,Ar=0);var kr=new pr(mr);if(typeof Ar=="string")for(var Or=new pr(Ar,Ir),Dr=Or.length,Rr=-1;++Rr<mr;)kr[Rr]=Or[Rr%Dr];else kr.fill(Ar);return kr},or.allocUnsafe=function(mr){if(typeof pr.allocUnsafe=="function")return pr.allocUnsafe(mr);if(typeof mr!="number")throw new TypeError("size must be a number");if(mr>_r)throw new RangeError("size is too large");return new pr(mr)},or.from=function(mr,Er,gr){if(typeof pr.from=="function"&&(!fr.Uint8Array||Uint8Array.from!==pr.from))return pr.from(mr,Er,gr);if(typeof mr=="number")throw new TypeError('"value" argument must not be a number');if(typeof mr=="string")return new pr(mr,Er);if(typeof ArrayBuffer<"u"&&mr instanceof ArrayBuffer){var Ir=Er;if(arguments.length===1)return new pr(mr);typeof Ir>"u"&&(Ir=0);var Ar=gr;if(typeof Ar>"u"&&(Ar=mr.byteLength-Ir),Ir>=mr.byteLength)throw new RangeError("'offset' is out of bounds");if(Ar>mr.byteLength-Ir)throw new RangeError("'length' is out of bounds");return new pr(mr.slice(Ir,Ir+Ar))}if(pr.isBuffer(mr)){var kr=new pr(mr.length);return mr.copy(kr,0,0,mr.length),kr}if(mr){if(Array.isArray(mr)||typeof ArrayBuffer<"u"&&mr.buffer instanceof ArrayBuffer||"length"in mr)return new pr(mr);if(mr.type==="Buffer"&&Array.isArray(mr.data))return new pr(mr.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},or.allocUnsafeSlow=function(mr){if(typeof pr.allocUnsafeSlow=="function")return pr.allocUnsafeSlow(mr);if(typeof mr!="number")throw new TypeError("size must be a number");if(mr>=_r)throw new RangeError("size is too large");return new br(mr)}}).call(or,function(){return this}())},function(ar,or,ur){(function(fr){function dr(Nr){return Array.isArray?Array.isArray(Nr):Fr(Nr)==="[object Array]"}or.isArray=dr;function pr(Nr){return typeof Nr=="boolean"}or.isBoolean=pr;function br(Nr){return Nr===null}or.isNull=br;function _r(Nr){return Nr==null}or.isNullOrUndefined=_r;function yr(Nr){return typeof Nr=="number"}or.isNumber=yr;function mr(Nr){return typeof Nr=="string"}or.isString=mr;function Er(Nr){return typeof Nr=="symbol"}or.isSymbol=Er;function gr(Nr){return Nr===void 0}or.isUndefined=gr;function Ir(Nr){return Fr(Nr)==="[object RegExp]"}or.isRegExp=Ir;function Ar(Nr){return typeof Nr=="object"&&Nr!==null}or.isObject=Ar;function kr(Nr){return Fr(Nr)==="[object Date]"}or.isDate=kr;function Or(Nr){return Fr(Nr)==="[object Error]"||Nr instanceof Error}or.isError=Or;function Dr(Nr){return typeof Nr=="function"}or.isFunction=Dr;function Rr(Nr){return Nr===null||typeof Nr=="boolean"||typeof Nr=="number"||typeof Nr=="string"||typeof Nr=="symbol"||typeof Nr>"u"}or.isPrimitive=Rr,or.isBuffer=fr.isBuffer;function Fr(Nr){return Object.prototype.toString.call(Nr)}}).call(or,ur(1))},function(ar,or){},function(ar,or,ur){ur(2).Buffer;var fr=ur(17);ar.exports=dr;function dr(){this.head=null,this.tail=null,this.length=0}dr.prototype.push=function(pr){var br={data:pr,next:null};this.length>0?this.tail.next=br:this.head=br,this.tail=br,++this.length},dr.prototype.unshift=function(pr){var br={data:pr,next:this.head};this.length===0&&(this.tail=br),this.head=br,++this.length},dr.prototype.shift=function(){if(this.length!==0){var pr=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,pr}},dr.prototype.clear=function(){this.head=this.tail=null,this.length=0},dr.prototype.join=function(pr){if(this.length===0)return"";for(var br=this.head,_r=""+br.data;br=br.next;)_r+=pr+br.data;return _r},dr.prototype.concat=function(pr){if(this.length===0)return fr.alloc(0);if(this.length===1)return this.head.data;for(var br=fr.allocUnsafe(pr>>>0),_r=this.head,yr=0;_r;)_r.data.copy(br,yr),yr+=_r.data.length,_r=_r.next;return br}},function(ar,or,ur){var fr=Object.keys||function(kr){var Or=[];for(var Dr in kr)Or.push(Dr);return Or};ar.exports=gr;var dr=ur(15),pr=ur(18);pr.inherits=ur(12);var br=ur(14),_r=ur(22);pr.inherits(gr,br);for(var yr=fr(_r.prototype),mr=0;mr<yr.length;mr++){var Er=yr[mr];gr.prototype[Er]||(gr.prototype[Er]=_r.prototype[Er])}function gr(kr){if(!(this instanceof gr))return new gr(kr);br.call(this,kr),_r.call(this,kr),kr&&kr.readable===!1&&(this.readable=!1),kr&&kr.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,kr&&kr.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",Ir)}function Ir(){this.allowHalfOpen||this._writableState.ended||dr(Ar,this)}function Ar(kr){kr.end()}},function(ar,or,ur){(function(fr){ar.exports=Dr;var dr=ur(15),pr=!fr.browser&&["v0.10","v0.9."].indexOf(fr.version.slice(0,5))>-1?setImmediate:dr,br;Dr.WritableState=kr;var _r=ur(18);_r.inherits=ur(12);var yr={deprecate:ur(23)},mr;(function(){try{mr=ur(11)}catch{}finally{mr||(mr=ur(8).EventEmitter)}})();var Er=ur(2).Buffer,gr=ur(17);_r.inherits(Dr,mr);function Ir(){}function Ar(si,ci,$r){this.chunk=si,this.encoding=ci,this.callback=$r,this.next=null}function kr(si,ci){br=br||ur(21),si=si||{},this.objectMode=!!si.objectMode,ci instanceof br&&(this.objectMode=this.objectMode||!!si.writableObjectMode);var $r=si.highWaterMark,ei=this.objectMode?16:16*1024;this.highWaterMark=$r||$r===0?$r:ei,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var pi=si.decodeStrings===!1;this.decodeStrings=!pi,this.defaultEncoding=si.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ui){jr(ci,ui)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new Fi(this)}kr.prototype.getBuffer=function(){for(var ci=this.bufferedRequest,$r=[];ci;)$r.push(ci),ci=ci.next;return $r},function(){try{Object.defineProperty(kr.prototype,"buffer",{get:yr.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch{}}();var Or;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Or=Function.prototype[Symbol.hasInstance],Object.defineProperty(Dr,Symbol.hasInstance,{value:function(si){return Or.call(this,si)?!0:si&&si._writableState instanceof kr}})):Or=function(si){return si instanceof this};function Dr(si){if(br=br||ur(21),!Or.call(Dr,this)&&!(this instanceof br))return new Dr(si);this._writableState=new kr(si,this),this.writable=!0,si&&(typeof si.write=="function"&&(this._write=si.write),typeof si.writev=="function"&&(this._writev=si.writev)),mr.call(this)}Dr.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function Rr(si,ci){var $r=new Error("write after end");si.emit("error",$r),dr(ci,$r)}function Fr(si,ci,$r,ei){var pi=!0,ui=!1;return $r===null?ui=new TypeError("May not write null values to stream"):typeof $r!="string"&&$r!==void 0&&!ci.objectMode&&(ui=new TypeError("Invalid non-string/buffer chunk")),ui&&(si.emit("error",ui),dr(ei,ui),pi=!1),pi}Dr.prototype.write=function(si,ci,$r){var ei=this._writableState,pi=!1,ui=Er.isBuffer(si);return typeof ci=="function"&&($r=ci,ci=null),ui?ci="buffer":ci||(ci=ei.defaultEncoding),typeof $r!="function"&&($r=Ir),ei.ended?Rr(this,$r):(ui||Fr(this,ei,si,$r))&&(ei.pendingcb++,pi=Hr(this,ei,ui,si,ci,$r)),pi},Dr.prototype.cork=function(){var si=this._writableState;si.corked++},Dr.prototype.uncork=function(){var si=this._writableState;si.corked&&(si.corked--,!si.writing&&!si.corked&&!si.finished&&!si.bufferProcessing&&si.bufferedRequest&&ni(this,si))},Dr.prototype.setDefaultEncoding=function(ci){if(typeof ci=="string"&&(ci=ci.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ci+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+ci);return this._writableState.defaultEncoding=ci,this};function Nr(si,ci,$r){return!si.objectMode&&si.decodeStrings!==!1&&typeof ci=="string"&&(ci=gr.from(ci,$r)),ci}function Hr(si,ci,$r,ei,pi,ui){$r||(ei=Nr(ci,ei,pi),Er.isBuffer(ei)&&(pi="buffer"));var bi=ci.objectMode?1:ei.length;ci.length+=bi;var qi=ci.length<ci.highWaterMark;if(qi||(ci.needDrain=!0),ci.writing||ci.corked){var Ki=ci.lastBufferedRequest;ci.lastBufferedRequest=new Ar(ei,pi,ui),Ki?Ki.next=ci.lastBufferedRequest:ci.bufferedRequest=ci.lastBufferedRequest,ci.bufferedRequestCount+=1}else Ur(si,ci,!1,bi,ei,pi,ui);return qi}function Ur(si,ci,$r,ei,pi,ui,bi){ci.writelen=ei,ci.writecb=bi,ci.writing=!0,ci.sync=!0,$r?si._writev(pi,ci.onwrite):si._write(pi,ui,ci.onwrite),ci.sync=!1}function Zr(si,ci,$r,ei,pi){--ci.pendingcb,$r?dr(pi,ei):pi(ei),si._writableState.errorEmitted=!0,si.emit("error",ei)}function Gr(si){si.writing=!1,si.writecb=null,si.length-=si.writelen,si.writelen=0}function jr(si,ci){var $r=si._writableState,ei=$r.sync,pi=$r.writecb;if(Gr($r),ci)Zr(si,$r,ei,ci,pi);else{var ui=Mr($r);!ui&&!$r.corked&&!$r.bufferProcessing&&$r.bufferedRequest&&ni(si,$r),ei?pr(Jr,si,$r,ui,pi):Jr(si,$r,ui,pi)}}function Jr(si,ci,$r,ei){$r||Wr(si,ci),ci.pendingcb--,ei(),Ei(si,ci)}function Wr(si,ci){ci.length===0&&ci.needDrain&&(ci.needDrain=!1,si.emit("drain"))}function ni(si,ci){ci.bufferProcessing=!0;var $r=ci.bufferedRequest;if(si._writev&&$r&&$r.next){var ei=ci.bufferedRequestCount,pi=new Array(ei),ui=ci.corkedRequestsFree;ui.entry=$r;for(var bi=0;$r;)pi[bi]=$r,$r=$r.next,bi+=1;Ur(si,ci,!0,ci.length,pi,"",ui.finish),ci.pendingcb++,ci.lastBufferedRequest=null,ui.next?(ci.corkedRequestsFree=ui.next,ui.next=null):ci.corkedRequestsFree=new Fi(ci)}else{for(;$r;){var qi=$r.chunk,Ki=$r.encoding,Ti=$r.callback,ii=ci.objectMode?1:qi.length;if(Ur(si,ci,!1,ii,qi,Ki,Ti),$r=$r.next,ci.writing)break}$r===null&&(ci.lastBufferedRequest=null)}ci.bufferedRequestCount=0,ci.bufferedRequest=$r,ci.bufferProcessing=!1}Dr.prototype._write=function(si,ci,$r){$r(new Error("_write() is not implemented"))},Dr.prototype._writev=null,Dr.prototype.end=function(si,ci,$r){var ei=this._writableState;typeof si=="function"?($r=si,si=null,ci=null):typeof ci=="function"&&($r=ci,ci=null),si!=null&&this.write(si,ci),ei.corked&&(ei.corked=1,this.uncork()),!ei.ending&&!ei.finished&&_i(this,ei,$r)};function Mr(si){return si.ending&&si.length===0&&si.bufferedRequest===null&&!si.finished&&!si.writing}function di(si,ci){ci.prefinished||(ci.prefinished=!0,si.emit("prefinish"))}function Ei(si,ci){var $r=Mr(ci);return $r&&(ci.pendingcb===0?(di(si,ci),ci.finished=!0,si.emit("finish")):di(si,ci)),$r}function _i(si,ci,$r){ci.ending=!0,Ei(si,ci),$r&&(ci.finished?dr($r):si.once("finish",$r)),ci.ended=!0,si.writable=!1}function Fi(si){var ci=this;this.next=null,this.entry=null,this.finish=function($r){var ei=ci.entry;for(ci.entry=null;ei;){var pi=ei.callback;si.pendingcb--,pi($r),ei=ei.next}si.corkedRequestsFree?si.corkedRequestsFree.next=ci:si.corkedRequestsFree=ci}}}).call(or,ur(6))},function(ar,or){(function(ur){ar.exports=fr;function fr(pr,br){if(dr("noDeprecation"))return pr;var _r=!1;function yr(){if(!_r){if(dr("throwDeprecation"))throw new Error(br);dr("traceDeprecation")?console.trace(br):console.warn(br),_r=!0}return pr.apply(this,arguments)}return yr}function dr(pr){try{if(!ur.localStorage)return!1}catch{return!1}var br=ur.localStorage[pr];return br==null?!1:String(br).toLowerCase()==="true"}}).call(or,function(){return this}())},function(ar,or,ur){var fr=ur(2).Buffer,dr=fr.isEncoding||function(Er){switch(Er&&Er.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function pr(Er){if(Er&&!dr(Er))throw new Error("Unknown encoding: "+Er)}var br=or.StringDecoder=function(Er){switch(this.encoding=(Er||"utf8").toLowerCase().replace(/[-_]/,""),pr(Er),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=yr;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=mr;break;default:this.write=_r;return}this.charBuffer=new fr(6),this.charReceived=0,this.charLength=0};br.prototype.write=function(Er){for(var gr="";this.charLength;){var Ir=Er.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:Er.length;if(Er.copy(this.charBuffer,this.charReceived,0,Ir),this.charReceived+=Ir,this.charReceived<this.charLength)return"";Er=Er.slice(Ir,Er.length),gr=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var kr=gr.charCodeAt(gr.length-1);if(kr>=55296&&kr<=56319){this.charLength+=this.surrogateSize,gr="";continue}if(this.charReceived=this.charLength=0,Er.length===0)return gr;break}this.detectIncompleteChar(Er);var Ar=Er.length;this.charLength&&(Er.copy(this.charBuffer,0,Er.length-this.charReceived,Ar),Ar-=this.charReceived),gr+=Er.toString(this.encoding,0,Ar);var Ar=gr.length-1,kr=gr.charCodeAt(Ar);if(kr>=55296&&kr<=56319){var Or=this.surrogateSize;return this.charLength+=Or,this.charReceived+=Or,this.charBuffer.copy(this.charBuffer,Or,0,Or),Er.copy(this.charBuffer,0,0,Or),gr.substring(0,Ar)}return gr},br.prototype.detectIncompleteChar=function(Er){for(var gr=Er.length>=3?3:Er.length;gr>0;gr--){var Ir=Er[Er.length-gr];if(gr==1&&Ir>>5==6){this.charLength=2;break}if(gr<=2&&Ir>>4==14){this.charLength=3;break}if(gr<=3&&Ir>>3==30){this.charLength=4;break}}this.charReceived=gr},br.prototype.end=function(Er){var gr="";if(Er&&Er.length&&(gr=this.write(Er)),this.charReceived){var Ir=this.charReceived,Ar=this.charBuffer,kr=this.encoding;gr+=Ar.slice(0,Ir).toString(kr)}return gr};function _r(Er){return Er.toString(this.encoding)}function yr(Er){this.charReceived=Er.length%2,this.charLength=this.charReceived?2:0}function mr(Er){this.charReceived=Er.length%3,this.charLength=this.charReceived?3:0}},function(ar,or,ur){ar.exports=_r;var fr=ur(21),dr=ur(18);dr.inherits=ur(12),dr.inherits(_r,fr);function pr(mr){this.afterTransform=function(Er,gr){return br(mr,Er,gr)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function br(mr,Er,gr){var Ir=mr._transformState;Ir.transforming=!1;var Ar=Ir.writecb;if(!Ar)return mr.emit("error",new Error("no writecb in Transform class"));Ir.writechunk=null,Ir.writecb=null,gr!=null&&mr.push(gr),Ar(Er);var kr=mr._readableState;kr.reading=!1,(kr.needReadable||kr.length<kr.highWaterMark)&&mr._read(kr.highWaterMark)}function _r(mr){if(!(this instanceof _r))return new _r(mr);fr.call(this,mr),this._transformState=new pr(this);var Er=this;this._readableState.needReadable=!0,this._readableState.sync=!1,mr&&(typeof mr.transform=="function"&&(this._transform=mr.transform),typeof mr.flush=="function"&&(this._flush=mr.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(gr,Ir){yr(Er,gr,Ir)}):yr(Er)})}_r.prototype.push=function(mr,Er){return this._transformState.needTransform=!1,fr.prototype.push.call(this,mr,Er)},_r.prototype._transform=function(mr,Er,gr){throw new Error("_transform() is not implemented")},_r.prototype._write=function(mr,Er,gr){var Ir=this._transformState;if(Ir.writecb=gr,Ir.writechunk=mr,Ir.writeencoding=Er,!Ir.transforming){var Ar=this._readableState;(Ir.needTransform||Ar.needReadable||Ar.length<Ar.highWaterMark)&&this._read(Ar.highWaterMark)}},_r.prototype._read=function(mr){var Er=this._transformState;Er.writechunk!==null&&Er.writecb&&!Er.transforming?(Er.transforming=!0,this._transform(Er.writechunk,Er.writeencoding,Er.afterTransform)):Er.needTransform=!0};function yr(mr,Er,gr){if(Er)return mr.emit("error",Er);gr!=null&&mr.push(gr);var Ir=mr._writableState,Ar=mr._transformState;if(Ir.length)throw new Error("Calling transform done when ws.length != 0");if(Ar.transforming)throw new Error("Calling transform done when still transforming");return mr.push(null)}},function(ar,or,ur){ar.exports=pr;var fr=ur(25),dr=ur(18);dr.inherits=ur(12),dr.inherits(pr,fr);function pr(br){if(!(this instanceof pr))return new pr(br);fr.call(this,br)}pr.prototype._transform=function(br,_r,yr){yr(null,br)}},function(ar,or,ur){ar.exports=ur(22)},function(ar,or,ur){ar.exports=ur(21)},function(ar,or,ur){ar.exports=ur(25)},function(ar,or,ur){ar.exports=ur(26)},function(ar,or,ur){var fr=ur(32),dr=ur(33),pr=ur(38),br=ur(39),_r=ur(40),yr=ur(41),mr=ur(42),Er=Object.prototype.toString;function gr(kr){if(!(this instanceof gr))return new gr(kr);this.options=dr.assign({chunkSize:16384,windowBits:0,to:""},kr||{});var Or=this.options;Or.raw&&Or.windowBits>=0&&Or.windowBits<16&&(Or.windowBits=-Or.windowBits,Or.windowBits===0&&(Or.windowBits=-15)),Or.windowBits>=0&&Or.windowBits<16&&!(kr&&kr.windowBits)&&(Or.windowBits+=32),Or.windowBits>15&&Or.windowBits<48&&(Or.windowBits&15||(Or.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new yr,this.strm.avail_out=0;var Dr=fr.inflateInit2(this.strm,Or.windowBits);if(Dr!==br.Z_OK)throw new Error(_r[Dr]);this.header=new mr,fr.inflateGetHeader(this.strm,this.header)}gr.prototype.push=function(kr,Or){var Dr=this.strm,Rr=this.options.chunkSize,Fr=this.options.dictionary,Nr,Hr,Ur,Zr,Gr,jr,Jr=!1;if(this.ended)return!1;Hr=Or===~~Or?Or:Or===!0?br.Z_FINISH:br.Z_NO_FLUSH,typeof kr=="string"?Dr.input=pr.binstring2buf(kr):Er.call(kr)==="[object ArrayBuffer]"?Dr.input=new Uint8Array(kr):Dr.input=kr,Dr.next_in=0,Dr.avail_in=Dr.input.length;do{if(Dr.avail_out===0&&(Dr.output=new dr.Buf8(Rr),Dr.next_out=0,Dr.avail_out=Rr),Nr=fr.inflate(Dr,br.Z_NO_FLUSH),Nr===br.Z_NEED_DICT&&Fr&&(typeof Fr=="string"?jr=pr.string2buf(Fr):Er.call(Fr)==="[object ArrayBuffer]"?jr=new Uint8Array(Fr):jr=Fr,Nr=fr.inflateSetDictionary(this.strm,jr)),Nr===br.Z_BUF_ERROR&&Jr===!0&&(Nr=br.Z_OK,Jr=!1),Nr!==br.Z_STREAM_END&&Nr!==br.Z_OK)return this.onEnd(Nr),this.ended=!0,!1;Dr.next_out&&(Dr.avail_out===0||Nr===br.Z_STREAM_END||Dr.avail_in===0&&(Hr===br.Z_FINISH||Hr===br.Z_SYNC_FLUSH))&&(this.options.to==="string"?(Ur=pr.utf8border(Dr.output,Dr.next_out),Zr=Dr.next_out-Ur,Gr=pr.buf2string(Dr.output,Ur),Dr.next_out=Zr,Dr.avail_out=Rr-Zr,Zr&&dr.arraySet(Dr.output,Dr.output,Ur,Zr,0),this.onData(Gr)):this.onData(dr.shrinkBuf(Dr.output,Dr.next_out))),Dr.avail_in===0&&Dr.avail_out===0&&(Jr=!0)}while((Dr.avail_in>0||Dr.avail_out===0)&&Nr!==br.Z_STREAM_END);return Nr===br.Z_STREAM_END&&(Hr=br.Z_FINISH),Hr===br.Z_FINISH?(Nr=fr.inflateEnd(this.strm),this.onEnd(Nr),this.ended=!0,Nr===br.Z_OK):(Hr===br.Z_SYNC_FLUSH&&(this.onEnd(br.Z_OK),Dr.avail_out=0),!0)},gr.prototype.onData=function(kr){this.chunks.push(kr)},gr.prototype.onEnd=function(kr){kr===br.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=dr.flattenChunks(this.chunks)),this.chunks=[],this.err=kr,this.msg=this.strm.msg};function Ir(kr,Or){var Dr=new gr(Or);if(Dr.push(kr,!0),Dr.err)throw Dr.msg||_r[Dr.err];return Dr.result}function Ar(kr,Or){return Or=Or||{},Or.raw=!0,Ir(kr,Or)}or.Inflate=gr,or.inflate=Ir,or.inflateRaw=Ar,or.ungzip=Ir},function(ar,or,ur){var fr=ur(33),dr=ur(34),pr=ur(35),br=ur(36),_r=ur(37),yr=0,mr=1,Er=2,gr=4,Ir=5,Ar=6,kr=0,Or=1,Dr=2,Rr=-2,Fr=-3,Nr=-4,Hr=-5,Ur=8,Zr=1,Gr=2,jr=3,Jr=4,Wr=5,ni=6,Mr=7,di=8,Ei=9,_i=10,Fi=11,si=12,ci=13,$r=14,ei=15,pi=16,ui=17,bi=18,qi=19,Ki=20,Ti=21,ii=22,oi=23,Si=24,Di=25,Mi=26,Vr=27,hi=28,yi=29,ti=30,ri=31,xi=32,Ai=852,Kr=592,Pr=15,qr=Pr;function Xr(wi){return(wi>>>24&255)+(wi>>>8&65280)+((wi&65280)<<8)+((wi&255)<<24)}function ai(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new fr.Buf16(320),this.work=new fr.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function fi(wi){var Vi;return!wi||!wi.state?Rr:(Vi=wi.state,wi.total_in=wi.total_out=Vi.total=0,wi.msg="",Vi.wrap&&(wi.adler=Vi.wrap&1),Vi.mode=Zr,Vi.last=0,Vi.havedict=0,Vi.dmax=32768,Vi.head=null,Vi.hold=0,Vi.bits=0,Vi.lencode=Vi.lendyn=new fr.Buf32(Ai),Vi.distcode=Vi.distdyn=new fr.Buf32(Kr),Vi.sane=1,Vi.back=-1,kr)}function vi(wi){var Vi;return!wi||!wi.state?Rr:(Vi=wi.state,Vi.wsize=0,Vi.whave=0,Vi.wnext=0,fi(wi))}function Ri(wi,Vi){var Yr,zi;return!wi||!wi.state||(zi=wi.state,Vi<0?(Yr=0,Vi=-Vi):(Yr=(Vi>>4)+1,Vi<48&&(Vi&=15)),Vi&&(Vi<8||Vi>15))?Rr:(zi.window!==null&&zi.wbits!==Vi&&(zi.window=null),zi.wrap=Yr,zi.wbits=Vi,vi(wi))}function $i(wi,Vi){var Yr,zi;return wi?(zi=new ai,wi.state=zi,zi.window=null,Yr=Ri(wi,Vi),Yr!==kr&&(wi.state=null),Yr):Rr}function Xi(wi){return $i(wi,qr)}var ji=!0,Bi,Zi;function Aa(wi){if(ji){var Vi;for(Bi=new fr.Buf32(512),Zi=new fr.Buf32(32),Vi=0;Vi<144;)wi.lens[Vi++]=8;for(;Vi<256;)wi.lens[Vi++]=9;for(;Vi<280;)wi.lens[Vi++]=7;for(;Vi<288;)wi.lens[Vi++]=8;for(_r(mr,wi.lens,0,288,Bi,0,wi.work,{bits:9}),Vi=0;Vi<32;)wi.lens[Vi++]=5;_r(Er,wi.lens,0,32,Zi,0,wi.work,{bits:5}),ji=!1}wi.lencode=Bi,wi.lenbits=9,wi.distcode=Zi,wi.distbits=5}function Da(wi,Vi,Yr,zi){var la,Ui=wi.state;return Ui.window===null&&(Ui.wsize=1<<Ui.wbits,Ui.wnext=0,Ui.whave=0,Ui.window=new fr.Buf8(Ui.wsize)),zi>=Ui.wsize?(fr.arraySet(Ui.window,Vi,Yr-Ui.wsize,Ui.wsize,0),Ui.wnext=0,Ui.whave=Ui.wsize):(la=Ui.wsize-Ui.wnext,la>zi&&(la=zi),fr.arraySet(Ui.window,Vi,Yr-zi,la,Ui.wnext),zi-=la,zi?(fr.arraySet(Ui.window,Vi,Yr-zi,zi,0),Ui.wnext=zi,Ui.whave=Ui.wsize):(Ui.wnext+=la,Ui.wnext===Ui.wsize&&(Ui.wnext=0),Ui.whave<Ui.wsize&&(Ui.whave+=la))),0}function ba(wi,Vi){var Yr,zi,la,Ui,Ba,Hi,ma,ki,Oi,ko,na,Wi,vo,uo,pa=0,aa,Fa,Ma,Pa,Ss,Zo,ga,ja,Ra=new fr.Buf8(4),lo,no,ic=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!wi||!wi.state||!wi.output||!wi.input&&wi.avail_in!==0)return Rr;Yr=wi.state,Yr.mode===si&&(Yr.mode=ci),Ba=wi.next_out,la=wi.output,ma=wi.avail_out,Ui=wi.next_in,zi=wi.input,Hi=wi.avail_in,ki=Yr.hold,Oi=Yr.bits,ko=Hi,na=ma,ja=kr;e:for(;;)switch(Yr.mode){case Zr:if(Yr.wrap===0){Yr.mode=ci;break}for(;Oi<16;){if(Hi===0)break e;Hi--,ki+=zi[Ui++]<<Oi,Oi+=8}if(Yr.wrap&2&&ki===35615){Yr.check=0,Ra[0]=ki&255,Ra[1]=ki>>>8&255,Yr.check=pr(Yr.check,Ra,2,0),ki=0,Oi=0,Yr.mode=Gr;break}if(Yr.flags=0,Yr.head&&(Yr.head.done=!1),!(Yr.wrap&1)||(((ki&255)<<8)+(ki>>8))%31){wi.msg="incorrect header check",Yr.mode=ti;break}if((ki&15)!==Ur){wi.msg="unknown compression method",Yr.mode=ti;break}if(ki>>>=4,Oi-=4,ga=(ki&15)+8,Yr.wbits===0)Yr.wbits=ga;else if(ga>Yr.wbits){wi.msg="invalid window size",Yr.mode=ti;break}Yr.dmax=1<<ga,wi.adler=Yr.check=1,Yr.mode=ki&512?_i:si,ki=0,Oi=0;break;case Gr:for(;Oi<16;){if(Hi===0)break e;Hi--,ki+=zi[Ui++]<<Oi,Oi+=8}if(Yr.flags=ki,(Yr.flags&255)!==Ur){wi.msg="unknown compression method",Yr.mode=ti;break}if(Yr.flags&57344){wi.msg="unknown header flags set",Yr.mode=ti;break}Yr.head&&(Yr.head.text=ki>>8&1),Yr.flags&512&&(Ra[0]=ki&255,Ra[1]=ki>>>8&255,Yr.check=pr(Yr.check,Ra,2,0)),ki=0,Oi=0,Yr.mode=jr;case jr:for(;Oi<32;){if(Hi===0)break e;Hi--,ki+=zi[Ui++]<<Oi,Oi+=8}Yr.head&&(Yr.head.time=ki),Yr.flags&512&&(Ra[0]=ki&255,Ra[1]=ki>>>8&255,Ra[2]=ki>>>16&255,Ra[3]=ki>>>24&255,Yr.check=pr(Yr.check,Ra,4,0)),ki=0,Oi=0,Yr.mode=Jr;case Jr:for(;Oi<16;){if(Hi===0)break e;Hi--,ki+=zi[Ui++]<<Oi,Oi+=8}Yr.head&&(Yr.head.xflags=ki&255,Yr.head.os=ki>>8),Yr.flags&512&&(Ra[0]=ki&255,Ra[1]=ki>>>8&255,Yr.check=pr(Yr.check,Ra,2,0)),ki=0,Oi=0,Yr.mode=Wr;case Wr:if(Yr.flags&1024){for(;Oi<16;){if(Hi===0)break e;Hi--,ki+=zi[Ui++]<<Oi,Oi+=8}Yr.length=ki,Yr.head&&(Yr.head.extra_len=ki),Yr.flags&512&&(Ra[0]=ki&255,Ra[1]=ki>>>8&255,Yr.check=pr(Yr.check,Ra,2,0)),ki=0,Oi=0}else Yr.head&&(Yr.head.extra=null);Yr.mode=ni;case ni:if(Yr.flags&1024&&(Wi=Yr.length,Wi>Hi&&(Wi=Hi),Wi&&(Yr.head&&(ga=Yr.head.extra_len-Yr.length,Yr.head.extra||(Yr.head.extra=new Array(Yr.head.extra_len)),fr.arraySet(Yr.head.extra,zi,Ui,Wi,ga)),Yr.flags&512&&(Yr.check=pr(Yr.check,zi,Wi,Ui)),Hi-=Wi,Ui+=Wi,Yr.length-=Wi),Yr.length))break e;Yr.length=0,Yr.mode=Mr;case Mr:if(Yr.flags&2048){if(Hi===0)break e;Wi=0;do ga=zi[Ui+Wi++],Yr.head&&ga&&Yr.length<65536&&(Yr.head.name+=String.fromCharCode(ga));while(ga&&Wi<Hi);if(Yr.flags&512&&(Yr.check=pr(Yr.check,zi,Wi,Ui)),Hi-=Wi,Ui+=Wi,ga)break e}else Yr.head&&(Yr.head.name=null);Yr.length=0,Yr.mode=di;case di:if(Yr.flags&4096){if(Hi===0)break e;Wi=0;do ga=zi[Ui+Wi++],Yr.head&&ga&&Yr.length<65536&&(Yr.head.comment+=String.fromCharCode(ga));while(ga&&Wi<Hi);if(Yr.flags&512&&(Yr.check=pr(Yr.check,zi,Wi,Ui)),Hi-=Wi,Ui+=Wi,ga)break e}else Yr.head&&(Yr.head.comment=null);Yr.mode=Ei;case Ei:if(Yr.flags&512){for(;Oi<16;){if(Hi===0)break e;Hi--,ki+=zi[Ui++]<<Oi,Oi+=8}if(ki!==(Yr.check&65535)){wi.msg="header crc mismatch",Yr.mode=ti;break}ki=0,Oi=0}Yr.head&&(Yr.head.hcrc=Yr.flags>>9&1,Yr.head.done=!0),wi.adler=Yr.check=0,Yr.mode=si;break;case _i:for(;Oi<32;){if(Hi===0)break e;Hi--,ki+=zi[Ui++]<<Oi,Oi+=8}wi.adler=Yr.check=Xr(ki),ki=0,Oi=0,Yr.mode=Fi;case Fi:if(Yr.havedict===0)return wi.next_out=Ba,wi.avail_out=ma,wi.next_in=Ui,wi.avail_in=Hi,Yr.hold=ki,Yr.bits=Oi,Dr;wi.adler=Yr.check=1,Yr.mode=si;case si:if(Vi===Ir||Vi===Ar)break e;case ci:if(Yr.last){ki>>>=Oi&7,Oi-=Oi&7,Yr.mode=Vr;break}for(;Oi<3;){if(Hi===0)break e;Hi--,ki+=zi[Ui++]<<Oi,Oi+=8}switch(Yr.last=ki&1,ki>>>=1,Oi-=1,ki&3){case 0:Yr.mode=$r;break;case 1:if(Aa(Yr),Yr.mode=Ki,Vi===Ar){ki>>>=2,Oi-=2;break e}break;case 2:Yr.mode=ui;break;case 3:wi.msg="invalid block type",Yr.mode=ti}ki>>>=2,Oi-=2;break;case $r:for(ki>>>=Oi&7,Oi-=Oi&7;Oi<32;){if(Hi===0)break e;Hi--,ki+=zi[Ui++]<<Oi,Oi+=8}if((ki&65535)!==(ki>>>16^65535)){wi.msg="invalid stored block lengths",Yr.mode=ti;break}if(Yr.length=ki&65535,ki=0,Oi=0,Yr.mode=ei,Vi===Ar)break e;case ei:Yr.mode=pi;case pi:if(Wi=Yr.length,Wi){if(Wi>Hi&&(Wi=Hi),Wi>ma&&(Wi=ma),Wi===0)break e;fr.arraySet(la,zi,Ui,Wi,Ba),Hi-=Wi,Ui+=Wi,ma-=Wi,Ba+=Wi,Yr.length-=Wi;break}Yr.mode=si;break;case ui:for(;Oi<14;){if(Hi===0)break e;Hi--,ki+=zi[Ui++]<<Oi,Oi+=8}if(Yr.nlen=(ki&31)+257,ki>>>=5,Oi-=5,Yr.ndist=(ki&31)+1,ki>>>=5,Oi-=5,Yr.ncode=(ki&15)+4,ki>>>=4,Oi-=4,Yr.nlen>286||Yr.ndist>30){wi.msg="too many length or distance symbols",Yr.mode=ti;break}Yr.have=0,Yr.mode=bi;case bi:for(;Yr.have<Yr.ncode;){for(;Oi<3;){if(Hi===0)break e;Hi--,ki+=zi[Ui++]<<Oi,Oi+=8}Yr.lens[ic[Yr.have++]]=ki&7,ki>>>=3,Oi-=3}for(;Yr.have<19;)Yr.lens[ic[Yr.have++]]=0;if(Yr.lencode=Yr.lendyn,Yr.lenbits=7,lo={bits:Yr.lenbits},ja=_r(yr,Yr.lens,0,19,Yr.lencode,0,Yr.work,lo),Yr.lenbits=lo.bits,ja){wi.msg="invalid code lengths set",Yr.mode=ti;break}Yr.have=0,Yr.mode=qi;case qi:for(;Yr.have<Yr.nlen+Yr.ndist;){for(;pa=Yr.lencode[ki&(1<<Yr.lenbits)-1],aa=pa>>>24,Fa=pa>>>16&255,Ma=pa&65535,!(aa<=Oi);){if(Hi===0)break e;Hi--,ki+=zi[Ui++]<<Oi,Oi+=8}if(Ma<16)ki>>>=aa,Oi-=aa,Yr.lens[Yr.have++]=Ma;else{if(Ma===16){for(no=aa+2;Oi<no;){if(Hi===0)break e;Hi--,ki+=zi[Ui++]<<Oi,Oi+=8}if(ki>>>=aa,Oi-=aa,Yr.have===0){wi.msg="invalid bit length repeat",Yr.mode=ti;break}ga=Yr.lens[Yr.have-1],Wi=3+(ki&3),ki>>>=2,Oi-=2}else if(Ma===17){for(no=aa+3;Oi<no;){if(Hi===0)break e;Hi--,ki+=zi[Ui++]<<Oi,Oi+=8}ki>>>=aa,Oi-=aa,ga=0,Wi=3+(ki&7),ki>>>=3,Oi-=3}else{for(no=aa+7;Oi<no;){if(Hi===0)break e;Hi--,ki+=zi[Ui++]<<Oi,Oi+=8}ki>>>=aa,Oi-=aa,ga=0,Wi=11+(ki&127),ki>>>=7,Oi-=7}if(Yr.have+Wi>Yr.nlen+Yr.ndist){wi.msg="invalid bit length repeat",Yr.mode=ti;break}for(;Wi--;)Yr.lens[Yr.have++]=ga}}if(Yr.mode===ti)break;if(Yr.lens[256]===0){wi.msg="invalid code -- missing end-of-block",Yr.mode=ti;break}if(Yr.lenbits=9,lo={bits:Yr.lenbits},ja=_r(mr,Yr.lens,0,Yr.nlen,Yr.lencode,0,Yr.work,lo),Yr.lenbits=lo.bits,ja){wi.msg="invalid literal/lengths set",Yr.mode=ti;break}if(Yr.distbits=6,Yr.distcode=Yr.distdyn,lo={bits:Yr.distbits},ja=_r(Er,Yr.lens,Yr.nlen,Yr.ndist,Yr.distcode,0,Yr.work,lo),Yr.distbits=lo.bits,ja){wi.msg="invalid distances set",Yr.mode=ti;break}if(Yr.mode=Ki,Vi===Ar)break e;case Ki:Yr.mode=Ti;case Ti:if(Hi>=6&&ma>=258){wi.next_out=Ba,wi.avail_out=ma,wi.next_in=Ui,wi.avail_in=Hi,Yr.hold=ki,Yr.bits=Oi,br(wi,na),Ba=wi.next_out,la=wi.output,ma=wi.avail_out,Ui=wi.next_in,zi=wi.input,Hi=wi.avail_in,ki=Yr.hold,Oi=Yr.bits,Yr.mode===si&&(Yr.back=-1);break}for(Yr.back=0;pa=Yr.lencode[ki&(1<<Yr.lenbits)-1],aa=pa>>>24,Fa=pa>>>16&255,Ma=pa&65535,!(aa<=Oi);){if(Hi===0)break e;Hi--,ki+=zi[Ui++]<<Oi,Oi+=8}if(Fa&&!(Fa&240)){for(Pa=aa,Ss=Fa,Zo=Ma;pa=Yr.lencode[Zo+((ki&(1<<Pa+Ss)-1)>>Pa)],aa=pa>>>24,Fa=pa>>>16&255,Ma=pa&65535,!(Pa+aa<=Oi);){if(Hi===0)break e;Hi--,ki+=zi[Ui++]<<Oi,Oi+=8}ki>>>=Pa,Oi-=Pa,Yr.back+=Pa}if(ki>>>=aa,Oi-=aa,Yr.back+=aa,Yr.length=Ma,Fa===0){Yr.mode=Mi;break}if(Fa&32){Yr.back=-1,Yr.mode=si;break}if(Fa&64){wi.msg="invalid literal/length code",Yr.mode=ti;break}Yr.extra=Fa&15,Yr.mode=ii;case ii:if(Yr.extra){for(no=Yr.extra;Oi<no;){if(Hi===0)break e;Hi--,ki+=zi[Ui++]<<Oi,Oi+=8}Yr.length+=ki&(1<<Yr.extra)-1,ki>>>=Yr.extra,Oi-=Yr.extra,Yr.back+=Yr.extra}Yr.was=Yr.length,Yr.mode=oi;case oi:for(;pa=Yr.distcode[ki&(1<<Yr.distbits)-1],aa=pa>>>24,Fa=pa>>>16&255,Ma=pa&65535,!(aa<=Oi);){if(Hi===0)break e;Hi--,ki+=zi[Ui++]<<Oi,Oi+=8}if(!(Fa&240)){for(Pa=aa,Ss=Fa,Zo=Ma;pa=Yr.distcode[Zo+((ki&(1<<Pa+Ss)-1)>>Pa)],aa=pa>>>24,Fa=pa>>>16&255,Ma=pa&65535,!(Pa+aa<=Oi);){if(Hi===0)break e;Hi--,ki+=zi[Ui++]<<Oi,Oi+=8}ki>>>=Pa,Oi-=Pa,Yr.back+=Pa}if(ki>>>=aa,Oi-=aa,Yr.back+=aa,Fa&64){wi.msg="invalid distance code",Yr.mode=ti;break}Yr.offset=Ma,Yr.extra=Fa&15,Yr.mode=Si;case Si:if(Yr.extra){for(no=Yr.extra;Oi<no;){if(Hi===0)break e;Hi--,ki+=zi[Ui++]<<Oi,Oi+=8}Yr.offset+=ki&(1<<Yr.extra)-1,ki>>>=Yr.extra,Oi-=Yr.extra,Yr.back+=Yr.extra}if(Yr.offset>Yr.dmax){wi.msg="invalid distance too far back",Yr.mode=ti;break}Yr.mode=Di;case Di:if(ma===0)break e;if(Wi=na-ma,Yr.offset>Wi){if(Wi=Yr.offset-Wi,Wi>Yr.whave&&Yr.sane){wi.msg="invalid distance too far back",Yr.mode=ti;break}Wi>Yr.wnext?(Wi-=Yr.wnext,vo=Yr.wsize-Wi):vo=Yr.wnext-Wi,Wi>Yr.length&&(Wi=Yr.length),uo=Yr.window}else uo=la,vo=Ba-Yr.offset,Wi=Yr.length;Wi>ma&&(Wi=ma),ma-=Wi,Yr.length-=Wi;do la[Ba++]=uo[vo++];while(--Wi);Yr.length===0&&(Yr.mode=Ti);break;case Mi:if(ma===0)break e;la[Ba++]=Yr.length,ma--,Yr.mode=Ti;break;case Vr:if(Yr.wrap){for(;Oi<32;){if(Hi===0)break e;Hi--,ki|=zi[Ui++]<<Oi,Oi+=8}if(na-=ma,wi.total_out+=na,Yr.total+=na,na&&(wi.adler=Yr.check=Yr.flags?pr(Yr.check,la,na,Ba-na):dr(Yr.check,la,na,Ba-na)),na=ma,(Yr.flags?ki:Xr(ki))!==Yr.check){wi.msg="incorrect data check",Yr.mode=ti;break}ki=0,Oi=0}Yr.mode=hi;case hi:if(Yr.wrap&&Yr.flags){for(;Oi<32;){if(Hi===0)break e;Hi--,ki+=zi[Ui++]<<Oi,Oi+=8}if(ki!==(Yr.total&4294967295)){wi.msg="incorrect length check",Yr.mode=ti;break}ki=0,Oi=0}Yr.mode=yi;case yi:ja=Or;break e;case ti:ja=Fr;break e;case ri:return Nr;case xi:default:return Rr}return wi.next_out=Ba,wi.avail_out=ma,wi.next_in=Ui,wi.avail_in=Hi,Yr.hold=ki,Yr.bits=Oi,(Yr.wsize||na!==wi.avail_out&&Yr.mode<ti&&(Yr.mode<Vr||Vi!==gr))&&Da(wi,wi.output,wi.next_out,na-wi.avail_out),ko-=wi.avail_in,na-=wi.avail_out,wi.total_in+=ko,wi.total_out+=na,Yr.total+=na,Yr.wrap&&na&&(wi.adler=Yr.check=Yr.flags?pr(Yr.check,la,na,wi.next_out-na):dr(Yr.check,la,na,wi.next_out-na)),wi.data_type=Yr.bits+(Yr.last?64:0)+(Yr.mode===si?128:0)+(Yr.mode===Ki||Yr.mode===ei?256:0),(ko===0&&na===0||Vi===gr)&&ja===kr&&(ja=Hr),ja}function _o(wi){if(!wi||!wi.state)return Rr;var Vi=wi.state;return Vi.window&&(Vi.window=null),wi.state=null,kr}function co(wi,Vi){var Yr;return!wi||!wi.state||(Yr=wi.state,!(Yr.wrap&2))?Rr:(Yr.head=Vi,Vi.done=!1,kr)}function Co(wi,Vi){var Yr=Vi.length,zi,la,Ui;return!wi||!wi.state||(zi=wi.state,zi.wrap!==0&&zi.mode!==Fi)?Rr:zi.mode===Fi&&(la=1,la=dr(la,Vi,Yr,0),la!==zi.check)?Fr:(Ui=Da(wi,Vi,Yr,Yr),Ui?(zi.mode=ri,Nr):(zi.havedict=1,kr))}or.inflateReset=vi,or.inflateReset2=Ri,or.inflateResetKeep=fi,or.inflateInit=Xi,or.inflateInit2=$i,or.inflate=ba,or.inflateEnd=_o,or.inflateGetHeader=co,or.inflateSetDictionary=Co,or.inflateInfo="pako inflate (from Nodeca project)"},function(ar,or){var ur=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";or.assign=function(pr){for(var br=Array.prototype.slice.call(arguments,1);br.length;){var _r=br.shift();if(_r){if(typeof _r!="object")throw new TypeError(_r+"must be non-object");for(var yr in _r)_r.hasOwnProperty(yr)&&(pr[yr]=_r[yr])}}return pr},or.shrinkBuf=function(pr,br){return pr.length===br?pr:pr.subarray?pr.subarray(0,br):(pr.length=br,pr)};var fr={arraySet:function(pr,br,_r,yr,mr){if(br.subarray&&pr.subarray){pr.set(br.subarray(_r,_r+yr),mr);return}for(var Er=0;Er<yr;Er++)pr[mr+Er]=br[_r+Er]},flattenChunks:function(pr){var br,_r,yr,mr,Er,gr;for(yr=0,br=0,_r=pr.length;br<_r;br++)yr+=pr[br].length;for(gr=new Uint8Array(yr),mr=0,br=0,_r=pr.length;br<_r;br++)Er=pr[br],gr.set(Er,mr),mr+=Er.length;return gr}},dr={arraySet:function(pr,br,_r,yr,mr){for(var Er=0;Er<yr;Er++)pr[mr+Er]=br[_r+Er]},flattenChunks:function(pr){return[].concat.apply([],pr)}};or.setTyped=function(pr){pr?(or.Buf8=Uint8Array,or.Buf16=Uint16Array,or.Buf32=Int32Array,or.assign(or,fr)):(or.Buf8=Array,or.Buf16=Array,or.Buf32=Array,or.assign(or,dr))},or.setTyped(ur)},function(ar,or){function ur(fr,dr,pr,br){for(var _r=fr&65535|0,yr=fr>>>16&65535|0,mr=0;pr!==0;){mr=pr>2e3?2e3:pr,pr-=mr;do _r=_r+dr[br++]|0,yr=yr+_r|0;while(--mr);_r%=65521,yr%=65521}return _r|yr<<16|0}ar.exports=ur},function(ar,or){function ur(){for(var pr,br=[],_r=0;_r<256;_r++){pr=_r;for(var yr=0;yr<8;yr++)pr=pr&1?3988292384^pr>>>1:pr>>>1;br[_r]=pr}return br}var fr=ur();function dr(pr,br,_r,yr){var mr=fr,Er=yr+_r;pr^=-1;for(var gr=yr;gr<Er;gr++)pr=pr>>>8^mr[(pr^br[gr])&255];return pr^-1}ar.exports=dr},function(ar,or){var ur=30,fr=12;ar.exports=function(pr,br){var _r,yr,mr,Er,gr,Ir,Ar,kr,Or,Dr,Rr,Fr,Nr,Hr,Ur,Zr,Gr,jr,Jr,Wr,ni,Mr,di,Ei,_i;_r=pr.state,yr=pr.next_in,Ei=pr.input,mr=yr+(pr.avail_in-5),Er=pr.next_out,_i=pr.output,gr=Er-(br-pr.avail_out),Ir=Er+(pr.avail_out-257),Ar=_r.dmax,kr=_r.wsize,Or=_r.whave,Dr=_r.wnext,Rr=_r.window,Fr=_r.hold,Nr=_r.bits,Hr=_r.lencode,Ur=_r.distcode,Zr=(1<<_r.lenbits)-1,Gr=(1<<_r.distbits)-1;e:do{Nr<15&&(Fr+=Ei[yr++]<<Nr,Nr+=8,Fr+=Ei[yr++]<<Nr,Nr+=8),jr=Hr[Fr&Zr];t:for(;;){if(Jr=jr>>>24,Fr>>>=Jr,Nr-=Jr,Jr=jr>>>16&255,Jr===0)_i[Er++]=jr&65535;else if(Jr&16){Wr=jr&65535,Jr&=15,Jr&&(Nr<Jr&&(Fr+=Ei[yr++]<<Nr,Nr+=8),Wr+=Fr&(1<<Jr)-1,Fr>>>=Jr,Nr-=Jr),Nr<15&&(Fr+=Ei[yr++]<<Nr,Nr+=8,Fr+=Ei[yr++]<<Nr,Nr+=8),jr=Ur[Fr&Gr];r:for(;;){if(Jr=jr>>>24,Fr>>>=Jr,Nr-=Jr,Jr=jr>>>16&255,Jr&16){if(ni=jr&65535,Jr&=15,Nr<Jr&&(Fr+=Ei[yr++]<<Nr,Nr+=8,Nr<Jr&&(Fr+=Ei[yr++]<<Nr,Nr+=8)),ni+=Fr&(1<<Jr)-1,ni>Ar){pr.msg="invalid distance too far back",_r.mode=ur;break e}if(Fr>>>=Jr,Nr-=Jr,Jr=Er-gr,ni>Jr){if(Jr=ni-Jr,Jr>Or&&_r.sane){pr.msg="invalid distance too far back",_r.mode=ur;break e}if(Mr=0,di=Rr,Dr===0){if(Mr+=kr-Jr,Jr<Wr){Wr-=Jr;do _i[Er++]=Rr[Mr++];while(--Jr);Mr=Er-ni,di=_i}}else if(Dr<Jr){if(Mr+=kr+Dr-Jr,Jr-=Dr,Jr<Wr){Wr-=Jr;do _i[Er++]=Rr[Mr++];while(--Jr);if(Mr=0,Dr<Wr){Jr=Dr,Wr-=Jr;do _i[Er++]=Rr[Mr++];while(--Jr);Mr=Er-ni,di=_i}}}else if(Mr+=Dr-Jr,Jr<Wr){Wr-=Jr;do _i[Er++]=Rr[Mr++];while(--Jr);Mr=Er-ni,di=_i}for(;Wr>2;)_i[Er++]=di[Mr++],_i[Er++]=di[Mr++],_i[Er++]=di[Mr++],Wr-=3;Wr&&(_i[Er++]=di[Mr++],Wr>1&&(_i[Er++]=di[Mr++]))}else{Mr=Er-ni;do _i[Er++]=_i[Mr++],_i[Er++]=_i[Mr++],_i[Er++]=_i[Mr++],Wr-=3;while(Wr>2);Wr&&(_i[Er++]=_i[Mr++],Wr>1&&(_i[Er++]=_i[Mr++]))}}else if(Jr&64){pr.msg="invalid distance code",_r.mode=ur;break e}else{jr=Ur[(jr&65535)+(Fr&(1<<Jr)-1)];continue r}break}}else if(Jr&64)if(Jr&32){_r.mode=fr;break e}else{pr.msg="invalid literal/length code",_r.mode=ur;break e}else{jr=Hr[(jr&65535)+(Fr&(1<<Jr)-1)];continue t}break}}while(yr<mr&&Er<Ir);Wr=Nr>>3,yr-=Wr,Nr-=Wr<<3,Fr&=(1<<Nr)-1,pr.next_in=yr,pr.next_out=Er,pr.avail_in=yr<mr?5+(mr-yr):5-(yr-mr),pr.avail_out=Er<Ir?257+(Ir-Er):257-(Er-Ir),_r.hold=Fr,_r.bits=Nr}},function(ar,or,ur){var fr=ur(33),dr=15,pr=852,br=592,_r=0,yr=1,mr=2,Er=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],gr=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Ir=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Ar=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];ar.exports=function(Or,Dr,Rr,Fr,Nr,Hr,Ur,Zr){var Gr=Zr.bits,jr=0,Jr=0,Wr=0,ni=0,Mr=0,di=0,Ei=0,_i=0,Fi=0,si=0,ci,$r,ei,pi,ui,bi=null,qi=0,Ki,Ti=new fr.Buf16(dr+1),ii=new fr.Buf16(dr+1),oi=null,Si=0,Di,Mi,Vr;for(jr=0;jr<=dr;jr++)Ti[jr]=0;for(Jr=0;Jr<Fr;Jr++)Ti[Dr[Rr+Jr]]++;for(Mr=Gr,ni=dr;ni>=1&&Ti[ni]===0;ni--);if(Mr>ni&&(Mr=ni),ni===0)return Nr[Hr++]=1<<24|64<<16|0,Nr[Hr++]=1<<24|64<<16|0,Zr.bits=1,0;for(Wr=1;Wr<ni&&Ti[Wr]===0;Wr++);for(Mr<Wr&&(Mr=Wr),_i=1,jr=1;jr<=dr;jr++)if(_i<<=1,_i-=Ti[jr],_i<0)return-1;if(_i>0&&(Or===_r||ni!==1))return-1;for(ii[1]=0,jr=1;jr<dr;jr++)ii[jr+1]=ii[jr]+Ti[jr];for(Jr=0;Jr<Fr;Jr++)Dr[Rr+Jr]!==0&&(Ur[ii[Dr[Rr+Jr]]++]=Jr);if(Or===_r?(bi=oi=Ur,Ki=19):Or===yr?(bi=Er,qi-=257,oi=gr,Si-=257,Ki=256):(bi=Ir,oi=Ar,Ki=-1),si=0,Jr=0,jr=Wr,ui=Hr,di=Mr,Ei=0,ei=-1,Fi=1<<Mr,pi=Fi-1,Or===yr&&Fi>pr||Or===mr&&Fi>br)return 1;for(;;){Di=jr-Ei,Ur[Jr]<Ki?(Mi=0,Vr=Ur[Jr]):Ur[Jr]>Ki?(Mi=oi[Si+Ur[Jr]],Vr=bi[qi+Ur[Jr]]):(Mi=32+64,Vr=0),ci=1<<jr-Ei,$r=1<<di,Wr=$r;do $r-=ci,Nr[ui+(si>>Ei)+$r]=Di<<24|Mi<<16|Vr|0;while($r!==0);for(ci=1<<jr-1;si&ci;)ci>>=1;if(ci!==0?(si&=ci-1,si+=ci):si=0,Jr++,--Ti[jr]===0){if(jr===ni)break;jr=Dr[Rr+Ur[Jr]]}if(jr>Mr&&(si&pi)!==ei){for(Ei===0&&(Ei=Mr),ui+=Wr,di=jr-Ei,_i=1<<di;di+Ei<ni&&(_i-=Ti[di+Ei],!(_i<=0));)di++,_i<<=1;if(Fi+=1<<di,Or===yr&&Fi>pr||Or===mr&&Fi>br)return 1;ei=si&pi,Nr[ei]=Mr<<24|di<<16|ui-Hr|0}}return si!==0&&(Nr[ui+si]=jr-Ei<<24|64<<16|0),Zr.bits=Mr,0}},function(ar,or,ur){var fr=ur(33),dr=!0,pr=!0;try{String.fromCharCode.apply(null,[0])}catch{dr=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{pr=!1}for(var br=new fr.Buf8(256),_r=0;_r<256;_r++)br[_r]=_r>=252?6:_r>=248?5:_r>=240?4:_r>=224?3:_r>=192?2:1;br[254]=br[254]=1,or.string2buf=function(mr){var Er,gr,Ir,Ar,kr,Or=mr.length,Dr=0;for(Ar=0;Ar<Or;Ar++)gr=mr.charCodeAt(Ar),(gr&64512)===55296&&Ar+1<Or&&(Ir=mr.charCodeAt(Ar+1),(Ir&64512)===56320&&(gr=65536+(gr-55296<<10)+(Ir-56320),Ar++)),Dr+=gr<128?1:gr<2048?2:gr<65536?3:4;for(Er=new fr.Buf8(Dr),kr=0,Ar=0;kr<Dr;Ar++)gr=mr.charCodeAt(Ar),(gr&64512)===55296&&Ar+1<Or&&(Ir=mr.charCodeAt(Ar+1),(Ir&64512)===56320&&(gr=65536+(gr-55296<<10)+(Ir-56320),Ar++)),gr<128?Er[kr++]=gr:gr<2048?(Er[kr++]=192|gr>>>6,Er[kr++]=128|gr&63):gr<65536?(Er[kr++]=224|gr>>>12,Er[kr++]=128|gr>>>6&63,Er[kr++]=128|gr&63):(Er[kr++]=240|gr>>>18,Er[kr++]=128|gr>>>12&63,Er[kr++]=128|gr>>>6&63,Er[kr++]=128|gr&63);return Er};function yr(mr,Er){if(Er<65537&&(mr.subarray&&pr||!mr.subarray&&dr))return String.fromCharCode.apply(null,fr.shrinkBuf(mr,Er));for(var gr="",Ir=0;Ir<Er;Ir++)gr+=String.fromCharCode(mr[Ir]);return gr}or.buf2binstring=function(mr){return yr(mr,mr.length)},or.binstring2buf=function(mr){for(var Er=new fr.Buf8(mr.length),gr=0,Ir=Er.length;gr<Ir;gr++)Er[gr]=mr.charCodeAt(gr);return Er},or.buf2string=function(mr,Er){var gr,Ir,Ar,kr,Or=Er||mr.length,Dr=new Array(Or*2);for(Ir=0,gr=0;gr<Or;){if(Ar=mr[gr++],Ar<128){Dr[Ir++]=Ar;continue}if(kr=br[Ar],kr>4){Dr[Ir++]=65533,gr+=kr-1;continue}for(Ar&=kr===2?31:kr===3?15:7;kr>1&&gr<Or;)Ar=Ar<<6|mr[gr++]&63,kr--;if(kr>1){Dr[Ir++]=65533;continue}Ar<65536?Dr[Ir++]=Ar:(Ar-=65536,Dr[Ir++]=55296|Ar>>10&1023,Dr[Ir++]=56320|Ar&1023)}return yr(Dr,Ir)},or.utf8border=function(mr,Er){var gr;for(Er=Er||mr.length,Er>mr.length&&(Er=mr.length),gr=Er-1;gr>=0&&(mr[gr]&192)===128;)gr--;return gr<0||gr===0?Er:gr+br[mr[gr]]>Er?gr:Er}},function(ar,or){ar.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(ar,or){ar.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(ar,or){function ur(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}ar.exports=ur},function(ar,or){function ur(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}ar.exports=ur}])})})(browserfs$2);var browserfsExports=browserfs$2.exports;const browserfs=getDefaultExportFromCjs(browserfsExports),browserfs$1=_mergeNamespaces({__proto__:null,default:browserfs},[browserfsExports]),raUserdataDir$1="/home/web_user/retroarch/userdata";function createEmscriptenFS({FS:lr,PATH:cr,ERRNO_CODES:ar}){const or=new browserfsExports.FileSystem.InMemory,ur=new browserfsExports.FileSystem.MountableFileSystem;try{ur.umount(raUserdataDir$1)}catch{}return ur.mount(raUserdataDir$1,or),browserfsExports.initialize(ur),new browserfsExports.EmscriptenFS(lr,cr,ar)}function getEmscriptenModuleOverrides(lr){let cr;const ar=new Promise(ur=>{cr=ur});return{noInitialRun:!0,noExitRuntime:!1,locateFile(ur){return ur},print(...ur){console.info(...ur)},printErr(...ur){console.error(...ur)},quit(ur,fr){ur&&console.info(ur,fr)},async monitorRunDependencies(ur){return ur===0&&cr(),await ar},...lr}}const{Buffer:Buffer$1}=browserfsExports.BFSRequire("buffer"),path=browserfsExports.BFSRequire("path"),{basename,extname,dirname,join,relative}=path;function urlBaseName(lr){let cr=lr;try{cr=new URL(lr).pathname}catch{}const ar=basename(cr);try{return decodeURIComponent(ar)}catch{return ar}}function isAbsoluteUrl(lr){return!lr||typeof lr!="string"?!1:["http://","https://","//","data:","blob:"].some(ar=>lr.startsWith(ar))}async function blobToBuffer(lr){const cr=await lr.arrayBuffer();return Buffer$1.from(cr)}function stringToBuffer(lr){return Buffer$1.from(lr,"utf8")}function updateStyle(lr,cr){if(lr)for(const ar in cr){const or=cr[ar];lr.style[ar]=or||null}}function delay(lr){return new Promise(cr=>{setTimeout(cr,lr)})}function isGlobalScript(lr){return lr.startsWith("var Module")}function isEsmScript(lr){return lr.includes("import.meta.url")}function patchCoreJs({name:lr,js:cr}){let ar=cr;return isGlobalScript(cr)?ar=`export function getEmscripten({ Module }) {
        ${cr};
        Module.FS = FS;
        Module.PATH = PATH;
        Module.ERRNO_CODES = ERRNO_CODES;
        return { JSEvents, Module, exit: _emscripten_force_exit }
      }`:isEsmScript(cr)&&(ar=`${cr.replace("readyPromiseResolve(Module)","readyPromiseResolve({ JSEvents, Module, exit: _emscripten_force_exit })")};
      export function getEmscripten({ Module }) {
        return (libretro_${lr} || ${lr})(Module)
      }
    `),ar}async function importCoreJsAsESM({name,js}){const jsContent=patchCoreJs({name,js}),jsBlob=new Blob([jsContent],{type:"application/javascript"}),jsBlobUrl=URL.createObjectURL(jsBlob);if(!jsBlobUrl)throw new Error("invalid jsBlob");try{return await __vitePreload(()=>import(jsBlobUrl),[])}catch{return await eval("import(jsBlobUrl)")}finally{URL.revokeObjectURL(jsBlobUrl)}}function isNil(lr){return lr==null}function isPlainObject(lr){if(isNil(lr))return!1;const{constructor:cr}=lr;return cr===Object||!cr}function mergeSourceToTarget(lr,cr){for(const ar in cr)if(Object.prototype.hasOwnProperty.call(cr,ar)){const or=lr[ar],ur=cr[ar];isNil(or)?lr[ar]=ur:Array.isArray(or)&&Array.isArray(ur)?lr[ar]=[...or,...ur]:isPlainObject(or)&&isPlainObject(ur)?(lr[ar]=isPlainObject(or)?lr[ar]:{},mergeSourceToTarget(lr[ar],ur)):lr[ar]=ur}}function merge(lr,...cr){for(const ar of cr)mergeSourceToTarget(lr,ar)}const encoder=new TextEncoder,raUserdataDir="/home/web_user/retroarch/userdata",raBundleDir="/home/web_user/retroarch/bundle",raContentDir=join(raUserdataDir,"content"),raSystemDir=join(raUserdataDir,"system"),raConfigDir=join(raUserdataDir,"config"),raShaderDir=join(raBundleDir,"shaders","shaders_glsl"),raConfigPath=join(raUserdataDir,"retroarch.cfg"),raCoreConfigPath=join(raUserdataDir,"retroarch-core-options.cfg");class Emulator{constructor(cr){__publicField(this,"emscripten"),__publicField(this,"browserFS"),__publicField(this,"options"),__publicField(this,"messageQueue",[]),__publicField(this,"gameStatus","initial"),__publicField(this,"canvasInitialSize",{width:0,height:0}),this.options=cr}get romBaseName(){const{rom:[{fileName:cr}]}=this.options;return cr.slice(0,cr.lastIndexOf("."))}get stateFileDirectory(){const{core:cr}=this.options,ar=coreInfoMap[cr.name].corename;if(!ar)throw new Error(`invalid core name: ${cr.name}`);return join(raUserdataDir,"states",ar)}get stateFileName(){return join(this.stateFileDirectory,`${this.romBaseName}.state`)}get stateThumbnailFileName(){return`${this.stateFileName}.png`}getOptions(){return this.options}async launch(){await this.setupEmscripten(),this.checkIsAborted(),await this.setupRaConfigFile(),this.checkIsAborted();const{element:cr,style:ar,respondToGlobalEvents:or,waitForInteraction:ur,signal:fr}=this.options;if(updateStyle(cr,ar),cr.isConnected||(document.body.append(cr),fr==null||fr.addEventListener("abort",()=>{cr==null||cr.remove()})),this.canvasInitialSize=this.getElementSize(),or===!1){(!cr.tabIndex||cr.tabIndex===-1)&&(cr.tabIndex=0);const{activeElement:yr}=document;cr.focus(),fr==null||fr.addEventListener("abort",()=>{yr instanceof HTMLElement&&yr.focus()})}const{nostalgist:dr,beforeLaunch:pr,onLaunch:br}=this.options;pr&&await pr(dr);const _r=async()=>{this.runMain(),br&&await br(dr)};ur?ur({done:_r}):_r()}sendCommand(cr){const ar=encoder.encode(`${cr}
`);this.messageQueue.push([ar,0])}resume(){this.gameStatus==="paused"&&this.sendCommand("PAUSE_TOGGLE"),this.gameStatus="running"}restart(){this.sendCommand("RESET"),this.resume()}pause(){this.gameStatus==="running"&&this.sendCommand("PAUSE_TOGGLE"),this.gameStatus="paused"}getEmscripten(){if(!this.emscripten)throw new Error("emulator is not ready");return this.emscripten}async saveState(){this.clearStateFile(),this.sendCommand("SAVE_STATE");const cr=this.options.retroarchConfig.savestate_thumbnail_enable;let ar,or;cr?[ar,or]=await Promise.all([this.waitForEmscriptenFile(this.stateFileName),this.waitForEmscriptenFile(this.stateThumbnailFileName)]):ar=await this.waitForEmscriptenFile(this.stateFileName),this.clearStateFile();const ur=new Blob([ar],{type:"application/octet-stream"}),fr=or?new Blob([or],{type:"image/png"}):void 0;return{state:ur,thumbnail:fr}}async loadState(cr){this.clearStateFile();const{Module:ar}=this.getEmscripten(),{FS:or}=ar,ur=await blobToBuffer(cr);or.writeFile(this.stateFileName,ur),await this.waitForEmscriptenFile(this.stateFileName),this.sendCommand("LOAD_STATE")}exit(cr=0){const{emscripten:ar}=this;if(ar){const{Module:or,exit:ur,JSEvents:fr}=this.getEmscripten(),{FS:dr}=or;ur(cr),dr.unmount("/home"),fr.removeAllEventListeners()}}resize({width:cr,height:ar}){const{Module:or}=this.getEmscripten();typeof cr=="number"&&typeof ar=="number"&&or.setCanvasSize(cr,ar)}pressDown(cr,ar=1){const or=this.getKeyboardCode(cr,ar);or&&this.keyboardDown(or)}pressUp(cr,ar=1){const or=this.getKeyboardCode(cr,ar);or&&this.keyboardUp(or)}async press(cr,ar=1,or=100){const ur=this.getKeyboardCode(cr,ar);ur&&await this.keyboardPress(ur,or)}async screenshot(){this.sendCommand("SCREENSHOT");const cr=join(raUserdataDir,"screenshots"),ar=this.guessScreenshotFileName(),or=join(cr,ar),ur=await this.waitForEmscriptenFile(or),{Module:fr}=this.getEmscripten(),{FS:dr}=fr;dr.unlink(or);const pr={type:"image/png"};return new Blob([ur],pr)}getElementSize(){const{element:cr,size:ar}=this.options;return!ar||ar==="auto"?{width:cr.offsetWidth,height:cr.offsetHeight}:ar}async writeBlobToDirectory({fileName:cr,fileContent:ar,directory:or}){const{Module:ur}=this.getEmscripten(),{FS:fr}=ur,dr=await blobToBuffer(ar);fr.createDataFile("/",cr,dr,!0,!1);const pr="binary",br=fr.readFile(cr,{encoding:pr});fr.mkdirTree(or),fr.writeFile(join(or,cr),br,{encoding:pr}),fr.unlink(cr)}writeTextToDirectory({fileName:cr,fileContent:ar,directory:or}){const{Module:ur}=this.getEmscripten(),{FS:fr}=ur,dr=stringToBuffer(ar);fr.createDataFile("/",cr,dr,!0,!1);const pr="binary",br=fr.readFile(cr,{encoding:pr});fr.mkdirTree(or),fr.writeFile(join(or,cr),br,{encoding:pr}),fr.unlink(cr)}async setupFileSystem(){const{Module:cr}=this.getEmscripten(),{FS:ar,PATH:or,ERRNO_CODES:ur}=cr,{rom:fr,bios:dr,state:pr}=this.options,br=createEmscriptenFS({FS:ar,PATH:or,ERRNO_CODES:ur});this.browserFS=br,ar.mount(br,{root:"/home"},"/home"),fr.length>0&&ar.mkdirTree(raContentDir),dr.length>0&&ar.mkdirTree(raSystemDir),pr&&ar.mkdirTree(this.stateFileDirectory);const _r=100;let yr=0;for(;!cr.asm&&yr<_r;)await delay(10),this.checkIsAborted(),yr+=5;const mr=[];if(mr.push(...fr.map(Er=>this.writeBlobToDirectory({...Er,directory:raContentDir})),...dr.map(Er=>this.writeBlobToDirectory({...Er,directory:raSystemDir}))),pr){const Er=this.writeBlobToDirectory({fileName:`${this.romBaseName}.state.auto`,fileContent:pr,directory:this.stateFileDirectory});mr.push(Er)}await Promise.all(mr),this.checkIsAborted()}async setupEmscripten(){var cr;typeof window=="object"&&(window.setImmediate??(window.setImmediate=window.setTimeout));const{element:ar,core:or,emscriptenModule:ur}=this.options,{wasm:fr}=or,dr={wasmBinary:fr,canvas:ar,preRun:[],...ur},pr=getEmscriptenModuleOverrides(dr);(cr=pr.preRun)==null||cr.push(()=>pr.FS.init(()=>this.stdin()));const{getEmscripten:br}=await importCoreJsAsESM(or),_r=await br({Module:pr});this.emscripten=_r;const{Module:yr}=_r;await yr.monitorRunDependencies(),this.checkIsAborted(),await this.setupFileSystem()}stdin(){const{messageQueue:cr}=this;for(;cr.length>0;){const ar=cr[0][0],or=cr[0][1];if(or>=ar.length)cr.shift();else return cr[0][1]=or+1,ar[or]}return null}writeConfigFile({path:cr,config:ar}){const{Module:or}=this.getEmscripten(),{FS:ur}=or,fr=cr.slice(0,cr.lastIndexOf("/"));ur.mkdirTree(fr);for(const _r in ar)ar[_r]=`__${ar[_r]}__`;let dr=ini$1.stringify(ar,{whitespace:!0,platform:"linux"});dr=dr.replaceAll("__",'"');const pr=basename(cr),br=dirname(cr);this.writeTextToDirectory({fileContent:dr,fileName:pr,directory:br})}async setupRaConfigFile(){this.writeConfigFile({path:raConfigPath,config:this.options.retroarchConfig}),this.writeConfigFile({path:raCoreConfigPath,config:this.options.retroarchCoreConfig}),await this.setupRaShaderFile()}async setupRaShaderFile(){const{shader:cr}=this.options;if(cr.length===0)return;const ar=cr.filter(ur=>ur.fileName.endsWith(".glslp"));if(ar.length===0)return;const or=ar.map(ur=>`#reference "${join(raShaderDir,ur.fileName)}"`).join(`
`);this.writeTextToDirectory({fileName:"global.glslp",fileContent:or,directory:raConfigDir}),await Promise.all(cr.map(async({fileName:ur,fileContent:fr})=>{const dr=ur.endsWith(".glslp")?raShaderDir:join(raShaderDir,"shaders");await this.writeBlobToDirectory({fileName:ur,fileContent:fr,directory:dr})}))}runMain(){this.checkIsAborted();const{Module:cr}=this.getEmscripten(),{arguments:ar=[]}=cr,{rom:or,signal:ur}=this.options;if(!cr.arguments&&or.length>0){const[{fileName:fr}]=or;ar.push(join(raContentDir,fr))}cr.callMain(ar),ur==null||ur.addEventListener("abort",()=>{this.exit()}),this.gameStatus="running",this.postRun()}postRun(){this.resize(this.canvasInitialSize),this.fireGamepadEvents(),this.updateKeyboardEventHandlers()}fireGamepadEvents(){var cr;for(const ar of((cr=navigator.getGamepads)==null?void 0:cr.call(navigator))??[])ar&&window.dispatchEvent(new GamepadEvent("gamepadconnected",{gamepad:ar}))}updateKeyboardEventHandlers(){const{JSEvents:cr}=this.getEmscripten(),{respondToGlobalEvents:ar,element:or}=this.options;ar||(or.getAttribute("tabindex")||(or.tabIndex=-1),or.focus(),or.addEventListener("click",()=>{or.focus()}));const ur=new Set(["keyup","keydown","keypress"]),fr=cr.eventHandlers.filter(({eventTypeString:dr,target:pr})=>ur.has(dr)&&(pr===document||pr===or));for(const dr of fr){const{eventTypeString:pr,target:br,handlerFunc:_r}=dr;cr.registerOrRemoveHandler({eventTypeString:pr,target:br}),cr.registerOrRemoveHandler({...dr,target:ar?document:or,handlerFunc:(...yr)=>{const[mr]=yr;(ar||(mr==null?void 0:mr.target)===or)&&_r(...yr)}})}}async waitForEmscriptenFile(cr){const{Module:ar}=this.getEmscripten(),{FS:or}=ar,ur=30;let fr,dr=!1,pr=0;for(;pr<=ur&&!dr;){const br=Math.min(100*2**pr,1e3);await delay(br);try{const _r=or.readFile(cr).buffer;dr=(fr==null?void 0:fr.byteLength)>0&&(fr==null?void 0:fr.byteLength)===_r.byteLength,fr=_r}catch(_r){console.warn(_r)}pr+=1}if(!dr)throw new Error("fs timeout");return fr}clearStateFile(){const{Module:cr}=this.getEmscripten(),{FS:ar}=cr;try{ar.unlink(this.stateFileName),ar.unlink(this.stateThumbnailFileName)}catch{}}getCurrentRetroarchConfig(){const{Module:cr}=this.getEmscripten(),{FS:ar}=cr,or=ar.readFile(raConfigPath,{encoding:"utf8"});return ini$1.parse(or)}fireKeyboardEvent(cr,ar){const{JSEvents:or}=this.getEmscripten();for(const{eventTypeString:ur,eventListenerFunc:fr}of or.eventHandlers)if(ur===cr)try{fr({code:ar,target:this.options.element})}catch{}}getKeyboardCode(cr,ar=1){const or=this.getCurrentRetroarchConfig(),ur=`input_player${ar}_${cr}`,fr=or[ur];if(!fr||fr==="nul")return;const{length:dr}=fr;return dr===1?`Key${fr.toUpperCase()}`:fr[0]==="f"&&(dr===2||dr===3)?fr.toUpperCase():dr===4&&fr.startsWith("num")?`Numpad${fr.at(-1)}`:dr===7&&fr.startsWith("keypad")?`Digit${fr.at(-1)}`:keyboardCodeMap[fr]||""}keyboardUp(cr){this.fireKeyboardEvent("keyup",cr)}keyboardDown(cr){this.fireKeyboardEvent("keydown",cr)}async keyboardPress(cr,ar=100){this.keyboardDown(cr),await delay(ar),this.keyboardUp(cr)}guessScreenshotFileName(){const cr=new Date,ar=cr.getFullYear()%1e3,or=padZero(cr.getMonth()+1),ur=padZero(cr.getDate()),fr=padZero(cr.getHours()),dr=padZero(cr.getMinutes()),pr=padZero(cr.getSeconds()),br=`${ar}${or}${ur}-${fr}${dr}${pr}`;return`${this.romBaseName}-${br}.png`}checkIsAborted(){var cr;if((cr=this.options.signal)!=null&&cr.aborted)throw new Error("Launch aborted")}}function padZero(lr){return(lr<10?"0":"")+lr}const defaultRetroarchConfig={menu_driver:"rgui",notification_show_when_menu_is_alive:!0,savestate_auto_load:!0,savestate_thumbnail_enable:!0,stdin_cmd_enable:!0,video_shader_enable:!0,input_audio_mute:"nul",input_cheat_index_minus:"nul",input_cheat_index_plus:"nul",input_cheat_toggle:"nul",input_desktop_menu_toggle:"nul",input_exit_emulator:"nul",input_fps_toggle:"nul",input_frame_advance:"nul",input_game_focus_toggle:"nul",input_grab_mouse_toggle:"nul",input_hold_fast_forward:"nul",input_hold_slowmotion:"nul",input_load_state:"nul",input_netplay_game_watch:"nul",input_netplay_player_chat:"nul",input_pause_toggle:"nul",input_reset:"nul",input_rewind:"nul",input_save_state:"nul",input_screenshot:"nul",input_shader_next:"nul",input_shader_prev:"nul",input_shader_toggle:"nul",input_state_slot_decrease:"nul",input_state_slot_increase:"nul",input_toggle_fast_forward:"nul",input_toggle_fullscreen:"nul",input_volume_down:"nul",input_volume_up:"nul",input_player1_analog_dpad_mode:1,input_player2_analog_dpad_mode:1,input_player3_analog_dpad_mode:1,input_player4_analog_dpad_mode:1},cdnBaseUrl="https://cdn.jsdelivr.net/gh",coreRepo="arianrhodsandlot/retroarch-emscripten-build",coreVersion="v1.17.0",coreDirectory="retroarch",shaderRepo="libretro/glsl-shaders",shaderVersion="bc8df9";function getDefaultOptions(){return{element:"",runEmulatorManually:!1,retroarchConfig:defaultRetroarchConfig,retroarchCoreConfig:{},resolveCoreJs(cr){return`${cdnBaseUrl}/${coreRepo}@${coreVersion}/${coreDirectory}/${cr}_libretro.js`},resolveCoreWasm(cr){return`${cdnBaseUrl}/${coreRepo}@${coreVersion}/${coreDirectory}/${cr}_libretro.wasm`},resolveRom(cr){if(typeof cr!="string")return cr||[];if(isAbsoluteUrl(cr))return cr;let ar="";if(cr.endsWith(".nes")?ar="retrobrews/nes-games":cr.endsWith(".sfc")?ar="retrobrews/snes-games":cr.endsWith(".gb")||cr.endsWith(".gbc")?ar="retrobrews/gbc-games":cr.endsWith(".gba")?ar="retrobrews/gba-games":cr.endsWith(".sms")?ar="retrobrews/sms-games":(cr.endsWith(".md")||cr.endsWith(".bin"))&&(ar="retrobrews/md-games"),ar){const or=encodeURIComponent(cr);return`${cdnBaseUrl}/${ar}@master/${or}`}return cr||[]},resolveBios(cr){return cr||[]},resolveShader(cr){if(!cr)return[];const ar=`${cdnBaseUrl}/${shaderRepo}@${shaderVersion}/${cr}.glslp`,or=cr.split(path.sep);or.splice(-1,0,"shaders");const ur=`${cdnBaseUrl}/${shaderRepo}@${shaderVersion}/${or.join(path.sep)}.glsl`;return[ar,ur]}}}const vendors={ini:ini$1,browserfs:browserfs$1},_Nostalgist=class Va{constructor(cr){__publicField(this,"options"),__publicField(this,"emulatorOptions"),__publicField(this,"emulator");const ar={...Va.globalOptions},or={...cr},ur={};merge(ur,ar,or),this.options=ur}static resetToDefault(){Va.configure(getDefaultOptions())}static configure(cr){merge(Va.globalOptions,cr)}static async launch(cr){const ar=new Va(cr);return await ar.launch(),ar}static async gb(cr){return await Va.launchSystem("gb",cr)}static async gba(cr){return await Va.launchSystem("gba",cr)}static async gbc(cr){return await Va.launchSystem("gbc",cr)}static async megadrive(cr){return await Va.launchSystem("megadrive",cr)}static async nes(cr){return await Va.launchSystem("nes",cr)}static async snes(cr){return await Va.launchSystem("snes",cr)}static getCoreForSystem(cr){return systemCoreMap[cr]}static async launchSystem(cr,ar){const or=typeof ar=="string"||ar instanceof File||"fileName"in ar&&"fileContent"in ar?{rom:ar}:ar,ur=Va.getCoreForSystem(cr);return await Va.launch({...or,core:ur})}getEmulator(){const{emulator:cr}=this;if(!cr)throw new Error("emulator is not ready");return cr}getEmulatorOptions(){if(!this.emulatorOptions)throw new Error("emulator options are not ready");return this.emulatorOptions}getCanvas(){return this.getEmulatorOptions().element}async launchEmulator(){return await this.getEmulator().launch()}getEmscriptenModule(){return this.getEmulator().getEmscripten().Module}getEmscriptenFS(){return this.getEmulator().getEmscripten().Module.FS}getBrowserFS(){return this.getEmulator().browserFS}getOptions(){return this.options}async saveState(){return await this.getEmulator().saveState()}async loadState(cr){await this.getEmulator().loadState(cr)}resume(){this.getEmulator().resume()}pause(){this.getEmulator().pause()}restart(){this.getEmulator().restart()}exit({removeCanvas:cr=!0}={}){this.getEmulator().exit(),cr&&this.getCanvas().remove()}resize(cr){return this.getEmulator().resize(cr)}pressDown(cr){const ar=this.getEmulator();return typeof cr=="string"?ar.pressDown(cr):ar.pressDown(cr.button,cr.player)}pressUp(cr){const ar=this.getEmulator();return typeof cr=="string"?ar.pressUp(cr):ar.pressUp(cr.button,cr.player)}async press(cr){const ar=this.getEmulator();await(typeof cr=="string"?ar.press(cr):ar.press(cr.button,cr.player,cr.time))}async screenshot(){return await this.getEmulator().screenshot()}sendCommand(cr){return this.getEmulator().sendCommand(cr)}async launch(){await this.loadEmulatorOptions(),this.checkIsAborted(),this.loadEmulator(),this.options.runEmulatorManually||await this.launchEmulator()}async loadEmulatorOptions(){const{size:cr="auto",respondToGlobalEvents:ar=!0,state:or,waitForInteraction:ur,signal:fr,beforeLaunch:dr,onLaunch:pr,emscriptenModule:br={}}=this.options,_r=this.getElementOption(),yr=this.getStyleOption(),mr=this.getRetroarchOption(),Er=this.getRetroarchCoreOption(),[gr,Ir,Ar,kr]=await Promise.all([this.getCoreOption(),this.getRomOption(),this.getBiosOption(),this.getShaderOption()]);this.checkIsAborted();const Or={element:_r,style:yr,size:cr,core:gr,rom:Ir,bios:Ar,shader:kr,state:or,respondToGlobalEvents:ar,retroarchConfig:mr,retroarchCoreConfig:Er,waitForInteraction:ur,emscriptenModule:br,signal:fr,beforeLaunch:dr,onLaunch:pr,nostalgist:this};this.emulatorOptions=Or}getElementOption(){if(typeof document!="object")throw new TypeError("document must be an object");let{element:cr}=this.options;if(typeof cr=="string"&&cr){const ar=document.body.querySelector(cr);if(!ar)throw new Error(`can not find element "${cr}"`);if(!(ar instanceof HTMLCanvasElement))throw new TypeError(`element "${cr}" is not a canvas element`);cr=ar}if(cr||(cr=document.createElement("canvas")),cr instanceof HTMLCanvasElement)return cr.id="canvas",cr;throw new TypeError("invalid element")}getStyleOption(){const{element:cr,style:ar}=this.options,or={backgroundColor:"black",imageRendering:"pixelated"};if(cr)return merge(or,ar),or;const ur={position:"fixed",top:"0",left:"0",width:"100%",height:"100%",zIndex:"1"};return merge(ur,or,ar),ur}async getCoreOption(){const{core:cr,resolveCoreJs:ar,resolveCoreWasm:or}=this.options;let ur;if(typeof cr=="string"){const[_r,yr]=await Promise.all([ar(cr,this.options),or(cr,this.options)]);ur={name:cr,js:_r,wasm:yr}}else ur=cr;let{name:fr,js:dr,wasm:pr}=ur;const br=[];return typeof dr=="string"&&br.push((async()=>{dr=await(await this.fetch(dr)).text()})()),typeof pr=="string"&&br.push((async()=>{pr=await(await this.fetch(pr)).arrayBuffer()})()),br.length>0&&await Promise.all(br),{name:fr,js:dr,wasm:pr}}async resolveStringFile(cr,ar){let or=urlBaseName(cr),ur;const fr=ar?await ar(cr,this.options):cr;if(fr)fr instanceof Blob?ur=fr:typeof fr=="string"&&(or=urlBaseName(fr),ur=await(await this.fetch(fr)).blob());else throw new Error("file is invalid");return{fileName:or,fileContent:ur}}async resolveFile(cr,ar){let or="",ur;if(cr instanceof File)ur=cr,or=cr.name;else if(cr instanceof Blob)ur=cr,or="rom.bin";else if(typeof cr=="string"){const fr=await this.resolveStringFile(cr,ar);or=fr.fileName,ur=fr.fileContent}else typeof cr.fileName=="string"&&(or=cr.fileName),cr.fileContent instanceof Blob&&(ur=cr.fileContent);if(!ur)throw new TypeError("file content is invalid");return or=or?or.replaceAll(/["%*/:<>?\\|]/g,"-"):"rom.bin",{fileName:or,fileContent:ur}}async getRomOption(){const{rom:cr,resolveRom:ar}=this.options;if(!cr)return[];const or=Array.isArray(cr)?cr:[cr];return await Promise.all(or.map(ur=>this.resolveFile(ur,ar)))}async getBiosOption(){const{bios:cr,resolveBios:ar}=this.options;if(!cr)return[];const or=Array.isArray(cr)?cr:[cr];return await Promise.all(or.map(ur=>this.resolveFile(ur,ar)))}async getShaderOption(){const{shader:cr,resolveShader:ar}=this.options;if(!cr)return[];const or=await ar(cr,this.options);return Array.isArray(or)?or.length>0?await Promise.all(or.map(ur=>this.resolveFile(ur))):[]:or?[await this.resolveFile(or)]:[]}getRetroarchOption(){const cr={};return merge(cr,Va.globalOptions.retroarchConfig,this.options.retroarchConfig),cr}getRetroarchCoreOption(){const cr={};return merge(cr,Va.globalOptions.retroarchCoreConfig,this.options.retroarchCoreConfig),cr}loadEmulator(){const cr=this.getEmulatorOptions(),ar=new Emulator(cr);this.emulator=ar}async fetch(cr){const{signal:ar=null}=this.options;return await fetch(cr,{signal:ar})}checkIsAborted(){var cr;if((cr=this.options.signal)!=null&&cr.aborted)throw new Error("Launch aborted")}};__publicField(_Nostalgist,"Nostalgist",_Nostalgist);__publicField(_Nostalgist,"vendors",vendors);__publicField(_Nostalgist,"globalOptions",getDefaultOptions());let Nostalgist=_Nostalgist;function _0x126d(lr,cr){var ar=_0x26e3();return _0x126d=function(or,ur){or=or-363;var fr=ar[or];return fr},_0x126d(lr,cr)}function _0x26e3(){var lr=["830AiUTOX","28566725VoXGHk","16YLylyw","4cxSxiR","183nJZTuo","8051694Yehzrs","792PKjkLo","6189740zfPYNd","19268eYKsWg","830690JbWlrd","12MeSsDL","1636747ZUPrQf"];return _0x26e3=function(){return lr},_0x26e3()}(function(lr,cr){for(var ar=_0x126d,or=lr();[];)try{var ur=parseInt(ar(363))/1+parseInt(ar(374))/2*(parseInt(ar(370))/3)+parseInt(ar(369))/4*(parseInt(ar(373))/5)+parseInt(ar(371))/6+parseInt(ar(365))/7*(-parseInt(ar(368))/8)+parseInt(ar(372))/9*(-parseInt(ar(366))/10)+-parseInt(ar(367))/11*(parseInt(ar(364))/12);if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x26e3,926340);const _0x5f2243={platform_id:"",core:"",platform_name:"",short_name:"",theme:{},dependencies:"",fire_buttons:0,additional_buttons:{}},_0x9b731d=_0x5b74;(function(lr,cr){const ar=_0x5b74,or=lr();for(;[];)try{if(parseInt(ar(463))/1+-parseInt(ar(454))/2*(parseInt(ar(458))/3)+-parseInt(ar(456))/4*(-parseInt(ar(451))/5)+-parseInt(ar(448))/6*(-parseInt(ar(461))/7)+-parseInt(ar(452))/8*(-parseInt(ar(443))/9)+parseInt(ar(462))/10+-parseInt(ar(457))/11===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x13eb,580840);function _0x5b74(lr,cr){const ar=_0x13eb();return _0x5b74=function(or,ur){return or=or-442,ar[or]},_0x5b74(lr,cr)}const NES={..._0x5f2243,platform_id:_0x9b731d(442),core:_0x9b731d(447),platform_name:_0x9b731d(444),short_name:_0x9b731d(459),theme:{"--color0":_0x9b731d(460),"--color1":"#eeeeee","--color2":"#e45c10","--color3":_0x9b731d(455),"--font":_0x9b731d(459),"--cursorwidth":_0x9b731d(453),"--transform":"uppercase"},shader:[_0x9b731d(464),"assets/shaders/crt/shaders/crt-geom.glsl"],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x9b731d(450)]],default_touch_controller:JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC,fire_buttons:2,additional_buttons:{1:{label:_0x9b731d(449),keyCode:_0x9b731d(446)},2:{label:_0x9b731d(445),keyCode:"start"}}};function _0x13eb(){const lr=["21308jRIFIm","assets/shaders/crt/crt-geom.glslp","nes","198837fyUhAi","Nintendo Entertainment System","START","select","fceumm","36rpZxhf","SELECT","QUICKSHOT_DYNAMIC","4117105VHUdkU","208pBDDwp","1em","1978mpyzLp","#f0d0b0","4NbqzoM","19314911ciYrVx","717EYkAzL","NES","#000000","197477BWAWrH","9846990fjeUdY"];return _0x13eb=function(){return lr},_0x13eb()}const _0x3cac5e=_0xd965;(function(lr,cr){const ar=_0xd965,or=lr();for(;[];)try{if(-parseInt(ar(246))/1*(parseInt(ar(250))/2)+parseInt(ar(236))/3*(-parseInt(ar(244))/4)+parseInt(ar(261))/5+-parseInt(ar(253))/6*(-parseInt(ar(241))/7)+-parseInt(ar(242))/8*(-parseInt(ar(245))/9)+parseInt(ar(252))/10+parseInt(ar(257))/11===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x2641,472240);const GB={..._0x5f2243,platform_id:"gb",core:_0x3cac5e(225),platform_name:_0x3cac5e(259),short_name:"GB",theme:{"--color0":"#828329","--color1":_0x3cac5e(247),"--font":"GB","--cursorwidth":_0x3cac5e(258)},shader:async function(lr){const cr=_0x3cac5e,ar=lr[cr(229)](),or=await fetch(cr(264)),ur=await fetch(cr(227)),fr=await ur[cr(239)](),dr=await fr[cr(234)](),pr=await fetch(cr(226)),br=await pr.blob(),_r=await br[cr(234)](),yr=await fetch("assets/shaders/handheld/gameboy/shader-files/gb-pass0.glsl"),mr=await fetch(cr(231)),Er=await fetch("assets/shaders/handheld/gameboy/shader-files/gb-pass2.glsl"),gr=await fetch(cr(263)),Ir=await fetch("assets/shaders/handheld/gameboy/shader-files/gb-pass4.glsl");ar.mkdirTree(cr(255)),ar[cr(238)]("/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files"),ar.writeFile(cr(233),await or[cr(265)]()),ar[cr(240)]("/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/resources/palette.png",new Uint8Array(_r)),ar[cr(240)](cr(262),new Uint8Array(dr)),ar[cr(240)](cr(235),await yr.text()),ar[cr(240)](cr(232),await mr[cr(265)]()),ar[cr(240)](cr(248),await Er.text()),ar[cr(240)](cr(256),await gr[cr(265)]()),ar[cr(240)](cr(260),await Ir[cr(265)]()),ar.mkdirTree(cr(249)),ar[cr(240)](cr(228),cr(251))},force_scale:!![],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x3cac5e(237)]],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x3cac5e(237)],fire_buttons:2,additional_buttons:{1:{label:_0x3cac5e(254),keyCode:"select"},2:{label:_0x3cac5e(230),keyCode:_0x3cac5e(243)}}};function _0xd965(lr,cr){const ar=_0x2641();return _0xd965=function(or,ur){return or=or-225,ar[or]},_0xd965(lr,cr)}function _0x2641(){const lr=["/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files/gb-pass0.glsl","1355817tvwcJC","QUICKSHOT_DYNAMIC","mkdirTree","blob","writeFile","1962359kYkJtf","752HEyvPW","start","8ukQeRt","5454vZpIqC","1LIcjcP","#374e79","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files/gb-pass2.glsl","/home/web_user/retroarch/userdata/config/","487300ptCobq","#reference /home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/gameboy.glslp","6225980aZMPFF","12teUAOW","SELECT","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/resources","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files/gb-pass3.glsl","3362392FxCVJH","1em","Nintendo Game Boy","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files/gb-pass4.glsl","369300xFcnRT","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/resources/background.png","assets/shaders/handheld/gameboy/shader-files/gb-pass3.glsl","assets/shaders/handheld/gameboy.glslp","text","gambatte","assets/shaders/handheld/gameboy/resources/palette.png","assets/shaders/handheld/gameboy/resources/background.png","/home/web_user/retroarch/userdata/config/global.glslp","getEmscriptenFS","START","assets/shaders/handheld/gameboy/shader-files/gb-pass1.glsl","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files/gb-pass1.glsl","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/gameboy.glslp","arrayBuffer"];return _0x2641=function(){return lr},_0x2641()}const _0x319a61=_0x5870;(function(lr,cr){const ar=_0x5870,or=lr();for(;[];)try{if(-parseInt(ar(188))/1*(-parseInt(ar(190))/2)+-parseInt(ar(172))/3+parseInt(ar(182))/4*(-parseInt(ar(173))/5)+parseInt(ar(191))/6+-parseInt(ar(193))/7*(-parseInt(ar(183))/8)+parseInt(ar(195))/9*(parseInt(ar(197))/10)+-parseInt(ar(200))/11*(-parseInt(ar(201))/12)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x5345,598622);function _0x5345(){const lr=["11kzBCNo","8700780BfsvfV","select","1em","2889033SwLApG","7585HlXngd","getEmscriptenFS","writeFile","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp","assets/shaders/handheld/shaders/sameboy-lcd.glsl","#ffffff","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders","START","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/sameboy-lcd.glsl","2076SeXItu","32QikklI","GBC","#c95340","/home/web_user/retroarch/userdata/config/global.glslp","text","271KijWxs","QUICKSHOT_DYNAMIC","4756iMtuYM","433524sYznnw","Nintendo Game Boy Color","1241849DYxAuv","SELECT","9oBGvnm","gbc","1975710mPEGEn","mkdirTree","/home/web_user/retroarch/userdata/config/"];return _0x5345=function(){return lr},_0x5345()}const GBC={..._0x5f2243,platform_id:_0x319a61(196),core:"gambatte",platform_name:_0x319a61(192),short_name:_0x319a61(184),theme:{"--color0":_0x319a61(178),"--color1":"#4e93f1","--color2":_0x319a61(178),"--color3":_0x319a61(185),"--font":"GB","--cursorwidth":_0x319a61(171)},shader:async function(lr){const cr=_0x319a61,ar=lr[cr(174)](),or=await fetch("assets/shaders/handheld/sameboy-lcd.glslp"),ur=await fetch(cr(177));ar.mkdirTree(cr(179)),ar[cr(175)](cr(176),await or.text()),ar.writeFile(cr(181),await ur[cr(187)]()),ar[cr(198)](cr(199)),ar[cr(175)](cr(186),"#reference /home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp")},force_scale:!![],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x319a61(189)]],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x319a61(189)],fire_buttons:2,additional_buttons:{1:{label:_0x319a61(194),keyCode:_0x319a61(202)},2:{label:_0x319a61(180),keyCode:"start"}}};function _0x5870(lr,cr){const ar=_0x5345();return _0x5870=function(or,ur){return or=or-171,ar[or]},_0x5870(lr,cr)}const _0x5f52e6=_0x233c;function _0x233c(lr,cr){const ar=_0xbe01();return _0x233c=function(or,ur){return or=or-432,ar[or]},_0x233c(lr,cr)}(function(lr,cr){const ar=_0x233c,or=lr();for(;[];)try{if(parseInt(ar(439))/1+-parseInt(ar(453))/2*(parseInt(ar(441))/3)+-parseInt(ar(450))/4*(-parseInt(ar(437))/5)+parseInt(ar(446))/6+parseInt(ar(449))/7+-parseInt(ar(435))/8+-parseInt(ar(452))/9===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0xbe01,964924);function _0xbe01(){const lr=["9549246OCdldT","16cOqkFQ","gearsystem","16106373KrwxNY","8BMHKoO","SMS","Sega Master System","START","3041136fBFNKC","sms","180465LlNoFd","select","1716105rMofIA","assets/shaders/crt/crt-geom.glslp","1294728fNsHmS","#000000","assets/shaders/crt/shaders/crt-geom.glsl","#ffffff","start","9817872JrFKwC","1em","Emulogic"];return _0xbe01=function(){return lr},_0xbe01()}const SMS={..._0x5f2243,platform_id:_0x5f52e6(436),core:_0x5f52e6(451),platform_name:_0x5f52e6(433),short_name:_0x5f52e6(432),theme:{"--color0":_0x5f52e6(442),"--color1":_0x5f52e6(444),"--font":_0x5f52e6(448),"--cursorwidth":_0x5f52e6(447)},shader:[_0x5f52e6(440),_0x5f52e6(443)],touch_controllers:[JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC],default_touch_controller:JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC,fire_buttons:2,additional_buttons:{1:{label:"SELECT",keyCode:_0x5f52e6(438)},2:{label:_0x5f52e6(434),keyCode:_0x5f52e6(445)}}};function _0x1ca4(lr,cr){const ar=_0x262a();return _0x1ca4=function(or,ur){return or=or-302,ar[or]},_0x1ca4(lr,cr)}const _0x543157=_0x1ca4;(function(lr,cr){const ar=_0x1ca4,or=lr();for(;[];)try{if(parseInt(ar(319))/1*(-parseInt(ar(314))/2)+parseInt(ar(333))/3+-parseInt(ar(310))/4*(-parseInt(ar(311))/5)+-parseInt(ar(325))/6+parseInt(ar(313))/7*(parseInt(ar(332))/8)+parseInt(ar(326))/9+-parseInt(ar(315))/10===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x262a,789723);const C64={..._0x5f2243,platform_id:_0x543157(331),core:_0x543157(330),platform_name:_0x543157(308),short_name:_0x543157(306),theme:{"--color0":_0x543157(302),"--color1":_0x543157(317),"--color2":"#68a941","--color3":_0x543157(328),"--font":_0x543157(309),"--cursorwidth":_0x543157(322)},guessConfig:lr=>{const cr=_0x543157;return{vice_drive_true_emulation:cr(334),vice_warp_boost:cr(324),vice_autostart:cr(324),vice_autoloadwarp:cr(324)}},shader:[_0x543157(323),_0x543157(305)],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x543157(327)],JOYSTICK_TOUCH_MODE[_0x543157(336)],JOYSTICK_TOUCH_MODE[_0x543157(316)]],touch_controller_mapping:{input_player1_up:_0x543157(307),input_player1_left:_0x543157(318),input_player1_down:_0x543157(329),input_player1_right:"F11",input_player1_b:_0x543157(304),input_player1_a:_0x543157(321),input_player1_y:_0x543157(321),input_player1_x:_0x543157(321),input_player1_start:_0x543157(321),input_player1_select:"nul",input_player1_l:"nul",input_player1_r:_0x543157(321)},fire_buttons:1,keyboard:{shiftKey:1,overrides:{}},additional_buttons:{1:{label:_0x543157(335),key:{key:_0x543157(303),code:_0x543157(303)}},2:{label:_0x543157(320),key:{key:_0x543157(312),code:_0x543157(312)}},3:{label:"F1",key:{key:"F1",code:"F1"}}},message:["C64 support is under development and mostly broken or non-functional."]};function _0x262a(){const lr=["F15","vice_x64","c64","376mnTyrR","2827728XiNSAS","true","SPACE","QUICKSHOT_DYNAMIC","#6a53f5","Space","kp_minus","assets/shaders/crt/shaders/crt-geom.glsl","C64","F13","Commodore 64","PetMe64","92KIyphF","137645eChBki","Escape","122003rDOrkT","82286XtEWAj","16774070rSYryr","HIDEAWAY","#b19efe","F14","26ONjNkw","RUN/STOP","nul","1em","assets/shaders/crt/crt-geom.glslp","enabled","1074012WuNTAy","11888496MTQEXF","QUICKJOY_PRIMARY","#d0dc71"];return _0x262a=function(){return lr},_0x262a()}const _0x307416=_0x1643;(function(lr,cr){const ar=_0x1643,or=lr();for(;[];)try{if(parseInt(ar(264))/1+parseInt(ar(263))/2+parseInt(ar(257))/3*(parseInt(ar(262))/4)+-parseInt(ar(270))/5*(-parseInt(ar(259))/6)+-parseInt(ar(256))/7+-parseInt(ar(253))/8+parseInt(ar(267))/9*(-parseInt(ar(265))/10)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x301d,605883);const C128={..._0x5f2243,platform_id:"c128",core:"vice_x128",platform_name:"Commodore 128",short_name:"C128",theme:{"--color0":_0x307416(260),"--color1":_0x307416(266),"--color2":_0x307416(266),"--color3":_0x307416(260),"--font":_0x307416(255),"--cursorwidth":_0x307416(268)},shader:[_0x307416(258),"assets/shaders/crt/shaders/crt-geom.glsl"],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x307416(269)],JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC,JOYSTICK_TOUCH_MODE[_0x307416(261)]],fire_buttons:1,additional_buttons:{},message:[_0x307416(254)]};function _0x1643(lr,cr){const ar=_0x301d();return _0x1643=function(or,ur){return or=or-253,ar[or]},_0x1643(lr,cr)}function _0x301d(){const lr=["0.5em","QUICKJOY_PRIMARY","2725pcDAkr","2344584FAtPRp","C128 support is under development and mostly broken or non-functional.","PetMe1282Y","4957442ZfFPTB","3lbNBbD","assets/shaders/crt/crt-geom.glslp","12072OVaMmv","#b9e893","HIDEAWAY","1559020rHUmod","751686ehhzlW","217187TWOGjQ","10ZBEUtT","#555555","4249467QSkEzc"];return _0x301d=function(){return lr},_0x301d()}const _0x117b8e=_0x1059;(function(lr,cr){const ar=_0x1059,or=lr();for(;[];)try{if(-parseInt(ar(171))/1*(-parseInt(ar(160))/2)+-parseInt(ar(162))/3*(-parseInt(ar(153))/4)+-parseInt(ar(148))/5+-parseInt(ar(157))/6+-parseInt(ar(149))/7+-parseInt(ar(159))/8+parseInt(ar(163))/9*(parseInt(ar(150))/10)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x93ab,393994);function _0x1059(lr,cr){const ar=_0x93ab();return _0x1059=function(or,ur){return or=or-146,ar[or]},_0x1059(lr,cr)}function _0x93ab(){const lr=["F14","1559hQOpCE","nul","Space","2562720nyfnUW","2440123dkrlGG","659270mGuOVL","QUICKSHOT_DYNAMIC","1em","16oZjKaU","vice_xplus4","assets/shaders/crt/shaders/crt-geom.glsl","Petme64","2394732hULVeq","RUN/STOP","4134984NMUgEd","222XVvESr","F13","163533jvIfZP","243AuGvfX","kp_minus","Escape","QUICKJOY_PRIMARY","c264","F11","F15"];return _0x93ab=function(){return lr},_0x93ab()}const C264={..._0x5f2243,platform_id:_0x117b8e(167),core:_0x117b8e(154),platform_name:"Commodore C16, C116 & Plus/4",short_name:"C264",theme:{"--color1":"#000000","--color2":"#ffffff","--color0":"#c6b4fa","--color3":"#000000","--font":_0x117b8e(156),"--cursorwidth":_0x117b8e(152)},shader:["assets/shaders/crt/crt-geom.glslp",_0x117b8e(155)],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x117b8e(166)],JOYSTICK_TOUCH_MODE[_0x117b8e(151)],JOYSTICK_TOUCH_MODE.HIDEAWAY],touch_controller_mapping:{input_player1_up:_0x117b8e(161),input_player1_left:_0x117b8e(170),input_player1_down:_0x117b8e(169),input_player1_right:_0x117b8e(168),input_player1_b:_0x117b8e(164),input_player1_a:_0x117b8e(146),input_player1_y:_0x117b8e(146),input_player1_x:_0x117b8e(146),input_player1_start:_0x117b8e(146),input_player1_select:_0x117b8e(146),input_player1_l:"nul",input_player1_r:_0x117b8e(146)},fire_buttons:1,keyboard:{shiftKey:1,overrides:{}},additional_buttons:{1:{label:"SPACE",key:{key:_0x117b8e(147),code:_0x117b8e(147)}},2:{label:_0x117b8e(158),key:{key:"Escape",code:_0x117b8e(165)}},3:{label:"F1",key:{key:"F1",code:"F1"}}}},_0x5910ee=_0x3e62;(function(lr,cr){const ar=_0x3e62,or=lr();for(;[];)try{if(-parseInt(ar(107))/1+parseInt(ar(108))/2*(parseInt(ar(123))/3)+parseInt(ar(120))/4+parseInt(ar(113))/5+parseInt(ar(110))/6*(-parseInt(ar(114))/7)+-parseInt(ar(125))/8*(-parseInt(ar(121))/9)+parseInt(ar(101))/10*(parseInt(ar(112))/11)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x3bb6,202773);function _0x3bb6(){const lr=["#a984ec","select","#000000","202716ESMXvB","252aUKcee","assets/shaders/crt/crt-geom.glslp","114wiHJxa","A2600","70096btoPkb","start","125390KpUoeZ","0.5em","#ffffff","SELECT","uppercase","QUICKJOY_PRIMARY","295575rKXRVs","4196iRmvvD","QUICKSHOT_DYNAMIC","18DboqLw","PetMe2X","66DSGJvm","1122595zLGETm","413336SfRNwL","HIDEAWAY","Atari 2600 / VCS"];return _0x3bb6=function(){return lr},_0x3bb6()}const A2600={..._0x5f2243,platform_id:"atari2600",core:"stella2014",platform_name:_0x5910ee(116),short_name:_0x5910ee(124),theme:{"--color0":_0x5910ee(119),"--color1":_0x5910ee(117),"--color2":_0x5910ee(103),"--color3":"#a984ec","--font":_0x5910ee(111),"--cursorwidth":_0x5910ee(102),"--transform":_0x5910ee(105)},shader:[_0x5910ee(122),"assets/shaders/crt/shaders/crt-geom.glsl"],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x5910ee(106)],JOYSTICK_TOUCH_MODE[_0x5910ee(109)],JOYSTICK_TOUCH_MODE[_0x5910ee(115)]],fire_buttons:1,additional_buttons:{1:{label:_0x5910ee(104),keyCode:_0x5910ee(118)},2:{label:"START",keyCode:_0x5910ee(100)}}};function _0x3e62(lr,cr){const ar=_0x3bb6();return _0x3e62=function(or,ur){return or=or-100,ar[or]},_0x3e62(lr,cr)}function _0x4585(lr,cr){const ar=_0x2b5b();return _0x4585=function(or,ur){return or=or-233,ar[or]},_0x4585(lr,cr)}const _0x1c3b97=_0x4585;(function(lr,cr){const ar=_0x4585,or=lr();for(;[];)try{if(parseInt(ar(257))/1+-parseInt(ar(252))/2*(-parseInt(ar(258))/3)+-parseInt(ar(250))/4*(parseInt(ar(255))/5)+parseInt(ar(238))/6+-parseInt(ar(256))/7*(-parseInt(ar(244))/8)+parseInt(ar(245))/9*(parseInt(ar(243))/10)+-parseInt(ar(234))/11===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x2b5b,890654);function _0x2b5b(){const lr=["2353544NcjUFW","129267fCpzBZ","uppercase","Atascii","PAUSE","A5200","56tAkkCo","pause","2LmSsZJ","a5200","Atari 5200","19975UjCRWz","28sHAOrB","69878dUNpNJ","135633JlCAVl","1em","16803292wDwwKo","atari5200","assets/shaders/crt/shaders/crt-geom.glsl","start","2698692rAvlbx","QUICKSHOT_DYNAMIC","assets/shaders/crt/crt-geom.glslp","START","#000000","510xmscxO"];return _0x2b5b=function(){return lr},_0x2b5b()}const A5200={..._0x5f2243,platform_id:_0x1c3b97(235),core:_0x1c3b97(253),platform_name:_0x1c3b97(254),short_name:_0x1c3b97(249),theme:{"--color0":_0x1c3b97(242),"--color1":"#ffffff","--font":_0x1c3b97(247),"--transform":_0x1c3b97(246),"--cursorwidth":_0x1c3b97(233)},shader:[_0x1c3b97(240),_0x1c3b97(236)],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x1c3b97(239)]],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x1c3b97(239)],fire_buttons:2,additional_buttons:{1:{label:_0x1c3b97(248),keyCode:_0x1c3b97(251)},2:{label:_0x1c3b97(241),keyCode:_0x1c3b97(237)}}},_0x5ad859=_0x25d8;function _0x38f1(){const lr=["includes","F14","Atascii","select","#005181","A800","forEach","F11","OPTION","687rlPbAH","16911HUDtqv","Atari 800 / XE / XL","312114WDWwMq","Modern XL/XE(1088K)","130XE (128K)","ATARIBAS.ROM","START","1em","SELECT","11733240IjdWDj","eb1f32f5d9f382db1bbfb8d7f9cb343a","QUICKSHOT_DYNAMIC","Modern XL/XE(320K CS)","ATARIXL.ROM","Atari 400/800 PAL ROM","toUpperCase","1904150nBZtEu","ATARIOSB.ROM","10305806QadheN","5890QXwvjh","800XL (64K)","BASIC interpreter ROM","06daac977823773a3eea3422fd26a703","40863966KKLiHd","assets/shaders/crt/crt-geom.glslp","atari800","a3e8d617c95d08031fe1b20d541434b2","F15","keys","Atari XL/XE OS ROM","#60b7e7","assign","assets/shaders/crt/shaders/crt-geom.glsl","0bac0c6a50104045d902df4503a4c30b","1WavyMJ","400/800 (OS B)","25848KFMzyk","5ZXVSQm","336x240","400/800 (OS A)"];return _0x38f1=function(){return lr},_0x38f1()}(function(lr,cr){const ar=_0x25d8,or=lr();for(;[];)try{if(-parseInt(ar(247))/1*(parseInt(ar(229))/2)+parseInt(ar(262))/3*(parseInt(ar(249))/4)+parseInt(ar(250))/5*(-parseInt(ar(265))/6)+parseInt(ar(231))/7+parseInt(ar(222))/8+parseInt(ar(263))/9*(parseInt(ar(232))/10)+-parseInt(ar(236))/11===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x38f1,806442);function _0x25d8(lr,cr){const ar=_0x38f1();return _0x25d8=function(or,ur){return or=or-221,ar[or]},_0x25d8(lr,cr)}const A800={..._0x5f2243,platform_id:_0x5ad859(238),core:_0x5ad859(238),bios:["ATARIXL.ROM",_0x5ad859(268)],platform_name:_0x5ad859(264),short_name:_0x5ad859(258),theme:{"--color0":_0x5ad859(257),"--color1":_0x5ad859(243),"--color3":"#005181","--color2":"#60b7e7","--font":_0x5ad859(255),"--cursorwidth":_0x5ad859(270)},shader:[_0x5ad859(237),_0x5ad859(245)],guessBIOS:lr=>{const cr=_0x5ad859;let ar=[cr(226),cr(268)];const or={"[400-800]":[cr(230),"ATARIBAS.ROM"],"[REQ OSA]":["ATARIOSA.ROM","ATARIBAS.ROM"],"[REQ OSB]":[cr(230),cr(268)]};for(let ur in or)if(lr[cr(228)]()[cr(253)](ur))return or[ur];return ar},guessConfig:lr=>{const cr=_0x5ad859,ar={"[BASIC]":{atari800_internalbasic:"enabled"},"(130XE)":{atari800_system:cr(267)},"[128K]":{atari800_system:cr(267)},"[192K]":{atari800_system:cr(225)},"[256K]":{atari800_system:cr(225)},"[320K]":{atari800_system:cr(225)},"[1MB]":{atari800_system:cr(266)},"[400-800]":{atari800_system:cr(248)},"[REQ OSA]":{atari800_system:cr(252)},"[REQ OSB]":{atari800_system:"400/800 (OS B)",atari800_ntscpal:"NTSC"},"[STEREO]":{},".CAS":{atari800_cassboot:"enabled"}};let ur={...{atari800_ntscpal:"PAL",atari800_resolution:cr(251),atari800_system:cr(233)}};return Object[cr(241)](ar)[cr(259)](fr=>{const dr=cr;lr.toUpperCase()[dr(253)](fr)&&Object[dr(244)](ur,ar[fr])}),ur},dependencies:[{key:"ATARIXL.ROM",type:_0x5ad859(242),required:!![],accepted:[_0x5ad859(235)]},{key:_0x5ad859(268),type:_0x5ad859(234),required:!![],accepted:[_0x5ad859(246)]},{key:"ATARIOSA.ROM",type:_0x5ad859(227),required:!![],accepted:[_0x5ad859(223)]},{key:_0x5ad859(230),type:"Atari 400/800 NTSC ROM",required:!![],accepted:[_0x5ad859(239)]}],touch_controllers:[JOYSTICK_TOUCH_MODE.QUICKJOY_PRIMARY,JOYSTICK_TOUCH_MODE[_0x5ad859(224)],JOYSTICK_TOUCH_MODE.HIDEAWAY],touch_controller_mapping:{input_player1_up:"F13",input_player1_left:_0x5ad859(254),input_player1_down:_0x5ad859(240),input_player1_right:_0x5ad859(260),input_player1_b:"kp_minus"},fire_buttons:1,keyboard:{shiftKey:2,overrides:{}},additional_buttons:{1:{label:_0x5ad859(261),key:{key:"F2",code:"F2"}},2:{label:_0x5ad859(221),keyCode:_0x5ad859(256)},3:{label:_0x5ad859(269),key:{key:"F4",code:"F4"}}}};function _0x27ab(){const lr=["34480DKTJHI","8830710QqKYVb","5nmfTPh","#000060","Amstrad CPC","assets/shaders/crt/shaders/crt-geom.glsl","587720NimHbv","5797QueOgK","736504KQyTrN","CPC support is under development and mostly broken or non-functional.","QUICKJOY_PRIMARY","18JjpGiI","crocods","assets/shaders/crt/crt-geom.glslp","#000000","#ea3323","232340nPYdXj","138692OzCAAY","HIDEAWAY","14ioVDQd","1em","QUICKSHOT_DYNAMIC","2019165laAKhi","AmstradCPC","CPC"];return _0x27ab=function(){return lr},_0x27ab()}const _0x548c35=_0x4e9f;function _0x4e9f(lr,cr){const ar=_0x27ab();return _0x4e9f=function(or,ur){return or=or-437,ar[or]},_0x4e9f(lr,cr)}(function(lr,cr){const ar=_0x4e9f,or=lr();for(;[];)try{if(-parseInt(ar(455))/1*(parseInt(ar(453))/2)+parseInt(ar(458))/3+parseInt(ar(452))/4*(-parseInt(ar(438))/5)+-parseInt(ar(447))/6*(-parseInt(ar(442))/7)+-parseInt(ar(444))/8+-parseInt(ar(437))/9+-parseInt(ar(461))/10*(-parseInt(ar(443))/11)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x27ab,639849);const CPC={..._0x5f2243,platform_id:"cpc",core:_0x548c35(448),platform_name:_0x548c35(440),short_name:_0x548c35(460),theme:{"--color0":_0x548c35(439),"--color1":"#d6e121","--color2":_0x548c35(450),"--color3":_0x548c35(451),"--font":_0x548c35(459),"--cursorwidth":_0x548c35(456)},savestates_disabled:!![],shader:[_0x548c35(449),_0x548c35(441)],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x548c35(446)],JOYSTICK_TOUCH_MODE[_0x548c35(457)],JOYSTICK_TOUCH_MODE[_0x548c35(454)]],fire_buttons:1,additional_buttons:{},message:[_0x548c35(445)]},_0x3bfc2a=_0x2ea0;(function(lr,cr){const ar=_0x2ea0,or=lr();for(;[];)try{if(-parseInt(ar(392))/1+parseInt(ar(407))/2+parseInt(ar(418))/3*(-parseInt(ar(411))/4)+-parseInt(ar(404))/5+-parseInt(ar(396))/6*(-parseInt(ar(416))/7)+parseInt(ar(409))/8+parseInt(ar(412))/9*(-parseInt(ar(408))/10)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x35dd,854700);function _0x2ea0(lr,cr){const ar=_0x35dd();return _0x2ea0=function(or,ur){return or=or-392,ar[or]},_0x2ea0(lr,cr)}const VIC20={..._0x5f2243,platform_id:_0x3bfc2a(417),core:_0x3bfc2a(414),platform_name:_0x3bfc2a(393),short_name:_0x3bfc2a(397),theme:{"--color0":"#ffffff","--color1":_0x3bfc2a(400),"--color2":"#250ec5","--color3":"#6ebdcb","--font":"PetMe2X","--cursorwidth":"2em","--transform":"uppercase"},shader:["assets/shaders/crt/crt-geom.glslp","assets/shaders/crt/shaders/crt-geom.glsl"],touch_controllers:[JOYSTICK_TOUCH_MODE.QUICKJOY_PRIMARY,JOYSTICK_TOUCH_MODE[_0x3bfc2a(401)],JOYSTICK_TOUCH_MODE[_0x3bfc2a(413)]],touch_controller_mapping:{input_player1_up:_0x3bfc2a(402),input_player1_left:_0x3bfc2a(394),input_player1_down:_0x3bfc2a(403),input_player1_right:_0x3bfc2a(410),input_player1_b:_0x3bfc2a(398),input_player1_a:_0x3bfc2a(415),input_player1_y:_0x3bfc2a(415),input_player1_x:_0x3bfc2a(415),input_player1_start:_0x3bfc2a(415),input_player1_select:_0x3bfc2a(415),input_player1_l:_0x3bfc2a(415),input_player1_r:_0x3bfc2a(415)},fire_buttons:1,keyboard:{shiftKey:1,overrides:{}},additional_buttons:{1:{label:_0x3bfc2a(406),key:{key:"Space",code:_0x3bfc2a(405)}},2:{label:_0x3bfc2a(395),key:{key:_0x3bfc2a(399),code:_0x3bfc2a(399)}},3:{label:"F1",key:{key:"F1",code:"F1"}}}};function _0x35dd(){const lr=["#250ec5","QUICKSHOT_DYNAMIC","F13","F15","6895115ZxwCeJ","Space","SPACE","3306594HjFscP","270YGtiHU","10934688tjclyu","F11","4jGeUii","269109EtWJbP","HIDEAWAY","vice_xvic","nul","7oMCkIR","vic20","62493kJTPuQ","1287493pjlQdd","Commodore VIC-20","F14","RUN/STOP","7975446oVIpnQ","VIC20","kp_minus","Escape"];return _0x35dd=function(){return lr},_0x35dd()}const _0x33ad89=_0x4882;(function(lr,cr){const ar=_0x4882,or=lr();for(;[];)try{if(parseInt(ar(158))/1+-parseInt(ar(165))/2+-parseInt(ar(159))/3+-parseInt(ar(162))/4+parseInt(ar(163))/5+parseInt(ar(160))/6+-parseInt(ar(168))/7*(parseInt(ar(156))/8)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x1cd9,678992);const ZX80={..._0x5f2243,platform_id:"zx80",core:"81",platform_name:"Sinclair ZX80 / ZX81",short_name:_0x33ad89(167),theme:{"--color0":"#ffffff","--color1":_0x33ad89(166),"--color2":_0x33ad89(166),"--color3":_0x33ad89(169),"--font":"ZXSpectrum","--cursorwidth":_0x33ad89(161),"--transform":"uppercase"},shader:[_0x33ad89(157),"assets/shaders/crt/shaders/crt-geom.glsl"],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x33ad89(164)],JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC,JOYSTICK_TOUCH_MODE[_0x33ad89(170)]],fire_buttons:1,additional_buttons:{}};function _0x1cd9(){const lr=["816142mUeVXb","#000000","ZX80","42fwlwcK","#ffffff","HIDEAWAY","1428136mFNnJq","assets/shaders/crt/crt-geom.glslp","1001562QUPZmA","1870770TLZBKW","7377372GhYAVy","1em","885932RlrCfp","3860570uNiOWs","QUICKJOY_PRIMARY"];return _0x1cd9=function(){return lr},_0x1cd9()}function _0x4882(lr,cr){const ar=_0x1cd9();return _0x4882=function(or,ur){return or=or-156,ar[or]},_0x4882(lr,cr)}const _0xbe13fd=_0x4afb;(function(lr,cr){const ar=_0x4afb,or=lr();for(;[];)try{if(parseInt(ar(239))/1*(parseInt(ar(246))/2)+parseInt(ar(221))/3*(parseInt(ar(237))/4)+parseInt(ar(244))/5*(parseInt(ar(224))/6)+-parseInt(ar(218))/7+-parseInt(ar(229))/8*(-parseInt(ar(245))/9)+-parseInt(ar(232))/10*(parseInt(ar(231))/11)+-parseInt(ar(225))/12===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x4b9e,993181);function _0x4b9e(){const lr=["Spectrum","12173084FmmUNa","#c0c000","513","723831BjFApF","F11","QUICKSHOT_DYNAMIC","3824580zJtVeb","245508PJDhNV","keys","forEach","259","408npuIAV","spectrum","33BXHRYE","4056180MvfymP","assets/shaders/crt/crt-geom.glslp","#0000c0","assets/shaders/crt/shaders/crt-geom.glsl","ZX Spectrum support is under development and mostly broken or non-functional.","4oFEzBz","kp_minus","667nkNFpe","assign","#be2ec8","#ffffff","1em","5GDMBYj","258939fBLLuP","4868TvFOlb","F13","toUpperCase","ZXSpectrum"];return _0x4b9e=function(){return lr},_0x4b9e()}function _0x4afb(lr,cr){const ar=_0x4b9e();return _0x4afb=function(or,ur){return or=or-218,ar[or]},_0x4afb(lr,cr)}const Spectrum={..._0x5f2243,platform_id:_0xbe13fd(230),core:"fuse",platform_name:"Sinclair ZX Spectrum",short_name:_0xbe13fd(250),theme:{"--color0":_0xbe13fd(219),"--color1":_0xbe13fd(234),"--color3":_0xbe13fd(241),"--color2":_0xbe13fd(242),"--font":_0xbe13fd(249),"--cursorwidth":_0xbe13fd(243)},savestates_disabled:!![],shader:[_0xbe13fd(233),_0xbe13fd(235)],guessConfig:lr=>{const cr=_0xbe13fd,ar={};let ur={...{input_libretro_device_p1:cr(220),input_libretro_device_p2:"0",input_libretro_device_p3:cr(228),input_libretro_device_p4:"1",input_libretro_device_p5:"1"}};return Object[cr(226)](ar)[cr(227)](fr=>{const dr=cr;lr[dr(248)]().includes(fr)&&Object[dr(240)](ur,ar[fr])}),ur},touch_controllers:[JOYSTICK_TOUCH_MODE.QUICKJOY_PRIMARY,JOYSTICK_TOUCH_MODE[_0xbe13fd(223)],JOYSTICK_TOUCH_MODE.HIDEAWAY],touch_controller_mapping:{input_player1_up:_0xbe13fd(247),input_player1_left:"F14",input_player1_down:"F15",input_player1_right:_0xbe13fd(222),input_player1_b:_0xbe13fd(238)},fire_buttons:1,keyboard:{shiftKey:1,overrides:{}},additional_buttons:{},message:[_0xbe13fd(236)]},_0x41947e=_0x53be;(function(lr,cr){const ar=_0x53be,or=lr();for(;[];)try{if(parseInt(ar(365))/1+-parseInt(ar(372))/2+parseInt(ar(353))/3+parseInt(ar(366))/4+-parseInt(ar(364))/5*(-parseInt(ar(374))/6)+-parseInt(ar(370))/7+parseInt(ar(371))/8===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x287c,121983);function _0x53be(lr,cr){const ar=_0x287c();return _0x53be=function(or,ur){return or=or-353,ar[or]},_0x53be(lr,cr)}function _0x287c(){const lr=["uppercase","70DHsjLK","124416WzpuZS","33368FnjShU","start","pce","RUN","1637608ddNYIg","1301456kAxFii","333948AUBqxe","#000000","95586nlYmuF","13281dijBzI","QUICKSHOT_DYNAMIC","assets/shaders/crt/shaders/crt-geom.glsl","mednafen_pce_fast","PC Engine","0.5em","select","Shockman","#f0f0f0","SELECT"];return _0x287c=function(){return lr},_0x287c()}const PCE={..._0x5f2243,platform_id:_0x41947e(368),core:_0x41947e(356),platform_name:_0x41947e(357),short_name:"PCE",theme:{"--color0":_0x41947e(373),"--color1":_0x41947e(361),"--font":_0x41947e(360),"--cursorwidth":_0x41947e(358),"--transform":_0x41947e(363)},shader:["assets/shaders/crt/crt-geom.glslp",_0x41947e(355)],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x41947e(354)]],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x41947e(354)],fire_buttons:2,additional_buttons:{1:{label:_0x41947e(362),keyCode:_0x41947e(359)},2:{label:_0x41947e(369),keyCode:_0x41947e(367)}}},_0x5b5b33=_0x6e8c;(function(lr,cr){const ar=_0x6e8c,or=lr();for(;[];)try{if(-parseInt(ar(392))/1+parseInt(ar(400))/2*(parseInt(ar(396))/3)+-parseInt(ar(393))/4*(-parseInt(ar(391))/5)+-parseInt(ar(397))/6*(parseInt(ar(405))/7)+parseInt(ar(395))/8+parseInt(ar(387))/9+-parseInt(ar(398))/10===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x1204,860543);function _0x1204(){const lr=["1em","start","#eeeeee","21RTCybb","assets/shaders/crt/crt-geom.glslp","none","13441581dojASK","#66de42","QUICKSHOT_DYNAMIC","#00009B","7616435VayYMA","174235OVhIBG","4UMKrdH","START","1864224AEAmCZ","231JppWag","2314878zeIALz","25932180YfjMIs","assets/shaders/crt/shaders/crt-geom.glsl","39886SDydqs","genesis_plus_gx"];return _0x1204=function(){return lr},_0x1204()}const MD={..._0x5f2243,platform_id:"smd",core:_0x5b5b33(401),platform_name:"Sega Mega Drive",short_name:"SMD",theme:{"--color0":_0x5b5b33(390),"--color1":_0x5b5b33(404),"--color3":_0x5b5b33(388),"--color2":"#ce2c1e","--font":"MD","--cursorwidth":_0x5b5b33(402),"--transform":_0x5b5b33(386)},shader:[_0x5b5b33(406),_0x5b5b33(399)],guessConfig:lr=>({input_libretro_device_p1:"0"}),touch_controllers:[JOYSTICK_TOUCH_MODE[_0x5b5b33(389)]],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x5b5b33(389)],fire_buttons:3,additional_buttons:{1:{label:_0x5b5b33(394),keyCode:_0x5b5b33(403)}}};function _0x6e8c(lr,cr){const ar=_0x1204();return _0x6e8c=function(or,ur){return or=or-386,ar[or]},_0x6e8c(lr,cr)}const _0x434968=_0x5b90;(function(lr,cr){const ar=_0x5b90,or=lr();for(;[];)try{if(-parseInt(ar(437))/1*(parseInt(ar(435))/2)+-parseInt(ar(422))/3+-parseInt(ar(420))/4*(parseInt(ar(413))/5)+-parseInt(ar(434))/6+parseInt(ar(415))/7+-parseInt(ar(436))/8+parseInt(ar(425))/9===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x54d1,784533);function _0x5b90(lr,cr){const ar=_0x54d1();return _0x5b90=function(or,ur){return or=or-411,ar[or]},_0x5b90(lr,cr)}const Lynx={..._0x5f2243,platform_id:"lynx",core:"handy",platform_name:_0x434968(433),short_name:_0x434968(438),theme:{"--color0":_0x434968(428),"--color1":_0x434968(431),"--color3":_0x434968(427),"--font":_0x434968(438),"--transform":_0x434968(411),"--cursorwidth":_0x434968(439)},shader:async function(lr){const cr=_0x434968,ar=lr[cr(416)](),or=await fetch(cr(414)),ur=await fetch("assets/shaders/handheld/shaders/sameboy-lcd.glsl");ar[cr(430)](cr(429)),ar[cr(418)](cr(419),await or[cr(412)]()),ar[cr(418)](cr(424),await ur[cr(412)]()),ar[cr(430)](cr(426)),ar[cr(418)](cr(423),cr(432))},touch_controllers:[JOYSTICK_TOUCH_MODE[_0x434968(421)],JOYSTICK_TOUCH_MODE.HIDEAWAY],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x434968(421)],fire_buttons:2,additional_buttons:{1:{label:"2",keyCode:"r"},2:{label:"START",keyCode:_0x434968(417)},3:{label:"1",keyCode:"l"}}};function _0x54d1(){const lr=["mkdirTree","#ebe4b2","#reference /home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp","Atari Lynx","2982150PgIPKH","2ZCIeZD","2783008dLdBfT","508583LKJehC","Lynx","0.75em","uppercase","text","7158085fhfUlZ","assets/shaders/handheld/sameboy-lcd.glslp","2095639VkCXnl","getEmscriptenFS","start","writeFile","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp","4ceRpuc","QUICKSHOT_DYNAMIC","2705487mMRayl","/home/web_user/retroarch/userdata/config/global.glslp","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/sameboy-lcd.glsl","37548774apeNGL","/home/web_user/retroarch/userdata/config/","#985495","#579342","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders"];return _0x54d1=function(){return lr},_0x54d1()}const _0x371103=_0x1589;(function(lr,cr){const ar=_0x1589,or=lr();for(;[];)try{if(parseInt(ar(356))/1+-parseInt(ar(360))/2*(parseInt(ar(362))/3)+-parseInt(ar(359))/4+-parseInt(ar(354))/5*(-parseInt(ar(358))/6)+-parseInt(ar(384))/7*(-parseInt(ar(377))/8)+parseInt(ar(378))/9*(parseInt(ar(370))/10)+-parseInt(ar(352))/11*(-parseInt(ar(371))/12)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x2a52,686214);function _0x2a52(){const lr=["5532KrUMAC","3284140SLTxYm","165742TFJwcs","select","39gVZcek","#8abac2","GBA BIOS","writeFile","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp","PublicPixel","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/sameboy-lcd.glsl","text","1090oCLskz","12GVnoSe","QUICKSHOT_DYNAMIC","getEmscriptenFS","none","start","SELECT","400184KhfsdA","71379aPSINb","#222222","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders","gba","gba_bios.bin","START","91cTCPTA","/home/web_user/retroarch/userdata/config/global.glslp","731907pPSmGJ","#reference /home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp","5295vbIafa","assets/shaders/handheld/sameboy-lcd.glslp","26859enNdqo","mkdirTree"];return _0x2a52=function(){return lr},_0x2a52()}function _0x1589(lr,cr){const ar=_0x2a52();return _0x1589=function(or,ur){return or=or-352,ar[or]},_0x1589(lr,cr)}const GBA={..._0x5f2243,platform_id:_0x371103(381),core:"mgba",platform_name:"Nintendo Game Boy Advance",short_name:"GBA",theme:{"--color0":_0x371103(379),"--color1":"#dddddd","--color3":_0x371103(379),"--color2":_0x371103(363),"--font":_0x371103(367),"--cursorwidth":"1em","--transform":_0x371103(374)},shader:async function(lr){const cr=_0x371103,ar=lr[cr(373)](),or=await fetch(cr(355)),ur=await fetch("assets/shaders/handheld/shaders/sameboy-lcd.glsl");ar[cr(357)](cr(380)),ar[cr(365)](cr(366),await or[cr(369)]()),ar.writeFile(cr(368),await ur[cr(369)]()),ar[cr(357)]("/home/web_user/retroarch/userdata/config/"),ar.writeFile(cr(385),cr(353))},guessConfig:lr=>({}),dependencies:[{key:_0x371103(382),type:_0x371103(364),required:![],accepted:["a860e8c0b6d573d191e4ec7db1b1e4f6"]}],force_scale:!![],touch_controllers:[JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x371103(372)],fire_buttons:4,additional_buttons:{1:{label:_0x371103(376),keyCode:_0x371103(361)},2:{label:_0x371103(383),keyCode:_0x371103(375)}}},_0xf62e71=_0x1087;(function(lr,cr){const ar=_0x1087,or=lr();for(;[];)try{if(parseInt(ar(417))/1*(-parseInt(ar(422))/2)+-parseInt(ar(419))/3+-parseInt(ar(427))/4*(parseInt(ar(413))/5)+parseInt(ar(420))/6*(-parseInt(ar(425))/7)+parseInt(ar(430))/8+parseInt(ar(424))/9+-parseInt(ar(415))/10*(-parseInt(ar(418))/11)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x6381,979162);function _0x6381(){const lr=["assets/shaders/crt/crt-geom.glslp","START","1em","#656565","#71f3f2","5GbkPKp","select","10znupRk","#c3c3c3","119jemhdB","75147127lQQwgQ","4527336QfiGmk","333342DpZBSk","snk","32242UzWwGi","QUICKSHOT_DYNAMIC","3412314YsvPjS","140DbzNLz","none","6841508FITrqS","COIN","Neo Geo AES / MVS","139896UKKdph","SNK"];return _0x6381=function(){return lr},_0x6381()}function _0x1087(lr,cr){const ar=_0x6381();return _0x1087=function(or,ur){return or=or-413,ar[or]},_0x1087(lr,cr)}const SNK={..._0x5f2243,platform_id:_0xf62e71(421),core:"fbalpha2012_neogeo",platform_name:_0xf62e71(429),short_name:_0xf62e71(431),theme:{"--color0":_0xf62e71(435),"--color1":_0xf62e71(416),"--color3":_0xf62e71(436),"--color2":"#000000","--font":_0xf62e71(431),"--cursorwidth":_0xf62e71(434),"--transform":_0xf62e71(426)},shader:[_0xf62e71(432),"assets/shaders/crt/shaders/crt-geom.glsl"],guessConfig:lr=>({}),touch_controllers:[JOYSTICK_TOUCH_MODE[_0xf62e71(423)]],default_touch_controller:JOYSTICK_TOUCH_MODE[_0xf62e71(423)],fire_buttons:4,button_overrides:{"3countb":4,"2020bb":4,alpham2:3,androdun:2,aodk:4,aof:4,aof2:4,aof3:4,bakatono:4,bjourney:3,blazstar:2,breakers:4,bstars:4,bstars2:4,burningf:3,crsword:2,cyberlip:3,doubledr:4,eightman:3,fatfursp:4,fatfury1:4,fatfury2:4,fatfury3:4,fbfrenzy:4,galaxyfg:4,garou:4,gowcaizr:4,gpilots:2,joyjoy:2,kabukikl:4,karnovr:4,kizuna:4,kof94:4,kof95:4,kof96:4,kof97:4,kof98:4,kof99:4,kof2000:4,kof2001:4,kof2002:4,kof2003:4,kotm:3,kotm2:3,lastblad:4,lastbld2:4,lbowling:1,legendos:2,lresort:2,magdrop2:2,magdrop3:3,maglord:2,mahretsu:2,marukodq:4,matrim:4,minasan:0,mosyougi:0,mslug:3,mslug2:3,mslug3:3,mslug4:4,mslug5:4,mslugx:3,mutnat:2,nam1975:3,ncombat:3,ncommand:3,neocup98:3,ninjamas:4,overtop:2,pulstar:2,quizdai2:4,quizdais:4,quizkof:4,ragnagrd:4,rbff1:4,rbff1a:4,rbff2:4,rbffspec:4,ridhero:3,roboarmy:3,rotd:4,samsh5sp:4,samsho:4,samsho2:4,samsho3:4,samsho4:4,samsho5:4,savagere:4,sengoku:3,sengoku2:4,sengoku3:4,shocktr2:4,socbrawl:2,sonicwi2:2,sonicwi3:2,spinmast:3,ssideki:2,ssideki2:3,ssideki3:3,ssideki4:3,stakwin:2,stakwin2:3,strhoop:2,superspy:3,svc:4,tophuntr:3,tpgolf:4,trally:2,turfmast:3,twinspri:2,viewpoin:2,wakuwak7:4,wh1:3,wh2:3,wh2j:3,whp:4,wjammers:2},additional_buttons:{1:{label:_0xf62e71(428),keyCode:_0xf62e71(414)},2:{label:_0xf62e71(433),keyCode:"start"}}},_0x2b70e7=_0x5f42;(function(lr,cr){const ar=_0x5f42,or=lr();for(;[];)try{if(-parseInt(ar(197))/1*(parseInt(ar(195))/2)+-parseInt(ar(177))/3*(-parseInt(ar(208))/4)+parseInt(ar(186))/5*(-parseInt(ar(178))/6)+parseInt(ar(196))/7*(parseInt(ar(206))/8)+-parseInt(ar(213))/9+parseInt(ar(198))/10*(-parseInt(ar(180))/11)+parseInt(ar(176))/12===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x4e10,593197);function _0x4e10(){const lr=["4334267ILzwRl","59359ymwnVe","320UupAiS","e40a5dfb3d017ba8779faba30cbd1c8e","A600 Kickstart v3.1 rev 40.063","#A7A7A7","A500","assets/shaders/crt/crt-geom.glslp","auto","kick1x","8XBBoQE","getEmscriptenFS","281156PXWdee","amiga.kick40063.A600","single","/home/web_user/retroarch/userdata/system/kick40063.A600","TRACKPAD_BUTTONS","5605308JtrVEN","exact","0.5em","amiga.kick40068.A1200","amiga","kick3x","22768584UkIlfL","45XUcIBV","392772YmJcsi","F14","161689usQXKL","/home/web_user/retroarch/userdata/system/kick34005.A500","646773759326fbac3b2311fd8c8793ee","writeFile","#ffffff","endsWith","85RjlbpD","/home/web_user/retroarch/userdata/system/kick40068.A1200","Topaz1200","getFile","#666666","hires","A500 Kickstart v1.3 rev 34.005","Amiga","HIDEAWAY","26raMXZD"];return _0x4e10=function(){return lr},_0x4e10()}const Amiga={..._0x5f2243,not_ready:!![],platform_id:_0x2b70e7(174),core:"puae",bios:[_0x2b70e7(205),"kick2x",_0x2b70e7(175)],platform_name:"Commodore Amiga",short_name:_0x2b70e7(193),theme:{"--color0":_0x2b70e7(201),"--color1":"#000000","--color2":_0x2b70e7(190),"--color3":_0x2b70e7(184),"--color4":"#6780ae","--font":_0x2b70e7(188),"--cursorwidth":_0x2b70e7(172)},startup_beforelaunch:async function(lr,cr){const ar=_0x2b70e7,or=lr[ar(207)](),ur=await cr[ar(189)]("amiga.kick34005.A500"),fr=await cr[ar(189)](ar(209)),dr=await cr.getFile(ar(173));or[ar(183)](ar(181),await new Uint8Array(ur)),or.writeFile(ar(211),await new Uint8Array(fr)),or.writeFile(ar(187),await new Uint8Array(dr))},guessConfig:lr=>{const cr=_0x2b70e7;return lr[cr(185)](".adf")?{puae_model:cr(202),puae_kickstart:"kick34005.A500",puae_video_vresolution:cr(210),puae_video_resolution:cr(191),puae_cpu_compatibility:"exact"}:{puae_cpu_compatibility:cr(171),puae_video_vresolution:cr(210),puae_video_resolution:"hires",puae_crop:cr(204)}},shader:[_0x2b70e7(203),"assets/shaders/crt/shaders/crt-geom.glsl"],video_smooth:![],dependencies:[{key:"kick34005.A500",type:_0x2b70e7(192),required:!![],accepted:["82a21c1890cae844b3df741f2762d48d"]},{key:"kick40063.A600",type:_0x2b70e7(200),required:!![],accepted:[_0x2b70e7(199)]},{key:"kick40068.A1200",type:"A1200 Kickstart v3.1 rev 40.068",required:!![],accepted:[_0x2b70e7(182)]}],touch_controllers:[JOYSTICK_TOUCH_MODE.QUICKJOY_PRIMARY,JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC,JOYSTICK_TOUCH_MODE[_0x2b70e7(194)]],mouse_controllers:[MOUSE_TOUCH_MODE[_0x2b70e7(212)]],touch_controller_mapping:{input_player1_l2:"F13",input_player1_r2:_0x2b70e7(179)},fire_buttons:1,keyboard:{shiftKey:2,overrides:{}},additional_buttons:{},rewind_granularity:25,fastforward_ratio:10};function _0x5f42(lr,cr){const ar=_0x4e10();return _0x5f42=function(or,ur){return or=or-171,ar[or]},_0x5f42(lr,cr)}var jszip_min={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(lr,cr){(function(ar){lr.exports=ar()})(function(){return function ar(or,ur,fr){function dr(_r,yr){if(!ur[_r]){if(!or[_r]){var mr=typeof commonjsRequire=="function"&&commonjsRequire;if(!yr&&mr)return mr(_r,!0);if(pr)return pr(_r,!0);var Er=new Error("Cannot find module '"+_r+"'");throw Er.code="MODULE_NOT_FOUND",Er}var gr=ur[_r]={exports:{}};or[_r][0].call(gr.exports,function(Ir){var Ar=or[_r][1][Ir];return dr(Ar||Ir)},gr,gr.exports,ar,or,ur,fr)}return ur[_r].exports}for(var pr=typeof commonjsRequire=="function"&&commonjsRequire,br=0;br<fr.length;br++)dr(fr[br]);return dr}({1:[function(ar,or,ur){var fr=ar("./utils"),dr=ar("./support"),pr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";ur.encode=function(br){for(var _r,yr,mr,Er,gr,Ir,Ar,kr=[],Or=0,Dr=br.length,Rr=Dr,Fr=fr.getTypeOf(br)!=="string";Or<br.length;)Rr=Dr-Or,mr=Fr?(_r=br[Or++],yr=Or<Dr?br[Or++]:0,Or<Dr?br[Or++]:0):(_r=br.charCodeAt(Or++),yr=Or<Dr?br.charCodeAt(Or++):0,Or<Dr?br.charCodeAt(Or++):0),Er=_r>>2,gr=(3&_r)<<4|yr>>4,Ir=1<Rr?(15&yr)<<2|mr>>6:64,Ar=2<Rr?63&mr:64,kr.push(pr.charAt(Er)+pr.charAt(gr)+pr.charAt(Ir)+pr.charAt(Ar));return kr.join("")},ur.decode=function(br){var _r,yr,mr,Er,gr,Ir,Ar=0,kr=0,Or="data:";if(br.substr(0,Or.length)===Or)throw new Error("Invalid base64 input, it looks like a data url.");var Dr,Rr=3*(br=br.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(br.charAt(br.length-1)===pr.charAt(64)&&Rr--,br.charAt(br.length-2)===pr.charAt(64)&&Rr--,Rr%1!=0)throw new Error("Invalid base64 input, bad content length.");for(Dr=dr.uint8array?new Uint8Array(0|Rr):new Array(0|Rr);Ar<br.length;)_r=pr.indexOf(br.charAt(Ar++))<<2|(Er=pr.indexOf(br.charAt(Ar++)))>>4,yr=(15&Er)<<4|(gr=pr.indexOf(br.charAt(Ar++)))>>2,mr=(3&gr)<<6|(Ir=pr.indexOf(br.charAt(Ar++))),Dr[kr++]=_r,gr!==64&&(Dr[kr++]=yr),Ir!==64&&(Dr[kr++]=mr);return Dr}},{"./support":30,"./utils":32}],2:[function(ar,or,ur){var fr=ar("./external"),dr=ar("./stream/DataWorker"),pr=ar("./stream/Crc32Probe"),br=ar("./stream/DataLengthProbe");function _r(yr,mr,Er,gr,Ir){this.compressedSize=yr,this.uncompressedSize=mr,this.crc32=Er,this.compression=gr,this.compressedContent=Ir}_r.prototype={getContentWorker:function(){var yr=new dr(fr.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new br("data_length")),mr=this;return yr.on("end",function(){if(this.streamInfo.data_length!==mr.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),yr},getCompressedWorker:function(){return new dr(fr.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},_r.createWorkerFrom=function(yr,mr,Er){return yr.pipe(new pr).pipe(new br("uncompressedSize")).pipe(mr.compressWorker(Er)).pipe(new br("compressedSize")).withStreamInfo("compression",mr)},or.exports=_r},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(ar,or,ur){var fr=ar("./stream/GenericWorker");ur.STORE={magic:"\0\0",compressWorker:function(){return new fr("STORE compression")},uncompressWorker:function(){return new fr("STORE decompression")}},ur.DEFLATE=ar("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(ar,or,ur){var fr=ar("./utils"),dr=function(){for(var pr,br=[],_r=0;_r<256;_r++){pr=_r;for(var yr=0;yr<8;yr++)pr=1&pr?3988292384^pr>>>1:pr>>>1;br[_r]=pr}return br}();or.exports=function(pr,br){return pr!==void 0&&pr.length?fr.getTypeOf(pr)!=="string"?function(_r,yr,mr,Er){var gr=dr,Ir=Er+mr;_r^=-1;for(var Ar=Er;Ar<Ir;Ar++)_r=_r>>>8^gr[255&(_r^yr[Ar])];return-1^_r}(0|br,pr,pr.length,0):function(_r,yr,mr,Er){var gr=dr,Ir=Er+mr;_r^=-1;for(var Ar=Er;Ar<Ir;Ar++)_r=_r>>>8^gr[255&(_r^yr.charCodeAt(Ar))];return-1^_r}(0|br,pr,pr.length,0):0}},{"./utils":32}],5:[function(ar,or,ur){ur.base64=!1,ur.binary=!1,ur.dir=!1,ur.createFolders=!0,ur.date=null,ur.compression=null,ur.compressionOptions=null,ur.comment=null,ur.unixPermissions=null,ur.dosPermissions=null},{}],6:[function(ar,or,ur){var fr=null;fr=typeof Promise<"u"?Promise:ar("lie"),or.exports={Promise:fr}},{lie:37}],7:[function(ar,or,ur){var fr=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",dr=ar("pako"),pr=ar("./utils"),br=ar("./stream/GenericWorker"),_r=fr?"uint8array":"array";function yr(mr,Er){br.call(this,"FlateWorker/"+mr),this._pako=null,this._pakoAction=mr,this._pakoOptions=Er,this.meta={}}ur.magic="\b\0",pr.inherits(yr,br),yr.prototype.processChunk=function(mr){this.meta=mr.meta,this._pako===null&&this._createPako(),this._pako.push(pr.transformTo(_r,mr.data),!1)},yr.prototype.flush=function(){br.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},yr.prototype.cleanUp=function(){br.prototype.cleanUp.call(this),this._pako=null},yr.prototype._createPako=function(){this._pako=new dr[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var mr=this;this._pako.onData=function(Er){mr.push({data:Er,meta:mr.meta})}},ur.compressWorker=function(mr){return new yr("Deflate",mr)},ur.uncompressWorker=function(){return new yr("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(ar,or,ur){function fr(gr,Ir){var Ar,kr="";for(Ar=0;Ar<Ir;Ar++)kr+=String.fromCharCode(255&gr),gr>>>=8;return kr}function dr(gr,Ir,Ar,kr,Or,Dr){var Rr,Fr,Nr=gr.file,Hr=gr.compression,Ur=Dr!==_r.utf8encode,Zr=pr.transformTo("string",Dr(Nr.name)),Gr=pr.transformTo("string",_r.utf8encode(Nr.name)),jr=Nr.comment,Jr=pr.transformTo("string",Dr(jr)),Wr=pr.transformTo("string",_r.utf8encode(jr)),ni=Gr.length!==Nr.name.length,Mr=Wr.length!==jr.length,di="",Ei="",_i="",Fi=Nr.dir,si=Nr.date,ci={crc32:0,compressedSize:0,uncompressedSize:0};Ir&&!Ar||(ci.crc32=gr.crc32,ci.compressedSize=gr.compressedSize,ci.uncompressedSize=gr.uncompressedSize);var $r=0;Ir&&($r|=8),Ur||!ni&&!Mr||($r|=2048);var ei=0,pi=0;Fi&&(ei|=16),Or==="UNIX"?(pi=798,ei|=function(bi,qi){var Ki=bi;return bi||(Ki=qi?16893:33204),(65535&Ki)<<16}(Nr.unixPermissions,Fi)):(pi=20,ei|=function(bi){return 63&(bi||0)}(Nr.dosPermissions)),Rr=si.getUTCHours(),Rr<<=6,Rr|=si.getUTCMinutes(),Rr<<=5,Rr|=si.getUTCSeconds()/2,Fr=si.getUTCFullYear()-1980,Fr<<=4,Fr|=si.getUTCMonth()+1,Fr<<=5,Fr|=si.getUTCDate(),ni&&(Ei=fr(1,1)+fr(yr(Zr),4)+Gr,di+="up"+fr(Ei.length,2)+Ei),Mr&&(_i=fr(1,1)+fr(yr(Jr),4)+Wr,di+="uc"+fr(_i.length,2)+_i);var ui="";return ui+=`
\0`,ui+=fr($r,2),ui+=Hr.magic,ui+=fr(Rr,2),ui+=fr(Fr,2),ui+=fr(ci.crc32,4),ui+=fr(ci.compressedSize,4),ui+=fr(ci.uncompressedSize,4),ui+=fr(Zr.length,2),ui+=fr(di.length,2),{fileRecord:mr.LOCAL_FILE_HEADER+ui+Zr+di,dirRecord:mr.CENTRAL_FILE_HEADER+fr(pi,2)+ui+fr(Jr.length,2)+"\0\0\0\0"+fr(ei,4)+fr(kr,4)+Zr+di+Jr}}var pr=ar("../utils"),br=ar("../stream/GenericWorker"),_r=ar("../utf8"),yr=ar("../crc32"),mr=ar("../signature");function Er(gr,Ir,Ar,kr){br.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=Ir,this.zipPlatform=Ar,this.encodeFileName=kr,this.streamFiles=gr,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}pr.inherits(Er,br),Er.prototype.push=function(gr){var Ir=gr.meta.percent||0,Ar=this.entriesCount,kr=this._sources.length;this.accumulate?this.contentBuffer.push(gr):(this.bytesWritten+=gr.data.length,br.prototype.push.call(this,{data:gr.data,meta:{currentFile:this.currentFile,percent:Ar?(Ir+100*(Ar-kr-1))/Ar:100}}))},Er.prototype.openedSource=function(gr){this.currentSourceOffset=this.bytesWritten,this.currentFile=gr.file.name;var Ir=this.streamFiles&&!gr.file.dir;if(Ir){var Ar=dr(gr,Ir,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:Ar.fileRecord,meta:{percent:0}})}else this.accumulate=!0},Er.prototype.closedSource=function(gr){this.accumulate=!1;var Ir=this.streamFiles&&!gr.file.dir,Ar=dr(gr,Ir,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(Ar.dirRecord),Ir)this.push({data:function(kr){return mr.DATA_DESCRIPTOR+fr(kr.crc32,4)+fr(kr.compressedSize,4)+fr(kr.uncompressedSize,4)}(gr),meta:{percent:100}});else for(this.push({data:Ar.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},Er.prototype.flush=function(){for(var gr=this.bytesWritten,Ir=0;Ir<this.dirRecords.length;Ir++)this.push({data:this.dirRecords[Ir],meta:{percent:100}});var Ar=this.bytesWritten-gr,kr=function(Or,Dr,Rr,Fr,Nr){var Hr=pr.transformTo("string",Nr(Fr));return mr.CENTRAL_DIRECTORY_END+"\0\0\0\0"+fr(Or,2)+fr(Or,2)+fr(Dr,4)+fr(Rr,4)+fr(Hr.length,2)+Hr}(this.dirRecords.length,Ar,gr,this.zipComment,this.encodeFileName);this.push({data:kr,meta:{percent:100}})},Er.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},Er.prototype.registerPrevious=function(gr){this._sources.push(gr);var Ir=this;return gr.on("data",function(Ar){Ir.processChunk(Ar)}),gr.on("end",function(){Ir.closedSource(Ir.previous.streamInfo),Ir._sources.length?Ir.prepareNextSource():Ir.end()}),gr.on("error",function(Ar){Ir.error(Ar)}),this},Er.prototype.resume=function(){return!!br.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},Er.prototype.error=function(gr){var Ir=this._sources;if(!br.prototype.error.call(this,gr))return!1;for(var Ar=0;Ar<Ir.length;Ar++)try{Ir[Ar].error(gr)}catch{}return!0},Er.prototype.lock=function(){br.prototype.lock.call(this);for(var gr=this._sources,Ir=0;Ir<gr.length;Ir++)gr[Ir].lock()},or.exports=Er},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(ar,or,ur){var fr=ar("../compressions"),dr=ar("./ZipFileWorker");ur.generateWorker=function(pr,br,_r){var yr=new dr(br.streamFiles,_r,br.platform,br.encodeFileName),mr=0;try{pr.forEach(function(Er,gr){mr++;var Ir=function(Dr,Rr){var Fr=Dr||Rr,Nr=fr[Fr];if(!Nr)throw new Error(Fr+" is not a valid compression method !");return Nr}(gr.options.compression,br.compression),Ar=gr.options.compressionOptions||br.compressionOptions||{},kr=gr.dir,Or=gr.date;gr._compressWorker(Ir,Ar).withStreamInfo("file",{name:Er,dir:kr,date:Or,comment:gr.comment||"",unixPermissions:gr.unixPermissions,dosPermissions:gr.dosPermissions}).pipe(yr)}),yr.entriesCount=mr}catch(Er){yr.error(Er)}return yr}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(ar,or,ur){function fr(){if(!(this instanceof fr))return new fr;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var dr=new fr;for(var pr in this)typeof this[pr]!="function"&&(dr[pr]=this[pr]);return dr}}(fr.prototype=ar("./object")).loadAsync=ar("./load"),fr.support=ar("./support"),fr.defaults=ar("./defaults"),fr.version="3.10.1",fr.loadAsync=function(dr,pr){return new fr().loadAsync(dr,pr)},fr.external=ar("./external"),or.exports=fr},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(ar,or,ur){var fr=ar("./utils"),dr=ar("./external"),pr=ar("./utf8"),br=ar("./zipEntries"),_r=ar("./stream/Crc32Probe"),yr=ar("./nodejsUtils");function mr(Er){return new dr.Promise(function(gr,Ir){var Ar=Er.decompressed.getContentWorker().pipe(new _r);Ar.on("error",function(kr){Ir(kr)}).on("end",function(){Ar.streamInfo.crc32!==Er.decompressed.crc32?Ir(new Error("Corrupted zip : CRC32 mismatch")):gr()}).resume()})}or.exports=function(Er,gr){var Ir=this;return gr=fr.extend(gr||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:pr.utf8decode}),yr.isNode&&yr.isStream(Er)?dr.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):fr.prepareContent("the loaded zip file",Er,!0,gr.optimizedBinaryString,gr.base64).then(function(Ar){var kr=new br(gr);return kr.load(Ar),kr}).then(function(Ar){var kr=[dr.Promise.resolve(Ar)],Or=Ar.files;if(gr.checkCRC32)for(var Dr=0;Dr<Or.length;Dr++)kr.push(mr(Or[Dr]));return dr.Promise.all(kr)}).then(function(Ar){for(var kr=Ar.shift(),Or=kr.files,Dr=0;Dr<Or.length;Dr++){var Rr=Or[Dr],Fr=Rr.fileNameStr,Nr=fr.resolve(Rr.fileNameStr);Ir.file(Nr,Rr.decompressed,{binary:!0,optimizedBinaryString:!0,date:Rr.date,dir:Rr.dir,comment:Rr.fileCommentStr.length?Rr.fileCommentStr:null,unixPermissions:Rr.unixPermissions,dosPermissions:Rr.dosPermissions,createFolders:gr.createFolders}),Rr.dir||(Ir.file(Nr).unsafeOriginalName=Fr)}return kr.zipComment.length&&(Ir.comment=kr.zipComment),Ir})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(ar,or,ur){var fr=ar("../utils"),dr=ar("../stream/GenericWorker");function pr(br,_r){dr.call(this,"Nodejs stream input adapter for "+br),this._upstreamEnded=!1,this._bindStream(_r)}fr.inherits(pr,dr),pr.prototype._bindStream=function(br){var _r=this;(this._stream=br).pause(),br.on("data",function(yr){_r.push({data:yr,meta:{percent:0}})}).on("error",function(yr){_r.isPaused?this.generatedError=yr:_r.error(yr)}).on("end",function(){_r.isPaused?_r._upstreamEnded=!0:_r.end()})},pr.prototype.pause=function(){return!!dr.prototype.pause.call(this)&&(this._stream.pause(),!0)},pr.prototype.resume=function(){return!!dr.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},or.exports=pr},{"../stream/GenericWorker":28,"../utils":32}],13:[function(ar,or,ur){var fr=ar("readable-stream").Readable;function dr(pr,br,_r){fr.call(this,br),this._helper=pr;var yr=this;pr.on("data",function(mr,Er){yr.push(mr)||yr._helper.pause(),_r&&_r(Er)}).on("error",function(mr){yr.emit("error",mr)}).on("end",function(){yr.push(null)})}ar("../utils").inherits(dr,fr),dr.prototype._read=function(){this._helper.resume()},or.exports=dr},{"../utils":32,"readable-stream":16}],14:[function(ar,or,ur){or.exports={isNode:typeof Buffer<"u",newBufferFrom:function(fr,dr){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(fr,dr);if(typeof fr=="number")throw new Error('The "data" argument must not be a number');return new Buffer(fr,dr)},allocBuffer:function(fr){if(Buffer.alloc)return Buffer.alloc(fr);var dr=new Buffer(fr);return dr.fill(0),dr},isBuffer:function(fr){return Buffer.isBuffer(fr)},isStream:function(fr){return fr&&typeof fr.on=="function"&&typeof fr.pause=="function"&&typeof fr.resume=="function"}}},{}],15:[function(ar,or,ur){function fr(Nr,Hr,Ur){var Zr,Gr=pr.getTypeOf(Hr),jr=pr.extend(Ur||{},yr);jr.date=jr.date||new Date,jr.compression!==null&&(jr.compression=jr.compression.toUpperCase()),typeof jr.unixPermissions=="string"&&(jr.unixPermissions=parseInt(jr.unixPermissions,8)),jr.unixPermissions&&16384&jr.unixPermissions&&(jr.dir=!0),jr.dosPermissions&&16&jr.dosPermissions&&(jr.dir=!0),jr.dir&&(Nr=Or(Nr)),jr.createFolders&&(Zr=kr(Nr))&&Dr.call(this,Zr,!0);var Jr=Gr==="string"&&jr.binary===!1&&jr.base64===!1;Ur&&Ur.binary!==void 0||(jr.binary=!Jr),(Hr instanceof mr&&Hr.uncompressedSize===0||jr.dir||!Hr||Hr.length===0)&&(jr.base64=!1,jr.binary=!0,Hr="",jr.compression="STORE",Gr="string");var Wr=null;Wr=Hr instanceof mr||Hr instanceof br?Hr:Ir.isNode&&Ir.isStream(Hr)?new Ar(Nr,Hr):pr.prepareContent(Nr,Hr,jr.binary,jr.optimizedBinaryString,jr.base64);var ni=new Er(Nr,Wr,jr);this.files[Nr]=ni}var dr=ar("./utf8"),pr=ar("./utils"),br=ar("./stream/GenericWorker"),_r=ar("./stream/StreamHelper"),yr=ar("./defaults"),mr=ar("./compressedObject"),Er=ar("./zipObject"),gr=ar("./generate"),Ir=ar("./nodejsUtils"),Ar=ar("./nodejs/NodejsStreamInputAdapter"),kr=function(Nr){Nr.slice(-1)==="/"&&(Nr=Nr.substring(0,Nr.length-1));var Hr=Nr.lastIndexOf("/");return 0<Hr?Nr.substring(0,Hr):""},Or=function(Nr){return Nr.slice(-1)!=="/"&&(Nr+="/"),Nr},Dr=function(Nr,Hr){return Hr=Hr!==void 0?Hr:yr.createFolders,Nr=Or(Nr),this.files[Nr]||fr.call(this,Nr,null,{dir:!0,createFolders:Hr}),this.files[Nr]};function Rr(Nr){return Object.prototype.toString.call(Nr)==="[object RegExp]"}var Fr={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(Nr){var Hr,Ur,Zr;for(Hr in this.files)Zr=this.files[Hr],(Ur=Hr.slice(this.root.length,Hr.length))&&Hr.slice(0,this.root.length)===this.root&&Nr(Ur,Zr)},filter:function(Nr){var Hr=[];return this.forEach(function(Ur,Zr){Nr(Ur,Zr)&&Hr.push(Zr)}),Hr},file:function(Nr,Hr,Ur){if(arguments.length!==1)return Nr=this.root+Nr,fr.call(this,Nr,Hr,Ur),this;if(Rr(Nr)){var Zr=Nr;return this.filter(function(jr,Jr){return!Jr.dir&&Zr.test(jr)})}var Gr=this.files[this.root+Nr];return Gr&&!Gr.dir?Gr:null},folder:function(Nr){if(!Nr)return this;if(Rr(Nr))return this.filter(function(Gr,jr){return jr.dir&&Nr.test(Gr)});var Hr=this.root+Nr,Ur=Dr.call(this,Hr),Zr=this.clone();return Zr.root=Ur.name,Zr},remove:function(Nr){Nr=this.root+Nr;var Hr=this.files[Nr];if(Hr||(Nr.slice(-1)!=="/"&&(Nr+="/"),Hr=this.files[Nr]),Hr&&!Hr.dir)delete this.files[Nr];else for(var Ur=this.filter(function(Gr,jr){return jr.name.slice(0,Nr.length)===Nr}),Zr=0;Zr<Ur.length;Zr++)delete this.files[Ur[Zr].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(Nr){var Hr,Ur={};try{if((Ur=pr.extend(Nr||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:dr.utf8encode})).type=Ur.type.toLowerCase(),Ur.compression=Ur.compression.toUpperCase(),Ur.type==="binarystring"&&(Ur.type="string"),!Ur.type)throw new Error("No output type specified.");pr.checkSupport(Ur.type),Ur.platform!=="darwin"&&Ur.platform!=="freebsd"&&Ur.platform!=="linux"&&Ur.platform!=="sunos"||(Ur.platform="UNIX"),Ur.platform==="win32"&&(Ur.platform="DOS");var Zr=Ur.comment||this.comment||"";Hr=gr.generateWorker(this,Ur,Zr)}catch(Gr){(Hr=new br("error")).error(Gr)}return new _r(Hr,Ur.type||"string",Ur.mimeType)},generateAsync:function(Nr,Hr){return this.generateInternalStream(Nr).accumulate(Hr)},generateNodeStream:function(Nr,Hr){return(Nr=Nr||{}).type||(Nr.type="nodebuffer"),this.generateInternalStream(Nr).toNodejsStream(Hr)}};or.exports=Fr},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(ar,or,ur){or.exports=ar("stream")},{stream:void 0}],17:[function(ar,or,ur){var fr=ar("./DataReader");function dr(pr){fr.call(this,pr);for(var br=0;br<this.data.length;br++)pr[br]=255&pr[br]}ar("../utils").inherits(dr,fr),dr.prototype.byteAt=function(pr){return this.data[this.zero+pr]},dr.prototype.lastIndexOfSignature=function(pr){for(var br=pr.charCodeAt(0),_r=pr.charCodeAt(1),yr=pr.charCodeAt(2),mr=pr.charCodeAt(3),Er=this.length-4;0<=Er;--Er)if(this.data[Er]===br&&this.data[Er+1]===_r&&this.data[Er+2]===yr&&this.data[Er+3]===mr)return Er-this.zero;return-1},dr.prototype.readAndCheckSignature=function(pr){var br=pr.charCodeAt(0),_r=pr.charCodeAt(1),yr=pr.charCodeAt(2),mr=pr.charCodeAt(3),Er=this.readData(4);return br===Er[0]&&_r===Er[1]&&yr===Er[2]&&mr===Er[3]},dr.prototype.readData=function(pr){if(this.checkOffset(pr),pr===0)return[];var br=this.data.slice(this.zero+this.index,this.zero+this.index+pr);return this.index+=pr,br},or.exports=dr},{"../utils":32,"./DataReader":18}],18:[function(ar,or,ur){var fr=ar("../utils");function dr(pr){this.data=pr,this.length=pr.length,this.index=0,this.zero=0}dr.prototype={checkOffset:function(pr){this.checkIndex(this.index+pr)},checkIndex:function(pr){if(this.length<this.zero+pr||pr<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+pr+"). Corrupted zip ?")},setIndex:function(pr){this.checkIndex(pr),this.index=pr},skip:function(pr){this.setIndex(this.index+pr)},byteAt:function(){},readInt:function(pr){var br,_r=0;for(this.checkOffset(pr),br=this.index+pr-1;br>=this.index;br--)_r=(_r<<8)+this.byteAt(br);return this.index+=pr,_r},readString:function(pr){return fr.transformTo("string",this.readData(pr))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var pr=this.readInt(4);return new Date(Date.UTC(1980+(pr>>25&127),(pr>>21&15)-1,pr>>16&31,pr>>11&31,pr>>5&63,(31&pr)<<1))}},or.exports=dr},{"../utils":32}],19:[function(ar,or,ur){var fr=ar("./Uint8ArrayReader");function dr(pr){fr.call(this,pr)}ar("../utils").inherits(dr,fr),dr.prototype.readData=function(pr){this.checkOffset(pr);var br=this.data.slice(this.zero+this.index,this.zero+this.index+pr);return this.index+=pr,br},or.exports=dr},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(ar,or,ur){var fr=ar("./DataReader");function dr(pr){fr.call(this,pr)}ar("../utils").inherits(dr,fr),dr.prototype.byteAt=function(pr){return this.data.charCodeAt(this.zero+pr)},dr.prototype.lastIndexOfSignature=function(pr){return this.data.lastIndexOf(pr)-this.zero},dr.prototype.readAndCheckSignature=function(pr){return pr===this.readData(4)},dr.prototype.readData=function(pr){this.checkOffset(pr);var br=this.data.slice(this.zero+this.index,this.zero+this.index+pr);return this.index+=pr,br},or.exports=dr},{"../utils":32,"./DataReader":18}],21:[function(ar,or,ur){var fr=ar("./ArrayReader");function dr(pr){fr.call(this,pr)}ar("../utils").inherits(dr,fr),dr.prototype.readData=function(pr){if(this.checkOffset(pr),pr===0)return new Uint8Array(0);var br=this.data.subarray(this.zero+this.index,this.zero+this.index+pr);return this.index+=pr,br},or.exports=dr},{"../utils":32,"./ArrayReader":17}],22:[function(ar,or,ur){var fr=ar("../utils"),dr=ar("../support"),pr=ar("./ArrayReader"),br=ar("./StringReader"),_r=ar("./NodeBufferReader"),yr=ar("./Uint8ArrayReader");or.exports=function(mr){var Er=fr.getTypeOf(mr);return fr.checkSupport(Er),Er!=="string"||dr.uint8array?Er==="nodebuffer"?new _r(mr):dr.uint8array?new yr(fr.transformTo("uint8array",mr)):new pr(fr.transformTo("array",mr)):new br(mr)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(ar,or,ur){ur.LOCAL_FILE_HEADER="PK",ur.CENTRAL_FILE_HEADER="PK",ur.CENTRAL_DIRECTORY_END="PK",ur.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",ur.ZIP64_CENTRAL_DIRECTORY_END="PK",ur.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(ar,or,ur){var fr=ar("./GenericWorker"),dr=ar("../utils");function pr(br){fr.call(this,"ConvertWorker to "+br),this.destType=br}dr.inherits(pr,fr),pr.prototype.processChunk=function(br){this.push({data:dr.transformTo(this.destType,br.data),meta:br.meta})},or.exports=pr},{"../utils":32,"./GenericWorker":28}],25:[function(ar,or,ur){var fr=ar("./GenericWorker"),dr=ar("../crc32");function pr(){fr.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}ar("../utils").inherits(pr,fr),pr.prototype.processChunk=function(br){this.streamInfo.crc32=dr(br.data,this.streamInfo.crc32||0),this.push(br)},or.exports=pr},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(ar,or,ur){var fr=ar("../utils"),dr=ar("./GenericWorker");function pr(br){dr.call(this,"DataLengthProbe for "+br),this.propName=br,this.withStreamInfo(br,0)}fr.inherits(pr,dr),pr.prototype.processChunk=function(br){if(br){var _r=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=_r+br.data.length}dr.prototype.processChunk.call(this,br)},or.exports=pr},{"../utils":32,"./GenericWorker":28}],27:[function(ar,or,ur){var fr=ar("../utils"),dr=ar("./GenericWorker");function pr(br){dr.call(this,"DataWorker");var _r=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,br.then(function(yr){_r.dataIsReady=!0,_r.data=yr,_r.max=yr&&yr.length||0,_r.type=fr.getTypeOf(yr),_r.isPaused||_r._tickAndRepeat()},function(yr){_r.error(yr)})}fr.inherits(pr,dr),pr.prototype.cleanUp=function(){dr.prototype.cleanUp.call(this),this.data=null},pr.prototype.resume=function(){return!!dr.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,fr.delay(this._tickAndRepeat,[],this)),!0)},pr.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(fr.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},pr.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var br=null,_r=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":br=this.data.substring(this.index,_r);break;case"uint8array":br=this.data.subarray(this.index,_r);break;case"array":case"nodebuffer":br=this.data.slice(this.index,_r)}return this.index=_r,this.push({data:br,meta:{percent:this.max?this.index/this.max*100:0}})},or.exports=pr},{"../utils":32,"./GenericWorker":28}],28:[function(ar,or,ur){function fr(dr){this.name=dr||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}fr.prototype={push:function(dr){this.emit("data",dr)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(dr){this.emit("error",dr)}return!0},error:function(dr){return!this.isFinished&&(this.isPaused?this.generatedError=dr:(this.isFinished=!0,this.emit("error",dr),this.previous&&this.previous.error(dr),this.cleanUp()),!0)},on:function(dr,pr){return this._listeners[dr].push(pr),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(dr,pr){if(this._listeners[dr])for(var br=0;br<this._listeners[dr].length;br++)this._listeners[dr][br].call(this,pr)},pipe:function(dr){return dr.registerPrevious(this)},registerPrevious:function(dr){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=dr.streamInfo,this.mergeStreamInfo(),this.previous=dr;var pr=this;return dr.on("data",function(br){pr.processChunk(br)}),dr.on("end",function(){pr.end()}),dr.on("error",function(br){pr.error(br)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var dr=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),dr=!0),this.previous&&this.previous.resume(),!dr},flush:function(){},processChunk:function(dr){this.push(dr)},withStreamInfo:function(dr,pr){return this.extraStreamInfo[dr]=pr,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var dr in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,dr)&&(this.streamInfo[dr]=this.extraStreamInfo[dr])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var dr="Worker "+this.name;return this.previous?this.previous+" -> "+dr:dr}},or.exports=fr},{}],29:[function(ar,or,ur){var fr=ar("../utils"),dr=ar("./ConvertWorker"),pr=ar("./GenericWorker"),br=ar("../base64"),_r=ar("../support"),yr=ar("../external"),mr=null;if(_r.nodestream)try{mr=ar("../nodejs/NodejsStreamOutputAdapter")}catch{}function Er(Ir,Ar){return new yr.Promise(function(kr,Or){var Dr=[],Rr=Ir._internalType,Fr=Ir._outputType,Nr=Ir._mimeType;Ir.on("data",function(Hr,Ur){Dr.push(Hr),Ar&&Ar(Ur)}).on("error",function(Hr){Dr=[],Or(Hr)}).on("end",function(){try{var Hr=function(Ur,Zr,Gr){switch(Ur){case"blob":return fr.newBlob(fr.transformTo("arraybuffer",Zr),Gr);case"base64":return br.encode(Zr);default:return fr.transformTo(Ur,Zr)}}(Fr,function(Ur,Zr){var Gr,jr=0,Jr=null,Wr=0;for(Gr=0;Gr<Zr.length;Gr++)Wr+=Zr[Gr].length;switch(Ur){case"string":return Zr.join("");case"array":return Array.prototype.concat.apply([],Zr);case"uint8array":for(Jr=new Uint8Array(Wr),Gr=0;Gr<Zr.length;Gr++)Jr.set(Zr[Gr],jr),jr+=Zr[Gr].length;return Jr;case"nodebuffer":return Buffer.concat(Zr);default:throw new Error("concat : unsupported type '"+Ur+"'")}}(Rr,Dr),Nr);kr(Hr)}catch(Ur){Or(Ur)}Dr=[]}).resume()})}function gr(Ir,Ar,kr){var Or=Ar;switch(Ar){case"blob":case"arraybuffer":Or="uint8array";break;case"base64":Or="string"}try{this._internalType=Or,this._outputType=Ar,this._mimeType=kr,fr.checkSupport(Or),this._worker=Ir.pipe(new dr(Or)),Ir.lock()}catch(Dr){this._worker=new pr("error"),this._worker.error(Dr)}}gr.prototype={accumulate:function(Ir){return Er(this,Ir)},on:function(Ir,Ar){var kr=this;return Ir==="data"?this._worker.on(Ir,function(Or){Ar.call(kr,Or.data,Or.meta)}):this._worker.on(Ir,function(){fr.delay(Ar,arguments,kr)}),this},resume:function(){return fr.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(Ir){if(fr.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new mr(this,{objectMode:this._outputType!=="nodebuffer"},Ir)}},or.exports=gr},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(ar,or,ur){if(ur.base64=!0,ur.array=!0,ur.string=!0,ur.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",ur.nodebuffer=typeof Buffer<"u",ur.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")ur.blob=!1;else{var fr=new ArrayBuffer(0);try{ur.blob=new Blob([fr],{type:"application/zip"}).size===0}catch{try{var dr=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);dr.append(fr),ur.blob=dr.getBlob("application/zip").size===0}catch{ur.blob=!1}}}try{ur.nodestream=!!ar("readable-stream").Readable}catch{ur.nodestream=!1}},{"readable-stream":16}],31:[function(ar,or,ur){for(var fr=ar("./utils"),dr=ar("./support"),pr=ar("./nodejsUtils"),br=ar("./stream/GenericWorker"),_r=new Array(256),yr=0;yr<256;yr++)_r[yr]=252<=yr?6:248<=yr?5:240<=yr?4:224<=yr?3:192<=yr?2:1;_r[254]=_r[254]=1;function mr(){br.call(this,"utf-8 decode"),this.leftOver=null}function Er(){br.call(this,"utf-8 encode")}ur.utf8encode=function(gr){return dr.nodebuffer?pr.newBufferFrom(gr,"utf-8"):function(Ir){var Ar,kr,Or,Dr,Rr,Fr=Ir.length,Nr=0;for(Dr=0;Dr<Fr;Dr++)(64512&(kr=Ir.charCodeAt(Dr)))==55296&&Dr+1<Fr&&(64512&(Or=Ir.charCodeAt(Dr+1)))==56320&&(kr=65536+(kr-55296<<10)+(Or-56320),Dr++),Nr+=kr<128?1:kr<2048?2:kr<65536?3:4;for(Ar=dr.uint8array?new Uint8Array(Nr):new Array(Nr),Dr=Rr=0;Rr<Nr;Dr++)(64512&(kr=Ir.charCodeAt(Dr)))==55296&&Dr+1<Fr&&(64512&(Or=Ir.charCodeAt(Dr+1)))==56320&&(kr=65536+(kr-55296<<10)+(Or-56320),Dr++),kr<128?Ar[Rr++]=kr:(kr<2048?Ar[Rr++]=192|kr>>>6:(kr<65536?Ar[Rr++]=224|kr>>>12:(Ar[Rr++]=240|kr>>>18,Ar[Rr++]=128|kr>>>12&63),Ar[Rr++]=128|kr>>>6&63),Ar[Rr++]=128|63&kr);return Ar}(gr)},ur.utf8decode=function(gr){return dr.nodebuffer?fr.transformTo("nodebuffer",gr).toString("utf-8"):function(Ir){var Ar,kr,Or,Dr,Rr=Ir.length,Fr=new Array(2*Rr);for(Ar=kr=0;Ar<Rr;)if((Or=Ir[Ar++])<128)Fr[kr++]=Or;else if(4<(Dr=_r[Or]))Fr[kr++]=65533,Ar+=Dr-1;else{for(Or&=Dr===2?31:Dr===3?15:7;1<Dr&&Ar<Rr;)Or=Or<<6|63&Ir[Ar++],Dr--;1<Dr?Fr[kr++]=65533:Or<65536?Fr[kr++]=Or:(Or-=65536,Fr[kr++]=55296|Or>>10&1023,Fr[kr++]=56320|1023&Or)}return Fr.length!==kr&&(Fr.subarray?Fr=Fr.subarray(0,kr):Fr.length=kr),fr.applyFromCharCode(Fr)}(gr=fr.transformTo(dr.uint8array?"uint8array":"array",gr))},fr.inherits(mr,br),mr.prototype.processChunk=function(gr){var Ir=fr.transformTo(dr.uint8array?"uint8array":"array",gr.data);if(this.leftOver&&this.leftOver.length){if(dr.uint8array){var Ar=Ir;(Ir=new Uint8Array(Ar.length+this.leftOver.length)).set(this.leftOver,0),Ir.set(Ar,this.leftOver.length)}else Ir=this.leftOver.concat(Ir);this.leftOver=null}var kr=function(Dr,Rr){var Fr;for((Rr=Rr||Dr.length)>Dr.length&&(Rr=Dr.length),Fr=Rr-1;0<=Fr&&(192&Dr[Fr])==128;)Fr--;return Fr<0||Fr===0?Rr:Fr+_r[Dr[Fr]]>Rr?Fr:Rr}(Ir),Or=Ir;kr!==Ir.length&&(dr.uint8array?(Or=Ir.subarray(0,kr),this.leftOver=Ir.subarray(kr,Ir.length)):(Or=Ir.slice(0,kr),this.leftOver=Ir.slice(kr,Ir.length))),this.push({data:ur.utf8decode(Or),meta:gr.meta})},mr.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:ur.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},ur.Utf8DecodeWorker=mr,fr.inherits(Er,br),Er.prototype.processChunk=function(gr){this.push({data:ur.utf8encode(gr.data),meta:gr.meta})},ur.Utf8EncodeWorker=Er},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(ar,or,ur){var fr=ar("./support"),dr=ar("./base64"),pr=ar("./nodejsUtils"),br=ar("./external");function _r(Ar){return Ar}function yr(Ar,kr){for(var Or=0;Or<Ar.length;++Or)kr[Or]=255&Ar.charCodeAt(Or);return kr}ar("setimmediate"),ur.newBlob=function(Ar,kr){ur.checkSupport("blob");try{return new Blob([Ar],{type:kr})}catch{try{var Or=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return Or.append(Ar),Or.getBlob(kr)}catch{throw new Error("Bug : can't construct the Blob.")}}};var mr={stringifyByChunk:function(Ar,kr,Or){var Dr=[],Rr=0,Fr=Ar.length;if(Fr<=Or)return String.fromCharCode.apply(null,Ar);for(;Rr<Fr;)kr==="array"||kr==="nodebuffer"?Dr.push(String.fromCharCode.apply(null,Ar.slice(Rr,Math.min(Rr+Or,Fr)))):Dr.push(String.fromCharCode.apply(null,Ar.subarray(Rr,Math.min(Rr+Or,Fr)))),Rr+=Or;return Dr.join("")},stringifyByChar:function(Ar){for(var kr="",Or=0;Or<Ar.length;Or++)kr+=String.fromCharCode(Ar[Or]);return kr},applyCanBeUsed:{uint8array:function(){try{return fr.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return fr.nodebuffer&&String.fromCharCode.apply(null,pr.allocBuffer(1)).length===1}catch{return!1}}()}};function Er(Ar){var kr=65536,Or=ur.getTypeOf(Ar),Dr=!0;if(Or==="uint8array"?Dr=mr.applyCanBeUsed.uint8array:Or==="nodebuffer"&&(Dr=mr.applyCanBeUsed.nodebuffer),Dr)for(;1<kr;)try{return mr.stringifyByChunk(Ar,Or,kr)}catch{kr=Math.floor(kr/2)}return mr.stringifyByChar(Ar)}function gr(Ar,kr){for(var Or=0;Or<Ar.length;Or++)kr[Or]=Ar[Or];return kr}ur.applyFromCharCode=Er;var Ir={};Ir.string={string:_r,array:function(Ar){return yr(Ar,new Array(Ar.length))},arraybuffer:function(Ar){return Ir.string.uint8array(Ar).buffer},uint8array:function(Ar){return yr(Ar,new Uint8Array(Ar.length))},nodebuffer:function(Ar){return yr(Ar,pr.allocBuffer(Ar.length))}},Ir.array={string:Er,array:_r,arraybuffer:function(Ar){return new Uint8Array(Ar).buffer},uint8array:function(Ar){return new Uint8Array(Ar)},nodebuffer:function(Ar){return pr.newBufferFrom(Ar)}},Ir.arraybuffer={string:function(Ar){return Er(new Uint8Array(Ar))},array:function(Ar){return gr(new Uint8Array(Ar),new Array(Ar.byteLength))},arraybuffer:_r,uint8array:function(Ar){return new Uint8Array(Ar)},nodebuffer:function(Ar){return pr.newBufferFrom(new Uint8Array(Ar))}},Ir.uint8array={string:Er,array:function(Ar){return gr(Ar,new Array(Ar.length))},arraybuffer:function(Ar){return Ar.buffer},uint8array:_r,nodebuffer:function(Ar){return pr.newBufferFrom(Ar)}},Ir.nodebuffer={string:Er,array:function(Ar){return gr(Ar,new Array(Ar.length))},arraybuffer:function(Ar){return Ir.nodebuffer.uint8array(Ar).buffer},uint8array:function(Ar){return gr(Ar,new Uint8Array(Ar.length))},nodebuffer:_r},ur.transformTo=function(Ar,kr){if(kr=kr||"",!Ar)return kr;ur.checkSupport(Ar);var Or=ur.getTypeOf(kr);return Ir[Or][Ar](kr)},ur.resolve=function(Ar){for(var kr=Ar.split("/"),Or=[],Dr=0;Dr<kr.length;Dr++){var Rr=kr[Dr];Rr==="."||Rr===""&&Dr!==0&&Dr!==kr.length-1||(Rr===".."?Or.pop():Or.push(Rr))}return Or.join("/")},ur.getTypeOf=function(Ar){return typeof Ar=="string"?"string":Object.prototype.toString.call(Ar)==="[object Array]"?"array":fr.nodebuffer&&pr.isBuffer(Ar)?"nodebuffer":fr.uint8array&&Ar instanceof Uint8Array?"uint8array":fr.arraybuffer&&Ar instanceof ArrayBuffer?"arraybuffer":void 0},ur.checkSupport=function(Ar){if(!fr[Ar.toLowerCase()])throw new Error(Ar+" is not supported by this platform")},ur.MAX_VALUE_16BITS=65535,ur.MAX_VALUE_32BITS=-1,ur.pretty=function(Ar){var kr,Or,Dr="";for(Or=0;Or<(Ar||"").length;Or++)Dr+="\\x"+((kr=Ar.charCodeAt(Or))<16?"0":"")+kr.toString(16).toUpperCase();return Dr},ur.delay=function(Ar,kr,Or){setImmediate(function(){Ar.apply(Or||null,kr||[])})},ur.inherits=function(Ar,kr){function Or(){}Or.prototype=kr.prototype,Ar.prototype=new Or},ur.extend=function(){var Ar,kr,Or={};for(Ar=0;Ar<arguments.length;Ar++)for(kr in arguments[Ar])Object.prototype.hasOwnProperty.call(arguments[Ar],kr)&&Or[kr]===void 0&&(Or[kr]=arguments[Ar][kr]);return Or},ur.prepareContent=function(Ar,kr,Or,Dr,Rr){return br.Promise.resolve(kr).then(function(Fr){return fr.blob&&(Fr instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(Fr))!==-1)&&typeof FileReader<"u"?new br.Promise(function(Nr,Hr){var Ur=new FileReader;Ur.onload=function(Zr){Nr(Zr.target.result)},Ur.onerror=function(Zr){Hr(Zr.target.error)},Ur.readAsArrayBuffer(Fr)}):Fr}).then(function(Fr){var Nr=ur.getTypeOf(Fr);return Nr?(Nr==="arraybuffer"?Fr=ur.transformTo("uint8array",Fr):Nr==="string"&&(Rr?Fr=dr.decode(Fr):Or&&Dr!==!0&&(Fr=function(Hr){return yr(Hr,fr.uint8array?new Uint8Array(Hr.length):new Array(Hr.length))}(Fr))),Fr):br.Promise.reject(new Error("Can't read the data of '"+Ar+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(ar,or,ur){var fr=ar("./reader/readerFor"),dr=ar("./utils"),pr=ar("./signature"),br=ar("./zipEntry"),_r=ar("./support");function yr(mr){this.files=[],this.loadOptions=mr}yr.prototype={checkSignature:function(mr){if(!this.reader.readAndCheckSignature(mr)){this.reader.index-=4;var Er=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+dr.pretty(Er)+", expected "+dr.pretty(mr)+")")}},isSignature:function(mr,Er){var gr=this.reader.index;this.reader.setIndex(mr);var Ir=this.reader.readString(4)===Er;return this.reader.setIndex(gr),Ir},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var mr=this.reader.readData(this.zipCommentLength),Er=_r.uint8array?"uint8array":"array",gr=dr.transformTo(Er,mr);this.zipComment=this.loadOptions.decodeFileName(gr)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var mr,Er,gr,Ir=this.zip64EndOfCentralSize-44;0<Ir;)mr=this.reader.readInt(2),Er=this.reader.readInt(4),gr=this.reader.readData(Er),this.zip64ExtensibleData[mr]={id:mr,length:Er,value:gr}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var mr,Er;for(mr=0;mr<this.files.length;mr++)Er=this.files[mr],this.reader.setIndex(Er.localHeaderOffset),this.checkSignature(pr.LOCAL_FILE_HEADER),Er.readLocalPart(this.reader),Er.handleUTF8(),Er.processAttributes()},readCentralDir:function(){var mr;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(pr.CENTRAL_FILE_HEADER);)(mr=new br({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(mr);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var mr=this.reader.lastIndexOfSignature(pr.CENTRAL_DIRECTORY_END);if(mr<0)throw this.isSignature(0,pr.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(mr);var Er=mr;if(this.checkSignature(pr.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===dr.MAX_VALUE_16BITS||this.diskWithCentralDirStart===dr.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===dr.MAX_VALUE_16BITS||this.centralDirRecords===dr.MAX_VALUE_16BITS||this.centralDirSize===dr.MAX_VALUE_32BITS||this.centralDirOffset===dr.MAX_VALUE_32BITS){if(this.zip64=!0,(mr=this.reader.lastIndexOfSignature(pr.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(mr),this.checkSignature(pr.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,pr.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(pr.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(pr.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var gr=this.centralDirOffset+this.centralDirSize;this.zip64&&(gr+=20,gr+=12+this.zip64EndOfCentralSize);var Ir=Er-gr;if(0<Ir)this.isSignature(Er,pr.CENTRAL_FILE_HEADER)||(this.reader.zero=Ir);else if(Ir<0)throw new Error("Corrupted zip: missing "+Math.abs(Ir)+" bytes.")},prepareReader:function(mr){this.reader=fr(mr)},load:function(mr){this.prepareReader(mr),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},or.exports=yr},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(ar,or,ur){var fr=ar("./reader/readerFor"),dr=ar("./utils"),pr=ar("./compressedObject"),br=ar("./crc32"),_r=ar("./utf8"),yr=ar("./compressions"),mr=ar("./support");function Er(gr,Ir){this.options=gr,this.loadOptions=Ir}Er.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(gr){var Ir,Ar;if(gr.skip(22),this.fileNameLength=gr.readInt(2),Ar=gr.readInt(2),this.fileName=gr.readData(this.fileNameLength),gr.skip(Ar),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((Ir=function(kr){for(var Or in yr)if(Object.prototype.hasOwnProperty.call(yr,Or)&&yr[Or].magic===kr)return yr[Or];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+dr.pretty(this.compressionMethod)+" unknown (inner file : "+dr.transformTo("string",this.fileName)+")");this.decompressed=new pr(this.compressedSize,this.uncompressedSize,this.crc32,Ir,gr.readData(this.compressedSize))},readCentralPart:function(gr){this.versionMadeBy=gr.readInt(2),gr.skip(2),this.bitFlag=gr.readInt(2),this.compressionMethod=gr.readString(2),this.date=gr.readDate(),this.crc32=gr.readInt(4),this.compressedSize=gr.readInt(4),this.uncompressedSize=gr.readInt(4);var Ir=gr.readInt(2);if(this.extraFieldsLength=gr.readInt(2),this.fileCommentLength=gr.readInt(2),this.diskNumberStart=gr.readInt(2),this.internalFileAttributes=gr.readInt(2),this.externalFileAttributes=gr.readInt(4),this.localHeaderOffset=gr.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");gr.skip(Ir),this.readExtraFields(gr),this.parseZIP64ExtraField(gr),this.fileComment=gr.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var gr=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),gr==0&&(this.dosPermissions=63&this.externalFileAttributes),gr==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var gr=fr(this.extraFields[1].value);this.uncompressedSize===dr.MAX_VALUE_32BITS&&(this.uncompressedSize=gr.readInt(8)),this.compressedSize===dr.MAX_VALUE_32BITS&&(this.compressedSize=gr.readInt(8)),this.localHeaderOffset===dr.MAX_VALUE_32BITS&&(this.localHeaderOffset=gr.readInt(8)),this.diskNumberStart===dr.MAX_VALUE_32BITS&&(this.diskNumberStart=gr.readInt(4))}},readExtraFields:function(gr){var Ir,Ar,kr,Or=gr.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});gr.index+4<Or;)Ir=gr.readInt(2),Ar=gr.readInt(2),kr=gr.readData(Ar),this.extraFields[Ir]={id:Ir,length:Ar,value:kr};gr.setIndex(Or)},handleUTF8:function(){var gr=mr.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=_r.utf8decode(this.fileName),this.fileCommentStr=_r.utf8decode(this.fileComment);else{var Ir=this.findExtraFieldUnicodePath();if(Ir!==null)this.fileNameStr=Ir;else{var Ar=dr.transformTo(gr,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(Ar)}var kr=this.findExtraFieldUnicodeComment();if(kr!==null)this.fileCommentStr=kr;else{var Or=dr.transformTo(gr,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(Or)}}},findExtraFieldUnicodePath:function(){var gr=this.extraFields[28789];if(gr){var Ir=fr(gr.value);return Ir.readInt(1)!==1||br(this.fileName)!==Ir.readInt(4)?null:_r.utf8decode(Ir.readData(gr.length-5))}return null},findExtraFieldUnicodeComment:function(){var gr=this.extraFields[25461];if(gr){var Ir=fr(gr.value);return Ir.readInt(1)!==1||br(this.fileComment)!==Ir.readInt(4)?null:_r.utf8decode(Ir.readData(gr.length-5))}return null}},or.exports=Er},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(ar,or,ur){function fr(Ir,Ar,kr){this.name=Ir,this.dir=kr.dir,this.date=kr.date,this.comment=kr.comment,this.unixPermissions=kr.unixPermissions,this.dosPermissions=kr.dosPermissions,this._data=Ar,this._dataBinary=kr.binary,this.options={compression:kr.compression,compressionOptions:kr.compressionOptions}}var dr=ar("./stream/StreamHelper"),pr=ar("./stream/DataWorker"),br=ar("./utf8"),_r=ar("./compressedObject"),yr=ar("./stream/GenericWorker");fr.prototype={internalStream:function(Ir){var Ar=null,kr="string";try{if(!Ir)throw new Error("No output type specified.");var Or=(kr=Ir.toLowerCase())==="string"||kr==="text";kr!=="binarystring"&&kr!=="text"||(kr="string"),Ar=this._decompressWorker();var Dr=!this._dataBinary;Dr&&!Or&&(Ar=Ar.pipe(new br.Utf8EncodeWorker)),!Dr&&Or&&(Ar=Ar.pipe(new br.Utf8DecodeWorker))}catch(Rr){(Ar=new yr("error")).error(Rr)}return new dr(Ar,kr,"")},async:function(Ir,Ar){return this.internalStream(Ir).accumulate(Ar)},nodeStream:function(Ir,Ar){return this.internalStream(Ir||"nodebuffer").toNodejsStream(Ar)},_compressWorker:function(Ir,Ar){if(this._data instanceof _r&&this._data.compression.magic===Ir.magic)return this._data.getCompressedWorker();var kr=this._decompressWorker();return this._dataBinary||(kr=kr.pipe(new br.Utf8EncodeWorker)),_r.createWorkerFrom(kr,Ir,Ar)},_decompressWorker:function(){return this._data instanceof _r?this._data.getContentWorker():this._data instanceof yr?this._data:new pr(this._data)}};for(var mr=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],Er=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},gr=0;gr<mr.length;gr++)fr.prototype[mr[gr]]=Er;or.exports=fr},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(ar,or,ur){(function(fr){var dr,pr,br=fr.MutationObserver||fr.WebKitMutationObserver;if(br){var _r=0,yr=new br(Ir),mr=fr.document.createTextNode("");yr.observe(mr,{characterData:!0}),dr=function(){mr.data=_r=++_r%2}}else if(fr.setImmediate||fr.MessageChannel===void 0)dr="document"in fr&&"onreadystatechange"in fr.document.createElement("script")?function(){var Ar=fr.document.createElement("script");Ar.onreadystatechange=function(){Ir(),Ar.onreadystatechange=null,Ar.parentNode.removeChild(Ar),Ar=null},fr.document.documentElement.appendChild(Ar)}:function(){setTimeout(Ir,0)};else{var Er=new fr.MessageChannel;Er.port1.onmessage=Ir,dr=function(){Er.port2.postMessage(0)}}var gr=[];function Ir(){var Ar,kr;pr=!0;for(var Or=gr.length;Or;){for(kr=gr,gr=[],Ar=-1;++Ar<Or;)kr[Ar]();Or=gr.length}pr=!1}or.exports=function(Ar){gr.push(Ar)!==1||pr||dr()}}).call(this,typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(ar,or,ur){var fr=ar("immediate");function dr(){}var pr={},br=["REJECTED"],_r=["FULFILLED"],yr=["PENDING"];function mr(Or){if(typeof Or!="function")throw new TypeError("resolver must be a function");this.state=yr,this.queue=[],this.outcome=void 0,Or!==dr&&Ar(this,Or)}function Er(Or,Dr,Rr){this.promise=Or,typeof Dr=="function"&&(this.onFulfilled=Dr,this.callFulfilled=this.otherCallFulfilled),typeof Rr=="function"&&(this.onRejected=Rr,this.callRejected=this.otherCallRejected)}function gr(Or,Dr,Rr){fr(function(){var Fr;try{Fr=Dr(Rr)}catch(Nr){return pr.reject(Or,Nr)}Fr===Or?pr.reject(Or,new TypeError("Cannot resolve promise with itself")):pr.resolve(Or,Fr)})}function Ir(Or){var Dr=Or&&Or.then;if(Or&&(typeof Or=="object"||typeof Or=="function")&&typeof Dr=="function")return function(){Dr.apply(Or,arguments)}}function Ar(Or,Dr){var Rr=!1;function Fr(Ur){Rr||(Rr=!0,pr.reject(Or,Ur))}function Nr(Ur){Rr||(Rr=!0,pr.resolve(Or,Ur))}var Hr=kr(function(){Dr(Nr,Fr)});Hr.status==="error"&&Fr(Hr.value)}function kr(Or,Dr){var Rr={};try{Rr.value=Or(Dr),Rr.status="success"}catch(Fr){Rr.status="error",Rr.value=Fr}return Rr}(or.exports=mr).prototype.finally=function(Or){if(typeof Or!="function")return this;var Dr=this.constructor;return this.then(function(Rr){return Dr.resolve(Or()).then(function(){return Rr})},function(Rr){return Dr.resolve(Or()).then(function(){throw Rr})})},mr.prototype.catch=function(Or){return this.then(null,Or)},mr.prototype.then=function(Or,Dr){if(typeof Or!="function"&&this.state===_r||typeof Dr!="function"&&this.state===br)return this;var Rr=new this.constructor(dr);return this.state!==yr?gr(Rr,this.state===_r?Or:Dr,this.outcome):this.queue.push(new Er(Rr,Or,Dr)),Rr},Er.prototype.callFulfilled=function(Or){pr.resolve(this.promise,Or)},Er.prototype.otherCallFulfilled=function(Or){gr(this.promise,this.onFulfilled,Or)},Er.prototype.callRejected=function(Or){pr.reject(this.promise,Or)},Er.prototype.otherCallRejected=function(Or){gr(this.promise,this.onRejected,Or)},pr.resolve=function(Or,Dr){var Rr=kr(Ir,Dr);if(Rr.status==="error")return pr.reject(Or,Rr.value);var Fr=Rr.value;if(Fr)Ar(Or,Fr);else{Or.state=_r,Or.outcome=Dr;for(var Nr=-1,Hr=Or.queue.length;++Nr<Hr;)Or.queue[Nr].callFulfilled(Dr)}return Or},pr.reject=function(Or,Dr){Or.state=br,Or.outcome=Dr;for(var Rr=-1,Fr=Or.queue.length;++Rr<Fr;)Or.queue[Rr].callRejected(Dr);return Or},mr.resolve=function(Or){return Or instanceof this?Or:pr.resolve(new this(dr),Or)},mr.reject=function(Or){var Dr=new this(dr);return pr.reject(Dr,Or)},mr.all=function(Or){var Dr=this;if(Object.prototype.toString.call(Or)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Rr=Or.length,Fr=!1;if(!Rr)return this.resolve([]);for(var Nr=new Array(Rr),Hr=0,Ur=-1,Zr=new this(dr);++Ur<Rr;)Gr(Or[Ur],Ur);return Zr;function Gr(jr,Jr){Dr.resolve(jr).then(function(Wr){Nr[Jr]=Wr,++Hr!==Rr||Fr||(Fr=!0,pr.resolve(Zr,Nr))},function(Wr){Fr||(Fr=!0,pr.reject(Zr,Wr))})}},mr.race=function(Or){var Dr=this;if(Object.prototype.toString.call(Or)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Rr=Or.length,Fr=!1;if(!Rr)return this.resolve([]);for(var Nr=-1,Hr=new this(dr);++Nr<Rr;)Ur=Or[Nr],Dr.resolve(Ur).then(function(Zr){Fr||(Fr=!0,pr.resolve(Hr,Zr))},function(Zr){Fr||(Fr=!0,pr.reject(Hr,Zr))});var Ur;return Hr}},{immediate:36}],38:[function(ar,or,ur){var fr={};(0,ar("./lib/utils/common").assign)(fr,ar("./lib/deflate"),ar("./lib/inflate"),ar("./lib/zlib/constants")),or.exports=fr},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(ar,or,ur){var fr=ar("./zlib/deflate"),dr=ar("./utils/common"),pr=ar("./utils/strings"),br=ar("./zlib/messages"),_r=ar("./zlib/zstream"),yr=Object.prototype.toString,mr=0,Er=-1,gr=0,Ir=8;function Ar(Or){if(!(this instanceof Ar))return new Ar(Or);this.options=dr.assign({level:Er,method:Ir,chunkSize:16384,windowBits:15,memLevel:8,strategy:gr,to:""},Or||{});var Dr=this.options;Dr.raw&&0<Dr.windowBits?Dr.windowBits=-Dr.windowBits:Dr.gzip&&0<Dr.windowBits&&Dr.windowBits<16&&(Dr.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _r,this.strm.avail_out=0;var Rr=fr.deflateInit2(this.strm,Dr.level,Dr.method,Dr.windowBits,Dr.memLevel,Dr.strategy);if(Rr!==mr)throw new Error(br[Rr]);if(Dr.header&&fr.deflateSetHeader(this.strm,Dr.header),Dr.dictionary){var Fr;if(Fr=typeof Dr.dictionary=="string"?pr.string2buf(Dr.dictionary):yr.call(Dr.dictionary)==="[object ArrayBuffer]"?new Uint8Array(Dr.dictionary):Dr.dictionary,(Rr=fr.deflateSetDictionary(this.strm,Fr))!==mr)throw new Error(br[Rr]);this._dict_set=!0}}function kr(Or,Dr){var Rr=new Ar(Dr);if(Rr.push(Or,!0),Rr.err)throw Rr.msg||br[Rr.err];return Rr.result}Ar.prototype.push=function(Or,Dr){var Rr,Fr,Nr=this.strm,Hr=this.options.chunkSize;if(this.ended)return!1;Fr=Dr===~~Dr?Dr:Dr===!0?4:0,typeof Or=="string"?Nr.input=pr.string2buf(Or):yr.call(Or)==="[object ArrayBuffer]"?Nr.input=new Uint8Array(Or):Nr.input=Or,Nr.next_in=0,Nr.avail_in=Nr.input.length;do{if(Nr.avail_out===0&&(Nr.output=new dr.Buf8(Hr),Nr.next_out=0,Nr.avail_out=Hr),(Rr=fr.deflate(Nr,Fr))!==1&&Rr!==mr)return this.onEnd(Rr),!(this.ended=!0);Nr.avail_out!==0&&(Nr.avail_in!==0||Fr!==4&&Fr!==2)||(this.options.to==="string"?this.onData(pr.buf2binstring(dr.shrinkBuf(Nr.output,Nr.next_out))):this.onData(dr.shrinkBuf(Nr.output,Nr.next_out)))}while((0<Nr.avail_in||Nr.avail_out===0)&&Rr!==1);return Fr===4?(Rr=fr.deflateEnd(this.strm),this.onEnd(Rr),this.ended=!0,Rr===mr):Fr!==2||(this.onEnd(mr),!(Nr.avail_out=0))},Ar.prototype.onData=function(Or){this.chunks.push(Or)},Ar.prototype.onEnd=function(Or){Or===mr&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=dr.flattenChunks(this.chunks)),this.chunks=[],this.err=Or,this.msg=this.strm.msg},ur.Deflate=Ar,ur.deflate=kr,ur.deflateRaw=function(Or,Dr){return(Dr=Dr||{}).raw=!0,kr(Or,Dr)},ur.gzip=function(Or,Dr){return(Dr=Dr||{}).gzip=!0,kr(Or,Dr)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(ar,or,ur){var fr=ar("./zlib/inflate"),dr=ar("./utils/common"),pr=ar("./utils/strings"),br=ar("./zlib/constants"),_r=ar("./zlib/messages"),yr=ar("./zlib/zstream"),mr=ar("./zlib/gzheader"),Er=Object.prototype.toString;function gr(Ar){if(!(this instanceof gr))return new gr(Ar);this.options=dr.assign({chunkSize:16384,windowBits:0,to:""},Ar||{});var kr=this.options;kr.raw&&0<=kr.windowBits&&kr.windowBits<16&&(kr.windowBits=-kr.windowBits,kr.windowBits===0&&(kr.windowBits=-15)),!(0<=kr.windowBits&&kr.windowBits<16)||Ar&&Ar.windowBits||(kr.windowBits+=32),15<kr.windowBits&&kr.windowBits<48&&!(15&kr.windowBits)&&(kr.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new yr,this.strm.avail_out=0;var Or=fr.inflateInit2(this.strm,kr.windowBits);if(Or!==br.Z_OK)throw new Error(_r[Or]);this.header=new mr,fr.inflateGetHeader(this.strm,this.header)}function Ir(Ar,kr){var Or=new gr(kr);if(Or.push(Ar,!0),Or.err)throw Or.msg||_r[Or.err];return Or.result}gr.prototype.push=function(Ar,kr){var Or,Dr,Rr,Fr,Nr,Hr,Ur=this.strm,Zr=this.options.chunkSize,Gr=this.options.dictionary,jr=!1;if(this.ended)return!1;Dr=kr===~~kr?kr:kr===!0?br.Z_FINISH:br.Z_NO_FLUSH,typeof Ar=="string"?Ur.input=pr.binstring2buf(Ar):Er.call(Ar)==="[object ArrayBuffer]"?Ur.input=new Uint8Array(Ar):Ur.input=Ar,Ur.next_in=0,Ur.avail_in=Ur.input.length;do{if(Ur.avail_out===0&&(Ur.output=new dr.Buf8(Zr),Ur.next_out=0,Ur.avail_out=Zr),(Or=fr.inflate(Ur,br.Z_NO_FLUSH))===br.Z_NEED_DICT&&Gr&&(Hr=typeof Gr=="string"?pr.string2buf(Gr):Er.call(Gr)==="[object ArrayBuffer]"?new Uint8Array(Gr):Gr,Or=fr.inflateSetDictionary(this.strm,Hr)),Or===br.Z_BUF_ERROR&&jr===!0&&(Or=br.Z_OK,jr=!1),Or!==br.Z_STREAM_END&&Or!==br.Z_OK)return this.onEnd(Or),!(this.ended=!0);Ur.next_out&&(Ur.avail_out!==0&&Or!==br.Z_STREAM_END&&(Ur.avail_in!==0||Dr!==br.Z_FINISH&&Dr!==br.Z_SYNC_FLUSH)||(this.options.to==="string"?(Rr=pr.utf8border(Ur.output,Ur.next_out),Fr=Ur.next_out-Rr,Nr=pr.buf2string(Ur.output,Rr),Ur.next_out=Fr,Ur.avail_out=Zr-Fr,Fr&&dr.arraySet(Ur.output,Ur.output,Rr,Fr,0),this.onData(Nr)):this.onData(dr.shrinkBuf(Ur.output,Ur.next_out)))),Ur.avail_in===0&&Ur.avail_out===0&&(jr=!0)}while((0<Ur.avail_in||Ur.avail_out===0)&&Or!==br.Z_STREAM_END);return Or===br.Z_STREAM_END&&(Dr=br.Z_FINISH),Dr===br.Z_FINISH?(Or=fr.inflateEnd(this.strm),this.onEnd(Or),this.ended=!0,Or===br.Z_OK):Dr!==br.Z_SYNC_FLUSH||(this.onEnd(br.Z_OK),!(Ur.avail_out=0))},gr.prototype.onData=function(Ar){this.chunks.push(Ar)},gr.prototype.onEnd=function(Ar){Ar===br.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=dr.flattenChunks(this.chunks)),this.chunks=[],this.err=Ar,this.msg=this.strm.msg},ur.Inflate=gr,ur.inflate=Ir,ur.inflateRaw=function(Ar,kr){return(kr=kr||{}).raw=!0,Ir(Ar,kr)},ur.ungzip=Ir},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(ar,or,ur){var fr=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";ur.assign=function(br){for(var _r=Array.prototype.slice.call(arguments,1);_r.length;){var yr=_r.shift();if(yr){if(typeof yr!="object")throw new TypeError(yr+"must be non-object");for(var mr in yr)yr.hasOwnProperty(mr)&&(br[mr]=yr[mr])}}return br},ur.shrinkBuf=function(br,_r){return br.length===_r?br:br.subarray?br.subarray(0,_r):(br.length=_r,br)};var dr={arraySet:function(br,_r,yr,mr,Er){if(_r.subarray&&br.subarray)br.set(_r.subarray(yr,yr+mr),Er);else for(var gr=0;gr<mr;gr++)br[Er+gr]=_r[yr+gr]},flattenChunks:function(br){var _r,yr,mr,Er,gr,Ir;for(_r=mr=0,yr=br.length;_r<yr;_r++)mr+=br[_r].length;for(Ir=new Uint8Array(mr),_r=Er=0,yr=br.length;_r<yr;_r++)gr=br[_r],Ir.set(gr,Er),Er+=gr.length;return Ir}},pr={arraySet:function(br,_r,yr,mr,Er){for(var gr=0;gr<mr;gr++)br[Er+gr]=_r[yr+gr]},flattenChunks:function(br){return[].concat.apply([],br)}};ur.setTyped=function(br){br?(ur.Buf8=Uint8Array,ur.Buf16=Uint16Array,ur.Buf32=Int32Array,ur.assign(ur,dr)):(ur.Buf8=Array,ur.Buf16=Array,ur.Buf32=Array,ur.assign(ur,pr))},ur.setTyped(fr)},{}],42:[function(ar,or,ur){var fr=ar("./common"),dr=!0,pr=!0;try{String.fromCharCode.apply(null,[0])}catch{dr=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{pr=!1}for(var br=new fr.Buf8(256),_r=0;_r<256;_r++)br[_r]=252<=_r?6:248<=_r?5:240<=_r?4:224<=_r?3:192<=_r?2:1;function yr(mr,Er){if(Er<65537&&(mr.subarray&&pr||!mr.subarray&&dr))return String.fromCharCode.apply(null,fr.shrinkBuf(mr,Er));for(var gr="",Ir=0;Ir<Er;Ir++)gr+=String.fromCharCode(mr[Ir]);return gr}br[254]=br[254]=1,ur.string2buf=function(mr){var Er,gr,Ir,Ar,kr,Or=mr.length,Dr=0;for(Ar=0;Ar<Or;Ar++)(64512&(gr=mr.charCodeAt(Ar)))==55296&&Ar+1<Or&&(64512&(Ir=mr.charCodeAt(Ar+1)))==56320&&(gr=65536+(gr-55296<<10)+(Ir-56320),Ar++),Dr+=gr<128?1:gr<2048?2:gr<65536?3:4;for(Er=new fr.Buf8(Dr),Ar=kr=0;kr<Dr;Ar++)(64512&(gr=mr.charCodeAt(Ar)))==55296&&Ar+1<Or&&(64512&(Ir=mr.charCodeAt(Ar+1)))==56320&&(gr=65536+(gr-55296<<10)+(Ir-56320),Ar++),gr<128?Er[kr++]=gr:(gr<2048?Er[kr++]=192|gr>>>6:(gr<65536?Er[kr++]=224|gr>>>12:(Er[kr++]=240|gr>>>18,Er[kr++]=128|gr>>>12&63),Er[kr++]=128|gr>>>6&63),Er[kr++]=128|63&gr);return Er},ur.buf2binstring=function(mr){return yr(mr,mr.length)},ur.binstring2buf=function(mr){for(var Er=new fr.Buf8(mr.length),gr=0,Ir=Er.length;gr<Ir;gr++)Er[gr]=mr.charCodeAt(gr);return Er},ur.buf2string=function(mr,Er){var gr,Ir,Ar,kr,Or=Er||mr.length,Dr=new Array(2*Or);for(gr=Ir=0;gr<Or;)if((Ar=mr[gr++])<128)Dr[Ir++]=Ar;else if(4<(kr=br[Ar]))Dr[Ir++]=65533,gr+=kr-1;else{for(Ar&=kr===2?31:kr===3?15:7;1<kr&&gr<Or;)Ar=Ar<<6|63&mr[gr++],kr--;1<kr?Dr[Ir++]=65533:Ar<65536?Dr[Ir++]=Ar:(Ar-=65536,Dr[Ir++]=55296|Ar>>10&1023,Dr[Ir++]=56320|1023&Ar)}return yr(Dr,Ir)},ur.utf8border=function(mr,Er){var gr;for((Er=Er||mr.length)>mr.length&&(Er=mr.length),gr=Er-1;0<=gr&&(192&mr[gr])==128;)gr--;return gr<0||gr===0?Er:gr+br[mr[gr]]>Er?gr:Er}},{"./common":41}],43:[function(ar,or,ur){or.exports=function(fr,dr,pr,br){for(var _r=65535&fr|0,yr=fr>>>16&65535|0,mr=0;pr!==0;){for(pr-=mr=2e3<pr?2e3:pr;yr=yr+(_r=_r+dr[br++]|0)|0,--mr;);_r%=65521,yr%=65521}return _r|yr<<16|0}},{}],44:[function(ar,or,ur){or.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(ar,or,ur){var fr=function(){for(var dr,pr=[],br=0;br<256;br++){dr=br;for(var _r=0;_r<8;_r++)dr=1&dr?3988292384^dr>>>1:dr>>>1;pr[br]=dr}return pr}();or.exports=function(dr,pr,br,_r){var yr=fr,mr=_r+br;dr^=-1;for(var Er=_r;Er<mr;Er++)dr=dr>>>8^yr[255&(dr^pr[Er])];return-1^dr}},{}],46:[function(ar,or,ur){var fr,dr=ar("../utils/common"),pr=ar("./trees"),br=ar("./adler32"),_r=ar("./crc32"),yr=ar("./messages"),mr=0,Er=4,gr=0,Ir=-2,Ar=-1,kr=4,Or=2,Dr=8,Rr=9,Fr=286,Nr=30,Hr=19,Ur=2*Fr+1,Zr=15,Gr=3,jr=258,Jr=jr+Gr+1,Wr=42,ni=113,Mr=1,di=2,Ei=3,_i=4;function Fi(Vr,hi){return Vr.msg=yr[hi],hi}function si(Vr){return(Vr<<1)-(4<Vr?9:0)}function ci(Vr){for(var hi=Vr.length;0<=--hi;)Vr[hi]=0}function $r(Vr){var hi=Vr.state,yi=hi.pending;yi>Vr.avail_out&&(yi=Vr.avail_out),yi!==0&&(dr.arraySet(Vr.output,hi.pending_buf,hi.pending_out,yi,Vr.next_out),Vr.next_out+=yi,hi.pending_out+=yi,Vr.total_out+=yi,Vr.avail_out-=yi,hi.pending-=yi,hi.pending===0&&(hi.pending_out=0))}function ei(Vr,hi){pr._tr_flush_block(Vr,0<=Vr.block_start?Vr.block_start:-1,Vr.strstart-Vr.block_start,hi),Vr.block_start=Vr.strstart,$r(Vr.strm)}function pi(Vr,hi){Vr.pending_buf[Vr.pending++]=hi}function ui(Vr,hi){Vr.pending_buf[Vr.pending++]=hi>>>8&255,Vr.pending_buf[Vr.pending++]=255&hi}function bi(Vr,hi){var yi,ti,ri=Vr.max_chain_length,xi=Vr.strstart,Ai=Vr.prev_length,Kr=Vr.nice_match,Pr=Vr.strstart>Vr.w_size-Jr?Vr.strstart-(Vr.w_size-Jr):0,qr=Vr.window,Xr=Vr.w_mask,ai=Vr.prev,fi=Vr.strstart+jr,vi=qr[xi+Ai-1],Ri=qr[xi+Ai];Vr.prev_length>=Vr.good_match&&(ri>>=2),Kr>Vr.lookahead&&(Kr=Vr.lookahead);do if(qr[(yi=hi)+Ai]===Ri&&qr[yi+Ai-1]===vi&&qr[yi]===qr[xi]&&qr[++yi]===qr[xi+1]){xi+=2,yi++;do;while(qr[++xi]===qr[++yi]&&qr[++xi]===qr[++yi]&&qr[++xi]===qr[++yi]&&qr[++xi]===qr[++yi]&&qr[++xi]===qr[++yi]&&qr[++xi]===qr[++yi]&&qr[++xi]===qr[++yi]&&qr[++xi]===qr[++yi]&&xi<fi);if(ti=jr-(fi-xi),xi=fi-jr,Ai<ti){if(Vr.match_start=hi,Kr<=(Ai=ti))break;vi=qr[xi+Ai-1],Ri=qr[xi+Ai]}}while((hi=ai[hi&Xr])>Pr&&--ri!=0);return Ai<=Vr.lookahead?Ai:Vr.lookahead}function qi(Vr){var hi,yi,ti,ri,xi,Ai,Kr,Pr,qr,Xr,ai=Vr.w_size;do{if(ri=Vr.window_size-Vr.lookahead-Vr.strstart,Vr.strstart>=ai+(ai-Jr)){for(dr.arraySet(Vr.window,Vr.window,ai,ai,0),Vr.match_start-=ai,Vr.strstart-=ai,Vr.block_start-=ai,hi=yi=Vr.hash_size;ti=Vr.head[--hi],Vr.head[hi]=ai<=ti?ti-ai:0,--yi;);for(hi=yi=ai;ti=Vr.prev[--hi],Vr.prev[hi]=ai<=ti?ti-ai:0,--yi;);ri+=ai}if(Vr.strm.avail_in===0)break;if(Ai=Vr.strm,Kr=Vr.window,Pr=Vr.strstart+Vr.lookahead,qr=ri,Xr=void 0,Xr=Ai.avail_in,qr<Xr&&(Xr=qr),yi=Xr===0?0:(Ai.avail_in-=Xr,dr.arraySet(Kr,Ai.input,Ai.next_in,Xr,Pr),Ai.state.wrap===1?Ai.adler=br(Ai.adler,Kr,Xr,Pr):Ai.state.wrap===2&&(Ai.adler=_r(Ai.adler,Kr,Xr,Pr)),Ai.next_in+=Xr,Ai.total_in+=Xr,Xr),Vr.lookahead+=yi,Vr.lookahead+Vr.insert>=Gr)for(xi=Vr.strstart-Vr.insert,Vr.ins_h=Vr.window[xi],Vr.ins_h=(Vr.ins_h<<Vr.hash_shift^Vr.window[xi+1])&Vr.hash_mask;Vr.insert&&(Vr.ins_h=(Vr.ins_h<<Vr.hash_shift^Vr.window[xi+Gr-1])&Vr.hash_mask,Vr.prev[xi&Vr.w_mask]=Vr.head[Vr.ins_h],Vr.head[Vr.ins_h]=xi,xi++,Vr.insert--,!(Vr.lookahead+Vr.insert<Gr)););}while(Vr.lookahead<Jr&&Vr.strm.avail_in!==0)}function Ki(Vr,hi){for(var yi,ti;;){if(Vr.lookahead<Jr){if(qi(Vr),Vr.lookahead<Jr&&hi===mr)return Mr;if(Vr.lookahead===0)break}if(yi=0,Vr.lookahead>=Gr&&(Vr.ins_h=(Vr.ins_h<<Vr.hash_shift^Vr.window[Vr.strstart+Gr-1])&Vr.hash_mask,yi=Vr.prev[Vr.strstart&Vr.w_mask]=Vr.head[Vr.ins_h],Vr.head[Vr.ins_h]=Vr.strstart),yi!==0&&Vr.strstart-yi<=Vr.w_size-Jr&&(Vr.match_length=bi(Vr,yi)),Vr.match_length>=Gr)if(ti=pr._tr_tally(Vr,Vr.strstart-Vr.match_start,Vr.match_length-Gr),Vr.lookahead-=Vr.match_length,Vr.match_length<=Vr.max_lazy_match&&Vr.lookahead>=Gr){for(Vr.match_length--;Vr.strstart++,Vr.ins_h=(Vr.ins_h<<Vr.hash_shift^Vr.window[Vr.strstart+Gr-1])&Vr.hash_mask,yi=Vr.prev[Vr.strstart&Vr.w_mask]=Vr.head[Vr.ins_h],Vr.head[Vr.ins_h]=Vr.strstart,--Vr.match_length!=0;);Vr.strstart++}else Vr.strstart+=Vr.match_length,Vr.match_length=0,Vr.ins_h=Vr.window[Vr.strstart],Vr.ins_h=(Vr.ins_h<<Vr.hash_shift^Vr.window[Vr.strstart+1])&Vr.hash_mask;else ti=pr._tr_tally(Vr,0,Vr.window[Vr.strstart]),Vr.lookahead--,Vr.strstart++;if(ti&&(ei(Vr,!1),Vr.strm.avail_out===0))return Mr}return Vr.insert=Vr.strstart<Gr-1?Vr.strstart:Gr-1,hi===Er?(ei(Vr,!0),Vr.strm.avail_out===0?Ei:_i):Vr.last_lit&&(ei(Vr,!1),Vr.strm.avail_out===0)?Mr:di}function Ti(Vr,hi){for(var yi,ti,ri;;){if(Vr.lookahead<Jr){if(qi(Vr),Vr.lookahead<Jr&&hi===mr)return Mr;if(Vr.lookahead===0)break}if(yi=0,Vr.lookahead>=Gr&&(Vr.ins_h=(Vr.ins_h<<Vr.hash_shift^Vr.window[Vr.strstart+Gr-1])&Vr.hash_mask,yi=Vr.prev[Vr.strstart&Vr.w_mask]=Vr.head[Vr.ins_h],Vr.head[Vr.ins_h]=Vr.strstart),Vr.prev_length=Vr.match_length,Vr.prev_match=Vr.match_start,Vr.match_length=Gr-1,yi!==0&&Vr.prev_length<Vr.max_lazy_match&&Vr.strstart-yi<=Vr.w_size-Jr&&(Vr.match_length=bi(Vr,yi),Vr.match_length<=5&&(Vr.strategy===1||Vr.match_length===Gr&&4096<Vr.strstart-Vr.match_start)&&(Vr.match_length=Gr-1)),Vr.prev_length>=Gr&&Vr.match_length<=Vr.prev_length){for(ri=Vr.strstart+Vr.lookahead-Gr,ti=pr._tr_tally(Vr,Vr.strstart-1-Vr.prev_match,Vr.prev_length-Gr),Vr.lookahead-=Vr.prev_length-1,Vr.prev_length-=2;++Vr.strstart<=ri&&(Vr.ins_h=(Vr.ins_h<<Vr.hash_shift^Vr.window[Vr.strstart+Gr-1])&Vr.hash_mask,yi=Vr.prev[Vr.strstart&Vr.w_mask]=Vr.head[Vr.ins_h],Vr.head[Vr.ins_h]=Vr.strstart),--Vr.prev_length!=0;);if(Vr.match_available=0,Vr.match_length=Gr-1,Vr.strstart++,ti&&(ei(Vr,!1),Vr.strm.avail_out===0))return Mr}else if(Vr.match_available){if((ti=pr._tr_tally(Vr,0,Vr.window[Vr.strstart-1]))&&ei(Vr,!1),Vr.strstart++,Vr.lookahead--,Vr.strm.avail_out===0)return Mr}else Vr.match_available=1,Vr.strstart++,Vr.lookahead--}return Vr.match_available&&(ti=pr._tr_tally(Vr,0,Vr.window[Vr.strstart-1]),Vr.match_available=0),Vr.insert=Vr.strstart<Gr-1?Vr.strstart:Gr-1,hi===Er?(ei(Vr,!0),Vr.strm.avail_out===0?Ei:_i):Vr.last_lit&&(ei(Vr,!1),Vr.strm.avail_out===0)?Mr:di}function ii(Vr,hi,yi,ti,ri){this.good_length=Vr,this.max_lazy=hi,this.nice_length=yi,this.max_chain=ti,this.func=ri}function oi(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Dr,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new dr.Buf16(2*Ur),this.dyn_dtree=new dr.Buf16(2*(2*Nr+1)),this.bl_tree=new dr.Buf16(2*(2*Hr+1)),ci(this.dyn_ltree),ci(this.dyn_dtree),ci(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new dr.Buf16(Zr+1),this.heap=new dr.Buf16(2*Fr+1),ci(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new dr.Buf16(2*Fr+1),ci(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Si(Vr){var hi;return Vr&&Vr.state?(Vr.total_in=Vr.total_out=0,Vr.data_type=Or,(hi=Vr.state).pending=0,hi.pending_out=0,hi.wrap<0&&(hi.wrap=-hi.wrap),hi.status=hi.wrap?Wr:ni,Vr.adler=hi.wrap===2?0:1,hi.last_flush=mr,pr._tr_init(hi),gr):Fi(Vr,Ir)}function Di(Vr){var hi=Si(Vr);return hi===gr&&function(yi){yi.window_size=2*yi.w_size,ci(yi.head),yi.max_lazy_match=fr[yi.level].max_lazy,yi.good_match=fr[yi.level].good_length,yi.nice_match=fr[yi.level].nice_length,yi.max_chain_length=fr[yi.level].max_chain,yi.strstart=0,yi.block_start=0,yi.lookahead=0,yi.insert=0,yi.match_length=yi.prev_length=Gr-1,yi.match_available=0,yi.ins_h=0}(Vr.state),hi}function Mi(Vr,hi,yi,ti,ri,xi){if(!Vr)return Ir;var Ai=1;if(hi===Ar&&(hi=6),ti<0?(Ai=0,ti=-ti):15<ti&&(Ai=2,ti-=16),ri<1||Rr<ri||yi!==Dr||ti<8||15<ti||hi<0||9<hi||xi<0||kr<xi)return Fi(Vr,Ir);ti===8&&(ti=9);var Kr=new oi;return(Vr.state=Kr).strm=Vr,Kr.wrap=Ai,Kr.gzhead=null,Kr.w_bits=ti,Kr.w_size=1<<Kr.w_bits,Kr.w_mask=Kr.w_size-1,Kr.hash_bits=ri+7,Kr.hash_size=1<<Kr.hash_bits,Kr.hash_mask=Kr.hash_size-1,Kr.hash_shift=~~((Kr.hash_bits+Gr-1)/Gr),Kr.window=new dr.Buf8(2*Kr.w_size),Kr.head=new dr.Buf16(Kr.hash_size),Kr.prev=new dr.Buf16(Kr.w_size),Kr.lit_bufsize=1<<ri+6,Kr.pending_buf_size=4*Kr.lit_bufsize,Kr.pending_buf=new dr.Buf8(Kr.pending_buf_size),Kr.d_buf=1*Kr.lit_bufsize,Kr.l_buf=3*Kr.lit_bufsize,Kr.level=hi,Kr.strategy=xi,Kr.method=yi,Di(Vr)}fr=[new ii(0,0,0,0,function(Vr,hi){var yi=65535;for(yi>Vr.pending_buf_size-5&&(yi=Vr.pending_buf_size-5);;){if(Vr.lookahead<=1){if(qi(Vr),Vr.lookahead===0&&hi===mr)return Mr;if(Vr.lookahead===0)break}Vr.strstart+=Vr.lookahead,Vr.lookahead=0;var ti=Vr.block_start+yi;if((Vr.strstart===0||Vr.strstart>=ti)&&(Vr.lookahead=Vr.strstart-ti,Vr.strstart=ti,ei(Vr,!1),Vr.strm.avail_out===0)||Vr.strstart-Vr.block_start>=Vr.w_size-Jr&&(ei(Vr,!1),Vr.strm.avail_out===0))return Mr}return Vr.insert=0,hi===Er?(ei(Vr,!0),Vr.strm.avail_out===0?Ei:_i):(Vr.strstart>Vr.block_start&&(ei(Vr,!1),Vr.strm.avail_out),Mr)}),new ii(4,4,8,4,Ki),new ii(4,5,16,8,Ki),new ii(4,6,32,32,Ki),new ii(4,4,16,16,Ti),new ii(8,16,32,32,Ti),new ii(8,16,128,128,Ti),new ii(8,32,128,256,Ti),new ii(32,128,258,1024,Ti),new ii(32,258,258,4096,Ti)],ur.deflateInit=function(Vr,hi){return Mi(Vr,hi,Dr,15,8,0)},ur.deflateInit2=Mi,ur.deflateReset=Di,ur.deflateResetKeep=Si,ur.deflateSetHeader=function(Vr,hi){return Vr&&Vr.state?Vr.state.wrap!==2?Ir:(Vr.state.gzhead=hi,gr):Ir},ur.deflate=function(Vr,hi){var yi,ti,ri,xi;if(!Vr||!Vr.state||5<hi||hi<0)return Vr?Fi(Vr,Ir):Ir;if(ti=Vr.state,!Vr.output||!Vr.input&&Vr.avail_in!==0||ti.status===666&&hi!==Er)return Fi(Vr,Vr.avail_out===0?-5:Ir);if(ti.strm=Vr,yi=ti.last_flush,ti.last_flush=hi,ti.status===Wr)if(ti.wrap===2)Vr.adler=0,pi(ti,31),pi(ti,139),pi(ti,8),ti.gzhead?(pi(ti,(ti.gzhead.text?1:0)+(ti.gzhead.hcrc?2:0)+(ti.gzhead.extra?4:0)+(ti.gzhead.name?8:0)+(ti.gzhead.comment?16:0)),pi(ti,255&ti.gzhead.time),pi(ti,ti.gzhead.time>>8&255),pi(ti,ti.gzhead.time>>16&255),pi(ti,ti.gzhead.time>>24&255),pi(ti,ti.level===9?2:2<=ti.strategy||ti.level<2?4:0),pi(ti,255&ti.gzhead.os),ti.gzhead.extra&&ti.gzhead.extra.length&&(pi(ti,255&ti.gzhead.extra.length),pi(ti,ti.gzhead.extra.length>>8&255)),ti.gzhead.hcrc&&(Vr.adler=_r(Vr.adler,ti.pending_buf,ti.pending,0)),ti.gzindex=0,ti.status=69):(pi(ti,0),pi(ti,0),pi(ti,0),pi(ti,0),pi(ti,0),pi(ti,ti.level===9?2:2<=ti.strategy||ti.level<2?4:0),pi(ti,3),ti.status=ni);else{var Ai=Dr+(ti.w_bits-8<<4)<<8;Ai|=(2<=ti.strategy||ti.level<2?0:ti.level<6?1:ti.level===6?2:3)<<6,ti.strstart!==0&&(Ai|=32),Ai+=31-Ai%31,ti.status=ni,ui(ti,Ai),ti.strstart!==0&&(ui(ti,Vr.adler>>>16),ui(ti,65535&Vr.adler)),Vr.adler=1}if(ti.status===69)if(ti.gzhead.extra){for(ri=ti.pending;ti.gzindex<(65535&ti.gzhead.extra.length)&&(ti.pending!==ti.pending_buf_size||(ti.gzhead.hcrc&&ti.pending>ri&&(Vr.adler=_r(Vr.adler,ti.pending_buf,ti.pending-ri,ri)),$r(Vr),ri=ti.pending,ti.pending!==ti.pending_buf_size));)pi(ti,255&ti.gzhead.extra[ti.gzindex]),ti.gzindex++;ti.gzhead.hcrc&&ti.pending>ri&&(Vr.adler=_r(Vr.adler,ti.pending_buf,ti.pending-ri,ri)),ti.gzindex===ti.gzhead.extra.length&&(ti.gzindex=0,ti.status=73)}else ti.status=73;if(ti.status===73)if(ti.gzhead.name){ri=ti.pending;do{if(ti.pending===ti.pending_buf_size&&(ti.gzhead.hcrc&&ti.pending>ri&&(Vr.adler=_r(Vr.adler,ti.pending_buf,ti.pending-ri,ri)),$r(Vr),ri=ti.pending,ti.pending===ti.pending_buf_size)){xi=1;break}xi=ti.gzindex<ti.gzhead.name.length?255&ti.gzhead.name.charCodeAt(ti.gzindex++):0,pi(ti,xi)}while(xi!==0);ti.gzhead.hcrc&&ti.pending>ri&&(Vr.adler=_r(Vr.adler,ti.pending_buf,ti.pending-ri,ri)),xi===0&&(ti.gzindex=0,ti.status=91)}else ti.status=91;if(ti.status===91)if(ti.gzhead.comment){ri=ti.pending;do{if(ti.pending===ti.pending_buf_size&&(ti.gzhead.hcrc&&ti.pending>ri&&(Vr.adler=_r(Vr.adler,ti.pending_buf,ti.pending-ri,ri)),$r(Vr),ri=ti.pending,ti.pending===ti.pending_buf_size)){xi=1;break}xi=ti.gzindex<ti.gzhead.comment.length?255&ti.gzhead.comment.charCodeAt(ti.gzindex++):0,pi(ti,xi)}while(xi!==0);ti.gzhead.hcrc&&ti.pending>ri&&(Vr.adler=_r(Vr.adler,ti.pending_buf,ti.pending-ri,ri)),xi===0&&(ti.status=103)}else ti.status=103;if(ti.status===103&&(ti.gzhead.hcrc?(ti.pending+2>ti.pending_buf_size&&$r(Vr),ti.pending+2<=ti.pending_buf_size&&(pi(ti,255&Vr.adler),pi(ti,Vr.adler>>8&255),Vr.adler=0,ti.status=ni)):ti.status=ni),ti.pending!==0){if($r(Vr),Vr.avail_out===0)return ti.last_flush=-1,gr}else if(Vr.avail_in===0&&si(hi)<=si(yi)&&hi!==Er)return Fi(Vr,-5);if(ti.status===666&&Vr.avail_in!==0)return Fi(Vr,-5);if(Vr.avail_in!==0||ti.lookahead!==0||hi!==mr&&ti.status!==666){var Kr=ti.strategy===2?function(Pr,qr){for(var Xr;;){if(Pr.lookahead===0&&(qi(Pr),Pr.lookahead===0)){if(qr===mr)return Mr;break}if(Pr.match_length=0,Xr=pr._tr_tally(Pr,0,Pr.window[Pr.strstart]),Pr.lookahead--,Pr.strstart++,Xr&&(ei(Pr,!1),Pr.strm.avail_out===0))return Mr}return Pr.insert=0,qr===Er?(ei(Pr,!0),Pr.strm.avail_out===0?Ei:_i):Pr.last_lit&&(ei(Pr,!1),Pr.strm.avail_out===0)?Mr:di}(ti,hi):ti.strategy===3?function(Pr,qr){for(var Xr,ai,fi,vi,Ri=Pr.window;;){if(Pr.lookahead<=jr){if(qi(Pr),Pr.lookahead<=jr&&qr===mr)return Mr;if(Pr.lookahead===0)break}if(Pr.match_length=0,Pr.lookahead>=Gr&&0<Pr.strstart&&(ai=Ri[fi=Pr.strstart-1])===Ri[++fi]&&ai===Ri[++fi]&&ai===Ri[++fi]){vi=Pr.strstart+jr;do;while(ai===Ri[++fi]&&ai===Ri[++fi]&&ai===Ri[++fi]&&ai===Ri[++fi]&&ai===Ri[++fi]&&ai===Ri[++fi]&&ai===Ri[++fi]&&ai===Ri[++fi]&&fi<vi);Pr.match_length=jr-(vi-fi),Pr.match_length>Pr.lookahead&&(Pr.match_length=Pr.lookahead)}if(Pr.match_length>=Gr?(Xr=pr._tr_tally(Pr,1,Pr.match_length-Gr),Pr.lookahead-=Pr.match_length,Pr.strstart+=Pr.match_length,Pr.match_length=0):(Xr=pr._tr_tally(Pr,0,Pr.window[Pr.strstart]),Pr.lookahead--,Pr.strstart++),Xr&&(ei(Pr,!1),Pr.strm.avail_out===0))return Mr}return Pr.insert=0,qr===Er?(ei(Pr,!0),Pr.strm.avail_out===0?Ei:_i):Pr.last_lit&&(ei(Pr,!1),Pr.strm.avail_out===0)?Mr:di}(ti,hi):fr[ti.level].func(ti,hi);if(Kr!==Ei&&Kr!==_i||(ti.status=666),Kr===Mr||Kr===Ei)return Vr.avail_out===0&&(ti.last_flush=-1),gr;if(Kr===di&&(hi===1?pr._tr_align(ti):hi!==5&&(pr._tr_stored_block(ti,0,0,!1),hi===3&&(ci(ti.head),ti.lookahead===0&&(ti.strstart=0,ti.block_start=0,ti.insert=0))),$r(Vr),Vr.avail_out===0))return ti.last_flush=-1,gr}return hi!==Er?gr:ti.wrap<=0?1:(ti.wrap===2?(pi(ti,255&Vr.adler),pi(ti,Vr.adler>>8&255),pi(ti,Vr.adler>>16&255),pi(ti,Vr.adler>>24&255),pi(ti,255&Vr.total_in),pi(ti,Vr.total_in>>8&255),pi(ti,Vr.total_in>>16&255),pi(ti,Vr.total_in>>24&255)):(ui(ti,Vr.adler>>>16),ui(ti,65535&Vr.adler)),$r(Vr),0<ti.wrap&&(ti.wrap=-ti.wrap),ti.pending!==0?gr:1)},ur.deflateEnd=function(Vr){var hi;return Vr&&Vr.state?(hi=Vr.state.status)!==Wr&&hi!==69&&hi!==73&&hi!==91&&hi!==103&&hi!==ni&&hi!==666?Fi(Vr,Ir):(Vr.state=null,hi===ni?Fi(Vr,-3):gr):Ir},ur.deflateSetDictionary=function(Vr,hi){var yi,ti,ri,xi,Ai,Kr,Pr,qr,Xr=hi.length;if(!Vr||!Vr.state||(xi=(yi=Vr.state).wrap)===2||xi===1&&yi.status!==Wr||yi.lookahead)return Ir;for(xi===1&&(Vr.adler=br(Vr.adler,hi,Xr,0)),yi.wrap=0,Xr>=yi.w_size&&(xi===0&&(ci(yi.head),yi.strstart=0,yi.block_start=0,yi.insert=0),qr=new dr.Buf8(yi.w_size),dr.arraySet(qr,hi,Xr-yi.w_size,yi.w_size,0),hi=qr,Xr=yi.w_size),Ai=Vr.avail_in,Kr=Vr.next_in,Pr=Vr.input,Vr.avail_in=Xr,Vr.next_in=0,Vr.input=hi,qi(yi);yi.lookahead>=Gr;){for(ti=yi.strstart,ri=yi.lookahead-(Gr-1);yi.ins_h=(yi.ins_h<<yi.hash_shift^yi.window[ti+Gr-1])&yi.hash_mask,yi.prev[ti&yi.w_mask]=yi.head[yi.ins_h],yi.head[yi.ins_h]=ti,ti++,--ri;);yi.strstart=ti,yi.lookahead=Gr-1,qi(yi)}return yi.strstart+=yi.lookahead,yi.block_start=yi.strstart,yi.insert=yi.lookahead,yi.lookahead=0,yi.match_length=yi.prev_length=Gr-1,yi.match_available=0,Vr.next_in=Kr,Vr.input=Pr,Vr.avail_in=Ai,yi.wrap=xi,gr},ur.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(ar,or,ur){or.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(ar,or,ur){or.exports=function(fr,dr){var pr,br,_r,yr,mr,Er,gr,Ir,Ar,kr,Or,Dr,Rr,Fr,Nr,Hr,Ur,Zr,Gr,jr,Jr,Wr,ni,Mr,di;pr=fr.state,br=fr.next_in,Mr=fr.input,_r=br+(fr.avail_in-5),yr=fr.next_out,di=fr.output,mr=yr-(dr-fr.avail_out),Er=yr+(fr.avail_out-257),gr=pr.dmax,Ir=pr.wsize,Ar=pr.whave,kr=pr.wnext,Or=pr.window,Dr=pr.hold,Rr=pr.bits,Fr=pr.lencode,Nr=pr.distcode,Hr=(1<<pr.lenbits)-1,Ur=(1<<pr.distbits)-1;e:do{Rr<15&&(Dr+=Mr[br++]<<Rr,Rr+=8,Dr+=Mr[br++]<<Rr,Rr+=8),Zr=Fr[Dr&Hr];t:for(;;){if(Dr>>>=Gr=Zr>>>24,Rr-=Gr,(Gr=Zr>>>16&255)===0)di[yr++]=65535&Zr;else{if(!(16&Gr)){if(!(64&Gr)){Zr=Fr[(65535&Zr)+(Dr&(1<<Gr)-1)];continue t}if(32&Gr){pr.mode=12;break e}fr.msg="invalid literal/length code",pr.mode=30;break e}jr=65535&Zr,(Gr&=15)&&(Rr<Gr&&(Dr+=Mr[br++]<<Rr,Rr+=8),jr+=Dr&(1<<Gr)-1,Dr>>>=Gr,Rr-=Gr),Rr<15&&(Dr+=Mr[br++]<<Rr,Rr+=8,Dr+=Mr[br++]<<Rr,Rr+=8),Zr=Nr[Dr&Ur];r:for(;;){if(Dr>>>=Gr=Zr>>>24,Rr-=Gr,!(16&(Gr=Zr>>>16&255))){if(!(64&Gr)){Zr=Nr[(65535&Zr)+(Dr&(1<<Gr)-1)];continue r}fr.msg="invalid distance code",pr.mode=30;break e}if(Jr=65535&Zr,Rr<(Gr&=15)&&(Dr+=Mr[br++]<<Rr,(Rr+=8)<Gr&&(Dr+=Mr[br++]<<Rr,Rr+=8)),gr<(Jr+=Dr&(1<<Gr)-1)){fr.msg="invalid distance too far back",pr.mode=30;break e}if(Dr>>>=Gr,Rr-=Gr,(Gr=yr-mr)<Jr){if(Ar<(Gr=Jr-Gr)&&pr.sane){fr.msg="invalid distance too far back",pr.mode=30;break e}if(ni=Or,(Wr=0)===kr){if(Wr+=Ir-Gr,Gr<jr){for(jr-=Gr;di[yr++]=Or[Wr++],--Gr;);Wr=yr-Jr,ni=di}}else if(kr<Gr){if(Wr+=Ir+kr-Gr,(Gr-=kr)<jr){for(jr-=Gr;di[yr++]=Or[Wr++],--Gr;);if(Wr=0,kr<jr){for(jr-=Gr=kr;di[yr++]=Or[Wr++],--Gr;);Wr=yr-Jr,ni=di}}}else if(Wr+=kr-Gr,Gr<jr){for(jr-=Gr;di[yr++]=Or[Wr++],--Gr;);Wr=yr-Jr,ni=di}for(;2<jr;)di[yr++]=ni[Wr++],di[yr++]=ni[Wr++],di[yr++]=ni[Wr++],jr-=3;jr&&(di[yr++]=ni[Wr++],1<jr&&(di[yr++]=ni[Wr++]))}else{for(Wr=yr-Jr;di[yr++]=di[Wr++],di[yr++]=di[Wr++],di[yr++]=di[Wr++],2<(jr-=3););jr&&(di[yr++]=di[Wr++],1<jr&&(di[yr++]=di[Wr++]))}break}}break}}while(br<_r&&yr<Er);br-=jr=Rr>>3,Dr&=(1<<(Rr-=jr<<3))-1,fr.next_in=br,fr.next_out=yr,fr.avail_in=br<_r?_r-br+5:5-(br-_r),fr.avail_out=yr<Er?Er-yr+257:257-(yr-Er),pr.hold=Dr,pr.bits=Rr}},{}],49:[function(ar,or,ur){var fr=ar("../utils/common"),dr=ar("./adler32"),pr=ar("./crc32"),br=ar("./inffast"),_r=ar("./inftrees"),yr=1,mr=2,Er=0,gr=-2,Ir=1,Ar=852,kr=592;function Or(Wr){return(Wr>>>24&255)+(Wr>>>8&65280)+((65280&Wr)<<8)+((255&Wr)<<24)}function Dr(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new fr.Buf16(320),this.work=new fr.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Rr(Wr){var ni;return Wr&&Wr.state?(ni=Wr.state,Wr.total_in=Wr.total_out=ni.total=0,Wr.msg="",ni.wrap&&(Wr.adler=1&ni.wrap),ni.mode=Ir,ni.last=0,ni.havedict=0,ni.dmax=32768,ni.head=null,ni.hold=0,ni.bits=0,ni.lencode=ni.lendyn=new fr.Buf32(Ar),ni.distcode=ni.distdyn=new fr.Buf32(kr),ni.sane=1,ni.back=-1,Er):gr}function Fr(Wr){var ni;return Wr&&Wr.state?((ni=Wr.state).wsize=0,ni.whave=0,ni.wnext=0,Rr(Wr)):gr}function Nr(Wr,ni){var Mr,di;return Wr&&Wr.state?(di=Wr.state,ni<0?(Mr=0,ni=-ni):(Mr=1+(ni>>4),ni<48&&(ni&=15)),ni&&(ni<8||15<ni)?gr:(di.window!==null&&di.wbits!==ni&&(di.window=null),di.wrap=Mr,di.wbits=ni,Fr(Wr))):gr}function Hr(Wr,ni){var Mr,di;return Wr?(di=new Dr,(Wr.state=di).window=null,(Mr=Nr(Wr,ni))!==Er&&(Wr.state=null),Mr):gr}var Ur,Zr,Gr=!0;function jr(Wr){if(Gr){var ni;for(Ur=new fr.Buf32(512),Zr=new fr.Buf32(32),ni=0;ni<144;)Wr.lens[ni++]=8;for(;ni<256;)Wr.lens[ni++]=9;for(;ni<280;)Wr.lens[ni++]=7;for(;ni<288;)Wr.lens[ni++]=8;for(_r(yr,Wr.lens,0,288,Ur,0,Wr.work,{bits:9}),ni=0;ni<32;)Wr.lens[ni++]=5;_r(mr,Wr.lens,0,32,Zr,0,Wr.work,{bits:5}),Gr=!1}Wr.lencode=Ur,Wr.lenbits=9,Wr.distcode=Zr,Wr.distbits=5}function Jr(Wr,ni,Mr,di){var Ei,_i=Wr.state;return _i.window===null&&(_i.wsize=1<<_i.wbits,_i.wnext=0,_i.whave=0,_i.window=new fr.Buf8(_i.wsize)),di>=_i.wsize?(fr.arraySet(_i.window,ni,Mr-_i.wsize,_i.wsize,0),_i.wnext=0,_i.whave=_i.wsize):(di<(Ei=_i.wsize-_i.wnext)&&(Ei=di),fr.arraySet(_i.window,ni,Mr-di,Ei,_i.wnext),(di-=Ei)?(fr.arraySet(_i.window,ni,Mr-di,di,0),_i.wnext=di,_i.whave=_i.wsize):(_i.wnext+=Ei,_i.wnext===_i.wsize&&(_i.wnext=0),_i.whave<_i.wsize&&(_i.whave+=Ei))),0}ur.inflateReset=Fr,ur.inflateReset2=Nr,ur.inflateResetKeep=Rr,ur.inflateInit=function(Wr){return Hr(Wr,15)},ur.inflateInit2=Hr,ur.inflate=function(Wr,ni){var Mr,di,Ei,_i,Fi,si,ci,$r,ei,pi,ui,bi,qi,Ki,Ti,ii,oi,Si,Di,Mi,Vr,hi,yi,ti,ri=0,xi=new fr.Buf8(4),Ai=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Wr||!Wr.state||!Wr.output||!Wr.input&&Wr.avail_in!==0)return gr;(Mr=Wr.state).mode===12&&(Mr.mode=13),Fi=Wr.next_out,Ei=Wr.output,ci=Wr.avail_out,_i=Wr.next_in,di=Wr.input,si=Wr.avail_in,$r=Mr.hold,ei=Mr.bits,pi=si,ui=ci,hi=Er;e:for(;;)switch(Mr.mode){case Ir:if(Mr.wrap===0){Mr.mode=13;break}for(;ei<16;){if(si===0)break e;si--,$r+=di[_i++]<<ei,ei+=8}if(2&Mr.wrap&&$r===35615){xi[Mr.check=0]=255&$r,xi[1]=$r>>>8&255,Mr.check=pr(Mr.check,xi,2,0),ei=$r=0,Mr.mode=2;break}if(Mr.flags=0,Mr.head&&(Mr.head.done=!1),!(1&Mr.wrap)||(((255&$r)<<8)+($r>>8))%31){Wr.msg="incorrect header check",Mr.mode=30;break}if((15&$r)!=8){Wr.msg="unknown compression method",Mr.mode=30;break}if(ei-=4,Vr=8+(15&($r>>>=4)),Mr.wbits===0)Mr.wbits=Vr;else if(Vr>Mr.wbits){Wr.msg="invalid window size",Mr.mode=30;break}Mr.dmax=1<<Vr,Wr.adler=Mr.check=1,Mr.mode=512&$r?10:12,ei=$r=0;break;case 2:for(;ei<16;){if(si===0)break e;si--,$r+=di[_i++]<<ei,ei+=8}if(Mr.flags=$r,(255&Mr.flags)!=8){Wr.msg="unknown compression method",Mr.mode=30;break}if(57344&Mr.flags){Wr.msg="unknown header flags set",Mr.mode=30;break}Mr.head&&(Mr.head.text=$r>>8&1),512&Mr.flags&&(xi[0]=255&$r,xi[1]=$r>>>8&255,Mr.check=pr(Mr.check,xi,2,0)),ei=$r=0,Mr.mode=3;case 3:for(;ei<32;){if(si===0)break e;si--,$r+=di[_i++]<<ei,ei+=8}Mr.head&&(Mr.head.time=$r),512&Mr.flags&&(xi[0]=255&$r,xi[1]=$r>>>8&255,xi[2]=$r>>>16&255,xi[3]=$r>>>24&255,Mr.check=pr(Mr.check,xi,4,0)),ei=$r=0,Mr.mode=4;case 4:for(;ei<16;){if(si===0)break e;si--,$r+=di[_i++]<<ei,ei+=8}Mr.head&&(Mr.head.xflags=255&$r,Mr.head.os=$r>>8),512&Mr.flags&&(xi[0]=255&$r,xi[1]=$r>>>8&255,Mr.check=pr(Mr.check,xi,2,0)),ei=$r=0,Mr.mode=5;case 5:if(1024&Mr.flags){for(;ei<16;){if(si===0)break e;si--,$r+=di[_i++]<<ei,ei+=8}Mr.length=$r,Mr.head&&(Mr.head.extra_len=$r),512&Mr.flags&&(xi[0]=255&$r,xi[1]=$r>>>8&255,Mr.check=pr(Mr.check,xi,2,0)),ei=$r=0}else Mr.head&&(Mr.head.extra=null);Mr.mode=6;case 6:if(1024&Mr.flags&&(si<(bi=Mr.length)&&(bi=si),bi&&(Mr.head&&(Vr=Mr.head.extra_len-Mr.length,Mr.head.extra||(Mr.head.extra=new Array(Mr.head.extra_len)),fr.arraySet(Mr.head.extra,di,_i,bi,Vr)),512&Mr.flags&&(Mr.check=pr(Mr.check,di,bi,_i)),si-=bi,_i+=bi,Mr.length-=bi),Mr.length))break e;Mr.length=0,Mr.mode=7;case 7:if(2048&Mr.flags){if(si===0)break e;for(bi=0;Vr=di[_i+bi++],Mr.head&&Vr&&Mr.length<65536&&(Mr.head.name+=String.fromCharCode(Vr)),Vr&&bi<si;);if(512&Mr.flags&&(Mr.check=pr(Mr.check,di,bi,_i)),si-=bi,_i+=bi,Vr)break e}else Mr.head&&(Mr.head.name=null);Mr.length=0,Mr.mode=8;case 8:if(4096&Mr.flags){if(si===0)break e;for(bi=0;Vr=di[_i+bi++],Mr.head&&Vr&&Mr.length<65536&&(Mr.head.comment+=String.fromCharCode(Vr)),Vr&&bi<si;);if(512&Mr.flags&&(Mr.check=pr(Mr.check,di,bi,_i)),si-=bi,_i+=bi,Vr)break e}else Mr.head&&(Mr.head.comment=null);Mr.mode=9;case 9:if(512&Mr.flags){for(;ei<16;){if(si===0)break e;si--,$r+=di[_i++]<<ei,ei+=8}if($r!==(65535&Mr.check)){Wr.msg="header crc mismatch",Mr.mode=30;break}ei=$r=0}Mr.head&&(Mr.head.hcrc=Mr.flags>>9&1,Mr.head.done=!0),Wr.adler=Mr.check=0,Mr.mode=12;break;case 10:for(;ei<32;){if(si===0)break e;si--,$r+=di[_i++]<<ei,ei+=8}Wr.adler=Mr.check=Or($r),ei=$r=0,Mr.mode=11;case 11:if(Mr.havedict===0)return Wr.next_out=Fi,Wr.avail_out=ci,Wr.next_in=_i,Wr.avail_in=si,Mr.hold=$r,Mr.bits=ei,2;Wr.adler=Mr.check=1,Mr.mode=12;case 12:if(ni===5||ni===6)break e;case 13:if(Mr.last){$r>>>=7&ei,ei-=7&ei,Mr.mode=27;break}for(;ei<3;){if(si===0)break e;si--,$r+=di[_i++]<<ei,ei+=8}switch(Mr.last=1&$r,ei-=1,3&($r>>>=1)){case 0:Mr.mode=14;break;case 1:if(jr(Mr),Mr.mode=20,ni!==6)break;$r>>>=2,ei-=2;break e;case 2:Mr.mode=17;break;case 3:Wr.msg="invalid block type",Mr.mode=30}$r>>>=2,ei-=2;break;case 14:for($r>>>=7&ei,ei-=7&ei;ei<32;){if(si===0)break e;si--,$r+=di[_i++]<<ei,ei+=8}if((65535&$r)!=($r>>>16^65535)){Wr.msg="invalid stored block lengths",Mr.mode=30;break}if(Mr.length=65535&$r,ei=$r=0,Mr.mode=15,ni===6)break e;case 15:Mr.mode=16;case 16:if(bi=Mr.length){if(si<bi&&(bi=si),ci<bi&&(bi=ci),bi===0)break e;fr.arraySet(Ei,di,_i,bi,Fi),si-=bi,_i+=bi,ci-=bi,Fi+=bi,Mr.length-=bi;break}Mr.mode=12;break;case 17:for(;ei<14;){if(si===0)break e;si--,$r+=di[_i++]<<ei,ei+=8}if(Mr.nlen=257+(31&$r),$r>>>=5,ei-=5,Mr.ndist=1+(31&$r),$r>>>=5,ei-=5,Mr.ncode=4+(15&$r),$r>>>=4,ei-=4,286<Mr.nlen||30<Mr.ndist){Wr.msg="too many length or distance symbols",Mr.mode=30;break}Mr.have=0,Mr.mode=18;case 18:for(;Mr.have<Mr.ncode;){for(;ei<3;){if(si===0)break e;si--,$r+=di[_i++]<<ei,ei+=8}Mr.lens[Ai[Mr.have++]]=7&$r,$r>>>=3,ei-=3}for(;Mr.have<19;)Mr.lens[Ai[Mr.have++]]=0;if(Mr.lencode=Mr.lendyn,Mr.lenbits=7,yi={bits:Mr.lenbits},hi=_r(0,Mr.lens,0,19,Mr.lencode,0,Mr.work,yi),Mr.lenbits=yi.bits,hi){Wr.msg="invalid code lengths set",Mr.mode=30;break}Mr.have=0,Mr.mode=19;case 19:for(;Mr.have<Mr.nlen+Mr.ndist;){for(;ii=(ri=Mr.lencode[$r&(1<<Mr.lenbits)-1])>>>16&255,oi=65535&ri,!((Ti=ri>>>24)<=ei);){if(si===0)break e;si--,$r+=di[_i++]<<ei,ei+=8}if(oi<16)$r>>>=Ti,ei-=Ti,Mr.lens[Mr.have++]=oi;else{if(oi===16){for(ti=Ti+2;ei<ti;){if(si===0)break e;si--,$r+=di[_i++]<<ei,ei+=8}if($r>>>=Ti,ei-=Ti,Mr.have===0){Wr.msg="invalid bit length repeat",Mr.mode=30;break}Vr=Mr.lens[Mr.have-1],bi=3+(3&$r),$r>>>=2,ei-=2}else if(oi===17){for(ti=Ti+3;ei<ti;){if(si===0)break e;si--,$r+=di[_i++]<<ei,ei+=8}ei-=Ti,Vr=0,bi=3+(7&($r>>>=Ti)),$r>>>=3,ei-=3}else{for(ti=Ti+7;ei<ti;){if(si===0)break e;si--,$r+=di[_i++]<<ei,ei+=8}ei-=Ti,Vr=0,bi=11+(127&($r>>>=Ti)),$r>>>=7,ei-=7}if(Mr.have+bi>Mr.nlen+Mr.ndist){Wr.msg="invalid bit length repeat",Mr.mode=30;break}for(;bi--;)Mr.lens[Mr.have++]=Vr}}if(Mr.mode===30)break;if(Mr.lens[256]===0){Wr.msg="invalid code -- missing end-of-block",Mr.mode=30;break}if(Mr.lenbits=9,yi={bits:Mr.lenbits},hi=_r(yr,Mr.lens,0,Mr.nlen,Mr.lencode,0,Mr.work,yi),Mr.lenbits=yi.bits,hi){Wr.msg="invalid literal/lengths set",Mr.mode=30;break}if(Mr.distbits=6,Mr.distcode=Mr.distdyn,yi={bits:Mr.distbits},hi=_r(mr,Mr.lens,Mr.nlen,Mr.ndist,Mr.distcode,0,Mr.work,yi),Mr.distbits=yi.bits,hi){Wr.msg="invalid distances set",Mr.mode=30;break}if(Mr.mode=20,ni===6)break e;case 20:Mr.mode=21;case 21:if(6<=si&&258<=ci){Wr.next_out=Fi,Wr.avail_out=ci,Wr.next_in=_i,Wr.avail_in=si,Mr.hold=$r,Mr.bits=ei,br(Wr,ui),Fi=Wr.next_out,Ei=Wr.output,ci=Wr.avail_out,_i=Wr.next_in,di=Wr.input,si=Wr.avail_in,$r=Mr.hold,ei=Mr.bits,Mr.mode===12&&(Mr.back=-1);break}for(Mr.back=0;ii=(ri=Mr.lencode[$r&(1<<Mr.lenbits)-1])>>>16&255,oi=65535&ri,!((Ti=ri>>>24)<=ei);){if(si===0)break e;si--,$r+=di[_i++]<<ei,ei+=8}if(ii&&!(240&ii)){for(Si=Ti,Di=ii,Mi=oi;ii=(ri=Mr.lencode[Mi+(($r&(1<<Si+Di)-1)>>Si)])>>>16&255,oi=65535&ri,!(Si+(Ti=ri>>>24)<=ei);){if(si===0)break e;si--,$r+=di[_i++]<<ei,ei+=8}$r>>>=Si,ei-=Si,Mr.back+=Si}if($r>>>=Ti,ei-=Ti,Mr.back+=Ti,Mr.length=oi,ii===0){Mr.mode=26;break}if(32&ii){Mr.back=-1,Mr.mode=12;break}if(64&ii){Wr.msg="invalid literal/length code",Mr.mode=30;break}Mr.extra=15&ii,Mr.mode=22;case 22:if(Mr.extra){for(ti=Mr.extra;ei<ti;){if(si===0)break e;si--,$r+=di[_i++]<<ei,ei+=8}Mr.length+=$r&(1<<Mr.extra)-1,$r>>>=Mr.extra,ei-=Mr.extra,Mr.back+=Mr.extra}Mr.was=Mr.length,Mr.mode=23;case 23:for(;ii=(ri=Mr.distcode[$r&(1<<Mr.distbits)-1])>>>16&255,oi=65535&ri,!((Ti=ri>>>24)<=ei);){if(si===0)break e;si--,$r+=di[_i++]<<ei,ei+=8}if(!(240&ii)){for(Si=Ti,Di=ii,Mi=oi;ii=(ri=Mr.distcode[Mi+(($r&(1<<Si+Di)-1)>>Si)])>>>16&255,oi=65535&ri,!(Si+(Ti=ri>>>24)<=ei);){if(si===0)break e;si--,$r+=di[_i++]<<ei,ei+=8}$r>>>=Si,ei-=Si,Mr.back+=Si}if($r>>>=Ti,ei-=Ti,Mr.back+=Ti,64&ii){Wr.msg="invalid distance code",Mr.mode=30;break}Mr.offset=oi,Mr.extra=15&ii,Mr.mode=24;case 24:if(Mr.extra){for(ti=Mr.extra;ei<ti;){if(si===0)break e;si--,$r+=di[_i++]<<ei,ei+=8}Mr.offset+=$r&(1<<Mr.extra)-1,$r>>>=Mr.extra,ei-=Mr.extra,Mr.back+=Mr.extra}if(Mr.offset>Mr.dmax){Wr.msg="invalid distance too far back",Mr.mode=30;break}Mr.mode=25;case 25:if(ci===0)break e;if(bi=ui-ci,Mr.offset>bi){if((bi=Mr.offset-bi)>Mr.whave&&Mr.sane){Wr.msg="invalid distance too far back",Mr.mode=30;break}qi=bi>Mr.wnext?(bi-=Mr.wnext,Mr.wsize-bi):Mr.wnext-bi,bi>Mr.length&&(bi=Mr.length),Ki=Mr.window}else Ki=Ei,qi=Fi-Mr.offset,bi=Mr.length;for(ci<bi&&(bi=ci),ci-=bi,Mr.length-=bi;Ei[Fi++]=Ki[qi++],--bi;);Mr.length===0&&(Mr.mode=21);break;case 26:if(ci===0)break e;Ei[Fi++]=Mr.length,ci--,Mr.mode=21;break;case 27:if(Mr.wrap){for(;ei<32;){if(si===0)break e;si--,$r|=di[_i++]<<ei,ei+=8}if(ui-=ci,Wr.total_out+=ui,Mr.total+=ui,ui&&(Wr.adler=Mr.check=Mr.flags?pr(Mr.check,Ei,ui,Fi-ui):dr(Mr.check,Ei,ui,Fi-ui)),ui=ci,(Mr.flags?$r:Or($r))!==Mr.check){Wr.msg="incorrect data check",Mr.mode=30;break}ei=$r=0}Mr.mode=28;case 28:if(Mr.wrap&&Mr.flags){for(;ei<32;){if(si===0)break e;si--,$r+=di[_i++]<<ei,ei+=8}if($r!==(4294967295&Mr.total)){Wr.msg="incorrect length check",Mr.mode=30;break}ei=$r=0}Mr.mode=29;case 29:hi=1;break e;case 30:hi=-3;break e;case 31:return-4;case 32:default:return gr}return Wr.next_out=Fi,Wr.avail_out=ci,Wr.next_in=_i,Wr.avail_in=si,Mr.hold=$r,Mr.bits=ei,(Mr.wsize||ui!==Wr.avail_out&&Mr.mode<30&&(Mr.mode<27||ni!==4))&&Jr(Wr,Wr.output,Wr.next_out,ui-Wr.avail_out)?(Mr.mode=31,-4):(pi-=Wr.avail_in,ui-=Wr.avail_out,Wr.total_in+=pi,Wr.total_out+=ui,Mr.total+=ui,Mr.wrap&&ui&&(Wr.adler=Mr.check=Mr.flags?pr(Mr.check,Ei,ui,Wr.next_out-ui):dr(Mr.check,Ei,ui,Wr.next_out-ui)),Wr.data_type=Mr.bits+(Mr.last?64:0)+(Mr.mode===12?128:0)+(Mr.mode===20||Mr.mode===15?256:0),(pi==0&&ui===0||ni===4)&&hi===Er&&(hi=-5),hi)},ur.inflateEnd=function(Wr){if(!Wr||!Wr.state)return gr;var ni=Wr.state;return ni.window&&(ni.window=null),Wr.state=null,Er},ur.inflateGetHeader=function(Wr,ni){var Mr;return Wr&&Wr.state&&2&(Mr=Wr.state).wrap?((Mr.head=ni).done=!1,Er):gr},ur.inflateSetDictionary=function(Wr,ni){var Mr,di=ni.length;return Wr&&Wr.state?(Mr=Wr.state).wrap!==0&&Mr.mode!==11?gr:Mr.mode===11&&dr(1,ni,di,0)!==Mr.check?-3:Jr(Wr,ni,di,di)?(Mr.mode=31,-4):(Mr.havedict=1,Er):gr},ur.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(ar,or,ur){var fr=ar("../utils/common"),dr=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],pr=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],br=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],_r=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];or.exports=function(yr,mr,Er,gr,Ir,Ar,kr,Or){var Dr,Rr,Fr,Nr,Hr,Ur,Zr,Gr,jr,Jr=Or.bits,Wr=0,ni=0,Mr=0,di=0,Ei=0,_i=0,Fi=0,si=0,ci=0,$r=0,ei=null,pi=0,ui=new fr.Buf16(16),bi=new fr.Buf16(16),qi=null,Ki=0;for(Wr=0;Wr<=15;Wr++)ui[Wr]=0;for(ni=0;ni<gr;ni++)ui[mr[Er+ni]]++;for(Ei=Jr,di=15;1<=di&&ui[di]===0;di--);if(di<Ei&&(Ei=di),di===0)return Ir[Ar++]=20971520,Ir[Ar++]=20971520,Or.bits=1,0;for(Mr=1;Mr<di&&ui[Mr]===0;Mr++);for(Ei<Mr&&(Ei=Mr),Wr=si=1;Wr<=15;Wr++)if(si<<=1,(si-=ui[Wr])<0)return-1;if(0<si&&(yr===0||di!==1))return-1;for(bi[1]=0,Wr=1;Wr<15;Wr++)bi[Wr+1]=bi[Wr]+ui[Wr];for(ni=0;ni<gr;ni++)mr[Er+ni]!==0&&(kr[bi[mr[Er+ni]]++]=ni);if(Ur=yr===0?(ei=qi=kr,19):yr===1?(ei=dr,pi-=257,qi=pr,Ki-=257,256):(ei=br,qi=_r,-1),Wr=Mr,Hr=Ar,Fi=ni=$r=0,Fr=-1,Nr=(ci=1<<(_i=Ei))-1,yr===1&&852<ci||yr===2&&592<ci)return 1;for(;;){for(Zr=Wr-Fi,jr=kr[ni]<Ur?(Gr=0,kr[ni]):kr[ni]>Ur?(Gr=qi[Ki+kr[ni]],ei[pi+kr[ni]]):(Gr=96,0),Dr=1<<Wr-Fi,Mr=Rr=1<<_i;Ir[Hr+($r>>Fi)+(Rr-=Dr)]=Zr<<24|Gr<<16|jr|0,Rr!==0;);for(Dr=1<<Wr-1;$r&Dr;)Dr>>=1;if(Dr!==0?($r&=Dr-1,$r+=Dr):$r=0,ni++,--ui[Wr]==0){if(Wr===di)break;Wr=mr[Er+kr[ni]]}if(Ei<Wr&&($r&Nr)!==Fr){for(Fi===0&&(Fi=Ei),Hr+=Mr,si=1<<(_i=Wr-Fi);_i+Fi<di&&!((si-=ui[_i+Fi])<=0);)_i++,si<<=1;if(ci+=1<<_i,yr===1&&852<ci||yr===2&&592<ci)return 1;Ir[Fr=$r&Nr]=Ei<<24|_i<<16|Hr-Ar|0}}return $r!==0&&(Ir[Hr+$r]=Wr-Fi<<24|64<<16|0),Or.bits=Ei,0}},{"../utils/common":41}],51:[function(ar,or,ur){or.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(ar,or,ur){var fr=ar("../utils/common"),dr=0,pr=1;function br(ri){for(var xi=ri.length;0<=--xi;)ri[xi]=0}var _r=0,yr=29,mr=256,Er=mr+1+yr,gr=30,Ir=19,Ar=2*Er+1,kr=15,Or=16,Dr=7,Rr=256,Fr=16,Nr=17,Hr=18,Ur=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Zr=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Gr=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],jr=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Jr=new Array(2*(Er+2));br(Jr);var Wr=new Array(2*gr);br(Wr);var ni=new Array(512);br(ni);var Mr=new Array(256);br(Mr);var di=new Array(yr);br(di);var Ei,_i,Fi,si=new Array(gr);function ci(ri,xi,Ai,Kr,Pr){this.static_tree=ri,this.extra_bits=xi,this.extra_base=Ai,this.elems=Kr,this.max_length=Pr,this.has_stree=ri&&ri.length}function $r(ri,xi){this.dyn_tree=ri,this.max_code=0,this.stat_desc=xi}function ei(ri){return ri<256?ni[ri]:ni[256+(ri>>>7)]}function pi(ri,xi){ri.pending_buf[ri.pending++]=255&xi,ri.pending_buf[ri.pending++]=xi>>>8&255}function ui(ri,xi,Ai){ri.bi_valid>Or-Ai?(ri.bi_buf|=xi<<ri.bi_valid&65535,pi(ri,ri.bi_buf),ri.bi_buf=xi>>Or-ri.bi_valid,ri.bi_valid+=Ai-Or):(ri.bi_buf|=xi<<ri.bi_valid&65535,ri.bi_valid+=Ai)}function bi(ri,xi,Ai){ui(ri,Ai[2*xi],Ai[2*xi+1])}function qi(ri,xi){for(var Ai=0;Ai|=1&ri,ri>>>=1,Ai<<=1,0<--xi;);return Ai>>>1}function Ki(ri,xi,Ai){var Kr,Pr,qr=new Array(kr+1),Xr=0;for(Kr=1;Kr<=kr;Kr++)qr[Kr]=Xr=Xr+Ai[Kr-1]<<1;for(Pr=0;Pr<=xi;Pr++){var ai=ri[2*Pr+1];ai!==0&&(ri[2*Pr]=qi(qr[ai]++,ai))}}function Ti(ri){var xi;for(xi=0;xi<Er;xi++)ri.dyn_ltree[2*xi]=0;for(xi=0;xi<gr;xi++)ri.dyn_dtree[2*xi]=0;for(xi=0;xi<Ir;xi++)ri.bl_tree[2*xi]=0;ri.dyn_ltree[2*Rr]=1,ri.opt_len=ri.static_len=0,ri.last_lit=ri.matches=0}function ii(ri){8<ri.bi_valid?pi(ri,ri.bi_buf):0<ri.bi_valid&&(ri.pending_buf[ri.pending++]=ri.bi_buf),ri.bi_buf=0,ri.bi_valid=0}function oi(ri,xi,Ai,Kr){var Pr=2*xi,qr=2*Ai;return ri[Pr]<ri[qr]||ri[Pr]===ri[qr]&&Kr[xi]<=Kr[Ai]}function Si(ri,xi,Ai){for(var Kr=ri.heap[Ai],Pr=Ai<<1;Pr<=ri.heap_len&&(Pr<ri.heap_len&&oi(xi,ri.heap[Pr+1],ri.heap[Pr],ri.depth)&&Pr++,!oi(xi,Kr,ri.heap[Pr],ri.depth));)ri.heap[Ai]=ri.heap[Pr],Ai=Pr,Pr<<=1;ri.heap[Ai]=Kr}function Di(ri,xi,Ai){var Kr,Pr,qr,Xr,ai=0;if(ri.last_lit!==0)for(;Kr=ri.pending_buf[ri.d_buf+2*ai]<<8|ri.pending_buf[ri.d_buf+2*ai+1],Pr=ri.pending_buf[ri.l_buf+ai],ai++,Kr===0?bi(ri,Pr,xi):(bi(ri,(qr=Mr[Pr])+mr+1,xi),(Xr=Ur[qr])!==0&&ui(ri,Pr-=di[qr],Xr),bi(ri,qr=ei(--Kr),Ai),(Xr=Zr[qr])!==0&&ui(ri,Kr-=si[qr],Xr)),ai<ri.last_lit;);bi(ri,Rr,xi)}function Mi(ri,xi){var Ai,Kr,Pr,qr=xi.dyn_tree,Xr=xi.stat_desc.static_tree,ai=xi.stat_desc.has_stree,fi=xi.stat_desc.elems,vi=-1;for(ri.heap_len=0,ri.heap_max=Ar,Ai=0;Ai<fi;Ai++)qr[2*Ai]!==0?(ri.heap[++ri.heap_len]=vi=Ai,ri.depth[Ai]=0):qr[2*Ai+1]=0;for(;ri.heap_len<2;)qr[2*(Pr=ri.heap[++ri.heap_len]=vi<2?++vi:0)]=1,ri.depth[Pr]=0,ri.opt_len--,ai&&(ri.static_len-=Xr[2*Pr+1]);for(xi.max_code=vi,Ai=ri.heap_len>>1;1<=Ai;Ai--)Si(ri,qr,Ai);for(Pr=fi;Ai=ri.heap[1],ri.heap[1]=ri.heap[ri.heap_len--],Si(ri,qr,1),Kr=ri.heap[1],ri.heap[--ri.heap_max]=Ai,ri.heap[--ri.heap_max]=Kr,qr[2*Pr]=qr[2*Ai]+qr[2*Kr],ri.depth[Pr]=(ri.depth[Ai]>=ri.depth[Kr]?ri.depth[Ai]:ri.depth[Kr])+1,qr[2*Ai+1]=qr[2*Kr+1]=Pr,ri.heap[1]=Pr++,Si(ri,qr,1),2<=ri.heap_len;);ri.heap[--ri.heap_max]=ri.heap[1],function(Ri,$i){var Xi,ji,Bi,Zi,Aa,Da,ba=$i.dyn_tree,_o=$i.max_code,co=$i.stat_desc.static_tree,Co=$i.stat_desc.has_stree,wi=$i.stat_desc.extra_bits,Vi=$i.stat_desc.extra_base,Yr=$i.stat_desc.max_length,zi=0;for(Zi=0;Zi<=kr;Zi++)Ri.bl_count[Zi]=0;for(ba[2*Ri.heap[Ri.heap_max]+1]=0,Xi=Ri.heap_max+1;Xi<Ar;Xi++)Yr<(Zi=ba[2*ba[2*(ji=Ri.heap[Xi])+1]+1]+1)&&(Zi=Yr,zi++),ba[2*ji+1]=Zi,_o<ji||(Ri.bl_count[Zi]++,Aa=0,Vi<=ji&&(Aa=wi[ji-Vi]),Da=ba[2*ji],Ri.opt_len+=Da*(Zi+Aa),Co&&(Ri.static_len+=Da*(co[2*ji+1]+Aa)));if(zi!==0){do{for(Zi=Yr-1;Ri.bl_count[Zi]===0;)Zi--;Ri.bl_count[Zi]--,Ri.bl_count[Zi+1]+=2,Ri.bl_count[Yr]--,zi-=2}while(0<zi);for(Zi=Yr;Zi!==0;Zi--)for(ji=Ri.bl_count[Zi];ji!==0;)_o<(Bi=Ri.heap[--Xi])||(ba[2*Bi+1]!==Zi&&(Ri.opt_len+=(Zi-ba[2*Bi+1])*ba[2*Bi],ba[2*Bi+1]=Zi),ji--)}}(ri,xi),Ki(qr,vi,ri.bl_count)}function Vr(ri,xi,Ai){var Kr,Pr,qr=-1,Xr=xi[1],ai=0,fi=7,vi=4;for(Xr===0&&(fi=138,vi=3),xi[2*(Ai+1)+1]=65535,Kr=0;Kr<=Ai;Kr++)Pr=Xr,Xr=xi[2*(Kr+1)+1],++ai<fi&&Pr===Xr||(ai<vi?ri.bl_tree[2*Pr]+=ai:Pr!==0?(Pr!==qr&&ri.bl_tree[2*Pr]++,ri.bl_tree[2*Fr]++):ai<=10?ri.bl_tree[2*Nr]++:ri.bl_tree[2*Hr]++,qr=Pr,vi=(ai=0)===Xr?(fi=138,3):Pr===Xr?(fi=6,3):(fi=7,4))}function hi(ri,xi,Ai){var Kr,Pr,qr=-1,Xr=xi[1],ai=0,fi=7,vi=4;for(Xr===0&&(fi=138,vi=3),Kr=0;Kr<=Ai;Kr++)if(Pr=Xr,Xr=xi[2*(Kr+1)+1],!(++ai<fi&&Pr===Xr)){if(ai<vi)for(;bi(ri,Pr,ri.bl_tree),--ai!=0;);else Pr!==0?(Pr!==qr&&(bi(ri,Pr,ri.bl_tree),ai--),bi(ri,Fr,ri.bl_tree),ui(ri,ai-3,2)):ai<=10?(bi(ri,Nr,ri.bl_tree),ui(ri,ai-3,3)):(bi(ri,Hr,ri.bl_tree),ui(ri,ai-11,7));qr=Pr,vi=(ai=0)===Xr?(fi=138,3):Pr===Xr?(fi=6,3):(fi=7,4)}}br(si);var yi=!1;function ti(ri,xi,Ai,Kr){ui(ri,(_r<<1)+(Kr?1:0),3),function(Pr,qr,Xr,ai){ii(Pr),ai&&(pi(Pr,Xr),pi(Pr,~Xr)),fr.arraySet(Pr.pending_buf,Pr.window,qr,Xr,Pr.pending),Pr.pending+=Xr}(ri,xi,Ai,!0)}ur._tr_init=function(ri){yi||(function(){var xi,Ai,Kr,Pr,qr,Xr=new Array(kr+1);for(Pr=Kr=0;Pr<yr-1;Pr++)for(di[Pr]=Kr,xi=0;xi<1<<Ur[Pr];xi++)Mr[Kr++]=Pr;for(Mr[Kr-1]=Pr,Pr=qr=0;Pr<16;Pr++)for(si[Pr]=qr,xi=0;xi<1<<Zr[Pr];xi++)ni[qr++]=Pr;for(qr>>=7;Pr<gr;Pr++)for(si[Pr]=qr<<7,xi=0;xi<1<<Zr[Pr]-7;xi++)ni[256+qr++]=Pr;for(Ai=0;Ai<=kr;Ai++)Xr[Ai]=0;for(xi=0;xi<=143;)Jr[2*xi+1]=8,xi++,Xr[8]++;for(;xi<=255;)Jr[2*xi+1]=9,xi++,Xr[9]++;for(;xi<=279;)Jr[2*xi+1]=7,xi++,Xr[7]++;for(;xi<=287;)Jr[2*xi+1]=8,xi++,Xr[8]++;for(Ki(Jr,Er+1,Xr),xi=0;xi<gr;xi++)Wr[2*xi+1]=5,Wr[2*xi]=qi(xi,5);Ei=new ci(Jr,Ur,mr+1,Er,kr),_i=new ci(Wr,Zr,0,gr,kr),Fi=new ci(new Array(0),Gr,0,Ir,Dr)}(),yi=!0),ri.l_desc=new $r(ri.dyn_ltree,Ei),ri.d_desc=new $r(ri.dyn_dtree,_i),ri.bl_desc=new $r(ri.bl_tree,Fi),ri.bi_buf=0,ri.bi_valid=0,Ti(ri)},ur._tr_stored_block=ti,ur._tr_flush_block=function(ri,xi,Ai,Kr){var Pr,qr,Xr=0;0<ri.level?(ri.strm.data_type===2&&(ri.strm.data_type=function(ai){var fi,vi=4093624447;for(fi=0;fi<=31;fi++,vi>>>=1)if(1&vi&&ai.dyn_ltree[2*fi]!==0)return dr;if(ai.dyn_ltree[18]!==0||ai.dyn_ltree[20]!==0||ai.dyn_ltree[26]!==0)return pr;for(fi=32;fi<mr;fi++)if(ai.dyn_ltree[2*fi]!==0)return pr;return dr}(ri)),Mi(ri,ri.l_desc),Mi(ri,ri.d_desc),Xr=function(ai){var fi;for(Vr(ai,ai.dyn_ltree,ai.l_desc.max_code),Vr(ai,ai.dyn_dtree,ai.d_desc.max_code),Mi(ai,ai.bl_desc),fi=Ir-1;3<=fi&&ai.bl_tree[2*jr[fi]+1]===0;fi--);return ai.opt_len+=3*(fi+1)+5+5+4,fi}(ri),Pr=ri.opt_len+3+7>>>3,(qr=ri.static_len+3+7>>>3)<=Pr&&(Pr=qr)):Pr=qr=Ai+5,Ai+4<=Pr&&xi!==-1?ti(ri,xi,Ai,Kr):ri.strategy===4||qr===Pr?(ui(ri,2+(Kr?1:0),3),Di(ri,Jr,Wr)):(ui(ri,4+(Kr?1:0),3),function(ai,fi,vi,Ri){var $i;for(ui(ai,fi-257,5),ui(ai,vi-1,5),ui(ai,Ri-4,4),$i=0;$i<Ri;$i++)ui(ai,ai.bl_tree[2*jr[$i]+1],3);hi(ai,ai.dyn_ltree,fi-1),hi(ai,ai.dyn_dtree,vi-1)}(ri,ri.l_desc.max_code+1,ri.d_desc.max_code+1,Xr+1),Di(ri,ri.dyn_ltree,ri.dyn_dtree)),Ti(ri),Kr&&ii(ri)},ur._tr_tally=function(ri,xi,Ai){return ri.pending_buf[ri.d_buf+2*ri.last_lit]=xi>>>8&255,ri.pending_buf[ri.d_buf+2*ri.last_lit+1]=255&xi,ri.pending_buf[ri.l_buf+ri.last_lit]=255&Ai,ri.last_lit++,xi===0?ri.dyn_ltree[2*Ai]++:(ri.matches++,xi--,ri.dyn_ltree[2*(Mr[Ai]+mr+1)]++,ri.dyn_dtree[2*ei(xi)]++),ri.last_lit===ri.lit_bufsize-1},ur._tr_align=function(ri){ui(ri,2,3),bi(ri,Rr,Jr),function(xi){xi.bi_valid===16?(pi(xi,xi.bi_buf),xi.bi_buf=0,xi.bi_valid=0):8<=xi.bi_valid&&(xi.pending_buf[xi.pending++]=255&xi.bi_buf,xi.bi_buf>>=8,xi.bi_valid-=8)}(ri)}},{"../utils/common":41}],53:[function(ar,or,ur){or.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(ar,or,ur){(function(fr){(function(dr,pr){if(!dr.setImmediate){var br,_r,yr,mr,Er=1,gr={},Ir=!1,Ar=dr.document,kr=Object.getPrototypeOf&&Object.getPrototypeOf(dr);kr=kr&&kr.setTimeout?kr:dr,br={}.toString.call(dr.process)==="[object process]"?function(Fr){process.nextTick(function(){Dr(Fr)})}:function(){if(dr.postMessage&&!dr.importScripts){var Fr=!0,Nr=dr.onmessage;return dr.onmessage=function(){Fr=!1},dr.postMessage("","*"),dr.onmessage=Nr,Fr}}()?(mr="setImmediate$"+Math.random()+"$",dr.addEventListener?dr.addEventListener("message",Rr,!1):dr.attachEvent("onmessage",Rr),function(Fr){dr.postMessage(mr+Fr,"*")}):dr.MessageChannel?((yr=new MessageChannel).port1.onmessage=function(Fr){Dr(Fr.data)},function(Fr){yr.port2.postMessage(Fr)}):Ar&&"onreadystatechange"in Ar.createElement("script")?(_r=Ar.documentElement,function(Fr){var Nr=Ar.createElement("script");Nr.onreadystatechange=function(){Dr(Fr),Nr.onreadystatechange=null,_r.removeChild(Nr),Nr=null},_r.appendChild(Nr)}):function(Fr){setTimeout(Dr,0,Fr)},kr.setImmediate=function(Fr){typeof Fr!="function"&&(Fr=new Function(""+Fr));for(var Nr=new Array(arguments.length-1),Hr=0;Hr<Nr.length;Hr++)Nr[Hr]=arguments[Hr+1];var Ur={callback:Fr,args:Nr};return gr[Er]=Ur,br(Er),Er++},kr.clearImmediate=Or}function Or(Fr){delete gr[Fr]}function Dr(Fr){if(Ir)setTimeout(Dr,0,Fr);else{var Nr=gr[Fr];if(Nr){Ir=!0;try{(function(Hr){var Ur=Hr.callback,Zr=Hr.args;switch(Zr.length){case 0:Ur();break;case 1:Ur(Zr[0]);break;case 2:Ur(Zr[0],Zr[1]);break;case 3:Ur(Zr[0],Zr[1],Zr[2]);break;default:Ur.apply(pr,Zr)}})(Nr)}finally{Or(Fr),Ir=!1}}}}function Rr(Fr){Fr.source===dr&&typeof Fr.data=="string"&&Fr.data.indexOf(mr)===0&&Dr(+Fr.data.slice(mr.length))}})(typeof self>"u"?fr===void 0?this:fr:self)}).call(this,typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(jszip_min);var jszip_minExports=jszip_min.exports;const _0x42fa9e=getDefaultExportFromCjs$1(jszip_minExports),_0x5c671e=_0x2fd3;(function(lr,cr){const ar=_0x2fd3,or=lr();for(;[];)try{if(parseInt(ar(290))/1*(parseInt(ar(260))/2)+parseInt(ar(361))/3+-parseInt(ar(432))/4*(-parseInt(ar(246))/5)+-parseInt(ar(381))/6*(-parseInt(ar(352))/7)+-parseInt(ar(407))/8+parseInt(ar(295))/9+-parseInt(ar(323))/10*(parseInt(ar(419))/11)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0xfd18,980332);function _0x2fd3(lr,cr){const ar=_0xfd18();return _0x2fd3=function(or,ur){return or=or-241,ar[or]},_0x2fd3(lr,cr)}const SelectedPlatforms={NES,GB,GBC,GBA,SMS,PCE,MD,C64,Amiga,C128,C264,A2600,A5200,A800,Lynx,CPC,VIC20,ZX80,Spectrum,SNK};var ia,$o,Ya,U0,Qs,j0,ta,Xs,Js,Zs,z0,dx,H0,Yu,Xc,Bf,Jc,qf,Zc,Nf,eu,Lf,W0,Gu,K0,$u,Zu,ax;const Ps=class Ps{constructor(cr,ar,or){mi(this,H0);mi(this,Xc);mi(this,Jc);mi(this,Zc);mi(this,eu);mi(this,W0);mi(this,K0);mi(this,Zu);mi(this,ia,void 0);mi(this,$o,void 0);mi(this,Ya,void 0);mi(this,U0,void 0);mi(this,Qs,void 0);mi(this,j0,void 0);mi(this,ta,void 0);mi(this,Xs,void 0);mi(this,Js,void 0);mi(this,Zs,void 0);mi(this,z0,void 0);const ur=_0x5c671e;Ci(this,j0,cr),Ci(this,ta,ar),Ci(this,Ya,or);let fr=localStorage[ur(339)](Ps[ur(309)]);Ci(this,ia,Object[ur(322)](SelectedPlatforms)[ur(315)](dr=>dr[ur(259)]===fr)||SelectedPlatforms[ur(367)]),this[ur(262)](),Lr(this,ta)[ur(300)](()=>{this.updatePlatform()})}async[(dx=_0x5c671e(241),_0x5c671e(343))](cr,ar){const or=_0x5c671e;console[or(377)](or(342)+ar+or(334)+Lr(this,ia)[or(259)]+or(252)+ar+or(284)+cr+`"
        }

        `);try{Pi(this,H0,Yu).call(this,ar);const ur=await fetch(cr),fr=ur.headers[or(319)](or(307)),dr=fr?parseInt(fr,10):null;let pr=0;const br=ur[or(266)][or(357)](),_r=[];let yr=Lr(this,ta);async function mr(){const gr=or;for(;[];){const{done:Ir,value:Ar}=await br[gr(336)]();if(Ir)break;pr+=Ar[gr(292)],_r[gr(379)](Ar);const kr=Math[gr(363)](pr/1024);if(dr){const Or=(pr/dr*100).toFixed(2);console[gr(377)](gr(359)+Or+"%")}else yr.print_progress(gr(359)+kr+gr(276))}return yr[gr(275)](gr(269)),new Blob(_r)}const Er=await mr();Pi(this,Xc,Bf).call(this,cr,ar),this[or(324)](Er,ar)}catch{throw new Error("Error loading file.")}}async[_0x5c671e(375)](cr,ar){const or=_0x5c671e;Pi(this,H0,Yu).call(this,ar),this[or(324)](cr,ar)}async[_0x5c671e(369)](cr,ar,or,ur){const fr=_0x5c671e;cr=="md"&&(cr="smd");let dr=Object[fr(322)](SelectedPlatforms).find(pr=>pr[fr(259)]===cr);Lr(this,Ya)[fr(399)](dr)[fr(443)](([pr,br,_r])=>{const yr=fr;Ci(this,Xs,pr);let mr=Object[yr(322)](SelectedPlatforms)[yr(315)](Er=>Er[yr(259)]===cr);this.setSelectedPlatform(mr),Ci(this,Zs,ur),this.loadRomFile(ar,or)})}async startEmulation(cr,ar){const or=_0x5c671e;let ur=this;Ci(this,z0,cr);let fr=Lr(this,Ya),dr=Lr(this,ia),pr=Lr(this,ia)[or(406)];Ci(this,$o,{});try{Ci(this,Qs,await Nostalgist[or(428)]({core:pr,rom:{fileName:ar,fileContent:cr},async beforeLaunch(br){const _r=or;StorageManager[_r(291)](_r(349))!="0"&&(typeof dr.shader===_r(354)&&await dr.shader(br),typeof dr[_r(328)]===_r(354)&&await dr[_r(328)](br,fr))},state:Lr(ur,Zs),onLaunch(br){Ci(ur,Js,ar)},shader:StorageManager.getValue(or(349))=="0"||typeof dr[or(265)]===or(354)?void 0:"1",resolveCoreJs(br){const _r=or;return"./libretro/"+pr+_r(327)},resolveCoreWasm(br){const _r=or;return _r(270)+pr+_r(333)},resolveRom(br){return""+br},resolveShader(br){const _r=or;return StorageManager[_r(291)](_r(349))=="0"?[]:Lr(ur,ia)[_r(265)]}}))}catch(br){console[or(316)]("Error importing Nostalgist:",br);return}finally{Pi(this,W0,Gu).call(this,"#000000",![]),Lr(this,j0).emulationStarted()}}[_0x5c671e(430)](){return Lr(this,Qs)}[_0x5c671e(431)](){return Lr(this,Js)}[_0x5c671e(445)](){return Lr(this,$o)}[_0x5c671e(286)](cr){const ar=_0x5c671e;Ci(this,ia,cr),localStorage.setItem(Ps[ar(309)],Lr(this,ia)[ar(259)])}[_0x5c671e(264)](){return Lr(this,ia)}[_0x5c671e(255)](){return Lr(this,U0)}[_0x5c671e(262)](){const cr=_0x5c671e;s$1(cr(302))[cr(263)]="("+Lr(this,ia)[cr(396)]+")",this[cr(297)](Lr(this,ia)[cr(297)]),Pi(this,eu,Lf).call(this)}checkDependencies(){Pi(this,Zc,Nf).call(this)}theme(cr){const ar=_0x5c671e;s$1(ar(416))[ar(364)][ar(393)]=ar(318),document[ar(382)][ar(364)].setProperty("--transform",ar(426)),document.documentElement[ar(364)][ar(272)](ar(314),""),document.documentElement.style[ar(272)]("--color3",""),document[ar(382)][ar(364)].setProperty(ar(278),ar(376)),cr[ar(299)]=="double"?s$1("#settings")[ar(345)][ar(444)]("doubleWidth"):s$1(ar(400))[ar(345)][ar(298)](ar(387)),Ci(this,U0,cr),Object[ar(303)](cr)[ar(293)](or=>{const ur=ar;document[ur(382)][ur(364)][ur(272)](or,cr[or])}),Pi(this,W0,Gu).call(this,cr[ar(424)],![])}importFile(cr,ar){const or=_0x5c671e;Lr(this,Ya)[or(418)](Lr(this,ia)[or(259)]+"."+cr,ar)}[_0x5c671e(251)](cr){const ar=_0x5c671e;try{var or=[];cr[ar(380)][ar(293)](ur=>{const fr=ar;var dr={};dr[fr(285)]=String(ur[0]);const pr=ur[1],br=cr.tags?cr[fr(360)][pr]:null;dr[fr(372)]=cr[fr(301)]+cr[fr(340)][pr]+ur[2],br&&(dr[fr(253)]=br),or[fr(379)](dr)}),Ci(this,$o,cr)}catch(ur){Lr(this,ta)[ar(294)]("Error loading file."),console[ar(377)](ar(316),ur)}}[_0x5c671e(321)](cr,ar){const or=_0x5c671e;try{var ur=[];ar[or(380)][or(293)](fr=>{const dr=or;var pr={};pr[dr(285)]=String[fr[0]],pr.url=ar.root+ar[dr(340)][fr[1]]+fr[2],ur[dr(379)](pr)}),Ci(this,$o,ar),Lr(this,Ya).storeFile(cr,ar)}catch(fr){Lr(this,ta)[or(294)](or(362)),console[or(377)](or(316),fr)}}async loadCollectionFile(cr){const ar=_0x5c671e,or=new _0x42fa9e;let ur=[];try{const fr=await or.loadAsync(cr);if(fr.files[ar(446)]){const dr=await fr[ar(410)](ar(446)).async(ar(411)),pr=JSON[ar(350)](dr);Lr(this,ta)[ar(332)]("&nbsp;"),Lr(this,ta)[ar(275)](ar(306));let br=pr[ar(249)][ar(292)],_r=0,yr=pr.id,mr=pr[ar(373)];const Er=or[ar(410)](pr[ar(374)]);let gr=null;if(Er)gr=await Er.async("blob");else throw new Error(ar(412)+item.image);for(const Ar of pr[ar(249)]){_r++,Lr(this,ta)[ar(275)](ar(245)+_r+"/"+br+")");const kr=Object[ar(322)](SelectedPlatforms)[ar(315)](Ur=>Ur.platform_id===Ar[ar(259)]);if(kr==null)throw new Error(ar(310));const[Or,Dr,Rr]=await Lr(this,Ya)[ar(399)](kr);if(Dr[ar(292)]>0)throw new Error(ar(308)+Ar[ar(259)]+ar(421));const Fr=or[ar(410)](Ar.image);let Nr=null;if(Fr)Nr=await Fr[ar(378)](ar(383));else throw new Error(ar(412)+Ar[ar(374)]);let Hr=null;if(Ar.url)Hr=await(await fetch(Ar[ar(372)]))[ar(383)]();else throw new Error(ar(390)+Ar.url);ur[ar(379)]({title:Ar.title!=null?Ar[ar(353)]:"",credits:Ar[ar(346)]!=null?Ar[ar(346)]:"",description:Ar.description!=null?Ar[ar(250)]:"",platform_id:Ar[ar(259)],file:Hr,data_type:"blob",filename:Ar[ar(420)],image:Nr})}if(await Lr(this,Ya)[ar(403)](yr,mr,gr,ur))Lr(this,ta)[ar(294)](ar(243));else throw new Error}else{Lr(this,ta)[ar(294)]("&nbsp;",ar(398),"vme_collection.json not found in the ZIP file.");return}}catch(fr){console.error(ar(283),fr),Lr(this,ta)[ar(294)]("&nbsp;",ar(398));return}}async[_0x5c671e(325)](cr){const ar=_0x5c671e,or=new _0x42fa9e;let ur=!![];try{const fr=await or[ar(391)](cr);if(fr.files[ar(288)]){const dr=await fr.file(ar(288))[ar(378)](ar(411)),pr=JSON[ar(350)](dr);Lr(this,ta)[ar(332)](ar(348));let br=1,_r=Object[ar(303)](pr.platforms)[ar(292)];for(const yr in pr[ar(313)]){Lr(this,ta).print_progress(ar(245)+br+++"/"+_r+")");const mr=pr[ar(313)][yr];if(!await Pi(this,K0,$u).call(this,mr[ar(365)],yr+ar(242),fr))return;if(mr[ar(296)])for(const gr in mr.dependencies){const Ir=mr[ar(296)][gr];if(!await Pi(this,K0,$u).call(this,Ir,yr+"."+gr,fr))throw new Error(ar(435))}}}else{Lr(this,ta)[ar(294)]("&nbsp;","Error loading VME Import archive.",ar(405)),ur=![];return}}catch(fr){console.error("An error occurred:",fr),Lr(this,ta)[ar(294)](ar(348),ar(447)),ur=![];return}ur&&Lr(this,ta).message(ar(330))}[_0x5c671e(414)](cr){const ar=_0x5c671e;let or=this[ar(264)]()[ar(358)],ur=ar(248)+or+ar(280)+cr.replace(ar(331),ar(436));this[ar(425)]&&(this[ar(425)][ar(429)]=ur,this[ar(425)][ar(364)].display=ar(318))}[_0x5c671e(427)](){const cr=_0x5c671e;this[cr(425)]&&(this[cr(425)][cr(364)].display=cr(426))}[_0x5c671e(394)](cr){return new Promise(ar=>setTimeout(ar,cr))}async[_0x5c671e(268)](cr,ar,or,ur){const fr=_0x5c671e;if(cr=="md"&&(cr=fr(437)),cr!=Lr(this,ia)[fr(259)]){let dr=Object[fr(322)](SelectedPlatforms)[fr(315)](pr=>pr[fr(259)]===cr);this[fr(286)](dr),this[fr(262)]()}Ci(this,Zs,ar),await this[fr(375)](or,ur)}async[_0x5c671e(386)](){const cr=_0x5c671e;let ar=await Lr(this,Qs)[cr(386)]();const or=ar[cr(312)],ur=ar[cr(385)],fr=Lr(this,ia)[cr(259)],dr=Lr(this,Js),pr=Lr(this,z0);Lr(this,Ya).storeState(or,pr,ur,fr,dr)}};ia=new WeakMap,$o=new WeakMap,Ya=new WeakMap,U0=new WeakMap,Qs=new WeakMap,j0=new WeakMap,ta=new WeakMap,Xs=new WeakMap,Js=new WeakMap,Zs=new WeakMap,z0=new WeakMap,H0=new WeakSet,Yu=async function(cr){const ar=_0x5c671e;s$1("#cors_query_prefix")[ar(364)][ar(393)]=ar(426),s$1(ar(355))[ar(263)]="",s$1(ar(289))[ar(263)]=ar(338)+cr+'"',s$1(ar(351))[ar(263)]=`
`,Lr(this,ta).print_progress("Loading ...");const or=this;let ur={};EnvironmentManager[ar(267)]()&&Lr(this,ia)[ar(401)]!=null?ur={...Lr(this,ia)[ar(401)]}:EnvironmentManager[ar(408)]()&&(ur={input_player1_up:ar(417),input_player1_left:"nul",input_player1_down:"nul",input_player1_right:ar(417),input_player1_b:"nul",input_player1_a:ar(417),input_player1_c:"nul"}),Nostalgist.configure({bios:typeof Lr(this,ia)[ar(415)]=="function"?Lr(this,ia)[ar(415)](cr):Lr(this,ia)[ar(404)],retroarchConfig:{rewind_enable:!![],rewind_buffer_size:20,rewind_granularity:Lr(this,ia).rewind_granularity===void 0?5:Lr(this,ia)[ar(395)],fastforward_ratio:Lr(this,ia)[ar(305)]===void 0?10:Lr(this,ia)[ar(305)],input_pause_toggle:![],video_scale_integer:Lr(this,ia)[ar(337)]===void 0?![]:Lr(this,ia).force_scale,video_smooth:Lr(this,ia)[ar(439)]===void 0?!![]:Lr(this,ia)[ar(439)],savestate_thumbnail_enable:!![],video_font_enable:![],input_menu_toggle:"nul",video_adaptive_vsync:!![],video_vsync:!![],...ur},retroarchCoreConfig:typeof Lr(this,ia)[ar(274)]=="function"?Lr(this,ia)[ar(274)](cr):{},resolveBios(fr){let dr=Lr(or,ia).platform_id+"."+fr,pr=Lr(or,Xs)[dr];return new Blob([pr],{type:"application/octet-stream"})}})},Xc=new WeakSet,Bf=function(cr,ar){const or=_0x5c671e,ur={filename:cr,caption:ar},fr=JSON[or(384)](ur);StorageManager[or(442)](Lr(this,ia)[or(259)]+or(258),fr)},Jc=new WeakSet,qf=function(cr,ar,or){const ur=_0x5c671e;Lr(this,ta)[ur(332)](cr),Lr(this,ta)[ur(332)](ur(397)+(ar?"x":" ")+ur(422)),Lr(this,ta)[ur(332)]("&nbsp;["+(or?"x":" ")+ur(347)),Lr(this,ta)[ur(332)]("&nbsp;")},Zc=new WeakSet,Nf=async function(){const cr=_0x5c671e;for(const ar in SelectedPlatforms){const or=SelectedPlatforms[ar],[ur,fr,dr]=await Lr(this,Ya)[cr(399)](or),pr=fr[cr(292)]===0;Pi(this,Jc,qf).call(this,or[cr(256)],pr&&!or[cr(244)],dr!==null)}},eu=new WeakSet,Lf=function(){const cr=_0x5c671e;Lr(this,Ya)[cr(399)](Lr(this,ia))[cr(443)](([ar,or,ur])=>{const fr=cr;Ci(this,Xs,ar);let dr=!![];Lr(this,ta)[fr(332)](Lr(this,ia).platform_name),Lr(this,ta)[fr(332)]("<p class='only-landscape'>"+"="[fr(441)](Lr(this,ia)[fr(256)][fr(292)])+fr(335)),or[fr(292)]>0&&(dr=![],Lr(this,ta)[fr(332)](fr(348)),Lr(this,ta)[fr(332)](fr(341)),or[fr(293)](pr=>{const br=fr;Lr(this,ta)[br(332)]("- "+pr)})),ur==null?(Lr(this,ta)[fr(332)](fr(348)),dr=![],Lr(this,ta)[fr(332)]("SOFTWARE DIRECTORY missing!"),Ci(this,$o,void 0)):this[fr(251)](ur),Lr(this,ta)[fr(332)](fr(348)),Lr(this,ia)[fr(294)]?(Lr(this,ta)[fr(332)](fr(271)+Lr(this,ia)[fr(294)]+fr(366)),Lr(this,ta)[fr(332)](fr(348)),Lr(this,ta)[fr(332)](fr(440))):dr?(Lr(this,ta)[fr(332)](ur.items.length+fr(281)),Lr(this,ta).print("&nbsp;"),Lr(this,ta)[fr(332)]("Type HELP for info.")):(Lr(this,ta)[fr(332)](fr(320)),Lr(this,ta)[fr(332)]("&nbsp;"),Lr(this,ta)[fr(332)](fr(326)))})[cr(388)](ar=>{const or=cr;console.log(ar[or(371)]),Lr(this,ta)[or(332)](or(413)+Lr(this,ia)[or(256)]+or(434))})[cr(273)](()=>{Lr(this,ta).redraw()})},W0=new WeakSet,Gu=function(cr){const ar=_0x5c671e;s$1(ar(400))[ar(364)][ar(279)]=cr,s$1(ar(266))[ar(364)].background=cr,s$1("html").style[ar(279)]=cr},K0=new WeakSet,$u=async function(cr,ar,or){const ur=_0x5c671e;if(or[ur(311)][cr]){let dr;if(cr[ur(317)](ur(392))){dr=await or[ur(410)](cr)[ur(378)](ur(411));let pr=JSON[ur(350)](dr);this[ur(321)](ar,pr)}else{dr=await or.file(cr)[ur(378)](ur(329));var fr=cryptoJsExports.lib.WordArray[ur(423)](dr);cryptoJsExports.MD5(fr)[ur(409)](),await Lr(this,Ya)[ur(418)](ar,dr)}return console[ur(377)]("Saved "+ar),!![]}else return console[ur(316)](cr+ur(247)),Lr(this,ta)[ur(294)]("&nbsp;",ur(447),""+cr+ur(254)),![]},Zu=new WeakSet,ax=function(){const cr=_0x5c671e;this.dynamicImg=document.createElement("img"),this.dynamicImg.className=cr(282),this[cr(425)][cr(364)][cr(393)]=cr(426),document[cr(266)][cr(304)](this[cr(425)]),this.dynamicImg[cr(438)](cr(316),()=>{this[cr(427)]()});const ar=document[cr(389)]("cors_results");ar[cr(438)](cr(261),or=>{const ur=cr;if(or.target[ur(433)]===ur(277)&&or[ur(368)][ur(402)].classList[ur(356)](ur(370))){let fr=or[ur(368)][ur(287)].trim();this[ur(414)](fr)}}),ar[cr(438)](cr(257),or=>{const ur=cr;or[ur(368)][ur(433)]==="SPAN"&&or[ur(368)].parentNode[ur(345)].contains(ur(370))&&this.hideThumbnail()})},Ea(Ps,"VME_CFG_CURRENT_PLATFORM",_0x5c671e(344)),Ea(Ps,dx,_0x5c671e(242));let PlatformManager=Ps;function _0xfd18(){const lr=["corsrow","stack","url","name","image","loadRomFile","1em","log","async","push","items","37506qVIriY","documentElement","blob","stringify","thumbnail","saveState","doubleWidth","catch","getElementById","The rom file is invalid: ","loadAsync",".json","display","sleep","rewind_granularity","short_name","&nbsp;[","Error importing VME Collection archive.","checkFiles","#settings","touch_controller_mapping","parentNode","storeCollection","bios","vme_import.json not found in the ZIP file.","core","15065768rpyEqR","hasGamepad","toString","file","string","The image file is invalid: ","Error loading ","showThumbnail","guessBIOS","html","nul","storeFile","218097AUFNkN","filename"," requirements.","] Ready","create","--color0","dynamicImg","none","hideThumbnail","launch","src","getNostalgist","getProgramName","20zGOYDQ","tagName"," core.","Error processing zip.",".png","smd","addEventListener","video_smooth","Type HELP for info.","repeat","storeValue","then","add","get_software_dir","vme_collection.json","Error loading VME Import archive.","SOFTWARE_DIR_KEY",".software","A new collection have been successfully imported.","not_ready","Importing ... (","660165KLaRfh"," not found in the ZIP file.","http://thumbnails.libretro.com/","list","description","loadCorsFile",`",
            "image": "",
            "filename": "`,"tag"," not found.","getActiveTheme","platform_name","mouseout",".LAST_FILE","platform_id","138694mNZlPV","mouseover","updatePlatform","innerHTML","getSelectedPlatform","shader","body","hasTouch","loadState","Loading ... OK","./libretro/","<span class='blinking2'>","setProperty","finally","guessConfig","print_progress"," KB","SPAN","--fontsize","background","/Named_Snaps/"," files available.","dynamic-image","An error occurred:",`",
            "url": "`,"txt","setSelectedPlatform","textContent","vme_import.json","#cors_query","19TfNXTS","getValue","length","forEach","message","2232216eRsIvO","dependencies","theme","remove","--width","set_default_handler","root","#platformLabel","keys","appendChild","fastforward_ratio","Importing ...","Content-Length","You are missing ","VME_CFG_CURRENT_PLATFORM","Unsupported platform found.","files","state","platforms","--color2","find","error","endsWith","block","get","Please import the missing file(s).","importCorsFile","values","270alFrbc","startEmulation","loadVmeImportFile","Please refer to the VM/E Manual for instructions.","_libretro.js","startup_beforelaunch","arraybuffer","Files have been successfully imported.",".zip","print","_libretro.wasm",`",
            "credits": "",
            "platform_id": "`,"</p>","read","force_scale",'load "',"getItem","bases","REQUIRED FILES missing:",`

        {
            "title": "`,"loadRomFileFromUrl","VME_CFG.CURRENT_PLATFORM","classList","credits","] Software dir.","&nbsp;","SHADER","parse","#cors_results","7KhIccc","title","function","#cors_query_prefix","contains","getReader","thumbnail_dir","Loading ... ","tags","3500547MTknlv","Error loading file.","floor","style","software","</span>","NES","target","loadRomFromCollection"];return _0xfd18=function(){return lr},_0xfd18()}function _0xa74b(lr,cr){const ar=_0x1c5b();return _0xa74b=function(or,ur){return or=or-463,ar[or]},_0xa74b(lr,cr)}function _0x1c5b(){const lr=["element","1586544TgCkyS","keydown","598718ZOERrM","image/png","open","moveEnd","#saveBrowserUiBack","moveTo","length","src","show","next","29961ZqyMxY","touchstart","CURRENT_SCREEN","position","getAttribute","translateX(","currentPanel","943092vsYCJu",`
        <div class="flicking-panel" data-id="`,"animating",`)</div>
        </div>
        `,"disabled","querySelector","10eLaZGr","#flicking","catch","2531870OOfntD","moveStart","getElementById","Escape","replace","classList","close",'" style="transform: rotate(',"save_data","saveBrowserUiLoad",".flicking-background","ArrowRight","bind","rom_data","snap","#save-browser","display",".flicking-panel","none","remove","prev","reset","No save states found.","saveBrowserEmpty","350NZATNH","values","changed","ArrowLeft","opacity","index","add","camera","Enter","style","clientWidth","createObjectURL","key","background","98517ukyPQE","forEach","SAVE_BROWSER","getAllSaveMeta","random","transform","13976hccIgu","screenshot","toggleScreen","data-id","saveBrowserUiDelete","move","destroy","img","then","panelCount","platform_id","querySelectorAll","#saveBrowserUiLoad","program_name","addEventListener","%) scale(12)",`deg)">
            <div class="flicking-title flicking-title-name">`,"MENU","4730KagHBX","scale(12)",`">
            <img src="`,"active","block","url(","innerHTML"];return _0x1c5b=function(){return lr},_0x1c5b()}const _0x31ce3a=_0xa74b;(function(lr,cr){const ar=_0xa74b,or=lr();for(;[];)try{if(-parseInt(ar(548))/1+-parseInt(ar(473))/2*(-parseInt(ar(514))/3)+-parseInt(ar(546))/4+-parseInt(ar(476))/5+parseInt(ar(467))/6+-parseInt(ar(500))/7*(parseInt(ar(520))/8)+-parseInt(ar(558))/9*(-parseInt(ar(538))/10)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x1c5b,306916);var hs,e0,ds,Y0,fa,xs,t0,r0,tu,Mf,n0,wc,ru,Vf,Qo,Fs,G0,Qu,nu,Uf,iu,jf,au,zf;class SaveBrowser{constructor(cr,ar,or,ur){mi(this,tu);mi(this,n0);mi(this,ru);mi(this,Qo);mi(this,G0);mi(this,nu);mi(this,iu);mi(this,au);mi(this,hs,void 0);mi(this,e0,void 0);mi(this,ds,void 0);mi(this,Y0,void 0);mi(this,fa,void 0);mi(this,xs,void 0);mi(this,t0,void 0);mi(this,r0,void 0);const fr=_0xa74b;Ci(this,hs,cr),Ci(this,e0,ar),Ci(this,ds,or),Ci(this,Y0,ur),Ci(this,r0,Pi(this,iu,jf)[fr(488)](this)),addButtonEventListeners(s$1(fr(552)),dr=>{const pr=fr;dr&&(this[pr(482)](),Lr(this,hs)[pr(522)](VME[pr(560)][pr(537)]))})}[_0x31ce3a(550)](){const cr=_0x31ce3a;let ar=document[cr(472)](cr(491));ar[cr(481)][cr(506)](cr(556)),ar[cr(509)][cr(504)]=1,Pi(this,nu,Uf).call(this),Ci(this,fa,new Flicking(cr(474),{circular:!![],moveType:cr(490),preventClickOnDrag:!![],autoResize:!![]}));let or=this,ur=![];const fr=dr=>{const pr=cr;ur||(ur=!![],Lr(this,fa)[pr(553)](dr)[pr(528)](()=>{ur=![]})[pr(475)](()=>{ur=![]}))};Lr(this,ds)[cr(517)]()[cr(528)](dr=>{var br,_r,yr,mr;const pr=cr;dr[pr(554)]==0?(Pi(br=or,Qo,Fs).call(br),Pi(_r=or,n0,wc).call(_r)):(dr[pr(515)](gr=>{var Ar;const Ir=Pi(Ar=or,tu,Mf).call(Ar,gr);Lr(or,fa).append(Ir)}),document[pr(531)](pr(493))[pr(515)]((gr,Ir)=>{const Ar=pr;gr[Ar(534)]("click",()=>fr(Ir)),gr.addEventListener(Ar(559),()=>fr(Ir))}),Lr(or,fa).on(pr(502),gr=>{var Ir,Ar;Pi(Ir=or,n0,wc).call(Ir),Pi(Ar=or,Qo,Fs).call(Ar)}),Lr(or,fa).on(pr(525),gr=>{var Ir;Pi(Ir=or,ru,Vf).call(Ir)}),Lr(or,fa).on(pr(551),gr=>{var Ir;Pi(Ir=or,Qo,Fs).call(Ir)}),Lr(or,fa).on(pr(477),gr=>{const Ir=pr;document[Ir(531)](Ir(493)).forEach(kr=>kr.classList.remove(Ir(541))),document.getElementById(Ir(485))[Ir(481)].add(Ir(471)),document[Ir(478)](Ir(524)).classList[Ir(506)](Ir(471)),Ci(this,xs,![])}),Pi(yr=or,Qo,Fs).call(yr),Pi(mr=or,n0,wc).call(mr),Ci(this,t0,![]))}),document[cr(534)](cr(547),Lr(this,r0)),addButtonEventListeners(s$1("#saveBrowserUiDelete"),dr=>{const pr=cr;if(dr&&Lr(this,xs)){const br=Lr(this,fa)[pr(466)];if(br!=null){const _r=br.element[pr(464)](pr(523)),yr=parseInt(_r,10),mr=Lr(or,fa).panelCount-1;Lr(or,ds).deleteSave(yr)[pr(528)](()=>{var Ir;const Er=pr;Lr(or,fa)[Er(495)](br.index);let gr=br[Er(505)];gr>=mr&&(gr=mr-1),Lr(or,fa).panelCount>0&&Lr(or,fa)[Er(553)](gr,0),Pi(Ir=or,Qo,Fs).call(Ir)})}}}),addButtonEventListeners(s$1(cr(532)),dr=>{dr&&Pi(this,G0,Qu).call(this)}),Lr(this,hs).toggleScreen(VME[cr(560)][cr(516)])}[_0x31ce3a(482)](){const cr=_0x31ce3a;document.removeEventListener("keydown",Lr(this,r0)),Lr(this,Y0)[cr(497)](),Lr(this,e0).updatePlatform()}}hs=new WeakMap,e0=new WeakMap,ds=new WeakMap,Y0=new WeakMap,fa=new WeakMap,xs=new WeakMap,t0=new WeakMap,r0=new WeakMap,tu=new WeakSet,Mf=function(cr){const ar=_0xa74b;cr[ar(530)]=="md"&&(cr[ar(530)]="smd");const or=Object[ar(501)](SelectedPlatforms).find(pr=>pr[ar(530)]===cr[ar(530)]);let ur=new Blob([cr[ar(521)]],{type:ar(549)});const fr=URL[ar(511)](ur),dr=Math[ar(518)]()*20-10;return ar(468)+cr.id+ar(540)+fr+'" alt='+cr[ar(533)]+ar(483)+dr+ar(536)+Pi(this,au,zf).call(this,cr[ar(533)])+" ("+or.short_name+ar(470)},n0=new WeakSet,wc=function(){const cr=_0xa74b;var ar=Lr(this,fa).currentPanel;if(ar!=null){var or=ar.element[cr(472)](cr(527))[cr(555)];document.querySelector(cr(486))[cr(509)][cr(513)]=or,document[cr(472)](cr(486))[cr(509)].background=cr(543)+or+")",document.querySelector(cr(486))[cr(509)][cr(519)]=cr(539)}},ru=new WeakSet,Vf=function(){const cr=_0xa74b;var ar=Lr(this,fa)[cr(545)][cr(510)],or=Lr(this,fa)[cr(507)][cr(463)]/ar,ur=document[cr(472)](cr(486));ur.style[cr(519)]=cr(465)+or*50+cr(535)},Qo=new WeakSet,Fs=function(){const cr=_0xa74b,ar=Lr(this,fa)[cr(466)];ar!=null?(document.getElementById(cr(499)).style[cr(492)]=cr(494),document[cr(478)](cr(485)).classList[cr(506)](cr(471)),document.getElementById(cr(524))[cr(481)][cr(506)](cr(471)),document[cr(531)](cr(493))[cr(515)](ur=>ur.classList[cr(495)](cr(541))),ar[cr(545)].classList[cr(506)](cr(541)),document[cr(478)](cr(485))[cr(481)][cr(495)](cr(471)),document.getElementById(cr(524))[cr(481)][cr(495)](cr(471)),Ci(this,xs,!![])):(document[cr(478)](cr(499))[cr(509)][cr(492)]=cr(542),document[cr(478)](cr(499))[cr(544)]=cr(498),document.getElementById(cr(485))[cr(481)][cr(506)](cr(471)),document[cr(478)]("saveBrowserUiDelete").classList[cr(506)](cr(471)))},G0=new WeakSet,Qu=function(){const cr=_0x31ce3a;if(this[cr(482)](),Lr(this,xs)&&!Lr(this,t0)){Ci(this,t0,!![]);const ar=Lr(this,fa).currentPanel;if(ar!=null){const or=ar[cr(545)][cr(464)]("data-id"),ur=parseInt(or,10);Lr(this,ds).getSaveData(ur)[cr(528)](fr=>{const dr=cr;Lr(this,e0).loadState(fr.platform_id,fr[dr(484)],fr[dr(489)],fr[dr(533)])})}}},nu=new WeakSet,Uf=function(){const cr=_0x31ce3a;if(Lr(this,fa)){const ar=Lr(this,fa)[cr(529)];for(let or=ar-1;or>=0;or--)Lr(this,fa).remove(or);Lr(this,fa)[cr(526)]()}},iu=new WeakSet,jf=function(cr){const ar=_0x31ce3a;!Lr(this,fa)||Lr(this,fa)[ar(469)]||(cr[ar(512)]===ar(487)?Lr(this,fa)[ar(557)]().catch(()=>{}):cr[ar(512)]===ar(503)?Lr(this,fa)[ar(496)]().catch(()=>{}):cr.key===ar(508)?Pi(this,G0,Qu).call(this):cr[ar(512)]===ar(479)&&(this[ar(482)](),Lr(this,hs)[ar(522)](VME[ar(560)][ar(537)])))},au=new WeakSet,zf=function(cr){const ar=_0x31ce3a;return cr=cr.replace(/\.[^/.]+$/,""),cr=cr[ar(480)](/[\[\(][^\[\]\(\)]+[\]\)]/g,"").trim(),cr};function _0xdba0(){const lr=["6vXOYXp","collectionBrowserUiRestore","5486761SVpIuE","add","element","bind","reset","push","getAllSaveMeta","10184517manbbD","ArrowLeft","panelCount","timestamp","active","style","clearValue","6455024cfgMso","ArrowRight",'" style="transform: rotate(',"addEventListener","snap","rom_name","MENU","collectionBrowserUiLoad","moveTo","toggleScreen","open","getCollectionItems","296312cQpxxy",'" data-save="',"forEach","getRomData","image","classList","getElementById","getSaveData","close","rom_data_id",`deg)">
            <div class="flicking-title flicking-title-name">
            <span class="flicking-primary-label">`,"disabled","none","show","634470odGDqy","title","Escape","getAttribute","catch","save_data_id",`">
            <img src="`,"#collectionBrowserUiLoad","rom_data","querySelectorAll","#collection-browser","touchstart","remove","storeValue","display","moveStart","querySelector","data-id",`</span>
            </div>
        </div>
        `,"platform_id","key","#collectionBrowserUiBack","append","Cannot load selected program.",'" alt=',"1287450YqiOQR","sort","save",".flicking-panel",`</span>
            <br/>
            <span class="flicking-secondary-label">(`,"next","moveEnd","33taVILp","then","save_data","#collection-flicking","collectionBrowserEmpty",`
        <div class="flicking-panel" data-id="`,"dataset","loadRomFromCollection","filter","credits","opacity","removeEventListener","contains","694610CafKaA","CURRENT_SCREEN","currentPanel","values","find","animating"];return _0xdba0=function(){return lr},_0xdba0()}const _0x143ba1=_0x4470;(function(lr,cr){const ar=_0x4470,or=lr();for(;[];)try{if(parseInt(ar(350))/1+-parseInt(ar(305))/2+parseInt(ar(337))/3*(parseInt(ar(384))/4)+-parseInt(ar(330))/5+parseInt(ar(356))/6*(-parseInt(ar(358))/7)+-parseInt(ar(372))/8+parseInt(ar(365))/9===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0xdba0,475655);function _0x4470(lr,cr){const ar=_0xdba0();return _0x4470=function(or,ur){return or=or-304,ar[or]},_0x4470(lr,cr)}var ps,i0,qo,$0,Sa,_s,vs,Xo,a0,ou,Hf,ms,S0,su,Wf,Q0,Xu,cu,Kf,uu,Yf;class CollectionBrowser{constructor(cr,ar,or,ur){mi(this,ou);mi(this,ms);mi(this,su);mi(this,Q0);mi(this,cu);mi(this,uu);mi(this,ps,void 0);mi(this,i0,void 0);mi(this,qo,void 0);mi(this,$0,void 0);mi(this,Sa,void 0);mi(this,_s,void 0);mi(this,vs,void 0);mi(this,Xo,void 0);mi(this,a0,void 0);const fr=_0x4470;Ci(this,ps,cr),Ci(this,i0,ar),Ci(this,qo,or),Ci(this,$0,ur),Ci(this,a0,Pi(this,uu,Yf)[fr(361)](this)),addButtonEventListeners(s$1(fr(326)),dr=>{const pr=fr;dr&&(StorageManager[pr(371)](BOOT_TO),StorageManager.clearValue(COLLECTION_BROWSER_COLLECTION_INDEX),StorageManager[pr(371)](COLLECTION_BROWSER_ITEM_INDEX),this[pr(392)](),Lr(this,ps)[pr(381)](VME[pr(351)][pr(378)]))})}async[_0x143ba1(382)](cr=1,ar=1){const or=_0x143ba1;let ur=document[or(321)](or(315));ur[or(389)][or(359)](or(304)),ur[or(370)][or(347)]=1,Pi(this,cu,Kf).call(this),Ci(this,Sa,new Flicking(or(340),{circular:![],moveType:or(376),preventClickOnDrag:!![],autoResize:!![]}));let fr=this,dr=![];const pr=_r=>{const yr=or;dr||(dr=!![],Lr(this,Sa).moveTo(_r)[yr(338)](()=>{dr=![]})[yr(309)](()=>{dr=![]}))};Ci(this,_s,[]);const br=await Lr(this,qo)[or(364)]();Lr(this,qo)[or(383)]()[or(338)](_r=>{var mr,Er;const yr=or;if(_r.length==0)Pi(mr=fr,ms,S0).call(mr);else{_r.forEach(Ar=>{var Rr;const kr=_0x4470,Or=br.filter(Fr=>Fr[kr(324)]==Ar[kr(324)]&&Fr.rom_data_id==Ar.rom_data_id)[kr(331)]((Fr,Nr)=>Nr[kr(368)]-Fr[kr(368)])[0];Or!=null&&(Ar[kr(310)]=Or[kr(310)]);const Dr=Pi(Rr=fr,ou,Hf).call(Rr,Ar);Lr(fr,Sa)[kr(327)](Dr),Lr(this,_s)[kr(363)](Ar)}),document[yr(314)](yr(333))[yr(386)]((Ar,kr)=>{const Or=yr;Ar[Or(375)]("click",()=>pr(kr)),Ar.addEventListener(Or(316),()=>pr(kr))}),Lr(fr,Sa).on("changed",Ar=>{var kr;Pi(kr=fr,ms,S0).call(kr)}),Lr(fr,Sa).on(yr(336),Ar=>{var kr;Pi(kr=fr,ms,S0).call(kr)}),Lr(fr,Sa).on(yr(320),Ar=>{const kr=yr;document[kr(314)](kr(333))[kr(386)](Dr=>Dr[kr(389)][kr(317)](kr(369))),document.getElementById(kr(379))[kr(389)][kr(359)]("disabled"),document.getElementById(kr(357))[kr(389)][kr(359)](kr(395)),Ci(this,vs,![])});const Ir=Lr(fr,Sa).panels.findIndex(Ar=>Ar[yr(360)].dataset.id===String(ar));Ir>=0&&Lr(fr,Sa)[yr(380)](Ir,0),Pi(Er=fr,ms,S0).call(Er),Ci(this,Xo,![])}}),document[or(375)]("keydown",Lr(this,a0)),addButtonEventListeners(s$1(or(312)),_r=>{_r&&Pi(this,Q0,Xu).call(this)}),addButtonEventListeners(s$1("#collectionBrowserUiRestore"),_r=>{_r&&Pi(this,su,Wf).call(this)}),StorageManager.storeValue(BOOT_TO,BOOT_TO_COLLECTION_BROWSER),Lr(this,ps).toggleScreen(VME[or(351)].COLLECTION_BROWSER)}[_0x143ba1(392)](){const cr=_0x143ba1;document[cr(348)]("keydown",Lr(this,a0)),Lr(this,$0)[cr(362)]()}}ps=new WeakMap,i0=new WeakMap,qo=new WeakMap,$0=new WeakMap,Sa=new WeakMap,_s=new WeakMap,vs=new WeakMap,Xo=new WeakMap,a0=new WeakMap,ou=new WeakSet,Hf=function(cr){const ar=_0x4470;cr[ar(324)]=="md"&&(cr[ar(324)]="smd");const or=Object[ar(353)](SelectedPlatforms)[ar(354)](fr=>fr.platform_id===cr[ar(324)]),ur=Math.random()*20-10;return ar(342)+cr.id+ar(385)+cr.save_data_id+ar(311)+cr[ar(388)]+ar(329)+cr[ar(306)]+ar(374)+ur+ar(394)+cr[ar(306)]+ar(334)+cr[ar(346)]+`)</span>
            <br/>
            <span class="flicking-secondary-label">`+or.platform_name+ar(323)},ms=new WeakSet,S0=function(){const cr=_0x4470,ar=Lr(this,Sa)[cr(352)];ar!=null?(document[cr(390)](cr(341))[cr(370)][cr(319)]=cr(396),document[cr(314)](cr(333))[cr(386)](ur=>ur[cr(389)].remove("active")),ar[cr(360)][cr(389)][cr(359)](cr(369)),document.getElementById(cr(379))[cr(389)].remove("disabled"),ar.element[cr(343)].save!="undefined"?document[cr(390)](cr(357)).classList[cr(317)](cr(395)):document[cr(390)](cr(357))[cr(389)].add(cr(395)),Ci(this,vs,!![])):(document[cr(390)](cr(341))[cr(370)][cr(319)]="block",document[cr(390)](cr(341)).innerHTML="No collection found.",document[cr(390)](cr(357)).classList[cr(359)](cr(395)),document[cr(390)](cr(379))[cr(389)][cr(359)](cr(395)))},su=new WeakSet,Wf=async function(){const cr=_0x143ba1;if(Lr(this,vs)&&!Lr(this,Xo)){const ar=Lr(this,Sa)[cr(352)];if(ar!=null){if(document[cr(390)](cr(357))[cr(389)][cr(349)](cr(395)))return;Ci(this,Xo,!![]);const or=ar[cr(360)][cr(308)](cr(322)),ur=parseInt(or,10);StorageManager[cr(318)](COLLECTION_BROWSER_COLLECTION_INDEX,1),StorageManager[cr(318)](COLLECTION_BROWSER_ITEM_INDEX,ur);const fr=Lr(this,_s)[cr(345)](dr=>dr.id===ur);if(fr.length>0){const dr=ar[cr(360)][cr(343)][cr(332)],pr=parseInt(dr,10),br=await Lr(this,qo)[cr(391)](pr),_r=fr[0],yr=await Lr(this,qo)[cr(387)](_r[cr(393)]);Lr(this,i0)[cr(344)](_r[cr(324)],yr[cr(313)],_r.rom_name,br[cr(339)]),this[cr(392)]()}else throw new Exception(cr(328))}}},Q0=new WeakSet,Xu=async function(){const cr=_0x143ba1;if(Lr(this,vs)&&!Lr(this,Xo)){Ci(this,Xo,!![]);const ar=Lr(this,Sa)[cr(352)];if(ar!=null){const or=ar[cr(360)].getAttribute("data-id"),ur=parseInt(or,10);StorageManager[cr(318)](COLLECTION_BROWSER_COLLECTION_INDEX,1),StorageManager[cr(318)](COLLECTION_BROWSER_ITEM_INDEX,ur);const fr=Lr(this,_s)[cr(345)](dr=>dr.id===ur);if(fr.length>0){const dr=fr[0],pr=await Lr(this,qo)[cr(387)](dr[cr(393)]);Lr(this,i0)[cr(344)](dr[cr(324)],pr[cr(313)],dr[cr(377)]),this[cr(392)]()}else throw new Exception("Cannot load selected program.")}}},cu=new WeakSet,Kf=function(){const cr=_0x143ba1;if(Lr(this,Sa)){const ar=Lr(this,Sa)[cr(367)];for(let or=ar-1;or>=0;or--)Lr(this,Sa).remove(or);Lr(this,Sa).destroy()}},uu=new WeakSet,Yf=async function(cr){const ar=_0x143ba1;!Lr(this,Sa)||Lr(this,Sa)[ar(355)]||(cr[ar(325)]===ar(373)?Lr(this,Sa)[ar(335)]()[ar(309)](()=>{}):cr[ar(325)]===ar(366)?Lr(this,Sa).prev()[ar(309)](()=>{}):cr[ar(325)]==="Enter"?Pi(this,Q0,Xu).call(this):cr.key===ar(307)&&(this[ar(392)](),Lr(this,ps)[ar(381)](VME[ar(351)][ar(378)])))};const _0x498eb8="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAKUPMvFBQAAXaWbT8YkAAYBgAA4x/4xj/5d3vd3d34QXFxc+A4BoKDQUAKAKAsBoKU4uDQGgpTu7ule7u9/u7vf/8u91/Lu7pW5Yue7mKHYKwFwFw/YOAFwFwbngQEDPg++olnOqSYV1ZhCJNKWMAJgBxgjIjV2XFoAfl2GMKBQaWUJESywrggJFVDq0RDyAKF3Qsh9IhUCDrdh4Ut+DWznv8/OfjNJHWVqf++9/8oq0IHZaXDLJAgSKZb+DDutKr/3of+h3UXrrUA//tSxAUAC3EBUrjFgAF8HGuDEvAAS4ZECEdUqFxQ1ghPPPIM4OhYgkiUfOnjyJLYoYqSudPmA6hKEidLT1/SkO7fG2my+Lnpjnuc2Ld3bI631P7d0SgaxWyfg9Md55705ps6Jr3e5KxAYEAPPTAsZEzWWbUNms3nYISopCeKBgbWp8+vNeG5ORyN+runVKzx8FGRQNwUomiJISeK7VPp9fqN0wZWI/zAfWt///3kje5w4UTH3BzXH/zP8/2pd7cUKVf4g+IqHiuAoHBC0nccSXP/+1LEBYALcNVMGYSAAX2UqMMykADLONBirVnei9LAkgBYNKqsCoQEhpESztHo+yqFYUULJahEIPA1Fh7SKCOXmru+Lo7cZQqEM+V99Vcff97/WVv///8kUXRjkoMHSVMtZ/bnIiECrFQCe/5whX3mfxrEqeyGmzs5lEjmbgyBlAye0LCUiaM2rmkYiRE1L9BkF2FTJ8mYjSJRpRTqL5JiO25KW1ru/M9xx8LUwHlh4GDpNRcmMaxj4bIHaz6JG3mmyS//1y6IYQdsalponDrbnP/7UsQGAAvk51IY94ABc6WpwxiwASEXxGFMgFFM/fNDT7TZgSQa1+Zo5+HBqr4SHftOTs01XMxs1U6xTxa5/Z5mNnZM7xGs+hf//V3mvTXjYtC+df//948ph5Ef3+ISeYVa94ls5/vKhorEpW0ZwmjhQH8fDJFfjdWaGpph4OG70m003Bg3YhNO7T0CkltjqWPezH0ah2AmK7u23/zB8nuOez39s+GfvTP5z+JfW7+eJv9BA0Mx4Hwnwctl///3//+Os3HbkttbkZcTYAFqYrDQ//tSxAYADATvZ7iUAAF1oCsDEvAAoAPIlkQIrETAiRMKESJZDi5IBg7aSyQaiFCSego4sE4/vFaFxc8RwBAEyUVGnSd7EYRkEo1aX+nFEp+tjVi///kXHigoZ8LUytf//nuBHYa/65QBzszi7ieabcYrhskOx1AoQ+cNvldF2p4U+d9hXM4hUsZle69KmeRz9yiNsWDXxJs01D97R4vtjP19Zz/F3iE/gw//65rreKX/xueLNmlJcb9rW9rf/5//gQEkeIvU5VGNJWoQSAwAVUT/+1LEBQALpRtiGJQAAWMR6reYgAAsLmRoyYLywmD2x1UQSwfcuYNo5ygOWVU5WNDuhY46Uibk+hez0ZZD0mv2+SxHMH1zyqipX/Hno5toQNPqxKHRYyauLn5+T+Ve36vs4Rclw1859VWSBTgQMcluBEZKxpGoyA8cD0qLSJKa4ZsGQAWbNBQUIIc1JqoLCwszN/qpNNGqyvC1OtNEfbdSSG8SiV07OoQtxIFTCciOeWNqtMBQ9/R8SpZpCZyn63/Qjc1QApttwfJpLRrkqS6MT//7UsQIAAwkM0lHsSYJYounYPYkyZkHYVEoQHyBoRIhLI8TDiMy1jjgkrplWmqE0xkonLc3gvYUyw6aoxLMt+9jieUOHxsWKcqW5j7Y3tKA34fu1lcktrenov92nHdpYsbpv////QjAgAMNUmYrx5mk6NY0mQRbAtZoEA2QCAMEYUOGjAfWc5Gky9BsnZNJOs3GXv2DWE2gsF5n6rmuCiHy/MKf/zP2/z4MRb7fzLpW4r9gPKnPXurDN//ch8pqYsqkIITjbcAAokABGAbCoOCs//tSxAkACjx7QaWwaMFGqGaw8Iq4Mgk+MBpPQ8HtEIDEUabFxbXS1M5pWuaP3XNTzliDoKB8weLDkwsXJuHSG8BiZjRzLC0klgtqpVItEu5aBSOVHEORIglVpsVhNzuLybx6l6XRksDRCNt4rFfpqvJVvpp7H3P4mxgANmyRiQWTSjhadZEcy5BxhmYObe9TIjl9f+nXDRXwsofDe1maiUVmu4lSUIoBRJIgDSqBBhGlor0Kgh+neaUyOS8VASAWdJDsUiiutYzrMNckwutPLNX/+1LEFQAJ7IMph6RswQ2Mo9j3mADNU6qfAx5l2B3FWvfJDIuhBsehNFais9S5jNEqR0N+Bvss93/yIF/2WQV5HogcSygpI0lZEJKCtNIuRRYBbMtLHU5HDqokkai1aRo1Fjh4xlZ0s9AVO6zp4RLnst8j+Wh3/Ge2S0f//74AA2VmRI7t/+lJHnEnrSEq0jLK0/Y/liX69jmyP4U1IQRqb/20J//td//lqkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqv/7UsQpg8VoARPgjEAgAAA0gAAABKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",_0x3f5a92="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAIhHErNDGAAbGs7fcSgAGUACAADbd3d+IBgbnoicL/03c/0RAMDFu7nEAwMDfiE4AAHAfD4jPlAQWCCwfPlz//E5//wffiMP6wQDH/y4f//BA5D/s0e/9fr7VJgCJ6QKCOVMjTI4T0nChxvk0EE63caf3VhEKkT2emwdhsIClcmnd0HmIIRvyxXV0knjomxwtx/d/+MEYcnes02tf/9XzdkUjp3zXHf///o9Lb8uNZv+fWV/////k0PxQoD0uRJcVOHUIMYwuxdgD5//tSxAUACyy/Uhj0gAF+IuxnGIAALApj/XbIsImGyYbA0TWwTaaNdrc6c+6akt78xAw5sq0hz1nn/CAhlKvGOX6v/0j2Ecr/IITbENzNbVEQFUoWa5S2KeKBxvnVRZZd87/5EwAr/z/zqhx5+AYEgtjYQT3T8Go7xg0lx6hXIKoFDBQPqQWMebG0wxeYoXkWNv4mxe0IFAXS1FfszGIrjRcWvnaF4/D8ckI6C0TX///cWm03Bhf/Ps0f//4iOEHAm+OdIjAIIAhRLqCpnBpG4tP/+1LEBoAL5ING/YSAAXCU6PDEjZgXdD5ABB1vVboGca20qNP8KSUZGGjT2I1Wyi12cdlqb8QoZSWxCoinLfLylLbk08XUFTC1iU3KmHKfDS3JqAwNeE3U0zbOcY1RNyQlGsahv//IQVBIkEAK9KwKk0oBKSiqSQ7Py6YFoQyYPMpnUsLM0iXMEKCfLTVguwc2y2iFvXTG7Q4GLEe9OyOUJIxEgJYbAtCAfaF1JKkB5Ne8ACoOBgXQY1Kc6LquW31f/+QqihsQAAYDQ0TMxVOWFP/7UsQGgIvwjT0nsMbBcRhnQp6QANL4FDGhHMhhw/nBfhOQD2ErVr6g/i0ph1qAJoKb5zdOrTzkiRIGOtiWVSXwmwJoXARARktx6KtCAdFzwfS96hYcDV7noUpzIde1IbWKi56n//6iwB1oghtE8nVIJmVw9JbkCq6PojMNEMpHi5aSGWEwyQI1UkAYHx0NKkomFJAw9DkvJmUE6gtpnYul2DUWFoqu2eJdh61uldeTF1KKVKgkPIzVui1ha/+zo////kauNi1WKkUhoNiNWIOA//tSxAaADB0tWbj0AAFnoq63DDAAAjmHTGrWWrhHfvnOeGz4XjkiQDiQoAMjOYQYIYNg9+boPJcVJEWI7WE5ML1okVHx809y/Ytnpw3/78vN2lCp2jR////GkvftzKx///6f//7mzpUjqs3ttLtKxG2Q2Mxoc0f1lBB31ALIhfOHsaEho8G08ormRI/m7kjoxe/ENMqFSH/kiF5K2V8yI0dTR9C45ro5EafX/p1/n/S///yMXAiKCBZapTf5R31wCy2uRmCbSIAAFABIHLqQAxb/+1LEBwAL/KNjnMMAAXIPK/KYYAATDkkDsYHRyUV5wiGkw7pZDQ/zNjd3fFGNDevn/+ZcE1Joff9vT2Tyvf9PlIhIOCMuLQyAhIXB0ffSZa5gQACighIuD5/f7iaaOgTCyK+1/vqUUZKkowQEuwSgNLGhyFJkXgajUExkTrHJZZBgEl55s1mY3b5O+jTSJHGlHx/PztVHUHBYKHoKhQuiKLW8kQQ0aAiK3r97KEpAxu5t8iFDwU0Klgax4K2t9vmDABMVV2V2aoaGeoV2gr1gsP/7UsQGgAwNM5X4kRBRRRSqt55gAGg2GRHpuPoDyDBYoJdbNigJHgQRnMUUIQEoECAAjgRjI1Q4Mc5qhl+zqJFspW3+QUUyUKVi/84VF+lJv/qkQt2FzP///dTAlWKg4DILR6F2/xRtSmpmrcJILQVnLMelIl9WSEM+U7CWjwRzArWF6pQ8ikbCSE0kjUs8ricyfPf5+/eq++Zwi+9+7P/9+/vPOEwTkCbpLqTyR1+ur/6CTau32E3LQjIjU2kCQUlAjRPEYWIUoA+FkTTgnGKc//tSxAuACkx9R6ewY4FKn2k48wl0smItLayitRaJbXY29aoVddmi3/0tC/IUAtBQDS7gK0LC4InBx0TgAHschjpoUeRazuVf70CJqyKTM0KgcwjKSMjUIxMXU91Q9CrGGtKdUqdPLFAEJCErPIbRro1OepftWZuU+bu5rFmZjUThxDyXR7dNTLcromXyn7TL0WXppR4J0uAUiLA1qURXCCj1Ky77dLI6k0SwwmYdSzFRJ8ilQTeFxY+NGSF5ZgLDozUlVm7ALgoQAMcNv7eHc6T/+1LEFwAJ3J1Jp6RooUePqLj2DHxwGS5dGc+mSqE2hMa4QmEnGHXJyff5yeZzGx7ypaAnZdArDKrIyHXs2MRBSan+mAiuHc4IpklElUZOlTDpOtc9mj1MiYia3Kft6lfkOLubsLEGiRoXLJbuFUjknFIDKWQFShHYRHkjJiZnjJKok70PnRE+AgJRIABC1DIFyNtCm5gQ56pTgUx0kHzpEuwScTRo+EqdGiwEChZpoiGnBkaReBrhV45QlJBeqd3AKaCt6WL71unUcS2g01SnHv/7UsQkgApIQTNnpMpBPRQn8PYMfA3c6phSn//ZU9T66SQtPTEMf5JVYZFkfyqDwcF9Qbnp8ctGKdz3XlrTcIyaxydllz2v3n1bD7wz/4GszGhxqKPqkhiRglNG6AboPK7PYKDVMVVGhy4XfC7Kb3+1rakbjbGhuLlAMvJIJDiPJacMj1UYrlq1dV5WrWzlllrPH7Dcv11PzrVMrYZHMoudl9T5utsDUuhcPCjycVUtEnUsOVysmTMtcsa/UYUKrV3+21brbiaApAuCgHViMrBe//tSxDGACji7QaewZWFQimf0xI0dDyUgC5QuNEKIwSI0C7KwlzllYjJHBA0JZ6+qq+rxB8mtRItm+VGUsht5SvQxXejvszptZ0LNy/C1Yi/Pta/xiXf/+WrbbLHf0qDyCAHDcjmByVAhLI1mRqIZIcLCAIFTEPSFsMnCgsaPhsEzYBQFhI9AuJxEGY4WKuScIOFQI8cOGrfXfFk7pC/kA9LMF3yIzs1g91IMLKE5E1E/LE3Y8EUjnYvHQ/Vkg5MyQuOG32GX2CSmivCejnAITDL/+1LEPIAJ7DVJhjDE8UuJpaT2DHgJjhMIXWpImRI6NIJWPQ1aikBxKOA4qpVpVzWL2jd829ljnv9lH//r+9UABJJwIvKBdRcVS9xU4aBEZBE8FkbNPAKRmHsqqNksjKTVBRMNHgFQsBEgZLVjQKJQagyGg6Ehx1UNEAKGSIlv1PpKwK6eRRhI9Wd////8NABAIFKTQWiSBRQEfFigg6E1QyOyWX5ZKhkf/+RqGCg2dno0UJEmHgmZFRY1Coo2oWFf/qF2atYqKN1CusUaaeKtxf/7UsRJAAn8RyWHpGPBKpCdlGGZeIXZMizP/rFBZUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",_0x2b6b4b="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAJxN0tFBGAAY4s7v8SUAEQwEAAzH4B+ACoX130A30Ku8FmEAABKHAwAQQcDAxZ7u4G78R3OIno7nohcfQAEJu4hE3cW+7u7uegG59RzBDWD58QAnKAhEH4If+CBzRNJLpTpcLCsxF2qlkgxUWwgiAddS5twfMnkwrr4MggouxBAsWBVDgk4vIhCB80xhQljirscBPR3RiRQUOd2D39ydxEWHNYuT/9srsxm/7K759GLQyvc49v9f3/9mERY2ZUADIacnqGJoP8el4q//tSxASACuDFWhj1gAGOm2tzHtAAlcT5vYltpiNpcEMPNP2DacvidpuPks0jHrXXHeT0XviEnWpeO9djjQ8yWxxcT9G580SBAXY6I+HN/kfIrYsu/9YEeXECn+nyBf//9MuaJIAAOrrQBFqWTwAHSYIteGhyIIN4bCFIqGuhHjpgxoABGATpMHGbIheiTMColSSUg6RUUhVdKd2OiNOXlOZsmYu28lTE1MTJJI2TRTa+zGxixORb1PpP+1T1qMvk/ColDQNA1TMACSQgSE1AYAP/+1LEBQALoK9HvPMAAW2aqTaeUAH4K4XFIEhSpkoUtQDsRKlixEOhHhJAsSZuHS/6SVR/sU7+6x5mvvntd7KW01u3/+7Hj598WdiMjQMDC2rjA8NpMnQ4ApLS7ZcQLpFRoIpjCqj6a0fBHE0i0VLQLakCepQwESjT+NjSAdrg6dLhpVQRGso0VKzO58yqqIaqFmIRqOyTNZXKY8zvrMVKOnOzXeti5HazyoUYXaM02LarmSj4aIcMZymoEb9h/6hb5b+qIKAYViyaKjhTSSRAAP/7UsQGgAu8vUW49gAJg5mpJx7AAACMwCfYRk06tXB0E+gwmFzYmFjBwKnF6KQ+Uli92LrNgiYh/Yl7y+hxEqs5KuJqCp6/WL7T25L1s/5WbrLFXpv9LbTv6fjl9pVFR8/9m1rV9oSKNLSCgzUAAFCaZ8IWyLZUGOT05ly2p5GLUY1Wcn6LnVMK8VhXClgmYRIKQvO1odE7+TH1sovPIT9qPO+tYcJ7LVXX52nXzPnq8YIVVcbjcX5XZmt7T+7CvoOJCAqGv656SSCAAyjNU4Ti//tSxAUAC8C/TrjHgAFmpitDGHAADqc/JgiAYTNnlg5AvFwhhyHw15rRwJwQgM0L46f9ZWFIThYE1BlEjJz/nFonyr1ffqaKpP//93v6aUUHerzf6//9/q9/u0J5H8H3k0CERAqz5z4ahlf520mTZh2FC4p2hRNHoWcbk1ac5xg4xccOXZjxu5kxqZuNxLOFw0Y/mG9JYA8IAwDgz0/4kAsFollRu///8cLD5zMI7///+XGjCRGq//6aBO6Hyn////yFBekwlhQABiNZts7esfP/+1LEBwAL1QNkGGMAAXqVcHceYAL+5X7f0wMYdl4drsXlUKNb95n82yznlsVh+1zv6arpIwJateCs3m98mvLdtaSj27f/9+/+/ZZkzTUYJQMMcOZPISNrColYMO931Nb+d////27Xyff2/e222yRiwSCwEgH9BZD21ZRPnJu3CPFjuoWQJCqaeias+kdaCwSyAkGB1O3pbphHR12Ohu8Q0Q0Sxy/Ff/+m8Uh3xK7tUcD9dwNelwPh6ge6LHvwSuKTmVOjlbbZf/7f/rbbrbBoLf/7UsQGAAvY2YG4xYARcxao85hgABAGlCUktaWmzpQKjUr1XGsjMln0Lv1CQTjjG0ooLyDKYVhDe+68+eRbUkE/2RZfDScfJ7HK3u2d87reia+2v//9DpO7NWHOt3jBGfSfC0SwVT+pSgLFRAiLJkFA0isAoQBMIzgih24fi0lNHDZFHTa/glzcmvTHAqkqokdVF/1Vfzrlmmoo///9v7/8/1pu0zb6OpgBJWojQVY5Y2VMFQVKqBrubWhtoNHutYKu//61LBVgAAYO8NIdKVLa//tSxAYACnx7PyeYbgFFEeek9gx4ojos+MV2/YE+0NMBHSKJ8B8WhUiZYRfSsMu+yG93dQpgLCZ4UF3HzLHonS8qXEczYWj2p0rrOtXnnLlwm1qSoswCVGGL//8kWh7ipJQlRiKExSGIpNKhOBiWXAlVlglnC1S+xrXPsVTjwnI9pYuTm0yz1yzPCHWJtoYwVQPGiJoMveSIEyS3Rd37TV0FUD1JWpfQyaqs///JKiOWR3VXSRspFg6zLPp+xkiU6RP5QqA6UecCyHRCQQ88w1L/+1LEEQAKVINH55hsoUWPaHT0jSwx3eE6JYUxRFlT/utUFTHnnqYkcwUfSyISzo8oB3IYaCjTSk0X2uF9nFMZBlay15t039v08cbaSQHa2KoJUnWBLH8sqZ5smDBkvMFElk9Syb83M3Q7DhPkrqc+8qn91GEoGECAXXDoDcLJDj0uTalD1LvZVHqryKxkJKIrWoI0jhXqASnhKCYgDkD6yu4SgSAGQBKOwarBKfJKkxceOXbeySkxrG1ybUqoU1KVerSPpdAaJJjgE6//Dv3Ug//7UsQdAAlosSUHsGPBNRkdgGCM4DSQNPkwVIkYaEoClfy3/qfltCQYDIJq0iYSf52VBQWkfYf8/llUMDQ1a/kyw/svkatHIy/+wyZWB1D81DAwYZc7RWKN/WKPoBkSGgKKijf/SEhX2DGjxZAFCoo9ICFqTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",_0x495317="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAKDKUzNFSAAXsSq28ewAAgABQACTeQhCMSsQAAAAIooFCCGf//+c5zmjQIMXIxWK0ero29UQChxGAAEDFo29UFAJgmK26QIEDE5znOe1BGD8HxwPvEDgTP8Hz/93//w/a4wEAAAAAEhwySJSIrYENxVC3IuJILmM5InsAw8HNEwJ7kC1FzIxLNz9DM7JTw0i5KemK+0O0Xx3YYKx8uZr/5szEvvelKtA09AWeo2LCC8BFPA79ZYlqMoD8oz0HUqnakigCQCklKLILg//tSxAWAC7Spb7zxgBF6lKw09I1aL0ph0iNpxdreIdKUVj27+ggBwMMIFuQ4gOxOkYRf66RWLy3IDiUWAV6aELCJTYAouCA4tGEZMBscoaFhjgHBP9Rcgoz382itZ8FhJFnDpcMH/1GOAogAgApKQvRSl/R8UcqMELVvX1YQmBUAw8UjELAkfxZqmuYVVUljbMyl//sbGsZSampSkzMsakGFUgoCHrCRk6DRIOXhoj/PBI6HQ0sN+VGQ6CxKSDpIRWNCT//6qkORIiEAAAAl3UX/+1LEBQALXG1R57DDwX2M6nz0mRgs3jKR4HTGxLQhDFbZVVFxDJzyPmGEFbdffbx9uz0FGYGQhiB94nt3ayhiJwcIKaXUGDqQsQGTjWtkQuPJt76+kDFxOaqocwB460+zq9fu+p41ZiJEAiACXN2TWUKgM4SdQQD+IUwDJgegaC3IiHCEWJWRUSeNakm9GkZE4aiaRJHDqSqTCgZio4sKNUBmMIguYGijAXsShMWCREKNyJs28AkgCNfgN41b1irtOa//+moLsBUAAATw8RYFSv/7UsQFgAu4p0eHmRKBeqSqtpiAAQC+mUq1Gwl+lOl+jUywrzjDW3M00LnvBGXFlcmQSY9A7CKqQQNCeoikRNKiJqXrpFeeLLGlli4ueeYgIKBd63hdaggxAMHggKfKK/r6TPrp//+kWwpxoAAhSsD4VzA9XnY5k8+QnFBgeVFAGNAeBIEXDoPx7Rb9T9XfXFsUcXI15fv37d7e4SP/0SEhOO3sYkIiTL833G4wa098y/N73pSRFy9ChhAogogpcxRBhBtlvnVRFIAAGREm1oFt//tSxAUAC3k1YZj0AAF5j+kznoAE8CPDEzY1ddYb6MV1c1TRvVaDg849xwQPQfqgkOi2FTlPHzcHHHJeoxMwUklWuNvtL4+ir9UXXa2/r49V1Yb9/9JV/+11Nfz/6x//wkf+3XjXrDqYcAIyqOQV+cCCSJ0Js3jZTkQ0VerSQgfDBOl8Apgey0iKfSf2qvbdDLZpGxKqNGm1MzKqT0KNgVSnmAqfMPkZhqxMKPxiIvtJ0aUColDaJfQaHpQuwwQLogTRT8kqCiAIAAHAihjDLIT/+1LEBYALkHs5Z5hygV+OZqz2DZAfpPjrajyanNL2QbCMFKKZFyuUZwiUWAnBqijqsW+kfQHVqVapzBUaIfkPSTOgEYCooxaF6S5gUMTpgmM3KsLLaclgvZaBqDRJVRI2JXkv//kgJAESQGAuYuUpipQtqoJ6lGfmCaKlULpJD0+XwryGh+vFDCOBmh5ggLYiTHtcjjwHig2FGnjoLkYBKBUOhItDA0UhYOpfz3dDtKrbeTPRgG4sxRJn6f0dFZP/JHYUo0UgKMfKAY2InxpIkP/7UsQJAArofz+nsGdpWJSlsPYMuEhaaqDERT0sul1M0ugYic4kjBmkjWrmpF23vuUJFtUY7EIJA3La/Nf+/cqrdzOH7ff7jcH3Hve/vcrBQji6+VL+7O+dBwCQtEAIqyjOS4v5jPyQgdDkRUEbkwYlksj6VRxgaXNtss1deetYNEQGEnGM2Om7qZNmVKr6+kz7fzONGCkrkkCobm9iJsypfoTpm3qqvnBpWzaz/2+pyjLrNGylImSQQlxIewMHQTDUfioSicHw+iKYuQwpVq2J//tSxBAACky/NaewY+EyDiV09Ix4hp4yZmDdtPqlmKYTXNmkXjM1VUPUvvCLjGfzY73IssGyiRRI1x0qUm7353vrY5Cn2FnhJtuFBKRtpBGwhwmqpMUko0IQJMAkDQ2CIpBIhZSRPVQwikzRQqhlKMdUtS2DGqxRKgaWsFTorZUPSVpANblnXgrZXev+j1/6H///1RZAUYApVJdQmOhpohUAMTilgmwLEyZEoKLAJZGCWm4drNV2qkFEkRKIkCUY+1uzr7cs9XkP/+es/0FfsZ7/+1LEHoAISF8UJJhwgJ8AILAAjATsj4ircgBEEKKMyiS3LMtMtKsirttfahmmR//b3fUvq6tin9K//UzrAX/+MQpMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7UsRHg8AAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",_0x324372="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAKQN0s1BSAAWGXrrcSgAIAQABAOQAAX4xjgRt74QhDzXI0ekAoMFwAAAAwKHLisVk7CBAwmKwTJ5BcExWTo57UEaOe1CEM85znvhBG3P+EIQnv9Qh//CEIQ80CAEIf+CAYttttdjkiJaEjabbkgAY3JkEmFyJRgjbpQ2dC9uNOBEdjiAlNKBMPw7kfXsMNddBht+oglTwKV93BlWdDN2x78J/u//CxdGAMTm/J6soZn8xngm2RD8Hz8+rXRpEEgAkkqGokAEmwFDkH//tSxAgADCiBZ72kgBGAhm309hgyODHrS14oAQUafm6MAzN6HZTJZIiIibnaREqRiMjvahn9IGHd8sPEqqsbv7OfggQIEE5ATg+GHNQUcwPg+51PUkmD4Pg+Hv/WL1t8pxBcUBCH3Y3IiQiCkpMTYhQGgJHxkF4IhKjCUPStUcjKxVqjgEcSJBUGg7gyCuVUDT8FQViIFXSOVBUFQaAwNA1BoGgaBqdWCp34NB3xKJREeWCp1YKuVqBo9EQNA0EgaDs77NdlNSpDnUDCG3d8DcT/+1LEBQALzZtVtMOAAXifLbcegAJIigOgjA8lHE+WBPUpGB6fpChxcA0jRjUVDXLTJShqHvdXd6UqPFTFurzp7VroYeezr/Wmvd7Hnu6a90/q6TDzKU/r7GGMZ+ul/ajonX/3Zva36pLtxtxtpSONtKRSOCAQAQ3qM0P3a5e3gP2Se016LMkjT1F+ZEC6BvVotjeVxQCYuDecn46rEwA4Bw0Lqw5NXjtM8ysXv1+f708UGGOp8fN////+IwcGZZ9H//uAYfAY9T2hBuuU6uiOZ//7UsQEgAuIzUoY94ABeZwqP5hgAHqxcrRPy+7mnZziHi3SYVZcCQikqZE4jMUZoYhZQ6axrMUFibtImY7VMfenlNUhT6t1mZiY+269vnWf8628e43uC9t///r4+/muoTBZ/29p0S/6SWFNSIiAkAKSwAUdAJmAHDIeSENYhnZ0oqjO3xIJSYTgei73CaGtnu8uYrY16en/7u15r/cnvjPlS8bLf9qltzZb/t//jY1mWpIiSOLM0y1IwkDKZHHI6XJx8z///1o1eFRBIBYCAV+F//tSxAUACwEjUfTCgAGEJe03HoACgYl4PTguj8JRffPBYYSI52dxjQ+YAAIKDTupzqdaEH8+QhzMSejOjX2pO//yEyNO6Eb/f53seRv5N//tSjMmJFDIq6PHqAFtNrKej2YkblrbTYkbkjkbbMhAYAZ6zxxVGW1vGqNc07sPc1ezmCcaLGUETx0ovvcKOREIPADni4cB365bRkILh4KX/X+/PCUH5BVT/3W39P0e792//1/f9Fi54eVaV///////6CiH6GwAAAAAAQHI3zmIW6b/+1LEBoAL6NtWmPaAAW4bafeYUATxAzoIwpjmVprqGKgoccN0CnLpJGg9h6D4SwnJANq3DlF0TwLU7pGS9QgI2lBqRKvdFukmak5FHZ/8u6ZsXS7Utf/nTArMTg9nQMlla/oCoGEKFkA20Wi42U0FCGIoNrgqDrohF45LtB1VozojihRULUOlMPI6rOdVXIdFehDvM5GYxCEu53ZJk6EJQlk2faxivVEas9p1i5W4vDgtfbHxS2QODTIsOCUuPTf//6ICAAIADEOk8g/SGHSN0v/7UsQHAAus2T1nmG8Bbpum7PMN4HRbyck/QB9HCbrCtJZTAZvBQCEVCShpE0t11UoyU8bzkI4qqWxq6ItsjGT2rfhkSrNm8/M+aFmhlgj6FPssIXnbnfcwWNhtoRpcuYAX//1FUgpAASiWJw3AlJ2IW0pBXn8jk++cUNfH8zOREAxPiQkFSdEjLEiTc6jtLlHIwVSDM1hmZlKF17+zFmc9V9V29r/0u2rnPpiB7kMFwmGl9NQ7YLFgap56wl//6gQYAAYADmfpghSOunVwLcXE//tSxAiAClRbJyekyAD2Bx0ExJgakDVkQCoGAUEknIwDJFkkpIyyTkac2fzUZEqjwlOqBoGjxWDUQgrJLQIj1ZY8V4lARARRL6WiLlXNkJZcRP///+DQjhKQiNA3SoiB0ZBCaCakpOa4vNk40sEwTAQSYthkX0iyxUiAhfizMYLkcWFf4sK/qFiPWx31C7MVb1/1C9VMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=",_0x5cca47="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAKgN04tDWACWsgrrcYcAMAIAPoibmgGLNET0Nzd+xjGV/wxkksPBMabm9saN4CAIhMVJZPN7h7+K5ve++Xvv9lb3vg3Pv2MZTzRm973v2MZUpm5+Dc+kMH5j/AOgDo5+b//w/aRutxL3EpNpxkNCQAALCqUFBVusIxITFIWjoeICWi8JBLFRcfcAwSDlEoJx8dClyA3tXU0R0fHGNpfmIzvRk52rqj6s/0X+NhaTOW+hqLOnf+zIUJW/IFmsppgouSVClK+JCbIxj9//tSxAYACzD3TBj0AAGLE693GJACONRjyhTnC4A1BwUEMg5nlJp4u4kZTCkMSPaBPXaJBlHnB7Bj2b/UD7odcim50RfzwlclWiGHy5yzukpU08j6VC7Ja6kRiDreXWngYPaJW4tXs9ZKYzUnE2pEJB3ZLAsPBTzyZYoW11YYIxHJpikgMedyRkYHGlyap1uA5Ex5M3fnvEiZsnbbMrZK6vLvzrM8knqsz0pDhhoJEkWc/YxVkWsOYnJlwfD4esGHT3+j8qVVUAXShNhIRaZKolL/+1LEBYALmNNOGYeAAXAeKpcesADGJQt1FPvOzeCZQ/kOgOxPk6cbnBc4KGyw5q7qkmWIibfdv86SKGEGfPq+2dVz7/bFdsgP4X9rY+vj/EK24UJ9/rH////+I1sPpwKzXf1PigqgD/FDBhQqtNrRTM9WlibHygbmJzfsirIpmbWuzZVnjvP1dPiz1PMT6z2dnda3DYA8BMIc01ndW+ou8sMAIA0DdDvt8VPH+TD7Di6BMv/7///8dZ/E5cP/q8Hw9mXUAADsEEAABcAIk6Y9WP/7UsQHAAwQz1E5hIABe6Kpwx6wAIrZkTD3YeOD70hgFwI/CeYgMBT0SdgkCSnoy+q0qGfdK7L5YieREIZ3auOQj7BYBRzbAXxuPr78zoAVDLKrKHa//////sUimRoAnf+0sFajPqjSijiEsprzPMn4bnVD6EhqjULI+ihUPA64WeHsgzQpKh3PhnZRtG6zVSvvEgBYEA2QO4dTka/q84O0fmoExjZiHd1/LWJstNjoub6Y/uKqdEdi6R9reeHZ7j4///1Wckq6bbbW66avabTW//tSxAUAC6k3fbj1ABF7JWwnEoAAaPNgQtNICK9y2qGPEa1C6u44ZV8icwwQg4qywhB+LwFy557EcnMMdidt2kjqphISHofMo7sPPVrGL2trnn0q9P1b/fS1Lou/2zP97mpsVARH//tplqZEAEYAUACItAJaq+IbbJ0bM52jXkxzAndCrOOihicCohNCuYIAigByRixmPTYOgTSDGhY2vqPqYoXPuV+v//QgyVHpr81///7CiwcZolLX/H6///+eD5cHHI//6aqqkUEAAAAEJEv/+1LEBQALeQtpOMOAAYEzaauYUABEGODHwQPky5MrJz7H0AkGjR400gLAqNh1kSXEsHwwgpGrePCoaDh6UNX5rjxIdc3/5E0SyhMsRSo6rf6DZTj1elv0/5g1UwbjQ4aIqgd/yX5abgACA0XJAY8DU0HYFx4JhIJa0OA/ZoVjeIzAIZDCweMHSxoi91c5BQzlaQqHv0Ew4Q70FEZc7VbZG+keo91fX6o0733VbaLZ00O26M6STmIjm0T15P221f/1rr3/2rjUZKcICAA1acwzmP/7UsQFAAuct0eHmG1BYjNocMGKcIxbl9Qllem6jU8onrIDHAQkSPRTWXR6VEl7uvfA0X5rZRHJ+0VROfPy8zVeaN5mgzrKeGAXApsBmXpSDaixoaARS1g7kSwSKIGjVDVqX6Vf/+4klY4qkAIf0XioijqSgLMgSEo1TFk5UnjJUmydLqKtXSdsUbG5sui9Xvxo32NDMqeXnt/qvMotRyuQt/PvXKiP1rmXsjimP6+y6u+zV/ZE6y0+VUX/////qNUmZWIAgqtheCcAwZrwlBFK//tSxAgACmCzO4YMUUFIlab09gx8TbC9DjLB6erTlpc1goMz2NmcOBiyUkbyRvWNUzNjNoq+/uaz2YrqNeYM1CV9GHfOjXCwVm8S0liSXhZMLRa4Wf//6HLr/IiEYSSQqzbL4KUfAWFwhBMeBMVzIRvZMSSZP01a71mVSjM3ZmeWtPJf43cbMyfpfxj2jH1S7hmAqjqZGoixpUsVEU8dKhKR5WR5EqVXqRSqAMlKLJQRAipvQFApQ41UqFAYBCjCrquwoy4aiSBoqBXHSQmeREv/+1LEEwIItFMaxiBgQQWnGMhQD4g8WXqPRLaHflckR/iWyt1k7zsKv513ki2zeSnSPATxEAA1AMNEDkOioip/+qKqf//+qKqf/n+ysFBAg6GWygpUMvWSoZMstQ/1a2X2ChgYMEHBMaKizTQVFG4sK4qKC38XTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==",_0x5bf267="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAKaQEcFBQAAVYkMHcMcAL/AMbgABGKJzwiaJ8EChkigpU3oQKB+L2goKCiVy7wHANA8LAUBZRbkBwYWAICwxxd/kUMTcsXeBc+ETd4Fxe4RERHe9EMTSv0RJFDBoP+Xh//B8aer+/TNRis1GtBoMCD8LkEbxA8gv2WBYHJjgHEROezGHiQI6XsfG4rEcubaehlBEEhRIK0OQ62snHDEXp+hkmYjHDRlod/+yvW2v///seYXAYb//hlkYAiAABSBdBhSMDWnRRCAX6U//tSxAkADNExU72CgAlZDGpxh5hgqTWpna7PQZHo1HLwkYPAMLjVQJAKcw4cBAIUCh4pQ6KOxEFURhEoiNdzuZDJupVKWgl0cyE+T21VTui59/PKNPM58c7O+ifshEJ3kYtxdJ0zqw5RlYAFgEAAD4UIXIM0Bqc5UshPiBptXsqbYUiGD5JiKs0iipzcNIugcUqGJeklzVuULhh44XPsDB9BBrNAlQ1ArkmLbF3VQaKBOqfXV0JYYLDW2Qgn//+hMSSZSIIABSgqwwhYGJKiL6z/+1LECIAMmZtPtYKAAWofqcMwsABB7nejMrjr/TMolk/UACGB0YHjkKUXFVjWOjRchimRFOQcWRnmq6sQXHLajHdyMd2e1G2akl7NOr27exckium26XTS3f5b2bf8rq//2/tbZFXf/jkcrQ0uEqKN5K6Oltx5l+Vu1yRyM3YT4aS7qt6adEjyx1UeeQpMD2G8srpZ8VZMDwsWDe1sRM3X9Ga4IA+Ewr////9dcbDgIhiCf//z///mq5pDSedPstKf71oVgwQA8wAAAA0AA1XkW//7UsQGgAwo51c5hYABbouom7CQAPbZZSRqKuS6NJnKYvZilDIQyM9meYikeafiVSVJML1+ZUJJgmokbJHopp3hrJqfUWND0tNYl26fqoUXXVJLj1uh0dR/H0xa2Vy1x4xJQF8uYexKo5iAII8kYKlhllt1lVO6zhWmeNu+r9MtkEFz4+TgcRG29Y1RV9sRjP5iqr6YljwZAYNPBuRfPkBO0Ai6CbACbEIndE4o2kci2wwtpGz16yWsHkuGUn1oDn+r8sfaS2dRRQESScYngnxe//tSxAYAC4BrS6ewZwGJnml+nlAAynKM8BJBvkNAMA7O1BcQka/mzO4aVRyN6nbasymxAaiY7mFIqA6ISAoYOoaFG1ihASrPmTdaCyxKLhAKFQYcGD4rGpZoVANI+5ymv2V//5EUlkREIzIjZFxP0IknBKjROFDh9JRtjKqElVRAVzOEBRhomPFjM7nYiIcTISpzmscogMIS7nad0IhhxplpY1mu6/ftsRp/7v/7ucNGig0FiSgQm0PIDBcWFllHsGIWAnf//TX+v/v8BdUEDsD/+1LEBIALSStdOMQACYCgr/cecAIhrXVoe01en5EJ2xq7udDwJ2BY8CJaF5QNBcO2rUVWjBt0PTub/BeLMe/y9x/92kni7UlfMN/+kXyWPh4iYv7/jf25tpPjn///r6+PrM9WcQIsllttktrkksgbDAtEAFAm1upxSnQcEFxKujmoGnS06EwiiASzheJAPhSg2GxY0sawwLjyhMdOTFxovHjdfeceXEULGEjXMT/Y1DBqcnT/0dEohdv//xacaNQyom4DK/0qAZg4QlmkDtBxaP/7UsQFAAtobUA9hIABVY8n4PeYMPDaE1Jp80JSgysUWdWHMG7FDI6TBAqSpVGDFtWnKknomqR3G689cnRMJGw2EcJzQ+wu2WyzltfGWoWYGGA2MF6RWeKXF4qKmoleBSZxQX//+sH2QIWBQl7KM4mIM413iKCUMJuluR90YvMtEAqF3Y0iFEt8omvNzKHmWbJd5OpErJKs3kQmdEUieSWxwhaPPDAZdKuQva5SmABr8YqVtHNCTehyWzNdMbrlaKsoIDMDAeBIwDUlDyLB/Xk0//tSxAqACdxTRYYYbmFFk+hw8w2kKTlfBUSRSQGCkYhNmZtVeRUYUZIa46CTGirqVRtEsFLyUuwKDys6l+dMi2KFTHTI4iigGDxQZ3rbGBfO6Nvr4YSIxVSVhdU4cJ7I9mOpPnCsHUSsAsRkCJOiqkfVEZOKkowaxjXSxj6UXPql+zayWt0TR8qtTydORTnsjvYsSVxdOdUkil4YKiZdepUH1RwlNbLAcgaKJyIpVBIrgyuDAnTDMg0dQqQZ1CM4kUFCipMEbhJX76UTY/qVqL//+1LEGAAKODc/hiRm6UWHJnD2GNnye55tTaLvsNoBySlSzneLWtvj//99+7PzuWv85o19rW5sCJRIgA13AGElAQ4UafqiTkDJMF5ijJsR8STgiDHhjrVR6ySWUkxMci+ov4Irej8vswk4l2aUSyzJRx0LH/77bfPO17qZdk/qja8KZ/8j/t/qKgHC2iAF1QBCQiQXppI5ZA8SxaWQqEEkJyLGTToweRJSYtS6BEpUSVlRVL1Rcexc6GF8Fv2dtFprh3ZfxJ1pt/5xOW/ZP8n53//7UsQkAAmkOS+HsMUJSo8kpYYYaPj+n+/+BLUADygDCS0QtNZhNKiGYDI/EgtkU3WC49PiRpQGUepcKXmzUs7w+bm5rS27KtzLRotgdOnTow0LgsLFhLY4ysaLzCEJuQmJ+5C//op98r//1DoBVpCrgRGuQk0GWtqBMYoSVKSIUgmmGTIEyrKUmVlMjInQdKV5YTKatrkZZeVLI03lwZwfOpCLq7v+f/T+ma9X///SAYqJEFAdGjS+jF2UOgmo5SZjpRZ5SKSBZ0m6VldLDI4F//tSxDIACFybIywYY8EIjeOdgwx48eakM4JaHCPQMgB8aTGEQI9lHb/s1p+jNPu6Otlbf//pI0mYuQAqDqaImZjUgx6ZA/QgtHRRdmYlAMBYBkAugWAcEykKiJm5u9Z12eb7aForiFE4nufci5GrVZzFniXsF0Jd5OSAAWC2hqQkKUzjyGAxF2IDrIEkC5Ol0o6GbiDyZxrwXEgESYJQ0heNdO3a6d+tiMry38NdbpIRVjXcNLDXyv2V1MYNMIqE9ASA0mkkSSyVACEhJ1kVAyD/+1LETYMIiDcSJ6TCgREJIQj0mEhI0adaOEoJFjTnRxmJWo7UREkSrDTxKCqzKw0JXNvLB0SmTpt4aH1yP//////3BPJFRo86GiTQdWAhkACSoABCSLoq3QASLVYzMyr+zMGXUm4zVVVVL/Veqqsx7Nk0bKf/+vQp0RPDoKqBo3Dankf/////+Gg77Cp0FQ0C2JQVDtUIAAAJM7cbQOmILSmuPHFFGIGkgBSbzVo7EJFDJAKBUyMEi0SVovJ1o08qROhUBESR5ykEQkPQnCacJf/7UsRnAQlwVvYGGMcBGpQcqJMMGFsin9jf/////9VZF1bIqkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq//tSxHuDyTRCmwzowwAAADSAAAAEqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqo=",_0x4f4369="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAI9HMsdBMAAaQdrrcY8AIAAAC2MbgAADkAAAQXe/3d3GezyZNNgcLJk77RBO9ggQIIOQIIHN4gBB0hz5QEHYIAgGHiAEAwJAQ4IAg7/y7/5c////BBwIfXVZKN2RMtmNtFIwQAAwHonl5QsUAbBuCTYkGb77ixE2Mi6hwFuZPq+1UO3Hv4b+PCevhTsTvIj+94mlapXG+nld3+rZ+Nfda4jZ/+/77+8Uhf2/z/ffpfN70p9/wcVxbGv5gsKvn//Jr/pOTIuSgJuW4A//tSxAUAC8zTX7mFgAF1JG43EoAAICAABkNDTMzZs/JIctA1l3m6OInGr1S6WM3ZuH4J9zQ7RFHcbDdBoitA7Sweoh31vA8uV2apIxN8u8bUumnWxfMMi74mLbBsbf///+Si5sJSx3/ALgkUikDgiDYUCYDAZAEskwoskyciHnfTYkKDquBoAexF7QLoLjFG1N1QiuDc0lGq0pwBwcBWHZhTr/f+wgForPcT//f5BrQffrE03//7HyW/cTG23////8LfoY5vReqwwAACAm9wSjf/+1LEBQALuGNZvYSACXsSavT0jSiS6/cHvDkw5wpmQO9LqZ3oGl0aFKFkKmE1DUotS2mltV33GMPu1JFL0IMv/4pQUFNkcu2Cjf+9/+EdCCgp/9d+Xwkv/l/guIqEFPhBS7/KHZfz4ur/+4S3CE5N6F3su6FocQs7VCWxFIAkNmTIkklmrlRynQkrqjg5srhKekr5Z36cMpTN3jwnA4IoGoWGn4GEBMEBp9YsVCIWDBMzDGw+GGsdQNGUgQkXAhcECG8If//5NVrLECCAACpAFf/7UsQEgAuQcU2npMqJbyVqPPCKuCTYY6ycRinSjDTO45UaVDKzIc2LYHkMSvRqJ/dntDI21PfY3UoLSIE6nUpfA1VaVCpxKnXn5dsJNO0lmaWx/nylCiJLrnzmeU4jAkWNq8fu//+llVmERzIyILad0RZ6RiaoeYZ0JM/EMlYVBZTpNUXjRnjW+1TE9sxtk0IPCRk0QgCkIyjUQwzO/UoToUifu0dhJoQBHGEvYVTOqISZwkancB+LGdBLxZT4C3mf//tVAcKgIACg4KQTIhm2//tSxAYAC0ifQYYYcQGBm+finoAAIAjB0jFJUVg0O4YyK2rPXiwDqKJ6xtWU8+DNZP7f03R6Vy8dozG8+NeVV2YypC2oeRJ3mhRgWFQoFSKXq7RqB52fF9wHCF2lqZxTv//kg6xQEIwQ3ohrMx/rylR8c/Vt65aaWhjEOJDwAOMQqSYei2HC8HUrkIilHCUohlHqMouL7q1iIaITSd494lbq445VFnRWUaUWwraj0UqkGg4A7IxxyceOqUXPgRGR///8knFYbVSLCwKRWIAgAgD/+1LEBoAMMOVhuJWAAWGNKj+ekAAHark7uTZI8Y3BQSElzY2AmFR2GWiAwWHj7I3s2D2CfKVjy9dy7BFGsdhccgvWa3r+HvvPHKdMbuuet5oyWvNIpzuYv/69ImJon2PvX/LgUBgkA1GUWFMBQAAABATBqDTLkTRChbCWFzJkmVM0JGJVdy3kisLGSZEhTatbrb5SyaHoVipRGjMtEtJsAUJEn9T6aJ7FhZQsHgKKGgZCqfoKxEIgaf0LnmEYkGXqLw84HAAD9WEsK4yk0FYlB//7UsQHgApknUWHsGPBUAwodMMNyUIwisFgKrkxcS1xUq4W3WHz46MOAO6jGaZSyKwJYbMq/kzkk0y2u5JcHQhH3MHOACibNJZKFJuV6rLdCQ6pkmoQuFLFEytOEJANtOAAqh4Iz4QQOl9IEp8ThOgPyueFTWGiXXSDCYLyRQ97xbmxDU22/t6U4o3gbt5k/2Zdq0fXva11z/1Q/edmmv18H7c56zKo7jdFNjezKmdW40QE421AxCxrgmwhkIVOlhQeC0fS2H5LlEh/RpYc94uG//tSxBGAClSnP6ewY8FEGOf0ww3c9Ip3QLTlUsRXezErwrFhv4ZzszPSHNlByqwrF6xi3oQWF/Wq7R1QYB1ISF54di9Se8riaRcKJIA2OwHyQfjSE49xjEwTmxujEtDZcDLPCj0jZWnszBhjachEXoTXIH214/UR7JJlS/jG/r2ufT3MvYMuSHvhO/Ef3oXanbqPBS5FitrcbffSoAYRTEiRFwPB8H0ZnzRo+jEYfEJxLWMCVTKRfyUUYpr/NNLAWMR3mNd9c+wkrmv8L0ls9/v/+1LEHYAKSEdLhiTI+TwUJnDEjV2+jFzj+Kct7tNfOpNzJP99Xc7f8fy//sN26xEN+iAlK4RBcXrnh2GAii15UDwqXD6yKSzWtNMqqoCFVVgJpIxsJEjJtGYTCIlLLc9VJO51jgo6+72r2C1/CKf7rfjqs02NG+bWs97VAVpFJ6AH4dh2DO7piesMrR1HUmk09goFBQUFIjZxpRIkSJpv920iItHGlV6WZ5mZ7bSSs6LTwIDSQQExsktyoKnXD1LWLKNo39Fmvq1tX///WABKgf/7UsQqgAo0nSUmGG0BKZAjpMMOQGoAA0piQWsTLrNnx8uQx1EF2ToqrWDoyXNshKWyaAqcYuMxkqyqt/aKRysoNiLUKGnSwdUbWE+Ik32nUfrd5DV/YqnZ/R/rGEaw3S8pNFRSgJYEQamS4DBWHErBQliSVEtNRYGhMFQ0DWCsOhtZ0lBoS1hu7WdYhfQJS2dz0q4sJXWiLiI9WCuDUO2W/3/p4lJERG2VkQqRBZhERNUifzCu1VXZvCiQEBQFLVPBXSddDS4KlQV0aMFXZLnq//tSxDqDSTBDDgekwwEWiZ4EkI2QgaBp6hEeO2509BVYKyrqtbt3Ep3f7DpENw6qTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr/+1LEUIPAAAGkAAAAIAAANIAAAASqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==",_0x59f610=_0x4682;(function(lr,cr){const ar=_0x4682,or=lr();for(;[];)try{if(parseInt(ar(525))/1*(-parseInt(ar(405))/2)+parseInt(ar(430))/3+parseInt(ar(479))/4+parseInt(ar(504))/5+parseInt(ar(489))/6*(parseInt(ar(420))/7)+-parseInt(ar(484))/8+-parseInt(ar(507))/9===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x40d5,696121);function _0x4682(lr,cr){const ar=_0x40d5();return _0x4682=function(or,ur){return or=or-396,ar[or]},_0x4682(lr,cr)}function _0x40d5(){const lr=["#keyToggle","getAttribute","cors_query","keyupHandler","visible","AudioContext is not initialized.","getElementById","arrayBuffer","showJoystick","6px","remove","#keyboardContainer","code","isQuest","474547jxkAuj","reset","&#x25BD;","parse_hidden_input","is_loading","destination","#toggle-keyboard","getValue","data-code",".layerA","2sNtNma","none","classList","&#x25B3;","gui_type8","buffer","#keyShift","charCodeAt","updateMode","gui_type5",".nostrip","gui_type2","active","display","then","1435133wVNISH","keyboardVisible","#keyboard","QWERTY","error","keyup","Shift","removeEventListener","shiftKey","initButtons","713010VpjWvR","addEventListener","hidden","style","querySelector","keyCode","keysDown","initAudioContext","showTouchKeyboard","bind",".key","STRIP","querySelectorAll","keyboardStrip","Failed to initialize AudioContext:","gui_type3","ShiftRight","which","map","hideTouchKeyboard","audioBuffers","resume","gui_type4","CURRENT_SCREEN","all","gui_type7",".layerB","audioFiles","keyboardQwerty","settings","catch","createBufferSource","gui_type1","keyupHandlerBound","paddingTop","Error loading audio file ","webkitAudioContext",".xx","keydown","State",".kbCtrl","visibility","decodeAudioData","toggle-keyboard","0px","MORE","loadAllAudioFiles","gui_type6","target","375636jFUlRZ","clicks_on","input","touchend","Layer","789080MhdKdX","type","#kbCtrlClear","showMousepad","add","36GyTzVu","forEach","audioMap","keydownHandler","#kbCtrlArrow","innerHTML","cors_hidden_input","touchstart","contains","audioContext","playSound","isDesktop","connect","click","keydownHandlerBound","3906575JSrDAh","Escape","SYSKB","9663345SAJvOm","Mode",".layerC","dispatchEvent"];return _0x40d5=function(){return lr},_0x40d5()}var Jo,Ga,No,X0,o0,xx,s0,c0,u0,px,_x,vx,lu,Gf,fu,$f,hu,Qf,du,Xf,xu,Jf,ho,Po;const ka=class ka{constructor(cr){mi(this,lu);mi(this,fu);mi(this,hu);mi(this,du);mi(this,xu);mi(this,ho);mi(this,Jo,void 0);mi(this,Ga,void 0);mi(this,No,void 0);mi(this,X0,![]);mi(this,o0,void 0);Ea(this,"audioContext");Ea(this,xx,{});mi(this,s0,void 0);mi(this,c0,void 0);mi(this,u0,void 0);const ar=_0x59f610;Ci(this,No,cr),this[ar(436)]={},this[ar(457)]={gui_type1:_0x498eb8,gui_type2:_0x3f5a92,gui_type3:_0x2b6b4b,gui_type4:_0x495317,gui_type5:_0x324372,gui_type6:_0x5cca47,gui_type7:_0x5bf267,gui_type8:_0x4f4369},this.audioMap={Digit1:ar(452),Digit2:"gui_type5",Digit3:"gui_type6",Digit4:ar(455),Digit5:ar(409),Digit6:ar(462),Digit7:ar(452),Digit8:ar(414),Digit9:"gui_type6",Digit0:"gui_type7",KeyA:ar(462),KeyB:"gui_type6",KeyC:"gui_type4",KeyD:ar(414),KeyE:ar(414),KeyF:ar(477),KeyG:ar(455),KeyH:"gui_type8",KeyI:ar(452),KeyJ:ar(462),KeyK:ar(452),KeyL:"gui_type5",KeyM:ar(409),KeyN:ar(455),KeyO:ar(414),KeyP:"gui_type6",KeyQ:ar(462),KeyR:"gui_type6",KeyS:ar(452),KeyT:ar(455),KeyU:ar(462),KeyW:ar(452),KeyV:"gui_type5",KeyX:ar(462),KeyY:ar(409),KeyZ:ar(409),Space:ar(462),Enter:ar(445),Escape:"gui_type2",Backquote:ar(462),Minus:ar(462),Equal:ar(452),Backspace:ar(416),Tab:ar(416),CapsLock:ar(445),BracketLeft:ar(455),BracketRight:"gui_type8",Backslash:ar(462),Semicolon:"gui_type6",Quote:ar(455),Comma:"gui_type1",Period:"gui_type4",Slash:ar(414),ArrowUp:ar(462),ArrowLeft:ar(452),ArrowRight:ar(477),ArrowDown:ar(414),Shift:"gui_type3"},this.initAudioContext(),Ci(this,Jo,ka[ar(508)][ar(423)]),this[ar(503)]=this[ar(492)][ar(439)](this),this.keyupHandlerBound=this.keyupHandler[ar(439)](this),Ci(this,s0,Pi(this,fu,$f)[ar(439)](this)),Ci(this,c0,Pi(this,du,Xf)[ar(439)](this)),Ci(this,u0,Pi(this,hu,Qf)[ar(439)](this)),Pi(this,lu,Gf).call(this),Pi(this,xu,Jf).call(this),document[ar(442)](ar(470)).forEach(ur=>{const fr=ar;ur[fr(433)][fr(464)]=fr(474)})}[(xx=_0x59f610(450),px=_0x59f610(469),_x=_0x59f610(508),vx=_0x59f610(483),_0x59f610(429))](){const cr=_0x59f610;createGuiButton(cr(473),"Show Keyboard","Kb",()=>{this.initAudioContext(),setTimeout(()=>{this.showTouchKeyboard()},50)},!![],cr(467),cr(459))}[_0x59f610(480)](){const cr=_0x59f610;document[cr(431)](cr(468),this[cr(503)]),document[cr(431)](cr(425),this[cr(463)])}clicks_off(){const cr=_0x59f610;document.removeEventListener(cr(468),this[cr(503)]),document[cr(427)](cr(425),this[cr(463)])}[_0x59f610(437)](){const cr=_0x59f610;if(!Lr(this,X0))try{this.audioContext=new(window.AudioContext||window[cr(466)]),this[cr(476)](),Ci(this,X0,!![])}catch(ar){console[cr(424)](cr(444),ar)}}async loadAllAudioFiles(){const cr=_0x59f610,ar=Object.entries(this.audioFiles)[cr(448)](([or,ur])=>fetch(ur)[cr(419)](fr=>fr[cr(518)]())[cr(419)](fr=>this[cr(498)][cr(472)](fr))[cr(419)](fr=>{const dr=cr;this[dr(450)][or]=fr})[cr(460)](fr=>console[cr(424)](cr(465)+or+":",fr)));await Promise[cr(454)](ar)}[_0x59f610(499)](cr){const ar=_0x59f610;if(!Lr(this,o0)){if(!this.audioContext){console[ar(424)](ar(516));return}this[ar(498)].state==="suspended"?this[ar(498)][ar(451)]()[ar(419)](()=>{this.playSoundHelper(cr)})[ar(460)](or=>{console[ar(424)]("Error resuming AudioContext:",or)}):this.playSoundHelper(cr)}}playSoundHelper(cr){const ar=_0x59f610,or=this[ar(491)][cr],ur=this[ar(450)][or];if(ur){const fr=this.audioContext[ar(461)]();fr[ar(410)]=ur,fr[ar(501)](this[ar(498)][ar(400)]),fr.start(0)}}keydownHandler(cr){const ar=_0x59f610;EnvironmentManager[ar(500)]()&&(s$1("div#keyboardContainer").style[ar(418)]=ar(406)),!this[ar(436)][cr.code]&&(this[ar(436)][cr.code]=!![],this[ar(499)](cr[ar(523)]))}[_0x59f610(514)](cr){const ar=_0x59f610;this[ar(436)][cr[ar(523)]]=![]}[_0x59f610(413)](cr){const ar=_0x59f610;switch(cr){case VME[ar(453)].MENU:Ci(this,o0,![]),document.querySelector(ar(422))[ar(431)](ar(502),Lr(this,s0));break;case VME[ar(453)].EMULATION:Ci(this,o0,!![]),document[ar(434)](ar(422))[ar(427)](ar(502),Lr(this,s0)),document[ar(434)](ar(422))[ar(431)](ar(496),Lr(this,c0)),document.querySelector("#keyboard").addEventListener(ar(482),Lr(this,c0)),document[ar(434)](ar(486))[ar(431)](ar(496),Lr(this,u0)),document[ar(434)](ar(486))[ar(431)](ar(482),Lr(this,u0));break}}toggleTouchKeyboard(){const cr=_0x59f610;s$1(cr(522))[cr(407)].contains(cr(515))?this.hideTouchKeyboard():StorageManager[cr(402)](cr(506))=="1"||EnvironmentManager[cr(524)]()?document[cr(517)](cr(495)).focus():this[cr(438)]()}[_0x59f610(438)](){const cr=_0x59f610,ar=document.querySelector(cr(401));ar[cr(433)][cr(471)]="hidden",document.querySelectorAll(".kbCtrl")[cr(490)](ur=>{const fr=cr;ur.style.paddingTop=fr(520)}),s$1(cr(522))[cr(407)][cr(488)](cr(515))}[_0x59f610(449)](){const cr=_0x59f610;UiManager[cr(421)]=![],UiManager.mousepadVisible?UiManager[cr(487)]():UiManager[cr(519)](),document[cr(442)](cr(470)).forEach(ur=>{const fr=cr;ur[fr(433)].paddingTop="0px"}),s$1(cr(522))[cr(407)][cr(521)](cr(515));const or=document.querySelector(cr(401));or[cr(433)][cr(471)]=cr(515)}};Jo=new WeakMap,Ga=new WeakMap,No=new WeakMap,X0=new WeakMap,o0=new WeakMap,s0=new WeakMap,c0=new WeakMap,u0=new WeakMap,lu=new WeakSet,Gf=function(){const cr=_0x59f610;Ci(this,Ga,ka[cr(483)].A),document[cr(434)](cr(493)).addEventListener(cr(502),ar=>{const or=cr;Lr(this,Jo)==ka.Mode.QWERTY?(Ci(this,Jo,ka.Mode[or(441)]),s$1(or(422))[or(407)].remove(or(458)),s$1(or(422))[or(407)].add(or(443)),s$1("#kbCtrlArrow").innerHTML=or(408),document[or(442)](or(404)).forEach(function(ur){const fr=or;ur[fr(433)][fr(471)]=fr(515)}),document[or(442)](or(456)).forEach(function(ur){const fr=or;ur[fr(433)][fr(471)]="visible"}),document[or(442)](or(509)).forEach(function(ur){const fr=or;ur[fr(433)][fr(471)]=fr(515)}),document[or(442)](".nostrip")[or(490)](function(ur){const fr=or;ur[fr(433)][fr(418)]="none"})):Lr(this,Jo)==ka[or(508)][or(441)]&&(Ci(this,Jo,ka.Mode[or(423)]),s$1(or(422))[or(407)][or(521)](or(443)),s$1(or(422))[or(407)][or(488)](or(458)),s$1(or(493))[or(494)]=or(397),Ci(this,Ga,ka[or(483)].A),document[or(442)](".layerB")[or(490)](function(ur){const fr=or;ur[fr(433)].visibility=fr(432)}),document.querySelectorAll(or(509))[or(490)](function(ur){const fr=or;ur[fr(433)][fr(471)]=fr(432)}),document[or(442)](or(404))[or(490)](function(ur){const fr=or;ur[fr(433)][fr(471)]=fr(515)}),document.querySelectorAll(or(415))[or(490)](function(ur){const fr=or;ur[fr(433)][fr(418)]="block"}))}),document[cr(434)]("#kbCtrlClear")[cr(431)]("click",ar=>{const or=cr;!Lr(this,No)[or(399)]()&&Lr(this,No)[or(396)]()}),document[cr(434)]("#kbCtrlCross")[cr(431)]("click",ar=>{this[cr(449)]()}),document[cr(434)]("#keyShift")[cr(431)]("click",ar=>{const or=cr;Lr(this,Ga)==ka[or(483)].A||(Lr(this,Ga)==ka[or(483)].B?(Ci(this,Ga,ka.Layer.C),document[or(442)](or(456)).forEach(function(ur){const fr=or;ur[fr(433)].visibility=fr(432)}),document.querySelectorAll(or(509))[or(490)](function(ur){const fr=or;ur[fr(433)].visibility=fr(515)})):Lr(this,Ga)==ka[or(483)].C&&(Ci(this,Ga,ka[or(483)].B),document[or(442)](".layerC")[or(490)](function(ur){const fr=or;ur.style.visibility=fr(432)}),document.querySelectorAll(".layerB")[or(490)](function(ur){const fr=or;ur[fr(433)].visibility=fr(515)})))}),document[cr(434)](cr(511))[cr(431)](cr(502),ar=>{const or=cr;Lr(this,Ga)==ka.Layer.A?(document.querySelector("#keyShift")[or(494)]=or(475),Ci(this,Ga,ka[or(483)].B),document[or(442)](".layerA")[or(490)](function(ur){const fr=or;ur[fr(433)][fr(471)]="hidden"}),document.querySelectorAll(or(509)).forEach(function(ur){const fr=or;ur.style[fr(471)]=fr(432)}),document[or(442)](or(456))[or(490)](function(ur){const fr=or;ur[fr(433)].visibility=fr(515)})):Lr(this,Ga)==ka[or(483)].B&&(Ci(this,Ga,ka[or(483)].A),document.querySelector(or(411))[or(494)]="CAPS",document[or(442)](or(456))[or(490)](function(ur){const fr=or;ur[fr(433)][fr(471)]=fr(432)}),document.querySelectorAll(or(509))[or(490)](function(ur){const fr=or;ur[fr(433)][fr(471)]=fr(432)}),document[or(442)](or(404)).forEach(function(ur){const fr=or;ur[fr(433)][fr(471)]=fr(515)}))}),document.querySelectorAll(cr(440))[cr(490)](function(ar){const or=cr;ar[or(431)](or(496),function(){const ur=or;ar[ur(407)][ur(488)]("active")}),ar[or(431)]("touchend",function(){const ur=or;ar[ur(407)][ur(521)](ur(417))}),ar[or(431)]("touchcancel",function(){const ur=or;ar[ur(407)][ur(521)]("active")})})},fu=new WeakSet,$f=function(cr){const ar=_0x59f610,or=cr[ar(478)];if(or.classList[ar(497)]("key")){const ur=or.getAttribute("data-value"),fr=or[ar(512)]("data-code");this.playSound(fr),!Lr(this,No)[ar(399)]()&&Lr(this,No).process_input(ur)}},hu=new WeakSet,Qf=function(cr){const ar=_0x59f610,or=cr[ar(485)];or==ar(496)?Pi(this,ho,Po).call(this,ar(505),ar(505),ar(468)):or==ar(482)&&Pi(this,ho,Po).call(this,ar(505),ar(505),ar(425))},du=new WeakSet,Xf=function(cr){const ar=_0x59f610,or=cr[ar(485)],ur=cr[ar(478)],fr=ur[ar(512)]("data-value"),dr=ur[ar(512)](ar(403));ur[ar(512)]("data-shift")?or==ar(496)?(Pi(this,ho,Po).call(this,"Shift",ar(446),ar(468),{keyCode:16,which:16,shiftKey:!![],location:2}),Pi(this,ho,Po).call(this,fr,dr,ar(468),{shiftKey:!![],location:2})):or=="touchend"&&(Pi(this,ho,Po).call(this,ar(426),"ShiftRight",ar(425),{keyCode:16,which:16,shiftKey:!![],location:2}),Pi(this,ho,Po).call(this,fr,dr,"keyup",{shiftKey:!![],location:2})):or==ar(496)?Pi(this,ho,Po).call(this,fr,dr,ar(468)):or==ar(482)&&Pi(this,ho,Po).call(this,fr,dr,"keyup")},xu=new WeakSet,Jf=function(){const cr=_0x59f610;let ar=this;document[cr(517)](cr(495))[cr(431)](cr(481),function(or){const ur=cr;var fr=document[ur(517)](ur(513));fr.textContent=this.value,Lr(ar,No)[ur(398)]()})},ho=new WeakSet,Po=function(cr,ar,or,ur={}){const fr=_0x59f610,dr=new KeyboardEvent(or,{key:cr,code:ar,keyCode:ur[fr(435)]||cr.charCodeAt(0),which:ur[fr(447)]||cr[fr(412)](0),shiftKey:ur[fr(428)]||![],location:ur.location||0,bubbles:!![],cancelable:!![]});document[fr(510)](dr)},Ea(ka,px,{OFF:0,ON:1}),Ea(ka,_x,{STRIP:0,QWERTY:1}),Ea(ka,vx,{A:0,B:1,C:2});let KeyboardManager=ka;var _0x5457e4=_0x2585;(function(lr,cr){for(var ar=_0x2585,or=lr();[];)try{var ur=parseInt(ar(406))/1+-parseInt(ar(407))/2*(parseInt(ar(403))/3)+-parseInt(ar(401))/4+-parseInt(ar(396))/5+-parseInt(ar(397))/6+parseInt(ar(395))/7*(-parseInt(ar(400))/8)+parseInt(ar(408))/9;if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x59ff,199358);function _0x2585(lr,cr){var ar=_0x59ff();return _0x2585=function(or,ur){or=or-395;var fr=ar[or];return fr},_0x2585(lr,cr)}function _0x59ff(){var lr=["63yHwdQg","281685PCOpBP","2163486udoumh","help","process_input","38856GWonCB","570840kZrmCY","print_help","48RQRxBl","get_keywords","cli","104771OdKOhQ","13206Sabqzj","7232184KXDbmi"];return _0x59ff=function(){return lr},_0x59ff()}class HelpCommand extends CommandBase{[_0x5457e4(404)](){var cr=_0x5457e4;return[cr(398)]}get_help(){var cr=_0x5457e4;return[cr(398),"show available commands"]}[_0x5457e4(399)](cr){var ar=_0x5457e4;this[ar(405)][ar(402)]()}}const _0x2f6f5b=_0x32df;(function(lr,cr){const ar=_0x32df,or=lr();for(;[];)try{if(parseInt(ar(296))/1*(parseInt(ar(292))/2)+-parseInt(ar(308))/3*(-parseInt(ar(295))/4)+-parseInt(ar(282))/5*(-parseInt(ar(283))/6)+-parseInt(ar(287))/7+parseInt(ar(307))/8+parseInt(ar(293))/9+-parseInt(ar(300))/10===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x1a1d,717489);function _0x1a1d(){const lr=["length","filter","sys","sys [FILTER]","localeCompare","5nCJVDg","3731646jlneOa","toLowerCase","switch to system [FILTER]","entries","1382150llefGZ","process_selection","get_help","includes"," - ","77124KWoYIl","4632255IaJOav","values","94088GbqEzO","19pcoenY","map","setSelectedPlatform","set_loading","12103190dAfJHg","is_selection_enabled","updatePlatform","cli","get_keywords","platform_id","short_name","730320BBeFZm","21OibHFo","process_input","platform_name"];return _0x1a1d=function(){return lr},_0x1a1d()}function _0x32df(lr,cr){const ar=_0x1a1d();return _0x32df=function(or,ur){return or=or-279,ar[or]},_0x32df(lr,cr)}var l0;class SystemCommand extends CommandBase{constructor(ar){super();mi(this,l0,void 0);Ci(this,l0,ar)}[_0x2f6f5b(304)](){return[_0x2f6f5b(279)]}[_0x2f6f5b(289)](){const ar=_0x2f6f5b;return[ar(280),ar(285)]}[_0x2f6f5b(309)](ar){const or=_0x2f6f5b;let ur=[];var fr=ar.filter(Boolean);fr[or(311)]==0?ur=Object[or(286)](SelectedPlatforms):ur=Object[or(286)](SelectedPlatforms)[or(312)](pr=>{const br=or;return pr[0][br(284)]()[br(290)](fr[0][br(284)]())||pr[1].platform_name.toLowerCase().includes(fr[0][br(284)]())}),ur.sort((pr,br)=>pr[1][or(310)][or(281)](br[1][or(310)]));let dr=ur[or(297)](pr=>{const br=or;return{id:pr[1][br(305)],label:pr[1][br(306)]+br(291)+pr[1][br(310)],data:pr[1][br(305)]}});this.show_results(dr)}[_0x2f6f5b(301)](){return!![]}[_0x2f6f5b(288)](ar){const or=_0x2f6f5b;this[or(303)][or(299)](!![]);let ur=Object[or(294)](SelectedPlatforms).find(fr=>fr[or(305)]===ar.id);Lr(this,l0)[or(298)](ur),this[or(303)].reset(),Lr(this,l0)[or(302)]()}}l0=new WeakMap;const _0x81a1db=_0x51f4;function _0x51f4(lr,cr){const ar=_0x5e86();return _0x51f4=function(or,ur){return or=or-309,ar[or]},_0x51f4(lr,cr)}(function(lr,cr){const ar=_0x51f4,or=lr();for(;[];)try{if(parseInt(ar(334))/1+parseInt(ar(326))/2+parseInt(ar(339))/3*(-parseInt(ar(335))/4)+-parseInt(ar(341))/5+-parseInt(ar(309))/6*(-parseInt(ar(314))/7)+-parseInt(ar(322))/8+parseInt(ar(343))/9*(parseInt(ar(324))/10)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x5e86,987484);function _0x5e86(){const lr=["1688fZcUgj","sort","selection_changed","get_keywords","4299pOqQWY","process_selection","9847970vtcMhm","length","17424jNRYAz","list [FILTER]","82338WRFdve","To use LIST command please import SOFTWARE DIRECTORY first.","map","startsWith","bases","553NvWXBr","get_software_dir","data","set_loading","message","loadRomFileFromUrl","process_input","root","13950008FuFcTv","list files starting with text","13420ogSFFl","filter","339010bPGnHk","tags","is_selection_enabled","cli","soft_msg","&nbsp;","label","list","1453821dAYivW"];return _0x5e86=function(){return lr},_0x5e86()}var gs;class ListCommand extends CommandBase{constructor(ar){super();mi(this,gs,void 0);Ci(this,gs,ar)}[_0x81a1db(338)](){return[_0x81a1db(333)]}get_help(){const ar=_0x81a1db;return[ar(344),ar(323)]}[_0x81a1db(320)](ar){const or=_0x81a1db;if(Lr(this,gs).get_software_dir()==null){this[or(329)][or(330)](or(310));return}let ur=Lr(this,gs)[or(315)](),fr=[];var dr=ar[or(325)](Boolean);if(dr[or(342)]==0)return;dr.length>0&&(fr=ur.items.filter(br=>{const _r=or;return br[0].toLowerCase()[_r(312)](dr[0].toLowerCase())})),fr[or(336)]((br,_r)=>{const yr=or,mr=ur[yr(327)]?ur[yr(327)][br[1]]:null,Er=ur[yr(327)]?ur[yr(327)][_r[1]]:null;return mr&&Er||!mr&&!Er?br[0].localeCompare(_r[0]):mr?-1:1});let pr=fr[or(311)](br=>{const _r=or,yr=br[1],mr=ur[_r(327)]?ur[_r(327)][yr]:null;let Er=br[0];return{id:ur[_r(321)]+ur[_r(313)][yr]+br[2],label:Er,tag:mr,data:ur[_r(321)]+ur[_r(313)][yr]+br[2]}});this.show_results(pr)}[_0x81a1db(328)](){return!![]}exit_selection(){return!![]}async[_0x81a1db(340)](ar){const or=_0x81a1db;this[or(329)][or(317)](!![]);try{await Lr(this,gs)[or(319)](ar[or(316)],ar[or(332)])}catch{this.cli[or(318)]("LOADING...",or(331),"Error loading file.")}}[_0x81a1db(337)](ar){}}gs=new WeakMap;const _0x55ab65=_0x2478;(function(lr,cr){const ar=_0x2478,or=lr();for(;[];)try{if(parseInt(ar(396))/1*(parseInt(ar(393))/2)+-parseInt(ar(360))/3*(parseInt(ar(374))/4)+parseInt(ar(368))/5*(-parseInt(ar(361))/6)+-parseInt(ar(385))/7+parseInt(ar(377))/8+-parseInt(ar(384))/9*(parseInt(ar(395))/10)+parseInt(ar(379))/11*(parseInt(ar(381))/12)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x53a9,253068);function _0x2478(lr,cr){const ar=_0x53a9();return _0x2478=function(or,ur){return or=or-358,ar[or]},_0x2478(lr,cr)}function _0x53a9(){const lr=["3202003ncoXUL","tags","data","map","length","soft_msg","find [FILTER]","root","8DzQQro","selection_changed","10PWBRsO","34181nDIbWE","filter","exit_selection","cli","1099149GlZrVQ","2590158bCukKD","get_keywords","To use FIND command please import SOFTWARE DIRECTORY first.","join","process_input","find","items","5KHylag","test","&nbsp;","loadRomFileFromUrl","Error loading file.","list filenames containing text","4qrDzlQ","sort","is_selection_enabled","991984spqtrP","get_help","429ZIvycR","LOADING...","435432ORoqVI","get_software_dir","bases","1505727WJFfbb"];return _0x53a9=function(){return lr},_0x53a9()}var Lo;class FindCommand extends CommandBase{constructor(ar){super();mi(this,Lo,void 0);Ci(this,Lo,ar)}[_0x55ab65(362)](){return[_0x55ab65(366)]}[_0x55ab65(378)](){const ar=_0x55ab65;return[ar(391),ar(373)]}[_0x55ab65(365)](ar){const or=_0x55ab65;if(Lr(this,Lo)[or(382)]()==null){this[or(359)][or(390)](or(363));return}let ur=[];var fr=ar.filter(Boolean);if(fr[or(389)]>0){var dr=fr[or(364)](".*");if(dr[or(389)]<3)return;var pr=new RegExp(dr,"i");ur=Lr(this,Lo)[or(382)]()[or(367)][or(397)](_r=>pr[or(369)](_r[0]))}ur[or(375)]((_r,yr)=>{const mr=or,Er=Lr(this,Lo).get_software_dir(),gr=Er[mr(386)]?Er[mr(386)][_r[1]]:null,Ir=Er[mr(386)]?Er[mr(386)][yr[1]]:null;return gr&&Ir||!gr&&!Ir?_r[0].localeCompare(yr[0]):gr?-1:1});let br=ur[or(388)](_r=>{const yr=or,mr=_r[1],Er=Lr(this,Lo)[yr(382)](),gr=Er[yr(386)]?Er[yr(386)][mr]:null;let Ir=_r[0];return{id:Er[yr(392)]+Er[yr(383)][mr]+_r[2],label:Ir,tag:gr,data:Er[yr(392)]+Er[yr(383)][mr]+_r[2]}});this.show_results(br)}[_0x55ab65(376)](){return!![]}[_0x55ab65(358)](){return!![]}async process_selection(ar){const or=_0x55ab65;this[or(359)].set_loading(!![]);try{await Lr(this,Lo)[or(371)](ar[or(387)],ar.label)}catch{this[or(359)].message(or(380),or(370),or(372))}}[_0x55ab65(394)](ar){}}Lo=new WeakMap;function _0x298c(){const lr=["19811726RxSMlZ","join","&nbsp;","3958968HTEELr","entries","get_keywords","279caPxMs","print","Invalid value.","45RFUzjq","Configuration has been saved.","set [PARAM] [VALUE]","DEFAULT","hasOwnProperty","includes","is_enter_required","length","&nbsp;)","16deydQi","</p>","clear","12174HMAyNk","2080926FFbeEN","1949248kLDJSX","toUpperCase","141UzAkLC","get_help","MULTI","<p style='margin-left: 1ch;'>","validValues","<p style='margin-left: 2ch;'>","getValue","process_input","Enter new value and press ENTER.","localeCompare","cli","is_selection_enabled","enable CRT/LCD screen effect","clearValue","Enter DEFAULT as a value to reset.","28670zyHJlE","Invalid parameter.","111172bNIaAA","sort"];return _0x298c=function(){return lr},_0x298c()}function _0x11eb(lr,cr){const ar=_0x298c();return _0x11eb=function(or,ur){return or=or-328,ar[or]},_0x11eb(lr,cr)}const _0x2ae9bb=_0x11eb;(function(lr,cr){const ar=_0x11eb,or=lr();for(;[];)try{if(parseInt(ar(332))/1*(-parseInt(ar(328))/2)+-parseInt(ar(329))/3+-parseInt(ar(349))/4*(-parseInt(ar(360))/5)+-parseInt(ar(354))/6+parseInt(ar(330))/7*(parseInt(ar(369))/8)+-parseInt(ar(357))/9*(-parseInt(ar(347))/10)+parseInt(ar(351))/11===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x298c,485271);var ys,bs,A0;class SetCommand extends CommandBase{constructor(){super(...arguments);mi(this,bs);mi(this,ys,{SHADER:{validValues:["0","1"],description:_0x2ae9bb(344)},LINES:{validValues:["SINGLE",_0x2ae9bb(334)],description:"single or multi line results"},SYSKB:{validValues:["0","1"],description:"use system touchscreen keyboard"}})}[_0x2ae9bb(356)](){return["set"]}[_0x2ae9bb(333)](){return[_0x2ae9bb(362),"configure system parameter"]}[_0x2ae9bb(339)](ar,or){const ur=_0x2ae9bb;if(!ar[ur(367)]){this[ur(342)][ur(358)]("Configure system parameter:"),this[ur(342)][ur(358)](ur(353)),Object[ur(355)](Lr(this,ys))[ur(350)](([br],[_r])=>br[ur(341)](_r)).forEach(([br,_r])=>{Pi(this,bs,A0).call(this,br,_r)});return}const fr=ar[0][ur(331)](),dr=Lr(this,ys)[fr],pr=ar[1];if(dr!=null&&(Pi(this,bs,A0).call(this,fr,dr),this[ur(342)][ur(358)](ur(340)),this[ur(342)].print(ur(346))),or&&ar.length==2)if(Lr(this,ys)[ur(364)](fr)){const br=Lr(this,ys)[fr];pr.toUpperCase()==ur(363)?(StorageManager[ur(345)](fr,pr),this[ur(342)][ur(371)](),Pi(this,bs,A0).call(this,fr,dr),this.cli[ur(358)]("Default value restored.")):br[ur(336)][ur(365)](pr.toUpperCase())?(StorageManager.storeValue(fr,pr),this.cli[ur(371)](),Pi(this,bs,A0).call(this,fr,dr),this[ur(342)][ur(358)](ur(361))):(this.cli[ur(358)]("&nbsp;"),this[ur(342)][ur(358)](ur(359)))}else this[ur(342)][ur(358)](ur(353)),this[ur(342)][ur(358)](ur(348))}[_0x2ae9bb(343)](){return![]}[_0x2ae9bb(366)](){return![]}}ys=new WeakMap,bs=new WeakSet,A0=function(ar,or){const ur=_0x2ae9bb;let fr=StorageManager[ur(338)](ar[ur(331)]()),dr="";fr!=null&&(dr="&nbsp;=&nbsp;"+fr.toUpperCase()),this.cli[ur(358)](ur(335)+ar[ur(331)]()+dr+ur(370)),this[ur(342)][ur(358)](ur(337)+or.description+ur(370)),this[ur(342)][ur(358)]("<p style='margin-left: 2ch;'>(&nbsp;"+or[ur(336)][ur(352)](" | ")+ur(368)+"</p>"),this[ur(342)][ur(358)](ur(353))};function _0x5d5b(){const lr=["bind","print","add","dragging","cli","571336UhsNGC","preventDefault","Not a valid software directory file.","dragenter","change","dragleave","click","importFile","type","redraw","name","process_input","Successfully imported software directory.","none","1591830FEUkTX","getElementById","is_enter_required","result","endsWith","vme_collection","soft_msg","dragover","key","vme-file-input","platform_id","accepted","dataTransfer","importCorsFile","classList","get_help","getSelectedPlatform","stopPropagation","open","200VPNFgw"," ...","&nbsp;","appendChild","error","is_selection_enabled","Loading ","Failed to read file.","input","loadRomFile","parse","clear","files","<span class='blinking2'>Drop the file to open it.</span>","file","includes","Press ENTER to open local file.","create","1856258knbfCE","target","onerror","settings","body","882201MnnnYs","message","addEventListener",".software","dependencies","1515241KRCEJO","6034572ilCPrL","set_loading","12BAhOBH","drop","length","7312820jrYPwq","readAsArrayBuffer","forEach"];return _0x5d5b=function(){return lr},_0x5d5b()}const _0x1a1e0b=_0x1b1b;(function(lr,cr){const ar=_0x1b1b,or=lr();for(;[];)try{if(parseInt(ar(523))/1+parseInt(ar(499))/2+parseInt(ar(504))/3+parseInt(ar(510))/4+parseInt(ar(515))/5+-parseInt(ar(512))/6*(-parseInt(ar(509))/7)+parseInt(ar(556))/8*(-parseInt(ar(537))/9)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x5d5b,775915);function _0x1b1b(lr,cr){const ar=_0x5d5b();return _0x1b1b=function(or,ur){return or=or-498,ar[or]},_0x1b1b(lr,cr)}var xo,pu,Zf,_u,eh,vu,th,J0,Ju,mu,rh;class OpenCommand extends CommandBase{constructor(ar){super();mi(this,pu);mi(this,_u);mi(this,vu);mi(this,J0);mi(this,mu);mi(this,xo,void 0);Ci(this,xo,ar),Pi(this,pu,Zf).call(this)}get_keywords(){return["open"]}[_0x1a1e0b(552)](){return[_0x1a1e0b(555),"import/open local file"]}[_0x1a1e0b(534)](ar,or){const ur=_0x1a1e0b;if(!or){this[ur(522)][ur(567)](),this[ur(522)][ur(519)](ur(572)),this.cli[ur(532)]();return}Pi(this,mu,rh).call(this)}[_0x1a1e0b(561)](){return![]}[_0x1a1e0b(539)](){return!![]}}xo=new WeakMap,pu=new WeakSet,Zf=function(){const ar=_0x1b1b,or=document[ar(538)](ar(502));let ur=![];[ar(526),ar(544),"dragleave",ar(513)][ar(517)](_r=>{const yr=ar;or[yr(506)](_r,fr,![]),document[yr(503)].addEventListener(_r,fr,![])}),[ar(526),ar(544)][ar(517)](_r=>{or[ar(506)](_r,dr.bind(this),![])}),[ar(528),ar(513)][ar(517)](_r=>{or[ar(506)](_r,pr.bind(this),![])}),or[ar(506)]("drop",br[ar(518)](this),![]);function fr(_r){const yr=ar;_r[yr(524)](),_r[yr(554)]()}function dr(_r){const yr=ar;or.classList[yr(520)](yr(521)),!ur&&(ur=!![],this[yr(522)][yr(567)](),this.cli[yr(543)](yr(569)))}function pr(_r){const yr=ar;ur=![],this.cli.clear(),or[yr(551)].remove(yr(521))}function br(_r){const yr=ar,mr=_r[yr(549)],Er=mr[yr(568)];Er[yr(514)]>0&&Pi(this,_u,eh).call(this,Er[0])}},_u=new WeakSet,eh=function(ar){const or=_0x1b1b;Pi(this,J0,Ju).call(this,ar,ar[or(533)])},vu=new WeakSet,th=function(ar){const or=_0x1a1e0b;let ur=Lr(this,xo)[or(553)]();for(const fr of ur[or(508)])if(fr[or(548)][or(571)](ar))return fr},J0=new WeakSet,Ju=function(ar,or){const ur=_0x1a1e0b;this[ur(522)][ur(511)](!![]);const fr=this;if(or[ur(541)](".json")){const pr=new FileReader;pr.onload=function(br){const _r=ur,yr=br[_r(500)][_r(540)];let mr=""+Lr(fr,xo)[_r(553)]()[_r(547)]+_r(507);try{let Er=JSON[_r(566)](yr);Lr(fr,xo)[_r(550)](mr,Er),fr[_r(522)][_r(505)](_r(558),_r(535))}catch{fr[_r(522)].message("&nbsp;",_r(563),_r(525));return}},pr[ur(501)]=function(br){console[ur(560)]("Failed to read file!",br)},pr.readAsText(ar)}else if(or.includes("vme_import"))Lr(fr,xo).loadVmeImportFile(ar);else if(or[ur(571)](ur(542)))Lr(fr,xo).loadCollectionFile(ar);else{var dr=new FileReader;dr.onload=function(pr){var Er;const br=ur;var _r=cryptoJsExports.lib.WordArray[br(498)](pr[br(500)][br(540)]),yr=cryptoJsExports.MD5(_r).toString();let mr=Pi(Er=fr,vu,th).call(Er,yr);if(mr!=null)Lr(fr,xo)[br(530)](mr[br(545)],ar),fr[br(522)][br(505)]("&nbsp;","Successfully imported "+mr[br(531)]);else{const gr=new Blob([pr[br(500)].result],{type:ar[br(531)]});Lr(fr,xo)[br(565)](gr,or)}},dr[ur(516)](ar)}},mu=new WeakSet,rh=function(){const ar=_0x1a1e0b,or=this;var ur=document.createElement(ar(564));ur[ar(531)]=ar(570),ur.id="vme-file-input",ur.style.display=ar(536),document[ar(503)][ar(559)](ur),document[ar(538)](ar(546))[ar(529)](),document[ar(538)](ar(546))[ar(506)](ar(527),function(fr){var _r;const dr=ar;or[dr(522)].set_loading(!![]);var pr=fr.target[dr(568)][0],br=pr[dr(533)];or[dr(522)][dr(567)](),or[dr(522)].print(dr(562)+br+dr(557)),Pi(_r=or,J0,Ju).call(_r,pr,br)})};function _0x55a2(lr,cr){const ar=_0x2d2f();return _0x55a2=function(or,ur){return or=or-222,ar[or]},_0x55a2(lr,cr)}function _0x2d2f(){const lr=["print","isTablet","] Tablet","] Smartphone","Built using Nostalgist.js and Libretro.","---------------","2380924InHbmv",'Click to <a href="https://github.com/gitGalu/vme/blob/main/CHANGES.md">View Changelog</a>',"get_keywords","] Gamepad / Joystick","isStandalone","278374JAYwUd","157830pZZwui","isSmartphone","621804WNWSHa","process_input","&nbsp;","------------","3221634yYAbXo",'<div id="flip-image-outer"><div id="flip-image-container"></div></div>',"Developed by Michal Galinski","5364624TKHHuk","] Meta Quest Browser",'Click to <a href="https://github.com/gitGalu/VME">Visit Project Website</a>',"checkDependencies","Environment","140iSxSNW","about","437730dBXZdz","Emulated systems","get_help","isQuest","show VM/E information","hasGamepad","Prerelease","&nbsp;[","cli","99PUMick","6vVuLwI"];return _0x2d2f=function(){return lr},_0x2d2f()}const _0xc66a24=_0x55a2;(function(lr,cr){const ar=_0x55a2,or=lr();for(;[];)try{if(parseInt(ar(243))/1*(-parseInt(ar(255))/2)+parseInt(ar(223))/3+parseInt(ar(231))/4*(-parseInt(ar(256))/5)+parseInt(ar(258))/6+parseInt(ar(250))/7+parseInt(ar(226))/8+-parseInt(ar(242))/9*(-parseInt(ar(233))/10)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x2d2f,729793);var Z0,gu,nh,yu,ih;class AboutCommand extends CommandBase{constructor(ar){super();mi(this,gu);mi(this,yu);mi(this,Z0,void 0);Ci(this,Z0,ar)}[_0xc66a24(252)](){return[_0xc66a24(232)]}[_0xc66a24(235)](){const ar=_0xc66a24;return[ar(232),ar(237)]}[_0xc66a24(259)](ar){Pi(this,yu,ih).call(this)}}Z0=new WeakMap,gu=new WeakSet,nh=function(ar,or){const ur=_0xc66a24;this[ur(241)][ur(244)](ur(260)),this[ur(241)].print(ur(230)),this.cli[ur(244)](ur(222));let fr=EnvironmentManager[ur(257)](),dr=EnvironmentManager[ur(245)](),pr=EnvironmentManager[ur(236)](),br=EnvironmentManager[ur(238)](),_r=EnvironmentManager[ur(254)]();this[ur(241)].print(ur(240)+(_r?"x":" ")+"] Installed"),this[ur(241)][ur(244)](ur(240)+(fr?"x":" ")+ur(247)),this.cli[ur(244)](ur(240)+(dr?"x":" ")+ur(246)),this[ur(241)][ur(244)]("&nbsp;["+(pr?"x":" ")+ur(227)),this[ur(241)].print(ur(240)+(br?"x":" ")+ur(253)),this[ur(241)][ur(244)](ur(260)),this[ur(241)].print(ur(234)),this[ur(241)][ur(244)](ur(249)),Lr(this,Z0)[ur(229)](),this[ur(241)].redraw()},yu=new WeakSet,ih=function(){const ar=_0xc66a24;this[ar(241)][ar(244)]("Virtual Machine / Emulator"),this[ar(241)][ar(244)](ar(239)),this[ar(241)].print(ar(224)),this.cli[ar(244)](ar(225)),this[ar(241)][ar(244)]("&nbsp;"),this.cli.print(ar(248)),this.cli[ar(244)]("&nbsp;"),this[ar(241)][ar(244)](ar(228)),this[ar(241)].print(ar(260)),this[ar(241)][ar(244)](ar(251)),this[ar(241)].print("&nbsp;"),Pi(this,gu,nh).call(this)};const _0x1fbcd4=_0x4d4c;function _0x4d4c(lr,cr){const ar=_0x2889();return _0x4d4c=function(or,ur){return or=or-129,ar[or]},_0x4d4c(lr,cr)}(function(lr,cr){const ar=_0x4d4c,or=lr();for(;[];)try{if(parseInt(ar(137))/1+parseInt(ar(141))/2+-parseInt(ar(134))/3*(parseInt(ar(144))/4)+-parseInt(ar(131))/5+parseInt(ar(148))/6+parseInt(ar(151))/7+-parseInt(ar(129))/8===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x2889,342039);var f0,bu,ah;class LastCommand extends CommandBase{constructor(ar){super();mi(this,bu);mi(this,f0,void 0);Ci(this,f0,ar)}[_0x1fbcd4(142)](){return["l"]}[_0x1fbcd4(145)](){return["l",_0x1fbcd4(149)]}[_0x1fbcd4(132)](ar,or){const ur=_0x1fbcd4;let fr=StorageManager.getValue(Lr(this,f0)[ur(140)]()[ur(150)]+ur(139),void 0);if(fr!=null){const dr=JSON.parse(fr);if(this[ur(147)].print(ur(138)),this[ur(147)].print(ur(143)),this[ur(147)][ur(130)]("<p style='margin-left: 1ch;'>"+dr[ur(135)]),!or)return;Pi(this,bu,ah).call(this,dr[ur(133)],dr.caption)}}}f0=new WeakMap,bu=new WeakSet,ah=async function(ar,or){const ur=_0x1fbcd4;this[ur(147)][ur(146)](!![]);try{await Lr(this,f0).loadRomFileFromUrl(ar,or)}catch{this[ur(147)][ur(136)](ur(152))}};function _0x2889(){const lr=["Error loading file.","2297200rFUJou","print","3020125SnYAYU","process_input","filename","114cHGCJK","caption","message_clear","348537yAsUJd","Press ENTER to load:",".LAST_FILE","getSelectedPlatform","1194048yEcBdf","get_keywords","&nbsp;","20628zUZPnY","get_help","set_loading","cli","676614fhcULb","re-launch last program for the selected platform","platform_id","2595950aFYeJw"];return _0x2889=function(){return lr},_0x2889()}const _0x415fc9=_0x29a8;(function(lr,cr){const ar=_0x29a8,or=lr();for(;[];)try{if(-parseInt(ar(411))/1*(parseInt(ar(416))/2)+parseInt(ar(363))/3*(-parseInt(ar(391))/4)+parseInt(ar(407))/5+parseInt(ar(387))/6+-parseInt(ar(405))/7*(parseInt(ar(388))/8)+-parseInt(ar(392))/9+parseInt(ar(377))/10===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x25b8,442747);function _0x29a8(lr,cr){const ar=_0x25b8();return _0x29a8=function(or,ur){return or=or-363,ar[or]},_0x29a8(lr,cr)}function _0x25b8(){const lr=["Query + enter to search WikiPedia(tm)","style","process_input","Connecting to WikiPedia(tm)...","innerHTML","forEach","keys","1491RyTRfA","append","778820XDHHHi","clear","get_keywords","show_results","72CpKCuy","normalize","head","cli","join","12382NJrEtd","1643295ZDHUlj","get_wiki_article","length","Error fetching Wikipedia(tm) article:","then","pages","print","wiki-style","#cors_results","find and read WikiPedia(tm) articles","error","get_wiki_results","Error fetching Wikipedia(tm) results:","https://","22447380VABZho","is_enter_required","wiki","replace","json","getElementById","is_selection_enabled","redraw","set_article_mode","extract","43350rHaxKK","22328iNWfLX","process_selection","label","4ObXHYH","3392820PrLjgb","push",".wikipedia.org/w/api.php?action=opensearch&search=",`
                #wiki img {
                    display: none;
                }
                #wiki .image, 
                #wiki .caption {
                    display: none;
                }
                #wiki {
                    line-height: 200%;
                }
                #wiki h1, h2, h3, h4, h5, h6 {
                }
            `,"currentIndex","createElement"];return _0x25b8=function(){return lr},_0x25b8()}var ec,Eu,oh,wu,sh;class WikiCommand extends CommandBase{constructor(){super(...arguments);mi(this,Eu);mi(this,wu);mi(this,ec,"en")}[_0x415fc9(409)](){return[_0x415fc9(379)]}get_help(){return["wiki [QUERY]",_0x415fc9(372)]}[_0x415fc9(400)](ar,or){const ur=_0x415fc9;if(or)this.cli[ur(408)](),this[ur(414)].print(ur(401)),this[ur(414)].redraw(),this[ur(374)](ar[ur(415)](" "))[ur(367)](fr=>{const dr=ur;fr[dr(365)]>0?(this.currentIndex=0,this[dr(410)](fr,!![])):this[dr(410)]([])});else{this[ur(414)][ur(408)](),this.cli[ur(369)](ur(398)),this.cli[ur(384)]();return}}exit_selection(){return!![]}[_0x415fc9(389)](ar){const or=_0x415fc9;this[or(396)]=-1,this.cli[or(385)](!![]),this[or(364)](ar[or(390)])[or(367)](ur=>{const fr=or;this.cli.clear();var dr=s$1(fr(371));dr[fr(402)]="",Pi(this,Eu,oh).call(this);var pr=document.createElement("div");pr.id=fr(379),pr[fr(402)]=ur,dr[fr(406)](pr)})}[_0x415fc9(383)](){return!![]}[_0x415fc9(378)](){return!![]}async[_0x415fc9(374)](ar){const or=_0x415fc9;try{const ur=await fetch(or(376)+Lr(this,ec)+or(394)+ar+"&limit=20&namespace=0&format=json&origin=*"),fr=await ur[or(381)]();let dr=[];return fr[1][or(403)]((pr,br)=>{const _r=or;let yr={label:fr[1][br],url:fr[3][br]};dr[_r(393)](yr)}),dr}catch(ur){return console.error(or(375),ur),[]}}async[_0x415fc9(364)](ar){const or=_0x415fc9;try{const ur=await fetch(or(376)+Lr(this,ec)+".wikipedia.org/w/api.php?action=query&titles="+ar+"&prop=extracts&format=json&origin=*"),fr=await ur[or(381)](),dr=fr.query[or(368)];let pr=dr[Object[or(404)](dr)[0]][or(386)];return pr=Pi(this,wu,sh).call(this,pr),pr}catch(ur){console[or(373)](or(366),ur)}}}ec=new WeakMap,Eu=new WeakSet,oh=function(){const ar=_0x415fc9;var or=ar(370);if(!document[ar(382)](or)){var ur=document[ar(397)](ar(399));ur.id=or,ur.innerHTML=ar(395),document[ar(413)].appendChild(ur)}},wu=new WeakSet,sh=function(ar){const or=_0x415fc9;return ar[or(412)]("NFD")[or(380)](/[\u0300-\u036f]/g,"")};var _0x18fd7c=_0xd953;(function(lr,cr){for(var ar=_0xd953,or=lr();[];)try{var ur=parseInt(ar(428))/1*(parseInt(ar(438))/2)+-parseInt(ar(429))/3+-parseInt(ar(432))/4+parseInt(ar(433))/5+parseInt(ar(430))/6*(parseInt(ar(435))/7)+-parseInt(ar(437))/8+parseInt(ar(434))/9;if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x300f,833464);function _0x300f(){var lr=["321418gqNZRJ","cli","get_keywords","get_help","open","2HqeNIX","729336MDGMFL","6HOptgG","print","333004gHYpmZ","2716815FqGfXN","12796848JFTolf","3192021ffZytl","process_input","12662632gZbxAl"];return _0x300f=function(){return lr},_0x300f()}function _0xd953(lr,cr){var ar=_0x300f();return _0xd953=function(or,ur){or=or-426;var fr=ar[or];return fr},_0xd953(lr,cr)}var tc;class RestoreCommand extends CommandBase{constructor(ar){super();mi(this,tc,void 0);Ci(this,tc,ar)}[_0x18fd7c(440)](){return["r"]}[_0x18fd7c(426)](){return["r","open save browser"]}[_0x18fd7c(436)](ar,or){var ur=_0x18fd7c;if(this[ur(439)].clear(),this[ur(439)][ur(431)]("Press ENTER to open Save Browser."),or)Lr(this,tc)[ur(427)]();else return}}tc=new WeakMap;function _0x2153(){var lr=["136637LdMikC","46821pmlSaZ","132EYtHNQ","1231391SQeOzc","9diKuEh","16wbPtpL","get_keywords","get_help","print","2466TueoTb","8422800lKfelH","92lwvbUZ","3694040TxsjSy","585321fERZbu","Press ENTER to open Compilations Browser.","7675iwXolV"];return _0x2153=function(){return lr},_0x2153()}var _0x4655ec=_0x27bd;(function(lr,cr){for(var ar=_0x27bd,or=lr();[];)try{var ur=parseInt(ar(515))/1+-parseInt(ar(510))/2*(-parseInt(ar(500))/3)+parseInt(ar(511))/4+parseInt(ar(514))/5*(-parseInt(ar(508))/6)+-parseInt(ar(502))/7*(parseInt(ar(504))/8)+parseInt(ar(503))/9*(-parseInt(ar(509))/10)+parseInt(ar(512))/11*(parseInt(ar(501))/12);if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x2153,538399);function _0x27bd(lr,cr){var ar=_0x2153();return _0x27bd=function(or,ur){or=or-500;var fr=ar[or];return fr},_0x27bd(lr,cr)}var rc;class BrowseCommand extends CommandBase{constructor(ar){super();mi(this,rc,void 0);Ci(this,rc,ar)}[_0x4655ec(505)](){return["c"]}[_0x4655ec(506)](){return["c","open compilations browser"]}process_input(ar,or){var ur=_0x4655ec;if(this.cli.clear(),this.cli[ur(507)](ur(513)),or)Lr(this,rc).open();else return}}rc=new WeakMap;let F={};function D(lr={}){F={animate:!0,allowClose:!0,overlayOpacity:.7,smoothScroll:!1,disableActiveInteraction:!1,showProgress:!1,stagePadding:10,stageRadius:5,popoverOffset:10,showButtons:["next","previous","close"],disableButtons:[],overlayColor:"#000",...lr}}function a(lr){return lr?F[lr]:F}function W(lr,cr,ar,or){return(lr/=or/2)<1?ar/2*lr*lr+cr:-ar/2*(--lr*(lr-2)-1)+cr}function Q(lr){const cr='a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])';return lr.flatMap(ar=>{const or=ar.matches(cr),ur=Array.from(ar.querySelectorAll(cr));return[...or?[ar]:[],...ur]}).filter(ar=>getComputedStyle(ar).pointerEvents!=="none"&&ae(ar))}function Z(lr){if(!lr||se(lr))return;const cr=a("smoothScroll");lr.scrollIntoView({behavior:!cr||re(lr)?"auto":"smooth",inline:"center",block:"center"})}function re(lr){if(!lr||!lr.parentElement)return;const cr=lr.parentElement;return cr.scrollHeight>cr.clientHeight}function se(lr){const cr=lr.getBoundingClientRect();return cr.top>=0&&cr.left>=0&&cr.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&cr.right<=(window.innerWidth||document.documentElement.clientWidth)}function ae(lr){return!!(lr.offsetWidth||lr.offsetHeight||lr.getClientRects().length)}let O={};function b(lr,cr){O[lr]=cr}function l(lr){return lr?O[lr]:O}function V(){O={}}let R={};function N(lr,cr){R[lr]=cr}function L(lr){var cr;(cr=R[lr])==null||cr.call(R)}function ce(){R={}}function le(lr,cr,ar,or){let ur=l("__activeStagePosition");const fr=ur||ar.getBoundingClientRect(),dr=or.getBoundingClientRect(),pr=W(lr,fr.x,dr.x-fr.x,cr),br=W(lr,fr.y,dr.y-fr.y,cr),_r=W(lr,fr.width,dr.width-fr.width,cr),yr=W(lr,fr.height,dr.height-fr.height,cr);ur={x:pr,y:br,width:_r,height:yr},J(ur),b("__activeStagePosition",ur)}function G(lr){if(!lr)return;const cr=lr.getBoundingClientRect(),ar={x:cr.x,y:cr.y,width:cr.width,height:cr.height};b("__activeStagePosition",ar),J(ar)}function de(){const lr=l("__activeStagePosition"),cr=l("__overlaySvg");if(!lr)return;if(!cr){console.warn("No stage svg found.");return}const ar=window.innerWidth,or=window.innerHeight;cr.setAttribute("viewBox",`0 0 ${ar} ${or}`)}function pe(lr){const cr=ue(lr);document.body.appendChild(cr),te(cr,ar=>{ar.target.tagName==="path"&&L("overlayClick")}),b("__overlaySvg",cr)}function J(lr){const cr=l("__overlaySvg");if(!cr){pe(lr);return}const ar=cr.firstElementChild;if((ar==null?void 0:ar.tagName)!=="path")throw new Error("no path element found in stage svg");ar.setAttribute("d",U(lr))}function ue(lr){const cr=window.innerWidth,ar=window.innerHeight,or=document.createElementNS("http://www.w3.org/2000/svg","svg");or.classList.add("driver-overlay","driver-overlay-animated"),or.setAttribute("viewBox",`0 0 ${cr} ${ar}`),or.setAttribute("xmlSpace","preserve"),or.setAttribute("xmlnsXlink","http://www.w3.org/1999/xlink"),or.setAttribute("version","1.1"),or.setAttribute("preserveAspectRatio","xMinYMin slice"),or.style.fillRule="evenodd",or.style.clipRule="evenodd",or.style.strokeLinejoin="round",or.style.strokeMiterlimit="2",or.style.zIndex="10000",or.style.position="fixed",or.style.top="0",or.style.left="0",or.style.width="100%",or.style.height="100%";const ur=document.createElementNS("http://www.w3.org/2000/svg","path");return ur.setAttribute("d",U(lr)),ur.style.fill=a("overlayColor")||"rgb(0,0,0)",ur.style.opacity=`${a("overlayOpacity")}`,ur.style.pointerEvents="auto",ur.style.cursor="auto",or.appendChild(ur),or}function U(lr){const cr=window.innerWidth,ar=window.innerHeight,or=a("stagePadding")||0,ur=a("stageRadius")||0,fr=lr.width+or*2,dr=lr.height+or*2,pr=Math.min(ur,fr/2,dr/2),br=Math.floor(Math.max(pr,0)),_r=lr.x-or+br,yr=lr.y-or,mr=fr-br*2,Er=dr-br*2;return`M${cr},0L0,0L0,${ar}L${cr},${ar}L${cr},0Z
    M${_r},${yr} h${mr} a${br},${br} 0 0 1 ${br},${br} v${Er} a${br},${br} 0 0 1 -${br},${br} h-${mr} a${br},${br} 0 0 1 -${br},-${br} v-${Er} a${br},${br} 0 0 1 ${br},-${br} z`}function ve(){const lr=l("__overlaySvg");lr&&lr.remove()}function fe(){const lr=document.getElementById("driver-dummy-element");if(lr)return lr;let cr=document.createElement("div");return cr.id="driver-dummy-element",cr.style.width="0",cr.style.height="0",cr.style.pointerEvents="none",cr.style.opacity="0",cr.style.position="fixed",cr.style.top="50%",cr.style.left="50%",document.body.appendChild(cr),cr}function K(lr){const{element:cr}=lr;let ar=typeof cr=="string"?document.querySelector(cr):cr;ar||(ar=fe()),ge(ar,lr)}function he(){const lr=l("__activeElement"),cr=l("__activeStep");lr&&(G(lr),de(),ie(lr,cr))}function ge(lr,cr){const ar=Date.now(),or=l("__activeStep"),ur=l("__activeElement")||lr,fr=!ur||ur===lr,dr=lr.id==="driver-dummy-element",pr=ur.id==="driver-dummy-element",br=a("animate"),_r=cr.onHighlightStarted||a("onHighlightStarted"),yr=(cr==null?void 0:cr.onHighlighted)||a("onHighlighted"),mr=(or==null?void 0:or.onDeselected)||a("onDeselected"),Er=a(),gr=l();!fr&&mr&&mr(pr?void 0:ur,or,{config:Er,state:gr}),_r&&_r(dr?void 0:lr,cr,{config:Er,state:gr});const Ir=!fr&&br;let Ar=!1;xe(),b("previousStep",or),b("previousElement",ur),b("activeStep",cr),b("activeElement",lr);const kr=()=>{if(l("__transitionCallback")!==kr)return;const Or=Date.now()-ar,Dr=400-Or<=400/2;cr.popover&&Dr&&!Ar&&Ir&&(X(lr,cr),Ar=!0),a("animate")&&Or<400?le(Or,400,ur,lr):(G(lr),yr&&yr(dr?void 0:lr,cr,{config:a(),state:l()}),b("__transitionCallback",void 0),b("__previousStep",or),b("__previousElement",ur),b("__activeStep",cr),b("__activeElement",lr)),window.requestAnimationFrame(kr)};b("__transitionCallback",kr),window.requestAnimationFrame(kr),Z(lr),!Ir&&cr.popover&&X(lr,cr),ur.classList.remove("driver-active-element","driver-no-interaction"),ur.removeAttribute("aria-haspopup"),ur.removeAttribute("aria-expanded"),ur.removeAttribute("aria-controls"),a("disableActiveInteraction")&&lr.classList.add("driver-no-interaction"),lr.classList.add("driver-active-element"),lr.setAttribute("aria-haspopup","dialog"),lr.setAttribute("aria-expanded","true"),lr.setAttribute("aria-controls","driver-popover-content")}function we(){var lr;(lr=document.getElementById("driver-dummy-element"))==null||lr.remove(),document.querySelectorAll(".driver-active-element").forEach(cr=>{cr.classList.remove("driver-active-element","driver-no-interaction"),cr.removeAttribute("aria-haspopup"),cr.removeAttribute("aria-expanded"),cr.removeAttribute("aria-controls")})}function I(){const lr=l("__resizeTimeout");lr&&window.cancelAnimationFrame(lr),b("__resizeTimeout",window.requestAnimationFrame(he))}function me(lr){var cr;if(!l("isInitialized")||!(lr.key==="Tab"||lr.keyCode===9))return;const ar=l("__activeElement"),or=(cr=l("popover"))==null?void 0:cr.wrapper,ur=Q([...or?[or]:[],...ar?[ar]:[]]),fr=ur[0],dr=ur[ur.length-1];if(lr.preventDefault(),lr.shiftKey){const pr=ur[ur.indexOf(document.activeElement)-1]||dr;pr==null||pr.focus()}else{const pr=ur[ur.indexOf(document.activeElement)+1]||fr;pr==null||pr.focus()}}function ee(lr){var cr;((cr=a("allowKeyboardControl"))==null||cr)&&(lr.key==="Escape"?L("escapePress"):lr.key==="ArrowRight"?L("arrowRightPress"):lr.key==="ArrowLeft"&&L("arrowLeftPress"))}function te(lr,cr,ar){const or=(ur,fr)=>{const dr=ur.target;lr.contains(dr)&&((!ar||ar(dr))&&(ur.preventDefault(),ur.stopPropagation(),ur.stopImmediatePropagation()),fr==null||fr(ur))};document.addEventListener("pointerdown",or,!0),document.addEventListener("mousedown",or,!0),document.addEventListener("pointerup",or,!0),document.addEventListener("mouseup",or,!0),document.addEventListener("click",ur=>{or(ur,cr)},!0)}function ye(){window.addEventListener("keyup",ee,!1),window.addEventListener("keydown",me,!1),window.addEventListener("resize",I),window.addEventListener("scroll",I)}function be(){window.removeEventListener("keyup",ee),window.removeEventListener("resize",I),window.removeEventListener("scroll",I)}function xe(){const lr=l("popover");lr&&(lr.wrapper.style.display="none")}function X(lr,cr){var ar,or;let ur=l("popover");ur&&document.body.removeChild(ur.wrapper),ur=Pe(),document.body.appendChild(ur.wrapper);const{title:fr,description:dr,showButtons:pr,disableButtons:br,showProgress:_r,nextBtnText:yr=a("nextBtnText")||"Next &rarr;",prevBtnText:mr=a("prevBtnText")||"&larr; Previous",progressText:Er=a("progressText")||"{current} of {total}"}=cr.popover||{};ur.nextButton.innerHTML=yr,ur.previousButton.innerHTML=mr,ur.progress.innerHTML=Er,fr?(ur.title.innerHTML=fr,ur.title.style.display="block"):ur.title.style.display="none",dr?(ur.description.innerHTML=dr,ur.description.style.display="block"):ur.description.style.display="none";const gr=pr||a("showButtons"),Ir=_r||a("showProgress")||!1,Ar=(gr==null?void 0:gr.includes("next"))||(gr==null?void 0:gr.includes("previous"))||Ir;ur.closeButton.style.display=gr.includes("close")?"block":"none",Ar?(ur.footer.style.display="flex",ur.progress.style.display=Ir?"block":"none",ur.nextButton.style.display=gr.includes("next")?"block":"none",ur.previousButton.style.display=gr.includes("previous")?"block":"none"):ur.footer.style.display="none";const kr=br||a("disableButtons")||[];kr!=null&&kr.includes("next")&&(ur.nextButton.disabled=!0,ur.nextButton.classList.add("driver-popover-btn-disabled")),kr!=null&&kr.includes("previous")&&(ur.previousButton.disabled=!0,ur.previousButton.classList.add("driver-popover-btn-disabled")),kr!=null&&kr.includes("close")&&(ur.closeButton.disabled=!0,ur.closeButton.classList.add("driver-popover-btn-disabled"));const Or=ur.wrapper;Or.style.display="block",Or.style.left="",Or.style.top="",Or.style.bottom="",Or.style.right="",Or.id="driver-popover-content",Or.setAttribute("role","dialog"),Or.setAttribute("aria-labelledby","driver-popover-title"),Or.setAttribute("aria-describedby","driver-popover-description");const Dr=ur.arrow;Dr.className="driver-popover-arrow";const Rr=((ar=cr.popover)==null?void 0:ar.popoverClass)||a("popoverClass")||"";Or.className=`driver-popover ${Rr}`.trim(),te(ur.wrapper,Ur=>{var Zr,Gr,jr;const Jr=Ur.target,Wr=((Zr=cr.popover)==null?void 0:Zr.onNextClick)||a("onNextClick"),ni=((Gr=cr.popover)==null?void 0:Gr.onPrevClick)||a("onPrevClick"),Mr=((jr=cr.popover)==null?void 0:jr.onCloseClick)||a("onCloseClick");if(Jr.classList.contains("driver-popover-next-btn"))return Wr?Wr(lr,cr,{config:a(),state:l()}):L("nextClick");if(Jr.classList.contains("driver-popover-prev-btn"))return ni?ni(lr,cr,{config:a(),state:l()}):L("prevClick");if(Jr.classList.contains("driver-popover-close-btn"))return Mr?Mr(lr,cr,{config:a(),state:l()}):L("closeClick")},Ur=>!(ur!=null&&ur.description.contains(Ur))&&!(ur!=null&&ur.title.contains(Ur))&&typeof Ur.className=="string"&&Ur.className.includes("driver-popover")),b("popover",ur);const Fr=((or=cr.popover)==null?void 0:or.onPopoverRender)||a("onPopoverRender");Fr&&Fr(ur,{config:a(),state:l()}),ie(lr,cr),Z(Or);const Nr=lr.classList.contains("driver-dummy-element"),Hr=Q([Or,...Nr?[]:[lr]]);Hr.length>0&&Hr[0].focus()}function oe(){const lr=l("popover");if(!(lr!=null&&lr.wrapper))return;const cr=lr.wrapper.getBoundingClientRect(),ar=a("stagePadding")||0,or=a("popoverOffset")||0;return{width:cr.width+ar+or,height:cr.height+ar+or,realWidth:cr.width,realHeight:cr.height}}function Y(lr,cr){const{elementDimensions:ar,popoverDimensions:or,popoverPadding:ur,popoverArrowDimensions:fr}=cr;return lr==="start"?Math.max(Math.min(ar.top-ur,window.innerHeight-or.realHeight-fr.width),fr.width):lr==="end"?Math.max(Math.min(ar.top-(or==null?void 0:or.realHeight)+ar.height+ur,window.innerHeight-(or==null?void 0:or.realHeight)-fr.width),fr.width):lr==="center"?Math.max(Math.min(ar.top+ar.height/2-(or==null?void 0:or.realHeight)/2,window.innerHeight-(or==null?void 0:or.realHeight)-fr.width),fr.width):0}function j(lr,cr){const{elementDimensions:ar,popoverDimensions:or,popoverPadding:ur,popoverArrowDimensions:fr}=cr;return lr==="start"?Math.max(Math.min(ar.left-ur,window.innerWidth-or.realWidth-fr.width),fr.width):lr==="end"?Math.max(Math.min(ar.left-(or==null?void 0:or.realWidth)+ar.width+ur,window.innerWidth-(or==null?void 0:or.realWidth)-fr.width),fr.width):lr==="center"?Math.max(Math.min(ar.left+ar.width/2-(or==null?void 0:or.realWidth)/2,window.innerWidth-(or==null?void 0:or.realWidth)-fr.width),fr.width):0}function ie(lr,cr){const ar=l("popover");if(!ar)return;const{align:or="start",side:ur="left"}=(cr==null?void 0:cr.popover)||{},fr=or,dr=lr.id==="driver-dummy-element"?"over":ur,pr=a("stagePadding")||0,br=oe(),_r=ar.arrow.getBoundingClientRect(),yr=lr.getBoundingClientRect(),mr=yr.top-br.height;let Er=mr>=0;const gr=window.innerHeight-(yr.bottom+br.height);let Ir=gr>=0;const Ar=yr.left-br.width;let kr=Ar>=0;const Or=window.innerWidth-(yr.right+br.width);let Dr=Or>=0;const Rr=!Er&&!Ir&&!kr&&!Dr;let Fr=dr;if(dr==="top"&&Er?Dr=kr=Ir=!1:dr==="bottom"&&Ir?Dr=kr=Er=!1:dr==="left"&&kr?Dr=Er=Ir=!1:dr==="right"&&Dr&&(kr=Er=Ir=!1),dr==="over"){const Nr=window.innerWidth/2-br.realWidth/2,Hr=window.innerHeight/2-br.realHeight/2;ar.wrapper.style.left=`${Nr}px`,ar.wrapper.style.right="auto",ar.wrapper.style.top=`${Hr}px`,ar.wrapper.style.bottom="auto"}else if(Rr){const Nr=window.innerWidth/2-(br==null?void 0:br.realWidth)/2,Hr=10;ar.wrapper.style.left=`${Nr}px`,ar.wrapper.style.right="auto",ar.wrapper.style.bottom=`${Hr}px`,ar.wrapper.style.top="auto"}else if(kr){const Nr=Math.min(Ar,window.innerWidth-(br==null?void 0:br.realWidth)-_r.width),Hr=Y(fr,{elementDimensions:yr,popoverDimensions:br,popoverPadding:pr,popoverArrowDimensions:_r});ar.wrapper.style.left=`${Nr}px`,ar.wrapper.style.top=`${Hr}px`,ar.wrapper.style.bottom="auto",ar.wrapper.style.right="auto",Fr="left"}else if(Dr){const Nr=Math.min(Or,window.innerWidth-(br==null?void 0:br.realWidth)-_r.width),Hr=Y(fr,{elementDimensions:yr,popoverDimensions:br,popoverPadding:pr,popoverArrowDimensions:_r});ar.wrapper.style.right=`${Nr}px`,ar.wrapper.style.top=`${Hr}px`,ar.wrapper.style.bottom="auto",ar.wrapper.style.left="auto",Fr="right"}else if(Er){const Nr=Math.min(mr,window.innerHeight-br.realHeight-_r.width);let Hr=j(fr,{elementDimensions:yr,popoverDimensions:br,popoverPadding:pr,popoverArrowDimensions:_r});ar.wrapper.style.top=`${Nr}px`,ar.wrapper.style.left=`${Hr}px`,ar.wrapper.style.bottom="auto",ar.wrapper.style.right="auto",Fr="top"}else if(Ir){const Nr=Math.min(gr,window.innerHeight-(br==null?void 0:br.realHeight)-_r.width);let Hr=j(fr,{elementDimensions:yr,popoverDimensions:br,popoverPadding:pr,popoverArrowDimensions:_r});ar.wrapper.style.left=`${Hr}px`,ar.wrapper.style.bottom=`${Nr}px`,ar.wrapper.style.top="auto",ar.wrapper.style.right="auto",Fr="bottom"}Rr?ar.arrow.classList.add("driver-popover-arrow-none"):Ce(fr,Fr,lr)}function Ce(lr,cr,ar){const or=l("popover");if(!or)return;const ur=ar.getBoundingClientRect(),fr=oe(),dr=or.arrow,pr=fr.width,br=window.innerWidth,_r=ur.width,yr=ur.left,mr=fr.height,Er=window.innerHeight,gr=ur.top,Ir=ur.height;dr.className="driver-popover-arrow";let Ar=cr,kr=lr;cr==="top"?(yr+_r<=0?(Ar="right",kr="end"):yr+_r-pr<=0&&(Ar="top",kr="start"),yr>=br?(Ar="left",kr="end"):yr+pr>=br&&(Ar="top",kr="end")):cr==="bottom"?(yr+_r<=0?(Ar="right",kr="start"):yr+_r-pr<=0&&(Ar="bottom",kr="start"),yr>=br?(Ar="left",kr="start"):yr+pr>=br&&(Ar="bottom",kr="end")):cr==="left"?(gr+Ir<=0?(Ar="bottom",kr="end"):gr+Ir-mr<=0&&(Ar="left",kr="start"),gr>=Er?(Ar="top",kr="end"):gr+mr>=Er&&(Ar="left",kr="end")):cr==="right"&&(gr+Ir<=0?(Ar="bottom",kr="start"):gr+Ir-mr<=0&&(Ar="right",kr="start"),gr>=Er?(Ar="top",kr="start"):gr+mr>=Er&&(Ar="right",kr="end")),Ar?(dr.classList.add(`driver-popover-arrow-side-${Ar}`),dr.classList.add(`driver-popover-arrow-align-${kr}`)):dr.classList.add("driver-popover-arrow-none")}function Pe(){const lr=document.createElement("div");lr.classList.add("driver-popover");const cr=document.createElement("div");cr.classList.add("driver-popover-arrow");const ar=document.createElement("header");ar.id="driver-popover-title",ar.classList.add("driver-popover-title"),ar.style.display="none",ar.innerText="Popover Title";const or=document.createElement("div");or.id="driver-popover-description",or.classList.add("driver-popover-description"),or.style.display="none",or.innerText="Popover description is here";const ur=document.createElement("button");ur.type="button",ur.classList.add("driver-popover-close-btn"),ur.setAttribute("aria-label","Close"),ur.innerHTML="&times;";const fr=document.createElement("footer");fr.classList.add("driver-popover-footer");const dr=document.createElement("span");dr.classList.add("driver-popover-progress-text"),dr.innerText="";const pr=document.createElement("span");pr.classList.add("driver-popover-navigation-btns");const br=document.createElement("button");br.type="button",br.classList.add("driver-popover-prev-btn"),br.innerHTML="&larr; Previous";const _r=document.createElement("button");return _r.type="button",_r.classList.add("driver-popover-next-btn"),_r.innerHTML="Next &rarr;",pr.appendChild(br),pr.appendChild(_r),fr.appendChild(dr),fr.appendChild(pr),lr.appendChild(ur),lr.appendChild(cr),lr.appendChild(ar),lr.appendChild(or),lr.appendChild(fr),{wrapper:lr,arrow:cr,title:ar,description:or,footer:fr,previousButton:br,nextButton:_r,closeButton:ur,footerButtons:pr,progress:dr}}function Se(){var lr;const cr=l("popover");cr&&((lr=cr.wrapper.parentElement)==null||lr.removeChild(cr.wrapper))}function ke(lr={}){D(lr);function cr(){a("allowClose")&&_r()}function ar(){const yr=l("activeIndex"),mr=a("steps")||[];if(typeof yr>"u")return;const Er=yr+1;mr[Er]?br(Er):_r()}function or(){const yr=l("activeIndex"),mr=a("steps")||[];if(typeof yr>"u")return;const Er=yr-1;mr[Er]?br(Er):_r()}function ur(yr){(a("steps")||[])[yr]?br(yr):_r()}function fr(){var yr;if(l("__transitionCallback"))return;const mr=l("activeIndex"),Er=l("__activeStep"),gr=l("__activeElement");if(typeof mr>"u"||typeof Er>"u"||typeof l("activeIndex")>"u")return;const Ir=((yr=Er.popover)==null?void 0:yr.onPrevClick)||a("onPrevClick");if(Ir)return Ir(gr,Er,{config:a(),state:l()});or()}function dr(){var yr;if(l("__transitionCallback"))return;const mr=l("activeIndex"),Er=l("__activeStep"),gr=l("__activeElement");if(typeof mr>"u"||typeof Er>"u")return;const Ir=((yr=Er.popover)==null?void 0:yr.onNextClick)||a("onNextClick");if(Ir)return Ir(gr,Er,{config:a(),state:l()});ar()}function pr(){l("isInitialized")||(b("isInitialized",!0),document.body.classList.add("driver-active",a("animate")?"driver-fade":"driver-simple"),ye(),N("overlayClick",cr),N("escapePress",cr),N("arrowLeftPress",fr),N("arrowRightPress",dr))}function br(yr=0){var mr,Er,gr,Ir,Ar,kr,Or,Dr;const Rr=a("steps");if(!Rr){console.error("No steps to drive through"),_r();return}if(!Rr[yr]){_r();return}b("__activeOnDestroyed",document.activeElement),b("activeIndex",yr);const Fr=Rr[yr],Nr=Rr[yr+1],Hr=Rr[yr-1],Ur=((mr=Fr.popover)==null?void 0:mr.doneBtnText)||a("doneBtnText")||"Done",Zr=a("allowClose"),Gr=typeof((Er=Fr.popover)==null?void 0:Er.showProgress)<"u"?(gr=Fr.popover)==null?void 0:gr.showProgress:a("showProgress"),jr=(((Ir=Fr.popover)==null?void 0:Ir.progressText)||a("progressText")||"{{current}} of {{total}}").replace("{{current}}",`${yr+1}`).replace("{{total}}",`${Rr.length}`),Jr=((Ar=Fr.popover)==null?void 0:Ar.showButtons)||a("showButtons"),Wr=["next","previous",...Zr?["close"]:[]].filter(Ei=>!(Jr!=null&&Jr.length)||Jr.includes(Ei)),ni=((kr=Fr.popover)==null?void 0:kr.onNextClick)||a("onNextClick"),Mr=((Or=Fr.popover)==null?void 0:Or.onPrevClick)||a("onPrevClick"),di=((Dr=Fr.popover)==null?void 0:Dr.onCloseClick)||a("onCloseClick");K({...Fr,popover:{showButtons:Wr,nextBtnText:Nr?void 0:Ur,disableButtons:[...Hr?[]:["previous"]],showProgress:Gr,progressText:jr,onNextClick:ni||(()=>{Nr?br(yr+1):_r()}),onPrevClick:Mr||(()=>{br(yr-1)}),onCloseClick:di||(()=>{_r()}),...(Fr==null?void 0:Fr.popover)||{}}})}function _r(yr=!0){const mr=l("__activeElement"),Er=l("__activeStep"),gr=l("__activeOnDestroyed"),Ir=a("onDestroyStarted");if(yr&&Ir){const Or=!mr||(mr==null?void 0:mr.id)==="driver-dummy-element";Ir(Or?void 0:mr,Er,{config:a(),state:l()});return}const Ar=(Er==null?void 0:Er.onDeselected)||a("onDeselected"),kr=a("onDestroyed");if(document.body.classList.remove("driver-active","driver-fade","driver-simple"),be(),Se(),we(),ve(),ce(),V(),mr&&Er){const Or=mr.id==="driver-dummy-element";Ar&&Ar(Or?void 0:mr,Er,{config:a(),state:l()}),kr&&kr(Or?void 0:mr,Er,{config:a(),state:l()})}gr&&gr.focus()}return{isActive:()=>l("isInitialized")||!1,refresh:I,drive:(yr=0)=>{pr(),br(yr)},setConfig:D,setSteps:yr=>{V(),D({...a(),steps:yr})},getConfig:a,getState:l,getActiveIndex:()=>l("activeIndex"),isFirstStep:()=>l("activeIndex")===0,isLastStep:()=>{const yr=a("steps")||[],mr=l("activeIndex");return mr!==void 0&&mr===yr.length-1},getActiveStep:()=>l("activeStep"),getActiveElement:()=>l("activeElement"),getPreviousElement:()=>l("previousElement"),getPreviousStep:()=>l("previousStep"),moveNext:ar,movePrevious:or,moveTo:ur,hasNextStep:()=>{const yr=a("steps")||[],mr=l("activeIndex");return mr!==void 0&&yr[mr+1]},hasPreviousStep:()=>{const yr=a("steps")||[],mr=l("activeIndex");return mr!==void 0&&yr[mr-1]},highlight:yr=>{pr(),K({...yr,popover:yr.popover?{showButtons:[],showProgress:!1,progressText:"",...yr.popover}:void 0})},destroy:()=>{_r(!1)}}}const driver="",_0x58c642=_0x2d63;function _0x456f(){const lr=["addCollectionButton","#full-screen",'<p>Click here to display the "About VM/E" information, including credits and licensing details.</p>',"push","full-screen","<p>Click here to show the on-screen keyboard.</p>","About VM/E","addSystemButton","addButtons","6pbbOcV","0.66","documentElement","456TsHPqa","mozFullScreenElement","webkitFullscreenElement","#cors_interface","inject","menu-item-open","<p>Click here to open the system file dialog, where you can load a program to run and import programs and VME files.</p><p>You can import *vme_import*.zip files. These files contain a list of software for one or multiple platforms, which you can easily access from the VM/E Shell by typing a few letters of the desired programs`s name.</p>","#menu-item-help","menu-item-system","#menu-item-savestates","addTourButton","mozCancelFullScreen","msExitFullscreen","exitFullscreen","webkitExitFullscreen","246771hzxRNi","help","<p>Click here to display the list of available emulated platforms.</p>","menu-item-about","#toggle-keyboard","fullscreenElement","start","addFsButton","sys ","msRequestFullscreen","3621475CkslzZ","about","625741pOEWOa","2724993RNvgsf","152670tCCIOI","<p>Use the VM/E shell by entering CLI commands or performing search queries.</p><p>If you have imported a software list for the current platform, you can start typing the name of the file you are looking for. After entering a few characters, you will see a list of files that match your search query.</p>","msFullscreenElement","List available commands","<p>Click here to browse and load save states.</p>","1099518fZjDeD","Import file","isQuest","menu-item-savestates","addSaveBrowserButton","addOpenButton","Open Save Browser","Fullscreen","open","right","mozRequestFullScreen","VM/E CLI Shell","webkitRequestFullscreen","drive","querySelector","3663128sVCeof","requestFullscreen","Toggle fullscreen"];return _0x456f=function(){return lr},_0x456f()}(function(lr,cr){const ar=_0x2d63,or=lr();for(;[];)try{if(-parseInt(ar(195))/1+parseInt(ar(197))/2+parseInt(ar(196))/3+parseInt(ar(217))/4+parseInt(ar(193))/5+parseInt(ar(165))/6*(parseInt(ar(202))/7)+-parseInt(ar(168))/8*(parseInt(ar(183))/9)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x456f,593193);function _0x2d63(lr,cr){const ar=_0x456f();return _0x2d63=function(or,ur){return or=or-157,ar[or]},_0x2d63(lr,cr)}var Io;class ButtonManager{constructor(cr){mi(this,Io,void 0);Ci(this,Io,cr)}[_0x58c642(164)](){const cr=_0x58c642;this[cr(163)](),this.addHelpButton(),this.addSaveBrowserButton(),this[cr(220)](),this[cr(207)](),this[cr(190)](),this.addAboutButton(),this[cr(178)]()}addSystemButton(){const cr=_0x58c642;createGuiButton(cr(176),"S","S",()=>{const ar=cr;Lr(this,Io)[ar(172)](ar(191))})}addHelpButton(){createGuiButton("menu-item-help","H","H",()=>{const cr=_0x2d63;Lr(this,Io)[cr(172)](cr(184))})}[_0x58c642(206)](){const cr=_0x58c642;createGuiButton(cr(205),"R","R",()=>{const ar=cr;Lr(this,Io)[ar(172)]("r",!![])})}[_0x58c642(220)](){createGuiButton("menu-item-compilations","C","C",()=>{const cr=_0x2d63;Lr(this,Io)[cr(172)]("c",!![])})}[_0x58c642(207)](){const cr=_0x58c642;createGuiButton(cr(173),"O","O",()=>{const ar=cr;Lr(this,Io)[ar(172)](ar(210),!![])})}addAboutButton(){const cr=_0x58c642;createGuiButton(cr(186),"A","A",()=>{const ar=cr;Lr(this,Io).inject(ar(194))})}[_0x58c642(190)](){const cr=_0x58c642;EnvironmentManager[cr(204)]()&&createGuiButton(cr(160),cr(209),"Fs",()=>{const ar=cr;let or=document[ar(167)];const ur=()=>{const dr=ar;or[dr(218)]?or.requestFullscreen():or.mozRequestFullScreen?or[dr(212)]():or.webkitRequestFullscreen?or[dr(214)]():or[dr(192)]&&or[dr(192)]()},fr=()=>{const dr=ar;document[dr(181)]?document.exitFullscreen():document[dr(179)]?document[dr(179)]():document[dr(182)]?document.webkitExitFullscreen():document[dr(180)]&&document[dr(180)]()};!document[ar(188)]&&!document[ar(169)]&&!document[ar(170)]&&!document[ar(199)]?ur():fr()})}addTourButton(){createGuiButton("menu-item-tour","?","?",()=>{const cr=_0x2d63,ar=[];ar[cr(159)]({element:"#menu-item-system",popover:{title:"Switch platforms",description:cr(185),side:"right",align:cr(189)}}),ar.push({element:cr(175),popover:{title:cr(200),description:"<p>Click here to show the list of available CLI commands.</p><p>Some commands require confirmation by pressing ENTER, while others update the results automatically as you type.</p>",side:cr(211),align:"start"}}),ar[cr(159)]({element:cr(177),popover:{title:cr(208),description:cr(201),side:cr(211),align:"start"}}),document[cr(216)](cr(157))&&ar[cr(159)]({element:cr(157),popover:{title:cr(219),description:"<p>Click here to toggle fullscreen mode on and off.</p>",side:cr(211),align:cr(189)}}),document.querySelector(cr(157))&&ar[cr(159)]({element:cr(187),popover:{title:"Toggle on-screen keyboard",description:cr(161),side:"right",align:cr(189)}}),ar.push({element:"#menu-item-compilations",popover:{title:"Open Compilations Browser",description:"<p>Click here to browse software compilations.</p>",side:cr(211),align:"start"}}),ar.push({element:"#menu-item-open",popover:{title:cr(203),description:cr(174),side:cr(211),align:cr(189)}}),ar[cr(159)]({element:"#menu-item-about",popover:{title:cr(162),description:cr(158),side:cr(211),align:cr(189)}}),ar[cr(159)]({element:cr(171),popover:{title:cr(213),description:cr(198),side:cr(211),align:cr(189)}}),ke({animate:![],showProgress:![],overlayOpacity:cr(166),stagePadding:10,smoothScroll:![],steps:ar})[cr(215)]()})}}Io=new WeakMap;const _0x4971f3=_0x4be9;function _0x3bcb(){const lr=["location","COLLECTION_BROWSER","toggleJoystick","open","#quickjoy","CURRENT_MAIN_MENU","add","orientationchange","EMULATION","initQuickJoy","MENU","block","matches","emulationStarted","10516wikwwu","(display-mode: standalone)","clicks_off","gamepadconnected","search","html","body","getValue","navigator","isQuest","toggleScreen","find","getNostalgist","matchMedia","isDesktop","14415VUoRkv","default_touch_controller","#quickshots","innerHTML","classList","clicks_on","register_default","1200lKfXnL","#save-browser","#versionLabel","source","initMousepad","gamepaddisconnected","SCREEN_SIZE","getSelectedPlatform","130036TErMTf","register_command","resize","#quickshot","initTouchControllerMenu","9itsvpB","remove","CURRENT_ENV","standalone","resizeCanvas","#collection-browser","QUICKJOY_PRIMARY","initFastUI","3320376RdmOtk","hideTouchKeyboard","initDesktopUI","pwa","grid","716HRPooD","off","addButtons","CURRENT_SCREEN","initHideaway","49ROWBnv","black","(display-mode: fullscreen)","#warningStandalone","1504888wTyaYp","1519779GPCSid","get","updateMode","#quickjoys","updateDeviceType","flex","171546nCxlmc","whitespace","addEventListener","#fastui","&nbsp;","#settings","#emulator","detectDevice"];return _0x3bcb=function(){return lr},_0x3bcb()}(function(lr,cr){const ar=_0x4be9,or=lr();for(;[];)try{if(-parseInt(ar(271))/1+-parseInt(ar(298))/2+parseInt(ar(299))/3+-parseInt(ar(289))/4*(-parseInt(ar(256))/5)+-parseInt(ar(305))/6*(-parseInt(ar(294))/7)+-parseInt(ar(284))/8*(-parseInt(ar(276))/9)+parseInt(ar(263))/10*(parseInt(ar(327))/11)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x3bcb,870074);function _0x4be9(lr,cr){const ar=_0x3bcb();return _0x4be9=function(or,ur){return or=or-250,ar[or]},_0x4be9(lr,cr)}var xa,so,Su,La,Es,po,nc,ws,mx,gx,yx,bx,Ex,Au,ch,Iu,uh;const Za=class Za{constructor(){mi(this,Au);mi(this,Iu);mi(this,xa,void 0);mi(this,so,void 0);mi(this,Su,void 0);mi(this,La,void 0);mi(this,Es,void 0);mi(this,po,void 0);mi(this,nc,void 0);mi(this,ws,void 0);const cr=_0x4971f3;if(Pi(this,Iu,uh).call(this)){show(cr(297),cr(324)),show(cr(332));return}if(Ci(this,xa,new CLI),Ci(this,so,new KeyboardManager(Lr(this,xa))),Ci(this,Es,new StorageManager),Ci(this,La,new PlatformManager(this,Lr(this,xa),Lr(this,Es))),Ci(this,Su,new EnvironmentManager(Lr(this,La))),Ci(this,po,new UiManager(Lr(this,La),Lr(this,so))),Ci(this,nc,new SaveBrowser(this,Lr(this,La),Lr(this,Es),Lr(this,xa))),Ci(this,ws,new CollectionBrowser(this,Lr(this,La),Lr(this,Es),Lr(this,xa))),Lr(this,so).clicks_on(),Lr(this,xa).register_command(new HelpCommand),Lr(this,xa)[cr(272)](new RestoreCommand(Lr(this,nc))),Lr(this,xa)[cr(272)](new BrowseCommand(Lr(this,ws))),Lr(this,xa)[cr(272)](new OpenCommand(Lr(this,La))),Lr(this,xa).register_command(new ListCommand(Lr(this,La))),Lr(this,xa).register_command(new FindCommand(Lr(this,La))),Lr(this,xa)[cr(272)](new SystemCommand(Lr(this,La))),Lr(this,xa)[cr(272)](new SetCommand),Lr(this,xa)[cr(272)](new LastCommand(Lr(this,La))),Lr(this,xa).register_command(new WikiCommand),Lr(this,xa)[cr(262)](cr(252)),Pi(this,Au,ch).call(this),Lr(this,so).initButtons(),Lr(this,xa)[cr(272)](new AboutCommand(Lr(this,La))),new ButtonManager(Lr(this,xa))[cr(291)](),EnvironmentManager[cr(312)](),s$1(cr(265))[cr(259)]="v0.8.1",this[cr(251)](Za[cr(292)][cr(323)]),StorageManager[cr(334)](BOOT_TO)==BOOT_TO_COLLECTION_BROWSER){let or=StorageManager[cr(334)](COLLECTION_BROWSER_COLLECTION_INDEX),ur=StorageManager[cr(334)](COLLECTION_BROWSER_ITEM_INDEX);or&&ur?Lr(this,ws)[cr(316)](or,ur):Lr(this,ws)[cr(316)]()}}[(mx=_0x4971f3(306),gx=_0x4971f3(292),yx=_0x4971f3(278),bx=_0x4971f3(318),Ex=_0x4971f3(269),_0x4971f3(326))](){const cr=_0x4971f3;let ar=Lr(this,La)[cr(270)]()[cr(257)];Lr(this,po)[cr(322)](),Lr(this,po).initQuickshot(),Lr(this,po)[cr(267)](),Lr(this,po)[cr(293)](),Lr(this,po)[cr(283)](),ar?UiManager[cr(315)](ar,![]):UiManager[cr(315)](JOYSTICK_TOUCH_MODE[cr(282)],![]),Lr(this,po)[cr(286)](),this[cr(251)](Za[cr(292)][cr(321)]),EnvironmentManager[cr(303)](),Lr(this,po)[cr(275)](),EnvironmentManager[cr(280)](Lr(this,La).getNostalgist())}[_0x4971f3(251)](cr){const ar=_0x4971f3;switch(cr){case Za.CURRENT_SCREEN[ar(323)]:hide("#warningStandalone"),hide(ar(264)),hide(ar(281)),hide(ar(311)),hide(ar(302)),hide("#fastui"),hide("#quickshot"),show(ar(310),ar(304)),Lr(this,xa).on(),Lr(this,so)[ar(261)](),Lr(this,so)[ar(301)](cr),document.body[ar(260)][ar(277)](ar(295));break;case Za[ar(292)].EMULATION:Lr(this,xa)[ar(290)](),hide(ar(297)),hide(ar(310)),hide(ar(264)),hide("#collection-browser"),show(ar(311),ar(324)),EnvironmentManager[ar(255)]()||EnvironmentManager[ar(250)]()?(hide(ar(308),ar(288)),hide(ar(258)),hide(ar(274)),hide("#quickjoys"),hide(ar(317))):show("#fastui",ar(288)),Lr(this,so)[ar(285)](),Lr(this,so)[ar(329)](),Lr(this,so)[ar(301)](cr),document[ar(333)].classList[ar(319)](ar(295));break;case Za[ar(292)].SAVE_BROWSER:Lr(this,xa).off(),hide(ar(297)),hide(ar(310)),hide(ar(311)),hide(ar(281)),show(ar(264),ar(304)),document[ar(333)][ar(260)].add(ar(295));break;case Za[ar(292)][ar(314)]:Lr(this,xa)[ar(290)](),hide(ar(297)),hide(ar(264)),hide(ar(311)),hide(ar(310)),hide("#quickjoys"),hide(ar(308)),hide("#quickshot"),show(ar(281),ar(304)),document.body[ar(260)][ar(319)](ar(295));break}}};xa=new WeakMap,so=new WeakMap,Su=new WeakMap,La=new WeakMap,Es=new WeakMap,po=new WeakMap,nc=new WeakMap,ws=new WeakMap,Au=new WeakSet,ch=function(){const cr=_0x4971f3;window[cr(307)](cr(273),()=>EnvironmentManager[cr(280)](Lr(this,La)[cr(253)]())),window[cr(307)](cr(273),()=>EnvironmentManager[cr(312)]()),window[cr(307)](cr(320),()=>EnvironmentManager[cr(312)]()),window[cr(307)](cr(268),()=>EnvironmentManager.detectDevice()),window.addEventListener(cr(330),()=>EnvironmentManager.detectDevice())},Iu=new WeakSet,uh=function(){const cr=_0x4971f3,ar=new URLSearchParams(window[cr(313)][cr(331)]),or=ar[cr(300)](cr(266))===cr(287);if(isMobile_1&&!(window[cr(335)][cr(279)]||window[cr(254)](cr(328))[cr(325)]||window[cr(254)](cr(296))[cr(325)]||or))return!![]},Ea(Za,mx,_0x4971f3(309)),Ea(Za,gx,{STANDALONE_WARNING:50,MENU:100,EMULATION:200,SAVE_BROWSER:220,COLLECTION_BROWSER:300}),Ea(Za,yx,{TOUCH_SMALL:100,TOUCH_BIG:200,DESKTOP:300}),Ea(Za,bx,{NONE:10,PLATFORM_SELECT:100,CORS_QUERY:200}),Ea(Za,Ex,{SMALLER:100,BIGGER:300});let VME=Za;var _0x298089=_0x493b;(function(lr,cr){for(var ar=_0x493b,or=lr();[];)try{var ur=parseInt(ar(408))/1*(-parseInt(ar(414))/2)+-parseInt(ar(412))/3*(parseInt(ar(415))/4)+-parseInt(ar(411))/5+-parseInt(ar(410))/6*(parseInt(ar(416))/7)+parseInt(ar(407))/8+-parseInt(ar(413))/9+parseInt(ar(417))/10;if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x34f2,502427);function _0x493b(lr,cr){var ar=_0x34f2();return _0x493b=function(or,ur){or=or-407;var fr=ar[or];return fr},_0x493b(lr,cr)}document[_0x298089(409)](_0x298089(418),new VME);function _0x34f2(){var lr=["5336991ukULMl","1891254DoPReN","2648IwwtBT","203fhXLFy","28935050lOtDts","DOMContentLoaded","4090576WyIYto","1UPYMma","addEventListener","21984jvhbIA","1302730xSQGTF","4518NQjaxp"];return _0x34f2=function(){return lr},_0x34f2()}
