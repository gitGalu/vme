var Uf=Object.defineProperty;var jf=(h,o,e)=>o in h?Uf(h,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):h[o]=e;var cn=(h,o,e)=>(jf(h,typeof o!="symbol"?o+"":o,e),e),vu=(h,o,e)=>{if(!o.has(h))throw TypeError("Cannot "+e)};var Ke=(h,o,e)=>(vu(h,o,"read from private field"),e?e.call(h):o.get(h)),Nt=(h,o,e)=>{if(o.has(h))throw TypeError("Cannot add the same private member more than once");o instanceof WeakSet?o.add(h):o.set(h,e)},nr=(h,o,e,i)=>(vu(h,o,"write to private field"),i?i.call(h,e):o.set(h,e),e);var z0=(h,o,e,i)=>({set _(c){nr(h,o,c,e)},get _(){return Ke(h,o,i)}}),sr=(h,o,e)=>(vu(h,o,"access private method"),e);(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function e(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function i(c){if(c.ep)return;c.ep=!0;const f=e(c);fetch(c.href,f)}})();const vme="";(function(h,o){for(var e=_0x23ee,i=h();[];)try{var c=parseInt(e(201))/1+-parseInt(e(214))/2*(-parseInt(e(212))/3)+parseInt(e(213))/4+parseInt(e(216))/5*(-parseInt(e(207))/6)+-parseInt(e(221))/7*(parseInt(e(202))/8)+parseInt(e(210))/9+parseInt(e(215))/10*(parseInt(e(218))/11);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x3350,712589);function s(h){var o=_0x23ee;return document[o(204)](h)}function show(h,o){var e=_0x23ee,i=s(h);i!=null&&(o==null&&(o=e(211)),i[e(203)][e(208)]=o)}function hide(h){var o=_0x23ee,e=s(h);e!=null&&(e.style[o(208)]=o(209))}function _0x3350(){var h=["none","9988866WCDrsS","block","15SkYYiH","3786736kjgGiu","45802OtUMue","32880goAwAX","120KeIIck","beforeend","2453mGKeds","insertAdjacentHTML","mousedown","14gfkSTw","getComputedStyle","mouseleave","addEventListener","287452bCbfQh","5372152OYWYCq","style","querySelector","string","removeEventListener","284028ognahF","display"];return _0x3350=function(){return h},_0x3350()}function _0x23ee(h,o){var e=_0x3350();return _0x23ee=function(i,c){i=i-201;var f=e[i];return f},_0x23ee(h,o)}function addButtonEventListeners(h,o){var e=_0x23ee;let i=![];const c=f=>{o(f)};h[e(224)](e(220),()=>{i=!![],c(!![])}),h[e(224)]("mouseup",()=>{i&&(c(![]),i=![])}),h[e(224)](e(223),()=>{i&&(c(![]),i=![])})}var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$1(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}function getAugmentedNamespace(h){if(h.__esModule)return h;var o=h.default;if(typeof o=="function"){var e=function i(){return this instanceof i?Reflect.construct(o,arguments,this.constructor):o.apply(this,arguments)};e.prototype=o.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(h).forEach(function(i){var c=Object.getOwnPropertyDescriptor(h,i);Object.defineProperty(e,i,c.get?c:{enumerable:!0,get:function(){return h[i]}})}),e}var dexie_min={exports:{}};(function(h,o){(function(e,i){h.exports=i()})(commonjsGlobal$1,function(){var e=function(Re,Le){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ze,Qe){ze.__proto__=Qe}||function(ze,Qe){for(var $e in Qe)Object.prototype.hasOwnProperty.call(Qe,$e)&&(ze[$e]=Qe[$e])})(Re,Le)},i=function(){return(i=Object.assign||function(Re){for(var Le,ze=1,Qe=arguments.length;ze<Qe;ze++)for(var $e in Le=arguments[ze])Object.prototype.hasOwnProperty.call(Le,$e)&&(Re[$e]=Le[$e]);return Re}).apply(this,arguments)};function c(Re,Le,ze){if(ze||arguments.length===2)for(var Qe,$e=0,st=Le.length;$e<st;$e++)!Qe&&$e in Le||((Qe=Qe||Array.prototype.slice.call(Le,0,$e))[$e]=Le[$e]);return Re.concat(Qe||Array.prototype.slice.call(Le))}var f=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:commonjsGlobal$1,m=Object.keys,g=Array.isArray;function Te(Re,Le){return typeof Le!="object"||m(Le).forEach(function(ze){Re[ze]=Le[ze]}),Re}typeof Promise>"u"||f.Promise||(f.Promise=Promise);var Ee=Object.getPrototypeOf,Oe={}.hasOwnProperty;function ne(Re,Le){return Oe.call(Re,Le)}function De(Re,Le){typeof Le=="function"&&(Le=Le(Ee(Re))),(typeof Reflect>"u"?m:Reflect.ownKeys)(Le).forEach(function(ze){qe(Re,ze,Le[ze])})}var Ie=Object.defineProperty;function qe(Re,Le,ze,Qe){Ie(Re,Le,Te(ze&&ne(ze,"get")&&typeof ze.get=="function"?{get:ze.get,set:ze.set,configurable:!0}:{value:ze,configurable:!0,writable:!0},Qe))}function Fe(Re){return{from:function(Le){return Re.prototype=Object.create(Le.prototype),qe(Re.prototype,"constructor",Re),{extend:De.bind(null,Re.prototype)}}}}var Ne=Object.getOwnPropertyDescriptor,Ve=[].slice;function Ue(Re,Le,ze){return Ve.call(Re,Le,ze)}function We(Re,Le){return Le(Re)}function He(Re){if(!Re)throw new Error("Assertion Failed")}function Xe(Re){f.setImmediate?setImmediate(Re):setTimeout(Re,0)}function ot(Re,Le){if(typeof Le=="string"&&ne(Re,Le))return Re[Le];if(!Le)return Re;if(typeof Le!="string"){for(var ze=[],Qe=0,$e=Le.length;Qe<$e;++Qe){var st=ot(Re,Le[Qe]);ze.push(st)}return ze}var _t=Le.indexOf(".");if(_t!==-1){var wt=Re[Le.substr(0,_t)];return wt==null?void 0:ot(wt,Le.substr(_t+1))}}function tt(Re,Le,ze){if(Re&&Le!==void 0&&!("isFrozen"in Object&&Object.isFrozen(Re)))if(typeof Le!="string"&&"length"in Le){He(typeof ze!="string"&&"length"in ze);for(var Qe=0,$e=Le.length;Qe<$e;++Qe)tt(Re,Le[Qe],ze[Qe])}else{var st,_t,wt=Le.indexOf(".");wt!==-1?(st=Le.substr(0,wt),(_t=Le.substr(wt+1))===""?ze===void 0?g(Re)&&!isNaN(parseInt(st))?Re.splice(st,1):delete Re[st]:Re[st]=ze:tt(wt=!(wt=Re[st])||!ne(Re,st)?Re[st]={}:wt,_t,ze)):ze===void 0?g(Re)&&!isNaN(parseInt(Le))?Re.splice(Le,1):delete Re[Le]:Re[Le]=ze}}function mt(Re){var Le,ze={};for(Le in Re)ne(Re,Le)&&(ze[Le]=Re[Le]);return ze}var gt=[].concat;function rt(Re){return gt.apply([],Re)}var gi="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(rt([8,16,32,64].map(function(Re){return["Int","Uint","Float"].map(function(Le){return Le+Re+"Array"})}))).filter(function(Re){return f[Re]}),pt=new Set(gi.map(function(Re){return f[Re]})),it=null;function vt(Re){return it=new WeakMap,Re=function Le(ze){if(!ze||typeof ze!="object")return ze;var Qe=it.get(ze);if(Qe)return Qe;if(g(ze)){Qe=[],it.set(ze,Qe);for(var $e=0,st=ze.length;$e<st;++$e)Qe.push(Le(ze[$e]))}else if(pt.has(ze.constructor))Qe=ze;else{var _t,wt=Ee(ze);for(_t in Qe=wt===Object.prototype?{}:Object.create(wt),it.set(ze,Qe),ze)ne(ze,_t)&&(Qe[_t]=Le(ze[_t]))}return Qe}(Re),it=null,Re}var Ze={}.toString;function Ft(Re){return Ze.call(Re).slice(8,-1)}var Zt=typeof Symbol<"u"?Symbol.iterator:"@@iterator",jt=typeof Zt=="symbol"?function(Re){var Le;return Re!=null&&(Le=Re[Zt])&&Le.apply(Re)}:function(){return null};function ur(Re,Le){return Le=Re.indexOf(Le),0<=Le&&Re.splice(Le,1),0<=Le}var bt={};function St(Re){var Le,ze,Qe,$e;if(arguments.length===1){if(g(Re))return Re.slice();if(this===bt&&typeof Re=="string")return[Re];if($e=jt(Re)){for(ze=[];!(Qe=$e.next()).done;)ze.push(Qe.value);return ze}if(Re==null)return[Re];if(typeof(Le=Re.length)!="number")return[Re];for(ze=new Array(Le);Le--;)ze[Le]=Re[Le];return ze}for(Le=arguments.length,ze=new Array(Le);Le--;)ze[Le]=arguments[Le];return ze}var ct=typeof Symbol<"u"?function(Re){return Re[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Et=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],tn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Et),dt={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Pt(Re,Le){this.name=Re,this.message=Le}function Ct(Re,Le){return Re+". Errors: "+Object.keys(Le).map(function(ze){return Le[ze].toString()}).filter(function(ze,Qe,$e){return $e.indexOf(ze)===Qe}).join(`
`)}function Kt(Re,Le,ze,Qe){this.failures=Le,this.failedKeys=Qe,this.successCount=ze,this.message=Ct(Re,Le)}function fr(Re,Le){this.name="BulkError",this.failures=Object.keys(Le).map(function(ze){return Le[ze]}),this.failuresByPos=Le,this.message=Ct(Re,this.failures)}Fe(Pt).from(Error).extend({toString:function(){return this.name+": "+this.message}}),Fe(Kt).from(Pt),Fe(fr).from(Pt);var Rr=tn.reduce(function(Re,Le){return Re[Le]=Le+"Error",Re},{}),cr=Pt,lt=tn.reduce(function(Re,Le){var ze=Le+"Error";function Qe($e,st){this.name=ze,$e?typeof $e=="string"?(this.message="".concat($e).concat(st?`
 `+st:""),this.inner=st||null):typeof $e=="object"&&(this.message="".concat($e.name," ").concat($e.message),this.inner=$e):(this.message=dt[Le]||ze,this.inner=null)}return Fe(Qe).from(cr),Re[Le]=Qe,Re},{});lt.Syntax=SyntaxError,lt.Type=TypeError,lt.Range=RangeError;var yt=Et.reduce(function(Re,Le){return Re[Le+"Error"]=lt[Le],Re},{}),Xt=tn.reduce(function(Re,Le){return["Syntax","Type","Range"].indexOf(Le)===-1&&(Re[Le+"Error"]=lt[Le]),Re},{});function $t(){}function dr(Re){return Re}function Je(Re,Le){return Re==null||Re===dr?Le:function(ze){return Le(Re(ze))}}function At(Re,Le){return function(){Re.apply(this,arguments),Le.apply(this,arguments)}}function Wt(Re,Le){return Re===$t?Le:function(){var ze=Re.apply(this,arguments);ze!==void 0&&(arguments[0]=ze);var Qe=this.onsuccess,$e=this.onerror;this.onsuccess=null,this.onerror=null;var st=Le.apply(this,arguments);return Qe&&(this.onsuccess=this.onsuccess?At(Qe,this.onsuccess):Qe),$e&&(this.onerror=this.onerror?At($e,this.onerror):$e),st!==void 0?st:ze}}function xt(Re,Le){return Re===$t?Le:function(){Re.apply(this,arguments);var ze=this.onsuccess,Qe=this.onerror;this.onsuccess=this.onerror=null,Le.apply(this,arguments),ze&&(this.onsuccess=this.onsuccess?At(ze,this.onsuccess):ze),Qe&&(this.onerror=this.onerror?At(Qe,this.onerror):Qe)}}function ht(Re,Le){return Re===$t?Le:function(ze){var Qe=Re.apply(this,arguments);Te(ze,Qe);var $e=this.onsuccess,st=this.onerror;return this.onsuccess=null,this.onerror=null,ze=Le.apply(this,arguments),$e&&(this.onsuccess=this.onsuccess?At($e,this.onsuccess):$e),st&&(this.onerror=this.onerror?At(st,this.onerror):st),Qe===void 0?ze===void 0?void 0:ze:Te(Qe,ze)}}function Dt(Re,Le){return Re===$t?Le:function(){return Le.apply(this,arguments)!==!1&&Re.apply(this,arguments)}}function er(Re,Le){return Re===$t?Le:function(){var ze=Re.apply(this,arguments);if(ze&&typeof ze.then=="function"){for(var Qe=this,$e=arguments.length,st=new Array($e);$e--;)st[$e]=arguments[$e];return ze.then(function(){return Le.apply(Qe,st)})}return Le.apply(this,arguments)}}Xt.ModifyError=Kt,Xt.DexieError=Pt,Xt.BulkError=fr;var nt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function je(Re){nt=Re}var Ge={},ut=100,gi=typeof Promise>"u"?[]:function(){var Re=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[Re,Ee(Re),Re];var Le=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[Le,Ee(Le),Re]}(),Et=gi[0],tn=gi[1],gi=gi[2],tn=tn&&tn.then,It=Et&&Et.constructor,zt=!!gi,tr=function(Re,Le){sn.push([Re,Le]),Lr&&(queueMicrotask(Pn),Lr=!1)},Sr=!0,Lr=!0,Br=[],Er=[],gr=dr,Qr={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:$t,pgp:!1,env:{},finalize:$t},Cr=Qr,sn=[],Bn=0,Un=[];function wr(Re){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var Le=this._PSD=Cr;if(typeof Re!="function"){if(Re!==Ge)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&at(this,this._value))}this._state=null,this._value=null,++Le.ref,function ze(Qe,$e){try{$e(function(st){if(Qe._state===null){if(st===Qe)throw new TypeError("A promise cannot be resolved with itself.");var _t=Qe._lib&&Tr();st&&typeof st.then=="function"?ze(Qe,function(wt,Rt){st instanceof wr?st._then(wt,Rt):st.then(wt,Rt)}):(Qe._state=!0,Qe._value=st,Or(Qe)),_t&&ln()}},at.bind(null,Qe))}catch(st){at(Qe,st)}}(this,Re)}var Jt={get:function(){var Re=Cr,Le=fn;function ze(Qe,$e){var st=this,_t=!Re.global&&(Re!==Cr||Le!==fn),wt=_t&&!xn(),Rt=new wr(function(Tt,Mt){en(st,new yr(Jn(Qe,Re,_t,wt),Jn($e,Re,_t,wt),Tt,Mt,Re))});return this._consoleTask&&(Rt._consoleTask=this._consoleTask),Rt}return ze.prototype=Ge,ze},set:function(Re){qe(this,"then",Re&&Re.prototype===Ge?Jt:{get:function(){return Re},set:Jt.set})}};function yr(Re,Le,ze,Qe,$e){this.onFulfilled=typeof Re=="function"?Re:null,this.onRejected=typeof Le=="function"?Le:null,this.resolve=ze,this.reject=Qe,this.psd=$e}function at(Re,Le){var ze,Qe;Er.push(Le),Re._state===null&&(ze=Re._lib&&Tr(),Le=gr(Le),Re._state=!1,Re._value=Le,Qe=Re,Br.some(function($e){return $e._value===Qe._value})||Br.push(Qe),Or(Re),ze&&ln())}function Or(Re){var Le=Re._listeners;Re._listeners=[];for(var ze=0,Qe=Le.length;ze<Qe;++ze)en(Re,Le[ze]);var $e=Re._PSD;--$e.ref||$e.finalize(),Bn===0&&(++Bn,tr(function(){--Bn==0&&or()},[]))}function en(Re,Le){if(Re._state!==null){var ze=Re._state?Le.onFulfilled:Le.onRejected;if(ze===null)return(Re._state?Le.resolve:Le.reject)(Re._value);++Le.psd.ref,++Bn,tr(kr,[ze,Re,Le])}else Re._listeners.push(Le)}function kr(Re,Le,ze){try{var Qe,$e=Le._value;!Le._state&&Er.length&&(Er=[]),Qe=nt&&Le._consoleTask?Le._consoleTask.run(function(){return Re($e)}):Re($e),Le._state||Er.indexOf($e)!==-1||function(st){for(var _t=Br.length;_t;)if(Br[--_t]._value===st._value)return Br.splice(_t,1)}(Le),ze.resolve(Qe)}catch(st){ze.reject(st)}finally{--Bn==0&&or(),--ze.psd.ref||ze.psd.finalize()}}function Pn(){hn(Qr,function(){Tr()&&ln()})}function Tr(){var Re=Sr;return Lr=Sr=!1,Re}function ln(){var Re,Le,ze;do for(;0<sn.length;)for(Re=sn,sn=[],ze=Re.length,Le=0;Le<ze;++Le){var Qe=Re[Le];Qe[0].apply(null,Qe[1])}while(0<sn.length);Lr=Sr=!0}function or(){var Re=Br;Br=[],Re.forEach(function(Qe){Qe._PSD.onunhandled.call(null,Qe._value,Qe)});for(var Le=Un.slice(0),ze=Le.length;ze;)Le[--ze]()}function ar(Re){return new wr(Ge,!1,Re)}function Zr(Re,Le){var ze=Cr;return function(){var Qe=Tr(),$e=Cr;try{return on(ze,!0),Re.apply(this,arguments)}catch(st){Le&&Le(st)}finally{on($e,!1),Qe&&ln()}}}De(wr.prototype,{then:Jt,_then:function(Re,Le){en(this,new yr(null,null,Re,Le,Cr))},catch:function(Re){if(arguments.length===1)return this.then(null,Re);var Le=Re,ze=arguments[1];return typeof Le=="function"?this.then(null,function(Qe){return(Qe instanceof Le?ze:ar)(Qe)}):this.then(null,function(Qe){return(Qe&&Qe.name===Le?ze:ar)(Qe)})},finally:function(Re){return this.then(function(Le){return wr.resolve(Re()).then(function(){return Le})},function(Le){return wr.resolve(Re()).then(function(){return ar(Le)})})},timeout:function(Re,Le){var ze=this;return Re<1/0?new wr(function(Qe,$e){var st=setTimeout(function(){return $e(new lt.Timeout(Le))},Re);ze.then(Qe,$e).finally(clearTimeout.bind(null,st))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&qe(wr.prototype,Symbol.toStringTag,"Dexie.Promise"),Qr.env=Ln(),De(wr,{all:function(){var Re=St.apply(null,arguments).map(mi);return new wr(function(Le,ze){Re.length===0&&Le([]);var Qe=Re.length;Re.forEach(function($e,st){return wr.resolve($e).then(function(_t){Re[st]=_t,--Qe||Le(Re)},ze)})})},resolve:function(Re){return Re instanceof wr?Re:Re&&typeof Re.then=="function"?new wr(function(Le,ze){Re.then(Le,ze)}):new wr(Ge,!0,Re)},reject:ar,race:function(){var Re=St.apply(null,arguments).map(mi);return new wr(function(Le,ze){Re.map(function(Qe){return wr.resolve(Qe).then(Le,ze)})})},PSD:{get:function(){return Cr},set:function(Re){return Cr=Re}},totalEchoes:{get:function(){return fn}},newPSD:dn,usePSD:hn,scheduler:{get:function(){return tr},set:function(Re){tr=Re}},rejectionMapper:{get:function(){return gr},set:function(Re){gr=Re}},follow:function(Re,Le){return new wr(function(ze,Qe){return dn(function($e,st){var _t=Cr;_t.unhandleds=[],_t.onunhandled=st,_t.finalize=At(function(){var wt,Rt=this;wt=function(){Rt.unhandleds.length===0?$e():st(Rt.unhandleds[0])},Un.push(function Tt(){wt(),Un.splice(Un.indexOf(Tt),1)}),++Bn,tr(function(){--Bn==0&&or()},[])},_t.finalize),Re()},Le,ze,Qe)})}}),It&&(It.allSettled&&qe(wr,"allSettled",function(){var Re=St.apply(null,arguments).map(mi);return new wr(function(Le){Re.length===0&&Le([]);var ze=Re.length,Qe=new Array(ze);Re.forEach(function($e,st){return wr.resolve($e).then(function(_t){return Qe[st]={status:"fulfilled",value:_t}},function(_t){return Qe[st]={status:"rejected",reason:_t}}).then(function(){return--ze||Le(Qe)})})})}),It.any&&typeof AggregateError<"u"&&qe(wr,"any",function(){var Re=St.apply(null,arguments).map(mi);return new wr(function(Le,ze){Re.length===0&&ze(new AggregateError([]));var Qe=Re.length,$e=new Array(Qe);Re.forEach(function(st,_t){return wr.resolve(st).then(function(wt){return Le(wt)},function(wt){$e[_t]=wt,--Qe||ze(new AggregateError($e))})})})}));var Nr={awaits:0,echoes:0,id:0},Dr=0,Wn=[],jn=0,fn=0,Jr=0;function dn(Re,Le,ze,Qe){var $e=Cr,st=Object.create($e);return st.parent=$e,st.ref=0,st.global=!1,st.id=++Jr,Qr.env,st.env=zt?{Promise:wr,PromiseProp:{value:wr,configurable:!0,writable:!0},all:wr.all,race:wr.race,allSettled:wr.allSettled,any:wr.any,resolve:wr.resolve,reject:wr.reject}:{},Le&&Te(st,Le),++$e.ref,st.finalize=function(){--this.parent.ref||this.parent.finalize()},Qe=hn(st,Re,ze,Qe),st.ref===0&&st.finalize(),Qe}function wn(){return Nr.id||(Nr.id=++Dr),++Nr.awaits,Nr.echoes+=ut,Nr.id}function xn(){return!!Nr.awaits&&(--Nr.awaits==0&&(Nr.id=0),Nr.echoes=Nr.awaits*ut,!0)}function mi(Re){return Nr.echoes&&Re&&Re.constructor===It?(wn(),Re.then(function(Le){return xn(),Le},function(Le){return xn(),vn(Le)})):Re}function Mi(){var Re=Wn[Wn.length-1];Wn.pop(),on(Re,!1)}function on(Re,Le){var ze,Qe=Cr;(Le?!Nr.echoes||jn++&&Re===Cr:!jn||--jn&&Re===Cr)||queueMicrotask(Le?(function($e){++fn,Nr.echoes&&--Nr.echoes!=0||(Nr.echoes=Nr.awaits=Nr.id=0),Wn.push(Cr),on($e,!0)}).bind(null,Re):Mi),Re!==Cr&&(Cr=Re,Qe===Qr&&(Qr.env=Ln()),zt&&(ze=Qr.env.Promise,Le=Re.env,(Qe.global||Re.global)&&(Object.defineProperty(f,"Promise",Le.PromiseProp),ze.all=Le.all,ze.race=Le.race,ze.resolve=Le.resolve,ze.reject=Le.reject,Le.allSettled&&(ze.allSettled=Le.allSettled),Le.any&&(ze.any=Le.any))))}function Ln(){var Re=f.Promise;return zt?{Promise:Re,PromiseProp:Object.getOwnPropertyDescriptor(f,"Promise"),all:Re.all,race:Re.race,allSettled:Re.allSettled,any:Re.any,resolve:Re.resolve,reject:Re.reject}:{}}function hn(Re,Le,ze,Qe,$e){var st=Cr;try{return on(Re,!0),Le(ze,Qe,$e)}finally{on(st,!1)}}function Jn(Re,Le,ze,Qe){return typeof Re!="function"?Re:function(){var $e=Cr;ze&&wn(),on(Le,!0);try{return Re.apply(this,arguments)}finally{on($e,!1),Qe&&queueMicrotask(xn)}}}function zn(Re){Promise===It&&Nr.echoes===0?jn===0?Re():enqueueNativeMicroTask(Re):setTimeout(Re,0)}(""+tn).indexOf("[native code]")===-1&&(wn=xn=$t);var vn=wr.reject,Ii=String.fromCharCode(65535),li="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",v0="String expected.",Vi=[],Ja="__dbnames",as="readonly",ss="readwrite";function Ui(Re,Le){return Re?Le?function(){return Re.apply(this,arguments)&&Le.apply(this,arguments)}:Re:Le}var m0={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Xa(Re){return typeof Re!="string"||/\./.test(Re)?function(Le){return Le}:function(Le){return Le[Re]===void 0&&Re in Le&&delete(Le=vt(Le))[Re],Le}}function g0(){throw lt.Type()}function Xr(Re,Le){try{var ze=y0(Re),Qe=y0(Le);if(ze!==Qe)return ze==="Array"?1:Qe==="Array"?-1:ze==="binary"?1:Qe==="binary"?-1:ze==="string"?1:Qe==="string"?-1:ze==="Date"?1:Qe!=="Date"?NaN:-1;switch(ze){case"number":case"Date":case"string":return Le<Re?1:Re<Le?-1:0;case"binary":return function($e,st){for(var _t=$e.length,wt=st.length,Rt=_t<wt?_t:wt,Tt=0;Tt<Rt;++Tt)if($e[Tt]!==st[Tt])return $e[Tt]<st[Tt]?-1:1;return _t===wt?0:_t<wt?-1:1}(b0(Re),b0(Le));case"Array":return function($e,st){for(var _t=$e.length,wt=st.length,Rt=_t<wt?_t:wt,Tt=0;Tt<Rt;++Tt){var Mt=Xr($e[Tt],st[Tt]);if(Mt!==0)return Mt}return _t===wt?0:_t<wt?-1:1}(Re,Le)}}catch{}return NaN}function y0(Re){var Le=typeof Re;return Le!="object"?Le:ArrayBuffer.isView(Re)?"binary":(Re=Ft(Re),Re==="ArrayBuffer"?"binary":Re)}function b0(Re){return Re instanceof Uint8Array?Re:ArrayBuffer.isView(Re)?new Uint8Array(Re.buffer,Re.byteOffset,Re.byteLength):new Uint8Array(Re)}var E0=(pn.prototype._trans=function(Re,Le,ze){var Qe=this._tx||Cr.trans,$e=this.name,st=nt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(Re==="readonly"?"read":"write"," ").concat(this.name));function _t(Tt,Mt,Ot){if(!Ot.schema[$e])throw new lt.NotFound("Table "+$e+" not part of transaction");return Le(Ot.idbtrans,Ot)}var wt=Tr();try{var Rt=Qe&&Qe.db._novip===this.db._novip?Qe===Cr.trans?Qe._promise(Re,_t,ze):dn(function(){return Qe._promise(Re,_t,ze)},{trans:Qe,transless:Cr.transless||Cr}):function Tt(Mt,Ot,Ut,Bt){if(Mt.idbdb&&(Mt._state.openComplete||Cr.letThrough||Mt._vip)){var Lt=Mt._createTransaction(Ot,Ut,Mt._dbSchema);try{Lt.create(),Mt._state.PR1398_maxLoop=3}catch(Vt){return Vt.name===Rr.InvalidState&&Mt.isOpen()&&0<--Mt._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Mt.close({disableAutoOpen:!1}),Mt.open().then(function(){return Tt(Mt,Ot,Ut,Bt)})):vn(Vt)}return Lt._promise(Ot,function(Vt,qt){return dn(function(){return Cr.trans=Lt,Bt(Vt,qt,Lt)})}).then(function(Vt){if(Ot==="readwrite")try{Lt.idbtrans.commit()}catch{}return Ot==="readonly"?Vt:Lt._completion.then(function(){return Vt})})}if(Mt._state.openComplete)return vn(new lt.DatabaseClosed(Mt._state.dbOpenError));if(!Mt._state.isBeingOpened){if(!Mt._state.autoOpen)return vn(new lt.DatabaseClosed);Mt.open().catch($t)}return Mt._state.dbReadyPromise.then(function(){return Tt(Mt,Ot,Ut,Bt)})}(this.db,Re,[this.name],_t);return st&&(Rt._consoleTask=st,Rt=Rt.catch(function(Tt){return console.trace(Tt),vn(Tt)})),Rt}finally{wt&&ln()}},pn.prototype.get=function(Re,Le){var ze=this;return Re&&Re.constructor===Object?this.where(Re).first(Le):Re==null?vn(new lt.Type("Invalid argument to Table.get()")):this._trans("readonly",function(Qe){return ze.core.get({trans:Qe,key:Re}).then(function($e){return ze.hook.reading.fire($e)})}).then(Le)},pn.prototype.where=function(Re){if(typeof Re=="string")return new this.db.WhereClause(this,Re);if(g(Re))return new this.db.WhereClause(this,"[".concat(Re.join("+"),"]"));var Le=m(Re);if(Le.length===1)return this.where(Le[0]).equals(Re[Le[0]]);var ze=this.schema.indexes.concat(this.schema.primKey).filter(function(Rt){if(Rt.compound&&Le.every(function(Mt){return 0<=Rt.keyPath.indexOf(Mt)})){for(var Tt=0;Tt<Le.length;++Tt)if(Le.indexOf(Rt.keyPath[Tt])===-1)return!1;return!0}return!1}).sort(function(Rt,Tt){return Rt.keyPath.length-Tt.keyPath.length})[0];if(ze&&this.db._maxKey!==Ii){var _t=ze.keyPath.slice(0,Le.length);return this.where(_t).equals(_t.map(function(Tt){return Re[Tt]}))}!ze&&nt&&console.warn("The query ".concat(JSON.stringify(Re)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(Le.join("+"),"]"));var Qe=this.schema.idxByName,$e=this.db._deps.indexedDB;function st(Rt,Tt){return $e.cmp(Rt,Tt)===0}var wt=Le.reduce(function(Ut,Tt){var Mt=Ut[0],Ot=Ut[1],Ut=Qe[Tt],Bt=Re[Tt];return[Mt||Ut,Mt||!Ut?Ui(Ot,Ut&&Ut.multi?function(Lt){return Lt=ot(Lt,Tt),g(Lt)&&Lt.some(function(Vt){return st(Bt,Vt)})}:function(Lt){return st(Bt,ot(Lt,Tt))}):Ot]},[null,null]),_t=wt[0],wt=wt[1];return _t?this.where(_t.name).equals(Re[_t.keyPath]).filter(wt):ze?this.filter(wt):this.where(Le).equals("")},pn.prototype.filter=function(Re){return this.toCollection().and(Re)},pn.prototype.count=function(Re){return this.toCollection().count(Re)},pn.prototype.offset=function(Re){return this.toCollection().offset(Re)},pn.prototype.limit=function(Re){return this.toCollection().limit(Re)},pn.prototype.each=function(Re){return this.toCollection().each(Re)},pn.prototype.toArray=function(Re){return this.toCollection().toArray(Re)},pn.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},pn.prototype.orderBy=function(Re){return new this.db.Collection(new this.db.WhereClause(this,g(Re)?"[".concat(Re.join("+"),"]"):Re))},pn.prototype.reverse=function(){return this.toCollection().reverse()},pn.prototype.mapToClass=function(Re){var Le,ze=this.db,Qe=this.name;function $e(){return Le!==null&&Le.apply(this,arguments)||this}(this.schema.mappedClass=Re).prototype instanceof g0&&(function(Rt,Tt){if(typeof Tt!="function"&&Tt!==null)throw new TypeError("Class extends value "+String(Tt)+" is not a constructor or null");function Mt(){this.constructor=Rt}e(Rt,Tt),Rt.prototype=Tt===null?Object.create(Tt):(Mt.prototype=Tt.prototype,new Mt)}($e,Le=Re),Object.defineProperty($e.prototype,"db",{get:function(){return ze},enumerable:!1,configurable:!0}),$e.prototype.table=function(){return Qe},Re=$e);for(var st=new Set,_t=Re.prototype;_t;_t=Ee(_t))Object.getOwnPropertyNames(_t).forEach(function(Rt){return st.add(Rt)});function wt(Rt){if(!Rt)return Rt;var Tt,Mt=Object.create(Re.prototype);for(Tt in Rt)if(!st.has(Tt))try{Mt[Tt]=Rt[Tt]}catch{}return Mt}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=wt,this.hook("reading",wt),Re},pn.prototype.defineClass=function(){return this.mapToClass(function(Re){Te(this,Re)})},pn.prototype.add=function(Re,Le){var ze=this,Qe=this.schema.primKey,$e=Qe.auto,st=Qe.keyPath,_t=Re;return st&&$e&&(_t=Xa(st)(Re)),this._trans("readwrite",function(wt){return ze.core.mutate({trans:wt,type:"add",keys:Le!=null?[Le]:null,values:[_t]})}).then(function(wt){return wt.numFailures?wr.reject(wt.failures[0]):wt.lastResult}).then(function(wt){if(st)try{tt(Re,st,wt)}catch{}return wt})},pn.prototype.update=function(Re,Le){return typeof Re!="object"||g(Re)?this.where(":id").equals(Re).modify(Le):(Re=ot(Re,this.schema.primKey.keyPath),Re===void 0?vn(new lt.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(Re).modify(Le))},pn.prototype.put=function(Re,Le){var ze=this,Qe=this.schema.primKey,$e=Qe.auto,st=Qe.keyPath,_t=Re;return st&&$e&&(_t=Xa(st)(Re)),this._trans("readwrite",function(wt){return ze.core.mutate({trans:wt,type:"put",values:[_t],keys:Le!=null?[Le]:null})}).then(function(wt){return wt.numFailures?wr.reject(wt.failures[0]):wt.lastResult}).then(function(wt){if(st)try{tt(Re,st,wt)}catch{}return wt})},pn.prototype.delete=function(Re){var Le=this;return this._trans("readwrite",function(ze){return Le.core.mutate({trans:ze,type:"delete",keys:[Re]})}).then(function(ze){return ze.numFailures?wr.reject(ze.failures[0]):void 0})},pn.prototype.clear=function(){var Re=this;return this._trans("readwrite",function(Le){return Re.core.mutate({trans:Le,type:"deleteRange",range:m0})}).then(function(Le){return Le.numFailures?wr.reject(Le.failures[0]):void 0})},pn.prototype.bulkGet=function(Re){var Le=this;return this._trans("readonly",function(ze){return Le.core.getMany({keys:Re,trans:ze}).then(function(Qe){return Qe.map(function($e){return Le.hook.reading.fire($e)})})})},pn.prototype.bulkAdd=function(Re,Le,ze){var Qe=this,$e=Array.isArray(Le)?Le:void 0,st=(ze=ze||($e?void 0:Le))?ze.allKeys:void 0;return this._trans("readwrite",function(_t){var Tt=Qe.schema.primKey,wt=Tt.auto,Tt=Tt.keyPath;if(Tt&&$e)throw new lt.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if($e&&$e.length!==Re.length)throw new lt.InvalidArgument("Arguments objects and keys must have the same length");var Rt=Re.length,Tt=Tt&&wt?Re.map(Xa(Tt)):Re;return Qe.core.mutate({trans:_t,type:"add",keys:$e,values:Tt,wantResults:st}).then(function(Lt){var Ot=Lt.numFailures,Ut=Lt.results,Bt=Lt.lastResult,Lt=Lt.failures;if(Ot===0)return st?Ut:Bt;throw new fr("".concat(Qe.name,".bulkAdd(): ").concat(Ot," of ").concat(Rt," operations failed"),Lt)})})},pn.prototype.bulkPut=function(Re,Le,ze){var Qe=this,$e=Array.isArray(Le)?Le:void 0,st=(ze=ze||($e?void 0:Le))?ze.allKeys:void 0;return this._trans("readwrite",function(_t){var Tt=Qe.schema.primKey,wt=Tt.auto,Tt=Tt.keyPath;if(Tt&&$e)throw new lt.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if($e&&$e.length!==Re.length)throw new lt.InvalidArgument("Arguments objects and keys must have the same length");var Rt=Re.length,Tt=Tt&&wt?Re.map(Xa(Tt)):Re;return Qe.core.mutate({trans:_t,type:"put",keys:$e,values:Tt,wantResults:st}).then(function(Lt){var Ot=Lt.numFailures,Ut=Lt.results,Bt=Lt.lastResult,Lt=Lt.failures;if(Ot===0)return st?Ut:Bt;throw new fr("".concat(Qe.name,".bulkPut(): ").concat(Ot," of ").concat(Rt," operations failed"),Lt)})})},pn.prototype.bulkUpdate=function(Re){var Le=this,ze=this.core,Qe=Re.map(function(_t){return _t.key}),$e=Re.map(function(_t){return _t.changes}),st=[];return this._trans("readwrite",function(_t){return ze.getMany({trans:_t,keys:Qe,cache:"clone"}).then(function(wt){var Rt=[],Tt=[];Re.forEach(function(Ot,Ut){var Bt=Ot.key,Lt=Ot.changes,Vt=wt[Ut];if(Vt){for(var qt=0,Gt=Object.keys(Lt);qt<Gt.length;qt++){var Qt=Gt[qt],Yt=Lt[Qt];if(Qt===Le.schema.primKey.keyPath){if(Xr(Yt,Bt)!==0)throw new lt.Constraint("Cannot update primary key in bulkUpdate()")}else tt(Vt,Qt,Yt)}st.push(Ut),Rt.push(Bt),Tt.push(Vt)}});var Mt=Rt.length;return ze.mutate({trans:_t,type:"put",keys:Rt,values:Tt,updates:{keys:Qe,changeSpecs:$e}}).then(function(Ot){var Ut=Ot.numFailures,Bt=Ot.failures;if(Ut===0)return Mt;for(var Lt=0,Vt=Object.keys(Bt);Lt<Vt.length;Lt++){var qt,Gt=Vt[Lt],Qt=st[Number(Gt)];Qt!=null&&(qt=Bt[Gt],delete Bt[Gt],Bt[Qt]=qt)}throw new fr("".concat(Le.name,".bulkUpdate(): ").concat(Ut," of ").concat(Mt," operations failed"),Bt)})})})},pn.prototype.bulkDelete=function(Re){var Le=this,ze=Re.length;return this._trans("readwrite",function(Qe){return Le.core.mutate({trans:Qe,type:"delete",keys:Re})}).then(function(_t){var $e=_t.numFailures,st=_t.lastResult,_t=_t.failures;if($e===0)return st;throw new fr("".concat(Le.name,".bulkDelete(): ").concat($e," of ").concat(ze," operations failed"),_t)})},pn);function pn(){}function va(Re){function Le(_t,wt){if(wt){for(var Rt=arguments.length,Tt=new Array(Rt-1);--Rt;)Tt[Rt-1]=arguments[Rt];return ze[_t].subscribe.apply(null,Tt),Re}if(typeof _t=="string")return ze[_t]}var ze={};Le.addEventType=st;for(var Qe=1,$e=arguments.length;Qe<$e;++Qe)st(arguments[Qe]);return Le;function st(_t,wt,Rt){if(typeof _t!="object"){var Tt;wt=wt||Dt;var Mt={subscribers:[],fire:Rt=Rt||$t,subscribe:function(Ot){Mt.subscribers.indexOf(Ot)===-1&&(Mt.subscribers.push(Ot),Mt.fire=wt(Mt.fire,Ot))},unsubscribe:function(Ot){Mt.subscribers=Mt.subscribers.filter(function(Ut){return Ut!==Ot}),Mt.fire=Mt.subscribers.reduce(wt,Rt)}};return ze[_t]=Le[_t]=Mt}m(Tt=_t).forEach(function(Ot){var Ut=Tt[Ot];if(g(Ut))st(Ot,Tt[Ot][0],Tt[Ot][1]);else{if(Ut!=="asap")throw new lt.InvalidArgument("Invalid event config");var Bt=st(Ot,dr,function(){for(var Lt=arguments.length,Vt=new Array(Lt);Lt--;)Vt[Lt]=arguments[Lt];Bt.subscribers.forEach(function(qt){Xe(function(){qt.apply(null,Vt)})})})}})}}function ma(Re,Le){return Fe(Le).from({prototype:Re}),Le}function Zi(Re,Le){return!(Re.filter||Re.algorithm||Re.or)&&(Le?Re.justLimit:!Re.replayFilter)}function cs(Re,Le){Re.filter=Ui(Re.filter,Le)}function us(Re,Le,ze){var Qe=Re.replayFilter;Re.replayFilter=Qe?function(){return Ui(Qe(),Le())}:Le,Re.justLimit=ze&&!Qe}function Za(Re,Le){if(Re.isPrimKey)return Le.primaryKey;var ze=Le.getIndexByKeyPath(Re.index);if(!ze)throw new lt.Schema("KeyPath "+Re.index+" on object store "+Le.name+" is not indexed");return ze}function w0(Re,Le,ze){var Qe=Za(Re,Le.schema);return Le.openCursor({trans:ze,values:!Re.keysOnly,reverse:Re.dir==="prev",unique:!!Re.unique,query:{index:Qe,range:Re.range}})}function $a(Re,Le,ze,Qe){var $e=Re.replayFilter?Ui(Re.filter,Re.replayFilter()):Re.filter;if(Re.or){var st={},_t=function(wt,Rt,Tt){var Mt,Ot;$e&&!$e(Rt,Tt,function(Ut){return Rt.stop(Ut)},function(Ut){return Rt.fail(Ut)})||((Ot=""+(Mt=Rt.primaryKey))=="[object ArrayBuffer]"&&(Ot=""+new Uint8Array(Mt)),ne(st,Ot)||(st[Ot]=!0,Le(wt,Rt,Tt)))};return Promise.all([Re.or._iterate(_t,ze),S0(w0(Re,Qe,ze),Re.algorithm,_t,!Re.keysOnly&&Re.valueMapper)])}return S0(w0(Re,Qe,ze),Ui(Re.algorithm,$e),Le,!Re.keysOnly&&Re.valueMapper)}function S0(Re,Le,ze,Qe){var $e=Zr(Qe?function(st,_t,wt){return ze(Qe(st),_t,wt)}:ze);return Re.then(function(st){if(st)return st.start(function(){var _t=function(){return st.continue()};Le&&!Le(st,function(wt){return _t=wt},function(wt){st.stop(wt),_t=$t},function(wt){st.fail(wt),_t=$t})||$e(st.value,st,function(wt){return _t=wt}),_t()})})}var gi=Symbol(),ga=(A0.prototype.execute=function(Re){if(this.add!==void 0){var Le=this.add;if(g(Le))return c(c([],g(Re)?Re:[],!0),Le,!0).sort();if(typeof Le=="number")return(Number(Re)||0)+Le;if(typeof Le=="bigint")try{return BigInt(Re)+Le}catch{return BigInt(0)+Le}throw new TypeError("Invalid term ".concat(Le))}if(this.remove!==void 0){var ze=this.remove;if(g(ze))return g(Re)?Re.filter(function(Qe){return!ze.includes(Qe)}).sort():[];if(typeof ze=="number")return Number(Re)-ze;if(typeof ze=="bigint")try{return BigInt(Re)-ze}catch{return BigInt(0)-ze}throw new TypeError("Invalid subtrahend ".concat(ze))}return Le=(Le=this.replacePrefix)===null||Le===void 0?void 0:Le[0],Le&&typeof Re=="string"&&Re.startsWith(Le)?this.replacePrefix[1]+Re.substring(Le.length):Re},A0);function A0(Re){Object.assign(this,Re)}var nu=($r.prototype._read=function(Re,Le){var ze=this._ctx;return ze.error?ze.table._trans(null,vn.bind(null,ze.error)):ze.table._trans("readonly",Re).then(Le)},$r.prototype._write=function(Re){var Le=this._ctx;return Le.error?Le.table._trans(null,vn.bind(null,Le.error)):Le.table._trans("readwrite",Re,"locked")},$r.prototype._addAlgorithm=function(Re){var Le=this._ctx;Le.algorithm=Ui(Le.algorithm,Re)},$r.prototype._iterate=function(Re,Le){return $a(this._ctx,Re,Le,this._ctx.table.core)},$r.prototype.clone=function(Re){var Le=Object.create(this.constructor.prototype),ze=Object.create(this._ctx);return Re&&Te(ze,Re),Le._ctx=ze,Le},$r.prototype.raw=function(){return this._ctx.valueMapper=null,this},$r.prototype.each=function(Re){var Le=this._ctx;return this._read(function(ze){return $a(Le,Re,ze,Le.table.core)})},$r.prototype.count=function(Re){var Le=this;return this._read(function(ze){var Qe=Le._ctx,$e=Qe.table.core;if(Zi(Qe,!0))return $e.count({trans:ze,query:{index:Za(Qe,$e.schema),range:Qe.range}}).then(function(_t){return Math.min(_t,Qe.limit)});var st=0;return $a(Qe,function(){return++st,!1},ze,$e).then(function(){return st})}).then(Re)},$r.prototype.sortBy=function(Re,Le){var ze=Re.split(".").reverse(),Qe=ze[0],$e=ze.length-1;function st(Rt,Tt){return Tt?st(Rt[ze[Tt]],Tt-1):Rt[Qe]}var _t=this._ctx.dir==="next"?1:-1;function wt(Rt,Tt){return Rt=st(Rt,$e),Tt=st(Tt,$e),Rt<Tt?-_t:Tt<Rt?_t:0}return this.toArray(function(Rt){return Rt.sort(wt)}).then(Le)},$r.prototype.toArray=function(Re){var Le=this;return this._read(function(ze){var Qe=Le._ctx;if(Qe.dir==="next"&&Zi(Qe,!0)&&0<Qe.limit){var $e=Qe.valueMapper,st=Za(Qe,Qe.table.core.schema);return Qe.table.core.query({trans:ze,limit:Qe.limit,values:!0,query:{index:st,range:Qe.range}}).then(function(wt){return wt=wt.result,$e?wt.map($e):wt})}var _t=[];return $a(Qe,function(wt){return _t.push(wt)},ze,Qe.table.core).then(function(){return _t})},Re)},$r.prototype.offset=function(Re){var Le=this._ctx;return Re<=0||(Le.offset+=Re,Zi(Le)?us(Le,function(){var ze=Re;return function(Qe,$e){return ze===0||(ze===1?--ze:$e(function(){Qe.advance(ze),ze=0}),!1)}}):us(Le,function(){var ze=Re;return function(){return--ze<0}})),this},$r.prototype.limit=function(Re){return this._ctx.limit=Math.min(this._ctx.limit,Re),us(this._ctx,function(){var Le=Re;return function(ze,Qe,$e){return--Le<=0&&Qe($e),0<=Le}},!0),this},$r.prototype.until=function(Re,Le){return cs(this._ctx,function(ze,Qe,$e){return!Re(ze.value)||(Qe($e),Le)}),this},$r.prototype.first=function(Re){return this.limit(1).toArray(function(Le){return Le[0]}).then(Re)},$r.prototype.last=function(Re){return this.reverse().first(Re)},$r.prototype.filter=function(Re){var Le;return cs(this._ctx,function(ze){return Re(ze.value)}),(Le=this._ctx).isMatch=Ui(Le.isMatch,Re),this},$r.prototype.and=function(Re){return this.filter(Re)},$r.prototype.or=function(Re){return new this.db.WhereClause(this._ctx.table,Re,this)},$r.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},$r.prototype.desc=function(){return this.reverse()},$r.prototype.eachKey=function(Re){var Le=this._ctx;return Le.keysOnly=!Le.isMatch,this.each(function(ze,Qe){Re(Qe.key,Qe)})},$r.prototype.eachUniqueKey=function(Re){return this._ctx.unique="unique",this.eachKey(Re)},$r.prototype.eachPrimaryKey=function(Re){var Le=this._ctx;return Le.keysOnly=!Le.isMatch,this.each(function(ze,Qe){Re(Qe.primaryKey,Qe)})},$r.prototype.keys=function(Re){var Le=this._ctx;Le.keysOnly=!Le.isMatch;var ze=[];return this.each(function(Qe,$e){ze.push($e.key)}).then(function(){return ze}).then(Re)},$r.prototype.primaryKeys=function(Re){var Le=this._ctx;if(Le.dir==="next"&&Zi(Le,!0)&&0<Le.limit)return this._read(function(Qe){var $e=Za(Le,Le.table.core.schema);return Le.table.core.query({trans:Qe,values:!1,limit:Le.limit,query:{index:$e,range:Le.range}})}).then(function(Qe){return Qe.result}).then(Re);Le.keysOnly=!Le.isMatch;var ze=[];return this.each(function(Qe,$e){ze.push($e.primaryKey)}).then(function(){return ze}).then(Re)},$r.prototype.uniqueKeys=function(Re){return this._ctx.unique="unique",this.keys(Re)},$r.prototype.firstKey=function(Re){return this.limit(1).keys(function(Le){return Le[0]}).then(Re)},$r.prototype.lastKey=function(Re){return this.reverse().firstKey(Re)},$r.prototype.distinct=function(){var Re=this._ctx,Re=Re.index&&Re.table.schema.idxByName[Re.index];if(!Re||!Re.multi)return this;var Le={};return cs(this._ctx,function($e){var Qe=$e.primaryKey.toString(),$e=ne(Le,Qe);return Le[Qe]=!0,!$e}),this},$r.prototype.modify=function(Re){var Le=this,ze=this._ctx;return this._write(function(Qe){var $e,st,_t;_t=typeof Re=="function"?Re:($e=m(Re),st=$e.length,function(qt){for(var Gt=!1,Qt=0;Qt<st;++Qt){var Yt=$e[Qt],rr=Re[Yt],xr=ot(qt,Yt);rr instanceof ga?(tt(qt,Yt,rr.execute(xr)),Gt=!0):xr!==rr&&(tt(qt,Yt,rr),Gt=!0)}return Gt});function wt(qt,Yt){var Qt=Yt.failures,Yt=Yt.numFailures;Lt+=qt-Yt;for(var rr=0,xr=m(Qt);rr<xr.length;rr++){var Ir=xr[rr];Bt.push(Qt[Ir])}}var Rt=ze.table.core,Tt=Rt.schema.primaryKey,Mt=Tt.outbound,Ot=Tt.extractKey,Ut=Le.db._options.modifyChunkSize||200,Bt=[],Lt=0,Vt=[];return Le.clone().primaryKeys().then(function(qt){function Gt(Yt){var rr=Math.min(Ut,qt.length-Yt);return Rt.getMany({trans:Qe,keys:qt.slice(Yt,Yt+rr),cache:"immutable"}).then(function(xr){for(var Ir=[],hr=[],br=Mt?[]:null,Ar=[],lr=0;lr<rr;++lr){var pr=xr[lr],Ur={value:vt(pr),primKey:qt[Yt+lr]};_t.call(Ur,Ur.value,Ur)!==!1&&(Ur.value==null?Ar.push(qt[Yt+lr]):Mt||Xr(Ot(pr),Ot(Ur.value))===0?(hr.push(Ur.value),Mt&&br.push(qt[Yt+lr])):(Ar.push(qt[Yt+lr]),Ir.push(Ur.value)))}return Promise.resolve(0<Ir.length&&Rt.mutate({trans:Qe,type:"add",values:Ir}).then(function(Kr){for(var Vr in Kr.failures)Ar.splice(parseInt(Vr),1);wt(Ir.length,Kr)})).then(function(){return(0<hr.length||Qt&&typeof Re=="object")&&Rt.mutate({trans:Qe,type:"put",keys:br,values:hr,criteria:Qt,changeSpec:typeof Re!="function"&&Re,isAdditionalChunk:0<Yt}).then(function(Kr){return wt(hr.length,Kr)})}).then(function(){return(0<Ar.length||Qt&&Re===ls)&&Rt.mutate({trans:Qe,type:"delete",keys:Ar,criteria:Qt,isAdditionalChunk:0<Yt}).then(function(Kr){return wt(Ar.length,Kr)})}).then(function(){return qt.length>Yt+rr&&Gt(Yt+Ut)})})}var Qt=Zi(ze)&&ze.limit===1/0&&(typeof Re!="function"||Re===ls)&&{index:ze.index,range:ze.range};return Gt(0).then(function(){if(0<Bt.length)throw new Kt("Error modifying one or more objects",Bt,Lt,Vt);return qt.length})})})},$r.prototype.delete=function(){var Re=this._ctx,Le=Re.range;return Zi(Re)&&(Re.isPrimKey||Le.type===3)?this._write(function(ze){var Qe=Re.table.core.schema.primaryKey,$e=Le;return Re.table.core.count({trans:ze,query:{index:Qe,range:$e}}).then(function(st){return Re.table.core.mutate({trans:ze,type:"deleteRange",range:$e}).then(function(_t){var wt=_t.failures;if(_t.lastResult,_t.results,_t=_t.numFailures,_t)throw new Kt("Could not delete some values",Object.keys(wt).map(function(Rt){return wt[Rt]}),st-_t);return st-_t})})}):this.modify(ls)},$r);function $r(){}var ls=function(Re,Le){return Le.value=null};function iu(Re,Le){return Re<Le?-1:Re===Le?0:1}function au(Re,Le){return Le<Re?-1:Re===Le?0:1}function Yr(Re,Le,ze){return Re=Re instanceof I0?new Re.Collection(Re):Re,Re._ctx.error=new(ze||TypeError)(Le),Re}function $i(Re){return new Re.Collection(Re,function(){return fs("")}).limit(0)}function eo(Re,Le,ze,Qe){var $e,st,_t,wt,Rt,Tt,Mt,Ot=ze.length;if(!ze.every(function(Lt){return typeof Lt=="string"}))return Yr(Re,v0);function Ut(Lt){$e=Lt==="next"?function(qt){return qt.toUpperCase()}:function(qt){return qt.toLowerCase()},st=Lt==="next"?function(qt){return qt.toLowerCase()}:function(qt){return qt.toUpperCase()},_t=Lt==="next"?iu:au;var Vt=ze.map(function(qt){return{lower:st(qt),upper:$e(qt)}}).sort(function(qt,Gt){return _t(qt.lower,Gt.lower)});wt=Vt.map(function(qt){return qt.upper}),Rt=Vt.map(function(qt){return qt.lower}),Mt=(Tt=Lt)==="next"?"":Qe}Ut("next"),Re=new Re.Collection(Re,function(){return yi(wt[0],Rt[Ot-1]+Qe)}),Re._ondirectionchange=function(Lt){Ut(Lt)};var Bt=0;return Re._addAlgorithm(function(Lt,Vt,qt){var Gt=Lt.key;if(typeof Gt!="string")return!1;var Qt=st(Gt);if(Le(Qt,Rt,Bt))return!0;for(var Yt=null,rr=Bt;rr<Ot;++rr){var xr=function(Ir,hr,br,Ar,lr,pr){for(var Ur=Math.min(Ir.length,Ar.length),Kr=-1,Vr=0;Vr<Ur;++Vr){var Zn=hr[Vr];if(Zn!==Ar[Vr])return lr(Ir[Vr],br[Vr])<0?Ir.substr(0,Vr)+br[Vr]+br.substr(Vr+1):lr(Ir[Vr],Ar[Vr])<0?Ir.substr(0,Vr)+Ar[Vr]+br.substr(Vr+1):0<=Kr?Ir.substr(0,Kr)+hr[Kr]+br.substr(Kr+1):null;lr(Ir[Vr],Zn)<0&&(Kr=Vr)}return Ur<Ar.length&&pr==="next"?Ir+br.substr(Ir.length):Ur<Ir.length&&pr==="prev"?Ir.substr(0,br.length):Kr<0?null:Ir.substr(0,Kr)+Ar[Kr]+br.substr(Kr+1)}(Gt,Qt,wt[rr],Rt[rr],_t,Tt);xr===null&&Yt===null?Bt=rr+1:(Yt===null||0<_t(Yt,xr))&&(Yt=xr)}return Vt(Yt!==null?function(){Lt.continue(Yt+Mt)}:qt),!1}),Re}function yi(Re,Le,ze,Qe){return{type:2,lower:Re,upper:Le,lowerOpen:ze,upperOpen:Qe}}function fs(Re){return{type:1,lower:Re,upper:Re}}var I0=(Object.defineProperty(Sn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Sn.prototype.between=function(Re,Le,ze,Qe){ze=ze!==!1,Qe=Qe===!0;try{return 0<this._cmp(Re,Le)||this._cmp(Re,Le)===0&&(ze||Qe)&&(!ze||!Qe)?$i(this):new this.Collection(this,function(){return yi(Re,Le,!ze,!Qe)})}catch{return Yr(this,li)}},Sn.prototype.equals=function(Re){return Re==null?Yr(this,li):new this.Collection(this,function(){return fs(Re)})},Sn.prototype.above=function(Re){return Re==null?Yr(this,li):new this.Collection(this,function(){return yi(Re,void 0,!0)})},Sn.prototype.aboveOrEqual=function(Re){return Re==null?Yr(this,li):new this.Collection(this,function(){return yi(Re,void 0,!1)})},Sn.prototype.below=function(Re){return Re==null?Yr(this,li):new this.Collection(this,function(){return yi(void 0,Re,!1,!0)})},Sn.prototype.belowOrEqual=function(Re){return Re==null?Yr(this,li):new this.Collection(this,function(){return yi(void 0,Re)})},Sn.prototype.startsWith=function(Re){return typeof Re!="string"?Yr(this,v0):this.between(Re,Re+Ii,!0,!0)},Sn.prototype.startsWithIgnoreCase=function(Re){return Re===""?this.startsWith(Re):eo(this,function(Le,ze){return Le.indexOf(ze[0])===0},[Re],Ii)},Sn.prototype.equalsIgnoreCase=function(Re){return eo(this,function(Le,ze){return Le===ze[0]},[Re],"")},Sn.prototype.anyOfIgnoreCase=function(){var Re=St.apply(bt,arguments);return Re.length===0?$i(this):eo(this,function(Le,ze){return ze.indexOf(Le)!==-1},Re,"")},Sn.prototype.startsWithAnyOfIgnoreCase=function(){var Re=St.apply(bt,arguments);return Re.length===0?$i(this):eo(this,function(Le,ze){return ze.some(function(Qe){return Le.indexOf(Qe)===0})},Re,Ii)},Sn.prototype.anyOf=function(){var Re=this,Le=St.apply(bt,arguments),ze=this._cmp;try{Le.sort(ze)}catch{return Yr(this,li)}if(Le.length===0)return $i(this);var Qe=new this.Collection(this,function(){return yi(Le[0],Le[Le.length-1])});Qe._ondirectionchange=function(st){ze=st==="next"?Re._ascending:Re._descending,Le.sort(ze)};var $e=0;return Qe._addAlgorithm(function(st,_t,wt){for(var Rt=st.key;0<ze(Rt,Le[$e]);)if(++$e===Le.length)return _t(wt),!1;return ze(Rt,Le[$e])===0||(_t(function(){st.continue(Le[$e])}),!1)}),Qe},Sn.prototype.notEqual=function(Re){return this.inAnyRange([[-1/0,Re],[Re,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Sn.prototype.noneOf=function(){var Re=St.apply(bt,arguments);if(Re.length===0)return new this.Collection(this);try{Re.sort(this._ascending)}catch{return Yr(this,li)}var Le=Re.reduce(function(ze,Qe){return ze?ze.concat([[ze[ze.length-1][1],Qe]]):[[-1/0,Qe]]},null);return Le.push([Re[Re.length-1],this.db._maxKey]),this.inAnyRange(Le,{includeLowers:!1,includeUppers:!1})},Sn.prototype.inAnyRange=function(Gt,Le){var ze=this,Qe=this._cmp,$e=this._ascending,st=this._descending,_t=this._min,wt=this._max;if(Gt.length===0)return $i(this);if(!Gt.every(function(Qt){return Qt[0]!==void 0&&Qt[1]!==void 0&&$e(Qt[0],Qt[1])<=0}))return Yr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",lt.InvalidArgument);var Rt=!Le||Le.includeLowers!==!1,Tt=Le&&Le.includeUppers===!0,Mt,Ot=$e;function Ut(Qt,Yt){return Ot(Qt[0],Yt[0])}try{(Mt=Gt.reduce(function(Qt,Yt){for(var rr=0,xr=Qt.length;rr<xr;++rr){var Ir=Qt[rr];if(Qe(Yt[0],Ir[1])<0&&0<Qe(Yt[1],Ir[0])){Ir[0]=_t(Ir[0],Yt[0]),Ir[1]=wt(Ir[1],Yt[1]);break}}return rr===xr&&Qt.push(Yt),Qt},[])).sort(Ut)}catch{return Yr(this,li)}var Bt=0,Lt=Tt?function(Qt){return 0<$e(Qt,Mt[Bt][1])}:function(Qt){return 0<=$e(Qt,Mt[Bt][1])},Vt=Rt?function(Qt){return 0<st(Qt,Mt[Bt][0])}:function(Qt){return 0<=st(Qt,Mt[Bt][0])},qt=Lt,Gt=new this.Collection(this,function(){return yi(Mt[0][0],Mt[Mt.length-1][1],!Rt,!Tt)});return Gt._ondirectionchange=function(Qt){Ot=Qt==="next"?(qt=Lt,$e):(qt=Vt,st),Mt.sort(Ut)},Gt._addAlgorithm(function(Qt,Yt,rr){for(var xr,Ir=Qt.key;qt(Ir);)if(++Bt===Mt.length)return Yt(rr),!1;return!Lt(xr=Ir)&&!Vt(xr)||(ze._cmp(Ir,Mt[Bt][1])===0||ze._cmp(Ir,Mt[Bt][0])===0||Yt(function(){Ot===$e?Qt.continue(Mt[Bt][0]):Qt.continue(Mt[Bt][1])}),!1)}),Gt},Sn.prototype.startsWithAnyOf=function(){var Re=St.apply(bt,arguments);return Re.every(function(Le){return typeof Le=="string"})?Re.length===0?$i(this):this.inAnyRange(Re.map(function(Le){return[Le,Le+Ii]})):Yr(this,"startsWithAnyOf() only works with strings")},Sn);function Sn(){}function ni(Re){return Zr(function(Le){return ea(Le),Re(Le.target.error),!1})}function ea(Re){Re.stopPropagation&&Re.stopPropagation(),Re.preventDefault&&Re.preventDefault()}var ya="storagemutated",ds="x-storagemutated-1",Ci=va(null,ya),ou=(fi.prototype._lock=function(){return He(!Cr.global),++this._reculock,this._reculock!==1||Cr.global||(Cr.lockOwnerFor=this),this},fi.prototype._unlock=function(){if(He(!Cr.global),--this._reculock==0)for(Cr.global||(Cr.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var Re=this._blockedFuncs.shift();try{hn(Re[1],Re[0])}catch{}}return this},fi.prototype._locked=function(){return this._reculock&&Cr.lockOwnerFor!==this},fi.prototype.create=function(Re){var Le=this;if(!this.mode)return this;var ze=this.db.idbdb,Qe=this.db._state.dbOpenError;if(He(!this.idbtrans),!Re&&!ze)switch(Qe&&Qe.name){case"DatabaseClosedError":throw new lt.DatabaseClosed(Qe);case"MissingAPIError":throw new lt.MissingAPI(Qe.message,Qe);default:throw new lt.OpenFailed(Qe)}if(!this.active)throw new lt.TransactionInactive;return He(this._completion._state===null),(Re=this.idbtrans=Re||(this.db.core||ze).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Zr(function($e){ea($e),Le._reject(Re.error)}),Re.onabort=Zr(function($e){ea($e),Le.active&&Le._reject(new lt.Abort(Re.error)),Le.active=!1,Le.on("abort").fire($e)}),Re.oncomplete=Zr(function(){Le.active=!1,Le._resolve(),"mutatedParts"in Re&&Ci.storagemutated.fire(Re.mutatedParts)}),this},fi.prototype._promise=function(Re,Le,ze){var Qe=this;if(Re==="readwrite"&&this.mode!=="readwrite")return vn(new lt.ReadOnly("Transaction is readonly"));if(!this.active)return vn(new lt.TransactionInactive);if(this._locked())return new wr(function(st,_t){Qe._blockedFuncs.push([function(){Qe._promise(Re,Le,ze).then(st,_t)},Cr])});if(ze)return dn(function(){var st=new wr(function(_t,wt){Qe._lock();var Rt=Le(_t,wt,Qe);Rt&&Rt.then&&Rt.then(_t,wt)});return st.finally(function(){return Qe._unlock()}),st._lib=!0,st});var $e=new wr(function(st,_t){var wt=Le(st,_t,Qe);wt&&wt.then&&wt.then(st,_t)});return $e._lib=!0,$e},fi.prototype._root=function(){return this.parent?this.parent._root():this},fi.prototype.waitFor=function(Re){var Le,ze=this._root(),Qe=wr.resolve(Re);ze._waitingFor?ze._waitingFor=ze._waitingFor.then(function(){return Qe}):(ze._waitingFor=Qe,ze._waitingQueue=[],Le=ze.idbtrans.objectStore(ze.storeNames[0]),function st(){for(++ze._spinCount;ze._waitingQueue.length;)ze._waitingQueue.shift()();ze._waitingFor&&(Le.get(-1/0).onsuccess=st)}());var $e=ze._waitingFor;return new wr(function(st,_t){Qe.then(function(wt){return ze._waitingQueue.push(Zr(st.bind(null,wt)))},function(wt){return ze._waitingQueue.push(Zr(_t.bind(null,wt)))}).finally(function(){ze._waitingFor===$e&&(ze._waitingFor=null)})})},fi.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new lt.Abort))},fi.prototype.table=function(Re){var Le=this._memoizedTables||(this._memoizedTables={});if(ne(Le,Re))return Le[Re];var ze=this.schema[Re];if(!ze)throw new lt.NotFound("Table "+Re+" not part of transaction");return ze=new this.db.Table(Re,ze,this),ze.core=this.db.core.table(Re),Le[Re]=ze},fi);function fi(){}function xs(Re,Le,ze,Qe,$e,st,_t){return{name:Re,keyPath:Le,unique:ze,multi:Qe,auto:$e,compound:st,src:(ze&&!_t?"&":"")+(Qe?"*":"")+($e?"++":"")+C0(Le)}}function C0(Re){return typeof Re=="string"?Re:Re?"["+[].join.call(Re,"+")+"]":""}function hs(Re,Le,ze){return{name:Re,primKey:Le,indexes:ze,mappedClass:null,idxByName:(Qe=function($e){return[$e.name,$e]},ze.reduce(function($e,st,_t){return _t=Qe(st,_t),_t&&($e[_t[0]]=_t[1]),$e},{}))};var Qe}var ba=function(Re){try{return Re.only([[]]),ba=function(){return[[]]},[[]]}catch{return ba=function(){return Ii},Ii}};function ps(Re){return Re==null?function(){}:typeof Re=="string"?(Le=Re).split(".").length===1?function(ze){return ze[Le]}:function(ze){return ot(ze,Le)}:function(ze){return ot(ze,Re)};var Le}function k0(Re){return[].slice.call(Re)}var su=0;function Ea(Re){return Re==null?":id":typeof Re=="string"?Re:"[".concat(Re.join("+"),"]")}function cu(Re,Le,Rt){function Qe(qt){if(qt.type===3)return null;if(qt.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var Bt=qt.lower,Lt=qt.upper,Vt=qt.lowerOpen,qt=qt.upperOpen;return Bt===void 0?Lt===void 0?null:Le.upperBound(Lt,!!qt):Lt===void 0?Le.lowerBound(Bt,!!Vt):Le.bound(Bt,Lt,!!Vt,!!qt)}function $e(Ut){var Bt,Lt=Ut.name;return{name:Lt,schema:Ut,mutate:function(Vt){var qt=Vt.trans,Gt=Vt.type,Qt=Vt.keys,Yt=Vt.values,rr=Vt.range;return new Promise(function(xr,Ir){xr=Zr(xr);var hr=qt.objectStore(Lt),br=hr.keyPath==null,Ar=Gt==="put"||Gt==="add";if(!Ar&&Gt!=="delete"&&Gt!=="deleteRange")throw new Error("Invalid operation type: "+Gt);var lr,pr=(Qt||Yt||{length:1}).length;if(Qt&&Yt&&Qt.length!==Yt.length)throw new Error("Given keys array must have same length as given values array.");if(pr===0)return xr({numFailures:0,failures:{},results:[],lastResult:void 0});function Ur(Rn){++Zn,ea(Rn)}var Kr=[],Vr=[],Zn=0;if(Gt==="deleteRange"){if(rr.type===4)return xr({numFailures:Zn,failures:Vr,results:[],lastResult:void 0});rr.type===3?Kr.push(lr=hr.clear()):Kr.push(lr=hr.delete(Qe(rr)))}else{var br=Ar?br?[Yt,Qt]:[Yt,null]:[Qt,null],Hr=br[0],An=br[1];if(Ar)for(var Gr=0;Gr<pr;++Gr)Kr.push(lr=An&&An[Gr]!==void 0?hr[Gt](Hr[Gr],An[Gr]):hr[Gt](Hr[Gr])),lr.onerror=Ur;else for(Gr=0;Gr<pr;++Gr)Kr.push(lr=hr[Gt](Hr[Gr])),lr.onerror=Ur}function ra(Rn){Rn=Rn.target.result,Kr.forEach(function(xi,bo){return xi.error!=null&&(Vr[bo]=xi.error)}),xr({numFailures:Zn,failures:Vr,results:Gt==="delete"?Qt:Kr.map(function(xi){return xi.result}),lastResult:Rn})}lr.onerror=function(Rn){Ur(Rn),ra(Rn)},lr.onsuccess=ra})},getMany:function(Vt){var qt=Vt.trans,Gt=Vt.keys;return new Promise(function(Qt,Yt){Qt=Zr(Qt);for(var rr,xr=qt.objectStore(Lt),Ir=Gt.length,hr=new Array(Ir),br=0,Ar=0,lr=function(Kr){Kr=Kr.target,hr[Kr._pos]=Kr.result,++Ar===br&&Qt(hr)},pr=ni(Yt),Ur=0;Ur<Ir;++Ur)Gt[Ur]!=null&&((rr=xr.get(Gt[Ur]))._pos=Ur,rr.onsuccess=lr,rr.onerror=pr,++br);br===0&&Qt(hr)})},get:function(Vt){var qt=Vt.trans,Gt=Vt.key;return new Promise(function(Qt,Yt){Qt=Zr(Qt);var rr=qt.objectStore(Lt).get(Gt);rr.onsuccess=function(xr){return Qt(xr.target.result)},rr.onerror=ni(Yt)})},query:(Bt=Tt,function(Vt){return new Promise(function(qt,Gt){qt=Zr(qt);var Qt,Yt,rr,br=Vt.trans,xr=Vt.values,Ir=Vt.limit,lr=Vt.query,hr=Ir===1/0?void 0:Ir,Ar=lr.index,lr=lr.range,br=br.objectStore(Lt),Ar=Ar.isPrimaryKey?br:br.index(Ar.name),lr=Qe(lr);if(Ir===0)return qt({result:[]});Bt?((hr=xr?Ar.getAll(lr,hr):Ar.getAllKeys(lr,hr)).onsuccess=function(pr){return qt({result:pr.target.result})},hr.onerror=ni(Gt)):(Qt=0,Yt=!xr&&"openKeyCursor"in Ar?Ar.openKeyCursor(lr):Ar.openCursor(lr),rr=[],Yt.onsuccess=function(pr){var Ur=Yt.result;return Ur?(rr.push(xr?Ur.value:Ur.primaryKey),++Qt===Ir?qt({result:rr}):void Ur.continue()):qt({result:rr})},Yt.onerror=ni(Gt))})}),openCursor:function(Vt){var qt=Vt.trans,Gt=Vt.values,Qt=Vt.query,Yt=Vt.reverse,rr=Vt.unique;return new Promise(function(xr,Ir){xr=Zr(xr);var Ar=Qt.index,hr=Qt.range,br=qt.objectStore(Lt),br=Ar.isPrimaryKey?br:br.index(Ar.name),Ar=Yt?rr?"prevunique":"prev":rr?"nextunique":"next",lr=!Gt&&"openKeyCursor"in br?br.openKeyCursor(Qe(hr),Ar):br.openCursor(Qe(hr),Ar);lr.onerror=ni(Ir),lr.onsuccess=Zr(function(pr){var Ur,Kr,Vr,Zn,Hr=lr.result;Hr?(Hr.___id=++su,Hr.done=!1,Ur=Hr.continue.bind(Hr),Kr=(Kr=Hr.continuePrimaryKey)&&Kr.bind(Hr),Vr=Hr.advance.bind(Hr),Zn=function(){throw new Error("Cursor not stopped")},Hr.trans=qt,Hr.stop=Hr.continue=Hr.continuePrimaryKey=Hr.advance=function(){throw new Error("Cursor not started")},Hr.fail=Zr(Ir),Hr.next=function(){var An=this,Gr=1;return this.start(function(){return Gr--?An.continue():An.stop()}).then(function(){return An})},Hr.start=function(An){function Gr(){if(lr.result)try{An()}catch(Rn){Hr.fail(Rn)}else Hr.done=!0,Hr.start=function(){throw new Error("Cursor behind last entry")},Hr.stop()}var ra=new Promise(function(Rn,xi){Rn=Zr(Rn),lr.onerror=ni(xi),Hr.fail=xi,Hr.stop=function(bo){Hr.stop=Hr.continue=Hr.continuePrimaryKey=Hr.advance=Zn,Rn(bo)}});return lr.onsuccess=Zr(function(Rn){lr.onsuccess=Gr,Gr()}),Hr.continue=Ur,Hr.continuePrimaryKey=Kr,Hr.advance=Vr,Gr(),ra},xr(Hr)):xr(null)},Ir)})},count:function(Vt){var qt=Vt.query,Gt=Vt.trans,Qt=qt.index,Yt=qt.range;return new Promise(function(rr,xr){var Ir=Gt.objectStore(Lt),hr=Qt.isPrimaryKey?Ir:Ir.index(Qt.name),Ir=Qe(Yt),hr=Ir?hr.count(Ir):hr.count();hr.onsuccess=Zr(function(br){return rr(br.target.result)}),hr.onerror=ni(xr)})}}}var st,_t,wt,Mt=(_t=Rt,wt=k0((st=Re).objectStoreNames),{schema:{name:st.name,tables:wt.map(function(Ut){return _t.objectStore(Ut)}).map(function(Ut){var Bt=Ut.keyPath,qt=Ut.autoIncrement,Lt=g(Bt),Vt={},qt={name:Ut.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:Bt==null,compound:Lt,keyPath:Bt,autoIncrement:qt,unique:!0,extractKey:ps(Bt)},indexes:k0(Ut.indexNames).map(function(Gt){return Ut.index(Gt)}).map(function(rr){var Qt=rr.name,Yt=rr.unique,xr=rr.multiEntry,rr=rr.keyPath,xr={name:Qt,compound:g(rr),keyPath:rr,unique:Yt,multiEntry:xr,extractKey:ps(rr)};return Vt[Ea(rr)]=xr}),getIndexByKeyPath:function(Gt){return Vt[Ea(Gt)]}};return Vt[":id"]=qt.primaryKey,Bt!=null&&(Vt[Ea(Bt)]=qt.primaryKey),qt})},hasGetAll:0<wt.length&&"getAll"in _t.objectStore(wt[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),Rt=Mt.schema,Tt=Mt.hasGetAll,Mt=Rt.tables.map($e),Ot={};return Mt.forEach(function(Ut){return Ot[Ut.name]=Ut}),{stack:"dbcore",transaction:Re.transaction.bind(Re),table:function(Ut){if(!Ot[Ut])throw new Error("Table '".concat(Ut,"' not found"));return Ot[Ut]},MIN_KEY:-1/0,MAX_KEY:ba(Le),schema:Rt}}function uu(Re,Le,ze,Qe){var $e=ze.IDBKeyRange;return ze.indexedDB,{dbcore:(Qe=cu(Le,$e,Qe),Re.dbcore.reduce(function(st,_t){return _t=_t.create,i(i({},st),_t(st))},Qe))}}function to(Re,Qe){var ze=Qe.db,Qe=uu(Re._middlewares,ze,Re._deps,Qe);Re.core=Qe.dbcore,Re.tables.forEach(function($e){var st=$e.name;Re.core.schema.tables.some(function(_t){return _t.name===st})&&($e.core=Re.core.table(st),Re[st]instanceof Re.Table&&(Re[st].core=$e.core))})}function wa(Re,Le,ze,Qe){ze.forEach(function($e){var st=Qe[$e];Le.forEach(function(_t){var wt=function Rt(Tt,Mt){return Ne(Tt,Mt)||(Tt=Ee(Tt))&&Rt(Tt,Mt)}(_t,$e);(!wt||"value"in wt&&wt.value===void 0)&&(_t===Re.Transaction.prototype||_t instanceof Re.Transaction?qe(_t,$e,{get:function(){return this.table($e)},set:function(Rt){Ie(this,$e,{value:Rt,writable:!0,configurable:!0,enumerable:!0})}}):_t[$e]=new Re.Table($e,st))})})}function ro(Re,Le){Le.forEach(function(ze){for(var Qe in ze)ze[Qe]instanceof Re.Table&&delete ze[Qe]})}function O0(Re,Le){return Re._cfg.version-Le._cfg.version}function _s(Re,Le,ze,Qe){var $e=Re._dbSchema;ze.objectStoreNames.contains("$meta")&&!$e.$meta&&($e.$meta=hs("$meta",D0("")[0],[]),Re._storeNames.push("$meta"));var st=Re._createTransaction("readwrite",Re._storeNames,$e);st.create(ze),st._completion.catch(Qe);var _t=st._reject.bind(st),wt=Cr.transless||Cr;dn(function(){return Cr.trans=st,Cr.transless=wt,Le!==0?(to(Re,ze),Tt=Le,((Rt=st).storeNames.includes("$meta")?Rt.table("$meta").get("version").then(function(Mt){return Mt??Tt}):wr.resolve(Tt)).then(function(Mt){return Ut=Mt,Bt=st,Lt=ze,Vt=[],Mt=(Ot=Re)._versions,qt=Ot._dbSchema=io(0,Ot.idbdb,Lt),(Mt=Mt.filter(function(Gt){return Gt._cfg.version>=Ut})).length!==0?(Mt.forEach(function(Gt){Vt.push(function(){var Qt=qt,Yt=Gt._cfg.dbschema;ao(Ot,Qt,Lt),ao(Ot,Yt,Lt),qt=Ot._dbSchema=Yt;var rr=vs(Qt,Yt);rr.add.forEach(function(Ar){no(Lt,Ar[0],Ar[1].primKey,Ar[1].indexes)}),rr.change.forEach(function(Ar){if(Ar.recreate)throw new lt.Upgrade("Not yet support for changing primary key");var lr=Lt.objectStore(Ar.name);Ar.add.forEach(function(pr){return Sa(lr,pr)}),Ar.change.forEach(function(pr){lr.deleteIndex(pr.name),Sa(lr,pr)}),Ar.del.forEach(function(pr){return lr.deleteIndex(pr)})});var xr=Gt._cfg.contentUpgrade;if(xr&&Gt._cfg.version>Ut){to(Ot,Lt),Bt._memoizedTables={};var Ir=mt(Yt);rr.del.forEach(function(Ar){Ir[Ar]=Qt[Ar]}),ro(Ot,[Ot.Transaction.prototype]),wa(Ot,[Ot.Transaction.prototype],m(Ir),Ir),Bt.schema=Ir;var hr,br=ct(xr);return br&&wn(),rr=wr.follow(function(){var Ar;(hr=xr(Bt))&&br&&(Ar=xn.bind(null,null),hr.then(Ar,Ar))}),hr&&typeof hr.then=="function"?wr.resolve(hr):rr.then(function(){return hr})}}),Vt.push(function(Qt){var Yt,rr,xr=Gt._cfg.dbschema;Yt=xr,rr=Qt,[].slice.call(rr.db.objectStoreNames).forEach(function(Ir){return Yt[Ir]==null&&rr.db.deleteObjectStore(Ir)}),ro(Ot,[Ot.Transaction.prototype]),wa(Ot,[Ot.Transaction.prototype],Ot._storeNames,Ot._dbSchema),Bt.schema=Ot._dbSchema}),Vt.push(function(Qt){Ot.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(Ot.idbdb.version/10)===Gt._cfg.version?(Ot.idbdb.deleteObjectStore("$meta"),delete Ot._dbSchema.$meta,Ot._storeNames=Ot._storeNames.filter(function(Yt){return Yt!=="$meta"})):Qt.objectStore("$meta").put(Gt._cfg.version,"version"))})}),function Gt(){return Vt.length?wr.resolve(Vt.shift()(Bt.idbtrans)).then(Gt):wr.resolve()}().then(function(){T0(qt,Lt)})):wr.resolve();var Ot,Ut,Bt,Lt,Vt,qt}).catch(_t)):(m($e).forEach(function(Mt){no(ze,Mt,$e[Mt].primKey,$e[Mt].indexes)}),to(Re,ze),void wr.follow(function(){return Re.on.populate.fire(st)}).catch(_t));var Rt,Tt})}function lu(Re,Le){T0(Re._dbSchema,Le),Le.db.version%10!=0||Le.objectStoreNames.contains("$meta")||Le.db.createObjectStore("$meta").add(Math.ceil(Le.db.version/10-1),"version");var ze=io(0,Re.idbdb,Le);ao(Re,Re._dbSchema,Le);for(var Qe=0,$e=vs(ze,Re._dbSchema).change;Qe<$e.length;Qe++){var st=function(_t){if(_t.change.length||_t.recreate)return console.warn("Unable to patch indexes of table ".concat(_t.name," because it has changes on the type of index or primary key.")),{value:void 0};var wt=Le.objectStore(_t.name);_t.add.forEach(function(Rt){nt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(_t.name,".").concat(Rt.src)),Sa(wt,Rt)})}($e[Qe]);if(typeof st=="object")return st.value}}function vs(Re,Le){var ze,Qe={del:[],add:[],change:[]};for(ze in Re)Le[ze]||Qe.del.push(ze);for(ze in Le){var $e=Re[ze],st=Le[ze];if($e){var _t={name:ze,def:st,recreate:!1,del:[],add:[],change:[]};if(""+($e.primKey.keyPath||"")!=""+(st.primKey.keyPath||"")||$e.primKey.auto!==st.primKey.auto)_t.recreate=!0,Qe.change.push(_t);else{var wt=$e.idxByName,Rt=st.idxByName,Tt=void 0;for(Tt in wt)Rt[Tt]||_t.del.push(Tt);for(Tt in Rt){var Mt=wt[Tt],Ot=Rt[Tt];Mt?Mt.src!==Ot.src&&_t.change.push(Ot):_t.add.push(Ot)}(0<_t.del.length||0<_t.add.length||0<_t.change.length)&&Qe.change.push(_t)}}else Qe.add.push([ze,st])}return Qe}function no(Re,Le,ze,Qe){var $e=Re.db.createObjectStore(Le,ze.keyPath?{keyPath:ze.keyPath,autoIncrement:ze.auto}:{autoIncrement:ze.auto});return Qe.forEach(function(st){return Sa($e,st)}),$e}function T0(Re,Le){m(Re).forEach(function(ze){Le.db.objectStoreNames.contains(ze)||(nt&&console.debug("Dexie: Creating missing table",ze),no(Le,ze,Re[ze].primKey,Re[ze].indexes))})}function Sa(Re,Le){Re.createIndex(Le.name,Le.keyPath,{unique:Le.unique,multiEntry:Le.multi})}function io(Re,Le,ze){var Qe={};return Ue(Le.objectStoreNames,0).forEach(function($e){for(var st=ze.objectStore($e),_t=xs(C0(Tt=st.keyPath),Tt||"",!0,!1,!!st.autoIncrement,Tt&&typeof Tt!="string",!0),wt=[],Rt=0;Rt<st.indexNames.length;++Rt){var Mt=st.index(st.indexNames[Rt]),Tt=Mt.keyPath,Mt=xs(Mt.name,Tt,!!Mt.unique,!!Mt.multiEntry,!1,Tt&&typeof Tt!="string",!1);wt.push(Mt)}Qe[$e]=hs($e,_t,wt)}),Qe}function ao(Re,Le,ze){for(var Qe=ze.db.objectStoreNames,$e=0;$e<Qe.length;++$e){var st=Qe[$e],_t=ze.objectStore(st);Re._hasGetAll="getAll"in _t;for(var wt=0;wt<_t.indexNames.length;++wt){var Rt=_t.indexNames[wt],Tt=_t.index(Rt).keyPath,Mt=typeof Tt=="string"?Tt:"["+Ue(Tt).join("+")+"]";!Le[st]||(Tt=Le[st].idxByName[Mt])&&(Tt.name=Rt,delete Le[st].idxByName[Mt],Le[st].idxByName[Rt]=Tt)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&f.WorkerGlobalScope&&f instanceof f.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(Re._hasGetAll=!1)}function D0(Re){return Re.split(",").map(function(Le,ze){var Qe=(Le=Le.trim()).replace(/([&*]|\+\+)/g,""),$e=/^\[/.test(Qe)?Qe.match(/^\[(.*)\]$/)[1].split("+"):Qe;return xs(Qe,$e||null,/\&/.test(Le),/\*/.test(Le),/\+\+/.test(Le),g($e),ze===0)})}var fu=(oo.prototype._parseStoresSpec=function(Re,Le){m(Re).forEach(function(ze){if(Re[ze]!==null){var Qe=D0(Re[ze]),$e=Qe.shift();if($e.unique=!0,$e.multi)throw new lt.Schema("Primary key cannot be multi-valued");Qe.forEach(function(st){if(st.auto)throw new lt.Schema("Only primary key can be marked as autoIncrement (++)");if(!st.keyPath)throw new lt.Schema("Index must have a name and cannot be an empty string")}),Le[ze]=hs(ze,$e,Qe)}})},oo.prototype.stores=function(ze){var Le=this.db;this._cfg.storesSource=this._cfg.storesSource?Te(this._cfg.storesSource,ze):ze;var ze=Le._versions,Qe={},$e={};return ze.forEach(function(st){Te(Qe,st._cfg.storesSource),$e=st._cfg.dbschema={},st._parseStoresSpec(Qe,$e)}),Le._dbSchema=$e,ro(Le,[Le._allTables,Le,Le.Transaction.prototype]),wa(Le,[Le._allTables,Le,Le.Transaction.prototype,this._cfg.tables],m($e),$e),Le._storeNames=m($e),this},oo.prototype.upgrade=function(Re){return this._cfg.contentUpgrade=er(this._cfg.contentUpgrade||$t,Re),this},oo);function oo(){}function so(Re,Le){var ze=Re._dbNamesDB;return ze||(ze=Re._dbNamesDB=new di(Ja,{addons:[],indexedDB:Re,IDBKeyRange:Le})).version(1).stores({dbnames:"name"}),ze.table("dbnames")}function co(Re){return Re&&typeof Re.databases=="function"}function uo(Re){return dn(function(){return Cr.letThrough=!0,Re()})}function lo(Re){return!("from"in Re)}var Dn=function(Re,Le){if(!this){var ze=new Dn;return Re&&"d"in Re&&Te(ze,Re),ze}Te(this,arguments.length?{d:1,from:Re,to:1<arguments.length?Le:Re}:{d:0})};function Aa(Re,Le,ze){var Qe=Xr(Le,ze);if(!isNaN(Qe)){if(0<Qe)throw RangeError();if(lo(Re))return Te(Re,{from:Le,to:ze,d:1});var $e=Re.l,Qe=Re.r;if(Xr(ze,Re.from)<0)return $e?Aa($e,Le,ze):Re.l={from:Le,to:ze,d:1,l:null,r:null},F0(Re);if(0<Xr(Le,Re.to))return Qe?Aa(Qe,Le,ze):Re.r={from:Le,to:ze,d:1,l:null,r:null},F0(Re);Xr(Le,Re.from)<0&&(Re.from=Le,Re.l=null,Re.d=Qe?Qe.d+1:1),0<Xr(ze,Re.to)&&(Re.to=ze,Re.r=null,Re.d=Re.l?Re.l.d+1:1),ze=!Re.r,$e&&!Re.l&&Ia(Re,$e),Qe&&ze&&Ia(Re,Qe)}}function Ia(Re,Le){lo(Le)||function ze(Qe,Rt){var st=Rt.from,_t=Rt.to,wt=Rt.l,Rt=Rt.r;Aa(Qe,st,_t),wt&&ze(Qe,wt),Rt&&ze(Qe,Rt)}(Re,Le)}function R0(Re,Le){var ze=Ca(Le),Qe=ze.next();if(Qe.done)return!1;for(var $e=Qe.value,st=Ca(Re),_t=st.next($e.from),wt=_t.value;!Qe.done&&!_t.done;){if(Xr(wt.from,$e.to)<=0&&0<=Xr(wt.to,$e.from))return!0;Xr($e.from,wt.from)<0?$e=(Qe=ze.next(wt.from)).value:wt=(_t=st.next($e.from)).value}return!1}function Ca(Re){var Le=lo(Re)?null:{s:0,n:Re};return{next:function(ze){for(var Qe=0<arguments.length;Le;)switch(Le.s){case 0:if(Le.s=1,Qe)for(;Le.n.l&&Xr(ze,Le.n.from)<0;)Le={up:Le,n:Le.n.l,s:1};else for(;Le.n.l;)Le={up:Le,n:Le.n.l,s:1};case 1:if(Le.s=2,!Qe||Xr(ze,Le.n.to)<=0)return{value:Le.n,done:!1};case 2:if(Le.n.r){Le.s=3,Le={up:Le,n:Le.n.r,s:0};continue}case 3:Le=Le.up}return{done:!0}}}}function F0(Re){var Le,ze,Qe=(((Le=Re.r)===null||Le===void 0?void 0:Le.d)||0)-(((ze=Re.l)===null||ze===void 0?void 0:ze.d)||0),$e=1<Qe?"r":Qe<-1?"l":"";$e&&(Le=$e=="r"?"l":"r",ze=i({},Re),Qe=Re[$e],Re.from=Qe.from,Re.to=Qe.to,Re[$e]=Qe[$e],ze[$e]=Qe[Le],(Re[Le]=ze).d=ms(ze)),Re.d=ms(Re)}function ms(ze){var Le=ze.r,ze=ze.l;return(Le?ze?Math.max(Le.d,ze.d):Le.d:ze?ze.d:0)+1}function ji(Re,Le){return m(Le).forEach(function(ze){Re[ze]?Ia(Re[ze],Le[ze]):Re[ze]=function Qe($e){var st,_t,wt={};for(st in $e)ne($e,st)&&(_t=$e[st],wt[st]=!_t||typeof _t!="object"||pt.has(_t.constructor)?_t:Qe(_t));return wt}(Le[ze])}),Re}function qn(Re,Le){return Re.all||Le.all||Object.keys(Re).some(function(ze){return Le[ze]&&R0(Le[ze],Re[ze])})}De(Dn.prototype,((tn={add:function(Re){return Ia(this,Re),this},addKey:function(Re){return Aa(this,Re,Re),this},addKeys:function(Re){var Le=this;return Re.forEach(function(ze){return Aa(Le,ze,ze)}),this},hasKey:function(Re){var Le=Ca(this).next(Re).value;return Le&&Xr(Le.from,Re)<=0&&0<=Xr(Le.to,Re)}})[Zt]=function(){return Ca(this)},tn));var zi={},gs={},ys=!1;function fo(Re){ji(gs,Re),ys||(ys=!0,setTimeout(function(){ys=!1,kn(gs,!(gs={}))},0))}function kn(Re,Le){Le===void 0&&(Le=!1);var ze=new Set;if(Re.all)for(var Qe=0,$e=Object.values(zi);Qe<$e.length;Qe++)P0(_t=$e[Qe],Re,ze,Le);else for(var st in Re){var _t,wt=/^idb\:\/\/(.*)\/(.*)\//.exec(st);wt&&(st=wt[1],wt=wt[2],(_t=zi["idb://".concat(st,"/").concat(wt)])&&P0(_t,Re,ze,Le))}ze.forEach(function(Rt){return Rt()})}function P0(Re,Le,ze,Qe){for(var $e=[],st=0,_t=Object.entries(Re.queries.query);st<_t.length;st++){for(var wt=_t[st],Rt=wt[0],Tt=[],Mt=0,Ot=wt[1];Mt<Ot.length;Mt++){var Ut=Ot[Mt];qn(Le,Ut.obsSet)?Ut.subscribers.forEach(function(qt){return ze.add(qt)}):Qe&&Tt.push(Ut)}Qe&&$e.push([Rt,Tt])}if(Qe)for(var Bt=0,Lt=$e;Bt<Lt.length;Bt++){var Vt=Lt[Bt],Rt=Vt[0],Tt=Vt[1];Re.queries.query[Rt]=Tt}}function xo(Re){var Le=Re._state,ze=Re._deps.indexedDB;if(Le.isBeingOpened||Re.idbdb)return Le.dbReadyPromise.then(function(){return Le.dbOpenError?vn(Le.dbOpenError):Re});Le.isBeingOpened=!0,Le.dbOpenError=null,Le.openComplete=!1;var Qe=Le.openCanceller,$e=Math.round(10*Re.verno),st=!1;function _t(){if(Le.openCanceller!==Qe)throw new lt.DatabaseClosed("db.open() was cancelled")}function wt(){return new wr(function(Ut,Bt){if(_t(),!ze)throw new lt.MissingAPI;var Lt=Re.name,Vt=Le.autoSchema||!$e?ze.open(Lt):ze.open(Lt,$e);if(!Vt)throw new lt.MissingAPI;Vt.onerror=ni(Bt),Vt.onblocked=Zr(Re._fireOnBlocked),Vt.onupgradeneeded=Zr(function(qt){var Gt;Mt=Vt.transaction,Le.autoSchema&&!Re._options.allowEmptyDB?(Vt.onerror=ea,Mt.abort(),Vt.result.close(),(Gt=ze.deleteDatabase(Lt)).onsuccess=Gt.onerror=Zr(function(){Bt(new lt.NoSuchDatabase("Database ".concat(Lt," doesnt exist")))})):(Mt.onerror=ni(Bt),qt=qt.oldVersion>Math.pow(2,62)?0:qt.oldVersion,Ot=qt<1,Re.idbdb=Vt.result,st&&lu(Re,Mt),_s(Re,qt/10,Mt,Bt))},Bt),Vt.onsuccess=Zr(function(){Mt=null;var qt,Gt,Qt,Yt,rr,xr=Re.idbdb=Vt.result,Ir=Ue(xr.objectStoreNames);if(0<Ir.length)try{var hr=xr.transaction((Yt=Ir).length===1?Yt[0]:Yt,"readonly");if(Le.autoSchema)Gt=xr,Qt=hr,(qt=Re).verno=Gt.version/10,Qt=qt._dbSchema=io(0,Gt,Qt),qt._storeNames=Ue(Gt.objectStoreNames,0),wa(qt,[qt._allTables],m(Qt),Qt);else if(ao(Re,Re._dbSchema,hr),((rr=vs(io(0,(rr=Re).idbdb,hr),rr._dbSchema)).add.length||rr.change.some(function(br){return br.add.length||br.change.length}))&&!st)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),xr.close(),$e=xr.version+1,st=!0,Ut(wt());to(Re,hr)}catch{}Vi.push(Re),xr.onversionchange=Zr(function(br){Le.vcFired=!0,Re.on("versionchange").fire(br)}),xr.onclose=Zr(function(br){Re.on("close").fire(br)}),Ot&&(rr=Re._deps,hr=Lt,xr=rr.indexedDB,rr=rr.IDBKeyRange,co(xr)||hr===Ja||so(xr,rr).put({name:hr}).catch($t)),Ut()},Bt)}).catch(function(Ut){switch(Ut==null?void 0:Ut.name){case"UnknownError":if(0<Le.PR1398_maxLoop)return Le.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),wt();break;case"VersionError":if(0<$e)return $e=0,wt()}return wr.reject(Ut)})}var Rt,Tt=Le.dbReadyResolve,Mt=null,Ot=!1;return wr.race([Qe,(typeof navigator>"u"?wr.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Ut){function Bt(){return indexedDB.databases().finally(Ut)}Rt=setInterval(Bt,100),Bt()}).finally(function(){return clearInterval(Rt)}):Promise.resolve()).then(wt)]).then(function(){return _t(),Le.onReadyBeingFired=[],wr.resolve(uo(function(){return Re.on.ready.fire(Re.vip)})).then(function Ut(){if(0<Le.onReadyBeingFired.length){var Bt=Le.onReadyBeingFired.reduce(er,$t);return Le.onReadyBeingFired=[],wr.resolve(uo(function(){return Bt(Re.vip)})).then(Ut)}})}).finally(function(){Le.openCanceller===Qe&&(Le.onReadyBeingFired=null,Le.isBeingOpened=!1)}).catch(function(Ut){Le.dbOpenError=Ut;try{Mt&&Mt.abort()}catch{}return Qe===Le.openCanceller&&Re._close(),vn(Ut)}).finally(function(){Le.openComplete=!0,Tt()}).then(function(){var Ut;return Ot&&(Ut={},Re.tables.forEach(function(Bt){Bt.schema.indexes.forEach(function(Lt){Lt.name&&(Ut["idb://".concat(Re.name,"/").concat(Bt.name,"/").concat(Lt.name)]=new Dn(-1/0,[[[]]]))}),Ut["idb://".concat(Re.name,"/").concat(Bt.name,"/")]=Ut["idb://".concat(Re.name,"/").concat(Bt.name,"/:dels")]=new Dn(-1/0,[[[]]])}),Ci(ya).fire(Ut),kn(Ut,!0)),Re})}function _n(Re){function Le(st){return Re.next(st)}var ze=$e(Le),Qe=$e(function(st){return Re.throw(st)});function $e(st){return function(Rt){var wt=st(Rt),Rt=wt.value;return wt.done?Rt:Rt&&typeof Rt.then=="function"?Rt.then(ze,Qe):g(Rt)?Promise.all(Rt).then(ze,Qe):ze(Rt)}}return $e(Le)()}function ho(Re,Le,ze){for(var Qe=g(Re)?Re.slice():[Re],$e=0;$e<ze;++$e)Qe.push(Le);return Qe}var po={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(Re){return i(i({},Re),{table:function(Le){var ze=Re.table(Le),Qe=ze.schema,$e={},st=[];function _t(Ot,Ut,Bt){var Lt=Ea(Ot),Vt=$e[Lt]=$e[Lt]||[],qt=Ot==null?0:typeof Ot=="string"?1:Ot.length,Gt=0<Ut,Gt=i(i({},Bt),{name:Gt?"".concat(Lt,"(virtual-from:").concat(Bt.name,")"):Bt.name,lowLevelIndex:Bt,isVirtual:Gt,keyTail:Ut,keyLength:qt,extractKey:ps(Ot),unique:!Gt&&Bt.unique});return Vt.push(Gt),Gt.isPrimaryKey||st.push(Gt),1<qt&&_t(qt===2?Ot[0]:Ot.slice(0,qt-1),Ut+1,Bt),Vt.sort(function(Qt,Yt){return Qt.keyTail-Yt.keyTail}),Gt}Le=_t(Qe.primaryKey.keyPath,0,Qe.primaryKey),$e[":id"]=[Le];for(var wt=0,Rt=Qe.indexes;wt<Rt.length;wt++){var Tt=Rt[wt];_t(Tt.keyPath,0,Tt)}function Mt(Ot){var Ut,Bt=Ot.query.index;return Bt.isVirtual?i(i({},Ot),{query:{index:Bt.lowLevelIndex,range:(Ut=Ot.query.range,Bt=Bt.keyTail,{type:Ut.type===1?2:Ut.type,lower:ho(Ut.lower,Ut.lowerOpen?Re.MAX_KEY:Re.MIN_KEY,Bt),lowerOpen:!0,upper:ho(Ut.upper,Ut.upperOpen?Re.MIN_KEY:Re.MAX_KEY,Bt),upperOpen:!0})}}):Ot}return i(i({},ze),{schema:i(i({},Qe),{primaryKey:Le,indexes:st,getIndexByKeyPath:function(Ot){return(Ot=$e[Ea(Ot)])&&Ot[0]}}),count:function(Ot){return ze.count(Mt(Ot))},query:function(Ot){return ze.query(Mt(Ot))},openCursor:function(Ot){var Ut=Ot.query.index,Bt=Ut.keyTail,Lt=Ut.isVirtual,Vt=Ut.keyLength;return Lt?ze.openCursor(Mt(Ot)).then(function(Gt){return Gt&&qt(Gt)}):ze.openCursor(Ot);function qt(Gt){return Object.create(Gt,{continue:{value:function(Qt){Qt!=null?Gt.continue(ho(Qt,Ot.reverse?Re.MAX_KEY:Re.MIN_KEY,Bt)):Ot.unique?Gt.continue(Gt.key.slice(0,Vt).concat(Ot.reverse?Re.MIN_KEY:Re.MAX_KEY,Bt)):Gt.continue()}},continuePrimaryKey:{value:function(Qt,Yt){Gt.continuePrimaryKey(ho(Qt,Re.MAX_KEY,Bt),Yt)}},primaryKey:{get:function(){return Gt.primaryKey}},key:{get:function(){var Qt=Gt.key;return Vt===1?Qt[0]:Qt.slice(0,Vt)}},value:{get:function(){return Gt.value}}})}}})}})}};function ki(Re,Le,ze,Qe){return ze=ze||{},Qe=Qe||"",m(Re).forEach(function($e){var st,_t,wt;ne(Le,$e)?(st=Re[$e],_t=Le[$e],typeof st=="object"&&typeof _t=="object"&&st&&_t?(wt=Ft(st))!==Ft(_t)?ze[Qe+$e]=Le[$e]:wt==="Object"?ki(st,_t,ze,Qe+$e+"."):st!==_t&&(ze[Qe+$e]=Le[$e]):st!==_t&&(ze[Qe+$e]=Le[$e])):ze[Qe+$e]=void 0}),m(Le).forEach(function($e){ne(Re,$e)||(ze[Qe+$e]=Le[$e])}),ze}function _o(Re,Le){return Le.type==="delete"?Le.keys:Le.keys||Le.values.map(Re.extractKey)}var du={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(Re){return i(i({},Re),{table:function(Le){var ze=Re.table(Le),Qe=ze.schema.primaryKey;return i(i({},ze),{mutate:function($e){var st=Cr.trans,_t=st.table(Le).hook,wt=_t.deleting,Rt=_t.creating,Tt=_t.updating;switch($e.type){case"add":if(Rt.fire===$t)break;return st._promise("readwrite",function(){return Mt($e)},!0);case"put":if(Rt.fire===$t&&Tt.fire===$t)break;return st._promise("readwrite",function(){return Mt($e)},!0);case"delete":if(wt.fire===$t)break;return st._promise("readwrite",function(){return Mt($e)},!0);case"deleteRange":if(wt.fire===$t)break;return st._promise("readwrite",function(){return function Ot(Ut,Bt,Lt){return ze.query({trans:Ut,values:!1,query:{index:Qe,range:Bt},limit:Lt}).then(function(Vt){var qt=Vt.result;return Mt({type:"delete",keys:qt,trans:Ut}).then(function(Gt){return 0<Gt.numFailures?Promise.reject(Gt.failures[0]):qt.length<Lt?{failures:[],numFailures:0,lastResult:void 0}:Ot(Ut,i(i({},Bt),{lower:qt[qt.length-1],lowerOpen:!0}),Lt)})})}($e.trans,$e.range,1e4)},!0)}return ze.mutate($e);function Mt(Ot){var Ut,Bt,Lt,Vt=Cr.trans,qt=Ot.keys||_o(Qe,Ot);if(!qt)throw new Error("Keys missing");return(Ot=Ot.type==="add"||Ot.type==="put"?i(i({},Ot),{keys:qt}):i({},Ot)).type!=="delete"&&(Ot.values=c([],Ot.values,!0)),Ot.keys&&(Ot.keys=c([],Ot.keys,!0)),Ut=ze,Lt=qt,((Bt=Ot).type==="add"?Promise.resolve([]):Ut.getMany({trans:Bt.trans,keys:Lt,cache:"immutable"})).then(function(Gt){var Qt=qt.map(function(Yt,rr){var xr,Ir,hr,br=Gt[rr],Ar={onerror:null,onsuccess:null};return Ot.type==="delete"?wt.fire.call(Ar,Yt,br,Vt):Ot.type==="add"||br===void 0?(xr=Rt.fire.call(Ar,Yt,Ot.values[rr],Vt),Yt==null&&xr!=null&&(Ot.keys[rr]=Yt=xr,Qe.outbound||tt(Ot.values[rr],Qe.keyPath,Yt))):(xr=ki(br,Ot.values[rr]),(Ir=Tt.fire.call(Ar,xr,Yt,br,Vt))&&(hr=Ot.values[rr],Object.keys(Ir).forEach(function(lr){ne(hr,lr)?hr[lr]=Ir[lr]:tt(hr,lr,Ir[lr])}))),Ar});return ze.mutate(Ot).then(function(Yt){for(var rr=Yt.failures,xr=Yt.results,Ir=Yt.numFailures,Yt=Yt.lastResult,hr=0;hr<qt.length;++hr){var br=(xr||qt)[hr],Ar=Qt[hr];br==null?Ar.onerror&&Ar.onerror(rr[hr]):Ar.onsuccess&&Ar.onsuccess(Ot.type==="put"&&Gt[hr]?Ot.values[hr]:br)}return{failures:rr,results:xr,numFailures:Ir,lastResult:Yt}}).catch(function(Yt){return Qt.forEach(function(rr){return rr.onerror&&rr.onerror(Yt)}),Promise.reject(Yt)})})}}})}})}};function bs(Re,Le,ze){try{if(!Le||Le.keys.length<Re.length)return null;for(var Qe=[],$e=0,st=0;$e<Le.keys.length&&st<Re.length;++$e)Xr(Le.keys[$e],Re[st])===0&&(Qe.push(ze?vt(Le.values[$e]):Le.values[$e]),++st);return Qe.length===Re.length?Qe:null}catch{return null}}var vo={stack:"dbcore",level:-1,create:function(Re){return{table:function(Le){var ze=Re.table(Le);return i(i({},ze),{getMany:function(Qe){if(!Qe.cache)return ze.getMany(Qe);var $e=bs(Qe.keys,Qe.trans._cache,Qe.cache==="clone");return $e?wr.resolve($e):ze.getMany(Qe).then(function(st){return Qe.trans._cache={keys:Qe.keys,values:Qe.cache==="clone"?vt(st):st},st})},mutate:function(Qe){return Qe.type!=="add"&&(Qe.trans._cache=null),ze.mutate(Qe)}})}}}};function bn(Re,Le){return Re.trans.mode==="readonly"&&!!Re.subscr&&!Re.trans.explicit&&Re.trans.db._options.cache!=="disabled"&&!Le.schema.primaryKey.outbound}function B0(Re,Le){switch(Re){case"query":return Le.values&&!Le.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Es={stack:"dbcore",level:0,name:"Observability",create:function(Re){var Le=Re.schema.name,ze=new Dn(Re.MIN_KEY,Re.MAX_KEY);return i(i({},Re),{transaction:function(Qe,$e,st){if(Cr.subscr&&$e!=="readonly")throw new lt.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Cr.querier));return Re.transaction(Qe,$e,st)},table:function(Qe){var $e=Re.table(Qe),st=$e.schema,_t=st.primaryKey,Ot=st.indexes,wt=_t.extractKey,Rt=_t.outbound,Tt=_t.autoIncrement&&Ot.filter(function(Bt){return Bt.compound&&Bt.keyPath.includes(_t.keyPath)}),Mt=i(i({},$e),{mutate:function(Bt){function Lt(lr){return lr="idb://".concat(Le,"/").concat(Qe,"/").concat(lr),Yt[lr]||(Yt[lr]=new Dn)}var Vt,qt,Gt,Qt=Bt.trans,Yt=Bt.mutatedParts||(Bt.mutatedParts={}),rr=Lt(""),xr=Lt(":dels"),Ir=Bt.type,Ar=Bt.type==="deleteRange"?[Bt.range]:Bt.type==="delete"?[Bt.keys]:Bt.values.length<50?[_o(_t,Bt).filter(function(lr){return lr}),Bt.values]:[],hr=Ar[0],br=Ar[1],Ar=Bt.trans._cache;return g(hr)?(rr.addKeys(hr),(Ar=Ir==="delete"||hr.length===br.length?bs(hr,Ar):null)||xr.addKeys(hr),(Ar||br)&&(Vt=Lt,qt=Ar,Gt=br,st.indexes.forEach(function(lr){var pr=Vt(lr.name||"");function Ur(Vr){return Vr!=null?lr.extractKey(Vr):null}function Kr(Vr){return lr.multiEntry&&g(Vr)?Vr.forEach(function(Zn){return pr.addKey(Zn)}):pr.addKey(Vr)}(qt||Gt).forEach(function(Vr,An){var Hr=qt&&Ur(qt[An]),An=Gt&&Ur(Gt[An]);Xr(Hr,An)!==0&&(Hr!=null&&Kr(Hr),An!=null&&Kr(An))})}))):hr?(br={from:hr.lower,to:hr.upper},xr.add(br),rr.add(br)):(rr.add(ze),xr.add(ze),st.indexes.forEach(function(lr){return Lt(lr.name).add(ze)})),$e.mutate(Bt).then(function(lr){return!hr||Bt.type!=="add"&&Bt.type!=="put"||(rr.addKeys(lr.results),Tt&&Tt.forEach(function(pr){var Ur=Bt.values.map(function(Vr){return pr.extractKey(Vr)}),Kr=pr.keyPath.findIndex(function(Vr){return Vr===_t.keyPath});lr.results.forEach(function(Vr){return Ur[Kr]=Vr}),Lt(pr.name).addKeys(Ur)})),Qt.mutatedParts=ji(Qt.mutatedParts||{},Yt),lr})}}),Ot=function(Lt){var Vt=Lt.query,Lt=Vt.index,Vt=Vt.range;return[Lt,new Dn((Lt=Vt.lower)!==null&&Lt!==void 0?Lt:Re.MIN_KEY,(Vt=Vt.upper)!==null&&Vt!==void 0?Vt:Re.MAX_KEY)]},Ut={get:function(Bt){return[_t,new Dn(Bt.key)]},getMany:function(Bt){return[_t,new Dn().addKeys(Bt.keys)]},count:Ot,query:Ot,openCursor:Ot};return m(Ut).forEach(function(Bt){Mt[Bt]=function(Lt){var Vt=Cr.subscr,qt=!!Vt,Gt=bn(Cr,$e)&&B0(Bt,Lt)?Lt.obsSet={}:Vt;if(qt){var Qt=function(br){return br="idb://".concat(Le,"/").concat(Qe,"/").concat(br),Gt[br]||(Gt[br]=new Dn)},Yt=Qt(""),rr=Qt(":dels"),Vt=Ut[Bt](Lt),qt=Vt[0],Vt=Vt[1];if((Bt==="query"&&qt.isPrimaryKey&&!Lt.values?rr:Qt(qt.name||"")).add(Vt),!qt.isPrimaryKey){if(Bt!=="count"){var xr=Bt==="query"&&Rt&&Lt.values&&$e.query(i(i({},Lt),{values:!1}));return $e[Bt].apply(this,arguments).then(function(br){if(Bt==="query"){if(Rt&&Lt.values)return xr.then(function(Ur){return Ur=Ur.result,Yt.addKeys(Ur),br});var Ar=Lt.values?br.result.map(wt):br.result;(Lt.values?Yt:rr).addKeys(Ar)}else if(Bt==="openCursor"){var lr=br,pr=Lt.values;return lr&&Object.create(lr,{key:{get:function(){return rr.addKey(lr.primaryKey),lr.key}},primaryKey:{get:function(){var Ur=lr.primaryKey;return rr.addKey(Ur),Ur}},value:{get:function(){return pr&&Yt.addKey(lr.primaryKey),lr.value}}})}return br})}rr.add(ze)}}return $e[Bt].apply(this,arguments)}}),Mt}})}};function q0(Re,Le,ze){if(ze.numFailures===0)return Le;if(Le.type==="deleteRange")return null;var Qe=Le.keys?Le.keys.length:"values"in Le&&Le.values?Le.values.length:1;return ze.numFailures===Qe?null:(Le=i({},Le),g(Le.keys)&&(Le.keys=Le.keys.filter(function($e,st){return!(st in ze.failures)})),"values"in Le&&g(Le.values)&&(Le.values=Le.values.filter(function($e,st){return!(st in ze.failures)})),Le)}function ws(Re,Le){return ze=Re,((Qe=Le).lower===void 0||(Qe.lowerOpen?0<Xr(ze,Qe.lower):0<=Xr(ze,Qe.lower)))&&(Re=Re,(Le=Le).upper===void 0||(Le.upperOpen?Xr(Re,Le.upper)<0:Xr(Re,Le.upper)<=0));var ze,Qe}function ii(Re,Le,Ut,Qe,$e,st){if(!Ut||Ut.length===0)return Re;var _t=Le.query.index,wt=_t.multiEntry,Rt=Le.query.range,Tt=Qe.schema.primaryKey.extractKey,Mt=_t.extractKey,Ot=(_t.lowLevelIndex||_t).extractKey,Ut=Ut.reduce(function(Bt,Lt){var Vt=Bt,qt=[];if(Lt.type==="add"||Lt.type==="put")for(var Gt=new Dn,Qt=Lt.values.length-1;0<=Qt;--Qt){var Yt,rr=Lt.values[Qt],xr=Tt(rr);Gt.hasKey(xr)||(Yt=Mt(rr),(wt&&g(Yt)?Yt.some(function(Ar){return ws(Ar,Rt)}):ws(Yt,Rt))&&(Gt.addKey(xr),qt.push(rr)))}switch(Lt.type){case"add":Vt=Bt.concat(Le.values?qt:qt.map(function(lr){return Tt(lr)}));break;case"put":var Ir=new Dn().addKeys(Lt.values.map(function(lr){return Tt(lr)})),Vt=Bt.filter(function(lr){return!Ir.hasKey(Le.values?Tt(lr):lr)}).concat(Le.values?qt:qt.map(function(lr){return Tt(lr)}));break;case"delete":var hr=new Dn().addKeys(Lt.keys);Vt=Bt.filter(function(lr){return!hr.hasKey(Le.values?Tt(lr):lr)});break;case"deleteRange":var br=Lt.range;Vt=Bt.filter(function(lr){return!ws(Tt(lr),br)})}return Vt},Re);return Ut===Re?Re:(Ut.sort(function(Bt,Lt){return Xr(Ot(Bt),Ot(Lt))||Xr(Tt(Bt),Tt(Lt))}),Le.limit&&Le.limit<1/0&&(Ut.length>Le.limit?Ut.length=Le.limit:Re.length===Le.limit&&Ut.length<Le.limit&&($e.dirty=!0)),st?Object.freeze(Ut):Ut)}function N0(Re,Le){return Xr(Re.lower,Le.lower)===0&&Xr(Re.upper,Le.upper)===0&&!!Re.lowerOpen==!!Le.lowerOpen&&!!Re.upperOpen==!!Le.upperOpen}function mo(Re,Le){return function(ze,Qe,$e,st){if(ze===void 0)return Qe!==void 0?-1:0;if(Qe===void 0)return 1;if((Qe=Xr(ze,Qe))===0){if($e&&st)return 0;if($e)return 1;if(st)return-1}return Qe}(Re.lower,Le.lower,Re.lowerOpen,Le.lowerOpen)<=0&&0<=function(ze,Qe,$e,st){if(ze===void 0)return Qe!==void 0?1:0;if(Qe===void 0)return-1;if((Qe=Xr(ze,Qe))===0){if($e&&st)return 0;if($e)return-1;if(st)return 1}return Qe}(Re.upper,Le.upper,Re.upperOpen,Le.upperOpen)}function Hn(Re,Le,ze,Qe){Re.subscribers.add(ze),Qe.addEventListener("abort",function(){var $e,st;Re.subscribers.delete(ze),Re.subscribers.size===0&&($e=Re,st=Le,setTimeout(function(){$e.subscribers.size===0&&ur(st,$e)},3e3))})}var Oi={stack:"dbcore",level:0,name:"Cache",create:function(Re){var Le=Re.schema.name;return i(i({},Re),{transaction:function(ze,Qe,$e){var st,_t,wt=Re.transaction(ze,Qe,$e);return Qe==="readwrite"&&(_t=(st=new AbortController).signal,$e=function(Rt){return function(){if(st.abort(),Qe==="readwrite"){for(var Tt=new Set,Mt=0,Ot=ze;Mt<Ot.length;Mt++){var Ut=Ot[Mt],Bt=zi["idb://".concat(Le,"/").concat(Ut)];if(Bt){var Lt=Re.table(Ut),Vt=Bt.optimisticOps.filter(function(pr){return pr.trans===wt});if(wt._explicit&&Rt&&wt.mutatedParts)for(var qt=0,Gt=Object.values(Bt.queries.query);qt<Gt.length;qt++)for(var Qt=0,Yt=(Ir=Gt[qt]).slice();Qt<Yt.length;Qt++)qn((hr=Yt[Qt]).obsSet,wt.mutatedParts)&&(ur(Ir,hr),hr.subscribers.forEach(function(pr){return Tt.add(pr)}));else if(0<Vt.length){Bt.optimisticOps=Bt.optimisticOps.filter(function(pr){return pr.trans!==wt});for(var rr=0,xr=Object.values(Bt.queries.query);rr<xr.length;rr++)for(var Ir,hr,br,Ar=0,lr=(Ir=xr[rr]).slice();Ar<lr.length;Ar++)(hr=lr[Ar]).res!=null&&wt.mutatedParts&&(Rt&&!hr.dirty?(br=Object.isFrozen(hr.res),br=ii(hr.res,hr.req,Vt,Lt,hr,br),hr.dirty?(ur(Ir,hr),hr.subscribers.forEach(function(pr){return Tt.add(pr)})):br!==hr.res&&(hr.res=br,hr.promise=wr.resolve({result:br}))):(hr.dirty&&ur(Ir,hr),hr.subscribers.forEach(function(pr){return Tt.add(pr)})))}}}Tt.forEach(function(pr){return pr()})}}},wt.addEventListener("abort",$e(!1),{signal:_t}),wt.addEventListener("error",$e(!1),{signal:_t}),wt.addEventListener("complete",$e(!0),{signal:_t})),wt},table:function(ze){var Qe=Re.table(ze),$e=Qe.schema.primaryKey;return i(i({},Qe),{mutate:function(st){var _t=Cr.trans;if($e.outbound||_t.db._options.cache==="disabled"||_t.explicit)return Qe.mutate(st);var wt=zi["idb://".concat(Le,"/").concat(ze)];return wt?(_t=Qe.mutate(st),st.type!=="add"&&st.type!=="put"||!(50<=st.values.length||_o($e,st).some(function(Rt){return Rt==null}))?(wt.optimisticOps.push(st),st.mutatedParts&&fo(st.mutatedParts),_t.then(function(Rt){0<Rt.numFailures&&(ur(wt.optimisticOps,st),(Rt=q0(0,st,Rt))&&wt.optimisticOps.push(Rt),st.mutatedParts&&fo(st.mutatedParts))}),_t.catch(function(){ur(wt.optimisticOps,st),st.mutatedParts&&fo(st.mutatedParts)})):_t.then(function(Rt){var Tt=q0(0,i(i({},st),{values:st.values.map(function(Bt,Ot){var Ut,Bt=(Ut=$e.keyPath)!==null&&Ut!==void 0&&Ut.includes(".")?vt(Bt):i({},Bt);return tt(Bt,$e.keyPath,Rt.results[Ot]),Bt})}),Rt);wt.optimisticOps.push(Tt),queueMicrotask(function(){return st.mutatedParts&&fo(st.mutatedParts)})}),_t):Qe.mutate(st)},query:function(st){if(!bn(Cr,Qe)||!B0("query",st))return Qe.query(st);var _t=((Tt=Cr.trans)===null||Tt===void 0?void 0:Tt.db._options.cache)==="immutable",Ot=Cr,wt=Ot.requery,Rt=Ot.signal,Tt=function(Lt,Vt,qt,Gt){var Qt=zi["idb://".concat(Lt,"/").concat(Vt)];if(!Qt)return[];if(!(Vt=Qt.queries[qt]))return[null,!1,Qt,null];var Yt=Vt[(Gt.query?Gt.query.index.name:null)||""];if(!Yt)return[null,!1,Qt,null];switch(qt){case"query":var rr=Yt.find(function(xr){return xr.req.limit===Gt.limit&&xr.req.values===Gt.values&&N0(xr.req.query.range,Gt.query.range)});return rr?[rr,!0,Qt,Yt]:[Yt.find(function(xr){return("limit"in xr.req?xr.req.limit:1/0)>=Gt.limit&&(!Gt.values||xr.req.values)&&mo(xr.req.query.range,Gt.query.range)}),!1,Qt,Yt];case"count":return rr=Yt.find(function(xr){return N0(xr.req.query.range,Gt.query.range)}),[rr,!!rr,Qt,Yt]}}(Le,ze,"query",st),Mt=Tt[0],Ot=Tt[1],Ut=Tt[2],Bt=Tt[3];return Mt&&Ot?Mt.obsSet=st.obsSet:(Ot=Qe.query(st).then(function(Lt){var Vt=Lt.result;if(Mt&&(Mt.res=Vt),_t){for(var qt=0,Gt=Vt.length;qt<Gt;++qt)Object.freeze(Vt[qt]);Object.freeze(Vt)}else Lt.result=vt(Vt);return Lt}).catch(function(Lt){return Bt&&Mt&&ur(Bt,Mt),Promise.reject(Lt)}),Mt={obsSet:st.obsSet,promise:Ot,subscribers:new Set,type:"query",req:st,dirty:!1},Bt?Bt.push(Mt):(Bt=[Mt],(Ut=Ut||(zi["idb://".concat(Le,"/").concat(ze)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[st.query.index.name||""]=Bt)),Hn(Mt,Bt,wt,Rt),Mt.promise.then(function(Lt){return{result:ii(Lt.result,st,Ut==null?void 0:Ut.optimisticOps,Qe,Mt,_t)}})}})}})}};function ta(Re,Le){return new Proxy(Re,{get:function(ze,Qe,$e){return Qe==="db"?Le:Reflect.get(ze,Qe,$e)}})}var di=(mn.prototype.version=function(Re){if(isNaN(Re)||Re<.1)throw new lt.Type("Given version is not a positive number");if(Re=Math.round(10*Re)/10,this.idbdb||this._state.isBeingOpened)throw new lt.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,Re);var Le=this._versions,ze=Le.filter(function(Qe){return Qe._cfg.version===Re})[0];return ze||(ze=new this.Version(Re),Le.push(ze),Le.sort(O0),ze.stores({}),this._state.autoSchema=!1,ze)},mn.prototype._whenReady=function(Re){var Le=this;return this.idbdb&&(this._state.openComplete||Cr.letThrough||this._vip)?Re():new wr(function(ze,Qe){if(Le._state.openComplete)return Qe(new lt.DatabaseClosed(Le._state.dbOpenError));if(!Le._state.isBeingOpened){if(!Le._state.autoOpen)return void Qe(new lt.DatabaseClosed);Le.open().catch($t)}Le._state.dbReadyPromise.then(ze,Qe)}).then(Re)},mn.prototype.use=function(Re){var Le=Re.stack,ze=Re.create,Qe=Re.level,$e=Re.name;return $e&&this.unuse({stack:Le,name:$e}),Re=this._middlewares[Le]||(this._middlewares[Le]=[]),Re.push({stack:Le,create:ze,level:Qe??10,name:$e}),Re.sort(function(st,_t){return st.level-_t.level}),this},mn.prototype.unuse=function(Re){var Le=Re.stack,ze=Re.name,Qe=Re.create;return Le&&this._middlewares[Le]&&(this._middlewares[Le]=this._middlewares[Le].filter(function($e){return Qe?$e.create!==Qe:!!ze&&$e.name!==ze})),this},mn.prototype.open=function(){var Re=this;return hn(Qr,function(){return xo(Re)})},mn.prototype._close=function(){var Re=this._state,Le=Vi.indexOf(this);if(0<=Le&&Vi.splice(Le,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}Re.isBeingOpened||(Re.dbReadyPromise=new wr(function(ze){Re.dbReadyResolve=ze}),Re.openCanceller=new wr(function(ze,Qe){Re.cancelOpen=Qe}))},mn.prototype.close=function(ze){var Le=(ze===void 0?{disableAutoOpen:!0}:ze).disableAutoOpen,ze=this._state;Le?(ze.isBeingOpened&&ze.cancelOpen(new lt.DatabaseClosed),this._close(),ze.autoOpen=!1,ze.dbOpenError=new lt.DatabaseClosed):(this._close(),ze.autoOpen=this._options.autoOpen||ze.isBeingOpened,ze.openComplete=!1,ze.dbOpenError=null)},mn.prototype.delete=function(Re){var Le=this;Re===void 0&&(Re={disableAutoOpen:!0});var ze=0<arguments.length&&typeof arguments[0]!="object",Qe=this._state;return new wr(function($e,st){function _t(){Le.close(Re);var wt=Le._deps.indexedDB.deleteDatabase(Le.name);wt.onsuccess=Zr(function(){var Rt,Tt,Mt;Rt=Le._deps,Tt=Le.name,Mt=Rt.indexedDB,Rt=Rt.IDBKeyRange,co(Mt)||Tt===Ja||so(Mt,Rt).delete(Tt).catch($t),$e()}),wt.onerror=ni(st),wt.onblocked=Le._fireOnBlocked}if(ze)throw new lt.InvalidArgument("Invalid closeOptions argument to db.delete()");Qe.isBeingOpened?Qe.dbReadyPromise.then(_t):_t()})},mn.prototype.backendDB=function(){return this.idbdb},mn.prototype.isOpen=function(){return this.idbdb!==null},mn.prototype.hasBeenClosed=function(){var Re=this._state.dbOpenError;return Re&&Re.name==="DatabaseClosed"},mn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},mn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(mn.prototype,"tables",{get:function(){var Re=this;return m(this._allTables).map(function(Le){return Re._allTables[Le]})},enumerable:!1,configurable:!0}),mn.prototype.transaction=function(){var Re=(function(Le,ze,Qe){var $e=arguments.length;if($e<2)throw new lt.InvalidArgument("Too few arguments");for(var st=new Array($e-1);--$e;)st[$e-1]=arguments[$e];return Qe=st.pop(),[Le,rt(st),Qe]}).apply(this,arguments);return this._transaction.apply(this,Re)},mn.prototype._transaction=function(Re,Le,ze){var Qe=this,$e=Cr.trans;$e&&$e.db===this&&Re.indexOf("!")===-1||($e=null);var st,_t,wt=Re.indexOf("?")!==-1;Re=Re.replace("!","").replace("?","");try{if(_t=Le.map(function(Tt){if(Tt=Tt instanceof Qe.Table?Tt.name:Tt,typeof Tt!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Tt}),Re=="r"||Re===as)st=as;else{if(Re!="rw"&&Re!=ss)throw new lt.InvalidArgument("Invalid transaction mode: "+Re);st=ss}if($e){if($e.mode===as&&st===ss){if(!wt)throw new lt.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");$e=null}$e&&_t.forEach(function(Tt){if($e&&$e.storeNames.indexOf(Tt)===-1){if(!wt)throw new lt.SubTransaction("Table "+Tt+" not included in parent transaction.");$e=null}}),wt&&$e&&!$e.active&&($e=null)}}catch(Tt){return $e?$e._promise(null,function(Mt,Ot){Ot(Tt)}):vn(Tt)}var Rt=(function Tt(Mt,Ot,Ut,Bt,Lt){return wr.resolve().then(function(){var Vt=Cr.transless||Cr,qt=Mt._createTransaction(Ot,Ut,Mt._dbSchema,Bt);if(qt.explicit=!0,Vt={trans:qt,transless:Vt},Bt)qt.idbtrans=Bt.idbtrans;else try{qt.create(),qt.idbtrans._explicit=!0,Mt._state.PR1398_maxLoop=3}catch(Yt){return Yt.name===Rr.InvalidState&&Mt.isOpen()&&0<--Mt._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Mt.close({disableAutoOpen:!1}),Mt.open().then(function(){return Tt(Mt,Ot,Ut,null,Lt)})):vn(Yt)}var Gt,Qt=ct(Lt);return Qt&&wn(),Vt=wr.follow(function(){var Yt;(Gt=Lt.call(qt,qt))&&(Qt?(Yt=xn.bind(null,null),Gt.then(Yt,Yt)):typeof Gt.next=="function"&&typeof Gt.throw=="function"&&(Gt=_n(Gt)))},Vt),(Gt&&typeof Gt.then=="function"?wr.resolve(Gt).then(function(Yt){return qt.active?Yt:vn(new lt.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Vt.then(function(){return Gt})).then(function(Yt){return Bt&&qt._resolve(),qt._completion.then(function(){return Yt})}).catch(function(Yt){return qt._reject(Yt),vn(Yt)})})}).bind(null,this,st,_t,$e,ze);return $e?$e._promise(st,Rt,"lock"):Cr.trans?hn(Cr.transless,function(){return Qe._whenReady(Rt)}):this._whenReady(Rt)},mn.prototype.table=function(Re){if(!ne(this._allTables,Re))throw new lt.InvalidTable("Table ".concat(Re," does not exist"));return this._allTables[Re]},mn);function mn(Re,Le){var ze=this;this._middlewares={},this.verno=0;var Qe=mn.dependencies;this._options=Le=i({addons:mn.addons,autoOpen:!0,indexedDB:Qe.indexedDB,IDBKeyRange:Qe.IDBKeyRange,cache:"cloned"},Le),this._deps={indexedDB:Le.indexedDB,IDBKeyRange:Le.IDBKeyRange},Qe=Le.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var $e,st,_t,wt,Rt,Tt={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:$t,dbReadyPromise:null,cancelOpen:$t,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:Le.autoOpen};Tt.dbReadyPromise=new wr(function(Ot){Tt.dbReadyResolve=Ot}),Tt.openCanceller=new wr(function(Ot,Ut){Tt.cancelOpen=Ut}),this._state=Tt,this.name=Re,this.on=va(this,"populate","blocked","versionchange","close",{ready:[er,$t]}),this.on.ready.subscribe=We(this.on.ready.subscribe,function(Ot){return function(Ut,Bt){mn.vip(function(){var Lt,Vt=ze._state;Vt.openComplete?(Vt.dbOpenError||wr.resolve().then(Ut),Bt&&Ot(Ut)):Vt.onReadyBeingFired?(Vt.onReadyBeingFired.push(Ut),Bt&&Ot(Ut)):(Ot(Ut),Lt=ze,Bt||Ot(function qt(){Lt.on.ready.unsubscribe(Ut),Lt.on.ready.unsubscribe(qt)}))})}}),this.Collection=($e=this,ma(nu.prototype,function(Gt,qt){this.db=$e;var Bt=m0,Lt=null;if(qt)try{Bt=qt()}catch(Qt){Lt=Qt}var Vt=Gt._ctx,qt=Vt.table,Gt=qt.hook.reading.fire;this._ctx={table:qt,index:Vt.index,isPrimKey:!Vt.index||qt.schema.primKey.keyPath&&Vt.index===qt.schema.primKey.name,range:Bt,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Lt,or:Vt.or,valueMapper:Gt!==dr?Gt:null}})),this.Table=(st=this,ma(E0.prototype,function(Ot,Ut,Bt){this.db=st,this._tx=Bt,this.name=Ot,this.schema=Ut,this.hook=st._allTables[Ot]?st._allTables[Ot].hook:va(null,{creating:[Wt,$t],reading:[Je,dr],updating:[ht,$t],deleting:[xt,$t]})})),this.Transaction=(_t=this,ma(ou.prototype,function(Ot,Ut,Bt,Lt,Vt){var qt=this;this.db=_t,this.mode=Ot,this.storeNames=Ut,this.schema=Bt,this.chromeTransactionDurability=Lt,this.idbtrans=null,this.on=va(this,"complete","error","abort"),this.parent=Vt||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new wr(function(Gt,Qt){qt._resolve=Gt,qt._reject=Qt}),this._completion.then(function(){qt.active=!1,qt.on.complete.fire()},function(Gt){var Qt=qt.active;return qt.active=!1,qt.on.error.fire(Gt),qt.parent?qt.parent._reject(Gt):Qt&&qt.idbtrans&&qt.idbtrans.abort(),vn(Gt)})})),this.Version=(wt=this,ma(fu.prototype,function(Ot){this.db=wt,this._cfg={version:Ot,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(Rt=this,ma(I0.prototype,function(Ot,Ut,Bt){if(this.db=Rt,this._ctx={table:Ot,index:Ut===":id"?null:Ut,or:Bt},this._cmp=this._ascending=Xr,this._descending=function(Lt,Vt){return Xr(Vt,Lt)},this._max=function(Lt,Vt){return 0<Xr(Lt,Vt)?Lt:Vt},this._min=function(Lt,Vt){return Xr(Lt,Vt)<0?Lt:Vt},this._IDBKeyRange=Rt._deps.IDBKeyRange,!this._IDBKeyRange)throw new lt.MissingAPI})),this.on("versionchange",function(Ot){0<Ot.newVersion?console.warn("Another connection wants to upgrade database '".concat(ze.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(ze.name,"'. Closing db now to resume the delete request.")),ze.close({disableAutoOpen:!1})}),this.on("blocked",function(Ot){!Ot.newVersion||Ot.newVersion<Ot.oldVersion?console.warn("Dexie.delete('".concat(ze.name,"') was blocked")):console.warn("Upgrade '".concat(ze.name,"' blocked by other connection holding version ").concat(Ot.oldVersion/10))}),this._maxKey=ba(Le.IDBKeyRange),this._createTransaction=function(Ot,Ut,Bt,Lt){return new ze.Transaction(Ot,Ut,Bt,ze._options.chromeTransactionDurability,Lt)},this._fireOnBlocked=function(Ot){ze.on("blocked").fire(Ot),Vi.filter(function(Ut){return Ut.name===ze.name&&Ut!==ze&&!Ut._state.vcFired}).map(function(Ut){return Ut.on("versionchange").fire(Ot)})},this.use(vo),this.use(Oi),this.use(Es),this.use(po),this.use(du);var Mt=new Proxy(this,{get:function(Ot,Ut,Bt){if(Ut==="_vip")return!0;if(Ut==="table")return function(Vt){return ta(ze.table(Vt),Mt)};var Lt=Reflect.get(Ot,Ut,Bt);return Lt instanceof E0?ta(Lt,Mt):Ut==="tables"?Lt.map(function(Vt){return ta(Vt,Mt)}):Ut==="_createTransaction"?function(){return ta(Lt.apply(this,arguments),Mt)}:Lt}});this.vip=Mt,Qe.forEach(function(Ot){return Ot(ze)})}var Nn,tn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",bi=(go.prototype.subscribe=function(Re,Le,ze){return this._subscribe(Re&&typeof Re!="function"?Re:{next:Re,error:Le,complete:ze})},go.prototype[tn]=function(){return this},go);function go(Re){this._subscribe=Re}try{Nn={indexedDB:f.indexedDB||f.mozIndexedDB||f.webkitIndexedDB||f.msIndexedDB,IDBKeyRange:f.IDBKeyRange||f.webkitIDBKeyRange}}catch{Nn={indexedDB:null,IDBKeyRange:null}}function Ss(Re){var Le,ze=!1,Qe=new bi(function($e){var st=ct(Re),_t,wt=!1,Rt={},Tt={},Mt={get closed(){return wt},unsubscribe:function(){wt||(wt=!0,_t&&_t.abort(),Ot&&Ci.storagemutated.unsubscribe(Bt))}};$e.start&&$e.start(Mt);var Ot=!1,Ut=function(){return zn(Lt)},Bt=function(Vt){ji(Rt,Vt),qn(Tt,Rt)&&Ut()},Lt=function(){var Vt,qt,Gt;!wt&&Nn.indexedDB&&(Rt={},Vt={},_t&&_t.abort(),_t=new AbortController,Gt=function(Qt){var Yt=Tr();try{st&&wn();var rr=dn(Re,Qt);return rr=st?rr.finally(xn):rr}finally{Yt&&ln()}}(qt={subscr:Vt,signal:_t.signal,requery:Ut,querier:Re,trans:null}),Promise.resolve(Gt).then(function(Qt){ze=!0,Le=Qt,wt||qt.signal.aborted||(Rt={},function(Yt){for(var rr in Yt)if(ne(Yt,rr))return;return 1}(Tt=Vt)||Ot||(Ci(ya,Bt),Ot=!0),zn(function(){return!wt&&$e.next&&$e.next(Qt)}))},function(Qt){ze=!1,["DatabaseClosedError","AbortError"].includes(Qt==null?void 0:Qt.name)||wt||zn(function(){wt||$e.error&&$e.error(Qt)})}))};return setTimeout(Ut,0),Mt});return Qe.hasValue=function(){return ze},Qe.getValue=function(){return Le},Qe}var Ti=di;function As(Re){var Le=Kn;try{Kn=!0,Ci.storagemutated.fire(Re),kn(Re,!0)}finally{Kn=Le}}De(Ti,i(i({},Xt),{delete:function(Re){return new Ti(Re,{addons:[]}).delete()},exists:function(Re){return new Ti(Re,{addons:[]}).open().then(function(Le){return Le.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(Re){try{return Le=Ti.dependencies,ze=Le.indexedDB,Le=Le.IDBKeyRange,(co(ze)?Promise.resolve(ze.databases()).then(function(Qe){return Qe.map(function($e){return $e.name}).filter(function($e){return $e!==Ja})}):so(ze,Le).toCollection().primaryKeys()).then(Re)}catch{return vn(new lt.MissingAPI)}var Le,ze},defineClass:function(){return function(Re){Te(this,Re)}},ignoreTransaction:function(Re){return Cr.trans?hn(Cr.transless,Re):Re()},vip:uo,async:function(Re){return function(){try{var Le=_n(Re.apply(this,arguments));return Le&&typeof Le.then=="function"?Le:wr.resolve(Le)}catch(ze){return vn(ze)}}},spawn:function(Re,Le,ze){try{var Qe=_n(Re.apply(ze,Le||[]));return Qe&&typeof Qe.then=="function"?Qe:wr.resolve(Qe)}catch($e){return vn($e)}},currentTransaction:{get:function(){return Cr.trans||null}},waitFor:function(Re,Le){return Le=wr.resolve(typeof Re=="function"?Ti.ignoreTransaction(Re):Re).timeout(Le||6e4),Cr.trans?Cr.trans.waitFor(Le):Le},Promise:wr,debug:{get:function(){return nt},set:function(Re){je(Re)}},derive:Fe,extend:Te,props:De,override:We,Events:va,on:Ci,liveQuery:Ss,extendObservabilitySet:ji,getByKeyPath:ot,setByKeyPath:tt,delByKeyPath:function(Re,Le){typeof Le=="string"?tt(Re,Le,void 0):"length"in Le&&[].map.call(Le,function(ze){tt(Re,ze,void 0)})},shallowClone:mt,deepClone:vt,getObjectDiff:ki,cmp:Xr,asap:Xe,minKey:-1/0,addons:[],connections:Vi,errnames:Rr,dependencies:Nn,cache:zi,semVer:"4.0.8",version:"4.0.8".split(".").map(function(Re){return parseInt(Re)}).reduce(function(Re,Le,ze){return Re+Le/Math.pow(10,2*ze)})})),Ti.maxKey=ba(Ti.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Ci(ya,function(Re){Kn||(Re=new CustomEvent(ds,{detail:Re}),Kn=!0,dispatchEvent(Re),Kn=!1)}),addEventListener(ds,function(Re){Re=Re.detail,Kn||As(Re)}));var Xn,Kn=!1,yo=function(){};return typeof BroadcastChannel<"u"&&((yo=function(){(Xn=new BroadcastChannel(ds)).onmessage=function(Re){return Re.data&&As(Re.data)}})(),typeof Xn.unref=="function"&&Xn.unref(),Ci(ya,function(Re){Kn||Xn.postMessage(Re)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(Re){if(!di.disableBfCache&&Re.persisted){nt&&console.debug("Dexie: handling persisted pagehide"),Xn!=null&&Xn.close();for(var Le=0,ze=Vi;Le<ze.length;Le++)ze[Le].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(Re){!di.disableBfCache&&Re.persisted&&(nt&&console.debug("Dexie: handling persisted pageshow"),yo(),As({all:new Dn(-1/0,[[]])}))})),wr.rejectionMapper=function(Re,Le){return!Re||Re instanceof Pt||Re instanceof TypeError||Re instanceof SyntaxError||!Re.name||!yt[Re.name]?Re:(Le=new yt[Re.name](Le||Re.message,Re),"stack"in Re&&qe(Le,"stack",{get:function(){return this.inner.stack}}),Le)},je(nt),i(di,Object.freeze({__proto__:null,Dexie:di,liveQuery:Ss,Entity:g0,cmp:Xr,PropModSymbol:gi,PropModification:ga,replacePrefix:function(Re,Le){return new ga({replacePrefix:[Re,Le]})},add:function(Re){return new ga({add:Re})},remove:function(Re){return new ga({remove:Re})},default:di,RangeSet:Dn,mergeRanges:Ia,rangesOverlap:R0}),{default:di}),di})})(dexie_min);var dexie_minExports=dexie_min.exports;const _Dexie=getDefaultExportFromCjs$1(dexie_minExports),DexieSymbol=Symbol.for("Dexie"),Dexie=globalThis[DexieSymbol]||(globalThis[DexieSymbol]=_Dexie);if(_Dexie.semVer!==Dexie.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${_Dexie.semVer} and ${Dexie.semVer}`);var cryptoJs={exports:{}};function commonjsRequire(h){throw new Error('Could not dynamically require "'+h+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var core={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredCore;function requireCore(){return hasRequiredCore||(hasRequiredCore=1,function(h,o){(function(e,i){h.exports=i()})(commonjsGlobal$1,function(){var e=e||function(i,c){var f;if(typeof window<"u"&&window.crypto&&(f=window.crypto),typeof self<"u"&&self.crypto&&(f=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(f=globalThis.crypto),!f&&typeof window<"u"&&window.msCrypto&&(f=window.msCrypto),!f&&typeof commonjsGlobal$1<"u"&&commonjsGlobal$1.crypto&&(f=commonjsGlobal$1.crypto),!f&&typeof commonjsRequire=="function")try{f=require$$0}catch{}var m=function(){if(f){if(typeof f.getRandomValues=="function")try{return f.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof f.randomBytes=="function")try{return f.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},g=Object.create||function(){function Ue(){}return function(We){var He;return Ue.prototype=We,He=new Ue,Ue.prototype=null,He}}(),Te={},Ee=Te.lib={},Oe=Ee.Base=function(){return{extend:function(Ue){var We=g(this);return Ue&&We.mixIn(Ue),(!We.hasOwnProperty("init")||this.init===We.init)&&(We.init=function(){We.$super.init.apply(this,arguments)}),We.init.prototype=We,We.$super=this,We},create:function(){var Ue=this.extend();return Ue.init.apply(Ue,arguments),Ue},init:function(){},mixIn:function(Ue){for(var We in Ue)Ue.hasOwnProperty(We)&&(this[We]=Ue[We]);Ue.hasOwnProperty("toString")&&(this.toString=Ue.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),ne=Ee.WordArray=Oe.extend({init:function(Ue,We){Ue=this.words=Ue||[],We!=c?this.sigBytes=We:this.sigBytes=Ue.length*4},toString:function(Ue){return(Ue||Ie).stringify(this)},concat:function(Ue){var We=this.words,He=Ue.words,Xe=this.sigBytes,ot=Ue.sigBytes;if(this.clamp(),Xe%4)for(var tt=0;tt<ot;tt++){var mt=He[tt>>>2]>>>24-tt%4*8&255;We[Xe+tt>>>2]|=mt<<24-(Xe+tt)%4*8}else for(var gt=0;gt<ot;gt+=4)We[Xe+gt>>>2]=He[gt>>>2];return this.sigBytes+=ot,this},clamp:function(){var Ue=this.words,We=this.sigBytes;Ue[We>>>2]&=4294967295<<32-We%4*8,Ue.length=i.ceil(We/4)},clone:function(){var Ue=Oe.clone.call(this);return Ue.words=this.words.slice(0),Ue},random:function(Ue){for(var We=[],He=0;He<Ue;He+=4)We.push(m());return new ne.init(We,Ue)}}),De=Te.enc={},Ie=De.Hex={stringify:function(Ue){for(var We=Ue.words,He=Ue.sigBytes,Xe=[],ot=0;ot<He;ot++){var tt=We[ot>>>2]>>>24-ot%4*8&255;Xe.push((tt>>>4).toString(16)),Xe.push((tt&15).toString(16))}return Xe.join("")},parse:function(Ue){for(var We=Ue.length,He=[],Xe=0;Xe<We;Xe+=2)He[Xe>>>3]|=parseInt(Ue.substr(Xe,2),16)<<24-Xe%8*4;return new ne.init(He,We/2)}},qe=De.Latin1={stringify:function(Ue){for(var We=Ue.words,He=Ue.sigBytes,Xe=[],ot=0;ot<He;ot++){var tt=We[ot>>>2]>>>24-ot%4*8&255;Xe.push(String.fromCharCode(tt))}return Xe.join("")},parse:function(Ue){for(var We=Ue.length,He=[],Xe=0;Xe<We;Xe++)He[Xe>>>2]|=(Ue.charCodeAt(Xe)&255)<<24-Xe%4*8;return new ne.init(He,We)}},Fe=De.Utf8={stringify:function(Ue){try{return decodeURIComponent(escape(qe.stringify(Ue)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(Ue){return qe.parse(unescape(encodeURIComponent(Ue)))}},Ne=Ee.BufferedBlockAlgorithm=Oe.extend({reset:function(){this._data=new ne.init,this._nDataBytes=0},_append:function(Ue){typeof Ue=="string"&&(Ue=Fe.parse(Ue)),this._data.concat(Ue),this._nDataBytes+=Ue.sigBytes},_process:function(Ue){var We,He=this._data,Xe=He.words,ot=He.sigBytes,tt=this.blockSize,mt=tt*4,gt=ot/mt;Ue?gt=i.ceil(gt):gt=i.max((gt|0)-this._minBufferSize,0);var rt=gt*tt,pt=i.min(rt*4,ot);if(rt){for(var it=0;it<rt;it+=tt)this._doProcessBlock(Xe,it);We=Xe.splice(0,rt),He.sigBytes-=pt}return new ne.init(We,pt)},clone:function(){var Ue=Oe.clone.call(this);return Ue._data=this._data.clone(),Ue},_minBufferSize:0});Ee.Hasher=Ne.extend({cfg:Oe.extend(),init:function(Ue){this.cfg=this.cfg.extend(Ue),this.reset()},reset:function(){Ne.reset.call(this),this._doReset()},update:function(Ue){return this._append(Ue),this._process(),this},finalize:function(Ue){Ue&&this._append(Ue);var We=this._doFinalize();return We},blockSize:16,_createHelper:function(Ue){return function(We,He){return new Ue.init(He).finalize(We)}},_createHmacHelper:function(Ue){return function(We,He){return new Ve.HMAC.init(Ue,He).finalize(We)}}});var Ve=Te.algo={};return Te}(Math);return e})}(core)),core.exports}var x64Core={exports:{}},hasRequiredX64Core;function requireX64Core(){return hasRequiredX64Core||(hasRequiredX64Core=1,function(h,o){(function(e,i){h.exports=i(requireCore())})(commonjsGlobal$1,function(e){return function(i){var c=e,f=c.lib,m=f.Base,g=f.WordArray,Te=c.x64={};Te.Word=m.extend({init:function(Ee,Oe){this.high=Ee,this.low=Oe}}),Te.WordArray=m.extend({init:function(Ee,Oe){Ee=this.words=Ee||[],Oe!=i?this.sigBytes=Oe:this.sigBytes=Ee.length*8},toX32:function(){for(var Ee=this.words,Oe=Ee.length,ne=[],De=0;De<Oe;De++){var Ie=Ee[De];ne.push(Ie.high),ne.push(Ie.low)}return g.create(ne,this.sigBytes)},clone:function(){for(var Ee=m.clone.call(this),Oe=Ee.words=this.words.slice(0),ne=Oe.length,De=0;De<ne;De++)Oe[De]=Oe[De].clone();return Ee}})}(),e})}(x64Core)),x64Core.exports}var libTypedarrays={exports:{}},hasRequiredLibTypedarrays;function requireLibTypedarrays(){return hasRequiredLibTypedarrays||(hasRequiredLibTypedarrays=1,function(h,o){(function(e,i){h.exports=i(requireCore())})(commonjsGlobal$1,function(e){return function(){if(typeof ArrayBuffer=="function"){var i=e,c=i.lib,f=c.WordArray,m=f.init,g=f.init=function(Te){if(Te instanceof ArrayBuffer&&(Te=new Uint8Array(Te)),(Te instanceof Int8Array||typeof Uint8ClampedArray<"u"&&Te instanceof Uint8ClampedArray||Te instanceof Int16Array||Te instanceof Uint16Array||Te instanceof Int32Array||Te instanceof Uint32Array||Te instanceof Float32Array||Te instanceof Float64Array)&&(Te=new Uint8Array(Te.buffer,Te.byteOffset,Te.byteLength)),Te instanceof Uint8Array){for(var Ee=Te.byteLength,Oe=[],ne=0;ne<Ee;ne++)Oe[ne>>>2]|=Te[ne]<<24-ne%4*8;m.call(this,Oe,Ee)}else m.apply(this,arguments)};g.prototype=f}}(),e.lib.WordArray})}(libTypedarrays)),libTypedarrays.exports}var encUtf16={exports:{}},hasRequiredEncUtf16;function requireEncUtf16(){return hasRequiredEncUtf16||(hasRequiredEncUtf16=1,function(h,o){(function(e,i){h.exports=i(requireCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.WordArray,m=i.enc;m.Utf16=m.Utf16BE={stringify:function(Te){for(var Ee=Te.words,Oe=Te.sigBytes,ne=[],De=0;De<Oe;De+=2){var Ie=Ee[De>>>2]>>>16-De%4*8&65535;ne.push(String.fromCharCode(Ie))}return ne.join("")},parse:function(Te){for(var Ee=Te.length,Oe=[],ne=0;ne<Ee;ne++)Oe[ne>>>1]|=Te.charCodeAt(ne)<<16-ne%2*16;return f.create(Oe,Ee*2)}},m.Utf16LE={stringify:function(Te){for(var Ee=Te.words,Oe=Te.sigBytes,ne=[],De=0;De<Oe;De+=2){var Ie=g(Ee[De>>>2]>>>16-De%4*8&65535);ne.push(String.fromCharCode(Ie))}return ne.join("")},parse:function(Te){for(var Ee=Te.length,Oe=[],ne=0;ne<Ee;ne++)Oe[ne>>>1]|=g(Te.charCodeAt(ne)<<16-ne%2*16);return f.create(Oe,Ee*2)}};function g(Te){return Te<<8&4278255360|Te>>>8&16711935}}(),e.enc.Utf16})}(encUtf16)),encUtf16.exports}var encBase64={exports:{}},hasRequiredEncBase64;function requireEncBase64(){return hasRequiredEncBase64||(hasRequiredEncBase64=1,function(h,o){(function(e,i){h.exports=i(requireCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.WordArray,m=i.enc;m.Base64={stringify:function(Te){var Ee=Te.words,Oe=Te.sigBytes,ne=this._map;Te.clamp();for(var De=[],Ie=0;Ie<Oe;Ie+=3)for(var qe=Ee[Ie>>>2]>>>24-Ie%4*8&255,Fe=Ee[Ie+1>>>2]>>>24-(Ie+1)%4*8&255,Ne=Ee[Ie+2>>>2]>>>24-(Ie+2)%4*8&255,Ve=qe<<16|Fe<<8|Ne,Ue=0;Ue<4&&Ie+Ue*.75<Oe;Ue++)De.push(ne.charAt(Ve>>>6*(3-Ue)&63));var We=ne.charAt(64);if(We)for(;De.length%4;)De.push(We);return De.join("")},parse:function(Te){var Ee=Te.length,Oe=this._map,ne=this._reverseMap;if(!ne){ne=this._reverseMap=[];for(var De=0;De<Oe.length;De++)ne[Oe.charCodeAt(De)]=De}var Ie=Oe.charAt(64);if(Ie){var qe=Te.indexOf(Ie);qe!==-1&&(Ee=qe)}return g(Te,Ee,ne)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function g(Te,Ee,Oe){for(var ne=[],De=0,Ie=0;Ie<Ee;Ie++)if(Ie%4){var qe=Oe[Te.charCodeAt(Ie-1)]<<Ie%4*2,Fe=Oe[Te.charCodeAt(Ie)]>>>6-Ie%4*2,Ne=qe|Fe;ne[De>>>2]|=Ne<<24-De%4*8,De++}return f.create(ne,De)}}(),e.enc.Base64})}(encBase64)),encBase64.exports}var encBase64url={exports:{}},hasRequiredEncBase64url;function requireEncBase64url(){return hasRequiredEncBase64url||(hasRequiredEncBase64url=1,function(h,o){(function(e,i){h.exports=i(requireCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.WordArray,m=i.enc;m.Base64url={stringify:function(Te,Ee){Ee===void 0&&(Ee=!0);var Oe=Te.words,ne=Te.sigBytes,De=Ee?this._safe_map:this._map;Te.clamp();for(var Ie=[],qe=0;qe<ne;qe+=3)for(var Fe=Oe[qe>>>2]>>>24-qe%4*8&255,Ne=Oe[qe+1>>>2]>>>24-(qe+1)%4*8&255,Ve=Oe[qe+2>>>2]>>>24-(qe+2)%4*8&255,Ue=Fe<<16|Ne<<8|Ve,We=0;We<4&&qe+We*.75<ne;We++)Ie.push(De.charAt(Ue>>>6*(3-We)&63));var He=De.charAt(64);if(He)for(;Ie.length%4;)Ie.push(He);return Ie.join("")},parse:function(Te,Ee){Ee===void 0&&(Ee=!0);var Oe=Te.length,ne=Ee?this._safe_map:this._map,De=this._reverseMap;if(!De){De=this._reverseMap=[];for(var Ie=0;Ie<ne.length;Ie++)De[ne.charCodeAt(Ie)]=Ie}var qe=ne.charAt(64);if(qe){var Fe=Te.indexOf(qe);Fe!==-1&&(Oe=Fe)}return g(Te,Oe,De)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function g(Te,Ee,Oe){for(var ne=[],De=0,Ie=0;Ie<Ee;Ie++)if(Ie%4){var qe=Oe[Te.charCodeAt(Ie-1)]<<Ie%4*2,Fe=Oe[Te.charCodeAt(Ie)]>>>6-Ie%4*2,Ne=qe|Fe;ne[De>>>2]|=Ne<<24-De%4*8,De++}return f.create(ne,De)}}(),e.enc.Base64url})}(encBase64url)),encBase64url.exports}var md5={exports:{}},hasRequiredMd5;function requireMd5(){return hasRequiredMd5||(hasRequiredMd5=1,function(h,o){(function(e,i){h.exports=i(requireCore())})(commonjsGlobal$1,function(e){return function(i){var c=e,f=c.lib,m=f.WordArray,g=f.Hasher,Te=c.algo,Ee=[];(function(){for(var Fe=0;Fe<64;Fe++)Ee[Fe]=i.abs(i.sin(Fe+1))*4294967296|0})();var Oe=Te.MD5=g.extend({_doReset:function(){this._hash=new m.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(Fe,Ne){for(var Ve=0;Ve<16;Ve++){var Ue=Ne+Ve,We=Fe[Ue];Fe[Ue]=(We<<8|We>>>24)&16711935|(We<<24|We>>>8)&4278255360}var He=this._hash.words,Xe=Fe[Ne+0],ot=Fe[Ne+1],tt=Fe[Ne+2],mt=Fe[Ne+3],gt=Fe[Ne+4],rt=Fe[Ne+5],pt=Fe[Ne+6],it=Fe[Ne+7],vt=Fe[Ne+8],Ze=Fe[Ne+9],Ft=Fe[Ne+10],Zt=Fe[Ne+11],jt=Fe[Ne+12],ur=Fe[Ne+13],bt=Fe[Ne+14],St=Fe[Ne+15],ct=He[0],dt=He[1],Pt=He[2],Ct=He[3];ct=ne(ct,dt,Pt,Ct,Xe,7,Ee[0]),Ct=ne(Ct,ct,dt,Pt,ot,12,Ee[1]),Pt=ne(Pt,Ct,ct,dt,tt,17,Ee[2]),dt=ne(dt,Pt,Ct,ct,mt,22,Ee[3]),ct=ne(ct,dt,Pt,Ct,gt,7,Ee[4]),Ct=ne(Ct,ct,dt,Pt,rt,12,Ee[5]),Pt=ne(Pt,Ct,ct,dt,pt,17,Ee[6]),dt=ne(dt,Pt,Ct,ct,it,22,Ee[7]),ct=ne(ct,dt,Pt,Ct,vt,7,Ee[8]),Ct=ne(Ct,ct,dt,Pt,Ze,12,Ee[9]),Pt=ne(Pt,Ct,ct,dt,Ft,17,Ee[10]),dt=ne(dt,Pt,Ct,ct,Zt,22,Ee[11]),ct=ne(ct,dt,Pt,Ct,jt,7,Ee[12]),Ct=ne(Ct,ct,dt,Pt,ur,12,Ee[13]),Pt=ne(Pt,Ct,ct,dt,bt,17,Ee[14]),dt=ne(dt,Pt,Ct,ct,St,22,Ee[15]),ct=De(ct,dt,Pt,Ct,ot,5,Ee[16]),Ct=De(Ct,ct,dt,Pt,pt,9,Ee[17]),Pt=De(Pt,Ct,ct,dt,Zt,14,Ee[18]),dt=De(dt,Pt,Ct,ct,Xe,20,Ee[19]),ct=De(ct,dt,Pt,Ct,rt,5,Ee[20]),Ct=De(Ct,ct,dt,Pt,Ft,9,Ee[21]),Pt=De(Pt,Ct,ct,dt,St,14,Ee[22]),dt=De(dt,Pt,Ct,ct,gt,20,Ee[23]),ct=De(ct,dt,Pt,Ct,Ze,5,Ee[24]),Ct=De(Ct,ct,dt,Pt,bt,9,Ee[25]),Pt=De(Pt,Ct,ct,dt,mt,14,Ee[26]),dt=De(dt,Pt,Ct,ct,vt,20,Ee[27]),ct=De(ct,dt,Pt,Ct,ur,5,Ee[28]),Ct=De(Ct,ct,dt,Pt,tt,9,Ee[29]),Pt=De(Pt,Ct,ct,dt,it,14,Ee[30]),dt=De(dt,Pt,Ct,ct,jt,20,Ee[31]),ct=Ie(ct,dt,Pt,Ct,rt,4,Ee[32]),Ct=Ie(Ct,ct,dt,Pt,vt,11,Ee[33]),Pt=Ie(Pt,Ct,ct,dt,Zt,16,Ee[34]),dt=Ie(dt,Pt,Ct,ct,bt,23,Ee[35]),ct=Ie(ct,dt,Pt,Ct,ot,4,Ee[36]),Ct=Ie(Ct,ct,dt,Pt,gt,11,Ee[37]),Pt=Ie(Pt,Ct,ct,dt,it,16,Ee[38]),dt=Ie(dt,Pt,Ct,ct,Ft,23,Ee[39]),ct=Ie(ct,dt,Pt,Ct,ur,4,Ee[40]),Ct=Ie(Ct,ct,dt,Pt,Xe,11,Ee[41]),Pt=Ie(Pt,Ct,ct,dt,mt,16,Ee[42]),dt=Ie(dt,Pt,Ct,ct,pt,23,Ee[43]),ct=Ie(ct,dt,Pt,Ct,Ze,4,Ee[44]),Ct=Ie(Ct,ct,dt,Pt,jt,11,Ee[45]),Pt=Ie(Pt,Ct,ct,dt,St,16,Ee[46]),dt=Ie(dt,Pt,Ct,ct,tt,23,Ee[47]),ct=qe(ct,dt,Pt,Ct,Xe,6,Ee[48]),Ct=qe(Ct,ct,dt,Pt,it,10,Ee[49]),Pt=qe(Pt,Ct,ct,dt,bt,15,Ee[50]),dt=qe(dt,Pt,Ct,ct,rt,21,Ee[51]),ct=qe(ct,dt,Pt,Ct,jt,6,Ee[52]),Ct=qe(Ct,ct,dt,Pt,mt,10,Ee[53]),Pt=qe(Pt,Ct,ct,dt,Ft,15,Ee[54]),dt=qe(dt,Pt,Ct,ct,ot,21,Ee[55]),ct=qe(ct,dt,Pt,Ct,vt,6,Ee[56]),Ct=qe(Ct,ct,dt,Pt,St,10,Ee[57]),Pt=qe(Pt,Ct,ct,dt,pt,15,Ee[58]),dt=qe(dt,Pt,Ct,ct,ur,21,Ee[59]),ct=qe(ct,dt,Pt,Ct,gt,6,Ee[60]),Ct=qe(Ct,ct,dt,Pt,Zt,10,Ee[61]),Pt=qe(Pt,Ct,ct,dt,tt,15,Ee[62]),dt=qe(dt,Pt,Ct,ct,Ze,21,Ee[63]),He[0]=He[0]+ct|0,He[1]=He[1]+dt|0,He[2]=He[2]+Pt|0,He[3]=He[3]+Ct|0},_doFinalize:function(){var Fe=this._data,Ne=Fe.words,Ve=this._nDataBytes*8,Ue=Fe.sigBytes*8;Ne[Ue>>>5]|=128<<24-Ue%32;var We=i.floor(Ve/4294967296),He=Ve;Ne[(Ue+64>>>9<<4)+15]=(We<<8|We>>>24)&16711935|(We<<24|We>>>8)&4278255360,Ne[(Ue+64>>>9<<4)+14]=(He<<8|He>>>24)&16711935|(He<<24|He>>>8)&4278255360,Fe.sigBytes=(Ne.length+1)*4,this._process();for(var Xe=this._hash,ot=Xe.words,tt=0;tt<4;tt++){var mt=ot[tt];ot[tt]=(mt<<8|mt>>>24)&16711935|(mt<<24|mt>>>8)&4278255360}return Xe},clone:function(){var Fe=g.clone.call(this);return Fe._hash=this._hash.clone(),Fe}});function ne(Fe,Ne,Ve,Ue,We,He,Xe){var ot=Fe+(Ne&Ve|~Ne&Ue)+We+Xe;return(ot<<He|ot>>>32-He)+Ne}function De(Fe,Ne,Ve,Ue,We,He,Xe){var ot=Fe+(Ne&Ue|Ve&~Ue)+We+Xe;return(ot<<He|ot>>>32-He)+Ne}function Ie(Fe,Ne,Ve,Ue,We,He,Xe){var ot=Fe+(Ne^Ve^Ue)+We+Xe;return(ot<<He|ot>>>32-He)+Ne}function qe(Fe,Ne,Ve,Ue,We,He,Xe){var ot=Fe+(Ve^(Ne|~Ue))+We+Xe;return(ot<<He|ot>>>32-He)+Ne}c.MD5=g._createHelper(Oe),c.HmacMD5=g._createHmacHelper(Oe)}(Math),e.MD5})}(md5)),md5.exports}var sha1={exports:{}},hasRequiredSha1;function requireSha1(){return hasRequiredSha1||(hasRequiredSha1=1,function(h,o){(function(e,i){h.exports=i(requireCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.WordArray,m=c.Hasher,g=i.algo,Te=[],Ee=g.SHA1=m.extend({_doReset:function(){this._hash=new f.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(Oe,ne){for(var De=this._hash.words,Ie=De[0],qe=De[1],Fe=De[2],Ne=De[3],Ve=De[4],Ue=0;Ue<80;Ue++){if(Ue<16)Te[Ue]=Oe[ne+Ue]|0;else{var We=Te[Ue-3]^Te[Ue-8]^Te[Ue-14]^Te[Ue-16];Te[Ue]=We<<1|We>>>31}var He=(Ie<<5|Ie>>>27)+Ve+Te[Ue];Ue<20?He+=(qe&Fe|~qe&Ne)+1518500249:Ue<40?He+=(qe^Fe^Ne)+1859775393:Ue<60?He+=(qe&Fe|qe&Ne|Fe&Ne)-1894007588:He+=(qe^Fe^Ne)-899497514,Ve=Ne,Ne=Fe,Fe=qe<<30|qe>>>2,qe=Ie,Ie=He}De[0]=De[0]+Ie|0,De[1]=De[1]+qe|0,De[2]=De[2]+Fe|0,De[3]=De[3]+Ne|0,De[4]=De[4]+Ve|0},_doFinalize:function(){var Oe=this._data,ne=Oe.words,De=this._nDataBytes*8,Ie=Oe.sigBytes*8;return ne[Ie>>>5]|=128<<24-Ie%32,ne[(Ie+64>>>9<<4)+14]=Math.floor(De/4294967296),ne[(Ie+64>>>9<<4)+15]=De,Oe.sigBytes=ne.length*4,this._process(),this._hash},clone:function(){var Oe=m.clone.call(this);return Oe._hash=this._hash.clone(),Oe}});i.SHA1=m._createHelper(Ee),i.HmacSHA1=m._createHmacHelper(Ee)}(),e.SHA1})}(sha1)),sha1.exports}var sha256={exports:{}},hasRequiredSha256;function requireSha256(){return hasRequiredSha256||(hasRequiredSha256=1,function(h,o){(function(e,i){h.exports=i(requireCore())})(commonjsGlobal$1,function(e){return function(i){var c=e,f=c.lib,m=f.WordArray,g=f.Hasher,Te=c.algo,Ee=[],Oe=[];(function(){function Ie(Ve){for(var Ue=i.sqrt(Ve),We=2;We<=Ue;We++)if(!(Ve%We))return!1;return!0}function qe(Ve){return(Ve-(Ve|0))*4294967296|0}for(var Fe=2,Ne=0;Ne<64;)Ie(Fe)&&(Ne<8&&(Ee[Ne]=qe(i.pow(Fe,1/2))),Oe[Ne]=qe(i.pow(Fe,1/3)),Ne++),Fe++})();var ne=[],De=Te.SHA256=g.extend({_doReset:function(){this._hash=new m.init(Ee.slice(0))},_doProcessBlock:function(Ie,qe){for(var Fe=this._hash.words,Ne=Fe[0],Ve=Fe[1],Ue=Fe[2],We=Fe[3],He=Fe[4],Xe=Fe[5],ot=Fe[6],tt=Fe[7],mt=0;mt<64;mt++){if(mt<16)ne[mt]=Ie[qe+mt]|0;else{var gt=ne[mt-15],rt=(gt<<25|gt>>>7)^(gt<<14|gt>>>18)^gt>>>3,pt=ne[mt-2],it=(pt<<15|pt>>>17)^(pt<<13|pt>>>19)^pt>>>10;ne[mt]=rt+ne[mt-7]+it+ne[mt-16]}var vt=He&Xe^~He&ot,Ze=Ne&Ve^Ne&Ue^Ve&Ue,Ft=(Ne<<30|Ne>>>2)^(Ne<<19|Ne>>>13)^(Ne<<10|Ne>>>22),Zt=(He<<26|He>>>6)^(He<<21|He>>>11)^(He<<7|He>>>25),jt=tt+Zt+vt+Oe[mt]+ne[mt],ur=Ft+Ze;tt=ot,ot=Xe,Xe=He,He=We+jt|0,We=Ue,Ue=Ve,Ve=Ne,Ne=jt+ur|0}Fe[0]=Fe[0]+Ne|0,Fe[1]=Fe[1]+Ve|0,Fe[2]=Fe[2]+Ue|0,Fe[3]=Fe[3]+We|0,Fe[4]=Fe[4]+He|0,Fe[5]=Fe[5]+Xe|0,Fe[6]=Fe[6]+ot|0,Fe[7]=Fe[7]+tt|0},_doFinalize:function(){var Ie=this._data,qe=Ie.words,Fe=this._nDataBytes*8,Ne=Ie.sigBytes*8;return qe[Ne>>>5]|=128<<24-Ne%32,qe[(Ne+64>>>9<<4)+14]=i.floor(Fe/4294967296),qe[(Ne+64>>>9<<4)+15]=Fe,Ie.sigBytes=qe.length*4,this._process(),this._hash},clone:function(){var Ie=g.clone.call(this);return Ie._hash=this._hash.clone(),Ie}});c.SHA256=g._createHelper(De),c.HmacSHA256=g._createHmacHelper(De)}(Math),e.SHA256})}(sha256)),sha256.exports}var sha224={exports:{}},hasRequiredSha224;function requireSha224(){return hasRequiredSha224||(hasRequiredSha224=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireSha256())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.WordArray,m=i.algo,g=m.SHA256,Te=m.SHA224=g.extend({_doReset:function(){this._hash=new f.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var Ee=g._doFinalize.call(this);return Ee.sigBytes-=4,Ee}});i.SHA224=g._createHelper(Te),i.HmacSHA224=g._createHmacHelper(Te)}(),e.SHA224})}(sha224)),sha224.exports}var sha512={exports:{}},hasRequiredSha512;function requireSha512(){return hasRequiredSha512||(hasRequiredSha512=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireX64Core())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.Hasher,m=i.x64,g=m.Word,Te=m.WordArray,Ee=i.algo;function Oe(){return g.create.apply(g,arguments)}var ne=[Oe(1116352408,3609767458),Oe(1899447441,602891725),Oe(3049323471,3964484399),Oe(3921009573,2173295548),Oe(961987163,4081628472),Oe(1508970993,3053834265),Oe(2453635748,2937671579),Oe(2870763221,3664609560),Oe(3624381080,2734883394),Oe(310598401,1164996542),Oe(607225278,1323610764),Oe(1426881987,3590304994),Oe(1925078388,4068182383),Oe(2162078206,991336113),Oe(2614888103,633803317),Oe(3248222580,3479774868),Oe(3835390401,2666613458),Oe(4022224774,944711139),Oe(264347078,2341262773),Oe(604807628,2007800933),Oe(770255983,1495990901),Oe(1249150122,1856431235),Oe(1555081692,3175218132),Oe(1996064986,2198950837),Oe(2554220882,3999719339),Oe(2821834349,766784016),Oe(2952996808,2566594879),Oe(3210313671,3203337956),Oe(3336571891,1034457026),Oe(3584528711,2466948901),Oe(113926993,3758326383),Oe(338241895,168717936),Oe(666307205,1188179964),Oe(773529912,1546045734),Oe(1294757372,1522805485),Oe(1396182291,2643833823),Oe(1695183700,2343527390),Oe(1986661051,1014477480),Oe(2177026350,1206759142),Oe(2456956037,344077627),Oe(2730485921,1290863460),Oe(2820302411,3158454273),Oe(3259730800,3505952657),Oe(3345764771,106217008),Oe(3516065817,3606008344),Oe(3600352804,1432725776),Oe(4094571909,1467031594),Oe(275423344,851169720),Oe(430227734,3100823752),Oe(506948616,1363258195),Oe(659060556,3750685593),Oe(883997877,3785050280),Oe(958139571,3318307427),Oe(1322822218,3812723403),Oe(1537002063,2003034995),Oe(1747873779,3602036899),Oe(1955562222,1575990012),Oe(2024104815,1125592928),Oe(2227730452,2716904306),Oe(2361852424,442776044),Oe(2428436474,593698344),Oe(2756734187,3733110249),Oe(3204031479,2999351573),Oe(3329325298,3815920427),Oe(3391569614,3928383900),Oe(3515267271,566280711),Oe(3940187606,3454069534),Oe(4118630271,4000239992),Oe(116418474,1914138554),Oe(174292421,2731055270),Oe(289380356,3203993006),Oe(460393269,320620315),Oe(685471733,587496836),Oe(852142971,1086792851),Oe(1017036298,365543100),Oe(1126000580,2618297676),Oe(1288033470,3409855158),Oe(1501505948,4234509866),Oe(1607167915,987167468),Oe(1816402316,1246189591)],De=[];(function(){for(var qe=0;qe<80;qe++)De[qe]=Oe()})();var Ie=Ee.SHA512=f.extend({_doReset:function(){this._hash=new Te.init([new g.init(1779033703,4089235720),new g.init(3144134277,2227873595),new g.init(1013904242,4271175723),new g.init(2773480762,1595750129),new g.init(1359893119,2917565137),new g.init(2600822924,725511199),new g.init(528734635,4215389547),new g.init(1541459225,327033209)])},_doProcessBlock:function(qe,Fe){for(var Ne=this._hash.words,Ve=Ne[0],Ue=Ne[1],We=Ne[2],He=Ne[3],Xe=Ne[4],ot=Ne[5],tt=Ne[6],mt=Ne[7],gt=Ve.high,rt=Ve.low,pt=Ue.high,it=Ue.low,vt=We.high,Ze=We.low,Ft=He.high,Zt=He.low,jt=Xe.high,ur=Xe.low,bt=ot.high,St=ot.low,ct=tt.high,dt=tt.low,Pt=mt.high,Ct=mt.low,Kt=gt,fr=rt,Rr=pt,cr=it,lt=vt,yt=Ze,Xt=Ft,$t=Zt,dr=jt,Je=ur,At=bt,Wt=St,xt=ct,ht=dt,Dt=Pt,er=Ct,nt=0;nt<80;nt++){var je,Ge,ut=De[nt];if(nt<16)Ge=ut.high=qe[Fe+nt*2]|0,je=ut.low=qe[Fe+nt*2+1]|0;else{var Et=De[nt-15],It=Et.high,zt=Et.low,tr=(It>>>1|zt<<31)^(It>>>8|zt<<24)^It>>>7,Sr=(zt>>>1|It<<31)^(zt>>>8|It<<24)^(zt>>>7|It<<25),Lr=De[nt-2],Br=Lr.high,Er=Lr.low,gr=(Br>>>19|Er<<13)^(Br<<3|Er>>>29)^Br>>>6,Qr=(Er>>>19|Br<<13)^(Er<<3|Br>>>29)^(Er>>>6|Br<<26),Cr=De[nt-7],sn=Cr.high,Bn=Cr.low,Un=De[nt-16],wr=Un.high,Jt=Un.low;je=Sr+Bn,Ge=tr+sn+(je>>>0<Sr>>>0?1:0),je=je+Qr,Ge=Ge+gr+(je>>>0<Qr>>>0?1:0),je=je+Jt,Ge=Ge+wr+(je>>>0<Jt>>>0?1:0),ut.high=Ge,ut.low=je}var yr=dr&At^~dr&xt,at=Je&Wt^~Je&ht,Or=Kt&Rr^Kt&lt^Rr&lt,en=fr&cr^fr&yt^cr&yt,kr=(Kt>>>28|fr<<4)^(Kt<<30|fr>>>2)^(Kt<<25|fr>>>7),Pn=(fr>>>28|Kt<<4)^(fr<<30|Kt>>>2)^(fr<<25|Kt>>>7),Tr=(dr>>>14|Je<<18)^(dr>>>18|Je<<14)^(dr<<23|Je>>>9),ln=(Je>>>14|dr<<18)^(Je>>>18|dr<<14)^(Je<<23|dr>>>9),or=ne[nt],ar=or.high,Zr=or.low,Nr=er+ln,Dr=Dt+Tr+(Nr>>>0<er>>>0?1:0),Nr=Nr+at,Dr=Dr+yr+(Nr>>>0<at>>>0?1:0),Nr=Nr+Zr,Dr=Dr+ar+(Nr>>>0<Zr>>>0?1:0),Nr=Nr+je,Dr=Dr+Ge+(Nr>>>0<je>>>0?1:0),Wn=Pn+en,jn=kr+Or+(Wn>>>0<Pn>>>0?1:0);Dt=xt,er=ht,xt=At,ht=Wt,At=dr,Wt=Je,Je=$t+Nr|0,dr=Xt+Dr+(Je>>>0<$t>>>0?1:0)|0,Xt=lt,$t=yt,lt=Rr,yt=cr,Rr=Kt,cr=fr,fr=Nr+Wn|0,Kt=Dr+jn+(fr>>>0<Nr>>>0?1:0)|0}rt=Ve.low=rt+fr,Ve.high=gt+Kt+(rt>>>0<fr>>>0?1:0),it=Ue.low=it+cr,Ue.high=pt+Rr+(it>>>0<cr>>>0?1:0),Ze=We.low=Ze+yt,We.high=vt+lt+(Ze>>>0<yt>>>0?1:0),Zt=He.low=Zt+$t,He.high=Ft+Xt+(Zt>>>0<$t>>>0?1:0),ur=Xe.low=ur+Je,Xe.high=jt+dr+(ur>>>0<Je>>>0?1:0),St=ot.low=St+Wt,ot.high=bt+At+(St>>>0<Wt>>>0?1:0),dt=tt.low=dt+ht,tt.high=ct+xt+(dt>>>0<ht>>>0?1:0),Ct=mt.low=Ct+er,mt.high=Pt+Dt+(Ct>>>0<er>>>0?1:0)},_doFinalize:function(){var qe=this._data,Fe=qe.words,Ne=this._nDataBytes*8,Ve=qe.sigBytes*8;Fe[Ve>>>5]|=128<<24-Ve%32,Fe[(Ve+128>>>10<<5)+30]=Math.floor(Ne/4294967296),Fe[(Ve+128>>>10<<5)+31]=Ne,qe.sigBytes=Fe.length*4,this._process();var Ue=this._hash.toX32();return Ue},clone:function(){var qe=f.clone.call(this);return qe._hash=this._hash.clone(),qe},blockSize:1024/32});i.SHA512=f._createHelper(Ie),i.HmacSHA512=f._createHmacHelper(Ie)}(),e.SHA512})}(sha512)),sha512.exports}var sha384={exports:{}},hasRequiredSha384;function requireSha384(){return hasRequiredSha384||(hasRequiredSha384=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireX64Core(),requireSha512())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.x64,f=c.Word,m=c.WordArray,g=i.algo,Te=g.SHA512,Ee=g.SHA384=Te.extend({_doReset:function(){this._hash=new m.init([new f.init(3418070365,3238371032),new f.init(1654270250,914150663),new f.init(2438529370,812702999),new f.init(355462360,4144912697),new f.init(1731405415,4290775857),new f.init(2394180231,1750603025),new f.init(3675008525,1694076839),new f.init(1203062813,3204075428)])},_doFinalize:function(){var Oe=Te._doFinalize.call(this);return Oe.sigBytes-=16,Oe}});i.SHA384=Te._createHelper(Ee),i.HmacSHA384=Te._createHmacHelper(Ee)}(),e.SHA384})}(sha384)),sha384.exports}var sha3={exports:{}},hasRequiredSha3;function requireSha3(){return hasRequiredSha3||(hasRequiredSha3=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireX64Core())})(commonjsGlobal$1,function(e){return function(i){var c=e,f=c.lib,m=f.WordArray,g=f.Hasher,Te=c.x64,Ee=Te.Word,Oe=c.algo,ne=[],De=[],Ie=[];(function(){for(var Ne=1,Ve=0,Ue=0;Ue<24;Ue++){ne[Ne+5*Ve]=(Ue+1)*(Ue+2)/2%64;var We=Ve%5,He=(2*Ne+3*Ve)%5;Ne=We,Ve=He}for(var Ne=0;Ne<5;Ne++)for(var Ve=0;Ve<5;Ve++)De[Ne+5*Ve]=Ve+(2*Ne+3*Ve)%5*5;for(var Xe=1,ot=0;ot<24;ot++){for(var tt=0,mt=0,gt=0;gt<7;gt++){if(Xe&1){var rt=(1<<gt)-1;rt<32?mt^=1<<rt:tt^=1<<rt-32}Xe&128?Xe=Xe<<1^113:Xe<<=1}Ie[ot]=Ee.create(tt,mt)}})();var qe=[];(function(){for(var Ne=0;Ne<25;Ne++)qe[Ne]=Ee.create()})();var Fe=Oe.SHA3=g.extend({cfg:g.cfg.extend({outputLength:512}),_doReset:function(){for(var Ne=this._state=[],Ve=0;Ve<25;Ve++)Ne[Ve]=new Ee.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(Ne,Ve){for(var Ue=this._state,We=this.blockSize/2,He=0;He<We;He++){var Xe=Ne[Ve+2*He],ot=Ne[Ve+2*He+1];Xe=(Xe<<8|Xe>>>24)&16711935|(Xe<<24|Xe>>>8)&4278255360,ot=(ot<<8|ot>>>24)&16711935|(ot<<24|ot>>>8)&4278255360;var tt=Ue[He];tt.high^=ot,tt.low^=Xe}for(var mt=0;mt<24;mt++){for(var gt=0;gt<5;gt++){for(var rt=0,pt=0,it=0;it<5;it++){var tt=Ue[gt+5*it];rt^=tt.high,pt^=tt.low}var vt=qe[gt];vt.high=rt,vt.low=pt}for(var gt=0;gt<5;gt++)for(var Ze=qe[(gt+4)%5],Ft=qe[(gt+1)%5],Zt=Ft.high,jt=Ft.low,rt=Ze.high^(Zt<<1|jt>>>31),pt=Ze.low^(jt<<1|Zt>>>31),it=0;it<5;it++){var tt=Ue[gt+5*it];tt.high^=rt,tt.low^=pt}for(var ur=1;ur<25;ur++){var rt,pt,tt=Ue[ur],bt=tt.high,St=tt.low,ct=ne[ur];ct<32?(rt=bt<<ct|St>>>32-ct,pt=St<<ct|bt>>>32-ct):(rt=St<<ct-32|bt>>>64-ct,pt=bt<<ct-32|St>>>64-ct);var dt=qe[De[ur]];dt.high=rt,dt.low=pt}var Pt=qe[0],Ct=Ue[0];Pt.high=Ct.high,Pt.low=Ct.low;for(var gt=0;gt<5;gt++)for(var it=0;it<5;it++){var ur=gt+5*it,tt=Ue[ur],Kt=qe[ur],fr=qe[(gt+1)%5+5*it],Rr=qe[(gt+2)%5+5*it];tt.high=Kt.high^~fr.high&Rr.high,tt.low=Kt.low^~fr.low&Rr.low}var tt=Ue[0],cr=Ie[mt];tt.high^=cr.high,tt.low^=cr.low}},_doFinalize:function(){var Ne=this._data,Ve=Ne.words;this._nDataBytes*8;var Ue=Ne.sigBytes*8,We=this.blockSize*32;Ve[Ue>>>5]|=1<<24-Ue%32,Ve[(i.ceil((Ue+1)/We)*We>>>5)-1]|=128,Ne.sigBytes=Ve.length*4,this._process();for(var He=this._state,Xe=this.cfg.outputLength/8,ot=Xe/8,tt=[],mt=0;mt<ot;mt++){var gt=He[mt],rt=gt.high,pt=gt.low;rt=(rt<<8|rt>>>24)&16711935|(rt<<24|rt>>>8)&4278255360,pt=(pt<<8|pt>>>24)&16711935|(pt<<24|pt>>>8)&4278255360,tt.push(pt),tt.push(rt)}return new m.init(tt,Xe)},clone:function(){for(var Ne=g.clone.call(this),Ve=Ne._state=this._state.slice(0),Ue=0;Ue<25;Ue++)Ve[Ue]=Ve[Ue].clone();return Ne}});c.SHA3=g._createHelper(Fe),c.HmacSHA3=g._createHmacHelper(Fe)}(Math),e.SHA3})}(sha3)),sha3.exports}var ripemd160={exports:{}},hasRequiredRipemd160;function requireRipemd160(){return hasRequiredRipemd160||(hasRequiredRipemd160=1,function(h,o){(function(e,i){h.exports=i(requireCore())})(commonjsGlobal$1,function(e){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(i){var c=e,f=c.lib,m=f.WordArray,g=f.Hasher,Te=c.algo,Ee=m.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),Oe=m.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),ne=m.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),De=m.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),Ie=m.create([0,1518500249,1859775393,2400959708,2840853838]),qe=m.create([1352829926,1548603684,1836072691,2053994217,0]),Fe=Te.RIPEMD160=g.extend({_doReset:function(){this._hash=m.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(ot,tt){for(var mt=0;mt<16;mt++){var gt=tt+mt,rt=ot[gt];ot[gt]=(rt<<8|rt>>>24)&16711935|(rt<<24|rt>>>8)&4278255360}var pt=this._hash.words,it=Ie.words,vt=qe.words,Ze=Ee.words,Ft=Oe.words,Zt=ne.words,jt=De.words,ur,bt,St,ct,dt,Pt,Ct,Kt,fr,Rr;Pt=ur=pt[0],Ct=bt=pt[1],Kt=St=pt[2],fr=ct=pt[3],Rr=dt=pt[4];for(var cr,mt=0;mt<80;mt+=1)cr=ur+ot[tt+Ze[mt]]|0,mt<16?cr+=Ne(bt,St,ct)+it[0]:mt<32?cr+=Ve(bt,St,ct)+it[1]:mt<48?cr+=Ue(bt,St,ct)+it[2]:mt<64?cr+=We(bt,St,ct)+it[3]:cr+=He(bt,St,ct)+it[4],cr=cr|0,cr=Xe(cr,Zt[mt]),cr=cr+dt|0,ur=dt,dt=ct,ct=Xe(St,10),St=bt,bt=cr,cr=Pt+ot[tt+Ft[mt]]|0,mt<16?cr+=He(Ct,Kt,fr)+vt[0]:mt<32?cr+=We(Ct,Kt,fr)+vt[1]:mt<48?cr+=Ue(Ct,Kt,fr)+vt[2]:mt<64?cr+=Ve(Ct,Kt,fr)+vt[3]:cr+=Ne(Ct,Kt,fr)+vt[4],cr=cr|0,cr=Xe(cr,jt[mt]),cr=cr+Rr|0,Pt=Rr,Rr=fr,fr=Xe(Kt,10),Kt=Ct,Ct=cr;cr=pt[1]+St+fr|0,pt[1]=pt[2]+ct+Rr|0,pt[2]=pt[3]+dt+Pt|0,pt[3]=pt[4]+ur+Ct|0,pt[4]=pt[0]+bt+Kt|0,pt[0]=cr},_doFinalize:function(){var ot=this._data,tt=ot.words,mt=this._nDataBytes*8,gt=ot.sigBytes*8;tt[gt>>>5]|=128<<24-gt%32,tt[(gt+64>>>9<<4)+14]=(mt<<8|mt>>>24)&16711935|(mt<<24|mt>>>8)&4278255360,ot.sigBytes=(tt.length+1)*4,this._process();for(var rt=this._hash,pt=rt.words,it=0;it<5;it++){var vt=pt[it];pt[it]=(vt<<8|vt>>>24)&16711935|(vt<<24|vt>>>8)&4278255360}return rt},clone:function(){var ot=g.clone.call(this);return ot._hash=this._hash.clone(),ot}});function Ne(ot,tt,mt){return ot^tt^mt}function Ve(ot,tt,mt){return ot&tt|~ot&mt}function Ue(ot,tt,mt){return(ot|~tt)^mt}function We(ot,tt,mt){return ot&mt|tt&~mt}function He(ot,tt,mt){return ot^(tt|~mt)}function Xe(ot,tt){return ot<<tt|ot>>>32-tt}c.RIPEMD160=g._createHelper(Fe),c.HmacRIPEMD160=g._createHmacHelper(Fe)}(),e.RIPEMD160})}(ripemd160)),ripemd160.exports}var hmac={exports:{}},hasRequiredHmac;function requireHmac(){return hasRequiredHmac||(hasRequiredHmac=1,function(h,o){(function(e,i){h.exports=i(requireCore())})(commonjsGlobal$1,function(e){(function(){var i=e,c=i.lib,f=c.Base,m=i.enc,g=m.Utf8,Te=i.algo;Te.HMAC=f.extend({init:function(Ee,Oe){Ee=this._hasher=new Ee.init,typeof Oe=="string"&&(Oe=g.parse(Oe));var ne=Ee.blockSize,De=ne*4;Oe.sigBytes>De&&(Oe=Ee.finalize(Oe)),Oe.clamp();for(var Ie=this._oKey=Oe.clone(),qe=this._iKey=Oe.clone(),Fe=Ie.words,Ne=qe.words,Ve=0;Ve<ne;Ve++)Fe[Ve]^=1549556828,Ne[Ve]^=909522486;Ie.sigBytes=qe.sigBytes=De,this.reset()},reset:function(){var Ee=this._hasher;Ee.reset(),Ee.update(this._iKey)},update:function(Ee){return this._hasher.update(Ee),this},finalize:function(Ee){var Oe=this._hasher,ne=Oe.finalize(Ee);Oe.reset();var De=Oe.finalize(this._oKey.clone().concat(ne));return De}})})()})}(hmac)),hmac.exports}var pbkdf2={exports:{}},hasRequiredPbkdf2;function requirePbkdf2(){return hasRequiredPbkdf2||(hasRequiredPbkdf2=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireSha256(),requireHmac())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.Base,m=c.WordArray,g=i.algo,Te=g.SHA256,Ee=g.HMAC,Oe=g.PBKDF2=f.extend({cfg:f.extend({keySize:128/32,hasher:Te,iterations:25e4}),init:function(ne){this.cfg=this.cfg.extend(ne)},compute:function(ne,De){for(var Ie=this.cfg,qe=Ee.create(Ie.hasher,ne),Fe=m.create(),Ne=m.create([1]),Ve=Fe.words,Ue=Ne.words,We=Ie.keySize,He=Ie.iterations;Ve.length<We;){var Xe=qe.update(De).finalize(Ne);qe.reset();for(var ot=Xe.words,tt=ot.length,mt=Xe,gt=1;gt<He;gt++){mt=qe.finalize(mt),qe.reset();for(var rt=mt.words,pt=0;pt<tt;pt++)ot[pt]^=rt[pt]}Fe.concat(Xe),Ue[0]++}return Fe.sigBytes=We*4,Fe}});i.PBKDF2=function(ne,De,Ie){return Oe.create(Ie).compute(ne,De)}}(),e.PBKDF2})}(pbkdf2)),pbkdf2.exports}var evpkdf={exports:{}},hasRequiredEvpkdf;function requireEvpkdf(){return hasRequiredEvpkdf||(hasRequiredEvpkdf=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireSha1(),requireHmac())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.Base,m=c.WordArray,g=i.algo,Te=g.MD5,Ee=g.EvpKDF=f.extend({cfg:f.extend({keySize:128/32,hasher:Te,iterations:1}),init:function(Oe){this.cfg=this.cfg.extend(Oe)},compute:function(Oe,ne){for(var De,Ie=this.cfg,qe=Ie.hasher.create(),Fe=m.create(),Ne=Fe.words,Ve=Ie.keySize,Ue=Ie.iterations;Ne.length<Ve;){De&&qe.update(De),De=qe.update(Oe).finalize(ne),qe.reset();for(var We=1;We<Ue;We++)De=qe.finalize(De),qe.reset();Fe.concat(De)}return Fe.sigBytes=Ve*4,Fe}});i.EvpKDF=function(Oe,ne,De){return Ee.create(De).compute(Oe,ne)}}(),e.EvpKDF})}(evpkdf)),evpkdf.exports}var cipherCore={exports:{}},hasRequiredCipherCore;function requireCipherCore(){return hasRequiredCipherCore||(hasRequiredCipherCore=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireEvpkdf())})(commonjsGlobal$1,function(e){e.lib.Cipher||function(i){var c=e,f=c.lib,m=f.Base,g=f.WordArray,Te=f.BufferedBlockAlgorithm,Ee=c.enc;Ee.Utf8;var Oe=Ee.Base64,ne=c.algo,De=ne.EvpKDF,Ie=f.Cipher=Te.extend({cfg:m.extend(),createEncryptor:function(rt,pt){return this.create(this._ENC_XFORM_MODE,rt,pt)},createDecryptor:function(rt,pt){return this.create(this._DEC_XFORM_MODE,rt,pt)},init:function(rt,pt,it){this.cfg=this.cfg.extend(it),this._xformMode=rt,this._key=pt,this.reset()},reset:function(){Te.reset.call(this),this._doReset()},process:function(rt){return this._append(rt),this._process()},finalize:function(rt){rt&&this._append(rt);var pt=this._doFinalize();return pt},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function rt(pt){return typeof pt=="string"?gt:ot}return function(pt){return{encrypt:function(it,vt,Ze){return rt(vt).encrypt(pt,it,vt,Ze)},decrypt:function(it,vt,Ze){return rt(vt).decrypt(pt,it,vt,Ze)}}}}()});f.StreamCipher=Ie.extend({_doFinalize:function(){var rt=this._process(!0);return rt},blockSize:1});var qe=c.mode={},Fe=f.BlockCipherMode=m.extend({createEncryptor:function(rt,pt){return this.Encryptor.create(rt,pt)},createDecryptor:function(rt,pt){return this.Decryptor.create(rt,pt)},init:function(rt,pt){this._cipher=rt,this._iv=pt}}),Ne=qe.CBC=function(){var rt=Fe.extend();rt.Encryptor=rt.extend({processBlock:function(it,vt){var Ze=this._cipher,Ft=Ze.blockSize;pt.call(this,it,vt,Ft),Ze.encryptBlock(it,vt),this._prevBlock=it.slice(vt,vt+Ft)}}),rt.Decryptor=rt.extend({processBlock:function(it,vt){var Ze=this._cipher,Ft=Ze.blockSize,Zt=it.slice(vt,vt+Ft);Ze.decryptBlock(it,vt),pt.call(this,it,vt,Ft),this._prevBlock=Zt}});function pt(it,vt,Ze){var Ft,Zt=this._iv;Zt?(Ft=Zt,this._iv=i):Ft=this._prevBlock;for(var jt=0;jt<Ze;jt++)it[vt+jt]^=Ft[jt]}return rt}(),Ve=c.pad={},Ue=Ve.Pkcs7={pad:function(rt,pt){for(var it=pt*4,vt=it-rt.sigBytes%it,Ze=vt<<24|vt<<16|vt<<8|vt,Ft=[],Zt=0;Zt<vt;Zt+=4)Ft.push(Ze);var jt=g.create(Ft,vt);rt.concat(jt)},unpad:function(rt){var pt=rt.words[rt.sigBytes-1>>>2]&255;rt.sigBytes-=pt}};f.BlockCipher=Ie.extend({cfg:Ie.cfg.extend({mode:Ne,padding:Ue}),reset:function(){var rt;Ie.reset.call(this);var pt=this.cfg,it=pt.iv,vt=pt.mode;this._xformMode==this._ENC_XFORM_MODE?rt=vt.createEncryptor:(rt=vt.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==rt?this._mode.init(this,it&&it.words):(this._mode=rt.call(vt,this,it&&it.words),this._mode.__creator=rt)},_doProcessBlock:function(rt,pt){this._mode.processBlock(rt,pt)},_doFinalize:function(){var rt,pt=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(pt.pad(this._data,this.blockSize),rt=this._process(!0)):(rt=this._process(!0),pt.unpad(rt)),rt},blockSize:128/32});var We=f.CipherParams=m.extend({init:function(rt){this.mixIn(rt)},toString:function(rt){return(rt||this.formatter).stringify(this)}}),He=c.format={},Xe=He.OpenSSL={stringify:function(rt){var pt,it=rt.ciphertext,vt=rt.salt;return vt?pt=g.create([1398893684,1701076831]).concat(vt).concat(it):pt=it,pt.toString(Oe)},parse:function(rt){var pt,it=Oe.parse(rt),vt=it.words;return vt[0]==1398893684&&vt[1]==1701076831&&(pt=g.create(vt.slice(2,4)),vt.splice(0,4),it.sigBytes-=16),We.create({ciphertext:it,salt:pt})}},ot=f.SerializableCipher=m.extend({cfg:m.extend({format:Xe}),encrypt:function(rt,pt,it,vt){vt=this.cfg.extend(vt);var Ze=rt.createEncryptor(it,vt),Ft=Ze.finalize(pt),Zt=Ze.cfg;return We.create({ciphertext:Ft,key:it,iv:Zt.iv,algorithm:rt,mode:Zt.mode,padding:Zt.padding,blockSize:rt.blockSize,formatter:vt.format})},decrypt:function(rt,pt,it,vt){vt=this.cfg.extend(vt),pt=this._parse(pt,vt.format);var Ze=rt.createDecryptor(it,vt).finalize(pt.ciphertext);return Ze},_parse:function(rt,pt){return typeof rt=="string"?pt.parse(rt,this):rt}}),tt=c.kdf={},mt=tt.OpenSSL={execute:function(rt,pt,it,vt,Ze){if(vt||(vt=g.random(64/8)),Ze)var Ft=De.create({keySize:pt+it,hasher:Ze}).compute(rt,vt);else var Ft=De.create({keySize:pt+it}).compute(rt,vt);var Zt=g.create(Ft.words.slice(pt),it*4);return Ft.sigBytes=pt*4,We.create({key:Ft,iv:Zt,salt:vt})}},gt=f.PasswordBasedCipher=ot.extend({cfg:ot.cfg.extend({kdf:mt}),encrypt:function(rt,pt,it,vt){vt=this.cfg.extend(vt);var Ze=vt.kdf.execute(it,rt.keySize,rt.ivSize,vt.salt,vt.hasher);vt.iv=Ze.iv;var Ft=ot.encrypt.call(this,rt,pt,Ze.key,vt);return Ft.mixIn(Ze),Ft},decrypt:function(rt,pt,it,vt){vt=this.cfg.extend(vt),pt=this._parse(pt,vt.format);var Ze=vt.kdf.execute(it,rt.keySize,rt.ivSize,pt.salt,vt.hasher);vt.iv=Ze.iv;var Ft=ot.decrypt.call(this,rt,pt,Ze.key,vt);return Ft}})}()})}(cipherCore)),cipherCore.exports}var modeCfb={exports:{}},hasRequiredModeCfb;function requireModeCfb(){return hasRequiredModeCfb||(hasRequiredModeCfb=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return e.mode.CFB=function(){var i=e.lib.BlockCipherMode.extend();i.Encryptor=i.extend({processBlock:function(f,m){var g=this._cipher,Te=g.blockSize;c.call(this,f,m,Te,g),this._prevBlock=f.slice(m,m+Te)}}),i.Decryptor=i.extend({processBlock:function(f,m){var g=this._cipher,Te=g.blockSize,Ee=f.slice(m,m+Te);c.call(this,f,m,Te,g),this._prevBlock=Ee}});function c(f,m,g,Te){var Ee,Oe=this._iv;Oe?(Ee=Oe.slice(0),this._iv=void 0):Ee=this._prevBlock,Te.encryptBlock(Ee,0);for(var ne=0;ne<g;ne++)f[m+ne]^=Ee[ne]}return i}(),e.mode.CFB})}(modeCfb)),modeCfb.exports}var modeCtr={exports:{}},hasRequiredModeCtr;function requireModeCtr(){return hasRequiredModeCtr||(hasRequiredModeCtr=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return e.mode.CTR=function(){var i=e.lib.BlockCipherMode.extend(),c=i.Encryptor=i.extend({processBlock:function(f,m){var g=this._cipher,Te=g.blockSize,Ee=this._iv,Oe=this._counter;Ee&&(Oe=this._counter=Ee.slice(0),this._iv=void 0);var ne=Oe.slice(0);g.encryptBlock(ne,0),Oe[Te-1]=Oe[Te-1]+1|0;for(var De=0;De<Te;De++)f[m+De]^=ne[De]}});return i.Decryptor=c,i}(),e.mode.CTR})}(modeCtr)),modeCtr.exports}var modeCtrGladman={exports:{}},hasRequiredModeCtrGladman;function requireModeCtrGladman(){return hasRequiredModeCtrGladman||(hasRequiredModeCtrGladman=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return e.mode.CTRGladman=function(){var i=e.lib.BlockCipherMode.extend();function c(g){if((g>>24&255)===255){var Te=g>>16&255,Ee=g>>8&255,Oe=g&255;Te===255?(Te=0,Ee===255?(Ee=0,Oe===255?Oe=0:++Oe):++Ee):++Te,g=0,g+=Te<<16,g+=Ee<<8,g+=Oe}else g+=1<<24;return g}function f(g){return(g[0]=c(g[0]))===0&&(g[1]=c(g[1])),g}var m=i.Encryptor=i.extend({processBlock:function(g,Te){var Ee=this._cipher,Oe=Ee.blockSize,ne=this._iv,De=this._counter;ne&&(De=this._counter=ne.slice(0),this._iv=void 0),f(De);var Ie=De.slice(0);Ee.encryptBlock(Ie,0);for(var qe=0;qe<Oe;qe++)g[Te+qe]^=Ie[qe]}});return i.Decryptor=m,i}(),e.mode.CTRGladman})}(modeCtrGladman)),modeCtrGladman.exports}var modeOfb={exports:{}},hasRequiredModeOfb;function requireModeOfb(){return hasRequiredModeOfb||(hasRequiredModeOfb=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return e.mode.OFB=function(){var i=e.lib.BlockCipherMode.extend(),c=i.Encryptor=i.extend({processBlock:function(f,m){var g=this._cipher,Te=g.blockSize,Ee=this._iv,Oe=this._keystream;Ee&&(Oe=this._keystream=Ee.slice(0),this._iv=void 0),g.encryptBlock(Oe,0);for(var ne=0;ne<Te;ne++)f[m+ne]^=Oe[ne]}});return i.Decryptor=c,i}(),e.mode.OFB})}(modeOfb)),modeOfb.exports}var modeEcb={exports:{}},hasRequiredModeEcb;function requireModeEcb(){return hasRequiredModeEcb||(hasRequiredModeEcb=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return e.mode.ECB=function(){var i=e.lib.BlockCipherMode.extend();return i.Encryptor=i.extend({processBlock:function(c,f){this._cipher.encryptBlock(c,f)}}),i.Decryptor=i.extend({processBlock:function(c,f){this._cipher.decryptBlock(c,f)}}),i}(),e.mode.ECB})}(modeEcb)),modeEcb.exports}var padAnsix923={exports:{}},hasRequiredPadAnsix923;function requirePadAnsix923(){return hasRequiredPadAnsix923||(hasRequiredPadAnsix923=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return e.pad.AnsiX923={pad:function(i,c){var f=i.sigBytes,m=c*4,g=m-f%m,Te=f+g-1;i.clamp(),i.words[Te>>>2]|=g<<24-Te%4*8,i.sigBytes+=g},unpad:function(i){var c=i.words[i.sigBytes-1>>>2]&255;i.sigBytes-=c}},e.pad.Ansix923})}(padAnsix923)),padAnsix923.exports}var padIso10126={exports:{}},hasRequiredPadIso10126;function requirePadIso10126(){return hasRequiredPadIso10126||(hasRequiredPadIso10126=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return e.pad.Iso10126={pad:function(i,c){var f=c*4,m=f-i.sigBytes%f;i.concat(e.lib.WordArray.random(m-1)).concat(e.lib.WordArray.create([m<<24],1))},unpad:function(i){var c=i.words[i.sigBytes-1>>>2]&255;i.sigBytes-=c}},e.pad.Iso10126})}(padIso10126)),padIso10126.exports}var padIso97971={exports:{}},hasRequiredPadIso97971;function requirePadIso97971(){return hasRequiredPadIso97971||(hasRequiredPadIso97971=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return e.pad.Iso97971={pad:function(i,c){i.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(i,c)},unpad:function(i){e.pad.ZeroPadding.unpad(i),i.sigBytes--}},e.pad.Iso97971})}(padIso97971)),padIso97971.exports}var padZeropadding={exports:{}},hasRequiredPadZeropadding;function requirePadZeropadding(){return hasRequiredPadZeropadding||(hasRequiredPadZeropadding=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return e.pad.ZeroPadding={pad:function(i,c){var f=c*4;i.clamp(),i.sigBytes+=f-(i.sigBytes%f||f)},unpad:function(i){for(var c=i.words,f=i.sigBytes-1,f=i.sigBytes-1;f>=0;f--)if(c[f>>>2]>>>24-f%4*8&255){i.sigBytes=f+1;break}}},e.pad.ZeroPadding})}(padZeropadding)),padZeropadding.exports}var padNopadding={exports:{}},hasRequiredPadNopadding;function requirePadNopadding(){return hasRequiredPadNopadding||(hasRequiredPadNopadding=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding})}(padNopadding)),padNopadding.exports}var formatHex={exports:{}},hasRequiredFormatHex;function requireFormatHex(){return hasRequiredFormatHex||(hasRequiredFormatHex=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return function(i){var c=e,f=c.lib,m=f.CipherParams,g=c.enc,Te=g.Hex,Ee=c.format;Ee.Hex={stringify:function(Oe){return Oe.ciphertext.toString(Te)},parse:function(Oe){var ne=Te.parse(Oe);return m.create({ciphertext:ne})}}}(),e.format.Hex})}(formatHex)),formatHex.exports}var aes={exports:{}},hasRequiredAes;function requireAes(){return hasRequiredAes||(hasRequiredAes=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.BlockCipher,m=i.algo,g=[],Te=[],Ee=[],Oe=[],ne=[],De=[],Ie=[],qe=[],Fe=[],Ne=[];(function(){for(var We=[],He=0;He<256;He++)He<128?We[He]=He<<1:We[He]=He<<1^283;for(var Xe=0,ot=0,He=0;He<256;He++){var tt=ot^ot<<1^ot<<2^ot<<3^ot<<4;tt=tt>>>8^tt&255^99,g[Xe]=tt,Te[tt]=Xe;var mt=We[Xe],gt=We[mt],rt=We[gt],pt=We[tt]*257^tt*16843008;Ee[Xe]=pt<<24|pt>>>8,Oe[Xe]=pt<<16|pt>>>16,ne[Xe]=pt<<8|pt>>>24,De[Xe]=pt;var pt=rt*16843009^gt*65537^mt*257^Xe*16843008;Ie[tt]=pt<<24|pt>>>8,qe[tt]=pt<<16|pt>>>16,Fe[tt]=pt<<8|pt>>>24,Ne[tt]=pt,Xe?(Xe=mt^We[We[We[rt^mt]]],ot^=We[We[ot]]):Xe=ot=1}})();var Ve=[0,1,2,4,8,16,32,64,128,27,54],Ue=m.AES=f.extend({_doReset:function(){var We;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var He=this._keyPriorReset=this._key,Xe=He.words,ot=He.sigBytes/4,tt=this._nRounds=ot+6,mt=(tt+1)*4,gt=this._keySchedule=[],rt=0;rt<mt;rt++)rt<ot?gt[rt]=Xe[rt]:(We=gt[rt-1],rt%ot?ot>6&&rt%ot==4&&(We=g[We>>>24]<<24|g[We>>>16&255]<<16|g[We>>>8&255]<<8|g[We&255]):(We=We<<8|We>>>24,We=g[We>>>24]<<24|g[We>>>16&255]<<16|g[We>>>8&255]<<8|g[We&255],We^=Ve[rt/ot|0]<<24),gt[rt]=gt[rt-ot]^We);for(var pt=this._invKeySchedule=[],it=0;it<mt;it++){var rt=mt-it;if(it%4)var We=gt[rt];else var We=gt[rt-4];it<4||rt<=4?pt[it]=We:pt[it]=Ie[g[We>>>24]]^qe[g[We>>>16&255]]^Fe[g[We>>>8&255]]^Ne[g[We&255]]}}},encryptBlock:function(We,He){this._doCryptBlock(We,He,this._keySchedule,Ee,Oe,ne,De,g)},decryptBlock:function(We,He){var Xe=We[He+1];We[He+1]=We[He+3],We[He+3]=Xe,this._doCryptBlock(We,He,this._invKeySchedule,Ie,qe,Fe,Ne,Te);var Xe=We[He+1];We[He+1]=We[He+3],We[He+3]=Xe},_doCryptBlock:function(We,He,Xe,ot,tt,mt,gt,rt){for(var pt=this._nRounds,it=We[He]^Xe[0],vt=We[He+1]^Xe[1],Ze=We[He+2]^Xe[2],Ft=We[He+3]^Xe[3],Zt=4,jt=1;jt<pt;jt++){var ur=ot[it>>>24]^tt[vt>>>16&255]^mt[Ze>>>8&255]^gt[Ft&255]^Xe[Zt++],bt=ot[vt>>>24]^tt[Ze>>>16&255]^mt[Ft>>>8&255]^gt[it&255]^Xe[Zt++],St=ot[Ze>>>24]^tt[Ft>>>16&255]^mt[it>>>8&255]^gt[vt&255]^Xe[Zt++],ct=ot[Ft>>>24]^tt[it>>>16&255]^mt[vt>>>8&255]^gt[Ze&255]^Xe[Zt++];it=ur,vt=bt,Ze=St,Ft=ct}var ur=(rt[it>>>24]<<24|rt[vt>>>16&255]<<16|rt[Ze>>>8&255]<<8|rt[Ft&255])^Xe[Zt++],bt=(rt[vt>>>24]<<24|rt[Ze>>>16&255]<<16|rt[Ft>>>8&255]<<8|rt[it&255])^Xe[Zt++],St=(rt[Ze>>>24]<<24|rt[Ft>>>16&255]<<16|rt[it>>>8&255]<<8|rt[vt&255])^Xe[Zt++],ct=(rt[Ft>>>24]<<24|rt[it>>>16&255]<<16|rt[vt>>>8&255]<<8|rt[Ze&255])^Xe[Zt++];We[He]=ur,We[He+1]=bt,We[He+2]=St,We[He+3]=ct},keySize:256/32});i.AES=f._createHelper(Ue)}(),e.AES})}(aes)),aes.exports}var tripledes={exports:{}},hasRequiredTripledes;function requireTripledes(){return hasRequiredTripledes||(hasRequiredTripledes=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.WordArray,m=c.BlockCipher,g=i.algo,Te=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],Ee=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],Oe=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],ne=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],De=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],Ie=g.DES=m.extend({_doReset:function(){for(var Ve=this._key,Ue=Ve.words,We=[],He=0;He<56;He++){var Xe=Te[He]-1;We[He]=Ue[Xe>>>5]>>>31-Xe%32&1}for(var ot=this._subKeys=[],tt=0;tt<16;tt++){for(var mt=ot[tt]=[],gt=Oe[tt],He=0;He<24;He++)mt[He/6|0]|=We[(Ee[He]-1+gt)%28]<<31-He%6,mt[4+(He/6|0)]|=We[28+(Ee[He+24]-1+gt)%28]<<31-He%6;mt[0]=mt[0]<<1|mt[0]>>>31;for(var He=1;He<7;He++)mt[He]=mt[He]>>>(He-1)*4+3;mt[7]=mt[7]<<5|mt[7]>>>27}for(var rt=this._invSubKeys=[],He=0;He<16;He++)rt[He]=ot[15-He]},encryptBlock:function(Ve,Ue){this._doCryptBlock(Ve,Ue,this._subKeys)},decryptBlock:function(Ve,Ue){this._doCryptBlock(Ve,Ue,this._invSubKeys)},_doCryptBlock:function(Ve,Ue,We){this._lBlock=Ve[Ue],this._rBlock=Ve[Ue+1],qe.call(this,4,252645135),qe.call(this,16,65535),Fe.call(this,2,858993459),Fe.call(this,8,16711935),qe.call(this,1,1431655765);for(var He=0;He<16;He++){for(var Xe=We[He],ot=this._lBlock,tt=this._rBlock,mt=0,gt=0;gt<8;gt++)mt|=ne[gt][((tt^Xe[gt])&De[gt])>>>0];this._lBlock=tt,this._rBlock=ot^mt}var rt=this._lBlock;this._lBlock=this._rBlock,this._rBlock=rt,qe.call(this,1,1431655765),Fe.call(this,8,16711935),Fe.call(this,2,858993459),qe.call(this,16,65535),qe.call(this,4,252645135),Ve[Ue]=this._lBlock,Ve[Ue+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function qe(Ve,Ue){var We=(this._lBlock>>>Ve^this._rBlock)&Ue;this._rBlock^=We,this._lBlock^=We<<Ve}function Fe(Ve,Ue){var We=(this._rBlock>>>Ve^this._lBlock)&Ue;this._lBlock^=We,this._rBlock^=We<<Ve}i.DES=m._createHelper(Ie);var Ne=g.TripleDES=m.extend({_doReset:function(){var Ve=this._key,Ue=Ve.words;if(Ue.length!==2&&Ue.length!==4&&Ue.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var We=Ue.slice(0,2),He=Ue.length<4?Ue.slice(0,2):Ue.slice(2,4),Xe=Ue.length<6?Ue.slice(0,2):Ue.slice(4,6);this._des1=Ie.createEncryptor(f.create(We)),this._des2=Ie.createEncryptor(f.create(He)),this._des3=Ie.createEncryptor(f.create(Xe))},encryptBlock:function(Ve,Ue){this._des1.encryptBlock(Ve,Ue),this._des2.decryptBlock(Ve,Ue),this._des3.encryptBlock(Ve,Ue)},decryptBlock:function(Ve,Ue){this._des3.decryptBlock(Ve,Ue),this._des2.encryptBlock(Ve,Ue),this._des1.decryptBlock(Ve,Ue)},keySize:192/32,ivSize:64/32,blockSize:64/32});i.TripleDES=m._createHelper(Ne)}(),e.TripleDES})}(tripledes)),tripledes.exports}var rc4={exports:{}},hasRequiredRc4;function requireRc4(){return hasRequiredRc4||(hasRequiredRc4=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.StreamCipher,m=i.algo,g=m.RC4=f.extend({_doReset:function(){for(var Oe=this._key,ne=Oe.words,De=Oe.sigBytes,Ie=this._S=[],qe=0;qe<256;qe++)Ie[qe]=qe;for(var qe=0,Fe=0;qe<256;qe++){var Ne=qe%De,Ve=ne[Ne>>>2]>>>24-Ne%4*8&255;Fe=(Fe+Ie[qe]+Ve)%256;var Ue=Ie[qe];Ie[qe]=Ie[Fe],Ie[Fe]=Ue}this._i=this._j=0},_doProcessBlock:function(Oe,ne){Oe[ne]^=Te.call(this)},keySize:256/32,ivSize:0});function Te(){for(var Oe=this._S,ne=this._i,De=this._j,Ie=0,qe=0;qe<4;qe++){ne=(ne+1)%256,De=(De+Oe[ne])%256;var Fe=Oe[ne];Oe[ne]=Oe[De],Oe[De]=Fe,Ie|=Oe[(Oe[ne]+Oe[De])%256]<<24-qe*8}return this._i=ne,this._j=De,Ie}i.RC4=f._createHelper(g);var Ee=m.RC4Drop=g.extend({cfg:g.cfg.extend({drop:192}),_doReset:function(){g._doReset.call(this);for(var Oe=this.cfg.drop;Oe>0;Oe--)Te.call(this)}});i.RC4Drop=f._createHelper(Ee)}(),e.RC4})}(rc4)),rc4.exports}var rabbit={exports:{}},hasRequiredRabbit;function requireRabbit(){return hasRequiredRabbit||(hasRequiredRabbit=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.StreamCipher,m=i.algo,g=[],Te=[],Ee=[],Oe=m.Rabbit=f.extend({_doReset:function(){for(var De=this._key.words,Ie=this.cfg.iv,qe=0;qe<4;qe++)De[qe]=(De[qe]<<8|De[qe]>>>24)&16711935|(De[qe]<<24|De[qe]>>>8)&4278255360;var Fe=this._X=[De[0],De[3]<<16|De[2]>>>16,De[1],De[0]<<16|De[3]>>>16,De[2],De[1]<<16|De[0]>>>16,De[3],De[2]<<16|De[1]>>>16],Ne=this._C=[De[2]<<16|De[2]>>>16,De[0]&4294901760|De[1]&65535,De[3]<<16|De[3]>>>16,De[1]&4294901760|De[2]&65535,De[0]<<16|De[0]>>>16,De[2]&4294901760|De[3]&65535,De[1]<<16|De[1]>>>16,De[3]&4294901760|De[0]&65535];this._b=0;for(var qe=0;qe<4;qe++)ne.call(this);for(var qe=0;qe<8;qe++)Ne[qe]^=Fe[qe+4&7];if(Ie){var Ve=Ie.words,Ue=Ve[0],We=Ve[1],He=(Ue<<8|Ue>>>24)&16711935|(Ue<<24|Ue>>>8)&4278255360,Xe=(We<<8|We>>>24)&16711935|(We<<24|We>>>8)&4278255360,ot=He>>>16|Xe&4294901760,tt=Xe<<16|He&65535;Ne[0]^=He,Ne[1]^=ot,Ne[2]^=Xe,Ne[3]^=tt,Ne[4]^=He,Ne[5]^=ot,Ne[6]^=Xe,Ne[7]^=tt;for(var qe=0;qe<4;qe++)ne.call(this)}},_doProcessBlock:function(De,Ie){var qe=this._X;ne.call(this),g[0]=qe[0]^qe[5]>>>16^qe[3]<<16,g[1]=qe[2]^qe[7]>>>16^qe[5]<<16,g[2]=qe[4]^qe[1]>>>16^qe[7]<<16,g[3]=qe[6]^qe[3]>>>16^qe[1]<<16;for(var Fe=0;Fe<4;Fe++)g[Fe]=(g[Fe]<<8|g[Fe]>>>24)&16711935|(g[Fe]<<24|g[Fe]>>>8)&4278255360,De[Ie+Fe]^=g[Fe]},blockSize:128/32,ivSize:64/32});function ne(){for(var De=this._X,Ie=this._C,qe=0;qe<8;qe++)Te[qe]=Ie[qe];Ie[0]=Ie[0]+1295307597+this._b|0,Ie[1]=Ie[1]+3545052371+(Ie[0]>>>0<Te[0]>>>0?1:0)|0,Ie[2]=Ie[2]+886263092+(Ie[1]>>>0<Te[1]>>>0?1:0)|0,Ie[3]=Ie[3]+1295307597+(Ie[2]>>>0<Te[2]>>>0?1:0)|0,Ie[4]=Ie[4]+3545052371+(Ie[3]>>>0<Te[3]>>>0?1:0)|0,Ie[5]=Ie[5]+886263092+(Ie[4]>>>0<Te[4]>>>0?1:0)|0,Ie[6]=Ie[6]+1295307597+(Ie[5]>>>0<Te[5]>>>0?1:0)|0,Ie[7]=Ie[7]+3545052371+(Ie[6]>>>0<Te[6]>>>0?1:0)|0,this._b=Ie[7]>>>0<Te[7]>>>0?1:0;for(var qe=0;qe<8;qe++){var Fe=De[qe]+Ie[qe],Ne=Fe&65535,Ve=Fe>>>16,Ue=((Ne*Ne>>>17)+Ne*Ve>>>15)+Ve*Ve,We=((Fe&4294901760)*Fe|0)+((Fe&65535)*Fe|0);Ee[qe]=Ue^We}De[0]=Ee[0]+(Ee[7]<<16|Ee[7]>>>16)+(Ee[6]<<16|Ee[6]>>>16)|0,De[1]=Ee[1]+(Ee[0]<<8|Ee[0]>>>24)+Ee[7]|0,De[2]=Ee[2]+(Ee[1]<<16|Ee[1]>>>16)+(Ee[0]<<16|Ee[0]>>>16)|0,De[3]=Ee[3]+(Ee[2]<<8|Ee[2]>>>24)+Ee[1]|0,De[4]=Ee[4]+(Ee[3]<<16|Ee[3]>>>16)+(Ee[2]<<16|Ee[2]>>>16)|0,De[5]=Ee[5]+(Ee[4]<<8|Ee[4]>>>24)+Ee[3]|0,De[6]=Ee[6]+(Ee[5]<<16|Ee[5]>>>16)+(Ee[4]<<16|Ee[4]>>>16)|0,De[7]=Ee[7]+(Ee[6]<<8|Ee[6]>>>24)+Ee[5]|0}i.Rabbit=f._createHelper(Oe)}(),e.Rabbit})}(rabbit)),rabbit.exports}var rabbitLegacy={exports:{}},hasRequiredRabbitLegacy;function requireRabbitLegacy(){return hasRequiredRabbitLegacy||(hasRequiredRabbitLegacy=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.StreamCipher,m=i.algo,g=[],Te=[],Ee=[],Oe=m.RabbitLegacy=f.extend({_doReset:function(){var De=this._key.words,Ie=this.cfg.iv,qe=this._X=[De[0],De[3]<<16|De[2]>>>16,De[1],De[0]<<16|De[3]>>>16,De[2],De[1]<<16|De[0]>>>16,De[3],De[2]<<16|De[1]>>>16],Fe=this._C=[De[2]<<16|De[2]>>>16,De[0]&4294901760|De[1]&65535,De[3]<<16|De[3]>>>16,De[1]&4294901760|De[2]&65535,De[0]<<16|De[0]>>>16,De[2]&4294901760|De[3]&65535,De[1]<<16|De[1]>>>16,De[3]&4294901760|De[0]&65535];this._b=0;for(var Ne=0;Ne<4;Ne++)ne.call(this);for(var Ne=0;Ne<8;Ne++)Fe[Ne]^=qe[Ne+4&7];if(Ie){var Ve=Ie.words,Ue=Ve[0],We=Ve[1],He=(Ue<<8|Ue>>>24)&16711935|(Ue<<24|Ue>>>8)&4278255360,Xe=(We<<8|We>>>24)&16711935|(We<<24|We>>>8)&4278255360,ot=He>>>16|Xe&4294901760,tt=Xe<<16|He&65535;Fe[0]^=He,Fe[1]^=ot,Fe[2]^=Xe,Fe[3]^=tt,Fe[4]^=He,Fe[5]^=ot,Fe[6]^=Xe,Fe[7]^=tt;for(var Ne=0;Ne<4;Ne++)ne.call(this)}},_doProcessBlock:function(De,Ie){var qe=this._X;ne.call(this),g[0]=qe[0]^qe[5]>>>16^qe[3]<<16,g[1]=qe[2]^qe[7]>>>16^qe[5]<<16,g[2]=qe[4]^qe[1]>>>16^qe[7]<<16,g[3]=qe[6]^qe[3]>>>16^qe[1]<<16;for(var Fe=0;Fe<4;Fe++)g[Fe]=(g[Fe]<<8|g[Fe]>>>24)&16711935|(g[Fe]<<24|g[Fe]>>>8)&4278255360,De[Ie+Fe]^=g[Fe]},blockSize:128/32,ivSize:64/32});function ne(){for(var De=this._X,Ie=this._C,qe=0;qe<8;qe++)Te[qe]=Ie[qe];Ie[0]=Ie[0]+1295307597+this._b|0,Ie[1]=Ie[1]+3545052371+(Ie[0]>>>0<Te[0]>>>0?1:0)|0,Ie[2]=Ie[2]+886263092+(Ie[1]>>>0<Te[1]>>>0?1:0)|0,Ie[3]=Ie[3]+1295307597+(Ie[2]>>>0<Te[2]>>>0?1:0)|0,Ie[4]=Ie[4]+3545052371+(Ie[3]>>>0<Te[3]>>>0?1:0)|0,Ie[5]=Ie[5]+886263092+(Ie[4]>>>0<Te[4]>>>0?1:0)|0,Ie[6]=Ie[6]+1295307597+(Ie[5]>>>0<Te[5]>>>0?1:0)|0,Ie[7]=Ie[7]+3545052371+(Ie[6]>>>0<Te[6]>>>0?1:0)|0,this._b=Ie[7]>>>0<Te[7]>>>0?1:0;for(var qe=0;qe<8;qe++){var Fe=De[qe]+Ie[qe],Ne=Fe&65535,Ve=Fe>>>16,Ue=((Ne*Ne>>>17)+Ne*Ve>>>15)+Ve*Ve,We=((Fe&4294901760)*Fe|0)+((Fe&65535)*Fe|0);Ee[qe]=Ue^We}De[0]=Ee[0]+(Ee[7]<<16|Ee[7]>>>16)+(Ee[6]<<16|Ee[6]>>>16)|0,De[1]=Ee[1]+(Ee[0]<<8|Ee[0]>>>24)+Ee[7]|0,De[2]=Ee[2]+(Ee[1]<<16|Ee[1]>>>16)+(Ee[0]<<16|Ee[0]>>>16)|0,De[3]=Ee[3]+(Ee[2]<<8|Ee[2]>>>24)+Ee[1]|0,De[4]=Ee[4]+(Ee[3]<<16|Ee[3]>>>16)+(Ee[2]<<16|Ee[2]>>>16)|0,De[5]=Ee[5]+(Ee[4]<<8|Ee[4]>>>24)+Ee[3]|0,De[6]=Ee[6]+(Ee[5]<<16|Ee[5]>>>16)+(Ee[4]<<16|Ee[4]>>>16)|0,De[7]=Ee[7]+(Ee[6]<<8|Ee[6]>>>24)+Ee[5]|0}i.RabbitLegacy=f._createHelper(Oe)}(),e.RabbitLegacy})}(rabbitLegacy)),rabbitLegacy.exports}var blowfish={exports:{}},hasRequiredBlowfish;function requireBlowfish(){return hasRequiredBlowfish||(hasRequiredBlowfish=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.BlockCipher,m=i.algo;const g=16,Te=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],Ee=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var Oe={pbox:[],sbox:[]};function ne(Ne,Ve){let Ue=Ve>>24&255,We=Ve>>16&255,He=Ve>>8&255,Xe=Ve&255,ot=Ne.sbox[0][Ue]+Ne.sbox[1][We];return ot=ot^Ne.sbox[2][He],ot=ot+Ne.sbox[3][Xe],ot}function De(Ne,Ve,Ue){let We=Ve,He=Ue,Xe;for(let ot=0;ot<g;++ot)We=We^Ne.pbox[ot],He=ne(Ne,We)^He,Xe=We,We=He,He=Xe;return Xe=We,We=He,He=Xe,He=He^Ne.pbox[g],We=We^Ne.pbox[g+1],{left:We,right:He}}function Ie(Ne,Ve,Ue){let We=Ve,He=Ue,Xe;for(let ot=g+1;ot>1;--ot)We=We^Ne.pbox[ot],He=ne(Ne,We)^He,Xe=We,We=He,He=Xe;return Xe=We,We=He,He=Xe,He=He^Ne.pbox[1],We=We^Ne.pbox[0],{left:We,right:He}}function qe(Ne,Ve,Ue){for(let tt=0;tt<4;tt++){Ne.sbox[tt]=[];for(let mt=0;mt<256;mt++)Ne.sbox[tt][mt]=Ee[tt][mt]}let We=0;for(let tt=0;tt<g+2;tt++)Ne.pbox[tt]=Te[tt]^Ve[We],We++,We>=Ue&&(We=0);let He=0,Xe=0,ot=0;for(let tt=0;tt<g+2;tt+=2)ot=De(Ne,He,Xe),He=ot.left,Xe=ot.right,Ne.pbox[tt]=He,Ne.pbox[tt+1]=Xe;for(let tt=0;tt<4;tt++)for(let mt=0;mt<256;mt+=2)ot=De(Ne,He,Xe),He=ot.left,Xe=ot.right,Ne.sbox[tt][mt]=He,Ne.sbox[tt][mt+1]=Xe;return!0}var Fe=m.Blowfish=f.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var Ne=this._keyPriorReset=this._key,Ve=Ne.words,Ue=Ne.sigBytes/4;qe(Oe,Ve,Ue)}},encryptBlock:function(Ne,Ve){var Ue=De(Oe,Ne[Ve],Ne[Ve+1]);Ne[Ve]=Ue.left,Ne[Ve+1]=Ue.right},decryptBlock:function(Ne,Ve){var Ue=Ie(Oe,Ne[Ve],Ne[Ve+1]);Ne[Ve]=Ue.left,Ne[Ve+1]=Ue.right},blockSize:64/32,keySize:128/32,ivSize:64/32});i.Blowfish=f._createHelper(Fe)}(),e.Blowfish})}(blowfish)),blowfish.exports}(function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireX64Core(),requireLibTypedarrays(),requireEncUtf16(),requireEncBase64(),requireEncBase64url(),requireMd5(),requireSha1(),requireSha256(),requireSha224(),requireSha512(),requireSha384(),requireSha3(),requireRipemd160(),requireHmac(),requirePbkdf2(),requireEvpkdf(),requireCipherCore(),requireModeCfb(),requireModeCtr(),requireModeCtrGladman(),requireModeOfb(),requireModeEcb(),requirePadAnsix923(),requirePadIso10126(),requirePadIso97971(),requirePadZeropadding(),requirePadNopadding(),requireFormatHex(),requireAes(),requireTripledes(),requireRc4(),requireRabbit(),requireRabbitLegacy(),requireBlowfish())})(commonjsGlobal$1,function(e){return e})})(cryptoJs);var cryptoJsExports=cryptoJs.exports;const _0x7de40b=getDefaultExportFromCjs$1(cryptoJsExports);function _0x30ab(){const h=["touchend","isDragging","setVisible","init","clientY","messages","length","72ObZeAI","rgba(0, 0, 0, 0.8)","color","sort","clearMessage","clientX","14px","clearMessages","left","329528hKuPRB","getValue","textContent","82122PZJUbQ","Helvetica, Arial, sans-serif","margin","fixed","DEBUG","keys","5px","style","maxWidth","295290PnoXHG","mousemove","638130YDwksT","startY","string","5px 0","offsetTop","debug-panel","mouseup","createElement","10px","backgroundColor","2592Odwcuu","cursor","borderRadius","1437912GdKLun","348gfhMOr","99999999","display","none","isVisible","fontSize","toggleVisibility","fontFamily","initialX","Debug mode enabled. You can drag this panel freely. Type SET DEBUG 0 to disable.","right","startX","86LRJPyr","addEventListener","2724PTYyqX","mousedown","grab","padding","renderMessages","debugPanel","white","appendChild","55GgpMUj","body","touches","updateMessage","offsetLeft","initialY","top","forEach","height","block"];return _0x30ab=function(){return h},_0x30ab()}const _0x2244b0=_0x5709;(function(h,o){const e=_0x5709,i=h();for(;[];)try{if(-parseInt(e(268))/1*(parseInt(e(208))/2)+parseInt(e(210))/3*(-parseInt(e(196))/4)+-parseInt(e(256))/5+-parseInt(e(247))/6+-parseInt(e(195))/7+-parseInt(e(244))/8*(-parseInt(e(235))/9)+-parseInt(e(258))/10*(-parseInt(e(218))/11)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x30ab,179980);function _0x5709(h,o){const e=_0x30ab();return _0x5709=function(i,c){return i=i-194,e[i]},_0x5709(h,o)}var Hf,Wf,Kf,K0,ll;const mr=class mr{static[(Hf=_0x2244b0(215),Wf=_0x2244b0(200),Kf=_0x2244b0(233),_0x2244b0(231))](){var e;const o=_0x2244b0;!mr[o(215)]&&(mr[o(215)]=document[o(265)]("div"),mr[o(215)].id=o(263),mr[o(215)].style[o(198)]=o(199),mr[o(215)][o(254)].position=o(250),mr[o(215)][o(254)][o(267)]=o(236),mr[o(215)][o(254)][o(237)]=o(216),mr[o(215)][o(254)][o(213)]=o(266),mr[o(215)].style[o(194)]=o(253),mr[o(215)][o(254)].zIndex=o(197),mr[o(215)].style[o(255)]="300px",mr.debugPanel[o(254)][o(203)]=o(248),mr[o(215)][o(254)][o(201)]=o(241),mr[o(215)].style[o(226)]="auto",mr.debugPanel.style[o(206)]=o(266),mr.debugPanel[o(254)][o(224)]="10px",mr[o(215)][o(254)][o(269)]=o(212),document[o(219)].appendChild(mr[o(215)]),sr(e=mr,K0,ll).call(e))}static[_0x2244b0(202)](){const o=_0x2244b0;mr[o(200)]=!mr[o(200)],mr.debugPanel[o(254)].display=mr[o(200)]?"block":o(199)}static[_0x2244b0(230)](o){const e=_0x2244b0;Object[e(252)](mr[e(233)]).length===0&&mr.setMessage(e(205)),mr.isVisible=o,mr[e(215)][e(254)][e(198)]=e(o?227:199)}static[_0x2244b0(221)](o,e){const i=_0x2244b0;typeof e===i(260)?mr[i(233)][o]=e:mr.messages[o]=String(e),mr[i(214)]()}static[_0x2244b0(239)](o){const e=_0x2244b0;delete mr[e(233)][o],mr.renderMessages()}static[_0x2244b0(242)](){const o=_0x2244b0;mr[o(233)]={},mr[o(214)]()}static setMessage(o){const e=_0x2244b0;mr.messages={},mr[e(215)].innerHTML="";const i=document.createElement("p");i[e(246)]=o,i[e(254)][e(249)]=e(261),mr[e(215)].appendChild(i),mr[e(215)][e(254)][e(198)]=e(227),mr[e(200)]=!![]}static[_0x2244b0(214)](){const o=_0x2244b0,e=Object[o(252)](mr[o(233)])[o(238)]();mr[o(215)].innerHTML="",e[o(225)](i=>{const c=o,f=document[c(265)]("p");f[c(246)]=mr[c(233)][i],f[c(254)][c(249)]=c(261),mr[c(215)][c(217)](f)}),e[o(234)]>0?(mr[o(215)][o(254)][o(198)]=o(227),mr[o(200)]=!![]):(mr.debugPanel[o(254)].display=o(199),mr.isVisible=![])}static isEnabled(){const o=_0x2244b0;return StorageManager[o(245)](o(251))=="1"}};K0=new WeakSet,ll=function(){const o=_0x2244b0;mr[o(215)].addEventListener("touchstart",e=>{const i=o;mr.isDragging=!![],mr.startX=e[i(220)][0][i(240)],mr[i(259)]=e[i(220)][0][i(232)],mr[i(204)]=mr[i(215)][i(222)],mr[i(223)]=mr[i(215)][i(262)]}),mr[o(215)][o(209)]("touchmove",e=>{const i=o;if(mr[i(229)]){let c=e[i(220)][0][i(240)]-mr[i(207)],f=e[i(220)][0][i(232)]-mr[i(259)];mr[i(215)][i(254)][i(243)]=mr[i(204)]+c+"px",mr[i(215)].style[i(224)]=mr.initialY+f+"px"}}),mr[o(215)][o(209)](o(228),()=>{const e=o;mr[e(229)]=![]}),mr.debugPanel[o(209)](o(211),e=>{const i=o;mr[i(229)]=!![],mr[i(207)]=e.clientX,mr[i(259)]=e.clientY,mr.initialX=mr[i(215)][i(222)],mr[i(223)]=mr[i(215)][i(262)]}),document[o(209)](o(257),e=>{const i=o;if(mr[i(229)]){let c=e.clientX-mr[i(207)],f=e.clientY-mr[i(259)];mr[i(215)][i(254)][i(243)]=mr[i(204)]+c+"px",mr[i(215)][i(254)].top=mr[i(223)]+f+"px"}}),document.addEventListener(o(264),()=>{const e=o;mr[e(229)]=![]})},Nt(mr,K0),cn(mr,Hf,null),cn(mr,Wf,![]),cn(mr,"isDragging",![]),cn(mr,Kf,{});let Debug=mr;Debug[_0x2244b0(231)]();function _0x4652(h,o){const e=_0x291f();return _0x4652=function(i,c){return i=i-472,e[i]},_0x4652(h,o)}const _0x3da5a4=_0x4652;function _0x291f(){const h=["displayNextToast","body","5080990dUlXgy","4zjucTI","getElementById","showManualToast","shift",' <span class="close-label"><strong>CLOSE</strong></span>',"createContainer","show",".close-label","click","1965sQJreD","remove","classList","2565zpiNSh","hide","queue","createElement","div","toast-message",".custom-button","add","enqueueToast","1501199FxDKdb","activeToasts","showToast","toast-container","1432380CEFwvA","25431govnSx","369381iYVssR","hideToast","length","</strong></span>","querySelector","addEventListener","push","container","transitionend","72uGDHXq","440KDXmaW","enqueueCustomToast"];return _0x291f=function(){return h},_0x291f()}(function(h,o){const e=_0x4652,i=h();for(;[];)try{if(-parseInt(e(489))/1+-parseInt(e(505))/2*(-parseInt(e(490))/3)+-parseInt(e(500))/4*(parseInt(e(472))/5)+parseInt(e(488))/6+parseInt(e(484))/7+-parseInt(e(499))/8*(-parseInt(e(475))/9)+-parseInt(e(504))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x291f,125246);var Gf,Yf;const Fa=class Fa{static[(Gf=_0x3da5a4(497),Yf=_0x3da5a4(477),_0x3da5a4(510))](){const o=_0x3da5a4,e=document.createElement(o(479));return e.id=o(487),document[o(503)].appendChild(e),e}static[_0x3da5a4(486)](o){this[_0x3da5a4(483)](o,![],null,null,1e3)}static[_0x3da5a4(507)](o){this.enqueueToast(o,!![])}static[_0x3da5a4(501)](o,e,i,c=5e3){this[_0x3da5a4(483)](o,![],e,i,c)}static enqueueToast(o,e,i=null,c=null,f=1e3){const m=_0x3da5a4;this.queue[m(496)]({message:o,isManualClose:e,buttonLabel:i,callback:c,autoCloseTime:f}),this[m(502)]()}static[_0x3da5a4(502)](){const o=_0x3da5a4;if(this[o(477)][o(492)]===0||this[o(485)]>=this.maxVisible)return;const{message:e,isManualClose:i,buttonLabel:c,callback:f,autoCloseTime:m}=this[o(477)][o(508)](),g=document[o(478)](o(479));g[o(474)].add(o(480)),c&&f?(g.innerHTML=e+' <span class="custom-button"><strong>'+c+o(493),g[o(494)](o(481))[o(495)](o(513),()=>{const Te=o;f(),this[Te(491)](g,!![])})):i?(g.innerHTML=e+o(509),g[o(494)](o(512)).addEventListener(o(513),()=>this[o(491)](g,!![]))):g.textContent=e,this.container.appendChild(g),this[o(485)]++,requestAnimationFrame(()=>{const Te=o;g.classList[Te(482)](Te(511))}),!i&&setTimeout(()=>this[o(491)](g),m)}static[_0x3da5a4(491)](o,e=![]){const i=_0x3da5a4;o[i(474)][i(473)](i(511)),o[i(474)].add(i(476)),o[i(495)](i(498),()=>{const c=i;o[c(473)](),this[c(485)]--,!e&&this[c(502)]()})}};cn(Fa,Gf,document[_0x3da5a4(506)](_0x3da5a4(487))||Fa.createContainer()),cn(Fa,Yf,[]),cn(Fa,"activeToasts",0),cn(Fa,"maxVisible",3);let ToastManager=Fa;const _0x13a6f3=_0x516f;(function(h,o){const e=_0x516f,i=h();for(;[];)try{if(parseInt(e(406))/1+-parseInt(e(386))/2*(parseInt(e(429))/3)+-parseInt(e(441))/4*(-parseInt(e(442))/5)+-parseInt(e(424))/6*(-parseInt(e(351))/7)+parseInt(e(396))/8+-parseInt(e(390))/9+-parseInt(e(462))/10*(parseInt(e(391))/11)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x43eb,473502);function _0x43eb(){const h=["getContext","transaction","key, data","dependencies","base64ToBlob","279263FMrBZb","setItem","createObjectURL","Save state or program data is missing.","save_data","filename","Failed to save collection:","updateMessage","screenshot","atari2600","toBlob","platform_id","where","storeCollection","++id, save_data","save_data_id","storeState","toCollection","11268mgDXPu","deleteAllCollections","checkFiles","map","image","312402fgYaWa","data","++id, platform_id, program_name, save_data_id, rom_data_id, timestamp","description","load","delete","orderBy","now","target","split","title","onerror","1816bnfZAk","5930aymSYs","modify","height","blob","++id, collection_unique_name, collection_title, collection_image","width","collectionItemData","onload","first","saveData","toString","files","getAllSaveMeta","enqueueToast","push","getCollectionItems","revokeObjectURL","VME","put","credits","390nVHfvT","readAsArrayBuffer","Save state not found.","WordArray","getSaveData","add","table","create","++id, collection_id, platform_id, title, credits, description, image, rom_name, rom_data_id, rom_url, launched","version","length","romData","2709pvRaEg","Failed to save state:","canvas","State saved.","lib","storeValue","result","stores","reverse","SHA256","equals","isEnabled","collection_image","key","collection_id","charCodeAt","Failed to delete entries with id ","drawImage","storeFile","type","saveMeta","name","createElement","toArray","deleteSave","++id, rom_data, hash","Storing file","amiga","getFile","collection_name","deleteFile",".software","blobToBase64","getRomData","VME_INTERNAL.","4eoOuUx","rom_data_id","base64","count","4374324rxJGsa","204347OhVYyz","program_name","rom_data","file","error","2782528RLDioY","image/png","readAsDataURL","collectionMeta","get"];return _0x43eb=function(){return h},_0x43eb()}function _0x516f(h,o){const e=_0x43eb();return _0x516f=function(i,c){return i=i-346,e[i]},_0x516f(h,o)}var Mr,ko,G0,Ps,mu,Y0,fl;const ia=class ia{constructor(){Nt(this,Ps);Nt(this,Y0);Nt(this,Mr,void 0);const o=_0x13a6f3;nr(this,Mr,new Dexie(Ke(ia,G0))),Ke(this,Mr)[o(348)](2).stores({files:"key, data",saveMeta:o(431),saveData:"++id, save_data",romData:o(376)}),Ke(this,Mr)[o(348)](3)[o(358)]({files:o(403),saveMeta:o(431),saveData:o(420),romData:"++id, rom_data, hash, data_type",collectionMeta:o(446),collectionItemData:o(347)}).upgrade(e=>{const i=o;return e[i(468)]("romData")[i(423)]()[i(443)](c=>{const f=i;c.data_type=f(388)})})}static[_0x13a6f3(356)](o,e){const i=_0x13a6f3;localStorage[i(407)](Ke(ia,ko)+o,e)}static clearValue(o){localStorage.removeItem(Ke(ia,ko)+o)}static getValue(o,e){let i=localStorage.getItem(Ke(ia,ko)+o);return i??e}async[_0x13a6f3(369)](o,e){const i=_0x13a6f3;Debug[i(362)]()&&Debug[i(413)](i(433),i(377)),await Ke(this,Mr)[i(453)][i(460)]({key:o,data:e})}async[_0x13a6f3(379)](o){const e=_0x13a6f3,i=await Ke(this,Mr)[e(453)][e(418)]({key:o})[e(450)]();return i?i[e(430)]:null}async[_0x13a6f3(381)](o){const e=_0x13a6f3;Debug[e(413)](e(433),"Deleting file"),await Ke(this,Mr)[e(453)].where({key:o})[e(434)]()}async[_0x13a6f3(426)](o){return new Promise(async e=>{const i=_0x516f;let c={},f=[];if(o[i(404)]){const Te=o[i(404)][i(427)](Ee=>({...Ee,key:o[i(417)]+"."+Ee[i(364)]}));for(const Ee of Te){const Oe=await this[i(379)](Ee[i(364)]);Oe?c[Ee[i(364)]]=Oe:f[i(456)](Ee[i(370)])}}const m=o[i(417)]+i(382),g=await this.getFile(m)||null;e([c,f,g])})}async[_0x13a6f3(419)](o,e,i,c){const f=_0x13a6f3;await this[f(425)]();const m=[];for(const g of c){const Te=await sr(this,Ps,mu).call(this,g[f(394)]),Ee=await this[f(383)](g.image),Oe=await Ke(this,Mr).romData[f(418)]({hash:Te})[f(450)]();m[f(456)]({item:g,hash:Te,existing:Oe,itemImageB64:Ee})}try{return await Ke(this,Mr)[f(402)]("rw",Ke(this,Mr)[f(399)],Ke(this,Mr)[f(448)],Ke(this,Mr)[f(350)],async()=>{const g=f,Te=await Ke(this,Mr)[g(399)][g(467)]({collection_unique_name:o,collection_title:e,collection_image:i});for(const{item:Ee,hash:Oe,existing:ne,itemImageB64:De}of m){let Ie;ne?Ie=ne.id:Ie=await Ke(this,Mr)[g(350)][g(467)]({rom_data:Ee[g(394)],hash:Oe,data_type:g(445)}),await Ke(this,Mr)[g(448)][g(467)]({collection_id:Te,platform_id:Ee[g(417)],title:Ee[g(439)],credits:Ee[g(461)],description:Ee[g(432)],image:De,rom_name:Ee[g(411)],rom_data_id:Ie,launched:![]})}}),!![]}catch(g){return console[f(395)](f(412),g),![]}}async[_0x13a6f3(457)](){const o=_0x13a6f3;return(await Ke(this,Mr)[o(448)].toArray())[o(427)](i=>{const c=o;return i[c(414)]&&(i[c(365)]=i.id,i[c(372)]=i[c(380)],i.image=this[c(405)](i.collection_image)),i})}async getCollections(){const o=_0x13a6f3;return(await Ke(this,Mr)[o(399)][o(374)]())[o(427)](i=>{const c=o;return i[c(414)]&&(i[c(365)]=i.id,i[c(372)]=i[c(380)],i[c(428)]=this.base64ToBlob(i[c(363)])),i})}async[_0x13a6f3(422)](o,e,i,c,f){const m=_0x13a6f3,g=await sr(this,Ps,mu).call(this,e),Te=await sr(this,Y0,fl).call(this,c,i),Ee=await this[m(383)](Te),Oe=e,ne=await this.blobToBase64(o);try{await Ke(this,Mr)[m(402)]("rw",Ke(this,Mr)[m(371)],Ke(this,Mr)[m(451)],Ke(this,Mr)[m(350)],async()=>{const De=m,Ie=await Ke(this,Mr)[De(350)][De(418)]({hash:g}).first();let qe;Ie==null?qe=await Ke(this,Mr)[De(350)][De(467)]({rom_data:Oe,hash:g,data_type:De(445)}):qe=Ie.id;let Fe=await Ke(this,Mr)[De(451)][De(467)]({save_data:ne});await Ke(this,Mr)[De(371)][De(467)]({platform_id:c,program_name:f,screenshot:Ee,rom_data_id:qe,save_data_id:Fe,timestamp:Date[De(436)]()}),ToastManager[De(455)](De(354))})}catch(De){console.error(m(352),De)}}async blobToBase64(o){return new Promise((e,i)=>{const c=_0x516f,f=new FileReader;f.onloadend=()=>e(f.result),f[c(440)]=i,f[c(398)](o)})}base64ToBlob(o){const e=_0x13a6f3,i=atob(o[e(438)](",")[1]),c=o[e(438)](",")[0].split(":")[1][e(438)](";")[0],f=new ArrayBuffer(i[e(349)]),m=new Uint8Array(f);for(let g=0;g<i[e(349)];g++)m[g]=i[e(366)](g);return new Blob([f],{type:c})}async[_0x13a6f3(454)](){const o=_0x13a6f3;return(await Ke(this,Mr)[o(371)][o(435)]("timestamp")[o(359)]()[o(374)]()).map(i=>{const c=o;return i[c(414)]&&(i.screenshot=this.base64ToBlob(i[c(414)])),i})}async[_0x13a6f3(384)](o){const e=_0x13a6f3,i=await Ke(this,Mr)[e(350)][e(400)](o);return i.data_type==e(388)&&(i[e(393)]=this[e(405)](i[e(393)])),i}async[_0x13a6f3(466)](o){const e=_0x13a6f3,i=await Ke(this,Mr)[e(371)][e(400)](o);if(!i)throw new Error(e(464));const c=await Ke(this,Mr)[e(451)][e(400)](i.save_data_id),f=await Ke(this,Mr)[e(350)][e(400)](i[e(387)]);let m;if(f.data_type=="base64"?m=this.base64ToBlob(f[e(393)]):m=f.rom_data,!c||!f)throw new Error(e(409));const g=this[e(405)](c[e(410)]);return{platform_id:i[e(417)],program_name:i[e(392)],save_data:g,rom_data:m,timestamp:i.timestamp}}async[_0x13a6f3(375)](o){const e=_0x13a6f3;try{await Ke(this,Mr)[e(402)]("rw",Ke(this,Mr)[e(371)],Ke(this,Mr)[e(451)],Ke(this,Mr).collectionItemData,Ke(this,Mr).romData,async()=>{const i=e,c=await Ke(this,Mr)[i(371)].get(o);if(c){await Ke(this,Mr)[i(451)][i(418)]("id").equals(c[i(421)])[i(434)](),await Ke(this,Mr)[i(371)][i(434)](o);let f=await Ke(this,Mr)[i(371)].where(i(387))[i(361)](c[i(387)]).count();await Ke(this,Mr)[i(448)][i(418)]("rom_data_id")[i(361)](c[i(387)])[i(389)]()+f==0&&await Ke(this,Mr)[i(350)][i(418)]("id")[i(361)](c[i(387)])[i(434)]()}})}catch(i){console.error(e(367)+o+":",i)}}async[_0x13a6f3(425)](){const o=_0x13a6f3;try{await Ke(this,Mr)[o(402)]("rw",Ke(this,Mr)[o(399)],Ke(this,Mr).collectionItemData,Ke(this,Mr)[o(371)],Ke(this,Mr).romData,async()=>{const e=o,i=await Ke(this,Mr)[e(399)][e(374)]();for(let c of i){const f=c.id,m=await Ke(this,Mr)[e(448)][e(418)](e(365)).equals(f)[e(374)]();if(m.length>0){await Ke(this,Mr)[e(448)][e(418)]("collection_id")[e(361)](f)[e(434)](),await Ke(this,Mr)[e(399)][e(434)](f);for(let g of m){const Te=g[e(387)];let Ee=await Ke(this,Mr).saveMeta.where(e(387))[e(361)](Te)[e(389)]();await Ke(this,Mr)[e(448)].where(e(387))[e(361)](Te)[e(389)]()+Ee==0&&await Ke(this,Mr)[e(350)].where("id").equals(Te)[e(434)]()}}}})}catch(e){console[o(395)]("Failed to delete collections:",e)}}};Mr=new WeakMap,ko=new WeakMap,G0=new WeakMap,Ps=new WeakSet,mu=async function(o){return new Promise((e,i)=>{const c=_0x516f,f=new FileReader;f.onload=function(m){const g=_0x516f,Te=m[g(437)][g(357)],Ee=_0x7de40b[g(355)][g(465)][g(346)](Te),Oe=_0x7de40b[g(360)](Ee)[g(452)]();e(Oe)},f[c(440)]=function(m){i(m)},f[c(463)](o)})},Y0=new WeakSet,fl=function(o,e){const i=_0x13a6f3;return o!=i(415)&&o!=i(378)?e:new Promise((c,f)=>{const m=i,g=new Image,Te=URL[m(408)](e);g[m(449)]=()=>{const Ee=m,Oe=g[Ee(447)],ne=g[Ee(444)],De=Oe/ne,Ie=document[Ee(373)](Ee(353)),qe=Ie[Ee(401)]("2d");o==Ee(415)&&De<.8?(Ie[Ee(447)]=Oe*2,Ie[Ee(444)]=ne,qe[Ee(368)](g,0,0,Ie[Ee(447)],Ie[Ee(444)])):o==Ee(378)&&De>2?(Ie[Ee(447)]=Oe/2,Ie[Ee(444)]=ne,qe[Ee(368)](g,0,0,Ie[Ee(447)],Ie[Ee(444)])):(Ie[Ee(447)]=Oe,Ie[Ee(444)]=ne,qe.drawImage(g,0,0)),Ie[Ee(416)](Fe=>{URL[Ee(458)](Te),c(Fe)},Ee(397))},g[m(440)]=Ee=>{URL.revokeObjectURL(Te),f(Ee)},g.src=Te})},Nt(ia,ko,_0x13a6f3(385)),Nt(ia,G0,_0x13a6f3(459));let StorageManager=ia;const _0x232816=_0x1235;(function(h,o){const e=_0x1235,i=h();for(;[];)try{if(parseInt(e(374))/1+parseInt(e(357))/2*(-parseInt(e(358))/3)+-parseInt(e(349))/4+-parseInt(e(355))/5+parseInt(e(362))/6+parseInt(e(345))/7*(-parseInt(e(375))/8)+parseInt(e(339))/9*(parseInt(e(376))/10)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x3e03,703593);function _0x1235(h,o){const e=_0x3e03();return _0x1235=function(i,c){return i=i-336,e[i]},_0x1235(h,o)}function _0x3e03(){const h=["uninstall","get_keywords","is_selection_enabled","exit_selection","260480eMvFuM","56NLHhSE","34700lUJjtv","update","selection_changed","forEach","8847sDerQl","createElement","LINES","label","install","append","766738HxHDeN","span","appendChild","process_selection","4707320xorytZ","tag","cli","add","data-value","show_results","371210oQiVnN","process_input","346RlgKoZ","17751sOkkYV","singleline","is_enter_required","corsrow","441324kGQiYt","innerHTML","click","length","set_cli","classList","data","get_help"];return _0x3e03=function(){return h},_0x3e03()}var Q0,dl;const Ru=class Ru{constructor(){Nt(this,Q0);if(new.target===Ru)throw new Error}[_0x232816(371)](){throw new Error}[_0x232816(369)](){throw new Error}[_0x232816(356)](o,e){throw new Error}[_0x232816(343)](){}[_0x232816(370)](){}[_0x232816(372)](){return![]}[_0x232816(360)](){return![]}[_0x232816(373)](){return![]}[_0x232816(348)](o){return![]}[_0x232816(366)](o){this.cli=o}[_0x232816(354)](o,e){o!=[]&&sr(this,Q0,dl).call(this,o,e)}[_0x232816(337)](o){}};Q0=new WeakSet,dl=function(o,e){const i=_0x232816,c=s("#cors_results");c[i(363)]="",o[i(338)](f=>{const m=i,g=document[m(340)]("p");g.setAttribute(m(353),f[m(368)]),g[m(367)].add(m(361));const Te=document[m(340)]("span");if(StorageManager.getValue(m(341))!="single"||Te.classList[m(352)](m(359)),f[m(350)]){const Ee=document[m(340)](m(346));Ee[m(367)][m(352)](m(350)),Ee[m(363)]="["+f[m(350)]+"] ",Te[m(347)](Ee)}Te[m(344)](f[m(342)]),g[m(344)](Te),g.addEventListener(m(364),Ee=>{this[m(348)](f)}),c.append(g)}),o[i(365)]>0&&e&&(this[i(351)].set_selection_mode(!![]),this.cli[i(336)]())};let CommandBase=Ru;const _0x316e69=_0x417b;function _0x27ed(){const h=["add","borderColor","span","remove","DEBUG","3380CCLKCb","removeEventListener","location","<p style='margin-left: 3ch;'>","get_keywords","7231176xilsof","offsetHeight","innerHTML","message_clear","#guru","blinking","children","70679pLxinO","is_loading","appendChild","toLowerCase","is_command_selectable","div","#cors_query_prefix","includes","off","is_enter_required","open","Press any key to continue.","none","progress_line","&nbsp;","bind","highlight","preventDefault","top","dispatchEvent","set_default_handler","push","toUpperCase","color","split","24BJIYbD","directMode","soft_msg","filter","print","backspace","altKey","2764312kdiVfX","<p style='margin-left: 1ch;'>","Invalid command","#progress_line","click","parse_input","trim","#guruWrapper0","selection_changed","CLI commands:","1460718OMSmeO","get_help","is_selection_enabled","guru","reload","escape","getElementById","20WQkOrM","block","Enter","inline","inject","auto","space","getValue","default_command_name","keydown","register_default","append","contains","left","</p>","key","corsrow","print_help","scrollTop","display","getBoundingClientRect","ArrowDown","bottom","slice","update","#F4AD46","createElement","forEach","selected_command","scrollIntoView","#guruMessage2","textContent","redraw","clear","start","enter","5611580KRnmQd","70635TwKKlq","right","style","#cors_results","set_loading","process_input","set_selection_mode","length","commands","5844xfEJLm","classList","Backspace","querySelector","set_article_mode","cors_query","addEventListener"];return _0x27ed=function(){return h},_0x27ed()}(function(h,o){const e=_0x417b,i=h();for(;[];)try{if(parseInt(e(389))/1*(-parseInt(e(438))/2)+parseInt(e(475))/3+-parseInt(e(484))/4*(-parseInt(e(377))/5)+parseInt(e(414))/6*(parseInt(e(431))/7)+-parseInt(e(421))/8+-parseInt(e(382))/9+parseInt(e(474))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x27ed,551242);function _0x417b(h,o){const e=_0x27ed();return _0x417b=function(i,c){return i=i-369,e[i]},_0x417b(h,o)}var Oo,To,Do,nn,Yn,ci,Bi,Bs,gu,qs,yu,J0,xl,X0,hl,Z0,pl,Ns,bu,$0,_l,ec,vl,tc,ml;const oi=class oi{constructor(){Nt(this,Bs);Nt(this,qs);Nt(this,J0);Nt(this,X0);Nt(this,Z0);Nt(this,Ns);Nt(this,$0);Nt(this,ec);Nt(this,tc);Nt(this,Oo,void 0);Nt(this,To,void 0);Nt(this,Do,void 0);Nt(this,nn,void 0);Nt(this,Yn,[]);Nt(this,Bi,void 0);const o=_0x316e69;nr(this,nn,-1),nr(this,Bi,![]),this.cursorShowing=![],this[o(415)]=![],this[o(483)]=[],this.default_command_name=null,this[o(393)]=![],this[o(398)]=![],nr(this,Oo,sr(this,J0,xl)[o(404)](this)),this[o(479)](![])}set_selection_mode(o){const e=_0x316e69;o?sr(this,qs,yu).call(this):(sr(this,Bs,gu).call(this),this[e(466)]&&this[e(466)][e(429)]())}[_0x316e69(390)](){return Ke(this,To)}[_0x316e69(479)](o){nr(this,To,o),o?sr(this,qs,yu).call(this):sr(this,Bs,gu).call(this)}[_0x316e69(369)](o){nr(this,Bi,o)}on(){const o=_0x316e69;document[o(371)](o(447),Ke(this,Oo))}[_0x316e69(397)](){const o=_0x316e69;document.removeEventListener(o(447),Ke(this,Oo))}[_0x316e69(462)](){const o=_0x316e69;if(this.is_command_selectable){const e=s(o(478));let i=[...e[o(388)]];if(i=i[o(417)](c=>c[o(485)][o(450)](o(454))),i[o(482)]==0)return;i.forEach(c=>c[o(487)](o(374)).classList[o(375)](o(405))),Ke(this,nn)>=0&&(sr(this,X0,hl).call(this,i[Ke(this,nn)][o(487)]("span")),this.selected_command.selection_changed(i[Ke(this,nn)])),Ke(this,nn)!=-1&&!sr(this,ec,vl).call(this,i[Ke(this,nn)][o(487)](o(374)),e)&&i[Ke(this,nn)][o(467)]({behavior:o(443),block:o(472),inline:o(472)})}}[_0x316e69(480)](o){const e=_0x316e69;let i=![];if(o[e(482)]===1)Ke(this,nn)==-1&&(Ke(oi,ci).textContent+=o);else if(o===e(486)||o===e(419))Ke(this,nn)==-1&&(Ke(oi,ci)[e(469)]=Ke(oi,ci).textContent[e(461)](0,-1));else if(o===" "||o===e(444))Ke(this,nn)==-1&&(Ke(oi,ci)[e(469)]+=" ");else if(o===e(471))Ke(this,nn)==-1&&(Ke(oi,ci)[e(469)]=""),Ke(this,Do)instanceof Function&&Ke(this,Do).call(this);else if(o==e(436))nr(this,Bi,![]),Ke(this,nn)>=0?(nr(this,nn,-1),this.set_selection_mode(![])):Ke(this,nn)==-1&&(this[e(480)]("clear"),this[e(481)](![]));else if(o==e(473)){if(Ke(this,Bi))return;i=!![];let c=s(e(478)).children;if(this.is_enter_required&&Ke(this,nn)==-1)i=!![];else if(this[e(393)]&&Ke(this,nn)==-1)c.length>0&&z0(this,nn)._++,this[e(481)](!![]);else if(Ke(this,nn)>=0){sr(this,tc,ml).call(this,c[Ke(this,nn)]),this[e(466)][e(429)]();return}}this[e(426)](Ke(oi,ci)[e(469)],i)}register_command(o){const e=_0x316e69;if(o instanceof CommandBase)this[e(483)][e(410)](o),o.set_cli(this);else throw new Error(e(423))}[_0x316e69(448)](o){const e=_0x316e69;this[e(446)]=o}parse_hidden_input(){const o=_0x316e69;let e=Ke(oi,ci)[o(469)];this.parse_input(Ke(oi,ci)[o(469)],e==o(399))}[_0x316e69(442)](o,e){const i=_0x316e69;this[i(390)]()||(Ke(oi,ci)[i(469)]=o,this[i(426)](o,e))}[_0x316e69(426)](o,e){const i=_0x316e69;o=o[i(427)]()[i(392)]();const c=o[i(413)](/\s+/),[f,...m]=c;sr(this,Ns,bu).call(this),sr(this,Z0,pl).call(this);let g=null,Te=null;for(let Ee of this.commands)if(Ee[i(381)]()[i(396)](f)){g=Ee,Te=m;break}if(g==null&&this[i(446)]&&o[i(482)]>3){for(let Ee of this[i(483)])if(Ee.get_keywords()[i(396)](this[i(446)])){g=Ee,Te=c,sr(this,$0,_l).call(this,this[i(446)]);break}}g!=null?(this[i(393)]=g[i(433)](),this[i(466)]=g,g[i(480)](Te,e)):this.selected_command=null}[_0x316e69(455)](){const o=_0x316e69;this[o(471)](),Ke(this,Yn)[o(410)](o(430)),this[o(483)][o(465)](i=>{const c=o;Ke(this,Yn)[c(410)](c(403)),Ke(this,Yn).push(c(422)+i[c(432)]()[0][c(411)]()+c(452)),Ke(this,Yn)[c(410)](c(380)+i[c(432)]()[1]+c(452))});var e=s(o(478));e.innerHTML="",Ke(this,Yn)[o(465)](i=>{const c=o;var f=document[c(464)](c(394)),m=document[c(464)]("p");m.innerHTML=i,f[c(391)](m),e.append(f)})}redraw(){const o=_0x316e69;var e=s(o(478));e[o(384)]="",Ke(this,Yn)[o(465)](i=>{const c=o;var f=document.createElement(c(394)),m=document[c(464)]("p");m[c(384)]=i,f[c(391)](m),e[c(449)](f)})}[_0x316e69(471)](){const o=_0x316e69;nr(this,Yn,[]);var e=s(o(478));e[o(384)]=""}reset(){const o=_0x316e69;nr(this,nn,-1),nr(this,Bi,![]),Ke(oi,ci)[o(469)]="",sr(this,Ns,bu).call(this),this[o(481)](![]),this[o(479)](![]),this.clear()}[_0x316e69(385)](...o){this[_0x316e69(471)](),this.message(o)}message(...o){const e=_0x316e69;o[e(465)](i=>Ke(this,Yn)[e(410)](i)),Ke(this,Yn)[e(410)]("&nbsp;"),Ke(this,Yn)[e(410)](e(400)),this[e(470)](),document[e(371)](e(425),function(){setTimeout(function(){location[_0x417b(435)]()},120)}),document[e(371)](e(447),function(){setTimeout(function(){location[_0x417b(435)]()},120)})}print_progress(o){const e=_0x316e69;let i=s(e(424));if(i==null){const c=s("#cors_results"),f=document[e(464)](e(394));i=document[e(464)]("p"),i.id=e(402),f[e(391)](i),c[e(449)](f)}i[e(384)]=o}[_0x316e69(418)](o){const e=_0x316e69;Ke(this,Yn)[e(410)](o),this[e(470)]()}[_0x316e69(416)](o){const e=_0x316e69;this[e(471)](),Ke(this,Yn)[e(410)](o),this[e(470)]()}[_0x316e69(434)](o,e=![]){const i=_0x316e69;if(StorageManager[i(445)](i(376))!="1")return;function c(){const f=i;e?(hide(f(428)),s(f(428))[f(378)](f(425),this),document[f(378)](f(425),c,!![])):window[f(379)][f(435)](![])}if(s("#guruWrapper0").addEventListener(i(425),c,!![]),e)s(i(468)).innerHTML=o,s(i(386))[i(477)][i(412)]="#F4AD46",s(i(386))[i(477)][i(373)]=i(463),show(i(428),i(439));else throw s("#guruMessage2")[i(384)]=o,show(i(428),i(439)),new Error("Guru Meditation: "+o)}[_0x316e69(409)](o){nr(this,Do,o)}};Oo=new WeakMap,To=new WeakMap,Do=new WeakMap,nn=new WeakMap,Yn=new WeakMap,ci=new WeakMap,Bi=new WeakMap,Bs=new WeakSet,gu=function(){const o=_0x316e69;s("#cursor")[o(485)][o(372)](o(387))},qs=new WeakSet,yu=function(){const o=_0x316e69;s("#cursor")[o(485)][o(375)](o(387))},J0=new WeakSet,xl=function(o){const e=_0x316e69;if(o[e(406)](),!Ke(this,To)){if(o[e(453)][e(482)]===1&&!o.ctrlKey&&!o.metaKey&&!o[e(420)])this[e(480)](o[e(453)]);else if(o[e(453)]==="Backspace")this.process_input("backspace");else if(o[e(453)]==e(440))this[e(480)](e(473));else if(o[e(453)]==="Escape")this[e(480)](e(436));else if(o[e(453)]===e(459)){if(Ke(this,Bi)){let i=s(e(478));i.scrollTop+=i[e(383)]}else if(Ke(this,nn)!=-1){let i=s("#cors_results").children;Ke(this,nn)<i.length-1?z0(this,nn)._++:Ke(this,nn)==i.length-1&&nr(this,nn,0)}else if(!this[e(393)]){let i=s(e(478));i[e(456)]+=i.offsetHeight}}else if(o[e(453)]==="ArrowUp"){if(Ke(this,Bi)){let i=s("#cors_results");i[e(456)]-=i[e(383)]}else if(Ke(this,nn)!=-1){let i=s(e(478))[e(388)];Ke(this,nn)>0?z0(this,nn)._--:Ke(this,nn)==0&&nr(this,nn,i[e(482)]-1)}else if(!this[e(393)]){let i=s(e(478));i[e(456)]-=i[e(383)]}}this[e(462)]()}},X0=new WeakSet,hl=function(o){const e=_0x316e69;o[e(485)][e(375)](e(405)),o.offsetWidth,o[e(485)][e(372)](e(405))},Z0=new WeakSet,pl=function(){this[_0x316e69(471)]()},Ns=new WeakSet,bu=function(){const o=_0x316e69;s(o(395))[o(477)].display=o(401),s("#cors_query_prefix").innerHTML=""},$0=new WeakSet,_l=function(o){const e=_0x316e69;s(e(395))[e(477)][e(457)]=e(441),s(e(395))[e(384)]=o+" "},ec=new WeakSet,vl=function(o,e){const i=_0x316e69,c=o[i(458)](),f=e[i(458)]();return c[i(407)]>=f.top&&c[i(451)]>=f[i(451)]&&c.bottom<=f[i(460)]&&c[i(476)]<=f.right},tc=new WeakSet,ml=function(o){const e=_0x316e69;if(o!=null){var i=new MouseEvent(e(425),{bubbles:!![],cancelable:!![],view:window});o[e(408)](i)}},Nt(oi,ci,document[_0x316e69(437)](_0x316e69(370)));let CLI=oi;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function __values$1(h){var o=typeof Symbol=="function"&&Symbol.iterator,e=o&&h[o],i=0;if(e)return e.call(h);if(h&&typeof h.length=="number")return{next:function(){return h&&i>=h.length&&(h=void 0),{value:h&&h[i++],done:!h}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read$1(h,o){var e=typeof Symbol=="function"&&h[Symbol.iterator];if(!e)return h;var i=e.call(h),c,f=[],m;try{for(;(o===void 0||o-- >0)&&!(c=i.next()).done;)f.push(c.value)}catch(g){m={error:g}}finally{try{c&&!c.done&&(e=i.return)&&e.call(i)}finally{if(m)throw m.error}}return f}function __spread$1(){for(var h=[],o=0;o<arguments.length;o++)h=h.concat(__read$1(arguments[o]));return h}var isUndefined=function(h){return typeof h>"u"},ComponentEvent=function(){function h(e,i){var c,f;if(this._canceled=!1,i)try{for(var m=__values$1(Object.keys(i)),g=m.next();!g.done;g=m.next()){var Te=g.value;this[Te]=i[Te]}}catch(Ee){c={error:Ee}}finally{try{g&&!g.done&&(f=m.return)&&f.call(m)}finally{if(c)throw c.error}}this.eventType=e}var o=h.prototype;return o.stop=function(){this._canceled=!0},o.isCanceled=function(){return this._canceled},h}(),Component=function(){function h(){this._eventHandler={}}var o=h.prototype;return o.trigger=function(e){for(var i=[],c=1;c<arguments.length;c++)i[c-1]=arguments[c];var f=e instanceof ComponentEvent?e.eventType:e,m=__spread$1(this._eventHandler[f]||[]);return m.length<=0?this:(e instanceof ComponentEvent?(e.currentTarget=this,m.forEach(function(g){g(e)})):m.forEach(function(g){g.apply(void 0,__spread$1(i))}),this)},o.once=function(e,i){var c=this;if(typeof e=="object"&&isUndefined(i)){var f=e;for(var m in f)this.once(m,f[m]);return this}else if(typeof e=="string"&&typeof i=="function"){var g=function(){for(var Te=[],Ee=0;Ee<arguments.length;Ee++)Te[Ee]=arguments[Ee];i.apply(void 0,__spread$1(Te)),c.off(e,g)};this.on(e,g)}return this},o.hasOn=function(e){return!!this._eventHandler[e]},o.on=function(e,i){if(typeof e=="object"&&isUndefined(i)){var c=e;for(var f in c)this.on(f,c[f]);return this}else if(typeof e=="string"&&typeof i=="function"){var m=this._eventHandler[e];isUndefined(m)&&(this._eventHandler[e]=[],m=this._eventHandler[e]),m.push(i)}return this},o.off=function(e,i){if(isUndefined(e))return this._eventHandler={},this;if(isUndefined(i)){if(typeof e=="string")return delete this._eventHandler[e],this;var c=e;for(var f in c)this.off(f,c[f]);return this}var m=this._eventHandler[e];if(m){for(var g=m.length,Te=0;Te<g;++Te)if(m[Te]===i){m.splice(Te,1),g<=1&&delete this._eventHandler[e];break}}return this},h.VERSION="3.0.5",h}(),ComponentEvent$1=ComponentEvent;function some(h,o){for(var e=h.length,i=0;i<e;++i)if(o(h[i],i))return!0;return!1}function find$1(h,o){for(var e=h.length,i=0;i<e;++i)if(o(h[i],i))return h[i];return null}function getUserAgentString(h){var o=h;if(typeof o>"u"){if(typeof navigator>"u"||!navigator)return"";o=navigator.userAgent||""}return o.toLowerCase()}function execRegExp(h,o){try{return new RegExp(h,"g").exec(o)}catch{return null}}function hasUserAgentData(){if(typeof navigator>"u"||!navigator||!navigator.userAgentData)return!1;var h=navigator.userAgentData,o=h.brands||h.uaList;return!!(o&&o.length)}function findVersion(h,o){var e=execRegExp("("+h+")((?:\\/|\\s|:)([0-9|\\.|_]+))",o);return e?e[3]:""}function convertVersion(h){return h.replace(/_/g,".")}function findPreset(h,o){var e=null,i="-1";return some(h,function(c){var f=execRegExp("("+c.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",o);return!f||c.brand?!1:(e=c,i=f[3]||"-1",c.versionAlias?i=c.versionAlias:c.versionTest&&(i=findVersion(c.versionTest.toLowerCase(),o)||i),i=convertVersion(i),!0)}),{preset:e,version:i}}function findPresetBrand(h,o){var e={brand:"",version:"-1"};return some(h,function(i){var c=findBrand(o,i);return c?(e.brand=i.id,e.version=i.versionAlias||c.version,e.version!=="-1"):!1}),e}function findBrand(h,o){return find$1(h,function(e){var i=e.brand;return execRegExp(""+o.test,i.toLowerCase())})}var BROWSER_PRESETS=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],CHROMIUM_PRESETS=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],WEBKIT_PRESETS=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],WEBVIEW_PRESETS=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],OS_PRESETS=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function isWebView(h){return!!findPreset(WEBVIEW_PRESETS,h).preset}function getLegacyAgent(h){var o=getUserAgentString(h),e=!!/mobi/g.exec(o),i={name:"unknown",version:"-1",majorVersion:-1,webview:isWebView(o),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},c={name:"unknown",version:"-1",majorVersion:-1},f=findPreset(BROWSER_PRESETS,o),m=f.preset,g=f.version,Te=findPreset(OS_PRESETS,o),Ee=Te.preset,Oe=Te.version,ne=findPreset(CHROMIUM_PRESETS,o);if(i.chromium=!!ne.preset,i.chromiumVersion=ne.version,!i.chromium){var De=findPreset(WEBKIT_PRESETS,o);i.webkit=!!De.preset,i.webkitVersion=De.version}return Ee&&(c.name=Ee.id,c.version=Oe,c.majorVersion=parseInt(Oe,10)),m&&(i.name=m.id,i.version=g,i.webview&&c.name==="ios"&&i.name!=="safari"&&(i.webview=!1)),i.majorVersion=parseInt(i.version,10),{browser:i,os:c,isMobile:e,isHints:!1}}function getClientHintsAgent(h){var o=navigator.userAgentData,e=(o.uaList||o.brands).slice(),i=h&&h.fullVersionList,c=o.mobile||!1,f=e[0],m=(h&&h.platform||o.platform||navigator.platform).toLowerCase(),g={name:f.brand,version:f.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!findPresetBrand(WEBVIEW_PRESETS,e).brand||isWebView(getUserAgentString())},Te={name:"unknown",version:"-1",majorVersion:-1};g.webkit=!g.chromium&&some(WEBKIT_PRESETS,function(qe){return findBrand(e,qe)});var Ee=findPresetBrand(CHROMIUM_PRESETS,e);if(g.chromium=!!Ee.brand,g.chromiumVersion=Ee.version||"-1",!g.chromium){var Oe=findPresetBrand(WEBKIT_PRESETS,e);g.webkit=!!Oe.brand,g.webkitVersion=Oe.version||"-1"}var ne=find$1(OS_PRESETS,function(qe){return new RegExp(""+qe.test,"g").exec(m)});if(Te.name=ne?ne.id:"",h&&(Te.version=h.platformVersion||"-1"),i&&i.length){var De=findPresetBrand(BROWSER_PRESETS,i);g.name=De.brand||g.name,g.version=De.version||g.version}else{var Ie=findPresetBrand(BROWSER_PRESETS,e);g.name=Ie.brand||g.name,g.version=Ie.brand&&h?h.uaFullVersion:Ie.version}return g.webkit&&(Te.name=c?"ios":"mac"),Te.name==="ios"&&g.webview&&(g.version="-1"),Te.version=convertVersion(Te.version),g.version=convertVersion(g.version),Te.majorVersion=parseInt(Te.version,10),g.majorVersion=parseInt(g.version,10),{browser:g,os:Te,isMobile:c,isHints:!0}}function agent(h){return typeof h>"u"&&hasUserAgentData()?getClientHintsAgent():getLegacyAgent(h)}function keys(h){return Object.keys(h)}var OBSERVERS_PATH="__observers__",COMPUTED_PATH="__computed__",CFCS_DETECTED_DEPENDENCIES_VERSION=1,CFCS_DETECTED_DEPENDENCIES="__CFCS_DETECTED_DEPENDENCIES__",extendStatics$3=function(h,o){return extendStatics$3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])},extendStatics$3(h,o)};function __extends$3(h,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");extendStatics$3(h,o);function e(){this.constructor=h}h.prototype=o===null?Object.create(o):(e.prototype=o.prototype,new e)}function getDetectedStack(){Object[CFCS_DETECTED_DEPENDENCIES]=Object[CFCS_DETECTED_DEPENDENCIES]||{};var h=Object[CFCS_DETECTED_DEPENDENCIES];return h[CFCS_DETECTED_DEPENDENCIES_VERSION]=h[CFCS_DETECTED_DEPENDENCIES_VERSION]||[],h[CFCS_DETECTED_DEPENDENCIES_VERSION]}function getCurrentDetected(){var h=getDetectedStack();return h[h.length-1]}function detectDependencies(h){var o=getDetectedStack(),e=[],i={host:h,observers:e,push:function(c){h!==c&&e.indexOf(c)===-1&&e.push(c)}};return o.push(i),i}function endDetectDependencies(){var h=getDetectedStack();return h.pop()}var Observer=function(){function h(e){this._emitter=new Component,this._current=e}var o=h.prototype;return Object.defineProperty(o,"current",{get:function(){var e=getCurrentDetected();return e==null||e.push(this),this._current},set:function(e){this._setCurrent(e)},enumerable:!1,configurable:!0}),o.subscribe=function(e){return this.current,this._emitter.on("update",e),this},o.unsubscribe=function(e){return this._emitter.off("update",e),this},o._setCurrent=function(e){var i=this._current,c=e!==i;this._current=e,c&&this._emitter.trigger("update",e,i)},o.toString=function(){return"".concat(this.current)},o.valueOf=function(){return this.current},h}(),ComputedObserver=function(h){__extends$3(o,h);function o(i){var c=h.call(this)||this;return c._computedCallback=i,c._registered=[],c._onCheckUpdate=function(){c._setCurrent(c.current)},c._current=c.current,c}var e=o.prototype;return Object.defineProperty(e,"current",{get:function(){var i=this;detectDependencies(this);var c=this._computedCallback(),f=endDetectDependencies();return this._registered.forEach(function(m){m.unsubscribe(i._onCheckUpdate)}),f.observers.forEach(function(m){m.subscribe(i._onCheckUpdate)}),this._registered=f.observers,c},enumerable:!1,configurable:!0}),o}(Observer);function injectObserve(h,o,e){e===void 0&&(e=o);var i={configurable:!0,get:function(){return getObserver(this,e).current},set:function(c){getObserver(this,e,c).current=c}};Object.defineProperty(h,o,i),e!==o&&Object.defineProperty(h,e,{configurable:!0,get:function(){return getObserver(this,e).current}})}function Observe(){for(var h=[],o=0;o<arguments.length;o++)h[o]=arguments[o];return h.length>1?injectObserve(h[0],h[1]):function(e,i){return injectObserve(e,i,h[0])}}function injectReactiveSubscribe(h){h.subscribe=function(o,e){this[o],getObserver(this,o).subscribe(e)},h.unsubscribe=function(o,e){var i=this;if(!o){keys(getObservers(this)).forEach(function(c){i.unsubscribe(c)});return}o in this&&getObserver(this,o).unsubscribe(e)}}function ReactiveSubscribe(h){var o=h.prototype;injectReactiveSubscribe(o)}function observe(h){return new Observer(h)}function computed(h){return new ComputedObserver(h)}function defineObservers(h){var o={};return Object.defineProperty(h,OBSERVERS_PATH,{get:function(){return o}}),o}function getObservers(h,o){var e,i;h[OBSERVERS_PATH]||defineObservers(h);var c=h[OBSERVERS_PATH];if(!o){var f=(i=(e=h==null?void 0:h.constructor)===null||e===void 0?void 0:e.prototype)===null||i===void 0?void 0:i[COMPUTED_PATH];f&&f.forEach(function(m){!(m in c)&&m in h&&h[m]})}return c}function getObserver(h,o,e){var i=getObservers(h);return i[o]||(i[o]=observe(e)),i[o]}function Computed(h,o,e){var i=e.get;function c(){var g=getObservers(this,!0);return o in g||(g[o]=computed(i.bind(this))),getObserver(this,o).current}var f={configurable:!0,get:c};h[COMPUTED_PATH]||(h[COMPUTED_PATH]=[]);var m=h[COMPUTED_PATH];return m.indexOf(o)===-1&&m.push(o),Object.defineProperty(h,o,f),f}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$2=function(h,o){return extendStatics$2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var c in i)i.hasOwnProperty(c)&&(e[c]=i[c])},extendStatics$2(h,o)};function __extends$2(h,o){extendStatics$2(h,o);function e(){this.constructor=h}h.prototype=o===null?Object.create(o):(e.prototype=o.prototype,new e)}var __assign$2=function(){return __assign$2=Object.assign||function(o){for(var e,i=1,c=arguments.length;i<c;i++){e=arguments[i];for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(o[f]=e[f])}return o},__assign$2.apply(this,arguments)};function __decorate(h,o,e,i){var c=arguments.length,f=c<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(h,o,e,i);else for(var g=h.length-1;g>=0;g--)(m=h[g])&&(f=(c<3?m(f):c>3?m(o,e,f):m(o,e))||f);return c>3&&f&&Object.defineProperty(o,e,f),f}var win;typeof window>"u"?win={navigator:{userAgent:""}}:win=window;var DIRECTION_NONE=1,DIRECTION_LEFT=2,DIRECTION_RIGHT=4,DIRECTION_HORIZONTAL=6,DIRECTION_UP=8,DIRECTION_DOWN=16,DIRECTION_VERTICAL=24,DIRECTION_ALL=30,MOUSE_LEFT="left",MOUSE_RIGHT="right",MOUSE_MIDDLE="middle",MOUSE_BUTTON_CODE_MAP={1:MOUSE_LEFT,2:MOUSE_MIDDLE,3:MOUSE_RIGHT},ANY="any",NONE="none",SHIFT="shift",CTRL="ctrl",ALT="alt",META="meta",VELOCITY_INTERVAL=16,IOS_EDGE_THRESHOLD=30,IS_IOS_SAFARI="ontouchstart"in win&&agent().browser.name==="safari",TRANSFORM=function(){if(typeof document>"u")return"";for(var h=(document.head||document.getElementsByTagName("head")[0]).style,o=["transform","webkitTransform","msTransform","mozTransform"],e=0,i=o.length;e<i;e++)if(o[e]in h)return o[e];return""}(),PREVENT_DRAG_CSSPROPS={"-webkit-user-select":"none","-ms-user-select":"none","-moz-user-select":"none","user-select":"none","-webkit-user-drag":"none"},toArray$2=function(h){for(var o=[],e=0,i=h.length;e<i;e++)o.push(h[e]);return o},$=function(h,o){o===void 0&&(o=!1);var e;if(typeof h=="string"){var i=h.match(/^<([a-z]+)\s*([^>]*)>/);if(i){var c=document.createElement("div");c.innerHTML=h,e=toArray$2(c.childNodes)}else e=toArray$2(document.querySelectorAll(h));o||(e=e.length>=1?e[0]:void 0)}else h===win?e=h:"value"in h||"current"in h?e=h.value||h.current:h.nodeName&&(h.nodeType===1||h.nodeType===9)?e=h:"jQuery"in win&&h instanceof jQuery||h.constructor.prototype.jquery?e=o?h.toArray():h.get(0):Array.isArray(h)&&(e=h.map(function(f){return $(f)}),o||(e=e.length>=1?e[0]:void 0));return e},raf=win.requestAnimationFrame||win.webkitRequestAnimationFrame,caf=win.cancelAnimationFrame||win.webkitCancelAnimationFrame;if(raf&&!caf){var keyInfo_1={},oldraf_1=raf;raf=function(h){var o=function(i){keyInfo_1[e]&&h(i)},e=oldraf_1(o);return keyInfo_1[e]=!0,e},caf=function(h){delete keyInfo_1[h]}}else raf&&caf||(raf=function(h){return win.setTimeout(function(){h(win.performance&&win.performance.now&&win.performance.now()||new Date().getTime())},16)},caf=win.clearTimeout);var requestAnimationFrame$1=function(h){return raf(h)},cancelAnimationFrame=function(h){caf(h)},map=function(h,o){var e={};for(var i in h)i&&(e[i]=o(h[i],i));return e},filter=function(h,o){var e={};for(var i in h)i&&o(h[i],i)&&(e[i]=h[i]);return e},every=function(h,o){for(var e in h)if(e&&!o(h[e],e))return!1;return!0},equal=function(h,o){return every(h,function(e,i){return e===o[i]})},roundNumFunc={},roundNumber=function(h,o){return roundNumFunc[o]||(roundNumFunc[o]=getRoundFunc(o)),roundNumFunc[o](h)},roundNumbers=function(h,o){return!h||!o?h:map(h,function(e,i){return roundNumber(e,typeof o=="number"?o:o[i])})},getDecimalPlace=function(h){if(!isFinite(h))return 0;var o="".concat(h);if(o.indexOf("e")>=0){for(var e=0,i=1;Math.round(h*i)/i!==h;)i*=10,e++;return e}return o.indexOf(".")>=0?o.length-o.indexOf(".")-1:0},inversePow=function(h){return 1/Math.pow(10,h)},getRoundFunc=function(h){var o=h<1?Math.pow(10,getDecimalPlace(h)):1;return function(e){return h===0?0:Math.round(Math.round(e/h)*h*o)/o}},getAngle=function(h,o){return Math.atan2(o,h)*180/Math.PI},isCssPropsFromAxes=function(h){var o=!0;return Object.keys(PREVENT_DRAG_CSSPROPS).forEach(function(e){(!h||h[e]!==PREVENT_DRAG_CSSPROPS[e])&&(o=!1)}),o},getDirection$1=function(h,o){return h&&o?DIRECTION_ALL:h?DIRECTION_HORIZONTAL:o?DIRECTION_VERTICAL:DIRECTION_NONE},useDirection=function(h,o,e){return e?!!(o===DIRECTION_ALL||o&h&&e&h):!!(o&h)},setCssProps=function(h,o,e){var i,c=(i={},i[DIRECTION_NONE]="auto",i[DIRECTION_ALL]="none",i[DIRECTION_VERTICAL]="pan-x",i[DIRECTION_HORIZONTAL]="pan-y",i),f={};if(h&&h.style){var m=o.touchAction?o.touchAction:c[e],g=__assign$2(__assign$2({},PREVENT_DRAG_CSSPROPS),{"touch-action":h.style["touch-action"]==="none"?"none":m});Object.keys(g).forEach(function(Te){f[Te]=h.style[Te]}),Object.keys(g).forEach(function(Te){h.style[Te]=g[Te]})}return f},revertCssProps=function(h,o){h&&h.style&&o&&Object.keys(o).forEach(function(e){h.style[e]=o[e]})},EventManager=function(){function h(e){this._axes=e,this.holdingCount=0}var o=h.prototype;return o.hold=function(e,i){var c=this._getRoundPos(e).roundPos;this._axes.trigger(new ComponentEvent$1("hold",{pos:c,input:i.input||null,inputEvent:i.event||null,isTrusted:!0}))},o.triggerRelease=function(e){var i=this._getRoundPos(e.destPos,e.depaPos),c=i.roundPos,f=i.roundDepa;e.destPos=c,e.depaPos=f,e.setTo=this._createUserControll(e.destPos,e.duration),this._axes.trigger(new ComponentEvent$1("release",__assign$2(__assign$2({},e),{bounceRatio:this._getBounceRatio(c)})))},o.triggerChange=function(e,i,c,f){var m=this;f===void 0&&(f=!1);var g=this.animationManager,Te=g.axisManager,Ee=g.getEventInfo(),Oe=this._getRoundPos(e,i),ne=Oe.roundPos,De=Oe.roundDepa,Ie=Te.moveTo(ne,De),qe=(c==null?void 0:c.event)||(Ee==null?void 0:Ee.event)||null,Fe={pos:Ie.pos,delta:Ie.delta,bounceRatio:this._getBounceRatio(Ie.pos),holding:f,inputEvent:qe,isTrusted:!!qe,input:(c==null?void 0:c.input)||(Ee==null?void 0:Ee.input)||null,set:qe?this._createUserControll(Ie.pos):function(){}},Ne=new ComponentEvent$1("change",Fe);return this._axes.trigger(Ne),Object.keys(Ie.pos).forEach(function(Ve){var Ue=Ie.pos[Ve];getObserver(m._axes,Ve,Ue).current=Ue}),qe&&Te.set(Fe.set().destPos),!Ne.isCanceled()},o.triggerAnimationStart=function(e){var i=this._getRoundPos(e.destPos,e.depaPos),c=i.roundPos,f=i.roundDepa;e.destPos=c,e.depaPos=f,e.setTo=this._createUserControll(e.destPos,e.duration);var m=new ComponentEvent$1("animationStart",e);return this._axes.trigger(m),!m.isCanceled()},o.triggerAnimationEnd=function(e){e===void 0&&(e=!1),this._axes.trigger(new ComponentEvent$1("animationEnd",{isTrusted:e}))},o.triggerFinish=function(e){e===void 0&&(e=!1),this._axes.trigger(new ComponentEvent$1("finish",{isTrusted:e}))},o.setAnimationManager=function(e){this.animationManager=e},o.destroy=function(){this._axes.off()},o._createUserControll=function(e,i){i===void 0&&(i=0);var c={destPos:__assign$2({},e),duration:i};return function(f,m){return f&&(c.destPos=__assign$2({},f)),m!==void 0&&(c.duration=m),c}},o._getRoundPos=function(e,i){var c=this._axes.options.round;return{roundPos:roundNumbers(e,c),roundDepa:roundNumbers(i,c)}},o._getBounceRatio=function(e){return this._axes.axisManager.map(e,function(i,c){return i<c.range[0]&&c.bounce[0]!==0?(c.range[0]-i)/c.bounce[0]:i>c.range[1]&&c.bounce[1]!==0?(i-c.range[1])/c.bounce[1]:0})},__decorate([Observe],h.prototype,"holdingCount",void 0),h}(),InterruptManager=function(){function h(e){this._options=e,this._prevented=!1}var o=h.prototype;return o.isInterrupting=function(){return this._options.interruptable||this._prevented},o.isInterrupted=function(){return!this._options.interruptable&&this._prevented},o.setInterrupt=function(e){this._options.interruptable||(this._prevented=e)},h}(),getInsidePosition=function(h,o,e,i){var c=h,f=[e[0]?o[0]:i?o[0]-i[0]:o[0],e[1]?o[1]:i?o[1]+i[1]:o[1]];return c=Math.max(f[0],c),c=Math.min(f[1],c),c},isOutside=function(h,o){return h<o[0]||h>o[1]},isEndofBounce=function(h,o,e,i){return!i[0]&&h===o[0]-e[0]||!i[1]&&h===o[1]+e[1]},getDuration=function(h,o){var e=Math.sqrt(h/o*2);return e<100?0:e},isCircularable=function(h,o,e){return e[1]&&h>o[1]||e[0]&&h<o[0]},getCirculatedPos=function(h,o,e){var i=h,c=o[0],f=o[1],m=f-c;return e[1]&&h>f&&(i=(i-f)%m+c),e[0]&&h<c&&(i=(i-c)%m+f),i},AxisManager=function(){function h(e){var i=this;this._axis=e,this._complementOptions(),this._pos=Object.keys(this._axis).reduce(function(c,f){return c[f]=i._axis[f].startPos,c},{})}var o=h.prototype;return o.getDelta=function(e,i){var c=this.get(e);return map(this.get(i),function(f,m){return f-c[m]})},o.get=function(e){var i=this;return e&&Array.isArray(e)?e.reduce(function(c,f){return f&&f in i._pos&&(c[f]=i._pos[f]),c},{}):__assign$2(__assign$2({},this._pos),e||{})},o.moveTo=function(e,i){i===void 0&&(i=this._pos);var c=map(this._pos,function(f,m){return m in e&&m in i?e[m]-i[m]:0});return this.set(this.map(e,function(f,m){return m?getCirculatedPos(f,m.range,m.circular):0})),{pos:__assign$2({},this._pos),delta:c}},o.set=function(e){for(var i in e)i&&i in this._pos&&(this._pos[i]=e[i])},o.every=function(e,i){var c=this._axis;return every(e,function(f,m){return i(f,c[m],m)})},o.filter=function(e,i){var c=this._axis;return filter(e,function(f,m){return i(f,c[m],m)})},o.map=function(e,i){var c=this._axis;return map(e,function(f,m){return i(f,c[m],m)})},o.isOutside=function(e){return!this.every(e?this.get(e):this._pos,function(i,c){return!isOutside(i,c.range)})},o.getAxisOptions=function(e){return this._axis[e]},o.setAxis=function(e){var i=this;Object.keys(e).forEach(function(c){if(!i._axis[c])throw new Error("Axis ".concat(c," does not exist in Axes instance"));i._axis[c]=__assign$2(__assign$2({},i._axis[c]),e[c])}),this._complementOptions()},o._complementOptions=function(){var e=this;Object.keys(this._axis).forEach(function(i){e._axis[i]=__assign$2({range:[0,100],startPos:e._axis[i].range[0],bounce:[0,0],circular:[!1,!1]},e._axis[i]),["bounce","circular"].forEach(function(c){var f=e._axis,m=f[i][c];/string|number|boolean/.test(typeof m)&&(f[i][c]=[m,m])})})},h}(),SUPPORT_TOUCH="ontouchstart"in win,SUPPORT_POINTER="PointerEvent"in win,SUPPORT_MSPOINTER="MSPointerEvent"in win,SUPPORT_POINTER_EVENTS=SUPPORT_POINTER||SUPPORT_MSPOINTER,isValidKey=function(h,o){return!!(!o||o.indexOf(ANY)>-1||o.indexOf(NONE)>-1&&!h.shiftKey&&!h.ctrlKey&&!h.altKey&&!h.metaKey||o.indexOf(SHIFT)>-1&&h.shiftKey||o.indexOf(CTRL)>-1&&h.ctrlKey||o.indexOf(ALT)>-1&&h.altKey||o.indexOf(META)>-1&&h.metaKey)},EventInput=function(){function h(){var e=this;this._stopContextMenu=function(i){i.preventDefault(),win.removeEventListener("contextmenu",e._stopContextMenu)}}var o=h.prototype;return o.extendEvent=function(e){var i,c=this.prevEvent,f=this._getCenter(e),m=c?this._getMovement(e):{x:0,y:0},g=c?this._getScale(e):1,Te=c?getAngle(f.x-c.center.x,f.y-c.center.y):0,Ee=c?c.deltaX+m.x:m.x,Oe=c?c.deltaY+m.y:m.y,ne=m.x,De=m.y,Ie=this._latestInterval,qe=Date.now(),Fe=Ie?qe-Ie.timestamp:0,Ne=c?c.velocityX:0,Ve=c?c.velocityY:0;return(!Ie||Fe>=VELOCITY_INTERVAL)&&(Ie&&(i=[(Ee-Ie.deltaX)/Fe,(Oe-Ie.deltaY)/Fe],Ne=i[0],Ve=i[1]),this._latestInterval={timestamp:qe,deltaX:Ee,deltaY:Oe}),{srcEvent:e,scale:g,angle:Te,center:f,deltaX:Ee,deltaY:Oe,offsetX:ne,offsetY:De,velocityX:Ne,velocityY:Ve,preventSystemEvent:!0}},o._getDistance=function(e,i){var c=i.clientX-e.clientX,f=i.clientY-e.clientY;return Math.sqrt(c*c+f*f)},o._getButton=function(e){var i={1:MOUSE_LEFT,2:MOUSE_RIGHT,4:MOUSE_MIDDLE},c=this._isTouchEvent(e)?MOUSE_LEFT:i[e.buttons];return c||null},o._isTouchEvent=function(e){return e.type&&e.type.indexOf("touch")>-1},o._isValidButton=function(e,i){return i.indexOf(e)>-1},o._isValidEvent=function(e,i,c){return(!i||isValidKey(e,i))&&(!c||this._isValidButton(this._getButton(e),c))},o._preventMouseButton=function(e,i){i===MOUSE_RIGHT?win.addEventListener("contextmenu",this._stopContextMenu):i===MOUSE_MIDDLE&&e.preventDefault()},h}(),MouseEventInput=function(h){__extends$2(o,h);function o(){var i=h!==null&&h.apply(this,arguments)||this;return i.start=["mousedown"],i.move=["mousemove"],i.end=["mouseup"],i}var e=o.prototype;return e.onEventStart=function(i,c,f){var m=this._getButton(i);return this._isValidEvent(i,c,f)?(this._preventMouseButton(i,m),this.extendEvent(i)):null},e.onEventMove=function(i,c,f){return this._isValidEvent(i,c,f)?this.extendEvent(i):null},e.onEventEnd=function(){},e.onRelease=function(){this.prevEvent=null},e.getTouches=function(i,c){return c&&this._isValidButton(MOUSE_BUTTON_CODE_MAP[i.which],c)&&this.end.indexOf(i.type)===-1?1:0},e._getScale=function(){return 1},e._getCenter=function(i){return{x:i.clientX,y:i.clientY}},e._getMovement=function(i){var c=this.prevEvent.srcEvent;return{x:i.clientX-c.clientX,y:i.clientY-c.clientY}},o}(EventInput),TouchEventInput=function(h){__extends$2(o,h);function o(){var i=h!==null&&h.apply(this,arguments)||this;return i.start=["touchstart"],i.move=["touchmove"],i.end=["touchend","touchcancel"],i}var e=o.prototype;return e.onEventStart=function(i,c){return this._baseTouches=i.touches,this._isValidEvent(i,c)?this.extendEvent(i):null},e.onEventMove=function(i,c){return this._isValidEvent(i,c)?this.extendEvent(i):null},e.onEventEnd=function(i){this._baseTouches=i.touches},e.onRelease=function(){this.prevEvent=null,this._baseTouches=null},e.getTouches=function(i){return i.touches.length},e._getScale=function(i){return i.touches.length!==2||this._baseTouches.length<2?null:this._getDistance(i.touches[0],i.touches[1])/this._getDistance(this._baseTouches[0],this._baseTouches[1])},e._getCenter=function(i){return{x:i.touches[0].clientX,y:i.touches[0].clientY}},e._getMovement=function(i){var c=this.prevEvent.srcEvent;return i.touches[0].identifier!==c.touches[0].identifier?{x:0,y:0}:{x:i.touches[0].clientX-c.touches[0].clientX,y:i.touches[0].clientY-c.touches[0].clientY}},o}(EventInput),PointerEventInput=function(h){__extends$2(o,h);function o(){var i=h!==null&&h.apply(this,arguments)||this;return i.start=SUPPORT_POINTER?["pointerdown"]:["MSPointerDown"],i.move=SUPPORT_POINTER?["pointermove"]:["MSPointerMove"],i.end=SUPPORT_POINTER?["pointerup","pointercancel"]:["MSPointerUp","MSPointerCancel"],i._firstInputs=[],i._recentInputs=[],i}var e=o.prototype;return e.onEventStart=function(i,c,f){var m=this._getButton(i);return this._isValidEvent(i,c,f)?(this._preventMouseButton(i,m),this._updatePointerEvent(i),this.extendEvent(i)):null},e.onEventMove=function(i,c,f){return this._isValidEvent(i,c,f)?(this._updatePointerEvent(i),this.extendEvent(i)):null},e.onEventEnd=function(i){this._removePointerEvent(i)},e.onRelease=function(){this.prevEvent=null,this._firstInputs=[],this._recentInputs=[]},e.getTouches=function(){return this._recentInputs.length},e._getScale=function(){return this._recentInputs.length!==2?null:this._getDistance(this._recentInputs[0],this._recentInputs[1])/this._getDistance(this._firstInputs[0],this._firstInputs[1])},e._getCenter=function(i){return{x:i.clientX,y:i.clientY}},e._getMovement=function(i){var c=this.prevEvent.srcEvent;return i.pointerId!==c.pointerId?{x:0,y:0}:{x:i.clientX-c.clientX,y:i.clientY-c.clientY}},e._updatePointerEvent=function(i){var c=this,f=!1;this._recentInputs.forEach(function(m,g){m.pointerId===i.pointerId&&(f=!0,c._recentInputs[g]=i)}),f||(this._firstInputs.push(i),this._recentInputs.push(i))},e._removePointerEvent=function(i){this._firstInputs=this._firstInputs.filter(function(c){return c.pointerId!==i.pointerId}),this._recentInputs=this._recentInputs.filter(function(c){return c.pointerId!==i.pointerId})},o}(EventInput),TouchMouseEventInput=function(h){__extends$2(o,h);function o(){var i=h!==null&&h.apply(this,arguments)||this;return i.start=["mousedown","touchstart"],i.move=["mousemove","touchmove"],i.end=["mouseup","touchend","touchcancel"],i}var e=o.prototype;return e.onEventStart=function(i,c,f){var m=this._getButton(i);return this._isTouchEvent(i)&&(this._baseTouches=i.touches),this._isValidEvent(i,c,f)?(this._preventMouseButton(i,m),this.extendEvent(i)):null},e.onEventMove=function(i,c,f){return this._isValidEvent(i,c,f)?this.extendEvent(i):null},e.onEventEnd=function(i){this._isTouchEvent(i)&&(this._baseTouches=i.touches)},e.onRelease=function(){this.prevEvent=null,this._baseTouches=null},e.getTouches=function(i,c){return this._isTouchEvent(i)?i.touches.length:this._isValidButton(MOUSE_BUTTON_CODE_MAP[i.which],c)&&this.end.indexOf(i.type)===-1?1:0},e._getScale=function(i){return this._isTouchEvent(i)?i.touches.length!==2||this._baseTouches.length<2?1:this._getDistance(i.touches[0],i.touches[1])/this._getDistance(this._baseTouches[0],this._baseTouches[1]):this.prevEvent.scale},e._getCenter=function(i){return this._isTouchEvent(i)?{x:i.touches[0].clientX,y:i.touches[0].clientY}:{x:i.clientX,y:i.clientY}},e._getMovement=function(i){var c=this,f=this.prevEvent.srcEvent,m=[i,f].map(function(Ee){return c._isTouchEvent(Ee)?{id:Ee.touches[0].identifier,x:Ee.touches[0].clientX,y:Ee.touches[0].clientY}:{id:null,x:Ee.clientX,y:Ee.clientY}}),g=m[0],Te=m[1];return g.id===Te.id?{x:g.x-Te.x,y:g.y-Te.y}:{x:0,y:0}},o}(EventInput),toAxis=function(h,o){return o.reduce(function(e,i,c){return h[c]&&(e[h[c]]=i),e},{})},convertInputType=function(h){h===void 0&&(h=[]);var o=!1,e=!1,i=!1;return h.forEach(function(c){switch(c){case"mouse":e=!0;break;case"touch":o=SUPPORT_TOUCH;break;case"pointer":i=SUPPORT_POINTER_EVENTS}}),i?new PointerEventInput:o&&e?new TouchMouseEventInput:o?new TouchEventInput:e?new MouseEventInput:null};function getAddEventOptions(h){return h.indexOf("touch")>-1?{passive:!1}:!1}var InputObserver=function(){function h(e){var i=e.options,c=e.interruptManager,f=e.eventManager,m=e.axisManager,g=e.animationManager;this._isOutside=!1,this._moveDistance=null,this._isStopped=!1,this.options=i,this._interruptManager=c,this._eventManager=f,this._axisManager=m,this._animationManager=g}var o=h.prototype;return o.get=function(e){return this._axisManager.get(e.axes)},o.hold=function(e,i){if(!(this._interruptManager.isInterrupted()||!e.axes.length)){var c={input:e,event:i};this._isStopped=!1,this._interruptManager.setInterrupt(!0),this._animationManager.stopAnimation(c),++this._eventManager.holdingCount,this._moveDistance||this._eventManager.hold(this._axisManager.get(),c),this._isOutside=this._axisManager.isOutside(e.axes),this._moveDistance=this._axisManager.get(e.axes)}},o.change=function(e,i,c,f){if(!(this._isStopped||!this._interruptManager.isInterrupting()||this._axisManager.every(c,function(De){return De===0}))){var m=i.srcEvent?i.srcEvent:i;if(!m.__childrenAxesAlreadyChanged){var g=this._moveDistance||this._axisManager.get(e.axes),Te;Te=map(g,function(De,Ie){return De+(c[Ie]||0)}),this._moveDistance&&(this._moveDistance=this._axisManager.map(Te,function(De,Ie){var qe=Ie.circular,Fe=Ie.range;return qe&&(qe[0]||qe[1])?getCirculatedPos(De,Fe,qe):De})),this._isOutside&&this._axisManager.every(g,function(De,Ie){return!isOutside(De,Ie.range)})&&(this._isOutside=!1),g=this._atOutside(g),Te=this._atOutside(Te),(!this.options.nested||!this._isEndofAxis(c,g,Te))&&(m.__childrenAxesAlreadyChanged=!0);var Ee={input:e,event:i};if(f){var Oe=this._animationManager.getDuration(Te,g);this._animationManager.animateTo(Te,Oe,Ee)}else{var ne=!this._eventManager.triggerChange(Te,g,Ee,!0);ne&&(this._isStopped=!0,this._moveDistance=null,this._animationManager.finish(!1))}}}},o.release=function(e,i,c,f){if(!(this._isStopped||!this._interruptManager.isInterrupting()||!this._moveDistance)){var m=i.srcEvent?i.srcEvent:i;m.__childrenAxesAlreadyReleased&&(c=c.map(function(){return 0}));var g=this._axisManager.get(e.axes),Te=this._axisManager.get(),Ee=this._animationManager.getDisplacement(c),Oe=toAxis(e.axes,Ee),ne=this._axisManager.get(this._axisManager.map(Oe,function(Ve,Ue,We){return Ue.circular&&(Ue.circular[0]||Ue.circular[1])?g[We]+Ve:getInsidePosition(g[We]+Ve,Ue.range,Ue.circular,Ue.bounce)}));m.__childrenAxesAlreadyReleased=!0;var De=this._animationManager.getDuration(ne,g,f);De===0&&(ne=__assign$2({},Te));var Ie={depaPos:Te,destPos:ne,duration:De,delta:this._axisManager.getDelta(Te,ne),inputEvent:i,input:e,isTrusted:!0};--this._eventManager.holdingCount,this._eventManager.triggerRelease(Ie),this._eventManager.holdingCount===0&&(this._moveDistance=null);var qe=this._animationManager.getUserControl(Ie),Fe=equal(qe.destPos,Te),Ne={input:e,event:i};Fe||qe.duration===0?(Fe||this._eventManager.triggerChange(qe.destPos,Te,Ne,!0),this._interruptManager.setInterrupt(!1),this._axisManager.isOutside()?this._animationManager.restore(Ne):this._eventManager.triggerFinish(!0)):this._animationManager.animateTo(qe.destPos,qe.duration,Ne)}},o._atOutside=function(e){var i=this;return this._isOutside?this._axisManager.map(e,function(c,f){var m=f.range[0]-f.bounce[0],g=f.range[1]+f.bounce[1];return c>g?g:c<m?m:c}):this._axisManager.map(e,function(c,f){var m=f.range[0],g=f.range[1],Te=f.bounce,Ee=f.circular;return Ee[0]&&c<m||Ee[1]&&c>g?c:c<m?m-i._animationManager.interpolate(m-c,Te[0]):c>g?g+i._animationManager.interpolate(c-g,Te[1]):c})},o._isEndofAxis=function(e,i,c){return this._axisManager.every(i,function(f,m,g){return e[g]===0||i[g]===c[g]&&isEndofBounce(f,m.range,m.bounce,m.circular)})},h}(),clamp$1=function(h,o,e){return Math.max(Math.min(h,e),o)},AnimationManager=function(){function h(e){var i=e.options,c=e.interruptManager,f=e.eventManager,m=e.axisManager;this._options=i,this.interruptManager=c,this.eventManager=f,this.axisManager=m,this.animationEnd=this.animationEnd.bind(this)}var o=h.prototype;return o.getDuration=function(e,i,c){var f=this,m;if(typeof c<"u")m=c;else{var g=map(i,function(Te,Ee){return getDuration(Math.abs(Te-e[Ee]),f._options.deceleration)});m=Object.keys(g).reduce(function(Te,Ee){return Math.max(Te,g[Ee])},-1/0)}return clamp$1(m,this._options.minimumDuration,this._options.maximumDuration)},o.getDisplacement=function(e){var i=Math.pow(e.reduce(function(f,m){return f+m*m},0),1/e.length),c=Math.abs(i/-this._options.deceleration);return e.map(function(f){return f/2*c})},o.stopAnimation=function(e){if(this._animateParam){var i=this.axisManager.get(),c=this.axisManager.map(i,function(f,m){return getCirculatedPos(f,m.range,m.circular)});every(c,function(f,m){return i[m]===f})||this.eventManager.triggerChange(c,i,e,!!e),this._animateParam=null,this._raf&&cancelAnimationFrame(this._raf),this._raf=null,this.eventManager.triggerAnimationEnd(!!(e!=null&&e.event))}},o.getEventInfo=function(){return this._animateParam&&this._animateParam.input&&this._animateParam.inputEvent?{input:this._animateParam.input,event:this._animateParam.inputEvent}:null},o.restore=function(e){var i=this.axisManager.get(),c=this.axisManager.map(i,function(f,m){return Math.min(m.range[1],Math.max(m.range[0],f))});this.stopAnimation(),this.animateTo(c,this.getDuration(i,c),e)},o.animationEnd=function(){var e=this.getEventInfo();this._animateParam=null;var i=this.axisManager.filter(this.axisManager.get(),function(c,f){return isCircularable(c,f.range,f.circular)});Object.keys(i).length>0&&this.setTo(this.axisManager.map(i,function(c,f){return getCirculatedPos(c,f.range,f.circular)})),this.interruptManager.setInterrupt(!1),this.eventManager.triggerAnimationEnd(!!e),this.axisManager.isOutside()?this.restore(e):this.finish(!!e)},o.finish=function(e){this._animateParam=null,this.interruptManager.setInterrupt(!1),this.eventManager.triggerFinish(e)},o.getUserControl=function(e){var i=e.setTo();return i.destPos=this.axisManager.get(i.destPos),i.duration=clamp$1(i.duration,this._options.minimumDuration,this._options.maximumDuration),i},o.animateTo=function(e,i,c){var f=this;this.stopAnimation();var m=this._createAnimationParam(e,i,c),g=__assign$2({},m.depaPos),Te=this.eventManager.triggerAnimationStart(m),Ee=this.getUserControl(m);if(!Te&&this.axisManager.every(Ee.destPos,function(ne,De){return isCircularable(ne,De.range,De.circular)})&&console.warn("You can't stop the 'animation' event when 'circular' is true."),Te&&!equal(Ee.destPos,g)){var Oe=(c==null?void 0:c.event)||null;this._animateLoop({depaPos:g,destPos:Ee.destPos,duration:Ee.duration,delta:this.axisManager.getDelta(g,Ee.destPos),isTrusted:!!Oe,inputEvent:Oe,input:(c==null?void 0:c.input)||null},function(){return f.animationEnd()})}},o.setTo=function(e,i){i===void 0&&(i=0);var c=Object.keys(e),f=this.axisManager.get(c);if(equal(e,f))return this;this.interruptManager.setInterrupt(!0);var m=filter(e,function(g,Te){return f[Te]!==g});return Object.keys(m).length?(m=this.axisManager.map(m,function(g,Te){var Ee=Te.range,Oe=Te.circular;return Oe&&(Oe[0]||Oe[1])?g:getInsidePosition(g,Ee,Oe)}),equal(m,f)?this:(i>0?this.animateTo(m,i):(this.stopAnimation(),this.eventManager.triggerChange(m),this.finish(!1)),this)):this},o.setBy=function(e,i){return i===void 0&&(i=0),this.setTo(map(this.axisManager.get(Object.keys(e)),function(c,f){return c+e[f]}),i)},o.setOptions=function(e){this._options=__assign$2(__assign$2({},this._options),e)},o._createAnimationParam=function(e,i,c){var f=this.axisManager.get(),m=e,g=(c==null?void 0:c.event)||null;return{depaPos:f,destPos:m,duration:clamp$1(i,this._options.minimumDuration,this._options.maximumDuration),delta:this.axisManager.getDelta(f,m),inputEvent:g,input:(c==null?void 0:c.input)||null,isTrusted:!!g,done:this.animationEnd}},o._animateLoop=function(e,i){var c=this;if(e.duration){this._animateParam=__assign$2(__assign$2({},e),{startTime:new Date().getTime()});var f=map(e.destPos,function(Te){return Te}),m=this._initState(this._animateParam),g=function(){c._raf=null;var Te=c._animateParam,Ee=c._getNextState(m),Oe=!c.eventManager.triggerChange(Ee.pos,m.pos);if(m=Ee,Ee.finished){Te.destPos=c._getFinalPos(Te.destPos,f),equal(Te.destPos,c.axisManager.get(Object.keys(Te.destPos)))||c.eventManager.triggerChange(Te.destPos,Ee.pos),i();return}else Oe?c.finish(!1):c._raf=requestAnimationFrame$1(g)};g()}else this.eventManager.triggerChange(e.destPos),i()},o._getFinalPos=function(e,i){var c=this,f=1e-6,m=map(e,function(g,Te){if(g>=i[Te]-f&&g<=i[Te]+f)return i[Te];var Ee=c._getRoundUnit(g,Te),Oe=roundNumber(g,Ee);return Oe});return m},o._getRoundUnit=function(e,i){var c=this._options.round,f=null;if(!c){var m=this.axisManager.getAxisOptions(i);f=inversePow(Math.max(getDecimalPlace(m.range[0]),getDecimalPlace(m.range[1]),getDecimalPlace(e)))}return f||c},h}(),EasingManager=function(h){__extends$2(o,h);function o(){var i=h!==null&&h.apply(this,arguments)||this;return i._useDuration=!0,i}var e=o.prototype;return e.interpolate=function(i,c){var f=this._easing(1e-5)/1e-5;return this._easing(i/(c*f))*c},e.updateAnimation=function(i){var c,f=this._animateParam;if(f){var m=new Date().getTime()-f.startTime,g=(i==null?void 0:i.destPos)||f.destPos,Te=(c=i==null?void 0:i.duration)!==null&&c!==void 0?c:f.duration;if(i!=null&&i.restart||Te<=m){this.setTo(g,Te-m);return}if(i!=null&&i.destPos){var Ee=this.axisManager.get();this._initialEasingPer=this._prevEasingPer,f.delta=this.axisManager.getDelta(Ee,g),f.destPos=g}if(i!=null&&i.duration){var Oe=(m+this._durationOffset)/f.duration;this._durationOffset=Oe*Te-m,f.duration=Te}}},e._initState=function(i){return this._initialEasingPer=0,this._prevEasingPer=0,this._durationOffset=0,{pos:i.depaPos,easingPer:0,finished:!1}},e._getNextState=function(i){var c=this,f=this._animateParam,m=i.pos,g=f.destPos,Te=map(m,function(Ie,qe){return Ie<=g[qe]?1:-1}),Ee=new Date().getTime()-f.startTime,Oe=(Ee+this._durationOffset)/f.duration,ne=this._easing(Oe),De=this.axisManager.map(m,function(Ie,qe,Fe){var Ne=Oe>=1?g[Fe]:Ie+f.delta[Fe]*(ne-c._prevEasingPer)/(1-c._initialEasingPer),Ve=getCirculatedPos(Ne,qe.range,qe.circular);if(Ne!==Ve){var Ue=Te[Fe]*(qe.range[1]-qe.range[0]);g[Fe]-=Ue,m[Fe]-=Ue}return Ve});return this._prevEasingPer=ne,{pos:De,easingPer:ne,finished:ne>=1}},e._easing=function(i){return i>1?1:this._options.easing(i)},o}(AnimationManager),Axes=function(h){__extends$2(o,h);function o(i,c,f){i===void 0&&(i={}),c===void 0&&(c={}),f===void 0&&(f={});var m=h.call(this)||this;return m.axis=i,m._inputs=[],m.options=__assign$2({easing:function(g){return 1-Math.pow(1-g,3)},interruptable:!0,maximumDuration:1/0,minimumDuration:0,deceleration:6e-4,round:null,nested:!1},c),Object.keys(f).forEach(function(g){m.axis[g].startPos=f[g]}),m.interruptManager=new InterruptManager(m.options),m.axisManager=new AxisManager(m.axis),m.eventManager=new EventManager(m),m.animationManager=new EasingManager(m),m.inputObserver=new InputObserver(m),m.eventManager.setAnimationManager(m.animationManager),m.eventManager.triggerChange(m.axisManager.get()),m}var e=o.prototype;return Object.defineProperty(e,"holding",{get:function(){return this.eventManager.holdingCount>0},enumerable:!1,configurable:!0}),e.connect=function(i,c){var f;return typeof i=="string"?f=i.split(" "):f=i.concat(),~this._inputs.indexOf(c)&&this.disconnect(c),c.mapAxes(f),c.connect(this.inputObserver),this._inputs.push(c),this},e.disconnect=function(i){if(i){var c=this._inputs.indexOf(i);c>=0&&(this._inputs[c].disconnect(),this._inputs.splice(c,1))}else this._inputs.forEach(function(f){return f.disconnect()}),this._inputs=[];return this},e.get=function(i){return this.axisManager.get(i)},e.setTo=function(i,c){return c===void 0&&(c=0),this.animationManager.setTo(i,c),this},e.setBy=function(i,c){return c===void 0&&(c=0),this.animationManager.setBy(i,c),this},e.setOptions=function(i){return this.options=__assign$2(__assign$2({},this.options),i),this.animationManager.setOptions(i),this},e.setAxis=function(i){return this.axisManager.setAxis(i),this},e.stopAnimation=function(){return this.animationManager.stopAnimation(),this.animationManager.finish(!1),this},e.updateAnimation=function(i){return this.animationManager.updateAnimation(i),this},e.isBounceArea=function(i){return this.axisManager.isOutside(i)},e.destroy=function(){this.disconnect(),this.eventManager.destroy()},o.VERSION="3.9.1",o.TRANSFORM=TRANSFORM,o.DIRECTION_NONE=DIRECTION_NONE,o.DIRECTION_LEFT=DIRECTION_LEFT,o.DIRECTION_RIGHT=DIRECTION_RIGHT,o.DIRECTION_UP=DIRECTION_UP,o.DIRECTION_DOWN=DIRECTION_DOWN,o.DIRECTION_HORIZONTAL=DIRECTION_HORIZONTAL,o.DIRECTION_VERTICAL=DIRECTION_VERTICAL,o.DIRECTION_ALL=DIRECTION_ALL,__decorate([Computed],o.prototype,"holding",null),o=__decorate([ReactiveSubscribe],o),o}(Component),getDirectionByAngle=function(h,o){if(o<0||o>90)return DIRECTION_NONE;var e=Math.abs(h);return e>o&&e<180-o?DIRECTION_VERTICAL:DIRECTION_HORIZONTAL},PanInput=function(){function h(e,i){var c=this;this.axes=[],this.element=null,this._enabled=!1,this._activeEvent=null,this._atRightEdge=!1,this._rightEdgeTimer=0,this._dragged=!1,this._isOverThreshold=!1,this._preventClickWhenDragged=function(f){c._dragged&&(f.preventDefault(),f.stopPropagation()),c._dragged=!1},this._voidFunction=function(){},this.element=$(e),this.options=__assign$2({inputType:["touch","mouse","pointer"],inputKey:[ANY],inputButton:[MOUSE_LEFT],scale:[1,1],thresholdAngle:45,threshold:0,preventClickOnDrag:!1,preventDefaultOnDrag:!1,iOSEdgeSwipeThreshold:IOS_EDGE_THRESHOLD,releaseOnScroll:!1,touchAction:null},i),this._onPanstart=this._onPanstart.bind(this),this._onPanmove=this._onPanmove.bind(this),this._onPanend=this._onPanend.bind(this)}var o=h.prototype;return o.mapAxes=function(e){this._direction=getDirection$1(!!e[0],!!e[1]),this.axes=e},o.connect=function(e){return this._activeEvent&&(this._detachElementEvent(),this._detachWindowEvent(this._activeEvent)),this._attachElementEvent(e),this},o.disconnect=function(){return this._detachElementEvent(),this._detachWindowEvent(this._activeEvent),this._direction=DIRECTION_NONE,this},o.destroy=function(){this.disconnect(),this.element=null},o.enable=function(){return this._enabled||(this._enabled=!0,this._originalCssProps=setCssProps(this.element,this.options,this._direction)),this},o.disable=function(){return this._enabled&&(this._enabled=!1,isCssPropsFromAxes(this._originalCssProps)||revertCssProps(this.element,this._originalCssProps)),this},o.isEnabled=function(){return this._enabled},o.release=function(){var e=this._activeEvent,i=e.prevEvent;return e.onRelease(),this._observer.release(this,i,[0,0]),this._detachWindowEvent(e),this},o._onPanstart=function(e){var i=this.options,c=i.inputKey,f=i.inputButton,m=i.preventDefaultOnDrag,g=this._activeEvent,Te=g.onEventStart(e,c,f);if(!(!Te||!this._enabled||g.getTouches(e,f)>1)&&Te.srcEvent.cancelable!==!1){var Ee=this.options.iOSEdgeSwipeThreshold;this._dragged=!1,this._isOverThreshold=!1,this._observer.hold(this,Te),this._atRightEdge=IS_IOS_SAFARI&&Te.center.x>window.innerWidth-Ee,this._attachWindowEvent(g),m&&Te.srcEvent.type!=="touchstart"&&Te.srcEvent.preventDefault(),g.prevEvent=Te}},o._onPanmove=function(e){var i=this,c=this.options,f=c.iOSEdgeSwipeThreshold,m=c.preventClickOnDrag,g=c.releaseOnScroll,Te=c.inputKey,Ee=c.inputButton,Oe=c.threshold,ne=c.thresholdAngle,De=this._activeEvent,Ie=De.onEventMove(e,Te,Ee),qe=De.getTouches(e,Ee);if(qe===0||g&&Ie&&!Ie.srcEvent.cancelable){this._onPanend(e);return}if(!(!Ie||!this._enabled||qe>1)){var Fe=getDirectionByAngle(Ie.angle,ne),Ne=useDirection(DIRECTION_HORIZONTAL,this._direction,Fe),Ve=useDirection(DIRECTION_VERTICAL,this._direction,Fe);if(De.prevEvent&&IS_IOS_SAFARI){var Ue=Ie.center.x<0;if(Ue){this.release();return}else if(this._atRightEdge){clearTimeout(this._rightEdgeTimer);var We=Ie.deltaX<-f;We?this._atRightEdge=!1:this._rightEdgeTimer=window.setTimeout(function(){return i.release()},100)}}var He=this._getDistance([Ie.deltaX,Ie.deltaY],[Ne,Ve]),Xe=this._getOffset([Ie.offsetX,Ie.offsetY],[Ne,Ve]),ot=Xe.some(function(tt){return tt!==0});ot&&(Ie.srcEvent.cancelable!==!1&&Ie.srcEvent.preventDefault(),Ie.srcEvent.stopPropagation()),Ie.preventSystemEvent=ot,ot&&(this._isOverThreshold||He>=Oe)&&(this._dragged=m,this._isOverThreshold=!0,this._observer.change(this,Ie,toAxis(this.axes,Xe))),De.prevEvent=Ie}},o._onPanend=function(e){var i=this.options.inputButton,c=this._activeEvent;if(c.onEventEnd(e),!(!this._enabled||c.getTouches(e,i)!==0)){this._detachWindowEvent(c),clearTimeout(this._rightEdgeTimer);var f=c.prevEvent,m=this._isOverThreshold?this._getOffset([Math.abs(f.velocityX)*(f.offsetX<0?-1:1),Math.abs(f.velocityY)*(f.offsetY<0?-1:1)],[useDirection(DIRECTION_HORIZONTAL,this._direction),useDirection(DIRECTION_VERTICAL,this._direction)]):[0,0];c.onRelease(),this._observer.release(this,f,m)}},o._attachWindowEvent=function(e){var i=this;e==null||e.move.forEach(function(c){window.addEventListener(c,i._onPanmove,getAddEventOptions(c))}),e==null||e.end.forEach(function(c){window.addEventListener(c,i._onPanend,getAddEventOptions(c))})},o._detachWindowEvent=function(e){var i=this;e==null||e.move.forEach(function(c){window.removeEventListener(c,i._onPanmove)}),e==null||e.end.forEach(function(c){window.removeEventListener(c,i._onPanend)})},o._getOffset=function(e,i){var c=this.options.scale;return[i[0]?e[0]*c[0]:0,i[1]?e[1]*c[1]:0]},o._getDistance=function(e,i){return Math.sqrt(Number(i[0])*Math.pow(e[0],2)+Number(i[1])*Math.pow(e[1],2))},o._attachElementEvent=function(e){var i=this,c=convertInputType(this.options.inputType),f=this.element;if(c){if(!f)throw new Error("Element to connect input does not exist.");this._observer=e,this.enable(),this._activeEvent=c,f.addEventListener("click",this._preventClickWhenDragged,!0),c.start.forEach(function(m){f.addEventListener(m,i._onPanstart)}),c.move.forEach(function(m){f.addEventListener(m,i._voidFunction)})}},o._detachElementEvent=function(){var e=this,i=this._activeEvent,c=this.element;c&&(c.removeEventListener("click",this._preventClickWhenDragged,!0),i==null||i.start.forEach(function(f){c.removeEventListener(f,e._onPanstart)}),i==null||i.move.forEach(function(f){c.removeEventListener(f,e._voidFunction)})),this.disable(),this._observer=null},h}();const Axes$1=Axes;var extendStatics$1=function(h,o){return extendStatics$1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])},extendStatics$1(h,o)};function __extends$1(h,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");extendStatics$1(h,o);function e(){this.constructor=h}h.prototype=o===null?Object.create(o):(e.prototype=o.prototype,new e)}var __assign$1=function(){return __assign$1=Object.assign||function(o){for(var e,i=1,c=arguments.length;i<c;i++){e=arguments[i];for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(o[f]=e[f])}return o},__assign$1.apply(this,arguments)};function __spreadArrays(){for(var h=0,o=0,e=arguments.length;o<e;o++)h+=arguments[o].length;for(var i=Array(h),c=0,o=0;o<e;o++)for(var f=arguments[o],m=0,g=f.length;m<g;m++,c++)i[c]=f[m];return i}var isWindow=typeof window<"u",ua$1=isWindow?window.navigator.userAgent:"",SUPPORT_COMPUTEDSTYLE=isWindow?"getComputedStyle"in window:!1,IS_IE=/MSIE|Trident|Windows Phone|Edge/.test(ua$1),SUPPORT_ADDEVENTLISTENER=isWindow?"addEventListener"in document:!1,WIDTH="width",HEIGHT="height";function getAttribute(h,o){return h.getAttribute(o)||""}function toArray$1(h){return[].slice.call(h)}function hasSizeAttribute(h,o){return o===void 0&&(o="data-"),!!h.getAttribute(o+"width")}function hasLoadingAttribute(h,o){return o===void 0&&(o="data-"),"loading"in h&&h.getAttribute("loading")==="lazy"||!!h.getAttribute(o+"lazy")}function hasSkipAttribute(h,o){return o===void 0&&(o="data-"),!!h.getAttribute(o+"skip")}function addEvent(h,o,e){SUPPORT_ADDEVENTLISTENER?h.addEventListener(o,e,!1):h.attachEvent?h.attachEvent("on"+o,e):h["on"+o]=e}function removeEvent(h,o,e){h.removeEventListener?h.removeEventListener(o,e,!1):h.detachEvent?h.detachEvent("on"+o,e):h["on"+o]=null}function innerWidth(h){return getSize(h,"Width")}function innerHeight(h){return getSize(h,"Height")}function getStyles(h){return(SUPPORT_COMPUTEDSTYLE?window.getComputedStyle(h):h.currentStyle)||{}}function getSize(h,o){var e=h["client"+o]||h["offset"+o];return parseFloat(e||getStyles(h)[o.toLowerCase()])||0}function getContentElements(h,o,e){var i=toArray$1(h.querySelectorAll(__spreadArrays(["["+e+"skip] ["+e+"width]"],o.map(function(c){return["["+e+"skip] "+c,c+"["+e+"skip]","["+e+"width] "+c].join(", ")})).join(", ")));return toArray$1(h.querySelectorAll("["+e+"width], "+o.join(", "))).filter(function(c){return i.indexOf(c)===-1})}var elements=[];function addAutoSizer(h,o){!elements.length&&addEvent(window,"resize",resizeAllAutoSizers),h.__PREFIX__=o,elements.push(h),resize(h)}function removeAutoSizer(h,o){var e=elements.indexOf(h);if(!(e<0)){var i=getAttribute(h,o+"fixed");delete h.__PREFIX__,h.style[i===HEIGHT?WIDTH:HEIGHT]="",elements.splice(e,1),!elements.length&&removeEvent(window,"resize",resizeAllAutoSizers)}}function resize(h,o){o===void 0&&(o="data-");var e=h.__PREFIX__||o,i=parseInt(getAttribute(h,""+e+WIDTH),10)||0,c=parseInt(getAttribute(h,""+e+HEIGHT),10)||0,f=getAttribute(h,e+"fixed");if(f===HEIGHT){var m=innerHeight(h)||c;h.style[WIDTH]=i/c*m+"px"}else{var m=innerWidth(h)||i;h.style[HEIGHT]=c/i*m+"px"}}function resizeAllAutoSizers(){elements.forEach(function(h){resize(h)})}var Loader=function(h){__extends$1(o,h);function o(i,c){c===void 0&&(c={});var f=h.call(this)||this;f.isReady=!1,f.isPreReady=!1,f.hasDataSize=!1,f.hasLoading=!1,f.isSkip=!1,f.onCheck=function(g){if(f.clear(),g&&g.type==="error"&&f.onError(f.element),!(f.hasLoading&&f.checkElement())){var Te=!f.hasDataSize&&!f.hasLoading;f.onReady(Te)}},f.options=__assign$1({prefix:"data-"},c),f.element=i;var m=f.options.prefix;return f.hasDataSize=hasSizeAttribute(i,m),f.isSkip=hasSkipAttribute(i,m),f.hasLoading=hasLoadingAttribute(i,m),f}var e=o.prototype;return e.check=function(){return this.isSkip||!this.checkElement()?(this.onAlreadyReady(!0),!1):(this.hasDataSize&&addAutoSizer(this.element,this.options.prefix),(this.hasDataSize||this.hasLoading)&&this.onAlreadyPreReady(),!0)},e.addEvents=function(){var i=this,c=this.element;this.constructor.EVENTS.forEach(function(f){addEvent(c,f,i.onCheck)})},e.clear=function(){var i=this,c=this.element;this.constructor.EVENTS.forEach(function(f){removeEvent(c,f,i.onCheck)}),this.removeAutoSizer()},e.destroy=function(){this.clear(),this.off()},e.removeAutoSizer=function(){if(this.hasDataSize){var i=this.options.prefix;removeAutoSizer(this.element,i)}},e.onError=function(i){this.trigger("error",{element:this.element,target:i})},e.onPreReady=function(){this.isPreReady||(this.isPreReady=!0,this.trigger("preReady",{element:this.element,hasLoading:this.hasLoading,isSkip:this.isSkip}))},e.onReady=function(i){this.isReady||(i=!this.isPreReady&&i,i&&(this.isPreReady=!0),this.removeAutoSizer(),this.isReady=!0,this.trigger("ready",{element:this.element,withPreReady:i,hasLoading:this.hasLoading,isSkip:this.isSkip}))},e.onAlreadyError=function(i){var c=this;setTimeout(function(){c.onError(i)})},e.onAlreadyPreReady=function(){var i=this;setTimeout(function(){i.onPreReady()})},e.onAlreadyReady=function(i){var c=this;setTimeout(function(){c.onReady(i)})},o.EVENTS=[],o}(Component),ElementLoader=function(h){__extends$1(o,h);function o(){return h!==null&&h.apply(this,arguments)||this}var e=o.prototype;return e.setHasLoading=function(i){this.hasLoading=i},e.check=function(){return this.isSkip?(this.onAlreadyReady(!0),!1):(this.hasDataSize?(addAutoSizer(this.element,this.options.prefix),this.onAlreadyPreReady()):this.trigger("requestChildren"),!0)},e.checkElement=function(){return!0},e.destroy=function(){this.clear(),this.trigger("requestDestroy"),this.off()},e.onAlreadyPreReady=function(){h.prototype.onAlreadyPreReady.call(this),this.trigger("reqeustReadyChildren")},o.EVENTS=[],o}(Loader),ImReadyManager=function(h){__extends$1(o,h);function o(i){i===void 0&&(i={});var c=h.call(this)||this;return c.readyCount=0,c.preReadyCount=0,c.totalCount=0,c.totalErrorCount=0,c.isPreReadyOver=!0,c.elementInfos=[],c.options=__assign$1({loaders:{},prefix:"data-"},i),c}var e=o.prototype;return e.check=function(i){var c=this,f=this.options.prefix;this.clear(),this.elementInfos=toArray$1(i).map(function(g,Te){var Ee=c.getLoader(g,{prefix:f});return Ee.check(),Ee.on("error",function(Oe){c.onError(Te,Oe.target)}).on("preReady",function(Oe){var ne=c.elementInfos[Te];ne.hasLoading=Oe.hasLoading,ne.isSkip=Oe.isSkip;var De=c.checkPreReady(Te);c.onPreReadyElement(Te),De&&c.onPreReady()}).on("ready",function(Oe){var ne=Oe.withPreReady,De=Oe.hasLoading,Ie=Oe.isSkip,qe=c.elementInfos[Te];qe.hasLoading=De,qe.isSkip=Ie;var Fe=ne&&c.checkPreReady(Te),Ne=c.checkReady(Te);ne&&c.onPreReadyElement(Te),c.onReadyElement(Te),Fe&&c.onPreReady(),Ne&&c.onReady()}),{loader:Ee,element:g,hasLoading:!1,hasError:!1,isPreReady:!1,isReady:!1,isSkip:!1}});var m=this.elementInfos.length;return this.totalCount=m,m||setTimeout(function(){c.onPreReady(),c.onReady()}),this},e.getTotalCount=function(){return this.totalCount},e.isPreReady=function(){return this.elementInfos.every(function(i){return i.isPreReady})},e.isReady=function(){return this.elementInfos.every(function(i){return i.isReady})},e.hasError=function(){return this.totalErrorCount>0},e.clear=function(){this.isPreReadyOver=!1,this.totalCount=0,this.preReadyCount=0,this.readyCount=0,this.totalErrorCount=0,this.elementInfos.forEach(function(i){i.loader&&i.loader.destroy()}),this.elementInfos=[]},e.destroy=function(){this.clear(),this.off()},e.getLoader=function(i,c){var f=this,m=i.tagName.toLowerCase(),g=this.options.loaders,Te=c.prefix,Ee=Object.keys(g);if(g[m])return new g[m](i,c);var Oe=new ElementLoader(i,c),ne=toArray$1(i.querySelectorAll(Ee.join(", ")));Oe.setHasLoading(ne.some(function(qe){return hasLoadingAttribute(qe,Te)}));var De=!1,Ie=this.clone().on("error",function(qe){Oe.onError(qe.target)}).on("ready",function(){Oe.onReady(De)});return Oe.on("requestChildren",function(){var qe=getContentElements(i,Ee,f.options.prefix);Ie.check(qe).on("preReady",function(Fe){De=Fe.isReady,De||Oe.onPreReady()})}).on("reqeustReadyChildren",function(){Ie.check(ne)}).on("requestDestroy",function(){Ie.destroy()}),Oe},e.clone=function(){return new o(__assign$1({},this.options))},e.checkPreReady=function(i){return this.elementInfos[i].isPreReady=!0,++this.preReadyCount,!(this.preReadyCount<this.totalCount)},e.checkReady=function(i){return this.elementInfos[i].isReady=!0,++this.readyCount,!(this.readyCount<this.totalCount)},e.onError=function(i,c){var f=this.elementInfos[i];f.hasError=!0,this.trigger(new ComponentEvent$1("error",{element:f.element,index:i,target:c,errorCount:this.getErrorCount(),totalErrorCount:++this.totalErrorCount}))},e.onPreReadyElement=function(i){var c=this.elementInfos[i];this.trigger(new ComponentEvent$1("preReadyElement",{element:c.element,index:i,preReadyCount:this.preReadyCount,readyCount:this.readyCount,totalCount:this.totalCount,isPreReady:this.isPreReady(),isReady:this.isReady(),hasLoading:c.hasLoading,isSkip:c.isSkip}))},e.onPreReady=function(){this.isPreReadyOver=!0,this.trigger(new ComponentEvent$1("preReady",{readyCount:this.readyCount,totalCount:this.totalCount,isReady:this.isReady(),hasLoading:this.hasLoading()}))},e.onReadyElement=function(i){var c=this.elementInfos[i];this.trigger(new ComponentEvent$1("readyElement",{index:i,element:c.element,hasError:c.hasError,errorCount:this.getErrorCount(),totalErrorCount:this.totalErrorCount,preReadyCount:this.preReadyCount,readyCount:this.readyCount,totalCount:this.totalCount,isPreReady:this.isPreReady(),isReady:this.isReady(),hasLoading:c.hasLoading,isPreReadyOver:this.isPreReadyOver,isSkip:c.isSkip}))},e.onReady=function(){this.trigger(new ComponentEvent$1("ready",{errorCount:this.getErrorCount(),totalErrorCount:this.totalErrorCount,totalCount:this.totalCount}))},e.getErrorCount=function(){return this.elementInfos.filter(function(i){return i.hasError}).length},e.hasLoading=function(){return this.elementInfos.some(function(i){return i.hasLoading})},o}(Component),ImageLoader=function(h){__extends$1(o,h);function o(){return h!==null&&h.apply(this,arguments)||this}var e=o.prototype;return e.checkElement=function(){var i=this.element,c=i.getAttribute("src");if(i.complete){if(c)return i.naturalWidth||this.onAlreadyError(i),!1;this.onAlreadyPreReady()}return this.addEvents(),IS_IE&&i.setAttribute("src",c),!0},o.EVENTS=["load","error"],o}(Loader),VideoLoader=function(h){__extends$1(o,h);function o(){return h!==null&&h.apply(this,arguments)||this}var e=o.prototype;return e.checkElement=function(){var i=this.element;return i.readyState>=1?!1:i.error?(this.onAlreadyError(i),!1):(this.addEvents(),!0)},o.EVENTS=["loadedmetadata","error"],o}(Loader),ImReady=function(h){__extends$1(o,h);function o(e){return e===void 0&&(e={}),h.call(this,__assign$1({loaders:{img:ImageLoader,video:VideoLoader}},e))||this}return o}(ImReadyManager);const ImReady$1=ImReady;var extendStatics=function(h,o){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])},extendStatics(h,o)};function __extends(h,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");extendStatics(h,o);function e(){this.constructor=h}h.prototype=o===null?Object.create(o):(e.prototype=o.prototype,new e)}var __assign=function(){return __assign=Object.assign||function(o){for(var e,i=1,c=arguments.length;i<c;i++){e=arguments[i];for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(o[f]=e[f])}return o},__assign.apply(this,arguments)};function __awaiter(h,o,e,i){function c(f){return f instanceof e?f:new e(function(m){m(f)})}return new(e||(e=Promise))(function(f,m){function g(Oe){try{Ee(i.next(Oe))}catch(ne){m(ne)}}function Te(Oe){try{Ee(i.throw(Oe))}catch(ne){m(ne)}}function Ee(Oe){Oe.done?f(Oe.value):c(Oe.value).then(g,Te)}Ee((i=i.apply(h,o||[])).next())})}function __generator(h,o){var e={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},i,c,f,m;return m={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function g(Ee){return function(Oe){return Te([Ee,Oe])}}function Te(Ee){if(i)throw new TypeError("Generator is already executing.");for(;m&&(m=0,Ee[0]&&(e=0)),e;)try{if(i=1,c&&(f=Ee[0]&2?c.return:Ee[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,Ee[1])).done)return f;switch(c=0,f&&(Ee=[Ee[0]&2,f.value]),Ee[0]){case 0:case 1:f=Ee;break;case 4:return e.label++,{value:Ee[1],done:!1};case 5:e.label++,c=Ee[1],Ee=[0];continue;case 7:Ee=e.ops.pop(),e.trys.pop();continue;default:if(f=e.trys,!(f=f.length>0&&f[f.length-1])&&(Ee[0]===6||Ee[0]===2)){e=0;continue}if(Ee[0]===3&&(!f||Ee[1]>f[0]&&Ee[1]<f[3])){e.label=Ee[1];break}if(Ee[0]===6&&e.label<f[1]){e.label=f[1],f=Ee;break}if(f&&e.label<f[2]){e.label=f[2],e.ops.push(Ee);break}f[2]&&e.ops.pop(),e.trys.pop();continue}Ee=o.call(h,e)}catch(Oe){Ee=[6,Oe],c=0}finally{i=f=0}if(Ee[0]&5)throw Ee[1];return{value:Ee[0]?Ee[1]:void 0,done:!0}}}function __values(h){var o=typeof Symbol=="function"&&Symbol.iterator,e=o&&h[o],i=0;if(e)return e.call(h);if(h&&typeof h.length=="number")return{next:function(){return h&&i>=h.length&&(h=void 0),{value:h&&h[i++],done:!h}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(h,o){var e=typeof Symbol=="function"&&h[Symbol.iterator];if(!e)return h;var i=e.call(h),c,f=[],m;try{for(;(o===void 0||o-- >0)&&!(c=i.next()).done;)f.push(c.value)}catch(g){m={error:g}}finally{try{c&&!c.done&&(e=i.return)&&e.call(i)}finally{if(m)throw m.error}}return f}function __spread(){for(var h=[],o=0;o<arguments.length;o++)h=h.concat(__read(arguments[o]));return h}typeof SuppressedError=="function"&&SuppressedError;var CODE={WRONG_TYPE:0,ELEMENT_NOT_FOUND:1,VAL_MUST_NOT_NULL:2,NOT_ATTACHED_TO_FLICKING:3,WRONG_OPTION:4,INDEX_OUT_OF_RANGE:5,POSITION_NOT_REACHABLE:6,TRANSFORM_NOT_SUPPORTED:7,STOP_CALLED_BY_USER:8,ANIMATION_INTERRUPTED:9,ANIMATION_ALREADY_PLAYING:10,NOT_ALLOWED_IN_FRAMEWORK:11,NOT_INITIALIZED:12,NO_ACTIVE:13,NOT_ALLOWED_IN_VIRTUAL:14},MESSAGE={WRONG_TYPE:function(h,o){return h+"("+typeof h+") is not a "+o.map(function(e){return'"'+e+'"'}).join(" or ")+"."},ELEMENT_NOT_FOUND:function(h){return'Element with selector "'+h+'" not found.'},VAL_MUST_NOT_NULL:function(h,o){return o+" should be provided. Given: "+h},NOT_ATTACHED_TO_FLICKING:'This module is not attached to the Flicking instance. "init()" should be called first.',WRONG_OPTION:function(h,o){return'Option "'+h+'" is not in correct format, given: '+o},INDEX_OUT_OF_RANGE:function(h,o,e){return'Index "'+h+'" is out of range: should be between '+o+" and "+e+"."},POSITION_NOT_REACHABLE:function(h){return'Position "'+h+'" is not reachable.'},TRANSFORM_NOT_SUPPORTED:"Browser does not support CSS transform.",STOP_CALLED_BY_USER:"Event stop() is called by user.",ANIMATION_INTERRUPTED:"Animation is interrupted by user input.",ANIMATION_ALREADY_PLAYING:"Animation is already playing.",NOT_ALLOWED_IN_FRAMEWORK:"This behavior is not allowed in the frameworks like React, Vue, or Angular.",NOT_INITIALIZED:"Flicking is not initialized yet, call init() first.",NO_ACTIVE:"There's no active panel that Flicking has selected. This may be due to the absence of any panels.",NOT_ALLOWED_IN_VIRTUAL:"This behavior is not allowed when the virtual option is enabled"},EVENTS={READY:"ready",BEFORE_RESIZE:"beforeResize",AFTER_RESIZE:"afterResize",HOLD_START:"holdStart",HOLD_END:"holdEnd",MOVE_START:"moveStart",MOVE:"move",MOVE_END:"moveEnd",WILL_CHANGE:"willChange",CHANGED:"changed",WILL_RESTORE:"willRestore",RESTORED:"restored",SELECT:"select",NEED_PANEL:"needPanel",VISIBLE_CHANGE:"visibleChange",REACH_EDGE:"reachEdge",PANEL_CHANGE:"panelChange"},ALIGN={PREV:"prev",CENTER:"center",NEXT:"next"},DIRECTION={PREV:"PREV",NEXT:"NEXT",NONE:null},MOVE_TYPE={SNAP:"snap",FREE_SCROLL:"freeScroll",STRICT:"strict"},CLASS={VERTICAL:"vertical",HIDDEN:"flicking-hidden",DEFAULT_VIRTUAL:"flicking-panel"},CIRCULAR_FALLBACK={LINEAR:"linear",BOUND:"bound"},ORDER={LTR:"ltr",RTL:"rtl"},getElement=function(h,o){var e=null;if(isString(h)){var i=o||document,c=i.querySelector(h);if(!c)throw new FlickingError(MESSAGE.ELEMENT_NOT_FOUND(h),CODE.ELEMENT_NOT_FOUND);e=c}else h&&h.nodeType===Node.ELEMENT_NODE&&(e=h);if(!e)throw new FlickingError(MESSAGE.WRONG_TYPE(h,["HTMLElement","string"]),CODE.WRONG_TYPE);return e},checkExistence=function(h,o){if(h==null)throw new FlickingError(MESSAGE.VAL_MUST_NOT_NULL(h,o),CODE.VAL_MUST_NOT_NULL)},clamp=function(h,o,e){return Math.max(Math.min(h,e),o)},getFlickingAttached=function(h){if(!h)throw new FlickingError(MESSAGE.NOT_ATTACHED_TO_FLICKING,CODE.NOT_ATTACHED_TO_FLICKING);return h},toArray=function(h){return[].slice.call(h)},parseAlign$1=function(h,o){var e;if(isString(h))switch(h){case ALIGN.PREV:e=0;break;case ALIGN.CENTER:e=.5*o;break;case ALIGN.NEXT:e=o;break;default:if(e=parseArithmeticSize(h,o),e==null)throw new FlickingError(MESSAGE.WRONG_OPTION("align",h),CODE.WRONG_OPTION)}else e=h;return e},parseBounce=function(h,o){var e;if(Array.isArray(h))e=h.map(function(c){return parseArithmeticSize(c,o)});else{var i=parseArithmeticSize(h,o);e=[i,i]}return e.map(function(c){if(c==null)throw new FlickingError(MESSAGE.WRONG_OPTION("bounce",h),CODE.WRONG_OPTION);return c})},parseArithmeticSize=function(h,o){var e=parseArithmeticExpression(h);return e==null?null:e.percentage*o+e.absolute},parseArithmeticExpression=function(h){var o=/(?:(\+|\-)\s*)?(\d+(?:\.\d+)?(%|px)?)/g;if(typeof h=="number")return{percentage:0,absolute:h};for(var e={percentage:0,absolute:0},i=0,c=o.exec(h);c!=null;){var f=c[1],m=c[2],g=c[3],Te=parseFloat(m);if(i<=0&&(f=f||"+"),!f)return null;var Ee=f==="+"?1:-1;g==="%"?e.percentage+=Ee*(Te/100):e.absolute+=Ee*Te,++i,c=o.exec(h)}return i===0?null:e},parsePanelAlign=function(h){return typeof h=="object"?h.panel:h},getDirection=function(h,o){return h===o?DIRECTION.NONE:h<o?DIRECTION.NEXT:DIRECTION.PREV},parseElement=function(h){Array.isArray(h)||(h=[h]);var o=[];return h.forEach(function(e){if(isString(e)){var i=document.createElement("div");for(i.innerHTML=e,o.push.apply(o,__spread(toArray(i.children)));i.firstChild;)i.removeChild(i.firstChild)}else if(e&&e.nodeType===Node.ELEMENT_NODE)o.push(e);else throw new FlickingError(MESSAGE.WRONG_TYPE(e,["HTMLElement","string"]),CODE.WRONG_TYPE)}),o},getMinusCompensatedIndex=function(h,o){return h<0?clamp(h+o,0,o):clamp(h,0,o)},includes=function(h,o){var e,i;try{for(var c=__values(h),f=c.next();!f.done;f=c.next()){var m=f.value;if(m===o)return!0}}catch(g){e={error:g}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(e)throw e.error}}return!1},isString=function(h){return typeof h=="string"},circulatePosition=function(h,o,e){var i=e-o;if(h<o){var c=(o-h)%i;h=e-c}else if(h>e){var c=(h-e)%i;h=o+c}return h},find=function(h,o){var e,i;try{for(var c=__values(h),f=c.next();!f.done;f=c.next()){var m=f.value;if(o(m))return m}}catch(g){e={error:g}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(e)throw e.error}}return null},findIndex=function(h,o){for(var e=0;e<h.length;e++)if(o(h[e]))return e;return-1},getProgress=function(h,o,e){return(h-o)/(e-o)},getStyle=function(h){return window.getComputedStyle(h)||h.currentStyle},setSize=function(h,o){var e=o.width,i=o.height;e!=null&&(isString(e)?h.style.width=e:h.style.width=e+"px"),i!=null&&(isString(i)?h.style.height=i:h.style.height=i+"px")},isBetween=function(h,o,e){return h>=o&&h<=e},circulateIndex=function(h,o){return h>=o?h%o:h<0?getMinusCompensatedIndex((h+1)%o-1,o):h},range=function(h){for(var o=new Array(h),e=0;e<h;e++)o[e]=e;return o},getElementSize=function(h){var o=h.el,e=h.horizontal,i=h.useFractionalSize,c=h.useOffset,f=h.style,m=0;if(i){var g=parseFloat(e?f.width:f.height)||0,Te=f.boxSizing==="border-box",Ee=e?parseFloat(f.borderLeftWidth||"0")+parseFloat(f.borderRightWidth||"0"):parseFloat(f.borderTopWidth||"0")+parseFloat(f.borderBottomWidth||"0");if(Te)m=c?g:g-Ee;else{var Oe=e?parseFloat(f.paddingLeft||"0")+parseFloat(f.paddingRight||"0"):parseFloat(f.paddingTop||"0")+parseFloat(f.paddingBottom||"0");m=c?g+Oe+Ee:g+Oe}}else{var ne=e?"Width":"Height";m=c?o["offset"+ne]:o["client"+ne]}return Math.max(m,0)},setPrototypeOf=Object.setPrototypeOf||function(h,o){return h.__proto__=o,h},FlickingError=function(h){__extends(o,h);function o(e,i){var c=h.call(this,e)||this;return setPrototypeOf(c,o.prototype),c.name="FlickingError",c.code=i,c}return o}(Error),Viewport=function(){function h(e,i){this._flicking=e,this._el=i,this._width=0,this._height=0,this._padding={left:0,right:0,top:0,bottom:0},this._isBorderBoxSizing=!1}var o=h.prototype;return Object.defineProperty(o,"element",{get:function(){return this._el},enumerable:!1,configurable:!0}),Object.defineProperty(o,"width",{get:function(){return this._width-this._padding.left-this._padding.right},enumerable:!1,configurable:!0}),Object.defineProperty(o,"height",{get:function(){return this._height-this._padding.top-this._padding.bottom},enumerable:!1,configurable:!0}),Object.defineProperty(o,"padding",{get:function(){return this._padding},enumerable:!1,configurable:!0}),o.setSize=function(e){var i=e.width,c=e.height,f=this._el,m=this._padding,g=this._isBorderBoxSizing;if(i!=null)if(isString(i))f.style.width=i;else{var Te=g?i+m.left+m.right:i;f.style.width=Te+"px"}if(c!=null)if(isString(c))f.style.height=c;else{var Ee=g?c+m.top+m.bottom:c;f.style.height=Ee+"px"}this.resize()},o.resize=function(){var e=this._el,i=getStyle(e),c=this._flicking.useFractionalSize;this._width=getElementSize({el:e,horizontal:!0,useFractionalSize:c,useOffset:!1,style:i}),this._height=getElementSize({el:e,horizontal:!1,useFractionalSize:c,useOffset:!1,style:i}),this._padding={left:i.paddingLeft?parseFloat(i.paddingLeft):0,right:i.paddingRight?parseFloat(i.paddingRight):0,top:i.paddingTop?parseFloat(i.paddingTop):0,bottom:i.paddingBottom?parseFloat(i.paddingBottom):0},this._isBorderBoxSizing=i.boxSizing==="border-box"},h}(),AutoResizer=function(){function h(e){var i=this;this._onResize=function(){var c=i._flicking,f=c.resizeDebounce,m=c.maxResizeDebounce;f<=0?c.resize():(i._maxResizeDebounceTimer<=0&&m>0&&m>=f&&(i._maxResizeDebounceTimer=window.setTimeout(i._doScheduledResize,m)),i._resizeTimer>0&&(clearTimeout(i._resizeTimer),i._resizeTimer=0),i._resizeTimer=window.setTimeout(i._doScheduledResize,f))},this._doScheduledResize=function(){clearTimeout(i._resizeTimer),clearTimeout(i._maxResizeDebounceTimer),i._maxResizeDebounceTimer=-1,i._resizeTimer=-1,i._flicking.resize()},this._skipFirstResize=function(){var c=!0;return function(){if(c){c=!1;return}i._onResize()}}(),this._flicking=e,this._enabled=!1,this._resizeObserver=null,this._resizeTimer=-1,this._maxResizeDebounceTimer=-1}var o=h.prototype;return Object.defineProperty(o,"enabled",{get:function(){return this._enabled},enumerable:!1,configurable:!0}),o.enable=function(){var e=this._flicking,i=e.viewport;if(this._enabled&&this.disable(),e.useResizeObserver&&window.ResizeObserver){var c=i.width!==0||i.height!==0,f=c?new ResizeObserver(this._skipFirstResize):new ResizeObserver(this._onResize);f.observe(e.viewport.element),this._resizeObserver=f}else window.addEventListener("resize",this._onResize);return this._enabled=!0,this},o.disable=function(){if(!this._enabled)return this;var e=this._resizeObserver;return e?(e.disconnect(),this._resizeObserver=null):window.removeEventListener("resize",this._onResize),this._enabled=!1,this},h}(),VanillaElementProvider=function(){function h(e){this._element=e,this._rendered=!0}var o=h.prototype;return Object.defineProperty(o,"element",{get:function(){return this._element},enumerable:!1,configurable:!0}),Object.defineProperty(o,"rendered",{get:function(){return this._rendered},enumerable:!1,configurable:!0}),o.show=function(e){var i=this.element,c=e.camera.element;i.parentElement!==c&&(c.appendChild(i),this._rendered=!0)},o.hide=function(e){var i=this.element,c=e.camera.element;i.parentElement===c&&(c.removeChild(i),this._rendered=!1)},h}(),VirtualElementProvider=function(){function h(e){this._flicking=e}var o=h.prototype;return Object.defineProperty(o,"element",{get:function(){return this._virtualElement.nativeElement},enumerable:!1,configurable:!0}),Object.defineProperty(o,"rendered",{get:function(){return this._virtualElement.visible},enumerable:!1,configurable:!0}),Object.defineProperty(o,"_virtualElement",{get:function(){var e=this._flicking,i=this._panel.elementIndex,c=e.virtual.elements;return c[i]},enumerable:!1,configurable:!0}),o.init=function(e){this._panel=e},o.show=function(){},o.hide=function(){},h}(),VirtualManager=function(){function h(e,i){var c,f,m,g;this._flicking=e,this._renderPanel=(c=i==null?void 0:i.renderPanel)!==null&&c!==void 0?c:function(){return""},this._initialPanelCount=(f=i==null?void 0:i.initialPanelCount)!==null&&f!==void 0?f:-1,this._cache=(m=i==null?void 0:i.cache)!==null&&m!==void 0?m:!1,this._panelClass=(g=i==null?void 0:i.panelClass)!==null&&g!==void 0?g:CLASS.DEFAULT_VIRTUAL,this._elements=[]}var o=h.prototype;return Object.defineProperty(o,"elements",{get:function(){return this._elements},enumerable:!1,configurable:!0}),Object.defineProperty(o,"renderPanel",{get:function(){return this._renderPanel},set:function(e){this._renderPanel=e,this._flicking.renderer.panels.forEach(function(i){return i.uncacheRenderResult()})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"initialPanelCount",{get:function(){return this._initialPanelCount},enumerable:!1,configurable:!0}),Object.defineProperty(o,"cache",{get:function(){return this._cache},set:function(e){this._cache=e},enumerable:!1,configurable:!0}),Object.defineProperty(o,"panelClass",{get:function(){return this._panelClass},set:function(e){this._panelClass=e},enumerable:!1,configurable:!0}),o.init=function(){var e=this._flicking;if(e.virtualEnabled){!e.externalRenderer&&!e.renderExternal&&this._initVirtualElements();var i=e.camera.children;this._elements=i.map(function(c){return{nativeElement:c,visible:!0}})}},o.show=function(e){var i=this._elements[e],c=i.nativeElement;i.visible=!0,c.style.display&&(c.style.display="")},o.hide=function(e){var i=this._elements[e],c=i.nativeElement;i.visible=!1,c.style.display="none"},o.append=function(e){e===void 0&&(e=1);var i=this._flicking;return this.insert(i.panels.length,e)},o.prepend=function(e){return e===void 0&&(e=1),this.insert(0,e)},o.insert=function(e,i){if(i===void 0&&(i=1),i<=0)return[];var c=this._flicking;return c.renderer.batchInsert({index:e,elements:range(i),hasDOMInElements:!1})},o.remove=function(e,i){if(i<=0)return[];var c=this._flicking;return c.renderer.batchRemove({index:e,deleteCount:i,hasDOMInElements:!1})},o._initVirtualElements=function(){var e=this,i=this._flicking,c=i.camera.element,f=i.panelsPerView,m=document.createDocumentFragment(),g=range(f+1).map(function(Te){var Ee=document.createElement("div");return Ee.className=e._panelClass,Ee.dataset.elementIndex=Te.toString(),Ee});g.forEach(function(Te){m.appendChild(Te)}),c.appendChild(m)},h}(),EVENT={HOLD:"hold",CHANGE:"change",RELEASE:"release",ANIMATION_END:"animationEnd",FINISH:"finish"},POSITION_KEY="flick",STATE_TYPE;(function(h){h[h.IDLE=0]="IDLE",h[h.HOLDING=1]="HOLDING",h[h.DRAGGING=2]="DRAGGING",h[h.ANIMATING=3]="ANIMATING",h[h.DISABLED=4]="DISABLED"})(STATE_TYPE||(STATE_TYPE={}));var State=function(){function h(){this._delta=0,this._targetPanel=null}var o=h.prototype;return Object.defineProperty(o,"delta",{get:function(){return this._delta},enumerable:!1,configurable:!0}),Object.defineProperty(o,"targetPanel",{get:function(){return this._targetPanel},set:function(e){this._targetPanel=e},enumerable:!1,configurable:!0}),o.onEnter=function(e){this._delta=e._delta,this._targetPanel=e._targetPanel},o.onHold=function(e){},o.onChange=function(e){},o.onRelease=function(e){},o.onAnimationEnd=function(e){},o.onFinish=function(e){},o._moveToChangedPosition=function(e){var i=e.flicking,c=e.axesEvent,f=e.transitTo,m=c.delta[POSITION_KEY];if(m){this._delta+=m;var g=i.camera,Te=g.position,Ee=c.pos[POSITION_KEY],Oe=i.circularEnabled?circulatePosition(Ee,g.range.min,g.range.max):Ee;g.lookAt(Oe);var ne=new ComponentEvent$1(EVENTS.MOVE,{isTrusted:c.isTrusted,holding:this.holding,direction:getDirection(0,c.delta[POSITION_KEY]),axesEvent:c});i.trigger(ne),ne.isCanceled()&&(g.lookAt(Te),f(STATE_TYPE.DISABLED))}},h}(),IdleState=function(h){__extends(o,h);function o(){var i=h!==null&&h.apply(this,arguments)||this;return i.holding=!1,i.animating=!1,i}var e=o.prototype;return e.onEnter=function(){this._delta=0,this._targetPanel=null},e.onHold=function(i){var c=i.flicking,f=i.axesEvent,m=i.transitTo;if(c.renderer.panelCount<=0){m(STATE_TYPE.DISABLED);return}var g=new ComponentEvent$1(EVENTS.HOLD_START,{axesEvent:f});c.trigger(g),g.isCanceled()?m(STATE_TYPE.DISABLED):m(STATE_TYPE.HOLDING)},e.onChange=function(i){var c=i.flicking,f=i.axesEvent,m=i.transitTo,g=c.control.controller,Te=g.animatingContext,Ee=new ComponentEvent$1(EVENTS.MOVE_START,{isTrusted:f.isTrusted,holding:this.holding,direction:getDirection(Te.start,Te.end),axesEvent:f});c.trigger(Ee),Ee.isCanceled()?m(STATE_TYPE.DISABLED):m(STATE_TYPE.ANIMATING).onChange(i)},o}(State),HoldingState=function(h){__extends(o,h);function o(){var i=h!==null&&h.apply(this,arguments)||this;return i.holding=!0,i.animating=!1,i._releaseEvent=null,i}var e=o.prototype;return e.onChange=function(i){var c=i.flicking,f=i.axesEvent,m=i.transitTo,g=f.inputEvent,Te=c.horizontal?g.offsetX:g.offsetY,Ee=new ComponentEvent$1(EVENTS.MOVE_START,{isTrusted:f.isTrusted,holding:this.holding,direction:getDirection(0,-Te),axesEvent:f});c.trigger(Ee),Ee.isCanceled()?m(STATE_TYPE.DISABLED):m(STATE_TYPE.DRAGGING).onChange(i)},e.onRelease=function(i){var c=i.flicking,f=i.axesEvent,m=i.transitTo;if(c.trigger(new ComponentEvent$1(EVENTS.HOLD_END,{axesEvent:f})),f.delta.flick!==0){f.setTo({flick:c.camera.position},0),m(STATE_TYPE.IDLE);return}this._releaseEvent=f},e.onFinish=function(i){var c,f,m=i.flicking,g=i.transitTo;if(g(STATE_TYPE.IDLE),!!this._releaseEvent){var Te=this._releaseEvent,Ee=Te.inputEvent.srcEvent,Oe;if(Ee.type==="touchend"){var ne=Ee,De=ne.changedTouches[0];Oe=document.elementFromPoint(De.clientX,De.clientY)}else Oe=Ee.target;var Ie=m.renderer.panels,qe=null;try{for(var Fe=__values(Ie),Ne=Fe.next();!Ne.done;Ne=Fe.next()){var Ve=Ne.value;if(Ve.contains(Oe)){qe=Ve;break}}}catch(He){c={error:He}}finally{try{Ne&&!Ne.done&&(f=Fe.return)&&f.call(Fe)}finally{if(c)throw c.error}}if(qe){var Ue=m.camera.position,We=qe.position;m.trigger(new ComponentEvent$1(EVENTS.SELECT,{index:qe.index,panel:qe,direction:getDirection(Ue,We)}))}}},o}(State),DraggingState=function(h){__extends(o,h);function o(){var i=h!==null&&h.apply(this,arguments)||this;return i.holding=!0,i.animating=!0,i}var e=o.prototype;return e.onChange=function(i){this._moveToChangedPosition(i)},e.onRelease=function(i){var c,f=i.flicking,m=i.axesEvent,g=i.transitTo;if(f.trigger(new ComponentEvent$1(EVENTS.HOLD_END,{axesEvent:m})),f.renderer.panelCount<=0){g(STATE_TYPE.IDLE);return}g(STATE_TYPE.ANIMATING);var Te=f.control,Ee=m.destPos[POSITION_KEY],Oe=Math.max(m.duration,f.duration);try{Te.moveToPosition(Ee,Oe,m)}catch{g(STATE_TYPE.IDLE),m.setTo((c={},c[POSITION_KEY]=f.camera.position,c),0)}},o}(State),AnimatingState=function(h){__extends(o,h);function o(){var i=h!==null&&h.apply(this,arguments)||this;return i.holding=!1,i.animating=!0,i}var e=o.prototype;return e.onHold=function(i){var c=i.flicking,f=i.axesEvent,m=i.transitTo,g=this._targetPanel,Te=c.control;this._delta=0,c.control.updateInput(),c.changeOnHold&&g&&Te.setActive(g,Te.activePanel,f.isTrusted);var Ee=new ComponentEvent$1(EVENTS.HOLD_START,{axesEvent:f});c.trigger(Ee),Ee.isCanceled()?m(STATE_TYPE.DISABLED):m(STATE_TYPE.DRAGGING)},e.onChange=function(i){this._moveToChangedPosition(i)},e.onFinish=function(i){var c=i.flicking,f=i.axesEvent,m=i.transitTo,g=c.control,Te=g.controller,Ee=Te.animatingContext;m(STATE_TYPE.IDLE),c.trigger(new ComponentEvent$1(EVENTS.MOVE_END,{isTrusted:f.isTrusted,direction:getDirection(Ee.start,Ee.end),axesEvent:f}));var Oe=this._targetPanel;Oe&&g.setActive(Oe,g.activePanel,f.isTrusted)},o}(State),DisabledState=function(h){__extends(o,h);function o(){var i=h!==null&&h.apply(this,arguments)||this;return i.holding=!1,i.animating=!0,i}var e=o.prototype;return e.onAnimationEnd=function(i){var c=i.transitTo;c(STATE_TYPE.IDLE)},e.onChange=function(i){var c=i.axesEvent,f=i.transitTo;c.stop(),f(STATE_TYPE.IDLE)},e.onRelease=function(i){var c=i.axesEvent,f=i.transitTo;c.delta.flick===0&&f(STATE_TYPE.IDLE)},o}(State),StateMachine=function(){function h(){var e=this;this.transitTo=function(i){var c;switch(i){case STATE_TYPE.IDLE:c=new IdleState;break;case STATE_TYPE.HOLDING:c=new HoldingState;break;case STATE_TYPE.DRAGGING:c=new DraggingState;break;case STATE_TYPE.ANIMATING:c=new AnimatingState;break;case STATE_TYPE.DISABLED:c=new DisabledState;break}return c.onEnter(e._state),e._state=c,e._state},this._state=new IdleState}var o=h.prototype;return Object.defineProperty(o,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),o.fire=function(e,i){var c=this._state,f=__assign(__assign({},i),{transitTo:this.transitTo});switch(e){case EVENT.HOLD:c.onHold(f);break;case EVENT.CHANGE:c.onChange(f);break;case EVENT.RELEASE:c.onRelease(f);break;case EVENT.ANIMATION_END:c.onAnimationEnd(f);break;case EVENT.FINISH:c.onFinish(f);break}},h}(),AxesController=function(){function h(){var e=this;this._onAxesHold=function(){e._dragged=!1},this._onAxesChange=function(){var i;e._dragged=!!(!((i=e._panInput)===null||i===void 0)&&i.isEnabled())},this._preventClickWhenDragged=function(i){e._dragged&&(i.preventDefault(),i.stopPropagation()),e._dragged=!1},this._resetInternalValues(),this._stateMachine=new StateMachine}var o=h.prototype;return Object.defineProperty(o,"axes",{get:function(){return this._axes},enumerable:!1,configurable:!0}),Object.defineProperty(o,"panInput",{get:function(){return this._panInput},enumerable:!1,configurable:!0}),Object.defineProperty(o,"stateMachine",{get:function(){return this._stateMachine},enumerable:!1,configurable:!0}),Object.defineProperty(o,"state",{get:function(){return this._stateMachine.state},enumerable:!1,configurable:!0}),Object.defineProperty(o,"animatingContext",{get:function(){return this._animatingContext},enumerable:!1,configurable:!0}),Object.defineProperty(o,"controlParams",{get:function(){var e=this._axes;if(!e)return{range:{min:0,max:0},position:0,circular:!1};var i=e.axis[POSITION_KEY];return{range:{min:i.range[0],max:i.range[1]},circular:i.circular[0],position:this.position}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"enabled",{get:function(){var e,i;return(i=(e=this._panInput)===null||e===void 0?void 0:e.isEnabled())!==null&&i!==void 0?i:!1},enumerable:!1,configurable:!0}),Object.defineProperty(o,"position",{get:function(){var e,i;return(i=(e=this._axes)===null||e===void 0?void 0:e.get([POSITION_KEY])[POSITION_KEY])!==null&&i!==void 0?i:0},enumerable:!1,configurable:!0}),Object.defineProperty(o,"range",{get:function(){var e,i;return(i=(e=this._axes)===null||e===void 0?void 0:e.axis[POSITION_KEY].range)!==null&&i!==void 0?i:[0,0]},enumerable:!1,configurable:!0}),Object.defineProperty(o,"bounce",{get:function(){var e;return(e=this._axes)===null||e===void 0?void 0:e.axis[POSITION_KEY].bounce},enumerable:!1,configurable:!0}),o.init=function(e){var i,c=this;this._flicking=e,this._axes=new Axes$1((i={},i[POSITION_KEY]={range:[0,0],circular:!1,bounce:[0,0]},i),{deceleration:e.deceleration,interruptable:e.interruptable,nested:e.nested,easing:e.easing}),this._panInput=new PanInput(e.viewport.element,{inputType:e.inputType,threshold:1,iOSEdgeSwipeThreshold:e.iOSEdgeSwipeThreshold,preventDefaultOnDrag:e.preventDefaultOnDrag,scale:e.horizontal?[e.camera.panelOrder===ORDER.RTL?1:-1,0]:[0,-1],releaseOnScroll:!0});var f=this._axes;f.connect(e.horizontal?[POSITION_KEY,""]:["",POSITION_KEY],this._panInput);var m=function(Te){var Ee=EVENT[Te];f.on(Ee,function(Oe){c._stateMachine.fire(Ee,{flicking:e,axesEvent:Oe})})};for(var g in EVENT)m(g);return this},o.destroy=function(){var e;this._axes&&(this.removePreventClickHandler(),this._axes.destroy()),(e=this._panInput)===null||e===void 0||e.destroy(),this._resetInternalValues()},o.enable=function(){var e;return(e=this._panInput)===null||e===void 0||e.enable(),this},o.disable=function(){var e;return(e=this._panInput)===null||e===void 0||e.disable(),this},o.release=function(){var e;return(e=this._panInput)===null||e===void 0||e.release(),this},o.updateAnimation=function(e,i){var c,f;return this._animatingContext=__assign(__assign({},this._animatingContext),{end:e}),(f=this._axes)===null||f===void 0||f.updateAnimation({destPos:(c={},c[POSITION_KEY]=e,c),duration:i}),this},o.stopAnimation=function(){var e;return(e=this._axes)===null||e===void 0||e.stopAnimation(),this},o.update=function(e){var i,c=getFlickingAttached(this._flicking),f=c.camera,m=this._axes,g=m.axis[POSITION_KEY];return g.circular=[e.circular,e.circular],g.range=[e.range.min,e.range.max],g.bounce=parseBounce(c.bounce,f.size),m.axisManager.set((i={},i[POSITION_KEY]=e.position,i)),this},o.addPreventClickHandler=function(){var e=getFlickingAttached(this._flicking),i=this._axes,c=e.camera.element;return i.on(EVENT.HOLD,this._onAxesHold),i.on(EVENT.CHANGE,this._onAxesChange),c.addEventListener("click",this._preventClickWhenDragged,!0),this},o.removePreventClickHandler=function(){var e=getFlickingAttached(this._flicking),i=this._axes,c=e.camera.element;return i.off(EVENT.HOLD,this._onAxesHold),i.off(EVENT.CHANGE,this._onAxesChange),c.removeEventListener("click",this._preventClickWhenDragged,!0),this},o.animateTo=function(e,i,c){var f=this,m,g=this._axes,Te=this._stateMachine.state;if(!g)return Promise.reject(new FlickingError(MESSAGE.NOT_ATTACHED_TO_FLICKING,CODE.NOT_ATTACHED_TO_FLICKING));var Ee=g.get([POSITION_KEY])[POSITION_KEY];if(Ee===e){var Oe=getFlickingAttached(this._flicking);return Oe.camera.lookAt(e),Te.targetPanel&&Oe.control.setActive(Te.targetPanel,Oe.control.activePanel,(m=c==null?void 0:c.isTrusted)!==null&&m!==void 0?m:!1),Promise.resolve()}this._animatingContext={start:Ee,end:e,offset:0};var ne=function(){var De,Ie,qe=function(){f._animatingContext={start:0,end:0,offset:0}};g.once(EVENT.FINISH,qe),c?c.setTo((De={},De[POSITION_KEY]=e,De),i):g.setTo((Ie={},Ie[POSITION_KEY]=e,Ie),i)};return new Promise(function(De,Ie){var qe=function(){g.off(EVENT.HOLD,Fe),De()},Fe=function(){g.off(EVENT.FINISH,qe),Ie(new FlickingError(MESSAGE.ANIMATION_INTERRUPTED,CODE.ANIMATION_INTERRUPTED))};g.once(EVENT.FINISH,qe),g.once(EVENT.HOLD,Fe),ne()})},o.updateDirection=function(){var e=getFlickingAttached(this._flicking),i=this._axes,c=this._panInput;i.disconnect(c),i.connect(e.horizontal?[POSITION_KEY,""]:["",POSITION_KEY],c),c.options.scale=e.horizontal?[e.camera.panelOrder===ORDER.RTL?1:-1,0]:[0,-1]},o._resetInternalValues=function(){this._flicking=null,this._axes=null,this._panInput=null,this._animatingContext={start:0,end:0,offset:0},this._dragged=!1},h}(),Control=function(){function h(){this._flicking=null,this._controller=new AxesController,this._activePanel=null}var o=h.prototype;return Object.defineProperty(o,"controller",{get:function(){return this._controller},enumerable:!1,configurable:!0}),Object.defineProperty(o,"activeIndex",{get:function(){var e,i;return(i=(e=this._activePanel)===null||e===void 0?void 0:e.index)!==null&&i!==void 0?i:-1},enumerable:!1,configurable:!0}),Object.defineProperty(o,"activePanel",{get:function(){return this._activePanel},enumerable:!1,configurable:!0}),Object.defineProperty(o,"animating",{get:function(){return this._controller.state.animating},enumerable:!1,configurable:!0}),Object.defineProperty(o,"holding",{get:function(){return this._controller.state.holding},enumerable:!1,configurable:!0}),o.init=function(e){return this._flicking=e,this._controller.init(e),this},o.destroy=function(){this._controller.destroy(),this._flicking=null,this._activePanel=null},o.enable=function(){return this._controller.enable(),this},o.disable=function(){return this._controller.disable(),this},o.release=function(){return this._controller.release(),this},o.updateAnimation=function(e,i,c){var f=this._controller.state,m=this._getPosition(e,c??DIRECTION.NONE);return f.targetPanel=e,this._controller.updateAnimation(m,i),this},o.stopAnimation=function(){var e=this._controller.state;return e.targetPanel=null,this._controller.stopAnimation(),this},o.updatePosition=function(e){var i=getFlickingAttached(this._flicking),c=i.camera,f=this._activePanel;f&&c.lookAt(c.clampToReachablePosition(f.position))},o.updateInput=function(){var e=getFlickingAttached(this._flicking),i=e.camera;return this._controller.update(i.controlParams),this},o.resetActive=function(){return this._activePanel=null,this},o.moveToPanel=function(e,i){var c=i.duration,f=i.direction,m=f===void 0?DIRECTION.NONE:f,g=i.axesEvent;return __awaiter(this,void 0,void 0,function(){var Te;return __generator(this,function(Ee){return Te=this._getPosition(e,m),this._triggerIndexChangeEvent(e,e.position,g,m),[2,this._animateToPosition({position:Te,duration:c,newActivePanel:e,axesEvent:g})]})})},o.setActive=function(e,i,c){var f,m=getFlickingAttached(this._flicking);this._activePanel=e,this._nextPanel=null,m.camera.updateAdaptiveHeight(),e!==i?m.trigger(new ComponentEvent$1(EVENTS.CHANGED,{index:e.index,panel:e,prevIndex:(f=i==null?void 0:i.index)!==null&&f!==void 0?f:-1,prevPanel:i,isTrusted:c,direction:i?getDirection(i.position,e.position):DIRECTION.NONE})):m.trigger(new ComponentEvent$1(EVENTS.RESTORED,{isTrusted:c}))},o.copy=function(e){this._flicking=e._flicking,this._activePanel=e._activePanel,this._controller=e._controller},o._triggerIndexChangeEvent=function(e,i,c,f){var m,g=getFlickingAttached(this._flicking),Te=e!==this._activePanel?EVENTS.WILL_CHANGE:EVENTS.WILL_RESTORE,Ee=g.camera,Oe=this._activePanel,ne=new ComponentEvent$1(Te,{index:e.index,panel:e,isTrusted:(c==null?void 0:c.isTrusted)||!1,direction:f??getDirection((m=Oe==null?void 0:Oe.position)!==null&&m!==void 0?m:Ee.position,i)});if(this._nextPanel=e,g.trigger(ne),ne.isCanceled())throw new FlickingError(MESSAGE.STOP_CALLED_BY_USER,CODE.STOP_CALLED_BY_USER)},o._animateToPosition=function(e){var i=e.position,c=e.duration,f=e.newActivePanel,m=e.axesEvent;return __awaiter(this,void 0,void 0,function(){var g,Te,Ee,Oe=this;return __generator(this,function(ne){return g=getFlickingAttached(this._flicking),Te=function(){return Oe._controller.animateTo(i,c,m)},Ee=this._controller.state,Ee.targetPanel=f,c<=0?[2,Te()]:[2,Te().then(function(){return __awaiter(Oe,void 0,void 0,function(){return __generator(this,function(De){switch(De.label){case 0:return[4,g.renderer.render()];case 1:return De.sent(),[2]}})})}).catch(function(De){if(!(m&&De instanceof FlickingError&&De.code===CODE.ANIMATION_INTERRUPTED))throw De})]})})},o._getPosition=function(e,i){i===void 0&&(i=DIRECTION.NONE);var c=getFlickingAttached(this._flicking),f=c.camera,m=e.position,g=f.findNearestAnchor(m);if(e.removed||!g)throw new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(e.position),CODE.POSITION_NOT_REACHABLE);if(!f.canReach(e))m=g.position,e=g.panel;else if(c.circularEnabled){var Te=this._controller.position,Ee=f.rangeDiff,Oe=[m,m+Ee,m-Ee].filter(function(ne){return i===DIRECTION.NONE?!0:i===DIRECTION.PREV?ne<=Te:ne>=Te});m=Oe.reduce(function(ne,De){return Math.abs(Te-De)<Math.abs(Te-ne)?De:ne},1/0)}return m},h}(),AnchorPoint=function(){function h(e){var i=e.index,c=e.position,f=e.panel;this._index=i,this._pos=c,this._panel=f}var o=h.prototype;return Object.defineProperty(o,"index",{get:function(){return this._index},enumerable:!1,configurable:!0}),Object.defineProperty(o,"position",{get:function(){return this._pos},enumerable:!1,configurable:!0}),Object.defineProperty(o,"panel",{get:function(){return this._panel},enumerable:!1,configurable:!0}),h}(),SnapControl=function(h){__extends(o,h);function o(i){var c=(i===void 0?{}:i).count,f=c===void 0?1/0:c,m=h.call(this)||this;return m._count=f,m}var e=o.prototype;return Object.defineProperty(e,"count",{get:function(){return this._count},set:function(i){this._count=i},enumerable:!1,configurable:!0}),e.moveToPosition=function(i,c,f){var m=getFlickingAttached(this._flicking),g=m.camera,Te=g.findActiveAnchor(),Ee=g.findNearestAnchor(g.position),Oe=this._controller.state;if(!Te||!Ee)return Promise.reject(new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(i),CODE.POSITION_NOT_REACHABLE));var ne=this._calcSnapThreshold(m.threshold,i,Te),De=m.animating?Oe.delta:i-g.position,Ie=Math.abs(De),qe=f&&f.delta[POSITION_KEY]!==0?Math.abs(f.delta[POSITION_KEY]):Ie,Fe;if(qe>=ne&&qe>0)Fe=this._findSnappedAnchor(i,Ee);else if(Ie>=m.threshold&&Ie>0)Fe=this._findAdjacentAnchor(i,De,Ee);else return this.moveToPanel(Ee.panel,{duration:c,axesEvent:f});return this._triggerIndexChangeEvent(Fe.panel,i,f),this._animateToPosition({position:g.clampToReachablePosition(Fe.position),duration:c,newActivePanel:Fe.panel,axesEvent:f})},e._findSnappedAnchor=function(i,c){var f=getFlickingAttached(this._flicking),m=f.camera,g=this._count,Te=m.position,Ee=m.clampToReachablePosition(i),Oe=m.findAnchorIncludePosition(Ee);if(!c||!Oe)throw new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(i),CODE.POSITION_NOT_REACHABLE);if(!isFinite(g))return Oe;var ne=f.panelCount,De=m.anchorPoints,Ie=Math.sign(i-Te)*Math.floor(Math.abs(i-Te)/m.rangeDiff);i>Te&&Oe.index<c.index||Oe.position>c.position&&Oe.index===c.index?Ie+=1:(i<Te&&Oe.index>c.index||Oe.position<c.position&&Oe.index===c.index)&&(Ie-=1);var qe=Ie*ne,Fe=Oe.index+qe;if(Math.abs(Fe-c.index)<=g){var Ne=De[Oe.index];return new AnchorPoint({index:Ne.index,position:Ne.position+Ie*m.rangeDiff,panel:Ne.panel})}if(f.circularEnabled){var Ve=De[circulateIndex(c.index+Math.sign(i-Te)*g,ne)],Ue=Math.floor(g/ne);return i>Te&&Ve.index<c.index?Ue+=1:i<Te&&Ve.index>c.index&&(Ue-=1),new AnchorPoint({index:Ve.index,position:Ve.position+Ue*m.rangeDiff,panel:Ve.panel})}else return De[clamp(c.index+Math.sign(i-Te)*g,0,De.length-1)]},e._findAdjacentAnchor=function(i,c,f){var m,g=getFlickingAttached(this._flicking),Te=g.camera;if(Te.circularEnabled){var Ee=Te.findAnchorIncludePosition(i);if(Ee&&Ee.position!==f.position)return Ee}var Oe=(m=c>0?Te.getNextAnchor(f):Te.getPrevAnchor(f))!==null&&m!==void 0?m:f;return Oe},e._calcSnapThreshold=function(i,c,f){var m=c>f.position,g=f.panel,Te=g.size,Ee=g.alignPosition;return Math.max(i,m?Te-Ee+g.margin.next:Ee+g.margin.prev)},o}(Control),FreeControl=function(h){__extends(o,h);function o(i){var c=(i===void 0?{}:i).stopAtEdge,f=c===void 0?!0:c,m=h.call(this)||this;return m._stopAtEdge=f,m}var e=o.prototype;return Object.defineProperty(e,"stopAtEdge",{get:function(){return this._stopAtEdge},set:function(i){this._stopAtEdge=i},enumerable:!1,configurable:!0}),e.updatePosition=function(i){var c=getFlickingAttached(this._flicking),f=c.camera,m=this._activePanel;if(m){var g=m.range,Te=g.min+(g.max-g.min)*i;f.lookAt(f.clampToReachablePosition(Te))}},e.moveToPosition=function(i,c,f){var m=getFlickingAttached(this._flicking),g=m.camera,Te=g.clampToReachablePosition(i),Ee=g.findAnchorIncludePosition(Te);if(!Ee)return Promise.reject(new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(i),CODE.POSITION_NOT_REACHABLE));var Oe=Ee.panel;return Oe!==this._activePanel&&this._triggerIndexChangeEvent(Oe,i,f),this._animateToPosition({position:this._stopAtEdge?Te:i,duration:c,newActivePanel:Oe,axesEvent:f})},o}(Control),StrictControl=function(h){__extends(o,h);function o(i){var c=(i===void 0?{}:i).count,f=c===void 0?1:c,m=h.call(this)||this;return m.setActive=function(g,Te,Ee){h.prototype.setActive.call(m,g,Te,Ee),m.updateInput()},m._count=f,m._resetIndexRange(),m}var e=o.prototype;return Object.defineProperty(e,"count",{get:function(){return this._count},set:function(i){this._count=i},enumerable:!1,configurable:!0}),e.destroy=function(){h.prototype.destroy.call(this),this._resetIndexRange()},e.updateInput=function(){var i,c=getFlickingAttached(this._flicking),f=c.camera,m=c.renderer,g=this._controller,Te=f.controlParams,Ee=this._count,Oe=g.state.animating?(i=f.findNearestAnchor(f.position))===null||i===void 0?void 0:i.panel:this._activePanel;if(!Oe)return g.update(Te),this._resetIndexRange(),this;var ne=Te.range,De=Oe.position,Ie=Oe.index,qe=m.panelCount,Fe=Ie-Ee,Ne=Ie+Ee;Fe<0&&(Fe=c.circularEnabled?getMinusCompensatedIndex((Fe+1)%qe-1,qe):clamp(Fe,0,qe-1)),Ne>=qe&&(Ne=c.circularEnabled?Ne%qe:clamp(Ne,0,qe-1));var Ve=m.panels[Fe],Ue=m.panels[Ne],We=Math.max(Ve.position,ne.min),He=Math.min(Ue.position,ne.max);return We>De&&(We-=f.rangeDiff),He<De&&(He+=f.rangeDiff),Te.range={min:We,max:He},Te.circular&&(Te.position<We&&(Te.position+=f.rangeDiff),Te.position>He&&(Te.position-=f.rangeDiff)),Te.circular=!1,g.update(Te),this._indexRange={min:Ve.index,max:Ue.index},this},e.moveToPanel=function(i,c){return __awaiter(this,void 0,void 0,function(){var f,m,g;return __generator(this,function(Te){return f=getFlickingAttached(this._flicking),m=f.camera,g=this._controller,g.update(m.controlParams),[2,h.prototype.moveToPanel.call(this,i,c)]})})},e.moveToPosition=function(i,c,f){var m,g=getFlickingAttached(this._flicking),Te=g.camera,Ee=(m=this._nextPanel)!==null&&m!==void 0?m:this._activePanel,Oe=this._controller.range,ne=this._indexRange,De=Te.range,Ie=this._controller.state,qe=clamp(Te.clampToReachablePosition(i),Oe[0],Oe[1]),Fe=Te.findAnchorIncludePosition(qe);if(!Fe||!Ee)return Promise.reject(new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(i),CODE.POSITION_NOT_REACHABLE));var Ne=Ee.position,Ve=g.animating?Ie.delta:i-Te.position,Ue=Math.abs(Ve)>=g.threshold,We=i>Ne?Te.getNextAnchor(Fe):Te.getPrevAnchor(Fe),He,Xe,ot=Te.anchorPoints,tt=ot[0],mt=ot[ot.length-1],gt=i<=De.min&&isBetween(tt.panel.index,ne.min,ne.max),rt=i>=De.max&&isBetween(mt.panel.index,ne.min,ne.max),pt=We&&(ne.min<=ne.max?isBetween(We.index,ne.min,ne.max):We.index>=ne.min||We.index<=ne.max);if(gt||rt){var it=i<De.min?tt:mt;Xe=it.panel,He=it.position}else if(Ue&&Fe.position!==Ee.position)Xe=Fe.panel,He=Fe.position;else if(Ue&&pt)Xe=We.panel,He=We.position;else{var vt=Te.findNearestAnchor(Te.position);return vt?this.moveToPanel(vt.panel,{duration:c,axesEvent:f}):Promise.reject(new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(i),CODE.POSITION_NOT_REACHABLE))}return this._triggerIndexChangeEvent(Xe,i,f),this._animateToPosition({position:He,duration:c,newActivePanel:Xe,axesEvent:f})},e._resetIndexRange=function(){this._indexRange={min:0,max:0}},o}(Control),CameraMode=function(){function h(e){this._flicking=e}var o=h.prototype;return o.getAnchors=function(){var e=this._flicking.renderer.panels;return e.map(function(i,c){return new AnchorPoint({index:c,position:i.position,panel:i})})},o.findAnchorIncludePosition=function(e){var i=this._flicking.camera.anchorPoints,c=i.filter(function(f){return f.panel.includePosition(e,!0)});return c.reduce(function(f,m){return f&&Math.abs(f.position-e)<Math.abs(m.position-e)?f:m},null)},o.findNearestAnchor=function(e){var i=this._flicking.camera.anchorPoints;if(i.length<=0)return null;for(var c=1/0,f=0;f<i.length;f++){var m=i[f],g=Math.abs(m.position-e);if(g>c)return i[f-1];c=g}return i[i.length-1]},o.clampToReachablePosition=function(e){var i=this._flicking.camera,c=i.range;return clamp(e,c.min,c.max)},o.getCircularOffset=function(){return 0},o.canReach=function(e){var i=this._flicking.camera,c=i.range;if(e.removed)return!1;var f=e.position;return f>=c.min&&f<=c.max},o.canSee=function(e){var i=this._flicking.camera,c=i.visibleRange;return e.isVisibleOnRange(c.min,c.max)},h}(),LinearCameraMode=function(h){__extends(o,h);function o(){return h!==null&&h.apply(this,arguments)||this}var e=o.prototype;return e.checkAvailability=function(){return!0},e.getRange=function(){var i,c,f=this._flicking.renderer,m=f.getPanel(0),g=f.getPanel(f.panelCount-1);return{min:(i=m==null?void 0:m.position)!==null&&i!==void 0?i:0,max:(c=g==null?void 0:g.position)!==null&&c!==void 0?c:0}},o}(CameraMode),CircularCameraMode=function(h){__extends(o,h);function o(){return h!==null&&h.apply(this,arguments)||this}var e=o.prototype;return e.checkAvailability=function(){var i=this._flicking,c=i.renderer,f=c.panels;if(f.length<=0)return!1;var m=f[0],g=f[f.length-1],Te=m.range.min-m.margin.prev,Ee=g.range.max+g.margin.next,Oe=i.camera.size,ne=Ee-Te,De=f.every(function(Ie){return ne-Ie.size>=Oe});return De},e.getRange=function(){var i=this._flicking,c=i.renderer.panels;if(c.length<=0)return{min:0,max:0};var f=c[0],m=c[c.length-1],g=f.range.min-f.margin.prev,Te=m.range.max+m.margin.next;return{min:g,max:Te}},e.getAnchors=function(){var i=this._flicking,c=i.renderer.panels;return c.map(function(f,m){return new AnchorPoint({index:m,position:f.position,panel:f})})},e.findNearestAnchor=function(i){var c=this._flicking.camera,f=c.anchorPoints;if(f.length<=0)return null;for(var m=c.range,g=1/0,Te=-1,Ee=0;Ee<f.length;Ee++){var Oe=f[Ee],ne=Math.min(Math.abs(Oe.position-i),Math.abs(Oe.position-m.min+m.max-i),Math.abs(i-m.min+m.max-Oe.position));ne<g&&(g=ne,Te=Ee)}return f[Te]},e.findAnchorIncludePosition=function(i){var c=this._flicking.camera,f=c.range,m=c.anchorPoints,g=c.rangeDiff,Te=m.length,Ee=circulatePosition(i,f.min,f.max),Oe=h.prototype.findAnchorIncludePosition.call(this,Ee);if(Te>0&&(i===f.min||i===f.max)){var ne=[Oe,new AnchorPoint({index:0,position:m[0].position+g,panel:m[0].panel}),new AnchorPoint({index:Te-1,position:m[Te-1].position-g,panel:m[Te-1].panel})].filter(function(Ie){return!!Ie});Oe=ne.reduce(function(Ie,qe){return Ie&&Math.abs(Ie.position-i)<Math.abs(qe.position-i)?Ie:qe},null)}if(!Oe)return null;if(i<f.min){var De=-Math.floor((f.min-i)/g)-1;return new AnchorPoint({index:Oe.index,position:Oe.position+g*De,panel:Oe.panel})}else if(i>f.max){var De=Math.floor((i-f.max)/g)+1;return new AnchorPoint({index:Oe.index,position:Oe.position+g*De,panel:Oe.panel})}return Oe},e.getCircularOffset=function(){var i=this._flicking,c=i.camera;if(!c.circularEnabled)return 0;var f=i.panels.filter(function(Te){return Te.toggled}),m=f.filter(function(Te){return Te.toggleDirection===DIRECTION.PREV}),g=f.filter(function(Te){return Te.toggleDirection===DIRECTION.NEXT});return this._calcPanelAreaSum(m)-this._calcPanelAreaSum(g)},e.clampToReachablePosition=function(i){return i},e.canReach=function(i){return!i.removed},e.canSee=function(i){var c=this._flicking.camera,f=c.range,m=c.rangeDiff,g=c.visibleRange,Te=h.prototype.canSee.call(this,i);return g.min<f.min?Te||i.isVisibleOnRange(g.min+m,g.max+m):g.max>f.max?Te||i.isVisibleOnRange(g.min-m,g.max-m):Te},e._calcPanelAreaSum=function(i){return i.reduce(function(c,f){return c+f.sizeIncludingMargin},0)},o}(CameraMode),BoundCameraMode=function(h){__extends(o,h);function o(){return h!==null&&h.apply(this,arguments)||this}var e=o.prototype;return e.checkAvailability=function(){var i=this._flicking,c=i.renderer,f=c.getPanel(0),m=c.getPanel(c.panelCount-1);if(!f||!m)return!1;var g=i.camera.size,Te=f.range.min,Ee=m.range.max,Oe=Ee-Te,ne=g<Oe;return ne},e.getRange=function(){var i=this._flicking,c=i.renderer,f=i.camera.alignPosition,m=c.getPanel(0),g=c.getPanel(c.panelCount-1);if(!m||!g)return{min:0,max:0};var Te=i.camera.size,Ee=m.range.min,Oe=g.range.max,ne=Oe-Ee,De=Te<ne,Ie=Ee+f,qe=Oe-Te+f;if(De)return{min:Ie,max:qe};var Fe=i.camera.align,Ne=typeof Fe=="object"?Fe.camera:Fe,Ve=Ie+parseAlign$1(Ne,qe-Ie);return{min:Ve,max:Ve}},e.getAnchors=function(){var i=this._flicking,c=i.camera,f=i.renderer.panels;if(f.length<=0)return[];var m=i.camera.range,g=f.filter(function(Fe){return c.canReach(Fe)});if(g.length>0){var Te=g[0].position!==m.min,Ee=g[g.length-1].position!==m.max,Oe=Te?1:0,ne=g.map(function(Fe,Ne){return new AnchorPoint({index:Ne+Oe,position:Fe.position,panel:Fe})});return Te&&ne.splice(0,0,new AnchorPoint({index:0,position:m.min,panel:f[g[0].index-1]})),Ee&&ne.push(new AnchorPoint({index:ne.length,position:m.max,panel:f[g[g.length-1].index+1]})),ne}else if(m.min!==m.max){var De=this._findNearestPanel(m.min,f),Ie=De.index===f.length-1?De.prev():De,qe=Ie.next();return[new AnchorPoint({index:0,position:m.min,panel:Ie}),new AnchorPoint({index:1,position:m.max,panel:qe})]}else return[new AnchorPoint({index:0,position:m.min,panel:this._findNearestPanel(m.min,f)})]},e.findAnchorIncludePosition=function(i){var c=this._flicking.camera,f=c.range,m=c.anchorPoints;return m.length<=0?null:i<=f.min?m[0]:i>=f.max?m[m.length-1]:h.prototype.findAnchorIncludePosition.call(this,i)},e._findNearestPanel=function(i,c){for(var f=1/0,m=0;m<c.length;m++){var g=c[m],Te=Math.abs(g.position-i);if(Te>f)return c[m-1];f=Te}return c[c.length-1]},o}(CameraMode),Camera=function(){function h(e,i){var c=this,f=(i===void 0?{}:i).align,m=f===void 0?ALIGN.CENTER:f;this._checkTranslateSupport=function(){var g,Te,Ee=["webkitTransform","msTransform","MozTransform","OTransform","transform"],Oe=document.documentElement.style,ne="";try{for(var De=__values(Ee),Ie=De.next();!Ie.done;Ie=De.next()){var qe=Ie.value;qe in Oe&&(ne=qe)}}catch(Fe){g={error:Fe}}finally{try{Ie&&!Ie.done&&(Te=De.return)&&Te.call(De)}finally{if(g)throw g.error}}if(!ne)throw new FlickingError(MESSAGE.TRANSFORM_NOT_SUPPORTED,CODE.TRANSFORM_NOT_SUPPORTED);c._transform=ne},this._flicking=e,this._resetInternalValues(),this._align=m}var o=h.prototype;return Object.defineProperty(o,"element",{get:function(){return this._el},enumerable:!1,configurable:!0}),Object.defineProperty(o,"children",{get:function(){return toArray(this._el.children)},enumerable:!1,configurable:!0}),Object.defineProperty(o,"position",{get:function(){return this._position},enumerable:!1,configurable:!0}),Object.defineProperty(o,"alignPosition",{get:function(){return this._alignPos},enumerable:!1,configurable:!0}),Object.defineProperty(o,"offset",{get:function(){return this._offset-this._circularOffset},enumerable:!1,configurable:!0}),Object.defineProperty(o,"circularEnabled",{get:function(){return this._circularEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(o,"mode",{get:function(){return this._mode},enumerable:!1,configurable:!0}),Object.defineProperty(o,"range",{get:function(){return this._range},enumerable:!1,configurable:!0}),Object.defineProperty(o,"rangeDiff",{get:function(){return this._range.max-this._range.min},enumerable:!1,configurable:!0}),Object.defineProperty(o,"visiblePanels",{get:function(){return this._visiblePanels},enumerable:!1,configurable:!0}),Object.defineProperty(o,"visibleRange",{get:function(){return{min:this._position-this._alignPos,max:this._position-this._alignPos+this.size}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"anchorPoints",{get:function(){return this._anchors},enumerable:!1,configurable:!0}),Object.defineProperty(o,"controlParams",{get:function(){return{range:this._range,position:this._position,circular:this._circularEnabled}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"atEdge",{get:function(){return this._position<=this._range.min||this._position>=this._range.max},enumerable:!1,configurable:!0}),Object.defineProperty(o,"size",{get:function(){var e=this._flicking;return e?e.horizontal?e.viewport.width:e.viewport.height:0},enumerable:!1,configurable:!0}),Object.defineProperty(o,"progress",{get:function(){var e=this._flicking,i=this._position+this._offset,c=this.findNearestAnchor(this._position);if(!e||!c)return NaN;var f=c.panel,m=f.position+f.offset,g=e.control.controller.bounce,Te=this.range,Ee=Te.min,Oe=Te.max,ne=this.rangeDiff;if(i===m)return f.index;if(i<m){var De=f.prev(),Ie=De?De.position+De.offset:Ee-g[0];return Ie>m&&(Ie-=ne),f.index-1+getProgress(i,Ie,m)}else{var qe=f.next(),Fe=qe?qe.position+qe.offset:Oe+g[1];return Fe<m&&(Fe+=ne),f.index+getProgress(i,m,Fe)}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"panelOrder",{get:function(){return this._panelOrder},enumerable:!1,configurable:!0}),Object.defineProperty(o,"align",{get:function(){return this._align},set:function(e){this._align=e},enumerable:!1,configurable:!0}),o.init=function(){var e=this._flicking.viewport.element;return checkExistence(e.firstElementChild,"First element child of the viewport element"),this._el=e.firstElementChild,this._checkTranslateSupport(),this._updateMode(),this.updatePanelOrder(),this},o.destroy=function(){return this._resetInternalValues(),this},o.lookAt=function(e){var i=this,c=getFlickingAttached(this._flicking),f=this._position;this._position=e;var m=this._togglePanels(f,e);this._refreshVisiblePanels(),this._checkNeedPanel(),this._checkReachEnd(f,e),m?c.renderer.render().then(function(){i.updateOffset()}):this.applyTransform()},o.getPrevAnchor=function(e){if(!this._circularEnabled||e.index!==0)return this._anchors[e.index-1]||null;var i=this._anchors,c=this.rangeDiff,f=i[i.length-1];return new AnchorPoint({index:f.index,position:f.position-c,panel:f.panel})},o.getNextAnchor=function(e){var i=this._anchors;if(!this._circularEnabled||e.index!==i.length-1)return i[e.index+1]||null;var c=this.rangeDiff,f=i[0];return new AnchorPoint({index:f.index,position:f.position+c,panel:f.panel})},o.getProgressInPanel=function(e){var i=e.range;return(this._position-i.min)/(i.max-i.min)},o.findAnchorIncludePosition=function(e){return this._mode.findAnchorIncludePosition(e)},o.findNearestAnchor=function(e){return this._mode.findNearestAnchor(e)},o.findActiveAnchor=function(){var e,i=getFlickingAttached(this._flicking),c=i.control.activePanel;return c?(e=find(this._anchors,function(f){return f.panel.index===c.index}))!==null&&e!==void 0?e:this.findNearestAnchor(c.position):null},o.clampToReachablePosition=function(e){return this._mode.clampToReachablePosition(e)},o.canReach=function(e){return this._mode.canReach(e)},o.canSee=function(e){return this._mode.canSee(e)},o.updateRange=function(){var e=getFlickingAttached(this._flicking),i=e.renderer,c=i.panels;return this._updateMode(),this._range=this._mode.getRange(),c.forEach(function(f){return f.updateCircularToggleDirection()}),this},o.updateAlignPos=function(){var e=this._align,i=typeof e=="object"?e.camera:e;return this._alignPos=parseAlign$1(i,this.size),this},o.updateAnchors=function(){return this._anchors=this._mode.getAnchors(),this},o.updateAdaptiveHeight=function(){var e=getFlickingAttached(this._flicking),i=e.control.activePanel;!e.horizontal||!e.adaptive||!i||e.viewport.setSize({height:i.height})},o.updateOffset=function(){var e=getFlickingAttached(this._flicking),i=this._position,c=e.panels.filter(function(f){return!f.rendered});return this._offset=c.filter(function(f){return f.position+f.offset<i}).reduce(function(f,m){return f+m.sizeIncludingMargin},0),this._circularOffset=this._mode.getCircularOffset(),this.applyTransform(),this},o.updatePanelOrder=function(){var e=getFlickingAttached(this._flicking);if(!e.horizontal)return this;var i=this._el,c=getStyle(i).direction;return c!==this._panelOrder&&(this._panelOrder=c===ORDER.RTL?ORDER.RTL:ORDER.LTR,e.initialized&&e.control.controller.updateDirection()),this},o.resetNeedPanelHistory=function(){return this._needPanelTriggered={prev:!1,next:!1},this},o.applyTransform=function(){var e=this._el,i=getFlickingAttached(this._flicking),c=i.renderer;if(c.rendering||!i.initialized)return this;var f=this._position-this._alignPos-this._offset+this._circularOffset;return e.style[this._transform]=i.horizontal?"translate("+(this._panelOrder===ORDER.RTL?f:-f)+"px)":"translate(0, "+-f+"px)",this},o._resetInternalValues=function(){this._position=0,this._alignPos=0,this._offset=0,this._circularOffset=0,this._circularEnabled=!1,this._range={min:0,max:0},this._visiblePanels=[],this._anchors=[],this._needPanelTriggered={prev:!1,next:!1}},o._refreshVisiblePanels=function(){var e=this,i=getFlickingAttached(this._flicking),c=i.renderer.panels,f=c.filter(function(Ee){return e.canSee(Ee)}),m=this._visiblePanels;this._visiblePanels=f;var g=f.filter(function(Ee){return!includes(m,Ee)}),Te=m.filter(function(Ee){return!includes(f,Ee)});(g.length>0||Te.length>0)&&i.renderer.render().then(function(){i.trigger(new ComponentEvent$1(EVENTS.VISIBLE_CHANGE,{added:g,removed:Te,visiblePanels:f}))})},o._checkNeedPanel=function(){var e=this._needPanelTriggered;if(!(e.prev&&e.next)){var i=getFlickingAttached(this._flicking),c=i.renderer.panels;if(c.length<=0){e.prev||(i.trigger(new ComponentEvent$1(EVENTS.NEED_PANEL,{direction:DIRECTION.PREV})),e.prev=!0),e.next||(i.trigger(new ComponentEvent$1(EVENTS.NEED_PANEL,{direction:DIRECTION.NEXT})),e.next=!0);return}var f=this._position,m=this.size,g=this._range,Te=i.needPanelThreshold,Ee=f-this._alignPos,Oe=Ee+m,ne=c[0],De=c[c.length-1];if(!e.prev){var Ie=ne.range.min;(Ee<=Ie+Te||f<=g.min+Te)&&(i.trigger(new ComponentEvent$1(EVENTS.NEED_PANEL,{direction:DIRECTION.PREV})),e.prev=!0)}if(!e.next){var qe=De.range.max;(Oe>=qe-Te||f>=g.max-Te)&&(i.trigger(new ComponentEvent$1(EVENTS.NEED_PANEL,{direction:DIRECTION.NEXT})),e.next=!0)}}},o._checkReachEnd=function(e,i){var c=getFlickingAttached(this._flicking),f=this._range,m=e>f.min&&e<f.max,g=i>f.min&&i<f.max;if(!(!m||g)){var Te=i<=f.min?DIRECTION.PREV:DIRECTION.NEXT;c.trigger(new ComponentEvent$1(EVENTS.REACH_EDGE,{direction:Te}))}},o._updateMode=function(){var e=getFlickingAttached(this._flicking);if(e.circular){var i=new CircularCameraMode(e),c=i.checkAvailability();if(c)this._mode=i;else{var f=e.circularFallback;this._mode=f===CIRCULAR_FALLBACK.BOUND?new BoundCameraMode(e):new LinearCameraMode(e)}this._circularEnabled=c}else this._mode=e.bound?new BoundCameraMode(e):new LinearCameraMode(e),this._circularEnabled=!1},o._togglePanels=function(e,i){if(i===e)return!1;var c=getFlickingAttached(this._flicking),f=c.renderer.panels,m=f.map(function(g){return g.toggle(e,i)});return m.some(function(g){return g})},h}(),Renderer=function(){function h(e){var i=e.align,c=i===void 0?ALIGN.CENTER:i,f=e.strategy;this._flicking=null,this._panels=[],this._rendering=!1,this._align=c,this._strategy=f}var o=h.prototype;return Object.defineProperty(o,"panels",{get:function(){return this._panels},enumerable:!1,configurable:!0}),Object.defineProperty(o,"rendering",{get:function(){return this._rendering},enumerable:!1,configurable:!0}),Object.defineProperty(o,"panelCount",{get:function(){return this._panels.length},enumerable:!1,configurable:!0}),Object.defineProperty(o,"strategy",{get:function(){return this._strategy},enumerable:!1,configurable:!0}),Object.defineProperty(o,"align",{get:function(){return this._align},set:function(e){this._align=e;var i=parsePanelAlign(e);this._panels.forEach(function(c){c.align=i})},enumerable:!1,configurable:!0}),o.init=function(e){return this._flicking=e,this._collectPanels(),this},o.destroy=function(){this._flicking=null,this._panels=[]},o.getPanel=function(e){return this._panels[e]||null},o.forceRenderAllPanels=function(){return this._panels.forEach(function(e){return e.markForShow()}),Promise.resolve()},o.updatePanelSize=function(){var e=getFlickingAttached(this._flicking),i=this._panels;if(i.length<=0)return this;if(e.panelsPerView>0){var c=i[0];c.resize(),this._updatePanelSizeByGrid(c,i)}else e.panels.forEach(function(f){return f.resize()});return this},o.batchInsert=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var c=this.batchInsertDefer.apply(this,__spread(e));return c.length<=0?[]:(this.updateAfterPanelChange(c,[]),c)},o.batchInsertDefer=function(){for(var e=this,i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];var f=this._panels,m=getFlickingAttached(this._flicking),g=f[0],Te=parsePanelAlign(this._align),Ee=i.reduce(function(Oe,ne){var De,Ie=getMinusCompensatedIndex(ne.index,f.length),qe=f.slice(Ie),Fe=ne.elements.map(function(Ve,Ue){return e._createPanel(Ve,{index:Ie+Ue,align:Te,flicking:m})});if(f.splice.apply(f,__spread([Ie,0],Fe)),ne.hasDOMInElements&&e._insertPanelElements(Fe,(De=qe[0])!==null&&De!==void 0?De:null),m.panelsPerView>0){var Ne=g||Fe[0].resize();e._updatePanelSizeByGrid(Ne,Fe)}else Fe.forEach(function(Ve){return Ve.resize()});return qe.forEach(function(Ve){Ve.increaseIndex(Fe.length),Ve.updatePosition()}),__spread(Oe,Fe)},[]);return Ee},o.batchRemove=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var c=this.batchRemoveDefer.apply(this,__spread(e));return c.length<=0?[]:(this.updateAfterPanelChange([],c),c)},o.batchRemoveDefer=function(){for(var e=this,i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];var f=this._panels,m=getFlickingAttached(this._flicking),g=m.control,Te=g.activePanel,Ee=i.reduce(function(Oe,ne){var De=ne.index,Ie=ne.deleteCount,qe=getMinusCompensatedIndex(De,f.length),Fe=f.slice(qe+Ie),Ne=f.splice(qe,Ie);return Ne.length<=0?[]:(Fe.forEach(function(Ve){Ve.decreaseIndex(Ne.length),Ve.updatePosition()}),ne.hasDOMInElements&&e._removePanelElements(Ne),Ne.forEach(function(Ve){return Ve.destroy()}),includes(Ne,Te)&&g.resetActive(),__spread(Oe,Ne))},[]);return Ee},o.updateAfterPanelChange=function(e,i){var c,f=getFlickingAttached(this._flicking),m=f.camera,g=f.control,Te=this._panels,Ee=g.activePanel;if(this._updateCameraAndControl(),this.render(),!f.animating)if(!Ee||Ee.removed)if(Te.length<=0)m.lookAt(0);else{var Oe=(c=Ee==null?void 0:Ee.index)!==null&&c!==void 0?c:0;Oe>Te.length-1&&(Oe=Te.length-1),g.moveToPanel(Te[Oe],{duration:0}).catch(function(){})}else g.moveToPanel(Ee,{duration:0}).catch(function(){});f.camera.updateOffset(),(e.length>0||i.length>0)&&(f.trigger(new ComponentEvent$1(EVENTS.PANEL_CHANGE,{added:e,removed:i})),this.checkPanelContentsReady(__spread(e,i)))},o.checkPanelContentsReady=function(e){var i=this,c=getFlickingAttached(this._flicking),f=c.resizeOnContentsReady,m=this._panels;if(!(!f||c.virtualEnabled)){var g=function(Ee){return Ee.element&&!!Ee.element.querySelector("img, video")};if(e=e.filter(function(Ee){return g(Ee)}),!(e.length<=0)){var Te=new ImReady$1;e.forEach(function(Ee){Ee.loading=!0}),Te.on("readyElement",function(Ee){if(!i._flicking){Te.destroy();return}var Oe=e[Ee.index],ne=c.camera,De=c.control,Ie=De.activePanel?ne.getProgressInPanel(De.activePanel):0;Oe.loading=!1,Oe.resize(),m.slice(Oe.index+1).forEach(function(qe){return qe.updatePosition()}),c.initialized&&(ne.updateRange(),ne.updateOffset(),ne.updateAnchors(),De.animating||(De.updatePosition(Ie),De.updateInput()))}),Te.on("preReady",function(Ee){i._flicking&&i.render(),Ee.readyCount===Ee.totalCount&&Te.destroy()}),Te.on("ready",function(){i._flicking&&i.render(),Te.destroy()}),Te.check(e.map(function(Ee){return Ee.element}))}}},o._updateCameraAndControl=function(){var e=getFlickingAttached(this._flicking),i=e.camera,c=e.control;i.updateRange(),i.updateOffset(),i.updateAnchors(),i.resetNeedPanelHistory(),c.updateInput()},o._showOnlyVisiblePanels=function(e){var i=e.renderer.panels,c=e.camera,f=c.visiblePanels.reduce(function(m,g){return m[g.index]=!0,m},{});i.forEach(function(m){m.index in f||m.loading?m.markForShow():e.holding||m.markForHide()})},o._updatePanelSizeByGrid=function(e,i){var c=getFlickingAttached(this._flicking),f=c.panelsPerView;if(f<=0)throw new FlickingError(MESSAGE.WRONG_OPTION("panelsPerView",f),CODE.WRONG_OPTION);if(!(i.length<=0)){var m=c.camera.size,g=e.margin.prev+e.margin.next,Te=(m-g*(f-1))/f,Ee=c.horizontal?{width:Te}:{height:Te},Oe=__assign({size:Te,margin:e.margin},!c.horizontal&&{height:e.height});c.noPanelStyleOverride||this._strategy.updatePanelSizes(c,Ee),c.panels.forEach(function(ne){return ne.resize(Oe)})}},o._removeAllChildsFromCamera=function(){for(var e=getFlickingAttached(this._flicking),i=e.camera.element;i.firstChild;)i.removeChild(i.firstChild)},o._insertPanelElements=function(e,i){i===void 0&&(i=null);var c=getFlickingAttached(this._flicking),f=c.camera,m=f.element,g=(i==null?void 0:i.element)||null,Te=document.createDocumentFragment();e.forEach(function(Ee){return Te.appendChild(Ee.element)}),m.insertBefore(Te,g)},o._removePanelElements=function(e){var i=getFlickingAttached(this._flicking),c=i.camera.element;e.forEach(function(f){c.removeChild(f.element)})},o._afterRender=function(){var e=getFlickingAttached(this._flicking);e.camera.applyTransform()},h}(),VanillaRenderer=function(h){__extends(o,h);function o(){return h!==null&&h.apply(this,arguments)||this}var e=o.prototype;return e.render=function(){return __awaiter(this,void 0,void 0,function(){var i,c;return __generator(this,function(f){return i=getFlickingAttached(this._flicking),c=this._strategy,c.updateRenderingPanels(i),c.renderPanels(i),this._resetPanelElementOrder(),this._afterRender(),[2]})})},e._collectPanels=function(){var i=getFlickingAttached(this._flicking),c=i.camera;this._removeAllTextNodes(),this._panels=this._strategy.collectPanels(i,c.children)},e._createPanel=function(i,c){return this._strategy.createPanel(i,c)},e._resetPanelElementOrder=function(){var i=getFlickingAttached(this._flicking),c=i.camera.element,f=this._strategy.getRenderingElementsByOrder(i).reverse();f.forEach(function(m,g){var Te=f[g-1]?f[g-1]:null;m.nextElementSibling!==Te&&c.insertBefore(m,Te)})},e._removeAllTextNodes=function(){var i=getFlickingAttached(this._flicking),c=i.camera.element;toArray(c.childNodes).forEach(function(f){f.nodeType===Node.TEXT_NODE&&c.removeChild(f)})},o}(Renderer),Panel=function(){function h(e){var i=e.index,c=e.align,f=e.flicking,m=e.elementProvider;this._index=i,this._flicking=f,this._elProvider=m,this._align=c,this._removed=!1,this._rendered=!0,this._loading=!1,this._resetInternalStates()}var o=h.prototype;return Object.defineProperty(o,"element",{get:function(){return this._elProvider.element},enumerable:!1,configurable:!0}),Object.defineProperty(o,"elementProvider",{get:function(){return this._elProvider},enumerable:!1,configurable:!0}),Object.defineProperty(o,"index",{get:function(){return this._index},enumerable:!1,configurable:!0}),Object.defineProperty(o,"position",{get:function(){return this._pos+this._alignPos},enumerable:!1,configurable:!0}),Object.defineProperty(o,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),Object.defineProperty(o,"sizeIncludingMargin",{get:function(){return this._size+this._margin.prev+this._margin.next},enumerable:!1,configurable:!0}),Object.defineProperty(o,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),Object.defineProperty(o,"margin",{get:function(){return this._margin},enumerable:!1,configurable:!0}),Object.defineProperty(o,"alignPosition",{get:function(){return this._alignPos},enumerable:!1,configurable:!0}),Object.defineProperty(o,"removed",{get:function(){return this._removed},enumerable:!1,configurable:!0}),Object.defineProperty(o,"rendered",{get:function(){return this._rendered},enumerable:!1,configurable:!0}),Object.defineProperty(o,"loading",{get:function(){return this._loading},set:function(e){this._loading=e},enumerable:!1,configurable:!0}),Object.defineProperty(o,"range",{get:function(){return{min:this._pos,max:this._pos+this._size}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"toggled",{get:function(){return this._toggled},enumerable:!1,configurable:!0}),Object.defineProperty(o,"toggleDirection",{get:function(){return this._toggleDirection},enumerable:!1,configurable:!0}),Object.defineProperty(o,"offset",{get:function(){var e=this._toggleDirection,i=this._flicking.camera.rangeDiff;return e===DIRECTION.NONE||!this._toggled?0:e===DIRECTION.PREV?-i:i},enumerable:!1,configurable:!0}),Object.defineProperty(o,"progress",{get:function(){var e=this._flicking;return this.index-e.camera.progress},enumerable:!1,configurable:!0}),Object.defineProperty(o,"outsetProgress",{get:function(){var e=this.position+this.offset,i=this._alignPos,c=this._flicking.camera,f=c.position;if(f===e)return 0;if(f<e){var m=e+(c.size-c.alignPosition)+i;return-getProgress(f,e,m)}else{var g=e-(c.alignPosition+this._size-i);return 1-getProgress(f,g,e)}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"visibleRatio",{get:function(){var e=this.range,i=this._size,c=this.offset,f=this._flicking.camera.visibleRange,m={min:e.min+c,max:e.max+c};if(m.max<=f.min||m.min>=f.max)return 0;var g=i;return f.min>m.min&&(g-=f.min-m.min),f.max<m.max&&(g-=m.max-f.max),g/i},enumerable:!1,configurable:!0}),Object.defineProperty(o,"align",{get:function(){return this._align},set:function(e){this._align=e,this._updateAlignPos()},enumerable:!1,configurable:!0}),o.markForShow=function(){this._rendered=!0,this._elProvider.show(this._flicking)},o.markForHide=function(){this._rendered=!1,this._elProvider.hide(this._flicking)},o.resize=function(e){var i,c=this.element,f=this._flicking,m=f.horizontal,g=f.useFractionalSize;if(e)this._size=e.size,this._margin=__assign({},e.margin),this._height=(i=e.height)!==null&&i!==void 0?i:getElementSize({el:c,horizontal:!1,useFractionalSize:g,useOffset:!0,style:getStyle(c)});else{var Te=getStyle(c);this._size=getElementSize({el:c,horizontal:m,useFractionalSize:g,useOffset:!0,style:Te}),this._margin=m?{prev:parseFloat(Te.marginLeft||"0"),next:parseFloat(Te.marginRight||"0")}:{prev:parseFloat(Te.marginTop||"0"),next:parseFloat(Te.marginBottom||"0")},this._height=m?getElementSize({el:c,horizontal:!1,useFractionalSize:g,useOffset:!0,style:Te}):this._size}return this.updatePosition(),this._updateAlignPos(),this},o.setSize=function(e){return setSize(this.element,e),this},o.contains=function(e){var i;return!!(!((i=this.element)===null||i===void 0)&&i.contains(e))},o.destroy=function(){this._resetInternalStates(),this._removed=!0},o.includePosition=function(e,i){return i===void 0&&(i=!1),this.includeRange(e,e,i)},o.includeRange=function(e,i,c){c===void 0&&(c=!1);var f=this._margin,m=this.range;return c&&(m.min-=f.prev,m.max+=f.next),i>=m.min&&e<=m.max},o.isVisibleOnRange=function(e,i){var c=this.range;return i>c.min&&e<c.max},o.focus=function(e){return this._flicking.moveTo(this._index,e)},o.prev=function(){var e=this._index,i=this._flicking,c=i.renderer,f=c.panelCount;return f===1?null:i.circularEnabled?c.getPanel(e===0?f-1:e-1):c.getPanel(e-1)},o.next=function(){var e=this._index,i=this._flicking,c=i.renderer,f=c.panelCount;return f===1?null:i.circularEnabled?c.getPanel(e===f-1?0:e+1):c.getPanel(e+1)},o.increaseIndex=function(e){return this._index+=Math.max(e,0),this},o.decreaseIndex=function(e){return this._index-=Math.max(e,0),this},o.updatePosition=function(){var e=this._flicking.renderer.panels[this._index-1];return this._pos=e?e.range.max+e.margin.next+this._margin.prev:this._margin.prev,this},o.toggle=function(e,i){var c=this._toggleDirection,f=this._togglePosition;if(c===DIRECTION.NONE||i===e)return!1;var m=this._toggled;return i>e?f>=e&&f<=i&&(this._toggled=c===DIRECTION.NEXT):f<=e&&f>=i&&(this._toggled=c!==DIRECTION.NEXT),m!==this._toggled},o.updateCircularToggleDirection=function(){var e=this._flicking;if(!e.circularEnabled)return this._toggleDirection=DIRECTION.NONE,this._togglePosition=0,this._toggled=!1,this;var i=e.camera,c=i.range,f=i.alignPosition,m=i.visibleRange,g=m.max-m.min,Te=c.min-f,Ee=c.max-f+g,Oe=this.includeRange(Ee-g,Ee,!1),ne=this.includeRange(Te,Te+g,!1);return this._toggled=!1,Oe?(this._toggleDirection=DIRECTION.PREV,this._togglePosition=this.range.max+c.min-c.max+f,this.toggle(1/0,i.position)):ne?(this._toggleDirection=DIRECTION.NEXT,this._togglePosition=this.range.min+c.max-g+f,this.toggle(-1/0,i.position)):(this._toggleDirection=DIRECTION.NONE,this._togglePosition=0),this},o._updateAlignPos=function(){this._alignPos=parseAlign$1(this._align,this._size)},o._resetInternalStates=function(){this._size=0,this._pos=0,this._margin={prev:0,next:0},this._height=0,this._alignPos=0,this._toggled=!1,this._togglePosition=0,this._toggleDirection=DIRECTION.NONE},h}(),NormalRenderingStrategy=function(){function h(e){var i=e.providerCtor;this._providerCtor=i}var o=h.prototype;return o.renderPanels=function(){},o.getRenderingIndexesByOrder=function(e){var i=e.renderer.panels.filter(function(g){return g.rendered}),c=i.filter(function(g){return g.toggled&&g.toggleDirection===DIRECTION.PREV}),f=i.filter(function(g){return g.toggled&&g.toggleDirection===DIRECTION.NEXT}),m=i.filter(function(g){return!g.toggled});return __spread(c,m,f).map(function(g){return g.index})},o.getRenderingElementsByOrder=function(e){var i=e.panels;return this.getRenderingIndexesByOrder(e).map(function(c){return i[c].element})},o.updateRenderingPanels=function(e){e.renderOnlyVisible?this._showOnlyVisiblePanels(e):e.panels.forEach(function(i){return i.markForShow()})},o.collectPanels=function(e,i){var c=this,f=parsePanelAlign(e.renderer.align);return i.map(function(m,g){return new Panel({index:g,elementProvider:new c._providerCtor(m),align:f,flicking:e})})},o.createPanel=function(e,i){return new Panel(__assign(__assign({},i),{elementProvider:new this._providerCtor(e)}))},o.updatePanelSizes=function(e,i){e.panels.forEach(function(c){return c.setSize(i)})},o._showOnlyVisiblePanels=function(e){var i=e.renderer.panels,c=e.camera,f=c.visiblePanels.reduce(function(m,g){return m[g.index]=!0,m},{});i.forEach(function(m){m.index in f||m.loading?m.markForShow():e.holding||m.markForHide()}),c.updateOffset()},h}(),VirtualPanel=function(h){__extends(o,h);function o(i){var c=h.call(this,i)||this;return i.elementProvider.init(c),c._elProvider=i.elementProvider,c._cachedInnerHTML=null,c}var e=o.prototype;return Object.defineProperty(e,"element",{get:function(){return this._elProvider.element},enumerable:!1,configurable:!0}),Object.defineProperty(e,"cachedInnerHTML",{get:function(){return this._cachedInnerHTML},enumerable:!1,configurable:!0}),Object.defineProperty(e,"elementIndex",{get:function(){var i=this._flicking,c=i.panelsPerView+1,f=i.panelCount,m=this._index;return this._toggled&&(m=this._toggleDirection===DIRECTION.NEXT?m+f:m-f),circulateIndex(m,c)},enumerable:!1,configurable:!0}),e.cacheRenderResult=function(i){this._cachedInnerHTML=i},e.uncacheRenderResult=function(){this._cachedInnerHTML=null},e.render=function(){var i=this._flicking,c=i.virtual,f=c.renderPanel,m=c.cache,g=this._elProvider.element,Te=this._cachedInnerHTML||f(this,this._index);Te!==g.innerHTML&&(g.innerHTML=Te,m&&this.cacheRenderResult(Te))},e.increaseIndex=function(i){return this.uncacheRenderResult(),h.prototype.increaseIndex.call(this,i)},e.decreaseIndex=function(i){return this.uncacheRenderResult(),h.prototype.decreaseIndex.call(this,i)},o}(Panel),VirtualRenderingStrategy=function(){function h(){}var o=h.prototype;return o.renderPanels=function(e){var i=e.virtual,c=e.visiblePanels,f=range(e.panelsPerView+1);c.forEach(function(m){var g=m.elementIndex;m.render(),i.show(g),f[g]=-1}),f.filter(function(m){return m>=0}).forEach(function(m){i.hide(m)})},o.getRenderingIndexesByOrder=function(e){var i=e.virtual,c=__spread(e.visiblePanels).filter(function(g){return g.rendered}).sort(function(g,Te){return g.position+g.offset-(Te.position+Te.offset)});if(c.length<=0)return i.elements.map(function(g,Te){return Te});var f=c.map(function(g){return g.elementIndex}),m=i.elements.map(function(g,Te){return __assign(__assign({},g),{idx:Te})}).filter(function(g){return!g.visible}).map(function(g){return g.idx});return __spread(f,m)},o.getRenderingElementsByOrder=function(e){var i=e.virtual,c=i.elements;return this.getRenderingIndexesByOrder(e).map(function(f){return c[f].nativeElement})},o.updateRenderingPanels=function(e){var i=e.renderer.panels,c=e.camera,f=c.visiblePanels.reduce(function(m,g){return m[g.index]=!0,m},{});i.forEach(function(m){m.index in f||m.loading?m.markForShow():m.markForHide()}),c.updateOffset()},o.collectPanels=function(e){var i=parsePanelAlign(e.renderer.align);return range(e.virtual.initialPanelCount).map(function(c){return new VirtualPanel({index:c,elementProvider:new VirtualElementProvider(e),align:i,flicking:e})})},o.createPanel=function(e,i){return new VirtualPanel(__assign(__assign({},i),{elementProvider:new VirtualElementProvider(i.flicking)}))},o.updatePanelSizes=function(e,i){e.virtual.elements.forEach(function(c){setSize(c.nativeElement,i)}),e.panels.forEach(function(c){return c.setSize(i)})},h}(),Flicking=function(h){__extends(o,h);function o(i,c){var f=c===void 0?{}:c,m=f.align,g=m===void 0?ALIGN.CENTER:m,Te=f.defaultIndex,Ee=Te===void 0?0:Te,Oe=f.horizontal,ne=Oe===void 0?!0:Oe,De=f.circular,Ie=De===void 0?!1:De,qe=f.circularFallback,Fe=qe===void 0?CIRCULAR_FALLBACK.LINEAR:qe,Ne=f.bound,Ve=Ne===void 0?!1:Ne,Ue=f.adaptive,We=Ue===void 0?!1:Ue,He=f.panelsPerView,Xe=He===void 0?-1:He,ot=f.noPanelStyleOverride,tt=ot===void 0?!1:ot,mt=f.resizeOnContentsReady,gt=mt===void 0?!1:mt,rt=f.nested,pt=rt===void 0?!1:rt,it=f.needPanelThreshold,vt=it===void 0?0:it,Ze=f.preventEventsBeforeInit,Ft=Ze===void 0?!0:Ze,Zt=f.deceleration,jt=Zt===void 0?.0075:Zt,ur=f.duration,bt=ur===void 0?500:ur,St=f.easing,ct=St===void 0?function(Or){return 1-Math.pow(1-Or,3)}:St,dt=f.inputType,Pt=dt===void 0?["mouse","touch"]:dt,Ct=f.moveType,Kt=Ct===void 0?"snap":Ct,fr=f.threshold,Rr=fr===void 0?40:fr,cr=f.interruptable,lt=cr===void 0?!0:cr,yt=f.bounce,Xt=yt===void 0?"20%":yt,$t=f.iOSEdgeSwipeThreshold,dr=$t===void 0?30:$t,Je=f.preventClickOnDrag,At=Je===void 0?!0:Je,Wt=f.preventDefaultOnDrag,xt=Wt===void 0?!1:Wt,ht=f.disableOnInit,Dt=ht===void 0?!1:ht,er=f.changeOnHold,nt=er===void 0?!1:er,je=f.renderOnlyVisible,Ge=je===void 0?!1:je,ut=f.virtual,Et=ut===void 0?null:ut,It=f.autoInit,zt=It===void 0?!0:It,tr=f.autoResize,Sr=tr===void 0?!0:tr,Lr=f.useResizeObserver,Br=Lr===void 0?!0:Lr,Er=f.resizeDebounce,gr=Er===void 0?0:Er,Qr=f.maxResizeDebounce,Cr=Qr===void 0?100:Qr,sn=f.useFractionalSize,Bn=sn===void 0?!1:sn,Un=f.externalRenderer,wr=Un===void 0?null:Un,Jt=f.renderExternal,yr=Jt===void 0?null:Jt,at=h.call(this)||this;return at._initialized=!1,at._plugins=[],at._align=g,at._defaultIndex=Ee,at._horizontal=ne,at._circular=Ie,at._circularFallback=Fe,at._bound=Ve,at._adaptive=We,at._panelsPerView=Xe,at._noPanelStyleOverride=tt,at._resizeOnContentsReady=gt,at._nested=pt,at._virtual=Et,at._needPanelThreshold=vt,at._preventEventsBeforeInit=Ft,at._deceleration=jt,at._duration=bt,at._easing=ct,at._inputType=Pt,at._moveType=Kt,at._threshold=Rr,at._interruptable=lt,at._bounce=Xt,at._iOSEdgeSwipeThreshold=dr,at._preventClickOnDrag=At,at._preventDefaultOnDrag=xt,at._disableOnInit=Dt,at._changeOnHold=nt,at._renderOnlyVisible=Ge,at._autoInit=zt,at._autoResize=Sr,at._useResizeObserver=Br,at._resizeDebounce=gr,at._maxResizeDebounce=Cr,at._useFractionalSize=Bn,at._externalRenderer=wr,at._renderExternal=yr,at._viewport=new Viewport(at,getElement(i)),at._autoResizer=new AutoResizer(at),at._renderer=at._createRenderer(),at._camera=at._createCamera(),at._control=at._createControl(),at._virtualManager=new VirtualManager(at,Et),at._autoInit&&at.init(),at}var e=o.prototype;return Object.defineProperty(e,"control",{get:function(){return this._control},enumerable:!1,configurable:!0}),Object.defineProperty(e,"camera",{get:function(){return this._camera},enumerable:!1,configurable:!0}),Object.defineProperty(e,"renderer",{get:function(){return this._renderer},enumerable:!1,configurable:!0}),Object.defineProperty(e,"viewport",{get:function(){return this._viewport},enumerable:!1,configurable:!0}),Object.defineProperty(e,"initialized",{get:function(){return this._initialized},enumerable:!1,configurable:!0}),Object.defineProperty(e,"circularEnabled",{get:function(){return this._camera.circularEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(e,"virtualEnabled",{get:function(){return this._panelsPerView>0&&this._virtual!=null},enumerable:!1,configurable:!0}),Object.defineProperty(e,"index",{get:function(){return this._control.activeIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e,"element",{get:function(){return this._viewport.element},enumerable:!1,configurable:!0}),Object.defineProperty(e,"currentPanel",{get:function(){return this._control.activePanel},enumerable:!1,configurable:!0}),Object.defineProperty(e,"panels",{get:function(){return this._renderer.panels},enumerable:!1,configurable:!0}),Object.defineProperty(e,"panelCount",{get:function(){return this._renderer.panelCount},enumerable:!1,configurable:!0}),Object.defineProperty(e,"visiblePanels",{get:function(){return this._camera.visiblePanels},enumerable:!1,configurable:!0}),Object.defineProperty(e,"animating",{get:function(){return this._control.animating},enumerable:!1,configurable:!0}),Object.defineProperty(e,"holding",{get:function(){return this._control.holding},enumerable:!1,configurable:!0}),Object.defineProperty(e,"activePlugins",{get:function(){return this._plugins},enumerable:!1,configurable:!0}),Object.defineProperty(e,"align",{get:function(){return this._align},set:function(i){this._align=i,this._renderer.align=i,this._camera.align=i,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultIndex",{get:function(){return this._defaultIndex},set:function(i){this._defaultIndex=i},enumerable:!1,configurable:!0}),Object.defineProperty(e,"horizontal",{get:function(){return this._horizontal},set:function(i){this._horizontal=i,this._control.controller.updateDirection(),this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"circular",{get:function(){return this._circular},set:function(i){this._circular=i,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"circularFallback",{get:function(){return this._circularFallback},enumerable:!1,configurable:!0}),Object.defineProperty(e,"bound",{get:function(){return this._bound},set:function(i){this._bound=i,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"adaptive",{get:function(){return this._adaptive},set:function(i){this._adaptive=i,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"panelsPerView",{get:function(){return this._panelsPerView},set:function(i){this._panelsPerView=i,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"noPanelStyleOverride",{get:function(){return this._noPanelStyleOverride},set:function(i){this._noPanelStyleOverride=i,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"resizeOnContentsReady",{get:function(){return this._resizeOnContentsReady},set:function(i){this._resizeOnContentsReady=i,i&&this._renderer.checkPanelContentsReady(this._renderer.panels)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"nested",{get:function(){return this._nested},set:function(i){this._nested=i;var c=this._control.controller.axes;c&&(c.options.nested=i)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"needPanelThreshold",{get:function(){return this._needPanelThreshold},set:function(i){this._needPanelThreshold=i},enumerable:!1,configurable:!0}),Object.defineProperty(e,"preventEventsBeforeInit",{get:function(){return this._preventEventsBeforeInit},set:function(i){this._preventEventsBeforeInit=i},enumerable:!1,configurable:!0}),Object.defineProperty(e,"deceleration",{get:function(){return this._deceleration},set:function(i){this._deceleration=i;var c=this._control.controller.axes;c&&(c.options.deceleration=i)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"easing",{get:function(){return this._easing},set:function(i){this._easing=i;var c=this._control.controller.axes;c&&(c.options.easing=i)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"duration",{get:function(){return this._duration},set:function(i){this._duration=i},enumerable:!1,configurable:!0}),Object.defineProperty(e,"inputType",{get:function(){return this._inputType},set:function(i){this._inputType=i;var c=this._control.controller.panInput;c&&(c.options.inputType=i)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"moveType",{get:function(){return this._moveType},set:function(i){this._moveType=i;var c=this._control,f=this._createControl(),m=c.activePanel;f.copy(c);var g=m?this._camera.getProgressInPanel(m):0;this._control=f,this._control.updatePosition(g),this._control.updateInput()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"threshold",{get:function(){return this._threshold},set:function(i){this._threshold=i},enumerable:!1,configurable:!0}),Object.defineProperty(e,"interruptable",{get:function(){return this._interruptable},set:function(i){this._interruptable=i;var c=this._control.controller.axes;c&&(c.options.interruptable=i)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"bounce",{get:function(){return this._bounce},set:function(i){this._bounce=i,this._control.updateInput()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"iOSEdgeSwipeThreshold",{get:function(){return this._iOSEdgeSwipeThreshold},set:function(i){this._iOSEdgeSwipeThreshold=i;var c=this._control.controller.panInput;c&&(c.options.iOSEdgeSwipeThreshold=i)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"preventClickOnDrag",{get:function(){return this._preventClickOnDrag},set:function(i){var c=this._preventClickOnDrag;if(i!==c){var f=this._control.controller;i?f.addPreventClickHandler():f.removePreventClickHandler(),this._preventClickOnDrag=i}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"preventDefaultOnDrag",{get:function(){return this._preventDefaultOnDrag},set:function(i){this._preventDefaultOnDrag=i;var c=this._control.controller.panInput;c&&(c.options.preventDefaultOnDrag=i)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"disableOnInit",{get:function(){return this._disableOnInit},set:function(i){this._disableOnInit=i},enumerable:!1,configurable:!0}),Object.defineProperty(e,"changeOnHold",{get:function(){return this._changeOnHold},set:function(i){this._changeOnHold=i},enumerable:!1,configurable:!0}),Object.defineProperty(e,"renderOnlyVisible",{get:function(){return this._renderOnlyVisible},set:function(i){this._renderOnlyVisible=i,this._renderer.render()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"virtual",{get:function(){return this._virtualManager},enumerable:!1,configurable:!0}),Object.defineProperty(e,"autoInit",{get:function(){return this._autoInit},enumerable:!1,configurable:!0}),Object.defineProperty(e,"autoResize",{get:function(){return this._autoResize},set:function(i){this._autoResize=i,i?this._autoResizer.enable():this._autoResizer.disable()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"useResizeObserver",{get:function(){return this._useResizeObserver},set:function(i){this._useResizeObserver=i,this._autoResize&&this._autoResizer.enable()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"resizeDebounce",{get:function(){return this._resizeDebounce},enumerable:!1,configurable:!0}),Object.defineProperty(e,"maxResizeDebounce",{get:function(){return this._maxResizeDebounce},enumerable:!1,configurable:!0}),Object.defineProperty(e,"useFractionalSize",{get:function(){return this._useFractionalSize},enumerable:!1,configurable:!0}),Object.defineProperty(e,"externalRenderer",{get:function(){return this._externalRenderer},enumerable:!1,configurable:!0}),Object.defineProperty(e,"renderExternal",{get:function(){return this._renderExternal},enumerable:!1,configurable:!0}),e.init=function(){var i=this;if(this._initialized)return Promise.resolve();var c=this._camera,f=this._renderer,m=this._control,g=this._virtualManager,Te=this.trigger,Ee=this._preventEventsBeforeInit;return c.init(),g.init(),f.init(this),m.init(this),Ee&&(this.trigger=function(){return i}),this._initialResize(),this._moveToInitialPanel(),this._autoResize&&this._autoResizer.enable(),this._preventClickOnDrag&&m.controller.addPreventClickHandler(),this._disableOnInit&&this.disableInput(),f.checkPanelContentsReady(f.panels),this._initialized=!0,f.render().then(function(){i._plugins.forEach(function(Oe){return Oe.init(i)}),Ee&&(i.trigger=Te),i.trigger(new ComponentEvent$1(EVENTS.READY))})},e.destroy=function(){this.off(),this._autoResizer.disable(),this._control.destroy(),this._camera.destroy(),this._renderer.destroy(),this._plugins.forEach(function(i){return i.destroy()}),this._initialized=!1},e.prev=function(i){var c,f,m;return i===void 0&&(i=this._duration),this.moveTo((m=(f=(c=this._control.activePanel)===null||c===void 0?void 0:c.prev())===null||f===void 0?void 0:f.index)!==null&&m!==void 0?m:-1,i,DIRECTION.PREV)},e.next=function(i){var c,f,m;return i===void 0&&(i=this._duration),this.moveTo((m=(f=(c=this._control.activePanel)===null||c===void 0?void 0:c.next())===null||f===void 0?void 0:f.index)!==null&&m!==void 0?m:this._renderer.panelCount,i,DIRECTION.NEXT)},e.moveTo=function(i,c,f){c===void 0&&(c=this._duration),f===void 0&&(f=DIRECTION.NONE);var m=this._renderer,g=m.panelCount,Te=m.getPanel(i);return Te?this._control.animating?Promise.reject(new FlickingError(MESSAGE.ANIMATION_ALREADY_PLAYING,CODE.ANIMATION_ALREADY_PLAYING)):(this._control.holding&&this._control.controller.release(),this._control.moveToPanel(Te,{duration:c,direction:f})):Promise.reject(new FlickingError(MESSAGE.INDEX_OUT_OF_RANGE(i,0,g-1),CODE.INDEX_OUT_OF_RANGE))},e.updateAnimation=function(i,c,f){if(this._control.animating){var m=this._renderer,g=m.panelCount,Te=m.getPanel(i);if(!Te)throw new FlickingError(MESSAGE.INDEX_OUT_OF_RANGE(i,0,g-1),CODE.INDEX_OUT_OF_RANGE);this._control.updateAnimation(Te,c,f)}},e.stopAnimation=function(){this._control.animating&&this._control.stopAnimation()},e.getPanel=function(i){return this._renderer.getPanel(i)},e.enableInput=function(){return this._control.enable(),this},e.disableInput=function(){return this._control.disable(),this},e.getStatus=function(i){var c,f,m=i===void 0?{}:i,g=m.index,Te=g===void 0?!0:g,Ee=m.position,Oe=Ee===void 0?!0:Ee,ne=m.includePanelHTML,De=ne===void 0?!1:ne,Ie=m.visiblePanelsOnly,qe=Ie===void 0?!1:Ie,Fe=this._camera,Ne=qe?this.visiblePanels:this.panels,Ve={panels:Ne.map(function(He){var Xe={index:He.index};return De&&(Xe.html=He.element.outerHTML),Xe})};if(Te&&(Ve.index=this.index),Oe){var Ue=Fe.findNearestAnchor(Fe.position);Ue&&(Ve.position={panel:Ue.panel.index,progressInPanel:Fe.getProgressInPanel(Ue.panel)})}if(qe){var We=this.visiblePanels;Ve.visibleOffset=(f=(c=We[0])===null||c===void 0?void 0:c.index)!==null&&f!==void 0?f:0}return Ve},e.setStatus=function(i){var c;if(!this._initialized)throw new FlickingError(MESSAGE.NOT_INITIALIZED,CODE.NOT_INITIALIZED);var f=i.index,m=i.position,g=i.visibleOffset,Te=i.panels,Ee=this._renderer,Oe=this._control;if(!((c=Te[0])===null||c===void 0)&&c.html&&!this._renderExternal&&(Ee.batchRemove({index:0,deleteCount:this.panels.length,hasDOMInElements:!0}),Ee.batchInsert({index:0,elements:parseElement(Te.map(function(Ne){return Ne.html})),hasDOMInElements:!0})),f!=null){var ne=g?f-g:f;this.moveTo(ne,0).catch(function(){})}if(m&&this._moveType===MOVE_TYPE.FREE_SCROLL){var De=m.panel,Ie=m.progressInPanel,ne=g?De-g:De,qe=Ee.panels[ne].range,Fe=qe.min+(qe.max-qe.min)*Ie;Oe.moveToPosition(Fe,0).catch(function(){})}},e.addPlugins=function(){for(var i,c=this,f=[],m=0;m<arguments.length;m++)f[m]=arguments[m];return this._initialized&&f.forEach(function(g){return g.init(c)}),(i=this._plugins).push.apply(i,__spread(f)),this},e.removePlugins=function(){for(var i=this,c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];return c.forEach(function(m){var g=findIndex(i._plugins,function(Te){return Te===m});g>=0&&(m.destroy(),i._plugins.splice(g,1))}),this},e.resize=function(){return __awaiter(this,void 0,void 0,function(){var i,c,f,m,g,Te,Ee,Oe,ne,De,Ie;return __generator(this,function(qe){switch(qe.label){case 0:return i=this._viewport,c=this._renderer,f=this._camera,m=this._control,g=m.activePanel,Te=i.width,Ee=i.height,Oe=g?f.getProgressInPanel(g):0,this.trigger(new ComponentEvent$1(EVENTS.BEFORE_RESIZE,{width:Te,height:Ee,element:i.element})),i.resize(),[4,c.forceRenderAllPanels()];case 1:return qe.sent(),this._initialized?(c.updatePanelSize(),f.updateAlignPos(),f.updateRange(),f.updateAnchors(),f.updateAdaptiveHeight(),f.updatePanelOrder(),f.updateOffset(),[4,c.render()]):[2];case 2:return qe.sent(),this._initialized?(m.animating||(m.updatePosition(Oe),m.updateInput()),ne=i.width,De=i.height,Ie=ne!==Te||De!==Ee,this.trigger(new ComponentEvent$1(EVENTS.AFTER_RESIZE,{width:i.width,height:i.height,prev:{width:Te,height:Ee},sizeChanged:Ie,element:i.element})),[2]):[2]}})})},e.append=function(i){return this.insert(this._renderer.panelCount,i)},e.prepend=function(i){return this.insert(0,i)},e.insert=function(i,c){if(this._renderExternal)throw new FlickingError(MESSAGE.NOT_ALLOWED_IN_FRAMEWORK,CODE.NOT_ALLOWED_IN_FRAMEWORK);return this._renderer.batchInsert({index:i,elements:parseElement(c),hasDOMInElements:!0})},e.remove=function(i,c){if(c===void 0&&(c=1),this._renderExternal)throw new FlickingError(MESSAGE.NOT_ALLOWED_IN_FRAMEWORK,CODE.NOT_ALLOWED_IN_FRAMEWORK);return this._renderer.batchRemove({index:i,deleteCount:c,hasDOMInElements:!0})},e._createControl=function(){var i,c=this._moveType,f=Object.keys(MOVE_TYPE).map(function(Te){return MOVE_TYPE[Te]}),m=Array.isArray(c)?c[0]:c,g=Array.isArray(c)?(i=c[1])!==null&&i!==void 0?i:{}:{};if(!includes(f,m))throw new FlickingError(MESSAGE.WRONG_OPTION("moveType",JSON.stringify(c)),CODE.WRONG_OPTION);switch(m){case MOVE_TYPE.SNAP:return new SnapControl(g);case MOVE_TYPE.FREE_SCROLL:return new FreeControl(g);case MOVE_TYPE.STRICT:return new StrictControl(g)}},e._createCamera=function(){return this._circular&&this._bound&&console.warn('"circular" and "bound" option cannot be used together, ignoring bound.'),new Camera(this,{align:this._align})},e._createRenderer=function(){var i=this._externalRenderer;return this._virtual&&this._panelsPerView<=0&&console.warn('"virtual" and "panelsPerView" option should be used together, ignoring virtual.'),i||(this._renderExternal?this._createExternalRenderer():this._createVanillaRenderer())},e._createExternalRenderer=function(){var i=this._renderExternal,c=i.renderer,f=i.rendererOptions;return new c(__assign({align:this._align},f))},e._createVanillaRenderer=function(){var i=this.virtualEnabled;return new VanillaRenderer({align:this._align,strategy:i?new VirtualRenderingStrategy:new NormalRenderingStrategy({providerCtor:VanillaElementProvider})})},e._moveToInitialPanel=function(){var i=this._renderer,c=this._control,f=this._camera,m=i.getPanel(this._defaultIndex)||i.getPanel(0);if(m){var g=f.findNearestAnchor(m.position),Te=g&&m.index!==g.panel.index?g.panel:m;if(c.setActive(Te,null,!1),!g)throw new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(Te.position),CODE.POSITION_NOT_REACHABLE);var Ee=Te.position;f.canReach(Te)||(Ee=g.position),f.lookAt(Ee),c.updateInput(),f.updateOffset()}},e._initialResize=function(){var i=this._viewport,c=this._renderer,f=this._camera,m=this._control;this.trigger(new ComponentEvent$1(EVENTS.BEFORE_RESIZE,{width:0,height:0,element:i.element})),i.resize(),c.updatePanelSize(),f.updateAlignPos(),f.updateRange(),f.updateAnchors(),f.updateOffset(),m.updateInput();var g=i.width,Te=i.height,Ee=g!==0||Te!==0;this.trigger(new ComponentEvent$1(EVENTS.AFTER_RESIZE,{width:i.width,height:i.height,prev:{width:0,height:0},sizeChanged:Ee,element:i.element}))},o.VERSION="4.11.4",o}(Component);const flicking="",scriptRel="modulepreload",assetsURL=function(h){return"/vme/"+h},seen={},__vitePreload=function(o,e,i){if(!e||e.length===0)return o();const c=document.getElementsByTagName("link");return Promise.all(e.map(f=>{if(f=assetsURL(f),f in seen)return;seen[f]=!0;const m=f.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(!!i)for(let Oe=c.length-1;Oe>=0;Oe--){const ne=c[Oe];if(ne.href===f&&(!m||ne.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${f}"]${g}`))return;const Ee=document.createElement("link");if(Ee.rel=m?"stylesheet":scriptRel,m||(Ee.as="script",Ee.crossOrigin=""),Ee.href=f,document.head.appendChild(Ee),m)return new Promise((Oe,ne)=>{Ee.addEventListener("load",Oe),Ee.addEventListener("error",()=>ne(new Error(`Unable to preload CSS for ${f}`)))})})).then(()=>o()).catch(f=>{const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f})};var __defProp=Object.defineProperty,__defNormalProp=(h,o,e)=>o in h?__defProp(h,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):h[o]=e,__publicField=(h,o,e)=>__defNormalProp(h,typeof o!="symbol"?o+"":o,e);function _mergeNamespaces(h,o){for(var e=0;e<o.length;e++){const i=o[e];if(typeof i!="string"&&!Array.isArray(i)){for(const c in i)if(c!=="default"&&!(c in h)){const f=Object.getOwnPropertyDescriptor(i,c);f&&Object.defineProperty(h,c,f.get?f:{enumerable:!0,get:()=>i[c]})}}}return Object.freeze(Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}))}const systemCoreMap={gb:"mgba",gba:"mgba",gbc:"mgba",megadrive:"genesis_plus_gx",nes:"fceumm",snes:"snes9x"};var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}const{hasOwnProperty}=Object.prototype,encode=(h,o={})=>{typeof o=="string"&&(o={section:o}),o.align=o.align===!0,o.newline=o.newline===!0,o.sort=o.sort===!0,o.whitespace=o.whitespace===!0||o.align===!0,o.platform=o.platform||typeof process<"u"&&process.platform,o.bracketedArray=o.bracketedArray!==!1;const e=o.platform==="win32"?`\r
`:`
`,i=o.whitespace?" = ":"=",c=[],f=o.sort?Object.keys(h).sort():Object.keys(h);let m=0;o.align&&(m=safe(f.filter(Ee=>h[Ee]===null||Array.isArray(h[Ee])||typeof h[Ee]!="object").map(Ee=>Array.isArray(h[Ee])?`${Ee}[]`:Ee).concat([""]).reduce((Ee,Oe)=>safe(Ee).length>=safe(Oe).length?Ee:Oe)).length);let g="";const Te=o.bracketedArray?"[]":"";for(const Ee of f){const Oe=h[Ee];if(Oe&&Array.isArray(Oe))for(const ne of Oe)g+=safe(`${Ee}${Te}`).padEnd(m," ")+i+safe(ne)+e;else Oe&&typeof Oe=="object"?c.push(Ee):g+=safe(Ee).padEnd(m," ")+i+safe(Oe)+e}o.section&&g.length&&(g="["+safe(o.section)+"]"+(o.newline?e+e:e)+g);for(const Ee of c){const Oe=splitSections(Ee,".").join("\\."),ne=(o.section?o.section+".":"")+Oe,De=encode(h[Ee],{...o,section:ne});g.length&&De.length&&(g+=e),g+=De}return g};function splitSections(h,o){var e=0,i=0,c=0,f=[];do if(c=h.indexOf(o,e),c!==-1){if(e=c+o.length,c>0&&h[c-1]==="\\")continue;f.push(h.slice(i,c)),i=c+o.length}while(c!==-1);return f.push(h.slice(i)),f}const decode=(h,o={})=>{o.bracketedArray=o.bracketedArray!==!1;const e=Object.create(null);let i=e,c=null;const f=/^\[([^\]]*)\]\s*$|^([^=]+)(=(.*))?$/i,m=h.split(/[\r\n]+/g),g={};for(const Ee of m){if(!Ee||Ee.match(/^\s*[;#]/)||Ee.match(/^\s*$/))continue;const Oe=Ee.match(f);if(!Oe)continue;if(Oe[1]!==void 0){if(c=unsafe(Oe[1]),c==="__proto__"){i=Object.create(null);continue}i=e[c]=e[c]||Object.create(null);continue}const ne=unsafe(Oe[2]);let De;o.bracketedArray?De=ne.length>2&&ne.slice(-2)==="[]":(g[ne]=((g==null?void 0:g[ne])||0)+1,De=g[ne]>1);const Ie=De&&ne.endsWith("[]")?ne.slice(0,-2):ne;if(Ie==="__proto__")continue;const qe=Oe[3]?unsafe(Oe[4]):!0,Fe=qe==="true"||qe==="false"||qe==="null"?JSON.parse(qe):qe;De&&(hasOwnProperty.call(i,Ie)?Array.isArray(i[Ie])||(i[Ie]=[i[Ie]]):i[Ie]=[]),Array.isArray(i[Ie])?i[Ie].push(Fe):i[Ie]=Fe}const Te=[];for(const Ee of Object.keys(e)){if(!hasOwnProperty.call(e,Ee)||typeof e[Ee]!="object"||Array.isArray(e[Ee]))continue;const Oe=splitSections(Ee,".");i=e;const ne=Oe.pop(),De=ne.replace(/\\\./g,".");for(const Ie of Oe)Ie!=="__proto__"&&((!hasOwnProperty.call(i,Ie)||typeof i[Ie]!="object")&&(i[Ie]=Object.create(null)),i=i[Ie]);i===e&&De===ne||(i[De]=e[Ee],Te.push(Ee))}for(const Ee of Te)delete e[Ee];return e},isQuoted=h=>h.startsWith('"')&&h.endsWith('"')||h.startsWith("'")&&h.endsWith("'"),safe=h=>typeof h!="string"||h.match(/[=\r\n]/)||h.match(/^\[/)||h.length>1&&isQuoted(h)||h!==h.trim()?JSON.stringify(h):h.split(";").join("\\;").split("#").join("\\#"),unsafe=h=>{if(h=(h||"").trim(),isQuoted(h)){h.charAt(0)==="'"&&(h=h.slice(1,-1));try{h=JSON.parse(h)}catch{}}else{let o=!1,e="";for(let i=0,c=h.length;i<c;i++){const f=h.charAt(i);if(o)"\\;#".indexOf(f)!==-1?e+=f:e+="\\"+f,o=!1;else{if(";#".indexOf(f)!==-1)break;f==="\\"?o=!0:e+=f}}return o&&(e+="\\"),e.trim()}return h};var ini={parse:decode,decode,stringify:encode,encode,safe,unsafe};const ini$1=getDefaultExportFromCjs(ini),coreInfoMap={2048:{corename:"2048",savestate:!0,supportsNoGame:!0},"3dengine":{corename:"3DEngine"},"4do":{corename:"4DO",savestate:!0},81:{corename:"81",savestate:!0},a5200:{corename:"a5200",savestate:!0},advanced_tests:{corename:"Advanced Test",supportsNoGame:!0},ardens:{corename:"Ardens",savestate:!0},arduous:{corename:"Arduous"},atari800:{corename:"Atari800",savestate:!0},bk:{corename:"bk",savestate:!0},blastem:{corename:"BlastEm",savestate:!0},bluemsx:{corename:"blueMSX",savestate:!0},bnes:{corename:"bnes/higan",savestate:!0},boom3:{corename:"boom3"},boom3_xp:{corename:"boom3_xp"},bsnes:{corename:"bsnes",savestate:!0},bsnes_cplusplus98:{cheats:!0,corename:"bsnes C++98 (v085)",savestate:!0},bsnes_hd_beta:{corename:"bsnes-hd beta",savestate:!0},bsnes_mercury_accuracy:{cheats:!0,corename:"bsnes-mercury Accuracy",savestate:!0},bsnes_mercury_balanced:{cheats:!0,corename:"bsnes-mercury Balanced",savestate:!0},bsnes_mercury_performance:{cheats:!0,corename:"bsnes-mercury Performance",savestate:!0},bsnes2014_accuracy:{cheats:!0,corename:"bsnes 2014 Accuracy",savestate:!0},bsnes2014_balanced:{cheats:!0,corename:"bsnes 2014 Balanced",savestate:!0},bsnes2014_performance:{cheats:!0,corename:"bsnes 2014 Performance",savestate:!0},cannonball:{corename:"Cannonball",supportsNoGame:!0},cap32:{corename:"Caprice32",savestate:!0,supportsNoGame:!0},cdi2015:{corename:"Philips CDi 2015"},chailove:{cheats:!0,corename:"ChaiLove",savestate:!0},chimerasnes:{cheats:!0,corename:"ChimeraSNES",savestate:!0},citra:{corename:"Citra",savestate:!0},citra_canary:{corename:"Citra Canary/Experimental"},citra2018:{corename:"Citra 2018"},craft:{corename:"Craft",supportsNoGame:!0},crocods:{corename:"CrocoDS",savestate:!0},cruzes:{corename:"Cruzes",supportsNoGame:!0},daphne:{corename:"Daphne"},desmume:{cheats:!0,corename:"DeSmuME",savestate:!0},desmume2015:{cheats:!0,corename:"DeSmuME 2015",savestate:!0},dinothawr:{corename:"Dinothawr",supportsNoGame:!0},directxbox:{corename:"DirectXBox"},dirksimple:{corename:"DirkSimple",savestate:!0},dolphin:{corename:"Dolphin",savestate:!0},dolphin_launcher:{corename:"Dolphin Launcher",supportsNoGame:!0},dosbox:{corename:"DOSBox",supportsNoGame:!0},dosbox_core:{corename:"DOSBox-core",supportsNoGame:!0},dosbox_pure:{cheats:!0,corename:"DOSBox-pure",savestate:!0,supportsNoGame:!0},dosbox_svn:{corename:"DOSBox-SVN",supportsNoGame:!0},dosbox_svn_ce:{corename:"DOSBox-SVN CE",supportsNoGame:!0},duckstation:{corename:"DuckStation",savestate:!0},easyrpg:{corename:"EasyRPG Player"},ecwolf:{corename:"ECWolf",savestate:!0},emuscv:{corename:"EmuSCV",supportsNoGame:!0},emux_chip8:{corename:"Emux CHIP-8"},emux_gb:{corename:"Emux GB"},emux_nes:{corename:"Emux NES"},emux_sms:{corename:"Emux SMS"},ep128emu_core:{cheats:!0,corename:"ep128emu-core",savestate:!0,supportsNoGame:!0},fake08:{corename:"FAKE-08",savestate:!0},fbalpha2012:{corename:"FB Alpha 2012",savestate:!0},fbalpha2012_cps1:{corename:"FB Alpha 2012 CPS-1",savestate:!0},fbalpha2012_cps2:{corename:"FB Alpha 2012 CPS-2",savestate:!0},fbalpha2012_cps3:{corename:"FB Alpha 2012 CPS-3",savestate:!0},fbalpha2012_neogeo:{corename:"FB Alpha 2012 Neo Geo",savestate:!0},fbneo:{cheats:!0,corename:"FinalBurn Neo",savestate:!0},fceumm:{cheats:!0,corename:"FCEUmm",savestate:!0},ffmpeg:{corename:"FFmpeg"},fixgb:{corename:"fixGB"},fixnes:{corename:"fixNES"},flycast:{corename:"Flycast",savestate:!0},flycast_gles2:{corename:"Flycast GLES2",savestate:!0},fmsx:{corename:"fMSX"},freechaf:{corename:"FreeChaF"},freeintv:{corename:"FreeIntv"},freej2me:{corename:"FreeJ2ME"},frodo:{corename:"Frodo"},fsuae:{corename:"FS-UAE"},fuse:{corename:"Fuse"},galaksija:{corename:"galaksija",supportsNoGame:!0},gambatte:{corename:"Gambatte",savestate:!0},gearboy:{corename:"Gearboy"},gearcoleco:{corename:"Gearcoleco"},gearsystem:{corename:"Gearsystem"},genesis_plus_gx:{cheats:!0,corename:"Genesis Plus GX",savestate:!0},genesis_plus_gx_wide:{cheats:!0,corename:"Genesis Plus GX Wide",savestate:!0},gme:{corename:"Game Music Emu"},gong:{corename:"Gong",savestate:!0,supportsNoGame:!0},gpsp:{corename:"gpSP",savestate:!0},gw:{corename:"GW"},handy:{corename:"Handy",savestate:!0},hatari:{corename:"Hatari",savestate:!0},hbmame:{corename:"HBMAME (Git)"},higan_sfc:{corename:"nSide (Super Famicom Accuracy)",savestate:!0},higan_sfc_balanced:{corename:"nSide (Super Famicom Balanced)",savestate:!0},imageviewer:{corename:"Imageviewer"},ishiiruka:{corename:"Ishiiruka",savestate:!0},jaxe:{corename:"JAXE"},jumpnbump:{corename:"jumpnbump"},kronos:{cheats:!0,corename:"Kronos",savestate:!0},lowresnx:{corename:"lowresnx"},lutro:{corename:"Lutro"},mame:{corename:"MAME",savestate:!0},mame2000:{corename:"MAME 2000 (0.37b5)",savestate:!0},mame2003:{corename:"MAME 2003 (0.78)",savestate:!0},mame2003_midway:{corename:"MAME 2003 Midway (0.78)",savestate:!0},mame2003_plus:{corename:"MAME 2003-Plus",savestate:!0},mame2009:{corename:"MAME 2009 (0.135u4)"},mame2010:{corename:"MAME 2010 (0.139)"},mame2015:{corename:"MAME 2015 (0.160)"},mame2016:{corename:"MAME 2016 (0.174)"},mamearcade:{corename:"MAME (Git)"},mamemess:{corename:"MESS (Git)",savestate:!0},mednafen_gba:{corename:"Beetle GBA"},mednafen_lynx:{corename:"Beetle Lynx"},mednafen_ngp:{corename:"Beetle NeoPop",savestate:!0},mednafen_pce:{corename:"Beetle PCE",savestate:!0},mednafen_pce_fast:{corename:"Beetle PCE Fast",savestate:!0},mednafen_pcfx:{corename:"Beetle PC-FX"},mednafen_psx:{cheats:!0,corename:"Beetle PSX",savestate:!0},mednafen_psx_hw:{cheats:!0,corename:"Beetle PSX HW",savestate:!0},mednafen_saturn:{cheats:!0,corename:"Beetle Saturn",savestate:!0},mednafen_snes:{corename:"Beetle bsnes",savestate:!0},mednafen_supafaust:{cheats:!0,corename:"Beetle Supafaust",savestate:!0},mednafen_supergrafx:{cheats:!0,corename:"Beetle SuperGrafx",savestate:!0},mednafen_vb:{corename:"Beetle VB"},mednafen_wswan:{corename:"Beetle WonderSwan",savestate:!0},melonds:{corename:"melonDS"},mesen:{cheats:!0,corename:"Mesen",savestate:!0},"mesen-s":{corename:"Mesen-S"},mess2015:{corename:"MESS 2015 (0.160)"},meteor:{corename:"Meteor"},mgba:{cheats:!0,corename:"mGBA",savestate:!0},minivmac:{corename:"MinivmacII"},mojozork:{corename:"mojozork",savestate:!0},moonlight:{corename:"Moonlight",supportsNoGame:!0},mpv:{corename:"MPV"},mrboom:{corename:"Mr.Boom",savestate:!0,supportsNoGame:!0},mu:{corename:"Mu",supportsNoGame:!0},mupen64plus_next:{cheats:!0,corename:"Mupen64Plus-Next",savestate:!0},mupen64plus_next_develop:{cheats:!0,corename:"Mupen64Plus-Next",savestate:!0},mupen64plus_next_gles2:{cheats:!0,corename:"Mupen64Plus-Next",savestate:!0},mupen64plus_next_gles3:{cheats:!0,corename:"Mupen64Plus-Next",savestate:!0},nekop2:{corename:"Neko Project II",savestate:!0},neocd:{corename:"NeoCD"},nes:{corename:"nes",savestate:!0},nestopia:{cheats:!0,corename:"Nestopia",savestate:!0},np2kai:{corename:"Neko Project II Kai",savestate:!0},numero:{corename:"Numero",savestate:!0,supportsNoGame:!0},nxengine:{corename:"NXEngine",supportsNoGame:!0},o2em:{corename:"O2EM",savestate:!0},oberon:{corename:"Oberon"},openlara:{corename:"OpenLara"},opentyrian:{corename:"OpenTyrian",supportsNoGame:!0},opera:{corename:"Opera",savestate:!0,supportsNoGame:!0},parallel_n64:{corename:"ParaLLEl N64",savestate:!0},parallel_n64_debug:{corename:"ParaLLEl (Debug)",savestate:!0},pascal_pong:{corename:"PascalPong",supportsNoGame:!0},pcem:{corename:"PCem",supportsNoGame:!0},pcsx_rearmed:{cheats:!0,corename:"PCSX-ReARMed",savestate:!0},pcsx_rearmed_interpreter:{cheats:!0,corename:"PCSX ReARMed [Interpreter]",savestate:!0},pcsx_rearmed_neon:{cheats:!0,corename:"PCSX ReARMed [NEON]",savestate:!0},pcsx1:{corename:"PCSX1"},pcsx2:{corename:"LRPS2",savestate:!0},picodrive:{cheats:!0,corename:"PicoDrive",savestate:!0},play:{corename:"Play!",savestate:!0},pocketcdg:{corename:"PocketCDG"},pokemini:{corename:"PokeMini",savestate:!0},potator:{corename:"Potator",savestate:!0},ppsspp:{corename:"PPSSPP",savestate:!0},prboom:{cheats:!0,corename:"PrBoom",savestate:!0},prosystem:{corename:"ProSystem",savestate:!0},puae:{cheats:!0,corename:"PUAE",savestate:!0,supportsNoGame:!0},puae2021:{cheats:!0,corename:"PUAE 2021",savestate:!0,supportsNoGame:!0},puzzlescript:{corename:"puzzlescript",savestate:!0},px68k:{corename:"PX68k",supportsNoGame:!0},quasi88:{cheats:!0,corename:"QUASI88",savestate:!0,supportsNoGame:!0},quicknes:{corename:"QuickNES",savestate:!0},race:{corename:"RACE",savestate:!0},redbook:{corename:"Redbook"},reminiscence:{corename:"REminiscence",savestate:!0},remotejoy:{corename:"RemoteJoy",supportsNoGame:!0},retro8:{corename:"Retro8"},retrodream:{corename:"RetroDream"},rustation:{corename:"Rustation"},same_cdi:{corename:"SAME CDi (Git)"},sameboy:{corename:"SameBoy"},sameduck:{corename:"SameDuck",savestate:!0},scummvm:{corename:"ScummVM",supportsNoGame:!0},simcp:{corename:"SimCoupe"},smsplus:{corename:"SMS Plus GX"},snes9x:{cheats:!0,corename:"Snes9x",savestate:!0},snes9x2002:{cheats:!0,corename:"Snes9x 2002",savestate:!0},snes9x2005:{cheats:!0,corename:"Snes9x 2005",savestate:!0},snes9x2005_plus:{cheats:!0,corename:"Snes9x 2005 Plus",savestate:!0},snes9x2010:{cheats:!0,corename:"Snes9x 2010",savestate:!0},squirreljme:{corename:"SquirrelJME",supportsNoGame:!0},stella:{corename:"Stella",savestate:!0},stella2014:{corename:"Stella 2014",savestate:!0},stonesoup:{corename:"Dungeon Crawl Stone Soup"},superbroswar:{corename:"superbroswar"},swanstation:{corename:"SwanStation",savestate:!0},tempgba:{corename:"TempGBA"},test:{corename:"Test",supportsNoGame:!0},test_netplay:{corename:"netplay-test",supportsNoGame:!0},testaudio_callback:{corename:"TestAudio Callback",supportsNoGame:!0},testaudio_no_callback:{corename:"TestAudio NoCallback",supportsNoGame:!0},testaudio_playback_wav:{corename:"TestAudio Playback Wav",supportsNoGame:!0},testgl:{corename:"TestGL",supportsNoGame:!0},testgl_compute_shaders:{corename:"TestGL ComputeShaders",supportsNoGame:!0},testgl_ff:{corename:"TestGL (FF)",supportsNoGame:!0},testinput_buttontest:{corename:"Button Test",supportsNoGame:!0},testretroluxury:{corename:"Test RetroLuxury",supportsNoGame:!0},testsw:{corename:"TestSW",supportsNoGame:!0},testsw_vram:{corename:"TestSW VRAM",supportsNoGame:!0},testvulkan:{corename:"TestVulkan",supportsNoGame:!0},testvulkan_async_compute:{corename:"TestVulkan AsyncCompute",supportsNoGame:!0},tgbdual:{corename:"TGB Dual",savestate:!0},theodore:{corename:"theodore",savestate:!0,supportsNoGame:!0},thepowdertoy:{corename:"ThePowderToy",savestate:!0,supportsNoGame:!0},tic80:{cheats:!0,corename:"TIC-80",savestate:!0},tyrquake:{cheats:!0,corename:"TyrQuake"},uae4arm:{corename:"UAE4ARM",savestate:!0},ume2015:{corename:"UME 2015 (0.160)"},uw8:{corename:"MicroW8",savestate:!0},uzem:{corename:"uzem",savestate:!0},vaporspec:{corename:"VaporSpec",savestate:!0},vba_next:{corename:"VBA Next",savestate:!0},vbam:{cheats:!0,corename:"VBA-M",savestate:!0},vecx:{corename:"vecx",savestate:!0},vemulator:{corename:"VeMUlator"},vice_x128:{cheats:!0,corename:"VICE x128",savestate:!0,supportsNoGame:!0},vice_x64:{cheats:!0,corename:"VICE x64",savestate:!0,supportsNoGame:!0},vice_x64dtv:{cheats:!0,corename:"VICE x64dtv",savestate:!0,supportsNoGame:!0},vice_x64sc:{cheats:!0,corename:"VICE x64sc",savestate:!0,supportsNoGame:!0},vice_xcbm2:{cheats:!0,corename:"VICE xcbm2",savestate:!0,supportsNoGame:!0},vice_xcbm5x0:{cheats:!0,corename:"VICE xcbm5x0",savestate:!0,supportsNoGame:!0},vice_xpet:{cheats:!0,corename:"VICE xpet",savestate:!0,supportsNoGame:!0},vice_xplus4:{cheats:!0,corename:"VICE xplus4",savestate:!0,supportsNoGame:!0},vice_xscpu64:{cheats:!0,corename:"VICE xscpu64",savestate:!0,supportsNoGame:!0},vice_xvic:{cheats:!0,corename:"VICE xvic",savestate:!0,supportsNoGame:!0},vircon32:{corename:"Vircon32",supportsNoGame:!0},virtualjaguar:{corename:"Virtual Jaguar"},virtualxt:{corename:"virtualxt"},vitaquake2:{corename:"vitaQuake 2"},"vitaquake2-rogue":{corename:"vitaQuake 2 [Rogue]"},"vitaquake2-xatrix":{corename:"vitaQuake 2 [Xatrix]"},"vitaquake2-zaero":{corename:"vitaQuake 2 [Zaero]"},vitaquake3:{corename:"vitaQuake 3"},vitavoyager:{corename:"vitaVoyager"},wasm4:{corename:"WASM-4",savestate:!0},x1:{corename:"x1"},x64sdl:{corename:"VICE SDL"},xrick:{corename:"XRick",supportsNoGame:!0},yabasanshiro:{cheats:!0,corename:"YabaSanshiro",savestate:!0},yabause:{cheats:!0,corename:"Yabause",savestate:!0}},keyboardCodeMap={add:"NumpadAdd",alt:"AltLeft",backquote:"Backquote",backslash:"",backspace:"Backspace",capslock:"CapsLock",comma:"Comma",ctrl:"ControlLeft",del:"Delete",divide:"NumpadDivide",down:"ArrowDown",end:"End",enter:"Enter",equals:"Equal",escape:"Escape",home:"Home",insert:"Insert",kp_enter:"NumpadEnter",kp_equals:"NumpadEquals",kp_minus:"NumpadSubtract",kp_period:"NumpadDecimal",kp_plus:"NumpadAdd",left:"ArrowLeft",leftbracket:"BracketLeft",minus:"Minus",multiply:"NumpadMultiply",numlock:"NumLock",pagedown:"PageDown",pageup:"PageUp",pause:"Pause",period:"Period",print_screen:"PrintScreen",quote:"Quote",ralt:"AltRight",rctrl:"ControlRight",right:"ArrowRight",rightbracket:"BracketRight",rshift:"ShiftRight",scroll_lock:"ScrollLock",semicolon:"Semicolon",shift:"ShiftLeft",slash:"Slash",space:"Space",subtract:"NumpadSubtract",tab:"Tab",tilde:"",up:"ArrowUp"};var browserfs$2={exports:{}};(function(h,o){(function(i,c){h.exports=c()})(commonjsGlobal,function(){return function(e){var i={};function c(f){if(i[f])return i[f].exports;var m=i[f]={exports:{},id:f,loaded:!1};return e[f].call(m.exports,m,m.exports,c),m.loaded=!0,m.exports}return c.m=e,c.c=i,c.p="",c(0)}([function(e,i,c){(function(f,m,g,Te){Object.defineProperty(i,"__esModule",{value:!0});var Ee=c(2),Oe=c(9),ne;(function(_e){_e[_e.EPERM=1]="EPERM",_e[_e.ENOENT=2]="ENOENT",_e[_e.EIO=5]="EIO",_e[_e.EBADF=9]="EBADF",_e[_e.EACCES=13]="EACCES",_e[_e.EBUSY=16]="EBUSY",_e[_e.EEXIST=17]="EEXIST",_e[_e.ENOTDIR=20]="ENOTDIR",_e[_e.EISDIR=21]="EISDIR",_e[_e.EINVAL=22]="EINVAL",_e[_e.EFBIG=27]="EFBIG",_e[_e.ENOSPC=28]="ENOSPC",_e[_e.EROFS=30]="EROFS",_e[_e.ENOTEMPTY=39]="ENOTEMPTY",_e[_e.ENOTSUP=95]="ENOTSUP"})(ne||(ne={}));var De={};De[ne.EPERM]="Operation not permitted.",De[ne.ENOENT]="No such file or directory.",De[ne.EIO]="Input/output error.",De[ne.EBADF]="Bad file descriptor.",De[ne.EACCES]="Permission denied.",De[ne.EBUSY]="Resource busy or locked.",De[ne.EEXIST]="File exists.",De[ne.ENOTDIR]="File is not a directory.",De[ne.EISDIR]="File is a directory.",De[ne.EINVAL]="Invalid argument.",De[ne.EFBIG]="File is too big.",De[ne.ENOSPC]="No space left on disk.",De[ne.EROFS]="Cannot modify a read-only file system.",De[ne.ENOTEMPTY]="Directory is not empty.",De[ne.ENOTSUP]="Operation is not supported.";var Ie=function(_e){function d(k,_,Ae){_===void 0&&(_=De[k]),_e.call(this,_),this.syscall="",this.errno=k,this.code=ne[k],this.path=Ae,this.stack=new _e().stack,this.message="Error: "+this.code+": "+_+(this.path?", '"+this.path+"'":"")}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.fromJSON=function(_){var Ae=new d(0);return Ae.errno=_.errno,Ae.code=_.code,Ae.path=_.path,Ae.stack=_.stack,Ae.message=_.message,Ae},d.fromBuffer=function(_,Ae){return Ae===void 0&&(Ae=0),d.fromJSON(JSON.parse(_.toString("utf8",Ae+4,Ae+4+_.readUInt32LE(Ae))))},d.FileError=function(_,Ae){return new d(_,De[_],Ae)},d.ENOENT=function(_){return this.FileError(ne.ENOENT,_)},d.EEXIST=function(_){return this.FileError(ne.EEXIST,_)},d.EISDIR=function(_){return this.FileError(ne.EISDIR,_)},d.ENOTDIR=function(_){return this.FileError(ne.ENOTDIR,_)},d.EPERM=function(_){return this.FileError(ne.EPERM,_)},d.ENOTEMPTY=function(_){return this.FileError(ne.ENOTEMPTY,_)},d.prototype.toString=function(){return this.message},d.prototype.toJSON=function(){return{errno:this.errno,code:this.code,path:this.path,stack:this.stack,message:this.message}},d.prototype.writeToBuffer=function(_,Ae){_===void 0&&(_=f.alloc(this.bufferSize())),Ae===void 0&&(Ae=0);var Be=_.write(JSON.stringify(this.toJSON()),Ae+4);return _.writeUInt32LE(Be,Ae),_},d.prototype.bufferSize=function(){return 4+f.byteLength(JSON.stringify(this.toJSON()))},d}(Error),qe=Object.freeze({get ErrorCode(){return ne},ErrorStrings:De,ApiError:Ie}),Fe;(function(_e){_e[_e.NOP=0]="NOP",_e[_e.THROW_EXCEPTION=1]="THROW_EXCEPTION",_e[_e.TRUNCATE_FILE=2]="TRUNCATE_FILE",_e[_e.CREATE_FILE=3]="CREATE_FILE"})(Fe||(Fe={}));var Ne=function _e(d){if(this.flagStr=d,_e.validFlagStrs.indexOf(d)<0)throw new Ie(ne.EINVAL,"Invalid flag: "+d)};Ne.getFileFlag=function(d){return Ne.flagCache.hasOwnProperty(d)?Ne.flagCache[d]:Ne.flagCache[d]=new Ne(d)},Ne.prototype.getFlagString=function(){return this.flagStr},Ne.prototype.isReadable=function(){return this.flagStr.indexOf("r")!==-1||this.flagStr.indexOf("+")!==-1},Ne.prototype.isWriteable=function(){return this.flagStr.indexOf("w")!==-1||this.flagStr.indexOf("a")!==-1||this.flagStr.indexOf("+")!==-1},Ne.prototype.isTruncating=function(){return this.flagStr.indexOf("w")!==-1},Ne.prototype.isAppendable=function(){return this.flagStr.indexOf("a")!==-1},Ne.prototype.isSynchronous=function(){return this.flagStr.indexOf("s")!==-1},Ne.prototype.isExclusive=function(){return this.flagStr.indexOf("x")!==-1},Ne.prototype.pathExistsAction=function(){return this.isExclusive()?Fe.THROW_EXCEPTION:this.isTruncating()?Fe.TRUNCATE_FILE:Fe.NOP},Ne.prototype.pathNotExistsAction=function(){return(this.isWriteable()||this.isAppendable())&&this.flagStr!=="r+"?Fe.CREATE_FILE:Fe.THROW_EXCEPTION},Ne.flagCache={},Ne.validFlagStrs=["r","r+","rs","rs+","w","wx","w+","wx+","a","ax","a+","ax+"];var Ve;(function(_e){_e[_e.FILE=32768]="FILE",_e[_e.DIRECTORY=16384]="DIRECTORY",_e[_e.SYMLINK=40960]="SYMLINK"})(Ve||(Ve={}));var Ue=function(d,k,_,Ae,Be,Me){if(Ae===void 0&&(Ae=new Date),Be===void 0&&(Be=new Date),Me===void 0&&(Me=new Date),this.size=k,this.atime=Ae,this.mtime=Be,this.ctime=Me,this.dev=0,this.ino=0,this.rdev=0,this.nlink=1,this.blksize=4096,this.uid=0,this.gid=0,this.birthtime=new Date(0),this.fileData=null,_)this.mode=_;else switch(d){case Ve.FILE:this.mode=420;break;case Ve.DIRECTORY:default:this.mode=511}this.blocks=Math.ceil(k/512),this.mode<4096&&(this.mode|=d)};Ue.fromBuffer=function(d){var k=d.readUInt32LE(0),_=d.readUInt32LE(4),Ae=d.readDoubleLE(8),Be=d.readDoubleLE(16),Me=d.readDoubleLE(24);return new Ue(_&61440,k,_&4095,new Date(Ae),new Date(Be),new Date(Me))},Ue.prototype.toBuffer=function(){var d=f.alloc(32);return d.writeUInt32LE(this.size,0),d.writeUInt32LE(this.mode,4),d.writeDoubleLE(this.atime.getTime(),8),d.writeDoubleLE(this.mtime.getTime(),16),d.writeDoubleLE(this.ctime.getTime(),24),d},Ue.prototype.clone=function(){return new Ue(this.mode&61440,this.size,this.mode&4095,this.atime,this.mtime,this.ctime)},Ue.prototype.isFile=function(){return(this.mode&61440)===Ve.FILE},Ue.prototype.isDirectory=function(){return(this.mode&61440)===Ve.DIRECTORY},Ue.prototype.isSymbolicLink=function(){return(this.mode&61440)===Ve.SYMLINK},Ue.prototype.chmod=function(d){this.mode=this.mode&61440|d},Ue.prototype.isSocket=function(){return!1},Ue.prototype.isBlockDevice=function(){return!1},Ue.prototype.isCharacterDevice=function(){return!1},Ue.prototype.isFIFO=function(){return!1};var We=function(_e,d){return _e};function He(_e){if(_e)return _e;throw new Ie(ne.EIO,"Initialize BrowserFS with a file system using BrowserFS.initialize(filesystem)")}function Xe(_e,d){switch(typeof _e){case"number":return _e;case"string":var k=parseInt(_e,8);return isNaN(k)?d:k;default:return d}}function ot(_e){if(_e instanceof Date)return _e;if(typeof _e=="number")return new Date(_e*1e3);throw new Ie(ne.EINVAL,"Invalid time.")}function tt(_e){if(_e.indexOf("\0")>=0)throw new Ie(ne.EINVAL,"Path must be a string without null bytes.");if(_e==="")throw new Ie(ne.EINVAL,"Path must not be empty.");return Oe.resolve(_e)}function mt(_e,d,k,_){switch(typeof _e){case"object":return{encoding:typeof _e.encoding<"u"?_e.encoding:d,flag:typeof _e.flag<"u"?_e.flag:k,mode:Xe(_e.mode,_)};case"string":return{encoding:_e,flag:k,mode:_};default:return{encoding:d,flag:k,mode:_}}}function gt(){}var rt=function(){this.F_OK=0,this.R_OK=4,this.W_OK=2,this.X_OK=1,this.root=null,this.fdMap={},this.nextFd=100};rt.prototype.initialize=function(d){if(!d.constructor.isAvailable())throw new Ie(ne.EINVAL,"Tried to instantiate BrowserFS with an unavailable file system.");return this.root=d},rt.prototype._toUnixTimestamp=function(d){if(typeof d=="number")return d;if(d instanceof Date)return d.getTime()/1e3;throw new Error("Cannot parse time: "+d)},rt.prototype.getRootFS=function(){return this.root?this.root:null},rt.prototype.rename=function(d,k,_){_===void 0&&(_=gt);var Ae=We(_,1);try{He(this.root).rename(tt(d),tt(k),Ae)}catch(Be){Ae(Be)}},rt.prototype.renameSync=function(d,k){He(this.root).renameSync(tt(d),tt(k))},rt.prototype.exists=function(d,k){k===void 0&&(k=gt);var _=We(k,1);try{return He(this.root).exists(tt(d),_)}catch{return _(!1)}},rt.prototype.existsSync=function(d){try{return He(this.root).existsSync(tt(d))}catch{return!1}},rt.prototype.stat=function(d,k){k===void 0&&(k=gt);var _=We(k,2);try{return He(this.root).stat(tt(d),!1,_)}catch(Ae){return _(Ae)}},rt.prototype.statSync=function(d){return He(this.root).statSync(tt(d),!1)},rt.prototype.lstat=function(d,k){k===void 0&&(k=gt);var _=We(k,2);try{return He(this.root).stat(tt(d),!0,_)}catch(Ae){return _(Ae)}},rt.prototype.lstatSync=function(d){return He(this.root).statSync(tt(d),!0)},rt.prototype.truncate=function(d,k,_){k===void 0&&(k=0),_===void 0&&(_=gt);var Ae=0;typeof k=="function"?_=k:typeof k=="number"&&(Ae=k);var Be=We(_,1);try{if(Ae<0)throw new Ie(ne.EINVAL);return He(this.root).truncate(tt(d),Ae,Be)}catch(Me){return Be(Me)}},rt.prototype.truncateSync=function(d,k){if(k===void 0&&(k=0),k<0)throw new Ie(ne.EINVAL);return He(this.root).truncateSync(tt(d),k)},rt.prototype.unlink=function(d,k){k===void 0&&(k=gt);var _=We(k,1);try{return He(this.root).unlink(tt(d),_)}catch(Ae){return _(Ae)}},rt.prototype.unlinkSync=function(d){return He(this.root).unlinkSync(tt(d))},rt.prototype.open=function(d,k,_,Ae){var Be=this;Ae===void 0&&(Ae=gt);var Me=Xe(_,420);Ae=typeof _=="function"?_:Ae;var Ye=We(Ae,2);try{He(this.root).open(tt(d),Ne.getFileFlag(k),Me,function(et,ft){ft?Ye(et,Be.getFdForFile(ft)):Ye(et)})}catch(et){Ye(et)}},rt.prototype.openSync=function(d,k,_){return _===void 0&&(_=420),this.getFdForFile(He(this.root).openSync(tt(d),Ne.getFileFlag(k),Xe(_,420)))},rt.prototype.readFile=function(d,k,_){k===void 0&&(k={}),_===void 0&&(_=gt);var Ae=mt(k,null,"r",null);_=typeof k=="function"?k:_;var Be=We(_,2);try{var Me=Ne.getFileFlag(Ae.flag);return Me.isReadable()?He(this.root).readFile(tt(d),Ae.encoding,Me,Be):Be(new Ie(ne.EINVAL,"Flag passed to readFile must allow for reading."))}catch(Ye){return Be(Ye)}},rt.prototype.readFileSync=function(d,k){k===void 0&&(k={});var _=mt(k,null,"r",null),Ae=Ne.getFileFlag(_.flag);if(!Ae.isReadable())throw new Ie(ne.EINVAL,"Flag passed to readFile must allow for reading.");return He(this.root).readFileSync(tt(d),_.encoding,Ae)},rt.prototype.writeFile=function(d,k,_,Ae){_===void 0&&(_={}),Ae===void 0&&(Ae=gt);var Be=mt(_,"utf8","w",420);Ae=typeof _=="function"?_:Ae;var Me=We(Ae,1);try{var Ye=Ne.getFileFlag(Be.flag);return Ye.isWriteable()?He(this.root).writeFile(tt(d),k,Be.encoding,Ye,Be.mode,Me):Me(new Ie(ne.EINVAL,"Flag passed to writeFile must allow for writing."))}catch(et){return Me(et)}},rt.prototype.writeFileSync=function(d,k,_){var Ae=mt(_,"utf8","w",420),Be=Ne.getFileFlag(Ae.flag);if(!Be.isWriteable())throw new Ie(ne.EINVAL,"Flag passed to writeFile must allow for writing.");return He(this.root).writeFileSync(tt(d),k,Ae.encoding,Be,Ae.mode)},rt.prototype.appendFile=function(d,k,_,Ae){Ae===void 0&&(Ae=gt);var Be=mt(_,"utf8","a",420);Ae=typeof _=="function"?_:Ae;var Me=We(Ae,1);try{var Ye=Ne.getFileFlag(Be.flag);if(!Ye.isAppendable())return Me(new Ie(ne.EINVAL,"Flag passed to appendFile must allow for appending."));He(this.root).appendFile(tt(d),k,Be.encoding,Ye,Be.mode,Me)}catch(et){Me(et)}},rt.prototype.appendFileSync=function(d,k,_){var Ae=mt(_,"utf8","a",420),Be=Ne.getFileFlag(Ae.flag);if(!Be.isAppendable())throw new Ie(ne.EINVAL,"Flag passed to appendFile must allow for appending.");return He(this.root).appendFileSync(tt(d),k,Ae.encoding,Be,Ae.mode)},rt.prototype.fstat=function(d,k){k===void 0&&(k=gt);var _=We(k,2);try{var Ae=this.fd2file(d);Ae.stat(_)}catch(Be){_(Be)}},rt.prototype.fstatSync=function(d){return this.fd2file(d).statSync()},rt.prototype.close=function(d,k){var _=this;k===void 0&&(k=gt);var Ae=We(k,1);try{this.fd2file(d).close(function(Be){Be||_.closeFd(d),Ae(Be)})}catch(Be){Ae(Be)}},rt.prototype.closeSync=function(d){this.fd2file(d).closeSync(),this.closeFd(d)},rt.prototype.ftruncate=function(d,k,_){_===void 0&&(_=gt);var Ae=typeof k=="number"?k:0;_=typeof k=="function"?k:_;var Be=We(_,1);try{var Me=this.fd2file(d);if(Ae<0)throw new Ie(ne.EINVAL);Me.truncate(Ae,Be)}catch(Ye){Be(Ye)}},rt.prototype.ftruncateSync=function(d,k){k===void 0&&(k=0);var _=this.fd2file(d);if(k<0)throw new Ie(ne.EINVAL);_.truncateSync(k)},rt.prototype.fsync=function(d,k){k===void 0&&(k=gt);var _=We(k,1);try{this.fd2file(d).sync(_)}catch(Ae){_(Ae)}},rt.prototype.fsyncSync=function(d){this.fd2file(d).syncSync()},rt.prototype.fdatasync=function(d,k){k===void 0&&(k=gt);var _=We(k,1);try{this.fd2file(d).datasync(_)}catch(Ae){_(Ae)}},rt.prototype.fdatasyncSync=function(d){this.fd2file(d).datasyncSync()},rt.prototype.write=function(d,k,_,Ae,Be,Me){Me===void 0&&(Me=gt);var Ye,et,ft,kt=null;if(typeof k=="string"){var Ht="utf8";switch(typeof _){case"function":Me=_;break;case"number":kt=_,Ht=typeof Ae=="string"?Ae:"utf8",Me=typeof Be=="function"?Be:Me;break;default:return Me=typeof Ae=="function"?Ae:typeof Be=="function"?Be:Me,Me(new Ie(ne.EINVAL,"Invalid arguments."))}Ye=f.from(k,Ht),et=0,ft=Ye.length}else Ye=k,et=_,ft=Ae,kt=typeof Be=="number"?Be:null,Me=typeof Be=="function"?Be:Me;var ir=We(Me,3);try{var _r=this.fd2file(d);kt==null&&(kt=_r.getPos()),_r.write(Ye,et,ft,kt,ir)}catch(vr){ir(vr)}},rt.prototype.writeSync=function(d,k,_,Ae,Be){var Me,Ye=0,et,ft;if(typeof k=="string"){ft=typeof _=="number"?_:null;var kt=typeof Ae=="string"?Ae:"utf8";Ye=0,Me=f.from(k,kt),et=Me.length}else Me=k,Ye=_,et=Ae,ft=typeof Be=="number"?Be:null;var Ht=this.fd2file(d);return ft==null&&(ft=Ht.getPos()),Ht.writeSync(Me,Ye,et,ft)},rt.prototype.read=function(d,k,_,Ae,Be,Me){Me===void 0&&(Me=gt);var Ye,et,ft,kt,Ht;if(typeof k=="number"){ft=k,Ye=_;var ir=Ae;Me=typeof Be=="function"?Be:Me,et=0,kt=f.alloc(ft),Ht=We(function(vr,qr,jr){if(vr)return Me(vr);Me(vr,jr.toString(ir),qr)},3)}else kt=k,et=_,ft=Ae,Ye=Be,Ht=We(Me,3);try{var _r=this.fd2file(d);Ye==null&&(Ye=_r.getPos()),_r.read(kt,et,ft,Ye,Ht)}catch(vr){Ht(vr)}},rt.prototype.readSync=function(d,k,_,Ae,Be){var Me=!1,Ye,et,ft,kt,Ht="utf8";typeof k=="number"?(ft=k,kt=_,Ht=Ae,et=0,Ye=f.alloc(ft),Me=!0):(Ye=k,et=_,ft=Ae,kt=Be);var ir=this.fd2file(d);kt==null&&(kt=ir.getPos());var _r=ir.readSync(Ye,et,ft,kt);return Me?[Ye.toString(Ht),_r]:_r},rt.prototype.fchown=function(d,k,_,Ae){Ae===void 0&&(Ae=gt);var Be=We(Ae,1);try{this.fd2file(d).chown(k,_,Be)}catch(Me){Be(Me)}},rt.prototype.fchownSync=function(d,k,_){this.fd2file(d).chownSync(k,_)},rt.prototype.fchmod=function(d,k,_){var Ae=We(_,1);try{var Be=typeof k=="string"?parseInt(k,8):k;this.fd2file(d).chmod(Be,Ae)}catch(Me){Ae(Me)}},rt.prototype.fchmodSync=function(d,k){var _=typeof k=="string"?parseInt(k,8):k;this.fd2file(d).chmodSync(_)},rt.prototype.futimes=function(d,k,_,Ae){Ae===void 0&&(Ae=gt);var Be=We(Ae,1);try{var Me=this.fd2file(d);typeof k=="number"&&(k=new Date(k*1e3)),typeof _=="number"&&(_=new Date(_*1e3)),Me.utimes(k,_,Be)}catch(Ye){Be(Ye)}},rt.prototype.futimesSync=function(d,k,_){this.fd2file(d).utimesSync(ot(k),ot(_))},rt.prototype.rmdir=function(d,k){k===void 0&&(k=gt);var _=We(k,1);try{d=tt(d),He(this.root).rmdir(d,_)}catch(Ae){_(Ae)}},rt.prototype.rmdirSync=function(d){return d=tt(d),He(this.root).rmdirSync(d)},rt.prototype.mkdir=function(d,k,_){_===void 0&&(_=gt),typeof k=="function"&&(_=k,k=511);var Ae=We(_,1);try{d=tt(d),He(this.root).mkdir(d,k,Ae)}catch(Be){Ae(Be)}},rt.prototype.mkdirSync=function(d,k){He(this.root).mkdirSync(tt(d),Xe(k,511))},rt.prototype.readdir=function(d,k){k===void 0&&(k=gt);var _=We(k,2);try{d=tt(d),He(this.root).readdir(d,_)}catch(Ae){_(Ae)}},rt.prototype.readdirSync=function(d){return d=tt(d),He(this.root).readdirSync(d)},rt.prototype.link=function(d,k,_){_===void 0&&(_=gt);var Ae=We(_,1);try{d=tt(d),k=tt(k),He(this.root).link(d,k,Ae)}catch(Be){Ae(Be)}},rt.prototype.linkSync=function(d,k){return d=tt(d),k=tt(k),He(this.root).linkSync(d,k)},rt.prototype.symlink=function(d,k,_,Ae){Ae===void 0&&(Ae=gt);var Be=typeof _=="string"?_:"file";Ae=typeof _=="function"?_:Ae;var Me=We(Ae,1);try{if(Be!=="file"&&Be!=="dir")return Me(new Ie(ne.EINVAL,"Invalid type: "+Be));d=tt(d),k=tt(k),He(this.root).symlink(d,k,Be,Me)}catch(Ye){Me(Ye)}},rt.prototype.symlinkSync=function(d,k,_){if(!_)_="file";else if(_!=="file"&&_!=="dir")throw new Ie(ne.EINVAL,"Invalid type: "+_);return d=tt(d),k=tt(k),He(this.root).symlinkSync(d,k,_)},rt.prototype.readlink=function(d,k){k===void 0&&(k=gt);var _=We(k,2);try{d=tt(d),He(this.root).readlink(d,_)}catch(Ae){_(Ae)}},rt.prototype.readlinkSync=function(d){return d=tt(d),He(this.root).readlinkSync(d)},rt.prototype.chown=function(d,k,_,Ae){Ae===void 0&&(Ae=gt);var Be=We(Ae,1);try{d=tt(d),He(this.root).chown(d,!1,k,_,Be)}catch(Me){Be(Me)}},rt.prototype.chownSync=function(d,k,_){d=tt(d),He(this.root).chownSync(d,!1,k,_)},rt.prototype.lchown=function(d,k,_,Ae){Ae===void 0&&(Ae=gt);var Be=We(Ae,1);try{d=tt(d),He(this.root).chown(d,!0,k,_,Be)}catch(Me){Be(Me)}},rt.prototype.lchownSync=function(d,k,_){d=tt(d),He(this.root).chownSync(d,!0,k,_)},rt.prototype.chmod=function(d,k,_){_===void 0&&(_=gt);var Ae=We(_,1);try{var Be=Xe(k,-1);if(Be<0)throw new Ie(ne.EINVAL,"Invalid mode.");He(this.root).chmod(tt(d),!1,Be,Ae)}catch(Me){Ae(Me)}},rt.prototype.chmodSync=function(d,k){var _=Xe(k,-1);if(_<0)throw new Ie(ne.EINVAL,"Invalid mode.");d=tt(d),He(this.root).chmodSync(d,!1,_)},rt.prototype.lchmod=function(d,k,_){_===void 0&&(_=gt);var Ae=We(_,1);try{var Be=Xe(k,-1);if(Be<0)throw new Ie(ne.EINVAL,"Invalid mode.");He(this.root).chmod(tt(d),!0,Be,Ae)}catch(Me){Ae(Me)}},rt.prototype.lchmodSync=function(d,k){var _=Xe(k,-1);if(_<1)throw new Ie(ne.EINVAL,"Invalid mode.");He(this.root).chmodSync(tt(d),!0,_)},rt.prototype.utimes=function(d,k,_,Ae){Ae===void 0&&(Ae=gt);var Be=We(Ae,1);try{He(this.root).utimes(tt(d),ot(k),ot(_),Be)}catch(Me){Be(Me)}},rt.prototype.utimesSync=function(d,k,_){He(this.root).utimesSync(tt(d),ot(k),ot(_))},rt.prototype.realpath=function(d,k,_){_===void 0&&(_=gt);var Ae=typeof k=="object"?k:{};_=typeof k=="function"?k:gt;var Be=We(_,2);try{d=tt(d),He(this.root).realpath(d,Ae,Be)}catch(Me){Be(Me)}},rt.prototype.realpathSync=function(d,k){return k===void 0&&(k={}),d=tt(d),He(this.root).realpathSync(d,k)},rt.prototype.watchFile=function(d,k,_){throw new Ie(ne.ENOTSUP)},rt.prototype.unwatchFile=function(d,k){throw new Ie(ne.ENOTSUP)},rt.prototype.watch=function(d,k,_){throw new Ie(ne.ENOTSUP)},rt.prototype.access=function(d,k,_){throw new Ie(ne.ENOTSUP)},rt.prototype.accessSync=function(d,k){throw new Ie(ne.ENOTSUP)},rt.prototype.createReadStream=function(d,k){throw new Ie(ne.ENOTSUP)},rt.prototype.createWriteStream=function(d,k){throw new Ie(ne.ENOTSUP)},rt.prototype.wrapCallbacks=function(d){We=d},rt.prototype.getFdForFile=function(d){var k=this.nextFd++;return this.fdMap[k]=d,k},rt.prototype.fd2file=function(d){var k=this.fdMap[d];if(k)return k;throw new Ie(ne.EBADF,"Invalid file descriptor.")},rt.prototype.closeFd=function(d){delete this.fdMap[d]},rt.Stats=Ue;var pt=new rt,it={},vt=rt.prototype;Object.keys(vt).forEach(function(_e){typeof pt[_e]=="function"?it[_e]=function(){return pt[_e].apply(pt,arguments)}:it[_e]=pt[_e]}),it.changeFSModule=function(_e){pt=_e},it.getFSModule=function(){return pt},it.FS=rt;function Ze(_e,d,k,_,Ae){return _e<d||k<d?_e>k?k+1:_e+1:_===Ae?d:d+1}function Ft(_e,d){if(_e===d)return 0;if(_e.length>d.length){var k=_e;_e=d,d=k}for(var _=_e.length,Ae=d.length;_>0&&_e.charCodeAt(_-1)===d.charCodeAt(Ae-1);)_--,Ae--;for(var Be=0;Be<_&&_e.charCodeAt(Be)===d.charCodeAt(Be);)Be++;if(_-=Be,Ae-=Be,_===0||Ae===1)return Ae;for(var Me=new Array(_<<1),Ye=0;Ye<_;)Me[_+Ye]=_e.charCodeAt(Be+Ye),Me[Ye]=++Ye;var et,ft,kt,Ht,ir;for(et=0;et+3<Ae;)for(var _r=d.charCodeAt(Be+(ft=et)),vr=d.charCodeAt(Be+(kt=et+1)),qr=d.charCodeAt(Be+(Ht=et+2)),jr=d.charCodeAt(Be+(ir=et+3)),Wr=et+=4,En=0;En<_;){var Mn=Me[_+En],Fi=Me[En];ft=Ze(Fi,ft,kt,_r,Mn),kt=Ze(ft,kt,Ht,vr,Mn),Ht=Ze(kt,Ht,ir,qr,Mn),Wr=Ze(Ht,ir,Wr,jr,Mn),Me[En++]=Wr,ir=Ht,Ht=kt,kt=ft,ft=Fi}for(var Pi=0;et<Ae;){var Ao=d.charCodeAt(Be+(ft=et));Pi=++et;for(var Wi=0;Wi<_;Wi++){var Ki=Me[Wi];Me[Wi]=Pi=Ki<ft||Pi<ft?Ki>Pi?Pi+1:Ki+1:Ao===Me[_+Wi]?ft:ft+1,ft=Ki}}return Pi}function Zt(_e,d,k){_e&&console.warn("["+d+"] Direct file system constructor usage is deprecated for this file system, and will be removed in the next major version. Please use the '"+d+".Create("+JSON.stringify(k)+", callback)' method instead. See https://github.com/jvilk/BrowserFS/issues/176 for more details.")}var jt=typeof navigator<"u"&&!!(/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||navigator.userAgent.indexOf("Trident")!==-1),ur=typeof window>"u";function bt(){throw new Error("BFS has reached an impossible code path; please file a bug.")}function St(_e,d,k){k.existsSync(_e)||(St(Oe.dirname(_e),d,k),k.mkdirSync(_e,d))}function ct(_e){var d=dt(_e),k=d.byteOffset,_=d.byteLength;return k===0&&_===d.buffer.byteLength?d.buffer:d.buffer.slice(k,k+_)}function dt(_e){return _e instanceof Uint8Array?_e:new Uint8Array(_e)}function Pt(_e){return _e instanceof f?_e:_e instanceof Uint8Array?Ct(_e):f.from(_e)}function Ct(_e){return _e instanceof f?_e:_e.byteOffset===0&&_e.byteLength===_e.buffer.byteLength?Kt(_e.buffer):f.from(_e.buffer,_e.byteOffset,_e.byteLength)}function Kt(_e){return f.from(_e)}function fr(_e,d,k){if(d===void 0&&(d=0),k===void 0&&(k=_e.length),d<0||k<0||k>_e.length||d>k)throw new TypeError("Invalid slice bounds on buffer of length "+_e.length+": ["+d+", "+k+"]");if(_e.length===0)return cr();var _=dt(_e),Ae=_e[0],Be=(Ae+1)%255;return _e[0]=Be,_[0]===Be?(_[0]=Ae,Ct(_.slice(d,k))):(_e[0]=Ae,Ct(_.subarray(d,k)))}var Rr=null;function cr(){return Rr||(Rr=f.alloc(0))}function lt(_e,d){f.isBuffer(_e)?d():d(new Ie(ne.EINVAL,"option must be a Buffer."))}function yt(_e,d,k){var _=_e.Options,Ae=_e.Name,Be=0,Me=!1,Ye=!1;function et(ir){Me||(ir&&(Me=!0,k(ir)),Be--,Be===0&&Ye&&k())}var ft=function(ir){if(_.hasOwnProperty(ir)){var _r=_[ir],vr=d[ir];if(vr==null){if(!_r.optional){var qr=Object.keys(d).filter(function(Wr){return!(Wr in _)}).map(function(Wr){return{str:Wr,distance:Ft(ir,Wr)}}).filter(function(Wr){return Wr.distance<5}).sort(function(Wr,En){return Wr.distance-En.distance});return Me?{}:(Me=!0,{v:k(new Ie(ne.EINVAL,"["+Ae+"] Required option '"+ir+"' not provided."+(qr.length>0?" You provided unrecognized option '"+qr[0].str+"'; perhaps you meant to type '"+ir+"'.":"")+`
Option description: `+_r.description))})}}else{var jr=!1;if(Array.isArray(_r.type)?jr=_r.type.indexOf(typeof vr)!==-1:jr=typeof vr===_r.type,jr)_r.validator&&(Be++,_r.validator(vr,et));else return Me?{}:(Me=!0,{v:k(new Ie(ne.EINVAL,"["+Ae+"] Value provided for option "+ir+" is not the proper type. Expected "+(Array.isArray(_r.type)?"one of {"+_r.type.join(", ")+"}":_r.type)+", but received "+typeof vr+`
Option description: `+_r.description))})}}};for(var kt in _){var Ht=ft(kt);if(Ht)return Ht.v}Ye=!0,Be===0&&!Me&&k()}var Xt=Object.freeze({deprecationMessage:Zt,isIE:jt,isWebWorker:ur,fail:bt,mkdirpSync:St,buffer2ArrayBuffer:ct,buffer2Uint8array:dt,arrayish2Buffer:Pt,uint8Array2Buffer:Ct,arrayBuffer2Buffer:Kt,copyingSlice:fr,emptyBuffer:cr,bufferValidator:lt,checkOptions:yt}),$t=function(d){this.fs=d,this.nodefs=d.getNodeFS(),this.FS=d.getFS(),this.PATH=d.getPATH(),this.ERRNO_CODES=d.getERRNO_CODES()};$t.prototype.open=function(d){var k=this.fs.realPath(d.node),_=this.FS;try{_.isFile(d.node.mode)&&(d.nfd=this.nodefs.openSync(k,this.fs.flagsToPermissionString(d.flags)))}catch(Ae){throw Ae.code?new _.ErrnoError(this.ERRNO_CODES[Ae.code]):Ae}},$t.prototype.close=function(d){var k=this.FS;try{k.isFile(d.node.mode)&&d.nfd&&this.nodefs.closeSync(d.nfd)}catch(_){throw _.code?new k.ErrnoError(this.ERRNO_CODES[_.code]):_}},$t.prototype.read=function(d,k,_,Ae,Be){try{return this.nodefs.readSync(d.nfd,Ct(k),_,Ae,Be)}catch(Me){throw new this.FS.ErrnoError(this.ERRNO_CODES[Me.code])}},$t.prototype.write=function(d,k,_,Ae,Be){try{return this.nodefs.writeSync(d.nfd,Ct(k),_,Ae,Be)}catch(Me){throw new this.FS.ErrnoError(this.ERRNO_CODES[Me.code])}},$t.prototype.llseek=function(d,k,_){var Ae=k;if(_===1)Ae+=d.position;else if(_===2&&this.FS.isFile(d.node.mode))try{var Be=this.nodefs.fstatSync(d.nfd);Ae+=Be.size}catch(Me){throw new this.FS.ErrnoError(this.ERRNO_CODES[Me.code])}if(Ae<0)throw new this.FS.ErrnoError(this.ERRNO_CODES.EINVAL);return d.position=Ae,Ae};var dr=function(d){this.fs=d,this.nodefs=d.getNodeFS(),this.FS=d.getFS(),this.PATH=d.getPATH(),this.ERRNO_CODES=d.getERRNO_CODES()};dr.prototype.getattr=function(d){var k=this.fs.realPath(d),_;try{_=this.nodefs.lstatSync(k)}catch(Ae){throw Ae.code?new this.FS.ErrnoError(this.ERRNO_CODES[Ae.code]):Ae}return{dev:_.dev,ino:_.ino,mode:_.mode,nlink:_.nlink,uid:_.uid,gid:_.gid,rdev:_.rdev,size:_.size,atime:_.atime,mtime:_.mtime,ctime:_.ctime,blksize:_.blksize,blocks:_.blocks}},dr.prototype.setattr=function(d,k){var _=this.fs.realPath(d);try{if(k.mode!==void 0&&(this.nodefs.chmodSync(_,k.mode),d.mode=k.mode),k.timestamp!==void 0){var Ae=new Date(k.timestamp);this.nodefs.utimesSync(_,Ae,Ae)}}catch(Be){if(!Be.code)throw Be;if(Be.code!=="ENOTSUP")throw new this.FS.ErrnoError(this.ERRNO_CODES[Be.code])}if(k.size!==void 0)try{this.nodefs.truncateSync(_,k.size)}catch(Be){throw Be.code?new this.FS.ErrnoError(this.ERRNO_CODES[Be.code]):Be}},dr.prototype.lookup=function(d,k){var _=this.PATH.join2(this.fs.realPath(d),k),Ae=this.fs.getMode(_);return this.fs.createNode(d,k,Ae)},dr.prototype.mknod=function(d,k,_,Ae){var Be=this.fs.createNode(d,k,_,Ae),Me=this.fs.realPath(Be);try{this.FS.isDir(Be.mode)?this.nodefs.mkdirSync(Me,Be.mode):this.nodefs.writeFileSync(Me,"",{mode:Be.mode})}catch(Ye){throw Ye.code?new this.FS.ErrnoError(this.ERRNO_CODES[Ye.code]):Ye}return Be},dr.prototype.rename=function(d,k,_){var Ae=this.fs.realPath(d),Be=this.PATH.join2(this.fs.realPath(k),_);try{this.nodefs.renameSync(Ae,Be),d.name=_,d.parent=k}catch(Me){throw Me.code?new this.FS.ErrnoError(this.ERRNO_CODES[Me.code]):Me}},dr.prototype.unlink=function(d,k){var _=this.PATH.join2(this.fs.realPath(d),k);try{this.nodefs.unlinkSync(_)}catch(Ae){throw Ae.code?new this.FS.ErrnoError(this.ERRNO_CODES[Ae.code]):Ae}},dr.prototype.rmdir=function(d,k){var _=this.PATH.join2(this.fs.realPath(d),k);try{this.nodefs.rmdirSync(_)}catch(Ae){throw Ae.code?new this.FS.ErrnoError(this.ERRNO_CODES[Ae.code]):Ae}},dr.prototype.readdir=function(d){var k=this.fs.realPath(d);try{var _=this.nodefs.readdirSync(k);return _.push(".",".."),_}catch(Ae){throw Ae.code?new this.FS.ErrnoError(this.ERRNO_CODES[Ae.code]):Ae}},dr.prototype.symlink=function(d,k,_){var Ae=this.PATH.join2(this.fs.realPath(d),k);try{this.nodefs.symlinkSync(_,Ae)}catch(Be){throw Be.code?new this.FS.ErrnoError(this.ERRNO_CODES[Be.code]):Be}},dr.prototype.readlink=function(d){var k=this.fs.realPath(d);try{return this.nodefs.readlinkSync(k)}catch(_){throw _.code?new this.FS.ErrnoError(this.ERRNO_CODES[_.code]):_}};var Je=function(d,k,_,Ae){d===void 0&&(d=self.FS),k===void 0&&(k=self.PATH),_===void 0&&(_=self.ERRNO_CODES),Ae===void 0&&(Ae=it),this.flagsToPermissionStringMap={0:"r",1:"r+",2:"r+",64:"r",65:"r+",66:"r+",129:"rx+",193:"rx+",514:"w+",577:"w",578:"w+",705:"wx",706:"wx+",1024:"a",1025:"a",1026:"a+",1089:"a",1090:"a+",1153:"ax",1154:"ax+",1217:"ax",1218:"ax+",4096:"rs",4098:"rs+"},this.nodefs=Ae,this.FS=d,this.PATH=k,this.ERRNO_CODES=_,this.node_ops=new dr(this),this.stream_ops=new $t(this)};Je.prototype.mount=function(d){return this.createNode(null,"/",this.getMode(d.opts.root),0)},Je.prototype.createNode=function(d,k,_,Ae){var Be=this.FS;if(!Be.isDir(_)&&!Be.isFile(_)&&!Be.isLink(_))throw new Be.ErrnoError(this.ERRNO_CODES.EINVAL);var Me=Be.createNode(d,k,_);return Me.node_ops=this.node_ops,Me.stream_ops=this.stream_ops,Me},Je.prototype.getMode=function(d){var k;try{k=this.nodefs.lstatSync(d)}catch(_){throw _.code?new this.FS.ErrnoError(this.ERRNO_CODES[_.code]):_}return k.mode},Je.prototype.realPath=function(d){for(var k=[];d.parent!==d;)k.push(d.name),d=d.parent;return k.push(d.mount.opts.root),k.reverse(),this.PATH.join.apply(null,k)},Je.prototype.flagsToPermissionString=function(d){var k=typeof d=="string"?parseInt(d,10):d;return k&=8191,k in this.flagsToPermissionStringMap?this.flagsToPermissionStringMap[k]:d},Je.prototype.getNodeFS=function(){return this.nodefs},Je.prototype.getFS=function(){return this.FS},Je.prototype.getPATH=function(){return this.PATH},Je.prototype.getERRNO_CODES=function(){return this.ERRNO_CODES};var At=function(){};At.prototype.supportsLinks=function(){return!1},At.prototype.diskSpace=function(d,k){k(0,0)},At.prototype.openFile=function(d,k,_){throw new Ie(ne.ENOTSUP)},At.prototype.createFile=function(d,k,_,Ae){throw new Ie(ne.ENOTSUP)},At.prototype.open=function(d,k,_,Ae){var Be=this,Me=function(Ye,et){if(Ye)switch(k.pathNotExistsAction()){case Fe.CREATE_FILE:return Be.stat(Oe.dirname(d),!1,function(ft,kt){ft?Ae(ft):kt&&!kt.isDirectory()?Ae(Ie.ENOTDIR(Oe.dirname(d))):Be.createFile(d,k,_,Ae)});case Fe.THROW_EXCEPTION:return Ae(Ie.ENOENT(d));default:return Ae(new Ie(ne.EINVAL,"Invalid FileFlag object."))}else{if(et&&et.isDirectory())return Ae(Ie.EISDIR(d));switch(k.pathExistsAction()){case Fe.THROW_EXCEPTION:return Ae(Ie.EEXIST(d));case Fe.TRUNCATE_FILE:return Be.openFile(d,k,function(ft,kt){ft?Ae(ft):kt?kt.truncate(0,function(){kt.sync(function(){Ae(null,kt)})}):bt()});case Fe.NOP:return Be.openFile(d,k,Ae);default:return Ae(new Ie(ne.EINVAL,"Invalid FileFlag object."))}}};this.stat(d,!1,Me)},At.prototype.rename=function(d,k,_){_(new Ie(ne.ENOTSUP))},At.prototype.renameSync=function(d,k){throw new Ie(ne.ENOTSUP)},At.prototype.stat=function(d,k,_){_(new Ie(ne.ENOTSUP))},At.prototype.statSync=function(d,k){throw new Ie(ne.ENOTSUP)},At.prototype.openFileSync=function(d,k,_){throw new Ie(ne.ENOTSUP)},At.prototype.createFileSync=function(d,k,_){throw new Ie(ne.ENOTSUP)},At.prototype.openSync=function(d,k,_){var Ae;try{Ae=this.statSync(d,!1)}catch{switch(k.pathNotExistsAction()){case Fe.CREATE_FILE:var Be=this.statSync(Oe.dirname(d),!1);if(!Be.isDirectory())throw Ie.ENOTDIR(Oe.dirname(d));return this.createFileSync(d,k,_);case Fe.THROW_EXCEPTION:throw Ie.ENOENT(d);default:throw new Ie(ne.EINVAL,"Invalid FileFlag object.")}}if(Ae.isDirectory())throw Ie.EISDIR(d);switch(k.pathExistsAction()){case Fe.THROW_EXCEPTION:throw Ie.EEXIST(d);case Fe.TRUNCATE_FILE:return this.unlinkSync(d),this.createFileSync(d,k,Ae.mode);case Fe.NOP:return this.openFileSync(d,k,_);default:throw new Ie(ne.EINVAL,"Invalid FileFlag object.")}},At.prototype.unlink=function(d,k){k(new Ie(ne.ENOTSUP))},At.prototype.unlinkSync=function(d){throw new Ie(ne.ENOTSUP)},At.prototype.rmdir=function(d,k){k(new Ie(ne.ENOTSUP))},At.prototype.rmdirSync=function(d){throw new Ie(ne.ENOTSUP)},At.prototype.mkdir=function(d,k,_){_(new Ie(ne.ENOTSUP))},At.prototype.mkdirSync=function(d,k){throw new Ie(ne.ENOTSUP)},At.prototype.readdir=function(d,k){k(new Ie(ne.ENOTSUP))},At.prototype.readdirSync=function(d){throw new Ie(ne.ENOTSUP)},At.prototype.exists=function(d,k){this.stat(d,null,function(_){k(!_)})},At.prototype.existsSync=function(d){try{return this.statSync(d,!0),!0}catch{return!1}},At.prototype.realpath=function(d,k,_){if(this.supportsLinks())for(var Ae=d.split(Oe.sep),Be=0;Be<Ae.length;Be++){var Me=Ae.slice(0,Be+1);Ae[Be]=Oe.join.apply(null,Me)}else this.exists(d,function(Ye){Ye?_(null,d):_(Ie.ENOENT(d))})},At.prototype.realpathSync=function(d,k){if(this.supportsLinks()){for(var _=d.split(Oe.sep),Ae=0;Ae<_.length;Ae++){var Be=_.slice(0,Ae+1);_[Ae]=Oe.join.apply(Oe,Be)}return _.join(Oe.sep)}else{if(this.existsSync(d))return d;throw Ie.ENOENT(d)}},At.prototype.truncate=function(d,k,_){this.open(d,Ne.getFileFlag("r+"),420,function(Ae,Be){if(Ae)return _(Ae);Be.truncate(k,function(Me){Be.close(function(Ye){_(Me||Ye)})})})},At.prototype.truncateSync=function(d,k){var _=this.openSync(d,Ne.getFileFlag("r+"),420);try{_.truncateSync(k)}catch(Ae){throw Ae}finally{_.closeSync()}},At.prototype.readFile=function(d,k,_,Ae){var Be=Ae;this.open(d,_,420,function(Me,Ye){if(Me)return Ae(Me);Ae=function(et,ft){Ye.close(function(kt){return et||(et=kt),Be(et,ft)})},Ye.stat(function(et,ft){if(et)return Ae(et);var kt=f.alloc(ft.size);Ye.read(kt,0,ft.size,0,function(Ht){if(Ht)return Ae(Ht);if(k===null)return Ae(Ht,kt);try{Ae(null,kt.toString(k))}catch(ir){Ae(ir)}})})})},At.prototype.readFileSync=function(d,k,_){var Ae=this.openSync(d,_,420);try{var Be=Ae.statSync(),Me=f.alloc(Be.size);return Ae.readSync(Me,0,Be.size,0),Ae.closeSync(),k===null?Me:Me.toString(k)}finally{Ae.closeSync()}},At.prototype.writeFile=function(d,k,_,Ae,Be,Me){var Ye=Me;this.open(d,Ae,420,function(et,ft){if(et)return Me(et);Me=function(kt){ft.close(function(Ht){Ye(kt||Ht)})};try{typeof k=="string"&&(k=f.from(k,_))}catch(kt){return Me(kt)}ft.write(k,0,k.length,0,Me)})},At.prototype.writeFileSync=function(d,k,_,Ae,Be){var Me=this.openSync(d,Ae,Be);try{typeof k=="string"&&(k=f.from(k,_)),Me.writeSync(k,0,k.length,0)}finally{Me.closeSync()}},At.prototype.appendFile=function(d,k,_,Ae,Be,Me){var Ye=Me;this.open(d,Ae,Be,function(et,ft){if(et)return Me(et);Me=function(kt){ft.close(function(Ht){Ye(kt||Ht)})},typeof k=="string"&&(k=f.from(k,_)),ft.write(k,0,k.length,null,Me)})},At.prototype.appendFileSync=function(d,k,_,Ae,Be){var Me=this.openSync(d,Ae,Be);try{typeof k=="string"&&(k=f.from(k,_)),Me.writeSync(k,0,k.length,null)}finally{Me.closeSync()}},At.prototype.chmod=function(d,k,_,Ae){Ae(new Ie(ne.ENOTSUP))},At.prototype.chmodSync=function(d,k,_){throw new Ie(ne.ENOTSUP)},At.prototype.chown=function(d,k,_,Ae,Be){Be(new Ie(ne.ENOTSUP))},At.prototype.chownSync=function(d,k,_,Ae){throw new Ie(ne.ENOTSUP)},At.prototype.utimes=function(d,k,_,Ae){Ae(new Ie(ne.ENOTSUP))},At.prototype.utimesSync=function(d,k,_){throw new Ie(ne.ENOTSUP)},At.prototype.link=function(d,k,_){_(new Ie(ne.ENOTSUP))},At.prototype.linkSync=function(d,k){throw new Ie(ne.ENOTSUP)},At.prototype.symlink=function(d,k,_,Ae){Ae(new Ie(ne.ENOTSUP))},At.prototype.symlinkSync=function(d,k,_){throw new Ie(ne.ENOTSUP)},At.prototype.readlink=function(d,k){k(new Ie(ne.ENOTSUP))},At.prototype.readlinkSync=function(d){throw new Ie(ne.ENOTSUP)};var Wt=function(_e){function d(){_e.apply(this,arguments)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.supportsSynch=function(){return!0},d.prototype.rename=function(_,Ae,Be){try{this.renameSync(_,Ae),Be()}catch(Me){Be(Me)}},d.prototype.stat=function(_,Ae,Be){try{Be(null,this.statSync(_,Ae))}catch(Me){Be(Me)}},d.prototype.open=function(_,Ae,Be,Me){try{Me(null,this.openSync(_,Ae,Be))}catch(Ye){Me(Ye)}},d.prototype.unlink=function(_,Ae){try{this.unlinkSync(_),Ae()}catch(Be){Ae(Be)}},d.prototype.rmdir=function(_,Ae){try{this.rmdirSync(_),Ae()}catch(Be){Ae(Be)}},d.prototype.mkdir=function(_,Ae,Be){try{this.mkdirSync(_,Ae),Be()}catch(Me){Be(Me)}},d.prototype.readdir=function(_,Ae){try{Ae(null,this.readdirSync(_))}catch(Be){Ae(Be)}},d.prototype.chmod=function(_,Ae,Be,Me){try{this.chmodSync(_,Ae,Be),Me()}catch(Ye){Me(Ye)}},d.prototype.chown=function(_,Ae,Be,Me,Ye){try{this.chownSync(_,Ae,Be,Me),Ye()}catch(et){Ye(et)}},d.prototype.utimes=function(_,Ae,Be,Me){try{this.utimesSync(_,Ae,Be),Me()}catch(Ye){Me(Ye)}},d.prototype.link=function(_,Ae,Be){try{this.linkSync(_,Ae),Be()}catch(Me){Be(Me)}},d.prototype.symlink=function(_,Ae,Be,Me){try{this.symlinkSync(_,Ae,Be),Me()}catch(Ye){Me(Ye)}},d.prototype.readlink=function(_,Ae){try{Ae(null,this.readlinkSync(_))}catch(Be){Ae(Be)}},d}(At),xt=function(){};xt.prototype.sync=function(d){d(new Ie(ne.ENOTSUP))},xt.prototype.syncSync=function(){throw new Ie(ne.ENOTSUP)},xt.prototype.datasync=function(d){this.sync(d)},xt.prototype.datasyncSync=function(){return this.syncSync()},xt.prototype.chown=function(d,k,_){_(new Ie(ne.ENOTSUP))},xt.prototype.chownSync=function(d,k){throw new Ie(ne.ENOTSUP)},xt.prototype.chmod=function(d,k){k(new Ie(ne.ENOTSUP))},xt.prototype.chmodSync=function(d){throw new Ie(ne.ENOTSUP)},xt.prototype.utimes=function(d,k,_){_(new Ie(ne.ENOTSUP))},xt.prototype.utimesSync=function(d,k){throw new Ie(ne.ENOTSUP)};var ht=function(_e){function d(k,_,Ae,Be,Me){if(_e.call(this),this._pos=0,this._dirty=!1,this._fs=k,this._path=_,this._flag=Ae,this._stat=Be,Me?this._buffer=Me:this._buffer=cr(),this._stat.size!==this._buffer.length&&this._flag.isReadable())throw new Error("Invalid buffer: Buffer is "+this._buffer.length+" long, yet Stats object specifies that file is "+this._stat.size+" long.")}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.getBuffer=function(){return this._buffer},d.prototype.getStats=function(){return this._stat},d.prototype.getFlag=function(){return this._flag},d.prototype.getPath=function(){return this._path},d.prototype.getPos=function(){return this._flag.isAppendable()?this._stat.size:this._pos},d.prototype.advancePos=function(_){return this._pos+=_},d.prototype.setPos=function(_){return this._pos=_},d.prototype.sync=function(_){try{this.syncSync(),_()}catch(Ae){_(Ae)}},d.prototype.syncSync=function(){throw new Ie(ne.ENOTSUP)},d.prototype.close=function(_){try{this.closeSync(),_()}catch(Ae){_(Ae)}},d.prototype.closeSync=function(){throw new Ie(ne.ENOTSUP)},d.prototype.stat=function(_){try{_(null,this._stat.clone())}catch(Ae){_(Ae)}},d.prototype.statSync=function(){return this._stat.clone()},d.prototype.truncate=function(_,Ae){try{this.truncateSync(_),this._flag.isSynchronous()&&!it.getRootFS().supportsSynch()&&this.sync(Ae),Ae()}catch(Be){return Ae(Be)}},d.prototype.truncateSync=function(_){if(this._dirty=!0,!this._flag.isWriteable())throw new Ie(ne.EPERM,"File not opened with a writeable mode.");if(this._stat.mtime=new Date,_>this._buffer.length){var Ae=f.alloc(_-this._buffer.length,0);this.writeSync(Ae,0,Ae.length,this._buffer.length),this._flag.isSynchronous()&&it.getRootFS().supportsSynch()&&this.syncSync();return}this._stat.size=_;var Be=f.alloc(_);this._buffer.copy(Be,0,0,_),this._buffer=Be,this._flag.isSynchronous()&&it.getRootFS().supportsSynch()&&this.syncSync()},d.prototype.write=function(_,Ae,Be,Me,Ye){try{Ye(null,this.writeSync(_,Ae,Be,Me),_)}catch(et){Ye(et)}},d.prototype.writeSync=function(_,Ae,Be,Me){if(this._dirty=!0,Me==null&&(Me=this.getPos()),!this._flag.isWriteable())throw new Ie(ne.EPERM,"File not opened with a writeable mode.");var Ye=Me+Be;if(Ye>this._stat.size&&(this._stat.size=Ye,Ye>this._buffer.length)){var et=f.alloc(Ye);this._buffer.copy(et),this._buffer=et}var ft=_.copy(this._buffer,Me,Ae,Ae+Be);return this._stat.mtime=new Date,this._flag.isSynchronous()?(this.syncSync(),ft):(this.setPos(Me+ft),ft)},d.prototype.read=function(_,Ae,Be,Me,Ye){try{Ye(null,this.readSync(_,Ae,Be,Me),_)}catch(et){Ye(et)}},d.prototype.readSync=function(_,Ae,Be,Me){if(!this._flag.isReadable())throw new Ie(ne.EPERM,"File not opened with a readable mode.");Me==null&&(Me=this.getPos());var Ye=Me+Be;Ye>this._stat.size&&(Be=this._stat.size-Me);var et=this._buffer.copy(_,Ae,Me,Me+Be);return this._stat.atime=new Date,this._pos=Me+Be,et},d.prototype.chmod=function(_,Ae){try{this.chmodSync(_),Ae()}catch(Be){Ae(Be)}},d.prototype.chmodSync=function(_){if(!this._fs.supportsProps())throw new Ie(ne.ENOTSUP);this._dirty=!0,this._stat.chmod(_),this.syncSync()},d.prototype.isDirty=function(){return this._dirty},d.prototype.resetDirty=function(){this._dirty=!1},d}(xt),Dt=function(_e){function d(k,_,Ae,Be,Me){_e.call(this,k,_,Ae,Be,Me)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.sync=function(_){_()},d.prototype.syncSync=function(){},d.prototype.close=function(_){_()},d.prototype.closeSync=function(){},d}(ht),er=function(_e){function d(k,_,Ae,Be,Me){_e.call(this,k,_,Ae,Be,Me)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},d.prototype.closeSync=function(){this.syncSync()},d}(ht),nt=function(_e){function d(k,_,Ae){if(Ae===void 0&&(Ae=!0),_e.call(this),this._queue=[],this._queueRunning=!1,this._isInitialized=!1,this._initializeCallbacks=[],this._sync=k,this._async=_,!k.supportsSynch())throw new Error("The first argument to AsyncMirror needs to be a synchronous file system.");Zt(Ae,d.Name,{sync:"sync file system instance",async:"async file system instance"})}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.Create=function(_,Ae){try{var Be=new d(_.sync,_.async,!1);Be.initialize(function(Me){Me?Ae(Me):Ae(null,Be)},!1)}catch(Me){Ae(Me)}},d.isAvailable=function(){return!0},d.prototype.getName=function(){return d.Name},d.prototype._syncSync=function(_){this._sync.writeFileSync(_.getPath(),_.getBuffer(),null,Ne.getFileFlag("w"),_.getStats().mode),this.enqueueOp({apiMethod:"writeFile",arguments:[_.getPath(),_.getBuffer(),null,_.getFlag(),_.getStats().mode]})},d.prototype.initialize=function(_,Ae){var Be=this;Ae===void 0&&(Ae=!0),Ae&&console.warn("[AsyncMirror] AsyncMirror.initialize() is deprecated and will be removed in the next major version. Please use 'AsyncMirror.Create({ sync: (sync file system instance), async: (async file system instance)}, cb)' to create and initialize AsyncMirror instances.");var Me=this._initializeCallbacks,Ye=function(Ht){Be._isInitialized=!Ht,Be._initializeCallbacks=[],Me.forEach(function(ir){return ir(Ht)})};if(this._isInitialized)_();else if(Me.push(_)===1){var et=function(Ht,ir,_r){Ht!=="/"&&Be._sync.mkdirSync(Ht,ir),Be._async.readdir(Ht,function(vr,qr){var jr=0;function Wr(En){En?_r(En):jr<qr.length?(kt(Oe.join(Ht,qr[jr]),Wr),jr++):_r()}vr?_r(vr):Wr()})},ft=function(Ht,ir,_r){Be._async.readFile(Ht,null,Ne.getFileFlag("r"),function(vr,qr){if(vr)_r(vr);else try{Be._sync.writeFileSync(Ht,qr,null,Ne.getFileFlag("w"),ir)}catch(jr){vr=jr}finally{_r(vr)}})},kt=function(Ht,ir){Be._async.stat(Ht,!1,function(_r,vr){_r?ir(_r):vr.isDirectory()?et(Ht,vr.mode,ir):ft(Ht,vr.mode,ir)})};et("/",0,Ye)}},d.prototype.isReadOnly=function(){return!1},d.prototype.supportsSynch=function(){return!0},d.prototype.supportsLinks=function(){return!1},d.prototype.supportsProps=function(){return this._sync.supportsProps()&&this._async.supportsProps()},d.prototype.renameSync=function(_,Ae){this.checkInitialized(),this._sync.renameSync(_,Ae),this.enqueueOp({apiMethod:"rename",arguments:[_,Ae]})},d.prototype.statSync=function(_,Ae){return this.checkInitialized(),this._sync.statSync(_,Ae)},d.prototype.openSync=function(_,Ae,Be){this.checkInitialized();var Me=this._sync.openSync(_,Ae,Be);return Me.closeSync(),new er(this,_,Ae,this._sync.statSync(_,!1),this._sync.readFileSync(_,null,Ne.getFileFlag("r")))},d.prototype.unlinkSync=function(_){this.checkInitialized(),this._sync.unlinkSync(_),this.enqueueOp({apiMethod:"unlink",arguments:[_]})},d.prototype.rmdirSync=function(_){this.checkInitialized(),this._sync.rmdirSync(_),this.enqueueOp({apiMethod:"rmdir",arguments:[_]})},d.prototype.mkdirSync=function(_,Ae){this.checkInitialized(),this._sync.mkdirSync(_,Ae),this.enqueueOp({apiMethod:"mkdir",arguments:[_,Ae]})},d.prototype.readdirSync=function(_){return this.checkInitialized(),this._sync.readdirSync(_)},d.prototype.existsSync=function(_){return this.checkInitialized(),this._sync.existsSync(_)},d.prototype.chmodSync=function(_,Ae,Be){this.checkInitialized(),this._sync.chmodSync(_,Ae,Be),this.enqueueOp({apiMethod:"chmod",arguments:[_,Ae,Be]})},d.prototype.chownSync=function(_,Ae,Be,Me){this.checkInitialized(),this._sync.chownSync(_,Ae,Be,Me),this.enqueueOp({apiMethod:"chown",arguments:[_,Ae,Be,Me]})},d.prototype.utimesSync=function(_,Ae,Be){this.checkInitialized(),this._sync.utimesSync(_,Ae,Be),this.enqueueOp({apiMethod:"utimes",arguments:[_,Ae,Be]})},d.prototype.checkInitialized=function(){if(!this._isInitialized)throw new Ie(ne.EPERM,"AsyncMirrorFS is not initialized. Please initialize AsyncMirrorFS using its initialize() method before using it.")},d.prototype.enqueueOp=function(_){var Ae=this;if(this._queue.push(_),!this._queueRunning){this._queueRunning=!0;var Be=function(Me){if(Me&&console.error("WARNING: File system has desynchronized. Received following error: "+Me+`
$`),Ae._queue.length>0){var Ye=Ae._queue.shift(),et=Ye.arguments;et.push(Be),Ae._async[Ye.apiMethod].apply(Ae._async,et)}else Ae._queueRunning=!1};Be()}},d}(Wt);nt.Name="AsyncMirror",nt.Options={sync:{type:"object",description:"The synchronous file system to mirror the asynchronous file system to."},async:{type:"object",description:"The asynchronous file system to mirror."}};function je(_e,d,k){switch(k.length){case 0:return _e.call(d);case 1:return _e.call(d,k[0]);case 2:return _e.call(d,k[0],k[1]);case 3:return _e.call(d,k[0],k[1],k[2])}return _e.apply(d,k)}var Ge=Math.max;function ut(_e,d,k){return d=Ge(d===void 0?_e.length-1:d,0),function(){for(var _=arguments,Ae=-1,Be=Ge(_.length-d,0),Me=Array(Be);++Ae<Be;)Me[Ae]=_[d+Ae];Ae=-1;for(var Ye=Array(d+1);++Ae<d;)Ye[Ae]=_[Ae];return Ye[d]=k(Me),je(_e,this,Ye)}}function Et(_e){return _e}function It(_e,d){return ut(_e,d,Et)}var zt=function(_e){return It(function(d){var k=d.pop();_e.call(this,d,k)})};function tr(_e){return It(function(d,k){var _=zt(function(Ae,Be){var Me=this;return _e(d,function(Ye,et){Ye.apply(Me,Ae.concat(et))},Be)});return k.length?_.apply(this,k):_})}var Sr=typeof m=="object"&&m&&m.Object===Object&&m,Lr=typeof self=="object"&&self&&self.Object===Object&&self,Br=Sr||Lr||Function("return this")(),Er=Br.Symbol,gr=Object.prototype,Qr=gr.hasOwnProperty,Cr=gr.toString,sn=Er?Er.toStringTag:void 0;function Bn(_e){var d=Qr.call(_e,sn),k=_e[sn];try{_e[sn]=void 0;var _=!0}catch{}var Ae=Cr.call(_e);return _&&(d?_e[sn]=k:delete _e[sn]),Ae}var Un=Object.prototype,wr=Un.toString;function Jt(_e){return wr.call(_e)}var yr="[object Null]",at="[object Undefined]",Or=Er?Er.toStringTag:void 0;function en(_e){return _e==null?_e===void 0?at:yr:Or&&Or in Object(_e)?Bn(_e):Jt(_e)}function kr(_e){var d=typeof _e;return _e!=null&&(d=="object"||d=="function")}var Pn="[object AsyncFunction]",Tr="[object Function]",ln="[object GeneratorFunction]",or="[object Proxy]";function ar(_e){if(!kr(_e))return!1;var d=en(_e);return d==Tr||d==ln||d==Pn||d==or}var Zr=9007199254740991;function Nr(_e){return typeof _e=="number"&&_e>-1&&_e%1==0&&_e<=Zr}function Dr(_e){return _e!=null&&Nr(_e.length)&&!ar(_e)}var Wn={};function jn(){}function fn(_e){return function(){if(_e!==null){var d=_e;_e=null,d.apply(this,arguments)}}}var Jr=typeof Symbol=="function"&&Symbol.iterator,dn=function(_e){return Jr&&_e[Jr]&&_e[Jr]()};function wn(_e,d){for(var k=-1,_=Array(_e);++k<_e;)_[k]=d(k);return _}function xn(_e){return _e!=null&&typeof _e=="object"}var mi="[object Arguments]";function Mi(_e){return xn(_e)&&en(_e)==mi}var on=Object.prototype,Ln=on.hasOwnProperty,hn=on.propertyIsEnumerable,Jn=Mi(function(){return arguments}())?Mi:function(_e){return xn(_e)&&Ln.call(_e,"callee")&&!hn.call(_e,"callee")},zn=Array.isArray;function vn(){return!1}var Ii=typeof i=="object"&&i&&!i.nodeType&&i,li=Ii&&typeof g=="object"&&g&&!g.nodeType&&g,v0=li&&li.exports===Ii,Vi=v0?Br.Buffer:void 0,Ja=Vi?Vi.isBuffer:void 0,as=Ja||vn,ss=9007199254740991,Ui=/^(?:0|[1-9]\d*)$/;function m0(_e,d){return d=d??ss,!!d&&(typeof _e=="number"||Ui.test(_e))&&_e>-1&&_e%1==0&&_e<d}var Xa="[object Arguments]",g0="[object Array]",Xr="[object Boolean]",y0="[object Date]",b0="[object Error]",E0="[object Function]",pn="[object Map]",va="[object Number]",ma="[object Object]",Zi="[object RegExp]",cs="[object Set]",us="[object String]",Za="[object WeakMap]",w0="[object ArrayBuffer]",$a="[object DataView]",S0="[object Float32Array]",gi="[object Float64Array]",ga="[object Int8Array]",A0="[object Int16Array]",nu="[object Int32Array]",$r="[object Uint8Array]",ls="[object Uint8ClampedArray]",iu="[object Uint16Array]",au="[object Uint32Array]",Yr={};Yr[S0]=Yr[gi]=Yr[ga]=Yr[A0]=Yr[nu]=Yr[$r]=Yr[ls]=Yr[iu]=Yr[au]=!0,Yr[Xa]=Yr[g0]=Yr[w0]=Yr[Xr]=Yr[$a]=Yr[y0]=Yr[b0]=Yr[E0]=Yr[pn]=Yr[va]=Yr[ma]=Yr[Zi]=Yr[cs]=Yr[us]=Yr[Za]=!1;function $i(_e){return xn(_e)&&Nr(_e.length)&&!!Yr[en(_e)]}function eo(_e){return function(d){return _e(d)}}var yi=typeof i=="object"&&i&&!i.nodeType&&i,fs=yi&&typeof g=="object"&&g&&!g.nodeType&&g,I0=fs&&fs.exports===yi,Sn=I0&&Sr.process,ni=function(){try{return Sn&&Sn.binding&&Sn.binding("util")}catch{}}(),ea=ni&&ni.isTypedArray,ya=ea?eo(ea):$i,ds=Object.prototype,Ci=ds.hasOwnProperty;function ou(_e,d){var k=zn(_e),_=!k&&Jn(_e),Ae=!k&&!_&&as(_e),Be=!k&&!_&&!Ae&&ya(_e),Me=k||_||Ae||Be,Ye=Me?wn(_e.length,String):[],et=Ye.length;for(var ft in _e)Ci.call(_e,ft)&&!(Me&&(ft=="length"||Ae&&(ft=="offset"||ft=="parent")||Be&&(ft=="buffer"||ft=="byteLength"||ft=="byteOffset")||m0(ft,et)))&&Ye.push(ft);return Ye}var fi=Object.prototype;function xs(_e){var d=_e&&_e.constructor,k=typeof d=="function"&&d.prototype||fi;return _e===k}function C0(_e,d){return function(k){return _e(d(k))}}var hs=C0(Object.keys,Object),ba=Object.prototype,ps=ba.hasOwnProperty;function k0(_e){if(!xs(_e))return hs(_e);var d=[];for(var k in Object(_e))ps.call(_e,k)&&k!="constructor"&&d.push(k);return d}function su(_e){return Dr(_e)?ou(_e):k0(_e)}function Ea(_e){var d=-1,k=_e.length;return function(){return++d<k?{value:_e[d],key:d}:null}}function cu(_e){var d=-1;return function(){var _=_e.next();return _.done?null:(d++,{value:_.value,key:d})}}function uu(_e){var d=su(_e),k=-1,_=d.length;return function(){var Be=d[++k];return k<_?{value:_e[Be],key:Be}:null}}function to(_e){if(Dr(_e))return Ea(_e);var d=dn(_e);return d?cu(d):uu(_e)}function wa(_e){return function(){if(_e===null)throw new Error("Callback was already called.");var d=_e;_e=null,d.apply(this,arguments)}}function ro(_e){return function(d,k,_){if(_=fn(_||jn),_e<=0||!d)return _(null);var Ae=to(d),Be=!1,Me=0;function Ye(ft,kt){if(Me-=1,ft)Be=!0,_(ft);else{if(kt===Wn||Be&&Me<=0)return Be=!0,_(null);et()}}function et(){for(;Me<_e&&!Be;){var ft=Ae();if(ft===null){Be=!0,Me<=0&&_(null);return}Me+=1,k(ft.value,ft.key,wa(Ye))}}et()}}function O0(_e,d,k,_){ro(d)(_e,k,_)}function _s(_e,d){return function(k,_,Ae){return _e(k,d,_,Ae)}}function lu(_e,d,k){k=fn(k||jn);var _=0,Ae=0,Be=_e.length;Be===0&&k(null);function Me(Ye,et){Ye?k(Ye):(++Ae===Be||et===Wn)&&k(null)}for(;_<Be;_++)d(_e[_],_,wa(Me))}var vs=_s(O0,1/0),no=function(_e,d,k){var _=Dr(_e)?lu:vs;_(_e,d,k)};function T0(_e){return function(d,k,_){return _e(no,d,k,_)}}function Sa(_e,d,k,_){_=_||jn,d=d||[];var Ae=[],Be=0;_e(d,function(Me,Ye,et){var ft=Be++;k(Me,function(kt,Ht){Ae[ft]=Ht,et(kt)})},function(Me){_(Me,Ae)})}var io=T0(Sa);tr(io);function ao(_e){return function(d,k,_,Ae){return _e(ro(k),d,_,Ae)}}var D0=ao(Sa),fu=_s(D0,1);tr(fu),It(function(_e,d){return It(function(k){return _e.apply(null,d.concat(k))})});function oo(_e,d){for(var k=-1,_=_e==null?0:_e.length;++k<_&&d(_e[k],k,_e)!==!1;);return _e}var so=typeof setImmediate=="function"&&setImmediate,co=typeof Te=="object"&&typeof Te.nextTick=="function";function uo(_e){setTimeout(_e,0)}function lo(_e){return It(function(d,k){_e(function(){d.apply(null,k)})})}var Dn;so?Dn=setImmediate:co?Dn=Te.nextTick:Dn=uo,lo(Dn);var Aa=_s(O0,1);function Ia(_e,d,k,_){_=fn(_||jn),Aa(_e,function(Ae,Be,Me){k(d,Ae,function(Ye,et){d=et,Me(Ye)})},function(Ae){_(Ae,d)})}var R0=It(function(d){return It(function(k){var _=this,Ae=k[k.length-1];typeof Ae=="function"?k.pop():Ae=jn,Ia(d,k,function(Be,Me,Ye){Me.apply(_,Be.concat(It(function(et,ft){Ye(et,ft)})))},function(Be,Me){Ae.apply(_,[Be].concat(Me))})})});It(function(_e){return R0.apply(null,_e.reverse())}),It(function(_e){var d=[null].concat(_e);return zt(function(k,_){return _.apply(this,d)})});function Ca(_e){return It(function(d,k){d.apply(null,k.concat(It(function(_,Ae){typeof console=="object"&&(_?console.error&&console.error(_):console[_e]&&oo(Ae,function(Be){console[_e](Be)}))})))})}Ca("dir");function F0(_e){return function(d,k,_){return _e(d,_)}}function ms(_e,d,k){no(_e,F0(d),k)}Ca("log");var ji;co?ji=Te.nextTick:so?ji=setImmediate:ji=uo,lo(ji);var qn;function zi(){qn||(qn={},qn[Dropbox.ApiError.NETWORK_ERROR]=ne.EIO,qn[Dropbox.ApiError.INVALID_PARAM]=ne.EINVAL,qn[Dropbox.ApiError.INVALID_TOKEN]=ne.EPERM,qn[Dropbox.ApiError.OAUTH_ERROR]=ne.EPERM,qn[Dropbox.ApiError.NOT_FOUND]=ne.ENOENT,qn[Dropbox.ApiError.INVALID_METHOD]=ne.EINVAL,qn[Dropbox.ApiError.NOT_ACCEPTABLE]=ne.EINVAL,qn[Dropbox.ApiError.CONFLICT]=ne.EINVAL,qn[Dropbox.ApiError.RATE_LIMITED]=ne.EBUSY,qn[Dropbox.ApiError.SERVER_ERROR]=ne.EBUSY,qn[Dropbox.ApiError.OVER_QUOTA]=ne.ENOSPC)}function gs(_e){return _e&&_e.stat.isFile}function ys(_e){return _e&&_e.stat.isFolder}function fo(_e){return _e==null||typeof _e=="object"&&typeof _e.byteLength=="number"}var kn=function(d){this._cache={},this._client=d};kn.prototype.readdir=function(d,k){var _=this,Ae=this.getCachedDirInfo(d);this._wrap(function(Be){Ae!==null&&Ae.contents?_._client.readdir(d,{contentHash:Ae.stat.contentHash},Be):_._client.readdir(d,Be)},function(Be,Me,Ye,et){Be?Be.status===Dropbox.ApiError.NO_CONTENT&&Ae!==null?k(null,Ae.contents.slice(0)):k(Be):(_.updateCachedDirInfo(d,Ye,Me.slice(0)),et.forEach(function(ft){_.updateCachedInfo(Oe.join(d,ft.name),ft)}),k(null,Me))})},kn.prototype.remove=function(d,k){var _=this;this._wrap(function(Ae){_._client.remove(d,Ae)},function(Ae,Be){Ae||_.updateCachedInfo(d,Be),k(Ae)})},kn.prototype.move=function(d,k,_){var Ae=this;this._wrap(function(Be){Ae._client.move(d,k,Be)},function(Be,Me){Be||(Ae.deleteCachedInfo(d),Ae.updateCachedInfo(k,Me)),_(Be)})},kn.prototype.stat=function(d,k){var _=this;this._wrap(function(Ae){_._client.stat(d,Ae)},function(Ae,Be){Ae||_.updateCachedInfo(d,Be),k(Ae,Be)})},kn.prototype.readFile=function(d,k){var _=this,Ae=this.getCachedFileInfo(d);Ae!==null&&Ae.contents!==null?this.stat(d,function(Be,Me){Be?k(Be):Me.contentHash===Ae.stat.contentHash?k(Be,Ae.contents.slice(0),Ae.stat):_.readFile(d,k)}):this._wrap(function(Be){_._client.readFile(d,{arrayBuffer:!0},Be)},function(Be,Me,Ye){Be||_.updateCachedInfo(d,Ye,Me.slice(0)),k(Be,Me,Ye)})},kn.prototype.writeFile=function(d,k,_){var Ae=this;this._wrap(function(Be){Ae._client.writeFile(d,k,Be)},function(Be,Me){Be||Ae.updateCachedInfo(d,Me,k.slice(0)),_(Be,Me)})},kn.prototype.mkdir=function(d,k){var _=this;this._wrap(function(Ae){_._client.mkdir(d,Ae)},function(Ae,Be){Ae||_.updateCachedInfo(d,Be,[]),k(Ae)})},kn.prototype._wrap=function(d,k){var _=0,Ae=function(Be){var Me=2;if(Be&&3>++_)switch(Be.status){case Dropbox.ApiError.SERVER_ERROR:case Dropbox.ApiError.NETWORK_ERROR:case Dropbox.ApiError.RATE_LIMITED:setTimeout(function(){d(Ae)},Me*1e3);break;default:k.apply(null,arguments);break}else k.apply(null,arguments)};d(Ae)},kn.prototype.getCachedInfo=function(d){return this._cache[d.toLowerCase()]},kn.prototype.putCachedInfo=function(d,k){this._cache[d.toLowerCase()]=k},kn.prototype.deleteCachedInfo=function(d){delete this._cache[d.toLowerCase()]},kn.prototype.getCachedDirInfo=function(d){var k=this.getCachedInfo(d);return ys(k)?k:null},kn.prototype.getCachedFileInfo=function(d){var k=this.getCachedInfo(d);return gs(k)?k:null},kn.prototype.updateCachedDirInfo=function(d,k,_){_===void 0&&(_=null);var Ae=this.getCachedInfo(d);k.contentHash!==null&&(Ae===void 0||Ae.stat.contentHash!==k.contentHash)&&this.putCachedInfo(d,{stat:k,contents:_})},kn.prototype.updateCachedFileInfo=function(d,k,_){_===void 0&&(_=null);var Ae=this.getCachedInfo(d);k.versionTag!==null&&(Ae===void 0||Ae.stat.versionTag!==k.versionTag)&&this.putCachedInfo(d,{stat:k,contents:_})},kn.prototype.updateCachedInfo=function(d,k,_){_===void 0&&(_=null),k.isFile&&fo(_)?this.updateCachedFileInfo(d,k,_):k.isFolder&&Array.isArray(_)&&this.updateCachedDirInfo(d,k,_)};var P0=function(_e){function d(k,_,Ae,Be,Me){_e.call(this,k,_,Ae,Be,Me)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.sync=function(_){var Ae=this;if(this.isDirty()){var Be=this.getBuffer(),Me=ct(Be);this._fs._writeFileStrict(this.getPath(),Me,function(Ye){Ye||Ae.resetDirty(),_(Ye)})}else _()},d.prototype.close=function(_){this.sync(_)},d}(ht),xo=function(_e){function d(k,_){_===void 0&&(_=!0),_e.call(this),this._client=new kn(k),Zt(_,d.Name,{client:"authenticated dropbox client instance"}),zi()}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.Create=function(_,Ae){Ae(null,new d(_.client,!1))},d.isAvailable=function(){return typeof Dropbox<"u"},d.prototype.getName=function(){return d.Name},d.prototype.isReadOnly=function(){return!1},d.prototype.supportsSymlinks=function(){return!1},d.prototype.supportsProps=function(){return!1},d.prototype.supportsSynch=function(){return!1},d.prototype.empty=function(_){var Ae=this;this._client.readdir("/",function(Be,Me){if(Be)_(Ae.convert(Be,"/"));else{var Ye=function(ft,kt){var Ht=Oe.join("/",ft);Ae._client.remove(Ht,function(ir){kt(ir?Ae.convert(ir,Ht):null)})},et=function(ft){ft?_(ft):_()};ms(Me,Ye,et)}})},d.prototype.rename=function(_,Ae,Be){var Me=this;this._client.move(_,Ae,function(Ye){Ye?Me._client.stat(Ae,function(et,ft){if(et||ft.isFolder){var kt=Ye.response.error.indexOf(_)>-1?_:Ae;Be(Me.convert(Ye,kt))}else Me._client.remove(Ae,function(Ht){Ht?Be(Me.convert(Ht,Ae)):Me.rename(_,Ae,Be)})}):Be()})},d.prototype.stat=function(_,Ae,Be){var Me=this;this._client.stat(_,function(Ye,et){if(Ye)Be(Me.convert(Ye,_));else if(et&&et.isRemoved)Be(Ie.FileError(ne.ENOENT,_));else{var ft=new Ue(Me._statType(et),et.size);return Be(null,ft)}})},d.prototype.open=function(_,Ae,Be,Me){var Ye=this;this._client.readFile(_,function(et,ft,kt){if(et)if(Ae.isReadable())Me(Ye.convert(et,_));else switch(et.status){case Dropbox.ApiError.NOT_FOUND:var Ht=new ArrayBuffer(0);return Ye._writeFileStrict(_,Ht,function(vr,qr){if(vr)Me(vr);else{var jr=Ye._makeFile(_,Ae,qr,Kt(Ht));Me(null,jr)}});default:return Me(Ye.convert(et,_))}else{var ir;ft===null?ir=cr():ir=Kt(ft);var _r=Ye._makeFile(_,Ae,kt,ir);return Me(null,_r)}})},d.prototype._writeFileStrict=function(_,Ae,Be){var Me=this,Ye=Oe.dirname(_);this.stat(Ye,!1,function(et,ft){et?Be(Ie.FileError(ne.ENOENT,Ye)):Me._client.writeFile(_,Ae,function(kt,Ht){kt?Be(Me.convert(kt,_)):Be(null,Ht)})})},d.prototype._statType=function(_){return _.isFile?Ve.FILE:Ve.DIRECTORY},d.prototype._makeFile=function(_,Ae,Be,Me){var Ye=this._statType(Be),et=new Ue(Ye,Be.size);return new P0(this,_,Ae,et,Me)},d.prototype._remove=function(_,Ae,Be){var Me=this;this._client.stat(_,function(Ye,et){Ye?Ae(Me.convert(Ye,_)):et.isFile&&!Be?Ae(Ie.FileError(ne.ENOTDIR,_)):!et.isFile&&Be?Ae(Ie.FileError(ne.EISDIR,_)):Me._client.remove(_,function(ft){Ae(ft?Me.convert(ft,_):null)})})},d.prototype.unlink=function(_,Ae){this._remove(_,Ae,!0)},d.prototype.rmdir=function(_,Ae){this._remove(_,Ae,!1)},d.prototype.mkdir=function(_,Ae,Be){var Me=this,Ye=Oe.dirname(_);this._client.stat(Ye,function(et,ft){et?Be(Me.convert(et,Ye)):Me._client.mkdir(_,function(kt){Be(kt?Ie.FileError(ne.EEXIST,_):null)})})},d.prototype.readdir=function(_,Ae){var Be=this;this._client.readdir(_,function(Me,Ye){return Me?Ae(Be.convert(Me)):Ae(null,Ye)})},d.prototype.convert=function(_,Ae){Ae===void 0&&(Ae=null);var Be=qn[_.status];return Be===void 0&&(Be=ne.EIO),Ae?Ie.FileError(Be,Ae):new Ie(Be)},d}(At);xo.Name="Dropbox",xo.Options={client:{type:"object",description:"An *authenticated* Dropbox client. Must be from the 0.10 JS SDK.",validator:function(_e,d){_e.isAuthenticated&&_e.isAuthenticated()?d():d(new Ie(ne.EINVAL,"'client' option must be an authenticated Dropbox client from the v0.10 JS SDK."))}}};function _n(_e,d){d===void 0&&(d="");for(var k=_e.errno,_=_e.node,Ae=[];_&&(Ae.unshift(_.name),_!==_.parent);)_=_.parent;return new Ie(k,De[k],Ae.length>0?"/"+Ae.join("/"):d)}var ho=function(_e){function d(k,_,Ae,Be){_e.call(this),this._fs=k,this._FS=_,this._path=Ae,this._stream=Be}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.getPos=function(){},d.prototype.close=function(_){var Ae=null;try{this.closeSync()}catch(Be){Ae=Be}finally{_(Ae)}},d.prototype.closeSync=function(){try{this._FS.close(this._stream)}catch(_){throw _n(_,this._path)}},d.prototype.stat=function(_){try{_(null,this.statSync())}catch(Ae){_(Ae)}},d.prototype.statSync=function(){try{return this._fs.statSync(this._path,!1)}catch(_){throw _n(_,this._path)}},d.prototype.truncate=function(_,Ae){var Be=null;try{this.truncateSync(_)}catch(Me){Be=Me}finally{Ae(Be)}},d.prototype.truncateSync=function(_){try{this._FS.ftruncate(this._stream.fd,_)}catch(Ae){throw _n(Ae,this._path)}},d.prototype.write=function(_,Ae,Be,Me,Ye){try{Ye(null,this.writeSync(_,Ae,Be,Me),_)}catch(et){Ye(et)}},d.prototype.writeSync=function(_,Ae,Be,Me){try{var Ye=dt(_),et=Me===null?void 0:Me;return this._FS.write(this._stream,Ye,Ae,Be,et)}catch(ft){throw _n(ft,this._path)}},d.prototype.read=function(_,Ae,Be,Me,Ye){try{Ye(null,this.readSync(_,Ae,Be,Me),_)}catch(et){Ye(et)}},d.prototype.readSync=function(_,Ae,Be,Me){try{var Ye=dt(_),et=Me===null?void 0:Me;return this._FS.read(this._stream,Ye,Ae,Be,et)}catch(ft){throw _n(ft,this._path)}},d.prototype.sync=function(_){_()},d.prototype.syncSync=function(){},d.prototype.chown=function(_,Ae,Be){var Me=null;try{this.chownSync(_,Ae)}catch(Ye){Me=Ye}finally{Be(Me)}},d.prototype.chownSync=function(_,Ae){try{this._FS.fchown(this._stream.fd,_,Ae)}catch(Be){throw _n(Be,this._path)}},d.prototype.chmod=function(_,Ae){var Be=null;try{this.chmodSync(_)}catch(Me){Be=Me}finally{Ae(Be)}},d.prototype.chmodSync=function(_){try{this._FS.fchmod(this._stream.fd,_)}catch(Ae){throw _n(Ae,this._path)}},d.prototype.utimes=function(_,Ae,Be){var Me=null;try{this.utimesSync(_,Ae)}catch(Ye){Me=Ye}finally{Be(Me)}},d.prototype.utimesSync=function(_,Ae){this._fs.utimesSync(this._path,_,Ae)},d}(xt),po=function(_e){function d(k){_e.call(this),this._FS=k}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.Create=function(_,Ae){Ae(null,new d(_.FS))},d.isAvailable=function(){return!0},d.prototype.getName=function(){return this._FS.DB_NAME()},d.prototype.isReadOnly=function(){return!1},d.prototype.supportsLinks=function(){return!0},d.prototype.supportsProps=function(){return!0},d.prototype.supportsSynch=function(){return!0},d.prototype.renameSync=function(_,Ae){try{this._FS.rename(_,Ae)}catch(Be){throw Be.errno===ne.ENOENT?_n(Be,this.existsSync(_)?Ae:_):_n(Be)}},d.prototype.statSync=function(_,Ae){try{var Be=Ae?this._FS.lstat(_):this._FS.stat(_),Me=this.modeToFileType(Be.mode);return new Ue(Me,Be.size,Be.mode,Be.atime,Be.mtime,Be.ctime)}catch(Ye){throw _n(Ye,_)}},d.prototype.openSync=function(_,Ae,Be){try{var Me=this._FS.open(_,Ae.getFlagString(),Be);if(this._FS.isDir(Me.node.mode))throw this._FS.close(Me),Ie.EISDIR(_);return new ho(this,this._FS,_,Me)}catch(Ye){throw _n(Ye,_)}},d.prototype.unlinkSync=function(_){try{this._FS.unlink(_)}catch(Ae){throw _n(Ae,_)}},d.prototype.rmdirSync=function(_){try{this._FS.rmdir(_)}catch(Ae){throw _n(Ae,_)}},d.prototype.mkdirSync=function(_,Ae){try{this._FS.mkdir(_,Ae)}catch(Be){throw _n(Be,_)}},d.prototype.readdirSync=function(_){try{return this._FS.readdir(_).filter(function(Ae){return Ae!=="."&&Ae!==".."})}catch(Ae){throw _n(Ae,_)}},d.prototype.truncateSync=function(_,Ae){try{this._FS.truncate(_,Ae)}catch(Be){throw _n(Be,_)}},d.prototype.readFileSync=function(_,Ae,Be){try{var Me=this._FS.readFile(_,{flags:Be.getFlagString()}),Ye=Ct(Me);return Ae?Ye.toString(Ae):Ye}catch(et){throw _n(et,_)}},d.prototype.writeFileSync=function(_,Ae,Be,Me,Ye){try{Be&&(Ae=f.from(Ae,Be));var et=dt(Ae);this._FS.writeFile(_,et,{flags:Me.getFlagString(),encoding:"binary"}),this._FS.chmod(_,Ye)}catch(ft){throw _n(ft,_)}},d.prototype.chmodSync=function(_,Ae,Be){try{Ae?this._FS.lchmod(_,Be):this._FS.chmod(_,Be)}catch(Me){throw _n(Me,_)}},d.prototype.chownSync=function(_,Ae,Be,Me){try{Ae?this._FS.lchown(_,Be,Me):this._FS.chown(_,Be,Me)}catch(Ye){throw _n(Ye,_)}},d.prototype.symlinkSync=function(_,Ae,Be){try{this._FS.symlink(_,Ae)}catch(Me){throw _n(Me)}},d.prototype.readlinkSync=function(_){try{return this._FS.readlink(_)}catch(Ae){throw _n(Ae,_)}},d.prototype.utimesSync=function(_,Ae,Be){try{this._FS.utime(_,Ae.getTime(),Be.getTime())}catch(Me){throw _n(Me,_)}},d.prototype.modeToFileType=function(_){if(this._FS.isDir(_))return Ve.DIRECTORY;if(this._FS.isFile(_))return Ve.FILE;if(this._FS.isLink(_))return Ve.SYMLINK;throw Ie.EPERM("Invalid mode: "+_)},d}(Wt);po.Name="EmscriptenFileSystem",po.Options={FS:{type:"object",description:"The Emscripten file system to use (the `FS` variable)"}};var ki=function(_e){function d(k,_){_e.call(this),this._folder=k,this._wrapped=_}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.Create=function(_,Ae){Ae(null,new d(_.folder,_.wrapped))},d.isAvailable=function(){return!0},d.prototype.initialize=function(_){var Ae=this;this._wrapped.exists(this._folder,function(Be){Be?_():Ae._wrapped.isReadOnly()?_(Ie.ENOENT(Ae._folder)):Ae._wrapped.mkdir(Ae._folder,511,_)})},d.prototype.getName=function(){return this._wrapped.getName()},d.prototype.isReadOnly=function(){return this._wrapped.isReadOnly()},d.prototype.supportsProps=function(){return this._wrapped.supportsProps()},d.prototype.supportsSynch=function(){return this._wrapped.supportsSynch()},d.prototype.supportsLinks=function(){return!1},d}(At);ki.Name="FolderAdapter",ki.Options={folder:{type:"string",description:"The folder to use as the root directory"},wrapped:{type:"object",description:"The file system to wrap"}};function _o(_e,d){if(d!==null&&typeof d=="object"){var k=d,_=k.path;_&&(_="/"+Oe.relative(_e,_),k.message=k.message.replace(k.path,_),k.path=_)}return d}function du(_e,d){return typeof d=="function"?function(k){arguments.length>0&&(arguments[0]=_o(_e,k)),d.apply(null,arguments)}:d}function bs(_e,d,k){return _e.slice(_e.length-4)!=="Sync"?function(){return arguments.length>0&&(arguments[0]=Oe.join(this._folder,arguments[0]),k&&(arguments[1]=Oe.join(this._folder,arguments[1])),arguments[arguments.length-1]=du(this._folder,arguments[arguments.length-1])),this._wrapped[_e].apply(this._wrapped,arguments)}:function(){try{return d&&(arguments[0]=Oe.join(this._folder,arguments[0])),k&&(arguments[1]=Oe.join(this._folder,arguments[1])),this._wrapped[_e].apply(this._wrapped,arguments)}catch(_){throw _o(this._folder,_)}}}["diskSpace","stat","statSync","open","openSync","unlink","unlinkSync","rmdir","rmdirSync","mkdir","mkdirSync","readdir","readdirSync","exists","existsSync","realpath","realpathSync","truncate","truncateSync","readFile","readFileSync","writeFile","writeFileSync","appendFile","appendFileSync","chmod","chmodSync","chown","chownSync","utimes","utimesSync","readlink","readlinkSync"].forEach(function(_e){ki.prototype[_e]=bs(_e,!0,!1)}),["rename","renameSync","link","linkSync","symlink","symlinkSync"].forEach(function(_e){ki.prototype[_e]=bs(_e,!0,!0)});var vo;typeof window<"u"?vo=window:typeof self<"u"?vo=self:vo=m;var bn=vo;function B0(_e){return _e.isDirectory}var Es=bn.webkitRequestFileSystem||bn.requestFileSystem||null;function q0(_e,d,k,_){if(typeof navigator.webkitPersistentStorage<"u")switch(_e){case bn.PERSISTENT:navigator.webkitPersistentStorage.requestQuota(d,k,_);break;case bn.TEMPORARY:navigator.webkitTemporaryStorage.requestQuota(d,k,_);break;default:_(new TypeError("Invalid storage type: "+_e));break}else bn.webkitStorageInfo.requestQuota(_e,d,k,_)}function ws(_e){return Array.prototype.slice.call(_e||[],0)}function ii(_e,d,k){switch(_e.name){case"PathExistsError":return Ie.EEXIST(d);case"QuotaExceededError":return Ie.FileError(ne.ENOSPC,d);case"NotFoundError":return Ie.ENOENT(d);case"SecurityError":return Ie.FileError(ne.EACCES,d);case"InvalidModificationError":return Ie.FileError(ne.EPERM,d);case"TypeMismatchError":return Ie.FileError(k?ne.ENOTDIR:ne.EISDIR,d);case"EncodingError":case"InvalidStateError":case"NoModificationAllowedError":default:return Ie.FileError(ne.EINVAL,d)}}var N0=function(_e){function d(k,_,Ae,Be,Me,Ye){_e.call(this,k,Ae,Be,Me,Ye),this._entry=_}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.sync=function(_){var Ae=this;if(!this.isDirty())return _();this._entry.createWriter(function(Be){var Me=Ae.getBuffer(),Ye=new Blob([ct(Me)]),et=Ye.size;Be.onwriteend=function(ft){Be.onwriteend=null,Be.onerror=null,Be.truncate(et),Ae.resetDirty(),_()},Be.onerror=function(ft){_(ii(ft,Ae.getPath(),!1))},Be.write(Ye)})},d.prototype.close=function(_){this.sync(_)},d}(ht),mo=function(_e){function d(k,_,Ae){k===void 0&&(k=5),_===void 0&&(_=bn.PERSISTENT),Ae===void 0&&(Ae=!0),_e.call(this),this.size=1024*1024*k,this.type=_,Zt(Ae,d.Name,{size:k,type:_})}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.Create=function(_,Ae){var Be=new d(_.size,_.type,!1);Be.allocate(function(Me){return Me?Ae(Me):Ae(null,Be)},!1)},d.isAvailable=function(){return!!Es},d.prototype.getName=function(){return d.Name},d.prototype.isReadOnly=function(){return!1},d.prototype.supportsSymlinks=function(){return!1},d.prototype.supportsProps=function(){return!1},d.prototype.supportsSynch=function(){return!1},d.prototype.allocate=function(_,Ae){var Be=this;_===void 0&&(_=function(){}),Ae===void 0&&(Ae=!0),Ae&&console.warn("[HTML5FS] HTML5FS.allocate() is deprecated and will be removed in the next major release. Please use 'HTML5FS.Create({type: "+this.type+", size: "+this.size+"}, cb)' to create and allocate HTML5FS instances.");var Me=function(et){Be.fs=et,_()},Ye=function(et){_(ii(et,"/",!0))};this.type===bn.PERSISTENT?q0(this.type,this.size,function(et){Es(Be.type,et,Me,Ye)},Ye):Es(this.type,this.size,Me,Ye)},d.prototype.empty=function(_){this._readdir("/",function(Ae,Be){if(Ae)console.error("Failed to empty FS"),_(Ae);else{var Me=function(et){Ae?(console.error("Failed to empty FS"),_(Ae)):_()},Ye=function(et,ft){var kt=function(){ft()},Ht=function(ir){ft(ii(ir,et.fullPath,!et.isDirectory))};B0(et)?et.removeRecursively(kt,Ht):et.remove(kt,Ht)};ms(Be,Ye,Me)}})},d.prototype.rename=function(_,Ae,Be){var Me=this,Ye=2,et=0,ft=this.fs.root,kt=_,Ht=function(_r){--Ye<=0&&Be(ii(_r,kt,!1))},ir=function(_r){if(++et===2)return Be(new Ie(ne.EINVAL,"Something was identified as both a file and a directory. This should never happen."));if(_===Ae)return Be();kt=Oe.dirname(Ae),ft.getDirectory(kt,{},function(vr){kt=Oe.basename(Ae),_r.moveTo(vr,kt,function(qr){Be()},function(qr){_r.isDirectory?(kt=Ae,Me.unlink(Ae,function(jr){jr?Ht(qr):Me.rename(_,Ae,Be)})):Ht(qr)})},Ht)};ft.getFile(_,{},ir,Ht),ft.getDirectory(_,{},ir,Ht)},d.prototype.stat=function(_,Ae,Be){var Me=this,Ye={create:!1},et=function(ir){var _r=function(vr){var qr=new Ue(Ve.FILE,vr.size);Be(null,qr)};ir.file(_r,kt)},ft=function(ir){var _r=4096,vr=new Ue(Ve.DIRECTORY,_r);Be(null,vr)},kt=function(ir){Be(ii(ir,_,!1))},Ht=function(){Me.fs.root.getDirectory(_,Ye,ft,kt)};this.fs.root.getFile(_,Ye,et,Ht)},d.prototype.open=function(_,Ae,Be,Me){var Ye=this,et=function(ft){ft.name==="InvalidModificationError"&&Ae.isExclusive()?Me(Ie.EEXIST(_)):Me(ii(ft,_,!1))};this.fs.root.getFile(_,{create:Ae.pathNotExistsAction()===Fe.CREATE_FILE,exclusive:Ae.isExclusive()},function(ft){ft.file(function(kt){var Ht=new FileReader;Ht.onloadend=function(ir){var _r=Ye._makeFile(_,ft,Ae,kt,Ht.result);Me(null,_r)},Ht.onerror=function(ir){et(Ht.error)},Ht.readAsArrayBuffer(kt)},et)},et)},d.prototype.unlink=function(_,Ae){this._remove(_,Ae,!0)},d.prototype.rmdir=function(_,Ae){var Be=this;this.readdir(_,function(Me,Ye){Me?Ae(Me):Ye.length>0?Ae(Ie.ENOTEMPTY(_)):Be._remove(_,Ae,!1)})},d.prototype.mkdir=function(_,Ae,Be){var Me={create:!0,exclusive:!0},Ye=function(ft){Be()},et=function(ft){Be(ii(ft,_,!0))};this.fs.root.getDirectory(_,Me,Ye,et)},d.prototype.readdir=function(_,Ae){this._readdir(_,function(Be,Me){if(Me){for(var Ye=[],et=0,ft=Me;et<ft.length;et+=1){var kt=ft[et];Ye.push(kt.name)}Ae(null,Ye)}else return Ae(Be)})},d.prototype._makeFile=function(_,Ae,Be,Me,Ye){Ye===void 0&&(Ye=new ArrayBuffer(0));var et=new Ue(Ve.FILE,Me.size),ft=Kt(Ye);return new N0(this,Ae,_,Be,et,ft)},d.prototype._readdir=function(_,Ae){var Be=function(Me){Ae(ii(Me,_,!0))};this.fs.root.getDirectory(_,{create:!1},function(Me){var Ye=Me.createReader(),et=[],ft=function(){Ye.readEntries(function(kt){kt.length?(et=et.concat(ws(kt)),ft()):Ae(null,et)},Be)};ft()},Be)},d.prototype._remove=function(_,Ae,Be){var Me=function(ft){var kt=function(){Ae()},Ht=function(ir){Ae(ii(ir,_,!Be))};ft.remove(kt,Ht)},Ye=function(ft){Ae(ii(ft,_,!Be))},et={create:!1};Be?this.fs.root.getFile(_,et,Me,Ye):this.fs.root.getDirectory(_,et,Me,Ye)},d}(At);mo.Name="HTML5FS",mo.Options={size:{type:"number",optional:!0,description:"Storage quota to request, in megabytes. Allocated value may be less. Defaults to 5."},type:{type:"number",optional:!0,description:"window.PERSISTENT or window.TEMPORARY. Defaults to PERSISTENT."}};var Hn=function(d,k,_,Ae,Be,Me){this.id=d,this.size=k,this.mode=_,this.atime=Ae,this.mtime=Be,this.ctime=Me};Hn.fromBuffer=function(d){if(d===void 0)throw new Error("NO");return new Hn(d.toString("ascii",30),d.readUInt32LE(0),d.readUInt16LE(4),d.readDoubleLE(6),d.readDoubleLE(14),d.readDoubleLE(22))},Hn.prototype.toStats=function(){return new Ue((this.mode&61440)===Ve.DIRECTORY?Ve.DIRECTORY:Ve.FILE,this.size,this.mode,new Date(this.atime),new Date(this.mtime),new Date(this.ctime))},Hn.prototype.getSize=function(){return 30+this.id.length},Hn.prototype.toBuffer=function(d){return d===void 0&&(d=f.alloc(this.getSize())),d.writeUInt32LE(this.size,0),d.writeUInt16LE(this.mode,4),d.writeDoubleLE(this.atime,6),d.writeDoubleLE(this.mtime,14),d.writeDoubleLE(this.ctime,22),d.write(this.id,30,this.id.length,"ascii"),d},Hn.prototype.update=function(d){var k=!1;this.size!==d.size&&(this.size=d.size,k=!0),this.mode!==d.mode&&(this.mode=d.mode,k=!0);var _=d.atime.getTime();this.atime!==_&&(this.atime=_,k=!0);var Ae=d.mtime.getTime();this.mtime!==Ae&&(this.mtime=Ae,k=!0);var Be=d.ctime.getTime();return this.ctime!==Be&&(this.ctime=Be,k=!0),k},Hn.prototype.isFile=function(){return(this.mode&61440)===Ve.FILE},Hn.prototype.isDirectory=function(){return(this.mode&61440)===Ve.DIRECTORY};var Oi="/",ta=null;function di(){return ta||(ta=f.from("{}"))}function mn(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(_e){var d=Math.random()*16|0,k=_e==="x"?d:d&3|8;return k.toString(16)})}function Nn(_e,d){return _e?(d(_e),!1):!0}function tn(_e,d,k){return _e?(d.abort(function(){k(_e)}),!1):!0}var bi=function(d){this.store=d,this.originalData={},this.modifiedKeys=[]};bi.prototype.get=function(d){var k=this.store.get(d);return this.stashOldValue(d,k),k},bi.prototype.put=function(d,k,_){return this.markModified(d),this.store.put(d,k,_)},bi.prototype.del=function(d){this.markModified(d),this.store.del(d)},bi.prototype.commit=function(){},bi.prototype.abort=function(){for(var d=this,k=0,_=d.modifiedKeys;k<_.length;k+=1){var Ae=_[k],Be=d.originalData[Ae];Be?d.store.put(Ae,Be,!0):d.store.del(Ae)}},bi.prototype.stashOldValue=function(d,k){this.originalData.hasOwnProperty(d)||(this.originalData[d]=k)},bi.prototype.markModified=function(d){this.modifiedKeys.indexOf(d)===-1&&(this.modifiedKeys.push(d),this.originalData.hasOwnProperty(d)||(this.originalData[d]=this.store.get(d)))};var go=function(_e){function d(k,_,Ae,Be,Me){_e.call(this,k,_,Ae,Be,Me)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this.getPath(),this.getBuffer(),this.getStats()),this.resetDirty())},d.prototype.closeSync=function(){this.syncSync()},d}(ht),Ss=function(_e){function d(k){_e.call(this),this.store=k.store,this.makeRootDirectory()}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.isAvailable=function(){return!0},d.prototype.getName=function(){return this.store.name()},d.prototype.isReadOnly=function(){return!1},d.prototype.supportsSymlinks=function(){return!1},d.prototype.supportsProps=function(){return!1},d.prototype.supportsSynch=function(){return!0},d.prototype.empty=function(){this.store.clear(),this.makeRootDirectory()},d.prototype.renameSync=function(_,Ae){var Be=this.store.beginTransaction("readwrite"),Me=Oe.dirname(_),Ye=Oe.basename(_),et=Oe.dirname(Ae),ft=Oe.basename(Ae),kt=this.findINode(Be,Me),Ht=this.getDirListing(Be,Me,kt);if(!Ht[Ye])throw Ie.ENOENT(_);var ir=Ht[Ye];if(delete Ht[Ye],(et+"/").indexOf(_+"/")===0)throw new Ie(ne.EBUSY,Me);var _r,vr;if(et===Me?(_r=kt,vr=Ht):(_r=this.findINode(Be,et),vr=this.getDirListing(Be,et,_r)),vr[ft]){var qr=this.getINode(Be,Ae,vr[ft]);if(qr.isFile())try{Be.del(qr.id),Be.del(vr[ft])}catch(jr){throw Be.abort(),jr}else throw Ie.EPERM(Ae)}vr[ft]=ir;try{Be.put(kt.id,f.from(JSON.stringify(Ht)),!0),Be.put(_r.id,f.from(JSON.stringify(vr)),!0)}catch(jr){throw Be.abort(),jr}Be.commit()},d.prototype.statSync=function(_,Ae){return this.findINode(this.store.beginTransaction("readonly"),_).toStats()},d.prototype.createFileSync=function(_,Ae,Be){var Me=this.store.beginTransaction("readwrite"),Ye=cr(),et=this.commitNewFile(Me,_,Ve.FILE,Be,Ye);return new go(this,_,Ae,et.toStats(),Ye)},d.prototype.openFileSync=function(_,Ae){var Be=this.store.beginTransaction("readonly"),Me=this.findINode(Be,_),Ye=Be.get(Me.id);if(Ye===void 0)throw Ie.ENOENT(_);return new go(this,_,Ae,Me.toStats(),Ye)},d.prototype.unlinkSync=function(_){this.removeEntry(_,!1)},d.prototype.rmdirSync=function(_){if(this.readdirSync(_).length>0)throw Ie.ENOTEMPTY(_);this.removeEntry(_,!0)},d.prototype.mkdirSync=function(_,Ae){var Be=this.store.beginTransaction("readwrite"),Me=f.from("{}");this.commitNewFile(Be,_,Ve.DIRECTORY,Ae,Me)},d.prototype.readdirSync=function(_){var Ae=this.store.beginTransaction("readonly");return Object.keys(this.getDirListing(Ae,_,this.findINode(Ae,_)))},d.prototype._syncSync=function(_,Ae,Be){var Me=this.store.beginTransaction("readwrite"),Ye=this._findINode(Me,Oe.dirname(_),Oe.basename(_)),et=this.getINode(Me,_,Ye),ft=et.update(Be);try{Me.put(et.id,Ae,!0),ft&&Me.put(Ye,et.toBuffer(),!0)}catch(kt){throw Me.abort(),kt}Me.commit()},d.prototype.makeRootDirectory=function(){var _=this.store.beginTransaction("readwrite");if(_.get(Oi)===void 0){var Ae=new Date().getTime(),Be=new Hn(mn(),4096,511|Ve.DIRECTORY,Ae,Ae,Ae);_.put(Be.id,di(),!1),_.put(Oi,Be.toBuffer(),!1),_.commit()}},d.prototype._findINode=function(_,Ae,Be){var Me=this,Ye=function(et){var ft=Me.getDirListing(_,Ae,et);if(ft[Be])return ft[Be];throw Ie.ENOENT(Oe.resolve(Ae,Be))};return Ae==="/"?Be===""?Oi:Ye(this.getINode(_,Ae,Oi)):Ye(this.getINode(_,Ae+Oe.sep+Be,this._findINode(_,Oe.dirname(Ae),Oe.basename(Ae))))},d.prototype.findINode=function(_,Ae){return this.getINode(_,Ae,this._findINode(_,Oe.dirname(Ae),Oe.basename(Ae)))},d.prototype.getINode=function(_,Ae,Be){var Me=_.get(Be);if(Me===void 0)throw Ie.ENOENT(Ae);return Hn.fromBuffer(Me)},d.prototype.getDirListing=function(_,Ae,Be){if(!Be.isDirectory())throw Ie.ENOTDIR(Ae);var Me=_.get(Be.id);if(Me===void 0)throw Ie.ENOENT(Ae);return JSON.parse(Me.toString())},d.prototype.addNewNode=function(_,Ae){for(var Be=0,Me;Be<5;)try{return Me=mn(),_.put(Me,Ae,!1),Me}catch{}throw new Ie(ne.EIO,"Unable to commit data to key-value store.")},d.prototype.commitNewFile=function(_,Ae,Be,Me,Ye){var et=Oe.dirname(Ae),ft=Oe.basename(Ae),kt=this.findINode(_,et),Ht=this.getDirListing(_,et,kt),ir=new Date().getTime();if(Ae==="/"||Ht[ft])throw Ie.EEXIST(Ae);var _r;try{var vr=this.addNewNode(_,Ye);_r=new Hn(vr,Ye.length,Me|Be,ir,ir,ir);var qr=this.addNewNode(_,_r.toBuffer());Ht[ft]=qr,_.put(kt.id,f.from(JSON.stringify(Ht)),!0)}catch(jr){throw _.abort(),jr}return _.commit(),_r},d.prototype.removeEntry=function(_,Ae){var Be=this.store.beginTransaction("readwrite"),Me=Oe.dirname(_),Ye=this.findINode(Be,Me),et=this.getDirListing(Be,Me,Ye),ft=Oe.basename(_);if(!et[ft])throw Ie.ENOENT(_);var kt=et[ft];delete et[ft];var Ht=this.getINode(Be,_,kt);if(!Ae&&Ht.isDirectory())throw Ie.EISDIR(_);if(Ae&&!Ht.isDirectory())throw Ie.ENOTDIR(_);try{Be.del(Ht.id),Be.del(kt),Be.put(Ye.id,f.from(JSON.stringify(et)),!0)}catch(ir){throw Be.abort(),ir}Be.commit()},d}(Wt),Ti=function(_e){function d(k,_,Ae,Be,Me){_e.call(this,k,_,Ae,Be,Me)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.sync=function(_){var Ae=this;this.isDirty()?this._fs._sync(this.getPath(),this.getBuffer(),this.getStats(),function(Be){Be||Ae.resetDirty(),_(Be)}):_()},d.prototype.close=function(_){this.sync(_)},d}(ht),As=function(_e){function d(){_e.apply(this,arguments)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.isAvailable=function(){return!0},d.prototype.init=function(_,Ae){this.store=_,this.makeRootDirectory(Ae)},d.prototype.getName=function(){return this.store.name()},d.prototype.isReadOnly=function(){return!1},d.prototype.supportsSymlinks=function(){return!1},d.prototype.supportsProps=function(){return!1},d.prototype.supportsSynch=function(){return!1},d.prototype.empty=function(_){var Ae=this;this.store.clear(function(Be){Nn(Be,_)&&Ae.makeRootDirectory(_)})},d.prototype.rename=function(_,Ae,Be){var Me=this,Ye=this.store.beginTransaction("readwrite"),et=Oe.dirname(_),ft=Oe.basename(_),kt=Oe.dirname(Ae),Ht=Oe.basename(Ae),ir={},_r={},vr=!1;if((kt+"/").indexOf(_+"/")===0)return Be(new Ie(ne.EBUSY,et));var qr=function(){if(!(vr||!_r.hasOwnProperty(et)||!_r.hasOwnProperty(kt))){var Wr=_r[et],En=ir[et],Mn=_r[kt],Fi=ir[kt];if(!Wr[ft])Be(Ie.ENOENT(_));else{var Pi=Wr[ft];delete Wr[ft];var Ao=function(){Mn[Ht]=Pi,Ye.put(En.id,f.from(JSON.stringify(Wr)),!0,function(Wi){tn(Wi,Ye,Be)&&(et===kt?Ye.commit(Be):Ye.put(Fi.id,f.from(JSON.stringify(Mn)),!0,function(Ki){tn(Ki,Ye,Be)&&Ye.commit(Be)}))})};Mn[Ht]?Me.getINode(Ye,Ae,Mn[Ht],function(Wi,Ki){tn(Wi,Ye,Be)&&(Ki.isFile()?Ye.del(Ki.id,function(ul){tn(ul,Ye,Be)&&Ye.del(Mn[Ht],function(Vf){tn(Vf,Ye,Be)&&Ao()})}):Ye.abort(function(ul){Be(Ie.EPERM(Ae))}))}):Ao()}}},jr=function(Wr){Me.findINodeAndDirListing(Ye,Wr,function(En,Mn,Fi){En?vr||(vr=!0,Ye.abort(function(){Be(En)})):(ir[Wr]=Mn,_r[Wr]=Fi,qr())})};jr(et),et!==kt&&jr(kt)},d.prototype.stat=function(_,Ae,Be){var Me=this.store.beginTransaction("readonly");this.findINode(Me,_,function(Ye,et){Nn(Ye,Be)&&Be(null,et.toStats())})},d.prototype.createFile=function(_,Ae,Be,Me){var Ye=this,et=this.store.beginTransaction("readwrite"),ft=cr();this.commitNewFile(et,_,Ve.FILE,Be,ft,function(kt,Ht){Nn(kt,Me)&&Me(null,new Ti(Ye,_,Ae,Ht.toStats(),ft))})},d.prototype.openFile=function(_,Ae,Be){var Me=this,Ye=this.store.beginTransaction("readonly");this.findINode(Ye,_,function(et,ft){Nn(et,Be)&&Ye.get(ft.id,function(kt,Ht){Nn(kt,Be)&&(Ht===void 0?Be(Ie.ENOENT(_)):Be(null,new Ti(Me,_,Ae,ft.toStats(),Ht)))})})},d.prototype.unlink=function(_,Ae){this.removeEntry(_,!1,Ae)},d.prototype.rmdir=function(_,Ae){var Be=this;this.readdir(_,function(Me,Ye){Me?Ae(Me):Ye.length>0?Ae(Ie.ENOTEMPTY(_)):Be.removeEntry(_,!0,Ae)})},d.prototype.mkdir=function(_,Ae,Be){var Me=this.store.beginTransaction("readwrite"),Ye=f.from("{}");this.commitNewFile(Me,_,Ve.DIRECTORY,Ae,Ye,Be)},d.prototype.readdir=function(_,Ae){var Be=this,Me=this.store.beginTransaction("readonly");this.findINode(Me,_,function(Ye,et){Nn(Ye,Ae)&&Be.getDirListing(Me,_,et,function(ft,kt){Nn(ft,Ae)&&Ae(null,Object.keys(kt))})})},d.prototype._sync=function(_,Ae,Be,Me){var Ye=this,et=this.store.beginTransaction("readwrite");this._findINode(et,Oe.dirname(_),Oe.basename(_),function(ft,kt){tn(ft,et,Me)&&Ye.getINode(et,_,kt,function(Ht,ir){if(tn(Ht,et,Me)){var _r=ir.update(Be);et.put(ir.id,Ae,!0,function(vr){tn(vr,et,Me)&&(_r?et.put(kt,ir.toBuffer(),!0,function(qr){tn(qr,et,Me)&&et.commit(Me)}):et.commit(Me))})}})})},d.prototype.makeRootDirectory=function(_){var Ae=this.store.beginTransaction("readwrite");Ae.get(Oi,function(Be,Me){if(Be||Me===void 0){var Ye=new Date().getTime(),et=new Hn(mn(),4096,511|Ve.DIRECTORY,Ye,Ye,Ye);Ae.put(et.id,di(),!1,function(ft){tn(ft,Ae,_)&&Ae.put(Oi,et.toBuffer(),!1,function(kt){kt?Ae.abort(function(){_(kt)}):Ae.commit(_)})})}else Ae.commit(_)})},d.prototype._findINode=function(_,Ae,Be,Me){var Ye=this,et=function(ft,kt,Ht){ft?Me(ft):Ht[Be]?Me(null,Ht[Be]):Me(Ie.ENOENT(Oe.resolve(Ae,Be)))};Ae==="/"?Be===""?Me(null,Oi):this.getINode(_,Ae,Oi,function(ft,kt){Nn(ft,Me)&&Ye.getDirListing(_,Ae,kt,function(Ht,ir){et(Ht,kt,ir)})}):this.findINodeAndDirListing(_,Ae,et)},d.prototype.findINode=function(_,Ae,Be){var Me=this;this._findINode(_,Oe.dirname(Ae),Oe.basename(Ae),function(Ye,et){Nn(Ye,Be)&&Me.getINode(_,Ae,et,Be)})},d.prototype.getINode=function(_,Ae,Be,Me){_.get(Be,function(Ye,et){Nn(Ye,Me)&&(et===void 0?Me(Ie.ENOENT(Ae)):Me(null,Hn.fromBuffer(et)))})},d.prototype.getDirListing=function(_,Ae,Be,Me){Be.isDirectory()?_.get(Be.id,function(Ye,et){if(Nn(Ye,Me))try{Me(null,JSON.parse(et.toString()))}catch{Me(Ie.ENOENT(Ae))}}):Me(Ie.ENOTDIR(Ae))},d.prototype.findINodeAndDirListing=function(_,Ae,Be){var Me=this;this.findINode(_,Ae,function(Ye,et){Nn(Ye,Be)&&Me.getDirListing(_,Ae,et,function(ft,kt){Nn(ft,Be)&&Be(null,et,kt)})})},d.prototype.addNewNode=function(_,Ae,Be){var Me=0,Ye,et=function(){++Me===5?Be(new Ie(ne.EIO,"Unable to commit data to key-value store.")):(Ye=mn(),_.put(Ye,Ae,!1,function(ft,kt){ft||!kt?et():Be(null,Ye)}))};et()},d.prototype.commitNewFile=function(_,Ae,Be,Me,Ye,et){var ft=this,kt=Oe.dirname(Ae),Ht=Oe.basename(Ae),ir=new Date().getTime();if(Ae==="/")return et(Ie.EEXIST(Ae));this.findINodeAndDirListing(_,kt,function(_r,vr,qr){tn(_r,_,et)&&(qr[Ht]?_.abort(function(){et(Ie.EEXIST(Ae))}):ft.addNewNode(_,Ye,function(jr,Wr){if(tn(jr,_,et)){var En=new Hn(Wr,Ye.length,Me|Be,ir,ir,ir);ft.addNewNode(_,En.toBuffer(),function(Mn,Fi){tn(Mn,_,et)&&(qr[Ht]=Fi,_.put(vr.id,f.from(JSON.stringify(qr)),!0,function(Pi){tn(Pi,_,et)&&_.commit(function(Ao){tn(Ao,_,et)&&et(null,En)})}))})}}))})},d.prototype.removeEntry=function(_,Ae,Be){var Me=this,Ye=this.store.beginTransaction("readwrite"),et=Oe.dirname(_),ft=Oe.basename(_);this.findINodeAndDirListing(Ye,et,function(kt,Ht,ir){if(tn(kt,Ye,Be))if(!ir[ft])Ye.abort(function(){Be(Ie.ENOENT(_))});else{var _r=ir[ft];delete ir[ft],Me.getINode(Ye,_,_r,function(vr,qr){tn(vr,Ye,Be)&&(!Ae&&qr.isDirectory()?Ye.abort(function(){Be(Ie.EISDIR(_))}):Ae&&!qr.isDirectory()?Ye.abort(function(){Be(Ie.ENOTDIR(_))}):Ye.del(qr.id,function(jr){tn(jr,Ye,Be)&&Ye.del(_r,function(Wr){tn(Wr,Ye,Be)&&Ye.put(Ht.id,f.from(JSON.stringify(ir)),!0,function(En){tn(En,Ye,Be)&&Ye.commit(Be)})})}))})}})},d}(At),Xn=function(){this.store={}};Xn.prototype.name=function(){return Kn.Name},Xn.prototype.clear=function(){this.store={}},Xn.prototype.beginTransaction=function(d){return new bi(this)},Xn.prototype.get=function(d){return this.store[d]},Xn.prototype.put=function(d,k,_){return!_&&this.store.hasOwnProperty(d)?!1:(this.store[d]=k,!0)},Xn.prototype.del=function(d){delete this.store[d]};var Kn=function(_e){function d(){_e.call(this,{store:new Xn})}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.Create=function(_,Ae){Ae(null,new d)},d}(Ss);Kn.Name="InMemory",Kn.Options={};var yo=bn.indexedDB||bn.mozIndexedDB||bn.webkitIndexedDB||bn.msIndexedDB;function Re(_e,d){switch(d===void 0&&(d=_e.toString()),_e.name){case"NotFoundError":return new Ie(ne.ENOENT,d);case"QuotaExceededError":return new Ie(ne.ENOSPC,d);default:return new Ie(ne.EIO,d)}}function Le(_e,d,k){return d===void 0&&(d=ne.EIO),k===void 0&&(k=null),function(_){_.preventDefault(),_e(new Ie(d,k!==null?k:void 0))}}var ze=function(d,k){this.tx=d,this.store=k};ze.prototype.get=function(d,k){try{var _=this.store.get(d);_.onerror=Le(k),_.onsuccess=function(Ae){var Be=Ae.target.result;Be===void 0?k(null,Be):k(null,Kt(Be))}}catch(Ae){k(Re(Ae))}};var Qe=function(_e){function d(k,_){_e.call(this,k,_)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.put=function(_,Ae,Be,Me){try{var Ye=ct(Ae),et;Be?et=this.store.put(Ye,_):et=this.store.add(Ye,_),et.onerror=Le(Me),et.onsuccess=function(ft){Me(null,!0)}}catch(ft){Me(Re(ft))}},d.prototype.del=function(_,Ae){try{var Be=this.store.delete(_);Be.onerror=Le(Ae),Be.onsuccess=function(Me){Ae()}}catch(Me){Ae(Re(Me))}},d.prototype.commit=function(_){setTimeout(_,0)},d.prototype.abort=function(_){var Ae=null;try{this.tx.abort()}catch(Be){Ae=Re(Be)}finally{_(Ae)}},d}(ze),$e=function(d,k){var _=this;k===void 0&&(k="browserfs"),this.storeName=k;var Ae=yo.open(this.storeName,1);Ae.onupgradeneeded=function(Be){var Me=Be.target.result;Me.objectStoreNames.contains(_.storeName)&&Me.deleteObjectStore(_.storeName),Me.createObjectStore(_.storeName)},Ae.onsuccess=function(Be){_.db=Be.target.result,d(null,_)},Ae.onerror=Le(d,ne.EACCES)};$e.prototype.name=function(){return st.Name+" - "+this.storeName},$e.prototype.clear=function(d){try{var k=this.db.transaction(this.storeName,"readwrite"),_=k.objectStore(this.storeName),Ae=_.clear();Ae.onsuccess=function(Be){setTimeout(d,0)},Ae.onerror=Le(d)}catch(Be){d(Re(Be))}},$e.prototype.beginTransaction=function(d){d===void 0&&(d="readonly");var k=this.db.transaction(this.storeName,d),_=k.objectStore(this.storeName);if(d==="readwrite")return new Qe(k,_);if(d==="readonly")return new ze(k,_);throw new Ie(ne.EINVAL,"Invalid transaction type.")};var st=function(_e){function d(k,_,Ae){var Be=this;Ae===void 0&&(Ae=!0),_e.call(this),this.store=new $e(function(Me){Me?k(Me):Be.init(Be.store,function(Ye){k(Ye,Be)})},_),Zt(Ae,d.Name,{storeName:_})}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.Create=function(_,Ae){new d(Ae,_.storeName,!1)},d.isAvailable=function(){try{return typeof yo<"u"&&yo.open("__browserfs_test__")!==null}catch{return!1}},d}(As);st.Name="IndexedDB",st.Options={storeName:{type:"string",optional:!0,description:"The name of this file system. You can have multiple IndexedDB file systems operating at once, but each must have a different name."}};var _t=!1,wt;try{bn.localStorage.setItem("__test__",String.fromCharCode(55296)),_t=bn.localStorage.getItem("__test__")===String.fromCharCode(55296)}catch{_t=!1}wt=_t?"binary_string":"binary_string_ie",f.isEncoding(wt)||(wt="base64");var Rt=function(){};Rt.prototype.name=function(){return Tt.Name},Rt.prototype.clear=function(){bn.localStorage.clear()},Rt.prototype.beginTransaction=function(d){return new bi(this)},Rt.prototype.get=function(d){try{var k=bn.localStorage.getItem(d);if(k!==null)return f.from(k,wt)}catch{}},Rt.prototype.put=function(d,k,_){try{return!_&&bn.localStorage.getItem(d)!==null?!1:(bn.localStorage.setItem(d,k.toString(wt)),!0)}catch{throw new Ie(ne.ENOSPC,"LocalStorage is full.")}},Rt.prototype.del=function(d){try{bn.localStorage.removeItem(d)}catch(k){throw new Ie(ne.EIO,"Unable to delete key "+d+": "+k)}};var Tt=function(_e){function d(){_e.call(this,{store:new Rt})}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.Create=function(_,Ae){Ae(null,new d)},d.isAvailable=function(){return typeof bn.localStorage<"u"},d}(Ss);Tt.Name="LocalStorage",Tt.Options={};var Mt=function(_e){function d(){_e.call(this),this.mountList=[],this.mntMap={},this.rootFs=new Kn}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.Create=function(_,Ae){var Be=new d;Object.keys(_).forEach(function(Me){Be.mount(Me,_[Me])}),Ae(null,Be)},d.isAvailable=function(){return!0},d.prototype.mount=function(_,Ae){if(_[0]!=="/"&&(_="/"+_),_=Oe.resolve(_),this.mntMap[_])throw new Ie(ne.EINVAL,"Mount point "+_+" is already taken.");St(_,511,this.rootFs),this.mntMap[_]=Ae,this.mountList.push(_),this.mountList=this.mountList.sort(function(Be,Me){return Me.length-Be.length})},d.prototype.umount=function(_){var Ae=this;if(_[0]!=="/"&&(_="/"+_),_=Oe.resolve(_),!this.mntMap[_])throw new Ie(ne.EINVAL,"Mount point "+_+" is already unmounted.");for(delete this.mntMap[_],this.mountList.splice(this.mountList.indexOf(_),1);_!=="/"&&Ae.rootFs.readdirSync(_).length===0;)Ae.rootFs.rmdirSync(_),_=Oe.dirname(_)},d.prototype._getFs=function(_){for(var Ae=this,Be=this.mountList,Me=Be.length,Ye=0;Ye<Me;Ye++){var et=Be[Ye];if(et.length<=_.length&&_.indexOf(et)===0)return _=_.substr(et.length>1?et.length:0),_===""&&(_="/"),{fs:Ae.mntMap[et],path:_}}return{fs:this.rootFs,path:_}},d.prototype.getName=function(){return d.Name},d.prototype.diskSpace=function(_,Ae){Ae(0,0)},d.prototype.isReadOnly=function(){return!1},d.prototype.supportsLinks=function(){return!1},d.prototype.supportsProps=function(){return!1},d.prototype.supportsSynch=function(){return!0},d.prototype.standardizeError=function(_,Ae,Be){var Me=_.message.indexOf(Ae);return Me!==-1&&(_.message=_.message.substr(0,Me)+Be+_.message.substr(Me+Ae.length),_.path=Be),_},d.prototype.rename=function(_,Ae,Be){var Me=this,Ye=this._getFs(_),et=this._getFs(Ae);return Ye.fs===et.fs?Ye.fs.rename(Ye.path,et.path,function(ft){ft&&Me.standardizeError(Me.standardizeError(ft,Ye.path,_),et.path,Ae),Be(ft)}):it.readFile(_,function(ft,kt){if(ft)return Be(ft);it.writeFile(Ae,kt,function(Ht){if(Ht)return Be(Ht);it.unlink(_,Be)})})},d.prototype.renameSync=function(_,Ae){var Be=this._getFs(_),Me=this._getFs(Ae);if(Be.fs===Me.fs)try{return Be.fs.renameSync(Be.path,Me.path)}catch(et){throw this.standardizeError(this.standardizeError(et,Be.path,_),Me.path,Ae),et}var Ye=it.readFileSync(_);return it.writeFileSync(Ae,Ye),it.unlinkSync(_)},d.prototype.readdirSync=function(_){var Ae=this._getFs(_),Be=null;if(Ae.fs!==this.rootFs)try{Be=this.rootFs.readdirSync(_)}catch{}try{var Me=Ae.fs.readdirSync(Ae.path);return Be===null?Me:Me.concat(Be.filter(function(Ye){return Me.indexOf(Ye)===-1}))}catch(Ye){if(Be===null)throw this.standardizeError(Ye,Ae.path,_);return Be}},d.prototype.readdir=function(_,Ae){var Be=this,Me=this._getFs(_);Me.fs.readdir(Me.path,function(Ye,et){if(Me.fs!==Be.rootFs)try{var ft=Be.rootFs.readdirSync(_);et?et=et.concat(ft.filter(function(kt){return et.indexOf(kt)===-1})):et=ft}catch{if(Ye)return Ae(Be.standardizeError(Ye,Me.path,_))}else if(Ye)return Ae(Be.standardizeError(Ye,Me.path,_));Ae(null,et)})},d.prototype.rmdirSync=function(_){var Ae=this._getFs(_);if(this._containsMountPt(_))throw Ie.ENOTEMPTY(_);try{Ae.fs.rmdirSync(Ae.path)}catch(Be){throw this.standardizeError(Be,Ae.path,_)}},d.prototype.rmdir=function(_,Ae){var Be=this,Me=this._getFs(_);this._containsMountPt(_)?Ae(Ie.ENOTEMPTY(_)):Me.fs.rmdir(Me.path,function(Ye){Ae(Ye?Be.standardizeError(Ye,Me.path,_):null)})},d.prototype._containsMountPt=function(_){for(var Ae=this.mountList,Be=Ae.length,Me=0;Me<Be;Me++){var Ye=Ae[Me];if(Ye.length>=_.length&&Ye.slice(0,_.length)===_)return!0}return!1},d}(At);Mt.Name="MountableFileSystem",Mt.Options={};function Ot(_e,d,k){return d?function(){for(var _=[],Ae=arguments.length;Ae--;)_[Ae]=arguments[Ae];var Be=_[0],Me=this._getFs(Be);_[0]=Me.path;try{return Me.fs[_e].apply(Me.fs,_)}catch(Ye){throw this.standardizeError(Ye,Me.path,Be),Ye}}:function(){for(var _=this,Ae=[],Be=arguments.length;Be--;)Ae[Be]=arguments[Be];var Me=Ae[0],Ye=this._getFs(Me);if(Ae[0]=Ye.path,typeof Ae[Ae.length-1]=="function"){var et=Ae[Ae.length-1];Ae[Ae.length-1]=function(){for(var ft=[],kt=arguments.length;kt--;)ft[kt]=arguments[kt];ft.length>0&&ft[0]instanceof Ie&&_.standardizeError(ft[0],Ye.path,Me),et.apply(null,ft)}}return Ye.fs[_e].apply(Ye.fs,Ae)}}for(var Ut=[["exists","unlink","readlink"],["stat","mkdir","realpath","truncate"],["open","readFile","chmod","utimes"],["chown"],["writeFile","appendFile"]],Bt=0;Bt<Ut.length;Bt++)for(var Lt=Ut[Bt],Vt=0,qt=Lt;Vt<qt.length;Vt+=1){var Gt=qt[Vt];Mt.prototype[Gt]=Ot(Gt,!1),Mt.prototype[Gt+"Sync"]=Ot(Gt+"Sync",!0)}var Qt;if(typeof setImmediate<"u")Qt=setImmediate;else{var Yt=bn,rr=[],xr="zero-timeout-message",Ir=function(){if(typeof Yt.importScripts<"u"||!Yt.postMessage)return!1;var _e=!0,d=Yt.onmessage;return Yt.onmessage=function(){_e=!1},Yt.postMessage("","*"),Yt.onmessage=d,_e};if(Ir()){Qt=function(_e){rr.push(_e),Yt.postMessage(xr,"*")};var hr=function(_e){if(_e.source===self&&_e.data===xr&&(_e.stopPropagation?_e.stopPropagation():_e.cancelBubble=!0,rr.length>0)){var d=rr.shift();return d()}};Yt.addEventListener?Yt.addEventListener("message",hr,!0):Yt.attachEvent("onmessage",hr)}else if(Yt.MessageChannel){var br=new Yt.MessageChannel;br.port1.onmessage=function(_e){if(rr.length>0)return rr.shift()()},Qt=function(_e){rr.push(_e),br.port2.postMessage("")}}else Qt=function(_e){return setTimeout(_e,0)}}var Ar=Qt,lr=function(){this._locked=!1,this._waiters=[]};lr.prototype.lock=function(d){if(this._locked){this._waiters.push(d);return}this._locked=!0,d()},lr.prototype.unlock=function(){if(!this._locked)throw new Error("unlock of a non-locked mutex");var d=this._waiters.shift();if(d){Ar(d);return}this._locked=!1},lr.prototype.tryLock=function(){return this._locked?!1:(this._locked=!0,!0)},lr.prototype.isLocked=function(){return this._locked};var pr=function(d){this._fs=d,this._mu=new lr};pr.prototype.getName=function(){return"LockedFS<"+this._fs.getName()+">"},pr.prototype.getFSUnlocked=function(){return this._fs},pr.prototype.initialize=function(d){this._fs.initialize(d)},pr.prototype.diskSpace=function(d,k){this._fs.diskSpace(d,k)},pr.prototype.isReadOnly=function(){return this._fs.isReadOnly()},pr.prototype.supportsLinks=function(){return this._fs.supportsLinks()},pr.prototype.supportsProps=function(){return this._fs.supportsProps()},pr.prototype.supportsSynch=function(){return this._fs.supportsSynch()},pr.prototype.rename=function(d,k,_){var Ae=this;this._mu.lock(function(){Ae._fs.rename(d,k,function(Be){Ae._mu.unlock(),_(Be)})})},pr.prototype.renameSync=function(d,k){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.renameSync(d,k)},pr.prototype.stat=function(d,k,_){var Ae=this;this._mu.lock(function(){Ae._fs.stat(d,k,function(Be,Me){Ae._mu.unlock(),_(Be,Me)})})},pr.prototype.statSync=function(d,k){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.statSync(d,k)},pr.prototype.open=function(d,k,_,Ae){var Be=this;this._mu.lock(function(){Be._fs.open(d,k,_,function(Me,Ye){Be._mu.unlock(),Ae(Me,Ye)})})},pr.prototype.openSync=function(d,k,_){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.openSync(d,k,_)},pr.prototype.unlink=function(d,k){var _=this;this._mu.lock(function(){_._fs.unlink(d,function(Ae){_._mu.unlock(),k(Ae)})})},pr.prototype.unlinkSync=function(d){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.unlinkSync(d)},pr.prototype.rmdir=function(d,k){var _=this;this._mu.lock(function(){_._fs.rmdir(d,function(Ae){_._mu.unlock(),k(Ae)})})},pr.prototype.rmdirSync=function(d){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.rmdirSync(d)},pr.prototype.mkdir=function(d,k,_){var Ae=this;this._mu.lock(function(){Ae._fs.mkdir(d,k,function(Be){Ae._mu.unlock(),_(Be)})})},pr.prototype.mkdirSync=function(d,k){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.mkdirSync(d,k)},pr.prototype.readdir=function(d,k){var _=this;this._mu.lock(function(){_._fs.readdir(d,function(Ae,Be){_._mu.unlock(),k(Ae,Be)})})},pr.prototype.readdirSync=function(d){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readdirSync(d)},pr.prototype.exists=function(d,k){var _=this;this._mu.lock(function(){_._fs.exists(d,function(Ae){_._mu.unlock(),k(Ae)})})},pr.prototype.existsSync=function(d){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.existsSync(d)},pr.prototype.realpath=function(d,k,_){var Ae=this;this._mu.lock(function(){Ae._fs.realpath(d,k,function(Be,Me){Ae._mu.unlock(),_(Be,Me)})})},pr.prototype.realpathSync=function(d,k){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.realpathSync(d,k)},pr.prototype.truncate=function(d,k,_){var Ae=this;this._mu.lock(function(){Ae._fs.truncate(d,k,function(Be){Ae._mu.unlock(),_(Be)})})},pr.prototype.truncateSync=function(d,k){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.truncateSync(d,k)},pr.prototype.readFile=function(d,k,_,Ae){var Be=this;this._mu.lock(function(){Be._fs.readFile(d,k,_,function(Me,Ye){Be._mu.unlock(),Ae(Me,Ye)})})},pr.prototype.readFileSync=function(d,k,_){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readFileSync(d,k,_)},pr.prototype.writeFile=function(d,k,_,Ae,Be,Me){var Ye=this;this._mu.lock(function(){Ye._fs.writeFile(d,k,_,Ae,Be,function(et){Ye._mu.unlock(),Me(et)})})},pr.prototype.writeFileSync=function(d,k,_,Ae,Be){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.writeFileSync(d,k,_,Ae,Be)},pr.prototype.appendFile=function(d,k,_,Ae,Be,Me){var Ye=this;this._mu.lock(function(){Ye._fs.appendFile(d,k,_,Ae,Be,function(et){Ye._mu.unlock(),Me(et)})})},pr.prototype.appendFileSync=function(d,k,_,Ae,Be){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.appendFileSync(d,k,_,Ae,Be)},pr.prototype.chmod=function(d,k,_,Ae){var Be=this;this._mu.lock(function(){Be._fs.chmod(d,k,_,function(Me){Be._mu.unlock(),Ae(Me)})})},pr.prototype.chmodSync=function(d,k,_){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chmodSync(d,k,_)},pr.prototype.chown=function(d,k,_,Ae,Be){var Me=this;this._mu.lock(function(){Me._fs.chown(d,k,_,Ae,function(Ye){Me._mu.unlock(),Be(Ye)})})},pr.prototype.chownSync=function(d,k,_,Ae){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chownSync(d,k,_,Ae)},pr.prototype.utimes=function(d,k,_,Ae){var Be=this;this._mu.lock(function(){Be._fs.utimes(d,k,_,function(Me){Be._mu.unlock(),Ae(Me)})})},pr.prototype.utimesSync=function(d,k,_){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.utimesSync(d,k,_)},pr.prototype.link=function(d,k,_){var Ae=this;this._mu.lock(function(){Ae._fs.link(d,k,function(Be){Ae._mu.unlock(),_(Be)})})},pr.prototype.linkSync=function(d,k){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.linkSync(d,k)},pr.prototype.symlink=function(d,k,_,Ae){var Be=this;this._mu.lock(function(){Be._fs.symlink(d,k,_,function(Me){Be._mu.unlock(),Ae(Me)})})},pr.prototype.symlinkSync=function(d,k,_){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.symlinkSync(d,k,_)},pr.prototype.readlink=function(d,k){var _=this;this._mu.lock(function(){_._fs.readlink(d,function(Ae,Be){_._mu.unlock(),k(Ae,Be)})})},pr.prototype.readlinkSync=function(d){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readlinkSync(d)};var Ur="/.deletedFiles.log";function Kr(_e){return 146|_e}function Vr(_e){return Ne.getFileFlag(_e)}var Zn=function(_e){function d(k,_,Ae,Be,Me){_e.call(this,k,_,Ae,Be,Me)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.sync=function(_){var Ae=this;if(!this.isDirty()){_(null);return}this._fs._syncAsync(this,function(Be){Ae.resetDirty(),_(Be)})},d.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},d.prototype.close=function(_){this.sync(_)},d.prototype.closeSync=function(){this.syncSync()},d}(ht),Hr=function(_e){function d(k,_){if(_e.call(this),this._isInitialized=!1,this._initializeCallbacks=[],this._deletedFiles={},this._deleteLog="",this._deleteLogUpdatePending=!1,this._deleteLogUpdateNeeded=!1,this._deleteLogError=null,this._writable=k,this._readable=_,this._writable.isReadOnly())throw new Ie(ne.EINVAL,"Writable file system must be writable.")}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.isAvailable=function(){return!0},d.prototype.getOverlayedFileSystems=function(){return{readable:this._readable,writable:this._writable}},d.prototype._syncAsync=function(_,Ae){var Be=this;this.createParentDirectoriesAsync(_.getPath(),function(Me){if(Me)return Ae(Me);Be._writable.writeFile(_.getPath(),_.getBuffer(),null,Vr("w"),_.getStats().mode,Ae)})},d.prototype._syncSync=function(_){this.createParentDirectories(_.getPath()),this._writable.writeFileSync(_.getPath(),_.getBuffer(),null,Vr("w"),_.getStats().mode)},d.prototype.getName=function(){return An.Name},d.prototype.initialize=function(_){var Ae=this,Be=this._initializeCallbacks,Me=function(Ye){Ae._isInitialized=!Ye,Ae._initializeCallbacks=[],Be.forEach(function(et){return et(Ye)})};if(this._isInitialized)return _();Be.push(_),Be.length===1&&this._writable.readFile(Ur,"utf8",Vr("r"),function(Ye,et){if(Ye){if(Ye.errno!==ne.ENOENT)return Me(Ye)}else Ae._deleteLog=et;Ae._reparseDeletionLog(),Me()})},d.prototype.isReadOnly=function(){return!1},d.prototype.supportsSynch=function(){return this._readable.supportsSynch()&&this._writable.supportsSynch()},d.prototype.supportsLinks=function(){return!1},d.prototype.supportsProps=function(){return this._readable.supportsProps()&&this._writable.supportsProps()},d.prototype.getDeletionLog=function(){return this._deleteLog},d.prototype.restoreDeletionLog=function(_){this._deleteLog=_,this._reparseDeletionLog(),this.updateLog("")},d.prototype.rename=function(_,Ae,Be){var Me=this;if(!(!this.checkInitAsync(Be)||this.checkPathAsync(_,Be)||this.checkPathAsync(Ae,Be))){if(_===Ur||Ae===Ur)return Be(Ie.EPERM("Cannot rename deletion log."));if(_===Ae)return Be();this.stat(_,!1,function(Ye,et){return Ye?Be(Ye):Me.stat(Ae,!1,function(ft,kt){var Ht=Me;function ir(vr){var qr=vr.shift();if(!qr)return Be();var jr=Oe.resolve(_,qr),Wr=Oe.resolve(Ae,qr);Ht.rename(jr,Wr,function(En){if(En)return Be(En);ir(vr)})}var _r=511;if(et.isDirectory()){if(ft)return ft.errno!==ne.ENOENT?Be(ft):Me._writable.exists(_,function(vr){if(vr)return Me._writable.rename(_,Ae,Be);Me._writable.mkdir(Ae,_r,function(qr){if(qr)return Be(qr);Me._readable.readdir(_,function(jr,Wr){if(jr)return Be();ir(Wr)})})});if(_r=kt.mode,!kt.isDirectory())return Be(Ie.ENOTDIR(Ae));Me.readdir(Ae,function(vr,qr){if(qr&&qr.length)return Be(Ie.ENOTEMPTY(Ae));Me._readable.readdir(_,function(jr,Wr){if(jr)return Be();ir(Wr)})})}if(kt&&kt.isDirectory())return Be(Ie.EISDIR(Ae));Me.readFile(_,null,Vr("r"),function(vr,qr){return vr?Be(vr):Me.writeFile(Ae,qr,null,Vr("w"),et.mode,function(jr){return jr?Be(jr):Me.unlink(_,Be)})})})})}},d.prototype.renameSync=function(_,Ae){var Be=this;if(this.checkInitialized(),this.checkPath(_),this.checkPath(Ae),_===Ur||Ae===Ur)throw Ie.EPERM("Cannot rename deletion log.");var Me=this.statSync(_,!1);if(Me.isDirectory()){if(_===Ae)return;var Ye=511;if(this.existsSync(Ae)){var et=this.statSync(Ae,!1);if(Ye=et.mode,et.isDirectory()){if(this.readdirSync(Ae).length>0)throw Ie.ENOTEMPTY(Ae)}else throw Ie.ENOTDIR(Ae)}this._writable.existsSync(_)?this._writable.renameSync(_,Ae):this._writable.existsSync(Ae)||this._writable.mkdirSync(Ae,Ye),this._readable.existsSync(_)&&this._readable.readdirSync(_).forEach(function(ft){Be.renameSync(Oe.resolve(_,ft),Oe.resolve(Ae,ft))})}else{if(this.existsSync(Ae)&&this.statSync(Ae,!1).isDirectory())throw Ie.EISDIR(Ae);this.writeFileSync(Ae,this.readFileSync(_,null,Vr("r")),null,Vr("w"),Me.mode)}_!==Ae&&this.existsSync(_)&&this.unlinkSync(_)},d.prototype.stat=function(_,Ae,Be){var Me=this;this.checkInitAsync(Be)&&this._writable.stat(_,Ae,function(Ye,et){Ye&&Ye.errno===ne.ENOENT?(Me._deletedFiles[_]&&Be(Ie.ENOENT(_)),Me._readable.stat(_,Ae,function(ft,kt){kt&&(kt=kt.clone(),kt.mode=Kr(kt.mode)),Be(ft,kt)})):Be(Ye,et)})},d.prototype.statSync=function(_,Ae){this.checkInitialized();try{return this._writable.statSync(_,Ae)}catch{if(this._deletedFiles[_])throw Ie.ENOENT(_);var Be=this._readable.statSync(_,Ae).clone();return Be.mode=Kr(Be.mode),Be}},d.prototype.open=function(_,Ae,Be,Me){var Ye=this;!this.checkInitAsync(Me)||this.checkPathAsync(_,Me)||this.stat(_,!1,function(et,ft){if(ft)switch(Ae.pathExistsAction()){case Fe.TRUNCATE_FILE:return Ye.createParentDirectoriesAsync(_,function(kt){if(kt)return Me(kt);Ye._writable.open(_,Ae,Be,Me)});case Fe.NOP:return Ye._writable.exists(_,function(kt){kt?Ye._writable.open(_,Ae,Be,Me):(ft=ft.clone(),ft.mode=Be,Ye._readable.readFile(_,null,Vr("r"),function(Ht,ir){if(Ht)return Me(Ht);ft.size===-1&&(ft.size=ir.length);var _r=new Zn(Ye,_,Ae,ft,ir);Me(null,_r)}))});default:return Me(Ie.EEXIST(_))}else switch(Ae.pathNotExistsAction()){case Fe.CREATE_FILE:return Ye.createParentDirectoriesAsync(_,function(kt){return kt?Me(kt):Ye._writable.open(_,Ae,Be,Me)});default:return Me(Ie.ENOENT(_))}})},d.prototype.openSync=function(_,Ae,Be){if(this.checkInitialized(),this.checkPath(_),_===Ur)throw Ie.EPERM("Cannot open deletion log.");if(this.existsSync(_))switch(Ae.pathExistsAction()){case Fe.TRUNCATE_FILE:return this.createParentDirectories(_),this._writable.openSync(_,Ae,Be);case Fe.NOP:if(this._writable.existsSync(_))return this._writable.openSync(_,Ae,Be);var Me=this._readable.readFileSync(_,null,Vr("r")),Ye=this._readable.statSync(_,!1).clone();return Ye.mode=Be,new Zn(this,_,Ae,Ye,Me);default:throw Ie.EEXIST(_)}else switch(Ae.pathNotExistsAction()){case Fe.CREATE_FILE:return this.createParentDirectories(_),this._writable.openSync(_,Ae,Be);default:throw Ie.ENOENT(_)}},d.prototype.unlink=function(_,Ae){var Be=this;!this.checkInitAsync(Ae)||this.checkPathAsync(_,Ae)||this.exists(_,function(Me){if(!Me)return Ae(Ie.ENOENT(_));Be._writable.exists(_,function(Ye){if(Ye)return Be._writable.unlink(_,function(et){if(et)return Ae(et);Be.exists(_,function(ft){ft&&Be.deletePath(_),Ae(null)})});Be.deletePath(_),Ae(null)})})},d.prototype.unlinkSync=function(_){if(this.checkInitialized(),this.checkPath(_),this.existsSync(_))this._writable.existsSync(_)&&this._writable.unlinkSync(_),this.existsSync(_)&&this.deletePath(_);else throw Ie.ENOENT(_)},d.prototype.rmdir=function(_,Ae){var Be=this;if(this.checkInitAsync(Ae)){var Me=function(){Be.readdir(_,function(Ye,et){if(Ye)return Ae(Ye);if(et.length)return Ae(Ie.ENOTEMPTY(_));Be.deletePath(_),Ae(null)})};this.exists(_,function(Ye){if(!Ye)return Ae(Ie.ENOENT(_));Be._writable.exists(_,function(et){et?Be._writable.rmdir(_,function(ft){if(ft)return Ae(ft);Be._readable.exists(_,function(kt){kt?Me():Ae()})}):Me()})})}},d.prototype.rmdirSync=function(_){if(this.checkInitialized(),this.existsSync(_)){if(this._writable.existsSync(_)&&this._writable.rmdirSync(_),this.existsSync(_)){if(this.readdirSync(_).length>0)throw Ie.ENOTEMPTY(_);this.deletePath(_)}}else throw Ie.ENOENT(_)},d.prototype.mkdir=function(_,Ae,Be){var Me=this;this.checkInitAsync(Be)&&this.exists(_,function(Ye){if(Ye)return Be(Ie.EEXIST(_));Me.createParentDirectoriesAsync(_,function(et){if(et)return Be(et);Me._writable.mkdir(_,Ae,Be)})})},d.prototype.mkdirSync=function(_,Ae){if(this.checkInitialized(),this.existsSync(_))throw Ie.EEXIST(_);this.createParentDirectories(_),this._writable.mkdirSync(_,Ae)},d.prototype.readdir=function(_,Ae){var Be=this;this.checkInitAsync(Ae)&&this.stat(_,!1,function(Me,Ye){if(Me)return Ae(Me);if(!Ye.isDirectory())return Ae(Ie.ENOTDIR(_));Be._writable.readdir(_,function(et,ft){if(et&&et.code!=="ENOENT")return Ae(et);(et||!ft)&&(ft=[]),Be._readable.readdir(_,function(kt,Ht){(kt||!Ht)&&(Ht=[]);var ir={},_r=ft.concat(Ht.filter(function(vr){return!Be._deletedFiles[_+"/"+vr]})).filter(function(vr){var qr=!ir[vr];return ir[vr]=!0,qr});Ae(null,_r)})})})},d.prototype.readdirSync=function(_){var Ae=this;this.checkInitialized();var Be=this.statSync(_,!1);if(!Be.isDirectory())throw Ie.ENOTDIR(_);var Me=[];try{Me=Me.concat(this._writable.readdirSync(_))}catch{}try{Me=Me.concat(this._readable.readdirSync(_).filter(function(et){return!Ae._deletedFiles[_+"/"+et]}))}catch{}var Ye={};return Me.filter(function(et){var ft=!Ye[et];return Ye[et]=!0,ft})},d.prototype.exists=function(_,Ae){var Be=this;this.checkInitialized(),this._writable.exists(_,function(Me){if(Me)return Ae(!0);Be._readable.exists(_,function(Ye){Ae(Ye&&Be._deletedFiles[_]!==!0)})})},d.prototype.existsSync=function(_){return this.checkInitialized(),this._writable.existsSync(_)||this._readable.existsSync(_)&&this._deletedFiles[_]!==!0},d.prototype.chmod=function(_,Ae,Be,Me){var Ye=this;this.checkInitAsync(Me)&&this.operateOnWritableAsync(_,function(et){if(et)return Me(et);Ye._writable.chmod(_,Ae,Be,Me)})},d.prototype.chmodSync=function(_,Ae,Be){var Me=this;this.checkInitialized(),this.operateOnWritable(_,function(){Me._writable.chmodSync(_,Ae,Be)})},d.prototype.chown=function(_,Ae,Be,Me,Ye){var et=this;this.checkInitAsync(Ye)&&this.operateOnWritableAsync(_,function(ft){if(ft)return Ye(ft);et._writable.chown(_,Ae,Be,Me,Ye)})},d.prototype.chownSync=function(_,Ae,Be,Me){var Ye=this;this.checkInitialized(),this.operateOnWritable(_,function(){Ye._writable.chownSync(_,Ae,Be,Me)})},d.prototype.utimes=function(_,Ae,Be,Me){var Ye=this;this.checkInitAsync(Me)&&this.operateOnWritableAsync(_,function(et){if(et)return Me(et);Ye._writable.utimes(_,Ae,Be,Me)})},d.prototype.utimesSync=function(_,Ae,Be){var Me=this;this.checkInitialized(),this.operateOnWritable(_,function(){Me._writable.utimesSync(_,Ae,Be)})},d.prototype.deletePath=function(_){this._deletedFiles[_]=!0,this.updateLog("d"+_+`
`)},d.prototype.updateLog=function(_){var Ae=this;this._deleteLog+=_,this._deleteLogUpdatePending?this._deleteLogUpdateNeeded=!0:(this._deleteLogUpdatePending=!0,this._writable.writeFile(Ur,this._deleteLog,"utf8",Ne.getFileFlag("w"),420,function(Be){Ae._deleteLogUpdatePending=!1,Be?Ae._deleteLogError=Be:Ae._deleteLogUpdateNeeded&&(Ae._deleteLogUpdateNeeded=!1,Ae.updateLog(""))}))},d.prototype._reparseDeletionLog=function(){var _=this;this._deletedFiles={},this._deleteLog.split(`
`).forEach(function(Ae){_._deletedFiles[Ae.slice(1)]=Ae.slice(0,1)==="d"})},d.prototype.checkInitialized=function(){if(this._isInitialized){if(this._deleteLogError!==null){var _=this._deleteLogError;throw this._deleteLogError=null,_}}else throw new Ie(ne.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.")},d.prototype.checkInitAsync=function(_){if(this._isInitialized){if(this._deleteLogError!==null){var Ae=this._deleteLogError;return this._deleteLogError=null,_(Ae),!1}}else return _(new Ie(ne.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.")),!1;return!0},d.prototype.checkPath=function(_){if(_===Ur)throw Ie.EPERM(_)},d.prototype.checkPathAsync=function(_,Ae){return _===Ur?(Ae(Ie.EPERM(_)),!0):!1},d.prototype.createParentDirectoriesAsync=function(_,Ae){var Be=Oe.dirname(_),Me=[],Ye=this;this._writable.stat(Be,!1,et);function et(kt,Ht){kt?(Me.push(Be),Be=Oe.dirname(Be),Ye._writable.stat(Be,!1,et)):ft()}function ft(){if(!Me.length)return Ae();var kt=Me.pop();Ye._readable.stat(kt,!1,function(Ht,ir){if(!ir)return Ae();Ye._writable.mkdir(kt,ir.mode,function(_r){if(_r)return Ae(_r);ft()})})}},d.prototype.createParentDirectories=function(_){for(var Ae=this,Be=Oe.dirname(_),Me=[];!this._writable.existsSync(Be);)Me.push(Be),Be=Oe.dirname(Be);Me=Me.reverse(),Me.forEach(function(Ye){Ae._writable.mkdirSync(Ye,Ae.statSync(Ye,!1).mode)})},d.prototype.operateOnWritable=function(_,Ae){if(this.existsSync(_))this._writable.existsSync(_)||this.copyToWritable(_),Ae();else throw Ie.ENOENT(_)},d.prototype.operateOnWritableAsync=function(_,Ae){var Be=this;this.exists(_,function(Me){if(!Me)return Ae(Ie.ENOENT(_));Be._writable.exists(_,function(Ye){if(Ye)Ae();else return Be.copyToWritableAsync(_,Ae)})})},d.prototype.copyToWritable=function(_){var Ae=this.statSync(_,!1);Ae.isDirectory()?this._writable.mkdirSync(_,Ae.mode):this.writeFileSync(_,this._readable.readFileSync(_,null,Vr("r")),null,Vr("w"),this.statSync(_,!1).mode)},d.prototype.copyToWritableAsync=function(_,Ae){var Be=this;this.stat(_,!1,function(Me,Ye){if(Me)return Ae(Me);if(Ye.isDirectory())return Be._writable.mkdir(_,Ye.mode,Ae);Be._readable.readFile(_,null,Vr("r"),function(et,ft){if(et)return Ae(et);Be.writeFile(_,ft,null,Vr("w"),Ye.mode,Ae)})})},d}(At),An=function(_e){function d(k,_,Ae){Ae===void 0&&(Ae=!0),_e.call(this,new Hr(k,_)),Zt(Ae,d.Name,{readable:"readable file system",writable:"writable file system"})}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.Create=function(_,Ae){try{var Be=new d(_.writable,_.readable,!1);Be.initialize(function(Me){Ae(Me,Be)},!1)}catch(Me){Ae(Me)}},d.isAvailable=function(){return Hr.isAvailable()},d.prototype.initialize=function(_,Ae){Ae===void 0&&(Ae=!0),Ae&&console.warn("[OverlayFS] OverlayFS.initialize() is deprecated and will be removed in the next major release. Please use 'OverlayFS.Create({readable: readable file system instance, writable: writable file system instance}, cb)' to create and initialize OverlayFS instances."),_e.prototype.initialize.call(this,_)},d.prototype.getOverlayedFileSystems=function(){return _e.prototype.getFSUnlocked.call(this).getOverlayedFileSystems()},d.prototype.unwrap=function(){return _e.prototype.getFSUnlocked.call(this)},d}(pr);An.Name="OverlayFS",An.Options={writable:{type:"object",description:"The file system to write modified files to."},readable:{type:"object",description:"The file system that initially populates this file system."}};var Gr;(function(_e){_e[_e.CB=0]="CB",_e[_e.FD=1]="FD",_e[_e.API_ERROR=2]="API_ERROR",_e[_e.STATS=3]="STATS",_e[_e.PROBE=4]="PROBE",_e[_e.FILEFLAG=5]="FILEFLAG",_e[_e.BUFFER=6]="BUFFER",_e[_e.ERROR=7]="ERROR"})(Gr||(Gr={}));var ra=function(){this._callbacks={},this._nextId=0};ra.prototype.toRemoteArg=function(d){var k=this._nextId++;return this._callbacks[k]=d,{type:Gr.CB,id:k}},ra.prototype.toLocalArg=function(d){var k=this._callbacks[d];return delete this._callbacks[d],k};var Rn=function(){this._fileDescriptors={},this._nextId=0};Rn.prototype.toRemoteArg=function(d,k,_,Ae){var Be=this._nextId++,Me,Ye;this._fileDescriptors[Be]=d,d.stat(function(et,ft){et?Ae(et):(Ye=ka(ft.toBuffer()),_.isReadable()?d.read(f.alloc(ft.size),0,ft.size,0,function(kt,Ht,ir){kt?Ae(kt):(Me=ka(ir),Ae(null,{type:Gr.FD,id:Be,data:Me,stat:Ye,path:k,flag:_.getFlagString()}))}):Ae(null,{type:Gr.FD,id:Be,data:new ArrayBuffer(0),stat:Ye,path:k,flag:_.getFlagString()}))})},Rn.prototype.applyFdAPIRequest=function(d,k){var _=this,Ae=d.args[0];this._applyFdChanges(Ae,function(Be,Me){Be?k(Be):Me[d.method](function(Ye){d.method==="close"&&delete _._fileDescriptors[Ae.id],k(Ye)})})},Rn.prototype._applyFdChanges=function(d,k){var _=this._fileDescriptors[d.id],Ae=Oa(d.data),Be=Ue.fromBuffer(Oa(d.stat)),Me=Ne.getFileFlag(d.flag);Me.isWriteable()?_.write(Ae,0,Ae.length,Me.isAppendable()?_.getPos():0,function(Ye){function et(){_.stat(function(ft,kt){ft?k(ft):kt.mode!==Be.mode?_.chmod(Be.mode,function(Ht){k(Ht,_)}):k(ft,_)})}Ye?k(Ye):Me.isAppendable()?et():_.truncate(Ae.length,function(){et()})}):k(null,_)};function xi(_e){return{type:Gr.API_ERROR,errorData:ka(_e.writeToBuffer())}}function bo(_e){return Ie.fromBuffer(Oa(_e.errorData))}function Fu(_e){return{type:Gr.ERROR,name:_e.name,message:_e.message,stack:_e.stack}}function Pu(_e){var d=bn[_e.name];typeof d!="function"&&(d=Error);var k=new d(_e.message);return k.stack=_e.stack,k}function Bu(_e){return{type:Gr.STATS,statsData:ka(_e.toBuffer())}}function qu(_e){return Ue.fromBuffer(Oa(_e.statsData))}function Nu(_e){return{type:Gr.FILEFLAG,flagStr:_e.getFlagString()}}function Lu(_e){return Ne.getFileFlag(_e.flagStr)}function ka(_e){return ct(_e)}function Oa(_e){return Kt(_e)}function Mu(_e){return{type:Gr.BUFFER,data:ka(_e)}}function Vu(_e){return Oa(_e.data)}function _f(_e){return _e&&typeof _e=="object"&&_e.hasOwnProperty("browserfsMessage")&&_e.browserfsMessage}function vf(_e){return _e&&typeof _e=="object"&&_e.hasOwnProperty("browserfsMessage")&&_e.browserfsMessage}var Uu=function(_e){function d(k,_,Ae,Be,Me,Ye){_e.call(this,k,_,Ae,Be,Ye),this._remoteFdId=Me}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.getRemoteFdId=function(){return this._remoteFdId},d.prototype.toRemoteArg=function(){return{type:Gr.FD,id:this._remoteFdId,data:ka(this.getBuffer()),stat:ka(this.getStats().toBuffer()),path:this.getPath(),flag:this.getFlag().getFlagString()}},d.prototype.sync=function(_){this._syncClose("sync",_)},d.prototype.close=function(_){this._syncClose("close",_)},d.prototype._syncClose=function(_,Ae){var Be=this;this.isDirty()?this._fs.syncClose(_,this,function(Me){Me||Be.resetDirty(),Ae(Me)}):Ae()},d}(ht),L0=function(_e){function d(k,_){var Ae=this;_===void 0&&(_=!0),_e.call(this),this._callbackConverter=new ra,this._isInitialized=!1,this._isReadOnly=!1,this._supportLinks=!1,this._supportProps=!1,this._worker=k,Zt(_,d.Name,{worker:"Web Worker instance"}),this._worker.addEventListener("message",function(Be){var Me=Be.data;if(vf(Me)){var Ye,et=Me.args,ft=new Array(et.length);for(Ye=0;Ye<ft.length;Ye++)ft[Ye]=Ae._argRemote2Local(et[Ye]);Ae._callbackConverter.toLocalArg(Me.cbId).apply(null,ft)}})}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.Create=function(_,Ae){var Be=new d(_.worker,!1);Be.initialize(function(){Ae(null,Be)})},d.isAvailable=function(){return typeof importScripts<"u"||typeof Worker<"u"},d.attachRemoteListener=function(_){var Ae=new Rn;function Be(Ye,et,ft){switch(typeof Ye){case"object":Ye instanceof Ue?ft(null,Bu(Ye)):Ye instanceof Ie?ft(null,xi(Ye)):Ye instanceof xt?ft(null,Ae.toRemoteArg(Ye,et[0],et[1],ft)):Ye instanceof Ne?ft(null,Nu(Ye)):Ye instanceof f?ft(null,Mu(Ye)):Ye instanceof Error?ft(null,Fu(Ye)):ft(null,Ye);break;default:ft(null,Ye);break}}function Me(Ye,et){if(!Ye)return Ye;switch(typeof Ye){case"object":if(typeof Ye.type=="number"){var ft=Ye;switch(ft.type){case Gr.CB:var kt=Ye.id;return function(){var Ht=arguments,ir,_r=new Array(arguments.length),vr,qr=arguments.length;function jr(Wr){qr>0&&(qr=-1,vr={browserfsMessage:!0,cbId:kt,args:[xi(Wr)]},_.postMessage(vr))}for(ir=0;ir<arguments.length;ir++)(function(Wr,En){Be(En,et,function(Mn,Fi){_r[Wr]=Fi,Mn?jr(Mn):--qr===0&&(vr={browserfsMessage:!0,cbId:kt,args:_r},_.postMessage(vr))})})(ir,Ht[ir]);arguments.length===0&&(vr={browserfsMessage:!0,cbId:kt,args:_r},_.postMessage(vr))};case Gr.API_ERROR:return bo(ft);case Gr.STATS:return qu(ft);case Gr.FILEFLAG:return Lu(ft);case Gr.BUFFER:return Vu(ft);case Gr.ERROR:return Pu(ft);default:return Ye}}else return Ye;default:return Ye}}_.addEventListener("message",function(Ye){var et=Ye.data;if(_f(et)){var ft=et.args,kt=new Array(ft.length);switch(et.method){case"close":case"sync":(function(){var _r=ft[1];Ae.applyFdAPIRequest(et,function(vr){var qr={browserfsMessage:!0,cbId:_r.id,args:vr?[xi(vr)]:[]};_.postMessage(qr)})})();break;case"probe":(function(){var _r=it.getRootFS(),vr=ft[1],qr={type:Gr.PROBE,isReadOnly:_r.isReadOnly(),supportsLinks:_r.supportsLinks(),supportsProps:_r.supportsProps()},jr={browserfsMessage:!0,cbId:vr.id,args:[qr]};_.postMessage(jr)})();break;default:for(var Ht=0;Ht<ft.length;Ht++)kt[Ht]=Me(ft[Ht],kt);var ir=it.getRootFS();ir[et.method].apply(ir,kt);break}}})},d.prototype.getName=function(){return d.Name},d.prototype.initialize=function(_){var Ae=this;if(this._isInitialized)_();else{var Be={browserfsMessage:!0,method:"probe",args:[this._argLocal2Remote(cr()),this._callbackConverter.toRemoteArg(function(Me){Ae._isInitialized=!0,Ae._isReadOnly=Me.isReadOnly,Ae._supportLinks=Me.supportsLinks,Ae._supportProps=Me.supportsProps,_()})]};this._worker.postMessage(Be)}},d.prototype.isReadOnly=function(){return this._isReadOnly},d.prototype.supportsSynch=function(){return!1},d.prototype.supportsLinks=function(){return this._supportLinks},d.prototype.supportsProps=function(){return this._supportProps},d.prototype.rename=function(_,Ae,Be){this._rpc("rename",arguments)},d.prototype.stat=function(_,Ae,Be){this._rpc("stat",arguments)},d.prototype.open=function(_,Ae,Be,Me){this._rpc("open",arguments)},d.prototype.unlink=function(_,Ae){this._rpc("unlink",arguments)},d.prototype.rmdir=function(_,Ae){this._rpc("rmdir",arguments)},d.prototype.mkdir=function(_,Ae,Be){this._rpc("mkdir",arguments)},d.prototype.readdir=function(_,Ae){this._rpc("readdir",arguments)},d.prototype.exists=function(_,Ae){this._rpc("exists",arguments)},d.prototype.realpath=function(_,Ae,Be){this._rpc("realpath",arguments)},d.prototype.truncate=function(_,Ae,Be){this._rpc("truncate",arguments)},d.prototype.readFile=function(_,Ae,Be,Me){this._rpc("readFile",arguments)},d.prototype.writeFile=function(_,Ae,Be,Me,Ye,et){this._rpc("writeFile",arguments)},d.prototype.appendFile=function(_,Ae,Be,Me,Ye,et){this._rpc("appendFile",arguments)},d.prototype.chmod=function(_,Ae,Be,Me){this._rpc("chmod",arguments)},d.prototype.chown=function(_,Ae,Be,Me,Ye){this._rpc("chown",arguments)},d.prototype.utimes=function(_,Ae,Be,Me){this._rpc("utimes",arguments)},d.prototype.link=function(_,Ae,Be){this._rpc("link",arguments)},d.prototype.symlink=function(_,Ae,Be,Me){this._rpc("symlink",arguments)},d.prototype.readlink=function(_,Ae){this._rpc("readlink",arguments)},d.prototype.syncClose=function(_,Ae,Be){this._worker.postMessage({browserfsMessage:!0,method:_,args:[Ae.toRemoteArg(),this._callbackConverter.toRemoteArg(Be)]})},d.prototype._argRemote2Local=function(_){if(!_)return _;switch(typeof _){case"object":if(typeof _.type=="number"){var Ae=_;switch(Ae.type){case Gr.API_ERROR:return bo(Ae);case Gr.FD:var Be=Ae;return new Uu(this,Be.path,Ne.getFileFlag(Be.flag),Ue.fromBuffer(Oa(Be.stat)),Be.id,Oa(Be.data));case Gr.STATS:return qu(Ae);case Gr.FILEFLAG:return Lu(Ae);case Gr.BUFFER:return Vu(Ae);case Gr.ERROR:return Pu(Ae);default:return _}}else return _;default:return _}},d.prototype._rpc=function(_,Ae){for(var Be=this,Me=new Array(Ae.length),Ye=0;Ye<Ae.length;Ye++)Me[Ye]=Be._argLocal2Remote(Ae[Ye]);var et={browserfsMessage:!0,method:_,args:Me};this._worker.postMessage(et)},d.prototype._argLocal2Remote=function(_){if(!_)return _;switch(typeof _){case"object":return _ instanceof Ue?Bu(_):_ instanceof Ie?xi(_):_ instanceof Uu?_.toRemoteArg():_ instanceof Ne?Nu(_):_ instanceof f?Mu(_):_ instanceof Error?Fu(_):"Unknown argument";case"function":return this._callbackConverter.toRemoteArg(_);default:return _}},d}(At);L0.Name="WorkerFS",L0.Options={worker:{type:"object",description:"The target worker that you want to connect to, or the current worker if in a worker context.",validator:function(_e,d){_e.postMessage?d():d(new Ie(ne.EINVAL,"option must be a Web Worker instance."))}}};function mf(_e,d,k){var _=new XMLHttpRequest;_.open("GET",_e,!0);var Ae=!0;switch(d){case"buffer":_.responseType="arraybuffer";break;case"json":try{_.responseType="json",Ae=_.responseType==="json"}catch{Ae=!1}break;default:return k(new Ie(ne.EINVAL,"Invalid download type: "+d))}_.onreadystatechange=function(Be){if(_.readyState===4)if(_.status===200)switch(d){case"buffer":return k(null,_.response?f.from(_.response):cr());case"json":return Ae?k(null,_.response):k(null,JSON.parse(_.responseText))}else return k(new Ie(_.status,"XHR error."))},_.send()}function gf(_e,d){var k=new XMLHttpRequest;k.open("GET",_e,!1);var _=null,Ae=null;if(k.overrideMimeType("text/plain; charset=x-user-defined"),k.onreadystatechange=function(Be){if(k.readyState===4)if(k.status===200)switch(d){case"buffer":var Me=k.responseText;_=f.alloc(Me.length);for(var Ye=0;Ye<Me.length;Ye++)_[Ye]=Me.charCodeAt(Ye);return;case"json":_=JSON.parse(k.responseText);return}else{Ae=new Ie(k.status,"XHR error.");return}},k.send(),Ae)throw Ae;return _}function yf(_e,d){var k=new XMLHttpRequest;switch(k.open("GET",_e,!1),d){case"buffer":k.responseType="arraybuffer";break;case"json":break;default:throw new Ie(ne.EINVAL,"Invalid download type: "+d)}var _,Ae;if(k.onreadystatechange=function(Be){if(k.readyState===4)if(k.status===200)switch(d){case"buffer":_=f.from(k.response);break;case"json":_=JSON.parse(k.response);break}else Ae=new Ie(k.status,"XHR error.")},k.send(),Ae)throw Ae;return _}function ju(_e,d,k){var _=new XMLHttpRequest;_.open("HEAD",d,_e),_.onreadystatechange=function(Ae){if(_.readyState===4)if(_.status===200)try{return k(null,parseInt(_.getResponseHeader("Content-Length")||"-1",10))}catch{return k(new Ie(ne.EIO,"XHR HEAD error: Could not read content-length."))}else return k(new Ie(_.status,"XHR HEAD error."))},_.send()}var zu=mf,bf=jt&&typeof Blob<"u"?yf:gf;function Ef(_e){var d=-1;return ju(!1,_e,function(k,_){if(k)throw k;d=_}),d}function wf(_e,d){ju(!0,_e,d)}var hi=function(){this._index={},this.addPath("/",new $n)};hi.fromListing=function(d){var k=new hi,_=new $n;k._index["/"]=_;for(var Ae=[["",d,_]];Ae.length>0;){var Be=void 0,Me=Ae.pop(),Ye=Me[0],et=Me[1],ft=Me[2];for(var kt in et)if(et.hasOwnProperty(kt)){var Ht=et[kt],ir=Ye+"/"+kt;Ht?(k._index[ir]=Be=new $n,Ae.push([ir,Ht,Be])):Be=new Eo(new Ue(Ve.FILE,-1,365)),ft&&(ft._ls[kt]=Be)}}return k},hi.prototype.fileIterator=function(d){var k=this;for(var _ in k._index)if(k._index.hasOwnProperty(_))for(var Ae=k._index[_],Be=Ae.getListing(),Me=0,Ye=Be;Me<Ye.length;Me+=1){var et=Ye[Me],ft=Ae.getItem(et);Hi(ft)&&d(ft.getData())}},hi.prototype.addPath=function(d,k){if(!k)throw new Error("Inode must be specified");if(d[0]!=="/")throw new Error("Path must be absolute, got: "+d);if(this._index.hasOwnProperty(d))return this._index[d]===k;var _=this._split_path(d),Ae=_[0],Be=_[1],Me=this._index[Ae];return Me===void 0&&d!=="/"&&(Me=new $n,!this.addPath(Ae,Me))||d!=="/"&&!Me.addItem(Be,k)?!1:(na(k)&&(this._index[d]=k),!0)},hi.prototype.addPathFast=function(d,k){var _=d.lastIndexOf("/"),Ae=_===0?"/":d.substring(0,_),Be=d.substring(_+1),Me=this._index[Ae];return Me===void 0&&(Me=new $n,this.addPathFast(Ae,Me)),Me.addItem(Be,k)?(k.isDir()&&(this._index[d]=k),!0):!1},hi.prototype.removePath=function(d){var k=this,_=this._split_path(d),Ae=_[0],Be=_[1],Me=this._index[Ae];if(Me===void 0)return null;var Ye=Me.remItem(Be);if(Ye===null)return null;if(na(Ye)){for(var et=Ye.getListing(),ft=0,kt=et;ft<kt.length;ft+=1){var Ht=kt[ft];k.removePath(d+"/"+Ht)}d!=="/"&&delete this._index[d]}return Ye},hi.prototype.ls=function(d){var k=this._index[d];return k===void 0?null:k.getListing()},hi.prototype.getInode=function(d){var k=this._split_path(d),_=k[0],Ae=k[1],Be=this._index[_];return Be===void 0?null:_===d?Be:Be.getItem(Ae)},hi.prototype._split_path=function(d){var k=Oe.dirname(d),_=d.substr(k.length+(k==="/"?0:1));return[k,_]};var Eo=function(d){this.data=d};Eo.prototype.isFile=function(){return!0},Eo.prototype.isDir=function(){return!1},Eo.prototype.getData=function(){return this.data},Eo.prototype.setData=function(d){this.data=d};var $n=function(d){d===void 0&&(d=null),this.data=d,this._ls={}};$n.prototype.isFile=function(){return!1},$n.prototype.isDir=function(){return!0},$n.prototype.getData=function(){return this.data},$n.prototype.getStats=function(){return new Ue(Ve.DIRECTORY,4096,365)},$n.prototype.getListing=function(){return Object.keys(this._ls)},$n.prototype.getItem=function(d){var k=this._ls[d];return k||null},$n.prototype.addItem=function(d,k){return d in this._ls?!1:(this._ls[d]=k,!0)},$n.prototype.remItem=function(d){var k=this._ls[d];return k===void 0?null:(delete this._ls[d],k)};function Hi(_e){return!!_e&&_e.isFile()}function na(_e){return!!_e&&_e.isDir()}function Sf(_e,d,k){try{k(null,_e.toString(d))}catch(_){k(_)}}var M0=function(_e){function d(k,_,Ae){_===void 0&&(_=""),Ae===void 0&&(Ae=!0),_e.call(this),k||(k="index.json"),_.length>0&&_.charAt(_.length-1)!=="/"&&(_=_+"/"),this.prefixUrl=_;var Be=null;if(typeof k=="string"){if(Be=this._requestFileSync(k,"json"),!Be)throw new Error("Unable to find listing at URL: ${listingUrlOrObj}")}else Be=k;Zt(Ae,d.Name,{index:typeof k=="string"?k:"file index as an object",baseUrl:_}),this._index=hi.fromListing(Be)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.Create=function(_,Ae){_.index===void 0&&(_.index="index.json"),typeof _.index=="string"?d.FromURL(_.index,Ae,_.baseUrl,!1):Ae(null,new d(_.index,_.baseUrl,!1))},d.isAvailable=function(){return typeof XMLHttpRequest<"u"&&XMLHttpRequest!==null},d.FromURL=function(_,Ae,Be,Me){Be===void 0&&(Be=_.slice(0,_.lastIndexOf("/")+1)),Me===void 0&&(Me=!0),Me&&console.warn(`[XmlHttpRequest] XmlHttpRequest.FromURL() is deprecated and will be removed in the next major release. Please use 'XmlHttpRequest.Create({ index: "`+_+'", baseUrl: "'+Be+`" }, cb)' instead.`),zu(_,"json",function(Ye,et){Ye?Ae(Ye):Ae(null,new d(et,Be,!1))})},d.prototype.empty=function(){this._index.fileIterator(function(_){_.fileData=null})},d.prototype.getName=function(){return d.Name},d.prototype.diskSpace=function(_,Ae){Ae(0,0)},d.prototype.isReadOnly=function(){return!0},d.prototype.supportsLinks=function(){return!1},d.prototype.supportsProps=function(){return!1},d.prototype.supportsSynch=function(){return!0},d.prototype.preloadFile=function(_,Ae){var Be=this._index.getInode(_);if(Hi(Be)){if(Be===null)throw Ie.ENOENT(_);var Me=Be.getData();Me.size=Ae.length,Me.fileData=Ae}else throw Ie.EISDIR(_)},d.prototype.stat=function(_,Ae,Be){var Me=this._index.getInode(_);if(Me===null)return Be(Ie.ENOENT(_));var Ye;Hi(Me)?(Ye=Me.getData(),Ye.size<0?this._requestFileSizeAsync(_,function(et,ft){if(et)return Be(et);Ye.size=ft,Be(null,Ye.clone())}):Be(null,Ye.clone())):na(Me)?(Ye=Me.getStats(),Be(null,Ye)):Be(Ie.FileError(ne.EINVAL,_))},d.prototype.statSync=function(_,Ae){var Be=this._index.getInode(_);if(Be===null)throw Ie.ENOENT(_);var Me;if(Hi(Be))Me=Be.getData(),Me.size<0&&(Me.size=this._requestFileSizeSync(_));else if(na(Be))Me=Be.getStats();else throw Ie.FileError(ne.EINVAL,_);return Me},d.prototype.open=function(_,Ae,Be,Me){if(Ae.isWriteable())return Me(new Ie(ne.EPERM,_));var Ye=this,et=this._index.getInode(_);if(et===null)return Me(Ie.ENOENT(_));if(Hi(et)){var ft=et.getData();switch(Ae.pathExistsAction()){case Fe.THROW_EXCEPTION:case Fe.TRUNCATE_FILE:return Me(Ie.EEXIST(_));case Fe.NOP:if(ft.fileData)return Me(null,new Dt(Ye,_,Ae,ft.clone(),ft.fileData));this._requestFileAsync(_,"buffer",function(kt,Ht){return kt?Me(kt):(ft.size=Ht.length,ft.fileData=Ht,Me(null,new Dt(Ye,_,Ae,ft.clone(),Ht)))});break;default:return Me(new Ie(ne.EINVAL,"Invalid FileMode object."))}}else return Me(Ie.EISDIR(_))},d.prototype.openSync=function(_,Ae,Be){if(Ae.isWriteable())throw new Ie(ne.EPERM,_);var Me=this._index.getInode(_);if(Me===null)throw Ie.ENOENT(_);if(Hi(Me)){var Ye=Me.getData();switch(Ae.pathExistsAction()){case Fe.THROW_EXCEPTION:case Fe.TRUNCATE_FILE:throw Ie.EEXIST(_);case Fe.NOP:if(Ye.fileData)return new Dt(this,_,Ae,Ye.clone(),Ye.fileData);var et=this._requestFileSync(_,"buffer");return Ye.size=et.length,Ye.fileData=et,new Dt(this,_,Ae,Ye.clone(),et);default:throw new Ie(ne.EINVAL,"Invalid FileMode object.")}}else throw Ie.EISDIR(_)},d.prototype.readdir=function(_,Ae){try{Ae(null,this.readdirSync(_))}catch(Be){Ae(Be)}},d.prototype.readdirSync=function(_){var Ae=this._index.getInode(_);if(Ae===null)throw Ie.ENOENT(_);if(na(Ae))return Ae.getListing();throw Ie.ENOTDIR(_)},d.prototype.readFile=function(_,Ae,Be,Me){var Ye=Me;this.open(_,Be,420,function(et,ft){if(et)return Me(et);Me=function(ir,_r){ft.close(function(vr){return ir||(ir=vr),Ye(ir,_r)})};var kt=ft,Ht=kt.getBuffer();Ae===null?Me(et,fr(Ht)):Sf(Ht,Ae,Me)})},d.prototype.readFileSync=function(_,Ae,Be){var Me=this.openSync(_,Be,420);try{var Ye=Me,et=Ye.getBuffer();return Ae===null?fr(et):et.toString(Ae)}finally{Me.closeSync()}},d.prototype.getXhrPath=function(_){return _.charAt(0)==="/"&&(_=_.slice(1)),this.prefixUrl+_},d.prototype._requestFileAsync=function(_,Ae,Be){zu(this.getXhrPath(_),Ae,Be)},d.prototype._requestFileSync=function(_,Ae){return bf(this.getXhrPath(_),Ae)},d.prototype._requestFileSizeAsync=function(_,Ae){wf(this.getXhrPath(_),Ae)},d.prototype._requestFileSizeSync=function(_){return Ef(this.getXhrPath(_))},d}(At);M0.Name="XmlHttpRequest",M0.Options={index:{type:["string","object"],optional:!0,description:"URL to a file index as a JSON file or the file index object itself, generated with the make_xhrfs_index script. Defaults to `index.json`."},baseUrl:{type:"string",optional:!0,description:"Used as the URL prefix for fetched files. Default: Fetch files relative to the index."}};var Ta=function(){};Ta.str2byte=function(d,k){for(var _=d.length>k.length?k.length:d.length,Ae=0;Ae<_;Ae++){var Be=d.charCodeAt(Ae);if(Be>127){var Me=Ta.extendedChars.indexOf(d.charAt(Ae));Me>-1&&(Be=Me+128)}k[Be]=Ae}return _},Ta.byte2str=function(d){for(var k=new Array(d.length),_=0;_<d.length;_++){var Ae=d[_];Ae>127?k[_]=Ta.extendedChars[Ae-128]:k[_]=String.fromCharCode(Ae)}return k.join("")},Ta.byteLength=function(d){return d.length},Ta.extendedChars=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","_","_","_","","","","","","","","","+","+","","","+","+","-","-","+","-","+","","","+","+","-","-","","-","+","","","","","","","i","","","","+","+","_","_","","","_","","","","","","","","","","","","","","","","","","","_","","","","","","","","","","","","_"," "];var Af=c(31).inflateRaw,Hu={},Wu;(function(_e){_e[_e.MSDOS=0]="MSDOS",_e[_e.AMIGA=1]="AMIGA",_e[_e.OPENVMS=2]="OPENVMS",_e[_e.UNIX=3]="UNIX",_e[_e.VM_CMS=4]="VM_CMS",_e[_e.ATARI_ST=5]="ATARI_ST",_e[_e.OS2_HPFS=6]="OS2_HPFS",_e[_e.MAC=7]="MAC",_e[_e.Z_SYSTEM=8]="Z_SYSTEM",_e[_e.CP_M=9]="CP_M",_e[_e.NTFS=10]="NTFS",_e[_e.MVS=11]="MVS",_e[_e.VSE=12]="VSE",_e[_e.ACORN_RISC=13]="ACORN_RISC",_e[_e.VFAT=14]="VFAT",_e[_e.ALT_MVS=15]="ALT_MVS",_e[_e.BEOS=16]="BEOS",_e[_e.TANDEM=17]="TANDEM",_e[_e.OS_400=18]="OS_400",_e[_e.OSX=19]="OSX"})(Wu||(Wu={}));var wo;(function(_e){_e[_e.STORED=0]="STORED",_e[_e.SHRUNK=1]="SHRUNK",_e[_e.REDUCED_1=2]="REDUCED_1",_e[_e.REDUCED_2=3]="REDUCED_2",_e[_e.REDUCED_3=4]="REDUCED_3",_e[_e.REDUCED_4=5]="REDUCED_4",_e[_e.IMPLODE=6]="IMPLODE",_e[_e.DEFLATE=8]="DEFLATE",_e[_e.DEFLATE64=9]="DEFLATE64",_e[_e.TERSE_OLD=10]="TERSE_OLD",_e[_e.BZIP2=12]="BZIP2",_e[_e.LZMA=14]="LZMA",_e[_e.TERSE_NEW=18]="TERSE_NEW",_e[_e.LZ77=19]="LZ77",_e[_e.WAVPACK=97]="WAVPACK",_e[_e.PPMD=98]="PPMD"})(wo||(wo={}));function Ku(_e,d){var k=d&31,_=(d>>5&15)-1,Ae=(d>>9)+1980,Be=_e&31,Me=_e>>5&63,Ye=_e>>11;return new Date(Ae,_,k,Ye,Me,Be)}function V0(_e,d,k,_){return _===0?"":d?_e.toString("utf8",k,k+_):Ta.byte2str(_e.slice(k,k+_))}var ai=function(d){if(this.data=d,d.readUInt32LE(0)!==67324752)throw new Ie(ne.EINVAL,"Invalid Zip file: Local file header has invalid signature: "+this.data.readUInt32LE(0))};ai.prototype.versionNeeded=function(){return this.data.readUInt16LE(4)},ai.prototype.flags=function(){return this.data.readUInt16LE(6)},ai.prototype.compressionMethod=function(){return this.data.readUInt16LE(8)},ai.prototype.lastModFileTime=function(){return Ku(this.data.readUInt16LE(10),this.data.readUInt16LE(12))},ai.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(10)},ai.prototype.crc32=function(){return this.data.readUInt32LE(14)},ai.prototype.fileNameLength=function(){return this.data.readUInt16LE(26)},ai.prototype.extraFieldLength=function(){return this.data.readUInt16LE(28)},ai.prototype.fileName=function(){return V0(this.data,this.useUTF8(),30,this.fileNameLength())},ai.prototype.extraField=function(){var d=30+this.fileNameLength();return this.data.slice(d,d+this.extraFieldLength())},ai.prototype.totalSize=function(){return 30+this.fileNameLength()+this.extraFieldLength()},ai.prototype.useUTF8=function(){return(this.flags()&2048)===2048};var Is=function(d,k,_){this.header=d,this.record=k,this.data=_};Is.prototype.decompress=function(){var d=this.header.compressionMethod(),k=Hu[d];if(k)return k(this.data,this.record.compressedSize(),this.record.uncompressedSize(),this.record.flag());var _=wo[d];throw _||(_="Unknown: "+d),new Ie(ne.EINVAL,"Invalid compression method on file '"+this.header.fileName()+"': "+_)},Is.prototype.getHeader=function(){return this.header},Is.prototype.getRecord=function(){return this.record},Is.prototype.getRawData=function(){return this.data};var rn=function(d,k){if(this.zipData=d,this.data=k,this.data.readUInt32LE(0)!==33639248)throw new Ie(ne.EINVAL,"Invalid Zip file: Central directory record has invalid signature: "+this.data.readUInt32LE(0));this._filename=this.produceFilename()};rn.prototype.versionMadeBy=function(){return this.data.readUInt16LE(4)},rn.prototype.versionNeeded=function(){return this.data.readUInt16LE(6)},rn.prototype.flag=function(){return this.data.readUInt16LE(8)},rn.prototype.compressionMethod=function(){return this.data.readUInt16LE(10)},rn.prototype.lastModFileTime=function(){return Ku(this.data.readUInt16LE(12),this.data.readUInt16LE(14))},rn.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(12)},rn.prototype.crc32=function(){return this.data.readUInt32LE(16)},rn.prototype.compressedSize=function(){return this.data.readUInt32LE(20)},rn.prototype.uncompressedSize=function(){return this.data.readUInt32LE(24)},rn.prototype.fileNameLength=function(){return this.data.readUInt16LE(28)},rn.prototype.extraFieldLength=function(){return this.data.readUInt16LE(30)},rn.prototype.fileCommentLength=function(){return this.data.readUInt16LE(32)},rn.prototype.diskNumberStart=function(){return this.data.readUInt16LE(34)},rn.prototype.internalAttributes=function(){return this.data.readUInt16LE(36)},rn.prototype.externalAttributes=function(){return this.data.readUInt32LE(38)},rn.prototype.headerRelativeOffset=function(){return this.data.readUInt32LE(42)},rn.prototype.produceFilename=function(){var d=V0(this.data,this.useUTF8(),46,this.fileNameLength());return d.replace(/\\/g,"/")},rn.prototype.fileName=function(){return this._filename},rn.prototype.rawFileName=function(){return this.data.slice(46,46+this.fileNameLength())},rn.prototype.extraField=function(){var d=44+this.fileNameLength();return this.data.slice(d,d+this.extraFieldLength())},rn.prototype.fileComment=function(){var d=46+this.fileNameLength()+this.extraFieldLength();return V0(this.data,this.useUTF8(),d,this.fileCommentLength())},rn.prototype.rawFileComment=function(){var d=46+this.fileNameLength()+this.extraFieldLength();return this.data.slice(d,d+this.fileCommentLength())},rn.prototype.totalSize=function(){return 46+this.fileNameLength()+this.extraFieldLength()+this.fileCommentLength()},rn.prototype.isDirectory=function(){var d=this.fileName();return!!(this.externalAttributes()&16)||d.charAt(d.length-1)==="/"},rn.prototype.isFile=function(){return!this.isDirectory()},rn.prototype.useUTF8=function(){return(this.flag()&2048)===2048},rn.prototype.isEncrypted=function(){return(this.flag()&1)===1},rn.prototype.getFileData=function(){var d=this.headerRelativeOffset(),k=new ai(this.zipData.slice(d));return new Is(k,this,this.zipData.slice(d+k.totalSize()))},rn.prototype.getData=function(){return this.getFileData().decompress()},rn.prototype.getRawData=function(){return this.getFileData().getRawData()},rn.prototype.getStats=function(){return new Ue(Ve.FILE,this.uncompressedSize(),365,new Date,this.lastModFileTime())};var Di=function(d){if(this.data=d,this.data.readUInt32LE(0)!==101010256)throw new Ie(ne.EINVAL,"Invalid Zip file: End of central directory record has invalid signature: "+this.data.readUInt32LE(0))};Di.prototype.diskNumber=function(){return this.data.readUInt16LE(4)},Di.prototype.cdDiskNumber=function(){return this.data.readUInt16LE(6)},Di.prototype.cdDiskEntryCount=function(){return this.data.readUInt16LE(8)},Di.prototype.cdTotalEntryCount=function(){return this.data.readUInt16LE(10)},Di.prototype.cdSize=function(){return this.data.readUInt32LE(12)},Di.prototype.cdOffset=function(){return this.data.readUInt32LE(16)},Di.prototype.cdZipCommentLength=function(){return this.data.readUInt16LE(20)},Di.prototype.cdZipComment=function(){return V0(this.data,!0,22,this.cdZipCommentLength())},Di.prototype.rawCdZipComment=function(){return this.data.slice(22,22+this.cdZipCommentLength())};var Gu=function(d,k,_,Ae){this.index=d,this.directoryEntries=k,this.eocd=_,this.data=Ae},Da=function(_e){function d(k,_,Ae){_===void 0&&(_=""),Ae===void 0&&(Ae=!0),_e.call(this),this.name=_,this._index=new hi,this._directoryEntries=[],this._eocd=null,Zt(Ae,d.Name,{zipData:"zip data as a Buffer",name:_}),k instanceof Gu?(this._index=k.index,this._directoryEntries=k.directoryEntries,this._eocd=k.eocd,this.data=k.data):(this.data=k,this.populateIndex())}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.Create=function(_,Ae){try{d.computeIndex(_.zipData,function(Be){var Me=new d(Be,_.name,!1);Ae(null,Me)},!1)}catch(Be){Ae(Be)}},d.isAvailable=function(){return!0},d.RegisterDecompressionMethod=function(_,Ae){Hu[_]=Ae},d.computeIndex=function(_,Ae,Be){Be===void 0&&(Be=!0),Be&&console.warn("[ZipFS] ZipFS.computeIndex is now deprecated, and will be removed in the next major release. Please update your code to use 'ZipFS.Create({ zipData: zip file as a Buffer}, cb)' instead.");var Me=new hi,Ye=d.getEOCD(_);if(Ye.diskNumber()!==Ye.cdDiskNumber())throw new Ie(ne.EINVAL,"ZipFS does not support spanned zip files.");var et=Ye.cdOffset();if(et===4294967295)throw new Ie(ne.EINVAL,"ZipFS does not support Zip64.");var ft=et+Ye.cdSize();d.computeIndexResponsive(_,Me,et,ft,Ae,[],Ye)},d.getEOCD=function(_){for(var Ae=22,Be=Math.min(Ae+65535,_.length-1),Me=Ae;Me<Be;Me++)if(_.readUInt32LE(_.length-Me)===101010256)return new Di(_.slice(_.length-Me));throw new Ie(ne.EINVAL,"Invalid ZIP file: Could not locate End of Central Directory signature.")},d.addToIndex=function(_,Ae){var Be=_.fileName();if(Be.charAt(0)==="/")throw new Error("WHY IS THIS ABSOLUTE");Be.charAt(Be.length-1)==="/"&&(Be=Be.substr(0,Be.length-1)),_.isDirectory()?Ae.addPathFast("/"+Be,new $n(_)):Ae.addPathFast("/"+Be,new Eo(_))},d.computeIndexResponsive=function(_,Ae,Be,Me,Ye,et,ft){if(Be<Me){for(var kt=0;kt++<200&&Be<Me;){var Ht=new rn(_,_.slice(Be));d.addToIndex(Ht,Ae),Be+=Ht.totalSize(),et.push(Ht)}Ar(function(){d.computeIndexResponsive(_,Ae,Be,Me,Ye,et,ft)})}else Ye(new Gu(Ae,et,ft,_))},d.prototype.getName=function(){return d.Name+(this.name!==""?" "+this.name:"")},d.prototype.getCentralDirectoryEntry=function(_){var Ae=this._index.getInode(_);if(Ae===null)throw Ie.ENOENT(_);if(Hi(Ae))return Ae.getData();if(na(Ae))return Ae.getData();throw Ie.EPERM("Invalid inode: "+Ae)},d.prototype.getCentralDirectoryEntryAt=function(_){var Ae=this._directoryEntries[_];if(!Ae)throw new RangeError("Invalid directory index: "+_+".");return Ae},d.prototype.getNumberOfCentralDirectoryEntries=function(){return this._directoryEntries.length},d.prototype.getEndOfCentralDirectory=function(){return this._eocd},d.prototype.diskSpace=function(_,Ae){Ae(this.data.length,0)},d.prototype.isReadOnly=function(){return!0},d.prototype.supportsLinks=function(){return!1},d.prototype.supportsProps=function(){return!1},d.prototype.supportsSynch=function(){return!0},d.prototype.statSync=function(_,Ae){var Be=this._index.getInode(_);if(Be===null)throw Ie.ENOENT(_);var Me;if(Hi(Be))Me=Be.getData().getStats();else if(na(Be))Me=Be.getStats();else throw new Ie(ne.EINVAL,"Invalid inode.");return Me},d.prototype.openSync=function(_,Ae,Be){if(Ae.isWriteable())throw new Ie(ne.EPERM,_);var Me=this._index.getInode(_);if(Me)if(Hi(Me)){var Ye=Me.getData(),et=Ye.getStats();switch(Ae.pathExistsAction()){case Fe.THROW_EXCEPTION:case Fe.TRUNCATE_FILE:throw Ie.EEXIST(_);case Fe.NOP:return new Dt(this,_,Ae,et,Ye.getData());default:throw new Ie(ne.EINVAL,"Invalid FileMode object.")}}else throw Ie.EISDIR(_);else throw Ie.ENOENT(_)},d.prototype.readdirSync=function(_){var Ae=this._index.getInode(_);if(Ae){if(na(Ae))return Ae.getListing();throw Ie.ENOTDIR(_)}else throw Ie.ENOENT(_)},d.prototype.readFileSync=function(_,Ae,Be){var Me=this.openSync(_,Be,420);try{var Ye=Me,et=Ye.getBuffer();return Ae===null?fr(et):et.toString(Ae)}finally{Me.closeSync()}},d.prototype.populateIndex=function(){var _=this,Ae=this._eocd=d.getEOCD(this.data);if(Ae.diskNumber()!==Ae.cdDiskNumber())throw new Ie(ne.EINVAL,"ZipFS does not support spanned zip files.");var Be=Ae.cdOffset();if(Be===4294967295)throw new Ie(ne.EINVAL,"ZipFS does not support Zip64.");for(var Me=Be+Ae.cdSize();Be<Me;){var Ye=new rn(_.data,_.data.slice(Be));Be+=Ye.totalSize(),d.addToIndex(Ye,_._index),_._directoryEntries.push(Ye)}},d}(Wt);Da.Name="ZipFS",Da.Options={zipData:{type:"object",description:"The zip file as a Buffer object.",validator:lt},name:{type:"string",optional:!0,description:"The name of the zip file (optional)."}},Da.CompressionMethod=wo,Da.RegisterDecompressionMethod(wo.DEFLATE,function(_e,d,k){return Pt(Af(_e.slice(0,d),{chunkSize:k}))}),Da.RegisterDecompressionMethod(wo.STORED,function(_e,d,k){return fr(_e,0,k)});var If="IEEE_P1282";function ei(_e,d,k){return _e.toString("ascii",d,d+k).trim()}function xu(_e,d,k){if(k===1)return String.fromCharCode(_e[d]);for(var _=Math.floor(k/2),Ae=new Array(_),Be=0;Be<_;Be++){var Me=d+(Be<<1);Ae[Be]=String.fromCharCode(_e[Me+1]|_e[Me]<<8)}return Ae.join("")}function Ri(_e,d){var k=parseInt(ei(_e,d,4),10),_=parseInt(ei(_e,d+4,2),10),Ae=parseInt(ei(_e,d+6,2),10),Be=parseInt(ei(_e,d+8,2),10),Me=parseInt(ei(_e,d+10,2),10),Ye=parseInt(ei(_e,d+12,2),10),et=parseInt(ei(_e,d+14,2),10);return new Date(k,_,Ae,Be,Me,Ye,et*100)}function Ra(_e,d){var k=_e[d],_=_e[d+1],Ae=_e[d+2],Be=_e[d+3],Me=_e[d+4],Ye=_e[d+5];return new Date(k,_-1,Ae,Be,Me,Ye)}function Cf(_e,d){var k=_e.slice(d),_=new On(k);switch(_.signatureWord()){case 17221:return new Zu(k);case 20548:return new Tf(k);case 21328:return new $u(k);case 21332:return new el(k);case 17746:return new tl(k);case 17747:return new Df(k);case 20568:return new nl(k);case 20558:return new Rf(k);case 21324:return new hu(k);case 20045:return new il(k);case 17228:return new pu(k);case 20556:return new Ff(k);case 21061:return new al(k);case 21574:return new ol(k);case 21318:return new Pf(k);case 21074:return new rl(k);default:return _}}function Yu(_e,d,k,_){k=k-4;for(var Ae=new Array;d<k;){var Be=Cf(_e,d),Me=Be.length();if(Me===0)return Ae;if(d+=Me,Be instanceof el)break;Be instanceof Zu?Ae=Ae.concat(Be.getEntries(_)):Ae.push(Be)}return Ae}var So=function(d){this._data=d};So.prototype.type=function(){return this._data[0]},So.prototype.standardIdentifier=function(){return ei(this._data,1,5)},So.prototype.version=function(){return this._data[6]},So.prototype.data=function(){return this._data.slice(7,2048)};var Qu=function(_e){function d(k){_e.call(this,k),this._root=null}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.systemIdentifier=function(){return this._getString32(8)},d.prototype.volumeIdentifier=function(){return this._getString32(40)},d.prototype.volumeSpaceSize=function(){return this._data.readUInt32LE(80)},d.prototype.volumeSetSize=function(){return this._data.readUInt16LE(120)},d.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(124)},d.prototype.logicalBlockSize=function(){return this._data.readUInt16LE(128)},d.prototype.pathTableSize=function(){return this._data.readUInt32LE(132)},d.prototype.locationOfTypeLPathTable=function(){return this._data.readUInt32LE(140)},d.prototype.locationOfOptionalTypeLPathTable=function(){return this._data.readUInt32LE(144)},d.prototype.locationOfTypeMPathTable=function(){return this._data.readUInt32BE(148)},d.prototype.locationOfOptionalTypeMPathTable=function(){return this._data.readUInt32BE(152)},d.prototype.rootDirectoryEntry=function(_){return this._root===null&&(this._root=this._constructRootDirectoryRecord(this._data.slice(156)),this._root.rootCheckForRockRidge(_)),this._root},d.prototype.volumeSetIdentifier=function(){return this._getString(190,128)},d.prototype.publisherIdentifier=function(){return this._getString(318,128)},d.prototype.dataPreparerIdentifier=function(){return this._getString(446,128)},d.prototype.applicationIdentifier=function(){return this._getString(574,128)},d.prototype.copyrightFileIdentifier=function(){return this._getString(702,38)},d.prototype.abstractFileIdentifier=function(){return this._getString(740,36)},d.prototype.bibliographicFileIdentifier=function(){return this._getString(776,37)},d.prototype.volumeCreationDate=function(){return Ri(this._data,813)},d.prototype.volumeModificationDate=function(){return Ri(this._data,830)},d.prototype.volumeExpirationDate=function(){return Ri(this._data,847)},d.prototype.volumeEffectiveDate=function(){return Ri(this._data,864)},d.prototype.fileStructureVersion=function(){return this._data[881]},d.prototype.applicationUsed=function(){return this._data.slice(883,883+512)},d.prototype.reserved=function(){return this._data.slice(1395,1395+653)},d.prototype._getString32=function(_){return this._getString(_,32)},d}(So),kf=function(_e){function d(k){if(_e.call(this,k),this.type()!==1)throw new Ie(ne.EIO,"Invalid primary volume descriptor.")}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.name=function(){return"ISO9660"},d.prototype._constructRootDirectoryRecord=function(_){return new Ju(_,-1)},d.prototype._getString=function(_,Ae){return this._getString(_,Ae)},d}(Qu),Of=function(_e){function d(k){if(_e.call(this,k),this.type()!==2)throw new Ie(ne.EIO,"Invalid supplementary volume descriptor.");var _=this.escapeSequence(),Ae=_[2];if(_[0]!==37||_[1]!==47||Ae!==64&&Ae!==67&&Ae!==69)throw new Ie(ne.EIO,"Unrecognized escape sequence for SupplementaryVolumeDescriptor: "+_.toString())}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.name=function(){return"Joliet"},d.prototype.escapeSequence=function(){return this._data.slice(88,120)},d.prototype._constructRootDirectoryRecord=function(_){return new Xu(_,-1)},d.prototype._getString=function(_,Ae){return xu(this._data,_,Ae)},d}(Qu),gn=function(d,k){this._suEntries=null,this._fileOrDir=null,this._data=d,this._rockRidgeOffset=k};gn.prototype.hasRockRidge=function(){return this._rockRidgeOffset>-1},gn.prototype.getRockRidgeOffset=function(){return this._rockRidgeOffset},gn.prototype.rootCheckForRockRidge=function(d){var k=this.getDirectory(d);this._rockRidgeOffset=k.getDotEntry(d)._getRockRidgeOffset(d),this._rockRidgeOffset>-1&&(this._fileOrDir=null)},gn.prototype.length=function(){return this._data[0]},gn.prototype.extendedAttributeRecordLength=function(){return this._data[1]},gn.prototype.lba=function(){return this._data.readUInt32LE(2)*2048},gn.prototype.dataLength=function(){return this._data.readUInt32LE(10)},gn.prototype.recordingDate=function(){return Ra(this._data,18)},gn.prototype.fileFlags=function(){return this._data[25]},gn.prototype.fileUnitSize=function(){return this._data[26]},gn.prototype.interleaveGapSize=function(){return this._data[27]},gn.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(28)},gn.prototype.identifier=function(){return this._getString(33,this._data[32])},gn.prototype.fileName=function(d){if(this.hasRockRidge()){var k=this._rockRidgeFilename(d);if(k!==null)return k}var _=this.identifier();if(this.isDirectory(d))return _;var Ae=_.indexOf(";");return Ae===-1?_:_[Ae-1]==="."?_.slice(0,Ae-1):_.slice(0,Ae)},gn.prototype.isDirectory=function(d){var k=!!(this.fileFlags()&2);return!k&&this.hasRockRidge()&&(k=this.getSUEntries(d).filter(function(_){return _ instanceof pu}).length>0),k},gn.prototype.isSymlink=function(d){return this.hasRockRidge()&&this.getSUEntries(d).filter(function(k){return k instanceof hu}).length>0},gn.prototype.getSymlinkPath=function(d){for(var k="",_=this.getSUEntries(d),Ae=this._getGetString(),Be=0,Me=_;Be<Me.length;Be+=1){var Ye=Me[Be];if(Ye instanceof hu){for(var et=Ye.componentRecords(),ft=0,kt=et;ft<kt.length;ft+=1){var Ht=kt[ft],ir=Ht.flags();ir&2?k+="./":ir&4?k+="../":ir&8?k+="/":(k+=Ht.content(Ae),ir&1||(k+="/"))}if(!Ye.continueFlag())break}}return k.length>1&&k[k.length-1]==="/"?k.slice(0,k.length-1):k},gn.prototype.getFile=function(d){if(this.isDirectory(d))throw new Error("Tried to get a File from a directory.");return this._fileOrDir===null&&(this._fileOrDir=d.slice(this.lba(),this.lba()+this.dataLength())),this._fileOrDir},gn.prototype.getDirectory=function(d){if(!this.isDirectory(d))throw new Error("Tried to get a Directory from a file.");return this._fileOrDir===null&&(this._fileOrDir=this._constructDirectory(d)),this._fileOrDir},gn.prototype.getSUEntries=function(d){return this._suEntries||this._constructSUEntries(d),this._suEntries},gn.prototype._rockRidgeFilename=function(d){var k=this.getSUEntries(d).filter(function(et){return et instanceof il});if(k.length===0||k[0].flags()&6)return null;for(var _="",Ae=this._getGetString(),Be=0,Me=k;Be<Me.length;Be+=1){var Ye=Me[Be];if(_+=Ye.name(Ae),!(Ye.flags()&1))break}return _},gn.prototype._constructSUEntries=function(d){var k=33+this._data[32];k%2===1&&k++,k+=this._rockRidgeOffset,this._suEntries=Yu(this._data,k,this.length(),d)},gn.prototype._getRockRidgeOffset=function(d){this._rockRidgeOffset=0;var k=this.getSUEntries(d);if(k.length>0){var _=k[0];if(_ instanceof $u&&_.checkBytesPass())for(var Ae=1;Ae<k.length;Ae++){var Be=k[Ae];if(Be instanceof rl||Be instanceof tl&&Be.extensionIdentifier()===If)return _.bytesSkipped()}}return this._rockRidgeOffset=-1,-1};var Ju=function(_e){function d(k,_){_e.call(this,k,_)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype._getString=function(_,Ae){return ei(this._data,_,Ae)},d.prototype._constructDirectory=function(_){return new Bf(this,_)},d.prototype._getGetString=function(){return ei},d}(gn),Xu=function(_e){function d(k,_){_e.call(this,k,_)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype._getString=function(_,Ae){return xu(this._data,_,Ae)},d.prototype._constructDirectory=function(_){return new qf(this,_)},d.prototype._getGetString=function(){return xu},d}(gn),On=function(d){this._data=d};On.prototype.signatureWord=function(){return this._data.readUInt16BE(0)},On.prototype.signatureWordString=function(){return ei(this._data,0,2)},On.prototype.length=function(){return this._data[2]},On.prototype.suVersion=function(){return this._data[3]};var Zu=function(_e){function d(k){_e.call(this,k),this._entries=null}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.continuationLba=function(){return this._data.readUInt32LE(4)},d.prototype.continuationLbaOffset=function(){return this._data.readUInt32LE(12)},d.prototype.continuationLength=function(){return this._data.readUInt32LE(20)},d.prototype.getEntries=function(_){if(!this._entries){var Ae=this.continuationLba()*2048+this.continuationLbaOffset();this._entries=Yu(_,Ae,this.continuationLength(),_)}return this._entries},d}(On),Tf=function(_e){function d(k){_e.call(this,k)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d}(On),$u=function(_e){function d(k){_e.call(this,k)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.checkBytesPass=function(){return this._data[4]===190&&this._data[5]===239},d.prototype.bytesSkipped=function(){return this._data[6]},d}(On),el=function(_e){function d(k){_e.call(this,k)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d}(On),tl=function(_e){function d(k){_e.call(this,k)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.identifierLength=function(){return this._data[4]},d.prototype.descriptorLength=function(){return this._data[5]},d.prototype.sourceLength=function(){return this._data[6]},d.prototype.extensionVersion=function(){return this._data[7]},d.prototype.extensionIdentifier=function(){return ei(this._data,8,this.identifierLength())},d.prototype.extensionDescriptor=function(){return ei(this._data,8+this.identifierLength(),this.descriptorLength())},d.prototype.extensionSource=function(){return ei(this._data,8+this.identifierLength()+this.descriptorLength(),this.sourceLength())},d}(On),Df=function(_e){function d(k){_e.call(this,k)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.extensionSequence=function(){return this._data[4]},d}(On),rl=function(_e){function d(k){_e.call(this,k)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d}(On),nl=function(_e){function d(k){_e.call(this,k)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.mode=function(){return this._data.readUInt32LE(4)},d.prototype.fileLinks=function(){return this._data.readUInt32LE(12)},d.prototype.uid=function(){return this._data.readUInt32LE(20)},d.prototype.gid=function(){return this._data.readUInt32LE(28)},d.prototype.inode=function(){return this._data.readUInt32LE(36)},d}(On),Rf=function(_e){function d(k){_e.call(this,k)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.devTHigh=function(){return this._data.readUInt32LE(4)},d.prototype.devTLow=function(){return this._data.readUInt32LE(12)},d}(On),hu=function(_e){function d(k){_e.call(this,k)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.flags=function(){return this._data[4]},d.prototype.continueFlag=function(){return this.flags()&1},d.prototype.componentRecords=function(){for(var _=this,Ae=new Array,Be=5;Be<this.length();){var Me=new Cs(_._data.slice(Be));Ae.push(Me),Be+=Me.length()}return Ae},d}(On),Cs=function(d){this._data=d};Cs.prototype.flags=function(){return this._data[0]},Cs.prototype.length=function(){return 2+this.componentLength()},Cs.prototype.componentLength=function(){return this._data[1]},Cs.prototype.content=function(d){return d(this._data,2,this.componentLength())};var il=function(_e){function d(k){_e.call(this,k)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.flags=function(){return this._data[4]},d.prototype.name=function(_){return _(this._data,5,this.length()-5)},d}(On),pu=function(_e){function d(k){_e.call(this,k)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.childDirectoryLba=function(){return this._data.readUInt32LE(4)},d}(On),Ff=function(_e){function d(k){_e.call(this,k)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.parentDirectoryLba=function(){return this._data.readUInt32LE(4)},d}(On),al=function(_e){function d(k){_e.call(this,k)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d}(On),ol=function(_e){function d(k){_e.call(this,k)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.flags=function(){return this._data[4]},d.prototype.creation=function(){return this.flags()&1?this._longFormDates()?Ri(this._data,5):Ra(this._data,5):null},d.prototype.modify=function(){if(this.flags()&2){var _=this.flags()&1?1:0;return this._longFormDates?Ri(this._data,5+_*17):Ra(this._data,5+_*7)}else return null},d.prototype.access=function(){if(this.flags()&4){var _=this.flags()&1?1:0;return _+=this.flags()&2?1:0,this._longFormDates?Ri(this._data,5+_*17):Ra(this._data,5+_*7)}else return null},d.prototype.backup=function(){if(this.flags()&16){var _=this.flags()&1?1:0;return _+=this.flags()&2?1:0,_+=this.flags()&4?1:0,this._longFormDates?Ri(this._data,5+_*17):Ra(this._data,5+_*7)}else return null},d.prototype.expiration=function(){if(this.flags()&32){var _=this.flags()&1?1:0;return _+=this.flags()&2?1:0,_+=this.flags()&4?1:0,_+=this.flags()&16?1:0,this._longFormDates?Ri(this._data,5+_*17):Ra(this._data,5+_*7)}else return null},d.prototype.effective=function(){if(this.flags()&64){var _=this.flags()&1?1:0;return _+=this.flags()&2?1:0,_+=this.flags()&4?1:0,_+=this.flags()&16?1:0,_+=this.flags()&32?1:0,this._longFormDates?Ri(this._data,5+_*17):Ra(this._data,5+_*7)}else return null},d.prototype._longFormDates=function(){return!!this.flags()},d}(On),Pf=function(_e){function d(k){_e.call(this,k)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.virtualSizeHigh=function(){return this._data.readUInt32LE(4)},d.prototype.virtualSizeLow=function(){return this._data.readUInt32LE(12)},d.prototype.tableDepth=function(){return this._data[20]},d}(On),ks=function(d,k){var _=this;this._fileList=[],this._fileMap={},this._record=d;var Ae=d.lba(),Be=Ae+d.dataLength();if(!(d.fileFlags()&2)){var Me=d.getSUEntries(k).filter(function(kt){return kt instanceof pu})[0];Ae=Me.childDirectoryLba()*2048,Be=1/0}for(;Ae<Be;){var Ye=k[Ae];if(Ye===0){Ae++;continue}var et=_._constructDirectoryRecord(k.slice(Ae)),ft=et.fileName(k);ft!=="\0"&&ft!==""?(!et.hasRockRidge()||et.getSUEntries(k).filter(function(kt){return kt instanceof al}).length===0)&&(_._fileMap[ft]=et,_._fileList.push(ft)):Be===1/0&&(Be=Ae+et.dataLength()),Ae+=et.length()}};ks.prototype.getRecord=function(d){return this._fileMap[d]},ks.prototype.getFileList=function(){return this._fileList},ks.prototype.getDotEntry=function(d){return this._constructDirectoryRecord(d.slice(this._record.lba()))};var Bf=function(_e){function d(k,_){_e.call(this,k,_)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype._constructDirectoryRecord=function(_){return new Ju(_,this._record.getRockRidgeOffset())},d}(ks),qf=function(_e){function d(k,_){_e.call(this,k,_)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype._constructDirectoryRecord=function(_){return new Xu(_,this._record.getRockRidgeOffset())},d}(ks),U0=function(_e){function d(k,_,Ae){var Be=this;_===void 0&&(_=""),Ae===void 0&&(Ae=!0),_e.call(this),this._data=k,Zt(Ae,d.Name,{data:"ISO data as a Buffer",name:_});for(var Me=!1,Ye=16*2048,et=new Array;!Me;){var ft=k.slice(Ye),kt=new So(ft);switch(kt.type()){case 1:et.push(new kf(ft));break;case 2:et.push(new Of(ft));break;case 255:Me=!0;break}Ye+=2048}if(et.length===0)throw new Ie(ne.EIO,"Unable to find a suitable volume descriptor.");et.forEach(function(Ht){(!Be._pvd||Be._pvd.type()!==2)&&(Be._pvd=Ht)}),this._root=this._pvd.rootDirectoryEntry(k),this._name=_}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.Create=function(_,Ae){var Be,Me;try{Be=new d(_.data,_.name,!1)}catch(Ye){Ye=Ye}finally{Ae(Me,Be)}},d.isAvailable=function(){return!0},d.prototype.getName=function(){var _="IsoFS"+this._name+(this._pvd?"-"+this._pvd.name():"");return this._root&&this._root.hasRockRidge()&&(_+="-RockRidge"),_},d.prototype.diskSpace=function(_,Ae){Ae(this._data.length,0)},d.prototype.isReadOnly=function(){return!0},d.prototype.supportsLinks=function(){return!1},d.prototype.supportsProps=function(){return!1},d.prototype.supportsSynch=function(){return!0},d.prototype.statSync=function(_,Ae){var Be=this._getDirectoryRecord(_);if(Be===null)throw Ie.ENOENT(_);return this._getStats(_,Be)},d.prototype.openSync=function(_,Ae,Be){if(Ae.isWriteable())throw new Ie(ne.EPERM,_);var Me=this._getDirectoryRecord(_);if(Me){if(Me.isSymlink(this._data))return this.openSync(Oe.resolve(_,Me.getSymlinkPath(this._data)),Ae,Be);if(Me.isDirectory(this._data))throw Ie.EISDIR(_);var Ye=Me.getFile(this._data),et=this._getStats(_,Me);switch(Ae.pathExistsAction()){case Fe.THROW_EXCEPTION:case Fe.TRUNCATE_FILE:throw Ie.EEXIST(_);case Fe.NOP:return new Dt(this,_,Ae,et,Ye);default:throw new Ie(ne.EINVAL,"Invalid FileMode object.")}}else throw Ie.ENOENT(_)},d.prototype.readdirSync=function(_){var Ae=this._getDirectoryRecord(_);if(Ae){if(Ae.isDirectory(this._data))return Ae.getDirectory(this._data).getFileList().slice(0);throw Ie.ENOTDIR(_)}else throw Ie.ENOENT(_)},d.prototype.readFileSync=function(_,Ae,Be){var Me=this.openSync(_,Be,420);try{var Ye=Me,et=Ye.getBuffer();return Ae===null?fr(et):et.toString(Ae)}finally{Me.closeSync()}},d.prototype._getDirectoryRecord=function(_){var Ae=this;if(_==="/")return this._root;for(var Be=_.split("/").slice(1),Me=this._root,Ye=0,et=Be;Ye<et.length;Ye+=1){var ft=et[Ye];if(Me.isDirectory(Ae._data)){if(Me=Me.getDirectory(Ae._data).getRecord(ft),!Me)return null}else return null}return Me},d.prototype._getStats=function(_,Ae){if(Ae.isSymlink(this._data)){var Be=Oe.resolve(_,Ae.getSymlinkPath(this._data)),Me=this._getDirectoryRecord(Be);return Me?this._getStats(Be,Me):null}else{var Ye=Ae.dataLength(),et=365,ft=Ae.recordingDate(),kt=ft,Ht=ft,ir=ft;if(Ae.hasRockRidge())for(var _r=Ae.getSUEntries(this._data),vr=0,qr=_r;vr<qr.length;vr+=1){var jr=qr[vr];if(jr instanceof nl)et=jr.mode();else if(jr instanceof ol){var Wr=jr.flags();Wr&4&&(kt=jr.access()),Wr&2&&(Ht=jr.modify()),Wr&1&&(ir=jr.creation())}}return et=et&365,new Ue(Ae.isDirectory(this._data)?Ve.DIRECTORY:Ve.FILE,Ye,et,kt,Ht,ir)}},d}(Wt);U0.Name="IsoFS",U0.Options={data:{type:"object",description:"The ISO file in a buffer",validator:lt}},[nt,xo,po,ki,mo,Kn,st,U0,Tt,Mt,An,L0,M0,Da].forEach(function(_e){var d=_e.Create;_e.Create=function(k,_){var Ae=typeof k=="function",Be=Ae?k:_,Me=Ae?{}:k;function Ye(et){et?Be(et):d.call(_e,Me,Be)}yt(_e,Me,Ye)}});var j0={AsyncMirror:nt,Dropbox:xo,Emscripten:po,FolderAdapter:ki,HTML5FS:mo,InMemory:Kn,IndexedDB:st,IsoFS:U0,LocalStorage:Tt,MountableFileSystem:Mt,OverlayFS:An,WorkerFS:L0,XmlHttpRequest:M0,ZipFS:Da};Te.initializeTTYs&&Te.initializeTTYs();function Nf(_e){_e.Buffer=f,_e.process=Te;var d=_e.require?_e.require:null;_e.require=function(k){var _=sl(k);return _||d.apply(null,Array.prototype.slice.call(arguments,0))}}function Lf(_e,d){j0[_e]=d}function sl(_e){switch(_e){case"fs":return it;case"path":return Oe;case"buffer":return Ee;case"process":return Te;case"bfs_utils":return Xt;default:return j0[_e]}}function cl(_e){return it.initialize(_e)}function Mf(_e,d){_u(_e,function(k,_){_?(cl(_),d()):d(k)})}function _u(_e,d){var k=_e.fs;if(!k)return d(new Ie(ne.EPERM,'Missing "fs" property on configuration object.'));var _=_e.options,Ae=0,Be=!1;function Me(){if(!Be){Be=!0;var ft=j0[k];ft?ft.Create(_,d):d(new Ie(ne.EPERM,"File system "+k+" is not available in BrowserFS."))}}if(_!==null&&typeof _=="object"){var Ye=!1,et=Object.keys(_).filter(function(ft){return ft!=="fs"});et.forEach(function(ft){var kt=_[ft];kt!==null&&typeof kt=="object"&&kt.fs&&(Ae++,_u(kt,function(Ht,ir){if(Ae--,Ht){if(Be)return;Be=!0,d(Ht)}else _[ft]=ir,Ae===0&&Ye&&Me()}))}),Ye=!0}Ae===0&&Me()}"ab".substr(-1)!=="b"&&(String.prototype.substr=function(_e){return function(d,k){return d<0&&(d=this.length+d),_e.call(this,d,k)}}(String.prototype.substr)),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&(Uint8Array.prototype.slice||(Uint8Array.prototype.slice=function(_e,d){_e===void 0&&(_e=0),d===void 0&&(d=this.length);var k=this;return _e<0&&(_e=this.length+_e,_e<0&&(_e=0)),d<0&&(d=this.length+d,d<0&&(d=0)),d<_e&&(d=_e),new Uint8Array(k.buffer,k.byteOffset+_e,d-_e)})),i.install=Nf,i.registerFileSystem=Lf,i.BFSRequire=sl,i.initialize=cl,i.configure=Mf,i.getFileSystem=_u,i.EmscriptenFS=Je,i.FileSystem=j0,i.Errors=qe,i.setImmediate=Ar}).call(i,c(1),function(){return this}(),c(5)(e),c(6))},function(e,i,c){e.exports=c(2).Buffer},function(e,i,c){(function(ne){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
* @license  MIT
*/var m=c(3),g=c(4);i.Buffer=ne,i.SlowBuffer=Xe,i.INSPECT_MAX_BYTES=50;var Te=2147483647;i.kMaxLength=Te,ne.TYPED_ARRAY_SUPPORT=Ee(),!ne.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Ee(){try{var nt=new Uint8Array(1);return nt.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},nt.foo()===42}catch{return!1}}function Oe(nt){if(nt>Te)throw new RangeError("Invalid typed array length");var je=new Uint8Array(nt);return je.__proto__=ne.prototype,je}function ne(nt,je,Ge){if(typeof nt=="number"){if(typeof je=="string")throw new Error("If encoding is specified then the first argument must be a string");return Fe(nt)}return De(nt,je,Ge)}typeof Symbol<"u"&&Symbol.species&&ne[Symbol.species]===ne&&Object.defineProperty(ne,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),ne.poolSize=8192;function De(nt,je,Ge){if(typeof nt=="number")throw new TypeError('"value" argument must not be a number');return ht(nt)?Ue(nt,je,Ge):typeof nt=="string"?Ne(nt,je):We(nt)}ne.from=function(nt,je,Ge){return De(nt,je,Ge)},ne.prototype.__proto__=Uint8Array.prototype,ne.__proto__=Uint8Array;function Ie(nt){if(typeof nt!="number")throw new TypeError('"size" argument must be a number');if(nt<0)throw new RangeError('"size" argument must not be negative')}function qe(nt,je,Ge){return Ie(nt),nt<=0?Oe(nt):je!==void 0?typeof Ge=="string"?Oe(nt).fill(je,Ge):Oe(nt).fill(je):Oe(nt)}ne.alloc=function(nt,je,Ge){return qe(nt,je,Ge)};function Fe(nt){return Ie(nt),Oe(nt<0?0:He(nt)|0)}ne.allocUnsafe=function(nt){return Fe(nt)},ne.allocUnsafeSlow=function(nt){return Fe(nt)};function Ne(nt,je){if((typeof je!="string"||je==="")&&(je="utf8"),!ne.isEncoding(je))throw new TypeError('"encoding" must be a valid string encoding');var Ge=ot(nt,je)|0,ut=Oe(Ge),Et=ut.write(nt,je);return Et!==Ge&&(ut=ut.slice(0,Et)),ut}function Ve(nt){for(var je=nt.length<0?0:He(nt.length)|0,Ge=Oe(je),ut=0;ut<je;ut+=1)Ge[ut]=nt[ut]&255;return Ge}function Ue(nt,je,Ge){if(je<0||nt.byteLength<je)throw new RangeError("'offset' is out of bounds");if(nt.byteLength<je+(Ge||0))throw new RangeError("'length' is out of bounds");var ut;return je===void 0&&Ge===void 0?ut=new Uint8Array(nt):Ge===void 0?ut=new Uint8Array(nt,je):ut=new Uint8Array(nt,je,Ge),ut.__proto__=ne.prototype,ut}function We(nt){if(ne.isBuffer(nt)){var je=He(nt.length)|0,Ge=Oe(je);return Ge.length===0||nt.copy(Ge,0,0,je),Ge}if(nt){if(Dt(nt)||"length"in nt)return typeof nt.length!="number"||er(nt.length)?Oe(0):Ve(nt);if(nt.type==="Buffer"&&Array.isArray(nt.data))return Ve(nt.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function He(nt){if(nt>=Te)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Te.toString(16)+" bytes");return nt|0}function Xe(nt){return+nt!=nt&&(nt=0),ne.alloc(+nt)}ne.isBuffer=function(je){return je!=null&&je._isBuffer===!0},ne.compare=function(je,Ge){if(!ne.isBuffer(je)||!ne.isBuffer(Ge))throw new TypeError("Arguments must be Buffers");if(je===Ge)return 0;for(var ut=je.length,Et=Ge.length,It=0,zt=Math.min(ut,Et);It<zt;++It)if(je[It]!==Ge[It]){ut=je[It],Et=Ge[It];break}return ut<Et?-1:Et<ut?1:0},ne.isEncoding=function(je){switch(String(je).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},ne.concat=function(je,Ge){if(!Array.isArray(je))throw new TypeError('"list" argument must be an Array of Buffers');if(je.length===0)return ne.alloc(0);var ut;if(Ge===void 0)for(Ge=0,ut=0;ut<je.length;++ut)Ge+=je[ut].length;var Et=ne.allocUnsafe(Ge),It=0;for(ut=0;ut<je.length;++ut){var zt=je[ut];if(!ne.isBuffer(zt))throw new TypeError('"list" argument must be an Array of Buffers');zt.copy(Et,It),It+=zt.length}return Et};function ot(nt,je){if(ne.isBuffer(nt))return nt.length;if(Dt(nt)||ht(nt))return nt.byteLength;typeof nt!="string"&&(nt=""+nt);var Ge=nt.length;if(Ge===0)return 0;for(var ut=!1;;)switch(je){case"ascii":case"latin1":case"binary":return Ge;case"utf8":case"utf-8":case void 0:return dr(nt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ge*2;case"hex":return Ge>>>1;case"base64":return Wt(nt).length;default:if(ut)return dr(nt).length;je=(""+je).toLowerCase(),ut=!0}}ne.byteLength=ot;function tt(nt,je,Ge){var ut=!1;if((je===void 0||je<0)&&(je=0),je>this.length||((Ge===void 0||Ge>this.length)&&(Ge=this.length),Ge<=0)||(Ge>>>=0,je>>>=0,Ge<=je))return"";for(nt||(nt="utf8");;)switch(nt){case"hex":return Pt(this,je,Ge);case"utf8":case"utf-8":return ur(this,je,Ge);case"ascii":return ct(this,je,Ge);case"latin1":case"binary":return dt(this,je,Ge);case"base64":return jt(this,je,Ge);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ct(this,je,Ge);default:if(ut)throw new TypeError("Unknown encoding: "+nt);nt=(nt+"").toLowerCase(),ut=!0}}ne.prototype._isBuffer=!0;function mt(nt,je,Ge){var ut=nt[je];nt[je]=nt[Ge],nt[Ge]=ut}ne.prototype.swap16=function(){var je=this.length;if(je%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Ge=0;Ge<je;Ge+=2)mt(this,Ge,Ge+1);return this},ne.prototype.swap32=function(){var je=this.length;if(je%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Ge=0;Ge<je;Ge+=4)mt(this,Ge,Ge+3),mt(this,Ge+1,Ge+2);return this},ne.prototype.swap64=function(){var je=this.length;if(je%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Ge=0;Ge<je;Ge+=8)mt(this,Ge,Ge+7),mt(this,Ge+1,Ge+6),mt(this,Ge+2,Ge+5),mt(this,Ge+3,Ge+4);return this},ne.prototype.toString=function(){var je=this.length;return je===0?"":arguments.length===0?ur(this,0,je):tt.apply(this,arguments)},ne.prototype.equals=function(je){if(!ne.isBuffer(je))throw new TypeError("Argument must be a Buffer");return this===je?!0:ne.compare(this,je)===0},ne.prototype.inspect=function(){var je="",Ge=i.INSPECT_MAX_BYTES;return this.length>0&&(je=this.toString("hex",0,Ge).match(/.{2}/g).join(" "),this.length>Ge&&(je+=" ... ")),"<Buffer "+je+">"},ne.prototype.compare=function(je,Ge,ut,Et,It){if(!ne.isBuffer(je))throw new TypeError("Argument must be a Buffer");if(Ge===void 0&&(Ge=0),ut===void 0&&(ut=je?je.length:0),Et===void 0&&(Et=0),It===void 0&&(It=this.length),Ge<0||ut>je.length||Et<0||It>this.length)throw new RangeError("out of range index");if(Et>=It&&Ge>=ut)return 0;if(Et>=It)return-1;if(Ge>=ut)return 1;if(Ge>>>=0,ut>>>=0,Et>>>=0,It>>>=0,this===je)return 0;for(var zt=It-Et,tr=ut-Ge,Sr=Math.min(zt,tr),Lr=this.slice(Et,It),Br=je.slice(Ge,ut),Er=0;Er<Sr;++Er)if(Lr[Er]!==Br[Er]){zt=Lr[Er],tr=Br[Er];break}return zt<tr?-1:tr<zt?1:0};function gt(nt,je,Ge,ut,Et){if(nt.length===0)return-1;if(typeof Ge=="string"?(ut=Ge,Ge=0):Ge>2147483647?Ge=2147483647:Ge<-2147483648&&(Ge=-2147483648),Ge=+Ge,er(Ge)&&(Ge=Et?0:nt.length-1),Ge<0&&(Ge=nt.length+Ge),Ge>=nt.length){if(Et)return-1;Ge=nt.length-1}else if(Ge<0)if(Et)Ge=0;else return-1;if(typeof je=="string"&&(je=ne.from(je,ut)),ne.isBuffer(je))return je.length===0?-1:rt(nt,je,Ge,ut,Et);if(typeof je=="number")return je=je&255,typeof Uint8Array.prototype.indexOf=="function"?Et?Uint8Array.prototype.indexOf.call(nt,je,Ge):Uint8Array.prototype.lastIndexOf.call(nt,je,Ge):rt(nt,[je],Ge,ut,Et);throw new TypeError("val must be string, number or Buffer")}function rt(nt,je,Ge,ut,Et){var It=1,zt=nt.length,tr=je.length;if(ut!==void 0&&(ut=String(ut).toLowerCase(),ut==="ucs2"||ut==="ucs-2"||ut==="utf16le"||ut==="utf-16le")){if(nt.length<2||je.length<2)return-1;It=2,zt/=2,tr/=2,Ge/=2}function Sr(Qr,Cr){return It===1?Qr[Cr]:Qr.readUInt16BE(Cr*It)}var Lr;if(Et){var Br=-1;for(Lr=Ge;Lr<zt;Lr++)if(Sr(nt,Lr)===Sr(je,Br===-1?0:Lr-Br)){if(Br===-1&&(Br=Lr),Lr-Br+1===tr)return Br*It}else Br!==-1&&(Lr-=Lr-Br),Br=-1}else for(Ge+tr>zt&&(Ge=zt-tr),Lr=Ge;Lr>=0;Lr--){for(var Er=!0,gr=0;gr<tr;gr++)if(Sr(nt,Lr+gr)!==Sr(je,gr)){Er=!1;break}if(Er)return Lr}return-1}ne.prototype.includes=function(je,Ge,ut){return this.indexOf(je,Ge,ut)!==-1},ne.prototype.indexOf=function(je,Ge,ut){return gt(this,je,Ge,ut,!0)},ne.prototype.lastIndexOf=function(je,Ge,ut){return gt(this,je,Ge,ut,!1)};function pt(nt,je,Ge,ut){Ge=Number(Ge)||0;var Et=nt.length-Ge;ut?(ut=Number(ut),ut>Et&&(ut=Et)):ut=Et;var It=je.length;if(It%2!==0)throw new TypeError("Invalid hex string");ut>It/2&&(ut=It/2);for(var zt=0;zt<ut;++zt){var tr=parseInt(je.substr(zt*2,2),16);if(er(tr))return zt;nt[Ge+zt]=tr}return zt}function it(nt,je,Ge,ut){return xt(dr(je,nt.length-Ge),nt,Ge,ut)}function vt(nt,je,Ge,ut){return xt(Je(je),nt,Ge,ut)}function Ze(nt,je,Ge,ut){return vt(nt,je,Ge,ut)}function Ft(nt,je,Ge,ut){return xt(Wt(je),nt,Ge,ut)}function Zt(nt,je,Ge,ut){return xt(At(je,nt.length-Ge),nt,Ge,ut)}ne.prototype.write=function(je,Ge,ut,Et){if(Ge===void 0)Et="utf8",ut=this.length,Ge=0;else if(ut===void 0&&typeof Ge=="string")Et=Ge,ut=this.length,Ge=0;else if(isFinite(Ge))Ge=Ge>>>0,isFinite(ut)?(ut=ut>>>0,Et===void 0&&(Et="utf8")):(Et=ut,ut=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var It=this.length-Ge;if((ut===void 0||ut>It)&&(ut=It),je.length>0&&(ut<0||Ge<0)||Ge>this.length)throw new RangeError("Attempt to write outside buffer bounds");Et||(Et="utf8");for(var zt=!1;;)switch(Et){case"hex":return pt(this,je,Ge,ut);case"utf8":case"utf-8":return it(this,je,Ge,ut);case"ascii":return vt(this,je,Ge,ut);case"latin1":case"binary":return Ze(this,je,Ge,ut);case"base64":return Ft(this,je,Ge,ut);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Zt(this,je,Ge,ut);default:if(zt)throw new TypeError("Unknown encoding: "+Et);Et=(""+Et).toLowerCase(),zt=!0}},ne.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function jt(nt,je,Ge){return je===0&&Ge===nt.length?m.fromByteArray(nt):m.fromByteArray(nt.slice(je,Ge))}function ur(nt,je,Ge){Ge=Math.min(nt.length,Ge);for(var ut=[],Et=je;Et<Ge;){var It=nt[Et],zt=null,tr=It>239?4:It>223?3:It>191?2:1;if(Et+tr<=Ge){var Sr,Lr,Br,Er;switch(tr){case 1:It<128&&(zt=It);break;case 2:Sr=nt[Et+1],(Sr&192)===128&&(Er=(It&31)<<6|Sr&63,Er>127&&(zt=Er));break;case 3:Sr=nt[Et+1],Lr=nt[Et+2],(Sr&192)===128&&(Lr&192)===128&&(Er=(It&15)<<12|(Sr&63)<<6|Lr&63,Er>2047&&(Er<55296||Er>57343)&&(zt=Er));break;case 4:Sr=nt[Et+1],Lr=nt[Et+2],Br=nt[Et+3],(Sr&192)===128&&(Lr&192)===128&&(Br&192)===128&&(Er=(It&15)<<18|(Sr&63)<<12|(Lr&63)<<6|Br&63,Er>65535&&Er<1114112&&(zt=Er))}}zt===null?(zt=65533,tr=1):zt>65535&&(zt-=65536,ut.push(zt>>>10&1023|55296),zt=56320|zt&1023),ut.push(zt),Et+=tr}return St(ut)}var bt=4096;function St(nt){var je=nt.length;if(je<=bt)return String.fromCharCode.apply(String,nt);for(var Ge="",ut=0;ut<je;)Ge+=String.fromCharCode.apply(String,nt.slice(ut,ut+=bt));return Ge}function ct(nt,je,Ge){var ut="";Ge=Math.min(nt.length,Ge);for(var Et=je;Et<Ge;++Et)ut+=String.fromCharCode(nt[Et]&127);return ut}function dt(nt,je,Ge){var ut="";Ge=Math.min(nt.length,Ge);for(var Et=je;Et<Ge;++Et)ut+=String.fromCharCode(nt[Et]);return ut}function Pt(nt,je,Ge){var ut=nt.length;(!je||je<0)&&(je=0),(!Ge||Ge<0||Ge>ut)&&(Ge=ut);for(var Et="",It=je;It<Ge;++It)Et+=$t(nt[It]);return Et}function Ct(nt,je,Ge){for(var ut=nt.slice(je,Ge),Et="",It=0;It<ut.length;It+=2)Et+=String.fromCharCode(ut[It]+ut[It+1]*256);return Et}ne.prototype.slice=function(je,Ge){var ut=this.length;je=~~je,Ge=Ge===void 0?ut:~~Ge,je<0?(je+=ut,je<0&&(je=0)):je>ut&&(je=ut),Ge<0?(Ge+=ut,Ge<0&&(Ge=0)):Ge>ut&&(Ge=ut),Ge<je&&(Ge=je);var Et=this.subarray(je,Ge);return Et.__proto__=ne.prototype,Et};function Kt(nt,je,Ge){if(nt%1!==0||nt<0)throw new RangeError("offset is not uint");if(nt+je>Ge)throw new RangeError("Trying to access beyond buffer length")}ne.prototype.readUIntLE=function(je,Ge,ut){je=je>>>0,Ge=Ge>>>0,ut||Kt(je,Ge,this.length);for(var Et=this[je],It=1,zt=0;++zt<Ge&&(It*=256);)Et+=this[je+zt]*It;return Et},ne.prototype.readUIntBE=function(je,Ge,ut){je=je>>>0,Ge=Ge>>>0,ut||Kt(je,Ge,this.length);for(var Et=this[je+--Ge],It=1;Ge>0&&(It*=256);)Et+=this[je+--Ge]*It;return Et},ne.prototype.readUInt8=function(je,Ge){return je=je>>>0,Ge||Kt(je,1,this.length),this[je]},ne.prototype.readUInt16LE=function(je,Ge){return je=je>>>0,Ge||Kt(je,2,this.length),this[je]|this[je+1]<<8},ne.prototype.readUInt16BE=function(je,Ge){return je=je>>>0,Ge||Kt(je,2,this.length),this[je]<<8|this[je+1]},ne.prototype.readUInt32LE=function(je,Ge){return je=je>>>0,Ge||Kt(je,4,this.length),(this[je]|this[je+1]<<8|this[je+2]<<16)+this[je+3]*16777216},ne.prototype.readUInt32BE=function(je,Ge){return je=je>>>0,Ge||Kt(je,4,this.length),this[je]*16777216+(this[je+1]<<16|this[je+2]<<8|this[je+3])},ne.prototype.readIntLE=function(je,Ge,ut){je=je>>>0,Ge=Ge>>>0,ut||Kt(je,Ge,this.length);for(var Et=this[je],It=1,zt=0;++zt<Ge&&(It*=256);)Et+=this[je+zt]*It;return It*=128,Et>=It&&(Et-=Math.pow(2,8*Ge)),Et},ne.prototype.readIntBE=function(je,Ge,ut){je=je>>>0,Ge=Ge>>>0,ut||Kt(je,Ge,this.length);for(var Et=Ge,It=1,zt=this[je+--Et];Et>0&&(It*=256);)zt+=this[je+--Et]*It;return It*=128,zt>=It&&(zt-=Math.pow(2,8*Ge)),zt},ne.prototype.readInt8=function(je,Ge){return je=je>>>0,Ge||Kt(je,1,this.length),this[je]&128?(255-this[je]+1)*-1:this[je]},ne.prototype.readInt16LE=function(je,Ge){je=je>>>0,Ge||Kt(je,2,this.length);var ut=this[je]|this[je+1]<<8;return ut&32768?ut|4294901760:ut},ne.prototype.readInt16BE=function(je,Ge){je=je>>>0,Ge||Kt(je,2,this.length);var ut=this[je+1]|this[je]<<8;return ut&32768?ut|4294901760:ut},ne.prototype.readInt32LE=function(je,Ge){return je=je>>>0,Ge||Kt(je,4,this.length),this[je]|this[je+1]<<8|this[je+2]<<16|this[je+3]<<24},ne.prototype.readInt32BE=function(je,Ge){return je=je>>>0,Ge||Kt(je,4,this.length),this[je]<<24|this[je+1]<<16|this[je+2]<<8|this[je+3]},ne.prototype.readFloatLE=function(je,Ge){return je=je>>>0,Ge||Kt(je,4,this.length),g.read(this,je,!0,23,4)},ne.prototype.readFloatBE=function(je,Ge){return je=je>>>0,Ge||Kt(je,4,this.length),g.read(this,je,!1,23,4)},ne.prototype.readDoubleLE=function(je,Ge){return je=je>>>0,Ge||Kt(je,8,this.length),g.read(this,je,!0,52,8)},ne.prototype.readDoubleBE=function(je,Ge){return je=je>>>0,Ge||Kt(je,8,this.length),g.read(this,je,!1,52,8)};function fr(nt,je,Ge,ut,Et,It){if(!ne.isBuffer(nt))throw new TypeError('"buffer" argument must be a Buffer instance');if(je>Et||je<It)throw new RangeError('"value" argument is out of bounds');if(Ge+ut>nt.length)throw new RangeError("Index out of range")}ne.prototype.writeUIntLE=function(je,Ge,ut,Et){if(je=+je,Ge=Ge>>>0,ut=ut>>>0,!Et){var It=Math.pow(2,8*ut)-1;fr(this,je,Ge,ut,It,0)}var zt=1,tr=0;for(this[Ge]=je&255;++tr<ut&&(zt*=256);)this[Ge+tr]=je/zt&255;return Ge+ut},ne.prototype.writeUIntBE=function(je,Ge,ut,Et){if(je=+je,Ge=Ge>>>0,ut=ut>>>0,!Et){var It=Math.pow(2,8*ut)-1;fr(this,je,Ge,ut,It,0)}var zt=ut-1,tr=1;for(this[Ge+zt]=je&255;--zt>=0&&(tr*=256);)this[Ge+zt]=je/tr&255;return Ge+ut},ne.prototype.writeUInt8=function(je,Ge,ut){return je=+je,Ge=Ge>>>0,ut||fr(this,je,Ge,1,255,0),this[Ge]=je&255,Ge+1},ne.prototype.writeUInt16LE=function(je,Ge,ut){return je=+je,Ge=Ge>>>0,ut||fr(this,je,Ge,2,65535,0),this[Ge]=je&255,this[Ge+1]=je>>>8,Ge+2},ne.prototype.writeUInt16BE=function(je,Ge,ut){return je=+je,Ge=Ge>>>0,ut||fr(this,je,Ge,2,65535,0),this[Ge]=je>>>8,this[Ge+1]=je&255,Ge+2},ne.prototype.writeUInt32LE=function(je,Ge,ut){return je=+je,Ge=Ge>>>0,ut||fr(this,je,Ge,4,4294967295,0),this[Ge+3]=je>>>24,this[Ge+2]=je>>>16,this[Ge+1]=je>>>8,this[Ge]=je&255,Ge+4},ne.prototype.writeUInt32BE=function(je,Ge,ut){return je=+je,Ge=Ge>>>0,ut||fr(this,je,Ge,4,4294967295,0),this[Ge]=je>>>24,this[Ge+1]=je>>>16,this[Ge+2]=je>>>8,this[Ge+3]=je&255,Ge+4},ne.prototype.writeIntLE=function(je,Ge,ut,Et){if(je=+je,Ge=Ge>>>0,!Et){var It=Math.pow(2,8*ut-1);fr(this,je,Ge,ut,It-1,-It)}var zt=0,tr=1,Sr=0;for(this[Ge]=je&255;++zt<ut&&(tr*=256);)je<0&&Sr===0&&this[Ge+zt-1]!==0&&(Sr=1),this[Ge+zt]=(je/tr>>0)-Sr&255;return Ge+ut},ne.prototype.writeIntBE=function(je,Ge,ut,Et){if(je=+je,Ge=Ge>>>0,!Et){var It=Math.pow(2,8*ut-1);fr(this,je,Ge,ut,It-1,-It)}var zt=ut-1,tr=1,Sr=0;for(this[Ge+zt]=je&255;--zt>=0&&(tr*=256);)je<0&&Sr===0&&this[Ge+zt+1]!==0&&(Sr=1),this[Ge+zt]=(je/tr>>0)-Sr&255;return Ge+ut},ne.prototype.writeInt8=function(je,Ge,ut){return je=+je,Ge=Ge>>>0,ut||fr(this,je,Ge,1,127,-128),je<0&&(je=255+je+1),this[Ge]=je&255,Ge+1},ne.prototype.writeInt16LE=function(je,Ge,ut){return je=+je,Ge=Ge>>>0,ut||fr(this,je,Ge,2,32767,-32768),this[Ge]=je&255,this[Ge+1]=je>>>8,Ge+2},ne.prototype.writeInt16BE=function(je,Ge,ut){return je=+je,Ge=Ge>>>0,ut||fr(this,je,Ge,2,32767,-32768),this[Ge]=je>>>8,this[Ge+1]=je&255,Ge+2},ne.prototype.writeInt32LE=function(je,Ge,ut){return je=+je,Ge=Ge>>>0,ut||fr(this,je,Ge,4,2147483647,-2147483648),this[Ge]=je&255,this[Ge+1]=je>>>8,this[Ge+2]=je>>>16,this[Ge+3]=je>>>24,Ge+4},ne.prototype.writeInt32BE=function(je,Ge,ut){return je=+je,Ge=Ge>>>0,ut||fr(this,je,Ge,4,2147483647,-2147483648),je<0&&(je=4294967295+je+1),this[Ge]=je>>>24,this[Ge+1]=je>>>16,this[Ge+2]=je>>>8,this[Ge+3]=je&255,Ge+4};function Rr(nt,je,Ge,ut,Et,It){if(Ge+ut>nt.length)throw new RangeError("Index out of range");if(Ge<0)throw new RangeError("Index out of range")}function cr(nt,je,Ge,ut,Et){return je=+je,Ge=Ge>>>0,Et||Rr(nt,je,Ge,4),g.write(nt,je,Ge,ut,23,4),Ge+4}ne.prototype.writeFloatLE=function(je,Ge,ut){return cr(this,je,Ge,!0,ut)},ne.prototype.writeFloatBE=function(je,Ge,ut){return cr(this,je,Ge,!1,ut)};function lt(nt,je,Ge,ut,Et){return je=+je,Ge=Ge>>>0,Et||Rr(nt,je,Ge,8),g.write(nt,je,Ge,ut,52,8),Ge+8}ne.prototype.writeDoubleLE=function(je,Ge,ut){return lt(this,je,Ge,!0,ut)},ne.prototype.writeDoubleBE=function(je,Ge,ut){return lt(this,je,Ge,!1,ut)},ne.prototype.copy=function(je,Ge,ut,Et){if(ut||(ut=0),!Et&&Et!==0&&(Et=this.length),Ge>=je.length&&(Ge=je.length),Ge||(Ge=0),Et>0&&Et<ut&&(Et=ut),Et===ut||je.length===0||this.length===0)return 0;if(Ge<0)throw new RangeError("targetStart out of bounds");if(ut<0||ut>=this.length)throw new RangeError("sourceStart out of bounds");if(Et<0)throw new RangeError("sourceEnd out of bounds");Et>this.length&&(Et=this.length),je.length-Ge<Et-ut&&(Et=je.length-Ge+ut);var It=Et-ut,zt;if(this===je&&ut<Ge&&Ge<Et)for(zt=It-1;zt>=0;--zt)je[zt+Ge]=this[zt+ut];else if(It<1e3)for(zt=0;zt<It;++zt)je[zt+Ge]=this[zt+ut];else Uint8Array.prototype.set.call(je,this.subarray(ut,ut+It),Ge);return It},ne.prototype.fill=function(je,Ge,ut,Et){if(typeof je=="string"){if(typeof Ge=="string"?(Et=Ge,Ge=0,ut=this.length):typeof ut=="string"&&(Et=ut,ut=this.length),je.length===1){var It=je.charCodeAt(0);It<256&&(je=It)}if(Et!==void 0&&typeof Et!="string")throw new TypeError("encoding must be a string");if(typeof Et=="string"&&!ne.isEncoding(Et))throw new TypeError("Unknown encoding: "+Et)}else typeof je=="number"&&(je=je&255);if(Ge<0||this.length<Ge||this.length<ut)throw new RangeError("Out of range index");if(ut<=Ge)return this;Ge=Ge>>>0,ut=ut===void 0?this.length:ut>>>0,je||(je=0);var zt;if(typeof je=="number")for(zt=Ge;zt<ut;++zt)this[zt]=je;else{var tr=ne.isBuffer(je)?je:new ne(je,Et),Sr=tr.length;for(zt=0;zt<ut-Ge;++zt)this[zt+Ge]=tr[zt%Sr]}return this};var yt=/[^+/0-9A-Za-z-_]/g;function Xt(nt){if(nt=nt.trim().replace(yt,""),nt.length<2)return"";for(;nt.length%4!==0;)nt=nt+"=";return nt}function $t(nt){return nt<16?"0"+nt.toString(16):nt.toString(16)}function dr(nt,je){je=je||1/0;for(var Ge,ut=nt.length,Et=null,It=[],zt=0;zt<ut;++zt){if(Ge=nt.charCodeAt(zt),Ge>55295&&Ge<57344){if(!Et){if(Ge>56319){(je-=3)>-1&&It.push(239,191,189);continue}else if(zt+1===ut){(je-=3)>-1&&It.push(239,191,189);continue}Et=Ge;continue}if(Ge<56320){(je-=3)>-1&&It.push(239,191,189),Et=Ge;continue}Ge=(Et-55296<<10|Ge-56320)+65536}else Et&&(je-=3)>-1&&It.push(239,191,189);if(Et=null,Ge<128){if((je-=1)<0)break;It.push(Ge)}else if(Ge<2048){if((je-=2)<0)break;It.push(Ge>>6|192,Ge&63|128)}else if(Ge<65536){if((je-=3)<0)break;It.push(Ge>>12|224,Ge>>6&63|128,Ge&63|128)}else if(Ge<1114112){if((je-=4)<0)break;It.push(Ge>>18|240,Ge>>12&63|128,Ge>>6&63|128,Ge&63|128)}else throw new Error("Invalid code point")}return It}function Je(nt){for(var je=[],Ge=0;Ge<nt.length;++Ge)je.push(nt.charCodeAt(Ge)&255);return je}function At(nt,je){for(var Ge,ut,Et,It=[],zt=0;zt<nt.length&&!((je-=2)<0);++zt)Ge=nt.charCodeAt(zt),ut=Ge>>8,Et=Ge%256,It.push(Et),It.push(ut);return It}function Wt(nt){return m.toByteArray(Xt(nt))}function xt(nt,je,Ge,ut){for(var Et=0;Et<ut&&!(Et+Ge>=je.length||Et>=nt.length);++Et)je[Et+Ge]=nt[Et];return Et}function ht(nt){return nt instanceof ArrayBuffer||nt!=null&&nt.constructor!=null&&nt.constructor.name==="ArrayBuffer"&&typeof nt.byteLength=="number"}function Dt(nt){return typeof ArrayBuffer.isView=="function"&&ArrayBuffer.isView(nt)}function er(nt){return nt!==nt}}).call(i,c(1))},function(e,i){i.byteLength=ne,i.toByteArray=De,i.fromByteArray=Fe;for(var c=[],f=[],m=typeof Uint8Array<"u"?Uint8Array:Array,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Te=0,Ee=g.length;Te<Ee;++Te)c[Te]=g[Te],f[g.charCodeAt(Te)]=Te;f["-".charCodeAt(0)]=62,f["_".charCodeAt(0)]=63;function Oe(Ne){var Ve=Ne.length;if(Ve%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return Ne[Ve-2]==="="?2:Ne[Ve-1]==="="?1:0}function ne(Ne){return Ne.length*3/4-Oe(Ne)}function De(Ne){var Ve,Ue,We,He,Xe,ot,tt=Ne.length;Xe=Oe(Ne),ot=new m(tt*3/4-Xe),We=Xe>0?tt-4:tt;var mt=0;for(Ve=0,Ue=0;Ve<We;Ve+=4,Ue+=3)He=f[Ne.charCodeAt(Ve)]<<18|f[Ne.charCodeAt(Ve+1)]<<12|f[Ne.charCodeAt(Ve+2)]<<6|f[Ne.charCodeAt(Ve+3)],ot[mt++]=He>>16&255,ot[mt++]=He>>8&255,ot[mt++]=He&255;return Xe===2?(He=f[Ne.charCodeAt(Ve)]<<2|f[Ne.charCodeAt(Ve+1)]>>4,ot[mt++]=He&255):Xe===1&&(He=f[Ne.charCodeAt(Ve)]<<10|f[Ne.charCodeAt(Ve+1)]<<4|f[Ne.charCodeAt(Ve+2)]>>2,ot[mt++]=He>>8&255,ot[mt++]=He&255),ot}function Ie(Ne){return c[Ne>>18&63]+c[Ne>>12&63]+c[Ne>>6&63]+c[Ne&63]}function qe(Ne,Ve,Ue){for(var We,He=[],Xe=Ve;Xe<Ue;Xe+=3)We=(Ne[Xe]<<16)+(Ne[Xe+1]<<8)+Ne[Xe+2],He.push(Ie(We));return He.join("")}function Fe(Ne){for(var Ve,Ue=Ne.length,We=Ue%3,He="",Xe=[],ot=16383,tt=0,mt=Ue-We;tt<mt;tt+=ot)Xe.push(qe(Ne,tt,tt+ot>mt?mt:tt+ot));return We===1?(Ve=Ne[Ue-1],He+=c[Ve>>2],He+=c[Ve<<4&63],He+="=="):We===2&&(Ve=(Ne[Ue-2]<<8)+Ne[Ue-1],He+=c[Ve>>10],He+=c[Ve>>4&63],He+=c[Ve<<2&63],He+="="),Xe.push(He),Xe.join("")}},function(e,i){i.read=function(c,f,m,g,Te){var Ee,Oe,ne=Te*8-g-1,De=(1<<ne)-1,Ie=De>>1,qe=-7,Fe=m?Te-1:0,Ne=m?-1:1,Ve=c[f+Fe];for(Fe+=Ne,Ee=Ve&(1<<-qe)-1,Ve>>=-qe,qe+=ne;qe>0;Ee=Ee*256+c[f+Fe],Fe+=Ne,qe-=8);for(Oe=Ee&(1<<-qe)-1,Ee>>=-qe,qe+=g;qe>0;Oe=Oe*256+c[f+Fe],Fe+=Ne,qe-=8);if(Ee===0)Ee=1-Ie;else{if(Ee===De)return Oe?NaN:(Ve?-1:1)*(1/0);Oe=Oe+Math.pow(2,g),Ee=Ee-Ie}return(Ve?-1:1)*Oe*Math.pow(2,Ee-g)},i.write=function(c,f,m,g,Te,Ee){var Oe,ne,De,Ie=Ee*8-Te-1,qe=(1<<Ie)-1,Fe=qe>>1,Ne=Te===23?Math.pow(2,-24)-Math.pow(2,-77):0,Ve=g?0:Ee-1,Ue=g?1:-1,We=f<0||f===0&&1/f<0?1:0;for(f=Math.abs(f),isNaN(f)||f===1/0?(ne=isNaN(f)?1:0,Oe=qe):(Oe=Math.floor(Math.log(f)/Math.LN2),f*(De=Math.pow(2,-Oe))<1&&(Oe--,De*=2),Oe+Fe>=1?f+=Ne/De:f+=Ne*Math.pow(2,1-Fe),f*De>=2&&(Oe++,De/=2),Oe+Fe>=qe?(ne=0,Oe=qe):Oe+Fe>=1?(ne=(f*De-1)*Math.pow(2,Te),Oe=Oe+Fe):(ne=f*Math.pow(2,Fe-1)*Math.pow(2,Te),Oe=0));Te>=8;c[m+Ve]=ne&255,Ve+=Ue,ne/=256,Te-=8);for(Oe=Oe<<Te|ne,Ie+=Te;Ie>0;c[m+Ve]=Oe&255,Ve+=Ue,Oe/=256,Ie-=8);c[m+Ve-Ue]|=We*128}},function(e,i){e.exports=function(c){return c.webpackPolyfill||(c.deprecate=function(){},c.paths=[],c.children=[],c.webpackPolyfill=1),c}},function(e,i,c){var f=c(7),m=new f,g={};function Te(Oe){g[Oe]||(typeof m[Oe]=="function"?g[Oe]=function(){return m[Oe].apply(m,arguments)}:g[Oe]=m[Oe])}for(var Ee in m)Te(Ee);g.initializeTTYs=function(){m.stdin===null&&(m.initializeTTYs(),g.stdin=m.stdin,g.stdout=m.stdout,g.stderr=m.stderr)},m.nextTick(function(){g.initializeTTYs()}),e.exports=g},function(e,i,c){(function(f){var m=this&&this.__extends||function(De,Ie){for(var qe in Ie)Ie.hasOwnProperty(qe)&&(De[qe]=Ie[qe]);function Fe(){this.constructor=De}De.prototype=Ie===null?Object.create(Ie):(Fe.prototype=Ie.prototype,new Fe)},g=c(8),Te=null,Ee=function(){function De(Ie,qe){this.fun=Ie,this.array=qe}return De.prototype.run=function(){this.fun.apply(null,this.array)},De}(),Oe=function(){function De(){this._queue=[],this._draining=!1,this._currentQueue=null,this._queueIndex=-1}return De.prototype.push=function(Ie){var qe=this;this._queue.push(Ie)===1&&!this._draining&&setTimeout(function(){return qe._drainQueue()},0)},De.prototype._cleanUpNextTick=function(){this._draining=!1,this._currentQueue&&this._currentQueue.length?this._queue=this._currentQueue.concat(this._queue):this._queueIndex=-1,this._queue.length&&this._drainQueue()},De.prototype._drainQueue=function(){var Ie=this;if(!this._draining){var qe=setTimeout(function(){return Ie._cleanUpNextTick()});this._draining=!0;for(var Fe=this._queue.length;Fe;){for(this._currentQueue=this._queue,this._queue=[];++this._queueIndex<Fe;)this._currentQueue&&this._currentQueue[this._queueIndex].run();this._queueIndex=-1,Fe=this._queue.length}this._currentQueue=null,this._draining=!1,clearTimeout(qe)}},De}(),ne=function(De){m(Ie,De);function Ie(){De.apply(this,arguments),this.startTime=Date.now(),this._cwd="/",this.platform="browser",this.argv=[],this.execArgv=[],this.stdout=null,this.stderr=null,this.stdin=null,this.domain=null,this._queue=new Oe,this.execPath=f,this.env={},this.exitCode=0,this._gid=1,this._uid=1,this.version="v5.0",this.versions={http_parser:"0.0",node:"5.0",v8:"0.0",uv:"0.0",zlib:"0.0",ares:"0.0",icu:"0.0",modules:"0",openssl:"0.0"},this.config={target_defaults:{cflags:[],default_configuration:"Release",defines:[],include_dirs:[],libraries:[]},variables:{clang:0,host_arch:"x32",node_install_npm:!1,node_install_waf:!1,node_prefix:"",node_shared_cares:!1,node_shared_http_parser:!1,node_shared_libuv:!1,node_shared_zlib:!1,node_shared_v8:!1,node_use_dtrace:!1,node_use_etw:!1,node_use_openssl:!1,node_shared_openssl:!1,strict_aliasing:!1,target_arch:"x32",v8_use_snapshot:!1,v8_no_strict_aliasing:0,visibility:""}},this.pid=Math.random()*1e3|0,this.title="node",this.arch="x32",this._mask=18,this.connected=void 0}return Ie.prototype.chdir=function(qe){Te===null&&(Te=c(9)),this._cwd=Te.resolve(qe)},Ie.prototype.cwd=function(){return this._cwd},Ie.prototype.uptime=function(){return(Date.now()-this.startTime)/1e3|0},Ie.prototype.nextTick=function(qe){for(var Fe=[],Ne=1;Ne<arguments.length;Ne++)Fe[Ne-1]=arguments[Ne];this._queue.push(new Ee(qe,Fe))},Ie.prototype.abort=function(){this.emit("abort")},Ie.prototype.exit=function(qe){this.exitCode=qe,this.emit("exit",[qe])},Ie.prototype.getgid=function(){return this._gid},Ie.prototype.setgid=function(qe){typeof qe=="number"?this._gid=qe:this._gid=1},Ie.prototype.getuid=function(){return this._uid},Ie.prototype.setuid=function(qe){typeof qe=="number"?this._uid=qe:this._uid=1},Ie.prototype.kill=function(qe,Fe){this.emit("kill",[qe,Fe])},Ie.prototype.memoryUsage=function(){return{rss:0,heapTotal:0,heapUsed:0}},Ie.prototype.umask=function(qe){qe===void 0&&(qe=this._mask);var Fe=this._mask;return this._mask=qe,this.emit("umask",[qe]),Fe},Ie.prototype.hrtime=function(){var qe;typeof performance<"u"?qe=performance.now():Date.now?qe=Date.now():qe=new Date().getTime();var Fe=qe/1e3|0;return qe-=Fe*1e3,qe=qe*1e6|0,[Fe,qe]},Ie.prototype.initializeTTYs=function(){if(this.stdout===null){var qe=c(10);this.stdout=new qe,this.stderr=new qe,this.stdin=new qe}},Ie.prototype.disconnect=function(){},Ie}(g.EventEmitter);e.exports=ne}).call(i,"/")},function(e,i){function c(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}e.exports=c,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._maxListeners=void 0,c.defaultMaxListeners=10,c.prototype.setMaxListeners=function(Ee){if(!m(Ee)||Ee<0||isNaN(Ee))throw TypeError("n must be a positive number");return this._maxListeners=Ee,this},c.prototype.emit=function(Ee){var Oe,ne,De,Ie,qe,Fe;if(this._events||(this._events={}),Ee==="error"&&(!this._events.error||g(this._events.error)&&!this._events.error.length)){if(Oe=arguments[1],Oe instanceof Error)throw Oe;var Ne=new Error('Uncaught, unspecified "error" event. ('+Oe+")");throw Ne.context=Oe,Ne}if(ne=this._events[Ee],Te(ne))return!1;if(f(ne))switch(arguments.length){case 1:ne.call(this);break;case 2:ne.call(this,arguments[1]);break;case 3:ne.call(this,arguments[1],arguments[2]);break;default:Ie=Array.prototype.slice.call(arguments,1),ne.apply(this,Ie)}else if(g(ne))for(Ie=Array.prototype.slice.call(arguments,1),Fe=ne.slice(),De=Fe.length,qe=0;qe<De;qe++)Fe[qe].apply(this,Ie);return!0},c.prototype.addListener=function(Ee,Oe){var ne;if(!f(Oe))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",Ee,f(Oe.listener)?Oe.listener:Oe),this._events[Ee]?g(this._events[Ee])?this._events[Ee].push(Oe):this._events[Ee]=[this._events[Ee],Oe]:this._events[Ee]=Oe,g(this._events[Ee])&&!this._events[Ee].warned&&(Te(this._maxListeners)?ne=c.defaultMaxListeners:ne=this._maxListeners,ne&&ne>0&&this._events[Ee].length>ne&&(this._events[Ee].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[Ee].length),typeof console.trace=="function"&&console.trace())),this},c.prototype.on=c.prototype.addListener,c.prototype.once=function(Ee,Oe){if(!f(Oe))throw TypeError("listener must be a function");var ne=!1;function De(){this.removeListener(Ee,De),ne||(ne=!0,Oe.apply(this,arguments))}return De.listener=Oe,this.on(Ee,De),this},c.prototype.removeListener=function(Ee,Oe){var ne,De,Ie,qe;if(!f(Oe))throw TypeError("listener must be a function");if(!this._events||!this._events[Ee])return this;if(ne=this._events[Ee],Ie=ne.length,De=-1,ne===Oe||f(ne.listener)&&ne.listener===Oe)delete this._events[Ee],this._events.removeListener&&this.emit("removeListener",Ee,Oe);else if(g(ne)){for(qe=Ie;qe-- >0;)if(ne[qe]===Oe||ne[qe].listener&&ne[qe].listener===Oe){De=qe;break}if(De<0)return this;ne.length===1?(ne.length=0,delete this._events[Ee]):ne.splice(De,1),this._events.removeListener&&this.emit("removeListener",Ee,Oe)}return this},c.prototype.removeAllListeners=function(Ee){var Oe,ne;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[Ee]&&delete this._events[Ee],this;if(arguments.length===0){for(Oe in this._events)Oe!=="removeListener"&&this.removeAllListeners(Oe);return this.removeAllListeners("removeListener"),this._events={},this}if(ne=this._events[Ee],f(ne))this.removeListener(Ee,ne);else if(ne)for(;ne.length;)this.removeListener(Ee,ne[ne.length-1]);return delete this._events[Ee],this},c.prototype.listeners=function(Ee){var Oe;return!this._events||!this._events[Ee]?Oe=[]:f(this._events[Ee])?Oe=[this._events[Ee]]:Oe=this._events[Ee].slice(),Oe},c.prototype.listenerCount=function(Ee){if(this._events){var Oe=this._events[Ee];if(f(Oe))return 1;if(Oe)return Oe.length}return 0},c.listenerCount=function(Ee,Oe){return Ee.listenerCount(Oe)};function f(Ee){return typeof Ee=="function"}function m(Ee){return typeof Ee=="number"}function g(Ee){return typeof Ee=="object"&&Ee!==null}function Te(Ee){return Ee===void 0}},function(e,i,c){(function(f){var m=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;function g(Ee){var Oe=m.exec(Ee);return Oe.shift(),Oe}var Te=function(){function Ee(){}return Ee.normalize=function(Oe){Oe===""&&(Oe=".");var ne=Oe.charAt(0)===Ee.sep;Oe=Ee._removeDuplicateSeps(Oe);for(var De=Oe.split(Ee.sep),Ie=[],qe=0;qe<De.length;qe++){var Fe=De[qe];Fe!=="."&&(Fe===".."&&(ne||!ne&&Ie.length>0&&Ie[0]!=="..")?Ie.pop():Ie.push(Fe))}if(!ne&&Ie.length<2)switch(Ie.length){case 1:Ie[0]===""&&Ie.unshift(".");break;default:Ie.push(".")}return Oe=Ie.join(Ee.sep),ne&&Oe.charAt(0)!==Ee.sep&&(Oe=Ee.sep+Oe),Oe},Ee.join=function(){for(var Oe=[],ne=0;ne<arguments.length;ne++)Oe[ne-0]=arguments[ne];for(var De=[],Ie=0;Ie<Oe.length;Ie++){var qe=Oe[Ie];if(typeof qe!="string")throw new TypeError("Invalid argument type to path.join: "+typeof qe);qe!==""&&De.push(qe)}return Ee.normalize(De.join(Ee.sep))},Ee.resolve=function(){for(var Oe=[],ne=0;ne<arguments.length;ne++)Oe[ne-0]=arguments[ne];for(var De=[],Ie=0;Ie<Oe.length;Ie++){var qe=Oe[Ie];if(typeof qe!="string")throw new TypeError("Invalid argument type to path.join: "+typeof qe);qe!==""&&(qe.charAt(0)===Ee.sep&&(De=[]),De.push(qe))}var Fe=Ee.normalize(De.join(Ee.sep));if(Fe.length>1&&Fe.charAt(Fe.length-1)===Ee.sep)return Fe.substr(0,Fe.length-1);if(Fe.charAt(0)!==Ee.sep){Fe.charAt(0)==="."&&(Fe.length===1||Fe.charAt(1)===Ee.sep)&&(Fe=Fe.length===1?"":Fe.substr(2));var Ne=f.cwd();Fe!==""?Fe=this.normalize(Ne+(Ne!=="/"?Ee.sep:"")+Fe):Fe=Ne}return Fe},Ee.relative=function(Oe,ne){var De;Oe=Ee.resolve(Oe),ne=Ee.resolve(ne);var Ie=Oe.split(Ee.sep),qe=ne.split(Ee.sep);qe.shift(),Ie.shift();var Fe=0,Ne=[];for(De=0;De<Ie.length;De++){var Ve=Ie[De];if(Ve!==qe[De]){Fe=Ie.length-De;break}}Ne=qe.slice(De),Ie.length===1&&Ie[0]===""&&(Fe=0),Fe>Ie.length&&(Fe=Ie.length);var Ue="";for(De=0;De<Fe;De++)Ue+="../";return Ue+=Ne.join(Ee.sep),Ue.length>1&&Ue.charAt(Ue.length-1)===Ee.sep&&(Ue=Ue.substr(0,Ue.length-1)),Ue},Ee.dirname=function(Oe){Oe=Ee._removeDuplicateSeps(Oe);var ne=Oe.charAt(0)===Ee.sep,De=Oe.split(Ee.sep);return De.pop()===""&&De.length>0&&De.pop(),De.length>1||De.length===1&&!ne?De.join(Ee.sep):ne?Ee.sep:"."},Ee.basename=function(Oe,ne){if(ne===void 0&&(ne=""),Oe==="")return Oe;Oe=Ee.normalize(Oe);var De=Oe.split(Ee.sep),Ie=De[De.length-1];if(Ie===""&&De.length>1)return De[De.length-2];if(ne.length>0){var qe=Ie.substr(Ie.length-ne.length);if(qe===ne)return Ie.substr(0,Ie.length-ne.length)}return Ie},Ee.extname=function(Oe){Oe=Ee.normalize(Oe);var ne=Oe.split(Ee.sep);if(Oe=ne.pop(),Oe===""&&ne.length>0&&(Oe=ne.pop()),Oe==="..")return"";var De=Oe.lastIndexOf(".");return De===-1||De===0?"":Oe.substr(De)},Ee.isAbsolute=function(Oe){return Oe.length>0&&Oe.charAt(0)===Ee.sep},Ee._makeLong=function(Oe){return Oe},Ee.parse=function(Oe){var ne=g(Oe);return{root:ne[0],dir:ne[0]+ne[1].slice(0,-1),base:ne[2],ext:ne[3],name:ne[2].slice(0,ne[2].length-ne[3].length)}},Ee.format=function(Oe){if(Oe===null||typeof Oe!="object")throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof Oe);var ne=Oe.root||"";if(typeof ne!="string")throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof Oe.root);var De=Oe.dir?Oe.dir+Ee.sep:"",Ie=Oe.base||"";return De+Ie},Ee._removeDuplicateSeps=function(Oe){return Oe=Oe.replace(this._replaceRegex,this.sep),Oe},Ee.sep="/",Ee._replaceRegex=new RegExp("//+","g"),Ee.delimiter=":",Ee.posix=Ee,Ee.win32=Ee,Ee}();e.exports=Te}).call(i,c(6))},function(e,i,c){(function(f){var m=this&&this.__extends||function(Ee,Oe){for(var ne in Oe)Oe.hasOwnProperty(ne)&&(Ee[ne]=Oe[ne]);function De(){this.constructor=Ee}Ee.prototype=Oe===null?Object.create(Oe):(De.prototype=Oe.prototype,new De)},g=c(11),Te=function(Ee){m(Oe,Ee);function Oe(){Ee.call(this),this.isRaw=!1,this.columns=80,this.rows=120,this.isTTY=!0,this._bufferedWrites=[],this._waitingForWrites=!1}return Oe.prototype.setRawMode=function(ne){this.isRaw!==ne&&(this.isRaw=ne,this.emit("modeChange"))},Oe.prototype.changeColumns=function(ne){ne!==this.columns&&(this.columns=ne,this.emit("resize"))},Oe.prototype.changeRows=function(ne){ne!==this.rows&&(this.rows=ne,this.emit("resize"))},Oe.isatty=function(ne){return ne&&ne instanceof Oe},Oe.prototype._write=function(ne,De,Ie){var qe;try{var Fe;typeof ne=="string"?Fe=new f(ne,De):Fe=ne,this._bufferedWrites.push(Fe),this._waitingForWrites&&this._read(1024)}catch(Ne){qe=Ne}finally{Ie(qe)}},Oe.prototype._read=function(ne){if(this._bufferedWrites.length===0)this._waitingForWrites=!0;else for(;this._bufferedWrites.length>0&&(this._waitingForWrites=this.push(this._bufferedWrites.shift()),!!this._waitingForWrites););},Oe}(g.Duplex);e.exports=Te}).call(i,c(1))},function(e,i,c){e.exports=g;var f=c(8).EventEmitter,m=c(12);m(g,f),g.Readable=c(13),g.Writable=c(27),g.Duplex=c(28),g.Transform=c(29),g.PassThrough=c(30),g.Stream=g;function g(){f.call(this)}g.prototype.pipe=function(Te,Ee){var Oe=this;function ne(Ue){Te.writable&&Te.write(Ue)===!1&&Oe.pause&&Oe.pause()}Oe.on("data",ne);function De(){Oe.readable&&Oe.resume&&Oe.resume()}Te.on("drain",De),!Te._isStdio&&(!Ee||Ee.end!==!1)&&(Oe.on("end",qe),Oe.on("close",Fe));var Ie=!1;function qe(){Ie||(Ie=!0,Te.end())}function Fe(){Ie||(Ie=!0,typeof Te.destroy=="function"&&Te.destroy())}function Ne(Ue){if(Ve(),f.listenerCount(this,"error")===0)throw Ue}Oe.on("error",Ne),Te.on("error",Ne);function Ve(){Oe.removeListener("data",ne),Te.removeListener("drain",De),Oe.removeListener("end",qe),Oe.removeListener("close",Fe),Oe.removeListener("error",Ne),Te.removeListener("error",Ne),Oe.removeListener("end",Ve),Oe.removeListener("close",Ve),Te.removeListener("close",Ve)}return Oe.on("end",Ve),Oe.on("close",Ve),Te.on("close",Ve),Te.emit("pipe",Oe),Te}},function(e,i){typeof Object.create=="function"?e.exports=function(f,m){f.super_=m,f.prototype=Object.create(m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(f,m){f.super_=m;var g=function(){};g.prototype=m.prototype,f.prototype=new g,f.prototype.constructor=f}},function(e,i,c){(function(f){var m=function(){try{return c(11)}catch{}}();i=e.exports=c(14),i.Stream=m||i,i.Readable=i,i.Writable=c(22),i.Duplex=c(21),i.Transform=c(25),i.PassThrough=c(26),!f.browser&&f.env.READABLE_STREAM==="disable"&&m&&(e.exports=m)}).call(i,c(6))},function(e,i,c){(function(f){e.exports=He;var m=c(15),g=c(16),Te;He.ReadableState=We,c(8).EventEmitter;var Ee=function(lt,yt){return lt.listeners(yt).length},Oe;(function(){try{Oe=c(11)}catch{}finally{Oe||(Oe=c(8).EventEmitter)}})();var ne=c(2).Buffer,De=c(17),Ie=c(18);Ie.inherits=c(12);var qe=c(19),Fe=void 0;qe&&qe.debuglog?Fe=qe.debuglog("stream"):Fe=function(){};var Ne=c(20),Ve;Ie.inherits(He,Oe);function Ue(lt,yt,Xt){if(typeof lt.prependListener=="function")return lt.prependListener(yt,Xt);!lt._events||!lt._events[yt]?lt.on(yt,Xt):g(lt._events[yt])?lt._events[yt].unshift(Xt):lt._events[yt]=[Xt,lt._events[yt]]}function We(lt,yt){Te=Te||c(21),lt=lt||{},this.objectMode=!!lt.objectMode,yt instanceof Te&&(this.objectMode=this.objectMode||!!lt.readableObjectMode);var Xt=lt.highWaterMark,$t=this.objectMode?16:16*1024;this.highWaterMark=Xt||Xt===0?Xt:$t,this.highWaterMark=~~this.highWaterMark,this.buffer=new Ne,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=lt.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,lt.encoding&&(Ve||(Ve=c(24).StringDecoder),this.decoder=new Ve(lt.encoding),this.encoding=lt.encoding)}function He(lt){if(Te=Te||c(21),!(this instanceof He))return new He(lt);this._readableState=new We(lt,this),this.readable=!0,lt&&typeof lt.read=="function"&&(this._read=lt.read),Oe.call(this)}He.prototype.push=function(lt,yt){var Xt=this._readableState;return!Xt.objectMode&&typeof lt=="string"&&(yt=yt||Xt.defaultEncoding,yt!==Xt.encoding&&(lt=De.from(lt,yt),yt="")),Xe(this,Xt,lt,yt,!1)},He.prototype.unshift=function(lt){var yt=this._readableState;return Xe(this,yt,lt,"",!0)},He.prototype.isPaused=function(){return this._readableState.flowing===!1};function Xe(lt,yt,Xt,$t,dr){var Je=rt(yt,Xt);if(Je)lt.emit("error",Je);else if(Xt===null)yt.reading=!1,pt(lt,yt);else if(yt.objectMode||Xt&&Xt.length>0)if(yt.ended&&!dr){var At=new Error("stream.push() after EOF");lt.emit("error",At)}else if(yt.endEmitted&&dr){var Wt=new Error("stream.unshift() after end event");lt.emit("error",Wt)}else{var xt;yt.decoder&&!dr&&!$t&&(Xt=yt.decoder.write(Xt),xt=!yt.objectMode&&Xt.length===0),dr||(yt.reading=!1),xt||(yt.flowing&&yt.length===0&&!yt.sync?(lt.emit("data",Xt),lt.read(0)):(yt.length+=yt.objectMode?1:Xt.length,dr?yt.buffer.unshift(Xt):yt.buffer.push(Xt),yt.needReadable&&it(lt))),Ze(lt,yt)}else dr||(yt.reading=!1);return ot(yt)}function ot(lt){return!lt.ended&&(lt.needReadable||lt.length<lt.highWaterMark||lt.length===0)}He.prototype.setEncoding=function(lt){return Ve||(Ve=c(24).StringDecoder),this._readableState.decoder=new Ve(lt),this._readableState.encoding=lt,this};var tt=8388608;function mt(lt){return lt>=tt?lt=tt:(lt--,lt|=lt>>>1,lt|=lt>>>2,lt|=lt>>>4,lt|=lt>>>8,lt|=lt>>>16,lt++),lt}function gt(lt,yt){return lt<=0||yt.length===0&&yt.ended?0:yt.objectMode?1:lt!==lt?yt.flowing&&yt.length?yt.buffer.head.data.length:yt.length:(lt>yt.highWaterMark&&(yt.highWaterMark=mt(lt)),lt<=yt.length?lt:yt.ended?yt.length:(yt.needReadable=!0,0))}He.prototype.read=function(lt){Fe("read",lt),lt=parseInt(lt,10);var yt=this._readableState,Xt=lt;if(lt!==0&&(yt.emittedReadable=!1),lt===0&&yt.needReadable&&(yt.length>=yt.highWaterMark||yt.ended))return Fe("read: emitReadable",yt.length,yt.ended),yt.length===0&&yt.ended?Kt(this):it(this),null;if(lt=gt(lt,yt),lt===0&&yt.ended)return yt.length===0&&Kt(this),null;var $t=yt.needReadable;Fe("need readable",$t),(yt.length===0||yt.length-lt<yt.highWaterMark)&&($t=!0,Fe("length less than watermark",$t)),yt.ended||yt.reading?($t=!1,Fe("reading or ended",$t)):$t&&(Fe("do read"),yt.reading=!0,yt.sync=!0,yt.length===0&&(yt.needReadable=!0),this._read(yt.highWaterMark),yt.sync=!1,yt.reading||(lt=gt(Xt,yt)));var dr;return lt>0?dr=ct(lt,yt):dr=null,dr===null?(yt.needReadable=!0,lt=0):yt.length-=lt,yt.length===0&&(yt.ended||(yt.needReadable=!0),Xt!==lt&&yt.ended&&Kt(this)),dr!==null&&this.emit("data",dr),dr};function rt(lt,yt){var Xt=null;return!ne.isBuffer(yt)&&typeof yt!="string"&&yt!==null&&yt!==void 0&&!lt.objectMode&&(Xt=new TypeError("Invalid non-string/buffer chunk")),Xt}function pt(lt,yt){if(!yt.ended){if(yt.decoder){var Xt=yt.decoder.end();Xt&&Xt.length&&(yt.buffer.push(Xt),yt.length+=yt.objectMode?1:Xt.length)}yt.ended=!0,it(lt)}}function it(lt){var yt=lt._readableState;yt.needReadable=!1,yt.emittedReadable||(Fe("emitReadable",yt.flowing),yt.emittedReadable=!0,yt.sync?m(vt,lt):vt(lt))}function vt(lt){Fe("emit readable"),lt.emit("readable"),St(lt)}function Ze(lt,yt){yt.readingMore||(yt.readingMore=!0,m(Ft,lt,yt))}function Ft(lt,yt){for(var Xt=yt.length;!yt.reading&&!yt.flowing&&!yt.ended&&yt.length<yt.highWaterMark&&(Fe("maybeReadMore read 0"),lt.read(0),Xt!==yt.length);)Xt=yt.length;yt.readingMore=!1}He.prototype._read=function(lt){this.emit("error",new Error("_read() is not implemented"))},He.prototype.pipe=function(lt,yt){var Xt=this,$t=this._readableState;switch($t.pipesCount){case 0:$t.pipes=lt;break;case 1:$t.pipes=[$t.pipes,lt];break;default:$t.pipes.push(lt);break}$t.pipesCount+=1,Fe("pipe count=%d opts=%j",$t.pipesCount,yt);var dr=(!yt||yt.end!==!1)&&lt!==f.stdout&&lt!==f.stderr,Je=dr?Wt:Dt;$t.endEmitted?m(Je):Xt.once("end",Je),lt.on("unpipe",At);function At(It){Fe("onunpipe"),It===Xt&&Dt()}function Wt(){Fe("onend"),lt.end()}var xt=Zt(Xt);lt.on("drain",xt);var ht=!1;function Dt(){Fe("cleanup"),lt.removeListener("close",Ge),lt.removeListener("finish",ut),lt.removeListener("drain",xt),lt.removeListener("error",je),lt.removeListener("unpipe",At),Xt.removeListener("end",Wt),Xt.removeListener("end",Dt),Xt.removeListener("data",nt),ht=!0,$t.awaitDrain&&(!lt._writableState||lt._writableState.needDrain)&&xt()}var er=!1;Xt.on("data",nt);function nt(It){Fe("ondata"),er=!1;var zt=lt.write(It);zt===!1&&!er&&(($t.pipesCount===1&&$t.pipes===lt||$t.pipesCount>1&&cr($t.pipes,lt)!==-1)&&!ht&&(Fe("false write response, pause",Xt._readableState.awaitDrain),Xt._readableState.awaitDrain++,er=!0),Xt.pause())}function je(It){Fe("onerror",It),Et(),lt.removeListener("error",je),Ee(lt,"error")===0&&lt.emit("error",It)}Ue(lt,"error",je);function Ge(){lt.removeListener("finish",ut),Et()}lt.once("close",Ge);function ut(){Fe("onfinish"),lt.removeListener("close",Ge),Et()}lt.once("finish",ut);function Et(){Fe("unpipe"),Xt.unpipe(lt)}return lt.emit("pipe",Xt),$t.flowing||(Fe("pipe resume"),Xt.resume()),lt};function Zt(lt){return function(){var yt=lt._readableState;Fe("pipeOnDrain",yt.awaitDrain),yt.awaitDrain&&yt.awaitDrain--,yt.awaitDrain===0&&Ee(lt,"data")&&(yt.flowing=!0,St(lt))}}He.prototype.unpipe=function(lt){var yt=this._readableState;if(yt.pipesCount===0)return this;if(yt.pipesCount===1)return lt&&lt!==yt.pipes?this:(lt||(lt=yt.pipes),yt.pipes=null,yt.pipesCount=0,yt.flowing=!1,lt&&lt.emit("unpipe",this),this);if(!lt){var Xt=yt.pipes,$t=yt.pipesCount;yt.pipes=null,yt.pipesCount=0,yt.flowing=!1;for(var dr=0;dr<$t;dr++)Xt[dr].emit("unpipe",this);return this}var Je=cr(yt.pipes,lt);return Je===-1?this:(yt.pipes.splice(Je,1),yt.pipesCount-=1,yt.pipesCount===1&&(yt.pipes=yt.pipes[0]),lt.emit("unpipe",this),this)},He.prototype.on=function(lt,yt){var Xt=Oe.prototype.on.call(this,lt,yt);if(lt==="data")this._readableState.flowing!==!1&&this.resume();else if(lt==="readable"){var $t=this._readableState;!$t.endEmitted&&!$t.readableListening&&($t.readableListening=$t.needReadable=!0,$t.emittedReadable=!1,$t.reading?$t.length&&it(this):m(jt,this))}return Xt},He.prototype.addListener=He.prototype.on;function jt(lt){Fe("readable nexttick read 0"),lt.read(0)}He.prototype.resume=function(){var lt=this._readableState;return lt.flowing||(Fe("resume"),lt.flowing=!0,ur(this,lt)),this};function ur(lt,yt){yt.resumeScheduled||(yt.resumeScheduled=!0,m(bt,lt,yt))}function bt(lt,yt){yt.reading||(Fe("resume read 0"),lt.read(0)),yt.resumeScheduled=!1,yt.awaitDrain=0,lt.emit("resume"),St(lt),yt.flowing&&!yt.reading&&lt.read(0)}He.prototype.pause=function(){return Fe("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Fe("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function St(lt){var yt=lt._readableState;for(Fe("flow",yt.flowing);yt.flowing&&lt.read()!==null;);}He.prototype.wrap=function(lt){var yt=this._readableState,Xt=!1,$t=this;lt.on("end",function(){if(Fe("wrapped end"),yt.decoder&&!yt.ended){var At=yt.decoder.end();At&&At.length&&$t.push(At)}$t.push(null)}),lt.on("data",function(At){if(Fe("wrapped data"),yt.decoder&&(At=yt.decoder.write(At)),!(yt.objectMode&&At==null)&&!(!yt.objectMode&&(!At||!At.length))){var Wt=$t.push(At);Wt||(Xt=!0,lt.pause())}});for(var dr in lt)this[dr]===void 0&&typeof lt[dr]=="function"&&(this[dr]=function(At){return function(){return lt[At].apply(lt,arguments)}}(dr));var Je=["error","close","destroy","pause","resume"];return Rr(Je,function(At){lt.on(At,$t.emit.bind($t,At))}),$t._read=function(At){Fe("wrapped _read",At),Xt&&(Xt=!1,lt.resume())},$t},He._fromList=ct;function ct(lt,yt){if(yt.length===0)return null;var Xt;return yt.objectMode?Xt=yt.buffer.shift():!lt||lt>=yt.length?(yt.decoder?Xt=yt.buffer.join(""):yt.buffer.length===1?Xt=yt.buffer.head.data:Xt=yt.buffer.concat(yt.length),yt.buffer.clear()):Xt=dt(lt,yt.buffer,yt.decoder),Xt}function dt(lt,yt,Xt){var $t;return lt<yt.head.data.length?($t=yt.head.data.slice(0,lt),yt.head.data=yt.head.data.slice(lt)):lt===yt.head.data.length?$t=yt.shift():$t=Xt?Pt(lt,yt):Ct(lt,yt),$t}function Pt(lt,yt){var Xt=yt.head,$t=1,dr=Xt.data;for(lt-=dr.length;Xt=Xt.next;){var Je=Xt.data,At=lt>Je.length?Je.length:lt;if(At===Je.length?dr+=Je:dr+=Je.slice(0,lt),lt-=At,lt===0){At===Je.length?(++$t,Xt.next?yt.head=Xt.next:yt.head=yt.tail=null):(yt.head=Xt,Xt.data=Je.slice(At));break}++$t}return yt.length-=$t,dr}function Ct(lt,yt){var Xt=De.allocUnsafe(lt),$t=yt.head,dr=1;for($t.data.copy(Xt),lt-=$t.data.length;$t=$t.next;){var Je=$t.data,At=lt>Je.length?Je.length:lt;if(Je.copy(Xt,Xt.length-lt,0,At),lt-=At,lt===0){At===Je.length?(++dr,$t.next?yt.head=$t.next:yt.head=yt.tail=null):(yt.head=$t,$t.data=Je.slice(At));break}++dr}return yt.length-=dr,Xt}function Kt(lt){var yt=lt._readableState;if(yt.length>0)throw new Error('"endReadable()" called on non-empty stream');yt.endEmitted||(yt.ended=!0,m(fr,yt,lt))}function fr(lt,yt){!lt.endEmitted&&lt.length===0&&(lt.endEmitted=!0,yt.readable=!1,yt.emit("end"))}function Rr(lt,yt){for(var Xt=0,$t=lt.length;Xt<$t;Xt++)yt(lt[Xt],Xt)}function cr(lt,yt){for(var Xt=0,$t=lt.length;Xt<$t;Xt++)if(lt[Xt]===yt)return Xt;return-1}}).call(i,c(6))},function(e,i,c){(function(f){!f.version||f.version.indexOf("v0.")===0||f.version.indexOf("v1.")===0&&f.version.indexOf("v1.8.")!==0?e.exports=m:e.exports=f.nextTick;function m(g,Te,Ee,Oe){if(typeof g!="function")throw new TypeError('"callback" argument must be a function');var ne=arguments.length,De,Ie;switch(ne){case 0:case 1:return f.nextTick(g);case 2:return f.nextTick(function(){g.call(null,Te)});case 3:return f.nextTick(function(){g.call(null,Te,Ee)});case 4:return f.nextTick(function(){g.call(null,Te,Ee,Oe)});default:for(De=new Array(ne-1),Ie=0;Ie<De.length;)De[Ie++]=arguments[Ie];return f.nextTick(function(){g.apply(null,De)})}}}).call(i,c(6))},function(e,i){var c={}.toString;e.exports=Array.isArray||function(f){return c.call(f)=="[object Array]"}},function(e,i,c){(function(f){var m=c(2),g=m.Buffer,Te=m.SlowBuffer,Ee=m.kMaxLength||2147483647;i.alloc=function(ne,De,Ie){if(typeof g.alloc=="function")return g.alloc(ne,De,Ie);if(typeof Ie=="number")throw new TypeError("encoding must not be number");if(typeof ne!="number")throw new TypeError("size must be a number");if(ne>Ee)throw new RangeError("size is too large");var qe=Ie,Fe=De;Fe===void 0&&(qe=void 0,Fe=0);var Ne=new g(ne);if(typeof Fe=="string")for(var Ve=new g(Fe,qe),Ue=Ve.length,We=-1;++We<ne;)Ne[We]=Ve[We%Ue];else Ne.fill(Fe);return Ne},i.allocUnsafe=function(ne){if(typeof g.allocUnsafe=="function")return g.allocUnsafe(ne);if(typeof ne!="number")throw new TypeError("size must be a number");if(ne>Ee)throw new RangeError("size is too large");return new g(ne)},i.from=function(ne,De,Ie){if(typeof g.from=="function"&&(!f.Uint8Array||Uint8Array.from!==g.from))return g.from(ne,De,Ie);if(typeof ne=="number")throw new TypeError('"value" argument must not be a number');if(typeof ne=="string")return new g(ne,De);if(typeof ArrayBuffer<"u"&&ne instanceof ArrayBuffer){var qe=De;if(arguments.length===1)return new g(ne);typeof qe>"u"&&(qe=0);var Fe=Ie;if(typeof Fe>"u"&&(Fe=ne.byteLength-qe),qe>=ne.byteLength)throw new RangeError("'offset' is out of bounds");if(Fe>ne.byteLength-qe)throw new RangeError("'length' is out of bounds");return new g(ne.slice(qe,qe+Fe))}if(g.isBuffer(ne)){var Ne=new g(ne.length);return ne.copy(Ne,0,0,ne.length),Ne}if(ne){if(Array.isArray(ne)||typeof ArrayBuffer<"u"&&ne.buffer instanceof ArrayBuffer||"length"in ne)return new g(ne);if(ne.type==="Buffer"&&Array.isArray(ne.data))return new g(ne.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},i.allocUnsafeSlow=function(ne){if(typeof g.allocUnsafeSlow=="function")return g.allocUnsafeSlow(ne);if(typeof ne!="number")throw new TypeError("size must be a number");if(ne>=Ee)throw new RangeError("size is too large");return new Te(ne)}}).call(i,function(){return this}())},function(e,i,c){(function(f){function m(Xe){return Array.isArray?Array.isArray(Xe):He(Xe)==="[object Array]"}i.isArray=m;function g(Xe){return typeof Xe=="boolean"}i.isBoolean=g;function Te(Xe){return Xe===null}i.isNull=Te;function Ee(Xe){return Xe==null}i.isNullOrUndefined=Ee;function Oe(Xe){return typeof Xe=="number"}i.isNumber=Oe;function ne(Xe){return typeof Xe=="string"}i.isString=ne;function De(Xe){return typeof Xe=="symbol"}i.isSymbol=De;function Ie(Xe){return Xe===void 0}i.isUndefined=Ie;function qe(Xe){return He(Xe)==="[object RegExp]"}i.isRegExp=qe;function Fe(Xe){return typeof Xe=="object"&&Xe!==null}i.isObject=Fe;function Ne(Xe){return He(Xe)==="[object Date]"}i.isDate=Ne;function Ve(Xe){return He(Xe)==="[object Error]"||Xe instanceof Error}i.isError=Ve;function Ue(Xe){return typeof Xe=="function"}i.isFunction=Ue;function We(Xe){return Xe===null||typeof Xe=="boolean"||typeof Xe=="number"||typeof Xe=="string"||typeof Xe=="symbol"||typeof Xe>"u"}i.isPrimitive=We,i.isBuffer=f.isBuffer;function He(Xe){return Object.prototype.toString.call(Xe)}}).call(i,c(1))},function(e,i){},function(e,i,c){c(2).Buffer;var f=c(17);e.exports=m;function m(){this.head=null,this.tail=null,this.length=0}m.prototype.push=function(g){var Te={data:g,next:null};this.length>0?this.tail.next=Te:this.head=Te,this.tail=Te,++this.length},m.prototype.unshift=function(g){var Te={data:g,next:this.head};this.length===0&&(this.tail=Te),this.head=Te,++this.length},m.prototype.shift=function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}},m.prototype.clear=function(){this.head=this.tail=null,this.length=0},m.prototype.join=function(g){if(this.length===0)return"";for(var Te=this.head,Ee=""+Te.data;Te=Te.next;)Ee+=g+Te.data;return Ee},m.prototype.concat=function(g){if(this.length===0)return f.alloc(0);if(this.length===1)return this.head.data;for(var Te=f.allocUnsafe(g>>>0),Ee=this.head,Oe=0;Ee;)Ee.data.copy(Te,Oe),Oe+=Ee.data.length,Ee=Ee.next;return Te}},function(e,i,c){var f=Object.keys||function(Ne){var Ve=[];for(var Ue in Ne)Ve.push(Ue);return Ve};e.exports=Ie;var m=c(15),g=c(18);g.inherits=c(12);var Te=c(14),Ee=c(22);g.inherits(Ie,Te);for(var Oe=f(Ee.prototype),ne=0;ne<Oe.length;ne++){var De=Oe[ne];Ie.prototype[De]||(Ie.prototype[De]=Ee.prototype[De])}function Ie(Ne){if(!(this instanceof Ie))return new Ie(Ne);Te.call(this,Ne),Ee.call(this,Ne),Ne&&Ne.readable===!1&&(this.readable=!1),Ne&&Ne.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,Ne&&Ne.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",qe)}function qe(){this.allowHalfOpen||this._writableState.ended||m(Fe,this)}function Fe(Ne){Ne.end()}},function(e,i,c){(function(f){e.exports=Ue;var m=c(15),g=!f.browser&&["v0.10","v0.9."].indexOf(f.version.slice(0,5))>-1?setImmediate:m,Te;Ue.WritableState=Ne;var Ee=c(18);Ee.inherits=c(12);var Oe={deprecate:c(23)},ne;(function(){try{ne=c(11)}catch{}finally{ne||(ne=c(8).EventEmitter)}})();var De=c(2).Buffer,Ie=c(17);Ee.inherits(Ue,ne);function qe(){}function Fe(bt,St,ct){this.chunk=bt,this.encoding=St,this.callback=ct,this.next=null}function Ne(bt,St){Te=Te||c(21),bt=bt||{},this.objectMode=!!bt.objectMode,St instanceof Te&&(this.objectMode=this.objectMode||!!bt.writableObjectMode);var ct=bt.highWaterMark,dt=this.objectMode?16:16*1024;this.highWaterMark=ct||ct===0?ct:dt,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var Pt=bt.decodeStrings===!1;this.decodeStrings=!Pt,this.defaultEncoding=bt.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ct){rt(St,Ct)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new ur(this)}Ne.prototype.getBuffer=function(){for(var St=this.bufferedRequest,ct=[];St;)ct.push(St),St=St.next;return ct},function(){try{Object.defineProperty(Ne.prototype,"buffer",{get:Oe.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch{}}();var Ve;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Ve=Function.prototype[Symbol.hasInstance],Object.defineProperty(Ue,Symbol.hasInstance,{value:function(bt){return Ve.call(this,bt)?!0:bt&&bt._writableState instanceof Ne}})):Ve=function(bt){return bt instanceof this};function Ue(bt){if(Te=Te||c(21),!Ve.call(Ue,this)&&!(this instanceof Te))return new Ue(bt);this._writableState=new Ne(bt,this),this.writable=!0,bt&&(typeof bt.write=="function"&&(this._write=bt.write),typeof bt.writev=="function"&&(this._writev=bt.writev)),ne.call(this)}Ue.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function We(bt,St){var ct=new Error("write after end");bt.emit("error",ct),m(St,ct)}function He(bt,St,ct,dt){var Pt=!0,Ct=!1;return ct===null?Ct=new TypeError("May not write null values to stream"):typeof ct!="string"&&ct!==void 0&&!St.objectMode&&(Ct=new TypeError("Invalid non-string/buffer chunk")),Ct&&(bt.emit("error",Ct),m(dt,Ct),Pt=!1),Pt}Ue.prototype.write=function(bt,St,ct){var dt=this._writableState,Pt=!1,Ct=De.isBuffer(bt);return typeof St=="function"&&(ct=St,St=null),Ct?St="buffer":St||(St=dt.defaultEncoding),typeof ct!="function"&&(ct=qe),dt.ended?We(this,ct):(Ct||He(this,dt,bt,ct))&&(dt.pendingcb++,Pt=ot(this,dt,Ct,bt,St,ct)),Pt},Ue.prototype.cork=function(){var bt=this._writableState;bt.corked++},Ue.prototype.uncork=function(){var bt=this._writableState;bt.corked&&(bt.corked--,!bt.writing&&!bt.corked&&!bt.finished&&!bt.bufferProcessing&&bt.bufferedRequest&&vt(this,bt))},Ue.prototype.setDefaultEncoding=function(St){if(typeof St=="string"&&(St=St.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((St+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+St);return this._writableState.defaultEncoding=St,this};function Xe(bt,St,ct){return!bt.objectMode&&bt.decodeStrings!==!1&&typeof St=="string"&&(St=Ie.from(St,ct)),St}function ot(bt,St,ct,dt,Pt,Ct){ct||(dt=Xe(St,dt,Pt),De.isBuffer(dt)&&(Pt="buffer"));var Kt=St.objectMode?1:dt.length;St.length+=Kt;var fr=St.length<St.highWaterMark;if(fr||(St.needDrain=!0),St.writing||St.corked){var Rr=St.lastBufferedRequest;St.lastBufferedRequest=new Fe(dt,Pt,Ct),Rr?Rr.next=St.lastBufferedRequest:St.bufferedRequest=St.lastBufferedRequest,St.bufferedRequestCount+=1}else tt(bt,St,!1,Kt,dt,Pt,Ct);return fr}function tt(bt,St,ct,dt,Pt,Ct,Kt){St.writelen=dt,St.writecb=Kt,St.writing=!0,St.sync=!0,ct?bt._writev(Pt,St.onwrite):bt._write(Pt,Ct,St.onwrite),St.sync=!1}function mt(bt,St,ct,dt,Pt){--St.pendingcb,ct?m(Pt,dt):Pt(dt),bt._writableState.errorEmitted=!0,bt.emit("error",dt)}function gt(bt){bt.writing=!1,bt.writecb=null,bt.length-=bt.writelen,bt.writelen=0}function rt(bt,St){var ct=bt._writableState,dt=ct.sync,Pt=ct.writecb;if(gt(ct),St)mt(bt,ct,dt,St,Pt);else{var Ct=Ze(ct);!Ct&&!ct.corked&&!ct.bufferProcessing&&ct.bufferedRequest&&vt(bt,ct),dt?g(pt,bt,ct,Ct,Pt):pt(bt,ct,Ct,Pt)}}function pt(bt,St,ct,dt){ct||it(bt,St),St.pendingcb--,dt(),Zt(bt,St)}function it(bt,St){St.length===0&&St.needDrain&&(St.needDrain=!1,bt.emit("drain"))}function vt(bt,St){St.bufferProcessing=!0;var ct=St.bufferedRequest;if(bt._writev&&ct&&ct.next){var dt=St.bufferedRequestCount,Pt=new Array(dt),Ct=St.corkedRequestsFree;Ct.entry=ct;for(var Kt=0;ct;)Pt[Kt]=ct,ct=ct.next,Kt+=1;tt(bt,St,!0,St.length,Pt,"",Ct.finish),St.pendingcb++,St.lastBufferedRequest=null,Ct.next?(St.corkedRequestsFree=Ct.next,Ct.next=null):St.corkedRequestsFree=new ur(St)}else{for(;ct;){var fr=ct.chunk,Rr=ct.encoding,cr=ct.callback,lt=St.objectMode?1:fr.length;if(tt(bt,St,!1,lt,fr,Rr,cr),ct=ct.next,St.writing)break}ct===null&&(St.lastBufferedRequest=null)}St.bufferedRequestCount=0,St.bufferedRequest=ct,St.bufferProcessing=!1}Ue.prototype._write=function(bt,St,ct){ct(new Error("_write() is not implemented"))},Ue.prototype._writev=null,Ue.prototype.end=function(bt,St,ct){var dt=this._writableState;typeof bt=="function"?(ct=bt,bt=null,St=null):typeof St=="function"&&(ct=St,St=null),bt!=null&&this.write(bt,St),dt.corked&&(dt.corked=1,this.uncork()),!dt.ending&&!dt.finished&&jt(this,dt,ct)};function Ze(bt){return bt.ending&&bt.length===0&&bt.bufferedRequest===null&&!bt.finished&&!bt.writing}function Ft(bt,St){St.prefinished||(St.prefinished=!0,bt.emit("prefinish"))}function Zt(bt,St){var ct=Ze(St);return ct&&(St.pendingcb===0?(Ft(bt,St),St.finished=!0,bt.emit("finish")):Ft(bt,St)),ct}function jt(bt,St,ct){St.ending=!0,Zt(bt,St),ct&&(St.finished?m(ct):bt.once("finish",ct)),St.ended=!0,bt.writable=!1}function ur(bt){var St=this;this.next=null,this.entry=null,this.finish=function(ct){var dt=St.entry;for(St.entry=null;dt;){var Pt=dt.callback;bt.pendingcb--,Pt(ct),dt=dt.next}bt.corkedRequestsFree?bt.corkedRequestsFree.next=St:bt.corkedRequestsFree=St}}}).call(i,c(6))},function(e,i){(function(c){e.exports=f;function f(g,Te){if(m("noDeprecation"))return g;var Ee=!1;function Oe(){if(!Ee){if(m("throwDeprecation"))throw new Error(Te);m("traceDeprecation")?console.trace(Te):console.warn(Te),Ee=!0}return g.apply(this,arguments)}return Oe}function m(g){try{if(!c.localStorage)return!1}catch{return!1}var Te=c.localStorage[g];return Te==null?!1:String(Te).toLowerCase()==="true"}}).call(i,function(){return this}())},function(e,i,c){var f=c(2).Buffer,m=f.isEncoding||function(De){switch(De&&De.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function g(De){if(De&&!m(De))throw new Error("Unknown encoding: "+De)}var Te=i.StringDecoder=function(De){switch(this.encoding=(De||"utf8").toLowerCase().replace(/[-_]/,""),g(De),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=Oe;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=ne;break;default:this.write=Ee;return}this.charBuffer=new f(6),this.charReceived=0,this.charLength=0};Te.prototype.write=function(De){for(var Ie="";this.charLength;){var qe=De.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:De.length;if(De.copy(this.charBuffer,this.charReceived,0,qe),this.charReceived+=qe,this.charReceived<this.charLength)return"";De=De.slice(qe,De.length),Ie=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var Ne=Ie.charCodeAt(Ie.length-1);if(Ne>=55296&&Ne<=56319){this.charLength+=this.surrogateSize,Ie="";continue}if(this.charReceived=this.charLength=0,De.length===0)return Ie;break}this.detectIncompleteChar(De);var Fe=De.length;this.charLength&&(De.copy(this.charBuffer,0,De.length-this.charReceived,Fe),Fe-=this.charReceived),Ie+=De.toString(this.encoding,0,Fe);var Fe=Ie.length-1,Ne=Ie.charCodeAt(Fe);if(Ne>=55296&&Ne<=56319){var Ve=this.surrogateSize;return this.charLength+=Ve,this.charReceived+=Ve,this.charBuffer.copy(this.charBuffer,Ve,0,Ve),De.copy(this.charBuffer,0,0,Ve),Ie.substring(0,Fe)}return Ie},Te.prototype.detectIncompleteChar=function(De){for(var Ie=De.length>=3?3:De.length;Ie>0;Ie--){var qe=De[De.length-Ie];if(Ie==1&&qe>>5==6){this.charLength=2;break}if(Ie<=2&&qe>>4==14){this.charLength=3;break}if(Ie<=3&&qe>>3==30){this.charLength=4;break}}this.charReceived=Ie},Te.prototype.end=function(De){var Ie="";if(De&&De.length&&(Ie=this.write(De)),this.charReceived){var qe=this.charReceived,Fe=this.charBuffer,Ne=this.encoding;Ie+=Fe.slice(0,qe).toString(Ne)}return Ie};function Ee(De){return De.toString(this.encoding)}function Oe(De){this.charReceived=De.length%2,this.charLength=this.charReceived?2:0}function ne(De){this.charReceived=De.length%3,this.charLength=this.charReceived?3:0}},function(e,i,c){e.exports=Ee;var f=c(21),m=c(18);m.inherits=c(12),m.inherits(Ee,f);function g(ne){this.afterTransform=function(De,Ie){return Te(ne,De,Ie)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function Te(ne,De,Ie){var qe=ne._transformState;qe.transforming=!1;var Fe=qe.writecb;if(!Fe)return ne.emit("error",new Error("no writecb in Transform class"));qe.writechunk=null,qe.writecb=null,Ie!=null&&ne.push(Ie),Fe(De);var Ne=ne._readableState;Ne.reading=!1,(Ne.needReadable||Ne.length<Ne.highWaterMark)&&ne._read(Ne.highWaterMark)}function Ee(ne){if(!(this instanceof Ee))return new Ee(ne);f.call(this,ne),this._transformState=new g(this);var De=this;this._readableState.needReadable=!0,this._readableState.sync=!1,ne&&(typeof ne.transform=="function"&&(this._transform=ne.transform),typeof ne.flush=="function"&&(this._flush=ne.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(Ie,qe){Oe(De,Ie,qe)}):Oe(De)})}Ee.prototype.push=function(ne,De){return this._transformState.needTransform=!1,f.prototype.push.call(this,ne,De)},Ee.prototype._transform=function(ne,De,Ie){throw new Error("_transform() is not implemented")},Ee.prototype._write=function(ne,De,Ie){var qe=this._transformState;if(qe.writecb=Ie,qe.writechunk=ne,qe.writeencoding=De,!qe.transforming){var Fe=this._readableState;(qe.needTransform||Fe.needReadable||Fe.length<Fe.highWaterMark)&&this._read(Fe.highWaterMark)}},Ee.prototype._read=function(ne){var De=this._transformState;De.writechunk!==null&&De.writecb&&!De.transforming?(De.transforming=!0,this._transform(De.writechunk,De.writeencoding,De.afterTransform)):De.needTransform=!0};function Oe(ne,De,Ie){if(De)return ne.emit("error",De);Ie!=null&&ne.push(Ie);var qe=ne._writableState,Fe=ne._transformState;if(qe.length)throw new Error("Calling transform done when ws.length != 0");if(Fe.transforming)throw new Error("Calling transform done when still transforming");return ne.push(null)}},function(e,i,c){e.exports=g;var f=c(25),m=c(18);m.inherits=c(12),m.inherits(g,f);function g(Te){if(!(this instanceof g))return new g(Te);f.call(this,Te)}g.prototype._transform=function(Te,Ee,Oe){Oe(null,Te)}},function(e,i,c){e.exports=c(22)},function(e,i,c){e.exports=c(21)},function(e,i,c){e.exports=c(25)},function(e,i,c){e.exports=c(26)},function(e,i,c){var f=c(32),m=c(33),g=c(38),Te=c(39),Ee=c(40),Oe=c(41),ne=c(42),De=Object.prototype.toString;function Ie(Ne){if(!(this instanceof Ie))return new Ie(Ne);this.options=m.assign({chunkSize:16384,windowBits:0,to:""},Ne||{});var Ve=this.options;Ve.raw&&Ve.windowBits>=0&&Ve.windowBits<16&&(Ve.windowBits=-Ve.windowBits,Ve.windowBits===0&&(Ve.windowBits=-15)),Ve.windowBits>=0&&Ve.windowBits<16&&!(Ne&&Ne.windowBits)&&(Ve.windowBits+=32),Ve.windowBits>15&&Ve.windowBits<48&&(Ve.windowBits&15||(Ve.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Oe,this.strm.avail_out=0;var Ue=f.inflateInit2(this.strm,Ve.windowBits);if(Ue!==Te.Z_OK)throw new Error(Ee[Ue]);this.header=new ne,f.inflateGetHeader(this.strm,this.header)}Ie.prototype.push=function(Ne,Ve){var Ue=this.strm,We=this.options.chunkSize,He=this.options.dictionary,Xe,ot,tt,mt,gt,rt,pt=!1;if(this.ended)return!1;ot=Ve===~~Ve?Ve:Ve===!0?Te.Z_FINISH:Te.Z_NO_FLUSH,typeof Ne=="string"?Ue.input=g.binstring2buf(Ne):De.call(Ne)==="[object ArrayBuffer]"?Ue.input=new Uint8Array(Ne):Ue.input=Ne,Ue.next_in=0,Ue.avail_in=Ue.input.length;do{if(Ue.avail_out===0&&(Ue.output=new m.Buf8(We),Ue.next_out=0,Ue.avail_out=We),Xe=f.inflate(Ue,Te.Z_NO_FLUSH),Xe===Te.Z_NEED_DICT&&He&&(typeof He=="string"?rt=g.string2buf(He):De.call(He)==="[object ArrayBuffer]"?rt=new Uint8Array(He):rt=He,Xe=f.inflateSetDictionary(this.strm,rt)),Xe===Te.Z_BUF_ERROR&&pt===!0&&(Xe=Te.Z_OK,pt=!1),Xe!==Te.Z_STREAM_END&&Xe!==Te.Z_OK)return this.onEnd(Xe),this.ended=!0,!1;Ue.next_out&&(Ue.avail_out===0||Xe===Te.Z_STREAM_END||Ue.avail_in===0&&(ot===Te.Z_FINISH||ot===Te.Z_SYNC_FLUSH))&&(this.options.to==="string"?(tt=g.utf8border(Ue.output,Ue.next_out),mt=Ue.next_out-tt,gt=g.buf2string(Ue.output,tt),Ue.next_out=mt,Ue.avail_out=We-mt,mt&&m.arraySet(Ue.output,Ue.output,tt,mt,0),this.onData(gt)):this.onData(m.shrinkBuf(Ue.output,Ue.next_out))),Ue.avail_in===0&&Ue.avail_out===0&&(pt=!0)}while((Ue.avail_in>0||Ue.avail_out===0)&&Xe!==Te.Z_STREAM_END);return Xe===Te.Z_STREAM_END&&(ot=Te.Z_FINISH),ot===Te.Z_FINISH?(Xe=f.inflateEnd(this.strm),this.onEnd(Xe),this.ended=!0,Xe===Te.Z_OK):(ot===Te.Z_SYNC_FLUSH&&(this.onEnd(Te.Z_OK),Ue.avail_out=0),!0)},Ie.prototype.onData=function(Ne){this.chunks.push(Ne)},Ie.prototype.onEnd=function(Ne){Ne===Te.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=Ne,this.msg=this.strm.msg};function qe(Ne,Ve){var Ue=new Ie(Ve);if(Ue.push(Ne,!0),Ue.err)throw Ue.msg||Ee[Ue.err];return Ue.result}function Fe(Ne,Ve){return Ve=Ve||{},Ve.raw=!0,qe(Ne,Ve)}i.Inflate=Ie,i.inflate=qe,i.inflateRaw=Fe,i.ungzip=qe},function(e,i,c){var f=c(33),m=c(34),g=c(35),Te=c(36),Ee=c(37),Oe=0,ne=1,De=2,Ie=4,qe=5,Fe=6,Ne=0,Ve=1,Ue=2,We=-2,He=-3,Xe=-4,ot=-5,tt=8,mt=1,gt=2,rt=3,pt=4,it=5,vt=6,Ze=7,Ft=8,Zt=9,jt=10,ur=11,bt=12,St=13,ct=14,dt=15,Pt=16,Ct=17,Kt=18,fr=19,Rr=20,cr=21,lt=22,yt=23,Xt=24,$t=25,dr=26,Je=27,At=28,Wt=29,xt=30,ht=31,Dt=32,er=852,nt=592,je=15,Ge=je;function ut(Jt){return(Jt>>>24&255)+(Jt>>>8&65280)+((Jt&65280)<<8)+((Jt&255)<<24)}function Et(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new f.Buf16(320),this.work=new f.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function It(Jt){var yr;return!Jt||!Jt.state?We:(yr=Jt.state,Jt.total_in=Jt.total_out=yr.total=0,Jt.msg="",yr.wrap&&(Jt.adler=yr.wrap&1),yr.mode=mt,yr.last=0,yr.havedict=0,yr.dmax=32768,yr.head=null,yr.hold=0,yr.bits=0,yr.lencode=yr.lendyn=new f.Buf32(er),yr.distcode=yr.distdyn=new f.Buf32(nt),yr.sane=1,yr.back=-1,Ne)}function zt(Jt){var yr;return!Jt||!Jt.state?We:(yr=Jt.state,yr.wsize=0,yr.whave=0,yr.wnext=0,It(Jt))}function tr(Jt,yr){var at,Or;return!Jt||!Jt.state||(Or=Jt.state,yr<0?(at=0,yr=-yr):(at=(yr>>4)+1,yr<48&&(yr&=15)),yr&&(yr<8||yr>15))?We:(Or.window!==null&&Or.wbits!==yr&&(Or.window=null),Or.wrap=at,Or.wbits=yr,zt(Jt))}function Sr(Jt,yr){var at,Or;return Jt?(Or=new Et,Jt.state=Or,Or.window=null,at=tr(Jt,yr),at!==Ne&&(Jt.state=null),at):We}function Lr(Jt){return Sr(Jt,Ge)}var Br=!0,Er,gr;function Qr(Jt){if(Br){var yr;for(Er=new f.Buf32(512),gr=new f.Buf32(32),yr=0;yr<144;)Jt.lens[yr++]=8;for(;yr<256;)Jt.lens[yr++]=9;for(;yr<280;)Jt.lens[yr++]=7;for(;yr<288;)Jt.lens[yr++]=8;for(Ee(ne,Jt.lens,0,288,Er,0,Jt.work,{bits:9}),yr=0;yr<32;)Jt.lens[yr++]=5;Ee(De,Jt.lens,0,32,gr,0,Jt.work,{bits:5}),Br=!1}Jt.lencode=Er,Jt.lenbits=9,Jt.distcode=gr,Jt.distbits=5}function Cr(Jt,yr,at,Or){var en,kr=Jt.state;return kr.window===null&&(kr.wsize=1<<kr.wbits,kr.wnext=0,kr.whave=0,kr.window=new f.Buf8(kr.wsize)),Or>=kr.wsize?(f.arraySet(kr.window,yr,at-kr.wsize,kr.wsize,0),kr.wnext=0,kr.whave=kr.wsize):(en=kr.wsize-kr.wnext,en>Or&&(en=Or),f.arraySet(kr.window,yr,at-Or,en,kr.wnext),Or-=en,Or?(f.arraySet(kr.window,yr,at-Or,Or,0),kr.wnext=Or,kr.whave=kr.wsize):(kr.wnext+=en,kr.wnext===kr.wsize&&(kr.wnext=0),kr.whave<kr.wsize&&(kr.whave+=en))),0}function sn(Jt,yr){var at,Or,en,kr,Pn,Tr,ln,or,ar,Zr,Nr,Dr,Wn,jn,fn=0,Jr,dn,wn,xn,mi,Mi,on,Ln,hn=new f.Buf8(4),Jn,zn,vn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Jt||!Jt.state||!Jt.output||!Jt.input&&Jt.avail_in!==0)return We;at=Jt.state,at.mode===bt&&(at.mode=St),Pn=Jt.next_out,en=Jt.output,ln=Jt.avail_out,kr=Jt.next_in,Or=Jt.input,Tr=Jt.avail_in,or=at.hold,ar=at.bits,Zr=Tr,Nr=ln,Ln=Ne;e:for(;;)switch(at.mode){case mt:if(at.wrap===0){at.mode=St;break}for(;ar<16;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}if(at.wrap&2&&or===35615){at.check=0,hn[0]=or&255,hn[1]=or>>>8&255,at.check=g(at.check,hn,2,0),or=0,ar=0,at.mode=gt;break}if(at.flags=0,at.head&&(at.head.done=!1),!(at.wrap&1)||(((or&255)<<8)+(or>>8))%31){Jt.msg="incorrect header check",at.mode=xt;break}if((or&15)!==tt){Jt.msg="unknown compression method",at.mode=xt;break}if(or>>>=4,ar-=4,on=(or&15)+8,at.wbits===0)at.wbits=on;else if(on>at.wbits){Jt.msg="invalid window size",at.mode=xt;break}at.dmax=1<<on,Jt.adler=at.check=1,at.mode=or&512?jt:bt,or=0,ar=0;break;case gt:for(;ar<16;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}if(at.flags=or,(at.flags&255)!==tt){Jt.msg="unknown compression method",at.mode=xt;break}if(at.flags&57344){Jt.msg="unknown header flags set",at.mode=xt;break}at.head&&(at.head.text=or>>8&1),at.flags&512&&(hn[0]=or&255,hn[1]=or>>>8&255,at.check=g(at.check,hn,2,0)),or=0,ar=0,at.mode=rt;case rt:for(;ar<32;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}at.head&&(at.head.time=or),at.flags&512&&(hn[0]=or&255,hn[1]=or>>>8&255,hn[2]=or>>>16&255,hn[3]=or>>>24&255,at.check=g(at.check,hn,4,0)),or=0,ar=0,at.mode=pt;case pt:for(;ar<16;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}at.head&&(at.head.xflags=or&255,at.head.os=or>>8),at.flags&512&&(hn[0]=or&255,hn[1]=or>>>8&255,at.check=g(at.check,hn,2,0)),or=0,ar=0,at.mode=it;case it:if(at.flags&1024){for(;ar<16;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}at.length=or,at.head&&(at.head.extra_len=or),at.flags&512&&(hn[0]=or&255,hn[1]=or>>>8&255,at.check=g(at.check,hn,2,0)),or=0,ar=0}else at.head&&(at.head.extra=null);at.mode=vt;case vt:if(at.flags&1024&&(Dr=at.length,Dr>Tr&&(Dr=Tr),Dr&&(at.head&&(on=at.head.extra_len-at.length,at.head.extra||(at.head.extra=new Array(at.head.extra_len)),f.arraySet(at.head.extra,Or,kr,Dr,on)),at.flags&512&&(at.check=g(at.check,Or,Dr,kr)),Tr-=Dr,kr+=Dr,at.length-=Dr),at.length))break e;at.length=0,at.mode=Ze;case Ze:if(at.flags&2048){if(Tr===0)break e;Dr=0;do on=Or[kr+Dr++],at.head&&on&&at.length<65536&&(at.head.name+=String.fromCharCode(on));while(on&&Dr<Tr);if(at.flags&512&&(at.check=g(at.check,Or,Dr,kr)),Tr-=Dr,kr+=Dr,on)break e}else at.head&&(at.head.name=null);at.length=0,at.mode=Ft;case Ft:if(at.flags&4096){if(Tr===0)break e;Dr=0;do on=Or[kr+Dr++],at.head&&on&&at.length<65536&&(at.head.comment+=String.fromCharCode(on));while(on&&Dr<Tr);if(at.flags&512&&(at.check=g(at.check,Or,Dr,kr)),Tr-=Dr,kr+=Dr,on)break e}else at.head&&(at.head.comment=null);at.mode=Zt;case Zt:if(at.flags&512){for(;ar<16;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}if(or!==(at.check&65535)){Jt.msg="header crc mismatch",at.mode=xt;break}or=0,ar=0}at.head&&(at.head.hcrc=at.flags>>9&1,at.head.done=!0),Jt.adler=at.check=0,at.mode=bt;break;case jt:for(;ar<32;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}Jt.adler=at.check=ut(or),or=0,ar=0,at.mode=ur;case ur:if(at.havedict===0)return Jt.next_out=Pn,Jt.avail_out=ln,Jt.next_in=kr,Jt.avail_in=Tr,at.hold=or,at.bits=ar,Ue;Jt.adler=at.check=1,at.mode=bt;case bt:if(yr===qe||yr===Fe)break e;case St:if(at.last){or>>>=ar&7,ar-=ar&7,at.mode=Je;break}for(;ar<3;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}switch(at.last=or&1,or>>>=1,ar-=1,or&3){case 0:at.mode=ct;break;case 1:if(Qr(at),at.mode=Rr,yr===Fe){or>>>=2,ar-=2;break e}break;case 2:at.mode=Ct;break;case 3:Jt.msg="invalid block type",at.mode=xt}or>>>=2,ar-=2;break;case ct:for(or>>>=ar&7,ar-=ar&7;ar<32;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}if((or&65535)!==(or>>>16^65535)){Jt.msg="invalid stored block lengths",at.mode=xt;break}if(at.length=or&65535,or=0,ar=0,at.mode=dt,yr===Fe)break e;case dt:at.mode=Pt;case Pt:if(Dr=at.length,Dr){if(Dr>Tr&&(Dr=Tr),Dr>ln&&(Dr=ln),Dr===0)break e;f.arraySet(en,Or,kr,Dr,Pn),Tr-=Dr,kr+=Dr,ln-=Dr,Pn+=Dr,at.length-=Dr;break}at.mode=bt;break;case Ct:for(;ar<14;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}if(at.nlen=(or&31)+257,or>>>=5,ar-=5,at.ndist=(or&31)+1,or>>>=5,ar-=5,at.ncode=(or&15)+4,or>>>=4,ar-=4,at.nlen>286||at.ndist>30){Jt.msg="too many length or distance symbols",at.mode=xt;break}at.have=0,at.mode=Kt;case Kt:for(;at.have<at.ncode;){for(;ar<3;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}at.lens[vn[at.have++]]=or&7,or>>>=3,ar-=3}for(;at.have<19;)at.lens[vn[at.have++]]=0;if(at.lencode=at.lendyn,at.lenbits=7,Jn={bits:at.lenbits},Ln=Ee(Oe,at.lens,0,19,at.lencode,0,at.work,Jn),at.lenbits=Jn.bits,Ln){Jt.msg="invalid code lengths set",at.mode=xt;break}at.have=0,at.mode=fr;case fr:for(;at.have<at.nlen+at.ndist;){for(;fn=at.lencode[or&(1<<at.lenbits)-1],Jr=fn>>>24,dn=fn>>>16&255,wn=fn&65535,!(Jr<=ar);){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}if(wn<16)or>>>=Jr,ar-=Jr,at.lens[at.have++]=wn;else{if(wn===16){for(zn=Jr+2;ar<zn;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}if(or>>>=Jr,ar-=Jr,at.have===0){Jt.msg="invalid bit length repeat",at.mode=xt;break}on=at.lens[at.have-1],Dr=3+(or&3),or>>>=2,ar-=2}else if(wn===17){for(zn=Jr+3;ar<zn;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}or>>>=Jr,ar-=Jr,on=0,Dr=3+(or&7),or>>>=3,ar-=3}else{for(zn=Jr+7;ar<zn;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}or>>>=Jr,ar-=Jr,on=0,Dr=11+(or&127),or>>>=7,ar-=7}if(at.have+Dr>at.nlen+at.ndist){Jt.msg="invalid bit length repeat",at.mode=xt;break}for(;Dr--;)at.lens[at.have++]=on}}if(at.mode===xt)break;if(at.lens[256]===0){Jt.msg="invalid code -- missing end-of-block",at.mode=xt;break}if(at.lenbits=9,Jn={bits:at.lenbits},Ln=Ee(ne,at.lens,0,at.nlen,at.lencode,0,at.work,Jn),at.lenbits=Jn.bits,Ln){Jt.msg="invalid literal/lengths set",at.mode=xt;break}if(at.distbits=6,at.distcode=at.distdyn,Jn={bits:at.distbits},Ln=Ee(De,at.lens,at.nlen,at.ndist,at.distcode,0,at.work,Jn),at.distbits=Jn.bits,Ln){Jt.msg="invalid distances set",at.mode=xt;break}if(at.mode=Rr,yr===Fe)break e;case Rr:at.mode=cr;case cr:if(Tr>=6&&ln>=258){Jt.next_out=Pn,Jt.avail_out=ln,Jt.next_in=kr,Jt.avail_in=Tr,at.hold=or,at.bits=ar,Te(Jt,Nr),Pn=Jt.next_out,en=Jt.output,ln=Jt.avail_out,kr=Jt.next_in,Or=Jt.input,Tr=Jt.avail_in,or=at.hold,ar=at.bits,at.mode===bt&&(at.back=-1);break}for(at.back=0;fn=at.lencode[or&(1<<at.lenbits)-1],Jr=fn>>>24,dn=fn>>>16&255,wn=fn&65535,!(Jr<=ar);){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}if(dn&&!(dn&240)){for(xn=Jr,mi=dn,Mi=wn;fn=at.lencode[Mi+((or&(1<<xn+mi)-1)>>xn)],Jr=fn>>>24,dn=fn>>>16&255,wn=fn&65535,!(xn+Jr<=ar);){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}or>>>=xn,ar-=xn,at.back+=xn}if(or>>>=Jr,ar-=Jr,at.back+=Jr,at.length=wn,dn===0){at.mode=dr;break}if(dn&32){at.back=-1,at.mode=bt;break}if(dn&64){Jt.msg="invalid literal/length code",at.mode=xt;break}at.extra=dn&15,at.mode=lt;case lt:if(at.extra){for(zn=at.extra;ar<zn;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}at.length+=or&(1<<at.extra)-1,or>>>=at.extra,ar-=at.extra,at.back+=at.extra}at.was=at.length,at.mode=yt;case yt:for(;fn=at.distcode[or&(1<<at.distbits)-1],Jr=fn>>>24,dn=fn>>>16&255,wn=fn&65535,!(Jr<=ar);){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}if(!(dn&240)){for(xn=Jr,mi=dn,Mi=wn;fn=at.distcode[Mi+((or&(1<<xn+mi)-1)>>xn)],Jr=fn>>>24,dn=fn>>>16&255,wn=fn&65535,!(xn+Jr<=ar);){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}or>>>=xn,ar-=xn,at.back+=xn}if(or>>>=Jr,ar-=Jr,at.back+=Jr,dn&64){Jt.msg="invalid distance code",at.mode=xt;break}at.offset=wn,at.extra=dn&15,at.mode=Xt;case Xt:if(at.extra){for(zn=at.extra;ar<zn;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}at.offset+=or&(1<<at.extra)-1,or>>>=at.extra,ar-=at.extra,at.back+=at.extra}if(at.offset>at.dmax){Jt.msg="invalid distance too far back",at.mode=xt;break}at.mode=$t;case $t:if(ln===0)break e;if(Dr=Nr-ln,at.offset>Dr){if(Dr=at.offset-Dr,Dr>at.whave&&at.sane){Jt.msg="invalid distance too far back",at.mode=xt;break}Dr>at.wnext?(Dr-=at.wnext,Wn=at.wsize-Dr):Wn=at.wnext-Dr,Dr>at.length&&(Dr=at.length),jn=at.window}else jn=en,Wn=Pn-at.offset,Dr=at.length;Dr>ln&&(Dr=ln),ln-=Dr,at.length-=Dr;do en[Pn++]=jn[Wn++];while(--Dr);at.length===0&&(at.mode=cr);break;case dr:if(ln===0)break e;en[Pn++]=at.length,ln--,at.mode=cr;break;case Je:if(at.wrap){for(;ar<32;){if(Tr===0)break e;Tr--,or|=Or[kr++]<<ar,ar+=8}if(Nr-=ln,Jt.total_out+=Nr,at.total+=Nr,Nr&&(Jt.adler=at.check=at.flags?g(at.check,en,Nr,Pn-Nr):m(at.check,en,Nr,Pn-Nr)),Nr=ln,(at.flags?or:ut(or))!==at.check){Jt.msg="incorrect data check",at.mode=xt;break}or=0,ar=0}at.mode=At;case At:if(at.wrap&&at.flags){for(;ar<32;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}if(or!==(at.total&4294967295)){Jt.msg="incorrect length check",at.mode=xt;break}or=0,ar=0}at.mode=Wt;case Wt:Ln=Ve;break e;case xt:Ln=He;break e;case ht:return Xe;case Dt:default:return We}return Jt.next_out=Pn,Jt.avail_out=ln,Jt.next_in=kr,Jt.avail_in=Tr,at.hold=or,at.bits=ar,(at.wsize||Nr!==Jt.avail_out&&at.mode<xt&&(at.mode<Je||yr!==Ie))&&Cr(Jt,Jt.output,Jt.next_out,Nr-Jt.avail_out),Zr-=Jt.avail_in,Nr-=Jt.avail_out,Jt.total_in+=Zr,Jt.total_out+=Nr,at.total+=Nr,at.wrap&&Nr&&(Jt.adler=at.check=at.flags?g(at.check,en,Nr,Jt.next_out-Nr):m(at.check,en,Nr,Jt.next_out-Nr)),Jt.data_type=at.bits+(at.last?64:0)+(at.mode===bt?128:0)+(at.mode===Rr||at.mode===dt?256:0),(Zr===0&&Nr===0||yr===Ie)&&Ln===Ne&&(Ln=ot),Ln}function Bn(Jt){if(!Jt||!Jt.state)return We;var yr=Jt.state;return yr.window&&(yr.window=null),Jt.state=null,Ne}function Un(Jt,yr){var at;return!Jt||!Jt.state||(at=Jt.state,!(at.wrap&2))?We:(at.head=yr,yr.done=!1,Ne)}function wr(Jt,yr){var at=yr.length,Or,en,kr;return!Jt||!Jt.state||(Or=Jt.state,Or.wrap!==0&&Or.mode!==ur)?We:Or.mode===ur&&(en=1,en=m(en,yr,at,0),en!==Or.check)?He:(kr=Cr(Jt,yr,at,at),kr?(Or.mode=ht,Xe):(Or.havedict=1,Ne))}i.inflateReset=zt,i.inflateReset2=tr,i.inflateResetKeep=It,i.inflateInit=Lr,i.inflateInit2=Sr,i.inflate=sn,i.inflateEnd=Bn,i.inflateGetHeader=Un,i.inflateSetDictionary=wr,i.inflateInfo="pako inflate (from Nodeca project)"},function(e,i){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(g){for(var Te=Array.prototype.slice.call(arguments,1);Te.length;){var Ee=Te.shift();if(Ee){if(typeof Ee!="object")throw new TypeError(Ee+"must be non-object");for(var Oe in Ee)Ee.hasOwnProperty(Oe)&&(g[Oe]=Ee[Oe])}}return g},i.shrinkBuf=function(g,Te){return g.length===Te?g:g.subarray?g.subarray(0,Te):(g.length=Te,g)};var f={arraySet:function(g,Te,Ee,Oe,ne){if(Te.subarray&&g.subarray){g.set(Te.subarray(Ee,Ee+Oe),ne);return}for(var De=0;De<Oe;De++)g[ne+De]=Te[Ee+De]},flattenChunks:function(g){var Te,Ee,Oe,ne,De,Ie;for(Oe=0,Te=0,Ee=g.length;Te<Ee;Te++)Oe+=g[Te].length;for(Ie=new Uint8Array(Oe),ne=0,Te=0,Ee=g.length;Te<Ee;Te++)De=g[Te],Ie.set(De,ne),ne+=De.length;return Ie}},m={arraySet:function(g,Te,Ee,Oe,ne){for(var De=0;De<Oe;De++)g[ne+De]=Te[Ee+De]},flattenChunks:function(g){return[].concat.apply([],g)}};i.setTyped=function(g){g?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,f)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,m))},i.setTyped(c)},function(e,i){function c(f,m,g,Te){for(var Ee=f&65535|0,Oe=f>>>16&65535|0,ne=0;g!==0;){ne=g>2e3?2e3:g,g-=ne;do Ee=Ee+m[Te++]|0,Oe=Oe+Ee|0;while(--ne);Ee%=65521,Oe%=65521}return Ee|Oe<<16|0}e.exports=c},function(e,i){function c(){for(var g,Te=[],Ee=0;Ee<256;Ee++){g=Ee;for(var Oe=0;Oe<8;Oe++)g=g&1?3988292384^g>>>1:g>>>1;Te[Ee]=g}return Te}var f=c();function m(g,Te,Ee,Oe){var ne=f,De=Oe+Ee;g^=-1;for(var Ie=Oe;Ie<De;Ie++)g=g>>>8^ne[(g^Te[Ie])&255];return g^-1}e.exports=m},function(e,i){var c=30,f=12;e.exports=function(g,Te){var Ee,Oe,ne,De,Ie,qe,Fe,Ne,Ve,Ue,We,He,Xe,ot,tt,mt,gt,rt,pt,it,vt,Ze,Ft,Zt,jt;Ee=g.state,Oe=g.next_in,Zt=g.input,ne=Oe+(g.avail_in-5),De=g.next_out,jt=g.output,Ie=De-(Te-g.avail_out),qe=De+(g.avail_out-257),Fe=Ee.dmax,Ne=Ee.wsize,Ve=Ee.whave,Ue=Ee.wnext,We=Ee.window,He=Ee.hold,Xe=Ee.bits,ot=Ee.lencode,tt=Ee.distcode,mt=(1<<Ee.lenbits)-1,gt=(1<<Ee.distbits)-1;e:do{Xe<15&&(He+=Zt[Oe++]<<Xe,Xe+=8,He+=Zt[Oe++]<<Xe,Xe+=8),rt=ot[He&mt];t:for(;;){if(pt=rt>>>24,He>>>=pt,Xe-=pt,pt=rt>>>16&255,pt===0)jt[De++]=rt&65535;else if(pt&16){it=rt&65535,pt&=15,pt&&(Xe<pt&&(He+=Zt[Oe++]<<Xe,Xe+=8),it+=He&(1<<pt)-1,He>>>=pt,Xe-=pt),Xe<15&&(He+=Zt[Oe++]<<Xe,Xe+=8,He+=Zt[Oe++]<<Xe,Xe+=8),rt=tt[He&gt];r:for(;;){if(pt=rt>>>24,He>>>=pt,Xe-=pt,pt=rt>>>16&255,pt&16){if(vt=rt&65535,pt&=15,Xe<pt&&(He+=Zt[Oe++]<<Xe,Xe+=8,Xe<pt&&(He+=Zt[Oe++]<<Xe,Xe+=8)),vt+=He&(1<<pt)-1,vt>Fe){g.msg="invalid distance too far back",Ee.mode=c;break e}if(He>>>=pt,Xe-=pt,pt=De-Ie,vt>pt){if(pt=vt-pt,pt>Ve&&Ee.sane){g.msg="invalid distance too far back",Ee.mode=c;break e}if(Ze=0,Ft=We,Ue===0){if(Ze+=Ne-pt,pt<it){it-=pt;do jt[De++]=We[Ze++];while(--pt);Ze=De-vt,Ft=jt}}else if(Ue<pt){if(Ze+=Ne+Ue-pt,pt-=Ue,pt<it){it-=pt;do jt[De++]=We[Ze++];while(--pt);if(Ze=0,Ue<it){pt=Ue,it-=pt;do jt[De++]=We[Ze++];while(--pt);Ze=De-vt,Ft=jt}}}else if(Ze+=Ue-pt,pt<it){it-=pt;do jt[De++]=We[Ze++];while(--pt);Ze=De-vt,Ft=jt}for(;it>2;)jt[De++]=Ft[Ze++],jt[De++]=Ft[Ze++],jt[De++]=Ft[Ze++],it-=3;it&&(jt[De++]=Ft[Ze++],it>1&&(jt[De++]=Ft[Ze++]))}else{Ze=De-vt;do jt[De++]=jt[Ze++],jt[De++]=jt[Ze++],jt[De++]=jt[Ze++],it-=3;while(it>2);it&&(jt[De++]=jt[Ze++],it>1&&(jt[De++]=jt[Ze++]))}}else if(pt&64){g.msg="invalid distance code",Ee.mode=c;break e}else{rt=tt[(rt&65535)+(He&(1<<pt)-1)];continue r}break}}else if(pt&64)if(pt&32){Ee.mode=f;break e}else{g.msg="invalid literal/length code",Ee.mode=c;break e}else{rt=ot[(rt&65535)+(He&(1<<pt)-1)];continue t}break}}while(Oe<ne&&De<qe);it=Xe>>3,Oe-=it,Xe-=it<<3,He&=(1<<Xe)-1,g.next_in=Oe,g.next_out=De,g.avail_in=Oe<ne?5+(ne-Oe):5-(Oe-ne),g.avail_out=De<qe?257+(qe-De):257-(De-qe),Ee.hold=He,Ee.bits=Xe}},function(e,i,c){var f=c(33),m=15,g=852,Te=592,Ee=0,Oe=1,ne=2,De=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Ie=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],qe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Fe=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(Ve,Ue,We,He,Xe,ot,tt,mt){var gt=mt.bits,rt=0,pt=0,it=0,vt=0,Ze=0,Ft=0,Zt=0,jt=0,ur=0,bt=0,St,ct,dt,Pt,Ct,Kt=null,fr=0,Rr,cr=new f.Buf16(m+1),lt=new f.Buf16(m+1),yt=null,Xt=0,$t,dr,Je;for(rt=0;rt<=m;rt++)cr[rt]=0;for(pt=0;pt<He;pt++)cr[Ue[We+pt]]++;for(Ze=gt,vt=m;vt>=1&&cr[vt]===0;vt--);if(Ze>vt&&(Ze=vt),vt===0)return Xe[ot++]=1<<24|64<<16|0,Xe[ot++]=1<<24|64<<16|0,mt.bits=1,0;for(it=1;it<vt&&cr[it]===0;it++);for(Ze<it&&(Ze=it),jt=1,rt=1;rt<=m;rt++)if(jt<<=1,jt-=cr[rt],jt<0)return-1;if(jt>0&&(Ve===Ee||vt!==1))return-1;for(lt[1]=0,rt=1;rt<m;rt++)lt[rt+1]=lt[rt]+cr[rt];for(pt=0;pt<He;pt++)Ue[We+pt]!==0&&(tt[lt[Ue[We+pt]]++]=pt);if(Ve===Ee?(Kt=yt=tt,Rr=19):Ve===Oe?(Kt=De,fr-=257,yt=Ie,Xt-=257,Rr=256):(Kt=qe,yt=Fe,Rr=-1),bt=0,pt=0,rt=it,Ct=ot,Ft=Ze,Zt=0,dt=-1,ur=1<<Ze,Pt=ur-1,Ve===Oe&&ur>g||Ve===ne&&ur>Te)return 1;for(;;){$t=rt-Zt,tt[pt]<Rr?(dr=0,Je=tt[pt]):tt[pt]>Rr?(dr=yt[Xt+tt[pt]],Je=Kt[fr+tt[pt]]):(dr=32+64,Je=0),St=1<<rt-Zt,ct=1<<Ft,it=ct;do ct-=St,Xe[Ct+(bt>>Zt)+ct]=$t<<24|dr<<16|Je|0;while(ct!==0);for(St=1<<rt-1;bt&St;)St>>=1;if(St!==0?(bt&=St-1,bt+=St):bt=0,pt++,--cr[rt]===0){if(rt===vt)break;rt=Ue[We+tt[pt]]}if(rt>Ze&&(bt&Pt)!==dt){for(Zt===0&&(Zt=Ze),Ct+=it,Ft=rt-Zt,jt=1<<Ft;Ft+Zt<vt&&(jt-=cr[Ft+Zt],!(jt<=0));)Ft++,jt<<=1;if(ur+=1<<Ft,Ve===Oe&&ur>g||Ve===ne&&ur>Te)return 1;dt=bt&Pt,Xe[dt]=Ze<<24|Ft<<16|Ct-ot|0}}return bt!==0&&(Xe[Ct+bt]=rt-Zt<<24|64<<16|0),mt.bits=Ze,0}},function(e,i,c){var f=c(33),m=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch{m=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{g=!1}for(var Te=new f.Buf8(256),Ee=0;Ee<256;Ee++)Te[Ee]=Ee>=252?6:Ee>=248?5:Ee>=240?4:Ee>=224?3:Ee>=192?2:1;Te[254]=Te[254]=1,i.string2buf=function(ne){var De,Ie,qe,Fe,Ne,Ve=ne.length,Ue=0;for(Fe=0;Fe<Ve;Fe++)Ie=ne.charCodeAt(Fe),(Ie&64512)===55296&&Fe+1<Ve&&(qe=ne.charCodeAt(Fe+1),(qe&64512)===56320&&(Ie=65536+(Ie-55296<<10)+(qe-56320),Fe++)),Ue+=Ie<128?1:Ie<2048?2:Ie<65536?3:4;for(De=new f.Buf8(Ue),Ne=0,Fe=0;Ne<Ue;Fe++)Ie=ne.charCodeAt(Fe),(Ie&64512)===55296&&Fe+1<Ve&&(qe=ne.charCodeAt(Fe+1),(qe&64512)===56320&&(Ie=65536+(Ie-55296<<10)+(qe-56320),Fe++)),Ie<128?De[Ne++]=Ie:Ie<2048?(De[Ne++]=192|Ie>>>6,De[Ne++]=128|Ie&63):Ie<65536?(De[Ne++]=224|Ie>>>12,De[Ne++]=128|Ie>>>6&63,De[Ne++]=128|Ie&63):(De[Ne++]=240|Ie>>>18,De[Ne++]=128|Ie>>>12&63,De[Ne++]=128|Ie>>>6&63,De[Ne++]=128|Ie&63);return De};function Oe(ne,De){if(De<65537&&(ne.subarray&&g||!ne.subarray&&m))return String.fromCharCode.apply(null,f.shrinkBuf(ne,De));for(var Ie="",qe=0;qe<De;qe++)Ie+=String.fromCharCode(ne[qe]);return Ie}i.buf2binstring=function(ne){return Oe(ne,ne.length)},i.binstring2buf=function(ne){for(var De=new f.Buf8(ne.length),Ie=0,qe=De.length;Ie<qe;Ie++)De[Ie]=ne.charCodeAt(Ie);return De},i.buf2string=function(ne,De){var Ie,qe,Fe,Ne,Ve=De||ne.length,Ue=new Array(Ve*2);for(qe=0,Ie=0;Ie<Ve;){if(Fe=ne[Ie++],Fe<128){Ue[qe++]=Fe;continue}if(Ne=Te[Fe],Ne>4){Ue[qe++]=65533,Ie+=Ne-1;continue}for(Fe&=Ne===2?31:Ne===3?15:7;Ne>1&&Ie<Ve;)Fe=Fe<<6|ne[Ie++]&63,Ne--;if(Ne>1){Ue[qe++]=65533;continue}Fe<65536?Ue[qe++]=Fe:(Fe-=65536,Ue[qe++]=55296|Fe>>10&1023,Ue[qe++]=56320|Fe&1023)}return Oe(Ue,qe)},i.utf8border=function(ne,De){var Ie;for(De=De||ne.length,De>ne.length&&(De=ne.length),Ie=De-1;Ie>=0&&(ne[Ie]&192)===128;)Ie--;return Ie<0||Ie===0?De:Ie+Te[ne[Ie]]>De?Ie:De}},function(e,i){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,i){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,i){function c(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=c},function(e,i){function c(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}e.exports=c}])})})(browserfs$2);var browserfsExports=browserfs$2.exports;const browserfs=getDefaultExportFromCjs(browserfsExports),browserfs$1=_mergeNamespaces({__proto__:null,default:browserfs},[browserfsExports]),raUserdataDir$1="/home/web_user/retroarch/userdata";function createEmscriptenFS({ERRNO_CODES:h,FS:o,PATH:e}){const i=new browserfsExports.FileSystem.InMemory,c=new browserfsExports.FileSystem.MountableFileSystem;try{c.umount(raUserdataDir$1)}catch{}return c.mount(raUserdataDir$1,i),browserfsExports.initialize(c),new browserfsExports.EmscriptenFS(o,e,h)}function getEmscriptenModuleOverrides(h){let o;const e=new Promise(c=>{o=c});return{noExitRuntime:!1,noInitialRun:!0,locateFile(c){return c},async monitorRunDependencies(c){return c===0&&o(),await e},print(...c){console.info(...c)},printErr(...c){console.error(...c)},quit(c,f){c&&console.info(c,f)},...h}}const{Buffer:Buffer$1}=browserfsExports.BFSRequire("buffer"),path=browserfsExports.BFSRequire("path"),{basename,dirname,extname,join,relative}=path;function urlBaseName(h){let o=h;try{o=new URL(h).pathname}catch{}const e=basename(o);try{return decodeURIComponent(e)}catch{return e}}function isAbsoluteUrl(h){return!h||typeof h!="string"?!1:["http://","https://","//","data:","blob:"].some(e=>h.startsWith(e))}async function blobToBuffer(h){const o=await h.arrayBuffer();return Buffer$1.from(o)}function stringToBuffer(h){return Buffer$1.from(h,"utf8")}function updateStyle(h,o){if(h)for(const e in o){const i=o[e];h.style[e]=i||null}}function delay(h){return new Promise(o=>{setTimeout(o,h)})}function isGlobalScript(h){return h.startsWith("var Module")}function isEsmScript(h){return h.includes("import.meta.url")}function patchCoreJs({js:h,name:o}){let e=h;return isGlobalScript(h)?e=`export function getEmscripten({ Module }) {
        ${h};
        Module.FS = FS;
        Module.PATH = PATH;
        Module.ERRNO_CODES = ERRNO_CODES;
        return { AL, Browser, JSEvents, Module, exit: _emscripten_force_exit }
      }`:isEsmScript(h)&&(e=`${h.replace("readyPromiseResolve(Module)","readyPromiseResolve({ AL, Browser, JSEvents, Module, exit: _emscripten_force_exit })")};
      export function getEmscripten({ Module }) {
        return (libretro_${o} || ${o})(Module)
      }
    `),e}async function importCoreJsAsESM({js,name}){const jsContent=patchCoreJs({js,name}),jsBlob=new Blob([jsContent],{type:"application/javascript"}),jsBlobUrl=URL.createObjectURL(jsBlob);if(!jsBlobUrl)throw new Error("invalid jsBlob");try{return await __vitePreload(()=>import(jsBlobUrl),[])}catch{return await eval("import(jsBlobUrl)")}finally{URL.revokeObjectURL(jsBlobUrl)}}function isNil(h){return h==null}function isPlainObject(h){if(isNil(h))return!1;const{constructor:o}=h;return o===Object||!o}function mergeSourceToTarget(h,o){for(const e in o)if(Object.prototype.hasOwnProperty.call(o,e)){const i=h[e],c=o[e];isNil(i)?h[e]=c:Array.isArray(i)&&Array.isArray(c)?h[e]=[...i,...c]:isPlainObject(i)&&isPlainObject(c)?(h[e]=isPlainObject(i)?h[e]:{},mergeSourceToTarget(h[e],c)):h[e]=c}}function merge(h,...o){for(const e of o)mergeSourceToTarget(h,e)}function checkIsAborted(h){if(h!=null&&h.aborted)throw new Error("Launch aborted")}function padZero(h){return(h<10?"0":"")+h}const encoder=new TextEncoder,raUserdataDir="/home/web_user/retroarch/userdata",raBundleDir="/home/web_user/retroarch/bundle",raContentDir=join(raUserdataDir,"content"),raSystemDir=join(raUserdataDir,"system"),raConfigDir=join(raUserdataDir,"config"),raShaderDir=join(raBundleDir,"shaders","shaders_glsl"),raConfigPath=join(raUserdataDir,"retroarch.cfg"),raCoreConfigPath=join(raUserdataDir,"retroarch-core-options.cfg");class Emulator{constructor(o){__publicField(this,"canvasInitialSize",{height:0,width:0}),__publicField(this,"gameStatus","initial"),__publicField(this,"messageQueue",[]),__publicField(this,"options"),__publicField(this,"browserFS"),__publicField(this,"emscripten"),this.options=o}clearStateFile(){const{Module:o}=this.getEmscripten(),{FS:e}=o;try{e.unlink(this.stateFileName),e.unlink(this.stateThumbnailFileName)}catch{}}fireKeyboardEvent(o,e){const{JSEvents:i}=this.getEmscripten();for(const{eventListenerFunc:c,eventTypeString:f}of i.eventHandlers)if(f===o)try{c({code:e,target:this.options.element})}catch{}}getCurrentRetroarchConfig(){const{Module:o}=this.getEmscripten(),{FS:e}=o,i=e.readFile(raConfigPath,{encoding:"utf8"});return ini$1.parse(i)}getElementSize(){const{element:o,size:e}=this.options;return!e||e==="auto"?{height:o.offsetHeight,width:o.offsetWidth}:e}getKeyboardCode(o,e=1){const i=this.getCurrentRetroarchConfig(),c=`input_player${e}_${o}`,f=i[c];if(!f||f==="nul")return;const{length:m}=f;return m===1?`Key${f.toUpperCase()}`:f[0]==="f"&&(m===2||m===3)?f.toUpperCase():m===4&&f.startsWith("num")?`Numpad${f.at(-1)}`:m===7&&f.startsWith("keypad")?`Digit${f.at(-1)}`:keyboardCodeMap[f]||""}guessScreenshotFileName(){const o=new Date,e=o.getFullYear()%1e3,i=padZero(o.getMonth()+1),c=padZero(o.getDate()),f=padZero(o.getHours()),m=padZero(o.getMinutes()),g=padZero(o.getSeconds()),Te=`${e}${i}${c}-${f}${m}${g}`;return`${this.romBaseName}-${Te}.png`}keyboardDown(o){this.fireKeyboardEvent("keydown",o)}async keyboardPress(o,e=100){this.keyboardDown(o),await delay(e),this.keyboardUp(o)}keyboardUp(o){this.fireKeyboardEvent("keyup",o)}postRun(){var o;this.resize(this.canvasInitialSize);for(const e of((o=navigator.getGamepads)==null?void 0:o.call(navigator))??[])e&&window.dispatchEvent(new GamepadEvent("gamepadconnected",{gamepad:e}));this.updateKeyboardEventHandlers()}get romBaseName(){const{rom:[{fileName:o}]}=this.options;return o.slice(0,o.lastIndexOf("."))}runMain(){checkIsAborted(this.options.signal);const{Module:o}=this.getEmscripten(),{arguments:e=[]}=o,{rom:i,signal:c}=this.options;if(!o.arguments&&i.length>0){const[{fileName:f}]=i;e.push(join(raContentDir,f))}o.callMain(e),c==null||c.addEventListener("abort",()=>{this.exit()}),this.gameStatus="running",this.postRun()}async setupEmscripten(){var o;typeof window=="object"&&(window.setImmediate??(window.setImmediate=window.setTimeout));const{core:e,element:i,emscriptenModule:c,signal:f}=this.options,{wasm:m}=e,g={canvas:i,preRun:[],wasmBinary:m,...c},Te=getEmscriptenModuleOverrides(g);(o=Te.preRun)==null||o.push(()=>Te.FS.init(()=>this.stdin()));const{getEmscripten:Ee}=await importCoreJsAsESM(e),Oe=await Ee({Module:Te});this.emscripten=Oe;const{Module:ne}=Oe;await ne.monitorRunDependencies(),checkIsAborted(f),await this.setupFileSystem()}async setupFileSystem(){const{Module:o}=this.getEmscripten(),{ERRNO_CODES:e,FS:i,PATH:c}=o,{bios:f,rom:m,signal:g,state:Te}=this.options,Ee=createEmscriptenFS({ERRNO_CODES:e,FS:i,PATH:c});this.browserFS=Ee,i.mount(Ee,{root:"/home"},"/home"),m.length>0&&i.mkdirTree(raContentDir),f.length>0&&i.mkdirTree(raSystemDir),Te&&i.mkdirTree(this.stateFileDirectory);const Oe=100;let ne=0;for(;!o.asm&&ne<Oe;)await delay(10),checkIsAborted(g),ne+=5;const De=[];if(De.push(...m.map(Ie=>this.writeBlobToDirectory({...Ie,directory:raContentDir})),...f.map(Ie=>this.writeBlobToDirectory({...Ie,directory:raSystemDir}))),Te){const Ie=this.writeBlobToDirectory({directory:this.stateFileDirectory,fileContent:Te,fileName:`${this.romBaseName}.state.auto`});De.push(Ie)}await Promise.all(De),checkIsAborted(g)}async setupRaConfigFile(){this.writeConfigFile({config:this.options.retroarchConfig,path:raConfigPath}),this.writeConfigFile({config:this.options.retroarchCoreConfig,path:raCoreConfigPath}),await this.setupRaShaderFile()}async setupRaShaderFile(){const{shader:o}=this.options;if(o.length===0)return;const e=o.filter(c=>c.fileName.endsWith(".glslp"));if(e.length===0)return;const i=e.map(c=>`#reference "${join(raShaderDir,c.fileName)}"`).join(`
`);this.writeTextToDirectory({directory:raConfigDir,fileContent:i,fileName:"global.glslp"}),await Promise.all(o.map(async({fileContent:c,fileName:f})=>{const m=f.endsWith(".glslp")?raShaderDir:join(raShaderDir,"shaders");await this.writeBlobToDirectory({directory:m,fileContent:c,fileName:f})}))}get stateFileDirectory(){const{core:o}=this.options,e=coreInfoMap[o.name].corename;if(!e)throw new Error(`invalid core name: ${o.name}`);return join(raUserdataDir,"states",e)}get stateFileName(){return join(this.stateFileDirectory,`${this.romBaseName}.state`)}get stateThumbnailFileName(){return`${this.stateFileName}.png`}stdin(){const{messageQueue:o}=this;for(;o.length>0;){const e=o[0][0],i=o[0][1];if(i>=e.length)o.shift();else return o[0][1]=i+1,e[i]}return null}updateKeyboardEventHandlers(){const{JSEvents:o}=this.getEmscripten(),{element:e,respondToGlobalEvents:i}=this.options;i||(e.getAttribute("tabindex")||(e.tabIndex=-1),e.focus(),e.addEventListener("click",()=>{e.focus()}));const c=new Set(["keyup","keydown","keypress"]),f=o.eventHandlers.filter(({eventTypeString:m,target:g})=>c.has(m)&&(g===document||g===e));for(const m of f){const{eventTypeString:g,handlerFunc:Te,target:Ee}=m;o.registerOrRemoveHandler({eventTypeString:g,target:Ee}),o.registerOrRemoveHandler({...m,handlerFunc:(...Oe)=>{const[ne]=Oe;(i||(ne==null?void 0:ne.target)===e)&&Te(...Oe)},target:i?document:e})}}async waitForEmscriptenFile(o){const{Module:e}=this.getEmscripten(),{FS:i}=e,c=30;let f,m=!1,g=0;for(;g<=c&&!m;){const Te=Math.min(100*2**g,1e3);await delay(Te);try{const Ee=i.readFile(o).buffer;m=(f==null?void 0:f.byteLength)>0&&(f==null?void 0:f.byteLength)===Ee.byteLength,f=Ee}catch(Ee){console.warn(Ee)}g+=1}if(!m)throw new Error("fs timeout");return f}async writeBlobToDirectory({directory:o,fileContent:e,fileName:i}){const{Module:c}=this.getEmscripten(),{FS:f}=c,m=await blobToBuffer(e);f.createDataFile("/",i,m,!0,!1);const g="binary",Te=f.readFile(i,{encoding:g});f.mkdirTree(o),f.writeFile(join(o,i),Te,{encoding:g}),f.unlink(i)}writeConfigFile({config:o,path:e}){const{Module:i}=this.getEmscripten(),{FS:c}=i,f=e.slice(0,e.lastIndexOf("/"));c.mkdirTree(f);for(const Ee in o)o[Ee]=`__${o[Ee]}__`;let m=ini$1.stringify(o,{platform:"linux",whitespace:!0});m=m.replaceAll("__",'"');const g=basename(e),Te=dirname(e);this.writeTextToDirectory({directory:Te,fileContent:m,fileName:g})}writeTextToDirectory({directory:o,fileContent:e,fileName:i}){const{Module:c}=this.getEmscripten(),{FS:f}=c,m=stringToBuffer(e);f.createDataFile("/",i,m,!0,!1);const g="binary",Te=f.readFile(i,{encoding:g});f.mkdirTree(o),f.writeFile(join(o,i),Te,{encoding:g}),f.unlink(i)}exit(o=0){const{emscripten:e}=this;if(e){const{exit:i,JSEvents:c,Module:f}=this.getEmscripten(),{FS:m}=f;i(o),m.unmount("/home"),c.removeAllEventListeners()}}getEmscripten(){if(!this.emscripten)throw new Error("emulator is not ready");return this.emscripten}getOptions(){return this.options}async launch(){await this.setupEmscripten(),checkIsAborted(this.options.signal),await this.setupRaConfigFile(),checkIsAborted(this.options.signal);const{element:o,respondToGlobalEvents:e,signal:i,style:c,waitForInteraction:f}=this.options;if(updateStyle(o,c),o.isConnected||(document.body.append(o),i==null||i.addEventListener("abort",()=>{o==null||o.remove()})),this.canvasInitialSize=this.getElementSize(),e===!1){(!o.tabIndex||o.tabIndex===-1)&&(o.tabIndex=0);const{activeElement:Oe}=document;o.focus(),i==null||i.addEventListener("abort",()=>{Oe instanceof HTMLElement&&Oe.focus()})}const{beforeLaunch:m,nostalgist:g,onLaunch:Te}=this.options;m&&await m(g);const Ee=async()=>{this.runMain(),Te&&await Te(g)};f?f({done:Ee}):Ee()}async loadState(o){this.clearStateFile();const{Module:e}=this.getEmscripten(),{FS:i}=e,c=await blobToBuffer(o);i.writeFile(this.stateFileName,c),await this.waitForEmscriptenFile(this.stateFileName),this.sendCommand("LOAD_STATE")}pause(){this.gameStatus==="running"&&this.sendCommand("PAUSE_TOGGLE"),this.gameStatus="paused"}async press(o,e=1,i=100){const c=this.getKeyboardCode(o,e);c&&await this.keyboardPress(c,i)}pressDown(o,e=1){const i=this.getKeyboardCode(o,e);i&&this.keyboardDown(i)}pressUp(o,e=1){const i=this.getKeyboardCode(o,e);i&&this.keyboardUp(i)}resize({height:o,width:e}){const{Module:i}=this.getEmscripten();typeof e=="number"&&typeof o=="number"&&i.setCanvasSize(e,o)}restart(){this.sendCommand("RESET"),this.resume()}resume(){this.gameStatus==="paused"&&this.sendCommand("PAUSE_TOGGLE"),this.gameStatus="running"}async saveState(){this.clearStateFile(),this.sendCommand("SAVE_STATE");const o=this.options.retroarchConfig.savestate_thumbnail_enable;let e,i;o?[e,i]=await Promise.all([this.waitForEmscriptenFile(this.stateFileName),this.waitForEmscriptenFile(this.stateThumbnailFileName)]):e=await this.waitForEmscriptenFile(this.stateFileName),this.clearStateFile();const c=new Blob([e],{type:"application/octet-stream"}),f=i?new Blob([i],{type:"image/png"}):void 0;return{state:c,thumbnail:f}}async screenshot(){this.sendCommand("SCREENSHOT");const o=join(raUserdataDir,"screenshots"),e=this.guessScreenshotFileName(),i=join(o,e),c=await this.waitForEmscriptenFile(i),{Module:f}=this.getEmscripten(),{FS:m}=f;m.unlink(i);const g={type:"image/png"};return new Blob([c],g)}sendCommand(o){const e=encoder.encode(`${o}
`);this.messageQueue.push([e,0])}}const defaultRetroarchConfig={menu_driver:"rgui",notification_show_when_menu_is_alive:!0,savestate_auto_load:!0,savestate_thumbnail_enable:!0,stdin_cmd_enable:!0,video_shader_enable:!0,input_audio_mute:"nul",input_cheat_index_minus:"nul",input_cheat_index_plus:"nul",input_cheat_toggle:"nul",input_desktop_menu_toggle:"nul",input_exit_emulator:"nul",input_fps_toggle:"nul",input_frame_advance:"nul",input_game_focus_toggle:"nul",input_grab_mouse_toggle:"nul",input_hold_fast_forward:"nul",input_hold_slowmotion:"nul",input_load_state:"nul",input_netplay_game_watch:"nul",input_netplay_player_chat:"nul",input_pause_toggle:"nul",input_reset:"nul",input_rewind:"nul",input_save_state:"nul",input_screenshot:"nul",input_shader_next:"nul",input_shader_prev:"nul",input_shader_toggle:"nul",input_state_slot_decrease:"nul",input_state_slot_increase:"nul",input_toggle_fast_forward:"nul",input_toggle_fullscreen:"nul",input_volume_down:"nul",input_volume_up:"nul",input_player1_analog_dpad_mode:1,input_player2_analog_dpad_mode:1,input_player3_analog_dpad_mode:1,input_player4_analog_dpad_mode:1},cdnBaseUrl="https://cdn.jsdelivr.net/gh",coreRepo="arianrhodsandlot/retroarch-emscripten-build",coreVersion="v1.19.1",coreDirectory="retroarch",shaderRepo="libretro/glsl-shaders",shaderVersion="bc8df9";function getDefaultOptions(){return{element:"",retroarchConfig:defaultRetroarchConfig,retroarchCoreConfig:{},runEmulatorManually:!1,resolveCoreJs(o){return`${cdnBaseUrl}/${coreRepo}@${coreVersion}/${coreDirectory}/${o}_libretro.js`},resolveCoreWasm(o){return`${cdnBaseUrl}/${coreRepo}@${coreVersion}/${coreDirectory}/${o}_libretro.wasm`},resolveRom(o){if(typeof o!="string")return o||[];if(isAbsoluteUrl(o))return o;let e="";if(o.endsWith(".nes")?e="retrobrews/nes-games":o.endsWith(".sfc")?e="retrobrews/snes-games":o.endsWith(".gb")||o.endsWith(".gbc")?e="retrobrews/gbc-games":o.endsWith(".gba")?e="retrobrews/gba-games":o.endsWith(".sms")?e="retrobrews/sms-games":(o.endsWith(".md")||o.endsWith(".bin"))&&(e="retrobrews/md-games"),e){const i=encodeURIComponent(o);return`${cdnBaseUrl}/${e}@master/${i}`}return o||[]},resolveBios(o){return o||[]},resolveShader(o){if(!o)return[];const e=`${cdnBaseUrl}/${shaderRepo}@${shaderVersion}/${o}.glslp`,i=o.split(path.sep);i.splice(-1,0,"shaders");const c=`${cdnBaseUrl}/${shaderRepo}@${shaderVersion}/${i.join(path.sep)}.glsl`;return[e,c]}}}const vendors={browserfs:browserfs$1,ini:ini$1},_Nostalgist=class Gn{constructor(o){__publicField(this,"emulator"),__publicField(this,"emulatorOptions"),__publicField(this,"options");const e={...Gn.globalOptions},i={...o},c={};merge(c,e,i),this.options=c}static configure(o){merge(Gn.globalOptions,o)}static async gb(o){return await Gn.launchSystem("gb",o)}static async gba(o){return await Gn.launchSystem("gba",o)}static async gbc(o){return await Gn.launchSystem("gbc",o)}static async launch(o){const e=new Gn(o);return await e.launch(),e}static async megadrive(o){return await Gn.launchSystem("megadrive",o)}static async nes(o){return await Gn.launchSystem("nes",o)}static resetToDefault(){Gn.configure(getDefaultOptions())}static async snes(o){return await Gn.launchSystem("snes",o)}async fetch(o){const{signal:e=null}=this.options;return await fetch(o,{signal:e})}async getBiosOption(){const{bios:o,resolveBios:e}=this.options;if(!o)return[];const i=Array.isArray(o)?o:[o];return await Promise.all(i.map(c=>this.resolveFile(c,e)))}static getCoreForSystem(o){return systemCoreMap[o]}async getCoreOption(){const{core:o,resolveCoreJs:e,resolveCoreWasm:i}=this.options;let c;if(typeof o=="string"){const[Ee,Oe]=await Promise.all([e(o,this.options),i(o,this.options)]);c={js:Ee,name:o,wasm:Oe}}else c=o;let{js:f,name:m,wasm:g}=c;const Te=[];return typeof f=="string"&&Te.push((async()=>{f=await(await this.fetch(f)).text()})()),typeof g=="string"&&Te.push((async()=>{g=await(await this.fetch(g)).arrayBuffer()})()),Te.length>0&&await Promise.all(Te),{js:f,name:m,wasm:g}}getElementOption(){if(typeof document!="object")throw new TypeError("document must be an object");let{element:o}=this.options;if(typeof o=="string"&&o){const e=document.body.querySelector(o);if(!e)throw new Error(`can not find element "${o}"`);if(!(e instanceof HTMLCanvasElement))throw new TypeError(`element "${o}" is not a canvas element`);o=e}if(o||(o=document.createElement("canvas")),o instanceof HTMLCanvasElement)return o.id="canvas",o;throw new TypeError("invalid element")}getRetroarchCoreOption(){const o={};return merge(o,Gn.globalOptions.retroarchCoreConfig,this.options.retroarchCoreConfig),o}getRetroarchOption(){const o={};return merge(o,Gn.globalOptions.retroarchConfig,this.options.retroarchConfig),o}async getRomOption(){const{resolveRom:o,rom:e}=this.options;if(!e)return[];const i=Array.isArray(e)?e:[e];return await Promise.all(i.map(c=>this.resolveFile(c,o)))}async getShaderOption(){const{resolveShader:o,shader:e}=this.options;if(!e)return[];const i=await o(e,this.options);return Array.isArray(i)?i.length>0?await Promise.all(i.map(c=>this.resolveFile(c))):[]:i?[await this.resolveFile(i)]:[]}getStyleOption(){const{element:o,style:e}=this.options,i={backgroundColor:"black",imageRendering:"pixelated"};if(o)return merge(i,e),i;const c={height:"100%",left:"0",position:"fixed",top:"0",width:"100%",zIndex:"1"};return merge(c,i,e),c}async launch(){await this.loadEmulatorOptions(),checkIsAborted(this.options.signal),this.loadEmulator(),this.options.runEmulatorManually||await this.launchEmulator()}static async launchSystem(o,e){const i=typeof e=="string"||e instanceof File||"fileName"in e&&"fileContent"in e?{rom:e}:e,c=Gn.getCoreForSystem(o);return await Gn.launch({...i,core:c})}loadEmulator(){const o=this.getEmulatorOptions(),e=new Emulator(o);this.emulator=e}async loadEmulatorOptions(){const{beforeLaunch:o,emscriptenModule:e={},onLaunch:i,respondToGlobalEvents:c=!0,signal:f,size:m="auto",state:g,waitForInteraction:Te}=this.options,Ee=this.getElementOption(),Oe=this.getStyleOption(),ne=this.getRetroarchOption(),De=this.getRetroarchCoreOption(),[Ie,qe,Fe,Ne]=await Promise.all([this.getCoreOption(),this.getRomOption(),this.getBiosOption(),this.getShaderOption()]);checkIsAborted(f);const Ve={beforeLaunch:o,bios:Fe,core:Ie,element:Ee,emscriptenModule:e,nostalgist:this,onLaunch:i,respondToGlobalEvents:c,retroarchConfig:ne,retroarchCoreConfig:De,rom:qe,shader:Ne,signal:f,size:m,state:g,style:Oe,waitForInteraction:Te};this.emulatorOptions=Ve}async resolveFile(o,e){let i="",c;if(o instanceof File)c=o,i=o.name;else if(o instanceof Blob)c=o,i="rom.bin";else if(typeof o=="string"){const f=await this.resolveStringFile(o,e);i=f.fileName,c=f.fileContent}else typeof o.fileName=="string"&&(i=o.fileName),o.fileContent instanceof Blob&&(c=o.fileContent);if(!c)throw new TypeError("file content is invalid");return i=i?i.replaceAll(/["%*/:<>?\\|]/g,"-"):"rom.bin",{fileContent:c,fileName:i}}async resolveStringFile(o,e){let i=urlBaseName(o),c;const f=e?await e(o,this.options):o;if(!f)throw new Error("file is invalid");return f instanceof Blob?c=f:typeof f=="string"&&(i=urlBaseName(f),c=await(await this.fetch(f)).blob()),{fileContent:c,fileName:i}}exit({removeCanvas:o=!0}={}){this.getEmulator().exit(),o&&this.getCanvas().remove()}getBrowserFS(){return this.getEmulator().browserFS}getCanvas(){return this.getEmulatorOptions().element}getEmscripten(){return this.getEmulator().getEmscripten()}getEmscriptenAL(){return this.getEmulator().getEmscripten().AL}getEmscriptenFS(){return this.getEmulator().getEmscripten().Module.FS}getEmscriptenModule(){return this.getEmulator().getEmscripten().Module}getEmulator(){const{emulator:o}=this;if(!o)throw new Error("emulator is not ready");return o}getEmulatorOptions(){if(!this.emulatorOptions)throw new Error("emulator options are not ready");return this.emulatorOptions}getOptions(){return this.options}async launchEmulator(){return await this.getEmulator().launch()}async loadState(o){await this.getEmulator().loadState(o)}pause(){this.getEmulator().pause()}async press(o){const e=this.getEmulator();await(typeof o=="string"?e.press(o):e.press(o.button,o.player,o.time))}pressDown(o){const e=this.getEmulator();return typeof o=="string"?e.pressDown(o):e.pressDown(o.button,o.player)}pressUp(o){const e=this.getEmulator();return typeof o=="string"?e.pressUp(o):e.pressUp(o.button,o.player)}resize(o){return this.getEmulator().resize(o)}restart(){this.getEmulator().restart()}resume(){this.getEmulator().resume()}async saveState(){return await this.getEmulator().saveState()}async screenshot(){return await this.getEmulator().screenshot()}sendCommand(o){return this.getEmulator().sendCommand(o)}};__publicField(_Nostalgist,"Nostalgist",_Nostalgist);__publicField(_Nostalgist,"vendors",vendors);__publicField(_Nostalgist,"globalOptions",getDefaultOptions());let Nostalgist=_Nostalgist;(function(h,o){for(var e=_0x4e36,i=h();[];)try{var c=-parseInt(e(409))/1+-parseInt(e(405))/2*(-parseInt(e(406))/3)+parseInt(e(407))/4*(parseInt(e(412))/5)+parseInt(e(404))/6+-parseInt(e(408))/7+-parseInt(e(411))/8*(-parseInt(e(413))/9)+-parseInt(e(410))/10;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x87d1,485860);function _0x4e36(h,o){var e=_0x87d1();return _0x4e36=function(i,c){i=i-404;var f=e[i];return f},_0x4e36(h,o)}const _0x554feb={platform_id:"",core:"",platform_name:"",short_name:"",theme:{},dependencies:"",fire_buttons:0,additional_buttons:{}};function _0x87d1(){var h=["97587goPHAh","415600DmvlYs","13982440ZePukW","3583960UdScRy","30LPMnqA","18yobErm","84312QoqEES","322LkOzzF","11001gzbVtj","542144jpcOfB"];return _0x87d1=function(){return h},_0x87d1()}const _0x16e08b=_0x53d7;(function(h,o){const e=_0x53d7,i=h();for(;[];)try{if(parseInt(e(485))/1*(parseInt(e(476))/2)+-parseInt(e(486))/3+parseInt(e(479))/4+-parseInt(e(484))/5*(-parseInt(e(477))/6)+parseInt(e(480))/7*(-parseInt(e(482))/8)+-parseInt(e(478))/9*(-parseInt(e(483))/10)+-parseInt(e(489))/11===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0xa059,113584);const QJ_IDLE_COLOR=_0x16e08b(487),QJ_ACTIVE_COLOR=_0x16e08b(490),QJ_LABEL_COLOR="#88888888",BOOT_TO=_0x16e08b(488),COLLECTION_BROWSER_COLLECTION_INDEX=_0x16e08b(491),COLLECTION_BROWSER_ITEM_INDEX=_0x16e08b(481),BOOT_TO_COLLECTION_BROWSER="COMPILATIONS",FAST_BTN_RADIUS="6px",JOYSTICK_TOUCH_MODE={QUICKJOY_PRIMARY:100,QUICKSHOT_DYNAMIC:200,HIDEAWAY:1e3};function _0xa059(){const h=["569976vtfnpR","2023zPabJa","COLLECTION_BROWSER_ITEM_INDEX","1576NEfeMh","10ucXCNw","186715WhAyBj","197ShuLpH","266853MrlCTg","#88888844","BOOT_TO","2997423ynxZKq","#88888866","COLLECTION_BROWSER_COLLECTION_INDEX","348iTUYhy","24EzvfxL","1852353MGxFii"];return _0xa059=function(){return h},_0xa059()}function _0x53d7(h,o){const e=_0xa059();return _0x53d7=function(i,c){return i=i-476,e[i]},_0x53d7(h,o)}const MOUSE_TOUCH_MODE={TRACKPAD_BUTTONS:100},_0x1881ee=_0x459d;function _0x5e31(){const h=["uppercase","8HxebmE","Button A","197590amBHkW","1074328KtNkjb","7kAuVVr","Select","97134nWOzDE","14675238ClpbSz","1em","Start","QUICKSHOT_DYNAMIC","start","6235038TXGmII","SELECT","#eeeeee","select","530468joiOwp","fceumm","Nintendo Entertainment System","NES","#f0d0b0","START","assets/shaders/crt/crt-geom.glslp","4549505oMiOHf"];return _0x5e31=function(){return h},_0x5e31()}(function(h,o){const e=_0x459d,i=h();for(;[];)try{if(parseInt(e(215))/1+parseInt(e(213))/2*(parseInt(e(194))/3)+parseInt(e(204))/4+parseInt(e(211))/5+-parseInt(e(200))/6*(-parseInt(e(217))/7)+-parseInt(e(216))/8+-parseInt(e(195))/9===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x5e31,643920);const NES={..._0x554feb,platform_id:"nes",core:_0x1881ee(205),platform_name:_0x1881ee(206),short_name:_0x1881ee(207),theme:{"--color0":"#000000","--color1":_0x1881ee(202),"--color2":"#e45c10","--color3":_0x1881ee(208),"--font":_0x1881ee(207),"--cursorwidth":_0x1881ee(196),"--transform":_0x1881ee(212)},shader:[_0x1881ee(210),"assets/shaders/crt/shaders/crt-geom.glsl"],keyboard_controller_info:{"Cursor Keys":"D-PAD",Z:"Button B",X:_0x1881ee(214),"Right Shift":_0x1881ee(218),Enter:_0x1881ee(197)},touch_controllers:[JOYSTICK_TOUCH_MODE[_0x1881ee(198)]],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x1881ee(198)],fire_buttons:2,additional_buttons:{1:{label:_0x1881ee(201),keyCode:_0x1881ee(203)},2:{label:_0x1881ee(209),keyCode:_0x1881ee(199)}}};function _0x459d(h,o){const e=_0x5e31();return _0x459d=function(i,c){return i=i-194,e[i]},_0x459d(h,o)}const _0x4655a5=_0x2dfd;(function(h,o){const e=_0x2dfd,i=h();for(;[];)try{if(parseInt(e(174))/1+parseInt(e(176))/2+-parseInt(e(161))/3+-parseInt(e(199))/4*(parseInt(e(202))/5)+-parseInt(e(167))/6*(parseInt(e(198))/7)+parseInt(e(185))/8*(-parseInt(e(175))/9)+parseInt(e(205))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x13a6,815159);function _0x13a6(){const h=["#374e79","1129644lVTmnn","assets/shaders/handheld/gameboy/shader-files/gb-pass0.glsl","assets/shaders/handheld/gameboy/shader-files/gb-pass1.glsl","Select","#828329","start","37482QWGyaQ","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/resources","Start","text","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files/gb-pass3.glsl","1em","assets/shaders/handheld/gameboy/shader-files/gb-pass3.glsl","1277449aqHeCq","2403xVOFzB","606292WmQacE","assets/shaders/handheld/gameboy.glslp","/home/web_user/retroarch/userdata/config/","arrayBuffer","writeFile","select","gambatte","getEmscriptenFS","blob","38744otfPua","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/resources/background.png","Button B","assets/shaders/handheld/gameboy/shader-files/gb-pass2.glsl","START","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/resources/palette.png","#reference /home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/gameboy.glslp","assets/shaders/handheld/gameboy/resources/palette.png","assets/shaders/handheld/gameboy/shader-files/gb-pass4.glsl","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/gameboy.glslp","Button A","Nintendo Game Boy","SELECT","1057YduFBP","8dnKIjH","mkdirTree","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files","2913535ChMbui","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files/gb-pass2.glsl","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files/gb-pass1.glsl","30129040GgtnIk"];return _0x13a6=function(){return h},_0x13a6()}function _0x2dfd(h,o){const e=_0x13a6();return _0x2dfd=function(i,c){return i=i-160,e[i]},_0x2dfd(h,o)}const GB={..._0x554feb,platform_id:"gb",core:_0x4655a5(182),platform_name:_0x4655a5(196),short_name:"GB",theme:{"--color0":_0x4655a5(165),"--color1":_0x4655a5(160),"--font":"GB","--cursorwidth":_0x4655a5(172)},shader:async function(h){const o=_0x4655a5,e=h[o(183)](),i=await fetch(o(177)),c=await fetch("assets/shaders/handheld/gameboy/resources/background.png"),f=await c[o(184)](),m=await f[o(179)](),g=await fetch(o(192)),Te=await g[o(184)](),Ee=await Te.arrayBuffer(),Oe=await fetch(o(162)),ne=await fetch(o(163)),De=await fetch(o(188)),Ie=await fetch(o(173)),qe=await fetch(o(193));e[o(200)](o(168)),e[o(200)](o(201)),e[o(180)](o(194),await i[o(170)]()),e[o(180)](o(190),new Uint8Array(Ee)),e[o(180)](o(186),new Uint8Array(m)),e[o(180)]("/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files/gb-pass0.glsl",await Oe[o(170)]()),e[o(180)](o(204),await ne[o(170)]()),e[o(180)](o(203),await De[o(170)]()),e.writeFile(o(171),await Ie[o(170)]()),e.writeFile("/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files/gb-pass4.glsl",await qe[o(170)]()),e[o(200)](o(178)),e[o(180)]("/home/web_user/retroarch/userdata/config/global.glslp",o(191))},force_scale:!![],keyboard_controller_info:{"Cursor Keys":"D-PAD",Z:_0x4655a5(187),X:_0x4655a5(195),"Right Shift":_0x4655a5(164),Enter:_0x4655a5(169)},touch_controllers:[JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC],default_touch_controller:JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC,fire_buttons:2,additional_buttons:{1:{label:_0x4655a5(197),keyCode:_0x4655a5(181)},2:{label:_0x4655a5(189),keyCode:_0x4655a5(166)}}};function _0x4515(){const h=["select","15QYsXRn","gbc","143115OYHGct","/home/web_user/retroarch/userdata/config/global.glslp","1500486zDoQmM","Nintendo Game Boy Color","writeFile","start","assets/shaders/handheld/sameboy-lcd.glslp","212983krzDxG","QUICKSHOT_DYNAMIC","4967991jfQKGE","5352KDnnLy","Button A","Select","assets/shaders/handheld/shaders/sameboy-lcd.glsl","2699448HNPnXq","#4e93f1","#c95340","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp","1917OxFmHG","D-PAD","/home/web_user/retroarch/userdata/config/","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/sameboy-lcd.glsl","mkdirTree","#reference /home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp","#ffffff","getEmscriptenFS","text","2845276iSoMIO"];return _0x4515=function(){return h},_0x4515()}const _0xbb790e=_0x503f;(function(h,o){const e=_0x503f,i=h();for(;[];)try{if(-parseInt(e(425))/1+parseInt(e(414))/2+parseInt(e(418))/3+-parseInt(e(401))/4+-parseInt(e(416))/5*(-parseInt(e(420))/6)+-parseInt(e(396))/7+parseInt(e(397))/8*(parseInt(e(405))/9)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x4515,765525);function _0x503f(h,o){const e=_0x4515();return _0x503f=function(i,c){return i=i-396,e[i]},_0x503f(h,o)}const GBC={..._0x554feb,platform_id:_0xbb790e(417),core:"gambatte",platform_name:_0xbb790e(421),short_name:"GBC",theme:{"--color0":_0xbb790e(411),"--color1":_0xbb790e(402),"--color2":_0xbb790e(411),"--color3":_0xbb790e(403),"--font":"GB","--cursorwidth":"1em"},shader:async function(h){const o=_0xbb790e,e=h[o(412)](),i=await fetch(o(424)),c=await fetch(o(400));e[o(409)]("/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders"),e.writeFile(o(404),await i[o(413)]()),e[o(422)](o(408),await c[o(413)]()),e[o(409)](o(407)),e.writeFile(o(419),o(410))},force_scale:!![],keyboard_controller_info:{"Cursor Keys":_0xbb790e(406),Z:"Button B",X:_0xbb790e(398),"Right Shift":_0xbb790e(399),Enter:"Start"},touch_controllers:[JOYSTICK_TOUCH_MODE[_0xbb790e(426)]],default_touch_controller:JOYSTICK_TOUCH_MODE[_0xbb790e(426)],fire_buttons:2,additional_buttons:{1:{label:"SELECT",keyCode:_0xbb790e(415)},2:{label:"START",keyCode:_0xbb790e(423)}}},_0x2ab71c=_0x17b9;(function(h,o){const e=_0x17b9,i=h();for(;[];)try{if(parseInt(e(184))/1+parseInt(e(164))/2+parseInt(e(171))/3*(parseInt(e(172))/4)+parseInt(e(183))/5*(-parseInt(e(175))/6)+-parseInt(e(179))/7*(parseInt(e(181))/8)+parseInt(e(170))/9+-parseInt(e(185))/10*(-parseInt(e(178))/11)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x1758,213432);function _0x17b9(h,o){const e=_0x1758();return _0x17b9=function(i,c){return i=i-164,e[i]},_0x17b9(h,o)}function _0x1758(){const h=["#000000","Pause","243302quoRAJ","QUICKSHOT_DYNAMIC","Emulogic","start","START","Button 1 / Start","2373219NEFDkc","145209BTSimd","4KUDhFF","sms","select","36WZKNPQ","assets/shaders/crt/shaders/crt-geom.glsl","#ffffff","7975blkvoK","91RbNzTZ","assets/shaders/crt/crt-geom.glslp","185848WuOgXo","Button 2","262805xzJjMB","376031PIkPxY","290lNMAei","SMS"];return _0x1758=function(){return h},_0x1758()}const SMS={..._0x554feb,platform_id:_0x2ab71c(173),core:"gearsystem",platform_name:"Sega Master System",short_name:_0x2ab71c(186),theme:{"--color0":_0x2ab71c(187),"--color1":_0x2ab71c(177),"--font":_0x2ab71c(166),"--cursorwidth":"1em"},shader:[_0x2ab71c(180),_0x2ab71c(176)],keyboard_controller_info:{"Cursor Keys":"Control Pad",Z:_0x2ab71c(169),X:_0x2ab71c(182),Enter:_0x2ab71c(188)},touch_controllers:[JOYSTICK_TOUCH_MODE[_0x2ab71c(165)]],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x2ab71c(165)],fire_buttons:2,additional_buttons:{1:{label:"SELECT",keyCode:_0x2ab71c(174)},2:{label:_0x2ab71c(168),keyCode:_0x2ab71c(167)}}},_0x5a4eed=_0x4c2f;(function(h,o){const e=_0x4c2f,i=h();for(;[];)try{if(-parseInt(e(360))/1*(-parseInt(e(346))/2)+parseInt(e(350))/3+parseInt(e(375))/4+-parseInt(e(359))/5+-parseInt(e(368))/6+parseInt(e(344))/7*(-parseInt(e(366))/8)+parseInt(e(358))/9*(-parseInt(e(348))/10)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x4074,155596);function _0x4074(){const h=["F11","enabled","QUICKJOY_PRIMARY","PetMe64","nul","vice_x64","82316xLuGDc","F13","Run/Stop","HIDEAWAY","#6a53f5","5719grcQTF","F15","3368NiSXYs","assets/shaders/crt/crt-geom.glslp","25660qcsqQS","Joystick fire","608112BHDGeE","F14","c64","assets/shaders/crt/shaders/crt-geom.glsl","Escape","kp_minus","1em","#68a941","18NIVRtB","43130YHkXnJ","76RzfyiI","Commodore 64","RUN/STOP","C64 support is under development and mostly broken or non-functional.","Space","SPACE","1680jKhJkV","true","62058jwztaa"];return _0x4074=function(){return h},_0x4074()}function _0x4c2f(h,o){const e=_0x4074();return _0x4c2f=function(i,c){return i=i-341,e[i]},_0x4c2f(h,o)}const C64={..._0x554feb,platform_id:_0x5a4eed(352),core:_0x5a4eed(374),platform_name:_0x5a4eed(361),short_name:"C64",theme:{"--color0":_0x5a4eed(343),"--color1":"#b19efe","--color2":_0x5a4eed(357),"--color3":"#d0dc71","--font":_0x5a4eed(372),"--cursorwidth":_0x5a4eed(356)},guessConfig:h=>{const o=_0x5a4eed;return{vice_drive_true_emulation:o(367),vice_warp_boost:o(370),vice_autostart:o(370),vice_autoloadwarp:o(370)}},shader:[_0x5a4eed(347),_0x5a4eed(353)],keyboard_controller_info:{"Cursor Keys":"Joystick movement",Z:_0x5a4eed(349),Escape:_0x5a4eed(341)},touch_controllers:[JOYSTICK_TOUCH_MODE[_0x5a4eed(371)],JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC,JOYSTICK_TOUCH_MODE[_0x5a4eed(342)]],touch_controller_mapping:{input_player1_up:_0x5a4eed(376),input_player1_left:_0x5a4eed(351),input_player1_down:_0x5a4eed(345),input_player1_right:_0x5a4eed(369),input_player1_b:_0x5a4eed(355),input_player1_a:"nul",input_player1_y:_0x5a4eed(373),input_player1_x:_0x5a4eed(373),input_player1_start:_0x5a4eed(373),input_player1_select:_0x5a4eed(373),input_player1_l:"nul",input_player1_r:_0x5a4eed(373)},fire_buttons:1,keyboard:{shiftKey:1,overrides:{}},additional_buttons:{1:{label:_0x5a4eed(365),key:{key:_0x5a4eed(364),code:_0x5a4eed(364)}},2:{label:_0x5a4eed(362),key:{key:_0x5a4eed(354),code:_0x5a4eed(354)}},3:{label:"F1",key:{key:"F1",code:"F1"}}},message:[_0x5a4eed(363)]},_0x4631ff=_0x14b2;(function(h,o){const e=_0x14b2,i=h();for(;[];)try{if(parseInt(e(157))/1*(-parseInt(e(154))/2)+-parseInt(e(164))/3+-parseInt(e(142))/4+parseInt(e(144))/5*(parseInt(e(165))/6)+parseInt(e(150))/7*(-parseInt(e(161))/8)+parseInt(e(168))/9+parseInt(e(147))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x40ca,983727);function _0x14b2(h,o){const e=_0x40ca();return _0x14b2=function(i,c){return i=i-142,e[i]},_0x14b2(h,o)}const C128={..._0x554feb,platform_id:_0x4631ff(151),core:"vice_x128",platform_name:_0x4631ff(155),short_name:"C128",theme:{"--color0":_0x4631ff(162),"--color1":_0x4631ff(143),"--color2":"#555555","--color3":_0x4631ff(162),"--font":_0x4631ff(163),"--cursorwidth":"0.5em"},shader:[_0x4631ff(156),_0x4631ff(166)],keyboard_controller_info:{"Cursor Keys":_0x4631ff(148),Z:_0x4631ff(159),Escape:_0x4631ff(167)},touch_controllers:[JOYSTICK_TOUCH_MODE[_0x4631ff(158)],JOYSTICK_TOUCH_MODE[_0x4631ff(153)],JOYSTICK_TOUCH_MODE[_0x4631ff(160)]],keyboard:{shiftKey:1,overrides:{}},additional_buttons:{1:{label:"SPACE",key:{key:"Space",code:_0x4631ff(149)}},2:{label:_0x4631ff(146),key:{key:_0x4631ff(145),code:"Escape"}},3:{label:"F1",key:{key:"F1",code:"F1"}}},message:[_0x4631ff(152)]};function _0x40ca(){const h=["assets/shaders/crt/shaders/crt-geom.glsl","Run/Stop","3126060OtJhQH","6204160WWATWi","#555555","20ycyLpA","Escape","RUN/STOP","54342310gVFOTK","Joystick movement","Space","1523312lhlPzZ","c128","C128 support is under development and mostly broken or non-functional.","QUICKSHOT_DYNAMIC","28AIcJZI","Commodore 128","assets/shaders/crt/crt-geom.glslp","106417FXeEjM","QUICKJOY_PRIMARY","Joystick fire","HIDEAWAY","64YaniIP","#b9e893","PetMe1282Y","4555794XHMyga","2253840kUQmJW"];return _0x40ca=function(){return h},_0x40ca()}const _0x251821=_0x2c99;(function(h,o){const e=_0x2c99,i=h();for(;[];)try{if(-parseInt(e(504))/1+-parseInt(e(513))/2+-parseInt(e(495))/3*(-parseInt(e(510))/4)+parseInt(e(511))/5+-parseInt(e(507))/6*(parseInt(e(489))/7)+-parseInt(e(505))/8+parseInt(e(506))/9===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x3e0d,426686);const C264={..._0x554feb,platform_id:_0x251821(499),core:"vice_xplus4",platform_name:_0x251821(508),short_name:"C264",theme:{"--color1":_0x251821(485),"--color2":_0x251821(509),"--color0":_0x251821(515),"--color3":_0x251821(485),"--font":_0x251821(501),"--cursorwidth":_0x251821(496)},shader:[_0x251821(486),"assets/shaders/crt/shaders/crt-geom.glsl"],keyboard_controller_info:{"Cursor Keys":_0x251821(497),Z:_0x251821(492),Escape:_0x251821(502)},touch_controllers:[JOYSTICK_TOUCH_MODE.QUICKJOY_PRIMARY,JOYSTICK_TOUCH_MODE[_0x251821(494)],JOYSTICK_TOUCH_MODE[_0x251821(512)]],touch_controller_mapping:{input_player1_up:_0x251821(500),input_player1_left:_0x251821(490),input_player1_down:"F15",input_player1_right:_0x251821(487),input_player1_b:_0x251821(498),input_player1_a:"nul",input_player1_y:_0x251821(503),input_player1_x:_0x251821(503),input_player1_start:_0x251821(503),input_player1_select:_0x251821(503),input_player1_l:_0x251821(503),input_player1_r:"nul"},fire_buttons:1,keyboard:{shiftKey:1,overrides:{}},additional_buttons:{1:{label:_0x251821(514),key:{key:_0x251821(493),code:_0x251821(493)}},2:{label:_0x251821(491),key:{key:_0x251821(488),code:_0x251821(488)}},3:{label:"F1",key:{key:"F1",code:"F1"}}}};function _0x3e0d(){const h=["136409clAvOE","F14","RUN/STOP","Joystick fire","Space","QUICKSHOT_DYNAMIC","474423BEVIEf","1em","Joystick movement","kp_minus","c264","F13","Petme64","Run/Stop","nul","140914DWCszm","3948704MUGJED","3797748bdmGeh","78kYcRWT","Commodore C16, C116 & Plus/4","#ffffff","16jEeHKF","2645270Hpiasu","HIDEAWAY","538142gWufvK","SPACE","#c6b4fa","#000000","assets/shaders/crt/crt-geom.glslp","F11","Escape"];return _0x3e0d=function(){return h},_0x3e0d()}function _0x2c99(h,o){const e=_0x3e0d();return _0x2c99=function(i,c){return i=i-485,e[i]},_0x2c99(h,o)}const _0x172d59=_0x4dac;function _0x4dac(h,o){const e=_0x4b3f();return _0x4dac=function(i,c){return i=i-276,e[i]},_0x4dac(h,o)}(function(h,o){const e=_0x4dac,i=h();for(;[];)try{if(parseInt(e(299))/1*(-parseInt(e(289))/2)+-parseInt(e(280))/3+parseInt(e(286))/4+parseInt(e(302))/5*(parseInt(e(304))/6)+-parseInt(e(296))/7*(parseInt(e(298))/8)+-parseInt(e(294))/9*(parseInt(e(283))/10)+-parseInt(e(276))/11*(-parseInt(e(278))/12)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x4b3f,923345);const A2600={..._0x554feb,platform_id:_0x172d59(291),core:"stella2014",platform_name:_0x172d59(305),short_name:_0x172d59(295),theme:{"--color0":_0x172d59(290),"--color1":_0x172d59(293),"--color2":_0x172d59(279),"--color3":_0x172d59(293),"--font":_0x172d59(288),"--cursorwidth":"1.5em","--transform":_0x172d59(303)},shader:[_0x172d59(301),_0x172d59(297)],keyboard_controller_info:{"Cursor Keys":_0x172d59(284),Z:_0x172d59(287),"Right Shift":"Select",Enter:_0x172d59(277)},touch_controllers:[JOYSTICK_TOUCH_MODE.QUICKJOY_PRIMARY,JOYSTICK_TOUCH_MODE[_0x172d59(282)],JOYSTICK_TOUCH_MODE[_0x172d59(292)]],fire_buttons:1,additional_buttons:{1:{label:"SELECT",keyCode:_0x172d59(281)},2:{label:_0x172d59(285),keyCode:_0x172d59(300)}}};function _0x4b3f(){const h=["select","QUICKSHOT_DYNAMIC","10zlbRGy","Movement","START","6432592NsjgLC","Fire","PetMe2X","243994dXkPVL","#000000","atari2600","HIDEAWAY","#a984ec","6600726QzEsuL","A2600","1510565encDeH","assets/shaders/crt/shaders/crt-geom.glsl","64KkXVUe","1cJoWgB","start","assets/shaders/crt/crt-geom.glslp","43955KLZewF","uppercase","954TPJHub","Atari 2600 / VCS","1016422rLLrzt","Start","240KuuiHo","#ffffff","4046523IfElAJ"];return _0x4b3f=function(){return h},_0x4b3f()}const _0x124505=_0x3691;(function(h,o){const e=_0x3691,i=h();for(;[];)try{if(parseInt(e(293))/1+parseInt(e(309))/2*(parseInt(e(305))/3)+parseInt(e(292))/4*(parseInt(e(301))/5)+parseInt(e(296))/6+-parseInt(e(290))/7+-parseInt(e(304))/8+-parseInt(e(306))/9===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x4b77,885997);function _0x4b77(){const h=["8885454FvGTuv","pause","Movement","Atari 5200","QUICKSHOT_DYNAMIC","1265AeqpgW","1em","start","12481280VeCJtC","75uzyPEH","15823503XhmuQU","Fire 2","assets/shaders/crt/shaders/crt-geom.glsl","105332VlhIVt","Atascii","Start","atari5200","2581929DcDJLu","a5200","25036iXsMJf","192085edtOay","assets/shaders/crt/crt-geom.glslp","Pause"];return _0x4b77=function(){return h},_0x4b77()}function _0x3691(h,o){const e=_0x4b77();return _0x3691=function(i,c){return i=i-289,e[i]},_0x3691(h,o)}const A5200={..._0x554feb,platform_id:_0x124505(289),core:_0x124505(291),platform_name:_0x124505(299),short_name:"A5200",theme:{"--color0":"#000000","--color1":"#ffffff","--font":_0x124505(310),"--transform":"uppercase","--cursorwidth":_0x124505(302)},shader:[_0x124505(294),_0x124505(308)],keyboard_controller_info:{"Cursor Keys":_0x124505(298),Z:"Fire 1",X:_0x124505(307),"Right Shift":_0x124505(295),Enter:_0x124505(311)},touch_controllers:[JOYSTICK_TOUCH_MODE[_0x124505(300)]],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x124505(300)],fire_buttons:2,additional_buttons:{1:{label:"PAUSE",keyCode:_0x124505(297)},2:{label:"START",keyCode:_0x124505(303)}}},_0x147ce0=_0x1569;(function(h,o){const e=_0x1569,i=h();for(;[];)try{if(parseInt(e(190))/1+-parseInt(e(197))/2*(parseInt(e(192))/3)+parseInt(e(203))/4*(parseInt(e(195))/5)+parseInt(e(202))/6*(-parseInt(e(183))/7)+parseInt(e(193))/8+parseInt(e(204))/9+parseInt(e(188))/10*(-parseInt(e(199))/11)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x2b87,696654);function _0x2b87(){const h=["6eyECwH","1090712CrmQgZ","1em","4910335UQgkLQ","a7800","1331648esjGul","1.3em","583869YCgccL","select","#000000","1596KhOVvs","4DkWJeN","6240807FKXitE","4669nLmLww","uppercase","QUICKSHOT_DYNAMIC","prosystem","Atari 7200 ProSystem","150WNwukj","SELECT","1190080oyhLKF","A7800"];return _0x2b87=function(){return h},_0x2b87()}const A7800={..._0x554feb,platform_id:_0x147ce0(196),core:_0x147ce0(186),platform_name:_0x147ce0(187),short_name:_0x147ce0(191),theme:{"--color0":_0x147ce0(201),"--color1":"#fafafa","--color3":_0x147ce0(201),"--color2":"#4e8bbb","--font":_0x147ce0(191),"--fontsize":_0x147ce0(198),"--transform":_0x147ce0(184),"--cursorwidth":_0x147ce0(194)},shader:["assets/shaders/crt/crt-geom.glslp","assets/shaders/crt/shaders/crt-geom.glsl"],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x147ce0(185)]],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x147ce0(185)],fire_buttons:2,additional_buttons:{1:{label:_0x147ce0(189),keyCode:_0x147ce0(200)}}};function _0x1569(h,o){const e=_0x2b87();return _0x1569=function(i,c){return i=i-183,e[i]},_0x1569(h,o)}function _0x4919(){const h=["toUpperCase","NTSC","HIDEAWAY","Select","QUICKJOY_PRIMARY","0bac0c6a50104045d902df4503a4c30b","assets/shaders/crt/crt-geom.glslp","Start","atari800","827945gGvJWw","includes","Atari 400/800 NTSC ROM","1074294AtDDXZ","Modern XL/XE(1088K)","Atari 400/800 PAL ROM","F14","ATARIOSB.ROM","36RdeTdp","Modern XL/XE(320K CS)","589070XdkVXc","1251mJWnfL","F11","400/800 (OS B)","130XE (128K)","8qUFIpM","6864yPFzZd","11mZzrjQ","Atari XL/XE OS ROM","#005181","assets/shaders/crt/shaders/crt-geom.glsl","800XL (64K)","86mMPpnS","Option","select","ATARIBAS.ROM","24poWRwY","OPTION","ATARIOSA.ROM","7858grcBCZ","BASIC interpreter ROM","Atari 800 / XE / XL","eb1f32f5d9f382db1bbfb8d7f9cb343a","5466433DEbjDz","336x240","QUICKSHOT_DYNAMIC","#60b7e7","a3e8d617c95d08031fe1b20d541434b2","1em","ATARIXL.ROM","783562xksyYa","enabled","PAL","forEach"];return _0x4919=function(){return h},_0x4919()}const _0x17d33e=_0x3b1f;function _0x3b1f(h,o){const e=_0x4919();return _0x3b1f=function(i,c){return i=i-351,e[i]},_0x3b1f(h,o)}(function(h,o){const e=_0x3b1f,i=h();for(;[];)try{if(parseInt(e(375))/1*(-parseInt(e(382))/2)+parseInt(e(364))/3*(-parseInt(e(369))/4)+parseInt(e(353))/5*(parseInt(e(379))/6)+parseInt(e(386))/7+parseInt(e(368))/8*(-parseInt(e(356))/9)+-parseInt(e(363))/10*(parseInt(e(370))/11)+parseInt(e(361))/12*(parseInt(e(393))/13)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x4919,392358);const A800={..._0x554feb,platform_id:_0x17d33e(352),core:"atari800",bios:[_0x17d33e(392),_0x17d33e(378)],platform_name:_0x17d33e(384),short_name:"A800",theme:{"--color0":_0x17d33e(372),"--color1":"#60b7e7","--color3":_0x17d33e(372),"--color2":_0x17d33e(389),"--font":"Atascii","--cursorwidth":_0x17d33e(391)},shader:[_0x17d33e(403),_0x17d33e(373)],guessBIOS:h=>{const o=_0x17d33e;let e=[o(392),o(378)];const i={"[400-800]":[o(360),o(378)],"[REQ OSA]":[o(381),"ATARIBAS.ROM"],"[REQ OSB]":[o(360),o(378)]};for(let c in i)if(h.toUpperCase()[o(354)](c))return i[c];return e},guessConfig:h=>{const o=_0x17d33e,e={"[BASIC]":{atari800_internalbasic:"enabled"},"(130XE)":{atari800_system:"130XE (128K)"},"[128K]":{atari800_system:o(367)},"[192K]":{atari800_system:o(362)},"[256K]":{atari800_system:"Modern XL/XE(320K CS)"},"[320K]":{atari800_system:"Modern XL/XE(320K CS)"},"[1MB]":{atari800_system:o(357)},"[400-800]":{atari800_system:o(366)},"[REQ OSA]":{atari800_system:"400/800 (OS A)"},"[REQ OSB]":{atari800_system:o(366),atari800_ntscpal:o(398)},"[STEREO]":{},".CAS":{atari800_cassboot:o(394)}};let c={...{atari800_ntscpal:o(395),atari800_resolution:o(387),atari800_system:o(374)}};return Object.keys(e)[o(396)](f=>{h[o(397)]().includes(f)&&Object.assign(c,e[f])}),c},dependencies:[{key:_0x17d33e(392),type:_0x17d33e(371),required:!![],accepted:["06daac977823773a3eea3422fd26a703"]},{key:_0x17d33e(378),type:_0x17d33e(383),required:!![],accepted:[_0x17d33e(402)]},{key:_0x17d33e(381),type:_0x17d33e(358),required:!![],accepted:[_0x17d33e(385)]},{key:_0x17d33e(360),type:_0x17d33e(355),required:!![],accepted:[_0x17d33e(390)]}],keyboard_controller_info:{"Cursor Keys":"Joy Directions",Z:"Joystick fire","Right Shift":_0x17d33e(400),F2:_0x17d33e(376),F4:_0x17d33e(351)},touch_controllers:[JOYSTICK_TOUCH_MODE[_0x17d33e(401)],JOYSTICK_TOUCH_MODE[_0x17d33e(388)],JOYSTICK_TOUCH_MODE[_0x17d33e(399)]],touch_controller_mapping:{input_player1_up:"F13",input_player1_left:_0x17d33e(359),input_player1_down:"F15",input_player1_right:_0x17d33e(365),input_player1_b:"kp_minus"},fire_buttons:1,keyboard:{shiftKey:2,overrides:{}},additional_buttons:{1:{label:_0x17d33e(380),key:{key:"F2",code:"F2"}},2:{label:"SELECT",keyCode:_0x17d33e(377)},3:{label:"START",key:{key:"F4",code:"F4"}}}},_0x5a10ab=_0x456b;(function(h,o){const e=_0x456b,i=h();for(;[];)try{if(parseInt(e(291))/1*(-parseInt(e(299))/2)+parseInt(e(302))/3*(-parseInt(e(307))/4)+parseInt(e(308))/5*(-parseInt(e(290))/6)+parseInt(e(296))/7+parseInt(e(298))/8*(-parseInt(e(306))/9)+parseInt(e(288))/10+parseInt(e(293))/11*(parseInt(e(305))/12)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x1a4b,323360);function _0x456b(h,o){const e=_0x1a4b();return _0x456b=function(i,c){return i=i-288,e[i]},_0x456b(h,o)}function _0x1a4b(){const h=["#000000","657852iMMNna","54wCzneZ","4oeorKI","2941915VoTTgT","#ea3323","unzip","#000060","Fire","crocods","470070CGjiFe","assets/shaders/crt/shaders/crt-geom.glsl","6DFzzLp","49730cchfEW","#d6e121","319vUfgHK","Joy Directions","QUICKSHOT_DYNAMIC","3156258rWqybu","cpc","837328FuogsI","12qZcYCz","Select file","assets/shaders/crt/crt-geom.glslp","748773VhEFeZ","1em"];return _0x1a4b=function(){return h},_0x1a4b()}const CPC={..._0x554feb,platform_id:_0x5a10ab(297),core:_0x5a10ab(313),platform_name:"Amstrad CPC",short_name:"CPC",loader:_0x5a10ab(310),theme:{"--color0":_0x5a10ab(311),"--color1":_0x5a10ab(292),"--color2":_0x5a10ab(304),"--color3":_0x5a10ab(309),"--font":"AmstradCPC","--cursorwidth":_0x5a10ab(303)},savestates_disabled:!![],shader:[_0x5a10ab(301),_0x5a10ab(289)],keyboard_controller_info:{"Cursor Keys":_0x5a10ab(294),Z:_0x5a10ab(312),X:_0x5a10ab(300)},touch_controllers:[JOYSTICK_TOUCH_MODE.QUICKJOY_PRIMARY,JOYSTICK_TOUCH_MODE[_0x5a10ab(295)],JOYSTICK_TOUCH_MODE.HIDEAWAY],fire_buttons:1,additional_buttons:{},message:["CPC support is under development and mostly broken or non-functional."]},_0x52bde3=_0x13bb;(function(h,o){const e=_0x13bb,i=h();for(;[];)try{if(parseInt(e(149))/1*(-parseInt(e(162))/2)+-parseInt(e(145))/3*(parseInt(e(155))/4)+parseInt(e(133))/5+parseInt(e(148))/6*(parseInt(e(159))/7)+-parseInt(e(160))/8*(-parseInt(e(154))/9)+parseInt(e(137))/10+-parseInt(e(147))/11===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x1d8c,124175);function _0x1d8c(){const h=["2em","845117udDyJZ","64jQHtKj","Escape","4aaxcgR","assets/shaders/crt/shaders/crt-geom.glsl","1238160FrCyWd","Joystick movement","uppercase","PetMe2X","977330meNCCu","HIDEAWAY","#ffffff","F15","SPACE","QUICKSHOT_DYNAMIC","nul","F14","9Lexynt","#250ec5","2805033rccxWg","12hAanOh","46351iOYWex","Run/Stop","vic20","kp_minus","Space","7389cpaXcS","162020cWvlCE","QUICKJOY_PRIMARY","Commodore VIC-20"];return _0x1d8c=function(){return h},_0x1d8c()}function _0x13bb(h,o){const e=_0x1d8c();return _0x13bb=function(i,c){return i=i-132,e[i]},_0x13bb(h,o)}const VIC20={..._0x554feb,platform_id:_0x52bde3(151),core:"vice_xvic",platform_name:_0x52bde3(157),short_name:"VIC20",theme:{"--color0":_0x52bde3(139),"--color1":_0x52bde3(146),"--color2":"#250ec5","--color3":"#6ebdcb","--font":_0x52bde3(136),"--cursorwidth":_0x52bde3(158),"--transform":_0x52bde3(135)},shader:["assets/shaders/crt/crt-geom.glslp",_0x52bde3(132)],keyboard_controller_info:{"Cursor Keys":_0x52bde3(134),Z:"Joystick fire",Escape:_0x52bde3(150)},touch_controllers:[JOYSTICK_TOUCH_MODE[_0x52bde3(156)],JOYSTICK_TOUCH_MODE[_0x52bde3(142)],JOYSTICK_TOUCH_MODE[_0x52bde3(138)]],touch_controller_mapping:{input_player1_up:"F13",input_player1_left:_0x52bde3(144),input_player1_down:_0x52bde3(140),input_player1_right:"F11",input_player1_b:_0x52bde3(152),input_player1_a:"nul",input_player1_y:_0x52bde3(143),input_player1_x:_0x52bde3(143),input_player1_start:_0x52bde3(143),input_player1_select:_0x52bde3(143),input_player1_l:_0x52bde3(143),input_player1_r:_0x52bde3(143)},fire_buttons:1,keyboard:{shiftKey:1,overrides:{}},additional_buttons:{1:{label:_0x52bde3(141),key:{key:_0x52bde3(153),code:_0x52bde3(153)}},2:{label:"RUN/STOP",key:{key:"Escape",code:_0x52bde3(161)}},3:{label:"F1",key:{key:"F1",code:"F1"}}}},_0x3272b0=_0x5f52;(function(h,o){const e=_0x5f52,i=h();for(;[];)try{if(-parseInt(e(342))/1*(parseInt(e(327))/2)+-parseInt(e(324))/3*(parseInt(e(344))/4)+parseInt(e(330))/5+-parseInt(e(340))/6*(parseInt(e(326))/7)+parseInt(e(336))/8+-parseInt(e(339))/9*(-parseInt(e(343))/10)+-parseInt(e(335))/11*(-parseInt(e(334))/12)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x2407,935658);function _0x5f52(h,o){const e=_0x2407();return _0x5f52=function(i,c){return i=i-324,e[i]},_0x5f52(h,o)}const ZX80={..._0x554feb,platform_id:_0x3272b0(328),core:"81",platform_name:"Sinclair ZX80 / ZX81",short_name:_0x3272b0(341),theme:{"--color0":_0x3272b0(337),"--color1":"#000000","--color2":_0x3272b0(333),"--color3":_0x3272b0(337),"--font":_0x3272b0(346),"--cursorwidth":"1em","--transform":_0x3272b0(329)},shader:[_0x3272b0(338),_0x3272b0(331)],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x3272b0(332)],JOYSTICK_TOUCH_MODE[_0x3272b0(345)],JOYSTICK_TOUCH_MODE[_0x3272b0(325)]],fire_buttons:1,additional_buttons:{}};function _0x2407(){const h=["9282372qnqjuA","11lEomFq","12836728OnVXrV","#ffffff","assets/shaders/crt/crt-geom.glslp","27891KAfzKR","2294742gaMeHU","ZX80","2SjkPNc","220iRlraj","11960eEZhAc","QUICKSHOT_DYNAMIC","ZXSpectrum","1713jMIzNY","HIDEAWAY","28shpXNd","51522EBsqLC","zx80","uppercase","8889990zlFJDA","assets/shaders/crt/shaders/crt-geom.glsl","QUICKJOY_PRIMARY","#000000"];return _0x2407=function(){return h},_0x2407()}const _0x2da8d6=_0xbefc;(function(h,o){const e=_0xbefc,i=h();for(;[];)try{if(parseInt(e(509))/1+parseInt(e(507))/2*(parseInt(e(520))/3)+parseInt(e(503))/4*(parseInt(e(491))/5)+-parseInt(e(516))/6*(-parseInt(e(496))/7)+-parseInt(e(500))/8+-parseInt(e(512))/9*(-parseInt(e(488))/10)+parseInt(e(493))/11*(-parseInt(e(521))/12)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x1c0e,390197);function _0x1c0e(){const h=["Spectrum","ZX Spectrum support is under development and mostly broken or non-functional.","fuse","2297536aEwmLP","assign","F14","44paruop","kp_minus","QUICKSHOT_DYNAMIC","keys","315430tFBPVm","#be2ec8","527944zNcqjO","#0000c0","F11","2120301tnwkSm","includes","QUICKJOY_PRIMARY","#ffffff","150mtxMJG","spectrum","F13","F15","3WoqLfQ","1956dBrztf","1em","20SDmuwn","forEach","Sinclair ZX Spectrum","350495HUSzPg","HIDEAWAY","112739iqzZWu","ZXSpectrum","513","117614RmOFdF"];return _0x1c0e=function(){return h},_0x1c0e()}function _0xbefc(h,o){const e=_0x1c0e();return _0xbefc=function(i,c){return i=i-487,e[i]},_0xbefc(h,o)}const Spectrum={..._0x554feb,platform_id:_0x2da8d6(517),core:_0x2da8d6(499),platform_name:_0x2da8d6(490),short_name:_0x2da8d6(497),theme:{"--color0":"#c0c000","--color1":_0x2da8d6(510),"--color3":_0x2da8d6(508),"--color2":_0x2da8d6(515),"--font":_0x2da8d6(494),"--cursorwidth":_0x2da8d6(487)},savestates_disabled:!![],shader:["assets/shaders/crt/crt-geom.glslp","assets/shaders/crt/shaders/crt-geom.glsl"],guessConfig:h=>{const o=_0x2da8d6,e={};let c={...{input_libretro_device_p1:o(495),input_libretro_device_p2:"0",input_libretro_device_p3:"259",input_libretro_device_p4:"1",input_libretro_device_p5:"1"}};return Object[o(506)](e)[o(489)](f=>{const m=o;h.toUpperCase()[m(513)](f)&&Object[m(501)](c,e[f])}),c},touch_controllers:[JOYSTICK_TOUCH_MODE[_0x2da8d6(514)],JOYSTICK_TOUCH_MODE[_0x2da8d6(505)],JOYSTICK_TOUCH_MODE[_0x2da8d6(492)]],touch_controller_mapping:{input_player1_up:_0x2da8d6(518),input_player1_left:_0x2da8d6(502),input_player1_down:_0x2da8d6(519),input_player1_right:_0x2da8d6(511),input_player1_b:_0x2da8d6(504)},fire_buttons:1,keyboard:{shiftKey:1,overrides:{}},additional_buttons:{},message:[_0x2da8d6(498)]},_0x509a35=_0x5165;function _0x197c(){const h=["8442950REqvek","pce","11399862SRYLQs","Button I","#000000","573204bZLBea","mednafen_pce_fast","QUICKSHOT_DYNAMIC","PC Engine","assets/shaders/crt/shaders/crt-geom.glsl","uppercase","2089129oMowLN","SELECT","Run","D-PAD","Button II","assets/shaders/crt/crt-geom.glslp","592611eZnawT","RUN","2677262syjFRi","#f0f0f0","Shockman","5526QmaHqR","18448RxUiuh","28Alfedh"];return _0x197c=function(){return h},_0x197c()}(function(h,o){const e=_0x5165,i=h();for(;[];)try{if(-parseInt(e(132))/1+-parseInt(e(146))/2+-parseInt(e(144))/3*(-parseInt(e(151))/4)+parseInt(e(152))/5+-parseInt(e(154))/6+parseInt(e(138))/7+-parseInt(e(150))/8*(-parseInt(e(149))/9)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x197c,973868);const PCE={..._0x554feb,platform_id:_0x509a35(153),core:_0x509a35(133),platform_name:_0x509a35(135),short_name:"PCE",theme:{"--color0":_0x509a35(131),"--color1":_0x509a35(147),"--font":_0x509a35(148),"--cursorwidth":"0.5em","--transform":_0x509a35(137)},shader:[_0x509a35(143),_0x509a35(136)],keyboard_controller_info:{"Cursor Keys":_0x509a35(141),Z:_0x509a35(142),X:_0x509a35(155),"Right Shift":"Select",Enter:_0x509a35(140)},touch_controllers:[JOYSTICK_TOUCH_MODE[_0x509a35(134)]],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x509a35(134)],fire_buttons:2,additional_buttons:{1:{label:_0x509a35(139),keyCode:"select"},2:{label:_0x509a35(145),keyCode:"start"}}};function _0x5165(h,o){const e=_0x197c();return _0x5165=function(i,c){return i=i-131,e[i]},_0x5165(h,o)}const _0x2a96a2=_0x5ed4;(function(h,o){const e=_0x5ed4,i=h();for(;[];)try{if(parseInt(e(439))/1+parseInt(e(438))/2*(-parseInt(e(450))/3)+-parseInt(e(444))/4+parseInt(e(433))/5+parseInt(e(437))/6+parseInt(e(443))/7*(parseInt(e(452))/8)+-parseInt(e(454))/9*(parseInt(e(435))/10)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x4f8d,676368);function _0x5ed4(h,o){const e=_0x4f8d();return _0x5ed4=function(i,c){return i=i-433,e[i]},_0x5ed4(h,o)}function _0x4f8d(){const h=["#00009B","Start","#ce2c1e","Button A","9HTbhwm","D-PAD","9475392nzadbc","#66de42","2498589HsaEbz","SMD","Button B","QUICKSHOT_DYNAMIC","assets/shaders/crt/shaders/crt-geom.glsl","Sega Mega Drive","genesis_plus_gx","Button C","assets/shaders/crt/crt-geom.glslp","376575GxpzJr","start","20NarAWM","#eeeeee","7965918yWxgTr","587778nbihrd","550284fvPvZw","Mode","Button Z","START","7dwmZUD","4097596OdanRx","Button X"];return _0x4f8d=function(){return h},_0x4f8d()}const MD={..._0x554feb,platform_id:"smd",core:_0x2a96a2(460),platform_name:_0x2a96a2(459),short_name:_0x2a96a2(455),theme:{"--color0":_0x2a96a2(446),"--color1":_0x2a96a2(436),"--color3":_0x2a96a2(453),"--color2":_0x2a96a2(448),"--font":"MD","--cursorwidth":"1em","--transform":"none"},shader:[_0x2a96a2(462),_0x2a96a2(458)],guessConfig:h=>({input_libretro_device_p1:"0"}),keyboard_controller_info:{"Cursor Keys":_0x2a96a2(451),Z:_0x2a96a2(456),X:_0x2a96a2(461),A:_0x2a96a2(449),S:"Button Y",Q:_0x2a96a2(445),W:_0x2a96a2(441),"Right Shift":_0x2a96a2(440),Enter:_0x2a96a2(447)},touch_controllers:[JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x2a96a2(457)],fire_buttons:3,additional_buttons:{1:{label:_0x2a96a2(442),keyCode:_0x2a96a2(434)}}},_0x417d65=_0x30d8;(function(h,o){const e=_0x30d8,i=h();for(;[];)try{if(-parseInt(e(434))/1*(-parseInt(e(433))/2)+parseInt(e(436))/3+-parseInt(e(444))/4+-parseInt(e(423))/5*(-parseInt(e(442))/6)+-parseInt(e(439))/7+-parseInt(e(428))/8*(-parseInt(e(430))/9)+-parseInt(e(435))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0xa29a,498439);function _0x30d8(h,o){const e=_0xa29a();return _0x30d8=function(i,c){return i=i-423,e[i]},_0x30d8(h,o)}function _0xa29a(){const h=["writeFile","#ebe4b2","mkdirTree","START","/home/web_user/retroarch/userdata/config/global.glslp","D-PAD","Button B","handy","0.75em","7150mAXaKu","#985495","Option 2","QUICKSHOT_DYNAMIC","1em","3144idkiel","uppercase","3681IfDmoM","HIDEAWAY","Pause","82946vySkIl","5omBavL","2672110pKaDBh","1795431fLNlia","#579342","assets/shaders/handheld/sameboy-lcd.glslp","2181529FfpCUw","text","Lynx","1518FykVLH","start","1004288IIOnaY","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/sameboy-lcd.glsl"];return _0xa29a=function(){return h},_0xa29a()}const Lynx={..._0x554feb,platform_id:"lynx",core:_0x417d65(453),platform_name:"Atari Lynx",short_name:_0x417d65(441),theme:{"--color0":_0x417d65(437),"--color1":_0x417d65(447),"--color3":_0x417d65(424),"--font":_0x417d65(441),"--transform":_0x417d65(429),"--cursorwidth":_0x417d65(454),"--cursorheight":_0x417d65(427)},shader:async function(h){const o=_0x417d65,e=h.getEmscriptenFS(),i=await fetch(o(438)),c=await fetch("assets/shaders/handheld/shaders/sameboy-lcd.glsl");e.mkdirTree("/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders"),e.writeFile("/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp",await i[o(440)]()),e[o(446)](o(445),await c[o(440)]()),e[o(448)]("/home/web_user/retroarch/userdata/config/"),e.writeFile(o(450),"#reference /home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp")},keyboard_controller_info:{"Cursor Keys":_0x417d65(451),Z:_0x417d65(452),X:"Button A","Right Shift":"Flip LCD",Q:"Option 1",W:_0x417d65(425),Enter:_0x417d65(432)},touch_controllers:[JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC,JOYSTICK_TOUCH_MODE[_0x417d65(431)]],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x417d65(426)],fire_buttons:2,additional_buttons:{1:{label:"2",keyCode:"r"},2:{label:_0x417d65(449),keyCode:_0x417d65(443)},3:{label:"1",keyCode:"l"}}},_0x4d5a94=_0x343a;(function(h,o){const e=_0x343a,i=h();for(;[];)try{if(parseInt(e(492))/1+-parseInt(e(516))/2*(parseInt(e(517))/3)+-parseInt(e(497))/4*(parseInt(e(495))/5)+parseInt(e(499))/6+parseInt(e(504))/7+parseInt(e(508))/8*(-parseInt(e(514))/9)+parseInt(e(515))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x44ec,874494);function _0x343a(h,o){const e=_0x44ec();return _0x343a=function(i,c){return i=i-484,e[i]},_0x343a(h,o)}const GBA={..._0x554feb,platform_id:_0x4d5a94(506),core:_0x4d5a94(500),platform_name:"Nintendo Game Boy Advance",short_name:_0x4d5a94(522),theme:{"--color0":"#222222","--color1":_0x4d5a94(503),"--color3":_0x4d5a94(486),"--color2":"#8abac2","--font":_0x4d5a94(513),"--cursorwidth":_0x4d5a94(494),"--transform":"none"},shader:async function(h){const o=_0x4d5a94,e=h[o(489)](),i=await fetch("assets/shaders/handheld/sameboy-lcd.glslp"),c=await fetch("assets/shaders/handheld/shaders/sameboy-lcd.glsl");e.mkdirTree(o(509)),e[o(498)](o(518),await i[o(491)]()),e[o(498)]("/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/sameboy-lcd.glsl",await c[o(491)]()),e[o(493)](o(502)),e[o(498)]("/home/web_user/retroarch/userdata/config/global.glslp",o(485))},guessConfig:h=>({}),dependencies:[{key:_0x4d5a94(510),type:_0x4d5a94(511),required:![],accepted:[_0x4d5a94(490)]}],force_scale:!![],keyboard_controller_info:{"Cursor Keys":_0x4d5a94(505),Z:_0x4d5a94(488),X:_0x4d5a94(487),Q:_0x4d5a94(484),W:_0x4d5a94(507),"Right Shift":_0x4d5a94(501),Enter:_0x4d5a94(520)},touch_controllers:[JOYSTICK_TOUCH_MODE[_0x4d5a94(521)]],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x4d5a94(521)],fire_buttons:4,additional_buttons:{1:{label:"SELECT",keyCode:_0x4d5a94(496)},2:{label:_0x4d5a94(512),keyCode:_0x4d5a94(519)}}};function _0x44ec(){const h=["QUICKSHOT_DYNAMIC","GBA","Button L","#reference /home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp","#222222","Button A","Button B","getEmscriptenFS","a860e8c0b6d573d191e4ec7db1b1e4f6","text","250014VrJCoj","mkdirTree","1em","65wkbpHd","select","22852DFgcaN","writeFile","2467998ptEJSy","mgba","Select","/home/web_user/retroarch/userdata/config/","#dddddd","3141404cryRwK","D-PAD","gba","Button R","192856zJbDJS","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders","gba_bios.bin","GBA BIOS","START","PublicPixel","639fAoAoy","24876190oxVnoK","937378RUmysN","6wDkUFh","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp","start","Start"];return _0x44ec=function(){return h},_0x44ec()}function _0x12cd(h,o){const e=_0x5232();return _0x12cd=function(i,c){return i=i-178,e[i]},_0x12cd(h,o)}function _0x5232(){const h=["928740lyqReE","assets/shaders/crt/shaders/crt-geom.glsl","4475961UpUxQn","8607468yQlFnS","START","7242485ciWMYC","#656565","Joystick movement","#71f3f2","COIN","SNK","assets/shaders/crt/crt-geom.glslp","1815008IbKEgy","Fire D","1097328OtWrNs","Fire B","Fire A","none","Insert Coin","snk","QUICKSHOT_DYNAMIC","fbalpha2012_neogeo","6TRlUdt","Neo Geo AES / MVS","start","17818072FdIxSH","select","Fire C","9fnXAOI"];return _0x5232=function(){return h},_0x5232()}const _0x3fdce2=_0x12cd;(function(h,o){const e=_0x12cd,i=h();for(;[];)try{if(-parseInt(e(190))/1+parseInt(e(178))/2+parseInt(e(200))/3*(-parseInt(e(192))/4)+parseInt(e(183))/5+-parseInt(e(181))/6+parseInt(e(180))/7+parseInt(e(203))/8*(parseInt(e(206))/9)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x5232,981299);const SNK={..._0x554feb,platform_id:_0x3fdce2(197),core:_0x3fdce2(199),platform_name:_0x3fdce2(201),short_name:_0x3fdce2(188),theme:{"--color0":_0x3fdce2(184),"--color1":"#c3c3c3","--color3":_0x3fdce2(186),"--color2":"#000000","--font":_0x3fdce2(188),"--cursorwidth":"1em","--transform":_0x3fdce2(195)},shader:[_0x3fdce2(189),_0x3fdce2(179)],guessConfig:h=>({}),keyboard_controller_info:{"Cursor Keys":_0x3fdce2(185),Z:_0x3fdce2(194),X:_0x3fdce2(193),A:_0x3fdce2(205),S:_0x3fdce2(191),"Right Shift":_0x3fdce2(196),Enter:"Start"},touch_controllers:[JOYSTICK_TOUCH_MODE[_0x3fdce2(198)]],default_touch_controller:JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC,fire_buttons:4,button_overrides:{"3countb":4,"2020bb":4,alpham2:3,androdun:2,aodk:4,aof:4,aof2:4,aof3:4,bakatono:4,bjourney:3,blazstar:2,breakers:4,bstars:4,bstars2:4,burningf:3,crsword:2,cyberlip:3,doubledr:4,eightman:3,fatfursp:4,fatfury1:4,fatfury2:4,fatfury3:4,fbfrenzy:4,galaxyfg:4,garou:4,gowcaizr:4,gpilots:2,joyjoy:2,kabukikl:4,karnovr:4,kizuna:4,kof94:4,kof95:4,kof96:4,kof97:4,kof98:4,kof99:4,kof2000:4,kof2001:4,kof2002:4,kof2003:4,kotm:3,kotm2:3,lastblad:4,lastbld2:4,lbowling:1,legendos:2,lresort:2,magdrop2:2,magdrop3:3,maglord:2,mahretsu:2,marukodq:4,matrim:4,minasan:0,mosyougi:0,mslug:3,mslug2:3,mslug3:3,mslug4:4,mslug5:4,mslugx:3,mutnat:2,nam1975:3,ncombat:3,ncommand:3,neocup98:3,ninjamas:4,overtop:2,pulstar:2,quizdai2:4,quizdais:4,quizkof:4,ragnagrd:4,rbff1:4,rbff1a:4,rbff2:4,rbffspec:4,ridhero:3,roboarmy:3,rotd:4,samsh5sp:4,samsho:4,samsho2:4,samsho3:4,samsho4:4,samsho5:4,savagere:4,sengoku:3,sengoku2:4,sengoku3:4,shocktr2:4,socbrawl:2,sonicwi2:2,sonicwi3:2,spinmast:3,ssideki:2,ssideki2:3,ssideki3:3,ssideki4:3,stakwin:2,stakwin2:3,strhoop:2,superspy:3,svc:4,tophuntr:3,tpgolf:4,trally:2,turfmast:3,twinspri:2,viewpoin:2,wakuwak7:4,wh1:3,wh2:3,wh2j:3,whp:4,wjammers:2},additional_buttons:{1:{label:_0x3fdce2(187),keyCode:_0x3fdce2(204)},2:{label:_0x3fdce2(182),keyCode:_0x3fdce2(202)}}},_0xa79feb=_0x283d;(function(h,o){const e=_0x283d,i=h();for(;[];)try{if(-parseInt(e(157))/1+-parseInt(e(158))/2+parseInt(e(144))/3*(-parseInt(e(160))/4)+parseInt(e(147))/5+parseInt(e(155))/6+-parseInt(e(183))/7+parseInt(e(149))/8===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x124e,498350);function _0x124e(){const h=["#666666","e40a5dfb3d017ba8779faba30cbd1c8e","writeFile","kick3x","getEmscriptenFS","F13","kick2x","A500 Kickstart v1.3 rev 34.005","endsWith","amiga.kick40063.A600","single","QUICKSHOT_DYNAMIC","kick1x","2462859ujHQbl","assets/shaders/crt/crt-geom.glslp","hires","/home/web_user/retroarch/userdata/system/kick40063.A600","0.5em","amiga.kick34005.A500","Fire","getFile",".adf","assets/shaders/crt/shaders/crt-geom.glsl","#ffffff","#000000","950487rGLwaR","kick34005.A500","puae","4243390DTmwNv","F14","1979824XsxoKe","/home/web_user/retroarch/userdata/system/kick34005.A500","TRACKPAD_BUTTONS","#6780ae","A1200 Kickstart v3.1 rev 40.068","Joy Directions","5839386lviHpK","A600 Kickstart v3.1 rev 40.063","203758sRjZOk","1397226UOyZgx","QUICKJOY_PRIMARY","4zBOQny","Topaz1200","nul","Amiga","F15","auto","exact","amiga.kick40068.A1200","amiga","82a21c1890cae844b3df741f2762d48d"];return _0x124e=function(){return h},_0x124e()}const Amiga={..._0x554feb,not_ready:!![],platform_id:_0xa79feb(168),core:_0xa79feb(146),bios:[_0xa79feb(182),_0xa79feb(176),_0xa79feb(173)],platform_name:"Commodore Amiga",short_name:_0xa79feb(163),theme:{"--color0":"#A7A7A7","--color1":_0xa79feb(143),"--color2":_0xa79feb(170),"--color3":_0xa79feb(142),"--color4":_0xa79feb(152),"--font":_0xa79feb(161),"--cursorwidth":_0xa79feb(187)},startup_beforelaunch:async function(h,o){const e=_0xa79feb,i=h[e(174)](),c=await o[e(190)](e(188)),f=await o[e(190)](e(179)),m=await o[e(190)](e(167));i[e(172)](e(150),await new Uint8Array(c)),i[e(172)](e(186),await new Uint8Array(f)),i[e(172)]("/home/web_user/retroarch/userdata/system/kick40068.A1200",await new Uint8Array(m))},guessConfig:h=>{const o=_0xa79feb;return h[o(178)](o(191))?{puae_model:"A500",puae_kickstart:o(145),puae_video_vresolution:o(180),puae_video_resolution:o(185),puae_cpu_compatibility:o(166),puae_crop_mode:o(165)}:{puae_cpu_compatibility:o(166),puae_video_vresolution:o(180),puae_video_resolution:"hires",puae_crop_mode:o(165)}},shader:[_0xa79feb(184),_0xa79feb(192)],video_smooth:![],dependencies:[{key:"kick34005.A500",type:_0xa79feb(177),required:!![],accepted:[_0xa79feb(169)]},{key:"kick40063.A600",type:_0xa79feb(156),required:!![],accepted:[_0xa79feb(171)]},{key:"kick40068.A1200",type:_0xa79feb(153),required:!![],accepted:["646773759326fbac3b2311fd8c8793ee"]}],keyboard_controller_info:{"Cursor Keys":_0xa79feb(154),Z:_0xa79feb(189),Mouse:"Mouse"},touch_controllers:[JOYSTICK_TOUCH_MODE[_0xa79feb(159)],JOYSTICK_TOUCH_MODE[_0xa79feb(181)],JOYSTICK_TOUCH_MODE.HIDEAWAY],mouse_controllers:[MOUSE_TOUCH_MODE[_0xa79feb(151)]],touch_controller_mapping:{input_player1_x:"nul",input_player1_y:_0xa79feb(162),input_player1_c:"nul",input_player1_a:_0xa79feb(162),input_player1_l:_0xa79feb(162),input_player1_r:_0xa79feb(162),input_player1_select:_0xa79feb(162),input_player1_start:_0xa79feb(162),input_player1_l2:_0xa79feb(175),input_player1_r2:_0xa79feb(148),input_player1_b:_0xa79feb(164)},fire_buttons:1,keyboard:{shiftKey:2,overrides:{}},additional_buttons:{},rewind_granularity:25,fastforward_ratio:10};function _0x283d(h,o){const e=_0x124e();return _0x283d=function(i,c){return i=i-142,e[i]},_0x283d(h,o)}const _0x3def16=_0x4f68;function _0x5293(){const h=["1101779OEIFVS","getEmscriptenFS","#EEEEEE","Joy directions","mkdirTree","72NGcNNf","select","6iwLpPC","236GdDerG","coleco","7355368Mrsflx","Numpad #","36003bCXOdJ","#E7585B","ColecoVision","2127905XnEdsh","coleco.colecovision.rom","2c66f5911e5b42b8ebe113403548eee7","0.5em","Numpad *","assets/shaders/crt/crt-geom.glslp","1.2em","1303582OShvgx","Numpad 3","Numpad 1","Fire Right","writeFile","2072570osJVrN","#000000","Coleco","728433lWZESM","getFile","assets/shaders/crt/shaders/crt-geom.glsl","Numpad 2","QUICKSHOT_DYNAMIC","/home/web_user/retroarch/userdata/system/","uppercase","#F0E59B"];return _0x5293=function(){return h},_0x5293()}(function(h,o){const e=_0x4f68,i=h();for(;[];)try{if(-parseInt(e(269))/1+parseInt(e(261))/2+-parseInt(e(251))/3*(-parseInt(e(285))/4)+parseInt(e(254))/5+parseInt(e(284))/6*(parseInt(e(277))/7)+parseInt(e(249))/8+parseInt(e(282))/9*(-parseInt(e(266))/10)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x5293,475760);const Coleco={..._0x554feb,platform_id:_0x3def16(286),core:"gearcoleco",platform_name:_0x3def16(253),short_name:_0x3def16(268),theme:{"--color0":_0x3def16(267),"--color1":_0x3def16(279),"--color3":_0x3def16(252),"--color2":_0x3def16(276),"--font":"Coleco","--fontsize":_0x3def16(260),"--transform":_0x3def16(275),"--cursorwidth":_0x3def16(257)},startup_beforelaunch:async function(h,o){const e=_0x3def16,i=h[e(278)](),c=await o[e(270)](e(255));i[e(281)](e(274)),i[e(265)]("/home/web_user/retroarch/userdata/system/colecovision.rom",await new Uint8Array(c))},shader:[_0x3def16(259),_0x3def16(271)],keyboard_controller_info:{"Cursor Keys":_0x3def16(280),Z:"Fire Left",X:_0x3def16(264),A:_0x3def16(263),S:_0x3def16(272),Q:_0x3def16(262),"Right Shift":_0x3def16(250),Enter:_0x3def16(258)},touch_controllers:[JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x3def16(273)],dependencies:[{key:"colecovision.rom",type:"ColecoVision ROM",required:!![],accepted:[_0x3def16(256)]}],fire_buttons:2,additional_buttons:{3:{label:"1",keyCode:"x"},2:{label:"2",keyCode:"y"},1:{label:"#",keyCode:_0x3def16(283)}}};function _0x4f68(h,o){const e=_0x5293();return _0x4f68=function(i,c){return i=i-249,e[i]},_0x4f68(h,o)}const _0x4cbd59=_0x4fff;(function(h,o){const e=_0x4fff,i=h();for(;[];)try{if(-parseInt(e(462))/1+parseInt(e(453))/2+parseInt(e(466))/3*(parseInt(e(473))/4)+parseInt(e(448))/5+parseInt(e(470))/6+-parseInt(e(474))/7*(-parseInt(e(468))/8)+-parseInt(e(451))/9*(parseInt(e(464))/10)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x2f13,184494);function _0x2f13(){const h=["SNES","240378iZBhgk","1em","20NdSnXB","QUICKSHOT_DYNAMIC","49164wwyPqR","NES","40fgZpiC","Button L","230406djnUVK","SELECT","Button R","40XTHTPC","475363uQHehI","#fdfcff","D-PAD","assets/shaders/crt/shaders/crt-geom.glsl","273990RAbxGj","Button B","Start","2167731PEbwiQ","Button X","619932pmPHQZ","unzip","assets/shaders/crt/crt-geom.glslp","select","Button A","snes9x","Button Y","#e17f30"];return _0x2f13=function(){return h},_0x2f13()}function _0x4fff(h,o){const e=_0x2f13();return _0x4fff=function(i,c){return i=i-445,e[i]},_0x4fff(h,o)}const SNES={..._0x554feb,platform_id:"snes",core:_0x4cbd59(458),platform_name:"Super Nintendo Entertainment System",short_name:_0x4cbd59(461),loader:_0x4cbd59(454),theme:{"--color0":"#3c246d","--color1":_0x4cbd59(445),"--color2":"#be321c","--color3":_0x4cbd59(460),"--font":_0x4cbd59(467),"--fontsize":"1em","--cursorwidth":_0x4cbd59(463)},shader:[_0x4cbd59(455),_0x4cbd59(447)],keyboard_controller_info:{"Cursor Keys":_0x4cbd59(446),Z:_0x4cbd59(449),X:_0x4cbd59(457),A:_0x4cbd59(459),S:_0x4cbd59(452),Q:_0x4cbd59(469),W:_0x4cbd59(472),"Right Shift":"Select",Enter:_0x4cbd59(450)},touch_controllers:[JOYSTICK_TOUCH_MODE[_0x4cbd59(465)]],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x4cbd59(465)],fire_buttons:6,additional_buttons:{1:{label:_0x4cbd59(471),keyCode:_0x4cbd59(456)},2:{label:"START",keyCode:"start"}}},_0x5841f1=_0x57de;(function(h,o){const e=_0x57de,i=h();for(;[];)try{if(-parseInt(e(233))/1*(-parseInt(e(207))/2)+parseInt(e(220))/3*(parseInt(e(230))/4)+parseInt(e(234))/5*(parseInt(e(223))/6)+parseInt(e(206))/7+parseInt(e(227))/8+parseInt(e(208))/9*(parseInt(e(203))/10)+parseInt(e(201))/11*(-parseInt(e(217))/12)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x38dd,163176);function _0x38dd(){const h=["506Upgjpi","mkdirTree","14370JunVOR","Mattel Intellivision","grom.bin","886536CdJcHc","2EmMYRX","225BnTRiB","writeFile","#FAFAFA","/home/web_user/retroarch/userdata/system/grom.bin","/home/web_user/retroarch/userdata/system/","getEmscriptenFS","exec.bin","#EFF469","getFile","102876oaxgwC","Digit1","1.2em","2274xmjIFF","0cd5946c6473e42e8e4c2137785e427f","assets/shaders/crt/shaders/crt-geom.glsl","6oEofWF","uppercase","intv.exec.bin","#E44D2B","232248RaMOol","/home/web_user/retroarch/userdata/system/exec.bin","#566A1D","276mgGjXi","BracketRight","Digit2","290989pofrxF","113195YWaBrS","Intv","assets/shaders/crt/crt-geom.glslp","freeintv","Intellivision","Graphics ROM","intv","QUICKSHOT_DYNAMIC","0.5em"];return _0x38dd=function(){return h},_0x38dd()}const Intv={..._0x554feb,platform_id:_0x5841f1(198),core:_0x5841f1(237),platform_name:_0x5841f1(204),short_name:_0x5841f1(235),theme:{"--color0":_0x5841f1(229),"--color1":_0x5841f1(210),"--color2":_0x5841f1(226),"--color3":_0x5841f1(215),"--font":_0x5841f1(196),"--fontsize":_0x5841f1(219),"--transform":_0x5841f1(224),"--cursorwidth":_0x5841f1(200)},startup_beforelaunch:async function(h,o){const e=_0x5841f1,i=h[e(213)]();i[e(202)](e(212));const c=await o[e(216)](e(225));i[e(209)](e(228),await new Uint8Array(c));const f=await o[e(216)]("intv.grom.bin");i[e(209)](e(211),await new Uint8Array(f))},shader:[_0x5841f1(236),_0x5841f1(222)],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x5841f1(199)]],default_touch_controller:JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC,dependencies:[{key:_0x5841f1(205),type:_0x5841f1(197),required:!![],accepted:[_0x5841f1(221)]},{key:_0x5841f1(214),type:"Executive ROM",required:!![],accepted:["62e761035cb657903761800f4437b8af"]}],fire_buttons:3,additional_buttons:{1:{label:"E",key:{key:"]",code:_0x5841f1(231)}},2:{label:"2",key:{key:"2",code:_0x5841f1(232)}},3:{label:"1",key:{key:"1",code:_0x5841f1(218)}}}};function _0x57de(h,o){const e=_0x38dd();return _0x57de=function(i,c){return i=i-196,e[i]},_0x57de(h,o)}var jszip_min={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(h,o){(function(e){h.exports=e()})(function(){return function e(i,c,f){function m(Ee,Oe){if(!c[Ee]){if(!i[Ee]){var ne=typeof commonjsRequire=="function"&&commonjsRequire;if(!Oe&&ne)return ne(Ee,!0);if(g)return g(Ee,!0);var De=new Error("Cannot find module '"+Ee+"'");throw De.code="MODULE_NOT_FOUND",De}var Ie=c[Ee]={exports:{}};i[Ee][0].call(Ie.exports,function(qe){var Fe=i[Ee][1][qe];return m(Fe||qe)},Ie,Ie.exports,e,i,c,f)}return c[Ee].exports}for(var g=typeof commonjsRequire=="function"&&commonjsRequire,Te=0;Te<f.length;Te++)m(f[Te]);return m}({1:[function(e,i,c){var f=e("./utils"),m=e("./support"),g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";c.encode=function(Te){for(var Ee,Oe,ne,De,Ie,qe,Fe,Ne=[],Ve=0,Ue=Te.length,We=Ue,He=f.getTypeOf(Te)!=="string";Ve<Te.length;)We=Ue-Ve,ne=He?(Ee=Te[Ve++],Oe=Ve<Ue?Te[Ve++]:0,Ve<Ue?Te[Ve++]:0):(Ee=Te.charCodeAt(Ve++),Oe=Ve<Ue?Te.charCodeAt(Ve++):0,Ve<Ue?Te.charCodeAt(Ve++):0),De=Ee>>2,Ie=(3&Ee)<<4|Oe>>4,qe=1<We?(15&Oe)<<2|ne>>6:64,Fe=2<We?63&ne:64,Ne.push(g.charAt(De)+g.charAt(Ie)+g.charAt(qe)+g.charAt(Fe));return Ne.join("")},c.decode=function(Te){var Ee,Oe,ne,De,Ie,qe,Fe=0,Ne=0,Ve="data:";if(Te.substr(0,Ve.length)===Ve)throw new Error("Invalid base64 input, it looks like a data url.");var Ue,We=3*(Te=Te.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(Te.charAt(Te.length-1)===g.charAt(64)&&We--,Te.charAt(Te.length-2)===g.charAt(64)&&We--,We%1!=0)throw new Error("Invalid base64 input, bad content length.");for(Ue=m.uint8array?new Uint8Array(0|We):new Array(0|We);Fe<Te.length;)Ee=g.indexOf(Te.charAt(Fe++))<<2|(De=g.indexOf(Te.charAt(Fe++)))>>4,Oe=(15&De)<<4|(Ie=g.indexOf(Te.charAt(Fe++)))>>2,ne=(3&Ie)<<6|(qe=g.indexOf(Te.charAt(Fe++))),Ue[Ne++]=Ee,Ie!==64&&(Ue[Ne++]=Oe),qe!==64&&(Ue[Ne++]=ne);return Ue}},{"./support":30,"./utils":32}],2:[function(e,i,c){var f=e("./external"),m=e("./stream/DataWorker"),g=e("./stream/Crc32Probe"),Te=e("./stream/DataLengthProbe");function Ee(Oe,ne,De,Ie,qe){this.compressedSize=Oe,this.uncompressedSize=ne,this.crc32=De,this.compression=Ie,this.compressedContent=qe}Ee.prototype={getContentWorker:function(){var Oe=new m(f.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new Te("data_length")),ne=this;return Oe.on("end",function(){if(this.streamInfo.data_length!==ne.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),Oe},getCompressedWorker:function(){return new m(f.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},Ee.createWorkerFrom=function(Oe,ne,De){return Oe.pipe(new g).pipe(new Te("uncompressedSize")).pipe(ne.compressWorker(De)).pipe(new Te("compressedSize")).withStreamInfo("compression",ne)},i.exports=Ee},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,i,c){var f=e("./stream/GenericWorker");c.STORE={magic:"\0\0",compressWorker:function(){return new f("STORE compression")},uncompressWorker:function(){return new f("STORE decompression")}},c.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,i,c){var f=e("./utils"),m=function(){for(var g,Te=[],Ee=0;Ee<256;Ee++){g=Ee;for(var Oe=0;Oe<8;Oe++)g=1&g?3988292384^g>>>1:g>>>1;Te[Ee]=g}return Te}();i.exports=function(g,Te){return g!==void 0&&g.length?f.getTypeOf(g)!=="string"?function(Ee,Oe,ne,De){var Ie=m,qe=De+ne;Ee^=-1;for(var Fe=De;Fe<qe;Fe++)Ee=Ee>>>8^Ie[255&(Ee^Oe[Fe])];return-1^Ee}(0|Te,g,g.length,0):function(Ee,Oe,ne,De){var Ie=m,qe=De+ne;Ee^=-1;for(var Fe=De;Fe<qe;Fe++)Ee=Ee>>>8^Ie[255&(Ee^Oe.charCodeAt(Fe))];return-1^Ee}(0|Te,g,g.length,0):0}},{"./utils":32}],5:[function(e,i,c){c.base64=!1,c.binary=!1,c.dir=!1,c.createFolders=!0,c.date=null,c.compression=null,c.compressionOptions=null,c.comment=null,c.unixPermissions=null,c.dosPermissions=null},{}],6:[function(e,i,c){var f=null;f=typeof Promise<"u"?Promise:e("lie"),i.exports={Promise:f}},{lie:37}],7:[function(e,i,c){var f=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",m=e("pako"),g=e("./utils"),Te=e("./stream/GenericWorker"),Ee=f?"uint8array":"array";function Oe(ne,De){Te.call(this,"FlateWorker/"+ne),this._pako=null,this._pakoAction=ne,this._pakoOptions=De,this.meta={}}c.magic="\b\0",g.inherits(Oe,Te),Oe.prototype.processChunk=function(ne){this.meta=ne.meta,this._pako===null&&this._createPako(),this._pako.push(g.transformTo(Ee,ne.data),!1)},Oe.prototype.flush=function(){Te.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},Oe.prototype.cleanUp=function(){Te.prototype.cleanUp.call(this),this._pako=null},Oe.prototype._createPako=function(){this._pako=new m[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var ne=this;this._pako.onData=function(De){ne.push({data:De,meta:ne.meta})}},c.compressWorker=function(ne){return new Oe("Deflate",ne)},c.uncompressWorker=function(){return new Oe("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,i,c){function f(Ie,qe){var Fe,Ne="";for(Fe=0;Fe<qe;Fe++)Ne+=String.fromCharCode(255&Ie),Ie>>>=8;return Ne}function m(Ie,qe,Fe,Ne,Ve,Ue){var We,He,Xe=Ie.file,ot=Ie.compression,tt=Ue!==Ee.utf8encode,mt=g.transformTo("string",Ue(Xe.name)),gt=g.transformTo("string",Ee.utf8encode(Xe.name)),rt=Xe.comment,pt=g.transformTo("string",Ue(rt)),it=g.transformTo("string",Ee.utf8encode(rt)),vt=gt.length!==Xe.name.length,Ze=it.length!==rt.length,Ft="",Zt="",jt="",ur=Xe.dir,bt=Xe.date,St={crc32:0,compressedSize:0,uncompressedSize:0};qe&&!Fe||(St.crc32=Ie.crc32,St.compressedSize=Ie.compressedSize,St.uncompressedSize=Ie.uncompressedSize);var ct=0;qe&&(ct|=8),tt||!vt&&!Ze||(ct|=2048);var dt=0,Pt=0;ur&&(dt|=16),Ve==="UNIX"?(Pt=798,dt|=function(Kt,fr){var Rr=Kt;return Kt||(Rr=fr?16893:33204),(65535&Rr)<<16}(Xe.unixPermissions,ur)):(Pt=20,dt|=function(Kt){return 63&(Kt||0)}(Xe.dosPermissions)),We=bt.getUTCHours(),We<<=6,We|=bt.getUTCMinutes(),We<<=5,We|=bt.getUTCSeconds()/2,He=bt.getUTCFullYear()-1980,He<<=4,He|=bt.getUTCMonth()+1,He<<=5,He|=bt.getUTCDate(),vt&&(Zt=f(1,1)+f(Oe(mt),4)+gt,Ft+="up"+f(Zt.length,2)+Zt),Ze&&(jt=f(1,1)+f(Oe(pt),4)+it,Ft+="uc"+f(jt.length,2)+jt);var Ct="";return Ct+=`
\0`,Ct+=f(ct,2),Ct+=ot.magic,Ct+=f(We,2),Ct+=f(He,2),Ct+=f(St.crc32,4),Ct+=f(St.compressedSize,4),Ct+=f(St.uncompressedSize,4),Ct+=f(mt.length,2),Ct+=f(Ft.length,2),{fileRecord:ne.LOCAL_FILE_HEADER+Ct+mt+Ft,dirRecord:ne.CENTRAL_FILE_HEADER+f(Pt,2)+Ct+f(pt.length,2)+"\0\0\0\0"+f(dt,4)+f(Ne,4)+mt+Ft+pt}}var g=e("../utils"),Te=e("../stream/GenericWorker"),Ee=e("../utf8"),Oe=e("../crc32"),ne=e("../signature");function De(Ie,qe,Fe,Ne){Te.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=qe,this.zipPlatform=Fe,this.encodeFileName=Ne,this.streamFiles=Ie,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}g.inherits(De,Te),De.prototype.push=function(Ie){var qe=Ie.meta.percent||0,Fe=this.entriesCount,Ne=this._sources.length;this.accumulate?this.contentBuffer.push(Ie):(this.bytesWritten+=Ie.data.length,Te.prototype.push.call(this,{data:Ie.data,meta:{currentFile:this.currentFile,percent:Fe?(qe+100*(Fe-Ne-1))/Fe:100}}))},De.prototype.openedSource=function(Ie){this.currentSourceOffset=this.bytesWritten,this.currentFile=Ie.file.name;var qe=this.streamFiles&&!Ie.file.dir;if(qe){var Fe=m(Ie,qe,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:Fe.fileRecord,meta:{percent:0}})}else this.accumulate=!0},De.prototype.closedSource=function(Ie){this.accumulate=!1;var qe=this.streamFiles&&!Ie.file.dir,Fe=m(Ie,qe,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(Fe.dirRecord),qe)this.push({data:function(Ne){return ne.DATA_DESCRIPTOR+f(Ne.crc32,4)+f(Ne.compressedSize,4)+f(Ne.uncompressedSize,4)}(Ie),meta:{percent:100}});else for(this.push({data:Fe.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},De.prototype.flush=function(){for(var Ie=this.bytesWritten,qe=0;qe<this.dirRecords.length;qe++)this.push({data:this.dirRecords[qe],meta:{percent:100}});var Fe=this.bytesWritten-Ie,Ne=function(Ve,Ue,We,He,Xe){var ot=g.transformTo("string",Xe(He));return ne.CENTRAL_DIRECTORY_END+"\0\0\0\0"+f(Ve,2)+f(Ve,2)+f(Ue,4)+f(We,4)+f(ot.length,2)+ot}(this.dirRecords.length,Fe,Ie,this.zipComment,this.encodeFileName);this.push({data:Ne,meta:{percent:100}})},De.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},De.prototype.registerPrevious=function(Ie){this._sources.push(Ie);var qe=this;return Ie.on("data",function(Fe){qe.processChunk(Fe)}),Ie.on("end",function(){qe.closedSource(qe.previous.streamInfo),qe._sources.length?qe.prepareNextSource():qe.end()}),Ie.on("error",function(Fe){qe.error(Fe)}),this},De.prototype.resume=function(){return!!Te.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},De.prototype.error=function(Ie){var qe=this._sources;if(!Te.prototype.error.call(this,Ie))return!1;for(var Fe=0;Fe<qe.length;Fe++)try{qe[Fe].error(Ie)}catch{}return!0},De.prototype.lock=function(){Te.prototype.lock.call(this);for(var Ie=this._sources,qe=0;qe<Ie.length;qe++)Ie[qe].lock()},i.exports=De},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,i,c){var f=e("../compressions"),m=e("./ZipFileWorker");c.generateWorker=function(g,Te,Ee){var Oe=new m(Te.streamFiles,Ee,Te.platform,Te.encodeFileName),ne=0;try{g.forEach(function(De,Ie){ne++;var qe=function(Ue,We){var He=Ue||We,Xe=f[He];if(!Xe)throw new Error(He+" is not a valid compression method !");return Xe}(Ie.options.compression,Te.compression),Fe=Ie.options.compressionOptions||Te.compressionOptions||{},Ne=Ie.dir,Ve=Ie.date;Ie._compressWorker(qe,Fe).withStreamInfo("file",{name:De,dir:Ne,date:Ve,comment:Ie.comment||"",unixPermissions:Ie.unixPermissions,dosPermissions:Ie.dosPermissions}).pipe(Oe)}),Oe.entriesCount=ne}catch(De){Oe.error(De)}return Oe}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,i,c){function f(){if(!(this instanceof f))return new f;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var m=new f;for(var g in this)typeof this[g]!="function"&&(m[g]=this[g]);return m}}(f.prototype=e("./object")).loadAsync=e("./load"),f.support=e("./support"),f.defaults=e("./defaults"),f.version="3.10.1",f.loadAsync=function(m,g){return new f().loadAsync(m,g)},f.external=e("./external"),i.exports=f},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,i,c){var f=e("./utils"),m=e("./external"),g=e("./utf8"),Te=e("./zipEntries"),Ee=e("./stream/Crc32Probe"),Oe=e("./nodejsUtils");function ne(De){return new m.Promise(function(Ie,qe){var Fe=De.decompressed.getContentWorker().pipe(new Ee);Fe.on("error",function(Ne){qe(Ne)}).on("end",function(){Fe.streamInfo.crc32!==De.decompressed.crc32?qe(new Error("Corrupted zip : CRC32 mismatch")):Ie()}).resume()})}i.exports=function(De,Ie){var qe=this;return Ie=f.extend(Ie||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:g.utf8decode}),Oe.isNode&&Oe.isStream(De)?m.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):f.prepareContent("the loaded zip file",De,!0,Ie.optimizedBinaryString,Ie.base64).then(function(Fe){var Ne=new Te(Ie);return Ne.load(Fe),Ne}).then(function(Fe){var Ne=[m.Promise.resolve(Fe)],Ve=Fe.files;if(Ie.checkCRC32)for(var Ue=0;Ue<Ve.length;Ue++)Ne.push(ne(Ve[Ue]));return m.Promise.all(Ne)}).then(function(Fe){for(var Ne=Fe.shift(),Ve=Ne.files,Ue=0;Ue<Ve.length;Ue++){var We=Ve[Ue],He=We.fileNameStr,Xe=f.resolve(We.fileNameStr);qe.file(Xe,We.decompressed,{binary:!0,optimizedBinaryString:!0,date:We.date,dir:We.dir,comment:We.fileCommentStr.length?We.fileCommentStr:null,unixPermissions:We.unixPermissions,dosPermissions:We.dosPermissions,createFolders:Ie.createFolders}),We.dir||(qe.file(Xe).unsafeOriginalName=He)}return Ne.zipComment.length&&(qe.comment=Ne.zipComment),qe})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,i,c){var f=e("../utils"),m=e("../stream/GenericWorker");function g(Te,Ee){m.call(this,"Nodejs stream input adapter for "+Te),this._upstreamEnded=!1,this._bindStream(Ee)}f.inherits(g,m),g.prototype._bindStream=function(Te){var Ee=this;(this._stream=Te).pause(),Te.on("data",function(Oe){Ee.push({data:Oe,meta:{percent:0}})}).on("error",function(Oe){Ee.isPaused?this.generatedError=Oe:Ee.error(Oe)}).on("end",function(){Ee.isPaused?Ee._upstreamEnded=!0:Ee.end()})},g.prototype.pause=function(){return!!m.prototype.pause.call(this)&&(this._stream.pause(),!0)},g.prototype.resume=function(){return!!m.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},i.exports=g},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,i,c){var f=e("readable-stream").Readable;function m(g,Te,Ee){f.call(this,Te),this._helper=g;var Oe=this;g.on("data",function(ne,De){Oe.push(ne)||Oe._helper.pause(),Ee&&Ee(De)}).on("error",function(ne){Oe.emit("error",ne)}).on("end",function(){Oe.push(null)})}e("../utils").inherits(m,f),m.prototype._read=function(){this._helper.resume()},i.exports=m},{"../utils":32,"readable-stream":16}],14:[function(e,i,c){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(f,m){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(f,m);if(typeof f=="number")throw new Error('The "data" argument must not be a number');return new Buffer(f,m)},allocBuffer:function(f){if(Buffer.alloc)return Buffer.alloc(f);var m=new Buffer(f);return m.fill(0),m},isBuffer:function(f){return Buffer.isBuffer(f)},isStream:function(f){return f&&typeof f.on=="function"&&typeof f.pause=="function"&&typeof f.resume=="function"}}},{}],15:[function(e,i,c){function f(Xe,ot,tt){var mt,gt=g.getTypeOf(ot),rt=g.extend(tt||{},Oe);rt.date=rt.date||new Date,rt.compression!==null&&(rt.compression=rt.compression.toUpperCase()),typeof rt.unixPermissions=="string"&&(rt.unixPermissions=parseInt(rt.unixPermissions,8)),rt.unixPermissions&&16384&rt.unixPermissions&&(rt.dir=!0),rt.dosPermissions&&16&rt.dosPermissions&&(rt.dir=!0),rt.dir&&(Xe=Ve(Xe)),rt.createFolders&&(mt=Ne(Xe))&&Ue.call(this,mt,!0);var pt=gt==="string"&&rt.binary===!1&&rt.base64===!1;tt&&tt.binary!==void 0||(rt.binary=!pt),(ot instanceof ne&&ot.uncompressedSize===0||rt.dir||!ot||ot.length===0)&&(rt.base64=!1,rt.binary=!0,ot="",rt.compression="STORE",gt="string");var it=null;it=ot instanceof ne||ot instanceof Te?ot:qe.isNode&&qe.isStream(ot)?new Fe(Xe,ot):g.prepareContent(Xe,ot,rt.binary,rt.optimizedBinaryString,rt.base64);var vt=new De(Xe,it,rt);this.files[Xe]=vt}var m=e("./utf8"),g=e("./utils"),Te=e("./stream/GenericWorker"),Ee=e("./stream/StreamHelper"),Oe=e("./defaults"),ne=e("./compressedObject"),De=e("./zipObject"),Ie=e("./generate"),qe=e("./nodejsUtils"),Fe=e("./nodejs/NodejsStreamInputAdapter"),Ne=function(Xe){Xe.slice(-1)==="/"&&(Xe=Xe.substring(0,Xe.length-1));var ot=Xe.lastIndexOf("/");return 0<ot?Xe.substring(0,ot):""},Ve=function(Xe){return Xe.slice(-1)!=="/"&&(Xe+="/"),Xe},Ue=function(Xe,ot){return ot=ot!==void 0?ot:Oe.createFolders,Xe=Ve(Xe),this.files[Xe]||f.call(this,Xe,null,{dir:!0,createFolders:ot}),this.files[Xe]};function We(Xe){return Object.prototype.toString.call(Xe)==="[object RegExp]"}var He={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(Xe){var ot,tt,mt;for(ot in this.files)mt=this.files[ot],(tt=ot.slice(this.root.length,ot.length))&&ot.slice(0,this.root.length)===this.root&&Xe(tt,mt)},filter:function(Xe){var ot=[];return this.forEach(function(tt,mt){Xe(tt,mt)&&ot.push(mt)}),ot},file:function(Xe,ot,tt){if(arguments.length!==1)return Xe=this.root+Xe,f.call(this,Xe,ot,tt),this;if(We(Xe)){var mt=Xe;return this.filter(function(rt,pt){return!pt.dir&&mt.test(rt)})}var gt=this.files[this.root+Xe];return gt&&!gt.dir?gt:null},folder:function(Xe){if(!Xe)return this;if(We(Xe))return this.filter(function(gt,rt){return rt.dir&&Xe.test(gt)});var ot=this.root+Xe,tt=Ue.call(this,ot),mt=this.clone();return mt.root=tt.name,mt},remove:function(Xe){Xe=this.root+Xe;var ot=this.files[Xe];if(ot||(Xe.slice(-1)!=="/"&&(Xe+="/"),ot=this.files[Xe]),ot&&!ot.dir)delete this.files[Xe];else for(var tt=this.filter(function(gt,rt){return rt.name.slice(0,Xe.length)===Xe}),mt=0;mt<tt.length;mt++)delete this.files[tt[mt].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(Xe){var ot,tt={};try{if((tt=g.extend(Xe||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:m.utf8encode})).type=tt.type.toLowerCase(),tt.compression=tt.compression.toUpperCase(),tt.type==="binarystring"&&(tt.type="string"),!tt.type)throw new Error("No output type specified.");g.checkSupport(tt.type),tt.platform!=="darwin"&&tt.platform!=="freebsd"&&tt.platform!=="linux"&&tt.platform!=="sunos"||(tt.platform="UNIX"),tt.platform==="win32"&&(tt.platform="DOS");var mt=tt.comment||this.comment||"";ot=Ie.generateWorker(this,tt,mt)}catch(gt){(ot=new Te("error")).error(gt)}return new Ee(ot,tt.type||"string",tt.mimeType)},generateAsync:function(Xe,ot){return this.generateInternalStream(Xe).accumulate(ot)},generateNodeStream:function(Xe,ot){return(Xe=Xe||{}).type||(Xe.type="nodebuffer"),this.generateInternalStream(Xe).toNodejsStream(ot)}};i.exports=He},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,i,c){i.exports=e("stream")},{stream:void 0}],17:[function(e,i,c){var f=e("./DataReader");function m(g){f.call(this,g);for(var Te=0;Te<this.data.length;Te++)g[Te]=255&g[Te]}e("../utils").inherits(m,f),m.prototype.byteAt=function(g){return this.data[this.zero+g]},m.prototype.lastIndexOfSignature=function(g){for(var Te=g.charCodeAt(0),Ee=g.charCodeAt(1),Oe=g.charCodeAt(2),ne=g.charCodeAt(3),De=this.length-4;0<=De;--De)if(this.data[De]===Te&&this.data[De+1]===Ee&&this.data[De+2]===Oe&&this.data[De+3]===ne)return De-this.zero;return-1},m.prototype.readAndCheckSignature=function(g){var Te=g.charCodeAt(0),Ee=g.charCodeAt(1),Oe=g.charCodeAt(2),ne=g.charCodeAt(3),De=this.readData(4);return Te===De[0]&&Ee===De[1]&&Oe===De[2]&&ne===De[3]},m.prototype.readData=function(g){if(this.checkOffset(g),g===0)return[];var Te=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,Te},i.exports=m},{"../utils":32,"./DataReader":18}],18:[function(e,i,c){var f=e("../utils");function m(g){this.data=g,this.length=g.length,this.index=0,this.zero=0}m.prototype={checkOffset:function(g){this.checkIndex(this.index+g)},checkIndex:function(g){if(this.length<this.zero+g||g<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+g+"). Corrupted zip ?")},setIndex:function(g){this.checkIndex(g),this.index=g},skip:function(g){this.setIndex(this.index+g)},byteAt:function(){},readInt:function(g){var Te,Ee=0;for(this.checkOffset(g),Te=this.index+g-1;Te>=this.index;Te--)Ee=(Ee<<8)+this.byteAt(Te);return this.index+=g,Ee},readString:function(g){return f.transformTo("string",this.readData(g))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var g=this.readInt(4);return new Date(Date.UTC(1980+(g>>25&127),(g>>21&15)-1,g>>16&31,g>>11&31,g>>5&63,(31&g)<<1))}},i.exports=m},{"../utils":32}],19:[function(e,i,c){var f=e("./Uint8ArrayReader");function m(g){f.call(this,g)}e("../utils").inherits(m,f),m.prototype.readData=function(g){this.checkOffset(g);var Te=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,Te},i.exports=m},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,i,c){var f=e("./DataReader");function m(g){f.call(this,g)}e("../utils").inherits(m,f),m.prototype.byteAt=function(g){return this.data.charCodeAt(this.zero+g)},m.prototype.lastIndexOfSignature=function(g){return this.data.lastIndexOf(g)-this.zero},m.prototype.readAndCheckSignature=function(g){return g===this.readData(4)},m.prototype.readData=function(g){this.checkOffset(g);var Te=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,Te},i.exports=m},{"../utils":32,"./DataReader":18}],21:[function(e,i,c){var f=e("./ArrayReader");function m(g){f.call(this,g)}e("../utils").inherits(m,f),m.prototype.readData=function(g){if(this.checkOffset(g),g===0)return new Uint8Array(0);var Te=this.data.subarray(this.zero+this.index,this.zero+this.index+g);return this.index+=g,Te},i.exports=m},{"../utils":32,"./ArrayReader":17}],22:[function(e,i,c){var f=e("../utils"),m=e("../support"),g=e("./ArrayReader"),Te=e("./StringReader"),Ee=e("./NodeBufferReader"),Oe=e("./Uint8ArrayReader");i.exports=function(ne){var De=f.getTypeOf(ne);return f.checkSupport(De),De!=="string"||m.uint8array?De==="nodebuffer"?new Ee(ne):m.uint8array?new Oe(f.transformTo("uint8array",ne)):new g(f.transformTo("array",ne)):new Te(ne)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,i,c){c.LOCAL_FILE_HEADER="PK",c.CENTRAL_FILE_HEADER="PK",c.CENTRAL_DIRECTORY_END="PK",c.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",c.ZIP64_CENTRAL_DIRECTORY_END="PK",c.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,i,c){var f=e("./GenericWorker"),m=e("../utils");function g(Te){f.call(this,"ConvertWorker to "+Te),this.destType=Te}m.inherits(g,f),g.prototype.processChunk=function(Te){this.push({data:m.transformTo(this.destType,Te.data),meta:Te.meta})},i.exports=g},{"../utils":32,"./GenericWorker":28}],25:[function(e,i,c){var f=e("./GenericWorker"),m=e("../crc32");function g(){f.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(g,f),g.prototype.processChunk=function(Te){this.streamInfo.crc32=m(Te.data,this.streamInfo.crc32||0),this.push(Te)},i.exports=g},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,i,c){var f=e("../utils"),m=e("./GenericWorker");function g(Te){m.call(this,"DataLengthProbe for "+Te),this.propName=Te,this.withStreamInfo(Te,0)}f.inherits(g,m),g.prototype.processChunk=function(Te){if(Te){var Ee=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=Ee+Te.data.length}m.prototype.processChunk.call(this,Te)},i.exports=g},{"../utils":32,"./GenericWorker":28}],27:[function(e,i,c){var f=e("../utils"),m=e("./GenericWorker");function g(Te){m.call(this,"DataWorker");var Ee=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,Te.then(function(Oe){Ee.dataIsReady=!0,Ee.data=Oe,Ee.max=Oe&&Oe.length||0,Ee.type=f.getTypeOf(Oe),Ee.isPaused||Ee._tickAndRepeat()},function(Oe){Ee.error(Oe)})}f.inherits(g,m),g.prototype.cleanUp=function(){m.prototype.cleanUp.call(this),this.data=null},g.prototype.resume=function(){return!!m.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,f.delay(this._tickAndRepeat,[],this)),!0)},g.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(f.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},g.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var Te=null,Ee=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":Te=this.data.substring(this.index,Ee);break;case"uint8array":Te=this.data.subarray(this.index,Ee);break;case"array":case"nodebuffer":Te=this.data.slice(this.index,Ee)}return this.index=Ee,this.push({data:Te,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=g},{"../utils":32,"./GenericWorker":28}],28:[function(e,i,c){function f(m){this.name=m||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}f.prototype={push:function(m){this.emit("data",m)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(m){this.emit("error",m)}return!0},error:function(m){return!this.isFinished&&(this.isPaused?this.generatedError=m:(this.isFinished=!0,this.emit("error",m),this.previous&&this.previous.error(m),this.cleanUp()),!0)},on:function(m,g){return this._listeners[m].push(g),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(m,g){if(this._listeners[m])for(var Te=0;Te<this._listeners[m].length;Te++)this._listeners[m][Te].call(this,g)},pipe:function(m){return m.registerPrevious(this)},registerPrevious:function(m){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=m.streamInfo,this.mergeStreamInfo(),this.previous=m;var g=this;return m.on("data",function(Te){g.processChunk(Te)}),m.on("end",function(){g.end()}),m.on("error",function(Te){g.error(Te)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var m=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),m=!0),this.previous&&this.previous.resume(),!m},flush:function(){},processChunk:function(m){this.push(m)},withStreamInfo:function(m,g){return this.extraStreamInfo[m]=g,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var m in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,m)&&(this.streamInfo[m]=this.extraStreamInfo[m])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var m="Worker "+this.name;return this.previous?this.previous+" -> "+m:m}},i.exports=f},{}],29:[function(e,i,c){var f=e("../utils"),m=e("./ConvertWorker"),g=e("./GenericWorker"),Te=e("../base64"),Ee=e("../support"),Oe=e("../external"),ne=null;if(Ee.nodestream)try{ne=e("../nodejs/NodejsStreamOutputAdapter")}catch{}function De(qe,Fe){return new Oe.Promise(function(Ne,Ve){var Ue=[],We=qe._internalType,He=qe._outputType,Xe=qe._mimeType;qe.on("data",function(ot,tt){Ue.push(ot),Fe&&Fe(tt)}).on("error",function(ot){Ue=[],Ve(ot)}).on("end",function(){try{var ot=function(tt,mt,gt){switch(tt){case"blob":return f.newBlob(f.transformTo("arraybuffer",mt),gt);case"base64":return Te.encode(mt);default:return f.transformTo(tt,mt)}}(He,function(tt,mt){var gt,rt=0,pt=null,it=0;for(gt=0;gt<mt.length;gt++)it+=mt[gt].length;switch(tt){case"string":return mt.join("");case"array":return Array.prototype.concat.apply([],mt);case"uint8array":for(pt=new Uint8Array(it),gt=0;gt<mt.length;gt++)pt.set(mt[gt],rt),rt+=mt[gt].length;return pt;case"nodebuffer":return Buffer.concat(mt);default:throw new Error("concat : unsupported type '"+tt+"'")}}(We,Ue),Xe);Ne(ot)}catch(tt){Ve(tt)}Ue=[]}).resume()})}function Ie(qe,Fe,Ne){var Ve=Fe;switch(Fe){case"blob":case"arraybuffer":Ve="uint8array";break;case"base64":Ve="string"}try{this._internalType=Ve,this._outputType=Fe,this._mimeType=Ne,f.checkSupport(Ve),this._worker=qe.pipe(new m(Ve)),qe.lock()}catch(Ue){this._worker=new g("error"),this._worker.error(Ue)}}Ie.prototype={accumulate:function(qe){return De(this,qe)},on:function(qe,Fe){var Ne=this;return qe==="data"?this._worker.on(qe,function(Ve){Fe.call(Ne,Ve.data,Ve.meta)}):this._worker.on(qe,function(){f.delay(Fe,arguments,Ne)}),this},resume:function(){return f.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(qe){if(f.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new ne(this,{objectMode:this._outputType!=="nodebuffer"},qe)}},i.exports=Ie},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,i,c){if(c.base64=!0,c.array=!0,c.string=!0,c.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",c.nodebuffer=typeof Buffer<"u",c.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")c.blob=!1;else{var f=new ArrayBuffer(0);try{c.blob=new Blob([f],{type:"application/zip"}).size===0}catch{try{var m=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);m.append(f),c.blob=m.getBlob("application/zip").size===0}catch{c.blob=!1}}}try{c.nodestream=!!e("readable-stream").Readable}catch{c.nodestream=!1}},{"readable-stream":16}],31:[function(e,i,c){for(var f=e("./utils"),m=e("./support"),g=e("./nodejsUtils"),Te=e("./stream/GenericWorker"),Ee=new Array(256),Oe=0;Oe<256;Oe++)Ee[Oe]=252<=Oe?6:248<=Oe?5:240<=Oe?4:224<=Oe?3:192<=Oe?2:1;Ee[254]=Ee[254]=1;function ne(){Te.call(this,"utf-8 decode"),this.leftOver=null}function De(){Te.call(this,"utf-8 encode")}c.utf8encode=function(Ie){return m.nodebuffer?g.newBufferFrom(Ie,"utf-8"):function(qe){var Fe,Ne,Ve,Ue,We,He=qe.length,Xe=0;for(Ue=0;Ue<He;Ue++)(64512&(Ne=qe.charCodeAt(Ue)))==55296&&Ue+1<He&&(64512&(Ve=qe.charCodeAt(Ue+1)))==56320&&(Ne=65536+(Ne-55296<<10)+(Ve-56320),Ue++),Xe+=Ne<128?1:Ne<2048?2:Ne<65536?3:4;for(Fe=m.uint8array?new Uint8Array(Xe):new Array(Xe),Ue=We=0;We<Xe;Ue++)(64512&(Ne=qe.charCodeAt(Ue)))==55296&&Ue+1<He&&(64512&(Ve=qe.charCodeAt(Ue+1)))==56320&&(Ne=65536+(Ne-55296<<10)+(Ve-56320),Ue++),Ne<128?Fe[We++]=Ne:(Ne<2048?Fe[We++]=192|Ne>>>6:(Ne<65536?Fe[We++]=224|Ne>>>12:(Fe[We++]=240|Ne>>>18,Fe[We++]=128|Ne>>>12&63),Fe[We++]=128|Ne>>>6&63),Fe[We++]=128|63&Ne);return Fe}(Ie)},c.utf8decode=function(Ie){return m.nodebuffer?f.transformTo("nodebuffer",Ie).toString("utf-8"):function(qe){var Fe,Ne,Ve,Ue,We=qe.length,He=new Array(2*We);for(Fe=Ne=0;Fe<We;)if((Ve=qe[Fe++])<128)He[Ne++]=Ve;else if(4<(Ue=Ee[Ve]))He[Ne++]=65533,Fe+=Ue-1;else{for(Ve&=Ue===2?31:Ue===3?15:7;1<Ue&&Fe<We;)Ve=Ve<<6|63&qe[Fe++],Ue--;1<Ue?He[Ne++]=65533:Ve<65536?He[Ne++]=Ve:(Ve-=65536,He[Ne++]=55296|Ve>>10&1023,He[Ne++]=56320|1023&Ve)}return He.length!==Ne&&(He.subarray?He=He.subarray(0,Ne):He.length=Ne),f.applyFromCharCode(He)}(Ie=f.transformTo(m.uint8array?"uint8array":"array",Ie))},f.inherits(ne,Te),ne.prototype.processChunk=function(Ie){var qe=f.transformTo(m.uint8array?"uint8array":"array",Ie.data);if(this.leftOver&&this.leftOver.length){if(m.uint8array){var Fe=qe;(qe=new Uint8Array(Fe.length+this.leftOver.length)).set(this.leftOver,0),qe.set(Fe,this.leftOver.length)}else qe=this.leftOver.concat(qe);this.leftOver=null}var Ne=function(Ue,We){var He;for((We=We||Ue.length)>Ue.length&&(We=Ue.length),He=We-1;0<=He&&(192&Ue[He])==128;)He--;return He<0||He===0?We:He+Ee[Ue[He]]>We?He:We}(qe),Ve=qe;Ne!==qe.length&&(m.uint8array?(Ve=qe.subarray(0,Ne),this.leftOver=qe.subarray(Ne,qe.length)):(Ve=qe.slice(0,Ne),this.leftOver=qe.slice(Ne,qe.length))),this.push({data:c.utf8decode(Ve),meta:Ie.meta})},ne.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:c.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},c.Utf8DecodeWorker=ne,f.inherits(De,Te),De.prototype.processChunk=function(Ie){this.push({data:c.utf8encode(Ie.data),meta:Ie.meta})},c.Utf8EncodeWorker=De},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,i,c){var f=e("./support"),m=e("./base64"),g=e("./nodejsUtils"),Te=e("./external");function Ee(Fe){return Fe}function Oe(Fe,Ne){for(var Ve=0;Ve<Fe.length;++Ve)Ne[Ve]=255&Fe.charCodeAt(Ve);return Ne}e("setimmediate"),c.newBlob=function(Fe,Ne){c.checkSupport("blob");try{return new Blob([Fe],{type:Ne})}catch{try{var Ve=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return Ve.append(Fe),Ve.getBlob(Ne)}catch{throw new Error("Bug : can't construct the Blob.")}}};var ne={stringifyByChunk:function(Fe,Ne,Ve){var Ue=[],We=0,He=Fe.length;if(He<=Ve)return String.fromCharCode.apply(null,Fe);for(;We<He;)Ne==="array"||Ne==="nodebuffer"?Ue.push(String.fromCharCode.apply(null,Fe.slice(We,Math.min(We+Ve,He)))):Ue.push(String.fromCharCode.apply(null,Fe.subarray(We,Math.min(We+Ve,He)))),We+=Ve;return Ue.join("")},stringifyByChar:function(Fe){for(var Ne="",Ve=0;Ve<Fe.length;Ve++)Ne+=String.fromCharCode(Fe[Ve]);return Ne},applyCanBeUsed:{uint8array:function(){try{return f.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return f.nodebuffer&&String.fromCharCode.apply(null,g.allocBuffer(1)).length===1}catch{return!1}}()}};function De(Fe){var Ne=65536,Ve=c.getTypeOf(Fe),Ue=!0;if(Ve==="uint8array"?Ue=ne.applyCanBeUsed.uint8array:Ve==="nodebuffer"&&(Ue=ne.applyCanBeUsed.nodebuffer),Ue)for(;1<Ne;)try{return ne.stringifyByChunk(Fe,Ve,Ne)}catch{Ne=Math.floor(Ne/2)}return ne.stringifyByChar(Fe)}function Ie(Fe,Ne){for(var Ve=0;Ve<Fe.length;Ve++)Ne[Ve]=Fe[Ve];return Ne}c.applyFromCharCode=De;var qe={};qe.string={string:Ee,array:function(Fe){return Oe(Fe,new Array(Fe.length))},arraybuffer:function(Fe){return qe.string.uint8array(Fe).buffer},uint8array:function(Fe){return Oe(Fe,new Uint8Array(Fe.length))},nodebuffer:function(Fe){return Oe(Fe,g.allocBuffer(Fe.length))}},qe.array={string:De,array:Ee,arraybuffer:function(Fe){return new Uint8Array(Fe).buffer},uint8array:function(Fe){return new Uint8Array(Fe)},nodebuffer:function(Fe){return g.newBufferFrom(Fe)}},qe.arraybuffer={string:function(Fe){return De(new Uint8Array(Fe))},array:function(Fe){return Ie(new Uint8Array(Fe),new Array(Fe.byteLength))},arraybuffer:Ee,uint8array:function(Fe){return new Uint8Array(Fe)},nodebuffer:function(Fe){return g.newBufferFrom(new Uint8Array(Fe))}},qe.uint8array={string:De,array:function(Fe){return Ie(Fe,new Array(Fe.length))},arraybuffer:function(Fe){return Fe.buffer},uint8array:Ee,nodebuffer:function(Fe){return g.newBufferFrom(Fe)}},qe.nodebuffer={string:De,array:function(Fe){return Ie(Fe,new Array(Fe.length))},arraybuffer:function(Fe){return qe.nodebuffer.uint8array(Fe).buffer},uint8array:function(Fe){return Ie(Fe,new Uint8Array(Fe.length))},nodebuffer:Ee},c.transformTo=function(Fe,Ne){if(Ne=Ne||"",!Fe)return Ne;c.checkSupport(Fe);var Ve=c.getTypeOf(Ne);return qe[Ve][Fe](Ne)},c.resolve=function(Fe){for(var Ne=Fe.split("/"),Ve=[],Ue=0;Ue<Ne.length;Ue++){var We=Ne[Ue];We==="."||We===""&&Ue!==0&&Ue!==Ne.length-1||(We===".."?Ve.pop():Ve.push(We))}return Ve.join("/")},c.getTypeOf=function(Fe){return typeof Fe=="string"?"string":Object.prototype.toString.call(Fe)==="[object Array]"?"array":f.nodebuffer&&g.isBuffer(Fe)?"nodebuffer":f.uint8array&&Fe instanceof Uint8Array?"uint8array":f.arraybuffer&&Fe instanceof ArrayBuffer?"arraybuffer":void 0},c.checkSupport=function(Fe){if(!f[Fe.toLowerCase()])throw new Error(Fe+" is not supported by this platform")},c.MAX_VALUE_16BITS=65535,c.MAX_VALUE_32BITS=-1,c.pretty=function(Fe){var Ne,Ve,Ue="";for(Ve=0;Ve<(Fe||"").length;Ve++)Ue+="\\x"+((Ne=Fe.charCodeAt(Ve))<16?"0":"")+Ne.toString(16).toUpperCase();return Ue},c.delay=function(Fe,Ne,Ve){setImmediate(function(){Fe.apply(Ve||null,Ne||[])})},c.inherits=function(Fe,Ne){function Ve(){}Ve.prototype=Ne.prototype,Fe.prototype=new Ve},c.extend=function(){var Fe,Ne,Ve={};for(Fe=0;Fe<arguments.length;Fe++)for(Ne in arguments[Fe])Object.prototype.hasOwnProperty.call(arguments[Fe],Ne)&&Ve[Ne]===void 0&&(Ve[Ne]=arguments[Fe][Ne]);return Ve},c.prepareContent=function(Fe,Ne,Ve,Ue,We){return Te.Promise.resolve(Ne).then(function(He){return f.blob&&(He instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(He))!==-1)&&typeof FileReader<"u"?new Te.Promise(function(Xe,ot){var tt=new FileReader;tt.onload=function(mt){Xe(mt.target.result)},tt.onerror=function(mt){ot(mt.target.error)},tt.readAsArrayBuffer(He)}):He}).then(function(He){var Xe=c.getTypeOf(He);return Xe?(Xe==="arraybuffer"?He=c.transformTo("uint8array",He):Xe==="string"&&(We?He=m.decode(He):Ve&&Ue!==!0&&(He=function(ot){return Oe(ot,f.uint8array?new Uint8Array(ot.length):new Array(ot.length))}(He))),He):Te.Promise.reject(new Error("Can't read the data of '"+Fe+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,i,c){var f=e("./reader/readerFor"),m=e("./utils"),g=e("./signature"),Te=e("./zipEntry"),Ee=e("./support");function Oe(ne){this.files=[],this.loadOptions=ne}Oe.prototype={checkSignature:function(ne){if(!this.reader.readAndCheckSignature(ne)){this.reader.index-=4;var De=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+m.pretty(De)+", expected "+m.pretty(ne)+")")}},isSignature:function(ne,De){var Ie=this.reader.index;this.reader.setIndex(ne);var qe=this.reader.readString(4)===De;return this.reader.setIndex(Ie),qe},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var ne=this.reader.readData(this.zipCommentLength),De=Ee.uint8array?"uint8array":"array",Ie=m.transformTo(De,ne);this.zipComment=this.loadOptions.decodeFileName(Ie)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var ne,De,Ie,qe=this.zip64EndOfCentralSize-44;0<qe;)ne=this.reader.readInt(2),De=this.reader.readInt(4),Ie=this.reader.readData(De),this.zip64ExtensibleData[ne]={id:ne,length:De,value:Ie}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var ne,De;for(ne=0;ne<this.files.length;ne++)De=this.files[ne],this.reader.setIndex(De.localHeaderOffset),this.checkSignature(g.LOCAL_FILE_HEADER),De.readLocalPart(this.reader),De.handleUTF8(),De.processAttributes()},readCentralDir:function(){var ne;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(g.CENTRAL_FILE_HEADER);)(ne=new Te({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(ne);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var ne=this.reader.lastIndexOfSignature(g.CENTRAL_DIRECTORY_END);if(ne<0)throw this.isSignature(0,g.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(ne);var De=ne;if(this.checkSignature(g.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===m.MAX_VALUE_16BITS||this.diskWithCentralDirStart===m.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===m.MAX_VALUE_16BITS||this.centralDirRecords===m.MAX_VALUE_16BITS||this.centralDirSize===m.MAX_VALUE_32BITS||this.centralDirOffset===m.MAX_VALUE_32BITS){if(this.zip64=!0,(ne=this.reader.lastIndexOfSignature(g.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(ne),this.checkSignature(g.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,g.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(g.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(g.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var Ie=this.centralDirOffset+this.centralDirSize;this.zip64&&(Ie+=20,Ie+=12+this.zip64EndOfCentralSize);var qe=De-Ie;if(0<qe)this.isSignature(De,g.CENTRAL_FILE_HEADER)||(this.reader.zero=qe);else if(qe<0)throw new Error("Corrupted zip: missing "+Math.abs(qe)+" bytes.")},prepareReader:function(ne){this.reader=f(ne)},load:function(ne){this.prepareReader(ne),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=Oe},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,i,c){var f=e("./reader/readerFor"),m=e("./utils"),g=e("./compressedObject"),Te=e("./crc32"),Ee=e("./utf8"),Oe=e("./compressions"),ne=e("./support");function De(Ie,qe){this.options=Ie,this.loadOptions=qe}De.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(Ie){var qe,Fe;if(Ie.skip(22),this.fileNameLength=Ie.readInt(2),Fe=Ie.readInt(2),this.fileName=Ie.readData(this.fileNameLength),Ie.skip(Fe),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((qe=function(Ne){for(var Ve in Oe)if(Object.prototype.hasOwnProperty.call(Oe,Ve)&&Oe[Ve].magic===Ne)return Oe[Ve];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+m.pretty(this.compressionMethod)+" unknown (inner file : "+m.transformTo("string",this.fileName)+")");this.decompressed=new g(this.compressedSize,this.uncompressedSize,this.crc32,qe,Ie.readData(this.compressedSize))},readCentralPart:function(Ie){this.versionMadeBy=Ie.readInt(2),Ie.skip(2),this.bitFlag=Ie.readInt(2),this.compressionMethod=Ie.readString(2),this.date=Ie.readDate(),this.crc32=Ie.readInt(4),this.compressedSize=Ie.readInt(4),this.uncompressedSize=Ie.readInt(4);var qe=Ie.readInt(2);if(this.extraFieldsLength=Ie.readInt(2),this.fileCommentLength=Ie.readInt(2),this.diskNumberStart=Ie.readInt(2),this.internalFileAttributes=Ie.readInt(2),this.externalFileAttributes=Ie.readInt(4),this.localHeaderOffset=Ie.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");Ie.skip(qe),this.readExtraFields(Ie),this.parseZIP64ExtraField(Ie),this.fileComment=Ie.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var Ie=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),Ie==0&&(this.dosPermissions=63&this.externalFileAttributes),Ie==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var Ie=f(this.extraFields[1].value);this.uncompressedSize===m.MAX_VALUE_32BITS&&(this.uncompressedSize=Ie.readInt(8)),this.compressedSize===m.MAX_VALUE_32BITS&&(this.compressedSize=Ie.readInt(8)),this.localHeaderOffset===m.MAX_VALUE_32BITS&&(this.localHeaderOffset=Ie.readInt(8)),this.diskNumberStart===m.MAX_VALUE_32BITS&&(this.diskNumberStart=Ie.readInt(4))}},readExtraFields:function(Ie){var qe,Fe,Ne,Ve=Ie.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});Ie.index+4<Ve;)qe=Ie.readInt(2),Fe=Ie.readInt(2),Ne=Ie.readData(Fe),this.extraFields[qe]={id:qe,length:Fe,value:Ne};Ie.setIndex(Ve)},handleUTF8:function(){var Ie=ne.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=Ee.utf8decode(this.fileName),this.fileCommentStr=Ee.utf8decode(this.fileComment);else{var qe=this.findExtraFieldUnicodePath();if(qe!==null)this.fileNameStr=qe;else{var Fe=m.transformTo(Ie,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(Fe)}var Ne=this.findExtraFieldUnicodeComment();if(Ne!==null)this.fileCommentStr=Ne;else{var Ve=m.transformTo(Ie,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(Ve)}}},findExtraFieldUnicodePath:function(){var Ie=this.extraFields[28789];if(Ie){var qe=f(Ie.value);return qe.readInt(1)!==1||Te(this.fileName)!==qe.readInt(4)?null:Ee.utf8decode(qe.readData(Ie.length-5))}return null},findExtraFieldUnicodeComment:function(){var Ie=this.extraFields[25461];if(Ie){var qe=f(Ie.value);return qe.readInt(1)!==1||Te(this.fileComment)!==qe.readInt(4)?null:Ee.utf8decode(qe.readData(Ie.length-5))}return null}},i.exports=De},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,i,c){function f(qe,Fe,Ne){this.name=qe,this.dir=Ne.dir,this.date=Ne.date,this.comment=Ne.comment,this.unixPermissions=Ne.unixPermissions,this.dosPermissions=Ne.dosPermissions,this._data=Fe,this._dataBinary=Ne.binary,this.options={compression:Ne.compression,compressionOptions:Ne.compressionOptions}}var m=e("./stream/StreamHelper"),g=e("./stream/DataWorker"),Te=e("./utf8"),Ee=e("./compressedObject"),Oe=e("./stream/GenericWorker");f.prototype={internalStream:function(qe){var Fe=null,Ne="string";try{if(!qe)throw new Error("No output type specified.");var Ve=(Ne=qe.toLowerCase())==="string"||Ne==="text";Ne!=="binarystring"&&Ne!=="text"||(Ne="string"),Fe=this._decompressWorker();var Ue=!this._dataBinary;Ue&&!Ve&&(Fe=Fe.pipe(new Te.Utf8EncodeWorker)),!Ue&&Ve&&(Fe=Fe.pipe(new Te.Utf8DecodeWorker))}catch(We){(Fe=new Oe("error")).error(We)}return new m(Fe,Ne,"")},async:function(qe,Fe){return this.internalStream(qe).accumulate(Fe)},nodeStream:function(qe,Fe){return this.internalStream(qe||"nodebuffer").toNodejsStream(Fe)},_compressWorker:function(qe,Fe){if(this._data instanceof Ee&&this._data.compression.magic===qe.magic)return this._data.getCompressedWorker();var Ne=this._decompressWorker();return this._dataBinary||(Ne=Ne.pipe(new Te.Utf8EncodeWorker)),Ee.createWorkerFrom(Ne,qe,Fe)},_decompressWorker:function(){return this._data instanceof Ee?this._data.getContentWorker():this._data instanceof Oe?this._data:new g(this._data)}};for(var ne=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],De=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},Ie=0;Ie<ne.length;Ie++)f.prototype[ne[Ie]]=De;i.exports=f},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,i,c){(function(f){var m,g,Te=f.MutationObserver||f.WebKitMutationObserver;if(Te){var Ee=0,Oe=new Te(qe),ne=f.document.createTextNode("");Oe.observe(ne,{characterData:!0}),m=function(){ne.data=Ee=++Ee%2}}else if(f.setImmediate||f.MessageChannel===void 0)m="document"in f&&"onreadystatechange"in f.document.createElement("script")?function(){var Fe=f.document.createElement("script");Fe.onreadystatechange=function(){qe(),Fe.onreadystatechange=null,Fe.parentNode.removeChild(Fe),Fe=null},f.document.documentElement.appendChild(Fe)}:function(){setTimeout(qe,0)};else{var De=new f.MessageChannel;De.port1.onmessage=qe,m=function(){De.port2.postMessage(0)}}var Ie=[];function qe(){var Fe,Ne;g=!0;for(var Ve=Ie.length;Ve;){for(Ne=Ie,Ie=[],Fe=-1;++Fe<Ve;)Ne[Fe]();Ve=Ie.length}g=!1}i.exports=function(Fe){Ie.push(Fe)!==1||g||m()}}).call(this,typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(e,i,c){var f=e("immediate");function m(){}var g={},Te=["REJECTED"],Ee=["FULFILLED"],Oe=["PENDING"];function ne(Ve){if(typeof Ve!="function")throw new TypeError("resolver must be a function");this.state=Oe,this.queue=[],this.outcome=void 0,Ve!==m&&Fe(this,Ve)}function De(Ve,Ue,We){this.promise=Ve,typeof Ue=="function"&&(this.onFulfilled=Ue,this.callFulfilled=this.otherCallFulfilled),typeof We=="function"&&(this.onRejected=We,this.callRejected=this.otherCallRejected)}function Ie(Ve,Ue,We){f(function(){var He;try{He=Ue(We)}catch(Xe){return g.reject(Ve,Xe)}He===Ve?g.reject(Ve,new TypeError("Cannot resolve promise with itself")):g.resolve(Ve,He)})}function qe(Ve){var Ue=Ve&&Ve.then;if(Ve&&(typeof Ve=="object"||typeof Ve=="function")&&typeof Ue=="function")return function(){Ue.apply(Ve,arguments)}}function Fe(Ve,Ue){var We=!1;function He(tt){We||(We=!0,g.reject(Ve,tt))}function Xe(tt){We||(We=!0,g.resolve(Ve,tt))}var ot=Ne(function(){Ue(Xe,He)});ot.status==="error"&&He(ot.value)}function Ne(Ve,Ue){var We={};try{We.value=Ve(Ue),We.status="success"}catch(He){We.status="error",We.value=He}return We}(i.exports=ne).prototype.finally=function(Ve){if(typeof Ve!="function")return this;var Ue=this.constructor;return this.then(function(We){return Ue.resolve(Ve()).then(function(){return We})},function(We){return Ue.resolve(Ve()).then(function(){throw We})})},ne.prototype.catch=function(Ve){return this.then(null,Ve)},ne.prototype.then=function(Ve,Ue){if(typeof Ve!="function"&&this.state===Ee||typeof Ue!="function"&&this.state===Te)return this;var We=new this.constructor(m);return this.state!==Oe?Ie(We,this.state===Ee?Ve:Ue,this.outcome):this.queue.push(new De(We,Ve,Ue)),We},De.prototype.callFulfilled=function(Ve){g.resolve(this.promise,Ve)},De.prototype.otherCallFulfilled=function(Ve){Ie(this.promise,this.onFulfilled,Ve)},De.prototype.callRejected=function(Ve){g.reject(this.promise,Ve)},De.prototype.otherCallRejected=function(Ve){Ie(this.promise,this.onRejected,Ve)},g.resolve=function(Ve,Ue){var We=Ne(qe,Ue);if(We.status==="error")return g.reject(Ve,We.value);var He=We.value;if(He)Fe(Ve,He);else{Ve.state=Ee,Ve.outcome=Ue;for(var Xe=-1,ot=Ve.queue.length;++Xe<ot;)Ve.queue[Xe].callFulfilled(Ue)}return Ve},g.reject=function(Ve,Ue){Ve.state=Te,Ve.outcome=Ue;for(var We=-1,He=Ve.queue.length;++We<He;)Ve.queue[We].callRejected(Ue);return Ve},ne.resolve=function(Ve){return Ve instanceof this?Ve:g.resolve(new this(m),Ve)},ne.reject=function(Ve){var Ue=new this(m);return g.reject(Ue,Ve)},ne.all=function(Ve){var Ue=this;if(Object.prototype.toString.call(Ve)!=="[object Array]")return this.reject(new TypeError("must be an array"));var We=Ve.length,He=!1;if(!We)return this.resolve([]);for(var Xe=new Array(We),ot=0,tt=-1,mt=new this(m);++tt<We;)gt(Ve[tt],tt);return mt;function gt(rt,pt){Ue.resolve(rt).then(function(it){Xe[pt]=it,++ot!==We||He||(He=!0,g.resolve(mt,Xe))},function(it){He||(He=!0,g.reject(mt,it))})}},ne.race=function(Ve){var Ue=this;if(Object.prototype.toString.call(Ve)!=="[object Array]")return this.reject(new TypeError("must be an array"));var We=Ve.length,He=!1;if(!We)return this.resolve([]);for(var Xe=-1,ot=new this(m);++Xe<We;)tt=Ve[Xe],Ue.resolve(tt).then(function(mt){He||(He=!0,g.resolve(ot,mt))},function(mt){He||(He=!0,g.reject(ot,mt))});var tt;return ot}},{immediate:36}],38:[function(e,i,c){var f={};(0,e("./lib/utils/common").assign)(f,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),i.exports=f},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,i,c){var f=e("./zlib/deflate"),m=e("./utils/common"),g=e("./utils/strings"),Te=e("./zlib/messages"),Ee=e("./zlib/zstream"),Oe=Object.prototype.toString,ne=0,De=-1,Ie=0,qe=8;function Fe(Ve){if(!(this instanceof Fe))return new Fe(Ve);this.options=m.assign({level:De,method:qe,chunkSize:16384,windowBits:15,memLevel:8,strategy:Ie,to:""},Ve||{});var Ue=this.options;Ue.raw&&0<Ue.windowBits?Ue.windowBits=-Ue.windowBits:Ue.gzip&&0<Ue.windowBits&&Ue.windowBits<16&&(Ue.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ee,this.strm.avail_out=0;var We=f.deflateInit2(this.strm,Ue.level,Ue.method,Ue.windowBits,Ue.memLevel,Ue.strategy);if(We!==ne)throw new Error(Te[We]);if(Ue.header&&f.deflateSetHeader(this.strm,Ue.header),Ue.dictionary){var He;if(He=typeof Ue.dictionary=="string"?g.string2buf(Ue.dictionary):Oe.call(Ue.dictionary)==="[object ArrayBuffer]"?new Uint8Array(Ue.dictionary):Ue.dictionary,(We=f.deflateSetDictionary(this.strm,He))!==ne)throw new Error(Te[We]);this._dict_set=!0}}function Ne(Ve,Ue){var We=new Fe(Ue);if(We.push(Ve,!0),We.err)throw We.msg||Te[We.err];return We.result}Fe.prototype.push=function(Ve,Ue){var We,He,Xe=this.strm,ot=this.options.chunkSize;if(this.ended)return!1;He=Ue===~~Ue?Ue:Ue===!0?4:0,typeof Ve=="string"?Xe.input=g.string2buf(Ve):Oe.call(Ve)==="[object ArrayBuffer]"?Xe.input=new Uint8Array(Ve):Xe.input=Ve,Xe.next_in=0,Xe.avail_in=Xe.input.length;do{if(Xe.avail_out===0&&(Xe.output=new m.Buf8(ot),Xe.next_out=0,Xe.avail_out=ot),(We=f.deflate(Xe,He))!==1&&We!==ne)return this.onEnd(We),!(this.ended=!0);Xe.avail_out!==0&&(Xe.avail_in!==0||He!==4&&He!==2)||(this.options.to==="string"?this.onData(g.buf2binstring(m.shrinkBuf(Xe.output,Xe.next_out))):this.onData(m.shrinkBuf(Xe.output,Xe.next_out)))}while((0<Xe.avail_in||Xe.avail_out===0)&&We!==1);return He===4?(We=f.deflateEnd(this.strm),this.onEnd(We),this.ended=!0,We===ne):He!==2||(this.onEnd(ne),!(Xe.avail_out=0))},Fe.prototype.onData=function(Ve){this.chunks.push(Ve)},Fe.prototype.onEnd=function(Ve){Ve===ne&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=Ve,this.msg=this.strm.msg},c.Deflate=Fe,c.deflate=Ne,c.deflateRaw=function(Ve,Ue){return(Ue=Ue||{}).raw=!0,Ne(Ve,Ue)},c.gzip=function(Ve,Ue){return(Ue=Ue||{}).gzip=!0,Ne(Ve,Ue)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,i,c){var f=e("./zlib/inflate"),m=e("./utils/common"),g=e("./utils/strings"),Te=e("./zlib/constants"),Ee=e("./zlib/messages"),Oe=e("./zlib/zstream"),ne=e("./zlib/gzheader"),De=Object.prototype.toString;function Ie(Fe){if(!(this instanceof Ie))return new Ie(Fe);this.options=m.assign({chunkSize:16384,windowBits:0,to:""},Fe||{});var Ne=this.options;Ne.raw&&0<=Ne.windowBits&&Ne.windowBits<16&&(Ne.windowBits=-Ne.windowBits,Ne.windowBits===0&&(Ne.windowBits=-15)),!(0<=Ne.windowBits&&Ne.windowBits<16)||Fe&&Fe.windowBits||(Ne.windowBits+=32),15<Ne.windowBits&&Ne.windowBits<48&&!(15&Ne.windowBits)&&(Ne.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Oe,this.strm.avail_out=0;var Ve=f.inflateInit2(this.strm,Ne.windowBits);if(Ve!==Te.Z_OK)throw new Error(Ee[Ve]);this.header=new ne,f.inflateGetHeader(this.strm,this.header)}function qe(Fe,Ne){var Ve=new Ie(Ne);if(Ve.push(Fe,!0),Ve.err)throw Ve.msg||Ee[Ve.err];return Ve.result}Ie.prototype.push=function(Fe,Ne){var Ve,Ue,We,He,Xe,ot,tt=this.strm,mt=this.options.chunkSize,gt=this.options.dictionary,rt=!1;if(this.ended)return!1;Ue=Ne===~~Ne?Ne:Ne===!0?Te.Z_FINISH:Te.Z_NO_FLUSH,typeof Fe=="string"?tt.input=g.binstring2buf(Fe):De.call(Fe)==="[object ArrayBuffer]"?tt.input=new Uint8Array(Fe):tt.input=Fe,tt.next_in=0,tt.avail_in=tt.input.length;do{if(tt.avail_out===0&&(tt.output=new m.Buf8(mt),tt.next_out=0,tt.avail_out=mt),(Ve=f.inflate(tt,Te.Z_NO_FLUSH))===Te.Z_NEED_DICT&&gt&&(ot=typeof gt=="string"?g.string2buf(gt):De.call(gt)==="[object ArrayBuffer]"?new Uint8Array(gt):gt,Ve=f.inflateSetDictionary(this.strm,ot)),Ve===Te.Z_BUF_ERROR&&rt===!0&&(Ve=Te.Z_OK,rt=!1),Ve!==Te.Z_STREAM_END&&Ve!==Te.Z_OK)return this.onEnd(Ve),!(this.ended=!0);tt.next_out&&(tt.avail_out!==0&&Ve!==Te.Z_STREAM_END&&(tt.avail_in!==0||Ue!==Te.Z_FINISH&&Ue!==Te.Z_SYNC_FLUSH)||(this.options.to==="string"?(We=g.utf8border(tt.output,tt.next_out),He=tt.next_out-We,Xe=g.buf2string(tt.output,We),tt.next_out=He,tt.avail_out=mt-He,He&&m.arraySet(tt.output,tt.output,We,He,0),this.onData(Xe)):this.onData(m.shrinkBuf(tt.output,tt.next_out)))),tt.avail_in===0&&tt.avail_out===0&&(rt=!0)}while((0<tt.avail_in||tt.avail_out===0)&&Ve!==Te.Z_STREAM_END);return Ve===Te.Z_STREAM_END&&(Ue=Te.Z_FINISH),Ue===Te.Z_FINISH?(Ve=f.inflateEnd(this.strm),this.onEnd(Ve),this.ended=!0,Ve===Te.Z_OK):Ue!==Te.Z_SYNC_FLUSH||(this.onEnd(Te.Z_OK),!(tt.avail_out=0))},Ie.prototype.onData=function(Fe){this.chunks.push(Fe)},Ie.prototype.onEnd=function(Fe){Fe===Te.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=Fe,this.msg=this.strm.msg},c.Inflate=Ie,c.inflate=qe,c.inflateRaw=function(Fe,Ne){return(Ne=Ne||{}).raw=!0,qe(Fe,Ne)},c.ungzip=qe},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,i,c){var f=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";c.assign=function(Te){for(var Ee=Array.prototype.slice.call(arguments,1);Ee.length;){var Oe=Ee.shift();if(Oe){if(typeof Oe!="object")throw new TypeError(Oe+"must be non-object");for(var ne in Oe)Oe.hasOwnProperty(ne)&&(Te[ne]=Oe[ne])}}return Te},c.shrinkBuf=function(Te,Ee){return Te.length===Ee?Te:Te.subarray?Te.subarray(0,Ee):(Te.length=Ee,Te)};var m={arraySet:function(Te,Ee,Oe,ne,De){if(Ee.subarray&&Te.subarray)Te.set(Ee.subarray(Oe,Oe+ne),De);else for(var Ie=0;Ie<ne;Ie++)Te[De+Ie]=Ee[Oe+Ie]},flattenChunks:function(Te){var Ee,Oe,ne,De,Ie,qe;for(Ee=ne=0,Oe=Te.length;Ee<Oe;Ee++)ne+=Te[Ee].length;for(qe=new Uint8Array(ne),Ee=De=0,Oe=Te.length;Ee<Oe;Ee++)Ie=Te[Ee],qe.set(Ie,De),De+=Ie.length;return qe}},g={arraySet:function(Te,Ee,Oe,ne,De){for(var Ie=0;Ie<ne;Ie++)Te[De+Ie]=Ee[Oe+Ie]},flattenChunks:function(Te){return[].concat.apply([],Te)}};c.setTyped=function(Te){Te?(c.Buf8=Uint8Array,c.Buf16=Uint16Array,c.Buf32=Int32Array,c.assign(c,m)):(c.Buf8=Array,c.Buf16=Array,c.Buf32=Array,c.assign(c,g))},c.setTyped(f)},{}],42:[function(e,i,c){var f=e("./common"),m=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch{m=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{g=!1}for(var Te=new f.Buf8(256),Ee=0;Ee<256;Ee++)Te[Ee]=252<=Ee?6:248<=Ee?5:240<=Ee?4:224<=Ee?3:192<=Ee?2:1;function Oe(ne,De){if(De<65537&&(ne.subarray&&g||!ne.subarray&&m))return String.fromCharCode.apply(null,f.shrinkBuf(ne,De));for(var Ie="",qe=0;qe<De;qe++)Ie+=String.fromCharCode(ne[qe]);return Ie}Te[254]=Te[254]=1,c.string2buf=function(ne){var De,Ie,qe,Fe,Ne,Ve=ne.length,Ue=0;for(Fe=0;Fe<Ve;Fe++)(64512&(Ie=ne.charCodeAt(Fe)))==55296&&Fe+1<Ve&&(64512&(qe=ne.charCodeAt(Fe+1)))==56320&&(Ie=65536+(Ie-55296<<10)+(qe-56320),Fe++),Ue+=Ie<128?1:Ie<2048?2:Ie<65536?3:4;for(De=new f.Buf8(Ue),Fe=Ne=0;Ne<Ue;Fe++)(64512&(Ie=ne.charCodeAt(Fe)))==55296&&Fe+1<Ve&&(64512&(qe=ne.charCodeAt(Fe+1)))==56320&&(Ie=65536+(Ie-55296<<10)+(qe-56320),Fe++),Ie<128?De[Ne++]=Ie:(Ie<2048?De[Ne++]=192|Ie>>>6:(Ie<65536?De[Ne++]=224|Ie>>>12:(De[Ne++]=240|Ie>>>18,De[Ne++]=128|Ie>>>12&63),De[Ne++]=128|Ie>>>6&63),De[Ne++]=128|63&Ie);return De},c.buf2binstring=function(ne){return Oe(ne,ne.length)},c.binstring2buf=function(ne){for(var De=new f.Buf8(ne.length),Ie=0,qe=De.length;Ie<qe;Ie++)De[Ie]=ne.charCodeAt(Ie);return De},c.buf2string=function(ne,De){var Ie,qe,Fe,Ne,Ve=De||ne.length,Ue=new Array(2*Ve);for(Ie=qe=0;Ie<Ve;)if((Fe=ne[Ie++])<128)Ue[qe++]=Fe;else if(4<(Ne=Te[Fe]))Ue[qe++]=65533,Ie+=Ne-1;else{for(Fe&=Ne===2?31:Ne===3?15:7;1<Ne&&Ie<Ve;)Fe=Fe<<6|63&ne[Ie++],Ne--;1<Ne?Ue[qe++]=65533:Fe<65536?Ue[qe++]=Fe:(Fe-=65536,Ue[qe++]=55296|Fe>>10&1023,Ue[qe++]=56320|1023&Fe)}return Oe(Ue,qe)},c.utf8border=function(ne,De){var Ie;for((De=De||ne.length)>ne.length&&(De=ne.length),Ie=De-1;0<=Ie&&(192&ne[Ie])==128;)Ie--;return Ie<0||Ie===0?De:Ie+Te[ne[Ie]]>De?Ie:De}},{"./common":41}],43:[function(e,i,c){i.exports=function(f,m,g,Te){for(var Ee=65535&f|0,Oe=f>>>16&65535|0,ne=0;g!==0;){for(g-=ne=2e3<g?2e3:g;Oe=Oe+(Ee=Ee+m[Te++]|0)|0,--ne;);Ee%=65521,Oe%=65521}return Ee|Oe<<16|0}},{}],44:[function(e,i,c){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,i,c){var f=function(){for(var m,g=[],Te=0;Te<256;Te++){m=Te;for(var Ee=0;Ee<8;Ee++)m=1&m?3988292384^m>>>1:m>>>1;g[Te]=m}return g}();i.exports=function(m,g,Te,Ee){var Oe=f,ne=Ee+Te;m^=-1;for(var De=Ee;De<ne;De++)m=m>>>8^Oe[255&(m^g[De])];return-1^m}},{}],46:[function(e,i,c){var f,m=e("../utils/common"),g=e("./trees"),Te=e("./adler32"),Ee=e("./crc32"),Oe=e("./messages"),ne=0,De=4,Ie=0,qe=-2,Fe=-1,Ne=4,Ve=2,Ue=8,We=9,He=286,Xe=30,ot=19,tt=2*He+1,mt=15,gt=3,rt=258,pt=rt+gt+1,it=42,vt=113,Ze=1,Ft=2,Zt=3,jt=4;function ur(Je,At){return Je.msg=Oe[At],At}function bt(Je){return(Je<<1)-(4<Je?9:0)}function St(Je){for(var At=Je.length;0<=--At;)Je[At]=0}function ct(Je){var At=Je.state,Wt=At.pending;Wt>Je.avail_out&&(Wt=Je.avail_out),Wt!==0&&(m.arraySet(Je.output,At.pending_buf,At.pending_out,Wt,Je.next_out),Je.next_out+=Wt,At.pending_out+=Wt,Je.total_out+=Wt,Je.avail_out-=Wt,At.pending-=Wt,At.pending===0&&(At.pending_out=0))}function dt(Je,At){g._tr_flush_block(Je,0<=Je.block_start?Je.block_start:-1,Je.strstart-Je.block_start,At),Je.block_start=Je.strstart,ct(Je.strm)}function Pt(Je,At){Je.pending_buf[Je.pending++]=At}function Ct(Je,At){Je.pending_buf[Je.pending++]=At>>>8&255,Je.pending_buf[Je.pending++]=255&At}function Kt(Je,At){var Wt,xt,ht=Je.max_chain_length,Dt=Je.strstart,er=Je.prev_length,nt=Je.nice_match,je=Je.strstart>Je.w_size-pt?Je.strstart-(Je.w_size-pt):0,Ge=Je.window,ut=Je.w_mask,Et=Je.prev,It=Je.strstart+rt,zt=Ge[Dt+er-1],tr=Ge[Dt+er];Je.prev_length>=Je.good_match&&(ht>>=2),nt>Je.lookahead&&(nt=Je.lookahead);do if(Ge[(Wt=At)+er]===tr&&Ge[Wt+er-1]===zt&&Ge[Wt]===Ge[Dt]&&Ge[++Wt]===Ge[Dt+1]){Dt+=2,Wt++;do;while(Ge[++Dt]===Ge[++Wt]&&Ge[++Dt]===Ge[++Wt]&&Ge[++Dt]===Ge[++Wt]&&Ge[++Dt]===Ge[++Wt]&&Ge[++Dt]===Ge[++Wt]&&Ge[++Dt]===Ge[++Wt]&&Ge[++Dt]===Ge[++Wt]&&Ge[++Dt]===Ge[++Wt]&&Dt<It);if(xt=rt-(It-Dt),Dt=It-rt,er<xt){if(Je.match_start=At,nt<=(er=xt))break;zt=Ge[Dt+er-1],tr=Ge[Dt+er]}}while((At=Et[At&ut])>je&&--ht!=0);return er<=Je.lookahead?er:Je.lookahead}function fr(Je){var At,Wt,xt,ht,Dt,er,nt,je,Ge,ut,Et=Je.w_size;do{if(ht=Je.window_size-Je.lookahead-Je.strstart,Je.strstart>=Et+(Et-pt)){for(m.arraySet(Je.window,Je.window,Et,Et,0),Je.match_start-=Et,Je.strstart-=Et,Je.block_start-=Et,At=Wt=Je.hash_size;xt=Je.head[--At],Je.head[At]=Et<=xt?xt-Et:0,--Wt;);for(At=Wt=Et;xt=Je.prev[--At],Je.prev[At]=Et<=xt?xt-Et:0,--Wt;);ht+=Et}if(Je.strm.avail_in===0)break;if(er=Je.strm,nt=Je.window,je=Je.strstart+Je.lookahead,Ge=ht,ut=void 0,ut=er.avail_in,Ge<ut&&(ut=Ge),Wt=ut===0?0:(er.avail_in-=ut,m.arraySet(nt,er.input,er.next_in,ut,je),er.state.wrap===1?er.adler=Te(er.adler,nt,ut,je):er.state.wrap===2&&(er.adler=Ee(er.adler,nt,ut,je)),er.next_in+=ut,er.total_in+=ut,ut),Je.lookahead+=Wt,Je.lookahead+Je.insert>=gt)for(Dt=Je.strstart-Je.insert,Je.ins_h=Je.window[Dt],Je.ins_h=(Je.ins_h<<Je.hash_shift^Je.window[Dt+1])&Je.hash_mask;Je.insert&&(Je.ins_h=(Je.ins_h<<Je.hash_shift^Je.window[Dt+gt-1])&Je.hash_mask,Je.prev[Dt&Je.w_mask]=Je.head[Je.ins_h],Je.head[Je.ins_h]=Dt,Dt++,Je.insert--,!(Je.lookahead+Je.insert<gt)););}while(Je.lookahead<pt&&Je.strm.avail_in!==0)}function Rr(Je,At){for(var Wt,xt;;){if(Je.lookahead<pt){if(fr(Je),Je.lookahead<pt&&At===ne)return Ze;if(Je.lookahead===0)break}if(Wt=0,Je.lookahead>=gt&&(Je.ins_h=(Je.ins_h<<Je.hash_shift^Je.window[Je.strstart+gt-1])&Je.hash_mask,Wt=Je.prev[Je.strstart&Je.w_mask]=Je.head[Je.ins_h],Je.head[Je.ins_h]=Je.strstart),Wt!==0&&Je.strstart-Wt<=Je.w_size-pt&&(Je.match_length=Kt(Je,Wt)),Je.match_length>=gt)if(xt=g._tr_tally(Je,Je.strstart-Je.match_start,Je.match_length-gt),Je.lookahead-=Je.match_length,Je.match_length<=Je.max_lazy_match&&Je.lookahead>=gt){for(Je.match_length--;Je.strstart++,Je.ins_h=(Je.ins_h<<Je.hash_shift^Je.window[Je.strstart+gt-1])&Je.hash_mask,Wt=Je.prev[Je.strstart&Je.w_mask]=Je.head[Je.ins_h],Je.head[Je.ins_h]=Je.strstart,--Je.match_length!=0;);Je.strstart++}else Je.strstart+=Je.match_length,Je.match_length=0,Je.ins_h=Je.window[Je.strstart],Je.ins_h=(Je.ins_h<<Je.hash_shift^Je.window[Je.strstart+1])&Je.hash_mask;else xt=g._tr_tally(Je,0,Je.window[Je.strstart]),Je.lookahead--,Je.strstart++;if(xt&&(dt(Je,!1),Je.strm.avail_out===0))return Ze}return Je.insert=Je.strstart<gt-1?Je.strstart:gt-1,At===De?(dt(Je,!0),Je.strm.avail_out===0?Zt:jt):Je.last_lit&&(dt(Je,!1),Je.strm.avail_out===0)?Ze:Ft}function cr(Je,At){for(var Wt,xt,ht;;){if(Je.lookahead<pt){if(fr(Je),Je.lookahead<pt&&At===ne)return Ze;if(Je.lookahead===0)break}if(Wt=0,Je.lookahead>=gt&&(Je.ins_h=(Je.ins_h<<Je.hash_shift^Je.window[Je.strstart+gt-1])&Je.hash_mask,Wt=Je.prev[Je.strstart&Je.w_mask]=Je.head[Je.ins_h],Je.head[Je.ins_h]=Je.strstart),Je.prev_length=Je.match_length,Je.prev_match=Je.match_start,Je.match_length=gt-1,Wt!==0&&Je.prev_length<Je.max_lazy_match&&Je.strstart-Wt<=Je.w_size-pt&&(Je.match_length=Kt(Je,Wt),Je.match_length<=5&&(Je.strategy===1||Je.match_length===gt&&4096<Je.strstart-Je.match_start)&&(Je.match_length=gt-1)),Je.prev_length>=gt&&Je.match_length<=Je.prev_length){for(ht=Je.strstart+Je.lookahead-gt,xt=g._tr_tally(Je,Je.strstart-1-Je.prev_match,Je.prev_length-gt),Je.lookahead-=Je.prev_length-1,Je.prev_length-=2;++Je.strstart<=ht&&(Je.ins_h=(Je.ins_h<<Je.hash_shift^Je.window[Je.strstart+gt-1])&Je.hash_mask,Wt=Je.prev[Je.strstart&Je.w_mask]=Je.head[Je.ins_h],Je.head[Je.ins_h]=Je.strstart),--Je.prev_length!=0;);if(Je.match_available=0,Je.match_length=gt-1,Je.strstart++,xt&&(dt(Je,!1),Je.strm.avail_out===0))return Ze}else if(Je.match_available){if((xt=g._tr_tally(Je,0,Je.window[Je.strstart-1]))&&dt(Je,!1),Je.strstart++,Je.lookahead--,Je.strm.avail_out===0)return Ze}else Je.match_available=1,Je.strstart++,Je.lookahead--}return Je.match_available&&(xt=g._tr_tally(Je,0,Je.window[Je.strstart-1]),Je.match_available=0),Je.insert=Je.strstart<gt-1?Je.strstart:gt-1,At===De?(dt(Je,!0),Je.strm.avail_out===0?Zt:jt):Je.last_lit&&(dt(Je,!1),Je.strm.avail_out===0)?Ze:Ft}function lt(Je,At,Wt,xt,ht){this.good_length=Je,this.max_lazy=At,this.nice_length=Wt,this.max_chain=xt,this.func=ht}function yt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ue,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new m.Buf16(2*tt),this.dyn_dtree=new m.Buf16(2*(2*Xe+1)),this.bl_tree=new m.Buf16(2*(2*ot+1)),St(this.dyn_ltree),St(this.dyn_dtree),St(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new m.Buf16(mt+1),this.heap=new m.Buf16(2*He+1),St(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new m.Buf16(2*He+1),St(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Xt(Je){var At;return Je&&Je.state?(Je.total_in=Je.total_out=0,Je.data_type=Ve,(At=Je.state).pending=0,At.pending_out=0,At.wrap<0&&(At.wrap=-At.wrap),At.status=At.wrap?it:vt,Je.adler=At.wrap===2?0:1,At.last_flush=ne,g._tr_init(At),Ie):ur(Je,qe)}function $t(Je){var At=Xt(Je);return At===Ie&&function(Wt){Wt.window_size=2*Wt.w_size,St(Wt.head),Wt.max_lazy_match=f[Wt.level].max_lazy,Wt.good_match=f[Wt.level].good_length,Wt.nice_match=f[Wt.level].nice_length,Wt.max_chain_length=f[Wt.level].max_chain,Wt.strstart=0,Wt.block_start=0,Wt.lookahead=0,Wt.insert=0,Wt.match_length=Wt.prev_length=gt-1,Wt.match_available=0,Wt.ins_h=0}(Je.state),At}function dr(Je,At,Wt,xt,ht,Dt){if(!Je)return qe;var er=1;if(At===Fe&&(At=6),xt<0?(er=0,xt=-xt):15<xt&&(er=2,xt-=16),ht<1||We<ht||Wt!==Ue||xt<8||15<xt||At<0||9<At||Dt<0||Ne<Dt)return ur(Je,qe);xt===8&&(xt=9);var nt=new yt;return(Je.state=nt).strm=Je,nt.wrap=er,nt.gzhead=null,nt.w_bits=xt,nt.w_size=1<<nt.w_bits,nt.w_mask=nt.w_size-1,nt.hash_bits=ht+7,nt.hash_size=1<<nt.hash_bits,nt.hash_mask=nt.hash_size-1,nt.hash_shift=~~((nt.hash_bits+gt-1)/gt),nt.window=new m.Buf8(2*nt.w_size),nt.head=new m.Buf16(nt.hash_size),nt.prev=new m.Buf16(nt.w_size),nt.lit_bufsize=1<<ht+6,nt.pending_buf_size=4*nt.lit_bufsize,nt.pending_buf=new m.Buf8(nt.pending_buf_size),nt.d_buf=1*nt.lit_bufsize,nt.l_buf=3*nt.lit_bufsize,nt.level=At,nt.strategy=Dt,nt.method=Wt,$t(Je)}f=[new lt(0,0,0,0,function(Je,At){var Wt=65535;for(Wt>Je.pending_buf_size-5&&(Wt=Je.pending_buf_size-5);;){if(Je.lookahead<=1){if(fr(Je),Je.lookahead===0&&At===ne)return Ze;if(Je.lookahead===0)break}Je.strstart+=Je.lookahead,Je.lookahead=0;var xt=Je.block_start+Wt;if((Je.strstart===0||Je.strstart>=xt)&&(Je.lookahead=Je.strstart-xt,Je.strstart=xt,dt(Je,!1),Je.strm.avail_out===0)||Je.strstart-Je.block_start>=Je.w_size-pt&&(dt(Je,!1),Je.strm.avail_out===0))return Ze}return Je.insert=0,At===De?(dt(Je,!0),Je.strm.avail_out===0?Zt:jt):(Je.strstart>Je.block_start&&(dt(Je,!1),Je.strm.avail_out),Ze)}),new lt(4,4,8,4,Rr),new lt(4,5,16,8,Rr),new lt(4,6,32,32,Rr),new lt(4,4,16,16,cr),new lt(8,16,32,32,cr),new lt(8,16,128,128,cr),new lt(8,32,128,256,cr),new lt(32,128,258,1024,cr),new lt(32,258,258,4096,cr)],c.deflateInit=function(Je,At){return dr(Je,At,Ue,15,8,0)},c.deflateInit2=dr,c.deflateReset=$t,c.deflateResetKeep=Xt,c.deflateSetHeader=function(Je,At){return Je&&Je.state?Je.state.wrap!==2?qe:(Je.state.gzhead=At,Ie):qe},c.deflate=function(Je,At){var Wt,xt,ht,Dt;if(!Je||!Je.state||5<At||At<0)return Je?ur(Je,qe):qe;if(xt=Je.state,!Je.output||!Je.input&&Je.avail_in!==0||xt.status===666&&At!==De)return ur(Je,Je.avail_out===0?-5:qe);if(xt.strm=Je,Wt=xt.last_flush,xt.last_flush=At,xt.status===it)if(xt.wrap===2)Je.adler=0,Pt(xt,31),Pt(xt,139),Pt(xt,8),xt.gzhead?(Pt(xt,(xt.gzhead.text?1:0)+(xt.gzhead.hcrc?2:0)+(xt.gzhead.extra?4:0)+(xt.gzhead.name?8:0)+(xt.gzhead.comment?16:0)),Pt(xt,255&xt.gzhead.time),Pt(xt,xt.gzhead.time>>8&255),Pt(xt,xt.gzhead.time>>16&255),Pt(xt,xt.gzhead.time>>24&255),Pt(xt,xt.level===9?2:2<=xt.strategy||xt.level<2?4:0),Pt(xt,255&xt.gzhead.os),xt.gzhead.extra&&xt.gzhead.extra.length&&(Pt(xt,255&xt.gzhead.extra.length),Pt(xt,xt.gzhead.extra.length>>8&255)),xt.gzhead.hcrc&&(Je.adler=Ee(Je.adler,xt.pending_buf,xt.pending,0)),xt.gzindex=0,xt.status=69):(Pt(xt,0),Pt(xt,0),Pt(xt,0),Pt(xt,0),Pt(xt,0),Pt(xt,xt.level===9?2:2<=xt.strategy||xt.level<2?4:0),Pt(xt,3),xt.status=vt);else{var er=Ue+(xt.w_bits-8<<4)<<8;er|=(2<=xt.strategy||xt.level<2?0:xt.level<6?1:xt.level===6?2:3)<<6,xt.strstart!==0&&(er|=32),er+=31-er%31,xt.status=vt,Ct(xt,er),xt.strstart!==0&&(Ct(xt,Je.adler>>>16),Ct(xt,65535&Je.adler)),Je.adler=1}if(xt.status===69)if(xt.gzhead.extra){for(ht=xt.pending;xt.gzindex<(65535&xt.gzhead.extra.length)&&(xt.pending!==xt.pending_buf_size||(xt.gzhead.hcrc&&xt.pending>ht&&(Je.adler=Ee(Je.adler,xt.pending_buf,xt.pending-ht,ht)),ct(Je),ht=xt.pending,xt.pending!==xt.pending_buf_size));)Pt(xt,255&xt.gzhead.extra[xt.gzindex]),xt.gzindex++;xt.gzhead.hcrc&&xt.pending>ht&&(Je.adler=Ee(Je.adler,xt.pending_buf,xt.pending-ht,ht)),xt.gzindex===xt.gzhead.extra.length&&(xt.gzindex=0,xt.status=73)}else xt.status=73;if(xt.status===73)if(xt.gzhead.name){ht=xt.pending;do{if(xt.pending===xt.pending_buf_size&&(xt.gzhead.hcrc&&xt.pending>ht&&(Je.adler=Ee(Je.adler,xt.pending_buf,xt.pending-ht,ht)),ct(Je),ht=xt.pending,xt.pending===xt.pending_buf_size)){Dt=1;break}Dt=xt.gzindex<xt.gzhead.name.length?255&xt.gzhead.name.charCodeAt(xt.gzindex++):0,Pt(xt,Dt)}while(Dt!==0);xt.gzhead.hcrc&&xt.pending>ht&&(Je.adler=Ee(Je.adler,xt.pending_buf,xt.pending-ht,ht)),Dt===0&&(xt.gzindex=0,xt.status=91)}else xt.status=91;if(xt.status===91)if(xt.gzhead.comment){ht=xt.pending;do{if(xt.pending===xt.pending_buf_size&&(xt.gzhead.hcrc&&xt.pending>ht&&(Je.adler=Ee(Je.adler,xt.pending_buf,xt.pending-ht,ht)),ct(Je),ht=xt.pending,xt.pending===xt.pending_buf_size)){Dt=1;break}Dt=xt.gzindex<xt.gzhead.comment.length?255&xt.gzhead.comment.charCodeAt(xt.gzindex++):0,Pt(xt,Dt)}while(Dt!==0);xt.gzhead.hcrc&&xt.pending>ht&&(Je.adler=Ee(Je.adler,xt.pending_buf,xt.pending-ht,ht)),Dt===0&&(xt.status=103)}else xt.status=103;if(xt.status===103&&(xt.gzhead.hcrc?(xt.pending+2>xt.pending_buf_size&&ct(Je),xt.pending+2<=xt.pending_buf_size&&(Pt(xt,255&Je.adler),Pt(xt,Je.adler>>8&255),Je.adler=0,xt.status=vt)):xt.status=vt),xt.pending!==0){if(ct(Je),Je.avail_out===0)return xt.last_flush=-1,Ie}else if(Je.avail_in===0&&bt(At)<=bt(Wt)&&At!==De)return ur(Je,-5);if(xt.status===666&&Je.avail_in!==0)return ur(Je,-5);if(Je.avail_in!==0||xt.lookahead!==0||At!==ne&&xt.status!==666){var nt=xt.strategy===2?function(je,Ge){for(var ut;;){if(je.lookahead===0&&(fr(je),je.lookahead===0)){if(Ge===ne)return Ze;break}if(je.match_length=0,ut=g._tr_tally(je,0,je.window[je.strstart]),je.lookahead--,je.strstart++,ut&&(dt(je,!1),je.strm.avail_out===0))return Ze}return je.insert=0,Ge===De?(dt(je,!0),je.strm.avail_out===0?Zt:jt):je.last_lit&&(dt(je,!1),je.strm.avail_out===0)?Ze:Ft}(xt,At):xt.strategy===3?function(je,Ge){for(var ut,Et,It,zt,tr=je.window;;){if(je.lookahead<=rt){if(fr(je),je.lookahead<=rt&&Ge===ne)return Ze;if(je.lookahead===0)break}if(je.match_length=0,je.lookahead>=gt&&0<je.strstart&&(Et=tr[It=je.strstart-1])===tr[++It]&&Et===tr[++It]&&Et===tr[++It]){zt=je.strstart+rt;do;while(Et===tr[++It]&&Et===tr[++It]&&Et===tr[++It]&&Et===tr[++It]&&Et===tr[++It]&&Et===tr[++It]&&Et===tr[++It]&&Et===tr[++It]&&It<zt);je.match_length=rt-(zt-It),je.match_length>je.lookahead&&(je.match_length=je.lookahead)}if(je.match_length>=gt?(ut=g._tr_tally(je,1,je.match_length-gt),je.lookahead-=je.match_length,je.strstart+=je.match_length,je.match_length=0):(ut=g._tr_tally(je,0,je.window[je.strstart]),je.lookahead--,je.strstart++),ut&&(dt(je,!1),je.strm.avail_out===0))return Ze}return je.insert=0,Ge===De?(dt(je,!0),je.strm.avail_out===0?Zt:jt):je.last_lit&&(dt(je,!1),je.strm.avail_out===0)?Ze:Ft}(xt,At):f[xt.level].func(xt,At);if(nt!==Zt&&nt!==jt||(xt.status=666),nt===Ze||nt===Zt)return Je.avail_out===0&&(xt.last_flush=-1),Ie;if(nt===Ft&&(At===1?g._tr_align(xt):At!==5&&(g._tr_stored_block(xt,0,0,!1),At===3&&(St(xt.head),xt.lookahead===0&&(xt.strstart=0,xt.block_start=0,xt.insert=0))),ct(Je),Je.avail_out===0))return xt.last_flush=-1,Ie}return At!==De?Ie:xt.wrap<=0?1:(xt.wrap===2?(Pt(xt,255&Je.adler),Pt(xt,Je.adler>>8&255),Pt(xt,Je.adler>>16&255),Pt(xt,Je.adler>>24&255),Pt(xt,255&Je.total_in),Pt(xt,Je.total_in>>8&255),Pt(xt,Je.total_in>>16&255),Pt(xt,Je.total_in>>24&255)):(Ct(xt,Je.adler>>>16),Ct(xt,65535&Je.adler)),ct(Je),0<xt.wrap&&(xt.wrap=-xt.wrap),xt.pending!==0?Ie:1)},c.deflateEnd=function(Je){var At;return Je&&Je.state?(At=Je.state.status)!==it&&At!==69&&At!==73&&At!==91&&At!==103&&At!==vt&&At!==666?ur(Je,qe):(Je.state=null,At===vt?ur(Je,-3):Ie):qe},c.deflateSetDictionary=function(Je,At){var Wt,xt,ht,Dt,er,nt,je,Ge,ut=At.length;if(!Je||!Je.state||(Dt=(Wt=Je.state).wrap)===2||Dt===1&&Wt.status!==it||Wt.lookahead)return qe;for(Dt===1&&(Je.adler=Te(Je.adler,At,ut,0)),Wt.wrap=0,ut>=Wt.w_size&&(Dt===0&&(St(Wt.head),Wt.strstart=0,Wt.block_start=0,Wt.insert=0),Ge=new m.Buf8(Wt.w_size),m.arraySet(Ge,At,ut-Wt.w_size,Wt.w_size,0),At=Ge,ut=Wt.w_size),er=Je.avail_in,nt=Je.next_in,je=Je.input,Je.avail_in=ut,Je.next_in=0,Je.input=At,fr(Wt);Wt.lookahead>=gt;){for(xt=Wt.strstart,ht=Wt.lookahead-(gt-1);Wt.ins_h=(Wt.ins_h<<Wt.hash_shift^Wt.window[xt+gt-1])&Wt.hash_mask,Wt.prev[xt&Wt.w_mask]=Wt.head[Wt.ins_h],Wt.head[Wt.ins_h]=xt,xt++,--ht;);Wt.strstart=xt,Wt.lookahead=gt-1,fr(Wt)}return Wt.strstart+=Wt.lookahead,Wt.block_start=Wt.strstart,Wt.insert=Wt.lookahead,Wt.lookahead=0,Wt.match_length=Wt.prev_length=gt-1,Wt.match_available=0,Je.next_in=nt,Je.input=je,Je.avail_in=er,Wt.wrap=Dt,Ie},c.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,i,c){i.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,i,c){i.exports=function(f,m){var g,Te,Ee,Oe,ne,De,Ie,qe,Fe,Ne,Ve,Ue,We,He,Xe,ot,tt,mt,gt,rt,pt,it,vt,Ze,Ft;g=f.state,Te=f.next_in,Ze=f.input,Ee=Te+(f.avail_in-5),Oe=f.next_out,Ft=f.output,ne=Oe-(m-f.avail_out),De=Oe+(f.avail_out-257),Ie=g.dmax,qe=g.wsize,Fe=g.whave,Ne=g.wnext,Ve=g.window,Ue=g.hold,We=g.bits,He=g.lencode,Xe=g.distcode,ot=(1<<g.lenbits)-1,tt=(1<<g.distbits)-1;e:do{We<15&&(Ue+=Ze[Te++]<<We,We+=8,Ue+=Ze[Te++]<<We,We+=8),mt=He[Ue&ot];t:for(;;){if(Ue>>>=gt=mt>>>24,We-=gt,(gt=mt>>>16&255)===0)Ft[Oe++]=65535&mt;else{if(!(16&gt)){if(!(64&gt)){mt=He[(65535&mt)+(Ue&(1<<gt)-1)];continue t}if(32&gt){g.mode=12;break e}f.msg="invalid literal/length code",g.mode=30;break e}rt=65535&mt,(gt&=15)&&(We<gt&&(Ue+=Ze[Te++]<<We,We+=8),rt+=Ue&(1<<gt)-1,Ue>>>=gt,We-=gt),We<15&&(Ue+=Ze[Te++]<<We,We+=8,Ue+=Ze[Te++]<<We,We+=8),mt=Xe[Ue&tt];r:for(;;){if(Ue>>>=gt=mt>>>24,We-=gt,!(16&(gt=mt>>>16&255))){if(!(64&gt)){mt=Xe[(65535&mt)+(Ue&(1<<gt)-1)];continue r}f.msg="invalid distance code",g.mode=30;break e}if(pt=65535&mt,We<(gt&=15)&&(Ue+=Ze[Te++]<<We,(We+=8)<gt&&(Ue+=Ze[Te++]<<We,We+=8)),Ie<(pt+=Ue&(1<<gt)-1)){f.msg="invalid distance too far back",g.mode=30;break e}if(Ue>>>=gt,We-=gt,(gt=Oe-ne)<pt){if(Fe<(gt=pt-gt)&&g.sane){f.msg="invalid distance too far back",g.mode=30;break e}if(vt=Ve,(it=0)===Ne){if(it+=qe-gt,gt<rt){for(rt-=gt;Ft[Oe++]=Ve[it++],--gt;);it=Oe-pt,vt=Ft}}else if(Ne<gt){if(it+=qe+Ne-gt,(gt-=Ne)<rt){for(rt-=gt;Ft[Oe++]=Ve[it++],--gt;);if(it=0,Ne<rt){for(rt-=gt=Ne;Ft[Oe++]=Ve[it++],--gt;);it=Oe-pt,vt=Ft}}}else if(it+=Ne-gt,gt<rt){for(rt-=gt;Ft[Oe++]=Ve[it++],--gt;);it=Oe-pt,vt=Ft}for(;2<rt;)Ft[Oe++]=vt[it++],Ft[Oe++]=vt[it++],Ft[Oe++]=vt[it++],rt-=3;rt&&(Ft[Oe++]=vt[it++],1<rt&&(Ft[Oe++]=vt[it++]))}else{for(it=Oe-pt;Ft[Oe++]=Ft[it++],Ft[Oe++]=Ft[it++],Ft[Oe++]=Ft[it++],2<(rt-=3););rt&&(Ft[Oe++]=Ft[it++],1<rt&&(Ft[Oe++]=Ft[it++]))}break}}break}}while(Te<Ee&&Oe<De);Te-=rt=We>>3,Ue&=(1<<(We-=rt<<3))-1,f.next_in=Te,f.next_out=Oe,f.avail_in=Te<Ee?Ee-Te+5:5-(Te-Ee),f.avail_out=Oe<De?De-Oe+257:257-(Oe-De),g.hold=Ue,g.bits=We}},{}],49:[function(e,i,c){var f=e("../utils/common"),m=e("./adler32"),g=e("./crc32"),Te=e("./inffast"),Ee=e("./inftrees"),Oe=1,ne=2,De=0,Ie=-2,qe=1,Fe=852,Ne=592;function Ve(it){return(it>>>24&255)+(it>>>8&65280)+((65280&it)<<8)+((255&it)<<24)}function Ue(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new f.Buf16(320),this.work=new f.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function We(it){var vt;return it&&it.state?(vt=it.state,it.total_in=it.total_out=vt.total=0,it.msg="",vt.wrap&&(it.adler=1&vt.wrap),vt.mode=qe,vt.last=0,vt.havedict=0,vt.dmax=32768,vt.head=null,vt.hold=0,vt.bits=0,vt.lencode=vt.lendyn=new f.Buf32(Fe),vt.distcode=vt.distdyn=new f.Buf32(Ne),vt.sane=1,vt.back=-1,De):Ie}function He(it){var vt;return it&&it.state?((vt=it.state).wsize=0,vt.whave=0,vt.wnext=0,We(it)):Ie}function Xe(it,vt){var Ze,Ft;return it&&it.state?(Ft=it.state,vt<0?(Ze=0,vt=-vt):(Ze=1+(vt>>4),vt<48&&(vt&=15)),vt&&(vt<8||15<vt)?Ie:(Ft.window!==null&&Ft.wbits!==vt&&(Ft.window=null),Ft.wrap=Ze,Ft.wbits=vt,He(it))):Ie}function ot(it,vt){var Ze,Ft;return it?(Ft=new Ue,(it.state=Ft).window=null,(Ze=Xe(it,vt))!==De&&(it.state=null),Ze):Ie}var tt,mt,gt=!0;function rt(it){if(gt){var vt;for(tt=new f.Buf32(512),mt=new f.Buf32(32),vt=0;vt<144;)it.lens[vt++]=8;for(;vt<256;)it.lens[vt++]=9;for(;vt<280;)it.lens[vt++]=7;for(;vt<288;)it.lens[vt++]=8;for(Ee(Oe,it.lens,0,288,tt,0,it.work,{bits:9}),vt=0;vt<32;)it.lens[vt++]=5;Ee(ne,it.lens,0,32,mt,0,it.work,{bits:5}),gt=!1}it.lencode=tt,it.lenbits=9,it.distcode=mt,it.distbits=5}function pt(it,vt,Ze,Ft){var Zt,jt=it.state;return jt.window===null&&(jt.wsize=1<<jt.wbits,jt.wnext=0,jt.whave=0,jt.window=new f.Buf8(jt.wsize)),Ft>=jt.wsize?(f.arraySet(jt.window,vt,Ze-jt.wsize,jt.wsize,0),jt.wnext=0,jt.whave=jt.wsize):(Ft<(Zt=jt.wsize-jt.wnext)&&(Zt=Ft),f.arraySet(jt.window,vt,Ze-Ft,Zt,jt.wnext),(Ft-=Zt)?(f.arraySet(jt.window,vt,Ze-Ft,Ft,0),jt.wnext=Ft,jt.whave=jt.wsize):(jt.wnext+=Zt,jt.wnext===jt.wsize&&(jt.wnext=0),jt.whave<jt.wsize&&(jt.whave+=Zt))),0}c.inflateReset=He,c.inflateReset2=Xe,c.inflateResetKeep=We,c.inflateInit=function(it){return ot(it,15)},c.inflateInit2=ot,c.inflate=function(it,vt){var Ze,Ft,Zt,jt,ur,bt,St,ct,dt,Pt,Ct,Kt,fr,Rr,cr,lt,yt,Xt,$t,dr,Je,At,Wt,xt,ht=0,Dt=new f.Buf8(4),er=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!it||!it.state||!it.output||!it.input&&it.avail_in!==0)return Ie;(Ze=it.state).mode===12&&(Ze.mode=13),ur=it.next_out,Zt=it.output,St=it.avail_out,jt=it.next_in,Ft=it.input,bt=it.avail_in,ct=Ze.hold,dt=Ze.bits,Pt=bt,Ct=St,At=De;e:for(;;)switch(Ze.mode){case qe:if(Ze.wrap===0){Ze.mode=13;break}for(;dt<16;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}if(2&Ze.wrap&&ct===35615){Dt[Ze.check=0]=255&ct,Dt[1]=ct>>>8&255,Ze.check=g(Ze.check,Dt,2,0),dt=ct=0,Ze.mode=2;break}if(Ze.flags=0,Ze.head&&(Ze.head.done=!1),!(1&Ze.wrap)||(((255&ct)<<8)+(ct>>8))%31){it.msg="incorrect header check",Ze.mode=30;break}if((15&ct)!=8){it.msg="unknown compression method",Ze.mode=30;break}if(dt-=4,Je=8+(15&(ct>>>=4)),Ze.wbits===0)Ze.wbits=Je;else if(Je>Ze.wbits){it.msg="invalid window size",Ze.mode=30;break}Ze.dmax=1<<Je,it.adler=Ze.check=1,Ze.mode=512&ct?10:12,dt=ct=0;break;case 2:for(;dt<16;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}if(Ze.flags=ct,(255&Ze.flags)!=8){it.msg="unknown compression method",Ze.mode=30;break}if(57344&Ze.flags){it.msg="unknown header flags set",Ze.mode=30;break}Ze.head&&(Ze.head.text=ct>>8&1),512&Ze.flags&&(Dt[0]=255&ct,Dt[1]=ct>>>8&255,Ze.check=g(Ze.check,Dt,2,0)),dt=ct=0,Ze.mode=3;case 3:for(;dt<32;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}Ze.head&&(Ze.head.time=ct),512&Ze.flags&&(Dt[0]=255&ct,Dt[1]=ct>>>8&255,Dt[2]=ct>>>16&255,Dt[3]=ct>>>24&255,Ze.check=g(Ze.check,Dt,4,0)),dt=ct=0,Ze.mode=4;case 4:for(;dt<16;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}Ze.head&&(Ze.head.xflags=255&ct,Ze.head.os=ct>>8),512&Ze.flags&&(Dt[0]=255&ct,Dt[1]=ct>>>8&255,Ze.check=g(Ze.check,Dt,2,0)),dt=ct=0,Ze.mode=5;case 5:if(1024&Ze.flags){for(;dt<16;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}Ze.length=ct,Ze.head&&(Ze.head.extra_len=ct),512&Ze.flags&&(Dt[0]=255&ct,Dt[1]=ct>>>8&255,Ze.check=g(Ze.check,Dt,2,0)),dt=ct=0}else Ze.head&&(Ze.head.extra=null);Ze.mode=6;case 6:if(1024&Ze.flags&&(bt<(Kt=Ze.length)&&(Kt=bt),Kt&&(Ze.head&&(Je=Ze.head.extra_len-Ze.length,Ze.head.extra||(Ze.head.extra=new Array(Ze.head.extra_len)),f.arraySet(Ze.head.extra,Ft,jt,Kt,Je)),512&Ze.flags&&(Ze.check=g(Ze.check,Ft,Kt,jt)),bt-=Kt,jt+=Kt,Ze.length-=Kt),Ze.length))break e;Ze.length=0,Ze.mode=7;case 7:if(2048&Ze.flags){if(bt===0)break e;for(Kt=0;Je=Ft[jt+Kt++],Ze.head&&Je&&Ze.length<65536&&(Ze.head.name+=String.fromCharCode(Je)),Je&&Kt<bt;);if(512&Ze.flags&&(Ze.check=g(Ze.check,Ft,Kt,jt)),bt-=Kt,jt+=Kt,Je)break e}else Ze.head&&(Ze.head.name=null);Ze.length=0,Ze.mode=8;case 8:if(4096&Ze.flags){if(bt===0)break e;for(Kt=0;Je=Ft[jt+Kt++],Ze.head&&Je&&Ze.length<65536&&(Ze.head.comment+=String.fromCharCode(Je)),Je&&Kt<bt;);if(512&Ze.flags&&(Ze.check=g(Ze.check,Ft,Kt,jt)),bt-=Kt,jt+=Kt,Je)break e}else Ze.head&&(Ze.head.comment=null);Ze.mode=9;case 9:if(512&Ze.flags){for(;dt<16;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}if(ct!==(65535&Ze.check)){it.msg="header crc mismatch",Ze.mode=30;break}dt=ct=0}Ze.head&&(Ze.head.hcrc=Ze.flags>>9&1,Ze.head.done=!0),it.adler=Ze.check=0,Ze.mode=12;break;case 10:for(;dt<32;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}it.adler=Ze.check=Ve(ct),dt=ct=0,Ze.mode=11;case 11:if(Ze.havedict===0)return it.next_out=ur,it.avail_out=St,it.next_in=jt,it.avail_in=bt,Ze.hold=ct,Ze.bits=dt,2;it.adler=Ze.check=1,Ze.mode=12;case 12:if(vt===5||vt===6)break e;case 13:if(Ze.last){ct>>>=7&dt,dt-=7&dt,Ze.mode=27;break}for(;dt<3;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}switch(Ze.last=1&ct,dt-=1,3&(ct>>>=1)){case 0:Ze.mode=14;break;case 1:if(rt(Ze),Ze.mode=20,vt!==6)break;ct>>>=2,dt-=2;break e;case 2:Ze.mode=17;break;case 3:it.msg="invalid block type",Ze.mode=30}ct>>>=2,dt-=2;break;case 14:for(ct>>>=7&dt,dt-=7&dt;dt<32;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}if((65535&ct)!=(ct>>>16^65535)){it.msg="invalid stored block lengths",Ze.mode=30;break}if(Ze.length=65535&ct,dt=ct=0,Ze.mode=15,vt===6)break e;case 15:Ze.mode=16;case 16:if(Kt=Ze.length){if(bt<Kt&&(Kt=bt),St<Kt&&(Kt=St),Kt===0)break e;f.arraySet(Zt,Ft,jt,Kt,ur),bt-=Kt,jt+=Kt,St-=Kt,ur+=Kt,Ze.length-=Kt;break}Ze.mode=12;break;case 17:for(;dt<14;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}if(Ze.nlen=257+(31&ct),ct>>>=5,dt-=5,Ze.ndist=1+(31&ct),ct>>>=5,dt-=5,Ze.ncode=4+(15&ct),ct>>>=4,dt-=4,286<Ze.nlen||30<Ze.ndist){it.msg="too many length or distance symbols",Ze.mode=30;break}Ze.have=0,Ze.mode=18;case 18:for(;Ze.have<Ze.ncode;){for(;dt<3;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}Ze.lens[er[Ze.have++]]=7&ct,ct>>>=3,dt-=3}for(;Ze.have<19;)Ze.lens[er[Ze.have++]]=0;if(Ze.lencode=Ze.lendyn,Ze.lenbits=7,Wt={bits:Ze.lenbits},At=Ee(0,Ze.lens,0,19,Ze.lencode,0,Ze.work,Wt),Ze.lenbits=Wt.bits,At){it.msg="invalid code lengths set",Ze.mode=30;break}Ze.have=0,Ze.mode=19;case 19:for(;Ze.have<Ze.nlen+Ze.ndist;){for(;lt=(ht=Ze.lencode[ct&(1<<Ze.lenbits)-1])>>>16&255,yt=65535&ht,!((cr=ht>>>24)<=dt);){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}if(yt<16)ct>>>=cr,dt-=cr,Ze.lens[Ze.have++]=yt;else{if(yt===16){for(xt=cr+2;dt<xt;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}if(ct>>>=cr,dt-=cr,Ze.have===0){it.msg="invalid bit length repeat",Ze.mode=30;break}Je=Ze.lens[Ze.have-1],Kt=3+(3&ct),ct>>>=2,dt-=2}else if(yt===17){for(xt=cr+3;dt<xt;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}dt-=cr,Je=0,Kt=3+(7&(ct>>>=cr)),ct>>>=3,dt-=3}else{for(xt=cr+7;dt<xt;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}dt-=cr,Je=0,Kt=11+(127&(ct>>>=cr)),ct>>>=7,dt-=7}if(Ze.have+Kt>Ze.nlen+Ze.ndist){it.msg="invalid bit length repeat",Ze.mode=30;break}for(;Kt--;)Ze.lens[Ze.have++]=Je}}if(Ze.mode===30)break;if(Ze.lens[256]===0){it.msg="invalid code -- missing end-of-block",Ze.mode=30;break}if(Ze.lenbits=9,Wt={bits:Ze.lenbits},At=Ee(Oe,Ze.lens,0,Ze.nlen,Ze.lencode,0,Ze.work,Wt),Ze.lenbits=Wt.bits,At){it.msg="invalid literal/lengths set",Ze.mode=30;break}if(Ze.distbits=6,Ze.distcode=Ze.distdyn,Wt={bits:Ze.distbits},At=Ee(ne,Ze.lens,Ze.nlen,Ze.ndist,Ze.distcode,0,Ze.work,Wt),Ze.distbits=Wt.bits,At){it.msg="invalid distances set",Ze.mode=30;break}if(Ze.mode=20,vt===6)break e;case 20:Ze.mode=21;case 21:if(6<=bt&&258<=St){it.next_out=ur,it.avail_out=St,it.next_in=jt,it.avail_in=bt,Ze.hold=ct,Ze.bits=dt,Te(it,Ct),ur=it.next_out,Zt=it.output,St=it.avail_out,jt=it.next_in,Ft=it.input,bt=it.avail_in,ct=Ze.hold,dt=Ze.bits,Ze.mode===12&&(Ze.back=-1);break}for(Ze.back=0;lt=(ht=Ze.lencode[ct&(1<<Ze.lenbits)-1])>>>16&255,yt=65535&ht,!((cr=ht>>>24)<=dt);){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}if(lt&&!(240&lt)){for(Xt=cr,$t=lt,dr=yt;lt=(ht=Ze.lencode[dr+((ct&(1<<Xt+$t)-1)>>Xt)])>>>16&255,yt=65535&ht,!(Xt+(cr=ht>>>24)<=dt);){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}ct>>>=Xt,dt-=Xt,Ze.back+=Xt}if(ct>>>=cr,dt-=cr,Ze.back+=cr,Ze.length=yt,lt===0){Ze.mode=26;break}if(32&lt){Ze.back=-1,Ze.mode=12;break}if(64&lt){it.msg="invalid literal/length code",Ze.mode=30;break}Ze.extra=15&lt,Ze.mode=22;case 22:if(Ze.extra){for(xt=Ze.extra;dt<xt;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}Ze.length+=ct&(1<<Ze.extra)-1,ct>>>=Ze.extra,dt-=Ze.extra,Ze.back+=Ze.extra}Ze.was=Ze.length,Ze.mode=23;case 23:for(;lt=(ht=Ze.distcode[ct&(1<<Ze.distbits)-1])>>>16&255,yt=65535&ht,!((cr=ht>>>24)<=dt);){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}if(!(240&lt)){for(Xt=cr,$t=lt,dr=yt;lt=(ht=Ze.distcode[dr+((ct&(1<<Xt+$t)-1)>>Xt)])>>>16&255,yt=65535&ht,!(Xt+(cr=ht>>>24)<=dt);){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}ct>>>=Xt,dt-=Xt,Ze.back+=Xt}if(ct>>>=cr,dt-=cr,Ze.back+=cr,64&lt){it.msg="invalid distance code",Ze.mode=30;break}Ze.offset=yt,Ze.extra=15&lt,Ze.mode=24;case 24:if(Ze.extra){for(xt=Ze.extra;dt<xt;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}Ze.offset+=ct&(1<<Ze.extra)-1,ct>>>=Ze.extra,dt-=Ze.extra,Ze.back+=Ze.extra}if(Ze.offset>Ze.dmax){it.msg="invalid distance too far back",Ze.mode=30;break}Ze.mode=25;case 25:if(St===0)break e;if(Kt=Ct-St,Ze.offset>Kt){if((Kt=Ze.offset-Kt)>Ze.whave&&Ze.sane){it.msg="invalid distance too far back",Ze.mode=30;break}fr=Kt>Ze.wnext?(Kt-=Ze.wnext,Ze.wsize-Kt):Ze.wnext-Kt,Kt>Ze.length&&(Kt=Ze.length),Rr=Ze.window}else Rr=Zt,fr=ur-Ze.offset,Kt=Ze.length;for(St<Kt&&(Kt=St),St-=Kt,Ze.length-=Kt;Zt[ur++]=Rr[fr++],--Kt;);Ze.length===0&&(Ze.mode=21);break;case 26:if(St===0)break e;Zt[ur++]=Ze.length,St--,Ze.mode=21;break;case 27:if(Ze.wrap){for(;dt<32;){if(bt===0)break e;bt--,ct|=Ft[jt++]<<dt,dt+=8}if(Ct-=St,it.total_out+=Ct,Ze.total+=Ct,Ct&&(it.adler=Ze.check=Ze.flags?g(Ze.check,Zt,Ct,ur-Ct):m(Ze.check,Zt,Ct,ur-Ct)),Ct=St,(Ze.flags?ct:Ve(ct))!==Ze.check){it.msg="incorrect data check",Ze.mode=30;break}dt=ct=0}Ze.mode=28;case 28:if(Ze.wrap&&Ze.flags){for(;dt<32;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}if(ct!==(4294967295&Ze.total)){it.msg="incorrect length check",Ze.mode=30;break}dt=ct=0}Ze.mode=29;case 29:At=1;break e;case 30:At=-3;break e;case 31:return-4;case 32:default:return Ie}return it.next_out=ur,it.avail_out=St,it.next_in=jt,it.avail_in=bt,Ze.hold=ct,Ze.bits=dt,(Ze.wsize||Ct!==it.avail_out&&Ze.mode<30&&(Ze.mode<27||vt!==4))&&pt(it,it.output,it.next_out,Ct-it.avail_out)?(Ze.mode=31,-4):(Pt-=it.avail_in,Ct-=it.avail_out,it.total_in+=Pt,it.total_out+=Ct,Ze.total+=Ct,Ze.wrap&&Ct&&(it.adler=Ze.check=Ze.flags?g(Ze.check,Zt,Ct,it.next_out-Ct):m(Ze.check,Zt,Ct,it.next_out-Ct)),it.data_type=Ze.bits+(Ze.last?64:0)+(Ze.mode===12?128:0)+(Ze.mode===20||Ze.mode===15?256:0),(Pt==0&&Ct===0||vt===4)&&At===De&&(At=-5),At)},c.inflateEnd=function(it){if(!it||!it.state)return Ie;var vt=it.state;return vt.window&&(vt.window=null),it.state=null,De},c.inflateGetHeader=function(it,vt){var Ze;return it&&it.state&&2&(Ze=it.state).wrap?((Ze.head=vt).done=!1,De):Ie},c.inflateSetDictionary=function(it,vt){var Ze,Ft=vt.length;return it&&it.state?(Ze=it.state).wrap!==0&&Ze.mode!==11?Ie:Ze.mode===11&&m(1,vt,Ft,0)!==Ze.check?-3:pt(it,vt,Ft,Ft)?(Ze.mode=31,-4):(Ze.havedict=1,De):Ie},c.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,i,c){var f=e("../utils/common"),m=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],g=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Te=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Ee=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(Oe,ne,De,Ie,qe,Fe,Ne,Ve){var Ue,We,He,Xe,ot,tt,mt,gt,rt,pt=Ve.bits,it=0,vt=0,Ze=0,Ft=0,Zt=0,jt=0,ur=0,bt=0,St=0,ct=0,dt=null,Pt=0,Ct=new f.Buf16(16),Kt=new f.Buf16(16),fr=null,Rr=0;for(it=0;it<=15;it++)Ct[it]=0;for(vt=0;vt<Ie;vt++)Ct[ne[De+vt]]++;for(Zt=pt,Ft=15;1<=Ft&&Ct[Ft]===0;Ft--);if(Ft<Zt&&(Zt=Ft),Ft===0)return qe[Fe++]=20971520,qe[Fe++]=20971520,Ve.bits=1,0;for(Ze=1;Ze<Ft&&Ct[Ze]===0;Ze++);for(Zt<Ze&&(Zt=Ze),it=bt=1;it<=15;it++)if(bt<<=1,(bt-=Ct[it])<0)return-1;if(0<bt&&(Oe===0||Ft!==1))return-1;for(Kt[1]=0,it=1;it<15;it++)Kt[it+1]=Kt[it]+Ct[it];for(vt=0;vt<Ie;vt++)ne[De+vt]!==0&&(Ne[Kt[ne[De+vt]]++]=vt);if(tt=Oe===0?(dt=fr=Ne,19):Oe===1?(dt=m,Pt-=257,fr=g,Rr-=257,256):(dt=Te,fr=Ee,-1),it=Ze,ot=Fe,ur=vt=ct=0,He=-1,Xe=(St=1<<(jt=Zt))-1,Oe===1&&852<St||Oe===2&&592<St)return 1;for(;;){for(mt=it-ur,rt=Ne[vt]<tt?(gt=0,Ne[vt]):Ne[vt]>tt?(gt=fr[Rr+Ne[vt]],dt[Pt+Ne[vt]]):(gt=96,0),Ue=1<<it-ur,Ze=We=1<<jt;qe[ot+(ct>>ur)+(We-=Ue)]=mt<<24|gt<<16|rt|0,We!==0;);for(Ue=1<<it-1;ct&Ue;)Ue>>=1;if(Ue!==0?(ct&=Ue-1,ct+=Ue):ct=0,vt++,--Ct[it]==0){if(it===Ft)break;it=ne[De+Ne[vt]]}if(Zt<it&&(ct&Xe)!==He){for(ur===0&&(ur=Zt),ot+=Ze,bt=1<<(jt=it-ur);jt+ur<Ft&&!((bt-=Ct[jt+ur])<=0);)jt++,bt<<=1;if(St+=1<<jt,Oe===1&&852<St||Oe===2&&592<St)return 1;qe[He=ct&Xe]=Zt<<24|jt<<16|ot-Fe|0}}return ct!==0&&(qe[ot+ct]=it-ur<<24|64<<16|0),Ve.bits=Zt,0}},{"../utils/common":41}],51:[function(e,i,c){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,i,c){var f=e("../utils/common"),m=0,g=1;function Te(ht){for(var Dt=ht.length;0<=--Dt;)ht[Dt]=0}var Ee=0,Oe=29,ne=256,De=ne+1+Oe,Ie=30,qe=19,Fe=2*De+1,Ne=15,Ve=16,Ue=7,We=256,He=16,Xe=17,ot=18,tt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],mt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],gt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],rt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],pt=new Array(2*(De+2));Te(pt);var it=new Array(2*Ie);Te(it);var vt=new Array(512);Te(vt);var Ze=new Array(256);Te(Ze);var Ft=new Array(Oe);Te(Ft);var Zt,jt,ur,bt=new Array(Ie);function St(ht,Dt,er,nt,je){this.static_tree=ht,this.extra_bits=Dt,this.extra_base=er,this.elems=nt,this.max_length=je,this.has_stree=ht&&ht.length}function ct(ht,Dt){this.dyn_tree=ht,this.max_code=0,this.stat_desc=Dt}function dt(ht){return ht<256?vt[ht]:vt[256+(ht>>>7)]}function Pt(ht,Dt){ht.pending_buf[ht.pending++]=255&Dt,ht.pending_buf[ht.pending++]=Dt>>>8&255}function Ct(ht,Dt,er){ht.bi_valid>Ve-er?(ht.bi_buf|=Dt<<ht.bi_valid&65535,Pt(ht,ht.bi_buf),ht.bi_buf=Dt>>Ve-ht.bi_valid,ht.bi_valid+=er-Ve):(ht.bi_buf|=Dt<<ht.bi_valid&65535,ht.bi_valid+=er)}function Kt(ht,Dt,er){Ct(ht,er[2*Dt],er[2*Dt+1])}function fr(ht,Dt){for(var er=0;er|=1&ht,ht>>>=1,er<<=1,0<--Dt;);return er>>>1}function Rr(ht,Dt,er){var nt,je,Ge=new Array(Ne+1),ut=0;for(nt=1;nt<=Ne;nt++)Ge[nt]=ut=ut+er[nt-1]<<1;for(je=0;je<=Dt;je++){var Et=ht[2*je+1];Et!==0&&(ht[2*je]=fr(Ge[Et]++,Et))}}function cr(ht){var Dt;for(Dt=0;Dt<De;Dt++)ht.dyn_ltree[2*Dt]=0;for(Dt=0;Dt<Ie;Dt++)ht.dyn_dtree[2*Dt]=0;for(Dt=0;Dt<qe;Dt++)ht.bl_tree[2*Dt]=0;ht.dyn_ltree[2*We]=1,ht.opt_len=ht.static_len=0,ht.last_lit=ht.matches=0}function lt(ht){8<ht.bi_valid?Pt(ht,ht.bi_buf):0<ht.bi_valid&&(ht.pending_buf[ht.pending++]=ht.bi_buf),ht.bi_buf=0,ht.bi_valid=0}function yt(ht,Dt,er,nt){var je=2*Dt,Ge=2*er;return ht[je]<ht[Ge]||ht[je]===ht[Ge]&&nt[Dt]<=nt[er]}function Xt(ht,Dt,er){for(var nt=ht.heap[er],je=er<<1;je<=ht.heap_len&&(je<ht.heap_len&&yt(Dt,ht.heap[je+1],ht.heap[je],ht.depth)&&je++,!yt(Dt,nt,ht.heap[je],ht.depth));)ht.heap[er]=ht.heap[je],er=je,je<<=1;ht.heap[er]=nt}function $t(ht,Dt,er){var nt,je,Ge,ut,Et=0;if(ht.last_lit!==0)for(;nt=ht.pending_buf[ht.d_buf+2*Et]<<8|ht.pending_buf[ht.d_buf+2*Et+1],je=ht.pending_buf[ht.l_buf+Et],Et++,nt===0?Kt(ht,je,Dt):(Kt(ht,(Ge=Ze[je])+ne+1,Dt),(ut=tt[Ge])!==0&&Ct(ht,je-=Ft[Ge],ut),Kt(ht,Ge=dt(--nt),er),(ut=mt[Ge])!==0&&Ct(ht,nt-=bt[Ge],ut)),Et<ht.last_lit;);Kt(ht,We,Dt)}function dr(ht,Dt){var er,nt,je,Ge=Dt.dyn_tree,ut=Dt.stat_desc.static_tree,Et=Dt.stat_desc.has_stree,It=Dt.stat_desc.elems,zt=-1;for(ht.heap_len=0,ht.heap_max=Fe,er=0;er<It;er++)Ge[2*er]!==0?(ht.heap[++ht.heap_len]=zt=er,ht.depth[er]=0):Ge[2*er+1]=0;for(;ht.heap_len<2;)Ge[2*(je=ht.heap[++ht.heap_len]=zt<2?++zt:0)]=1,ht.depth[je]=0,ht.opt_len--,Et&&(ht.static_len-=ut[2*je+1]);for(Dt.max_code=zt,er=ht.heap_len>>1;1<=er;er--)Xt(ht,Ge,er);for(je=It;er=ht.heap[1],ht.heap[1]=ht.heap[ht.heap_len--],Xt(ht,Ge,1),nt=ht.heap[1],ht.heap[--ht.heap_max]=er,ht.heap[--ht.heap_max]=nt,Ge[2*je]=Ge[2*er]+Ge[2*nt],ht.depth[je]=(ht.depth[er]>=ht.depth[nt]?ht.depth[er]:ht.depth[nt])+1,Ge[2*er+1]=Ge[2*nt+1]=je,ht.heap[1]=je++,Xt(ht,Ge,1),2<=ht.heap_len;);ht.heap[--ht.heap_max]=ht.heap[1],function(tr,Sr){var Lr,Br,Er,gr,Qr,Cr,sn=Sr.dyn_tree,Bn=Sr.max_code,Un=Sr.stat_desc.static_tree,wr=Sr.stat_desc.has_stree,Jt=Sr.stat_desc.extra_bits,yr=Sr.stat_desc.extra_base,at=Sr.stat_desc.max_length,Or=0;for(gr=0;gr<=Ne;gr++)tr.bl_count[gr]=0;for(sn[2*tr.heap[tr.heap_max]+1]=0,Lr=tr.heap_max+1;Lr<Fe;Lr++)at<(gr=sn[2*sn[2*(Br=tr.heap[Lr])+1]+1]+1)&&(gr=at,Or++),sn[2*Br+1]=gr,Bn<Br||(tr.bl_count[gr]++,Qr=0,yr<=Br&&(Qr=Jt[Br-yr]),Cr=sn[2*Br],tr.opt_len+=Cr*(gr+Qr),wr&&(tr.static_len+=Cr*(Un[2*Br+1]+Qr)));if(Or!==0){do{for(gr=at-1;tr.bl_count[gr]===0;)gr--;tr.bl_count[gr]--,tr.bl_count[gr+1]+=2,tr.bl_count[at]--,Or-=2}while(0<Or);for(gr=at;gr!==0;gr--)for(Br=tr.bl_count[gr];Br!==0;)Bn<(Er=tr.heap[--Lr])||(sn[2*Er+1]!==gr&&(tr.opt_len+=(gr-sn[2*Er+1])*sn[2*Er],sn[2*Er+1]=gr),Br--)}}(ht,Dt),Rr(Ge,zt,ht.bl_count)}function Je(ht,Dt,er){var nt,je,Ge=-1,ut=Dt[1],Et=0,It=7,zt=4;for(ut===0&&(It=138,zt=3),Dt[2*(er+1)+1]=65535,nt=0;nt<=er;nt++)je=ut,ut=Dt[2*(nt+1)+1],++Et<It&&je===ut||(Et<zt?ht.bl_tree[2*je]+=Et:je!==0?(je!==Ge&&ht.bl_tree[2*je]++,ht.bl_tree[2*He]++):Et<=10?ht.bl_tree[2*Xe]++:ht.bl_tree[2*ot]++,Ge=je,zt=(Et=0)===ut?(It=138,3):je===ut?(It=6,3):(It=7,4))}function At(ht,Dt,er){var nt,je,Ge=-1,ut=Dt[1],Et=0,It=7,zt=4;for(ut===0&&(It=138,zt=3),nt=0;nt<=er;nt++)if(je=ut,ut=Dt[2*(nt+1)+1],!(++Et<It&&je===ut)){if(Et<zt)for(;Kt(ht,je,ht.bl_tree),--Et!=0;);else je!==0?(je!==Ge&&(Kt(ht,je,ht.bl_tree),Et--),Kt(ht,He,ht.bl_tree),Ct(ht,Et-3,2)):Et<=10?(Kt(ht,Xe,ht.bl_tree),Ct(ht,Et-3,3)):(Kt(ht,ot,ht.bl_tree),Ct(ht,Et-11,7));Ge=je,zt=(Et=0)===ut?(It=138,3):je===ut?(It=6,3):(It=7,4)}}Te(bt);var Wt=!1;function xt(ht,Dt,er,nt){Ct(ht,(Ee<<1)+(nt?1:0),3),function(je,Ge,ut,Et){lt(je),Et&&(Pt(je,ut),Pt(je,~ut)),f.arraySet(je.pending_buf,je.window,Ge,ut,je.pending),je.pending+=ut}(ht,Dt,er,!0)}c._tr_init=function(ht){Wt||(function(){var Dt,er,nt,je,Ge,ut=new Array(Ne+1);for(je=nt=0;je<Oe-1;je++)for(Ft[je]=nt,Dt=0;Dt<1<<tt[je];Dt++)Ze[nt++]=je;for(Ze[nt-1]=je,je=Ge=0;je<16;je++)for(bt[je]=Ge,Dt=0;Dt<1<<mt[je];Dt++)vt[Ge++]=je;for(Ge>>=7;je<Ie;je++)for(bt[je]=Ge<<7,Dt=0;Dt<1<<mt[je]-7;Dt++)vt[256+Ge++]=je;for(er=0;er<=Ne;er++)ut[er]=0;for(Dt=0;Dt<=143;)pt[2*Dt+1]=8,Dt++,ut[8]++;for(;Dt<=255;)pt[2*Dt+1]=9,Dt++,ut[9]++;for(;Dt<=279;)pt[2*Dt+1]=7,Dt++,ut[7]++;for(;Dt<=287;)pt[2*Dt+1]=8,Dt++,ut[8]++;for(Rr(pt,De+1,ut),Dt=0;Dt<Ie;Dt++)it[2*Dt+1]=5,it[2*Dt]=fr(Dt,5);Zt=new St(pt,tt,ne+1,De,Ne),jt=new St(it,mt,0,Ie,Ne),ur=new St(new Array(0),gt,0,qe,Ue)}(),Wt=!0),ht.l_desc=new ct(ht.dyn_ltree,Zt),ht.d_desc=new ct(ht.dyn_dtree,jt),ht.bl_desc=new ct(ht.bl_tree,ur),ht.bi_buf=0,ht.bi_valid=0,cr(ht)},c._tr_stored_block=xt,c._tr_flush_block=function(ht,Dt,er,nt){var je,Ge,ut=0;0<ht.level?(ht.strm.data_type===2&&(ht.strm.data_type=function(Et){var It,zt=4093624447;for(It=0;It<=31;It++,zt>>>=1)if(1&zt&&Et.dyn_ltree[2*It]!==0)return m;if(Et.dyn_ltree[18]!==0||Et.dyn_ltree[20]!==0||Et.dyn_ltree[26]!==0)return g;for(It=32;It<ne;It++)if(Et.dyn_ltree[2*It]!==0)return g;return m}(ht)),dr(ht,ht.l_desc),dr(ht,ht.d_desc),ut=function(Et){var It;for(Je(Et,Et.dyn_ltree,Et.l_desc.max_code),Je(Et,Et.dyn_dtree,Et.d_desc.max_code),dr(Et,Et.bl_desc),It=qe-1;3<=It&&Et.bl_tree[2*rt[It]+1]===0;It--);return Et.opt_len+=3*(It+1)+5+5+4,It}(ht),je=ht.opt_len+3+7>>>3,(Ge=ht.static_len+3+7>>>3)<=je&&(je=Ge)):je=Ge=er+5,er+4<=je&&Dt!==-1?xt(ht,Dt,er,nt):ht.strategy===4||Ge===je?(Ct(ht,2+(nt?1:0),3),$t(ht,pt,it)):(Ct(ht,4+(nt?1:0),3),function(Et,It,zt,tr){var Sr;for(Ct(Et,It-257,5),Ct(Et,zt-1,5),Ct(Et,tr-4,4),Sr=0;Sr<tr;Sr++)Ct(Et,Et.bl_tree[2*rt[Sr]+1],3);At(Et,Et.dyn_ltree,It-1),At(Et,Et.dyn_dtree,zt-1)}(ht,ht.l_desc.max_code+1,ht.d_desc.max_code+1,ut+1),$t(ht,ht.dyn_ltree,ht.dyn_dtree)),cr(ht),nt&&lt(ht)},c._tr_tally=function(ht,Dt,er){return ht.pending_buf[ht.d_buf+2*ht.last_lit]=Dt>>>8&255,ht.pending_buf[ht.d_buf+2*ht.last_lit+1]=255&Dt,ht.pending_buf[ht.l_buf+ht.last_lit]=255&er,ht.last_lit++,Dt===0?ht.dyn_ltree[2*er]++:(ht.matches++,Dt--,ht.dyn_ltree[2*(Ze[er]+ne+1)]++,ht.dyn_dtree[2*dt(Dt)]++),ht.last_lit===ht.lit_bufsize-1},c._tr_align=function(ht){Ct(ht,2,3),Kt(ht,We,pt),function(Dt){Dt.bi_valid===16?(Pt(Dt,Dt.bi_buf),Dt.bi_buf=0,Dt.bi_valid=0):8<=Dt.bi_valid&&(Dt.pending_buf[Dt.pending++]=255&Dt.bi_buf,Dt.bi_buf>>=8,Dt.bi_valid-=8)}(ht)}},{"../utils/common":41}],53:[function(e,i,c){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,i,c){(function(f){(function(m,g){if(!m.setImmediate){var Te,Ee,Oe,ne,De=1,Ie={},qe=!1,Fe=m.document,Ne=Object.getPrototypeOf&&Object.getPrototypeOf(m);Ne=Ne&&Ne.setTimeout?Ne:m,Te={}.toString.call(m.process)==="[object process]"?function(He){process.nextTick(function(){Ue(He)})}:function(){if(m.postMessage&&!m.importScripts){var He=!0,Xe=m.onmessage;return m.onmessage=function(){He=!1},m.postMessage("","*"),m.onmessage=Xe,He}}()?(ne="setImmediate$"+Math.random()+"$",m.addEventListener?m.addEventListener("message",We,!1):m.attachEvent("onmessage",We),function(He){m.postMessage(ne+He,"*")}):m.MessageChannel?((Oe=new MessageChannel).port1.onmessage=function(He){Ue(He.data)},function(He){Oe.port2.postMessage(He)}):Fe&&"onreadystatechange"in Fe.createElement("script")?(Ee=Fe.documentElement,function(He){var Xe=Fe.createElement("script");Xe.onreadystatechange=function(){Ue(He),Xe.onreadystatechange=null,Ee.removeChild(Xe),Xe=null},Ee.appendChild(Xe)}):function(He){setTimeout(Ue,0,He)},Ne.setImmediate=function(He){typeof He!="function"&&(He=new Function(""+He));for(var Xe=new Array(arguments.length-1),ot=0;ot<Xe.length;ot++)Xe[ot]=arguments[ot+1];var tt={callback:He,args:Xe};return Ie[De]=tt,Te(De),De++},Ne.clearImmediate=Ve}function Ve(He){delete Ie[He]}function Ue(He){if(qe)setTimeout(Ue,0,He);else{var Xe=Ie[He];if(Xe){qe=!0;try{(function(ot){var tt=ot.callback,mt=ot.args;switch(mt.length){case 0:tt();break;case 1:tt(mt[0]);break;case 2:tt(mt[0],mt[1]);break;case 3:tt(mt[0],mt[1],mt[2]);break;default:tt.apply(g,mt)}})(Xe)}finally{Ve(He),qe=!1}}}}function We(He){He.source===m&&typeof He.data=="string"&&He.data.indexOf(ne)===0&&Ue(+He.data.slice(ne.length))}})(typeof self>"u"?f===void 0?this:f:self)}).call(this,typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(jszip_min);var jszip_minExports=jszip_min.exports;const _0x1cc849=getDefaultExportFromCjs$1(jszip_minExports),_0x17310e=_0x1675;(function(h,o){const e=_0x1675,i=h();for(;[];)try{if(parseInt(e(169))/1*(parseInt(e(156))/2)+parseInt(e(149))/3*(parseInt(e(170))/4)+parseInt(e(168))/5+parseInt(e(161))/6*(-parseInt(e(174))/7)+parseInt(e(155))/8+parseInt(e(164))/9+-parseInt(e(154))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x2036,281760);function _0x1675(h,o){const e=_0x2036();return _0x1675=function(i,c){return i=i-136,e[i]},_0x1675(h,o)}function createGuiButton(h,o,e,i,c=!![],f,m=_0x17310e(150)){const g=_0x17310e,Te=createButtonElement(h,o,e),Ee=f||g(142);addButtonToContainer(Te,m),setupButtonInteractions(Te,i,c,Ee)}function createButtonElement(h,o,e){const i=_0x17310e,c=document[i(152)](i(137));return c.id=h,c[i(146)]=i(162)+o+i(162),c[i(171)](i(139),e),c[i(158)][i(144)]="&nbsp;"+o+i(162),c[i(175)][i(141)](i(167)),c}function addButtonToContainer(h,o){const e=_0x17310e;document[e(166)](o)[e(145)](h)}function setupButtonInteractions(h,o,e,i){const c=_0x17310e;h[c(158)][c(140)]="false";function f(){const m=c;return!h.classList[m(172)](m(138))}h[c(159)](c(136),m=>handlePointerDown(m,h,f,e,i)),h.addEventListener(c(153),m=>handlePointerMove(m,h,f,e,i)),h[c(159)](c(148),m=>handlePointerCancel(m,h,f,e,i)),h[c(159)]("pointerup",m=>handlePointerUp(m,h,f,o,e,i))}function handlePointerDown(h,o,e,i,c){const f=_0x17310e;h[f(163)](),e()&&(o[f(158)].isSelected="true",i&&o[f(175)].add(c))}function handlePointerMove(h,o,e,i,c){const f=_0x17310e;if(h[f(163)](),e()){const m=document[f(147)](h[f(160)],h[f(151)]);updateSelectionOnMove(m,h[f(157)],o,i,c)}}function handlePointerCancel(h,o,e,i,c){const f=_0x17310e;h.preventDefault(),e()&&(o[f(158)][f(140)]=f(143),i&&o[f(175)][f(173)](c))}function handlePointerUp(h,o,e,i,c,f){const m=_0x17310e;h[m(163)](),e()&&o[m(158)][m(140)]===m(165)&&(i(),c&&o[m(175)].remove(f)),o[m(158)][m(140)]=m(143)}function updateSelectionOnMove(h,o,e,i,c){const f=_0x17310e;h!==o?e[f(158)].isSelected===f(165)&&(e[f(158)][f(140)]=f(143),i&&e[f(175)][f(173)](c)):e[f(158)][f(140)]===f(143)&&(e[f(158)][f(140)]=f(165),i&&e[f(175)][f(141)](c))}function _0x2036(){const h=["setAttribute","contains","remove","875PqvmLG","classList","pointerdown","span","disabled","data-shortcut","isSelected","add","guiBtn-pressed","false","originalText","appendChild","innerHTML","elementFromPoint","pointercancel","3AYpYQr","menu-button-strip","clientY","createElement","pointermove","15339770zDDhWn","2731304wDZGKE","2IftBEv","target","dataset","addEventListener","clientX","3882nyyJng","&nbsp;","preventDefault","3593673oClgxT","true","getElementById","clabel","2499990GsaLmB","435693haBcdH","880844ajGwjc"];return _0x2036=function(){return h},_0x2036()}var _0x458081=_0x3697;(function(h,o){for(var e=_0x3697,i=h();[];)try{var c=-parseInt(e(421))/1+parseInt(e(437))/2+-parseInt(e(438))/3*(parseInt(e(429))/4)+parseInt(e(430))/5+parseInt(e(425))/6+-parseInt(e(405))/7*(-parseInt(e(435))/8)+-parseInt(e(423))/9*(parseInt(e(416))/10);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x470d,838118);function _0x470d(){var h=["color","appendChild","608568zPyMtW","bold","408532UXzXcJ","6rRVjdi","white","innerHTML","backgroundColor","154JDGYzw","background","preventDefault","touchstart","state","display","touchmove","12px","style","elListener","touch","3750cuuFxn","createElement","add","justifyContent","flex","703343yKgiYh","fast-button","25686PGaHzb","center","4923840UKDtHy","addEventListener","fontWeight","pointerEvents","1846716PTLcuD","4183005FzWzNY","div","auto"];return _0x470d=function(){return h},_0x470d()}function _0x3697(h,o){var e=_0x470d();return _0x3697=function(i,c){i=i-404;var f=e[i];return f},_0x3697(h,o)}var rc,gl;class SingleTouchButton{constructor(o,e,i,c,f,m=_0x458081(412)){Nt(this,rc);var g=_0x458081,Te=sr(this,rc,gl).call(this,e,i,c,m);o[g(434)](Te),this.el=Te,this.el[g(413)][g(433)]=QJ_LABEL_COLOR,this.state=![],this.elListener=f;var Ee=this;Te[g(426)](g(408),function(Oe){Ee.touch(Oe,!![])}),Te[g(426)](g(411),function(Oe){var ne=g;Ee[ne(415)](Oe,!![])}),Te[g(426)]("touchend",function(Oe){var ne=g;Oe[ne(407)](),Ee[ne(415)](Oe,![])})}[_0x458081(415)](o,e){var i=_0x458081,c=![];e&&(c=!![]),c!=this[i(409)]&&(this.state=c,this[i(414)].trigger(this[i(409)]),this.el[i(413)][i(406)]=this.state?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR)}}rc=new WeakSet,gl=function(o,e,i,c=_0x458081(412)){var f=_0x458081,m=document[f(417)](f(431));return m.classList[f(418)](f(422)),m[f(440)]=o,e!=null&&(m[f(413)].gridArea=e),i!=null&&(m.id=i),m[f(413)][f(404)]=QJ_IDLE_COLOR,m.style.borderRadius=c,m[f(413)][f(410)]=f(420),m.style.alignItems=f(424),m.style[f(433)]=f(439),m[f(413)][f(427)]=f(436),m[f(413)][f(419)]=f(424),m.style[f(428)]=f(432),m};var _0x1e37b0=_0x3602;function _0x3602(h,o){var e=_0x44ba();return _0x3602=function(i,c){i=i-279;var f=e[i];return f},_0x3602(h,o)}(function(h,o){for(var e=_0x3602,i=h();[];)try{var c=parseInt(e(280))/1*(-parseInt(e(285))/2)+parseInt(e(282))/3*(parseInt(e(281))/4)+parseInt(e(283))/5*(-parseInt(e(286))/6)+parseInt(e(288))/7+parseInt(e(284))/8+parseInt(e(279))/9*(-parseInt(e(290))/10)+parseInt(e(287))/11;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x44ba,403940);class TouchButtonListener{[_0x1e37b0(289)](o){}}function _0x44ba(){var h=["289581dqJact","3640615YXUiMz","1021384kNBmjy","2CxiFAc","6cbKeds","15278098ulJbZa","1437142mtfDlo","trigger","1501940yTMGlP","45iCvRpy","31918RiQaxm","8RhwVZw"];return _0x44ba=function(){return h},_0x44ba()}var _0x547fec=_0x2993;(function(h,o){for(var e=_0x2993,i=h();[];)try{var c=-parseInt(e(128))/1+-parseInt(e(135))/2+parseInt(e(122))/3+parseInt(e(132))/4+-parseInt(e(133))/5*(-parseInt(e(125))/6)+parseInt(e(130))/7*(parseInt(e(129))/8)+-parseInt(e(127))/9*(parseInt(e(134))/10);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0xde08,374326);function _0x2993(h,o){var e=_0xde08();return _0x2993=function(i,c){i=i-121;var f=e[i];return f},_0x2993(h,o)}function _0xde08(){var h=["67932eQhEHr","pressUp","bind","402zmqlFE","input","9kLvTVq","585187nhQNri","16yNroCN","1523431HhCsLB","pressDown","2571568nKauXC","16175QIfZoB","2906570HYRsTm","134754QeYTWF","trigger"];return _0xde08=function(){return h},_0xde08()}var Ro;class SingleTouchButtonJoyListener extends TouchButtonListener{constructor(e,i){var c=_0x2993;super();Nt(this,Ro,void 0);nr(this,Ro,e),this.input=i,this[c(121)]=this.trigger[c(124)](this)}[_0x547fec(121)](e){var i=_0x547fec;e?Ke(this,Ro)[i(131)](this[i(126)]):Ke(this,Ro)[i(123)](this[i(126)])}}Ro=new WeakMap;(function(h,o){const e=_0x25dd,i=h();for(;[];)try{if(parseInt(e(214))/1+-parseInt(e(207))/2+parseInt(e(212))/3+parseInt(e(213))/4*(parseInt(e(203))/5)+-parseInt(e(206))/6+parseInt(e(204))/7+-parseInt(e(211))/8*(-parseInt(e(208))/9)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x31c1,760192);function _0x25dd(h,o){const e=_0x31c1();return _0x25dd=function(i,c){return i=i-202,e[i]},_0x25dd(h,o)}function _0x31c1(){const h=["8417736BmWbtP","1809604OBvcNd","99KFKEcp","dispatchEvent","keydown","491824OiWuIq","3221100szeDFM","4020NfvUCM","801839bHcfeq","bind","1595aEvVeU","1368906ZyhXsf","trigger"];return _0x31c1=function(){return h},_0x31c1()}var Fo,Po,Bo,aa,nc,yl,ic,bl;class SingleTouchButtonKbListener extends TouchButtonListener{constructor(e,i,c,f=document){const m=_0x25dd;super();Nt(this,nc);Nt(this,ic);Nt(this,Fo,void 0);Nt(this,Po,void 0);Nt(this,Bo,void 0);Nt(this,aa,void 0);nr(this,Po,e),nr(this,Bo,i),nr(this,aa,c),nr(this,Fo,f),this.trigger=this[m(205)][m(202)](this)}trigger(e){e?sr(this,nc,yl).call(this):sr(this,ic,bl).call(this)}}Fo=new WeakMap,Po=new WeakMap,Bo=new WeakMap,aa=new WeakMap,nc=new WeakSet,yl=function(){const e=_0x25dd;let i=new KeyboardEvent(e(210),{key:Ke(this,Po),code:Ke(this,Bo),keyCode:Ke(this,aa),charCode:Ke(this,aa),bubbles:!![],cancelable:!![]});Ke(this,Fo)[e(209)](i)},ic=new WeakSet,bl=function(){const e=_0x25dd;let i=new KeyboardEvent("keyup",{key:Ke(this,Po),code:Ke(this,Bo),keyCode:Ke(this,aa),charCode:Ke(this,aa),bubbles:!![],cancelable:!![]});Ke(this,Fo)[e(209)](i)};function _0x1a3a(h,o){var e=_0x1f0c();return _0x1a3a=function(i,c){i=i-252;var f=e[i];return f},_0x1a3a(h,o)}function _0x1f0c(){var h=["25848WUuOBe","1222808NwgzkR","gap","container","changedTouches","185juwnYF","bold","createElement","textContent","fast-button","isHorizontal","column","1346084AcFpFp","touch","offsetWidth","classList","el2","allowSimultaneous","width","display","div","height","addEventListener","borderRadius","12px","alignItems","left","state","background","402886uwNelD","color","flexDirection","offsetHeight","pointerEvents","132768QYYvkT","flex","el1","justifyContent","elListener","add","clientY","auto","19451493kdsHTo","2px","gridArea","getBoundingClientRect","preventDefault","style","14Galjko","100%","appendChild","center","backgroundColor","1038015qIgAsm","simultaneousTimeout"];return _0x1f0c=function(){return h},_0x1f0c()}var _0x41696c=_0x1a3a;(function(h,o){for(var e=_0x1a3a,i=h();[];)try{var c=parseInt(e(281))/1+parseInt(e(257))/2+parseInt(e(283))/3+parseInt(e(295))/4+-parseInt(e(288))/5*(-parseInt(e(262))/6)+parseInt(e(276))/7*(parseInt(e(284))/8)+-parseInt(e(270))/9;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x1f0c,547756);class DualTouchButton{constructor(o,e,i,c,f,m,g,Te=_0x41696c(252),Ee=![]){var Oe=_0x41696c,ne=document[Oe(290)](Oe(303));ne[Oe(298)][Oe(267)](Oe(292)),f!=null&&(ne[Oe(275)][Oe(272)]=f),m!=null&&(ne.id=m),ne[Oe(275)].display=Oe(263),!e&&(ne[Oe(275)][Oe(259)]=Oe(294)),ne.style[Oe(253)]=Oe(279),ne[Oe(275)].fontWeight=Oe(289),ne.style[Oe(265)]=Oe(279),ne.style[Oe(285)]=Oe(271);var De=document.createElement("div"),Ie=document[Oe(290)]("div");De[Oe(275)].borderRadius=Te,Ie[Oe(275)][Oe(306)]=Te,De.style.pointerEvents="auto",Ie.style[Oe(261)]=Oe(269),De[Oe(275)][Oe(258)]=QJ_LABEL_COLOR,Ie[Oe(275)][Oe(258)]=QJ_LABEL_COLOR,De[Oe(275)][Oe(280)]=QJ_IDLE_COLOR,Ie[Oe(275)][Oe(280)]=QJ_IDLE_COLOR,De.style[Oe(301)]=Oe(277),Ie.style[Oe(301)]=Oe(277),De[Oe(275)].height=Oe(277),Ie[Oe(275)][Oe(304)]=Oe(277),De[Oe(275)].display=Oe(263),De.style.justifyContent=Oe(279),De.style[Oe(253)]=Oe(279),Ie[Oe(275)][Oe(302)]=Oe(263),Ie[Oe(275)].justifyContent="center",Ie[Oe(275)][Oe(253)]=Oe(279),this.el1=De,this[Oe(299)]=Ie,o[Oe(278)](ne),ne[Oe(278)](De),ne[Oe(278)](Ie),this[Oe(286)]=ne,this[Oe(293)]=e,this[Oe(266)]=g,this[Oe(255)]=0,this[Oe(300)]=Ee,this[Oe(282)]=null;var qe=this;this[Oe(264)]!=null&&(this[Oe(264)][Oe(291)]=i),this[Oe(299)]!=null&&(this[Oe(299)][Oe(291)]=c),this[Oe(286)][Oe(305)]("touchstart",function(Fe){qe.touch(Fe,!![])}),this.container[Oe(305)]("touchmove",function(Fe){qe.touch(Fe,!![])}),this[Oe(286)][Oe(305)]("touchend",function(Fe){var Ne=Oe;Fe[Ne(274)](),qe[Ne(296)](Fe,![])})}touch(o,e){var i=_0x41696c,c=0;if(e){if(this[i(293)])var f=this[i(286)][i(297)],m=o[i(287)][0].clientX-this[i(286)][i(273)]()[i(254)];else var f=this[i(286)][i(260)],m=o[i(287)][0][i(268)]-this[i(286)].getBoundingClientRect().top;m<f/2?c=1:c=2}else c=0;c!=this[i(255)]&&(this[i(255)]=c,this[i(266)].trigger(this.state),this.el1[i(275)][i(256)]=this[i(255)]==1?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this.el2[i(275)][i(256)]=this[i(255)]==2?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR)}}function _0x5979(h,o){var e=_0x590b();return _0x5979=function(i,c){i=i-450;var f=e[i];return f},_0x5979(h,o)}var _0x186178=_0x5979;(function(h,o){for(var e=_0x5979,i=h();[];)try{var c=-parseInt(e(461))/1*(-parseInt(e(454))/2)+parseInt(e(464))/3+-parseInt(e(450))/4*(-parseInt(e(460))/5)+-parseInt(e(459))/6*(-parseInt(e(462))/7)+parseInt(e(458))/8*(parseInt(e(456))/9)+-parseInt(e(465))/10+-parseInt(e(455))/11;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x590b,115590);function _0x590b(){var h=["input1","9332EyYCVu","previous","trigger","bind","351284YEvUgn","2059123yxnTBx","839151NPUwpE","pressDown","8MaPPEj","87426ifEDvk","255svBhZd","1faweRC","21IeUiNB","input2","188415tOEOjK","1915990uOboBJ"];return _0x590b=function(){return h},_0x590b()}var qo;class DualTouchButtonJoyListener extends TouchButtonListener{constructor(e,i,c){var f=_0x5979;super();Nt(this,qo,void 0);nr(this,qo,e),this.input1=i,this[f(463)]=c,this[f(451)]=0,this[f(452)]=this[f(452)][f(453)](this)}[_0x186178(452)](e){var i=_0x186178;e>0&&Ke(this,qo)[i(457)](e==1?this[i(466)]:this[i(463)]),this[i(451)]>0&&Ke(this,qo).pressUp(this[i(451)]==1?this[i(466)]:this[i(463)]),this[i(451)]=e}}qo=new WeakMap;var _0x2cca43=_0x308f;(function(h,o){for(var e=_0x308f,i=h();[];)try{var c=-parseInt(e(405))/1*(parseInt(e(380))/2)+parseInt(e(425))/3+-parseInt(e(416))/4*(-parseInt(e(409))/5)+parseInt(e(404))/6*(-parseInt(e(378))/7)+-parseInt(e(384))/8*(-parseInt(e(386))/9)+-parseInt(e(402))/10+parseInt(e(390))/11;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x33fb,120477);function _0x308f(h,o){var e=_0x33fb();return _0x308f=function(i,c){i=i-375;var f=e[i];return f},_0x308f(h,o)}function _0x33fb(){var h=["qjlr","primary","gap","createElement","#quickjoy","classList","repeat(50, 1fr)","FIRE","fire_buttons","fixed","1093490CSqAai","qjab","42gagrKF","154501BcCTOR","justifyContent","#quickjoys","appendChild","318795AeMeGx","display","qja","position","style","2px","textAlign","8bCbUzg","center","zIndex","Helvetica, Arial, sans-serif !important","secondary","hide","height","100%","getNostalgist","310092BVtRuQ","none","getSelectedPlatform","div","mode","body","gridTemplateRows","width","173698aFTfKD","left","2UheZuI","fontFamily","grid","down","8jJIkeo","pointerEvents","1957842aXZBHs","toggle","add","right","1205655rhmvTp","qjud2"];return _0x33fb=function(){return h},_0x33fb()}var qi,ac,El;class QuickJoy{constructor(o){Nt(this,ac);Nt(this,qi,void 0);nr(this,qi,o),sr(this,ac,El).call(this)}show(){show("#quickjoys","grid")}[_0x2cca43(421)](){var o=_0x2cca43;hide(o(396)),hide("#quickjoys")}[_0x2cca43(429)](o){var e=_0x2cca43;const i=s(e(407));i.classList[e(387)](e(393)),i[e(397)][e(387)](e(420))}}qi=new WeakMap,ac=new WeakSet,El=function(){var o=_0x308f,e=document[o(395)](o(428));e.id="quickjoys",e[o(397)][o(388)](o(420)),e.style[o(412)]=o(401),e.style[o(389)]="0",e.style.bottom="0",e[o(413)][o(377)]=o(423),e.style[o(422)]=o(423),e[o(413)][o(410)]=o(382),e.style[o(394)]=o(414),e.style[o(418)]="7777",e[o(413)][o(415)]="center",e[o(413)][o(381)]=o(419),e.style[o(406)]=o(417),e[o(413)].gridTemplateColumns="repeat(50, 1fr)",e.style[o(376)]=o(398),e[o(413)][o(385)]=o(426),new DualTouchButton(e,!![],"","",void 0,o(392),new DualTouchButtonJoyListener(Ke(this,qi)[o(424)](),o(379),"right"));let i=Ke(this,qi)[o(427)]()[o(400)];i==1?(new DualTouchButton(e,![],"","",void 0,"qjud1",new DualTouchButtonJoyListener(Ke(this,qi)[o(424)](),"up","down")),new SingleTouchButton(e,o(399),void 0,o(411),new SingleTouchButtonJoyListener(Ke(this,qi).getNostalgist(),"b"))):i==2&&(new DualTouchButton(e,![],"","",void 0,o(391),new DualTouchButtonJoyListener(Ke(this,qi)[o(424)](),"up",o(383))),new DualTouchButton(e,!![],"B","A",void 0,o(403),new DualTouchButtonJoyListener(Ke(this,qi)[o(424)](),"b","a"))),e[o(413)][o(410)]=o(426),document[o(375)][o(408)](e)};function _0x4d36(){var h=["isHorizontal","backgroundColor","135490EaHxjS","fast-button","touch","touchmove","div","touchstart","5ybSlKT","textContent","translateY(0px)","color","2246097xyXGKt","12px","offsetWidth","1304228HMqRvk","gridArea","offsetHeight","121zlbIWW","trigger","1850380kWqAvz","translateY(25px)","touchend","flex","8fDSYNF","height","100%","clientY","background","add","transform","changedTouches","style","pointerEvents","top","justifyContent","state","el3","container","10159011RagWwn","appendChild","elListener","translateY(50px)","getBoundingClientRect","createElement","display","el2","gap","forEach","addEventListener","auto","el1","6865734vLYjGO","borderRadius","clientX","center","flexDirection","column","width","left","1128901cuuEOj","simultaneousTimeout","2GuWtRN"];return _0x4d36=function(){return h},_0x4d36()}var _0x3bfa3c=_0x159d;function _0x159d(h,o){var e=_0x4d36();return _0x159d=function(i,c){i=i-192;var f=e[i];return f},_0x159d(h,o)}(function(h,o){for(var e=_0x159d,i=h();[];)try{var c=parseInt(e(218))/1*(-parseInt(e(220))/2)+-parseInt(e(233))/3+parseInt(e(236))/4*(parseInt(e(229))/5)+parseInt(e(210))/6+-parseInt(e(241))/7+-parseInt(e(245))/8*(-parseInt(e(197))/9)+parseInt(e(223))/10*(parseInt(e(239))/11);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x4d36,606224);class TripleTouchButton{constructor(o,e,i,c,f,m,g,Te,Ee=_0x3bfa3c(234),Oe=![]){var ne=_0x3bfa3c,De=document[ne(202)](ne(227));De.classList[ne(250)](ne(224)),m!=null&&(De[ne(253)][ne(237)]=m),g!=null&&(De.id=g),De[ne(253)][ne(203)]=ne(244),De[ne(253)][ne(214)]=e?"row":ne(215),De[ne(253)].alignItems=ne(213),De[ne(253)].justifyContent="center",De[ne(253)][ne(205)]="8px";var Ie=document[ne(202)]("div"),qe=document[ne(202)](ne(227)),Fe=document[ne(202)](ne(227));Ie[ne(253)][ne(211)]=Ee,qe[ne(253)][ne(211)]=Ee,Fe[ne(253)][ne(211)]=Ee,Ie[ne(253)][ne(254)]=ne(208),qe.style[ne(254)]=ne(208),Fe[ne(253)][ne(254)]="auto",Ie[ne(253)][ne(232)]=QJ_LABEL_COLOR,qe[ne(253)][ne(232)]=QJ_LABEL_COLOR,Fe[ne(253)].color=QJ_LABEL_COLOR,Ie.style[ne(222)]=QJ_IDLE_COLOR,qe[ne(253)][ne(222)]=QJ_IDLE_COLOR,Fe[ne(253)][ne(222)]=QJ_IDLE_COLOR,Ie[ne(253)][ne(216)]=ne(247),qe[ne(253)][ne(216)]="100%",Fe[ne(253)].width="100%",Ie[ne(253)][ne(246)]="100%",qe[ne(253)][ne(246)]=ne(247),Fe[ne(253)][ne(246)]=ne(247),e&&(Ie[ne(253)][ne(251)]=ne(200),qe[ne(253)][ne(251)]=ne(242),Fe[ne(253)].transform=ne(231)),[Ie,qe,Fe][ne(206)](Ne=>{var Ve=ne;Ne.style.display=Ve(244),Ne[Ve(253)][Ve(193)]=Ve(213),Ne.style.alignItems=Ve(213),Ne.style[Ve(246)]=Ve(247)}),o[ne(198)](De),De.appendChild(Ie),De[ne(198)](qe),De[ne(198)](Fe),this[ne(196)]=De,this.isHorizontal=e,this.elListener=Te,this.state=0,this.allowSimultaneous=Oe,this[ne(219)]=null,this[ne(209)]=Ie,this.el2=qe,this[ne(195)]=Fe,Ie[ne(230)]=i,qe[ne(230)]=c,Fe[ne(230)]=f,De[ne(207)](ne(228),Ne=>this[ne(225)](Ne,!![])),De[ne(207)](ne(226),Ne=>this[ne(225)](Ne,!![])),De[ne(207)](ne(243),Ne=>{var Ve=ne;Ne.preventDefault(),this[Ve(225)](Ne,![])})}[_0x3bfa3c(225)](o,e){var i=_0x3bfa3c,c=0,f,m;if(e){this[i(221)]?(f=this[i(196)][i(235)],m=o[i(252)][0][i(212)]-this[i(196)][i(201)]()[i(217)]):(f=this[i(196)][i(238)],m=o[i(252)][0][i(248)]-this[i(196)][i(201)]()[i(192)]);const g=f/3;m<g?c=1:m<g*2?c=2:c=3}else c=0;c!==this[i(194)]&&(this.state=c,this[i(199)][i(240)](this[i(194)]),this[i(209)][i(253)].background=this[i(194)]===1?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this[i(204)][i(253)][i(249)]=this.state===2?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this.el3[i(253)][i(249)]=this[i(194)]===3?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR)}}var _0x38cc3e=_0x3710;(function(h,o){for(var e=_0x3710,i=h();[];)try{var c=-parseInt(e(120))/1*(-parseInt(e(122))/2)+-parseInt(e(125))/3+parseInt(e(128))/4+parseInt(e(135))/5*(parseInt(e(133))/6)+parseInt(e(124))/7*(-parseInt(e(121))/8)+-parseInt(e(126))/9+-parseInt(e(137))/10*(-parseInt(e(134))/11);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x77bc,972341);function _0x3710(h,o){var e=_0x77bc();return _0x3710=function(i,c){i=i-120;var f=e[i];return f},_0x3710(h,o)}function _0x77bc(){var h=["1230170XCaGEb","1906271TOCMwv","136832AiXVRF","2HnsUEs","previous","476hscvnJ","4953189wBQwzU","3977334yjzydH","input2","5134312zvqwRz","pressUp","input1","trigger","pressDown","12cIwbOr","11JugpAy","2288840wzRgjw","input3"];return _0x77bc=function(){return h},_0x77bc()}var No;class TripleTouchButtonJoyListener extends TouchButtonListener{constructor(e,i,c,f){var m=_0x3710;super();Nt(this,No,void 0);nr(this,No,e),this[m(130)]=i,this[m(127)]=c,this[m(136)]=f,this[m(123)]=0,this[m(131)]=this[m(131)].bind(this)}[_0x38cc3e(131)](e){var i=_0x38cc3e;e>0&&Ke(this,No)[i(132)](e===1?this[i(130)]:e===2?this[i(127)]:this[i(136)]),this[i(123)]>0&&Ke(this,No)[i(129)](this[i(123)]===1?this[i(130)]:this[i(123)]===2?this.input2:this[i(136)]),this[i(123)]=e}}No=new WeakMap;function _0x5947(h,o){var e=_0x92d5();return _0x5947=function(i,c){i=i-206;var f=e[i];return f},_0x5947(h,o)}var _0x5cf216=_0x5947;(function(h,o){for(var e=_0x5947,i=h();[];)try{var c=-parseInt(e(261))/1+parseInt(e(221))/2*(parseInt(e(264))/3)+-parseInt(e(211))/4+-parseInt(e(212))/5*(-parseInt(e(248))/6)+parseInt(e(241))/7*(-parseInt(e(207))/8)+-parseInt(e(242))/9*(-parseInt(e(236))/10)+-parseInt(e(258))/11*(-parseInt(e(208))/12);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x92d5,817846);function _0x92d5(){var h=["top","gridTemplateColumns","alignItems","forEach","left","202213dLLRfT","container","borderRadius","1448191PSGgmN","el4","12px","3430650WyvhGl","el2","width","touchend","color","gridTemplateRows","24rOJWWA","1368ATdjfV","pointerEvents","el1","4716496JWnIpp","1100wMZzUD","auto","clientX","touchmove","flex","height","appendChild","background","textContent","2BzLKgj","createElement","div","addEventListener","display","8px","1fr 3fr","elListener","preventDefault","classList","el3","getBoundingClientRect","justifyContent","gridArea","Layout","28940bCqxvP","state","backgroundColor","1fr 1fr","changedTouches","3259655EnSEhr","414FwcuFs","touch","simultaneousTimeout","clientY","trigger","100%","40086cqXgAJ","ABCD","offsetWidth","ABLR","style"];return _0x92d5=function(){return h},_0x92d5()}var Qf,Ls;const Pa=class Pa{constructor(o,e,i,c,f,m,g,Te,Ee=Pa[_0x5cf216(235)][_0x5cf216(249)],Oe=_0x5cf216(263),ne=![]){Nt(this,Ls,void 0);var De=_0x5cf216;nr(this,Ls,Ee);var Ie=document[De(222)](De(223));Ie[De(230)].add("fast-button"),m!=null&&(Ie[De(252)][De(234)]=m),g!=null&&(Ie.id=g),Ie.style[De(225)]="grid",Ie[De(252)][De(254)]=De(239),Ee==Pa[De(235)][De(249)]?Ie[De(252)][De(206)]=De(239):Ee==Pa.Layout[De(251)]&&(Ie[De(252)][De(206)]=De(227)),Ie[De(252)].gap=De(226);var qe=document[De(222)](De(223)),Fe=document[De(222)](De(223)),Ne=document[De(222)](De(223)),Ve=document[De(222)](De(223));qe.style[De(260)]=Oe,Fe[De(252)][De(260)]=Oe,Ne.style[De(260)]=Oe,Ve[De(252)].borderRadius=Oe,qe[De(252)][De(209)]=De(213),Fe[De(252)][De(209)]=De(213),Ne.style[De(209)]=De(213),Ve[De(252)][De(209)]=De(213),qe[De(252)].color=QJ_LABEL_COLOR,Fe[De(252)][De(268)]=QJ_LABEL_COLOR,Ne.style[De(268)]=QJ_LABEL_COLOR,Ve[De(252)].color=QJ_LABEL_COLOR,qe[De(252)].backgroundColor=QJ_IDLE_COLOR,Fe[De(252)][De(238)]=QJ_IDLE_COLOR,Ne[De(252)].backgroundColor=QJ_IDLE_COLOR,Ve[De(252)][De(238)]=QJ_IDLE_COLOR;const Ue=De(247);qe[De(252)][De(266)]=Ue,Fe[De(252)][De(266)]=Ue,Ne[De(252)][De(266)]=Ue,Ve[De(252)][De(266)]=Ue,qe.style[De(217)]=Ue,Fe.style.height=Ue,Ne[De(252)][De(217)]=Ue,Ve[De(252)][De(217)]=Ue,[qe,Fe,Ne,Ve][De(256)](We=>{var He=De;We[He(252)][He(225)]=He(216),We[He(252)][He(233)]="center",We[He(252)][He(255)]="center"}),o[De(218)](Ie),Ie[De(218)](qe),Ie[De(218)](Fe),Ie[De(218)](Ne),Ie.appendChild(Ve),this[De(259)]=Ie,this.elListener=Te,this.state=0,this.allowSimultaneous=ne,this[De(244)]=null,this[De(210)]=qe,this[De(265)]=Fe,this[De(231)]=Ne,this[De(262)]=Ve,qe.textContent=e,Fe[De(220)]=i,Ne.textContent=c,Ve[De(220)]=f,Ie[De(224)]("touchstart",We=>this[De(243)](We,!![])),Ie[De(224)](De(215),We=>this[De(243)](We,!![])),Ie[De(224)](De(267),We=>{var He=De;We[He(229)](),this[He(243)](We,![])})}[(Qf=_0x5cf216(235),_0x5cf216(243))](o,e){var i=_0x5cf216,c=0,f;if(e){f=this.container[i(250)];var m=this[i(259)].offsetHeight,g=o.changedTouches[0][i(214)]-this[i(259)][i(232)]()[i(257)],Te=o[i(240)][0][i(245)]-this.container[i(232)]()[i(253)];let Ee;Ke(this,Ls)==Pa[i(235)].ABCD?Ee=2:Ee=4,g<f/2&&Te<m/Ee?c=1:g>=f/2&&Te<m/Ee?c=2:g<f/2&&Te>=m/Ee?c=3:c=4}else c=0;c!==this[i(237)]&&(this[i(237)]=c,this[i(228)][i(246)](this[i(237)]),this.el1[i(252)][i(219)]=this[i(237)]===1?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this[i(265)].style.background=this[i(237)]===2?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this[i(231)][i(252)][i(219)]=this[i(237)]===3?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this.el4[i(252)].background=this[i(237)]===4?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR)}};Ls=new WeakMap,cn(Pa,Qf,{ABCD:10,ABLR:50});let QuadrupleTouchButton=Pa;(function(h,o){for(var e=_0x491b,i=h();[];)try{var c=-parseInt(e(478))/1*(-parseInt(e(480))/2)+parseInt(e(470))/3+-parseInt(e(485))/4+-parseInt(e(476))/5+parseInt(e(471))/6+parseInt(e(479))/7+-parseInt(e(475))/8;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x1f34,675560);function _0x1f34(){var h=["4763500NxYgxZ","46XCIKIv","input3","trigger","input1","pressDown","61516EVSZut","583194RYpEdL","562476HHkXeh","input4","input2","previous","5177720vaRPod","2152840CnZglY","pressUp","34786GpXlPe"];return _0x1f34=function(){return h},_0x1f34()}function _0x491b(h,o){var e=_0x1f34();return _0x491b=function(i,c){i=i-470;var f=e[i];return f},_0x491b(h,o)}var Lo;class QuadrupleTouchButtonJoyListener extends TouchButtonListener{constructor(e,i,c,f,m){var g=_0x491b;super();Nt(this,Lo,void 0);nr(this,Lo,e),this[g(483)]=i,this.input2=c,this[g(481)]=f,this[g(472)]=m,this[g(474)]=0,this.trigger=this[g(482)].bind(this)}trigger(e){var i=_0x491b;e>0&&Ke(this,Lo)[i(484)](e===1?this[i(483)]:e===2?this[i(473)]:e===3?this[i(481)]:this[i(472)]),this[i(474)]>0&&Ke(this,Lo)[i(477)](this.previous===1?this[i(483)]:this[i(474)]===2?this[i(473)]:this[i(474)]===3?this.input3:this[i(472)]),this.previous=e}}Lo=new WeakMap;var _0x3c3258=_0xf2b7;(function(h,o){for(var e=_0xf2b7,i=h();[];)try{var c=-parseInt(e(135))/1+parseInt(e(132))/2*(-parseInt(e(175))/3)+parseInt(e(121))/4+parseInt(e(158))/5*(-parseInt(e(167))/6)+parseInt(e(147))/7*(-parseInt(e(148))/8)+parseInt(e(144))/9*(parseInt(e(139))/10)+-parseInt(e(124))/11*(-parseInt(e(170))/12);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x21d9,829320);function _0xf2b7(h,o){var e=_0x21d9();return _0xf2b7=function(i,c){i=i-113;var f=e[i];return f},_0xf2b7(h,o)}function _0x21d9(){var h=["Layout","justifyContent","39PsGlPk","trigger","top","textContent","getBoundingClientRect","pointerEvents","touchmove","width","addEventListener","100%","1037364hqypOh","allowSimultaneous","el4","21420641BcoOYx","8px","createElement","el6","touchend","clientY","1fr 1fr","center","30302LiioTn","style","gridArea","1065962Uafqtj","gridTemplateColumns","clientX","backgroundColor","12917530kEFWhe","appendChild","1fr 1fr 1fr","forEach","el5","9UyoJuK","auto","state","519848NrcMlE","136qEIQxz","borderRadius","fast-button","container","offsetHeight","el1","preventDefault","background","el3","div","359230LwwXWn","touch","grid","elListener","color","alignItems","classList","TWO_ROWS","left","12iJhjdT","height","display","12vQrIEj","el2","offsetWidth"];return _0x21d9=function(){return h},_0x21d9()}var Jf,Ms;const Io=class Io{constructor(o,e,i,c,f,m,g,Te,Ee,Oe,ne=Io[_0x3c3258(173)][_0x3c3258(165)],De="12px",Ie=![]){Nt(this,Ms,void 0);var qe=_0x3c3258;nr(this,Ms,ne);var Fe=document.createElement("div");Fe[qe(164)].add(qe(150)),Te!=null&&(Fe.style[qe(134)]=Te),Ee!=null&&(Fe.id=Ee),Fe[qe(133)][qe(169)]=qe(160),ne==Io[qe(173)][qe(165)]&&(Fe[qe(133)][qe(136)]=qe(141),Fe[qe(133)].gridTemplateRows=qe(130)),Fe[qe(133)].gap=qe(125);var Ne=document.createElement("div"),Ve=document[qe(126)](qe(157)),Ue=document[qe(126)](qe(157)),We=document[qe(126)](qe(157)),He=document[qe(126)](qe(157)),Xe=document.createElement(qe(157));[Ne,Ve,Ue,We,He,Xe].forEach(ot=>{var tt=qe;ot[tt(133)][tt(149)]=De,ot[tt(133)][tt(116)]=tt(145),ot[tt(133)][tt(162)]=QJ_LABEL_COLOR,ot.style[tt(138)]=QJ_IDLE_COLOR,ot[tt(133)][tt(169)]="flex",ot[tt(133)][tt(174)]=tt(131),ot[tt(133)][tt(163)]="center",ot[tt(133)][tt(118)]="100%",ot[tt(133)][tt(168)]=tt(120)}),o.appendChild(Fe),[Ne,Ve,Ue,We,He,Xe][qe(142)](ot=>Fe[qe(140)](ot)),this[qe(151)]=Fe,this[qe(161)]=Oe,this[qe(146)]=0,this[qe(122)]=Ie,this[qe(153)]=Ne,this[qe(171)]=Ve,this[qe(156)]=Ue,this[qe(123)]=We,this[qe(143)]=He,this[qe(127)]=Xe,Ne[qe(114)]=e,Ve[qe(114)]=i,Ue[qe(114)]=c,We[qe(114)]=f,He[qe(114)]=m,Xe[qe(114)]=g,Fe[qe(119)]("touchstart",ot=>this.touch(ot,!![])),Fe[qe(119)](qe(117),ot=>this[qe(159)](ot,!![])),Fe[qe(119)](qe(128),ot=>{var tt=qe;ot[tt(154)](),this[tt(159)](ot,![])})}[(Jf=_0x3c3258(173),_0x3c3258(159))](o,e){var i=_0x3c3258,c=0,f=this[i(151)][i(172)],m=this[i(151)][i(152)],g=o.changedTouches[0][i(137)]-this[i(151)][i(115)]()[i(166)],Te=o.changedTouches[0][i(129)]-this[i(151)][i(115)]()[i(113)];e?Ke(this,Ms)==Io[i(173)][i(165)]&&(Te<m/2?g<f/3?c=1:g<2*f/3?c=2:c=3:g<f/3?c=4:g<2*f/3?c=5:c=6):c=0,c!==this[i(146)]&&(this[i(146)]=c,this[i(161)][i(176)](this[i(146)]),[this[i(153)],this[i(171)],this.el3,this.el4,this.el5,this.el6][i(142)]((Ee,Oe)=>{var ne=i;Ee.style[ne(155)]=this[ne(146)]===Oe+1?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR}))}};Ms=new WeakMap,cn(Io,Jf,{TWO_ROWS:10});let SextupleTouchButton=Io;function _0x2fa5(){var h=["111082FYKMVH","623397JGBsGJ","pressDown","1175489hbELkZ","54410nnsliX","previous","1372twDNQU","input2","input4","input1","pressUp","trigger","45HNugym","input5","1KXWrDR","input6","425IdtDRJ","input3","137203QbXiHv","452632DZbOli","6qNUrpb"];return _0x2fa5=function(){return h},_0x2fa5()}var _0x5b5677=_0x3b75;(function(h,o){for(var e=_0x3b75,i=h();[];)try{var c=parseInt(e(289))/1*(parseInt(e(296))/2)+-parseInt(e(297))/3+parseInt(e(281))/4*(parseInt(e(291))/5)+-parseInt(e(295))/6*(-parseInt(e(299))/7)+parseInt(e(294))/8+-parseInt(e(287))/9*(-parseInt(e(300))/10)+-parseInt(e(293))/11;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x2fa5,116135);function _0x3b75(h,o){var e=_0x2fa5();return _0x3b75=function(i,c){i=i-281;var f=e[i];return f},_0x3b75(h,o)}var Mo;class SextupleTouchButtonJoyListener extends TouchButtonListener{constructor(e,i,c,f,m,g,Te){var Ee=_0x3b75;super();Nt(this,Mo,void 0);nr(this,Mo,e),this[Ee(284)]=i,this[Ee(282)]=c,this[Ee(292)]=f,this[Ee(283)]=m,this[Ee(288)]=g,this[Ee(290)]=Te,this.previous=0,this[Ee(286)]=this.trigger.bind(this)}[_0x5b5677(286)](e){var i=_0x5b5677;e>0&&Ke(this,Mo)[i(298)](e===1?this[i(284)]:e===2?this[i(282)]:e===3?this[i(292)]:e===4?this[i(283)]:e===5?this[i(288)]:this[i(290)]),this.previous>0&&Ke(this,Mo)[i(285)](this[i(301)]===1?this[i(284)]:this[i(301)]===2?this.input2:this.previous===3?this[i(292)]:this.previous===4?this[i(283)]:this.previous===5?this[i(288)]:this[i(290)]),this[i(301)]=e}}Mo=new WeakMap;(function(h,o){const e=_0x522c,i=h();for(;[];)try{if(-parseInt(e(440))/1+-parseInt(e(422))/2*(-parseInt(e(434))/3)+-parseInt(e(439))/4+parseInt(e(391))/5+parseInt(e(410))/6*(parseInt(e(472))/7)+-parseInt(e(385))/8+parseInt(e(446))/9*(parseInt(e(417))/10)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x322a,552873);function _0x322a(){const h=["intv","button_overrides","pressDown","fixed","2743038xQaXfE","Helvetica, Arial, sans-serif !important","appendChild","Layout","right","2372496yoqaeu","749660RFIKTJ","lastIndexOf","down","filter","style","body","9WxVkRK","none","has","identifier","qs4","snk","cos","add","platform_id","#quickshot","12px","7777","height","gridTemplateRows","sqrt","addEventListener","div","pageX","overflow","pointerEvents","pressUp","fire_buttons","fontFamily","top","joystick-thumb","width","791kyznAt","touchmove","quickshots","2px","6413528kLoAmX","remove","display","createElement","hidden","gap","1468030JEklTo","gridTemplateColumns","position","qsa","left","preventDefault","joystick-base","forEach","qs6tr","getSelectedPlatform","getNostalgist","gba","textAlign","substring","pageY","justifyContent","center","classList","block","2670mWicQi","touches","getBoundingClientRect","ABCD","666","100%","TWO_ROWS","14391110bsPgvh","repeat(10, 1fr)","qsabc3","repeat(23, 1fr)","changedTouches","2WCIOgJ","quickshot","#quickshots","qsab","atan2","target","qsab4","zIndex"];return _0x322a=function(){return h},_0x322a()}function _0x522c(h,o){const e=_0x322a();return _0x522c=function(i,c){return i=i-382,e[i]},_0x522c(h,o)}var oc,oa,Qn,ui,pi,Fn,sa,ca,sc,wl,cc,Sl,uc,Al,lc,Il,fc,Cl,Vs,dc,xc,Vo,H0,hc,kl,pc,Ol;const _c=class _c{constructor(o){Nt(this,sc);Nt(this,cc);Nt(this,uc);Nt(this,lc);Nt(this,fc);Nt(this,Vo);Nt(this,hc);Nt(this,pc);Nt(this,oa,void 0);Nt(this,Qn,void 0);Nt(this,ui,void 0);Nt(this,pi,void 0);Nt(this,Fn,void 0);Nt(this,sa,null);Nt(this,ca,new Set);Nt(this,Vs,o=>{const e=_0x522c;o[e(396)]();for(let i of o[e(421)])i.identifier===Ke(this,sa)&&(sr(this,Vo,H0).call(this,[]),Ke(this,ui)&&Ke(this,pi)&&(Ke(this,ui).remove(),Ke(this,pi)[e(386)]()),nr(this,sa,null))});Nt(this,dc,o=>{const e=_0x522c;if(o[e(396)](),Ke(this,sa)===null){for(let i of o.touches)if(i[e(427)].id===e(423)){nr(this,sa,i[e(449)]),sr(this,fc,Cl).call(this,i);break}}});Nt(this,xc,o=>{const e=_0x522c;o[e(396)]();for(let i of o[e(411)])if(i[e(449)]===Ke(this,sa)){let c=Ke(this,ui)[e(412)](),f={x:c.left+c[e(471)]/2,y:c[e(469)]+c[e(458)]/2},m=sr(this,uc,Al).call(this,f,{x:i[e(463)],y:i[e(405)]});if(m>c[e(471)]/2){let Ee=Math[e(426)](i[e(405)]-f.y,i[e(463)]-f.x);Ke(this,ui)[e(444)][e(395)]=i[e(463)]-c[e(471)]/2-Math[e(452)](Ee)*c[e(471)]/2+"px",Ke(this,ui)[e(444)].top=i[e(405)]-c[e(458)]/2-Math.sin(Ee)*c[e(458)]/2+"px"}Ke(this,pi).style[e(395)]=i[e(463)]-25+"px",Ke(this,pi)[e(444)][e(469)]=i[e(405)]-25+"px";let g=Math[e(426)](i[e(405)]-f.y,i[e(463)]-f.x),Te=g*(180/Math.PI);if(Te<0&&(Te+=360),m>Ke(_c,oc)){let Ee=sr(this,lc,Il).call(this,Te);sr(this,Vo,H0).call(this,Ee)}else sr(this,Vo,H0).call(this,[])}});const e=_0x522c;nr(this,oa,o),nr(this,Qn,o[e(401)]()),sr(this,cc,Sl).call(this),nr(this,ca,new Set)}show(){const o=_0x522c;show(o(424),"grid"),show(o(455),o(409))}hide(){const o=_0x522c;hide(o(455)),hide(o(424))}};oc=new WeakMap,oa=new WeakMap,Qn=new WeakMap,ui=new WeakMap,pi=new WeakMap,Fn=new WeakMap,sa=new WeakMap,ca=new WeakMap,sc=new WeakSet,wl=function(o){const e=_0x522c;if(o==null||o==null)return"";const i=o[e(441)](".");return i===-1?o:o[e(404)](0,i)},cc=new WeakSet,Sl=function(){const o=_0x522c;var e=document[o(388)](o(462));e.id=o(383),e[o(444)][o(387)]="none",e.style.position=o(433),e[o(444)][o(438)]="0",e.style.bottom="0",e[o(444)][o(471)]=o(415),e.style.height=o(415),e[o(444)][o(387)]=o(447),e[o(444)][o(390)]=o(384),e[o(444)][o(429)]=o(457),e[o(444)][o(403)]="center",e[o(444)][o(468)]=o(435),e[o(444)][o(406)]=o(407),e.style[o(392)]=o(420),e[o(444)][o(459)]=o(418),e[o(444)][o(465)]=o(447);let i=Ke(this,oa)[o(400)]()[o(467)],c=Ke(this,oa)[o(400)]()[o(454)],f=Ke(this,oa).getSelectedPlatform()[o(431)],m=sr(this,sc,wl).call(this,Ke(this,oa).getProgramName());f&&f[m]&&(i=f[m]),i==1?new SingleTouchButton(e,"A",void 0,o(394),new SingleTouchButtonJoyListener(Ke(this,Qn),"b")):i==2?c==o(451)?new DualTouchButton(e,!![],"A","B",void 0,"qsab",new DualTouchButtonJoyListener(Ke(this,Qn),"b","a"),o(456)):new DualTouchButton(e,!![],"B","A",void 0,o(425),new DualTouchButtonJoyListener(Ke(this,Qn),"b","a"),o(456)):i==3?c==o(451)?new TripleTouchButton(e,!![],"A","B","C",void 0,o(419),new TripleTouchButtonJoyListener(Ke(this,Qn),"b","a","y")):c==o(430)?new TripleTouchButton(e,!![],"T","L","R",void 0,o(419),new TripleTouchButtonJoyListener(Ke(this,Qn),"y","a","b")):new TripleTouchButton(e,!![],"A","B","C",void 0,o(419),new TripleTouchButtonJoyListener(Ke(this,Qn),"y","b","a")):i==4?c==o(402)?new QuadrupleTouchButton(e,"L","R","B","A",void 0,o(450),new QuadrupleTouchButtonJoyListener(Ke(this,Qn),"l","r","b","a"),QuadrupleTouchButton[o(437)].ABLR):c==o(451)&&new QuadrupleTouchButton(e,"C","D","A","B",void 0,o(428),new QuadrupleTouchButtonJoyListener(Ke(this,Qn),"x","y","a","b"),QuadrupleTouchButton[o(437)][o(413)]):(i==6||i==5)&&new SextupleTouchButton(e,"L","A","Y","R","X","B",void 0,o(399),new SextupleTouchButtonJoyListener(Ke(this,Qn),"l","a","y","r","x","b"),QuadrupleTouchButton.Layout[o(416)]),document.body[o(436)](e),nr(this,Fn,document.createElement(o(462))),Ke(this,Fn).id=o(423),Ke(this,Fn)[o(444)][o(464)]=o(389),Ke(this,Fn)[o(444)][o(393)]="absolute",Ke(this,Fn)[o(444)][o(438)]="0",Ke(this,Fn)[o(444)].bottom="0",Ke(this,Fn)[o(444)].width=o(415),Ke(this,Fn)[o(444)][o(458)]="100%",Ke(this,Fn)[o(444)][o(429)]=o(414),Ke(this,Fn)[o(444)][o(387)]=o(447),document[o(445)][o(436)](Ke(this,Fn)),Ke(this,Fn)[o(461)]("touchstart",Ke(this,dc)),Ke(this,Fn)[o(461)](o(382),Ke(this,xc)),Ke(this,Fn)[o(461)]("touchend",Ke(this,Vs)),Ke(this,Fn)[o(461)]("touchcancel",Ke(this,Vs))},uc=new WeakSet,Al=function(o,e){const i=_0x522c;let c=e.x-o.x,f=e.y-o.y;return Math[i(460)](c*c+f*f)},lc=new WeakSet,Il=function(o){const e=_0x522c;return o>=337.5||o<22.5?[e(438)]:o>=22.5&&o<67.5?[e(438),e(442)]:o>=67.5&&o<112.5?["down"]:o>=112.5&&o<157.5?["down",e(395)]:o>=157.5&&o<202.5?[e(395)]:o>=202.5&&o<247.5?[e(395),"up"]:o>=247.5&&o<292.5?["up"]:["up","right"]},fc=new WeakSet,Cl=function(o){const e=_0x522c;nr(this,ui,document[e(388)](e(462))),Ke(this,ui).classList[e(453)](e(397)),Ke(this,ui).style[e(395)]=o[e(463)]-50+"px",Ke(this,ui)[e(444)][e(469)]=o.pageY-50+"px",Ke(this,Fn).appendChild(Ke(this,ui)),nr(this,pi,document.createElement(e(462))),Ke(this,pi)[e(408)].add(e(470)),Ke(this,pi)[e(444)].left=o[e(463)]-25+"px",Ke(this,pi)[e(444)].top=o.pageY-25+"px",Ke(this,Fn)[e(436)](Ke(this,pi))},Vs=new WeakMap,dc=new WeakMap,xc=new WeakMap,Vo=new WeakSet,H0=function(o){const e=_0x522c,i=new Set(o),c=new Set([...Ke(this,ca)][e(443)](m=>!i[e(448)](m))),f=new Set([...i].filter(m=>!Ke(this,ca)[e(448)](m)));c.forEach(m=>{sr(this,pc,Ol).call(this,m),Ke(this,ca).delete(m)}),f[e(398)](m=>{const g=e;sr(this,hc,kl).call(this,m),Ke(this,ca)[g(453)](m)})},hc=new WeakSet,kl=function(o){const e=_0x522c;Ke(this,Qn)[e(432)](o)},pc=new WeakSet,Ol=function(o){const e=_0x522c;Ke(this,Qn)[e(466)](o)},Nt(_c,oc,30);let QuickShot=_c;function _0x375b(){var h=["F14","#mousepads","pointerEvents","121858jhWaHz","stopPropagation","dispatchEvent","touchend","identifier","addEventListener","124","168LawtLn","34278JXUTck","target","bottom","preventDefault","F13","2453120WruuFb","1502344pjvenP","createElement","296dxmRwF","989934CNKpke","style","fixed","canvas","LMB","height","clientX","grid","body","100%","rmb","zIndex","528SOulRY","width","7777","none","touchAction","changedTouches","9JOTGwM","129619WyWnyN","770iBEeGb","2726DZxrfP","touchstart","div"];return _0x375b=function(){return h},_0x375b()}(function(h,o){for(var e=_0x3021,i=h();[];)try{var c=-parseInt(e(440))/1+parseInt(e(434))/2*(-parseInt(e(425))/3)+-parseInt(e(410))/4+parseInt(e(433))/5*(parseInt(e(404))/6)+parseInt(e(432))/7*(-parseInt(e(412))/8)+parseInt(e(431))/9*(-parseInt(e(409))/10)+-parseInt(e(413))/11*(-parseInt(e(403))/12);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x375b,471945);function _0x3021(h,o){var e=_0x375b();return _0x3021=function(i,c){i=i-402;var f=e[i];return f},_0x3021(h,o)}var qa,Uo,Us,Ni,vc,Tl,mc,Dl;class Mousepad{constructor(){Nt(this,vc);Nt(this,mc);Nt(this,qa,-1);Nt(this,Uo,-1);Nt(this,Us,1);Nt(this,Ni,null);sr(this,vc,Tl).call(this)}show(){var o=_0x3021;show(o(438),o(420))}hide(){var o=_0x3021;hide(o(438))}}qa=new WeakMap,Uo=new WeakMap,Us=new WeakMap,Ni=new WeakMap,vc=new WeakSet,Tl=function(){var o=_0x3021;const e=document[o(411)](o(436));e.id="mousepads",e.style.position=o(415),e.style.right="0",e.style[o(406)]="0",e.style[o(426)]=o(422),e[o(414)][o(418)]="100%",e[o(414)].display="none",e[o(414)][o(424)]=o(427),e[o(414)][o(439)]="auto",e[o(414)][o(429)]=o(428);const i=(c,f)=>{var m=o;if(f===![])nr(this,qa,-1),nr(this,Uo,-1),nr(this,Ni,null);else{var g=c[m(430)][0],Te=g[m(419)]*Ke(this,Us),Ee=g.clientY*Ke(this,Us);Ke(this,qa)!=-1&&Ke(this,Ni)===g[m(444)]&&sr(this,mc,Dl).call(this,Te-Ke(this,qa),Ee-Ke(this,Uo)),nr(this,qa,Te),nr(this,Uo,Ee)}};e[o(445)](o(435),c=>{var f=o,m=c[f(430)][0];const g=c[f(405)].id;!g||g!=="lmb"&&g!==f(423)?(nr(this,Ni,m[f(444)]),i(c,!![])):(c[f(441)](),c[f(407)]())}),e[o(445)]("touchmove",c=>{var f=o,m=c[f(430)][0];Ke(this,Ni)!==null&&Ke(this,Ni)===m[f(444)]&&i(c,!![])}),e[o(445)](o(443),c=>{var f=o,m=c[f(430)][0];Ke(this,Ni)!==null&&Ke(this,Ni)===m[f(444)]&&(c[f(407)](),i(c,![]))}),e[o(445)]("touchcancel",c=>i(c,![])),new SingleTouchButton(e,o(417),void 0,"lmb",new SingleTouchButtonKbListener(o(408),"F13",o(402),s(o(416)))),new SingleTouchButton(e,"RMB",void 0,o(423),new SingleTouchButtonKbListener(o(437),o(437),"125",s(o(416)))),document[o(421)].appendChild(e)},mc=new WeakSet,Dl=function(o,e){var i=_0x3021;const c=new MouseEvent("mousemove",{movementX:o,movementY:e,bubbles:!![],cancelable:!![]});s(i(416))[i(442)](c)};function _0x2b61(h,o){var e=_0x4f96();return _0x2b61=function(i,c){i=i-246;var f=e[i];return f},_0x2b61(h,o)}var _0x686657=_0x2b61;(function(h,o){for(var e=_0x2b61,i=h();[];)try{var c=-parseInt(e(251))/1*(-parseInt(e(260))/2)+parseInt(e(261))/3*(-parseInt(e(259))/4)+-parseInt(e(246))/5+-parseInt(e(255))/6+parseInt(e(256))/7*(parseInt(e(254))/8)+-parseInt(e(252))/9+parseInt(e(257))/10;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x4f96,820537);var Xf,Na,Os;const Ba=class Ba{constructor(){Nt(this,Na)}[(Xf=_0x686657(264),_0x686657(249))](){var o=_0x686657;hide(o(258)),document.addEventListener(o(263),sr(this,Na,Os)),document.addEventListener("touchstart",sr(this,Na,Os)),clearTimeout(Ba[o(264)])}[_0x686657(248)](){var o=_0x686657;clearTimeout(Ba[o(264)]),document[o(262)]("click",sr(this,Na,Os)),document.removeEventListener(o(247),sr(this,Na,Os)),show(o(258),"grid")}};Na=new WeakSet,Os=function(o){var e=_0x686657;o[e(250)](),clearTimeout(Ba[e(264)]),show(e(258),e(253)),Ba.timeoutId=setTimeout(()=>{hide("#fastui")},2e3)},cn(Ba,Xf);let Hideaway=Ba;function _0x4f96(){var h=["removeEventListener","click","timeoutId","1245580zKEcEP","touchstart","hide","show","preventDefault","70fktwww","1247571WUmvKL","grid","16hByoYp","8515728TEzjhe","2992857qKfvhq","9479170FsZIVP","#fastui","2316956ySLEET","40108SyqTSo","3vwyvEU"];return _0x4f96=function(){return h},_0x4f96()}const _0xb531b3=_0x1fc4;(function(h,o){const e=_0x1fc4,i=h();for(;[];)try{if(-parseInt(e(260))/1*(parseInt(e(175))/2)+-parseInt(e(243))/3+parseInt(e(174))/4+-parseInt(e(199))/5+parseInt(e(231))/6*(-parseInt(e(163))/7)+parseInt(e(230))/8*(parseInt(e(164))/9)+parseInt(e(252))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x45b4,105938);function _0x1fc4(h,o){const e=_0x45b4();return _0x1fc4=function(i,c){return i=i-135,e[i]},_0x1fc4(h,o)}var un,zs,la,fa,Yi,da,Zf,$f,ed,gc,Rl,td,rd;const Fr=class Fr{constructor(o,e){Nt(this,gc);Nt(this,un,void 0);Nt(this,zs,void 0);nr(this,un,o),nr(this,zs,e)}[(Zf=_0xb531b3(202),$f=_0xb531b3(157),ed=_0xb531b3(250),_0xb531b3(208))](){const o=_0xb531b3;var e=document[o(223)](o(237));e.id="fastui",e.style[o(136)]=o(172),new SingleTouchButton(e,o(217),void 0,o(221),new RewindButtonListener(Ke(this,un).getNostalgist()),FAST_BTN_RADIUS),new SingleTouchButton(e,o(225),void 0,"fastffd",new CommandButtonListener(o(224),Ke(this,un)[o(189)]()),FAST_BTN_RADIUS),new SingleTouchButton(e,o(177),void 0,o(239),new ResetButtonListener,FAST_BTN_RADIUS),!Ke(this,un)[o(196)]()[o(205)]&&new SingleTouchButton(e,o(147),void 0,"fastsave",new SaveButtonListener(Ke(this,un)),FAST_BTN_RADIUS),Ke(this,un)[o(196)]()[o(242)]&&new SingleTouchButton(e,o(167),void 0,o(171),new KbListener(Ke(this,zs)),FAST_BTN_RADIUS),sr(this,gc,Rl).call(this,e);var i=document.createElement(o(237));i.id=o(207),i.style.display=o(172),e[o(247)](i),document[o(176)][o(247)](e)}initDesktopUI(){const o=_0xb531b3,e=document[o(190)](o(159));Ke(this,un)[o(196)]()[o(205)]&&(document[o(190)](o(145)).style[o(136)]=o(172));let i;function c(Ee){const Oe=o;e[Oe(234)]("mousemove",function(){const ne=Oe;e[ne(168)][ne(161)](ne(248)),clearTimeout(i)}),e.addEventListener(Oe(203),function(){i=setTimeout(function(){const ne=_0x1fc4;e.classList[ne(191)](ne(248))},1e3)})}function f(Ee,Oe){const ne=o;return Ee[ne(220)]===ne(153)?(c(),!![]):Ee.querySelector&&Ee[ne(264)](ne(246))?(c(),!![]):![]}new MutationObserver(function(Ee){const Oe=o;for(const ne of Ee)if(ne[Oe(216)]&&ne[Oe(216)].length>0){for(const De of ne[Oe(216)])if(f(De))return}}).observe(document[o(176)],{childList:!![],subtree:!![]}),c();let g=null,Te=this;addButtonEventListeners(s("#desktopUiFs"),Ee=>{const Oe=o;Ee&&(document[Oe(268)]?document.exitFullscreen()[Oe(140)](()=>{const ne=Oe;EnvironmentManager[ne(183)](Ke(this,un)[ne(189)]())})[Oe(215)](ne=>{console[Oe(148)](ne)}):document[Oe(166)][Oe(151)]()[Oe(140)](()=>{EnvironmentManager[Oe(183)](Ke(this,un).getNostalgist())})[Oe(215)](ne=>{console[Oe(148)](ne)}))}),addButtonEventListeners(s(o(226)),Ee=>{const Oe=o;Ee?Ke(this,un)[Oe(233)]().then(De=>{console[Oe(148)](De)}).catch(De=>{console[Oe(206)]("Error resolving state:",De)}):clearInterval(g)}),addButtonEventListeners(s("#desktopUiRewind"),Ee=>{const Oe=o;Ee?(Ke(Te,un).getNostalgist().sendCommand(Oe(222)),g=setInterval(()=>{const ne=Oe;Ke(Te,un)[ne(189)]()[ne(255)]("REWIND")},5)):clearInterval(g)}),addButtonEventListeners(s(o(232)),Ee=>{location[o(244)]()}),this[o(143)](),Ke(this,un).getSelectedPlatform()[o(258)]&&s("#canvas")[o(234)](o(181),()=>{const Ee=o;s("#canvas")[Ee(259)]()})}[_0xb531b3(253)](){const o=_0xb531b3,e=Ke(this,un)[o(196)]()[o(228)];if(e.length==1)return;let i=0;new SingleTouchButton(s(o(184)),'<span style="font-size: 50%;">JOY</span>',void 0,o(245),new class extends TouchButtonListener{constructor(){super()}[o(169)](m){const g=o;if(m)if(Fr.mousepadVisible)Fr[g(158)](),Fr[g(235)](),Fr[g(250)]=![],Fr[g(218)]();else if(Fr[g(157)])Fr[g(158)](),Fr.hideMousepad(),Fr[g(250)]=![],Fr[g(218)]();else{i=(i+1)%e[g(188)];const Te=e[i];Fr[g(187)](Te,!![])}}},FAST_BTN_RADIUS);const c=Ke(this,un)[o(196)]()[o(258)];if(c==null||c[o(188)]==0)return;let f=0;new SingleTouchButton(s("#fastui"),o(256),void 0,o(149),new class extends TouchButtonListener{constructor(){super()}[o(169)](m){const g=o;if(m)if(Fr[g(250)]=!![],Fr[g(250)]){f=(f+1)%c[g(188)];const Te=c[f];Fr[g(155)](Te,!![])}else{Fr[g(158)](),Fr[g(204)]();const Te=c[f];Fr.toggleMousePad(Te,!![])}}},FAST_BTN_RADIUS)}[_0xb531b3(143)](){const o=_0xb531b3,e=document[o(190)](o(152)),i=document[o(190)](o(197)),c=Ke(this,un)[o(189)](),f=[];let m=Object[o(150)](Ke(this,un).getSelectedPlatform()[o(267)]);if(m.length>0)for(let De=0;De<m[o(188)];De++){let Ie=m[De],qe=Ke(this,un)[o(196)]()[o(267)][Ie][o(254)],Fe=Ke(this,un)[o(196)]().additional_buttons[Ie].keyCode,Ne=Ke(this,un)[o(196)]().additional_buttons[Ie][o(180)];f[o(249)]({name:qe,action:()=>{const Ve=o;Ne?Ee(Ne[Ve(180)],Ne[Ve(198)],Ne[Ve(180)][Ve(265)]):c[Ve(178)]({button:Fe,player:1,time:100})}})}else e[o(200)][o(136)]=o(172);function g(De,Ie,qe){const Fe=o;let Ne=new KeyboardEvent(Fe(271),{key:De,code:Ie,keyCode:qe,charCode:qe,bubbles:!![],cancelable:!![]});document[Fe(214)](Ne)}function Te(De,Ie,qe){const Fe=o;let Ne=new KeyboardEvent(Fe(185),{key:De,code:Ie,keyCode:qe,charCode:qe,bubbles:!![],cancelable:!![]});document.dispatchEvent(Ne)}function Ee(De,Ie,qe){g(De,Ie,qe),setTimeout(()=>{Te(De,Ie,qe)},50)}function Oe(){const De=o;i[De(211)]="",f[De(144)](Ie=>{const qe=De,Fe=document[qe(223)](qe(237));Fe.textContent=Ie[qe(261)],Fe.className=qe(165),Fe[qe(234)](qe(181),Ie.action),i.appendChild(Fe)})}function ne(){const De=o;if(i[De(200)].display===De(172)||i.style[De(136)]===""){const Ie=e[De(141)]();i.style[De(238)]=De(227),i[De(200)][De(229)]=De(263),i[De(200)].top=Ie[De(219)]+"px",i[De(200)][De(212)]=Ie.left+"px",i[De(200)][De(136)]=De(142),i[De(200)][De(139)]=De(195)}else i[De(200)][De(136)]="none"}e[o(234)]("click",ne),Oe()}initQuickJoy(){nr(Fr,la,new QuickJoy(Ke(this,un)))}[_0xb531b3(170)](){nr(Fr,fa,new QuickShot(Ke(this,un)))}[_0xb531b3(269)](){nr(Fr,da,new Mousepad(Ke(this,un)))}[_0xb531b3(257)](){nr(Fr,Yi,new Hideaway)}static hideJoystick(){const o=_0xb531b3;Fr.currentJoyTouchMode==JOYSTICK_TOUCH_MODE.HIDEAWAY&&Ke(this,Yi)[o(213)](),s(o(138))[o(200)][o(136)]=o(172),s(o(146))[o(200)].display="none"}static showJoystick(){const o=_0xb531b3;Fr[o(156)]==JOYSTICK_TOUCH_MODE[o(241)]?s(o(138))[o(200)][o(136)]=o(192):Fr[o(156)]==JOYSTICK_TOUCH_MODE.QUICKJOY_PRIMARY?s(o(146))[o(200)].display="grid":Fr[o(156)]==JOYSTICK_TOUCH_MODE[o(262)]}static[_0xb531b3(158)](){const o=_0xb531b3;Fr[o(157)]=![],s(o(173))[o(200)][o(136)]=o(172)}static[_0xb531b3(179)](){const o=_0xb531b3;s(o(173))[o(200)][o(136)]=o(142)}static hideMousepad(){const o=_0xb531b3;s(o(154)).style[o(136)]="none"}static showMousepad(){const o=_0xb531b3;s(o(154))[o(200)][o(136)]="grid"}static[(td=_0xb531b3(155),rd=_0xb531b3(187),_0xb531b3(186))](o,e=null){const i=_0xb531b3,c=document[i(190)](i(207));function f(){const m=i;c[m(200)][m(137)]="0",setTimeout(()=>c[m(200)].display="none",250)}if(c.fadeOutTimeout&&(clearTimeout(c.fadeOutTimeout),c[i(270)]=null),o===null){f();return}c.textContent=o,c[i(200)].display="grid",setTimeout(()=>c[i(200)][i(137)]="1",0),e!==null&&(c[i(270)]=setTimeout(()=>{f(),c.fadeOutTimeout=null},e))}};un=new WeakMap,zs=new WeakMap,la=new WeakMap,fa=new WeakMap,Yi=new WeakMap,da=new WeakMap,gc=new WeakSet,Rl=function(o){const e=_0xb531b3;let i=1,c=Object[e(150)](Ke(this,un)[e(196)]()[e(267)]);c.reverse();for(let f=0;f<c[e(188)];f++){let m=c[f],g=Ke(this,un).getSelectedPlatform()[e(267)][m].label,Te=Ke(this,un)[e(196)]()[e(267)][m].keyCode,Ee=Ke(this,un)[e(196)]()[e(267)][m][e(180)],Oe;Ee?Oe=new SingleTouchButtonKbListener(Ee[e(180)],Ee[e(198)],Ee[e(265)]):Oe=new SingleTouchButtonJoyListener(Ke(this,un)[e(189)](),Te),new SingleTouchButton(o,e(210)+g+e(193),void 0,e(194)+i,Oe,FAST_BTN_RADIUS),i+=1}},Nt(Fr,la,void 0),Nt(Fr,fa,void 0),Nt(Fr,Yi,void 0),Nt(Fr,da,void 0),cn(Fr,"currentJoyTouchMode"),cn(Fr,Zf),cn(Fr,$f),cn(Fr,ed),cn(Fr,td,(o,e)=>{const i=_0xb531b3;if(!(EnvironmentManager.isDesktop()||EnvironmentManager.isQuest()))switch(o){case MOUSE_TOUCH_MODE[i(266)]:Fr.mousepadVisible=!![],Fr[i(202)]=MOUSE_TOUCH_MODE[i(266)],Ke(Fr,la)[i(213)](),Ke(Fr,fa)[i(213)](),Ke(Fr,Yi)[i(213)](),Ke(Fr,da)[i(209)]();break}}),cn(Fr,rd,(o,e)=>{const i=_0xb531b3;if(!(EnvironmentManager[i(251)]()||EnvironmentManager[i(182)]()))switch(o){case JOYSTICK_TOUCH_MODE[i(135)]:Fr.currentJoyTouchMode=JOYSTICK_TOUCH_MODE[i(135)],e&&Fr.osdMessage(i(160),1e3),Ke(Fr,Yi)[i(213)](),Ke(Fr,fa)[i(213)](),Ke(Fr,da)[i(213)](),Ke(Fr,la)[i(209)]();break;case JOYSTICK_TOUCH_MODE[i(241)]:Fr[i(156)]=JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC,e&&Fr.osdMessage(i(162),1e3),Ke(Fr,la).hide(),Ke(Fr,da).hide(),Ke(Fr,Yi).hide(),Ke(Fr,fa)[i(209)]();break;case JOYSTICK_TOUCH_MODE[i(262)]:Fr[i(156)]=JOYSTICK_TOUCH_MODE[i(262)],e&&Fr[i(186)](i(240),1e3),Ke(Fr,la)[i(213)](),Ke(Fr,fa)[i(213)](),Ke(Fr,da).hide(),Ke(Fr,Yi)[i(209)]();break}});let UiManager=Fr;var jo,Hs,Ws;const Fs=class Fs extends TouchButtonListener{constructor(e){super();Nt(this,jo,void 0);Nt(this,Hs,void 0);nr(this,jo,e)}[_0xb531b3(169)](e){const i=_0xb531b3;e?(Ke(this,jo)[i(255)](Ke(Fs,Ws)),nr(this,Hs,setInterval(()=>{const c=i;Ke(this,jo)[c(255)](Ke(Fs,Ws))},5))):clearInterval(Ke(this,Hs))}};jo=new WeakMap,Hs=new WeakMap,Ws=new WeakMap,Nt(Fs,Ws,"REWIND");let RewindButtonListener=Fs;function _0x45b4(){const h=["absolute","touch_controllers","padding","12496xtNmHZ","225984cpxBDc","#desktopUiBack","saveState","addEventListener","hideMousepad","message","div","position","fastmenu","Auto Hide","QUICKSHOT_DYNAMIC","keyboard","521370TFyCTO","reload","fastjoy","canvas","appendChild","visible","push","mousepadVisible","isDesktop","2298900szyYqi","initTouchControllerMenu","label","sendCommand",'<span style="font-size: 50%;">MOUSE</span>',"initHideaway","mouse_controllers","requestPointerLock","1kxVlVA","name","HIDEAWAY","8px 16px","querySelector","keyCode","TRACKPAD_BUTTONS","additional_buttons","fullscreenElement","initMousepad","fadeOutTimeout","keydown","QUICKJOY_PRIMARY","display","opacity","#quickshots","fontSize","then","getBoundingClientRect","block","initControlsButton","forEach","desktopUiSave","#quickjoys",'<span style="font-size: 50%;">SAVE</span>',"log","fastmouse","keys","requestFullscreen","desktopUiControls","CANVAS","#mousepads","toggleMousePad","currentJoyTouchMode","keyboardVisible","hideKeyboard","desktopUi","QuickJoy","add","QuickShot","7BJakid","63sezUZm","menu-item","documentElement",'<span style="font-size: 50%;">KB</span>',"classList","trigger","initQuickshot","fastkb","none","#keyboardContainer","520304eSzHCB","85662MoNkZb","body",'<span style="font-size: 50%;">QUIT</span>',"press","showKeyboard","key","click","isQuest","resizeCanvas","#fastui","keyup","osdMessage","toggleJoystick","length","getNostalgist","getElementById","remove","grid","</span>","fast","10pt","getSelectedPlatform","controlsMenu","code","53385IbahIx","style","showTouchKeyboard","currentMouseTouchMode","mouseleave","hideJoystick","savestates_disabled","error","fastui-msg","initFastUI","show",'<span style="font-size: 50%;">',"innerHTML","left","hide","dispatchEvent","catch","addedNodes",'<span style="font-size: 50%;">REWIND</span>',"showJoystick","bottom","nodeName","fastrewind","REWIND","createElement","FAST_FORWARD",'<span style="font-size: 50%;">FFD</span>',"#desktopUiSave"];return _0x45b4=function(){return h},_0x45b4()}var Ks,Gs;class CommandButtonListener extends TouchButtonListener{constructor(e,i,c){const f=_0xb531b3;super();Nt(this,Ks,void 0);Nt(this,Gs,void 0);nr(this,Ks,e),nr(this,Gs,i),this[f(236)]=c}[_0xb531b3(169)](e){const i=_0xb531b3;Ke(this,Gs)[i(255)](Ke(this,Ks))}}Ks=new WeakMap,Gs=new WeakMap;var Ys;class SaveButtonListener extends TouchButtonListener{constructor(e){super();Nt(this,Ys,void 0);nr(this,Ys,e)}async[_0xb531b3(169)](e){const i=_0xb531b3;e&&Ke(this,Ys)[i(233)]()}}Ys=new WeakMap;var Qs;class KbListener extends TouchButtonListener{constructor(e){super();Nt(this,Qs,void 0);nr(this,Qs,e)}[_0xb531b3(169)](e){const i=_0xb531b3;e&&(UiManager[i(157)]=!![],UiManager[i(204)](),UiManager.hideMousepad(),UiManager.showKeyboard(),Ke(this,Qs)[i(201)]())}}Qs=new WeakMap;class ResetButtonListener extends TouchButtonListener{constructor(){super()}[_0xb531b3(169)](o){o&&location[_0xb531b3(244)]()}}var lib={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z=Symbol.iterator;function A(h){return h===null||typeof h!="object"?null:(h=z&&h[z]||h["@@iterator"],typeof h=="function"?h:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,D$1={};function E(h,o,e){this.props=h,this.context=o,this.refs=D$1,this.updater=e||B}E.prototype.isReactComponent={};E.prototype.setState=function(h,o){if(typeof h!="object"&&typeof h!="function"&&h!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,h,o,"setState")};E.prototype.forceUpdate=function(h){this.updater.enqueueForceUpdate(this,h,"forceUpdate")};function F$1(){}F$1.prototype=E.prototype;function G$1(h,o,e){this.props=h,this.context=o,this.refs=D$1,this.updater=e||B}var H=G$1.prototype=new F$1;H.constructor=G$1;C(H,E.prototype);H.isPureReactComponent=!0;var I$1=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M(h,o,e){var i,c={},f=null,m=null;if(o!=null)for(i in o.ref!==void 0&&(m=o.ref),o.key!==void 0&&(f=""+o.key),o)J$1.call(o,i)&&!L$1.hasOwnProperty(i)&&(c[i]=o[i]);var g=arguments.length-2;if(g===1)c.children=e;else if(1<g){for(var Te=Array(g),Ee=0;Ee<g;Ee++)Te[Ee]=arguments[Ee+2];c.children=Te}if(h&&h.defaultProps)for(i in g=h.defaultProps,g)c[i]===void 0&&(c[i]=g[i]);return{$$typeof:l$1,type:h,key:f,ref:m,props:c,_owner:K$1.current}}function N$1(h,o){return{$$typeof:l$1,type:h.type,key:o,ref:h.ref,props:h.props,_owner:h._owner}}function O$1(h){return typeof h=="object"&&h!==null&&h.$$typeof===l$1}function escape$1(h){var o={"=":"=0",":":"=2"};return"$"+h.replace(/[=:]/g,function(e){return o[e]})}var P=/\/+/g;function Q$1(h,o){return typeof h=="object"&&h!==null&&h.key!=null?escape$1(""+h.key):o.toString(36)}function R$1(h,o,e,i,c){var f=typeof h;(f==="undefined"||f==="boolean")&&(h=null);var m=!1;if(h===null)m=!0;else switch(f){case"string":case"number":m=!0;break;case"object":switch(h.$$typeof){case l$1:case n:m=!0}}if(m)return m=h,c=c(m),h=i===""?"."+Q$1(m,0):i,I$1(c)?(e="",h!=null&&(e=h.replace(P,"$&/")+"/"),R$1(c,o,e,"",function(Ee){return Ee})):c!=null&&(O$1(c)&&(c=N$1(c,e+(!c.key||m&&m.key===c.key?"":(""+c.key).replace(P,"$&/")+"/")+h)),o.push(c)),1;if(m=0,i=i===""?".":i+":",I$1(h))for(var g=0;g<h.length;g++){f=h[g];var Te=i+Q$1(f,g);m+=R$1(f,o,e,Te,c)}else if(Te=A(h),typeof Te=="function")for(h=Te.call(h),g=0;!(f=h.next()).done;)f=f.value,Te=i+Q$1(f,g++),m+=R$1(f,o,e,Te,c);else if(f==="object")throw o=String(h),Error("Objects are not valid as a React child (found: "+(o==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":o)+"). If you meant to render a collection of children, use an array instead.");return m}function S(h,o,e){if(h==null)return h;var i=[],c=0;return R$1(h,i,"","",function(f){return o.call(e,f,c++)}),i}function T(h){if(h._status===-1){var o=h._result;o=o(),o.then(function(e){(h._status===0||h._status===-1)&&(h._status=1,h._result=e)},function(e){(h._status===0||h._status===-1)&&(h._status=2,h._result=e)}),h._status===-1&&(h._status=0,h._result=o)}if(h._status===1)return h._result.default;throw h._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S,forEach:function(h,o,e){S(h,function(){o.apply(this,arguments)},e)},count:function(h){var o=0;return S(h,function(){o++}),o},toArray:function(h){return S(h,function(o){return o})||[]},only:function(h){if(!O$1(h))throw Error("React.Children.only expected to receive a single React element child.");return h}};react_production_min.Component=E;react_production_min.Fragment=p;react_production_min.Profiler=r;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$1;react_production_min.cloneElement=function(h,o,e){if(h==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+h+".");var i=C({},h.props),c=h.key,f=h.ref,m=h._owner;if(o!=null){if(o.ref!==void 0&&(f=o.ref,m=K$1.current),o.key!==void 0&&(c=""+o.key),h.type&&h.type.defaultProps)var g=h.type.defaultProps;for(Te in o)J$1.call(o,Te)&&!L$1.hasOwnProperty(Te)&&(i[Te]=o[Te]===void 0&&g!==void 0?g[Te]:o[Te])}var Te=arguments.length-2;if(Te===1)i.children=e;else if(1<Te){g=Array(Te);for(var Ee=0;Ee<Te;Ee++)g[Ee]=arguments[Ee+2];i.children=g}return{$$typeof:l$1,type:h.type,key:c,ref:f,props:i,_owner:m}};react_production_min.createContext=function(h){return h={$$typeof:u,_currentValue:h,_currentValue2:h,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},h.Provider={$$typeof:t,_context:h},h.Consumer=h};react_production_min.createElement=M;react_production_min.createFactory=function(h){var o=M.bind(null,h);return o.type=h,o};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(h){return{$$typeof:v,render:h}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(h){return{$$typeof:y,_payload:{_status:-1,_result:h},_init:T}};react_production_min.memo=function(h,o){return{$$typeof:x,type:h,compare:o===void 0?null:o}};react_production_min.startTransition=function(h){var o=V$1.transition;V$1.transition={};try{h()}finally{V$1.transition=o}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(h,o){return U$1.current.useCallback(h,o)};react_production_min.useContext=function(h){return U$1.current.useContext(h)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(h){return U$1.current.useDeferredValue(h)};react_production_min.useEffect=function(h,o){return U$1.current.useEffect(h,o)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(h,o,e){return U$1.current.useImperativeHandle(h,o,e)};react_production_min.useInsertionEffect=function(h,o){return U$1.current.useInsertionEffect(h,o)};react_production_min.useLayoutEffect=function(h,o){return U$1.current.useLayoutEffect(h,o)};react_production_min.useMemo=function(h,o){return U$1.current.useMemo(h,o)};react_production_min.useReducer=function(h,o,e){return U$1.current.useReducer(h,o,e)};react_production_min.useRef=function(h){return U$1.current.useRef(h)};react_production_min.useState=function(h){return U$1.current.useState(h)};react_production_min.useSyncExternalStore=function(h,o,e){return U$1.current.useSyncExternalStore(h,o,e)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports,uaParser_min={exports:{}};(function(h,o){(function(e,i){var c="1.0.39",f="",m="?",g="function",Te="undefined",Ee="object",Oe="string",ne="major",De="model",Ie="name",qe="type",Fe="vendor",Ne="version",Ve="architecture",Ue="console",We="mobile",He="tablet",Xe="smarttv",ot="wearable",tt="embedded",mt=500,gt="Amazon",rt="Apple",pt="ASUS",it="BlackBerry",vt="Browser",Ze="Chrome",Ft="Edge",Zt="Firefox",jt="Google",ur="Huawei",bt="LG",St="Microsoft",ct="Motorola",dt="Opera",Pt="Samsung",Ct="Sharp",Kt="Sony",fr="Xiaomi",Rr="Zebra",cr="Facebook",lt="Chromium OS",yt="Mac OS",Xt=" Browser",$t=function(It,zt){var tr={};for(var Sr in It)zt[Sr]&&zt[Sr].length%2===0?tr[Sr]=zt[Sr].concat(It[Sr]):tr[Sr]=It[Sr];return tr},dr=function(It){for(var zt={},tr=0;tr<It.length;tr++)zt[It[tr].toUpperCase()]=It[tr];return zt},Je=function(It,zt){return typeof It===Oe?At(zt).indexOf(At(It))!==-1:!1},At=function(It){return It.toLowerCase()},Wt=function(It){return typeof It===Oe?It.replace(/[^\d\.]/g,f).split(".")[0]:i},xt=function(It,zt){if(typeof It===Oe)return It=It.replace(/^\s\s*/,f),typeof zt===Te?It:It.substring(0,mt)},ht=function(It,zt){for(var tr=0,Sr,Lr,Br,Er,gr,Qr;tr<zt.length&&!gr;){var Cr=zt[tr],sn=zt[tr+1];for(Sr=Lr=0;Sr<Cr.length&&!gr&&Cr[Sr];)if(gr=Cr[Sr++].exec(It),gr)for(Br=0;Br<sn.length;Br++)Qr=gr[++Lr],Er=sn[Br],typeof Er===Ee&&Er.length>0?Er.length===2?typeof Er[1]==g?this[Er[0]]=Er[1].call(this,Qr):this[Er[0]]=Er[1]:Er.length===3?typeof Er[1]===g&&!(Er[1].exec&&Er[1].test)?this[Er[0]]=Qr?Er[1].call(this,Qr,Er[2]):i:this[Er[0]]=Qr?Qr.replace(Er[1],Er[2]):i:Er.length===4&&(this[Er[0]]=Qr?Er[3].call(this,Qr.replace(Er[1],Er[2])):i):this[Er]=Qr||i;tr+=2}},Dt=function(It,zt){for(var tr in zt)if(typeof zt[tr]===Ee&&zt[tr].length>0){for(var Sr=0;Sr<zt[tr].length;Sr++)if(Je(zt[tr][Sr],It))return tr===m?i:tr}else if(Je(zt[tr],It))return tr===m?i:tr;return zt.hasOwnProperty("*")?zt["*"]:It},er={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},nt={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},je={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[Ne,[Ie,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[Ne,[Ie,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[Ie,Ne],[/opios[\/ ]+([\w\.]+)/i],[Ne,[Ie,dt+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[Ne,[Ie,dt+" GX"]],[/\bopr\/([\w\.]+)/i],[Ne,[Ie,dt]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[Ne,[Ie,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[Ie,Ne],[/quark(?:pc)?\/([-\w\.]+)/i],[Ne,[Ie,"Quark"]],[/\bddg\/([\w\.]+)/i],[Ne,[Ie,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[Ne,[Ie,"UC"+vt]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[Ne,[Ie,"WeChat"]],[/konqueror\/([\w\.]+)/i],[Ne,[Ie,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[Ne,[Ie,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[Ne,[Ie,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[Ne,[Ie,"Smart Lenovo "+vt]],[/(avast|avg)\/([\w\.]+)/i],[[Ie,/(.+)/,"$1 Secure "+vt],Ne],[/\bfocus\/([\w\.]+)/i],[Ne,[Ie,Zt+" Focus"]],[/\bopt\/([\w\.]+)/i],[Ne,[Ie,dt+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[Ne,[Ie,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[Ne,[Ie,"Dolphin"]],[/coast\/([\w\.]+)/i],[Ne,[Ie,dt+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[Ne,[Ie,"MIUI "+vt]],[/fxios\/([-\w\.]+)/i],[Ne,[Ie,Zt]],[/\bqihu|(qi?ho?o?|360)browser/i],[[Ie,"360"+Xt]],[/\b(qq)\/([\w\.]+)/i],[[Ie,/(.+)/,"$1Browser"],Ne],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[Ie,/(.+)/,"$1"+Xt],Ne],[/samsungbrowser\/([\w\.]+)/i],[Ne,[Ie,Pt+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[Ie,/_/g," "],Ne],[/metasr[\/ ]?([\d\.]+)/i],[Ne,[Ie,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[Ie,"Sogou Mobile"],Ne],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[Ie,Ne],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[Ie],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[Ie,cr],Ne],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[Ie,Ne],[/\bgsa\/([\w\.]+) .*safari\//i],[Ne,[Ie,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[Ne,[Ie,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[Ne,[Ie,Ze+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[Ie,Ze+" WebView"],Ne],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[Ne,[Ie,"Android "+vt]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[Ie,Ne],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[Ne,[Ie,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[Ne,Ie],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[Ie,[Ne,Dt,er]],[/(webkit|khtml)\/([\w\.]+)/i],[Ie,Ne],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[Ie,"Netscape"],Ne],[/(wolvic)\/([\w\.]+)/i],[Ie,Ne],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[Ne,[Ie,Zt+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[Ie,[Ne,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[Ie,[Ne,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[Ve,"amd64"]],[/(ia32(?=;))/i],[[Ve,At]],[/((?:i[346]|x)86)[;\)]/i],[[Ve,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[Ve,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[Ve,"armhf"]],[/windows (ce|mobile); ppc;/i],[[Ve,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[Ve,/ower/,f,At]],[/(sun4\w)[;\)]/i],[[Ve,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[Ve,At]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[De,[Fe,Pt],[qe,He]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[De,[Fe,Pt],[qe,We]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[De,[Fe,rt],[qe,We]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[De,[Fe,rt],[qe,He]],[/(macintosh);/i],[De,[Fe,rt]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[De,[Fe,Ct],[qe,We]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[De,[Fe,ur],[qe,He]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[De,[Fe,ur],[qe,We]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[De,/_/g," "],[Fe,fr],[qe,We]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[De,/_/g," "],[Fe,fr],[qe,He]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[De,[Fe,"OPPO"],[qe,We]],[/\b(opd2\d{3}a?) bui/i],[De,[Fe,"OPPO"],[qe,He]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[De,[Fe,"Vivo"],[qe,We]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[De,[Fe,"Realme"],[qe,We]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[De,[Fe,ct],[qe,We]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[De,[Fe,ct],[qe,He]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[De,[Fe,bt],[qe,He]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[De,[Fe,bt],[qe,We]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[De,[Fe,"Lenovo"],[qe,He]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[De,/_/g," "],[Fe,"Nokia"],[qe,We]],[/(pixel c)\b/i],[De,[Fe,jt],[qe,He]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[De,[Fe,jt],[qe,We]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[De,[Fe,Kt],[qe,We]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[De,"Xperia Tablet"],[Fe,Kt],[qe,He]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[De,[Fe,"OnePlus"],[qe,We]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[De,[Fe,gt],[qe,He]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[De,/(.+)/g,"Fire Phone $1"],[Fe,gt],[qe,We]],[/(playbook);[-\w\),; ]+(rim)/i],[De,Fe,[qe,He]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[De,[Fe,it],[qe,We]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[De,[Fe,pt],[qe,He]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[De,[Fe,pt],[qe,We]],[/(nexus 9)/i],[De,[Fe,"HTC"],[qe,He]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[Fe,[De,/_/g," "],[qe,We]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[De,[Fe,"TCL"],[qe,He]],[/(itel) ((\w+))/i],[[Fe,At],De,[qe,Dt,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[De,[Fe,"Acer"],[qe,He]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[De,[Fe,"Meizu"],[qe,We]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[De,[Fe,"Ulefone"],[qe,We]],[/droid.+; (a(?:015|06[35]|142p?))/i],[De,[Fe,"Nothing"],[qe,We]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[Fe,De,[qe,We]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[Fe,De,[qe,He]],[/(surface duo)/i],[De,[Fe,St],[qe,He]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[De,[Fe,"Fairphone"],[qe,We]],[/(u304aa)/i],[De,[Fe,"AT&T"],[qe,We]],[/\bsie-(\w*)/i],[De,[Fe,"Siemens"],[qe,We]],[/\b(rct\w+) b/i],[De,[Fe,"RCA"],[qe,He]],[/\b(venue[\d ]{2,7}) b/i],[De,[Fe,"Dell"],[qe,He]],[/\b(q(?:mv|ta)\w+) b/i],[De,[Fe,"Verizon"],[qe,He]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[De,[Fe,"Barnes & Noble"],[qe,He]],[/\b(tm\d{3}\w+) b/i],[De,[Fe,"NuVision"],[qe,He]],[/\b(k88) b/i],[De,[Fe,"ZTE"],[qe,He]],[/\b(nx\d{3}j) b/i],[De,[Fe,"ZTE"],[qe,We]],[/\b(gen\d{3}) b.+49h/i],[De,[Fe,"Swiss"],[qe,We]],[/\b(zur\d{3}) b/i],[De,[Fe,"Swiss"],[qe,He]],[/\b((zeki)?tb.*\b) b/i],[De,[Fe,"Zeki"],[qe,He]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[Fe,"Dragon Touch"],De,[qe,He]],[/\b(ns-?\w{0,9}) b/i],[De,[Fe,"Insignia"],[qe,He]],[/\b((nxa|next)-?\w{0,9}) b/i],[De,[Fe,"NextBook"],[qe,He]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[Fe,"Voice"],De,[qe,We]],[/\b(lvtel\-)?(v1[12]) b/i],[[Fe,"LvTel"],De,[qe,We]],[/\b(ph-1) /i],[De,[Fe,"Essential"],[qe,We]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[De,[Fe,"Envizen"],[qe,He]],[/\b(trio[-\w\. ]+) b/i],[De,[Fe,"MachSpeed"],[qe,He]],[/\btu_(1491) b/i],[De,[Fe,"Rotor"],[qe,He]],[/(shield[\w ]+) b/i],[De,[Fe,"Nvidia"],[qe,He]],[/(sprint) (\w+)/i],[Fe,De,[qe,We]],[/(kin\.[onetw]{3})/i],[[De,/\./g," "],[Fe,St],[qe,We]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[De,[Fe,Rr],[qe,He]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[De,[Fe,Rr],[qe,We]],[/smart-tv.+(samsung)/i],[Fe,[qe,Xe]],[/hbbtv.+maple;(\d+)/i],[[De,/^/,"SmartTV"],[Fe,Pt],[qe,Xe]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[Fe,bt],[qe,Xe]],[/(apple) ?tv/i],[Fe,[De,rt+" TV"],[qe,Xe]],[/crkey/i],[[De,Ze+"cast"],[Fe,jt],[qe,Xe]],[/droid.+aft(\w+)( bui|\))/i],[De,[Fe,gt],[qe,Xe]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[De,[Fe,Ct],[qe,Xe]],[/(bravia[\w ]+)( bui|\))/i],[De,[Fe,Kt],[qe,Xe]],[/(mitv-\w{5}) bui/i],[De,[Fe,fr],[qe,Xe]],[/Hbbtv.*(technisat) (.*);/i],[Fe,De,[qe,Xe]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[Fe,xt],[De,xt],[qe,Xe]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[qe,Xe]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[Fe,De,[qe,Ue]],[/droid.+; (shield) bui/i],[De,[Fe,"Nvidia"],[qe,Ue]],[/(playstation [345portablevi]+)/i],[De,[Fe,Kt],[qe,Ue]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[De,[Fe,St],[qe,Ue]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[De,[Fe,Pt],[qe,ot]],[/((pebble))app/i],[Fe,De,[qe,ot]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[De,[Fe,rt],[qe,ot]],[/droid.+; (glass) \d/i],[De,[Fe,jt],[qe,ot]],[/droid.+; (wt63?0{2,3})\)/i],[De,[Fe,Rr],[qe,ot]],[/(quest( \d| pro)?)/i],[De,[Fe,cr],[qe,ot]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[Fe,[qe,tt]],[/(aeobc)\b/i],[De,[Fe,gt],[qe,tt]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[De,[qe,We]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[De,[qe,He]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[qe,He]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[qe,We]],[/(android[-\w\. ]{0,9});.+buil/i],[De,[Fe,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[Ne,[Ie,Ft+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[Ne,[Ie,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[Ie,Ne],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[Ne,Ie]],os:[[/microsoft (windows) (vista|xp)/i],[Ie,Ne],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[Ie,[Ne,Dt,nt]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[Ne,Dt,nt],[Ie,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[Ne,/_/g,"."],[Ie,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[Ie,yt],[Ne,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[Ne,Ie],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[Ie,Ne],[/\(bb(10);/i],[Ne,[Ie,it]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[Ne,[Ie,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[Ne,[Ie,Zt+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[Ne,[Ie,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[Ne,[Ie,"watchOS"]],[/crkey\/([\d\.]+)/i],[Ne,[Ie,Ze+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[Ie,lt],Ne],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[Ie,Ne],[/(sunos) ?([\w\.\d]*)/i],[[Ie,"Solaris"],Ne],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[Ie,Ne]]},Ge=function(It,zt){if(typeof It===Ee&&(zt=It,It=i),!(this instanceof Ge))return new Ge(It,zt).getResult();var tr=typeof e!==Te&&e.navigator?e.navigator:i,Sr=It||(tr&&tr.userAgent?tr.userAgent:f),Lr=tr&&tr.userAgentData?tr.userAgentData:i,Br=zt?$t(je,zt):je,Er=tr&&tr.userAgent==Sr;return this.getBrowser=function(){var gr={};return gr[Ie]=i,gr[Ne]=i,ht.call(gr,Sr,Br.browser),gr[ne]=Wt(gr[Ne]),Er&&tr&&tr.brave&&typeof tr.brave.isBrave==g&&(gr[Ie]="Brave"),gr},this.getCPU=function(){var gr={};return gr[Ve]=i,ht.call(gr,Sr,Br.cpu),gr},this.getDevice=function(){var gr={};return gr[Fe]=i,gr[De]=i,gr[qe]=i,ht.call(gr,Sr,Br.device),Er&&!gr[qe]&&Lr&&Lr.mobile&&(gr[qe]=We),Er&&gr[De]=="Macintosh"&&tr&&typeof tr.standalone!==Te&&tr.maxTouchPoints&&tr.maxTouchPoints>2&&(gr[De]="iPad",gr[qe]=He),gr},this.getEngine=function(){var gr={};return gr[Ie]=i,gr[Ne]=i,ht.call(gr,Sr,Br.engine),gr},this.getOS=function(){var gr={};return gr[Ie]=i,gr[Ne]=i,ht.call(gr,Sr,Br.os),Er&&!gr[Ie]&&Lr&&Lr.platform&&Lr.platform!="Unknown"&&(gr[Ie]=Lr.platform.replace(/chrome os/i,lt).replace(/macos/i,yt)),gr},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Sr},this.setUA=function(gr){return Sr=typeof gr===Oe&&gr.length>mt?xt(gr,mt):gr,this},this.setUA(Sr),this};Ge.VERSION=c,Ge.BROWSER=dr([Ie,Ne,ne]),Ge.CPU=dr([Ve]),Ge.DEVICE=dr([De,Fe,qe,Ue,We,Xe,He,ot,tt]),Ge.ENGINE=Ge.OS=dr([Ie,Ne]),h.exports&&(o=h.exports=Ge),o.UAParser=Ge;var ut=typeof e!==Te&&(e.jQuery||e.Zepto);if(ut&&!ut.ua){var Et=new Ge;ut.ua=Et.getResult(),ut.ua.get=function(){return Et.getUA()},ut.ua.set=function(It){Et.setUA(It);var zt=Et.getResult();for(var tr in zt)ut.ua[tr]=zt[tr]}}})(typeof window=="object"?window:commonjsGlobal$1)})(uaParser_min,uaParser_min.exports);var uaParser_minExports=uaParser_min.exports;Object.defineProperty(lib,"__esModule",{value:!0});function _interopDefault(h){return h&&typeof h=="object"&&"default"in h?h.default:h}var React=reactExports,React__default=_interopDefault(React),UAParser=uaParser_minExports,ClientUAInstance=new UAParser,browser=ClientUAInstance.getBrowser(),cpu=ClientUAInstance.getCPU(),device=ClientUAInstance.getDevice(),engine=ClientUAInstance.getEngine(),os=ClientUAInstance.getOS(),ua=ClientUAInstance.getUA(),setUa=function h(o){return ClientUAInstance.setUA(o)},parseUserAgent=function h(o){if(!o){console.error("No userAgent string was provided");return}var e=new UAParser(o);return{UA:e,browser:e.getBrowser(),cpu:e.getCPU(),device:e.getDevice(),engine:e.getEngine(),os:e.getOS(),ua:e.getUA(),setUserAgent:function(c){return e.setUA(c)}}},UAHelper=Object.freeze({ClientUAInstance,browser,cpu,device,engine,os,ua,setUa,parseUserAgent});function ownKeys(h,o){var e=Object.keys(h);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(h);o&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(h,c).enumerable})),e.push.apply(e,i)}return e}function _objectSpread2(h){for(var o=1;o<arguments.length;o++){var e=arguments[o]!=null?arguments[o]:{};o%2?ownKeys(Object(e),!0).forEach(function(i){_defineProperty(h,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(e)):ownKeys(Object(e)).forEach(function(i){Object.defineProperty(h,i,Object.getOwnPropertyDescriptor(e,i))})}return h}function _typeof(h){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(o){return typeof o}:_typeof=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(h)}function _classCallCheck(h,o){if(!(h instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties(h,o){for(var e=0;e<o.length;e++){var i=o[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(h,i.key,i)}}function _createClass(h,o,e){return o&&_defineProperties(h.prototype,o),e&&_defineProperties(h,e),h}function _defineProperty(h,o,e){return o in h?Object.defineProperty(h,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):h[o]=e,h}function _extends(){return _extends=Object.assign||function(h){for(var o=1;o<arguments.length;o++){var e=arguments[o];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(h[i]=e[i])}return h},_extends.apply(this,arguments)}function _inherits(h,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(o&&o.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),o&&_setPrototypeOf(h,o)}function _getPrototypeOf(h){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(h)}function _setPrototypeOf(h,o){return _setPrototypeOf=Object.setPrototypeOf||function(i,c){return i.__proto__=c,i},_setPrototypeOf(h,o)}function _objectWithoutPropertiesLoose(h,o){if(h==null)return{};var e={},i=Object.keys(h),c,f;for(f=0;f<i.length;f++)c=i[f],!(o.indexOf(c)>=0)&&(e[c]=h[c]);return e}function _objectWithoutProperties(h,o){if(h==null)return{};var e=_objectWithoutPropertiesLoose(h,o),i,c;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(h);for(c=0;c<f.length;c++)i=f[c],!(o.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(h,i)&&(e[i]=h[i])}return e}function _assertThisInitialized(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function _possibleConstructorReturn(h,o){if(o&&(typeof o=="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(h)}function _slicedToArray(h,o){return _arrayWithHoles(h)||_iterableToArrayLimit(h,o)||_unsupportedIterableToArray(h,o)||_nonIterableRest()}function _arrayWithHoles(h){if(Array.isArray(h))return h}function _iterableToArrayLimit(h,o){var e=h==null?null:typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(e!=null){var i=[],c=!0,f=!1,m,g;try{for(e=e.call(h);!(c=(m=e.next()).done)&&(i.push(m.value),!(o&&i.length===o));c=!0);}catch(Te){f=!0,g=Te}finally{try{!c&&e.return!=null&&e.return()}finally{if(f)throw g}}return i}}function _unsupportedIterableToArray(h,o){if(h){if(typeof h=="string")return _arrayLikeToArray(h,o);var e=Object.prototype.toString.call(h).slice(8,-1);if(e==="Object"&&h.constructor&&(e=h.constructor.name),e==="Map"||e==="Set")return Array.from(h);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return _arrayLikeToArray(h,o)}}function _arrayLikeToArray(h,o){(o==null||o>h.length)&&(o=h.length);for(var e=0,i=new Array(o);e<o;e++)i[e]=h[e];return i}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var DeviceTypes={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},BrowserTypes={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},OsTypes={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},InitialDeviceTypes={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},checkDeviceType=function h(o){switch(o){case DeviceTypes.Mobile:return{isMobile:!0};case DeviceTypes.Tablet:return{isTablet:!0};case DeviceTypes.SmartTv:return{isSmartTV:!0};case DeviceTypes.Console:return{isConsole:!0};case DeviceTypes.Wearable:return{isWearable:!0};case DeviceTypes.Browser:return{isBrowser:!0};case DeviceTypes.Embedded:return{isEmbedded:!0};default:return InitialDeviceTypes}},setUserAgent=function h(o){return setUa(o)},setDefaults=function h(o){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return o||e},getNavigatorInstance=function h(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},isIOS13Check=function h(o){var e=getNavigatorInstance();return e&&e.platform&&(e.platform.indexOf(o)!==-1||e.platform==="MacIntel"&&e.maxTouchPoints>1&&!window.MSStream)},browserPayload=function h(o,e,i,c,f){return{isBrowser:o,browserMajorVersion:setDefaults(e.major),browserFullVersion:setDefaults(e.version),browserName:setDefaults(e.name),engineName:setDefaults(i.name),engineVersion:setDefaults(i.version),osName:setDefaults(c.name),osVersion:setDefaults(c.version),userAgent:setDefaults(f)}},mobilePayload=function h(o,e,i,c){return _objectSpread2({},o,{vendor:setDefaults(e.vendor),model:setDefaults(e.model),os:setDefaults(i.name),osVersion:setDefaults(i.version),ua:setDefaults(c)})},smartTvPayload=function h(o,e,i,c){return{isSmartTV:o,engineName:setDefaults(e.name),engineVersion:setDefaults(e.version),osName:setDefaults(i.name),osVersion:setDefaults(i.version),userAgent:setDefaults(c)}},consolePayload=function h(o,e,i,c){return{isConsole:o,engineName:setDefaults(e.name),engineVersion:setDefaults(e.version),osName:setDefaults(i.name),osVersion:setDefaults(i.version),userAgent:setDefaults(c)}},wearablePayload=function h(o,e,i,c){return{isWearable:o,engineName:setDefaults(e.name),engineVersion:setDefaults(e.version),osName:setDefaults(i.name),osVersion:setDefaults(i.version),userAgent:setDefaults(c)}},embeddedPayload=function h(o,e,i,c,f){return{isEmbedded:o,vendor:setDefaults(e.vendor),model:setDefaults(e.model),engineName:setDefaults(i.name),engineVersion:setDefaults(i.version),osName:setDefaults(c.name),osVersion:setDefaults(c.version),userAgent:setDefaults(f)}};function deviceDetect(h){var o=h?parseUserAgent(h):UAHelper,e=o.device,i=o.browser,c=o.engine,f=o.os,m=o.ua,g=checkDeviceType(e.type),Te=g.isBrowser,Ee=g.isMobile,Oe=g.isTablet,ne=g.isSmartTV,De=g.isConsole,Ie=g.isWearable,qe=g.isEmbedded;if(Te)return browserPayload(Te,i,c,f,m);if(ne)return smartTvPayload(ne,c,f,m);if(De)return consolePayload(De,c,f,m);if(Ee||Oe)return mobilePayload(g,e,f,m);if(Ie)return wearablePayload(Ie,c,f,m);if(qe)return embeddedPayload(qe,e,c,f,m)}var isMobileType=function h(o){var e=o.type;return e===DeviceTypes.Mobile},isTabletType=function h(o){var e=o.type;return e===DeviceTypes.Tablet},isMobileAndTabletType=function h(o){var e=o.type;return e===DeviceTypes.Mobile||e===DeviceTypes.Tablet},isSmartTVType=function h(o){var e=o.type;return e===DeviceTypes.SmartTv},isBrowserType=function h(o){var e=o.type;return e===DeviceTypes.Browser},isWearableType=function h(o){var e=o.type;return e===DeviceTypes.Wearable},isConsoleType=function h(o){var e=o.type;return e===DeviceTypes.Console},isEmbeddedType=function h(o){var e=o.type;return e===DeviceTypes.Embedded},getMobileVendor=function h(o){var e=o.vendor;return setDefaults(e)},getMobileModel=function h(o){var e=o.model;return setDefaults(e)},getDeviceType=function h(o){var e=o.type;return setDefaults(e,"browser")},isAndroidType=function h(o){var e=o.name;return e===OsTypes.Android},isWindowsType=function h(o){var e=o.name;return e===OsTypes.Windows},isMacOsType=function h(o){var e=o.name;return e===OsTypes.MAC_OS},isWinPhoneType=function h(o){var e=o.name;return e===OsTypes.WindowsPhone},isIOSType=function h(o){var e=o.name;return e===OsTypes.IOS},getOsVersion=function h(o){var e=o.version;return setDefaults(e)},getOsName=function h(o){var e=o.name;return setDefaults(e)},isChromeType=function h(o){var e=o.name;return e===BrowserTypes.Chrome},isFirefoxType=function h(o){var e=o.name;return e===BrowserTypes.Firefox},isChromiumType=function h(o){var e=o.name;return e===BrowserTypes.Chromium},isEdgeType=function h(o){var e=o.name;return e===BrowserTypes.Edge},isYandexType=function h(o){var e=o.name;return e===BrowserTypes.Yandex},isSafariType=function h(o){var e=o.name;return e===BrowserTypes.Safari||e===BrowserTypes.MobileSafari},isMobileSafariType=function h(o){var e=o.name;return e===BrowserTypes.MobileSafari},isOperaType=function h(o){var e=o.name;return e===BrowserTypes.Opera},isIEType=function h(o){var e=o.name;return e===BrowserTypes.InternetExplorer||e===BrowserTypes.Ie},isMIUIType=function h(o){var e=o.name;return e===BrowserTypes.MIUI},isSamsungBrowserType=function h(o){var e=o.name;return e===BrowserTypes.SamsungBrowser},getBrowserFullVersion=function h(o){var e=o.version;return setDefaults(e)},getBrowserVersion=function h(o){var e=o.major;return setDefaults(e)},getBrowserName=function h(o){var e=o.name;return setDefaults(e)},getEngineName=function h(o){var e=o.name;return setDefaults(e)},getEngineVersion=function h(o){var e=o.version;return setDefaults(e)},isElectronType=function h(){var o=getNavigatorInstance(),e=o&&o.userAgent&&o.userAgent.toLowerCase();return typeof e=="string"?/electron/.test(e):!1},isEdgeChromiumType=function h(o){return typeof o=="string"&&o.indexOf("Edg/")!==-1},getIOS13=function h(){var o=getNavigatorInstance();return o&&(/iPad|iPhone|iPod/.test(o.platform)||o.platform==="MacIntel"&&o.maxTouchPoints>1)&&!window.MSStream},getIPad13=function h(){return isIOS13Check("iPad")},getIphone13=function h(){return isIOS13Check("iPhone")},getIPod13=function h(){return isIOS13Check("iPod")},getUseragent=function h(o){return setDefaults(o)};function buildSelectorsObject(h){var o=h||UAHelper,e=o.device,i=o.browser,c=o.os,f=o.engine,m=o.ua;return{isSmartTV:isSmartTVType(e),isConsole:isConsoleType(e),isWearable:isWearableType(e),isEmbedded:isEmbeddedType(e),isMobileSafari:isMobileSafariType(i)||getIPad13(),isChromium:isChromiumType(i),isMobile:isMobileAndTabletType(e)||getIPad13(),isMobileOnly:isMobileType(e),isTablet:isTabletType(e)||getIPad13(),isBrowser:isBrowserType(e),isDesktop:isBrowserType(e),isAndroid:isAndroidType(c),isWinPhone:isWinPhoneType(c),isIOS:isIOSType(c)||getIPad13(),isChrome:isChromeType(i),isFirefox:isFirefoxType(i),isSafari:isSafariType(i),isOpera:isOperaType(i),isIE:isIEType(i),osVersion:getOsVersion(c),osName:getOsName(c),fullBrowserVersion:getBrowserFullVersion(i),browserVersion:getBrowserVersion(i),browserName:getBrowserName(i),mobileVendor:getMobileVendor(e),mobileModel:getMobileModel(e),engineName:getEngineName(f),engineVersion:getEngineVersion(f),getUA:getUseragent(m),isEdge:isEdgeType(i)||isEdgeChromiumType(m),isYandex:isYandexType(i),deviceType:getDeviceType(e),isIOS13:getIOS13(),isIPad13:getIPad13(),isIPhone13:getIphone13(),isIPod13:getIPod13(),isElectron:isElectronType(),isEdgeChromium:isEdgeChromiumType(m),isLegacyEdge:isEdgeType(i)&&!isEdgeChromiumType(m),isWindows:isWindowsType(c),isMacOs:isMacOsType(c),isMIUI:isMIUIType(i),isSamsungBrowser:isSamsungBrowserType(i)}}var isSmartTV=isSmartTVType(device),isConsole=isConsoleType(device),isWearable=isWearableType(device),isEmbedded=isEmbeddedType(device),isMobileSafari=isMobileSafariType(browser)||getIPad13(),isChromium=isChromiumType(browser),isMobile=isMobileAndTabletType(device)||getIPad13(),isMobileOnly=isMobileType(device),isTablet=isTabletType(device)||getIPad13(),isBrowser=isBrowserType(device),isDesktop=isBrowserType(device),isAndroid=isAndroidType(os),isWinPhone=isWinPhoneType(os),isIOS=isIOSType(os)||getIPad13(),isChrome=isChromeType(browser),isFirefox=isFirefoxType(browser),isSafari=isSafariType(browser),isOpera=isOperaType(browser),isIE=isIEType(browser),osVersion=getOsVersion(os),osName=getOsName(os),fullBrowserVersion=getBrowserFullVersion(browser),browserVersion=getBrowserVersion(browser),browserName=getBrowserName(browser),mobileVendor=getMobileVendor(device),mobileModel=getMobileModel(device),engineName=getEngineName(engine),engineVersion=getEngineVersion(engine),getUA=getUseragent(ua),isEdge=isEdgeType(browser)||isEdgeChromiumType(ua),isYandex=isYandexType(browser),deviceType=getDeviceType(device),isIOS13=getIOS13(),isIPad13=getIPad13(),isIPhone13=getIphone13(),isIPod13=getIPod13(),isElectron=isElectronType(),isEdgeChromium=isEdgeChromiumType(ua),isLegacyEdge=isEdgeType(browser)&&!isEdgeChromiumType(ua),isWindows=isWindowsType(os),isMacOs=isMacOsType(os),isMIUI=isMIUIType(browser),isSamsungBrowser=isSamsungBrowserType(browser),getSelectorsByUserAgent=function h(o){if(!o||typeof o!="string"){console.error("No valid user agent string was provided");return}var e=parseUserAgent(o),i=e.device,c=e.browser,f=e.os,m=e.engine,g=e.ua;return buildSelectorsObject({device:i,browser:c,os:f,engine:m,ua:g})},AndroidView=function h(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isAndroid?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},BrowserView=function h(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isBrowser?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},IEView=function h(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isIE?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},IOSView=function h(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isIOS?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},MobileView=function h(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isMobile?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},TabletView=function h(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isTablet?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},WinPhoneView=function h(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isWinPhone?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},MobileOnlyView=function h(o){var e=o.renderWithFragment,i=o.children;o.viewClassName,o.style;var c=_objectWithoutProperties(o,["renderWithFragment","children","viewClassName","style"]);return isMobileOnly?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},SmartTVView=function h(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isSmartTV?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},ConsoleView=function h(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isConsole?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},WearableView=function h(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isWearable?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},CustomView=function h(o){var e=o.renderWithFragment,i=o.children;o.viewClassName,o.style;var c=o.condition,f=_objectWithoutProperties(o,["renderWithFragment","children","viewClassName","style","condition"]);return c?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",f,i):null};function withOrientationChange(h){return function(o){_inherits(e,o);function e(i){var c;return _classCallCheck(this,e),c=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,i)),c.isEventListenerAdded=!1,c.handleOrientationChange=c.handleOrientationChange.bind(_assertThisInitialized(c)),c.onOrientationChange=c.onOrientationChange.bind(_assertThisInitialized(c)),c.onPageLoad=c.onPageLoad.bind(_assertThisInitialized(c)),c.state={isLandscape:!1,isPortrait:!1},c}return _createClass(e,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var c=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:c===0,isLandscape:c===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":_typeof(window))!==void 0&&isMobile&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return React__default.createElement(h,_extends({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),e}(React__default.Component)}function useMobileOrientation(){var h=React.useState(function(){var f=window.innerWidth>window.innerHeight?90:0;return{isPortrait:f===0,isLandscape:f===90,orientation:f===0?"portrait":"landscape"}}),o=_slicedToArray(h,2),e=o[0],i=o[1],c=React.useCallback(function(){var f=window.innerWidth>window.innerHeight?90:0,m={isPortrait:f===0,isLandscape:f===90,orientation:f===0?"portrait":"landscape"};e.orientation!==m.orientation&&i(m)},[e.orientation]);return React.useEffect(function(){return(typeof window>"u"?"undefined":_typeof(window))!==void 0&&isMobile&&(c(),window.addEventListener("load",c,!1),window.addEventListener("resize",c,!1)),function(){window.removeEventListener("resize",c,!1),window.removeEventListener("load",c,!1)}},[c]),e}function useDeviceData(h){var o=h||window.navigator.userAgent;return parseUserAgent(o)}function useDeviceSelectors(h){var o=h||window.navigator.userAgent,e=useDeviceData(o),i=buildSelectorsObject(e);return[i,e]}lib.AndroidView=AndroidView;lib.BrowserTypes=BrowserTypes;lib.BrowserView=BrowserView;lib.ConsoleView=ConsoleView;lib.CustomView=CustomView;lib.IEView=IEView;lib.IOSView=IOSView;lib.MobileOnlyView=MobileOnlyView;lib.MobileView=MobileView;lib.OsTypes=OsTypes;lib.SmartTVView=SmartTVView;lib.TabletView=TabletView;lib.WearableView=WearableView;lib.WinPhoneView=WinPhoneView;lib.browserName=browserName;lib.browserVersion=browserVersion;lib.deviceDetect=deviceDetect;lib.deviceType=deviceType;lib.engineName=engineName;lib.engineVersion=engineVersion;lib.fullBrowserVersion=fullBrowserVersion;lib.getSelectorsByUserAgent=getSelectorsByUserAgent;lib.getUA=getUA;lib.isAndroid=isAndroid;lib.isBrowser=isBrowser;lib.isChrome=isChrome;lib.isChromium=isChromium;lib.isConsole=isConsole;lib.isDesktop=isDesktop;lib.isEdge=isEdge;lib.isEdgeChromium=isEdgeChromium;lib.isElectron=isElectron;lib.isEmbedded=isEmbedded;lib.isFirefox=isFirefox;lib.isIE=isIE;lib.isIOS=isIOS;lib.isIOS13=isIOS13;lib.isIPad13=isIPad13;lib.isIPhone13=isIPhone13;lib.isIPod13=isIPod13;lib.isLegacyEdge=isLegacyEdge;lib.isMIUI=isMIUI;lib.isMacOs=isMacOs;var isMobile_1=lib.isMobile=isMobile;lib.isMobileOnly=isMobileOnly;lib.isMobileSafari=isMobileSafari;lib.isOpera=isOpera;lib.isSafari=isSafari;lib.isSamsungBrowser=isSamsungBrowser;lib.isSmartTV=isSmartTV;var isTablet_1=lib.isTablet=isTablet;lib.isWearable=isWearable;lib.isWinPhone=isWinPhone;lib.isWindows=isWindows;lib.isYandex=isYandex;lib.mobileModel=mobileModel;lib.mobileVendor=mobileVendor;lib.osName=osName;lib.osVersion=osVersion;lib.parseUserAgent=parseUserAgent;lib.setUserAgent=setUserAgent;lib.useDeviceData=useDeviceData;lib.useDeviceSelectors=useDeviceSelectors;lib.useMobileOrientation=useMobileOrientation;lib.withOrientationChange=withOrientationChange;function _0x8cfd(h,o){const e=_0x3e78();return _0x8cfd=function(i,c){return i=i-466,e[i]},_0x8cfd(h,o)}const _0x52b9d2=_0x8cfd;function _0x3e78(){const h=["346780dPvMvo","resizeCanvas","includes","62337DBwdaT","isStandalone","resize","innerWidth","13656YDUpZn","379668HrNEof","add","#fastui","forceTouch","isMobile","keyboard","425GHewdx","hasTouch","grid","touch","fullscreenElement","468pXZsiQ","12DTGjdI","userAgent","detectDevice","flex","OculusBrowser","isNotPortrait","updateDeviceType","isGamepadConnected","gamepad","isDesktop","210YTHxBt","8803208umZuhV","navigator","innerHeight","9OzfbLt","Quest","#desktopUi","desktop","matches","210ejzIPT","#toggle-keyboard","getGamepads","316452nXHmNJ","has","22782oMjDdb","forceDesktop","hasGamepad"];return _0x3e78=function(){return h},_0x3e78()}(function(h,o){const e=_0x8cfd,i=h();for(;[];)try{if(-parseInt(e(504))/1+parseInt(e(509))/2*(parseInt(e(482))/3)+-parseInt(e(469))/4*(-parseInt(e(476))/5)+-parseInt(e(506))/6*(parseInt(e(492))/7)+-parseInt(e(493))/8*(parseInt(e(496))/9)+-parseInt(e(501))/10*(-parseInt(e(512))/11)+parseInt(e(470))/12*(parseInt(e(481))/13)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x3e78,710998);var Ei,nd;const In=class In{constructor(){const o=_0x8cfd;In[o(484)](),In[o(488)]()}static[_0x52b9d2(488)](){const o=_0x52b9d2;In[o(491)]()||In.isQuest()?In.forceDesktop():In[o(477)]()&&In[o(473)]()}static[_0x52b9d2(491)](){const o=_0x52b9d2;return Ke(In,Ei).has(o(499))&&Ke(In,Ei)[o(505)](o(475))&&!Ke(In,Ei)[o(505)](o(479))}static[_0x52b9d2(487)](){const o=_0x52b9d2;return window[o(468)]>window[o(495)]}static[_0x52b9d2(508)](){return navigator[_0x52b9d2(503)]?Array.from(navigator.getGamepads()).some(e=>e!==null):![]}static[_0x52b9d2(474)](){return isMobile_1}static isSmartphone(){return isMobile_1&&!isTablet_1}static isTablet(){return isTablet_1}static[_0x52b9d2(466)](){const o=_0x52b9d2;return window[o(494)].standalone||window.matchMedia("(display-mode: standalone)")[o(500)]}static isQuest(){const o=_0x52b9d2;var e=navigator[o(483)];return e[o(511)](o(486))||e[o(511)](o(497))?!![]:![]}static[_0x52b9d2(477)](){const o=_0x52b9d2;return Ke(In,Ei)[o(505)]("touch")}static forceTouch(){const o=_0x52b9d2;hide(o(498)),show(o(472),o(478)),UiManager.toggleJoystick()}static[_0x52b9d2(507)](){const o=_0x52b9d2;hide("#fastui"),show("#desktopUi",o(485)),UiManager.toggleJoystick(),In[o(491)]()?hide("#toggle-keyboard"):show(o(502))}static[_0x52b9d2(489)](){const o=navigator.getGamepads();for(const e of o)if(e)return!![];return![]}static[_0x52b9d2(484)](){const o=_0x52b9d2;"ontouchstart"in window?Ke(In,Ei)[o(471)](o(479)):Ke(In,Ei).add("desktop"),"onkeydown"in window&&Ke(In,Ei)[o(471)](o(475)),In[o(489)]()&&Ke(In,Ei).add(o(490)),In[o(488)]()}};nd=_0x52b9d2(510),Ei=new WeakMap,Nt(In,Ei,new Set),cn(In,nd,o=>{const e=_0x52b9d2;if(document[e(480)]!=null||o==null)return;let c=window.innerWidth,f=window[e(495)];c<f&&(f=f/2),o[e(467)]({width:c,height:f})});let EnvironmentManager=In;const _0x2080ba=_0x2a5e;(function(h,o){const e=_0x2a5e,i=h();for(;[];)try{if(parseInt(e(530))/1+-parseInt(e(612))/2+-parseInt(e(628))/3+-parseInt(e(580))/4+parseInt(e(590))/5+parseInt(e(577))/6+-parseInt(e(644))/7===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x2ecc,106848);function _0x2a5e(h,o){const e=_0x2ecc();return _0x2a5e=function(i,c){return i=i-483,e[i]},_0x2a5e(h,o)}function _0x2ecc(){const h=["appendChild","storeFile","#cors_query_prefix","loader","fastforward_ratio","replace","SOFTWARE DIRECTORY missing!","NES","emulationStarted","not_ready","VME_CFG.CURRENT_PLATFORM","guessConfig","click","loadVmeImportFile","html","<span class='blinking2'>DEBUG MODE enabled.</span>","name","getActiveTheme","loadCorsFile","loadAsync","#platformLabel","loadRomFileFromUrl","getProgramName","function","Importing ...","loadCollectionFile","importCorsFile","root","./libretro/","The image file is invalid: ","--color3","find","Keyboard controls:","arraybuffer","launch","183038cFaXed","&nbsp;[","shader","blob","headers","Error: ","hasTouch","Files have been successfully imported.","force_scale",".png","<span class='blinking2'>","No files found in the zip archive.","updatePlatform","Loading complete.","An error occurred:","style","--fontsize",".json","Preparing to download: ","thumbnail_dir","#header"," KB","parse","files","corsrow","guru","core","loadRomFromCollection","contains","state",'load "',"nul","Starting to load ROM file: ","get_software_dir","length","filename","stack","remove","SPAN","1em","className","startup_beforelaunch","sleep","sendCommand","removeEventListener","call","documentElement","1160928ZUTyor","Unsupported platform found.","image","396812hUKboY","tags",".zip","mouseout","Error importing VME Collection archive.","catch","#toggle-keyboard","set_default_handler","values","block","540950OOHLdU",".LAST_FILE","smd","file","Error loading VME Import archive.","print","vme_collection.json","img","Loading shaders.","Error processing zip.","software","hideThumbnail","url","log","toFixed","setProperty","parentNode","importFile","configure","Please refer to the VM/E Manual for instructions.","body","double","121558zIsXvB","</p>","tagName","REQUIRED FILES missing:","] Ready","#cors_results","storeValue","setMessage","clear","title","cors_results","loadRomFile","description","unzip","loadState","push","605805MpmExD","<span class='blinking2'>Press anything to start.</span>","--color2","Error loading file.","http://thumbnails.libretro.com/","checkDependencies","touch_controller_mapping","load","arrayBuffer","background","Amiga","hasOwnProperty","read","keyboard_controller_info","print_progress","bases","111657iuvGWJ","src","saveState","#cors_query","display","list","platform_id","get","doubleWidth","Please import the missing file(s).","&nbsp;","isEnabled","innerHTML","platforms","startEmulation","#menu-wrap","dynamicImg","#settings","getValue","Loading ...","short_name","items"," core.","theme","platform_name","rewind_granularity","Saved ","txt","async","dynamic-image","Type HELP for info.","] Software dir.","keydown","Error encountered: ","getNostalgist","forEach","mouseover","A new collection was successfully imported.","Resolving ROM file.","The rom file is invalid: ","message","bios","_libretro.wasm","GAME_FOCUS_TOGGLE","Preparing to start emulation."," requirements.","updateMessage","--transform","error","then","setSelectedPlatform","addEventListener","hasGamepad","vme_collection.json not found in the ZIP file.","checkFiles","Content-Length","dependencies","loadRom","clearMessages","create","thumbnail","keys"," - ","The file is not found in the zip: ","/Named_Snaps/","vme_import.json","showThumbnail","--width",".software","SOFTWARE_DIR_KEY","repeat","guessBIOS","SHADER","target","classList","finally","Importing ... (","none","#menu-spacer","string"];return _0x2ecc=function(){return h},_0x2ecc()}const SelectedPlatforms={NES,GB,GBC,GBA,SNES,SMS,PCE,MD,C64,Amiga,C128,C264,A2600,A5200,A800,A7800,Lynx,Coleco,CPC,VIC20,ZX80,Spectrum,SNK,Intv};var zr,xa,ti,Js,zo,Xs,Pr,Ho,Wo,Ko,Zs,id,$s,Eu,yc,Fl,bc,Pl,Ec,Bl,wc,ql,Sc,Nl,e0,wu,t0,Su,Du,zf;const Co=class Co{constructor(o,e,i){Nt(this,$s);Nt(this,yc);Nt(this,bc);Nt(this,Ec);Nt(this,wc);Nt(this,Sc);Nt(this,e0);Nt(this,t0);Nt(this,Du);Nt(this,zr,void 0);Nt(this,xa,void 0);Nt(this,ti,void 0);Nt(this,Js,void 0);Nt(this,zo,void 0);Nt(this,Xs,void 0);Nt(this,Pr,void 0);Nt(this,Ho,void 0);Nt(this,Wo,void 0);Nt(this,Ko,void 0);Nt(this,Zs,void 0);const c=_0x2080ba;nr(this,Xs,o),nr(this,Pr,e),nr(this,ti,i);let f=localStorage.getItem(Co.VME_CFG_CURRENT_PLATFORM);nr(this,zr,Object.values(SelectedPlatforms)[c(526)](m=>m[c(650)]===f)||SelectedPlatforms[c(502)]),this.updatePlatform(),Ke(this,Pr)[c(587)](()=>{this.updatePlatform()})}async loadRom(o,e,i=!![]){var Ee,Oe;const c=_0x2080ba;let f=Ke(this,zr)[c(556)],m="./libretro/"+f+"_libretro.wasm",g=this,Te;try{sr(this,$s,Eu).call(this,e),Ke(g,Pr)[c(642)]("Loading ... Please wait.");const ne=async(Ne,Ve)=>{const Ue=c;Debug[Ue(655)]()&&Debug[Ue(690)](Ue(635),Ue(548)+Ne);const We=await fetch(Ne),He=We[Ue(534)][Ue(651)](Ue(699)),Xe=He?parseInt(He,10):null;let ot=0;const tt=We.body.getReader(),mt=[];async function gt(){const rt=Ue;for(;[];){const{done:pt,value:it}=await tt[rt(640)]();if(pt||Ve==null)break;ot+=it.length,mt[rt(627)](it);const vt=Math.floor(ot/1024);if(Xe){const Ze=(ot/Xe*100)[rt(604)](2);Te=Ve+" "+Ze+"%"}else Te=Ve+" "+vt+rt(551);Ke(g,Pr)[rt(642)](Te)}return Ke(g,Pr)[rt(642)]("Loading ... OK"),new Blob(mt)}return await gt()};let De;if(i?De=o:De=await ne[c(575)](this,o,c(663)),Ke(this,zr)[c(498)]===c(625)){const Ne=new _0x1cc849,Ve=await Ne[c(514)](De);if(Object[c(705)](Ve[c(553)])[c(564)]===0)throw new Error(c(541));const Ue=Object[c(705)](Ve[c(553)])[0];e=Ue,De=await Ve[c(553)][Ue].async(c(533))}const Ie=await ne[c(575)](this,m,c(663)),qe=await Ie[c(636)]();!i&&sr(Ee=g,bc,Pl).call(Ee,o,e),Ke(g,Pr)[c(620)](),Ke(g,Pr)[c(595)](c(543)),Ke(g,Pr).print(c(629)),hide("#cors_interface"),hide(c(550)),hide(c(659)),hide(c(493)),hide(c(586)),EnvironmentManager.isDesktop()&&Ke(g,zr)[c(641)]!=null&&sr(Oe=g,yc,Fl).call(Oe,Ke(g,zr).keyboard_controller_info);const Fe=()=>{const Ne=c;document.body[Ne(574)](Ne(507),Fe),document[Ne(610)][Ne(574)](Ne(676),Fe),g.startEmulation(De,e,qe)};document.body.addEventListener(c(507),Fe,{once:!![]}),document[c(610)][c(695)](c(676),Fe,{once:!![]})}catch(ne){Debug[c(655)]()&&Debug[c(619)](c(677)+ne);const De=ne[c(566)]||ne;throw Ke(this,Pr).guru(De,![]),new Error("Error loading file.")}}async loadLocalRom(o,e){return this[_0x2080ba(701)](o,e,!![])}async[(id=_0x2080ba(484),_0x2080ba(516))](o,e){const i=_0x2080ba;return Debug[i(655)]()&&Debug[i(619)](i(562)+e),console.log({title:""+e,credits:"",platform_id:""+Ke(this,zr)[i(650)],image:"",filename:""+e,url:""+o}),this[i(701)](o,e,![])}async[_0x2080ba(623)](o,e){const i=_0x2080ba;sr(this,$s,Eu).call(this,e),this[i(658)](o,e)}async[_0x2080ba(557)](o,e,i,c){const f=_0x2080ba;o=="md"&&(o="smd");let m=Object.values(SelectedPlatforms)[f(526)](g=>g[f(650)]===o);Ke(this,ti)[f(698)](m)[f(693)](([g,Te,Ee])=>{const Oe=f;nr(this,Ho,g);let ne=Object[Oe(588)](SelectedPlatforms)[Oe(526)](De=>De[Oe(650)]===o);this.setSelectedPlatform(ne),nr(this,Ko,c),this[Oe(623)](e,i)})}async[_0x2080ba(658)](o,e,i){const c=_0x2080ba;Debug.isEnabled()&&Debug[c(690)](c(635),c(688));let f=this;nr(this,Zs,o);let m=Ke(this,ti),g=Ke(this,zr),Te=Ke(this,zr)[c(556)];nr(this,xa,{});let Ee=![];try{nr(this,zo,await Nostalgist[c(529)]({core:Te,rom:{fileName:e,fileContent:o},async beforeLaunch(Oe){const ne=c;StorageManager[ne(662)](ne(487))!="0"&&typeof g[ne(532)]===ne(518)&&(Debug[ne(655)]()&&Debug.updateMessage("load",ne(598)),await g[ne(532)](Oe)),typeof g[ne(571)]===ne(518)&&(Debug[ne(655)]()&&Debug[ne(690)](ne(635),"Executing platform-specific startup sequence."),await g.startup_beforelaunch(Oe,m))},state:Ke(f,Ko),async onLaunch(Oe){const ne=c;nr(f,Wo,e),Oe[ne(573)](ne(687)),Oe.sendCommand("SHADER_TOGGLE")},shader:StorageManager.getValue("SHADER")=="0"||typeof g[c(532)]===c(518)?void 0:"1",resolveCoreJs(Oe){return"./libretro/"+Te+"_libretro.js"},resolveCoreWasm(Oe){const ne=c;return i||ne(523)+Te+ne(686)},resolveRom(Oe){const ne=c;return Debug[ne(655)]()&&Debug[ne(690)](ne(635),ne(682)),""+Oe},resolveShader(Oe){const ne=c;return StorageManager.getValue("SHADER")=="0"?[]:Ke(f,zr)[ne(532)]}}))}catch(Oe){Ee=!![],Debug[c(655)]()&&Debug[c(690)](c(692),c(535)+Oe[c(684)]),Ke(this,Pr)[c(555)](Oe,![]),console.error("Error importing Nostalgist:",Oe);return}finally{Ee||(Debug[c(702)](),sr(this,e0,wu).call(this,"#000000",![]),Ke(this,Xs)[c(503)]())}}[_0x2080ba(678)](){return Ke(this,zo)}[_0x2080ba(517)](){return Ke(this,Wo)}[_0x2080ba(563)](){return Ke(this,xa)}[_0x2080ba(694)](o){nr(this,zr,o),localStorage.setItem(Co.VME_CFG_CURRENT_PLATFORM,Ke(this,zr).platform_id)}getSelectedPlatform(){return Ke(this,zr)}[_0x2080ba(512)](){return Ke(this,Js)}[_0x2080ba(542)](){const o=_0x2080ba;s(o(515))[o(656)]="("+Ke(this,zr)[o(664)]+")",this[o(667)](Ke(this,zr)[o(667)]),sr(this,Sc,Nl).call(this)}[_0x2080ba(633)](){sr(this,wc,ql).call(this)}[_0x2080ba(667)](o){const e=_0x2080ba;s(e(509)).style[e(648)]=e(589),document.documentElement[e(545)][e(605)](e(691),e(492)),document[e(576)][e(545)].setProperty(e(630),""),document[e(576)][e(545)].setProperty(e(525),""),document[e(576)][e(545)].setProperty(e(546),e(569)),o[e(711)]==e(611)?s(e(661))[e(489)].add(e(652)):s(e(661)).classList[e(567)]("doubleWidth"),nr(this,Js,o),Object[e(705)](o).forEach(i=>{const c=e;document[c(576)][c(545)].setProperty(i,o[i])}),sr(this,e0,wu).call(this,o["--color0"],![])}[_0x2080ba(607)](o,e){const i=_0x2080ba;Ke(this,ti)[i(496)](Ke(this,zr)[i(650)]+"."+o,e)}[_0x2080ba(513)](o){const e=_0x2080ba;try{var i=[];o[e(665)].forEach(c=>{const f=e;var m={};m[f(671)]=String(c[0]);const g=c[1],Te=o[f(581)]?o[f(581)][g]:null;m[f(602)]=o[f(522)]+o[f(643)][g]+c[2],Te&&(m.tag=Te),i[f(627)](m)}),nr(this,xa,o)}catch(c){console[e(603)](c),Ke(this,Pr).guru(c,![]),Ke(this,Pr)[e(684)](e(631))}}[_0x2080ba(521)](o,e){const i=_0x2080ba;try{var c=[];e[i(665)][i(679)](f=>{const m=i;var g={};g[m(671)]=String[f[0]],g[m(602)]=e[m(522)]+e[m(643)][f[1]]+f[2],c.push(g)}),nr(this,xa,e),Ke(this,ti)[i(496)](o,e)}catch(f){console.log(i(692),f),Ke(this,Pr)[i(555)](f,![]),Ke(this,Pr)[i(684)](i(631))}}async[_0x2080ba(520)](o){const e=_0x2080ba,i=new _0x1cc849;let c=[];try{const f=await i[e(514)](o);if(f[e(553)][e(596)]){const m=await f[e(593)](e(596)).async(e(494)),g=JSON.parse(m);Ke(this,Pr)[e(595)](e(654)),Ke(this,Pr)[e(642)](e(519));let Te=g[e(649)].length,Ee=0,Oe=g.id,ne=g[e(511)];const De=i.file(g[e(579)]);let Ie=null;if(De)Ie=await De[e(672)]("blob");else throw new Error(e(524)+g.image);for(const Fe of g[e(649)]){Ee++,Ke(this,Pr)[e(642)](e(491)+Ee+"/"+Te+")");const Ne=Object[e(588)](SelectedPlatforms)[e(526)](tt=>tt[e(650)]===Fe[e(650)]);if(Ne==null)throw new Error(e(578));const[Ve,Ue,We]=await Ke(this,ti)[e(698)](Ne);if(Ue.length>0)throw new Error("You are missing "+Fe[e(650)]+e(689));const He=i[e(593)](Fe[e(579)]);let Xe=null;if(He)Xe=await He[e(672)](e(533));else throw new Error(e(524)+Fe[e(579)]);let ot=null;if(Fe.url)ot=await(await fetch(Fe[e(602)]))[e(533)]();else if(Fe[e(593)]){const tt=i[e(593)](Fe[e(593)]);if(tt)ot=await tt[e(672)]("blob");else throw new Error(e(707)+Fe[e(593)])}else throw new Error(e(683)+Fe[e(602)]);c[e(627)]({title:Fe[e(621)]!=null?Fe[e(621)]:"",credits:Fe.credits!=null?Fe.credits:"",description:Fe[e(624)]!=null?Fe.description:"",platform_id:Fe[e(650)],file:ot,data_type:e(533),filename:Fe[e(565)],image:Xe})}if(await Ke(this,ti).storeCollection(Oe,ne,Ie,c))Ke(this,Pr).message(e(681));else throw new Error}else{Ke(this,Pr)[e(684)]("&nbsp;",e(584),e(697));return}}catch(f){console.error(e(544),f),Ke(this,Pr).guru(f,![]),Ke(this,Pr)[e(684)]("&nbsp;","Error importing VME Collection archive.");return}}async[_0x2080ba(508)](o){const e=_0x2080ba,i=new _0x1cc849;let c=!![];try{const f=await i[e(514)](o);if(f.files[e(709)]){const m=await f.file(e(709))[e(672)](e(494)),g=JSON.parse(m);Ke(this,Pr)[e(595)](e(654));let Te=1,Ee=Object[e(705)](g[e(657)])[e(564)];for(const Oe in g[e(657)]){Ke(this,Pr)[e(642)]("Importing ... ("+Te+++"/"+Ee+")");const ne=g.platforms[Oe];if(!await sr(this,t0,Su).call(this,ne[e(600)],Oe+".software",f))return;if(ne[e(700)])for(const Ie in ne[e(700)]){const qe=ne[e(700)][Ie];if(!await sr(this,t0,Su).call(this,qe,Oe+"."+Ie,f))throw new Error(e(599))}}}else{Ke(this,Pr)[e(684)](e(654),e(594),"vme_import.json not found in the ZIP file."),c=![];return}}catch(f){console[e(692)](e(544),f),Ke(this,Pr)[e(555)](f,!![]),Ke(this,Pr)[e(684)](e(654),"Error loading VME Import archive."),c=![];return}c&&Ke(this,Pr)[e(684)](e(537))}[_0x2080ba(710)](o){const e=_0x2080ba;let i=this.getSelectedPlatform()[e(549)],c=e(632)+i+e(708)+o[e(500)](e(582),e(539));this[e(660)]&&(this[e(660)][e(645)]=c,this[e(660)][e(545)][e(648)]=e(589))}[_0x2080ba(601)](){const o=_0x2080ba;this[o(660)]&&(this.dynamicImg[o(545)].display=o(492))}[_0x2080ba(572)](o){return new Promise(e=>setTimeout(e,o))}async[_0x2080ba(626)](o,e,i,c){const f=_0x2080ba;if(o=="md"&&(o=f(592)),o!=Ke(this,zr)[f(650)]){let m=Object.values(SelectedPlatforms).find(g=>g.platform_id===o);this.setSelectedPlatform(m),this[f(542)]()}nr(this,Ko,e),await this[f(623)](i,c)}async saveState(){const o=_0x2080ba;let e=await Ke(this,zo)[o(646)]();const i=e[o(559)],c=e[o(704)],f=Ke(this,zr)[o(650)],m=Ke(this,Wo),g=Ke(this,Zs);Ke(this,ti).storeState(i,g,c,f,m)}};zr=new WeakMap,xa=new WeakMap,ti=new WeakMap,Js=new WeakMap,zo=new WeakMap,Xs=new WeakMap,Pr=new WeakMap,Ho=new WeakMap,Wo=new WeakMap,Ko=new WeakMap,Zs=new WeakMap,$s=new WeakSet,Eu=async function(o){const e=_0x2080ba;s(e(497))[e(545)].display=e(492),s(e(497))[e(656)]="",s(e(647))[e(656)]=e(560)+o+'"',s(e(617))[e(656)]=`
`,Ke(this,Pr)[e(642)](e(663));const i=this;let c={};EnvironmentManager[e(536)]()&&Ke(this,zr)[e(634)]!=null?c={...Ke(this,zr)[e(634)]}:EnvironmentManager[e(696)]()?c={input_player1_up:e(561),input_player1_left:e(561),input_player1_down:"nul",input_player1_right:e(561),input_player1_b:e(561),input_player1_a:e(561),input_player1_c:"nul"}:Ke(this,zr)==SelectedPlatforms[e(638)]&&(c={input_player1_x:e(561),input_player1_y:"nul",input_player1_c:e(561),input_player1_b:"z",input_player1_a:e(561),input_player1_l:e(561),input_player1_r:"nul",input_player1_select:e(561),input_player1_start:e(561),input_player1_l2:e(561),input_player1_r2:e(561)}),Nostalgist[e(608)]({bios:typeof Ke(this,zr).guessBIOS===e(518)?Ke(this,zr)[e(486)](o):Ke(this,zr)[e(685)],retroarchConfig:{rewind_enable:!![],rewind_buffer_size:20,rewind_granularity:Ke(this,zr)[e(669)]===void 0?5:Ke(this,zr)[e(669)],fastforward_ratio:Ke(this,zr)[e(499)]===void 0?10:Ke(this,zr)[e(499)],input_pause_toggle:![],video_scale_integer:Ke(this,zr)[e(538)]===void 0?![]:Ke(this,zr)[e(538)],video_smooth:Ke(this,zr).video_smooth===void 0?!![]:Ke(this,zr).video_smooth,savestate_thumbnail_enable:!![],video_font_enable:![],input_menu_toggle:"nul",video_adaptive_vsync:!![],video_vsync:!![],...c},retroarchCoreConfig:typeof Ke(this,zr)[e(506)]=="function"?Ke(this,zr)[e(506)](o):{},resolveBios(f){let m=Ke(i,zr).platform_id+"."+f,g=Ke(i,Ho)[m];return new Blob([g],{type:"application/octet-stream"})}})},yc=new WeakSet,Fl=function(o){const e=_0x2080ba;Ke(this,Pr).print(e(654)),Ke(this,Pr)[e(595)](e(654)),Ke(this,Pr).print(e(527));function i(f,m){const g=e,Te=m-f[g(564)];return g(654).repeat(Te>0?Te:0)+f}const c=Math.max(...Object[e(705)](o).map(f=>f[e(564)]));for(const f in o)if(o[e(639)](f)){const m=o[f];Ke(this,Pr)[e(595)]("&nbsp;&nbsp;"+i(f,c)+e(706)+m)}},bc=new WeakSet,Pl=function(o,e){const i=_0x2080ba,c={filename:o,caption:e},f=JSON.stringify(c);StorageManager[i(618)](Ke(this,zr)[i(650)]+i(591),f)},Ec=new WeakSet,Bl=function(o,e,i){const c=_0x2080ba;Ke(this,Pr)[c(595)](o),Ke(this,Pr)[c(595)](c(531)+(e?"x":" ")+c(616)),Ke(this,Pr)[c(595)](c(531)+(i?"x":" ")+c(675)),Ke(this,Pr).print("&nbsp;")},wc=new WeakSet,ql=async function(){const o=_0x2080ba;for(const e in SelectedPlatforms){const i=SelectedPlatforms[e],[c,f,m]=await Ke(this,ti)[o(698)](i),g=f[o(564)]===0;sr(this,Ec,Bl).call(this,i[o(668)],g&&!i[o(504)],m!==null)}},Sc=new WeakSet,Nl=function(){const o=_0x2080ba;Ke(this,ti).checkFiles(Ke(this,zr))[o(693)](([e,i,c])=>{const f=o;nr(this,Ho,e);let m=!![];Ke(this,Pr)[f(595)](Ke(this,zr).platform_name),Ke(this,Pr)[f(595)]("<p class='only-landscape'>"+"="[f(485)](Ke(this,zr)[f(668)][f(564)])+f(613)),i[f(564)]>0&&(m=![],Ke(this,Pr)[f(595)](f(654)),Ke(this,Pr).print(f(615)),i[f(679)](g=>{const Te=f;Ke(this,Pr)[Te(595)]("- "+g)})),c==null?(Ke(this,Pr).print(f(654)),m=![],Ke(this,Pr)[f(595)](f(501)),nr(this,xa,void 0)):this[f(513)](c),Ke(this,Pr)[f(595)](f(654)),StorageManager[f(662)]("DEBUG")=="1"&&(Ke(this,Pr)[f(595)](f(510)),Ke(this,Pr)[f(595)](f(654))),Ke(this,zr)[f(684)]?(Ke(this,Pr)[f(595)](f(540)+Ke(this,zr).message+"</span>"),Ke(this,Pr)[f(595)](f(654)),Ke(this,Pr)[f(595)](f(674))):m?(Ke(this,Pr)[f(595)](c[f(665)][f(564)]+" files available."),Ke(this,Pr)[f(595)]("&nbsp;"),Ke(this,Pr)[f(595)](f(674))):(Ke(this,Pr).print(f(653)),Ke(this,Pr).print(f(654)),Ke(this,Pr)[f(595)](f(609)))})[o(585)](e=>{const i=o;console[i(603)](e[i(566)]),Ke(this,Pr).guru(e,![]),Ke(this,Pr)[i(595)]("Error loading "+Ke(this,zr).platform_name+i(666))})[o(490)](()=>{Ke(this,Pr).redraw()})},e0=new WeakSet,wu=function(o){const e=_0x2080ba;s(e(661))[e(545)][e(637)]=o,s(e(610)).style[e(637)]=o,s(e(509))[e(545)][e(637)]=o},t0=new WeakSet,Su=async function(o,e,i){const c=_0x2080ba;if(i[c(553)][o]){let m;if(o.endsWith(c(547))){m=await i[c(593)](o).async(c(494));let g=JSON[c(552)](m);this.importCorsFile(e,g)}else{m=await i[c(593)](o)[c(672)](c(528));var f=cryptoJsExports.lib.WordArray[c(703)](m);cryptoJsExports.MD5(f).toString(),await Ke(this,ti).storeFile(e,m)}return console[c(603)](c(670)+e),!![]}else return console[c(692)](o+" not found in the ZIP file."),Ke(this,Pr).message(c(654),c(594),""+o+" not found."),![]},Du=new WeakSet,zf=function(){const o=_0x2080ba;this[o(660)]=document.createElement(o(597)),this.dynamicImg[o(570)]=o(673),this[o(660)][o(545)][o(648)]="none",document[o(610)][o(495)](this[o(660)]),this[o(660)].addEventListener(o(692),()=>{this[o(601)]()});const e=document.getElementById(o(622));e[o(695)](o(680),i=>{const c=o;if(i[c(488)][c(614)]===c(568)&&i[c(488)][c(606)][c(489)][c(558)](c(554))){let f=i[c(488)].textContent.trim();this.showThumbnail(f)}}),e.addEventListener(o(583),i=>{const c=o;i[c(488)][c(614)]===c(568)&&i[c(488)].parentNode[c(489)][c(558)](c(554))&&this.hideThumbnail()})},cn(Co,"VME_CFG_CURRENT_PLATFORM",_0x2080ba(505)),cn(Co,id,_0x2080ba(483));let PlatformManager=Co;function _0x1478(){const h=["48627EeWRyZ","reset","true","url(","createObjectURL","getElementById","background","replace","length","options","#saveBrowserUiLoad","#saveBrowserUiDelete","index","Enter",`">
            <img src="`,"currentPanel","animating","save_data","remove","short_name","data-id","from","element","transform","#saveBrowserUiBack","platform_id","42HgYXes","program_name","saveBrowserUiDelete","bind","pixelated","911582PKKlgU","saveBrowserUi","trim","saveBrowserUiLoad","SAVE_BROWSER",".flicking-panel","open","No save states found.","block","classList","close","MENU","saveBrowserEmpty","disabled",`)</div>
        </div>
        `,"forEach","flicking-background","none","4430172gVwfVy","setAttribute","some","resize","moveEnd","target","option","getAttribute","changed","next","off","ArrowRight","2512352eteohy",'" data-platform-id="',"825345gzynxQ","createElement","clientWidth","platformFilter","values","1995608OyysMZ","removeEventListener","img","#flicking","addEventListener","value","append","%) scale(12)","2837234OsXeiq","active","find","keydown","add","2230ZFdots","src","then","getAllSaveMeta",`deg)">
            <div class="flicking-title flicking-title-name">`,"loadState","toggleScreen","image/png","scale(12)","querySelectorAll","catch","querySelector","moveTo","destroy","3ZRGjyC","push","ArrowLeft","panelCount","show","change","click","CURRENT_SCREEN","display","text","style","key","imageRendering","removeAttribute"];return _0x1478=function(){return h},_0x1478()}const _0x31f145=_0x59ad;(function(h,o){const e=_0x59ad,i=h();for(;[];)try{if(parseInt(e(469))/1+parseInt(e(514))/2+-parseInt(e(424))/3*(-parseInt(e(499))/4)+-parseInt(e(501))/5+parseInt(e(487))/6+-parseInt(e(464))/7*(parseInt(e(506))/8)+parseInt(e(438))/9*(-parseInt(e(519))/10)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x1478,830005);function _0x59ad(h,o){const e=_0x1478();return _0x59ad=function(i,c){return i=i-419,e[i]},_0x59ad(h,o)}var La,Go,ha,r0,an,Yo,n0,Qo,Ma,_i,Ac,Ll,Ic,Ml,Cc,Vl,kc,Ul,Oc,jl,i0,Au,Tc,zl,Va,Ts,a0,Iu,Dc,Hl,Jo,W0,Rc,Wl,Fc,Kl,o0,Cu,s0,ku,Pc,Gl,Bc,Yl;class SaveBrowser{constructor(o,e,i,c){Nt(this,Ac);Nt(this,Ic);Nt(this,Cc);Nt(this,kc);Nt(this,Oc);Nt(this,i0);Nt(this,Tc);Nt(this,Va);Nt(this,a0);Nt(this,Dc);Nt(this,Jo);Nt(this,Rc);Nt(this,Fc);Nt(this,o0);Nt(this,s0);Nt(this,Pc);Nt(this,Bc);Nt(this,La,void 0);Nt(this,Go,void 0);Nt(this,ha,void 0);Nt(this,r0,void 0);Nt(this,an,void 0);Nt(this,Yo,void 0);Nt(this,n0,void 0);Nt(this,Qo,void 0);Nt(this,Ma,void 0);Nt(this,_i,[]);const f=_0x59ad;nr(this,La,o),nr(this,Go,e),nr(this,ha,i),nr(this,r0,c),nr(this,Qo,sr(this,Pc,Gl)[f(467)](this)),nr(this,Ma,sr(this,Rc,Wl)[f(467)](this));const m=s(f(462)),g=Te=>{const Ee=f;Te&&(this[Ee(479)](),Ke(this,La)[Ee(525)](VME[Ee(431)][Ee(480)]))};addButtonEventListeners(m,g),Ke(this,_i)[f(425)]({element:m,handler:g})}[_0x31f145(475)](){const o=_0x31f145;document[o(421)]("#save-browser")[o(478)].add(o(428)),sr(this,s0,ku).call(this),nr(this,an,new Flicking(o(509),{circular:!![],moveType:"snap",preventClickOnDrag:!![],autoResize:!![]}));const i=document[o(443)]("flicking-background");i[o(478)][o(456)](o(428)),setTimeout(()=>{const Ee=o;i[Ee(478)].add(Ee(428))},10);const c=document[o(443)](o(504));Ke(this,ha).getAllSaveMeta()[o(521)](Ee=>{const Oe=o;Ee[Oe(446)]===0?(sr(this,Va,Ts).call(this),c[Oe(488)]("disabled",Oe(440))):(sr(this,i0,Au).call(this,Ee),c[Oe(437)]("disabled"))}),c[o(507)]("change",Ke(this,Ma)),c[o(510)]("change",Ke(this,Ma)),Ke(this,_i)[o(425)]({element:c,handler:Ke(this,Ma)}),document[o(510)](o(517),Ke(this,Qo));const f=s(o(449)),m=Ee=>{Ee&&Ke(this,Yo)&&sr(this,Fc,Kl).call(this)};addButtonEventListeners(f,m),Ke(this,_i)[o(425)]({element:f,handler:m});const g=s(o(448)),Te=Ee=>{Ee&&sr(this,o0,Cu).call(this)};addButtonEventListeners(g,Te),Ke(this,_i).push({element:g,handler:Te}),document[o(443)]("platformFilter").value="all",Ke(this,La)[o(525)](VME[o(431)][o(473)])}[_0x31f145(479)](){const o=_0x31f145;sr(this,s0,ku).call(this),document[o(507)]("keydown",Ke(this,Qo)),Ke(this,r0)[o(439)](),Ke(this,Go).updatePlatform()}}La=new WeakMap,Go=new WeakMap,ha=new WeakMap,r0=new WeakMap,an=new WeakMap,Yo=new WeakMap,n0=new WeakMap,Qo=new WeakMap,Ma=new WeakMap,_i=new WeakMap,Ac=new WeakSet,Ll=function(o){const e=_0x59ad;Ke(this,an).on(e(495),i=>{sr(this,a0,Iu).call(this),sr(this,Jo,W0).call(this)}),Ke(this,an).on("move",i=>{sr(this,Dc,Hl).call(this)}),Ke(this,an).on(e(491),i=>{sr(this,Jo,W0).call(this)}),o[e(484)]((i,c)=>{const f=e,m=()=>Ke(this,an)[f(422)](c);i.addEventListener(f(430),m),Ke(this,_i).push({element:i,handler:m})})},Ic=new WeakSet,Ml=function(){const o=_0x59ad;Ke(this,an)[o(497)](o(495)),Ke(this,an).off("move"),Ke(this,an)[o(497)](o(491)),Ke(this,_i).forEach(({element:e,handler:i})=>{const c=o;e.removeEventListener(c(430),i)}),nr(this,_i,[])},Cc=new WeakSet,Vl=function(o){const e=_0x59ad;o.platform_id=="md"&&(o[e(463)]="smd");const i=Object[e(505)](SelectedPlatforms)[e(516)](g=>g[e(463)]===o[e(463)]);sr(this,kc,Ul).call(this,i[e(463)],i[e(457)]);let c=new Blob([o.screenshot],{type:e(526)});const f=URL[e(442)](c),m=Math.random()*20-10;return`
        <div class="flicking-panel" data-id="`+o.id+e(500)+i[e(463)]+e(452)+f+'" alt="'+o.program_name+'" style="transform: rotate('+m+e(523)+sr(this,Bc,Yl).call(this,o[e(465)])+" ("+i[e(457)]+e(483)},kc=new WeakSet,Ul=function(o,e){const i=_0x59ad,c=document.getElementById(i(504));if(!Array[i(459)](c[i(447)])[i(489)](g=>g[i(511)]===o)){const g=document[i(502)](i(493));g[i(511)]=o,g[i(433)]=e,c.add(g)}},Oc=new WeakSet,jl=function(){const o=_0x59ad,e=Ke(this,an)[o(427)];for(let i=e-1;i>=0;i--)Ke(this,an)[o(456)](i)},i0=new WeakSet,Au=function(o){const e=_0x59ad;o[e(484)](c=>{const f=e,m=sr(this,Cc,Vl).call(this,c);Ke(this,an)[f(512)](m)});const i=document[e(419)](e(474));sr(this,Ic,Ml).call(this),sr(this,Ac,Ll).call(this,i),Ke(this,an)[e(490)](),sr(this,Va,Ts).call(this)},Tc=new WeakSet,zl=function(o){const e=_0x59ad;sr(this,Oc,jl).call(this),Ke(this,ha)[e(522)]().then(i=>{const c=e,f=o==="all"?i:i.filter(m=>m[c(463)]===o);f[c(446)]===0?sr(this,Va,Ts).call(this):sr(this,i0,Au).call(this,f)})},Va=new WeakSet,Ts=function(){sr(this,Jo,W0).call(this),sr(this,a0,Iu).call(this)},a0=new WeakSet,Iu=function(){const o=_0x59ad;var e=Ke(this,an)[o(453)],i="";e!=null&&(i=e.element.querySelector(o(508))[o(520)]);let c=document[o(443)](o(485));c[o(434)][o(444)]=i,c[o(434)].background=o(441)+i+")",c.style[o(461)]=o(527),c[o(434)][o(436)]=o(468)},Dc=new WeakSet,Hl=function(){const o=_0x59ad;var e=Ke(this,an)[o(460)][o(503)],i=Ke(this,an).camera.position/e,c=document[o(443)](o(485));c[o(434)][o(461)]="translateX("+i*50+o(513)},Jo=new WeakSet,W0=function(){const o=_0x59ad,e=Ke(this,an).currentPanel;e!=null?(document.getElementById(o(481)).style.display=o(486),document[o(443)](o(472)).classList[o(518)](o(482)),document[o(443)]("saveBrowserUiDelete")[o(478)].add(o(482)),document[o(419)](o(474))[o(484)](c=>c[o(478)][o(456)]("active")),e.element[o(478)][o(518)](o(515)),document.getElementById(o(472)).classList.remove(o(482)),document[o(443)](o(466))[o(478)][o(456)](o(482)),nr(this,Yo,!![])):(document[o(443)](o(481))[o(434)][o(432)]=o(477),document[o(443)](o(481)).innerHTML=o(476),document[o(443)](o(472))[o(478)][o(518)]("disabled"),document[o(443)]("saveBrowserUiDelete")[o(478)].add(o(482)))},Rc=new WeakSet,Wl=function(o){const e=_0x31f145,i=o[e(492)][e(511)];sr(this,Tc,zl).call(this,i)},Fc=new WeakSet,Kl=function(){const o=_0x31f145,e=Ke(this,an)[o(453)];if(e!=null){const i=e.element[o(494)](o(458)),c=parseInt(i,10),f=Ke(this,an)[o(427)]-1;Ke(this,ha).deleteSave(c).then(()=>{const m=o;Ke(this,an)[m(456)](e[m(450)]);let g=e[m(450)];g>=f&&(g=f-1),Ke(this,an)[m(427)]>0&&Ke(this,an).moveTo(g,0),sr(this,Va,Ts).call(this)})}},o0=new WeakSet,Cu=function(){const o=_0x31f145;if(Ke(this,Yo)&&!Ke(this,n0)){nr(this,n0,!![]);const e=Ke(this,an)[o(453)];if(e!=null){const i=e.element.getAttribute(o(458));document[o(443)](o(485))[o(478)][o(456)](o(428)),document[o(443)](o(470)).style[o(432)]="none";const c=parseInt(i,10);this[o(479)](),Ke(this,ha).getSaveData(c)[o(521)](f=>{const m=o;Ke(this,Go)[m(524)](f[m(463)],f[m(455)],f.rom_data,f.program_name)})}}},s0=new WeakSet,ku=function(){const o=_0x31f145;if(Ke(this,an)){const e=Ke(this,an)[o(427)];for(let i=e-1;i>=0;i--)Ke(this,an)[o(456)](i);Ke(this,an)[o(423)]()}Ke(this,_i)[o(484)](({element:e,handler:i})=>{const c=o;e[c(507)](c(429),i)}),nr(this,_i,[])},Pc=new WeakSet,Gl=function(o){const e=_0x31f145;!Ke(this,an)||Ke(this,an)[e(454)]||(o[e(435)]===e(498)?Ke(this,an)[e(496)]().catch(()=>{}):o[e(435)]===e(426)?Ke(this,an).prev()[e(420)](()=>{}):o.key===e(451)?sr(this,o0,Cu).call(this):o[e(435)]==="Escape"&&(this[e(479)](),Ke(this,La).toggleScreen(VME[e(431)][e(480)])))},Bc=new WeakSet,Yl=function(o){const e=_0x31f145;return o=o[e(445)](/\.[^/.]+$/,""),o=o[e(445)](/[\[\(][^\[\]\(\)]+[\]\)]/g,"")[e(471)](),o};const _0x59b43e=_0x34c0;(function(h,o){const e=_0x34c0,i=h();for(;[];)try{if(parseInt(e(454))/1*(parseInt(e(474))/2)+parseInt(e(479))/3*(-parseInt(e(527))/4)+-parseInt(e(483))/5+parseInt(e(465))/6*(parseInt(e(466))/7)+parseInt(e(518))/8*(-parseInt(e(513))/9)+-parseInt(e(447))/10*(parseInt(e(482))/11)+parseInt(e(531))/12===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x2216,292973);function _0x2216(){const h=["data-id","querySelector","getElementById",`</span>
            <br/>
            <span class="flicking-secondary-label">(`,"catch","panelCount","block","sort",`)</span>
            <br/>
            <span class="flicking-secondary-label">`,"#collectionBrowserUiRestore","76509GKmDgT","keydown",`deg)">
            <div class="flicking-title flicking-title-name">
            <span class="flicking-primary-label">`,"undefined","bind","312FvgPKA","getAttribute","collectionBrowserUiLoad",`
        <div class="flicking-panel" data-id="`,"platform_id","title","forEach","moveStart","filter","4YiEjNi","ArrowLeft","close",".flicking-panel","1154964tlQRWt","remove","none","findIndex","MENU","random","toggleScreen","#collectionBrowserUiBack","classList","rom_data_id","animating","dataset","credits","#collection-flicking","getRomData",'" alt=',"prev","values","CURRENT_SCREEN","6430pswPlK","collectionBrowserUiRestore","rom_data","Escape","save","getCollectionItems","removeEventListener","2630YukAoy","Enter",`">
            <img src="`,"key","open","getAllSaveMeta","opacity","append","active","find","style","12Aevmjy","1241254wDnNnl","element","clearValue","querySelectorAll","add","timestamp","contains","Cannot load selected program.","382AwwPsm","storeValue","click","panels",'" data-save="',"605499kdnKrI","currentPanel","ArrowRight","517nsWAXb","483275DKZrUd","save_data_id","snap","touchstart","moveTo","destroy","No collection found.","save_data","next","collectionBrowserEmpty","COLLECTION_BROWSER","image","then","disabled","addEventListener","rom_name","length","reset","getSaveData","#collection-browser"];return _0x2216=function(){return h},_0x2216()}function _0x34c0(h,o){const e=_0x2216();return _0x34c0=function(i,c){return i=i-436,e[i]},_0x34c0(h,o)}var Ua,Xo,Qi,c0,Cn,ja,za,pa,Zo,qc,Ql,Ha,Ds,Nc,Jl,u0,Ou,Lc,Xl,Mc,Zl;class CollectionBrowser{constructor(o,e,i,c){Nt(this,qc);Nt(this,Ha);Nt(this,Nc);Nt(this,u0);Nt(this,Lc);Nt(this,Mc);Nt(this,Ua,void 0);Nt(this,Xo,void 0);Nt(this,Qi,void 0);Nt(this,c0,void 0);Nt(this,Cn,void 0);Nt(this,ja,void 0);Nt(this,za,void 0);Nt(this,pa,void 0);Nt(this,Zo,void 0);const f=_0x34c0;nr(this,Ua,o),nr(this,Xo,e),nr(this,Qi,i),nr(this,c0,c),nr(this,Zo,sr(this,Mc,Zl)[f(517)](this)),addButtonEventListeners(s(f(538)),m=>{const g=f;m&&(StorageManager[g(468)](BOOT_TO),StorageManager[g(468)](COLLECTION_BROWSER_COLLECTION_INDEX),StorageManager[g(468)](COLLECTION_BROWSER_ITEM_INDEX),this.close(),Ke(this,Ua)[g(537)](VME[g(446)][g(535)]))})}async[_0x59b43e(458)](o=1,e=1){const i=_0x59b43e;let c=document[i(504)](i(502));c.classList.add("show"),c[i(464)][i(460)]=1,sr(this,Lc,Xl).call(this),nr(this,Cn,new Flicking(i(441),{circular:![],moveType:i(485),preventClickOnDrag:!![],autoResize:!![]}));let f=this,m=![];const g=Ee=>{const Oe=i;m||(m=!![],Ke(this,Cn)[Oe(487)](Ee)[Oe(495)](()=>{m=![]})[Oe(507)](()=>{m=![]}))};nr(this,ja,[]);const Te=await Ke(this,Qi)[i(459)]();Ke(this,Qi)[i(452)]()[i(495)](Ee=>{var ne,De;const Oe=i;if(Ee[Oe(499)]==0)sr(ne=f,Ha,Ds).call(ne);else{Ee[Oe(524)](Fe=>{var We;const Ne=Oe,Ve=Te[Ne(526)](He=>He[Ne(522)]==Fe[Ne(522)]&&He[Ne(437)]==Fe[Ne(437)])[Ne(510)]((He,Xe)=>Xe[Ne(471)]-He[Ne(471)])[0];Ve!=null&&(Fe[Ne(484)]=Ve[Ne(484)]);const Ue=sr(We=f,qc,Ql).call(We,Fe);Ke(f,Cn)[Ne(461)](Ue),Ke(this,ja).push(Fe)}),document.querySelectorAll(".flicking-panel").forEach((Fe,Ne)=>{const Ve=Oe;Fe[Ve(497)](Ve(476),()=>g(Ne)),Fe[Ve(497)](Ve(486),()=>g(Ne))}),Ke(f,Cn).on("changed",Fe=>{var Ne;sr(Ne=f,Ha,Ds).call(Ne)}),Ke(f,Cn).on("moveEnd",Fe=>{var Ne;sr(Ne=f,Ha,Ds).call(Ne)}),Ke(f,Cn).on(Oe(525),Fe=>{const Ne=Oe;document[Ne(469)](Ne(530))[Ne(524)](Ue=>Ue[Ne(436)][Ne(532)](Ne(462))),document[Ne(505)]("collectionBrowserUiLoad")[Ne(436)][Ne(470)](Ne(496)),document[Ne(505)](Ne(448))[Ne(436)][Ne(470)]("disabled"),nr(this,za,![])});const qe=Ke(f,Cn)[Oe(477)][Oe(534)](Fe=>Fe[Oe(467)][Oe(439)].id===String(e));qe>=0&&Ke(f,Cn)[Oe(487)](qe,0),sr(De=f,Ha,Ds).call(De),nr(this,pa,![])}}),document[i(497)](i(514),Ke(this,Zo)),addButtonEventListeners(s("#collectionBrowserUiLoad"),Ee=>{Ee&&sr(this,u0,Ou).call(this)}),addButtonEventListeners(s(i(512)),Ee=>{Ee&&sr(this,Nc,Jl).call(this)}),StorageManager[i(475)](BOOT_TO,BOOT_TO_COLLECTION_BROWSER),Ke(this,Ua)[i(537)](VME[i(446)][i(493)])}close(){const o=_0x59b43e;document[o(453)](o(514),Ke(this,Zo)),Ke(this,c0)[o(500)]()}}Ua=new WeakMap,Xo=new WeakMap,Qi=new WeakMap,c0=new WeakMap,Cn=new WeakMap,ja=new WeakMap,za=new WeakMap,pa=new WeakMap,Zo=new WeakMap,qc=new WeakSet,Ql=function(o){const e=_0x34c0;o[e(522)]=="md"&&(o[e(522)]="smd");const i=Object[e(445)](SelectedPlatforms)[e(463)](f=>f[e(522)]===o[e(522)]),c=Math[e(536)]()*20-10;return e(521)+o.id+e(478)+o.save_data_id+e(456)+o[e(494)]+e(443)+o[e(523)]+'" style="transform: rotate('+c+e(515)+o[e(523)]+e(506)+o[e(440)]+e(511)+i.platform_name+`</span>
            </div>
        </div>
        `},Ha=new WeakSet,Ds=function(){const o=_0x34c0,e=Ke(this,Cn)[o(480)];e!=null?(document[o(505)](o(492))[o(464)].display=o(533),document[o(469)](".flicking-panel").forEach(c=>c[o(436)].remove(o(462))),e[o(467)][o(436)][o(470)](o(462)),document.getElementById(o(520)).classList[o(532)](o(496)),e[o(467)][o(439)][o(451)]!=o(516)?document[o(505)](o(448))[o(436)][o(532)](o(496)):document[o(505)](o(448))[o(436)][o(470)]("disabled"),nr(this,za,!![])):(document[o(505)]("collectionBrowserEmpty")[o(464)].display=o(509),document[o(505)](o(492)).innerHTML=o(489),document[o(505)](o(448))[o(436)][o(470)](o(496)),document.getElementById(o(520)).classList[o(470)](o(496)))},Nc=new WeakSet,Jl=async function(){const o=_0x59b43e;if(Ke(this,za)&&!Ke(this,pa)){const e=Ke(this,Cn)[o(480)];if(e!=null){if(document[o(505)](o(448))[o(436)][o(472)](o(496)))return;nr(this,pa,!![]);const i=e[o(467)][o(519)](o(503)),c=parseInt(i,10);StorageManager[o(475)](COLLECTION_BROWSER_COLLECTION_INDEX,1),StorageManager[o(475)](COLLECTION_BROWSER_ITEM_INDEX,c);const f=Ke(this,ja)[o(526)](m=>m.id===c);if(f[o(499)]>0){const m=e[o(467)][o(439)][o(451)],g=parseInt(m,10),Te=await Ke(this,Qi)[o(501)](g),Ee=f[0],Oe=await Ke(this,Qi)[o(442)](Ee[o(437)]);Ke(this,Xo).loadRomFromCollection(Ee.platform_id,Oe[o(449)],Ee.rom_name,Te[o(490)]),this[o(529)]()}else throw new Exception(o(473))}}},u0=new WeakSet,Ou=async function(){const o=_0x59b43e;if(Ke(this,za)&&!Ke(this,pa)){nr(this,pa,!![]);const e=Ke(this,Cn)[o(480)];if(e!=null){const i=e[o(467)][o(519)](o(503)),c=parseInt(i,10);StorageManager[o(475)](COLLECTION_BROWSER_COLLECTION_INDEX,1),StorageManager[o(475)](COLLECTION_BROWSER_ITEM_INDEX,c);const f=Ke(this,ja).filter(m=>m.id===c);if(f[o(499)]>0){const m=f[0],g=await Ke(this,Qi).getRomData(m.rom_data_id);Ke(this,Xo).loadRomFromCollection(m[o(522)],g.rom_data,m[o(498)]),this[o(529)]()}else throw new Exception(o(473))}}},Lc=new WeakSet,Xl=function(){const o=_0x59b43e;if(Ke(this,Cn)){const e=Ke(this,Cn)[o(508)];for(let i=e-1;i>=0;i--)Ke(this,Cn)[o(532)](i);Ke(this,Cn)[o(488)]()}},Mc=new WeakSet,Zl=async function(o){const e=_0x59b43e;!Ke(this,Cn)||Ke(this,Cn)[e(438)]||(o[e(457)]===e(481)?Ke(this,Cn)[e(491)]()[e(507)](()=>{}):o[e(457)]===e(528)?Ke(this,Cn)[e(444)]().catch(()=>{}):o.key===e(455)?sr(this,u0,Ou).call(this):o[e(457)]===e(450)&&(this[e(529)](),Ke(this,Ua)[e(537)](VME[e(446)][e(535)])))};const _0x36230d="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAKUPMvFBQAAXaWbT8YkAAYBgAA4x/4xj/5d3vd3d34QXFxc+A4BoKDQUAKAKAsBoKU4uDQGgpTu7ule7u9/u7vf/8u91/Lu7pW5Yue7mKHYKwFwFw/YOAFwFwbngQEDPg++olnOqSYV1ZhCJNKWMAJgBxgjIjV2XFoAfl2GMKBQaWUJESywrggJFVDq0RDyAKF3Qsh9IhUCDrdh4Ut+DWznv8/OfjNJHWVqf++9/8oq0IHZaXDLJAgSKZb+DDutKr/3of+h3UXrrUA//tSxAUAC3EBUrjFgAF8HGuDEvAAS4ZECEdUqFxQ1ghPPPIM4OhYgkiUfOnjyJLYoYqSudPmA6hKEidLT1/SkO7fG2my+Lnpjnuc2Ld3bI631P7d0SgaxWyfg9Md55705ps6Jr3e5KxAYEAPPTAsZEzWWbUNms3nYISopCeKBgbWp8+vNeG5ORyN+runVKzx8FGRQNwUomiJISeK7VPp9fqN0wZWI/zAfWt///3kje5w4UTH3BzXH/zP8/2pd7cUKVf4g+IqHiuAoHBC0nccSXP/+1LEBYALcNVMGYSAAX2UqMMykADLONBirVnei9LAkgBYNKqsCoQEhpESztHo+yqFYUULJahEIPA1Fh7SKCOXmru+Lo7cZQqEM+V99Vcff97/WVv///8kUXRjkoMHSVMtZ/bnIiECrFQCe/5whX3mfxrEqeyGmzs5lEjmbgyBlAye0LCUiaM2rmkYiRE1L9BkF2FTJ8mYjSJRpRTqL5JiO25KW1ru/M9xx8LUwHlh4GDpNRcmMaxj4bIHaz6JG3mmyS//1y6IYQdsalponDrbnP/7UsQGAAvk51IY94ABc6WpwxiwASEXxGFMgFFM/fNDT7TZgSQa1+Zo5+HBqr4SHftOTs01XMxs1U6xTxa5/Z5mNnZM7xGs+hf//V3mvTXjYtC+df//948ph5Ef3+ISeYVa94ls5/vKhorEpW0ZwmjhQH8fDJFfjdWaGpph4OG70m003Bg3YhNO7T0CkltjqWPezH0ah2AmK7u23/zB8nuOez39s+GfvTP5z+JfW7+eJv9BA0Mx4Hwnwctl///3//+Os3HbkttbkZcTYAFqYrDQ//tSxAYADATvZ7iUAAF1oCsDEvAAoAPIlkQIrETAiRMKESJZDi5IBg7aSyQaiFCSego4sE4/vFaFxc8RwBAEyUVGnSd7EYRkEo1aX+nFEp+tjVi///kXHigoZ8LUytf//nuBHYa/65QBzszi7ieabcYrhskOx1AoQ+cNvldF2p4U+d9hXM4hUsZle69KmeRz9yiNsWDXxJs01D97R4vtjP19Zz/F3iE/gw//65rreKX/xueLNmlJcb9rW9rf/5//gQEkeIvU5VGNJWoQSAwAVUT/+1LEBQALpRtiGJQAAWMR6reYgAAsLmRoyYLywmD2x1UQSwfcuYNo5ygOWVU5WNDuhY46Uibk+hez0ZZD0mv2+SxHMH1zyqipX/Hno5toQNPqxKHRYyauLn5+T+Ve36vs4Rclw1859VWSBTgQMcluBEZKxpGoyA8cD0qLSJKa4ZsGQAWbNBQUIIc1JqoLCwszN/qpNNGqyvC1OtNEfbdSSG8SiV07OoQtxIFTCciOeWNqtMBQ9/R8SpZpCZyn63/Qjc1QApttwfJpLRrkqS6MT//7UsQIAAwkM0lHsSYJYounYPYkyZkHYVEoQHyBoRIhLI8TDiMy1jjgkrplWmqE0xkonLc3gvYUyw6aoxLMt+9jieUOHxsWKcqW5j7Y3tKA34fu1lcktrenov92nHdpYsbpv////QjAgAMNUmYrx5mk6NY0mQRbAtZoEA2QCAMEYUOGjAfWc5Gky9BsnZNJOs3GXv2DWE2gsF5n6rmuCiHy/MKf/zP2/z4MRb7fzLpW4r9gPKnPXurDN//ch8pqYsqkIITjbcAAokABGAbCoOCs//tSxAkACjx7QaWwaMFGqGaw8Iq4Mgk+MBpPQ8HtEIDEUabFxbXS1M5pWuaP3XNTzliDoKB8weLDkwsXJuHSG8BiZjRzLC0klgtqpVItEu5aBSOVHEORIglVpsVhNzuLybx6l6XRksDRCNt4rFfpqvJVvpp7H3P4mxgANmyRiQWTSjhadZEcy5BxhmYObe9TIjl9f+nXDRXwsofDe1maiUVmu4lSUIoBRJIgDSqBBhGlor0Kgh+neaUyOS8VASAWdJDsUiiutYzrMNckwutPLNX/+1LEFQAJ7IMph6RswQ2Mo9j3mADNU6qfAx5l2B3FWvfJDIuhBsehNFais9S5jNEqR0N+Bvss93/yIF/2WQV5HogcSygpI0lZEJKCtNIuRRYBbMtLHU5HDqokkai1aRo1Fjh4xlZ0s9AVO6zp4RLnst8j+Wh3/Ge2S0f//74AA2VmRI7t/+lJHnEnrSEq0jLK0/Y/liX69jmyP4U1IQRqb/20J//td//lqkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqv/7UsQpg8VoARPgjEAgAAA0gAAABKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",_0xbdb37b="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAIhHErNDGAAbGs7fcSgAGUACAADbd3d+IBgbnoicL/03c/0RAMDFu7nEAwMDfiE4AAHAfD4jPlAQWCCwfPlz//E5//wffiMP6wQDH/y4f//BA5D/s0e/9fr7VJgCJ6QKCOVMjTI4T0nChxvk0EE63caf3VhEKkT2emwdhsIClcmnd0HmIIRvyxXV0knjomxwtx/d/+MEYcnes02tf/9XzdkUjp3zXHf///o9Lb8uNZv+fWV/////k0PxQoD0uRJcVOHUIMYwuxdgD5//tSxAUACyy/Uhj0gAF+IuxnGIAALApj/XbIsImGyYbA0TWwTaaNdrc6c+6akt78xAw5sq0hz1nn/CAhlKvGOX6v/0j2Ecr/IITbENzNbVEQFUoWa5S2KeKBxvnVRZZd87/5EwAr/z/zqhx5+AYEgtjYQT3T8Go7xg0lx6hXIKoFDBQPqQWMebG0wxeYoXkWNv4mxe0IFAXS1FfszGIrjRcWvnaF4/D8ckI6C0TX///cWm03Bhf/Ps0f//4iOEHAm+OdIjAIIAhRLqCpnBpG4tP/+1LEBoAL5ING/YSAAXCU6PDEjZgXdD5ABB1vVboGca20qNP8KSUZGGjT2I1Wyi12cdlqb8QoZSWxCoinLfLylLbk08XUFTC1iU3KmHKfDS3JqAwNeE3U0zbOcY1RNyQlGsahv//IQVBIkEAK9KwKk0oBKSiqSQ7Py6YFoQyYPMpnUsLM0iXMEKCfLTVguwc2y2iFvXTG7Q4GLEe9OyOUJIxEgJYbAtCAfaF1JKkB5Ne8ACoOBgXQY1Kc6LquW31f/+QqihsQAAYDQ0TMxVOWFP/7UsQGgIvwjT0nsMbBcRhnQp6QANL4FDGhHMhhw/nBfhOQD2ErVr6g/i0ph1qAJoKb5zdOrTzkiRIGOtiWVSXwmwJoXARARktx6KtCAdFzwfS96hYcDV7noUpzIde1IbWKi56n//6iwB1oghtE8nVIJmVw9JbkCq6PojMNEMpHi5aSGWEwyQI1UkAYHx0NKkomFJAw9DkvJmUE6gtpnYul2DUWFoqu2eJdh61uldeTF1KKVKgkPIzVui1ha/+zo////kauNi1WKkUhoNiNWIOA//tSxAaADB0tWbj0AAFnoq63DDAAAjmHTGrWWrhHfvnOeGz4XjkiQDiQoAMjOYQYIYNg9+boPJcVJEWI7WE5ML1okVHx809y/Ytnpw3/78vN2lCp2jR////GkvftzKx///6f//7mzpUjqs3ttLtKxG2Q2Mxoc0f1lBB31ALIhfOHsaEho8G08ormRI/m7kjoxe/ENMqFSH/kiF5K2V8yI0dTR9C45ro5EafX/p1/n/S///yMXAiKCBZapTf5R31wCy2uRmCbSIAAFABIHLqQAxb/+1LEBwAL/KNjnMMAAXIPK/KYYAATDkkDsYHRyUV5wiGkw7pZDQ/zNjd3fFGNDevn/+ZcE1Joff9vT2Tyvf9PlIhIOCMuLQyAhIXB0ffSZa5gQACighIuD5/f7iaaOgTCyK+1/vqUUZKkowQEuwSgNLGhyFJkXgajUExkTrHJZZBgEl55s1mY3b5O+jTSJHGlHx/PztVHUHBYKHoKhQuiKLW8kQQ0aAiK3r97KEpAxu5t8iFDwU0Klgax4K2t9vmDABMVV2V2aoaGeoV2gr1gsP/7UsQGgAwNM5X4kRBRRRSqt55gAGg2GRHpuPoDyDBYoJdbNigJHgQRnMUUIQEoECAAjgRjI1Q4Mc5qhl+zqJFspW3+QUUyUKVi/84VF+lJv/qkQt2FzP///dTAlWKg4DILR6F2/xRtSmpmrcJILQVnLMelIl9WSEM+U7CWjwRzArWF6pQ8ikbCSE0kjUs8ricyfPf5+/eq++Zwi+9+7P/9+/vPOEwTkCbpLqTyR1+ur/6CTau32E3LQjIjU2kCQUlAjRPEYWIUoA+FkTTgnGKc//tSxAuACkx9R6ewY4FKn2k48wl0smItLayitRaJbXY29aoVddmi3/0tC/IUAtBQDS7gK0LC4InBx0TgAHschjpoUeRazuVf70CJqyKTM0KgcwjKSMjUIxMXU91Q9CrGGtKdUqdPLFAEJCErPIbRro1OepftWZuU+bu5rFmZjUThxDyXR7dNTLcromXyn7TL0WXppR4J0uAUiLA1qURXCCj1Ky77dLI6k0SwwmYdSzFRJ8ilQTeFxY+NGSF5ZgLDozUlVm7ALgoQAMcNv7eHc6T/+1LEFwAJ3J1Jp6RooUePqLj2DHxwGS5dGc+mSqE2hMa4QmEnGHXJyff5yeZzGx7ypaAnZdArDKrIyHXs2MRBSan+mAiuHc4IpklElUZOlTDpOtc9mj1MiYia3Kft6lfkOLubsLEGiRoXLJbuFUjknFIDKWQFShHYRHkjJiZnjJKok70PnRE+AgJRIABC1DIFyNtCm5gQ56pTgUx0kHzpEuwScTRo+EqdGiwEChZpoiGnBkaReBrhV45QlJBeqd3AKaCt6WL71unUcS2g01SnHv/7UsQkgApIQTNnpMpBPRQn8PYMfA3c6phSn//ZU9T66SQtPTEMf5JVYZFkfyqDwcF9Qbnp8ctGKdz3XlrTcIyaxydllz2v3n1bD7wz/4GszGhxqKPqkhiRglNG6AboPK7PYKDVMVVGhy4XfC7Kb3+1rakbjbGhuLlAMvJIJDiPJacMj1UYrlq1dV5WrWzlllrPH7Dcv11PzrVMrYZHMoudl9T5utsDUuhcPCjycVUtEnUsOVysmTMtcsa/UYUKrV3+21brbiaApAuCgHViMrBe//tSxDGACji7QaewZWFQimf0xI0dDyUgC5QuNEKIwSI0C7KwlzllYjJHBA0JZ6+qq+rxB8mtRItm+VGUsht5SvQxXejvszptZ0LNy/C1Yi/Pta/xiXf/+WrbbLHf0qDyCAHDcjmByVAhLI1mRqIZIcLCAIFTEPSFsMnCgsaPhsEzYBQFhI9AuJxEGY4WKuScIOFQI8cOGrfXfFk7pC/kA9LMF3yIzs1g91IMLKE5E1E/LE3Y8EUjnYvHQ/Vkg5MyQuOG32GX2CSmivCejnAITDL/+1LEPIAJ7DVJhjDE8UuJpaT2DHgJjhMIXWpImRI6NIJWPQ1aikBxKOA4qpVpVzWL2jd829ljnv9lH//r+9UABJJwIvKBdRcVS9xU4aBEZBE8FkbNPAKRmHsqqNksjKTVBRMNHgFQsBEgZLVjQKJQagyGg6Ehx1UNEAKGSIlv1PpKwK6eRRhI9Wd////8NABAIFKTQWiSBRQEfFigg6E1QyOyWX5ZKhkf/+RqGCg2dno0UJEmHgmZFRY1Coo2oWFf/qF2atYqKN1CusUaaeKtxf/7UsRJAAn8RyWHpGPBKpCdlGGZeIXZMizP/rFBZUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",_0x1ed5c1="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAJxN0tFBGAAY4s7v8SUAEQwEAAzH4B+ACoX130A30Ku8FmEAABKHAwAQQcDAxZ7u4G78R3OIno7nohcfQAEJu4hE3cW+7u7uegG59RzBDWD58QAnKAhEH4If+CBzRNJLpTpcLCsxF2qlkgxUWwgiAddS5twfMnkwrr4MggouxBAsWBVDgk4vIhCB80xhQljirscBPR3RiRQUOd2D39ydxEWHNYuT/9srsxm/7K759GLQyvc49v9f3/9mERY2ZUADIacnqGJoP8el4q//tSxASACuDFWhj1gAGOm2tzHtAAlcT5vYltpiNpcEMPNP2DacvidpuPks0jHrXXHeT0XviEnWpeO9djjQ8yWxxcT9G580SBAXY6I+HN/kfIrYsu/9YEeXECn+nyBf//9MuaJIAAOrrQBFqWTwAHSYIteGhyIIN4bCFIqGuhHjpgxoABGATpMHGbIheiTMColSSUg6RUUhVdKd2OiNOXlOZsmYu28lTE1MTJJI2TRTa+zGxixORb1PpP+1T1qMvk/ColDQNA1TMACSQgSE1AYAP/+1LEBQALoK9HvPMAAW2aqTaeUAH4K4XFIEhSpkoUtQDsRKlixEOhHhJAsSZuHS/6SVR/sU7+6x5mvvntd7KW01u3/+7Hj598WdiMjQMDC2rjA8NpMnQ4ApLS7ZcQLpFRoIpjCqj6a0fBHE0i0VLQLakCepQwESjT+NjSAdrg6dLhpVQRGso0VKzO58yqqIaqFmIRqOyTNZXKY8zvrMVKOnOzXeti5HazyoUYXaM02LarmSj4aIcMZymoEb9h/6hb5b+qIKAYViyaKjhTSSRAAP/7UsQGgAu8vUW49gAJg5mpJx7AAACMwCfYRk06tXB0E+gwmFzYmFjBwKnF6KQ+Uli92LrNgiYh/Yl7y+hxEqs5KuJqCp6/WL7T25L1s/5WbrLFXpv9LbTv6fjl9pVFR8/9m1rV9oSKNLSCgzUAAFCaZ8IWyLZUGOT05ly2p5GLUY1Wcn6LnVMK8VhXClgmYRIKQvO1odE7+TH1sovPIT9qPO+tYcJ7LVXX52nXzPnq8YIVVcbjcX5XZmt7T+7CvoOJCAqGv656SSCAAyjNU4Ti//tSxAUAC8C/TrjHgAFmpitDGHAADqc/JgiAYTNnlg5AvFwhhyHw15rRwJwQgM0L46f9ZWFIThYE1BlEjJz/nFonyr1ffqaKpP//93v6aUUHerzf6//9/q9/u0J5H8H3k0CERAqz5z4ahlf520mTZh2FC4p2hRNHoWcbk1ac5xg4xccOXZjxu5kxqZuNxLOFw0Y/mG9JYA8IAwDgz0/4kAsFollRu///8cLD5zMI7///+XGjCRGq//6aBO6Hyn////yFBekwlhQABiNZts7esfP/+1LEBwAL1QNkGGMAAXqVcHceYAL+5X7f0wMYdl4drsXlUKNb95n82yznlsVh+1zv6arpIwJateCs3m98mvLdtaSj27f/9+/+/ZZkzTUYJQMMcOZPISNrColYMO931Nb+d////27Xyff2/e222yRiwSCwEgH9BZD21ZRPnJu3CPFjuoWQJCqaeias+kdaCwSyAkGB1O3pbphHR12Ohu8Q0Q0Sxy/Ff/+m8Uh3xK7tUcD9dwNelwPh6ge6LHvwSuKTmVOjlbbZf/7f/rbbrbBoLf/7UsQGAAvY2YG4xYARcxao85hgABAGlCUktaWmzpQKjUr1XGsjMln0Lv1CQTjjG0ooLyDKYVhDe+68+eRbUkE/2RZfDScfJ7HK3u2d87reia+2v//9DpO7NWHOt3jBGfSfC0SwVT+pSgLFRAiLJkFA0isAoQBMIzgih24fi0lNHDZFHTa/glzcmvTHAqkqokdVF/1Vfzrlmmoo///9v7/8/1pu0zb6OpgBJWojQVY5Y2VMFQVKqBrubWhtoNHutYKu//61LBVgAAYO8NIdKVLa//tSxAYACnx7PyeYbgFFEeek9gx4ojos+MV2/YE+0NMBHSKJ8B8WhUiZYRfSsMu+yG93dQpgLCZ4UF3HzLHonS8qXEczYWj2p0rrOtXnnLlwm1qSoswCVGGL//8kWh7ipJQlRiKExSGIpNKhOBiWXAlVlglnC1S+xrXPsVTjwnI9pYuTm0yz1yzPCHWJtoYwVQPGiJoMveSIEyS3Rd37TV0FUD1JWpfQyaqs///JKiOWR3VXSRspFg6zLPp+xkiU6RP5QqA6UecCyHRCQQ88w1L/+1LEEQAKVINH55hsoUWPaHT0jSwx3eE6JYUxRFlT/utUFTHnnqYkcwUfSyISzo8oB3IYaCjTSk0X2uF9nFMZBlay15t039v08cbaSQHa2KoJUnWBLH8sqZ5smDBkvMFElk9Syb83M3Q7DhPkrqc+8qn91GEoGECAXXDoDcLJDj0uTalD1LvZVHqryKxkJKIrWoI0jhXqASnhKCYgDkD6yu4SgSAGQBKOwarBKfJKkxceOXbeySkxrG1ybUqoU1KVerSPpdAaJJjgE6//Dv3Ug//7UsQdAAlosSUHsGPBNRkdgGCM4DSQNPkwVIkYaEoClfy3/qfltCQYDIJq0iYSf52VBQWkfYf8/llUMDQ1a/kyw/svkatHIy/+wyZWB1D81DAwYZc7RWKN/WKPoBkSGgKKijf/SEhX2DGjxZAFCoo9ICFqTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",_0x232d1c="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAKDKUzNFSAAXsSq28ewAAgABQACTeQhCMSsQAAAAIooFCCGf//+c5zmjQIMXIxWK0ero29UQChxGAAEDFo29UFAJgmK26QIEDE5znOe1BGD8HxwPvEDgTP8Hz/93//w/a4wEAAAAAEhwySJSIrYENxVC3IuJILmM5InsAw8HNEwJ7kC1FzIxLNz9DM7JTw0i5KemK+0O0Xx3YYKx8uZr/5szEvvelKtA09AWeo2LCC8BFPA79ZYlqMoD8oz0HUqnakigCQCklKLILg//tSxAWAC7Spb7zxgBF6lKw09I1aL0ph0iNpxdreIdKUVj27+ggBwMMIFuQ4gOxOkYRf66RWLy3IDiUWAV6aELCJTYAouCA4tGEZMBscoaFhjgHBP9Rcgoz382itZ8FhJFnDpcMH/1GOAogAgApKQvRSl/R8UcqMELVvX1YQmBUAw8UjELAkfxZqmuYVVUljbMyl//sbGsZSampSkzMsakGFUgoCHrCRk6DRIOXhoj/PBI6HQ0sN+VGQ6CxKSDpIRWNCT//6qkORIiEAAAAl3UX/+1LEBQALXG1R57DDwX2M6nz0mRgs3jKR4HTGxLQhDFbZVVFxDJzyPmGEFbdffbx9uz0FGYGQhiB94nt3ayhiJwcIKaXUGDqQsQGTjWtkQuPJt76+kDFxOaqocwB460+zq9fu+p41ZiJEAiACXN2TWUKgM4SdQQD+IUwDJgegaC3IiHCEWJWRUSeNakm9GkZE4aiaRJHDqSqTCgZio4sKNUBmMIguYGijAXsShMWCREKNyJs28AkgCNfgN41b1irtOa//+moLsBUAAATw8RYFSv/7UsQFgAu4p0eHmRKBeqSqtpiAAQC+mUq1Gwl+lOl+jUywrzjDW3M00LnvBGXFlcmQSY9A7CKqQQNCeoikRNKiJqXrpFeeLLGlli4ueeYgIKBd63hdaggxAMHggKfKK/r6TPrp//+kWwpxoAAhSsD4VzA9XnY5k8+QnFBgeVFAGNAeBIEXDoPx7Rb9T9XfXFsUcXI15fv37d7e4SP/0SEhOO3sYkIiTL833G4wa098y/N73pSRFy9ChhAogogpcxRBhBtlvnVRFIAAGREm1oFt//tSxAUAC3k1YZj0AAF5j+kznoAE8CPDEzY1ddYb6MV1c1TRvVaDg849xwQPQfqgkOi2FTlPHzcHHHJeoxMwUklWuNvtL4+ir9UXXa2/r49V1Yb9/9JV/+11Nfz/6x//wkf+3XjXrDqYcAIyqOQV+cCCSJ0Js3jZTkQ0VerSQgfDBOl8Apgey0iKfSf2qvbdDLZpGxKqNGm1MzKqT0KNgVSnmAqfMPkZhqxMKPxiIvtJ0aUColDaJfQaHpQuwwQLogTRT8kqCiAIAAHAihjDLIT/+1LEBYALkHs5Z5hygV+OZqz2DZAfpPjrajyanNL2QbCMFKKZFyuUZwiUWAnBqijqsW+kfQHVqVapzBUaIfkPSTOgEYCooxaF6S5gUMTpgmM3KsLLaclgvZaBqDRJVRI2JXkv//kgJAESQGAuYuUpipQtqoJ6lGfmCaKlULpJD0+XwryGh+vFDCOBmh5ggLYiTHtcjjwHig2FGnjoLkYBKBUOhItDA0UhYOpfz3dDtKrbeTPRgG4sxRJn6f0dFZP/JHYUo0UgKMfKAY2InxpIkP/7UsQJAArofz+nsGdpWJSlsPYMuEhaaqDERT0sul1M0ugYic4kjBmkjWrmpF23vuUJFtUY7EIJA3La/Nf+/cqrdzOH7ff7jcH3Hve/vcrBQji6+VL+7O+dBwCQtEAIqyjOS4v5jPyQgdDkRUEbkwYlksj6VRxgaXNtss1deetYNEQGEnGM2Om7qZNmVKr6+kz7fzONGCkrkkCobm9iJsypfoTpm3qqvnBpWzaz/2+pyjLrNGylImSQQlxIewMHQTDUfioSicHw+iKYuQwpVq2J//tSxBAACky/NaewY+EyDiV09Ix4hp4yZmDdtPqlmKYTXNmkXjM1VUPUvvCLjGfzY73IssGyiRRI1x0qUm7353vrY5Cn2FnhJtuFBKRtpBGwhwmqpMUko0IQJMAkDQ2CIpBIhZSRPVQwikzRQqhlKMdUtS2DGqxRKgaWsFTorZUPSVpANblnXgrZXev+j1/6H///1RZAUYApVJdQmOhpohUAMTilgmwLEyZEoKLAJZGCWm4drNV2qkFEkRKIkCUY+1uzr7cs9XkP/+es/0FfsZ7/+1LEHoAISF8UJJhwgJ8AILAAjATsj4ircgBEEKKMyiS3LMtMtKsirttfahmmR//b3fUvq6tin9K//UzrAX/+MQpMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7UsRHg8AAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",_0x33ec38="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAKQN0s1BSAAWGXrrcSgAIAQABAOQAAX4xjgRt74QhDzXI0ekAoMFwAAAAwKHLisVk7CBAwmKwTJ5BcExWTo57UEaOe1CEM85znvhBG3P+EIQnv9Qh//CEIQ80CAEIf+CAYttttdjkiJaEjabbkgAY3JkEmFyJRgjbpQ2dC9uNOBEdjiAlNKBMPw7kfXsMNddBht+oglTwKV93BlWdDN2x78J/u//CxdGAMTm/J6soZn8xngm2RD8Hz8+rXRpEEgAkkqGokAEmwFDkH//tSxAgADCiBZ72kgBGAhm309hgyODHrS14oAQUafm6MAzN6HZTJZIiIibnaREqRiMjvahn9IGHd8sPEqqsbv7OfggQIEE5ATg+GHNQUcwPg+51PUkmD4Pg+Hv/WL1t8pxBcUBCH3Y3IiQiCkpMTYhQGgJHxkF4IhKjCUPStUcjKxVqjgEcSJBUGg7gyCuVUDT8FQViIFXSOVBUFQaAwNA1BoGgaBqdWCp34NB3xKJREeWCp1YKuVqBo9EQNA0EgaDs77NdlNSpDnUDCG3d8DcT/+1LEBQALzZtVtMOAAXifLbcegAJIigOgjA8lHE+WBPUpGB6fpChxcA0jRjUVDXLTJShqHvdXd6UqPFTFurzp7VroYeezr/Wmvd7Hnu6a90/q6TDzKU/r7GGMZ+ul/ajonX/3Zva36pLtxtxtpSONtKRSOCAQAQ3qM0P3a5e3gP2Se016LMkjT1F+ZEC6BvVotjeVxQCYuDecn46rEwA4Bw0Lqw5NXjtM8ysXv1+f708UGGOp8fN////+IwcGZZ9H//uAYfAY9T2hBuuU6uiOZ//7UsQEgAuIzUoY94ABeZwqP5hgAHqxcrRPy+7mnZziHi3SYVZcCQikqZE4jMUZoYhZQ6axrMUFibtImY7VMfenlNUhT6t1mZiY+269vnWf8628e43uC9t///r4+/muoTBZ/29p0S/6SWFNSIiAkAKSwAUdAJmAHDIeSENYhnZ0oqjO3xIJSYTgei73CaGtnu8uYrY16en/7u15r/cnvjPlS8bLf9qltzZb/t//jY1mWpIiSOLM0y1IwkDKZHHI6XJx8z///1o1eFRBIBYCAV+F//tSxAUACwEjUfTCgAGEJe03HoACgYl4PTguj8JRffPBYYSI52dxjQ+YAAIKDTupzqdaEH8+QhzMSejOjX2pO//yEyNO6Eb/f53seRv5N//tSjMmJFDIq6PHqAFtNrKej2YkblrbTYkbkjkbbMhAYAZ6zxxVGW1vGqNc07sPc1ezmCcaLGUETx0ovvcKOREIPADni4cB365bRkILh4KX/X+/PCUH5BVT/3W39P0e792//1/f9Fi54eVaV///////6CiH6GwAAAAAAQHI3zmIW6b/+1LEBoAL6NtWmPaAAW4bafeYUATxAzoIwpjmVprqGKgoccN0CnLpJGg9h6D4SwnJANq3DlF0TwLU7pGS9QgI2lBqRKvdFukmak5FHZ/8u6ZsXS7Utf/nTArMTg9nQMlla/oCoGEKFkA20Wi42U0FCGIoNrgqDrohF45LtB1VozojihRULUOlMPI6rOdVXIdFehDvM5GYxCEu53ZJk6EJQlk2faxivVEas9p1i5W4vDgtfbHxS2QODTIsOCUuPTf//6ICAAIADEOk8g/SGHSN0v/7UsQHAAus2T1nmG8Bbpum7PMN4HRbyck/QB9HCbrCtJZTAZvBQCEVCShpE0t11UoyU8bzkI4qqWxq6ItsjGT2rfhkSrNm8/M+aFmhlgj6FPssIXnbnfcwWNhtoRpcuYAX//1FUgpAASiWJw3AlJ2IW0pBXn8jk++cUNfH8zOREAxPiQkFSdEjLEiTc6jtLlHIwVSDM1hmZlKF17+zFmc9V9V29r/0u2rnPpiB7kMFwmGl9NQ7YLFgap56wl//6gQYAAYADmfpghSOunVwLcXE//tSxAiAClRbJyekyAD2Bx0ExJgakDVkQCoGAUEknIwDJFkkpIyyTkac2fzUZEqjwlOqBoGjxWDUQgrJLQIj1ZY8V4lARARRL6WiLlXNkJZcRP///+DQjhKQiNA3SoiB0ZBCaCakpOa4vNk40sEwTAQSYthkX0iyxUiAhfizMYLkcWFf4sK/qFiPWx31C7MVb1/1C9VMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=",_0x338440="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAKgN04tDWACWsgrrcYcAMAIAPoibmgGLNET0Nzd+xjGV/wxkksPBMabm9saN4CAIhMVJZPN7h7+K5ve++Xvv9lb3vg3Pv2MZTzRm973v2MZUpm5+Dc+kMH5j/AOgDo5+b//w/aRutxL3EpNpxkNCQAALCqUFBVusIxITFIWjoeICWi8JBLFRcfcAwSDlEoJx8dClyA3tXU0R0fHGNpfmIzvRk52rqj6s/0X+NhaTOW+hqLOnf+zIUJW/IFmsppgouSVClK+JCbIxj9//tSxAYACzD3TBj0AAGLE693GJACONRjyhTnC4A1BwUEMg5nlJp4u4kZTCkMSPaBPXaJBlHnB7Bj2b/UD7odcim50RfzwlclWiGHy5yzukpU08j6VC7Ja6kRiDreXWngYPaJW4tXs9ZKYzUnE2pEJB3ZLAsPBTzyZYoW11YYIxHJpikgMedyRkYHGlyap1uA5Ex5M3fnvEiZsnbbMrZK6vLvzrM8knqsz0pDhhoJEkWc/YxVkWsOYnJlwfD4esGHT3+j8qVVUAXShNhIRaZKolL/+1LEBYALmNNOGYeAAXAeKpcesADGJQt1FPvOzeCZQ/kOgOxPk6cbnBc4KGyw5q7qkmWIibfdv86SKGEGfPq+2dVz7/bFdsgP4X9rY+vj/EK24UJ9/rH////+I1sPpwKzXf1PigqgD/FDBhQqtNrRTM9WlibHygbmJzfsirIpmbWuzZVnjvP1dPiz1PMT6z2dnda3DYA8BMIc01ndW+ou8sMAIA0DdDvt8VPH+TD7Di6BMv/7///8dZ/E5cP/q8Hw9mXUAADsEEAABcAIk6Y9WP/7UsQHAAwQz1E5hIABe6Kpwx6wAIrZkTD3YeOD70hgFwI/CeYgMBT0SdgkCSnoy+q0qGfdK7L5YieREIZ3auOQj7BYBRzbAXxuPr78zoAVDLKrKHa//////sUimRoAnf+0sFajPqjSijiEsprzPMn4bnVD6EhqjULI+ihUPA64WeHsgzQpKh3PhnZRtG6zVSvvEgBYEA2QO4dTka/q84O0fmoExjZiHd1/LWJstNjoub6Y/uKqdEdi6R9reeHZ7j4///1Wckq6bbbW66avabTW//tSxAUAC6k3fbj1ABF7JWwnEoAAaPNgQtNICK9y2qGPEa1C6u44ZV8icwwQg4qywhB+LwFy557EcnMMdidt2kjqphISHofMo7sPPVrGL2trnn0q9P1b/fS1Lou/2zP97mpsVARH//tplqZEAEYAUACItAJaq+IbbJ0bM52jXkxzAndCrOOihicCohNCuYIAigByRixmPTYOgTSDGhY2vqPqYoXPuV+v//QgyVHpr81///7CiwcZolLX/H6///+eD5cHHI//6aqqkUEAAAAEJEv/+1LEBQALeQtpOMOAAYEzaauYUABEGODHwQPky5MrJz7H0AkGjR400gLAqNh1kSXEsHwwgpGrePCoaDh6UNX5rjxIdc3/5E0SyhMsRSo6rf6DZTj1elv0/5g1UwbjQ4aIqgd/yX5abgACA0XJAY8DU0HYFx4JhIJa0OA/ZoVjeIzAIZDCweMHSxoi91c5BQzlaQqHv0Ew4Q70FEZc7VbZG+keo91fX6o0733VbaLZ00O26M6STmIjm0T15P221f/1rr3/2rjUZKcICAA1acwzmP/7UsQFAAuct0eHmG1BYjNocMGKcIxbl9Qllem6jU8onrIDHAQkSPRTWXR6VEl7uvfA0X5rZRHJ+0VROfPy8zVeaN5mgzrKeGAXApsBmXpSDaixoaARS1g7kSwSKIGjVDVqX6Vf/+4klY4qkAIf0XioijqSgLMgSEo1TFk5UnjJUmydLqKtXSdsUbG5sui9Xvxo32NDMqeXnt/qvMotRyuQt/PvXKiP1rmXsjimP6+y6u+zV/ZE6y0+VUX/////qNUmZWIAgqtheCcAwZrwlBFK//tSxAgACmCzO4YMUUFIlab09gx8TbC9DjLB6erTlpc1goMz2NmcOBiyUkbyRvWNUzNjNoq+/uaz2YrqNeYM1CV9GHfOjXCwVm8S0liSXhZMLRa4Wf//6HLr/IiEYSSQqzbL4KUfAWFwhBMeBMVzIRvZMSSZP01a71mVSjM3ZmeWtPJf43cbMyfpfxj2jH1S7hmAqjqZGoixpUsVEU8dKhKR5WR5EqVXqRSqAMlKLJQRAipvQFApQ41UqFAYBCjCrquwoy4aiSBoqBXHSQmeREv/+1LEEwIItFMaxiBgQQWnGMhQD4g8WXqPRLaHflckR/iWyt1k7zsKv513ki2zeSnSPATxEAA1AMNEDkOioip/+qKqf//+qKqf/n+ysFBAg6GWygpUMvWSoZMstQ/1a2X2ChgYMEHBMaKizTQVFG4sK4qKC38XTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==",_0x72d7be="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAKaQEcFBQAAVYkMHcMcAL/AMbgABGKJzwiaJ8EChkigpU3oQKB+L2goKCiVy7wHANA8LAUBZRbkBwYWAICwxxd/kUMTcsXeBc+ETd4Fxe4RERHe9EMTSv0RJFDBoP+Xh//B8aer+/TNRis1GtBoMCD8LkEbxA8gv2WBYHJjgHEROezGHiQI6XsfG4rEcubaehlBEEhRIK0OQ62snHDEXp+hkmYjHDRlod/+yvW2v///seYXAYb//hlkYAiAABSBdBhSMDWnRRCAX6U//tSxAkADNExU72CgAlZDGpxh5hgqTWpna7PQZHo1HLwkYPAMLjVQJAKcw4cBAIUCh4pQ6KOxEFURhEoiNdzuZDJupVKWgl0cyE+T21VTui59/PKNPM58c7O+ifshEJ3kYtxdJ0zqw5RlYAFgEAAD4UIXIM0Bqc5UshPiBptXsqbYUiGD5JiKs0iipzcNIugcUqGJeklzVuULhh44XPsDB9BBrNAlQ1ArkmLbF3VQaKBOqfXV0JYYLDW2Qgn//+hMSSZSIIABSgqwwhYGJKiL6z/+1LECIAMmZtPtYKAAWofqcMwsABB7nejMrjr/TMolk/UACGB0YHjkKUXFVjWOjRchimRFOQcWRnmq6sQXHLajHdyMd2e1G2akl7NOr27exckium26XTS3f5b2bf8rq//2/tbZFXf/jkcrQ0uEqKN5K6Oltx5l+Vu1yRyM3YT4aS7qt6adEjyx1UeeQpMD2G8srpZ8VZMDwsWDe1sRM3X9Ga4IA+Ewr////9dcbDgIhiCf//z///mq5pDSedPstKf71oVgwQA8wAAAA0AA1XkW//7UsQGgAwo51c5hYABbouom7CQAPbZZSRqKuS6NJnKYvZilDIQyM9meYikeafiVSVJML1+ZUJJgmokbJHopp3hrJqfUWND0tNYl26fqoUXXVJLj1uh0dR/H0xa2Vy1x4xJQF8uYexKo5iAII8kYKlhllt1lVO6zhWmeNu+r9MtkEFz4+TgcRG29Y1RV9sRjP5iqr6YljwZAYNPBuRfPkBO0Ai6CbACbEIndE4o2kci2wwtpGz16yWsHkuGUn1oDn+r8sfaS2dRRQESScYngnxe//tSxAYAC4BrS6ewZwGJnml+nlAAynKM8BJBvkNAMA7O1BcQka/mzO4aVRyN6nbasymxAaiY7mFIqA6ISAoYOoaFG1ihASrPmTdaCyxKLhAKFQYcGD4rGpZoVANI+5ymv2V//5EUlkREIzIjZFxP0IknBKjROFDh9JRtjKqElVRAVzOEBRhomPFjM7nYiIcTISpzmscogMIS7nad0IhhxplpY1mu6/ftsRp/7v/7ucNGig0FiSgQm0PIDBcWFllHsGIWAnf//TX+v/v8BdUEDsD/+1LEBIALSStdOMQACYCgr/cecAIhrXVoe01en5EJ2xq7udDwJ2BY8CJaF5QNBcO2rUVWjBt0PTub/BeLMe/y9x/92kni7UlfMN/+kXyWPh4iYv7/jf25tpPjn///r6+PrM9WcQIsllttktrkksgbDAtEAFAm1upxSnQcEFxKujmoGnS06EwiiASzheJAPhSg2GxY0sawwLjyhMdOTFxovHjdfeceXEULGEjXMT/Y1DBqcnT/0dEohdv//xacaNQyom4DK/0qAZg4QlmkDtBxaP/7UsQFAAtobUA9hIABVY8n4PeYMPDaE1Jp80JSgysUWdWHMG7FDI6TBAqSpVGDFtWnKknomqR3G689cnRMJGw2EcJzQ+wu2WyzltfGWoWYGGA2MF6RWeKXF4qKmoleBSZxQX//+sH2QIWBQl7KM4mIM413iKCUMJuluR90YvMtEAqF3Y0iFEt8omvNzKHmWbJd5OpErJKs3kQmdEUieSWxwhaPPDAZdKuQva5SmABr8YqVtHNCTehyWzNdMbrlaKsoIDMDAeBIwDUlDyLB/Xk0//tSxAqACdxTRYYYbmFFk+hw8w2kKTlfBUSRSQGCkYhNmZtVeRUYUZIa46CTGirqVRtEsFLyUuwKDys6l+dMi2KFTHTI4iigGDxQZ3rbGBfO6Nvr4YSIxVSVhdU4cJ7I9mOpPnCsHUSsAsRkCJOiqkfVEZOKkowaxjXSxj6UXPql+zayWt0TR8qtTydORTnsjvYsSVxdOdUkil4YKiZdepUH1RwlNbLAcgaKJyIpVBIrgyuDAnTDMg0dQqQZ1CM4kUFCipMEbhJX76UTY/qVqL//+1LEGAAKODc/hiRm6UWHJnD2GNnye55tTaLvsNoBySlSzneLWtvj//99+7PzuWv85o19rW5sCJRIgA13AGElAQ4UafqiTkDJMF5ijJsR8STgiDHhjrVR6ySWUkxMci+ov4Irej8vswk4l2aUSyzJRx0LH/77bfPO17qZdk/qja8KZ/8j/t/qKgHC2iAF1QBCQiQXppI5ZA8SxaWQqEEkJyLGTToweRJSYtS6BEpUSVlRVL1Rcexc6GF8Fv2dtFprh3ZfxJ1pt/5xOW/ZP8n53//7UsQkAAmkOS+HsMUJSo8kpYYYaPj+n+/+BLUADygDCS0QtNZhNKiGYDI/EgtkU3WC49PiRpQGUepcKXmzUs7w+bm5rS27KtzLRotgdOnTow0LgsLFhLY4ysaLzCEJuQmJ+5C//op98r//1DoBVpCrgRGuQk0GWtqBMYoSVKSIUgmmGTIEyrKUmVlMjInQdKV5YTKatrkZZeVLI03lwZwfOpCLq7v+f/T+ma9X///SAYqJEFAdGjS+jF2UOgmo5SZjpRZ5SKSBZ0m6VldLDI4F//tSxDIACFybIywYY8EIjeOdgwx48eakM4JaHCPQMgB8aTGEQI9lHb/s1p+jNPu6Otlbf//pI0mYuQAqDqaImZjUgx6ZA/QgtHRRdmYlAMBYBkAugWAcEykKiJm5u9Z12eb7aForiFE4nufci5GrVZzFniXsF0Jd5OSAAWC2hqQkKUzjyGAxF2IDrIEkC5Ol0o6GbiDyZxrwXEgESYJQ0heNdO3a6d+tiMry38NdbpIRVjXcNLDXyv2V1MYNMIqE9ASA0mkkSSyVACEhJ1kVAyD/+1LETYMIiDcSJ6TCgREJIQj0mEhI0adaOEoJFjTnRxmJWo7UREkSrDTxKCqzKw0JXNvLB0SmTpt4aH1yP//////3BPJFRo86GiTQdWAhkACSoABCSLoq3QASLVYzMyr+zMGXUm4zVVVVL/Veqqsx7Nk0bKf/+vQp0RPDoKqBo3Dankf/////+Gg77Cp0FQ0C2JQVDtUIAAAJM7cbQOmILSmuPHFFGIGkgBSbzVo7EJFDJAKBUyMEi0SVovJ1o08qROhUBESR5ykEQkPQnCacJf/7UsRnAQlwVvYGGMcBGpQcqJMMGFsin9jf/////9VZF1bIqkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq//tSxHuDyTRCmwzowwAAADSAAAAEqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqo=",_0x5bbd76="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAI9HMsdBMAAaQdrrcY8AIAAAC2MbgAADkAAAQXe/3d3GezyZNNgcLJk77RBO9ggQIIOQIIHN4gBB0hz5QEHYIAgGHiAEAwJAQ4IAg7/y7/5c////BBwIfXVZKN2RMtmNtFIwQAAwHonl5QsUAbBuCTYkGb77ixE2Mi6hwFuZPq+1UO3Hv4b+PCevhTsTvIj+94mlapXG+nld3+rZ+Nfda4jZ/+/77+8Uhf2/z/ffpfN70p9/wcVxbGv5gsKvn//Jr/pOTIuSgJuW4A//tSxAUAC8zTX7mFgAF1JG43EoAAICAABkNDTMzZs/JIctA1l3m6OInGr1S6WM3ZuH4J9zQ7RFHcbDdBoitA7Sweoh31vA8uV2apIxN8u8bUumnWxfMMi74mLbBsbf///+Si5sJSx3/ALgkUikDgiDYUCYDAZAEskwoskyciHnfTYkKDquBoAexF7QLoLjFG1N1QiuDc0lGq0pwBwcBWHZhTr/f+wgForPcT//f5BrQffrE03//7HyW/cTG23////8LfoY5vReqwwAACAm9wSjf/+1LEBQALuGNZvYSACXsSavT0jSiS6/cHvDkw5wpmQO9LqZ3oGl0aFKFkKmE1DUotS2mltV33GMPu1JFL0IMv/4pQUFNkcu2Cjf+9/+EdCCgp/9d+Xwkv/l/guIqEFPhBS7/KHZfz4ur/+4S3CE5N6F3su6FocQs7VCWxFIAkNmTIkklmrlRynQkrqjg5srhKekr5Z36cMpTN3jwnA4IoGoWGn4GEBMEBp9YsVCIWDBMzDGw+GGsdQNGUgQkXAhcECG8If//5NVrLECCAACpAFf/7UsQEgAuQcU2npMqJbyVqPPCKuCTYY6ycRinSjDTO45UaVDKzIc2LYHkMSvRqJ/dntDI21PfY3UoLSIE6nUpfA1VaVCpxKnXn5dsJNO0lmaWx/nylCiJLrnzmeU4jAkWNq8fu//+llVmERzIyILad0RZ6RiaoeYZ0JM/EMlYVBZTpNUXjRnjW+1TE9sxtk0IPCRk0QgCkIyjUQwzO/UoToUifu0dhJoQBHGEvYVTOqISZwkancB+LGdBLxZT4C3mf//tVAcKgIACg4KQTIhm2//tSxAYAC0ifQYYYcQGBm+finoAAIAjB0jFJUVg0O4YyK2rPXiwDqKJ6xtWU8+DNZP7f03R6Vy8dozG8+NeVV2YypC2oeRJ3mhRgWFQoFSKXq7RqB52fF9wHCF2lqZxTv//kg6xQEIwQ3ohrMx/rylR8c/Vt65aaWhjEOJDwAOMQqSYei2HC8HUrkIilHCUohlHqMouL7q1iIaITSd494lbq445VFnRWUaUWwraj0UqkGg4A7IxxyceOqUXPgRGR///8knFYbVSLCwKRWIAgAgD/+1LEBoAMMOVhuJWAAWGNKj+ekAAHark7uTZI8Y3BQSElzY2AmFR2GWiAwWHj7I3s2D2CfKVjy9dy7BFGsdhccgvWa3r+HvvPHKdMbuuet5oyWvNIpzuYv/69ImJon2PvX/LgUBgkA1GUWFMBQAAABATBqDTLkTRChbCWFzJkmVM0JGJVdy3kisLGSZEhTatbrb5SyaHoVipRGjMtEtJsAUJEn9T6aJ7FhZQsHgKKGgZCqfoKxEIgaf0LnmEYkGXqLw84HAAD9WEsK4yk0FYlB//7UsQHgApknUWHsGPBUAwodMMNyUIwisFgKrkxcS1xUq4W3WHz46MOAO6jGaZSyKwJYbMq/kzkk0y2u5JcHQhH3MHOACibNJZKFJuV6rLdCQ6pkmoQuFLFEytOEJANtOAAqh4Iz4QQOl9IEp8ThOgPyueFTWGiXXSDCYLyRQ97xbmxDU22/t6U4o3gbt5k/2Zdq0fXva11z/1Q/edmmv18H7c56zKo7jdFNjezKmdW40QE421AxCxrgmwhkIVOlhQeC0fS2H5LlEh/RpYc94uG//tSxBGAClSnP6ewY8FEGOf0ww3c9Ip3QLTlUsRXezErwrFhv4ZzszPSHNlByqwrF6xi3oQWF/Wq7R1QYB1ISF54di9Se8riaRcKJIA2OwHyQfjSE49xjEwTmxujEtDZcDLPCj0jZWnszBhjachEXoTXIH214/UR7JJlS/jG/r2ufT3MvYMuSHvhO/Ef3oXanbqPBS5FitrcbffSoAYRTEiRFwPB8H0ZnzRo+jEYfEJxLWMCVTKRfyUUYpr/NNLAWMR3mNd9c+wkrmv8L0ls9/v/+1LEHYAKSEdLhiTI+TwUJnDEjV2+jFzj+Kct7tNfOpNzJP99Xc7f8fy//sN26xEN+iAlK4RBcXrnh2GAii15UDwqXD6yKSzWtNMqqoCFVVgJpIxsJEjJtGYTCIlLLc9VJO51jgo6+72r2C1/CKf7rfjqs02NG+bWs97VAVpFJ6AH4dh2DO7piesMrR1HUmk09goFBQUFIjZxpRIkSJpv920iItHGlV6WZ5mZ7bSSs6LTwIDSQQExsktyoKnXD1LWLKNo39Fmvq1tX///WABKgf/7UsQqgAo0nSUmGG0BKZAjpMMOQGoAA0piQWsTLrNnx8uQx1EF2ToqrWDoyXNshKWyaAqcYuMxkqyqt/aKRysoNiLUKGnSwdUbWE+Ik32nUfrd5DV/YqnZ/R/rGEaw3S8pNFRSgJYEQamS4DBWHErBQliSVEtNRYGhMFQ0DWCsOhtZ0lBoS1hu7WdYhfQJS2dz0q4sJXWiLiI9WCuDUO2W/3/p4lJERG2VkQqRBZhERNUifzCu1VXZvCiQEBQFLVPBXSddDS4KlQV0aMFXZLnq//tSxDqDSTBDDgekwwEWiZ4EkI2QgaBp6hEeO2509BVYKyrqtbt3Ep3f7DpENw6qTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr/+1LEUIPAAAGkAAAAIAAANIAAAASqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==",_0x15d9a6=_0x1bb6;(function(h,o){const e=_0x1bb6,i=h();for(;[];)try{if(parseInt(e(193))/1+parseInt(e(175))/2+parseInt(e(267))/3+parseInt(e(168))/4+parseInt(e(171))/5*(-parseInt(e(172))/6)+parseInt(e(161))/7*(-parseInt(e(199))/8)+parseInt(e(258))/9*(-parseInt(e(224))/10)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x1830,607114);function _0x1bb6(h,o){const e=_0x1830();return _0x1bb6=function(i,c){return i=i-153,e[i]},_0x1bb6(h,o)}function _0x1830(){const h=["keyboardVisible","map","none","#keyToggle","#keyboard","touchcancel","3403188UVfAwX","focus","mousepadVisible","105HTaoGm","249006YegZlw","QWERTY","suspended","1589170FvKgfB","Failed to initialize AudioContext:","entries","STRIP","playSound","toggleTouchKeyboard","keysDown","touchend",".kbCtrl","gui_type2","loadAllAudioFiles","touchstart","catch","audioFiles","showTouchKeyboard","classList","playSoundHelper","updateMode","561663reKuuf","Escape","ShiftRight","display","state","hideTouchKeyboard","8UVQKsM","querySelectorAll","gui_type7","process_input",".layerA","data-code","textContent","#keyShift","&#x25B3;","cors_hidden_input","isQuest","State","location","click","cors_query","input","audioContext","shiftKey","#kbCtrlClear","keydownHandlerBound","active","innerHTML","add","CURRENT_SCREEN","removeEventListener","230XaFuef","showMousepad","Error loading audio file ","bind","querySelector","gui_type3","keyboardStrip","audioBuffers",".layerB","toggle-keyboard","visibility","buffer","data-value","which","paddingTop","keyupHandler","getElementById","keyupHandlerBound","keydown","resume","Shift","settings","AudioContext is not initialized.","type",".nostrip","target","CAPS","initAudioContext","AudioContext","data-shift","visible","contains","forEach","clicks_on","509373ebWUII","Mode","then",".xx","code","0px","keydownHandler","addEventListener","hidden","1842108acIFnB","key","Layer","remove","reset","EMULATION","dispatchEvent","charCodeAt","#keyboardContainer","block","isDesktop","#kbCtrlArrow","gui_type1","keyboardQwerty","getValue","audioMap","style","gui_type4","showJoystick","gui_type6","error","&#x25BD;",".layerC","gui_type5","gui_type8","getAttribute","parse_hidden_input","all","keyup","285005WkAmsg"];return _0x1830=function(){return h},_0x1830()}var _a,ri,Ji,l0,$o,ad,od,es,ts,rs,sd,cd,Vc,$l,Uc,ef,jc,tf,zc,rf,Hc,nf,wi,Gi;const Tn=class Tn{constructor(o){Nt(this,Vc);Nt(this,Uc);Nt(this,jc);Nt(this,zc);Nt(this,Hc);Nt(this,wi);Nt(this,_a,void 0);Nt(this,ri,void 0);Nt(this,Ji,void 0);Nt(this,l0,![]);Nt(this,$o,void 0);cn(this,ad);cn(this,od,{});Nt(this,es,void 0);Nt(this,ts,void 0);Nt(this,rs,void 0);const e=_0x15d9a6;nr(this,Ji,o),this[e(181)]={},this[e(188)]={gui_type1:_0x36230d,gui_type2:_0xbdb37b,gui_type3:_0x1ed5c1,gui_type4:_0x232d1c,gui_type5:_0x33ec38,gui_type6:_0x338440,gui_type7:_0x72d7be,gui_type8:_0x5bbd76},this[e(282)]={Digit1:"gui_type4",Digit2:e(155),Digit3:"gui_type6",Digit4:e(201),Digit5:e(156),Digit6:"gui_type1",Digit7:e(284),Digit8:e(155),Digit9:"gui_type6",Digit0:e(201),KeyA:e(279),KeyB:e(286),KeyC:"gui_type4",KeyD:e(155),KeyE:"gui_type5",KeyF:"gui_type6",KeyG:e(201),KeyH:e(156),KeyI:"gui_type4",KeyJ:e(279),KeyK:"gui_type4",KeyL:"gui_type5",KeyM:e(156),KeyN:"gui_type7",KeyO:e(155),KeyP:e(286),KeyQ:e(279),KeyR:"gui_type6",KeyS:e(284),KeyT:e(201),KeyU:e(279),KeyW:e(284),KeyV:e(155),KeyX:"gui_type1",KeyY:e(156),KeyZ:e(156),Space:"gui_type1",Enter:"gui_type3",Escape:"gui_type2",Backquote:e(279),Minus:e(279),Equal:e(284),Backspace:e(184),Tab:e(184),CapsLock:e(229),BracketLeft:e(201),BracketRight:e(156),Backslash:e(279),Semicolon:e(286),Quote:e(201),Comma:e(279),Period:e(284),Slash:e(155),ArrowUp:e(279),ArrowLeft:e(284),ArrowRight:e(286),ArrowDown:"gui_type5",Shift:e(229)},this.initAudioContext(),nr(this,_a,Tn[e(259)][e(173)]),this[e(218)]=this[e(264)][e(227)](this),this[e(241)]=this[e(239)][e(227)](this),nr(this,es,sr(this,Uc,ef)[e(227)](this)),nr(this,ts,sr(this,zc,rf)[e(227)](this)),nr(this,rs,sr(this,jc,tf)[e(227)](this)),sr(this,Vc,$l).call(this),sr(this,Hc,nf).call(this),document.querySelectorAll(".kbCtrl")[e(256)](c=>{const f=e;c[f(283)][f(238)]=f(263)})}initButtons(){const o=_0x15d9a6;createGuiButton(o(233),"Show Keyboard","Kb",()=>{const e=o;this[e(251)](),setTimeout(()=>{this[e(189)]()},50)},!![],o(261),o(245))}[(ad=_0x15d9a6(215),od=_0x15d9a6(231),sd=_0x15d9a6(210),cd=_0x15d9a6(269),_0x15d9a6(257))](){document[_0x15d9a6(265)]("keydown",this.keydownHandlerBound),document.addEventListener("keyup",this.keyupHandlerBound)}clicks_off(){const o=_0x15d9a6;document[o(223)]("keydown",this[o(218)]),document[o(223)](o(160),this[o(241)])}initAudioContext(){const o=_0x15d9a6;if(!Ke(this,l0))try{this[o(215)]=new(window[o(252)]||window.webkitAudioContext),this[o(185)](),nr(this,l0,!![])}catch(e){console.error(o(176),e)}}async[_0x15d9a6(185)](){const o=_0x15d9a6,e=Object[o(177)](this[o(188)])[o(163)](([i,c])=>fetch(c)[o(260)](f=>f.arrayBuffer())[o(260)](f=>this[o(215)].decodeAudioData(f))[o(260)](f=>{const m=o;this[m(231)][i]=f})[o(187)](f=>console[o(287)](o(226)+i+":",f)));await Promise[o(159)](e)}[_0x15d9a6(179)](o){const e=_0x15d9a6;if(!Ke(this,$o)){if(!this[e(215)]){console[e(287)](e(246));return}this[e(215)][e(197)]===e(174)?this[e(215)][e(243)]()[e(260)](()=>{this[e(191)](o)})[e(187)](i=>{console[e(287)]("Error resuming AudioContext:",i)}):this.playSoundHelper(o)}}[_0x15d9a6(191)](o){const e=_0x15d9a6,i=this[e(282)][o],c=this[e(231)][i];if(c){const f=this[e(215)].createBufferSource();f[e(235)]=c,f.connect(this[e(215)].destination),f.start(0)}}keydownHandler(o){const e=_0x15d9a6;EnvironmentManager[e(277)]()&&(s("div#keyboardContainer")[e(283)][e(196)]=e(164)),!this.keysDown[o[e(262)]]&&(this[e(181)][o[e(262)]]=!![],this[e(179)](o[e(262)]))}keyupHandler(o){const e=_0x15d9a6;this.keysDown[o[e(262)]]=![]}[_0x15d9a6(192)](o){const e=_0x15d9a6;switch(o){case VME[e(222)].MENU:nr(this,$o,![]),document.querySelector("#keyboard").addEventListener(e(212),Ke(this,es));break;case VME.CURRENT_SCREEN[e(272)]:nr(this,$o,!![]),document[e(228)]("#keyboard")[e(223)](e(212),Ke(this,es)),document[e(228)](e(166))[e(265)](e(186),Ke(this,ts)),document[e(228)]("#keyboard").addEventListener("touchend",Ke(this,ts)),document[e(228)](e(217)).addEventListener(e(186),Ke(this,rs)),document.querySelector(e(217))[e(265)](e(182),Ke(this,rs));break}}[_0x15d9a6(180)](){const o=_0x15d9a6;s(o(275))[o(190)][o(255)]("visible")?this[o(198)]():StorageManager[o(281)]("SYSKB")=="1"||EnvironmentManager[o(209)]()?document[o(240)](o(208))[o(169)]():this[o(189)]()}showTouchKeyboard(){const o=_0x15d9a6,e=document[o(228)]("#toggle-keyboard");e.style[o(234)]=o(266),document[o(200)](o(183))[o(256)](c=>{c.style.paddingTop="6px"}),s(o(275))[o(190)].add(o(254))}[_0x15d9a6(198)](){const o=_0x15d9a6;UiManager[o(162)]=![],UiManager[o(170)]?UiManager[o(225)]():UiManager[o(285)](),document[o(200)](o(183))[o(256)](c=>{const f=o;c[f(283)].paddingTop="0px"}),s(o(275)).classList[o(270)](o(254));const i=document.querySelector("#toggle-keyboard");i.style[o(234)]=o(254)}};_a=new WeakMap,ri=new WeakMap,Ji=new WeakMap,l0=new WeakMap,$o=new WeakMap,es=new WeakMap,ts=new WeakMap,rs=new WeakMap,Vc=new WeakSet,$l=function(){const o=_0x15d9a6;nr(this,ri,Tn[o(269)].A),document[o(228)](o(278))[o(265)](o(212),e=>{const i=o;Ke(this,_a)==Tn[i(259)].QWERTY?(nr(this,_a,Tn.Mode[i(178)]),s(i(166))[i(190)][i(270)](i(280)),s(i(166))[i(190)][i(221)](i(230)),s("#kbCtrlArrow")[i(220)]=i(207),document[i(200)](".layerA")[i(256)](function(c){const f=i;c[f(283)][f(234)]=f(254)}),document[i(200)](i(232))[i(256)](function(c){const f=i;c[f(283)][f(234)]="visible"}),document[i(200)](i(154))[i(256)](function(c){const f=i;c[f(283)][f(234)]=f(254)}),document.querySelectorAll(i(248))[i(256)](function(c){const f=i;c.style[f(196)]="none"})):Ke(this,_a)==Tn[i(259)][i(178)]&&(nr(this,_a,Tn[i(259)][i(173)]),s(i(166))[i(190)][i(270)](i(230)),s("#keyboard").classList[i(221)](i(280)),s(i(278)).innerHTML=i(153),nr(this,ri,Tn[i(269)].A),document[i(200)](i(232))[i(256)](function(c){const f=i;c[f(283)][f(234)]=f(266)}),document[i(200)](i(154)).forEach(function(c){const f=i;c[f(283)][f(234)]=f(266)}),document[i(200)](i(203))[i(256)](function(c){const f=i;c[f(283)].visibility=f(254)}),document.querySelectorAll(i(248))[i(256)](function(c){const f=i;c[f(283)][f(196)]=f(276)}))}),document[o(228)]("#kbCtrlClear").addEventListener(o(212),e=>{const i=o;!Ke(this,Ji).is_loading()&&Ke(this,Ji)[i(271)]()}),document[o(228)]("#kbCtrlCross").addEventListener(o(212),e=>{this[o(198)]()}),document[o(228)](o(206))[o(265)](o(212),e=>{const i=o;Ke(this,ri)==Tn.Layer.A||(Ke(this,ri)==Tn.Layer.B?(nr(this,ri,Tn[i(269)].C),document.querySelectorAll(i(232))[i(256)](function(c){const f=i;c[f(283)][f(234)]=f(266)}),document[i(200)](".layerC")[i(256)](function(c){const f=i;c.style[f(234)]="visible"})):Ke(this,ri)==Tn[i(269)].C&&(nr(this,ri,Tn[i(269)].B),document.querySelectorAll(i(154))[i(256)](function(c){const f=i;c.style[f(234)]=f(266)}),document[i(200)](i(232))[i(256)](function(c){const f=i;c[f(283)][f(234)]=f(254)})))}),document[o(228)](o(165))[o(265)](o(212),e=>{const i=o;Ke(this,ri)==Tn[i(269)].A?(document[i(228)](i(206))[i(220)]="MORE",nr(this,ri,Tn[i(269)].B),document.querySelectorAll(i(203))[i(256)](function(c){const f=i;c[f(283)][f(234)]=f(266)}),document.querySelectorAll(".layerC")[i(256)](function(c){const f=i;c.style[f(234)]=f(266)}),document[i(200)](i(232))[i(256)](function(c){const f=i;c[f(283)][f(234)]=f(254)})):Ke(this,ri)==Tn[i(269)].B&&(nr(this,ri,Tn[i(269)].A),document[i(228)](i(206))[i(220)]=i(250),document[i(200)](".layerB")[i(256)](function(c){const f=i;c[f(283)][f(234)]=f(266)}),document[i(200)](i(154))[i(256)](function(c){const f=i;c[f(283)][f(234)]=f(266)}),document.querySelectorAll(i(203))[i(256)](function(c){const f=i;c[f(283)][f(234)]=f(254)}))}),document[o(200)](".key").forEach(function(e){const i=o;e[i(265)](i(186),function(){const c=i;e[c(190)][c(221)]("active")}),e[i(265)](i(182),function(){const c=i;e.classList.remove(c(219))}),e[i(265)](i(167),function(){const c=i;e[c(190)][c(270)](c(219))})})},Uc=new WeakSet,ef=function(o){const e=_0x15d9a6,i=o.target;if(i[e(190)][e(255)](e(268))){const c=i[e(157)](e(236)),f=i[e(157)](e(204));this[e(179)](f),!Ke(this,Ji).is_loading()&&Ke(this,Ji)[e(202)](c)}},jc=new WeakSet,tf=function(o){const e=_0x15d9a6,i=o[e(247)];i==e(186)?sr(this,wi,Gi).call(this,"Escape","Escape",e(242)):i=="touchend"&&sr(this,wi,Gi).call(this,e(194),e(194),e(160))},zc=new WeakSet,rf=function(o){const e=_0x15d9a6,i=o[e(247)],c=o[e(249)],f=c[e(157)]("data-value"),m=c[e(157)](e(204));c[e(157)](e(253))?i==e(186)?(sr(this,wi,Gi).call(this,e(244),e(195),e(242),{keyCode:16,which:16,shiftKey:!![],location:2}),sr(this,wi,Gi).call(this,f,m,"keydown",{shiftKey:!![],location:2})):i==e(182)&&(sr(this,wi,Gi).call(this,e(244),e(195),e(160),{keyCode:16,which:16,shiftKey:!![],location:2}),sr(this,wi,Gi).call(this,f,m,e(160),{shiftKey:!![],location:2})):i==e(186)?sr(this,wi,Gi).call(this,f,m,e(242)):i==e(182)&&sr(this,wi,Gi).call(this,f,m,e(160))},Hc=new WeakSet,nf=function(){const o=_0x15d9a6;let e=this;document[o(240)](o(208))[o(265)](o(214),function(i){const c=o;var f=document.getElementById(c(213));f[c(205)]=this.value,Ke(e,Ji)[c(158)]()})},wi=new WeakSet,Gi=function(o,e,i,c={}){const f=_0x15d9a6,m=new KeyboardEvent(i,{key:o,code:e,keyCode:c.keyCode||o[f(274)](0),which:c[f(237)]||o.charCodeAt(0),shiftKey:c[f(216)]||![],location:c[f(211)]||0,bubbles:!![],cancelable:!![]});document[f(273)](m)},cn(Tn,sd,{OFF:0,ON:1}),cn(Tn,"Mode",{STRIP:0,QWERTY:1}),cn(Tn,cd,{A:0,B:1,C:2});let KeyboardManager=Tn;var _0x3dd05f=_0x4744;function _0x4744(h,o){var e=_0x45bf();return _0x4744=function(i,c){i=i-228;var f=e[i];return f},_0x4744(h,o)}(function(h,o){for(var e=_0x4744,i=h();[];)try{var c=parseInt(e(239))/1*(parseInt(e(240))/2)+-parseInt(e(234))/3*(-parseInt(e(235))/4)+-parseInt(e(231))/5*(parseInt(e(236))/6)+parseInt(e(232))/7+parseInt(e(237))/8+-parseInt(e(228))/9+-parseInt(e(230))/10*(parseInt(e(233))/11);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x45bf,942927);function _0x45bf(){var h=["991rCdNIn","3594uIPbwc","11389374yVLaME","get_keywords","80eYpizF","35WOkbld","8181775rDIXTd","2984003gnzfkZ","6jXmMNh","2828764IEXMAq","137058JSDCfk","1395712AkBPwq","print_help"];return _0x45bf=function(){return h},_0x45bf()}class HelpCommand extends CommandBase{[_0x3dd05f(229)](){return["help"]}get_help(){return["help","show available commands"]}process_input(o){var e=_0x3dd05f;this.cli[e(238)]()}}const _0x2e6dc7=_0x466b;(function(h,o){const e=_0x466b,i=h();for(;[];)try{if(parseInt(e(254))/1+parseInt(e(264))/2+parseInt(e(267))/3+-parseInt(e(259))/4+parseInt(e(276))/5+parseInt(e(261))/6+-parseInt(e(252))/7===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x24da,932134);function _0x466b(h,o){const e=_0x24da();return _0x466b=function(i,c){return i=i-248,e[i]},_0x466b(h,o)}function _0x24da(){const h=["entries","cli","3898135CRxFNM","sys","toLowerCase","show_results","reset","31081953xzbDJK","localeCompare","992044HXxppi","filter","sys [FILTER]","includes","is_selection_enabled","500560WraqYP","process_input","9581430azgGPy","short_name","platform_id","629114aJMuVh","switch to system [FILTER]","values","5443260gqslPF","setSelectedPlatform"," - ","map","sort","platform_name","get_keywords"];return _0x24da=function(){return h},_0x24da()}var ns;class SystemCommand extends CommandBase{constructor(e){super();Nt(this,ns,void 0);nr(this,ns,e)}[_0x2e6dc7(273)](){return[_0x2e6dc7(248)]}get_help(){const e=_0x2e6dc7;return[e(256),e(265)]}[_0x2e6dc7(260)](e){const i=_0x2e6dc7;let c=[];var f=e.filter(Boolean);f.length==0?c=Object[i(274)](SelectedPlatforms):c=Object[i(274)](SelectedPlatforms)[i(255)](g=>{const Te=i;return g[0].toLowerCase()[Te(257)](f[0][Te(249)]())||g[1][Te(272)][Te(249)]()[Te(257)](f[0][Te(249)]())}),c[i(271)]((g,Te)=>g[1].platform_name[i(253)](Te[1][i(272)]));let m=c[i(270)](g=>{const Te=i;return{id:g[1][Te(263)],label:g[1][Te(262)]+Te(269)+g[1][Te(272)],data:g[1][Te(263)]}});this[i(250)](m)}[_0x2e6dc7(258)](){return!![]}process_selection(e){const i=_0x2e6dc7;this[i(275)].set_loading(!![]);let c=Object[i(266)](SelectedPlatforms).find(f=>f[i(263)]===e.id);Ke(this,ns)[i(268)](c),this[i(275)][i(251)](),Ke(this,ns).updatePlatform()}}ns=new WeakMap;const _0x55db46=_0x383c;function _0x383c(h,o){const e=_0x63f2();return _0x383c=function(i,c){return i=i-218,e[i]},_0x383c(h,o)}(function(h,o){const e=_0x383c,i=h();for(;[];)try{if(parseInt(e(219))/1+-parseInt(e(223))/2*(parseInt(e(253))/3)+-parseInt(e(221))/4*(parseInt(e(227))/5)+parseInt(e(254))/6*(-parseInt(e(234))/7)+parseInt(e(255))/8*(-parseInt(e(245))/9)+parseInt(e(218))/10*(-parseInt(e(231))/11)+-parseInt(e(235))/12*(-parseInt(e(247))/13)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x63f2,693749);function _0x63f2(){const h=["539oARnGy","cli","tags","554561FbsDat","14861172byeIat","list [FILTER]","data","loadRomFileFromUrl","Error loading file.","length","get_help","toLowerCase","localeCompare","startsWith","7134705mpwDjl","items","39rZJegX","set_loading","label","process_input","LOADING...","soft_msg","12cNLhqK","54rUKOdu","8JAsaHG","list","is_selection_enabled","filter","process_selection","238330gfMDoo","1032177rPDdVM","get_software_dir","404usVfPA","selection_changed","627658BgcsAR","To use LIST command please import SOFTWARE DIRECTORY first.","&nbsp;","show_results","6180zqsknv","root","bases","list files starting with text"];return _0x63f2=function(){return h},_0x63f2()}var Wa;class ListCommand extends CommandBase{constructor(e){super();Nt(this,Wa,void 0);nr(this,Wa,e)}get_keywords(){return[_0x383c(256)]}[_0x55db46(241)](){const e=_0x55db46;return[e(236),e(230)]}[_0x55db46(250)](e){const i=_0x55db46;if(Ke(this,Wa)[i(220)]()==null){this[i(232)][i(252)](i(224));return}let c=Ke(this,Wa)[i(220)](),f=[];var m=e[i(258)](Boolean);if(m.length==0)return;m[i(240)]>0&&(f=c[i(246)][i(258)](Te=>{const Ee=i;return Te[0][Ee(242)]()[Ee(244)](m[0][Ee(242)]())})),f.sort((Te,Ee)=>{const Oe=i,ne=c[Oe(233)]?c[Oe(233)][Te[1]]:null,De=c.tags?c[Oe(233)][Ee[1]]:null;return ne&&De||!ne&&!De?Te[0][Oe(243)](Ee[0]):ne?-1:1});let g=f.map(Te=>{const Ee=i,Oe=Te[1],ne=c[Ee(233)]?c[Ee(233)][Oe]:null;let De=Te[0];return{id:c[Ee(228)]+c[Ee(229)][Oe]+Te[2],label:De,tag:ne,data:c[Ee(228)]+c[Ee(229)][Oe]+Te[2]}});this[i(226)](g)}[_0x55db46(257)](){return!![]}exit_selection(){return!![]}async[_0x55db46(259)](e){const i=_0x55db46;this[i(232)][i(248)](!![]);try{await Ke(this,Wa)[i(238)](e[i(237)],e[i(249)])}catch{this[i(232)].message(i(251),i(225),i(239))}}[_0x55db46(222)](e){}}Wa=new WeakMap;const _0x27a93e=_0x3c0b;function _0x3c0b(h,o){const e=_0x44cb();return _0x3c0b=function(i,c){return i=i-174,e[i]},_0x3c0b(h,o)}function _0x44cb(){const h=["message","1972638ElSHNw","320kdAlNQ","17410gVlIbg","7OmBubf","cli","process_selection","test","data","792708NbZmZj","process_input","get_software_dir","items","2rIKqnS","set_loading","tags","bases","root","localeCompare","filter","soft_msg","list filenames containing text","get_help","loadRomFileFromUrl","exit_selection","map","sort","&nbsp;","show_results","2648Mabqlo","selection_changed","2114984ZnXpHd","935gjaOnr","To use FIND command please import SOFTWARE DIRECTORY first.","119867tUyIwL","831462VwrcEe","LOADING...","is_selection_enabled","length"];return _0x44cb=function(){return h},_0x44cb()}(function(h,o){const e=_0x3c0b,i=h();for(;[];)try{if(parseInt(e(186))/1*(-parseInt(e(204))/2)+-parseInt(e(200))/3+parseInt(e(181))/4*(parseInt(e(193))/5)+parseInt(e(187))/6*(parseInt(e(195))/7)+parseInt(e(183))/8+parseInt(e(192))/9+-parseInt(e(194))/10*(parseInt(e(184))/11)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x44cb,132412);var Xi;class FindCommand extends CommandBase{constructor(e){super();Nt(this,Xi,void 0);nr(this,Xi,e)}get_keywords(){return["find"]}[_0x27a93e(174)](){return["find [FILTER]",_0x27a93e(212)]}[_0x27a93e(201)](e){const i=_0x27a93e;if(Ke(this,Xi)[i(202)]()==null){this[i(196)][i(211)](i(185));return}let c=[];var f=e.filter(Boolean);if(f[i(190)]>0){var m=f.join(".*");if(m.length<3)return;var g=new RegExp(m,"i");c=Ke(this,Xi).get_software_dir()[i(203)][i(210)](Ee=>g[i(198)](Ee[0]))}c[i(178)]((Ee,Oe)=>{const ne=i,De=Ke(this,Xi)[ne(202)](),Ie=De.tags?De[ne(206)][Ee[1]]:null,qe=De[ne(206)]?De[ne(206)][Oe[1]]:null;return Ie&&qe||!Ie&&!qe?Ee[0][ne(209)](Oe[0]):Ie?-1:1});let Te=c[i(177)](Ee=>{const Oe=i,ne=Ee[1],De=Ke(this,Xi).get_software_dir(),Ie=De.tags?De[Oe(206)][ne]:null;let qe=Ee[0];return{id:De[Oe(208)]+De[Oe(207)][ne]+Ee[2],label:qe,tag:Ie,data:De[Oe(208)]+De[Oe(207)][ne]+Ee[2]}});this[i(180)](Te)}[_0x27a93e(189)](){return!![]}[_0x27a93e(176)](){return!![]}async[_0x27a93e(197)](e){const i=_0x27a93e;this[i(196)][i(205)](!![]);try{await Ke(this,Xi)[i(175)](e[i(199)],e.label)}catch{this[i(196)][i(191)](i(188),i(179),"Error loading file.")}}[_0x27a93e(182)](e){}}Xi=new WeakMap;const _0x38061c=_0x5e2e;(function(h,o){const e=_0x5e2e,i=h();for(;[];)try{if(parseInt(e(472))/1+-parseInt(e(471))/2*(-parseInt(e(512))/3)+-parseInt(e(509))/4*(parseInt(e(502))/5)+parseInt(e(481))/6+parseInt(e(487))/7*(-parseInt(e(479))/8)+parseInt(e(508))/9+-parseInt(e(483))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x3160,906543);function _0x3160(){const h=["function","enable CRT/LCD screen effect","entries","MULTI","configure system parameter","Invalid parameter.","Configure system parameter:"," | ","<p style='margin-left: 2ch;'>(&nbsp;","SINGLE","set [PARAM] [VALUE]","157190MOKPgB","&nbsp;","description","Enter new value and press ENTER.","print","includes","14201667vkVsLu","76CVjliF","is_enter_required","onChange","52743CKCwJJ","Default value restored.","process_input","Invalid value.","DEFAULT","sort","&nbsp;=&nbsp;","110nCwell","1062668NlVvxg","enable debug information","cli","clear","set","length","<p style='margin-left: 2ch;'>","8znnTfd","Enter DEFAULT as a value to reset.","5801286pRffSY","</p>","22602550scqxOt","get_help","hasOwnProperty","storeValue","5672429crFPoI","toUpperCase","getValue","Configuration has been saved."];return _0x3160=function(){return h},_0x3160()}function _0x5e2e(h,o){const e=_0x3160();return _0x5e2e=function(i,c){return i=i-470,e[i]},_0x5e2e(h,o)}var Ka,Ga,Rs;class SetCommand extends CommandBase{constructor(){super(...arguments);Nt(this,Ga);Nt(this,Ka,{SHADER:{validValues:["0","1"],description:_0x38061c(492)},LINES:{validValues:[_0x38061c(500),_0x38061c(494)],description:"single or multi line results"},SYSKB:{validValues:["0","1"],description:"use system touchscreen keyboard"},DEBUG:{validValues:["0","1"],description:_0x38061c(473),onChange:e=>{Debug.setVisible(e==1)}}})}get_keywords(){return[_0x38061c(476)]}[_0x38061c(484)](){const e=_0x38061c;return[e(501),e(495)]}[_0x38061c(514)](e,i){const c=_0x38061c;if(!e[c(477)]){this[c(474)].print(c(497)),this.cli[c(506)](c(503)),Object[c(493)](Ke(this,Ka))[c(517)](([Te],[Ee])=>Te.localeCompare(Ee)).forEach(([Te,Ee])=>{sr(this,Ga,Rs).call(this,Te,Ee)});return}const f=e[0][c(488)](),m=Ke(this,Ka)[f],g=e[1];if(m!=null&&(sr(this,Ga,Rs).call(this,f,m),this[c(474)][c(506)](c(505)),this[c(474)][c(506)](c(480))),i&&e[c(477)]==2)if(Ke(this,Ka)[c(485)](f)){const Te=Ke(this,Ka)[f];g[c(488)]()==c(516)?(StorageManager.clearValue(f,g),this.cli[c(475)](),sr(this,Ga,Rs).call(this,f,m),this[c(474)][c(506)](c(513)),Te[c(511)]&&typeof Te[c(511)]===c(491)&&Te[c(511)](g)):Te.validValues[c(507)](g[c(488)]())?(StorageManager[c(486)](f,g),this[c(474)][c(475)](),sr(this,Ga,Rs).call(this,f,m),this[c(474)][c(506)](c(490)),Te[c(511)]&&typeof Te.onChange=="function"&&Te[c(511)](g)):(this[c(474)][c(506)](c(503)),this[c(474)][c(506)](c(515)))}else this[c(474)][c(506)](c(503)),this[c(474)][c(506)](c(496))}is_selection_enabled(){return![]}[_0x38061c(510)](){return![]}}Ka=new WeakMap,Ga=new WeakSet,Rs=function(e,i){const c=_0x38061c;let f=StorageManager[c(489)](e[c(488)]()),m="";f!=null&&(m=c(470)+f.toUpperCase()),this.cli[c(506)]("<p style='margin-left: 1ch;'>"+e.toUpperCase()+m+c(482)),this[c(474)][c(506)](c(478)+i[c(504)]+c(482)),this[c(474)].print(c(499)+i.validValues.join(c(498))+"&nbsp;)"+c(482)),this[c(474)][c(506)](c(503))};const _0x38fbb5=_0x8ddb;(function(h,o){const e=_0x8ddb,i=h();for(;[];)try{if(parseInt(e(456))/1*(-parseInt(e(464))/2)+-parseInt(e(454))/3*(-parseInt(e(498))/4)+parseInt(e(500))/5*(-parseInt(e(460))/6)+parseInt(e(473))/7+-parseInt(e(446))/8*(parseInt(e(430))/9)+-parseInt(e(495))/10+parseInt(e(459))/11*(parseInt(e(449))/12)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x37f2,467616);function _0x37f2(){const h=["vme_collection","includes","message","parse","dependencies","clear","7407440PcGYjB","key","&nbsp;","1732pjBsqf","result","1148575XRRkGn","Successfully imported ","print","add","target","bind","Not a valid software directory file.","create","redraw","93339yKdZbN","drop","classList","vme-file-input","onload","length","accepted","settings","body","Press ENTER to open local file.","none","is_enter_required","getElementById","remove","file","name","376qPOafD","loadLocalRom","dragover","180rrEkQz","soft_msg","process_input","error","set_loading","3729XjQMQG","loadCollectionFile","303573QPrOyn","cli","preventDefault","929566oHkrAF","6suNqpz","toString","addEventListener","dragleave","4VBlQEO","readAsArrayBuffer","Loading ","files",".software","dragenter","get_help","importCorsFile","input","5087943YgdHGE","platform_id","Failed to read file.","loadVmeImportFile","import/open local file","dragging","open","forEach","type"," ...","display","dataTransfer","<span class='blinking2'>Drop the file to open it.</span>","Failed to read file!","vme_import","getSelectedPlatform"];return _0x37f2=function(){return h},_0x37f2()}function _0x8ddb(h,o){const e=_0x37f2();return _0x8ddb=function(i,c){return i=i-425,e[i]},_0x8ddb(h,o)}var Si,Wc,af,Kc,of,Gc,sf,f0,Tu,Yc,cf;class OpenCommand extends CommandBase{constructor(e){super();Nt(this,Wc);Nt(this,Kc);Nt(this,Gc);Nt(this,f0);Nt(this,Yc);Nt(this,Si,void 0);nr(this,Si,e),sr(this,Wc,af).call(this)}get_keywords(){return[_0x8ddb(479)]}[_0x38fbb5(470)](){const e=_0x38fbb5;return[e(479),e(477)]}[_0x38fbb5(451)](e,i){const c=_0x38fbb5;if(!i){this[c(457)][c(494)](),this[c(457)].print(c(439)),this[c(457)][c(429)]();return}sr(this,Yc,cf).call(this)}is_selection_enabled(){return![]}[_0x38fbb5(441)](){return!![]}}Si=new WeakMap,Wc=new WeakSet,af=function(){const e=_0x8ddb,i=document[e(442)](e(437));let c=![];[e(469),e(448),e(463),e(431)][e(480)](Ee=>{i[e(462)](Ee,f,![]),document.body.addEventListener(Ee,f,![])}),[e(469),e(448)][e(480)](Ee=>{const Oe=e;i[Oe(462)](Ee,m[Oe(426)](this),![])}),[e(463),e(431)].forEach(Ee=>{const Oe=e;i[Oe(462)](Ee,g[Oe(426)](this),![])}),i[e(462)]("drop",Te.bind(this),![]);function f(Ee){Ee[e(458)](),Ee.stopPropagation()}function m(Ee){const Oe=e;i[Oe(432)][Oe(503)](Oe(478)),!c&&(c=!![],this[Oe(457)][Oe(494)](),this[Oe(457)][Oe(450)](Oe(485)))}function g(Ee){const Oe=e;c=![],this.cli[Oe(494)](),i[Oe(432)][Oe(443)](Oe(478))}function Te(Ee){const Oe=e,ne=Ee[Oe(484)],De=ne[Oe(467)];De[Oe(435)]>0&&sr(this,Kc,of).call(this,De[0])}},Kc=new WeakSet,of=function(e){const i=_0x8ddb;sr(this,f0,Tu).call(this,e,e[i(445)])},Gc=new WeakSet,sf=function(e){const i=_0x38fbb5;let c=Ke(this,Si)[i(488)]();for(const f of c[i(493)])if(f[i(436)].includes(e))return f},f0=new WeakSet,Tu=function(e,i){const c=_0x38fbb5;this[c(457)][c(453)](!![]);const f=this;if(i.endsWith(".json")){const g=new FileReader;g[c(434)]=function(Te){const Ee=c,Oe=Te.target[Ee(499)];let ne=""+Ke(f,Si)[Ee(488)]()[Ee(474)]+Ee(468);try{let De=JSON[Ee(492)](Oe);Ke(f,Si)[Ee(471)](ne,De),f[Ee(457)].message("&nbsp;","Successfully imported software directory.")}catch{f[Ee(457)].message("&nbsp;",Ee(475),Ee(427));return}},g.onerror=function(Te){const Ee=c;console[Ee(452)](Ee(486),Te)},g.readAsText(e)}else if(i[c(490)](c(487)))Ke(f,Si)[c(476)](e);else if(i[c(490)](c(489)))Ke(f,Si)[c(455)](e);else{var m=new FileReader;m.onload=function(g){var De;const Te=c;var Ee=cryptoJsExports.lib.WordArray[Te(428)](g[Te(425)][Te(499)]),Oe=cryptoJsExports.MD5(Ee)[Te(461)]();let ne=sr(De=f,Gc,sf).call(De,Oe);if(ne!=null)Ke(f,Si).importFile(ne[Te(496)],e),f[Te(457)][Te(491)](Te(497),Te(501)+ne[Te(481)]);else{const Ie=new Blob([g[Te(425)][Te(499)]],{type:e.type});Ke(f,Si)[Te(447)](Ie,i)}},m[c(465)](e)}},Yc=new WeakSet,cf=function(){const e=_0x38fbb5,i=this;var c=document.createElement(e(472));c[e(481)]=e(444),c.id=e(433),c.style[e(483)]=e(440),document[e(438)].appendChild(c),document[e(442)]("vme-file-input").click(),document[e(442)]("vme-file-input")[e(462)]("change",function(f){var Ee;const m=e;i[m(457)].set_loading(!![]);var g=f[m(425)][m(467)][0],Te=g.name;i[m(457)][m(494)](),i.cli[m(502)](m(466)+Te+m(482)),sr(Ee=i,f0,Tu).call(Ee,g,Te)})};const _0x5614fd=_0x5581;function _0x4999(){const h=["] Smartphone","555000KjYFao",'<div id="flip-image-outer"><div id="flip-image-container"></div></div>',"process_input","show VM/E information","cli","about","12CVrsAv",'<a href="https://github.com/gitGalu/VME">Visit Project Website</a>',"1329015bsKMVO","] Meta Quest Browser","582911ghJnbn","isQuest","Environment","Built using Nostalgist.js and Libretro.","] Gamepad / Joystick","get_keywords","1278928dSZIbh","isTablet","Prerelease","5323896XlLiLm","&nbsp;","&nbsp;[",'<a href="https://github.com/gitGalu/vme/blob/main/CHANGES.md">View Changelog</a>',"print","] Installed","Virtual Machine / Emulator","108292dCoDga","hasGamepad","2JcyVEE","---------------","------------","get_help","Developed by Michal Galinski","isStandalone","30vzFiij","] Tablet","5981040pPKrip"];return _0x4999=function(){return h},_0x4999()}(function(h,o){const e=_0x5581,i=h();for(;[];)try{if(parseInt(e(491))/1*(parseInt(e(509))/2)+parseInt(e(515))/3*(parseInt(e(507))/4)+-parseInt(e(489))/5+parseInt(e(525))/6*(-parseInt(e(497))/7)+parseInt(e(519))/8+-parseInt(e(500))/9+parseInt(e(517))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x4999,298365);function _0x5581(h,o){const e=_0x4999();return _0x5581=function(i,c){return i=i-488,e[i]},_0x5581(h,o)}var d0,Qc,uf,Jc,lf;class AboutCommand extends CommandBase{constructor(e){super();Nt(this,Qc);Nt(this,Jc);Nt(this,d0,void 0);nr(this,d0,e)}[_0x5614fd(496)](){return[_0x5614fd(524)]}[_0x5614fd(512)](){const e=_0x5614fd;return[e(524),e(522)]}[_0x5614fd(521)](e){sr(this,Jc,lf).call(this)}}d0=new WeakMap,Qc=new WeakSet,uf=function(e,i){const c=_0x5614fd;this.cli.print(c(501)),this[c(523)].print(c(493)),this[c(523)].print(c(511));let f=EnvironmentManager.isSmartphone(),m=EnvironmentManager[c(498)](),g=EnvironmentManager[c(492)](),Te=EnvironmentManager[c(508)](),Ee=EnvironmentManager[c(514)]();this[c(523)].print(c(502)+(Ee?"x":" ")+c(505)),this[c(523)].print(c(502)+(f?"x":" ")+c(518)),this[c(523)].print(c(502)+(m?"x":" ")+c(516)),this[c(523)][c(504)](c(502)+(g?"x":" ")+c(490)),this[c(523)][c(504)]("&nbsp;["+(Te?"x":" ")+c(495)),this[c(523)].print(c(501)),this[c(523)][c(504)]("Emulated systems"),this[c(523)][c(504)](c(510)),Ke(this,d0).checkDependencies(),this[c(523)].redraw()},Jc=new WeakSet,lf=function(){const e=_0x5614fd;this.cli[e(504)](e(506)),this.cli[e(504)](e(499)),this[e(523)][e(504)](e(520)),this[e(523)].print(e(513)),this[e(523)][e(504)](e(501)),this[e(523)][e(504)](e(494)),this[e(523)].print(e(501)),this[e(523)][e(504)](e(488)),this[e(523)].print(e(501)),this[e(523)][e(504)](e(503)),this[e(523)][e(504)]("&nbsp;"),sr(this,Qc,uf).call(this)};const _0x5cab83=_0x1f04;(function(h,o){const e=_0x1f04,i=h();for(;[];)try{if(-parseInt(e(394))/1*(parseInt(e(389))/2)+-parseInt(e(377))/3+-parseInt(e(373))/4+-parseInt(e(385))/5+parseInt(e(379))/6*(parseInt(e(378))/7)+parseInt(e(380))/8*(parseInt(e(381))/9)+-parseInt(e(392))/10*(-parseInt(e(368))/11)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x3bf8,714937);var is,Xc,ff;class LastCommand extends CommandBase{constructor(e){super();Nt(this,Xc);Nt(this,is,void 0);nr(this,is,e)}[_0x5cab83(383)](){return["l"]}get_help(){return["l",_0x5cab83(372)]}[_0x5cab83(391)](e,i){const c=_0x5cab83;let f=StorageManager[c(371)](Ke(this,is)[c(390)]().platform_id+".LAST_FILE",void 0);if(f!=null){const m=JSON[c(386)](f);if(this[c(375)][c(384)](c(382)),this[c(375)][c(384)]("&nbsp;"),this.cli[c(384)](c(370)+m[c(376)]),!i)return;sr(this,Xc,ff).call(this,m[c(369)],m[c(376)])}}}is=new WeakMap,Xc=new WeakSet,ff=async function(e,i){const c=_0x5cab83;this.cli[c(387)](!![]);try{await Ke(this,is)[c(393)](e,i)}catch{this.cli[c(374)](c(388))}};function _0x1f04(h,o){const e=_0x3bf8();return _0x1f04=function(i,c){return i=i-368,e[i]},_0x1f04(h,o)}function _0x3bf8(){const h=["Press ENTER to load:","get_keywords","print","1417600snZkgt","parse","set_loading","Error loading file.","767126jogUin","getSelectedPlatform","process_input","10ETLfhV","loadRomFileFromUrl","1liFHzH","7156347ZhVukN","filename","<p style='margin-left: 1ch;'>","getValue","re-launch last program for the selected platform","3992628Bggfbl","message_clear","cli","caption","371406CUqTIV","2345021JzWrXb","12vydLWi","3496GMFoFk","24372UDVxgD"];return _0x3bf8=function(){return h},_0x3bf8()}const _0x261b54=_0x56e8;(function(h,o){const e=_0x56e8,i=h();for(;[];)try{if(-parseInt(e(409))/1*(-parseInt(e(432))/2)+parseInt(e(436))/3*(parseInt(e(425))/4)+-parseInt(e(413))/5+-parseInt(e(426))/6*(parseInt(e(443))/7)+parseInt(e(428))/8*(parseInt(e(434))/9)+parseInt(e(438))/10+-parseInt(e(437))/11*(parseInt(e(405))/12)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x4d1b,653638);function _0x56e8(h,o){const e=_0x4d1b();return _0x56e8=function(i,c){return i=i-391,e[i]},_0x56e8(h,o)}function _0x4d1b(){const h=["error","NFD",".wikipedia.org/w/api.php?action=query&titles=","4543FMTVtw","https://","redraw","exit_selection","get_wiki_article","set_article_mode","replace","get_keywords","div","wiki-style","Error fetching Wikipedia(tm) results:","append","label","show_results","is_enter_required","132ktqAZk","get_wiki_results","process_selection",".wikipedia.org/w/api.php?action=opensearch&search=","1863YDmrMp","normalize","Query + enter to search WikiPedia(tm)","then","1577910JSTscA","process_input","query","createElement","forEach",`
                #wiki img {
                    display: none;
                }
                #wiki .image, 
                #wiki .caption {
                    display: none;
                }
                #wiki {
                    line-height: 200%;
                }
                #wiki h1, h2, h3, h4, h5, h6 {
                }
            `,"appendChild","find and read WikiPedia(tm) articles","cli","is_selection_enabled","push","wiki","11512PmVOXR","126drdKfC","print","1349032YCsrht","Error fetching Wikipedia(tm) article:","currentIndex","style","870SGVPVq","clear","18wfjzgU","&limit=20&namespace=0&format=json&origin=*","858viAcvz","1337281tHSLXx","3493590atdsUK","pages"];return _0x4d1b=function(){return h},_0x4d1b()}var x0,Zc,df,$c,xf;class WikiCommand extends CommandBase{constructor(){super(...arguments);Nt(this,Zc);Nt(this,$c);Nt(this,x0,"en")}[_0x261b54(397)](){return[_0x261b54(424)]}get_help(){return["wiki [QUERY]",_0x261b54(420)]}[_0x261b54(414)](e,i){const c=_0x261b54;if(i)this.cli.clear(),this[c(421)][c(427)]("Connecting to WikiPedia(tm)..."),this.cli[c(392)](),this[c(406)](e.join(" "))[c(412)](f=>{const m=c;f.length>0?(this.currentIndex=0,this[m(403)](f,!![])):this[m(403)]([])});else{this.cli[c(433)](),this[c(421)][c(427)](c(411)),this[c(421)][c(392)]();return}}[_0x261b54(393)](){return!![]}[_0x261b54(407)](e){const i=_0x261b54;this[i(430)]=-1,this[i(421)][i(395)](!![]),this.get_wiki_article(e[i(402)])[i(412)](c=>{const f=i;this.cli[f(433)]();var m=s("#cors_results");m.innerHTML="",sr(this,Zc,df).call(this);var g=document[f(416)](f(398));g.id=f(424),g.innerHTML=c,m[f(401)](g)})}[_0x261b54(422)](){return!![]}[_0x261b54(404)](){return!![]}async[_0x261b54(406)](e){const i=_0x261b54;try{const c=await fetch("https://"+Ke(this,x0)+i(408)+e+i(435)),f=await c.json();let m=[];return f[1][i(417)]((g,Te)=>{const Ee=i;let Oe={label:f[1][Te],url:f[3][Te]};m[Ee(423)](Oe)}),m}catch(c){return console[i(440)](i(400),c),[]}}async[_0x261b54(394)](e){const i=_0x261b54;try{const c=await fetch(i(391)+Ke(this,x0)+i(442)+e+"&prop=extracts&format=json&origin=*"),f=await c.json(),m=f[i(415)][i(439)];let g=m[Object.keys(m)[0]].extract;return g=sr(this,$c,xf).call(this,g),g}catch(c){console[i(440)](i(429),c)}}}x0=new WeakMap,Zc=new WeakSet,df=function(){const e=_0x261b54;var i=e(399);if(!document.getElementById(i)){var c=document[e(416)](e(431));c.id=i,c.innerHTML=e(418),document.head[e(419)](c)}},$c=new WeakSet,xf=function(e){const i=_0x261b54;return e[i(410)](i(441))[i(396)](/[\u0300-\u036f]/g,"")};function _0x6e49(h,o){var e=_0x5016();return _0x6e49=function(i,c){i=i-422;var f=e[i];return f},_0x6e49(h,o)}var _0x1b7b49=_0x6e49;(function(h,o){for(var e=_0x6e49,i=h();[];)try{var c=parseInt(e(430))/1+parseInt(e(422))/2+-parseInt(e(423))/3+parseInt(e(429))/4+parseInt(e(434))/5+parseInt(e(431))/6+-parseInt(e(433))/7;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x5016,248417);function _0x5016(){var h=["364145thYuKz","open save browser","436744iGBzfs","1092294WmkkKG","get_help","Press ENTER to open Save Browser.","print","cli","process_input","138248shIsgL","459185lZxrIf","2041062HTNRVj","open","3588270JNheUS"];return _0x5016=function(){return h},_0x5016()}var h0;class RestoreCommand extends CommandBase{constructor(e){super();Nt(this,h0,void 0);nr(this,h0,e)}get_keywords(){return["r"]}[_0x1b7b49(424)](){var e=_0x1b7b49;return["r",e(435)]}[_0x1b7b49(428)](e,i){var c=_0x1b7b49;if(this[c(427)].clear(),this[c(427)][c(426)](c(425)),i)Ke(this,h0)[c(432)]();else return}}h0=new WeakMap;var _0x1a4494=_0x2062;(function(h,o){for(var e=_0x2062,i=h();[];)try{var c=-parseInt(e(368))/1*(parseInt(e(379))/2)+-parseInt(e(376))/3+-parseInt(e(372))/4*(-parseInt(e(381))/5)+parseInt(e(369))/6+parseInt(e(375))/7+-parseInt(e(373))/8+-parseInt(e(374))/9;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0xb76b,205591);function _0x2062(h,o){var e=_0xb76b();return _0x2062=function(i,c){i=i-366;var f=e[i];return f},_0x2062(h,o)}var p0;class BrowseCommand extends CommandBase{constructor(e){super();Nt(this,p0,void 0);nr(this,p0,e)}[_0x1a4494(377)](){return["c"]}get_help(){return["c","open compilations browser"]}[_0x1a4494(378)](e,i){var c=_0x1a4494;if(this[c(371)][c(366)](),this.cli[c(367)](c(380)),i)Ke(this,p0)[c(370)]();else return}}p0=new WeakMap;function _0xb76b(){var h=["Press ENTER to open Compilations Browser.","5teQoXG","clear","print","103458yPmaQF","2153862WTRzYb","open","cli","1644644dqHSHw","2928560RSVkBn","1057833EzsMWp","318794nYqVAx","69072RNXnJy","get_keywords","process_input","2isbRBA"];return _0xb76b=function(){return h},_0xb76b()}let F={};function D(h={}){F={animate:!0,allowClose:!0,overlayOpacity:.7,smoothScroll:!1,disableActiveInteraction:!1,showProgress:!1,stagePadding:10,stageRadius:5,popoverOffset:10,showButtons:["next","previous","close"],disableButtons:[],overlayColor:"#000",...h}}function a(h){return h?F[h]:F}function W(h,o,e,i){return(h/=i/2)<1?e/2*h*h+o:-e/2*(--h*(h-2)-1)+o}function Q(h){const o='a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])';return h.flatMap(e=>{const i=e.matches(o),c=Array.from(e.querySelectorAll(o));return[...i?[e]:[],...c]}).filter(e=>getComputedStyle(e).pointerEvents!=="none"&&ae(e))}function Z(h){if(!h||se(h))return;const o=a("smoothScroll");h.scrollIntoView({behavior:!o||re(h)?"auto":"smooth",inline:"center",block:"center"})}function re(h){if(!h||!h.parentElement)return;const o=h.parentElement;return o.scrollHeight>o.clientHeight}function se(h){const o=h.getBoundingClientRect();return o.top>=0&&o.left>=0&&o.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&o.right<=(window.innerWidth||document.documentElement.clientWidth)}function ae(h){return!!(h.offsetWidth||h.offsetHeight||h.getClientRects().length)}let O={};function b(h,o){O[h]=o}function l(h){return h?O[h]:O}function V(){O={}}let R={};function N(h,o){R[h]=o}function L(h){var o;(o=R[h])==null||o.call(R)}function ce(){R={}}function le(h,o,e,i){let c=l("__activeStagePosition");const f=c||e.getBoundingClientRect(),m=i.getBoundingClientRect(),g=W(h,f.x,m.x-f.x,o),Te=W(h,f.y,m.y-f.y,o),Ee=W(h,f.width,m.width-f.width,o),Oe=W(h,f.height,m.height-f.height,o);c={x:g,y:Te,width:Ee,height:Oe},J(c),b("__activeStagePosition",c)}function G(h){if(!h)return;const o=h.getBoundingClientRect(),e={x:o.x,y:o.y,width:o.width,height:o.height};b("__activeStagePosition",e),J(e)}function de(){const h=l("__activeStagePosition"),o=l("__overlaySvg");if(!h)return;if(!o){console.warn("No stage svg found.");return}const e=window.innerWidth,i=window.innerHeight;o.setAttribute("viewBox",`0 0 ${e} ${i}`)}function pe(h){const o=ue(h);document.body.appendChild(o),te(o,e=>{e.target.tagName==="path"&&L("overlayClick")}),b("__overlaySvg",o)}function J(h){const o=l("__overlaySvg");if(!o){pe(h);return}const e=o.firstElementChild;if((e==null?void 0:e.tagName)!=="path")throw new Error("no path element found in stage svg");e.setAttribute("d",U(h))}function ue(h){const o=window.innerWidth,e=window.innerHeight,i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.classList.add("driver-overlay","driver-overlay-animated"),i.setAttribute("viewBox",`0 0 ${o} ${e}`),i.setAttribute("xmlSpace","preserve"),i.setAttribute("xmlnsXlink","http://www.w3.org/1999/xlink"),i.setAttribute("version","1.1"),i.setAttribute("preserveAspectRatio","xMinYMin slice"),i.style.fillRule="evenodd",i.style.clipRule="evenodd",i.style.strokeLinejoin="round",i.style.strokeMiterlimit="2",i.style.zIndex="10000",i.style.position="fixed",i.style.top="0",i.style.left="0",i.style.width="100%",i.style.height="100%";const c=document.createElementNS("http://www.w3.org/2000/svg","path");return c.setAttribute("d",U(h)),c.style.fill=a("overlayColor")||"rgb(0,0,0)",c.style.opacity=`${a("overlayOpacity")}`,c.style.pointerEvents="auto",c.style.cursor="auto",i.appendChild(c),i}function U(h){const o=window.innerWidth,e=window.innerHeight,i=a("stagePadding")||0,c=a("stageRadius")||0,f=h.width+i*2,m=h.height+i*2,g=Math.min(c,f/2,m/2),Te=Math.floor(Math.max(g,0)),Ee=h.x-i+Te,Oe=h.y-i,ne=f-Te*2,De=m-Te*2;return`M${o},0L0,0L0,${e}L${o},${e}L${o},0Z
    M${Ee},${Oe} h${ne} a${Te},${Te} 0 0 1 ${Te},${Te} v${De} a${Te},${Te} 0 0 1 -${Te},${Te} h-${ne} a${Te},${Te} 0 0 1 -${Te},-${Te} v-${De} a${Te},${Te} 0 0 1 ${Te},-${Te} z`}function ve(){const h=l("__overlaySvg");h&&h.remove()}function fe(){const h=document.getElementById("driver-dummy-element");if(h)return h;let o=document.createElement("div");return o.id="driver-dummy-element",o.style.width="0",o.style.height="0",o.style.pointerEvents="none",o.style.opacity="0",o.style.position="fixed",o.style.top="50%",o.style.left="50%",document.body.appendChild(o),o}function K(h){const{element:o}=h;let e=typeof o=="string"?document.querySelector(o):o;e||(e=fe()),ge(e,h)}function he(){const h=l("__activeElement"),o=l("__activeStep");h&&(G(h),de(),ie(h,o))}function ge(h,o){const e=Date.now(),i=l("__activeStep"),c=l("__activeElement")||h,f=!c||c===h,m=h.id==="driver-dummy-element",g=c.id==="driver-dummy-element",Te=a("animate"),Ee=o.onHighlightStarted||a("onHighlightStarted"),Oe=(o==null?void 0:o.onHighlighted)||a("onHighlighted"),ne=(i==null?void 0:i.onDeselected)||a("onDeselected"),De=a(),Ie=l();!f&&ne&&ne(g?void 0:c,i,{config:De,state:Ie}),Ee&&Ee(m?void 0:h,o,{config:De,state:Ie});const qe=!f&&Te;let Fe=!1;xe(),b("previousStep",i),b("previousElement",c),b("activeStep",o),b("activeElement",h);const Ne=()=>{if(l("__transitionCallback")!==Ne)return;const Ve=Date.now()-e,Ue=400-Ve<=400/2;o.popover&&Ue&&!Fe&&qe&&(X(h,o),Fe=!0),a("animate")&&Ve<400?le(Ve,400,c,h):(G(h),Oe&&Oe(m?void 0:h,o,{config:a(),state:l()}),b("__transitionCallback",void 0),b("__previousStep",i),b("__previousElement",c),b("__activeStep",o),b("__activeElement",h)),window.requestAnimationFrame(Ne)};b("__transitionCallback",Ne),window.requestAnimationFrame(Ne),Z(h),!qe&&o.popover&&X(h,o),c.classList.remove("driver-active-element","driver-no-interaction"),c.removeAttribute("aria-haspopup"),c.removeAttribute("aria-expanded"),c.removeAttribute("aria-controls"),a("disableActiveInteraction")&&h.classList.add("driver-no-interaction"),h.classList.add("driver-active-element"),h.setAttribute("aria-haspopup","dialog"),h.setAttribute("aria-expanded","true"),h.setAttribute("aria-controls","driver-popover-content")}function we(){var h;(h=document.getElementById("driver-dummy-element"))==null||h.remove(),document.querySelectorAll(".driver-active-element").forEach(o=>{o.classList.remove("driver-active-element","driver-no-interaction"),o.removeAttribute("aria-haspopup"),o.removeAttribute("aria-expanded"),o.removeAttribute("aria-controls")})}function I(){const h=l("__resizeTimeout");h&&window.cancelAnimationFrame(h),b("__resizeTimeout",window.requestAnimationFrame(he))}function me(h){var o;if(!l("isInitialized")||!(h.key==="Tab"||h.keyCode===9))return;const e=l("__activeElement"),i=(o=l("popover"))==null?void 0:o.wrapper,c=Q([...i?[i]:[],...e?[e]:[]]),f=c[0],m=c[c.length-1];if(h.preventDefault(),h.shiftKey){const g=c[c.indexOf(document.activeElement)-1]||m;g==null||g.focus()}else{const g=c[c.indexOf(document.activeElement)+1]||f;g==null||g.focus()}}function ee(h){var o;((o=a("allowKeyboardControl"))==null||o)&&(h.key==="Escape"?L("escapePress"):h.key==="ArrowRight"?L("arrowRightPress"):h.key==="ArrowLeft"&&L("arrowLeftPress"))}function te(h,o,e){const i=(c,f)=>{const m=c.target;h.contains(m)&&((!e||e(m))&&(c.preventDefault(),c.stopPropagation(),c.stopImmediatePropagation()),f==null||f(c))};document.addEventListener("pointerdown",i,!0),document.addEventListener("mousedown",i,!0),document.addEventListener("pointerup",i,!0),document.addEventListener("mouseup",i,!0),document.addEventListener("click",c=>{i(c,o)},!0)}function ye(){window.addEventListener("keyup",ee,!1),window.addEventListener("keydown",me,!1),window.addEventListener("resize",I),window.addEventListener("scroll",I)}function be(){window.removeEventListener("keyup",ee),window.removeEventListener("resize",I),window.removeEventListener("scroll",I)}function xe(){const h=l("popover");h&&(h.wrapper.style.display="none")}function X(h,o){var e,i;let c=l("popover");c&&document.body.removeChild(c.wrapper),c=Pe(),document.body.appendChild(c.wrapper);const{title:f,description:m,showButtons:g,disableButtons:Te,showProgress:Ee,nextBtnText:Oe=a("nextBtnText")||"Next &rarr;",prevBtnText:ne=a("prevBtnText")||"&larr; Previous",progressText:De=a("progressText")||"{current} of {total}"}=o.popover||{};c.nextButton.innerHTML=Oe,c.previousButton.innerHTML=ne,c.progress.innerHTML=De,f?(c.title.innerHTML=f,c.title.style.display="block"):c.title.style.display="none",m?(c.description.innerHTML=m,c.description.style.display="block"):c.description.style.display="none";const Ie=g||a("showButtons"),qe=Ee||a("showProgress")||!1,Fe=(Ie==null?void 0:Ie.includes("next"))||(Ie==null?void 0:Ie.includes("previous"))||qe;c.closeButton.style.display=Ie.includes("close")?"block":"none",Fe?(c.footer.style.display="flex",c.progress.style.display=qe?"block":"none",c.nextButton.style.display=Ie.includes("next")?"block":"none",c.previousButton.style.display=Ie.includes("previous")?"block":"none"):c.footer.style.display="none";const Ne=Te||a("disableButtons")||[];Ne!=null&&Ne.includes("next")&&(c.nextButton.disabled=!0,c.nextButton.classList.add("driver-popover-btn-disabled")),Ne!=null&&Ne.includes("previous")&&(c.previousButton.disabled=!0,c.previousButton.classList.add("driver-popover-btn-disabled")),Ne!=null&&Ne.includes("close")&&(c.closeButton.disabled=!0,c.closeButton.classList.add("driver-popover-btn-disabled"));const Ve=c.wrapper;Ve.style.display="block",Ve.style.left="",Ve.style.top="",Ve.style.bottom="",Ve.style.right="",Ve.id="driver-popover-content",Ve.setAttribute("role","dialog"),Ve.setAttribute("aria-labelledby","driver-popover-title"),Ve.setAttribute("aria-describedby","driver-popover-description");const Ue=c.arrow;Ue.className="driver-popover-arrow";const We=((e=o.popover)==null?void 0:e.popoverClass)||a("popoverClass")||"";Ve.className=`driver-popover ${We}`.trim(),te(c.wrapper,tt=>{var mt,gt,rt;const pt=tt.target,it=((mt=o.popover)==null?void 0:mt.onNextClick)||a("onNextClick"),vt=((gt=o.popover)==null?void 0:gt.onPrevClick)||a("onPrevClick"),Ze=((rt=o.popover)==null?void 0:rt.onCloseClick)||a("onCloseClick");if(pt.classList.contains("driver-popover-next-btn"))return it?it(h,o,{config:a(),state:l()}):L("nextClick");if(pt.classList.contains("driver-popover-prev-btn"))return vt?vt(h,o,{config:a(),state:l()}):L("prevClick");if(pt.classList.contains("driver-popover-close-btn"))return Ze?Ze(h,o,{config:a(),state:l()}):L("closeClick")},tt=>!(c!=null&&c.description.contains(tt))&&!(c!=null&&c.title.contains(tt))&&typeof tt.className=="string"&&tt.className.includes("driver-popover")),b("popover",c);const He=((i=o.popover)==null?void 0:i.onPopoverRender)||a("onPopoverRender");He&&He(c,{config:a(),state:l()}),ie(h,o),Z(Ve);const Xe=h.classList.contains("driver-dummy-element"),ot=Q([Ve,...Xe?[]:[h]]);ot.length>0&&ot[0].focus()}function oe(){const h=l("popover");if(!(h!=null&&h.wrapper))return;const o=h.wrapper.getBoundingClientRect(),e=a("stagePadding")||0,i=a("popoverOffset")||0;return{width:o.width+e+i,height:o.height+e+i,realWidth:o.width,realHeight:o.height}}function Y(h,o){const{elementDimensions:e,popoverDimensions:i,popoverPadding:c,popoverArrowDimensions:f}=o;return h==="start"?Math.max(Math.min(e.top-c,window.innerHeight-i.realHeight-f.width),f.width):h==="end"?Math.max(Math.min(e.top-(i==null?void 0:i.realHeight)+e.height+c,window.innerHeight-(i==null?void 0:i.realHeight)-f.width),f.width):h==="center"?Math.max(Math.min(e.top+e.height/2-(i==null?void 0:i.realHeight)/2,window.innerHeight-(i==null?void 0:i.realHeight)-f.width),f.width):0}function j(h,o){const{elementDimensions:e,popoverDimensions:i,popoverPadding:c,popoverArrowDimensions:f}=o;return h==="start"?Math.max(Math.min(e.left-c,window.innerWidth-i.realWidth-f.width),f.width):h==="end"?Math.max(Math.min(e.left-(i==null?void 0:i.realWidth)+e.width+c,window.innerWidth-(i==null?void 0:i.realWidth)-f.width),f.width):h==="center"?Math.max(Math.min(e.left+e.width/2-(i==null?void 0:i.realWidth)/2,window.innerWidth-(i==null?void 0:i.realWidth)-f.width),f.width):0}function ie(h,o){const e=l("popover");if(!e)return;const{align:i="start",side:c="left"}=(o==null?void 0:o.popover)||{},f=i,m=h.id==="driver-dummy-element"?"over":c,g=a("stagePadding")||0,Te=oe(),Ee=e.arrow.getBoundingClientRect(),Oe=h.getBoundingClientRect(),ne=Oe.top-Te.height;let De=ne>=0;const Ie=window.innerHeight-(Oe.bottom+Te.height);let qe=Ie>=0;const Fe=Oe.left-Te.width;let Ne=Fe>=0;const Ve=window.innerWidth-(Oe.right+Te.width);let Ue=Ve>=0;const We=!De&&!qe&&!Ne&&!Ue;let He=m;if(m==="top"&&De?Ue=Ne=qe=!1:m==="bottom"&&qe?Ue=Ne=De=!1:m==="left"&&Ne?Ue=De=qe=!1:m==="right"&&Ue&&(Ne=De=qe=!1),m==="over"){const Xe=window.innerWidth/2-Te.realWidth/2,ot=window.innerHeight/2-Te.realHeight/2;e.wrapper.style.left=`${Xe}px`,e.wrapper.style.right="auto",e.wrapper.style.top=`${ot}px`,e.wrapper.style.bottom="auto"}else if(We){const Xe=window.innerWidth/2-(Te==null?void 0:Te.realWidth)/2,ot=10;e.wrapper.style.left=`${Xe}px`,e.wrapper.style.right="auto",e.wrapper.style.bottom=`${ot}px`,e.wrapper.style.top="auto"}else if(Ne){const Xe=Math.min(Fe,window.innerWidth-(Te==null?void 0:Te.realWidth)-Ee.width),ot=Y(f,{elementDimensions:Oe,popoverDimensions:Te,popoverPadding:g,popoverArrowDimensions:Ee});e.wrapper.style.left=`${Xe}px`,e.wrapper.style.top=`${ot}px`,e.wrapper.style.bottom="auto",e.wrapper.style.right="auto",He="left"}else if(Ue){const Xe=Math.min(Ve,window.innerWidth-(Te==null?void 0:Te.realWidth)-Ee.width),ot=Y(f,{elementDimensions:Oe,popoverDimensions:Te,popoverPadding:g,popoverArrowDimensions:Ee});e.wrapper.style.right=`${Xe}px`,e.wrapper.style.top=`${ot}px`,e.wrapper.style.bottom="auto",e.wrapper.style.left="auto",He="right"}else if(De){const Xe=Math.min(ne,window.innerHeight-Te.realHeight-Ee.width);let ot=j(f,{elementDimensions:Oe,popoverDimensions:Te,popoverPadding:g,popoverArrowDimensions:Ee});e.wrapper.style.top=`${Xe}px`,e.wrapper.style.left=`${ot}px`,e.wrapper.style.bottom="auto",e.wrapper.style.right="auto",He="top"}else if(qe){const Xe=Math.min(Ie,window.innerHeight-(Te==null?void 0:Te.realHeight)-Ee.width);let ot=j(f,{elementDimensions:Oe,popoverDimensions:Te,popoverPadding:g,popoverArrowDimensions:Ee});e.wrapper.style.left=`${ot}px`,e.wrapper.style.bottom=`${Xe}px`,e.wrapper.style.top="auto",e.wrapper.style.right="auto",He="bottom"}We?e.arrow.classList.add("driver-popover-arrow-none"):Ce(f,He,h)}function Ce(h,o,e){const i=l("popover");if(!i)return;const c=e.getBoundingClientRect(),f=oe(),m=i.arrow,g=f.width,Te=window.innerWidth,Ee=c.width,Oe=c.left,ne=f.height,De=window.innerHeight,Ie=c.top,qe=c.height;m.className="driver-popover-arrow";let Fe=o,Ne=h;o==="top"?(Oe+Ee<=0?(Fe="right",Ne="end"):Oe+Ee-g<=0&&(Fe="top",Ne="start"),Oe>=Te?(Fe="left",Ne="end"):Oe+g>=Te&&(Fe="top",Ne="end")):o==="bottom"?(Oe+Ee<=0?(Fe="right",Ne="start"):Oe+Ee-g<=0&&(Fe="bottom",Ne="start"),Oe>=Te?(Fe="left",Ne="start"):Oe+g>=Te&&(Fe="bottom",Ne="end")):o==="left"?(Ie+qe<=0?(Fe="bottom",Ne="end"):Ie+qe-ne<=0&&(Fe="left",Ne="start"),Ie>=De?(Fe="top",Ne="end"):Ie+ne>=De&&(Fe="left",Ne="end")):o==="right"&&(Ie+qe<=0?(Fe="bottom",Ne="start"):Ie+qe-ne<=0&&(Fe="right",Ne="start"),Ie>=De?(Fe="top",Ne="start"):Ie+ne>=De&&(Fe="right",Ne="end")),Fe?(m.classList.add(`driver-popover-arrow-side-${Fe}`),m.classList.add(`driver-popover-arrow-align-${Ne}`)):m.classList.add("driver-popover-arrow-none")}function Pe(){const h=document.createElement("div");h.classList.add("driver-popover");const o=document.createElement("div");o.classList.add("driver-popover-arrow");const e=document.createElement("header");e.id="driver-popover-title",e.classList.add("driver-popover-title"),e.style.display="none",e.innerText="Popover Title";const i=document.createElement("div");i.id="driver-popover-description",i.classList.add("driver-popover-description"),i.style.display="none",i.innerText="Popover description is here";const c=document.createElement("button");c.type="button",c.classList.add("driver-popover-close-btn"),c.setAttribute("aria-label","Close"),c.innerHTML="&times;";const f=document.createElement("footer");f.classList.add("driver-popover-footer");const m=document.createElement("span");m.classList.add("driver-popover-progress-text"),m.innerText="";const g=document.createElement("span");g.classList.add("driver-popover-navigation-btns");const Te=document.createElement("button");Te.type="button",Te.classList.add("driver-popover-prev-btn"),Te.innerHTML="&larr; Previous";const Ee=document.createElement("button");return Ee.type="button",Ee.classList.add("driver-popover-next-btn"),Ee.innerHTML="Next &rarr;",g.appendChild(Te),g.appendChild(Ee),f.appendChild(m),f.appendChild(g),h.appendChild(c),h.appendChild(o),h.appendChild(e),h.appendChild(i),h.appendChild(f),{wrapper:h,arrow:o,title:e,description:i,footer:f,previousButton:Te,nextButton:Ee,closeButton:c,footerButtons:g,progress:m}}function Se(){var h;const o=l("popover");o&&((h=o.wrapper.parentElement)==null||h.removeChild(o.wrapper))}function ke(h={}){D(h);function o(){a("allowClose")&&Ee()}function e(){const Oe=l("activeIndex"),ne=a("steps")||[];if(typeof Oe>"u")return;const De=Oe+1;ne[De]?Te(De):Ee()}function i(){const Oe=l("activeIndex"),ne=a("steps")||[];if(typeof Oe>"u")return;const De=Oe-1;ne[De]?Te(De):Ee()}function c(Oe){(a("steps")||[])[Oe]?Te(Oe):Ee()}function f(){var Oe;if(l("__transitionCallback"))return;const ne=l("activeIndex"),De=l("__activeStep"),Ie=l("__activeElement");if(typeof ne>"u"||typeof De>"u"||typeof l("activeIndex")>"u")return;const qe=((Oe=De.popover)==null?void 0:Oe.onPrevClick)||a("onPrevClick");if(qe)return qe(Ie,De,{config:a(),state:l()});i()}function m(){var Oe;if(l("__transitionCallback"))return;const ne=l("activeIndex"),De=l("__activeStep"),Ie=l("__activeElement");if(typeof ne>"u"||typeof De>"u")return;const qe=((Oe=De.popover)==null?void 0:Oe.onNextClick)||a("onNextClick");if(qe)return qe(Ie,De,{config:a(),state:l()});e()}function g(){l("isInitialized")||(b("isInitialized",!0),document.body.classList.add("driver-active",a("animate")?"driver-fade":"driver-simple"),ye(),N("overlayClick",o),N("escapePress",o),N("arrowLeftPress",f),N("arrowRightPress",m))}function Te(Oe=0){var ne,De,Ie,qe,Fe,Ne,Ve,Ue;const We=a("steps");if(!We){console.error("No steps to drive through"),Ee();return}if(!We[Oe]){Ee();return}b("__activeOnDestroyed",document.activeElement),b("activeIndex",Oe);const He=We[Oe],Xe=We[Oe+1],ot=We[Oe-1],tt=((ne=He.popover)==null?void 0:ne.doneBtnText)||a("doneBtnText")||"Done",mt=a("allowClose"),gt=typeof((De=He.popover)==null?void 0:De.showProgress)<"u"?(Ie=He.popover)==null?void 0:Ie.showProgress:a("showProgress"),rt=(((qe=He.popover)==null?void 0:qe.progressText)||a("progressText")||"{{current}} of {{total}}").replace("{{current}}",`${Oe+1}`).replace("{{total}}",`${We.length}`),pt=((Fe=He.popover)==null?void 0:Fe.showButtons)||a("showButtons"),it=["next","previous",...mt?["close"]:[]].filter(Zt=>!(pt!=null&&pt.length)||pt.includes(Zt)),vt=((Ne=He.popover)==null?void 0:Ne.onNextClick)||a("onNextClick"),Ze=((Ve=He.popover)==null?void 0:Ve.onPrevClick)||a("onPrevClick"),Ft=((Ue=He.popover)==null?void 0:Ue.onCloseClick)||a("onCloseClick");K({...He,popover:{showButtons:it,nextBtnText:Xe?void 0:tt,disableButtons:[...ot?[]:["previous"]],showProgress:gt,progressText:rt,onNextClick:vt||(()=>{Xe?Te(Oe+1):Ee()}),onPrevClick:Ze||(()=>{Te(Oe-1)}),onCloseClick:Ft||(()=>{Ee()}),...(He==null?void 0:He.popover)||{}}})}function Ee(Oe=!0){const ne=l("__activeElement"),De=l("__activeStep"),Ie=l("__activeOnDestroyed"),qe=a("onDestroyStarted");if(Oe&&qe){const Ve=!ne||(ne==null?void 0:ne.id)==="driver-dummy-element";qe(Ve?void 0:ne,De,{config:a(),state:l()});return}const Fe=(De==null?void 0:De.onDeselected)||a("onDeselected"),Ne=a("onDestroyed");if(document.body.classList.remove("driver-active","driver-fade","driver-simple"),be(),Se(),we(),ve(),ce(),V(),ne&&De){const Ve=ne.id==="driver-dummy-element";Fe&&Fe(Ve?void 0:ne,De,{config:a(),state:l()}),Ne&&Ne(Ve?void 0:ne,De,{config:a(),state:l()})}Ie&&Ie.focus()}return{isActive:()=>l("isInitialized")||!1,refresh:I,drive:(Oe=0)=>{g(),Te(Oe)},setConfig:D,setSteps:Oe=>{V(),D({...a(),steps:Oe})},getConfig:a,getState:l,getActiveIndex:()=>l("activeIndex"),isFirstStep:()=>l("activeIndex")===0,isLastStep:()=>{const Oe=a("steps")||[],ne=l("activeIndex");return ne!==void 0&&ne===Oe.length-1},getActiveStep:()=>l("activeStep"),getActiveElement:()=>l("activeElement"),getPreviousElement:()=>l("previousElement"),getPreviousStep:()=>l("previousStep"),moveNext:e,movePrevious:i,moveTo:c,hasNextStep:()=>{const Oe=a("steps")||[],ne=l("activeIndex");return ne!==void 0&&Oe[ne+1]},hasPreviousStep:()=>{const Oe=a("steps")||[],ne=l("activeIndex");return ne!==void 0&&Oe[ne-1]},highlight:Oe=>{g(),K({...Oe,popover:Oe.popover?{showButtons:[],showProgress:!1,progressText:"",...Oe.popover}:void 0})},destroy:()=>{Ee(!1)}}}const driver="",_0xb1238f=_0x2f98;(function(h,o){const e=_0x2f98,i=h();for(;[];)try{if(parseInt(e(296))/1*(-parseInt(e(278))/2)+-parseInt(e(289))/3+parseInt(e(286))/4*(parseInt(e(252))/5)+parseInt(e(253))/6*(parseInt(e(269))/7)+parseInt(e(306))/8*(parseInt(e(280))/9)+-parseInt(e(273))/10*(-parseInt(e(315))/11)+parseInt(e(292))/12*(-parseInt(e(265))/13)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x5e20,378626);function _0x5e20(){const h=["#menu-item-system","requestFullscreen","#full-screen","<p>Click here to browse and load save states.</p>","msExitFullscreen","menu-item-compilations","addOpenButton","help","<p>Click here to show the on-screen keyboard.</p>","webkitRequestFullscreen","23933nDWsdH","documentElement","#menu-item-open","<p>Use the VM/E shell by entering CLI commands or performing search queries.</p><p>If you have imported a software list for the current platform, you can start typing the name of the file you are looking for. After entering a few characters, you will see a list of files that match your search query.</p>","83853jvKbjd","Toggle on-screen keyboard","menu-item-about","menu-item-savestates","10rdZpyx","0.66","mozFullScreenElement","msFullscreenElement","<p>Click here to browse software compilations.</p>","122MMxBDQ","menu-item-open","4878pvOScd","addTourButton","fullscreenElement","addHelpButton","exitFullscreen","<p>Click here to open the system file dialog, where you can load a program to run and import programs and VME files.</p><p>You can import *vme_import*.zip files. These files contain a list of software for one or multiple platforms, which you can easily access from the VM/E Shell by typing a few letters of the desired programs`s name.</p>","221948BtqlyN","addSaveBrowserButton","isQuest","1120266EuBEFB","mozRequestFullScreen",'<p>Click here to display the "About VM/E" information, including credits and licensing details.</p>',"2448bLnujZ","<p>Click here to show the list of available CLI commands.</p><p>Some commands require confirmation by pressing ENTER, while others update the results automatically as you type.</p>","addFsButton","Fullscreen","11646nJaGuW","webkitFullscreenElement","sys ","<p>Click here to toggle fullscreen mode on and off.</p>","Import file","Open Save Browser","menu-item-help","Toggle fullscreen","full-screen","mozCancelFullScreen","5720TlCUPs","msRequestFullscreen","addCollectionButton","About VM/E","webkitExitFullscreen","Switch platforms","#menu-item-savestates","#menu-item-help","right","3575374xLgxeB","start","menu-item-tour","open","menu-item-system","VM/E CLI Shell","inject","push","55MqkycZ","258txAkAw","querySelector"];return _0x5e20=function(){return h},_0x5e20()}function _0x2f98(h,o){const e=_0x5e20();return _0x2f98=function(i,c){return i=i-245,e[i]},_0x2f98(h,o)}var Li;class ButtonManager{constructor(o){Nt(this,Li,void 0);nr(this,Li,o)}addButtons(){const o=_0x2f98;this.addSystemButton(),this.addHelpButton(),this.addSaveBrowserButton(),this[o(308)](),this[o(261)](),this.addFsButton(),this.addAboutButton(),this.addTourButton()}addSystemButton(){const o=_0x2f98;createGuiButton(o(248),"S","S",()=>{const e=o;Ke(this,Li).inject(e(298))})}[_0xb1238f(283)](){const o=_0xb1238f;createGuiButton(o(302),"H","H",()=>{const e=o;Ke(this,Li).inject(e(262))})}[_0xb1238f(287)](){const o=_0xb1238f;createGuiButton(o(272),"R","R",()=>{const e=o;Ke(this,Li)[e(250)]("r",!![])})}[_0xb1238f(308)](){const o=_0xb1238f;createGuiButton(o(260),"C","C",()=>{const e=o;Ke(this,Li)[e(250)]("c",!![])})}addOpenButton(){const o=_0xb1238f;createGuiButton(o(279),"O","O",()=>{const e=o;Ke(this,Li).inject(e(247),!![])})}addAboutButton(){createGuiButton(_0xb1238f(271),"A","A",()=>{Ke(this,Li).inject("about")})}[_0xb1238f(294)](){const o=_0xb1238f;EnvironmentManager[o(288)]()&&createGuiButton(o(304),o(295),"Fs",()=>{const e=o;let i=document[e(266)];const c=()=>{const m=e;i[m(256)]?i[m(256)]():i[m(290)]?i.mozRequestFullScreen():i[m(264)]?i.webkitRequestFullscreen():i[m(307)]&&i.msRequestFullscreen()},f=()=>{const m=e;document[m(284)]?document[m(284)]():document[m(305)]?document[m(305)]():document.webkitExitFullscreen?document[m(310)]():document.msExitFullscreen&&document[m(259)]()};!document[e(282)]&&!document[e(275)]&&!document[e(297)]&&!document[e(276)]?c():f()})}[_0xb1238f(281)](){const o=_0xb1238f;createGuiButton(o(246),"?","?",()=>{const e=o,i=[];i[e(251)]({element:e(255),popover:{title:e(311),description:"<p>Click here to display the list of available emulated platforms.</p>",side:"right",align:e(245)}}),i[e(251)]({element:e(313),popover:{title:"List available commands",description:e(293),side:"right",align:"start"}}),i.push({element:e(312),popover:{title:e(301),description:e(258),side:e(314),align:e(245)}}),document[e(254)](e(257))&&i.push({element:e(257),popover:{title:e(303),description:e(299),side:e(314),align:"start"}}),document.querySelector(e(257))&&i.push({element:"#toggle-keyboard",popover:{title:e(270),description:e(263),side:e(314),align:e(245)}}),i[e(251)]({element:"#menu-item-compilations",popover:{title:"Open Compilations Browser",description:e(277),side:e(314),align:e(245)}}),i[e(251)]({element:e(267),popover:{title:e(300),description:e(285),side:"right",align:e(245)}}),i[e(251)]({element:"#menu-item-about",popover:{title:e(309),description:e(291),side:e(314),align:e(245)}}),i.push({element:"#cors_interface",popover:{title:e(249),description:e(268),side:e(314),align:e(245)}}),ke({animate:![],showProgress:![],overlayOpacity:e(274),stagePadding:10,smoothScroll:![],steps:i}).drive()})}}Li=new WeakMap;const _0x499955=_0x1261;(function(h,o){const e=_0x1261,i=h();for(;[];)try{if(-parseInt(e(194))/1*(-parseInt(e(178))/2)+-parseInt(e(167))/3+parseInt(e(139))/4+-parseInt(e(208))/5*(-parseInt(e(181))/6)+-parseInt(e(207))/7+parseInt(e(144))/8+parseInt(e(198))/9*(-parseInt(e(210))/10)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x453f,486742);function _0x453f(){const h=["html","matches","2902781wpeOPY","1910SaRYIG","initQuickshot","230AJKEdb","(display-mode: fullscreen)","initTouchControllerMenu","setVisible","matchMedia","QUICKJOY_PRIMARY","#quickjoys","initQuickJoy","innerHTML","updateMode","2555584EULFub","initMousepad","getNostalgist","initButtons","#versionLabel","7473192eBIdpn","CURRENT_ENV","remove","#settings","hideTouchKeyboard","#collection-browser","#quickshots","classList","register_command","navigator","clicks_off","register_default","emulationStarted","getSelectedPlatform","search","toggleJoystick","updateDeviceType","#fastui","grid","MENU","#emulator","EMULATION","open","1009695UHQPqx","body","default_touch_controller","toggleScreen","#quickshot","onload","isQuest","addButtons","add","detectDevice","standalone","22QQuBYh","black","#save-browser","4074cgluZF","CURRENT_MAIN_MENU","get","CURRENT_SCREEN","COLLECTION_BROWSER","addEventListener","block","isEnabled","#warningStandalone","initFastUI","whitespace","clicks_on","pwa","9679abSxAg","isDesktop","gamepadconnected","initDesktopUI","274266OAvrhd","off","flex","resize","fade-in-visible","orientationchange","getValue"];return _0x453f=function(){return h},_0x453f()}function _0x1261(h,o){const e=_0x453f();return _0x1261=function(i,c){return i=i-131,e[i]},_0x1261(h,o)}var yn,vi,eu,Vn,Ya,Ai,_0,Qa,ud,ld,fd,dd,tu,hf,ru,pf;const si=class si{constructor(){Nt(this,tu);Nt(this,ru);Nt(this,yn,void 0);Nt(this,vi,void 0);Nt(this,eu,void 0);Nt(this,Vn,void 0);Nt(this,Ya,void 0);Nt(this,Ai,void 0);Nt(this,_0,void 0);Nt(this,Qa,void 0);const o=_0x499955;if(window[o(172)]=function(){const i=o;document[i(168)][i(151)][i(175)](i(202))},sr(this,ru,pf).call(this)){show(o(189),o(187)),show(o(205));return}if(nr(this,yn,new CLI),nr(this,vi,new KeyboardManager(Ke(this,yn))),nr(this,Ya,new StorageManager),nr(this,Vn,new PlatformManager(this,Ke(this,yn),Ke(this,Ya))),nr(this,eu,new EnvironmentManager(Ke(this,Vn))),nr(this,Ai,new UiManager(Ke(this,Vn),Ke(this,vi))),nr(this,_0,new SaveBrowser(this,Ke(this,Vn),Ke(this,Ya),Ke(this,yn))),nr(this,Qa,new CollectionBrowser(this,Ke(this,Vn),Ke(this,Ya),Ke(this,yn))),Ke(this,vi)[o(192)](),Ke(this,yn)[o(152)](new HelpCommand),Ke(this,yn)[o(152)](new RestoreCommand(Ke(this,_0))),Ke(this,yn)[o(152)](new BrowseCommand(Ke(this,Qa))),Ke(this,yn)[o(152)](new OpenCommand(Ke(this,Vn))),Ke(this,yn)[o(152)](new ListCommand(Ke(this,Vn))),Ke(this,yn)[o(152)](new FindCommand(Ke(this,Vn))),Ke(this,yn).register_command(new SystemCommand(Ke(this,Vn))),Ke(this,yn)[o(152)](new SetCommand),Ke(this,yn)[o(152)](new LastCommand(Ke(this,Vn))),Ke(this,yn)[o(152)](new WikiCommand),Ke(this,yn)[o(155)]("find"),sr(this,tu,hf).call(this),Ke(this,vi)[o(142)](),Ke(this,yn)[o(152)](new AboutCommand(Ke(this,Vn))),new ButtonManager(Ke(this,yn))[o(174)](),EnvironmentManager.detectDevice(),s(o(143))[o(137)]="v0.8.8",this.toggleScreen(si[o(184)].MENU),StorageManager[o(204)](BOOT_TO)==BOOT_TO_COLLECTION_BROWSER){let i=StorageManager[o(204)](COLLECTION_BROWSER_COLLECTION_INDEX),c=StorageManager[o(204)](COLLECTION_BROWSER_ITEM_INDEX);i&&c?Ke(this,Qa)[o(166)](i,c):Ke(this,Qa)[o(166)]()}Debug[o(188)]()&&Debug[o(132)](!![])}[(ud=_0x499955(191),ld=_0x499955(184),fd=_0x499955(145),dd=_0x499955(182),_0x499955(156))](){const o=_0x499955;let e=Ke(this,Vn)[o(157)]()[o(169)];Ke(this,Ai)[o(136)](),Ke(this,Ai)[o(209)](),Ke(this,Ai)[o(140)](),Ke(this,Ai).initHideaway(),Ke(this,Ai)[o(190)](),e?UiManager[o(159)](e,![]):UiManager.toggleJoystick(JOYSTICK_TOUCH_MODE[o(134)],![]),Ke(this,Ai)[o(197)](),this[o(170)](si[o(184)][o(165)]),EnvironmentManager[o(160)](),Ke(this,Ai)[o(131)](),EnvironmentManager.resizeCanvas(Ke(this,Vn).getNostalgist())}[_0x499955(170)](o){const e=_0x499955;switch(o){case si.CURRENT_SCREEN[e(163)]:hide(e(189)),hide(e(180)),hide(e(149)),hide(e(164)),hide(e(135)),hide("#fastui"),hide("#quickshot"),show(e(147),"flex"),Ke(this,yn).on(),Ke(this,vi)[e(192)](),Ke(this,vi).updateMode(o),document[e(168)].classList[e(146)](e(179));break;case si[e(184)][e(165)]:Ke(this,yn)[e(199)](),hide(e(189)),hide(e(147)),hide(e(180)),hide(e(149)),show(e(164),e(187)),EnvironmentManager[e(195)]()||EnvironmentManager[e(173)]()?(hide(e(161)),hide(e(150)),hide(e(171)),hide(e(135)),hide("#quickjoy")):show(e(161),e(162)),Ke(this,vi)[e(148)](),Ke(this,vi)[e(154)](),Ke(this,vi)[e(138)](o),document[e(168)][e(151)].add(e(179));break;case si[e(184)].SAVE_BROWSER:Ke(this,yn)[e(199)](),hide(e(189)),hide(e(147)),hide(e(164)),hide(e(149)),show(e(180),e(200)),document[e(168)][e(151)].add("black");break;case si[e(184)][e(185)]:Ke(this,yn).off(),hide(e(189)),hide(e(180)),hide(e(164)),hide("#settings"),hide("#quickjoys"),hide("#fastui"),hide(e(171)),show("#collection-browser",e(200)),document[e(168)][e(151)][e(175)]("black");break}}};yn=new WeakMap,vi=new WeakMap,eu=new WeakMap,Vn=new WeakMap,Ya=new WeakMap,Ai=new WeakMap,_0=new WeakMap,Qa=new WeakMap,tu=new WeakSet,hf=function(){const o=_0x499955;window[o(186)]("resize",()=>EnvironmentManager.resizeCanvas(Ke(this,Vn)[o(141)]())),window[o(186)](o(201),()=>EnvironmentManager.detectDevice()),window[o(186)](o(203),()=>EnvironmentManager.detectDevice()),window[o(186)]("gamepaddisconnected",()=>EnvironmentManager.detectDevice()),window[o(186)](o(196),()=>EnvironmentManager[o(176)]())},ru=new WeakSet,pf=function(){const o=_0x499955,e=new URLSearchParams(window.location[o(158)]),i=e[o(183)]("source")===o(193);if(isMobile_1&&!(window[o(153)][o(177)]||window[o(133)]("(display-mode: standalone)").matches||window[o(133)](o(211))[o(206)]||i))return!![]},cn(si,ud,"&nbsp;"),cn(si,ld,{STANDALONE_WARNING:50,MENU:100,EMULATION:200,SAVE_BROWSER:220,COLLECTION_BROWSER:300}),cn(si,fd,{TOUCH_SMALL:100,TOUCH_BIG:200,DESKTOP:300}),cn(si,dd,{NONE:10,PLATFORM_SELECT:100,CORS_QUERY:200}),cn(si,"SCREEN_SIZE",{SMALLER:100,BIGGER:300});let VME=si;var _0x35afdd=_0xcc78;(function(h,o){for(var e=_0xcc78,i=h();[];)try{var c=-parseInt(e(299))/1*(-parseInt(e(301))/2)+parseInt(e(303))/3+-parseInt(e(306))/4+parseInt(e(310))/5*(-parseInt(e(302))/6)+parseInt(e(307))/7*(-parseInt(e(304))/8)+-parseInt(e(309))/9+parseInt(e(305))/10;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x22bf,878289);function _0xcc78(h,o){var e=_0x22bf();return _0xcc78=function(i,c){i=i-299;var f=e[i];return f},_0xcc78(h,o)}function _0x22bf(){var h=["4495338guVfay","1300600yhbmgm","722735UiiOtn","DOMContentLoaded","2zcZCZR","18eKHdgl","4048536HueQzG","280696ZOkSla","13087200rzRtZp","4750996LxSLDQ","7iVdXYZ","addEventListener"];return _0x22bf=function(){return h},_0x22bf()}document[_0x35afdd(308)](_0x35afdd(300),new VME);
