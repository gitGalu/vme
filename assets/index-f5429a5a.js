var _f=Object.defineProperty;var vf=(_,o,e)=>o in _?_f(_,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):_[o]=e;var un=(_,o,e)=>(vf(_,typeof o!="symbol"?o+"":o,e),e),ru=(_,o,e)=>{if(!o.has(_))throw TypeError("Cannot "+e)};var Ye=(_,o,e)=>(ru(_,o,"read from private field"),e?e.call(_):o.get(_)),Ut=(_,o,e)=>{if(o.has(_))throw TypeError("Cannot add the same private member more than once");o instanceof WeakSet?o.add(_):o.set(_,e)},ir=(_,o,e,i)=>(ru(_,o,"write to private field"),i?i.call(_,e):o.set(_,e),e);var B0=(_,o,e,i)=>({set _(c){ir(_,o,c,e)},get _(){return Ye(_,o,i)}}),ur=(_,o,e)=>(ru(_,o,"access private method"),e);(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function e(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function i(c){if(c.ep)return;c.ep=!0;const f=e(c);fetch(c.href,f)}})();const vme="";(function(_,o){for(var e=_0x5942,i=_();[];)try{var c=parseInt(e(372))/1*(-parseInt(e(378))/2)+parseInt(e(375))/3*(-parseInt(e(365))/4)+parseInt(e(364))/5*(parseInt(e(363))/6)+parseInt(e(370))/7+parseInt(e(368))/8*(-parseInt(e(359))/9)+-parseInt(e(373))/10+parseInt(e(376))/11;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x3317,763092);function s(_){return document.querySelector(_)}function show(_,o){var e=_0x5942,i=s(_);i!=null&&(o==null&&(o=e(360)),i[e(361)].display=o)}function hide(_){var o=_0x5942,e=s(_);e!=null&&(e[o(361)][o(366)]=o(367))}function _0x5942(_,o){var e=_0x3317();return _0x5942=function(i,c){i=i-359;var f=e[i];return f},_0x5942(_,o)}function addButtonEventListeners(_,o){var e=_0x5942;let i=![];const c=f=>{o(f)};_.addEventListener(e(371),()=>{i=!![],c(!![])}),_.addEventListener(e(377),()=>{i&&(c(![]),i=![])}),_[e(369)]("mouseleave",()=>{i&&(c(![]),i=![])})}function _0x3317(){var _=["729884XOEpSi","12518680mnSgcr","getComputedStyle","3924879THACFE","55637043klmdAp","mouseup","4RzDBcq","45AyaOgS","block","style","insertAdjacentHTML","30AgvpDd","68495tRSNxG","4nJylBt","display","none","792632UedKDS","addEventListener","1064056JAUtPu","mousedown"];return _0x3317=function(){return _},_0x3317()}var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$1(_){return _&&_.__esModule&&Object.prototype.hasOwnProperty.call(_,"default")?_.default:_}function getAugmentedNamespace(_){if(_.__esModule)return _;var o=_.default;if(typeof o=="function"){var e=function i(){return this instanceof i?Reflect.construct(o,arguments,this.constructor):o.apply(this,arguments)};e.prototype=o.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(_).forEach(function(i){var c=Object.getOwnPropertyDescriptor(_,i);Object.defineProperty(e,i,c.get?c:{enumerable:!0,get:function(){return _[i]}})}),e}var dexie_min={exports:{}};(function(_,o){(function(e,i){_.exports=i()})(commonjsGlobal$1,function(){var e=function(Re,Le){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ze,Qe){ze.__proto__=Qe}||function(ze,Qe){for(var $e in Qe)Object.prototype.hasOwnProperty.call(Qe,$e)&&(ze[$e]=Qe[$e])})(Re,Le)},i=function(){return(i=Object.assign||function(Re){for(var Le,ze=1,Qe=arguments.length;ze<Qe;ze++)for(var $e in Le=arguments[ze])Object.prototype.hasOwnProperty.call(Le,$e)&&(Re[$e]=Le[$e]);return Re}).apply(this,arguments)};function c(Re,Le,ze){if(ze||arguments.length===2)for(var Qe,$e=0,ot=Le.length;$e<ot;$e++)!Qe&&$e in Le||((Qe=Qe||Array.prototype.slice.call(Le,0,$e))[$e]=Le[$e]);return Re.concat(Qe||Array.prototype.slice.call(Le))}var f=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:commonjsGlobal$1,m=Object.keys,g=Array.isArray;function Te(Re,Le){return typeof Le!="object"||m(Le).forEach(function(ze){Re[ze]=Le[ze]}),Re}typeof Promise>"u"||f.Promise||(f.Promise=Promise);var Oe=Object.getPrototypeOf,Ie={}.hasOwnProperty;function _e(Re,Le){return Ie.call(Re,Le)}function De(Re,Le){typeof Le=="function"&&(Le=Le(Oe(Re))),(typeof Reflect>"u"?m:Reflect.ownKeys)(Le).forEach(function(ze){qe(Re,ze,Le[ze])})}var Ee=Object.defineProperty;function qe(Re,Le,ze,Qe){Ee(Re,Le,Te(ze&&_e(ze,"get")&&typeof ze.get=="function"?{get:ze.get,set:ze.set,configurable:!0}:{value:ze,configurable:!0,writable:!0},Qe))}function Be(Re){return{from:function(Le){return Re.prototype=Object.create(Le.prototype),qe(Re.prototype,"constructor",Re),{extend:De.bind(null,Re.prototype)}}}}var Ne=Object.getOwnPropertyDescriptor,Ve=[].slice;function Ue(Re,Le,ze){return Ve.call(Re,Le,ze)}function We(Re,Le){return Le(Re)}function He(Re){if(!Re)throw new Error("Assertion Failed")}function Ze(Re){f.setImmediate?setImmediate(Re):setTimeout(Re,0)}function st(Re,Le){if(typeof Le=="string"&&_e(Re,Le))return Re[Le];if(!Le)return Re;if(typeof Le!="string"){for(var ze=[],Qe=0,$e=Le.length;Qe<$e;++Qe){var ot=st(Re,Le[Qe]);ze.push(ot)}return ze}var _t=Le.indexOf(".");if(_t!==-1){var wt=Re[Le.substr(0,_t)];return wt==null?void 0:st(wt,Le.substr(_t+1))}}function it(Re,Le,ze){if(Re&&Le!==void 0&&!("isFrozen"in Object&&Object.isFrozen(Re)))if(typeof Le!="string"&&"length"in Le){He(typeof ze!="string"&&"length"in ze);for(var Qe=0,$e=Le.length;Qe<$e;++Qe)it(Re,Le[Qe],ze[Qe])}else{var ot,_t,wt=Le.indexOf(".");wt!==-1?(ot=Le.substr(0,wt),(_t=Le.substr(wt+1))===""?ze===void 0?g(Re)&&!isNaN(parseInt(ot))?Re.splice(ot,1):delete Re[ot]:Re[ot]=ze:it(wt=!(wt=Re[ot])||!_e(Re,ot)?Re[ot]={}:wt,_t,ze)):ze===void 0?g(Re)&&!isNaN(parseInt(Le))?Re.splice(Le,1):delete Re[Le]:Re[Le]=ze}}function vt(Re){var Le,ze={};for(Le in Re)_e(Re,Le)&&(ze[Le]=Re[Le]);return ze}var gt=[].concat;function tt(Re){return gt.apply([],Re)}var mi="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(tt([8,16,32,64].map(function(Re){return["Int","Uint","Float"].map(function(Le){return Le+Re+"Array"})}))).filter(function(Re){return f[Re]}),pt=new Set(mi.map(function(Re){return f[Re]})),nt=null;function mt(Re){return nt=new WeakMap,Re=function Le(ze){if(!ze||typeof ze!="object")return ze;var Qe=nt.get(ze);if(Qe)return Qe;if(g(ze)){Qe=[],nt.set(ze,Qe);for(var $e=0,ot=ze.length;$e<ot;++$e)Qe.push(Le(ze[$e]))}else if(pt.has(ze.constructor))Qe=ze;else{var _t,wt=Oe(ze);for(_t in Qe=wt===Object.prototype?{}:Object.create(wt),nt.set(ze,Qe),ze)_e(ze,_t)&&(Qe[_t]=Le(ze[_t]))}return Qe}(Re),nt=null,Re}var Je={}.toString;function Ft(Re){return Je.call(Re).slice(8,-1)}var Zt=typeof Symbol<"u"?Symbol.iterator:"@@iterator",jt=typeof Zt=="symbol"?function(Re){var Le;return Re!=null&&(Le=Re[Zt])&&Le.apply(Re)}:function(){return null};function cr(Re,Le){return Le=Re.indexOf(Le),0<=Le&&Re.splice(Le,1),0<=Le}var bt={};function St(Re){var Le,ze,Qe,$e;if(arguments.length===1){if(g(Re))return Re.slice();if(this===bt&&typeof Re=="string")return[Re];if($e=jt(Re)){for(ze=[];!(Qe=$e.next()).done;)ze.push(Qe.value);return ze}if(Re==null)return[Re];if(typeof(Le=Re.length)!="number")return[Re];for(ze=new Array(Le);Le--;)ze[Le]=Re[Le];return ze}for(Le=arguments.length,ze=new Array(Le);Le--;)ze[Le]=arguments[Le];return ze}var ct=typeof Symbol<"u"?function(Re){return Re[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Et=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],tn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Et),dt={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Pt(Re,Le){this.name=Re,this.message=Le}function Ct(Re,Le){return Re+". Errors: "+Object.keys(Le).map(function(ze){return Le[ze].toString()}).filter(function(ze,Qe,$e){return $e.indexOf(ze)===Qe}).join(`
`)}function Kt(Re,Le,ze,Qe){this.failures=Le,this.failedKeys=Qe,this.successCount=ze,this.message=Ct(Re,Le)}function fr(Re,Le){this.name="BulkError",this.failures=Object.keys(Le).map(function(ze){return Le[ze]}),this.failuresByPos=Le,this.message=Ct(Re,this.failures)}Be(Pt).from(Error).extend({toString:function(){return this.name+": "+this.message}}),Be(Kt).from(Pt),Be(fr).from(Pt);var Rr=tn.reduce(function(Re,Le){return Re[Le]=Le+"Error",Re},{}),sr=Pt,lt=tn.reduce(function(Re,Le){var ze=Le+"Error";function Qe($e,ot){this.name=ze,$e?typeof $e=="string"?(this.message="".concat($e).concat(ot?`
 `+ot:""),this.inner=ot||null):typeof $e=="object"&&(this.message="".concat($e.name," ").concat($e.message),this.inner=$e):(this.message=dt[Le]||ze,this.inner=null)}return Be(Qe).from(sr),Re[Le]=Qe,Re},{});lt.Syntax=SyntaxError,lt.Type=TypeError,lt.Range=RangeError;var yt=Et.reduce(function(Re,Le){return Re[Le+"Error"]=lt[Le],Re},{}),Jt=tn.reduce(function(Re,Le){return["Syntax","Type","Range"].indexOf(Le)===-1&&(Re[Le+"Error"]=lt[Le]),Re},{});function $t(){}function dr(Re){return Re}function Xe(Re,Le){return Re==null||Re===dr?Le:function(ze){return Le(Re(ze))}}function At(Re,Le){return function(){Re.apply(this,arguments),Le.apply(this,arguments)}}function Wt(Re,Le){return Re===$t?Le:function(){var ze=Re.apply(this,arguments);ze!==void 0&&(arguments[0]=ze);var Qe=this.onsuccess,$e=this.onerror;this.onsuccess=null,this.onerror=null;var ot=Le.apply(this,arguments);return Qe&&(this.onsuccess=this.onsuccess?At(Qe,this.onsuccess):Qe),$e&&(this.onerror=this.onerror?At($e,this.onerror):$e),ot!==void 0?ot:ze}}function ht(Re,Le){return Re===$t?Le:function(){Re.apply(this,arguments);var ze=this.onsuccess,Qe=this.onerror;this.onsuccess=this.onerror=null,Le.apply(this,arguments),ze&&(this.onsuccess=this.onsuccess?At(ze,this.onsuccess):ze),Qe&&(this.onerror=this.onerror?At(Qe,this.onerror):Qe)}}function xt(Re,Le){return Re===$t?Le:function(ze){var Qe=Re.apply(this,arguments);Te(ze,Qe);var $e=this.onsuccess,ot=this.onerror;return this.onsuccess=null,this.onerror=null,ze=Le.apply(this,arguments),$e&&(this.onsuccess=this.onsuccess?At($e,this.onsuccess):$e),ot&&(this.onerror=this.onerror?At(ot,this.onerror):ot),Qe===void 0?ze===void 0?void 0:ze:Te(Qe,ze)}}function Dt(Re,Le){return Re===$t?Le:function(){return Le.apply(this,arguments)!==!1&&Re.apply(this,arguments)}}function er(Re,Le){return Re===$t?Le:function(){var ze=Re.apply(this,arguments);if(ze&&typeof ze.then=="function"){for(var Qe=this,$e=arguments.length,ot=new Array($e);$e--;)ot[$e]=arguments[$e];return ze.then(function(){return Le.apply(Qe,ot)})}return Le.apply(this,arguments)}}Jt.ModifyError=Kt,Jt.DexieError=Pt,Jt.BulkError=fr;var rt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function je(Re){rt=Re}var Ke={},ut=100,mi=typeof Promise>"u"?[]:function(){var Re=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[Re,Oe(Re),Re];var Le=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[Le,Oe(Le),Re]}(),Et=mi[0],tn=mi[1],mi=mi[2],tn=tn&&tn.then,It=Et&&Et.constructor,zt=!!mi,tr=function(Re,Le){on.push([Re,Le]),Lr&&(queueMicrotask(Pn),Lr=!1)},Sr=!0,Lr=!0,Pr=[],Er=[],gr=dr,Qr={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:$t,pgp:!1,env:{},finalize:$t},Cr=Qr,on=[],Bn=0,Un=[];function wr(Re){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var Le=this._PSD=Cr;if(typeof Re!="function"){if(Re!==Ke)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&at(this,this._value))}this._state=null,this._value=null,++Le.ref,function ze(Qe,$e){try{$e(function(ot){if(Qe._state===null){if(ot===Qe)throw new TypeError("A promise cannot be resolved with itself.");var _t=Qe._lib&&Tr();ot&&typeof ot.then=="function"?ze(Qe,function(wt,Rt){ot instanceof wr?ot._then(wt,Rt):ot.then(wt,Rt)}):(Qe._state=!0,Qe._value=ot,Or(Qe)),_t&&cn()}},at.bind(null,Qe))}catch(ot){at(Qe,ot)}}(this,Re)}var Xt={get:function(){var Re=Cr,Le=ln;function ze(Qe,$e){var ot=this,_t=!Re.global&&(Re!==Cr||Le!==ln),wt=_t&&!hn(),Rt=new wr(function(Tt,Lt){en(ot,new yr(Qn(Qe,Re,_t,wt),Qn($e,Re,_t,wt),Tt,Lt,Re))});return this._consoleTask&&(Rt._consoleTask=this._consoleTask),Rt}return ze.prototype=Ke,ze},set:function(Re){qe(this,"then",Re&&Re.prototype===Ke?Xt:{get:function(){return Re},set:Xt.set})}};function yr(Re,Le,ze,Qe,$e){this.onFulfilled=typeof Re=="function"?Re:null,this.onRejected=typeof Le=="function"?Le:null,this.resolve=ze,this.reject=Qe,this.psd=$e}function at(Re,Le){var ze,Qe;Er.push(Le),Re._state===null&&(ze=Re._lib&&Tr(),Le=gr(Le),Re._state=!1,Re._value=Le,Qe=Re,Pr.some(function($e){return $e._value===Qe._value})||Pr.push(Qe),Or(Re),ze&&cn())}function Or(Re){var Le=Re._listeners;Re._listeners=[];for(var ze=0,Qe=Le.length;ze<Qe;++ze)en(Re,Le[ze]);var $e=Re._PSD;--$e.ref||$e.finalize(),Bn===0&&(++Bn,tr(function(){--Bn==0&&or()},[]))}function en(Re,Le){if(Re._state!==null){var ze=Re._state?Le.onFulfilled:Le.onRejected;if(ze===null)return(Re._state?Le.resolve:Le.reject)(Re._value);++Le.psd.ref,++Bn,tr(kr,[ze,Re,Le])}else Re._listeners.push(Le)}function kr(Re,Le,ze){try{var Qe,$e=Le._value;!Le._state&&Er.length&&(Er=[]),Qe=rt&&Le._consoleTask?Le._consoleTask.run(function(){return Re($e)}):Re($e),Le._state||Er.indexOf($e)!==-1||function(ot){for(var _t=Pr.length;_t;)if(Pr[--_t]._value===ot._value)return Pr.splice(_t,1)}(Le),ze.resolve(Qe)}catch(ot){ze.reject(ot)}finally{--Bn==0&&or(),--ze.psd.ref||ze.psd.finalize()}}function Pn(){xn(Qr,function(){Tr()&&cn()})}function Tr(){var Re=Sr;return Lr=Sr=!1,Re}function cn(){var Re,Le,ze;do for(;0<on.length;)for(Re=on,on=[],ze=Re.length,Le=0;Le<ze;++Le){var Qe=Re[Le];Qe[0].apply(null,Qe[1])}while(0<on.length);Lr=Sr=!0}function or(){var Re=Pr;Pr=[],Re.forEach(function(Qe){Qe._PSD.onunhandled.call(null,Qe._value,Qe)});for(var Le=Un.slice(0),ze=Le.length;ze;)Le[--ze]()}function ar(Re){return new wr(Ke,!1,Re)}function Zr(Re,Le){var ze=Cr;return function(){var Qe=Tr(),$e=Cr;try{return an(ze,!0),Re.apply(this,arguments)}catch(ot){Le&&Le(ot)}finally{an($e,!1),Qe&&cn()}}}De(wr.prototype,{then:Xt,_then:function(Re,Le){en(this,new yr(null,null,Re,Le,Cr))},catch:function(Re){if(arguments.length===1)return this.then(null,Re);var Le=Re,ze=arguments[1];return typeof Le=="function"?this.then(null,function(Qe){return(Qe instanceof Le?ze:ar)(Qe)}):this.then(null,function(Qe){return(Qe&&Qe.name===Le?ze:ar)(Qe)})},finally:function(Re){return this.then(function(Le){return wr.resolve(Re()).then(function(){return Le})},function(Le){return wr.resolve(Re()).then(function(){return ar(Le)})})},timeout:function(Re,Le){var ze=this;return Re<1/0?new wr(function(Qe,$e){var ot=setTimeout(function(){return $e(new lt.Timeout(Le))},Re);ze.then(Qe,$e).finally(clearTimeout.bind(null,ot))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&qe(wr.prototype,Symbol.toStringTag,"Dexie.Promise"),Qr.env=Ln(),De(wr,{all:function(){var Re=St.apply(null,arguments).map(vi);return new wr(function(Le,ze){Re.length===0&&Le([]);var Qe=Re.length;Re.forEach(function($e,ot){return wr.resolve($e).then(function(_t){Re[ot]=_t,--Qe||Le(Re)},ze)})})},resolve:function(Re){return Re instanceof wr?Re:Re&&typeof Re.then=="function"?new wr(function(Le,ze){Re.then(Le,ze)}):new wr(Ke,!0,Re)},reject:ar,race:function(){var Re=St.apply(null,arguments).map(vi);return new wr(function(Le,ze){Re.map(function(Qe){return wr.resolve(Qe).then(Le,ze)})})},PSD:{get:function(){return Cr},set:function(Re){return Cr=Re}},totalEchoes:{get:function(){return ln}},newPSD:dn,usePSD:xn,scheduler:{get:function(){return tr},set:function(Re){tr=Re}},rejectionMapper:{get:function(){return gr},set:function(Re){gr=Re}},follow:function(Re,Le){return new wr(function(ze,Qe){return dn(function($e,ot){var _t=Cr;_t.unhandleds=[],_t.onunhandled=ot,_t.finalize=At(function(){var wt,Rt=this;wt=function(){Rt.unhandleds.length===0?$e():ot(Rt.unhandleds[0])},Un.push(function Tt(){wt(),Un.splice(Un.indexOf(Tt),1)}),++Bn,tr(function(){--Bn==0&&or()},[])},_t.finalize),Re()},Le,ze,Qe)})}}),It&&(It.allSettled&&qe(wr,"allSettled",function(){var Re=St.apply(null,arguments).map(vi);return new wr(function(Le){Re.length===0&&Le([]);var ze=Re.length,Qe=new Array(ze);Re.forEach(function($e,ot){return wr.resolve($e).then(function(_t){return Qe[ot]={status:"fulfilled",value:_t}},function(_t){return Qe[ot]={status:"rejected",reason:_t}}).then(function(){return--ze||Le(Qe)})})})}),It.any&&typeof AggregateError<"u"&&qe(wr,"any",function(){var Re=St.apply(null,arguments).map(vi);return new wr(function(Le,ze){Re.length===0&&ze(new AggregateError([]));var Qe=Re.length,$e=new Array(Qe);Re.forEach(function(ot,_t){return wr.resolve(ot).then(function(wt){return Le(wt)},function(wt){$e[_t]=wt,--Qe||ze(new AggregateError($e))})})})}));var qr={awaits:0,echoes:0,id:0},Dr=0,Wn=[],jn=0,ln=0,Xr=0;function dn(Re,Le,ze,Qe){var $e=Cr,ot=Object.create($e);return ot.parent=$e,ot.ref=0,ot.global=!1,ot.id=++Xr,Qr.env,ot.env=zt?{Promise:wr,PromiseProp:{value:wr,configurable:!0,writable:!0},all:wr.all,race:wr.race,allSettled:wr.allSettled,any:wr.any,resolve:wr.resolve,reject:wr.reject}:{},Le&&Te(ot,Le),++$e.ref,ot.finalize=function(){--this.parent.ref||this.parent.finalize()},Qe=xn(ot,Re,ze,Qe),ot.ref===0&&ot.finalize(),Qe}function wn(){return qr.id||(qr.id=++Dr),++qr.awaits,qr.echoes+=ut,qr.id}function hn(){return!!qr.awaits&&(--qr.awaits==0&&(qr.id=0),qr.echoes=qr.awaits*ut,!0)}function vi(Re){return qr.echoes&&Re&&Re.constructor===It?(wn(),Re.then(function(Le){return hn(),Le},function(Le){return hn(),vn(Le)})):Re}function Li(){var Re=Wn[Wn.length-1];Wn.pop(),an(Re,!1)}function an(Re,Le){var ze,Qe=Cr;(Le?!qr.echoes||jn++&&Re===Cr:!jn||--jn&&Re===Cr)||queueMicrotask(Le?(function($e){++ln,qr.echoes&&--qr.echoes!=0||(qr.echoes=qr.awaits=qr.id=0),Wn.push(Cr),an($e,!0)}).bind(null,Re):Li),Re!==Cr&&(Cr=Re,Qe===Qr&&(Qr.env=Ln()),zt&&(ze=Qr.env.Promise,Le=Re.env,(Qe.global||Re.global)&&(Object.defineProperty(f,"Promise",Le.PromiseProp),ze.all=Le.all,ze.race=Le.race,ze.resolve=Le.resolve,ze.reject=Le.reject,Le.allSettled&&(ze.allSettled=Le.allSettled),Le.any&&(ze.any=Le.any))))}function Ln(){var Re=f.Promise;return zt?{Promise:Re,PromiseProp:Object.getOwnPropertyDescriptor(f,"Promise"),all:Re.all,race:Re.race,allSettled:Re.allSettled,any:Re.any,resolve:Re.resolve,reject:Re.reject}:{}}function xn(Re,Le,ze,Qe,$e){var ot=Cr;try{return an(Re,!0),Le(ze,Qe,$e)}finally{an(ot,!1)}}function Qn(Re,Le,ze,Qe){return typeof Re!="function"?Re:function(){var $e=Cr;ze&&wn(),an(Le,!0);try{return Re.apply(this,arguments)}finally{an($e,!1),Qe&&queueMicrotask(hn)}}}function zn(Re){Promise===It&&qr.echoes===0?jn===0?Re():enqueueNativeMicroTask(Re):setTimeout(Re,0)}(""+tn).indexOf("[native code]")===-1&&(wn=hn=$t);var vn=wr.reject,Ai=String.fromCharCode(65535),li="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",u0="String expected.",Mi=[],Qa="__dbnames",ns="readonly",is="readwrite";function Vi(Re,Le){return Re?Le?function(){return Re.apply(this,arguments)&&Le.apply(this,arguments)}:Re:Le}var l0={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Xa(Re){return typeof Re!="string"||/\./.test(Re)?function(Le){return Le}:function(Le){return Le[Re]===void 0&&Re in Le&&delete(Le=mt(Le))[Re],Le}}function f0(){throw lt.Type()}function Jr(Re,Le){try{var ze=d0(Re),Qe=d0(Le);if(ze!==Qe)return ze==="Array"?1:Qe==="Array"?-1:ze==="binary"?1:Qe==="binary"?-1:ze==="string"?1:Qe==="string"?-1:ze==="Date"?1:Qe!=="Date"?NaN:-1;switch(ze){case"number":case"Date":case"string":return Le<Re?1:Re<Le?-1:0;case"binary":return function($e,ot){for(var _t=$e.length,wt=ot.length,Rt=_t<wt?_t:wt,Tt=0;Tt<Rt;++Tt)if($e[Tt]!==ot[Tt])return $e[Tt]<ot[Tt]?-1:1;return _t===wt?0:_t<wt?-1:1}(h0(Re),h0(Le));case"Array":return function($e,ot){for(var _t=$e.length,wt=ot.length,Rt=_t<wt?_t:wt,Tt=0;Tt<Rt;++Tt){var Lt=Jr($e[Tt],ot[Tt]);if(Lt!==0)return Lt}return _t===wt?0:_t<wt?-1:1}(Re,Le)}}catch{}return NaN}function d0(Re){var Le=typeof Re;return Le!="object"?Le:ArrayBuffer.isView(Re)?"binary":(Re=Ft(Re),Re==="ArrayBuffer"?"binary":Re)}function h0(Re){return Re instanceof Uint8Array?Re:ArrayBuffer.isView(Re)?new Uint8Array(Re.buffer,Re.byteOffset,Re.byteLength):new Uint8Array(Re)}var x0=(pn.prototype._trans=function(Re,Le,ze){var Qe=this._tx||Cr.trans,$e=this.name,ot=rt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(Re==="readonly"?"read":"write"," ").concat(this.name));function _t(Tt,Lt,Ot){if(!Ot.schema[$e])throw new lt.NotFound("Table "+$e+" not part of transaction");return Le(Ot.idbtrans,Ot)}var wt=Tr();try{var Rt=Qe&&Qe.db._novip===this.db._novip?Qe===Cr.trans?Qe._promise(Re,_t,ze):dn(function(){return Qe._promise(Re,_t,ze)},{trans:Qe,transless:Cr.transless||Cr}):function Tt(Lt,Ot,Vt,Bt){if(Lt.idbdb&&(Lt._state.openComplete||Cr.letThrough||Lt._vip)){var Nt=Lt._createTransaction(Ot,Vt,Lt._dbSchema);try{Nt.create(),Lt._state.PR1398_maxLoop=3}catch(Mt){return Mt.name===Rr.InvalidState&&Lt.isOpen()&&0<--Lt._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Lt.close({disableAutoOpen:!1}),Lt.open().then(function(){return Tt(Lt,Ot,Vt,Bt)})):vn(Mt)}return Nt._promise(Ot,function(Mt,qt){return dn(function(){return Cr.trans=Nt,Bt(Mt,qt,Nt)})}).then(function(Mt){if(Ot==="readwrite")try{Nt.idbtrans.commit()}catch{}return Ot==="readonly"?Mt:Nt._completion.then(function(){return Mt})})}if(Lt._state.openComplete)return vn(new lt.DatabaseClosed(Lt._state.dbOpenError));if(!Lt._state.isBeingOpened){if(!Lt._state.autoOpen)return vn(new lt.DatabaseClosed);Lt.open().catch($t)}return Lt._state.dbReadyPromise.then(function(){return Tt(Lt,Ot,Vt,Bt)})}(this.db,Re,[this.name],_t);return ot&&(Rt._consoleTask=ot,Rt=Rt.catch(function(Tt){return console.trace(Tt),vn(Tt)})),Rt}finally{wt&&cn()}},pn.prototype.get=function(Re,Le){var ze=this;return Re&&Re.constructor===Object?this.where(Re).first(Le):Re==null?vn(new lt.Type("Invalid argument to Table.get()")):this._trans("readonly",function(Qe){return ze.core.get({trans:Qe,key:Re}).then(function($e){return ze.hook.reading.fire($e)})}).then(Le)},pn.prototype.where=function(Re){if(typeof Re=="string")return new this.db.WhereClause(this,Re);if(g(Re))return new this.db.WhereClause(this,"[".concat(Re.join("+"),"]"));var Le=m(Re);if(Le.length===1)return this.where(Le[0]).equals(Re[Le[0]]);var ze=this.schema.indexes.concat(this.schema.primKey).filter(function(Rt){if(Rt.compound&&Le.every(function(Lt){return 0<=Rt.keyPath.indexOf(Lt)})){for(var Tt=0;Tt<Le.length;++Tt)if(Le.indexOf(Rt.keyPath[Tt])===-1)return!1;return!0}return!1}).sort(function(Rt,Tt){return Rt.keyPath.length-Tt.keyPath.length})[0];if(ze&&this.db._maxKey!==Ai){var _t=ze.keyPath.slice(0,Le.length);return this.where(_t).equals(_t.map(function(Tt){return Re[Tt]}))}!ze&&rt&&console.warn("The query ".concat(JSON.stringify(Re)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(Le.join("+"),"]"));var Qe=this.schema.idxByName,$e=this.db._deps.indexedDB;function ot(Rt,Tt){return $e.cmp(Rt,Tt)===0}var wt=Le.reduce(function(Vt,Tt){var Lt=Vt[0],Ot=Vt[1],Vt=Qe[Tt],Bt=Re[Tt];return[Lt||Vt,Lt||!Vt?Vi(Ot,Vt&&Vt.multi?function(Nt){return Nt=st(Nt,Tt),g(Nt)&&Nt.some(function(Mt){return ot(Bt,Mt)})}:function(Nt){return ot(Bt,st(Nt,Tt))}):Ot]},[null,null]),_t=wt[0],wt=wt[1];return _t?this.where(_t.name).equals(Re[_t.keyPath]).filter(wt):ze?this.filter(wt):this.where(Le).equals("")},pn.prototype.filter=function(Re){return this.toCollection().and(Re)},pn.prototype.count=function(Re){return this.toCollection().count(Re)},pn.prototype.offset=function(Re){return this.toCollection().offset(Re)},pn.prototype.limit=function(Re){return this.toCollection().limit(Re)},pn.prototype.each=function(Re){return this.toCollection().each(Re)},pn.prototype.toArray=function(Re){return this.toCollection().toArray(Re)},pn.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},pn.prototype.orderBy=function(Re){return new this.db.Collection(new this.db.WhereClause(this,g(Re)?"[".concat(Re.join("+"),"]"):Re))},pn.prototype.reverse=function(){return this.toCollection().reverse()},pn.prototype.mapToClass=function(Re){var Le,ze=this.db,Qe=this.name;function $e(){return Le!==null&&Le.apply(this,arguments)||this}(this.schema.mappedClass=Re).prototype instanceof f0&&(function(Rt,Tt){if(typeof Tt!="function"&&Tt!==null)throw new TypeError("Class extends value "+String(Tt)+" is not a constructor or null");function Lt(){this.constructor=Rt}e(Rt,Tt),Rt.prototype=Tt===null?Object.create(Tt):(Lt.prototype=Tt.prototype,new Lt)}($e,Le=Re),Object.defineProperty($e.prototype,"db",{get:function(){return ze},enumerable:!1,configurable:!0}),$e.prototype.table=function(){return Qe},Re=$e);for(var ot=new Set,_t=Re.prototype;_t;_t=Oe(_t))Object.getOwnPropertyNames(_t).forEach(function(Rt){return ot.add(Rt)});function wt(Rt){if(!Rt)return Rt;var Tt,Lt=Object.create(Re.prototype);for(Tt in Rt)if(!ot.has(Tt))try{Lt[Tt]=Rt[Tt]}catch{}return Lt}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=wt,this.hook("reading",wt),Re},pn.prototype.defineClass=function(){return this.mapToClass(function(Re){Te(this,Re)})},pn.prototype.add=function(Re,Le){var ze=this,Qe=this.schema.primKey,$e=Qe.auto,ot=Qe.keyPath,_t=Re;return ot&&$e&&(_t=Xa(ot)(Re)),this._trans("readwrite",function(wt){return ze.core.mutate({trans:wt,type:"add",keys:Le!=null?[Le]:null,values:[_t]})}).then(function(wt){return wt.numFailures?wr.reject(wt.failures[0]):wt.lastResult}).then(function(wt){if(ot)try{it(Re,ot,wt)}catch{}return wt})},pn.prototype.update=function(Re,Le){return typeof Re!="object"||g(Re)?this.where(":id").equals(Re).modify(Le):(Re=st(Re,this.schema.primKey.keyPath),Re===void 0?vn(new lt.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(Re).modify(Le))},pn.prototype.put=function(Re,Le){var ze=this,Qe=this.schema.primKey,$e=Qe.auto,ot=Qe.keyPath,_t=Re;return ot&&$e&&(_t=Xa(ot)(Re)),this._trans("readwrite",function(wt){return ze.core.mutate({trans:wt,type:"put",values:[_t],keys:Le!=null?[Le]:null})}).then(function(wt){return wt.numFailures?wr.reject(wt.failures[0]):wt.lastResult}).then(function(wt){if(ot)try{it(Re,ot,wt)}catch{}return wt})},pn.prototype.delete=function(Re){var Le=this;return this._trans("readwrite",function(ze){return Le.core.mutate({trans:ze,type:"delete",keys:[Re]})}).then(function(ze){return ze.numFailures?wr.reject(ze.failures[0]):void 0})},pn.prototype.clear=function(){var Re=this;return this._trans("readwrite",function(Le){return Re.core.mutate({trans:Le,type:"deleteRange",range:l0})}).then(function(Le){return Le.numFailures?wr.reject(Le.failures[0]):void 0})},pn.prototype.bulkGet=function(Re){var Le=this;return this._trans("readonly",function(ze){return Le.core.getMany({keys:Re,trans:ze}).then(function(Qe){return Qe.map(function($e){return Le.hook.reading.fire($e)})})})},pn.prototype.bulkAdd=function(Re,Le,ze){var Qe=this,$e=Array.isArray(Le)?Le:void 0,ot=(ze=ze||($e?void 0:Le))?ze.allKeys:void 0;return this._trans("readwrite",function(_t){var Tt=Qe.schema.primKey,wt=Tt.auto,Tt=Tt.keyPath;if(Tt&&$e)throw new lt.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if($e&&$e.length!==Re.length)throw new lt.InvalidArgument("Arguments objects and keys must have the same length");var Rt=Re.length,Tt=Tt&&wt?Re.map(Xa(Tt)):Re;return Qe.core.mutate({trans:_t,type:"add",keys:$e,values:Tt,wantResults:ot}).then(function(Nt){var Ot=Nt.numFailures,Vt=Nt.results,Bt=Nt.lastResult,Nt=Nt.failures;if(Ot===0)return ot?Vt:Bt;throw new fr("".concat(Qe.name,".bulkAdd(): ").concat(Ot," of ").concat(Rt," operations failed"),Nt)})})},pn.prototype.bulkPut=function(Re,Le,ze){var Qe=this,$e=Array.isArray(Le)?Le:void 0,ot=(ze=ze||($e?void 0:Le))?ze.allKeys:void 0;return this._trans("readwrite",function(_t){var Tt=Qe.schema.primKey,wt=Tt.auto,Tt=Tt.keyPath;if(Tt&&$e)throw new lt.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if($e&&$e.length!==Re.length)throw new lt.InvalidArgument("Arguments objects and keys must have the same length");var Rt=Re.length,Tt=Tt&&wt?Re.map(Xa(Tt)):Re;return Qe.core.mutate({trans:_t,type:"put",keys:$e,values:Tt,wantResults:ot}).then(function(Nt){var Ot=Nt.numFailures,Vt=Nt.results,Bt=Nt.lastResult,Nt=Nt.failures;if(Ot===0)return ot?Vt:Bt;throw new fr("".concat(Qe.name,".bulkPut(): ").concat(Ot," of ").concat(Rt," operations failed"),Nt)})})},pn.prototype.bulkUpdate=function(Re){var Le=this,ze=this.core,Qe=Re.map(function(_t){return _t.key}),$e=Re.map(function(_t){return _t.changes}),ot=[];return this._trans("readwrite",function(_t){return ze.getMany({trans:_t,keys:Qe,cache:"clone"}).then(function(wt){var Rt=[],Tt=[];Re.forEach(function(Ot,Vt){var Bt=Ot.key,Nt=Ot.changes,Mt=wt[Vt];if(Mt){for(var qt=0,Gt=Object.keys(Nt);qt<Gt.length;qt++){var Qt=Gt[qt],Yt=Nt[Qt];if(Qt===Le.schema.primKey.keyPath){if(Jr(Yt,Bt)!==0)throw new lt.Constraint("Cannot update primary key in bulkUpdate()")}else it(Mt,Qt,Yt)}ot.push(Vt),Rt.push(Bt),Tt.push(Mt)}});var Lt=Rt.length;return ze.mutate({trans:_t,type:"put",keys:Rt,values:Tt,updates:{keys:Qe,changeSpecs:$e}}).then(function(Ot){var Vt=Ot.numFailures,Bt=Ot.failures;if(Vt===0)return Lt;for(var Nt=0,Mt=Object.keys(Bt);Nt<Mt.length;Nt++){var qt,Gt=Mt[Nt],Qt=ot[Number(Gt)];Qt!=null&&(qt=Bt[Gt],delete Bt[Gt],Bt[Qt]=qt)}throw new fr("".concat(Le.name,".bulkUpdate(): ").concat(Vt," of ").concat(Lt," operations failed"),Bt)})})})},pn.prototype.bulkDelete=function(Re){var Le=this,ze=Re.length;return this._trans("readwrite",function(Qe){return Le.core.mutate({trans:Qe,type:"delete",keys:Re})}).then(function(_t){var $e=_t.numFailures,ot=_t.lastResult,_t=_t.failures;if($e===0)return ot;throw new fr("".concat(Le.name,".bulkDelete(): ").concat($e," of ").concat(ze," operations failed"),_t)})},pn);function pn(){}function _a(Re){function Le(_t,wt){if(wt){for(var Rt=arguments.length,Tt=new Array(Rt-1);--Rt;)Tt[Rt-1]=arguments[Rt];return ze[_t].subscribe.apply(null,Tt),Re}if(typeof _t=="string")return ze[_t]}var ze={};Le.addEventType=ot;for(var Qe=1,$e=arguments.length;Qe<$e;++Qe)ot(arguments[Qe]);return Le;function ot(_t,wt,Rt){if(typeof _t!="object"){var Tt;wt=wt||Dt;var Lt={subscribers:[],fire:Rt=Rt||$t,subscribe:function(Ot){Lt.subscribers.indexOf(Ot)===-1&&(Lt.subscribers.push(Ot),Lt.fire=wt(Lt.fire,Ot))},unsubscribe:function(Ot){Lt.subscribers=Lt.subscribers.filter(function(Vt){return Vt!==Ot}),Lt.fire=Lt.subscribers.reduce(wt,Rt)}};return ze[_t]=Le[_t]=Lt}m(Tt=_t).forEach(function(Ot){var Vt=Tt[Ot];if(g(Vt))ot(Ot,Tt[Ot][0],Tt[Ot][1]);else{if(Vt!=="asap")throw new lt.InvalidArgument("Invalid event config");var Bt=ot(Ot,dr,function(){for(var Nt=arguments.length,Mt=new Array(Nt);Nt--;)Mt[Nt]=arguments[Nt];Bt.subscribers.forEach(function(qt){Ze(function(){qt.apply(null,Mt)})})})}})}}function va(Re,Le){return Be(Le).from({prototype:Re}),Le}function Ji(Re,Le){return!(Re.filter||Re.algorithm||Re.or)&&(Le?Re.justLimit:!Re.replayFilter)}function as(Re,Le){Re.filter=Vi(Re.filter,Le)}function ss(Re,Le,ze){var Qe=Re.replayFilter;Re.replayFilter=Qe?function(){return Vi(Qe(),Le())}:Le,Re.justLimit=ze&&!Qe}function Ja(Re,Le){if(Re.isPrimKey)return Le.primaryKey;var ze=Le.getIndexByKeyPath(Re.index);if(!ze)throw new lt.Schema("KeyPath "+Re.index+" on object store "+Le.name+" is not indexed");return ze}function p0(Re,Le,ze){var Qe=Ja(Re,Le.schema);return Le.openCursor({trans:ze,values:!Re.keysOnly,reverse:Re.dir==="prev",unique:!!Re.unique,query:{index:Qe,range:Re.range}})}function Za(Re,Le,ze,Qe){var $e=Re.replayFilter?Vi(Re.filter,Re.replayFilter()):Re.filter;if(Re.or){var ot={},_t=function(wt,Rt,Tt){var Lt,Ot;$e&&!$e(Rt,Tt,function(Vt){return Rt.stop(Vt)},function(Vt){return Rt.fail(Vt)})||((Ot=""+(Lt=Rt.primaryKey))=="[object ArrayBuffer]"&&(Ot=""+new Uint8Array(Lt)),_e(ot,Ot)||(ot[Ot]=!0,Le(wt,Rt,Tt)))};return Promise.all([Re.or._iterate(_t,ze),_0(p0(Re,Qe,ze),Re.algorithm,_t,!Re.keysOnly&&Re.valueMapper)])}return _0(p0(Re,Qe,ze),Vi(Re.algorithm,$e),Le,!Re.keysOnly&&Re.valueMapper)}function _0(Re,Le,ze,Qe){var $e=Zr(Qe?function(ot,_t,wt){return ze(Qe(ot),_t,wt)}:ze);return Re.then(function(ot){if(ot)return ot.start(function(){var _t=function(){return ot.continue()};Le&&!Le(ot,function(wt){return _t=wt},function(wt){ot.stop(wt),_t=$t},function(wt){ot.fail(wt),_t=$t})||$e(ot.value,ot,function(wt){return _t=wt}),_t()})})}var mi=Symbol(),ma=(v0.prototype.execute=function(Re){if(this.add!==void 0){var Le=this.add;if(g(Le))return c(c([],g(Re)?Re:[],!0),Le,!0).sort();if(typeof Le=="number")return(Number(Re)||0)+Le;if(typeof Le=="bigint")try{return BigInt(Re)+Le}catch{return BigInt(0)+Le}throw new TypeError("Invalid term ".concat(Le))}if(this.remove!==void 0){var ze=this.remove;if(g(ze))return g(Re)?Re.filter(function(Qe){return!ze.includes(Qe)}).sort():[];if(typeof ze=="number")return Number(Re)-ze;if(typeof ze=="bigint")try{return BigInt(Re)-ze}catch{return BigInt(0)-ze}throw new TypeError("Invalid subtrahend ".concat(ze))}return Le=(Le=this.replacePrefix)===null||Le===void 0?void 0:Le[0],Le&&typeof Re=="string"&&Re.startsWith(Le)?this.replacePrefix[1]+Re.substring(Le.length):Re},v0);function v0(Re){Object.assign(this,Re)}var jc=($r.prototype._read=function(Re,Le){var ze=this._ctx;return ze.error?ze.table._trans(null,vn.bind(null,ze.error)):ze.table._trans("readonly",Re).then(Le)},$r.prototype._write=function(Re){var Le=this._ctx;return Le.error?Le.table._trans(null,vn.bind(null,Le.error)):Le.table._trans("readwrite",Re,"locked")},$r.prototype._addAlgorithm=function(Re){var Le=this._ctx;Le.algorithm=Vi(Le.algorithm,Re)},$r.prototype._iterate=function(Re,Le){return Za(this._ctx,Re,Le,this._ctx.table.core)},$r.prototype.clone=function(Re){var Le=Object.create(this.constructor.prototype),ze=Object.create(this._ctx);return Re&&Te(ze,Re),Le._ctx=ze,Le},$r.prototype.raw=function(){return this._ctx.valueMapper=null,this},$r.prototype.each=function(Re){var Le=this._ctx;return this._read(function(ze){return Za(Le,Re,ze,Le.table.core)})},$r.prototype.count=function(Re){var Le=this;return this._read(function(ze){var Qe=Le._ctx,$e=Qe.table.core;if(Ji(Qe,!0))return $e.count({trans:ze,query:{index:Ja(Qe,$e.schema),range:Qe.range}}).then(function(_t){return Math.min(_t,Qe.limit)});var ot=0;return Za(Qe,function(){return++ot,!1},ze,$e).then(function(){return ot})}).then(Re)},$r.prototype.sortBy=function(Re,Le){var ze=Re.split(".").reverse(),Qe=ze[0],$e=ze.length-1;function ot(Rt,Tt){return Tt?ot(Rt[ze[Tt]],Tt-1):Rt[Qe]}var _t=this._ctx.dir==="next"?1:-1;function wt(Rt,Tt){return Rt=ot(Rt,$e),Tt=ot(Tt,$e),Rt<Tt?-_t:Tt<Rt?_t:0}return this.toArray(function(Rt){return Rt.sort(wt)}).then(Le)},$r.prototype.toArray=function(Re){var Le=this;return this._read(function(ze){var Qe=Le._ctx;if(Qe.dir==="next"&&Ji(Qe,!0)&&0<Qe.limit){var $e=Qe.valueMapper,ot=Ja(Qe,Qe.table.core.schema);return Qe.table.core.query({trans:ze,limit:Qe.limit,values:!0,query:{index:ot,range:Qe.range}}).then(function(wt){return wt=wt.result,$e?wt.map($e):wt})}var _t=[];return Za(Qe,function(wt){return _t.push(wt)},ze,Qe.table.core).then(function(){return _t})},Re)},$r.prototype.offset=function(Re){var Le=this._ctx;return Re<=0||(Le.offset+=Re,Ji(Le)?ss(Le,function(){var ze=Re;return function(Qe,$e){return ze===0||(ze===1?--ze:$e(function(){Qe.advance(ze),ze=0}),!1)}}):ss(Le,function(){var ze=Re;return function(){return--ze<0}})),this},$r.prototype.limit=function(Re){return this._ctx.limit=Math.min(this._ctx.limit,Re),ss(this._ctx,function(){var Le=Re;return function(ze,Qe,$e){return--Le<=0&&Qe($e),0<=Le}},!0),this},$r.prototype.until=function(Re,Le){return as(this._ctx,function(ze,Qe,$e){return!Re(ze.value)||(Qe($e),Le)}),this},$r.prototype.first=function(Re){return this.limit(1).toArray(function(Le){return Le[0]}).then(Re)},$r.prototype.last=function(Re){return this.reverse().first(Re)},$r.prototype.filter=function(Re){var Le;return as(this._ctx,function(ze){return Re(ze.value)}),(Le=this._ctx).isMatch=Vi(Le.isMatch,Re),this},$r.prototype.and=function(Re){return this.filter(Re)},$r.prototype.or=function(Re){return new this.db.WhereClause(this._ctx.table,Re,this)},$r.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},$r.prototype.desc=function(){return this.reverse()},$r.prototype.eachKey=function(Re){var Le=this._ctx;return Le.keysOnly=!Le.isMatch,this.each(function(ze,Qe){Re(Qe.key,Qe)})},$r.prototype.eachUniqueKey=function(Re){return this._ctx.unique="unique",this.eachKey(Re)},$r.prototype.eachPrimaryKey=function(Re){var Le=this._ctx;return Le.keysOnly=!Le.isMatch,this.each(function(ze,Qe){Re(Qe.primaryKey,Qe)})},$r.prototype.keys=function(Re){var Le=this._ctx;Le.keysOnly=!Le.isMatch;var ze=[];return this.each(function(Qe,$e){ze.push($e.key)}).then(function(){return ze}).then(Re)},$r.prototype.primaryKeys=function(Re){var Le=this._ctx;if(Le.dir==="next"&&Ji(Le,!0)&&0<Le.limit)return this._read(function(Qe){var $e=Ja(Le,Le.table.core.schema);return Le.table.core.query({trans:Qe,values:!1,limit:Le.limit,query:{index:$e,range:Le.range}})}).then(function(Qe){return Qe.result}).then(Re);Le.keysOnly=!Le.isMatch;var ze=[];return this.each(function(Qe,$e){ze.push($e.primaryKey)}).then(function(){return ze}).then(Re)},$r.prototype.uniqueKeys=function(Re){return this._ctx.unique="unique",this.keys(Re)},$r.prototype.firstKey=function(Re){return this.limit(1).keys(function(Le){return Le[0]}).then(Re)},$r.prototype.lastKey=function(Re){return this.reverse().firstKey(Re)},$r.prototype.distinct=function(){var Re=this._ctx,Re=Re.index&&Re.table.schema.idxByName[Re.index];if(!Re||!Re.multi)return this;var Le={};return as(this._ctx,function($e){var Qe=$e.primaryKey.toString(),$e=_e(Le,Qe);return Le[Qe]=!0,!$e}),this},$r.prototype.modify=function(Re){var Le=this,ze=this._ctx;return this._write(function(Qe){var $e,ot,_t;_t=typeof Re=="function"?Re:($e=m(Re),ot=$e.length,function(qt){for(var Gt=!1,Qt=0;Qt<ot;++Qt){var Yt=$e[Qt],rr=Re[Yt],hr=st(qt,Yt);rr instanceof ma?(it(qt,Yt,rr.execute(hr)),Gt=!0):hr!==rr&&(it(qt,Yt,rr),Gt=!0)}return Gt});function wt(qt,Yt){var Qt=Yt.failures,Yt=Yt.numFailures;Nt+=qt-Yt;for(var rr=0,hr=m(Qt);rr<hr.length;rr++){var Ir=hr[rr];Bt.push(Qt[Ir])}}var Rt=ze.table.core,Tt=Rt.schema.primaryKey,Lt=Tt.outbound,Ot=Tt.extractKey,Vt=Le.db._options.modifyChunkSize||200,Bt=[],Nt=0,Mt=[];return Le.clone().primaryKeys().then(function(qt){function Gt(Yt){var rr=Math.min(Vt,qt.length-Yt);return Rt.getMany({trans:Qe,keys:qt.slice(Yt,Yt+rr),cache:"immutable"}).then(function(hr){for(var Ir=[],xr=[],br=Lt?[]:null,Ar=[],lr=0;lr<rr;++lr){var pr=hr[lr],Ur={value:mt(pr),primKey:qt[Yt+lr]};_t.call(Ur,Ur.value,Ur)!==!1&&(Ur.value==null?Ar.push(qt[Yt+lr]):Lt||Jr(Ot(pr),Ot(Ur.value))===0?(xr.push(Ur.value),Lt&&br.push(qt[Yt+lr])):(Ar.push(qt[Yt+lr]),Ir.push(Ur.value)))}return Promise.resolve(0<Ir.length&&Rt.mutate({trans:Qe,type:"add",values:Ir}).then(function(Wr){for(var Vr in Wr.failures)Ar.splice(parseInt(Vr),1);wt(Ir.length,Wr)})).then(function(){return(0<xr.length||Qt&&typeof Re=="object")&&Rt.mutate({trans:Qe,type:"put",keys:br,values:xr,criteria:Qt,changeSpec:typeof Re!="function"&&Re,isAdditionalChunk:0<Yt}).then(function(Wr){return wt(xr.length,Wr)})}).then(function(){return(0<Ar.length||Qt&&Re===cs)&&Rt.mutate({trans:Qe,type:"delete",keys:Ar,criteria:Qt,isAdditionalChunk:0<Yt}).then(function(Wr){return wt(Ar.length,Wr)})}).then(function(){return qt.length>Yt+rr&&Gt(Yt+Vt)})})}var Qt=Ji(ze)&&ze.limit===1/0&&(typeof Re!="function"||Re===cs)&&{index:ze.index,range:ze.range};return Gt(0).then(function(){if(0<Bt.length)throw new Kt("Error modifying one or more objects",Bt,Nt,Mt);return qt.length})})})},$r.prototype.delete=function(){var Re=this._ctx,Le=Re.range;return Ji(Re)&&(Re.isPrimKey||Le.type===3)?this._write(function(ze){var Qe=Re.table.core.schema.primaryKey,$e=Le;return Re.table.core.count({trans:ze,query:{index:Qe,range:$e}}).then(function(ot){return Re.table.core.mutate({trans:ze,type:"deleteRange",range:$e}).then(function(_t){var wt=_t.failures;if(_t.lastResult,_t.results,_t=_t.numFailures,_t)throw new Kt("Could not delete some values",Object.keys(wt).map(function(Rt){return wt[Rt]}),ot-_t);return ot-_t})})}):this.modify(cs)},$r);function $r(){}var cs=function(Re,Le){return Le.value=null};function zc(Re,Le){return Re<Le?-1:Re===Le?0:1}function Hc(Re,Le){return Le<Re?-1:Re===Le?0:1}function Yr(Re,Le,ze){return Re=Re instanceof m0?new Re.Collection(Re):Re,Re._ctx.error=new(ze||TypeError)(Le),Re}function Zi(Re){return new Re.Collection(Re,function(){return us("")}).limit(0)}function $a(Re,Le,ze,Qe){var $e,ot,_t,wt,Rt,Tt,Lt,Ot=ze.length;if(!ze.every(function(Nt){return typeof Nt=="string"}))return Yr(Re,u0);function Vt(Nt){$e=Nt==="next"?function(qt){return qt.toUpperCase()}:function(qt){return qt.toLowerCase()},ot=Nt==="next"?function(qt){return qt.toLowerCase()}:function(qt){return qt.toUpperCase()},_t=Nt==="next"?zc:Hc;var Mt=ze.map(function(qt){return{lower:ot(qt),upper:$e(qt)}}).sort(function(qt,Gt){return _t(qt.lower,Gt.lower)});wt=Mt.map(function(qt){return qt.upper}),Rt=Mt.map(function(qt){return qt.lower}),Lt=(Tt=Nt)==="next"?"":Qe}Vt("next"),Re=new Re.Collection(Re,function(){return gi(wt[0],Rt[Ot-1]+Qe)}),Re._ondirectionchange=function(Nt){Vt(Nt)};var Bt=0;return Re._addAlgorithm(function(Nt,Mt,qt){var Gt=Nt.key;if(typeof Gt!="string")return!1;var Qt=ot(Gt);if(Le(Qt,Rt,Bt))return!0;for(var Yt=null,rr=Bt;rr<Ot;++rr){var hr=function(Ir,xr,br,Ar,lr,pr){for(var Ur=Math.min(Ir.length,Ar.length),Wr=-1,Vr=0;Vr<Ur;++Vr){var Jn=xr[Vr];if(Jn!==Ar[Vr])return lr(Ir[Vr],br[Vr])<0?Ir.substr(0,Vr)+br[Vr]+br.substr(Vr+1):lr(Ir[Vr],Ar[Vr])<0?Ir.substr(0,Vr)+Ar[Vr]+br.substr(Vr+1):0<=Wr?Ir.substr(0,Wr)+xr[Wr]+br.substr(Wr+1):null;lr(Ir[Vr],Jn)<0&&(Wr=Vr)}return Ur<Ar.length&&pr==="next"?Ir+br.substr(Ir.length):Ur<Ir.length&&pr==="prev"?Ir.substr(0,br.length):Wr<0?null:Ir.substr(0,Wr)+Ar[Wr]+br.substr(Wr+1)}(Gt,Qt,wt[rr],Rt[rr],_t,Tt);hr===null&&Yt===null?Bt=rr+1:(Yt===null||0<_t(Yt,hr))&&(Yt=hr)}return Mt(Yt!==null?function(){Nt.continue(Yt+Lt)}:qt),!1}),Re}function gi(Re,Le,ze,Qe){return{type:2,lower:Re,upper:Le,lowerOpen:ze,upperOpen:Qe}}function us(Re){return{type:1,lower:Re,upper:Re}}var m0=(Object.defineProperty(Sn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Sn.prototype.between=function(Re,Le,ze,Qe){ze=ze!==!1,Qe=Qe===!0;try{return 0<this._cmp(Re,Le)||this._cmp(Re,Le)===0&&(ze||Qe)&&(!ze||!Qe)?Zi(this):new this.Collection(this,function(){return gi(Re,Le,!ze,!Qe)})}catch{return Yr(this,li)}},Sn.prototype.equals=function(Re){return Re==null?Yr(this,li):new this.Collection(this,function(){return us(Re)})},Sn.prototype.above=function(Re){return Re==null?Yr(this,li):new this.Collection(this,function(){return gi(Re,void 0,!0)})},Sn.prototype.aboveOrEqual=function(Re){return Re==null?Yr(this,li):new this.Collection(this,function(){return gi(Re,void 0,!1)})},Sn.prototype.below=function(Re){return Re==null?Yr(this,li):new this.Collection(this,function(){return gi(void 0,Re,!1,!0)})},Sn.prototype.belowOrEqual=function(Re){return Re==null?Yr(this,li):new this.Collection(this,function(){return gi(void 0,Re)})},Sn.prototype.startsWith=function(Re){return typeof Re!="string"?Yr(this,u0):this.between(Re,Re+Ai,!0,!0)},Sn.prototype.startsWithIgnoreCase=function(Re){return Re===""?this.startsWith(Re):$a(this,function(Le,ze){return Le.indexOf(ze[0])===0},[Re],Ai)},Sn.prototype.equalsIgnoreCase=function(Re){return $a(this,function(Le,ze){return Le===ze[0]},[Re],"")},Sn.prototype.anyOfIgnoreCase=function(){var Re=St.apply(bt,arguments);return Re.length===0?Zi(this):$a(this,function(Le,ze){return ze.indexOf(Le)!==-1},Re,"")},Sn.prototype.startsWithAnyOfIgnoreCase=function(){var Re=St.apply(bt,arguments);return Re.length===0?Zi(this):$a(this,function(Le,ze){return ze.some(function(Qe){return Le.indexOf(Qe)===0})},Re,Ai)},Sn.prototype.anyOf=function(){var Re=this,Le=St.apply(bt,arguments),ze=this._cmp;try{Le.sort(ze)}catch{return Yr(this,li)}if(Le.length===0)return Zi(this);var Qe=new this.Collection(this,function(){return gi(Le[0],Le[Le.length-1])});Qe._ondirectionchange=function(ot){ze=ot==="next"?Re._ascending:Re._descending,Le.sort(ze)};var $e=0;return Qe._addAlgorithm(function(ot,_t,wt){for(var Rt=ot.key;0<ze(Rt,Le[$e]);)if(++$e===Le.length)return _t(wt),!1;return ze(Rt,Le[$e])===0||(_t(function(){ot.continue(Le[$e])}),!1)}),Qe},Sn.prototype.notEqual=function(Re){return this.inAnyRange([[-1/0,Re],[Re,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Sn.prototype.noneOf=function(){var Re=St.apply(bt,arguments);if(Re.length===0)return new this.Collection(this);try{Re.sort(this._ascending)}catch{return Yr(this,li)}var Le=Re.reduce(function(ze,Qe){return ze?ze.concat([[ze[ze.length-1][1],Qe]]):[[-1/0,Qe]]},null);return Le.push([Re[Re.length-1],this.db._maxKey]),this.inAnyRange(Le,{includeLowers:!1,includeUppers:!1})},Sn.prototype.inAnyRange=function(Gt,Le){var ze=this,Qe=this._cmp,$e=this._ascending,ot=this._descending,_t=this._min,wt=this._max;if(Gt.length===0)return Zi(this);if(!Gt.every(function(Qt){return Qt[0]!==void 0&&Qt[1]!==void 0&&$e(Qt[0],Qt[1])<=0}))return Yr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",lt.InvalidArgument);var Rt=!Le||Le.includeLowers!==!1,Tt=Le&&Le.includeUppers===!0,Lt,Ot=$e;function Vt(Qt,Yt){return Ot(Qt[0],Yt[0])}try{(Lt=Gt.reduce(function(Qt,Yt){for(var rr=0,hr=Qt.length;rr<hr;++rr){var Ir=Qt[rr];if(Qe(Yt[0],Ir[1])<0&&0<Qe(Yt[1],Ir[0])){Ir[0]=_t(Ir[0],Yt[0]),Ir[1]=wt(Ir[1],Yt[1]);break}}return rr===hr&&Qt.push(Yt),Qt},[])).sort(Vt)}catch{return Yr(this,li)}var Bt=0,Nt=Tt?function(Qt){return 0<$e(Qt,Lt[Bt][1])}:function(Qt){return 0<=$e(Qt,Lt[Bt][1])},Mt=Rt?function(Qt){return 0<ot(Qt,Lt[Bt][0])}:function(Qt){return 0<=ot(Qt,Lt[Bt][0])},qt=Nt,Gt=new this.Collection(this,function(){return gi(Lt[0][0],Lt[Lt.length-1][1],!Rt,!Tt)});return Gt._ondirectionchange=function(Qt){Ot=Qt==="next"?(qt=Nt,$e):(qt=Mt,ot),Lt.sort(Vt)},Gt._addAlgorithm(function(Qt,Yt,rr){for(var hr,Ir=Qt.key;qt(Ir);)if(++Bt===Lt.length)return Yt(rr),!1;return!Nt(hr=Ir)&&!Mt(hr)||(ze._cmp(Ir,Lt[Bt][1])===0||ze._cmp(Ir,Lt[Bt][0])===0||Yt(function(){Ot===$e?Qt.continue(Lt[Bt][0]):Qt.continue(Lt[Bt][1])}),!1)}),Gt},Sn.prototype.startsWithAnyOf=function(){var Re=St.apply(bt,arguments);return Re.every(function(Le){return typeof Le=="string"})?Re.length===0?Zi(this):this.inAnyRange(Re.map(function(Le){return[Le,Le+Ai]})):Yr(this,"startsWithAnyOf() only works with strings")},Sn);function Sn(){}function ri(Re){return Zr(function(Le){return $i(Le),Re(Le.target.error),!1})}function $i(Re){Re.stopPropagation&&Re.stopPropagation(),Re.preventDefault&&Re.preventDefault()}var ga="storagemutated",ls="x-storagemutated-1",Ii=_a(null,ga),Wc=(fi.prototype._lock=function(){return He(!Cr.global),++this._reculock,this._reculock!==1||Cr.global||(Cr.lockOwnerFor=this),this},fi.prototype._unlock=function(){if(He(!Cr.global),--this._reculock==0)for(Cr.global||(Cr.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var Re=this._blockedFuncs.shift();try{xn(Re[1],Re[0])}catch{}}return this},fi.prototype._locked=function(){return this._reculock&&Cr.lockOwnerFor!==this},fi.prototype.create=function(Re){var Le=this;if(!this.mode)return this;var ze=this.db.idbdb,Qe=this.db._state.dbOpenError;if(He(!this.idbtrans),!Re&&!ze)switch(Qe&&Qe.name){case"DatabaseClosedError":throw new lt.DatabaseClosed(Qe);case"MissingAPIError":throw new lt.MissingAPI(Qe.message,Qe);default:throw new lt.OpenFailed(Qe)}if(!this.active)throw new lt.TransactionInactive;return He(this._completion._state===null),(Re=this.idbtrans=Re||(this.db.core||ze).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Zr(function($e){$i($e),Le._reject(Re.error)}),Re.onabort=Zr(function($e){$i($e),Le.active&&Le._reject(new lt.Abort(Re.error)),Le.active=!1,Le.on("abort").fire($e)}),Re.oncomplete=Zr(function(){Le.active=!1,Le._resolve(),"mutatedParts"in Re&&Ii.storagemutated.fire(Re.mutatedParts)}),this},fi.prototype._promise=function(Re,Le,ze){var Qe=this;if(Re==="readwrite"&&this.mode!=="readwrite")return vn(new lt.ReadOnly("Transaction is readonly"));if(!this.active)return vn(new lt.TransactionInactive);if(this._locked())return new wr(function(ot,_t){Qe._blockedFuncs.push([function(){Qe._promise(Re,Le,ze).then(ot,_t)},Cr])});if(ze)return dn(function(){var ot=new wr(function(_t,wt){Qe._lock();var Rt=Le(_t,wt,Qe);Rt&&Rt.then&&Rt.then(_t,wt)});return ot.finally(function(){return Qe._unlock()}),ot._lib=!0,ot});var $e=new wr(function(ot,_t){var wt=Le(ot,_t,Qe);wt&&wt.then&&wt.then(ot,_t)});return $e._lib=!0,$e},fi.prototype._root=function(){return this.parent?this.parent._root():this},fi.prototype.waitFor=function(Re){var Le,ze=this._root(),Qe=wr.resolve(Re);ze._waitingFor?ze._waitingFor=ze._waitingFor.then(function(){return Qe}):(ze._waitingFor=Qe,ze._waitingQueue=[],Le=ze.idbtrans.objectStore(ze.storeNames[0]),function ot(){for(++ze._spinCount;ze._waitingQueue.length;)ze._waitingQueue.shift()();ze._waitingFor&&(Le.get(-1/0).onsuccess=ot)}());var $e=ze._waitingFor;return new wr(function(ot,_t){Qe.then(function(wt){return ze._waitingQueue.push(Zr(ot.bind(null,wt)))},function(wt){return ze._waitingQueue.push(Zr(_t.bind(null,wt)))}).finally(function(){ze._waitingFor===$e&&(ze._waitingFor=null)})})},fi.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new lt.Abort))},fi.prototype.table=function(Re){var Le=this._memoizedTables||(this._memoizedTables={});if(_e(Le,Re))return Le[Re];var ze=this.schema[Re];if(!ze)throw new lt.NotFound("Table "+Re+" not part of transaction");return ze=new this.db.Table(Re,ze,this),ze.core=this.db.core.table(Re),Le[Re]=ze},fi);function fi(){}function fs(Re,Le,ze,Qe,$e,ot,_t){return{name:Re,keyPath:Le,unique:ze,multi:Qe,auto:$e,compound:ot,src:(ze&&!_t?"&":"")+(Qe?"*":"")+($e?"++":"")+g0(Le)}}function g0(Re){return typeof Re=="string"?Re:Re?"["+[].join.call(Re,"+")+"]":""}function ds(Re,Le,ze){return{name:Re,primKey:Le,indexes:ze,mappedClass:null,idxByName:(Qe=function($e){return[$e.name,$e]},ze.reduce(function($e,ot,_t){return _t=Qe(ot,_t),_t&&($e[_t[0]]=_t[1]),$e},{}))};var Qe}var ya=function(Re){try{return Re.only([[]]),ya=function(){return[[]]},[[]]}catch{return ya=function(){return Ai},Ai}};function hs(Re){return Re==null?function(){}:typeof Re=="string"?(Le=Re).split(".").length===1?function(ze){return ze[Le]}:function(ze){return st(ze,Le)}:function(ze){return st(ze,Re)};var Le}function y0(Re){return[].slice.call(Re)}var Kc=0;function ba(Re){return Re==null?":id":typeof Re=="string"?Re:"[".concat(Re.join("+"),"]")}function Gc(Re,Le,Rt){function Qe(qt){if(qt.type===3)return null;if(qt.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var Bt=qt.lower,Nt=qt.upper,Mt=qt.lowerOpen,qt=qt.upperOpen;return Bt===void 0?Nt===void 0?null:Le.upperBound(Nt,!!qt):Nt===void 0?Le.lowerBound(Bt,!!Mt):Le.bound(Bt,Nt,!!Mt,!!qt)}function $e(Vt){var Bt,Nt=Vt.name;return{name:Nt,schema:Vt,mutate:function(Mt){var qt=Mt.trans,Gt=Mt.type,Qt=Mt.keys,Yt=Mt.values,rr=Mt.range;return new Promise(function(hr,Ir){hr=Zr(hr);var xr=qt.objectStore(Nt),br=xr.keyPath==null,Ar=Gt==="put"||Gt==="add";if(!Ar&&Gt!=="delete"&&Gt!=="deleteRange")throw new Error("Invalid operation type: "+Gt);var lr,pr=(Qt||Yt||{length:1}).length;if(Qt&&Yt&&Qt.length!==Yt.length)throw new Error("Given keys array must have same length as given values array.");if(pr===0)return hr({numFailures:0,failures:{},results:[],lastResult:void 0});function Ur(Rn){++Jn,$i(Rn)}var Wr=[],Vr=[],Jn=0;if(Gt==="deleteRange"){if(rr.type===4)return hr({numFailures:Jn,failures:Vr,results:[],lastResult:void 0});rr.type===3?Wr.push(lr=xr.clear()):Wr.push(lr=xr.delete(Qe(rr)))}else{var br=Ar?br?[Yt,Qt]:[Yt,null]:[Qt,null],zr=br[0],An=br[1];if(Ar)for(var Kr=0;Kr<pr;++Kr)Wr.push(lr=An&&An[Kr]!==void 0?xr[Gt](zr[Kr],An[Kr]):xr[Gt](zr[Kr])),lr.onerror=Ur;else for(Kr=0;Kr<pr;++Kr)Wr.push(lr=xr[Gt](zr[Kr])),lr.onerror=Ur}function ta(Rn){Rn=Rn.target.result,Wr.forEach(function(hi,yo){return hi.error!=null&&(Vr[yo]=hi.error)}),hr({numFailures:Jn,failures:Vr,results:Gt==="delete"?Qt:Wr.map(function(hi){return hi.result}),lastResult:Rn})}lr.onerror=function(Rn){Ur(Rn),ta(Rn)},lr.onsuccess=ta})},getMany:function(Mt){var qt=Mt.trans,Gt=Mt.keys;return new Promise(function(Qt,Yt){Qt=Zr(Qt);for(var rr,hr=qt.objectStore(Nt),Ir=Gt.length,xr=new Array(Ir),br=0,Ar=0,lr=function(Wr){Wr=Wr.target,xr[Wr._pos]=Wr.result,++Ar===br&&Qt(xr)},pr=ri(Yt),Ur=0;Ur<Ir;++Ur)Gt[Ur]!=null&&((rr=hr.get(Gt[Ur]))._pos=Ur,rr.onsuccess=lr,rr.onerror=pr,++br);br===0&&Qt(xr)})},get:function(Mt){var qt=Mt.trans,Gt=Mt.key;return new Promise(function(Qt,Yt){Qt=Zr(Qt);var rr=qt.objectStore(Nt).get(Gt);rr.onsuccess=function(hr){return Qt(hr.target.result)},rr.onerror=ri(Yt)})},query:(Bt=Tt,function(Mt){return new Promise(function(qt,Gt){qt=Zr(qt);var Qt,Yt,rr,br=Mt.trans,hr=Mt.values,Ir=Mt.limit,lr=Mt.query,xr=Ir===1/0?void 0:Ir,Ar=lr.index,lr=lr.range,br=br.objectStore(Nt),Ar=Ar.isPrimaryKey?br:br.index(Ar.name),lr=Qe(lr);if(Ir===0)return qt({result:[]});Bt?((xr=hr?Ar.getAll(lr,xr):Ar.getAllKeys(lr,xr)).onsuccess=function(pr){return qt({result:pr.target.result})},xr.onerror=ri(Gt)):(Qt=0,Yt=!hr&&"openKeyCursor"in Ar?Ar.openKeyCursor(lr):Ar.openCursor(lr),rr=[],Yt.onsuccess=function(pr){var Ur=Yt.result;return Ur?(rr.push(hr?Ur.value:Ur.primaryKey),++Qt===Ir?qt({result:rr}):void Ur.continue()):qt({result:rr})},Yt.onerror=ri(Gt))})}),openCursor:function(Mt){var qt=Mt.trans,Gt=Mt.values,Qt=Mt.query,Yt=Mt.reverse,rr=Mt.unique;return new Promise(function(hr,Ir){hr=Zr(hr);var Ar=Qt.index,xr=Qt.range,br=qt.objectStore(Nt),br=Ar.isPrimaryKey?br:br.index(Ar.name),Ar=Yt?rr?"prevunique":"prev":rr?"nextunique":"next",lr=!Gt&&"openKeyCursor"in br?br.openKeyCursor(Qe(xr),Ar):br.openCursor(Qe(xr),Ar);lr.onerror=ri(Ir),lr.onsuccess=Zr(function(pr){var Ur,Wr,Vr,Jn,zr=lr.result;zr?(zr.___id=++Kc,zr.done=!1,Ur=zr.continue.bind(zr),Wr=(Wr=zr.continuePrimaryKey)&&Wr.bind(zr),Vr=zr.advance.bind(zr),Jn=function(){throw new Error("Cursor not stopped")},zr.trans=qt,zr.stop=zr.continue=zr.continuePrimaryKey=zr.advance=function(){throw new Error("Cursor not started")},zr.fail=Zr(Ir),zr.next=function(){var An=this,Kr=1;return this.start(function(){return Kr--?An.continue():An.stop()}).then(function(){return An})},zr.start=function(An){function Kr(){if(lr.result)try{An()}catch(Rn){zr.fail(Rn)}else zr.done=!0,zr.start=function(){throw new Error("Cursor behind last entry")},zr.stop()}var ta=new Promise(function(Rn,hi){Rn=Zr(Rn),lr.onerror=ri(hi),zr.fail=hi,zr.stop=function(yo){zr.stop=zr.continue=zr.continuePrimaryKey=zr.advance=Jn,Rn(yo)}});return lr.onsuccess=Zr(function(Rn){lr.onsuccess=Kr,Kr()}),zr.continue=Ur,zr.continuePrimaryKey=Wr,zr.advance=Vr,Kr(),ta},hr(zr)):hr(null)},Ir)})},count:function(Mt){var qt=Mt.query,Gt=Mt.trans,Qt=qt.index,Yt=qt.range;return new Promise(function(rr,hr){var Ir=Gt.objectStore(Nt),xr=Qt.isPrimaryKey?Ir:Ir.index(Qt.name),Ir=Qe(Yt),xr=Ir?xr.count(Ir):xr.count();xr.onsuccess=Zr(function(br){return rr(br.target.result)}),xr.onerror=ri(hr)})}}}var ot,_t,wt,Lt=(_t=Rt,wt=y0((ot=Re).objectStoreNames),{schema:{name:ot.name,tables:wt.map(function(Vt){return _t.objectStore(Vt)}).map(function(Vt){var Bt=Vt.keyPath,qt=Vt.autoIncrement,Nt=g(Bt),Mt={},qt={name:Vt.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:Bt==null,compound:Nt,keyPath:Bt,autoIncrement:qt,unique:!0,extractKey:hs(Bt)},indexes:y0(Vt.indexNames).map(function(Gt){return Vt.index(Gt)}).map(function(rr){var Qt=rr.name,Yt=rr.unique,hr=rr.multiEntry,rr=rr.keyPath,hr={name:Qt,compound:g(rr),keyPath:rr,unique:Yt,multiEntry:hr,extractKey:hs(rr)};return Mt[ba(rr)]=hr}),getIndexByKeyPath:function(Gt){return Mt[ba(Gt)]}};return Mt[":id"]=qt.primaryKey,Bt!=null&&(Mt[ba(Bt)]=qt.primaryKey),qt})},hasGetAll:0<wt.length&&"getAll"in _t.objectStore(wt[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),Rt=Lt.schema,Tt=Lt.hasGetAll,Lt=Rt.tables.map($e),Ot={};return Lt.forEach(function(Vt){return Ot[Vt.name]=Vt}),{stack:"dbcore",transaction:Re.transaction.bind(Re),table:function(Vt){if(!Ot[Vt])throw new Error("Table '".concat(Vt,"' not found"));return Ot[Vt]},MIN_KEY:-1/0,MAX_KEY:ya(Le),schema:Rt}}function Yc(Re,Le,ze,Qe){var $e=ze.IDBKeyRange;return ze.indexedDB,{dbcore:(Qe=Gc(Le,$e,Qe),Re.dbcore.reduce(function(ot,_t){return _t=_t.create,i(i({},ot),_t(ot))},Qe))}}function eo(Re,Qe){var ze=Qe.db,Qe=Yc(Re._middlewares,ze,Re._deps,Qe);Re.core=Qe.dbcore,Re.tables.forEach(function($e){var ot=$e.name;Re.core.schema.tables.some(function(_t){return _t.name===ot})&&($e.core=Re.core.table(ot),Re[ot]instanceof Re.Table&&(Re[ot].core=$e.core))})}function Ea(Re,Le,ze,Qe){ze.forEach(function($e){var ot=Qe[$e];Le.forEach(function(_t){var wt=function Rt(Tt,Lt){return Ne(Tt,Lt)||(Tt=Oe(Tt))&&Rt(Tt,Lt)}(_t,$e);(!wt||"value"in wt&&wt.value===void 0)&&(_t===Re.Transaction.prototype||_t instanceof Re.Transaction?qe(_t,$e,{get:function(){return this.table($e)},set:function(Rt){Ee(this,$e,{value:Rt,writable:!0,configurable:!0,enumerable:!0})}}):_t[$e]=new Re.Table($e,ot))})})}function to(Re,Le){Le.forEach(function(ze){for(var Qe in ze)ze[Qe]instanceof Re.Table&&delete ze[Qe]})}function b0(Re,Le){return Re._cfg.version-Le._cfg.version}function xs(Re,Le,ze,Qe){var $e=Re._dbSchema;ze.objectStoreNames.contains("$meta")&&!$e.$meta&&($e.$meta=ds("$meta",w0("")[0],[]),Re._storeNames.push("$meta"));var ot=Re._createTransaction("readwrite",Re._storeNames,$e);ot.create(ze),ot._completion.catch(Qe);var _t=ot._reject.bind(ot),wt=Cr.transless||Cr;dn(function(){return Cr.trans=ot,Cr.transless=wt,Le!==0?(eo(Re,ze),Tt=Le,((Rt=ot).storeNames.includes("$meta")?Rt.table("$meta").get("version").then(function(Lt){return Lt??Tt}):wr.resolve(Tt)).then(function(Lt){return Vt=Lt,Bt=ot,Nt=ze,Mt=[],Lt=(Ot=Re)._versions,qt=Ot._dbSchema=no(0,Ot.idbdb,Nt),(Lt=Lt.filter(function(Gt){return Gt._cfg.version>=Vt})).length!==0?(Lt.forEach(function(Gt){Mt.push(function(){var Qt=qt,Yt=Gt._cfg.dbschema;io(Ot,Qt,Nt),io(Ot,Yt,Nt),qt=Ot._dbSchema=Yt;var rr=ps(Qt,Yt);rr.add.forEach(function(Ar){ro(Nt,Ar[0],Ar[1].primKey,Ar[1].indexes)}),rr.change.forEach(function(Ar){if(Ar.recreate)throw new lt.Upgrade("Not yet support for changing primary key");var lr=Nt.objectStore(Ar.name);Ar.add.forEach(function(pr){return wa(lr,pr)}),Ar.change.forEach(function(pr){lr.deleteIndex(pr.name),wa(lr,pr)}),Ar.del.forEach(function(pr){return lr.deleteIndex(pr)})});var hr=Gt._cfg.contentUpgrade;if(hr&&Gt._cfg.version>Vt){eo(Ot,Nt),Bt._memoizedTables={};var Ir=vt(Yt);rr.del.forEach(function(Ar){Ir[Ar]=Qt[Ar]}),to(Ot,[Ot.Transaction.prototype]),Ea(Ot,[Ot.Transaction.prototype],m(Ir),Ir),Bt.schema=Ir;var xr,br=ct(hr);return br&&wn(),rr=wr.follow(function(){var Ar;(xr=hr(Bt))&&br&&(Ar=hn.bind(null,null),xr.then(Ar,Ar))}),xr&&typeof xr.then=="function"?wr.resolve(xr):rr.then(function(){return xr})}}),Mt.push(function(Qt){var Yt,rr,hr=Gt._cfg.dbschema;Yt=hr,rr=Qt,[].slice.call(rr.db.objectStoreNames).forEach(function(Ir){return Yt[Ir]==null&&rr.db.deleteObjectStore(Ir)}),to(Ot,[Ot.Transaction.prototype]),Ea(Ot,[Ot.Transaction.prototype],Ot._storeNames,Ot._dbSchema),Bt.schema=Ot._dbSchema}),Mt.push(function(Qt){Ot.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(Ot.idbdb.version/10)===Gt._cfg.version?(Ot.idbdb.deleteObjectStore("$meta"),delete Ot._dbSchema.$meta,Ot._storeNames=Ot._storeNames.filter(function(Yt){return Yt!=="$meta"})):Qt.objectStore("$meta").put(Gt._cfg.version,"version"))})}),function Gt(){return Mt.length?wr.resolve(Mt.shift()(Bt.idbtrans)).then(Gt):wr.resolve()}().then(function(){E0(qt,Nt)})):wr.resolve();var Ot,Vt,Bt,Nt,Mt,qt}).catch(_t)):(m($e).forEach(function(Lt){ro(ze,Lt,$e[Lt].primKey,$e[Lt].indexes)}),eo(Re,ze),void wr.follow(function(){return Re.on.populate.fire(ot)}).catch(_t));var Rt,Tt})}function Qc(Re,Le){E0(Re._dbSchema,Le),Le.db.version%10!=0||Le.objectStoreNames.contains("$meta")||Le.db.createObjectStore("$meta").add(Math.ceil(Le.db.version/10-1),"version");var ze=no(0,Re.idbdb,Le);io(Re,Re._dbSchema,Le);for(var Qe=0,$e=ps(ze,Re._dbSchema).change;Qe<$e.length;Qe++){var ot=function(_t){if(_t.change.length||_t.recreate)return console.warn("Unable to patch indexes of table ".concat(_t.name," because it has changes on the type of index or primary key.")),{value:void 0};var wt=Le.objectStore(_t.name);_t.add.forEach(function(Rt){rt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(_t.name,".").concat(Rt.src)),wa(wt,Rt)})}($e[Qe]);if(typeof ot=="object")return ot.value}}function ps(Re,Le){var ze,Qe={del:[],add:[],change:[]};for(ze in Re)Le[ze]||Qe.del.push(ze);for(ze in Le){var $e=Re[ze],ot=Le[ze];if($e){var _t={name:ze,def:ot,recreate:!1,del:[],add:[],change:[]};if(""+($e.primKey.keyPath||"")!=""+(ot.primKey.keyPath||"")||$e.primKey.auto!==ot.primKey.auto)_t.recreate=!0,Qe.change.push(_t);else{var wt=$e.idxByName,Rt=ot.idxByName,Tt=void 0;for(Tt in wt)Rt[Tt]||_t.del.push(Tt);for(Tt in Rt){var Lt=wt[Tt],Ot=Rt[Tt];Lt?Lt.src!==Ot.src&&_t.change.push(Ot):_t.add.push(Ot)}(0<_t.del.length||0<_t.add.length||0<_t.change.length)&&Qe.change.push(_t)}}else Qe.add.push([ze,ot])}return Qe}function ro(Re,Le,ze,Qe){var $e=Re.db.createObjectStore(Le,ze.keyPath?{keyPath:ze.keyPath,autoIncrement:ze.auto}:{autoIncrement:ze.auto});return Qe.forEach(function(ot){return wa($e,ot)}),$e}function E0(Re,Le){m(Re).forEach(function(ze){Le.db.objectStoreNames.contains(ze)||(rt&&console.debug("Dexie: Creating missing table",ze),ro(Le,ze,Re[ze].primKey,Re[ze].indexes))})}function wa(Re,Le){Re.createIndex(Le.name,Le.keyPath,{unique:Le.unique,multiEntry:Le.multi})}function no(Re,Le,ze){var Qe={};return Ue(Le.objectStoreNames,0).forEach(function($e){for(var ot=ze.objectStore($e),_t=fs(g0(Tt=ot.keyPath),Tt||"",!0,!1,!!ot.autoIncrement,Tt&&typeof Tt!="string",!0),wt=[],Rt=0;Rt<ot.indexNames.length;++Rt){var Lt=ot.index(ot.indexNames[Rt]),Tt=Lt.keyPath,Lt=fs(Lt.name,Tt,!!Lt.unique,!!Lt.multiEntry,!1,Tt&&typeof Tt!="string",!1);wt.push(Lt)}Qe[$e]=ds($e,_t,wt)}),Qe}function io(Re,Le,ze){for(var Qe=ze.db.objectStoreNames,$e=0;$e<Qe.length;++$e){var ot=Qe[$e],_t=ze.objectStore(ot);Re._hasGetAll="getAll"in _t;for(var wt=0;wt<_t.indexNames.length;++wt){var Rt=_t.indexNames[wt],Tt=_t.index(Rt).keyPath,Lt=typeof Tt=="string"?Tt:"["+Ue(Tt).join("+")+"]";!Le[ot]||(Tt=Le[ot].idxByName[Lt])&&(Tt.name=Rt,delete Le[ot].idxByName[Lt],Le[ot].idxByName[Rt]=Tt)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&f.WorkerGlobalScope&&f instanceof f.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(Re._hasGetAll=!1)}function w0(Re){return Re.split(",").map(function(Le,ze){var Qe=(Le=Le.trim()).replace(/([&*]|\+\+)/g,""),$e=/^\[/.test(Qe)?Qe.match(/^\[(.*)\]$/)[1].split("+"):Qe;return fs(Qe,$e||null,/\&/.test(Le),/\*/.test(Le),/\+\+/.test(Le),g($e),ze===0)})}var Xc=(ao.prototype._parseStoresSpec=function(Re,Le){m(Re).forEach(function(ze){if(Re[ze]!==null){var Qe=w0(Re[ze]),$e=Qe.shift();if($e.unique=!0,$e.multi)throw new lt.Schema("Primary key cannot be multi-valued");Qe.forEach(function(ot){if(ot.auto)throw new lt.Schema("Only primary key can be marked as autoIncrement (++)");if(!ot.keyPath)throw new lt.Schema("Index must have a name and cannot be an empty string")}),Le[ze]=ds(ze,$e,Qe)}})},ao.prototype.stores=function(ze){var Le=this.db;this._cfg.storesSource=this._cfg.storesSource?Te(this._cfg.storesSource,ze):ze;var ze=Le._versions,Qe={},$e={};return ze.forEach(function(ot){Te(Qe,ot._cfg.storesSource),$e=ot._cfg.dbschema={},ot._parseStoresSpec(Qe,$e)}),Le._dbSchema=$e,to(Le,[Le._allTables,Le,Le.Transaction.prototype]),Ea(Le,[Le._allTables,Le,Le.Transaction.prototype,this._cfg.tables],m($e),$e),Le._storeNames=m($e),this},ao.prototype.upgrade=function(Re){return this._cfg.contentUpgrade=er(this._cfg.contentUpgrade||$t,Re),this},ao);function ao(){}function oo(Re,Le){var ze=Re._dbNamesDB;return ze||(ze=Re._dbNamesDB=new di(Qa,{addons:[],indexedDB:Re,IDBKeyRange:Le})).version(1).stores({dbnames:"name"}),ze.table("dbnames")}function so(Re){return Re&&typeof Re.databases=="function"}function co(Re){return dn(function(){return Cr.letThrough=!0,Re()})}function uo(Re){return!("from"in Re)}var Dn=function(Re,Le){if(!this){var ze=new Dn;return Re&&"d"in Re&&Te(ze,Re),ze}Te(this,arguments.length?{d:1,from:Re,to:1<arguments.length?Le:Re}:{d:0})};function Sa(Re,Le,ze){var Qe=Jr(Le,ze);if(!isNaN(Qe)){if(0<Qe)throw RangeError();if(uo(Re))return Te(Re,{from:Le,to:ze,d:1});var $e=Re.l,Qe=Re.r;if(Jr(ze,Re.from)<0)return $e?Sa($e,Le,ze):Re.l={from:Le,to:ze,d:1,l:null,r:null},A0(Re);if(0<Jr(Le,Re.to))return Qe?Sa(Qe,Le,ze):Re.r={from:Le,to:ze,d:1,l:null,r:null},A0(Re);Jr(Le,Re.from)<0&&(Re.from=Le,Re.l=null,Re.d=Qe?Qe.d+1:1),0<Jr(ze,Re.to)&&(Re.to=ze,Re.r=null,Re.d=Re.l?Re.l.d+1:1),ze=!Re.r,$e&&!Re.l&&Aa(Re,$e),Qe&&ze&&Aa(Re,Qe)}}function Aa(Re,Le){uo(Le)||function ze(Qe,Rt){var ot=Rt.from,_t=Rt.to,wt=Rt.l,Rt=Rt.r;Sa(Qe,ot,_t),wt&&ze(Qe,wt),Rt&&ze(Qe,Rt)}(Re,Le)}function S0(Re,Le){var ze=Ia(Le),Qe=ze.next();if(Qe.done)return!1;for(var $e=Qe.value,ot=Ia(Re),_t=ot.next($e.from),wt=_t.value;!Qe.done&&!_t.done;){if(Jr(wt.from,$e.to)<=0&&0<=Jr(wt.to,$e.from))return!0;Jr($e.from,wt.from)<0?$e=(Qe=ze.next(wt.from)).value:wt=(_t=ot.next($e.from)).value}return!1}function Ia(Re){var Le=uo(Re)?null:{s:0,n:Re};return{next:function(ze){for(var Qe=0<arguments.length;Le;)switch(Le.s){case 0:if(Le.s=1,Qe)for(;Le.n.l&&Jr(ze,Le.n.from)<0;)Le={up:Le,n:Le.n.l,s:1};else for(;Le.n.l;)Le={up:Le,n:Le.n.l,s:1};case 1:if(Le.s=2,!Qe||Jr(ze,Le.n.to)<=0)return{value:Le.n,done:!1};case 2:if(Le.n.r){Le.s=3,Le={up:Le,n:Le.n.r,s:0};continue}case 3:Le=Le.up}return{done:!0}}}}function A0(Re){var Le,ze,Qe=(((Le=Re.r)===null||Le===void 0?void 0:Le.d)||0)-(((ze=Re.l)===null||ze===void 0?void 0:ze.d)||0),$e=1<Qe?"r":Qe<-1?"l":"";$e&&(Le=$e=="r"?"l":"r",ze=i({},Re),Qe=Re[$e],Re.from=Qe.from,Re.to=Qe.to,Re[$e]=Qe[$e],ze[$e]=Qe[Le],(Re[Le]=ze).d=_s(ze)),Re.d=_s(Re)}function _s(ze){var Le=ze.r,ze=ze.l;return(Le?ze?Math.max(Le.d,ze.d):Le.d:ze?ze.d:0)+1}function Ui(Re,Le){return m(Le).forEach(function(ze){Re[ze]?Aa(Re[ze],Le[ze]):Re[ze]=function Qe($e){var ot,_t,wt={};for(ot in $e)_e($e,ot)&&(_t=$e[ot],wt[ot]=!_t||typeof _t!="object"||pt.has(_t.constructor)?_t:Qe(_t));return wt}(Le[ze])}),Re}function qn(Re,Le){return Re.all||Le.all||Object.keys(Re).some(function(ze){return Le[ze]&&S0(Le[ze],Re[ze])})}De(Dn.prototype,((tn={add:function(Re){return Aa(this,Re),this},addKey:function(Re){return Sa(this,Re,Re),this},addKeys:function(Re){var Le=this;return Re.forEach(function(ze){return Sa(Le,ze,ze)}),this},hasKey:function(Re){var Le=Ia(this).next(Re).value;return Le&&Jr(Le.from,Re)<=0&&0<=Jr(Le.to,Re)}})[Zt]=function(){return Ia(this)},tn));var ji={},vs={},ms=!1;function lo(Re){Ui(vs,Re),ms||(ms=!0,setTimeout(function(){ms=!1,kn(vs,!(vs={}))},0))}function kn(Re,Le){Le===void 0&&(Le=!1);var ze=new Set;if(Re.all)for(var Qe=0,$e=Object.values(ji);Qe<$e.length;Qe++)I0(_t=$e[Qe],Re,ze,Le);else for(var ot in Re){var _t,wt=/^idb\:\/\/(.*)\/(.*)\//.exec(ot);wt&&(ot=wt[1],wt=wt[2],(_t=ji["idb://".concat(ot,"/").concat(wt)])&&I0(_t,Re,ze,Le))}ze.forEach(function(Rt){return Rt()})}function I0(Re,Le,ze,Qe){for(var $e=[],ot=0,_t=Object.entries(Re.queries.query);ot<_t.length;ot++){for(var wt=_t[ot],Rt=wt[0],Tt=[],Lt=0,Ot=wt[1];Lt<Ot.length;Lt++){var Vt=Ot[Lt];qn(Le,Vt.obsSet)?Vt.subscribers.forEach(function(qt){return ze.add(qt)}):Qe&&Tt.push(Vt)}Qe&&$e.push([Rt,Tt])}if(Qe)for(var Bt=0,Nt=$e;Bt<Nt.length;Bt++){var Mt=Nt[Bt],Rt=Mt[0],Tt=Mt[1];Re.queries.query[Rt]=Tt}}function fo(Re){var Le=Re._state,ze=Re._deps.indexedDB;if(Le.isBeingOpened||Re.idbdb)return Le.dbReadyPromise.then(function(){return Le.dbOpenError?vn(Le.dbOpenError):Re});Le.isBeingOpened=!0,Le.dbOpenError=null,Le.openComplete=!1;var Qe=Le.openCanceller,$e=Math.round(10*Re.verno),ot=!1;function _t(){if(Le.openCanceller!==Qe)throw new lt.DatabaseClosed("db.open() was cancelled")}function wt(){return new wr(function(Vt,Bt){if(_t(),!ze)throw new lt.MissingAPI;var Nt=Re.name,Mt=Le.autoSchema||!$e?ze.open(Nt):ze.open(Nt,$e);if(!Mt)throw new lt.MissingAPI;Mt.onerror=ri(Bt),Mt.onblocked=Zr(Re._fireOnBlocked),Mt.onupgradeneeded=Zr(function(qt){var Gt;Lt=Mt.transaction,Le.autoSchema&&!Re._options.allowEmptyDB?(Mt.onerror=$i,Lt.abort(),Mt.result.close(),(Gt=ze.deleteDatabase(Nt)).onsuccess=Gt.onerror=Zr(function(){Bt(new lt.NoSuchDatabase("Database ".concat(Nt," doesnt exist")))})):(Lt.onerror=ri(Bt),qt=qt.oldVersion>Math.pow(2,62)?0:qt.oldVersion,Ot=qt<1,Re.idbdb=Mt.result,ot&&Qc(Re,Lt),xs(Re,qt/10,Lt,Bt))},Bt),Mt.onsuccess=Zr(function(){Lt=null;var qt,Gt,Qt,Yt,rr,hr=Re.idbdb=Mt.result,Ir=Ue(hr.objectStoreNames);if(0<Ir.length)try{var xr=hr.transaction((Yt=Ir).length===1?Yt[0]:Yt,"readonly");if(Le.autoSchema)Gt=hr,Qt=xr,(qt=Re).verno=Gt.version/10,Qt=qt._dbSchema=no(0,Gt,Qt),qt._storeNames=Ue(Gt.objectStoreNames,0),Ea(qt,[qt._allTables],m(Qt),Qt);else if(io(Re,Re._dbSchema,xr),((rr=ps(no(0,(rr=Re).idbdb,xr),rr._dbSchema)).add.length||rr.change.some(function(br){return br.add.length||br.change.length}))&&!ot)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),hr.close(),$e=hr.version+1,ot=!0,Vt(wt());eo(Re,xr)}catch{}Mi.push(Re),hr.onversionchange=Zr(function(br){Le.vcFired=!0,Re.on("versionchange").fire(br)}),hr.onclose=Zr(function(br){Re.on("close").fire(br)}),Ot&&(rr=Re._deps,xr=Nt,hr=rr.indexedDB,rr=rr.IDBKeyRange,so(hr)||xr===Qa||oo(hr,rr).put({name:xr}).catch($t)),Vt()},Bt)}).catch(function(Vt){switch(Vt==null?void 0:Vt.name){case"UnknownError":if(0<Le.PR1398_maxLoop)return Le.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),wt();break;case"VersionError":if(0<$e)return $e=0,wt()}return wr.reject(Vt)})}var Rt,Tt=Le.dbReadyResolve,Lt=null,Ot=!1;return wr.race([Qe,(typeof navigator>"u"?wr.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Vt){function Bt(){return indexedDB.databases().finally(Vt)}Rt=setInterval(Bt,100),Bt()}).finally(function(){return clearInterval(Rt)}):Promise.resolve()).then(wt)]).then(function(){return _t(),Le.onReadyBeingFired=[],wr.resolve(co(function(){return Re.on.ready.fire(Re.vip)})).then(function Vt(){if(0<Le.onReadyBeingFired.length){var Bt=Le.onReadyBeingFired.reduce(er,$t);return Le.onReadyBeingFired=[],wr.resolve(co(function(){return Bt(Re.vip)})).then(Vt)}})}).finally(function(){Le.openCanceller===Qe&&(Le.onReadyBeingFired=null,Le.isBeingOpened=!1)}).catch(function(Vt){Le.dbOpenError=Vt;try{Lt&&Lt.abort()}catch{}return Qe===Le.openCanceller&&Re._close(),vn(Vt)}).finally(function(){Le.openComplete=!0,Tt()}).then(function(){var Vt;return Ot&&(Vt={},Re.tables.forEach(function(Bt){Bt.schema.indexes.forEach(function(Nt){Nt.name&&(Vt["idb://".concat(Re.name,"/").concat(Bt.name,"/").concat(Nt.name)]=new Dn(-1/0,[[[]]]))}),Vt["idb://".concat(Re.name,"/").concat(Bt.name,"/")]=Vt["idb://".concat(Re.name,"/").concat(Bt.name,"/:dels")]=new Dn(-1/0,[[[]]])}),Ii(ga).fire(Vt),kn(Vt,!0)),Re})}function _n(Re){function Le(ot){return Re.next(ot)}var ze=$e(Le),Qe=$e(function(ot){return Re.throw(ot)});function $e(ot){return function(Rt){var wt=ot(Rt),Rt=wt.value;return wt.done?Rt:Rt&&typeof Rt.then=="function"?Rt.then(ze,Qe):g(Rt)?Promise.all(Rt).then(ze,Qe):ze(Rt)}}return $e(Le)()}function ho(Re,Le,ze){for(var Qe=g(Re)?Re.slice():[Re],$e=0;$e<ze;++$e)Qe.push(Le);return Qe}var xo={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(Re){return i(i({},Re),{table:function(Le){var ze=Re.table(Le),Qe=ze.schema,$e={},ot=[];function _t(Ot,Vt,Bt){var Nt=ba(Ot),Mt=$e[Nt]=$e[Nt]||[],qt=Ot==null?0:typeof Ot=="string"?1:Ot.length,Gt=0<Vt,Gt=i(i({},Bt),{name:Gt?"".concat(Nt,"(virtual-from:").concat(Bt.name,")"):Bt.name,lowLevelIndex:Bt,isVirtual:Gt,keyTail:Vt,keyLength:qt,extractKey:hs(Ot),unique:!Gt&&Bt.unique});return Mt.push(Gt),Gt.isPrimaryKey||ot.push(Gt),1<qt&&_t(qt===2?Ot[0]:Ot.slice(0,qt-1),Vt+1,Bt),Mt.sort(function(Qt,Yt){return Qt.keyTail-Yt.keyTail}),Gt}Le=_t(Qe.primaryKey.keyPath,0,Qe.primaryKey),$e[":id"]=[Le];for(var wt=0,Rt=Qe.indexes;wt<Rt.length;wt++){var Tt=Rt[wt];_t(Tt.keyPath,0,Tt)}function Lt(Ot){var Vt,Bt=Ot.query.index;return Bt.isVirtual?i(i({},Ot),{query:{index:Bt.lowLevelIndex,range:(Vt=Ot.query.range,Bt=Bt.keyTail,{type:Vt.type===1?2:Vt.type,lower:ho(Vt.lower,Vt.lowerOpen?Re.MAX_KEY:Re.MIN_KEY,Bt),lowerOpen:!0,upper:ho(Vt.upper,Vt.upperOpen?Re.MIN_KEY:Re.MAX_KEY,Bt),upperOpen:!0})}}):Ot}return i(i({},ze),{schema:i(i({},Qe),{primaryKey:Le,indexes:ot,getIndexByKeyPath:function(Ot){return(Ot=$e[ba(Ot)])&&Ot[0]}}),count:function(Ot){return ze.count(Lt(Ot))},query:function(Ot){return ze.query(Lt(Ot))},openCursor:function(Ot){var Vt=Ot.query.index,Bt=Vt.keyTail,Nt=Vt.isVirtual,Mt=Vt.keyLength;return Nt?ze.openCursor(Lt(Ot)).then(function(Gt){return Gt&&qt(Gt)}):ze.openCursor(Ot);function qt(Gt){return Object.create(Gt,{continue:{value:function(Qt){Qt!=null?Gt.continue(ho(Qt,Ot.reverse?Re.MAX_KEY:Re.MIN_KEY,Bt)):Ot.unique?Gt.continue(Gt.key.slice(0,Mt).concat(Ot.reverse?Re.MIN_KEY:Re.MAX_KEY,Bt)):Gt.continue()}},continuePrimaryKey:{value:function(Qt,Yt){Gt.continuePrimaryKey(ho(Qt,Re.MAX_KEY,Bt),Yt)}},primaryKey:{get:function(){return Gt.primaryKey}},key:{get:function(){var Qt=Gt.key;return Mt===1?Qt[0]:Qt.slice(0,Mt)}},value:{get:function(){return Gt.value}}})}}})}})}};function Ci(Re,Le,ze,Qe){return ze=ze||{},Qe=Qe||"",m(Re).forEach(function($e){var ot,_t,wt;_e(Le,$e)?(ot=Re[$e],_t=Le[$e],typeof ot=="object"&&typeof _t=="object"&&ot&&_t?(wt=Ft(ot))!==Ft(_t)?ze[Qe+$e]=Le[$e]:wt==="Object"?Ci(ot,_t,ze,Qe+$e+"."):ot!==_t&&(ze[Qe+$e]=Le[$e]):ot!==_t&&(ze[Qe+$e]=Le[$e])):ze[Qe+$e]=void 0}),m(Le).forEach(function($e){_e(Re,$e)||(ze[Qe+$e]=Le[$e])}),ze}function po(Re,Le){return Le.type==="delete"?Le.keys:Le.keys||Le.values.map(Re.extractKey)}var Jc={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(Re){return i(i({},Re),{table:function(Le){var ze=Re.table(Le),Qe=ze.schema.primaryKey;return i(i({},ze),{mutate:function($e){var ot=Cr.trans,_t=ot.table(Le).hook,wt=_t.deleting,Rt=_t.creating,Tt=_t.updating;switch($e.type){case"add":if(Rt.fire===$t)break;return ot._promise("readwrite",function(){return Lt($e)},!0);case"put":if(Rt.fire===$t&&Tt.fire===$t)break;return ot._promise("readwrite",function(){return Lt($e)},!0);case"delete":if(wt.fire===$t)break;return ot._promise("readwrite",function(){return Lt($e)},!0);case"deleteRange":if(wt.fire===$t)break;return ot._promise("readwrite",function(){return function Ot(Vt,Bt,Nt){return ze.query({trans:Vt,values:!1,query:{index:Qe,range:Bt},limit:Nt}).then(function(Mt){var qt=Mt.result;return Lt({type:"delete",keys:qt,trans:Vt}).then(function(Gt){return 0<Gt.numFailures?Promise.reject(Gt.failures[0]):qt.length<Nt?{failures:[],numFailures:0,lastResult:void 0}:Ot(Vt,i(i({},Bt),{lower:qt[qt.length-1],lowerOpen:!0}),Nt)})})}($e.trans,$e.range,1e4)},!0)}return ze.mutate($e);function Lt(Ot){var Vt,Bt,Nt,Mt=Cr.trans,qt=Ot.keys||po(Qe,Ot);if(!qt)throw new Error("Keys missing");return(Ot=Ot.type==="add"||Ot.type==="put"?i(i({},Ot),{keys:qt}):i({},Ot)).type!=="delete"&&(Ot.values=c([],Ot.values,!0)),Ot.keys&&(Ot.keys=c([],Ot.keys,!0)),Vt=ze,Nt=qt,((Bt=Ot).type==="add"?Promise.resolve([]):Vt.getMany({trans:Bt.trans,keys:Nt,cache:"immutable"})).then(function(Gt){var Qt=qt.map(function(Yt,rr){var hr,Ir,xr,br=Gt[rr],Ar={onerror:null,onsuccess:null};return Ot.type==="delete"?wt.fire.call(Ar,Yt,br,Mt):Ot.type==="add"||br===void 0?(hr=Rt.fire.call(Ar,Yt,Ot.values[rr],Mt),Yt==null&&hr!=null&&(Ot.keys[rr]=Yt=hr,Qe.outbound||it(Ot.values[rr],Qe.keyPath,Yt))):(hr=Ci(br,Ot.values[rr]),(Ir=Tt.fire.call(Ar,hr,Yt,br,Mt))&&(xr=Ot.values[rr],Object.keys(Ir).forEach(function(lr){_e(xr,lr)?xr[lr]=Ir[lr]:it(xr,lr,Ir[lr])}))),Ar});return ze.mutate(Ot).then(function(Yt){for(var rr=Yt.failures,hr=Yt.results,Ir=Yt.numFailures,Yt=Yt.lastResult,xr=0;xr<qt.length;++xr){var br=(hr||qt)[xr],Ar=Qt[xr];br==null?Ar.onerror&&Ar.onerror(rr[xr]):Ar.onsuccess&&Ar.onsuccess(Ot.type==="put"&&Gt[xr]?Ot.values[xr]:br)}return{failures:rr,results:hr,numFailures:Ir,lastResult:Yt}}).catch(function(Yt){return Qt.forEach(function(rr){return rr.onerror&&rr.onerror(Yt)}),Promise.reject(Yt)})})}}})}})}};function gs(Re,Le,ze){try{if(!Le||Le.keys.length<Re.length)return null;for(var Qe=[],$e=0,ot=0;$e<Le.keys.length&&ot<Re.length;++$e)Jr(Le.keys[$e],Re[ot])===0&&(Qe.push(ze?mt(Le.values[$e]):Le.values[$e]),++ot);return Qe.length===Re.length?Qe:null}catch{return null}}var _o={stack:"dbcore",level:-1,create:function(Re){return{table:function(Le){var ze=Re.table(Le);return i(i({},ze),{getMany:function(Qe){if(!Qe.cache)return ze.getMany(Qe);var $e=gs(Qe.keys,Qe.trans._cache,Qe.cache==="clone");return $e?wr.resolve($e):ze.getMany(Qe).then(function(ot){return Qe.trans._cache={keys:Qe.keys,values:Qe.cache==="clone"?mt(ot):ot},ot})},mutate:function(Qe){return Qe.type!=="add"&&(Qe.trans._cache=null),ze.mutate(Qe)}})}}}};function bn(Re,Le){return Re.trans.mode==="readonly"&&!!Re.subscr&&!Re.trans.explicit&&Re.trans.db._options.cache!=="disabled"&&!Le.schema.primaryKey.outbound}function C0(Re,Le){switch(Re){case"query":return Le.values&&!Le.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var ys={stack:"dbcore",level:0,name:"Observability",create:function(Re){var Le=Re.schema.name,ze=new Dn(Re.MIN_KEY,Re.MAX_KEY);return i(i({},Re),{transaction:function(Qe,$e,ot){if(Cr.subscr&&$e!=="readonly")throw new lt.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Cr.querier));return Re.transaction(Qe,$e,ot)},table:function(Qe){var $e=Re.table(Qe),ot=$e.schema,_t=ot.primaryKey,Ot=ot.indexes,wt=_t.extractKey,Rt=_t.outbound,Tt=_t.autoIncrement&&Ot.filter(function(Bt){return Bt.compound&&Bt.keyPath.includes(_t.keyPath)}),Lt=i(i({},$e),{mutate:function(Bt){function Nt(lr){return lr="idb://".concat(Le,"/").concat(Qe,"/").concat(lr),Yt[lr]||(Yt[lr]=new Dn)}var Mt,qt,Gt,Qt=Bt.trans,Yt=Bt.mutatedParts||(Bt.mutatedParts={}),rr=Nt(""),hr=Nt(":dels"),Ir=Bt.type,Ar=Bt.type==="deleteRange"?[Bt.range]:Bt.type==="delete"?[Bt.keys]:Bt.values.length<50?[po(_t,Bt).filter(function(lr){return lr}),Bt.values]:[],xr=Ar[0],br=Ar[1],Ar=Bt.trans._cache;return g(xr)?(rr.addKeys(xr),(Ar=Ir==="delete"||xr.length===br.length?gs(xr,Ar):null)||hr.addKeys(xr),(Ar||br)&&(Mt=Nt,qt=Ar,Gt=br,ot.indexes.forEach(function(lr){var pr=Mt(lr.name||"");function Ur(Vr){return Vr!=null?lr.extractKey(Vr):null}function Wr(Vr){return lr.multiEntry&&g(Vr)?Vr.forEach(function(Jn){return pr.addKey(Jn)}):pr.addKey(Vr)}(qt||Gt).forEach(function(Vr,An){var zr=qt&&Ur(qt[An]),An=Gt&&Ur(Gt[An]);Jr(zr,An)!==0&&(zr!=null&&Wr(zr),An!=null&&Wr(An))})}))):xr?(br={from:xr.lower,to:xr.upper},hr.add(br),rr.add(br)):(rr.add(ze),hr.add(ze),ot.indexes.forEach(function(lr){return Nt(lr.name).add(ze)})),$e.mutate(Bt).then(function(lr){return!xr||Bt.type!=="add"&&Bt.type!=="put"||(rr.addKeys(lr.results),Tt&&Tt.forEach(function(pr){var Ur=Bt.values.map(function(Vr){return pr.extractKey(Vr)}),Wr=pr.keyPath.findIndex(function(Vr){return Vr===_t.keyPath});lr.results.forEach(function(Vr){return Ur[Wr]=Vr}),Nt(pr.name).addKeys(Ur)})),Qt.mutatedParts=Ui(Qt.mutatedParts||{},Yt),lr})}}),Ot=function(Nt){var Mt=Nt.query,Nt=Mt.index,Mt=Mt.range;return[Nt,new Dn((Nt=Mt.lower)!==null&&Nt!==void 0?Nt:Re.MIN_KEY,(Mt=Mt.upper)!==null&&Mt!==void 0?Mt:Re.MAX_KEY)]},Vt={get:function(Bt){return[_t,new Dn(Bt.key)]},getMany:function(Bt){return[_t,new Dn().addKeys(Bt.keys)]},count:Ot,query:Ot,openCursor:Ot};return m(Vt).forEach(function(Bt){Lt[Bt]=function(Nt){var Mt=Cr.subscr,qt=!!Mt,Gt=bn(Cr,$e)&&C0(Bt,Nt)?Nt.obsSet={}:Mt;if(qt){var Qt=function(br){return br="idb://".concat(Le,"/").concat(Qe,"/").concat(br),Gt[br]||(Gt[br]=new Dn)},Yt=Qt(""),rr=Qt(":dels"),Mt=Vt[Bt](Nt),qt=Mt[0],Mt=Mt[1];if((Bt==="query"&&qt.isPrimaryKey&&!Nt.values?rr:Qt(qt.name||"")).add(Mt),!qt.isPrimaryKey){if(Bt!=="count"){var hr=Bt==="query"&&Rt&&Nt.values&&$e.query(i(i({},Nt),{values:!1}));return $e[Bt].apply(this,arguments).then(function(br){if(Bt==="query"){if(Rt&&Nt.values)return hr.then(function(Ur){return Ur=Ur.result,Yt.addKeys(Ur),br});var Ar=Nt.values?br.result.map(wt):br.result;(Nt.values?Yt:rr).addKeys(Ar)}else if(Bt==="openCursor"){var lr=br,pr=Nt.values;return lr&&Object.create(lr,{key:{get:function(){return rr.addKey(lr.primaryKey),lr.key}},primaryKey:{get:function(){var Ur=lr.primaryKey;return rr.addKey(Ur),Ur}},value:{get:function(){return pr&&Yt.addKey(lr.primaryKey),lr.value}}})}return br})}rr.add(ze)}}return $e[Bt].apply(this,arguments)}}),Lt}})}};function k0(Re,Le,ze){if(ze.numFailures===0)return Le;if(Le.type==="deleteRange")return null;var Qe=Le.keys?Le.keys.length:"values"in Le&&Le.values?Le.values.length:1;return ze.numFailures===Qe?null:(Le=i({},Le),g(Le.keys)&&(Le.keys=Le.keys.filter(function($e,ot){return!(ot in ze.failures)})),"values"in Le&&g(Le.values)&&(Le.values=Le.values.filter(function($e,ot){return!(ot in ze.failures)})),Le)}function bs(Re,Le){return ze=Re,((Qe=Le).lower===void 0||(Qe.lowerOpen?0<Jr(ze,Qe.lower):0<=Jr(ze,Qe.lower)))&&(Re=Re,(Le=Le).upper===void 0||(Le.upperOpen?Jr(Re,Le.upper)<0:Jr(Re,Le.upper)<=0));var ze,Qe}function ni(Re,Le,Vt,Qe,$e,ot){if(!Vt||Vt.length===0)return Re;var _t=Le.query.index,wt=_t.multiEntry,Rt=Le.query.range,Tt=Qe.schema.primaryKey.extractKey,Lt=_t.extractKey,Ot=(_t.lowLevelIndex||_t).extractKey,Vt=Vt.reduce(function(Bt,Nt){var Mt=Bt,qt=[];if(Nt.type==="add"||Nt.type==="put")for(var Gt=new Dn,Qt=Nt.values.length-1;0<=Qt;--Qt){var Yt,rr=Nt.values[Qt],hr=Tt(rr);Gt.hasKey(hr)||(Yt=Lt(rr),(wt&&g(Yt)?Yt.some(function(Ar){return bs(Ar,Rt)}):bs(Yt,Rt))&&(Gt.addKey(hr),qt.push(rr)))}switch(Nt.type){case"add":Mt=Bt.concat(Le.values?qt:qt.map(function(lr){return Tt(lr)}));break;case"put":var Ir=new Dn().addKeys(Nt.values.map(function(lr){return Tt(lr)})),Mt=Bt.filter(function(lr){return!Ir.hasKey(Le.values?Tt(lr):lr)}).concat(Le.values?qt:qt.map(function(lr){return Tt(lr)}));break;case"delete":var xr=new Dn().addKeys(Nt.keys);Mt=Bt.filter(function(lr){return!xr.hasKey(Le.values?Tt(lr):lr)});break;case"deleteRange":var br=Nt.range;Mt=Bt.filter(function(lr){return!bs(Tt(lr),br)})}return Mt},Re);return Vt===Re?Re:(Vt.sort(function(Bt,Nt){return Jr(Ot(Bt),Ot(Nt))||Jr(Tt(Bt),Tt(Nt))}),Le.limit&&Le.limit<1/0&&(Vt.length>Le.limit?Vt.length=Le.limit:Re.length===Le.limit&&Vt.length<Le.limit&&($e.dirty=!0)),ot?Object.freeze(Vt):Vt)}function O0(Re,Le){return Jr(Re.lower,Le.lower)===0&&Jr(Re.upper,Le.upper)===0&&!!Re.lowerOpen==!!Le.lowerOpen&&!!Re.upperOpen==!!Le.upperOpen}function vo(Re,Le){return function(ze,Qe,$e,ot){if(ze===void 0)return Qe!==void 0?-1:0;if(Qe===void 0)return 1;if((Qe=Jr(ze,Qe))===0){if($e&&ot)return 0;if($e)return 1;if(ot)return-1}return Qe}(Re.lower,Le.lower,Re.lowerOpen,Le.lowerOpen)<=0&&0<=function(ze,Qe,$e,ot){if(ze===void 0)return Qe!==void 0?1:0;if(Qe===void 0)return-1;if((Qe=Jr(ze,Qe))===0){if($e&&ot)return 0;if($e)return-1;if(ot)return 1}return Qe}(Re.upper,Le.upper,Re.upperOpen,Le.upperOpen)}function Hn(Re,Le,ze,Qe){Re.subscribers.add(ze),Qe.addEventListener("abort",function(){var $e,ot;Re.subscribers.delete(ze),Re.subscribers.size===0&&($e=Re,ot=Le,setTimeout(function(){$e.subscribers.size===0&&cr(ot,$e)},3e3))})}var ki={stack:"dbcore",level:0,name:"Cache",create:function(Re){var Le=Re.schema.name;return i(i({},Re),{transaction:function(ze,Qe,$e){var ot,_t,wt=Re.transaction(ze,Qe,$e);return Qe==="readwrite"&&(_t=(ot=new AbortController).signal,$e=function(Rt){return function(){if(ot.abort(),Qe==="readwrite"){for(var Tt=new Set,Lt=0,Ot=ze;Lt<Ot.length;Lt++){var Vt=Ot[Lt],Bt=ji["idb://".concat(Le,"/").concat(Vt)];if(Bt){var Nt=Re.table(Vt),Mt=Bt.optimisticOps.filter(function(pr){return pr.trans===wt});if(wt._explicit&&Rt&&wt.mutatedParts)for(var qt=0,Gt=Object.values(Bt.queries.query);qt<Gt.length;qt++)for(var Qt=0,Yt=(Ir=Gt[qt]).slice();Qt<Yt.length;Qt++)qn((xr=Yt[Qt]).obsSet,wt.mutatedParts)&&(cr(Ir,xr),xr.subscribers.forEach(function(pr){return Tt.add(pr)}));else if(0<Mt.length){Bt.optimisticOps=Bt.optimisticOps.filter(function(pr){return pr.trans!==wt});for(var rr=0,hr=Object.values(Bt.queries.query);rr<hr.length;rr++)for(var Ir,xr,br,Ar=0,lr=(Ir=hr[rr]).slice();Ar<lr.length;Ar++)(xr=lr[Ar]).res!=null&&wt.mutatedParts&&(Rt&&!xr.dirty?(br=Object.isFrozen(xr.res),br=ni(xr.res,xr.req,Mt,Nt,xr,br),xr.dirty?(cr(Ir,xr),xr.subscribers.forEach(function(pr){return Tt.add(pr)})):br!==xr.res&&(xr.res=br,xr.promise=wr.resolve({result:br}))):(xr.dirty&&cr(Ir,xr),xr.subscribers.forEach(function(pr){return Tt.add(pr)})))}}}Tt.forEach(function(pr){return pr()})}}},wt.addEventListener("abort",$e(!1),{signal:_t}),wt.addEventListener("error",$e(!1),{signal:_t}),wt.addEventListener("complete",$e(!0),{signal:_t})),wt},table:function(ze){var Qe=Re.table(ze),$e=Qe.schema.primaryKey;return i(i({},Qe),{mutate:function(ot){var _t=Cr.trans;if($e.outbound||_t.db._options.cache==="disabled"||_t.explicit)return Qe.mutate(ot);var wt=ji["idb://".concat(Le,"/").concat(ze)];return wt?(_t=Qe.mutate(ot),ot.type!=="add"&&ot.type!=="put"||!(50<=ot.values.length||po($e,ot).some(function(Rt){return Rt==null}))?(wt.optimisticOps.push(ot),ot.mutatedParts&&lo(ot.mutatedParts),_t.then(function(Rt){0<Rt.numFailures&&(cr(wt.optimisticOps,ot),(Rt=k0(0,ot,Rt))&&wt.optimisticOps.push(Rt),ot.mutatedParts&&lo(ot.mutatedParts))}),_t.catch(function(){cr(wt.optimisticOps,ot),ot.mutatedParts&&lo(ot.mutatedParts)})):_t.then(function(Rt){var Tt=k0(0,i(i({},ot),{values:ot.values.map(function(Bt,Ot){var Vt,Bt=(Vt=$e.keyPath)!==null&&Vt!==void 0&&Vt.includes(".")?mt(Bt):i({},Bt);return it(Bt,$e.keyPath,Rt.results[Ot]),Bt})}),Rt);wt.optimisticOps.push(Tt),queueMicrotask(function(){return ot.mutatedParts&&lo(ot.mutatedParts)})}),_t):Qe.mutate(ot)},query:function(ot){if(!bn(Cr,Qe)||!C0("query",ot))return Qe.query(ot);var _t=((Tt=Cr.trans)===null||Tt===void 0?void 0:Tt.db._options.cache)==="immutable",Ot=Cr,wt=Ot.requery,Rt=Ot.signal,Tt=function(Nt,Mt,qt,Gt){var Qt=ji["idb://".concat(Nt,"/").concat(Mt)];if(!Qt)return[];if(!(Mt=Qt.queries[qt]))return[null,!1,Qt,null];var Yt=Mt[(Gt.query?Gt.query.index.name:null)||""];if(!Yt)return[null,!1,Qt,null];switch(qt){case"query":var rr=Yt.find(function(hr){return hr.req.limit===Gt.limit&&hr.req.values===Gt.values&&O0(hr.req.query.range,Gt.query.range)});return rr?[rr,!0,Qt,Yt]:[Yt.find(function(hr){return("limit"in hr.req?hr.req.limit:1/0)>=Gt.limit&&(!Gt.values||hr.req.values)&&vo(hr.req.query.range,Gt.query.range)}),!1,Qt,Yt];case"count":return rr=Yt.find(function(hr){return O0(hr.req.query.range,Gt.query.range)}),[rr,!!rr,Qt,Yt]}}(Le,ze,"query",ot),Lt=Tt[0],Ot=Tt[1],Vt=Tt[2],Bt=Tt[3];return Lt&&Ot?Lt.obsSet=ot.obsSet:(Ot=Qe.query(ot).then(function(Nt){var Mt=Nt.result;if(Lt&&(Lt.res=Mt),_t){for(var qt=0,Gt=Mt.length;qt<Gt;++qt)Object.freeze(Mt[qt]);Object.freeze(Mt)}else Nt.result=mt(Mt);return Nt}).catch(function(Nt){return Bt&&Lt&&cr(Bt,Lt),Promise.reject(Nt)}),Lt={obsSet:ot.obsSet,promise:Ot,subscribers:new Set,type:"query",req:ot,dirty:!1},Bt?Bt.push(Lt):(Bt=[Lt],(Vt=Vt||(ji["idb://".concat(Le,"/").concat(ze)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[ot.query.index.name||""]=Bt)),Hn(Lt,Bt,wt,Rt),Lt.promise.then(function(Nt){return{result:ni(Nt.result,ot,Vt==null?void 0:Vt.optimisticOps,Qe,Lt,_t)}})}})}})}};function ea(Re,Le){return new Proxy(Re,{get:function(ze,Qe,$e){return Qe==="db"?Le:Reflect.get(ze,Qe,$e)}})}var di=(mn.prototype.version=function(Re){if(isNaN(Re)||Re<.1)throw new lt.Type("Given version is not a positive number");if(Re=Math.round(10*Re)/10,this.idbdb||this._state.isBeingOpened)throw new lt.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,Re);var Le=this._versions,ze=Le.filter(function(Qe){return Qe._cfg.version===Re})[0];return ze||(ze=new this.Version(Re),Le.push(ze),Le.sort(b0),ze.stores({}),this._state.autoSchema=!1,ze)},mn.prototype._whenReady=function(Re){var Le=this;return this.idbdb&&(this._state.openComplete||Cr.letThrough||this._vip)?Re():new wr(function(ze,Qe){if(Le._state.openComplete)return Qe(new lt.DatabaseClosed(Le._state.dbOpenError));if(!Le._state.isBeingOpened){if(!Le._state.autoOpen)return void Qe(new lt.DatabaseClosed);Le.open().catch($t)}Le._state.dbReadyPromise.then(ze,Qe)}).then(Re)},mn.prototype.use=function(Re){var Le=Re.stack,ze=Re.create,Qe=Re.level,$e=Re.name;return $e&&this.unuse({stack:Le,name:$e}),Re=this._middlewares[Le]||(this._middlewares[Le]=[]),Re.push({stack:Le,create:ze,level:Qe??10,name:$e}),Re.sort(function(ot,_t){return ot.level-_t.level}),this},mn.prototype.unuse=function(Re){var Le=Re.stack,ze=Re.name,Qe=Re.create;return Le&&this._middlewares[Le]&&(this._middlewares[Le]=this._middlewares[Le].filter(function($e){return Qe?$e.create!==Qe:!!ze&&$e.name!==ze})),this},mn.prototype.open=function(){var Re=this;return xn(Qr,function(){return fo(Re)})},mn.prototype._close=function(){var Re=this._state,Le=Mi.indexOf(this);if(0<=Le&&Mi.splice(Le,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}Re.isBeingOpened||(Re.dbReadyPromise=new wr(function(ze){Re.dbReadyResolve=ze}),Re.openCanceller=new wr(function(ze,Qe){Re.cancelOpen=Qe}))},mn.prototype.close=function(ze){var Le=(ze===void 0?{disableAutoOpen:!0}:ze).disableAutoOpen,ze=this._state;Le?(ze.isBeingOpened&&ze.cancelOpen(new lt.DatabaseClosed),this._close(),ze.autoOpen=!1,ze.dbOpenError=new lt.DatabaseClosed):(this._close(),ze.autoOpen=this._options.autoOpen||ze.isBeingOpened,ze.openComplete=!1,ze.dbOpenError=null)},mn.prototype.delete=function(Re){var Le=this;Re===void 0&&(Re={disableAutoOpen:!0});var ze=0<arguments.length&&typeof arguments[0]!="object",Qe=this._state;return new wr(function($e,ot){function _t(){Le.close(Re);var wt=Le._deps.indexedDB.deleteDatabase(Le.name);wt.onsuccess=Zr(function(){var Rt,Tt,Lt;Rt=Le._deps,Tt=Le.name,Lt=Rt.indexedDB,Rt=Rt.IDBKeyRange,so(Lt)||Tt===Qa||oo(Lt,Rt).delete(Tt).catch($t),$e()}),wt.onerror=ri(ot),wt.onblocked=Le._fireOnBlocked}if(ze)throw new lt.InvalidArgument("Invalid closeOptions argument to db.delete()");Qe.isBeingOpened?Qe.dbReadyPromise.then(_t):_t()})},mn.prototype.backendDB=function(){return this.idbdb},mn.prototype.isOpen=function(){return this.idbdb!==null},mn.prototype.hasBeenClosed=function(){var Re=this._state.dbOpenError;return Re&&Re.name==="DatabaseClosed"},mn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},mn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(mn.prototype,"tables",{get:function(){var Re=this;return m(this._allTables).map(function(Le){return Re._allTables[Le]})},enumerable:!1,configurable:!0}),mn.prototype.transaction=function(){var Re=(function(Le,ze,Qe){var $e=arguments.length;if($e<2)throw new lt.InvalidArgument("Too few arguments");for(var ot=new Array($e-1);--$e;)ot[$e-1]=arguments[$e];return Qe=ot.pop(),[Le,tt(ot),Qe]}).apply(this,arguments);return this._transaction.apply(this,Re)},mn.prototype._transaction=function(Re,Le,ze){var Qe=this,$e=Cr.trans;$e&&$e.db===this&&Re.indexOf("!")===-1||($e=null);var ot,_t,wt=Re.indexOf("?")!==-1;Re=Re.replace("!","").replace("?","");try{if(_t=Le.map(function(Tt){if(Tt=Tt instanceof Qe.Table?Tt.name:Tt,typeof Tt!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Tt}),Re=="r"||Re===ns)ot=ns;else{if(Re!="rw"&&Re!=is)throw new lt.InvalidArgument("Invalid transaction mode: "+Re);ot=is}if($e){if($e.mode===ns&&ot===is){if(!wt)throw new lt.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");$e=null}$e&&_t.forEach(function(Tt){if($e&&$e.storeNames.indexOf(Tt)===-1){if(!wt)throw new lt.SubTransaction("Table "+Tt+" not included in parent transaction.");$e=null}}),wt&&$e&&!$e.active&&($e=null)}}catch(Tt){return $e?$e._promise(null,function(Lt,Ot){Ot(Tt)}):vn(Tt)}var Rt=(function Tt(Lt,Ot,Vt,Bt,Nt){return wr.resolve().then(function(){var Mt=Cr.transless||Cr,qt=Lt._createTransaction(Ot,Vt,Lt._dbSchema,Bt);if(qt.explicit=!0,Mt={trans:qt,transless:Mt},Bt)qt.idbtrans=Bt.idbtrans;else try{qt.create(),qt.idbtrans._explicit=!0,Lt._state.PR1398_maxLoop=3}catch(Yt){return Yt.name===Rr.InvalidState&&Lt.isOpen()&&0<--Lt._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Lt.close({disableAutoOpen:!1}),Lt.open().then(function(){return Tt(Lt,Ot,Vt,null,Nt)})):vn(Yt)}var Gt,Qt=ct(Nt);return Qt&&wn(),Mt=wr.follow(function(){var Yt;(Gt=Nt.call(qt,qt))&&(Qt?(Yt=hn.bind(null,null),Gt.then(Yt,Yt)):typeof Gt.next=="function"&&typeof Gt.throw=="function"&&(Gt=_n(Gt)))},Mt),(Gt&&typeof Gt.then=="function"?wr.resolve(Gt).then(function(Yt){return qt.active?Yt:vn(new lt.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Mt.then(function(){return Gt})).then(function(Yt){return Bt&&qt._resolve(),qt._completion.then(function(){return Yt})}).catch(function(Yt){return qt._reject(Yt),vn(Yt)})})}).bind(null,this,ot,_t,$e,ze);return $e?$e._promise(ot,Rt,"lock"):Cr.trans?xn(Cr.transless,function(){return Qe._whenReady(Rt)}):this._whenReady(Rt)},mn.prototype.table=function(Re){if(!_e(this._allTables,Re))throw new lt.InvalidTable("Table ".concat(Re," does not exist"));return this._allTables[Re]},mn);function mn(Re,Le){var ze=this;this._middlewares={},this.verno=0;var Qe=mn.dependencies;this._options=Le=i({addons:mn.addons,autoOpen:!0,indexedDB:Qe.indexedDB,IDBKeyRange:Qe.IDBKeyRange,cache:"cloned"},Le),this._deps={indexedDB:Le.indexedDB,IDBKeyRange:Le.IDBKeyRange},Qe=Le.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var $e,ot,_t,wt,Rt,Tt={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:$t,dbReadyPromise:null,cancelOpen:$t,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:Le.autoOpen};Tt.dbReadyPromise=new wr(function(Ot){Tt.dbReadyResolve=Ot}),Tt.openCanceller=new wr(function(Ot,Vt){Tt.cancelOpen=Vt}),this._state=Tt,this.name=Re,this.on=_a(this,"populate","blocked","versionchange","close",{ready:[er,$t]}),this.on.ready.subscribe=We(this.on.ready.subscribe,function(Ot){return function(Vt,Bt){mn.vip(function(){var Nt,Mt=ze._state;Mt.openComplete?(Mt.dbOpenError||wr.resolve().then(Vt),Bt&&Ot(Vt)):Mt.onReadyBeingFired?(Mt.onReadyBeingFired.push(Vt),Bt&&Ot(Vt)):(Ot(Vt),Nt=ze,Bt||Ot(function qt(){Nt.on.ready.unsubscribe(Vt),Nt.on.ready.unsubscribe(qt)}))})}}),this.Collection=($e=this,va(jc.prototype,function(Gt,qt){this.db=$e;var Bt=l0,Nt=null;if(qt)try{Bt=qt()}catch(Qt){Nt=Qt}var Mt=Gt._ctx,qt=Mt.table,Gt=qt.hook.reading.fire;this._ctx={table:qt,index:Mt.index,isPrimKey:!Mt.index||qt.schema.primKey.keyPath&&Mt.index===qt.schema.primKey.name,range:Bt,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Nt,or:Mt.or,valueMapper:Gt!==dr?Gt:null}})),this.Table=(ot=this,va(x0.prototype,function(Ot,Vt,Bt){this.db=ot,this._tx=Bt,this.name=Ot,this.schema=Vt,this.hook=ot._allTables[Ot]?ot._allTables[Ot].hook:_a(null,{creating:[Wt,$t],reading:[Xe,dr],updating:[xt,$t],deleting:[ht,$t]})})),this.Transaction=(_t=this,va(Wc.prototype,function(Ot,Vt,Bt,Nt,Mt){var qt=this;this.db=_t,this.mode=Ot,this.storeNames=Vt,this.schema=Bt,this.chromeTransactionDurability=Nt,this.idbtrans=null,this.on=_a(this,"complete","error","abort"),this.parent=Mt||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new wr(function(Gt,Qt){qt._resolve=Gt,qt._reject=Qt}),this._completion.then(function(){qt.active=!1,qt.on.complete.fire()},function(Gt){var Qt=qt.active;return qt.active=!1,qt.on.error.fire(Gt),qt.parent?qt.parent._reject(Gt):Qt&&qt.idbtrans&&qt.idbtrans.abort(),vn(Gt)})})),this.Version=(wt=this,va(Xc.prototype,function(Ot){this.db=wt,this._cfg={version:Ot,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(Rt=this,va(m0.prototype,function(Ot,Vt,Bt){if(this.db=Rt,this._ctx={table:Ot,index:Vt===":id"?null:Vt,or:Bt},this._cmp=this._ascending=Jr,this._descending=function(Nt,Mt){return Jr(Mt,Nt)},this._max=function(Nt,Mt){return 0<Jr(Nt,Mt)?Nt:Mt},this._min=function(Nt,Mt){return Jr(Nt,Mt)<0?Nt:Mt},this._IDBKeyRange=Rt._deps.IDBKeyRange,!this._IDBKeyRange)throw new lt.MissingAPI})),this.on("versionchange",function(Ot){0<Ot.newVersion?console.warn("Another connection wants to upgrade database '".concat(ze.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(ze.name,"'. Closing db now to resume the delete request.")),ze.close({disableAutoOpen:!1})}),this.on("blocked",function(Ot){!Ot.newVersion||Ot.newVersion<Ot.oldVersion?console.warn("Dexie.delete('".concat(ze.name,"') was blocked")):console.warn("Upgrade '".concat(ze.name,"' blocked by other connection holding version ").concat(Ot.oldVersion/10))}),this._maxKey=ya(Le.IDBKeyRange),this._createTransaction=function(Ot,Vt,Bt,Nt){return new ze.Transaction(Ot,Vt,Bt,ze._options.chromeTransactionDurability,Nt)},this._fireOnBlocked=function(Ot){ze.on("blocked").fire(Ot),Mi.filter(function(Vt){return Vt.name===ze.name&&Vt!==ze&&!Vt._state.vcFired}).map(function(Vt){return Vt.on("versionchange").fire(Ot)})},this.use(_o),this.use(ki),this.use(ys),this.use(xo),this.use(Jc);var Lt=new Proxy(this,{get:function(Ot,Vt,Bt){if(Vt==="_vip")return!0;if(Vt==="table")return function(Mt){return ea(ze.table(Mt),Lt)};var Nt=Reflect.get(Ot,Vt,Bt);return Nt instanceof x0?ea(Nt,Lt):Vt==="tables"?Nt.map(function(Mt){return ea(Mt,Lt)}):Vt==="_createTransaction"?function(){return ea(Nt.apply(this,arguments),Lt)}:Nt}});this.vip=Lt,Qe.forEach(function(Ot){return Ot(ze)})}var Nn,tn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",yi=(mo.prototype.subscribe=function(Re,Le,ze){return this._subscribe(Re&&typeof Re!="function"?Re:{next:Re,error:Le,complete:ze})},mo.prototype[tn]=function(){return this},mo);function mo(Re){this._subscribe=Re}try{Nn={indexedDB:f.indexedDB||f.mozIndexedDB||f.webkitIndexedDB||f.msIndexedDB,IDBKeyRange:f.IDBKeyRange||f.webkitIDBKeyRange}}catch{Nn={indexedDB:null,IDBKeyRange:null}}function Es(Re){var Le,ze=!1,Qe=new yi(function($e){var ot=ct(Re),_t,wt=!1,Rt={},Tt={},Lt={get closed(){return wt},unsubscribe:function(){wt||(wt=!0,_t&&_t.abort(),Ot&&Ii.storagemutated.unsubscribe(Bt))}};$e.start&&$e.start(Lt);var Ot=!1,Vt=function(){return zn(Nt)},Bt=function(Mt){Ui(Rt,Mt),qn(Tt,Rt)&&Vt()},Nt=function(){var Mt,qt,Gt;!wt&&Nn.indexedDB&&(Rt={},Mt={},_t&&_t.abort(),_t=new AbortController,Gt=function(Qt){var Yt=Tr();try{ot&&wn();var rr=dn(Re,Qt);return rr=ot?rr.finally(hn):rr}finally{Yt&&cn()}}(qt={subscr:Mt,signal:_t.signal,requery:Vt,querier:Re,trans:null}),Promise.resolve(Gt).then(function(Qt){ze=!0,Le=Qt,wt||qt.signal.aborted||(Rt={},function(Yt){for(var rr in Yt)if(_e(Yt,rr))return;return 1}(Tt=Mt)||Ot||(Ii(ga,Bt),Ot=!0),zn(function(){return!wt&&$e.next&&$e.next(Qt)}))},function(Qt){ze=!1,["DatabaseClosedError","AbortError"].includes(Qt==null?void 0:Qt.name)||wt||zn(function(){wt||$e.error&&$e.error(Qt)})}))};return setTimeout(Vt,0),Lt});return Qe.hasValue=function(){return ze},Qe.getValue=function(){return Le},Qe}var Oi=di;function ws(Re){var Le=Kn;try{Kn=!0,Ii.storagemutated.fire(Re),kn(Re,!0)}finally{Kn=Le}}De(Oi,i(i({},Jt),{delete:function(Re){return new Oi(Re,{addons:[]}).delete()},exists:function(Re){return new Oi(Re,{addons:[]}).open().then(function(Le){return Le.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(Re){try{return Le=Oi.dependencies,ze=Le.indexedDB,Le=Le.IDBKeyRange,(so(ze)?Promise.resolve(ze.databases()).then(function(Qe){return Qe.map(function($e){return $e.name}).filter(function($e){return $e!==Qa})}):oo(ze,Le).toCollection().primaryKeys()).then(Re)}catch{return vn(new lt.MissingAPI)}var Le,ze},defineClass:function(){return function(Re){Te(this,Re)}},ignoreTransaction:function(Re){return Cr.trans?xn(Cr.transless,Re):Re()},vip:co,async:function(Re){return function(){try{var Le=_n(Re.apply(this,arguments));return Le&&typeof Le.then=="function"?Le:wr.resolve(Le)}catch(ze){return vn(ze)}}},spawn:function(Re,Le,ze){try{var Qe=_n(Re.apply(ze,Le||[]));return Qe&&typeof Qe.then=="function"?Qe:wr.resolve(Qe)}catch($e){return vn($e)}},currentTransaction:{get:function(){return Cr.trans||null}},waitFor:function(Re,Le){return Le=wr.resolve(typeof Re=="function"?Oi.ignoreTransaction(Re):Re).timeout(Le||6e4),Cr.trans?Cr.trans.waitFor(Le):Le},Promise:wr,debug:{get:function(){return rt},set:function(Re){je(Re)}},derive:Be,extend:Te,props:De,override:We,Events:_a,on:Ii,liveQuery:Es,extendObservabilitySet:Ui,getByKeyPath:st,setByKeyPath:it,delByKeyPath:function(Re,Le){typeof Le=="string"?it(Re,Le,void 0):"length"in Le&&[].map.call(Le,function(ze){it(Re,ze,void 0)})},shallowClone:vt,deepClone:mt,getObjectDiff:Ci,cmp:Jr,asap:Ze,minKey:-1/0,addons:[],connections:Mi,errnames:Rr,dependencies:Nn,cache:ji,semVer:"4.0.8",version:"4.0.8".split(".").map(function(Re){return parseInt(Re)}).reduce(function(Re,Le,ze){return Re+Le/Math.pow(10,2*ze)})})),Oi.maxKey=ya(Oi.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Ii(ga,function(Re){Kn||(Re=new CustomEvent(ls,{detail:Re}),Kn=!0,dispatchEvent(Re),Kn=!1)}),addEventListener(ls,function(Re){Re=Re.detail,Kn||ws(Re)}));var Xn,Kn=!1,go=function(){};return typeof BroadcastChannel<"u"&&((go=function(){(Xn=new BroadcastChannel(ls)).onmessage=function(Re){return Re.data&&ws(Re.data)}})(),typeof Xn.unref=="function"&&Xn.unref(),Ii(ga,function(Re){Kn||Xn.postMessage(Re)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(Re){if(!di.disableBfCache&&Re.persisted){rt&&console.debug("Dexie: handling persisted pagehide"),Xn!=null&&Xn.close();for(var Le=0,ze=Mi;Le<ze.length;Le++)ze[Le].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(Re){!di.disableBfCache&&Re.persisted&&(rt&&console.debug("Dexie: handling persisted pageshow"),go(),ws({all:new Dn(-1/0,[[]])}))})),wr.rejectionMapper=function(Re,Le){return!Re||Re instanceof Pt||Re instanceof TypeError||Re instanceof SyntaxError||!Re.name||!yt[Re.name]?Re:(Le=new yt[Re.name](Le||Re.message,Re),"stack"in Re&&qe(Le,"stack",{get:function(){return this.inner.stack}}),Le)},je(rt),i(di,Object.freeze({__proto__:null,Dexie:di,liveQuery:Es,Entity:f0,cmp:Jr,PropModSymbol:mi,PropModification:ma,replacePrefix:function(Re,Le){return new ma({replacePrefix:[Re,Le]})},add:function(Re){return new ma({add:Re})},remove:function(Re){return new ma({remove:Re})},default:di,RangeSet:Dn,mergeRanges:Aa,rangesOverlap:S0}),{default:di}),di})})(dexie_min);var dexie_minExports=dexie_min.exports;const _Dexie=getDefaultExportFromCjs$1(dexie_minExports),DexieSymbol=Symbol.for("Dexie"),Dexie=globalThis[DexieSymbol]||(globalThis[DexieSymbol]=_Dexie);if(_Dexie.semVer!==Dexie.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${_Dexie.semVer} and ${Dexie.semVer}`);var cryptoJs={exports:{}};function commonjsRequire(_){throw new Error('Could not dynamically require "'+_+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var core={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredCore;function requireCore(){return hasRequiredCore||(hasRequiredCore=1,function(_,o){(function(e,i){_.exports=i()})(commonjsGlobal$1,function(){var e=e||function(i,c){var f;if(typeof window<"u"&&window.crypto&&(f=window.crypto),typeof self<"u"&&self.crypto&&(f=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(f=globalThis.crypto),!f&&typeof window<"u"&&window.msCrypto&&(f=window.msCrypto),!f&&typeof commonjsGlobal$1<"u"&&commonjsGlobal$1.crypto&&(f=commonjsGlobal$1.crypto),!f&&typeof commonjsRequire=="function")try{f=require$$0}catch{}var m=function(){if(f){if(typeof f.getRandomValues=="function")try{return f.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof f.randomBytes=="function")try{return f.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},g=Object.create||function(){function Ue(){}return function(We){var He;return Ue.prototype=We,He=new Ue,Ue.prototype=null,He}}(),Te={},Oe=Te.lib={},Ie=Oe.Base=function(){return{extend:function(Ue){var We=g(this);return Ue&&We.mixIn(Ue),(!We.hasOwnProperty("init")||this.init===We.init)&&(We.init=function(){We.$super.init.apply(this,arguments)}),We.init.prototype=We,We.$super=this,We},create:function(){var Ue=this.extend();return Ue.init.apply(Ue,arguments),Ue},init:function(){},mixIn:function(Ue){for(var We in Ue)Ue.hasOwnProperty(We)&&(this[We]=Ue[We]);Ue.hasOwnProperty("toString")&&(this.toString=Ue.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),_e=Oe.WordArray=Ie.extend({init:function(Ue,We){Ue=this.words=Ue||[],We!=c?this.sigBytes=We:this.sigBytes=Ue.length*4},toString:function(Ue){return(Ue||Ee).stringify(this)},concat:function(Ue){var We=this.words,He=Ue.words,Ze=this.sigBytes,st=Ue.sigBytes;if(this.clamp(),Ze%4)for(var it=0;it<st;it++){var vt=He[it>>>2]>>>24-it%4*8&255;We[Ze+it>>>2]|=vt<<24-(Ze+it)%4*8}else for(var gt=0;gt<st;gt+=4)We[Ze+gt>>>2]=He[gt>>>2];return this.sigBytes+=st,this},clamp:function(){var Ue=this.words,We=this.sigBytes;Ue[We>>>2]&=4294967295<<32-We%4*8,Ue.length=i.ceil(We/4)},clone:function(){var Ue=Ie.clone.call(this);return Ue.words=this.words.slice(0),Ue},random:function(Ue){for(var We=[],He=0;He<Ue;He+=4)We.push(m());return new _e.init(We,Ue)}}),De=Te.enc={},Ee=De.Hex={stringify:function(Ue){for(var We=Ue.words,He=Ue.sigBytes,Ze=[],st=0;st<He;st++){var it=We[st>>>2]>>>24-st%4*8&255;Ze.push((it>>>4).toString(16)),Ze.push((it&15).toString(16))}return Ze.join("")},parse:function(Ue){for(var We=Ue.length,He=[],Ze=0;Ze<We;Ze+=2)He[Ze>>>3]|=parseInt(Ue.substr(Ze,2),16)<<24-Ze%8*4;return new _e.init(He,We/2)}},qe=De.Latin1={stringify:function(Ue){for(var We=Ue.words,He=Ue.sigBytes,Ze=[],st=0;st<He;st++){var it=We[st>>>2]>>>24-st%4*8&255;Ze.push(String.fromCharCode(it))}return Ze.join("")},parse:function(Ue){for(var We=Ue.length,He=[],Ze=0;Ze<We;Ze++)He[Ze>>>2]|=(Ue.charCodeAt(Ze)&255)<<24-Ze%4*8;return new _e.init(He,We)}},Be=De.Utf8={stringify:function(Ue){try{return decodeURIComponent(escape(qe.stringify(Ue)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(Ue){return qe.parse(unescape(encodeURIComponent(Ue)))}},Ne=Oe.BufferedBlockAlgorithm=Ie.extend({reset:function(){this._data=new _e.init,this._nDataBytes=0},_append:function(Ue){typeof Ue=="string"&&(Ue=Be.parse(Ue)),this._data.concat(Ue),this._nDataBytes+=Ue.sigBytes},_process:function(Ue){var We,He=this._data,Ze=He.words,st=He.sigBytes,it=this.blockSize,vt=it*4,gt=st/vt;Ue?gt=i.ceil(gt):gt=i.max((gt|0)-this._minBufferSize,0);var tt=gt*it,pt=i.min(tt*4,st);if(tt){for(var nt=0;nt<tt;nt+=it)this._doProcessBlock(Ze,nt);We=Ze.splice(0,tt),He.sigBytes-=pt}return new _e.init(We,pt)},clone:function(){var Ue=Ie.clone.call(this);return Ue._data=this._data.clone(),Ue},_minBufferSize:0});Oe.Hasher=Ne.extend({cfg:Ie.extend(),init:function(Ue){this.cfg=this.cfg.extend(Ue),this.reset()},reset:function(){Ne.reset.call(this),this._doReset()},update:function(Ue){return this._append(Ue),this._process(),this},finalize:function(Ue){Ue&&this._append(Ue);var We=this._doFinalize();return We},blockSize:16,_createHelper:function(Ue){return function(We,He){return new Ue.init(He).finalize(We)}},_createHmacHelper:function(Ue){return function(We,He){return new Ve.HMAC.init(Ue,He).finalize(We)}}});var Ve=Te.algo={};return Te}(Math);return e})}(core)),core.exports}var x64Core={exports:{}},hasRequiredX64Core;function requireX64Core(){return hasRequiredX64Core||(hasRequiredX64Core=1,function(_,o){(function(e,i){_.exports=i(requireCore())})(commonjsGlobal$1,function(e){return function(i){var c=e,f=c.lib,m=f.Base,g=f.WordArray,Te=c.x64={};Te.Word=m.extend({init:function(Oe,Ie){this.high=Oe,this.low=Ie}}),Te.WordArray=m.extend({init:function(Oe,Ie){Oe=this.words=Oe||[],Ie!=i?this.sigBytes=Ie:this.sigBytes=Oe.length*8},toX32:function(){for(var Oe=this.words,Ie=Oe.length,_e=[],De=0;De<Ie;De++){var Ee=Oe[De];_e.push(Ee.high),_e.push(Ee.low)}return g.create(_e,this.sigBytes)},clone:function(){for(var Oe=m.clone.call(this),Ie=Oe.words=this.words.slice(0),_e=Ie.length,De=0;De<_e;De++)Ie[De]=Ie[De].clone();return Oe}})}(),e})}(x64Core)),x64Core.exports}var libTypedarrays={exports:{}},hasRequiredLibTypedarrays;function requireLibTypedarrays(){return hasRequiredLibTypedarrays||(hasRequiredLibTypedarrays=1,function(_,o){(function(e,i){_.exports=i(requireCore())})(commonjsGlobal$1,function(e){return function(){if(typeof ArrayBuffer=="function"){var i=e,c=i.lib,f=c.WordArray,m=f.init,g=f.init=function(Te){if(Te instanceof ArrayBuffer&&(Te=new Uint8Array(Te)),(Te instanceof Int8Array||typeof Uint8ClampedArray<"u"&&Te instanceof Uint8ClampedArray||Te instanceof Int16Array||Te instanceof Uint16Array||Te instanceof Int32Array||Te instanceof Uint32Array||Te instanceof Float32Array||Te instanceof Float64Array)&&(Te=new Uint8Array(Te.buffer,Te.byteOffset,Te.byteLength)),Te instanceof Uint8Array){for(var Oe=Te.byteLength,Ie=[],_e=0;_e<Oe;_e++)Ie[_e>>>2]|=Te[_e]<<24-_e%4*8;m.call(this,Ie,Oe)}else m.apply(this,arguments)};g.prototype=f}}(),e.lib.WordArray})}(libTypedarrays)),libTypedarrays.exports}var encUtf16={exports:{}},hasRequiredEncUtf16;function requireEncUtf16(){return hasRequiredEncUtf16||(hasRequiredEncUtf16=1,function(_,o){(function(e,i){_.exports=i(requireCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.WordArray,m=i.enc;m.Utf16=m.Utf16BE={stringify:function(Te){for(var Oe=Te.words,Ie=Te.sigBytes,_e=[],De=0;De<Ie;De+=2){var Ee=Oe[De>>>2]>>>16-De%4*8&65535;_e.push(String.fromCharCode(Ee))}return _e.join("")},parse:function(Te){for(var Oe=Te.length,Ie=[],_e=0;_e<Oe;_e++)Ie[_e>>>1]|=Te.charCodeAt(_e)<<16-_e%2*16;return f.create(Ie,Oe*2)}},m.Utf16LE={stringify:function(Te){for(var Oe=Te.words,Ie=Te.sigBytes,_e=[],De=0;De<Ie;De+=2){var Ee=g(Oe[De>>>2]>>>16-De%4*8&65535);_e.push(String.fromCharCode(Ee))}return _e.join("")},parse:function(Te){for(var Oe=Te.length,Ie=[],_e=0;_e<Oe;_e++)Ie[_e>>>1]|=g(Te.charCodeAt(_e)<<16-_e%2*16);return f.create(Ie,Oe*2)}};function g(Te){return Te<<8&4278255360|Te>>>8&16711935}}(),e.enc.Utf16})}(encUtf16)),encUtf16.exports}var encBase64={exports:{}},hasRequiredEncBase64;function requireEncBase64(){return hasRequiredEncBase64||(hasRequiredEncBase64=1,function(_,o){(function(e,i){_.exports=i(requireCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.WordArray,m=i.enc;m.Base64={stringify:function(Te){var Oe=Te.words,Ie=Te.sigBytes,_e=this._map;Te.clamp();for(var De=[],Ee=0;Ee<Ie;Ee+=3)for(var qe=Oe[Ee>>>2]>>>24-Ee%4*8&255,Be=Oe[Ee+1>>>2]>>>24-(Ee+1)%4*8&255,Ne=Oe[Ee+2>>>2]>>>24-(Ee+2)%4*8&255,Ve=qe<<16|Be<<8|Ne,Ue=0;Ue<4&&Ee+Ue*.75<Ie;Ue++)De.push(_e.charAt(Ve>>>6*(3-Ue)&63));var We=_e.charAt(64);if(We)for(;De.length%4;)De.push(We);return De.join("")},parse:function(Te){var Oe=Te.length,Ie=this._map,_e=this._reverseMap;if(!_e){_e=this._reverseMap=[];for(var De=0;De<Ie.length;De++)_e[Ie.charCodeAt(De)]=De}var Ee=Ie.charAt(64);if(Ee){var qe=Te.indexOf(Ee);qe!==-1&&(Oe=qe)}return g(Te,Oe,_e)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function g(Te,Oe,Ie){for(var _e=[],De=0,Ee=0;Ee<Oe;Ee++)if(Ee%4){var qe=Ie[Te.charCodeAt(Ee-1)]<<Ee%4*2,Be=Ie[Te.charCodeAt(Ee)]>>>6-Ee%4*2,Ne=qe|Be;_e[De>>>2]|=Ne<<24-De%4*8,De++}return f.create(_e,De)}}(),e.enc.Base64})}(encBase64)),encBase64.exports}var encBase64url={exports:{}},hasRequiredEncBase64url;function requireEncBase64url(){return hasRequiredEncBase64url||(hasRequiredEncBase64url=1,function(_,o){(function(e,i){_.exports=i(requireCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.WordArray,m=i.enc;m.Base64url={stringify:function(Te,Oe){Oe===void 0&&(Oe=!0);var Ie=Te.words,_e=Te.sigBytes,De=Oe?this._safe_map:this._map;Te.clamp();for(var Ee=[],qe=0;qe<_e;qe+=3)for(var Be=Ie[qe>>>2]>>>24-qe%4*8&255,Ne=Ie[qe+1>>>2]>>>24-(qe+1)%4*8&255,Ve=Ie[qe+2>>>2]>>>24-(qe+2)%4*8&255,Ue=Be<<16|Ne<<8|Ve,We=0;We<4&&qe+We*.75<_e;We++)Ee.push(De.charAt(Ue>>>6*(3-We)&63));var He=De.charAt(64);if(He)for(;Ee.length%4;)Ee.push(He);return Ee.join("")},parse:function(Te,Oe){Oe===void 0&&(Oe=!0);var Ie=Te.length,_e=Oe?this._safe_map:this._map,De=this._reverseMap;if(!De){De=this._reverseMap=[];for(var Ee=0;Ee<_e.length;Ee++)De[_e.charCodeAt(Ee)]=Ee}var qe=_e.charAt(64);if(qe){var Be=Te.indexOf(qe);Be!==-1&&(Ie=Be)}return g(Te,Ie,De)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function g(Te,Oe,Ie){for(var _e=[],De=0,Ee=0;Ee<Oe;Ee++)if(Ee%4){var qe=Ie[Te.charCodeAt(Ee-1)]<<Ee%4*2,Be=Ie[Te.charCodeAt(Ee)]>>>6-Ee%4*2,Ne=qe|Be;_e[De>>>2]|=Ne<<24-De%4*8,De++}return f.create(_e,De)}}(),e.enc.Base64url})}(encBase64url)),encBase64url.exports}var md5={exports:{}},hasRequiredMd5;function requireMd5(){return hasRequiredMd5||(hasRequiredMd5=1,function(_,o){(function(e,i){_.exports=i(requireCore())})(commonjsGlobal$1,function(e){return function(i){var c=e,f=c.lib,m=f.WordArray,g=f.Hasher,Te=c.algo,Oe=[];(function(){for(var Be=0;Be<64;Be++)Oe[Be]=i.abs(i.sin(Be+1))*4294967296|0})();var Ie=Te.MD5=g.extend({_doReset:function(){this._hash=new m.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(Be,Ne){for(var Ve=0;Ve<16;Ve++){var Ue=Ne+Ve,We=Be[Ue];Be[Ue]=(We<<8|We>>>24)&16711935|(We<<24|We>>>8)&4278255360}var He=this._hash.words,Ze=Be[Ne+0],st=Be[Ne+1],it=Be[Ne+2],vt=Be[Ne+3],gt=Be[Ne+4],tt=Be[Ne+5],pt=Be[Ne+6],nt=Be[Ne+7],mt=Be[Ne+8],Je=Be[Ne+9],Ft=Be[Ne+10],Zt=Be[Ne+11],jt=Be[Ne+12],cr=Be[Ne+13],bt=Be[Ne+14],St=Be[Ne+15],ct=He[0],dt=He[1],Pt=He[2],Ct=He[3];ct=_e(ct,dt,Pt,Ct,Ze,7,Oe[0]),Ct=_e(Ct,ct,dt,Pt,st,12,Oe[1]),Pt=_e(Pt,Ct,ct,dt,it,17,Oe[2]),dt=_e(dt,Pt,Ct,ct,vt,22,Oe[3]),ct=_e(ct,dt,Pt,Ct,gt,7,Oe[4]),Ct=_e(Ct,ct,dt,Pt,tt,12,Oe[5]),Pt=_e(Pt,Ct,ct,dt,pt,17,Oe[6]),dt=_e(dt,Pt,Ct,ct,nt,22,Oe[7]),ct=_e(ct,dt,Pt,Ct,mt,7,Oe[8]),Ct=_e(Ct,ct,dt,Pt,Je,12,Oe[9]),Pt=_e(Pt,Ct,ct,dt,Ft,17,Oe[10]),dt=_e(dt,Pt,Ct,ct,Zt,22,Oe[11]),ct=_e(ct,dt,Pt,Ct,jt,7,Oe[12]),Ct=_e(Ct,ct,dt,Pt,cr,12,Oe[13]),Pt=_e(Pt,Ct,ct,dt,bt,17,Oe[14]),dt=_e(dt,Pt,Ct,ct,St,22,Oe[15]),ct=De(ct,dt,Pt,Ct,st,5,Oe[16]),Ct=De(Ct,ct,dt,Pt,pt,9,Oe[17]),Pt=De(Pt,Ct,ct,dt,Zt,14,Oe[18]),dt=De(dt,Pt,Ct,ct,Ze,20,Oe[19]),ct=De(ct,dt,Pt,Ct,tt,5,Oe[20]),Ct=De(Ct,ct,dt,Pt,Ft,9,Oe[21]),Pt=De(Pt,Ct,ct,dt,St,14,Oe[22]),dt=De(dt,Pt,Ct,ct,gt,20,Oe[23]),ct=De(ct,dt,Pt,Ct,Je,5,Oe[24]),Ct=De(Ct,ct,dt,Pt,bt,9,Oe[25]),Pt=De(Pt,Ct,ct,dt,vt,14,Oe[26]),dt=De(dt,Pt,Ct,ct,mt,20,Oe[27]),ct=De(ct,dt,Pt,Ct,cr,5,Oe[28]),Ct=De(Ct,ct,dt,Pt,it,9,Oe[29]),Pt=De(Pt,Ct,ct,dt,nt,14,Oe[30]),dt=De(dt,Pt,Ct,ct,jt,20,Oe[31]),ct=Ee(ct,dt,Pt,Ct,tt,4,Oe[32]),Ct=Ee(Ct,ct,dt,Pt,mt,11,Oe[33]),Pt=Ee(Pt,Ct,ct,dt,Zt,16,Oe[34]),dt=Ee(dt,Pt,Ct,ct,bt,23,Oe[35]),ct=Ee(ct,dt,Pt,Ct,st,4,Oe[36]),Ct=Ee(Ct,ct,dt,Pt,gt,11,Oe[37]),Pt=Ee(Pt,Ct,ct,dt,nt,16,Oe[38]),dt=Ee(dt,Pt,Ct,ct,Ft,23,Oe[39]),ct=Ee(ct,dt,Pt,Ct,cr,4,Oe[40]),Ct=Ee(Ct,ct,dt,Pt,Ze,11,Oe[41]),Pt=Ee(Pt,Ct,ct,dt,vt,16,Oe[42]),dt=Ee(dt,Pt,Ct,ct,pt,23,Oe[43]),ct=Ee(ct,dt,Pt,Ct,Je,4,Oe[44]),Ct=Ee(Ct,ct,dt,Pt,jt,11,Oe[45]),Pt=Ee(Pt,Ct,ct,dt,St,16,Oe[46]),dt=Ee(dt,Pt,Ct,ct,it,23,Oe[47]),ct=qe(ct,dt,Pt,Ct,Ze,6,Oe[48]),Ct=qe(Ct,ct,dt,Pt,nt,10,Oe[49]),Pt=qe(Pt,Ct,ct,dt,bt,15,Oe[50]),dt=qe(dt,Pt,Ct,ct,tt,21,Oe[51]),ct=qe(ct,dt,Pt,Ct,jt,6,Oe[52]),Ct=qe(Ct,ct,dt,Pt,vt,10,Oe[53]),Pt=qe(Pt,Ct,ct,dt,Ft,15,Oe[54]),dt=qe(dt,Pt,Ct,ct,st,21,Oe[55]),ct=qe(ct,dt,Pt,Ct,mt,6,Oe[56]),Ct=qe(Ct,ct,dt,Pt,St,10,Oe[57]),Pt=qe(Pt,Ct,ct,dt,pt,15,Oe[58]),dt=qe(dt,Pt,Ct,ct,cr,21,Oe[59]),ct=qe(ct,dt,Pt,Ct,gt,6,Oe[60]),Ct=qe(Ct,ct,dt,Pt,Zt,10,Oe[61]),Pt=qe(Pt,Ct,ct,dt,it,15,Oe[62]),dt=qe(dt,Pt,Ct,ct,Je,21,Oe[63]),He[0]=He[0]+ct|0,He[1]=He[1]+dt|0,He[2]=He[2]+Pt|0,He[3]=He[3]+Ct|0},_doFinalize:function(){var Be=this._data,Ne=Be.words,Ve=this._nDataBytes*8,Ue=Be.sigBytes*8;Ne[Ue>>>5]|=128<<24-Ue%32;var We=i.floor(Ve/4294967296),He=Ve;Ne[(Ue+64>>>9<<4)+15]=(We<<8|We>>>24)&16711935|(We<<24|We>>>8)&4278255360,Ne[(Ue+64>>>9<<4)+14]=(He<<8|He>>>24)&16711935|(He<<24|He>>>8)&4278255360,Be.sigBytes=(Ne.length+1)*4,this._process();for(var Ze=this._hash,st=Ze.words,it=0;it<4;it++){var vt=st[it];st[it]=(vt<<8|vt>>>24)&16711935|(vt<<24|vt>>>8)&4278255360}return Ze},clone:function(){var Be=g.clone.call(this);return Be._hash=this._hash.clone(),Be}});function _e(Be,Ne,Ve,Ue,We,He,Ze){var st=Be+(Ne&Ve|~Ne&Ue)+We+Ze;return(st<<He|st>>>32-He)+Ne}function De(Be,Ne,Ve,Ue,We,He,Ze){var st=Be+(Ne&Ue|Ve&~Ue)+We+Ze;return(st<<He|st>>>32-He)+Ne}function Ee(Be,Ne,Ve,Ue,We,He,Ze){var st=Be+(Ne^Ve^Ue)+We+Ze;return(st<<He|st>>>32-He)+Ne}function qe(Be,Ne,Ve,Ue,We,He,Ze){var st=Be+(Ve^(Ne|~Ue))+We+Ze;return(st<<He|st>>>32-He)+Ne}c.MD5=g._createHelper(Ie),c.HmacMD5=g._createHmacHelper(Ie)}(Math),e.MD5})}(md5)),md5.exports}var sha1={exports:{}},hasRequiredSha1;function requireSha1(){return hasRequiredSha1||(hasRequiredSha1=1,function(_,o){(function(e,i){_.exports=i(requireCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.WordArray,m=c.Hasher,g=i.algo,Te=[],Oe=g.SHA1=m.extend({_doReset:function(){this._hash=new f.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(Ie,_e){for(var De=this._hash.words,Ee=De[0],qe=De[1],Be=De[2],Ne=De[3],Ve=De[4],Ue=0;Ue<80;Ue++){if(Ue<16)Te[Ue]=Ie[_e+Ue]|0;else{var We=Te[Ue-3]^Te[Ue-8]^Te[Ue-14]^Te[Ue-16];Te[Ue]=We<<1|We>>>31}var He=(Ee<<5|Ee>>>27)+Ve+Te[Ue];Ue<20?He+=(qe&Be|~qe&Ne)+1518500249:Ue<40?He+=(qe^Be^Ne)+1859775393:Ue<60?He+=(qe&Be|qe&Ne|Be&Ne)-1894007588:He+=(qe^Be^Ne)-899497514,Ve=Ne,Ne=Be,Be=qe<<30|qe>>>2,qe=Ee,Ee=He}De[0]=De[0]+Ee|0,De[1]=De[1]+qe|0,De[2]=De[2]+Be|0,De[3]=De[3]+Ne|0,De[4]=De[4]+Ve|0},_doFinalize:function(){var Ie=this._data,_e=Ie.words,De=this._nDataBytes*8,Ee=Ie.sigBytes*8;return _e[Ee>>>5]|=128<<24-Ee%32,_e[(Ee+64>>>9<<4)+14]=Math.floor(De/4294967296),_e[(Ee+64>>>9<<4)+15]=De,Ie.sigBytes=_e.length*4,this._process(),this._hash},clone:function(){var Ie=m.clone.call(this);return Ie._hash=this._hash.clone(),Ie}});i.SHA1=m._createHelper(Oe),i.HmacSHA1=m._createHmacHelper(Oe)}(),e.SHA1})}(sha1)),sha1.exports}var sha256={exports:{}},hasRequiredSha256;function requireSha256(){return hasRequiredSha256||(hasRequiredSha256=1,function(_,o){(function(e,i){_.exports=i(requireCore())})(commonjsGlobal$1,function(e){return function(i){var c=e,f=c.lib,m=f.WordArray,g=f.Hasher,Te=c.algo,Oe=[],Ie=[];(function(){function Ee(Ve){for(var Ue=i.sqrt(Ve),We=2;We<=Ue;We++)if(!(Ve%We))return!1;return!0}function qe(Ve){return(Ve-(Ve|0))*4294967296|0}for(var Be=2,Ne=0;Ne<64;)Ee(Be)&&(Ne<8&&(Oe[Ne]=qe(i.pow(Be,1/2))),Ie[Ne]=qe(i.pow(Be,1/3)),Ne++),Be++})();var _e=[],De=Te.SHA256=g.extend({_doReset:function(){this._hash=new m.init(Oe.slice(0))},_doProcessBlock:function(Ee,qe){for(var Be=this._hash.words,Ne=Be[0],Ve=Be[1],Ue=Be[2],We=Be[3],He=Be[4],Ze=Be[5],st=Be[6],it=Be[7],vt=0;vt<64;vt++){if(vt<16)_e[vt]=Ee[qe+vt]|0;else{var gt=_e[vt-15],tt=(gt<<25|gt>>>7)^(gt<<14|gt>>>18)^gt>>>3,pt=_e[vt-2],nt=(pt<<15|pt>>>17)^(pt<<13|pt>>>19)^pt>>>10;_e[vt]=tt+_e[vt-7]+nt+_e[vt-16]}var mt=He&Ze^~He&st,Je=Ne&Ve^Ne&Ue^Ve&Ue,Ft=(Ne<<30|Ne>>>2)^(Ne<<19|Ne>>>13)^(Ne<<10|Ne>>>22),Zt=(He<<26|He>>>6)^(He<<21|He>>>11)^(He<<7|He>>>25),jt=it+Zt+mt+Ie[vt]+_e[vt],cr=Ft+Je;it=st,st=Ze,Ze=He,He=We+jt|0,We=Ue,Ue=Ve,Ve=Ne,Ne=jt+cr|0}Be[0]=Be[0]+Ne|0,Be[1]=Be[1]+Ve|0,Be[2]=Be[2]+Ue|0,Be[3]=Be[3]+We|0,Be[4]=Be[4]+He|0,Be[5]=Be[5]+Ze|0,Be[6]=Be[6]+st|0,Be[7]=Be[7]+it|0},_doFinalize:function(){var Ee=this._data,qe=Ee.words,Be=this._nDataBytes*8,Ne=Ee.sigBytes*8;return qe[Ne>>>5]|=128<<24-Ne%32,qe[(Ne+64>>>9<<4)+14]=i.floor(Be/4294967296),qe[(Ne+64>>>9<<4)+15]=Be,Ee.sigBytes=qe.length*4,this._process(),this._hash},clone:function(){var Ee=g.clone.call(this);return Ee._hash=this._hash.clone(),Ee}});c.SHA256=g._createHelper(De),c.HmacSHA256=g._createHmacHelper(De)}(Math),e.SHA256})}(sha256)),sha256.exports}var sha224={exports:{}},hasRequiredSha224;function requireSha224(){return hasRequiredSha224||(hasRequiredSha224=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireSha256())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.WordArray,m=i.algo,g=m.SHA256,Te=m.SHA224=g.extend({_doReset:function(){this._hash=new f.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var Oe=g._doFinalize.call(this);return Oe.sigBytes-=4,Oe}});i.SHA224=g._createHelper(Te),i.HmacSHA224=g._createHmacHelper(Te)}(),e.SHA224})}(sha224)),sha224.exports}var sha512={exports:{}},hasRequiredSha512;function requireSha512(){return hasRequiredSha512||(hasRequiredSha512=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireX64Core())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.Hasher,m=i.x64,g=m.Word,Te=m.WordArray,Oe=i.algo;function Ie(){return g.create.apply(g,arguments)}var _e=[Ie(1116352408,3609767458),Ie(1899447441,602891725),Ie(3049323471,3964484399),Ie(3921009573,2173295548),Ie(961987163,4081628472),Ie(1508970993,3053834265),Ie(2453635748,2937671579),Ie(2870763221,3664609560),Ie(3624381080,2734883394),Ie(310598401,1164996542),Ie(607225278,1323610764),Ie(1426881987,3590304994),Ie(1925078388,4068182383),Ie(2162078206,991336113),Ie(2614888103,633803317),Ie(3248222580,3479774868),Ie(3835390401,2666613458),Ie(4022224774,944711139),Ie(264347078,2341262773),Ie(604807628,2007800933),Ie(770255983,1495990901),Ie(1249150122,1856431235),Ie(1555081692,3175218132),Ie(1996064986,2198950837),Ie(2554220882,3999719339),Ie(2821834349,766784016),Ie(2952996808,2566594879),Ie(3210313671,3203337956),Ie(3336571891,1034457026),Ie(3584528711,2466948901),Ie(113926993,3758326383),Ie(338241895,168717936),Ie(666307205,1188179964),Ie(773529912,1546045734),Ie(1294757372,1522805485),Ie(1396182291,2643833823),Ie(1695183700,2343527390),Ie(1986661051,1014477480),Ie(2177026350,1206759142),Ie(2456956037,344077627),Ie(2730485921,1290863460),Ie(2820302411,3158454273),Ie(3259730800,3505952657),Ie(3345764771,106217008),Ie(3516065817,3606008344),Ie(3600352804,1432725776),Ie(4094571909,1467031594),Ie(275423344,851169720),Ie(430227734,3100823752),Ie(506948616,1363258195),Ie(659060556,3750685593),Ie(883997877,3785050280),Ie(958139571,3318307427),Ie(1322822218,3812723403),Ie(1537002063,2003034995),Ie(1747873779,3602036899),Ie(1955562222,1575990012),Ie(2024104815,1125592928),Ie(2227730452,2716904306),Ie(2361852424,442776044),Ie(2428436474,593698344),Ie(2756734187,3733110249),Ie(3204031479,2999351573),Ie(3329325298,3815920427),Ie(3391569614,3928383900),Ie(3515267271,566280711),Ie(3940187606,3454069534),Ie(4118630271,4000239992),Ie(116418474,1914138554),Ie(174292421,2731055270),Ie(289380356,3203993006),Ie(460393269,320620315),Ie(685471733,587496836),Ie(852142971,1086792851),Ie(1017036298,365543100),Ie(1126000580,2618297676),Ie(1288033470,3409855158),Ie(1501505948,4234509866),Ie(1607167915,987167468),Ie(1816402316,1246189591)],De=[];(function(){for(var qe=0;qe<80;qe++)De[qe]=Ie()})();var Ee=Oe.SHA512=f.extend({_doReset:function(){this._hash=new Te.init([new g.init(1779033703,4089235720),new g.init(3144134277,2227873595),new g.init(1013904242,4271175723),new g.init(2773480762,1595750129),new g.init(1359893119,2917565137),new g.init(2600822924,725511199),new g.init(528734635,4215389547),new g.init(1541459225,327033209)])},_doProcessBlock:function(qe,Be){for(var Ne=this._hash.words,Ve=Ne[0],Ue=Ne[1],We=Ne[2],He=Ne[3],Ze=Ne[4],st=Ne[5],it=Ne[6],vt=Ne[7],gt=Ve.high,tt=Ve.low,pt=Ue.high,nt=Ue.low,mt=We.high,Je=We.low,Ft=He.high,Zt=He.low,jt=Ze.high,cr=Ze.low,bt=st.high,St=st.low,ct=it.high,dt=it.low,Pt=vt.high,Ct=vt.low,Kt=gt,fr=tt,Rr=pt,sr=nt,lt=mt,yt=Je,Jt=Ft,$t=Zt,dr=jt,Xe=cr,At=bt,Wt=St,ht=ct,xt=dt,Dt=Pt,er=Ct,rt=0;rt<80;rt++){var je,Ke,ut=De[rt];if(rt<16)Ke=ut.high=qe[Be+rt*2]|0,je=ut.low=qe[Be+rt*2+1]|0;else{var Et=De[rt-15],It=Et.high,zt=Et.low,tr=(It>>>1|zt<<31)^(It>>>8|zt<<24)^It>>>7,Sr=(zt>>>1|It<<31)^(zt>>>8|It<<24)^(zt>>>7|It<<25),Lr=De[rt-2],Pr=Lr.high,Er=Lr.low,gr=(Pr>>>19|Er<<13)^(Pr<<3|Er>>>29)^Pr>>>6,Qr=(Er>>>19|Pr<<13)^(Er<<3|Pr>>>29)^(Er>>>6|Pr<<26),Cr=De[rt-7],on=Cr.high,Bn=Cr.low,Un=De[rt-16],wr=Un.high,Xt=Un.low;je=Sr+Bn,Ke=tr+on+(je>>>0<Sr>>>0?1:0),je=je+Qr,Ke=Ke+gr+(je>>>0<Qr>>>0?1:0),je=je+Xt,Ke=Ke+wr+(je>>>0<Xt>>>0?1:0),ut.high=Ke,ut.low=je}var yr=dr&At^~dr&ht,at=Xe&Wt^~Xe&xt,Or=Kt&Rr^Kt&lt^Rr&lt,en=fr&sr^fr&yt^sr&yt,kr=(Kt>>>28|fr<<4)^(Kt<<30|fr>>>2)^(Kt<<25|fr>>>7),Pn=(fr>>>28|Kt<<4)^(fr<<30|Kt>>>2)^(fr<<25|Kt>>>7),Tr=(dr>>>14|Xe<<18)^(dr>>>18|Xe<<14)^(dr<<23|Xe>>>9),cn=(Xe>>>14|dr<<18)^(Xe>>>18|dr<<14)^(Xe<<23|dr>>>9),or=_e[rt],ar=or.high,Zr=or.low,qr=er+cn,Dr=Dt+Tr+(qr>>>0<er>>>0?1:0),qr=qr+at,Dr=Dr+yr+(qr>>>0<at>>>0?1:0),qr=qr+Zr,Dr=Dr+ar+(qr>>>0<Zr>>>0?1:0),qr=qr+je,Dr=Dr+Ke+(qr>>>0<je>>>0?1:0),Wn=Pn+en,jn=kr+Or+(Wn>>>0<Pn>>>0?1:0);Dt=ht,er=xt,ht=At,xt=Wt,At=dr,Wt=Xe,Xe=$t+qr|0,dr=Jt+Dr+(Xe>>>0<$t>>>0?1:0)|0,Jt=lt,$t=yt,lt=Rr,yt=sr,Rr=Kt,sr=fr,fr=qr+Wn|0,Kt=Dr+jn+(fr>>>0<qr>>>0?1:0)|0}tt=Ve.low=tt+fr,Ve.high=gt+Kt+(tt>>>0<fr>>>0?1:0),nt=Ue.low=nt+sr,Ue.high=pt+Rr+(nt>>>0<sr>>>0?1:0),Je=We.low=Je+yt,We.high=mt+lt+(Je>>>0<yt>>>0?1:0),Zt=He.low=Zt+$t,He.high=Ft+Jt+(Zt>>>0<$t>>>0?1:0),cr=Ze.low=cr+Xe,Ze.high=jt+dr+(cr>>>0<Xe>>>0?1:0),St=st.low=St+Wt,st.high=bt+At+(St>>>0<Wt>>>0?1:0),dt=it.low=dt+xt,it.high=ct+ht+(dt>>>0<xt>>>0?1:0),Ct=vt.low=Ct+er,vt.high=Pt+Dt+(Ct>>>0<er>>>0?1:0)},_doFinalize:function(){var qe=this._data,Be=qe.words,Ne=this._nDataBytes*8,Ve=qe.sigBytes*8;Be[Ve>>>5]|=128<<24-Ve%32,Be[(Ve+128>>>10<<5)+30]=Math.floor(Ne/4294967296),Be[(Ve+128>>>10<<5)+31]=Ne,qe.sigBytes=Be.length*4,this._process();var Ue=this._hash.toX32();return Ue},clone:function(){var qe=f.clone.call(this);return qe._hash=this._hash.clone(),qe},blockSize:1024/32});i.SHA512=f._createHelper(Ee),i.HmacSHA512=f._createHmacHelper(Ee)}(),e.SHA512})}(sha512)),sha512.exports}var sha384={exports:{}},hasRequiredSha384;function requireSha384(){return hasRequiredSha384||(hasRequiredSha384=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireX64Core(),requireSha512())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.x64,f=c.Word,m=c.WordArray,g=i.algo,Te=g.SHA512,Oe=g.SHA384=Te.extend({_doReset:function(){this._hash=new m.init([new f.init(3418070365,3238371032),new f.init(1654270250,914150663),new f.init(2438529370,812702999),new f.init(355462360,4144912697),new f.init(1731405415,4290775857),new f.init(2394180231,1750603025),new f.init(3675008525,1694076839),new f.init(1203062813,3204075428)])},_doFinalize:function(){var Ie=Te._doFinalize.call(this);return Ie.sigBytes-=16,Ie}});i.SHA384=Te._createHelper(Oe),i.HmacSHA384=Te._createHmacHelper(Oe)}(),e.SHA384})}(sha384)),sha384.exports}var sha3={exports:{}},hasRequiredSha3;function requireSha3(){return hasRequiredSha3||(hasRequiredSha3=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireX64Core())})(commonjsGlobal$1,function(e){return function(i){var c=e,f=c.lib,m=f.WordArray,g=f.Hasher,Te=c.x64,Oe=Te.Word,Ie=c.algo,_e=[],De=[],Ee=[];(function(){for(var Ne=1,Ve=0,Ue=0;Ue<24;Ue++){_e[Ne+5*Ve]=(Ue+1)*(Ue+2)/2%64;var We=Ve%5,He=(2*Ne+3*Ve)%5;Ne=We,Ve=He}for(var Ne=0;Ne<5;Ne++)for(var Ve=0;Ve<5;Ve++)De[Ne+5*Ve]=Ve+(2*Ne+3*Ve)%5*5;for(var Ze=1,st=0;st<24;st++){for(var it=0,vt=0,gt=0;gt<7;gt++){if(Ze&1){var tt=(1<<gt)-1;tt<32?vt^=1<<tt:it^=1<<tt-32}Ze&128?Ze=Ze<<1^113:Ze<<=1}Ee[st]=Oe.create(it,vt)}})();var qe=[];(function(){for(var Ne=0;Ne<25;Ne++)qe[Ne]=Oe.create()})();var Be=Ie.SHA3=g.extend({cfg:g.cfg.extend({outputLength:512}),_doReset:function(){for(var Ne=this._state=[],Ve=0;Ve<25;Ve++)Ne[Ve]=new Oe.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(Ne,Ve){for(var Ue=this._state,We=this.blockSize/2,He=0;He<We;He++){var Ze=Ne[Ve+2*He],st=Ne[Ve+2*He+1];Ze=(Ze<<8|Ze>>>24)&16711935|(Ze<<24|Ze>>>8)&4278255360,st=(st<<8|st>>>24)&16711935|(st<<24|st>>>8)&4278255360;var it=Ue[He];it.high^=st,it.low^=Ze}for(var vt=0;vt<24;vt++){for(var gt=0;gt<5;gt++){for(var tt=0,pt=0,nt=0;nt<5;nt++){var it=Ue[gt+5*nt];tt^=it.high,pt^=it.low}var mt=qe[gt];mt.high=tt,mt.low=pt}for(var gt=0;gt<5;gt++)for(var Je=qe[(gt+4)%5],Ft=qe[(gt+1)%5],Zt=Ft.high,jt=Ft.low,tt=Je.high^(Zt<<1|jt>>>31),pt=Je.low^(jt<<1|Zt>>>31),nt=0;nt<5;nt++){var it=Ue[gt+5*nt];it.high^=tt,it.low^=pt}for(var cr=1;cr<25;cr++){var tt,pt,it=Ue[cr],bt=it.high,St=it.low,ct=_e[cr];ct<32?(tt=bt<<ct|St>>>32-ct,pt=St<<ct|bt>>>32-ct):(tt=St<<ct-32|bt>>>64-ct,pt=bt<<ct-32|St>>>64-ct);var dt=qe[De[cr]];dt.high=tt,dt.low=pt}var Pt=qe[0],Ct=Ue[0];Pt.high=Ct.high,Pt.low=Ct.low;for(var gt=0;gt<5;gt++)for(var nt=0;nt<5;nt++){var cr=gt+5*nt,it=Ue[cr],Kt=qe[cr],fr=qe[(gt+1)%5+5*nt],Rr=qe[(gt+2)%5+5*nt];it.high=Kt.high^~fr.high&Rr.high,it.low=Kt.low^~fr.low&Rr.low}var it=Ue[0],sr=Ee[vt];it.high^=sr.high,it.low^=sr.low}},_doFinalize:function(){var Ne=this._data,Ve=Ne.words;this._nDataBytes*8;var Ue=Ne.sigBytes*8,We=this.blockSize*32;Ve[Ue>>>5]|=1<<24-Ue%32,Ve[(i.ceil((Ue+1)/We)*We>>>5)-1]|=128,Ne.sigBytes=Ve.length*4,this._process();for(var He=this._state,Ze=this.cfg.outputLength/8,st=Ze/8,it=[],vt=0;vt<st;vt++){var gt=He[vt],tt=gt.high,pt=gt.low;tt=(tt<<8|tt>>>24)&16711935|(tt<<24|tt>>>8)&4278255360,pt=(pt<<8|pt>>>24)&16711935|(pt<<24|pt>>>8)&4278255360,it.push(pt),it.push(tt)}return new m.init(it,Ze)},clone:function(){for(var Ne=g.clone.call(this),Ve=Ne._state=this._state.slice(0),Ue=0;Ue<25;Ue++)Ve[Ue]=Ve[Ue].clone();return Ne}});c.SHA3=g._createHelper(Be),c.HmacSHA3=g._createHmacHelper(Be)}(Math),e.SHA3})}(sha3)),sha3.exports}var ripemd160={exports:{}},hasRequiredRipemd160;function requireRipemd160(){return hasRequiredRipemd160||(hasRequiredRipemd160=1,function(_,o){(function(e,i){_.exports=i(requireCore())})(commonjsGlobal$1,function(e){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(i){var c=e,f=c.lib,m=f.WordArray,g=f.Hasher,Te=c.algo,Oe=m.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),Ie=m.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),_e=m.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),De=m.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),Ee=m.create([0,1518500249,1859775393,2400959708,2840853838]),qe=m.create([1352829926,1548603684,1836072691,2053994217,0]),Be=Te.RIPEMD160=g.extend({_doReset:function(){this._hash=m.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(st,it){for(var vt=0;vt<16;vt++){var gt=it+vt,tt=st[gt];st[gt]=(tt<<8|tt>>>24)&16711935|(tt<<24|tt>>>8)&4278255360}var pt=this._hash.words,nt=Ee.words,mt=qe.words,Je=Oe.words,Ft=Ie.words,Zt=_e.words,jt=De.words,cr,bt,St,ct,dt,Pt,Ct,Kt,fr,Rr;Pt=cr=pt[0],Ct=bt=pt[1],Kt=St=pt[2],fr=ct=pt[3],Rr=dt=pt[4];for(var sr,vt=0;vt<80;vt+=1)sr=cr+st[it+Je[vt]]|0,vt<16?sr+=Ne(bt,St,ct)+nt[0]:vt<32?sr+=Ve(bt,St,ct)+nt[1]:vt<48?sr+=Ue(bt,St,ct)+nt[2]:vt<64?sr+=We(bt,St,ct)+nt[3]:sr+=He(bt,St,ct)+nt[4],sr=sr|0,sr=Ze(sr,Zt[vt]),sr=sr+dt|0,cr=dt,dt=ct,ct=Ze(St,10),St=bt,bt=sr,sr=Pt+st[it+Ft[vt]]|0,vt<16?sr+=He(Ct,Kt,fr)+mt[0]:vt<32?sr+=We(Ct,Kt,fr)+mt[1]:vt<48?sr+=Ue(Ct,Kt,fr)+mt[2]:vt<64?sr+=Ve(Ct,Kt,fr)+mt[3]:sr+=Ne(Ct,Kt,fr)+mt[4],sr=sr|0,sr=Ze(sr,jt[vt]),sr=sr+Rr|0,Pt=Rr,Rr=fr,fr=Ze(Kt,10),Kt=Ct,Ct=sr;sr=pt[1]+St+fr|0,pt[1]=pt[2]+ct+Rr|0,pt[2]=pt[3]+dt+Pt|0,pt[3]=pt[4]+cr+Ct|0,pt[4]=pt[0]+bt+Kt|0,pt[0]=sr},_doFinalize:function(){var st=this._data,it=st.words,vt=this._nDataBytes*8,gt=st.sigBytes*8;it[gt>>>5]|=128<<24-gt%32,it[(gt+64>>>9<<4)+14]=(vt<<8|vt>>>24)&16711935|(vt<<24|vt>>>8)&4278255360,st.sigBytes=(it.length+1)*4,this._process();for(var tt=this._hash,pt=tt.words,nt=0;nt<5;nt++){var mt=pt[nt];pt[nt]=(mt<<8|mt>>>24)&16711935|(mt<<24|mt>>>8)&4278255360}return tt},clone:function(){var st=g.clone.call(this);return st._hash=this._hash.clone(),st}});function Ne(st,it,vt){return st^it^vt}function Ve(st,it,vt){return st&it|~st&vt}function Ue(st,it,vt){return(st|~it)^vt}function We(st,it,vt){return st&vt|it&~vt}function He(st,it,vt){return st^(it|~vt)}function Ze(st,it){return st<<it|st>>>32-it}c.RIPEMD160=g._createHelper(Be),c.HmacRIPEMD160=g._createHmacHelper(Be)}(),e.RIPEMD160})}(ripemd160)),ripemd160.exports}var hmac={exports:{}},hasRequiredHmac;function requireHmac(){return hasRequiredHmac||(hasRequiredHmac=1,function(_,o){(function(e,i){_.exports=i(requireCore())})(commonjsGlobal$1,function(e){(function(){var i=e,c=i.lib,f=c.Base,m=i.enc,g=m.Utf8,Te=i.algo;Te.HMAC=f.extend({init:function(Oe,Ie){Oe=this._hasher=new Oe.init,typeof Ie=="string"&&(Ie=g.parse(Ie));var _e=Oe.blockSize,De=_e*4;Ie.sigBytes>De&&(Ie=Oe.finalize(Ie)),Ie.clamp();for(var Ee=this._oKey=Ie.clone(),qe=this._iKey=Ie.clone(),Be=Ee.words,Ne=qe.words,Ve=0;Ve<_e;Ve++)Be[Ve]^=1549556828,Ne[Ve]^=909522486;Ee.sigBytes=qe.sigBytes=De,this.reset()},reset:function(){var Oe=this._hasher;Oe.reset(),Oe.update(this._iKey)},update:function(Oe){return this._hasher.update(Oe),this},finalize:function(Oe){var Ie=this._hasher,_e=Ie.finalize(Oe);Ie.reset();var De=Ie.finalize(this._oKey.clone().concat(_e));return De}})})()})}(hmac)),hmac.exports}var pbkdf2={exports:{}},hasRequiredPbkdf2;function requirePbkdf2(){return hasRequiredPbkdf2||(hasRequiredPbkdf2=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireSha256(),requireHmac())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.Base,m=c.WordArray,g=i.algo,Te=g.SHA256,Oe=g.HMAC,Ie=g.PBKDF2=f.extend({cfg:f.extend({keySize:128/32,hasher:Te,iterations:25e4}),init:function(_e){this.cfg=this.cfg.extend(_e)},compute:function(_e,De){for(var Ee=this.cfg,qe=Oe.create(Ee.hasher,_e),Be=m.create(),Ne=m.create([1]),Ve=Be.words,Ue=Ne.words,We=Ee.keySize,He=Ee.iterations;Ve.length<We;){var Ze=qe.update(De).finalize(Ne);qe.reset();for(var st=Ze.words,it=st.length,vt=Ze,gt=1;gt<He;gt++){vt=qe.finalize(vt),qe.reset();for(var tt=vt.words,pt=0;pt<it;pt++)st[pt]^=tt[pt]}Be.concat(Ze),Ue[0]++}return Be.sigBytes=We*4,Be}});i.PBKDF2=function(_e,De,Ee){return Ie.create(Ee).compute(_e,De)}}(),e.PBKDF2})}(pbkdf2)),pbkdf2.exports}var evpkdf={exports:{}},hasRequiredEvpkdf;function requireEvpkdf(){return hasRequiredEvpkdf||(hasRequiredEvpkdf=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireSha1(),requireHmac())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.Base,m=c.WordArray,g=i.algo,Te=g.MD5,Oe=g.EvpKDF=f.extend({cfg:f.extend({keySize:128/32,hasher:Te,iterations:1}),init:function(Ie){this.cfg=this.cfg.extend(Ie)},compute:function(Ie,_e){for(var De,Ee=this.cfg,qe=Ee.hasher.create(),Be=m.create(),Ne=Be.words,Ve=Ee.keySize,Ue=Ee.iterations;Ne.length<Ve;){De&&qe.update(De),De=qe.update(Ie).finalize(_e),qe.reset();for(var We=1;We<Ue;We++)De=qe.finalize(De),qe.reset();Be.concat(De)}return Be.sigBytes=Ve*4,Be}});i.EvpKDF=function(Ie,_e,De){return Oe.create(De).compute(Ie,_e)}}(),e.EvpKDF})}(evpkdf)),evpkdf.exports}var cipherCore={exports:{}},hasRequiredCipherCore;function requireCipherCore(){return hasRequiredCipherCore||(hasRequiredCipherCore=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireEvpkdf())})(commonjsGlobal$1,function(e){e.lib.Cipher||function(i){var c=e,f=c.lib,m=f.Base,g=f.WordArray,Te=f.BufferedBlockAlgorithm,Oe=c.enc;Oe.Utf8;var Ie=Oe.Base64,_e=c.algo,De=_e.EvpKDF,Ee=f.Cipher=Te.extend({cfg:m.extend(),createEncryptor:function(tt,pt){return this.create(this._ENC_XFORM_MODE,tt,pt)},createDecryptor:function(tt,pt){return this.create(this._DEC_XFORM_MODE,tt,pt)},init:function(tt,pt,nt){this.cfg=this.cfg.extend(nt),this._xformMode=tt,this._key=pt,this.reset()},reset:function(){Te.reset.call(this),this._doReset()},process:function(tt){return this._append(tt),this._process()},finalize:function(tt){tt&&this._append(tt);var pt=this._doFinalize();return pt},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function tt(pt){return typeof pt=="string"?gt:st}return function(pt){return{encrypt:function(nt,mt,Je){return tt(mt).encrypt(pt,nt,mt,Je)},decrypt:function(nt,mt,Je){return tt(mt).decrypt(pt,nt,mt,Je)}}}}()});f.StreamCipher=Ee.extend({_doFinalize:function(){var tt=this._process(!0);return tt},blockSize:1});var qe=c.mode={},Be=f.BlockCipherMode=m.extend({createEncryptor:function(tt,pt){return this.Encryptor.create(tt,pt)},createDecryptor:function(tt,pt){return this.Decryptor.create(tt,pt)},init:function(tt,pt){this._cipher=tt,this._iv=pt}}),Ne=qe.CBC=function(){var tt=Be.extend();tt.Encryptor=tt.extend({processBlock:function(nt,mt){var Je=this._cipher,Ft=Je.blockSize;pt.call(this,nt,mt,Ft),Je.encryptBlock(nt,mt),this._prevBlock=nt.slice(mt,mt+Ft)}}),tt.Decryptor=tt.extend({processBlock:function(nt,mt){var Je=this._cipher,Ft=Je.blockSize,Zt=nt.slice(mt,mt+Ft);Je.decryptBlock(nt,mt),pt.call(this,nt,mt,Ft),this._prevBlock=Zt}});function pt(nt,mt,Je){var Ft,Zt=this._iv;Zt?(Ft=Zt,this._iv=i):Ft=this._prevBlock;for(var jt=0;jt<Je;jt++)nt[mt+jt]^=Ft[jt]}return tt}(),Ve=c.pad={},Ue=Ve.Pkcs7={pad:function(tt,pt){for(var nt=pt*4,mt=nt-tt.sigBytes%nt,Je=mt<<24|mt<<16|mt<<8|mt,Ft=[],Zt=0;Zt<mt;Zt+=4)Ft.push(Je);var jt=g.create(Ft,mt);tt.concat(jt)},unpad:function(tt){var pt=tt.words[tt.sigBytes-1>>>2]&255;tt.sigBytes-=pt}};f.BlockCipher=Ee.extend({cfg:Ee.cfg.extend({mode:Ne,padding:Ue}),reset:function(){var tt;Ee.reset.call(this);var pt=this.cfg,nt=pt.iv,mt=pt.mode;this._xformMode==this._ENC_XFORM_MODE?tt=mt.createEncryptor:(tt=mt.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==tt?this._mode.init(this,nt&&nt.words):(this._mode=tt.call(mt,this,nt&&nt.words),this._mode.__creator=tt)},_doProcessBlock:function(tt,pt){this._mode.processBlock(tt,pt)},_doFinalize:function(){var tt,pt=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(pt.pad(this._data,this.blockSize),tt=this._process(!0)):(tt=this._process(!0),pt.unpad(tt)),tt},blockSize:128/32});var We=f.CipherParams=m.extend({init:function(tt){this.mixIn(tt)},toString:function(tt){return(tt||this.formatter).stringify(this)}}),He=c.format={},Ze=He.OpenSSL={stringify:function(tt){var pt,nt=tt.ciphertext,mt=tt.salt;return mt?pt=g.create([1398893684,1701076831]).concat(mt).concat(nt):pt=nt,pt.toString(Ie)},parse:function(tt){var pt,nt=Ie.parse(tt),mt=nt.words;return mt[0]==1398893684&&mt[1]==1701076831&&(pt=g.create(mt.slice(2,4)),mt.splice(0,4),nt.sigBytes-=16),We.create({ciphertext:nt,salt:pt})}},st=f.SerializableCipher=m.extend({cfg:m.extend({format:Ze}),encrypt:function(tt,pt,nt,mt){mt=this.cfg.extend(mt);var Je=tt.createEncryptor(nt,mt),Ft=Je.finalize(pt),Zt=Je.cfg;return We.create({ciphertext:Ft,key:nt,iv:Zt.iv,algorithm:tt,mode:Zt.mode,padding:Zt.padding,blockSize:tt.blockSize,formatter:mt.format})},decrypt:function(tt,pt,nt,mt){mt=this.cfg.extend(mt),pt=this._parse(pt,mt.format);var Je=tt.createDecryptor(nt,mt).finalize(pt.ciphertext);return Je},_parse:function(tt,pt){return typeof tt=="string"?pt.parse(tt,this):tt}}),it=c.kdf={},vt=it.OpenSSL={execute:function(tt,pt,nt,mt,Je){if(mt||(mt=g.random(64/8)),Je)var Ft=De.create({keySize:pt+nt,hasher:Je}).compute(tt,mt);else var Ft=De.create({keySize:pt+nt}).compute(tt,mt);var Zt=g.create(Ft.words.slice(pt),nt*4);return Ft.sigBytes=pt*4,We.create({key:Ft,iv:Zt,salt:mt})}},gt=f.PasswordBasedCipher=st.extend({cfg:st.cfg.extend({kdf:vt}),encrypt:function(tt,pt,nt,mt){mt=this.cfg.extend(mt);var Je=mt.kdf.execute(nt,tt.keySize,tt.ivSize,mt.salt,mt.hasher);mt.iv=Je.iv;var Ft=st.encrypt.call(this,tt,pt,Je.key,mt);return Ft.mixIn(Je),Ft},decrypt:function(tt,pt,nt,mt){mt=this.cfg.extend(mt),pt=this._parse(pt,mt.format);var Je=mt.kdf.execute(nt,tt.keySize,tt.ivSize,pt.salt,mt.hasher);mt.iv=Je.iv;var Ft=st.decrypt.call(this,tt,pt,Je.key,mt);return Ft}})}()})}(cipherCore)),cipherCore.exports}var modeCfb={exports:{}},hasRequiredModeCfb;function requireModeCfb(){return hasRequiredModeCfb||(hasRequiredModeCfb=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return e.mode.CFB=function(){var i=e.lib.BlockCipherMode.extend();i.Encryptor=i.extend({processBlock:function(f,m){var g=this._cipher,Te=g.blockSize;c.call(this,f,m,Te,g),this._prevBlock=f.slice(m,m+Te)}}),i.Decryptor=i.extend({processBlock:function(f,m){var g=this._cipher,Te=g.blockSize,Oe=f.slice(m,m+Te);c.call(this,f,m,Te,g),this._prevBlock=Oe}});function c(f,m,g,Te){var Oe,Ie=this._iv;Ie?(Oe=Ie.slice(0),this._iv=void 0):Oe=this._prevBlock,Te.encryptBlock(Oe,0);for(var _e=0;_e<g;_e++)f[m+_e]^=Oe[_e]}return i}(),e.mode.CFB})}(modeCfb)),modeCfb.exports}var modeCtr={exports:{}},hasRequiredModeCtr;function requireModeCtr(){return hasRequiredModeCtr||(hasRequiredModeCtr=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return e.mode.CTR=function(){var i=e.lib.BlockCipherMode.extend(),c=i.Encryptor=i.extend({processBlock:function(f,m){var g=this._cipher,Te=g.blockSize,Oe=this._iv,Ie=this._counter;Oe&&(Ie=this._counter=Oe.slice(0),this._iv=void 0);var _e=Ie.slice(0);g.encryptBlock(_e,0),Ie[Te-1]=Ie[Te-1]+1|0;for(var De=0;De<Te;De++)f[m+De]^=_e[De]}});return i.Decryptor=c,i}(),e.mode.CTR})}(modeCtr)),modeCtr.exports}var modeCtrGladman={exports:{}},hasRequiredModeCtrGladman;function requireModeCtrGladman(){return hasRequiredModeCtrGladman||(hasRequiredModeCtrGladman=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return e.mode.CTRGladman=function(){var i=e.lib.BlockCipherMode.extend();function c(g){if((g>>24&255)===255){var Te=g>>16&255,Oe=g>>8&255,Ie=g&255;Te===255?(Te=0,Oe===255?(Oe=0,Ie===255?Ie=0:++Ie):++Oe):++Te,g=0,g+=Te<<16,g+=Oe<<8,g+=Ie}else g+=1<<24;return g}function f(g){return(g[0]=c(g[0]))===0&&(g[1]=c(g[1])),g}var m=i.Encryptor=i.extend({processBlock:function(g,Te){var Oe=this._cipher,Ie=Oe.blockSize,_e=this._iv,De=this._counter;_e&&(De=this._counter=_e.slice(0),this._iv=void 0),f(De);var Ee=De.slice(0);Oe.encryptBlock(Ee,0);for(var qe=0;qe<Ie;qe++)g[Te+qe]^=Ee[qe]}});return i.Decryptor=m,i}(),e.mode.CTRGladman})}(modeCtrGladman)),modeCtrGladman.exports}var modeOfb={exports:{}},hasRequiredModeOfb;function requireModeOfb(){return hasRequiredModeOfb||(hasRequiredModeOfb=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return e.mode.OFB=function(){var i=e.lib.BlockCipherMode.extend(),c=i.Encryptor=i.extend({processBlock:function(f,m){var g=this._cipher,Te=g.blockSize,Oe=this._iv,Ie=this._keystream;Oe&&(Ie=this._keystream=Oe.slice(0),this._iv=void 0),g.encryptBlock(Ie,0);for(var _e=0;_e<Te;_e++)f[m+_e]^=Ie[_e]}});return i.Decryptor=c,i}(),e.mode.OFB})}(modeOfb)),modeOfb.exports}var modeEcb={exports:{}},hasRequiredModeEcb;function requireModeEcb(){return hasRequiredModeEcb||(hasRequiredModeEcb=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return e.mode.ECB=function(){var i=e.lib.BlockCipherMode.extend();return i.Encryptor=i.extend({processBlock:function(c,f){this._cipher.encryptBlock(c,f)}}),i.Decryptor=i.extend({processBlock:function(c,f){this._cipher.decryptBlock(c,f)}}),i}(),e.mode.ECB})}(modeEcb)),modeEcb.exports}var padAnsix923={exports:{}},hasRequiredPadAnsix923;function requirePadAnsix923(){return hasRequiredPadAnsix923||(hasRequiredPadAnsix923=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return e.pad.AnsiX923={pad:function(i,c){var f=i.sigBytes,m=c*4,g=m-f%m,Te=f+g-1;i.clamp(),i.words[Te>>>2]|=g<<24-Te%4*8,i.sigBytes+=g},unpad:function(i){var c=i.words[i.sigBytes-1>>>2]&255;i.sigBytes-=c}},e.pad.Ansix923})}(padAnsix923)),padAnsix923.exports}var padIso10126={exports:{}},hasRequiredPadIso10126;function requirePadIso10126(){return hasRequiredPadIso10126||(hasRequiredPadIso10126=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return e.pad.Iso10126={pad:function(i,c){var f=c*4,m=f-i.sigBytes%f;i.concat(e.lib.WordArray.random(m-1)).concat(e.lib.WordArray.create([m<<24],1))},unpad:function(i){var c=i.words[i.sigBytes-1>>>2]&255;i.sigBytes-=c}},e.pad.Iso10126})}(padIso10126)),padIso10126.exports}var padIso97971={exports:{}},hasRequiredPadIso97971;function requirePadIso97971(){return hasRequiredPadIso97971||(hasRequiredPadIso97971=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return e.pad.Iso97971={pad:function(i,c){i.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(i,c)},unpad:function(i){e.pad.ZeroPadding.unpad(i),i.sigBytes--}},e.pad.Iso97971})}(padIso97971)),padIso97971.exports}var padZeropadding={exports:{}},hasRequiredPadZeropadding;function requirePadZeropadding(){return hasRequiredPadZeropadding||(hasRequiredPadZeropadding=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return e.pad.ZeroPadding={pad:function(i,c){var f=c*4;i.clamp(),i.sigBytes+=f-(i.sigBytes%f||f)},unpad:function(i){for(var c=i.words,f=i.sigBytes-1,f=i.sigBytes-1;f>=0;f--)if(c[f>>>2]>>>24-f%4*8&255){i.sigBytes=f+1;break}}},e.pad.ZeroPadding})}(padZeropadding)),padZeropadding.exports}var padNopadding={exports:{}},hasRequiredPadNopadding;function requirePadNopadding(){return hasRequiredPadNopadding||(hasRequiredPadNopadding=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding})}(padNopadding)),padNopadding.exports}var formatHex={exports:{}},hasRequiredFormatHex;function requireFormatHex(){return hasRequiredFormatHex||(hasRequiredFormatHex=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return function(i){var c=e,f=c.lib,m=f.CipherParams,g=c.enc,Te=g.Hex,Oe=c.format;Oe.Hex={stringify:function(Ie){return Ie.ciphertext.toString(Te)},parse:function(Ie){var _e=Te.parse(Ie);return m.create({ciphertext:_e})}}}(),e.format.Hex})}(formatHex)),formatHex.exports}var aes={exports:{}},hasRequiredAes;function requireAes(){return hasRequiredAes||(hasRequiredAes=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.BlockCipher,m=i.algo,g=[],Te=[],Oe=[],Ie=[],_e=[],De=[],Ee=[],qe=[],Be=[],Ne=[];(function(){for(var We=[],He=0;He<256;He++)He<128?We[He]=He<<1:We[He]=He<<1^283;for(var Ze=0,st=0,He=0;He<256;He++){var it=st^st<<1^st<<2^st<<3^st<<4;it=it>>>8^it&255^99,g[Ze]=it,Te[it]=Ze;var vt=We[Ze],gt=We[vt],tt=We[gt],pt=We[it]*257^it*16843008;Oe[Ze]=pt<<24|pt>>>8,Ie[Ze]=pt<<16|pt>>>16,_e[Ze]=pt<<8|pt>>>24,De[Ze]=pt;var pt=tt*16843009^gt*65537^vt*257^Ze*16843008;Ee[it]=pt<<24|pt>>>8,qe[it]=pt<<16|pt>>>16,Be[it]=pt<<8|pt>>>24,Ne[it]=pt,Ze?(Ze=vt^We[We[We[tt^vt]]],st^=We[We[st]]):Ze=st=1}})();var Ve=[0,1,2,4,8,16,32,64,128,27,54],Ue=m.AES=f.extend({_doReset:function(){var We;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var He=this._keyPriorReset=this._key,Ze=He.words,st=He.sigBytes/4,it=this._nRounds=st+6,vt=(it+1)*4,gt=this._keySchedule=[],tt=0;tt<vt;tt++)tt<st?gt[tt]=Ze[tt]:(We=gt[tt-1],tt%st?st>6&&tt%st==4&&(We=g[We>>>24]<<24|g[We>>>16&255]<<16|g[We>>>8&255]<<8|g[We&255]):(We=We<<8|We>>>24,We=g[We>>>24]<<24|g[We>>>16&255]<<16|g[We>>>8&255]<<8|g[We&255],We^=Ve[tt/st|0]<<24),gt[tt]=gt[tt-st]^We);for(var pt=this._invKeySchedule=[],nt=0;nt<vt;nt++){var tt=vt-nt;if(nt%4)var We=gt[tt];else var We=gt[tt-4];nt<4||tt<=4?pt[nt]=We:pt[nt]=Ee[g[We>>>24]]^qe[g[We>>>16&255]]^Be[g[We>>>8&255]]^Ne[g[We&255]]}}},encryptBlock:function(We,He){this._doCryptBlock(We,He,this._keySchedule,Oe,Ie,_e,De,g)},decryptBlock:function(We,He){var Ze=We[He+1];We[He+1]=We[He+3],We[He+3]=Ze,this._doCryptBlock(We,He,this._invKeySchedule,Ee,qe,Be,Ne,Te);var Ze=We[He+1];We[He+1]=We[He+3],We[He+3]=Ze},_doCryptBlock:function(We,He,Ze,st,it,vt,gt,tt){for(var pt=this._nRounds,nt=We[He]^Ze[0],mt=We[He+1]^Ze[1],Je=We[He+2]^Ze[2],Ft=We[He+3]^Ze[3],Zt=4,jt=1;jt<pt;jt++){var cr=st[nt>>>24]^it[mt>>>16&255]^vt[Je>>>8&255]^gt[Ft&255]^Ze[Zt++],bt=st[mt>>>24]^it[Je>>>16&255]^vt[Ft>>>8&255]^gt[nt&255]^Ze[Zt++],St=st[Je>>>24]^it[Ft>>>16&255]^vt[nt>>>8&255]^gt[mt&255]^Ze[Zt++],ct=st[Ft>>>24]^it[nt>>>16&255]^vt[mt>>>8&255]^gt[Je&255]^Ze[Zt++];nt=cr,mt=bt,Je=St,Ft=ct}var cr=(tt[nt>>>24]<<24|tt[mt>>>16&255]<<16|tt[Je>>>8&255]<<8|tt[Ft&255])^Ze[Zt++],bt=(tt[mt>>>24]<<24|tt[Je>>>16&255]<<16|tt[Ft>>>8&255]<<8|tt[nt&255])^Ze[Zt++],St=(tt[Je>>>24]<<24|tt[Ft>>>16&255]<<16|tt[nt>>>8&255]<<8|tt[mt&255])^Ze[Zt++],ct=(tt[Ft>>>24]<<24|tt[nt>>>16&255]<<16|tt[mt>>>8&255]<<8|tt[Je&255])^Ze[Zt++];We[He]=cr,We[He+1]=bt,We[He+2]=St,We[He+3]=ct},keySize:256/32});i.AES=f._createHelper(Ue)}(),e.AES})}(aes)),aes.exports}var tripledes={exports:{}},hasRequiredTripledes;function requireTripledes(){return hasRequiredTripledes||(hasRequiredTripledes=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.WordArray,m=c.BlockCipher,g=i.algo,Te=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],Oe=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],Ie=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],_e=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],De=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],Ee=g.DES=m.extend({_doReset:function(){for(var Ve=this._key,Ue=Ve.words,We=[],He=0;He<56;He++){var Ze=Te[He]-1;We[He]=Ue[Ze>>>5]>>>31-Ze%32&1}for(var st=this._subKeys=[],it=0;it<16;it++){for(var vt=st[it]=[],gt=Ie[it],He=0;He<24;He++)vt[He/6|0]|=We[(Oe[He]-1+gt)%28]<<31-He%6,vt[4+(He/6|0)]|=We[28+(Oe[He+24]-1+gt)%28]<<31-He%6;vt[0]=vt[0]<<1|vt[0]>>>31;for(var He=1;He<7;He++)vt[He]=vt[He]>>>(He-1)*4+3;vt[7]=vt[7]<<5|vt[7]>>>27}for(var tt=this._invSubKeys=[],He=0;He<16;He++)tt[He]=st[15-He]},encryptBlock:function(Ve,Ue){this._doCryptBlock(Ve,Ue,this._subKeys)},decryptBlock:function(Ve,Ue){this._doCryptBlock(Ve,Ue,this._invSubKeys)},_doCryptBlock:function(Ve,Ue,We){this._lBlock=Ve[Ue],this._rBlock=Ve[Ue+1],qe.call(this,4,252645135),qe.call(this,16,65535),Be.call(this,2,858993459),Be.call(this,8,16711935),qe.call(this,1,1431655765);for(var He=0;He<16;He++){for(var Ze=We[He],st=this._lBlock,it=this._rBlock,vt=0,gt=0;gt<8;gt++)vt|=_e[gt][((it^Ze[gt])&De[gt])>>>0];this._lBlock=it,this._rBlock=st^vt}var tt=this._lBlock;this._lBlock=this._rBlock,this._rBlock=tt,qe.call(this,1,1431655765),Be.call(this,8,16711935),Be.call(this,2,858993459),qe.call(this,16,65535),qe.call(this,4,252645135),Ve[Ue]=this._lBlock,Ve[Ue+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function qe(Ve,Ue){var We=(this._lBlock>>>Ve^this._rBlock)&Ue;this._rBlock^=We,this._lBlock^=We<<Ve}function Be(Ve,Ue){var We=(this._rBlock>>>Ve^this._lBlock)&Ue;this._lBlock^=We,this._rBlock^=We<<Ve}i.DES=m._createHelper(Ee);var Ne=g.TripleDES=m.extend({_doReset:function(){var Ve=this._key,Ue=Ve.words;if(Ue.length!==2&&Ue.length!==4&&Ue.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var We=Ue.slice(0,2),He=Ue.length<4?Ue.slice(0,2):Ue.slice(2,4),Ze=Ue.length<6?Ue.slice(0,2):Ue.slice(4,6);this._des1=Ee.createEncryptor(f.create(We)),this._des2=Ee.createEncryptor(f.create(He)),this._des3=Ee.createEncryptor(f.create(Ze))},encryptBlock:function(Ve,Ue){this._des1.encryptBlock(Ve,Ue),this._des2.decryptBlock(Ve,Ue),this._des3.encryptBlock(Ve,Ue)},decryptBlock:function(Ve,Ue){this._des3.decryptBlock(Ve,Ue),this._des2.encryptBlock(Ve,Ue),this._des1.decryptBlock(Ve,Ue)},keySize:192/32,ivSize:64/32,blockSize:64/32});i.TripleDES=m._createHelper(Ne)}(),e.TripleDES})}(tripledes)),tripledes.exports}var rc4={exports:{}},hasRequiredRc4;function requireRc4(){return hasRequiredRc4||(hasRequiredRc4=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.StreamCipher,m=i.algo,g=m.RC4=f.extend({_doReset:function(){for(var Ie=this._key,_e=Ie.words,De=Ie.sigBytes,Ee=this._S=[],qe=0;qe<256;qe++)Ee[qe]=qe;for(var qe=0,Be=0;qe<256;qe++){var Ne=qe%De,Ve=_e[Ne>>>2]>>>24-Ne%4*8&255;Be=(Be+Ee[qe]+Ve)%256;var Ue=Ee[qe];Ee[qe]=Ee[Be],Ee[Be]=Ue}this._i=this._j=0},_doProcessBlock:function(Ie,_e){Ie[_e]^=Te.call(this)},keySize:256/32,ivSize:0});function Te(){for(var Ie=this._S,_e=this._i,De=this._j,Ee=0,qe=0;qe<4;qe++){_e=(_e+1)%256,De=(De+Ie[_e])%256;var Be=Ie[_e];Ie[_e]=Ie[De],Ie[De]=Be,Ee|=Ie[(Ie[_e]+Ie[De])%256]<<24-qe*8}return this._i=_e,this._j=De,Ee}i.RC4=f._createHelper(g);var Oe=m.RC4Drop=g.extend({cfg:g.cfg.extend({drop:192}),_doReset:function(){g._doReset.call(this);for(var Ie=this.cfg.drop;Ie>0;Ie--)Te.call(this)}});i.RC4Drop=f._createHelper(Oe)}(),e.RC4})}(rc4)),rc4.exports}var rabbit={exports:{}},hasRequiredRabbit;function requireRabbit(){return hasRequiredRabbit||(hasRequiredRabbit=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.StreamCipher,m=i.algo,g=[],Te=[],Oe=[],Ie=m.Rabbit=f.extend({_doReset:function(){for(var De=this._key.words,Ee=this.cfg.iv,qe=0;qe<4;qe++)De[qe]=(De[qe]<<8|De[qe]>>>24)&16711935|(De[qe]<<24|De[qe]>>>8)&4278255360;var Be=this._X=[De[0],De[3]<<16|De[2]>>>16,De[1],De[0]<<16|De[3]>>>16,De[2],De[1]<<16|De[0]>>>16,De[3],De[2]<<16|De[1]>>>16],Ne=this._C=[De[2]<<16|De[2]>>>16,De[0]&4294901760|De[1]&65535,De[3]<<16|De[3]>>>16,De[1]&4294901760|De[2]&65535,De[0]<<16|De[0]>>>16,De[2]&4294901760|De[3]&65535,De[1]<<16|De[1]>>>16,De[3]&4294901760|De[0]&65535];this._b=0;for(var qe=0;qe<4;qe++)_e.call(this);for(var qe=0;qe<8;qe++)Ne[qe]^=Be[qe+4&7];if(Ee){var Ve=Ee.words,Ue=Ve[0],We=Ve[1],He=(Ue<<8|Ue>>>24)&16711935|(Ue<<24|Ue>>>8)&4278255360,Ze=(We<<8|We>>>24)&16711935|(We<<24|We>>>8)&4278255360,st=He>>>16|Ze&4294901760,it=Ze<<16|He&65535;Ne[0]^=He,Ne[1]^=st,Ne[2]^=Ze,Ne[3]^=it,Ne[4]^=He,Ne[5]^=st,Ne[6]^=Ze,Ne[7]^=it;for(var qe=0;qe<4;qe++)_e.call(this)}},_doProcessBlock:function(De,Ee){var qe=this._X;_e.call(this),g[0]=qe[0]^qe[5]>>>16^qe[3]<<16,g[1]=qe[2]^qe[7]>>>16^qe[5]<<16,g[2]=qe[4]^qe[1]>>>16^qe[7]<<16,g[3]=qe[6]^qe[3]>>>16^qe[1]<<16;for(var Be=0;Be<4;Be++)g[Be]=(g[Be]<<8|g[Be]>>>24)&16711935|(g[Be]<<24|g[Be]>>>8)&4278255360,De[Ee+Be]^=g[Be]},blockSize:128/32,ivSize:64/32});function _e(){for(var De=this._X,Ee=this._C,qe=0;qe<8;qe++)Te[qe]=Ee[qe];Ee[0]=Ee[0]+1295307597+this._b|0,Ee[1]=Ee[1]+3545052371+(Ee[0]>>>0<Te[0]>>>0?1:0)|0,Ee[2]=Ee[2]+886263092+(Ee[1]>>>0<Te[1]>>>0?1:0)|0,Ee[3]=Ee[3]+1295307597+(Ee[2]>>>0<Te[2]>>>0?1:0)|0,Ee[4]=Ee[4]+3545052371+(Ee[3]>>>0<Te[3]>>>0?1:0)|0,Ee[5]=Ee[5]+886263092+(Ee[4]>>>0<Te[4]>>>0?1:0)|0,Ee[6]=Ee[6]+1295307597+(Ee[5]>>>0<Te[5]>>>0?1:0)|0,Ee[7]=Ee[7]+3545052371+(Ee[6]>>>0<Te[6]>>>0?1:0)|0,this._b=Ee[7]>>>0<Te[7]>>>0?1:0;for(var qe=0;qe<8;qe++){var Be=De[qe]+Ee[qe],Ne=Be&65535,Ve=Be>>>16,Ue=((Ne*Ne>>>17)+Ne*Ve>>>15)+Ve*Ve,We=((Be&4294901760)*Be|0)+((Be&65535)*Be|0);Oe[qe]=Ue^We}De[0]=Oe[0]+(Oe[7]<<16|Oe[7]>>>16)+(Oe[6]<<16|Oe[6]>>>16)|0,De[1]=Oe[1]+(Oe[0]<<8|Oe[0]>>>24)+Oe[7]|0,De[2]=Oe[2]+(Oe[1]<<16|Oe[1]>>>16)+(Oe[0]<<16|Oe[0]>>>16)|0,De[3]=Oe[3]+(Oe[2]<<8|Oe[2]>>>24)+Oe[1]|0,De[4]=Oe[4]+(Oe[3]<<16|Oe[3]>>>16)+(Oe[2]<<16|Oe[2]>>>16)|0,De[5]=Oe[5]+(Oe[4]<<8|Oe[4]>>>24)+Oe[3]|0,De[6]=Oe[6]+(Oe[5]<<16|Oe[5]>>>16)+(Oe[4]<<16|Oe[4]>>>16)|0,De[7]=Oe[7]+(Oe[6]<<8|Oe[6]>>>24)+Oe[5]|0}i.Rabbit=f._createHelper(Ie)}(),e.Rabbit})}(rabbit)),rabbit.exports}var rabbitLegacy={exports:{}},hasRequiredRabbitLegacy;function requireRabbitLegacy(){return hasRequiredRabbitLegacy||(hasRequiredRabbitLegacy=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.StreamCipher,m=i.algo,g=[],Te=[],Oe=[],Ie=m.RabbitLegacy=f.extend({_doReset:function(){var De=this._key.words,Ee=this.cfg.iv,qe=this._X=[De[0],De[3]<<16|De[2]>>>16,De[1],De[0]<<16|De[3]>>>16,De[2],De[1]<<16|De[0]>>>16,De[3],De[2]<<16|De[1]>>>16],Be=this._C=[De[2]<<16|De[2]>>>16,De[0]&4294901760|De[1]&65535,De[3]<<16|De[3]>>>16,De[1]&4294901760|De[2]&65535,De[0]<<16|De[0]>>>16,De[2]&4294901760|De[3]&65535,De[1]<<16|De[1]>>>16,De[3]&4294901760|De[0]&65535];this._b=0;for(var Ne=0;Ne<4;Ne++)_e.call(this);for(var Ne=0;Ne<8;Ne++)Be[Ne]^=qe[Ne+4&7];if(Ee){var Ve=Ee.words,Ue=Ve[0],We=Ve[1],He=(Ue<<8|Ue>>>24)&16711935|(Ue<<24|Ue>>>8)&4278255360,Ze=(We<<8|We>>>24)&16711935|(We<<24|We>>>8)&4278255360,st=He>>>16|Ze&4294901760,it=Ze<<16|He&65535;Be[0]^=He,Be[1]^=st,Be[2]^=Ze,Be[3]^=it,Be[4]^=He,Be[5]^=st,Be[6]^=Ze,Be[7]^=it;for(var Ne=0;Ne<4;Ne++)_e.call(this)}},_doProcessBlock:function(De,Ee){var qe=this._X;_e.call(this),g[0]=qe[0]^qe[5]>>>16^qe[3]<<16,g[1]=qe[2]^qe[7]>>>16^qe[5]<<16,g[2]=qe[4]^qe[1]>>>16^qe[7]<<16,g[3]=qe[6]^qe[3]>>>16^qe[1]<<16;for(var Be=0;Be<4;Be++)g[Be]=(g[Be]<<8|g[Be]>>>24)&16711935|(g[Be]<<24|g[Be]>>>8)&4278255360,De[Ee+Be]^=g[Be]},blockSize:128/32,ivSize:64/32});function _e(){for(var De=this._X,Ee=this._C,qe=0;qe<8;qe++)Te[qe]=Ee[qe];Ee[0]=Ee[0]+1295307597+this._b|0,Ee[1]=Ee[1]+3545052371+(Ee[0]>>>0<Te[0]>>>0?1:0)|0,Ee[2]=Ee[2]+886263092+(Ee[1]>>>0<Te[1]>>>0?1:0)|0,Ee[3]=Ee[3]+1295307597+(Ee[2]>>>0<Te[2]>>>0?1:0)|0,Ee[4]=Ee[4]+3545052371+(Ee[3]>>>0<Te[3]>>>0?1:0)|0,Ee[5]=Ee[5]+886263092+(Ee[4]>>>0<Te[4]>>>0?1:0)|0,Ee[6]=Ee[6]+1295307597+(Ee[5]>>>0<Te[5]>>>0?1:0)|0,Ee[7]=Ee[7]+3545052371+(Ee[6]>>>0<Te[6]>>>0?1:0)|0,this._b=Ee[7]>>>0<Te[7]>>>0?1:0;for(var qe=0;qe<8;qe++){var Be=De[qe]+Ee[qe],Ne=Be&65535,Ve=Be>>>16,Ue=((Ne*Ne>>>17)+Ne*Ve>>>15)+Ve*Ve,We=((Be&4294901760)*Be|0)+((Be&65535)*Be|0);Oe[qe]=Ue^We}De[0]=Oe[0]+(Oe[7]<<16|Oe[7]>>>16)+(Oe[6]<<16|Oe[6]>>>16)|0,De[1]=Oe[1]+(Oe[0]<<8|Oe[0]>>>24)+Oe[7]|0,De[2]=Oe[2]+(Oe[1]<<16|Oe[1]>>>16)+(Oe[0]<<16|Oe[0]>>>16)|0,De[3]=Oe[3]+(Oe[2]<<8|Oe[2]>>>24)+Oe[1]|0,De[4]=Oe[4]+(Oe[3]<<16|Oe[3]>>>16)+(Oe[2]<<16|Oe[2]>>>16)|0,De[5]=Oe[5]+(Oe[4]<<8|Oe[4]>>>24)+Oe[3]|0,De[6]=Oe[6]+(Oe[5]<<16|Oe[5]>>>16)+(Oe[4]<<16|Oe[4]>>>16)|0,De[7]=Oe[7]+(Oe[6]<<8|Oe[6]>>>24)+Oe[5]|0}i.RabbitLegacy=f._createHelper(Ie)}(),e.RabbitLegacy})}(rabbitLegacy)),rabbitLegacy.exports}var blowfish={exports:{}},hasRequiredBlowfish;function requireBlowfish(){return hasRequiredBlowfish||(hasRequiredBlowfish=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.BlockCipher,m=i.algo;const g=16,Te=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],Oe=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var Ie={pbox:[],sbox:[]};function _e(Ne,Ve){let Ue=Ve>>24&255,We=Ve>>16&255,He=Ve>>8&255,Ze=Ve&255,st=Ne.sbox[0][Ue]+Ne.sbox[1][We];return st=st^Ne.sbox[2][He],st=st+Ne.sbox[3][Ze],st}function De(Ne,Ve,Ue){let We=Ve,He=Ue,Ze;for(let st=0;st<g;++st)We=We^Ne.pbox[st],He=_e(Ne,We)^He,Ze=We,We=He,He=Ze;return Ze=We,We=He,He=Ze,He=He^Ne.pbox[g],We=We^Ne.pbox[g+1],{left:We,right:He}}function Ee(Ne,Ve,Ue){let We=Ve,He=Ue,Ze;for(let st=g+1;st>1;--st)We=We^Ne.pbox[st],He=_e(Ne,We)^He,Ze=We,We=He,He=Ze;return Ze=We,We=He,He=Ze,He=He^Ne.pbox[1],We=We^Ne.pbox[0],{left:We,right:He}}function qe(Ne,Ve,Ue){for(let it=0;it<4;it++){Ne.sbox[it]=[];for(let vt=0;vt<256;vt++)Ne.sbox[it][vt]=Oe[it][vt]}let We=0;for(let it=0;it<g+2;it++)Ne.pbox[it]=Te[it]^Ve[We],We++,We>=Ue&&(We=0);let He=0,Ze=0,st=0;for(let it=0;it<g+2;it+=2)st=De(Ne,He,Ze),He=st.left,Ze=st.right,Ne.pbox[it]=He,Ne.pbox[it+1]=Ze;for(let it=0;it<4;it++)for(let vt=0;vt<256;vt+=2)st=De(Ne,He,Ze),He=st.left,Ze=st.right,Ne.sbox[it][vt]=He,Ne.sbox[it][vt+1]=Ze;return!0}var Be=m.Blowfish=f.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var Ne=this._keyPriorReset=this._key,Ve=Ne.words,Ue=Ne.sigBytes/4;qe(Ie,Ve,Ue)}},encryptBlock:function(Ne,Ve){var Ue=De(Ie,Ne[Ve],Ne[Ve+1]);Ne[Ve]=Ue.left,Ne[Ve+1]=Ue.right},decryptBlock:function(Ne,Ve){var Ue=Ee(Ie,Ne[Ve],Ne[Ve+1]);Ne[Ve]=Ue.left,Ne[Ve+1]=Ue.right},blockSize:64/32,keySize:128/32,ivSize:64/32});i.Blowfish=f._createHelper(Be)}(),e.Blowfish})}(blowfish)),blowfish.exports}(function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireX64Core(),requireLibTypedarrays(),requireEncUtf16(),requireEncBase64(),requireEncBase64url(),requireMd5(),requireSha1(),requireSha256(),requireSha224(),requireSha512(),requireSha384(),requireSha3(),requireRipemd160(),requireHmac(),requirePbkdf2(),requireEvpkdf(),requireCipherCore(),requireModeCfb(),requireModeCtr(),requireModeCtrGladman(),requireModeOfb(),requireModeEcb(),requirePadAnsix923(),requirePadIso10126(),requirePadIso97971(),requirePadZeropadding(),requirePadNopadding(),requireFormatHex(),requireAes(),requireTripledes(),requireRc4(),requireRabbit(),requireRabbitLegacy(),requireBlowfish())})(commonjsGlobal$1,function(e){return e})})(cryptoJs);var cryptoJsExports=cryptoJs.exports;const _0x1ab660=getDefaultExportFromCjs$1(cryptoJsExports),_0xfeb5ad=_0xbf66;function _0x4fca(){const _=["startY","updateMessage","length","fontSize","mouseup","11211360OQftFg","grab","touchmove","rgba(0, 0, 0, 0.8)","startX","touches","top","messages","backgroundColor","setMessage","300px","DEBUG","8053821itgbES","initialX","391398xYzFDo","16jXORNX","cursor","renderMessages","setVisible","5TlwnsK","position","2635834sfrAQU","appendChild","clientX","clearMessages","touchstart","getValue","color","none","block","offsetTop","maxWidth","clientY","left","Helvetica, Arial, sans-serif","display","initialY","keys","Debug mode enabled. You can drag this panel freely. Type SET DEBUG 0 to disable.","touchend","4235496uVuwqC","mousedown","string","isDragging","addEventListener","1nXxzWK","isEnabled","debugPanel","style","fontFamily","9709488ZtQPpl","5px 0","init","3452847YjLymM","10px","padding","clearMessage","innerHTML","margin","white","99999999","createElement","offsetLeft","textContent","5px","isVisible","body"];return _0x4fca=function(){return _},_0x4fca()}(function(_,o){const e=_0xbf66,i=_();for(;[];)try{if(parseInt(e(395))/1*(parseInt(e(371))/2)+-parseInt(e(403))/3+-parseInt(e(390))/4+-parseInt(e(369))/5*(-parseInt(e(400))/6)+-parseInt(e(364))/7*(parseInt(e(365))/8)+-parseInt(e(362))/9+parseInt(e(422))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x4fca,840781);function _0xbf66(_,o){const e=_0x4fca();return _0xbf66=function(i,c){return i=i-359,e[i]},_0xbf66(_,o)}var gf,yf,bf,Ef,L0,Ku;const mr=class mr{static[(gf=_0xfeb5ad(397),yf=_0xfeb5ad(415),bf=_0xfeb5ad(393),Ef=_0xfeb5ad(429),_0xfeb5ad(402))](){var e;const o=_0xfeb5ad;!mr[o(397)]&&(mr[o(397)]=document[o(411)]("div"),mr.debugPanel.id="debug-panel",mr[o(397)][o(398)][o(385)]=o(378),mr[o(397)][o(398)][o(370)]="fixed",mr.debugPanel[o(398)][o(430)]=o(425),mr[o(397)][o(398)][o(377)]=o(409),mr.debugPanel[o(398)][o(405)]=o(404),mr[o(397)][o(398)].borderRadius=o(414),mr.debugPanel[o(398)].zIndex=o(410),mr[o(397)].style[o(381)]=o(360),mr[o(397)].style[o(399)]=o(384),mr[o(397)].style[o(420)]="14px",mr[o(397)][o(398)].height="auto",mr[o(397)][o(398)].right="10px",mr[o(397)].style[o(428)]="10px",mr.debugPanel.style[o(366)]=o(423),document[o(416)][o(372)](mr.debugPanel),ur(e=mr,L0,Ku).call(e))}static toggleVisibility(){const o=_0xfeb5ad;mr.isVisible=!mr[o(415)],mr.debugPanel[o(398)][o(385)]=mr[o(415)]?o(379):"none"}static[_0xfeb5ad(368)](o){const e=_0xfeb5ad;Object[e(387)](mr[e(429)])[e(419)]===0&&mr.setMessage(e(388)),mr[e(415)]=o,mr[e(397)][e(398)][e(385)]=e(o?379:378)}static[_0xfeb5ad(418)](o,e){const i=_0xfeb5ad;typeof e===i(392)?mr.messages[o]=e:mr[i(429)][o]=String(e),mr[i(367)]()}static[_0xfeb5ad(406)](o){const e=_0xfeb5ad;delete mr[e(429)][o],mr.renderMessages()}static[_0xfeb5ad(374)](){const o=_0xfeb5ad;mr[o(429)]={},mr[o(367)]()}static[_0xfeb5ad(359)](o){const e=_0xfeb5ad;mr.messages={},mr[e(397)][e(407)]="";const i=document[e(411)]("p");i[e(413)]=o,i[e(398)][e(408)]=e(401),mr.debugPanel.appendChild(i),mr[e(397)][e(398)][e(385)]=e(379),mr[e(415)]=!![]}static renderMessages(){const o=_0xfeb5ad,e=Object[o(387)](mr[o(429)]).sort();mr.debugPanel[o(407)]="",e.forEach(i=>{const c=o,f=document[c(411)]("p");f[c(413)]=mr[c(429)][i],f[c(398)].margin="5px 0",mr[c(397)][c(372)](f)}),e.length>0?(mr[o(397)][o(398)].display=o(379),mr[o(415)]=!![]):(mr.debugPanel[o(398)][o(385)]=o(378),mr[o(415)]=![])}static[_0xfeb5ad(396)](){const o=_0xfeb5ad;return StorageManager[o(376)](o(361))=="1"}};L0=new WeakSet,Ku=function(){const o=_0xfeb5ad;mr.debugPanel.addEventListener(o(375),e=>{const i=o;mr[i(393)]=!![],mr[i(426)]=e[i(427)][0].clientX,mr[i(417)]=e[i(427)][0][i(382)],mr.initialX=mr[i(397)].offsetLeft,mr[i(386)]=mr[i(397)][i(380)]}),mr[o(397)][o(394)](o(424),e=>{const i=o;if(mr.isDragging){let c=e.touches[0][i(373)]-mr[i(426)],f=e[i(427)][0][i(382)]-mr[i(417)];mr[i(397)][i(398)][i(383)]=mr[i(363)]+c+"px",mr[i(397)].style[i(428)]=mr[i(386)]+f+"px"}}),mr[o(397)][o(394)](o(389),()=>{const e=o;mr[e(393)]=![]}),mr.debugPanel.addEventListener(o(391),e=>{const i=o;mr[i(393)]=!![],mr[i(426)]=e[i(373)],mr[i(417)]=e.clientY,mr.initialX=mr[i(397)][i(412)],mr[i(386)]=mr[i(397)][i(380)]}),document[o(394)]("mousemove",e=>{const i=o;if(mr.isDragging){let c=e[i(373)]-mr.startX,f=e[i(382)]-mr.startY;mr[i(397)][i(398)][i(383)]=mr[i(363)]+c+"px",mr[i(397)][i(398)][i(428)]=mr[i(386)]+f+"px"}}),document.addEventListener(o(421),()=>{const e=o;mr[e(393)]=![]})},Ut(mr,L0),un(mr,gf,null),un(mr,yf,![]),un(mr,bf,![]),un(mr,Ef,{});let Debug=mr;Debug[_0xfeb5ad(402)]();function _0x3430(){const _=["displayNextToast","remove","length","111251TWzRMz","88edzJnY","classList",".close-label","10lSaQNX","innerHTML","</strong></span>","createContainer","showToast","queue","showManualToast","hideToast","createElement","container",' <span class="close-label"><strong>CLOSE</strong></span>',"hide","click","div","activeToasts","toast-container","785244EUnzIn","4640680pbykae","1116864soZSSg","addEventListener","add","367350MKSURQ",".custom-button","querySelector","enqueueToast",' <span class="custom-button"><strong>',"775015PimmIB","enqueueCustomToast","maxVisible","push","6345OSnyof","show","8NVpbHl","10jXdiJW","transitionend"];return _0x3430=function(){return _},_0x3430()}const _0x342ba3=_0x6234;(function(_,o){const e=_0x6234,i=_();for(;[];)try{if(parseInt(e(255))/1*(-parseInt(e(258))/2)+parseInt(e(246))/3+-parseInt(e(257))/4*(parseInt(e(251))/5)+parseInt(e(241))/6+-parseInt(e(263))/7*(parseInt(e(264))/8)+parseInt(e(243))/9+parseInt(e(267))/10*(parseInt(e(242))/11)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x3430,282746);function _0x6234(_,o){const e=_0x3430();return _0x6234=function(i,c){return i=i-226,e[i]},_0x6234(_,o)}var wf,Sf,Af,If;const Ra=class Ra{static[(wf=_0x342ba3(234),Sf=_0x342ba3(230),Af=_0x342ba3(239),If=_0x342ba3(253),_0x342ba3(228))](){const o=_0x342ba3,e=document[o(233)](o(238));return e.id=o(240),document.body.appendChild(e),e}static[_0x342ba3(229)](o){this[_0x342ba3(249)](o,![],null,null,1e3)}static[_0x342ba3(231)](o){this.enqueueToast(o,!![])}static[_0x342ba3(252)](o,e,i,c=5e3){this.enqueueToast(o,![],e,i,c)}static[_0x342ba3(249)](o,e,i=null,c=null,f=1e3){const m=_0x342ba3;this[m(230)][m(254)]({message:o,isManualClose:e,buttonLabel:i,callback:c,autoCloseTime:f}),this[m(260)]()}static displayNextToast(){const o=_0x342ba3;if(this[o(230)][o(262)]===0||this[o(239)]>=this.maxVisible)return;const{message:e,isManualClose:i,buttonLabel:c,callback:f,autoCloseTime:m}=this[o(230)].shift(),g=document.createElement(o(238));g[o(265)].add("toast-message"),c&&f?(g[o(226)]=e+o(250)+c+o(227),g[o(248)](o(247))[o(244)](o(237),()=>{f(),this.hideToast(g,!![])})):i?(g.innerHTML=e+o(235),g[o(248)](o(266))[o(244)](o(237),()=>this[o(232)](g,!![]))):g.textContent=e,this[o(234)].appendChild(g),this.activeToasts++,requestAnimationFrame(()=>{const Te=o;g[Te(265)].add(Te(256))}),!i&&setTimeout(()=>this[o(232)](g),m)}static[_0x342ba3(232)](o,e=![]){const i=_0x342ba3;o[i(265)][i(261)](i(256)),o[i(265)][i(245)](i(236)),o.addEventListener(i(259),()=>{const c=i;o[c(261)](),this.activeToasts--,!e&&this[c(260)]()})}};un(Ra,wf,document.getElementById(_0x342ba3(240))||Ra[_0x342ba3(228)]()),un(Ra,Sf,[]),un(Ra,Af,0),un(Ra,If,3);let ToastManager=Ra;const _0x240e81=_0x59c4;(function(_,o){const e=_0x59c4,i=_();for(;[];)try{if(-parseInt(e(364))/1+parseInt(e(374))/2+-parseInt(e(377))/3+parseInt(e(278))/4*(parseInt(e(286))/5)+parseInt(e(319))/6+-parseInt(e(327))/7+-parseInt(e(345))/8*(-parseInt(e(354))/9)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x5db6,132676);function _0x5db6(){const _=["blobToBase64","enqueueToast","timestamp","files","data","onload","rom_data_id","6036YWlceQ","file","onloadend","revokeObjectURL","screenshot","collectionMeta","rom_data","getCollections","430wePnsd","onerror","stores","equals","++id, rom_data, hash, data_type","Failed to delete entries with id ","image","VME_INTERNAL.","romData","key","Failed to save state:","delete","getAllSaveMeta","toBlob","height","orderBy","atari2600","getSaveData","saveData","clearValue","createElement","base64ToBlob","name","map","push","storeCollection","first","key, data","where","program_name","get","error","Save state not found.","74532jOKZbW","State saved.","++id, collection_id, platform_id, title, credits, description, image, rom_name, rom_data_id, rom_url, launched","dependencies",".software","Failed to save collection:","lib","length","1004164aTBoPq","version","getValue","transaction","++id, platform_id, program_name, save_data_id, rom_data_id, timestamp","collectionItemData","count","getRomData","width","toArray","collection_name","drawImage","deleteFile","createObjectURL","checkFiles","now","getFile","SHA256","247720QiLuLn","saveMeta","++id, save_data","type","split","Save state or program data is missing.","create","credits","data_type","18UYtRLJ","load","result","isEnabled","collection_image","++id, rom_data, hash","readAsArrayBuffer","platform_id","collection_id","title","123524PiISyy","storeFile","setItem","getContext","removeItem","add","deleteAllCollections","blob","base64","charCodeAt","523774XaBjzo","WordArray","updateMessage","199083Ggkvfu","getItem","deleteSave","Storing file","reverse"];return _0x5db6=function(){return _},_0x5db6()}function _0x59c4(_,o){const e=_0x5db6();return _0x59c4=function(i,c){return i=i-267,e[i]},_0x59c4(_,o)}var Mr,Co,M0,Ds,nu,V0,Gu;const na=class na{constructor(){Ut(this,Ds);Ut(this,V0);Ut(this,Mr,void 0);const o=_0x240e81;ir(this,Mr,new Dexie(Ye(na,M0))),Ye(this,Mr)[o(328)](2)[o(288)]({files:o(313),saveMeta:"++id, platform_id, program_name, save_data_id, rom_data_id, timestamp",saveData:o(347),romData:o(359)}),Ye(this,Mr).version(3).stores({files:o(313),saveMeta:o(331),saveData:o(347),romData:o(290),collectionMeta:"++id, collection_unique_name, collection_title, collection_image",collectionItemData:o(321)}).upgrade(e=>{const i=o;return e.table(i(294)).toCollection().modify(c=>{const f=i;c[f(353)]="base64"})})}static storeValue(o,e){const i=_0x240e81;localStorage[i(366)](Ye(na,Co)+o,e)}static[_0x240e81(305)](o){const e=_0x240e81;localStorage[e(368)](Ye(na,Co)+o)}static[_0x240e81(329)](o,e){const i=_0x240e81;let c=localStorage[i(267)](Ye(na,Co)+o);return c??e}async[_0x240e81(365)](o,e){const i=_0x240e81;Debug[i(357)]()&&Debug[i(376)](i(355),i(269)),await Ye(this,Mr)[i(274)].put({key:o,data:e})}async[_0x240e81(343)](o){const e=_0x240e81,i=await Ye(this,Mr)[e(274)][e(314)]({key:o})[e(312)]();return i?i[e(275)]:null}async[_0x240e81(339)](o){const e=_0x240e81;Debug[e(376)](e(355),"Deleting file"),await Ye(this,Mr)[e(274)][e(314)]({key:o})[e(297)]()}async[_0x240e81(341)](o){return new Promise(async e=>{const i=_0x59c4;let c={},f=[];if(o.dependencies){const Te=o[i(322)].map(Oe=>({...Oe,key:o[i(361)]+"."+Oe.key}));for(const Oe of Te){const Ie=await this[i(343)](Oe.key);Ie?c[Oe[i(295)]]=Ie:f[i(310)](Oe[i(348)])}}const m=o[i(361)]+i(323),g=await this[i(343)](m)||null;e([c,f,g])})}async[_0x240e81(311)](o,e,i,c){const f=_0x240e81;await this[f(370)]();const m=[];for(const g of c){const Te=await ur(this,Ds,nu).call(this,g[f(279)]),Oe=await this[f(271)](g.image),Ie=await Ye(this,Mr)[f(294)].where({hash:Te})[f(312)]();m.push({item:g,hash:Te,existing:Ie,itemImageB64:Oe})}try{return await Ye(this,Mr)[f(330)]("rw",Ye(this,Mr)[f(283)],Ye(this,Mr)[f(332)],Ye(this,Mr)[f(294)],async()=>{const g=f,Te=await Ye(this,Mr)[g(283)].add({collection_unique_name:o,collection_title:e,collection_image:i});for(const{item:Oe,hash:Ie,existing:_e,itemImageB64:De}of m){let Ee;_e?Ee=_e.id:Ee=await Ye(this,Mr).romData[g(369)]({rom_data:Oe[g(279)],hash:Ie,data_type:g(371)}),await Ye(this,Mr)[g(332)][g(369)]({collection_id:Te,platform_id:Oe[g(361)],title:Oe[g(363)],credits:Oe[g(352)],description:Oe.description,image:De,rom_name:Oe.filename,rom_data_id:Ee,launched:![]})}}),!![]}catch(g){return console[f(317)](f(324),g),![]}}async getCollectionItems(){return(await Ye(this,Mr).collectionItemData.toArray()).map(e=>{const i=_0x59c4;return e[i(282)]&&(e[i(362)]=e.id,e.name=e[i(337)],e.image=this.base64ToBlob(e[i(358)])),e})}async[_0x240e81(285)](){const o=_0x240e81;return(await Ye(this,Mr)[o(283)].toArray()).map(i=>{const c=o;return i[c(282)]&&(i[c(362)]=i.id,i[c(308)]=i[c(337)],i[c(292)]=this[c(307)](i[c(358)])),i})}async storeState(o,e,i,c,f){const m=_0x240e81,g=await ur(this,Ds,nu).call(this,e),Te=await ur(this,V0,Gu).call(this,c,i),Oe=await this[m(271)](Te),Ie=e,_e=await this[m(271)](o);try{await Ye(this,Mr)[m(330)]("rw",Ye(this,Mr)[m(346)],Ye(this,Mr)[m(304)],Ye(this,Mr)[m(294)],async()=>{const De=m,Ee=await Ye(this,Mr)[De(294)][De(314)]({hash:g})[De(312)]();let qe;Ee==null?qe=await Ye(this,Mr).romData.add({rom_data:Ie,hash:g,data_type:"blob"}):qe=Ee.id;let Be=await Ye(this,Mr)[De(304)].add({save_data:_e});await Ye(this,Mr)[De(346)].add({platform_id:c,program_name:f,screenshot:Oe,rom_data_id:qe,save_data_id:Be,timestamp:Date[De(342)]()}),ToastManager[De(272)](De(320))})}catch(De){console.error(m(296),De)}}async[_0x240e81(271)](o){return new Promise((e,i)=>{const c=_0x59c4,f=new FileReader;f[c(280)]=()=>e(f[c(356)]),f[c(287)]=i,f.readAsDataURL(o)})}[_0x240e81(307)](o){const e=_0x240e81,i=atob(o[e(349)](",")[1]),c=o[e(349)](",")[0][e(349)](":")[1][e(349)](";")[0],f=new ArrayBuffer(i[e(326)]),m=new Uint8Array(f);for(let g=0;g<i[e(326)];g++)m[g]=i[e(373)](g);return new Blob([f],{type:c})}async[_0x240e81(298)](){const o=_0x240e81;return(await Ye(this,Mr)[o(346)][o(301)](o(273))[o(270)]()[o(336)]())[o(309)](i=>{const c=o;return i[c(282)]&&(i[c(282)]=this[c(307)](i[c(282)])),i})}async[_0x240e81(334)](o){const e=_0x240e81,i=await Ye(this,Mr)[e(294)][e(316)](o);return i.data_type==e(372)&&(i[e(284)]=this[e(307)](i[e(284)])),i}async[_0x240e81(303)](o){const e=_0x240e81,i=await Ye(this,Mr).saveMeta[e(316)](o);if(!i)throw new Error(e(318));const c=await Ye(this,Mr).saveData[e(316)](i.save_data_id),f=await Ye(this,Mr).romData[e(316)](i[e(277)]);let m;if(f[e(353)]==e(372)?m=this[e(307)](f[e(284)]):m=f.rom_data,!c||!f)throw new Error(e(350));const g=this[e(307)](c.save_data);return{platform_id:i.platform_id,program_name:i[e(315)],save_data:g,rom_data:m,timestamp:i.timestamp}}async[_0x240e81(268)](o){const e=_0x240e81;try{await Ye(this,Mr)[e(330)]("rw",Ye(this,Mr)[e(346)],Ye(this,Mr).saveData,Ye(this,Mr)[e(332)],Ye(this,Mr)[e(294)],async()=>{const i=e,c=await Ye(this,Mr)[i(346)].get(o);if(c){await Ye(this,Mr)[i(304)].where("id")[i(289)](c.save_data_id)[i(297)](),await Ye(this,Mr)[i(346)][i(297)](o);let f=await Ye(this,Mr).saveMeta[i(314)]("rom_data_id")[i(289)](c[i(277)])[i(333)]();await Ye(this,Mr)[i(332)][i(314)](i(277))[i(289)](c[i(277)])[i(333)]()+f==0&&await Ye(this,Mr)[i(294)][i(314)]("id").equals(c[i(277)])[i(297)]()}})}catch(i){console[e(317)](e(291)+o+":",i)}}async[_0x240e81(370)](){const o=_0x240e81;try{await Ye(this,Mr)[o(330)]("rw",Ye(this,Mr)[o(283)],Ye(this,Mr)[o(332)],Ye(this,Mr)[o(346)],Ye(this,Mr)[o(294)],async()=>{const e=o,i=await Ye(this,Mr)[e(283)].toArray();for(let c of i){const f=c.id,m=await Ye(this,Mr).collectionItemData[e(314)](e(362))[e(289)](f)[e(336)]();if(m.length>0){await Ye(this,Mr).collectionItemData.where("collection_id")[e(289)](f).delete(),await Ye(this,Mr).collectionMeta[e(297)](f);for(let g of m){const Te=g.rom_data_id;let Oe=await Ye(this,Mr)[e(346)][e(314)](e(277)).equals(Te).count();await Ye(this,Mr)[e(332)][e(314)](e(277))[e(289)](Te).count()+Oe==0&&await Ye(this,Mr)[e(294)].where("id")[e(289)](Te)[e(297)]()}}}})}catch(e){console.error("Failed to delete collections:",e)}}};Mr=new WeakMap,Co=new WeakMap,M0=new WeakMap,Ds=new WeakSet,nu=async function(o){return new Promise((e,i)=>{const c=_0x59c4,f=new FileReader;f.onload=function(m){const g=_0x59c4,Te=m.target[g(356)],Oe=_0x1ab660[g(325)][g(375)][g(351)](Te),Ie=_0x1ab660[g(344)](Oe).toString();e(Ie)},f[c(287)]=function(m){i(m)},f[c(360)](o)})},V0=new WeakSet,Gu=function(o,e){return o!="atari2600"&&o!="amiga"?e:new Promise((i,c)=>{const f=_0x59c4,m=new Image,g=URL[f(340)](e);m[f(276)]=()=>{const Te=f,Oe=m[Te(335)],Ie=m[Te(300)],_e=Oe/Ie,De=document[Te(306)]("canvas"),Ee=De[Te(367)]("2d");o==Te(302)&&_e<.8?(De.width=Oe*2,De[Te(300)]=Ie,Ee.drawImage(m,0,0,De.width,De.height)):o=="amiga"&&_e>2?(De.width=Oe/2,De[Te(300)]=Ie,Ee[Te(338)](m,0,0,De[Te(335)],De[Te(300)])):(De[Te(335)]=Oe,De[Te(300)]=Ie,Ee[Te(338)](m,0,0)),De[Te(299)](qe=>{URL[Te(281)](g),i(qe)},"image/png")},m[f(287)]=Te=>{URL[f(281)](g),c(Te)},m.src=g})},Ut(na,Co,_0x240e81(293)),Ut(na,M0,"VME");let StorageManager=na;const _0xdf008f=_0x264f;(function(_,o){const e=_0x264f,i=_();for(;[];)try{if(-parseInt(e(526))/1*(-parseInt(e(532))/2)+-parseInt(e(511))/3*(parseInt(e(501))/4)+parseInt(e(506))/5+parseInt(e(502))/6*(parseInt(e(509))/7)+-parseInt(e(496))/8+parseInt(e(525))/9*(-parseInt(e(514))/10)+parseInt(e(527))/11===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x387e,941572);function _0x387e(){const _=["1352930mjNRsH","length","LINES","set_selection_mode","selection_changed","get_keywords","createElement","4223328WSkrRy","label","single","show_results","addEventListener","5416pAtDmL","534KoOQbL","add","exit_selection","singleline","1833005DJuumv","forEach","data-value","18550BYoHoP","is_selection_enabled","1914PZNtOd","is_enter_required","#cors_results","4987980DrUALy","set_cli","span","cli","appendChild","innerHTML","tag","install","process_input","get_help","append","9UtQifU","2ANbKim","9644327uAKGTV","data","update","classList","process_selection"];return _0x387e=function(){return _},_0x387e()}function _0x264f(_,o){const e=_0x387e();return _0x264f=function(i,c){return i=i-493,e[i]},_0x264f(_,o)}var U0,Yu;const xu=class xu{constructor(){Ut(this,U0);if(new.target===xu)throw new Error}[_0xdf008f(494)](){throw new Error}[_0xdf008f(523)](){throw new Error}[_0xdf008f(522)](o,e){throw new Error}[_0xdf008f(521)](){}uninstall(){}[_0xdf008f(510)](){return![]}[_0xdf008f(512)](){return![]}[_0xdf008f(504)](){return![]}[_0xdf008f(531)](o){return![]}[_0xdf008f(515)](o){const e=_0xdf008f;this[e(517)]=o}[_0xdf008f(499)](o,e){o!=[]&&ur(this,U0,Yu).call(this,o,e)}[_0xdf008f(493)](o){}};U0=new WeakSet,Yu=function(o,e){const i=_0xdf008f,c=s(i(513));c[i(519)]="",o[i(507)](f=>{const m=i,g=document.createElement("p");g.setAttribute(m(508),f[m(528)]),g[m(530)][m(503)]("corsrow");const Te=document[m(495)](m(516));if(StorageManager.getValue(m(534))!=m(498)||Te[m(530)][m(503)](m(505)),f.tag){const Oe=document[m(495)](m(516));Oe.classList.add(m(520)),Oe[m(519)]="["+f.tag+"] ",Te[m(518)](Oe)}Te[m(524)](f[m(497)]),g[m(524)](Te),g[m(500)]("click",Oe=>{this[m(531)](f)}),c.append(g)}),o[i(533)]>0&&e&&(this[i(517)][i(535)](!![]),this[i(517)][i(529)]())};let CommandBase=xu;const _0x3d2d7d=_0xc737;function _0x4412(){const _=["soft_msg","selected_command","getElementById","addEventListener","#guruMessage2","children","reset","key","filter","set_selection_mode","location","dispatchEvent","inline","Backspace","auto","bottom","print","ArrowDown","length","parse_input","div","<p style='margin-left: 3ch;'>","set_article_mode","open","is_command_selectable","&nbsp;","380TmQBfY","398948slNihY","get_keywords","update","process_input","block","ctrlKey","#progress_line","Invalid command","<p style='margin-left: 1ch;'>","preventDefault","507070ofhnkJ","directMode","blinking","3507396DyVlJc","keydown","top","cursorShowing","guru","clear","click","forEach","push","set_default_handler","start","altKey","off","reload","appendChild","48ElrrRP","right","highlight","5SXwiGo","#cors_results","3sgKcvR","#cors_query_prefix","commands","scrollIntoView","is_enter_required","append","message","Escape","#cursor","selection_changed","space","corsrow","remove","querySelector","is_loading","split","CLI commands:","toUpperCase","get_help","span","30899DeXgyB","DEBUG","textContent","scrollTop","getBoundingClientRect","escape","innerHTML","Enter","</p>","#guru","backspace","Guru Meditation: ","classList","set_loading","inject","is_selection_enabled","display","getValue","bind","#guruWrapper0","add","default_command_name","224484XzfmYD","includes","enter","offsetHeight","trim","3993741LuVXiM","style","createElement","register_default","message_clear","removeEventListener","#F4AD46","redraw","549220gEZiRV","set_cli"];return _0x4412=function(){return _},_0x4412()}function _0xc737(_,o){const e=_0x4412();return _0xc737=function(i,c){return i=i-111,e[i]},_0xc737(_,o)}(function(_,o){const e=_0xc737,i=_();for(;[];)try{if(-parseInt(e(221))/1+parseInt(e(211))/2*(parseInt(e(127))/3)+parseInt(e(169))/4+parseInt(e(125))/5*(parseInt(e(224))/6)+-parseInt(e(182))/7*(parseInt(e(122))/8)+parseInt(e(174))/9+parseInt(e(210))/10*(parseInt(e(147))/11)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x4412,412822);var ko,Oo,To,nn,Yn,si,Pi,Rs,iu,Fs,au,j0,Qu,z0,Xu,H0,Ju,Ps,ou,W0,Zu,K0,$u,G0,el;const ai=class ai{constructor(){Ut(this,Rs);Ut(this,Fs);Ut(this,j0);Ut(this,z0);Ut(this,H0);Ut(this,Ps);Ut(this,W0);Ut(this,K0);Ut(this,G0);Ut(this,ko,void 0);Ut(this,Oo,void 0);Ut(this,To,void 0);Ut(this,nn,void 0);Ut(this,Yn,[]);Ut(this,Pi,void 0);const o=_0x3d2d7d;ir(this,nn,-1),ir(this,Pi,![]),this[o(227)]=![],this[o(222)]=![],this[o(129)]=[],this[o(168)]=null,this.is_command_selectable=![],this[o(131)]=![],ir(this,ko,ur(this,j0,Qu)[o(165)](this)),this[o(160)](![])}[_0x3d2d7d(193)](o){const e=_0x3d2d7d;o?ur(this,Fs,au).call(this):(ur(this,Rs,iu).call(this),this.selected_command&&this[e(185)][e(136)]())}is_loading(){return Ye(this,Oo)}[_0x3d2d7d(160)](o){ir(this,Oo,o),o?ur(this,Fs,au).call(this):ur(this,Rs,iu).call(this)}[_0x3d2d7d(206)](o){ir(this,Pi,o)}on(){document[_0x3d2d7d(187)]("keydown",Ye(this,ko))}[_0x3d2d7d(119)](){const o=_0x3d2d7d;document[o(179)](o(225),Ye(this,ko))}[_0x3d2d7d(213)](){const o=_0x3d2d7d;if(this[o(208)]){const e=s("#cors_results");let i=[...e.children];if(i=i[o(192)](c=>c[o(159)].contains(o(138))),i.length==0)return;i.forEach(c=>c[o(140)](o(146))[o(159)].remove(o(124))),Ye(this,nn)>=0&&(ur(this,z0,Xu).call(this,i[Ye(this,nn)][o(140)](o(146))),this[o(185)][o(136)](i[Ye(this,nn)])),Ye(this,nn)!=-1&&!ur(this,K0,$u).call(this,i[Ye(this,nn)][o(140)](o(146)),e)&&i[Ye(this,nn)][o(130)]({behavior:o(198),block:"start",inline:o(117)})}}[_0x3d2d7d(214)](o){const e=_0x3d2d7d;let i=![];if(o.length===1)Ye(this,nn)==-1&&(Ye(ai,si)[e(149)]+=o);else if(o===e(197)||o===e(157))Ye(this,nn)==-1&&(Ye(ai,si).textContent=Ye(ai,si)[e(149)].slice(0,-1));else if(o===" "||o===e(137))Ye(this,nn)==-1&&(Ye(ai,si)[e(149)]+=" ");else if(o===e(112))Ye(this,nn)==-1&&(Ye(ai,si)[e(149)]=""),Ye(this,To)instanceof Function&&Ye(this,To).call(this);else if(o==e(152))ir(this,Pi,![]),Ye(this,nn)>=0?(ir(this,nn,-1),this[e(193)](![])):Ye(this,nn)==-1&&(this.process_input(e(112)),this[e(193)](![]));else if(o=="enter"){if(Ye(this,Pi))return;i=!![];let c=s(e(126))[e(189)];if(this[e(131)]&&Ye(this,nn)==-1)i=!![];else if(this[e(208)]&&Ye(this,nn)==-1)c[e(202)]>0&&B0(this,nn)._++,this.set_selection_mode(!![]);else if(Ye(this,nn)>=0){ur(this,G0,el).call(this,c[Ye(this,nn)]),this[e(185)].selection_changed();return}}this[e(203)](Ye(ai,si).textContent,i)}register_command(o){const e=_0x3d2d7d;if(o instanceof CommandBase)this.commands[e(115)](o),o[e(183)](this);else throw new Error(e(218))}[_0x3d2d7d(177)](o){const e=_0x3d2d7d;this[e(168)]=o}parse_hidden_input(){const o=_0x3d2d7d;let e=Ye(ai,si).textContent;this.parse_input(Ye(ai,si)[o(149)],e==o(207))}[_0x3d2d7d(161)](o,e){const i=_0x3d2d7d;this[i(141)]()||(Ye(ai,si)[i(149)]=o,this.parse_input(o,e))}[_0x3d2d7d(203)](o,e){const i=_0x3d2d7d;o=o[i(173)]().toLowerCase();const c=o[i(142)](/\s+/),[f,...m]=c;ur(this,Ps,ou).call(this),ur(this,H0,Ju).call(this);let g=null,Te=null;for(let Oe of this[i(129)])if(Oe[i(212)]()[i(170)](f)){g=Oe,Te=m;break}if(g==null&&this[i(168)]&&o.length>3){for(let Oe of this.commands)if(Oe[i(212)]().includes(this[i(168)])){g=Oe,Te=c,ur(this,W0,Zu).call(this,this[i(168)]);break}}g!=null?(this.is_command_selectable=g[i(162)](),this.selected_command=g,g[i(214)](Te,e)):this[i(185)]=null}print_help(){const o=_0x3d2d7d;this[o(112)](),Ye(this,Yn)[o(115)](o(143)),this.commands.forEach(i=>{const c=o;Ye(this,Yn)[c(115)]("&nbsp;"),Ye(this,Yn)[c(115)](c(219)+i.get_help()[0][c(144)]()+c(155)),Ye(this,Yn)[c(115)](c(205)+i[c(145)]()[1]+c(155))});var e=s(o(126));e[o(153)]="",Ye(this,Yn)[o(114)](i=>{const c=o;var f=document.createElement(c(204)),m=document.createElement("p");m[c(153)]=i,f[c(121)](m),e.append(f)})}redraw(){const o=_0x3d2d7d;var e=s(o(126));e[o(153)]="",Ye(this,Yn)[o(114)](i=>{const c=o;var f=document.createElement(c(204)),m=document.createElement("p");m[c(153)]=i,f[c(121)](m),e[c(132)](f)})}[_0x3d2d7d(112)](){const o=_0x3d2d7d;ir(this,Yn,[]);var e=s("#cors_results");e[o(153)]=""}[_0x3d2d7d(190)](){const o=_0x3d2d7d;ir(this,nn,-1),ir(this,Pi,![]),Ye(ai,si)[o(149)]="",ur(this,Ps,ou).call(this),this[o(193)](![]),this[o(160)](![]),this[o(112)]()}[_0x3d2d7d(178)](...o){const e=_0x3d2d7d;this[e(112)](),this[e(133)](o)}[_0x3d2d7d(133)](...o){const e=_0x3d2d7d;o[e(114)](i=>Ye(this,Yn)[e(115)](i)),Ye(this,Yn)[e(115)](e(209)),Ye(this,Yn)[e(115)]("Press any key to continue."),this[e(181)](),document[e(187)]("click",function(){setTimeout(function(){location[_0xc737(120)]()},120)}),document.addEventListener(e(225),function(){setTimeout(function(){location.reload()},120)})}print_progress(o){const e=_0x3d2d7d;let i=s(e(217));if(i==null){const c=s("#cors_results"),f=document.createElement(e(204));i=document[e(176)]("p"),i.id="progress_line",f[e(121)](i),c[e(132)](f)}i[e(153)]=o}[_0x3d2d7d(200)](o){const e=_0x3d2d7d;Ye(this,Yn).push(o),this[e(181)]()}[_0x3d2d7d(184)](o){const e=_0x3d2d7d;this[e(112)](),Ye(this,Yn)[e(115)](o),this[e(181)]()}[_0x3d2d7d(111)](o,e=![]){const i=_0x3d2d7d;if(StorageManager[i(164)](i(148))!="1")return;function c(){const f=i;e?(hide(f(166)),s(f(166)).removeEventListener("click",this),document[f(179)](f(113),c,!![])):window[f(194)][f(120)](![])}if(s("#guruWrapper0")[i(187)](i(113),c,!![]),e)s(i(188))[i(153)]=o,s(i(156))[i(175)].color=i(180),s(i(156)).style.borderColor=i(180),show(i(166),i(215));else throw s("#guruMessage2")[i(153)]=o,show(i(166),i(215)),new Error(i(158)+o)}[_0x3d2d7d(116)](o){ir(this,To,o)}};ko=new WeakMap,Oo=new WeakMap,To=new WeakMap,nn=new WeakMap,Yn=new WeakMap,si=new WeakMap,Pi=new WeakMap,Rs=new WeakSet,iu=function(){const o=_0x3d2d7d;s(o(135))[o(159)][o(167)](o(223))},Fs=new WeakSet,au=function(){const o=_0x3d2d7d;s("#cursor")[o(159)][o(139)](o(223))},j0=new WeakSet,Qu=function(o){const e=_0x3d2d7d;if(o[e(220)](),!Ye(this,Oo)){if(o[e(191)].length===1&&!o[e(216)]&&!o.metaKey&&!o[e(118)])this[e(214)](o.key);else if(o[e(191)]===e(197))this[e(214)]("backspace");else if(o[e(191)]==e(154))this[e(214)](e(171));else if(o[e(191)]===e(134))this[e(214)](e(152));else if(o[e(191)]===e(201)){if(Ye(this,Pi)){let i=s("#cors_results");i.scrollTop+=i[e(172)]}else if(Ye(this,nn)!=-1){let i=s(e(126))[e(189)];Ye(this,nn)<i[e(202)]-1?B0(this,nn)._++:Ye(this,nn)==i[e(202)]-1&&ir(this,nn,0)}else if(!this.is_command_selectable){let i=s("#cors_results");i.scrollTop+=i[e(172)]}}else if(o[e(191)]==="ArrowUp"){if(Ye(this,Pi)){let i=s("#cors_results");i[e(150)]-=i.offsetHeight}else if(Ye(this,nn)!=-1){let i=s("#cors_results")[e(189)];Ye(this,nn)>0?B0(this,nn)._--:Ye(this,nn)==0&&ir(this,nn,i[e(202)]-1)}else if(!this[e(208)]){let i=s("#cors_results");i[e(150)]-=i.offsetHeight}}this.update()}},z0=new WeakSet,Xu=function(o){const e=_0x3d2d7d;o.classList[e(139)]("highlight"),o.offsetWidth,o.classList[e(167)](e(124))},H0=new WeakSet,Ju=function(){this[_0x3d2d7d(112)]()},Ps=new WeakSet,ou=function(){const o=_0x3d2d7d;s(o(128)).style[o(163)]="none",s(o(128))[o(153)]=""},W0=new WeakSet,Zu=function(o){const e=_0x3d2d7d;s("#cors_query_prefix").style[e(163)]=e(196),s(e(128))[e(153)]=o+" "},K0=new WeakSet,$u=function(o,e){const i=_0x3d2d7d,c=o[i(151)](),f=e[i(151)]();return c[i(226)]>=f[i(226)]&&c.left>=f.left&&c[i(199)]<=f[i(199)]&&c[i(123)]<=f[i(123)]},G0=new WeakSet,el=function(o){const e=_0x3d2d7d;if(o!=null){var i=new MouseEvent(e(113),{bubbles:!![],cancelable:!![],view:window});o[e(195)](i)}},Ut(ai,si,document[_0x3d2d7d(186)]("cors_query"));let CLI=ai;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function __values$1(_){var o=typeof Symbol=="function"&&Symbol.iterator,e=o&&_[o],i=0;if(e)return e.call(_);if(_&&typeof _.length=="number")return{next:function(){return _&&i>=_.length&&(_=void 0),{value:_&&_[i++],done:!_}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read$1(_,o){var e=typeof Symbol=="function"&&_[Symbol.iterator];if(!e)return _;var i=e.call(_),c,f=[],m;try{for(;(o===void 0||o-- >0)&&!(c=i.next()).done;)f.push(c.value)}catch(g){m={error:g}}finally{try{c&&!c.done&&(e=i.return)&&e.call(i)}finally{if(m)throw m.error}}return f}function __spread$1(){for(var _=[],o=0;o<arguments.length;o++)_=_.concat(__read$1(arguments[o]));return _}var isUndefined=function(_){return typeof _>"u"},ComponentEvent=function(){function _(e,i){var c,f;if(this._canceled=!1,i)try{for(var m=__values$1(Object.keys(i)),g=m.next();!g.done;g=m.next()){var Te=g.value;this[Te]=i[Te]}}catch(Oe){c={error:Oe}}finally{try{g&&!g.done&&(f=m.return)&&f.call(m)}finally{if(c)throw c.error}}this.eventType=e}var o=_.prototype;return o.stop=function(){this._canceled=!0},o.isCanceled=function(){return this._canceled},_}(),Component=function(){function _(){this._eventHandler={}}var o=_.prototype;return o.trigger=function(e){for(var i=[],c=1;c<arguments.length;c++)i[c-1]=arguments[c];var f=e instanceof ComponentEvent?e.eventType:e,m=__spread$1(this._eventHandler[f]||[]);return m.length<=0?this:(e instanceof ComponentEvent?(e.currentTarget=this,m.forEach(function(g){g(e)})):m.forEach(function(g){g.apply(void 0,__spread$1(i))}),this)},o.once=function(e,i){var c=this;if(typeof e=="object"&&isUndefined(i)){var f=e;for(var m in f)this.once(m,f[m]);return this}else if(typeof e=="string"&&typeof i=="function"){var g=function(){for(var Te=[],Oe=0;Oe<arguments.length;Oe++)Te[Oe]=arguments[Oe];i.apply(void 0,__spread$1(Te)),c.off(e,g)};this.on(e,g)}return this},o.hasOn=function(e){return!!this._eventHandler[e]},o.on=function(e,i){if(typeof e=="object"&&isUndefined(i)){var c=e;for(var f in c)this.on(f,c[f]);return this}else if(typeof e=="string"&&typeof i=="function"){var m=this._eventHandler[e];isUndefined(m)&&(this._eventHandler[e]=[],m=this._eventHandler[e]),m.push(i)}return this},o.off=function(e,i){if(isUndefined(e))return this._eventHandler={},this;if(isUndefined(i)){if(typeof e=="string")return delete this._eventHandler[e],this;var c=e;for(var f in c)this.off(f,c[f]);return this}var m=this._eventHandler[e];if(m){for(var g=m.length,Te=0;Te<g;++Te)if(m[Te]===i){m.splice(Te,1),g<=1&&delete this._eventHandler[e];break}}return this},_.VERSION="3.0.5",_}(),ComponentEvent$1=ComponentEvent;function some(_,o){for(var e=_.length,i=0;i<e;++i)if(o(_[i],i))return!0;return!1}function find$1(_,o){for(var e=_.length,i=0;i<e;++i)if(o(_[i],i))return _[i];return null}function getUserAgentString(_){var o=_;if(typeof o>"u"){if(typeof navigator>"u"||!navigator)return"";o=navigator.userAgent||""}return o.toLowerCase()}function execRegExp(_,o){try{return new RegExp(_,"g").exec(o)}catch{return null}}function hasUserAgentData(){if(typeof navigator>"u"||!navigator||!navigator.userAgentData)return!1;var _=navigator.userAgentData,o=_.brands||_.uaList;return!!(o&&o.length)}function findVersion(_,o){var e=execRegExp("("+_+")((?:\\/|\\s|:)([0-9|\\.|_]+))",o);return e?e[3]:""}function convertVersion(_){return _.replace(/_/g,".")}function findPreset(_,o){var e=null,i="-1";return some(_,function(c){var f=execRegExp("("+c.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",o);return!f||c.brand?!1:(e=c,i=f[3]||"-1",c.versionAlias?i=c.versionAlias:c.versionTest&&(i=findVersion(c.versionTest.toLowerCase(),o)||i),i=convertVersion(i),!0)}),{preset:e,version:i}}function findPresetBrand(_,o){var e={brand:"",version:"-1"};return some(_,function(i){var c=findBrand(o,i);return c?(e.brand=i.id,e.version=i.versionAlias||c.version,e.version!=="-1"):!1}),e}function findBrand(_,o){return find$1(_,function(e){var i=e.brand;return execRegExp(""+o.test,i.toLowerCase())})}var BROWSER_PRESETS=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],CHROMIUM_PRESETS=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],WEBKIT_PRESETS=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],WEBVIEW_PRESETS=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],OS_PRESETS=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function isWebView(_){return!!findPreset(WEBVIEW_PRESETS,_).preset}function getLegacyAgent(_){var o=getUserAgentString(_),e=!!/mobi/g.exec(o),i={name:"unknown",version:"-1",majorVersion:-1,webview:isWebView(o),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},c={name:"unknown",version:"-1",majorVersion:-1},f=findPreset(BROWSER_PRESETS,o),m=f.preset,g=f.version,Te=findPreset(OS_PRESETS,o),Oe=Te.preset,Ie=Te.version,_e=findPreset(CHROMIUM_PRESETS,o);if(i.chromium=!!_e.preset,i.chromiumVersion=_e.version,!i.chromium){var De=findPreset(WEBKIT_PRESETS,o);i.webkit=!!De.preset,i.webkitVersion=De.version}return Oe&&(c.name=Oe.id,c.version=Ie,c.majorVersion=parseInt(Ie,10)),m&&(i.name=m.id,i.version=g,i.webview&&c.name==="ios"&&i.name!=="safari"&&(i.webview=!1)),i.majorVersion=parseInt(i.version,10),{browser:i,os:c,isMobile:e,isHints:!1}}function getClientHintsAgent(_){var o=navigator.userAgentData,e=(o.uaList||o.brands).slice(),i=_&&_.fullVersionList,c=o.mobile||!1,f=e[0],m=(_&&_.platform||o.platform||navigator.platform).toLowerCase(),g={name:f.brand,version:f.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!findPresetBrand(WEBVIEW_PRESETS,e).brand||isWebView(getUserAgentString())},Te={name:"unknown",version:"-1",majorVersion:-1};g.webkit=!g.chromium&&some(WEBKIT_PRESETS,function(qe){return findBrand(e,qe)});var Oe=findPresetBrand(CHROMIUM_PRESETS,e);if(g.chromium=!!Oe.brand,g.chromiumVersion=Oe.version||"-1",!g.chromium){var Ie=findPresetBrand(WEBKIT_PRESETS,e);g.webkit=!!Ie.brand,g.webkitVersion=Ie.version||"-1"}var _e=find$1(OS_PRESETS,function(qe){return new RegExp(""+qe.test,"g").exec(m)});if(Te.name=_e?_e.id:"",_&&(Te.version=_.platformVersion||"-1"),i&&i.length){var De=findPresetBrand(BROWSER_PRESETS,i);g.name=De.brand||g.name,g.version=De.version||g.version}else{var Ee=findPresetBrand(BROWSER_PRESETS,e);g.name=Ee.brand||g.name,g.version=Ee.brand&&_?_.uaFullVersion:Ee.version}return g.webkit&&(Te.name=c?"ios":"mac"),Te.name==="ios"&&g.webview&&(g.version="-1"),Te.version=convertVersion(Te.version),g.version=convertVersion(g.version),Te.majorVersion=parseInt(Te.version,10),g.majorVersion=parseInt(g.version,10),{browser:g,os:Te,isMobile:c,isHints:!0}}function agent(_){return typeof _>"u"&&hasUserAgentData()?getClientHintsAgent():getLegacyAgent(_)}function keys(_){return Object.keys(_)}var OBSERVERS_PATH="__observers__",COMPUTED_PATH="__computed__",CFCS_DETECTED_DEPENDENCIES_VERSION=1,CFCS_DETECTED_DEPENDENCIES="__CFCS_DETECTED_DEPENDENCIES__",extendStatics$3=function(_,o){return extendStatics$3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])},extendStatics$3(_,o)};function __extends$3(_,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");extendStatics$3(_,o);function e(){this.constructor=_}_.prototype=o===null?Object.create(o):(e.prototype=o.prototype,new e)}function getDetectedStack(){Object[CFCS_DETECTED_DEPENDENCIES]=Object[CFCS_DETECTED_DEPENDENCIES]||{};var _=Object[CFCS_DETECTED_DEPENDENCIES];return _[CFCS_DETECTED_DEPENDENCIES_VERSION]=_[CFCS_DETECTED_DEPENDENCIES_VERSION]||[],_[CFCS_DETECTED_DEPENDENCIES_VERSION]}function getCurrentDetected(){var _=getDetectedStack();return _[_.length-1]}function detectDependencies(_){var o=getDetectedStack(),e=[],i={host:_,observers:e,push:function(c){_!==c&&e.indexOf(c)===-1&&e.push(c)}};return o.push(i),i}function endDetectDependencies(){var _=getDetectedStack();return _.pop()}var Observer=function(){function _(e){this._emitter=new Component,this._current=e}var o=_.prototype;return Object.defineProperty(o,"current",{get:function(){var e=getCurrentDetected();return e==null||e.push(this),this._current},set:function(e){this._setCurrent(e)},enumerable:!1,configurable:!0}),o.subscribe=function(e){return this.current,this._emitter.on("update",e),this},o.unsubscribe=function(e){return this._emitter.off("update",e),this},o._setCurrent=function(e){var i=this._current,c=e!==i;this._current=e,c&&this._emitter.trigger("update",e,i)},o.toString=function(){return"".concat(this.current)},o.valueOf=function(){return this.current},_}(),ComputedObserver=function(_){__extends$3(o,_);function o(i){var c=_.call(this)||this;return c._computedCallback=i,c._registered=[],c._onCheckUpdate=function(){c._setCurrent(c.current)},c._current=c.current,c}var e=o.prototype;return Object.defineProperty(e,"current",{get:function(){var i=this;detectDependencies(this);var c=this._computedCallback(),f=endDetectDependencies();return this._registered.forEach(function(m){m.unsubscribe(i._onCheckUpdate)}),f.observers.forEach(function(m){m.subscribe(i._onCheckUpdate)}),this._registered=f.observers,c},enumerable:!1,configurable:!0}),o}(Observer);function injectObserve(_,o,e){e===void 0&&(e=o);var i={configurable:!0,get:function(){return getObserver(this,e).current},set:function(c){getObserver(this,e,c).current=c}};Object.defineProperty(_,o,i),e!==o&&Object.defineProperty(_,e,{configurable:!0,get:function(){return getObserver(this,e).current}})}function Observe(){for(var _=[],o=0;o<arguments.length;o++)_[o]=arguments[o];return _.length>1?injectObserve(_[0],_[1]):function(e,i){return injectObserve(e,i,_[0])}}function injectReactiveSubscribe(_){_.subscribe=function(o,e){this[o],getObserver(this,o).subscribe(e)},_.unsubscribe=function(o,e){var i=this;if(!o){keys(getObservers(this)).forEach(function(c){i.unsubscribe(c)});return}o in this&&getObserver(this,o).unsubscribe(e)}}function ReactiveSubscribe(_){var o=_.prototype;injectReactiveSubscribe(o)}function observe(_){return new Observer(_)}function computed(_){return new ComputedObserver(_)}function defineObservers(_){var o={};return Object.defineProperty(_,OBSERVERS_PATH,{get:function(){return o}}),o}function getObservers(_,o){var e,i;_[OBSERVERS_PATH]||defineObservers(_);var c=_[OBSERVERS_PATH];if(!o){var f=(i=(e=_==null?void 0:_.constructor)===null||e===void 0?void 0:e.prototype)===null||i===void 0?void 0:i[COMPUTED_PATH];f&&f.forEach(function(m){!(m in c)&&m in _&&_[m]})}return c}function getObserver(_,o,e){var i=getObservers(_);return i[o]||(i[o]=observe(e)),i[o]}function Computed(_,o,e){var i=e.get;function c(){var g=getObservers(this,!0);return o in g||(g[o]=computed(i.bind(this))),getObserver(this,o).current}var f={configurable:!0,get:c};_[COMPUTED_PATH]||(_[COMPUTED_PATH]=[]);var m=_[COMPUTED_PATH];return m.indexOf(o)===-1&&m.push(o),Object.defineProperty(_,o,f),f}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$2=function(_,o){return extendStatics$2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var c in i)i.hasOwnProperty(c)&&(e[c]=i[c])},extendStatics$2(_,o)};function __extends$2(_,o){extendStatics$2(_,o);function e(){this.constructor=_}_.prototype=o===null?Object.create(o):(e.prototype=o.prototype,new e)}var __assign$2=function(){return __assign$2=Object.assign||function(o){for(var e,i=1,c=arguments.length;i<c;i++){e=arguments[i];for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(o[f]=e[f])}return o},__assign$2.apply(this,arguments)};function __decorate(_,o,e,i){var c=arguments.length,f=c<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(_,o,e,i);else for(var g=_.length-1;g>=0;g--)(m=_[g])&&(f=(c<3?m(f):c>3?m(o,e,f):m(o,e))||f);return c>3&&f&&Object.defineProperty(o,e,f),f}var win;typeof window>"u"?win={navigator:{userAgent:""}}:win=window;var DIRECTION_NONE=1,DIRECTION_LEFT=2,DIRECTION_RIGHT=4,DIRECTION_HORIZONTAL=6,DIRECTION_UP=8,DIRECTION_DOWN=16,DIRECTION_VERTICAL=24,DIRECTION_ALL=30,MOUSE_LEFT="left",MOUSE_RIGHT="right",MOUSE_MIDDLE="middle",MOUSE_BUTTON_CODE_MAP={1:MOUSE_LEFT,2:MOUSE_MIDDLE,3:MOUSE_RIGHT},ANY="any",NONE="none",SHIFT="shift",CTRL="ctrl",ALT="alt",META="meta",VELOCITY_INTERVAL=16,IOS_EDGE_THRESHOLD=30,IS_IOS_SAFARI="ontouchstart"in win&&agent().browser.name==="safari",TRANSFORM=function(){if(typeof document>"u")return"";for(var _=(document.head||document.getElementsByTagName("head")[0]).style,o=["transform","webkitTransform","msTransform","mozTransform"],e=0,i=o.length;e<i;e++)if(o[e]in _)return o[e];return""}(),PREVENT_DRAG_CSSPROPS={"-webkit-user-select":"none","-ms-user-select":"none","-moz-user-select":"none","user-select":"none","-webkit-user-drag":"none"},toArray$2=function(_){for(var o=[],e=0,i=_.length;e<i;e++)o.push(_[e]);return o},$=function(_,o){o===void 0&&(o=!1);var e;if(typeof _=="string"){var i=_.match(/^<([a-z]+)\s*([^>]*)>/);if(i){var c=document.createElement("div");c.innerHTML=_,e=toArray$2(c.childNodes)}else e=toArray$2(document.querySelectorAll(_));o||(e=e.length>=1?e[0]:void 0)}else _===win?e=_:"value"in _||"current"in _?e=_.value||_.current:_.nodeName&&(_.nodeType===1||_.nodeType===9)?e=_:"jQuery"in win&&_ instanceof jQuery||_.constructor.prototype.jquery?e=o?_.toArray():_.get(0):Array.isArray(_)&&(e=_.map(function(f){return $(f)}),o||(e=e.length>=1?e[0]:void 0));return e},raf=win.requestAnimationFrame||win.webkitRequestAnimationFrame,caf=win.cancelAnimationFrame||win.webkitCancelAnimationFrame;if(raf&&!caf){var keyInfo_1={},oldraf_1=raf;raf=function(_){var o=function(i){keyInfo_1[e]&&_(i)},e=oldraf_1(o);return keyInfo_1[e]=!0,e},caf=function(_){delete keyInfo_1[_]}}else raf&&caf||(raf=function(_){return win.setTimeout(function(){_(win.performance&&win.performance.now&&win.performance.now()||new Date().getTime())},16)},caf=win.clearTimeout);var requestAnimationFrame$1=function(_){return raf(_)},cancelAnimationFrame=function(_){caf(_)},map=function(_,o){var e={};for(var i in _)i&&(e[i]=o(_[i],i));return e},filter=function(_,o){var e={};for(var i in _)i&&o(_[i],i)&&(e[i]=_[i]);return e},every=function(_,o){for(var e in _)if(e&&!o(_[e],e))return!1;return!0},equal=function(_,o){return every(_,function(e,i){return e===o[i]})},roundNumFunc={},roundNumber=function(_,o){return roundNumFunc[o]||(roundNumFunc[o]=getRoundFunc(o)),roundNumFunc[o](_)},roundNumbers=function(_,o){return!_||!o?_:map(_,function(e,i){return roundNumber(e,typeof o=="number"?o:o[i])})},getDecimalPlace=function(_){if(!isFinite(_))return 0;var o="".concat(_);if(o.indexOf("e")>=0){for(var e=0,i=1;Math.round(_*i)/i!==_;)i*=10,e++;return e}return o.indexOf(".")>=0?o.length-o.indexOf(".")-1:0},inversePow=function(_){return 1/Math.pow(10,_)},getRoundFunc=function(_){var o=_<1?Math.pow(10,getDecimalPlace(_)):1;return function(e){return _===0?0:Math.round(Math.round(e/_)*_*o)/o}},getAngle=function(_,o){return Math.atan2(o,_)*180/Math.PI},isCssPropsFromAxes=function(_){var o=!0;return Object.keys(PREVENT_DRAG_CSSPROPS).forEach(function(e){(!_||_[e]!==PREVENT_DRAG_CSSPROPS[e])&&(o=!1)}),o},getDirection$1=function(_,o){return _&&o?DIRECTION_ALL:_?DIRECTION_HORIZONTAL:o?DIRECTION_VERTICAL:DIRECTION_NONE},useDirection=function(_,o,e){return e?!!(o===DIRECTION_ALL||o&_&&e&_):!!(o&_)},setCssProps=function(_,o,e){var i,c=(i={},i[DIRECTION_NONE]="auto",i[DIRECTION_ALL]="none",i[DIRECTION_VERTICAL]="pan-x",i[DIRECTION_HORIZONTAL]="pan-y",i),f={};if(_&&_.style){var m=o.touchAction?o.touchAction:c[e],g=__assign$2(__assign$2({},PREVENT_DRAG_CSSPROPS),{"touch-action":_.style["touch-action"]==="none"?"none":m});Object.keys(g).forEach(function(Te){f[Te]=_.style[Te]}),Object.keys(g).forEach(function(Te){_.style[Te]=g[Te]})}return f},revertCssProps=function(_,o){_&&_.style&&o&&Object.keys(o).forEach(function(e){_.style[e]=o[e]})},EventManager=function(){function _(e){this._axes=e,this.holdingCount=0}var o=_.prototype;return o.hold=function(e,i){var c=this._getRoundPos(e).roundPos;this._axes.trigger(new ComponentEvent$1("hold",{pos:c,input:i.input||null,inputEvent:i.event||null,isTrusted:!0}))},o.triggerRelease=function(e){var i=this._getRoundPos(e.destPos,e.depaPos),c=i.roundPos,f=i.roundDepa;e.destPos=c,e.depaPos=f,e.setTo=this._createUserControll(e.destPos,e.duration),this._axes.trigger(new ComponentEvent$1("release",__assign$2(__assign$2({},e),{bounceRatio:this._getBounceRatio(c)})))},o.triggerChange=function(e,i,c,f){var m=this;f===void 0&&(f=!1);var g=this.animationManager,Te=g.axisManager,Oe=g.getEventInfo(),Ie=this._getRoundPos(e,i),_e=Ie.roundPos,De=Ie.roundDepa,Ee=Te.moveTo(_e,De),qe=(c==null?void 0:c.event)||(Oe==null?void 0:Oe.event)||null,Be={pos:Ee.pos,delta:Ee.delta,bounceRatio:this._getBounceRatio(Ee.pos),holding:f,inputEvent:qe,isTrusted:!!qe,input:(c==null?void 0:c.input)||(Oe==null?void 0:Oe.input)||null,set:qe?this._createUserControll(Ee.pos):function(){}},Ne=new ComponentEvent$1("change",Be);return this._axes.trigger(Ne),Object.keys(Ee.pos).forEach(function(Ve){var Ue=Ee.pos[Ve];getObserver(m._axes,Ve,Ue).current=Ue}),qe&&Te.set(Be.set().destPos),!Ne.isCanceled()},o.triggerAnimationStart=function(e){var i=this._getRoundPos(e.destPos,e.depaPos),c=i.roundPos,f=i.roundDepa;e.destPos=c,e.depaPos=f,e.setTo=this._createUserControll(e.destPos,e.duration);var m=new ComponentEvent$1("animationStart",e);return this._axes.trigger(m),!m.isCanceled()},o.triggerAnimationEnd=function(e){e===void 0&&(e=!1),this._axes.trigger(new ComponentEvent$1("animationEnd",{isTrusted:e}))},o.triggerFinish=function(e){e===void 0&&(e=!1),this._axes.trigger(new ComponentEvent$1("finish",{isTrusted:e}))},o.setAnimationManager=function(e){this.animationManager=e},o.destroy=function(){this._axes.off()},o._createUserControll=function(e,i){i===void 0&&(i=0);var c={destPos:__assign$2({},e),duration:i};return function(f,m){return f&&(c.destPos=__assign$2({},f)),m!==void 0&&(c.duration=m),c}},o._getRoundPos=function(e,i){var c=this._axes.options.round;return{roundPos:roundNumbers(e,c),roundDepa:roundNumbers(i,c)}},o._getBounceRatio=function(e){return this._axes.axisManager.map(e,function(i,c){return i<c.range[0]&&c.bounce[0]!==0?(c.range[0]-i)/c.bounce[0]:i>c.range[1]&&c.bounce[1]!==0?(i-c.range[1])/c.bounce[1]:0})},__decorate([Observe],_.prototype,"holdingCount",void 0),_}(),InterruptManager=function(){function _(e){this._options=e,this._prevented=!1}var o=_.prototype;return o.isInterrupting=function(){return this._options.interruptable||this._prevented},o.isInterrupted=function(){return!this._options.interruptable&&this._prevented},o.setInterrupt=function(e){this._options.interruptable||(this._prevented=e)},_}(),getInsidePosition=function(_,o,e,i){var c=_,f=[e[0]?o[0]:i?o[0]-i[0]:o[0],e[1]?o[1]:i?o[1]+i[1]:o[1]];return c=Math.max(f[0],c),c=Math.min(f[1],c),c},isOutside=function(_,o){return _<o[0]||_>o[1]},isEndofBounce=function(_,o,e,i){return!i[0]&&_===o[0]-e[0]||!i[1]&&_===o[1]+e[1]},getDuration=function(_,o){var e=Math.sqrt(_/o*2);return e<100?0:e},isCircularable=function(_,o,e){return e[1]&&_>o[1]||e[0]&&_<o[0]},getCirculatedPos=function(_,o,e){var i=_,c=o[0],f=o[1],m=f-c;return e[1]&&_>f&&(i=(i-f)%m+c),e[0]&&_<c&&(i=(i-c)%m+f),i},AxisManager=function(){function _(e){var i=this;this._axis=e,this._complementOptions(),this._pos=Object.keys(this._axis).reduce(function(c,f){return c[f]=i._axis[f].startPos,c},{})}var o=_.prototype;return o.getDelta=function(e,i){var c=this.get(e);return map(this.get(i),function(f,m){return f-c[m]})},o.get=function(e){var i=this;return e&&Array.isArray(e)?e.reduce(function(c,f){return f&&f in i._pos&&(c[f]=i._pos[f]),c},{}):__assign$2(__assign$2({},this._pos),e||{})},o.moveTo=function(e,i){i===void 0&&(i=this._pos);var c=map(this._pos,function(f,m){return m in e&&m in i?e[m]-i[m]:0});return this.set(this.map(e,function(f,m){return m?getCirculatedPos(f,m.range,m.circular):0})),{pos:__assign$2({},this._pos),delta:c}},o.set=function(e){for(var i in e)i&&i in this._pos&&(this._pos[i]=e[i])},o.every=function(e,i){var c=this._axis;return every(e,function(f,m){return i(f,c[m],m)})},o.filter=function(e,i){var c=this._axis;return filter(e,function(f,m){return i(f,c[m],m)})},o.map=function(e,i){var c=this._axis;return map(e,function(f,m){return i(f,c[m],m)})},o.isOutside=function(e){return!this.every(e?this.get(e):this._pos,function(i,c){return!isOutside(i,c.range)})},o.getAxisOptions=function(e){return this._axis[e]},o.setAxis=function(e){var i=this;Object.keys(e).forEach(function(c){if(!i._axis[c])throw new Error("Axis ".concat(c," does not exist in Axes instance"));i._axis[c]=__assign$2(__assign$2({},i._axis[c]),e[c])}),this._complementOptions()},o._complementOptions=function(){var e=this;Object.keys(this._axis).forEach(function(i){e._axis[i]=__assign$2({range:[0,100],startPos:e._axis[i].range[0],bounce:[0,0],circular:[!1,!1]},e._axis[i]),["bounce","circular"].forEach(function(c){var f=e._axis,m=f[i][c];/string|number|boolean/.test(typeof m)&&(f[i][c]=[m,m])})})},_}(),SUPPORT_TOUCH="ontouchstart"in win,SUPPORT_POINTER="PointerEvent"in win,SUPPORT_MSPOINTER="MSPointerEvent"in win,SUPPORT_POINTER_EVENTS=SUPPORT_POINTER||SUPPORT_MSPOINTER,isValidKey=function(_,o){return!!(!o||o.indexOf(ANY)>-1||o.indexOf(NONE)>-1&&!_.shiftKey&&!_.ctrlKey&&!_.altKey&&!_.metaKey||o.indexOf(SHIFT)>-1&&_.shiftKey||o.indexOf(CTRL)>-1&&_.ctrlKey||o.indexOf(ALT)>-1&&_.altKey||o.indexOf(META)>-1&&_.metaKey)},EventInput=function(){function _(){var e=this;this._stopContextMenu=function(i){i.preventDefault(),win.removeEventListener("contextmenu",e._stopContextMenu)}}var o=_.prototype;return o.extendEvent=function(e){var i,c=this.prevEvent,f=this._getCenter(e),m=c?this._getMovement(e):{x:0,y:0},g=c?this._getScale(e):1,Te=c?getAngle(f.x-c.center.x,f.y-c.center.y):0,Oe=c?c.deltaX+m.x:m.x,Ie=c?c.deltaY+m.y:m.y,_e=m.x,De=m.y,Ee=this._latestInterval,qe=Date.now(),Be=Ee?qe-Ee.timestamp:0,Ne=c?c.velocityX:0,Ve=c?c.velocityY:0;return(!Ee||Be>=VELOCITY_INTERVAL)&&(Ee&&(i=[(Oe-Ee.deltaX)/Be,(Ie-Ee.deltaY)/Be],Ne=i[0],Ve=i[1]),this._latestInterval={timestamp:qe,deltaX:Oe,deltaY:Ie}),{srcEvent:e,scale:g,angle:Te,center:f,deltaX:Oe,deltaY:Ie,offsetX:_e,offsetY:De,velocityX:Ne,velocityY:Ve,preventSystemEvent:!0}},o._getDistance=function(e,i){var c=i.clientX-e.clientX,f=i.clientY-e.clientY;return Math.sqrt(c*c+f*f)},o._getButton=function(e){var i={1:MOUSE_LEFT,2:MOUSE_RIGHT,4:MOUSE_MIDDLE},c=this._isTouchEvent(e)?MOUSE_LEFT:i[e.buttons];return c||null},o._isTouchEvent=function(e){return e.type&&e.type.indexOf("touch")>-1},o._isValidButton=function(e,i){return i.indexOf(e)>-1},o._isValidEvent=function(e,i,c){return(!i||isValidKey(e,i))&&(!c||this._isValidButton(this._getButton(e),c))},o._preventMouseButton=function(e,i){i===MOUSE_RIGHT?win.addEventListener("contextmenu",this._stopContextMenu):i===MOUSE_MIDDLE&&e.preventDefault()},_}(),MouseEventInput=function(_){__extends$2(o,_);function o(){var i=_!==null&&_.apply(this,arguments)||this;return i.start=["mousedown"],i.move=["mousemove"],i.end=["mouseup"],i}var e=o.prototype;return e.onEventStart=function(i,c,f){var m=this._getButton(i);return this._isValidEvent(i,c,f)?(this._preventMouseButton(i,m),this.extendEvent(i)):null},e.onEventMove=function(i,c,f){return this._isValidEvent(i,c,f)?this.extendEvent(i):null},e.onEventEnd=function(){},e.onRelease=function(){this.prevEvent=null},e.getTouches=function(i,c){return c&&this._isValidButton(MOUSE_BUTTON_CODE_MAP[i.which],c)&&this.end.indexOf(i.type)===-1?1:0},e._getScale=function(){return 1},e._getCenter=function(i){return{x:i.clientX,y:i.clientY}},e._getMovement=function(i){var c=this.prevEvent.srcEvent;return{x:i.clientX-c.clientX,y:i.clientY-c.clientY}},o}(EventInput),TouchEventInput=function(_){__extends$2(o,_);function o(){var i=_!==null&&_.apply(this,arguments)||this;return i.start=["touchstart"],i.move=["touchmove"],i.end=["touchend","touchcancel"],i}var e=o.prototype;return e.onEventStart=function(i,c){return this._baseTouches=i.touches,this._isValidEvent(i,c)?this.extendEvent(i):null},e.onEventMove=function(i,c){return this._isValidEvent(i,c)?this.extendEvent(i):null},e.onEventEnd=function(i){this._baseTouches=i.touches},e.onRelease=function(){this.prevEvent=null,this._baseTouches=null},e.getTouches=function(i){return i.touches.length},e._getScale=function(i){return i.touches.length!==2||this._baseTouches.length<2?null:this._getDistance(i.touches[0],i.touches[1])/this._getDistance(this._baseTouches[0],this._baseTouches[1])},e._getCenter=function(i){return{x:i.touches[0].clientX,y:i.touches[0].clientY}},e._getMovement=function(i){var c=this.prevEvent.srcEvent;return i.touches[0].identifier!==c.touches[0].identifier?{x:0,y:0}:{x:i.touches[0].clientX-c.touches[0].clientX,y:i.touches[0].clientY-c.touches[0].clientY}},o}(EventInput),PointerEventInput=function(_){__extends$2(o,_);function o(){var i=_!==null&&_.apply(this,arguments)||this;return i.start=SUPPORT_POINTER?["pointerdown"]:["MSPointerDown"],i.move=SUPPORT_POINTER?["pointermove"]:["MSPointerMove"],i.end=SUPPORT_POINTER?["pointerup","pointercancel"]:["MSPointerUp","MSPointerCancel"],i._firstInputs=[],i._recentInputs=[],i}var e=o.prototype;return e.onEventStart=function(i,c,f){var m=this._getButton(i);return this._isValidEvent(i,c,f)?(this._preventMouseButton(i,m),this._updatePointerEvent(i),this.extendEvent(i)):null},e.onEventMove=function(i,c,f){return this._isValidEvent(i,c,f)?(this._updatePointerEvent(i),this.extendEvent(i)):null},e.onEventEnd=function(i){this._removePointerEvent(i)},e.onRelease=function(){this.prevEvent=null,this._firstInputs=[],this._recentInputs=[]},e.getTouches=function(){return this._recentInputs.length},e._getScale=function(){return this._recentInputs.length!==2?null:this._getDistance(this._recentInputs[0],this._recentInputs[1])/this._getDistance(this._firstInputs[0],this._firstInputs[1])},e._getCenter=function(i){return{x:i.clientX,y:i.clientY}},e._getMovement=function(i){var c=this.prevEvent.srcEvent;return i.pointerId!==c.pointerId?{x:0,y:0}:{x:i.clientX-c.clientX,y:i.clientY-c.clientY}},e._updatePointerEvent=function(i){var c=this,f=!1;this._recentInputs.forEach(function(m,g){m.pointerId===i.pointerId&&(f=!0,c._recentInputs[g]=i)}),f||(this._firstInputs.push(i),this._recentInputs.push(i))},e._removePointerEvent=function(i){this._firstInputs=this._firstInputs.filter(function(c){return c.pointerId!==i.pointerId}),this._recentInputs=this._recentInputs.filter(function(c){return c.pointerId!==i.pointerId})},o}(EventInput),TouchMouseEventInput=function(_){__extends$2(o,_);function o(){var i=_!==null&&_.apply(this,arguments)||this;return i.start=["mousedown","touchstart"],i.move=["mousemove","touchmove"],i.end=["mouseup","touchend","touchcancel"],i}var e=o.prototype;return e.onEventStart=function(i,c,f){var m=this._getButton(i);return this._isTouchEvent(i)&&(this._baseTouches=i.touches),this._isValidEvent(i,c,f)?(this._preventMouseButton(i,m),this.extendEvent(i)):null},e.onEventMove=function(i,c,f){return this._isValidEvent(i,c,f)?this.extendEvent(i):null},e.onEventEnd=function(i){this._isTouchEvent(i)&&(this._baseTouches=i.touches)},e.onRelease=function(){this.prevEvent=null,this._baseTouches=null},e.getTouches=function(i,c){return this._isTouchEvent(i)?i.touches.length:this._isValidButton(MOUSE_BUTTON_CODE_MAP[i.which],c)&&this.end.indexOf(i.type)===-1?1:0},e._getScale=function(i){return this._isTouchEvent(i)?i.touches.length!==2||this._baseTouches.length<2?1:this._getDistance(i.touches[0],i.touches[1])/this._getDistance(this._baseTouches[0],this._baseTouches[1]):this.prevEvent.scale},e._getCenter=function(i){return this._isTouchEvent(i)?{x:i.touches[0].clientX,y:i.touches[0].clientY}:{x:i.clientX,y:i.clientY}},e._getMovement=function(i){var c=this,f=this.prevEvent.srcEvent,m=[i,f].map(function(Oe){return c._isTouchEvent(Oe)?{id:Oe.touches[0].identifier,x:Oe.touches[0].clientX,y:Oe.touches[0].clientY}:{id:null,x:Oe.clientX,y:Oe.clientY}}),g=m[0],Te=m[1];return g.id===Te.id?{x:g.x-Te.x,y:g.y-Te.y}:{x:0,y:0}},o}(EventInput),toAxis=function(_,o){return o.reduce(function(e,i,c){return _[c]&&(e[_[c]]=i),e},{})},convertInputType=function(_){_===void 0&&(_=[]);var o=!1,e=!1,i=!1;return _.forEach(function(c){switch(c){case"mouse":e=!0;break;case"touch":o=SUPPORT_TOUCH;break;case"pointer":i=SUPPORT_POINTER_EVENTS}}),i?new PointerEventInput:o&&e?new TouchMouseEventInput:o?new TouchEventInput:e?new MouseEventInput:null};function getAddEventOptions(_){return _.indexOf("touch")>-1?{passive:!1}:!1}var InputObserver=function(){function _(e){var i=e.options,c=e.interruptManager,f=e.eventManager,m=e.axisManager,g=e.animationManager;this._isOutside=!1,this._moveDistance=null,this._isStopped=!1,this.options=i,this._interruptManager=c,this._eventManager=f,this._axisManager=m,this._animationManager=g}var o=_.prototype;return o.get=function(e){return this._axisManager.get(e.axes)},o.hold=function(e,i){if(!(this._interruptManager.isInterrupted()||!e.axes.length)){var c={input:e,event:i};this._isStopped=!1,this._interruptManager.setInterrupt(!0),this._animationManager.stopAnimation(c),++this._eventManager.holdingCount,this._moveDistance||this._eventManager.hold(this._axisManager.get(),c),this._isOutside=this._axisManager.isOutside(e.axes),this._moveDistance=this._axisManager.get(e.axes)}},o.change=function(e,i,c,f){if(!(this._isStopped||!this._interruptManager.isInterrupting()||this._axisManager.every(c,function(De){return De===0}))){var m=i.srcEvent?i.srcEvent:i;if(!m.__childrenAxesAlreadyChanged){var g=this._moveDistance||this._axisManager.get(e.axes),Te;Te=map(g,function(De,Ee){return De+(c[Ee]||0)}),this._moveDistance&&(this._moveDistance=this._axisManager.map(Te,function(De,Ee){var qe=Ee.circular,Be=Ee.range;return qe&&(qe[0]||qe[1])?getCirculatedPos(De,Be,qe):De})),this._isOutside&&this._axisManager.every(g,function(De,Ee){return!isOutside(De,Ee.range)})&&(this._isOutside=!1),g=this._atOutside(g),Te=this._atOutside(Te),(!this.options.nested||!this._isEndofAxis(c,g,Te))&&(m.__childrenAxesAlreadyChanged=!0);var Oe={input:e,event:i};if(f){var Ie=this._animationManager.getDuration(Te,g);this._animationManager.animateTo(Te,Ie,Oe)}else{var _e=!this._eventManager.triggerChange(Te,g,Oe,!0);_e&&(this._isStopped=!0,this._moveDistance=null,this._animationManager.finish(!1))}}}},o.release=function(e,i,c,f){if(!(this._isStopped||!this._interruptManager.isInterrupting()||!this._moveDistance)){var m=i.srcEvent?i.srcEvent:i;m.__childrenAxesAlreadyReleased&&(c=c.map(function(){return 0}));var g=this._axisManager.get(e.axes),Te=this._axisManager.get(),Oe=this._animationManager.getDisplacement(c),Ie=toAxis(e.axes,Oe),_e=this._axisManager.get(this._axisManager.map(Ie,function(Ve,Ue,We){return Ue.circular&&(Ue.circular[0]||Ue.circular[1])?g[We]+Ve:getInsidePosition(g[We]+Ve,Ue.range,Ue.circular,Ue.bounce)}));m.__childrenAxesAlreadyReleased=!0;var De=this._animationManager.getDuration(_e,g,f);De===0&&(_e=__assign$2({},Te));var Ee={depaPos:Te,destPos:_e,duration:De,delta:this._axisManager.getDelta(Te,_e),inputEvent:i,input:e,isTrusted:!0};--this._eventManager.holdingCount,this._eventManager.triggerRelease(Ee),this._eventManager.holdingCount===0&&(this._moveDistance=null);var qe=this._animationManager.getUserControl(Ee),Be=equal(qe.destPos,Te),Ne={input:e,event:i};Be||qe.duration===0?(Be||this._eventManager.triggerChange(qe.destPos,Te,Ne,!0),this._interruptManager.setInterrupt(!1),this._axisManager.isOutside()?this._animationManager.restore(Ne):this._eventManager.triggerFinish(!0)):this._animationManager.animateTo(qe.destPos,qe.duration,Ne)}},o._atOutside=function(e){var i=this;return this._isOutside?this._axisManager.map(e,function(c,f){var m=f.range[0]-f.bounce[0],g=f.range[1]+f.bounce[1];return c>g?g:c<m?m:c}):this._axisManager.map(e,function(c,f){var m=f.range[0],g=f.range[1],Te=f.bounce,Oe=f.circular;return Oe[0]&&c<m||Oe[1]&&c>g?c:c<m?m-i._animationManager.interpolate(m-c,Te[0]):c>g?g+i._animationManager.interpolate(c-g,Te[1]):c})},o._isEndofAxis=function(e,i,c){return this._axisManager.every(i,function(f,m,g){return e[g]===0||i[g]===c[g]&&isEndofBounce(f,m.range,m.bounce,m.circular)})},_}(),clamp$1=function(_,o,e){return Math.max(Math.min(_,e),o)},AnimationManager=function(){function _(e){var i=e.options,c=e.interruptManager,f=e.eventManager,m=e.axisManager;this._options=i,this.interruptManager=c,this.eventManager=f,this.axisManager=m,this.animationEnd=this.animationEnd.bind(this)}var o=_.prototype;return o.getDuration=function(e,i,c){var f=this,m;if(typeof c<"u")m=c;else{var g=map(i,function(Te,Oe){return getDuration(Math.abs(Te-e[Oe]),f._options.deceleration)});m=Object.keys(g).reduce(function(Te,Oe){return Math.max(Te,g[Oe])},-1/0)}return clamp$1(m,this._options.minimumDuration,this._options.maximumDuration)},o.getDisplacement=function(e){var i=Math.pow(e.reduce(function(f,m){return f+m*m},0),1/e.length),c=Math.abs(i/-this._options.deceleration);return e.map(function(f){return f/2*c})},o.stopAnimation=function(e){if(this._animateParam){var i=this.axisManager.get(),c=this.axisManager.map(i,function(f,m){return getCirculatedPos(f,m.range,m.circular)});every(c,function(f,m){return i[m]===f})||this.eventManager.triggerChange(c,i,e,!!e),this._animateParam=null,this._raf&&cancelAnimationFrame(this._raf),this._raf=null,this.eventManager.triggerAnimationEnd(!!(e!=null&&e.event))}},o.getEventInfo=function(){return this._animateParam&&this._animateParam.input&&this._animateParam.inputEvent?{input:this._animateParam.input,event:this._animateParam.inputEvent}:null},o.restore=function(e){var i=this.axisManager.get(),c=this.axisManager.map(i,function(f,m){return Math.min(m.range[1],Math.max(m.range[0],f))});this.stopAnimation(),this.animateTo(c,this.getDuration(i,c),e)},o.animationEnd=function(){var e=this.getEventInfo();this._animateParam=null;var i=this.axisManager.filter(this.axisManager.get(),function(c,f){return isCircularable(c,f.range,f.circular)});Object.keys(i).length>0&&this.setTo(this.axisManager.map(i,function(c,f){return getCirculatedPos(c,f.range,f.circular)})),this.interruptManager.setInterrupt(!1),this.eventManager.triggerAnimationEnd(!!e),this.axisManager.isOutside()?this.restore(e):this.finish(!!e)},o.finish=function(e){this._animateParam=null,this.interruptManager.setInterrupt(!1),this.eventManager.triggerFinish(e)},o.getUserControl=function(e){var i=e.setTo();return i.destPos=this.axisManager.get(i.destPos),i.duration=clamp$1(i.duration,this._options.minimumDuration,this._options.maximumDuration),i},o.animateTo=function(e,i,c){var f=this;this.stopAnimation();var m=this._createAnimationParam(e,i,c),g=__assign$2({},m.depaPos),Te=this.eventManager.triggerAnimationStart(m),Oe=this.getUserControl(m);if(!Te&&this.axisManager.every(Oe.destPos,function(_e,De){return isCircularable(_e,De.range,De.circular)})&&console.warn("You can't stop the 'animation' event when 'circular' is true."),Te&&!equal(Oe.destPos,g)){var Ie=(c==null?void 0:c.event)||null;this._animateLoop({depaPos:g,destPos:Oe.destPos,duration:Oe.duration,delta:this.axisManager.getDelta(g,Oe.destPos),isTrusted:!!Ie,inputEvent:Ie,input:(c==null?void 0:c.input)||null},function(){return f.animationEnd()})}},o.setTo=function(e,i){i===void 0&&(i=0);var c=Object.keys(e),f=this.axisManager.get(c);if(equal(e,f))return this;this.interruptManager.setInterrupt(!0);var m=filter(e,function(g,Te){return f[Te]!==g});return Object.keys(m).length?(m=this.axisManager.map(m,function(g,Te){var Oe=Te.range,Ie=Te.circular;return Ie&&(Ie[0]||Ie[1])?g:getInsidePosition(g,Oe,Ie)}),equal(m,f)?this:(i>0?this.animateTo(m,i):(this.stopAnimation(),this.eventManager.triggerChange(m),this.finish(!1)),this)):this},o.setBy=function(e,i){return i===void 0&&(i=0),this.setTo(map(this.axisManager.get(Object.keys(e)),function(c,f){return c+e[f]}),i)},o.setOptions=function(e){this._options=__assign$2(__assign$2({},this._options),e)},o._createAnimationParam=function(e,i,c){var f=this.axisManager.get(),m=e,g=(c==null?void 0:c.event)||null;return{depaPos:f,destPos:m,duration:clamp$1(i,this._options.minimumDuration,this._options.maximumDuration),delta:this.axisManager.getDelta(f,m),inputEvent:g,input:(c==null?void 0:c.input)||null,isTrusted:!!g,done:this.animationEnd}},o._animateLoop=function(e,i){var c=this;if(e.duration){this._animateParam=__assign$2(__assign$2({},e),{startTime:new Date().getTime()});var f=map(e.destPos,function(Te){return Te}),m=this._initState(this._animateParam),g=function(){c._raf=null;var Te=c._animateParam,Oe=c._getNextState(m),Ie=!c.eventManager.triggerChange(Oe.pos,m.pos);if(m=Oe,Oe.finished){Te.destPos=c._getFinalPos(Te.destPos,f),equal(Te.destPos,c.axisManager.get(Object.keys(Te.destPos)))||c.eventManager.triggerChange(Te.destPos,Oe.pos),i();return}else Ie?c.finish(!1):c._raf=requestAnimationFrame$1(g)};g()}else this.eventManager.triggerChange(e.destPos),i()},o._getFinalPos=function(e,i){var c=this,f=1e-6,m=map(e,function(g,Te){if(g>=i[Te]-f&&g<=i[Te]+f)return i[Te];var Oe=c._getRoundUnit(g,Te),Ie=roundNumber(g,Oe);return Ie});return m},o._getRoundUnit=function(e,i){var c=this._options.round,f=null;if(!c){var m=this.axisManager.getAxisOptions(i);f=inversePow(Math.max(getDecimalPlace(m.range[0]),getDecimalPlace(m.range[1]),getDecimalPlace(e)))}return f||c},_}(),EasingManager=function(_){__extends$2(o,_);function o(){var i=_!==null&&_.apply(this,arguments)||this;return i._useDuration=!0,i}var e=o.prototype;return e.interpolate=function(i,c){var f=this._easing(1e-5)/1e-5;return this._easing(i/(c*f))*c},e.updateAnimation=function(i){var c,f=this._animateParam;if(f){var m=new Date().getTime()-f.startTime,g=(i==null?void 0:i.destPos)||f.destPos,Te=(c=i==null?void 0:i.duration)!==null&&c!==void 0?c:f.duration;if(i!=null&&i.restart||Te<=m){this.setTo(g,Te-m);return}if(i!=null&&i.destPos){var Oe=this.axisManager.get();this._initialEasingPer=this._prevEasingPer,f.delta=this.axisManager.getDelta(Oe,g),f.destPos=g}if(i!=null&&i.duration){var Ie=(m+this._durationOffset)/f.duration;this._durationOffset=Ie*Te-m,f.duration=Te}}},e._initState=function(i){return this._initialEasingPer=0,this._prevEasingPer=0,this._durationOffset=0,{pos:i.depaPos,easingPer:0,finished:!1}},e._getNextState=function(i){var c=this,f=this._animateParam,m=i.pos,g=f.destPos,Te=map(m,function(Ee,qe){return Ee<=g[qe]?1:-1}),Oe=new Date().getTime()-f.startTime,Ie=(Oe+this._durationOffset)/f.duration,_e=this._easing(Ie),De=this.axisManager.map(m,function(Ee,qe,Be){var Ne=Ie>=1?g[Be]:Ee+f.delta[Be]*(_e-c._prevEasingPer)/(1-c._initialEasingPer),Ve=getCirculatedPos(Ne,qe.range,qe.circular);if(Ne!==Ve){var Ue=Te[Be]*(qe.range[1]-qe.range[0]);g[Be]-=Ue,m[Be]-=Ue}return Ve});return this._prevEasingPer=_e,{pos:De,easingPer:_e,finished:_e>=1}},e._easing=function(i){return i>1?1:this._options.easing(i)},o}(AnimationManager),Axes=function(_){__extends$2(o,_);function o(i,c,f){i===void 0&&(i={}),c===void 0&&(c={}),f===void 0&&(f={});var m=_.call(this)||this;return m.axis=i,m._inputs=[],m.options=__assign$2({easing:function(g){return 1-Math.pow(1-g,3)},interruptable:!0,maximumDuration:1/0,minimumDuration:0,deceleration:6e-4,round:null,nested:!1},c),Object.keys(f).forEach(function(g){m.axis[g].startPos=f[g]}),m.interruptManager=new InterruptManager(m.options),m.axisManager=new AxisManager(m.axis),m.eventManager=new EventManager(m),m.animationManager=new EasingManager(m),m.inputObserver=new InputObserver(m),m.eventManager.setAnimationManager(m.animationManager),m.eventManager.triggerChange(m.axisManager.get()),m}var e=o.prototype;return Object.defineProperty(e,"holding",{get:function(){return this.eventManager.holdingCount>0},enumerable:!1,configurable:!0}),e.connect=function(i,c){var f;return typeof i=="string"?f=i.split(" "):f=i.concat(),~this._inputs.indexOf(c)&&this.disconnect(c),c.mapAxes(f),c.connect(this.inputObserver),this._inputs.push(c),this},e.disconnect=function(i){if(i){var c=this._inputs.indexOf(i);c>=0&&(this._inputs[c].disconnect(),this._inputs.splice(c,1))}else this._inputs.forEach(function(f){return f.disconnect()}),this._inputs=[];return this},e.get=function(i){return this.axisManager.get(i)},e.setTo=function(i,c){return c===void 0&&(c=0),this.animationManager.setTo(i,c),this},e.setBy=function(i,c){return c===void 0&&(c=0),this.animationManager.setBy(i,c),this},e.setOptions=function(i){return this.options=__assign$2(__assign$2({},this.options),i),this.animationManager.setOptions(i),this},e.setAxis=function(i){return this.axisManager.setAxis(i),this},e.stopAnimation=function(){return this.animationManager.stopAnimation(),this.animationManager.finish(!1),this},e.updateAnimation=function(i){return this.animationManager.updateAnimation(i),this},e.isBounceArea=function(i){return this.axisManager.isOutside(i)},e.destroy=function(){this.disconnect(),this.eventManager.destroy()},o.VERSION="3.9.1",o.TRANSFORM=TRANSFORM,o.DIRECTION_NONE=DIRECTION_NONE,o.DIRECTION_LEFT=DIRECTION_LEFT,o.DIRECTION_RIGHT=DIRECTION_RIGHT,o.DIRECTION_UP=DIRECTION_UP,o.DIRECTION_DOWN=DIRECTION_DOWN,o.DIRECTION_HORIZONTAL=DIRECTION_HORIZONTAL,o.DIRECTION_VERTICAL=DIRECTION_VERTICAL,o.DIRECTION_ALL=DIRECTION_ALL,__decorate([Computed],o.prototype,"holding",null),o=__decorate([ReactiveSubscribe],o),o}(Component),getDirectionByAngle=function(_,o){if(o<0||o>90)return DIRECTION_NONE;var e=Math.abs(_);return e>o&&e<180-o?DIRECTION_VERTICAL:DIRECTION_HORIZONTAL},PanInput=function(){function _(e,i){var c=this;this.axes=[],this.element=null,this._enabled=!1,this._activeEvent=null,this._atRightEdge=!1,this._rightEdgeTimer=0,this._dragged=!1,this._isOverThreshold=!1,this._preventClickWhenDragged=function(f){c._dragged&&(f.preventDefault(),f.stopPropagation()),c._dragged=!1},this._voidFunction=function(){},this.element=$(e),this.options=__assign$2({inputType:["touch","mouse","pointer"],inputKey:[ANY],inputButton:[MOUSE_LEFT],scale:[1,1],thresholdAngle:45,threshold:0,preventClickOnDrag:!1,preventDefaultOnDrag:!1,iOSEdgeSwipeThreshold:IOS_EDGE_THRESHOLD,releaseOnScroll:!1,touchAction:null},i),this._onPanstart=this._onPanstart.bind(this),this._onPanmove=this._onPanmove.bind(this),this._onPanend=this._onPanend.bind(this)}var o=_.prototype;return o.mapAxes=function(e){this._direction=getDirection$1(!!e[0],!!e[1]),this.axes=e},o.connect=function(e){return this._activeEvent&&(this._detachElementEvent(),this._detachWindowEvent(this._activeEvent)),this._attachElementEvent(e),this},o.disconnect=function(){return this._detachElementEvent(),this._detachWindowEvent(this._activeEvent),this._direction=DIRECTION_NONE,this},o.destroy=function(){this.disconnect(),this.element=null},o.enable=function(){return this._enabled||(this._enabled=!0,this._originalCssProps=setCssProps(this.element,this.options,this._direction)),this},o.disable=function(){return this._enabled&&(this._enabled=!1,isCssPropsFromAxes(this._originalCssProps)||revertCssProps(this.element,this._originalCssProps)),this},o.isEnabled=function(){return this._enabled},o.release=function(){var e=this._activeEvent,i=e.prevEvent;return e.onRelease(),this._observer.release(this,i,[0,0]),this._detachWindowEvent(e),this},o._onPanstart=function(e){var i=this.options,c=i.inputKey,f=i.inputButton,m=i.preventDefaultOnDrag,g=this._activeEvent,Te=g.onEventStart(e,c,f);if(!(!Te||!this._enabled||g.getTouches(e,f)>1)&&Te.srcEvent.cancelable!==!1){var Oe=this.options.iOSEdgeSwipeThreshold;this._dragged=!1,this._isOverThreshold=!1,this._observer.hold(this,Te),this._atRightEdge=IS_IOS_SAFARI&&Te.center.x>window.innerWidth-Oe,this._attachWindowEvent(g),m&&Te.srcEvent.type!=="touchstart"&&Te.srcEvent.preventDefault(),g.prevEvent=Te}},o._onPanmove=function(e){var i=this,c=this.options,f=c.iOSEdgeSwipeThreshold,m=c.preventClickOnDrag,g=c.releaseOnScroll,Te=c.inputKey,Oe=c.inputButton,Ie=c.threshold,_e=c.thresholdAngle,De=this._activeEvent,Ee=De.onEventMove(e,Te,Oe),qe=De.getTouches(e,Oe);if(qe===0||g&&Ee&&!Ee.srcEvent.cancelable){this._onPanend(e);return}if(!(!Ee||!this._enabled||qe>1)){var Be=getDirectionByAngle(Ee.angle,_e),Ne=useDirection(DIRECTION_HORIZONTAL,this._direction,Be),Ve=useDirection(DIRECTION_VERTICAL,this._direction,Be);if(De.prevEvent&&IS_IOS_SAFARI){var Ue=Ee.center.x<0;if(Ue){this.release();return}else if(this._atRightEdge){clearTimeout(this._rightEdgeTimer);var We=Ee.deltaX<-f;We?this._atRightEdge=!1:this._rightEdgeTimer=window.setTimeout(function(){return i.release()},100)}}var He=this._getDistance([Ee.deltaX,Ee.deltaY],[Ne,Ve]),Ze=this._getOffset([Ee.offsetX,Ee.offsetY],[Ne,Ve]),st=Ze.some(function(it){return it!==0});st&&(Ee.srcEvent.cancelable!==!1&&Ee.srcEvent.preventDefault(),Ee.srcEvent.stopPropagation()),Ee.preventSystemEvent=st,st&&(this._isOverThreshold||He>=Ie)&&(this._dragged=m,this._isOverThreshold=!0,this._observer.change(this,Ee,toAxis(this.axes,Ze))),De.prevEvent=Ee}},o._onPanend=function(e){var i=this.options.inputButton,c=this._activeEvent;if(c.onEventEnd(e),!(!this._enabled||c.getTouches(e,i)!==0)){this._detachWindowEvent(c),clearTimeout(this._rightEdgeTimer);var f=c.prevEvent,m=this._isOverThreshold?this._getOffset([Math.abs(f.velocityX)*(f.offsetX<0?-1:1),Math.abs(f.velocityY)*(f.offsetY<0?-1:1)],[useDirection(DIRECTION_HORIZONTAL,this._direction),useDirection(DIRECTION_VERTICAL,this._direction)]):[0,0];c.onRelease(),this._observer.release(this,f,m)}},o._attachWindowEvent=function(e){var i=this;e==null||e.move.forEach(function(c){window.addEventListener(c,i._onPanmove,getAddEventOptions(c))}),e==null||e.end.forEach(function(c){window.addEventListener(c,i._onPanend,getAddEventOptions(c))})},o._detachWindowEvent=function(e){var i=this;e==null||e.move.forEach(function(c){window.removeEventListener(c,i._onPanmove)}),e==null||e.end.forEach(function(c){window.removeEventListener(c,i._onPanend)})},o._getOffset=function(e,i){var c=this.options.scale;return[i[0]?e[0]*c[0]:0,i[1]?e[1]*c[1]:0]},o._getDistance=function(e,i){return Math.sqrt(Number(i[0])*Math.pow(e[0],2)+Number(i[1])*Math.pow(e[1],2))},o._attachElementEvent=function(e){var i=this,c=convertInputType(this.options.inputType),f=this.element;if(c){if(!f)throw new Error("Element to connect input does not exist.");this._observer=e,this.enable(),this._activeEvent=c,f.addEventListener("click",this._preventClickWhenDragged,!0),c.start.forEach(function(m){f.addEventListener(m,i._onPanstart)}),c.move.forEach(function(m){f.addEventListener(m,i._voidFunction)})}},o._detachElementEvent=function(){var e=this,i=this._activeEvent,c=this.element;c&&(c.removeEventListener("click",this._preventClickWhenDragged,!0),i==null||i.start.forEach(function(f){c.removeEventListener(f,e._onPanstart)}),i==null||i.move.forEach(function(f){c.removeEventListener(f,e._voidFunction)})),this.disable(),this._observer=null},_}();const Axes$1=Axes;var extendStatics$1=function(_,o){return extendStatics$1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])},extendStatics$1(_,o)};function __extends$1(_,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");extendStatics$1(_,o);function e(){this.constructor=_}_.prototype=o===null?Object.create(o):(e.prototype=o.prototype,new e)}var __assign$1=function(){return __assign$1=Object.assign||function(o){for(var e,i=1,c=arguments.length;i<c;i++){e=arguments[i];for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(o[f]=e[f])}return o},__assign$1.apply(this,arguments)};function __spreadArrays(){for(var _=0,o=0,e=arguments.length;o<e;o++)_+=arguments[o].length;for(var i=Array(_),c=0,o=0;o<e;o++)for(var f=arguments[o],m=0,g=f.length;m<g;m++,c++)i[c]=f[m];return i}var isWindow=typeof window<"u",ua$1=isWindow?window.navigator.userAgent:"",SUPPORT_COMPUTEDSTYLE=isWindow?"getComputedStyle"in window:!1,IS_IE=/MSIE|Trident|Windows Phone|Edge/.test(ua$1),SUPPORT_ADDEVENTLISTENER=isWindow?"addEventListener"in document:!1,WIDTH="width",HEIGHT="height";function getAttribute(_,o){return _.getAttribute(o)||""}function toArray$1(_){return[].slice.call(_)}function hasSizeAttribute(_,o){return o===void 0&&(o="data-"),!!_.getAttribute(o+"width")}function hasLoadingAttribute(_,o){return o===void 0&&(o="data-"),"loading"in _&&_.getAttribute("loading")==="lazy"||!!_.getAttribute(o+"lazy")}function hasSkipAttribute(_,o){return o===void 0&&(o="data-"),!!_.getAttribute(o+"skip")}function addEvent(_,o,e){SUPPORT_ADDEVENTLISTENER?_.addEventListener(o,e,!1):_.attachEvent?_.attachEvent("on"+o,e):_["on"+o]=e}function removeEvent(_,o,e){_.removeEventListener?_.removeEventListener(o,e,!1):_.detachEvent?_.detachEvent("on"+o,e):_["on"+o]=null}function innerWidth(_){return getSize(_,"Width")}function innerHeight(_){return getSize(_,"Height")}function getStyles(_){return(SUPPORT_COMPUTEDSTYLE?window.getComputedStyle(_):_.currentStyle)||{}}function getSize(_,o){var e=_["client"+o]||_["offset"+o];return parseFloat(e||getStyles(_)[o.toLowerCase()])||0}function getContentElements(_,o,e){var i=toArray$1(_.querySelectorAll(__spreadArrays(["["+e+"skip] ["+e+"width]"],o.map(function(c){return["["+e+"skip] "+c,c+"["+e+"skip]","["+e+"width] "+c].join(", ")})).join(", ")));return toArray$1(_.querySelectorAll("["+e+"width], "+o.join(", "))).filter(function(c){return i.indexOf(c)===-1})}var elements=[];function addAutoSizer(_,o){!elements.length&&addEvent(window,"resize",resizeAllAutoSizers),_.__PREFIX__=o,elements.push(_),resize(_)}function removeAutoSizer(_,o){var e=elements.indexOf(_);if(!(e<0)){var i=getAttribute(_,o+"fixed");delete _.__PREFIX__,_.style[i===HEIGHT?WIDTH:HEIGHT]="",elements.splice(e,1),!elements.length&&removeEvent(window,"resize",resizeAllAutoSizers)}}function resize(_,o){o===void 0&&(o="data-");var e=_.__PREFIX__||o,i=parseInt(getAttribute(_,""+e+WIDTH),10)||0,c=parseInt(getAttribute(_,""+e+HEIGHT),10)||0,f=getAttribute(_,e+"fixed");if(f===HEIGHT){var m=innerHeight(_)||c;_.style[WIDTH]=i/c*m+"px"}else{var m=innerWidth(_)||i;_.style[HEIGHT]=c/i*m+"px"}}function resizeAllAutoSizers(){elements.forEach(function(_){resize(_)})}var Loader=function(_){__extends$1(o,_);function o(i,c){c===void 0&&(c={});var f=_.call(this)||this;f.isReady=!1,f.isPreReady=!1,f.hasDataSize=!1,f.hasLoading=!1,f.isSkip=!1,f.onCheck=function(g){if(f.clear(),g&&g.type==="error"&&f.onError(f.element),!(f.hasLoading&&f.checkElement())){var Te=!f.hasDataSize&&!f.hasLoading;f.onReady(Te)}},f.options=__assign$1({prefix:"data-"},c),f.element=i;var m=f.options.prefix;return f.hasDataSize=hasSizeAttribute(i,m),f.isSkip=hasSkipAttribute(i,m),f.hasLoading=hasLoadingAttribute(i,m),f}var e=o.prototype;return e.check=function(){return this.isSkip||!this.checkElement()?(this.onAlreadyReady(!0),!1):(this.hasDataSize&&addAutoSizer(this.element,this.options.prefix),(this.hasDataSize||this.hasLoading)&&this.onAlreadyPreReady(),!0)},e.addEvents=function(){var i=this,c=this.element;this.constructor.EVENTS.forEach(function(f){addEvent(c,f,i.onCheck)})},e.clear=function(){var i=this,c=this.element;this.constructor.EVENTS.forEach(function(f){removeEvent(c,f,i.onCheck)}),this.removeAutoSizer()},e.destroy=function(){this.clear(),this.off()},e.removeAutoSizer=function(){if(this.hasDataSize){var i=this.options.prefix;removeAutoSizer(this.element,i)}},e.onError=function(i){this.trigger("error",{element:this.element,target:i})},e.onPreReady=function(){this.isPreReady||(this.isPreReady=!0,this.trigger("preReady",{element:this.element,hasLoading:this.hasLoading,isSkip:this.isSkip}))},e.onReady=function(i){this.isReady||(i=!this.isPreReady&&i,i&&(this.isPreReady=!0),this.removeAutoSizer(),this.isReady=!0,this.trigger("ready",{element:this.element,withPreReady:i,hasLoading:this.hasLoading,isSkip:this.isSkip}))},e.onAlreadyError=function(i){var c=this;setTimeout(function(){c.onError(i)})},e.onAlreadyPreReady=function(){var i=this;setTimeout(function(){i.onPreReady()})},e.onAlreadyReady=function(i){var c=this;setTimeout(function(){c.onReady(i)})},o.EVENTS=[],o}(Component),ElementLoader=function(_){__extends$1(o,_);function o(){return _!==null&&_.apply(this,arguments)||this}var e=o.prototype;return e.setHasLoading=function(i){this.hasLoading=i},e.check=function(){return this.isSkip?(this.onAlreadyReady(!0),!1):(this.hasDataSize?(addAutoSizer(this.element,this.options.prefix),this.onAlreadyPreReady()):this.trigger("requestChildren"),!0)},e.checkElement=function(){return!0},e.destroy=function(){this.clear(),this.trigger("requestDestroy"),this.off()},e.onAlreadyPreReady=function(){_.prototype.onAlreadyPreReady.call(this),this.trigger("reqeustReadyChildren")},o.EVENTS=[],o}(Loader),ImReadyManager=function(_){__extends$1(o,_);function o(i){i===void 0&&(i={});var c=_.call(this)||this;return c.readyCount=0,c.preReadyCount=0,c.totalCount=0,c.totalErrorCount=0,c.isPreReadyOver=!0,c.elementInfos=[],c.options=__assign$1({loaders:{},prefix:"data-"},i),c}var e=o.prototype;return e.check=function(i){var c=this,f=this.options.prefix;this.clear(),this.elementInfos=toArray$1(i).map(function(g,Te){var Oe=c.getLoader(g,{prefix:f});return Oe.check(),Oe.on("error",function(Ie){c.onError(Te,Ie.target)}).on("preReady",function(Ie){var _e=c.elementInfos[Te];_e.hasLoading=Ie.hasLoading,_e.isSkip=Ie.isSkip;var De=c.checkPreReady(Te);c.onPreReadyElement(Te),De&&c.onPreReady()}).on("ready",function(Ie){var _e=Ie.withPreReady,De=Ie.hasLoading,Ee=Ie.isSkip,qe=c.elementInfos[Te];qe.hasLoading=De,qe.isSkip=Ee;var Be=_e&&c.checkPreReady(Te),Ne=c.checkReady(Te);_e&&c.onPreReadyElement(Te),c.onReadyElement(Te),Be&&c.onPreReady(),Ne&&c.onReady()}),{loader:Oe,element:g,hasLoading:!1,hasError:!1,isPreReady:!1,isReady:!1,isSkip:!1}});var m=this.elementInfos.length;return this.totalCount=m,m||setTimeout(function(){c.onPreReady(),c.onReady()}),this},e.getTotalCount=function(){return this.totalCount},e.isPreReady=function(){return this.elementInfos.every(function(i){return i.isPreReady})},e.isReady=function(){return this.elementInfos.every(function(i){return i.isReady})},e.hasError=function(){return this.totalErrorCount>0},e.clear=function(){this.isPreReadyOver=!1,this.totalCount=0,this.preReadyCount=0,this.readyCount=0,this.totalErrorCount=0,this.elementInfos.forEach(function(i){i.loader&&i.loader.destroy()}),this.elementInfos=[]},e.destroy=function(){this.clear(),this.off()},e.getLoader=function(i,c){var f=this,m=i.tagName.toLowerCase(),g=this.options.loaders,Te=c.prefix,Oe=Object.keys(g);if(g[m])return new g[m](i,c);var Ie=new ElementLoader(i,c),_e=toArray$1(i.querySelectorAll(Oe.join(", ")));Ie.setHasLoading(_e.some(function(qe){return hasLoadingAttribute(qe,Te)}));var De=!1,Ee=this.clone().on("error",function(qe){Ie.onError(qe.target)}).on("ready",function(){Ie.onReady(De)});return Ie.on("requestChildren",function(){var qe=getContentElements(i,Oe,f.options.prefix);Ee.check(qe).on("preReady",function(Be){De=Be.isReady,De||Ie.onPreReady()})}).on("reqeustReadyChildren",function(){Ee.check(_e)}).on("requestDestroy",function(){Ee.destroy()}),Ie},e.clone=function(){return new o(__assign$1({},this.options))},e.checkPreReady=function(i){return this.elementInfos[i].isPreReady=!0,++this.preReadyCount,!(this.preReadyCount<this.totalCount)},e.checkReady=function(i){return this.elementInfos[i].isReady=!0,++this.readyCount,!(this.readyCount<this.totalCount)},e.onError=function(i,c){var f=this.elementInfos[i];f.hasError=!0,this.trigger(new ComponentEvent$1("error",{element:f.element,index:i,target:c,errorCount:this.getErrorCount(),totalErrorCount:++this.totalErrorCount}))},e.onPreReadyElement=function(i){var c=this.elementInfos[i];this.trigger(new ComponentEvent$1("preReadyElement",{element:c.element,index:i,preReadyCount:this.preReadyCount,readyCount:this.readyCount,totalCount:this.totalCount,isPreReady:this.isPreReady(),isReady:this.isReady(),hasLoading:c.hasLoading,isSkip:c.isSkip}))},e.onPreReady=function(){this.isPreReadyOver=!0,this.trigger(new ComponentEvent$1("preReady",{readyCount:this.readyCount,totalCount:this.totalCount,isReady:this.isReady(),hasLoading:this.hasLoading()}))},e.onReadyElement=function(i){var c=this.elementInfos[i];this.trigger(new ComponentEvent$1("readyElement",{index:i,element:c.element,hasError:c.hasError,errorCount:this.getErrorCount(),totalErrorCount:this.totalErrorCount,preReadyCount:this.preReadyCount,readyCount:this.readyCount,totalCount:this.totalCount,isPreReady:this.isPreReady(),isReady:this.isReady(),hasLoading:c.hasLoading,isPreReadyOver:this.isPreReadyOver,isSkip:c.isSkip}))},e.onReady=function(){this.trigger(new ComponentEvent$1("ready",{errorCount:this.getErrorCount(),totalErrorCount:this.totalErrorCount,totalCount:this.totalCount}))},e.getErrorCount=function(){return this.elementInfos.filter(function(i){return i.hasError}).length},e.hasLoading=function(){return this.elementInfos.some(function(i){return i.hasLoading})},o}(Component),ImageLoader=function(_){__extends$1(o,_);function o(){return _!==null&&_.apply(this,arguments)||this}var e=o.prototype;return e.checkElement=function(){var i=this.element,c=i.getAttribute("src");if(i.complete){if(c)return i.naturalWidth||this.onAlreadyError(i),!1;this.onAlreadyPreReady()}return this.addEvents(),IS_IE&&i.setAttribute("src",c),!0},o.EVENTS=["load","error"],o}(Loader),VideoLoader=function(_){__extends$1(o,_);function o(){return _!==null&&_.apply(this,arguments)||this}var e=o.prototype;return e.checkElement=function(){var i=this.element;return i.readyState>=1?!1:i.error?(this.onAlreadyError(i),!1):(this.addEvents(),!0)},o.EVENTS=["loadedmetadata","error"],o}(Loader),ImReady=function(_){__extends$1(o,_);function o(e){return e===void 0&&(e={}),_.call(this,__assign$1({loaders:{img:ImageLoader,video:VideoLoader}},e))||this}return o}(ImReadyManager);const ImReady$1=ImReady;var extendStatics=function(_,o){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])},extendStatics(_,o)};function __extends(_,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");extendStatics(_,o);function e(){this.constructor=_}_.prototype=o===null?Object.create(o):(e.prototype=o.prototype,new e)}var __assign=function(){return __assign=Object.assign||function(o){for(var e,i=1,c=arguments.length;i<c;i++){e=arguments[i];for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(o[f]=e[f])}return o},__assign.apply(this,arguments)};function __awaiter(_,o,e,i){function c(f){return f instanceof e?f:new e(function(m){m(f)})}return new(e||(e=Promise))(function(f,m){function g(Ie){try{Oe(i.next(Ie))}catch(_e){m(_e)}}function Te(Ie){try{Oe(i.throw(Ie))}catch(_e){m(_e)}}function Oe(Ie){Ie.done?f(Ie.value):c(Ie.value).then(g,Te)}Oe((i=i.apply(_,o||[])).next())})}function __generator(_,o){var e={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},i,c,f,m;return m={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function g(Oe){return function(Ie){return Te([Oe,Ie])}}function Te(Oe){if(i)throw new TypeError("Generator is already executing.");for(;m&&(m=0,Oe[0]&&(e=0)),e;)try{if(i=1,c&&(f=Oe[0]&2?c.return:Oe[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,Oe[1])).done)return f;switch(c=0,f&&(Oe=[Oe[0]&2,f.value]),Oe[0]){case 0:case 1:f=Oe;break;case 4:return e.label++,{value:Oe[1],done:!1};case 5:e.label++,c=Oe[1],Oe=[0];continue;case 7:Oe=e.ops.pop(),e.trys.pop();continue;default:if(f=e.trys,!(f=f.length>0&&f[f.length-1])&&(Oe[0]===6||Oe[0]===2)){e=0;continue}if(Oe[0]===3&&(!f||Oe[1]>f[0]&&Oe[1]<f[3])){e.label=Oe[1];break}if(Oe[0]===6&&e.label<f[1]){e.label=f[1],f=Oe;break}if(f&&e.label<f[2]){e.label=f[2],e.ops.push(Oe);break}f[2]&&e.ops.pop(),e.trys.pop();continue}Oe=o.call(_,e)}catch(Ie){Oe=[6,Ie],c=0}finally{i=f=0}if(Oe[0]&5)throw Oe[1];return{value:Oe[0]?Oe[1]:void 0,done:!0}}}function __values(_){var o=typeof Symbol=="function"&&Symbol.iterator,e=o&&_[o],i=0;if(e)return e.call(_);if(_&&typeof _.length=="number")return{next:function(){return _&&i>=_.length&&(_=void 0),{value:_&&_[i++],done:!_}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(_,o){var e=typeof Symbol=="function"&&_[Symbol.iterator];if(!e)return _;var i=e.call(_),c,f=[],m;try{for(;(o===void 0||o-- >0)&&!(c=i.next()).done;)f.push(c.value)}catch(g){m={error:g}}finally{try{c&&!c.done&&(e=i.return)&&e.call(i)}finally{if(m)throw m.error}}return f}function __spread(){for(var _=[],o=0;o<arguments.length;o++)_=_.concat(__read(arguments[o]));return _}typeof SuppressedError=="function"&&SuppressedError;var CODE={WRONG_TYPE:0,ELEMENT_NOT_FOUND:1,VAL_MUST_NOT_NULL:2,NOT_ATTACHED_TO_FLICKING:3,WRONG_OPTION:4,INDEX_OUT_OF_RANGE:5,POSITION_NOT_REACHABLE:6,TRANSFORM_NOT_SUPPORTED:7,STOP_CALLED_BY_USER:8,ANIMATION_INTERRUPTED:9,ANIMATION_ALREADY_PLAYING:10,NOT_ALLOWED_IN_FRAMEWORK:11,NOT_INITIALIZED:12,NO_ACTIVE:13,NOT_ALLOWED_IN_VIRTUAL:14},MESSAGE={WRONG_TYPE:function(_,o){return _+"("+typeof _+") is not a "+o.map(function(e){return'"'+e+'"'}).join(" or ")+"."},ELEMENT_NOT_FOUND:function(_){return'Element with selector "'+_+'" not found.'},VAL_MUST_NOT_NULL:function(_,o){return o+" should be provided. Given: "+_},NOT_ATTACHED_TO_FLICKING:'This module is not attached to the Flicking instance. "init()" should be called first.',WRONG_OPTION:function(_,o){return'Option "'+_+'" is not in correct format, given: '+o},INDEX_OUT_OF_RANGE:function(_,o,e){return'Index "'+_+'" is out of range: should be between '+o+" and "+e+"."},POSITION_NOT_REACHABLE:function(_){return'Position "'+_+'" is not reachable.'},TRANSFORM_NOT_SUPPORTED:"Browser does not support CSS transform.",STOP_CALLED_BY_USER:"Event stop() is called by user.",ANIMATION_INTERRUPTED:"Animation is interrupted by user input.",ANIMATION_ALREADY_PLAYING:"Animation is already playing.",NOT_ALLOWED_IN_FRAMEWORK:"This behavior is not allowed in the frameworks like React, Vue, or Angular.",NOT_INITIALIZED:"Flicking is not initialized yet, call init() first.",NO_ACTIVE:"There's no active panel that Flicking has selected. This may be due to the absence of any panels.",NOT_ALLOWED_IN_VIRTUAL:"This behavior is not allowed when the virtual option is enabled"},EVENTS={READY:"ready",BEFORE_RESIZE:"beforeResize",AFTER_RESIZE:"afterResize",HOLD_START:"holdStart",HOLD_END:"holdEnd",MOVE_START:"moveStart",MOVE:"move",MOVE_END:"moveEnd",WILL_CHANGE:"willChange",CHANGED:"changed",WILL_RESTORE:"willRestore",RESTORED:"restored",SELECT:"select",NEED_PANEL:"needPanel",VISIBLE_CHANGE:"visibleChange",REACH_EDGE:"reachEdge",PANEL_CHANGE:"panelChange"},ALIGN={PREV:"prev",CENTER:"center",NEXT:"next"},DIRECTION={PREV:"PREV",NEXT:"NEXT",NONE:null},MOVE_TYPE={SNAP:"snap",FREE_SCROLL:"freeScroll",STRICT:"strict"},CLASS={VERTICAL:"vertical",HIDDEN:"flicking-hidden",DEFAULT_VIRTUAL:"flicking-panel"},CIRCULAR_FALLBACK={LINEAR:"linear",BOUND:"bound"},ORDER={LTR:"ltr",RTL:"rtl"},getElement=function(_,o){var e=null;if(isString(_)){var i=o||document,c=i.querySelector(_);if(!c)throw new FlickingError(MESSAGE.ELEMENT_NOT_FOUND(_),CODE.ELEMENT_NOT_FOUND);e=c}else _&&_.nodeType===Node.ELEMENT_NODE&&(e=_);if(!e)throw new FlickingError(MESSAGE.WRONG_TYPE(_,["HTMLElement","string"]),CODE.WRONG_TYPE);return e},checkExistence=function(_,o){if(_==null)throw new FlickingError(MESSAGE.VAL_MUST_NOT_NULL(_,o),CODE.VAL_MUST_NOT_NULL)},clamp=function(_,o,e){return Math.max(Math.min(_,e),o)},getFlickingAttached=function(_){if(!_)throw new FlickingError(MESSAGE.NOT_ATTACHED_TO_FLICKING,CODE.NOT_ATTACHED_TO_FLICKING);return _},toArray=function(_){return[].slice.call(_)},parseAlign$1=function(_,o){var e;if(isString(_))switch(_){case ALIGN.PREV:e=0;break;case ALIGN.CENTER:e=.5*o;break;case ALIGN.NEXT:e=o;break;default:if(e=parseArithmeticSize(_,o),e==null)throw new FlickingError(MESSAGE.WRONG_OPTION("align",_),CODE.WRONG_OPTION)}else e=_;return e},parseBounce=function(_,o){var e;if(Array.isArray(_))e=_.map(function(c){return parseArithmeticSize(c,o)});else{var i=parseArithmeticSize(_,o);e=[i,i]}return e.map(function(c){if(c==null)throw new FlickingError(MESSAGE.WRONG_OPTION("bounce",_),CODE.WRONG_OPTION);return c})},parseArithmeticSize=function(_,o){var e=parseArithmeticExpression(_);return e==null?null:e.percentage*o+e.absolute},parseArithmeticExpression=function(_){var o=/(?:(\+|\-)\s*)?(\d+(?:\.\d+)?(%|px)?)/g;if(typeof _=="number")return{percentage:0,absolute:_};for(var e={percentage:0,absolute:0},i=0,c=o.exec(_);c!=null;){var f=c[1],m=c[2],g=c[3],Te=parseFloat(m);if(i<=0&&(f=f||"+"),!f)return null;var Oe=f==="+"?1:-1;g==="%"?e.percentage+=Oe*(Te/100):e.absolute+=Oe*Te,++i,c=o.exec(_)}return i===0?null:e},parsePanelAlign=function(_){return typeof _=="object"?_.panel:_},getDirection=function(_,o){return _===o?DIRECTION.NONE:_<o?DIRECTION.NEXT:DIRECTION.PREV},parseElement=function(_){Array.isArray(_)||(_=[_]);var o=[];return _.forEach(function(e){if(isString(e)){var i=document.createElement("div");for(i.innerHTML=e,o.push.apply(o,__spread(toArray(i.children)));i.firstChild;)i.removeChild(i.firstChild)}else if(e&&e.nodeType===Node.ELEMENT_NODE)o.push(e);else throw new FlickingError(MESSAGE.WRONG_TYPE(e,["HTMLElement","string"]),CODE.WRONG_TYPE)}),o},getMinusCompensatedIndex=function(_,o){return _<0?clamp(_+o,0,o):clamp(_,0,o)},includes=function(_,o){var e,i;try{for(var c=__values(_),f=c.next();!f.done;f=c.next()){var m=f.value;if(m===o)return!0}}catch(g){e={error:g}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(e)throw e.error}}return!1},isString=function(_){return typeof _=="string"},circulatePosition=function(_,o,e){var i=e-o;if(_<o){var c=(o-_)%i;_=e-c}else if(_>e){var c=(_-e)%i;_=o+c}return _},find=function(_,o){var e,i;try{for(var c=__values(_),f=c.next();!f.done;f=c.next()){var m=f.value;if(o(m))return m}}catch(g){e={error:g}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(e)throw e.error}}return null},findIndex=function(_,o){for(var e=0;e<_.length;e++)if(o(_[e]))return e;return-1},getProgress=function(_,o,e){return(_-o)/(e-o)},getStyle=function(_){return window.getComputedStyle(_)||_.currentStyle},setSize=function(_,o){var e=o.width,i=o.height;e!=null&&(isString(e)?_.style.width=e:_.style.width=e+"px"),i!=null&&(isString(i)?_.style.height=i:_.style.height=i+"px")},isBetween=function(_,o,e){return _>=o&&_<=e},circulateIndex=function(_,o){return _>=o?_%o:_<0?getMinusCompensatedIndex((_+1)%o-1,o):_},range=function(_){for(var o=new Array(_),e=0;e<_;e++)o[e]=e;return o},getElementSize=function(_){var o=_.el,e=_.horizontal,i=_.useFractionalSize,c=_.useOffset,f=_.style,m=0;if(i){var g=parseFloat(e?f.width:f.height)||0,Te=f.boxSizing==="border-box",Oe=e?parseFloat(f.borderLeftWidth||"0")+parseFloat(f.borderRightWidth||"0"):parseFloat(f.borderTopWidth||"0")+parseFloat(f.borderBottomWidth||"0");if(Te)m=c?g:g-Oe;else{var Ie=e?parseFloat(f.paddingLeft||"0")+parseFloat(f.paddingRight||"0"):parseFloat(f.paddingTop||"0")+parseFloat(f.paddingBottom||"0");m=c?g+Ie+Oe:g+Ie}}else{var _e=e?"Width":"Height";m=c?o["offset"+_e]:o["client"+_e]}return Math.max(m,0)},setPrototypeOf=Object.setPrototypeOf||function(_,o){return _.__proto__=o,_},FlickingError=function(_){__extends(o,_);function o(e,i){var c=_.call(this,e)||this;return setPrototypeOf(c,o.prototype),c.name="FlickingError",c.code=i,c}return o}(Error),Viewport=function(){function _(e,i){this._flicking=e,this._el=i,this._width=0,this._height=0,this._padding={left:0,right:0,top:0,bottom:0},this._isBorderBoxSizing=!1}var o=_.prototype;return Object.defineProperty(o,"element",{get:function(){return this._el},enumerable:!1,configurable:!0}),Object.defineProperty(o,"width",{get:function(){return this._width-this._padding.left-this._padding.right},enumerable:!1,configurable:!0}),Object.defineProperty(o,"height",{get:function(){return this._height-this._padding.top-this._padding.bottom},enumerable:!1,configurable:!0}),Object.defineProperty(o,"padding",{get:function(){return this._padding},enumerable:!1,configurable:!0}),o.setSize=function(e){var i=e.width,c=e.height,f=this._el,m=this._padding,g=this._isBorderBoxSizing;if(i!=null)if(isString(i))f.style.width=i;else{var Te=g?i+m.left+m.right:i;f.style.width=Te+"px"}if(c!=null)if(isString(c))f.style.height=c;else{var Oe=g?c+m.top+m.bottom:c;f.style.height=Oe+"px"}this.resize()},o.resize=function(){var e=this._el,i=getStyle(e),c=this._flicking.useFractionalSize;this._width=getElementSize({el:e,horizontal:!0,useFractionalSize:c,useOffset:!1,style:i}),this._height=getElementSize({el:e,horizontal:!1,useFractionalSize:c,useOffset:!1,style:i}),this._padding={left:i.paddingLeft?parseFloat(i.paddingLeft):0,right:i.paddingRight?parseFloat(i.paddingRight):0,top:i.paddingTop?parseFloat(i.paddingTop):0,bottom:i.paddingBottom?parseFloat(i.paddingBottom):0},this._isBorderBoxSizing=i.boxSizing==="border-box"},_}(),AutoResizer=function(){function _(e){var i=this;this._onResize=function(){var c=i._flicking,f=c.resizeDebounce,m=c.maxResizeDebounce;f<=0?c.resize():(i._maxResizeDebounceTimer<=0&&m>0&&m>=f&&(i._maxResizeDebounceTimer=window.setTimeout(i._doScheduledResize,m)),i._resizeTimer>0&&(clearTimeout(i._resizeTimer),i._resizeTimer=0),i._resizeTimer=window.setTimeout(i._doScheduledResize,f))},this._doScheduledResize=function(){clearTimeout(i._resizeTimer),clearTimeout(i._maxResizeDebounceTimer),i._maxResizeDebounceTimer=-1,i._resizeTimer=-1,i._flicking.resize()},this._skipFirstResize=function(){var c=!0;return function(){if(c){c=!1;return}i._onResize()}}(),this._flicking=e,this._enabled=!1,this._resizeObserver=null,this._resizeTimer=-1,this._maxResizeDebounceTimer=-1}var o=_.prototype;return Object.defineProperty(o,"enabled",{get:function(){return this._enabled},enumerable:!1,configurable:!0}),o.enable=function(){var e=this._flicking,i=e.viewport;if(this._enabled&&this.disable(),e.useResizeObserver&&window.ResizeObserver){var c=i.width!==0||i.height!==0,f=c?new ResizeObserver(this._skipFirstResize):new ResizeObserver(this._onResize);f.observe(e.viewport.element),this._resizeObserver=f}else window.addEventListener("resize",this._onResize);return this._enabled=!0,this},o.disable=function(){if(!this._enabled)return this;var e=this._resizeObserver;return e?(e.disconnect(),this._resizeObserver=null):window.removeEventListener("resize",this._onResize),this._enabled=!1,this},_}(),VanillaElementProvider=function(){function _(e){this._element=e,this._rendered=!0}var o=_.prototype;return Object.defineProperty(o,"element",{get:function(){return this._element},enumerable:!1,configurable:!0}),Object.defineProperty(o,"rendered",{get:function(){return this._rendered},enumerable:!1,configurable:!0}),o.show=function(e){var i=this.element,c=e.camera.element;i.parentElement!==c&&(c.appendChild(i),this._rendered=!0)},o.hide=function(e){var i=this.element,c=e.camera.element;i.parentElement===c&&(c.removeChild(i),this._rendered=!1)},_}(),VirtualElementProvider=function(){function _(e){this._flicking=e}var o=_.prototype;return Object.defineProperty(o,"element",{get:function(){return this._virtualElement.nativeElement},enumerable:!1,configurable:!0}),Object.defineProperty(o,"rendered",{get:function(){return this._virtualElement.visible},enumerable:!1,configurable:!0}),Object.defineProperty(o,"_virtualElement",{get:function(){var e=this._flicking,i=this._panel.elementIndex,c=e.virtual.elements;return c[i]},enumerable:!1,configurable:!0}),o.init=function(e){this._panel=e},o.show=function(){},o.hide=function(){},_}(),VirtualManager=function(){function _(e,i){var c,f,m,g;this._flicking=e,this._renderPanel=(c=i==null?void 0:i.renderPanel)!==null&&c!==void 0?c:function(){return""},this._initialPanelCount=(f=i==null?void 0:i.initialPanelCount)!==null&&f!==void 0?f:-1,this._cache=(m=i==null?void 0:i.cache)!==null&&m!==void 0?m:!1,this._panelClass=(g=i==null?void 0:i.panelClass)!==null&&g!==void 0?g:CLASS.DEFAULT_VIRTUAL,this._elements=[]}var o=_.prototype;return Object.defineProperty(o,"elements",{get:function(){return this._elements},enumerable:!1,configurable:!0}),Object.defineProperty(o,"renderPanel",{get:function(){return this._renderPanel},set:function(e){this._renderPanel=e,this._flicking.renderer.panels.forEach(function(i){return i.uncacheRenderResult()})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"initialPanelCount",{get:function(){return this._initialPanelCount},enumerable:!1,configurable:!0}),Object.defineProperty(o,"cache",{get:function(){return this._cache},set:function(e){this._cache=e},enumerable:!1,configurable:!0}),Object.defineProperty(o,"panelClass",{get:function(){return this._panelClass},set:function(e){this._panelClass=e},enumerable:!1,configurable:!0}),o.init=function(){var e=this._flicking;if(e.virtualEnabled){!e.externalRenderer&&!e.renderExternal&&this._initVirtualElements();var i=e.camera.children;this._elements=i.map(function(c){return{nativeElement:c,visible:!0}})}},o.show=function(e){var i=this._elements[e],c=i.nativeElement;i.visible=!0,c.style.display&&(c.style.display="")},o.hide=function(e){var i=this._elements[e],c=i.nativeElement;i.visible=!1,c.style.display="none"},o.append=function(e){e===void 0&&(e=1);var i=this._flicking;return this.insert(i.panels.length,e)},o.prepend=function(e){return e===void 0&&(e=1),this.insert(0,e)},o.insert=function(e,i){if(i===void 0&&(i=1),i<=0)return[];var c=this._flicking;return c.renderer.batchInsert({index:e,elements:range(i),hasDOMInElements:!1})},o.remove=function(e,i){if(i<=0)return[];var c=this._flicking;return c.renderer.batchRemove({index:e,deleteCount:i,hasDOMInElements:!1})},o._initVirtualElements=function(){var e=this,i=this._flicking,c=i.camera.element,f=i.panelsPerView,m=document.createDocumentFragment(),g=range(f+1).map(function(Te){var Oe=document.createElement("div");return Oe.className=e._panelClass,Oe.dataset.elementIndex=Te.toString(),Oe});g.forEach(function(Te){m.appendChild(Te)}),c.appendChild(m)},_}(),EVENT={HOLD:"hold",CHANGE:"change",RELEASE:"release",ANIMATION_END:"animationEnd",FINISH:"finish"},POSITION_KEY="flick",STATE_TYPE;(function(_){_[_.IDLE=0]="IDLE",_[_.HOLDING=1]="HOLDING",_[_.DRAGGING=2]="DRAGGING",_[_.ANIMATING=3]="ANIMATING",_[_.DISABLED=4]="DISABLED"})(STATE_TYPE||(STATE_TYPE={}));var State=function(){function _(){this._delta=0,this._targetPanel=null}var o=_.prototype;return Object.defineProperty(o,"delta",{get:function(){return this._delta},enumerable:!1,configurable:!0}),Object.defineProperty(o,"targetPanel",{get:function(){return this._targetPanel},set:function(e){this._targetPanel=e},enumerable:!1,configurable:!0}),o.onEnter=function(e){this._delta=e._delta,this._targetPanel=e._targetPanel},o.onHold=function(e){},o.onChange=function(e){},o.onRelease=function(e){},o.onAnimationEnd=function(e){},o.onFinish=function(e){},o._moveToChangedPosition=function(e){var i=e.flicking,c=e.axesEvent,f=e.transitTo,m=c.delta[POSITION_KEY];if(m){this._delta+=m;var g=i.camera,Te=g.position,Oe=c.pos[POSITION_KEY],Ie=i.circularEnabled?circulatePosition(Oe,g.range.min,g.range.max):Oe;g.lookAt(Ie);var _e=new ComponentEvent$1(EVENTS.MOVE,{isTrusted:c.isTrusted,holding:this.holding,direction:getDirection(0,c.delta[POSITION_KEY]),axesEvent:c});i.trigger(_e),_e.isCanceled()&&(g.lookAt(Te),f(STATE_TYPE.DISABLED))}},_}(),IdleState=function(_){__extends(o,_);function o(){var i=_!==null&&_.apply(this,arguments)||this;return i.holding=!1,i.animating=!1,i}var e=o.prototype;return e.onEnter=function(){this._delta=0,this._targetPanel=null},e.onHold=function(i){var c=i.flicking,f=i.axesEvent,m=i.transitTo;if(c.renderer.panelCount<=0){m(STATE_TYPE.DISABLED);return}var g=new ComponentEvent$1(EVENTS.HOLD_START,{axesEvent:f});c.trigger(g),g.isCanceled()?m(STATE_TYPE.DISABLED):m(STATE_TYPE.HOLDING)},e.onChange=function(i){var c=i.flicking,f=i.axesEvent,m=i.transitTo,g=c.control.controller,Te=g.animatingContext,Oe=new ComponentEvent$1(EVENTS.MOVE_START,{isTrusted:f.isTrusted,holding:this.holding,direction:getDirection(Te.start,Te.end),axesEvent:f});c.trigger(Oe),Oe.isCanceled()?m(STATE_TYPE.DISABLED):m(STATE_TYPE.ANIMATING).onChange(i)},o}(State),HoldingState=function(_){__extends(o,_);function o(){var i=_!==null&&_.apply(this,arguments)||this;return i.holding=!0,i.animating=!1,i._releaseEvent=null,i}var e=o.prototype;return e.onChange=function(i){var c=i.flicking,f=i.axesEvent,m=i.transitTo,g=f.inputEvent,Te=c.horizontal?g.offsetX:g.offsetY,Oe=new ComponentEvent$1(EVENTS.MOVE_START,{isTrusted:f.isTrusted,holding:this.holding,direction:getDirection(0,-Te),axesEvent:f});c.trigger(Oe),Oe.isCanceled()?m(STATE_TYPE.DISABLED):m(STATE_TYPE.DRAGGING).onChange(i)},e.onRelease=function(i){var c=i.flicking,f=i.axesEvent,m=i.transitTo;if(c.trigger(new ComponentEvent$1(EVENTS.HOLD_END,{axesEvent:f})),f.delta.flick!==0){f.setTo({flick:c.camera.position},0),m(STATE_TYPE.IDLE);return}this._releaseEvent=f},e.onFinish=function(i){var c,f,m=i.flicking,g=i.transitTo;if(g(STATE_TYPE.IDLE),!!this._releaseEvent){var Te=this._releaseEvent,Oe=Te.inputEvent.srcEvent,Ie;if(Oe.type==="touchend"){var _e=Oe,De=_e.changedTouches[0];Ie=document.elementFromPoint(De.clientX,De.clientY)}else Ie=Oe.target;var Ee=m.renderer.panels,qe=null;try{for(var Be=__values(Ee),Ne=Be.next();!Ne.done;Ne=Be.next()){var Ve=Ne.value;if(Ve.contains(Ie)){qe=Ve;break}}}catch(He){c={error:He}}finally{try{Ne&&!Ne.done&&(f=Be.return)&&f.call(Be)}finally{if(c)throw c.error}}if(qe){var Ue=m.camera.position,We=qe.position;m.trigger(new ComponentEvent$1(EVENTS.SELECT,{index:qe.index,panel:qe,direction:getDirection(Ue,We)}))}}},o}(State),DraggingState=function(_){__extends(o,_);function o(){var i=_!==null&&_.apply(this,arguments)||this;return i.holding=!0,i.animating=!0,i}var e=o.prototype;return e.onChange=function(i){this._moveToChangedPosition(i)},e.onRelease=function(i){var c,f=i.flicking,m=i.axesEvent,g=i.transitTo;if(f.trigger(new ComponentEvent$1(EVENTS.HOLD_END,{axesEvent:m})),f.renderer.panelCount<=0){g(STATE_TYPE.IDLE);return}g(STATE_TYPE.ANIMATING);var Te=f.control,Oe=m.destPos[POSITION_KEY],Ie=Math.max(m.duration,f.duration);try{Te.moveToPosition(Oe,Ie,m)}catch{g(STATE_TYPE.IDLE),m.setTo((c={},c[POSITION_KEY]=f.camera.position,c),0)}},o}(State),AnimatingState=function(_){__extends(o,_);function o(){var i=_!==null&&_.apply(this,arguments)||this;return i.holding=!1,i.animating=!0,i}var e=o.prototype;return e.onHold=function(i){var c=i.flicking,f=i.axesEvent,m=i.transitTo,g=this._targetPanel,Te=c.control;this._delta=0,c.control.updateInput(),c.changeOnHold&&g&&Te.setActive(g,Te.activePanel,f.isTrusted);var Oe=new ComponentEvent$1(EVENTS.HOLD_START,{axesEvent:f});c.trigger(Oe),Oe.isCanceled()?m(STATE_TYPE.DISABLED):m(STATE_TYPE.DRAGGING)},e.onChange=function(i){this._moveToChangedPosition(i)},e.onFinish=function(i){var c=i.flicking,f=i.axesEvent,m=i.transitTo,g=c.control,Te=g.controller,Oe=Te.animatingContext;m(STATE_TYPE.IDLE),c.trigger(new ComponentEvent$1(EVENTS.MOVE_END,{isTrusted:f.isTrusted,direction:getDirection(Oe.start,Oe.end),axesEvent:f}));var Ie=this._targetPanel;Ie&&g.setActive(Ie,g.activePanel,f.isTrusted)},o}(State),DisabledState=function(_){__extends(o,_);function o(){var i=_!==null&&_.apply(this,arguments)||this;return i.holding=!1,i.animating=!0,i}var e=o.prototype;return e.onAnimationEnd=function(i){var c=i.transitTo;c(STATE_TYPE.IDLE)},e.onChange=function(i){var c=i.axesEvent,f=i.transitTo;c.stop(),f(STATE_TYPE.IDLE)},e.onRelease=function(i){var c=i.axesEvent,f=i.transitTo;c.delta.flick===0&&f(STATE_TYPE.IDLE)},o}(State),StateMachine=function(){function _(){var e=this;this.transitTo=function(i){var c;switch(i){case STATE_TYPE.IDLE:c=new IdleState;break;case STATE_TYPE.HOLDING:c=new HoldingState;break;case STATE_TYPE.DRAGGING:c=new DraggingState;break;case STATE_TYPE.ANIMATING:c=new AnimatingState;break;case STATE_TYPE.DISABLED:c=new DisabledState;break}return c.onEnter(e._state),e._state=c,e._state},this._state=new IdleState}var o=_.prototype;return Object.defineProperty(o,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),o.fire=function(e,i){var c=this._state,f=__assign(__assign({},i),{transitTo:this.transitTo});switch(e){case EVENT.HOLD:c.onHold(f);break;case EVENT.CHANGE:c.onChange(f);break;case EVENT.RELEASE:c.onRelease(f);break;case EVENT.ANIMATION_END:c.onAnimationEnd(f);break;case EVENT.FINISH:c.onFinish(f);break}},_}(),AxesController=function(){function _(){var e=this;this._onAxesHold=function(){e._dragged=!1},this._onAxesChange=function(){var i;e._dragged=!!(!((i=e._panInput)===null||i===void 0)&&i.isEnabled())},this._preventClickWhenDragged=function(i){e._dragged&&(i.preventDefault(),i.stopPropagation()),e._dragged=!1},this._resetInternalValues(),this._stateMachine=new StateMachine}var o=_.prototype;return Object.defineProperty(o,"axes",{get:function(){return this._axes},enumerable:!1,configurable:!0}),Object.defineProperty(o,"panInput",{get:function(){return this._panInput},enumerable:!1,configurable:!0}),Object.defineProperty(o,"stateMachine",{get:function(){return this._stateMachine},enumerable:!1,configurable:!0}),Object.defineProperty(o,"state",{get:function(){return this._stateMachine.state},enumerable:!1,configurable:!0}),Object.defineProperty(o,"animatingContext",{get:function(){return this._animatingContext},enumerable:!1,configurable:!0}),Object.defineProperty(o,"controlParams",{get:function(){var e=this._axes;if(!e)return{range:{min:0,max:0},position:0,circular:!1};var i=e.axis[POSITION_KEY];return{range:{min:i.range[0],max:i.range[1]},circular:i.circular[0],position:this.position}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"enabled",{get:function(){var e,i;return(i=(e=this._panInput)===null||e===void 0?void 0:e.isEnabled())!==null&&i!==void 0?i:!1},enumerable:!1,configurable:!0}),Object.defineProperty(o,"position",{get:function(){var e,i;return(i=(e=this._axes)===null||e===void 0?void 0:e.get([POSITION_KEY])[POSITION_KEY])!==null&&i!==void 0?i:0},enumerable:!1,configurable:!0}),Object.defineProperty(o,"range",{get:function(){var e,i;return(i=(e=this._axes)===null||e===void 0?void 0:e.axis[POSITION_KEY].range)!==null&&i!==void 0?i:[0,0]},enumerable:!1,configurable:!0}),Object.defineProperty(o,"bounce",{get:function(){var e;return(e=this._axes)===null||e===void 0?void 0:e.axis[POSITION_KEY].bounce},enumerable:!1,configurable:!0}),o.init=function(e){var i,c=this;this._flicking=e,this._axes=new Axes$1((i={},i[POSITION_KEY]={range:[0,0],circular:!1,bounce:[0,0]},i),{deceleration:e.deceleration,interruptable:e.interruptable,nested:e.nested,easing:e.easing}),this._panInput=new PanInput(e.viewport.element,{inputType:e.inputType,threshold:1,iOSEdgeSwipeThreshold:e.iOSEdgeSwipeThreshold,preventDefaultOnDrag:e.preventDefaultOnDrag,scale:e.horizontal?[e.camera.panelOrder===ORDER.RTL?1:-1,0]:[0,-1],releaseOnScroll:!0});var f=this._axes;f.connect(e.horizontal?[POSITION_KEY,""]:["",POSITION_KEY],this._panInput);var m=function(Te){var Oe=EVENT[Te];f.on(Oe,function(Ie){c._stateMachine.fire(Oe,{flicking:e,axesEvent:Ie})})};for(var g in EVENT)m(g);return this},o.destroy=function(){var e;this._axes&&(this.removePreventClickHandler(),this._axes.destroy()),(e=this._panInput)===null||e===void 0||e.destroy(),this._resetInternalValues()},o.enable=function(){var e;return(e=this._panInput)===null||e===void 0||e.enable(),this},o.disable=function(){var e;return(e=this._panInput)===null||e===void 0||e.disable(),this},o.release=function(){var e;return(e=this._panInput)===null||e===void 0||e.release(),this},o.updateAnimation=function(e,i){var c,f;return this._animatingContext=__assign(__assign({},this._animatingContext),{end:e}),(f=this._axes)===null||f===void 0||f.updateAnimation({destPos:(c={},c[POSITION_KEY]=e,c),duration:i}),this},o.stopAnimation=function(){var e;return(e=this._axes)===null||e===void 0||e.stopAnimation(),this},o.update=function(e){var i,c=getFlickingAttached(this._flicking),f=c.camera,m=this._axes,g=m.axis[POSITION_KEY];return g.circular=[e.circular,e.circular],g.range=[e.range.min,e.range.max],g.bounce=parseBounce(c.bounce,f.size),m.axisManager.set((i={},i[POSITION_KEY]=e.position,i)),this},o.addPreventClickHandler=function(){var e=getFlickingAttached(this._flicking),i=this._axes,c=e.camera.element;return i.on(EVENT.HOLD,this._onAxesHold),i.on(EVENT.CHANGE,this._onAxesChange),c.addEventListener("click",this._preventClickWhenDragged,!0),this},o.removePreventClickHandler=function(){var e=getFlickingAttached(this._flicking),i=this._axes,c=e.camera.element;return i.off(EVENT.HOLD,this._onAxesHold),i.off(EVENT.CHANGE,this._onAxesChange),c.removeEventListener("click",this._preventClickWhenDragged,!0),this},o.animateTo=function(e,i,c){var f=this,m,g=this._axes,Te=this._stateMachine.state;if(!g)return Promise.reject(new FlickingError(MESSAGE.NOT_ATTACHED_TO_FLICKING,CODE.NOT_ATTACHED_TO_FLICKING));var Oe=g.get([POSITION_KEY])[POSITION_KEY];if(Oe===e){var Ie=getFlickingAttached(this._flicking);return Ie.camera.lookAt(e),Te.targetPanel&&Ie.control.setActive(Te.targetPanel,Ie.control.activePanel,(m=c==null?void 0:c.isTrusted)!==null&&m!==void 0?m:!1),Promise.resolve()}this._animatingContext={start:Oe,end:e,offset:0};var _e=function(){var De,Ee,qe=function(){f._animatingContext={start:0,end:0,offset:0}};g.once(EVENT.FINISH,qe),c?c.setTo((De={},De[POSITION_KEY]=e,De),i):g.setTo((Ee={},Ee[POSITION_KEY]=e,Ee),i)};return new Promise(function(De,Ee){var qe=function(){g.off(EVENT.HOLD,Be),De()},Be=function(){g.off(EVENT.FINISH,qe),Ee(new FlickingError(MESSAGE.ANIMATION_INTERRUPTED,CODE.ANIMATION_INTERRUPTED))};g.once(EVENT.FINISH,qe),g.once(EVENT.HOLD,Be),_e()})},o.updateDirection=function(){var e=getFlickingAttached(this._flicking),i=this._axes,c=this._panInput;i.disconnect(c),i.connect(e.horizontal?[POSITION_KEY,""]:["",POSITION_KEY],c),c.options.scale=e.horizontal?[e.camera.panelOrder===ORDER.RTL?1:-1,0]:[0,-1]},o._resetInternalValues=function(){this._flicking=null,this._axes=null,this._panInput=null,this._animatingContext={start:0,end:0,offset:0},this._dragged=!1},_}(),Control=function(){function _(){this._flicking=null,this._controller=new AxesController,this._activePanel=null}var o=_.prototype;return Object.defineProperty(o,"controller",{get:function(){return this._controller},enumerable:!1,configurable:!0}),Object.defineProperty(o,"activeIndex",{get:function(){var e,i;return(i=(e=this._activePanel)===null||e===void 0?void 0:e.index)!==null&&i!==void 0?i:-1},enumerable:!1,configurable:!0}),Object.defineProperty(o,"activePanel",{get:function(){return this._activePanel},enumerable:!1,configurable:!0}),Object.defineProperty(o,"animating",{get:function(){return this._controller.state.animating},enumerable:!1,configurable:!0}),Object.defineProperty(o,"holding",{get:function(){return this._controller.state.holding},enumerable:!1,configurable:!0}),o.init=function(e){return this._flicking=e,this._controller.init(e),this},o.destroy=function(){this._controller.destroy(),this._flicking=null,this._activePanel=null},o.enable=function(){return this._controller.enable(),this},o.disable=function(){return this._controller.disable(),this},o.release=function(){return this._controller.release(),this},o.updateAnimation=function(e,i,c){var f=this._controller.state,m=this._getPosition(e,c??DIRECTION.NONE);return f.targetPanel=e,this._controller.updateAnimation(m,i),this},o.stopAnimation=function(){var e=this._controller.state;return e.targetPanel=null,this._controller.stopAnimation(),this},o.updatePosition=function(e){var i=getFlickingAttached(this._flicking),c=i.camera,f=this._activePanel;f&&c.lookAt(c.clampToReachablePosition(f.position))},o.updateInput=function(){var e=getFlickingAttached(this._flicking),i=e.camera;return this._controller.update(i.controlParams),this},o.resetActive=function(){return this._activePanel=null,this},o.moveToPanel=function(e,i){var c=i.duration,f=i.direction,m=f===void 0?DIRECTION.NONE:f,g=i.axesEvent;return __awaiter(this,void 0,void 0,function(){var Te;return __generator(this,function(Oe){return Te=this._getPosition(e,m),this._triggerIndexChangeEvent(e,e.position,g,m),[2,this._animateToPosition({position:Te,duration:c,newActivePanel:e,axesEvent:g})]})})},o.setActive=function(e,i,c){var f,m=getFlickingAttached(this._flicking);this._activePanel=e,this._nextPanel=null,m.camera.updateAdaptiveHeight(),e!==i?m.trigger(new ComponentEvent$1(EVENTS.CHANGED,{index:e.index,panel:e,prevIndex:(f=i==null?void 0:i.index)!==null&&f!==void 0?f:-1,prevPanel:i,isTrusted:c,direction:i?getDirection(i.position,e.position):DIRECTION.NONE})):m.trigger(new ComponentEvent$1(EVENTS.RESTORED,{isTrusted:c}))},o.copy=function(e){this._flicking=e._flicking,this._activePanel=e._activePanel,this._controller=e._controller},o._triggerIndexChangeEvent=function(e,i,c,f){var m,g=getFlickingAttached(this._flicking),Te=e!==this._activePanel?EVENTS.WILL_CHANGE:EVENTS.WILL_RESTORE,Oe=g.camera,Ie=this._activePanel,_e=new ComponentEvent$1(Te,{index:e.index,panel:e,isTrusted:(c==null?void 0:c.isTrusted)||!1,direction:f??getDirection((m=Ie==null?void 0:Ie.position)!==null&&m!==void 0?m:Oe.position,i)});if(this._nextPanel=e,g.trigger(_e),_e.isCanceled())throw new FlickingError(MESSAGE.STOP_CALLED_BY_USER,CODE.STOP_CALLED_BY_USER)},o._animateToPosition=function(e){var i=e.position,c=e.duration,f=e.newActivePanel,m=e.axesEvent;return __awaiter(this,void 0,void 0,function(){var g,Te,Oe,Ie=this;return __generator(this,function(_e){return g=getFlickingAttached(this._flicking),Te=function(){return Ie._controller.animateTo(i,c,m)},Oe=this._controller.state,Oe.targetPanel=f,c<=0?[2,Te()]:[2,Te().then(function(){return __awaiter(Ie,void 0,void 0,function(){return __generator(this,function(De){switch(De.label){case 0:return[4,g.renderer.render()];case 1:return De.sent(),[2]}})})}).catch(function(De){if(!(m&&De instanceof FlickingError&&De.code===CODE.ANIMATION_INTERRUPTED))throw De})]})})},o._getPosition=function(e,i){i===void 0&&(i=DIRECTION.NONE);var c=getFlickingAttached(this._flicking),f=c.camera,m=e.position,g=f.findNearestAnchor(m);if(e.removed||!g)throw new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(e.position),CODE.POSITION_NOT_REACHABLE);if(!f.canReach(e))m=g.position,e=g.panel;else if(c.circularEnabled){var Te=this._controller.position,Oe=f.rangeDiff,Ie=[m,m+Oe,m-Oe].filter(function(_e){return i===DIRECTION.NONE?!0:i===DIRECTION.PREV?_e<=Te:_e>=Te});m=Ie.reduce(function(_e,De){return Math.abs(Te-De)<Math.abs(Te-_e)?De:_e},1/0)}return m},_}(),AnchorPoint=function(){function _(e){var i=e.index,c=e.position,f=e.panel;this._index=i,this._pos=c,this._panel=f}var o=_.prototype;return Object.defineProperty(o,"index",{get:function(){return this._index},enumerable:!1,configurable:!0}),Object.defineProperty(o,"position",{get:function(){return this._pos},enumerable:!1,configurable:!0}),Object.defineProperty(o,"panel",{get:function(){return this._panel},enumerable:!1,configurable:!0}),_}(),SnapControl=function(_){__extends(o,_);function o(i){var c=(i===void 0?{}:i).count,f=c===void 0?1/0:c,m=_.call(this)||this;return m._count=f,m}var e=o.prototype;return Object.defineProperty(e,"count",{get:function(){return this._count},set:function(i){this._count=i},enumerable:!1,configurable:!0}),e.moveToPosition=function(i,c,f){var m=getFlickingAttached(this._flicking),g=m.camera,Te=g.findActiveAnchor(),Oe=g.findNearestAnchor(g.position),Ie=this._controller.state;if(!Te||!Oe)return Promise.reject(new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(i),CODE.POSITION_NOT_REACHABLE));var _e=this._calcSnapThreshold(m.threshold,i,Te),De=m.animating?Ie.delta:i-g.position,Ee=Math.abs(De),qe=f&&f.delta[POSITION_KEY]!==0?Math.abs(f.delta[POSITION_KEY]):Ee,Be;if(qe>=_e&&qe>0)Be=this._findSnappedAnchor(i,Oe);else if(Ee>=m.threshold&&Ee>0)Be=this._findAdjacentAnchor(i,De,Oe);else return this.moveToPanel(Oe.panel,{duration:c,axesEvent:f});return this._triggerIndexChangeEvent(Be.panel,i,f),this._animateToPosition({position:g.clampToReachablePosition(Be.position),duration:c,newActivePanel:Be.panel,axesEvent:f})},e._findSnappedAnchor=function(i,c){var f=getFlickingAttached(this._flicking),m=f.camera,g=this._count,Te=m.position,Oe=m.clampToReachablePosition(i),Ie=m.findAnchorIncludePosition(Oe);if(!c||!Ie)throw new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(i),CODE.POSITION_NOT_REACHABLE);if(!isFinite(g))return Ie;var _e=f.panelCount,De=m.anchorPoints,Ee=Math.sign(i-Te)*Math.floor(Math.abs(i-Te)/m.rangeDiff);i>Te&&Ie.index<c.index||Ie.position>c.position&&Ie.index===c.index?Ee+=1:(i<Te&&Ie.index>c.index||Ie.position<c.position&&Ie.index===c.index)&&(Ee-=1);var qe=Ee*_e,Be=Ie.index+qe;if(Math.abs(Be-c.index)<=g){var Ne=De[Ie.index];return new AnchorPoint({index:Ne.index,position:Ne.position+Ee*m.rangeDiff,panel:Ne.panel})}if(f.circularEnabled){var Ve=De[circulateIndex(c.index+Math.sign(i-Te)*g,_e)],Ue=Math.floor(g/_e);return i>Te&&Ve.index<c.index?Ue+=1:i<Te&&Ve.index>c.index&&(Ue-=1),new AnchorPoint({index:Ve.index,position:Ve.position+Ue*m.rangeDiff,panel:Ve.panel})}else return De[clamp(c.index+Math.sign(i-Te)*g,0,De.length-1)]},e._findAdjacentAnchor=function(i,c,f){var m,g=getFlickingAttached(this._flicking),Te=g.camera;if(Te.circularEnabled){var Oe=Te.findAnchorIncludePosition(i);if(Oe&&Oe.position!==f.position)return Oe}var Ie=(m=c>0?Te.getNextAnchor(f):Te.getPrevAnchor(f))!==null&&m!==void 0?m:f;return Ie},e._calcSnapThreshold=function(i,c,f){var m=c>f.position,g=f.panel,Te=g.size,Oe=g.alignPosition;return Math.max(i,m?Te-Oe+g.margin.next:Oe+g.margin.prev)},o}(Control),FreeControl=function(_){__extends(o,_);function o(i){var c=(i===void 0?{}:i).stopAtEdge,f=c===void 0?!0:c,m=_.call(this)||this;return m._stopAtEdge=f,m}var e=o.prototype;return Object.defineProperty(e,"stopAtEdge",{get:function(){return this._stopAtEdge},set:function(i){this._stopAtEdge=i},enumerable:!1,configurable:!0}),e.updatePosition=function(i){var c=getFlickingAttached(this._flicking),f=c.camera,m=this._activePanel;if(m){var g=m.range,Te=g.min+(g.max-g.min)*i;f.lookAt(f.clampToReachablePosition(Te))}},e.moveToPosition=function(i,c,f){var m=getFlickingAttached(this._flicking),g=m.camera,Te=g.clampToReachablePosition(i),Oe=g.findAnchorIncludePosition(Te);if(!Oe)return Promise.reject(new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(i),CODE.POSITION_NOT_REACHABLE));var Ie=Oe.panel;return Ie!==this._activePanel&&this._triggerIndexChangeEvent(Ie,i,f),this._animateToPosition({position:this._stopAtEdge?Te:i,duration:c,newActivePanel:Ie,axesEvent:f})},o}(Control),StrictControl=function(_){__extends(o,_);function o(i){var c=(i===void 0?{}:i).count,f=c===void 0?1:c,m=_.call(this)||this;return m.setActive=function(g,Te,Oe){_.prototype.setActive.call(m,g,Te,Oe),m.updateInput()},m._count=f,m._resetIndexRange(),m}var e=o.prototype;return Object.defineProperty(e,"count",{get:function(){return this._count},set:function(i){this._count=i},enumerable:!1,configurable:!0}),e.destroy=function(){_.prototype.destroy.call(this),this._resetIndexRange()},e.updateInput=function(){var i,c=getFlickingAttached(this._flicking),f=c.camera,m=c.renderer,g=this._controller,Te=f.controlParams,Oe=this._count,Ie=g.state.animating?(i=f.findNearestAnchor(f.position))===null||i===void 0?void 0:i.panel:this._activePanel;if(!Ie)return g.update(Te),this._resetIndexRange(),this;var _e=Te.range,De=Ie.position,Ee=Ie.index,qe=m.panelCount,Be=Ee-Oe,Ne=Ee+Oe;Be<0&&(Be=c.circularEnabled?getMinusCompensatedIndex((Be+1)%qe-1,qe):clamp(Be,0,qe-1)),Ne>=qe&&(Ne=c.circularEnabled?Ne%qe:clamp(Ne,0,qe-1));var Ve=m.panels[Be],Ue=m.panels[Ne],We=Math.max(Ve.position,_e.min),He=Math.min(Ue.position,_e.max);return We>De&&(We-=f.rangeDiff),He<De&&(He+=f.rangeDiff),Te.range={min:We,max:He},Te.circular&&(Te.position<We&&(Te.position+=f.rangeDiff),Te.position>He&&(Te.position-=f.rangeDiff)),Te.circular=!1,g.update(Te),this._indexRange={min:Ve.index,max:Ue.index},this},e.moveToPanel=function(i,c){return __awaiter(this,void 0,void 0,function(){var f,m,g;return __generator(this,function(Te){return f=getFlickingAttached(this._flicking),m=f.camera,g=this._controller,g.update(m.controlParams),[2,_.prototype.moveToPanel.call(this,i,c)]})})},e.moveToPosition=function(i,c,f){var m,g=getFlickingAttached(this._flicking),Te=g.camera,Oe=(m=this._nextPanel)!==null&&m!==void 0?m:this._activePanel,Ie=this._controller.range,_e=this._indexRange,De=Te.range,Ee=this._controller.state,qe=clamp(Te.clampToReachablePosition(i),Ie[0],Ie[1]),Be=Te.findAnchorIncludePosition(qe);if(!Be||!Oe)return Promise.reject(new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(i),CODE.POSITION_NOT_REACHABLE));var Ne=Oe.position,Ve=g.animating?Ee.delta:i-Te.position,Ue=Math.abs(Ve)>=g.threshold,We=i>Ne?Te.getNextAnchor(Be):Te.getPrevAnchor(Be),He,Ze,st=Te.anchorPoints,it=st[0],vt=st[st.length-1],gt=i<=De.min&&isBetween(it.panel.index,_e.min,_e.max),tt=i>=De.max&&isBetween(vt.panel.index,_e.min,_e.max),pt=We&&(_e.min<=_e.max?isBetween(We.index,_e.min,_e.max):We.index>=_e.min||We.index<=_e.max);if(gt||tt){var nt=i<De.min?it:vt;Ze=nt.panel,He=nt.position}else if(Ue&&Be.position!==Oe.position)Ze=Be.panel,He=Be.position;else if(Ue&&pt)Ze=We.panel,He=We.position;else{var mt=Te.findNearestAnchor(Te.position);return mt?this.moveToPanel(mt.panel,{duration:c,axesEvent:f}):Promise.reject(new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(i),CODE.POSITION_NOT_REACHABLE))}return this._triggerIndexChangeEvent(Ze,i,f),this._animateToPosition({position:He,duration:c,newActivePanel:Ze,axesEvent:f})},e._resetIndexRange=function(){this._indexRange={min:0,max:0}},o}(Control),CameraMode=function(){function _(e){this._flicking=e}var o=_.prototype;return o.getAnchors=function(){var e=this._flicking.renderer.panels;return e.map(function(i,c){return new AnchorPoint({index:c,position:i.position,panel:i})})},o.findAnchorIncludePosition=function(e){var i=this._flicking.camera.anchorPoints,c=i.filter(function(f){return f.panel.includePosition(e,!0)});return c.reduce(function(f,m){return f&&Math.abs(f.position-e)<Math.abs(m.position-e)?f:m},null)},o.findNearestAnchor=function(e){var i=this._flicking.camera.anchorPoints;if(i.length<=0)return null;for(var c=1/0,f=0;f<i.length;f++){var m=i[f],g=Math.abs(m.position-e);if(g>c)return i[f-1];c=g}return i[i.length-1]},o.clampToReachablePosition=function(e){var i=this._flicking.camera,c=i.range;return clamp(e,c.min,c.max)},o.getCircularOffset=function(){return 0},o.canReach=function(e){var i=this._flicking.camera,c=i.range;if(e.removed)return!1;var f=e.position;return f>=c.min&&f<=c.max},o.canSee=function(e){var i=this._flicking.camera,c=i.visibleRange;return e.isVisibleOnRange(c.min,c.max)},_}(),LinearCameraMode=function(_){__extends(o,_);function o(){return _!==null&&_.apply(this,arguments)||this}var e=o.prototype;return e.checkAvailability=function(){return!0},e.getRange=function(){var i,c,f=this._flicking.renderer,m=f.getPanel(0),g=f.getPanel(f.panelCount-1);return{min:(i=m==null?void 0:m.position)!==null&&i!==void 0?i:0,max:(c=g==null?void 0:g.position)!==null&&c!==void 0?c:0}},o}(CameraMode),CircularCameraMode=function(_){__extends(o,_);function o(){return _!==null&&_.apply(this,arguments)||this}var e=o.prototype;return e.checkAvailability=function(){var i=this._flicking,c=i.renderer,f=c.panels;if(f.length<=0)return!1;var m=f[0],g=f[f.length-1],Te=m.range.min-m.margin.prev,Oe=g.range.max+g.margin.next,Ie=i.camera.size,_e=Oe-Te,De=f.every(function(Ee){return _e-Ee.size>=Ie});return De},e.getRange=function(){var i=this._flicking,c=i.renderer.panels;if(c.length<=0)return{min:0,max:0};var f=c[0],m=c[c.length-1],g=f.range.min-f.margin.prev,Te=m.range.max+m.margin.next;return{min:g,max:Te}},e.getAnchors=function(){var i=this._flicking,c=i.renderer.panels;return c.map(function(f,m){return new AnchorPoint({index:m,position:f.position,panel:f})})},e.findNearestAnchor=function(i){var c=this._flicking.camera,f=c.anchorPoints;if(f.length<=0)return null;for(var m=c.range,g=1/0,Te=-1,Oe=0;Oe<f.length;Oe++){var Ie=f[Oe],_e=Math.min(Math.abs(Ie.position-i),Math.abs(Ie.position-m.min+m.max-i),Math.abs(i-m.min+m.max-Ie.position));_e<g&&(g=_e,Te=Oe)}return f[Te]},e.findAnchorIncludePosition=function(i){var c=this._flicking.camera,f=c.range,m=c.anchorPoints,g=c.rangeDiff,Te=m.length,Oe=circulatePosition(i,f.min,f.max),Ie=_.prototype.findAnchorIncludePosition.call(this,Oe);if(Te>0&&(i===f.min||i===f.max)){var _e=[Ie,new AnchorPoint({index:0,position:m[0].position+g,panel:m[0].panel}),new AnchorPoint({index:Te-1,position:m[Te-1].position-g,panel:m[Te-1].panel})].filter(function(Ee){return!!Ee});Ie=_e.reduce(function(Ee,qe){return Ee&&Math.abs(Ee.position-i)<Math.abs(qe.position-i)?Ee:qe},null)}if(!Ie)return null;if(i<f.min){var De=-Math.floor((f.min-i)/g)-1;return new AnchorPoint({index:Ie.index,position:Ie.position+g*De,panel:Ie.panel})}else if(i>f.max){var De=Math.floor((i-f.max)/g)+1;return new AnchorPoint({index:Ie.index,position:Ie.position+g*De,panel:Ie.panel})}return Ie},e.getCircularOffset=function(){var i=this._flicking,c=i.camera;if(!c.circularEnabled)return 0;var f=i.panels.filter(function(Te){return Te.toggled}),m=f.filter(function(Te){return Te.toggleDirection===DIRECTION.PREV}),g=f.filter(function(Te){return Te.toggleDirection===DIRECTION.NEXT});return this._calcPanelAreaSum(m)-this._calcPanelAreaSum(g)},e.clampToReachablePosition=function(i){return i},e.canReach=function(i){return!i.removed},e.canSee=function(i){var c=this._flicking.camera,f=c.range,m=c.rangeDiff,g=c.visibleRange,Te=_.prototype.canSee.call(this,i);return g.min<f.min?Te||i.isVisibleOnRange(g.min+m,g.max+m):g.max>f.max?Te||i.isVisibleOnRange(g.min-m,g.max-m):Te},e._calcPanelAreaSum=function(i){return i.reduce(function(c,f){return c+f.sizeIncludingMargin},0)},o}(CameraMode),BoundCameraMode=function(_){__extends(o,_);function o(){return _!==null&&_.apply(this,arguments)||this}var e=o.prototype;return e.checkAvailability=function(){var i=this._flicking,c=i.renderer,f=c.getPanel(0),m=c.getPanel(c.panelCount-1);if(!f||!m)return!1;var g=i.camera.size,Te=f.range.min,Oe=m.range.max,Ie=Oe-Te,_e=g<Ie;return _e},e.getRange=function(){var i=this._flicking,c=i.renderer,f=i.camera.alignPosition,m=c.getPanel(0),g=c.getPanel(c.panelCount-1);if(!m||!g)return{min:0,max:0};var Te=i.camera.size,Oe=m.range.min,Ie=g.range.max,_e=Ie-Oe,De=Te<_e,Ee=Oe+f,qe=Ie-Te+f;if(De)return{min:Ee,max:qe};var Be=i.camera.align,Ne=typeof Be=="object"?Be.camera:Be,Ve=Ee+parseAlign$1(Ne,qe-Ee);return{min:Ve,max:Ve}},e.getAnchors=function(){var i=this._flicking,c=i.camera,f=i.renderer.panels;if(f.length<=0)return[];var m=i.camera.range,g=f.filter(function(Be){return c.canReach(Be)});if(g.length>0){var Te=g[0].position!==m.min,Oe=g[g.length-1].position!==m.max,Ie=Te?1:0,_e=g.map(function(Be,Ne){return new AnchorPoint({index:Ne+Ie,position:Be.position,panel:Be})});return Te&&_e.splice(0,0,new AnchorPoint({index:0,position:m.min,panel:f[g[0].index-1]})),Oe&&_e.push(new AnchorPoint({index:_e.length,position:m.max,panel:f[g[g.length-1].index+1]})),_e}else if(m.min!==m.max){var De=this._findNearestPanel(m.min,f),Ee=De.index===f.length-1?De.prev():De,qe=Ee.next();return[new AnchorPoint({index:0,position:m.min,panel:Ee}),new AnchorPoint({index:1,position:m.max,panel:qe})]}else return[new AnchorPoint({index:0,position:m.min,panel:this._findNearestPanel(m.min,f)})]},e.findAnchorIncludePosition=function(i){var c=this._flicking.camera,f=c.range,m=c.anchorPoints;return m.length<=0?null:i<=f.min?m[0]:i>=f.max?m[m.length-1]:_.prototype.findAnchorIncludePosition.call(this,i)},e._findNearestPanel=function(i,c){for(var f=1/0,m=0;m<c.length;m++){var g=c[m],Te=Math.abs(g.position-i);if(Te>f)return c[m-1];f=Te}return c[c.length-1]},o}(CameraMode),Camera=function(){function _(e,i){var c=this,f=(i===void 0?{}:i).align,m=f===void 0?ALIGN.CENTER:f;this._checkTranslateSupport=function(){var g,Te,Oe=["webkitTransform","msTransform","MozTransform","OTransform","transform"],Ie=document.documentElement.style,_e="";try{for(var De=__values(Oe),Ee=De.next();!Ee.done;Ee=De.next()){var qe=Ee.value;qe in Ie&&(_e=qe)}}catch(Be){g={error:Be}}finally{try{Ee&&!Ee.done&&(Te=De.return)&&Te.call(De)}finally{if(g)throw g.error}}if(!_e)throw new FlickingError(MESSAGE.TRANSFORM_NOT_SUPPORTED,CODE.TRANSFORM_NOT_SUPPORTED);c._transform=_e},this._flicking=e,this._resetInternalValues(),this._align=m}var o=_.prototype;return Object.defineProperty(o,"element",{get:function(){return this._el},enumerable:!1,configurable:!0}),Object.defineProperty(o,"children",{get:function(){return toArray(this._el.children)},enumerable:!1,configurable:!0}),Object.defineProperty(o,"position",{get:function(){return this._position},enumerable:!1,configurable:!0}),Object.defineProperty(o,"alignPosition",{get:function(){return this._alignPos},enumerable:!1,configurable:!0}),Object.defineProperty(o,"offset",{get:function(){return this._offset-this._circularOffset},enumerable:!1,configurable:!0}),Object.defineProperty(o,"circularEnabled",{get:function(){return this._circularEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(o,"mode",{get:function(){return this._mode},enumerable:!1,configurable:!0}),Object.defineProperty(o,"range",{get:function(){return this._range},enumerable:!1,configurable:!0}),Object.defineProperty(o,"rangeDiff",{get:function(){return this._range.max-this._range.min},enumerable:!1,configurable:!0}),Object.defineProperty(o,"visiblePanels",{get:function(){return this._visiblePanels},enumerable:!1,configurable:!0}),Object.defineProperty(o,"visibleRange",{get:function(){return{min:this._position-this._alignPos,max:this._position-this._alignPos+this.size}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"anchorPoints",{get:function(){return this._anchors},enumerable:!1,configurable:!0}),Object.defineProperty(o,"controlParams",{get:function(){return{range:this._range,position:this._position,circular:this._circularEnabled}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"atEdge",{get:function(){return this._position<=this._range.min||this._position>=this._range.max},enumerable:!1,configurable:!0}),Object.defineProperty(o,"size",{get:function(){var e=this._flicking;return e?e.horizontal?e.viewport.width:e.viewport.height:0},enumerable:!1,configurable:!0}),Object.defineProperty(o,"progress",{get:function(){var e=this._flicking,i=this._position+this._offset,c=this.findNearestAnchor(this._position);if(!e||!c)return NaN;var f=c.panel,m=f.position+f.offset,g=e.control.controller.bounce,Te=this.range,Oe=Te.min,Ie=Te.max,_e=this.rangeDiff;if(i===m)return f.index;if(i<m){var De=f.prev(),Ee=De?De.position+De.offset:Oe-g[0];return Ee>m&&(Ee-=_e),f.index-1+getProgress(i,Ee,m)}else{var qe=f.next(),Be=qe?qe.position+qe.offset:Ie+g[1];return Be<m&&(Be+=_e),f.index+getProgress(i,m,Be)}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"panelOrder",{get:function(){return this._panelOrder},enumerable:!1,configurable:!0}),Object.defineProperty(o,"align",{get:function(){return this._align},set:function(e){this._align=e},enumerable:!1,configurable:!0}),o.init=function(){var e=this._flicking.viewport.element;return checkExistence(e.firstElementChild,"First element child of the viewport element"),this._el=e.firstElementChild,this._checkTranslateSupport(),this._updateMode(),this.updatePanelOrder(),this},o.destroy=function(){return this._resetInternalValues(),this},o.lookAt=function(e){var i=this,c=getFlickingAttached(this._flicking),f=this._position;this._position=e;var m=this._togglePanels(f,e);this._refreshVisiblePanels(),this._checkNeedPanel(),this._checkReachEnd(f,e),m?c.renderer.render().then(function(){i.updateOffset()}):this.applyTransform()},o.getPrevAnchor=function(e){if(!this._circularEnabled||e.index!==0)return this._anchors[e.index-1]||null;var i=this._anchors,c=this.rangeDiff,f=i[i.length-1];return new AnchorPoint({index:f.index,position:f.position-c,panel:f.panel})},o.getNextAnchor=function(e){var i=this._anchors;if(!this._circularEnabled||e.index!==i.length-1)return i[e.index+1]||null;var c=this.rangeDiff,f=i[0];return new AnchorPoint({index:f.index,position:f.position+c,panel:f.panel})},o.getProgressInPanel=function(e){var i=e.range;return(this._position-i.min)/(i.max-i.min)},o.findAnchorIncludePosition=function(e){return this._mode.findAnchorIncludePosition(e)},o.findNearestAnchor=function(e){return this._mode.findNearestAnchor(e)},o.findActiveAnchor=function(){var e,i=getFlickingAttached(this._flicking),c=i.control.activePanel;return c?(e=find(this._anchors,function(f){return f.panel.index===c.index}))!==null&&e!==void 0?e:this.findNearestAnchor(c.position):null},o.clampToReachablePosition=function(e){return this._mode.clampToReachablePosition(e)},o.canReach=function(e){return this._mode.canReach(e)},o.canSee=function(e){return this._mode.canSee(e)},o.updateRange=function(){var e=getFlickingAttached(this._flicking),i=e.renderer,c=i.panels;return this._updateMode(),this._range=this._mode.getRange(),c.forEach(function(f){return f.updateCircularToggleDirection()}),this},o.updateAlignPos=function(){var e=this._align,i=typeof e=="object"?e.camera:e;return this._alignPos=parseAlign$1(i,this.size),this},o.updateAnchors=function(){return this._anchors=this._mode.getAnchors(),this},o.updateAdaptiveHeight=function(){var e=getFlickingAttached(this._flicking),i=e.control.activePanel;!e.horizontal||!e.adaptive||!i||e.viewport.setSize({height:i.height})},o.updateOffset=function(){var e=getFlickingAttached(this._flicking),i=this._position,c=e.panels.filter(function(f){return!f.rendered});return this._offset=c.filter(function(f){return f.position+f.offset<i}).reduce(function(f,m){return f+m.sizeIncludingMargin},0),this._circularOffset=this._mode.getCircularOffset(),this.applyTransform(),this},o.updatePanelOrder=function(){var e=getFlickingAttached(this._flicking);if(!e.horizontal)return this;var i=this._el,c=getStyle(i).direction;return c!==this._panelOrder&&(this._panelOrder=c===ORDER.RTL?ORDER.RTL:ORDER.LTR,e.initialized&&e.control.controller.updateDirection()),this},o.resetNeedPanelHistory=function(){return this._needPanelTriggered={prev:!1,next:!1},this},o.applyTransform=function(){var e=this._el,i=getFlickingAttached(this._flicking),c=i.renderer;if(c.rendering||!i.initialized)return this;var f=this._position-this._alignPos-this._offset+this._circularOffset;return e.style[this._transform]=i.horizontal?"translate("+(this._panelOrder===ORDER.RTL?f:-f)+"px)":"translate(0, "+-f+"px)",this},o._resetInternalValues=function(){this._position=0,this._alignPos=0,this._offset=0,this._circularOffset=0,this._circularEnabled=!1,this._range={min:0,max:0},this._visiblePanels=[],this._anchors=[],this._needPanelTriggered={prev:!1,next:!1}},o._refreshVisiblePanels=function(){var e=this,i=getFlickingAttached(this._flicking),c=i.renderer.panels,f=c.filter(function(Oe){return e.canSee(Oe)}),m=this._visiblePanels;this._visiblePanels=f;var g=f.filter(function(Oe){return!includes(m,Oe)}),Te=m.filter(function(Oe){return!includes(f,Oe)});(g.length>0||Te.length>0)&&i.renderer.render().then(function(){i.trigger(new ComponentEvent$1(EVENTS.VISIBLE_CHANGE,{added:g,removed:Te,visiblePanels:f}))})},o._checkNeedPanel=function(){var e=this._needPanelTriggered;if(!(e.prev&&e.next)){var i=getFlickingAttached(this._flicking),c=i.renderer.panels;if(c.length<=0){e.prev||(i.trigger(new ComponentEvent$1(EVENTS.NEED_PANEL,{direction:DIRECTION.PREV})),e.prev=!0),e.next||(i.trigger(new ComponentEvent$1(EVENTS.NEED_PANEL,{direction:DIRECTION.NEXT})),e.next=!0);return}var f=this._position,m=this.size,g=this._range,Te=i.needPanelThreshold,Oe=f-this._alignPos,Ie=Oe+m,_e=c[0],De=c[c.length-1];if(!e.prev){var Ee=_e.range.min;(Oe<=Ee+Te||f<=g.min+Te)&&(i.trigger(new ComponentEvent$1(EVENTS.NEED_PANEL,{direction:DIRECTION.PREV})),e.prev=!0)}if(!e.next){var qe=De.range.max;(Ie>=qe-Te||f>=g.max-Te)&&(i.trigger(new ComponentEvent$1(EVENTS.NEED_PANEL,{direction:DIRECTION.NEXT})),e.next=!0)}}},o._checkReachEnd=function(e,i){var c=getFlickingAttached(this._flicking),f=this._range,m=e>f.min&&e<f.max,g=i>f.min&&i<f.max;if(!(!m||g)){var Te=i<=f.min?DIRECTION.PREV:DIRECTION.NEXT;c.trigger(new ComponentEvent$1(EVENTS.REACH_EDGE,{direction:Te}))}},o._updateMode=function(){var e=getFlickingAttached(this._flicking);if(e.circular){var i=new CircularCameraMode(e),c=i.checkAvailability();if(c)this._mode=i;else{var f=e.circularFallback;this._mode=f===CIRCULAR_FALLBACK.BOUND?new BoundCameraMode(e):new LinearCameraMode(e)}this._circularEnabled=c}else this._mode=e.bound?new BoundCameraMode(e):new LinearCameraMode(e),this._circularEnabled=!1},o._togglePanels=function(e,i){if(i===e)return!1;var c=getFlickingAttached(this._flicking),f=c.renderer.panels,m=f.map(function(g){return g.toggle(e,i)});return m.some(function(g){return g})},_}(),Renderer=function(){function _(e){var i=e.align,c=i===void 0?ALIGN.CENTER:i,f=e.strategy;this._flicking=null,this._panels=[],this._rendering=!1,this._align=c,this._strategy=f}var o=_.prototype;return Object.defineProperty(o,"panels",{get:function(){return this._panels},enumerable:!1,configurable:!0}),Object.defineProperty(o,"rendering",{get:function(){return this._rendering},enumerable:!1,configurable:!0}),Object.defineProperty(o,"panelCount",{get:function(){return this._panels.length},enumerable:!1,configurable:!0}),Object.defineProperty(o,"strategy",{get:function(){return this._strategy},enumerable:!1,configurable:!0}),Object.defineProperty(o,"align",{get:function(){return this._align},set:function(e){this._align=e;var i=parsePanelAlign(e);this._panels.forEach(function(c){c.align=i})},enumerable:!1,configurable:!0}),o.init=function(e){return this._flicking=e,this._collectPanels(),this},o.destroy=function(){this._flicking=null,this._panels=[]},o.getPanel=function(e){return this._panels[e]||null},o.forceRenderAllPanels=function(){return this._panels.forEach(function(e){return e.markForShow()}),Promise.resolve()},o.updatePanelSize=function(){var e=getFlickingAttached(this._flicking),i=this._panels;if(i.length<=0)return this;if(e.panelsPerView>0){var c=i[0];c.resize(),this._updatePanelSizeByGrid(c,i)}else e.panels.forEach(function(f){return f.resize()});return this},o.batchInsert=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var c=this.batchInsertDefer.apply(this,__spread(e));return c.length<=0?[]:(this.updateAfterPanelChange(c,[]),c)},o.batchInsertDefer=function(){for(var e=this,i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];var f=this._panels,m=getFlickingAttached(this._flicking),g=f[0],Te=parsePanelAlign(this._align),Oe=i.reduce(function(Ie,_e){var De,Ee=getMinusCompensatedIndex(_e.index,f.length),qe=f.slice(Ee),Be=_e.elements.map(function(Ve,Ue){return e._createPanel(Ve,{index:Ee+Ue,align:Te,flicking:m})});if(f.splice.apply(f,__spread([Ee,0],Be)),_e.hasDOMInElements&&e._insertPanelElements(Be,(De=qe[0])!==null&&De!==void 0?De:null),m.panelsPerView>0){var Ne=g||Be[0].resize();e._updatePanelSizeByGrid(Ne,Be)}else Be.forEach(function(Ve){return Ve.resize()});return qe.forEach(function(Ve){Ve.increaseIndex(Be.length),Ve.updatePosition()}),__spread(Ie,Be)},[]);return Oe},o.batchRemove=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var c=this.batchRemoveDefer.apply(this,__spread(e));return c.length<=0?[]:(this.updateAfterPanelChange([],c),c)},o.batchRemoveDefer=function(){for(var e=this,i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];var f=this._panels,m=getFlickingAttached(this._flicking),g=m.control,Te=g.activePanel,Oe=i.reduce(function(Ie,_e){var De=_e.index,Ee=_e.deleteCount,qe=getMinusCompensatedIndex(De,f.length),Be=f.slice(qe+Ee),Ne=f.splice(qe,Ee);return Ne.length<=0?[]:(Be.forEach(function(Ve){Ve.decreaseIndex(Ne.length),Ve.updatePosition()}),_e.hasDOMInElements&&e._removePanelElements(Ne),Ne.forEach(function(Ve){return Ve.destroy()}),includes(Ne,Te)&&g.resetActive(),__spread(Ie,Ne))},[]);return Oe},o.updateAfterPanelChange=function(e,i){var c,f=getFlickingAttached(this._flicking),m=f.camera,g=f.control,Te=this._panels,Oe=g.activePanel;if(this._updateCameraAndControl(),this.render(),!f.animating)if(!Oe||Oe.removed)if(Te.length<=0)m.lookAt(0);else{var Ie=(c=Oe==null?void 0:Oe.index)!==null&&c!==void 0?c:0;Ie>Te.length-1&&(Ie=Te.length-1),g.moveToPanel(Te[Ie],{duration:0}).catch(function(){})}else g.moveToPanel(Oe,{duration:0}).catch(function(){});f.camera.updateOffset(),(e.length>0||i.length>0)&&(f.trigger(new ComponentEvent$1(EVENTS.PANEL_CHANGE,{added:e,removed:i})),this.checkPanelContentsReady(__spread(e,i)))},o.checkPanelContentsReady=function(e){var i=this,c=getFlickingAttached(this._flicking),f=c.resizeOnContentsReady,m=this._panels;if(!(!f||c.virtualEnabled)){var g=function(Oe){return Oe.element&&!!Oe.element.querySelector("img, video")};if(e=e.filter(function(Oe){return g(Oe)}),!(e.length<=0)){var Te=new ImReady$1;e.forEach(function(Oe){Oe.loading=!0}),Te.on("readyElement",function(Oe){if(!i._flicking){Te.destroy();return}var Ie=e[Oe.index],_e=c.camera,De=c.control,Ee=De.activePanel?_e.getProgressInPanel(De.activePanel):0;Ie.loading=!1,Ie.resize(),m.slice(Ie.index+1).forEach(function(qe){return qe.updatePosition()}),c.initialized&&(_e.updateRange(),_e.updateOffset(),_e.updateAnchors(),De.animating||(De.updatePosition(Ee),De.updateInput()))}),Te.on("preReady",function(Oe){i._flicking&&i.render(),Oe.readyCount===Oe.totalCount&&Te.destroy()}),Te.on("ready",function(){i._flicking&&i.render(),Te.destroy()}),Te.check(e.map(function(Oe){return Oe.element}))}}},o._updateCameraAndControl=function(){var e=getFlickingAttached(this._flicking),i=e.camera,c=e.control;i.updateRange(),i.updateOffset(),i.updateAnchors(),i.resetNeedPanelHistory(),c.updateInput()},o._showOnlyVisiblePanels=function(e){var i=e.renderer.panels,c=e.camera,f=c.visiblePanels.reduce(function(m,g){return m[g.index]=!0,m},{});i.forEach(function(m){m.index in f||m.loading?m.markForShow():e.holding||m.markForHide()})},o._updatePanelSizeByGrid=function(e,i){var c=getFlickingAttached(this._flicking),f=c.panelsPerView;if(f<=0)throw new FlickingError(MESSAGE.WRONG_OPTION("panelsPerView",f),CODE.WRONG_OPTION);if(!(i.length<=0)){var m=c.camera.size,g=e.margin.prev+e.margin.next,Te=(m-g*(f-1))/f,Oe=c.horizontal?{width:Te}:{height:Te},Ie=__assign({size:Te,margin:e.margin},!c.horizontal&&{height:e.height});c.noPanelStyleOverride||this._strategy.updatePanelSizes(c,Oe),c.panels.forEach(function(_e){return _e.resize(Ie)})}},o._removeAllChildsFromCamera=function(){for(var e=getFlickingAttached(this._flicking),i=e.camera.element;i.firstChild;)i.removeChild(i.firstChild)},o._insertPanelElements=function(e,i){i===void 0&&(i=null);var c=getFlickingAttached(this._flicking),f=c.camera,m=f.element,g=(i==null?void 0:i.element)||null,Te=document.createDocumentFragment();e.forEach(function(Oe){return Te.appendChild(Oe.element)}),m.insertBefore(Te,g)},o._removePanelElements=function(e){var i=getFlickingAttached(this._flicking),c=i.camera.element;e.forEach(function(f){c.removeChild(f.element)})},o._afterRender=function(){var e=getFlickingAttached(this._flicking);e.camera.applyTransform()},_}(),VanillaRenderer=function(_){__extends(o,_);function o(){return _!==null&&_.apply(this,arguments)||this}var e=o.prototype;return e.render=function(){return __awaiter(this,void 0,void 0,function(){var i,c;return __generator(this,function(f){return i=getFlickingAttached(this._flicking),c=this._strategy,c.updateRenderingPanels(i),c.renderPanels(i),this._resetPanelElementOrder(),this._afterRender(),[2]})})},e._collectPanels=function(){var i=getFlickingAttached(this._flicking),c=i.camera;this._removeAllTextNodes(),this._panels=this._strategy.collectPanels(i,c.children)},e._createPanel=function(i,c){return this._strategy.createPanel(i,c)},e._resetPanelElementOrder=function(){var i=getFlickingAttached(this._flicking),c=i.camera.element,f=this._strategy.getRenderingElementsByOrder(i).reverse();f.forEach(function(m,g){var Te=f[g-1]?f[g-1]:null;m.nextElementSibling!==Te&&c.insertBefore(m,Te)})},e._removeAllTextNodes=function(){var i=getFlickingAttached(this._flicking),c=i.camera.element;toArray(c.childNodes).forEach(function(f){f.nodeType===Node.TEXT_NODE&&c.removeChild(f)})},o}(Renderer),Panel=function(){function _(e){var i=e.index,c=e.align,f=e.flicking,m=e.elementProvider;this._index=i,this._flicking=f,this._elProvider=m,this._align=c,this._removed=!1,this._rendered=!0,this._loading=!1,this._resetInternalStates()}var o=_.prototype;return Object.defineProperty(o,"element",{get:function(){return this._elProvider.element},enumerable:!1,configurable:!0}),Object.defineProperty(o,"elementProvider",{get:function(){return this._elProvider},enumerable:!1,configurable:!0}),Object.defineProperty(o,"index",{get:function(){return this._index},enumerable:!1,configurable:!0}),Object.defineProperty(o,"position",{get:function(){return this._pos+this._alignPos},enumerable:!1,configurable:!0}),Object.defineProperty(o,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),Object.defineProperty(o,"sizeIncludingMargin",{get:function(){return this._size+this._margin.prev+this._margin.next},enumerable:!1,configurable:!0}),Object.defineProperty(o,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),Object.defineProperty(o,"margin",{get:function(){return this._margin},enumerable:!1,configurable:!0}),Object.defineProperty(o,"alignPosition",{get:function(){return this._alignPos},enumerable:!1,configurable:!0}),Object.defineProperty(o,"removed",{get:function(){return this._removed},enumerable:!1,configurable:!0}),Object.defineProperty(o,"rendered",{get:function(){return this._rendered},enumerable:!1,configurable:!0}),Object.defineProperty(o,"loading",{get:function(){return this._loading},set:function(e){this._loading=e},enumerable:!1,configurable:!0}),Object.defineProperty(o,"range",{get:function(){return{min:this._pos,max:this._pos+this._size}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"toggled",{get:function(){return this._toggled},enumerable:!1,configurable:!0}),Object.defineProperty(o,"toggleDirection",{get:function(){return this._toggleDirection},enumerable:!1,configurable:!0}),Object.defineProperty(o,"offset",{get:function(){var e=this._toggleDirection,i=this._flicking.camera.rangeDiff;return e===DIRECTION.NONE||!this._toggled?0:e===DIRECTION.PREV?-i:i},enumerable:!1,configurable:!0}),Object.defineProperty(o,"progress",{get:function(){var e=this._flicking;return this.index-e.camera.progress},enumerable:!1,configurable:!0}),Object.defineProperty(o,"outsetProgress",{get:function(){var e=this.position+this.offset,i=this._alignPos,c=this._flicking.camera,f=c.position;if(f===e)return 0;if(f<e){var m=e+(c.size-c.alignPosition)+i;return-getProgress(f,e,m)}else{var g=e-(c.alignPosition+this._size-i);return 1-getProgress(f,g,e)}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"visibleRatio",{get:function(){var e=this.range,i=this._size,c=this.offset,f=this._flicking.camera.visibleRange,m={min:e.min+c,max:e.max+c};if(m.max<=f.min||m.min>=f.max)return 0;var g=i;return f.min>m.min&&(g-=f.min-m.min),f.max<m.max&&(g-=m.max-f.max),g/i},enumerable:!1,configurable:!0}),Object.defineProperty(o,"align",{get:function(){return this._align},set:function(e){this._align=e,this._updateAlignPos()},enumerable:!1,configurable:!0}),o.markForShow=function(){this._rendered=!0,this._elProvider.show(this._flicking)},o.markForHide=function(){this._rendered=!1,this._elProvider.hide(this._flicking)},o.resize=function(e){var i,c=this.element,f=this._flicking,m=f.horizontal,g=f.useFractionalSize;if(e)this._size=e.size,this._margin=__assign({},e.margin),this._height=(i=e.height)!==null&&i!==void 0?i:getElementSize({el:c,horizontal:!1,useFractionalSize:g,useOffset:!0,style:getStyle(c)});else{var Te=getStyle(c);this._size=getElementSize({el:c,horizontal:m,useFractionalSize:g,useOffset:!0,style:Te}),this._margin=m?{prev:parseFloat(Te.marginLeft||"0"),next:parseFloat(Te.marginRight||"0")}:{prev:parseFloat(Te.marginTop||"0"),next:parseFloat(Te.marginBottom||"0")},this._height=m?getElementSize({el:c,horizontal:!1,useFractionalSize:g,useOffset:!0,style:Te}):this._size}return this.updatePosition(),this._updateAlignPos(),this},o.setSize=function(e){return setSize(this.element,e),this},o.contains=function(e){var i;return!!(!((i=this.element)===null||i===void 0)&&i.contains(e))},o.destroy=function(){this._resetInternalStates(),this._removed=!0},o.includePosition=function(e,i){return i===void 0&&(i=!1),this.includeRange(e,e,i)},o.includeRange=function(e,i,c){c===void 0&&(c=!1);var f=this._margin,m=this.range;return c&&(m.min-=f.prev,m.max+=f.next),i>=m.min&&e<=m.max},o.isVisibleOnRange=function(e,i){var c=this.range;return i>c.min&&e<c.max},o.focus=function(e){return this._flicking.moveTo(this._index,e)},o.prev=function(){var e=this._index,i=this._flicking,c=i.renderer,f=c.panelCount;return f===1?null:i.circularEnabled?c.getPanel(e===0?f-1:e-1):c.getPanel(e-1)},o.next=function(){var e=this._index,i=this._flicking,c=i.renderer,f=c.panelCount;return f===1?null:i.circularEnabled?c.getPanel(e===f-1?0:e+1):c.getPanel(e+1)},o.increaseIndex=function(e){return this._index+=Math.max(e,0),this},o.decreaseIndex=function(e){return this._index-=Math.max(e,0),this},o.updatePosition=function(){var e=this._flicking.renderer.panels[this._index-1];return this._pos=e?e.range.max+e.margin.next+this._margin.prev:this._margin.prev,this},o.toggle=function(e,i){var c=this._toggleDirection,f=this._togglePosition;if(c===DIRECTION.NONE||i===e)return!1;var m=this._toggled;return i>e?f>=e&&f<=i&&(this._toggled=c===DIRECTION.NEXT):f<=e&&f>=i&&(this._toggled=c!==DIRECTION.NEXT),m!==this._toggled},o.updateCircularToggleDirection=function(){var e=this._flicking;if(!e.circularEnabled)return this._toggleDirection=DIRECTION.NONE,this._togglePosition=0,this._toggled=!1,this;var i=e.camera,c=i.range,f=i.alignPosition,m=i.visibleRange,g=m.max-m.min,Te=c.min-f,Oe=c.max-f+g,Ie=this.includeRange(Oe-g,Oe,!1),_e=this.includeRange(Te,Te+g,!1);return this._toggled=!1,Ie?(this._toggleDirection=DIRECTION.PREV,this._togglePosition=this.range.max+c.min-c.max+f,this.toggle(1/0,i.position)):_e?(this._toggleDirection=DIRECTION.NEXT,this._togglePosition=this.range.min+c.max-g+f,this.toggle(-1/0,i.position)):(this._toggleDirection=DIRECTION.NONE,this._togglePosition=0),this},o._updateAlignPos=function(){this._alignPos=parseAlign$1(this._align,this._size)},o._resetInternalStates=function(){this._size=0,this._pos=0,this._margin={prev:0,next:0},this._height=0,this._alignPos=0,this._toggled=!1,this._togglePosition=0,this._toggleDirection=DIRECTION.NONE},_}(),NormalRenderingStrategy=function(){function _(e){var i=e.providerCtor;this._providerCtor=i}var o=_.prototype;return o.renderPanels=function(){},o.getRenderingIndexesByOrder=function(e){var i=e.renderer.panels.filter(function(g){return g.rendered}),c=i.filter(function(g){return g.toggled&&g.toggleDirection===DIRECTION.PREV}),f=i.filter(function(g){return g.toggled&&g.toggleDirection===DIRECTION.NEXT}),m=i.filter(function(g){return!g.toggled});return __spread(c,m,f).map(function(g){return g.index})},o.getRenderingElementsByOrder=function(e){var i=e.panels;return this.getRenderingIndexesByOrder(e).map(function(c){return i[c].element})},o.updateRenderingPanels=function(e){e.renderOnlyVisible?this._showOnlyVisiblePanels(e):e.panels.forEach(function(i){return i.markForShow()})},o.collectPanels=function(e,i){var c=this,f=parsePanelAlign(e.renderer.align);return i.map(function(m,g){return new Panel({index:g,elementProvider:new c._providerCtor(m),align:f,flicking:e})})},o.createPanel=function(e,i){return new Panel(__assign(__assign({},i),{elementProvider:new this._providerCtor(e)}))},o.updatePanelSizes=function(e,i){e.panels.forEach(function(c){return c.setSize(i)})},o._showOnlyVisiblePanels=function(e){var i=e.renderer.panels,c=e.camera,f=c.visiblePanels.reduce(function(m,g){return m[g.index]=!0,m},{});i.forEach(function(m){m.index in f||m.loading?m.markForShow():e.holding||m.markForHide()}),c.updateOffset()},_}(),VirtualPanel=function(_){__extends(o,_);function o(i){var c=_.call(this,i)||this;return i.elementProvider.init(c),c._elProvider=i.elementProvider,c._cachedInnerHTML=null,c}var e=o.prototype;return Object.defineProperty(e,"element",{get:function(){return this._elProvider.element},enumerable:!1,configurable:!0}),Object.defineProperty(e,"cachedInnerHTML",{get:function(){return this._cachedInnerHTML},enumerable:!1,configurable:!0}),Object.defineProperty(e,"elementIndex",{get:function(){var i=this._flicking,c=i.panelsPerView+1,f=i.panelCount,m=this._index;return this._toggled&&(m=this._toggleDirection===DIRECTION.NEXT?m+f:m-f),circulateIndex(m,c)},enumerable:!1,configurable:!0}),e.cacheRenderResult=function(i){this._cachedInnerHTML=i},e.uncacheRenderResult=function(){this._cachedInnerHTML=null},e.render=function(){var i=this._flicking,c=i.virtual,f=c.renderPanel,m=c.cache,g=this._elProvider.element,Te=this._cachedInnerHTML||f(this,this._index);Te!==g.innerHTML&&(g.innerHTML=Te,m&&this.cacheRenderResult(Te))},e.increaseIndex=function(i){return this.uncacheRenderResult(),_.prototype.increaseIndex.call(this,i)},e.decreaseIndex=function(i){return this.uncacheRenderResult(),_.prototype.decreaseIndex.call(this,i)},o}(Panel),VirtualRenderingStrategy=function(){function _(){}var o=_.prototype;return o.renderPanels=function(e){var i=e.virtual,c=e.visiblePanels,f=range(e.panelsPerView+1);c.forEach(function(m){var g=m.elementIndex;m.render(),i.show(g),f[g]=-1}),f.filter(function(m){return m>=0}).forEach(function(m){i.hide(m)})},o.getRenderingIndexesByOrder=function(e){var i=e.virtual,c=__spread(e.visiblePanels).filter(function(g){return g.rendered}).sort(function(g,Te){return g.position+g.offset-(Te.position+Te.offset)});if(c.length<=0)return i.elements.map(function(g,Te){return Te});var f=c.map(function(g){return g.elementIndex}),m=i.elements.map(function(g,Te){return __assign(__assign({},g),{idx:Te})}).filter(function(g){return!g.visible}).map(function(g){return g.idx});return __spread(f,m)},o.getRenderingElementsByOrder=function(e){var i=e.virtual,c=i.elements;return this.getRenderingIndexesByOrder(e).map(function(f){return c[f].nativeElement})},o.updateRenderingPanels=function(e){var i=e.renderer.panels,c=e.camera,f=c.visiblePanels.reduce(function(m,g){return m[g.index]=!0,m},{});i.forEach(function(m){m.index in f||m.loading?m.markForShow():m.markForHide()}),c.updateOffset()},o.collectPanels=function(e){var i=parsePanelAlign(e.renderer.align);return range(e.virtual.initialPanelCount).map(function(c){return new VirtualPanel({index:c,elementProvider:new VirtualElementProvider(e),align:i,flicking:e})})},o.createPanel=function(e,i){return new VirtualPanel(__assign(__assign({},i),{elementProvider:new VirtualElementProvider(i.flicking)}))},o.updatePanelSizes=function(e,i){e.virtual.elements.forEach(function(c){setSize(c.nativeElement,i)}),e.panels.forEach(function(c){return c.setSize(i)})},_}(),Flicking=function(_){__extends(o,_);function o(i,c){var f=c===void 0?{}:c,m=f.align,g=m===void 0?ALIGN.CENTER:m,Te=f.defaultIndex,Oe=Te===void 0?0:Te,Ie=f.horizontal,_e=Ie===void 0?!0:Ie,De=f.circular,Ee=De===void 0?!1:De,qe=f.circularFallback,Be=qe===void 0?CIRCULAR_FALLBACK.LINEAR:qe,Ne=f.bound,Ve=Ne===void 0?!1:Ne,Ue=f.adaptive,We=Ue===void 0?!1:Ue,He=f.panelsPerView,Ze=He===void 0?-1:He,st=f.noPanelStyleOverride,it=st===void 0?!1:st,vt=f.resizeOnContentsReady,gt=vt===void 0?!1:vt,tt=f.nested,pt=tt===void 0?!1:tt,nt=f.needPanelThreshold,mt=nt===void 0?0:nt,Je=f.preventEventsBeforeInit,Ft=Je===void 0?!0:Je,Zt=f.deceleration,jt=Zt===void 0?.0075:Zt,cr=f.duration,bt=cr===void 0?500:cr,St=f.easing,ct=St===void 0?function(Or){return 1-Math.pow(1-Or,3)}:St,dt=f.inputType,Pt=dt===void 0?["mouse","touch"]:dt,Ct=f.moveType,Kt=Ct===void 0?"snap":Ct,fr=f.threshold,Rr=fr===void 0?40:fr,sr=f.interruptable,lt=sr===void 0?!0:sr,yt=f.bounce,Jt=yt===void 0?"20%":yt,$t=f.iOSEdgeSwipeThreshold,dr=$t===void 0?30:$t,Xe=f.preventClickOnDrag,At=Xe===void 0?!0:Xe,Wt=f.preventDefaultOnDrag,ht=Wt===void 0?!1:Wt,xt=f.disableOnInit,Dt=xt===void 0?!1:xt,er=f.changeOnHold,rt=er===void 0?!1:er,je=f.renderOnlyVisible,Ke=je===void 0?!1:je,ut=f.virtual,Et=ut===void 0?null:ut,It=f.autoInit,zt=It===void 0?!0:It,tr=f.autoResize,Sr=tr===void 0?!0:tr,Lr=f.useResizeObserver,Pr=Lr===void 0?!0:Lr,Er=f.resizeDebounce,gr=Er===void 0?0:Er,Qr=f.maxResizeDebounce,Cr=Qr===void 0?100:Qr,on=f.useFractionalSize,Bn=on===void 0?!1:on,Un=f.externalRenderer,wr=Un===void 0?null:Un,Xt=f.renderExternal,yr=Xt===void 0?null:Xt,at=_.call(this)||this;return at._initialized=!1,at._plugins=[],at._align=g,at._defaultIndex=Oe,at._horizontal=_e,at._circular=Ee,at._circularFallback=Be,at._bound=Ve,at._adaptive=We,at._panelsPerView=Ze,at._noPanelStyleOverride=it,at._resizeOnContentsReady=gt,at._nested=pt,at._virtual=Et,at._needPanelThreshold=mt,at._preventEventsBeforeInit=Ft,at._deceleration=jt,at._duration=bt,at._easing=ct,at._inputType=Pt,at._moveType=Kt,at._threshold=Rr,at._interruptable=lt,at._bounce=Jt,at._iOSEdgeSwipeThreshold=dr,at._preventClickOnDrag=At,at._preventDefaultOnDrag=ht,at._disableOnInit=Dt,at._changeOnHold=rt,at._renderOnlyVisible=Ke,at._autoInit=zt,at._autoResize=Sr,at._useResizeObserver=Pr,at._resizeDebounce=gr,at._maxResizeDebounce=Cr,at._useFractionalSize=Bn,at._externalRenderer=wr,at._renderExternal=yr,at._viewport=new Viewport(at,getElement(i)),at._autoResizer=new AutoResizer(at),at._renderer=at._createRenderer(),at._camera=at._createCamera(),at._control=at._createControl(),at._virtualManager=new VirtualManager(at,Et),at._autoInit&&at.init(),at}var e=o.prototype;return Object.defineProperty(e,"control",{get:function(){return this._control},enumerable:!1,configurable:!0}),Object.defineProperty(e,"camera",{get:function(){return this._camera},enumerable:!1,configurable:!0}),Object.defineProperty(e,"renderer",{get:function(){return this._renderer},enumerable:!1,configurable:!0}),Object.defineProperty(e,"viewport",{get:function(){return this._viewport},enumerable:!1,configurable:!0}),Object.defineProperty(e,"initialized",{get:function(){return this._initialized},enumerable:!1,configurable:!0}),Object.defineProperty(e,"circularEnabled",{get:function(){return this._camera.circularEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(e,"virtualEnabled",{get:function(){return this._panelsPerView>0&&this._virtual!=null},enumerable:!1,configurable:!0}),Object.defineProperty(e,"index",{get:function(){return this._control.activeIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e,"element",{get:function(){return this._viewport.element},enumerable:!1,configurable:!0}),Object.defineProperty(e,"currentPanel",{get:function(){return this._control.activePanel},enumerable:!1,configurable:!0}),Object.defineProperty(e,"panels",{get:function(){return this._renderer.panels},enumerable:!1,configurable:!0}),Object.defineProperty(e,"panelCount",{get:function(){return this._renderer.panelCount},enumerable:!1,configurable:!0}),Object.defineProperty(e,"visiblePanels",{get:function(){return this._camera.visiblePanels},enumerable:!1,configurable:!0}),Object.defineProperty(e,"animating",{get:function(){return this._control.animating},enumerable:!1,configurable:!0}),Object.defineProperty(e,"holding",{get:function(){return this._control.holding},enumerable:!1,configurable:!0}),Object.defineProperty(e,"activePlugins",{get:function(){return this._plugins},enumerable:!1,configurable:!0}),Object.defineProperty(e,"align",{get:function(){return this._align},set:function(i){this._align=i,this._renderer.align=i,this._camera.align=i,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultIndex",{get:function(){return this._defaultIndex},set:function(i){this._defaultIndex=i},enumerable:!1,configurable:!0}),Object.defineProperty(e,"horizontal",{get:function(){return this._horizontal},set:function(i){this._horizontal=i,this._control.controller.updateDirection(),this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"circular",{get:function(){return this._circular},set:function(i){this._circular=i,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"circularFallback",{get:function(){return this._circularFallback},enumerable:!1,configurable:!0}),Object.defineProperty(e,"bound",{get:function(){return this._bound},set:function(i){this._bound=i,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"adaptive",{get:function(){return this._adaptive},set:function(i){this._adaptive=i,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"panelsPerView",{get:function(){return this._panelsPerView},set:function(i){this._panelsPerView=i,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"noPanelStyleOverride",{get:function(){return this._noPanelStyleOverride},set:function(i){this._noPanelStyleOverride=i,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"resizeOnContentsReady",{get:function(){return this._resizeOnContentsReady},set:function(i){this._resizeOnContentsReady=i,i&&this._renderer.checkPanelContentsReady(this._renderer.panels)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"nested",{get:function(){return this._nested},set:function(i){this._nested=i;var c=this._control.controller.axes;c&&(c.options.nested=i)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"needPanelThreshold",{get:function(){return this._needPanelThreshold},set:function(i){this._needPanelThreshold=i},enumerable:!1,configurable:!0}),Object.defineProperty(e,"preventEventsBeforeInit",{get:function(){return this._preventEventsBeforeInit},set:function(i){this._preventEventsBeforeInit=i},enumerable:!1,configurable:!0}),Object.defineProperty(e,"deceleration",{get:function(){return this._deceleration},set:function(i){this._deceleration=i;var c=this._control.controller.axes;c&&(c.options.deceleration=i)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"easing",{get:function(){return this._easing},set:function(i){this._easing=i;var c=this._control.controller.axes;c&&(c.options.easing=i)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"duration",{get:function(){return this._duration},set:function(i){this._duration=i},enumerable:!1,configurable:!0}),Object.defineProperty(e,"inputType",{get:function(){return this._inputType},set:function(i){this._inputType=i;var c=this._control.controller.panInput;c&&(c.options.inputType=i)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"moveType",{get:function(){return this._moveType},set:function(i){this._moveType=i;var c=this._control,f=this._createControl(),m=c.activePanel;f.copy(c);var g=m?this._camera.getProgressInPanel(m):0;this._control=f,this._control.updatePosition(g),this._control.updateInput()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"threshold",{get:function(){return this._threshold},set:function(i){this._threshold=i},enumerable:!1,configurable:!0}),Object.defineProperty(e,"interruptable",{get:function(){return this._interruptable},set:function(i){this._interruptable=i;var c=this._control.controller.axes;c&&(c.options.interruptable=i)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"bounce",{get:function(){return this._bounce},set:function(i){this._bounce=i,this._control.updateInput()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"iOSEdgeSwipeThreshold",{get:function(){return this._iOSEdgeSwipeThreshold},set:function(i){this._iOSEdgeSwipeThreshold=i;var c=this._control.controller.panInput;c&&(c.options.iOSEdgeSwipeThreshold=i)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"preventClickOnDrag",{get:function(){return this._preventClickOnDrag},set:function(i){var c=this._preventClickOnDrag;if(i!==c){var f=this._control.controller;i?f.addPreventClickHandler():f.removePreventClickHandler(),this._preventClickOnDrag=i}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"preventDefaultOnDrag",{get:function(){return this._preventDefaultOnDrag},set:function(i){this._preventDefaultOnDrag=i;var c=this._control.controller.panInput;c&&(c.options.preventDefaultOnDrag=i)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"disableOnInit",{get:function(){return this._disableOnInit},set:function(i){this._disableOnInit=i},enumerable:!1,configurable:!0}),Object.defineProperty(e,"changeOnHold",{get:function(){return this._changeOnHold},set:function(i){this._changeOnHold=i},enumerable:!1,configurable:!0}),Object.defineProperty(e,"renderOnlyVisible",{get:function(){return this._renderOnlyVisible},set:function(i){this._renderOnlyVisible=i,this._renderer.render()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"virtual",{get:function(){return this._virtualManager},enumerable:!1,configurable:!0}),Object.defineProperty(e,"autoInit",{get:function(){return this._autoInit},enumerable:!1,configurable:!0}),Object.defineProperty(e,"autoResize",{get:function(){return this._autoResize},set:function(i){this._autoResize=i,i?this._autoResizer.enable():this._autoResizer.disable()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"useResizeObserver",{get:function(){return this._useResizeObserver},set:function(i){this._useResizeObserver=i,this._autoResize&&this._autoResizer.enable()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"resizeDebounce",{get:function(){return this._resizeDebounce},enumerable:!1,configurable:!0}),Object.defineProperty(e,"maxResizeDebounce",{get:function(){return this._maxResizeDebounce},enumerable:!1,configurable:!0}),Object.defineProperty(e,"useFractionalSize",{get:function(){return this._useFractionalSize},enumerable:!1,configurable:!0}),Object.defineProperty(e,"externalRenderer",{get:function(){return this._externalRenderer},enumerable:!1,configurable:!0}),Object.defineProperty(e,"renderExternal",{get:function(){return this._renderExternal},enumerable:!1,configurable:!0}),e.init=function(){var i=this;if(this._initialized)return Promise.resolve();var c=this._camera,f=this._renderer,m=this._control,g=this._virtualManager,Te=this.trigger,Oe=this._preventEventsBeforeInit;return c.init(),g.init(),f.init(this),m.init(this),Oe&&(this.trigger=function(){return i}),this._initialResize(),this._moveToInitialPanel(),this._autoResize&&this._autoResizer.enable(),this._preventClickOnDrag&&m.controller.addPreventClickHandler(),this._disableOnInit&&this.disableInput(),f.checkPanelContentsReady(f.panels),this._initialized=!0,f.render().then(function(){i._plugins.forEach(function(Ie){return Ie.init(i)}),Oe&&(i.trigger=Te),i.trigger(new ComponentEvent$1(EVENTS.READY))})},e.destroy=function(){this.off(),this._autoResizer.disable(),this._control.destroy(),this._camera.destroy(),this._renderer.destroy(),this._plugins.forEach(function(i){return i.destroy()}),this._initialized=!1},e.prev=function(i){var c,f,m;return i===void 0&&(i=this._duration),this.moveTo((m=(f=(c=this._control.activePanel)===null||c===void 0?void 0:c.prev())===null||f===void 0?void 0:f.index)!==null&&m!==void 0?m:-1,i,DIRECTION.PREV)},e.next=function(i){var c,f,m;return i===void 0&&(i=this._duration),this.moveTo((m=(f=(c=this._control.activePanel)===null||c===void 0?void 0:c.next())===null||f===void 0?void 0:f.index)!==null&&m!==void 0?m:this._renderer.panelCount,i,DIRECTION.NEXT)},e.moveTo=function(i,c,f){c===void 0&&(c=this._duration),f===void 0&&(f=DIRECTION.NONE);var m=this._renderer,g=m.panelCount,Te=m.getPanel(i);return Te?this._control.animating?Promise.reject(new FlickingError(MESSAGE.ANIMATION_ALREADY_PLAYING,CODE.ANIMATION_ALREADY_PLAYING)):(this._control.holding&&this._control.controller.release(),this._control.moveToPanel(Te,{duration:c,direction:f})):Promise.reject(new FlickingError(MESSAGE.INDEX_OUT_OF_RANGE(i,0,g-1),CODE.INDEX_OUT_OF_RANGE))},e.updateAnimation=function(i,c,f){if(this._control.animating){var m=this._renderer,g=m.panelCount,Te=m.getPanel(i);if(!Te)throw new FlickingError(MESSAGE.INDEX_OUT_OF_RANGE(i,0,g-1),CODE.INDEX_OUT_OF_RANGE);this._control.updateAnimation(Te,c,f)}},e.stopAnimation=function(){this._control.animating&&this._control.stopAnimation()},e.getPanel=function(i){return this._renderer.getPanel(i)},e.enableInput=function(){return this._control.enable(),this},e.disableInput=function(){return this._control.disable(),this},e.getStatus=function(i){var c,f,m=i===void 0?{}:i,g=m.index,Te=g===void 0?!0:g,Oe=m.position,Ie=Oe===void 0?!0:Oe,_e=m.includePanelHTML,De=_e===void 0?!1:_e,Ee=m.visiblePanelsOnly,qe=Ee===void 0?!1:Ee,Be=this._camera,Ne=qe?this.visiblePanels:this.panels,Ve={panels:Ne.map(function(He){var Ze={index:He.index};return De&&(Ze.html=He.element.outerHTML),Ze})};if(Te&&(Ve.index=this.index),Ie){var Ue=Be.findNearestAnchor(Be.position);Ue&&(Ve.position={panel:Ue.panel.index,progressInPanel:Be.getProgressInPanel(Ue.panel)})}if(qe){var We=this.visiblePanels;Ve.visibleOffset=(f=(c=We[0])===null||c===void 0?void 0:c.index)!==null&&f!==void 0?f:0}return Ve},e.setStatus=function(i){var c;if(!this._initialized)throw new FlickingError(MESSAGE.NOT_INITIALIZED,CODE.NOT_INITIALIZED);var f=i.index,m=i.position,g=i.visibleOffset,Te=i.panels,Oe=this._renderer,Ie=this._control;if(!((c=Te[0])===null||c===void 0)&&c.html&&!this._renderExternal&&(Oe.batchRemove({index:0,deleteCount:this.panels.length,hasDOMInElements:!0}),Oe.batchInsert({index:0,elements:parseElement(Te.map(function(Ne){return Ne.html})),hasDOMInElements:!0})),f!=null){var _e=g?f-g:f;this.moveTo(_e,0).catch(function(){})}if(m&&this._moveType===MOVE_TYPE.FREE_SCROLL){var De=m.panel,Ee=m.progressInPanel,_e=g?De-g:De,qe=Oe.panels[_e].range,Be=qe.min+(qe.max-qe.min)*Ee;Ie.moveToPosition(Be,0).catch(function(){})}},e.addPlugins=function(){for(var i,c=this,f=[],m=0;m<arguments.length;m++)f[m]=arguments[m];return this._initialized&&f.forEach(function(g){return g.init(c)}),(i=this._plugins).push.apply(i,__spread(f)),this},e.removePlugins=function(){for(var i=this,c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];return c.forEach(function(m){var g=findIndex(i._plugins,function(Te){return Te===m});g>=0&&(m.destroy(),i._plugins.splice(g,1))}),this},e.resize=function(){return __awaiter(this,void 0,void 0,function(){var i,c,f,m,g,Te,Oe,Ie,_e,De,Ee;return __generator(this,function(qe){switch(qe.label){case 0:return i=this._viewport,c=this._renderer,f=this._camera,m=this._control,g=m.activePanel,Te=i.width,Oe=i.height,Ie=g?f.getProgressInPanel(g):0,this.trigger(new ComponentEvent$1(EVENTS.BEFORE_RESIZE,{width:Te,height:Oe,element:i.element})),i.resize(),[4,c.forceRenderAllPanels()];case 1:return qe.sent(),this._initialized?(c.updatePanelSize(),f.updateAlignPos(),f.updateRange(),f.updateAnchors(),f.updateAdaptiveHeight(),f.updatePanelOrder(),f.updateOffset(),[4,c.render()]):[2];case 2:return qe.sent(),this._initialized?(m.animating||(m.updatePosition(Ie),m.updateInput()),_e=i.width,De=i.height,Ee=_e!==Te||De!==Oe,this.trigger(new ComponentEvent$1(EVENTS.AFTER_RESIZE,{width:i.width,height:i.height,prev:{width:Te,height:Oe},sizeChanged:Ee,element:i.element})),[2]):[2]}})})},e.append=function(i){return this.insert(this._renderer.panelCount,i)},e.prepend=function(i){return this.insert(0,i)},e.insert=function(i,c){if(this._renderExternal)throw new FlickingError(MESSAGE.NOT_ALLOWED_IN_FRAMEWORK,CODE.NOT_ALLOWED_IN_FRAMEWORK);return this._renderer.batchInsert({index:i,elements:parseElement(c),hasDOMInElements:!0})},e.remove=function(i,c){if(c===void 0&&(c=1),this._renderExternal)throw new FlickingError(MESSAGE.NOT_ALLOWED_IN_FRAMEWORK,CODE.NOT_ALLOWED_IN_FRAMEWORK);return this._renderer.batchRemove({index:i,deleteCount:c,hasDOMInElements:!0})},e._createControl=function(){var i,c=this._moveType,f=Object.keys(MOVE_TYPE).map(function(Te){return MOVE_TYPE[Te]}),m=Array.isArray(c)?c[0]:c,g=Array.isArray(c)?(i=c[1])!==null&&i!==void 0?i:{}:{};if(!includes(f,m))throw new FlickingError(MESSAGE.WRONG_OPTION("moveType",JSON.stringify(c)),CODE.WRONG_OPTION);switch(m){case MOVE_TYPE.SNAP:return new SnapControl(g);case MOVE_TYPE.FREE_SCROLL:return new FreeControl(g);case MOVE_TYPE.STRICT:return new StrictControl(g)}},e._createCamera=function(){return this._circular&&this._bound&&console.warn('"circular" and "bound" option cannot be used together, ignoring bound.'),new Camera(this,{align:this._align})},e._createRenderer=function(){var i=this._externalRenderer;return this._virtual&&this._panelsPerView<=0&&console.warn('"virtual" and "panelsPerView" option should be used together, ignoring virtual.'),i||(this._renderExternal?this._createExternalRenderer():this._createVanillaRenderer())},e._createExternalRenderer=function(){var i=this._renderExternal,c=i.renderer,f=i.rendererOptions;return new c(__assign({align:this._align},f))},e._createVanillaRenderer=function(){var i=this.virtualEnabled;return new VanillaRenderer({align:this._align,strategy:i?new VirtualRenderingStrategy:new NormalRenderingStrategy({providerCtor:VanillaElementProvider})})},e._moveToInitialPanel=function(){var i=this._renderer,c=this._control,f=this._camera,m=i.getPanel(this._defaultIndex)||i.getPanel(0);if(m){var g=f.findNearestAnchor(m.position),Te=g&&m.index!==g.panel.index?g.panel:m;if(c.setActive(Te,null,!1),!g)throw new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(Te.position),CODE.POSITION_NOT_REACHABLE);var Oe=Te.position;f.canReach(Te)||(Oe=g.position),f.lookAt(Oe),c.updateInput(),f.updateOffset()}},e._initialResize=function(){var i=this._viewport,c=this._renderer,f=this._camera,m=this._control;this.trigger(new ComponentEvent$1(EVENTS.BEFORE_RESIZE,{width:0,height:0,element:i.element})),i.resize(),c.updatePanelSize(),f.updateAlignPos(),f.updateRange(),f.updateAnchors(),f.updateOffset(),m.updateInput();var g=i.width,Te=i.height,Oe=g!==0||Te!==0;this.trigger(new ComponentEvent$1(EVENTS.AFTER_RESIZE,{width:i.width,height:i.height,prev:{width:0,height:0},sizeChanged:Oe,element:i.element}))},o.VERSION="4.11.4",o}(Component);const flicking="",scriptRel="modulepreload",assetsURL=function(_){return"/vme/"+_},seen={},__vitePreload=function(o,e,i){if(!e||e.length===0)return o();const c=document.getElementsByTagName("link");return Promise.all(e.map(f=>{if(f=assetsURL(f),f in seen)return;seen[f]=!0;const m=f.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(!!i)for(let Ie=c.length-1;Ie>=0;Ie--){const _e=c[Ie];if(_e.href===f&&(!m||_e.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${f}"]${g}`))return;const Oe=document.createElement("link");if(Oe.rel=m?"stylesheet":scriptRel,m||(Oe.as="script",Oe.crossOrigin=""),Oe.href=f,document.head.appendChild(Oe),m)return new Promise((Ie,_e)=>{Oe.addEventListener("load",Ie),Oe.addEventListener("error",()=>_e(new Error(`Unable to preload CSS for ${f}`)))})})).then(()=>o()).catch(f=>{const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f})};var __defProp=Object.defineProperty,__defNormalProp=(_,o,e)=>o in _?__defProp(_,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):_[o]=e,__publicField=(_,o,e)=>__defNormalProp(_,typeof o!="symbol"?o+"":o,e);function _mergeNamespaces(_,o){for(var e=0;e<o.length;e++){const i=o[e];if(typeof i!="string"&&!Array.isArray(i)){for(const c in i)if(c!=="default"&&!(c in _)){const f=Object.getOwnPropertyDescriptor(i,c);f&&Object.defineProperty(_,c,f.get?f:{enumerable:!0,get:()=>i[c]})}}}return Object.freeze(Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}))}const systemCoreMap={gb:"mgba",gba:"mgba",gbc:"mgba",megadrive:"genesis_plus_gx",nes:"fceumm",snes:"snes9x"};var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(_){return _&&_.__esModule&&Object.prototype.hasOwnProperty.call(_,"default")?_.default:_}const{hasOwnProperty}=Object.prototype,encode=(_,o={})=>{typeof o=="string"&&(o={section:o}),o.align=o.align===!0,o.newline=o.newline===!0,o.sort=o.sort===!0,o.whitespace=o.whitespace===!0||o.align===!0,o.platform=o.platform||typeof process<"u"&&process.platform,o.bracketedArray=o.bracketedArray!==!1;const e=o.platform==="win32"?`\r
`:`
`,i=o.whitespace?" = ":"=",c=[],f=o.sort?Object.keys(_).sort():Object.keys(_);let m=0;o.align&&(m=safe(f.filter(Oe=>_[Oe]===null||Array.isArray(_[Oe])||typeof _[Oe]!="object").map(Oe=>Array.isArray(_[Oe])?`${Oe}[]`:Oe).concat([""]).reduce((Oe,Ie)=>safe(Oe).length>=safe(Ie).length?Oe:Ie)).length);let g="";const Te=o.bracketedArray?"[]":"";for(const Oe of f){const Ie=_[Oe];if(Ie&&Array.isArray(Ie))for(const _e of Ie)g+=safe(`${Oe}${Te}`).padEnd(m," ")+i+safe(_e)+e;else Ie&&typeof Ie=="object"?c.push(Oe):g+=safe(Oe).padEnd(m," ")+i+safe(Ie)+e}o.section&&g.length&&(g="["+safe(o.section)+"]"+(o.newline?e+e:e)+g);for(const Oe of c){const Ie=splitSections(Oe,".").join("\\."),_e=(o.section?o.section+".":"")+Ie,De=encode(_[Oe],{...o,section:_e});g.length&&De.length&&(g+=e),g+=De}return g};function splitSections(_,o){var e=0,i=0,c=0,f=[];do if(c=_.indexOf(o,e),c!==-1){if(e=c+o.length,c>0&&_[c-1]==="\\")continue;f.push(_.slice(i,c)),i=c+o.length}while(c!==-1);return f.push(_.slice(i)),f}const decode=(_,o={})=>{o.bracketedArray=o.bracketedArray!==!1;const e=Object.create(null);let i=e,c=null;const f=/^\[([^\]]*)\]\s*$|^([^=]+)(=(.*))?$/i,m=_.split(/[\r\n]+/g),g={};for(const Oe of m){if(!Oe||Oe.match(/^\s*[;#]/)||Oe.match(/^\s*$/))continue;const Ie=Oe.match(f);if(!Ie)continue;if(Ie[1]!==void 0){if(c=unsafe(Ie[1]),c==="__proto__"){i=Object.create(null);continue}i=e[c]=e[c]||Object.create(null);continue}const _e=unsafe(Ie[2]);let De;o.bracketedArray?De=_e.length>2&&_e.slice(-2)==="[]":(g[_e]=((g==null?void 0:g[_e])||0)+1,De=g[_e]>1);const Ee=De&&_e.endsWith("[]")?_e.slice(0,-2):_e;if(Ee==="__proto__")continue;const qe=Ie[3]?unsafe(Ie[4]):!0,Be=qe==="true"||qe==="false"||qe==="null"?JSON.parse(qe):qe;De&&(hasOwnProperty.call(i,Ee)?Array.isArray(i[Ee])||(i[Ee]=[i[Ee]]):i[Ee]=[]),Array.isArray(i[Ee])?i[Ee].push(Be):i[Ee]=Be}const Te=[];for(const Oe of Object.keys(e)){if(!hasOwnProperty.call(e,Oe)||typeof e[Oe]!="object"||Array.isArray(e[Oe]))continue;const Ie=splitSections(Oe,".");i=e;const _e=Ie.pop(),De=_e.replace(/\\\./g,".");for(const Ee of Ie)Ee!=="__proto__"&&((!hasOwnProperty.call(i,Ee)||typeof i[Ee]!="object")&&(i[Ee]=Object.create(null)),i=i[Ee]);i===e&&De===_e||(i[De]=e[Oe],Te.push(Oe))}for(const Oe of Te)delete e[Oe];return e},isQuoted=_=>_.startsWith('"')&&_.endsWith('"')||_.startsWith("'")&&_.endsWith("'"),safe=_=>typeof _!="string"||_.match(/[=\r\n]/)||_.match(/^\[/)||_.length>1&&isQuoted(_)||_!==_.trim()?JSON.stringify(_):_.split(";").join("\\;").split("#").join("\\#"),unsafe=_=>{if(_=(_||"").trim(),isQuoted(_)){_.charAt(0)==="'"&&(_=_.slice(1,-1));try{_=JSON.parse(_)}catch{}}else{let o=!1,e="";for(let i=0,c=_.length;i<c;i++){const f=_.charAt(i);if(o)"\\;#".indexOf(f)!==-1?e+=f:e+="\\"+f,o=!1;else{if(";#".indexOf(f)!==-1)break;f==="\\"?o=!0:e+=f}}return o&&(e+="\\"),e.trim()}return _};var ini={parse:decode,decode,stringify:encode,encode,safe,unsafe};const ini$1=getDefaultExportFromCjs(ini),coreInfoMap={2048:{corename:"2048",savestate:!0,supportsNoGame:!0},"3dengine":{corename:"3DEngine"},"4do":{corename:"4DO",savestate:!0},81:{corename:"81",savestate:!0},a5200:{corename:"a5200",savestate:!0},advanced_tests:{corename:"Advanced Test",supportsNoGame:!0},ardens:{corename:"Ardens",savestate:!0},arduous:{corename:"Arduous"},atari800:{corename:"Atari800",savestate:!0},bk:{corename:"bk",savestate:!0},blastem:{corename:"BlastEm",savestate:!0},bluemsx:{corename:"blueMSX",savestate:!0},bnes:{corename:"bnes/higan",savestate:!0},boom3:{corename:"boom3"},boom3_xp:{corename:"boom3_xp"},bsnes:{corename:"bsnes",savestate:!0},bsnes_cplusplus98:{cheats:!0,corename:"bsnes C++98 (v085)",savestate:!0},bsnes_hd_beta:{corename:"bsnes-hd beta",savestate:!0},bsnes_mercury_accuracy:{cheats:!0,corename:"bsnes-mercury Accuracy",savestate:!0},bsnes_mercury_balanced:{cheats:!0,corename:"bsnes-mercury Balanced",savestate:!0},bsnes_mercury_performance:{cheats:!0,corename:"bsnes-mercury Performance",savestate:!0},bsnes2014_accuracy:{cheats:!0,corename:"bsnes 2014 Accuracy",savestate:!0},bsnes2014_balanced:{cheats:!0,corename:"bsnes 2014 Balanced",savestate:!0},bsnes2014_performance:{cheats:!0,corename:"bsnes 2014 Performance",savestate:!0},cannonball:{corename:"Cannonball",supportsNoGame:!0},cap32:{corename:"Caprice32",savestate:!0,supportsNoGame:!0},cdi2015:{corename:"Philips CDi 2015"},chailove:{cheats:!0,corename:"ChaiLove",savestate:!0},chimerasnes:{cheats:!0,corename:"ChimeraSNES",savestate:!0},citra:{corename:"Citra",savestate:!0},citra_canary:{corename:"Citra Canary/Experimental"},citra2018:{corename:"Citra 2018"},craft:{corename:"Craft",supportsNoGame:!0},crocods:{corename:"CrocoDS",savestate:!0},cruzes:{corename:"Cruzes",supportsNoGame:!0},daphne:{corename:"Daphne"},desmume:{cheats:!0,corename:"DeSmuME",savestate:!0},desmume2015:{cheats:!0,corename:"DeSmuME 2015",savestate:!0},dinothawr:{corename:"Dinothawr",supportsNoGame:!0},directxbox:{corename:"DirectXBox"},dirksimple:{corename:"DirkSimple",savestate:!0},dolphin:{corename:"Dolphin",savestate:!0},dolphin_launcher:{corename:"Dolphin Launcher",supportsNoGame:!0},dosbox:{corename:"DOSBox",supportsNoGame:!0},dosbox_core:{corename:"DOSBox-core",supportsNoGame:!0},dosbox_pure:{cheats:!0,corename:"DOSBox-pure",savestate:!0,supportsNoGame:!0},dosbox_svn:{corename:"DOSBox-SVN",supportsNoGame:!0},dosbox_svn_ce:{corename:"DOSBox-SVN CE",supportsNoGame:!0},duckstation:{corename:"DuckStation",savestate:!0},easyrpg:{corename:"EasyRPG Player"},ecwolf:{corename:"ECWolf",savestate:!0},emuscv:{corename:"EmuSCV",supportsNoGame:!0},emux_chip8:{corename:"Emux CHIP-8"},emux_gb:{corename:"Emux GB"},emux_nes:{corename:"Emux NES"},emux_sms:{corename:"Emux SMS"},ep128emu_core:{cheats:!0,corename:"ep128emu-core",savestate:!0,supportsNoGame:!0},fake08:{corename:"FAKE-08",savestate:!0},fbalpha2012:{corename:"FB Alpha 2012",savestate:!0},fbalpha2012_cps1:{corename:"FB Alpha 2012 CPS-1",savestate:!0},fbalpha2012_cps2:{corename:"FB Alpha 2012 CPS-2",savestate:!0},fbalpha2012_cps3:{corename:"FB Alpha 2012 CPS-3",savestate:!0},fbalpha2012_neogeo:{corename:"FB Alpha 2012 Neo Geo",savestate:!0},fbneo:{cheats:!0,corename:"FinalBurn Neo",savestate:!0},fceumm:{cheats:!0,corename:"FCEUmm",savestate:!0},ffmpeg:{corename:"FFmpeg"},fixgb:{corename:"fixGB"},fixnes:{corename:"fixNES"},flycast:{corename:"Flycast",savestate:!0},flycast_gles2:{corename:"Flycast GLES2",savestate:!0},fmsx:{corename:"fMSX"},freechaf:{corename:"FreeChaF"},freeintv:{corename:"FreeIntv"},freej2me:{corename:"FreeJ2ME"},frodo:{corename:"Frodo"},fsuae:{corename:"FS-UAE"},fuse:{corename:"Fuse"},galaksija:{corename:"galaksija",supportsNoGame:!0},gambatte:{corename:"Gambatte",savestate:!0},gearboy:{corename:"Gearboy"},gearcoleco:{corename:"Gearcoleco"},gearsystem:{corename:"Gearsystem"},genesis_plus_gx:{cheats:!0,corename:"Genesis Plus GX",savestate:!0},genesis_plus_gx_wide:{cheats:!0,corename:"Genesis Plus GX Wide",savestate:!0},gme:{corename:"Game Music Emu"},gong:{corename:"Gong",savestate:!0,supportsNoGame:!0},gpsp:{corename:"gpSP",savestate:!0},gw:{corename:"GW"},handy:{corename:"Handy",savestate:!0},hatari:{corename:"Hatari",savestate:!0},hbmame:{corename:"HBMAME (Git)"},higan_sfc:{corename:"nSide (Super Famicom Accuracy)",savestate:!0},higan_sfc_balanced:{corename:"nSide (Super Famicom Balanced)",savestate:!0},imageviewer:{corename:"Imageviewer"},ishiiruka:{corename:"Ishiiruka",savestate:!0},jaxe:{corename:"JAXE"},jumpnbump:{corename:"jumpnbump"},kronos:{cheats:!0,corename:"Kronos",savestate:!0},lowresnx:{corename:"lowresnx"},lutro:{corename:"Lutro"},mame:{corename:"MAME",savestate:!0},mame2000:{corename:"MAME 2000 (0.37b5)",savestate:!0},mame2003:{corename:"MAME 2003 (0.78)",savestate:!0},mame2003_midway:{corename:"MAME 2003 Midway (0.78)",savestate:!0},mame2003_plus:{corename:"MAME 2003-Plus",savestate:!0},mame2009:{corename:"MAME 2009 (0.135u4)"},mame2010:{corename:"MAME 2010 (0.139)"},mame2015:{corename:"MAME 2015 (0.160)"},mame2016:{corename:"MAME 2016 (0.174)"},mamearcade:{corename:"MAME (Git)"},mamemess:{corename:"MESS (Git)",savestate:!0},mednafen_gba:{corename:"Beetle GBA"},mednafen_lynx:{corename:"Beetle Lynx"},mednafen_ngp:{corename:"Beetle NeoPop",savestate:!0},mednafen_pce:{corename:"Beetle PCE",savestate:!0},mednafen_pce_fast:{corename:"Beetle PCE Fast",savestate:!0},mednafen_pcfx:{corename:"Beetle PC-FX"},mednafen_psx:{cheats:!0,corename:"Beetle PSX",savestate:!0},mednafen_psx_hw:{cheats:!0,corename:"Beetle PSX HW",savestate:!0},mednafen_saturn:{cheats:!0,corename:"Beetle Saturn",savestate:!0},mednafen_snes:{corename:"Beetle bsnes",savestate:!0},mednafen_supafaust:{cheats:!0,corename:"Beetle Supafaust",savestate:!0},mednafen_supergrafx:{cheats:!0,corename:"Beetle SuperGrafx",savestate:!0},mednafen_vb:{corename:"Beetle VB"},mednafen_wswan:{corename:"Beetle WonderSwan",savestate:!0},melonds:{corename:"melonDS"},mesen:{cheats:!0,corename:"Mesen",savestate:!0},"mesen-s":{corename:"Mesen-S"},mess2015:{corename:"MESS 2015 (0.160)"},meteor:{corename:"Meteor"},mgba:{cheats:!0,corename:"mGBA",savestate:!0},minivmac:{corename:"MinivmacII"},mojozork:{corename:"mojozork",savestate:!0},moonlight:{corename:"Moonlight",supportsNoGame:!0},mpv:{corename:"MPV"},mrboom:{corename:"Mr.Boom",savestate:!0,supportsNoGame:!0},mu:{corename:"Mu",supportsNoGame:!0},mupen64plus_next:{cheats:!0,corename:"Mupen64Plus-Next",savestate:!0},mupen64plus_next_develop:{cheats:!0,corename:"Mupen64Plus-Next",savestate:!0},mupen64plus_next_gles2:{cheats:!0,corename:"Mupen64Plus-Next",savestate:!0},mupen64plus_next_gles3:{cheats:!0,corename:"Mupen64Plus-Next",savestate:!0},nekop2:{corename:"Neko Project II",savestate:!0},neocd:{corename:"NeoCD"},nes:{corename:"nes",savestate:!0},nestopia:{cheats:!0,corename:"Nestopia",savestate:!0},np2kai:{corename:"Neko Project II Kai",savestate:!0},numero:{corename:"Numero",savestate:!0,supportsNoGame:!0},nxengine:{corename:"NXEngine",supportsNoGame:!0},o2em:{corename:"O2EM",savestate:!0},oberon:{corename:"Oberon"},openlara:{corename:"OpenLara"},opentyrian:{corename:"OpenTyrian",supportsNoGame:!0},opera:{corename:"Opera",savestate:!0,supportsNoGame:!0},parallel_n64:{corename:"ParaLLEl N64",savestate:!0},parallel_n64_debug:{corename:"ParaLLEl (Debug)",savestate:!0},pascal_pong:{corename:"PascalPong",supportsNoGame:!0},pcem:{corename:"PCem",supportsNoGame:!0},pcsx_rearmed:{cheats:!0,corename:"PCSX-ReARMed",savestate:!0},pcsx_rearmed_interpreter:{cheats:!0,corename:"PCSX ReARMed [Interpreter]",savestate:!0},pcsx_rearmed_neon:{cheats:!0,corename:"PCSX ReARMed [NEON]",savestate:!0},pcsx1:{corename:"PCSX1"},pcsx2:{corename:"LRPS2",savestate:!0},picodrive:{cheats:!0,corename:"PicoDrive",savestate:!0},play:{corename:"Play!",savestate:!0},pocketcdg:{corename:"PocketCDG"},pokemini:{corename:"PokeMini",savestate:!0},potator:{corename:"Potator",savestate:!0},ppsspp:{corename:"PPSSPP",savestate:!0},prboom:{cheats:!0,corename:"PrBoom",savestate:!0},prosystem:{corename:"ProSystem",savestate:!0},puae:{cheats:!0,corename:"PUAE",savestate:!0,supportsNoGame:!0},puae2021:{cheats:!0,corename:"PUAE 2021",savestate:!0,supportsNoGame:!0},puzzlescript:{corename:"puzzlescript",savestate:!0},px68k:{corename:"PX68k",supportsNoGame:!0},quasi88:{cheats:!0,corename:"QUASI88",savestate:!0,supportsNoGame:!0},quicknes:{corename:"QuickNES",savestate:!0},race:{corename:"RACE",savestate:!0},redbook:{corename:"Redbook"},reminiscence:{corename:"REminiscence",savestate:!0},remotejoy:{corename:"RemoteJoy",supportsNoGame:!0},retro8:{corename:"Retro8"},retrodream:{corename:"RetroDream"},rustation:{corename:"Rustation"},same_cdi:{corename:"SAME CDi (Git)"},sameboy:{corename:"SameBoy"},sameduck:{corename:"SameDuck",savestate:!0},scummvm:{corename:"ScummVM",supportsNoGame:!0},simcp:{corename:"SimCoupe"},smsplus:{corename:"SMS Plus GX"},snes9x:{cheats:!0,corename:"Snes9x",savestate:!0},snes9x2002:{cheats:!0,corename:"Snes9x 2002",savestate:!0},snes9x2005:{cheats:!0,corename:"Snes9x 2005",savestate:!0},snes9x2005_plus:{cheats:!0,corename:"Snes9x 2005 Plus",savestate:!0},snes9x2010:{cheats:!0,corename:"Snes9x 2010",savestate:!0},squirreljme:{corename:"SquirrelJME",supportsNoGame:!0},stella:{corename:"Stella",savestate:!0},stella2014:{corename:"Stella 2014",savestate:!0},stonesoup:{corename:"Dungeon Crawl Stone Soup"},superbroswar:{corename:"superbroswar"},swanstation:{corename:"SwanStation",savestate:!0},tempgba:{corename:"TempGBA"},test:{corename:"Test",supportsNoGame:!0},test_netplay:{corename:"netplay-test",supportsNoGame:!0},testaudio_callback:{corename:"TestAudio Callback",supportsNoGame:!0},testaudio_no_callback:{corename:"TestAudio NoCallback",supportsNoGame:!0},testaudio_playback_wav:{corename:"TestAudio Playback Wav",supportsNoGame:!0},testgl:{corename:"TestGL",supportsNoGame:!0},testgl_compute_shaders:{corename:"TestGL ComputeShaders",supportsNoGame:!0},testgl_ff:{corename:"TestGL (FF)",supportsNoGame:!0},testinput_buttontest:{corename:"Button Test",supportsNoGame:!0},testretroluxury:{corename:"Test RetroLuxury",supportsNoGame:!0},testsw:{corename:"TestSW",supportsNoGame:!0},testsw_vram:{corename:"TestSW VRAM",supportsNoGame:!0},testvulkan:{corename:"TestVulkan",supportsNoGame:!0},testvulkan_async_compute:{corename:"TestVulkan AsyncCompute",supportsNoGame:!0},tgbdual:{corename:"TGB Dual",savestate:!0},theodore:{corename:"theodore",savestate:!0,supportsNoGame:!0},thepowdertoy:{corename:"ThePowderToy",savestate:!0,supportsNoGame:!0},tic80:{cheats:!0,corename:"TIC-80",savestate:!0},tyrquake:{cheats:!0,corename:"TyrQuake"},uae4arm:{corename:"UAE4ARM",savestate:!0},ume2015:{corename:"UME 2015 (0.160)"},uw8:{corename:"MicroW8",savestate:!0},uzem:{corename:"uzem",savestate:!0},vaporspec:{corename:"VaporSpec",savestate:!0},vba_next:{corename:"VBA Next",savestate:!0},vbam:{cheats:!0,corename:"VBA-M",savestate:!0},vecx:{corename:"vecx",savestate:!0},vemulator:{corename:"VeMUlator"},vice_x128:{cheats:!0,corename:"VICE x128",savestate:!0,supportsNoGame:!0},vice_x64:{cheats:!0,corename:"VICE x64",savestate:!0,supportsNoGame:!0},vice_x64dtv:{cheats:!0,corename:"VICE x64dtv",savestate:!0,supportsNoGame:!0},vice_x64sc:{cheats:!0,corename:"VICE x64sc",savestate:!0,supportsNoGame:!0},vice_xcbm2:{cheats:!0,corename:"VICE xcbm2",savestate:!0,supportsNoGame:!0},vice_xcbm5x0:{cheats:!0,corename:"VICE xcbm5x0",savestate:!0,supportsNoGame:!0},vice_xpet:{cheats:!0,corename:"VICE xpet",savestate:!0,supportsNoGame:!0},vice_xplus4:{cheats:!0,corename:"VICE xplus4",savestate:!0,supportsNoGame:!0},vice_xscpu64:{cheats:!0,corename:"VICE xscpu64",savestate:!0,supportsNoGame:!0},vice_xvic:{cheats:!0,corename:"VICE xvic",savestate:!0,supportsNoGame:!0},vircon32:{corename:"Vircon32",supportsNoGame:!0},virtualjaguar:{corename:"Virtual Jaguar"},virtualxt:{corename:"virtualxt"},vitaquake2:{corename:"vitaQuake 2"},"vitaquake2-rogue":{corename:"vitaQuake 2 [Rogue]"},"vitaquake2-xatrix":{corename:"vitaQuake 2 [Xatrix]"},"vitaquake2-zaero":{corename:"vitaQuake 2 [Zaero]"},vitaquake3:{corename:"vitaQuake 3"},vitavoyager:{corename:"vitaVoyager"},wasm4:{corename:"WASM-4",savestate:!0},x1:{corename:"x1"},x64sdl:{corename:"VICE SDL"},xrick:{corename:"XRick",supportsNoGame:!0},yabasanshiro:{cheats:!0,corename:"YabaSanshiro",savestate:!0},yabause:{cheats:!0,corename:"Yabause",savestate:!0}},keyboardCodeMap={add:"NumpadAdd",alt:"AltLeft",backquote:"Backquote",backslash:"",backspace:"Backspace",capslock:"CapsLock",comma:"Comma",ctrl:"ControlLeft",del:"Delete",divide:"NumpadDivide",down:"ArrowDown",end:"End",enter:"Enter",equals:"Equal",escape:"Escape",home:"Home",insert:"Insert",kp_enter:"NumpadEnter",kp_equals:"NumpadEquals",kp_minus:"NumpadSubtract",kp_period:"NumpadDecimal",kp_plus:"NumpadAdd",left:"ArrowLeft",leftbracket:"BracketLeft",minus:"Minus",multiply:"NumpadMultiply",numlock:"NumLock",pagedown:"PageDown",pageup:"PageUp",pause:"Pause",period:"Period",print_screen:"PrintScreen",quote:"Quote",ralt:"AltRight",rctrl:"ControlRight",right:"ArrowRight",rightbracket:"BracketRight",rshift:"ShiftRight",scroll_lock:"ScrollLock",semicolon:"Semicolon",shift:"ShiftLeft",slash:"Slash",space:"Space",subtract:"NumpadSubtract",tab:"Tab",tilde:"",up:"ArrowUp"};var browserfs$2={exports:{}};(function(_,o){(function(i,c){_.exports=c()})(commonjsGlobal,function(){return function(e){var i={};function c(f){if(i[f])return i[f].exports;var m=i[f]={exports:{},id:f,loaded:!1};return e[f].call(m.exports,m,m.exports,c),m.loaded=!0,m.exports}return c.m=e,c.c=i,c.p="",c(0)}([function(e,i,c){(function(f,m,g,Te){Object.defineProperty(i,"__esModule",{value:!0});var Oe=c(2),Ie=c(9),_e;(function(ne){ne[ne.EPERM=1]="EPERM",ne[ne.ENOENT=2]="ENOENT",ne[ne.EIO=5]="EIO",ne[ne.EBADF=9]="EBADF",ne[ne.EACCES=13]="EACCES",ne[ne.EBUSY=16]="EBUSY",ne[ne.EEXIST=17]="EEXIST",ne[ne.ENOTDIR=20]="ENOTDIR",ne[ne.EISDIR=21]="EISDIR",ne[ne.EINVAL=22]="EINVAL",ne[ne.EFBIG=27]="EFBIG",ne[ne.ENOSPC=28]="ENOSPC",ne[ne.EROFS=30]="EROFS",ne[ne.ENOTEMPTY=39]="ENOTEMPTY",ne[ne.ENOTSUP=95]="ENOTSUP"})(_e||(_e={}));var De={};De[_e.EPERM]="Operation not permitted.",De[_e.ENOENT]="No such file or directory.",De[_e.EIO]="Input/output error.",De[_e.EBADF]="Bad file descriptor.",De[_e.EACCES]="Permission denied.",De[_e.EBUSY]="Resource busy or locked.",De[_e.EEXIST]="File exists.",De[_e.ENOTDIR]="File is not a directory.",De[_e.EISDIR]="File is a directory.",De[_e.EINVAL]="Invalid argument.",De[_e.EFBIG]="File is too big.",De[_e.ENOSPC]="No space left on disk.",De[_e.EROFS]="Cannot modify a read-only file system.",De[_e.ENOTEMPTY]="Directory is not empty.",De[_e.ENOTSUP]="Operation is not supported.";var Ee=function(ne){function d(k,h,Ae){h===void 0&&(h=De[k]),ne.call(this,h),this.syscall="",this.errno=k,this.code=_e[k],this.path=Ae,this.stack=new ne().stack,this.message="Error: "+this.code+": "+h+(this.path?", '"+this.path+"'":"")}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.fromJSON=function(h){var Ae=new d(0);return Ae.errno=h.errno,Ae.code=h.code,Ae.path=h.path,Ae.stack=h.stack,Ae.message=h.message,Ae},d.fromBuffer=function(h,Ae){return Ae===void 0&&(Ae=0),d.fromJSON(JSON.parse(h.toString("utf8",Ae+4,Ae+4+h.readUInt32LE(Ae))))},d.FileError=function(h,Ae){return new d(h,De[h],Ae)},d.ENOENT=function(h){return this.FileError(_e.ENOENT,h)},d.EEXIST=function(h){return this.FileError(_e.EEXIST,h)},d.EISDIR=function(h){return this.FileError(_e.EISDIR,h)},d.ENOTDIR=function(h){return this.FileError(_e.ENOTDIR,h)},d.EPERM=function(h){return this.FileError(_e.EPERM,h)},d.ENOTEMPTY=function(h){return this.FileError(_e.ENOTEMPTY,h)},d.prototype.toString=function(){return this.message},d.prototype.toJSON=function(){return{errno:this.errno,code:this.code,path:this.path,stack:this.stack,message:this.message}},d.prototype.writeToBuffer=function(h,Ae){h===void 0&&(h=f.alloc(this.bufferSize())),Ae===void 0&&(Ae=0);var Fe=h.write(JSON.stringify(this.toJSON()),Ae+4);return h.writeUInt32LE(Fe,Ae),h},d.prototype.bufferSize=function(){return 4+f.byteLength(JSON.stringify(this.toJSON()))},d}(Error),qe=Object.freeze({get ErrorCode(){return _e},ErrorStrings:De,ApiError:Ee}),Be;(function(ne){ne[ne.NOP=0]="NOP",ne[ne.THROW_EXCEPTION=1]="THROW_EXCEPTION",ne[ne.TRUNCATE_FILE=2]="TRUNCATE_FILE",ne[ne.CREATE_FILE=3]="CREATE_FILE"})(Be||(Be={}));var Ne=function ne(d){if(this.flagStr=d,ne.validFlagStrs.indexOf(d)<0)throw new Ee(_e.EINVAL,"Invalid flag: "+d)};Ne.getFileFlag=function(d){return Ne.flagCache.hasOwnProperty(d)?Ne.flagCache[d]:Ne.flagCache[d]=new Ne(d)},Ne.prototype.getFlagString=function(){return this.flagStr},Ne.prototype.isReadable=function(){return this.flagStr.indexOf("r")!==-1||this.flagStr.indexOf("+")!==-1},Ne.prototype.isWriteable=function(){return this.flagStr.indexOf("w")!==-1||this.flagStr.indexOf("a")!==-1||this.flagStr.indexOf("+")!==-1},Ne.prototype.isTruncating=function(){return this.flagStr.indexOf("w")!==-1},Ne.prototype.isAppendable=function(){return this.flagStr.indexOf("a")!==-1},Ne.prototype.isSynchronous=function(){return this.flagStr.indexOf("s")!==-1},Ne.prototype.isExclusive=function(){return this.flagStr.indexOf("x")!==-1},Ne.prototype.pathExistsAction=function(){return this.isExclusive()?Be.THROW_EXCEPTION:this.isTruncating()?Be.TRUNCATE_FILE:Be.NOP},Ne.prototype.pathNotExistsAction=function(){return(this.isWriteable()||this.isAppendable())&&this.flagStr!=="r+"?Be.CREATE_FILE:Be.THROW_EXCEPTION},Ne.flagCache={},Ne.validFlagStrs=["r","r+","rs","rs+","w","wx","w+","wx+","a","ax","a+","ax+"];var Ve;(function(ne){ne[ne.FILE=32768]="FILE",ne[ne.DIRECTORY=16384]="DIRECTORY",ne[ne.SYMLINK=40960]="SYMLINK"})(Ve||(Ve={}));var Ue=function(d,k,h,Ae,Fe,Me){if(Ae===void 0&&(Ae=new Date),Fe===void 0&&(Fe=new Date),Me===void 0&&(Me=new Date),this.size=k,this.atime=Ae,this.mtime=Fe,this.ctime=Me,this.dev=0,this.ino=0,this.rdev=0,this.nlink=1,this.blksize=4096,this.uid=0,this.gid=0,this.birthtime=new Date(0),this.fileData=null,h)this.mode=h;else switch(d){case Ve.FILE:this.mode=420;break;case Ve.DIRECTORY:default:this.mode=511}this.blocks=Math.ceil(k/512),this.mode<4096&&(this.mode|=d)};Ue.fromBuffer=function(d){var k=d.readUInt32LE(0),h=d.readUInt32LE(4),Ae=d.readDoubleLE(8),Fe=d.readDoubleLE(16),Me=d.readDoubleLE(24);return new Ue(h&61440,k,h&4095,new Date(Ae),new Date(Fe),new Date(Me))},Ue.prototype.toBuffer=function(){var d=f.alloc(32);return d.writeUInt32LE(this.size,0),d.writeUInt32LE(this.mode,4),d.writeDoubleLE(this.atime.getTime(),8),d.writeDoubleLE(this.mtime.getTime(),16),d.writeDoubleLE(this.ctime.getTime(),24),d},Ue.prototype.clone=function(){return new Ue(this.mode&61440,this.size,this.mode&4095,this.atime,this.mtime,this.ctime)},Ue.prototype.isFile=function(){return(this.mode&61440)===Ve.FILE},Ue.prototype.isDirectory=function(){return(this.mode&61440)===Ve.DIRECTORY},Ue.prototype.isSymbolicLink=function(){return(this.mode&61440)===Ve.SYMLINK},Ue.prototype.chmod=function(d){this.mode=this.mode&61440|d},Ue.prototype.isSocket=function(){return!1},Ue.prototype.isBlockDevice=function(){return!1},Ue.prototype.isCharacterDevice=function(){return!1},Ue.prototype.isFIFO=function(){return!1};var We=function(ne,d){return ne};function He(ne){if(ne)return ne;throw new Ee(_e.EIO,"Initialize BrowserFS with a file system using BrowserFS.initialize(filesystem)")}function Ze(ne,d){switch(typeof ne){case"number":return ne;case"string":var k=parseInt(ne,8);return isNaN(k)?d:k;default:return d}}function st(ne){if(ne instanceof Date)return ne;if(typeof ne=="number")return new Date(ne*1e3);throw new Ee(_e.EINVAL,"Invalid time.")}function it(ne){if(ne.indexOf("\0")>=0)throw new Ee(_e.EINVAL,"Path must be a string without null bytes.");if(ne==="")throw new Ee(_e.EINVAL,"Path must not be empty.");return Ie.resolve(ne)}function vt(ne,d,k,h){switch(typeof ne){case"object":return{encoding:typeof ne.encoding<"u"?ne.encoding:d,flag:typeof ne.flag<"u"?ne.flag:k,mode:Ze(ne.mode,h)};case"string":return{encoding:ne,flag:k,mode:h};default:return{encoding:d,flag:k,mode:h}}}function gt(){}var tt=function(){this.F_OK=0,this.R_OK=4,this.W_OK=2,this.X_OK=1,this.root=null,this.fdMap={},this.nextFd=100};tt.prototype.initialize=function(d){if(!d.constructor.isAvailable())throw new Ee(_e.EINVAL,"Tried to instantiate BrowserFS with an unavailable file system.");return this.root=d},tt.prototype._toUnixTimestamp=function(d){if(typeof d=="number")return d;if(d instanceof Date)return d.getTime()/1e3;throw new Error("Cannot parse time: "+d)},tt.prototype.getRootFS=function(){return this.root?this.root:null},tt.prototype.rename=function(d,k,h){h===void 0&&(h=gt);var Ae=We(h,1);try{He(this.root).rename(it(d),it(k),Ae)}catch(Fe){Ae(Fe)}},tt.prototype.renameSync=function(d,k){He(this.root).renameSync(it(d),it(k))},tt.prototype.exists=function(d,k){k===void 0&&(k=gt);var h=We(k,1);try{return He(this.root).exists(it(d),h)}catch{return h(!1)}},tt.prototype.existsSync=function(d){try{return He(this.root).existsSync(it(d))}catch{return!1}},tt.prototype.stat=function(d,k){k===void 0&&(k=gt);var h=We(k,2);try{return He(this.root).stat(it(d),!1,h)}catch(Ae){return h(Ae)}},tt.prototype.statSync=function(d){return He(this.root).statSync(it(d),!1)},tt.prototype.lstat=function(d,k){k===void 0&&(k=gt);var h=We(k,2);try{return He(this.root).stat(it(d),!0,h)}catch(Ae){return h(Ae)}},tt.prototype.lstatSync=function(d){return He(this.root).statSync(it(d),!0)},tt.prototype.truncate=function(d,k,h){k===void 0&&(k=0),h===void 0&&(h=gt);var Ae=0;typeof k=="function"?h=k:typeof k=="number"&&(Ae=k);var Fe=We(h,1);try{if(Ae<0)throw new Ee(_e.EINVAL);return He(this.root).truncate(it(d),Ae,Fe)}catch(Me){return Fe(Me)}},tt.prototype.truncateSync=function(d,k){if(k===void 0&&(k=0),k<0)throw new Ee(_e.EINVAL);return He(this.root).truncateSync(it(d),k)},tt.prototype.unlink=function(d,k){k===void 0&&(k=gt);var h=We(k,1);try{return He(this.root).unlink(it(d),h)}catch(Ae){return h(Ae)}},tt.prototype.unlinkSync=function(d){return He(this.root).unlinkSync(it(d))},tt.prototype.open=function(d,k,h,Ae){var Fe=this;Ae===void 0&&(Ae=gt);var Me=Ze(h,420);Ae=typeof h=="function"?h:Ae;var Ge=We(Ae,2);try{He(this.root).open(it(d),Ne.getFileFlag(k),Me,function(et,ft){ft?Ge(et,Fe.getFdForFile(ft)):Ge(et)})}catch(et){Ge(et)}},tt.prototype.openSync=function(d,k,h){return h===void 0&&(h=420),this.getFdForFile(He(this.root).openSync(it(d),Ne.getFileFlag(k),Ze(h,420)))},tt.prototype.readFile=function(d,k,h){k===void 0&&(k={}),h===void 0&&(h=gt);var Ae=vt(k,null,"r",null);h=typeof k=="function"?k:h;var Fe=We(h,2);try{var Me=Ne.getFileFlag(Ae.flag);return Me.isReadable()?He(this.root).readFile(it(d),Ae.encoding,Me,Fe):Fe(new Ee(_e.EINVAL,"Flag passed to readFile must allow for reading."))}catch(Ge){return Fe(Ge)}},tt.prototype.readFileSync=function(d,k){k===void 0&&(k={});var h=vt(k,null,"r",null),Ae=Ne.getFileFlag(h.flag);if(!Ae.isReadable())throw new Ee(_e.EINVAL,"Flag passed to readFile must allow for reading.");return He(this.root).readFileSync(it(d),h.encoding,Ae)},tt.prototype.writeFile=function(d,k,h,Ae){h===void 0&&(h={}),Ae===void 0&&(Ae=gt);var Fe=vt(h,"utf8","w",420);Ae=typeof h=="function"?h:Ae;var Me=We(Ae,1);try{var Ge=Ne.getFileFlag(Fe.flag);return Ge.isWriteable()?He(this.root).writeFile(it(d),k,Fe.encoding,Ge,Fe.mode,Me):Me(new Ee(_e.EINVAL,"Flag passed to writeFile must allow for writing."))}catch(et){return Me(et)}},tt.prototype.writeFileSync=function(d,k,h){var Ae=vt(h,"utf8","w",420),Fe=Ne.getFileFlag(Ae.flag);if(!Fe.isWriteable())throw new Ee(_e.EINVAL,"Flag passed to writeFile must allow for writing.");return He(this.root).writeFileSync(it(d),k,Ae.encoding,Fe,Ae.mode)},tt.prototype.appendFile=function(d,k,h,Ae){Ae===void 0&&(Ae=gt);var Fe=vt(h,"utf8","a",420);Ae=typeof h=="function"?h:Ae;var Me=We(Ae,1);try{var Ge=Ne.getFileFlag(Fe.flag);if(!Ge.isAppendable())return Me(new Ee(_e.EINVAL,"Flag passed to appendFile must allow for appending."));He(this.root).appendFile(it(d),k,Fe.encoding,Ge,Fe.mode,Me)}catch(et){Me(et)}},tt.prototype.appendFileSync=function(d,k,h){var Ae=vt(h,"utf8","a",420),Fe=Ne.getFileFlag(Ae.flag);if(!Fe.isAppendable())throw new Ee(_e.EINVAL,"Flag passed to appendFile must allow for appending.");return He(this.root).appendFileSync(it(d),k,Ae.encoding,Fe,Ae.mode)},tt.prototype.fstat=function(d,k){k===void 0&&(k=gt);var h=We(k,2);try{var Ae=this.fd2file(d);Ae.stat(h)}catch(Fe){h(Fe)}},tt.prototype.fstatSync=function(d){return this.fd2file(d).statSync()},tt.prototype.close=function(d,k){var h=this;k===void 0&&(k=gt);var Ae=We(k,1);try{this.fd2file(d).close(function(Fe){Fe||h.closeFd(d),Ae(Fe)})}catch(Fe){Ae(Fe)}},tt.prototype.closeSync=function(d){this.fd2file(d).closeSync(),this.closeFd(d)},tt.prototype.ftruncate=function(d,k,h){h===void 0&&(h=gt);var Ae=typeof k=="number"?k:0;h=typeof k=="function"?k:h;var Fe=We(h,1);try{var Me=this.fd2file(d);if(Ae<0)throw new Ee(_e.EINVAL);Me.truncate(Ae,Fe)}catch(Ge){Fe(Ge)}},tt.prototype.ftruncateSync=function(d,k){k===void 0&&(k=0);var h=this.fd2file(d);if(k<0)throw new Ee(_e.EINVAL);h.truncateSync(k)},tt.prototype.fsync=function(d,k){k===void 0&&(k=gt);var h=We(k,1);try{this.fd2file(d).sync(h)}catch(Ae){h(Ae)}},tt.prototype.fsyncSync=function(d){this.fd2file(d).syncSync()},tt.prototype.fdatasync=function(d,k){k===void 0&&(k=gt);var h=We(k,1);try{this.fd2file(d).datasync(h)}catch(Ae){h(Ae)}},tt.prototype.fdatasyncSync=function(d){this.fd2file(d).datasyncSync()},tt.prototype.write=function(d,k,h,Ae,Fe,Me){Me===void 0&&(Me=gt);var Ge,et,ft,kt=null;if(typeof k=="string"){var Ht="utf8";switch(typeof h){case"function":Me=h;break;case"number":kt=h,Ht=typeof Ae=="string"?Ae:"utf8",Me=typeof Fe=="function"?Fe:Me;break;default:return Me=typeof Ae=="function"?Ae:typeof Fe=="function"?Fe:Me,Me(new Ee(_e.EINVAL,"Invalid arguments."))}Ge=f.from(k,Ht),et=0,ft=Ge.length}else Ge=k,et=h,ft=Ae,kt=typeof Fe=="number"?Fe:null,Me=typeof Fe=="function"?Fe:Me;var nr=We(Me,3);try{var _r=this.fd2file(d);kt==null&&(kt=_r.getPos()),_r.write(Ge,et,ft,kt,nr)}catch(vr){nr(vr)}},tt.prototype.writeSync=function(d,k,h,Ae,Fe){var Me,Ge=0,et,ft;if(typeof k=="string"){ft=typeof h=="number"?h:null;var kt=typeof Ae=="string"?Ae:"utf8";Ge=0,Me=f.from(k,kt),et=Me.length}else Me=k,Ge=h,et=Ae,ft=typeof Fe=="number"?Fe:null;var Ht=this.fd2file(d);return ft==null&&(ft=Ht.getPos()),Ht.writeSync(Me,Ge,et,ft)},tt.prototype.read=function(d,k,h,Ae,Fe,Me){Me===void 0&&(Me=gt);var Ge,et,ft,kt,Ht;if(typeof k=="number"){ft=k,Ge=h;var nr=Ae;Me=typeof Fe=="function"?Fe:Me,et=0,kt=f.alloc(ft),Ht=We(function(vr,Br,jr){if(vr)return Me(vr);Me(vr,jr.toString(nr),Br)},3)}else kt=k,et=h,ft=Ae,Ge=Fe,Ht=We(Me,3);try{var _r=this.fd2file(d);Ge==null&&(Ge=_r.getPos()),_r.read(kt,et,ft,Ge,Ht)}catch(vr){Ht(vr)}},tt.prototype.readSync=function(d,k,h,Ae,Fe){var Me=!1,Ge,et,ft,kt,Ht="utf8";typeof k=="number"?(ft=k,kt=h,Ht=Ae,et=0,Ge=f.alloc(ft),Me=!0):(Ge=k,et=h,ft=Ae,kt=Fe);var nr=this.fd2file(d);kt==null&&(kt=nr.getPos());var _r=nr.readSync(Ge,et,ft,kt);return Me?[Ge.toString(Ht),_r]:_r},tt.prototype.fchown=function(d,k,h,Ae){Ae===void 0&&(Ae=gt);var Fe=We(Ae,1);try{this.fd2file(d).chown(k,h,Fe)}catch(Me){Fe(Me)}},tt.prototype.fchownSync=function(d,k,h){this.fd2file(d).chownSync(k,h)},tt.prototype.fchmod=function(d,k,h){var Ae=We(h,1);try{var Fe=typeof k=="string"?parseInt(k,8):k;this.fd2file(d).chmod(Fe,Ae)}catch(Me){Ae(Me)}},tt.prototype.fchmodSync=function(d,k){var h=typeof k=="string"?parseInt(k,8):k;this.fd2file(d).chmodSync(h)},tt.prototype.futimes=function(d,k,h,Ae){Ae===void 0&&(Ae=gt);var Fe=We(Ae,1);try{var Me=this.fd2file(d);typeof k=="number"&&(k=new Date(k*1e3)),typeof h=="number"&&(h=new Date(h*1e3)),Me.utimes(k,h,Fe)}catch(Ge){Fe(Ge)}},tt.prototype.futimesSync=function(d,k,h){this.fd2file(d).utimesSync(st(k),st(h))},tt.prototype.rmdir=function(d,k){k===void 0&&(k=gt);var h=We(k,1);try{d=it(d),He(this.root).rmdir(d,h)}catch(Ae){h(Ae)}},tt.prototype.rmdirSync=function(d){return d=it(d),He(this.root).rmdirSync(d)},tt.prototype.mkdir=function(d,k,h){h===void 0&&(h=gt),typeof k=="function"&&(h=k,k=511);var Ae=We(h,1);try{d=it(d),He(this.root).mkdir(d,k,Ae)}catch(Fe){Ae(Fe)}},tt.prototype.mkdirSync=function(d,k){He(this.root).mkdirSync(it(d),Ze(k,511))},tt.prototype.readdir=function(d,k){k===void 0&&(k=gt);var h=We(k,2);try{d=it(d),He(this.root).readdir(d,h)}catch(Ae){h(Ae)}},tt.prototype.readdirSync=function(d){return d=it(d),He(this.root).readdirSync(d)},tt.prototype.link=function(d,k,h){h===void 0&&(h=gt);var Ae=We(h,1);try{d=it(d),k=it(k),He(this.root).link(d,k,Ae)}catch(Fe){Ae(Fe)}},tt.prototype.linkSync=function(d,k){return d=it(d),k=it(k),He(this.root).linkSync(d,k)},tt.prototype.symlink=function(d,k,h,Ae){Ae===void 0&&(Ae=gt);var Fe=typeof h=="string"?h:"file";Ae=typeof h=="function"?h:Ae;var Me=We(Ae,1);try{if(Fe!=="file"&&Fe!=="dir")return Me(new Ee(_e.EINVAL,"Invalid type: "+Fe));d=it(d),k=it(k),He(this.root).symlink(d,k,Fe,Me)}catch(Ge){Me(Ge)}},tt.prototype.symlinkSync=function(d,k,h){if(!h)h="file";else if(h!=="file"&&h!=="dir")throw new Ee(_e.EINVAL,"Invalid type: "+h);return d=it(d),k=it(k),He(this.root).symlinkSync(d,k,h)},tt.prototype.readlink=function(d,k){k===void 0&&(k=gt);var h=We(k,2);try{d=it(d),He(this.root).readlink(d,h)}catch(Ae){h(Ae)}},tt.prototype.readlinkSync=function(d){return d=it(d),He(this.root).readlinkSync(d)},tt.prototype.chown=function(d,k,h,Ae){Ae===void 0&&(Ae=gt);var Fe=We(Ae,1);try{d=it(d),He(this.root).chown(d,!1,k,h,Fe)}catch(Me){Fe(Me)}},tt.prototype.chownSync=function(d,k,h){d=it(d),He(this.root).chownSync(d,!1,k,h)},tt.prototype.lchown=function(d,k,h,Ae){Ae===void 0&&(Ae=gt);var Fe=We(Ae,1);try{d=it(d),He(this.root).chown(d,!0,k,h,Fe)}catch(Me){Fe(Me)}},tt.prototype.lchownSync=function(d,k,h){d=it(d),He(this.root).chownSync(d,!0,k,h)},tt.prototype.chmod=function(d,k,h){h===void 0&&(h=gt);var Ae=We(h,1);try{var Fe=Ze(k,-1);if(Fe<0)throw new Ee(_e.EINVAL,"Invalid mode.");He(this.root).chmod(it(d),!1,Fe,Ae)}catch(Me){Ae(Me)}},tt.prototype.chmodSync=function(d,k){var h=Ze(k,-1);if(h<0)throw new Ee(_e.EINVAL,"Invalid mode.");d=it(d),He(this.root).chmodSync(d,!1,h)},tt.prototype.lchmod=function(d,k,h){h===void 0&&(h=gt);var Ae=We(h,1);try{var Fe=Ze(k,-1);if(Fe<0)throw new Ee(_e.EINVAL,"Invalid mode.");He(this.root).chmod(it(d),!0,Fe,Ae)}catch(Me){Ae(Me)}},tt.prototype.lchmodSync=function(d,k){var h=Ze(k,-1);if(h<1)throw new Ee(_e.EINVAL,"Invalid mode.");He(this.root).chmodSync(it(d),!0,h)},tt.prototype.utimes=function(d,k,h,Ae){Ae===void 0&&(Ae=gt);var Fe=We(Ae,1);try{He(this.root).utimes(it(d),st(k),st(h),Fe)}catch(Me){Fe(Me)}},tt.prototype.utimesSync=function(d,k,h){He(this.root).utimesSync(it(d),st(k),st(h))},tt.prototype.realpath=function(d,k,h){h===void 0&&(h=gt);var Ae=typeof k=="object"?k:{};h=typeof k=="function"?k:gt;var Fe=We(h,2);try{d=it(d),He(this.root).realpath(d,Ae,Fe)}catch(Me){Fe(Me)}},tt.prototype.realpathSync=function(d,k){return k===void 0&&(k={}),d=it(d),He(this.root).realpathSync(d,k)},tt.prototype.watchFile=function(d,k,h){throw new Ee(_e.ENOTSUP)},tt.prototype.unwatchFile=function(d,k){throw new Ee(_e.ENOTSUP)},tt.prototype.watch=function(d,k,h){throw new Ee(_e.ENOTSUP)},tt.prototype.access=function(d,k,h){throw new Ee(_e.ENOTSUP)},tt.prototype.accessSync=function(d,k){throw new Ee(_e.ENOTSUP)},tt.prototype.createReadStream=function(d,k){throw new Ee(_e.ENOTSUP)},tt.prototype.createWriteStream=function(d,k){throw new Ee(_e.ENOTSUP)},tt.prototype.wrapCallbacks=function(d){We=d},tt.prototype.getFdForFile=function(d){var k=this.nextFd++;return this.fdMap[k]=d,k},tt.prototype.fd2file=function(d){var k=this.fdMap[d];if(k)return k;throw new Ee(_e.EBADF,"Invalid file descriptor.")},tt.prototype.closeFd=function(d){delete this.fdMap[d]},tt.Stats=Ue;var pt=new tt,nt={},mt=tt.prototype;Object.keys(mt).forEach(function(ne){typeof pt[ne]=="function"?nt[ne]=function(){return pt[ne].apply(pt,arguments)}:nt[ne]=pt[ne]}),nt.changeFSModule=function(ne){pt=ne},nt.getFSModule=function(){return pt},nt.FS=tt;function Je(ne,d,k,h,Ae){return ne<d||k<d?ne>k?k+1:ne+1:h===Ae?d:d+1}function Ft(ne,d){if(ne===d)return 0;if(ne.length>d.length){var k=ne;ne=d,d=k}for(var h=ne.length,Ae=d.length;h>0&&ne.charCodeAt(h-1)===d.charCodeAt(Ae-1);)h--,Ae--;for(var Fe=0;Fe<h&&ne.charCodeAt(Fe)===d.charCodeAt(Fe);)Fe++;if(h-=Fe,Ae-=Fe,h===0||Ae===1)return Ae;for(var Me=new Array(h<<1),Ge=0;Ge<h;)Me[h+Ge]=ne.charCodeAt(Fe+Ge),Me[Ge]=++Ge;var et,ft,kt,Ht,nr;for(et=0;et+3<Ae;)for(var _r=d.charCodeAt(Fe+(ft=et)),vr=d.charCodeAt(Fe+(kt=et+1)),Br=d.charCodeAt(Fe+(Ht=et+2)),jr=d.charCodeAt(Fe+(nr=et+3)),Hr=et+=4,En=0;En<h;){var Mn=Me[h+En],Ri=Me[En];ft=Je(Ri,ft,kt,_r,Mn),kt=Je(ft,kt,Ht,vr,Mn),Ht=Je(kt,Ht,nr,Br,Mn),Hr=Je(Ht,nr,Hr,jr,Mn),Me[En++]=Hr,nr=Ht,Ht=kt,kt=ft,ft=Ri}for(var Fi=0;et<Ae;){var So=d.charCodeAt(Fe+(ft=et));Fi=++et;for(var Hi=0;Hi<h;Hi++){var Wi=Me[Hi];Me[Hi]=Fi=Wi<ft||Fi<ft?Wi>Fi?Fi+1:Wi+1:So===Me[h+Hi]?ft:ft+1,ft=Wi}}return Fi}function Zt(ne,d,k){ne&&console.warn("["+d+"] Direct file system constructor usage is deprecated for this file system, and will be removed in the next major version. Please use the '"+d+".Create("+JSON.stringify(k)+", callback)' method instead. See https://github.com/jvilk/BrowserFS/issues/176 for more details.")}var jt=typeof navigator<"u"&&!!(/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||navigator.userAgent.indexOf("Trident")!==-1),cr=typeof window>"u";function bt(){throw new Error("BFS has reached an impossible code path; please file a bug.")}function St(ne,d,k){k.existsSync(ne)||(St(Ie.dirname(ne),d,k),k.mkdirSync(ne,d))}function ct(ne){var d=dt(ne),k=d.byteOffset,h=d.byteLength;return k===0&&h===d.buffer.byteLength?d.buffer:d.buffer.slice(k,k+h)}function dt(ne){return ne instanceof Uint8Array?ne:new Uint8Array(ne)}function Pt(ne){return ne instanceof f?ne:ne instanceof Uint8Array?Ct(ne):f.from(ne)}function Ct(ne){return ne instanceof f?ne:ne.byteOffset===0&&ne.byteLength===ne.buffer.byteLength?Kt(ne.buffer):f.from(ne.buffer,ne.byteOffset,ne.byteLength)}function Kt(ne){return f.from(ne)}function fr(ne,d,k){if(d===void 0&&(d=0),k===void 0&&(k=ne.length),d<0||k<0||k>ne.length||d>k)throw new TypeError("Invalid slice bounds on buffer of length "+ne.length+": ["+d+", "+k+"]");if(ne.length===0)return sr();var h=dt(ne),Ae=ne[0],Fe=(Ae+1)%255;return ne[0]=Fe,h[0]===Fe?(h[0]=Ae,Ct(h.slice(d,k))):(ne[0]=Ae,Ct(h.subarray(d,k)))}var Rr=null;function sr(){return Rr||(Rr=f.alloc(0))}function lt(ne,d){f.isBuffer(ne)?d():d(new Ee(_e.EINVAL,"option must be a Buffer."))}function yt(ne,d,k){var h=ne.Options,Ae=ne.Name,Fe=0,Me=!1,Ge=!1;function et(nr){Me||(nr&&(Me=!0,k(nr)),Fe--,Fe===0&&Ge&&k())}var ft=function(nr){if(h.hasOwnProperty(nr)){var _r=h[nr],vr=d[nr];if(vr==null){if(!_r.optional){var Br=Object.keys(d).filter(function(Hr){return!(Hr in h)}).map(function(Hr){return{str:Hr,distance:Ft(nr,Hr)}}).filter(function(Hr){return Hr.distance<5}).sort(function(Hr,En){return Hr.distance-En.distance});return Me?{}:(Me=!0,{v:k(new Ee(_e.EINVAL,"["+Ae+"] Required option '"+nr+"' not provided."+(Br.length>0?" You provided unrecognized option '"+Br[0].str+"'; perhaps you meant to type '"+nr+"'.":"")+`
Option description: `+_r.description))})}}else{var jr=!1;if(Array.isArray(_r.type)?jr=_r.type.indexOf(typeof vr)!==-1:jr=typeof vr===_r.type,jr)_r.validator&&(Fe++,_r.validator(vr,et));else return Me?{}:(Me=!0,{v:k(new Ee(_e.EINVAL,"["+Ae+"] Value provided for option "+nr+" is not the proper type. Expected "+(Array.isArray(_r.type)?"one of {"+_r.type.join(", ")+"}":_r.type)+", but received "+typeof vr+`
Option description: `+_r.description))})}}};for(var kt in h){var Ht=ft(kt);if(Ht)return Ht.v}Ge=!0,Fe===0&&!Me&&k()}var Jt=Object.freeze({deprecationMessage:Zt,isIE:jt,isWebWorker:cr,fail:bt,mkdirpSync:St,buffer2ArrayBuffer:ct,buffer2Uint8array:dt,arrayish2Buffer:Pt,uint8Array2Buffer:Ct,arrayBuffer2Buffer:Kt,copyingSlice:fr,emptyBuffer:sr,bufferValidator:lt,checkOptions:yt}),$t=function(d){this.fs=d,this.nodefs=d.getNodeFS(),this.FS=d.getFS(),this.PATH=d.getPATH(),this.ERRNO_CODES=d.getERRNO_CODES()};$t.prototype.open=function(d){var k=this.fs.realPath(d.node),h=this.FS;try{h.isFile(d.node.mode)&&(d.nfd=this.nodefs.openSync(k,this.fs.flagsToPermissionString(d.flags)))}catch(Ae){throw Ae.code?new h.ErrnoError(this.ERRNO_CODES[Ae.code]):Ae}},$t.prototype.close=function(d){var k=this.FS;try{k.isFile(d.node.mode)&&d.nfd&&this.nodefs.closeSync(d.nfd)}catch(h){throw h.code?new k.ErrnoError(this.ERRNO_CODES[h.code]):h}},$t.prototype.read=function(d,k,h,Ae,Fe){try{return this.nodefs.readSync(d.nfd,Ct(k),h,Ae,Fe)}catch(Me){throw new this.FS.ErrnoError(this.ERRNO_CODES[Me.code])}},$t.prototype.write=function(d,k,h,Ae,Fe){try{return this.nodefs.writeSync(d.nfd,Ct(k),h,Ae,Fe)}catch(Me){throw new this.FS.ErrnoError(this.ERRNO_CODES[Me.code])}},$t.prototype.llseek=function(d,k,h){var Ae=k;if(h===1)Ae+=d.position;else if(h===2&&this.FS.isFile(d.node.mode))try{var Fe=this.nodefs.fstatSync(d.nfd);Ae+=Fe.size}catch(Me){throw new this.FS.ErrnoError(this.ERRNO_CODES[Me.code])}if(Ae<0)throw new this.FS.ErrnoError(this.ERRNO_CODES.EINVAL);return d.position=Ae,Ae};var dr=function(d){this.fs=d,this.nodefs=d.getNodeFS(),this.FS=d.getFS(),this.PATH=d.getPATH(),this.ERRNO_CODES=d.getERRNO_CODES()};dr.prototype.getattr=function(d){var k=this.fs.realPath(d),h;try{h=this.nodefs.lstatSync(k)}catch(Ae){throw Ae.code?new this.FS.ErrnoError(this.ERRNO_CODES[Ae.code]):Ae}return{dev:h.dev,ino:h.ino,mode:h.mode,nlink:h.nlink,uid:h.uid,gid:h.gid,rdev:h.rdev,size:h.size,atime:h.atime,mtime:h.mtime,ctime:h.ctime,blksize:h.blksize,blocks:h.blocks}},dr.prototype.setattr=function(d,k){var h=this.fs.realPath(d);try{if(k.mode!==void 0&&(this.nodefs.chmodSync(h,k.mode),d.mode=k.mode),k.timestamp!==void 0){var Ae=new Date(k.timestamp);this.nodefs.utimesSync(h,Ae,Ae)}}catch(Fe){if(!Fe.code)throw Fe;if(Fe.code!=="ENOTSUP")throw new this.FS.ErrnoError(this.ERRNO_CODES[Fe.code])}if(k.size!==void 0)try{this.nodefs.truncateSync(h,k.size)}catch(Fe){throw Fe.code?new this.FS.ErrnoError(this.ERRNO_CODES[Fe.code]):Fe}},dr.prototype.lookup=function(d,k){var h=this.PATH.join2(this.fs.realPath(d),k),Ae=this.fs.getMode(h);return this.fs.createNode(d,k,Ae)},dr.prototype.mknod=function(d,k,h,Ae){var Fe=this.fs.createNode(d,k,h,Ae),Me=this.fs.realPath(Fe);try{this.FS.isDir(Fe.mode)?this.nodefs.mkdirSync(Me,Fe.mode):this.nodefs.writeFileSync(Me,"",{mode:Fe.mode})}catch(Ge){throw Ge.code?new this.FS.ErrnoError(this.ERRNO_CODES[Ge.code]):Ge}return Fe},dr.prototype.rename=function(d,k,h){var Ae=this.fs.realPath(d),Fe=this.PATH.join2(this.fs.realPath(k),h);try{this.nodefs.renameSync(Ae,Fe),d.name=h,d.parent=k}catch(Me){throw Me.code?new this.FS.ErrnoError(this.ERRNO_CODES[Me.code]):Me}},dr.prototype.unlink=function(d,k){var h=this.PATH.join2(this.fs.realPath(d),k);try{this.nodefs.unlinkSync(h)}catch(Ae){throw Ae.code?new this.FS.ErrnoError(this.ERRNO_CODES[Ae.code]):Ae}},dr.prototype.rmdir=function(d,k){var h=this.PATH.join2(this.fs.realPath(d),k);try{this.nodefs.rmdirSync(h)}catch(Ae){throw Ae.code?new this.FS.ErrnoError(this.ERRNO_CODES[Ae.code]):Ae}},dr.prototype.readdir=function(d){var k=this.fs.realPath(d);try{var h=this.nodefs.readdirSync(k);return h.push(".",".."),h}catch(Ae){throw Ae.code?new this.FS.ErrnoError(this.ERRNO_CODES[Ae.code]):Ae}},dr.prototype.symlink=function(d,k,h){var Ae=this.PATH.join2(this.fs.realPath(d),k);try{this.nodefs.symlinkSync(h,Ae)}catch(Fe){throw Fe.code?new this.FS.ErrnoError(this.ERRNO_CODES[Fe.code]):Fe}},dr.prototype.readlink=function(d){var k=this.fs.realPath(d);try{return this.nodefs.readlinkSync(k)}catch(h){throw h.code?new this.FS.ErrnoError(this.ERRNO_CODES[h.code]):h}};var Xe=function(d,k,h,Ae){d===void 0&&(d=self.FS),k===void 0&&(k=self.PATH),h===void 0&&(h=self.ERRNO_CODES),Ae===void 0&&(Ae=nt),this.flagsToPermissionStringMap={0:"r",1:"r+",2:"r+",64:"r",65:"r+",66:"r+",129:"rx+",193:"rx+",514:"w+",577:"w",578:"w+",705:"wx",706:"wx+",1024:"a",1025:"a",1026:"a+",1089:"a",1090:"a+",1153:"ax",1154:"ax+",1217:"ax",1218:"ax+",4096:"rs",4098:"rs+"},this.nodefs=Ae,this.FS=d,this.PATH=k,this.ERRNO_CODES=h,this.node_ops=new dr(this),this.stream_ops=new $t(this)};Xe.prototype.mount=function(d){return this.createNode(null,"/",this.getMode(d.opts.root),0)},Xe.prototype.createNode=function(d,k,h,Ae){var Fe=this.FS;if(!Fe.isDir(h)&&!Fe.isFile(h)&&!Fe.isLink(h))throw new Fe.ErrnoError(this.ERRNO_CODES.EINVAL);var Me=Fe.createNode(d,k,h);return Me.node_ops=this.node_ops,Me.stream_ops=this.stream_ops,Me},Xe.prototype.getMode=function(d){var k;try{k=this.nodefs.lstatSync(d)}catch(h){throw h.code?new this.FS.ErrnoError(this.ERRNO_CODES[h.code]):h}return k.mode},Xe.prototype.realPath=function(d){for(var k=[];d.parent!==d;)k.push(d.name),d=d.parent;return k.push(d.mount.opts.root),k.reverse(),this.PATH.join.apply(null,k)},Xe.prototype.flagsToPermissionString=function(d){var k=typeof d=="string"?parseInt(d,10):d;return k&=8191,k in this.flagsToPermissionStringMap?this.flagsToPermissionStringMap[k]:d},Xe.prototype.getNodeFS=function(){return this.nodefs},Xe.prototype.getFS=function(){return this.FS},Xe.prototype.getPATH=function(){return this.PATH},Xe.prototype.getERRNO_CODES=function(){return this.ERRNO_CODES};var At=function(){};At.prototype.supportsLinks=function(){return!1},At.prototype.diskSpace=function(d,k){k(0,0)},At.prototype.openFile=function(d,k,h){throw new Ee(_e.ENOTSUP)},At.prototype.createFile=function(d,k,h,Ae){throw new Ee(_e.ENOTSUP)},At.prototype.open=function(d,k,h,Ae){var Fe=this,Me=function(Ge,et){if(Ge)switch(k.pathNotExistsAction()){case Be.CREATE_FILE:return Fe.stat(Ie.dirname(d),!1,function(ft,kt){ft?Ae(ft):kt&&!kt.isDirectory()?Ae(Ee.ENOTDIR(Ie.dirname(d))):Fe.createFile(d,k,h,Ae)});case Be.THROW_EXCEPTION:return Ae(Ee.ENOENT(d));default:return Ae(new Ee(_e.EINVAL,"Invalid FileFlag object."))}else{if(et&&et.isDirectory())return Ae(Ee.EISDIR(d));switch(k.pathExistsAction()){case Be.THROW_EXCEPTION:return Ae(Ee.EEXIST(d));case Be.TRUNCATE_FILE:return Fe.openFile(d,k,function(ft,kt){ft?Ae(ft):kt?kt.truncate(0,function(){kt.sync(function(){Ae(null,kt)})}):bt()});case Be.NOP:return Fe.openFile(d,k,Ae);default:return Ae(new Ee(_e.EINVAL,"Invalid FileFlag object."))}}};this.stat(d,!1,Me)},At.prototype.rename=function(d,k,h){h(new Ee(_e.ENOTSUP))},At.prototype.renameSync=function(d,k){throw new Ee(_e.ENOTSUP)},At.prototype.stat=function(d,k,h){h(new Ee(_e.ENOTSUP))},At.prototype.statSync=function(d,k){throw new Ee(_e.ENOTSUP)},At.prototype.openFileSync=function(d,k,h){throw new Ee(_e.ENOTSUP)},At.prototype.createFileSync=function(d,k,h){throw new Ee(_e.ENOTSUP)},At.prototype.openSync=function(d,k,h){var Ae;try{Ae=this.statSync(d,!1)}catch{switch(k.pathNotExistsAction()){case Be.CREATE_FILE:var Fe=this.statSync(Ie.dirname(d),!1);if(!Fe.isDirectory())throw Ee.ENOTDIR(Ie.dirname(d));return this.createFileSync(d,k,h);case Be.THROW_EXCEPTION:throw Ee.ENOENT(d);default:throw new Ee(_e.EINVAL,"Invalid FileFlag object.")}}if(Ae.isDirectory())throw Ee.EISDIR(d);switch(k.pathExistsAction()){case Be.THROW_EXCEPTION:throw Ee.EEXIST(d);case Be.TRUNCATE_FILE:return this.unlinkSync(d),this.createFileSync(d,k,Ae.mode);case Be.NOP:return this.openFileSync(d,k,h);default:throw new Ee(_e.EINVAL,"Invalid FileFlag object.")}},At.prototype.unlink=function(d,k){k(new Ee(_e.ENOTSUP))},At.prototype.unlinkSync=function(d){throw new Ee(_e.ENOTSUP)},At.prototype.rmdir=function(d,k){k(new Ee(_e.ENOTSUP))},At.prototype.rmdirSync=function(d){throw new Ee(_e.ENOTSUP)},At.prototype.mkdir=function(d,k,h){h(new Ee(_e.ENOTSUP))},At.prototype.mkdirSync=function(d,k){throw new Ee(_e.ENOTSUP)},At.prototype.readdir=function(d,k){k(new Ee(_e.ENOTSUP))},At.prototype.readdirSync=function(d){throw new Ee(_e.ENOTSUP)},At.prototype.exists=function(d,k){this.stat(d,null,function(h){k(!h)})},At.prototype.existsSync=function(d){try{return this.statSync(d,!0),!0}catch{return!1}},At.prototype.realpath=function(d,k,h){if(this.supportsLinks())for(var Ae=d.split(Ie.sep),Fe=0;Fe<Ae.length;Fe++){var Me=Ae.slice(0,Fe+1);Ae[Fe]=Ie.join.apply(null,Me)}else this.exists(d,function(Ge){Ge?h(null,d):h(Ee.ENOENT(d))})},At.prototype.realpathSync=function(d,k){if(this.supportsLinks()){for(var h=d.split(Ie.sep),Ae=0;Ae<h.length;Ae++){var Fe=h.slice(0,Ae+1);h[Ae]=Ie.join.apply(Ie,Fe)}return h.join(Ie.sep)}else{if(this.existsSync(d))return d;throw Ee.ENOENT(d)}},At.prototype.truncate=function(d,k,h){this.open(d,Ne.getFileFlag("r+"),420,function(Ae,Fe){if(Ae)return h(Ae);Fe.truncate(k,function(Me){Fe.close(function(Ge){h(Me||Ge)})})})},At.prototype.truncateSync=function(d,k){var h=this.openSync(d,Ne.getFileFlag("r+"),420);try{h.truncateSync(k)}catch(Ae){throw Ae}finally{h.closeSync()}},At.prototype.readFile=function(d,k,h,Ae){var Fe=Ae;this.open(d,h,420,function(Me,Ge){if(Me)return Ae(Me);Ae=function(et,ft){Ge.close(function(kt){return et||(et=kt),Fe(et,ft)})},Ge.stat(function(et,ft){if(et)return Ae(et);var kt=f.alloc(ft.size);Ge.read(kt,0,ft.size,0,function(Ht){if(Ht)return Ae(Ht);if(k===null)return Ae(Ht,kt);try{Ae(null,kt.toString(k))}catch(nr){Ae(nr)}})})})},At.prototype.readFileSync=function(d,k,h){var Ae=this.openSync(d,h,420);try{var Fe=Ae.statSync(),Me=f.alloc(Fe.size);return Ae.readSync(Me,0,Fe.size,0),Ae.closeSync(),k===null?Me:Me.toString(k)}finally{Ae.closeSync()}},At.prototype.writeFile=function(d,k,h,Ae,Fe,Me){var Ge=Me;this.open(d,Ae,420,function(et,ft){if(et)return Me(et);Me=function(kt){ft.close(function(Ht){Ge(kt||Ht)})};try{typeof k=="string"&&(k=f.from(k,h))}catch(kt){return Me(kt)}ft.write(k,0,k.length,0,Me)})},At.prototype.writeFileSync=function(d,k,h,Ae,Fe){var Me=this.openSync(d,Ae,Fe);try{typeof k=="string"&&(k=f.from(k,h)),Me.writeSync(k,0,k.length,0)}finally{Me.closeSync()}},At.prototype.appendFile=function(d,k,h,Ae,Fe,Me){var Ge=Me;this.open(d,Ae,Fe,function(et,ft){if(et)return Me(et);Me=function(kt){ft.close(function(Ht){Ge(kt||Ht)})},typeof k=="string"&&(k=f.from(k,h)),ft.write(k,0,k.length,null,Me)})},At.prototype.appendFileSync=function(d,k,h,Ae,Fe){var Me=this.openSync(d,Ae,Fe);try{typeof k=="string"&&(k=f.from(k,h)),Me.writeSync(k,0,k.length,null)}finally{Me.closeSync()}},At.prototype.chmod=function(d,k,h,Ae){Ae(new Ee(_e.ENOTSUP))},At.prototype.chmodSync=function(d,k,h){throw new Ee(_e.ENOTSUP)},At.prototype.chown=function(d,k,h,Ae,Fe){Fe(new Ee(_e.ENOTSUP))},At.prototype.chownSync=function(d,k,h,Ae){throw new Ee(_e.ENOTSUP)},At.prototype.utimes=function(d,k,h,Ae){Ae(new Ee(_e.ENOTSUP))},At.prototype.utimesSync=function(d,k,h){throw new Ee(_e.ENOTSUP)},At.prototype.link=function(d,k,h){h(new Ee(_e.ENOTSUP))},At.prototype.linkSync=function(d,k){throw new Ee(_e.ENOTSUP)},At.prototype.symlink=function(d,k,h,Ae){Ae(new Ee(_e.ENOTSUP))},At.prototype.symlinkSync=function(d,k,h){throw new Ee(_e.ENOTSUP)},At.prototype.readlink=function(d,k){k(new Ee(_e.ENOTSUP))},At.prototype.readlinkSync=function(d){throw new Ee(_e.ENOTSUP)};var Wt=function(ne){function d(){ne.apply(this,arguments)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.supportsSynch=function(){return!0},d.prototype.rename=function(h,Ae,Fe){try{this.renameSync(h,Ae),Fe()}catch(Me){Fe(Me)}},d.prototype.stat=function(h,Ae,Fe){try{Fe(null,this.statSync(h,Ae))}catch(Me){Fe(Me)}},d.prototype.open=function(h,Ae,Fe,Me){try{Me(null,this.openSync(h,Ae,Fe))}catch(Ge){Me(Ge)}},d.prototype.unlink=function(h,Ae){try{this.unlinkSync(h),Ae()}catch(Fe){Ae(Fe)}},d.prototype.rmdir=function(h,Ae){try{this.rmdirSync(h),Ae()}catch(Fe){Ae(Fe)}},d.prototype.mkdir=function(h,Ae,Fe){try{this.mkdirSync(h,Ae),Fe()}catch(Me){Fe(Me)}},d.prototype.readdir=function(h,Ae){try{Ae(null,this.readdirSync(h))}catch(Fe){Ae(Fe)}},d.prototype.chmod=function(h,Ae,Fe,Me){try{this.chmodSync(h,Ae,Fe),Me()}catch(Ge){Me(Ge)}},d.prototype.chown=function(h,Ae,Fe,Me,Ge){try{this.chownSync(h,Ae,Fe,Me),Ge()}catch(et){Ge(et)}},d.prototype.utimes=function(h,Ae,Fe,Me){try{this.utimesSync(h,Ae,Fe),Me()}catch(Ge){Me(Ge)}},d.prototype.link=function(h,Ae,Fe){try{this.linkSync(h,Ae),Fe()}catch(Me){Fe(Me)}},d.prototype.symlink=function(h,Ae,Fe,Me){try{this.symlinkSync(h,Ae,Fe),Me()}catch(Ge){Me(Ge)}},d.prototype.readlink=function(h,Ae){try{Ae(null,this.readlinkSync(h))}catch(Fe){Ae(Fe)}},d}(At),ht=function(){};ht.prototype.sync=function(d){d(new Ee(_e.ENOTSUP))},ht.prototype.syncSync=function(){throw new Ee(_e.ENOTSUP)},ht.prototype.datasync=function(d){this.sync(d)},ht.prototype.datasyncSync=function(){return this.syncSync()},ht.prototype.chown=function(d,k,h){h(new Ee(_e.ENOTSUP))},ht.prototype.chownSync=function(d,k){throw new Ee(_e.ENOTSUP)},ht.prototype.chmod=function(d,k){k(new Ee(_e.ENOTSUP))},ht.prototype.chmodSync=function(d){throw new Ee(_e.ENOTSUP)},ht.prototype.utimes=function(d,k,h){h(new Ee(_e.ENOTSUP))},ht.prototype.utimesSync=function(d,k){throw new Ee(_e.ENOTSUP)};var xt=function(ne){function d(k,h,Ae,Fe,Me){if(ne.call(this),this._pos=0,this._dirty=!1,this._fs=k,this._path=h,this._flag=Ae,this._stat=Fe,Me?this._buffer=Me:this._buffer=sr(),this._stat.size!==this._buffer.length&&this._flag.isReadable())throw new Error("Invalid buffer: Buffer is "+this._buffer.length+" long, yet Stats object specifies that file is "+this._stat.size+" long.")}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.getBuffer=function(){return this._buffer},d.prototype.getStats=function(){return this._stat},d.prototype.getFlag=function(){return this._flag},d.prototype.getPath=function(){return this._path},d.prototype.getPos=function(){return this._flag.isAppendable()?this._stat.size:this._pos},d.prototype.advancePos=function(h){return this._pos+=h},d.prototype.setPos=function(h){return this._pos=h},d.prototype.sync=function(h){try{this.syncSync(),h()}catch(Ae){h(Ae)}},d.prototype.syncSync=function(){throw new Ee(_e.ENOTSUP)},d.prototype.close=function(h){try{this.closeSync(),h()}catch(Ae){h(Ae)}},d.prototype.closeSync=function(){throw new Ee(_e.ENOTSUP)},d.prototype.stat=function(h){try{h(null,this._stat.clone())}catch(Ae){h(Ae)}},d.prototype.statSync=function(){return this._stat.clone()},d.prototype.truncate=function(h,Ae){try{this.truncateSync(h),this._flag.isSynchronous()&&!nt.getRootFS().supportsSynch()&&this.sync(Ae),Ae()}catch(Fe){return Ae(Fe)}},d.prototype.truncateSync=function(h){if(this._dirty=!0,!this._flag.isWriteable())throw new Ee(_e.EPERM,"File not opened with a writeable mode.");if(this._stat.mtime=new Date,h>this._buffer.length){var Ae=f.alloc(h-this._buffer.length,0);this.writeSync(Ae,0,Ae.length,this._buffer.length),this._flag.isSynchronous()&&nt.getRootFS().supportsSynch()&&this.syncSync();return}this._stat.size=h;var Fe=f.alloc(h);this._buffer.copy(Fe,0,0,h),this._buffer=Fe,this._flag.isSynchronous()&&nt.getRootFS().supportsSynch()&&this.syncSync()},d.prototype.write=function(h,Ae,Fe,Me,Ge){try{Ge(null,this.writeSync(h,Ae,Fe,Me),h)}catch(et){Ge(et)}},d.prototype.writeSync=function(h,Ae,Fe,Me){if(this._dirty=!0,Me==null&&(Me=this.getPos()),!this._flag.isWriteable())throw new Ee(_e.EPERM,"File not opened with a writeable mode.");var Ge=Me+Fe;if(Ge>this._stat.size&&(this._stat.size=Ge,Ge>this._buffer.length)){var et=f.alloc(Ge);this._buffer.copy(et),this._buffer=et}var ft=h.copy(this._buffer,Me,Ae,Ae+Fe);return this._stat.mtime=new Date,this._flag.isSynchronous()?(this.syncSync(),ft):(this.setPos(Me+ft),ft)},d.prototype.read=function(h,Ae,Fe,Me,Ge){try{Ge(null,this.readSync(h,Ae,Fe,Me),h)}catch(et){Ge(et)}},d.prototype.readSync=function(h,Ae,Fe,Me){if(!this._flag.isReadable())throw new Ee(_e.EPERM,"File not opened with a readable mode.");Me==null&&(Me=this.getPos());var Ge=Me+Fe;Ge>this._stat.size&&(Fe=this._stat.size-Me);var et=this._buffer.copy(h,Ae,Me,Me+Fe);return this._stat.atime=new Date,this._pos=Me+Fe,et},d.prototype.chmod=function(h,Ae){try{this.chmodSync(h),Ae()}catch(Fe){Ae(Fe)}},d.prototype.chmodSync=function(h){if(!this._fs.supportsProps())throw new Ee(_e.ENOTSUP);this._dirty=!0,this._stat.chmod(h),this.syncSync()},d.prototype.isDirty=function(){return this._dirty},d.prototype.resetDirty=function(){this._dirty=!1},d}(ht),Dt=function(ne){function d(k,h,Ae,Fe,Me){ne.call(this,k,h,Ae,Fe,Me)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.sync=function(h){h()},d.prototype.syncSync=function(){},d.prototype.close=function(h){h()},d.prototype.closeSync=function(){},d}(xt),er=function(ne){function d(k,h,Ae,Fe,Me){ne.call(this,k,h,Ae,Fe,Me)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},d.prototype.closeSync=function(){this.syncSync()},d}(xt),rt=function(ne){function d(k,h,Ae){if(Ae===void 0&&(Ae=!0),ne.call(this),this._queue=[],this._queueRunning=!1,this._isInitialized=!1,this._initializeCallbacks=[],this._sync=k,this._async=h,!k.supportsSynch())throw new Error("The first argument to AsyncMirror needs to be a synchronous file system.");Zt(Ae,d.Name,{sync:"sync file system instance",async:"async file system instance"})}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.Create=function(h,Ae){try{var Fe=new d(h.sync,h.async,!1);Fe.initialize(function(Me){Me?Ae(Me):Ae(null,Fe)},!1)}catch(Me){Ae(Me)}},d.isAvailable=function(){return!0},d.prototype.getName=function(){return d.Name},d.prototype._syncSync=function(h){this._sync.writeFileSync(h.getPath(),h.getBuffer(),null,Ne.getFileFlag("w"),h.getStats().mode),this.enqueueOp({apiMethod:"writeFile",arguments:[h.getPath(),h.getBuffer(),null,h.getFlag(),h.getStats().mode]})},d.prototype.initialize=function(h,Ae){var Fe=this;Ae===void 0&&(Ae=!0),Ae&&console.warn("[AsyncMirror] AsyncMirror.initialize() is deprecated and will be removed in the next major version. Please use 'AsyncMirror.Create({ sync: (sync file system instance), async: (async file system instance)}, cb)' to create and initialize AsyncMirror instances.");var Me=this._initializeCallbacks,Ge=function(Ht){Fe._isInitialized=!Ht,Fe._initializeCallbacks=[],Me.forEach(function(nr){return nr(Ht)})};if(this._isInitialized)h();else if(Me.push(h)===1){var et=function(Ht,nr,_r){Ht!=="/"&&Fe._sync.mkdirSync(Ht,nr),Fe._async.readdir(Ht,function(vr,Br){var jr=0;function Hr(En){En?_r(En):jr<Br.length?(kt(Ie.join(Ht,Br[jr]),Hr),jr++):_r()}vr?_r(vr):Hr()})},ft=function(Ht,nr,_r){Fe._async.readFile(Ht,null,Ne.getFileFlag("r"),function(vr,Br){if(vr)_r(vr);else try{Fe._sync.writeFileSync(Ht,Br,null,Ne.getFileFlag("w"),nr)}catch(jr){vr=jr}finally{_r(vr)}})},kt=function(Ht,nr){Fe._async.stat(Ht,!1,function(_r,vr){_r?nr(_r):vr.isDirectory()?et(Ht,vr.mode,nr):ft(Ht,vr.mode,nr)})};et("/",0,Ge)}},d.prototype.isReadOnly=function(){return!1},d.prototype.supportsSynch=function(){return!0},d.prototype.supportsLinks=function(){return!1},d.prototype.supportsProps=function(){return this._sync.supportsProps()&&this._async.supportsProps()},d.prototype.renameSync=function(h,Ae){this.checkInitialized(),this._sync.renameSync(h,Ae),this.enqueueOp({apiMethod:"rename",arguments:[h,Ae]})},d.prototype.statSync=function(h,Ae){return this.checkInitialized(),this._sync.statSync(h,Ae)},d.prototype.openSync=function(h,Ae,Fe){this.checkInitialized();var Me=this._sync.openSync(h,Ae,Fe);return Me.closeSync(),new er(this,h,Ae,this._sync.statSync(h,!1),this._sync.readFileSync(h,null,Ne.getFileFlag("r")))},d.prototype.unlinkSync=function(h){this.checkInitialized(),this._sync.unlinkSync(h),this.enqueueOp({apiMethod:"unlink",arguments:[h]})},d.prototype.rmdirSync=function(h){this.checkInitialized(),this._sync.rmdirSync(h),this.enqueueOp({apiMethod:"rmdir",arguments:[h]})},d.prototype.mkdirSync=function(h,Ae){this.checkInitialized(),this._sync.mkdirSync(h,Ae),this.enqueueOp({apiMethod:"mkdir",arguments:[h,Ae]})},d.prototype.readdirSync=function(h){return this.checkInitialized(),this._sync.readdirSync(h)},d.prototype.existsSync=function(h){return this.checkInitialized(),this._sync.existsSync(h)},d.prototype.chmodSync=function(h,Ae,Fe){this.checkInitialized(),this._sync.chmodSync(h,Ae,Fe),this.enqueueOp({apiMethod:"chmod",arguments:[h,Ae,Fe]})},d.prototype.chownSync=function(h,Ae,Fe,Me){this.checkInitialized(),this._sync.chownSync(h,Ae,Fe,Me),this.enqueueOp({apiMethod:"chown",arguments:[h,Ae,Fe,Me]})},d.prototype.utimesSync=function(h,Ae,Fe){this.checkInitialized(),this._sync.utimesSync(h,Ae,Fe),this.enqueueOp({apiMethod:"utimes",arguments:[h,Ae,Fe]})},d.prototype.checkInitialized=function(){if(!this._isInitialized)throw new Ee(_e.EPERM,"AsyncMirrorFS is not initialized. Please initialize AsyncMirrorFS using its initialize() method before using it.")},d.prototype.enqueueOp=function(h){var Ae=this;if(this._queue.push(h),!this._queueRunning){this._queueRunning=!0;var Fe=function(Me){if(Me&&console.error("WARNING: File system has desynchronized. Received following error: "+Me+`
$`),Ae._queue.length>0){var Ge=Ae._queue.shift(),et=Ge.arguments;et.push(Fe),Ae._async[Ge.apiMethod].apply(Ae._async,et)}else Ae._queueRunning=!1};Fe()}},d}(Wt);rt.Name="AsyncMirror",rt.Options={sync:{type:"object",description:"The synchronous file system to mirror the asynchronous file system to."},async:{type:"object",description:"The asynchronous file system to mirror."}};function je(ne,d,k){switch(k.length){case 0:return ne.call(d);case 1:return ne.call(d,k[0]);case 2:return ne.call(d,k[0],k[1]);case 3:return ne.call(d,k[0],k[1],k[2])}return ne.apply(d,k)}var Ke=Math.max;function ut(ne,d,k){return d=Ke(d===void 0?ne.length-1:d,0),function(){for(var h=arguments,Ae=-1,Fe=Ke(h.length-d,0),Me=Array(Fe);++Ae<Fe;)Me[Ae]=h[d+Ae];Ae=-1;for(var Ge=Array(d+1);++Ae<d;)Ge[Ae]=h[Ae];return Ge[d]=k(Me),je(ne,this,Ge)}}function Et(ne){return ne}function It(ne,d){return ut(ne,d,Et)}var zt=function(ne){return It(function(d){var k=d.pop();ne.call(this,d,k)})};function tr(ne){return It(function(d,k){var h=zt(function(Ae,Fe){var Me=this;return ne(d,function(Ge,et){Ge.apply(Me,Ae.concat(et))},Fe)});return k.length?h.apply(this,k):h})}var Sr=typeof m=="object"&&m&&m.Object===Object&&m,Lr=typeof self=="object"&&self&&self.Object===Object&&self,Pr=Sr||Lr||Function("return this")(),Er=Pr.Symbol,gr=Object.prototype,Qr=gr.hasOwnProperty,Cr=gr.toString,on=Er?Er.toStringTag:void 0;function Bn(ne){var d=Qr.call(ne,on),k=ne[on];try{ne[on]=void 0;var h=!0}catch{}var Ae=Cr.call(ne);return h&&(d?ne[on]=k:delete ne[on]),Ae}var Un=Object.prototype,wr=Un.toString;function Xt(ne){return wr.call(ne)}var yr="[object Null]",at="[object Undefined]",Or=Er?Er.toStringTag:void 0;function en(ne){return ne==null?ne===void 0?at:yr:Or&&Or in Object(ne)?Bn(ne):Xt(ne)}function kr(ne){var d=typeof ne;return ne!=null&&(d=="object"||d=="function")}var Pn="[object AsyncFunction]",Tr="[object Function]",cn="[object GeneratorFunction]",or="[object Proxy]";function ar(ne){if(!kr(ne))return!1;var d=en(ne);return d==Tr||d==cn||d==Pn||d==or}var Zr=9007199254740991;function qr(ne){return typeof ne=="number"&&ne>-1&&ne%1==0&&ne<=Zr}function Dr(ne){return ne!=null&&qr(ne.length)&&!ar(ne)}var Wn={};function jn(){}function ln(ne){return function(){if(ne!==null){var d=ne;ne=null,d.apply(this,arguments)}}}var Xr=typeof Symbol=="function"&&Symbol.iterator,dn=function(ne){return Xr&&ne[Xr]&&ne[Xr]()};function wn(ne,d){for(var k=-1,h=Array(ne);++k<ne;)h[k]=d(k);return h}function hn(ne){return ne!=null&&typeof ne=="object"}var vi="[object Arguments]";function Li(ne){return hn(ne)&&en(ne)==vi}var an=Object.prototype,Ln=an.hasOwnProperty,xn=an.propertyIsEnumerable,Qn=Li(function(){return arguments}())?Li:function(ne){return hn(ne)&&Ln.call(ne,"callee")&&!xn.call(ne,"callee")},zn=Array.isArray;function vn(){return!1}var Ai=typeof i=="object"&&i&&!i.nodeType&&i,li=Ai&&typeof g=="object"&&g&&!g.nodeType&&g,u0=li&&li.exports===Ai,Mi=u0?Pr.Buffer:void 0,Qa=Mi?Mi.isBuffer:void 0,ns=Qa||vn,is=9007199254740991,Vi=/^(?:0|[1-9]\d*)$/;function l0(ne,d){return d=d??is,!!d&&(typeof ne=="number"||Vi.test(ne))&&ne>-1&&ne%1==0&&ne<d}var Xa="[object Arguments]",f0="[object Array]",Jr="[object Boolean]",d0="[object Date]",h0="[object Error]",x0="[object Function]",pn="[object Map]",_a="[object Number]",va="[object Object]",Ji="[object RegExp]",as="[object Set]",ss="[object String]",Ja="[object WeakMap]",p0="[object ArrayBuffer]",Za="[object DataView]",_0="[object Float32Array]",mi="[object Float64Array]",ma="[object Int8Array]",v0="[object Int16Array]",jc="[object Int32Array]",$r="[object Uint8Array]",cs="[object Uint8ClampedArray]",zc="[object Uint16Array]",Hc="[object Uint32Array]",Yr={};Yr[_0]=Yr[mi]=Yr[ma]=Yr[v0]=Yr[jc]=Yr[$r]=Yr[cs]=Yr[zc]=Yr[Hc]=!0,Yr[Xa]=Yr[f0]=Yr[p0]=Yr[Jr]=Yr[Za]=Yr[d0]=Yr[h0]=Yr[x0]=Yr[pn]=Yr[_a]=Yr[va]=Yr[Ji]=Yr[as]=Yr[ss]=Yr[Ja]=!1;function Zi(ne){return hn(ne)&&qr(ne.length)&&!!Yr[en(ne)]}function $a(ne){return function(d){return ne(d)}}var gi=typeof i=="object"&&i&&!i.nodeType&&i,us=gi&&typeof g=="object"&&g&&!g.nodeType&&g,m0=us&&us.exports===gi,Sn=m0&&Sr.process,ri=function(){try{return Sn&&Sn.binding&&Sn.binding("util")}catch{}}(),$i=ri&&ri.isTypedArray,ga=$i?$a($i):Zi,ls=Object.prototype,Ii=ls.hasOwnProperty;function Wc(ne,d){var k=zn(ne),h=!k&&Qn(ne),Ae=!k&&!h&&ns(ne),Fe=!k&&!h&&!Ae&&ga(ne),Me=k||h||Ae||Fe,Ge=Me?wn(ne.length,String):[],et=Ge.length;for(var ft in ne)Ii.call(ne,ft)&&!(Me&&(ft=="length"||Ae&&(ft=="offset"||ft=="parent")||Fe&&(ft=="buffer"||ft=="byteLength"||ft=="byteOffset")||l0(ft,et)))&&Ge.push(ft);return Ge}var fi=Object.prototype;function fs(ne){var d=ne&&ne.constructor,k=typeof d=="function"&&d.prototype||fi;return ne===k}function g0(ne,d){return function(k){return ne(d(k))}}var ds=g0(Object.keys,Object),ya=Object.prototype,hs=ya.hasOwnProperty;function y0(ne){if(!fs(ne))return ds(ne);var d=[];for(var k in Object(ne))hs.call(ne,k)&&k!="constructor"&&d.push(k);return d}function Kc(ne){return Dr(ne)?Wc(ne):y0(ne)}function ba(ne){var d=-1,k=ne.length;return function(){return++d<k?{value:ne[d],key:d}:null}}function Gc(ne){var d=-1;return function(){var h=ne.next();return h.done?null:(d++,{value:h.value,key:d})}}function Yc(ne){var d=Kc(ne),k=-1,h=d.length;return function(){var Fe=d[++k];return k<h?{value:ne[Fe],key:Fe}:null}}function eo(ne){if(Dr(ne))return ba(ne);var d=dn(ne);return d?Gc(d):Yc(ne)}function Ea(ne){return function(){if(ne===null)throw new Error("Callback was already called.");var d=ne;ne=null,d.apply(this,arguments)}}function to(ne){return function(d,k,h){if(h=ln(h||jn),ne<=0||!d)return h(null);var Ae=eo(d),Fe=!1,Me=0;function Ge(ft,kt){if(Me-=1,ft)Fe=!0,h(ft);else{if(kt===Wn||Fe&&Me<=0)return Fe=!0,h(null);et()}}function et(){for(;Me<ne&&!Fe;){var ft=Ae();if(ft===null){Fe=!0,Me<=0&&h(null);return}Me+=1,k(ft.value,ft.key,Ea(Ge))}}et()}}function b0(ne,d,k,h){to(d)(ne,k,h)}function xs(ne,d){return function(k,h,Ae){return ne(k,d,h,Ae)}}function Qc(ne,d,k){k=ln(k||jn);var h=0,Ae=0,Fe=ne.length;Fe===0&&k(null);function Me(Ge,et){Ge?k(Ge):(++Ae===Fe||et===Wn)&&k(null)}for(;h<Fe;h++)d(ne[h],h,Ea(Me))}var ps=xs(b0,1/0),ro=function(ne,d,k){var h=Dr(ne)?Qc:ps;h(ne,d,k)};function E0(ne){return function(d,k,h){return ne(ro,d,k,h)}}function wa(ne,d,k,h){h=h||jn,d=d||[];var Ae=[],Fe=0;ne(d,function(Me,Ge,et){var ft=Fe++;k(Me,function(kt,Ht){Ae[ft]=Ht,et(kt)})},function(Me){h(Me,Ae)})}var no=E0(wa);tr(no);function io(ne){return function(d,k,h,Ae){return ne(to(k),d,h,Ae)}}var w0=io(wa),Xc=xs(w0,1);tr(Xc),It(function(ne,d){return It(function(k){return ne.apply(null,d.concat(k))})});function ao(ne,d){for(var k=-1,h=ne==null?0:ne.length;++k<h&&d(ne[k],k,ne)!==!1;);return ne}var oo=typeof setImmediate=="function"&&setImmediate,so=typeof Te=="object"&&typeof Te.nextTick=="function";function co(ne){setTimeout(ne,0)}function uo(ne){return It(function(d,k){ne(function(){d.apply(null,k)})})}var Dn;oo?Dn=setImmediate:so?Dn=Te.nextTick:Dn=co,uo(Dn);var Sa=xs(b0,1);function Aa(ne,d,k,h){h=ln(h||jn),Sa(ne,function(Ae,Fe,Me){k(d,Ae,function(Ge,et){d=et,Me(Ge)})},function(Ae){h(Ae,d)})}var S0=It(function(d){return It(function(k){var h=this,Ae=k[k.length-1];typeof Ae=="function"?k.pop():Ae=jn,Aa(d,k,function(Fe,Me,Ge){Me.apply(h,Fe.concat(It(function(et,ft){Ge(et,ft)})))},function(Fe,Me){Ae.apply(h,[Fe].concat(Me))})})});It(function(ne){return S0.apply(null,ne.reverse())}),It(function(ne){var d=[null].concat(ne);return zt(function(k,h){return h.apply(this,d)})});function Ia(ne){return It(function(d,k){d.apply(null,k.concat(It(function(h,Ae){typeof console=="object"&&(h?console.error&&console.error(h):console[ne]&&ao(Ae,function(Fe){console[ne](Fe)}))})))})}Ia("dir");function A0(ne){return function(d,k,h){return ne(d,h)}}function _s(ne,d,k){ro(ne,A0(d),k)}Ia("log");var Ui;so?Ui=Te.nextTick:oo?Ui=setImmediate:Ui=co,uo(Ui);var qn;function ji(){qn||(qn={},qn[Dropbox.ApiError.NETWORK_ERROR]=_e.EIO,qn[Dropbox.ApiError.INVALID_PARAM]=_e.EINVAL,qn[Dropbox.ApiError.INVALID_TOKEN]=_e.EPERM,qn[Dropbox.ApiError.OAUTH_ERROR]=_e.EPERM,qn[Dropbox.ApiError.NOT_FOUND]=_e.ENOENT,qn[Dropbox.ApiError.INVALID_METHOD]=_e.EINVAL,qn[Dropbox.ApiError.NOT_ACCEPTABLE]=_e.EINVAL,qn[Dropbox.ApiError.CONFLICT]=_e.EINVAL,qn[Dropbox.ApiError.RATE_LIMITED]=_e.EBUSY,qn[Dropbox.ApiError.SERVER_ERROR]=_e.EBUSY,qn[Dropbox.ApiError.OVER_QUOTA]=_e.ENOSPC)}function vs(ne){return ne&&ne.stat.isFile}function ms(ne){return ne&&ne.stat.isFolder}function lo(ne){return ne==null||typeof ne=="object"&&typeof ne.byteLength=="number"}var kn=function(d){this._cache={},this._client=d};kn.prototype.readdir=function(d,k){var h=this,Ae=this.getCachedDirInfo(d);this._wrap(function(Fe){Ae!==null&&Ae.contents?h._client.readdir(d,{contentHash:Ae.stat.contentHash},Fe):h._client.readdir(d,Fe)},function(Fe,Me,Ge,et){Fe?Fe.status===Dropbox.ApiError.NO_CONTENT&&Ae!==null?k(null,Ae.contents.slice(0)):k(Fe):(h.updateCachedDirInfo(d,Ge,Me.slice(0)),et.forEach(function(ft){h.updateCachedInfo(Ie.join(d,ft.name),ft)}),k(null,Me))})},kn.prototype.remove=function(d,k){var h=this;this._wrap(function(Ae){h._client.remove(d,Ae)},function(Ae,Fe){Ae||h.updateCachedInfo(d,Fe),k(Ae)})},kn.prototype.move=function(d,k,h){var Ae=this;this._wrap(function(Fe){Ae._client.move(d,k,Fe)},function(Fe,Me){Fe||(Ae.deleteCachedInfo(d),Ae.updateCachedInfo(k,Me)),h(Fe)})},kn.prototype.stat=function(d,k){var h=this;this._wrap(function(Ae){h._client.stat(d,Ae)},function(Ae,Fe){Ae||h.updateCachedInfo(d,Fe),k(Ae,Fe)})},kn.prototype.readFile=function(d,k){var h=this,Ae=this.getCachedFileInfo(d);Ae!==null&&Ae.contents!==null?this.stat(d,function(Fe,Me){Fe?k(Fe):Me.contentHash===Ae.stat.contentHash?k(Fe,Ae.contents.slice(0),Ae.stat):h.readFile(d,k)}):this._wrap(function(Fe){h._client.readFile(d,{arrayBuffer:!0},Fe)},function(Fe,Me,Ge){Fe||h.updateCachedInfo(d,Ge,Me.slice(0)),k(Fe,Me,Ge)})},kn.prototype.writeFile=function(d,k,h){var Ae=this;this._wrap(function(Fe){Ae._client.writeFile(d,k,Fe)},function(Fe,Me){Fe||Ae.updateCachedInfo(d,Me,k.slice(0)),h(Fe,Me)})},kn.prototype.mkdir=function(d,k){var h=this;this._wrap(function(Ae){h._client.mkdir(d,Ae)},function(Ae,Fe){Ae||h.updateCachedInfo(d,Fe,[]),k(Ae)})},kn.prototype._wrap=function(d,k){var h=0,Ae=function(Fe){var Me=2;if(Fe&&3>++h)switch(Fe.status){case Dropbox.ApiError.SERVER_ERROR:case Dropbox.ApiError.NETWORK_ERROR:case Dropbox.ApiError.RATE_LIMITED:setTimeout(function(){d(Ae)},Me*1e3);break;default:k.apply(null,arguments);break}else k.apply(null,arguments)};d(Ae)},kn.prototype.getCachedInfo=function(d){return this._cache[d.toLowerCase()]},kn.prototype.putCachedInfo=function(d,k){this._cache[d.toLowerCase()]=k},kn.prototype.deleteCachedInfo=function(d){delete this._cache[d.toLowerCase()]},kn.prototype.getCachedDirInfo=function(d){var k=this.getCachedInfo(d);return ms(k)?k:null},kn.prototype.getCachedFileInfo=function(d){var k=this.getCachedInfo(d);return vs(k)?k:null},kn.prototype.updateCachedDirInfo=function(d,k,h){h===void 0&&(h=null);var Ae=this.getCachedInfo(d);k.contentHash!==null&&(Ae===void 0||Ae.stat.contentHash!==k.contentHash)&&this.putCachedInfo(d,{stat:k,contents:h})},kn.prototype.updateCachedFileInfo=function(d,k,h){h===void 0&&(h=null);var Ae=this.getCachedInfo(d);k.versionTag!==null&&(Ae===void 0||Ae.stat.versionTag!==k.versionTag)&&this.putCachedInfo(d,{stat:k,contents:h})},kn.prototype.updateCachedInfo=function(d,k,h){h===void 0&&(h=null),k.isFile&&lo(h)?this.updateCachedFileInfo(d,k,h):k.isFolder&&Array.isArray(h)&&this.updateCachedDirInfo(d,k,h)};var I0=function(ne){function d(k,h,Ae,Fe,Me){ne.call(this,k,h,Ae,Fe,Me)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.sync=function(h){var Ae=this;if(this.isDirty()){var Fe=this.getBuffer(),Me=ct(Fe);this._fs._writeFileStrict(this.getPath(),Me,function(Ge){Ge||Ae.resetDirty(),h(Ge)})}else h()},d.prototype.close=function(h){this.sync(h)},d}(xt),fo=function(ne){function d(k,h){h===void 0&&(h=!0),ne.call(this),this._client=new kn(k),Zt(h,d.Name,{client:"authenticated dropbox client instance"}),ji()}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.Create=function(h,Ae){Ae(null,new d(h.client,!1))},d.isAvailable=function(){return typeof Dropbox<"u"},d.prototype.getName=function(){return d.Name},d.prototype.isReadOnly=function(){return!1},d.prototype.supportsSymlinks=function(){return!1},d.prototype.supportsProps=function(){return!1},d.prototype.supportsSynch=function(){return!1},d.prototype.empty=function(h){var Ae=this;this._client.readdir("/",function(Fe,Me){if(Fe)h(Ae.convert(Fe,"/"));else{var Ge=function(ft,kt){var Ht=Ie.join("/",ft);Ae._client.remove(Ht,function(nr){kt(nr?Ae.convert(nr,Ht):null)})},et=function(ft){ft?h(ft):h()};_s(Me,Ge,et)}})},d.prototype.rename=function(h,Ae,Fe){var Me=this;this._client.move(h,Ae,function(Ge){Ge?Me._client.stat(Ae,function(et,ft){if(et||ft.isFolder){var kt=Ge.response.error.indexOf(h)>-1?h:Ae;Fe(Me.convert(Ge,kt))}else Me._client.remove(Ae,function(Ht){Ht?Fe(Me.convert(Ht,Ae)):Me.rename(h,Ae,Fe)})}):Fe()})},d.prototype.stat=function(h,Ae,Fe){var Me=this;this._client.stat(h,function(Ge,et){if(Ge)Fe(Me.convert(Ge,h));else if(et&&et.isRemoved)Fe(Ee.FileError(_e.ENOENT,h));else{var ft=new Ue(Me._statType(et),et.size);return Fe(null,ft)}})},d.prototype.open=function(h,Ae,Fe,Me){var Ge=this;this._client.readFile(h,function(et,ft,kt){if(et)if(Ae.isReadable())Me(Ge.convert(et,h));else switch(et.status){case Dropbox.ApiError.NOT_FOUND:var Ht=new ArrayBuffer(0);return Ge._writeFileStrict(h,Ht,function(vr,Br){if(vr)Me(vr);else{var jr=Ge._makeFile(h,Ae,Br,Kt(Ht));Me(null,jr)}});default:return Me(Ge.convert(et,h))}else{var nr;ft===null?nr=sr():nr=Kt(ft);var _r=Ge._makeFile(h,Ae,kt,nr);return Me(null,_r)}})},d.prototype._writeFileStrict=function(h,Ae,Fe){var Me=this,Ge=Ie.dirname(h);this.stat(Ge,!1,function(et,ft){et?Fe(Ee.FileError(_e.ENOENT,Ge)):Me._client.writeFile(h,Ae,function(kt,Ht){kt?Fe(Me.convert(kt,h)):Fe(null,Ht)})})},d.prototype._statType=function(h){return h.isFile?Ve.FILE:Ve.DIRECTORY},d.prototype._makeFile=function(h,Ae,Fe,Me){var Ge=this._statType(Fe),et=new Ue(Ge,Fe.size);return new I0(this,h,Ae,et,Me)},d.prototype._remove=function(h,Ae,Fe){var Me=this;this._client.stat(h,function(Ge,et){Ge?Ae(Me.convert(Ge,h)):et.isFile&&!Fe?Ae(Ee.FileError(_e.ENOTDIR,h)):!et.isFile&&Fe?Ae(Ee.FileError(_e.EISDIR,h)):Me._client.remove(h,function(ft){Ae(ft?Me.convert(ft,h):null)})})},d.prototype.unlink=function(h,Ae){this._remove(h,Ae,!0)},d.prototype.rmdir=function(h,Ae){this._remove(h,Ae,!1)},d.prototype.mkdir=function(h,Ae,Fe){var Me=this,Ge=Ie.dirname(h);this._client.stat(Ge,function(et,ft){et?Fe(Me.convert(et,Ge)):Me._client.mkdir(h,function(kt){Fe(kt?Ee.FileError(_e.EEXIST,h):null)})})},d.prototype.readdir=function(h,Ae){var Fe=this;this._client.readdir(h,function(Me,Ge){return Me?Ae(Fe.convert(Me)):Ae(null,Ge)})},d.prototype.convert=function(h,Ae){Ae===void 0&&(Ae=null);var Fe=qn[h.status];return Fe===void 0&&(Fe=_e.EIO),Ae?Ee.FileError(Fe,Ae):new Ee(Fe)},d}(At);fo.Name="Dropbox",fo.Options={client:{type:"object",description:"An *authenticated* Dropbox client. Must be from the 0.10 JS SDK.",validator:function(ne,d){ne.isAuthenticated&&ne.isAuthenticated()?d():d(new Ee(_e.EINVAL,"'client' option must be an authenticated Dropbox client from the v0.10 JS SDK."))}}};function _n(ne,d){d===void 0&&(d="");for(var k=ne.errno,h=ne.node,Ae=[];h&&(Ae.unshift(h.name),h!==h.parent);)h=h.parent;return new Ee(k,De[k],Ae.length>0?"/"+Ae.join("/"):d)}var ho=function(ne){function d(k,h,Ae,Fe){ne.call(this),this._fs=k,this._FS=h,this._path=Ae,this._stream=Fe}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.getPos=function(){},d.prototype.close=function(h){var Ae=null;try{this.closeSync()}catch(Fe){Ae=Fe}finally{h(Ae)}},d.prototype.closeSync=function(){try{this._FS.close(this._stream)}catch(h){throw _n(h,this._path)}},d.prototype.stat=function(h){try{h(null,this.statSync())}catch(Ae){h(Ae)}},d.prototype.statSync=function(){try{return this._fs.statSync(this._path,!1)}catch(h){throw _n(h,this._path)}},d.prototype.truncate=function(h,Ae){var Fe=null;try{this.truncateSync(h)}catch(Me){Fe=Me}finally{Ae(Fe)}},d.prototype.truncateSync=function(h){try{this._FS.ftruncate(this._stream.fd,h)}catch(Ae){throw _n(Ae,this._path)}},d.prototype.write=function(h,Ae,Fe,Me,Ge){try{Ge(null,this.writeSync(h,Ae,Fe,Me),h)}catch(et){Ge(et)}},d.prototype.writeSync=function(h,Ae,Fe,Me){try{var Ge=dt(h),et=Me===null?void 0:Me;return this._FS.write(this._stream,Ge,Ae,Fe,et)}catch(ft){throw _n(ft,this._path)}},d.prototype.read=function(h,Ae,Fe,Me,Ge){try{Ge(null,this.readSync(h,Ae,Fe,Me),h)}catch(et){Ge(et)}},d.prototype.readSync=function(h,Ae,Fe,Me){try{var Ge=dt(h),et=Me===null?void 0:Me;return this._FS.read(this._stream,Ge,Ae,Fe,et)}catch(ft){throw _n(ft,this._path)}},d.prototype.sync=function(h){h()},d.prototype.syncSync=function(){},d.prototype.chown=function(h,Ae,Fe){var Me=null;try{this.chownSync(h,Ae)}catch(Ge){Me=Ge}finally{Fe(Me)}},d.prototype.chownSync=function(h,Ae){try{this._FS.fchown(this._stream.fd,h,Ae)}catch(Fe){throw _n(Fe,this._path)}},d.prototype.chmod=function(h,Ae){var Fe=null;try{this.chmodSync(h)}catch(Me){Fe=Me}finally{Ae(Fe)}},d.prototype.chmodSync=function(h){try{this._FS.fchmod(this._stream.fd,h)}catch(Ae){throw _n(Ae,this._path)}},d.prototype.utimes=function(h,Ae,Fe){var Me=null;try{this.utimesSync(h,Ae)}catch(Ge){Me=Ge}finally{Fe(Me)}},d.prototype.utimesSync=function(h,Ae){this._fs.utimesSync(this._path,h,Ae)},d}(ht),xo=function(ne){function d(k){ne.call(this),this._FS=k}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.Create=function(h,Ae){Ae(null,new d(h.FS))},d.isAvailable=function(){return!0},d.prototype.getName=function(){return this._FS.DB_NAME()},d.prototype.isReadOnly=function(){return!1},d.prototype.supportsLinks=function(){return!0},d.prototype.supportsProps=function(){return!0},d.prototype.supportsSynch=function(){return!0},d.prototype.renameSync=function(h,Ae){try{this._FS.rename(h,Ae)}catch(Fe){throw Fe.errno===_e.ENOENT?_n(Fe,this.existsSync(h)?Ae:h):_n(Fe)}},d.prototype.statSync=function(h,Ae){try{var Fe=Ae?this._FS.lstat(h):this._FS.stat(h),Me=this.modeToFileType(Fe.mode);return new Ue(Me,Fe.size,Fe.mode,Fe.atime,Fe.mtime,Fe.ctime)}catch(Ge){throw _n(Ge,h)}},d.prototype.openSync=function(h,Ae,Fe){try{var Me=this._FS.open(h,Ae.getFlagString(),Fe);if(this._FS.isDir(Me.node.mode))throw this._FS.close(Me),Ee.EISDIR(h);return new ho(this,this._FS,h,Me)}catch(Ge){throw _n(Ge,h)}},d.prototype.unlinkSync=function(h){try{this._FS.unlink(h)}catch(Ae){throw _n(Ae,h)}},d.prototype.rmdirSync=function(h){try{this._FS.rmdir(h)}catch(Ae){throw _n(Ae,h)}},d.prototype.mkdirSync=function(h,Ae){try{this._FS.mkdir(h,Ae)}catch(Fe){throw _n(Fe,h)}},d.prototype.readdirSync=function(h){try{return this._FS.readdir(h).filter(function(Ae){return Ae!=="."&&Ae!==".."})}catch(Ae){throw _n(Ae,h)}},d.prototype.truncateSync=function(h,Ae){try{this._FS.truncate(h,Ae)}catch(Fe){throw _n(Fe,h)}},d.prototype.readFileSync=function(h,Ae,Fe){try{var Me=this._FS.readFile(h,{flags:Fe.getFlagString()}),Ge=Ct(Me);return Ae?Ge.toString(Ae):Ge}catch(et){throw _n(et,h)}},d.prototype.writeFileSync=function(h,Ae,Fe,Me,Ge){try{Fe&&(Ae=f.from(Ae,Fe));var et=dt(Ae);this._FS.writeFile(h,et,{flags:Me.getFlagString(),encoding:"binary"}),this._FS.chmod(h,Ge)}catch(ft){throw _n(ft,h)}},d.prototype.chmodSync=function(h,Ae,Fe){try{Ae?this._FS.lchmod(h,Fe):this._FS.chmod(h,Fe)}catch(Me){throw _n(Me,h)}},d.prototype.chownSync=function(h,Ae,Fe,Me){try{Ae?this._FS.lchown(h,Fe,Me):this._FS.chown(h,Fe,Me)}catch(Ge){throw _n(Ge,h)}},d.prototype.symlinkSync=function(h,Ae,Fe){try{this._FS.symlink(h,Ae)}catch(Me){throw _n(Me)}},d.prototype.readlinkSync=function(h){try{return this._FS.readlink(h)}catch(Ae){throw _n(Ae,h)}},d.prototype.utimesSync=function(h,Ae,Fe){try{this._FS.utime(h,Ae.getTime(),Fe.getTime())}catch(Me){throw _n(Me,h)}},d.prototype.modeToFileType=function(h){if(this._FS.isDir(h))return Ve.DIRECTORY;if(this._FS.isFile(h))return Ve.FILE;if(this._FS.isLink(h))return Ve.SYMLINK;throw Ee.EPERM("Invalid mode: "+h)},d}(Wt);xo.Name="EmscriptenFileSystem",xo.Options={FS:{type:"object",description:"The Emscripten file system to use (the `FS` variable)"}};var Ci=function(ne){function d(k,h){ne.call(this),this._folder=k,this._wrapped=h}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.Create=function(h,Ae){Ae(null,new d(h.folder,h.wrapped))},d.isAvailable=function(){return!0},d.prototype.initialize=function(h){var Ae=this;this._wrapped.exists(this._folder,function(Fe){Fe?h():Ae._wrapped.isReadOnly()?h(Ee.ENOENT(Ae._folder)):Ae._wrapped.mkdir(Ae._folder,511,h)})},d.prototype.getName=function(){return this._wrapped.getName()},d.prototype.isReadOnly=function(){return this._wrapped.isReadOnly()},d.prototype.supportsProps=function(){return this._wrapped.supportsProps()},d.prototype.supportsSynch=function(){return this._wrapped.supportsSynch()},d.prototype.supportsLinks=function(){return!1},d}(At);Ci.Name="FolderAdapter",Ci.Options={folder:{type:"string",description:"The folder to use as the root directory"},wrapped:{type:"object",description:"The file system to wrap"}};function po(ne,d){if(d!==null&&typeof d=="object"){var k=d,h=k.path;h&&(h="/"+Ie.relative(ne,h),k.message=k.message.replace(k.path,h),k.path=h)}return d}function Jc(ne,d){return typeof d=="function"?function(k){arguments.length>0&&(arguments[0]=po(ne,k)),d.apply(null,arguments)}:d}function gs(ne,d,k){return ne.slice(ne.length-4)!=="Sync"?function(){return arguments.length>0&&(arguments[0]=Ie.join(this._folder,arguments[0]),k&&(arguments[1]=Ie.join(this._folder,arguments[1])),arguments[arguments.length-1]=Jc(this._folder,arguments[arguments.length-1])),this._wrapped[ne].apply(this._wrapped,arguments)}:function(){try{return d&&(arguments[0]=Ie.join(this._folder,arguments[0])),k&&(arguments[1]=Ie.join(this._folder,arguments[1])),this._wrapped[ne].apply(this._wrapped,arguments)}catch(h){throw po(this._folder,h)}}}["diskSpace","stat","statSync","open","openSync","unlink","unlinkSync","rmdir","rmdirSync","mkdir","mkdirSync","readdir","readdirSync","exists","existsSync","realpath","realpathSync","truncate","truncateSync","readFile","readFileSync","writeFile","writeFileSync","appendFile","appendFileSync","chmod","chmodSync","chown","chownSync","utimes","utimesSync","readlink","readlinkSync"].forEach(function(ne){Ci.prototype[ne]=gs(ne,!0,!1)}),["rename","renameSync","link","linkSync","symlink","symlinkSync"].forEach(function(ne){Ci.prototype[ne]=gs(ne,!0,!0)});var _o;typeof window<"u"?_o=window:typeof self<"u"?_o=self:_o=m;var bn=_o;function C0(ne){return ne.isDirectory}var ys=bn.webkitRequestFileSystem||bn.requestFileSystem||null;function k0(ne,d,k,h){if(typeof navigator.webkitPersistentStorage<"u")switch(ne){case bn.PERSISTENT:navigator.webkitPersistentStorage.requestQuota(d,k,h);break;case bn.TEMPORARY:navigator.webkitTemporaryStorage.requestQuota(d,k,h);break;default:h(new TypeError("Invalid storage type: "+ne));break}else bn.webkitStorageInfo.requestQuota(ne,d,k,h)}function bs(ne){return Array.prototype.slice.call(ne||[],0)}function ni(ne,d,k){switch(ne.name){case"PathExistsError":return Ee.EEXIST(d);case"QuotaExceededError":return Ee.FileError(_e.ENOSPC,d);case"NotFoundError":return Ee.ENOENT(d);case"SecurityError":return Ee.FileError(_e.EACCES,d);case"InvalidModificationError":return Ee.FileError(_e.EPERM,d);case"TypeMismatchError":return Ee.FileError(k?_e.ENOTDIR:_e.EISDIR,d);case"EncodingError":case"InvalidStateError":case"NoModificationAllowedError":default:return Ee.FileError(_e.EINVAL,d)}}var O0=function(ne){function d(k,h,Ae,Fe,Me,Ge){ne.call(this,k,Ae,Fe,Me,Ge),this._entry=h}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.sync=function(h){var Ae=this;if(!this.isDirty())return h();this._entry.createWriter(function(Fe){var Me=Ae.getBuffer(),Ge=new Blob([ct(Me)]),et=Ge.size;Fe.onwriteend=function(ft){Fe.onwriteend=null,Fe.onerror=null,Fe.truncate(et),Ae.resetDirty(),h()},Fe.onerror=function(ft){h(ni(ft,Ae.getPath(),!1))},Fe.write(Ge)})},d.prototype.close=function(h){this.sync(h)},d}(xt),vo=function(ne){function d(k,h,Ae){k===void 0&&(k=5),h===void 0&&(h=bn.PERSISTENT),Ae===void 0&&(Ae=!0),ne.call(this),this.size=1024*1024*k,this.type=h,Zt(Ae,d.Name,{size:k,type:h})}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.Create=function(h,Ae){var Fe=new d(h.size,h.type,!1);Fe.allocate(function(Me){return Me?Ae(Me):Ae(null,Fe)},!1)},d.isAvailable=function(){return!!ys},d.prototype.getName=function(){return d.Name},d.prototype.isReadOnly=function(){return!1},d.prototype.supportsSymlinks=function(){return!1},d.prototype.supportsProps=function(){return!1},d.prototype.supportsSynch=function(){return!1},d.prototype.allocate=function(h,Ae){var Fe=this;h===void 0&&(h=function(){}),Ae===void 0&&(Ae=!0),Ae&&console.warn("[HTML5FS] HTML5FS.allocate() is deprecated and will be removed in the next major release. Please use 'HTML5FS.Create({type: "+this.type+", size: "+this.size+"}, cb)' to create and allocate HTML5FS instances.");var Me=function(et){Fe.fs=et,h()},Ge=function(et){h(ni(et,"/",!0))};this.type===bn.PERSISTENT?k0(this.type,this.size,function(et){ys(Fe.type,et,Me,Ge)},Ge):ys(this.type,this.size,Me,Ge)},d.prototype.empty=function(h){this._readdir("/",function(Ae,Fe){if(Ae)console.error("Failed to empty FS"),h(Ae);else{var Me=function(et){Ae?(console.error("Failed to empty FS"),h(Ae)):h()},Ge=function(et,ft){var kt=function(){ft()},Ht=function(nr){ft(ni(nr,et.fullPath,!et.isDirectory))};C0(et)?et.removeRecursively(kt,Ht):et.remove(kt,Ht)};_s(Fe,Ge,Me)}})},d.prototype.rename=function(h,Ae,Fe){var Me=this,Ge=2,et=0,ft=this.fs.root,kt=h,Ht=function(_r){--Ge<=0&&Fe(ni(_r,kt,!1))},nr=function(_r){if(++et===2)return Fe(new Ee(_e.EINVAL,"Something was identified as both a file and a directory. This should never happen."));if(h===Ae)return Fe();kt=Ie.dirname(Ae),ft.getDirectory(kt,{},function(vr){kt=Ie.basename(Ae),_r.moveTo(vr,kt,function(Br){Fe()},function(Br){_r.isDirectory?(kt=Ae,Me.unlink(Ae,function(jr){jr?Ht(Br):Me.rename(h,Ae,Fe)})):Ht(Br)})},Ht)};ft.getFile(h,{},nr,Ht),ft.getDirectory(h,{},nr,Ht)},d.prototype.stat=function(h,Ae,Fe){var Me=this,Ge={create:!1},et=function(nr){var _r=function(vr){var Br=new Ue(Ve.FILE,vr.size);Fe(null,Br)};nr.file(_r,kt)},ft=function(nr){var _r=4096,vr=new Ue(Ve.DIRECTORY,_r);Fe(null,vr)},kt=function(nr){Fe(ni(nr,h,!1))},Ht=function(){Me.fs.root.getDirectory(h,Ge,ft,kt)};this.fs.root.getFile(h,Ge,et,Ht)},d.prototype.open=function(h,Ae,Fe,Me){var Ge=this,et=function(ft){ft.name==="InvalidModificationError"&&Ae.isExclusive()?Me(Ee.EEXIST(h)):Me(ni(ft,h,!1))};this.fs.root.getFile(h,{create:Ae.pathNotExistsAction()===Be.CREATE_FILE,exclusive:Ae.isExclusive()},function(ft){ft.file(function(kt){var Ht=new FileReader;Ht.onloadend=function(nr){var _r=Ge._makeFile(h,ft,Ae,kt,Ht.result);Me(null,_r)},Ht.onerror=function(nr){et(Ht.error)},Ht.readAsArrayBuffer(kt)},et)},et)},d.prototype.unlink=function(h,Ae){this._remove(h,Ae,!0)},d.prototype.rmdir=function(h,Ae){var Fe=this;this.readdir(h,function(Me,Ge){Me?Ae(Me):Ge.length>0?Ae(Ee.ENOTEMPTY(h)):Fe._remove(h,Ae,!1)})},d.prototype.mkdir=function(h,Ae,Fe){var Me={create:!0,exclusive:!0},Ge=function(ft){Fe()},et=function(ft){Fe(ni(ft,h,!0))};this.fs.root.getDirectory(h,Me,Ge,et)},d.prototype.readdir=function(h,Ae){this._readdir(h,function(Fe,Me){if(Me){for(var Ge=[],et=0,ft=Me;et<ft.length;et+=1){var kt=ft[et];Ge.push(kt.name)}Ae(null,Ge)}else return Ae(Fe)})},d.prototype._makeFile=function(h,Ae,Fe,Me,Ge){Ge===void 0&&(Ge=new ArrayBuffer(0));var et=new Ue(Ve.FILE,Me.size),ft=Kt(Ge);return new O0(this,Ae,h,Fe,et,ft)},d.prototype._readdir=function(h,Ae){var Fe=function(Me){Ae(ni(Me,h,!0))};this.fs.root.getDirectory(h,{create:!1},function(Me){var Ge=Me.createReader(),et=[],ft=function(){Ge.readEntries(function(kt){kt.length?(et=et.concat(bs(kt)),ft()):Ae(null,et)},Fe)};ft()},Fe)},d.prototype._remove=function(h,Ae,Fe){var Me=function(ft){var kt=function(){Ae()},Ht=function(nr){Ae(ni(nr,h,!Fe))};ft.remove(kt,Ht)},Ge=function(ft){Ae(ni(ft,h,!Fe))},et={create:!1};Fe?this.fs.root.getFile(h,et,Me,Ge):this.fs.root.getDirectory(h,et,Me,Ge)},d}(At);vo.Name="HTML5FS",vo.Options={size:{type:"number",optional:!0,description:"Storage quota to request, in megabytes. Allocated value may be less. Defaults to 5."},type:{type:"number",optional:!0,description:"window.PERSISTENT or window.TEMPORARY. Defaults to PERSISTENT."}};var Hn=function(d,k,h,Ae,Fe,Me){this.id=d,this.size=k,this.mode=h,this.atime=Ae,this.mtime=Fe,this.ctime=Me};Hn.fromBuffer=function(d){if(d===void 0)throw new Error("NO");return new Hn(d.toString("ascii",30),d.readUInt32LE(0),d.readUInt16LE(4),d.readDoubleLE(6),d.readDoubleLE(14),d.readDoubleLE(22))},Hn.prototype.toStats=function(){return new Ue((this.mode&61440)===Ve.DIRECTORY?Ve.DIRECTORY:Ve.FILE,this.size,this.mode,new Date(this.atime),new Date(this.mtime),new Date(this.ctime))},Hn.prototype.getSize=function(){return 30+this.id.length},Hn.prototype.toBuffer=function(d){return d===void 0&&(d=f.alloc(this.getSize())),d.writeUInt32LE(this.size,0),d.writeUInt16LE(this.mode,4),d.writeDoubleLE(this.atime,6),d.writeDoubleLE(this.mtime,14),d.writeDoubleLE(this.ctime,22),d.write(this.id,30,this.id.length,"ascii"),d},Hn.prototype.update=function(d){var k=!1;this.size!==d.size&&(this.size=d.size,k=!0),this.mode!==d.mode&&(this.mode=d.mode,k=!0);var h=d.atime.getTime();this.atime!==h&&(this.atime=h,k=!0);var Ae=d.mtime.getTime();this.mtime!==Ae&&(this.mtime=Ae,k=!0);var Fe=d.ctime.getTime();return this.ctime!==Fe&&(this.ctime=Fe,k=!0),k},Hn.prototype.isFile=function(){return(this.mode&61440)===Ve.FILE},Hn.prototype.isDirectory=function(){return(this.mode&61440)===Ve.DIRECTORY};var ki="/",ea=null;function di(){return ea||(ea=f.from("{}"))}function mn(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(ne){var d=Math.random()*16|0,k=ne==="x"?d:d&3|8;return k.toString(16)})}function Nn(ne,d){return ne?(d(ne),!1):!0}function tn(ne,d,k){return ne?(d.abort(function(){k(ne)}),!1):!0}var yi=function(d){this.store=d,this.originalData={},this.modifiedKeys=[]};yi.prototype.get=function(d){var k=this.store.get(d);return this.stashOldValue(d,k),k},yi.prototype.put=function(d,k,h){return this.markModified(d),this.store.put(d,k,h)},yi.prototype.del=function(d){this.markModified(d),this.store.del(d)},yi.prototype.commit=function(){},yi.prototype.abort=function(){for(var d=this,k=0,h=d.modifiedKeys;k<h.length;k+=1){var Ae=h[k],Fe=d.originalData[Ae];Fe?d.store.put(Ae,Fe,!0):d.store.del(Ae)}},yi.prototype.stashOldValue=function(d,k){this.originalData.hasOwnProperty(d)||(this.originalData[d]=k)},yi.prototype.markModified=function(d){this.modifiedKeys.indexOf(d)===-1&&(this.modifiedKeys.push(d),this.originalData.hasOwnProperty(d)||(this.originalData[d]=this.store.get(d)))};var mo=function(ne){function d(k,h,Ae,Fe,Me){ne.call(this,k,h,Ae,Fe,Me)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this.getPath(),this.getBuffer(),this.getStats()),this.resetDirty())},d.prototype.closeSync=function(){this.syncSync()},d}(xt),Es=function(ne){function d(k){ne.call(this),this.store=k.store,this.makeRootDirectory()}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.isAvailable=function(){return!0},d.prototype.getName=function(){return this.store.name()},d.prototype.isReadOnly=function(){return!1},d.prototype.supportsSymlinks=function(){return!1},d.prototype.supportsProps=function(){return!1},d.prototype.supportsSynch=function(){return!0},d.prototype.empty=function(){this.store.clear(),this.makeRootDirectory()},d.prototype.renameSync=function(h,Ae){var Fe=this.store.beginTransaction("readwrite"),Me=Ie.dirname(h),Ge=Ie.basename(h),et=Ie.dirname(Ae),ft=Ie.basename(Ae),kt=this.findINode(Fe,Me),Ht=this.getDirListing(Fe,Me,kt);if(!Ht[Ge])throw Ee.ENOENT(h);var nr=Ht[Ge];if(delete Ht[Ge],(et+"/").indexOf(h+"/")===0)throw new Ee(_e.EBUSY,Me);var _r,vr;if(et===Me?(_r=kt,vr=Ht):(_r=this.findINode(Fe,et),vr=this.getDirListing(Fe,et,_r)),vr[ft]){var Br=this.getINode(Fe,Ae,vr[ft]);if(Br.isFile())try{Fe.del(Br.id),Fe.del(vr[ft])}catch(jr){throw Fe.abort(),jr}else throw Ee.EPERM(Ae)}vr[ft]=nr;try{Fe.put(kt.id,f.from(JSON.stringify(Ht)),!0),Fe.put(_r.id,f.from(JSON.stringify(vr)),!0)}catch(jr){throw Fe.abort(),jr}Fe.commit()},d.prototype.statSync=function(h,Ae){return this.findINode(this.store.beginTransaction("readonly"),h).toStats()},d.prototype.createFileSync=function(h,Ae,Fe){var Me=this.store.beginTransaction("readwrite"),Ge=sr(),et=this.commitNewFile(Me,h,Ve.FILE,Fe,Ge);return new mo(this,h,Ae,et.toStats(),Ge)},d.prototype.openFileSync=function(h,Ae){var Fe=this.store.beginTransaction("readonly"),Me=this.findINode(Fe,h),Ge=Fe.get(Me.id);if(Ge===void 0)throw Ee.ENOENT(h);return new mo(this,h,Ae,Me.toStats(),Ge)},d.prototype.unlinkSync=function(h){this.removeEntry(h,!1)},d.prototype.rmdirSync=function(h){if(this.readdirSync(h).length>0)throw Ee.ENOTEMPTY(h);this.removeEntry(h,!0)},d.prototype.mkdirSync=function(h,Ae){var Fe=this.store.beginTransaction("readwrite"),Me=f.from("{}");this.commitNewFile(Fe,h,Ve.DIRECTORY,Ae,Me)},d.prototype.readdirSync=function(h){var Ae=this.store.beginTransaction("readonly");return Object.keys(this.getDirListing(Ae,h,this.findINode(Ae,h)))},d.prototype._syncSync=function(h,Ae,Fe){var Me=this.store.beginTransaction("readwrite"),Ge=this._findINode(Me,Ie.dirname(h),Ie.basename(h)),et=this.getINode(Me,h,Ge),ft=et.update(Fe);try{Me.put(et.id,Ae,!0),ft&&Me.put(Ge,et.toBuffer(),!0)}catch(kt){throw Me.abort(),kt}Me.commit()},d.prototype.makeRootDirectory=function(){var h=this.store.beginTransaction("readwrite");if(h.get(ki)===void 0){var Ae=new Date().getTime(),Fe=new Hn(mn(),4096,511|Ve.DIRECTORY,Ae,Ae,Ae);h.put(Fe.id,di(),!1),h.put(ki,Fe.toBuffer(),!1),h.commit()}},d.prototype._findINode=function(h,Ae,Fe){var Me=this,Ge=function(et){var ft=Me.getDirListing(h,Ae,et);if(ft[Fe])return ft[Fe];throw Ee.ENOENT(Ie.resolve(Ae,Fe))};return Ae==="/"?Fe===""?ki:Ge(this.getINode(h,Ae,ki)):Ge(this.getINode(h,Ae+Ie.sep+Fe,this._findINode(h,Ie.dirname(Ae),Ie.basename(Ae))))},d.prototype.findINode=function(h,Ae){return this.getINode(h,Ae,this._findINode(h,Ie.dirname(Ae),Ie.basename(Ae)))},d.prototype.getINode=function(h,Ae,Fe){var Me=h.get(Fe);if(Me===void 0)throw Ee.ENOENT(Ae);return Hn.fromBuffer(Me)},d.prototype.getDirListing=function(h,Ae,Fe){if(!Fe.isDirectory())throw Ee.ENOTDIR(Ae);var Me=h.get(Fe.id);if(Me===void 0)throw Ee.ENOENT(Ae);return JSON.parse(Me.toString())},d.prototype.addNewNode=function(h,Ae){for(var Fe=0,Me;Fe<5;)try{return Me=mn(),h.put(Me,Ae,!1),Me}catch{}throw new Ee(_e.EIO,"Unable to commit data to key-value store.")},d.prototype.commitNewFile=function(h,Ae,Fe,Me,Ge){var et=Ie.dirname(Ae),ft=Ie.basename(Ae),kt=this.findINode(h,et),Ht=this.getDirListing(h,et,kt),nr=new Date().getTime();if(Ae==="/"||Ht[ft])throw Ee.EEXIST(Ae);var _r;try{var vr=this.addNewNode(h,Ge);_r=new Hn(vr,Ge.length,Me|Fe,nr,nr,nr);var Br=this.addNewNode(h,_r.toBuffer());Ht[ft]=Br,h.put(kt.id,f.from(JSON.stringify(Ht)),!0)}catch(jr){throw h.abort(),jr}return h.commit(),_r},d.prototype.removeEntry=function(h,Ae){var Fe=this.store.beginTransaction("readwrite"),Me=Ie.dirname(h),Ge=this.findINode(Fe,Me),et=this.getDirListing(Fe,Me,Ge),ft=Ie.basename(h);if(!et[ft])throw Ee.ENOENT(h);var kt=et[ft];delete et[ft];var Ht=this.getINode(Fe,h,kt);if(!Ae&&Ht.isDirectory())throw Ee.EISDIR(h);if(Ae&&!Ht.isDirectory())throw Ee.ENOTDIR(h);try{Fe.del(Ht.id),Fe.del(kt),Fe.put(Ge.id,f.from(JSON.stringify(et)),!0)}catch(nr){throw Fe.abort(),nr}Fe.commit()},d}(Wt),Oi=function(ne){function d(k,h,Ae,Fe,Me){ne.call(this,k,h,Ae,Fe,Me)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.sync=function(h){var Ae=this;this.isDirty()?this._fs._sync(this.getPath(),this.getBuffer(),this.getStats(),function(Fe){Fe||Ae.resetDirty(),h(Fe)}):h()},d.prototype.close=function(h){this.sync(h)},d}(xt),ws=function(ne){function d(){ne.apply(this,arguments)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.isAvailable=function(){return!0},d.prototype.init=function(h,Ae){this.store=h,this.makeRootDirectory(Ae)},d.prototype.getName=function(){return this.store.name()},d.prototype.isReadOnly=function(){return!1},d.prototype.supportsSymlinks=function(){return!1},d.prototype.supportsProps=function(){return!1},d.prototype.supportsSynch=function(){return!1},d.prototype.empty=function(h){var Ae=this;this.store.clear(function(Fe){Nn(Fe,h)&&Ae.makeRootDirectory(h)})},d.prototype.rename=function(h,Ae,Fe){var Me=this,Ge=this.store.beginTransaction("readwrite"),et=Ie.dirname(h),ft=Ie.basename(h),kt=Ie.dirname(Ae),Ht=Ie.basename(Ae),nr={},_r={},vr=!1;if((kt+"/").indexOf(h+"/")===0)return Fe(new Ee(_e.EBUSY,et));var Br=function(){if(!(vr||!_r.hasOwnProperty(et)||!_r.hasOwnProperty(kt))){var Hr=_r[et],En=nr[et],Mn=_r[kt],Ri=nr[kt];if(!Hr[ft])Fe(Ee.ENOENT(h));else{var Fi=Hr[ft];delete Hr[ft];var So=function(){Mn[Ht]=Fi,Ge.put(En.id,f.from(JSON.stringify(Hr)),!0,function(Hi){tn(Hi,Ge,Fe)&&(et===kt?Ge.commit(Fe):Ge.put(Ri.id,f.from(JSON.stringify(Mn)),!0,function(Wi){tn(Wi,Ge,Fe)&&Ge.commit(Fe)}))})};Mn[Ht]?Me.getINode(Ge,Ae,Mn[Ht],function(Hi,Wi){tn(Hi,Ge,Fe)&&(Wi.isFile()?Ge.del(Wi.id,function(Wu){tn(Wu,Ge,Fe)&&Ge.del(Mn[Ht],function(pf){tn(pf,Ge,Fe)&&So()})}):Ge.abort(function(Wu){Fe(Ee.EPERM(Ae))}))}):So()}}},jr=function(Hr){Me.findINodeAndDirListing(Ge,Hr,function(En,Mn,Ri){En?vr||(vr=!0,Ge.abort(function(){Fe(En)})):(nr[Hr]=Mn,_r[Hr]=Ri,Br())})};jr(et),et!==kt&&jr(kt)},d.prototype.stat=function(h,Ae,Fe){var Me=this.store.beginTransaction("readonly");this.findINode(Me,h,function(Ge,et){Nn(Ge,Fe)&&Fe(null,et.toStats())})},d.prototype.createFile=function(h,Ae,Fe,Me){var Ge=this,et=this.store.beginTransaction("readwrite"),ft=sr();this.commitNewFile(et,h,Ve.FILE,Fe,ft,function(kt,Ht){Nn(kt,Me)&&Me(null,new Oi(Ge,h,Ae,Ht.toStats(),ft))})},d.prototype.openFile=function(h,Ae,Fe){var Me=this,Ge=this.store.beginTransaction("readonly");this.findINode(Ge,h,function(et,ft){Nn(et,Fe)&&Ge.get(ft.id,function(kt,Ht){Nn(kt,Fe)&&(Ht===void 0?Fe(Ee.ENOENT(h)):Fe(null,new Oi(Me,h,Ae,ft.toStats(),Ht)))})})},d.prototype.unlink=function(h,Ae){this.removeEntry(h,!1,Ae)},d.prototype.rmdir=function(h,Ae){var Fe=this;this.readdir(h,function(Me,Ge){Me?Ae(Me):Ge.length>0?Ae(Ee.ENOTEMPTY(h)):Fe.removeEntry(h,!0,Ae)})},d.prototype.mkdir=function(h,Ae,Fe){var Me=this.store.beginTransaction("readwrite"),Ge=f.from("{}");this.commitNewFile(Me,h,Ve.DIRECTORY,Ae,Ge,Fe)},d.prototype.readdir=function(h,Ae){var Fe=this,Me=this.store.beginTransaction("readonly");this.findINode(Me,h,function(Ge,et){Nn(Ge,Ae)&&Fe.getDirListing(Me,h,et,function(ft,kt){Nn(ft,Ae)&&Ae(null,Object.keys(kt))})})},d.prototype._sync=function(h,Ae,Fe,Me){var Ge=this,et=this.store.beginTransaction("readwrite");this._findINode(et,Ie.dirname(h),Ie.basename(h),function(ft,kt){tn(ft,et,Me)&&Ge.getINode(et,h,kt,function(Ht,nr){if(tn(Ht,et,Me)){var _r=nr.update(Fe);et.put(nr.id,Ae,!0,function(vr){tn(vr,et,Me)&&(_r?et.put(kt,nr.toBuffer(),!0,function(Br){tn(Br,et,Me)&&et.commit(Me)}):et.commit(Me))})}})})},d.prototype.makeRootDirectory=function(h){var Ae=this.store.beginTransaction("readwrite");Ae.get(ki,function(Fe,Me){if(Fe||Me===void 0){var Ge=new Date().getTime(),et=new Hn(mn(),4096,511|Ve.DIRECTORY,Ge,Ge,Ge);Ae.put(et.id,di(),!1,function(ft){tn(ft,Ae,h)&&Ae.put(ki,et.toBuffer(),!1,function(kt){kt?Ae.abort(function(){h(kt)}):Ae.commit(h)})})}else Ae.commit(h)})},d.prototype._findINode=function(h,Ae,Fe,Me){var Ge=this,et=function(ft,kt,Ht){ft?Me(ft):Ht[Fe]?Me(null,Ht[Fe]):Me(Ee.ENOENT(Ie.resolve(Ae,Fe)))};Ae==="/"?Fe===""?Me(null,ki):this.getINode(h,Ae,ki,function(ft,kt){Nn(ft,Me)&&Ge.getDirListing(h,Ae,kt,function(Ht,nr){et(Ht,kt,nr)})}):this.findINodeAndDirListing(h,Ae,et)},d.prototype.findINode=function(h,Ae,Fe){var Me=this;this._findINode(h,Ie.dirname(Ae),Ie.basename(Ae),function(Ge,et){Nn(Ge,Fe)&&Me.getINode(h,Ae,et,Fe)})},d.prototype.getINode=function(h,Ae,Fe,Me){h.get(Fe,function(Ge,et){Nn(Ge,Me)&&(et===void 0?Me(Ee.ENOENT(Ae)):Me(null,Hn.fromBuffer(et)))})},d.prototype.getDirListing=function(h,Ae,Fe,Me){Fe.isDirectory()?h.get(Fe.id,function(Ge,et){if(Nn(Ge,Me))try{Me(null,JSON.parse(et.toString()))}catch{Me(Ee.ENOENT(Ae))}}):Me(Ee.ENOTDIR(Ae))},d.prototype.findINodeAndDirListing=function(h,Ae,Fe){var Me=this;this.findINode(h,Ae,function(Ge,et){Nn(Ge,Fe)&&Me.getDirListing(h,Ae,et,function(ft,kt){Nn(ft,Fe)&&Fe(null,et,kt)})})},d.prototype.addNewNode=function(h,Ae,Fe){var Me=0,Ge,et=function(){++Me===5?Fe(new Ee(_e.EIO,"Unable to commit data to key-value store.")):(Ge=mn(),h.put(Ge,Ae,!1,function(ft,kt){ft||!kt?et():Fe(null,Ge)}))};et()},d.prototype.commitNewFile=function(h,Ae,Fe,Me,Ge,et){var ft=this,kt=Ie.dirname(Ae),Ht=Ie.basename(Ae),nr=new Date().getTime();if(Ae==="/")return et(Ee.EEXIST(Ae));this.findINodeAndDirListing(h,kt,function(_r,vr,Br){tn(_r,h,et)&&(Br[Ht]?h.abort(function(){et(Ee.EEXIST(Ae))}):ft.addNewNode(h,Ge,function(jr,Hr){if(tn(jr,h,et)){var En=new Hn(Hr,Ge.length,Me|Fe,nr,nr,nr);ft.addNewNode(h,En.toBuffer(),function(Mn,Ri){tn(Mn,h,et)&&(Br[Ht]=Ri,h.put(vr.id,f.from(JSON.stringify(Br)),!0,function(Fi){tn(Fi,h,et)&&h.commit(function(So){tn(So,h,et)&&et(null,En)})}))})}}))})},d.prototype.removeEntry=function(h,Ae,Fe){var Me=this,Ge=this.store.beginTransaction("readwrite"),et=Ie.dirname(h),ft=Ie.basename(h);this.findINodeAndDirListing(Ge,et,function(kt,Ht,nr){if(tn(kt,Ge,Fe))if(!nr[ft])Ge.abort(function(){Fe(Ee.ENOENT(h))});else{var _r=nr[ft];delete nr[ft],Me.getINode(Ge,h,_r,function(vr,Br){tn(vr,Ge,Fe)&&(!Ae&&Br.isDirectory()?Ge.abort(function(){Fe(Ee.EISDIR(h))}):Ae&&!Br.isDirectory()?Ge.abort(function(){Fe(Ee.ENOTDIR(h))}):Ge.del(Br.id,function(jr){tn(jr,Ge,Fe)&&Ge.del(_r,function(Hr){tn(Hr,Ge,Fe)&&Ge.put(Ht.id,f.from(JSON.stringify(nr)),!0,function(En){tn(En,Ge,Fe)&&Ge.commit(Fe)})})}))})}})},d}(At),Xn=function(){this.store={}};Xn.prototype.name=function(){return Kn.Name},Xn.prototype.clear=function(){this.store={}},Xn.prototype.beginTransaction=function(d){return new yi(this)},Xn.prototype.get=function(d){return this.store[d]},Xn.prototype.put=function(d,k,h){return!h&&this.store.hasOwnProperty(d)?!1:(this.store[d]=k,!0)},Xn.prototype.del=function(d){delete this.store[d]};var Kn=function(ne){function d(){ne.call(this,{store:new Xn})}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.Create=function(h,Ae){Ae(null,new d)},d}(Es);Kn.Name="InMemory",Kn.Options={};var go=bn.indexedDB||bn.mozIndexedDB||bn.webkitIndexedDB||bn.msIndexedDB;function Re(ne,d){switch(d===void 0&&(d=ne.toString()),ne.name){case"NotFoundError":return new Ee(_e.ENOENT,d);case"QuotaExceededError":return new Ee(_e.ENOSPC,d);default:return new Ee(_e.EIO,d)}}function Le(ne,d,k){return d===void 0&&(d=_e.EIO),k===void 0&&(k=null),function(h){h.preventDefault(),ne(new Ee(d,k!==null?k:void 0))}}var ze=function(d,k){this.tx=d,this.store=k};ze.prototype.get=function(d,k){try{var h=this.store.get(d);h.onerror=Le(k),h.onsuccess=function(Ae){var Fe=Ae.target.result;Fe===void 0?k(null,Fe):k(null,Kt(Fe))}}catch(Ae){k(Re(Ae))}};var Qe=function(ne){function d(k,h){ne.call(this,k,h)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.put=function(h,Ae,Fe,Me){try{var Ge=ct(Ae),et;Fe?et=this.store.put(Ge,h):et=this.store.add(Ge,h),et.onerror=Le(Me),et.onsuccess=function(ft){Me(null,!0)}}catch(ft){Me(Re(ft))}},d.prototype.del=function(h,Ae){try{var Fe=this.store.delete(h);Fe.onerror=Le(Ae),Fe.onsuccess=function(Me){Ae()}}catch(Me){Ae(Re(Me))}},d.prototype.commit=function(h){setTimeout(h,0)},d.prototype.abort=function(h){var Ae=null;try{this.tx.abort()}catch(Fe){Ae=Re(Fe)}finally{h(Ae)}},d}(ze),$e=function(d,k){var h=this;k===void 0&&(k="browserfs"),this.storeName=k;var Ae=go.open(this.storeName,1);Ae.onupgradeneeded=function(Fe){var Me=Fe.target.result;Me.objectStoreNames.contains(h.storeName)&&Me.deleteObjectStore(h.storeName),Me.createObjectStore(h.storeName)},Ae.onsuccess=function(Fe){h.db=Fe.target.result,d(null,h)},Ae.onerror=Le(d,_e.EACCES)};$e.prototype.name=function(){return ot.Name+" - "+this.storeName},$e.prototype.clear=function(d){try{var k=this.db.transaction(this.storeName,"readwrite"),h=k.objectStore(this.storeName),Ae=h.clear();Ae.onsuccess=function(Fe){setTimeout(d,0)},Ae.onerror=Le(d)}catch(Fe){d(Re(Fe))}},$e.prototype.beginTransaction=function(d){d===void 0&&(d="readonly");var k=this.db.transaction(this.storeName,d),h=k.objectStore(this.storeName);if(d==="readwrite")return new Qe(k,h);if(d==="readonly")return new ze(k,h);throw new Ee(_e.EINVAL,"Invalid transaction type.")};var ot=function(ne){function d(k,h,Ae){var Fe=this;Ae===void 0&&(Ae=!0),ne.call(this),this.store=new $e(function(Me){Me?k(Me):Fe.init(Fe.store,function(Ge){k(Ge,Fe)})},h),Zt(Ae,d.Name,{storeName:h})}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.Create=function(h,Ae){new d(Ae,h.storeName,!1)},d.isAvailable=function(){try{return typeof go<"u"&&go.open("__browserfs_test__")!==null}catch{return!1}},d}(ws);ot.Name="IndexedDB",ot.Options={storeName:{type:"string",optional:!0,description:"The name of this file system. You can have multiple IndexedDB file systems operating at once, but each must have a different name."}};var _t=!1,wt;try{bn.localStorage.setItem("__test__",String.fromCharCode(55296)),_t=bn.localStorage.getItem("__test__")===String.fromCharCode(55296)}catch{_t=!1}wt=_t?"binary_string":"binary_string_ie",f.isEncoding(wt)||(wt="base64");var Rt=function(){};Rt.prototype.name=function(){return Tt.Name},Rt.prototype.clear=function(){bn.localStorage.clear()},Rt.prototype.beginTransaction=function(d){return new yi(this)},Rt.prototype.get=function(d){try{var k=bn.localStorage.getItem(d);if(k!==null)return f.from(k,wt)}catch{}},Rt.prototype.put=function(d,k,h){try{return!h&&bn.localStorage.getItem(d)!==null?!1:(bn.localStorage.setItem(d,k.toString(wt)),!0)}catch{throw new Ee(_e.ENOSPC,"LocalStorage is full.")}},Rt.prototype.del=function(d){try{bn.localStorage.removeItem(d)}catch(k){throw new Ee(_e.EIO,"Unable to delete key "+d+": "+k)}};var Tt=function(ne){function d(){ne.call(this,{store:new Rt})}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.Create=function(h,Ae){Ae(null,new d)},d.isAvailable=function(){return typeof bn.localStorage<"u"},d}(Es);Tt.Name="LocalStorage",Tt.Options={};var Lt=function(ne){function d(){ne.call(this),this.mountList=[],this.mntMap={},this.rootFs=new Kn}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.Create=function(h,Ae){var Fe=new d;Object.keys(h).forEach(function(Me){Fe.mount(Me,h[Me])}),Ae(null,Fe)},d.isAvailable=function(){return!0},d.prototype.mount=function(h,Ae){if(h[0]!=="/"&&(h="/"+h),h=Ie.resolve(h),this.mntMap[h])throw new Ee(_e.EINVAL,"Mount point "+h+" is already taken.");St(h,511,this.rootFs),this.mntMap[h]=Ae,this.mountList.push(h),this.mountList=this.mountList.sort(function(Fe,Me){return Me.length-Fe.length})},d.prototype.umount=function(h){var Ae=this;if(h[0]!=="/"&&(h="/"+h),h=Ie.resolve(h),!this.mntMap[h])throw new Ee(_e.EINVAL,"Mount point "+h+" is already unmounted.");for(delete this.mntMap[h],this.mountList.splice(this.mountList.indexOf(h),1);h!=="/"&&Ae.rootFs.readdirSync(h).length===0;)Ae.rootFs.rmdirSync(h),h=Ie.dirname(h)},d.prototype._getFs=function(h){for(var Ae=this,Fe=this.mountList,Me=Fe.length,Ge=0;Ge<Me;Ge++){var et=Fe[Ge];if(et.length<=h.length&&h.indexOf(et)===0)return h=h.substr(et.length>1?et.length:0),h===""&&(h="/"),{fs:Ae.mntMap[et],path:h}}return{fs:this.rootFs,path:h}},d.prototype.getName=function(){return d.Name},d.prototype.diskSpace=function(h,Ae){Ae(0,0)},d.prototype.isReadOnly=function(){return!1},d.prototype.supportsLinks=function(){return!1},d.prototype.supportsProps=function(){return!1},d.prototype.supportsSynch=function(){return!0},d.prototype.standardizeError=function(h,Ae,Fe){var Me=h.message.indexOf(Ae);return Me!==-1&&(h.message=h.message.substr(0,Me)+Fe+h.message.substr(Me+Ae.length),h.path=Fe),h},d.prototype.rename=function(h,Ae,Fe){var Me=this,Ge=this._getFs(h),et=this._getFs(Ae);return Ge.fs===et.fs?Ge.fs.rename(Ge.path,et.path,function(ft){ft&&Me.standardizeError(Me.standardizeError(ft,Ge.path,h),et.path,Ae),Fe(ft)}):nt.readFile(h,function(ft,kt){if(ft)return Fe(ft);nt.writeFile(Ae,kt,function(Ht){if(Ht)return Fe(Ht);nt.unlink(h,Fe)})})},d.prototype.renameSync=function(h,Ae){var Fe=this._getFs(h),Me=this._getFs(Ae);if(Fe.fs===Me.fs)try{return Fe.fs.renameSync(Fe.path,Me.path)}catch(et){throw this.standardizeError(this.standardizeError(et,Fe.path,h),Me.path,Ae),et}var Ge=nt.readFileSync(h);return nt.writeFileSync(Ae,Ge),nt.unlinkSync(h)},d.prototype.readdirSync=function(h){var Ae=this._getFs(h),Fe=null;if(Ae.fs!==this.rootFs)try{Fe=this.rootFs.readdirSync(h)}catch{}try{var Me=Ae.fs.readdirSync(Ae.path);return Fe===null?Me:Me.concat(Fe.filter(function(Ge){return Me.indexOf(Ge)===-1}))}catch(Ge){if(Fe===null)throw this.standardizeError(Ge,Ae.path,h);return Fe}},d.prototype.readdir=function(h,Ae){var Fe=this,Me=this._getFs(h);Me.fs.readdir(Me.path,function(Ge,et){if(Me.fs!==Fe.rootFs)try{var ft=Fe.rootFs.readdirSync(h);et?et=et.concat(ft.filter(function(kt){return et.indexOf(kt)===-1})):et=ft}catch{if(Ge)return Ae(Fe.standardizeError(Ge,Me.path,h))}else if(Ge)return Ae(Fe.standardizeError(Ge,Me.path,h));Ae(null,et)})},d.prototype.rmdirSync=function(h){var Ae=this._getFs(h);if(this._containsMountPt(h))throw Ee.ENOTEMPTY(h);try{Ae.fs.rmdirSync(Ae.path)}catch(Fe){throw this.standardizeError(Fe,Ae.path,h)}},d.prototype.rmdir=function(h,Ae){var Fe=this,Me=this._getFs(h);this._containsMountPt(h)?Ae(Ee.ENOTEMPTY(h)):Me.fs.rmdir(Me.path,function(Ge){Ae(Ge?Fe.standardizeError(Ge,Me.path,h):null)})},d.prototype._containsMountPt=function(h){for(var Ae=this.mountList,Fe=Ae.length,Me=0;Me<Fe;Me++){var Ge=Ae[Me];if(Ge.length>=h.length&&Ge.slice(0,h.length)===h)return!0}return!1},d}(At);Lt.Name="MountableFileSystem",Lt.Options={};function Ot(ne,d,k){return d?function(){for(var h=[],Ae=arguments.length;Ae--;)h[Ae]=arguments[Ae];var Fe=h[0],Me=this._getFs(Fe);h[0]=Me.path;try{return Me.fs[ne].apply(Me.fs,h)}catch(Ge){throw this.standardizeError(Ge,Me.path,Fe),Ge}}:function(){for(var h=this,Ae=[],Fe=arguments.length;Fe--;)Ae[Fe]=arguments[Fe];var Me=Ae[0],Ge=this._getFs(Me);if(Ae[0]=Ge.path,typeof Ae[Ae.length-1]=="function"){var et=Ae[Ae.length-1];Ae[Ae.length-1]=function(){for(var ft=[],kt=arguments.length;kt--;)ft[kt]=arguments[kt];ft.length>0&&ft[0]instanceof Ee&&h.standardizeError(ft[0],Ge.path,Me),et.apply(null,ft)}}return Ge.fs[ne].apply(Ge.fs,Ae)}}for(var Vt=[["exists","unlink","readlink"],["stat","mkdir","realpath","truncate"],["open","readFile","chmod","utimes"],["chown"],["writeFile","appendFile"]],Bt=0;Bt<Vt.length;Bt++)for(var Nt=Vt[Bt],Mt=0,qt=Nt;Mt<qt.length;Mt+=1){var Gt=qt[Mt];Lt.prototype[Gt]=Ot(Gt,!1),Lt.prototype[Gt+"Sync"]=Ot(Gt+"Sync",!0)}var Qt;if(typeof setImmediate<"u")Qt=setImmediate;else{var Yt=bn,rr=[],hr="zero-timeout-message",Ir=function(){if(typeof Yt.importScripts<"u"||!Yt.postMessage)return!1;var ne=!0,d=Yt.onmessage;return Yt.onmessage=function(){ne=!1},Yt.postMessage("","*"),Yt.onmessage=d,ne};if(Ir()){Qt=function(ne){rr.push(ne),Yt.postMessage(hr,"*")};var xr=function(ne){if(ne.source===self&&ne.data===hr&&(ne.stopPropagation?ne.stopPropagation():ne.cancelBubble=!0,rr.length>0)){var d=rr.shift();return d()}};Yt.addEventListener?Yt.addEventListener("message",xr,!0):Yt.attachEvent("onmessage",xr)}else if(Yt.MessageChannel){var br=new Yt.MessageChannel;br.port1.onmessage=function(ne){if(rr.length>0)return rr.shift()()},Qt=function(ne){rr.push(ne),br.port2.postMessage("")}}else Qt=function(ne){return setTimeout(ne,0)}}var Ar=Qt,lr=function(){this._locked=!1,this._waiters=[]};lr.prototype.lock=function(d){if(this._locked){this._waiters.push(d);return}this._locked=!0,d()},lr.prototype.unlock=function(){if(!this._locked)throw new Error("unlock of a non-locked mutex");var d=this._waiters.shift();if(d){Ar(d);return}this._locked=!1},lr.prototype.tryLock=function(){return this._locked?!1:(this._locked=!0,!0)},lr.prototype.isLocked=function(){return this._locked};var pr=function(d){this._fs=d,this._mu=new lr};pr.prototype.getName=function(){return"LockedFS<"+this._fs.getName()+">"},pr.prototype.getFSUnlocked=function(){return this._fs},pr.prototype.initialize=function(d){this._fs.initialize(d)},pr.prototype.diskSpace=function(d,k){this._fs.diskSpace(d,k)},pr.prototype.isReadOnly=function(){return this._fs.isReadOnly()},pr.prototype.supportsLinks=function(){return this._fs.supportsLinks()},pr.prototype.supportsProps=function(){return this._fs.supportsProps()},pr.prototype.supportsSynch=function(){return this._fs.supportsSynch()},pr.prototype.rename=function(d,k,h){var Ae=this;this._mu.lock(function(){Ae._fs.rename(d,k,function(Fe){Ae._mu.unlock(),h(Fe)})})},pr.prototype.renameSync=function(d,k){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.renameSync(d,k)},pr.prototype.stat=function(d,k,h){var Ae=this;this._mu.lock(function(){Ae._fs.stat(d,k,function(Fe,Me){Ae._mu.unlock(),h(Fe,Me)})})},pr.prototype.statSync=function(d,k){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.statSync(d,k)},pr.prototype.open=function(d,k,h,Ae){var Fe=this;this._mu.lock(function(){Fe._fs.open(d,k,h,function(Me,Ge){Fe._mu.unlock(),Ae(Me,Ge)})})},pr.prototype.openSync=function(d,k,h){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.openSync(d,k,h)},pr.prototype.unlink=function(d,k){var h=this;this._mu.lock(function(){h._fs.unlink(d,function(Ae){h._mu.unlock(),k(Ae)})})},pr.prototype.unlinkSync=function(d){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.unlinkSync(d)},pr.prototype.rmdir=function(d,k){var h=this;this._mu.lock(function(){h._fs.rmdir(d,function(Ae){h._mu.unlock(),k(Ae)})})},pr.prototype.rmdirSync=function(d){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.rmdirSync(d)},pr.prototype.mkdir=function(d,k,h){var Ae=this;this._mu.lock(function(){Ae._fs.mkdir(d,k,function(Fe){Ae._mu.unlock(),h(Fe)})})},pr.prototype.mkdirSync=function(d,k){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.mkdirSync(d,k)},pr.prototype.readdir=function(d,k){var h=this;this._mu.lock(function(){h._fs.readdir(d,function(Ae,Fe){h._mu.unlock(),k(Ae,Fe)})})},pr.prototype.readdirSync=function(d){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readdirSync(d)},pr.prototype.exists=function(d,k){var h=this;this._mu.lock(function(){h._fs.exists(d,function(Ae){h._mu.unlock(),k(Ae)})})},pr.prototype.existsSync=function(d){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.existsSync(d)},pr.prototype.realpath=function(d,k,h){var Ae=this;this._mu.lock(function(){Ae._fs.realpath(d,k,function(Fe,Me){Ae._mu.unlock(),h(Fe,Me)})})},pr.prototype.realpathSync=function(d,k){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.realpathSync(d,k)},pr.prototype.truncate=function(d,k,h){var Ae=this;this._mu.lock(function(){Ae._fs.truncate(d,k,function(Fe){Ae._mu.unlock(),h(Fe)})})},pr.prototype.truncateSync=function(d,k){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.truncateSync(d,k)},pr.prototype.readFile=function(d,k,h,Ae){var Fe=this;this._mu.lock(function(){Fe._fs.readFile(d,k,h,function(Me,Ge){Fe._mu.unlock(),Ae(Me,Ge)})})},pr.prototype.readFileSync=function(d,k,h){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readFileSync(d,k,h)},pr.prototype.writeFile=function(d,k,h,Ae,Fe,Me){var Ge=this;this._mu.lock(function(){Ge._fs.writeFile(d,k,h,Ae,Fe,function(et){Ge._mu.unlock(),Me(et)})})},pr.prototype.writeFileSync=function(d,k,h,Ae,Fe){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.writeFileSync(d,k,h,Ae,Fe)},pr.prototype.appendFile=function(d,k,h,Ae,Fe,Me){var Ge=this;this._mu.lock(function(){Ge._fs.appendFile(d,k,h,Ae,Fe,function(et){Ge._mu.unlock(),Me(et)})})},pr.prototype.appendFileSync=function(d,k,h,Ae,Fe){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.appendFileSync(d,k,h,Ae,Fe)},pr.prototype.chmod=function(d,k,h,Ae){var Fe=this;this._mu.lock(function(){Fe._fs.chmod(d,k,h,function(Me){Fe._mu.unlock(),Ae(Me)})})},pr.prototype.chmodSync=function(d,k,h){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chmodSync(d,k,h)},pr.prototype.chown=function(d,k,h,Ae,Fe){var Me=this;this._mu.lock(function(){Me._fs.chown(d,k,h,Ae,function(Ge){Me._mu.unlock(),Fe(Ge)})})},pr.prototype.chownSync=function(d,k,h,Ae){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chownSync(d,k,h,Ae)},pr.prototype.utimes=function(d,k,h,Ae){var Fe=this;this._mu.lock(function(){Fe._fs.utimes(d,k,h,function(Me){Fe._mu.unlock(),Ae(Me)})})},pr.prototype.utimesSync=function(d,k,h){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.utimesSync(d,k,h)},pr.prototype.link=function(d,k,h){var Ae=this;this._mu.lock(function(){Ae._fs.link(d,k,function(Fe){Ae._mu.unlock(),h(Fe)})})},pr.prototype.linkSync=function(d,k){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.linkSync(d,k)},pr.prototype.symlink=function(d,k,h,Ae){var Fe=this;this._mu.lock(function(){Fe._fs.symlink(d,k,h,function(Me){Fe._mu.unlock(),Ae(Me)})})},pr.prototype.symlinkSync=function(d,k,h){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.symlinkSync(d,k,h)},pr.prototype.readlink=function(d,k){var h=this;this._mu.lock(function(){h._fs.readlink(d,function(Ae,Fe){h._mu.unlock(),k(Ae,Fe)})})},pr.prototype.readlinkSync=function(d){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readlinkSync(d)};var Ur="/.deletedFiles.log";function Wr(ne){return 146|ne}function Vr(ne){return Ne.getFileFlag(ne)}var Jn=function(ne){function d(k,h,Ae,Fe,Me){ne.call(this,k,h,Ae,Fe,Me)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.sync=function(h){var Ae=this;if(!this.isDirty()){h(null);return}this._fs._syncAsync(this,function(Fe){Ae.resetDirty(),h(Fe)})},d.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},d.prototype.close=function(h){this.sync(h)},d.prototype.closeSync=function(){this.syncSync()},d}(xt),zr=function(ne){function d(k,h){if(ne.call(this),this._isInitialized=!1,this._initializeCallbacks=[],this._deletedFiles={},this._deleteLog="",this._deleteLogUpdatePending=!1,this._deleteLogUpdateNeeded=!1,this._deleteLogError=null,this._writable=k,this._readable=h,this._writable.isReadOnly())throw new Ee(_e.EINVAL,"Writable file system must be writable.")}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.isAvailable=function(){return!0},d.prototype.getOverlayedFileSystems=function(){return{readable:this._readable,writable:this._writable}},d.prototype._syncAsync=function(h,Ae){var Fe=this;this.createParentDirectoriesAsync(h.getPath(),function(Me){if(Me)return Ae(Me);Fe._writable.writeFile(h.getPath(),h.getBuffer(),null,Vr("w"),h.getStats().mode,Ae)})},d.prototype._syncSync=function(h){this.createParentDirectories(h.getPath()),this._writable.writeFileSync(h.getPath(),h.getBuffer(),null,Vr("w"),h.getStats().mode)},d.prototype.getName=function(){return An.Name},d.prototype.initialize=function(h){var Ae=this,Fe=this._initializeCallbacks,Me=function(Ge){Ae._isInitialized=!Ge,Ae._initializeCallbacks=[],Fe.forEach(function(et){return et(Ge)})};if(this._isInitialized)return h();Fe.push(h),Fe.length===1&&this._writable.readFile(Ur,"utf8",Vr("r"),function(Ge,et){if(Ge){if(Ge.errno!==_e.ENOENT)return Me(Ge)}else Ae._deleteLog=et;Ae._reparseDeletionLog(),Me()})},d.prototype.isReadOnly=function(){return!1},d.prototype.supportsSynch=function(){return this._readable.supportsSynch()&&this._writable.supportsSynch()},d.prototype.supportsLinks=function(){return!1},d.prototype.supportsProps=function(){return this._readable.supportsProps()&&this._writable.supportsProps()},d.prototype.getDeletionLog=function(){return this._deleteLog},d.prototype.restoreDeletionLog=function(h){this._deleteLog=h,this._reparseDeletionLog(),this.updateLog("")},d.prototype.rename=function(h,Ae,Fe){var Me=this;if(!(!this.checkInitAsync(Fe)||this.checkPathAsync(h,Fe)||this.checkPathAsync(Ae,Fe))){if(h===Ur||Ae===Ur)return Fe(Ee.EPERM("Cannot rename deletion log."));if(h===Ae)return Fe();this.stat(h,!1,function(Ge,et){return Ge?Fe(Ge):Me.stat(Ae,!1,function(ft,kt){var Ht=Me;function nr(vr){var Br=vr.shift();if(!Br)return Fe();var jr=Ie.resolve(h,Br),Hr=Ie.resolve(Ae,Br);Ht.rename(jr,Hr,function(En){if(En)return Fe(En);nr(vr)})}var _r=511;if(et.isDirectory()){if(ft)return ft.errno!==_e.ENOENT?Fe(ft):Me._writable.exists(h,function(vr){if(vr)return Me._writable.rename(h,Ae,Fe);Me._writable.mkdir(Ae,_r,function(Br){if(Br)return Fe(Br);Me._readable.readdir(h,function(jr,Hr){if(jr)return Fe();nr(Hr)})})});if(_r=kt.mode,!kt.isDirectory())return Fe(Ee.ENOTDIR(Ae));Me.readdir(Ae,function(vr,Br){if(Br&&Br.length)return Fe(Ee.ENOTEMPTY(Ae));Me._readable.readdir(h,function(jr,Hr){if(jr)return Fe();nr(Hr)})})}if(kt&&kt.isDirectory())return Fe(Ee.EISDIR(Ae));Me.readFile(h,null,Vr("r"),function(vr,Br){return vr?Fe(vr):Me.writeFile(Ae,Br,null,Vr("w"),et.mode,function(jr){return jr?Fe(jr):Me.unlink(h,Fe)})})})})}},d.prototype.renameSync=function(h,Ae){var Fe=this;if(this.checkInitialized(),this.checkPath(h),this.checkPath(Ae),h===Ur||Ae===Ur)throw Ee.EPERM("Cannot rename deletion log.");var Me=this.statSync(h,!1);if(Me.isDirectory()){if(h===Ae)return;var Ge=511;if(this.existsSync(Ae)){var et=this.statSync(Ae,!1);if(Ge=et.mode,et.isDirectory()){if(this.readdirSync(Ae).length>0)throw Ee.ENOTEMPTY(Ae)}else throw Ee.ENOTDIR(Ae)}this._writable.existsSync(h)?this._writable.renameSync(h,Ae):this._writable.existsSync(Ae)||this._writable.mkdirSync(Ae,Ge),this._readable.existsSync(h)&&this._readable.readdirSync(h).forEach(function(ft){Fe.renameSync(Ie.resolve(h,ft),Ie.resolve(Ae,ft))})}else{if(this.existsSync(Ae)&&this.statSync(Ae,!1).isDirectory())throw Ee.EISDIR(Ae);this.writeFileSync(Ae,this.readFileSync(h,null,Vr("r")),null,Vr("w"),Me.mode)}h!==Ae&&this.existsSync(h)&&this.unlinkSync(h)},d.prototype.stat=function(h,Ae,Fe){var Me=this;this.checkInitAsync(Fe)&&this._writable.stat(h,Ae,function(Ge,et){Ge&&Ge.errno===_e.ENOENT?(Me._deletedFiles[h]&&Fe(Ee.ENOENT(h)),Me._readable.stat(h,Ae,function(ft,kt){kt&&(kt=kt.clone(),kt.mode=Wr(kt.mode)),Fe(ft,kt)})):Fe(Ge,et)})},d.prototype.statSync=function(h,Ae){this.checkInitialized();try{return this._writable.statSync(h,Ae)}catch{if(this._deletedFiles[h])throw Ee.ENOENT(h);var Fe=this._readable.statSync(h,Ae).clone();return Fe.mode=Wr(Fe.mode),Fe}},d.prototype.open=function(h,Ae,Fe,Me){var Ge=this;!this.checkInitAsync(Me)||this.checkPathAsync(h,Me)||this.stat(h,!1,function(et,ft){if(ft)switch(Ae.pathExistsAction()){case Be.TRUNCATE_FILE:return Ge.createParentDirectoriesAsync(h,function(kt){if(kt)return Me(kt);Ge._writable.open(h,Ae,Fe,Me)});case Be.NOP:return Ge._writable.exists(h,function(kt){kt?Ge._writable.open(h,Ae,Fe,Me):(ft=ft.clone(),ft.mode=Fe,Ge._readable.readFile(h,null,Vr("r"),function(Ht,nr){if(Ht)return Me(Ht);ft.size===-1&&(ft.size=nr.length);var _r=new Jn(Ge,h,Ae,ft,nr);Me(null,_r)}))});default:return Me(Ee.EEXIST(h))}else switch(Ae.pathNotExistsAction()){case Be.CREATE_FILE:return Ge.createParentDirectoriesAsync(h,function(kt){return kt?Me(kt):Ge._writable.open(h,Ae,Fe,Me)});default:return Me(Ee.ENOENT(h))}})},d.prototype.openSync=function(h,Ae,Fe){if(this.checkInitialized(),this.checkPath(h),h===Ur)throw Ee.EPERM("Cannot open deletion log.");if(this.existsSync(h))switch(Ae.pathExistsAction()){case Be.TRUNCATE_FILE:return this.createParentDirectories(h),this._writable.openSync(h,Ae,Fe);case Be.NOP:if(this._writable.existsSync(h))return this._writable.openSync(h,Ae,Fe);var Me=this._readable.readFileSync(h,null,Vr("r")),Ge=this._readable.statSync(h,!1).clone();return Ge.mode=Fe,new Jn(this,h,Ae,Ge,Me);default:throw Ee.EEXIST(h)}else switch(Ae.pathNotExistsAction()){case Be.CREATE_FILE:return this.createParentDirectories(h),this._writable.openSync(h,Ae,Fe);default:throw Ee.ENOENT(h)}},d.prototype.unlink=function(h,Ae){var Fe=this;!this.checkInitAsync(Ae)||this.checkPathAsync(h,Ae)||this.exists(h,function(Me){if(!Me)return Ae(Ee.ENOENT(h));Fe._writable.exists(h,function(Ge){if(Ge)return Fe._writable.unlink(h,function(et){if(et)return Ae(et);Fe.exists(h,function(ft){ft&&Fe.deletePath(h),Ae(null)})});Fe.deletePath(h),Ae(null)})})},d.prototype.unlinkSync=function(h){if(this.checkInitialized(),this.checkPath(h),this.existsSync(h))this._writable.existsSync(h)&&this._writable.unlinkSync(h),this.existsSync(h)&&this.deletePath(h);else throw Ee.ENOENT(h)},d.prototype.rmdir=function(h,Ae){var Fe=this;if(this.checkInitAsync(Ae)){var Me=function(){Fe.readdir(h,function(Ge,et){if(Ge)return Ae(Ge);if(et.length)return Ae(Ee.ENOTEMPTY(h));Fe.deletePath(h),Ae(null)})};this.exists(h,function(Ge){if(!Ge)return Ae(Ee.ENOENT(h));Fe._writable.exists(h,function(et){et?Fe._writable.rmdir(h,function(ft){if(ft)return Ae(ft);Fe._readable.exists(h,function(kt){kt?Me():Ae()})}):Me()})})}},d.prototype.rmdirSync=function(h){if(this.checkInitialized(),this.existsSync(h)){if(this._writable.existsSync(h)&&this._writable.rmdirSync(h),this.existsSync(h)){if(this.readdirSync(h).length>0)throw Ee.ENOTEMPTY(h);this.deletePath(h)}}else throw Ee.ENOENT(h)},d.prototype.mkdir=function(h,Ae,Fe){var Me=this;this.checkInitAsync(Fe)&&this.exists(h,function(Ge){if(Ge)return Fe(Ee.EEXIST(h));Me.createParentDirectoriesAsync(h,function(et){if(et)return Fe(et);Me._writable.mkdir(h,Ae,Fe)})})},d.prototype.mkdirSync=function(h,Ae){if(this.checkInitialized(),this.existsSync(h))throw Ee.EEXIST(h);this.createParentDirectories(h),this._writable.mkdirSync(h,Ae)},d.prototype.readdir=function(h,Ae){var Fe=this;this.checkInitAsync(Ae)&&this.stat(h,!1,function(Me,Ge){if(Me)return Ae(Me);if(!Ge.isDirectory())return Ae(Ee.ENOTDIR(h));Fe._writable.readdir(h,function(et,ft){if(et&&et.code!=="ENOENT")return Ae(et);(et||!ft)&&(ft=[]),Fe._readable.readdir(h,function(kt,Ht){(kt||!Ht)&&(Ht=[]);var nr={},_r=ft.concat(Ht.filter(function(vr){return!Fe._deletedFiles[h+"/"+vr]})).filter(function(vr){var Br=!nr[vr];return nr[vr]=!0,Br});Ae(null,_r)})})})},d.prototype.readdirSync=function(h){var Ae=this;this.checkInitialized();var Fe=this.statSync(h,!1);if(!Fe.isDirectory())throw Ee.ENOTDIR(h);var Me=[];try{Me=Me.concat(this._writable.readdirSync(h))}catch{}try{Me=Me.concat(this._readable.readdirSync(h).filter(function(et){return!Ae._deletedFiles[h+"/"+et]}))}catch{}var Ge={};return Me.filter(function(et){var ft=!Ge[et];return Ge[et]=!0,ft})},d.prototype.exists=function(h,Ae){var Fe=this;this.checkInitialized(),this._writable.exists(h,function(Me){if(Me)return Ae(!0);Fe._readable.exists(h,function(Ge){Ae(Ge&&Fe._deletedFiles[h]!==!0)})})},d.prototype.existsSync=function(h){return this.checkInitialized(),this._writable.existsSync(h)||this._readable.existsSync(h)&&this._deletedFiles[h]!==!0},d.prototype.chmod=function(h,Ae,Fe,Me){var Ge=this;this.checkInitAsync(Me)&&this.operateOnWritableAsync(h,function(et){if(et)return Me(et);Ge._writable.chmod(h,Ae,Fe,Me)})},d.prototype.chmodSync=function(h,Ae,Fe){var Me=this;this.checkInitialized(),this.operateOnWritable(h,function(){Me._writable.chmodSync(h,Ae,Fe)})},d.prototype.chown=function(h,Ae,Fe,Me,Ge){var et=this;this.checkInitAsync(Ge)&&this.operateOnWritableAsync(h,function(ft){if(ft)return Ge(ft);et._writable.chown(h,Ae,Fe,Me,Ge)})},d.prototype.chownSync=function(h,Ae,Fe,Me){var Ge=this;this.checkInitialized(),this.operateOnWritable(h,function(){Ge._writable.chownSync(h,Ae,Fe,Me)})},d.prototype.utimes=function(h,Ae,Fe,Me){var Ge=this;this.checkInitAsync(Me)&&this.operateOnWritableAsync(h,function(et){if(et)return Me(et);Ge._writable.utimes(h,Ae,Fe,Me)})},d.prototype.utimesSync=function(h,Ae,Fe){var Me=this;this.checkInitialized(),this.operateOnWritable(h,function(){Me._writable.utimesSync(h,Ae,Fe)})},d.prototype.deletePath=function(h){this._deletedFiles[h]=!0,this.updateLog("d"+h+`
`)},d.prototype.updateLog=function(h){var Ae=this;this._deleteLog+=h,this._deleteLogUpdatePending?this._deleteLogUpdateNeeded=!0:(this._deleteLogUpdatePending=!0,this._writable.writeFile(Ur,this._deleteLog,"utf8",Ne.getFileFlag("w"),420,function(Fe){Ae._deleteLogUpdatePending=!1,Fe?Ae._deleteLogError=Fe:Ae._deleteLogUpdateNeeded&&(Ae._deleteLogUpdateNeeded=!1,Ae.updateLog(""))}))},d.prototype._reparseDeletionLog=function(){var h=this;this._deletedFiles={},this._deleteLog.split(`
`).forEach(function(Ae){h._deletedFiles[Ae.slice(1)]=Ae.slice(0,1)==="d"})},d.prototype.checkInitialized=function(){if(this._isInitialized){if(this._deleteLogError!==null){var h=this._deleteLogError;throw this._deleteLogError=null,h}}else throw new Ee(_e.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.")},d.prototype.checkInitAsync=function(h){if(this._isInitialized){if(this._deleteLogError!==null){var Ae=this._deleteLogError;return this._deleteLogError=null,h(Ae),!1}}else return h(new Ee(_e.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.")),!1;return!0},d.prototype.checkPath=function(h){if(h===Ur)throw Ee.EPERM(h)},d.prototype.checkPathAsync=function(h,Ae){return h===Ur?(Ae(Ee.EPERM(h)),!0):!1},d.prototype.createParentDirectoriesAsync=function(h,Ae){var Fe=Ie.dirname(h),Me=[],Ge=this;this._writable.stat(Fe,!1,et);function et(kt,Ht){kt?(Me.push(Fe),Fe=Ie.dirname(Fe),Ge._writable.stat(Fe,!1,et)):ft()}function ft(){if(!Me.length)return Ae();var kt=Me.pop();Ge._readable.stat(kt,!1,function(Ht,nr){if(!nr)return Ae();Ge._writable.mkdir(kt,nr.mode,function(_r){if(_r)return Ae(_r);ft()})})}},d.prototype.createParentDirectories=function(h){for(var Ae=this,Fe=Ie.dirname(h),Me=[];!this._writable.existsSync(Fe);)Me.push(Fe),Fe=Ie.dirname(Fe);Me=Me.reverse(),Me.forEach(function(Ge){Ae._writable.mkdirSync(Ge,Ae.statSync(Ge,!1).mode)})},d.prototype.operateOnWritable=function(h,Ae){if(this.existsSync(h))this._writable.existsSync(h)||this.copyToWritable(h),Ae();else throw Ee.ENOENT(h)},d.prototype.operateOnWritableAsync=function(h,Ae){var Fe=this;this.exists(h,function(Me){if(!Me)return Ae(Ee.ENOENT(h));Fe._writable.exists(h,function(Ge){if(Ge)Ae();else return Fe.copyToWritableAsync(h,Ae)})})},d.prototype.copyToWritable=function(h){var Ae=this.statSync(h,!1);Ae.isDirectory()?this._writable.mkdirSync(h,Ae.mode):this.writeFileSync(h,this._readable.readFileSync(h,null,Vr("r")),null,Vr("w"),this.statSync(h,!1).mode)},d.prototype.copyToWritableAsync=function(h,Ae){var Fe=this;this.stat(h,!1,function(Me,Ge){if(Me)return Ae(Me);if(Ge.isDirectory())return Fe._writable.mkdir(h,Ge.mode,Ae);Fe._readable.readFile(h,null,Vr("r"),function(et,ft){if(et)return Ae(et);Fe.writeFile(h,ft,null,Vr("w"),Ge.mode,Ae)})})},d}(At),An=function(ne){function d(k,h,Ae){Ae===void 0&&(Ae=!0),ne.call(this,new zr(k,h)),Zt(Ae,d.Name,{readable:"readable file system",writable:"writable file system"})}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.Create=function(h,Ae){try{var Fe=new d(h.writable,h.readable,!1);Fe.initialize(function(Me){Ae(Me,Fe)},!1)}catch(Me){Ae(Me)}},d.isAvailable=function(){return zr.isAvailable()},d.prototype.initialize=function(h,Ae){Ae===void 0&&(Ae=!0),Ae&&console.warn("[OverlayFS] OverlayFS.initialize() is deprecated and will be removed in the next major release. Please use 'OverlayFS.Create({readable: readable file system instance, writable: writable file system instance}, cb)' to create and initialize OverlayFS instances."),ne.prototype.initialize.call(this,h)},d.prototype.getOverlayedFileSystems=function(){return ne.prototype.getFSUnlocked.call(this).getOverlayedFileSystems()},d.prototype.unwrap=function(){return ne.prototype.getFSUnlocked.call(this)},d}(pr);An.Name="OverlayFS",An.Options={writable:{type:"object",description:"The file system to write modified files to."},readable:{type:"object",description:"The file system that initially populates this file system."}};var Kr;(function(ne){ne[ne.CB=0]="CB",ne[ne.FD=1]="FD",ne[ne.API_ERROR=2]="API_ERROR",ne[ne.STATS=3]="STATS",ne[ne.PROBE=4]="PROBE",ne[ne.FILEFLAG=5]="FILEFLAG",ne[ne.BUFFER=6]="BUFFER",ne[ne.ERROR=7]="ERROR"})(Kr||(Kr={}));var ta=function(){this._callbacks={},this._nextId=0};ta.prototype.toRemoteArg=function(d){var k=this._nextId++;return this._callbacks[k]=d,{type:Kr.CB,id:k}},ta.prototype.toLocalArg=function(d){var k=this._callbacks[d];return delete this._callbacks[d],k};var Rn=function(){this._fileDescriptors={},this._nextId=0};Rn.prototype.toRemoteArg=function(d,k,h,Ae){var Fe=this._nextId++,Me,Ge;this._fileDescriptors[Fe]=d,d.stat(function(et,ft){et?Ae(et):(Ge=Ca(ft.toBuffer()),h.isReadable()?d.read(f.alloc(ft.size),0,ft.size,0,function(kt,Ht,nr){kt?Ae(kt):(Me=Ca(nr),Ae(null,{type:Kr.FD,id:Fe,data:Me,stat:Ge,path:k,flag:h.getFlagString()}))}):Ae(null,{type:Kr.FD,id:Fe,data:new ArrayBuffer(0),stat:Ge,path:k,flag:h.getFlagString()}))})},Rn.prototype.applyFdAPIRequest=function(d,k){var h=this,Ae=d.args[0];this._applyFdChanges(Ae,function(Fe,Me){Fe?k(Fe):Me[d.method](function(Ge){d.method==="close"&&delete h._fileDescriptors[Ae.id],k(Ge)})})},Rn.prototype._applyFdChanges=function(d,k){var h=this._fileDescriptors[d.id],Ae=ka(d.data),Fe=Ue.fromBuffer(ka(d.stat)),Me=Ne.getFileFlag(d.flag);Me.isWriteable()?h.write(Ae,0,Ae.length,Me.isAppendable()?h.getPos():0,function(Ge){function et(){h.stat(function(ft,kt){ft?k(ft):kt.mode!==Fe.mode?h.chmod(Fe.mode,function(Ht){k(Ht,h)}):k(ft,h)})}Ge?k(Ge):Me.isAppendable()?et():h.truncate(Ae.length,function(){et()})}):k(null,h)};function hi(ne){return{type:Kr.API_ERROR,errorData:Ca(ne.writeToBuffer())}}function yo(ne){return Ee.fromBuffer(ka(ne.errorData))}function pu(ne){return{type:Kr.ERROR,name:ne.name,message:ne.message,stack:ne.stack}}function _u(ne){var d=bn[ne.name];typeof d!="function"&&(d=Error);var k=new d(ne.message);return k.stack=ne.stack,k}function vu(ne){return{type:Kr.STATS,statsData:Ca(ne.toBuffer())}}function mu(ne){return Ue.fromBuffer(ka(ne.statsData))}function gu(ne){return{type:Kr.FILEFLAG,flagStr:ne.getFlagString()}}function yu(ne){return Ne.getFileFlag(ne.flagStr)}function Ca(ne){return ct(ne)}function ka(ne){return Kt(ne)}function bu(ne){return{type:Kr.BUFFER,data:Ca(ne)}}function Eu(ne){return ka(ne.data)}function Hl(ne){return ne&&typeof ne=="object"&&ne.hasOwnProperty("browserfsMessage")&&ne.browserfsMessage}function Wl(ne){return ne&&typeof ne=="object"&&ne.hasOwnProperty("browserfsMessage")&&ne.browserfsMessage}var wu=function(ne){function d(k,h,Ae,Fe,Me,Ge){ne.call(this,k,h,Ae,Fe,Ge),this._remoteFdId=Me}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.getRemoteFdId=function(){return this._remoteFdId},d.prototype.toRemoteArg=function(){return{type:Kr.FD,id:this._remoteFdId,data:Ca(this.getBuffer()),stat:Ca(this.getStats().toBuffer()),path:this.getPath(),flag:this.getFlag().getFlagString()}},d.prototype.sync=function(h){this._syncClose("sync",h)},d.prototype.close=function(h){this._syncClose("close",h)},d.prototype._syncClose=function(h,Ae){var Fe=this;this.isDirty()?this._fs.syncClose(h,this,function(Me){Me||Fe.resetDirty(),Ae(Me)}):Ae()},d}(xt),T0=function(ne){function d(k,h){var Ae=this;h===void 0&&(h=!0),ne.call(this),this._callbackConverter=new ta,this._isInitialized=!1,this._isReadOnly=!1,this._supportLinks=!1,this._supportProps=!1,this._worker=k,Zt(h,d.Name,{worker:"Web Worker instance"}),this._worker.addEventListener("message",function(Fe){var Me=Fe.data;if(Wl(Me)){var Ge,et=Me.args,ft=new Array(et.length);for(Ge=0;Ge<ft.length;Ge++)ft[Ge]=Ae._argRemote2Local(et[Ge]);Ae._callbackConverter.toLocalArg(Me.cbId).apply(null,ft)}})}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.Create=function(h,Ae){var Fe=new d(h.worker,!1);Fe.initialize(function(){Ae(null,Fe)})},d.isAvailable=function(){return typeof importScripts<"u"||typeof Worker<"u"},d.attachRemoteListener=function(h){var Ae=new Rn;function Fe(Ge,et,ft){switch(typeof Ge){case"object":Ge instanceof Ue?ft(null,vu(Ge)):Ge instanceof Ee?ft(null,hi(Ge)):Ge instanceof ht?ft(null,Ae.toRemoteArg(Ge,et[0],et[1],ft)):Ge instanceof Ne?ft(null,gu(Ge)):Ge instanceof f?ft(null,bu(Ge)):Ge instanceof Error?ft(null,pu(Ge)):ft(null,Ge);break;default:ft(null,Ge);break}}function Me(Ge,et){if(!Ge)return Ge;switch(typeof Ge){case"object":if(typeof Ge.type=="number"){var ft=Ge;switch(ft.type){case Kr.CB:var kt=Ge.id;return function(){var Ht=arguments,nr,_r=new Array(arguments.length),vr,Br=arguments.length;function jr(Hr){Br>0&&(Br=-1,vr={browserfsMessage:!0,cbId:kt,args:[hi(Hr)]},h.postMessage(vr))}for(nr=0;nr<arguments.length;nr++)(function(Hr,En){Fe(En,et,function(Mn,Ri){_r[Hr]=Ri,Mn?jr(Mn):--Br===0&&(vr={browserfsMessage:!0,cbId:kt,args:_r},h.postMessage(vr))})})(nr,Ht[nr]);arguments.length===0&&(vr={browserfsMessage:!0,cbId:kt,args:_r},h.postMessage(vr))};case Kr.API_ERROR:return yo(ft);case Kr.STATS:return mu(ft);case Kr.FILEFLAG:return yu(ft);case Kr.BUFFER:return Eu(ft);case Kr.ERROR:return _u(ft);default:return Ge}}else return Ge;default:return Ge}}h.addEventListener("message",function(Ge){var et=Ge.data;if(Hl(et)){var ft=et.args,kt=new Array(ft.length);switch(et.method){case"close":case"sync":(function(){var _r=ft[1];Ae.applyFdAPIRequest(et,function(vr){var Br={browserfsMessage:!0,cbId:_r.id,args:vr?[hi(vr)]:[]};h.postMessage(Br)})})();break;case"probe":(function(){var _r=nt.getRootFS(),vr=ft[1],Br={type:Kr.PROBE,isReadOnly:_r.isReadOnly(),supportsLinks:_r.supportsLinks(),supportsProps:_r.supportsProps()},jr={browserfsMessage:!0,cbId:vr.id,args:[Br]};h.postMessage(jr)})();break;default:for(var Ht=0;Ht<ft.length;Ht++)kt[Ht]=Me(ft[Ht],kt);var nr=nt.getRootFS();nr[et.method].apply(nr,kt);break}}})},d.prototype.getName=function(){return d.Name},d.prototype.initialize=function(h){var Ae=this;if(this._isInitialized)h();else{var Fe={browserfsMessage:!0,method:"probe",args:[this._argLocal2Remote(sr()),this._callbackConverter.toRemoteArg(function(Me){Ae._isInitialized=!0,Ae._isReadOnly=Me.isReadOnly,Ae._supportLinks=Me.supportsLinks,Ae._supportProps=Me.supportsProps,h()})]};this._worker.postMessage(Fe)}},d.prototype.isReadOnly=function(){return this._isReadOnly},d.prototype.supportsSynch=function(){return!1},d.prototype.supportsLinks=function(){return this._supportLinks},d.prototype.supportsProps=function(){return this._supportProps},d.prototype.rename=function(h,Ae,Fe){this._rpc("rename",arguments)},d.prototype.stat=function(h,Ae,Fe){this._rpc("stat",arguments)},d.prototype.open=function(h,Ae,Fe,Me){this._rpc("open",arguments)},d.prototype.unlink=function(h,Ae){this._rpc("unlink",arguments)},d.prototype.rmdir=function(h,Ae){this._rpc("rmdir",arguments)},d.prototype.mkdir=function(h,Ae,Fe){this._rpc("mkdir",arguments)},d.prototype.readdir=function(h,Ae){this._rpc("readdir",arguments)},d.prototype.exists=function(h,Ae){this._rpc("exists",arguments)},d.prototype.realpath=function(h,Ae,Fe){this._rpc("realpath",arguments)},d.prototype.truncate=function(h,Ae,Fe){this._rpc("truncate",arguments)},d.prototype.readFile=function(h,Ae,Fe,Me){this._rpc("readFile",arguments)},d.prototype.writeFile=function(h,Ae,Fe,Me,Ge,et){this._rpc("writeFile",arguments)},d.prototype.appendFile=function(h,Ae,Fe,Me,Ge,et){this._rpc("appendFile",arguments)},d.prototype.chmod=function(h,Ae,Fe,Me){this._rpc("chmod",arguments)},d.prototype.chown=function(h,Ae,Fe,Me,Ge){this._rpc("chown",arguments)},d.prototype.utimes=function(h,Ae,Fe,Me){this._rpc("utimes",arguments)},d.prototype.link=function(h,Ae,Fe){this._rpc("link",arguments)},d.prototype.symlink=function(h,Ae,Fe,Me){this._rpc("symlink",arguments)},d.prototype.readlink=function(h,Ae){this._rpc("readlink",arguments)},d.prototype.syncClose=function(h,Ae,Fe){this._worker.postMessage({browserfsMessage:!0,method:h,args:[Ae.toRemoteArg(),this._callbackConverter.toRemoteArg(Fe)]})},d.prototype._argRemote2Local=function(h){if(!h)return h;switch(typeof h){case"object":if(typeof h.type=="number"){var Ae=h;switch(Ae.type){case Kr.API_ERROR:return yo(Ae);case Kr.FD:var Fe=Ae;return new wu(this,Fe.path,Ne.getFileFlag(Fe.flag),Ue.fromBuffer(ka(Fe.stat)),Fe.id,ka(Fe.data));case Kr.STATS:return mu(Ae);case Kr.FILEFLAG:return yu(Ae);case Kr.BUFFER:return Eu(Ae);case Kr.ERROR:return _u(Ae);default:return h}}else return h;default:return h}},d.prototype._rpc=function(h,Ae){for(var Fe=this,Me=new Array(Ae.length),Ge=0;Ge<Ae.length;Ge++)Me[Ge]=Fe._argLocal2Remote(Ae[Ge]);var et={browserfsMessage:!0,method:h,args:Me};this._worker.postMessage(et)},d.prototype._argLocal2Remote=function(h){if(!h)return h;switch(typeof h){case"object":return h instanceof Ue?vu(h):h instanceof Ee?hi(h):h instanceof wu?h.toRemoteArg():h instanceof Ne?gu(h):h instanceof f?bu(h):h instanceof Error?pu(h):"Unknown argument";case"function":return this._callbackConverter.toRemoteArg(h);default:return h}},d}(At);T0.Name="WorkerFS",T0.Options={worker:{type:"object",description:"The target worker that you want to connect to, or the current worker if in a worker context.",validator:function(ne,d){ne.postMessage?d():d(new Ee(_e.EINVAL,"option must be a Web Worker instance."))}}};function Kl(ne,d,k){var h=new XMLHttpRequest;h.open("GET",ne,!0);var Ae=!0;switch(d){case"buffer":h.responseType="arraybuffer";break;case"json":try{h.responseType="json",Ae=h.responseType==="json"}catch{Ae=!1}break;default:return k(new Ee(_e.EINVAL,"Invalid download type: "+d))}h.onreadystatechange=function(Fe){if(h.readyState===4)if(h.status===200)switch(d){case"buffer":return k(null,h.response?f.from(h.response):sr());case"json":return Ae?k(null,h.response):k(null,JSON.parse(h.responseText))}else return k(new Ee(h.status,"XHR error."))},h.send()}function Gl(ne,d){var k=new XMLHttpRequest;k.open("GET",ne,!1);var h=null,Ae=null;if(k.overrideMimeType("text/plain; charset=x-user-defined"),k.onreadystatechange=function(Fe){if(k.readyState===4)if(k.status===200)switch(d){case"buffer":var Me=k.responseText;h=f.alloc(Me.length);for(var Ge=0;Ge<Me.length;Ge++)h[Ge]=Me.charCodeAt(Ge);return;case"json":h=JSON.parse(k.responseText);return}else{Ae=new Ee(k.status,"XHR error.");return}},k.send(),Ae)throw Ae;return h}function Yl(ne,d){var k=new XMLHttpRequest;switch(k.open("GET",ne,!1),d){case"buffer":k.responseType="arraybuffer";break;case"json":break;default:throw new Ee(_e.EINVAL,"Invalid download type: "+d)}var h,Ae;if(k.onreadystatechange=function(Fe){if(k.readyState===4)if(k.status===200)switch(d){case"buffer":h=f.from(k.response);break;case"json":h=JSON.parse(k.response);break}else Ae=new Ee(k.status,"XHR error.")},k.send(),Ae)throw Ae;return h}function Su(ne,d,k){var h=new XMLHttpRequest;h.open("HEAD",d,ne),h.onreadystatechange=function(Ae){if(h.readyState===4)if(h.status===200)try{return k(null,parseInt(h.getResponseHeader("Content-Length")||"-1",10))}catch{return k(new Ee(_e.EIO,"XHR HEAD error: Could not read content-length."))}else return k(new Ee(h.status,"XHR HEAD error."))},h.send()}var Au=Kl,Ql=jt&&typeof Blob<"u"?Yl:Gl;function Xl(ne){var d=-1;return Su(!1,ne,function(k,h){if(k)throw k;d=h}),d}function Jl(ne,d){Su(!0,ne,d)}var xi=function(){this._index={},this.addPath("/",new Zn)};xi.fromListing=function(d){var k=new xi,h=new Zn;k._index["/"]=h;for(var Ae=[["",d,h]];Ae.length>0;){var Fe=void 0,Me=Ae.pop(),Ge=Me[0],et=Me[1],ft=Me[2];for(var kt in et)if(et.hasOwnProperty(kt)){var Ht=et[kt],nr=Ge+"/"+kt;Ht?(k._index[nr]=Fe=new Zn,Ae.push([nr,Ht,Fe])):Fe=new bo(new Ue(Ve.FILE,-1,365)),ft&&(ft._ls[kt]=Fe)}}return k},xi.prototype.fileIterator=function(d){var k=this;for(var h in k._index)if(k._index.hasOwnProperty(h))for(var Ae=k._index[h],Fe=Ae.getListing(),Me=0,Ge=Fe;Me<Ge.length;Me+=1){var et=Ge[Me],ft=Ae.getItem(et);zi(ft)&&d(ft.getData())}},xi.prototype.addPath=function(d,k){if(!k)throw new Error("Inode must be specified");if(d[0]!=="/")throw new Error("Path must be absolute, got: "+d);if(this._index.hasOwnProperty(d))return this._index[d]===k;var h=this._split_path(d),Ae=h[0],Fe=h[1],Me=this._index[Ae];return Me===void 0&&d!=="/"&&(Me=new Zn,!this.addPath(Ae,Me))||d!=="/"&&!Me.addItem(Fe,k)?!1:(ra(k)&&(this._index[d]=k),!0)},xi.prototype.addPathFast=function(d,k){var h=d.lastIndexOf("/"),Ae=h===0?"/":d.substring(0,h),Fe=d.substring(h+1),Me=this._index[Ae];return Me===void 0&&(Me=new Zn,this.addPathFast(Ae,Me)),Me.addItem(Fe,k)?(k.isDir()&&(this._index[d]=k),!0):!1},xi.prototype.removePath=function(d){var k=this,h=this._split_path(d),Ae=h[0],Fe=h[1],Me=this._index[Ae];if(Me===void 0)return null;var Ge=Me.remItem(Fe);if(Ge===null)return null;if(ra(Ge)){for(var et=Ge.getListing(),ft=0,kt=et;ft<kt.length;ft+=1){var Ht=kt[ft];k.removePath(d+"/"+Ht)}d!=="/"&&delete this._index[d]}return Ge},xi.prototype.ls=function(d){var k=this._index[d];return k===void 0?null:k.getListing()},xi.prototype.getInode=function(d){var k=this._split_path(d),h=k[0],Ae=k[1],Fe=this._index[h];return Fe===void 0?null:h===d?Fe:Fe.getItem(Ae)},xi.prototype._split_path=function(d){var k=Ie.dirname(d),h=d.substr(k.length+(k==="/"?0:1));return[k,h]};var bo=function(d){this.data=d};bo.prototype.isFile=function(){return!0},bo.prototype.isDir=function(){return!1},bo.prototype.getData=function(){return this.data},bo.prototype.setData=function(d){this.data=d};var Zn=function(d){d===void 0&&(d=null),this.data=d,this._ls={}};Zn.prototype.isFile=function(){return!1},Zn.prototype.isDir=function(){return!0},Zn.prototype.getData=function(){return this.data},Zn.prototype.getStats=function(){return new Ue(Ve.DIRECTORY,4096,365)},Zn.prototype.getListing=function(){return Object.keys(this._ls)},Zn.prototype.getItem=function(d){var k=this._ls[d];return k||null},Zn.prototype.addItem=function(d,k){return d in this._ls?!1:(this._ls[d]=k,!0)},Zn.prototype.remItem=function(d){var k=this._ls[d];return k===void 0?null:(delete this._ls[d],k)};function zi(ne){return!!ne&&ne.isFile()}function ra(ne){return!!ne&&ne.isDir()}function Zl(ne,d,k){try{k(null,ne.toString(d))}catch(h){k(h)}}var D0=function(ne){function d(k,h,Ae){h===void 0&&(h=""),Ae===void 0&&(Ae=!0),ne.call(this),k||(k="index.json"),h.length>0&&h.charAt(h.length-1)!=="/"&&(h=h+"/"),this.prefixUrl=h;var Fe=null;if(typeof k=="string"){if(Fe=this._requestFileSync(k,"json"),!Fe)throw new Error("Unable to find listing at URL: ${listingUrlOrObj}")}else Fe=k;Zt(Ae,d.Name,{index:typeof k=="string"?k:"file index as an object",baseUrl:h}),this._index=xi.fromListing(Fe)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.Create=function(h,Ae){h.index===void 0&&(h.index="index.json"),typeof h.index=="string"?d.FromURL(h.index,Ae,h.baseUrl,!1):Ae(null,new d(h.index,h.baseUrl,!1))},d.isAvailable=function(){return typeof XMLHttpRequest<"u"&&XMLHttpRequest!==null},d.FromURL=function(h,Ae,Fe,Me){Fe===void 0&&(Fe=h.slice(0,h.lastIndexOf("/")+1)),Me===void 0&&(Me=!0),Me&&console.warn(`[XmlHttpRequest] XmlHttpRequest.FromURL() is deprecated and will be removed in the next major release. Please use 'XmlHttpRequest.Create({ index: "`+h+'", baseUrl: "'+Fe+`" }, cb)' instead.`),Au(h,"json",function(Ge,et){Ge?Ae(Ge):Ae(null,new d(et,Fe,!1))})},d.prototype.empty=function(){this._index.fileIterator(function(h){h.fileData=null})},d.prototype.getName=function(){return d.Name},d.prototype.diskSpace=function(h,Ae){Ae(0,0)},d.prototype.isReadOnly=function(){return!0},d.prototype.supportsLinks=function(){return!1},d.prototype.supportsProps=function(){return!1},d.prototype.supportsSynch=function(){return!0},d.prototype.preloadFile=function(h,Ae){var Fe=this._index.getInode(h);if(zi(Fe)){if(Fe===null)throw Ee.ENOENT(h);var Me=Fe.getData();Me.size=Ae.length,Me.fileData=Ae}else throw Ee.EISDIR(h)},d.prototype.stat=function(h,Ae,Fe){var Me=this._index.getInode(h);if(Me===null)return Fe(Ee.ENOENT(h));var Ge;zi(Me)?(Ge=Me.getData(),Ge.size<0?this._requestFileSizeAsync(h,function(et,ft){if(et)return Fe(et);Ge.size=ft,Fe(null,Ge.clone())}):Fe(null,Ge.clone())):ra(Me)?(Ge=Me.getStats(),Fe(null,Ge)):Fe(Ee.FileError(_e.EINVAL,h))},d.prototype.statSync=function(h,Ae){var Fe=this._index.getInode(h);if(Fe===null)throw Ee.ENOENT(h);var Me;if(zi(Fe))Me=Fe.getData(),Me.size<0&&(Me.size=this._requestFileSizeSync(h));else if(ra(Fe))Me=Fe.getStats();else throw Ee.FileError(_e.EINVAL,h);return Me},d.prototype.open=function(h,Ae,Fe,Me){if(Ae.isWriteable())return Me(new Ee(_e.EPERM,h));var Ge=this,et=this._index.getInode(h);if(et===null)return Me(Ee.ENOENT(h));if(zi(et)){var ft=et.getData();switch(Ae.pathExistsAction()){case Be.THROW_EXCEPTION:case Be.TRUNCATE_FILE:return Me(Ee.EEXIST(h));case Be.NOP:if(ft.fileData)return Me(null,new Dt(Ge,h,Ae,ft.clone(),ft.fileData));this._requestFileAsync(h,"buffer",function(kt,Ht){return kt?Me(kt):(ft.size=Ht.length,ft.fileData=Ht,Me(null,new Dt(Ge,h,Ae,ft.clone(),Ht)))});break;default:return Me(new Ee(_e.EINVAL,"Invalid FileMode object."))}}else return Me(Ee.EISDIR(h))},d.prototype.openSync=function(h,Ae,Fe){if(Ae.isWriteable())throw new Ee(_e.EPERM,h);var Me=this._index.getInode(h);if(Me===null)throw Ee.ENOENT(h);if(zi(Me)){var Ge=Me.getData();switch(Ae.pathExistsAction()){case Be.THROW_EXCEPTION:case Be.TRUNCATE_FILE:throw Ee.EEXIST(h);case Be.NOP:if(Ge.fileData)return new Dt(this,h,Ae,Ge.clone(),Ge.fileData);var et=this._requestFileSync(h,"buffer");return Ge.size=et.length,Ge.fileData=et,new Dt(this,h,Ae,Ge.clone(),et);default:throw new Ee(_e.EINVAL,"Invalid FileMode object.")}}else throw Ee.EISDIR(h)},d.prototype.readdir=function(h,Ae){try{Ae(null,this.readdirSync(h))}catch(Fe){Ae(Fe)}},d.prototype.readdirSync=function(h){var Ae=this._index.getInode(h);if(Ae===null)throw Ee.ENOENT(h);if(ra(Ae))return Ae.getListing();throw Ee.ENOTDIR(h)},d.prototype.readFile=function(h,Ae,Fe,Me){var Ge=Me;this.open(h,Fe,420,function(et,ft){if(et)return Me(et);Me=function(nr,_r){ft.close(function(vr){return nr||(nr=vr),Ge(nr,_r)})};var kt=ft,Ht=kt.getBuffer();Ae===null?Me(et,fr(Ht)):Zl(Ht,Ae,Me)})},d.prototype.readFileSync=function(h,Ae,Fe){var Me=this.openSync(h,Fe,420);try{var Ge=Me,et=Ge.getBuffer();return Ae===null?fr(et):et.toString(Ae)}finally{Me.closeSync()}},d.prototype.getXhrPath=function(h){return h.charAt(0)==="/"&&(h=h.slice(1)),this.prefixUrl+h},d.prototype._requestFileAsync=function(h,Ae,Fe){Au(this.getXhrPath(h),Ae,Fe)},d.prototype._requestFileSync=function(h,Ae){return Ql(this.getXhrPath(h),Ae)},d.prototype._requestFileSizeAsync=function(h,Ae){Jl(this.getXhrPath(h),Ae)},d.prototype._requestFileSizeSync=function(h){return Xl(this.getXhrPath(h))},d}(At);D0.Name="XmlHttpRequest",D0.Options={index:{type:["string","object"],optional:!0,description:"URL to a file index as a JSON file or the file index object itself, generated with the make_xhrfs_index script. Defaults to `index.json`."},baseUrl:{type:"string",optional:!0,description:"Used as the URL prefix for fetched files. Default: Fetch files relative to the index."}};var Oa=function(){};Oa.str2byte=function(d,k){for(var h=d.length>k.length?k.length:d.length,Ae=0;Ae<h;Ae++){var Fe=d.charCodeAt(Ae);if(Fe>127){var Me=Oa.extendedChars.indexOf(d.charAt(Ae));Me>-1&&(Fe=Me+128)}k[Fe]=Ae}return h},Oa.byte2str=function(d){for(var k=new Array(d.length),h=0;h<d.length;h++){var Ae=d[h];Ae>127?k[h]=Oa.extendedChars[Ae-128]:k[h]=String.fromCharCode(Ae)}return k.join("")},Oa.byteLength=function(d){return d.length},Oa.extendedChars=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","_","_","_","","","","","","","","","+","+","","","+","+","-","-","+","-","+","","","+","+","-","-","","-","+","","","","","","","i","","","","+","+","_","_","","","_","","","","","","","","","","","","","","","","","","","_","","","","","","","","","","","","_"," "];var $l=c(31).inflateRaw,Iu={},Cu;(function(ne){ne[ne.MSDOS=0]="MSDOS",ne[ne.AMIGA=1]="AMIGA",ne[ne.OPENVMS=2]="OPENVMS",ne[ne.UNIX=3]="UNIX",ne[ne.VM_CMS=4]="VM_CMS",ne[ne.ATARI_ST=5]="ATARI_ST",ne[ne.OS2_HPFS=6]="OS2_HPFS",ne[ne.MAC=7]="MAC",ne[ne.Z_SYSTEM=8]="Z_SYSTEM",ne[ne.CP_M=9]="CP_M",ne[ne.NTFS=10]="NTFS",ne[ne.MVS=11]="MVS",ne[ne.VSE=12]="VSE",ne[ne.ACORN_RISC=13]="ACORN_RISC",ne[ne.VFAT=14]="VFAT",ne[ne.ALT_MVS=15]="ALT_MVS",ne[ne.BEOS=16]="BEOS",ne[ne.TANDEM=17]="TANDEM",ne[ne.OS_400=18]="OS_400",ne[ne.OSX=19]="OSX"})(Cu||(Cu={}));var Eo;(function(ne){ne[ne.STORED=0]="STORED",ne[ne.SHRUNK=1]="SHRUNK",ne[ne.REDUCED_1=2]="REDUCED_1",ne[ne.REDUCED_2=3]="REDUCED_2",ne[ne.REDUCED_3=4]="REDUCED_3",ne[ne.REDUCED_4=5]="REDUCED_4",ne[ne.IMPLODE=6]="IMPLODE",ne[ne.DEFLATE=8]="DEFLATE",ne[ne.DEFLATE64=9]="DEFLATE64",ne[ne.TERSE_OLD=10]="TERSE_OLD",ne[ne.BZIP2=12]="BZIP2",ne[ne.LZMA=14]="LZMA",ne[ne.TERSE_NEW=18]="TERSE_NEW",ne[ne.LZ77=19]="LZ77",ne[ne.WAVPACK=97]="WAVPACK",ne[ne.PPMD=98]="PPMD"})(Eo||(Eo={}));function ku(ne,d){var k=d&31,h=(d>>5&15)-1,Ae=(d>>9)+1980,Fe=ne&31,Me=ne>>5&63,Ge=ne>>11;return new Date(Ae,h,k,Ge,Me,Fe)}function R0(ne,d,k,h){return h===0?"":d?ne.toString("utf8",k,k+h):Oa.byte2str(ne.slice(k,k+h))}var ii=function(d){if(this.data=d,d.readUInt32LE(0)!==67324752)throw new Ee(_e.EINVAL,"Invalid Zip file: Local file header has invalid signature: "+this.data.readUInt32LE(0))};ii.prototype.versionNeeded=function(){return this.data.readUInt16LE(4)},ii.prototype.flags=function(){return this.data.readUInt16LE(6)},ii.prototype.compressionMethod=function(){return this.data.readUInt16LE(8)},ii.prototype.lastModFileTime=function(){return ku(this.data.readUInt16LE(10),this.data.readUInt16LE(12))},ii.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(10)},ii.prototype.crc32=function(){return this.data.readUInt32LE(14)},ii.prototype.fileNameLength=function(){return this.data.readUInt16LE(26)},ii.prototype.extraFieldLength=function(){return this.data.readUInt16LE(28)},ii.prototype.fileName=function(){return R0(this.data,this.useUTF8(),30,this.fileNameLength())},ii.prototype.extraField=function(){var d=30+this.fileNameLength();return this.data.slice(d,d+this.extraFieldLength())},ii.prototype.totalSize=function(){return 30+this.fileNameLength()+this.extraFieldLength()},ii.prototype.useUTF8=function(){return(this.flags()&2048)===2048};var Ss=function(d,k,h){this.header=d,this.record=k,this.data=h};Ss.prototype.decompress=function(){var d=this.header.compressionMethod(),k=Iu[d];if(k)return k(this.data,this.record.compressedSize(),this.record.uncompressedSize(),this.record.flag());var h=Eo[d];throw h||(h="Unknown: "+d),new Ee(_e.EINVAL,"Invalid compression method on file '"+this.header.fileName()+"': "+h)},Ss.prototype.getHeader=function(){return this.header},Ss.prototype.getRecord=function(){return this.record},Ss.prototype.getRawData=function(){return this.data};var rn=function(d,k){if(this.zipData=d,this.data=k,this.data.readUInt32LE(0)!==33639248)throw new Ee(_e.EINVAL,"Invalid Zip file: Central directory record has invalid signature: "+this.data.readUInt32LE(0));this._filename=this.produceFilename()};rn.prototype.versionMadeBy=function(){return this.data.readUInt16LE(4)},rn.prototype.versionNeeded=function(){return this.data.readUInt16LE(6)},rn.prototype.flag=function(){return this.data.readUInt16LE(8)},rn.prototype.compressionMethod=function(){return this.data.readUInt16LE(10)},rn.prototype.lastModFileTime=function(){return ku(this.data.readUInt16LE(12),this.data.readUInt16LE(14))},rn.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(12)},rn.prototype.crc32=function(){return this.data.readUInt32LE(16)},rn.prototype.compressedSize=function(){return this.data.readUInt32LE(20)},rn.prototype.uncompressedSize=function(){return this.data.readUInt32LE(24)},rn.prototype.fileNameLength=function(){return this.data.readUInt16LE(28)},rn.prototype.extraFieldLength=function(){return this.data.readUInt16LE(30)},rn.prototype.fileCommentLength=function(){return this.data.readUInt16LE(32)},rn.prototype.diskNumberStart=function(){return this.data.readUInt16LE(34)},rn.prototype.internalAttributes=function(){return this.data.readUInt16LE(36)},rn.prototype.externalAttributes=function(){return this.data.readUInt32LE(38)},rn.prototype.headerRelativeOffset=function(){return this.data.readUInt32LE(42)},rn.prototype.produceFilename=function(){var d=R0(this.data,this.useUTF8(),46,this.fileNameLength());return d.replace(/\\/g,"/")},rn.prototype.fileName=function(){return this._filename},rn.prototype.rawFileName=function(){return this.data.slice(46,46+this.fileNameLength())},rn.prototype.extraField=function(){var d=44+this.fileNameLength();return this.data.slice(d,d+this.extraFieldLength())},rn.prototype.fileComment=function(){var d=46+this.fileNameLength()+this.extraFieldLength();return R0(this.data,this.useUTF8(),d,this.fileCommentLength())},rn.prototype.rawFileComment=function(){var d=46+this.fileNameLength()+this.extraFieldLength();return this.data.slice(d,d+this.fileCommentLength())},rn.prototype.totalSize=function(){return 46+this.fileNameLength()+this.extraFieldLength()+this.fileCommentLength()},rn.prototype.isDirectory=function(){var d=this.fileName();return!!(this.externalAttributes()&16)||d.charAt(d.length-1)==="/"},rn.prototype.isFile=function(){return!this.isDirectory()},rn.prototype.useUTF8=function(){return(this.flag()&2048)===2048},rn.prototype.isEncrypted=function(){return(this.flag()&1)===1},rn.prototype.getFileData=function(){var d=this.headerRelativeOffset(),k=new ii(this.zipData.slice(d));return new Ss(k,this,this.zipData.slice(d+k.totalSize()))},rn.prototype.getData=function(){return this.getFileData().decompress()},rn.prototype.getRawData=function(){return this.getFileData().getRawData()},rn.prototype.getStats=function(){return new Ue(Ve.FILE,this.uncompressedSize(),365,new Date,this.lastModFileTime())};var Ti=function(d){if(this.data=d,this.data.readUInt32LE(0)!==101010256)throw new Ee(_e.EINVAL,"Invalid Zip file: End of central directory record has invalid signature: "+this.data.readUInt32LE(0))};Ti.prototype.diskNumber=function(){return this.data.readUInt16LE(4)},Ti.prototype.cdDiskNumber=function(){return this.data.readUInt16LE(6)},Ti.prototype.cdDiskEntryCount=function(){return this.data.readUInt16LE(8)},Ti.prototype.cdTotalEntryCount=function(){return this.data.readUInt16LE(10)},Ti.prototype.cdSize=function(){return this.data.readUInt32LE(12)},Ti.prototype.cdOffset=function(){return this.data.readUInt32LE(16)},Ti.prototype.cdZipCommentLength=function(){return this.data.readUInt16LE(20)},Ti.prototype.cdZipComment=function(){return R0(this.data,!0,22,this.cdZipCommentLength())},Ti.prototype.rawCdZipComment=function(){return this.data.slice(22,22+this.cdZipCommentLength())};var Ou=function(d,k,h,Ae){this.index=d,this.directoryEntries=k,this.eocd=h,this.data=Ae},Ta=function(ne){function d(k,h,Ae){h===void 0&&(h=""),Ae===void 0&&(Ae=!0),ne.call(this),this.name=h,this._index=new xi,this._directoryEntries=[],this._eocd=null,Zt(Ae,d.Name,{zipData:"zip data as a Buffer",name:h}),k instanceof Ou?(this._index=k.index,this._directoryEntries=k.directoryEntries,this._eocd=k.eocd,this.data=k.data):(this.data=k,this.populateIndex())}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.Create=function(h,Ae){try{d.computeIndex(h.zipData,function(Fe){var Me=new d(Fe,h.name,!1);Ae(null,Me)},!1)}catch(Fe){Ae(Fe)}},d.isAvailable=function(){return!0},d.RegisterDecompressionMethod=function(h,Ae){Iu[h]=Ae},d.computeIndex=function(h,Ae,Fe){Fe===void 0&&(Fe=!0),Fe&&console.warn("[ZipFS] ZipFS.computeIndex is now deprecated, and will be removed in the next major release. Please update your code to use 'ZipFS.Create({ zipData: zip file as a Buffer}, cb)' instead.");var Me=new xi,Ge=d.getEOCD(h);if(Ge.diskNumber()!==Ge.cdDiskNumber())throw new Ee(_e.EINVAL,"ZipFS does not support spanned zip files.");var et=Ge.cdOffset();if(et===4294967295)throw new Ee(_e.EINVAL,"ZipFS does not support Zip64.");var ft=et+Ge.cdSize();d.computeIndexResponsive(h,Me,et,ft,Ae,[],Ge)},d.getEOCD=function(h){for(var Ae=22,Fe=Math.min(Ae+65535,h.length-1),Me=Ae;Me<Fe;Me++)if(h.readUInt32LE(h.length-Me)===101010256)return new Ti(h.slice(h.length-Me));throw new Ee(_e.EINVAL,"Invalid ZIP file: Could not locate End of Central Directory signature.")},d.addToIndex=function(h,Ae){var Fe=h.fileName();if(Fe.charAt(0)==="/")throw new Error("WHY IS THIS ABSOLUTE");Fe.charAt(Fe.length-1)==="/"&&(Fe=Fe.substr(0,Fe.length-1)),h.isDirectory()?Ae.addPathFast("/"+Fe,new Zn(h)):Ae.addPathFast("/"+Fe,new bo(h))},d.computeIndexResponsive=function(h,Ae,Fe,Me,Ge,et,ft){if(Fe<Me){for(var kt=0;kt++<200&&Fe<Me;){var Ht=new rn(h,h.slice(Fe));d.addToIndex(Ht,Ae),Fe+=Ht.totalSize(),et.push(Ht)}Ar(function(){d.computeIndexResponsive(h,Ae,Fe,Me,Ge,et,ft)})}else Ge(new Ou(Ae,et,ft,h))},d.prototype.getName=function(){return d.Name+(this.name!==""?" "+this.name:"")},d.prototype.getCentralDirectoryEntry=function(h){var Ae=this._index.getInode(h);if(Ae===null)throw Ee.ENOENT(h);if(zi(Ae))return Ae.getData();if(ra(Ae))return Ae.getData();throw Ee.EPERM("Invalid inode: "+Ae)},d.prototype.getCentralDirectoryEntryAt=function(h){var Ae=this._directoryEntries[h];if(!Ae)throw new RangeError("Invalid directory index: "+h+".");return Ae},d.prototype.getNumberOfCentralDirectoryEntries=function(){return this._directoryEntries.length},d.prototype.getEndOfCentralDirectory=function(){return this._eocd},d.prototype.diskSpace=function(h,Ae){Ae(this.data.length,0)},d.prototype.isReadOnly=function(){return!0},d.prototype.supportsLinks=function(){return!1},d.prototype.supportsProps=function(){return!1},d.prototype.supportsSynch=function(){return!0},d.prototype.statSync=function(h,Ae){var Fe=this._index.getInode(h);if(Fe===null)throw Ee.ENOENT(h);var Me;if(zi(Fe))Me=Fe.getData().getStats();else if(ra(Fe))Me=Fe.getStats();else throw new Ee(_e.EINVAL,"Invalid inode.");return Me},d.prototype.openSync=function(h,Ae,Fe){if(Ae.isWriteable())throw new Ee(_e.EPERM,h);var Me=this._index.getInode(h);if(Me)if(zi(Me)){var Ge=Me.getData(),et=Ge.getStats();switch(Ae.pathExistsAction()){case Be.THROW_EXCEPTION:case Be.TRUNCATE_FILE:throw Ee.EEXIST(h);case Be.NOP:return new Dt(this,h,Ae,et,Ge.getData());default:throw new Ee(_e.EINVAL,"Invalid FileMode object.")}}else throw Ee.EISDIR(h);else throw Ee.ENOENT(h)},d.prototype.readdirSync=function(h){var Ae=this._index.getInode(h);if(Ae){if(ra(Ae))return Ae.getListing();throw Ee.ENOTDIR(h)}else throw Ee.ENOENT(h)},d.prototype.readFileSync=function(h,Ae,Fe){var Me=this.openSync(h,Fe,420);try{var Ge=Me,et=Ge.getBuffer();return Ae===null?fr(et):et.toString(Ae)}finally{Me.closeSync()}},d.prototype.populateIndex=function(){var h=this,Ae=this._eocd=d.getEOCD(this.data);if(Ae.diskNumber()!==Ae.cdDiskNumber())throw new Ee(_e.EINVAL,"ZipFS does not support spanned zip files.");var Fe=Ae.cdOffset();if(Fe===4294967295)throw new Ee(_e.EINVAL,"ZipFS does not support Zip64.");for(var Me=Fe+Ae.cdSize();Fe<Me;){var Ge=new rn(h.data,h.data.slice(Fe));Fe+=Ge.totalSize(),d.addToIndex(Ge,h._index),h._directoryEntries.push(Ge)}},d}(Wt);Ta.Name="ZipFS",Ta.Options={zipData:{type:"object",description:"The zip file as a Buffer object.",validator:lt},name:{type:"string",optional:!0,description:"The name of the zip file (optional)."}},Ta.CompressionMethod=Eo,Ta.RegisterDecompressionMethod(Eo.DEFLATE,function(ne,d,k){return Pt($l(ne.slice(0,d),{chunkSize:k}))}),Ta.RegisterDecompressionMethod(Eo.STORED,function(ne,d,k){return fr(ne,0,k)});var ef="IEEE_P1282";function $n(ne,d,k){return ne.toString("ascii",d,d+k).trim()}function Zc(ne,d,k){if(k===1)return String.fromCharCode(ne[d]);for(var h=Math.floor(k/2),Ae=new Array(h),Fe=0;Fe<h;Fe++){var Me=d+(Fe<<1);Ae[Fe]=String.fromCharCode(ne[Me+1]|ne[Me]<<8)}return Ae.join("")}function Di(ne,d){var k=parseInt($n(ne,d,4),10),h=parseInt($n(ne,d+4,2),10),Ae=parseInt($n(ne,d+6,2),10),Fe=parseInt($n(ne,d+8,2),10),Me=parseInt($n(ne,d+10,2),10),Ge=parseInt($n(ne,d+12,2),10),et=parseInt($n(ne,d+14,2),10);return new Date(k,h,Ae,Fe,Me,Ge,et*100)}function Da(ne,d){var k=ne[d],h=ne[d+1],Ae=ne[d+2],Fe=ne[d+3],Me=ne[d+4],Ge=ne[d+5];return new Date(k,h-1,Ae,Fe,Me,Ge)}function tf(ne,d){var k=ne.slice(d),h=new On(k);switch(h.signatureWord()){case 17221:return new Pu(k);case 20548:return new af(k);case 21328:return new Bu(k);case 21332:return new qu(k);case 17746:return new Nu(k);case 17747:return new of(k);case 20568:return new Mu(k);case 20558:return new sf(k);case 21324:return new $c(k);case 20045:return new Vu(k);case 17228:return new eu(k);case 20556:return new cf(k);case 21061:return new Uu(k);case 21574:return new ju(k);case 21318:return new uf(k);case 21074:return new Lu(k);default:return h}}function Tu(ne,d,k,h){k=k-4;for(var Ae=new Array;d<k;){var Fe=tf(ne,d),Me=Fe.length();if(Me===0)return Ae;if(d+=Me,Fe instanceof qu)break;Fe instanceof Pu?Ae=Ae.concat(Fe.getEntries(h)):Ae.push(Fe)}return Ae}var wo=function(d){this._data=d};wo.prototype.type=function(){return this._data[0]},wo.prototype.standardIdentifier=function(){return $n(this._data,1,5)},wo.prototype.version=function(){return this._data[6]},wo.prototype.data=function(){return this._data.slice(7,2048)};var Du=function(ne){function d(k){ne.call(this,k),this._root=null}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.systemIdentifier=function(){return this._getString32(8)},d.prototype.volumeIdentifier=function(){return this._getString32(40)},d.prototype.volumeSpaceSize=function(){return this._data.readUInt32LE(80)},d.prototype.volumeSetSize=function(){return this._data.readUInt16LE(120)},d.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(124)},d.prototype.logicalBlockSize=function(){return this._data.readUInt16LE(128)},d.prototype.pathTableSize=function(){return this._data.readUInt32LE(132)},d.prototype.locationOfTypeLPathTable=function(){return this._data.readUInt32LE(140)},d.prototype.locationOfOptionalTypeLPathTable=function(){return this._data.readUInt32LE(144)},d.prototype.locationOfTypeMPathTable=function(){return this._data.readUInt32BE(148)},d.prototype.locationOfOptionalTypeMPathTable=function(){return this._data.readUInt32BE(152)},d.prototype.rootDirectoryEntry=function(h){return this._root===null&&(this._root=this._constructRootDirectoryRecord(this._data.slice(156)),this._root.rootCheckForRockRidge(h)),this._root},d.prototype.volumeSetIdentifier=function(){return this._getString(190,128)},d.prototype.publisherIdentifier=function(){return this._getString(318,128)},d.prototype.dataPreparerIdentifier=function(){return this._getString(446,128)},d.prototype.applicationIdentifier=function(){return this._getString(574,128)},d.prototype.copyrightFileIdentifier=function(){return this._getString(702,38)},d.prototype.abstractFileIdentifier=function(){return this._getString(740,36)},d.prototype.bibliographicFileIdentifier=function(){return this._getString(776,37)},d.prototype.volumeCreationDate=function(){return Di(this._data,813)},d.prototype.volumeModificationDate=function(){return Di(this._data,830)},d.prototype.volumeExpirationDate=function(){return Di(this._data,847)},d.prototype.volumeEffectiveDate=function(){return Di(this._data,864)},d.prototype.fileStructureVersion=function(){return this._data[881]},d.prototype.applicationUsed=function(){return this._data.slice(883,883+512)},d.prototype.reserved=function(){return this._data.slice(1395,1395+653)},d.prototype._getString32=function(h){return this._getString(h,32)},d}(wo),rf=function(ne){function d(k){if(ne.call(this,k),this.type()!==1)throw new Ee(_e.EIO,"Invalid primary volume descriptor.")}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.name=function(){return"ISO9660"},d.prototype._constructRootDirectoryRecord=function(h){return new Ru(h,-1)},d.prototype._getString=function(h,Ae){return this._getString(h,Ae)},d}(Du),nf=function(ne){function d(k){if(ne.call(this,k),this.type()!==2)throw new Ee(_e.EIO,"Invalid supplementary volume descriptor.");var h=this.escapeSequence(),Ae=h[2];if(h[0]!==37||h[1]!==47||Ae!==64&&Ae!==67&&Ae!==69)throw new Ee(_e.EIO,"Unrecognized escape sequence for SupplementaryVolumeDescriptor: "+h.toString())}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.name=function(){return"Joliet"},d.prototype.escapeSequence=function(){return this._data.slice(88,120)},d.prototype._constructRootDirectoryRecord=function(h){return new Fu(h,-1)},d.prototype._getString=function(h,Ae){return Zc(this._data,h,Ae)},d}(Du),gn=function(d,k){this._suEntries=null,this._fileOrDir=null,this._data=d,this._rockRidgeOffset=k};gn.prototype.hasRockRidge=function(){return this._rockRidgeOffset>-1},gn.prototype.getRockRidgeOffset=function(){return this._rockRidgeOffset},gn.prototype.rootCheckForRockRidge=function(d){var k=this.getDirectory(d);this._rockRidgeOffset=k.getDotEntry(d)._getRockRidgeOffset(d),this._rockRidgeOffset>-1&&(this._fileOrDir=null)},gn.prototype.length=function(){return this._data[0]},gn.prototype.extendedAttributeRecordLength=function(){return this._data[1]},gn.prototype.lba=function(){return this._data.readUInt32LE(2)*2048},gn.prototype.dataLength=function(){return this._data.readUInt32LE(10)},gn.prototype.recordingDate=function(){return Da(this._data,18)},gn.prototype.fileFlags=function(){return this._data[25]},gn.prototype.fileUnitSize=function(){return this._data[26]},gn.prototype.interleaveGapSize=function(){return this._data[27]},gn.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(28)},gn.prototype.identifier=function(){return this._getString(33,this._data[32])},gn.prototype.fileName=function(d){if(this.hasRockRidge()){var k=this._rockRidgeFilename(d);if(k!==null)return k}var h=this.identifier();if(this.isDirectory(d))return h;var Ae=h.indexOf(";");return Ae===-1?h:h[Ae-1]==="."?h.slice(0,Ae-1):h.slice(0,Ae)},gn.prototype.isDirectory=function(d){var k=!!(this.fileFlags()&2);return!k&&this.hasRockRidge()&&(k=this.getSUEntries(d).filter(function(h){return h instanceof eu}).length>0),k},gn.prototype.isSymlink=function(d){return this.hasRockRidge()&&this.getSUEntries(d).filter(function(k){return k instanceof $c}).length>0},gn.prototype.getSymlinkPath=function(d){for(var k="",h=this.getSUEntries(d),Ae=this._getGetString(),Fe=0,Me=h;Fe<Me.length;Fe+=1){var Ge=Me[Fe];if(Ge instanceof $c){for(var et=Ge.componentRecords(),ft=0,kt=et;ft<kt.length;ft+=1){var Ht=kt[ft],nr=Ht.flags();nr&2?k+="./":nr&4?k+="../":nr&8?k+="/":(k+=Ht.content(Ae),nr&1||(k+="/"))}if(!Ge.continueFlag())break}}return k.length>1&&k[k.length-1]==="/"?k.slice(0,k.length-1):k},gn.prototype.getFile=function(d){if(this.isDirectory(d))throw new Error("Tried to get a File from a directory.");return this._fileOrDir===null&&(this._fileOrDir=d.slice(this.lba(),this.lba()+this.dataLength())),this._fileOrDir},gn.prototype.getDirectory=function(d){if(!this.isDirectory(d))throw new Error("Tried to get a Directory from a file.");return this._fileOrDir===null&&(this._fileOrDir=this._constructDirectory(d)),this._fileOrDir},gn.prototype.getSUEntries=function(d){return this._suEntries||this._constructSUEntries(d),this._suEntries},gn.prototype._rockRidgeFilename=function(d){var k=this.getSUEntries(d).filter(function(et){return et instanceof Vu});if(k.length===0||k[0].flags()&6)return null;for(var h="",Ae=this._getGetString(),Fe=0,Me=k;Fe<Me.length;Fe+=1){var Ge=Me[Fe];if(h+=Ge.name(Ae),!(Ge.flags()&1))break}return h},gn.prototype._constructSUEntries=function(d){var k=33+this._data[32];k%2===1&&k++,k+=this._rockRidgeOffset,this._suEntries=Tu(this._data,k,this.length(),d)},gn.prototype._getRockRidgeOffset=function(d){this._rockRidgeOffset=0;var k=this.getSUEntries(d);if(k.length>0){var h=k[0];if(h instanceof Bu&&h.checkBytesPass())for(var Ae=1;Ae<k.length;Ae++){var Fe=k[Ae];if(Fe instanceof Lu||Fe instanceof Nu&&Fe.extensionIdentifier()===ef)return h.bytesSkipped()}}return this._rockRidgeOffset=-1,-1};var Ru=function(ne){function d(k,h){ne.call(this,k,h)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype._getString=function(h,Ae){return $n(this._data,h,Ae)},d.prototype._constructDirectory=function(h){return new lf(this,h)},d.prototype._getGetString=function(){return $n},d}(gn),Fu=function(ne){function d(k,h){ne.call(this,k,h)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype._getString=function(h,Ae){return Zc(this._data,h,Ae)},d.prototype._constructDirectory=function(h){return new ff(this,h)},d.prototype._getGetString=function(){return Zc},d}(gn),On=function(d){this._data=d};On.prototype.signatureWord=function(){return this._data.readUInt16BE(0)},On.prototype.signatureWordString=function(){return $n(this._data,0,2)},On.prototype.length=function(){return this._data[2]},On.prototype.suVersion=function(){return this._data[3]};var Pu=function(ne){function d(k){ne.call(this,k),this._entries=null}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.continuationLba=function(){return this._data.readUInt32LE(4)},d.prototype.continuationLbaOffset=function(){return this._data.readUInt32LE(12)},d.prototype.continuationLength=function(){return this._data.readUInt32LE(20)},d.prototype.getEntries=function(h){if(!this._entries){var Ae=this.continuationLba()*2048+this.continuationLbaOffset();this._entries=Tu(h,Ae,this.continuationLength(),h)}return this._entries},d}(On),af=function(ne){function d(k){ne.call(this,k)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d}(On),Bu=function(ne){function d(k){ne.call(this,k)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.checkBytesPass=function(){return this._data[4]===190&&this._data[5]===239},d.prototype.bytesSkipped=function(){return this._data[6]},d}(On),qu=function(ne){function d(k){ne.call(this,k)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d}(On),Nu=function(ne){function d(k){ne.call(this,k)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.identifierLength=function(){return this._data[4]},d.prototype.descriptorLength=function(){return this._data[5]},d.prototype.sourceLength=function(){return this._data[6]},d.prototype.extensionVersion=function(){return this._data[7]},d.prototype.extensionIdentifier=function(){return $n(this._data,8,this.identifierLength())},d.prototype.extensionDescriptor=function(){return $n(this._data,8+this.identifierLength(),this.descriptorLength())},d.prototype.extensionSource=function(){return $n(this._data,8+this.identifierLength()+this.descriptorLength(),this.sourceLength())},d}(On),of=function(ne){function d(k){ne.call(this,k)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.extensionSequence=function(){return this._data[4]},d}(On),Lu=function(ne){function d(k){ne.call(this,k)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d}(On),Mu=function(ne){function d(k){ne.call(this,k)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.mode=function(){return this._data.readUInt32LE(4)},d.prototype.fileLinks=function(){return this._data.readUInt32LE(12)},d.prototype.uid=function(){return this._data.readUInt32LE(20)},d.prototype.gid=function(){return this._data.readUInt32LE(28)},d.prototype.inode=function(){return this._data.readUInt32LE(36)},d}(On),sf=function(ne){function d(k){ne.call(this,k)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.devTHigh=function(){return this._data.readUInt32LE(4)},d.prototype.devTLow=function(){return this._data.readUInt32LE(12)},d}(On),$c=function(ne){function d(k){ne.call(this,k)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.flags=function(){return this._data[4]},d.prototype.continueFlag=function(){return this.flags()&1},d.prototype.componentRecords=function(){for(var h=this,Ae=new Array,Fe=5;Fe<this.length();){var Me=new As(h._data.slice(Fe));Ae.push(Me),Fe+=Me.length()}return Ae},d}(On),As=function(d){this._data=d};As.prototype.flags=function(){return this._data[0]},As.prototype.length=function(){return 2+this.componentLength()},As.prototype.componentLength=function(){return this._data[1]},As.prototype.content=function(d){return d(this._data,2,this.componentLength())};var Vu=function(ne){function d(k){ne.call(this,k)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.flags=function(){return this._data[4]},d.prototype.name=function(h){return h(this._data,5,this.length()-5)},d}(On),eu=function(ne){function d(k){ne.call(this,k)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.childDirectoryLba=function(){return this._data.readUInt32LE(4)},d}(On),cf=function(ne){function d(k){ne.call(this,k)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.parentDirectoryLba=function(){return this._data.readUInt32LE(4)},d}(On),Uu=function(ne){function d(k){ne.call(this,k)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d}(On),ju=function(ne){function d(k){ne.call(this,k)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.flags=function(){return this._data[4]},d.prototype.creation=function(){return this.flags()&1?this._longFormDates()?Di(this._data,5):Da(this._data,5):null},d.prototype.modify=function(){if(this.flags()&2){var h=this.flags()&1?1:0;return this._longFormDates?Di(this._data,5+h*17):Da(this._data,5+h*7)}else return null},d.prototype.access=function(){if(this.flags()&4){var h=this.flags()&1?1:0;return h+=this.flags()&2?1:0,this._longFormDates?Di(this._data,5+h*17):Da(this._data,5+h*7)}else return null},d.prototype.backup=function(){if(this.flags()&16){var h=this.flags()&1?1:0;return h+=this.flags()&2?1:0,h+=this.flags()&4?1:0,this._longFormDates?Di(this._data,5+h*17):Da(this._data,5+h*7)}else return null},d.prototype.expiration=function(){if(this.flags()&32){var h=this.flags()&1?1:0;return h+=this.flags()&2?1:0,h+=this.flags()&4?1:0,h+=this.flags()&16?1:0,this._longFormDates?Di(this._data,5+h*17):Da(this._data,5+h*7)}else return null},d.prototype.effective=function(){if(this.flags()&64){var h=this.flags()&1?1:0;return h+=this.flags()&2?1:0,h+=this.flags()&4?1:0,h+=this.flags()&16?1:0,h+=this.flags()&32?1:0,this._longFormDates?Di(this._data,5+h*17):Da(this._data,5+h*7)}else return null},d.prototype._longFormDates=function(){return!!this.flags()},d}(On),uf=function(ne){function d(k){ne.call(this,k)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.virtualSizeHigh=function(){return this._data.readUInt32LE(4)},d.prototype.virtualSizeLow=function(){return this._data.readUInt32LE(12)},d.prototype.tableDepth=function(){return this._data[20]},d}(On),Is=function(d,k){var h=this;this._fileList=[],this._fileMap={},this._record=d;var Ae=d.lba(),Fe=Ae+d.dataLength();if(!(d.fileFlags()&2)){var Me=d.getSUEntries(k).filter(function(kt){return kt instanceof eu})[0];Ae=Me.childDirectoryLba()*2048,Fe=1/0}for(;Ae<Fe;){var Ge=k[Ae];if(Ge===0){Ae++;continue}var et=h._constructDirectoryRecord(k.slice(Ae)),ft=et.fileName(k);ft!=="\0"&&ft!==""?(!et.hasRockRidge()||et.getSUEntries(k).filter(function(kt){return kt instanceof Uu}).length===0)&&(h._fileMap[ft]=et,h._fileList.push(ft)):Fe===1/0&&(Fe=Ae+et.dataLength()),Ae+=et.length()}};Is.prototype.getRecord=function(d){return this._fileMap[d]},Is.prototype.getFileList=function(){return this._fileList},Is.prototype.getDotEntry=function(d){return this._constructDirectoryRecord(d.slice(this._record.lba()))};var lf=function(ne){function d(k,h){ne.call(this,k,h)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype._constructDirectoryRecord=function(h){return new Ru(h,this._record.getRockRidgeOffset())},d}(Is),ff=function(ne){function d(k,h){ne.call(this,k,h)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype._constructDirectoryRecord=function(h){return new Fu(h,this._record.getRockRidgeOffset())},d}(Is),F0=function(ne){function d(k,h,Ae){var Fe=this;h===void 0&&(h=""),Ae===void 0&&(Ae=!0),ne.call(this),this._data=k,Zt(Ae,d.Name,{data:"ISO data as a Buffer",name:h});for(var Me=!1,Ge=16*2048,et=new Array;!Me;){var ft=k.slice(Ge),kt=new wo(ft);switch(kt.type()){case 1:et.push(new rf(ft));break;case 2:et.push(new nf(ft));break;case 255:Me=!0;break}Ge+=2048}if(et.length===0)throw new Ee(_e.EIO,"Unable to find a suitable volume descriptor.");et.forEach(function(Ht){(!Fe._pvd||Fe._pvd.type()!==2)&&(Fe._pvd=Ht)}),this._root=this._pvd.rootDirectoryEntry(k),this._name=h}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.Create=function(h,Ae){var Fe,Me;try{Fe=new d(h.data,h.name,!1)}catch(Ge){Ge=Ge}finally{Ae(Me,Fe)}},d.isAvailable=function(){return!0},d.prototype.getName=function(){var h="IsoFS"+this._name+(this._pvd?"-"+this._pvd.name():"");return this._root&&this._root.hasRockRidge()&&(h+="-RockRidge"),h},d.prototype.diskSpace=function(h,Ae){Ae(this._data.length,0)},d.prototype.isReadOnly=function(){return!0},d.prototype.supportsLinks=function(){return!1},d.prototype.supportsProps=function(){return!1},d.prototype.supportsSynch=function(){return!0},d.prototype.statSync=function(h,Ae){var Fe=this._getDirectoryRecord(h);if(Fe===null)throw Ee.ENOENT(h);return this._getStats(h,Fe)},d.prototype.openSync=function(h,Ae,Fe){if(Ae.isWriteable())throw new Ee(_e.EPERM,h);var Me=this._getDirectoryRecord(h);if(Me){if(Me.isSymlink(this._data))return this.openSync(Ie.resolve(h,Me.getSymlinkPath(this._data)),Ae,Fe);if(Me.isDirectory(this._data))throw Ee.EISDIR(h);var Ge=Me.getFile(this._data),et=this._getStats(h,Me);switch(Ae.pathExistsAction()){case Be.THROW_EXCEPTION:case Be.TRUNCATE_FILE:throw Ee.EEXIST(h);case Be.NOP:return new Dt(this,h,Ae,et,Ge);default:throw new Ee(_e.EINVAL,"Invalid FileMode object.")}}else throw Ee.ENOENT(h)},d.prototype.readdirSync=function(h){var Ae=this._getDirectoryRecord(h);if(Ae){if(Ae.isDirectory(this._data))return Ae.getDirectory(this._data).getFileList().slice(0);throw Ee.ENOTDIR(h)}else throw Ee.ENOENT(h)},d.prototype.readFileSync=function(h,Ae,Fe){var Me=this.openSync(h,Fe,420);try{var Ge=Me,et=Ge.getBuffer();return Ae===null?fr(et):et.toString(Ae)}finally{Me.closeSync()}},d.prototype._getDirectoryRecord=function(h){var Ae=this;if(h==="/")return this._root;for(var Fe=h.split("/").slice(1),Me=this._root,Ge=0,et=Fe;Ge<et.length;Ge+=1){var ft=et[Ge];if(Me.isDirectory(Ae._data)){if(Me=Me.getDirectory(Ae._data).getRecord(ft),!Me)return null}else return null}return Me},d.prototype._getStats=function(h,Ae){if(Ae.isSymlink(this._data)){var Fe=Ie.resolve(h,Ae.getSymlinkPath(this._data)),Me=this._getDirectoryRecord(Fe);return Me?this._getStats(Fe,Me):null}else{var Ge=Ae.dataLength(),et=365,ft=Ae.recordingDate(),kt=ft,Ht=ft,nr=ft;if(Ae.hasRockRidge())for(var _r=Ae.getSUEntries(this._data),vr=0,Br=_r;vr<Br.length;vr+=1){var jr=Br[vr];if(jr instanceof Mu)et=jr.mode();else if(jr instanceof ju){var Hr=jr.flags();Hr&4&&(kt=jr.access()),Hr&2&&(Ht=jr.modify()),Hr&1&&(nr=jr.creation())}}return et=et&365,new Ue(Ae.isDirectory(this._data)?Ve.DIRECTORY:Ve.FILE,Ge,et,kt,Ht,nr)}},d}(Wt);F0.Name="IsoFS",F0.Options={data:{type:"object",description:"The ISO file in a buffer",validator:lt}},[rt,fo,xo,Ci,vo,Kn,ot,F0,Tt,Lt,An,T0,D0,Ta].forEach(function(ne){var d=ne.Create;ne.Create=function(k,h){var Ae=typeof k=="function",Fe=Ae?k:h,Me=Ae?{}:k;function Ge(et){et?Fe(et):d.call(ne,Me,Fe)}yt(ne,Me,Ge)}});var P0={AsyncMirror:rt,Dropbox:fo,Emscripten:xo,FolderAdapter:Ci,HTML5FS:vo,InMemory:Kn,IndexedDB:ot,IsoFS:F0,LocalStorage:Tt,MountableFileSystem:Lt,OverlayFS:An,WorkerFS:T0,XmlHttpRequest:D0,ZipFS:Ta};Te.initializeTTYs&&Te.initializeTTYs();function df(ne){ne.Buffer=f,ne.process=Te;var d=ne.require?ne.require:null;ne.require=function(k){var h=zu(k);return h||d.apply(null,Array.prototype.slice.call(arguments,0))}}function hf(ne,d){P0[ne]=d}function zu(ne){switch(ne){case"fs":return nt;case"path":return Ie;case"buffer":return Oe;case"process":return Te;case"bfs_utils":return Jt;default:return P0[ne]}}function Hu(ne){return nt.initialize(ne)}function xf(ne,d){tu(ne,function(k,h){h?(Hu(h),d()):d(k)})}function tu(ne,d){var k=ne.fs;if(!k)return d(new Ee(_e.EPERM,'Missing "fs" property on configuration object.'));var h=ne.options,Ae=0,Fe=!1;function Me(){if(!Fe){Fe=!0;var ft=P0[k];ft?ft.Create(h,d):d(new Ee(_e.EPERM,"File system "+k+" is not available in BrowserFS."))}}if(h!==null&&typeof h=="object"){var Ge=!1,et=Object.keys(h).filter(function(ft){return ft!=="fs"});et.forEach(function(ft){var kt=h[ft];kt!==null&&typeof kt=="object"&&kt.fs&&(Ae++,tu(kt,function(Ht,nr){if(Ae--,Ht){if(Fe)return;Fe=!0,d(Ht)}else h[ft]=nr,Ae===0&&Ge&&Me()}))}),Ge=!0}Ae===0&&Me()}"ab".substr(-1)!=="b"&&(String.prototype.substr=function(ne){return function(d,k){return d<0&&(d=this.length+d),ne.call(this,d,k)}}(String.prototype.substr)),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&(Uint8Array.prototype.slice||(Uint8Array.prototype.slice=function(ne,d){ne===void 0&&(ne=0),d===void 0&&(d=this.length);var k=this;return ne<0&&(ne=this.length+ne,ne<0&&(ne=0)),d<0&&(d=this.length+d,d<0&&(d=0)),d<ne&&(d=ne),new Uint8Array(k.buffer,k.byteOffset+ne,d-ne)})),i.install=df,i.registerFileSystem=hf,i.BFSRequire=zu,i.initialize=Hu,i.configure=xf,i.getFileSystem=tu,i.EmscriptenFS=Xe,i.FileSystem=P0,i.Errors=qe,i.setImmediate=Ar}).call(i,c(1),function(){return this}(),c(5)(e),c(6))},function(e,i,c){e.exports=c(2).Buffer},function(e,i,c){(function(_e){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
* @license  MIT
*/var m=c(3),g=c(4);i.Buffer=_e,i.SlowBuffer=Ze,i.INSPECT_MAX_BYTES=50;var Te=2147483647;i.kMaxLength=Te,_e.TYPED_ARRAY_SUPPORT=Oe(),!_e.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Oe(){try{var rt=new Uint8Array(1);return rt.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},rt.foo()===42}catch{return!1}}function Ie(rt){if(rt>Te)throw new RangeError("Invalid typed array length");var je=new Uint8Array(rt);return je.__proto__=_e.prototype,je}function _e(rt,je,Ke){if(typeof rt=="number"){if(typeof je=="string")throw new Error("If encoding is specified then the first argument must be a string");return Be(rt)}return De(rt,je,Ke)}typeof Symbol<"u"&&Symbol.species&&_e[Symbol.species]===_e&&Object.defineProperty(_e,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),_e.poolSize=8192;function De(rt,je,Ke){if(typeof rt=="number")throw new TypeError('"value" argument must not be a number');return xt(rt)?Ue(rt,je,Ke):typeof rt=="string"?Ne(rt,je):We(rt)}_e.from=function(rt,je,Ke){return De(rt,je,Ke)},_e.prototype.__proto__=Uint8Array.prototype,_e.__proto__=Uint8Array;function Ee(rt){if(typeof rt!="number")throw new TypeError('"size" argument must be a number');if(rt<0)throw new RangeError('"size" argument must not be negative')}function qe(rt,je,Ke){return Ee(rt),rt<=0?Ie(rt):je!==void 0?typeof Ke=="string"?Ie(rt).fill(je,Ke):Ie(rt).fill(je):Ie(rt)}_e.alloc=function(rt,je,Ke){return qe(rt,je,Ke)};function Be(rt){return Ee(rt),Ie(rt<0?0:He(rt)|0)}_e.allocUnsafe=function(rt){return Be(rt)},_e.allocUnsafeSlow=function(rt){return Be(rt)};function Ne(rt,je){if((typeof je!="string"||je==="")&&(je="utf8"),!_e.isEncoding(je))throw new TypeError('"encoding" must be a valid string encoding');var Ke=st(rt,je)|0,ut=Ie(Ke),Et=ut.write(rt,je);return Et!==Ke&&(ut=ut.slice(0,Et)),ut}function Ve(rt){for(var je=rt.length<0?0:He(rt.length)|0,Ke=Ie(je),ut=0;ut<je;ut+=1)Ke[ut]=rt[ut]&255;return Ke}function Ue(rt,je,Ke){if(je<0||rt.byteLength<je)throw new RangeError("'offset' is out of bounds");if(rt.byteLength<je+(Ke||0))throw new RangeError("'length' is out of bounds");var ut;return je===void 0&&Ke===void 0?ut=new Uint8Array(rt):Ke===void 0?ut=new Uint8Array(rt,je):ut=new Uint8Array(rt,je,Ke),ut.__proto__=_e.prototype,ut}function We(rt){if(_e.isBuffer(rt)){var je=He(rt.length)|0,Ke=Ie(je);return Ke.length===0||rt.copy(Ke,0,0,je),Ke}if(rt){if(Dt(rt)||"length"in rt)return typeof rt.length!="number"||er(rt.length)?Ie(0):Ve(rt);if(rt.type==="Buffer"&&Array.isArray(rt.data))return Ve(rt.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function He(rt){if(rt>=Te)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Te.toString(16)+" bytes");return rt|0}function Ze(rt){return+rt!=rt&&(rt=0),_e.alloc(+rt)}_e.isBuffer=function(je){return je!=null&&je._isBuffer===!0},_e.compare=function(je,Ke){if(!_e.isBuffer(je)||!_e.isBuffer(Ke))throw new TypeError("Arguments must be Buffers");if(je===Ke)return 0;for(var ut=je.length,Et=Ke.length,It=0,zt=Math.min(ut,Et);It<zt;++It)if(je[It]!==Ke[It]){ut=je[It],Et=Ke[It];break}return ut<Et?-1:Et<ut?1:0},_e.isEncoding=function(je){switch(String(je).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},_e.concat=function(je,Ke){if(!Array.isArray(je))throw new TypeError('"list" argument must be an Array of Buffers');if(je.length===0)return _e.alloc(0);var ut;if(Ke===void 0)for(Ke=0,ut=0;ut<je.length;++ut)Ke+=je[ut].length;var Et=_e.allocUnsafe(Ke),It=0;for(ut=0;ut<je.length;++ut){var zt=je[ut];if(!_e.isBuffer(zt))throw new TypeError('"list" argument must be an Array of Buffers');zt.copy(Et,It),It+=zt.length}return Et};function st(rt,je){if(_e.isBuffer(rt))return rt.length;if(Dt(rt)||xt(rt))return rt.byteLength;typeof rt!="string"&&(rt=""+rt);var Ke=rt.length;if(Ke===0)return 0;for(var ut=!1;;)switch(je){case"ascii":case"latin1":case"binary":return Ke;case"utf8":case"utf-8":case void 0:return dr(rt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ke*2;case"hex":return Ke>>>1;case"base64":return Wt(rt).length;default:if(ut)return dr(rt).length;je=(""+je).toLowerCase(),ut=!0}}_e.byteLength=st;function it(rt,je,Ke){var ut=!1;if((je===void 0||je<0)&&(je=0),je>this.length||((Ke===void 0||Ke>this.length)&&(Ke=this.length),Ke<=0)||(Ke>>>=0,je>>>=0,Ke<=je))return"";for(rt||(rt="utf8");;)switch(rt){case"hex":return Pt(this,je,Ke);case"utf8":case"utf-8":return cr(this,je,Ke);case"ascii":return ct(this,je,Ke);case"latin1":case"binary":return dt(this,je,Ke);case"base64":return jt(this,je,Ke);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ct(this,je,Ke);default:if(ut)throw new TypeError("Unknown encoding: "+rt);rt=(rt+"").toLowerCase(),ut=!0}}_e.prototype._isBuffer=!0;function vt(rt,je,Ke){var ut=rt[je];rt[je]=rt[Ke],rt[Ke]=ut}_e.prototype.swap16=function(){var je=this.length;if(je%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Ke=0;Ke<je;Ke+=2)vt(this,Ke,Ke+1);return this},_e.prototype.swap32=function(){var je=this.length;if(je%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Ke=0;Ke<je;Ke+=4)vt(this,Ke,Ke+3),vt(this,Ke+1,Ke+2);return this},_e.prototype.swap64=function(){var je=this.length;if(je%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Ke=0;Ke<je;Ke+=8)vt(this,Ke,Ke+7),vt(this,Ke+1,Ke+6),vt(this,Ke+2,Ke+5),vt(this,Ke+3,Ke+4);return this},_e.prototype.toString=function(){var je=this.length;return je===0?"":arguments.length===0?cr(this,0,je):it.apply(this,arguments)},_e.prototype.equals=function(je){if(!_e.isBuffer(je))throw new TypeError("Argument must be a Buffer");return this===je?!0:_e.compare(this,je)===0},_e.prototype.inspect=function(){var je="",Ke=i.INSPECT_MAX_BYTES;return this.length>0&&(je=this.toString("hex",0,Ke).match(/.{2}/g).join(" "),this.length>Ke&&(je+=" ... ")),"<Buffer "+je+">"},_e.prototype.compare=function(je,Ke,ut,Et,It){if(!_e.isBuffer(je))throw new TypeError("Argument must be a Buffer");if(Ke===void 0&&(Ke=0),ut===void 0&&(ut=je?je.length:0),Et===void 0&&(Et=0),It===void 0&&(It=this.length),Ke<0||ut>je.length||Et<0||It>this.length)throw new RangeError("out of range index");if(Et>=It&&Ke>=ut)return 0;if(Et>=It)return-1;if(Ke>=ut)return 1;if(Ke>>>=0,ut>>>=0,Et>>>=0,It>>>=0,this===je)return 0;for(var zt=It-Et,tr=ut-Ke,Sr=Math.min(zt,tr),Lr=this.slice(Et,It),Pr=je.slice(Ke,ut),Er=0;Er<Sr;++Er)if(Lr[Er]!==Pr[Er]){zt=Lr[Er],tr=Pr[Er];break}return zt<tr?-1:tr<zt?1:0};function gt(rt,je,Ke,ut,Et){if(rt.length===0)return-1;if(typeof Ke=="string"?(ut=Ke,Ke=0):Ke>2147483647?Ke=2147483647:Ke<-2147483648&&(Ke=-2147483648),Ke=+Ke,er(Ke)&&(Ke=Et?0:rt.length-1),Ke<0&&(Ke=rt.length+Ke),Ke>=rt.length){if(Et)return-1;Ke=rt.length-1}else if(Ke<0)if(Et)Ke=0;else return-1;if(typeof je=="string"&&(je=_e.from(je,ut)),_e.isBuffer(je))return je.length===0?-1:tt(rt,je,Ke,ut,Et);if(typeof je=="number")return je=je&255,typeof Uint8Array.prototype.indexOf=="function"?Et?Uint8Array.prototype.indexOf.call(rt,je,Ke):Uint8Array.prototype.lastIndexOf.call(rt,je,Ke):tt(rt,[je],Ke,ut,Et);throw new TypeError("val must be string, number or Buffer")}function tt(rt,je,Ke,ut,Et){var It=1,zt=rt.length,tr=je.length;if(ut!==void 0&&(ut=String(ut).toLowerCase(),ut==="ucs2"||ut==="ucs-2"||ut==="utf16le"||ut==="utf-16le")){if(rt.length<2||je.length<2)return-1;It=2,zt/=2,tr/=2,Ke/=2}function Sr(Qr,Cr){return It===1?Qr[Cr]:Qr.readUInt16BE(Cr*It)}var Lr;if(Et){var Pr=-1;for(Lr=Ke;Lr<zt;Lr++)if(Sr(rt,Lr)===Sr(je,Pr===-1?0:Lr-Pr)){if(Pr===-1&&(Pr=Lr),Lr-Pr+1===tr)return Pr*It}else Pr!==-1&&(Lr-=Lr-Pr),Pr=-1}else for(Ke+tr>zt&&(Ke=zt-tr),Lr=Ke;Lr>=0;Lr--){for(var Er=!0,gr=0;gr<tr;gr++)if(Sr(rt,Lr+gr)!==Sr(je,gr)){Er=!1;break}if(Er)return Lr}return-1}_e.prototype.includes=function(je,Ke,ut){return this.indexOf(je,Ke,ut)!==-1},_e.prototype.indexOf=function(je,Ke,ut){return gt(this,je,Ke,ut,!0)},_e.prototype.lastIndexOf=function(je,Ke,ut){return gt(this,je,Ke,ut,!1)};function pt(rt,je,Ke,ut){Ke=Number(Ke)||0;var Et=rt.length-Ke;ut?(ut=Number(ut),ut>Et&&(ut=Et)):ut=Et;var It=je.length;if(It%2!==0)throw new TypeError("Invalid hex string");ut>It/2&&(ut=It/2);for(var zt=0;zt<ut;++zt){var tr=parseInt(je.substr(zt*2,2),16);if(er(tr))return zt;rt[Ke+zt]=tr}return zt}function nt(rt,je,Ke,ut){return ht(dr(je,rt.length-Ke),rt,Ke,ut)}function mt(rt,je,Ke,ut){return ht(Xe(je),rt,Ke,ut)}function Je(rt,je,Ke,ut){return mt(rt,je,Ke,ut)}function Ft(rt,je,Ke,ut){return ht(Wt(je),rt,Ke,ut)}function Zt(rt,je,Ke,ut){return ht(At(je,rt.length-Ke),rt,Ke,ut)}_e.prototype.write=function(je,Ke,ut,Et){if(Ke===void 0)Et="utf8",ut=this.length,Ke=0;else if(ut===void 0&&typeof Ke=="string")Et=Ke,ut=this.length,Ke=0;else if(isFinite(Ke))Ke=Ke>>>0,isFinite(ut)?(ut=ut>>>0,Et===void 0&&(Et="utf8")):(Et=ut,ut=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var It=this.length-Ke;if((ut===void 0||ut>It)&&(ut=It),je.length>0&&(ut<0||Ke<0)||Ke>this.length)throw new RangeError("Attempt to write outside buffer bounds");Et||(Et="utf8");for(var zt=!1;;)switch(Et){case"hex":return pt(this,je,Ke,ut);case"utf8":case"utf-8":return nt(this,je,Ke,ut);case"ascii":return mt(this,je,Ke,ut);case"latin1":case"binary":return Je(this,je,Ke,ut);case"base64":return Ft(this,je,Ke,ut);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Zt(this,je,Ke,ut);default:if(zt)throw new TypeError("Unknown encoding: "+Et);Et=(""+Et).toLowerCase(),zt=!0}},_e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function jt(rt,je,Ke){return je===0&&Ke===rt.length?m.fromByteArray(rt):m.fromByteArray(rt.slice(je,Ke))}function cr(rt,je,Ke){Ke=Math.min(rt.length,Ke);for(var ut=[],Et=je;Et<Ke;){var It=rt[Et],zt=null,tr=It>239?4:It>223?3:It>191?2:1;if(Et+tr<=Ke){var Sr,Lr,Pr,Er;switch(tr){case 1:It<128&&(zt=It);break;case 2:Sr=rt[Et+1],(Sr&192)===128&&(Er=(It&31)<<6|Sr&63,Er>127&&(zt=Er));break;case 3:Sr=rt[Et+1],Lr=rt[Et+2],(Sr&192)===128&&(Lr&192)===128&&(Er=(It&15)<<12|(Sr&63)<<6|Lr&63,Er>2047&&(Er<55296||Er>57343)&&(zt=Er));break;case 4:Sr=rt[Et+1],Lr=rt[Et+2],Pr=rt[Et+3],(Sr&192)===128&&(Lr&192)===128&&(Pr&192)===128&&(Er=(It&15)<<18|(Sr&63)<<12|(Lr&63)<<6|Pr&63,Er>65535&&Er<1114112&&(zt=Er))}}zt===null?(zt=65533,tr=1):zt>65535&&(zt-=65536,ut.push(zt>>>10&1023|55296),zt=56320|zt&1023),ut.push(zt),Et+=tr}return St(ut)}var bt=4096;function St(rt){var je=rt.length;if(je<=bt)return String.fromCharCode.apply(String,rt);for(var Ke="",ut=0;ut<je;)Ke+=String.fromCharCode.apply(String,rt.slice(ut,ut+=bt));return Ke}function ct(rt,je,Ke){var ut="";Ke=Math.min(rt.length,Ke);for(var Et=je;Et<Ke;++Et)ut+=String.fromCharCode(rt[Et]&127);return ut}function dt(rt,je,Ke){var ut="";Ke=Math.min(rt.length,Ke);for(var Et=je;Et<Ke;++Et)ut+=String.fromCharCode(rt[Et]);return ut}function Pt(rt,je,Ke){var ut=rt.length;(!je||je<0)&&(je=0),(!Ke||Ke<0||Ke>ut)&&(Ke=ut);for(var Et="",It=je;It<Ke;++It)Et+=$t(rt[It]);return Et}function Ct(rt,je,Ke){for(var ut=rt.slice(je,Ke),Et="",It=0;It<ut.length;It+=2)Et+=String.fromCharCode(ut[It]+ut[It+1]*256);return Et}_e.prototype.slice=function(je,Ke){var ut=this.length;je=~~je,Ke=Ke===void 0?ut:~~Ke,je<0?(je+=ut,je<0&&(je=0)):je>ut&&(je=ut),Ke<0?(Ke+=ut,Ke<0&&(Ke=0)):Ke>ut&&(Ke=ut),Ke<je&&(Ke=je);var Et=this.subarray(je,Ke);return Et.__proto__=_e.prototype,Et};function Kt(rt,je,Ke){if(rt%1!==0||rt<0)throw new RangeError("offset is not uint");if(rt+je>Ke)throw new RangeError("Trying to access beyond buffer length")}_e.prototype.readUIntLE=function(je,Ke,ut){je=je>>>0,Ke=Ke>>>0,ut||Kt(je,Ke,this.length);for(var Et=this[je],It=1,zt=0;++zt<Ke&&(It*=256);)Et+=this[je+zt]*It;return Et},_e.prototype.readUIntBE=function(je,Ke,ut){je=je>>>0,Ke=Ke>>>0,ut||Kt(je,Ke,this.length);for(var Et=this[je+--Ke],It=1;Ke>0&&(It*=256);)Et+=this[je+--Ke]*It;return Et},_e.prototype.readUInt8=function(je,Ke){return je=je>>>0,Ke||Kt(je,1,this.length),this[je]},_e.prototype.readUInt16LE=function(je,Ke){return je=je>>>0,Ke||Kt(je,2,this.length),this[je]|this[je+1]<<8},_e.prototype.readUInt16BE=function(je,Ke){return je=je>>>0,Ke||Kt(je,2,this.length),this[je]<<8|this[je+1]},_e.prototype.readUInt32LE=function(je,Ke){return je=je>>>0,Ke||Kt(je,4,this.length),(this[je]|this[je+1]<<8|this[je+2]<<16)+this[je+3]*16777216},_e.prototype.readUInt32BE=function(je,Ke){return je=je>>>0,Ke||Kt(je,4,this.length),this[je]*16777216+(this[je+1]<<16|this[je+2]<<8|this[je+3])},_e.prototype.readIntLE=function(je,Ke,ut){je=je>>>0,Ke=Ke>>>0,ut||Kt(je,Ke,this.length);for(var Et=this[je],It=1,zt=0;++zt<Ke&&(It*=256);)Et+=this[je+zt]*It;return It*=128,Et>=It&&(Et-=Math.pow(2,8*Ke)),Et},_e.prototype.readIntBE=function(je,Ke,ut){je=je>>>0,Ke=Ke>>>0,ut||Kt(je,Ke,this.length);for(var Et=Ke,It=1,zt=this[je+--Et];Et>0&&(It*=256);)zt+=this[je+--Et]*It;return It*=128,zt>=It&&(zt-=Math.pow(2,8*Ke)),zt},_e.prototype.readInt8=function(je,Ke){return je=je>>>0,Ke||Kt(je,1,this.length),this[je]&128?(255-this[je]+1)*-1:this[je]},_e.prototype.readInt16LE=function(je,Ke){je=je>>>0,Ke||Kt(je,2,this.length);var ut=this[je]|this[je+1]<<8;return ut&32768?ut|4294901760:ut},_e.prototype.readInt16BE=function(je,Ke){je=je>>>0,Ke||Kt(je,2,this.length);var ut=this[je+1]|this[je]<<8;return ut&32768?ut|4294901760:ut},_e.prototype.readInt32LE=function(je,Ke){return je=je>>>0,Ke||Kt(je,4,this.length),this[je]|this[je+1]<<8|this[je+2]<<16|this[je+3]<<24},_e.prototype.readInt32BE=function(je,Ke){return je=je>>>0,Ke||Kt(je,4,this.length),this[je]<<24|this[je+1]<<16|this[je+2]<<8|this[je+3]},_e.prototype.readFloatLE=function(je,Ke){return je=je>>>0,Ke||Kt(je,4,this.length),g.read(this,je,!0,23,4)},_e.prototype.readFloatBE=function(je,Ke){return je=je>>>0,Ke||Kt(je,4,this.length),g.read(this,je,!1,23,4)},_e.prototype.readDoubleLE=function(je,Ke){return je=je>>>0,Ke||Kt(je,8,this.length),g.read(this,je,!0,52,8)},_e.prototype.readDoubleBE=function(je,Ke){return je=je>>>0,Ke||Kt(je,8,this.length),g.read(this,je,!1,52,8)};function fr(rt,je,Ke,ut,Et,It){if(!_e.isBuffer(rt))throw new TypeError('"buffer" argument must be a Buffer instance');if(je>Et||je<It)throw new RangeError('"value" argument is out of bounds');if(Ke+ut>rt.length)throw new RangeError("Index out of range")}_e.prototype.writeUIntLE=function(je,Ke,ut,Et){if(je=+je,Ke=Ke>>>0,ut=ut>>>0,!Et){var It=Math.pow(2,8*ut)-1;fr(this,je,Ke,ut,It,0)}var zt=1,tr=0;for(this[Ke]=je&255;++tr<ut&&(zt*=256);)this[Ke+tr]=je/zt&255;return Ke+ut},_e.prototype.writeUIntBE=function(je,Ke,ut,Et){if(je=+je,Ke=Ke>>>0,ut=ut>>>0,!Et){var It=Math.pow(2,8*ut)-1;fr(this,je,Ke,ut,It,0)}var zt=ut-1,tr=1;for(this[Ke+zt]=je&255;--zt>=0&&(tr*=256);)this[Ke+zt]=je/tr&255;return Ke+ut},_e.prototype.writeUInt8=function(je,Ke,ut){return je=+je,Ke=Ke>>>0,ut||fr(this,je,Ke,1,255,0),this[Ke]=je&255,Ke+1},_e.prototype.writeUInt16LE=function(je,Ke,ut){return je=+je,Ke=Ke>>>0,ut||fr(this,je,Ke,2,65535,0),this[Ke]=je&255,this[Ke+1]=je>>>8,Ke+2},_e.prototype.writeUInt16BE=function(je,Ke,ut){return je=+je,Ke=Ke>>>0,ut||fr(this,je,Ke,2,65535,0),this[Ke]=je>>>8,this[Ke+1]=je&255,Ke+2},_e.prototype.writeUInt32LE=function(je,Ke,ut){return je=+je,Ke=Ke>>>0,ut||fr(this,je,Ke,4,4294967295,0),this[Ke+3]=je>>>24,this[Ke+2]=je>>>16,this[Ke+1]=je>>>8,this[Ke]=je&255,Ke+4},_e.prototype.writeUInt32BE=function(je,Ke,ut){return je=+je,Ke=Ke>>>0,ut||fr(this,je,Ke,4,4294967295,0),this[Ke]=je>>>24,this[Ke+1]=je>>>16,this[Ke+2]=je>>>8,this[Ke+3]=je&255,Ke+4},_e.prototype.writeIntLE=function(je,Ke,ut,Et){if(je=+je,Ke=Ke>>>0,!Et){var It=Math.pow(2,8*ut-1);fr(this,je,Ke,ut,It-1,-It)}var zt=0,tr=1,Sr=0;for(this[Ke]=je&255;++zt<ut&&(tr*=256);)je<0&&Sr===0&&this[Ke+zt-1]!==0&&(Sr=1),this[Ke+zt]=(je/tr>>0)-Sr&255;return Ke+ut},_e.prototype.writeIntBE=function(je,Ke,ut,Et){if(je=+je,Ke=Ke>>>0,!Et){var It=Math.pow(2,8*ut-1);fr(this,je,Ke,ut,It-1,-It)}var zt=ut-1,tr=1,Sr=0;for(this[Ke+zt]=je&255;--zt>=0&&(tr*=256);)je<0&&Sr===0&&this[Ke+zt+1]!==0&&(Sr=1),this[Ke+zt]=(je/tr>>0)-Sr&255;return Ke+ut},_e.prototype.writeInt8=function(je,Ke,ut){return je=+je,Ke=Ke>>>0,ut||fr(this,je,Ke,1,127,-128),je<0&&(je=255+je+1),this[Ke]=je&255,Ke+1},_e.prototype.writeInt16LE=function(je,Ke,ut){return je=+je,Ke=Ke>>>0,ut||fr(this,je,Ke,2,32767,-32768),this[Ke]=je&255,this[Ke+1]=je>>>8,Ke+2},_e.prototype.writeInt16BE=function(je,Ke,ut){return je=+je,Ke=Ke>>>0,ut||fr(this,je,Ke,2,32767,-32768),this[Ke]=je>>>8,this[Ke+1]=je&255,Ke+2},_e.prototype.writeInt32LE=function(je,Ke,ut){return je=+je,Ke=Ke>>>0,ut||fr(this,je,Ke,4,2147483647,-2147483648),this[Ke]=je&255,this[Ke+1]=je>>>8,this[Ke+2]=je>>>16,this[Ke+3]=je>>>24,Ke+4},_e.prototype.writeInt32BE=function(je,Ke,ut){return je=+je,Ke=Ke>>>0,ut||fr(this,je,Ke,4,2147483647,-2147483648),je<0&&(je=4294967295+je+1),this[Ke]=je>>>24,this[Ke+1]=je>>>16,this[Ke+2]=je>>>8,this[Ke+3]=je&255,Ke+4};function Rr(rt,je,Ke,ut,Et,It){if(Ke+ut>rt.length)throw new RangeError("Index out of range");if(Ke<0)throw new RangeError("Index out of range")}function sr(rt,je,Ke,ut,Et){return je=+je,Ke=Ke>>>0,Et||Rr(rt,je,Ke,4),g.write(rt,je,Ke,ut,23,4),Ke+4}_e.prototype.writeFloatLE=function(je,Ke,ut){return sr(this,je,Ke,!0,ut)},_e.prototype.writeFloatBE=function(je,Ke,ut){return sr(this,je,Ke,!1,ut)};function lt(rt,je,Ke,ut,Et){return je=+je,Ke=Ke>>>0,Et||Rr(rt,je,Ke,8),g.write(rt,je,Ke,ut,52,8),Ke+8}_e.prototype.writeDoubleLE=function(je,Ke,ut){return lt(this,je,Ke,!0,ut)},_e.prototype.writeDoubleBE=function(je,Ke,ut){return lt(this,je,Ke,!1,ut)},_e.prototype.copy=function(je,Ke,ut,Et){if(ut||(ut=0),!Et&&Et!==0&&(Et=this.length),Ke>=je.length&&(Ke=je.length),Ke||(Ke=0),Et>0&&Et<ut&&(Et=ut),Et===ut||je.length===0||this.length===0)return 0;if(Ke<0)throw new RangeError("targetStart out of bounds");if(ut<0||ut>=this.length)throw new RangeError("sourceStart out of bounds");if(Et<0)throw new RangeError("sourceEnd out of bounds");Et>this.length&&(Et=this.length),je.length-Ke<Et-ut&&(Et=je.length-Ke+ut);var It=Et-ut,zt;if(this===je&&ut<Ke&&Ke<Et)for(zt=It-1;zt>=0;--zt)je[zt+Ke]=this[zt+ut];else if(It<1e3)for(zt=0;zt<It;++zt)je[zt+Ke]=this[zt+ut];else Uint8Array.prototype.set.call(je,this.subarray(ut,ut+It),Ke);return It},_e.prototype.fill=function(je,Ke,ut,Et){if(typeof je=="string"){if(typeof Ke=="string"?(Et=Ke,Ke=0,ut=this.length):typeof ut=="string"&&(Et=ut,ut=this.length),je.length===1){var It=je.charCodeAt(0);It<256&&(je=It)}if(Et!==void 0&&typeof Et!="string")throw new TypeError("encoding must be a string");if(typeof Et=="string"&&!_e.isEncoding(Et))throw new TypeError("Unknown encoding: "+Et)}else typeof je=="number"&&(je=je&255);if(Ke<0||this.length<Ke||this.length<ut)throw new RangeError("Out of range index");if(ut<=Ke)return this;Ke=Ke>>>0,ut=ut===void 0?this.length:ut>>>0,je||(je=0);var zt;if(typeof je=="number")for(zt=Ke;zt<ut;++zt)this[zt]=je;else{var tr=_e.isBuffer(je)?je:new _e(je,Et),Sr=tr.length;for(zt=0;zt<ut-Ke;++zt)this[zt+Ke]=tr[zt%Sr]}return this};var yt=/[^+/0-9A-Za-z-_]/g;function Jt(rt){if(rt=rt.trim().replace(yt,""),rt.length<2)return"";for(;rt.length%4!==0;)rt=rt+"=";return rt}function $t(rt){return rt<16?"0"+rt.toString(16):rt.toString(16)}function dr(rt,je){je=je||1/0;for(var Ke,ut=rt.length,Et=null,It=[],zt=0;zt<ut;++zt){if(Ke=rt.charCodeAt(zt),Ke>55295&&Ke<57344){if(!Et){if(Ke>56319){(je-=3)>-1&&It.push(239,191,189);continue}else if(zt+1===ut){(je-=3)>-1&&It.push(239,191,189);continue}Et=Ke;continue}if(Ke<56320){(je-=3)>-1&&It.push(239,191,189),Et=Ke;continue}Ke=(Et-55296<<10|Ke-56320)+65536}else Et&&(je-=3)>-1&&It.push(239,191,189);if(Et=null,Ke<128){if((je-=1)<0)break;It.push(Ke)}else if(Ke<2048){if((je-=2)<0)break;It.push(Ke>>6|192,Ke&63|128)}else if(Ke<65536){if((je-=3)<0)break;It.push(Ke>>12|224,Ke>>6&63|128,Ke&63|128)}else if(Ke<1114112){if((je-=4)<0)break;It.push(Ke>>18|240,Ke>>12&63|128,Ke>>6&63|128,Ke&63|128)}else throw new Error("Invalid code point")}return It}function Xe(rt){for(var je=[],Ke=0;Ke<rt.length;++Ke)je.push(rt.charCodeAt(Ke)&255);return je}function At(rt,je){for(var Ke,ut,Et,It=[],zt=0;zt<rt.length&&!((je-=2)<0);++zt)Ke=rt.charCodeAt(zt),ut=Ke>>8,Et=Ke%256,It.push(Et),It.push(ut);return It}function Wt(rt){return m.toByteArray(Jt(rt))}function ht(rt,je,Ke,ut){for(var Et=0;Et<ut&&!(Et+Ke>=je.length||Et>=rt.length);++Et)je[Et+Ke]=rt[Et];return Et}function xt(rt){return rt instanceof ArrayBuffer||rt!=null&&rt.constructor!=null&&rt.constructor.name==="ArrayBuffer"&&typeof rt.byteLength=="number"}function Dt(rt){return typeof ArrayBuffer.isView=="function"&&ArrayBuffer.isView(rt)}function er(rt){return rt!==rt}}).call(i,c(1))},function(e,i){i.byteLength=_e,i.toByteArray=De,i.fromByteArray=Be;for(var c=[],f=[],m=typeof Uint8Array<"u"?Uint8Array:Array,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Te=0,Oe=g.length;Te<Oe;++Te)c[Te]=g[Te],f[g.charCodeAt(Te)]=Te;f["-".charCodeAt(0)]=62,f["_".charCodeAt(0)]=63;function Ie(Ne){var Ve=Ne.length;if(Ve%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return Ne[Ve-2]==="="?2:Ne[Ve-1]==="="?1:0}function _e(Ne){return Ne.length*3/4-Ie(Ne)}function De(Ne){var Ve,Ue,We,He,Ze,st,it=Ne.length;Ze=Ie(Ne),st=new m(it*3/4-Ze),We=Ze>0?it-4:it;var vt=0;for(Ve=0,Ue=0;Ve<We;Ve+=4,Ue+=3)He=f[Ne.charCodeAt(Ve)]<<18|f[Ne.charCodeAt(Ve+1)]<<12|f[Ne.charCodeAt(Ve+2)]<<6|f[Ne.charCodeAt(Ve+3)],st[vt++]=He>>16&255,st[vt++]=He>>8&255,st[vt++]=He&255;return Ze===2?(He=f[Ne.charCodeAt(Ve)]<<2|f[Ne.charCodeAt(Ve+1)]>>4,st[vt++]=He&255):Ze===1&&(He=f[Ne.charCodeAt(Ve)]<<10|f[Ne.charCodeAt(Ve+1)]<<4|f[Ne.charCodeAt(Ve+2)]>>2,st[vt++]=He>>8&255,st[vt++]=He&255),st}function Ee(Ne){return c[Ne>>18&63]+c[Ne>>12&63]+c[Ne>>6&63]+c[Ne&63]}function qe(Ne,Ve,Ue){for(var We,He=[],Ze=Ve;Ze<Ue;Ze+=3)We=(Ne[Ze]<<16)+(Ne[Ze+1]<<8)+Ne[Ze+2],He.push(Ee(We));return He.join("")}function Be(Ne){for(var Ve,Ue=Ne.length,We=Ue%3,He="",Ze=[],st=16383,it=0,vt=Ue-We;it<vt;it+=st)Ze.push(qe(Ne,it,it+st>vt?vt:it+st));return We===1?(Ve=Ne[Ue-1],He+=c[Ve>>2],He+=c[Ve<<4&63],He+="=="):We===2&&(Ve=(Ne[Ue-2]<<8)+Ne[Ue-1],He+=c[Ve>>10],He+=c[Ve>>4&63],He+=c[Ve<<2&63],He+="="),Ze.push(He),Ze.join("")}},function(e,i){i.read=function(c,f,m,g,Te){var Oe,Ie,_e=Te*8-g-1,De=(1<<_e)-1,Ee=De>>1,qe=-7,Be=m?Te-1:0,Ne=m?-1:1,Ve=c[f+Be];for(Be+=Ne,Oe=Ve&(1<<-qe)-1,Ve>>=-qe,qe+=_e;qe>0;Oe=Oe*256+c[f+Be],Be+=Ne,qe-=8);for(Ie=Oe&(1<<-qe)-1,Oe>>=-qe,qe+=g;qe>0;Ie=Ie*256+c[f+Be],Be+=Ne,qe-=8);if(Oe===0)Oe=1-Ee;else{if(Oe===De)return Ie?NaN:(Ve?-1:1)*(1/0);Ie=Ie+Math.pow(2,g),Oe=Oe-Ee}return(Ve?-1:1)*Ie*Math.pow(2,Oe-g)},i.write=function(c,f,m,g,Te,Oe){var Ie,_e,De,Ee=Oe*8-Te-1,qe=(1<<Ee)-1,Be=qe>>1,Ne=Te===23?Math.pow(2,-24)-Math.pow(2,-77):0,Ve=g?0:Oe-1,Ue=g?1:-1,We=f<0||f===0&&1/f<0?1:0;for(f=Math.abs(f),isNaN(f)||f===1/0?(_e=isNaN(f)?1:0,Ie=qe):(Ie=Math.floor(Math.log(f)/Math.LN2),f*(De=Math.pow(2,-Ie))<1&&(Ie--,De*=2),Ie+Be>=1?f+=Ne/De:f+=Ne*Math.pow(2,1-Be),f*De>=2&&(Ie++,De/=2),Ie+Be>=qe?(_e=0,Ie=qe):Ie+Be>=1?(_e=(f*De-1)*Math.pow(2,Te),Ie=Ie+Be):(_e=f*Math.pow(2,Be-1)*Math.pow(2,Te),Ie=0));Te>=8;c[m+Ve]=_e&255,Ve+=Ue,_e/=256,Te-=8);for(Ie=Ie<<Te|_e,Ee+=Te;Ee>0;c[m+Ve]=Ie&255,Ve+=Ue,Ie/=256,Ee-=8);c[m+Ve-Ue]|=We*128}},function(e,i){e.exports=function(c){return c.webpackPolyfill||(c.deprecate=function(){},c.paths=[],c.children=[],c.webpackPolyfill=1),c}},function(e,i,c){var f=c(7),m=new f,g={};function Te(Ie){g[Ie]||(typeof m[Ie]=="function"?g[Ie]=function(){return m[Ie].apply(m,arguments)}:g[Ie]=m[Ie])}for(var Oe in m)Te(Oe);g.initializeTTYs=function(){m.stdin===null&&(m.initializeTTYs(),g.stdin=m.stdin,g.stdout=m.stdout,g.stderr=m.stderr)},m.nextTick(function(){g.initializeTTYs()}),e.exports=g},function(e,i,c){(function(f){var m=this&&this.__extends||function(De,Ee){for(var qe in Ee)Ee.hasOwnProperty(qe)&&(De[qe]=Ee[qe]);function Be(){this.constructor=De}De.prototype=Ee===null?Object.create(Ee):(Be.prototype=Ee.prototype,new Be)},g=c(8),Te=null,Oe=function(){function De(Ee,qe){this.fun=Ee,this.array=qe}return De.prototype.run=function(){this.fun.apply(null,this.array)},De}(),Ie=function(){function De(){this._queue=[],this._draining=!1,this._currentQueue=null,this._queueIndex=-1}return De.prototype.push=function(Ee){var qe=this;this._queue.push(Ee)===1&&!this._draining&&setTimeout(function(){return qe._drainQueue()},0)},De.prototype._cleanUpNextTick=function(){this._draining=!1,this._currentQueue&&this._currentQueue.length?this._queue=this._currentQueue.concat(this._queue):this._queueIndex=-1,this._queue.length&&this._drainQueue()},De.prototype._drainQueue=function(){var Ee=this;if(!this._draining){var qe=setTimeout(function(){return Ee._cleanUpNextTick()});this._draining=!0;for(var Be=this._queue.length;Be;){for(this._currentQueue=this._queue,this._queue=[];++this._queueIndex<Be;)this._currentQueue&&this._currentQueue[this._queueIndex].run();this._queueIndex=-1,Be=this._queue.length}this._currentQueue=null,this._draining=!1,clearTimeout(qe)}},De}(),_e=function(De){m(Ee,De);function Ee(){De.apply(this,arguments),this.startTime=Date.now(),this._cwd="/",this.platform="browser",this.argv=[],this.execArgv=[],this.stdout=null,this.stderr=null,this.stdin=null,this.domain=null,this._queue=new Ie,this.execPath=f,this.env={},this.exitCode=0,this._gid=1,this._uid=1,this.version="v5.0",this.versions={http_parser:"0.0",node:"5.0",v8:"0.0",uv:"0.0",zlib:"0.0",ares:"0.0",icu:"0.0",modules:"0",openssl:"0.0"},this.config={target_defaults:{cflags:[],default_configuration:"Release",defines:[],include_dirs:[],libraries:[]},variables:{clang:0,host_arch:"x32",node_install_npm:!1,node_install_waf:!1,node_prefix:"",node_shared_cares:!1,node_shared_http_parser:!1,node_shared_libuv:!1,node_shared_zlib:!1,node_shared_v8:!1,node_use_dtrace:!1,node_use_etw:!1,node_use_openssl:!1,node_shared_openssl:!1,strict_aliasing:!1,target_arch:"x32",v8_use_snapshot:!1,v8_no_strict_aliasing:0,visibility:""}},this.pid=Math.random()*1e3|0,this.title="node",this.arch="x32",this._mask=18,this.connected=void 0}return Ee.prototype.chdir=function(qe){Te===null&&(Te=c(9)),this._cwd=Te.resolve(qe)},Ee.prototype.cwd=function(){return this._cwd},Ee.prototype.uptime=function(){return(Date.now()-this.startTime)/1e3|0},Ee.prototype.nextTick=function(qe){for(var Be=[],Ne=1;Ne<arguments.length;Ne++)Be[Ne-1]=arguments[Ne];this._queue.push(new Oe(qe,Be))},Ee.prototype.abort=function(){this.emit("abort")},Ee.prototype.exit=function(qe){this.exitCode=qe,this.emit("exit",[qe])},Ee.prototype.getgid=function(){return this._gid},Ee.prototype.setgid=function(qe){typeof qe=="number"?this._gid=qe:this._gid=1},Ee.prototype.getuid=function(){return this._uid},Ee.prototype.setuid=function(qe){typeof qe=="number"?this._uid=qe:this._uid=1},Ee.prototype.kill=function(qe,Be){this.emit("kill",[qe,Be])},Ee.prototype.memoryUsage=function(){return{rss:0,heapTotal:0,heapUsed:0}},Ee.prototype.umask=function(qe){qe===void 0&&(qe=this._mask);var Be=this._mask;return this._mask=qe,this.emit("umask",[qe]),Be},Ee.prototype.hrtime=function(){var qe;typeof performance<"u"?qe=performance.now():Date.now?qe=Date.now():qe=new Date().getTime();var Be=qe/1e3|0;return qe-=Be*1e3,qe=qe*1e6|0,[Be,qe]},Ee.prototype.initializeTTYs=function(){if(this.stdout===null){var qe=c(10);this.stdout=new qe,this.stderr=new qe,this.stdin=new qe}},Ee.prototype.disconnect=function(){},Ee}(g.EventEmitter);e.exports=_e}).call(i,"/")},function(e,i){function c(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}e.exports=c,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._maxListeners=void 0,c.defaultMaxListeners=10,c.prototype.setMaxListeners=function(Oe){if(!m(Oe)||Oe<0||isNaN(Oe))throw TypeError("n must be a positive number");return this._maxListeners=Oe,this},c.prototype.emit=function(Oe){var Ie,_e,De,Ee,qe,Be;if(this._events||(this._events={}),Oe==="error"&&(!this._events.error||g(this._events.error)&&!this._events.error.length)){if(Ie=arguments[1],Ie instanceof Error)throw Ie;var Ne=new Error('Uncaught, unspecified "error" event. ('+Ie+")");throw Ne.context=Ie,Ne}if(_e=this._events[Oe],Te(_e))return!1;if(f(_e))switch(arguments.length){case 1:_e.call(this);break;case 2:_e.call(this,arguments[1]);break;case 3:_e.call(this,arguments[1],arguments[2]);break;default:Ee=Array.prototype.slice.call(arguments,1),_e.apply(this,Ee)}else if(g(_e))for(Ee=Array.prototype.slice.call(arguments,1),Be=_e.slice(),De=Be.length,qe=0;qe<De;qe++)Be[qe].apply(this,Ee);return!0},c.prototype.addListener=function(Oe,Ie){var _e;if(!f(Ie))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",Oe,f(Ie.listener)?Ie.listener:Ie),this._events[Oe]?g(this._events[Oe])?this._events[Oe].push(Ie):this._events[Oe]=[this._events[Oe],Ie]:this._events[Oe]=Ie,g(this._events[Oe])&&!this._events[Oe].warned&&(Te(this._maxListeners)?_e=c.defaultMaxListeners:_e=this._maxListeners,_e&&_e>0&&this._events[Oe].length>_e&&(this._events[Oe].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[Oe].length),typeof console.trace=="function"&&console.trace())),this},c.prototype.on=c.prototype.addListener,c.prototype.once=function(Oe,Ie){if(!f(Ie))throw TypeError("listener must be a function");var _e=!1;function De(){this.removeListener(Oe,De),_e||(_e=!0,Ie.apply(this,arguments))}return De.listener=Ie,this.on(Oe,De),this},c.prototype.removeListener=function(Oe,Ie){var _e,De,Ee,qe;if(!f(Ie))throw TypeError("listener must be a function");if(!this._events||!this._events[Oe])return this;if(_e=this._events[Oe],Ee=_e.length,De=-1,_e===Ie||f(_e.listener)&&_e.listener===Ie)delete this._events[Oe],this._events.removeListener&&this.emit("removeListener",Oe,Ie);else if(g(_e)){for(qe=Ee;qe-- >0;)if(_e[qe]===Ie||_e[qe].listener&&_e[qe].listener===Ie){De=qe;break}if(De<0)return this;_e.length===1?(_e.length=0,delete this._events[Oe]):_e.splice(De,1),this._events.removeListener&&this.emit("removeListener",Oe,Ie)}return this},c.prototype.removeAllListeners=function(Oe){var Ie,_e;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[Oe]&&delete this._events[Oe],this;if(arguments.length===0){for(Ie in this._events)Ie!=="removeListener"&&this.removeAllListeners(Ie);return this.removeAllListeners("removeListener"),this._events={},this}if(_e=this._events[Oe],f(_e))this.removeListener(Oe,_e);else if(_e)for(;_e.length;)this.removeListener(Oe,_e[_e.length-1]);return delete this._events[Oe],this},c.prototype.listeners=function(Oe){var Ie;return!this._events||!this._events[Oe]?Ie=[]:f(this._events[Oe])?Ie=[this._events[Oe]]:Ie=this._events[Oe].slice(),Ie},c.prototype.listenerCount=function(Oe){if(this._events){var Ie=this._events[Oe];if(f(Ie))return 1;if(Ie)return Ie.length}return 0},c.listenerCount=function(Oe,Ie){return Oe.listenerCount(Ie)};function f(Oe){return typeof Oe=="function"}function m(Oe){return typeof Oe=="number"}function g(Oe){return typeof Oe=="object"&&Oe!==null}function Te(Oe){return Oe===void 0}},function(e,i,c){(function(f){var m=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;function g(Oe){var Ie=m.exec(Oe);return Ie.shift(),Ie}var Te=function(){function Oe(){}return Oe.normalize=function(Ie){Ie===""&&(Ie=".");var _e=Ie.charAt(0)===Oe.sep;Ie=Oe._removeDuplicateSeps(Ie);for(var De=Ie.split(Oe.sep),Ee=[],qe=0;qe<De.length;qe++){var Be=De[qe];Be!=="."&&(Be===".."&&(_e||!_e&&Ee.length>0&&Ee[0]!=="..")?Ee.pop():Ee.push(Be))}if(!_e&&Ee.length<2)switch(Ee.length){case 1:Ee[0]===""&&Ee.unshift(".");break;default:Ee.push(".")}return Ie=Ee.join(Oe.sep),_e&&Ie.charAt(0)!==Oe.sep&&(Ie=Oe.sep+Ie),Ie},Oe.join=function(){for(var Ie=[],_e=0;_e<arguments.length;_e++)Ie[_e-0]=arguments[_e];for(var De=[],Ee=0;Ee<Ie.length;Ee++){var qe=Ie[Ee];if(typeof qe!="string")throw new TypeError("Invalid argument type to path.join: "+typeof qe);qe!==""&&De.push(qe)}return Oe.normalize(De.join(Oe.sep))},Oe.resolve=function(){for(var Ie=[],_e=0;_e<arguments.length;_e++)Ie[_e-0]=arguments[_e];for(var De=[],Ee=0;Ee<Ie.length;Ee++){var qe=Ie[Ee];if(typeof qe!="string")throw new TypeError("Invalid argument type to path.join: "+typeof qe);qe!==""&&(qe.charAt(0)===Oe.sep&&(De=[]),De.push(qe))}var Be=Oe.normalize(De.join(Oe.sep));if(Be.length>1&&Be.charAt(Be.length-1)===Oe.sep)return Be.substr(0,Be.length-1);if(Be.charAt(0)!==Oe.sep){Be.charAt(0)==="."&&(Be.length===1||Be.charAt(1)===Oe.sep)&&(Be=Be.length===1?"":Be.substr(2));var Ne=f.cwd();Be!==""?Be=this.normalize(Ne+(Ne!=="/"?Oe.sep:"")+Be):Be=Ne}return Be},Oe.relative=function(Ie,_e){var De;Ie=Oe.resolve(Ie),_e=Oe.resolve(_e);var Ee=Ie.split(Oe.sep),qe=_e.split(Oe.sep);qe.shift(),Ee.shift();var Be=0,Ne=[];for(De=0;De<Ee.length;De++){var Ve=Ee[De];if(Ve!==qe[De]){Be=Ee.length-De;break}}Ne=qe.slice(De),Ee.length===1&&Ee[0]===""&&(Be=0),Be>Ee.length&&(Be=Ee.length);var Ue="";for(De=0;De<Be;De++)Ue+="../";return Ue+=Ne.join(Oe.sep),Ue.length>1&&Ue.charAt(Ue.length-1)===Oe.sep&&(Ue=Ue.substr(0,Ue.length-1)),Ue},Oe.dirname=function(Ie){Ie=Oe._removeDuplicateSeps(Ie);var _e=Ie.charAt(0)===Oe.sep,De=Ie.split(Oe.sep);return De.pop()===""&&De.length>0&&De.pop(),De.length>1||De.length===1&&!_e?De.join(Oe.sep):_e?Oe.sep:"."},Oe.basename=function(Ie,_e){if(_e===void 0&&(_e=""),Ie==="")return Ie;Ie=Oe.normalize(Ie);var De=Ie.split(Oe.sep),Ee=De[De.length-1];if(Ee===""&&De.length>1)return De[De.length-2];if(_e.length>0){var qe=Ee.substr(Ee.length-_e.length);if(qe===_e)return Ee.substr(0,Ee.length-_e.length)}return Ee},Oe.extname=function(Ie){Ie=Oe.normalize(Ie);var _e=Ie.split(Oe.sep);if(Ie=_e.pop(),Ie===""&&_e.length>0&&(Ie=_e.pop()),Ie==="..")return"";var De=Ie.lastIndexOf(".");return De===-1||De===0?"":Ie.substr(De)},Oe.isAbsolute=function(Ie){return Ie.length>0&&Ie.charAt(0)===Oe.sep},Oe._makeLong=function(Ie){return Ie},Oe.parse=function(Ie){var _e=g(Ie);return{root:_e[0],dir:_e[0]+_e[1].slice(0,-1),base:_e[2],ext:_e[3],name:_e[2].slice(0,_e[2].length-_e[3].length)}},Oe.format=function(Ie){if(Ie===null||typeof Ie!="object")throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof Ie);var _e=Ie.root||"";if(typeof _e!="string")throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof Ie.root);var De=Ie.dir?Ie.dir+Oe.sep:"",Ee=Ie.base||"";return De+Ee},Oe._removeDuplicateSeps=function(Ie){return Ie=Ie.replace(this._replaceRegex,this.sep),Ie},Oe.sep="/",Oe._replaceRegex=new RegExp("//+","g"),Oe.delimiter=":",Oe.posix=Oe,Oe.win32=Oe,Oe}();e.exports=Te}).call(i,c(6))},function(e,i,c){(function(f){var m=this&&this.__extends||function(Oe,Ie){for(var _e in Ie)Ie.hasOwnProperty(_e)&&(Oe[_e]=Ie[_e]);function De(){this.constructor=Oe}Oe.prototype=Ie===null?Object.create(Ie):(De.prototype=Ie.prototype,new De)},g=c(11),Te=function(Oe){m(Ie,Oe);function Ie(){Oe.call(this),this.isRaw=!1,this.columns=80,this.rows=120,this.isTTY=!0,this._bufferedWrites=[],this._waitingForWrites=!1}return Ie.prototype.setRawMode=function(_e){this.isRaw!==_e&&(this.isRaw=_e,this.emit("modeChange"))},Ie.prototype.changeColumns=function(_e){_e!==this.columns&&(this.columns=_e,this.emit("resize"))},Ie.prototype.changeRows=function(_e){_e!==this.rows&&(this.rows=_e,this.emit("resize"))},Ie.isatty=function(_e){return _e&&_e instanceof Ie},Ie.prototype._write=function(_e,De,Ee){var qe;try{var Be;typeof _e=="string"?Be=new f(_e,De):Be=_e,this._bufferedWrites.push(Be),this._waitingForWrites&&this._read(1024)}catch(Ne){qe=Ne}finally{Ee(qe)}},Ie.prototype._read=function(_e){if(this._bufferedWrites.length===0)this._waitingForWrites=!0;else for(;this._bufferedWrites.length>0&&(this._waitingForWrites=this.push(this._bufferedWrites.shift()),!!this._waitingForWrites););},Ie}(g.Duplex);e.exports=Te}).call(i,c(1))},function(e,i,c){e.exports=g;var f=c(8).EventEmitter,m=c(12);m(g,f),g.Readable=c(13),g.Writable=c(27),g.Duplex=c(28),g.Transform=c(29),g.PassThrough=c(30),g.Stream=g;function g(){f.call(this)}g.prototype.pipe=function(Te,Oe){var Ie=this;function _e(Ue){Te.writable&&Te.write(Ue)===!1&&Ie.pause&&Ie.pause()}Ie.on("data",_e);function De(){Ie.readable&&Ie.resume&&Ie.resume()}Te.on("drain",De),!Te._isStdio&&(!Oe||Oe.end!==!1)&&(Ie.on("end",qe),Ie.on("close",Be));var Ee=!1;function qe(){Ee||(Ee=!0,Te.end())}function Be(){Ee||(Ee=!0,typeof Te.destroy=="function"&&Te.destroy())}function Ne(Ue){if(Ve(),f.listenerCount(this,"error")===0)throw Ue}Ie.on("error",Ne),Te.on("error",Ne);function Ve(){Ie.removeListener("data",_e),Te.removeListener("drain",De),Ie.removeListener("end",qe),Ie.removeListener("close",Be),Ie.removeListener("error",Ne),Te.removeListener("error",Ne),Ie.removeListener("end",Ve),Ie.removeListener("close",Ve),Te.removeListener("close",Ve)}return Ie.on("end",Ve),Ie.on("close",Ve),Te.on("close",Ve),Te.emit("pipe",Ie),Te}},function(e,i){typeof Object.create=="function"?e.exports=function(f,m){f.super_=m,f.prototype=Object.create(m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(f,m){f.super_=m;var g=function(){};g.prototype=m.prototype,f.prototype=new g,f.prototype.constructor=f}},function(e,i,c){(function(f){var m=function(){try{return c(11)}catch{}}();i=e.exports=c(14),i.Stream=m||i,i.Readable=i,i.Writable=c(22),i.Duplex=c(21),i.Transform=c(25),i.PassThrough=c(26),!f.browser&&f.env.READABLE_STREAM==="disable"&&m&&(e.exports=m)}).call(i,c(6))},function(e,i,c){(function(f){e.exports=He;var m=c(15),g=c(16),Te;He.ReadableState=We,c(8).EventEmitter;var Oe=function(lt,yt){return lt.listeners(yt).length},Ie;(function(){try{Ie=c(11)}catch{}finally{Ie||(Ie=c(8).EventEmitter)}})();var _e=c(2).Buffer,De=c(17),Ee=c(18);Ee.inherits=c(12);var qe=c(19),Be=void 0;qe&&qe.debuglog?Be=qe.debuglog("stream"):Be=function(){};var Ne=c(20),Ve;Ee.inherits(He,Ie);function Ue(lt,yt,Jt){if(typeof lt.prependListener=="function")return lt.prependListener(yt,Jt);!lt._events||!lt._events[yt]?lt.on(yt,Jt):g(lt._events[yt])?lt._events[yt].unshift(Jt):lt._events[yt]=[Jt,lt._events[yt]]}function We(lt,yt){Te=Te||c(21),lt=lt||{},this.objectMode=!!lt.objectMode,yt instanceof Te&&(this.objectMode=this.objectMode||!!lt.readableObjectMode);var Jt=lt.highWaterMark,$t=this.objectMode?16:16*1024;this.highWaterMark=Jt||Jt===0?Jt:$t,this.highWaterMark=~~this.highWaterMark,this.buffer=new Ne,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=lt.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,lt.encoding&&(Ve||(Ve=c(24).StringDecoder),this.decoder=new Ve(lt.encoding),this.encoding=lt.encoding)}function He(lt){if(Te=Te||c(21),!(this instanceof He))return new He(lt);this._readableState=new We(lt,this),this.readable=!0,lt&&typeof lt.read=="function"&&(this._read=lt.read),Ie.call(this)}He.prototype.push=function(lt,yt){var Jt=this._readableState;return!Jt.objectMode&&typeof lt=="string"&&(yt=yt||Jt.defaultEncoding,yt!==Jt.encoding&&(lt=De.from(lt,yt),yt="")),Ze(this,Jt,lt,yt,!1)},He.prototype.unshift=function(lt){var yt=this._readableState;return Ze(this,yt,lt,"",!0)},He.prototype.isPaused=function(){return this._readableState.flowing===!1};function Ze(lt,yt,Jt,$t,dr){var Xe=tt(yt,Jt);if(Xe)lt.emit("error",Xe);else if(Jt===null)yt.reading=!1,pt(lt,yt);else if(yt.objectMode||Jt&&Jt.length>0)if(yt.ended&&!dr){var At=new Error("stream.push() after EOF");lt.emit("error",At)}else if(yt.endEmitted&&dr){var Wt=new Error("stream.unshift() after end event");lt.emit("error",Wt)}else{var ht;yt.decoder&&!dr&&!$t&&(Jt=yt.decoder.write(Jt),ht=!yt.objectMode&&Jt.length===0),dr||(yt.reading=!1),ht||(yt.flowing&&yt.length===0&&!yt.sync?(lt.emit("data",Jt),lt.read(0)):(yt.length+=yt.objectMode?1:Jt.length,dr?yt.buffer.unshift(Jt):yt.buffer.push(Jt),yt.needReadable&&nt(lt))),Je(lt,yt)}else dr||(yt.reading=!1);return st(yt)}function st(lt){return!lt.ended&&(lt.needReadable||lt.length<lt.highWaterMark||lt.length===0)}He.prototype.setEncoding=function(lt){return Ve||(Ve=c(24).StringDecoder),this._readableState.decoder=new Ve(lt),this._readableState.encoding=lt,this};var it=8388608;function vt(lt){return lt>=it?lt=it:(lt--,lt|=lt>>>1,lt|=lt>>>2,lt|=lt>>>4,lt|=lt>>>8,lt|=lt>>>16,lt++),lt}function gt(lt,yt){return lt<=0||yt.length===0&&yt.ended?0:yt.objectMode?1:lt!==lt?yt.flowing&&yt.length?yt.buffer.head.data.length:yt.length:(lt>yt.highWaterMark&&(yt.highWaterMark=vt(lt)),lt<=yt.length?lt:yt.ended?yt.length:(yt.needReadable=!0,0))}He.prototype.read=function(lt){Be("read",lt),lt=parseInt(lt,10);var yt=this._readableState,Jt=lt;if(lt!==0&&(yt.emittedReadable=!1),lt===0&&yt.needReadable&&(yt.length>=yt.highWaterMark||yt.ended))return Be("read: emitReadable",yt.length,yt.ended),yt.length===0&&yt.ended?Kt(this):nt(this),null;if(lt=gt(lt,yt),lt===0&&yt.ended)return yt.length===0&&Kt(this),null;var $t=yt.needReadable;Be("need readable",$t),(yt.length===0||yt.length-lt<yt.highWaterMark)&&($t=!0,Be("length less than watermark",$t)),yt.ended||yt.reading?($t=!1,Be("reading or ended",$t)):$t&&(Be("do read"),yt.reading=!0,yt.sync=!0,yt.length===0&&(yt.needReadable=!0),this._read(yt.highWaterMark),yt.sync=!1,yt.reading||(lt=gt(Jt,yt)));var dr;return lt>0?dr=ct(lt,yt):dr=null,dr===null?(yt.needReadable=!0,lt=0):yt.length-=lt,yt.length===0&&(yt.ended||(yt.needReadable=!0),Jt!==lt&&yt.ended&&Kt(this)),dr!==null&&this.emit("data",dr),dr};function tt(lt,yt){var Jt=null;return!_e.isBuffer(yt)&&typeof yt!="string"&&yt!==null&&yt!==void 0&&!lt.objectMode&&(Jt=new TypeError("Invalid non-string/buffer chunk")),Jt}function pt(lt,yt){if(!yt.ended){if(yt.decoder){var Jt=yt.decoder.end();Jt&&Jt.length&&(yt.buffer.push(Jt),yt.length+=yt.objectMode?1:Jt.length)}yt.ended=!0,nt(lt)}}function nt(lt){var yt=lt._readableState;yt.needReadable=!1,yt.emittedReadable||(Be("emitReadable",yt.flowing),yt.emittedReadable=!0,yt.sync?m(mt,lt):mt(lt))}function mt(lt){Be("emit readable"),lt.emit("readable"),St(lt)}function Je(lt,yt){yt.readingMore||(yt.readingMore=!0,m(Ft,lt,yt))}function Ft(lt,yt){for(var Jt=yt.length;!yt.reading&&!yt.flowing&&!yt.ended&&yt.length<yt.highWaterMark&&(Be("maybeReadMore read 0"),lt.read(0),Jt!==yt.length);)Jt=yt.length;yt.readingMore=!1}He.prototype._read=function(lt){this.emit("error",new Error("_read() is not implemented"))},He.prototype.pipe=function(lt,yt){var Jt=this,$t=this._readableState;switch($t.pipesCount){case 0:$t.pipes=lt;break;case 1:$t.pipes=[$t.pipes,lt];break;default:$t.pipes.push(lt);break}$t.pipesCount+=1,Be("pipe count=%d opts=%j",$t.pipesCount,yt);var dr=(!yt||yt.end!==!1)&&lt!==f.stdout&&lt!==f.stderr,Xe=dr?Wt:Dt;$t.endEmitted?m(Xe):Jt.once("end",Xe),lt.on("unpipe",At);function At(It){Be("onunpipe"),It===Jt&&Dt()}function Wt(){Be("onend"),lt.end()}var ht=Zt(Jt);lt.on("drain",ht);var xt=!1;function Dt(){Be("cleanup"),lt.removeListener("close",Ke),lt.removeListener("finish",ut),lt.removeListener("drain",ht),lt.removeListener("error",je),lt.removeListener("unpipe",At),Jt.removeListener("end",Wt),Jt.removeListener("end",Dt),Jt.removeListener("data",rt),xt=!0,$t.awaitDrain&&(!lt._writableState||lt._writableState.needDrain)&&ht()}var er=!1;Jt.on("data",rt);function rt(It){Be("ondata"),er=!1;var zt=lt.write(It);zt===!1&&!er&&(($t.pipesCount===1&&$t.pipes===lt||$t.pipesCount>1&&sr($t.pipes,lt)!==-1)&&!xt&&(Be("false write response, pause",Jt._readableState.awaitDrain),Jt._readableState.awaitDrain++,er=!0),Jt.pause())}function je(It){Be("onerror",It),Et(),lt.removeListener("error",je),Oe(lt,"error")===0&&lt.emit("error",It)}Ue(lt,"error",je);function Ke(){lt.removeListener("finish",ut),Et()}lt.once("close",Ke);function ut(){Be("onfinish"),lt.removeListener("close",Ke),Et()}lt.once("finish",ut);function Et(){Be("unpipe"),Jt.unpipe(lt)}return lt.emit("pipe",Jt),$t.flowing||(Be("pipe resume"),Jt.resume()),lt};function Zt(lt){return function(){var yt=lt._readableState;Be("pipeOnDrain",yt.awaitDrain),yt.awaitDrain&&yt.awaitDrain--,yt.awaitDrain===0&&Oe(lt,"data")&&(yt.flowing=!0,St(lt))}}He.prototype.unpipe=function(lt){var yt=this._readableState;if(yt.pipesCount===0)return this;if(yt.pipesCount===1)return lt&&lt!==yt.pipes?this:(lt||(lt=yt.pipes),yt.pipes=null,yt.pipesCount=0,yt.flowing=!1,lt&&lt.emit("unpipe",this),this);if(!lt){var Jt=yt.pipes,$t=yt.pipesCount;yt.pipes=null,yt.pipesCount=0,yt.flowing=!1;for(var dr=0;dr<$t;dr++)Jt[dr].emit("unpipe",this);return this}var Xe=sr(yt.pipes,lt);return Xe===-1?this:(yt.pipes.splice(Xe,1),yt.pipesCount-=1,yt.pipesCount===1&&(yt.pipes=yt.pipes[0]),lt.emit("unpipe",this),this)},He.prototype.on=function(lt,yt){var Jt=Ie.prototype.on.call(this,lt,yt);if(lt==="data")this._readableState.flowing!==!1&&this.resume();else if(lt==="readable"){var $t=this._readableState;!$t.endEmitted&&!$t.readableListening&&($t.readableListening=$t.needReadable=!0,$t.emittedReadable=!1,$t.reading?$t.length&&nt(this):m(jt,this))}return Jt},He.prototype.addListener=He.prototype.on;function jt(lt){Be("readable nexttick read 0"),lt.read(0)}He.prototype.resume=function(){var lt=this._readableState;return lt.flowing||(Be("resume"),lt.flowing=!0,cr(this,lt)),this};function cr(lt,yt){yt.resumeScheduled||(yt.resumeScheduled=!0,m(bt,lt,yt))}function bt(lt,yt){yt.reading||(Be("resume read 0"),lt.read(0)),yt.resumeScheduled=!1,yt.awaitDrain=0,lt.emit("resume"),St(lt),yt.flowing&&!yt.reading&&lt.read(0)}He.prototype.pause=function(){return Be("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Be("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function St(lt){var yt=lt._readableState;for(Be("flow",yt.flowing);yt.flowing&&lt.read()!==null;);}He.prototype.wrap=function(lt){var yt=this._readableState,Jt=!1,$t=this;lt.on("end",function(){if(Be("wrapped end"),yt.decoder&&!yt.ended){var At=yt.decoder.end();At&&At.length&&$t.push(At)}$t.push(null)}),lt.on("data",function(At){if(Be("wrapped data"),yt.decoder&&(At=yt.decoder.write(At)),!(yt.objectMode&&At==null)&&!(!yt.objectMode&&(!At||!At.length))){var Wt=$t.push(At);Wt||(Jt=!0,lt.pause())}});for(var dr in lt)this[dr]===void 0&&typeof lt[dr]=="function"&&(this[dr]=function(At){return function(){return lt[At].apply(lt,arguments)}}(dr));var Xe=["error","close","destroy","pause","resume"];return Rr(Xe,function(At){lt.on(At,$t.emit.bind($t,At))}),$t._read=function(At){Be("wrapped _read",At),Jt&&(Jt=!1,lt.resume())},$t},He._fromList=ct;function ct(lt,yt){if(yt.length===0)return null;var Jt;return yt.objectMode?Jt=yt.buffer.shift():!lt||lt>=yt.length?(yt.decoder?Jt=yt.buffer.join(""):yt.buffer.length===1?Jt=yt.buffer.head.data:Jt=yt.buffer.concat(yt.length),yt.buffer.clear()):Jt=dt(lt,yt.buffer,yt.decoder),Jt}function dt(lt,yt,Jt){var $t;return lt<yt.head.data.length?($t=yt.head.data.slice(0,lt),yt.head.data=yt.head.data.slice(lt)):lt===yt.head.data.length?$t=yt.shift():$t=Jt?Pt(lt,yt):Ct(lt,yt),$t}function Pt(lt,yt){var Jt=yt.head,$t=1,dr=Jt.data;for(lt-=dr.length;Jt=Jt.next;){var Xe=Jt.data,At=lt>Xe.length?Xe.length:lt;if(At===Xe.length?dr+=Xe:dr+=Xe.slice(0,lt),lt-=At,lt===0){At===Xe.length?(++$t,Jt.next?yt.head=Jt.next:yt.head=yt.tail=null):(yt.head=Jt,Jt.data=Xe.slice(At));break}++$t}return yt.length-=$t,dr}function Ct(lt,yt){var Jt=De.allocUnsafe(lt),$t=yt.head,dr=1;for($t.data.copy(Jt),lt-=$t.data.length;$t=$t.next;){var Xe=$t.data,At=lt>Xe.length?Xe.length:lt;if(Xe.copy(Jt,Jt.length-lt,0,At),lt-=At,lt===0){At===Xe.length?(++dr,$t.next?yt.head=$t.next:yt.head=yt.tail=null):(yt.head=$t,$t.data=Xe.slice(At));break}++dr}return yt.length-=dr,Jt}function Kt(lt){var yt=lt._readableState;if(yt.length>0)throw new Error('"endReadable()" called on non-empty stream');yt.endEmitted||(yt.ended=!0,m(fr,yt,lt))}function fr(lt,yt){!lt.endEmitted&&lt.length===0&&(lt.endEmitted=!0,yt.readable=!1,yt.emit("end"))}function Rr(lt,yt){for(var Jt=0,$t=lt.length;Jt<$t;Jt++)yt(lt[Jt],Jt)}function sr(lt,yt){for(var Jt=0,$t=lt.length;Jt<$t;Jt++)if(lt[Jt]===yt)return Jt;return-1}}).call(i,c(6))},function(e,i,c){(function(f){!f.version||f.version.indexOf("v0.")===0||f.version.indexOf("v1.")===0&&f.version.indexOf("v1.8.")!==0?e.exports=m:e.exports=f.nextTick;function m(g,Te,Oe,Ie){if(typeof g!="function")throw new TypeError('"callback" argument must be a function');var _e=arguments.length,De,Ee;switch(_e){case 0:case 1:return f.nextTick(g);case 2:return f.nextTick(function(){g.call(null,Te)});case 3:return f.nextTick(function(){g.call(null,Te,Oe)});case 4:return f.nextTick(function(){g.call(null,Te,Oe,Ie)});default:for(De=new Array(_e-1),Ee=0;Ee<De.length;)De[Ee++]=arguments[Ee];return f.nextTick(function(){g.apply(null,De)})}}}).call(i,c(6))},function(e,i){var c={}.toString;e.exports=Array.isArray||function(f){return c.call(f)=="[object Array]"}},function(e,i,c){(function(f){var m=c(2),g=m.Buffer,Te=m.SlowBuffer,Oe=m.kMaxLength||2147483647;i.alloc=function(_e,De,Ee){if(typeof g.alloc=="function")return g.alloc(_e,De,Ee);if(typeof Ee=="number")throw new TypeError("encoding must not be number");if(typeof _e!="number")throw new TypeError("size must be a number");if(_e>Oe)throw new RangeError("size is too large");var qe=Ee,Be=De;Be===void 0&&(qe=void 0,Be=0);var Ne=new g(_e);if(typeof Be=="string")for(var Ve=new g(Be,qe),Ue=Ve.length,We=-1;++We<_e;)Ne[We]=Ve[We%Ue];else Ne.fill(Be);return Ne},i.allocUnsafe=function(_e){if(typeof g.allocUnsafe=="function")return g.allocUnsafe(_e);if(typeof _e!="number")throw new TypeError("size must be a number");if(_e>Oe)throw new RangeError("size is too large");return new g(_e)},i.from=function(_e,De,Ee){if(typeof g.from=="function"&&(!f.Uint8Array||Uint8Array.from!==g.from))return g.from(_e,De,Ee);if(typeof _e=="number")throw new TypeError('"value" argument must not be a number');if(typeof _e=="string")return new g(_e,De);if(typeof ArrayBuffer<"u"&&_e instanceof ArrayBuffer){var qe=De;if(arguments.length===1)return new g(_e);typeof qe>"u"&&(qe=0);var Be=Ee;if(typeof Be>"u"&&(Be=_e.byteLength-qe),qe>=_e.byteLength)throw new RangeError("'offset' is out of bounds");if(Be>_e.byteLength-qe)throw new RangeError("'length' is out of bounds");return new g(_e.slice(qe,qe+Be))}if(g.isBuffer(_e)){var Ne=new g(_e.length);return _e.copy(Ne,0,0,_e.length),Ne}if(_e){if(Array.isArray(_e)||typeof ArrayBuffer<"u"&&_e.buffer instanceof ArrayBuffer||"length"in _e)return new g(_e);if(_e.type==="Buffer"&&Array.isArray(_e.data))return new g(_e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},i.allocUnsafeSlow=function(_e){if(typeof g.allocUnsafeSlow=="function")return g.allocUnsafeSlow(_e);if(typeof _e!="number")throw new TypeError("size must be a number");if(_e>=Oe)throw new RangeError("size is too large");return new Te(_e)}}).call(i,function(){return this}())},function(e,i,c){(function(f){function m(Ze){return Array.isArray?Array.isArray(Ze):He(Ze)==="[object Array]"}i.isArray=m;function g(Ze){return typeof Ze=="boolean"}i.isBoolean=g;function Te(Ze){return Ze===null}i.isNull=Te;function Oe(Ze){return Ze==null}i.isNullOrUndefined=Oe;function Ie(Ze){return typeof Ze=="number"}i.isNumber=Ie;function _e(Ze){return typeof Ze=="string"}i.isString=_e;function De(Ze){return typeof Ze=="symbol"}i.isSymbol=De;function Ee(Ze){return Ze===void 0}i.isUndefined=Ee;function qe(Ze){return He(Ze)==="[object RegExp]"}i.isRegExp=qe;function Be(Ze){return typeof Ze=="object"&&Ze!==null}i.isObject=Be;function Ne(Ze){return He(Ze)==="[object Date]"}i.isDate=Ne;function Ve(Ze){return He(Ze)==="[object Error]"||Ze instanceof Error}i.isError=Ve;function Ue(Ze){return typeof Ze=="function"}i.isFunction=Ue;function We(Ze){return Ze===null||typeof Ze=="boolean"||typeof Ze=="number"||typeof Ze=="string"||typeof Ze=="symbol"||typeof Ze>"u"}i.isPrimitive=We,i.isBuffer=f.isBuffer;function He(Ze){return Object.prototype.toString.call(Ze)}}).call(i,c(1))},function(e,i){},function(e,i,c){c(2).Buffer;var f=c(17);e.exports=m;function m(){this.head=null,this.tail=null,this.length=0}m.prototype.push=function(g){var Te={data:g,next:null};this.length>0?this.tail.next=Te:this.head=Te,this.tail=Te,++this.length},m.prototype.unshift=function(g){var Te={data:g,next:this.head};this.length===0&&(this.tail=Te),this.head=Te,++this.length},m.prototype.shift=function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}},m.prototype.clear=function(){this.head=this.tail=null,this.length=0},m.prototype.join=function(g){if(this.length===0)return"";for(var Te=this.head,Oe=""+Te.data;Te=Te.next;)Oe+=g+Te.data;return Oe},m.prototype.concat=function(g){if(this.length===0)return f.alloc(0);if(this.length===1)return this.head.data;for(var Te=f.allocUnsafe(g>>>0),Oe=this.head,Ie=0;Oe;)Oe.data.copy(Te,Ie),Ie+=Oe.data.length,Oe=Oe.next;return Te}},function(e,i,c){var f=Object.keys||function(Ne){var Ve=[];for(var Ue in Ne)Ve.push(Ue);return Ve};e.exports=Ee;var m=c(15),g=c(18);g.inherits=c(12);var Te=c(14),Oe=c(22);g.inherits(Ee,Te);for(var Ie=f(Oe.prototype),_e=0;_e<Ie.length;_e++){var De=Ie[_e];Ee.prototype[De]||(Ee.prototype[De]=Oe.prototype[De])}function Ee(Ne){if(!(this instanceof Ee))return new Ee(Ne);Te.call(this,Ne),Oe.call(this,Ne),Ne&&Ne.readable===!1&&(this.readable=!1),Ne&&Ne.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,Ne&&Ne.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",qe)}function qe(){this.allowHalfOpen||this._writableState.ended||m(Be,this)}function Be(Ne){Ne.end()}},function(e,i,c){(function(f){e.exports=Ue;var m=c(15),g=!f.browser&&["v0.10","v0.9."].indexOf(f.version.slice(0,5))>-1?setImmediate:m,Te;Ue.WritableState=Ne;var Oe=c(18);Oe.inherits=c(12);var Ie={deprecate:c(23)},_e;(function(){try{_e=c(11)}catch{}finally{_e||(_e=c(8).EventEmitter)}})();var De=c(2).Buffer,Ee=c(17);Oe.inherits(Ue,_e);function qe(){}function Be(bt,St,ct){this.chunk=bt,this.encoding=St,this.callback=ct,this.next=null}function Ne(bt,St){Te=Te||c(21),bt=bt||{},this.objectMode=!!bt.objectMode,St instanceof Te&&(this.objectMode=this.objectMode||!!bt.writableObjectMode);var ct=bt.highWaterMark,dt=this.objectMode?16:16*1024;this.highWaterMark=ct||ct===0?ct:dt,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var Pt=bt.decodeStrings===!1;this.decodeStrings=!Pt,this.defaultEncoding=bt.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ct){tt(St,Ct)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new cr(this)}Ne.prototype.getBuffer=function(){for(var St=this.bufferedRequest,ct=[];St;)ct.push(St),St=St.next;return ct},function(){try{Object.defineProperty(Ne.prototype,"buffer",{get:Ie.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch{}}();var Ve;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Ve=Function.prototype[Symbol.hasInstance],Object.defineProperty(Ue,Symbol.hasInstance,{value:function(bt){return Ve.call(this,bt)?!0:bt&&bt._writableState instanceof Ne}})):Ve=function(bt){return bt instanceof this};function Ue(bt){if(Te=Te||c(21),!Ve.call(Ue,this)&&!(this instanceof Te))return new Ue(bt);this._writableState=new Ne(bt,this),this.writable=!0,bt&&(typeof bt.write=="function"&&(this._write=bt.write),typeof bt.writev=="function"&&(this._writev=bt.writev)),_e.call(this)}Ue.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function We(bt,St){var ct=new Error("write after end");bt.emit("error",ct),m(St,ct)}function He(bt,St,ct,dt){var Pt=!0,Ct=!1;return ct===null?Ct=new TypeError("May not write null values to stream"):typeof ct!="string"&&ct!==void 0&&!St.objectMode&&(Ct=new TypeError("Invalid non-string/buffer chunk")),Ct&&(bt.emit("error",Ct),m(dt,Ct),Pt=!1),Pt}Ue.prototype.write=function(bt,St,ct){var dt=this._writableState,Pt=!1,Ct=De.isBuffer(bt);return typeof St=="function"&&(ct=St,St=null),Ct?St="buffer":St||(St=dt.defaultEncoding),typeof ct!="function"&&(ct=qe),dt.ended?We(this,ct):(Ct||He(this,dt,bt,ct))&&(dt.pendingcb++,Pt=st(this,dt,Ct,bt,St,ct)),Pt},Ue.prototype.cork=function(){var bt=this._writableState;bt.corked++},Ue.prototype.uncork=function(){var bt=this._writableState;bt.corked&&(bt.corked--,!bt.writing&&!bt.corked&&!bt.finished&&!bt.bufferProcessing&&bt.bufferedRequest&&mt(this,bt))},Ue.prototype.setDefaultEncoding=function(St){if(typeof St=="string"&&(St=St.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((St+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+St);return this._writableState.defaultEncoding=St,this};function Ze(bt,St,ct){return!bt.objectMode&&bt.decodeStrings!==!1&&typeof St=="string"&&(St=Ee.from(St,ct)),St}function st(bt,St,ct,dt,Pt,Ct){ct||(dt=Ze(St,dt,Pt),De.isBuffer(dt)&&(Pt="buffer"));var Kt=St.objectMode?1:dt.length;St.length+=Kt;var fr=St.length<St.highWaterMark;if(fr||(St.needDrain=!0),St.writing||St.corked){var Rr=St.lastBufferedRequest;St.lastBufferedRequest=new Be(dt,Pt,Ct),Rr?Rr.next=St.lastBufferedRequest:St.bufferedRequest=St.lastBufferedRequest,St.bufferedRequestCount+=1}else it(bt,St,!1,Kt,dt,Pt,Ct);return fr}function it(bt,St,ct,dt,Pt,Ct,Kt){St.writelen=dt,St.writecb=Kt,St.writing=!0,St.sync=!0,ct?bt._writev(Pt,St.onwrite):bt._write(Pt,Ct,St.onwrite),St.sync=!1}function vt(bt,St,ct,dt,Pt){--St.pendingcb,ct?m(Pt,dt):Pt(dt),bt._writableState.errorEmitted=!0,bt.emit("error",dt)}function gt(bt){bt.writing=!1,bt.writecb=null,bt.length-=bt.writelen,bt.writelen=0}function tt(bt,St){var ct=bt._writableState,dt=ct.sync,Pt=ct.writecb;if(gt(ct),St)vt(bt,ct,dt,St,Pt);else{var Ct=Je(ct);!Ct&&!ct.corked&&!ct.bufferProcessing&&ct.bufferedRequest&&mt(bt,ct),dt?g(pt,bt,ct,Ct,Pt):pt(bt,ct,Ct,Pt)}}function pt(bt,St,ct,dt){ct||nt(bt,St),St.pendingcb--,dt(),Zt(bt,St)}function nt(bt,St){St.length===0&&St.needDrain&&(St.needDrain=!1,bt.emit("drain"))}function mt(bt,St){St.bufferProcessing=!0;var ct=St.bufferedRequest;if(bt._writev&&ct&&ct.next){var dt=St.bufferedRequestCount,Pt=new Array(dt),Ct=St.corkedRequestsFree;Ct.entry=ct;for(var Kt=0;ct;)Pt[Kt]=ct,ct=ct.next,Kt+=1;it(bt,St,!0,St.length,Pt,"",Ct.finish),St.pendingcb++,St.lastBufferedRequest=null,Ct.next?(St.corkedRequestsFree=Ct.next,Ct.next=null):St.corkedRequestsFree=new cr(St)}else{for(;ct;){var fr=ct.chunk,Rr=ct.encoding,sr=ct.callback,lt=St.objectMode?1:fr.length;if(it(bt,St,!1,lt,fr,Rr,sr),ct=ct.next,St.writing)break}ct===null&&(St.lastBufferedRequest=null)}St.bufferedRequestCount=0,St.bufferedRequest=ct,St.bufferProcessing=!1}Ue.prototype._write=function(bt,St,ct){ct(new Error("_write() is not implemented"))},Ue.prototype._writev=null,Ue.prototype.end=function(bt,St,ct){var dt=this._writableState;typeof bt=="function"?(ct=bt,bt=null,St=null):typeof St=="function"&&(ct=St,St=null),bt!=null&&this.write(bt,St),dt.corked&&(dt.corked=1,this.uncork()),!dt.ending&&!dt.finished&&jt(this,dt,ct)};function Je(bt){return bt.ending&&bt.length===0&&bt.bufferedRequest===null&&!bt.finished&&!bt.writing}function Ft(bt,St){St.prefinished||(St.prefinished=!0,bt.emit("prefinish"))}function Zt(bt,St){var ct=Je(St);return ct&&(St.pendingcb===0?(Ft(bt,St),St.finished=!0,bt.emit("finish")):Ft(bt,St)),ct}function jt(bt,St,ct){St.ending=!0,Zt(bt,St),ct&&(St.finished?m(ct):bt.once("finish",ct)),St.ended=!0,bt.writable=!1}function cr(bt){var St=this;this.next=null,this.entry=null,this.finish=function(ct){var dt=St.entry;for(St.entry=null;dt;){var Pt=dt.callback;bt.pendingcb--,Pt(ct),dt=dt.next}bt.corkedRequestsFree?bt.corkedRequestsFree.next=St:bt.corkedRequestsFree=St}}}).call(i,c(6))},function(e,i){(function(c){e.exports=f;function f(g,Te){if(m("noDeprecation"))return g;var Oe=!1;function Ie(){if(!Oe){if(m("throwDeprecation"))throw new Error(Te);m("traceDeprecation")?console.trace(Te):console.warn(Te),Oe=!0}return g.apply(this,arguments)}return Ie}function m(g){try{if(!c.localStorage)return!1}catch{return!1}var Te=c.localStorage[g];return Te==null?!1:String(Te).toLowerCase()==="true"}}).call(i,function(){return this}())},function(e,i,c){var f=c(2).Buffer,m=f.isEncoding||function(De){switch(De&&De.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function g(De){if(De&&!m(De))throw new Error("Unknown encoding: "+De)}var Te=i.StringDecoder=function(De){switch(this.encoding=(De||"utf8").toLowerCase().replace(/[-_]/,""),g(De),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=Ie;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=_e;break;default:this.write=Oe;return}this.charBuffer=new f(6),this.charReceived=0,this.charLength=0};Te.prototype.write=function(De){for(var Ee="";this.charLength;){var qe=De.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:De.length;if(De.copy(this.charBuffer,this.charReceived,0,qe),this.charReceived+=qe,this.charReceived<this.charLength)return"";De=De.slice(qe,De.length),Ee=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var Ne=Ee.charCodeAt(Ee.length-1);if(Ne>=55296&&Ne<=56319){this.charLength+=this.surrogateSize,Ee="";continue}if(this.charReceived=this.charLength=0,De.length===0)return Ee;break}this.detectIncompleteChar(De);var Be=De.length;this.charLength&&(De.copy(this.charBuffer,0,De.length-this.charReceived,Be),Be-=this.charReceived),Ee+=De.toString(this.encoding,0,Be);var Be=Ee.length-1,Ne=Ee.charCodeAt(Be);if(Ne>=55296&&Ne<=56319){var Ve=this.surrogateSize;return this.charLength+=Ve,this.charReceived+=Ve,this.charBuffer.copy(this.charBuffer,Ve,0,Ve),De.copy(this.charBuffer,0,0,Ve),Ee.substring(0,Be)}return Ee},Te.prototype.detectIncompleteChar=function(De){for(var Ee=De.length>=3?3:De.length;Ee>0;Ee--){var qe=De[De.length-Ee];if(Ee==1&&qe>>5==6){this.charLength=2;break}if(Ee<=2&&qe>>4==14){this.charLength=3;break}if(Ee<=3&&qe>>3==30){this.charLength=4;break}}this.charReceived=Ee},Te.prototype.end=function(De){var Ee="";if(De&&De.length&&(Ee=this.write(De)),this.charReceived){var qe=this.charReceived,Be=this.charBuffer,Ne=this.encoding;Ee+=Be.slice(0,qe).toString(Ne)}return Ee};function Oe(De){return De.toString(this.encoding)}function Ie(De){this.charReceived=De.length%2,this.charLength=this.charReceived?2:0}function _e(De){this.charReceived=De.length%3,this.charLength=this.charReceived?3:0}},function(e,i,c){e.exports=Oe;var f=c(21),m=c(18);m.inherits=c(12),m.inherits(Oe,f);function g(_e){this.afterTransform=function(De,Ee){return Te(_e,De,Ee)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function Te(_e,De,Ee){var qe=_e._transformState;qe.transforming=!1;var Be=qe.writecb;if(!Be)return _e.emit("error",new Error("no writecb in Transform class"));qe.writechunk=null,qe.writecb=null,Ee!=null&&_e.push(Ee),Be(De);var Ne=_e._readableState;Ne.reading=!1,(Ne.needReadable||Ne.length<Ne.highWaterMark)&&_e._read(Ne.highWaterMark)}function Oe(_e){if(!(this instanceof Oe))return new Oe(_e);f.call(this,_e),this._transformState=new g(this);var De=this;this._readableState.needReadable=!0,this._readableState.sync=!1,_e&&(typeof _e.transform=="function"&&(this._transform=_e.transform),typeof _e.flush=="function"&&(this._flush=_e.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(Ee,qe){Ie(De,Ee,qe)}):Ie(De)})}Oe.prototype.push=function(_e,De){return this._transformState.needTransform=!1,f.prototype.push.call(this,_e,De)},Oe.prototype._transform=function(_e,De,Ee){throw new Error("_transform() is not implemented")},Oe.prototype._write=function(_e,De,Ee){var qe=this._transformState;if(qe.writecb=Ee,qe.writechunk=_e,qe.writeencoding=De,!qe.transforming){var Be=this._readableState;(qe.needTransform||Be.needReadable||Be.length<Be.highWaterMark)&&this._read(Be.highWaterMark)}},Oe.prototype._read=function(_e){var De=this._transformState;De.writechunk!==null&&De.writecb&&!De.transforming?(De.transforming=!0,this._transform(De.writechunk,De.writeencoding,De.afterTransform)):De.needTransform=!0};function Ie(_e,De,Ee){if(De)return _e.emit("error",De);Ee!=null&&_e.push(Ee);var qe=_e._writableState,Be=_e._transformState;if(qe.length)throw new Error("Calling transform done when ws.length != 0");if(Be.transforming)throw new Error("Calling transform done when still transforming");return _e.push(null)}},function(e,i,c){e.exports=g;var f=c(25),m=c(18);m.inherits=c(12),m.inherits(g,f);function g(Te){if(!(this instanceof g))return new g(Te);f.call(this,Te)}g.prototype._transform=function(Te,Oe,Ie){Ie(null,Te)}},function(e,i,c){e.exports=c(22)},function(e,i,c){e.exports=c(21)},function(e,i,c){e.exports=c(25)},function(e,i,c){e.exports=c(26)},function(e,i,c){var f=c(32),m=c(33),g=c(38),Te=c(39),Oe=c(40),Ie=c(41),_e=c(42),De=Object.prototype.toString;function Ee(Ne){if(!(this instanceof Ee))return new Ee(Ne);this.options=m.assign({chunkSize:16384,windowBits:0,to:""},Ne||{});var Ve=this.options;Ve.raw&&Ve.windowBits>=0&&Ve.windowBits<16&&(Ve.windowBits=-Ve.windowBits,Ve.windowBits===0&&(Ve.windowBits=-15)),Ve.windowBits>=0&&Ve.windowBits<16&&!(Ne&&Ne.windowBits)&&(Ve.windowBits+=32),Ve.windowBits>15&&Ve.windowBits<48&&(Ve.windowBits&15||(Ve.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ie,this.strm.avail_out=0;var Ue=f.inflateInit2(this.strm,Ve.windowBits);if(Ue!==Te.Z_OK)throw new Error(Oe[Ue]);this.header=new _e,f.inflateGetHeader(this.strm,this.header)}Ee.prototype.push=function(Ne,Ve){var Ue=this.strm,We=this.options.chunkSize,He=this.options.dictionary,Ze,st,it,vt,gt,tt,pt=!1;if(this.ended)return!1;st=Ve===~~Ve?Ve:Ve===!0?Te.Z_FINISH:Te.Z_NO_FLUSH,typeof Ne=="string"?Ue.input=g.binstring2buf(Ne):De.call(Ne)==="[object ArrayBuffer]"?Ue.input=new Uint8Array(Ne):Ue.input=Ne,Ue.next_in=0,Ue.avail_in=Ue.input.length;do{if(Ue.avail_out===0&&(Ue.output=new m.Buf8(We),Ue.next_out=0,Ue.avail_out=We),Ze=f.inflate(Ue,Te.Z_NO_FLUSH),Ze===Te.Z_NEED_DICT&&He&&(typeof He=="string"?tt=g.string2buf(He):De.call(He)==="[object ArrayBuffer]"?tt=new Uint8Array(He):tt=He,Ze=f.inflateSetDictionary(this.strm,tt)),Ze===Te.Z_BUF_ERROR&&pt===!0&&(Ze=Te.Z_OK,pt=!1),Ze!==Te.Z_STREAM_END&&Ze!==Te.Z_OK)return this.onEnd(Ze),this.ended=!0,!1;Ue.next_out&&(Ue.avail_out===0||Ze===Te.Z_STREAM_END||Ue.avail_in===0&&(st===Te.Z_FINISH||st===Te.Z_SYNC_FLUSH))&&(this.options.to==="string"?(it=g.utf8border(Ue.output,Ue.next_out),vt=Ue.next_out-it,gt=g.buf2string(Ue.output,it),Ue.next_out=vt,Ue.avail_out=We-vt,vt&&m.arraySet(Ue.output,Ue.output,it,vt,0),this.onData(gt)):this.onData(m.shrinkBuf(Ue.output,Ue.next_out))),Ue.avail_in===0&&Ue.avail_out===0&&(pt=!0)}while((Ue.avail_in>0||Ue.avail_out===0)&&Ze!==Te.Z_STREAM_END);return Ze===Te.Z_STREAM_END&&(st=Te.Z_FINISH),st===Te.Z_FINISH?(Ze=f.inflateEnd(this.strm),this.onEnd(Ze),this.ended=!0,Ze===Te.Z_OK):(st===Te.Z_SYNC_FLUSH&&(this.onEnd(Te.Z_OK),Ue.avail_out=0),!0)},Ee.prototype.onData=function(Ne){this.chunks.push(Ne)},Ee.prototype.onEnd=function(Ne){Ne===Te.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=Ne,this.msg=this.strm.msg};function qe(Ne,Ve){var Ue=new Ee(Ve);if(Ue.push(Ne,!0),Ue.err)throw Ue.msg||Oe[Ue.err];return Ue.result}function Be(Ne,Ve){return Ve=Ve||{},Ve.raw=!0,qe(Ne,Ve)}i.Inflate=Ee,i.inflate=qe,i.inflateRaw=Be,i.ungzip=qe},function(e,i,c){var f=c(33),m=c(34),g=c(35),Te=c(36),Oe=c(37),Ie=0,_e=1,De=2,Ee=4,qe=5,Be=6,Ne=0,Ve=1,Ue=2,We=-2,He=-3,Ze=-4,st=-5,it=8,vt=1,gt=2,tt=3,pt=4,nt=5,mt=6,Je=7,Ft=8,Zt=9,jt=10,cr=11,bt=12,St=13,ct=14,dt=15,Pt=16,Ct=17,Kt=18,fr=19,Rr=20,sr=21,lt=22,yt=23,Jt=24,$t=25,dr=26,Xe=27,At=28,Wt=29,ht=30,xt=31,Dt=32,er=852,rt=592,je=15,Ke=je;function ut(Xt){return(Xt>>>24&255)+(Xt>>>8&65280)+((Xt&65280)<<8)+((Xt&255)<<24)}function Et(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new f.Buf16(320),this.work=new f.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function It(Xt){var yr;return!Xt||!Xt.state?We:(yr=Xt.state,Xt.total_in=Xt.total_out=yr.total=0,Xt.msg="",yr.wrap&&(Xt.adler=yr.wrap&1),yr.mode=vt,yr.last=0,yr.havedict=0,yr.dmax=32768,yr.head=null,yr.hold=0,yr.bits=0,yr.lencode=yr.lendyn=new f.Buf32(er),yr.distcode=yr.distdyn=new f.Buf32(rt),yr.sane=1,yr.back=-1,Ne)}function zt(Xt){var yr;return!Xt||!Xt.state?We:(yr=Xt.state,yr.wsize=0,yr.whave=0,yr.wnext=0,It(Xt))}function tr(Xt,yr){var at,Or;return!Xt||!Xt.state||(Or=Xt.state,yr<0?(at=0,yr=-yr):(at=(yr>>4)+1,yr<48&&(yr&=15)),yr&&(yr<8||yr>15))?We:(Or.window!==null&&Or.wbits!==yr&&(Or.window=null),Or.wrap=at,Or.wbits=yr,zt(Xt))}function Sr(Xt,yr){var at,Or;return Xt?(Or=new Et,Xt.state=Or,Or.window=null,at=tr(Xt,yr),at!==Ne&&(Xt.state=null),at):We}function Lr(Xt){return Sr(Xt,Ke)}var Pr=!0,Er,gr;function Qr(Xt){if(Pr){var yr;for(Er=new f.Buf32(512),gr=new f.Buf32(32),yr=0;yr<144;)Xt.lens[yr++]=8;for(;yr<256;)Xt.lens[yr++]=9;for(;yr<280;)Xt.lens[yr++]=7;for(;yr<288;)Xt.lens[yr++]=8;for(Oe(_e,Xt.lens,0,288,Er,0,Xt.work,{bits:9}),yr=0;yr<32;)Xt.lens[yr++]=5;Oe(De,Xt.lens,0,32,gr,0,Xt.work,{bits:5}),Pr=!1}Xt.lencode=Er,Xt.lenbits=9,Xt.distcode=gr,Xt.distbits=5}function Cr(Xt,yr,at,Or){var en,kr=Xt.state;return kr.window===null&&(kr.wsize=1<<kr.wbits,kr.wnext=0,kr.whave=0,kr.window=new f.Buf8(kr.wsize)),Or>=kr.wsize?(f.arraySet(kr.window,yr,at-kr.wsize,kr.wsize,0),kr.wnext=0,kr.whave=kr.wsize):(en=kr.wsize-kr.wnext,en>Or&&(en=Or),f.arraySet(kr.window,yr,at-Or,en,kr.wnext),Or-=en,Or?(f.arraySet(kr.window,yr,at-Or,Or,0),kr.wnext=Or,kr.whave=kr.wsize):(kr.wnext+=en,kr.wnext===kr.wsize&&(kr.wnext=0),kr.whave<kr.wsize&&(kr.whave+=en))),0}function on(Xt,yr){var at,Or,en,kr,Pn,Tr,cn,or,ar,Zr,qr,Dr,Wn,jn,ln=0,Xr,dn,wn,hn,vi,Li,an,Ln,xn=new f.Buf8(4),Qn,zn,vn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Xt||!Xt.state||!Xt.output||!Xt.input&&Xt.avail_in!==0)return We;at=Xt.state,at.mode===bt&&(at.mode=St),Pn=Xt.next_out,en=Xt.output,cn=Xt.avail_out,kr=Xt.next_in,Or=Xt.input,Tr=Xt.avail_in,or=at.hold,ar=at.bits,Zr=Tr,qr=cn,Ln=Ne;e:for(;;)switch(at.mode){case vt:if(at.wrap===0){at.mode=St;break}for(;ar<16;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}if(at.wrap&2&&or===35615){at.check=0,xn[0]=or&255,xn[1]=or>>>8&255,at.check=g(at.check,xn,2,0),or=0,ar=0,at.mode=gt;break}if(at.flags=0,at.head&&(at.head.done=!1),!(at.wrap&1)||(((or&255)<<8)+(or>>8))%31){Xt.msg="incorrect header check",at.mode=ht;break}if((or&15)!==it){Xt.msg="unknown compression method",at.mode=ht;break}if(or>>>=4,ar-=4,an=(or&15)+8,at.wbits===0)at.wbits=an;else if(an>at.wbits){Xt.msg="invalid window size",at.mode=ht;break}at.dmax=1<<an,Xt.adler=at.check=1,at.mode=or&512?jt:bt,or=0,ar=0;break;case gt:for(;ar<16;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}if(at.flags=or,(at.flags&255)!==it){Xt.msg="unknown compression method",at.mode=ht;break}if(at.flags&57344){Xt.msg="unknown header flags set",at.mode=ht;break}at.head&&(at.head.text=or>>8&1),at.flags&512&&(xn[0]=or&255,xn[1]=or>>>8&255,at.check=g(at.check,xn,2,0)),or=0,ar=0,at.mode=tt;case tt:for(;ar<32;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}at.head&&(at.head.time=or),at.flags&512&&(xn[0]=or&255,xn[1]=or>>>8&255,xn[2]=or>>>16&255,xn[3]=or>>>24&255,at.check=g(at.check,xn,4,0)),or=0,ar=0,at.mode=pt;case pt:for(;ar<16;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}at.head&&(at.head.xflags=or&255,at.head.os=or>>8),at.flags&512&&(xn[0]=or&255,xn[1]=or>>>8&255,at.check=g(at.check,xn,2,0)),or=0,ar=0,at.mode=nt;case nt:if(at.flags&1024){for(;ar<16;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}at.length=or,at.head&&(at.head.extra_len=or),at.flags&512&&(xn[0]=or&255,xn[1]=or>>>8&255,at.check=g(at.check,xn,2,0)),or=0,ar=0}else at.head&&(at.head.extra=null);at.mode=mt;case mt:if(at.flags&1024&&(Dr=at.length,Dr>Tr&&(Dr=Tr),Dr&&(at.head&&(an=at.head.extra_len-at.length,at.head.extra||(at.head.extra=new Array(at.head.extra_len)),f.arraySet(at.head.extra,Or,kr,Dr,an)),at.flags&512&&(at.check=g(at.check,Or,Dr,kr)),Tr-=Dr,kr+=Dr,at.length-=Dr),at.length))break e;at.length=0,at.mode=Je;case Je:if(at.flags&2048){if(Tr===0)break e;Dr=0;do an=Or[kr+Dr++],at.head&&an&&at.length<65536&&(at.head.name+=String.fromCharCode(an));while(an&&Dr<Tr);if(at.flags&512&&(at.check=g(at.check,Or,Dr,kr)),Tr-=Dr,kr+=Dr,an)break e}else at.head&&(at.head.name=null);at.length=0,at.mode=Ft;case Ft:if(at.flags&4096){if(Tr===0)break e;Dr=0;do an=Or[kr+Dr++],at.head&&an&&at.length<65536&&(at.head.comment+=String.fromCharCode(an));while(an&&Dr<Tr);if(at.flags&512&&(at.check=g(at.check,Or,Dr,kr)),Tr-=Dr,kr+=Dr,an)break e}else at.head&&(at.head.comment=null);at.mode=Zt;case Zt:if(at.flags&512){for(;ar<16;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}if(or!==(at.check&65535)){Xt.msg="header crc mismatch",at.mode=ht;break}or=0,ar=0}at.head&&(at.head.hcrc=at.flags>>9&1,at.head.done=!0),Xt.adler=at.check=0,at.mode=bt;break;case jt:for(;ar<32;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}Xt.adler=at.check=ut(or),or=0,ar=0,at.mode=cr;case cr:if(at.havedict===0)return Xt.next_out=Pn,Xt.avail_out=cn,Xt.next_in=kr,Xt.avail_in=Tr,at.hold=or,at.bits=ar,Ue;Xt.adler=at.check=1,at.mode=bt;case bt:if(yr===qe||yr===Be)break e;case St:if(at.last){or>>>=ar&7,ar-=ar&7,at.mode=Xe;break}for(;ar<3;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}switch(at.last=or&1,or>>>=1,ar-=1,or&3){case 0:at.mode=ct;break;case 1:if(Qr(at),at.mode=Rr,yr===Be){or>>>=2,ar-=2;break e}break;case 2:at.mode=Ct;break;case 3:Xt.msg="invalid block type",at.mode=ht}or>>>=2,ar-=2;break;case ct:for(or>>>=ar&7,ar-=ar&7;ar<32;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}if((or&65535)!==(or>>>16^65535)){Xt.msg="invalid stored block lengths",at.mode=ht;break}if(at.length=or&65535,or=0,ar=0,at.mode=dt,yr===Be)break e;case dt:at.mode=Pt;case Pt:if(Dr=at.length,Dr){if(Dr>Tr&&(Dr=Tr),Dr>cn&&(Dr=cn),Dr===0)break e;f.arraySet(en,Or,kr,Dr,Pn),Tr-=Dr,kr+=Dr,cn-=Dr,Pn+=Dr,at.length-=Dr;break}at.mode=bt;break;case Ct:for(;ar<14;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}if(at.nlen=(or&31)+257,or>>>=5,ar-=5,at.ndist=(or&31)+1,or>>>=5,ar-=5,at.ncode=(or&15)+4,or>>>=4,ar-=4,at.nlen>286||at.ndist>30){Xt.msg="too many length or distance symbols",at.mode=ht;break}at.have=0,at.mode=Kt;case Kt:for(;at.have<at.ncode;){for(;ar<3;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}at.lens[vn[at.have++]]=or&7,or>>>=3,ar-=3}for(;at.have<19;)at.lens[vn[at.have++]]=0;if(at.lencode=at.lendyn,at.lenbits=7,Qn={bits:at.lenbits},Ln=Oe(Ie,at.lens,0,19,at.lencode,0,at.work,Qn),at.lenbits=Qn.bits,Ln){Xt.msg="invalid code lengths set",at.mode=ht;break}at.have=0,at.mode=fr;case fr:for(;at.have<at.nlen+at.ndist;){for(;ln=at.lencode[or&(1<<at.lenbits)-1],Xr=ln>>>24,dn=ln>>>16&255,wn=ln&65535,!(Xr<=ar);){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}if(wn<16)or>>>=Xr,ar-=Xr,at.lens[at.have++]=wn;else{if(wn===16){for(zn=Xr+2;ar<zn;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}if(or>>>=Xr,ar-=Xr,at.have===0){Xt.msg="invalid bit length repeat",at.mode=ht;break}an=at.lens[at.have-1],Dr=3+(or&3),or>>>=2,ar-=2}else if(wn===17){for(zn=Xr+3;ar<zn;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}or>>>=Xr,ar-=Xr,an=0,Dr=3+(or&7),or>>>=3,ar-=3}else{for(zn=Xr+7;ar<zn;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}or>>>=Xr,ar-=Xr,an=0,Dr=11+(or&127),or>>>=7,ar-=7}if(at.have+Dr>at.nlen+at.ndist){Xt.msg="invalid bit length repeat",at.mode=ht;break}for(;Dr--;)at.lens[at.have++]=an}}if(at.mode===ht)break;if(at.lens[256]===0){Xt.msg="invalid code -- missing end-of-block",at.mode=ht;break}if(at.lenbits=9,Qn={bits:at.lenbits},Ln=Oe(_e,at.lens,0,at.nlen,at.lencode,0,at.work,Qn),at.lenbits=Qn.bits,Ln){Xt.msg="invalid literal/lengths set",at.mode=ht;break}if(at.distbits=6,at.distcode=at.distdyn,Qn={bits:at.distbits},Ln=Oe(De,at.lens,at.nlen,at.ndist,at.distcode,0,at.work,Qn),at.distbits=Qn.bits,Ln){Xt.msg="invalid distances set",at.mode=ht;break}if(at.mode=Rr,yr===Be)break e;case Rr:at.mode=sr;case sr:if(Tr>=6&&cn>=258){Xt.next_out=Pn,Xt.avail_out=cn,Xt.next_in=kr,Xt.avail_in=Tr,at.hold=or,at.bits=ar,Te(Xt,qr),Pn=Xt.next_out,en=Xt.output,cn=Xt.avail_out,kr=Xt.next_in,Or=Xt.input,Tr=Xt.avail_in,or=at.hold,ar=at.bits,at.mode===bt&&(at.back=-1);break}for(at.back=0;ln=at.lencode[or&(1<<at.lenbits)-1],Xr=ln>>>24,dn=ln>>>16&255,wn=ln&65535,!(Xr<=ar);){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}if(dn&&!(dn&240)){for(hn=Xr,vi=dn,Li=wn;ln=at.lencode[Li+((or&(1<<hn+vi)-1)>>hn)],Xr=ln>>>24,dn=ln>>>16&255,wn=ln&65535,!(hn+Xr<=ar);){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}or>>>=hn,ar-=hn,at.back+=hn}if(or>>>=Xr,ar-=Xr,at.back+=Xr,at.length=wn,dn===0){at.mode=dr;break}if(dn&32){at.back=-1,at.mode=bt;break}if(dn&64){Xt.msg="invalid literal/length code",at.mode=ht;break}at.extra=dn&15,at.mode=lt;case lt:if(at.extra){for(zn=at.extra;ar<zn;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}at.length+=or&(1<<at.extra)-1,or>>>=at.extra,ar-=at.extra,at.back+=at.extra}at.was=at.length,at.mode=yt;case yt:for(;ln=at.distcode[or&(1<<at.distbits)-1],Xr=ln>>>24,dn=ln>>>16&255,wn=ln&65535,!(Xr<=ar);){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}if(!(dn&240)){for(hn=Xr,vi=dn,Li=wn;ln=at.distcode[Li+((or&(1<<hn+vi)-1)>>hn)],Xr=ln>>>24,dn=ln>>>16&255,wn=ln&65535,!(hn+Xr<=ar);){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}or>>>=hn,ar-=hn,at.back+=hn}if(or>>>=Xr,ar-=Xr,at.back+=Xr,dn&64){Xt.msg="invalid distance code",at.mode=ht;break}at.offset=wn,at.extra=dn&15,at.mode=Jt;case Jt:if(at.extra){for(zn=at.extra;ar<zn;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}at.offset+=or&(1<<at.extra)-1,or>>>=at.extra,ar-=at.extra,at.back+=at.extra}if(at.offset>at.dmax){Xt.msg="invalid distance too far back",at.mode=ht;break}at.mode=$t;case $t:if(cn===0)break e;if(Dr=qr-cn,at.offset>Dr){if(Dr=at.offset-Dr,Dr>at.whave&&at.sane){Xt.msg="invalid distance too far back",at.mode=ht;break}Dr>at.wnext?(Dr-=at.wnext,Wn=at.wsize-Dr):Wn=at.wnext-Dr,Dr>at.length&&(Dr=at.length),jn=at.window}else jn=en,Wn=Pn-at.offset,Dr=at.length;Dr>cn&&(Dr=cn),cn-=Dr,at.length-=Dr;do en[Pn++]=jn[Wn++];while(--Dr);at.length===0&&(at.mode=sr);break;case dr:if(cn===0)break e;en[Pn++]=at.length,cn--,at.mode=sr;break;case Xe:if(at.wrap){for(;ar<32;){if(Tr===0)break e;Tr--,or|=Or[kr++]<<ar,ar+=8}if(qr-=cn,Xt.total_out+=qr,at.total+=qr,qr&&(Xt.adler=at.check=at.flags?g(at.check,en,qr,Pn-qr):m(at.check,en,qr,Pn-qr)),qr=cn,(at.flags?or:ut(or))!==at.check){Xt.msg="incorrect data check",at.mode=ht;break}or=0,ar=0}at.mode=At;case At:if(at.wrap&&at.flags){for(;ar<32;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}if(or!==(at.total&4294967295)){Xt.msg="incorrect length check",at.mode=ht;break}or=0,ar=0}at.mode=Wt;case Wt:Ln=Ve;break e;case ht:Ln=He;break e;case xt:return Ze;case Dt:default:return We}return Xt.next_out=Pn,Xt.avail_out=cn,Xt.next_in=kr,Xt.avail_in=Tr,at.hold=or,at.bits=ar,(at.wsize||qr!==Xt.avail_out&&at.mode<ht&&(at.mode<Xe||yr!==Ee))&&Cr(Xt,Xt.output,Xt.next_out,qr-Xt.avail_out),Zr-=Xt.avail_in,qr-=Xt.avail_out,Xt.total_in+=Zr,Xt.total_out+=qr,at.total+=qr,at.wrap&&qr&&(Xt.adler=at.check=at.flags?g(at.check,en,qr,Xt.next_out-qr):m(at.check,en,qr,Xt.next_out-qr)),Xt.data_type=at.bits+(at.last?64:0)+(at.mode===bt?128:0)+(at.mode===Rr||at.mode===dt?256:0),(Zr===0&&qr===0||yr===Ee)&&Ln===Ne&&(Ln=st),Ln}function Bn(Xt){if(!Xt||!Xt.state)return We;var yr=Xt.state;return yr.window&&(yr.window=null),Xt.state=null,Ne}function Un(Xt,yr){var at;return!Xt||!Xt.state||(at=Xt.state,!(at.wrap&2))?We:(at.head=yr,yr.done=!1,Ne)}function wr(Xt,yr){var at=yr.length,Or,en,kr;return!Xt||!Xt.state||(Or=Xt.state,Or.wrap!==0&&Or.mode!==cr)?We:Or.mode===cr&&(en=1,en=m(en,yr,at,0),en!==Or.check)?He:(kr=Cr(Xt,yr,at,at),kr?(Or.mode=xt,Ze):(Or.havedict=1,Ne))}i.inflateReset=zt,i.inflateReset2=tr,i.inflateResetKeep=It,i.inflateInit=Lr,i.inflateInit2=Sr,i.inflate=on,i.inflateEnd=Bn,i.inflateGetHeader=Un,i.inflateSetDictionary=wr,i.inflateInfo="pako inflate (from Nodeca project)"},function(e,i){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(g){for(var Te=Array.prototype.slice.call(arguments,1);Te.length;){var Oe=Te.shift();if(Oe){if(typeof Oe!="object")throw new TypeError(Oe+"must be non-object");for(var Ie in Oe)Oe.hasOwnProperty(Ie)&&(g[Ie]=Oe[Ie])}}return g},i.shrinkBuf=function(g,Te){return g.length===Te?g:g.subarray?g.subarray(0,Te):(g.length=Te,g)};var f={arraySet:function(g,Te,Oe,Ie,_e){if(Te.subarray&&g.subarray){g.set(Te.subarray(Oe,Oe+Ie),_e);return}for(var De=0;De<Ie;De++)g[_e+De]=Te[Oe+De]},flattenChunks:function(g){var Te,Oe,Ie,_e,De,Ee;for(Ie=0,Te=0,Oe=g.length;Te<Oe;Te++)Ie+=g[Te].length;for(Ee=new Uint8Array(Ie),_e=0,Te=0,Oe=g.length;Te<Oe;Te++)De=g[Te],Ee.set(De,_e),_e+=De.length;return Ee}},m={arraySet:function(g,Te,Oe,Ie,_e){for(var De=0;De<Ie;De++)g[_e+De]=Te[Oe+De]},flattenChunks:function(g){return[].concat.apply([],g)}};i.setTyped=function(g){g?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,f)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,m))},i.setTyped(c)},function(e,i){function c(f,m,g,Te){for(var Oe=f&65535|0,Ie=f>>>16&65535|0,_e=0;g!==0;){_e=g>2e3?2e3:g,g-=_e;do Oe=Oe+m[Te++]|0,Ie=Ie+Oe|0;while(--_e);Oe%=65521,Ie%=65521}return Oe|Ie<<16|0}e.exports=c},function(e,i){function c(){for(var g,Te=[],Oe=0;Oe<256;Oe++){g=Oe;for(var Ie=0;Ie<8;Ie++)g=g&1?3988292384^g>>>1:g>>>1;Te[Oe]=g}return Te}var f=c();function m(g,Te,Oe,Ie){var _e=f,De=Ie+Oe;g^=-1;for(var Ee=Ie;Ee<De;Ee++)g=g>>>8^_e[(g^Te[Ee])&255];return g^-1}e.exports=m},function(e,i){var c=30,f=12;e.exports=function(g,Te){var Oe,Ie,_e,De,Ee,qe,Be,Ne,Ve,Ue,We,He,Ze,st,it,vt,gt,tt,pt,nt,mt,Je,Ft,Zt,jt;Oe=g.state,Ie=g.next_in,Zt=g.input,_e=Ie+(g.avail_in-5),De=g.next_out,jt=g.output,Ee=De-(Te-g.avail_out),qe=De+(g.avail_out-257),Be=Oe.dmax,Ne=Oe.wsize,Ve=Oe.whave,Ue=Oe.wnext,We=Oe.window,He=Oe.hold,Ze=Oe.bits,st=Oe.lencode,it=Oe.distcode,vt=(1<<Oe.lenbits)-1,gt=(1<<Oe.distbits)-1;e:do{Ze<15&&(He+=Zt[Ie++]<<Ze,Ze+=8,He+=Zt[Ie++]<<Ze,Ze+=8),tt=st[He&vt];t:for(;;){if(pt=tt>>>24,He>>>=pt,Ze-=pt,pt=tt>>>16&255,pt===0)jt[De++]=tt&65535;else if(pt&16){nt=tt&65535,pt&=15,pt&&(Ze<pt&&(He+=Zt[Ie++]<<Ze,Ze+=8),nt+=He&(1<<pt)-1,He>>>=pt,Ze-=pt),Ze<15&&(He+=Zt[Ie++]<<Ze,Ze+=8,He+=Zt[Ie++]<<Ze,Ze+=8),tt=it[He&gt];r:for(;;){if(pt=tt>>>24,He>>>=pt,Ze-=pt,pt=tt>>>16&255,pt&16){if(mt=tt&65535,pt&=15,Ze<pt&&(He+=Zt[Ie++]<<Ze,Ze+=8,Ze<pt&&(He+=Zt[Ie++]<<Ze,Ze+=8)),mt+=He&(1<<pt)-1,mt>Be){g.msg="invalid distance too far back",Oe.mode=c;break e}if(He>>>=pt,Ze-=pt,pt=De-Ee,mt>pt){if(pt=mt-pt,pt>Ve&&Oe.sane){g.msg="invalid distance too far back",Oe.mode=c;break e}if(Je=0,Ft=We,Ue===0){if(Je+=Ne-pt,pt<nt){nt-=pt;do jt[De++]=We[Je++];while(--pt);Je=De-mt,Ft=jt}}else if(Ue<pt){if(Je+=Ne+Ue-pt,pt-=Ue,pt<nt){nt-=pt;do jt[De++]=We[Je++];while(--pt);if(Je=0,Ue<nt){pt=Ue,nt-=pt;do jt[De++]=We[Je++];while(--pt);Je=De-mt,Ft=jt}}}else if(Je+=Ue-pt,pt<nt){nt-=pt;do jt[De++]=We[Je++];while(--pt);Je=De-mt,Ft=jt}for(;nt>2;)jt[De++]=Ft[Je++],jt[De++]=Ft[Je++],jt[De++]=Ft[Je++],nt-=3;nt&&(jt[De++]=Ft[Je++],nt>1&&(jt[De++]=Ft[Je++]))}else{Je=De-mt;do jt[De++]=jt[Je++],jt[De++]=jt[Je++],jt[De++]=jt[Je++],nt-=3;while(nt>2);nt&&(jt[De++]=jt[Je++],nt>1&&(jt[De++]=jt[Je++]))}}else if(pt&64){g.msg="invalid distance code",Oe.mode=c;break e}else{tt=it[(tt&65535)+(He&(1<<pt)-1)];continue r}break}}else if(pt&64)if(pt&32){Oe.mode=f;break e}else{g.msg="invalid literal/length code",Oe.mode=c;break e}else{tt=st[(tt&65535)+(He&(1<<pt)-1)];continue t}break}}while(Ie<_e&&De<qe);nt=Ze>>3,Ie-=nt,Ze-=nt<<3,He&=(1<<Ze)-1,g.next_in=Ie,g.next_out=De,g.avail_in=Ie<_e?5+(_e-Ie):5-(Ie-_e),g.avail_out=De<qe?257+(qe-De):257-(De-qe),Oe.hold=He,Oe.bits=Ze}},function(e,i,c){var f=c(33),m=15,g=852,Te=592,Oe=0,Ie=1,_e=2,De=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Ee=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],qe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Be=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(Ve,Ue,We,He,Ze,st,it,vt){var gt=vt.bits,tt=0,pt=0,nt=0,mt=0,Je=0,Ft=0,Zt=0,jt=0,cr=0,bt=0,St,ct,dt,Pt,Ct,Kt=null,fr=0,Rr,sr=new f.Buf16(m+1),lt=new f.Buf16(m+1),yt=null,Jt=0,$t,dr,Xe;for(tt=0;tt<=m;tt++)sr[tt]=0;for(pt=0;pt<He;pt++)sr[Ue[We+pt]]++;for(Je=gt,mt=m;mt>=1&&sr[mt]===0;mt--);if(Je>mt&&(Je=mt),mt===0)return Ze[st++]=1<<24|64<<16|0,Ze[st++]=1<<24|64<<16|0,vt.bits=1,0;for(nt=1;nt<mt&&sr[nt]===0;nt++);for(Je<nt&&(Je=nt),jt=1,tt=1;tt<=m;tt++)if(jt<<=1,jt-=sr[tt],jt<0)return-1;if(jt>0&&(Ve===Oe||mt!==1))return-1;for(lt[1]=0,tt=1;tt<m;tt++)lt[tt+1]=lt[tt]+sr[tt];for(pt=0;pt<He;pt++)Ue[We+pt]!==0&&(it[lt[Ue[We+pt]]++]=pt);if(Ve===Oe?(Kt=yt=it,Rr=19):Ve===Ie?(Kt=De,fr-=257,yt=Ee,Jt-=257,Rr=256):(Kt=qe,yt=Be,Rr=-1),bt=0,pt=0,tt=nt,Ct=st,Ft=Je,Zt=0,dt=-1,cr=1<<Je,Pt=cr-1,Ve===Ie&&cr>g||Ve===_e&&cr>Te)return 1;for(;;){$t=tt-Zt,it[pt]<Rr?(dr=0,Xe=it[pt]):it[pt]>Rr?(dr=yt[Jt+it[pt]],Xe=Kt[fr+it[pt]]):(dr=32+64,Xe=0),St=1<<tt-Zt,ct=1<<Ft,nt=ct;do ct-=St,Ze[Ct+(bt>>Zt)+ct]=$t<<24|dr<<16|Xe|0;while(ct!==0);for(St=1<<tt-1;bt&St;)St>>=1;if(St!==0?(bt&=St-1,bt+=St):bt=0,pt++,--sr[tt]===0){if(tt===mt)break;tt=Ue[We+it[pt]]}if(tt>Je&&(bt&Pt)!==dt){for(Zt===0&&(Zt=Je),Ct+=nt,Ft=tt-Zt,jt=1<<Ft;Ft+Zt<mt&&(jt-=sr[Ft+Zt],!(jt<=0));)Ft++,jt<<=1;if(cr+=1<<Ft,Ve===Ie&&cr>g||Ve===_e&&cr>Te)return 1;dt=bt&Pt,Ze[dt]=Je<<24|Ft<<16|Ct-st|0}}return bt!==0&&(Ze[Ct+bt]=tt-Zt<<24|64<<16|0),vt.bits=Je,0}},function(e,i,c){var f=c(33),m=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch{m=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{g=!1}for(var Te=new f.Buf8(256),Oe=0;Oe<256;Oe++)Te[Oe]=Oe>=252?6:Oe>=248?5:Oe>=240?4:Oe>=224?3:Oe>=192?2:1;Te[254]=Te[254]=1,i.string2buf=function(_e){var De,Ee,qe,Be,Ne,Ve=_e.length,Ue=0;for(Be=0;Be<Ve;Be++)Ee=_e.charCodeAt(Be),(Ee&64512)===55296&&Be+1<Ve&&(qe=_e.charCodeAt(Be+1),(qe&64512)===56320&&(Ee=65536+(Ee-55296<<10)+(qe-56320),Be++)),Ue+=Ee<128?1:Ee<2048?2:Ee<65536?3:4;for(De=new f.Buf8(Ue),Ne=0,Be=0;Ne<Ue;Be++)Ee=_e.charCodeAt(Be),(Ee&64512)===55296&&Be+1<Ve&&(qe=_e.charCodeAt(Be+1),(qe&64512)===56320&&(Ee=65536+(Ee-55296<<10)+(qe-56320),Be++)),Ee<128?De[Ne++]=Ee:Ee<2048?(De[Ne++]=192|Ee>>>6,De[Ne++]=128|Ee&63):Ee<65536?(De[Ne++]=224|Ee>>>12,De[Ne++]=128|Ee>>>6&63,De[Ne++]=128|Ee&63):(De[Ne++]=240|Ee>>>18,De[Ne++]=128|Ee>>>12&63,De[Ne++]=128|Ee>>>6&63,De[Ne++]=128|Ee&63);return De};function Ie(_e,De){if(De<65537&&(_e.subarray&&g||!_e.subarray&&m))return String.fromCharCode.apply(null,f.shrinkBuf(_e,De));for(var Ee="",qe=0;qe<De;qe++)Ee+=String.fromCharCode(_e[qe]);return Ee}i.buf2binstring=function(_e){return Ie(_e,_e.length)},i.binstring2buf=function(_e){for(var De=new f.Buf8(_e.length),Ee=0,qe=De.length;Ee<qe;Ee++)De[Ee]=_e.charCodeAt(Ee);return De},i.buf2string=function(_e,De){var Ee,qe,Be,Ne,Ve=De||_e.length,Ue=new Array(Ve*2);for(qe=0,Ee=0;Ee<Ve;){if(Be=_e[Ee++],Be<128){Ue[qe++]=Be;continue}if(Ne=Te[Be],Ne>4){Ue[qe++]=65533,Ee+=Ne-1;continue}for(Be&=Ne===2?31:Ne===3?15:7;Ne>1&&Ee<Ve;)Be=Be<<6|_e[Ee++]&63,Ne--;if(Ne>1){Ue[qe++]=65533;continue}Be<65536?Ue[qe++]=Be:(Be-=65536,Ue[qe++]=55296|Be>>10&1023,Ue[qe++]=56320|Be&1023)}return Ie(Ue,qe)},i.utf8border=function(_e,De){var Ee;for(De=De||_e.length,De>_e.length&&(De=_e.length),Ee=De-1;Ee>=0&&(_e[Ee]&192)===128;)Ee--;return Ee<0||Ee===0?De:Ee+Te[_e[Ee]]>De?Ee:De}},function(e,i){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,i){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,i){function c(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=c},function(e,i){function c(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}e.exports=c}])})})(browserfs$2);var browserfsExports=browserfs$2.exports;const browserfs=getDefaultExportFromCjs(browserfsExports),browserfs$1=_mergeNamespaces({__proto__:null,default:browserfs},[browserfsExports]),raUserdataDir$1="/home/web_user/retroarch/userdata";function createEmscriptenFS({ERRNO_CODES:_,FS:o,PATH:e}){const i=new browserfsExports.FileSystem.InMemory,c=new browserfsExports.FileSystem.MountableFileSystem;try{c.umount(raUserdataDir$1)}catch{}return c.mount(raUserdataDir$1,i),browserfsExports.initialize(c),new browserfsExports.EmscriptenFS(o,e,_)}function getEmscriptenModuleOverrides(_){let o;const e=new Promise(c=>{o=c});return{noExitRuntime:!1,noInitialRun:!0,locateFile(c){return c},async monitorRunDependencies(c){return c===0&&o(),await e},print(...c){console.info(...c)},printErr(...c){console.error(...c)},quit(c,f){c&&console.info(c,f)},..._}}const{Buffer:Buffer$1}=browserfsExports.BFSRequire("buffer"),path=browserfsExports.BFSRequire("path"),{basename,dirname,extname,join,relative}=path;function urlBaseName(_){let o=_;try{o=new URL(_).pathname}catch{}const e=basename(o);try{return decodeURIComponent(e)}catch{return e}}function isAbsoluteUrl(_){return!_||typeof _!="string"?!1:["http://","https://","//","data:","blob:"].some(e=>_.startsWith(e))}async function blobToBuffer(_){const o=await _.arrayBuffer();return Buffer$1.from(o)}function stringToBuffer(_){return Buffer$1.from(_,"utf8")}function updateStyle(_,o){if(_)for(const e in o){const i=o[e];_.style[e]=i||null}}function delay(_){return new Promise(o=>{setTimeout(o,_)})}function isGlobalScript(_){return _.startsWith("var Module")}function isEsmScript(_){return _.includes("import.meta.url")}function patchCoreJs({js:_,name:o}){let e=_;return isGlobalScript(_)?e=`export function getEmscripten({ Module }) {
        ${_};
        Module.FS = FS;
        Module.PATH = PATH;
        Module.ERRNO_CODES = ERRNO_CODES;
        return { AL, Browser, JSEvents, Module, exit: _emscripten_force_exit }
      }`:isEsmScript(_)&&(e=`${_.replace("readyPromiseResolve(Module)","readyPromiseResolve({ AL, Browser, JSEvents, Module, exit: _emscripten_force_exit })")};
      export function getEmscripten({ Module }) {
        return (libretro_${o} || ${o})(Module)
      }
    `),e}async function importCoreJsAsESM({js,name}){const jsContent=patchCoreJs({js,name}),jsBlob=new Blob([jsContent],{type:"application/javascript"}),jsBlobUrl=URL.createObjectURL(jsBlob);if(!jsBlobUrl)throw new Error("invalid jsBlob");try{return await __vitePreload(()=>import(jsBlobUrl),[])}catch{return await eval("import(jsBlobUrl)")}finally{URL.revokeObjectURL(jsBlobUrl)}}function isNil(_){return _==null}function isPlainObject(_){if(isNil(_))return!1;const{constructor:o}=_;return o===Object||!o}function mergeSourceToTarget(_,o){for(const e in o)if(Object.prototype.hasOwnProperty.call(o,e)){const i=_[e],c=o[e];isNil(i)?_[e]=c:Array.isArray(i)&&Array.isArray(c)?_[e]=[...i,...c]:isPlainObject(i)&&isPlainObject(c)?(_[e]=isPlainObject(i)?_[e]:{},mergeSourceToTarget(_[e],c)):_[e]=c}}function merge(_,...o){for(const e of o)mergeSourceToTarget(_,e)}function checkIsAborted(_){if(_!=null&&_.aborted)throw new Error("Launch aborted")}function padZero(_){return(_<10?"0":"")+_}const encoder=new TextEncoder,raUserdataDir="/home/web_user/retroarch/userdata",raBundleDir="/home/web_user/retroarch/bundle",raContentDir=join(raUserdataDir,"content"),raSystemDir=join(raUserdataDir,"system"),raConfigDir=join(raUserdataDir,"config"),raShaderDir=join(raBundleDir,"shaders","shaders_glsl"),raConfigPath=join(raUserdataDir,"retroarch.cfg"),raCoreConfigPath=join(raUserdataDir,"retroarch-core-options.cfg");class Emulator{constructor(o){__publicField(this,"canvasInitialSize",{height:0,width:0}),__publicField(this,"gameStatus","initial"),__publicField(this,"messageQueue",[]),__publicField(this,"options"),__publicField(this,"browserFS"),__publicField(this,"emscripten"),this.options=o}clearStateFile(){const{Module:o}=this.getEmscripten(),{FS:e}=o;try{e.unlink(this.stateFileName),e.unlink(this.stateThumbnailFileName)}catch{}}fireKeyboardEvent(o,e){const{JSEvents:i}=this.getEmscripten();for(const{eventListenerFunc:c,eventTypeString:f}of i.eventHandlers)if(f===o)try{c({code:e,target:this.options.element})}catch{}}getCurrentRetroarchConfig(){const{Module:o}=this.getEmscripten(),{FS:e}=o,i=e.readFile(raConfigPath,{encoding:"utf8"});return ini$1.parse(i)}getElementSize(){const{element:o,size:e}=this.options;return!e||e==="auto"?{height:o.offsetHeight,width:o.offsetWidth}:e}getKeyboardCode(o,e=1){const i=this.getCurrentRetroarchConfig(),c=`input_player${e}_${o}`,f=i[c];if(!f||f==="nul")return;const{length:m}=f;return m===1?`Key${f.toUpperCase()}`:f[0]==="f"&&(m===2||m===3)?f.toUpperCase():m===4&&f.startsWith("num")?`Numpad${f.at(-1)}`:m===7&&f.startsWith("keypad")?`Digit${f.at(-1)}`:keyboardCodeMap[f]||""}guessScreenshotFileName(){const o=new Date,e=o.getFullYear()%1e3,i=padZero(o.getMonth()+1),c=padZero(o.getDate()),f=padZero(o.getHours()),m=padZero(o.getMinutes()),g=padZero(o.getSeconds()),Te=`${e}${i}${c}-${f}${m}${g}`;return`${this.romBaseName}-${Te}.png`}keyboardDown(o){this.fireKeyboardEvent("keydown",o)}async keyboardPress(o,e=100){this.keyboardDown(o),await delay(e),this.keyboardUp(o)}keyboardUp(o){this.fireKeyboardEvent("keyup",o)}postRun(){var o;this.resize(this.canvasInitialSize);for(const e of((o=navigator.getGamepads)==null?void 0:o.call(navigator))??[])e&&window.dispatchEvent(new GamepadEvent("gamepadconnected",{gamepad:e}));this.updateKeyboardEventHandlers()}get romBaseName(){const{rom:[{fileName:o}]}=this.options;return o.slice(0,o.lastIndexOf("."))}runMain(){checkIsAborted(this.options.signal);const{Module:o}=this.getEmscripten(),{arguments:e=[]}=o,{rom:i,signal:c}=this.options;if(!o.arguments&&i.length>0){const[{fileName:f}]=i;e.push(join(raContentDir,f))}o.callMain(e),c==null||c.addEventListener("abort",()=>{this.exit()}),this.gameStatus="running",this.postRun()}async setupEmscripten(){var o;typeof window=="object"&&(window.setImmediate??(window.setImmediate=window.setTimeout));const{core:e,element:i,emscriptenModule:c,signal:f}=this.options,{wasm:m}=e,g={canvas:i,preRun:[],wasmBinary:m,...c},Te=getEmscriptenModuleOverrides(g);(o=Te.preRun)==null||o.push(()=>Te.FS.init(()=>this.stdin()));const{getEmscripten:Oe}=await importCoreJsAsESM(e),Ie=await Oe({Module:Te});this.emscripten=Ie;const{Module:_e}=Ie;await _e.monitorRunDependencies(),checkIsAborted(f),await this.setupFileSystem()}async setupFileSystem(){const{Module:o}=this.getEmscripten(),{ERRNO_CODES:e,FS:i,PATH:c}=o,{bios:f,rom:m,signal:g,state:Te}=this.options,Oe=createEmscriptenFS({ERRNO_CODES:e,FS:i,PATH:c});this.browserFS=Oe,i.mount(Oe,{root:"/home"},"/home"),m.length>0&&i.mkdirTree(raContentDir),f.length>0&&i.mkdirTree(raSystemDir),Te&&i.mkdirTree(this.stateFileDirectory);const Ie=100;let _e=0;for(;!o.asm&&_e<Ie;)await delay(10),checkIsAborted(g),_e+=5;const De=[];if(De.push(...m.map(Ee=>this.writeBlobToDirectory({...Ee,directory:raContentDir})),...f.map(Ee=>this.writeBlobToDirectory({...Ee,directory:raSystemDir}))),Te){const Ee=this.writeBlobToDirectory({directory:this.stateFileDirectory,fileContent:Te,fileName:`${this.romBaseName}.state.auto`});De.push(Ee)}await Promise.all(De),checkIsAborted(g)}async setupRaConfigFile(){this.writeConfigFile({config:this.options.retroarchConfig,path:raConfigPath}),this.writeConfigFile({config:this.options.retroarchCoreConfig,path:raCoreConfigPath}),await this.setupRaShaderFile()}async setupRaShaderFile(){const{shader:o}=this.options;if(o.length===0)return;const e=o.filter(c=>c.fileName.endsWith(".glslp"));if(e.length===0)return;const i=e.map(c=>`#reference "${join(raShaderDir,c.fileName)}"`).join(`
`);this.writeTextToDirectory({directory:raConfigDir,fileContent:i,fileName:"global.glslp"}),await Promise.all(o.map(async({fileContent:c,fileName:f})=>{const m=f.endsWith(".glslp")?raShaderDir:join(raShaderDir,"shaders");await this.writeBlobToDirectory({directory:m,fileContent:c,fileName:f})}))}get stateFileDirectory(){const{core:o}=this.options,e=coreInfoMap[o.name].corename;if(!e)throw new Error(`invalid core name: ${o.name}`);return join(raUserdataDir,"states",e)}get stateFileName(){return join(this.stateFileDirectory,`${this.romBaseName}.state`)}get stateThumbnailFileName(){return`${this.stateFileName}.png`}stdin(){const{messageQueue:o}=this;for(;o.length>0;){const e=o[0][0],i=o[0][1];if(i>=e.length)o.shift();else return o[0][1]=i+1,e[i]}return null}updateKeyboardEventHandlers(){const{JSEvents:o}=this.getEmscripten(),{element:e,respondToGlobalEvents:i}=this.options;i||(e.getAttribute("tabindex")||(e.tabIndex=-1),e.focus(),e.addEventListener("click",()=>{e.focus()}));const c=new Set(["keyup","keydown","keypress"]),f=o.eventHandlers.filter(({eventTypeString:m,target:g})=>c.has(m)&&(g===document||g===e));for(const m of f){const{eventTypeString:g,handlerFunc:Te,target:Oe}=m;o.registerOrRemoveHandler({eventTypeString:g,target:Oe}),o.registerOrRemoveHandler({...m,handlerFunc:(...Ie)=>{const[_e]=Ie;(i||(_e==null?void 0:_e.target)===e)&&Te(...Ie)},target:i?document:e})}}async waitForEmscriptenFile(o){const{Module:e}=this.getEmscripten(),{FS:i}=e,c=30;let f,m=!1,g=0;for(;g<=c&&!m;){const Te=Math.min(100*2**g,1e3);await delay(Te);try{const Oe=i.readFile(o).buffer;m=(f==null?void 0:f.byteLength)>0&&(f==null?void 0:f.byteLength)===Oe.byteLength,f=Oe}catch(Oe){console.warn(Oe)}g+=1}if(!m)throw new Error("fs timeout");return f}async writeBlobToDirectory({directory:o,fileContent:e,fileName:i}){const{Module:c}=this.getEmscripten(),{FS:f}=c,m=await blobToBuffer(e);f.createDataFile("/",i,m,!0,!1);const g="binary",Te=f.readFile(i,{encoding:g});f.mkdirTree(o),f.writeFile(join(o,i),Te,{encoding:g}),f.unlink(i)}writeConfigFile({config:o,path:e}){const{Module:i}=this.getEmscripten(),{FS:c}=i,f=e.slice(0,e.lastIndexOf("/"));c.mkdirTree(f);for(const Oe in o)o[Oe]=`__${o[Oe]}__`;let m=ini$1.stringify(o,{platform:"linux",whitespace:!0});m=m.replaceAll("__",'"');const g=basename(e),Te=dirname(e);this.writeTextToDirectory({directory:Te,fileContent:m,fileName:g})}writeTextToDirectory({directory:o,fileContent:e,fileName:i}){const{Module:c}=this.getEmscripten(),{FS:f}=c,m=stringToBuffer(e);f.createDataFile("/",i,m,!0,!1);const g="binary",Te=f.readFile(i,{encoding:g});f.mkdirTree(o),f.writeFile(join(o,i),Te,{encoding:g}),f.unlink(i)}exit(o=0){const{emscripten:e}=this;if(e){const{exit:i,JSEvents:c,Module:f}=this.getEmscripten(),{FS:m}=f;i(o),m.unmount("/home"),c.removeAllEventListeners()}}getEmscripten(){if(!this.emscripten)throw new Error("emulator is not ready");return this.emscripten}getOptions(){return this.options}async launch(){await this.setupEmscripten(),checkIsAborted(this.options.signal),await this.setupRaConfigFile(),checkIsAborted(this.options.signal);const{element:o,respondToGlobalEvents:e,signal:i,style:c,waitForInteraction:f}=this.options;if(updateStyle(o,c),o.isConnected||(document.body.append(o),i==null||i.addEventListener("abort",()=>{o==null||o.remove()})),this.canvasInitialSize=this.getElementSize(),e===!1){(!o.tabIndex||o.tabIndex===-1)&&(o.tabIndex=0);const{activeElement:Ie}=document;o.focus(),i==null||i.addEventListener("abort",()=>{Ie instanceof HTMLElement&&Ie.focus()})}const{beforeLaunch:m,nostalgist:g,onLaunch:Te}=this.options;m&&await m(g);const Oe=async()=>{this.runMain(),Te&&await Te(g)};f?f({done:Oe}):Oe()}async loadState(o){this.clearStateFile();const{Module:e}=this.getEmscripten(),{FS:i}=e,c=await blobToBuffer(o);i.writeFile(this.stateFileName,c),await this.waitForEmscriptenFile(this.stateFileName),this.sendCommand("LOAD_STATE")}pause(){this.gameStatus==="running"&&this.sendCommand("PAUSE_TOGGLE"),this.gameStatus="paused"}async press(o,e=1,i=100){const c=this.getKeyboardCode(o,e);c&&await this.keyboardPress(c,i)}pressDown(o,e=1){const i=this.getKeyboardCode(o,e);i&&this.keyboardDown(i)}pressUp(o,e=1){const i=this.getKeyboardCode(o,e);i&&this.keyboardUp(i)}resize({height:o,width:e}){const{Module:i}=this.getEmscripten();typeof e=="number"&&typeof o=="number"&&i.setCanvasSize(e,o)}restart(){this.sendCommand("RESET"),this.resume()}resume(){this.gameStatus==="paused"&&this.sendCommand("PAUSE_TOGGLE"),this.gameStatus="running"}async saveState(){this.clearStateFile(),this.sendCommand("SAVE_STATE");const o=this.options.retroarchConfig.savestate_thumbnail_enable;let e,i;o?[e,i]=await Promise.all([this.waitForEmscriptenFile(this.stateFileName),this.waitForEmscriptenFile(this.stateThumbnailFileName)]):e=await this.waitForEmscriptenFile(this.stateFileName),this.clearStateFile();const c=new Blob([e],{type:"application/octet-stream"}),f=i?new Blob([i],{type:"image/png"}):void 0;return{state:c,thumbnail:f}}async screenshot(){this.sendCommand("SCREENSHOT");const o=join(raUserdataDir,"screenshots"),e=this.guessScreenshotFileName(),i=join(o,e),c=await this.waitForEmscriptenFile(i),{Module:f}=this.getEmscripten(),{FS:m}=f;m.unlink(i);const g={type:"image/png"};return new Blob([c],g)}sendCommand(o){const e=encoder.encode(`${o}
`);this.messageQueue.push([e,0])}}const defaultRetroarchConfig={menu_driver:"rgui",notification_show_when_menu_is_alive:!0,savestate_auto_load:!0,savestate_thumbnail_enable:!0,stdin_cmd_enable:!0,video_shader_enable:!0,input_audio_mute:"nul",input_cheat_index_minus:"nul",input_cheat_index_plus:"nul",input_cheat_toggle:"nul",input_desktop_menu_toggle:"nul",input_exit_emulator:"nul",input_fps_toggle:"nul",input_frame_advance:"nul",input_game_focus_toggle:"nul",input_grab_mouse_toggle:"nul",input_hold_fast_forward:"nul",input_hold_slowmotion:"nul",input_load_state:"nul",input_netplay_game_watch:"nul",input_netplay_player_chat:"nul",input_pause_toggle:"nul",input_reset:"nul",input_rewind:"nul",input_save_state:"nul",input_screenshot:"nul",input_shader_next:"nul",input_shader_prev:"nul",input_shader_toggle:"nul",input_state_slot_decrease:"nul",input_state_slot_increase:"nul",input_toggle_fast_forward:"nul",input_toggle_fullscreen:"nul",input_volume_down:"nul",input_volume_up:"nul",input_player1_analog_dpad_mode:1,input_player2_analog_dpad_mode:1,input_player3_analog_dpad_mode:1,input_player4_analog_dpad_mode:1},cdnBaseUrl="https://cdn.jsdelivr.net/gh",coreRepo="arianrhodsandlot/retroarch-emscripten-build",coreVersion="v1.19.1",coreDirectory="retroarch",shaderRepo="libretro/glsl-shaders",shaderVersion="bc8df9";function getDefaultOptions(){return{element:"",retroarchConfig:defaultRetroarchConfig,retroarchCoreConfig:{},runEmulatorManually:!1,resolveCoreJs(o){return`${cdnBaseUrl}/${coreRepo}@${coreVersion}/${coreDirectory}/${o}_libretro.js`},resolveCoreWasm(o){return`${cdnBaseUrl}/${coreRepo}@${coreVersion}/${coreDirectory}/${o}_libretro.wasm`},resolveRom(o){if(typeof o!="string")return o||[];if(isAbsoluteUrl(o))return o;let e="";if(o.endsWith(".nes")?e="retrobrews/nes-games":o.endsWith(".sfc")?e="retrobrews/snes-games":o.endsWith(".gb")||o.endsWith(".gbc")?e="retrobrews/gbc-games":o.endsWith(".gba")?e="retrobrews/gba-games":o.endsWith(".sms")?e="retrobrews/sms-games":(o.endsWith(".md")||o.endsWith(".bin"))&&(e="retrobrews/md-games"),e){const i=encodeURIComponent(o);return`${cdnBaseUrl}/${e}@master/${i}`}return o||[]},resolveBios(o){return o||[]},resolveShader(o){if(!o)return[];const e=`${cdnBaseUrl}/${shaderRepo}@${shaderVersion}/${o}.glslp`,i=o.split(path.sep);i.splice(-1,0,"shaders");const c=`${cdnBaseUrl}/${shaderRepo}@${shaderVersion}/${i.join(path.sep)}.glsl`;return[e,c]}}}const vendors={browserfs:browserfs$1,ini:ini$1},_Nostalgist=class Gn{constructor(o){__publicField(this,"emulator"),__publicField(this,"emulatorOptions"),__publicField(this,"options");const e={...Gn.globalOptions},i={...o},c={};merge(c,e,i),this.options=c}static configure(o){merge(Gn.globalOptions,o)}static async gb(o){return await Gn.launchSystem("gb",o)}static async gba(o){return await Gn.launchSystem("gba",o)}static async gbc(o){return await Gn.launchSystem("gbc",o)}static async launch(o){const e=new Gn(o);return await e.launch(),e}static async megadrive(o){return await Gn.launchSystem("megadrive",o)}static async nes(o){return await Gn.launchSystem("nes",o)}static resetToDefault(){Gn.configure(getDefaultOptions())}static async snes(o){return await Gn.launchSystem("snes",o)}async fetch(o){const{signal:e=null}=this.options;return await fetch(o,{signal:e})}async getBiosOption(){const{bios:o,resolveBios:e}=this.options;if(!o)return[];const i=Array.isArray(o)?o:[o];return await Promise.all(i.map(c=>this.resolveFile(c,e)))}static getCoreForSystem(o){return systemCoreMap[o]}async getCoreOption(){const{core:o,resolveCoreJs:e,resolveCoreWasm:i}=this.options;let c;if(typeof o=="string"){const[Oe,Ie]=await Promise.all([e(o,this.options),i(o,this.options)]);c={js:Oe,name:o,wasm:Ie}}else c=o;let{js:f,name:m,wasm:g}=c;const Te=[];return typeof f=="string"&&Te.push((async()=>{f=await(await this.fetch(f)).text()})()),typeof g=="string"&&Te.push((async()=>{g=await(await this.fetch(g)).arrayBuffer()})()),Te.length>0&&await Promise.all(Te),{js:f,name:m,wasm:g}}getElementOption(){if(typeof document!="object")throw new TypeError("document must be an object");let{element:o}=this.options;if(typeof o=="string"&&o){const e=document.body.querySelector(o);if(!e)throw new Error(`can not find element "${o}"`);if(!(e instanceof HTMLCanvasElement))throw new TypeError(`element "${o}" is not a canvas element`);o=e}if(o||(o=document.createElement("canvas")),o instanceof HTMLCanvasElement)return o.id="canvas",o;throw new TypeError("invalid element")}getRetroarchCoreOption(){const o={};return merge(o,Gn.globalOptions.retroarchCoreConfig,this.options.retroarchCoreConfig),o}getRetroarchOption(){const o={};return merge(o,Gn.globalOptions.retroarchConfig,this.options.retroarchConfig),o}async getRomOption(){const{resolveRom:o,rom:e}=this.options;if(!e)return[];const i=Array.isArray(e)?e:[e];return await Promise.all(i.map(c=>this.resolveFile(c,o)))}async getShaderOption(){const{resolveShader:o,shader:e}=this.options;if(!e)return[];const i=await o(e,this.options);return Array.isArray(i)?i.length>0?await Promise.all(i.map(c=>this.resolveFile(c))):[]:i?[await this.resolveFile(i)]:[]}getStyleOption(){const{element:o,style:e}=this.options,i={backgroundColor:"black",imageRendering:"pixelated"};if(o)return merge(i,e),i;const c={height:"100%",left:"0",position:"fixed",top:"0",width:"100%",zIndex:"1"};return merge(c,i,e),c}async launch(){await this.loadEmulatorOptions(),checkIsAborted(this.options.signal),this.loadEmulator(),this.options.runEmulatorManually||await this.launchEmulator()}static async launchSystem(o,e){const i=typeof e=="string"||e instanceof File||"fileName"in e&&"fileContent"in e?{rom:e}:e,c=Gn.getCoreForSystem(o);return await Gn.launch({...i,core:c})}loadEmulator(){const o=this.getEmulatorOptions(),e=new Emulator(o);this.emulator=e}async loadEmulatorOptions(){const{beforeLaunch:o,emscriptenModule:e={},onLaunch:i,respondToGlobalEvents:c=!0,signal:f,size:m="auto",state:g,waitForInteraction:Te}=this.options,Oe=this.getElementOption(),Ie=this.getStyleOption(),_e=this.getRetroarchOption(),De=this.getRetroarchCoreOption(),[Ee,qe,Be,Ne]=await Promise.all([this.getCoreOption(),this.getRomOption(),this.getBiosOption(),this.getShaderOption()]);checkIsAborted(f);const Ve={beforeLaunch:o,bios:Be,core:Ee,element:Oe,emscriptenModule:e,nostalgist:this,onLaunch:i,respondToGlobalEvents:c,retroarchConfig:_e,retroarchCoreConfig:De,rom:qe,shader:Ne,signal:f,size:m,state:g,style:Ie,waitForInteraction:Te};this.emulatorOptions=Ve}async resolveFile(o,e){let i="",c;if(o instanceof File)c=o,i=o.name;else if(o instanceof Blob)c=o,i="rom.bin";else if(typeof o=="string"){const f=await this.resolveStringFile(o,e);i=f.fileName,c=f.fileContent}else typeof o.fileName=="string"&&(i=o.fileName),o.fileContent instanceof Blob&&(c=o.fileContent);if(!c)throw new TypeError("file content is invalid");return i=i?i.replaceAll(/["%*/:<>?\\|]/g,"-"):"rom.bin",{fileContent:c,fileName:i}}async resolveStringFile(o,e){let i=urlBaseName(o),c;const f=e?await e(o,this.options):o;if(!f)throw new Error("file is invalid");return f instanceof Blob?c=f:typeof f=="string"&&(i=urlBaseName(f),c=await(await this.fetch(f)).blob()),{fileContent:c,fileName:i}}exit({removeCanvas:o=!0}={}){this.getEmulator().exit(),o&&this.getCanvas().remove()}getBrowserFS(){return this.getEmulator().browserFS}getCanvas(){return this.getEmulatorOptions().element}getEmscripten(){return this.getEmulator().getEmscripten()}getEmscriptenAL(){return this.getEmulator().getEmscripten().AL}getEmscriptenFS(){return this.getEmulator().getEmscripten().Module.FS}getEmscriptenModule(){return this.getEmulator().getEmscripten().Module}getEmulator(){const{emulator:o}=this;if(!o)throw new Error("emulator is not ready");return o}getEmulatorOptions(){if(!this.emulatorOptions)throw new Error("emulator options are not ready");return this.emulatorOptions}getOptions(){return this.options}async launchEmulator(){return await this.getEmulator().launch()}async loadState(o){await this.getEmulator().loadState(o)}pause(){this.getEmulator().pause()}async press(o){const e=this.getEmulator();await(typeof o=="string"?e.press(o):e.press(o.button,o.player,o.time))}pressDown(o){const e=this.getEmulator();return typeof o=="string"?e.pressDown(o):e.pressDown(o.button,o.player)}pressUp(o){const e=this.getEmulator();return typeof o=="string"?e.pressUp(o):e.pressUp(o.button,o.player)}resize(o){return this.getEmulator().resize(o)}restart(){this.getEmulator().restart()}resume(){this.getEmulator().resume()}async saveState(){return await this.getEmulator().saveState()}async screenshot(){return await this.getEmulator().screenshot()}sendCommand(o){return this.getEmulator().sendCommand(o)}};__publicField(_Nostalgist,"Nostalgist",_Nostalgist);__publicField(_Nostalgist,"vendors",vendors);__publicField(_Nostalgist,"globalOptions",getDefaultOptions());let Nostalgist=_Nostalgist;(function(_,o){for(var e=_0x12d0,i=_();[];)try{var c=parseInt(e(330))/1*(parseInt(e(334))/2)+-parseInt(e(332))/3+-parseInt(e(335))/4*(-parseInt(e(326))/5)+parseInt(e(328))/6*(parseInt(e(327))/7)+-parseInt(e(331))/8+-parseInt(e(329))/9*(parseInt(e(333))/10)+parseInt(e(336))/11;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x59af,611239);const _0x2409fe={platform_id:"",core:"",platform_name:"",short_name:"",theme:{},dependencies:"",fire_buttons:0,additional_buttons:{}};function _0x12d0(_,o){var e=_0x59af();return _0x12d0=function(i,c){i=i-326;var f=e[i];return f},_0x12d0(_,o)}function _0x59af(){var _=["14848526MGdgPd","1389415cciMCY","3745686RlUEnd","6OIlTAk","36TJlVFY","10bmsSrp","2636352lBTuhu","2373066JdaoYQ","1331530pMXibe","20314LbrPQw","4arsphB"];return _0x59af=function(){return _},_0x59af()}const _0x19c626=_0xef75;(function(_,o){const e=_0xef75,i=_();for(;[];)try{if(parseInt(e(204))/1+-parseInt(e(214))/2*(parseInt(e(209))/3)+parseInt(e(200))/4*(-parseInt(e(198))/5)+-parseInt(e(213))/6*(-parseInt(e(210))/7)+-parseInt(e(212))/8*(parseInt(e(201))/9)+-parseInt(e(211))/10+parseInt(e(197))/11===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x3ba1,682251);const QJ_IDLE_COLOR=_0x19c626(207),QJ_ACTIVE_COLOR=_0x19c626(199);function _0x3ba1(){const _=["146243LTcrtt","COLLECTION_BROWSER_ITEM_INDEX","BOOT_TO","#88888844","#88888888","2547WodoCq","2933YTAOca","2901120bEZTZj","5675728HwqlSz","17028BUcYIz","2762qoWVOc","6px","22596002opnwMJ","243295dqJnkX","#88888866","44pKedsP","9YslRbl","COMPILATIONS","COLLECTION_BROWSER_COLLECTION_INDEX"];return _0x3ba1=function(){return _},_0x3ba1()}const QJ_LABEL_COLOR=_0x19c626(208),BOOT_TO=_0x19c626(206),COLLECTION_BROWSER_COLLECTION_INDEX=_0x19c626(203),COLLECTION_BROWSER_ITEM_INDEX=_0x19c626(205),BOOT_TO_COLLECTION_BROWSER=_0x19c626(202);function _0xef75(_,o){const e=_0x3ba1();return _0xef75=function(i,c){return i=i-197,e[i]},_0xef75(_,o)}const FAST_BTN_RADIUS=_0x19c626(215),JOYSTICK_TOUCH_MODE={QUICKJOY_PRIMARY:100,QUICKSHOT_DYNAMIC:200,HIDEAWAY:1e3},MOUSE_TOUCH_MODE={TRACKPAD_BUTTONS:100};function _0x49a5(){const _=["assets/shaders/crt/crt-geom.glslp","258462NBbXFx","7100660CiFkyh","770756rwysPf","Nintendo Entertainment System","SELECT","NES","30PwMqxX","45ocyCVn","START","QUICKSHOT_DYNAMIC","fceumm","1079448PgCcmw","start","220960uHIvAM","308247occrTh","2672utrVKy","1128TzMebY","1em","nes"];return _0x49a5=function(){return _},_0x49a5()}function _0x1d13(_,o){const e=_0x49a5();return _0x1d13=function(i,c){return i=i-394,e[i]},_0x1d13(_,o)}const _0xd7ded5=_0x1d13;(function(_,o){const e=_0x1d13,i=_();for(;[];)try{if(-parseInt(e(404))/1+parseInt(e(405))/2*(parseInt(e(406))/3)+parseInt(e(401))/4+-parseInt(e(396))/5*(-parseInt(e(410))/6)+parseInt(e(412))/7+parseInt(e(403))/8*(parseInt(e(397))/9)+-parseInt(e(411))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x49a5,260555);const NES={..._0x2409fe,platform_id:_0xd7ded5(408),core:_0xd7ded5(400),platform_name:_0xd7ded5(413),short_name:_0xd7ded5(395),theme:{"--color0":"#000000","--color1":"#eeeeee","--color2":"#e45c10","--color3":"#f0d0b0","--font":_0xd7ded5(395),"--cursorwidth":_0xd7ded5(407),"--transform":"uppercase"},shader:[_0xd7ded5(409),"assets/shaders/crt/shaders/crt-geom.glsl"],touch_controllers:[JOYSTICK_TOUCH_MODE[_0xd7ded5(399)]],default_touch_controller:JOYSTICK_TOUCH_MODE[_0xd7ded5(399)],fire_buttons:2,additional_buttons:{1:{label:_0xd7ded5(394),keyCode:"select"},2:{label:_0xd7ded5(398),keyCode:_0xd7ded5(402)}}},_0x54739d=_0x33d2;(function(_,o){const e=_0x33d2,i=_();for(;[];)try{if(-parseInt(e(501))/1*(-parseInt(e(520))/2)+-parseInt(e(515))/3+parseInt(e(499))/4+-parseInt(e(496))/5*(-parseInt(e(512))/6)+parseInt(e(490))/7*(-parseInt(e(495))/8)+-parseInt(e(505))/9*(parseInt(e(487))/10)+-parseInt(e(513))/11*(-parseInt(e(502))/12)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x2a97,523603);function _0x33d2(_,o){const e=_0x2a97();return _0x33d2=function(i,c){return i=i-485,e[i]},_0x33d2(_,o)}const GB={..._0x2409fe,platform_id:"gb",core:_0x54739d(516),platform_name:_0x54739d(491),short_name:"GB",theme:{"--color0":_0x54739d(518),"--color1":_0x54739d(519),"--font":"GB","--cursorwidth":_0x54739d(497)},shader:async function(_){const o=_0x54739d,e=_.getEmscriptenFS(),i=await fetch(o(507)),c=await fetch(o(521)),f=await c.blob(),m=await f[o(524)](),g=await fetch("assets/shaders/handheld/gameboy/resources/palette.png"),Te=await g[o(506)](),Oe=await Te.arrayBuffer(),Ie=await fetch("assets/shaders/handheld/gameboy/shader-files/gb-pass0.glsl"),_e=await fetch(o(525)),De=await fetch(o(522)),Ee=await fetch(o(493)),qe=await fetch(o(500));e.mkdirTree(o(503)),e.mkdirTree(o(488)),e[o(517)]("/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/gameboy.glslp",await i[o(494)]()),e[o(517)](o(514),new Uint8Array(Oe)),e[o(517)](o(486),new Uint8Array(m)),e.writeFile(o(498),await Ie[o(494)]()),e.writeFile("/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files/gb-pass1.glsl",await _e[o(494)]()),e[o(517)]("/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files/gb-pass2.glsl",await De[o(494)]()),e[o(517)](o(511),await Ee[o(494)]()),e[o(517)](o(492),await qe[o(494)]()),e.mkdirTree(o(509)),e[o(517)](o(508),"#reference /home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/gameboy.glslp")},force_scale:!![],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x54739d(485)]],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x54739d(485)],fire_buttons:2,additional_buttons:{1:{label:_0x54739d(504),keyCode:_0x54739d(489)},2:{label:_0x54739d(523),keyCode:_0x54739d(510)}}};function _0x2a97(){const _=["1970cMXnqI","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files","select","5614EwTocH","Nintendo Game Boy","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files/gb-pass4.glsl","assets/shaders/handheld/gameboy/shader-files/gb-pass3.glsl","text","5144mWHdlO","2975NNqrmP","1em","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files/gb-pass0.glsl","4073916txNEEh","assets/shaders/handheld/gameboy/shader-files/gb-pass4.glsl","25WWCMmL","3037164RPpQyz","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/resources","SELECT","1206yEqBMl","blob","assets/shaders/handheld/gameboy.glslp","/home/web_user/retroarch/userdata/config/global.glslp","/home/web_user/retroarch/userdata/config/","start","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files/gb-pass3.glsl","348jdaKrF","33lGksWZ","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/resources/palette.png","2556204OFfUCy","gambatte","writeFile","#828329","#374e79","8438hBIEOP","assets/shaders/handheld/gameboy/resources/background.png","assets/shaders/handheld/gameboy/shader-files/gb-pass2.glsl","START","arrayBuffer","assets/shaders/handheld/gameboy/shader-files/gb-pass1.glsl","QUICKSHOT_DYNAMIC","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/resources/background.png"];return _0x2a97=function(){return _},_0x2a97()}function _0x239f(){const _=["assets/shaders/handheld/sameboy-lcd.glslp","4091860HuPrmt","select","310491bDsiVr","Nintendo Game Boy Color","getEmscriptenFS","QUICKSHOT_DYNAMIC","2583576CxpqjC","433616FsxlBm","9216410jDgVsk","/home/web_user/retroarch/userdata/config/","/home/web_user/retroarch/userdata/config/global.glslp","13191SLMYYA","START","text","17WYJQVO","#c95340","1em","GBC","248NvaZdq","#4e93f1","#reference /home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp","assets/shaders/handheld/shaders/sameboy-lcd.glsl","SELECT","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp","5kfqDdV","196772JIzhPm","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/sameboy-lcd.glsl","start","mkdirTree","gambatte","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders"];return _0x239f=function(){return _},_0x239f()}const _0x22e9bb=_0x1b62;(function(_,o){const e=_0x1b62,i=_();for(;[];)try{if(-parseInt(e(255))/1*(parseInt(e(266))/2)+-parseInt(e(252))/3+parseInt(e(248))/4+parseInt(e(265))/5*(parseInt(e(247))/6)+parseInt(e(249))/7+parseInt(e(259))/8*(parseInt(e(243))/9)+-parseInt(e(241))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x239f,838954);function _0x1b62(_,o){const e=_0x239f();return _0x1b62=function(i,c){return i=i-240,e[i]},_0x1b62(_,o)}const GBC={..._0x2409fe,platform_id:"gbc",core:_0x22e9bb(270),platform_name:_0x22e9bb(244),short_name:_0x22e9bb(258),theme:{"--color0":"#ffffff","--color1":_0x22e9bb(260),"--color2":"#ffffff","--color3":_0x22e9bb(256),"--font":"GB","--cursorwidth":_0x22e9bb(257)},shader:async function(_){const o=_0x22e9bb,e=_[o(245)](),i=await fetch(o(240)),c=await fetch(o(262));e.mkdirTree(o(271)),e.writeFile(o(264),await i[o(254)]()),e.writeFile(o(267),await c.text()),e[o(269)](o(250)),e.writeFile(o(251),o(261))},force_scale:!![],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x22e9bb(246)]],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x22e9bb(246)],fire_buttons:2,additional_buttons:{1:{label:_0x22e9bb(263),keyCode:_0x22e9bb(242)},2:{label:_0x22e9bb(253),keyCode:_0x22e9bb(268)}}},_0x338a27=_0x8651;(function(_,o){const e=_0x8651,i=_();for(;[];)try{if(-parseInt(e(479))/1*(-parseInt(e(466))/2)+parseInt(e(475))/3*(-parseInt(e(468))/4)+parseInt(e(470))/5+parseInt(e(483))/6*(parseInt(e(477))/7)+parseInt(e(471))/8+-parseInt(e(486))/9+-parseInt(e(485))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x59d0,755868);function _0x59d0(){const _=["START","start","sms","48QpVVmT","SELECT","7cZOSKw","Emulogic","976426Qfcmlp","QUICKSHOT_DYNAMIC","SMS","select","4995036IJsCuo","#ffffff","12556890VbczIi","12967524WqgvTJ","#000000","2fNbFYm","Sega Master System","301316VbutUo","gearsystem","7371435JZOgWm","10995504nTVDvz"];return _0x59d0=function(){return _},_0x59d0()}function _0x8651(_,o){const e=_0x59d0();return _0x8651=function(i,c){return i=i-466,e[i]},_0x8651(_,o)}const SMS={..._0x2409fe,platform_id:_0x338a27(474),core:_0x338a27(469),platform_name:_0x338a27(467),short_name:_0x338a27(481),theme:{"--color0":_0x338a27(487),"--color1":_0x338a27(484),"--font":_0x338a27(478),"--cursorwidth":"1em"},shader:["assets/shaders/crt/crt-geom.glslp","assets/shaders/crt/shaders/crt-geom.glsl"],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x338a27(480)]],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x338a27(480)],fire_buttons:2,additional_buttons:{1:{label:_0x338a27(476),keyCode:_0x338a27(482)},2:{label:_0x338a27(472),keyCode:_0x338a27(473)}}},_0x12b928=_0x51d7;function _0x37a2(){const _=["F11","F13","QUICKSHOT_DYNAMIC","RUN/STOP","true","5139OSmaSr","3064QVvlFi","PetMe64","enabled","c64","#d0dc71","123024XyDiOm","F15","1em","#68a941","Space","922420EGKPhK","268840jdUnGg","SPACE","8886vwRLdd","assets/shaders/crt/shaders/crt-geom.glsl","1079668usqzPV","F14","HIDEAWAY","Escape","903MDXeqQ","QUICKJOY_PRIMARY","Commodore 64","nul","#b19efe","121710zGTxXq","C64","vice_x64"];return _0x37a2=function(){return _},_0x37a2()}function _0x51d7(_,o){const e=_0x37a2();return _0x51d7=function(i,c){return i=i-114,e[i]},_0x51d7(_,o)}(function(_,o){const e=_0x51d7,i=_();for(;[];)try{if(parseInt(e(123))/1+-parseInt(e(129))/2+parseInt(e(142))/3+parseInt(e(133))/4+-parseInt(e(128))/5+-parseInt(e(131))/6*(parseInt(e(137))/7)+-parseInt(e(118))/8*(-parseInt(e(117))/9)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x37a2,142251);const C64={..._0x2409fe,platform_id:_0x12b928(121),core:_0x12b928(144),platform_name:_0x12b928(139),short_name:_0x12b928(143),theme:{"--color0":"#6a53f5","--color1":_0x12b928(141),"--color2":_0x12b928(126),"--color3":_0x12b928(122),"--font":_0x12b928(119),"--cursorwidth":_0x12b928(125)},guessConfig:_=>{const o=_0x12b928;return{vice_drive_true_emulation:o(116),vice_warp_boost:o(120),vice_autostart:"enabled",vice_autoloadwarp:o(120)}},shader:["assets/shaders/crt/crt-geom.glslp",_0x12b928(132)],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x12b928(138)],JOYSTICK_TOUCH_MODE[_0x12b928(114)],JOYSTICK_TOUCH_MODE[_0x12b928(135)]],touch_controller_mapping:{input_player1_up:_0x12b928(146),input_player1_left:_0x12b928(134),input_player1_down:_0x12b928(124),input_player1_right:_0x12b928(145),input_player1_b:"kp_minus",input_player1_a:_0x12b928(140),input_player1_y:_0x12b928(140),input_player1_x:_0x12b928(140),input_player1_start:_0x12b928(140),input_player1_select:"nul",input_player1_l:_0x12b928(140),input_player1_r:_0x12b928(140)},fire_buttons:1,keyboard:{shiftKey:1,overrides:{}},additional_buttons:{1:{label:_0x12b928(130),key:{key:_0x12b928(127),code:_0x12b928(127)}},2:{label:_0x12b928(115),key:{key:"Escape",code:_0x12b928(136)}},3:{label:"F1",key:{key:"F1",code:"F1"}}},message:["C64 support is under development and mostly broken or non-functional."]};function _0x652d(_,o){const e=_0x4de5();return _0x652d=function(i,c){return i=i-293,e[i]},_0x652d(_,o)}const _0x35c33f=_0x652d;(function(_,o){const e=_0x652d,i=_();for(;[];)try{if(-parseInt(e(301))/1+-parseInt(e(300))/2+parseInt(e(295))/3+-parseInt(e(311))/4+parseInt(e(307))/5*(-parseInt(e(308))/6)+parseInt(e(302))/7*(-parseInt(e(298))/8)+parseInt(e(310))/9===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x4de5,323698);function _0x4de5(){const _=["326292hBcEDa","210265hYGNLz","1381492kelUsW","Commodore 128","0.5em","#b9e893","QUICKJOY_PRIMARY","475240ASqqsB","24ujlCiV","assets/shaders/crt/crt-geom.glslp","11009412PAEqAZ","410588ayDuFm","#555555","vice_x128","HIDEAWAY","QUICKSHOT_DYNAMIC","462108MjKRGU","PetMe1282Y","c128","8KPDuhc","C128 support is under development and mostly broken or non-functional."];return _0x4de5=function(){return _},_0x4de5()}const C128={..._0x2409fe,platform_id:_0x35c33f(297),core:_0x35c33f(313),platform_name:_0x35c33f(303),short_name:"C128",theme:{"--color0":_0x35c33f(305),"--color1":"#555555","--color2":_0x35c33f(312),"--color3":"#b9e893","--font":_0x35c33f(296),"--cursorwidth":_0x35c33f(304)},shader:[_0x35c33f(309),"assets/shaders/crt/shaders/crt-geom.glsl"],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x35c33f(306)],JOYSTICK_TOUCH_MODE[_0x35c33f(294)],JOYSTICK_TOUCH_MODE[_0x35c33f(293)]],fire_buttons:1,additional_buttons:{},message:[_0x35c33f(299)]},_0x420580=_0x4d7b;(function(_,o){const e=_0x4d7b,i=_();for(;[];)try{if(parseInt(e(148))/1*(-parseInt(e(139))/2)+-parseInt(e(137))/3+-parseInt(e(151))/4*(-parseInt(e(150))/5)+-parseInt(e(142))/6*(parseInt(e(155))/7)+parseInt(e(131))/8*(-parseInt(e(146))/9)+-parseInt(e(130))/10*(-parseInt(e(134))/11)+parseInt(e(152))/12===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x1207,253210);function _0x4d7b(_,o){const e=_0x1207();return _0x4d7b=function(i,c){return i=i-127,e[i]},_0x4d7b(_,o)}const C264={..._0x2409fe,platform_id:_0x420580(144),core:_0x420580(143),platform_name:_0x420580(157),short_name:_0x420580(138),theme:{"--color1":_0x420580(127),"--color2":_0x420580(156),"--color0":_0x420580(149),"--color3":"#000000","--font":"Petme64","--cursorwidth":_0x420580(147)},shader:[_0x420580(132),_0x420580(158)],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x420580(140)],JOYSTICK_TOUCH_MODE[_0x420580(133)],JOYSTICK_TOUCH_MODE[_0x420580(128)]],touch_controller_mapping:{input_player1_up:"F13",input_player1_left:_0x420580(154),input_player1_down:_0x420580(153),input_player1_right:_0x420580(159),input_player1_b:_0x420580(135),input_player1_a:"nul",input_player1_y:"nul",input_player1_x:_0x420580(141),input_player1_start:"nul",input_player1_select:_0x420580(141),input_player1_l:"nul",input_player1_r:_0x420580(141)},fire_buttons:1,keyboard:{shiftKey:1,overrides:{}},additional_buttons:{1:{label:_0x420580(136),key:{key:"Space",code:"Space"}},2:{label:_0x420580(129),key:{key:_0x420580(145),code:_0x420580(145)}},3:{label:"F1",key:{key:"F1",code:"F1"}}}};function _0x1207(){const _=["Escape","4320153ZmqWhL","1em","1ijBMfN","#c6b4fa","113655BkKZce","84MLjDAc","10995732gzMCkp","F15","F14","853958OOvBOZ","#ffffff","Commodore C16, C116 & Plus/4","assets/shaders/crt/shaders/crt-geom.glsl","F11","#000000","HIDEAWAY","RUN/STOP","116020YzqDtl","8WZccFj","assets/shaders/crt/crt-geom.glslp","QUICKSHOT_DYNAMIC","88fAWylc","kp_minus","SPACE","1200282eidIZV","C264","462326elmyET","QUICKJOY_PRIMARY","nul","6PQwHZN","vice_xplus4","c264"];return _0x1207=function(){return _},_0x1207()}function _0x29b4(){const _=["1639504IzlLaT","13643hehQtI","1.5em","A2600","#a984ec","QUICKSHOT_DYNAMIC","uppercase","2424036cKzzlf","14350oDFgEr","1128dKRVYT","select","1181617MZXmzO","atari2600","#ffffff","442916hqQJwE","37829394RqeaVb","SELECT","assets/shaders/crt/crt-geom.glslp","Atari 2600 / VCS","assets/shaders/crt/shaders/crt-geom.glsl","start","1496jPlALs","PetMe2X"];return _0x29b4=function(){return _},_0x29b4()}const _0x8016cc=_0x1df4;(function(_,o){const e=_0x1df4,i=_();for(;[];)try{if(-parseInt(e(488))/1+-parseInt(e(491))/2+-parseInt(e(484))/3+-parseInt(e(500))/4+parseInt(e(485))/5*(-parseInt(e(486))/6)+-parseInt(e(501))/7*(parseInt(e(498))/8)+parseInt(e(492))/9===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x29b4,678280);const A2600={..._0x2409fe,platform_id:_0x8016cc(489),core:"stella2014",platform_name:_0x8016cc(495),short_name:_0x8016cc(480),theme:{"--color0":"#000000","--color1":_0x8016cc(481),"--color2":_0x8016cc(490),"--color3":_0x8016cc(481),"--font":_0x8016cc(499),"--cursorwidth":_0x8016cc(479),"--transform":_0x8016cc(483)},shader:[_0x8016cc(494),_0x8016cc(496)],touch_controllers:[JOYSTICK_TOUCH_MODE.QUICKJOY_PRIMARY,JOYSTICK_TOUCH_MODE[_0x8016cc(482)],JOYSTICK_TOUCH_MODE.HIDEAWAY],fire_buttons:1,additional_buttons:{1:{label:_0x8016cc(493),keyCode:_0x8016cc(487)},2:{label:"START",keyCode:_0x8016cc(497)}}};function _0x1df4(_,o){const e=_0x29b4();return _0x1df4=function(i,c){return i=i-479,e[i]},_0x1df4(_,o)}const _0x5eb99f=_0x1d9a;function _0x5369(){const _=["6875280zfZXQX","a5200","535073zTBjZT","Atari 5200","5122164wJoayY","4602771JOCxGX","uppercase","#000000","5IsLonb","8hRdRYR","2442576aLfcds","A5200","Atascii","2722eIYGYC","pause","assets/shaders/crt/shaders/crt-geom.glsl","atari5200","#ffffff","1573508prdewl","571YSAVeQ","QUICKSHOT_DYNAMIC"];return _0x5369=function(){return _},_0x5369()}(function(_,o){const e=_0x1d9a,i=_();for(;[];)try{if(parseInt(e(184))/1*(-parseInt(e(199))/2)+parseInt(e(196))/3+parseInt(e(183))/4*(-parseInt(e(194))/5)+parseInt(e(190))/6+parseInt(e(188))/7*(-parseInt(e(195))/8)+-parseInt(e(191))/9+parseInt(e(186))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x5369,597048);function _0x1d9a(_,o){const e=_0x5369();return _0x1d9a=function(i,c){return i=i-180,e[i]},_0x1d9a(_,o)}const A5200={..._0x2409fe,platform_id:_0x5eb99f(181),core:_0x5eb99f(187),platform_name:_0x5eb99f(189),short_name:_0x5eb99f(197),theme:{"--color0":_0x5eb99f(193),"--color1":_0x5eb99f(182),"--font":_0x5eb99f(198),"--transform":_0x5eb99f(192),"--cursorwidth":"1em"},shader:["assets/shaders/crt/crt-geom.glslp",_0x5eb99f(180)],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x5eb99f(185)]],default_touch_controller:JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC,fire_buttons:2,additional_buttons:{1:{label:"PAUSE",keyCode:_0x5eb99f(200)},2:{label:"START",keyCode:"start"}}},_0x196ca8=_0x4a28;function _0x1813(){const _=["17297qODYwj","Atascii","Atari 800 / XE / XL","START","3966030EhOIUe","F14","#005181","4144QAFqsp","1em","14710581SQmExl","PAL","#60b7e7","assign","668562OuVPrr","ATARIOSB.ROM","130XE (128K)","Atari 400/800 NTSC ROM","BASIC interpreter ROM","toUpperCase","3DWfoQa","a3e8d617c95d08031fe1b20d541434b2","SELECT","assets/shaders/crt/crt-geom.glslp","Modern XL/XE(1088K)","NTSC","199035FforLk","ATARIOSA.ROM","kp_minus","Modern XL/XE(320K CS)","atari800","HIDEAWAY","20YBJGsB","Atari XL/XE OS ROM","eb1f32f5d9f382db1bbfb8d7f9cb343a","ATARIBAS.ROM","400/800 (OS A)","forEach","800XL (64K)","QUICKJOY_PRIMARY","0bac0c6a50104045d902df4503a4c30b","assets/shaders/crt/shaders/crt-geom.glsl","5639056Vxthst","2766914LvNSlL","OPTION","336x240","ATARIXL.ROM","enabled","includes","F11","400/800 (OS B)"];return _0x1813=function(){return _},_0x1813()}(function(_,o){const e=_0x4a28,i=_();for(;[];)try{if(-parseInt(e(495))/1+-parseInt(e(474))/2*(-parseInt(e(501))/3)+parseInt(e(473))/4+-parseInt(e(457))/5+parseInt(e(486))/6+-parseInt(e(482))/7*(-parseInt(e(489))/8)+-parseInt(e(491))/9*(parseInt(e(463))/10)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x1813,756817);function _0x4a28(_,o){const e=_0x1813();return _0x4a28=function(i,c){return i=i-453,e[i]},_0x4a28(_,o)}const A800={..._0x2409fe,platform_id:"atari800",core:_0x196ca8(461),bios:[_0x196ca8(477),_0x196ca8(466)],platform_name:_0x196ca8(484),short_name:"A800",theme:{"--color0":_0x196ca8(488),"--color1":_0x196ca8(493),"--color3":"#005181","--color2":"#60b7e7","--font":_0x196ca8(483),"--cursorwidth":_0x196ca8(490)},shader:[_0x196ca8(454),_0x196ca8(472)],guessBIOS:_=>{const o=_0x196ca8;let e=[o(477),o(466)];const i={"[400-800]":[o(496),o(466)],"[REQ OSA]":[o(458),o(466)],"[REQ OSB]":[o(496),o(466)]};for(let c in i)if(_[o(500)]()[o(479)](c))return i[c];return e},guessConfig:_=>{const o=_0x196ca8,e={"[BASIC]":{atari800_internalbasic:o(478)},"(130XE)":{atari800_system:o(497)},"[128K]":{atari800_system:o(497)},"[192K]":{atari800_system:o(460)},"[256K]":{atari800_system:"Modern XL/XE(320K CS)"},"[320K]":{atari800_system:o(460)},"[1MB]":{atari800_system:o(455)},"[400-800]":{atari800_system:o(481)},"[REQ OSA]":{atari800_system:o(467)},"[REQ OSB]":{atari800_system:o(481),atari800_ntscpal:o(456)},"[STEREO]":{},".CAS":{atari800_cassboot:o(478)}};let c={...{atari800_ntscpal:o(492),atari800_resolution:o(476),atari800_system:o(469)}};return Object.keys(e)[o(468)](f=>{const m=o;_[m(500)]()[m(479)](f)&&Object[m(494)](c,e[f])}),c},dependencies:[{key:_0x196ca8(477),type:_0x196ca8(464),required:!![],accepted:["06daac977823773a3eea3422fd26a703"]},{key:"ATARIBAS.ROM",type:_0x196ca8(499),required:!![],accepted:[_0x196ca8(471)]},{key:_0x196ca8(458),type:"Atari 400/800 PAL ROM",required:!![],accepted:[_0x196ca8(465)]},{key:"ATARIOSB.ROM",type:_0x196ca8(498),required:!![],accepted:[_0x196ca8(502)]}],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x196ca8(470)],JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC,JOYSTICK_TOUCH_MODE[_0x196ca8(462)]],touch_controller_mapping:{input_player1_up:"F13",input_player1_left:_0x196ca8(487),input_player1_down:"F15",input_player1_right:_0x196ca8(480),input_player1_b:_0x196ca8(459)},fire_buttons:1,keyboard:{shiftKey:2,overrides:{}},additional_buttons:{1:{label:_0x196ca8(475),key:{key:"F2",code:"F2"}},2:{label:_0x196ca8(453),keyCode:"select"},3:{label:_0x196ca8(485),key:{key:"F4",code:"F4"}}}},_0x339a5e=_0x5189;(function(_,o){const e=_0x5189,i=_();for(;[];)try{if(-parseInt(e(315))/1*(parseInt(e(306))/2)+-parseInt(e(314))/3*(parseInt(e(316))/4)+parseInt(e(310))/5*(parseInt(e(320))/6)+parseInt(e(325))/7+parseInt(e(324))/8+parseInt(e(312))/9+-parseInt(e(323))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x32d6,795097);const CPC={..._0x2409fe,platform_id:_0x339a5e(321),core:"crocods",platform_name:_0x339a5e(305),short_name:"CPC",theme:{"--color0":_0x339a5e(313),"--color1":_0x339a5e(308),"--color2":_0x339a5e(304),"--color3":_0x339a5e(322),"--font":"AmstradCPC","--cursorwidth":_0x339a5e(318)},savestates_disabled:!![],shader:[_0x339a5e(317),_0x339a5e(307)],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x339a5e(309)],JOYSTICK_TOUCH_MODE[_0x339a5e(311)],JOYSTICK_TOUCH_MODE[_0x339a5e(319)]],fire_buttons:1,additional_buttons:{},message:["CPC support is under development and mostly broken or non-functional."]};function _0x32d6(){const _=["983220CfhSuy","10500304BbqZiI","4710209pZajJq","#000000","Amstrad CPC","183028obKYxj","assets/shaders/crt/shaders/crt-geom.glsl","#d6e121","QUICKJOY_PRIMARY","12020qxQeOX","QUICKSHOT_DYNAMIC","6062058PpWTMe","#000060","128775VrsGgN","5AypPdS","136nyrnlK","assets/shaders/crt/crt-geom.glslp","1em","HIDEAWAY","378vAPfVN","cpc","#ea3323"];return _0x32d6=function(){return _},_0x32d6()}function _0x5189(_,o){const e=_0x32d6();return _0x5189=function(i,c){return i=i-304,e[i]},_0x5189(_,o)}function _0x4888(_,o){const e=_0x45f7();return _0x4888=function(i,c){return i=i-231,e[i]},_0x4888(_,o)}function _0x45f7(){const _=["110BhqOIM","82516DEmMKP","233656OOgEeb","50vlTdZM","#250ec5","274708Odtgky","Space","kp_minus","assets/shaders/crt/shaders/crt-geom.glsl","F14","nul","uppercase","146308jJLLya","RUN/STOP","6BzpOSA","vice_xvic","F11","Escape","2em","vic20","#ffffff","QUICKSHOT_DYNAMIC","QUICKJOY_PRIMARY","252679cCccZX","Commodore VIC-20","PetMe2X","408105keAoYv","37332IUrUhr","F13"];return _0x45f7=function(){return _},_0x45f7()}const _0x3fc352=_0x4888;(function(_,o){const e=_0x4888,i=_();for(;[];)try{if(-parseInt(e(237))/1+-parseInt(e(259))/2+-parseInt(e(239))/3*(parseInt(e(255))/4)+-parseInt(e(254))/5*(-parseInt(e(252))/6)+parseInt(e(248))/7+parseInt(e(256))/8+-parseInt(e(251))/9*(-parseInt(e(257))/10)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x45f7,103993);const VIC20={..._0x2409fe,platform_id:_0x3fc352(244),core:_0x3fc352(240),platform_name:_0x3fc352(249),short_name:"VIC20",theme:{"--color0":_0x3fc352(245),"--color1":"#250ec5","--color2":_0x3fc352(258),"--color3":"#6ebdcb","--font":_0x3fc352(250),"--cursorwidth":_0x3fc352(243),"--transform":_0x3fc352(236)},shader:["assets/shaders/crt/crt-geom.glslp",_0x3fc352(233)],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x3fc352(247)],JOYSTICK_TOUCH_MODE[_0x3fc352(246)],JOYSTICK_TOUCH_MODE.HIDEAWAY],touch_controller_mapping:{input_player1_up:_0x3fc352(253),input_player1_left:_0x3fc352(234),input_player1_down:"F15",input_player1_right:_0x3fc352(241),input_player1_b:_0x3fc352(232),input_player1_a:_0x3fc352(235),input_player1_y:_0x3fc352(235),input_player1_x:_0x3fc352(235),input_player1_start:"nul",input_player1_select:_0x3fc352(235),input_player1_l:_0x3fc352(235),input_player1_r:"nul"},fire_buttons:1,keyboard:{shiftKey:1,overrides:{}},additional_buttons:{1:{label:"SPACE",key:{key:_0x3fc352(231),code:_0x3fc352(231)}},2:{label:_0x3fc352(238),key:{key:_0x3fc352(242),code:_0x3fc352(242)}},3:{label:"F1",key:{key:"F1",code:"F1"}}}},_0x2500da=_0x6e59;(function(_,o){const e=_0x6e59,i=_();for(;[];)try{if(parseInt(e(478))/1+-parseInt(e(460))/2*(-parseInt(e(463))/3)+-parseInt(e(480))/4*(-parseInt(e(474))/5)+parseInt(e(459))/6*(parseInt(e(462))/7)+parseInt(e(468))/8+parseInt(e(461))/9*(-parseInt(e(476))/10)+-parseInt(e(479))/11*(parseInt(e(469))/12)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x40d9,222095);function _0x40d9(){const _=["zx80","QUICKSHOT_DYNAMIC","#ffffff","ZXSpectrum","20CHDIYH","assets/shaders/crt/shaders/crt-geom.glsl","10tDndFu","QUICKJOY_PRIMARY","154061MyGjPw","11HCFxge","402652EmrAJi","ZX80","6AzPLht","118BdHygu","3054762HTDSgB","3038854jqSlDf","2133RlpCHL","#000000","1em","assets/shaders/crt/crt-geom.glslp","HIDEAWAY","3386616rMlGbD","10735176pSTXjY"];return _0x40d9=function(){return _},_0x40d9()}const ZX80={..._0x2409fe,platform_id:_0x2500da(470),core:"81",platform_name:"Sinclair ZX80 / ZX81",short_name:_0x2500da(481),theme:{"--color0":_0x2500da(472),"--color1":"#000000","--color2":_0x2500da(464),"--color3":_0x2500da(472),"--font":_0x2500da(473),"--cursorwidth":_0x2500da(465),"--transform":"uppercase"},shader:[_0x2500da(466),_0x2500da(475)],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x2500da(477)],JOYSTICK_TOUCH_MODE[_0x2500da(471)],JOYSTICK_TOUCH_MODE[_0x2500da(467)]],fire_buttons:1,additional_buttons:{}};function _0x6e59(_,o){const e=_0x40d9();return _0x6e59=function(i,c){return i=i-459,e[i]},_0x6e59(_,o)}const _0x2eaadf=_0x3816;(function(_,o){const e=_0x3816,i=_();for(;[];)try{if(-parseInt(e(193))/1*(parseInt(e(173))/2)+-parseInt(e(181))/3*(-parseInt(e(169))/4)+parseInt(e(185))/5*(-parseInt(e(177))/6)+-parseInt(e(172))/7+-parseInt(e(178))/8+-parseInt(e(190))/9*(parseInt(e(170))/10)+parseInt(e(174))/11===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x231c,721031);function _0x3816(_,o){const e=_0x231c();return _0x3816=function(i,c){return i=i-163,e[i]},_0x3816(_,o)}const Spectrum={..._0x2409fe,platform_id:_0x2eaadf(176),core:_0x2eaadf(167),platform_name:_0x2eaadf(168),short_name:_0x2eaadf(192),theme:{"--color0":_0x2eaadf(166),"--color1":"#0000c0","--color3":_0x2eaadf(187),"--color2":"#ffffff","--font":_0x2eaadf(182),"--cursorwidth":_0x2eaadf(175)},savestates_disabled:!![],shader:[_0x2eaadf(164),_0x2eaadf(191)],guessConfig:_=>{const o=_0x2eaadf,e={};let c={...{input_libretro_device_p1:o(165),input_libretro_device_p2:"0",input_libretro_device_p3:o(186),input_libretro_device_p4:"1",input_libretro_device_p5:"1"}};return Object.keys(e).forEach(f=>{const m=o;_.toUpperCase()[m(184)](f)&&Object[m(189)](c,e[f])}),c},touch_controllers:[JOYSTICK_TOUCH_MODE.QUICKJOY_PRIMARY,JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC,JOYSTICK_TOUCH_MODE.HIDEAWAY],touch_controller_mapping:{input_player1_up:_0x2eaadf(180),input_player1_left:_0x2eaadf(171),input_player1_down:_0x2eaadf(163),input_player1_right:_0x2eaadf(183),input_player1_b:_0x2eaadf(179)},fire_buttons:1,keyboard:{shiftKey:1,overrides:{}},additional_buttons:{},message:[_0x2eaadf(188)]};function _0x231c(){const _=["ZXSpectrum","F11","includes","607275mmnbhE","259","#be2ec8","ZX Spectrum support is under development and mostly broken or non-functional.","assign","120024iOiqzo","assets/shaders/crt/shaders/crt-geom.glsl","Spectrum","2631ZFnRHd","F15","assets/shaders/crt/crt-geom.glslp","513","#c0c000","fuse","Sinclair ZX Spectrum","12xRQNTV","710HAsgaT","F14","9208871QZkRZf","802vXcopD","55050281uHLUpS","1em","spectrum","54vRkBeW","5198816rzHALB","kp_minus","F13","776847dIVUXm"];return _0x231c=function(){return _},_0x231c()}const _0x5efdf3=_0x9e9b;(function(_,o){const e=_0x9e9b,i=_();for(;[];)try{if(-parseInt(e(417))/1*(-parseInt(e(430))/2)+parseInt(e(423))/3*(-parseInt(e(424))/4)+-parseInt(e(433))/5+parseInt(e(436))/6+parseInt(e(432))/7*(parseInt(e(431))/8)+-parseInt(e(437))/9+parseInt(e(427))/10*(parseInt(e(429))/11)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0xbd46,108655);function _0xbd46(){const _=["assets/shaders/crt/crt-geom.glslp","SELECT","start","#000000","QUICKSHOT_DYNAMIC","26259OaOtbi","64cRrOZM","mednafen_pce_fast","PCE","10dbCijw","uppercase","1574947zKsHeg","36hmgsQc","635368nqEKpP","7Blrtii","907910fThSTS","Shockman","PC Engine","1196544yiNqdn","1716219soxSaa","#f0f0f0","11053cYWVpe"];return _0xbd46=function(){return _},_0xbd46()}function _0x9e9b(_,o){const e=_0xbd46();return _0x9e9b=function(i,c){return i=i-417,e[i]},_0x9e9b(_,o)}const PCE={..._0x2409fe,platform_id:"pce",core:_0x5efdf3(425),platform_name:_0x5efdf3(435),short_name:_0x5efdf3(426),theme:{"--color0":_0x5efdf3(421),"--color1":_0x5efdf3(438),"--font":_0x5efdf3(434),"--cursorwidth":"0.5em","--transform":_0x5efdf3(428)},shader:[_0x5efdf3(418),"assets/shaders/crt/shaders/crt-geom.glsl"],touch_controllers:[JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x5efdf3(422)],fire_buttons:2,additional_buttons:{1:{label:_0x5efdf3(419),keyCode:"select"},2:{label:"RUN",keyCode:_0x5efdf3(420)}}},_0x4679e1=_0x4b0a;(function(_,o){const e=_0x4b0a,i=_();for(;[];)try{if(parseInt(e(243))/1+-parseInt(e(235))/2*(-parseInt(e(234))/3)+-parseInt(e(239))/4*(parseInt(e(241))/5)+-parseInt(e(251))/6+parseInt(e(249))/7*(-parseInt(e(231))/8)+-parseInt(e(236))/9+parseInt(e(232))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x1580,705201);function _0x4b0a(_,o){const e=_0x1580();return _0x4b0a=function(i,c){return i=i-231,e[i]},_0x4b0a(_,o)}const MD={..._0x2409fe,platform_id:_0x4679e1(237),core:_0x4679e1(248),platform_name:"Sega Mega Drive",short_name:_0x4679e1(238),theme:{"--color0":_0x4679e1(247),"--color1":_0x4679e1(233),"--color3":_0x4679e1(244),"--color2":"#ce2c1e","--font":"MD","--cursorwidth":_0x4679e1(250),"--transform":_0x4679e1(245)},shader:["assets/shaders/crt/crt-geom.glslp",_0x4679e1(246)],guessConfig:_=>({input_libretro_device_p1:"0"}),touch_controllers:[JOYSTICK_TOUCH_MODE[_0x4679e1(240)]],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x4679e1(240)],fire_buttons:3,additional_buttons:{1:{label:_0x4679e1(242),keyCode:"start"}}};function _0x1580(){const _=["#00009B","genesis_plus_gx","721KTJIBZ","1em","3600078kPCPKM","51224ySIlKf","11572980eIRiFm","#eeeeee","9uOevPU","801122zdnyAm","6432768OYTslN","smd","SMD","45196EIDNjX","QUICKSHOT_DYNAMIC","20eHjlwy","START","365690odapMy","#66de42","none","assets/shaders/crt/shaders/crt-geom.glsl"];return _0x1580=function(){return _},_0x1580()}const _0x54ceb8=_0x11b6;function _0x11b6(_,o){const e=_0x2450();return _0x11b6=function(i,c){return i=i-123,e[i]},_0x11b6(_,o)}(function(_,o){const e=_0x11b6,i=_();for(;[];)try{if(-parseInt(e(128))/1*(parseInt(e(151))/2)+-parseInt(e(138))/3*(parseInt(e(123))/4)+parseInt(e(130))/5+parseInt(e(146))/6+parseInt(e(145))/7+parseInt(e(149))/8+-parseInt(e(141))/9===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x2450,522302);function _0x2450(){const _=["2622951cqEBGg","#579342","#985495","lynx","7079765LLPQZD","2057502hmsyXE","mkdirTree","#reference /home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp","4535552UjpTwG","QUICKSHOT_DYNAMIC","174198RBWsGN","4nTtogR","assets/shaders/handheld/shaders/sameboy-lcd.glsl","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/sameboy-lcd.glsl","handy","text","2oecarf","Lynx","354865GRvoQq","assets/shaders/handheld/sameboy-lcd.glslp","start","writeFile","/home/web_user/retroarch/userdata/config/","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders","Atari Lynx","uppercase","3012870rkplRB","/home/web_user/retroarch/userdata/config/global.glslp","1em"];return _0x2450=function(){return _},_0x2450()}const Lynx={..._0x2409fe,platform_id:_0x54ceb8(144),core:_0x54ceb8(126),platform_name:_0x54ceb8(136),short_name:"Lynx",theme:{"--color0":_0x54ceb8(142),"--color1":"#ebe4b2","--color3":_0x54ceb8(143),"--font":_0x54ceb8(129),"--transform":_0x54ceb8(137),"--cursorwidth":"0.75em","--cursorheight":_0x54ceb8(140)},shader:async function(_){const o=_0x54ceb8,e=_.getEmscriptenFS(),i=await fetch(o(131)),c=await fetch(o(124));e[o(147)](o(135)),e[o(133)]("/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp",await i.text()),e.writeFile(o(125),await c[o(127)]()),e.mkdirTree(o(134)),e[o(133)](o(139),o(148))},touch_controllers:[JOYSTICK_TOUCH_MODE[_0x54ceb8(150)],JOYSTICK_TOUCH_MODE.HIDEAWAY],default_touch_controller:JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC,fire_buttons:2,additional_buttons:{1:{label:"2",keyCode:"r"},2:{label:"START",keyCode:_0x54ceb8(132)},3:{label:"1",keyCode:"l"}}},_0x28fd88=_0x4eb8;(function(_,o){const e=_0x4eb8,i=_();for(;[];)try{if(parseInt(e(469))/1+-parseInt(e(453))/2+-parseInt(e(452))/3+parseInt(e(460))/4+parseInt(e(450))/5*(-parseInt(e(471))/6)+-parseInt(e(467))/7*(-parseInt(e(444))/8)+parseInt(e(439))/9===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x1533,353334);function _0x4eb8(_,o){const e=_0x1533();return _0x4eb8=function(i,c){return i=i-438,e[i]},_0x4eb8(_,o)}function _0x1533(){const _=["writeFile","START","35CtOjCK","assets/shaders/handheld/shaders/sameboy-lcd.glsl","370655IjyLVd","assets/shaders/handheld/sameboy-lcd.glslp","3215478cyfYqK","getEmscriptenFS","6498135FNGqMt","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders","#dddddd","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/sameboy-lcd.glsl","QUICKSHOT_DYNAMIC","845752GEJxzc","a860e8c0b6d573d191e4ec7db1b1e4f6","#reference /home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp","GBA BIOS","none","mkdirTree","5vmBQJB","PublicPixel","2102556mpAujH","92970vwYxOX","gba","Nintendo Game Boy Advance","GBA","text","#8abac2","SELECT","61276sEQrzs","1em","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp","select","start"];return _0x1533=function(){return _},_0x1533()}const GBA={..._0x2409fe,platform_id:_0x28fd88(454),core:"mgba",platform_name:_0x28fd88(455),short_name:_0x28fd88(456),theme:{"--color0":"#222222","--color1":_0x28fd88(441),"--color3":"#222222","--color2":_0x28fd88(458),"--font":_0x28fd88(451),"--cursorwidth":_0x28fd88(461),"--transform":_0x28fd88(448)},shader:async function(_){const o=_0x28fd88,e=_[o(438)](),i=await fetch(o(470)),c=await fetch(o(468));e[o(449)](o(440)),e[o(465)](o(462),await i[o(457)]()),e[o(465)](o(442),await c[o(457)]()),e[o(449)]("/home/web_user/retroarch/userdata/config/"),e.writeFile("/home/web_user/retroarch/userdata/config/global.glslp",o(446))},guessConfig:_=>({}),dependencies:[{key:"gba_bios.bin",type:_0x28fd88(447),required:![],accepted:[_0x28fd88(445)]}],force_scale:!![],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x28fd88(443)]],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x28fd88(443)],fire_buttons:4,additional_buttons:{1:{label:_0x28fd88(459),keyCode:_0x28fd88(463)},2:{label:_0x28fd88(466),keyCode:_0x28fd88(464)}}};function _0x3ebe(_,o){const e=_0x19df();return _0x3ebe=function(i,c){return i=i-231,e[i]},_0x3ebe(_,o)}const _0x592dad=_0x3ebe;(function(_,o){const e=_0x3ebe,i=_();for(;[];)try{if(-parseInt(e(231))/1+parseInt(e(243))/2+parseInt(e(245))/3+parseInt(e(249))/4*(-parseInt(e(246))/5)+-parseInt(e(237))/6+-parseInt(e(240))/7*(parseInt(e(238))/8)+parseInt(e(235))/9===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x19df,744986);function _0x19df(){const _=["1347284gHHkLG","none","assets/shaders/crt/shaders/crt-geom.glsl","#71f3f2","8622693tGbuuE","#000000","1160424WGAznQ","2968drVzzA","1em","18410BghZjE","#656565","SNK","2868618svxsiG","snk","2986032hvwejb","315815eGnkcP","assets/shaders/crt/crt-geom.glslp","#c3c3c3","8nAYUbA","START","Neo Geo AES / MVS","select"];return _0x19df=function(){return _},_0x19df()}const SNK={..._0x2409fe,platform_id:_0x592dad(244),core:"fbalpha2012_neogeo",platform_name:_0x592dad(251),short_name:_0x592dad(242),theme:{"--color0":_0x592dad(241),"--color1":_0x592dad(248),"--color3":_0x592dad(234),"--color2":_0x592dad(236),"--font":_0x592dad(242),"--cursorwidth":_0x592dad(239),"--transform":_0x592dad(232)},shader:[_0x592dad(247),_0x592dad(233)],guessConfig:_=>({}),touch_controllers:[JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC],default_touch_controller:JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC,fire_buttons:4,button_overrides:{"3countb":4,"2020bb":4,alpham2:3,androdun:2,aodk:4,aof:4,aof2:4,aof3:4,bakatono:4,bjourney:3,blazstar:2,breakers:4,bstars:4,bstars2:4,burningf:3,crsword:2,cyberlip:3,doubledr:4,eightman:3,fatfursp:4,fatfury1:4,fatfury2:4,fatfury3:4,fbfrenzy:4,galaxyfg:4,garou:4,gowcaizr:4,gpilots:2,joyjoy:2,kabukikl:4,karnovr:4,kizuna:4,kof94:4,kof95:4,kof96:4,kof97:4,kof98:4,kof99:4,kof2000:4,kof2001:4,kof2002:4,kof2003:4,kotm:3,kotm2:3,lastblad:4,lastbld2:4,lbowling:1,legendos:2,lresort:2,magdrop2:2,magdrop3:3,maglord:2,mahretsu:2,marukodq:4,matrim:4,minasan:0,mosyougi:0,mslug:3,mslug2:3,mslug3:3,mslug4:4,mslug5:4,mslugx:3,mutnat:2,nam1975:3,ncombat:3,ncommand:3,neocup98:3,ninjamas:4,overtop:2,pulstar:2,quizdai2:4,quizdais:4,quizkof:4,ragnagrd:4,rbff1:4,rbff1a:4,rbff2:4,rbffspec:4,ridhero:3,roboarmy:3,rotd:4,samsh5sp:4,samsho:4,samsho2:4,samsho3:4,samsho4:4,samsho5:4,savagere:4,sengoku:3,sengoku2:4,sengoku3:4,shocktr2:4,socbrawl:2,sonicwi2:2,sonicwi3:2,spinmast:3,ssideki:2,ssideki2:3,ssideki3:3,ssideki4:3,stakwin:2,stakwin2:3,strhoop:2,superspy:3,svc:4,tophuntr:3,tpgolf:4,trally:2,turfmast:3,twinspri:2,viewpoin:2,wakuwak7:4,wh1:3,wh2:3,wh2j:3,whp:4,wjammers:2},additional_buttons:{1:{label:"COIN",keyCode:_0x592dad(252)},2:{label:_0x592dad(250),keyCode:"start"}}},_0x4a0ae9=_0x3974;(function(_,o){const e=_0x3974,i=_();for(;[];)try{if(parseInt(e(481))/1+-parseInt(e(487))/2+parseInt(e(501))/3*(-parseInt(e(520))/4)+parseInt(e(500))/5*(-parseInt(e(504))/6)+parseInt(e(490))/7+-parseInt(e(489))/8+parseInt(e(509))/9===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x5df8,132964);function _0x5df8(){const _=["getEmscriptenFS","QUICKSHOT_DYNAMIC","kick2x","A600 Kickstart v3.1 rev 40.063","486266CruMNa","endsWith","1652288mDWpAI","164374qouOtu","HIDEAWAY","kick40068.A1200","#6780ae","#000000","nul","amiga","#A7A7A7","hires","A1200 Kickstart v3.1 rev 40.068","5eCuuLG","28299KiRQtm","assets/shaders/crt/shaders/crt-geom.glsl","F13","27894CAFmlh","writeFile","Amiga","#666666","/home/web_user/retroarch/userdata/system/kick40068.A1200","5445576yTCIaz","kick40063.A600","amiga.kick40068.A1200","auto","TRACKPAD_BUTTONS","QUICKJOY_PRIMARY","exact","Commodore Amiga","single","F15","A500 Kickstart v1.3 rev 34.005","76IbuZMp","A500","Topaz1200","kick1x","kick34005.A500","getFile","e40a5dfb3d017ba8779faba30cbd1c8e","82a21c1890cae844b3df741f2762d48d","#ffffff","646773759326fbac3b2311fd8c8793ee","F14","137963iqjUDO","0.5em"];return _0x5df8=function(){return _},_0x5df8()}function _0x3974(_,o){const e=_0x5df8();return _0x3974=function(i,c){return i=i-479,e[i]},_0x3974(_,o)}const Amiga={..._0x2409fe,not_ready:!![],platform_id:_0x4a0ae9(496),core:"puae",bios:[_0x4a0ae9(523),_0x4a0ae9(485),"kick3x"],platform_name:_0x4a0ae9(516),short_name:_0x4a0ae9(506),theme:{"--color0":_0x4a0ae9(497),"--color1":_0x4a0ae9(494),"--color2":_0x4a0ae9(507),"--color3":_0x4a0ae9(528),"--color4":_0x4a0ae9(493),"--font":_0x4a0ae9(522),"--cursorwidth":_0x4a0ae9(482)},startup_beforelaunch:async function(_,o){const e=_0x4a0ae9,i=_[e(483)](),c=await o[e(525)]("amiga.kick34005.A500"),f=await o[e(525)]("amiga.kick40063.A600"),m=await o[e(525)](e(511));i.writeFile("/home/web_user/retroarch/userdata/system/kick34005.A500",await new Uint8Array(c)),i[e(505)]("/home/web_user/retroarch/userdata/system/kick40063.A600",await new Uint8Array(f)),i[e(505)](e(508),await new Uint8Array(m))},guessConfig:_=>{const o=_0x4a0ae9;return _[o(488)](".adf")?{puae_model:o(521),puae_kickstart:o(524),puae_video_vresolution:o(517),puae_video_resolution:o(498),puae_cpu_compatibility:o(515),puae_crop_mode:o(512)}:{puae_cpu_compatibility:o(515),puae_video_vresolution:o(517),puae_video_resolution:o(498),puae_crop_mode:o(512)}},shader:["assets/shaders/crt/crt-geom.glslp",_0x4a0ae9(502)],video_smooth:![],dependencies:[{key:"kick34005.A500",type:_0x4a0ae9(519),required:!![],accepted:[_0x4a0ae9(527)]},{key:_0x4a0ae9(510),type:_0x4a0ae9(486),required:!![],accepted:[_0x4a0ae9(526)]},{key:_0x4a0ae9(492),type:_0x4a0ae9(499),required:!![],accepted:[_0x4a0ae9(479)]}],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x4a0ae9(514)],JOYSTICK_TOUCH_MODE[_0x4a0ae9(484)],JOYSTICK_TOUCH_MODE[_0x4a0ae9(491)]],mouse_controllers:[MOUSE_TOUCH_MODE[_0x4a0ae9(513)]],touch_controller_mapping:{input_player1_x:_0x4a0ae9(495),input_player1_y:_0x4a0ae9(495),input_player1_c:_0x4a0ae9(495),input_player1_a:_0x4a0ae9(495),input_player1_l:_0x4a0ae9(495),input_player1_r:_0x4a0ae9(495),input_player1_select:"nul",input_player1_start:_0x4a0ae9(495),input_player1_l2:_0x4a0ae9(503),input_player1_r2:_0x4a0ae9(480),input_player1_b:_0x4a0ae9(518)},fire_buttons:1,keyboard:{shiftKey:2,overrides:{}},additional_buttons:{},rewind_granularity:25,fastforward_ratio:10},_0x19a621=_0x4ec3;(function(_,o){const e=_0x4ec3,i=_();for(;[];)try{if(parseInt(e(379))/1*(parseInt(e(377))/2)+-parseInt(e(371))/3*(-parseInt(e(396))/4)+parseInt(e(390))/5+parseInt(e(387))/6*(parseInt(e(394))/7)+-parseInt(e(381))/8+-parseInt(e(378))/9*(parseInt(e(391))/10)+-parseInt(e(392))/11===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x3926,141673);const Coleco={..._0x2409fe,platform_id:_0x19a621(374),core:"gearcoleco",platform_name:_0x19a621(373),short_name:_0x19a621(375),theme:{"--color0":"#000000","--color1":_0x19a621(383),"--color3":"#E7585B","--color2":_0x19a621(398),"--font":_0x19a621(375),"--fontsize":_0x19a621(386),"--transform":_0x19a621(395),"--cursorwidth":_0x19a621(382)},startup_beforelaunch:async function(_,o){const e=_0x19a621,i=_[e(380)](),c=await o[e(384)](e(397));i.mkdirTree(e(385)),i[e(372)](e(388),await new Uint8Array(c))},shader:["assets/shaders/crt/crt-geom.glslp",_0x19a621(389)],touch_controllers:[JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x19a621(393)],dependencies:[{key:"colecovision.rom",type:_0x19a621(376),required:!![],accepted:["2c66f5911e5b42b8ebe113403548eee7"]}],fire_buttons:2,additional_buttons:{3:{label:"1",keyCode:"x"},2:{label:"2",keyCode:"y"},1:{label:"#",keyCode:"select"}}};function _0x4ec3(_,o){const e=_0x3926();return _0x4ec3=function(i,c){return i=i-371,e[i]},_0x4ec3(_,o)}function _0x3926(){const _=["#F0E59B","21GWHOts","writeFile","ColecoVision","coleco","Coleco","ColecoVision ROM","90UYRrtJ","460701KuHtIi","1471BxhsdN","getEmscriptenFS","1793232EwXCew","0.5em","#EEEEEE","getFile","/home/web_user/retroarch/userdata/system/","1.2em","1257378lEhlgR","/home/web_user/retroarch/userdata/system/colecovision.rom","assets/shaders/crt/shaders/crt-geom.glsl","1172970RguEes","10HYspAH","2116015OzgfCV","QUICKSHOT_DYNAMIC","7wihDnk","uppercase","56588HxrsyV","coleco.colecovision.rom"];return _0x3926=function(){return _},_0x3926()}var jszip_min={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(_,o){(function(e){_.exports=e()})(function(){return function e(i,c,f){function m(Oe,Ie){if(!c[Oe]){if(!i[Oe]){var _e=typeof commonjsRequire=="function"&&commonjsRequire;if(!Ie&&_e)return _e(Oe,!0);if(g)return g(Oe,!0);var De=new Error("Cannot find module '"+Oe+"'");throw De.code="MODULE_NOT_FOUND",De}var Ee=c[Oe]={exports:{}};i[Oe][0].call(Ee.exports,function(qe){var Be=i[Oe][1][qe];return m(Be||qe)},Ee,Ee.exports,e,i,c,f)}return c[Oe].exports}for(var g=typeof commonjsRequire=="function"&&commonjsRequire,Te=0;Te<f.length;Te++)m(f[Te]);return m}({1:[function(e,i,c){var f=e("./utils"),m=e("./support"),g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";c.encode=function(Te){for(var Oe,Ie,_e,De,Ee,qe,Be,Ne=[],Ve=0,Ue=Te.length,We=Ue,He=f.getTypeOf(Te)!=="string";Ve<Te.length;)We=Ue-Ve,_e=He?(Oe=Te[Ve++],Ie=Ve<Ue?Te[Ve++]:0,Ve<Ue?Te[Ve++]:0):(Oe=Te.charCodeAt(Ve++),Ie=Ve<Ue?Te.charCodeAt(Ve++):0,Ve<Ue?Te.charCodeAt(Ve++):0),De=Oe>>2,Ee=(3&Oe)<<4|Ie>>4,qe=1<We?(15&Ie)<<2|_e>>6:64,Be=2<We?63&_e:64,Ne.push(g.charAt(De)+g.charAt(Ee)+g.charAt(qe)+g.charAt(Be));return Ne.join("")},c.decode=function(Te){var Oe,Ie,_e,De,Ee,qe,Be=0,Ne=0,Ve="data:";if(Te.substr(0,Ve.length)===Ve)throw new Error("Invalid base64 input, it looks like a data url.");var Ue,We=3*(Te=Te.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(Te.charAt(Te.length-1)===g.charAt(64)&&We--,Te.charAt(Te.length-2)===g.charAt(64)&&We--,We%1!=0)throw new Error("Invalid base64 input, bad content length.");for(Ue=m.uint8array?new Uint8Array(0|We):new Array(0|We);Be<Te.length;)Oe=g.indexOf(Te.charAt(Be++))<<2|(De=g.indexOf(Te.charAt(Be++)))>>4,Ie=(15&De)<<4|(Ee=g.indexOf(Te.charAt(Be++)))>>2,_e=(3&Ee)<<6|(qe=g.indexOf(Te.charAt(Be++))),Ue[Ne++]=Oe,Ee!==64&&(Ue[Ne++]=Ie),qe!==64&&(Ue[Ne++]=_e);return Ue}},{"./support":30,"./utils":32}],2:[function(e,i,c){var f=e("./external"),m=e("./stream/DataWorker"),g=e("./stream/Crc32Probe"),Te=e("./stream/DataLengthProbe");function Oe(Ie,_e,De,Ee,qe){this.compressedSize=Ie,this.uncompressedSize=_e,this.crc32=De,this.compression=Ee,this.compressedContent=qe}Oe.prototype={getContentWorker:function(){var Ie=new m(f.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new Te("data_length")),_e=this;return Ie.on("end",function(){if(this.streamInfo.data_length!==_e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),Ie},getCompressedWorker:function(){return new m(f.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},Oe.createWorkerFrom=function(Ie,_e,De){return Ie.pipe(new g).pipe(new Te("uncompressedSize")).pipe(_e.compressWorker(De)).pipe(new Te("compressedSize")).withStreamInfo("compression",_e)},i.exports=Oe},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,i,c){var f=e("./stream/GenericWorker");c.STORE={magic:"\0\0",compressWorker:function(){return new f("STORE compression")},uncompressWorker:function(){return new f("STORE decompression")}},c.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,i,c){var f=e("./utils"),m=function(){for(var g,Te=[],Oe=0;Oe<256;Oe++){g=Oe;for(var Ie=0;Ie<8;Ie++)g=1&g?3988292384^g>>>1:g>>>1;Te[Oe]=g}return Te}();i.exports=function(g,Te){return g!==void 0&&g.length?f.getTypeOf(g)!=="string"?function(Oe,Ie,_e,De){var Ee=m,qe=De+_e;Oe^=-1;for(var Be=De;Be<qe;Be++)Oe=Oe>>>8^Ee[255&(Oe^Ie[Be])];return-1^Oe}(0|Te,g,g.length,0):function(Oe,Ie,_e,De){var Ee=m,qe=De+_e;Oe^=-1;for(var Be=De;Be<qe;Be++)Oe=Oe>>>8^Ee[255&(Oe^Ie.charCodeAt(Be))];return-1^Oe}(0|Te,g,g.length,0):0}},{"./utils":32}],5:[function(e,i,c){c.base64=!1,c.binary=!1,c.dir=!1,c.createFolders=!0,c.date=null,c.compression=null,c.compressionOptions=null,c.comment=null,c.unixPermissions=null,c.dosPermissions=null},{}],6:[function(e,i,c){var f=null;f=typeof Promise<"u"?Promise:e("lie"),i.exports={Promise:f}},{lie:37}],7:[function(e,i,c){var f=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",m=e("pako"),g=e("./utils"),Te=e("./stream/GenericWorker"),Oe=f?"uint8array":"array";function Ie(_e,De){Te.call(this,"FlateWorker/"+_e),this._pako=null,this._pakoAction=_e,this._pakoOptions=De,this.meta={}}c.magic="\b\0",g.inherits(Ie,Te),Ie.prototype.processChunk=function(_e){this.meta=_e.meta,this._pako===null&&this._createPako(),this._pako.push(g.transformTo(Oe,_e.data),!1)},Ie.prototype.flush=function(){Te.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},Ie.prototype.cleanUp=function(){Te.prototype.cleanUp.call(this),this._pako=null},Ie.prototype._createPako=function(){this._pako=new m[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var _e=this;this._pako.onData=function(De){_e.push({data:De,meta:_e.meta})}},c.compressWorker=function(_e){return new Ie("Deflate",_e)},c.uncompressWorker=function(){return new Ie("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,i,c){function f(Ee,qe){var Be,Ne="";for(Be=0;Be<qe;Be++)Ne+=String.fromCharCode(255&Ee),Ee>>>=8;return Ne}function m(Ee,qe,Be,Ne,Ve,Ue){var We,He,Ze=Ee.file,st=Ee.compression,it=Ue!==Oe.utf8encode,vt=g.transformTo("string",Ue(Ze.name)),gt=g.transformTo("string",Oe.utf8encode(Ze.name)),tt=Ze.comment,pt=g.transformTo("string",Ue(tt)),nt=g.transformTo("string",Oe.utf8encode(tt)),mt=gt.length!==Ze.name.length,Je=nt.length!==tt.length,Ft="",Zt="",jt="",cr=Ze.dir,bt=Ze.date,St={crc32:0,compressedSize:0,uncompressedSize:0};qe&&!Be||(St.crc32=Ee.crc32,St.compressedSize=Ee.compressedSize,St.uncompressedSize=Ee.uncompressedSize);var ct=0;qe&&(ct|=8),it||!mt&&!Je||(ct|=2048);var dt=0,Pt=0;cr&&(dt|=16),Ve==="UNIX"?(Pt=798,dt|=function(Kt,fr){var Rr=Kt;return Kt||(Rr=fr?16893:33204),(65535&Rr)<<16}(Ze.unixPermissions,cr)):(Pt=20,dt|=function(Kt){return 63&(Kt||0)}(Ze.dosPermissions)),We=bt.getUTCHours(),We<<=6,We|=bt.getUTCMinutes(),We<<=5,We|=bt.getUTCSeconds()/2,He=bt.getUTCFullYear()-1980,He<<=4,He|=bt.getUTCMonth()+1,He<<=5,He|=bt.getUTCDate(),mt&&(Zt=f(1,1)+f(Ie(vt),4)+gt,Ft+="up"+f(Zt.length,2)+Zt),Je&&(jt=f(1,1)+f(Ie(pt),4)+nt,Ft+="uc"+f(jt.length,2)+jt);var Ct="";return Ct+=`
\0`,Ct+=f(ct,2),Ct+=st.magic,Ct+=f(We,2),Ct+=f(He,2),Ct+=f(St.crc32,4),Ct+=f(St.compressedSize,4),Ct+=f(St.uncompressedSize,4),Ct+=f(vt.length,2),Ct+=f(Ft.length,2),{fileRecord:_e.LOCAL_FILE_HEADER+Ct+vt+Ft,dirRecord:_e.CENTRAL_FILE_HEADER+f(Pt,2)+Ct+f(pt.length,2)+"\0\0\0\0"+f(dt,4)+f(Ne,4)+vt+Ft+pt}}var g=e("../utils"),Te=e("../stream/GenericWorker"),Oe=e("../utf8"),Ie=e("../crc32"),_e=e("../signature");function De(Ee,qe,Be,Ne){Te.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=qe,this.zipPlatform=Be,this.encodeFileName=Ne,this.streamFiles=Ee,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}g.inherits(De,Te),De.prototype.push=function(Ee){var qe=Ee.meta.percent||0,Be=this.entriesCount,Ne=this._sources.length;this.accumulate?this.contentBuffer.push(Ee):(this.bytesWritten+=Ee.data.length,Te.prototype.push.call(this,{data:Ee.data,meta:{currentFile:this.currentFile,percent:Be?(qe+100*(Be-Ne-1))/Be:100}}))},De.prototype.openedSource=function(Ee){this.currentSourceOffset=this.bytesWritten,this.currentFile=Ee.file.name;var qe=this.streamFiles&&!Ee.file.dir;if(qe){var Be=m(Ee,qe,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:Be.fileRecord,meta:{percent:0}})}else this.accumulate=!0},De.prototype.closedSource=function(Ee){this.accumulate=!1;var qe=this.streamFiles&&!Ee.file.dir,Be=m(Ee,qe,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(Be.dirRecord),qe)this.push({data:function(Ne){return _e.DATA_DESCRIPTOR+f(Ne.crc32,4)+f(Ne.compressedSize,4)+f(Ne.uncompressedSize,4)}(Ee),meta:{percent:100}});else for(this.push({data:Be.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},De.prototype.flush=function(){for(var Ee=this.bytesWritten,qe=0;qe<this.dirRecords.length;qe++)this.push({data:this.dirRecords[qe],meta:{percent:100}});var Be=this.bytesWritten-Ee,Ne=function(Ve,Ue,We,He,Ze){var st=g.transformTo("string",Ze(He));return _e.CENTRAL_DIRECTORY_END+"\0\0\0\0"+f(Ve,2)+f(Ve,2)+f(Ue,4)+f(We,4)+f(st.length,2)+st}(this.dirRecords.length,Be,Ee,this.zipComment,this.encodeFileName);this.push({data:Ne,meta:{percent:100}})},De.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},De.prototype.registerPrevious=function(Ee){this._sources.push(Ee);var qe=this;return Ee.on("data",function(Be){qe.processChunk(Be)}),Ee.on("end",function(){qe.closedSource(qe.previous.streamInfo),qe._sources.length?qe.prepareNextSource():qe.end()}),Ee.on("error",function(Be){qe.error(Be)}),this},De.prototype.resume=function(){return!!Te.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},De.prototype.error=function(Ee){var qe=this._sources;if(!Te.prototype.error.call(this,Ee))return!1;for(var Be=0;Be<qe.length;Be++)try{qe[Be].error(Ee)}catch{}return!0},De.prototype.lock=function(){Te.prototype.lock.call(this);for(var Ee=this._sources,qe=0;qe<Ee.length;qe++)Ee[qe].lock()},i.exports=De},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,i,c){var f=e("../compressions"),m=e("./ZipFileWorker");c.generateWorker=function(g,Te,Oe){var Ie=new m(Te.streamFiles,Oe,Te.platform,Te.encodeFileName),_e=0;try{g.forEach(function(De,Ee){_e++;var qe=function(Ue,We){var He=Ue||We,Ze=f[He];if(!Ze)throw new Error(He+" is not a valid compression method !");return Ze}(Ee.options.compression,Te.compression),Be=Ee.options.compressionOptions||Te.compressionOptions||{},Ne=Ee.dir,Ve=Ee.date;Ee._compressWorker(qe,Be).withStreamInfo("file",{name:De,dir:Ne,date:Ve,comment:Ee.comment||"",unixPermissions:Ee.unixPermissions,dosPermissions:Ee.dosPermissions}).pipe(Ie)}),Ie.entriesCount=_e}catch(De){Ie.error(De)}return Ie}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,i,c){function f(){if(!(this instanceof f))return new f;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var m=new f;for(var g in this)typeof this[g]!="function"&&(m[g]=this[g]);return m}}(f.prototype=e("./object")).loadAsync=e("./load"),f.support=e("./support"),f.defaults=e("./defaults"),f.version="3.10.1",f.loadAsync=function(m,g){return new f().loadAsync(m,g)},f.external=e("./external"),i.exports=f},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,i,c){var f=e("./utils"),m=e("./external"),g=e("./utf8"),Te=e("./zipEntries"),Oe=e("./stream/Crc32Probe"),Ie=e("./nodejsUtils");function _e(De){return new m.Promise(function(Ee,qe){var Be=De.decompressed.getContentWorker().pipe(new Oe);Be.on("error",function(Ne){qe(Ne)}).on("end",function(){Be.streamInfo.crc32!==De.decompressed.crc32?qe(new Error("Corrupted zip : CRC32 mismatch")):Ee()}).resume()})}i.exports=function(De,Ee){var qe=this;return Ee=f.extend(Ee||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:g.utf8decode}),Ie.isNode&&Ie.isStream(De)?m.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):f.prepareContent("the loaded zip file",De,!0,Ee.optimizedBinaryString,Ee.base64).then(function(Be){var Ne=new Te(Ee);return Ne.load(Be),Ne}).then(function(Be){var Ne=[m.Promise.resolve(Be)],Ve=Be.files;if(Ee.checkCRC32)for(var Ue=0;Ue<Ve.length;Ue++)Ne.push(_e(Ve[Ue]));return m.Promise.all(Ne)}).then(function(Be){for(var Ne=Be.shift(),Ve=Ne.files,Ue=0;Ue<Ve.length;Ue++){var We=Ve[Ue],He=We.fileNameStr,Ze=f.resolve(We.fileNameStr);qe.file(Ze,We.decompressed,{binary:!0,optimizedBinaryString:!0,date:We.date,dir:We.dir,comment:We.fileCommentStr.length?We.fileCommentStr:null,unixPermissions:We.unixPermissions,dosPermissions:We.dosPermissions,createFolders:Ee.createFolders}),We.dir||(qe.file(Ze).unsafeOriginalName=He)}return Ne.zipComment.length&&(qe.comment=Ne.zipComment),qe})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,i,c){var f=e("../utils"),m=e("../stream/GenericWorker");function g(Te,Oe){m.call(this,"Nodejs stream input adapter for "+Te),this._upstreamEnded=!1,this._bindStream(Oe)}f.inherits(g,m),g.prototype._bindStream=function(Te){var Oe=this;(this._stream=Te).pause(),Te.on("data",function(Ie){Oe.push({data:Ie,meta:{percent:0}})}).on("error",function(Ie){Oe.isPaused?this.generatedError=Ie:Oe.error(Ie)}).on("end",function(){Oe.isPaused?Oe._upstreamEnded=!0:Oe.end()})},g.prototype.pause=function(){return!!m.prototype.pause.call(this)&&(this._stream.pause(),!0)},g.prototype.resume=function(){return!!m.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},i.exports=g},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,i,c){var f=e("readable-stream").Readable;function m(g,Te,Oe){f.call(this,Te),this._helper=g;var Ie=this;g.on("data",function(_e,De){Ie.push(_e)||Ie._helper.pause(),Oe&&Oe(De)}).on("error",function(_e){Ie.emit("error",_e)}).on("end",function(){Ie.push(null)})}e("../utils").inherits(m,f),m.prototype._read=function(){this._helper.resume()},i.exports=m},{"../utils":32,"readable-stream":16}],14:[function(e,i,c){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(f,m){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(f,m);if(typeof f=="number")throw new Error('The "data" argument must not be a number');return new Buffer(f,m)},allocBuffer:function(f){if(Buffer.alloc)return Buffer.alloc(f);var m=new Buffer(f);return m.fill(0),m},isBuffer:function(f){return Buffer.isBuffer(f)},isStream:function(f){return f&&typeof f.on=="function"&&typeof f.pause=="function"&&typeof f.resume=="function"}}},{}],15:[function(e,i,c){function f(Ze,st,it){var vt,gt=g.getTypeOf(st),tt=g.extend(it||{},Ie);tt.date=tt.date||new Date,tt.compression!==null&&(tt.compression=tt.compression.toUpperCase()),typeof tt.unixPermissions=="string"&&(tt.unixPermissions=parseInt(tt.unixPermissions,8)),tt.unixPermissions&&16384&tt.unixPermissions&&(tt.dir=!0),tt.dosPermissions&&16&tt.dosPermissions&&(tt.dir=!0),tt.dir&&(Ze=Ve(Ze)),tt.createFolders&&(vt=Ne(Ze))&&Ue.call(this,vt,!0);var pt=gt==="string"&&tt.binary===!1&&tt.base64===!1;it&&it.binary!==void 0||(tt.binary=!pt),(st instanceof _e&&st.uncompressedSize===0||tt.dir||!st||st.length===0)&&(tt.base64=!1,tt.binary=!0,st="",tt.compression="STORE",gt="string");var nt=null;nt=st instanceof _e||st instanceof Te?st:qe.isNode&&qe.isStream(st)?new Be(Ze,st):g.prepareContent(Ze,st,tt.binary,tt.optimizedBinaryString,tt.base64);var mt=new De(Ze,nt,tt);this.files[Ze]=mt}var m=e("./utf8"),g=e("./utils"),Te=e("./stream/GenericWorker"),Oe=e("./stream/StreamHelper"),Ie=e("./defaults"),_e=e("./compressedObject"),De=e("./zipObject"),Ee=e("./generate"),qe=e("./nodejsUtils"),Be=e("./nodejs/NodejsStreamInputAdapter"),Ne=function(Ze){Ze.slice(-1)==="/"&&(Ze=Ze.substring(0,Ze.length-1));var st=Ze.lastIndexOf("/");return 0<st?Ze.substring(0,st):""},Ve=function(Ze){return Ze.slice(-1)!=="/"&&(Ze+="/"),Ze},Ue=function(Ze,st){return st=st!==void 0?st:Ie.createFolders,Ze=Ve(Ze),this.files[Ze]||f.call(this,Ze,null,{dir:!0,createFolders:st}),this.files[Ze]};function We(Ze){return Object.prototype.toString.call(Ze)==="[object RegExp]"}var He={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(Ze){var st,it,vt;for(st in this.files)vt=this.files[st],(it=st.slice(this.root.length,st.length))&&st.slice(0,this.root.length)===this.root&&Ze(it,vt)},filter:function(Ze){var st=[];return this.forEach(function(it,vt){Ze(it,vt)&&st.push(vt)}),st},file:function(Ze,st,it){if(arguments.length!==1)return Ze=this.root+Ze,f.call(this,Ze,st,it),this;if(We(Ze)){var vt=Ze;return this.filter(function(tt,pt){return!pt.dir&&vt.test(tt)})}var gt=this.files[this.root+Ze];return gt&&!gt.dir?gt:null},folder:function(Ze){if(!Ze)return this;if(We(Ze))return this.filter(function(gt,tt){return tt.dir&&Ze.test(gt)});var st=this.root+Ze,it=Ue.call(this,st),vt=this.clone();return vt.root=it.name,vt},remove:function(Ze){Ze=this.root+Ze;var st=this.files[Ze];if(st||(Ze.slice(-1)!=="/"&&(Ze+="/"),st=this.files[Ze]),st&&!st.dir)delete this.files[Ze];else for(var it=this.filter(function(gt,tt){return tt.name.slice(0,Ze.length)===Ze}),vt=0;vt<it.length;vt++)delete this.files[it[vt].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(Ze){var st,it={};try{if((it=g.extend(Ze||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:m.utf8encode})).type=it.type.toLowerCase(),it.compression=it.compression.toUpperCase(),it.type==="binarystring"&&(it.type="string"),!it.type)throw new Error("No output type specified.");g.checkSupport(it.type),it.platform!=="darwin"&&it.platform!=="freebsd"&&it.platform!=="linux"&&it.platform!=="sunos"||(it.platform="UNIX"),it.platform==="win32"&&(it.platform="DOS");var vt=it.comment||this.comment||"";st=Ee.generateWorker(this,it,vt)}catch(gt){(st=new Te("error")).error(gt)}return new Oe(st,it.type||"string",it.mimeType)},generateAsync:function(Ze,st){return this.generateInternalStream(Ze).accumulate(st)},generateNodeStream:function(Ze,st){return(Ze=Ze||{}).type||(Ze.type="nodebuffer"),this.generateInternalStream(Ze).toNodejsStream(st)}};i.exports=He},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,i,c){i.exports=e("stream")},{stream:void 0}],17:[function(e,i,c){var f=e("./DataReader");function m(g){f.call(this,g);for(var Te=0;Te<this.data.length;Te++)g[Te]=255&g[Te]}e("../utils").inherits(m,f),m.prototype.byteAt=function(g){return this.data[this.zero+g]},m.prototype.lastIndexOfSignature=function(g){for(var Te=g.charCodeAt(0),Oe=g.charCodeAt(1),Ie=g.charCodeAt(2),_e=g.charCodeAt(3),De=this.length-4;0<=De;--De)if(this.data[De]===Te&&this.data[De+1]===Oe&&this.data[De+2]===Ie&&this.data[De+3]===_e)return De-this.zero;return-1},m.prototype.readAndCheckSignature=function(g){var Te=g.charCodeAt(0),Oe=g.charCodeAt(1),Ie=g.charCodeAt(2),_e=g.charCodeAt(3),De=this.readData(4);return Te===De[0]&&Oe===De[1]&&Ie===De[2]&&_e===De[3]},m.prototype.readData=function(g){if(this.checkOffset(g),g===0)return[];var Te=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,Te},i.exports=m},{"../utils":32,"./DataReader":18}],18:[function(e,i,c){var f=e("../utils");function m(g){this.data=g,this.length=g.length,this.index=0,this.zero=0}m.prototype={checkOffset:function(g){this.checkIndex(this.index+g)},checkIndex:function(g){if(this.length<this.zero+g||g<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+g+"). Corrupted zip ?")},setIndex:function(g){this.checkIndex(g),this.index=g},skip:function(g){this.setIndex(this.index+g)},byteAt:function(){},readInt:function(g){var Te,Oe=0;for(this.checkOffset(g),Te=this.index+g-1;Te>=this.index;Te--)Oe=(Oe<<8)+this.byteAt(Te);return this.index+=g,Oe},readString:function(g){return f.transformTo("string",this.readData(g))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var g=this.readInt(4);return new Date(Date.UTC(1980+(g>>25&127),(g>>21&15)-1,g>>16&31,g>>11&31,g>>5&63,(31&g)<<1))}},i.exports=m},{"../utils":32}],19:[function(e,i,c){var f=e("./Uint8ArrayReader");function m(g){f.call(this,g)}e("../utils").inherits(m,f),m.prototype.readData=function(g){this.checkOffset(g);var Te=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,Te},i.exports=m},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,i,c){var f=e("./DataReader");function m(g){f.call(this,g)}e("../utils").inherits(m,f),m.prototype.byteAt=function(g){return this.data.charCodeAt(this.zero+g)},m.prototype.lastIndexOfSignature=function(g){return this.data.lastIndexOf(g)-this.zero},m.prototype.readAndCheckSignature=function(g){return g===this.readData(4)},m.prototype.readData=function(g){this.checkOffset(g);var Te=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,Te},i.exports=m},{"../utils":32,"./DataReader":18}],21:[function(e,i,c){var f=e("./ArrayReader");function m(g){f.call(this,g)}e("../utils").inherits(m,f),m.prototype.readData=function(g){if(this.checkOffset(g),g===0)return new Uint8Array(0);var Te=this.data.subarray(this.zero+this.index,this.zero+this.index+g);return this.index+=g,Te},i.exports=m},{"../utils":32,"./ArrayReader":17}],22:[function(e,i,c){var f=e("../utils"),m=e("../support"),g=e("./ArrayReader"),Te=e("./StringReader"),Oe=e("./NodeBufferReader"),Ie=e("./Uint8ArrayReader");i.exports=function(_e){var De=f.getTypeOf(_e);return f.checkSupport(De),De!=="string"||m.uint8array?De==="nodebuffer"?new Oe(_e):m.uint8array?new Ie(f.transformTo("uint8array",_e)):new g(f.transformTo("array",_e)):new Te(_e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,i,c){c.LOCAL_FILE_HEADER="PK",c.CENTRAL_FILE_HEADER="PK",c.CENTRAL_DIRECTORY_END="PK",c.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",c.ZIP64_CENTRAL_DIRECTORY_END="PK",c.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,i,c){var f=e("./GenericWorker"),m=e("../utils");function g(Te){f.call(this,"ConvertWorker to "+Te),this.destType=Te}m.inherits(g,f),g.prototype.processChunk=function(Te){this.push({data:m.transformTo(this.destType,Te.data),meta:Te.meta})},i.exports=g},{"../utils":32,"./GenericWorker":28}],25:[function(e,i,c){var f=e("./GenericWorker"),m=e("../crc32");function g(){f.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(g,f),g.prototype.processChunk=function(Te){this.streamInfo.crc32=m(Te.data,this.streamInfo.crc32||0),this.push(Te)},i.exports=g},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,i,c){var f=e("../utils"),m=e("./GenericWorker");function g(Te){m.call(this,"DataLengthProbe for "+Te),this.propName=Te,this.withStreamInfo(Te,0)}f.inherits(g,m),g.prototype.processChunk=function(Te){if(Te){var Oe=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=Oe+Te.data.length}m.prototype.processChunk.call(this,Te)},i.exports=g},{"../utils":32,"./GenericWorker":28}],27:[function(e,i,c){var f=e("../utils"),m=e("./GenericWorker");function g(Te){m.call(this,"DataWorker");var Oe=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,Te.then(function(Ie){Oe.dataIsReady=!0,Oe.data=Ie,Oe.max=Ie&&Ie.length||0,Oe.type=f.getTypeOf(Ie),Oe.isPaused||Oe._tickAndRepeat()},function(Ie){Oe.error(Ie)})}f.inherits(g,m),g.prototype.cleanUp=function(){m.prototype.cleanUp.call(this),this.data=null},g.prototype.resume=function(){return!!m.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,f.delay(this._tickAndRepeat,[],this)),!0)},g.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(f.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},g.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var Te=null,Oe=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":Te=this.data.substring(this.index,Oe);break;case"uint8array":Te=this.data.subarray(this.index,Oe);break;case"array":case"nodebuffer":Te=this.data.slice(this.index,Oe)}return this.index=Oe,this.push({data:Te,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=g},{"../utils":32,"./GenericWorker":28}],28:[function(e,i,c){function f(m){this.name=m||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}f.prototype={push:function(m){this.emit("data",m)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(m){this.emit("error",m)}return!0},error:function(m){return!this.isFinished&&(this.isPaused?this.generatedError=m:(this.isFinished=!0,this.emit("error",m),this.previous&&this.previous.error(m),this.cleanUp()),!0)},on:function(m,g){return this._listeners[m].push(g),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(m,g){if(this._listeners[m])for(var Te=0;Te<this._listeners[m].length;Te++)this._listeners[m][Te].call(this,g)},pipe:function(m){return m.registerPrevious(this)},registerPrevious:function(m){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=m.streamInfo,this.mergeStreamInfo(),this.previous=m;var g=this;return m.on("data",function(Te){g.processChunk(Te)}),m.on("end",function(){g.end()}),m.on("error",function(Te){g.error(Te)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var m=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),m=!0),this.previous&&this.previous.resume(),!m},flush:function(){},processChunk:function(m){this.push(m)},withStreamInfo:function(m,g){return this.extraStreamInfo[m]=g,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var m in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,m)&&(this.streamInfo[m]=this.extraStreamInfo[m])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var m="Worker "+this.name;return this.previous?this.previous+" -> "+m:m}},i.exports=f},{}],29:[function(e,i,c){var f=e("../utils"),m=e("./ConvertWorker"),g=e("./GenericWorker"),Te=e("../base64"),Oe=e("../support"),Ie=e("../external"),_e=null;if(Oe.nodestream)try{_e=e("../nodejs/NodejsStreamOutputAdapter")}catch{}function De(qe,Be){return new Ie.Promise(function(Ne,Ve){var Ue=[],We=qe._internalType,He=qe._outputType,Ze=qe._mimeType;qe.on("data",function(st,it){Ue.push(st),Be&&Be(it)}).on("error",function(st){Ue=[],Ve(st)}).on("end",function(){try{var st=function(it,vt,gt){switch(it){case"blob":return f.newBlob(f.transformTo("arraybuffer",vt),gt);case"base64":return Te.encode(vt);default:return f.transformTo(it,vt)}}(He,function(it,vt){var gt,tt=0,pt=null,nt=0;for(gt=0;gt<vt.length;gt++)nt+=vt[gt].length;switch(it){case"string":return vt.join("");case"array":return Array.prototype.concat.apply([],vt);case"uint8array":for(pt=new Uint8Array(nt),gt=0;gt<vt.length;gt++)pt.set(vt[gt],tt),tt+=vt[gt].length;return pt;case"nodebuffer":return Buffer.concat(vt);default:throw new Error("concat : unsupported type '"+it+"'")}}(We,Ue),Ze);Ne(st)}catch(it){Ve(it)}Ue=[]}).resume()})}function Ee(qe,Be,Ne){var Ve=Be;switch(Be){case"blob":case"arraybuffer":Ve="uint8array";break;case"base64":Ve="string"}try{this._internalType=Ve,this._outputType=Be,this._mimeType=Ne,f.checkSupport(Ve),this._worker=qe.pipe(new m(Ve)),qe.lock()}catch(Ue){this._worker=new g("error"),this._worker.error(Ue)}}Ee.prototype={accumulate:function(qe){return De(this,qe)},on:function(qe,Be){var Ne=this;return qe==="data"?this._worker.on(qe,function(Ve){Be.call(Ne,Ve.data,Ve.meta)}):this._worker.on(qe,function(){f.delay(Be,arguments,Ne)}),this},resume:function(){return f.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(qe){if(f.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new _e(this,{objectMode:this._outputType!=="nodebuffer"},qe)}},i.exports=Ee},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,i,c){if(c.base64=!0,c.array=!0,c.string=!0,c.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",c.nodebuffer=typeof Buffer<"u",c.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")c.blob=!1;else{var f=new ArrayBuffer(0);try{c.blob=new Blob([f],{type:"application/zip"}).size===0}catch{try{var m=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);m.append(f),c.blob=m.getBlob("application/zip").size===0}catch{c.blob=!1}}}try{c.nodestream=!!e("readable-stream").Readable}catch{c.nodestream=!1}},{"readable-stream":16}],31:[function(e,i,c){for(var f=e("./utils"),m=e("./support"),g=e("./nodejsUtils"),Te=e("./stream/GenericWorker"),Oe=new Array(256),Ie=0;Ie<256;Ie++)Oe[Ie]=252<=Ie?6:248<=Ie?5:240<=Ie?4:224<=Ie?3:192<=Ie?2:1;Oe[254]=Oe[254]=1;function _e(){Te.call(this,"utf-8 decode"),this.leftOver=null}function De(){Te.call(this,"utf-8 encode")}c.utf8encode=function(Ee){return m.nodebuffer?g.newBufferFrom(Ee,"utf-8"):function(qe){var Be,Ne,Ve,Ue,We,He=qe.length,Ze=0;for(Ue=0;Ue<He;Ue++)(64512&(Ne=qe.charCodeAt(Ue)))==55296&&Ue+1<He&&(64512&(Ve=qe.charCodeAt(Ue+1)))==56320&&(Ne=65536+(Ne-55296<<10)+(Ve-56320),Ue++),Ze+=Ne<128?1:Ne<2048?2:Ne<65536?3:4;for(Be=m.uint8array?new Uint8Array(Ze):new Array(Ze),Ue=We=0;We<Ze;Ue++)(64512&(Ne=qe.charCodeAt(Ue)))==55296&&Ue+1<He&&(64512&(Ve=qe.charCodeAt(Ue+1)))==56320&&(Ne=65536+(Ne-55296<<10)+(Ve-56320),Ue++),Ne<128?Be[We++]=Ne:(Ne<2048?Be[We++]=192|Ne>>>6:(Ne<65536?Be[We++]=224|Ne>>>12:(Be[We++]=240|Ne>>>18,Be[We++]=128|Ne>>>12&63),Be[We++]=128|Ne>>>6&63),Be[We++]=128|63&Ne);return Be}(Ee)},c.utf8decode=function(Ee){return m.nodebuffer?f.transformTo("nodebuffer",Ee).toString("utf-8"):function(qe){var Be,Ne,Ve,Ue,We=qe.length,He=new Array(2*We);for(Be=Ne=0;Be<We;)if((Ve=qe[Be++])<128)He[Ne++]=Ve;else if(4<(Ue=Oe[Ve]))He[Ne++]=65533,Be+=Ue-1;else{for(Ve&=Ue===2?31:Ue===3?15:7;1<Ue&&Be<We;)Ve=Ve<<6|63&qe[Be++],Ue--;1<Ue?He[Ne++]=65533:Ve<65536?He[Ne++]=Ve:(Ve-=65536,He[Ne++]=55296|Ve>>10&1023,He[Ne++]=56320|1023&Ve)}return He.length!==Ne&&(He.subarray?He=He.subarray(0,Ne):He.length=Ne),f.applyFromCharCode(He)}(Ee=f.transformTo(m.uint8array?"uint8array":"array",Ee))},f.inherits(_e,Te),_e.prototype.processChunk=function(Ee){var qe=f.transformTo(m.uint8array?"uint8array":"array",Ee.data);if(this.leftOver&&this.leftOver.length){if(m.uint8array){var Be=qe;(qe=new Uint8Array(Be.length+this.leftOver.length)).set(this.leftOver,0),qe.set(Be,this.leftOver.length)}else qe=this.leftOver.concat(qe);this.leftOver=null}var Ne=function(Ue,We){var He;for((We=We||Ue.length)>Ue.length&&(We=Ue.length),He=We-1;0<=He&&(192&Ue[He])==128;)He--;return He<0||He===0?We:He+Oe[Ue[He]]>We?He:We}(qe),Ve=qe;Ne!==qe.length&&(m.uint8array?(Ve=qe.subarray(0,Ne),this.leftOver=qe.subarray(Ne,qe.length)):(Ve=qe.slice(0,Ne),this.leftOver=qe.slice(Ne,qe.length))),this.push({data:c.utf8decode(Ve),meta:Ee.meta})},_e.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:c.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},c.Utf8DecodeWorker=_e,f.inherits(De,Te),De.prototype.processChunk=function(Ee){this.push({data:c.utf8encode(Ee.data),meta:Ee.meta})},c.Utf8EncodeWorker=De},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,i,c){var f=e("./support"),m=e("./base64"),g=e("./nodejsUtils"),Te=e("./external");function Oe(Be){return Be}function Ie(Be,Ne){for(var Ve=0;Ve<Be.length;++Ve)Ne[Ve]=255&Be.charCodeAt(Ve);return Ne}e("setimmediate"),c.newBlob=function(Be,Ne){c.checkSupport("blob");try{return new Blob([Be],{type:Ne})}catch{try{var Ve=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return Ve.append(Be),Ve.getBlob(Ne)}catch{throw new Error("Bug : can't construct the Blob.")}}};var _e={stringifyByChunk:function(Be,Ne,Ve){var Ue=[],We=0,He=Be.length;if(He<=Ve)return String.fromCharCode.apply(null,Be);for(;We<He;)Ne==="array"||Ne==="nodebuffer"?Ue.push(String.fromCharCode.apply(null,Be.slice(We,Math.min(We+Ve,He)))):Ue.push(String.fromCharCode.apply(null,Be.subarray(We,Math.min(We+Ve,He)))),We+=Ve;return Ue.join("")},stringifyByChar:function(Be){for(var Ne="",Ve=0;Ve<Be.length;Ve++)Ne+=String.fromCharCode(Be[Ve]);return Ne},applyCanBeUsed:{uint8array:function(){try{return f.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return f.nodebuffer&&String.fromCharCode.apply(null,g.allocBuffer(1)).length===1}catch{return!1}}()}};function De(Be){var Ne=65536,Ve=c.getTypeOf(Be),Ue=!0;if(Ve==="uint8array"?Ue=_e.applyCanBeUsed.uint8array:Ve==="nodebuffer"&&(Ue=_e.applyCanBeUsed.nodebuffer),Ue)for(;1<Ne;)try{return _e.stringifyByChunk(Be,Ve,Ne)}catch{Ne=Math.floor(Ne/2)}return _e.stringifyByChar(Be)}function Ee(Be,Ne){for(var Ve=0;Ve<Be.length;Ve++)Ne[Ve]=Be[Ve];return Ne}c.applyFromCharCode=De;var qe={};qe.string={string:Oe,array:function(Be){return Ie(Be,new Array(Be.length))},arraybuffer:function(Be){return qe.string.uint8array(Be).buffer},uint8array:function(Be){return Ie(Be,new Uint8Array(Be.length))},nodebuffer:function(Be){return Ie(Be,g.allocBuffer(Be.length))}},qe.array={string:De,array:Oe,arraybuffer:function(Be){return new Uint8Array(Be).buffer},uint8array:function(Be){return new Uint8Array(Be)},nodebuffer:function(Be){return g.newBufferFrom(Be)}},qe.arraybuffer={string:function(Be){return De(new Uint8Array(Be))},array:function(Be){return Ee(new Uint8Array(Be),new Array(Be.byteLength))},arraybuffer:Oe,uint8array:function(Be){return new Uint8Array(Be)},nodebuffer:function(Be){return g.newBufferFrom(new Uint8Array(Be))}},qe.uint8array={string:De,array:function(Be){return Ee(Be,new Array(Be.length))},arraybuffer:function(Be){return Be.buffer},uint8array:Oe,nodebuffer:function(Be){return g.newBufferFrom(Be)}},qe.nodebuffer={string:De,array:function(Be){return Ee(Be,new Array(Be.length))},arraybuffer:function(Be){return qe.nodebuffer.uint8array(Be).buffer},uint8array:function(Be){return Ee(Be,new Uint8Array(Be.length))},nodebuffer:Oe},c.transformTo=function(Be,Ne){if(Ne=Ne||"",!Be)return Ne;c.checkSupport(Be);var Ve=c.getTypeOf(Ne);return qe[Ve][Be](Ne)},c.resolve=function(Be){for(var Ne=Be.split("/"),Ve=[],Ue=0;Ue<Ne.length;Ue++){var We=Ne[Ue];We==="."||We===""&&Ue!==0&&Ue!==Ne.length-1||(We===".."?Ve.pop():Ve.push(We))}return Ve.join("/")},c.getTypeOf=function(Be){return typeof Be=="string"?"string":Object.prototype.toString.call(Be)==="[object Array]"?"array":f.nodebuffer&&g.isBuffer(Be)?"nodebuffer":f.uint8array&&Be instanceof Uint8Array?"uint8array":f.arraybuffer&&Be instanceof ArrayBuffer?"arraybuffer":void 0},c.checkSupport=function(Be){if(!f[Be.toLowerCase()])throw new Error(Be+" is not supported by this platform")},c.MAX_VALUE_16BITS=65535,c.MAX_VALUE_32BITS=-1,c.pretty=function(Be){var Ne,Ve,Ue="";for(Ve=0;Ve<(Be||"").length;Ve++)Ue+="\\x"+((Ne=Be.charCodeAt(Ve))<16?"0":"")+Ne.toString(16).toUpperCase();return Ue},c.delay=function(Be,Ne,Ve){setImmediate(function(){Be.apply(Ve||null,Ne||[])})},c.inherits=function(Be,Ne){function Ve(){}Ve.prototype=Ne.prototype,Be.prototype=new Ve},c.extend=function(){var Be,Ne,Ve={};for(Be=0;Be<arguments.length;Be++)for(Ne in arguments[Be])Object.prototype.hasOwnProperty.call(arguments[Be],Ne)&&Ve[Ne]===void 0&&(Ve[Ne]=arguments[Be][Ne]);return Ve},c.prepareContent=function(Be,Ne,Ve,Ue,We){return Te.Promise.resolve(Ne).then(function(He){return f.blob&&(He instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(He))!==-1)&&typeof FileReader<"u"?new Te.Promise(function(Ze,st){var it=new FileReader;it.onload=function(vt){Ze(vt.target.result)},it.onerror=function(vt){st(vt.target.error)},it.readAsArrayBuffer(He)}):He}).then(function(He){var Ze=c.getTypeOf(He);return Ze?(Ze==="arraybuffer"?He=c.transformTo("uint8array",He):Ze==="string"&&(We?He=m.decode(He):Ve&&Ue!==!0&&(He=function(st){return Ie(st,f.uint8array?new Uint8Array(st.length):new Array(st.length))}(He))),He):Te.Promise.reject(new Error("Can't read the data of '"+Be+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,i,c){var f=e("./reader/readerFor"),m=e("./utils"),g=e("./signature"),Te=e("./zipEntry"),Oe=e("./support");function Ie(_e){this.files=[],this.loadOptions=_e}Ie.prototype={checkSignature:function(_e){if(!this.reader.readAndCheckSignature(_e)){this.reader.index-=4;var De=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+m.pretty(De)+", expected "+m.pretty(_e)+")")}},isSignature:function(_e,De){var Ee=this.reader.index;this.reader.setIndex(_e);var qe=this.reader.readString(4)===De;return this.reader.setIndex(Ee),qe},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var _e=this.reader.readData(this.zipCommentLength),De=Oe.uint8array?"uint8array":"array",Ee=m.transformTo(De,_e);this.zipComment=this.loadOptions.decodeFileName(Ee)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var _e,De,Ee,qe=this.zip64EndOfCentralSize-44;0<qe;)_e=this.reader.readInt(2),De=this.reader.readInt(4),Ee=this.reader.readData(De),this.zip64ExtensibleData[_e]={id:_e,length:De,value:Ee}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var _e,De;for(_e=0;_e<this.files.length;_e++)De=this.files[_e],this.reader.setIndex(De.localHeaderOffset),this.checkSignature(g.LOCAL_FILE_HEADER),De.readLocalPart(this.reader),De.handleUTF8(),De.processAttributes()},readCentralDir:function(){var _e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(g.CENTRAL_FILE_HEADER);)(_e=new Te({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(_e);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var _e=this.reader.lastIndexOfSignature(g.CENTRAL_DIRECTORY_END);if(_e<0)throw this.isSignature(0,g.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(_e);var De=_e;if(this.checkSignature(g.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===m.MAX_VALUE_16BITS||this.diskWithCentralDirStart===m.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===m.MAX_VALUE_16BITS||this.centralDirRecords===m.MAX_VALUE_16BITS||this.centralDirSize===m.MAX_VALUE_32BITS||this.centralDirOffset===m.MAX_VALUE_32BITS){if(this.zip64=!0,(_e=this.reader.lastIndexOfSignature(g.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(_e),this.checkSignature(g.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,g.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(g.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(g.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var Ee=this.centralDirOffset+this.centralDirSize;this.zip64&&(Ee+=20,Ee+=12+this.zip64EndOfCentralSize);var qe=De-Ee;if(0<qe)this.isSignature(De,g.CENTRAL_FILE_HEADER)||(this.reader.zero=qe);else if(qe<0)throw new Error("Corrupted zip: missing "+Math.abs(qe)+" bytes.")},prepareReader:function(_e){this.reader=f(_e)},load:function(_e){this.prepareReader(_e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=Ie},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,i,c){var f=e("./reader/readerFor"),m=e("./utils"),g=e("./compressedObject"),Te=e("./crc32"),Oe=e("./utf8"),Ie=e("./compressions"),_e=e("./support");function De(Ee,qe){this.options=Ee,this.loadOptions=qe}De.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(Ee){var qe,Be;if(Ee.skip(22),this.fileNameLength=Ee.readInt(2),Be=Ee.readInt(2),this.fileName=Ee.readData(this.fileNameLength),Ee.skip(Be),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((qe=function(Ne){for(var Ve in Ie)if(Object.prototype.hasOwnProperty.call(Ie,Ve)&&Ie[Ve].magic===Ne)return Ie[Ve];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+m.pretty(this.compressionMethod)+" unknown (inner file : "+m.transformTo("string",this.fileName)+")");this.decompressed=new g(this.compressedSize,this.uncompressedSize,this.crc32,qe,Ee.readData(this.compressedSize))},readCentralPart:function(Ee){this.versionMadeBy=Ee.readInt(2),Ee.skip(2),this.bitFlag=Ee.readInt(2),this.compressionMethod=Ee.readString(2),this.date=Ee.readDate(),this.crc32=Ee.readInt(4),this.compressedSize=Ee.readInt(4),this.uncompressedSize=Ee.readInt(4);var qe=Ee.readInt(2);if(this.extraFieldsLength=Ee.readInt(2),this.fileCommentLength=Ee.readInt(2),this.diskNumberStart=Ee.readInt(2),this.internalFileAttributes=Ee.readInt(2),this.externalFileAttributes=Ee.readInt(4),this.localHeaderOffset=Ee.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");Ee.skip(qe),this.readExtraFields(Ee),this.parseZIP64ExtraField(Ee),this.fileComment=Ee.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var Ee=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),Ee==0&&(this.dosPermissions=63&this.externalFileAttributes),Ee==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var Ee=f(this.extraFields[1].value);this.uncompressedSize===m.MAX_VALUE_32BITS&&(this.uncompressedSize=Ee.readInt(8)),this.compressedSize===m.MAX_VALUE_32BITS&&(this.compressedSize=Ee.readInt(8)),this.localHeaderOffset===m.MAX_VALUE_32BITS&&(this.localHeaderOffset=Ee.readInt(8)),this.diskNumberStart===m.MAX_VALUE_32BITS&&(this.diskNumberStart=Ee.readInt(4))}},readExtraFields:function(Ee){var qe,Be,Ne,Ve=Ee.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});Ee.index+4<Ve;)qe=Ee.readInt(2),Be=Ee.readInt(2),Ne=Ee.readData(Be),this.extraFields[qe]={id:qe,length:Be,value:Ne};Ee.setIndex(Ve)},handleUTF8:function(){var Ee=_e.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=Oe.utf8decode(this.fileName),this.fileCommentStr=Oe.utf8decode(this.fileComment);else{var qe=this.findExtraFieldUnicodePath();if(qe!==null)this.fileNameStr=qe;else{var Be=m.transformTo(Ee,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(Be)}var Ne=this.findExtraFieldUnicodeComment();if(Ne!==null)this.fileCommentStr=Ne;else{var Ve=m.transformTo(Ee,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(Ve)}}},findExtraFieldUnicodePath:function(){var Ee=this.extraFields[28789];if(Ee){var qe=f(Ee.value);return qe.readInt(1)!==1||Te(this.fileName)!==qe.readInt(4)?null:Oe.utf8decode(qe.readData(Ee.length-5))}return null},findExtraFieldUnicodeComment:function(){var Ee=this.extraFields[25461];if(Ee){var qe=f(Ee.value);return qe.readInt(1)!==1||Te(this.fileComment)!==qe.readInt(4)?null:Oe.utf8decode(qe.readData(Ee.length-5))}return null}},i.exports=De},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,i,c){function f(qe,Be,Ne){this.name=qe,this.dir=Ne.dir,this.date=Ne.date,this.comment=Ne.comment,this.unixPermissions=Ne.unixPermissions,this.dosPermissions=Ne.dosPermissions,this._data=Be,this._dataBinary=Ne.binary,this.options={compression:Ne.compression,compressionOptions:Ne.compressionOptions}}var m=e("./stream/StreamHelper"),g=e("./stream/DataWorker"),Te=e("./utf8"),Oe=e("./compressedObject"),Ie=e("./stream/GenericWorker");f.prototype={internalStream:function(qe){var Be=null,Ne="string";try{if(!qe)throw new Error("No output type specified.");var Ve=(Ne=qe.toLowerCase())==="string"||Ne==="text";Ne!=="binarystring"&&Ne!=="text"||(Ne="string"),Be=this._decompressWorker();var Ue=!this._dataBinary;Ue&&!Ve&&(Be=Be.pipe(new Te.Utf8EncodeWorker)),!Ue&&Ve&&(Be=Be.pipe(new Te.Utf8DecodeWorker))}catch(We){(Be=new Ie("error")).error(We)}return new m(Be,Ne,"")},async:function(qe,Be){return this.internalStream(qe).accumulate(Be)},nodeStream:function(qe,Be){return this.internalStream(qe||"nodebuffer").toNodejsStream(Be)},_compressWorker:function(qe,Be){if(this._data instanceof Oe&&this._data.compression.magic===qe.magic)return this._data.getCompressedWorker();var Ne=this._decompressWorker();return this._dataBinary||(Ne=Ne.pipe(new Te.Utf8EncodeWorker)),Oe.createWorkerFrom(Ne,qe,Be)},_decompressWorker:function(){return this._data instanceof Oe?this._data.getContentWorker():this._data instanceof Ie?this._data:new g(this._data)}};for(var _e=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],De=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},Ee=0;Ee<_e.length;Ee++)f.prototype[_e[Ee]]=De;i.exports=f},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,i,c){(function(f){var m,g,Te=f.MutationObserver||f.WebKitMutationObserver;if(Te){var Oe=0,Ie=new Te(qe),_e=f.document.createTextNode("");Ie.observe(_e,{characterData:!0}),m=function(){_e.data=Oe=++Oe%2}}else if(f.setImmediate||f.MessageChannel===void 0)m="document"in f&&"onreadystatechange"in f.document.createElement("script")?function(){var Be=f.document.createElement("script");Be.onreadystatechange=function(){qe(),Be.onreadystatechange=null,Be.parentNode.removeChild(Be),Be=null},f.document.documentElement.appendChild(Be)}:function(){setTimeout(qe,0)};else{var De=new f.MessageChannel;De.port1.onmessage=qe,m=function(){De.port2.postMessage(0)}}var Ee=[];function qe(){var Be,Ne;g=!0;for(var Ve=Ee.length;Ve;){for(Ne=Ee,Ee=[],Be=-1;++Be<Ve;)Ne[Be]();Ve=Ee.length}g=!1}i.exports=function(Be){Ee.push(Be)!==1||g||m()}}).call(this,typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(e,i,c){var f=e("immediate");function m(){}var g={},Te=["REJECTED"],Oe=["FULFILLED"],Ie=["PENDING"];function _e(Ve){if(typeof Ve!="function")throw new TypeError("resolver must be a function");this.state=Ie,this.queue=[],this.outcome=void 0,Ve!==m&&Be(this,Ve)}function De(Ve,Ue,We){this.promise=Ve,typeof Ue=="function"&&(this.onFulfilled=Ue,this.callFulfilled=this.otherCallFulfilled),typeof We=="function"&&(this.onRejected=We,this.callRejected=this.otherCallRejected)}function Ee(Ve,Ue,We){f(function(){var He;try{He=Ue(We)}catch(Ze){return g.reject(Ve,Ze)}He===Ve?g.reject(Ve,new TypeError("Cannot resolve promise with itself")):g.resolve(Ve,He)})}function qe(Ve){var Ue=Ve&&Ve.then;if(Ve&&(typeof Ve=="object"||typeof Ve=="function")&&typeof Ue=="function")return function(){Ue.apply(Ve,arguments)}}function Be(Ve,Ue){var We=!1;function He(it){We||(We=!0,g.reject(Ve,it))}function Ze(it){We||(We=!0,g.resolve(Ve,it))}var st=Ne(function(){Ue(Ze,He)});st.status==="error"&&He(st.value)}function Ne(Ve,Ue){var We={};try{We.value=Ve(Ue),We.status="success"}catch(He){We.status="error",We.value=He}return We}(i.exports=_e).prototype.finally=function(Ve){if(typeof Ve!="function")return this;var Ue=this.constructor;return this.then(function(We){return Ue.resolve(Ve()).then(function(){return We})},function(We){return Ue.resolve(Ve()).then(function(){throw We})})},_e.prototype.catch=function(Ve){return this.then(null,Ve)},_e.prototype.then=function(Ve,Ue){if(typeof Ve!="function"&&this.state===Oe||typeof Ue!="function"&&this.state===Te)return this;var We=new this.constructor(m);return this.state!==Ie?Ee(We,this.state===Oe?Ve:Ue,this.outcome):this.queue.push(new De(We,Ve,Ue)),We},De.prototype.callFulfilled=function(Ve){g.resolve(this.promise,Ve)},De.prototype.otherCallFulfilled=function(Ve){Ee(this.promise,this.onFulfilled,Ve)},De.prototype.callRejected=function(Ve){g.reject(this.promise,Ve)},De.prototype.otherCallRejected=function(Ve){Ee(this.promise,this.onRejected,Ve)},g.resolve=function(Ve,Ue){var We=Ne(qe,Ue);if(We.status==="error")return g.reject(Ve,We.value);var He=We.value;if(He)Be(Ve,He);else{Ve.state=Oe,Ve.outcome=Ue;for(var Ze=-1,st=Ve.queue.length;++Ze<st;)Ve.queue[Ze].callFulfilled(Ue)}return Ve},g.reject=function(Ve,Ue){Ve.state=Te,Ve.outcome=Ue;for(var We=-1,He=Ve.queue.length;++We<He;)Ve.queue[We].callRejected(Ue);return Ve},_e.resolve=function(Ve){return Ve instanceof this?Ve:g.resolve(new this(m),Ve)},_e.reject=function(Ve){var Ue=new this(m);return g.reject(Ue,Ve)},_e.all=function(Ve){var Ue=this;if(Object.prototype.toString.call(Ve)!=="[object Array]")return this.reject(new TypeError("must be an array"));var We=Ve.length,He=!1;if(!We)return this.resolve([]);for(var Ze=new Array(We),st=0,it=-1,vt=new this(m);++it<We;)gt(Ve[it],it);return vt;function gt(tt,pt){Ue.resolve(tt).then(function(nt){Ze[pt]=nt,++st!==We||He||(He=!0,g.resolve(vt,Ze))},function(nt){He||(He=!0,g.reject(vt,nt))})}},_e.race=function(Ve){var Ue=this;if(Object.prototype.toString.call(Ve)!=="[object Array]")return this.reject(new TypeError("must be an array"));var We=Ve.length,He=!1;if(!We)return this.resolve([]);for(var Ze=-1,st=new this(m);++Ze<We;)it=Ve[Ze],Ue.resolve(it).then(function(vt){He||(He=!0,g.resolve(st,vt))},function(vt){He||(He=!0,g.reject(st,vt))});var it;return st}},{immediate:36}],38:[function(e,i,c){var f={};(0,e("./lib/utils/common").assign)(f,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),i.exports=f},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,i,c){var f=e("./zlib/deflate"),m=e("./utils/common"),g=e("./utils/strings"),Te=e("./zlib/messages"),Oe=e("./zlib/zstream"),Ie=Object.prototype.toString,_e=0,De=-1,Ee=0,qe=8;function Be(Ve){if(!(this instanceof Be))return new Be(Ve);this.options=m.assign({level:De,method:qe,chunkSize:16384,windowBits:15,memLevel:8,strategy:Ee,to:""},Ve||{});var Ue=this.options;Ue.raw&&0<Ue.windowBits?Ue.windowBits=-Ue.windowBits:Ue.gzip&&0<Ue.windowBits&&Ue.windowBits<16&&(Ue.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Oe,this.strm.avail_out=0;var We=f.deflateInit2(this.strm,Ue.level,Ue.method,Ue.windowBits,Ue.memLevel,Ue.strategy);if(We!==_e)throw new Error(Te[We]);if(Ue.header&&f.deflateSetHeader(this.strm,Ue.header),Ue.dictionary){var He;if(He=typeof Ue.dictionary=="string"?g.string2buf(Ue.dictionary):Ie.call(Ue.dictionary)==="[object ArrayBuffer]"?new Uint8Array(Ue.dictionary):Ue.dictionary,(We=f.deflateSetDictionary(this.strm,He))!==_e)throw new Error(Te[We]);this._dict_set=!0}}function Ne(Ve,Ue){var We=new Be(Ue);if(We.push(Ve,!0),We.err)throw We.msg||Te[We.err];return We.result}Be.prototype.push=function(Ve,Ue){var We,He,Ze=this.strm,st=this.options.chunkSize;if(this.ended)return!1;He=Ue===~~Ue?Ue:Ue===!0?4:0,typeof Ve=="string"?Ze.input=g.string2buf(Ve):Ie.call(Ve)==="[object ArrayBuffer]"?Ze.input=new Uint8Array(Ve):Ze.input=Ve,Ze.next_in=0,Ze.avail_in=Ze.input.length;do{if(Ze.avail_out===0&&(Ze.output=new m.Buf8(st),Ze.next_out=0,Ze.avail_out=st),(We=f.deflate(Ze,He))!==1&&We!==_e)return this.onEnd(We),!(this.ended=!0);Ze.avail_out!==0&&(Ze.avail_in!==0||He!==4&&He!==2)||(this.options.to==="string"?this.onData(g.buf2binstring(m.shrinkBuf(Ze.output,Ze.next_out))):this.onData(m.shrinkBuf(Ze.output,Ze.next_out)))}while((0<Ze.avail_in||Ze.avail_out===0)&&We!==1);return He===4?(We=f.deflateEnd(this.strm),this.onEnd(We),this.ended=!0,We===_e):He!==2||(this.onEnd(_e),!(Ze.avail_out=0))},Be.prototype.onData=function(Ve){this.chunks.push(Ve)},Be.prototype.onEnd=function(Ve){Ve===_e&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=Ve,this.msg=this.strm.msg},c.Deflate=Be,c.deflate=Ne,c.deflateRaw=function(Ve,Ue){return(Ue=Ue||{}).raw=!0,Ne(Ve,Ue)},c.gzip=function(Ve,Ue){return(Ue=Ue||{}).gzip=!0,Ne(Ve,Ue)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,i,c){var f=e("./zlib/inflate"),m=e("./utils/common"),g=e("./utils/strings"),Te=e("./zlib/constants"),Oe=e("./zlib/messages"),Ie=e("./zlib/zstream"),_e=e("./zlib/gzheader"),De=Object.prototype.toString;function Ee(Be){if(!(this instanceof Ee))return new Ee(Be);this.options=m.assign({chunkSize:16384,windowBits:0,to:""},Be||{});var Ne=this.options;Ne.raw&&0<=Ne.windowBits&&Ne.windowBits<16&&(Ne.windowBits=-Ne.windowBits,Ne.windowBits===0&&(Ne.windowBits=-15)),!(0<=Ne.windowBits&&Ne.windowBits<16)||Be&&Be.windowBits||(Ne.windowBits+=32),15<Ne.windowBits&&Ne.windowBits<48&&!(15&Ne.windowBits)&&(Ne.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ie,this.strm.avail_out=0;var Ve=f.inflateInit2(this.strm,Ne.windowBits);if(Ve!==Te.Z_OK)throw new Error(Oe[Ve]);this.header=new _e,f.inflateGetHeader(this.strm,this.header)}function qe(Be,Ne){var Ve=new Ee(Ne);if(Ve.push(Be,!0),Ve.err)throw Ve.msg||Oe[Ve.err];return Ve.result}Ee.prototype.push=function(Be,Ne){var Ve,Ue,We,He,Ze,st,it=this.strm,vt=this.options.chunkSize,gt=this.options.dictionary,tt=!1;if(this.ended)return!1;Ue=Ne===~~Ne?Ne:Ne===!0?Te.Z_FINISH:Te.Z_NO_FLUSH,typeof Be=="string"?it.input=g.binstring2buf(Be):De.call(Be)==="[object ArrayBuffer]"?it.input=new Uint8Array(Be):it.input=Be,it.next_in=0,it.avail_in=it.input.length;do{if(it.avail_out===0&&(it.output=new m.Buf8(vt),it.next_out=0,it.avail_out=vt),(Ve=f.inflate(it,Te.Z_NO_FLUSH))===Te.Z_NEED_DICT&&gt&&(st=typeof gt=="string"?g.string2buf(gt):De.call(gt)==="[object ArrayBuffer]"?new Uint8Array(gt):gt,Ve=f.inflateSetDictionary(this.strm,st)),Ve===Te.Z_BUF_ERROR&&tt===!0&&(Ve=Te.Z_OK,tt=!1),Ve!==Te.Z_STREAM_END&&Ve!==Te.Z_OK)return this.onEnd(Ve),!(this.ended=!0);it.next_out&&(it.avail_out!==0&&Ve!==Te.Z_STREAM_END&&(it.avail_in!==0||Ue!==Te.Z_FINISH&&Ue!==Te.Z_SYNC_FLUSH)||(this.options.to==="string"?(We=g.utf8border(it.output,it.next_out),He=it.next_out-We,Ze=g.buf2string(it.output,We),it.next_out=He,it.avail_out=vt-He,He&&m.arraySet(it.output,it.output,We,He,0),this.onData(Ze)):this.onData(m.shrinkBuf(it.output,it.next_out)))),it.avail_in===0&&it.avail_out===0&&(tt=!0)}while((0<it.avail_in||it.avail_out===0)&&Ve!==Te.Z_STREAM_END);return Ve===Te.Z_STREAM_END&&(Ue=Te.Z_FINISH),Ue===Te.Z_FINISH?(Ve=f.inflateEnd(this.strm),this.onEnd(Ve),this.ended=!0,Ve===Te.Z_OK):Ue!==Te.Z_SYNC_FLUSH||(this.onEnd(Te.Z_OK),!(it.avail_out=0))},Ee.prototype.onData=function(Be){this.chunks.push(Be)},Ee.prototype.onEnd=function(Be){Be===Te.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=Be,this.msg=this.strm.msg},c.Inflate=Ee,c.inflate=qe,c.inflateRaw=function(Be,Ne){return(Ne=Ne||{}).raw=!0,qe(Be,Ne)},c.ungzip=qe},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,i,c){var f=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";c.assign=function(Te){for(var Oe=Array.prototype.slice.call(arguments,1);Oe.length;){var Ie=Oe.shift();if(Ie){if(typeof Ie!="object")throw new TypeError(Ie+"must be non-object");for(var _e in Ie)Ie.hasOwnProperty(_e)&&(Te[_e]=Ie[_e])}}return Te},c.shrinkBuf=function(Te,Oe){return Te.length===Oe?Te:Te.subarray?Te.subarray(0,Oe):(Te.length=Oe,Te)};var m={arraySet:function(Te,Oe,Ie,_e,De){if(Oe.subarray&&Te.subarray)Te.set(Oe.subarray(Ie,Ie+_e),De);else for(var Ee=0;Ee<_e;Ee++)Te[De+Ee]=Oe[Ie+Ee]},flattenChunks:function(Te){var Oe,Ie,_e,De,Ee,qe;for(Oe=_e=0,Ie=Te.length;Oe<Ie;Oe++)_e+=Te[Oe].length;for(qe=new Uint8Array(_e),Oe=De=0,Ie=Te.length;Oe<Ie;Oe++)Ee=Te[Oe],qe.set(Ee,De),De+=Ee.length;return qe}},g={arraySet:function(Te,Oe,Ie,_e,De){for(var Ee=0;Ee<_e;Ee++)Te[De+Ee]=Oe[Ie+Ee]},flattenChunks:function(Te){return[].concat.apply([],Te)}};c.setTyped=function(Te){Te?(c.Buf8=Uint8Array,c.Buf16=Uint16Array,c.Buf32=Int32Array,c.assign(c,m)):(c.Buf8=Array,c.Buf16=Array,c.Buf32=Array,c.assign(c,g))},c.setTyped(f)},{}],42:[function(e,i,c){var f=e("./common"),m=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch{m=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{g=!1}for(var Te=new f.Buf8(256),Oe=0;Oe<256;Oe++)Te[Oe]=252<=Oe?6:248<=Oe?5:240<=Oe?4:224<=Oe?3:192<=Oe?2:1;function Ie(_e,De){if(De<65537&&(_e.subarray&&g||!_e.subarray&&m))return String.fromCharCode.apply(null,f.shrinkBuf(_e,De));for(var Ee="",qe=0;qe<De;qe++)Ee+=String.fromCharCode(_e[qe]);return Ee}Te[254]=Te[254]=1,c.string2buf=function(_e){var De,Ee,qe,Be,Ne,Ve=_e.length,Ue=0;for(Be=0;Be<Ve;Be++)(64512&(Ee=_e.charCodeAt(Be)))==55296&&Be+1<Ve&&(64512&(qe=_e.charCodeAt(Be+1)))==56320&&(Ee=65536+(Ee-55296<<10)+(qe-56320),Be++),Ue+=Ee<128?1:Ee<2048?2:Ee<65536?3:4;for(De=new f.Buf8(Ue),Be=Ne=0;Ne<Ue;Be++)(64512&(Ee=_e.charCodeAt(Be)))==55296&&Be+1<Ve&&(64512&(qe=_e.charCodeAt(Be+1)))==56320&&(Ee=65536+(Ee-55296<<10)+(qe-56320),Be++),Ee<128?De[Ne++]=Ee:(Ee<2048?De[Ne++]=192|Ee>>>6:(Ee<65536?De[Ne++]=224|Ee>>>12:(De[Ne++]=240|Ee>>>18,De[Ne++]=128|Ee>>>12&63),De[Ne++]=128|Ee>>>6&63),De[Ne++]=128|63&Ee);return De},c.buf2binstring=function(_e){return Ie(_e,_e.length)},c.binstring2buf=function(_e){for(var De=new f.Buf8(_e.length),Ee=0,qe=De.length;Ee<qe;Ee++)De[Ee]=_e.charCodeAt(Ee);return De},c.buf2string=function(_e,De){var Ee,qe,Be,Ne,Ve=De||_e.length,Ue=new Array(2*Ve);for(Ee=qe=0;Ee<Ve;)if((Be=_e[Ee++])<128)Ue[qe++]=Be;else if(4<(Ne=Te[Be]))Ue[qe++]=65533,Ee+=Ne-1;else{for(Be&=Ne===2?31:Ne===3?15:7;1<Ne&&Ee<Ve;)Be=Be<<6|63&_e[Ee++],Ne--;1<Ne?Ue[qe++]=65533:Be<65536?Ue[qe++]=Be:(Be-=65536,Ue[qe++]=55296|Be>>10&1023,Ue[qe++]=56320|1023&Be)}return Ie(Ue,qe)},c.utf8border=function(_e,De){var Ee;for((De=De||_e.length)>_e.length&&(De=_e.length),Ee=De-1;0<=Ee&&(192&_e[Ee])==128;)Ee--;return Ee<0||Ee===0?De:Ee+Te[_e[Ee]]>De?Ee:De}},{"./common":41}],43:[function(e,i,c){i.exports=function(f,m,g,Te){for(var Oe=65535&f|0,Ie=f>>>16&65535|0,_e=0;g!==0;){for(g-=_e=2e3<g?2e3:g;Ie=Ie+(Oe=Oe+m[Te++]|0)|0,--_e;);Oe%=65521,Ie%=65521}return Oe|Ie<<16|0}},{}],44:[function(e,i,c){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,i,c){var f=function(){for(var m,g=[],Te=0;Te<256;Te++){m=Te;for(var Oe=0;Oe<8;Oe++)m=1&m?3988292384^m>>>1:m>>>1;g[Te]=m}return g}();i.exports=function(m,g,Te,Oe){var Ie=f,_e=Oe+Te;m^=-1;for(var De=Oe;De<_e;De++)m=m>>>8^Ie[255&(m^g[De])];return-1^m}},{}],46:[function(e,i,c){var f,m=e("../utils/common"),g=e("./trees"),Te=e("./adler32"),Oe=e("./crc32"),Ie=e("./messages"),_e=0,De=4,Ee=0,qe=-2,Be=-1,Ne=4,Ve=2,Ue=8,We=9,He=286,Ze=30,st=19,it=2*He+1,vt=15,gt=3,tt=258,pt=tt+gt+1,nt=42,mt=113,Je=1,Ft=2,Zt=3,jt=4;function cr(Xe,At){return Xe.msg=Ie[At],At}function bt(Xe){return(Xe<<1)-(4<Xe?9:0)}function St(Xe){for(var At=Xe.length;0<=--At;)Xe[At]=0}function ct(Xe){var At=Xe.state,Wt=At.pending;Wt>Xe.avail_out&&(Wt=Xe.avail_out),Wt!==0&&(m.arraySet(Xe.output,At.pending_buf,At.pending_out,Wt,Xe.next_out),Xe.next_out+=Wt,At.pending_out+=Wt,Xe.total_out+=Wt,Xe.avail_out-=Wt,At.pending-=Wt,At.pending===0&&(At.pending_out=0))}function dt(Xe,At){g._tr_flush_block(Xe,0<=Xe.block_start?Xe.block_start:-1,Xe.strstart-Xe.block_start,At),Xe.block_start=Xe.strstart,ct(Xe.strm)}function Pt(Xe,At){Xe.pending_buf[Xe.pending++]=At}function Ct(Xe,At){Xe.pending_buf[Xe.pending++]=At>>>8&255,Xe.pending_buf[Xe.pending++]=255&At}function Kt(Xe,At){var Wt,ht,xt=Xe.max_chain_length,Dt=Xe.strstart,er=Xe.prev_length,rt=Xe.nice_match,je=Xe.strstart>Xe.w_size-pt?Xe.strstart-(Xe.w_size-pt):0,Ke=Xe.window,ut=Xe.w_mask,Et=Xe.prev,It=Xe.strstart+tt,zt=Ke[Dt+er-1],tr=Ke[Dt+er];Xe.prev_length>=Xe.good_match&&(xt>>=2),rt>Xe.lookahead&&(rt=Xe.lookahead);do if(Ke[(Wt=At)+er]===tr&&Ke[Wt+er-1]===zt&&Ke[Wt]===Ke[Dt]&&Ke[++Wt]===Ke[Dt+1]){Dt+=2,Wt++;do;while(Ke[++Dt]===Ke[++Wt]&&Ke[++Dt]===Ke[++Wt]&&Ke[++Dt]===Ke[++Wt]&&Ke[++Dt]===Ke[++Wt]&&Ke[++Dt]===Ke[++Wt]&&Ke[++Dt]===Ke[++Wt]&&Ke[++Dt]===Ke[++Wt]&&Ke[++Dt]===Ke[++Wt]&&Dt<It);if(ht=tt-(It-Dt),Dt=It-tt,er<ht){if(Xe.match_start=At,rt<=(er=ht))break;zt=Ke[Dt+er-1],tr=Ke[Dt+er]}}while((At=Et[At&ut])>je&&--xt!=0);return er<=Xe.lookahead?er:Xe.lookahead}function fr(Xe){var At,Wt,ht,xt,Dt,er,rt,je,Ke,ut,Et=Xe.w_size;do{if(xt=Xe.window_size-Xe.lookahead-Xe.strstart,Xe.strstart>=Et+(Et-pt)){for(m.arraySet(Xe.window,Xe.window,Et,Et,0),Xe.match_start-=Et,Xe.strstart-=Et,Xe.block_start-=Et,At=Wt=Xe.hash_size;ht=Xe.head[--At],Xe.head[At]=Et<=ht?ht-Et:0,--Wt;);for(At=Wt=Et;ht=Xe.prev[--At],Xe.prev[At]=Et<=ht?ht-Et:0,--Wt;);xt+=Et}if(Xe.strm.avail_in===0)break;if(er=Xe.strm,rt=Xe.window,je=Xe.strstart+Xe.lookahead,Ke=xt,ut=void 0,ut=er.avail_in,Ke<ut&&(ut=Ke),Wt=ut===0?0:(er.avail_in-=ut,m.arraySet(rt,er.input,er.next_in,ut,je),er.state.wrap===1?er.adler=Te(er.adler,rt,ut,je):er.state.wrap===2&&(er.adler=Oe(er.adler,rt,ut,je)),er.next_in+=ut,er.total_in+=ut,ut),Xe.lookahead+=Wt,Xe.lookahead+Xe.insert>=gt)for(Dt=Xe.strstart-Xe.insert,Xe.ins_h=Xe.window[Dt],Xe.ins_h=(Xe.ins_h<<Xe.hash_shift^Xe.window[Dt+1])&Xe.hash_mask;Xe.insert&&(Xe.ins_h=(Xe.ins_h<<Xe.hash_shift^Xe.window[Dt+gt-1])&Xe.hash_mask,Xe.prev[Dt&Xe.w_mask]=Xe.head[Xe.ins_h],Xe.head[Xe.ins_h]=Dt,Dt++,Xe.insert--,!(Xe.lookahead+Xe.insert<gt)););}while(Xe.lookahead<pt&&Xe.strm.avail_in!==0)}function Rr(Xe,At){for(var Wt,ht;;){if(Xe.lookahead<pt){if(fr(Xe),Xe.lookahead<pt&&At===_e)return Je;if(Xe.lookahead===0)break}if(Wt=0,Xe.lookahead>=gt&&(Xe.ins_h=(Xe.ins_h<<Xe.hash_shift^Xe.window[Xe.strstart+gt-1])&Xe.hash_mask,Wt=Xe.prev[Xe.strstart&Xe.w_mask]=Xe.head[Xe.ins_h],Xe.head[Xe.ins_h]=Xe.strstart),Wt!==0&&Xe.strstart-Wt<=Xe.w_size-pt&&(Xe.match_length=Kt(Xe,Wt)),Xe.match_length>=gt)if(ht=g._tr_tally(Xe,Xe.strstart-Xe.match_start,Xe.match_length-gt),Xe.lookahead-=Xe.match_length,Xe.match_length<=Xe.max_lazy_match&&Xe.lookahead>=gt){for(Xe.match_length--;Xe.strstart++,Xe.ins_h=(Xe.ins_h<<Xe.hash_shift^Xe.window[Xe.strstart+gt-1])&Xe.hash_mask,Wt=Xe.prev[Xe.strstart&Xe.w_mask]=Xe.head[Xe.ins_h],Xe.head[Xe.ins_h]=Xe.strstart,--Xe.match_length!=0;);Xe.strstart++}else Xe.strstart+=Xe.match_length,Xe.match_length=0,Xe.ins_h=Xe.window[Xe.strstart],Xe.ins_h=(Xe.ins_h<<Xe.hash_shift^Xe.window[Xe.strstart+1])&Xe.hash_mask;else ht=g._tr_tally(Xe,0,Xe.window[Xe.strstart]),Xe.lookahead--,Xe.strstart++;if(ht&&(dt(Xe,!1),Xe.strm.avail_out===0))return Je}return Xe.insert=Xe.strstart<gt-1?Xe.strstart:gt-1,At===De?(dt(Xe,!0),Xe.strm.avail_out===0?Zt:jt):Xe.last_lit&&(dt(Xe,!1),Xe.strm.avail_out===0)?Je:Ft}function sr(Xe,At){for(var Wt,ht,xt;;){if(Xe.lookahead<pt){if(fr(Xe),Xe.lookahead<pt&&At===_e)return Je;if(Xe.lookahead===0)break}if(Wt=0,Xe.lookahead>=gt&&(Xe.ins_h=(Xe.ins_h<<Xe.hash_shift^Xe.window[Xe.strstart+gt-1])&Xe.hash_mask,Wt=Xe.prev[Xe.strstart&Xe.w_mask]=Xe.head[Xe.ins_h],Xe.head[Xe.ins_h]=Xe.strstart),Xe.prev_length=Xe.match_length,Xe.prev_match=Xe.match_start,Xe.match_length=gt-1,Wt!==0&&Xe.prev_length<Xe.max_lazy_match&&Xe.strstart-Wt<=Xe.w_size-pt&&(Xe.match_length=Kt(Xe,Wt),Xe.match_length<=5&&(Xe.strategy===1||Xe.match_length===gt&&4096<Xe.strstart-Xe.match_start)&&(Xe.match_length=gt-1)),Xe.prev_length>=gt&&Xe.match_length<=Xe.prev_length){for(xt=Xe.strstart+Xe.lookahead-gt,ht=g._tr_tally(Xe,Xe.strstart-1-Xe.prev_match,Xe.prev_length-gt),Xe.lookahead-=Xe.prev_length-1,Xe.prev_length-=2;++Xe.strstart<=xt&&(Xe.ins_h=(Xe.ins_h<<Xe.hash_shift^Xe.window[Xe.strstart+gt-1])&Xe.hash_mask,Wt=Xe.prev[Xe.strstart&Xe.w_mask]=Xe.head[Xe.ins_h],Xe.head[Xe.ins_h]=Xe.strstart),--Xe.prev_length!=0;);if(Xe.match_available=0,Xe.match_length=gt-1,Xe.strstart++,ht&&(dt(Xe,!1),Xe.strm.avail_out===0))return Je}else if(Xe.match_available){if((ht=g._tr_tally(Xe,0,Xe.window[Xe.strstart-1]))&&dt(Xe,!1),Xe.strstart++,Xe.lookahead--,Xe.strm.avail_out===0)return Je}else Xe.match_available=1,Xe.strstart++,Xe.lookahead--}return Xe.match_available&&(ht=g._tr_tally(Xe,0,Xe.window[Xe.strstart-1]),Xe.match_available=0),Xe.insert=Xe.strstart<gt-1?Xe.strstart:gt-1,At===De?(dt(Xe,!0),Xe.strm.avail_out===0?Zt:jt):Xe.last_lit&&(dt(Xe,!1),Xe.strm.avail_out===0)?Je:Ft}function lt(Xe,At,Wt,ht,xt){this.good_length=Xe,this.max_lazy=At,this.nice_length=Wt,this.max_chain=ht,this.func=xt}function yt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ue,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new m.Buf16(2*it),this.dyn_dtree=new m.Buf16(2*(2*Ze+1)),this.bl_tree=new m.Buf16(2*(2*st+1)),St(this.dyn_ltree),St(this.dyn_dtree),St(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new m.Buf16(vt+1),this.heap=new m.Buf16(2*He+1),St(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new m.Buf16(2*He+1),St(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Jt(Xe){var At;return Xe&&Xe.state?(Xe.total_in=Xe.total_out=0,Xe.data_type=Ve,(At=Xe.state).pending=0,At.pending_out=0,At.wrap<0&&(At.wrap=-At.wrap),At.status=At.wrap?nt:mt,Xe.adler=At.wrap===2?0:1,At.last_flush=_e,g._tr_init(At),Ee):cr(Xe,qe)}function $t(Xe){var At=Jt(Xe);return At===Ee&&function(Wt){Wt.window_size=2*Wt.w_size,St(Wt.head),Wt.max_lazy_match=f[Wt.level].max_lazy,Wt.good_match=f[Wt.level].good_length,Wt.nice_match=f[Wt.level].nice_length,Wt.max_chain_length=f[Wt.level].max_chain,Wt.strstart=0,Wt.block_start=0,Wt.lookahead=0,Wt.insert=0,Wt.match_length=Wt.prev_length=gt-1,Wt.match_available=0,Wt.ins_h=0}(Xe.state),At}function dr(Xe,At,Wt,ht,xt,Dt){if(!Xe)return qe;var er=1;if(At===Be&&(At=6),ht<0?(er=0,ht=-ht):15<ht&&(er=2,ht-=16),xt<1||We<xt||Wt!==Ue||ht<8||15<ht||At<0||9<At||Dt<0||Ne<Dt)return cr(Xe,qe);ht===8&&(ht=9);var rt=new yt;return(Xe.state=rt).strm=Xe,rt.wrap=er,rt.gzhead=null,rt.w_bits=ht,rt.w_size=1<<rt.w_bits,rt.w_mask=rt.w_size-1,rt.hash_bits=xt+7,rt.hash_size=1<<rt.hash_bits,rt.hash_mask=rt.hash_size-1,rt.hash_shift=~~((rt.hash_bits+gt-1)/gt),rt.window=new m.Buf8(2*rt.w_size),rt.head=new m.Buf16(rt.hash_size),rt.prev=new m.Buf16(rt.w_size),rt.lit_bufsize=1<<xt+6,rt.pending_buf_size=4*rt.lit_bufsize,rt.pending_buf=new m.Buf8(rt.pending_buf_size),rt.d_buf=1*rt.lit_bufsize,rt.l_buf=3*rt.lit_bufsize,rt.level=At,rt.strategy=Dt,rt.method=Wt,$t(Xe)}f=[new lt(0,0,0,0,function(Xe,At){var Wt=65535;for(Wt>Xe.pending_buf_size-5&&(Wt=Xe.pending_buf_size-5);;){if(Xe.lookahead<=1){if(fr(Xe),Xe.lookahead===0&&At===_e)return Je;if(Xe.lookahead===0)break}Xe.strstart+=Xe.lookahead,Xe.lookahead=0;var ht=Xe.block_start+Wt;if((Xe.strstart===0||Xe.strstart>=ht)&&(Xe.lookahead=Xe.strstart-ht,Xe.strstart=ht,dt(Xe,!1),Xe.strm.avail_out===0)||Xe.strstart-Xe.block_start>=Xe.w_size-pt&&(dt(Xe,!1),Xe.strm.avail_out===0))return Je}return Xe.insert=0,At===De?(dt(Xe,!0),Xe.strm.avail_out===0?Zt:jt):(Xe.strstart>Xe.block_start&&(dt(Xe,!1),Xe.strm.avail_out),Je)}),new lt(4,4,8,4,Rr),new lt(4,5,16,8,Rr),new lt(4,6,32,32,Rr),new lt(4,4,16,16,sr),new lt(8,16,32,32,sr),new lt(8,16,128,128,sr),new lt(8,32,128,256,sr),new lt(32,128,258,1024,sr),new lt(32,258,258,4096,sr)],c.deflateInit=function(Xe,At){return dr(Xe,At,Ue,15,8,0)},c.deflateInit2=dr,c.deflateReset=$t,c.deflateResetKeep=Jt,c.deflateSetHeader=function(Xe,At){return Xe&&Xe.state?Xe.state.wrap!==2?qe:(Xe.state.gzhead=At,Ee):qe},c.deflate=function(Xe,At){var Wt,ht,xt,Dt;if(!Xe||!Xe.state||5<At||At<0)return Xe?cr(Xe,qe):qe;if(ht=Xe.state,!Xe.output||!Xe.input&&Xe.avail_in!==0||ht.status===666&&At!==De)return cr(Xe,Xe.avail_out===0?-5:qe);if(ht.strm=Xe,Wt=ht.last_flush,ht.last_flush=At,ht.status===nt)if(ht.wrap===2)Xe.adler=0,Pt(ht,31),Pt(ht,139),Pt(ht,8),ht.gzhead?(Pt(ht,(ht.gzhead.text?1:0)+(ht.gzhead.hcrc?2:0)+(ht.gzhead.extra?4:0)+(ht.gzhead.name?8:0)+(ht.gzhead.comment?16:0)),Pt(ht,255&ht.gzhead.time),Pt(ht,ht.gzhead.time>>8&255),Pt(ht,ht.gzhead.time>>16&255),Pt(ht,ht.gzhead.time>>24&255),Pt(ht,ht.level===9?2:2<=ht.strategy||ht.level<2?4:0),Pt(ht,255&ht.gzhead.os),ht.gzhead.extra&&ht.gzhead.extra.length&&(Pt(ht,255&ht.gzhead.extra.length),Pt(ht,ht.gzhead.extra.length>>8&255)),ht.gzhead.hcrc&&(Xe.adler=Oe(Xe.adler,ht.pending_buf,ht.pending,0)),ht.gzindex=0,ht.status=69):(Pt(ht,0),Pt(ht,0),Pt(ht,0),Pt(ht,0),Pt(ht,0),Pt(ht,ht.level===9?2:2<=ht.strategy||ht.level<2?4:0),Pt(ht,3),ht.status=mt);else{var er=Ue+(ht.w_bits-8<<4)<<8;er|=(2<=ht.strategy||ht.level<2?0:ht.level<6?1:ht.level===6?2:3)<<6,ht.strstart!==0&&(er|=32),er+=31-er%31,ht.status=mt,Ct(ht,er),ht.strstart!==0&&(Ct(ht,Xe.adler>>>16),Ct(ht,65535&Xe.adler)),Xe.adler=1}if(ht.status===69)if(ht.gzhead.extra){for(xt=ht.pending;ht.gzindex<(65535&ht.gzhead.extra.length)&&(ht.pending!==ht.pending_buf_size||(ht.gzhead.hcrc&&ht.pending>xt&&(Xe.adler=Oe(Xe.adler,ht.pending_buf,ht.pending-xt,xt)),ct(Xe),xt=ht.pending,ht.pending!==ht.pending_buf_size));)Pt(ht,255&ht.gzhead.extra[ht.gzindex]),ht.gzindex++;ht.gzhead.hcrc&&ht.pending>xt&&(Xe.adler=Oe(Xe.adler,ht.pending_buf,ht.pending-xt,xt)),ht.gzindex===ht.gzhead.extra.length&&(ht.gzindex=0,ht.status=73)}else ht.status=73;if(ht.status===73)if(ht.gzhead.name){xt=ht.pending;do{if(ht.pending===ht.pending_buf_size&&(ht.gzhead.hcrc&&ht.pending>xt&&(Xe.adler=Oe(Xe.adler,ht.pending_buf,ht.pending-xt,xt)),ct(Xe),xt=ht.pending,ht.pending===ht.pending_buf_size)){Dt=1;break}Dt=ht.gzindex<ht.gzhead.name.length?255&ht.gzhead.name.charCodeAt(ht.gzindex++):0,Pt(ht,Dt)}while(Dt!==0);ht.gzhead.hcrc&&ht.pending>xt&&(Xe.adler=Oe(Xe.adler,ht.pending_buf,ht.pending-xt,xt)),Dt===0&&(ht.gzindex=0,ht.status=91)}else ht.status=91;if(ht.status===91)if(ht.gzhead.comment){xt=ht.pending;do{if(ht.pending===ht.pending_buf_size&&(ht.gzhead.hcrc&&ht.pending>xt&&(Xe.adler=Oe(Xe.adler,ht.pending_buf,ht.pending-xt,xt)),ct(Xe),xt=ht.pending,ht.pending===ht.pending_buf_size)){Dt=1;break}Dt=ht.gzindex<ht.gzhead.comment.length?255&ht.gzhead.comment.charCodeAt(ht.gzindex++):0,Pt(ht,Dt)}while(Dt!==0);ht.gzhead.hcrc&&ht.pending>xt&&(Xe.adler=Oe(Xe.adler,ht.pending_buf,ht.pending-xt,xt)),Dt===0&&(ht.status=103)}else ht.status=103;if(ht.status===103&&(ht.gzhead.hcrc?(ht.pending+2>ht.pending_buf_size&&ct(Xe),ht.pending+2<=ht.pending_buf_size&&(Pt(ht,255&Xe.adler),Pt(ht,Xe.adler>>8&255),Xe.adler=0,ht.status=mt)):ht.status=mt),ht.pending!==0){if(ct(Xe),Xe.avail_out===0)return ht.last_flush=-1,Ee}else if(Xe.avail_in===0&&bt(At)<=bt(Wt)&&At!==De)return cr(Xe,-5);if(ht.status===666&&Xe.avail_in!==0)return cr(Xe,-5);if(Xe.avail_in!==0||ht.lookahead!==0||At!==_e&&ht.status!==666){var rt=ht.strategy===2?function(je,Ke){for(var ut;;){if(je.lookahead===0&&(fr(je),je.lookahead===0)){if(Ke===_e)return Je;break}if(je.match_length=0,ut=g._tr_tally(je,0,je.window[je.strstart]),je.lookahead--,je.strstart++,ut&&(dt(je,!1),je.strm.avail_out===0))return Je}return je.insert=0,Ke===De?(dt(je,!0),je.strm.avail_out===0?Zt:jt):je.last_lit&&(dt(je,!1),je.strm.avail_out===0)?Je:Ft}(ht,At):ht.strategy===3?function(je,Ke){for(var ut,Et,It,zt,tr=je.window;;){if(je.lookahead<=tt){if(fr(je),je.lookahead<=tt&&Ke===_e)return Je;if(je.lookahead===0)break}if(je.match_length=0,je.lookahead>=gt&&0<je.strstart&&(Et=tr[It=je.strstart-1])===tr[++It]&&Et===tr[++It]&&Et===tr[++It]){zt=je.strstart+tt;do;while(Et===tr[++It]&&Et===tr[++It]&&Et===tr[++It]&&Et===tr[++It]&&Et===tr[++It]&&Et===tr[++It]&&Et===tr[++It]&&Et===tr[++It]&&It<zt);je.match_length=tt-(zt-It),je.match_length>je.lookahead&&(je.match_length=je.lookahead)}if(je.match_length>=gt?(ut=g._tr_tally(je,1,je.match_length-gt),je.lookahead-=je.match_length,je.strstart+=je.match_length,je.match_length=0):(ut=g._tr_tally(je,0,je.window[je.strstart]),je.lookahead--,je.strstart++),ut&&(dt(je,!1),je.strm.avail_out===0))return Je}return je.insert=0,Ke===De?(dt(je,!0),je.strm.avail_out===0?Zt:jt):je.last_lit&&(dt(je,!1),je.strm.avail_out===0)?Je:Ft}(ht,At):f[ht.level].func(ht,At);if(rt!==Zt&&rt!==jt||(ht.status=666),rt===Je||rt===Zt)return Xe.avail_out===0&&(ht.last_flush=-1),Ee;if(rt===Ft&&(At===1?g._tr_align(ht):At!==5&&(g._tr_stored_block(ht,0,0,!1),At===3&&(St(ht.head),ht.lookahead===0&&(ht.strstart=0,ht.block_start=0,ht.insert=0))),ct(Xe),Xe.avail_out===0))return ht.last_flush=-1,Ee}return At!==De?Ee:ht.wrap<=0?1:(ht.wrap===2?(Pt(ht,255&Xe.adler),Pt(ht,Xe.adler>>8&255),Pt(ht,Xe.adler>>16&255),Pt(ht,Xe.adler>>24&255),Pt(ht,255&Xe.total_in),Pt(ht,Xe.total_in>>8&255),Pt(ht,Xe.total_in>>16&255),Pt(ht,Xe.total_in>>24&255)):(Ct(ht,Xe.adler>>>16),Ct(ht,65535&Xe.adler)),ct(Xe),0<ht.wrap&&(ht.wrap=-ht.wrap),ht.pending!==0?Ee:1)},c.deflateEnd=function(Xe){var At;return Xe&&Xe.state?(At=Xe.state.status)!==nt&&At!==69&&At!==73&&At!==91&&At!==103&&At!==mt&&At!==666?cr(Xe,qe):(Xe.state=null,At===mt?cr(Xe,-3):Ee):qe},c.deflateSetDictionary=function(Xe,At){var Wt,ht,xt,Dt,er,rt,je,Ke,ut=At.length;if(!Xe||!Xe.state||(Dt=(Wt=Xe.state).wrap)===2||Dt===1&&Wt.status!==nt||Wt.lookahead)return qe;for(Dt===1&&(Xe.adler=Te(Xe.adler,At,ut,0)),Wt.wrap=0,ut>=Wt.w_size&&(Dt===0&&(St(Wt.head),Wt.strstart=0,Wt.block_start=0,Wt.insert=0),Ke=new m.Buf8(Wt.w_size),m.arraySet(Ke,At,ut-Wt.w_size,Wt.w_size,0),At=Ke,ut=Wt.w_size),er=Xe.avail_in,rt=Xe.next_in,je=Xe.input,Xe.avail_in=ut,Xe.next_in=0,Xe.input=At,fr(Wt);Wt.lookahead>=gt;){for(ht=Wt.strstart,xt=Wt.lookahead-(gt-1);Wt.ins_h=(Wt.ins_h<<Wt.hash_shift^Wt.window[ht+gt-1])&Wt.hash_mask,Wt.prev[ht&Wt.w_mask]=Wt.head[Wt.ins_h],Wt.head[Wt.ins_h]=ht,ht++,--xt;);Wt.strstart=ht,Wt.lookahead=gt-1,fr(Wt)}return Wt.strstart+=Wt.lookahead,Wt.block_start=Wt.strstart,Wt.insert=Wt.lookahead,Wt.lookahead=0,Wt.match_length=Wt.prev_length=gt-1,Wt.match_available=0,Xe.next_in=rt,Xe.input=je,Xe.avail_in=er,Wt.wrap=Dt,Ee},c.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,i,c){i.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,i,c){i.exports=function(f,m){var g,Te,Oe,Ie,_e,De,Ee,qe,Be,Ne,Ve,Ue,We,He,Ze,st,it,vt,gt,tt,pt,nt,mt,Je,Ft;g=f.state,Te=f.next_in,Je=f.input,Oe=Te+(f.avail_in-5),Ie=f.next_out,Ft=f.output,_e=Ie-(m-f.avail_out),De=Ie+(f.avail_out-257),Ee=g.dmax,qe=g.wsize,Be=g.whave,Ne=g.wnext,Ve=g.window,Ue=g.hold,We=g.bits,He=g.lencode,Ze=g.distcode,st=(1<<g.lenbits)-1,it=(1<<g.distbits)-1;e:do{We<15&&(Ue+=Je[Te++]<<We,We+=8,Ue+=Je[Te++]<<We,We+=8),vt=He[Ue&st];t:for(;;){if(Ue>>>=gt=vt>>>24,We-=gt,(gt=vt>>>16&255)===0)Ft[Ie++]=65535&vt;else{if(!(16&gt)){if(!(64&gt)){vt=He[(65535&vt)+(Ue&(1<<gt)-1)];continue t}if(32&gt){g.mode=12;break e}f.msg="invalid literal/length code",g.mode=30;break e}tt=65535&vt,(gt&=15)&&(We<gt&&(Ue+=Je[Te++]<<We,We+=8),tt+=Ue&(1<<gt)-1,Ue>>>=gt,We-=gt),We<15&&(Ue+=Je[Te++]<<We,We+=8,Ue+=Je[Te++]<<We,We+=8),vt=Ze[Ue&it];r:for(;;){if(Ue>>>=gt=vt>>>24,We-=gt,!(16&(gt=vt>>>16&255))){if(!(64&gt)){vt=Ze[(65535&vt)+(Ue&(1<<gt)-1)];continue r}f.msg="invalid distance code",g.mode=30;break e}if(pt=65535&vt,We<(gt&=15)&&(Ue+=Je[Te++]<<We,(We+=8)<gt&&(Ue+=Je[Te++]<<We,We+=8)),Ee<(pt+=Ue&(1<<gt)-1)){f.msg="invalid distance too far back",g.mode=30;break e}if(Ue>>>=gt,We-=gt,(gt=Ie-_e)<pt){if(Be<(gt=pt-gt)&&g.sane){f.msg="invalid distance too far back",g.mode=30;break e}if(mt=Ve,(nt=0)===Ne){if(nt+=qe-gt,gt<tt){for(tt-=gt;Ft[Ie++]=Ve[nt++],--gt;);nt=Ie-pt,mt=Ft}}else if(Ne<gt){if(nt+=qe+Ne-gt,(gt-=Ne)<tt){for(tt-=gt;Ft[Ie++]=Ve[nt++],--gt;);if(nt=0,Ne<tt){for(tt-=gt=Ne;Ft[Ie++]=Ve[nt++],--gt;);nt=Ie-pt,mt=Ft}}}else if(nt+=Ne-gt,gt<tt){for(tt-=gt;Ft[Ie++]=Ve[nt++],--gt;);nt=Ie-pt,mt=Ft}for(;2<tt;)Ft[Ie++]=mt[nt++],Ft[Ie++]=mt[nt++],Ft[Ie++]=mt[nt++],tt-=3;tt&&(Ft[Ie++]=mt[nt++],1<tt&&(Ft[Ie++]=mt[nt++]))}else{for(nt=Ie-pt;Ft[Ie++]=Ft[nt++],Ft[Ie++]=Ft[nt++],Ft[Ie++]=Ft[nt++],2<(tt-=3););tt&&(Ft[Ie++]=Ft[nt++],1<tt&&(Ft[Ie++]=Ft[nt++]))}break}}break}}while(Te<Oe&&Ie<De);Te-=tt=We>>3,Ue&=(1<<(We-=tt<<3))-1,f.next_in=Te,f.next_out=Ie,f.avail_in=Te<Oe?Oe-Te+5:5-(Te-Oe),f.avail_out=Ie<De?De-Ie+257:257-(Ie-De),g.hold=Ue,g.bits=We}},{}],49:[function(e,i,c){var f=e("../utils/common"),m=e("./adler32"),g=e("./crc32"),Te=e("./inffast"),Oe=e("./inftrees"),Ie=1,_e=2,De=0,Ee=-2,qe=1,Be=852,Ne=592;function Ve(nt){return(nt>>>24&255)+(nt>>>8&65280)+((65280&nt)<<8)+((255&nt)<<24)}function Ue(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new f.Buf16(320),this.work=new f.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function We(nt){var mt;return nt&&nt.state?(mt=nt.state,nt.total_in=nt.total_out=mt.total=0,nt.msg="",mt.wrap&&(nt.adler=1&mt.wrap),mt.mode=qe,mt.last=0,mt.havedict=0,mt.dmax=32768,mt.head=null,mt.hold=0,mt.bits=0,mt.lencode=mt.lendyn=new f.Buf32(Be),mt.distcode=mt.distdyn=new f.Buf32(Ne),mt.sane=1,mt.back=-1,De):Ee}function He(nt){var mt;return nt&&nt.state?((mt=nt.state).wsize=0,mt.whave=0,mt.wnext=0,We(nt)):Ee}function Ze(nt,mt){var Je,Ft;return nt&&nt.state?(Ft=nt.state,mt<0?(Je=0,mt=-mt):(Je=1+(mt>>4),mt<48&&(mt&=15)),mt&&(mt<8||15<mt)?Ee:(Ft.window!==null&&Ft.wbits!==mt&&(Ft.window=null),Ft.wrap=Je,Ft.wbits=mt,He(nt))):Ee}function st(nt,mt){var Je,Ft;return nt?(Ft=new Ue,(nt.state=Ft).window=null,(Je=Ze(nt,mt))!==De&&(nt.state=null),Je):Ee}var it,vt,gt=!0;function tt(nt){if(gt){var mt;for(it=new f.Buf32(512),vt=new f.Buf32(32),mt=0;mt<144;)nt.lens[mt++]=8;for(;mt<256;)nt.lens[mt++]=9;for(;mt<280;)nt.lens[mt++]=7;for(;mt<288;)nt.lens[mt++]=8;for(Oe(Ie,nt.lens,0,288,it,0,nt.work,{bits:9}),mt=0;mt<32;)nt.lens[mt++]=5;Oe(_e,nt.lens,0,32,vt,0,nt.work,{bits:5}),gt=!1}nt.lencode=it,nt.lenbits=9,nt.distcode=vt,nt.distbits=5}function pt(nt,mt,Je,Ft){var Zt,jt=nt.state;return jt.window===null&&(jt.wsize=1<<jt.wbits,jt.wnext=0,jt.whave=0,jt.window=new f.Buf8(jt.wsize)),Ft>=jt.wsize?(f.arraySet(jt.window,mt,Je-jt.wsize,jt.wsize,0),jt.wnext=0,jt.whave=jt.wsize):(Ft<(Zt=jt.wsize-jt.wnext)&&(Zt=Ft),f.arraySet(jt.window,mt,Je-Ft,Zt,jt.wnext),(Ft-=Zt)?(f.arraySet(jt.window,mt,Je-Ft,Ft,0),jt.wnext=Ft,jt.whave=jt.wsize):(jt.wnext+=Zt,jt.wnext===jt.wsize&&(jt.wnext=0),jt.whave<jt.wsize&&(jt.whave+=Zt))),0}c.inflateReset=He,c.inflateReset2=Ze,c.inflateResetKeep=We,c.inflateInit=function(nt){return st(nt,15)},c.inflateInit2=st,c.inflate=function(nt,mt){var Je,Ft,Zt,jt,cr,bt,St,ct,dt,Pt,Ct,Kt,fr,Rr,sr,lt,yt,Jt,$t,dr,Xe,At,Wt,ht,xt=0,Dt=new f.Buf8(4),er=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!nt||!nt.state||!nt.output||!nt.input&&nt.avail_in!==0)return Ee;(Je=nt.state).mode===12&&(Je.mode=13),cr=nt.next_out,Zt=nt.output,St=nt.avail_out,jt=nt.next_in,Ft=nt.input,bt=nt.avail_in,ct=Je.hold,dt=Je.bits,Pt=bt,Ct=St,At=De;e:for(;;)switch(Je.mode){case qe:if(Je.wrap===0){Je.mode=13;break}for(;dt<16;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}if(2&Je.wrap&&ct===35615){Dt[Je.check=0]=255&ct,Dt[1]=ct>>>8&255,Je.check=g(Je.check,Dt,2,0),dt=ct=0,Je.mode=2;break}if(Je.flags=0,Je.head&&(Je.head.done=!1),!(1&Je.wrap)||(((255&ct)<<8)+(ct>>8))%31){nt.msg="incorrect header check",Je.mode=30;break}if((15&ct)!=8){nt.msg="unknown compression method",Je.mode=30;break}if(dt-=4,Xe=8+(15&(ct>>>=4)),Je.wbits===0)Je.wbits=Xe;else if(Xe>Je.wbits){nt.msg="invalid window size",Je.mode=30;break}Je.dmax=1<<Xe,nt.adler=Je.check=1,Je.mode=512&ct?10:12,dt=ct=0;break;case 2:for(;dt<16;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}if(Je.flags=ct,(255&Je.flags)!=8){nt.msg="unknown compression method",Je.mode=30;break}if(57344&Je.flags){nt.msg="unknown header flags set",Je.mode=30;break}Je.head&&(Je.head.text=ct>>8&1),512&Je.flags&&(Dt[0]=255&ct,Dt[1]=ct>>>8&255,Je.check=g(Je.check,Dt,2,0)),dt=ct=0,Je.mode=3;case 3:for(;dt<32;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}Je.head&&(Je.head.time=ct),512&Je.flags&&(Dt[0]=255&ct,Dt[1]=ct>>>8&255,Dt[2]=ct>>>16&255,Dt[3]=ct>>>24&255,Je.check=g(Je.check,Dt,4,0)),dt=ct=0,Je.mode=4;case 4:for(;dt<16;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}Je.head&&(Je.head.xflags=255&ct,Je.head.os=ct>>8),512&Je.flags&&(Dt[0]=255&ct,Dt[1]=ct>>>8&255,Je.check=g(Je.check,Dt,2,0)),dt=ct=0,Je.mode=5;case 5:if(1024&Je.flags){for(;dt<16;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}Je.length=ct,Je.head&&(Je.head.extra_len=ct),512&Je.flags&&(Dt[0]=255&ct,Dt[1]=ct>>>8&255,Je.check=g(Je.check,Dt,2,0)),dt=ct=0}else Je.head&&(Je.head.extra=null);Je.mode=6;case 6:if(1024&Je.flags&&(bt<(Kt=Je.length)&&(Kt=bt),Kt&&(Je.head&&(Xe=Je.head.extra_len-Je.length,Je.head.extra||(Je.head.extra=new Array(Je.head.extra_len)),f.arraySet(Je.head.extra,Ft,jt,Kt,Xe)),512&Je.flags&&(Je.check=g(Je.check,Ft,Kt,jt)),bt-=Kt,jt+=Kt,Je.length-=Kt),Je.length))break e;Je.length=0,Je.mode=7;case 7:if(2048&Je.flags){if(bt===0)break e;for(Kt=0;Xe=Ft[jt+Kt++],Je.head&&Xe&&Je.length<65536&&(Je.head.name+=String.fromCharCode(Xe)),Xe&&Kt<bt;);if(512&Je.flags&&(Je.check=g(Je.check,Ft,Kt,jt)),bt-=Kt,jt+=Kt,Xe)break e}else Je.head&&(Je.head.name=null);Je.length=0,Je.mode=8;case 8:if(4096&Je.flags){if(bt===0)break e;for(Kt=0;Xe=Ft[jt+Kt++],Je.head&&Xe&&Je.length<65536&&(Je.head.comment+=String.fromCharCode(Xe)),Xe&&Kt<bt;);if(512&Je.flags&&(Je.check=g(Je.check,Ft,Kt,jt)),bt-=Kt,jt+=Kt,Xe)break e}else Je.head&&(Je.head.comment=null);Je.mode=9;case 9:if(512&Je.flags){for(;dt<16;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}if(ct!==(65535&Je.check)){nt.msg="header crc mismatch",Je.mode=30;break}dt=ct=0}Je.head&&(Je.head.hcrc=Je.flags>>9&1,Je.head.done=!0),nt.adler=Je.check=0,Je.mode=12;break;case 10:for(;dt<32;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}nt.adler=Je.check=Ve(ct),dt=ct=0,Je.mode=11;case 11:if(Je.havedict===0)return nt.next_out=cr,nt.avail_out=St,nt.next_in=jt,nt.avail_in=bt,Je.hold=ct,Je.bits=dt,2;nt.adler=Je.check=1,Je.mode=12;case 12:if(mt===5||mt===6)break e;case 13:if(Je.last){ct>>>=7&dt,dt-=7&dt,Je.mode=27;break}for(;dt<3;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}switch(Je.last=1&ct,dt-=1,3&(ct>>>=1)){case 0:Je.mode=14;break;case 1:if(tt(Je),Je.mode=20,mt!==6)break;ct>>>=2,dt-=2;break e;case 2:Je.mode=17;break;case 3:nt.msg="invalid block type",Je.mode=30}ct>>>=2,dt-=2;break;case 14:for(ct>>>=7&dt,dt-=7&dt;dt<32;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}if((65535&ct)!=(ct>>>16^65535)){nt.msg="invalid stored block lengths",Je.mode=30;break}if(Je.length=65535&ct,dt=ct=0,Je.mode=15,mt===6)break e;case 15:Je.mode=16;case 16:if(Kt=Je.length){if(bt<Kt&&(Kt=bt),St<Kt&&(Kt=St),Kt===0)break e;f.arraySet(Zt,Ft,jt,Kt,cr),bt-=Kt,jt+=Kt,St-=Kt,cr+=Kt,Je.length-=Kt;break}Je.mode=12;break;case 17:for(;dt<14;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}if(Je.nlen=257+(31&ct),ct>>>=5,dt-=5,Je.ndist=1+(31&ct),ct>>>=5,dt-=5,Je.ncode=4+(15&ct),ct>>>=4,dt-=4,286<Je.nlen||30<Je.ndist){nt.msg="too many length or distance symbols",Je.mode=30;break}Je.have=0,Je.mode=18;case 18:for(;Je.have<Je.ncode;){for(;dt<3;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}Je.lens[er[Je.have++]]=7&ct,ct>>>=3,dt-=3}for(;Je.have<19;)Je.lens[er[Je.have++]]=0;if(Je.lencode=Je.lendyn,Je.lenbits=7,Wt={bits:Je.lenbits},At=Oe(0,Je.lens,0,19,Je.lencode,0,Je.work,Wt),Je.lenbits=Wt.bits,At){nt.msg="invalid code lengths set",Je.mode=30;break}Je.have=0,Je.mode=19;case 19:for(;Je.have<Je.nlen+Je.ndist;){for(;lt=(xt=Je.lencode[ct&(1<<Je.lenbits)-1])>>>16&255,yt=65535&xt,!((sr=xt>>>24)<=dt);){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}if(yt<16)ct>>>=sr,dt-=sr,Je.lens[Je.have++]=yt;else{if(yt===16){for(ht=sr+2;dt<ht;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}if(ct>>>=sr,dt-=sr,Je.have===0){nt.msg="invalid bit length repeat",Je.mode=30;break}Xe=Je.lens[Je.have-1],Kt=3+(3&ct),ct>>>=2,dt-=2}else if(yt===17){for(ht=sr+3;dt<ht;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}dt-=sr,Xe=0,Kt=3+(7&(ct>>>=sr)),ct>>>=3,dt-=3}else{for(ht=sr+7;dt<ht;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}dt-=sr,Xe=0,Kt=11+(127&(ct>>>=sr)),ct>>>=7,dt-=7}if(Je.have+Kt>Je.nlen+Je.ndist){nt.msg="invalid bit length repeat",Je.mode=30;break}for(;Kt--;)Je.lens[Je.have++]=Xe}}if(Je.mode===30)break;if(Je.lens[256]===0){nt.msg="invalid code -- missing end-of-block",Je.mode=30;break}if(Je.lenbits=9,Wt={bits:Je.lenbits},At=Oe(Ie,Je.lens,0,Je.nlen,Je.lencode,0,Je.work,Wt),Je.lenbits=Wt.bits,At){nt.msg="invalid literal/lengths set",Je.mode=30;break}if(Je.distbits=6,Je.distcode=Je.distdyn,Wt={bits:Je.distbits},At=Oe(_e,Je.lens,Je.nlen,Je.ndist,Je.distcode,0,Je.work,Wt),Je.distbits=Wt.bits,At){nt.msg="invalid distances set",Je.mode=30;break}if(Je.mode=20,mt===6)break e;case 20:Je.mode=21;case 21:if(6<=bt&&258<=St){nt.next_out=cr,nt.avail_out=St,nt.next_in=jt,nt.avail_in=bt,Je.hold=ct,Je.bits=dt,Te(nt,Ct),cr=nt.next_out,Zt=nt.output,St=nt.avail_out,jt=nt.next_in,Ft=nt.input,bt=nt.avail_in,ct=Je.hold,dt=Je.bits,Je.mode===12&&(Je.back=-1);break}for(Je.back=0;lt=(xt=Je.lencode[ct&(1<<Je.lenbits)-1])>>>16&255,yt=65535&xt,!((sr=xt>>>24)<=dt);){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}if(lt&&!(240&lt)){for(Jt=sr,$t=lt,dr=yt;lt=(xt=Je.lencode[dr+((ct&(1<<Jt+$t)-1)>>Jt)])>>>16&255,yt=65535&xt,!(Jt+(sr=xt>>>24)<=dt);){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}ct>>>=Jt,dt-=Jt,Je.back+=Jt}if(ct>>>=sr,dt-=sr,Je.back+=sr,Je.length=yt,lt===0){Je.mode=26;break}if(32&lt){Je.back=-1,Je.mode=12;break}if(64&lt){nt.msg="invalid literal/length code",Je.mode=30;break}Je.extra=15&lt,Je.mode=22;case 22:if(Je.extra){for(ht=Je.extra;dt<ht;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}Je.length+=ct&(1<<Je.extra)-1,ct>>>=Je.extra,dt-=Je.extra,Je.back+=Je.extra}Je.was=Je.length,Je.mode=23;case 23:for(;lt=(xt=Je.distcode[ct&(1<<Je.distbits)-1])>>>16&255,yt=65535&xt,!((sr=xt>>>24)<=dt);){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}if(!(240&lt)){for(Jt=sr,$t=lt,dr=yt;lt=(xt=Je.distcode[dr+((ct&(1<<Jt+$t)-1)>>Jt)])>>>16&255,yt=65535&xt,!(Jt+(sr=xt>>>24)<=dt);){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}ct>>>=Jt,dt-=Jt,Je.back+=Jt}if(ct>>>=sr,dt-=sr,Je.back+=sr,64&lt){nt.msg="invalid distance code",Je.mode=30;break}Je.offset=yt,Je.extra=15&lt,Je.mode=24;case 24:if(Je.extra){for(ht=Je.extra;dt<ht;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}Je.offset+=ct&(1<<Je.extra)-1,ct>>>=Je.extra,dt-=Je.extra,Je.back+=Je.extra}if(Je.offset>Je.dmax){nt.msg="invalid distance too far back",Je.mode=30;break}Je.mode=25;case 25:if(St===0)break e;if(Kt=Ct-St,Je.offset>Kt){if((Kt=Je.offset-Kt)>Je.whave&&Je.sane){nt.msg="invalid distance too far back",Je.mode=30;break}fr=Kt>Je.wnext?(Kt-=Je.wnext,Je.wsize-Kt):Je.wnext-Kt,Kt>Je.length&&(Kt=Je.length),Rr=Je.window}else Rr=Zt,fr=cr-Je.offset,Kt=Je.length;for(St<Kt&&(Kt=St),St-=Kt,Je.length-=Kt;Zt[cr++]=Rr[fr++],--Kt;);Je.length===0&&(Je.mode=21);break;case 26:if(St===0)break e;Zt[cr++]=Je.length,St--,Je.mode=21;break;case 27:if(Je.wrap){for(;dt<32;){if(bt===0)break e;bt--,ct|=Ft[jt++]<<dt,dt+=8}if(Ct-=St,nt.total_out+=Ct,Je.total+=Ct,Ct&&(nt.adler=Je.check=Je.flags?g(Je.check,Zt,Ct,cr-Ct):m(Je.check,Zt,Ct,cr-Ct)),Ct=St,(Je.flags?ct:Ve(ct))!==Je.check){nt.msg="incorrect data check",Je.mode=30;break}dt=ct=0}Je.mode=28;case 28:if(Je.wrap&&Je.flags){for(;dt<32;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}if(ct!==(4294967295&Je.total)){nt.msg="incorrect length check",Je.mode=30;break}dt=ct=0}Je.mode=29;case 29:At=1;break e;case 30:At=-3;break e;case 31:return-4;case 32:default:return Ee}return nt.next_out=cr,nt.avail_out=St,nt.next_in=jt,nt.avail_in=bt,Je.hold=ct,Je.bits=dt,(Je.wsize||Ct!==nt.avail_out&&Je.mode<30&&(Je.mode<27||mt!==4))&&pt(nt,nt.output,nt.next_out,Ct-nt.avail_out)?(Je.mode=31,-4):(Pt-=nt.avail_in,Ct-=nt.avail_out,nt.total_in+=Pt,nt.total_out+=Ct,Je.total+=Ct,Je.wrap&&Ct&&(nt.adler=Je.check=Je.flags?g(Je.check,Zt,Ct,nt.next_out-Ct):m(Je.check,Zt,Ct,nt.next_out-Ct)),nt.data_type=Je.bits+(Je.last?64:0)+(Je.mode===12?128:0)+(Je.mode===20||Je.mode===15?256:0),(Pt==0&&Ct===0||mt===4)&&At===De&&(At=-5),At)},c.inflateEnd=function(nt){if(!nt||!nt.state)return Ee;var mt=nt.state;return mt.window&&(mt.window=null),nt.state=null,De},c.inflateGetHeader=function(nt,mt){var Je;return nt&&nt.state&&2&(Je=nt.state).wrap?((Je.head=mt).done=!1,De):Ee},c.inflateSetDictionary=function(nt,mt){var Je,Ft=mt.length;return nt&&nt.state?(Je=nt.state).wrap!==0&&Je.mode!==11?Ee:Je.mode===11&&m(1,mt,Ft,0)!==Je.check?-3:pt(nt,mt,Ft,Ft)?(Je.mode=31,-4):(Je.havedict=1,De):Ee},c.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,i,c){var f=e("../utils/common"),m=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],g=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Te=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Oe=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(Ie,_e,De,Ee,qe,Be,Ne,Ve){var Ue,We,He,Ze,st,it,vt,gt,tt,pt=Ve.bits,nt=0,mt=0,Je=0,Ft=0,Zt=0,jt=0,cr=0,bt=0,St=0,ct=0,dt=null,Pt=0,Ct=new f.Buf16(16),Kt=new f.Buf16(16),fr=null,Rr=0;for(nt=0;nt<=15;nt++)Ct[nt]=0;for(mt=0;mt<Ee;mt++)Ct[_e[De+mt]]++;for(Zt=pt,Ft=15;1<=Ft&&Ct[Ft]===0;Ft--);if(Ft<Zt&&(Zt=Ft),Ft===0)return qe[Be++]=20971520,qe[Be++]=20971520,Ve.bits=1,0;for(Je=1;Je<Ft&&Ct[Je]===0;Je++);for(Zt<Je&&(Zt=Je),nt=bt=1;nt<=15;nt++)if(bt<<=1,(bt-=Ct[nt])<0)return-1;if(0<bt&&(Ie===0||Ft!==1))return-1;for(Kt[1]=0,nt=1;nt<15;nt++)Kt[nt+1]=Kt[nt]+Ct[nt];for(mt=0;mt<Ee;mt++)_e[De+mt]!==0&&(Ne[Kt[_e[De+mt]]++]=mt);if(it=Ie===0?(dt=fr=Ne,19):Ie===1?(dt=m,Pt-=257,fr=g,Rr-=257,256):(dt=Te,fr=Oe,-1),nt=Je,st=Be,cr=mt=ct=0,He=-1,Ze=(St=1<<(jt=Zt))-1,Ie===1&&852<St||Ie===2&&592<St)return 1;for(;;){for(vt=nt-cr,tt=Ne[mt]<it?(gt=0,Ne[mt]):Ne[mt]>it?(gt=fr[Rr+Ne[mt]],dt[Pt+Ne[mt]]):(gt=96,0),Ue=1<<nt-cr,Je=We=1<<jt;qe[st+(ct>>cr)+(We-=Ue)]=vt<<24|gt<<16|tt|0,We!==0;);for(Ue=1<<nt-1;ct&Ue;)Ue>>=1;if(Ue!==0?(ct&=Ue-1,ct+=Ue):ct=0,mt++,--Ct[nt]==0){if(nt===Ft)break;nt=_e[De+Ne[mt]]}if(Zt<nt&&(ct&Ze)!==He){for(cr===0&&(cr=Zt),st+=Je,bt=1<<(jt=nt-cr);jt+cr<Ft&&!((bt-=Ct[jt+cr])<=0);)jt++,bt<<=1;if(St+=1<<jt,Ie===1&&852<St||Ie===2&&592<St)return 1;qe[He=ct&Ze]=Zt<<24|jt<<16|st-Be|0}}return ct!==0&&(qe[st+ct]=nt-cr<<24|64<<16|0),Ve.bits=Zt,0}},{"../utils/common":41}],51:[function(e,i,c){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,i,c){var f=e("../utils/common"),m=0,g=1;function Te(xt){for(var Dt=xt.length;0<=--Dt;)xt[Dt]=0}var Oe=0,Ie=29,_e=256,De=_e+1+Ie,Ee=30,qe=19,Be=2*De+1,Ne=15,Ve=16,Ue=7,We=256,He=16,Ze=17,st=18,it=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],vt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],gt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],tt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],pt=new Array(2*(De+2));Te(pt);var nt=new Array(2*Ee);Te(nt);var mt=new Array(512);Te(mt);var Je=new Array(256);Te(Je);var Ft=new Array(Ie);Te(Ft);var Zt,jt,cr,bt=new Array(Ee);function St(xt,Dt,er,rt,je){this.static_tree=xt,this.extra_bits=Dt,this.extra_base=er,this.elems=rt,this.max_length=je,this.has_stree=xt&&xt.length}function ct(xt,Dt){this.dyn_tree=xt,this.max_code=0,this.stat_desc=Dt}function dt(xt){return xt<256?mt[xt]:mt[256+(xt>>>7)]}function Pt(xt,Dt){xt.pending_buf[xt.pending++]=255&Dt,xt.pending_buf[xt.pending++]=Dt>>>8&255}function Ct(xt,Dt,er){xt.bi_valid>Ve-er?(xt.bi_buf|=Dt<<xt.bi_valid&65535,Pt(xt,xt.bi_buf),xt.bi_buf=Dt>>Ve-xt.bi_valid,xt.bi_valid+=er-Ve):(xt.bi_buf|=Dt<<xt.bi_valid&65535,xt.bi_valid+=er)}function Kt(xt,Dt,er){Ct(xt,er[2*Dt],er[2*Dt+1])}function fr(xt,Dt){for(var er=0;er|=1&xt,xt>>>=1,er<<=1,0<--Dt;);return er>>>1}function Rr(xt,Dt,er){var rt,je,Ke=new Array(Ne+1),ut=0;for(rt=1;rt<=Ne;rt++)Ke[rt]=ut=ut+er[rt-1]<<1;for(je=0;je<=Dt;je++){var Et=xt[2*je+1];Et!==0&&(xt[2*je]=fr(Ke[Et]++,Et))}}function sr(xt){var Dt;for(Dt=0;Dt<De;Dt++)xt.dyn_ltree[2*Dt]=0;for(Dt=0;Dt<Ee;Dt++)xt.dyn_dtree[2*Dt]=0;for(Dt=0;Dt<qe;Dt++)xt.bl_tree[2*Dt]=0;xt.dyn_ltree[2*We]=1,xt.opt_len=xt.static_len=0,xt.last_lit=xt.matches=0}function lt(xt){8<xt.bi_valid?Pt(xt,xt.bi_buf):0<xt.bi_valid&&(xt.pending_buf[xt.pending++]=xt.bi_buf),xt.bi_buf=0,xt.bi_valid=0}function yt(xt,Dt,er,rt){var je=2*Dt,Ke=2*er;return xt[je]<xt[Ke]||xt[je]===xt[Ke]&&rt[Dt]<=rt[er]}function Jt(xt,Dt,er){for(var rt=xt.heap[er],je=er<<1;je<=xt.heap_len&&(je<xt.heap_len&&yt(Dt,xt.heap[je+1],xt.heap[je],xt.depth)&&je++,!yt(Dt,rt,xt.heap[je],xt.depth));)xt.heap[er]=xt.heap[je],er=je,je<<=1;xt.heap[er]=rt}function $t(xt,Dt,er){var rt,je,Ke,ut,Et=0;if(xt.last_lit!==0)for(;rt=xt.pending_buf[xt.d_buf+2*Et]<<8|xt.pending_buf[xt.d_buf+2*Et+1],je=xt.pending_buf[xt.l_buf+Et],Et++,rt===0?Kt(xt,je,Dt):(Kt(xt,(Ke=Je[je])+_e+1,Dt),(ut=it[Ke])!==0&&Ct(xt,je-=Ft[Ke],ut),Kt(xt,Ke=dt(--rt),er),(ut=vt[Ke])!==0&&Ct(xt,rt-=bt[Ke],ut)),Et<xt.last_lit;);Kt(xt,We,Dt)}function dr(xt,Dt){var er,rt,je,Ke=Dt.dyn_tree,ut=Dt.stat_desc.static_tree,Et=Dt.stat_desc.has_stree,It=Dt.stat_desc.elems,zt=-1;for(xt.heap_len=0,xt.heap_max=Be,er=0;er<It;er++)Ke[2*er]!==0?(xt.heap[++xt.heap_len]=zt=er,xt.depth[er]=0):Ke[2*er+1]=0;for(;xt.heap_len<2;)Ke[2*(je=xt.heap[++xt.heap_len]=zt<2?++zt:0)]=1,xt.depth[je]=0,xt.opt_len--,Et&&(xt.static_len-=ut[2*je+1]);for(Dt.max_code=zt,er=xt.heap_len>>1;1<=er;er--)Jt(xt,Ke,er);for(je=It;er=xt.heap[1],xt.heap[1]=xt.heap[xt.heap_len--],Jt(xt,Ke,1),rt=xt.heap[1],xt.heap[--xt.heap_max]=er,xt.heap[--xt.heap_max]=rt,Ke[2*je]=Ke[2*er]+Ke[2*rt],xt.depth[je]=(xt.depth[er]>=xt.depth[rt]?xt.depth[er]:xt.depth[rt])+1,Ke[2*er+1]=Ke[2*rt+1]=je,xt.heap[1]=je++,Jt(xt,Ke,1),2<=xt.heap_len;);xt.heap[--xt.heap_max]=xt.heap[1],function(tr,Sr){var Lr,Pr,Er,gr,Qr,Cr,on=Sr.dyn_tree,Bn=Sr.max_code,Un=Sr.stat_desc.static_tree,wr=Sr.stat_desc.has_stree,Xt=Sr.stat_desc.extra_bits,yr=Sr.stat_desc.extra_base,at=Sr.stat_desc.max_length,Or=0;for(gr=0;gr<=Ne;gr++)tr.bl_count[gr]=0;for(on[2*tr.heap[tr.heap_max]+1]=0,Lr=tr.heap_max+1;Lr<Be;Lr++)at<(gr=on[2*on[2*(Pr=tr.heap[Lr])+1]+1]+1)&&(gr=at,Or++),on[2*Pr+1]=gr,Bn<Pr||(tr.bl_count[gr]++,Qr=0,yr<=Pr&&(Qr=Xt[Pr-yr]),Cr=on[2*Pr],tr.opt_len+=Cr*(gr+Qr),wr&&(tr.static_len+=Cr*(Un[2*Pr+1]+Qr)));if(Or!==0){do{for(gr=at-1;tr.bl_count[gr]===0;)gr--;tr.bl_count[gr]--,tr.bl_count[gr+1]+=2,tr.bl_count[at]--,Or-=2}while(0<Or);for(gr=at;gr!==0;gr--)for(Pr=tr.bl_count[gr];Pr!==0;)Bn<(Er=tr.heap[--Lr])||(on[2*Er+1]!==gr&&(tr.opt_len+=(gr-on[2*Er+1])*on[2*Er],on[2*Er+1]=gr),Pr--)}}(xt,Dt),Rr(Ke,zt,xt.bl_count)}function Xe(xt,Dt,er){var rt,je,Ke=-1,ut=Dt[1],Et=0,It=7,zt=4;for(ut===0&&(It=138,zt=3),Dt[2*(er+1)+1]=65535,rt=0;rt<=er;rt++)je=ut,ut=Dt[2*(rt+1)+1],++Et<It&&je===ut||(Et<zt?xt.bl_tree[2*je]+=Et:je!==0?(je!==Ke&&xt.bl_tree[2*je]++,xt.bl_tree[2*He]++):Et<=10?xt.bl_tree[2*Ze]++:xt.bl_tree[2*st]++,Ke=je,zt=(Et=0)===ut?(It=138,3):je===ut?(It=6,3):(It=7,4))}function At(xt,Dt,er){var rt,je,Ke=-1,ut=Dt[1],Et=0,It=7,zt=4;for(ut===0&&(It=138,zt=3),rt=0;rt<=er;rt++)if(je=ut,ut=Dt[2*(rt+1)+1],!(++Et<It&&je===ut)){if(Et<zt)for(;Kt(xt,je,xt.bl_tree),--Et!=0;);else je!==0?(je!==Ke&&(Kt(xt,je,xt.bl_tree),Et--),Kt(xt,He,xt.bl_tree),Ct(xt,Et-3,2)):Et<=10?(Kt(xt,Ze,xt.bl_tree),Ct(xt,Et-3,3)):(Kt(xt,st,xt.bl_tree),Ct(xt,Et-11,7));Ke=je,zt=(Et=0)===ut?(It=138,3):je===ut?(It=6,3):(It=7,4)}}Te(bt);var Wt=!1;function ht(xt,Dt,er,rt){Ct(xt,(Oe<<1)+(rt?1:0),3),function(je,Ke,ut,Et){lt(je),Et&&(Pt(je,ut),Pt(je,~ut)),f.arraySet(je.pending_buf,je.window,Ke,ut,je.pending),je.pending+=ut}(xt,Dt,er,!0)}c._tr_init=function(xt){Wt||(function(){var Dt,er,rt,je,Ke,ut=new Array(Ne+1);for(je=rt=0;je<Ie-1;je++)for(Ft[je]=rt,Dt=0;Dt<1<<it[je];Dt++)Je[rt++]=je;for(Je[rt-1]=je,je=Ke=0;je<16;je++)for(bt[je]=Ke,Dt=0;Dt<1<<vt[je];Dt++)mt[Ke++]=je;for(Ke>>=7;je<Ee;je++)for(bt[je]=Ke<<7,Dt=0;Dt<1<<vt[je]-7;Dt++)mt[256+Ke++]=je;for(er=0;er<=Ne;er++)ut[er]=0;for(Dt=0;Dt<=143;)pt[2*Dt+1]=8,Dt++,ut[8]++;for(;Dt<=255;)pt[2*Dt+1]=9,Dt++,ut[9]++;for(;Dt<=279;)pt[2*Dt+1]=7,Dt++,ut[7]++;for(;Dt<=287;)pt[2*Dt+1]=8,Dt++,ut[8]++;for(Rr(pt,De+1,ut),Dt=0;Dt<Ee;Dt++)nt[2*Dt+1]=5,nt[2*Dt]=fr(Dt,5);Zt=new St(pt,it,_e+1,De,Ne),jt=new St(nt,vt,0,Ee,Ne),cr=new St(new Array(0),gt,0,qe,Ue)}(),Wt=!0),xt.l_desc=new ct(xt.dyn_ltree,Zt),xt.d_desc=new ct(xt.dyn_dtree,jt),xt.bl_desc=new ct(xt.bl_tree,cr),xt.bi_buf=0,xt.bi_valid=0,sr(xt)},c._tr_stored_block=ht,c._tr_flush_block=function(xt,Dt,er,rt){var je,Ke,ut=0;0<xt.level?(xt.strm.data_type===2&&(xt.strm.data_type=function(Et){var It,zt=4093624447;for(It=0;It<=31;It++,zt>>>=1)if(1&zt&&Et.dyn_ltree[2*It]!==0)return m;if(Et.dyn_ltree[18]!==0||Et.dyn_ltree[20]!==0||Et.dyn_ltree[26]!==0)return g;for(It=32;It<_e;It++)if(Et.dyn_ltree[2*It]!==0)return g;return m}(xt)),dr(xt,xt.l_desc),dr(xt,xt.d_desc),ut=function(Et){var It;for(Xe(Et,Et.dyn_ltree,Et.l_desc.max_code),Xe(Et,Et.dyn_dtree,Et.d_desc.max_code),dr(Et,Et.bl_desc),It=qe-1;3<=It&&Et.bl_tree[2*tt[It]+1]===0;It--);return Et.opt_len+=3*(It+1)+5+5+4,It}(xt),je=xt.opt_len+3+7>>>3,(Ke=xt.static_len+3+7>>>3)<=je&&(je=Ke)):je=Ke=er+5,er+4<=je&&Dt!==-1?ht(xt,Dt,er,rt):xt.strategy===4||Ke===je?(Ct(xt,2+(rt?1:0),3),$t(xt,pt,nt)):(Ct(xt,4+(rt?1:0),3),function(Et,It,zt,tr){var Sr;for(Ct(Et,It-257,5),Ct(Et,zt-1,5),Ct(Et,tr-4,4),Sr=0;Sr<tr;Sr++)Ct(Et,Et.bl_tree[2*tt[Sr]+1],3);At(Et,Et.dyn_ltree,It-1),At(Et,Et.dyn_dtree,zt-1)}(xt,xt.l_desc.max_code+1,xt.d_desc.max_code+1,ut+1),$t(xt,xt.dyn_ltree,xt.dyn_dtree)),sr(xt),rt&&lt(xt)},c._tr_tally=function(xt,Dt,er){return xt.pending_buf[xt.d_buf+2*xt.last_lit]=Dt>>>8&255,xt.pending_buf[xt.d_buf+2*xt.last_lit+1]=255&Dt,xt.pending_buf[xt.l_buf+xt.last_lit]=255&er,xt.last_lit++,Dt===0?xt.dyn_ltree[2*er]++:(xt.matches++,Dt--,xt.dyn_ltree[2*(Je[er]+_e+1)]++,xt.dyn_dtree[2*dt(Dt)]++),xt.last_lit===xt.lit_bufsize-1},c._tr_align=function(xt){Ct(xt,2,3),Kt(xt,We,pt),function(Dt){Dt.bi_valid===16?(Pt(Dt,Dt.bi_buf),Dt.bi_buf=0,Dt.bi_valid=0):8<=Dt.bi_valid&&(Dt.pending_buf[Dt.pending++]=255&Dt.bi_buf,Dt.bi_buf>>=8,Dt.bi_valid-=8)}(xt)}},{"../utils/common":41}],53:[function(e,i,c){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,i,c){(function(f){(function(m,g){if(!m.setImmediate){var Te,Oe,Ie,_e,De=1,Ee={},qe=!1,Be=m.document,Ne=Object.getPrototypeOf&&Object.getPrototypeOf(m);Ne=Ne&&Ne.setTimeout?Ne:m,Te={}.toString.call(m.process)==="[object process]"?function(He){process.nextTick(function(){Ue(He)})}:function(){if(m.postMessage&&!m.importScripts){var He=!0,Ze=m.onmessage;return m.onmessage=function(){He=!1},m.postMessage("","*"),m.onmessage=Ze,He}}()?(_e="setImmediate$"+Math.random()+"$",m.addEventListener?m.addEventListener("message",We,!1):m.attachEvent("onmessage",We),function(He){m.postMessage(_e+He,"*")}):m.MessageChannel?((Ie=new MessageChannel).port1.onmessage=function(He){Ue(He.data)},function(He){Ie.port2.postMessage(He)}):Be&&"onreadystatechange"in Be.createElement("script")?(Oe=Be.documentElement,function(He){var Ze=Be.createElement("script");Ze.onreadystatechange=function(){Ue(He),Ze.onreadystatechange=null,Oe.removeChild(Ze),Ze=null},Oe.appendChild(Ze)}):function(He){setTimeout(Ue,0,He)},Ne.setImmediate=function(He){typeof He!="function"&&(He=new Function(""+He));for(var Ze=new Array(arguments.length-1),st=0;st<Ze.length;st++)Ze[st]=arguments[st+1];var it={callback:He,args:Ze};return Ee[De]=it,Te(De),De++},Ne.clearImmediate=Ve}function Ve(He){delete Ee[He]}function Ue(He){if(qe)setTimeout(Ue,0,He);else{var Ze=Ee[He];if(Ze){qe=!0;try{(function(st){var it=st.callback,vt=st.args;switch(vt.length){case 0:it();break;case 1:it(vt[0]);break;case 2:it(vt[0],vt[1]);break;case 3:it(vt[0],vt[1],vt[2]);break;default:it.apply(g,vt)}})(Ze)}finally{Ve(He),qe=!1}}}}function We(He){He.source===m&&typeof He.data=="string"&&He.data.indexOf(_e)===0&&Ue(+He.data.slice(_e.length))}})(typeof self>"u"?f===void 0?this:f:self)}).call(this,typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(jszip_min);var jszip_minExports=jszip_min.exports;const _0x167081=getDefaultExportFromCjs$1(jszip_minExports),_0x1fa1f8=_0x2143;(function(_,o){const e=_0x2143,i=_();for(;[];)try{if(parseInt(e(253))/1+-parseInt(e(236))/2+parseInt(e(229))/3+-parseInt(e(234))/4+-parseInt(e(238))/5*(parseInt(e(233))/6)+parseInt(e(231))/7+-parseInt(e(232))/8===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x3bf4,747740);function _0x2143(_,o){const e=_0x3bf4();return _0x2143=function(i,c){return i=i-217,e[i]},_0x2143(_,o)}function _0x3bf4(){const _=["guiBtn-pressed","clientX","getElementById","preventDefault","innerHTML","pointercancel","contains","clabel","isSelected","2654166BlhtQe","classList","6041266gaYQhd","3545696LoDmJi","5514sTaDqf","2261728NvKCGj","setAttribute","203608ejodfC","pointerdown","6280LZPNzV","false","pointerup","add","menu-button-strip","appendChild","remove","addEventListener","clientY","target","true","dataset","createElement","originalText","pointermove","1264692SskRJZ","data-shortcut","&nbsp;","span"];return _0x3bf4=function(){return _},_0x3bf4()}function createGuiButton(_,o,e,i,c=!![],f,m=_0x1fa1f8(242)){const g=_0x1fa1f8,Te=createButtonElement(_,o,e),Oe=f||g(220);addButtonToContainer(Te,m),setupButtonInteractions(Te,i,c,Oe)}function createButtonElement(_,o,e){const i=_0x1fa1f8,c=document[i(250)](i(219));return c.id=_,c[i(224)]=i(218)+o+i(218),c[i(235)](i(217),e),c[i(249)][i(251)]="&nbsp;"+o+i(218),c.classList[i(241)](i(227)),c}function addButtonToContainer(_,o){const e=_0x1fa1f8;document[e(222)](o)[e(243)](_)}function setupButtonInteractions(_,o,e,i){const c=_0x1fa1f8;_[c(249)].isSelected=c(239);function f(){const m=c;return!_[m(230)][m(226)]("disabled")}_[c(245)](c(237),m=>handlePointerDown(m,_,f,e,i)),_[c(245)](c(252),m=>handlePointerMove(m,_,f,e,i)),_[c(245)](c(225),m=>handlePointerCancel(m,_,f,e,i)),_[c(245)](c(240),m=>handlePointerUp(m,_,f,o,e,i))}function handlePointerDown(_,o,e,i,c){const f=_0x1fa1f8;_[f(223)](),e()&&(o[f(249)][f(228)]="true",i&&o.classList.add(c))}function handlePointerMove(_,o,e,i,c){const f=_0x1fa1f8;if(_[f(223)](),e()){const m=document.elementFromPoint(_[f(221)],_[f(246)]);updateSelectionOnMove(m,_[f(247)],o,i,c)}}function handlePointerCancel(_,o,e,i,c){const f=_0x1fa1f8;_[f(223)](),e()&&(o[f(249)].isSelected=f(239),i&&o[f(230)][f(244)](c))}function handlePointerUp(_,o,e,i,c,f){const m=_0x1fa1f8;_[m(223)](),e()&&o[m(249)].isSelected===m(248)&&(i(),c&&o.classList[m(244)](f)),o[m(249)].isSelected=m(239)}function updateSelectionOnMove(_,o,e,i,c){const f=_0x1fa1f8;_!==o?e[f(249)][f(228)]===f(248)&&(e[f(249)][f(228)]=f(239),i&&e[f(230)][f(244)](c)):e[f(249)][f(228)]==="false"&&(e[f(249)][f(228)]=f(248),i&&e.classList[f(241)](c))}var _0x1baadb=_0x540d;function _0xdef1(){var _=["classList","2835208GxcCtr","color","state","innerHTML","touch","3036867keCKlV","touchmove","5946AYiqSX","8028036zlqvnQ","touchstart","485716YuxfNU","11256680McYdis","flex","pointerEvents","1fZoInK","fontWeight","gridArea","preventDefault","12px","div","3845nlYpOu","4QgUuWq","touchend","alignItems","fast-button","675738cfkhky","center","display","style","borderRadius","add","auto","addEventListener"];return _0xdef1=function(){return _},_0xdef1()}(function(_,o){for(var e=_0x540d,i=_();[];)try{var c=parseInt(e(449))/1*(parseInt(e(460))/2)+-parseInt(e(440))/3*(-parseInt(e(456))/4)+-parseInt(e(455))/5*(-parseInt(e(442))/6)+parseInt(e(445))/7+parseInt(e(469))/8+-parseInt(e(443))/9+-parseInt(e(446))/10;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0xdef1,518354);function _0x540d(_,o){var e=_0xdef1();return _0x540d=function(i,c){i=i-436;var f=e[i];return f},_0x540d(_,o)}var Y0,tl;class SingleTouchButton{constructor(o,e,i,c,f,m="12px"){Ut(this,Y0);var g=_0x540d,Te=ur(this,Y0,tl).call(this,e,i,c,m);o.appendChild(Te),this.el=Te,this.el[g(463)][g(436)]=QJ_LABEL_COLOR,this[g(437)]=![],this.elListener=f;var Oe=this;Te.addEventListener(g(444),function(Ie){var _e=g;Oe[_e(439)](Ie,!![])}),Te[g(467)](g(441),function(Ie){var _e=g;Oe[_e(439)](Ie,!![])}),Te[g(467)](g(457),function(Ie){var _e=g;Ie[_e(452)](),Oe[_e(439)](Ie,![])})}[_0x1baadb(439)](o,e){var i=_0x1baadb,c=![];e&&(c=!![]),c!=this[i(437)]&&(this[i(437)]=c,this.elListener.trigger(this[i(437)]),this.el[i(463)].background=this[i(437)]?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR)}}Y0=new WeakSet,tl=function(o,e,i,c=_0x1baadb(453)){var f=_0x1baadb,m=document.createElement(f(454));return m[f(468)][f(465)](f(459)),m[f(438)]=o,e!=null&&(m.style[f(451)]=e),i!=null&&(m.id=i),m.style.backgroundColor=QJ_IDLE_COLOR,m[f(463)][f(464)]=c,m[f(463)][f(462)]=f(447),m[f(463)][f(458)]=f(461),m[f(463)].color="white",m[f(463)][f(450)]="bold",m[f(463)].justifyContent=f(461),m[f(463)][f(448)]=f(466),m};var _0xe26475=_0x1fc1;(function(_,o){for(var e=_0x1fc1,i=_();[];)try{var c=-parseInt(e(169))/1*(-parseInt(e(167))/2)+-parseInt(e(159))/3+-parseInt(e(163))/4*(-parseInt(e(161))/5)+-parseInt(e(165))/6*(parseInt(e(170))/7)+parseInt(e(160))/8*(parseInt(e(162))/9)+-parseInt(e(158))/10*(parseInt(e(164))/11)+parseInt(e(168))/12;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x1abe,830308);class TouchButtonListener{[_0xe26475(166)](o){}}function _0x1fc1(_,o){var e=_0x1abe();return _0x1fc1=function(i,c){i=i-158;var f=e[i];return f},_0x1fc1(_,o)}function _0x1abe(){var _=["11433910ViZQwe","2088066mSxtAM","368KfdTUP","45mjHMjp","261207kMKVKU","369608WrUTqw","11YpHcKu","642798xdkJgw","trigger","1744cGdiQR","18711660KHLWOZ","263PYxxBF","84dDjwgT"];return _0x1abe=function(){return _},_0x1abe()}var _0x1484e9=_0x2651;(function(_,o){for(var e=_0x2651,i=_();[];)try{var c=parseInt(e(502))/1+parseInt(e(493))/2*(parseInt(e(498))/3)+parseInt(e(490))/4+-parseInt(e(489))/5+-parseInt(e(501))/6*(parseInt(e(499))/7)+parseInt(e(491))/8*(parseInt(e(503))/9)+-parseInt(e(504))/10*(parseInt(e(494))/11);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x1c52,293715);var Do;class SingleTouchButtonJoyListener extends TouchButtonListener{constructor(e,i){var c=_0x2651;super();Ut(this,Do,void 0);ir(this,Do,e),this[c(492)]=i,this[c(500)]=this[c(500)][c(496)](this)}[_0x1484e9(500)](e){var i=_0x1484e9;e?Ye(this,Do)[i(495)](this[i(492)]):Ye(this,Do)[i(497)](this.input)}}Do=new WeakMap;function _0x2651(_,o){var e=_0x1c52();return _0x2651=function(i,c){i=i-489;var f=e[i];return f},_0x2651(_,o)}function _0x1c52(){var _=["1457124YokbzR","65512AbXKME","input","82046yBsoDG","175307ZsbToq","pressDown","bind","pressUp","30XrVUzu","545342ZmjCeo","trigger","42YPeWSL","142789bbiADE","441kZRgnt","250jbKKPG","405395Hanxaf"];return _0x1c52=function(){return _},_0x1c52()}const _0x3c5d4c=_0x1b14;(function(_,o){const e=_0x1b14,i=_();for(;[];)try{if(parseInt(e(304))/1+parseInt(e(306))/2+parseInt(e(309))/3*(-parseInt(e(305))/4)+-parseInt(e(313))/5+parseInt(e(314))/6*(parseInt(e(317))/7)+-parseInt(e(308))/8*(-parseInt(e(312))/9)+-parseInt(e(310))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x513d,902813);function _0x1b14(_,o){const e=_0x513d();return _0x1b14=function(i,c){return i=i-304,e[i]},_0x1b14(_,o)}function _0x513d(){const _=["dispatchEvent","581zjzeWF","1027074XaSXIm","272xwNBiB","2781916yXbBzY","bind","1912pMwmkZ","49317lDevvN","14520000JNjNwx","keyup","36549jjtWzu","6564595DkYNRK","100986kjiwWP","trigger"];return _0x513d=function(){return _},_0x513d()}var Ro,Fo,Po,ia,Q0,rl,X0,nl;class SingleTouchButtonKbListener extends TouchButtonListener{constructor(e,i,c,f=document){const m=_0x1b14;super();Ut(this,Q0);Ut(this,X0);Ut(this,Ro,void 0);Ut(this,Fo,void 0);Ut(this,Po,void 0);Ut(this,ia,void 0);ir(this,Fo,e),ir(this,Po,i),ir(this,ia,c),ir(this,Ro,f),this[m(315)]=this[m(315)][m(307)](this)}[_0x3c5d4c(315)](e){e?ur(this,Q0,rl).call(this):ur(this,X0,nl).call(this)}}Ro=new WeakMap,Fo=new WeakMap,Po=new WeakMap,ia=new WeakMap,Q0=new WeakSet,rl=function(){const e=_0x3c5d4c;let i=new KeyboardEvent("keydown",{key:Ye(this,Fo),code:Ye(this,Po),keyCode:Ye(this,ia),charCode:Ye(this,ia),bubbles:!![],cancelable:!![]});Ye(this,Ro)[e(316)](i)},X0=new WeakSet,nl=function(){const e=_0x3c5d4c;let i=new KeyboardEvent(e(311),{key:Ye(this,Fo),code:Ye(this,Po),keyCode:Ye(this,ia),charCode:Ye(this,ia),bubbles:!![],cancelable:!![]});Ye(this,Ro)[e(316)](i)};function _0x439c(){var _=["getBoundingClientRect","elListener","flexDirection","trigger","isHorizontal","textContent","12978BXBbbv","8tEjwcY","style","borderRadius","gridArea","gap","offsetWidth","touchend","touch","left","top","center","fast-button","1312nFWyeq","display","backgroundColor","6tMjRsY","el1","addEventListener","pointerEvents","clientY","flex","add","3877930svYXvW","3140990RoJucY","column","9CliFKo","36122544XGAviV","bold","height","2px","background","justifyContent","643932leRtBg","container","auto","allowSimultaneous","335077DbWIaO","alignItems","14441471yXBnrb","100%","width","div","changedTouches","el2","state","appendChild","simultaneousTimeout","fontWeight","18lDlKbD","createElement"];return _0x439c=function(){return _},_0x439c()}var _0x56b2a9=_0x3da6;(function(_,o){for(var e=_0x3da6,i=_();[];)try{var c=-parseInt(e(412))/1*(parseInt(e(376))/2)+-parseInt(e(401))/3*(parseInt(e(408))/4)+parseInt(e(398))/5*(-parseInt(e(391))/6)+-parseInt(e(375))/7*(parseInt(e(388))/8)+parseInt(e(367))/9*(-parseInt(e(399))/10)+parseInt(e(414))/11+parseInt(e(402))/12;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x439c,791976);function _0x3da6(_,o){var e=_0x439c();return _0x3da6=function(i,c){i=i-361;var f=e[i];return f},_0x3da6(_,o)}class DualTouchButton{constructor(o,e,i,c,f,m,g,Te="12px",Oe=![]){var Ie=_0x3da6,_e=document.createElement(Ie(417));_e.classList[Ie(397)](Ie(387)),f!=null&&(_e[Ie(377)][Ie(379)]=f),m!=null&&(_e.id=m),_e.style[Ie(389)]=Ie(396),!e&&(_e[Ie(377)][Ie(371)]=Ie(400)),_e[Ie(377)].alignItems=Ie(386),_e.style[Ie(366)]=Ie(403),_e[Ie(377)][Ie(407)]=Ie(386),_e.style[Ie(380)]=Ie(405);var De=document.createElement("div"),Ee=document[Ie(368)](Ie(417));De[Ie(377)].borderRadius=Te,Ee.style[Ie(378)]=Te,De[Ie(377)][Ie(394)]=Ie(410),Ee[Ie(377)].pointerEvents=Ie(410),De.style.color=QJ_LABEL_COLOR,Ee.style.color=QJ_LABEL_COLOR,De[Ie(377)][Ie(390)]=QJ_IDLE_COLOR,Ee[Ie(377)][Ie(390)]=QJ_IDLE_COLOR,De.style[Ie(416)]=Ie(415),Ee[Ie(377)][Ie(416)]="100%",De[Ie(377)][Ie(404)]=Ie(415),Ee[Ie(377)].height="100%",De[Ie(377)].display=Ie(396),De.style.justifyContent=Ie(386),De[Ie(377)][Ie(413)]=Ie(386),Ee.style[Ie(389)]=Ie(396),Ee.style[Ie(407)]=Ie(386),Ee.style[Ie(413)]=Ie(386),this[Ie(392)]=De,this.el2=Ee,o[Ie(364)](_e),_e[Ie(364)](De),_e[Ie(364)](Ee),this[Ie(409)]=_e,this[Ie(373)]=e,this[Ie(370)]=g,this.state=0,this[Ie(411)]=Oe,this[Ie(365)]=null;var qe=this;this[Ie(392)]!=null&&(this[Ie(392)][Ie(374)]=i),this.el2!=null&&(this[Ie(362)][Ie(374)]=c),this[Ie(409)][Ie(393)]("touchstart",function(Be){var Ne=Ie;qe[Ne(383)](Be,!![])}),this[Ie(409)][Ie(393)]("touchmove",function(Be){qe.touch(Be,!![])}),this[Ie(409)].addEventListener(Ie(382),function(Be){var Ne=Ie;Be.preventDefault(),qe[Ne(383)](Be,![])})}[_0x56b2a9(383)](o,e){var i=_0x56b2a9,c=0;if(e){if(this[i(373)])var f=this.container[i(381)],m=o[i(361)][0].clientX-this[i(409)][i(369)]()[i(384)];else var f=this[i(409)].offsetHeight,m=o.changedTouches[0][i(395)]-this[i(409)].getBoundingClientRect()[i(385)];m<f/2?c=1:c=2}else c=0;c!=this[i(363)]&&(this[i(363)]=c,this[i(370)][i(372)](this[i(363)]),this[i(392)][i(377)][i(406)]=this[i(363)]==1?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this[i(362)][i(377)][i(406)]=this.state==2?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR)}}var _0x4aa1b7=_0x32a7;function _0x58ce(){var _=["10795etdCxj","278219ixpWhy","277851LPfHWj","342zdckAP","4544LMAXqS","66HWyLgh","48672YyDNTm","269646MaosqY","trigger","previous","4239bhpMpD","90KYyyMI","160523sNPNgS","pressDown","pressUp","input1","input2"];return _0x58ce=function(){return _},_0x58ce()}(function(_,o){for(var e=_0x32a7,i=_();[];)try{var c=parseInt(e(242))/1+-parseInt(e(248))/2+parseInt(e(246))/3*(-parseInt(e(247))/4)+-parseInt(e(241))/5*(-parseInt(e(244))/6)+parseInt(e(243))/7+-parseInt(e(245))/8*(-parseInt(e(251))/9)+-parseInt(e(252))/10*(parseInt(e(253))/11);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x58ce,174647);function _0x32a7(_,o){var e=_0x58ce();return _0x32a7=function(i,c){i=i-238;var f=e[i];return f},_0x32a7(_,o)}var Bo;class DualTouchButtonJoyListener extends TouchButtonListener{constructor(e,i,c){var f=_0x32a7;super();Ut(this,Bo,void 0);ir(this,Bo,e),this[f(239)]=i,this.input2=c,this[f(250)]=0,this[f(249)]=this[f(249)].bind(this)}[_0x4aa1b7(249)](e){var i=_0x4aa1b7;e>0&&Ye(this,Bo)[i(254)](e==1?this[i(239)]:this[i(240)]),this.previous>0&&Ye(this,Bo)[i(238)](this[i(250)]==1?this.input1:this[i(240)]),this[i(250)]=e}}Bo=new WeakMap;var _0x28ef95=_0x5423;(function(_,o){for(var e=_0x5423,i=_();[];)try{var c=parseInt(e(269))/1+-parseInt(e(252))/2+parseInt(e(237))/3*(-parseInt(e(257))/4)+parseInt(e(255))/5+-parseInt(e(235))/6+parseInt(e(268))/7*(parseInt(e(267))/8)+parseInt(e(231))/9;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x41e8,973937);function _0x5423(_,o){var e=_0x41e8();return _0x5423=function(i,c){i=i-226;var f=e[i];return f},_0x5423(_,o)}function _0x41e8(){var _=["down","qjud1","quickjoys","qja","position","mode","grid","show","height","fontFamily","primary","secondary","toggle","gridTemplateColumns","2292670ArfJWw","width","qjlr","5574510TxiHcm","#quickjoys","1638032oyCpGP","style","appendChild","fire_buttons","qjud2","right","getNostalgist","FIRE","classList","textAlign","982024gzzBOF","14KoVGeG","1121169AZftKx","gridTemplateRows","add","center","justifyContent","zIndex","display","13605156wSBJGi","100%","repeat(50, 1fr)","qjab","3866790hjlKXy","body","9RRegJr"];return _0x41e8=function(){return _},_0x41e8()}var Bi,J0,il;class QuickJoy{constructor(o){Ut(this,J0);Ut(this,Bi,void 0);ir(this,Bi,o),ur(this,J0,il).call(this)}[_0x28ef95(245)](){var o=_0x28ef95;show(o(256),o(244))}hide(){var o=_0x28ef95;hide("#quickjoy"),hide(o(256))}[_0x28ef95(243)](o){var e=_0x28ef95;const i=s("#quickjoys");i.classList[e(250)](e(248)),i[e(265)][e(250)](e(249))}}Bi=new WeakMap,J0=new WeakSet,il=function(){var o=_0x5423,e=document.createElement("div");e.id=o(240),e[o(265)][o(226)](o(249)),e[o(258)][o(242)]="fixed",e[o(258)][o(262)]="0",e[o(258)].bottom="0",e[o(258)][o(253)]="100%",e[o(258)][o(246)]=o(232),e[o(258)][o(230)]="grid",e.style.gap="2px",e[o(258)][o(229)]="7777",e[o(258)][o(266)]=o(227),e.style[o(247)]="Helvetica, Arial, sans-serif !important",e[o(258)][o(228)]=o(227),e[o(258)][o(251)]=o(233),e[o(258)][o(270)]=o(233),e[o(258)].pointerEvents="none",new DualTouchButton(e,!![],"","",void 0,o(254),new DualTouchButtonJoyListener(Ye(this,Bi)[o(263)](),"left",o(262)));let i=Ye(this,Bi).getSelectedPlatform()[o(260)];i==1?(new DualTouchButton(e,![],"","",void 0,o(239),new DualTouchButtonJoyListener(Ye(this,Bi)[o(263)](),"up",o(238))),new SingleTouchButton(e,o(264),void 0,o(241),new SingleTouchButtonJoyListener(Ye(this,Bi)[o(263)](),"b"))):i==2&&(new DualTouchButton(e,![],"","",void 0,o(261),new DualTouchButtonJoyListener(Ye(this,Bi)[o(263)](),"up",o(238))),new DualTouchButton(e,!![],"B","A",void 0,o(234),new DualTouchButtonJoyListener(Ye(this,Bi)[o(263)](),"b","a"))),e[o(258)][o(230)]="none",document[o(236)][o(259)](e)};var _0xb91555=_0x4ee8;(function(_,o){for(var e=_0x4ee8,i=_();[];)try{var c=parseInt(e(426))/1+parseInt(e(434))/2+parseInt(e(431))/3*(parseInt(e(442))/4)+parseInt(e(410))/5+-parseInt(e(425))/6*(parseInt(e(428))/7)+-parseInt(e(424))/8*(parseInt(e(419))/9)+parseInt(e(422))/10*(parseInt(e(455))/11);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x3234,525532);class TripleTouchButton{constructor(o,e,i,c,f,m,g,Te,Oe=_0xb91555(445),Ie=![]){var _e=_0xb91555,De=document.createElement(_e(429));De.classList[_e(406)](_e(432)),m!=null&&(De[_e(459)][_e(433)]=m),g!=null&&(De.id=g),De[_e(459)][_e(411)]=_e(448),De.style.flexDirection=e?_e(417):"column",De.style[_e(447)]=_e(458),De[_e(459)][_e(407)]=_e(458),De[_e(459)][_e(405)]=_e(413);var Ee=document[_e(441)](_e(429)),qe=document[_e(441)](_e(429)),Be=document[_e(441)](_e(429));Ee[_e(459)][_e(437)]=Oe,qe[_e(459)][_e(437)]=Oe,Be.style[_e(437)]=Oe,Ee.style[_e(460)]="auto",qe[_e(459)][_e(460)]=_e(421),Be[_e(459)][_e(460)]=_e(421),Ee[_e(459)][_e(453)]=QJ_LABEL_COLOR,qe.style.color=QJ_LABEL_COLOR,Be[_e(459)][_e(453)]=QJ_LABEL_COLOR,Ee[_e(459)][_e(409)]=QJ_IDLE_COLOR,qe[_e(459)][_e(409)]=QJ_IDLE_COLOR,Be[_e(459)][_e(409)]=QJ_IDLE_COLOR,Ee[_e(459)][_e(438)]=_e(457),qe[_e(459)][_e(438)]="100%",Be[_e(459)].width=_e(457),Ee.style.height="100%",qe.style[_e(452)]=_e(457),Be[_e(459)][_e(452)]="100%",e&&(Ee[_e(459)][_e(418)]=_e(402),qe[_e(459)][_e(418)]="translateY(25px)",Be[_e(459)][_e(418)]=_e(446)),[Ee,qe,Be][_e(440)](Ne=>{var Ve=_e;Ne[Ve(459)][Ve(411)]=Ve(448),Ne[Ve(459)][Ve(407)]=Ve(458),Ne[Ve(459)].alignItems=Ve(458),Ne[Ve(459)].height=Ve(457)}),o[_e(454)](De),De.appendChild(Ee),De[_e(454)](qe),De[_e(454)](Be),this[_e(420)]=De,this[_e(427)]=e,this[_e(439)]=Te,this[_e(450)]=0,this.allowSimultaneous=Ie,this[_e(416)]=null,this[_e(408)]=Ee,this.el2=qe,this[_e(404)]=Be,Ee[_e(430)]=i,qe.textContent=c,Be[_e(430)]=f,De[_e(415)]("touchstart",Ne=>this[_e(451)](Ne,!![])),De.addEventListener(_e(412),Ne=>this[_e(451)](Ne,!![])),De[_e(415)](_e(449),Ne=>{var Ve=_e;Ne[Ve(403)](),this.touch(Ne,![])})}[_0xb91555(451)](o,e){var i=_0xb91555,c=0,f,m;if(e){this.isHorizontal?(f=this[i(420)].offsetWidth,m=o[i(456)][0][i(443)]-this[i(420)][i(414)]().left):(f=this[i(420)].offsetHeight,m=o[i(456)][0][i(444)]-this[i(420)][i(414)]().top);const g=f/3;m<g?c=1:m<g*2?c=2:c=3}else c=0;c!==this[i(450)]&&(this[i(450)]=c,this.elListener[i(436)](this[i(450)]),this[i(408)][i(459)].background=this[i(450)]===1?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this[i(435)][i(459)][i(423)]=this[i(450)]===2?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this[i(404)].style[i(423)]=this[i(450)]===3?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR)}}function _0x4ee8(_,o){var e=_0x3234();return _0x4ee8=function(i,c){i=i-402;var f=e[i];return f},_0x4ee8(_,o)}function _0x3234(){var _=["3762VaqbKv","container","auto","20LsAAnv","background","10864YYfdHw","6doBRYH","196499mnGrrT","isHorizontal","977459SbokAn","div","textContent","277464gfmtuX","fast-button","gridArea","752524tTdbQF","el2","trigger","borderRadius","width","elListener","forEach","createElement","24SvkbHe","clientX","clientY","12px","translateY(0px)","alignItems","flex","touchend","state","touch","height","color","appendChild","183931hchcCZ","changedTouches","100%","center","style","pointerEvents","translateY(50px)","preventDefault","el3","gap","add","justifyContent","el1","backgroundColor","358410lJuBxL","display","touchmove","8px","getBoundingClientRect","addEventListener","simultaneousTimeout","row","transform"];return _0x3234=function(){return _},_0x3234()}var _0x3d8d4b=_0x23d3;(function(_,o){for(var e=_0x23d3,i=_();[];)try{var c=parseInt(e(408))/1+parseInt(e(413))/2*(parseInt(e(419))/3)+parseInt(e(420))/4+-parseInt(e(417))/5*(-parseInt(e(410))/6)+parseInt(e(414))/7*(parseInt(e(412))/8)+parseInt(e(421))/9+-parseInt(e(416))/10;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x359d,521692);function _0x359d(){var _=["23593520AGFYWO","42685ghUYUK","previous","3kgxMiW","1979004DPbKJn","2804139ijozRK","input1","pressUp","trigger","459915nAxCLe","bind","606kwWCjo","input2","52664kJTMsu","17382DlOumi","791yoAnMh","input3"];return _0x359d=function(){return _},_0x359d()}function _0x23d3(_,o){var e=_0x359d();return _0x23d3=function(i,c){i=i-408;var f=e[i];return f},_0x23d3(_,o)}var qo;class TripleTouchButtonJoyListener extends TouchButtonListener{constructor(e,i,c,f){var m=_0x23d3;super();Ut(this,qo,void 0);ir(this,qo,e),this[m(422)]=i,this.input2=c,this[m(415)]=f,this[m(418)]=0,this[m(424)]=this[m(424)][m(409)](this)}[_0x3d8d4b(424)](e){var i=_0x3d8d4b;e>0&&Ye(this,qo).pressDown(e===1?this[i(422)]:e===2?this.input2:this[i(415)]),this[i(418)]>0&&Ye(this,qo)[i(423)](this[i(418)]===1?this[i(422)]:this[i(418)]===2?this[i(411)]:this[i(415)]),this[i(418)]=e}}qo=new WeakMap;function _0x300c(){var _=["23841090ySekWg","grid","top","borderRadius","display","1fr 1fr","classList","ABLR","9450738JHrkGN","offsetWidth","appendChild","el4","offsetHeight","3moPtYg","touchstart","66DiCZhC","8px","createElement","textContent","gridArea","pointerEvents","touchend","state","touchmove","4897365vUMTeq","color","div","8OvnmgE","container","gap","clientY","6464016bHtsNh","auto","1fr 3fr","100%","gridTemplateRows","el2","getBoundingClientRect","style","2710512tcXFQN","Layout","el3","4919593EmUSGe","width","addEventListener","height","el1","ABCD","allowSimultaneous","justifyContent","center","backgroundColor","background","touch","fast-button","elListener","44644GEdiKs","simultaneousTimeout","changedTouches"];return _0x300c=function(){return _},_0x300c()}var _0x596654=_0x5378;(function(_,o){for(var e=_0x5378,i=_();[];)try{var c=-parseInt(e(243))/1*(-parseInt(e(202))/2)+-parseInt(e(200))/3*(parseInt(e(226))/4)+parseInt(e(211))/5+parseInt(e(254))/6+-parseInt(e(229))/7*(-parseInt(e(214))/8)+-parseInt(e(218))/9+-parseInt(e(246))/10;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x300c,950686);function _0x5378(_,o){var e=_0x300c();return _0x5378=function(i,c){i=i-198;var f=e[i];return f},_0x5378(_,o)}var Cf,Bs;const Fa=class Fa{constructor(o,e,i,c,f,m,g,Te,Oe=Fa[_0x596654(227)][_0x596654(234)],Ie="12px",_e=![]){Ut(this,Bs,void 0);var De=_0x596654;ir(this,Bs,Oe);var Ee=document[De(204)](De(213));Ee[De(252)].add(De(241)),m!=null&&(Ee[De(225)][De(206)]=m),g!=null&&(Ee.id=g),Ee[De(225)][De(250)]=De(247),Ee[De(225)].gridTemplateColumns=De(251),Oe==Fa[De(227)][De(234)]?Ee[De(225)][De(222)]=De(251):Oe==Fa.Layout[De(253)]&&(Ee.style[De(222)]=De(220)),Ee[De(225)][De(216)]=De(203);var qe=document[De(204)](De(213)),Be=document[De(204)]("div"),Ne=document[De(204)]("div"),Ve=document.createElement(De(213));qe.style[De(249)]=Ie,Be[De(225)].borderRadius=Ie,Ne[De(225)].borderRadius=Ie,Ve[De(225)][De(249)]=Ie,qe.style[De(207)]=De(219),Be[De(225)].pointerEvents=De(219),Ne[De(225)].pointerEvents=De(219),Ve.style.pointerEvents=De(219),qe.style[De(212)]=QJ_LABEL_COLOR,Be[De(225)][De(212)]=QJ_LABEL_COLOR,Ne[De(225)].color=QJ_LABEL_COLOR,Ve[De(225)][De(212)]=QJ_LABEL_COLOR,qe[De(225)][De(238)]=QJ_IDLE_COLOR,Be[De(225)][De(238)]=QJ_IDLE_COLOR,Ne[De(225)].backgroundColor=QJ_IDLE_COLOR,Ve.style[De(238)]=QJ_IDLE_COLOR;const Ue=De(221);qe[De(225)][De(230)]=Ue,Be[De(225)][De(230)]=Ue,Ne.style.width=Ue,Ve[De(225)][De(230)]=Ue,qe.style[De(232)]=Ue,Be[De(225)][De(232)]=Ue,Ne[De(225)][De(232)]=Ue,Ve[De(225)][De(232)]=Ue,[qe,Be,Ne,Ve].forEach(We=>{var He=De;We[He(225)][He(250)]="flex",We.style[He(236)]=He(237),We[He(225)].alignItems="center"}),o[De(256)](Ee),Ee[De(256)](qe),Ee[De(256)](Be),Ee.appendChild(Ne),Ee[De(256)](Ve),this[De(215)]=Ee,this[De(242)]=Te,this.state=0,this[De(235)]=_e,this[De(244)]=null,this[De(233)]=qe,this[De(223)]=Be,this.el3=Ne,this[De(198)]=Ve,qe.textContent=e,Be[De(205)]=i,Ne[De(205)]=c,Ve[De(205)]=f,Ee[De(231)](De(201),We=>this[De(240)](We,!![])),Ee[De(231)](De(210),We=>this[De(240)](We,!![])),Ee[De(231)](De(208),We=>{var He=De;We.preventDefault(),this[He(240)](We,![])})}[(Cf=_0x596654(227),_0x596654(240))](o,e){var i=_0x596654,c=0,f;if(e){f=this[i(215)][i(255)];var m=this.container[i(199)],g=o.changedTouches[0].clientX-this[i(215)][i(224)]().left,Te=o[i(245)][0][i(217)]-this.container[i(224)]()[i(248)];let Oe;Ye(this,Bs)==Fa[i(227)].ABCD?Oe=2:Oe=4,g<f/2&&Te<m/Oe?c=1:g>=f/2&&Te<m/Oe?c=2:g<f/2&&Te>=m/Oe?c=3:c=4}else c=0;c!==this[i(209)]&&(this.state=c,this[i(242)].trigger(this[i(209)]),this[i(233)][i(225)][i(239)]=this[i(209)]===1?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this[i(223)][i(225)][i(239)]=this[i(209)]===2?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this[i(228)][i(225)][i(239)]=this[i(209)]===3?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this[i(198)][i(225)][i(239)]=this[i(209)]===4?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR)}};Bs=new WeakMap,un(Fa,Cf,{ABCD:10,ABLR:50});let QuadrupleTouchButton=Fa;function _0x43c4(_,o){var e=_0x5def();return _0x43c4=function(i,c){i=i-121;var f=e[i];return f},_0x43c4(_,o)}(function(_,o){for(var e=_0x43c4,i=_();[];)try{var c=parseInt(e(122))/1*(parseInt(e(137))/2)+-parseInt(e(126))/3+parseInt(e(136))/4+parseInt(e(138))/5*(parseInt(e(128))/6)+parseInt(e(127))/7*(parseInt(e(129))/8)+-parseInt(e(121))/9+parseInt(e(124))/10*(-parseInt(e(125))/11);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x5def,217734);var No;class QuadrupleTouchButtonJoyListener extends TouchButtonListener{constructor(e,i,c,f,m){var g=_0x43c4;super();Ut(this,No,void 0);ir(this,No,e),this[g(132)]=i,this.input2=c,this[g(130)]=f,this.input4=m,this[g(135)]=0,this.trigger=this[g(131)].bind(this)}trigger(e){var i=_0x43c4;e>0&&Ye(this,No)[i(123)](e===1?this[i(132)]:e===2?this[i(134)]:e===3?this[i(130)]:this.input4),this[i(135)]>0&&Ye(this,No)[i(133)](this[i(135)]===1?this[i(132)]:this[i(135)]===2?this[i(134)]:this[i(135)]===3?this[i(130)]:this[i(139)]),this[i(135)]=e}}No=new WeakMap;function _0x5def(){var _=["216942gPshLm","63423QkLhyN","1138165jqZcJj","1722JPeGAU","8iCYaAq","input3","trigger","input1","pressUp","input2","previous","628236mlXnTy","656134iXiSdh","4190qZfBvR","input4","2649204ubrmiM","1Vyhxqz","pressDown","180LwFifd"];return _0x5def=function(){return _},_0x5def()}const _0x273750=_0x4082;(function(_,o){const e=_0x4082,i=_();for(;[];)try{if(-parseInt(e(492))/1+parseInt(e(431))/2*(parseInt(e(495))/3)+parseInt(e(489))/4+-parseInt(e(494))/5*(-parseInt(e(471))/6)+-parseInt(e(429))/7+parseInt(e(445))/8*(parseInt(e(455))/9)+parseInt(e(433))/10*(parseInt(e(461))/11)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x39bf,901933);function _0x4082(_,o){const e=_0x39bf();return _0x4082=function(i,c){return i=i-426,e[i]},_0x4082(_,o)}function _0x39bf(){const _=["target","delete","height","getSelectedPlatform","zIndex","quickshot","top","#quickshots","45NPYPIU","platform_id","button_overrides","bottom","repeat(10, 1fr)","2px","11TcUYVZ","createElement","textAlign","lastIndexOf","sqrt","gridTemplateColumns","ABLR","right","touches","pressUp","90XfvvVX","width","gridTemplateRows","overflow","cos","100%","touchmove","repeat(23, 1fr)","atan2","quickshots","left","Layout","pageY","qsabc3","substring","pressDown","remove","show","537268DYgTBp","center","666","992170AahTDp","display","130635VeOhro","4801674WqqQpV","absolute","fire_buttons","div","down","snk","hidden","hide","classList","touchcancel","7777","getNostalgist","filter","addEventListener","getBoundingClientRect","fixed","identifier","ABCD","#quickshot","Helvetica, Arial, sans-serif !important","6018418ESGUEp","forEach","2zKplzL","gap","5078120ePGlnS","block","qs4","12px","sin","none","has","style","pageX","preventDefault","fontFamily","touchstart","190856xUegfG","appendChild"];return _0x39bf=function(){return _},_0x39bf()}var Z0,aa,ci,ui,pi,Fn,oa,sa,$0,al,ec,ol,tc,sl,rc,cl,nc,ul,qs,ic,ac,Lo,q0,oc,ll,sc,fl;const cc=class cc{constructor(o){Ut(this,$0);Ut(this,ec);Ut(this,tc);Ut(this,rc);Ut(this,nc);Ut(this,Lo);Ut(this,oc);Ut(this,sc);Ut(this,aa,void 0);Ut(this,ci,void 0);Ut(this,ui,void 0);Ut(this,pi,void 0);Ut(this,Fn,void 0);Ut(this,oa,null);Ut(this,sa,new Set);Ut(this,qs,o=>{const e=_0x273750;o[e(442)]();for(let i of o.changedTouches)i[e(511)]===Ye(this,oa)&&(ur(this,Lo,q0).call(this,[]),Ye(this,ui)&&Ye(this,pi)&&(Ye(this,ui).remove(),Ye(this,pi)[e(487)]()),ir(this,oa,null))});Ut(this,ic,o=>{const e=_0x273750;if(o[e(442)](),Ye(this,oa)===null){for(let i of o.touches)if(i[e(447)].id===e(452)){ir(this,oa,i[e(511)]),ur(this,nc,ul).call(this,i);break}}});Ut(this,ac,o=>{const e=_0x273750;o[e(442)]();for(let i of o[e(469)])if(i[e(511)]===Ye(this,oa)){let c=Ye(this,ui)[e(509)](),f={x:c[e(481)]+c.width/2,y:c.top+c.height/2},m=ur(this,tc,sl).call(this,f,{x:i.pageX,y:i[e(483)]});if(m>c[e(472)]/2){let Oe=Math[e(479)](i[e(483)]-f.y,i[e(441)]-f.x);Ye(this,ui).style[e(481)]=i[e(441)]-c[e(472)]/2-Math[e(475)](Oe)*c[e(472)]/2+"px",Ye(this,ui)[e(440)][e(453)]=i[e(483)]-c[e(449)]/2-Math[e(437)](Oe)*c[e(449)]/2+"px"}Ye(this,pi)[e(440)][e(481)]=i[e(441)]-25+"px",Ye(this,pi).style[e(453)]=i.pageY-25+"px";let g=Math[e(479)](i.pageY-f.y,i[e(441)]-f.x),Te=g*(180/Math.PI);if(Te<0&&(Te+=360),m>Ye(cc,Z0)){let Oe=ur(this,rc,cl).call(this,Te);ur(this,Lo,q0).call(this,Oe)}else ur(this,Lo,q0).call(this,[])}});const e=_0x4082;ir(this,aa,o),ir(this,ci,o[e(506)]()),ur(this,ec,ol).call(this),ir(this,sa,new Set)}[_0x273750(488)](){const o=_0x273750;show("#quickshots","grid"),show(o(427),o(434))}[_0x273750(502)](){const o=_0x273750;hide(o(427)),hide(o(454))}};Z0=new WeakMap,aa=new WeakMap,ci=new WeakMap,ui=new WeakMap,pi=new WeakMap,Fn=new WeakMap,oa=new WeakMap,sa=new WeakMap,$0=new WeakSet,al=function(o){const e=_0x4082;if(o==null||o==null)return"";const i=o[e(464)](".");return i===-1?o:o[e(485)](0,i)},ec=new WeakSet,ol=function(){const o=_0x4082;var e=document[o(462)](o(498));e.id=o(480),e[o(440)][o(493)]="none",e[o(440)].position=o(510),e[o(440)].right="0",e[o(440)][o(458)]="0",e[o(440)].width=o(476),e[o(440)][o(449)]=o(476),e[o(440)].display=o(438),e.style[o(432)]=o(460),e.style.zIndex=o(505),e.style[o(463)]=o(490),e.style[o(443)]=o(428),e[o(440)].justifyContent=o(490),e[o(440)][o(466)]=o(478),e[o(440)][o(473)]=o(459),e[o(440)].pointerEvents=o(438);let i=Ye(this,aa).getSelectedPlatform()[o(497)],c=Ye(this,aa)[o(450)]()[o(456)],f=Ye(this,aa).getSelectedPlatform()[o(457)],m=ur(this,$0,al).call(this,Ye(this,aa).getProgramName());f&&f[m]&&(i=f[m]),i==1?new SingleTouchButton(e,"A",void 0,"qsa",new SingleTouchButtonJoyListener(Ye(this,ci),"b")):i==2?c==o(500)?new DualTouchButton(e,!![],"A","B",void 0,"qsab",new DualTouchButtonJoyListener(Ye(this,ci),"b","a"),"12px"):new DualTouchButton(e,!![],"B","A",void 0,"qsab",new DualTouchButtonJoyListener(Ye(this,ci),"b","a"),o(436)):i==3?c==o(500)?new TripleTouchButton(e,!![],"A","B","C",void 0,o(484),new TripleTouchButtonJoyListener(Ye(this,ci),"b","a","y")):new TripleTouchButton(e,!![],"A","B","C",void 0,o(484),new TripleTouchButtonJoyListener(Ye(this,ci),"y","b","a")):i==4&&(c=="gba"?new QuadrupleTouchButton(e,"L","R","B","A",void 0,o(435),new QuadrupleTouchButtonJoyListener(Ye(this,ci),"l","r","b","a"),QuadrupleTouchButton.Layout[o(467)]):c=="snk"&&new QuadrupleTouchButton(e,"C","D","A","B",void 0,"qsab4",new QuadrupleTouchButtonJoyListener(Ye(this,ci),"x","y","a","b"),QuadrupleTouchButton[o(482)][o(426)])),document.body.appendChild(e),ir(this,Fn,document[o(462)](o(498))),Ye(this,Fn).id="quickshot",Ye(this,Fn).style[o(474)]=o(501),Ye(this,Fn).style.position=o(496),Ye(this,Fn).style.right="0",Ye(this,Fn)[o(440)][o(458)]="0",Ye(this,Fn).style[o(472)]=o(476),Ye(this,Fn)[o(440)][o(449)]=o(476),Ye(this,Fn).style[o(451)]=o(491),Ye(this,Fn)[o(440)][o(493)]=o(438),document.body.appendChild(Ye(this,Fn)),Ye(this,Fn)[o(508)](o(444),Ye(this,ic)),Ye(this,Fn)[o(508)](o(477),Ye(this,ac)),Ye(this,Fn).addEventListener("touchend",Ye(this,qs)),Ye(this,Fn)[o(508)](o(504),Ye(this,qs))},tc=new WeakSet,sl=function(o,e){const i=_0x273750;let c=e.x-o.x,f=e.y-o.y;return Math[i(465)](c*c+f*f)},rc=new WeakSet,cl=function(o){const e=_0x273750;return o>=337.5||o<22.5?[e(468)]:o>=22.5&&o<67.5?[e(468),"down"]:o>=67.5&&o<112.5?[e(499)]:o>=112.5&&o<157.5?[e(499),e(481)]:o>=157.5&&o<202.5?[e(481)]:o>=202.5&&o<247.5?["left","up"]:o>=247.5&&o<292.5?["up"]:["up",e(468)]},nc=new WeakSet,ul=function(o){const e=_0x273750;ir(this,ui,document[e(462)]("div")),Ye(this,ui)[e(503)].add("joystick-base"),Ye(this,ui).style[e(481)]=o[e(441)]-50+"px",Ye(this,ui)[e(440)][e(453)]=o[e(483)]-50+"px",Ye(this,Fn)[e(446)](Ye(this,ui)),ir(this,pi,document.createElement("div")),Ye(this,pi).classList.add("joystick-thumb"),Ye(this,pi)[e(440)].left=o[e(441)]-25+"px",Ye(this,pi)[e(440)][e(453)]=o[e(483)]-25+"px",Ye(this,Fn).appendChild(Ye(this,pi))},qs=new WeakMap,ic=new WeakMap,ac=new WeakMap,Lo=new WeakSet,q0=function(o){const e=_0x273750,i=new Set(o),c=new Set([...Ye(this,sa)][e(507)](m=>!i[e(439)](m))),f=new Set([...i][e(507)](m=>!Ye(this,sa)[e(439)](m)));c[e(430)](m=>{const g=e;ur(this,sc,fl).call(this,m),Ye(this,sa)[g(448)](m)}),f[e(430)](m=>{ur(this,oc,ll).call(this,m),Ye(this,sa).add(m)})},oc=new WeakSet,ll=function(o){const e=_0x273750;Ye(this,ci)[e(486)](o)},sc=new WeakSet,fl=function(o){const e=_0x273750;Ye(this,ci)[e(470)](o)},Ut(cc,Z0,30);let QuickShot=cc;var _0x22eaa1=_0x2aca;(function(_,o){for(var e=_0x2aca,i=_();[];)try{var c=-parseInt(e(217))/1+parseInt(e(198))/2*(-parseInt(e(194))/3)+parseInt(e(208))/4+-parseInt(e(179))/5*(parseInt(e(202))/6)+-parseInt(e(184))/7+-parseInt(e(181))/8*(parseInt(e(176))/9)+parseInt(e(173))/10*(parseInt(e(183))/11);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x4248,668016);function _0x4248(){var _=["display","right","129eLHdeM","100%","lmb","pointerEvents","39364hgOMXR","preventDefault","canvas","changedTouches","24YAwENo","addEventListener","appendChild","bottom","LMB","dispatchEvent","2232856SGUGhx","#mousepads","clientY","zIndex","mousemove","none","stopPropagation","grid","clientX","367302ZOohcO","RMB","125","fixed","F14","10JYvWee","position","createElement","63DTPSvx","auto","F13","729380CBCMOo","target","146992YceJpr","7777","28538543SDtqil","3912027lvfOYQ","width","identifier","body","mousepads","show","style","hide"];return _0x4248=function(){return _},_0x4248()}function _0x2aca(_,o){var e=_0x4248();return _0x2aca=function(i,c){i=i-173;var f=e[i];return f},_0x2aca(_,o)}var Ba,Mo,Ns,qi,uc,dl,lc,hl;class Mousepad{constructor(){Ut(this,uc);Ut(this,lc);Ut(this,Ba,-1);Ut(this,Mo,-1);Ut(this,Ns,1);Ut(this,qi,null);ur(this,uc,dl).call(this)}[_0x22eaa1(189)](){var o=_0x22eaa1;show(o(209),o(215))}[_0x22eaa1(191)](){var o=_0x22eaa1;hide(o(209))}}Ba=new WeakMap,Mo=new WeakMap,Ns=new WeakMap,qi=new WeakMap,uc=new WeakSet,dl=function(){var o=_0x2aca;const e=document[o(175)]("div");e.id=o(188),e.style[o(174)]=o(220),e.style[o(193)]="0",e[o(190)][o(205)]="0",e[o(190)][o(185)]=o(195),e[o(190)].height=o(195),e[o(190)][o(192)]=o(213),e.style[o(211)]=o(182),e[o(190)][o(197)]=o(177),e.style.touchAction=o(213);const i=(c,f)=>{var m=o;if(f===![])ir(this,Ba,-1),ir(this,Mo,-1),ir(this,qi,null);else{var g=c[m(201)][0],Te=g[m(216)]*Ye(this,Ns),Oe=g[m(210)]*Ye(this,Ns);Ye(this,Ba)!=-1&&Ye(this,qi)===g[m(186)]&&ur(this,lc,hl).call(this,Te-Ye(this,Ba),Oe-Ye(this,Mo)),ir(this,Ba,Te),ir(this,Mo,Oe)}};e[o(203)]("touchstart",c=>{var f=o,m=c.changedTouches[0];const g=c[f(180)].id;!g||g!==f(196)&&g!=="rmb"?(ir(this,qi,m[f(186)]),i(c,!![])):(c[f(214)](),c[f(199)]())}),e[o(203)]("touchmove",c=>{var f=o,m=c.changedTouches[0];Ye(this,qi)!==null&&Ye(this,qi)===m[f(186)]&&i(c,!![])}),e[o(203)]("touchend",c=>{var f=o,m=c.changedTouches[0];Ye(this,qi)!==null&&Ye(this,qi)===m.identifier&&(c[f(199)](),i(c,![]))}),e[o(203)]("touchcancel",c=>i(c,![])),new SingleTouchButton(e,o(206),void 0,"lmb",new SingleTouchButtonKbListener("F13",o(178),"124",s("canvas"))),new SingleTouchButton(e,o(218),void 0,"rmb",new SingleTouchButtonKbListener(o(221),"F14",o(219),s(o(200)))),document[o(187)][o(204)](e)},lc=new WeakSet,hl=function(o,e){var i=_0x2aca;const c=new MouseEvent(i(212),{movementX:o,movementY:e,bubbles:!![],cancelable:!![]});s(i(200))[i(207)](c)};function _0x3332(_,o){var e=_0x376c();return _0x3332=function(i,c){i=i-394;var f=e[i];return f},_0x3332(_,o)}var _0x126287=_0x3332;(function(_,o){for(var e=_0x3332,i=_();[];)try{var c=-parseInt(e(413))/1+parseInt(e(396))/2+-parseInt(e(404))/3*(-parseInt(e(398))/4)+parseInt(e(409))/5*(-parseInt(e(408))/6)+parseInt(e(394))/7+parseInt(e(405))/8*(-parseInt(e(401))/9)+parseInt(e(403))/10;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x376c,139399);var kf,qa,Cs;const Pa=class Pa{constructor(){Ut(this,qa)}[(kf=_0x126287(400),_0x126287(407))](){var o=_0x126287;hide(o(406)),document[o(395)](o(412),ur(this,qa,Cs)),document[o(395)]("touchstart",ur(this,qa,Cs)),clearTimeout(Pa[o(400)])}[_0x126287(399)](){var o=_0x126287;clearTimeout(Pa[o(400)]),document[o(411)](o(412),ur(this,qa,Cs)),document[o(411)](o(410),ur(this,qa,Cs)),show("#fastui",o(402))}};qa=new WeakSet,Cs=function(o){var e=_0x126287;o[e(397)](),clearTimeout(Pa.timeoutId),show(e(406),e(402)),Pa[e(400)]=setTimeout(()=>{hide("#fastui")},2e3)},un(Pa,kf);let Hideaway=Pa;function _0x376c(){var _=["addEventListener","458810WGFAXl","preventDefault","12YHWHaJ","hide","timeoutId","45324WotPYK","grid","1674890AintTH","245259Xbxjuq","136mVKAuh","#fastui","show","54EVHFQO","153735imNGoJ","touchstart","removeEventListener","click","176579MCgoAQ","253120xoUZSj"];return _0x376c=function(){return _},_0x376c()}const _0xa6ea23=_0x5e0a;(function(_,o){const e=_0x5e0a,i=_();for(;[];)try{if(parseInt(e(320))/1*(parseInt(e(287))/2)+-parseInt(e(377))/3+parseInt(e(271))/4*(parseInt(e(301))/5)+-parseInt(e(286))/6*(-parseInt(e(285))/7)+-parseInt(e(267))/8*(-parseInt(e(289))/9)+parseInt(e(349))/10*(-parseInt(e(275))/11)+-parseInt(e(259))/12===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x43dc,338940);function _0x5e0a(_,o){const e=_0x43dc();return _0x5e0a=function(i,c){return i=i-249,e[i]},_0x5e0a(_,o)}var sn,Ls,ca,la,Gi,fa,Of,Tf,Df,fc,xl,Rf;const Fr=class Fr{constructor(o,e){Ut(this,fc);Ut(this,sn,void 0);Ut(this,Ls,void 0);ir(this,sn,o),ir(this,Ls,e)}[(Of=_0xa6ea23(385),Tf=_0xa6ea23(316),Df=_0xa6ea23(384),_0xa6ea23(337))](){const o=_0xa6ea23;var e=document[o(331)]("div");e.id=o(374),e[o(352)].display="none",new SingleTouchButton(e,'<span style="font-size: 50%;">REWIND</span>',void 0,o(256),new RewindButtonListener(Ye(this,sn)[o(336)]()),FAST_BTN_RADIUS),new SingleTouchButton(e,'<span style="font-size: 50%;">FFD</span>',void 0,o(298),new CommandButtonListener("FAST_FORWARD",Ye(this,sn)[o(336)]()),FAST_BTN_RADIUS),new SingleTouchButton(e,'<span style="font-size: 50%;">QUIT</span>',void 0,o(309),new ResetButtonListener,FAST_BTN_RADIUS),!Ye(this,sn)[o(335)]()[o(328)]&&new SingleTouchButton(e,o(315),void 0,o(249),new SaveButtonListener(Ye(this,sn)),FAST_BTN_RADIUS),Ye(this,sn)[o(335)]()[o(270)]&&new SingleTouchButton(e,o(373),void 0,o(281),new KbListener(Ye(this,Ls)),FAST_BTN_RADIUS),ur(this,fc,xl).call(this,e);var i=document[o(331)](o(250));i.id="fastui-msg",i[o(352)].display=o(294),e[o(342)](i),document[o(353)].appendChild(e)}initDesktopUI(){const o=_0xa6ea23,e=document.getElementById(o(354));Ye(this,sn)[o(335)]()[o(328)]&&(document.getElementById(o(317))[o(352)].display=o(294));let i;function c(Oe){const Ie=o;e[Ie(305)](Ie(387),function(){const _e=Ie;e.classList[_e(277)](_e(367)),clearTimeout(i)}),e.addEventListener(Ie(279),function(){i=setTimeout(function(){e[_0x5e0a(282)].remove("visible")},1e3)})}function f(Oe,Ie){const _e=o;return Oe[_e(380)]===_e(321)?(c(),!![]):Oe[_e(284)]&&Oe.querySelector("canvas")?(c(),!![]):![]}new MutationObserver(function(Oe){const Ie=o;for(const _e of Oe)if(_e[Ie(370)]&&_e[Ie(370)][Ie(252)]>0){for(const De of _e[Ie(370)])if(f(De))return}})[o(339)](document[o(353)],{childList:!![],subtree:!![]}),c();let g=null,Te=this;addButtonEventListeners(s(o(366)),Oe=>{const Ie=o;Oe&&(document[Ie(341)]?document[Ie(356)]()[Ie(263)](()=>{const _e=Ie;EnvironmentManager[_e(276)](Ye(this,sn)[_e(336)]())})[Ie(371)](_e=>{console[Ie(340)](_e)}):document[Ie(344)][Ie(264)]()[Ie(263)](()=>{EnvironmentManager.resizeCanvas(Ye(this,sn).getNostalgist())}).catch(_e=>{console[Ie(340)](_e)}))}),addButtonEventListeners(s("#desktopUiSave"),Oe=>{const Ie=o;Oe?Ye(this,sn)[Ie(326)]()[Ie(263)](De=>{console[Ie(340)](De)})[Ie(371)](De=>{const Ee=Ie;console[Ee(291)](Ee(261),De)}):clearInterval(g)}),addButtonEventListeners(s(o(278)),Oe=>{const Ie=o;Oe?(Ye(Te,sn)[Ie(336)]()[Ie(343)](Ie(265)),g=setInterval(()=>{const _e=Ie;Ye(Te,sn)[_e(336)]().sendCommand("REWIND")},5)):clearInterval(g)}),addButtonEventListeners(s("#desktopUiBack"),Oe=>{location.reload()}),this[o(310)](),Ye(this,sn)[o(335)]()[o(330)]&&s("#canvas")[o(305)](o(334),()=>{const Oe=o;s("#canvas")[Oe(379)]()})}[_0xa6ea23(258)](){const o=_0xa6ea23,e=Ye(this,sn)[o(335)]()[o(313)];if(e[o(252)]==1)return;let i=0;new SingleTouchButton(s(o(257)),o(318),void 0,o(292),new class extends TouchButtonListener{constructor(){super()}[o(302)](m){const g=o;if(m)if(Fr[g(384)])Fr.hideKeyboard(),Fr[g(311)](),Fr[g(384)]=![],Fr[g(347)]();else if(Fr[g(316)])Fr[g(308)](),Fr[g(311)](),Fr[g(384)]=![],Fr[g(347)]();else{i=(i+1)%e.length;const Te=e[i];Fr.toggleJoystick(Te,!![])}}},FAST_BTN_RADIUS);const c=Ye(this,sn)[o(335)]()[o(330)];if(c==null||c[o(252)]==0)return;let f=0;new SingleTouchButton(s(o(257)),o(269),void 0,o(378),new class extends TouchButtonListener{constructor(){super()}[o(302)](m){const g=o;if(m)if(Fr[g(384)]=!![],Fr[g(384)]){f=(f+1)%c[g(252)];const Te=c[f];Fr.toggleMousePad(Te,!![])}else{Fr[g(308)](),Fr[g(346)]();const Te=c[f];Fr[g(365)](Te,!![])}}},FAST_BTN_RADIUS)}[_0xa6ea23(310)](){const o=_0xa6ea23,e=document[o(268)](o(283)),i=document[o(268)](o(386)),c=Ye(this,sn)[o(336)](),f=[];let m=Object[o(348)](Ye(this,sn)[o(335)]()[o(293)]);if(m[o(252)]>0)for(let De=0;De<m[o(252)];De++){let Ee=m[De],qe=Ye(this,sn)[o(335)]()[o(293)][Ee][o(280)],Be=Ye(this,sn)[o(335)]().additional_buttons[Ee].keyCode,Ne=Ye(this,sn)[o(335)]()[o(293)][Ee][o(304)];f[o(364)]({name:qe,action:()=>{const Ve=o;Ne?Oe(Ne.key,Ne[Ve(303)],Ne[Ve(304)][Ve(355)]):c.press({button:Be,player:1,time:100})}})}else e.style[o(288)]=o(294);function g(De,Ee,qe){const Be=o;let Ne=new KeyboardEvent(Be(273),{key:De,code:Ee,keyCode:qe,charCode:qe,bubbles:!![],cancelable:!![]});document[Be(351)](Ne)}function Te(De,Ee,qe){const Be=o;let Ne=new KeyboardEvent(Be(299),{key:De,code:Ee,keyCode:qe,charCode:qe,bubbles:!![],cancelable:!![]});document[Be(351)](Ne)}function Oe(De,Ee,qe){g(De,Ee,qe),setTimeout(()=>{Te(De,Ee,qe)},50)}function Ie(){const De=o;i[De(376)]="",f[De(262)](Ee=>{const qe=De,Be=document[qe(331)]("div");Be[qe(251)]=Ee[qe(266)],Be[qe(307)]=qe(357),Be[qe(305)](qe(334),Ee[qe(329)]),i[qe(342)](Be)})}function _e(){const De=o;if(i[De(352)][De(288)]==="none"||i[De(352)][De(288)]===""){const Ee=e[De(323)]();i[De(352)][De(350)]=De(359),i[De(352)].padding=De(369),i.style[De(361)]=Ee[De(381)]+"px",i[De(352)].left=Ee.left+"px",i[De(352)][De(288)]=De(322),i[De(352)][De(295)]=De(253)}else i[De(352)][De(288)]=De(294)}e[o(305)](o(334),_e),Ie()}initQuickJoy(){ir(Fr,ca,new QuickJoy(Ye(this,sn)))}[_0xa6ea23(360)](){ir(Fr,la,new QuickShot(Ye(this,sn)))}[_0xa6ea23(324)](){ir(Fr,fa,new Mousepad(Ye(this,sn)))}[_0xa6ea23(297)](){ir(Fr,Gi,new Hideaway)}static hideJoystick(){const o=_0xa6ea23;Fr[o(306)]==JOYSTICK_TOUCH_MODE[o(382)]&&Ye(this,Gi).hide(),s(o(314))[o(352)][o(288)]=o(294),s(o(319))[o(352)][o(288)]=o(294)}static[_0xa6ea23(347)](){const o=_0xa6ea23;Fr[o(306)]==JOYSTICK_TOUCH_MODE[o(254)]?s(o(314))[o(352)][o(288)]=o(362):Fr[o(306)]==JOYSTICK_TOUCH_MODE[o(290)]?s("#quickjoys")[o(352)].display=o(362):Fr.currentJoyTouchMode==JOYSTICK_TOUCH_MODE[o(382)]}static[_0xa6ea23(308)](){const o=_0xa6ea23;Fr[o(316)]=![],s(o(312))[o(352)][o(288)]="none"}static[_0xa6ea23(333)](){const o=_0xa6ea23;s(o(312)).style[o(288)]=o(322)}static hideMousepad(){const o=_0xa6ea23;s(o(375))[o(352)][o(288)]=o(294)}static showMousepad(){const o=_0xa6ea23;s("#mousepads")[o(352)].display=o(362)}static[(Rf=_0xa6ea23(365),_0xa6ea23(345))](o,e=null){const i=_0xa6ea23,c=document[i(268)]("fastui-msg");function f(){const m=i;c[m(352)][m(368)]="0",setTimeout(()=>c[m(352)][m(288)]=m(294),250)}if(c[i(332)]&&(clearTimeout(c[i(332)]),c.fadeOutTimeout=null),o===null){f();return}c[i(251)]=o,c[i(352)].display=i(362),setTimeout(()=>c[i(352)][i(368)]="1",0),e!==null&&(c.fadeOutTimeout=setTimeout(()=>{const m=i;f(),c[m(332)]=null},e))}};sn=new WeakMap,Ls=new WeakMap,ca=new WeakMap,la=new WeakMap,Gi=new WeakMap,fa=new WeakMap,fc=new WeakSet,xl=function(o){const e=_0xa6ea23;let i=1,c=Object.keys(Ye(this,sn)[e(335)]()[e(293)]);c[e(327)]();for(let f=0;f<c[e(252)];f++){let m=c[f],g=Ye(this,sn)[e(335)]().additional_buttons[m][e(280)],Te=Ye(this,sn).getSelectedPlatform()[e(293)][m][e(355)],Oe=Ye(this,sn)[e(335)]()[e(293)][m].key,Ie;Oe?Ie=new SingleTouchButtonKbListener(Oe.key,Oe[e(303)],Oe.keyCode):Ie=new SingleTouchButtonJoyListener(Ye(this,sn)[e(336)](),Te),new SingleTouchButton(o,e(296)+g+e(383),void 0,e(325)+i,Ie,FAST_BTN_RADIUS),i+=1}},Ut(Fr,ca,void 0),Ut(Fr,la,void 0),Ut(Fr,Gi,void 0),Ut(Fr,fa,void 0),un(Fr,"currentJoyTouchMode"),un(Fr,Of),un(Fr,Tf),un(Fr,Df),un(Fr,Rf,(o,e)=>{const i=_0xa6ea23;if(!(EnvironmentManager[i(255)]()||EnvironmentManager[i(363)]()))switch(o){case MOUSE_TOUCH_MODE[i(372)]:Fr[i(384)]=!![],Fr.currentMouseTouchMode=MOUSE_TOUCH_MODE[i(372)],Ye(Fr,ca)[i(272)](),Ye(Fr,la).hide(),Ye(Fr,Gi).hide(),Ye(Fr,fa)[i(260)]();break}}),un(Fr,"toggleJoystick",(o,e)=>{const i=_0xa6ea23;if(!(EnvironmentManager[i(255)]()||EnvironmentManager[i(363)]()))switch(o){case JOYSTICK_TOUCH_MODE.QUICKJOY_PRIMARY:Fr[i(306)]=JOYSTICK_TOUCH_MODE.QUICKJOY_PRIMARY,e&&Fr.osdMessage(i(274),1e3),Ye(Fr,Gi).hide(),Ye(Fr,la)[i(272)](),Ye(Fr,fa)[i(272)](),Ye(Fr,ca)[i(260)]();break;case JOYSTICK_TOUCH_MODE[i(254)]:Fr.currentJoyTouchMode=JOYSTICK_TOUCH_MODE[i(254)],e&&Fr.osdMessage(i(300),1e3),Ye(Fr,ca)[i(272)](),Ye(Fr,fa)[i(272)](),Ye(Fr,Gi).hide(),Ye(Fr,la)[i(260)]();break;case JOYSTICK_TOUCH_MODE[i(382)]:Fr.currentJoyTouchMode=JOYSTICK_TOUCH_MODE.HIDEAWAY,e&&Fr[i(345)]("Auto Hide",1e3),Ye(Fr,ca)[i(272)](),Ye(Fr,la)[i(272)](),Ye(Fr,fa).hide(),Ye(Fr,Gi)[i(260)]();break}});let UiManager=Fr;var Vo,Ms,Vs;const Ts=class Ts extends TouchButtonListener{constructor(e){super();Ut(this,Vo,void 0);Ut(this,Ms,void 0);ir(this,Vo,e)}trigger(e){e?(Ye(this,Vo).sendCommand(Ye(Ts,Vs)),ir(this,Ms,setInterval(()=>{Ye(this,Vo).sendCommand(Ye(Ts,Vs))},5))):clearInterval(Ye(this,Ms))}};Vo=new WeakMap,Ms=new WeakMap,Vs=new WeakMap,Ut(Ts,Vs,_0xa6ea23(265));let RewindButtonListener=Ts;var Us,zs;class CommandButtonListener extends TouchButtonListener{constructor(e,i,c){const f=_0xa6ea23;super();Ut(this,Us,void 0);Ut(this,zs,void 0);ir(this,Us,e),ir(this,zs,i),this[f(358)]=c}trigger(e){const i=_0xa6ea23;Ye(this,zs)[i(343)](Ye(this,Us))}}Us=new WeakMap,zs=new WeakMap;var Hs;class SaveButtonListener extends TouchButtonListener{constructor(e){super();Ut(this,Hs,void 0);ir(this,Hs,e)}async[_0xa6ea23(302)](e){const i=_0xa6ea23;e&&Ye(this,Hs)[i(326)]()}}Hs=new WeakMap;function _0x43dc(){const _=["QuickJoy","88wpPPMa","resizeCanvas","add","#desktopUiRewind","mouseleave","label","fastkb","classList","desktopUiControls","querySelector","7BIpDzR","3956916kvvaDd","2bzJmBL","display","18XTQoXH","QUICKJOY_PRIMARY","error","fastjoy","additional_buttons","none","fontSize",'<span style="font-size: 50%;">',"initHideaway","fastffd","keyup","QuickShot","5wDZJoM","trigger","code","key","addEventListener","currentJoyTouchMode","className","hideKeyboard","fastmenu","initControlsButton","hideMousepad","#keyboardContainer","touch_controllers","#quickshots",'<span style="font-size: 50%;">SAVE</span>',"keyboardVisible","desktopUiSave",'<span style="font-size: 50%;">JOY</span>',"#quickjoys","667113WlMESJ","CANVAS","block","getBoundingClientRect","initMousepad","fast","saveState","reverse","savestates_disabled","action","mouse_controllers","createElement","fadeOutTimeout","showKeyboard","click","getSelectedPlatform","getNostalgist","initFastUI","reload","observe","log","fullscreenElement","appendChild","sendCommand","documentElement","osdMessage","hideJoystick","showJoystick","keys","602180auziDK","position","dispatchEvent","style","body","desktopUi","keyCode","exitFullscreen","menu-item","message","absolute","initQuickshot","top","grid","isQuest","push","toggleMousePad","#desktopUiFs","visible","opacity","8px 16px","addedNodes","catch","TRACKPAD_BUTTONS",'<span style="font-size: 50%;">KB</span>',"fastui","#mousepads","innerHTML","1773588NJNDVm","fastmouse","requestPointerLock","nodeName","bottom","HIDEAWAY","</span>","mousepadVisible","currentMouseTouchMode","controlsMenu","mousemove","fastsave","div","textContent","length","10pt","QUICKSHOT_DYNAMIC","isDesktop","fastrewind","#fastui","initTouchControllerMenu","8213640iimnvd","show","Error resolving state:","forEach","then","requestFullscreen","REWIND","name","1451560BaIdKI","getElementById",'<span style="font-size: 50%;">MOUSE</span>',"keyboard","1627444olfPus","hide","keydown"];return _0x43dc=function(){return _},_0x43dc()}var Ws;class KbListener extends TouchButtonListener{constructor(e){super();Ut(this,Ws,void 0);ir(this,Ws,e)}trigger(e){const i=_0xa6ea23;e&&(UiManager[i(316)]=!![],UiManager[i(346)](),UiManager.hideMousepad(),UiManager[i(333)](),Ye(this,Ws).showTouchKeyboard())}}Ws=new WeakMap;class ResetButtonListener extends TouchButtonListener{constructor(){super()}[_0xa6ea23(302)](o){o&&location[_0xa6ea23(338)]()}}var lib={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z=Symbol.iterator;function A(_){return _===null||typeof _!="object"?null:(_=z&&_[z]||_["@@iterator"],typeof _=="function"?_:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,D$1={};function E(_,o,e){this.props=_,this.context=o,this.refs=D$1,this.updater=e||B}E.prototype.isReactComponent={};E.prototype.setState=function(_,o){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,o,"setState")};E.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function F$1(){}F$1.prototype=E.prototype;function G$1(_,o,e){this.props=_,this.context=o,this.refs=D$1,this.updater=e||B}var H=G$1.prototype=new F$1;H.constructor=G$1;C(H,E.prototype);H.isPureReactComponent=!0;var I$1=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M(_,o,e){var i,c={},f=null,m=null;if(o!=null)for(i in o.ref!==void 0&&(m=o.ref),o.key!==void 0&&(f=""+o.key),o)J$1.call(o,i)&&!L$1.hasOwnProperty(i)&&(c[i]=o[i]);var g=arguments.length-2;if(g===1)c.children=e;else if(1<g){for(var Te=Array(g),Oe=0;Oe<g;Oe++)Te[Oe]=arguments[Oe+2];c.children=Te}if(_&&_.defaultProps)for(i in g=_.defaultProps,g)c[i]===void 0&&(c[i]=g[i]);return{$$typeof:l$1,type:_,key:f,ref:m,props:c,_owner:K$1.current}}function N$1(_,o){return{$$typeof:l$1,type:_.type,key:o,ref:_.ref,props:_.props,_owner:_._owner}}function O$1(_){return typeof _=="object"&&_!==null&&_.$$typeof===l$1}function escape$1(_){var o={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(e){return o[e]})}var P=/\/+/g;function Q$1(_,o){return typeof _=="object"&&_!==null&&_.key!=null?escape$1(""+_.key):o.toString(36)}function R$1(_,o,e,i,c){var f=typeof _;(f==="undefined"||f==="boolean")&&(_=null);var m=!1;if(_===null)m=!0;else switch(f){case"string":case"number":m=!0;break;case"object":switch(_.$$typeof){case l$1:case n:m=!0}}if(m)return m=_,c=c(m),_=i===""?"."+Q$1(m,0):i,I$1(c)?(e="",_!=null&&(e=_.replace(P,"$&/")+"/"),R$1(c,o,e,"",function(Oe){return Oe})):c!=null&&(O$1(c)&&(c=N$1(c,e+(!c.key||m&&m.key===c.key?"":(""+c.key).replace(P,"$&/")+"/")+_)),o.push(c)),1;if(m=0,i=i===""?".":i+":",I$1(_))for(var g=0;g<_.length;g++){f=_[g];var Te=i+Q$1(f,g);m+=R$1(f,o,e,Te,c)}else if(Te=A(_),typeof Te=="function")for(_=Te.call(_),g=0;!(f=_.next()).done;)f=f.value,Te=i+Q$1(f,g++),m+=R$1(f,o,e,Te,c);else if(f==="object")throw o=String(_),Error("Objects are not valid as a React child (found: "+(o==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":o)+"). If you meant to render a collection of children, use an array instead.");return m}function S(_,o,e){if(_==null)return _;var i=[],c=0;return R$1(_,i,"","",function(f){return o.call(e,f,c++)}),i}function T(_){if(_._status===-1){var o=_._result;o=o(),o.then(function(e){(_._status===0||_._status===-1)&&(_._status=1,_._result=e)},function(e){(_._status===0||_._status===-1)&&(_._status=2,_._result=e)}),_._status===-1&&(_._status=0,_._result=o)}if(_._status===1)return _._result.default;throw _._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S,forEach:function(_,o,e){S(_,function(){o.apply(this,arguments)},e)},count:function(_){var o=0;return S(_,function(){o++}),o},toArray:function(_){return S(_,function(o){return o})||[]},only:function(_){if(!O$1(_))throw Error("React.Children.only expected to receive a single React element child.");return _}};react_production_min.Component=E;react_production_min.Fragment=p;react_production_min.Profiler=r;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$1;react_production_min.cloneElement=function(_,o,e){if(_==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_+".");var i=C({},_.props),c=_.key,f=_.ref,m=_._owner;if(o!=null){if(o.ref!==void 0&&(f=o.ref,m=K$1.current),o.key!==void 0&&(c=""+o.key),_.type&&_.type.defaultProps)var g=_.type.defaultProps;for(Te in o)J$1.call(o,Te)&&!L$1.hasOwnProperty(Te)&&(i[Te]=o[Te]===void 0&&g!==void 0?g[Te]:o[Te])}var Te=arguments.length-2;if(Te===1)i.children=e;else if(1<Te){g=Array(Te);for(var Oe=0;Oe<Te;Oe++)g[Oe]=arguments[Oe+2];i.children=g}return{$$typeof:l$1,type:_.type,key:c,ref:f,props:i,_owner:m}};react_production_min.createContext=function(_){return _={$$typeof:u,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_.Provider={$$typeof:t,_context:_},_.Consumer=_};react_production_min.createElement=M;react_production_min.createFactory=function(_){var o=M.bind(null,_);return o.type=_,o};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(_){return{$$typeof:v,render:_}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(_){return{$$typeof:y,_payload:{_status:-1,_result:_},_init:T}};react_production_min.memo=function(_,o){return{$$typeof:x,type:_,compare:o===void 0?null:o}};react_production_min.startTransition=function(_){var o=V$1.transition;V$1.transition={};try{_()}finally{V$1.transition=o}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(_,o){return U$1.current.useCallback(_,o)};react_production_min.useContext=function(_){return U$1.current.useContext(_)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(_){return U$1.current.useDeferredValue(_)};react_production_min.useEffect=function(_,o){return U$1.current.useEffect(_,o)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(_,o,e){return U$1.current.useImperativeHandle(_,o,e)};react_production_min.useInsertionEffect=function(_,o){return U$1.current.useInsertionEffect(_,o)};react_production_min.useLayoutEffect=function(_,o){return U$1.current.useLayoutEffect(_,o)};react_production_min.useMemo=function(_,o){return U$1.current.useMemo(_,o)};react_production_min.useReducer=function(_,o,e){return U$1.current.useReducer(_,o,e)};react_production_min.useRef=function(_){return U$1.current.useRef(_)};react_production_min.useState=function(_){return U$1.current.useState(_)};react_production_min.useSyncExternalStore=function(_,o,e){return U$1.current.useSyncExternalStore(_,o,e)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports,uaParser_min={exports:{}};(function(_,o){(function(e,i){var c="1.0.39",f="",m="?",g="function",Te="undefined",Oe="object",Ie="string",_e="major",De="model",Ee="name",qe="type",Be="vendor",Ne="version",Ve="architecture",Ue="console",We="mobile",He="tablet",Ze="smarttv",st="wearable",it="embedded",vt=500,gt="Amazon",tt="Apple",pt="ASUS",nt="BlackBerry",mt="Browser",Je="Chrome",Ft="Edge",Zt="Firefox",jt="Google",cr="Huawei",bt="LG",St="Microsoft",ct="Motorola",dt="Opera",Pt="Samsung",Ct="Sharp",Kt="Sony",fr="Xiaomi",Rr="Zebra",sr="Facebook",lt="Chromium OS",yt="Mac OS",Jt=" Browser",$t=function(It,zt){var tr={};for(var Sr in It)zt[Sr]&&zt[Sr].length%2===0?tr[Sr]=zt[Sr].concat(It[Sr]):tr[Sr]=It[Sr];return tr},dr=function(It){for(var zt={},tr=0;tr<It.length;tr++)zt[It[tr].toUpperCase()]=It[tr];return zt},Xe=function(It,zt){return typeof It===Ie?At(zt).indexOf(At(It))!==-1:!1},At=function(It){return It.toLowerCase()},Wt=function(It){return typeof It===Ie?It.replace(/[^\d\.]/g,f).split(".")[0]:i},ht=function(It,zt){if(typeof It===Ie)return It=It.replace(/^\s\s*/,f),typeof zt===Te?It:It.substring(0,vt)},xt=function(It,zt){for(var tr=0,Sr,Lr,Pr,Er,gr,Qr;tr<zt.length&&!gr;){var Cr=zt[tr],on=zt[tr+1];for(Sr=Lr=0;Sr<Cr.length&&!gr&&Cr[Sr];)if(gr=Cr[Sr++].exec(It),gr)for(Pr=0;Pr<on.length;Pr++)Qr=gr[++Lr],Er=on[Pr],typeof Er===Oe&&Er.length>0?Er.length===2?typeof Er[1]==g?this[Er[0]]=Er[1].call(this,Qr):this[Er[0]]=Er[1]:Er.length===3?typeof Er[1]===g&&!(Er[1].exec&&Er[1].test)?this[Er[0]]=Qr?Er[1].call(this,Qr,Er[2]):i:this[Er[0]]=Qr?Qr.replace(Er[1],Er[2]):i:Er.length===4&&(this[Er[0]]=Qr?Er[3].call(this,Qr.replace(Er[1],Er[2])):i):this[Er]=Qr||i;tr+=2}},Dt=function(It,zt){for(var tr in zt)if(typeof zt[tr]===Oe&&zt[tr].length>0){for(var Sr=0;Sr<zt[tr].length;Sr++)if(Xe(zt[tr][Sr],It))return tr===m?i:tr}else if(Xe(zt[tr],It))return tr===m?i:tr;return zt.hasOwnProperty("*")?zt["*"]:It},er={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},rt={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},je={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[Ne,[Ee,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[Ne,[Ee,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[Ee,Ne],[/opios[\/ ]+([\w\.]+)/i],[Ne,[Ee,dt+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[Ne,[Ee,dt+" GX"]],[/\bopr\/([\w\.]+)/i],[Ne,[Ee,dt]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[Ne,[Ee,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[Ee,Ne],[/quark(?:pc)?\/([-\w\.]+)/i],[Ne,[Ee,"Quark"]],[/\bddg\/([\w\.]+)/i],[Ne,[Ee,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[Ne,[Ee,"UC"+mt]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[Ne,[Ee,"WeChat"]],[/konqueror\/([\w\.]+)/i],[Ne,[Ee,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[Ne,[Ee,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[Ne,[Ee,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[Ne,[Ee,"Smart Lenovo "+mt]],[/(avast|avg)\/([\w\.]+)/i],[[Ee,/(.+)/,"$1 Secure "+mt],Ne],[/\bfocus\/([\w\.]+)/i],[Ne,[Ee,Zt+" Focus"]],[/\bopt\/([\w\.]+)/i],[Ne,[Ee,dt+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[Ne,[Ee,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[Ne,[Ee,"Dolphin"]],[/coast\/([\w\.]+)/i],[Ne,[Ee,dt+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[Ne,[Ee,"MIUI "+mt]],[/fxios\/([-\w\.]+)/i],[Ne,[Ee,Zt]],[/\bqihu|(qi?ho?o?|360)browser/i],[[Ee,"360"+Jt]],[/\b(qq)\/([\w\.]+)/i],[[Ee,/(.+)/,"$1Browser"],Ne],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[Ee,/(.+)/,"$1"+Jt],Ne],[/samsungbrowser\/([\w\.]+)/i],[Ne,[Ee,Pt+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[Ee,/_/g," "],Ne],[/metasr[\/ ]?([\d\.]+)/i],[Ne,[Ee,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[Ee,"Sogou Mobile"],Ne],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[Ee,Ne],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[Ee],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[Ee,sr],Ne],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[Ee,Ne],[/\bgsa\/([\w\.]+) .*safari\//i],[Ne,[Ee,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[Ne,[Ee,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[Ne,[Ee,Je+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[Ee,Je+" WebView"],Ne],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[Ne,[Ee,"Android "+mt]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[Ee,Ne],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[Ne,[Ee,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[Ne,Ee],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[Ee,[Ne,Dt,er]],[/(webkit|khtml)\/([\w\.]+)/i],[Ee,Ne],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[Ee,"Netscape"],Ne],[/(wolvic)\/([\w\.]+)/i],[Ee,Ne],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[Ne,[Ee,Zt+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[Ee,[Ne,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[Ee,[Ne,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[Ve,"amd64"]],[/(ia32(?=;))/i],[[Ve,At]],[/((?:i[346]|x)86)[;\)]/i],[[Ve,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[Ve,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[Ve,"armhf"]],[/windows (ce|mobile); ppc;/i],[[Ve,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[Ve,/ower/,f,At]],[/(sun4\w)[;\)]/i],[[Ve,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[Ve,At]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[De,[Be,Pt],[qe,He]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[De,[Be,Pt],[qe,We]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[De,[Be,tt],[qe,We]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[De,[Be,tt],[qe,He]],[/(macintosh);/i],[De,[Be,tt]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[De,[Be,Ct],[qe,We]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[De,[Be,cr],[qe,He]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[De,[Be,cr],[qe,We]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[De,/_/g," "],[Be,fr],[qe,We]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[De,/_/g," "],[Be,fr],[qe,He]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[De,[Be,"OPPO"],[qe,We]],[/\b(opd2\d{3}a?) bui/i],[De,[Be,"OPPO"],[qe,He]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[De,[Be,"Vivo"],[qe,We]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[De,[Be,"Realme"],[qe,We]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[De,[Be,ct],[qe,We]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[De,[Be,ct],[qe,He]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[De,[Be,bt],[qe,He]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[De,[Be,bt],[qe,We]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[De,[Be,"Lenovo"],[qe,He]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[De,/_/g," "],[Be,"Nokia"],[qe,We]],[/(pixel c)\b/i],[De,[Be,jt],[qe,He]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[De,[Be,jt],[qe,We]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[De,[Be,Kt],[qe,We]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[De,"Xperia Tablet"],[Be,Kt],[qe,He]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[De,[Be,"OnePlus"],[qe,We]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[De,[Be,gt],[qe,He]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[De,/(.+)/g,"Fire Phone $1"],[Be,gt],[qe,We]],[/(playbook);[-\w\),; ]+(rim)/i],[De,Be,[qe,He]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[De,[Be,nt],[qe,We]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[De,[Be,pt],[qe,He]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[De,[Be,pt],[qe,We]],[/(nexus 9)/i],[De,[Be,"HTC"],[qe,He]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[Be,[De,/_/g," "],[qe,We]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[De,[Be,"TCL"],[qe,He]],[/(itel) ((\w+))/i],[[Be,At],De,[qe,Dt,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[De,[Be,"Acer"],[qe,He]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[De,[Be,"Meizu"],[qe,We]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[De,[Be,"Ulefone"],[qe,We]],[/droid.+; (a(?:015|06[35]|142p?))/i],[De,[Be,"Nothing"],[qe,We]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[Be,De,[qe,We]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[Be,De,[qe,He]],[/(surface duo)/i],[De,[Be,St],[qe,He]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[De,[Be,"Fairphone"],[qe,We]],[/(u304aa)/i],[De,[Be,"AT&T"],[qe,We]],[/\bsie-(\w*)/i],[De,[Be,"Siemens"],[qe,We]],[/\b(rct\w+) b/i],[De,[Be,"RCA"],[qe,He]],[/\b(venue[\d ]{2,7}) b/i],[De,[Be,"Dell"],[qe,He]],[/\b(q(?:mv|ta)\w+) b/i],[De,[Be,"Verizon"],[qe,He]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[De,[Be,"Barnes & Noble"],[qe,He]],[/\b(tm\d{3}\w+) b/i],[De,[Be,"NuVision"],[qe,He]],[/\b(k88) b/i],[De,[Be,"ZTE"],[qe,He]],[/\b(nx\d{3}j) b/i],[De,[Be,"ZTE"],[qe,We]],[/\b(gen\d{3}) b.+49h/i],[De,[Be,"Swiss"],[qe,We]],[/\b(zur\d{3}) b/i],[De,[Be,"Swiss"],[qe,He]],[/\b((zeki)?tb.*\b) b/i],[De,[Be,"Zeki"],[qe,He]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[Be,"Dragon Touch"],De,[qe,He]],[/\b(ns-?\w{0,9}) b/i],[De,[Be,"Insignia"],[qe,He]],[/\b((nxa|next)-?\w{0,9}) b/i],[De,[Be,"NextBook"],[qe,He]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[Be,"Voice"],De,[qe,We]],[/\b(lvtel\-)?(v1[12]) b/i],[[Be,"LvTel"],De,[qe,We]],[/\b(ph-1) /i],[De,[Be,"Essential"],[qe,We]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[De,[Be,"Envizen"],[qe,He]],[/\b(trio[-\w\. ]+) b/i],[De,[Be,"MachSpeed"],[qe,He]],[/\btu_(1491) b/i],[De,[Be,"Rotor"],[qe,He]],[/(shield[\w ]+) b/i],[De,[Be,"Nvidia"],[qe,He]],[/(sprint) (\w+)/i],[Be,De,[qe,We]],[/(kin\.[onetw]{3})/i],[[De,/\./g," "],[Be,St],[qe,We]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[De,[Be,Rr],[qe,He]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[De,[Be,Rr],[qe,We]],[/smart-tv.+(samsung)/i],[Be,[qe,Ze]],[/hbbtv.+maple;(\d+)/i],[[De,/^/,"SmartTV"],[Be,Pt],[qe,Ze]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[Be,bt],[qe,Ze]],[/(apple) ?tv/i],[Be,[De,tt+" TV"],[qe,Ze]],[/crkey/i],[[De,Je+"cast"],[Be,jt],[qe,Ze]],[/droid.+aft(\w+)( bui|\))/i],[De,[Be,gt],[qe,Ze]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[De,[Be,Ct],[qe,Ze]],[/(bravia[\w ]+)( bui|\))/i],[De,[Be,Kt],[qe,Ze]],[/(mitv-\w{5}) bui/i],[De,[Be,fr],[qe,Ze]],[/Hbbtv.*(technisat) (.*);/i],[Be,De,[qe,Ze]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[Be,ht],[De,ht],[qe,Ze]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[qe,Ze]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[Be,De,[qe,Ue]],[/droid.+; (shield) bui/i],[De,[Be,"Nvidia"],[qe,Ue]],[/(playstation [345portablevi]+)/i],[De,[Be,Kt],[qe,Ue]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[De,[Be,St],[qe,Ue]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[De,[Be,Pt],[qe,st]],[/((pebble))app/i],[Be,De,[qe,st]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[De,[Be,tt],[qe,st]],[/droid.+; (glass) \d/i],[De,[Be,jt],[qe,st]],[/droid.+; (wt63?0{2,3})\)/i],[De,[Be,Rr],[qe,st]],[/(quest( \d| pro)?)/i],[De,[Be,sr],[qe,st]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[Be,[qe,it]],[/(aeobc)\b/i],[De,[Be,gt],[qe,it]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[De,[qe,We]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[De,[qe,He]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[qe,He]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[qe,We]],[/(android[-\w\. ]{0,9});.+buil/i],[De,[Be,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[Ne,[Ee,Ft+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[Ne,[Ee,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[Ee,Ne],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[Ne,Ee]],os:[[/microsoft (windows) (vista|xp)/i],[Ee,Ne],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[Ee,[Ne,Dt,rt]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[Ne,Dt,rt],[Ee,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[Ne,/_/g,"."],[Ee,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[Ee,yt],[Ne,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[Ne,Ee],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[Ee,Ne],[/\(bb(10);/i],[Ne,[Ee,nt]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[Ne,[Ee,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[Ne,[Ee,Zt+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[Ne,[Ee,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[Ne,[Ee,"watchOS"]],[/crkey\/([\d\.]+)/i],[Ne,[Ee,Je+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[Ee,lt],Ne],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[Ee,Ne],[/(sunos) ?([\w\.\d]*)/i],[[Ee,"Solaris"],Ne],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[Ee,Ne]]},Ke=function(It,zt){if(typeof It===Oe&&(zt=It,It=i),!(this instanceof Ke))return new Ke(It,zt).getResult();var tr=typeof e!==Te&&e.navigator?e.navigator:i,Sr=It||(tr&&tr.userAgent?tr.userAgent:f),Lr=tr&&tr.userAgentData?tr.userAgentData:i,Pr=zt?$t(je,zt):je,Er=tr&&tr.userAgent==Sr;return this.getBrowser=function(){var gr={};return gr[Ee]=i,gr[Ne]=i,xt.call(gr,Sr,Pr.browser),gr[_e]=Wt(gr[Ne]),Er&&tr&&tr.brave&&typeof tr.brave.isBrave==g&&(gr[Ee]="Brave"),gr},this.getCPU=function(){var gr={};return gr[Ve]=i,xt.call(gr,Sr,Pr.cpu),gr},this.getDevice=function(){var gr={};return gr[Be]=i,gr[De]=i,gr[qe]=i,xt.call(gr,Sr,Pr.device),Er&&!gr[qe]&&Lr&&Lr.mobile&&(gr[qe]=We),Er&&gr[De]=="Macintosh"&&tr&&typeof tr.standalone!==Te&&tr.maxTouchPoints&&tr.maxTouchPoints>2&&(gr[De]="iPad",gr[qe]=He),gr},this.getEngine=function(){var gr={};return gr[Ee]=i,gr[Ne]=i,xt.call(gr,Sr,Pr.engine),gr},this.getOS=function(){var gr={};return gr[Ee]=i,gr[Ne]=i,xt.call(gr,Sr,Pr.os),Er&&!gr[Ee]&&Lr&&Lr.platform&&Lr.platform!="Unknown"&&(gr[Ee]=Lr.platform.replace(/chrome os/i,lt).replace(/macos/i,yt)),gr},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Sr},this.setUA=function(gr){return Sr=typeof gr===Ie&&gr.length>vt?ht(gr,vt):gr,this},this.setUA(Sr),this};Ke.VERSION=c,Ke.BROWSER=dr([Ee,Ne,_e]),Ke.CPU=dr([Ve]),Ke.DEVICE=dr([De,Be,qe,Ue,We,Ze,He,st,it]),Ke.ENGINE=Ke.OS=dr([Ee,Ne]),_.exports&&(o=_.exports=Ke),o.UAParser=Ke;var ut=typeof e!==Te&&(e.jQuery||e.Zepto);if(ut&&!ut.ua){var Et=new Ke;ut.ua=Et.getResult(),ut.ua.get=function(){return Et.getUA()},ut.ua.set=function(It){Et.setUA(It);var zt=Et.getResult();for(var tr in zt)ut.ua[tr]=zt[tr]}}})(typeof window=="object"?window:commonjsGlobal$1)})(uaParser_min,uaParser_min.exports);var uaParser_minExports=uaParser_min.exports;Object.defineProperty(lib,"__esModule",{value:!0});function _interopDefault(_){return _&&typeof _=="object"&&"default"in _?_.default:_}var React=reactExports,React__default=_interopDefault(React),UAParser=uaParser_minExports,ClientUAInstance=new UAParser,browser=ClientUAInstance.getBrowser(),cpu=ClientUAInstance.getCPU(),device=ClientUAInstance.getDevice(),engine=ClientUAInstance.getEngine(),os=ClientUAInstance.getOS(),ua=ClientUAInstance.getUA(),setUa=function _(o){return ClientUAInstance.setUA(o)},parseUserAgent=function _(o){if(!o){console.error("No userAgent string was provided");return}var e=new UAParser(o);return{UA:e,browser:e.getBrowser(),cpu:e.getCPU(),device:e.getDevice(),engine:e.getEngine(),os:e.getOS(),ua:e.getUA(),setUserAgent:function(c){return e.setUA(c)}}},UAHelper=Object.freeze({ClientUAInstance,browser,cpu,device,engine,os,ua,setUa,parseUserAgent});function ownKeys(_,o){var e=Object.keys(_);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(_);o&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(_,c).enumerable})),e.push.apply(e,i)}return e}function _objectSpread2(_){for(var o=1;o<arguments.length;o++){var e=arguments[o]!=null?arguments[o]:{};o%2?ownKeys(Object(e),!0).forEach(function(i){_defineProperty(_,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(e)):ownKeys(Object(e)).forEach(function(i){Object.defineProperty(_,i,Object.getOwnPropertyDescriptor(e,i))})}return _}function _typeof(_){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(o){return typeof o}:_typeof=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(_)}function _classCallCheck(_,o){if(!(_ instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties(_,o){for(var e=0;e<o.length;e++){var i=o[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(_,i.key,i)}}function _createClass(_,o,e){return o&&_defineProperties(_.prototype,o),e&&_defineProperties(_,e),_}function _defineProperty(_,o,e){return o in _?Object.defineProperty(_,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):_[o]=e,_}function _extends(){return _extends=Object.assign||function(_){for(var o=1;o<arguments.length;o++){var e=arguments[o];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(_[i]=e[i])}return _},_extends.apply(this,arguments)}function _inherits(_,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(o&&o.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),o&&_setPrototypeOf(_,o)}function _getPrototypeOf(_){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(_)}function _setPrototypeOf(_,o){return _setPrototypeOf=Object.setPrototypeOf||function(i,c){return i.__proto__=c,i},_setPrototypeOf(_,o)}function _objectWithoutPropertiesLoose(_,o){if(_==null)return{};var e={},i=Object.keys(_),c,f;for(f=0;f<i.length;f++)c=i[f],!(o.indexOf(c)>=0)&&(e[c]=_[c]);return e}function _objectWithoutProperties(_,o){if(_==null)return{};var e=_objectWithoutPropertiesLoose(_,o),i,c;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(_);for(c=0;c<f.length;c++)i=f[c],!(o.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(_,i)&&(e[i]=_[i])}return e}function _assertThisInitialized(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function _possibleConstructorReturn(_,o){if(o&&(typeof o=="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(_)}function _slicedToArray(_,o){return _arrayWithHoles(_)||_iterableToArrayLimit(_,o)||_unsupportedIterableToArray(_,o)||_nonIterableRest()}function _arrayWithHoles(_){if(Array.isArray(_))return _}function _iterableToArrayLimit(_,o){var e=_==null?null:typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"];if(e!=null){var i=[],c=!0,f=!1,m,g;try{for(e=e.call(_);!(c=(m=e.next()).done)&&(i.push(m.value),!(o&&i.length===o));c=!0);}catch(Te){f=!0,g=Te}finally{try{!c&&e.return!=null&&e.return()}finally{if(f)throw g}}return i}}function _unsupportedIterableToArray(_,o){if(_){if(typeof _=="string")return _arrayLikeToArray(_,o);var e=Object.prototype.toString.call(_).slice(8,-1);if(e==="Object"&&_.constructor&&(e=_.constructor.name),e==="Map"||e==="Set")return Array.from(_);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return _arrayLikeToArray(_,o)}}function _arrayLikeToArray(_,o){(o==null||o>_.length)&&(o=_.length);for(var e=0,i=new Array(o);e<o;e++)i[e]=_[e];return i}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var DeviceTypes={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},BrowserTypes={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},OsTypes={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},InitialDeviceTypes={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},checkDeviceType=function _(o){switch(o){case DeviceTypes.Mobile:return{isMobile:!0};case DeviceTypes.Tablet:return{isTablet:!0};case DeviceTypes.SmartTv:return{isSmartTV:!0};case DeviceTypes.Console:return{isConsole:!0};case DeviceTypes.Wearable:return{isWearable:!0};case DeviceTypes.Browser:return{isBrowser:!0};case DeviceTypes.Embedded:return{isEmbedded:!0};default:return InitialDeviceTypes}},setUserAgent=function _(o){return setUa(o)},setDefaults=function _(o){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return o||e},getNavigatorInstance=function _(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},isIOS13Check=function _(o){var e=getNavigatorInstance();return e&&e.platform&&(e.platform.indexOf(o)!==-1||e.platform==="MacIntel"&&e.maxTouchPoints>1&&!window.MSStream)},browserPayload=function _(o,e,i,c,f){return{isBrowser:o,browserMajorVersion:setDefaults(e.major),browserFullVersion:setDefaults(e.version),browserName:setDefaults(e.name),engineName:setDefaults(i.name),engineVersion:setDefaults(i.version),osName:setDefaults(c.name),osVersion:setDefaults(c.version),userAgent:setDefaults(f)}},mobilePayload=function _(o,e,i,c){return _objectSpread2({},o,{vendor:setDefaults(e.vendor),model:setDefaults(e.model),os:setDefaults(i.name),osVersion:setDefaults(i.version),ua:setDefaults(c)})},smartTvPayload=function _(o,e,i,c){return{isSmartTV:o,engineName:setDefaults(e.name),engineVersion:setDefaults(e.version),osName:setDefaults(i.name),osVersion:setDefaults(i.version),userAgent:setDefaults(c)}},consolePayload=function _(o,e,i,c){return{isConsole:o,engineName:setDefaults(e.name),engineVersion:setDefaults(e.version),osName:setDefaults(i.name),osVersion:setDefaults(i.version),userAgent:setDefaults(c)}},wearablePayload=function _(o,e,i,c){return{isWearable:o,engineName:setDefaults(e.name),engineVersion:setDefaults(e.version),osName:setDefaults(i.name),osVersion:setDefaults(i.version),userAgent:setDefaults(c)}},embeddedPayload=function _(o,e,i,c,f){return{isEmbedded:o,vendor:setDefaults(e.vendor),model:setDefaults(e.model),engineName:setDefaults(i.name),engineVersion:setDefaults(i.version),osName:setDefaults(c.name),osVersion:setDefaults(c.version),userAgent:setDefaults(f)}};function deviceDetect(_){var o=_?parseUserAgent(_):UAHelper,e=o.device,i=o.browser,c=o.engine,f=o.os,m=o.ua,g=checkDeviceType(e.type),Te=g.isBrowser,Oe=g.isMobile,Ie=g.isTablet,_e=g.isSmartTV,De=g.isConsole,Ee=g.isWearable,qe=g.isEmbedded;if(Te)return browserPayload(Te,i,c,f,m);if(_e)return smartTvPayload(_e,c,f,m);if(De)return consolePayload(De,c,f,m);if(Oe||Ie)return mobilePayload(g,e,f,m);if(Ee)return wearablePayload(Ee,c,f,m);if(qe)return embeddedPayload(qe,e,c,f,m)}var isMobileType=function _(o){var e=o.type;return e===DeviceTypes.Mobile},isTabletType=function _(o){var e=o.type;return e===DeviceTypes.Tablet},isMobileAndTabletType=function _(o){var e=o.type;return e===DeviceTypes.Mobile||e===DeviceTypes.Tablet},isSmartTVType=function _(o){var e=o.type;return e===DeviceTypes.SmartTv},isBrowserType=function _(o){var e=o.type;return e===DeviceTypes.Browser},isWearableType=function _(o){var e=o.type;return e===DeviceTypes.Wearable},isConsoleType=function _(o){var e=o.type;return e===DeviceTypes.Console},isEmbeddedType=function _(o){var e=o.type;return e===DeviceTypes.Embedded},getMobileVendor=function _(o){var e=o.vendor;return setDefaults(e)},getMobileModel=function _(o){var e=o.model;return setDefaults(e)},getDeviceType=function _(o){var e=o.type;return setDefaults(e,"browser")},isAndroidType=function _(o){var e=o.name;return e===OsTypes.Android},isWindowsType=function _(o){var e=o.name;return e===OsTypes.Windows},isMacOsType=function _(o){var e=o.name;return e===OsTypes.MAC_OS},isWinPhoneType=function _(o){var e=o.name;return e===OsTypes.WindowsPhone},isIOSType=function _(o){var e=o.name;return e===OsTypes.IOS},getOsVersion=function _(o){var e=o.version;return setDefaults(e)},getOsName=function _(o){var e=o.name;return setDefaults(e)},isChromeType=function _(o){var e=o.name;return e===BrowserTypes.Chrome},isFirefoxType=function _(o){var e=o.name;return e===BrowserTypes.Firefox},isChromiumType=function _(o){var e=o.name;return e===BrowserTypes.Chromium},isEdgeType=function _(o){var e=o.name;return e===BrowserTypes.Edge},isYandexType=function _(o){var e=o.name;return e===BrowserTypes.Yandex},isSafariType=function _(o){var e=o.name;return e===BrowserTypes.Safari||e===BrowserTypes.MobileSafari},isMobileSafariType=function _(o){var e=o.name;return e===BrowserTypes.MobileSafari},isOperaType=function _(o){var e=o.name;return e===BrowserTypes.Opera},isIEType=function _(o){var e=o.name;return e===BrowserTypes.InternetExplorer||e===BrowserTypes.Ie},isMIUIType=function _(o){var e=o.name;return e===BrowserTypes.MIUI},isSamsungBrowserType=function _(o){var e=o.name;return e===BrowserTypes.SamsungBrowser},getBrowserFullVersion=function _(o){var e=o.version;return setDefaults(e)},getBrowserVersion=function _(o){var e=o.major;return setDefaults(e)},getBrowserName=function _(o){var e=o.name;return setDefaults(e)},getEngineName=function _(o){var e=o.name;return setDefaults(e)},getEngineVersion=function _(o){var e=o.version;return setDefaults(e)},isElectronType=function _(){var o=getNavigatorInstance(),e=o&&o.userAgent&&o.userAgent.toLowerCase();return typeof e=="string"?/electron/.test(e):!1},isEdgeChromiumType=function _(o){return typeof o=="string"&&o.indexOf("Edg/")!==-1},getIOS13=function _(){var o=getNavigatorInstance();return o&&(/iPad|iPhone|iPod/.test(o.platform)||o.platform==="MacIntel"&&o.maxTouchPoints>1)&&!window.MSStream},getIPad13=function _(){return isIOS13Check("iPad")},getIphone13=function _(){return isIOS13Check("iPhone")},getIPod13=function _(){return isIOS13Check("iPod")},getUseragent=function _(o){return setDefaults(o)};function buildSelectorsObject(_){var o=_||UAHelper,e=o.device,i=o.browser,c=o.os,f=o.engine,m=o.ua;return{isSmartTV:isSmartTVType(e),isConsole:isConsoleType(e),isWearable:isWearableType(e),isEmbedded:isEmbeddedType(e),isMobileSafari:isMobileSafariType(i)||getIPad13(),isChromium:isChromiumType(i),isMobile:isMobileAndTabletType(e)||getIPad13(),isMobileOnly:isMobileType(e),isTablet:isTabletType(e)||getIPad13(),isBrowser:isBrowserType(e),isDesktop:isBrowserType(e),isAndroid:isAndroidType(c),isWinPhone:isWinPhoneType(c),isIOS:isIOSType(c)||getIPad13(),isChrome:isChromeType(i),isFirefox:isFirefoxType(i),isSafari:isSafariType(i),isOpera:isOperaType(i),isIE:isIEType(i),osVersion:getOsVersion(c),osName:getOsName(c),fullBrowserVersion:getBrowserFullVersion(i),browserVersion:getBrowserVersion(i),browserName:getBrowserName(i),mobileVendor:getMobileVendor(e),mobileModel:getMobileModel(e),engineName:getEngineName(f),engineVersion:getEngineVersion(f),getUA:getUseragent(m),isEdge:isEdgeType(i)||isEdgeChromiumType(m),isYandex:isYandexType(i),deviceType:getDeviceType(e),isIOS13:getIOS13(),isIPad13:getIPad13(),isIPhone13:getIphone13(),isIPod13:getIPod13(),isElectron:isElectronType(),isEdgeChromium:isEdgeChromiumType(m),isLegacyEdge:isEdgeType(i)&&!isEdgeChromiumType(m),isWindows:isWindowsType(c),isMacOs:isMacOsType(c),isMIUI:isMIUIType(i),isSamsungBrowser:isSamsungBrowserType(i)}}var isSmartTV=isSmartTVType(device),isConsole=isConsoleType(device),isWearable=isWearableType(device),isEmbedded=isEmbeddedType(device),isMobileSafari=isMobileSafariType(browser)||getIPad13(),isChromium=isChromiumType(browser),isMobile=isMobileAndTabletType(device)||getIPad13(),isMobileOnly=isMobileType(device),isTablet=isTabletType(device)||getIPad13(),isBrowser=isBrowserType(device),isDesktop=isBrowserType(device),isAndroid=isAndroidType(os),isWinPhone=isWinPhoneType(os),isIOS=isIOSType(os)||getIPad13(),isChrome=isChromeType(browser),isFirefox=isFirefoxType(browser),isSafari=isSafariType(browser),isOpera=isOperaType(browser),isIE=isIEType(browser),osVersion=getOsVersion(os),osName=getOsName(os),fullBrowserVersion=getBrowserFullVersion(browser),browserVersion=getBrowserVersion(browser),browserName=getBrowserName(browser),mobileVendor=getMobileVendor(device),mobileModel=getMobileModel(device),engineName=getEngineName(engine),engineVersion=getEngineVersion(engine),getUA=getUseragent(ua),isEdge=isEdgeType(browser)||isEdgeChromiumType(ua),isYandex=isYandexType(browser),deviceType=getDeviceType(device),isIOS13=getIOS13(),isIPad13=getIPad13(),isIPhone13=getIphone13(),isIPod13=getIPod13(),isElectron=isElectronType(),isEdgeChromium=isEdgeChromiumType(ua),isLegacyEdge=isEdgeType(browser)&&!isEdgeChromiumType(ua),isWindows=isWindowsType(os),isMacOs=isMacOsType(os),isMIUI=isMIUIType(browser),isSamsungBrowser=isSamsungBrowserType(browser),getSelectorsByUserAgent=function _(o){if(!o||typeof o!="string"){console.error("No valid user agent string was provided");return}var e=parseUserAgent(o),i=e.device,c=e.browser,f=e.os,m=e.engine,g=e.ua;return buildSelectorsObject({device:i,browser:c,os:f,engine:m,ua:g})},AndroidView=function _(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isAndroid?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},BrowserView=function _(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isBrowser?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},IEView=function _(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isIE?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},IOSView=function _(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isIOS?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},MobileView=function _(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isMobile?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},TabletView=function _(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isTablet?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},WinPhoneView=function _(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isWinPhone?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},MobileOnlyView=function _(o){var e=o.renderWithFragment,i=o.children;o.viewClassName,o.style;var c=_objectWithoutProperties(o,["renderWithFragment","children","viewClassName","style"]);return isMobileOnly?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},SmartTVView=function _(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isSmartTV?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},ConsoleView=function _(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isConsole?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},WearableView=function _(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isWearable?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},CustomView=function _(o){var e=o.renderWithFragment,i=o.children;o.viewClassName,o.style;var c=o.condition,f=_objectWithoutProperties(o,["renderWithFragment","children","viewClassName","style","condition"]);return c?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",f,i):null};function withOrientationChange(_){return function(o){_inherits(e,o);function e(i){var c;return _classCallCheck(this,e),c=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,i)),c.isEventListenerAdded=!1,c.handleOrientationChange=c.handleOrientationChange.bind(_assertThisInitialized(c)),c.onOrientationChange=c.onOrientationChange.bind(_assertThisInitialized(c)),c.onPageLoad=c.onPageLoad.bind(_assertThisInitialized(c)),c.state={isLandscape:!1,isPortrait:!1},c}return _createClass(e,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var c=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:c===0,isLandscape:c===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":_typeof(window))!==void 0&&isMobile&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return React__default.createElement(_,_extends({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),e}(React__default.Component)}function useMobileOrientation(){var _=React.useState(function(){var f=window.innerWidth>window.innerHeight?90:0;return{isPortrait:f===0,isLandscape:f===90,orientation:f===0?"portrait":"landscape"}}),o=_slicedToArray(_,2),e=o[0],i=o[1],c=React.useCallback(function(){var f=window.innerWidth>window.innerHeight?90:0,m={isPortrait:f===0,isLandscape:f===90,orientation:f===0?"portrait":"landscape"};e.orientation!==m.orientation&&i(m)},[e.orientation]);return React.useEffect(function(){return(typeof window>"u"?"undefined":_typeof(window))!==void 0&&isMobile&&(c(),window.addEventListener("load",c,!1),window.addEventListener("resize",c,!1)),function(){window.removeEventListener("resize",c,!1),window.removeEventListener("load",c,!1)}},[c]),e}function useDeviceData(_){var o=_||window.navigator.userAgent;return parseUserAgent(o)}function useDeviceSelectors(_){var o=_||window.navigator.userAgent,e=useDeviceData(o),i=buildSelectorsObject(e);return[i,e]}lib.AndroidView=AndroidView;lib.BrowserTypes=BrowserTypes;lib.BrowserView=BrowserView;lib.ConsoleView=ConsoleView;lib.CustomView=CustomView;lib.IEView=IEView;lib.IOSView=IOSView;lib.MobileOnlyView=MobileOnlyView;lib.MobileView=MobileView;lib.OsTypes=OsTypes;lib.SmartTVView=SmartTVView;lib.TabletView=TabletView;lib.WearableView=WearableView;lib.WinPhoneView=WinPhoneView;lib.browserName=browserName;lib.browserVersion=browserVersion;lib.deviceDetect=deviceDetect;lib.deviceType=deviceType;lib.engineName=engineName;lib.engineVersion=engineVersion;lib.fullBrowserVersion=fullBrowserVersion;lib.getSelectorsByUserAgent=getSelectorsByUserAgent;lib.getUA=getUA;lib.isAndroid=isAndroid;lib.isBrowser=isBrowser;lib.isChrome=isChrome;lib.isChromium=isChromium;lib.isConsole=isConsole;lib.isDesktop=isDesktop;lib.isEdge=isEdge;lib.isEdgeChromium=isEdgeChromium;lib.isElectron=isElectron;lib.isEmbedded=isEmbedded;lib.isFirefox=isFirefox;lib.isIE=isIE;lib.isIOS=isIOS;lib.isIOS13=isIOS13;lib.isIPad13=isIPad13;lib.isIPhone13=isIPhone13;lib.isIPod13=isIPod13;lib.isLegacyEdge=isLegacyEdge;lib.isMIUI=isMIUI;lib.isMacOs=isMacOs;var isMobile_1=lib.isMobile=isMobile;lib.isMobileOnly=isMobileOnly;lib.isMobileSafari=isMobileSafari;lib.isOpera=isOpera;lib.isSafari=isSafari;lib.isSamsungBrowser=isSamsungBrowser;lib.isSmartTV=isSmartTV;var isTablet_1=lib.isTablet=isTablet;lib.isWearable=isWearable;lib.isWinPhone=isWinPhone;lib.isWindows=isWindows;lib.isYandex=isYandex;lib.mobileModel=mobileModel;lib.mobileVendor=mobileVendor;lib.osName=osName;lib.osVersion=osVersion;lib.parseUserAgent=parseUserAgent;lib.setUserAgent=setUserAgent;lib.useDeviceData=useDeviceData;lib.useDeviceSelectors=useDeviceSelectors;lib.useMobileOrientation=useMobileOrientation;lib.withOrientationChange=withOrientationChange;function _0x4046(){const _=["forceTouch","1803nvXxgU","gamepad","navigator","toggleJoystick","has","from","isDesktop","grid","12500giGwsM","matchMedia","isQuest","16966100jaiEvv","getGamepads","innerHeight","keyboard","fullscreenElement","#desktopUi","resizeCanvas","isGamepadConnected","14gEYumi","9980874jTNGJc","some","forceDesktop","isMobile","updateDeviceType","flex","hasTouch","ontouchstart","isTablet","#fastui","12gLympb","OculusBrowser","3955016CiJcqW","includes","(display-mode: standalone)","84QdDEAx","innerWidth","#toggle-keyboard","touch","42806etQIqj","180LlOlGP","221370meoUAg","16753649KmBskk","desktop","isStandalone","detectDevice","userAgent","add","resize","Quest","standalone"];return _0x4046=function(){return _},_0x4046()}const _0x596207=_0x2445;(function(_,o){const e=_0x2445,i=_();for(;[];)try{if(-parseInt(e(486))/1*(-parseInt(e(490))/2)+parseInt(e(451))/3*(-parseInt(e(459))/4)+parseInt(e(492))/5*(parseInt(e(491))/6)+-parseInt(e(470))/7*(-parseInt(e(483))/8)+-parseInt(e(471))/9+-parseInt(e(462))/10+parseInt(e(493))/11*(parseInt(e(481))/12)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x4046,954164);function _0x2445(_,o){const e=_0x4046();return _0x2445=function(i,c){return i=i-448,e[i]},_0x2445(_,o)}var bi,Ff;const In=class In{constructor(){const o=_0x2445;In[o(496)](),In[o(475)]()}static[_0x596207(475)](){const o=_0x596207;In[o(457)]()||In.isQuest()?In[o(473)]():In.hasTouch()&&In.forceTouch()}static[_0x596207(457)](){const o=_0x596207;return Ye(In,bi)[o(455)](o(494))&&Ye(In,bi)[o(455)](o(465))&&!Ye(In,bi)[o(455)](o(489))}static isNotPortrait(){const o=_0x596207;return window[o(487)]>window[o(464)]}static hasGamepad(){const o=_0x596207;return navigator.getGamepads?Array[o(456)](navigator[o(463)]())[o(472)](e=>e!==null):![]}static[_0x596207(474)](){return isMobile_1}static isSmartphone(){return isMobile_1&&!isTablet_1}static[_0x596207(479)](){return isTablet_1}static[_0x596207(495)](){const o=_0x596207;return window[o(453)][o(449)]||window[o(460)](o(485)).matches}static[_0x596207(461)](){const o=_0x596207;var e=navigator[o(497)];return e[o(484)](o(482))||e[o(484)](o(448))?!![]:![]}static[_0x596207(477)](){const o=_0x596207;return Ye(In,bi)[o(455)](o(489))}static[_0x596207(450)](){const o=_0x596207;hide(o(467)),show(o(480),o(458)),UiManager[o(454)]()}static[_0x596207(473)](){const o=_0x596207;hide("#fastui"),show(o(467),o(476)),UiManager[o(454)](),In[o(457)]()?hide(o(488)):show(o(488))}static isGamepadConnected(){const o=navigator.getGamepads();for(const e of o)if(e)return!![];return![]}static detectDevice(){const o=_0x596207;o(478)in window?Ye(In,bi).add("touch"):Ye(In,bi)[o(498)]("desktop"),"onkeydown"in window&&Ye(In,bi)[o(498)]("keyboard"),In[o(469)]()&&Ye(In,bi)[o(498)](o(452)),In[o(475)]()}};Ff=_0x596207(468),bi=new WeakMap,Ut(In,bi,new Set),un(In,Ff,o=>{const e=_0x596207;if(document[e(466)]!=null||o==null)return;let c=window[e(487)],f=window[e(464)];c<f&&(f=f/2),o[e(499)]({width:c,height:f})});let EnvironmentManager=In;const _0x224fa8=_0x808a;(function(_,o){const e=_0x808a,i=_();for(;[];)try{if(-parseInt(e(563))/1*(parseInt(e(391))/2)+parseInt(e(350))/3+parseInt(e(388))/4*(-parseInt(e(464))/5)+parseInt(e(368))/6+-parseInt(e(446))/7+parseInt(e(420))/8*(-parseInt(e(569))/9)+parseInt(e(492))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x28f5,988917);function _0x808a(_,o){const e=_0x28f5();return _0x808a=function(i,c){return i=i-347,e[i]},_0x808a(_,o)}function _0x28f5(){const _=["click","loadState","Executing platform-specific startup sequence.","checkFiles","loadRomFile","#cors_interface","vme_collection.json","<p class='only-landscape'>","replace","tagName","keys","platform_id","WordArray","toFixed","textContent","className","string","] Ready","items","remove","NES","find","root","tag","] Software dir.","finally","1ZmTItX"," files available.","bios","The rom file is invalid: ","/Named_Snaps/","force_scale","415341swxLmm","vme_import.json","getSelectedPlatform","push","--color3","#settings","596769CCUatk","stringify","Error loading VME Import archive.","get_software_dir","getActiveTheme","print_progress","log","updatePlatform","getItem","load","list","url","http://thumbnails.libretro.com/","core","Files have been successfully imported.",".png","Loading ... Please wait.","platform_name","10993404WXXVzE","&nbsp;[","setSelectedPlatform","vme_collection.json not found in the ZIP file.",".LAST_FILE","dependencies","Starting to load ROM file: ","Unsupported platform found.","#header","print","<span class='blinking2'>","thumbnail_dir","guru","You are missing ","launch","SPAN","A new collection was successfully imported.","storeCollection","storeFile","Importing ... (","4XylctK","files","classList","1385096HJYJfa","loadCorsFile","video_smooth","floor","body","emulationStarted","--fontsize","createElement","background","corsrow","SOFTWARE_DIR_KEY","--color0",".software","Error encountered: ","guessBIOS","Error loading ","parse","smd","title","bases","tags","message","The image file is invalid: ","addEventListener","SHADER_TOGGLE","storeState","rewind_granularity","endsWith","create","80bJZRrj","loadRomFileFromUrl","toString","hasTouch","importFile","function","getReader","length","--color2","Error loading file.","Saved ","--transform","DEBUG","not_ready",'load "',"loadAsync","Loading ... OK","none","startEmulation","forEach","#platformLabel","headers","An error occurred:","./libretro/","html","add","6519226mMJFOh","application/octet-stream","nul","Amiga","cors_results","Loading ...","setMessage","getProgramName","startup_beforelaunch","repeat","file","dynamic-image","Resolving ROM file.","fastforward_ratio","#cors_query_prefix","redraw","img","touch_controller_mapping","5853760bbbeto","shader","SHADER","isEnabled","state","mouseover","getValue","txt","Content-Length","blob","vme_import.json not found in the ZIP file.","style","name","#000000","error","VME_CFG_CURRENT_PLATFORM","VME_CFG.CURRENT_PLATFORM","documentElement","image","appendChild","&nbsp;","Preparing to start emulation.","#cors_query","setProperty","dynamicImg","call","values","Error importing VME Collection archive.","22138680uWpHjG","_libretro.wasm","hideThumbnail","Error processing zip.","getNostalgist","target","#cors_results","Type HELP for info.","block","Error: ","then","set_default_handler","storeValue","The file is not found in the zip: ","guessConfig","1em","<span class='blinking2'>Press anything to start.</span>","saveState","showThumbnail","parentNode","<span class='blinking2'>DEBUG MODE enabled.</span>","description","sleep","display","checkDependencies","sendCommand"," KB","_libretro.js","platforms"," not found in the ZIP file.","Preparing to download: ","updateMessage","#toggle-keyboard","Importing ...","clearMessages","</p>","async","importCorsFile","Please refer to the VM/E Manual for instructions.","theme","configure","keydown","innerHTML","REQUIRED FILES missing:","Loading shaders."];return _0x28f5=function(){return _},_0x28f5()}const SelectedPlatforms={NES,GB,GBC,GBA,SMS,PCE,MD,C64,Amiga,C128,C264,A2600,A5200,A800,Lynx,Coleco,CPC,VIC20,ZX80,Spectrum,SNK};var Gr,da,ei,Ks,Uo,Gs,Nr,jo,zo,Ho,Ys,Pf,Bf,Qs,su,dc,pl,hc,_l,xc,vl,pc,ml,Xs,cu,Js,uu,hu,mf;const Io=class Io{constructor(o,e,i){Ut(this,Qs);Ut(this,dc);Ut(this,hc);Ut(this,xc);Ut(this,pc);Ut(this,Xs);Ut(this,Js);Ut(this,hu);Ut(this,Gr,void 0);Ut(this,da,void 0);Ut(this,ei,void 0);Ut(this,Ks,void 0);Ut(this,Uo,void 0);Ut(this,Gs,void 0);Ut(this,Nr,void 0);Ut(this,jo,void 0);Ut(this,zo,void 0);Ut(this,Ho,void 0);Ut(this,Ys,void 0);const c=_0x224fa8;ir(this,Gs,o),ir(this,Nr,e),ir(this,ei,i);let f=localStorage[c(358)](Io[c(479)]);ir(this,Gr,Object[c(490)](SelectedPlatforms)[c(558)](m=>m.platform_id===f)||SelectedPlatforms[c(557)]),this[c(357)](),Ye(this,Nr)[c(503)](()=>{this[c(357)]()})}async[(Pf=_0x224fa8(479),Bf=_0x224fa8(401),_0x224fa8(421))](o,e){var Te;const i=_0x224fa8;let c=Ye(this,Gr)[i(363)],f=i(443)+c+"_libretro.wasm";i(443)+c+"",Debug[i(467)]()&&Debug[i(452)](i(374)+e),console[i(356)]({title:""+e,credits:"",platform_id:""+Ye(this,Gr)[i(548)],image:"",filename:""+e,url:""+o});let m=this,g;try{ur(this,Qs,su).call(this,e),Ye(m,Nr)[i(355)](i(366));async function Oe(qe,Be){const Ne=i;Debug[Ne(467)]()&&Debug.updateMessage(Ne(359),Ne(522)+qe);const Ve=await fetch(qe),Ue=Ve[Ne(441)].get(Ne(472)),We=Ue?parseInt(Ue,10):null;let He=0;const Ze=Ve[Ne(395)][Ne(426)](),st=[];async function it(){const vt=Ne;for(;[];){const{done:gt,value:tt}=await Ze.read();if(gt||Be==null)break;He+=tt[vt(427)],st[vt(347)](tt);const pt=Math[vt(394)](He/1024);if(We){const nt=(He/We*100)[vt(550)](2);g=Be+" "+nt+"%",Ye(m,Nr)[vt(355)](g)}else g=Be+" "+pt+vt(518),Ye(m,Nr)[vt(355)](g)}return Ye(m,Nr).print_progress(vt(436)),new Blob(st)}return await it()}const Ie=await Oe[i(489)](this,o,i(451)),_e=await Oe[i(489)](this,f,i(451)),De=await _e.arrayBuffer();ur(Te=m,dc,pl).call(Te,o,e),Ye(m,Nr).clear(),Ye(m,Nr)[i(377)]("Loading complete."),Ye(m,Nr).print(i(508)),hide(i(542)),hide(i(376)),hide("#menu-wrap"),hide("#menu-spacer"),hide(i(524));const Ee=()=>{const qe=i;document[qe(395)].removeEventListener(qe(537),Ee),document[qe(395)].removeEventListener(qe(533),Ee),m.startEmulation(Ie,e,De)};document.body[i(414)](i(537),Ee,{once:!![]}),document[i(395)][i(414)](i(533),Ee,{once:!![]})}catch(Oe){Debug[i(467)]()&&Debug.setMessage(i(404)+Oe);const Ie=Oe.stack||Oe;throw Ye(this,Nr)[i(380)](Ie,![]),new Error(i(429))}}async[_0x224fa8(541)](o,e){const i=_0x224fa8;ur(this,Qs,su).call(this,e),this[i(438)](o,e)}async loadRomFromCollection(o,e,i,c){const f=_0x224fa8;o=="md"&&(o="smd");let m=Object[f(490)](SelectedPlatforms)[f(558)](g=>g[f(548)]===o);Ye(this,ei)[f(540)](m)[f(502)](([g,Te,Oe])=>{const Ie=f;ir(this,jo,g);let _e=Object[Ie(490)](SelectedPlatforms)[Ie(558)](De=>De[Ie(548)]===o);this.setSelectedPlatform(_e),ir(this,Ho,c),this[Ie(541)](e,i)})}async[_0x224fa8(438)](o,e,i){const c=_0x224fa8;Debug[c(467)]()&&Debug[c(523)](c(359),c(485));let f=this;ir(this,Ys,o);let m=Ye(this,ei),g=Ye(this,Gr),Te=Ye(this,Gr)[c(363)];ir(this,da,{});let Oe=![];try{ir(this,Uo,await Nostalgist[c(382)]({core:Te,rom:{fileName:e,fileContent:o},async beforeLaunch(Ie){const _e=c;StorageManager.getValue("SHADER")!="0"&&typeof g[_e(465)]===_e(425)&&(Debug[_e(467)]()&&Debug[_e(523)](_e(359),_e(536)),await g.shader(Ie)),typeof g[_e(454)]===_e(425)&&(Debug[_e(467)]()&&Debug[_e(523)](_e(359),_e(539)),await g[_e(454)](Ie,m))},state:Ye(f,Ho),async onLaunch(Ie){const _e=c;ir(f,zo,e),Ie[_e(517)]("GAME_FOCUS_TOGGLE"),Ie[_e(517)](_e(415))},shader:StorageManager[c(470)](c(466))=="0"||typeof g[c(465)]===c(425)?void 0:"1",resolveCoreJs(Ie){const _e=c;return _e(443)+Te+_e(519)},resolveCoreWasm(Ie){const _e=c;return i||"./libretro/"+Te+_e(493)},resolveRom(Ie){const _e=c;return Debug[_e(467)]()&&Debug[_e(523)](_e(359),_e(458)),""+Ie},resolveShader(Ie){const _e=c;return StorageManager.getValue(_e(466))=="0"?[]:Ye(f,Gr).shader}}))}catch(Ie){Oe=!![],Debug[c(467)]()&&Debug.updateMessage(c(478),c(501)+Ie[c(412)]),Ye(this,Nr)[c(380)](Ie,![]),console.error("Error importing Nostalgist:",Ie);return}finally{Oe||(Debug[c(526)](),ur(this,Xs,cu).call(this,c(477),![]),Ye(this,Gs)[c(396)]())}}[_0x224fa8(496)](){return Ye(this,Uo)}[_0x224fa8(453)](){return Ye(this,zo)}[_0x224fa8(353)](){return Ye(this,da)}setSelectedPlatform(o){const e=_0x224fa8;ir(this,Gr,o),localStorage.setItem(Io[e(479)],Ye(this,Gr).platform_id)}getSelectedPlatform(){return Ye(this,Gr)}[_0x224fa8(354)](){return Ye(this,Ks)}updatePlatform(){const o=_0x224fa8;s(o(440))[o(534)]="("+Ye(this,Gr).short_name+")",this.theme(Ye(this,Gr)[o(531)]),ur(this,pc,ml).call(this)}[_0x224fa8(516)](){ur(this,xc,vl).call(this)}[_0x224fa8(531)](o){const e=_0x224fa8;s("html")[e(475)][e(515)]=e(500),document[e(481)].style[e(487)](e(431),e(437)),document[e(481)].style[e(487)](e(428),""),document.documentElement[e(475)][e(487)](e(348),""),document[e(481)].style[e(487)](e(397),e(507)),o["--width"]=="double"?s("#settings")[e(390)][e(445)]("doubleWidth"):s(e(349))[e(390)][e(556)]("doubleWidth"),ir(this,Ks,o),Object[e(547)](o)[e(439)](i=>{const c=e;document.documentElement[c(475)].setProperty(i,o[i])}),ur(this,Xs,cu).call(this,o[e(402)],![])}[_0x224fa8(424)](o,e){const i=_0x224fa8;Ye(this,ei)[i(386)](Ye(this,Gr)[i(548)]+"."+o,e)}[_0x224fa8(392)](o){const e=_0x224fa8;try{var i=[];o[e(555)][e(439)](c=>{const f=e;var m={};m[f(471)]=String(c[0]);const g=c[1],Te=o[f(411)]?o[f(411)][g]:null;m[f(361)]=o[f(559)]+o[f(410)][g]+c[2],Te&&(m[f(560)]=Te),i[f(347)](m)}),ir(this,da,o)}catch(c){console.log(c),Ye(this,Nr)[e(380)](c,![]),Ye(this,Nr)[e(412)](e(429))}}[_0x224fa8(529)](o,e){const i=_0x224fa8;try{var c=[];e[i(555)][i(439)](f=>{const m=i;var g={};g[m(471)]=String[f[0]],g[m(361)]=e.root+e[m(410)][f[1]]+f[2],c.push(g)}),ir(this,da,e),Ye(this,ei)[i(386)](o,e)}catch(f){console[i(356)]("error",f),Ye(this,Nr)[i(380)](f,![]),Ye(this,Nr).message(i(429))}}async loadCollectionFile(o){const e=_0x224fa8,i=new _0x167081;let c=[];try{const f=await i.loadAsync(o);if(f.files["vme_collection.json"]){const m=await f[e(456)](e(543))[e(528)](e(553)),g=JSON.parse(m);Ye(this,Nr).print(e(484)),Ye(this,Nr)[e(355)](e(525));let Te=g[e(360)][e(427)],Oe=0,Ie=g.id,_e=g[e(476)];const De=i.file(g[e(482)]);let Ee=null;if(De)Ee=await De.async("blob");else throw new Error(e(413)+g[e(482)]);for(const Be of g[e(360)]){Oe++,Ye(this,Nr)[e(355)]("Importing ... ("+Oe+"/"+Te+")");const Ne=Object[e(490)](SelectedPlatforms)[e(558)](it=>it[e(548)]===Be.platform_id);if(Ne==null)throw new Error(e(375));const[Ve,Ue,We]=await Ye(this,ei).checkFiles(Ne);if(Ue[e(427)]>0)throw new Error(e(381)+Be[e(548)]+" requirements.");const He=i[e(456)](Be[e(482)]);let Ze=null;if(He)Ze=await He.async(e(473));else throw new Error("The image file is invalid: "+Be[e(482)]);let st=null;if(Be.url)st=await(await fetch(Be[e(361)]))[e(473)]();else if(Be[e(456)]){const it=i[e(456)](Be.file);if(it)st=await it.async("blob");else throw new Error(e(505)+Be[e(456)])}else throw new Error(e(566)+Be[e(361)]);c[e(347)]({title:Be[e(409)]!=null?Be[e(409)]:"",credits:Be.credits!=null?Be.credits:"",description:Be.description!=null?Be[e(513)]:"",platform_id:Be[e(548)],file:st,data_type:e(473),filename:Be.filename,image:Ze})}if(await Ye(this,ei)[e(385)](Ie,_e,Ee,c))Ye(this,Nr)[e(412)](e(384));else throw new Error}else{Ye(this,Nr).message(e(484),e(491),e(371));return}}catch(f){console[e(478)]("An error occurred:",f),Ye(this,Nr)[e(380)](f,![]),Ye(this,Nr)[e(412)](e(484),e(491));return}}async loadVmeImportFile(o){const e=_0x224fa8,i=new _0x167081;let c=!![];try{const f=await i[e(435)](o);if(f[e(389)][e(570)]){const m=await f[e(456)](e(570))[e(528)](e(553)),g=JSON.parse(m);Ye(this,Nr).print("&nbsp;");let Te=1,Oe=Object.keys(g.platforms)[e(427)];for(const Ie in g[e(520)]){Ye(this,Nr)[e(355)](e(387)+Te+++"/"+Oe+")");const _e=g[e(520)][Ie];if(!await ur(this,Js,uu).call(this,_e.software,Ie+".software",f))return;if(_e[e(373)])for(const Ee in _e[e(373)]){const qe=_e[e(373)][Ee];if(!await ur(this,Js,uu).call(this,qe,Ie+"."+Ee,f))throw new Error(e(495))}}}else{Ye(this,Nr)[e(412)](e(484),e(352),e(474)),c=![];return}}catch(f){console[e(478)](e(442),f),Ye(this,Nr).guru(f,!![]),Ye(this,Nr)[e(412)](e(484),e(352)),c=![];return}c&&Ye(this,Nr).message(e(364))}[_0x224fa8(510)](o){const e=_0x224fa8;let i=this[e(571)]()[e(379)],c=e(362)+i+e(567)+o[e(545)](".zip",e(365));this.dynamicImg&&(this.dynamicImg.src=c,this.dynamicImg[e(475)][e(515)]="block")}[_0x224fa8(494)](){const o=_0x224fa8;this[o(488)]&&(this[o(488)][o(475)].display=o(437))}[_0x224fa8(514)](o){return new Promise(e=>setTimeout(e,o))}async[_0x224fa8(538)](o,e,i,c){const f=_0x224fa8;if(o=="md"&&(o=f(408)),o!=Ye(this,Gr).platform_id){let m=Object[f(490)](SelectedPlatforms)[f(558)](g=>g[f(548)]===o);this[f(370)](m),this.updatePlatform()}ir(this,Ho,e),await this.loadRomFile(i,c)}async[_0x224fa8(509)](){const o=_0x224fa8;let e=await Ye(this,Uo)[o(509)]();const i=e[o(468)],c=e.thumbnail,f=Ye(this,Gr)[o(548)],m=Ye(this,zo),g=Ye(this,Ys);Ye(this,ei)[o(416)](i,g,c,f,m)}};Gr=new WeakMap,da=new WeakMap,ei=new WeakMap,Ks=new WeakMap,Uo=new WeakMap,Gs=new WeakMap,Nr=new WeakMap,jo=new WeakMap,zo=new WeakMap,Ho=new WeakMap,Ys=new WeakMap,Qs=new WeakSet,su=async function(o){const e=_0x224fa8;s(e(460))[e(475)][e(515)]=e(437),s(e(460))[e(534)]="",s(e(486))[e(534)]=e(434)+o+'"',s(e(498))[e(534)]=`
`,Ye(this,Nr).print_progress(e(451));const i=this;let c={};EnvironmentManager[e(423)]()&&Ye(this,Gr).touch_controller_mapping!=null?c={...Ye(this,Gr)[e(463)]}:EnvironmentManager.hasGamepad()?c={input_player1_up:e(448),input_player1_left:e(448),input_player1_down:"nul",input_player1_right:e(448),input_player1_b:"nul",input_player1_a:e(448),input_player1_c:e(448)}:Ye(this,Gr)==SelectedPlatforms[e(449)]&&(c={input_player1_x:e(448),input_player1_y:e(448),input_player1_c:e(448),input_player1_b:"z",input_player1_a:"nul",input_player1_l:e(448),input_player1_r:e(448),input_player1_select:e(448),input_player1_start:e(448),input_player1_l2:e(448),input_player1_r2:e(448)}),Nostalgist[e(532)]({bios:typeof Ye(this,Gr).guessBIOS===e(425)?Ye(this,Gr)[e(405)](o):Ye(this,Gr)[e(565)],retroarchConfig:{rewind_enable:!![],rewind_buffer_size:20,rewind_granularity:Ye(this,Gr)[e(417)]===void 0?5:Ye(this,Gr)[e(417)],fastforward_ratio:Ye(this,Gr)[e(459)]===void 0?10:Ye(this,Gr)[e(459)],input_pause_toggle:![],video_scale_integer:Ye(this,Gr)[e(568)]===void 0?![]:Ye(this,Gr)[e(568)],video_smooth:Ye(this,Gr)[e(393)]===void 0?!![]:Ye(this,Gr)[e(393)],savestate_thumbnail_enable:!![],video_font_enable:![],input_menu_toggle:e(448),video_adaptive_vsync:!![],video_vsync:!![],...c},retroarchCoreConfig:typeof Ye(this,Gr)[e(506)]===e(425)?Ye(this,Gr)[e(506)](o):{},resolveBios(f){const m=e;let g=Ye(i,Gr)[m(548)]+"."+f,Te=Ye(i,jo)[g];return new Blob([Te],{type:m(447)})}})},dc=new WeakSet,pl=function(o,e){const i=_0x224fa8,c={filename:o,caption:e},f=JSON[i(351)](c);StorageManager[i(504)](Ye(this,Gr)[i(548)]+i(372),f)},hc=new WeakSet,_l=function(o,e,i){const c=_0x224fa8;Ye(this,Nr)[c(377)](o),Ye(this,Nr)[c(377)](c(369)+(e?"x":" ")+c(554)),Ye(this,Nr)[c(377)](c(369)+(i?"x":" ")+c(561)),Ye(this,Nr)[c(377)](c(484))},xc=new WeakSet,vl=async function(){const o=_0x224fa8;for(const e in SelectedPlatforms){const i=SelectedPlatforms[e],[c,f,m]=await Ye(this,ei).checkFiles(i),g=f[o(427)]===0;ur(this,hc,_l).call(this,i[o(367)],g&&!i[o(433)],m!==null)}},pc=new WeakSet,ml=function(){const o=_0x224fa8;Ye(this,ei)[o(540)](Ye(this,Gr))[o(502)](([e,i,c])=>{const f=o;ir(this,jo,e);let m=!![];Ye(this,Nr)[f(377)](Ye(this,Gr).platform_name),Ye(this,Nr)[f(377)](f(544)+"="[f(455)](Ye(this,Gr).platform_name[f(427)])+f(527)),i[f(427)]>0&&(m=![],Ye(this,Nr).print(f(484)),Ye(this,Nr)[f(377)](f(535)),i[f(439)](g=>{const Te=f;Ye(this,Nr)[Te(377)]("- "+g)})),c==null?(Ye(this,Nr).print("&nbsp;"),m=![],Ye(this,Nr).print("SOFTWARE DIRECTORY missing!"),ir(this,da,void 0)):this[f(392)](c),Ye(this,Nr)[f(377)](f(484)),StorageManager.getValue(f(432))=="1"&&(Ye(this,Nr).print(f(512)),Ye(this,Nr).print(f(484))),Ye(this,Gr)[f(412)]?(Ye(this,Nr)[f(377)](f(378)+Ye(this,Gr)[f(412)]+"</span>"),Ye(this,Nr)[f(377)](f(484)),Ye(this,Nr)[f(377)](f(499))):m?(Ye(this,Nr)[f(377)](c.items[f(427)]+f(564)),Ye(this,Nr)[f(377)]("&nbsp;"),Ye(this,Nr).print(f(499))):(Ye(this,Nr).print("Please import the missing file(s)."),Ye(this,Nr)[f(377)](f(484)),Ye(this,Nr).print(f(530)))}).catch(e=>{const i=o;console[i(356)](e.stack),Ye(this,Nr)[i(380)](e,![]),Ye(this,Nr)[i(377)](i(406)+Ye(this,Gr)[i(367)]+" core.")})[o(562)](()=>{const e=o;Ye(this,Nr)[e(461)]()})},Xs=new WeakSet,cu=function(o){const e=_0x224fa8;s(e(349))[e(475)].background=o,s("body")[e(475)].background=o,s(e(444))[e(475)][e(399)]=o},Js=new WeakSet,uu=async function(o,e,i){const c=_0x224fa8;if(i.files[o]){let m;if(o[c(418)](".json")){m=await i.file(o).async("string");let g=JSON[c(407)](m);this.importCorsFile(e,g)}else{m=await i.file(o)[c(528)]("arraybuffer");var f=cryptoJsExports.lib[c(549)][c(419)](m);cryptoJsExports.MD5(f)[c(422)](),await Ye(this,ei).storeFile(e,m)}return console.log(c(430)+e),!![]}else return console[c(478)](o+c(521)),Ye(this,Nr)[c(412)]("&nbsp;",c(352),""+o+" not found."),![]},hu=new WeakSet,mf=function(){const o=_0x224fa8;this[o(488)]=document[o(398)](o(462)),this[o(488)][o(552)]=o(457),this[o(488)][o(475)][o(515)]=o(437),document[o(395)][o(483)](this.dynamicImg),this[o(488)][o(414)](o(478),()=>{this[o(494)]()});const e=document.getElementById(o(450));e[o(414)](o(469),i=>{const c=o;if(i[c(497)][c(546)]===c(383)&&i[c(497)].parentNode[c(390)].contains("corsrow")){let f=i[c(497)][c(551)].trim();this.showThumbnail(f)}}),e[o(414)]("mouseout",i=>{const c=o;i[c(497)][c(546)]===c(383)&&i[c(497)][c(511)][c(390)].contains(c(400))&&this[c(494)]()})},un(Io,Pf,_0x224fa8(480)),un(Io,Bf,_0x224fa8(403));let PlatformManager=Io;const _0x16f4ca=_0x14c7;(function(_,o){const e=_0x14c7,i=_();for(;[];)try{if(parseInt(e(240))/1+-parseInt(e(237))/2*(-parseInt(e(262))/3)+-parseInt(e(233))/4*(-parseInt(e(209))/5)+-parseInt(e(231))/6*(parseInt(e(213))/7)+parseInt(e(268))/8+-parseInt(e(215))/9*(parseInt(e(256))/10)+-parseInt(e(278))/11===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x16f1,533819);var Na,Wo,La,Zs,fn,Ma,Ko,Go,_c,gl,Yo,N0,vc,yl,ha,Ao,$s,lu,mc,bl,gc,El,yc,wl;class SaveBrowser{constructor(o,e,i,c){Ut(this,_c);Ut(this,Yo);Ut(this,vc);Ut(this,ha);Ut(this,$s);Ut(this,mc);Ut(this,gc);Ut(this,yc);Ut(this,Na,void 0);Ut(this,Wo,void 0);Ut(this,La,void 0);Ut(this,Zs,void 0);Ut(this,fn,void 0);Ut(this,Ma,void 0);Ut(this,Ko,void 0);Ut(this,Go,void 0);const f=_0x14c7;ir(this,Na,o),ir(this,Wo,e),ir(this,La,i),ir(this,Zs,c),ir(this,Go,ur(this,gc,El)[f(258)](this)),addButtonEventListeners(s("#saveBrowserUiBack"),m=>{const g=f;m&&(this.close(),Ye(this,Na)[g(223)](VME.CURRENT_SCREEN.MENU))})}[_0x16f4ca(203)](){const o=_0x16f4ca;let e=document.querySelector("#save-browser");e[o(250)][o(217)](o(263)),e[o(265)][o(285)]=1,ur(this,mc,bl).call(this),ir(this,fn,new Flicking(o(232),{circular:!![],moveType:"snap",preventClickOnDrag:!![],autoResize:!![]}));let i=this,c=![];const f=m=>{const g=o;c||(c=!![],Ye(this,fn)[g(281)](m)[g(211)](()=>{c=![]}).catch(()=>{c=![]}))};Ye(this,La)[o(201)]().then(m=>{var Te,Oe,Ie,_e;const g=o;m[g(227)]==0?(ur(Te=i,ha,Ao).call(Te),ur(Oe=i,Yo,N0).call(Oe)):(m.forEach(Ee=>{var Ne;const qe=g,Be=ur(Ne=i,_c,gl).call(Ne,Ee);Ye(i,fn)[qe(259)](Be)}),document[g(264)](g(222)).forEach((Ee,qe)=>{const Be=g;Ee[Be(254)](Be(207),()=>f(qe)),Ee[Be(254)](Be(242),()=>f(qe))}),Ye(i,fn).on(g(276),Ee=>{var qe,Be;ur(qe=i,Yo,N0).call(qe),ur(Be=i,ha,Ao).call(Be)}),Ye(i,fn).on(g(267),Ee=>{var qe;ur(qe=i,vc,yl).call(qe)}),Ye(i,fn).on(g(287),Ee=>{var qe;ur(qe=i,ha,Ao).call(qe)}),Ye(i,fn).on("moveStart",Ee=>{const qe=g;document[qe(264)](".flicking-panel").forEach(Ne=>Ne[qe(250)].remove(qe(245))),document.getElementById(qe(230)).classList.add(qe(228)),document[qe(255)](qe(197))[qe(250)][qe(217)](qe(228)),ir(this,Ma,![])}),ur(Ie=i,ha,Ao).call(Ie),ur(_e=i,Yo,N0).call(_e),ir(this,Ko,![]))}),document[o(254)](o(206),Ye(this,Go)),addButtonEventListeners(s(o(261)),m=>{const g=o;if(m&&Ye(this,Ma)){const Te=Ye(this,fn)[g(225)];if(Te!=null){const Oe=Te.element[g(249)](g(219)),Ie=parseInt(Oe,10),_e=Ye(i,fn)[g(246)]-1;Ye(i,La)[g(277)](Ie).then(()=>{var qe;const De=g;Ye(i,fn).remove(Te[De(269)]);let Ee=Te[De(269)];Ee>=_e&&(Ee=_e-1),Ye(i,fn).panelCount>0&&Ye(i,fn)[De(281)](Ee,0),ur(qe=i,ha,Ao).call(qe)})}}}),addButtonEventListeners(s(o(272)),m=>{m&&ur(this,$s,lu).call(this)}),Ye(this,Na)[o(223)](VME[o(257)].SAVE_BROWSER)}[_0x16f4ca(208)](){const o=_0x16f4ca;document[o(205)](o(206),Ye(this,Go)),Ye(this,Zs)[o(288)](),Ye(this,Wo)[o(214)]()}}Na=new WeakMap,Wo=new WeakMap,La=new WeakMap,Zs=new WeakMap,fn=new WeakMap,Ma=new WeakMap,Ko=new WeakMap,Go=new WeakMap,_c=new WeakSet,gl=function(o){const e=_0x14c7;o[e(266)]=="md"&&(o[e(266)]=e(286));const i=Object[e(199)](SelectedPlatforms)[e(275)](g=>g[e(266)]===o[e(266)]);let c=new Blob([o[e(247)]],{type:"image/png"});const f=URL[e(280)](c),m=Math[e(236)]()*20-10;return`
        <div class="flicking-panel" data-id="`+o.id+e(283)+f+e(274)+o[e(221)]+'" style="transform: rotate('+m+e(200)+ur(this,yc,wl).call(this,o[e(221)])+" ("+i[e(210)]+`)</div>
        </div>
        `},Yo=new WeakSet,N0=function(){const o=_0x14c7;var e=Ye(this,fn)[o(225)];if(e!=null){var i=e.element[o(270)](o(284))[o(271)];document[o(270)](o(198)).style[o(289)]=i,document[o(270)](o(198))[o(265)][o(289)]=o(260)+i+")",document[o(270)](o(198))[o(265)][o(229)]=o(244)}},vc=new WeakSet,yl=function(){const o=_0x14c7;var e=Ye(this,fn).element[o(202)],i=Ye(this,fn)[o(273)][o(252)]/e,c=document.querySelector(o(198));c.style[o(229)]=o(218)+i*50+"%) scale(12)"},ha=new WeakSet,Ao=function(){const o=_0x14c7,e=Ye(this,fn)[o(225)];e!=null?(document[o(255)](o(241))[o(265)][o(251)]="none",document[o(255)]("saveBrowserUiLoad")[o(250)][o(217)](o(228)),document[o(255)](o(197))[o(250)][o(217)]("disabled"),document.querySelectorAll(o(222))[o(279)](c=>c[o(250)][o(282)](o(245))),e[o(243)][o(250)][o(217)](o(245)),document.getElementById(o(230)).classList[o(282)]("disabled"),document[o(255)](o(197)).classList[o(282)](o(228)),ir(this,Ma,!![])):(document[o(255)]("saveBrowserEmpty").style[o(251)]=o(238),document[o(255)](o(241)).innerHTML=o(204),document[o(255)](o(230))[o(250)].add(o(228)),document[o(255)](o(197)).classList.add(o(228)))},$s=new WeakSet,lu=function(){const o=_0x16f4ca;if(this[o(208)](),Ye(this,Ma)&&!Ye(this,Ko)){ir(this,Ko,!![]);const e=Ye(this,fn)[o(225)];if(e!=null){const i=e[o(243)][o(249)](o(219)),c=parseInt(i,10);Ye(this,La)[o(234)](c)[o(211)](f=>{const m=o;Ye(this,Wo).loadState(f[m(266)],f[m(226)],f.rom_data,f[m(221)])})}}},mc=new WeakSet,bl=function(){const o=_0x16f4ca;if(Ye(this,fn)){const e=Ye(this,fn)[o(246)];for(let i=e-1;i>=0;i--)Ye(this,fn)[o(282)](i);Ye(this,fn)[o(248)]()}},gc=new WeakSet,El=function(o){const e=_0x16f4ca;!Ye(this,fn)||Ye(this,fn)[e(212)]||(o[e(239)]==="ArrowRight"?Ye(this,fn)[e(224)]().catch(()=>{}):o[e(239)]===e(220)?Ye(this,fn).prev().catch(()=>{}):o[e(239)]===e(235)?ur(this,$s,lu).call(this):o[e(239)]==="Escape"&&(this[e(208)](),Ye(this,Na)[e(223)](VME.CURRENT_SCREEN.MENU)))},yc=new WeakSet,wl=function(o){const e=_0x16f4ca;return o=o[e(216)](/\.[^/.]+$/,""),o=o[e(216)](/[\[\(][^\[\]\(\)]+[\]\)]/g,"")[e(253)](),o};function _0x14c7(_,o){const e=_0x16f1();return _0x14c7=function(i,c){return i=i-197,e[i]},_0x14c7(_,o)}function _0x16f1(){const _=["getAttribute","classList","display","position","trim","addEventListener","getElementById","190osbaXc","CURRENT_SCREEN","bind","append","url(","#saveBrowserUiDelete","123867dIUmnV","show","querySelectorAll","style","platform_id","move","5034400VNeVVs","index","querySelector","src","#saveBrowserUiLoad","camera",'" alt=',"find","changed","deleteSave","8920175iXeRsL","forEach","createObjectURL","moveTo","remove",`">
            <img src="`,"img","opacity","smd","moveEnd","reset","background","saveBrowserUiDelete",".flicking-background","values",`deg)">
            <div class="flicking-title flicking-title-name">`,"getAllSaveMeta","clientWidth","open","No save states found.","removeEventListener","keydown","click","close","5945kPtTKz","short_name","then","animating","35fTEgvJ","updatePlatform","292428hcReQa","replace","add","translateX(","data-id","ArrowLeft","program_name",".flicking-panel","toggleScreen","next","currentPanel","save_data","length","disabled","transform","saveBrowserUiLoad","725778opfCIf","#flicking","2364CQpKZd","getSaveData","Enter","random","30ChLxfY","block","key","615573WsozEc","saveBrowserEmpty","touchstart","element","scale(12)","active","panelCount","screenshot","destroy"];return _0x16f1=function(){return _},_0x16f1()}const _0x5efa93=_0x367f;(function(_,o){const e=_0x367f,i=_();for(;[];)try{if(parseInt(e(465))/1*(-parseInt(e(494))/2)+-parseInt(e(449))/3*(parseInt(e(468))/4)+parseInt(e(425))/5+-parseInt(e(398))/6*(parseInt(e(490))/7)+-parseInt(e(434))/8*(parseInt(e(463))/9)+-parseInt(e(409))/10+parseInt(e(410))/11===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x1ae9,247962);function _0x1ae9(){const _=["dataset","addEventListener",'" data-save="',"style","48537ntvDox","rom_data_id","142108zAkvjR","currentPanel","getAttribute","6392lncmTa","MENU","filter","getSaveData","#collectionBrowserUiBack","display","sort","values","collectionBrowserUiLoad","timestamp",`
        <div class="flicking-panel" data-id="`,"ArrowRight","loadRomFromCollection","collectionBrowserUiRestore","smd","append","random","collectionBrowserEmpty",`deg)">
            <div class="flicking-title flicking-title-name">
            <span class="flicking-primary-label">`,"active","getRomData","touchstart","888391BydpqL",`">
            <img src="`,"querySelector","classList","2WeWPaE","bind","save_data","rom_name","innerHTML","Escape","6qDDZlq","platform_id","reset","click","data-id","moveEnd","No collection found.","length","save_data_id","title","destroy","3751890ulVDvg","12259324KeWgYj","element",`</span>
            <br/>
            <span class="flicking-secondary-label">(`,"COLLECTION_BROWSER","opacity","push","none",`</span>
            </div>
        </div>
        `,`)</span>
            <br/>
            <span class="flicking-secondary-label">`,"show","snap","disabled","clearValue","panelCount","add","986775tcahed","changed","CURRENT_SCREEN","remove","Cannot load selected program.","key","then","getElementById","Enter","248uCHFRj","open",'" alt=',"image","close","credits",".flicking-panel","findIndex","keydown","contains","#collection-flicking","querySelectorAll","find","forEach","getAllSaveMeta","474tfNgcY","toggleScreen","undefined","removeEventListener","next","storeValue","panels","save","moveTo","catch"];return _0x1ae9=function(){return _},_0x1ae9()}function _0x367f(_,o){const e=_0x1ae9();return _0x367f=function(i,c){return i=i-393,e[i]},_0x367f(_,o)}var Va,Qo,Yi,e0,Cn,Ua,ja,xa,Xo,bc,Sl,za,ks,Ec,Al,t0,fu,wc,Il,Sc,Cl;class CollectionBrowser{constructor(o,e,i,c){Ut(this,bc);Ut(this,za);Ut(this,Ec);Ut(this,t0);Ut(this,wc);Ut(this,Sc);Ut(this,Va,void 0);Ut(this,Qo,void 0);Ut(this,Yi,void 0);Ut(this,e0,void 0);Ut(this,Cn,void 0);Ut(this,Ua,void 0);Ut(this,ja,void 0);Ut(this,xa,void 0);Ut(this,Xo,void 0);const f=_0x367f;ir(this,Va,o),ir(this,Qo,e),ir(this,Yi,i),ir(this,e0,c),ir(this,Xo,ur(this,Sc,Cl)[f(393)](this)),addButtonEventListeners(s(f(472)),m=>{const g=f;m&&(StorageManager.clearValue(BOOT_TO),StorageManager.clearValue(COLLECTION_BROWSER_COLLECTION_INDEX),StorageManager[g(422)](COLLECTION_BROWSER_ITEM_INDEX),this[g(438)](),Ye(this,Va).toggleScreen(VME[g(427)][g(469)]))})}async[_0x5efa93(435)](o=1,e=1){const i=_0x5efa93;let c=document[i(492)]("#collection-browser");c.classList[i(424)](i(419)),c[i(462)][i(414)]=1,ur(this,wc,Il).call(this),ir(this,Cn,new Flicking(i(444),{circular:![],moveType:i(420),preventClickOnDrag:!![],autoResize:!![]}));let f=this,m=![];const g=Oe=>{const Ie=i;m||(m=!![],Ye(this,Cn)[Ie(457)](Oe)[Ie(431)](()=>{m=![]})[Ie(458)](()=>{m=![]}))};ir(this,Ua,[]);const Te=await Ye(this,Yi)[i(448)]();Ye(this,Yi).getCollectionItems().then(Oe=>{var _e,De;const Ie=i;if(Oe.length==0)ur(_e=f,za,ks).call(_e);else{Oe[Ie(447)](Be=>{var We;const Ne=Ie,Ve=Te[Ne(470)](He=>He[Ne(399)]==Be.platform_id&&He[Ne(464)]==Be[Ne(464)])[Ne(474)]((He,Ze)=>Ze[Ne(477)]-He[Ne(477)])[0];Ve!=null&&(Be[Ne(406)]=Ve[Ne(406)]);const Ue=ur(We=f,bc,Sl).call(We,Be);Ye(f,Cn)[Ne(483)](Ue),Ye(this,Ua)[Ne(415)](Be)}),document[Ie(445)](Ie(440))[Ie(447)]((Be,Ne)=>{const Ve=Ie;Be[Ve(460)](Ve(401),()=>g(Ne)),Be[Ve(460)](Ve(489),()=>g(Ne))}),Ye(f,Cn).on(Ie(426),Be=>{var Ne;ur(Ne=f,za,ks).call(Ne)}),Ye(f,Cn).on(Ie(403),Be=>{var Ne;ur(Ne=f,za,ks).call(Ne)}),Ye(f,Cn).on("moveStart",Be=>{const Ne=Ie;document[Ne(445)](Ne(440))[Ne(447)](Ue=>Ue[Ne(493)][Ne(428)](Ne(487))),document[Ne(432)](Ne(476)).classList[Ne(424)](Ne(421)),document.getElementById(Ne(481)).classList.add(Ne(421)),ir(this,ja,![])});const qe=Ye(f,Cn)[Ie(455)][Ie(441)](Be=>Be[Ie(411)][Ie(459)].id===String(e));qe>=0&&Ye(f,Cn)[Ie(457)](qe,0),ur(De=f,za,ks).call(De),ir(this,xa,![])}}),document[i(460)](i(442),Ye(this,Xo)),addButtonEventListeners(s("#collectionBrowserUiLoad"),Oe=>{Oe&&ur(this,t0,fu).call(this)}),addButtonEventListeners(s("#collectionBrowserUiRestore"),Oe=>{Oe&&ur(this,Ec,Al).call(this)}),StorageManager[i(454)](BOOT_TO,BOOT_TO_COLLECTION_BROWSER),Ye(this,Va)[i(450)](VME[i(427)][i(413)])}close(){const o=_0x5efa93;document[o(452)](o(442),Ye(this,Xo)),Ye(this,e0)[o(400)]()}}Va=new WeakMap,Qo=new WeakMap,Yi=new WeakMap,e0=new WeakMap,Cn=new WeakMap,Ua=new WeakMap,ja=new WeakMap,xa=new WeakMap,Xo=new WeakMap,bc=new WeakSet,Sl=function(o){const e=_0x367f;o[e(399)]=="md"&&(o[e(399)]=e(482));const i=Object[e(475)](SelectedPlatforms)[e(446)](f=>f[e(399)]===o[e(399)]),c=Math[e(484)]()*20-10;return e(478)+o.id+e(461)+o[e(406)]+e(491)+o[e(437)]+e(436)+o[e(407)]+'" style="transform: rotate('+c+e(486)+o[e(407)]+e(412)+o[e(439)]+e(418)+i.platform_name+e(417)},za=new WeakSet,ks=function(){const o=_0x367f,e=Ye(this,Cn).currentPanel;e!=null?(document.getElementById("collectionBrowserEmpty").style[o(473)]=o(416),document.querySelectorAll(o(440))[o(447)](c=>c.classList.remove(o(487))),e[o(411)][o(493)][o(424)]("active"),document[o(432)](o(476))[o(493)].remove(o(421)),e[o(411)][o(459)].save!=o(451)?document[o(432)](o(481))[o(493)][o(428)](o(421)):document[o(432)](o(481)).classList[o(424)]("disabled"),ir(this,ja,!![])):(document[o(432)](o(485))[o(462)].display="block",document.getElementById(o(485))[o(396)]=o(404),document[o(432)]("collectionBrowserUiRestore")[o(493)][o(424)](o(421)),document[o(432)](o(476))[o(493)].add(o(421)))},Ec=new WeakSet,Al=async function(){const o=_0x5efa93;if(Ye(this,ja)&&!Ye(this,xa)){const e=Ye(this,Cn)[o(466)];if(e!=null){if(document[o(432)](o(481))[o(493)][o(443)](o(421)))return;ir(this,xa,!![]);const i=e.element[o(467)](o(402)),c=parseInt(i,10);StorageManager[o(454)](COLLECTION_BROWSER_COLLECTION_INDEX,1),StorageManager.storeValue(COLLECTION_BROWSER_ITEM_INDEX,c);const f=Ye(this,Ua)[o(470)](m=>m.id===c);if(f.length>0){const m=e[o(411)][o(459)][o(456)],g=parseInt(m,10),Te=await Ye(this,Yi)[o(471)](g),Oe=f[0],Ie=await Ye(this,Yi)[o(488)](Oe[o(464)]);Ye(this,Qo)[o(480)](Oe[o(399)],Ie.rom_data,Oe[o(395)],Te[o(394)]),this[o(438)]()}else throw new Exception(o(429))}}},t0=new WeakSet,fu=async function(){const o=_0x5efa93;if(Ye(this,ja)&&!Ye(this,xa)){ir(this,xa,!![]);const e=Ye(this,Cn)[o(466)];if(e!=null){const i=e.element[o(467)](o(402)),c=parseInt(i,10);StorageManager[o(454)](COLLECTION_BROWSER_COLLECTION_INDEX,1),StorageManager[o(454)](COLLECTION_BROWSER_ITEM_INDEX,c);const f=Ye(this,Ua)[o(470)](m=>m.id===c);if(f[o(405)]>0){const m=f[0],g=await Ye(this,Yi)[o(488)](m.rom_data_id);Ye(this,Qo)[o(480)](m[o(399)],g.rom_data,m[o(395)]),this[o(438)]()}else throw new Exception(o(429))}}},wc=new WeakSet,Il=function(){const o=_0x5efa93;if(Ye(this,Cn)){const e=Ye(this,Cn)[o(423)];for(let i=e-1;i>=0;i--)Ye(this,Cn)[o(428)](i);Ye(this,Cn)[o(408)]()}},Sc=new WeakSet,Cl=async function(o){const e=_0x5efa93;!Ye(this,Cn)||Ye(this,Cn).animating||(o[e(430)]===e(479)?Ye(this,Cn)[e(453)]().catch(()=>{}):o[e(430)]==="ArrowLeft"?Ye(this,Cn).prev()[e(458)](()=>{}):o[e(430)]===e(433)?ur(this,t0,fu).call(this):o.key===e(397)&&(this[e(438)](),Ye(this,Va).toggleScreen(VME[e(427)].MENU)))};const _0x2c635e="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAKUPMvFBQAAXaWbT8YkAAYBgAA4x/4xj/5d3vd3d34QXFxc+A4BoKDQUAKAKAsBoKU4uDQGgpTu7ule7u9/u7vf/8u91/Lu7pW5Yue7mKHYKwFwFw/YOAFwFwbngQEDPg++olnOqSYV1ZhCJNKWMAJgBxgjIjV2XFoAfl2GMKBQaWUJESywrggJFVDq0RDyAKF3Qsh9IhUCDrdh4Ut+DWznv8/OfjNJHWVqf++9/8oq0IHZaXDLJAgSKZb+DDutKr/3of+h3UXrrUA//tSxAUAC3EBUrjFgAF8HGuDEvAAS4ZECEdUqFxQ1ghPPPIM4OhYgkiUfOnjyJLYoYqSudPmA6hKEidLT1/SkO7fG2my+Lnpjnuc2Ld3bI631P7d0SgaxWyfg9Md55705ps6Jr3e5KxAYEAPPTAsZEzWWbUNms3nYISopCeKBgbWp8+vNeG5ORyN+runVKzx8FGRQNwUomiJISeK7VPp9fqN0wZWI/zAfWt///3kje5w4UTH3BzXH/zP8/2pd7cUKVf4g+IqHiuAoHBC0nccSXP/+1LEBYALcNVMGYSAAX2UqMMykADLONBirVnei9LAkgBYNKqsCoQEhpESztHo+yqFYUULJahEIPA1Fh7SKCOXmru+Lo7cZQqEM+V99Vcff97/WVv///8kUXRjkoMHSVMtZ/bnIiECrFQCe/5whX3mfxrEqeyGmzs5lEjmbgyBlAye0LCUiaM2rmkYiRE1L9BkF2FTJ8mYjSJRpRTqL5JiO25KW1ru/M9xx8LUwHlh4GDpNRcmMaxj4bIHaz6JG3mmyS//1y6IYQdsalponDrbnP/7UsQGAAvk51IY94ABc6WpwxiwASEXxGFMgFFM/fNDT7TZgSQa1+Zo5+HBqr4SHftOTs01XMxs1U6xTxa5/Z5mNnZM7xGs+hf//V3mvTXjYtC+df//948ph5Ef3+ISeYVa94ls5/vKhorEpW0ZwmjhQH8fDJFfjdWaGpph4OG70m003Bg3YhNO7T0CkltjqWPezH0ah2AmK7u23/zB8nuOez39s+GfvTP5z+JfW7+eJv9BA0Mx4Hwnwctl///3//+Os3HbkttbkZcTYAFqYrDQ//tSxAYADATvZ7iUAAF1oCsDEvAAoAPIlkQIrETAiRMKESJZDi5IBg7aSyQaiFCSego4sE4/vFaFxc8RwBAEyUVGnSd7EYRkEo1aX+nFEp+tjVi///kXHigoZ8LUytf//nuBHYa/65QBzszi7ieabcYrhskOx1AoQ+cNvldF2p4U+d9hXM4hUsZle69KmeRz9yiNsWDXxJs01D97R4vtjP19Zz/F3iE/gw//65rreKX/xueLNmlJcb9rW9rf/5//gQEkeIvU5VGNJWoQSAwAVUT/+1LEBQALpRtiGJQAAWMR6reYgAAsLmRoyYLywmD2x1UQSwfcuYNo5ygOWVU5WNDuhY46Uibk+hez0ZZD0mv2+SxHMH1zyqipX/Hno5toQNPqxKHRYyauLn5+T+Ve36vs4Rclw1859VWSBTgQMcluBEZKxpGoyA8cD0qLSJKa4ZsGQAWbNBQUIIc1JqoLCwszN/qpNNGqyvC1OtNEfbdSSG8SiV07OoQtxIFTCciOeWNqtMBQ9/R8SpZpCZyn63/Qjc1QApttwfJpLRrkqS6MT//7UsQIAAwkM0lHsSYJYounYPYkyZkHYVEoQHyBoRIhLI8TDiMy1jjgkrplWmqE0xkonLc3gvYUyw6aoxLMt+9jieUOHxsWKcqW5j7Y3tKA34fu1lcktrenov92nHdpYsbpv////QjAgAMNUmYrx5mk6NY0mQRbAtZoEA2QCAMEYUOGjAfWc5Gky9BsnZNJOs3GXv2DWE2gsF5n6rmuCiHy/MKf/zP2/z4MRb7fzLpW4r9gPKnPXurDN//ch8pqYsqkIITjbcAAokABGAbCoOCs//tSxAkACjx7QaWwaMFGqGaw8Iq4Mgk+MBpPQ8HtEIDEUabFxbXS1M5pWuaP3XNTzliDoKB8weLDkwsXJuHSG8BiZjRzLC0klgtqpVItEu5aBSOVHEORIglVpsVhNzuLybx6l6XRksDRCNt4rFfpqvJVvpp7H3P4mxgANmyRiQWTSjhadZEcy5BxhmYObe9TIjl9f+nXDRXwsofDe1maiUVmu4lSUIoBRJIgDSqBBhGlor0Kgh+neaUyOS8VASAWdJDsUiiutYzrMNckwutPLNX/+1LEFQAJ7IMph6RswQ2Mo9j3mADNU6qfAx5l2B3FWvfJDIuhBsehNFais9S5jNEqR0N+Bvss93/yIF/2WQV5HogcSygpI0lZEJKCtNIuRRYBbMtLHU5HDqokkai1aRo1Fjh4xlZ0s9AVO6zp4RLnst8j+Wh3/Ge2S0f//74AA2VmRI7t/+lJHnEnrSEq0jLK0/Y/liX69jmyP4U1IQRqb/20J//td//lqkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqv/7UsQpg8VoARPgjEAgAAA0gAAABKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",_0x1ecf89="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAIhHErNDGAAbGs7fcSgAGUACAADbd3d+IBgbnoicL/03c/0RAMDFu7nEAwMDfiE4AAHAfD4jPlAQWCCwfPlz//E5//wffiMP6wQDH/y4f//BA5D/s0e/9fr7VJgCJ6QKCOVMjTI4T0nChxvk0EE63caf3VhEKkT2emwdhsIClcmnd0HmIIRvyxXV0knjomxwtx/d/+MEYcnes02tf/9XzdkUjp3zXHf///o9Lb8uNZv+fWV/////k0PxQoD0uRJcVOHUIMYwuxdgD5//tSxAUACyy/Uhj0gAF+IuxnGIAALApj/XbIsImGyYbA0TWwTaaNdrc6c+6akt78xAw5sq0hz1nn/CAhlKvGOX6v/0j2Ecr/IITbENzNbVEQFUoWa5S2KeKBxvnVRZZd87/5EwAr/z/zqhx5+AYEgtjYQT3T8Go7xg0lx6hXIKoFDBQPqQWMebG0wxeYoXkWNv4mxe0IFAXS1FfszGIrjRcWvnaF4/D8ckI6C0TX///cWm03Bhf/Ps0f//4iOEHAm+OdIjAIIAhRLqCpnBpG4tP/+1LEBoAL5ING/YSAAXCU6PDEjZgXdD5ABB1vVboGca20qNP8KSUZGGjT2I1Wyi12cdlqb8QoZSWxCoinLfLylLbk08XUFTC1iU3KmHKfDS3JqAwNeE3U0zbOcY1RNyQlGsahv//IQVBIkEAK9KwKk0oBKSiqSQ7Py6YFoQyYPMpnUsLM0iXMEKCfLTVguwc2y2iFvXTG7Q4GLEe9OyOUJIxEgJYbAtCAfaF1JKkB5Ne8ACoOBgXQY1Kc6LquW31f/+QqihsQAAYDQ0TMxVOWFP/7UsQGgIvwjT0nsMbBcRhnQp6QANL4FDGhHMhhw/nBfhOQD2ErVr6g/i0ph1qAJoKb5zdOrTzkiRIGOtiWVSXwmwJoXARARktx6KtCAdFzwfS96hYcDV7noUpzIde1IbWKi56n//6iwB1oghtE8nVIJmVw9JbkCq6PojMNEMpHi5aSGWEwyQI1UkAYHx0NKkomFJAw9DkvJmUE6gtpnYul2DUWFoqu2eJdh61uldeTF1KKVKgkPIzVui1ha/+zo////kauNi1WKkUhoNiNWIOA//tSxAaADB0tWbj0AAFnoq63DDAAAjmHTGrWWrhHfvnOeGz4XjkiQDiQoAMjOYQYIYNg9+boPJcVJEWI7WE5ML1okVHx809y/Ytnpw3/78vN2lCp2jR////GkvftzKx///6f//7mzpUjqs3ttLtKxG2Q2Mxoc0f1lBB31ALIhfOHsaEho8G08ormRI/m7kjoxe/ENMqFSH/kiF5K2V8yI0dTR9C45ro5EafX/p1/n/S///yMXAiKCBZapTf5R31wCy2uRmCbSIAAFABIHLqQAxb/+1LEBwAL/KNjnMMAAXIPK/KYYAATDkkDsYHRyUV5wiGkw7pZDQ/zNjd3fFGNDevn/+ZcE1Joff9vT2Tyvf9PlIhIOCMuLQyAhIXB0ffSZa5gQACighIuD5/f7iaaOgTCyK+1/vqUUZKkowQEuwSgNLGhyFJkXgajUExkTrHJZZBgEl55s1mY3b5O+jTSJHGlHx/PztVHUHBYKHoKhQuiKLW8kQQ0aAiK3r97KEpAxu5t8iFDwU0Klgax4K2t9vmDABMVV2V2aoaGeoV2gr1gsP/7UsQGgAwNM5X4kRBRRRSqt55gAGg2GRHpuPoDyDBYoJdbNigJHgQRnMUUIQEoECAAjgRjI1Q4Mc5qhl+zqJFspW3+QUUyUKVi/84VF+lJv/qkQt2FzP///dTAlWKg4DILR6F2/xRtSmpmrcJILQVnLMelIl9WSEM+U7CWjwRzArWF6pQ8ikbCSE0kjUs8ricyfPf5+/eq++Zwi+9+7P/9+/vPOEwTkCbpLqTyR1+ur/6CTau32E3LQjIjU2kCQUlAjRPEYWIUoA+FkTTgnGKc//tSxAuACkx9R6ewY4FKn2k48wl0smItLayitRaJbXY29aoVddmi3/0tC/IUAtBQDS7gK0LC4InBx0TgAHschjpoUeRazuVf70CJqyKTM0KgcwjKSMjUIxMXU91Q9CrGGtKdUqdPLFAEJCErPIbRro1OepftWZuU+bu5rFmZjUThxDyXR7dNTLcromXyn7TL0WXppR4J0uAUiLA1qURXCCj1Ky77dLI6k0SwwmYdSzFRJ8ilQTeFxY+NGSF5ZgLDozUlVm7ALgoQAMcNv7eHc6T/+1LEFwAJ3J1Jp6RooUePqLj2DHxwGS5dGc+mSqE2hMa4QmEnGHXJyff5yeZzGx7ypaAnZdArDKrIyHXs2MRBSan+mAiuHc4IpklElUZOlTDpOtc9mj1MiYia3Kft6lfkOLubsLEGiRoXLJbuFUjknFIDKWQFShHYRHkjJiZnjJKok70PnRE+AgJRIABC1DIFyNtCm5gQ56pTgUx0kHzpEuwScTRo+EqdGiwEChZpoiGnBkaReBrhV45QlJBeqd3AKaCt6WL71unUcS2g01SnHv/7UsQkgApIQTNnpMpBPRQn8PYMfA3c6phSn//ZU9T66SQtPTEMf5JVYZFkfyqDwcF9Qbnp8ctGKdz3XlrTcIyaxydllz2v3n1bD7wz/4GszGhxqKPqkhiRglNG6AboPK7PYKDVMVVGhy4XfC7Kb3+1rakbjbGhuLlAMvJIJDiPJacMj1UYrlq1dV5WrWzlllrPH7Dcv11PzrVMrYZHMoudl9T5utsDUuhcPCjycVUtEnUsOVysmTMtcsa/UYUKrV3+21brbiaApAuCgHViMrBe//tSxDGACji7QaewZWFQimf0xI0dDyUgC5QuNEKIwSI0C7KwlzllYjJHBA0JZ6+qq+rxB8mtRItm+VGUsht5SvQxXejvszptZ0LNy/C1Yi/Pta/xiXf/+WrbbLHf0qDyCAHDcjmByVAhLI1mRqIZIcLCAIFTEPSFsMnCgsaPhsEzYBQFhI9AuJxEGY4WKuScIOFQI8cOGrfXfFk7pC/kA9LMF3yIzs1g91IMLKE5E1E/LE3Y8EUjnYvHQ/Vkg5MyQuOG32GX2CSmivCejnAITDL/+1LEPIAJ7DVJhjDE8UuJpaT2DHgJjhMIXWpImRI6NIJWPQ1aikBxKOA4qpVpVzWL2jd829ljnv9lH//r+9UABJJwIvKBdRcVS9xU4aBEZBE8FkbNPAKRmHsqqNksjKTVBRMNHgFQsBEgZLVjQKJQagyGg6Ehx1UNEAKGSIlv1PpKwK6eRRhI9Wd////8NABAIFKTQWiSBRQEfFigg6E1QyOyWX5ZKhkf/+RqGCg2dno0UJEmHgmZFRY1Coo2oWFf/qF2atYqKN1CusUaaeKtxf/7UsRJAAn8RyWHpGPBKpCdlGGZeIXZMizP/rFBZUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",_0x71797b="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAJxN0tFBGAAY4s7v8SUAEQwEAAzH4B+ACoX130A30Ku8FmEAABKHAwAQQcDAxZ7u4G78R3OIno7nohcfQAEJu4hE3cW+7u7uegG59RzBDWD58QAnKAhEH4If+CBzRNJLpTpcLCsxF2qlkgxUWwgiAddS5twfMnkwrr4MggouxBAsWBVDgk4vIhCB80xhQljirscBPR3RiRQUOd2D39ydxEWHNYuT/9srsxm/7K759GLQyvc49v9f3/9mERY2ZUADIacnqGJoP8el4q//tSxASACuDFWhj1gAGOm2tzHtAAlcT5vYltpiNpcEMPNP2DacvidpuPks0jHrXXHeT0XviEnWpeO9djjQ8yWxxcT9G580SBAXY6I+HN/kfIrYsu/9YEeXECn+nyBf//9MuaJIAAOrrQBFqWTwAHSYIteGhyIIN4bCFIqGuhHjpgxoABGATpMHGbIheiTMColSSUg6RUUhVdKd2OiNOXlOZsmYu28lTE1MTJJI2TRTa+zGxixORb1PpP+1T1qMvk/ColDQNA1TMACSQgSE1AYAP/+1LEBQALoK9HvPMAAW2aqTaeUAH4K4XFIEhSpkoUtQDsRKlixEOhHhJAsSZuHS/6SVR/sU7+6x5mvvntd7KW01u3/+7Hj598WdiMjQMDC2rjA8NpMnQ4ApLS7ZcQLpFRoIpjCqj6a0fBHE0i0VLQLakCepQwESjT+NjSAdrg6dLhpVQRGso0VKzO58yqqIaqFmIRqOyTNZXKY8zvrMVKOnOzXeti5HazyoUYXaM02LarmSj4aIcMZymoEb9h/6hb5b+qIKAYViyaKjhTSSRAAP/7UsQGgAu8vUW49gAJg5mpJx7AAACMwCfYRk06tXB0E+gwmFzYmFjBwKnF6KQ+Uli92LrNgiYh/Yl7y+hxEqs5KuJqCp6/WL7T25L1s/5WbrLFXpv9LbTv6fjl9pVFR8/9m1rV9oSKNLSCgzUAAFCaZ8IWyLZUGOT05ly2p5GLUY1Wcn6LnVMK8VhXClgmYRIKQvO1odE7+TH1sovPIT9qPO+tYcJ7LVXX52nXzPnq8YIVVcbjcX5XZmt7T+7CvoOJCAqGv656SSCAAyjNU4Ti//tSxAUAC8C/TrjHgAFmpitDGHAADqc/JgiAYTNnlg5AvFwhhyHw15rRwJwQgM0L46f9ZWFIThYE1BlEjJz/nFonyr1ffqaKpP//93v6aUUHerzf6//9/q9/u0J5H8H3k0CERAqz5z4ahlf520mTZh2FC4p2hRNHoWcbk1ac5xg4xccOXZjxu5kxqZuNxLOFw0Y/mG9JYA8IAwDgz0/4kAsFollRu///8cLD5zMI7///+XGjCRGq//6aBO6Hyn////yFBekwlhQABiNZts7esfP/+1LEBwAL1QNkGGMAAXqVcHceYAL+5X7f0wMYdl4drsXlUKNb95n82yznlsVh+1zv6arpIwJateCs3m98mvLdtaSj27f/9+/+/ZZkzTUYJQMMcOZPISNrColYMO931Nb+d////27Xyff2/e222yRiwSCwEgH9BZD21ZRPnJu3CPFjuoWQJCqaeias+kdaCwSyAkGB1O3pbphHR12Ohu8Q0Q0Sxy/Ff/+m8Uh3xK7tUcD9dwNelwPh6ge6LHvwSuKTmVOjlbbZf/7f/rbbrbBoLf/7UsQGAAvY2YG4xYARcxao85hgABAGlCUktaWmzpQKjUr1XGsjMln0Lv1CQTjjG0ooLyDKYVhDe+68+eRbUkE/2RZfDScfJ7HK3u2d87reia+2v//9DpO7NWHOt3jBGfSfC0SwVT+pSgLFRAiLJkFA0isAoQBMIzgih24fi0lNHDZFHTa/glzcmvTHAqkqokdVF/1Vfzrlmmoo///9v7/8/1pu0zb6OpgBJWojQVY5Y2VMFQVKqBrubWhtoNHutYKu//61LBVgAAYO8NIdKVLa//tSxAYACnx7PyeYbgFFEeek9gx4ojos+MV2/YE+0NMBHSKJ8B8WhUiZYRfSsMu+yG93dQpgLCZ4UF3HzLHonS8qXEczYWj2p0rrOtXnnLlwm1qSoswCVGGL//8kWh7ipJQlRiKExSGIpNKhOBiWXAlVlglnC1S+xrXPsVTjwnI9pYuTm0yz1yzPCHWJtoYwVQPGiJoMveSIEyS3Rd37TV0FUD1JWpfQyaqs///JKiOWR3VXSRspFg6zLPp+xkiU6RP5QqA6UecCyHRCQQ88w1L/+1LEEQAKVINH55hsoUWPaHT0jSwx3eE6JYUxRFlT/utUFTHnnqYkcwUfSyISzo8oB3IYaCjTSk0X2uF9nFMZBlay15t039v08cbaSQHa2KoJUnWBLH8sqZ5smDBkvMFElk9Syb83M3Q7DhPkrqc+8qn91GEoGECAXXDoDcLJDj0uTalD1LvZVHqryKxkJKIrWoI0jhXqASnhKCYgDkD6yu4SgSAGQBKOwarBKfJKkxceOXbeySkxrG1ybUqoU1KVerSPpdAaJJjgE6//Dv3Ug//7UsQdAAlosSUHsGPBNRkdgGCM4DSQNPkwVIkYaEoClfy3/qfltCQYDIJq0iYSf52VBQWkfYf8/llUMDQ1a/kyw/svkatHIy/+wyZWB1D81DAwYZc7RWKN/WKPoBkSGgKKijf/SEhX2DGjxZAFCoo9ICFqTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",_0x50eac2="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAKDKUzNFSAAXsSq28ewAAgABQACTeQhCMSsQAAAAIooFCCGf//+c5zmjQIMXIxWK0ero29UQChxGAAEDFo29UFAJgmK26QIEDE5znOe1BGD8HxwPvEDgTP8Hz/93//w/a4wEAAAAAEhwySJSIrYENxVC3IuJILmM5InsAw8HNEwJ7kC1FzIxLNz9DM7JTw0i5KemK+0O0Xx3YYKx8uZr/5szEvvelKtA09AWeo2LCC8BFPA79ZYlqMoD8oz0HUqnakigCQCklKLILg//tSxAWAC7Spb7zxgBF6lKw09I1aL0ph0iNpxdreIdKUVj27+ggBwMMIFuQ4gOxOkYRf66RWLy3IDiUWAV6aELCJTYAouCA4tGEZMBscoaFhjgHBP9Rcgoz382itZ8FhJFnDpcMH/1GOAogAgApKQvRSl/R8UcqMELVvX1YQmBUAw8UjELAkfxZqmuYVVUljbMyl//sbGsZSampSkzMsakGFUgoCHrCRk6DRIOXhoj/PBI6HQ0sN+VGQ6CxKSDpIRWNCT//6qkORIiEAAAAl3UX/+1LEBQALXG1R57DDwX2M6nz0mRgs3jKR4HTGxLQhDFbZVVFxDJzyPmGEFbdffbx9uz0FGYGQhiB94nt3ayhiJwcIKaXUGDqQsQGTjWtkQuPJt76+kDFxOaqocwB460+zq9fu+p41ZiJEAiACXN2TWUKgM4SdQQD+IUwDJgegaC3IiHCEWJWRUSeNakm9GkZE4aiaRJHDqSqTCgZio4sKNUBmMIguYGijAXsShMWCREKNyJs28AkgCNfgN41b1irtOa//+moLsBUAAATw8RYFSv/7UsQFgAu4p0eHmRKBeqSqtpiAAQC+mUq1Gwl+lOl+jUywrzjDW3M00LnvBGXFlcmQSY9A7CKqQQNCeoikRNKiJqXrpFeeLLGlli4ueeYgIKBd63hdaggxAMHggKfKK/r6TPrp//+kWwpxoAAhSsD4VzA9XnY5k8+QnFBgeVFAGNAeBIEXDoPx7Rb9T9XfXFsUcXI15fv37d7e4SP/0SEhOO3sYkIiTL833G4wa098y/N73pSRFy9ChhAogogpcxRBhBtlvnVRFIAAGREm1oFt//tSxAUAC3k1YZj0AAF5j+kznoAE8CPDEzY1ddYb6MV1c1TRvVaDg849xwQPQfqgkOi2FTlPHzcHHHJeoxMwUklWuNvtL4+ir9UXXa2/r49V1Yb9/9JV/+11Nfz/6x//wkf+3XjXrDqYcAIyqOQV+cCCSJ0Js3jZTkQ0VerSQgfDBOl8Apgey0iKfSf2qvbdDLZpGxKqNGm1MzKqT0KNgVSnmAqfMPkZhqxMKPxiIvtJ0aUColDaJfQaHpQuwwQLogTRT8kqCiAIAAHAihjDLIT/+1LEBYALkHs5Z5hygV+OZqz2DZAfpPjrajyanNL2QbCMFKKZFyuUZwiUWAnBqijqsW+kfQHVqVapzBUaIfkPSTOgEYCooxaF6S5gUMTpgmM3KsLLaclgvZaBqDRJVRI2JXkv//kgJAESQGAuYuUpipQtqoJ6lGfmCaKlULpJD0+XwryGh+vFDCOBmh5ggLYiTHtcjjwHig2FGnjoLkYBKBUOhItDA0UhYOpfz3dDtKrbeTPRgG4sxRJn6f0dFZP/JHYUo0UgKMfKAY2InxpIkP/7UsQJAArofz+nsGdpWJSlsPYMuEhaaqDERT0sul1M0ugYic4kjBmkjWrmpF23vuUJFtUY7EIJA3La/Nf+/cqrdzOH7ff7jcH3Hve/vcrBQji6+VL+7O+dBwCQtEAIqyjOS4v5jPyQgdDkRUEbkwYlksj6VRxgaXNtss1deetYNEQGEnGM2Om7qZNmVKr6+kz7fzONGCkrkkCobm9iJsypfoTpm3qqvnBpWzaz/2+pyjLrNGylImSQQlxIewMHQTDUfioSicHw+iKYuQwpVq2J//tSxBAACky/NaewY+EyDiV09Ix4hp4yZmDdtPqlmKYTXNmkXjM1VUPUvvCLjGfzY73IssGyiRRI1x0qUm7353vrY5Cn2FnhJtuFBKRtpBGwhwmqpMUko0IQJMAkDQ2CIpBIhZSRPVQwikzRQqhlKMdUtS2DGqxRKgaWsFTorZUPSVpANblnXgrZXev+j1/6H///1RZAUYApVJdQmOhpohUAMTilgmwLEyZEoKLAJZGCWm4drNV2qkFEkRKIkCUY+1uzr7cs9XkP/+es/0FfsZ7/+1LEHoAISF8UJJhwgJ8AILAAjATsj4ircgBEEKKMyiS3LMtMtKsirttfahmmR//b3fUvq6tin9K//UzrAX/+MQpMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7UsRHg8AAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",_0x5ca6ad="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAKQN0s1BSAAWGXrrcSgAIAQABAOQAAX4xjgRt74QhDzXI0ekAoMFwAAAAwKHLisVk7CBAwmKwTJ5BcExWTo57UEaOe1CEM85znvhBG3P+EIQnv9Qh//CEIQ80CAEIf+CAYttttdjkiJaEjabbkgAY3JkEmFyJRgjbpQ2dC9uNOBEdjiAlNKBMPw7kfXsMNddBht+oglTwKV93BlWdDN2x78J/u//CxdGAMTm/J6soZn8xngm2RD8Hz8+rXRpEEgAkkqGokAEmwFDkH//tSxAgADCiBZ72kgBGAhm309hgyODHrS14oAQUafm6MAzN6HZTJZIiIibnaREqRiMjvahn9IGHd8sPEqqsbv7OfggQIEE5ATg+GHNQUcwPg+51PUkmD4Pg+Hv/WL1t8pxBcUBCH3Y3IiQiCkpMTYhQGgJHxkF4IhKjCUPStUcjKxVqjgEcSJBUGg7gyCuVUDT8FQViIFXSOVBUFQaAwNA1BoGgaBqdWCp34NB3xKJREeWCp1YKuVqBo9EQNA0EgaDs77NdlNSpDnUDCG3d8DcT/+1LEBQALzZtVtMOAAXifLbcegAJIigOgjA8lHE+WBPUpGB6fpChxcA0jRjUVDXLTJShqHvdXd6UqPFTFurzp7VroYeezr/Wmvd7Hnu6a90/q6TDzKU/r7GGMZ+ul/ajonX/3Zva36pLtxtxtpSONtKRSOCAQAQ3qM0P3a5e3gP2Se016LMkjT1F+ZEC6BvVotjeVxQCYuDecn46rEwA4Bw0Lqw5NXjtM8ysXv1+f708UGGOp8fN////+IwcGZZ9H//uAYfAY9T2hBuuU6uiOZ//7UsQEgAuIzUoY94ABeZwqP5hgAHqxcrRPy+7mnZziHi3SYVZcCQikqZE4jMUZoYhZQ6axrMUFibtImY7VMfenlNUhT6t1mZiY+269vnWf8628e43uC9t///r4+/muoTBZ/29p0S/6SWFNSIiAkAKSwAUdAJmAHDIeSENYhnZ0oqjO3xIJSYTgei73CaGtnu8uYrY16en/7u15r/cnvjPlS8bLf9qltzZb/t//jY1mWpIiSOLM0y1IwkDKZHHI6XJx8z///1o1eFRBIBYCAV+F//tSxAUACwEjUfTCgAGEJe03HoACgYl4PTguj8JRffPBYYSI52dxjQ+YAAIKDTupzqdaEH8+QhzMSejOjX2pO//yEyNO6Eb/f53seRv5N//tSjMmJFDIq6PHqAFtNrKej2YkblrbTYkbkjkbbMhAYAZ6zxxVGW1vGqNc07sPc1ezmCcaLGUETx0ovvcKOREIPADni4cB365bRkILh4KX/X+/PCUH5BVT/3W39P0e792//1/f9Fi54eVaV///////6CiH6GwAAAAAAQHI3zmIW6b/+1LEBoAL6NtWmPaAAW4bafeYUATxAzoIwpjmVprqGKgoccN0CnLpJGg9h6D4SwnJANq3DlF0TwLU7pGS9QgI2lBqRKvdFukmak5FHZ/8u6ZsXS7Utf/nTArMTg9nQMlla/oCoGEKFkA20Wi42U0FCGIoNrgqDrohF45LtB1VozojihRULUOlMPI6rOdVXIdFehDvM5GYxCEu53ZJk6EJQlk2faxivVEas9p1i5W4vDgtfbHxS2QODTIsOCUuPTf//6ICAAIADEOk8g/SGHSN0v/7UsQHAAus2T1nmG8Bbpum7PMN4HRbyck/QB9HCbrCtJZTAZvBQCEVCShpE0t11UoyU8bzkI4qqWxq6ItsjGT2rfhkSrNm8/M+aFmhlgj6FPssIXnbnfcwWNhtoRpcuYAX//1FUgpAASiWJw3AlJ2IW0pBXn8jk++cUNfH8zOREAxPiQkFSdEjLEiTc6jtLlHIwVSDM1hmZlKF17+zFmc9V9V29r/0u2rnPpiB7kMFwmGl9NQ7YLFgap56wl//6gQYAAYADmfpghSOunVwLcXE//tSxAiAClRbJyekyAD2Bx0ExJgakDVkQCoGAUEknIwDJFkkpIyyTkac2fzUZEqjwlOqBoGjxWDUQgrJLQIj1ZY8V4lARARRL6WiLlXNkJZcRP///+DQjhKQiNA3SoiB0ZBCaCakpOa4vNk40sEwTAQSYthkX0iyxUiAhfizMYLkcWFf4sK/qFiPWx31C7MVb1/1C9VMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=",_0x30f290="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAKgN04tDWACWsgrrcYcAMAIAPoibmgGLNET0Nzd+xjGV/wxkksPBMabm9saN4CAIhMVJZPN7h7+K5ve++Xvv9lb3vg3Pv2MZTzRm973v2MZUpm5+Dc+kMH5j/AOgDo5+b//w/aRutxL3EpNpxkNCQAALCqUFBVusIxITFIWjoeICWi8JBLFRcfcAwSDlEoJx8dClyA3tXU0R0fHGNpfmIzvRk52rqj6s/0X+NhaTOW+hqLOnf+zIUJW/IFmsppgouSVClK+JCbIxj9//tSxAYACzD3TBj0AAGLE693GJACONRjyhTnC4A1BwUEMg5nlJp4u4kZTCkMSPaBPXaJBlHnB7Bj2b/UD7odcim50RfzwlclWiGHy5yzukpU08j6VC7Ja6kRiDreXWngYPaJW4tXs9ZKYzUnE2pEJB3ZLAsPBTzyZYoW11YYIxHJpikgMedyRkYHGlyap1uA5Ex5M3fnvEiZsnbbMrZK6vLvzrM8knqsz0pDhhoJEkWc/YxVkWsOYnJlwfD4esGHT3+j8qVVUAXShNhIRaZKolL/+1LEBYALmNNOGYeAAXAeKpcesADGJQt1FPvOzeCZQ/kOgOxPk6cbnBc4KGyw5q7qkmWIibfdv86SKGEGfPq+2dVz7/bFdsgP4X9rY+vj/EK24UJ9/rH////+I1sPpwKzXf1PigqgD/FDBhQqtNrRTM9WlibHygbmJzfsirIpmbWuzZVnjvP1dPiz1PMT6z2dnda3DYA8BMIc01ndW+ou8sMAIA0DdDvt8VPH+TD7Di6BMv/7///8dZ/E5cP/q8Hw9mXUAADsEEAABcAIk6Y9WP/7UsQHAAwQz1E5hIABe6Kpwx6wAIrZkTD3YeOD70hgFwI/CeYgMBT0SdgkCSnoy+q0qGfdK7L5YieREIZ3auOQj7BYBRzbAXxuPr78zoAVDLKrKHa//////sUimRoAnf+0sFajPqjSijiEsprzPMn4bnVD6EhqjULI+ihUPA64WeHsgzQpKh3PhnZRtG6zVSvvEgBYEA2QO4dTka/q84O0fmoExjZiHd1/LWJstNjoub6Y/uKqdEdi6R9reeHZ7j4///1Wckq6bbbW66avabTW//tSxAUAC6k3fbj1ABF7JWwnEoAAaPNgQtNICK9y2qGPEa1C6u44ZV8icwwQg4qywhB+LwFy557EcnMMdidt2kjqphISHofMo7sPPVrGL2trnn0q9P1b/fS1Lou/2zP97mpsVARH//tplqZEAEYAUACItAJaq+IbbJ0bM52jXkxzAndCrOOihicCohNCuYIAigByRixmPTYOgTSDGhY2vqPqYoXPuV+v//QgyVHpr81///7CiwcZolLX/H6///+eD5cHHI//6aqqkUEAAAAEJEv/+1LEBQALeQtpOMOAAYEzaauYUABEGODHwQPky5MrJz7H0AkGjR400gLAqNh1kSXEsHwwgpGrePCoaDh6UNX5rjxIdc3/5E0SyhMsRSo6rf6DZTj1elv0/5g1UwbjQ4aIqgd/yX5abgACA0XJAY8DU0HYFx4JhIJa0OA/ZoVjeIzAIZDCweMHSxoi91c5BQzlaQqHv0Ew4Q70FEZc7VbZG+keo91fX6o0733VbaLZ00O26M6STmIjm0T15P221f/1rr3/2rjUZKcICAA1acwzmP/7UsQFAAuct0eHmG1BYjNocMGKcIxbl9Qllem6jU8onrIDHAQkSPRTWXR6VEl7uvfA0X5rZRHJ+0VROfPy8zVeaN5mgzrKeGAXApsBmXpSDaixoaARS1g7kSwSKIGjVDVqX6Vf/+4klY4qkAIf0XioijqSgLMgSEo1TFk5UnjJUmydLqKtXSdsUbG5sui9Xvxo32NDMqeXnt/qvMotRyuQt/PvXKiP1rmXsjimP6+y6u+zV/ZE6y0+VUX/////qNUmZWIAgqtheCcAwZrwlBFK//tSxAgACmCzO4YMUUFIlab09gx8TbC9DjLB6erTlpc1goMz2NmcOBiyUkbyRvWNUzNjNoq+/uaz2YrqNeYM1CV9GHfOjXCwVm8S0liSXhZMLRa4Wf//6HLr/IiEYSSQqzbL4KUfAWFwhBMeBMVzIRvZMSSZP01a71mVSjM3ZmeWtPJf43cbMyfpfxj2jH1S7hmAqjqZGoixpUsVEU8dKhKR5WR5EqVXqRSqAMlKLJQRAipvQFApQ41UqFAYBCjCrquwoy4aiSBoqBXHSQmeREv/+1LEEwIItFMaxiBgQQWnGMhQD4g8WXqPRLaHflckR/iWyt1k7zsKv513ki2zeSnSPATxEAA1AMNEDkOioip/+qKqf//+qKqf/n+ysFBAg6GWygpUMvWSoZMstQ/1a2X2ChgYMEHBMaKizTQVFG4sK4qKC38XTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==",_0x147fa1="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAKaQEcFBQAAVYkMHcMcAL/AMbgABGKJzwiaJ8EChkigpU3oQKB+L2goKCiVy7wHANA8LAUBZRbkBwYWAICwxxd/kUMTcsXeBc+ETd4Fxe4RERHe9EMTSv0RJFDBoP+Xh//B8aer+/TNRis1GtBoMCD8LkEbxA8gv2WBYHJjgHEROezGHiQI6XsfG4rEcubaehlBEEhRIK0OQ62snHDEXp+hkmYjHDRlod/+yvW2v///seYXAYb//hlkYAiAABSBdBhSMDWnRRCAX6U//tSxAkADNExU72CgAlZDGpxh5hgqTWpna7PQZHo1HLwkYPAMLjVQJAKcw4cBAIUCh4pQ6KOxEFURhEoiNdzuZDJupVKWgl0cyE+T21VTui59/PKNPM58c7O+ifshEJ3kYtxdJ0zqw5RlYAFgEAAD4UIXIM0Bqc5UshPiBptXsqbYUiGD5JiKs0iipzcNIugcUqGJeklzVuULhh44XPsDB9BBrNAlQ1ArkmLbF3VQaKBOqfXV0JYYLDW2Qgn//+hMSSZSIIABSgqwwhYGJKiL6z/+1LECIAMmZtPtYKAAWofqcMwsABB7nejMrjr/TMolk/UACGB0YHjkKUXFVjWOjRchimRFOQcWRnmq6sQXHLajHdyMd2e1G2akl7NOr27exckium26XTS3f5b2bf8rq//2/tbZFXf/jkcrQ0uEqKN5K6Oltx5l+Vu1yRyM3YT4aS7qt6adEjyx1UeeQpMD2G8srpZ8VZMDwsWDe1sRM3X9Ga4IA+Ewr////9dcbDgIhiCf//z///mq5pDSedPstKf71oVgwQA8wAAAA0AA1XkW//7UsQGgAwo51c5hYABbouom7CQAPbZZSRqKuS6NJnKYvZilDIQyM9meYikeafiVSVJML1+ZUJJgmokbJHopp3hrJqfUWND0tNYl26fqoUXXVJLj1uh0dR/H0xa2Vy1x4xJQF8uYexKo5iAII8kYKlhllt1lVO6zhWmeNu+r9MtkEFz4+TgcRG29Y1RV9sRjP5iqr6YljwZAYNPBuRfPkBO0Ai6CbACbEIndE4o2kci2wwtpGz16yWsHkuGUn1oDn+r8sfaS2dRRQESScYngnxe//tSxAYAC4BrS6ewZwGJnml+nlAAynKM8BJBvkNAMA7O1BcQka/mzO4aVRyN6nbasymxAaiY7mFIqA6ISAoYOoaFG1ihASrPmTdaCyxKLhAKFQYcGD4rGpZoVANI+5ymv2V//5EUlkREIzIjZFxP0IknBKjROFDh9JRtjKqElVRAVzOEBRhomPFjM7nYiIcTISpzmscogMIS7nad0IhhxplpY1mu6/ftsRp/7v/7ucNGig0FiSgQm0PIDBcWFllHsGIWAnf//TX+v/v8BdUEDsD/+1LEBIALSStdOMQACYCgr/cecAIhrXVoe01en5EJ2xq7udDwJ2BY8CJaF5QNBcO2rUVWjBt0PTub/BeLMe/y9x/92kni7UlfMN/+kXyWPh4iYv7/jf25tpPjn///r6+PrM9WcQIsllttktrkksgbDAtEAFAm1upxSnQcEFxKujmoGnS06EwiiASzheJAPhSg2GxY0sawwLjyhMdOTFxovHjdfeceXEULGEjXMT/Y1DBqcnT/0dEohdv//xacaNQyom4DK/0qAZg4QlmkDtBxaP/7UsQFAAtobUA9hIABVY8n4PeYMPDaE1Jp80JSgysUWdWHMG7FDI6TBAqSpVGDFtWnKknomqR3G689cnRMJGw2EcJzQ+wu2WyzltfGWoWYGGA2MF6RWeKXF4qKmoleBSZxQX//+sH2QIWBQl7KM4mIM413iKCUMJuluR90YvMtEAqF3Y0iFEt8omvNzKHmWbJd5OpErJKs3kQmdEUieSWxwhaPPDAZdKuQva5SmABr8YqVtHNCTehyWzNdMbrlaKsoIDMDAeBIwDUlDyLB/Xk0//tSxAqACdxTRYYYbmFFk+hw8w2kKTlfBUSRSQGCkYhNmZtVeRUYUZIa46CTGirqVRtEsFLyUuwKDys6l+dMi2KFTHTI4iigGDxQZ3rbGBfO6Nvr4YSIxVSVhdU4cJ7I9mOpPnCsHUSsAsRkCJOiqkfVEZOKkowaxjXSxj6UXPql+zayWt0TR8qtTydORTnsjvYsSVxdOdUkil4YKiZdepUH1RwlNbLAcgaKJyIpVBIrgyuDAnTDMg0dQqQZ1CM4kUFCipMEbhJX76UTY/qVqL//+1LEGAAKODc/hiRm6UWHJnD2GNnye55tTaLvsNoBySlSzneLWtvj//99+7PzuWv85o19rW5sCJRIgA13AGElAQ4UafqiTkDJMF5ijJsR8STgiDHhjrVR6ySWUkxMci+ov4Irej8vswk4l2aUSyzJRx0LH/77bfPO17qZdk/qja8KZ/8j/t/qKgHC2iAF1QBCQiQXppI5ZA8SxaWQqEEkJyLGTToweRJSYtS6BEpUSVlRVL1Rcexc6GF8Fv2dtFprh3ZfxJ1pt/5xOW/ZP8n53//7UsQkAAmkOS+HsMUJSo8kpYYYaPj+n+/+BLUADygDCS0QtNZhNKiGYDI/EgtkU3WC49PiRpQGUepcKXmzUs7w+bm5rS27KtzLRotgdOnTow0LgsLFhLY4ysaLzCEJuQmJ+5C//op98r//1DoBVpCrgRGuQk0GWtqBMYoSVKSIUgmmGTIEyrKUmVlMjInQdKV5YTKatrkZZeVLI03lwZwfOpCLq7v+f/T+ma9X///SAYqJEFAdGjS+jF2UOgmo5SZjpRZ5SKSBZ0m6VldLDI4F//tSxDIACFybIywYY8EIjeOdgwx48eakM4JaHCPQMgB8aTGEQI9lHb/s1p+jNPu6Otlbf//pI0mYuQAqDqaImZjUgx6ZA/QgtHRRdmYlAMBYBkAugWAcEykKiJm5u9Z12eb7aForiFE4nufci5GrVZzFniXsF0Jd5OSAAWC2hqQkKUzjyGAxF2IDrIEkC5Ol0o6GbiDyZxrwXEgESYJQ0heNdO3a6d+tiMry38NdbpIRVjXcNLDXyv2V1MYNMIqE9ASA0mkkSSyVACEhJ1kVAyD/+1LETYMIiDcSJ6TCgREJIQj0mEhI0adaOEoJFjTnRxmJWo7UREkSrDTxKCqzKw0JXNvLB0SmTpt4aH1yP//////3BPJFRo86GiTQdWAhkACSoABCSLoq3QASLVYzMyr+zMGXUm4zVVVVL/Veqqsx7Nk0bKf/+vQp0RPDoKqBo3Dankf/////+Gg77Cp0FQ0C2JQVDtUIAAAJM7cbQOmILSmuPHFFGIGkgBSbzVo7EJFDJAKBUyMEi0SVovJ1o08qROhUBESR5ykEQkPQnCacJf/7UsRnAQlwVvYGGMcBGpQcqJMMGFsin9jf/////9VZF1bIqkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq//tSxHuDyTRCmwzowwAAADSAAAAEqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqo=",_0x55bba7="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAI9HMsdBMAAaQdrrcY8AIAAAC2MbgAADkAAAQXe/3d3GezyZNNgcLJk77RBO9ggQIIOQIIHN4gBB0hz5QEHYIAgGHiAEAwJAQ4IAg7/y7/5c////BBwIfXVZKN2RMtmNtFIwQAAwHonl5QsUAbBuCTYkGb77ixE2Mi6hwFuZPq+1UO3Hv4b+PCevhTsTvIj+94mlapXG+nld3+rZ+Nfda4jZ/+/77+8Uhf2/z/ffpfN70p9/wcVxbGv5gsKvn//Jr/pOTIuSgJuW4A//tSxAUAC8zTX7mFgAF1JG43EoAAICAABkNDTMzZs/JIctA1l3m6OInGr1S6WM3ZuH4J9zQ7RFHcbDdBoitA7Sweoh31vA8uV2apIxN8u8bUumnWxfMMi74mLbBsbf///+Si5sJSx3/ALgkUikDgiDYUCYDAZAEskwoskyciHnfTYkKDquBoAexF7QLoLjFG1N1QiuDc0lGq0pwBwcBWHZhTr/f+wgForPcT//f5BrQffrE03//7HyW/cTG23////8LfoY5vReqwwAACAm9wSjf/+1LEBQALuGNZvYSACXsSavT0jSiS6/cHvDkw5wpmQO9LqZ3oGl0aFKFkKmE1DUotS2mltV33GMPu1JFL0IMv/4pQUFNkcu2Cjf+9/+EdCCgp/9d+Xwkv/l/guIqEFPhBS7/KHZfz4ur/+4S3CE5N6F3su6FocQs7VCWxFIAkNmTIkklmrlRynQkrqjg5srhKekr5Z36cMpTN3jwnA4IoGoWGn4GEBMEBp9YsVCIWDBMzDGw+GGsdQNGUgQkXAhcECG8If//5NVrLECCAACpAFf/7UsQEgAuQcU2npMqJbyVqPPCKuCTYY6ycRinSjDTO45UaVDKzIc2LYHkMSvRqJ/dntDI21PfY3UoLSIE6nUpfA1VaVCpxKnXn5dsJNO0lmaWx/nylCiJLrnzmeU4jAkWNq8fu//+llVmERzIyILad0RZ6RiaoeYZ0JM/EMlYVBZTpNUXjRnjW+1TE9sxtk0IPCRk0QgCkIyjUQwzO/UoToUifu0dhJoQBHGEvYVTOqISZwkancB+LGdBLxZT4C3mf//tVAcKgIACg4KQTIhm2//tSxAYAC0ifQYYYcQGBm+finoAAIAjB0jFJUVg0O4YyK2rPXiwDqKJ6xtWU8+DNZP7f03R6Vy8dozG8+NeVV2YypC2oeRJ3mhRgWFQoFSKXq7RqB52fF9wHCF2lqZxTv//kg6xQEIwQ3ohrMx/rylR8c/Vt65aaWhjEOJDwAOMQqSYei2HC8HUrkIilHCUohlHqMouL7q1iIaITSd494lbq445VFnRWUaUWwraj0UqkGg4A7IxxyceOqUXPgRGR///8knFYbVSLCwKRWIAgAgD/+1LEBoAMMOVhuJWAAWGNKj+ekAAHark7uTZI8Y3BQSElzY2AmFR2GWiAwWHj7I3s2D2CfKVjy9dy7BFGsdhccgvWa3r+HvvPHKdMbuuet5oyWvNIpzuYv/69ImJon2PvX/LgUBgkA1GUWFMBQAAABATBqDTLkTRChbCWFzJkmVM0JGJVdy3kisLGSZEhTatbrb5SyaHoVipRGjMtEtJsAUJEn9T6aJ7FhZQsHgKKGgZCqfoKxEIgaf0LnmEYkGXqLw84HAAD9WEsK4yk0FYlB//7UsQHgApknUWHsGPBUAwodMMNyUIwisFgKrkxcS1xUq4W3WHz46MOAO6jGaZSyKwJYbMq/kzkk0y2u5JcHQhH3MHOACibNJZKFJuV6rLdCQ6pkmoQuFLFEytOEJANtOAAqh4Iz4QQOl9IEp8ThOgPyueFTWGiXXSDCYLyRQ97xbmxDU22/t6U4o3gbt5k/2Zdq0fXva11z/1Q/edmmv18H7c56zKo7jdFNjezKmdW40QE421AxCxrgmwhkIVOlhQeC0fS2H5LlEh/RpYc94uG//tSxBGAClSnP6ewY8FEGOf0ww3c9Ip3QLTlUsRXezErwrFhv4ZzszPSHNlByqwrF6xi3oQWF/Wq7R1QYB1ISF54di9Se8riaRcKJIA2OwHyQfjSE49xjEwTmxujEtDZcDLPCj0jZWnszBhjachEXoTXIH214/UR7JJlS/jG/r2ufT3MvYMuSHvhO/Ef3oXanbqPBS5FitrcbffSoAYRTEiRFwPB8H0ZnzRo+jEYfEJxLWMCVTKRfyUUYpr/NNLAWMR3mNd9c+wkrmv8L0ls9/v/+1LEHYAKSEdLhiTI+TwUJnDEjV2+jFzj+Kct7tNfOpNzJP99Xc7f8fy//sN26xEN+iAlK4RBcXrnh2GAii15UDwqXD6yKSzWtNMqqoCFVVgJpIxsJEjJtGYTCIlLLc9VJO51jgo6+72r2C1/CKf7rfjqs02NG+bWs97VAVpFJ6AH4dh2DO7piesMrR1HUmk09goFBQUFIjZxpRIkSJpv920iItHGlV6WZ5mZ7bSSs6LTwIDSQQExsktyoKnXD1LWLKNo39Fmvq1tX///WABKgf/7UsQqgAo0nSUmGG0BKZAjpMMOQGoAA0piQWsTLrNnx8uQx1EF2ToqrWDoyXNshKWyaAqcYuMxkqyqt/aKRysoNiLUKGnSwdUbWE+Ik32nUfrd5DV/YqnZ/R/rGEaw3S8pNFRSgJYEQamS4DBWHErBQliSVEtNRYGhMFQ0DWCsOhtZ0lBoS1hu7WdYhfQJS2dz0q4sJXWiLiI9WCuDUO2W/3/p4lJERG2VkQqRBZhERNUifzCu1VXZvCiQEBQFLVPBXSddDS4KlQV0aMFXZLnq//tSxDqDSTBDDgekwwEWiZ4EkI2QgaBp6hEeO2509BVYKyrqtbt3Ep3f7DpENw6qTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr/+1LEUIPAAAGkAAAAIAAANIAAAASqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==",_0x4445e4=_0x2daa;(function(_,o){const e=_0x2daa,i=_();for(;[];)try{if(parseInt(e(365))/1*(-parseInt(e(429))/2)+parseInt(e(384))/3*(-parseInt(e(502))/4)+parseInt(e(375))/5*(parseInt(e(440))/6)+parseInt(e(406))/7*(parseInt(e(414))/8)+-parseInt(e(408))/9*(parseInt(e(405))/10)+-parseInt(e(469))/11*(parseInt(e(364))/12)+-parseInt(e(416))/13*(-parseInt(e(381))/14)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x1d50,440483);function _0x1d50(){const _=[".key","code","keyupHandlerBound","map","MENU","3036FIHgSE","playSound","arrayBuffer","which","process_input","type","keyCode","4656FsUxDz","51rIwASU","reset","playSoundHelper","SYSKB","keyboardVisible","State","suspended","&#x25BD;","location","Escape","2165YGtYPo","gui_type4","querySelector","key","initButtons","touchcancel","28ettclb","audioContext","keydownHandlerBound","753WLSigD","charCodeAt","toggleTouchKeyboard","gui_type6","cors_hidden_input","gui_type1","updateMode","textContent","showMousepad","contains","audioMap","removeEventListener","loadAllAudioFiles","click","keydownHandler","then","dispatchEvent","catch","toggle-keyboard","#kbCtrlClear","AudioContext","1297730FXWzfq","220703NsxrTV","touchend","9aeslEt","data-value",".layerA","target","hidden","data-code","184aaWxgf","destination","1907373oWTXiK","#kbCtrlCross","visible","bind","is_loading","classList","Show Keyboard","block","keyboardStrip","entries","innerHTML","display","Layer","8952SPtONF","0px","showJoystick","EMULATION","keyup","forEach","gui_type3","getAttribute","gui_type7","clicks_off","decodeAudioData","6456vqXtAt","#keyboardContainer","addEventListener","keydown","error",".kbCtrl",".nostrip","settings","data-shift","showTouchKeyboard","visibility","none","Failed to initialize AudioContext:","initAudioContext",".layerC","cors_query","gui_type2","shiftKey","hideTouchKeyboard","keyboardQwerty","6px",".layerB","MORE","#toggle-keyboard","value","remove","audioFiles","style","Mode","14047IBIxaX","keyupHandler","getElementById","state","parse_hidden_input","CURRENT_SCREEN","#keyboard","querySelectorAll","#kbCtrlArrow","mousepadVisible","touchstart","add","getValue","paddingTop","#keyShift","ShiftRight","audioBuffers","input","gui_type8","&#x25B3;","clicks_on","start","QWERTY","AudioContext is not initialized.","createBufferSource","gui_type5","keysDown","focus"];return _0x1d50=function(){return _},_0x1d50()}function _0x2daa(_,o){const e=_0x1d50();return _0x2daa=function(i,c){return i=i-363,e[i]},_0x2daa(_,o)}var pa,ti,Qi,r0,Jo,qf,Nf,Zo,$o,es,Lf,Mf,Ac,kl,Ic,Ol,Cc,Tl,kc,Dl,Oc,Rl,Ei,Ki;const Tn=class Tn{constructor(o){Ut(this,Ac);Ut(this,Ic);Ut(this,Cc);Ut(this,kc);Ut(this,Oc);Ut(this,Ei);Ut(this,pa,void 0);Ut(this,ti,void 0);Ut(this,Qi,void 0);Ut(this,r0,![]);Ut(this,Jo,void 0);un(this,qf);un(this,Nf,{});Ut(this,Zo,void 0);Ut(this,$o,void 0);Ut(this,es,void 0);const e=_0x4445e4;ir(this,Qi,o),this[e(495)]={},this[e(466)]={gui_type1:_0x2c635e,gui_type2:_0x1ecf89,gui_type3:_0x71797b,gui_type4:_0x50eac2,gui_type5:_0x5ca6ad,gui_type6:_0x30f290,gui_type7:_0x147fa1,gui_type8:_0x55bba7},this[e(394)]={Digit1:e(376),Digit2:e(494),Digit3:e(387),Digit4:e(437),Digit5:e(487),Digit6:e(389),Digit7:"gui_type4",Digit8:e(494),Digit9:e(387),Digit0:e(437),KeyA:e(389),KeyB:e(387),KeyC:"gui_type4",KeyD:e(494),KeyE:e(494),KeyF:e(387),KeyG:e(437),KeyH:e(487),KeyI:e(376),KeyJ:e(389),KeyK:e(376),KeyL:"gui_type5",KeyM:e(487),KeyN:e(437),KeyO:e(494),KeyP:"gui_type6",KeyQ:e(389),KeyR:e(387),KeyS:e(376),KeyT:"gui_type7",KeyU:e(389),KeyW:"gui_type4",KeyV:e(494),KeyX:e(389),KeyY:e(487),KeyZ:"gui_type8",Space:e(389),Enter:e(435),Escape:e(456),Backquote:"gui_type1",Minus:e(389),Equal:e(376),Backspace:e(456),Tab:e(456),CapsLock:e(435),BracketLeft:e(437),BracketRight:"gui_type8",Backslash:"gui_type1",Semicolon:e(387),Quote:e(437),Comma:"gui_type1",Period:e(376),Slash:e(494),ArrowUp:"gui_type1",ArrowLeft:"gui_type4",ArrowRight:"gui_type6",ArrowDown:e(494),Shift:e(435)},this[e(453)](),ir(this,pa,Tn[e(468)][e(491)]),this.keydownHandlerBound=this[e(398)].bind(this),this.keyupHandlerBound=this.keyupHandler.bind(this),ir(this,Zo,ur(this,Ic,Ol)[e(419)](this)),ir(this,$o,ur(this,kc,Dl)[e(419)](this)),ir(this,es,ur(this,Cc,Tl)[e(419)](this)),ur(this,Ac,kl).call(this),ur(this,Oc,Rl).call(this),document[e(476)](e(445))[e(434)](c=>{const f=e;c[f(467)][f(482)]=f(430)})}[(qf=_0x4445e4(382),Nf=_0x4445e4(485),Lf=_0x4445e4(370),Mf=_0x4445e4(428),_0x4445e4(379))](){const o=_0x4445e4;createGuiButton(o(402),o(422),"Kb",()=>{this[o(453)](),setTimeout(()=>{this.showTouchKeyboard()},50)},!![],".xx",o(447))}[_0x4445e4(489)](){const o=_0x4445e4;document[o(442)](o(443),this[o(383)]),document[o(442)]("keyup",this[o(499)])}[_0x4445e4(438)](){const o=_0x4445e4;document.removeEventListener("keydown",this.keydownHandlerBound),document[o(395)](o(433),this[o(499)])}[_0x4445e4(453)](){const o=_0x4445e4;if(!Ye(this,r0))try{this[o(382)]=new(window[o(404)]||window.webkitAudioContext),this[o(396)](),ir(this,r0,!![])}catch(e){console[o(444)](o(452),e)}}async[_0x4445e4(396)](){const o=_0x4445e4,e=Object[o(425)](this[o(466)])[o(500)](([i,c])=>fetch(c).then(f=>f[o(504)]()).then(f=>this[o(382)][o(439)](f))[o(399)](f=>{const m=o;this[m(485)][i]=f})[o(401)](f=>console[o(444)]("Error loading audio file "+i+":",f)));await Promise.all(e)}[_0x4445e4(503)](o){const e=_0x4445e4;if(!Ye(this,Jo)){if(!this.audioContext){console[e(444)](e(492));return}this[e(382)][e(472)]===e(371)?this.audioContext.resume().then(()=>{this[e(367)](o)}).catch(i=>{console[e(444)]("Error resuming AudioContext:",i)}):this[e(367)](o)}}[_0x4445e4(367)](o){const e=_0x4445e4,i=this[e(394)][o],c=this[e(485)][i];if(c){const f=this[e(382)][e(493)]();f.buffer=c,f.connect(this[e(382)][e(415)]),f[e(490)](0)}}[_0x4445e4(398)](o){const e=_0x4445e4;EnvironmentManager.isDesktop()&&(s("div#keyboardContainer")[e(467)][e(427)]=e(451)),!this[e(495)][o[e(498)]]&&(this.keysDown[o[e(498)]]=!![],this[e(503)](o.code))}[_0x4445e4(470)](o){const e=_0x4445e4;this[e(495)][o[e(498)]]=![]}[_0x4445e4(390)](o){const e=_0x4445e4;switch(o){case VME[e(474)][e(501)]:ir(this,Jo,![]),document[e(377)](e(475))[e(442)](e(397),Ye(this,Zo));break;case VME.CURRENT_SCREEN[e(432)]:ir(this,Jo,!![]),document[e(377)]("#keyboard")[e(395)](e(397),Ye(this,Zo)),document[e(377)]("#keyboard").addEventListener(e(479),Ye(this,$o)),document[e(377)]("#keyboard")[e(442)](e(407),Ye(this,$o)),document.querySelector(e(403))[e(442)](e(479),Ye(this,es)),document[e(377)](e(403))[e(442)]("touchend",Ye(this,es));break}}[_0x4445e4(386)](){const o=_0x4445e4;s(o(441))[o(421)][o(393)](o(418))?this[o(458)]():StorageManager[o(481)](o(368))=="1"||EnvironmentManager.isQuest()?document[o(471)]("cors_hidden_input")[o(496)]():this[o(449)]()}[_0x4445e4(449)](){const o=_0x4445e4,e=document.querySelector(o(463));e[o(467)][o(450)]=o(412),document[o(476)](o(445)).forEach(c=>{const f=o;c[f(467)][f(482)]=f(460)}),s(o(441)).classList[o(480)]("visible")}[_0x4445e4(458)](){const o=_0x4445e4;UiManager[o(369)]=![],UiManager[o(478)]?UiManager[o(392)]():UiManager[o(431)](),document[o(476)](o(445))[o(434)](c=>{const f=o;c[f(467)][f(482)]="0px"}),s(o(441))[o(421)][o(465)](o(418));const i=document.querySelector(o(463));i.style.visibility=o(418)}};pa=new WeakMap,ti=new WeakMap,Qi=new WeakMap,r0=new WeakMap,Jo=new WeakMap,Zo=new WeakMap,$o=new WeakMap,es=new WeakMap,Ac=new WeakSet,kl=function(){const o=_0x4445e4;ir(this,ti,Tn[o(428)].A),document[o(377)](o(477))[o(442)](o(397),e=>{const i=o;Ye(this,pa)==Tn.Mode[i(491)]?(ir(this,pa,Tn[i(468)].STRIP),s(i(475))[i(421)][i(465)](i(459)),s(i(475))[i(421)][i(480)](i(424)),s("#kbCtrlArrow")[i(426)]=i(488),document[i(476)](i(410))[i(434)](function(c){const f=i;c[f(467)][f(450)]=f(418)}),document[i(476)](".layerB")[i(434)](function(c){const f=i;c[f(467)][f(450)]=f(418)}),document[i(476)](i(454)).forEach(function(c){const f=i;c.style.visibility=f(418)}),document[i(476)](".nostrip")[i(434)](function(c){const f=i;c[f(467)].display="none"})):Ye(this,pa)==Tn[i(468)].STRIP&&(ir(this,pa,Tn[i(468)][i(491)]),s(i(475)).classList.remove("keyboardStrip"),s(i(475)).classList[i(480)](i(459)),s(i(477))[i(426)]=i(372),ir(this,ti,Tn[i(428)].A),document.querySelectorAll(i(461))[i(434)](function(c){const f=i;c[f(467)][f(450)]=f(412)}),document[i(476)](i(454))[i(434)](function(c){const f=i;c.style[f(450)]=f(412)}),document.querySelectorAll(i(410))[i(434)](function(c){const f=i;c[f(467)].visibility=f(418)}),document[i(476)](i(446))[i(434)](function(c){const f=i;c.style[f(427)]=f(423)}))}),document[o(377)](o(403))[o(442)](o(397),e=>{const i=o;!Ye(this,Qi)[i(420)]()&&Ye(this,Qi)[i(366)]()}),document[o(377)](o(417))[o(442)](o(397),e=>{this.hideTouchKeyboard()}),document[o(377)]("#keyShift").addEventListener("click",e=>{const i=o;Ye(this,ti)==Tn[i(428)].A||(Ye(this,ti)==Tn[i(428)].B?(ir(this,ti,Tn[i(428)].C),document[i(476)](i(461)).forEach(function(c){const f=i;c[f(467)][f(450)]=f(412)}),document.querySelectorAll(i(454))[i(434)](function(c){const f=i;c[f(467)][f(450)]=f(418)})):Ye(this,ti)==Tn[i(428)].C&&(ir(this,ti,Tn[i(428)].B),document.querySelectorAll(".layerC")[i(434)](function(c){const f=i;c[f(467)].visibility=f(412)}),document.querySelectorAll(i(461))[i(434)](function(c){const f=i;c[f(467)][f(450)]=f(418)})))}),document.querySelector("#keyToggle").addEventListener(o(397),e=>{const i=o;Ye(this,ti)==Tn[i(428)].A?(document[i(377)]("#keyShift").innerHTML=i(462),ir(this,ti,Tn[i(428)].B),document[i(476)](".layerA")[i(434)](function(c){const f=i;c[f(467)][f(450)]=f(412)}),document[i(476)](i(454)).forEach(function(c){const f=i;c[f(467)][f(450)]=f(412)}),document[i(476)](i(461))[i(434)](function(c){const f=i;c[f(467)][f(450)]="visible"})):Ye(this,ti)==Tn.Layer.B&&(ir(this,ti,Tn[i(428)].A),document[i(377)](i(483)).innerHTML="CAPS",document[i(476)](".layerB")[i(434)](function(c){const f=i;c[f(467)].visibility=f(412)}),document.querySelectorAll(".layerC").forEach(function(c){const f=i;c[f(467)][f(450)]=f(412)}),document[i(476)](i(410))[i(434)](function(c){const f=i;c[f(467)][f(450)]=f(418)}))}),document[o(476)](o(497))[o(434)](function(e){const i=o;e.addEventListener("touchstart",function(){e[_0x2daa(421)].add("active")}),e[i(442)](i(407),function(){const c=i;e[c(421)][c(465)]("active")}),e[i(442)](i(380),function(){const c=i;e[c(421)][c(465)]("active")})})},Ic=new WeakSet,Ol=function(o){const e=_0x4445e4,i=o.target;if(i[e(421)].contains(e(378))){const c=i[e(436)](e(409)),f=i[e(436)](e(413));this.playSound(f),!Ye(this,Qi)[e(420)]()&&Ye(this,Qi)[e(506)](c)}},Cc=new WeakSet,Tl=function(o){const e=_0x4445e4,i=o[e(507)];i=="touchstart"?ur(this,Ei,Ki).call(this,e(374),e(374),e(443)):i==e(407)&&ur(this,Ei,Ki).call(this,"Escape",e(374),e(433))},kc=new WeakSet,Dl=function(o){const e=_0x4445e4,i=o[e(507)],c=o[e(411)],f=c[e(436)](e(409)),m=c[e(436)](e(413));c[e(436)](e(448))?i==e(479)?(ur(this,Ei,Ki).call(this,"Shift",e(484),e(443),{keyCode:16,which:16,shiftKey:!![],location:2}),ur(this,Ei,Ki).call(this,f,m,"keydown",{shiftKey:!![],location:2})):i==e(407)&&(ur(this,Ei,Ki).call(this,"Shift",e(484),"keyup",{keyCode:16,which:16,shiftKey:!![],location:2}),ur(this,Ei,Ki).call(this,f,m,e(433),{shiftKey:!![],location:2})):i==e(479)?ur(this,Ei,Ki).call(this,f,m,e(443)):i==e(407)&&ur(this,Ei,Ki).call(this,f,m,e(433))},Oc=new WeakSet,Rl=function(){const o=_0x4445e4;let e=this;document[o(471)](o(388))[o(442)](o(486),function(i){const c=o;var f=document[c(471)](c(455));f[c(391)]=this[c(464)],Ye(e,Qi)[c(473)]()})},Ei=new WeakSet,Ki=function(o,e,i,c={}){const f=_0x4445e4,m=new KeyboardEvent(i,{key:o,code:e,keyCode:c[f(363)]||o[f(385)](0),which:c[f(505)]||o[f(385)](0),shiftKey:c[f(457)]||![],location:c[f(373)]||0,bubbles:!![],cancelable:!![]});document[f(400)](m)},un(Tn,Lf,{OFF:0,ON:1}),un(Tn,"Mode",{STRIP:0,QWERTY:1}),un(Tn,Mf,{A:0,B:1,C:2});let KeyboardManager=Tn;var _0x531b3a=_0x5275;(function(_,o){for(var e=_0x5275,i=_();[];)try{var c=parseInt(e(149))/1+parseInt(e(141))/2+parseInt(e(139))/3*(parseInt(e(142))/4)+parseInt(e(138))/5*(-parseInt(e(150))/6)+parseInt(e(145))/7*(parseInt(e(143))/8)+parseInt(e(140))/9+parseInt(e(137))/10*(-parseInt(e(136))/11);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x3cea,150720);function _0x5275(_,o){var e=_0x3cea();return _0x5275=function(i,c){i=i-135;var f=e[i];return f},_0x5275(_,o)}function _0x3cea(){var _=["138378kQrbag","process_input","get_help","11Dlydtv","8097700IOtXDR","5UYSKDR","3831DOhEvn","2631249pvwTKB","145540bRHLVG","916DtTrTA","8784iOOgGI","show available commands","952SzXnRP","print_help","help","get_keywords","176661tAbbdT"];return _0x3cea=function(){return _},_0x3cea()}class HelpCommand extends CommandBase{[_0x531b3a(148)](){var o=_0x531b3a;return[o(147)]}[_0x531b3a(135)](){var o=_0x531b3a;return[o(147),o(144)]}[_0x531b3a(151)](o){var e=_0x531b3a;this.cli[e(146)]()}}const _0x344258=_0x3371;(function(_,o){const e=_0x3371,i=_();for(;[];)try{if(parseInt(e(510))/1+parseInt(e(499))/2+parseInt(e(505))/3+parseInt(e(502))/4*(-parseInt(e(496))/5)+parseInt(e(495))/6*(parseInt(e(493))/7)+-parseInt(e(483))/8+-parseInt(e(490))/9===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x1e26,323469);function _0x1e26(){const _=["sys [FILTER]","3439008FQzgpk","filter","find","2177SAOqrb","set_loading","9498SAJOmm","14670bfnVDu","map","process_selection","999760dbxTyj","platform_id","cli","708BuwsyN","length","short_name","598467BSZczR","show_results","includes","platform_name","sys","316061nodKsQ","switch to system [FILTER]","2262752dlrdBl","get_keywords","toLowerCase","localeCompare","is_selection_enabled"," - "];return _0x1e26=function(){return _},_0x1e26()}function _0x3371(_,o){const e=_0x1e26();return _0x3371=function(i,c){return i=i-483,e[i]},_0x3371(_,o)}var ts;class SystemCommand extends CommandBase{constructor(e){super();Ut(this,ts,void 0);ir(this,ts,e)}[_0x344258(484)](){return[_0x344258(509)]}get_help(){const e=_0x344258;return[e(489),e(511)]}process_input(e){const i=_0x344258;let c=[];var f=e.filter(Boolean);f[i(503)]==0?c=Object.entries(SelectedPlatforms):c=Object.entries(SelectedPlatforms)[i(491)](g=>{const Te=i;return g[0].toLowerCase()[Te(507)](f[0][Te(485)]())||g[1][Te(508)][Te(485)]()[Te(507)](f[0][Te(485)]())}),c.sort((g,Te)=>g[1][i(508)][i(486)](Te[1][i(508)]));let m=c[i(497)](g=>{const Te=i;return{id:g[1][Te(500)],label:g[1][Te(504)]+Te(488)+g[1].platform_name,data:g[1][Te(500)]}});this[i(506)](m)}[_0x344258(487)](){return!![]}[_0x344258(498)](e){const i=_0x344258;this.cli[i(494)](!![]);let c=Object.values(SelectedPlatforms)[i(492)](f=>f[i(500)]===e.id);Ye(this,ts).setSelectedPlatform(c),this[i(501)].reset(),Ye(this,ts).updatePlatform()}}ts=new WeakMap;const _0xe2383a=_0x8419;(function(_,o){const e=_0x8419,i=_();for(;[];)try{if(-parseInt(e(435))/1+parseInt(e(447))/2+-parseInt(e(445))/3*(-parseInt(e(432))/4)+parseInt(e(448))/5+-parseInt(e(440))/6*(parseInt(e(444))/7)+parseInt(e(443))/8+-parseInt(e(423))/9===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x446b,195602);function _0x446b(){const _=["startsWith","selection_changed","get_keywords","label","list [FILTER]","show_results","&nbsp;","477387fUdqHR","tags","list files starting with text","map","root","set_loading","process_selection","length","exit_selection","1412mmaTbH","filter","get_software_dir","139294kTkYGu","sort","get_help","toLowerCase","is_selection_enabled","6wfLmZv","localeCompare","cli","1059928eXaDOL","1792581jslhwP","312dBCZKL","soft_msg","505054KWhdpC","1111460RlvPQX","list","bases","loadRomFileFromUrl","data"];return _0x446b=function(){return _},_0x446b()}function _0x8419(_,o){const e=_0x446b();return _0x8419=function(i,c){return i=i-418,e[i]},_0x8419(_,o)}var Ha;class ListCommand extends CommandBase{constructor(e){super();Ut(this,Ha,void 0);ir(this,Ha,e)}[_0xe2383a(418)](){return[_0xe2383a(449)]}[_0xe2383a(437)](){const e=_0xe2383a;return[e(420),e(425)]}process_input(e){const i=_0xe2383a;if(Ye(this,Ha)[i(434)]()==null){this[i(442)][i(446)]("To use LIST command please import SOFTWARE DIRECTORY first.");return}let c=Ye(this,Ha)[i(434)](),f=[];var m=e[i(433)](Boolean);if(m[i(430)]==0)return;m[i(430)]>0&&(f=c.items[i(433)](Te=>{const Oe=i;return Te[0][Oe(438)]()[Oe(453)](m[0][Oe(438)]())})),f[i(436)]((Te,Oe)=>{const Ie=i,_e=c[Ie(424)]?c[Ie(424)][Te[1]]:null,De=c[Ie(424)]?c[Ie(424)][Oe[1]]:null;return _e&&De||!_e&&!De?Te[0][Ie(441)](Oe[0]):_e?-1:1});let g=f[i(426)](Te=>{const Oe=i,Ie=Te[1],_e=c[Oe(424)]?c[Oe(424)][Ie]:null;let De=Te[0];return{id:c[Oe(427)]+c[Oe(450)][Ie]+Te[2],label:De,tag:_e,data:c[Oe(427)]+c[Oe(450)][Ie]+Te[2]}});this[i(421)](g)}[_0xe2383a(439)](){return!![]}[_0xe2383a(431)](){return!![]}async[_0xe2383a(429)](e){const i=_0xe2383a;this.cli[i(428)](!![]);try{await Ye(this,Ha)[i(451)](e[i(452)],e[i(419)])}catch{this[i(442)].message("LOADING...",i(422),"Error loading file.")}}[_0xe2383a(454)](e){}}Ha=new WeakMap;function _0x4472(){const _=["selection_changed","11jHEreC","items","root","5pMbGmj","Error loading file.","find","276294XEwWva","1631BhgCCK","soft_msg","5357332hSaYmF","sort","bases","length","filter","cli","169227rXPKlz","1188924GjkKqp","tags","432QoPCsF","10913730AhMDhk","set_loading","process_selection","test","data","label","exit_selection","To use FIND command please import SOFTWARE DIRECTORY first.","&nbsp;","message","get_help","26472LJeNdD","get_keywords","235798ldhdEl","LOADING...","get_software_dir"];return _0x4472=function(){return _},_0x4472()}const _0x4491c5=_0x3ddf;(function(_,o){const e=_0x3ddf,i=_();for(;[];)try{if(-parseInt(e(218))/1+parseInt(e(238))/2+parseInt(e(228))/3+parseInt(e(231))/4*(parseInt(e(225))/5)+parseInt(e(252))/6*(-parseInt(e(229))/7)+-parseInt(e(240))/8*(-parseInt(e(237))/9)+parseInt(e(241))/10*(-parseInt(e(222))/11)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x4472,686088);function _0x3ddf(_,o){const e=_0x4472();return _0x3ddf=function(i,c){return i=i-217,e[i]},_0x3ddf(_,o)}var Xi;class FindCommand extends CommandBase{constructor(e){super();Ut(this,Xi,void 0);ir(this,Xi,e)}[_0x4491c5(217)](){return[_0x4491c5(227)]}[_0x4491c5(251)](){return["find [FILTER]","list filenames containing text"]}process_input(e){const i=_0x4491c5;if(Ye(this,Xi).get_software_dir()==null){this[i(236)][i(230)](i(248));return}let c=[];var f=e[i(235)](Boolean);if(f[i(234)]>0){var m=f.join(".*");if(m[i(234)]<3)return;var g=new RegExp(m,"i");c=Ye(this,Xi)[i(220)]()[i(223)].filter(Oe=>g[i(244)](Oe[0]))}c[i(232)]((Oe,Ie)=>{const _e=i,De=Ye(this,Xi)[_e(220)](),Ee=De.tags?De[_e(239)][Oe[1]]:null,qe=De[_e(239)]?De[_e(239)][Ie[1]]:null;return Ee&&qe||!Ee&&!qe?Oe[0].localeCompare(Ie[0]):Ee?-1:1});let Te=c.map(Oe=>{const Ie=i,_e=Oe[1],De=Ye(this,Xi)[Ie(220)](),Ee=De.tags?De[Ie(239)][_e]:null;let qe=Oe[0];return{id:De[Ie(224)]+De.bases[_e]+Oe[2],label:qe,tag:Ee,data:De[Ie(224)]+De[Ie(233)][_e]+Oe[2]}});this.show_results(Te)}is_selection_enabled(){return!![]}[_0x4491c5(247)](){return!![]}async[_0x4491c5(243)](e){const i=_0x4491c5;this[i(236)][i(242)](!![]);try{await Ye(this,Xi).loadRomFileFromUrl(e[i(245)],e[i(246)])}catch{this[i(236)][i(250)](i(219),i(249),i(226))}}[_0x4491c5(221)](e){}}Xi=new WeakMap;function _0x1eb4(){const _=["use system touchscreen keyboard","2893TRLuSj","570624dENsmg","134679lXrKWf","localeCompare"," | ","206320wlgbNb","single or multi line results","&nbsp;","validValues","length","3250LJqYJf","toUpperCase","clearValue","setVisible","entries","</p>","enable CRT/LCD screen effect","Enter new value and press ENTER.","set","35602OjBGCQ","is_enter_required","DEFAULT","process_input","print","248692DbmRci","onChange","Configuration has been saved.","36yPEIij","get_help","forEach","SINGLE","Configure system parameter:","MULTI","function","Default value restored.","description","1HazlUt","is_selection_enabled","228FgfcsO","83500uakrEO","cli","<p style='margin-left: 2ch;'>(&nbsp;","Enter DEFAULT as a value to reset.","4qnUwiS","sort","<p style='margin-left: 2ch;'>","configure system parameter","Invalid value.","clear","&nbsp;=&nbsp;","hasOwnProperty"];return _0x1eb4=function(){return _},_0x1eb4()}const _0x95c051=_0x439f;(function(_,o){const e=_0x439f,i=_();for(;[];)try{if(-parseInt(e(403))/1*(parseInt(e(391))/2)+-parseInt(e(421))/3+parseInt(e(410))/4*(parseInt(e(406))/5)+parseInt(e(405))/6*(parseInt(e(386))/7)+parseInt(e(424))/8*(parseInt(e(394))/9)+parseInt(e(377))/10*(-parseInt(e(419))/11)+parseInt(e(420))/12===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x1eb4,105966);function _0x439f(_,o){const e=_0x1eb4();return _0x439f=function(i,c){return i=i-375,e[i]},_0x439f(_,o)}var Wa,Ka,Os;class SetCommand extends CommandBase{constructor(){super(...arguments);Ut(this,Ka);Ut(this,Wa,{SHADER:{validValues:["0","1"],description:_0x95c051(383)},LINES:{validValues:[_0x95c051(397),_0x95c051(399)],description:_0x95c051(425)},SYSKB:{validValues:["0","1"],description:_0x95c051(418)},DEBUG:{validValues:["0","1"],description:"enable debug information",onChange:e=>{Debug[_0x95c051(380)](e==1)}}})}get_keywords(){return[_0x95c051(385)]}[_0x95c051(395)](){return["set [PARAM] [VALUE]",_0x95c051(413)]}[_0x95c051(389)](e,i){const c=_0x95c051;if(!e[c(376)]){this.cli[c(390)](c(398)),this[c(407)][c(390)](c(426)),Object[c(381)](Ye(this,Wa))[c(411)](([Te],[Oe])=>Te[c(422)](Oe))[c(396)](([Te,Oe])=>{ur(this,Ka,Os).call(this,Te,Oe)});return}const f=e[0][c(378)](),m=Ye(this,Wa)[f],g=e[1];if(m!=null&&(ur(this,Ka,Os).call(this,f,m),this[c(407)][c(390)](c(384)),this[c(407)][c(390)](c(409))),i&&e.length==2)if(Ye(this,Wa)[c(417)](f)){const Te=Ye(this,Wa)[f];g[c(378)]()==c(388)?(StorageManager[c(379)](f,g),this[c(407)][c(415)](),ur(this,Ka,Os).call(this,f,m),this[c(407)].print(c(401)),Te[c(392)]&&typeof Te[c(392)]===c(400)&&Te[c(392)](g)):Te.validValues.includes(g[c(378)]())?(StorageManager.storeValue(f,g),this.cli[c(415)](),ur(this,Ka,Os).call(this,f,m),this[c(407)].print(c(393)),Te[c(392)]&&typeof Te[c(392)]===c(400)&&Te[c(392)](g)):(this.cli.print(c(426)),this[c(407)][c(390)](c(414)))}else this[c(407)].print(c(426)),this[c(407)].print("Invalid parameter.")}[_0x95c051(404)](){return![]}[_0x95c051(387)](){return![]}}Wa=new WeakMap,Ka=new WeakSet,Os=function(e,i){const c=_0x95c051;let f=StorageManager.getValue(e.toUpperCase()),m="";f!=null&&(m=c(416)+f[c(378)]()),this[c(407)].print("<p style='margin-left: 1ch;'>"+e.toUpperCase()+m+c(382)),this[c(407)].print(c(412)+i[c(402)]+c(382)),this[c(407)][c(390)](c(408)+i[c(375)].join(c(423))+"&nbsp;)"+c(382)),this[c(407)][c(390)](c(426))};const _0x19e1d6=_0x10c8;(function(_,o){const e=_0x10c8,i=_();for(;[];)try{if(parseInt(e(398))/1*(parseInt(e(418))/2)+parseInt(e(396))/3*(parseInt(e(395))/4)+-parseInt(e(355))/5+parseInt(e(416))/6+parseInt(e(391))/7*(parseInt(e(387))/8)+-parseInt(e(371))/9+-parseInt(e(422))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x5864,646778);function _0x10c8(_,o){const e=_0x5864();return _0x10c8=function(i,c){return i=i-352,e[i]},_0x10c8(_,o)}var wi,Tc,Fl,Dc,Pl,Rc,Bl,n0,du,Fc,ql;class OpenCommand extends CommandBase{constructor(e){super();Ut(this,Tc);Ut(this,Dc);Ut(this,Rc);Ut(this,n0);Ut(this,Fc);Ut(this,wi,void 0);ir(this,wi,e),ur(this,Tc,Fl).call(this)}[_0x19e1d6(364)](){return[_0x19e1d6(424)]}get_help(){return["open",_0x19e1d6(404)]}[_0x19e1d6(360)](e,i){const c=_0x19e1d6;if(!i){this[c(419)].clear(),this.cli[c(377)](c(394)),this[c(419)][c(409)]();return}ur(this,Fc,ql).call(this)}[_0x19e1d6(379)](){return![]}[_0x19e1d6(417)](){return!![]}}wi=new WeakMap,Tc=new WeakSet,Fl=function(){const e=_0x10c8,i=document[e(393)]("settings");let c=![];[e(411),e(382),e(356),"drop"][e(427)](Oe=>{const Ie=e;i[Ie(413)](Oe,f,![]),document[Ie(359)][Ie(413)](Oe,f,![])}),["dragenter",e(382)][e(427)](Oe=>{const Ie=e;i[Ie(413)](Oe,m[Ie(378)](this),![])}),[e(356),e(383)][e(427)](Oe=>{const Ie=e;i[Ie(413)](Oe,g[Ie(378)](this),![])}),i[e(413)](e(383),Te[e(378)](this),![]);function f(Oe){Oe[e(354)](),Oe.stopPropagation()}function m(Oe){const Ie=e;i.classList.add(Ie(397)),!c&&(c=!![],this[Ie(419)].clear(),this[Ie(419)][Ie(361)]("<span class='blinking2'>Drop the file to open it.</span>"))}function g(Oe){const Ie=e;c=![],this[Ie(419)][Ie(386)](),i[Ie(352)][Ie(414)]("dragging")}function Te(Oe){const Ie=e,_e=Oe[Ie(373)],De=_e[Ie(380)];De[Ie(429)]>0&&ur(this,Dc,Pl).call(this,De[0])}},Dc=new WeakSet,Pl=function(e){const i=_0x10c8;ur(this,n0,du).call(this,e,e[i(385)])},Rc=new WeakSet,Bl=function(e){const i=_0x19e1d6;let c=Ye(this,wi)[i(403)]();for(const f of c[i(408)])if(f[i(358)].includes(e))return f},n0=new WeakSet,du=function(e,i){const c=_0x19e1d6;this[c(419)].set_loading(!![]);const f=this;if(i[c(392)](c(420))){const g=new FileReader;g[c(405)]=function(Te){const Oe=c,Ie=Te.target[Oe(367)];let _e=""+Ye(f,wi)[Oe(403)]()[Oe(368)]+Oe(365);try{let De=JSON[Oe(426)](Ie);Ye(f,wi).importCorsFile(_e,De),f[Oe(419)][Oe(401)](Oe(415),Oe(357))}catch{f.cli.message(Oe(415),Oe(423),Oe(362));return}},g[c(402)]=function(Te){console.error(c(410),Te)},g[c(384)](e)}else if(i[c(412)](c(388)))Ye(f,wi)[c(381)](e);else if(i[c(412)]("vme_collection"))Ye(f,wi)[c(406)](e);else{var m=new FileReader;m.onload=function(g){var De;const Te=c;var Oe=cryptoJsExports.lib.WordArray[Te(376)](g.target[Te(367)]),Ie=cryptoJsExports.MD5(Oe).toString();let _e=ur(De=f,Rc,Bl).call(De,Ie);if(_e!=null)Ye(f,wi)[Te(370)](_e[Te(390)],e),f[Te(419)][Te(401)](Te(415),Te(425)+_e[Te(372)]);else{const Ee=new Blob([g.target.result],{type:e.type});Ye(f,wi)[Te(374)](Ee,i)}},m.readAsArrayBuffer(e)}},Fc=new WeakSet,ql=function(){const e=_0x19e1d6,i=this;var c=document[e(369)](e(400));c[e(372)]=e(363),c.id=e(366),c[e(389)].display=e(399),document[e(359)].appendChild(c),document[e(393)](e(366))[e(407)](),document.getElementById(e(366))[e(413)](e(421),function(f){var Oe;const m=e;i[m(419)][m(353)](!![]);var g=f.target[m(380)][0],Te=g.name;i[m(419)][m(386)](),i[m(419)][m(377)](m(375)+Te+m(428)),ur(Oe=i,n0,du).call(Oe,g,Te)})};function _0x5864(){const _=["change","22254130uyhiog","Failed to read file.","open","Successfully imported ","parse","forEach"," ...","length","classList","set_loading","preventDefault","740680IhGxLA","dragleave","Successfully imported software directory.","accepted","body","process_input","soft_msg","Not a valid software directory file.","file","get_keywords",".software","vme-file-input","result","platform_id","createElement","importFile","6832872wjiqvk","type","dataTransfer","loadRomFile","Loading ","create","print","bind","is_selection_enabled","files","loadVmeImportFile","dragover","drop","readAsText","name","clear","8eIgMms","vme_import","style","key","8898337fBOeGN","endsWith","getElementById","Press ENTER to open local file.","4RbJIqK","1545612nfTUxv","dragging","6Pzesaj","none","input","message","onerror","getSelectedPlatform","import/open local file","onload","loadCollectionFile","click","dependencies","redraw","Failed to read file!","dragenter","includes","addEventListener","remove","&nbsp;","5957604qRwBjC","is_enter_required","333402tZYtBL","cli",".json"];return _0x5864=function(){return _},_0x5864()}const _0x22edaa=_0xa2a0;(function(_,o){const e=_0xa2a0,i=_();for(;[];)try{if(parseInt(e(127))/1+parseInt(e(120))/2+parseInt(e(133))/3+parseInt(e(130))/4+parseInt(e(117))/5+-parseInt(e(121))/6*(-parseInt(e(139))/7)+-parseInt(e(118))/8*(parseInt(e(142))/9)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x2c22,305369);var i0,Pc,Nl,Bc,Ll;class AboutCommand extends CommandBase{constructor(e){super();Ut(this,Pc);Ut(this,Bc);Ut(this,i0,void 0);ir(this,i0,e)}[_0x22edaa(125)](){return[_0x22edaa(149)]}[_0x22edaa(123)](){return["about",_0x22edaa(147)]}process_input(e){ur(this,Bc,Ll).call(this)}}i0=new WeakMap,Pc=new WeakSet,Nl=function(e,i){const c=_0x22edaa;this[c(137)][c(144)]("&nbsp;"),this[c(137)].print(c(138)),this[c(137)].print("------------");let f=EnvironmentManager.isSmartphone(),m=EnvironmentManager.isTablet(),g=EnvironmentManager[c(143)](),Te=EnvironmentManager[c(124)](),Oe=EnvironmentManager[c(122)]();this[c(137)].print("&nbsp;["+(Oe?"x":" ")+c(146)),this[c(137)][c(144)](c(116)+(f?"x":" ")+"] Smartphone"),this[c(137)].print("&nbsp;["+(m?"x":" ")+c(145)),this[c(137)][c(144)](c(116)+(g?"x":" ")+c(140)),this[c(137)][c(144)](c(116)+(Te?"x":" ")+c(132)),this[c(137)][c(144)](c(141)),this.cli[c(144)]("Emulated systems"),this[c(137)][c(144)](c(135)),Ye(this,i0)[c(134)](),this[c(137)].redraw()},Bc=new WeakSet,Ll=function(){const e=_0x22edaa;this[e(137)][e(144)](e(136)),this[e(137)][e(144)](e(119)),this[e(137)][e(144)](e(148)),this[e(137)][e(144)](e(126)),this.cli.print("&nbsp;"),this[e(137)][e(144)](e(131)),this.cli.print(e(141)),this[e(137)][e(144)](e(129)),this[e(137)][e(144)](e(141)),this[e(137)].print(e(128)),this[e(137)][e(144)](e(141)),ur(this,Pc,Nl).call(this)};function _0xa2a0(_,o){const e=_0x2c22();return _0xa2a0=function(i,c){return i=i-116,e[i]},_0xa2a0(_,o)}function _0x2c22(){const _=["Environment","2407874cpsZrk","] Meta Quest Browser","&nbsp;","1126098hdbTIU","isQuest","print","] Tablet","] Installed","show VM/E information",'<div id="flip-image-outer"><div id="flip-image-container"></div></div>',"about","&nbsp;[","2235840gyrmqk","64uebXYr","Prerelease","165392FcztUK","6mdJDHt","isStandalone","get_help","hasGamepad","get_keywords","Developed by Michal Galinski","13674mQLgLI",'<a href="https://github.com/gitGalu/vme/blob/main/CHANGES.md">View Changelog</a>','<a href="https://github.com/gitGalu/VME">Visit Project Website</a>',"1125684gfqjgU","Built using Nostalgist.js and Libretro.","] Gamepad / Joystick","412212CTUWqI","checkDependencies","---------------","Virtual Machine / Emulator","cli"];return _0x2c22=function(){return _},_0x2c22()}const _0x4d2c39=_0x3dfa;(function(_,o){const e=_0x3dfa,i=_();for(;[];)try{if(-parseInt(e(345))/1*(parseInt(e(349))/2)+-parseInt(e(347))/3*(parseInt(e(346))/4)+parseInt(e(343))/5+parseInt(e(351))/6+-parseInt(e(356))/7*(parseInt(e(341))/8)+parseInt(e(344))/9+parseInt(e(354))/10*(parseInt(e(337))/11)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x8241,531993);function _0x3dfa(_,o){const e=_0x8241();return _0x3dfa=function(i,c){return i=i-334,e[i]},_0x3dfa(_,o)}var rs,qc,Ml;class LastCommand extends CommandBase{constructor(e){super();Ut(this,qc);Ut(this,rs,void 0);ir(this,rs,e)}[_0x4d2c39(359)](){return["l"]}[_0x4d2c39(357)](){return["l",_0x4d2c39(358)]}process_input(e,i){const c=_0x4d2c39;let f=StorageManager[c(342)](Ye(this,rs).getSelectedPlatform()[c(334)]+c(336),void 0);if(f!=null){const m=JSON[c(353)](f);if(this[c(348)][c(352)](c(350)),this.cli.print("&nbsp;"),this[c(348)][c(352)](c(360)+m[c(338)]),!i)return;ur(this,qc,Ml).call(this,m[c(339)],m.caption)}}}rs=new WeakMap,qc=new WeakSet,Ml=async function(e,i){const c=_0x4d2c39;this.cli.set_loading(!![]);try{await Ye(this,rs)[c(340)](e,i)}catch{this[c(348)][c(335)](c(355))}};function _0x8241(){const _=["Error loading file.","14nGgapr","get_help","re-launch last program for the selected platform","get_keywords","<p style='margin-left: 1ch;'>","platform_id","message_clear",".LAST_FILE","5265293KhhUFF","caption","filename","loadRomFileFromUrl","1418072oGbUQE","getValue","4658945WsbIYm","4562496hIbRVW","1141PQSiVK","62600GtSYuz","153nEDYXK","cli","1278pQJkGl","Press ENTER to load:","106206AuIfrR","print","parse","20cENJVr"];return _0x8241=function(){return _},_0x8241()}const _0x476a25=_0x36b4;(function(_,o){const e=_0x36b4,i=_();for(;[];)try{if(parseInt(e(324))/1+parseInt(e(313))/2*(parseInt(e(318))/3)+-parseInt(e(330))/4+parseInt(e(310))/5*(-parseInt(e(336))/6)+parseInt(e(341))/7+parseInt(e(337))/8*(-parseInt(e(302))/9)+parseInt(e(343))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x4033,470329);function _0x4033(){const _=["then","Error fetching Wikipedia(tm) results:","NFD","join","24383Wrfkia","redraw","show_results","wiki [QUERY]","normalize","label","1731300JurEdr","forEach","style","innerHTML","head","appendChild","6WbQNav","1241368rapStH","currentIndex","createElement","get_wiki_article","5460588TvMnPe","cli","6478790dYePvC","length","get_help","clear",".wikipedia.org/w/api.php?action=opensearch&search=","append","process_input","get_keywords",".wikipedia.org/w/api.php?action=query&titles=","getElementById","get_wiki_results","extract","query","45uZQedt","&limit=20&namespace=0&format=json&origin=*","wiki","exit_selection","Connecting to WikiPedia(tm)...","error","Query + enter to search WikiPedia(tm)","push","3229700HxwuDW","set_article_mode",`
                #wiki img {
                    display: none;
                }
                #wiki .image, 
                #wiki .caption {
                    display: none;
                }
                #wiki {
                    line-height: 200%;
                }
                #wiki h1, h2, h3, h4, h5, h6 {
                }
            `,"1745206kYYyiD","replace","json","https://","is_enter_required","3EofNIN","print"];return _0x4033=function(){return _},_0x4033()}function _0x36b4(_,o){const e=_0x4033();return _0x36b4=function(i,c){return i=i-293,e[i]},_0x36b4(_,o)}var a0,Nc,Vl,Lc,Ul;class WikiCommand extends CommandBase{constructor(){super(...arguments);Ut(this,Nc);Ut(this,Lc);Ut(this,a0,"en")}[_0x476a25(296)](){return[_0x476a25(304)]}[_0x476a25(345)](){return[_0x476a25(327),"find and read WikiPedia(tm) articles"]}[_0x476a25(295)](e,i){const c=_0x476a25;if(i)this.cli.clear(),this[c(342)][c(319)](c(306)),this[c(342)][c(325)](),this[c(299)](e[c(323)](" "))[c(320)](f=>{const m=c;f[m(344)]>0?(this[m(338)]=0,this[m(326)](f,!![])):this[m(326)]([])});else{this[c(342)][c(346)](),this[c(342)][c(319)](c(308)),this[c(342)][c(325)]();return}}[_0x476a25(305)](){return!![]}process_selection(e){const i=_0x476a25;this[i(338)]=-1,this[i(342)][i(311)](!![]),this[i(340)](e[i(329)])[i(320)](c=>{const f=i;this.cli[f(346)]();var m=s("#cors_results");m.innerHTML="",ur(this,Nc,Vl).call(this);var g=document[f(339)]("div");g.id=f(304),g[f(333)]=c,m[f(294)](g)})}is_selection_enabled(){return!![]}[_0x476a25(317)](){return!![]}async[_0x476a25(299)](e){const i=_0x476a25;try{const c=await fetch(i(316)+Ye(this,a0)+i(293)+e+i(303)),f=await c[i(315)]();let m=[];return f[1][i(331)]((g,Te)=>{const Oe=i;let Ie={label:f[1][Te],url:f[3][Te]};m[Oe(309)](Ie)}),m}catch(c){return console[i(307)](i(321),c),[]}}async[_0x476a25(340)](e){const i=_0x476a25;try{const c=await fetch(i(316)+Ye(this,a0)+i(297)+e+"&prop=extracts&format=json&origin=*"),f=await c.json(),m=f[i(301)].pages;let g=m[Object.keys(m)[0]][i(300)];return g=ur(this,Lc,Ul).call(this,g),g}catch(c){console[i(307)]("Error fetching Wikipedia(tm) article:",c)}}}a0=new WeakMap,Nc=new WeakSet,Vl=function(){const e=_0x476a25;var i="wiki-style";if(!document[e(298)](i)){var c=document[e(339)](e(332));c.id=i,c[e(333)]=e(312),document[e(334)][e(335)](c)}},Lc=new WeakSet,Ul=function(e){const i=_0x476a25;return e[i(328)](i(322))[i(314)](/[\u0300-\u036f]/g,"")};var _0x4dc767=_0x5168;function _0x5168(_,o){var e=_0x3746();return _0x5168=function(i,c){i=i-490;var f=e[i];return f},_0x5168(_,o)}(function(_,o){for(var e=_0x5168,i=_();[];)try{var c=-parseInt(e(506))/1+parseInt(e(494))/2+-parseInt(e(495))/3+-parseInt(e(503))/4*(-parseInt(e(492))/5)+parseInt(e(491))/6*(parseInt(e(501))/7)+-parseInt(e(505))/8*(-parseInt(e(500))/9)+-parseInt(e(499))/10;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x3746,534107);function _0x3746(){var _=["1561072eSSEVz","1603416dajndD","process_input","get_keywords","cli","6445250CqlrXs","567wffpNK","56pWGEDh","get_help","20eMIymm","Press ENTER to open Save Browser.","69992bviIhS","81448KwoVxw","open save browser","3258JrrmhF","458485xVNAyg","print"];return _0x3746=function(){return _},_0x3746()}var o0;class RestoreCommand extends CommandBase{constructor(e){super();Ut(this,o0,void 0);ir(this,o0,e)}[_0x4dc767(497)](){return["r"]}[_0x4dc767(502)](){var e=_0x4dc767;return["r",e(490)]}[_0x4dc767(496)](e,i){var c=_0x4dc767;if(this[c(498)].clear(),this[c(498)][c(493)](c(504)),i)Ye(this,o0).open();else return}}o0=new WeakMap;var _0x146b3e=_0xd10a;(function(_,o){for(var e=_0xd10a,i=_();[];)try{var c=parseInt(e(134))/1+parseInt(e(122))/2+parseInt(e(123))/3+parseInt(e(124))/4*(parseInt(e(132))/5)+parseInt(e(131))/6+parseInt(e(126))/7+-parseInt(e(133))/8;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0xd5ff,729980);function _0xd10a(_,o){var e=_0xd5ff();return _0xd10a=function(i,c){i=i-121;var f=e[i];return f},_0xd10a(_,o)}function _0xd5ff(){var _=["clear","Press ENTER to open Compilations Browser.","2470168opUxVz","3438669gJuDig","292GXtdeP","get_help","1496887rueeKb","cli","print","open compilations browser","get_keywords","5676030AKJXts","98510EvuquL","37961992jGqbNN","495830CDyedM"];return _0xd5ff=function(){return _},_0xd5ff()}var s0;class BrowseCommand extends CommandBase{constructor(e){super();Ut(this,s0,void 0);ir(this,s0,e)}[_0x146b3e(130)](){return["c"]}[_0x146b3e(125)](){var e=_0x146b3e;return["c",e(129)]}process_input(e,i){var c=_0x146b3e;if(this[c(127)][c(135)](),this[c(127)][c(128)](c(121)),i)Ye(this,s0).open();else return}}s0=new WeakMap;let F={};function D(_={}){F={animate:!0,allowClose:!0,overlayOpacity:.7,smoothScroll:!1,disableActiveInteraction:!1,showProgress:!1,stagePadding:10,stageRadius:5,popoverOffset:10,showButtons:["next","previous","close"],disableButtons:[],overlayColor:"#000",..._}}function a(_){return _?F[_]:F}function W(_,o,e,i){return(_/=i/2)<1?e/2*_*_+o:-e/2*(--_*(_-2)-1)+o}function Q(_){const o='a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])';return _.flatMap(e=>{const i=e.matches(o),c=Array.from(e.querySelectorAll(o));return[...i?[e]:[],...c]}).filter(e=>getComputedStyle(e).pointerEvents!=="none"&&ae(e))}function Z(_){if(!_||se(_))return;const o=a("smoothScroll");_.scrollIntoView({behavior:!o||re(_)?"auto":"smooth",inline:"center",block:"center"})}function re(_){if(!_||!_.parentElement)return;const o=_.parentElement;return o.scrollHeight>o.clientHeight}function se(_){const o=_.getBoundingClientRect();return o.top>=0&&o.left>=0&&o.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&o.right<=(window.innerWidth||document.documentElement.clientWidth)}function ae(_){return!!(_.offsetWidth||_.offsetHeight||_.getClientRects().length)}let O={};function b(_,o){O[_]=o}function l(_){return _?O[_]:O}function V(){O={}}let R={};function N(_,o){R[_]=o}function L(_){var o;(o=R[_])==null||o.call(R)}function ce(){R={}}function le(_,o,e,i){let c=l("__activeStagePosition");const f=c||e.getBoundingClientRect(),m=i.getBoundingClientRect(),g=W(_,f.x,m.x-f.x,o),Te=W(_,f.y,m.y-f.y,o),Oe=W(_,f.width,m.width-f.width,o),Ie=W(_,f.height,m.height-f.height,o);c={x:g,y:Te,width:Oe,height:Ie},J(c),b("__activeStagePosition",c)}function G(_){if(!_)return;const o=_.getBoundingClientRect(),e={x:o.x,y:o.y,width:o.width,height:o.height};b("__activeStagePosition",e),J(e)}function de(){const _=l("__activeStagePosition"),o=l("__overlaySvg");if(!_)return;if(!o){console.warn("No stage svg found.");return}const e=window.innerWidth,i=window.innerHeight;o.setAttribute("viewBox",`0 0 ${e} ${i}`)}function pe(_){const o=ue(_);document.body.appendChild(o),te(o,e=>{e.target.tagName==="path"&&L("overlayClick")}),b("__overlaySvg",o)}function J(_){const o=l("__overlaySvg");if(!o){pe(_);return}const e=o.firstElementChild;if((e==null?void 0:e.tagName)!=="path")throw new Error("no path element found in stage svg");e.setAttribute("d",U(_))}function ue(_){const o=window.innerWidth,e=window.innerHeight,i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.classList.add("driver-overlay","driver-overlay-animated"),i.setAttribute("viewBox",`0 0 ${o} ${e}`),i.setAttribute("xmlSpace","preserve"),i.setAttribute("xmlnsXlink","http://www.w3.org/1999/xlink"),i.setAttribute("version","1.1"),i.setAttribute("preserveAspectRatio","xMinYMin slice"),i.style.fillRule="evenodd",i.style.clipRule="evenodd",i.style.strokeLinejoin="round",i.style.strokeMiterlimit="2",i.style.zIndex="10000",i.style.position="fixed",i.style.top="0",i.style.left="0",i.style.width="100%",i.style.height="100%";const c=document.createElementNS("http://www.w3.org/2000/svg","path");return c.setAttribute("d",U(_)),c.style.fill=a("overlayColor")||"rgb(0,0,0)",c.style.opacity=`${a("overlayOpacity")}`,c.style.pointerEvents="auto",c.style.cursor="auto",i.appendChild(c),i}function U(_){const o=window.innerWidth,e=window.innerHeight,i=a("stagePadding")||0,c=a("stageRadius")||0,f=_.width+i*2,m=_.height+i*2,g=Math.min(c,f/2,m/2),Te=Math.floor(Math.max(g,0)),Oe=_.x-i+Te,Ie=_.y-i,_e=f-Te*2,De=m-Te*2;return`M${o},0L0,0L0,${e}L${o},${e}L${o},0Z
    M${Oe},${Ie} h${_e} a${Te},${Te} 0 0 1 ${Te},${Te} v${De} a${Te},${Te} 0 0 1 -${Te},${Te} h-${_e} a${Te},${Te} 0 0 1 -${Te},-${Te} v-${De} a${Te},${Te} 0 0 1 ${Te},-${Te} z`}function ve(){const _=l("__overlaySvg");_&&_.remove()}function fe(){const _=document.getElementById("driver-dummy-element");if(_)return _;let o=document.createElement("div");return o.id="driver-dummy-element",o.style.width="0",o.style.height="0",o.style.pointerEvents="none",o.style.opacity="0",o.style.position="fixed",o.style.top="50%",o.style.left="50%",document.body.appendChild(o),o}function K(_){const{element:o}=_;let e=typeof o=="string"?document.querySelector(o):o;e||(e=fe()),ge(e,_)}function he(){const _=l("__activeElement"),o=l("__activeStep");_&&(G(_),de(),ie(_,o))}function ge(_,o){const e=Date.now(),i=l("__activeStep"),c=l("__activeElement")||_,f=!c||c===_,m=_.id==="driver-dummy-element",g=c.id==="driver-dummy-element",Te=a("animate"),Oe=o.onHighlightStarted||a("onHighlightStarted"),Ie=(o==null?void 0:o.onHighlighted)||a("onHighlighted"),_e=(i==null?void 0:i.onDeselected)||a("onDeselected"),De=a(),Ee=l();!f&&_e&&_e(g?void 0:c,i,{config:De,state:Ee}),Oe&&Oe(m?void 0:_,o,{config:De,state:Ee});const qe=!f&&Te;let Be=!1;xe(),b("previousStep",i),b("previousElement",c),b("activeStep",o),b("activeElement",_);const Ne=()=>{if(l("__transitionCallback")!==Ne)return;const Ve=Date.now()-e,Ue=400-Ve<=400/2;o.popover&&Ue&&!Be&&qe&&(X(_,o),Be=!0),a("animate")&&Ve<400?le(Ve,400,c,_):(G(_),Ie&&Ie(m?void 0:_,o,{config:a(),state:l()}),b("__transitionCallback",void 0),b("__previousStep",i),b("__previousElement",c),b("__activeStep",o),b("__activeElement",_)),window.requestAnimationFrame(Ne)};b("__transitionCallback",Ne),window.requestAnimationFrame(Ne),Z(_),!qe&&o.popover&&X(_,o),c.classList.remove("driver-active-element","driver-no-interaction"),c.removeAttribute("aria-haspopup"),c.removeAttribute("aria-expanded"),c.removeAttribute("aria-controls"),a("disableActiveInteraction")&&_.classList.add("driver-no-interaction"),_.classList.add("driver-active-element"),_.setAttribute("aria-haspopup","dialog"),_.setAttribute("aria-expanded","true"),_.setAttribute("aria-controls","driver-popover-content")}function we(){var _;(_=document.getElementById("driver-dummy-element"))==null||_.remove(),document.querySelectorAll(".driver-active-element").forEach(o=>{o.classList.remove("driver-active-element","driver-no-interaction"),o.removeAttribute("aria-haspopup"),o.removeAttribute("aria-expanded"),o.removeAttribute("aria-controls")})}function I(){const _=l("__resizeTimeout");_&&window.cancelAnimationFrame(_),b("__resizeTimeout",window.requestAnimationFrame(he))}function me(_){var o;if(!l("isInitialized")||!(_.key==="Tab"||_.keyCode===9))return;const e=l("__activeElement"),i=(o=l("popover"))==null?void 0:o.wrapper,c=Q([...i?[i]:[],...e?[e]:[]]),f=c[0],m=c[c.length-1];if(_.preventDefault(),_.shiftKey){const g=c[c.indexOf(document.activeElement)-1]||m;g==null||g.focus()}else{const g=c[c.indexOf(document.activeElement)+1]||f;g==null||g.focus()}}function ee(_){var o;((o=a("allowKeyboardControl"))==null||o)&&(_.key==="Escape"?L("escapePress"):_.key==="ArrowRight"?L("arrowRightPress"):_.key==="ArrowLeft"&&L("arrowLeftPress"))}function te(_,o,e){const i=(c,f)=>{const m=c.target;_.contains(m)&&((!e||e(m))&&(c.preventDefault(),c.stopPropagation(),c.stopImmediatePropagation()),f==null||f(c))};document.addEventListener("pointerdown",i,!0),document.addEventListener("mousedown",i,!0),document.addEventListener("pointerup",i,!0),document.addEventListener("mouseup",i,!0),document.addEventListener("click",c=>{i(c,o)},!0)}function ye(){window.addEventListener("keyup",ee,!1),window.addEventListener("keydown",me,!1),window.addEventListener("resize",I),window.addEventListener("scroll",I)}function be(){window.removeEventListener("keyup",ee),window.removeEventListener("resize",I),window.removeEventListener("scroll",I)}function xe(){const _=l("popover");_&&(_.wrapper.style.display="none")}function X(_,o){var e,i;let c=l("popover");c&&document.body.removeChild(c.wrapper),c=Pe(),document.body.appendChild(c.wrapper);const{title:f,description:m,showButtons:g,disableButtons:Te,showProgress:Oe,nextBtnText:Ie=a("nextBtnText")||"Next &rarr;",prevBtnText:_e=a("prevBtnText")||"&larr; Previous",progressText:De=a("progressText")||"{current} of {total}"}=o.popover||{};c.nextButton.innerHTML=Ie,c.previousButton.innerHTML=_e,c.progress.innerHTML=De,f?(c.title.innerHTML=f,c.title.style.display="block"):c.title.style.display="none",m?(c.description.innerHTML=m,c.description.style.display="block"):c.description.style.display="none";const Ee=g||a("showButtons"),qe=Oe||a("showProgress")||!1,Be=(Ee==null?void 0:Ee.includes("next"))||(Ee==null?void 0:Ee.includes("previous"))||qe;c.closeButton.style.display=Ee.includes("close")?"block":"none",Be?(c.footer.style.display="flex",c.progress.style.display=qe?"block":"none",c.nextButton.style.display=Ee.includes("next")?"block":"none",c.previousButton.style.display=Ee.includes("previous")?"block":"none"):c.footer.style.display="none";const Ne=Te||a("disableButtons")||[];Ne!=null&&Ne.includes("next")&&(c.nextButton.disabled=!0,c.nextButton.classList.add("driver-popover-btn-disabled")),Ne!=null&&Ne.includes("previous")&&(c.previousButton.disabled=!0,c.previousButton.classList.add("driver-popover-btn-disabled")),Ne!=null&&Ne.includes("close")&&(c.closeButton.disabled=!0,c.closeButton.classList.add("driver-popover-btn-disabled"));const Ve=c.wrapper;Ve.style.display="block",Ve.style.left="",Ve.style.top="",Ve.style.bottom="",Ve.style.right="",Ve.id="driver-popover-content",Ve.setAttribute("role","dialog"),Ve.setAttribute("aria-labelledby","driver-popover-title"),Ve.setAttribute("aria-describedby","driver-popover-description");const Ue=c.arrow;Ue.className="driver-popover-arrow";const We=((e=o.popover)==null?void 0:e.popoverClass)||a("popoverClass")||"";Ve.className=`driver-popover ${We}`.trim(),te(c.wrapper,it=>{var vt,gt,tt;const pt=it.target,nt=((vt=o.popover)==null?void 0:vt.onNextClick)||a("onNextClick"),mt=((gt=o.popover)==null?void 0:gt.onPrevClick)||a("onPrevClick"),Je=((tt=o.popover)==null?void 0:tt.onCloseClick)||a("onCloseClick");if(pt.classList.contains("driver-popover-next-btn"))return nt?nt(_,o,{config:a(),state:l()}):L("nextClick");if(pt.classList.contains("driver-popover-prev-btn"))return mt?mt(_,o,{config:a(),state:l()}):L("prevClick");if(pt.classList.contains("driver-popover-close-btn"))return Je?Je(_,o,{config:a(),state:l()}):L("closeClick")},it=>!(c!=null&&c.description.contains(it))&&!(c!=null&&c.title.contains(it))&&typeof it.className=="string"&&it.className.includes("driver-popover")),b("popover",c);const He=((i=o.popover)==null?void 0:i.onPopoverRender)||a("onPopoverRender");He&&He(c,{config:a(),state:l()}),ie(_,o),Z(Ve);const Ze=_.classList.contains("driver-dummy-element"),st=Q([Ve,...Ze?[]:[_]]);st.length>0&&st[0].focus()}function oe(){const _=l("popover");if(!(_!=null&&_.wrapper))return;const o=_.wrapper.getBoundingClientRect(),e=a("stagePadding")||0,i=a("popoverOffset")||0;return{width:o.width+e+i,height:o.height+e+i,realWidth:o.width,realHeight:o.height}}function Y(_,o){const{elementDimensions:e,popoverDimensions:i,popoverPadding:c,popoverArrowDimensions:f}=o;return _==="start"?Math.max(Math.min(e.top-c,window.innerHeight-i.realHeight-f.width),f.width):_==="end"?Math.max(Math.min(e.top-(i==null?void 0:i.realHeight)+e.height+c,window.innerHeight-(i==null?void 0:i.realHeight)-f.width),f.width):_==="center"?Math.max(Math.min(e.top+e.height/2-(i==null?void 0:i.realHeight)/2,window.innerHeight-(i==null?void 0:i.realHeight)-f.width),f.width):0}function j(_,o){const{elementDimensions:e,popoverDimensions:i,popoverPadding:c,popoverArrowDimensions:f}=o;return _==="start"?Math.max(Math.min(e.left-c,window.innerWidth-i.realWidth-f.width),f.width):_==="end"?Math.max(Math.min(e.left-(i==null?void 0:i.realWidth)+e.width+c,window.innerWidth-(i==null?void 0:i.realWidth)-f.width),f.width):_==="center"?Math.max(Math.min(e.left+e.width/2-(i==null?void 0:i.realWidth)/2,window.innerWidth-(i==null?void 0:i.realWidth)-f.width),f.width):0}function ie(_,o){const e=l("popover");if(!e)return;const{align:i="start",side:c="left"}=(o==null?void 0:o.popover)||{},f=i,m=_.id==="driver-dummy-element"?"over":c,g=a("stagePadding")||0,Te=oe(),Oe=e.arrow.getBoundingClientRect(),Ie=_.getBoundingClientRect(),_e=Ie.top-Te.height;let De=_e>=0;const Ee=window.innerHeight-(Ie.bottom+Te.height);let qe=Ee>=0;const Be=Ie.left-Te.width;let Ne=Be>=0;const Ve=window.innerWidth-(Ie.right+Te.width);let Ue=Ve>=0;const We=!De&&!qe&&!Ne&&!Ue;let He=m;if(m==="top"&&De?Ue=Ne=qe=!1:m==="bottom"&&qe?Ue=Ne=De=!1:m==="left"&&Ne?Ue=De=qe=!1:m==="right"&&Ue&&(Ne=De=qe=!1),m==="over"){const Ze=window.innerWidth/2-Te.realWidth/2,st=window.innerHeight/2-Te.realHeight/2;e.wrapper.style.left=`${Ze}px`,e.wrapper.style.right="auto",e.wrapper.style.top=`${st}px`,e.wrapper.style.bottom="auto"}else if(We){const Ze=window.innerWidth/2-(Te==null?void 0:Te.realWidth)/2,st=10;e.wrapper.style.left=`${Ze}px`,e.wrapper.style.right="auto",e.wrapper.style.bottom=`${st}px`,e.wrapper.style.top="auto"}else if(Ne){const Ze=Math.min(Be,window.innerWidth-(Te==null?void 0:Te.realWidth)-Oe.width),st=Y(f,{elementDimensions:Ie,popoverDimensions:Te,popoverPadding:g,popoverArrowDimensions:Oe});e.wrapper.style.left=`${Ze}px`,e.wrapper.style.top=`${st}px`,e.wrapper.style.bottom="auto",e.wrapper.style.right="auto",He="left"}else if(Ue){const Ze=Math.min(Ve,window.innerWidth-(Te==null?void 0:Te.realWidth)-Oe.width),st=Y(f,{elementDimensions:Ie,popoverDimensions:Te,popoverPadding:g,popoverArrowDimensions:Oe});e.wrapper.style.right=`${Ze}px`,e.wrapper.style.top=`${st}px`,e.wrapper.style.bottom="auto",e.wrapper.style.left="auto",He="right"}else if(De){const Ze=Math.min(_e,window.innerHeight-Te.realHeight-Oe.width);let st=j(f,{elementDimensions:Ie,popoverDimensions:Te,popoverPadding:g,popoverArrowDimensions:Oe});e.wrapper.style.top=`${Ze}px`,e.wrapper.style.left=`${st}px`,e.wrapper.style.bottom="auto",e.wrapper.style.right="auto",He="top"}else if(qe){const Ze=Math.min(Ee,window.innerHeight-(Te==null?void 0:Te.realHeight)-Oe.width);let st=j(f,{elementDimensions:Ie,popoverDimensions:Te,popoverPadding:g,popoverArrowDimensions:Oe});e.wrapper.style.left=`${st}px`,e.wrapper.style.bottom=`${Ze}px`,e.wrapper.style.top="auto",e.wrapper.style.right="auto",He="bottom"}We?e.arrow.classList.add("driver-popover-arrow-none"):Ce(f,He,_)}function Ce(_,o,e){const i=l("popover");if(!i)return;const c=e.getBoundingClientRect(),f=oe(),m=i.arrow,g=f.width,Te=window.innerWidth,Oe=c.width,Ie=c.left,_e=f.height,De=window.innerHeight,Ee=c.top,qe=c.height;m.className="driver-popover-arrow";let Be=o,Ne=_;o==="top"?(Ie+Oe<=0?(Be="right",Ne="end"):Ie+Oe-g<=0&&(Be="top",Ne="start"),Ie>=Te?(Be="left",Ne="end"):Ie+g>=Te&&(Be="top",Ne="end")):o==="bottom"?(Ie+Oe<=0?(Be="right",Ne="start"):Ie+Oe-g<=0&&(Be="bottom",Ne="start"),Ie>=Te?(Be="left",Ne="start"):Ie+g>=Te&&(Be="bottom",Ne="end")):o==="left"?(Ee+qe<=0?(Be="bottom",Ne="end"):Ee+qe-_e<=0&&(Be="left",Ne="start"),Ee>=De?(Be="top",Ne="end"):Ee+_e>=De&&(Be="left",Ne="end")):o==="right"&&(Ee+qe<=0?(Be="bottom",Ne="start"):Ee+qe-_e<=0&&(Be="right",Ne="start"),Ee>=De?(Be="top",Ne="start"):Ee+_e>=De&&(Be="right",Ne="end")),Be?(m.classList.add(`driver-popover-arrow-side-${Be}`),m.classList.add(`driver-popover-arrow-align-${Ne}`)):m.classList.add("driver-popover-arrow-none")}function Pe(){const _=document.createElement("div");_.classList.add("driver-popover");const o=document.createElement("div");o.classList.add("driver-popover-arrow");const e=document.createElement("header");e.id="driver-popover-title",e.classList.add("driver-popover-title"),e.style.display="none",e.innerText="Popover Title";const i=document.createElement("div");i.id="driver-popover-description",i.classList.add("driver-popover-description"),i.style.display="none",i.innerText="Popover description is here";const c=document.createElement("button");c.type="button",c.classList.add("driver-popover-close-btn"),c.setAttribute("aria-label","Close"),c.innerHTML="&times;";const f=document.createElement("footer");f.classList.add("driver-popover-footer");const m=document.createElement("span");m.classList.add("driver-popover-progress-text"),m.innerText="";const g=document.createElement("span");g.classList.add("driver-popover-navigation-btns");const Te=document.createElement("button");Te.type="button",Te.classList.add("driver-popover-prev-btn"),Te.innerHTML="&larr; Previous";const Oe=document.createElement("button");return Oe.type="button",Oe.classList.add("driver-popover-next-btn"),Oe.innerHTML="Next &rarr;",g.appendChild(Te),g.appendChild(Oe),f.appendChild(m),f.appendChild(g),_.appendChild(c),_.appendChild(o),_.appendChild(e),_.appendChild(i),_.appendChild(f),{wrapper:_,arrow:o,title:e,description:i,footer:f,previousButton:Te,nextButton:Oe,closeButton:c,footerButtons:g,progress:m}}function Se(){var _;const o=l("popover");o&&((_=o.wrapper.parentElement)==null||_.removeChild(o.wrapper))}function ke(_={}){D(_);function o(){a("allowClose")&&Oe()}function e(){const Ie=l("activeIndex"),_e=a("steps")||[];if(typeof Ie>"u")return;const De=Ie+1;_e[De]?Te(De):Oe()}function i(){const Ie=l("activeIndex"),_e=a("steps")||[];if(typeof Ie>"u")return;const De=Ie-1;_e[De]?Te(De):Oe()}function c(Ie){(a("steps")||[])[Ie]?Te(Ie):Oe()}function f(){var Ie;if(l("__transitionCallback"))return;const _e=l("activeIndex"),De=l("__activeStep"),Ee=l("__activeElement");if(typeof _e>"u"||typeof De>"u"||typeof l("activeIndex")>"u")return;const qe=((Ie=De.popover)==null?void 0:Ie.onPrevClick)||a("onPrevClick");if(qe)return qe(Ee,De,{config:a(),state:l()});i()}function m(){var Ie;if(l("__transitionCallback"))return;const _e=l("activeIndex"),De=l("__activeStep"),Ee=l("__activeElement");if(typeof _e>"u"||typeof De>"u")return;const qe=((Ie=De.popover)==null?void 0:Ie.onNextClick)||a("onNextClick");if(qe)return qe(Ee,De,{config:a(),state:l()});e()}function g(){l("isInitialized")||(b("isInitialized",!0),document.body.classList.add("driver-active",a("animate")?"driver-fade":"driver-simple"),ye(),N("overlayClick",o),N("escapePress",o),N("arrowLeftPress",f),N("arrowRightPress",m))}function Te(Ie=0){var _e,De,Ee,qe,Be,Ne,Ve,Ue;const We=a("steps");if(!We){console.error("No steps to drive through"),Oe();return}if(!We[Ie]){Oe();return}b("__activeOnDestroyed",document.activeElement),b("activeIndex",Ie);const He=We[Ie],Ze=We[Ie+1],st=We[Ie-1],it=((_e=He.popover)==null?void 0:_e.doneBtnText)||a("doneBtnText")||"Done",vt=a("allowClose"),gt=typeof((De=He.popover)==null?void 0:De.showProgress)<"u"?(Ee=He.popover)==null?void 0:Ee.showProgress:a("showProgress"),tt=(((qe=He.popover)==null?void 0:qe.progressText)||a("progressText")||"{{current}} of {{total}}").replace("{{current}}",`${Ie+1}`).replace("{{total}}",`${We.length}`),pt=((Be=He.popover)==null?void 0:Be.showButtons)||a("showButtons"),nt=["next","previous",...vt?["close"]:[]].filter(Zt=>!(pt!=null&&pt.length)||pt.includes(Zt)),mt=((Ne=He.popover)==null?void 0:Ne.onNextClick)||a("onNextClick"),Je=((Ve=He.popover)==null?void 0:Ve.onPrevClick)||a("onPrevClick"),Ft=((Ue=He.popover)==null?void 0:Ue.onCloseClick)||a("onCloseClick");K({...He,popover:{showButtons:nt,nextBtnText:Ze?void 0:it,disableButtons:[...st?[]:["previous"]],showProgress:gt,progressText:tt,onNextClick:mt||(()=>{Ze?Te(Ie+1):Oe()}),onPrevClick:Je||(()=>{Te(Ie-1)}),onCloseClick:Ft||(()=>{Oe()}),...(He==null?void 0:He.popover)||{}}})}function Oe(Ie=!0){const _e=l("__activeElement"),De=l("__activeStep"),Ee=l("__activeOnDestroyed"),qe=a("onDestroyStarted");if(Ie&&qe){const Ve=!_e||(_e==null?void 0:_e.id)==="driver-dummy-element";qe(Ve?void 0:_e,De,{config:a(),state:l()});return}const Be=(De==null?void 0:De.onDeselected)||a("onDeselected"),Ne=a("onDestroyed");if(document.body.classList.remove("driver-active","driver-fade","driver-simple"),be(),Se(),we(),ve(),ce(),V(),_e&&De){const Ve=_e.id==="driver-dummy-element";Be&&Be(Ve?void 0:_e,De,{config:a(),state:l()}),Ne&&Ne(Ve?void 0:_e,De,{config:a(),state:l()})}Ee&&Ee.focus()}return{isActive:()=>l("isInitialized")||!1,refresh:I,drive:(Ie=0)=>{g(),Te(Ie)},setConfig:D,setSteps:Ie=>{V(),D({...a(),steps:Ie})},getConfig:a,getState:l,getActiveIndex:()=>l("activeIndex"),isFirstStep:()=>l("activeIndex")===0,isLastStep:()=>{const Ie=a("steps")||[],_e=l("activeIndex");return _e!==void 0&&_e===Ie.length-1},getActiveStep:()=>l("activeStep"),getActiveElement:()=>l("activeElement"),getPreviousElement:()=>l("previousElement"),getPreviousStep:()=>l("previousStep"),moveNext:e,movePrevious:i,moveTo:c,hasNextStep:()=>{const Ie=a("steps")||[],_e=l("activeIndex");return _e!==void 0&&Ie[_e+1]},hasPreviousStep:()=>{const Ie=a("steps")||[],_e=l("activeIndex");return _e!==void 0&&Ie[_e-1]},highlight:Ie=>{g(),K({...Ie,popover:Ie.popover?{showButtons:[],showProgress:!1,progressText:"",...Ie.popover}:void 0})},destroy:()=>{Oe(!1)}}}const driver="",_0x4f1adf=_0x3703;(function(_,o){const e=_0x3703,i=_();for(;[];)try{if(parseInt(e(414))/1*(-parseInt(e(433))/2)+parseInt(e(398))/3+-parseInt(e(407))/4*(parseInt(e(422))/5)+-parseInt(e(378))/6+-parseInt(e(386))/7*(-parseInt(e(436))/8)+-parseInt(e(445))/9*(-parseInt(e(397))/10)+parseInt(e(435))/11*(-parseInt(e(389))/12)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x350a,766379);function _0x3703(_,o){const e=_0x350a();return _0x3703=function(i,c){return i=i-376,e[i]},_0x3703(_,o)}function _0x350a(){const _=["menu-item-savestates","webkitRequestFullscreen","VM/E CLI Shell","right","addSystemButton","5maSzUX","help","#menu-item-open","addSaveBrowserButton","addCollectionButton","isQuest","webkitExitFullscreen","sys ","List available commands","Import file","#cors_interface","3702wFGgvV","addTourButton","523039ISOtXs","37352khMRnb","#full-screen","addAboutButton","mozCancelFullScreen","Fullscreen","<p>Click here to browse software compilations.</p>","drive","#menu-item-compilations","<p>Click here to browse and load save states.</p>","13140KDACXW",'<p>Click here to display the "About VM/E" information, including credits and licensing details.</p>',"<p>Click here to show the list of available CLI commands.</p><p>Some commands require confirmation by pressing ENTER, while others update the results automatically as you type.</p>","menu-item-tour","exitFullscreen","Open Compilations Browser","4649826vrxdWl","menu-item-system","addButtons","msRequestFullscreen","#menu-item-help","menu-item-compilations","Switch platforms","addOpenButton","910GbXuPo","msExitFullscreen","#menu-item-system","72PDVovU","menu-item-open","menu-item-about","push","fullscreenElement","webkitFullscreenElement","<p>Click here to open the system file dialog, where you can load a program to run and import programs and VME files.</p><p>You can import *vme_import*.zip files. These files contain a list of software for one or multiple platforms, which you can easily access from the VM/E Shell by typing a few letters of the desired programs`s name.</p>","<p>Use the VM/E shell by entering CLI commands or performing search queries.</p><p>If you have imported a software list for the current platform, you can start typing the name of the file you are looking for. After entering a few characters, you will see a list of files that match your search query.</p>","1230lpiSGo","3894933UvBqmA","inject","addHelpButton","about","querySelector","mozRequestFullScreen","menu-item-help","start","full-screen","825556UdPLSv","About VM/E","open","Open Save Browser","<p>Click here to show the on-screen keyboard.</p>","<p>Click here to toggle fullscreen mode on and off.</p>","requestFullscreen","28pjKUYy","<p>Click here to display the list of available emulated platforms.</p>","addFsButton"];return _0x350a=function(){return _},_0x350a()}var Ni;class ButtonManager{constructor(o){Ut(this,Ni,void 0);ir(this,Ni,o)}[_0x4f1adf(380)](){const o=_0x4f1adf;this[o(421)](),this[o(400)](),this[o(425)](),this[o(426)](),this.addOpenButton(),this.addFsButton(),this.addAboutButton(),this[o(434)]()}[_0x4f1adf(421)](){const o=_0x4f1adf;createGuiButton(o(379),"S","S",()=>{const e=o;Ye(this,Ni)[e(399)](e(429))})}addHelpButton(){const o=_0x4f1adf;createGuiButton(o(404),"H","H",()=>{const e=o;Ye(this,Ni)[e(399)](e(423))})}[_0x4f1adf(425)](){const o=_0x4f1adf;createGuiButton(o(417),"R","R",()=>{const e=o;Ye(this,Ni)[e(399)]("r",!![])})}[_0x4f1adf(426)](){const o=_0x4f1adf;createGuiButton(o(383),"C","C",()=>{const e=o;Ye(this,Ni)[e(399)]("c",!![])})}[_0x4f1adf(385)](){const o=_0x4f1adf;createGuiButton(o(390),"O","O",()=>{const e=o;Ye(this,Ni)[e(399)](e(409),!![])})}[_0x4f1adf(438)](){const o=_0x4f1adf;createGuiButton(o(391),"A","A",()=>{const e=o;Ye(this,Ni)[e(399)](e(401))})}[_0x4f1adf(416)](){const o=_0x4f1adf;EnvironmentManager[o(427)]()&&createGuiButton(o(406),o(440),"Fs",()=>{const e=o;let i=document.documentElement;const c=()=>{const m=_0x3703;i[m(413)]?i[m(413)]():i[m(403)]?i.mozRequestFullScreen():i.webkitRequestFullscreen?i[m(418)]():i[m(381)]&&i[m(381)]()},f=()=>{const m=_0x3703;document[m(376)]?document[m(376)]():document.mozCancelFullScreen?document[m(439)]():document[m(428)]?document[m(428)]():document[m(387)]&&document.msExitFullscreen()};!document[e(393)]&&!document.mozFullScreenElement&&!document[e(394)]&&!document.msFullscreenElement?c():f()})}[_0x4f1adf(434)](){const o=_0x4f1adf;createGuiButton(o(448),"?","?",()=>{const e=o,i=[];i[e(392)]({element:e(388),popover:{title:e(384),description:e(415),side:e(420),align:"start"}}),i[e(392)]({element:e(382),popover:{title:e(430),description:e(447),side:"right",align:"start"}}),i[e(392)]({element:"#menu-item-savestates",popover:{title:e(410),description:e(444),side:e(420),align:"start"}}),document[e(402)](e(437))&&i[e(392)]({element:e(437),popover:{title:"Toggle fullscreen",description:e(412),side:e(420),align:e(405)}}),document.querySelector(e(437))&&i[e(392)]({element:"#toggle-keyboard",popover:{title:"Toggle on-screen keyboard",description:e(411),side:e(420),align:e(405)}}),i[e(392)]({element:e(443),popover:{title:e(377),description:e(441),side:e(420),align:e(405)}}),i[e(392)]({element:e(424),popover:{title:e(431),description:e(395),side:"right",align:"start"}}),i[e(392)]({element:"#menu-item-about",popover:{title:e(408),description:e(446),side:e(420),align:e(405)}}),i[e(392)]({element:e(432),popover:{title:e(419),description:e(396),side:e(420),align:e(405)}}),ke({animate:![],showProgress:![],overlayOpacity:"0.66",stagePadding:10,smoothScroll:![],steps:i})[e(442)]()})}}Ni=new WeakMap;const _0x247549=_0x573e;(function(_,o){const e=_0x573e,i=_();for(;[];)try{if(parseInt(e(490))/1+parseInt(e(500))/2+parseInt(e(497))/3*(-parseInt(e(510))/4)+parseInt(e(509))/5*(parseInt(e(526))/6)+-parseInt(e(521))/7+-parseInt(e(479))/8+parseInt(e(495))/9*(parseInt(e(484))/10)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x46da,895998);function _0x46da(){const _=["initQuickJoy","MENU","#emulator","resize","remove","register_default","grid","EMULATION","isQuest","getValue","updateDeviceType","gamepaddisconnected","emulationStarted","body","black","toggleScreen","clicks_off","#warningStandalone","(display-mode: fullscreen)","updateMode","#quickshots","initQuickshot","register_command","COLLECTION_BROWSER","matches","addEventListener","pwa","standalone","13371424DWiUcq","initTouchControllerMenu","open","getSelectedPlatform","initFastUI","10zgTUdN","#quickshot","#fastui","CURRENT_MAIN_MENU","clicks_on","location","320093QGjKSy","toggleJoystick","gamepadconnected","hideTouchKeyboard","resizeCanvas","28993806xoFVvy","#versionLabel","3gAvPke","classList","orientationchange","1292408hxqNrg","whitespace","QUICKJOY_PRIMARY","add","CURRENT_ENV","initMousepad","#collection-browser","block","#quickjoys","230jMRhpI","4511468hfZUnn","flex","find","CURRENT_SCREEN","#quickjoy","initDesktopUI","#save-browser","detectDevice","initHideaway","onload","html","3980676ynWEEw","fade-in-visible","getNostalgist","(display-mode: standalone)","#settings","9930dCTGBe","matchMedia","off","search"];return _0x46da=function(){return _},_0x46da()}function _0x573e(_,o){const e=_0x46da();return _0x573e=function(i,c){return i=i-456,e[i]},_0x573e(_,o)}var yn,_i,Mc,Vn,Ga,Si,c0,Ya,Vf,Uf,jf,zf,Vc,jl,Uc,zl;const oi=class oi{constructor(){Ut(this,Vc);Ut(this,Uc);Ut(this,yn,void 0);Ut(this,_i,void 0);Ut(this,Mc,void 0);Ut(this,Vn,void 0);Ut(this,Ga,void 0);Ut(this,Si,void 0);Ut(this,c0,void 0);Ut(this,Ya,void 0);const o=_0x247549;if(window[o(519)]=function(){const i=o;document.body[i(498)].add(i(522))},ur(this,Uc,zl).call(this)){show(o(468),o(507)),show(o(520));return}if(ir(this,yn,new CLI),ir(this,_i,new KeyboardManager(Ye(this,yn))),ir(this,Ga,new StorageManager),ir(this,Vn,new PlatformManager(this,Ye(this,yn),Ye(this,Ga))),ir(this,Mc,new EnvironmentManager(Ye(this,Vn))),ir(this,Si,new UiManager(Ye(this,Vn),Ye(this,_i))),ir(this,c0,new SaveBrowser(this,Ye(this,Vn),Ye(this,Ga),Ye(this,yn))),ir(this,Ya,new CollectionBrowser(this,Ye(this,Vn),Ye(this,Ga),Ye(this,yn))),Ye(this,_i).clicks_on(),Ye(this,yn).register_command(new HelpCommand),Ye(this,yn)[o(473)](new RestoreCommand(Ye(this,c0))),Ye(this,yn)[o(473)](new BrowseCommand(Ye(this,Ya))),Ye(this,yn)[o(473)](new OpenCommand(Ye(this,Vn))),Ye(this,yn)[o(473)](new ListCommand(Ye(this,Vn))),Ye(this,yn).register_command(new FindCommand(Ye(this,Vn))),Ye(this,yn)[o(473)](new SystemCommand(Ye(this,Vn))),Ye(this,yn)[o(473)](new SetCommand),Ye(this,yn).register_command(new LastCommand(Ye(this,Vn))),Ye(this,yn)[o(473)](new WikiCommand),Ye(this,yn)[o(456)](o(512)),ur(this,Vc,jl).call(this),Ye(this,_i).initButtons(),Ye(this,yn).register_command(new AboutCommand(Ye(this,Vn))),new ButtonManager(Ye(this,yn)).addButtons(),EnvironmentManager[o(517)](),s(o(496)).innerHTML="v0.8.5",this[o(466)](oi[o(513)][o(531)]),StorageManager.getValue(BOOT_TO)==BOOT_TO_COLLECTION_BROWSER){let i=StorageManager.getValue(COLLECTION_BROWSER_COLLECTION_INDEX),c=StorageManager[o(460)](COLLECTION_BROWSER_ITEM_INDEX);i&&c?Ye(this,Ya)[o(481)](i,c):Ye(this,Ya)[o(481)]()}Debug.isEnabled()&&Debug.setVisible(!![])}[(Vf=_0x247549(501),Uf=_0x247549(513),jf=_0x247549(504),zf=_0x247549(487),_0x247549(463))](){const o=_0x247549;let e=Ye(this,Vn)[o(482)]().default_touch_controller;Ye(this,Si)[o(530)](),Ye(this,Si)[o(472)](),Ye(this,Si)[o(505)](),Ye(this,Si)[o(518)](),Ye(this,Si)[o(483)](),e?UiManager[o(491)](e,![]):UiManager.toggleJoystick(JOYSTICK_TOUCH_MODE[o(502)],![]),Ye(this,Si)[o(515)](),this.toggleScreen(oi[o(513)][o(458)]),EnvironmentManager[o(461)](),Ye(this,Si)[o(480)](),EnvironmentManager[o(494)](Ye(this,Vn)[o(523)]())}[_0x247549(466)](o){const e=_0x247549;switch(o){case oi.CURRENT_SCREEN[e(531)]:hide(e(468)),hide(e(516)),hide(e(506)),hide(e(532)),hide(e(508)),hide(e(486)),hide("#quickshot"),show(e(525),e(511)),Ye(this,yn).on(),Ye(this,_i)[e(488)](),Ye(this,_i)[e(470)](o),document.body[e(498)][e(534)](e(465));break;case oi[e(513)][e(458)]:Ye(this,yn)[e(528)](),hide(e(468)),hide("#settings"),hide("#save-browser"),hide(e(506)),show(e(532),e(507)),EnvironmentManager.isDesktop()||EnvironmentManager[e(459)]()?(hide(e(486),e(457)),hide(e(471)),hide("#quickshot"),hide(e(508)),hide(e(514))):show("#fastui",e(457)),Ye(this,_i)[e(493)](),Ye(this,_i)[e(467)](),Ye(this,_i).updateMode(o),document[e(464)][e(498)].add(e(465));break;case oi[e(513)].SAVE_BROWSER:Ye(this,yn).off(),hide(e(468)),hide(e(525)),hide(e(532)),hide(e(506)),show(e(516),e(511)),document.body[e(498)][e(503)](e(465));break;case oi.CURRENT_SCREEN[e(474)]:Ye(this,yn)[e(528)](),hide(e(468)),hide(e(516)),hide(e(532)),hide(e(525)),hide(e(508)),hide(e(486)),hide(e(485)),show(e(506),e(511)),document[e(464)][e(498)][e(503)](e(465));break}}};yn=new WeakMap,_i=new WeakMap,Mc=new WeakMap,Vn=new WeakMap,Ga=new WeakMap,Si=new WeakMap,c0=new WeakMap,Ya=new WeakMap,Vc=new WeakSet,jl=function(){const o=_0x247549;window[o(476)](o(533),()=>EnvironmentManager.resizeCanvas(Ye(this,Vn)[o(523)]())),window[o(476)](o(533),()=>EnvironmentManager.detectDevice()),window[o(476)](o(499),()=>EnvironmentManager[o(517)]()),window[o(476)](o(462),()=>EnvironmentManager.detectDevice()),window[o(476)](o(492),()=>EnvironmentManager[o(517)]())},Uc=new WeakSet,zl=function(){const o=_0x247549,e=new URLSearchParams(window[o(489)][o(529)]),i=e.get("source")===o(477);if(isMobile_1&&!(window.navigator[o(478)]||window[o(527)](o(524))[o(475)]||window.matchMedia(o(469))[o(475)]||i))return!![]},un(oi,Vf,"&nbsp;"),un(oi,Uf,{STANDALONE_WARNING:50,MENU:100,EMULATION:200,SAVE_BROWSER:220,COLLECTION_BROWSER:300}),un(oi,jf,{TOUCH_SMALL:100,TOUCH_BIG:200,DESKTOP:300}),un(oi,zf,{NONE:10,PLATFORM_SELECT:100,CORS_QUERY:200}),un(oi,"SCREEN_SIZE",{SMALLER:100,BIGGER:300});let VME=oi;var _0x1701b8=_0x4dee;function _0x4881(){var _=["1040828pHHPQS","1785vTyxFc","5843696syelFK","18VcVchI","138350ylPfHR","DOMContentLoaded","15YtgnuE","1PjyjRe","addEventListener","2757588RbAnRY","576964cpNJkr","1664955imdgTH","3438xYkHlu","22CTXscT"];return _0x4881=function(){return _},_0x4881()}(function(_,o){for(var e=_0x4dee,i=_();[];)try{var c=parseInt(e(313))/1*(-parseInt(e(320))/2)+-parseInt(e(312))/3*(-parseInt(e(316))/4)+parseInt(e(317))/5+parseInt(e(318))/6*(parseInt(e(321))/7)+-parseInt(e(308))/8+parseInt(e(309))/9*(parseInt(e(310))/10)+parseInt(e(319))/11*(parseInt(e(315))/12);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x4881,436703);function _0x4dee(_,o){var e=_0x4881();return _0x4dee=function(i,c){i=i-308;var f=e[i];return f},_0x4dee(_,o)}document[_0x1701b8(314)](_0x1701b8(311),new VME);
