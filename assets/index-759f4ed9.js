var pf=Object.defineProperty;var _f=(_,o,e)=>o in _?pf(_,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):_[o]=e;var mn=(_,o,e)=>(_f(_,typeof o!="symbol"?o+"":o,e),e),tu=(_,o,e)=>{if(!o.has(_))throw TypeError("Cannot "+e)};var Ye=(_,o,e)=>(tu(_,o,"read from private field"),e?e.call(_):o.get(_)),jt=(_,o,e)=>{if(o.has(_))throw TypeError("Cannot add the same private member more than once");o instanceof WeakSet?o.add(_):o.set(_,e)},nr=(_,o,e,i)=>(tu(_,o,"write to private field"),i?i.call(_,e):o.set(_,e),e);var P0=(_,o,e,i)=>({set _(c){nr(_,o,c,e)},get _(){return Ye(_,o,i)}}),ur=(_,o,e)=>(tu(_,o,"access private method"),e);(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function e(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function i(c){if(c.ep)return;c.ep=!0;const f=e(c);fetch(c.href,f)}})();const vme="";(function(_,o){for(var e=_0x50b8,i=_();[];)try{var c=parseInt(e(220))/1*(parseInt(e(229))/2)+parseInt(e(224))/3+parseInt(e(227))/4+parseInt(e(230))/5+parseInt(e(231))/6*(parseInt(e(222))/7)+-parseInt(e(217))/8*(parseInt(e(234))/9)+parseInt(e(219))/10*(-parseInt(e(226))/11);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x92f8,392239);function _0x50b8(_,o){var e=_0x92f8();return _0x50b8=function(i,c){i=i-214;var f=e[i];return f},_0x50b8(_,o)}function s(_){return document.querySelector(_)}function _0x92f8(){var _=["string","block","9ddbzWW","addEventListener","insertAdjacentHTML","beforeend","174360BZUKro","style","47370tWHhce","148ExiStM","none","1021713JjGMqh","mouseup","2279070LHULmF","getComputedStyle","4059SxBYah","462812kWppeQ","display","7908hzsuDm","587830JKXoMG","24KSyJkX"];return _0x92f8=function(){return _},_0x92f8()}function show(_,o){var e=_0x50b8,i=s(_);i!=null&&(o==null&&(o=e(233)),i.style.display=o)}function hide(_){var o=_0x50b8,e=s(_);e!=null&&(e[o(218)][o(228)]=o(221))}function addButtonEventListeners(_,o){var e=_0x50b8;let i=![];const c=f=>{o(f)};_[e(214)]("mousedown",()=>{i=!![],c(!![])}),_[e(214)](e(223),()=>{i&&(c(![]),i=![])}),_[e(214)]("mouseleave",()=>{i&&(c(![]),i=![])})}var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$1(_){return _&&_.__esModule&&Object.prototype.hasOwnProperty.call(_,"default")?_.default:_}function getAugmentedNamespace(_){if(_.__esModule)return _;var o=_.default;if(typeof o=="function"){var e=function i(){return this instanceof i?Reflect.construct(o,arguments,this.constructor):o.apply(this,arguments)};e.prototype=o.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(_).forEach(function(i){var c=Object.getOwnPropertyDescriptor(_,i);Object.defineProperty(e,i,c.get?c:{enumerable:!0,get:function(){return _[i]}})}),e}var dexie_min={exports:{}};(function(_,o){(function(e,i){_.exports=i()})(commonjsGlobal$1,function(){var e=function(Re,Le){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ze,Je){ze.__proto__=Je}||function(ze,Je){for(var $e in Je)Object.prototype.hasOwnProperty.call(Je,$e)&&(ze[$e]=Je[$e])})(Re,Le)},i=function(){return(i=Object.assign||function(Re){for(var Le,ze=1,Je=arguments.length;ze<Je;ze++)for(var $e in Le=arguments[ze])Object.prototype.hasOwnProperty.call(Le,$e)&&(Re[$e]=Le[$e]);return Re}).apply(this,arguments)};function c(Re,Le,ze){if(ze||arguments.length===2)for(var Je,$e=0,ot=Le.length;$e<ot;$e++)!Je&&$e in Le||((Je=Je||Array.prototype.slice.call(Le,0,$e))[$e]=Le[$e]);return Re.concat(Je||Array.prototype.slice.call(Le))}var f=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:commonjsGlobal$1,m=Object.keys,g=Array.isArray;function Te(Re,Le){return typeof Le!="object"||m(Le).forEach(function(ze){Re[ze]=Le[ze]}),Re}typeof Promise>"u"||f.Promise||(f.Promise=Promise);var Ie=Object.getPrototypeOf,Oe={}.hasOwnProperty;function Ae(Re,Le){return Oe.call(Re,Le)}function De(Re,Le){typeof Le=="function"&&(Le=Le(Ie(Re))),(typeof Reflect>"u"?m:Reflect.ownKeys)(Le).forEach(function(ze){qe(Re,ze,Le[ze])})}var _e=Object.defineProperty;function qe(Re,Le,ze,Je){_e(Re,Le,Te(ze&&Ae(ze,"get")&&typeof ze.get=="function"?{get:ze.get,set:ze.set,configurable:!0}:{value:ze,configurable:!0,writable:!0},Je))}function Be(Re){return{from:function(Le){return Re.prototype=Object.create(Le.prototype),qe(Re.prototype,"constructor",Re),{extend:De.bind(null,Re.prototype)}}}}var Ne=Object.getOwnPropertyDescriptor,Ve=[].slice;function Ue(Re,Le,ze){return Ve.call(Re,Le,ze)}function We(Re,Le){return Le(Re)}function He(Re){if(!Re)throw new Error("Assertion Failed")}function Ze(Re){f.setImmediate?setImmediate(Re):setTimeout(Re,0)}function ct(Re,Le){if(typeof Le=="string"&&Ae(Re,Le))return Re[Le];if(!Le)return Re;if(typeof Le!="string"){for(var ze=[],Je=0,$e=Le.length;Je<$e;++Je){var ot=ct(Re,Le[Je]);ze.push(ot)}return ze}var _t=Le.indexOf(".");if(_t!==-1){var wt=Re[Le.substr(0,_t)];return wt==null?void 0:ct(wt,Le.substr(_t+1))}}function at(Re,Le,ze){if(Re&&Le!==void 0&&!("isFrozen"in Object&&Object.isFrozen(Re)))if(typeof Le!="string"&&"length"in Le){He(typeof ze!="string"&&"length"in ze);for(var Je=0,$e=Le.length;Je<$e;++Je)at(Re,Le[Je],ze[Je])}else{var ot,_t,wt=Le.indexOf(".");wt!==-1?(ot=Le.substr(0,wt),(_t=Le.substr(wt+1))===""?ze===void 0?g(Re)&&!isNaN(parseInt(ot))?Re.splice(ot,1):delete Re[ot]:Re[ot]=ze:at(wt=!(wt=Re[ot])||!Ae(Re,ot)?Re[ot]={}:wt,_t,ze)):ze===void 0?g(Re)&&!isNaN(parseInt(Le))?Re.splice(Le,1):delete Re[Le]:Re[Le]=ze}}function gt(Re){var Le,ze={};for(Le in Re)Ae(Re,Le)&&(ze[Le]=Re[Le]);return ze}var yt=[].concat;function tt(Re){return yt.apply([],Re)}var mi="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(tt([8,16,32,64].map(function(Re){return["Int","Uint","Float"].map(function(Le){return Le+Re+"Array"})}))).filter(function(Re){return f[Re]}),pt=new Set(mi.map(function(Re){return f[Re]})),nt=null;function mt(Re){return nt=new WeakMap,Re=function Le(ze){if(!ze||typeof ze!="object")return ze;var Je=nt.get(ze);if(Je)return Je;if(g(ze)){Je=[],nt.set(ze,Je);for(var $e=0,ot=ze.length;$e<ot;++$e)Je.push(Le(ze[$e]))}else if(pt.has(ze.constructor))Je=ze;else{var _t,wt=Ie(ze);for(_t in Je=wt===Object.prototype?{}:Object.create(wt),nt.set(ze,Je),ze)Ae(ze,_t)&&(Je[_t]=Le(ze[_t]))}return Je}(Re),nt=null,Re}var Xe={}.toString;function Ft(Re){return Xe.call(Re).slice(8,-1)}var Zt=typeof Symbol<"u"?Symbol.iterator:"@@iterator",zt=typeof Zt=="symbol"?function(Re){var Le;return Re!=null&&(Le=Re[Zt])&&Le.apply(Re)}:function(){return null};function cr(Re,Le){return Le=Re.indexOf(Le),0<=Le&&Re.splice(Le,1),0<=Le}var Et={};function St(Re){var Le,ze,Je,$e;if(arguments.length===1){if(g(Re))return Re.slice();if(this===Et&&typeof Re=="string")return[Re];if($e=zt(Re)){for(ze=[];!(Je=$e.next()).done;)ze.push(Je.value);return ze}if(Re==null)return[Re];if(typeof(Le=Re.length)!="number")return[Re];for(ze=new Array(Le);Le--;)ze[Le]=Re[Le];return ze}for(Le=arguments.length,ze=new Array(Le);Le--;)ze[Le]=arguments[Le];return ze}var st=typeof Symbol<"u"?function(Re){return Re[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},vt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],en=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(vt),dt={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Bt(Re,Le){this.name=Re,this.message=Le}function At(Re,Le){return Re+". Errors: "+Object.keys(Le).map(function(ze){return Le[ze].toString()}).filter(function(ze,Je,$e){return $e.indexOf(ze)===Je}).join(`
`)}function Kt(Re,Le,ze,Je){this.failures=Le,this.failedKeys=Je,this.successCount=ze,this.message=At(Re,Le)}function fr(Re,Le){this.name="BulkError",this.failures=Object.keys(Le).map(function(ze){return Le[ze]}),this.failuresByPos=Le,this.message=At(Re,this.failures)}Be(Bt).from(Error).extend({toString:function(){return this.name+": "+this.message}}),Be(Kt).from(Bt),Be(fr).from(Bt);var Dr=en.reduce(function(Re,Le){return Re[Le]=Le+"Error",Re},{}),or=Bt,lt=en.reduce(function(Re,Le){var ze=Le+"Error";function Je($e,ot){this.name=ze,$e?typeof $e=="string"?(this.message="".concat($e).concat(ot?`
 `+ot:""),this.inner=ot||null):typeof $e=="object"&&(this.message="".concat($e.name," ").concat($e.message),this.inner=$e):(this.message=dt[Le]||ze,this.inner=null)}return Be(Je).from(or),Re[Le]=Je,Re},{});lt.Syntax=SyntaxError,lt.Type=TypeError,lt.Range=RangeError;var bt=vt.reduce(function(Re,Le){return Re[Le+"Error"]=lt[Le],Re},{}),Xt=en.reduce(function(Re,Le){return["Syntax","Type","Range"].indexOf(Le)===-1&&(Re[Le+"Error"]=lt[Le]),Re},{});function $t(){}function pr(Re){return Re}function Qe(Re,Le){return Re==null||Re===pr?Le:function(ze){return Le(Re(ze))}}function It(Re,Le){return function(){Re.apply(this,arguments),Le.apply(this,arguments)}}function Ht(Re,Le){return Re===$t?Le:function(){var ze=Re.apply(this,arguments);ze!==void 0&&(arguments[0]=ze);var Je=this.onsuccess,$e=this.onerror;this.onsuccess=null,this.onerror=null;var ot=Le.apply(this,arguments);return Je&&(this.onsuccess=this.onsuccess?It(Je,this.onsuccess):Je),$e&&(this.onerror=this.onerror?It($e,this.onerror):$e),ot!==void 0?ot:ze}}function ht(Re,Le){return Re===$t?Le:function(){Re.apply(this,arguments);var ze=this.onsuccess,Je=this.onerror;this.onsuccess=this.onerror=null,Le.apply(this,arguments),ze&&(this.onsuccess=this.onsuccess?It(ze,this.onsuccess):ze),Je&&(this.onerror=this.onerror?It(Je,this.onerror):Je)}}function xt(Re,Le){return Re===$t?Le:function(ze){var Je=Re.apply(this,arguments);Te(ze,Je);var $e=this.onsuccess,ot=this.onerror;return this.onsuccess=null,this.onerror=null,ze=Le.apply(this,arguments),$e&&(this.onsuccess=this.onsuccess?It($e,this.onsuccess):$e),ot&&(this.onerror=this.onerror?It(ot,this.onerror):ot),Je===void 0?ze===void 0?void 0:ze:Te(Je,ze)}}function Rt(Re,Le){return Re===$t?Le:function(){return Le.apply(this,arguments)!==!1&&Re.apply(this,arguments)}}function er(Re,Le){return Re===$t?Le:function(){var ze=Re.apply(this,arguments);if(ze&&typeof ze.then=="function"){for(var Je=this,$e=arguments.length,ot=new Array($e);$e--;)ot[$e]=arguments[$e];return ze.then(function(){return Le.apply(Je,ot)})}return Le.apply(this,arguments)}}Xt.ModifyError=Kt,Xt.DexieError=Bt,Xt.BulkError=fr;var rt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function je(Re){rt=Re}var Ke={},ut=100,mi=typeof Promise>"u"?[]:function(){var Re=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[Re,Ie(Re),Re];var Le=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[Le,Ie(Le),Re]}(),vt=mi[0],en=mi[1],mi=mi[2],en=en&&en.then,Ct=vt&&vt.constructor,Lt=!!mi,sr=function(Re,Le){un.push([Re,Le]),qr&&(queueMicrotask(Pn),qr=!1)},Rr=!0,qr=!0,wr=[],dr=[],Vr=pr,on={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:$t,pgp:!1,env:{},finalize:$t},Ir=on,un=[],Bn=0,Un=[];function Er(Re){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var Le=this._PSD=Ir;if(typeof Re!="function"){if(Re!==Ke)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&it(this,this._value))}this._state=null,this._value=null,++Le.ref,function ze(Je,$e){try{$e(function(ot){if(Je._state===null){if(ot===Je)throw new TypeError("A promise cannot be resolved with itself.");var _t=Je._lib&&Or();ot&&typeof ot.then=="function"?ze(Je,function(wt,Dt){ot instanceof Er?ot._then(wt,Dt):ot.then(wt,Dt)}):(Je._state=!0,Je._value=ot,kr(Je)),_t&&sn()}},it.bind(null,Je))}catch(ot){it(Je,ot)}}(this,Re)}var Jt={get:function(){var Re=Ir,Le=cn;function ze(Je,$e){var ot=this,_t=!Re.global&&(Re!==Ir||Le!==cn),wt=_t&&!dn(),Dt=new Er(function(Tt,Mt){$r(ot,new yr(Qn(Je,Re,_t,wt),Qn($e,Re,_t,wt),Tt,Mt,Re))});return this._consoleTask&&(Dt._consoleTask=this._consoleTask),Dt}return ze.prototype=Ke,ze},set:function(Re){qe(this,"then",Re&&Re.prototype===Ke?Jt:{get:function(){return Re},set:Jt.set})}};function yr(Re,Le,ze,Je,$e){this.onFulfilled=typeof Re=="function"?Re:null,this.onRejected=typeof Le=="function"?Le:null,this.resolve=ze,this.reject=Je,this.psd=$e}function it(Re,Le){var ze,Je;dr.push(Le),Re._state===null&&(ze=Re._lib&&Or(),Le=Vr(Le),Re._state=!1,Re._value=Le,Je=Re,wr.some(function($e){return $e._value===Je._value})||wr.push(Je),kr(Re),ze&&sn())}function kr(Re){var Le=Re._listeners;Re._listeners=[];for(var ze=0,Je=Le.length;ze<Je;++ze)$r(Re,Le[ze]);var $e=Re._PSD;--$e.ref||$e.finalize(),Bn===0&&(++Bn,sr(function(){--Bn==0&&ar()},[]))}function $r(Re,Le){if(Re._state!==null){var ze=Re._state?Le.onFulfilled:Le.onRejected;if(ze===null)return(Re._state?Le.resolve:Le.reject)(Re._value);++Le.psd.ref,++Bn,sr(Cr,[ze,Re,Le])}else Re._listeners.push(Le)}function Cr(Re,Le,ze){try{var Je,$e=Le._value;!Le._state&&dr.length&&(dr=[]),Je=rt&&Le._consoleTask?Le._consoleTask.run(function(){return Re($e)}):Re($e),Le._state||dr.indexOf($e)!==-1||function(ot){for(var _t=wr.length;_t;)if(wr[--_t]._value===ot._value)return wr.splice(_t,1)}(Le),ze.resolve(Je)}catch(ot){ze.reject(ot)}finally{--Bn==0&&ar(),--ze.psd.ref||ze.psd.finalize()}}function Pn(){hn(on,function(){Or()&&sn()})}function Or(){var Re=Rr;return qr=Rr=!1,Re}function sn(){var Re,Le,ze;do for(;0<un.length;)for(Re=un,un=[],ze=Re.length,Le=0;Le<ze;++Le){var Je=Re[Le];Je[0].apply(null,Je[1])}while(0<un.length);qr=Rr=!0}function ar(){var Re=wr;wr=[],Re.forEach(function(Je){Je._PSD.onunhandled.call(null,Je._value,Je)});for(var Le=Un.slice(0),ze=Le.length;ze;)Le[--ze]()}function ir(Re){return new Er(Ke,!1,Re)}function Xr(Re,Le){var ze=Ir;return function(){var Je=Or(),$e=Ir;try{return nn(ze,!0),Re.apply(this,arguments)}catch(ot){Le&&Le(ot)}finally{nn($e,!1),Je&&sn()}}}De(Er.prototype,{then:Jt,_then:function(Re,Le){$r(this,new yr(null,null,Re,Le,Ir))},catch:function(Re){if(arguments.length===1)return this.then(null,Re);var Le=Re,ze=arguments[1];return typeof Le=="function"?this.then(null,function(Je){return(Je instanceof Le?ze:ir)(Je)}):this.then(null,function(Je){return(Je&&Je.name===Le?ze:ir)(Je)})},finally:function(Re){return this.then(function(Le){return Er.resolve(Re()).then(function(){return Le})},function(Le){return Er.resolve(Re()).then(function(){return ir(Le)})})},timeout:function(Re,Le){var ze=this;return Re<1/0?new Er(function(Je,$e){var ot=setTimeout(function(){return $e(new lt.Timeout(Le))},Re);ze.then(Je,$e).finally(clearTimeout.bind(null,ot))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&qe(Er.prototype,Symbol.toStringTag,"Dexie.Promise"),on.env=Ln(),De(Er,{all:function(){var Re=St.apply(null,arguments).map(vi);return new Er(function(Le,ze){Re.length===0&&Le([]);var Je=Re.length;Re.forEach(function($e,ot){return Er.resolve($e).then(function(_t){Re[ot]=_t,--Je||Le(Re)},ze)})})},resolve:function(Re){return Re instanceof Er?Re:Re&&typeof Re.then=="function"?new Er(function(Le,ze){Re.then(Le,ze)}):new Er(Ke,!0,Re)},reject:ir,race:function(){var Re=St.apply(null,arguments).map(vi);return new Er(function(Le,ze){Re.map(function(Je){return Er.resolve(Je).then(Le,ze)})})},PSD:{get:function(){return Ir},set:function(Re){return Ir=Re}},totalEchoes:{get:function(){return cn}},newPSD:fn,usePSD:hn,scheduler:{get:function(){return sr},set:function(Re){sr=Re}},rejectionMapper:{get:function(){return Vr},set:function(Re){Vr=Re}},follow:function(Re,Le){return new Er(function(ze,Je){return fn(function($e,ot){var _t=Ir;_t.unhandleds=[],_t.onunhandled=ot,_t.finalize=It(function(){var wt,Dt=this;wt=function(){Dt.unhandleds.length===0?$e():ot(Dt.unhandleds[0])},Un.push(function Tt(){wt(),Un.splice(Un.indexOf(Tt),1)}),++Bn,sr(function(){--Bn==0&&ar()},[])},_t.finalize),Re()},Le,ze,Je)})}}),Ct&&(Ct.allSettled&&qe(Er,"allSettled",function(){var Re=St.apply(null,arguments).map(vi);return new Er(function(Le){Re.length===0&&Le([]);var ze=Re.length,Je=new Array(ze);Re.forEach(function($e,ot){return Er.resolve($e).then(function(_t){return Je[ot]={status:"fulfilled",value:_t}},function(_t){return Je[ot]={status:"rejected",reason:_t}}).then(function(){return--ze||Le(Je)})})})}),Ct.any&&typeof AggregateError<"u"&&qe(Er,"any",function(){var Re=St.apply(null,arguments).map(vi);return new Er(function(Le,ze){Re.length===0&&ze(new AggregateError([]));var Je=Re.length,$e=new Array(Je);Re.forEach(function(ot,_t){return Er.resolve(ot).then(function(wt){return Le(wt)},function(wt){$e[_t]=wt,--Je||ze(new AggregateError($e))})})})}));var Br={awaits:0,echoes:0,id:0},Tr=0,Wn=[],jn=0,cn=0,Qr=0;function fn(Re,Le,ze,Je){var $e=Ir,ot=Object.create($e);return ot.parent=$e,ot.ref=0,ot.global=!1,ot.id=++Qr,on.env,ot.env=Lt?{Promise:Er,PromiseProp:{value:Er,configurable:!0,writable:!0},all:Er.all,race:Er.race,allSettled:Er.allSettled,any:Er.any,resolve:Er.resolve,reject:Er.reject}:{},Le&&Te(ot,Le),++$e.ref,ot.finalize=function(){--this.parent.ref||this.parent.finalize()},Je=hn(ot,Re,ze,Je),ot.ref===0&&ot.finalize(),Je}function wn(){return Br.id||(Br.id=++Tr),++Br.awaits,Br.echoes+=ut,Br.id}function dn(){return!!Br.awaits&&(--Br.awaits==0&&(Br.id=0),Br.echoes=Br.awaits*ut,!0)}function vi(Re){return Br.echoes&&Re&&Re.constructor===Ct?(wn(),Re.then(function(Le){return dn(),Le},function(Le){return dn(),_n(Le)})):Re}function Li(){var Re=Wn[Wn.length-1];Wn.pop(),nn(Re,!1)}function nn(Re,Le){var ze,Je=Ir;(Le?!Br.echoes||jn++&&Re===Ir:!jn||--jn&&Re===Ir)||queueMicrotask(Le?(function($e){++cn,Br.echoes&&--Br.echoes!=0||(Br.echoes=Br.awaits=Br.id=0),Wn.push(Ir),nn($e,!0)}).bind(null,Re):Li),Re!==Ir&&(Ir=Re,Je===on&&(on.env=Ln()),Lt&&(ze=on.env.Promise,Le=Re.env,(Je.global||Re.global)&&(Object.defineProperty(f,"Promise",Le.PromiseProp),ze.all=Le.all,ze.race=Le.race,ze.resolve=Le.resolve,ze.reject=Le.reject,Le.allSettled&&(ze.allSettled=Le.allSettled),Le.any&&(ze.any=Le.any))))}function Ln(){var Re=f.Promise;return Lt?{Promise:Re,PromiseProp:Object.getOwnPropertyDescriptor(f,"Promise"),all:Re.all,race:Re.race,allSettled:Re.allSettled,any:Re.any,resolve:Re.resolve,reject:Re.reject}:{}}function hn(Re,Le,ze,Je,$e){var ot=Ir;try{return nn(Re,!0),Le(ze,Je,$e)}finally{nn(ot,!1)}}function Qn(Re,Le,ze,Je){return typeof Re!="function"?Re:function(){var $e=Ir;ze&&wn(),nn(Le,!0);try{return Re.apply(this,arguments)}finally{nn($e,!1),Je&&queueMicrotask(dn)}}}function zn(Re){Promise===Ct&&Br.echoes===0?jn===0?Re():enqueueNativeMicroTask(Re):setTimeout(Re,0)}(""+en).indexOf("[native code]")===-1&&(wn=dn=$t);var _n=Er.reject,Ai=String.fromCharCode(65535),li="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",c0="String expected.",Mi=[],Ya="__dbnames",rs="readonly",ns="readwrite";function Vi(Re,Le){return Re?Le?function(){return Re.apply(this,arguments)&&Le.apply(this,arguments)}:Re:Le}var u0={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Qa(Re){return typeof Re!="string"||/\./.test(Re)?function(Le){return Le}:function(Le){return Le[Re]===void 0&&Re in Le&&delete(Le=mt(Le))[Re],Le}}function l0(){throw lt.Type()}function Jr(Re,Le){try{var ze=f0(Re),Je=f0(Le);if(ze!==Je)return ze==="Array"?1:Je==="Array"?-1:ze==="binary"?1:Je==="binary"?-1:ze==="string"?1:Je==="string"?-1:ze==="Date"?1:Je!=="Date"?NaN:-1;switch(ze){case"number":case"Date":case"string":return Le<Re?1:Re<Le?-1:0;case"binary":return function($e,ot){for(var _t=$e.length,wt=ot.length,Dt=_t<wt?_t:wt,Tt=0;Tt<Dt;++Tt)if($e[Tt]!==ot[Tt])return $e[Tt]<ot[Tt]?-1:1;return _t===wt?0:_t<wt?-1:1}(d0(Re),d0(Le));case"Array":return function($e,ot){for(var _t=$e.length,wt=ot.length,Dt=_t<wt?_t:wt,Tt=0;Tt<Dt;++Tt){var Mt=Jr($e[Tt],ot[Tt]);if(Mt!==0)return Mt}return _t===wt?0:_t<wt?-1:1}(Re,Le)}}catch{}return NaN}function f0(Re){var Le=typeof Re;return Le!="object"?Le:ArrayBuffer.isView(Re)?"binary":(Re=Ft(Re),Re==="ArrayBuffer"?"binary":Re)}function d0(Re){return Re instanceof Uint8Array?Re:ArrayBuffer.isView(Re)?new Uint8Array(Re.buffer,Re.byteOffset,Re.byteLength):new Uint8Array(Re)}var h0=(xn.prototype._trans=function(Re,Le,ze){var Je=this._tx||Ir.trans,$e=this.name,ot=rt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(Re==="readonly"?"read":"write"," ").concat(this.name));function _t(Tt,Mt,Ot){if(!Ot.schema[$e])throw new lt.NotFound("Table "+$e+" not part of transaction");return Le(Ot.idbtrans,Ot)}var wt=Or();try{var Dt=Je&&Je.db._novip===this.db._novip?Je===Ir.trans?Je._promise(Re,_t,ze):fn(function(){return Je._promise(Re,_t,ze)},{trans:Je,transless:Ir.transless||Ir}):function Tt(Mt,Ot,Ut,Pt){if(Mt.idbdb&&(Mt._state.openComplete||Ir.letThrough||Mt._vip)){var Nt=Mt._createTransaction(Ot,Ut,Mt._dbSchema);try{Nt.create(),Mt._state.PR1398_maxLoop=3}catch(Vt){return Vt.name===Dr.InvalidState&&Mt.isOpen()&&0<--Mt._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Mt.close({disableAutoOpen:!1}),Mt.open().then(function(){return Tt(Mt,Ot,Ut,Pt)})):_n(Vt)}return Nt._promise(Ot,function(Vt,qt){return fn(function(){return Ir.trans=Nt,Pt(Vt,qt,Nt)})}).then(function(Vt){if(Ot==="readwrite")try{Nt.idbtrans.commit()}catch{}return Ot==="readonly"?Vt:Nt._completion.then(function(){return Vt})})}if(Mt._state.openComplete)return _n(new lt.DatabaseClosed(Mt._state.dbOpenError));if(!Mt._state.isBeingOpened){if(!Mt._state.autoOpen)return _n(new lt.DatabaseClosed);Mt.open().catch($t)}return Mt._state.dbReadyPromise.then(function(){return Tt(Mt,Ot,Ut,Pt)})}(this.db,Re,[this.name],_t);return ot&&(Dt._consoleTask=ot,Dt=Dt.catch(function(Tt){return console.trace(Tt),_n(Tt)})),Dt}finally{wt&&sn()}},xn.prototype.get=function(Re,Le){var ze=this;return Re&&Re.constructor===Object?this.where(Re).first(Le):Re==null?_n(new lt.Type("Invalid argument to Table.get()")):this._trans("readonly",function(Je){return ze.core.get({trans:Je,key:Re}).then(function($e){return ze.hook.reading.fire($e)})}).then(Le)},xn.prototype.where=function(Re){if(typeof Re=="string")return new this.db.WhereClause(this,Re);if(g(Re))return new this.db.WhereClause(this,"[".concat(Re.join("+"),"]"));var Le=m(Re);if(Le.length===1)return this.where(Le[0]).equals(Re[Le[0]]);var ze=this.schema.indexes.concat(this.schema.primKey).filter(function(Dt){if(Dt.compound&&Le.every(function(Mt){return 0<=Dt.keyPath.indexOf(Mt)})){for(var Tt=0;Tt<Le.length;++Tt)if(Le.indexOf(Dt.keyPath[Tt])===-1)return!1;return!0}return!1}).sort(function(Dt,Tt){return Dt.keyPath.length-Tt.keyPath.length})[0];if(ze&&this.db._maxKey!==Ai){var _t=ze.keyPath.slice(0,Le.length);return this.where(_t).equals(_t.map(function(Tt){return Re[Tt]}))}!ze&&rt&&console.warn("The query ".concat(JSON.stringify(Re)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(Le.join("+"),"]"));var Je=this.schema.idxByName,$e=this.db._deps.indexedDB;function ot(Dt,Tt){return $e.cmp(Dt,Tt)===0}var wt=Le.reduce(function(Ut,Tt){var Mt=Ut[0],Ot=Ut[1],Ut=Je[Tt],Pt=Re[Tt];return[Mt||Ut,Mt||!Ut?Vi(Ot,Ut&&Ut.multi?function(Nt){return Nt=ct(Nt,Tt),g(Nt)&&Nt.some(function(Vt){return ot(Pt,Vt)})}:function(Nt){return ot(Pt,ct(Nt,Tt))}):Ot]},[null,null]),_t=wt[0],wt=wt[1];return _t?this.where(_t.name).equals(Re[_t.keyPath]).filter(wt):ze?this.filter(wt):this.where(Le).equals("")},xn.prototype.filter=function(Re){return this.toCollection().and(Re)},xn.prototype.count=function(Re){return this.toCollection().count(Re)},xn.prototype.offset=function(Re){return this.toCollection().offset(Re)},xn.prototype.limit=function(Re){return this.toCollection().limit(Re)},xn.prototype.each=function(Re){return this.toCollection().each(Re)},xn.prototype.toArray=function(Re){return this.toCollection().toArray(Re)},xn.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},xn.prototype.orderBy=function(Re){return new this.db.Collection(new this.db.WhereClause(this,g(Re)?"[".concat(Re.join("+"),"]"):Re))},xn.prototype.reverse=function(){return this.toCollection().reverse()},xn.prototype.mapToClass=function(Re){var Le,ze=this.db,Je=this.name;function $e(){return Le!==null&&Le.apply(this,arguments)||this}(this.schema.mappedClass=Re).prototype instanceof l0&&(function(Dt,Tt){if(typeof Tt!="function"&&Tt!==null)throw new TypeError("Class extends value "+String(Tt)+" is not a constructor or null");function Mt(){this.constructor=Dt}e(Dt,Tt),Dt.prototype=Tt===null?Object.create(Tt):(Mt.prototype=Tt.prototype,new Mt)}($e,Le=Re),Object.defineProperty($e.prototype,"db",{get:function(){return ze},enumerable:!1,configurable:!0}),$e.prototype.table=function(){return Je},Re=$e);for(var ot=new Set,_t=Re.prototype;_t;_t=Ie(_t))Object.getOwnPropertyNames(_t).forEach(function(Dt){return ot.add(Dt)});function wt(Dt){if(!Dt)return Dt;var Tt,Mt=Object.create(Re.prototype);for(Tt in Dt)if(!ot.has(Tt))try{Mt[Tt]=Dt[Tt]}catch{}return Mt}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=wt,this.hook("reading",wt),Re},xn.prototype.defineClass=function(){return this.mapToClass(function(Re){Te(this,Re)})},xn.prototype.add=function(Re,Le){var ze=this,Je=this.schema.primKey,$e=Je.auto,ot=Je.keyPath,_t=Re;return ot&&$e&&(_t=Qa(ot)(Re)),this._trans("readwrite",function(wt){return ze.core.mutate({trans:wt,type:"add",keys:Le!=null?[Le]:null,values:[_t]})}).then(function(wt){return wt.numFailures?Er.reject(wt.failures[0]):wt.lastResult}).then(function(wt){if(ot)try{at(Re,ot,wt)}catch{}return wt})},xn.prototype.update=function(Re,Le){return typeof Re!="object"||g(Re)?this.where(":id").equals(Re).modify(Le):(Re=ct(Re,this.schema.primKey.keyPath),Re===void 0?_n(new lt.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(Re).modify(Le))},xn.prototype.put=function(Re,Le){var ze=this,Je=this.schema.primKey,$e=Je.auto,ot=Je.keyPath,_t=Re;return ot&&$e&&(_t=Qa(ot)(Re)),this._trans("readwrite",function(wt){return ze.core.mutate({trans:wt,type:"put",values:[_t],keys:Le!=null?[Le]:null})}).then(function(wt){return wt.numFailures?Er.reject(wt.failures[0]):wt.lastResult}).then(function(wt){if(ot)try{at(Re,ot,wt)}catch{}return wt})},xn.prototype.delete=function(Re){var Le=this;return this._trans("readwrite",function(ze){return Le.core.mutate({trans:ze,type:"delete",keys:[Re]})}).then(function(ze){return ze.numFailures?Er.reject(ze.failures[0]):void 0})},xn.prototype.clear=function(){var Re=this;return this._trans("readwrite",function(Le){return Re.core.mutate({trans:Le,type:"deleteRange",range:u0})}).then(function(Le){return Le.numFailures?Er.reject(Le.failures[0]):void 0})},xn.prototype.bulkGet=function(Re){var Le=this;return this._trans("readonly",function(ze){return Le.core.getMany({keys:Re,trans:ze}).then(function(Je){return Je.map(function($e){return Le.hook.reading.fire($e)})})})},xn.prototype.bulkAdd=function(Re,Le,ze){var Je=this,$e=Array.isArray(Le)?Le:void 0,ot=(ze=ze||($e?void 0:Le))?ze.allKeys:void 0;return this._trans("readwrite",function(_t){var Tt=Je.schema.primKey,wt=Tt.auto,Tt=Tt.keyPath;if(Tt&&$e)throw new lt.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if($e&&$e.length!==Re.length)throw new lt.InvalidArgument("Arguments objects and keys must have the same length");var Dt=Re.length,Tt=Tt&&wt?Re.map(Qa(Tt)):Re;return Je.core.mutate({trans:_t,type:"add",keys:$e,values:Tt,wantResults:ot}).then(function(Nt){var Ot=Nt.numFailures,Ut=Nt.results,Pt=Nt.lastResult,Nt=Nt.failures;if(Ot===0)return ot?Ut:Pt;throw new fr("".concat(Je.name,".bulkAdd(): ").concat(Ot," of ").concat(Dt," operations failed"),Nt)})})},xn.prototype.bulkPut=function(Re,Le,ze){var Je=this,$e=Array.isArray(Le)?Le:void 0,ot=(ze=ze||($e?void 0:Le))?ze.allKeys:void 0;return this._trans("readwrite",function(_t){var Tt=Je.schema.primKey,wt=Tt.auto,Tt=Tt.keyPath;if(Tt&&$e)throw new lt.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if($e&&$e.length!==Re.length)throw new lt.InvalidArgument("Arguments objects and keys must have the same length");var Dt=Re.length,Tt=Tt&&wt?Re.map(Qa(Tt)):Re;return Je.core.mutate({trans:_t,type:"put",keys:$e,values:Tt,wantResults:ot}).then(function(Nt){var Ot=Nt.numFailures,Ut=Nt.results,Pt=Nt.lastResult,Nt=Nt.failures;if(Ot===0)return ot?Ut:Pt;throw new fr("".concat(Je.name,".bulkPut(): ").concat(Ot," of ").concat(Dt," operations failed"),Nt)})})},xn.prototype.bulkUpdate=function(Re){var Le=this,ze=this.core,Je=Re.map(function(_t){return _t.key}),$e=Re.map(function(_t){return _t.changes}),ot=[];return this._trans("readwrite",function(_t){return ze.getMany({trans:_t,keys:Je,cache:"clone"}).then(function(wt){var Dt=[],Tt=[];Re.forEach(function(Ot,Ut){var Pt=Ot.key,Nt=Ot.changes,Vt=wt[Ut];if(Vt){for(var qt=0,Gt=Object.keys(Nt);qt<Gt.length;qt++){var Qt=Gt[qt],Yt=Nt[Qt];if(Qt===Le.schema.primKey.keyPath){if(Jr(Yt,Pt)!==0)throw new lt.Constraint("Cannot update primary key in bulkUpdate()")}else at(Vt,Qt,Yt)}ot.push(Ut),Dt.push(Pt),Tt.push(Vt)}});var Mt=Dt.length;return ze.mutate({trans:_t,type:"put",keys:Dt,values:Tt,updates:{keys:Je,changeSpecs:$e}}).then(function(Ot){var Ut=Ot.numFailures,Pt=Ot.failures;if(Ut===0)return Mt;for(var Nt=0,Vt=Object.keys(Pt);Nt<Vt.length;Nt++){var qt,Gt=Vt[Nt],Qt=ot[Number(Gt)];Qt!=null&&(qt=Pt[Gt],delete Pt[Gt],Pt[Qt]=qt)}throw new fr("".concat(Le.name,".bulkUpdate(): ").concat(Ut," of ").concat(Mt," operations failed"),Pt)})})})},xn.prototype.bulkDelete=function(Re){var Le=this,ze=Re.length;return this._trans("readwrite",function(Je){return Le.core.mutate({trans:Je,type:"delete",keys:Re})}).then(function(_t){var $e=_t.numFailures,ot=_t.lastResult,_t=_t.failures;if($e===0)return ot;throw new fr("".concat(Le.name,".bulkDelete(): ").concat($e," of ").concat(ze," operations failed"),_t)})},xn);function xn(){}function _a(Re){function Le(_t,wt){if(wt){for(var Dt=arguments.length,Tt=new Array(Dt-1);--Dt;)Tt[Dt-1]=arguments[Dt];return ze[_t].subscribe.apply(null,Tt),Re}if(typeof _t=="string")return ze[_t]}var ze={};Le.addEventType=ot;for(var Je=1,$e=arguments.length;Je<$e;++Je)ot(arguments[Je]);return Le;function ot(_t,wt,Dt){if(typeof _t!="object"){var Tt;wt=wt||Rt;var Mt={subscribers:[],fire:Dt=Dt||$t,subscribe:function(Ot){Mt.subscribers.indexOf(Ot)===-1&&(Mt.subscribers.push(Ot),Mt.fire=wt(Mt.fire,Ot))},unsubscribe:function(Ot){Mt.subscribers=Mt.subscribers.filter(function(Ut){return Ut!==Ot}),Mt.fire=Mt.subscribers.reduce(wt,Dt)}};return ze[_t]=Le[_t]=Mt}m(Tt=_t).forEach(function(Ot){var Ut=Tt[Ot];if(g(Ut))ot(Ot,Tt[Ot][0],Tt[Ot][1]);else{if(Ut!=="asap")throw new lt.InvalidArgument("Invalid event config");var Pt=ot(Ot,pr,function(){for(var Nt=arguments.length,Vt=new Array(Nt);Nt--;)Vt[Nt]=arguments[Nt];Pt.subscribers.forEach(function(qt){Ze(function(){qt.apply(null,Vt)})})})}})}}function va(Re,Le){return Be(Le).from({prototype:Re}),Le}function Xi(Re,Le){return!(Re.filter||Re.algorithm||Re.or)&&(Le?Re.justLimit:!Re.replayFilter)}function is(Re,Le){Re.filter=Vi(Re.filter,Le)}function as(Re,Le,ze){var Je=Re.replayFilter;Re.replayFilter=Je?function(){return Vi(Je(),Le())}:Le,Re.justLimit=ze&&!Je}function Ja(Re,Le){if(Re.isPrimKey)return Le.primaryKey;var ze=Le.getIndexByKeyPath(Re.index);if(!ze)throw new lt.Schema("KeyPath "+Re.index+" on object store "+Le.name+" is not indexed");return ze}function x0(Re,Le,ze){var Je=Ja(Re,Le.schema);return Le.openCursor({trans:ze,values:!Re.keysOnly,reverse:Re.dir==="prev",unique:!!Re.unique,query:{index:Je,range:Re.range}})}function Xa(Re,Le,ze,Je){var $e=Re.replayFilter?Vi(Re.filter,Re.replayFilter()):Re.filter;if(Re.or){var ot={},_t=function(wt,Dt,Tt){var Mt,Ot;$e&&!$e(Dt,Tt,function(Ut){return Dt.stop(Ut)},function(Ut){return Dt.fail(Ut)})||((Ot=""+(Mt=Dt.primaryKey))=="[object ArrayBuffer]"&&(Ot=""+new Uint8Array(Mt)),Ae(ot,Ot)||(ot[Ot]=!0,Le(wt,Dt,Tt)))};return Promise.all([Re.or._iterate(_t,ze),p0(x0(Re,Je,ze),Re.algorithm,_t,!Re.keysOnly&&Re.valueMapper)])}return p0(x0(Re,Je,ze),Vi(Re.algorithm,$e),Le,!Re.keysOnly&&Re.valueMapper)}function p0(Re,Le,ze,Je){var $e=Xr(Je?function(ot,_t,wt){return ze(Je(ot),_t,wt)}:ze);return Re.then(function(ot){if(ot)return ot.start(function(){var _t=function(){return ot.continue()};Le&&!Le(ot,function(wt){return _t=wt},function(wt){ot.stop(wt),_t=$t},function(wt){ot.fail(wt),_t=$t})||$e(ot.value,ot,function(wt){return _t=wt}),_t()})})}var mi=Symbol(),ma=(_0.prototype.execute=function(Re){if(this.add!==void 0){var Le=this.add;if(g(Le))return c(c([],g(Re)?Re:[],!0),Le,!0).sort();if(typeof Le=="number")return(Number(Re)||0)+Le;if(typeof Le=="bigint")try{return BigInt(Re)+Le}catch{return BigInt(0)+Le}throw new TypeError("Invalid term ".concat(Le))}if(this.remove!==void 0){var ze=this.remove;if(g(ze))return g(Re)?Re.filter(function(Je){return!ze.includes(Je)}).sort():[];if(typeof ze=="number")return Number(Re)-ze;if(typeof ze=="bigint")try{return BigInt(Re)-ze}catch{return BigInt(0)-ze}throw new TypeError("Invalid subtrahend ".concat(ze))}return Le=(Le=this.replacePrefix)===null||Le===void 0?void 0:Le[0],Le&&typeof Re=="string"&&Re.startsWith(Le)?this.replacePrefix[1]+Re.substring(Le.length):Re},_0);function _0(Re){Object.assign(this,Re)}var Uc=(Zr.prototype._read=function(Re,Le){var ze=this._ctx;return ze.error?ze.table._trans(null,_n.bind(null,ze.error)):ze.table._trans("readonly",Re).then(Le)},Zr.prototype._write=function(Re){var Le=this._ctx;return Le.error?Le.table._trans(null,_n.bind(null,Le.error)):Le.table._trans("readwrite",Re,"locked")},Zr.prototype._addAlgorithm=function(Re){var Le=this._ctx;Le.algorithm=Vi(Le.algorithm,Re)},Zr.prototype._iterate=function(Re,Le){return Xa(this._ctx,Re,Le,this._ctx.table.core)},Zr.prototype.clone=function(Re){var Le=Object.create(this.constructor.prototype),ze=Object.create(this._ctx);return Re&&Te(ze,Re),Le._ctx=ze,Le},Zr.prototype.raw=function(){return this._ctx.valueMapper=null,this},Zr.prototype.each=function(Re){var Le=this._ctx;return this._read(function(ze){return Xa(Le,Re,ze,Le.table.core)})},Zr.prototype.count=function(Re){var Le=this;return this._read(function(ze){var Je=Le._ctx,$e=Je.table.core;if(Xi(Je,!0))return $e.count({trans:ze,query:{index:Ja(Je,$e.schema),range:Je.range}}).then(function(_t){return Math.min(_t,Je.limit)});var ot=0;return Xa(Je,function(){return++ot,!1},ze,$e).then(function(){return ot})}).then(Re)},Zr.prototype.sortBy=function(Re,Le){var ze=Re.split(".").reverse(),Je=ze[0],$e=ze.length-1;function ot(Dt,Tt){return Tt?ot(Dt[ze[Tt]],Tt-1):Dt[Je]}var _t=this._ctx.dir==="next"?1:-1;function wt(Dt,Tt){return Dt=ot(Dt,$e),Tt=ot(Tt,$e),Dt<Tt?-_t:Tt<Dt?_t:0}return this.toArray(function(Dt){return Dt.sort(wt)}).then(Le)},Zr.prototype.toArray=function(Re){var Le=this;return this._read(function(ze){var Je=Le._ctx;if(Je.dir==="next"&&Xi(Je,!0)&&0<Je.limit){var $e=Je.valueMapper,ot=Ja(Je,Je.table.core.schema);return Je.table.core.query({trans:ze,limit:Je.limit,values:!0,query:{index:ot,range:Je.range}}).then(function(wt){return wt=wt.result,$e?wt.map($e):wt})}var _t=[];return Xa(Je,function(wt){return _t.push(wt)},ze,Je.table.core).then(function(){return _t})},Re)},Zr.prototype.offset=function(Re){var Le=this._ctx;return Re<=0||(Le.offset+=Re,Xi(Le)?as(Le,function(){var ze=Re;return function(Je,$e){return ze===0||(ze===1?--ze:$e(function(){Je.advance(ze),ze=0}),!1)}}):as(Le,function(){var ze=Re;return function(){return--ze<0}})),this},Zr.prototype.limit=function(Re){return this._ctx.limit=Math.min(this._ctx.limit,Re),as(this._ctx,function(){var Le=Re;return function(ze,Je,$e){return--Le<=0&&Je($e),0<=Le}},!0),this},Zr.prototype.until=function(Re,Le){return is(this._ctx,function(ze,Je,$e){return!Re(ze.value)||(Je($e),Le)}),this},Zr.prototype.first=function(Re){return this.limit(1).toArray(function(Le){return Le[0]}).then(Re)},Zr.prototype.last=function(Re){return this.reverse().first(Re)},Zr.prototype.filter=function(Re){var Le;return is(this._ctx,function(ze){return Re(ze.value)}),(Le=this._ctx).isMatch=Vi(Le.isMatch,Re),this},Zr.prototype.and=function(Re){return this.filter(Re)},Zr.prototype.or=function(Re){return new this.db.WhereClause(this._ctx.table,Re,this)},Zr.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Zr.prototype.desc=function(){return this.reverse()},Zr.prototype.eachKey=function(Re){var Le=this._ctx;return Le.keysOnly=!Le.isMatch,this.each(function(ze,Je){Re(Je.key,Je)})},Zr.prototype.eachUniqueKey=function(Re){return this._ctx.unique="unique",this.eachKey(Re)},Zr.prototype.eachPrimaryKey=function(Re){var Le=this._ctx;return Le.keysOnly=!Le.isMatch,this.each(function(ze,Je){Re(Je.primaryKey,Je)})},Zr.prototype.keys=function(Re){var Le=this._ctx;Le.keysOnly=!Le.isMatch;var ze=[];return this.each(function(Je,$e){ze.push($e.key)}).then(function(){return ze}).then(Re)},Zr.prototype.primaryKeys=function(Re){var Le=this._ctx;if(Le.dir==="next"&&Xi(Le,!0)&&0<Le.limit)return this._read(function(Je){var $e=Ja(Le,Le.table.core.schema);return Le.table.core.query({trans:Je,values:!1,limit:Le.limit,query:{index:$e,range:Le.range}})}).then(function(Je){return Je.result}).then(Re);Le.keysOnly=!Le.isMatch;var ze=[];return this.each(function(Je,$e){ze.push($e.primaryKey)}).then(function(){return ze}).then(Re)},Zr.prototype.uniqueKeys=function(Re){return this._ctx.unique="unique",this.keys(Re)},Zr.prototype.firstKey=function(Re){return this.limit(1).keys(function(Le){return Le[0]}).then(Re)},Zr.prototype.lastKey=function(Re){return this.reverse().firstKey(Re)},Zr.prototype.distinct=function(){var Re=this._ctx,Re=Re.index&&Re.table.schema.idxByName[Re.index];if(!Re||!Re.multi)return this;var Le={};return is(this._ctx,function($e){var Je=$e.primaryKey.toString(),$e=Ae(Le,Je);return Le[Je]=!0,!$e}),this},Zr.prototype.modify=function(Re){var Le=this,ze=this._ctx;return this._write(function(Je){var $e,ot,_t;_t=typeof Re=="function"?Re:($e=m(Re),ot=$e.length,function(qt){for(var Gt=!1,Qt=0;Qt<ot;++Qt){var Yt=$e[Qt],tr=Re[Yt],hr=ct(qt,Yt);tr instanceof ma?(at(qt,Yt,tr.execute(hr)),Gt=!0):hr!==tr&&(at(qt,Yt,tr),Gt=!0)}return Gt});function wt(qt,Yt){var Qt=Yt.failures,Yt=Yt.numFailures;Nt+=qt-Yt;for(var tr=0,hr=m(Qt);tr<hr.length;tr++){var Ar=hr[tr];Pt.push(Qt[Ar])}}var Dt=ze.table.core,Tt=Dt.schema.primaryKey,Mt=Tt.outbound,Ot=Tt.extractKey,Ut=Le.db._options.modifyChunkSize||200,Pt=[],Nt=0,Vt=[];return Le.clone().primaryKeys().then(function(qt){function Gt(Yt){var tr=Math.min(Ut,qt.length-Yt);return Dt.getMany({trans:Je,keys:qt.slice(Yt,Yt+tr),cache:"immutable"}).then(function(hr){for(var Ar=[],xr=[],br=Mt?[]:null,Sr=[],lr=0;lr<tr;++lr){var _r=hr[lr],Ur={value:mt(_r),primKey:qt[Yt+lr]};_t.call(Ur,Ur.value,Ur)!==!1&&(Ur.value==null?Sr.push(qt[Yt+lr]):Mt||Jr(Ot(_r),Ot(Ur.value))===0?(xr.push(Ur.value),Mt&&br.push(qt[Yt+lr])):(Sr.push(qt[Yt+lr]),Ar.push(Ur.value)))}return Promise.resolve(0<Ar.length&&Dt.mutate({trans:Je,type:"add",values:Ar}).then(function(Wr){for(var Lr in Wr.failures)Sr.splice(parseInt(Lr),1);wt(Ar.length,Wr)})).then(function(){return(0<xr.length||Qt&&typeof Re=="object")&&Dt.mutate({trans:Je,type:"put",keys:br,values:xr,criteria:Qt,changeSpec:typeof Re!="function"&&Re,isAdditionalChunk:0<Yt}).then(function(Wr){return wt(xr.length,Wr)})}).then(function(){return(0<Sr.length||Qt&&Re===ss)&&Dt.mutate({trans:Je,type:"delete",keys:Sr,criteria:Qt,isAdditionalChunk:0<Yt}).then(function(Wr){return wt(Sr.length,Wr)})}).then(function(){return qt.length>Yt+tr&&Gt(Yt+Ut)})})}var Qt=Xi(ze)&&ze.limit===1/0&&(typeof Re!="function"||Re===ss)&&{index:ze.index,range:ze.range};return Gt(0).then(function(){if(0<Pt.length)throw new Kt("Error modifying one or more objects",Pt,Nt,Vt);return qt.length})})})},Zr.prototype.delete=function(){var Re=this._ctx,Le=Re.range;return Xi(Re)&&(Re.isPrimKey||Le.type===3)?this._write(function(ze){var Je=Re.table.core.schema.primaryKey,$e=Le;return Re.table.core.count({trans:ze,query:{index:Je,range:$e}}).then(function(ot){return Re.table.core.mutate({trans:ze,type:"deleteRange",range:$e}).then(function(_t){var wt=_t.failures;if(_t.lastResult,_t.results,_t=_t.numFailures,_t)throw new Kt("Could not delete some values",Object.keys(wt).map(function(Dt){return wt[Dt]}),ot-_t);return ot-_t})})}):this.modify(ss)},Zr);function Zr(){}var ss=function(Re,Le){return Le.value=null};function jc(Re,Le){return Re<Le?-1:Re===Le?0:1}function zc(Re,Le){return Le<Re?-1:Re===Le?0:1}function Yr(Re,Le,ze){return Re=Re instanceof v0?new Re.Collection(Re):Re,Re._ctx.error=new(ze||TypeError)(Le),Re}function Zi(Re){return new Re.Collection(Re,function(){return cs("")}).limit(0)}function Za(Re,Le,ze,Je){var $e,ot,_t,wt,Dt,Tt,Mt,Ot=ze.length;if(!ze.every(function(Nt){return typeof Nt=="string"}))return Yr(Re,c0);function Ut(Nt){$e=Nt==="next"?function(qt){return qt.toUpperCase()}:function(qt){return qt.toLowerCase()},ot=Nt==="next"?function(qt){return qt.toLowerCase()}:function(qt){return qt.toUpperCase()},_t=Nt==="next"?jc:zc;var Vt=ze.map(function(qt){return{lower:ot(qt),upper:$e(qt)}}).sort(function(qt,Gt){return _t(qt.lower,Gt.lower)});wt=Vt.map(function(qt){return qt.upper}),Dt=Vt.map(function(qt){return qt.lower}),Mt=(Tt=Nt)==="next"?"":Je}Ut("next"),Re=new Re.Collection(Re,function(){return gi(wt[0],Dt[Ot-1]+Je)}),Re._ondirectionchange=function(Nt){Ut(Nt)};var Pt=0;return Re._addAlgorithm(function(Nt,Vt,qt){var Gt=Nt.key;if(typeof Gt!="string")return!1;var Qt=ot(Gt);if(Le(Qt,Dt,Pt))return!0;for(var Yt=null,tr=Pt;tr<Ot;++tr){var hr=function(Ar,xr,br,Sr,lr,_r){for(var Ur=Math.min(Ar.length,Sr.length),Wr=-1,Lr=0;Lr<Ur;++Lr){var Xn=xr[Lr];if(Xn!==Sr[Lr])return lr(Ar[Lr],br[Lr])<0?Ar.substr(0,Lr)+br[Lr]+br.substr(Lr+1):lr(Ar[Lr],Sr[Lr])<0?Ar.substr(0,Lr)+Sr[Lr]+br.substr(Lr+1):0<=Wr?Ar.substr(0,Wr)+xr[Wr]+br.substr(Wr+1):null;lr(Ar[Lr],Xn)<0&&(Wr=Lr)}return Ur<Sr.length&&_r==="next"?Ar+br.substr(Ar.length):Ur<Ar.length&&_r==="prev"?Ar.substr(0,br.length):Wr<0?null:Ar.substr(0,Wr)+Sr[Wr]+br.substr(Wr+1)}(Gt,Qt,wt[tr],Dt[tr],_t,Tt);hr===null&&Yt===null?Pt=tr+1:(Yt===null||0<_t(Yt,hr))&&(Yt=hr)}return Vt(Yt!==null?function(){Nt.continue(Yt+Mt)}:qt),!1}),Re}function gi(Re,Le,ze,Je){return{type:2,lower:Re,upper:Le,lowerOpen:ze,upperOpen:Je}}function cs(Re){return{type:1,lower:Re,upper:Re}}var v0=(Object.defineProperty(Sn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Sn.prototype.between=function(Re,Le,ze,Je){ze=ze!==!1,Je=Je===!0;try{return 0<this._cmp(Re,Le)||this._cmp(Re,Le)===0&&(ze||Je)&&(!ze||!Je)?Zi(this):new this.Collection(this,function(){return gi(Re,Le,!ze,!Je)})}catch{return Yr(this,li)}},Sn.prototype.equals=function(Re){return Re==null?Yr(this,li):new this.Collection(this,function(){return cs(Re)})},Sn.prototype.above=function(Re){return Re==null?Yr(this,li):new this.Collection(this,function(){return gi(Re,void 0,!0)})},Sn.prototype.aboveOrEqual=function(Re){return Re==null?Yr(this,li):new this.Collection(this,function(){return gi(Re,void 0,!1)})},Sn.prototype.below=function(Re){return Re==null?Yr(this,li):new this.Collection(this,function(){return gi(void 0,Re,!1,!0)})},Sn.prototype.belowOrEqual=function(Re){return Re==null?Yr(this,li):new this.Collection(this,function(){return gi(void 0,Re)})},Sn.prototype.startsWith=function(Re){return typeof Re!="string"?Yr(this,c0):this.between(Re,Re+Ai,!0,!0)},Sn.prototype.startsWithIgnoreCase=function(Re){return Re===""?this.startsWith(Re):Za(this,function(Le,ze){return Le.indexOf(ze[0])===0},[Re],Ai)},Sn.prototype.equalsIgnoreCase=function(Re){return Za(this,function(Le,ze){return Le===ze[0]},[Re],"")},Sn.prototype.anyOfIgnoreCase=function(){var Re=St.apply(Et,arguments);return Re.length===0?Zi(this):Za(this,function(Le,ze){return ze.indexOf(Le)!==-1},Re,"")},Sn.prototype.startsWithAnyOfIgnoreCase=function(){var Re=St.apply(Et,arguments);return Re.length===0?Zi(this):Za(this,function(Le,ze){return ze.some(function(Je){return Le.indexOf(Je)===0})},Re,Ai)},Sn.prototype.anyOf=function(){var Re=this,Le=St.apply(Et,arguments),ze=this._cmp;try{Le.sort(ze)}catch{return Yr(this,li)}if(Le.length===0)return Zi(this);var Je=new this.Collection(this,function(){return gi(Le[0],Le[Le.length-1])});Je._ondirectionchange=function(ot){ze=ot==="next"?Re._ascending:Re._descending,Le.sort(ze)};var $e=0;return Je._addAlgorithm(function(ot,_t,wt){for(var Dt=ot.key;0<ze(Dt,Le[$e]);)if(++$e===Le.length)return _t(wt),!1;return ze(Dt,Le[$e])===0||(_t(function(){ot.continue(Le[$e])}),!1)}),Je},Sn.prototype.notEqual=function(Re){return this.inAnyRange([[-1/0,Re],[Re,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Sn.prototype.noneOf=function(){var Re=St.apply(Et,arguments);if(Re.length===0)return new this.Collection(this);try{Re.sort(this._ascending)}catch{return Yr(this,li)}var Le=Re.reduce(function(ze,Je){return ze?ze.concat([[ze[ze.length-1][1],Je]]):[[-1/0,Je]]},null);return Le.push([Re[Re.length-1],this.db._maxKey]),this.inAnyRange(Le,{includeLowers:!1,includeUppers:!1})},Sn.prototype.inAnyRange=function(Gt,Le){var ze=this,Je=this._cmp,$e=this._ascending,ot=this._descending,_t=this._min,wt=this._max;if(Gt.length===0)return Zi(this);if(!Gt.every(function(Qt){return Qt[0]!==void 0&&Qt[1]!==void 0&&$e(Qt[0],Qt[1])<=0}))return Yr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",lt.InvalidArgument);var Dt=!Le||Le.includeLowers!==!1,Tt=Le&&Le.includeUppers===!0,Mt,Ot=$e;function Ut(Qt,Yt){return Ot(Qt[0],Yt[0])}try{(Mt=Gt.reduce(function(Qt,Yt){for(var tr=0,hr=Qt.length;tr<hr;++tr){var Ar=Qt[tr];if(Je(Yt[0],Ar[1])<0&&0<Je(Yt[1],Ar[0])){Ar[0]=_t(Ar[0],Yt[0]),Ar[1]=wt(Ar[1],Yt[1]);break}}return tr===hr&&Qt.push(Yt),Qt},[])).sort(Ut)}catch{return Yr(this,li)}var Pt=0,Nt=Tt?function(Qt){return 0<$e(Qt,Mt[Pt][1])}:function(Qt){return 0<=$e(Qt,Mt[Pt][1])},Vt=Dt?function(Qt){return 0<ot(Qt,Mt[Pt][0])}:function(Qt){return 0<=ot(Qt,Mt[Pt][0])},qt=Nt,Gt=new this.Collection(this,function(){return gi(Mt[0][0],Mt[Mt.length-1][1],!Dt,!Tt)});return Gt._ondirectionchange=function(Qt){Ot=Qt==="next"?(qt=Nt,$e):(qt=Vt,ot),Mt.sort(Ut)},Gt._addAlgorithm(function(Qt,Yt,tr){for(var hr,Ar=Qt.key;qt(Ar);)if(++Pt===Mt.length)return Yt(tr),!1;return!Nt(hr=Ar)&&!Vt(hr)||(ze._cmp(Ar,Mt[Pt][1])===0||ze._cmp(Ar,Mt[Pt][0])===0||Yt(function(){Ot===$e?Qt.continue(Mt[Pt][0]):Qt.continue(Mt[Pt][1])}),!1)}),Gt},Sn.prototype.startsWithAnyOf=function(){var Re=St.apply(Et,arguments);return Re.every(function(Le){return typeof Le=="string"})?Re.length===0?Zi(this):this.inAnyRange(Re.map(function(Le){return[Le,Le+Ai]})):Yr(this,"startsWithAnyOf() only works with strings")},Sn);function Sn(){}function ri(Re){return Xr(function(Le){return $i(Le),Re(Le.target.error),!1})}function $i(Re){Re.stopPropagation&&Re.stopPropagation(),Re.preventDefault&&Re.preventDefault()}var ga="storagemutated",us="x-storagemutated-1",Ii=_a(null,ga),Hc=(fi.prototype._lock=function(){return He(!Ir.global),++this._reculock,this._reculock!==1||Ir.global||(Ir.lockOwnerFor=this),this},fi.prototype._unlock=function(){if(He(!Ir.global),--this._reculock==0)for(Ir.global||(Ir.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var Re=this._blockedFuncs.shift();try{hn(Re[1],Re[0])}catch{}}return this},fi.prototype._locked=function(){return this._reculock&&Ir.lockOwnerFor!==this},fi.prototype.create=function(Re){var Le=this;if(!this.mode)return this;var ze=this.db.idbdb,Je=this.db._state.dbOpenError;if(He(!this.idbtrans),!Re&&!ze)switch(Je&&Je.name){case"DatabaseClosedError":throw new lt.DatabaseClosed(Je);case"MissingAPIError":throw new lt.MissingAPI(Je.message,Je);default:throw new lt.OpenFailed(Je)}if(!this.active)throw new lt.TransactionInactive;return He(this._completion._state===null),(Re=this.idbtrans=Re||(this.db.core||ze).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Xr(function($e){$i($e),Le._reject(Re.error)}),Re.onabort=Xr(function($e){$i($e),Le.active&&Le._reject(new lt.Abort(Re.error)),Le.active=!1,Le.on("abort").fire($e)}),Re.oncomplete=Xr(function(){Le.active=!1,Le._resolve(),"mutatedParts"in Re&&Ii.storagemutated.fire(Re.mutatedParts)}),this},fi.prototype._promise=function(Re,Le,ze){var Je=this;if(Re==="readwrite"&&this.mode!=="readwrite")return _n(new lt.ReadOnly("Transaction is readonly"));if(!this.active)return _n(new lt.TransactionInactive);if(this._locked())return new Er(function(ot,_t){Je._blockedFuncs.push([function(){Je._promise(Re,Le,ze).then(ot,_t)},Ir])});if(ze)return fn(function(){var ot=new Er(function(_t,wt){Je._lock();var Dt=Le(_t,wt,Je);Dt&&Dt.then&&Dt.then(_t,wt)});return ot.finally(function(){return Je._unlock()}),ot._lib=!0,ot});var $e=new Er(function(ot,_t){var wt=Le(ot,_t,Je);wt&&wt.then&&wt.then(ot,_t)});return $e._lib=!0,$e},fi.prototype._root=function(){return this.parent?this.parent._root():this},fi.prototype.waitFor=function(Re){var Le,ze=this._root(),Je=Er.resolve(Re);ze._waitingFor?ze._waitingFor=ze._waitingFor.then(function(){return Je}):(ze._waitingFor=Je,ze._waitingQueue=[],Le=ze.idbtrans.objectStore(ze.storeNames[0]),function ot(){for(++ze._spinCount;ze._waitingQueue.length;)ze._waitingQueue.shift()();ze._waitingFor&&(Le.get(-1/0).onsuccess=ot)}());var $e=ze._waitingFor;return new Er(function(ot,_t){Je.then(function(wt){return ze._waitingQueue.push(Xr(ot.bind(null,wt)))},function(wt){return ze._waitingQueue.push(Xr(_t.bind(null,wt)))}).finally(function(){ze._waitingFor===$e&&(ze._waitingFor=null)})})},fi.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new lt.Abort))},fi.prototype.table=function(Re){var Le=this._memoizedTables||(this._memoizedTables={});if(Ae(Le,Re))return Le[Re];var ze=this.schema[Re];if(!ze)throw new lt.NotFound("Table "+Re+" not part of transaction");return ze=new this.db.Table(Re,ze,this),ze.core=this.db.core.table(Re),Le[Re]=ze},fi);function fi(){}function ls(Re,Le,ze,Je,$e,ot,_t){return{name:Re,keyPath:Le,unique:ze,multi:Je,auto:$e,compound:ot,src:(ze&&!_t?"&":"")+(Je?"*":"")+($e?"++":"")+m0(Le)}}function m0(Re){return typeof Re=="string"?Re:Re?"["+[].join.call(Re,"+")+"]":""}function fs(Re,Le,ze){return{name:Re,primKey:Le,indexes:ze,mappedClass:null,idxByName:(Je=function($e){return[$e.name,$e]},ze.reduce(function($e,ot,_t){return _t=Je(ot,_t),_t&&($e[_t[0]]=_t[1]),$e},{}))};var Je}var ya=function(Re){try{return Re.only([[]]),ya=function(){return[[]]},[[]]}catch{return ya=function(){return Ai},Ai}};function ds(Re){return Re==null?function(){}:typeof Re=="string"?(Le=Re).split(".").length===1?function(ze){return ze[Le]}:function(ze){return ct(ze,Le)}:function(ze){return ct(ze,Re)};var Le}function g0(Re){return[].slice.call(Re)}var Wc=0;function ba(Re){return Re==null?":id":typeof Re=="string"?Re:"[".concat(Re.join("+"),"]")}function Kc(Re,Le,Dt){function Je(qt){if(qt.type===3)return null;if(qt.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var Pt=qt.lower,Nt=qt.upper,Vt=qt.lowerOpen,qt=qt.upperOpen;return Pt===void 0?Nt===void 0?null:Le.upperBound(Nt,!!qt):Nt===void 0?Le.lowerBound(Pt,!!Vt):Le.bound(Pt,Nt,!!Vt,!!qt)}function $e(Ut){var Pt,Nt=Ut.name;return{name:Nt,schema:Ut,mutate:function(Vt){var qt=Vt.trans,Gt=Vt.type,Qt=Vt.keys,Yt=Vt.values,tr=Vt.range;return new Promise(function(hr,Ar){hr=Xr(hr);var xr=qt.objectStore(Nt),br=xr.keyPath==null,Sr=Gt==="put"||Gt==="add";if(!Sr&&Gt!=="delete"&&Gt!=="deleteRange")throw new Error("Invalid operation type: "+Gt);var lr,_r=(Qt||Yt||{length:1}).length;if(Qt&&Yt&&Qt.length!==Yt.length)throw new Error("Given keys array must have same length as given values array.");if(_r===0)return hr({numFailures:0,failures:{},results:[],lastResult:void 0});function Ur(Rn){++Xn,$i(Rn)}var Wr=[],Lr=[],Xn=0;if(Gt==="deleteRange"){if(tr.type===4)return hr({numFailures:Xn,failures:Lr,results:[],lastResult:void 0});tr.type===3?Wr.push(lr=xr.clear()):Wr.push(lr=xr.delete(Je(tr)))}else{var br=Sr?br?[Yt,Qt]:[Yt,null]:[Qt,null],zr=br[0],An=br[1];if(Sr)for(var Kr=0;Kr<_r;++Kr)Wr.push(lr=An&&An[Kr]!==void 0?xr[Gt](zr[Kr],An[Kr]):xr[Gt](zr[Kr])),lr.onerror=Ur;else for(Kr=0;Kr<_r;++Kr)Wr.push(lr=xr[Gt](zr[Kr])),lr.onerror=Ur}function ta(Rn){Rn=Rn.target.result,Wr.forEach(function(hi,go){return hi.error!=null&&(Lr[go]=hi.error)}),hr({numFailures:Xn,failures:Lr,results:Gt==="delete"?Qt:Wr.map(function(hi){return hi.result}),lastResult:Rn})}lr.onerror=function(Rn){Ur(Rn),ta(Rn)},lr.onsuccess=ta})},getMany:function(Vt){var qt=Vt.trans,Gt=Vt.keys;return new Promise(function(Qt,Yt){Qt=Xr(Qt);for(var tr,hr=qt.objectStore(Nt),Ar=Gt.length,xr=new Array(Ar),br=0,Sr=0,lr=function(Wr){Wr=Wr.target,xr[Wr._pos]=Wr.result,++Sr===br&&Qt(xr)},_r=ri(Yt),Ur=0;Ur<Ar;++Ur)Gt[Ur]!=null&&((tr=hr.get(Gt[Ur]))._pos=Ur,tr.onsuccess=lr,tr.onerror=_r,++br);br===0&&Qt(xr)})},get:function(Vt){var qt=Vt.trans,Gt=Vt.key;return new Promise(function(Qt,Yt){Qt=Xr(Qt);var tr=qt.objectStore(Nt).get(Gt);tr.onsuccess=function(hr){return Qt(hr.target.result)},tr.onerror=ri(Yt)})},query:(Pt=Tt,function(Vt){return new Promise(function(qt,Gt){qt=Xr(qt);var Qt,Yt,tr,br=Vt.trans,hr=Vt.values,Ar=Vt.limit,lr=Vt.query,xr=Ar===1/0?void 0:Ar,Sr=lr.index,lr=lr.range,br=br.objectStore(Nt),Sr=Sr.isPrimaryKey?br:br.index(Sr.name),lr=Je(lr);if(Ar===0)return qt({result:[]});Pt?((xr=hr?Sr.getAll(lr,xr):Sr.getAllKeys(lr,xr)).onsuccess=function(_r){return qt({result:_r.target.result})},xr.onerror=ri(Gt)):(Qt=0,Yt=!hr&&"openKeyCursor"in Sr?Sr.openKeyCursor(lr):Sr.openCursor(lr),tr=[],Yt.onsuccess=function(_r){var Ur=Yt.result;return Ur?(tr.push(hr?Ur.value:Ur.primaryKey),++Qt===Ar?qt({result:tr}):void Ur.continue()):qt({result:tr})},Yt.onerror=ri(Gt))})}),openCursor:function(Vt){var qt=Vt.trans,Gt=Vt.values,Qt=Vt.query,Yt=Vt.reverse,tr=Vt.unique;return new Promise(function(hr,Ar){hr=Xr(hr);var Sr=Qt.index,xr=Qt.range,br=qt.objectStore(Nt),br=Sr.isPrimaryKey?br:br.index(Sr.name),Sr=Yt?tr?"prevunique":"prev":tr?"nextunique":"next",lr=!Gt&&"openKeyCursor"in br?br.openKeyCursor(Je(xr),Sr):br.openCursor(Je(xr),Sr);lr.onerror=ri(Ar),lr.onsuccess=Xr(function(_r){var Ur,Wr,Lr,Xn,zr=lr.result;zr?(zr.___id=++Wc,zr.done=!1,Ur=zr.continue.bind(zr),Wr=(Wr=zr.continuePrimaryKey)&&Wr.bind(zr),Lr=zr.advance.bind(zr),Xn=function(){throw new Error("Cursor not stopped")},zr.trans=qt,zr.stop=zr.continue=zr.continuePrimaryKey=zr.advance=function(){throw new Error("Cursor not started")},zr.fail=Xr(Ar),zr.next=function(){var An=this,Kr=1;return this.start(function(){return Kr--?An.continue():An.stop()}).then(function(){return An})},zr.start=function(An){function Kr(){if(lr.result)try{An()}catch(Rn){zr.fail(Rn)}else zr.done=!0,zr.start=function(){throw new Error("Cursor behind last entry")},zr.stop()}var ta=new Promise(function(Rn,hi){Rn=Xr(Rn),lr.onerror=ri(hi),zr.fail=hi,zr.stop=function(go){zr.stop=zr.continue=zr.continuePrimaryKey=zr.advance=Xn,Rn(go)}});return lr.onsuccess=Xr(function(Rn){lr.onsuccess=Kr,Kr()}),zr.continue=Ur,zr.continuePrimaryKey=Wr,zr.advance=Lr,Kr(),ta},hr(zr)):hr(null)},Ar)})},count:function(Vt){var qt=Vt.query,Gt=Vt.trans,Qt=qt.index,Yt=qt.range;return new Promise(function(tr,hr){var Ar=Gt.objectStore(Nt),xr=Qt.isPrimaryKey?Ar:Ar.index(Qt.name),Ar=Je(Yt),xr=Ar?xr.count(Ar):xr.count();xr.onsuccess=Xr(function(br){return tr(br.target.result)}),xr.onerror=ri(hr)})}}}var ot,_t,wt,Mt=(_t=Dt,wt=g0((ot=Re).objectStoreNames),{schema:{name:ot.name,tables:wt.map(function(Ut){return _t.objectStore(Ut)}).map(function(Ut){var Pt=Ut.keyPath,qt=Ut.autoIncrement,Nt=g(Pt),Vt={},qt={name:Ut.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:Pt==null,compound:Nt,keyPath:Pt,autoIncrement:qt,unique:!0,extractKey:ds(Pt)},indexes:g0(Ut.indexNames).map(function(Gt){return Ut.index(Gt)}).map(function(tr){var Qt=tr.name,Yt=tr.unique,hr=tr.multiEntry,tr=tr.keyPath,hr={name:Qt,compound:g(tr),keyPath:tr,unique:Yt,multiEntry:hr,extractKey:ds(tr)};return Vt[ba(tr)]=hr}),getIndexByKeyPath:function(Gt){return Vt[ba(Gt)]}};return Vt[":id"]=qt.primaryKey,Pt!=null&&(Vt[ba(Pt)]=qt.primaryKey),qt})},hasGetAll:0<wt.length&&"getAll"in _t.objectStore(wt[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),Dt=Mt.schema,Tt=Mt.hasGetAll,Mt=Dt.tables.map($e),Ot={};return Mt.forEach(function(Ut){return Ot[Ut.name]=Ut}),{stack:"dbcore",transaction:Re.transaction.bind(Re),table:function(Ut){if(!Ot[Ut])throw new Error("Table '".concat(Ut,"' not found"));return Ot[Ut]},MIN_KEY:-1/0,MAX_KEY:ya(Le),schema:Dt}}function Gc(Re,Le,ze,Je){var $e=ze.IDBKeyRange;return ze.indexedDB,{dbcore:(Je=Kc(Le,$e,Je),Re.dbcore.reduce(function(ot,_t){return _t=_t.create,i(i({},ot),_t(ot))},Je))}}function $a(Re,Je){var ze=Je.db,Je=Gc(Re._middlewares,ze,Re._deps,Je);Re.core=Je.dbcore,Re.tables.forEach(function($e){var ot=$e.name;Re.core.schema.tables.some(function(_t){return _t.name===ot})&&($e.core=Re.core.table(ot),Re[ot]instanceof Re.Table&&(Re[ot].core=$e.core))})}function Ea(Re,Le,ze,Je){ze.forEach(function($e){var ot=Je[$e];Le.forEach(function(_t){var wt=function Dt(Tt,Mt){return Ne(Tt,Mt)||(Tt=Ie(Tt))&&Dt(Tt,Mt)}(_t,$e);(!wt||"value"in wt&&wt.value===void 0)&&(_t===Re.Transaction.prototype||_t instanceof Re.Transaction?qe(_t,$e,{get:function(){return this.table($e)},set:function(Dt){_e(this,$e,{value:Dt,writable:!0,configurable:!0,enumerable:!0})}}):_t[$e]=new Re.Table($e,ot))})})}function eo(Re,Le){Le.forEach(function(ze){for(var Je in ze)ze[Je]instanceof Re.Table&&delete ze[Je]})}function y0(Re,Le){return Re._cfg.version-Le._cfg.version}function hs(Re,Le,ze,Je){var $e=Re._dbSchema;ze.objectStoreNames.contains("$meta")&&!$e.$meta&&($e.$meta=fs("$meta",E0("")[0],[]),Re._storeNames.push("$meta"));var ot=Re._createTransaction("readwrite",Re._storeNames,$e);ot.create(ze),ot._completion.catch(Je);var _t=ot._reject.bind(ot),wt=Ir.transless||Ir;fn(function(){return Ir.trans=ot,Ir.transless=wt,Le!==0?($a(Re,ze),Tt=Le,((Dt=ot).storeNames.includes("$meta")?Dt.table("$meta").get("version").then(function(Mt){return Mt??Tt}):Er.resolve(Tt)).then(function(Mt){return Ut=Mt,Pt=ot,Nt=ze,Vt=[],Mt=(Ot=Re)._versions,qt=Ot._dbSchema=ro(0,Ot.idbdb,Nt),(Mt=Mt.filter(function(Gt){return Gt._cfg.version>=Ut})).length!==0?(Mt.forEach(function(Gt){Vt.push(function(){var Qt=qt,Yt=Gt._cfg.dbschema;no(Ot,Qt,Nt),no(Ot,Yt,Nt),qt=Ot._dbSchema=Yt;var tr=xs(Qt,Yt);tr.add.forEach(function(Sr){to(Nt,Sr[0],Sr[1].primKey,Sr[1].indexes)}),tr.change.forEach(function(Sr){if(Sr.recreate)throw new lt.Upgrade("Not yet support for changing primary key");var lr=Nt.objectStore(Sr.name);Sr.add.forEach(function(_r){return wa(lr,_r)}),Sr.change.forEach(function(_r){lr.deleteIndex(_r.name),wa(lr,_r)}),Sr.del.forEach(function(_r){return lr.deleteIndex(_r)})});var hr=Gt._cfg.contentUpgrade;if(hr&&Gt._cfg.version>Ut){$a(Ot,Nt),Pt._memoizedTables={};var Ar=gt(Yt);tr.del.forEach(function(Sr){Ar[Sr]=Qt[Sr]}),eo(Ot,[Ot.Transaction.prototype]),Ea(Ot,[Ot.Transaction.prototype],m(Ar),Ar),Pt.schema=Ar;var xr,br=st(hr);return br&&wn(),tr=Er.follow(function(){var Sr;(xr=hr(Pt))&&br&&(Sr=dn.bind(null,null),xr.then(Sr,Sr))}),xr&&typeof xr.then=="function"?Er.resolve(xr):tr.then(function(){return xr})}}),Vt.push(function(Qt){var Yt,tr,hr=Gt._cfg.dbschema;Yt=hr,tr=Qt,[].slice.call(tr.db.objectStoreNames).forEach(function(Ar){return Yt[Ar]==null&&tr.db.deleteObjectStore(Ar)}),eo(Ot,[Ot.Transaction.prototype]),Ea(Ot,[Ot.Transaction.prototype],Ot._storeNames,Ot._dbSchema),Pt.schema=Ot._dbSchema}),Vt.push(function(Qt){Ot.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(Ot.idbdb.version/10)===Gt._cfg.version?(Ot.idbdb.deleteObjectStore("$meta"),delete Ot._dbSchema.$meta,Ot._storeNames=Ot._storeNames.filter(function(Yt){return Yt!=="$meta"})):Qt.objectStore("$meta").put(Gt._cfg.version,"version"))})}),function Gt(){return Vt.length?Er.resolve(Vt.shift()(Pt.idbtrans)).then(Gt):Er.resolve()}().then(function(){b0(qt,Nt)})):Er.resolve();var Ot,Ut,Pt,Nt,Vt,qt}).catch(_t)):(m($e).forEach(function(Mt){to(ze,Mt,$e[Mt].primKey,$e[Mt].indexes)}),$a(Re,ze),void Er.follow(function(){return Re.on.populate.fire(ot)}).catch(_t));var Dt,Tt})}function Yc(Re,Le){b0(Re._dbSchema,Le),Le.db.version%10!=0||Le.objectStoreNames.contains("$meta")||Le.db.createObjectStore("$meta").add(Math.ceil(Le.db.version/10-1),"version");var ze=ro(0,Re.idbdb,Le);no(Re,Re._dbSchema,Le);for(var Je=0,$e=xs(ze,Re._dbSchema).change;Je<$e.length;Je++){var ot=function(_t){if(_t.change.length||_t.recreate)return console.warn("Unable to patch indexes of table ".concat(_t.name," because it has changes on the type of index or primary key.")),{value:void 0};var wt=Le.objectStore(_t.name);_t.add.forEach(function(Dt){rt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(_t.name,".").concat(Dt.src)),wa(wt,Dt)})}($e[Je]);if(typeof ot=="object")return ot.value}}function xs(Re,Le){var ze,Je={del:[],add:[],change:[]};for(ze in Re)Le[ze]||Je.del.push(ze);for(ze in Le){var $e=Re[ze],ot=Le[ze];if($e){var _t={name:ze,def:ot,recreate:!1,del:[],add:[],change:[]};if(""+($e.primKey.keyPath||"")!=""+(ot.primKey.keyPath||"")||$e.primKey.auto!==ot.primKey.auto)_t.recreate=!0,Je.change.push(_t);else{var wt=$e.idxByName,Dt=ot.idxByName,Tt=void 0;for(Tt in wt)Dt[Tt]||_t.del.push(Tt);for(Tt in Dt){var Mt=wt[Tt],Ot=Dt[Tt];Mt?Mt.src!==Ot.src&&_t.change.push(Ot):_t.add.push(Ot)}(0<_t.del.length||0<_t.add.length||0<_t.change.length)&&Je.change.push(_t)}}else Je.add.push([ze,ot])}return Je}function to(Re,Le,ze,Je){var $e=Re.db.createObjectStore(Le,ze.keyPath?{keyPath:ze.keyPath,autoIncrement:ze.auto}:{autoIncrement:ze.auto});return Je.forEach(function(ot){return wa($e,ot)}),$e}function b0(Re,Le){m(Re).forEach(function(ze){Le.db.objectStoreNames.contains(ze)||(rt&&console.debug("Dexie: Creating missing table",ze),to(Le,ze,Re[ze].primKey,Re[ze].indexes))})}function wa(Re,Le){Re.createIndex(Le.name,Le.keyPath,{unique:Le.unique,multiEntry:Le.multi})}function ro(Re,Le,ze){var Je={};return Ue(Le.objectStoreNames,0).forEach(function($e){for(var ot=ze.objectStore($e),_t=ls(m0(Tt=ot.keyPath),Tt||"",!0,!1,!!ot.autoIncrement,Tt&&typeof Tt!="string",!0),wt=[],Dt=0;Dt<ot.indexNames.length;++Dt){var Mt=ot.index(ot.indexNames[Dt]),Tt=Mt.keyPath,Mt=ls(Mt.name,Tt,!!Mt.unique,!!Mt.multiEntry,!1,Tt&&typeof Tt!="string",!1);wt.push(Mt)}Je[$e]=fs($e,_t,wt)}),Je}function no(Re,Le,ze){for(var Je=ze.db.objectStoreNames,$e=0;$e<Je.length;++$e){var ot=Je[$e],_t=ze.objectStore(ot);Re._hasGetAll="getAll"in _t;for(var wt=0;wt<_t.indexNames.length;++wt){var Dt=_t.indexNames[wt],Tt=_t.index(Dt).keyPath,Mt=typeof Tt=="string"?Tt:"["+Ue(Tt).join("+")+"]";!Le[ot]||(Tt=Le[ot].idxByName[Mt])&&(Tt.name=Dt,delete Le[ot].idxByName[Mt],Le[ot].idxByName[Dt]=Tt)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&f.WorkerGlobalScope&&f instanceof f.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(Re._hasGetAll=!1)}function E0(Re){return Re.split(",").map(function(Le,ze){var Je=(Le=Le.trim()).replace(/([&*]|\+\+)/g,""),$e=/^\[/.test(Je)?Je.match(/^\[(.*)\]$/)[1].split("+"):Je;return ls(Je,$e||null,/\&/.test(Le),/\*/.test(Le),/\+\+/.test(Le),g($e),ze===0)})}var Qc=(io.prototype._parseStoresSpec=function(Re,Le){m(Re).forEach(function(ze){if(Re[ze]!==null){var Je=E0(Re[ze]),$e=Je.shift();if($e.unique=!0,$e.multi)throw new lt.Schema("Primary key cannot be multi-valued");Je.forEach(function(ot){if(ot.auto)throw new lt.Schema("Only primary key can be marked as autoIncrement (++)");if(!ot.keyPath)throw new lt.Schema("Index must have a name and cannot be an empty string")}),Le[ze]=fs(ze,$e,Je)}})},io.prototype.stores=function(ze){var Le=this.db;this._cfg.storesSource=this._cfg.storesSource?Te(this._cfg.storesSource,ze):ze;var ze=Le._versions,Je={},$e={};return ze.forEach(function(ot){Te(Je,ot._cfg.storesSource),$e=ot._cfg.dbschema={},ot._parseStoresSpec(Je,$e)}),Le._dbSchema=$e,eo(Le,[Le._allTables,Le,Le.Transaction.prototype]),Ea(Le,[Le._allTables,Le,Le.Transaction.prototype,this._cfg.tables],m($e),$e),Le._storeNames=m($e),this},io.prototype.upgrade=function(Re){return this._cfg.contentUpgrade=er(this._cfg.contentUpgrade||$t,Re),this},io);function io(){}function ao(Re,Le){var ze=Re._dbNamesDB;return ze||(ze=Re._dbNamesDB=new di(Ya,{addons:[],indexedDB:Re,IDBKeyRange:Le})).version(1).stores({dbnames:"name"}),ze.table("dbnames")}function oo(Re){return Re&&typeof Re.databases=="function"}function so(Re){return fn(function(){return Ir.letThrough=!0,Re()})}function co(Re){return!("from"in Re)}var Dn=function(Re,Le){if(!this){var ze=new Dn;return Re&&"d"in Re&&Te(ze,Re),ze}Te(this,arguments.length?{d:1,from:Re,to:1<arguments.length?Le:Re}:{d:0})};function Sa(Re,Le,ze){var Je=Jr(Le,ze);if(!isNaN(Je)){if(0<Je)throw RangeError();if(co(Re))return Te(Re,{from:Le,to:ze,d:1});var $e=Re.l,Je=Re.r;if(Jr(ze,Re.from)<0)return $e?Sa($e,Le,ze):Re.l={from:Le,to:ze,d:1,l:null,r:null},S0(Re);if(0<Jr(Le,Re.to))return Je?Sa(Je,Le,ze):Re.r={from:Le,to:ze,d:1,l:null,r:null},S0(Re);Jr(Le,Re.from)<0&&(Re.from=Le,Re.l=null,Re.d=Je?Je.d+1:1),0<Jr(ze,Re.to)&&(Re.to=ze,Re.r=null,Re.d=Re.l?Re.l.d+1:1),ze=!Re.r,$e&&!Re.l&&Aa(Re,$e),Je&&ze&&Aa(Re,Je)}}function Aa(Re,Le){co(Le)||function ze(Je,Dt){var ot=Dt.from,_t=Dt.to,wt=Dt.l,Dt=Dt.r;Sa(Je,ot,_t),wt&&ze(Je,wt),Dt&&ze(Je,Dt)}(Re,Le)}function w0(Re,Le){var ze=Ia(Le),Je=ze.next();if(Je.done)return!1;for(var $e=Je.value,ot=Ia(Re),_t=ot.next($e.from),wt=_t.value;!Je.done&&!_t.done;){if(Jr(wt.from,$e.to)<=0&&0<=Jr(wt.to,$e.from))return!0;Jr($e.from,wt.from)<0?$e=(Je=ze.next(wt.from)).value:wt=(_t=ot.next($e.from)).value}return!1}function Ia(Re){var Le=co(Re)?null:{s:0,n:Re};return{next:function(ze){for(var Je=0<arguments.length;Le;)switch(Le.s){case 0:if(Le.s=1,Je)for(;Le.n.l&&Jr(ze,Le.n.from)<0;)Le={up:Le,n:Le.n.l,s:1};else for(;Le.n.l;)Le={up:Le,n:Le.n.l,s:1};case 1:if(Le.s=2,!Je||Jr(ze,Le.n.to)<=0)return{value:Le.n,done:!1};case 2:if(Le.n.r){Le.s=3,Le={up:Le,n:Le.n.r,s:0};continue}case 3:Le=Le.up}return{done:!0}}}}function S0(Re){var Le,ze,Je=(((Le=Re.r)===null||Le===void 0?void 0:Le.d)||0)-(((ze=Re.l)===null||ze===void 0?void 0:ze.d)||0),$e=1<Je?"r":Je<-1?"l":"";$e&&(Le=$e=="r"?"l":"r",ze=i({},Re),Je=Re[$e],Re.from=Je.from,Re.to=Je.to,Re[$e]=Je[$e],ze[$e]=Je[Le],(Re[Le]=ze).d=ps(ze)),Re.d=ps(Re)}function ps(ze){var Le=ze.r,ze=ze.l;return(Le?ze?Math.max(Le.d,ze.d):Le.d:ze?ze.d:0)+1}function Ui(Re,Le){return m(Le).forEach(function(ze){Re[ze]?Aa(Re[ze],Le[ze]):Re[ze]=function Je($e){var ot,_t,wt={};for(ot in $e)Ae($e,ot)&&(_t=$e[ot],wt[ot]=!_t||typeof _t!="object"||pt.has(_t.constructor)?_t:Je(_t));return wt}(Le[ze])}),Re}function qn(Re,Le){return Re.all||Le.all||Object.keys(Re).some(function(ze){return Le[ze]&&w0(Le[ze],Re[ze])})}De(Dn.prototype,((en={add:function(Re){return Aa(this,Re),this},addKey:function(Re){return Sa(this,Re,Re),this},addKeys:function(Re){var Le=this;return Re.forEach(function(ze){return Sa(Le,ze,ze)}),this},hasKey:function(Re){var Le=Ia(this).next(Re).value;return Le&&Jr(Le.from,Re)<=0&&0<=Jr(Le.to,Re)}})[Zt]=function(){return Ia(this)},en));var ji={},_s={},vs=!1;function uo(Re){Ui(_s,Re),vs||(vs=!0,setTimeout(function(){vs=!1,kn(_s,!(_s={}))},0))}function kn(Re,Le){Le===void 0&&(Le=!1);var ze=new Set;if(Re.all)for(var Je=0,$e=Object.values(ji);Je<$e.length;Je++)A0(_t=$e[Je],Re,ze,Le);else for(var ot in Re){var _t,wt=/^idb\:\/\/(.*)\/(.*)\//.exec(ot);wt&&(ot=wt[1],wt=wt[2],(_t=ji["idb://".concat(ot,"/").concat(wt)])&&A0(_t,Re,ze,Le))}ze.forEach(function(Dt){return Dt()})}function A0(Re,Le,ze,Je){for(var $e=[],ot=0,_t=Object.entries(Re.queries.query);ot<_t.length;ot++){for(var wt=_t[ot],Dt=wt[0],Tt=[],Mt=0,Ot=wt[1];Mt<Ot.length;Mt++){var Ut=Ot[Mt];qn(Le,Ut.obsSet)?Ut.subscribers.forEach(function(qt){return ze.add(qt)}):Je&&Tt.push(Ut)}Je&&$e.push([Dt,Tt])}if(Je)for(var Pt=0,Nt=$e;Pt<Nt.length;Pt++){var Vt=Nt[Pt],Dt=Vt[0],Tt=Vt[1];Re.queries.query[Dt]=Tt}}function lo(Re){var Le=Re._state,ze=Re._deps.indexedDB;if(Le.isBeingOpened||Re.idbdb)return Le.dbReadyPromise.then(function(){return Le.dbOpenError?_n(Le.dbOpenError):Re});Le.isBeingOpened=!0,Le.dbOpenError=null,Le.openComplete=!1;var Je=Le.openCanceller,$e=Math.round(10*Re.verno),ot=!1;function _t(){if(Le.openCanceller!==Je)throw new lt.DatabaseClosed("db.open() was cancelled")}function wt(){return new Er(function(Ut,Pt){if(_t(),!ze)throw new lt.MissingAPI;var Nt=Re.name,Vt=Le.autoSchema||!$e?ze.open(Nt):ze.open(Nt,$e);if(!Vt)throw new lt.MissingAPI;Vt.onerror=ri(Pt),Vt.onblocked=Xr(Re._fireOnBlocked),Vt.onupgradeneeded=Xr(function(qt){var Gt;Mt=Vt.transaction,Le.autoSchema&&!Re._options.allowEmptyDB?(Vt.onerror=$i,Mt.abort(),Vt.result.close(),(Gt=ze.deleteDatabase(Nt)).onsuccess=Gt.onerror=Xr(function(){Pt(new lt.NoSuchDatabase("Database ".concat(Nt," doesnt exist")))})):(Mt.onerror=ri(Pt),qt=qt.oldVersion>Math.pow(2,62)?0:qt.oldVersion,Ot=qt<1,Re.idbdb=Vt.result,ot&&Yc(Re,Mt),hs(Re,qt/10,Mt,Pt))},Pt),Vt.onsuccess=Xr(function(){Mt=null;var qt,Gt,Qt,Yt,tr,hr=Re.idbdb=Vt.result,Ar=Ue(hr.objectStoreNames);if(0<Ar.length)try{var xr=hr.transaction((Yt=Ar).length===1?Yt[0]:Yt,"readonly");if(Le.autoSchema)Gt=hr,Qt=xr,(qt=Re).verno=Gt.version/10,Qt=qt._dbSchema=ro(0,Gt,Qt),qt._storeNames=Ue(Gt.objectStoreNames,0),Ea(qt,[qt._allTables],m(Qt),Qt);else if(no(Re,Re._dbSchema,xr),((tr=xs(ro(0,(tr=Re).idbdb,xr),tr._dbSchema)).add.length||tr.change.some(function(br){return br.add.length||br.change.length}))&&!ot)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),hr.close(),$e=hr.version+1,ot=!0,Ut(wt());$a(Re,xr)}catch{}Mi.push(Re),hr.onversionchange=Xr(function(br){Le.vcFired=!0,Re.on("versionchange").fire(br)}),hr.onclose=Xr(function(br){Re.on("close").fire(br)}),Ot&&(tr=Re._deps,xr=Nt,hr=tr.indexedDB,tr=tr.IDBKeyRange,oo(hr)||xr===Ya||ao(hr,tr).put({name:xr}).catch($t)),Ut()},Pt)}).catch(function(Ut){switch(Ut==null?void 0:Ut.name){case"UnknownError":if(0<Le.PR1398_maxLoop)return Le.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),wt();break;case"VersionError":if(0<$e)return $e=0,wt()}return Er.reject(Ut)})}var Dt,Tt=Le.dbReadyResolve,Mt=null,Ot=!1;return Er.race([Je,(typeof navigator>"u"?Er.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Ut){function Pt(){return indexedDB.databases().finally(Ut)}Dt=setInterval(Pt,100),Pt()}).finally(function(){return clearInterval(Dt)}):Promise.resolve()).then(wt)]).then(function(){return _t(),Le.onReadyBeingFired=[],Er.resolve(so(function(){return Re.on.ready.fire(Re.vip)})).then(function Ut(){if(0<Le.onReadyBeingFired.length){var Pt=Le.onReadyBeingFired.reduce(er,$t);return Le.onReadyBeingFired=[],Er.resolve(so(function(){return Pt(Re.vip)})).then(Ut)}})}).finally(function(){Le.openCanceller===Je&&(Le.onReadyBeingFired=null,Le.isBeingOpened=!1)}).catch(function(Ut){Le.dbOpenError=Ut;try{Mt&&Mt.abort()}catch{}return Je===Le.openCanceller&&Re._close(),_n(Ut)}).finally(function(){Le.openComplete=!0,Tt()}).then(function(){var Ut;return Ot&&(Ut={},Re.tables.forEach(function(Pt){Pt.schema.indexes.forEach(function(Nt){Nt.name&&(Ut["idb://".concat(Re.name,"/").concat(Pt.name,"/").concat(Nt.name)]=new Dn(-1/0,[[[]]]))}),Ut["idb://".concat(Re.name,"/").concat(Pt.name,"/")]=Ut["idb://".concat(Re.name,"/").concat(Pt.name,"/:dels")]=new Dn(-1/0,[[[]]])}),Ii(ga).fire(Ut),kn(Ut,!0)),Re})}function pn(Re){function Le(ot){return Re.next(ot)}var ze=$e(Le),Je=$e(function(ot){return Re.throw(ot)});function $e(ot){return function(Dt){var wt=ot(Dt),Dt=wt.value;return wt.done?Dt:Dt&&typeof Dt.then=="function"?Dt.then(ze,Je):g(Dt)?Promise.all(Dt).then(ze,Je):ze(Dt)}}return $e(Le)()}function fo(Re,Le,ze){for(var Je=g(Re)?Re.slice():[Re],$e=0;$e<ze;++$e)Je.push(Le);return Je}var ho={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(Re){return i(i({},Re),{table:function(Le){var ze=Re.table(Le),Je=ze.schema,$e={},ot=[];function _t(Ot,Ut,Pt){var Nt=ba(Ot),Vt=$e[Nt]=$e[Nt]||[],qt=Ot==null?0:typeof Ot=="string"?1:Ot.length,Gt=0<Ut,Gt=i(i({},Pt),{name:Gt?"".concat(Nt,"(virtual-from:").concat(Pt.name,")"):Pt.name,lowLevelIndex:Pt,isVirtual:Gt,keyTail:Ut,keyLength:qt,extractKey:ds(Ot),unique:!Gt&&Pt.unique});return Vt.push(Gt),Gt.isPrimaryKey||ot.push(Gt),1<qt&&_t(qt===2?Ot[0]:Ot.slice(0,qt-1),Ut+1,Pt),Vt.sort(function(Qt,Yt){return Qt.keyTail-Yt.keyTail}),Gt}Le=_t(Je.primaryKey.keyPath,0,Je.primaryKey),$e[":id"]=[Le];for(var wt=0,Dt=Je.indexes;wt<Dt.length;wt++){var Tt=Dt[wt];_t(Tt.keyPath,0,Tt)}function Mt(Ot){var Ut,Pt=Ot.query.index;return Pt.isVirtual?i(i({},Ot),{query:{index:Pt.lowLevelIndex,range:(Ut=Ot.query.range,Pt=Pt.keyTail,{type:Ut.type===1?2:Ut.type,lower:fo(Ut.lower,Ut.lowerOpen?Re.MAX_KEY:Re.MIN_KEY,Pt),lowerOpen:!0,upper:fo(Ut.upper,Ut.upperOpen?Re.MIN_KEY:Re.MAX_KEY,Pt),upperOpen:!0})}}):Ot}return i(i({},ze),{schema:i(i({},Je),{primaryKey:Le,indexes:ot,getIndexByKeyPath:function(Ot){return(Ot=$e[ba(Ot)])&&Ot[0]}}),count:function(Ot){return ze.count(Mt(Ot))},query:function(Ot){return ze.query(Mt(Ot))},openCursor:function(Ot){var Ut=Ot.query.index,Pt=Ut.keyTail,Nt=Ut.isVirtual,Vt=Ut.keyLength;return Nt?ze.openCursor(Mt(Ot)).then(function(Gt){return Gt&&qt(Gt)}):ze.openCursor(Ot);function qt(Gt){return Object.create(Gt,{continue:{value:function(Qt){Qt!=null?Gt.continue(fo(Qt,Ot.reverse?Re.MAX_KEY:Re.MIN_KEY,Pt)):Ot.unique?Gt.continue(Gt.key.slice(0,Vt).concat(Ot.reverse?Re.MIN_KEY:Re.MAX_KEY,Pt)):Gt.continue()}},continuePrimaryKey:{value:function(Qt,Yt){Gt.continuePrimaryKey(fo(Qt,Re.MAX_KEY,Pt),Yt)}},primaryKey:{get:function(){return Gt.primaryKey}},key:{get:function(){var Qt=Gt.key;return Vt===1?Qt[0]:Qt.slice(0,Vt)}},value:{get:function(){return Gt.value}}})}}})}})}};function Ci(Re,Le,ze,Je){return ze=ze||{},Je=Je||"",m(Re).forEach(function($e){var ot,_t,wt;Ae(Le,$e)?(ot=Re[$e],_t=Le[$e],typeof ot=="object"&&typeof _t=="object"&&ot&&_t?(wt=Ft(ot))!==Ft(_t)?ze[Je+$e]=Le[$e]:wt==="Object"?Ci(ot,_t,ze,Je+$e+"."):ot!==_t&&(ze[Je+$e]=Le[$e]):ot!==_t&&(ze[Je+$e]=Le[$e])):ze[Je+$e]=void 0}),m(Le).forEach(function($e){Ae(Re,$e)||(ze[Je+$e]=Le[$e])}),ze}function xo(Re,Le){return Le.type==="delete"?Le.keys:Le.keys||Le.values.map(Re.extractKey)}var Jc={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(Re){return i(i({},Re),{table:function(Le){var ze=Re.table(Le),Je=ze.schema.primaryKey;return i(i({},ze),{mutate:function($e){var ot=Ir.trans,_t=ot.table(Le).hook,wt=_t.deleting,Dt=_t.creating,Tt=_t.updating;switch($e.type){case"add":if(Dt.fire===$t)break;return ot._promise("readwrite",function(){return Mt($e)},!0);case"put":if(Dt.fire===$t&&Tt.fire===$t)break;return ot._promise("readwrite",function(){return Mt($e)},!0);case"delete":if(wt.fire===$t)break;return ot._promise("readwrite",function(){return Mt($e)},!0);case"deleteRange":if(wt.fire===$t)break;return ot._promise("readwrite",function(){return function Ot(Ut,Pt,Nt){return ze.query({trans:Ut,values:!1,query:{index:Je,range:Pt},limit:Nt}).then(function(Vt){var qt=Vt.result;return Mt({type:"delete",keys:qt,trans:Ut}).then(function(Gt){return 0<Gt.numFailures?Promise.reject(Gt.failures[0]):qt.length<Nt?{failures:[],numFailures:0,lastResult:void 0}:Ot(Ut,i(i({},Pt),{lower:qt[qt.length-1],lowerOpen:!0}),Nt)})})}($e.trans,$e.range,1e4)},!0)}return ze.mutate($e);function Mt(Ot){var Ut,Pt,Nt,Vt=Ir.trans,qt=Ot.keys||xo(Je,Ot);if(!qt)throw new Error("Keys missing");return(Ot=Ot.type==="add"||Ot.type==="put"?i(i({},Ot),{keys:qt}):i({},Ot)).type!=="delete"&&(Ot.values=c([],Ot.values,!0)),Ot.keys&&(Ot.keys=c([],Ot.keys,!0)),Ut=ze,Nt=qt,((Pt=Ot).type==="add"?Promise.resolve([]):Ut.getMany({trans:Pt.trans,keys:Nt,cache:"immutable"})).then(function(Gt){var Qt=qt.map(function(Yt,tr){var hr,Ar,xr,br=Gt[tr],Sr={onerror:null,onsuccess:null};return Ot.type==="delete"?wt.fire.call(Sr,Yt,br,Vt):Ot.type==="add"||br===void 0?(hr=Dt.fire.call(Sr,Yt,Ot.values[tr],Vt),Yt==null&&hr!=null&&(Ot.keys[tr]=Yt=hr,Je.outbound||at(Ot.values[tr],Je.keyPath,Yt))):(hr=Ci(br,Ot.values[tr]),(Ar=Tt.fire.call(Sr,hr,Yt,br,Vt))&&(xr=Ot.values[tr],Object.keys(Ar).forEach(function(lr){Ae(xr,lr)?xr[lr]=Ar[lr]:at(xr,lr,Ar[lr])}))),Sr});return ze.mutate(Ot).then(function(Yt){for(var tr=Yt.failures,hr=Yt.results,Ar=Yt.numFailures,Yt=Yt.lastResult,xr=0;xr<qt.length;++xr){var br=(hr||qt)[xr],Sr=Qt[xr];br==null?Sr.onerror&&Sr.onerror(tr[xr]):Sr.onsuccess&&Sr.onsuccess(Ot.type==="put"&&Gt[xr]?Ot.values[xr]:br)}return{failures:tr,results:hr,numFailures:Ar,lastResult:Yt}}).catch(function(Yt){return Qt.forEach(function(tr){return tr.onerror&&tr.onerror(Yt)}),Promise.reject(Yt)})})}}})}})}};function ms(Re,Le,ze){try{if(!Le||Le.keys.length<Re.length)return null;for(var Je=[],$e=0,ot=0;$e<Le.keys.length&&ot<Re.length;++$e)Jr(Le.keys[$e],Re[ot])===0&&(Je.push(ze?mt(Le.values[$e]):Le.values[$e]),++ot);return Je.length===Re.length?Je:null}catch{return null}}var po={stack:"dbcore",level:-1,create:function(Re){return{table:function(Le){var ze=Re.table(Le);return i(i({},ze),{getMany:function(Je){if(!Je.cache)return ze.getMany(Je);var $e=ms(Je.keys,Je.trans._cache,Je.cache==="clone");return $e?Er.resolve($e):ze.getMany(Je).then(function(ot){return Je.trans._cache={keys:Je.keys,values:Je.cache==="clone"?mt(ot):ot},ot})},mutate:function(Je){return Je.type!=="add"&&(Je.trans._cache=null),ze.mutate(Je)}})}}}};function bn(Re,Le){return Re.trans.mode==="readonly"&&!!Re.subscr&&!Re.trans.explicit&&Re.trans.db._options.cache!=="disabled"&&!Le.schema.primaryKey.outbound}function I0(Re,Le){switch(Re){case"query":return Le.values&&!Le.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var gs={stack:"dbcore",level:0,name:"Observability",create:function(Re){var Le=Re.schema.name,ze=new Dn(Re.MIN_KEY,Re.MAX_KEY);return i(i({},Re),{transaction:function(Je,$e,ot){if(Ir.subscr&&$e!=="readonly")throw new lt.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Ir.querier));return Re.transaction(Je,$e,ot)},table:function(Je){var $e=Re.table(Je),ot=$e.schema,_t=ot.primaryKey,Ot=ot.indexes,wt=_t.extractKey,Dt=_t.outbound,Tt=_t.autoIncrement&&Ot.filter(function(Pt){return Pt.compound&&Pt.keyPath.includes(_t.keyPath)}),Mt=i(i({},$e),{mutate:function(Pt){function Nt(lr){return lr="idb://".concat(Le,"/").concat(Je,"/").concat(lr),Yt[lr]||(Yt[lr]=new Dn)}var Vt,qt,Gt,Qt=Pt.trans,Yt=Pt.mutatedParts||(Pt.mutatedParts={}),tr=Nt(""),hr=Nt(":dels"),Ar=Pt.type,Sr=Pt.type==="deleteRange"?[Pt.range]:Pt.type==="delete"?[Pt.keys]:Pt.values.length<50?[xo(_t,Pt).filter(function(lr){return lr}),Pt.values]:[],xr=Sr[0],br=Sr[1],Sr=Pt.trans._cache;return g(xr)?(tr.addKeys(xr),(Sr=Ar==="delete"||xr.length===br.length?ms(xr,Sr):null)||hr.addKeys(xr),(Sr||br)&&(Vt=Nt,qt=Sr,Gt=br,ot.indexes.forEach(function(lr){var _r=Vt(lr.name||"");function Ur(Lr){return Lr!=null?lr.extractKey(Lr):null}function Wr(Lr){return lr.multiEntry&&g(Lr)?Lr.forEach(function(Xn){return _r.addKey(Xn)}):_r.addKey(Lr)}(qt||Gt).forEach(function(Lr,An){var zr=qt&&Ur(qt[An]),An=Gt&&Ur(Gt[An]);Jr(zr,An)!==0&&(zr!=null&&Wr(zr),An!=null&&Wr(An))})}))):xr?(br={from:xr.lower,to:xr.upper},hr.add(br),tr.add(br)):(tr.add(ze),hr.add(ze),ot.indexes.forEach(function(lr){return Nt(lr.name).add(ze)})),$e.mutate(Pt).then(function(lr){return!xr||Pt.type!=="add"&&Pt.type!=="put"||(tr.addKeys(lr.results),Tt&&Tt.forEach(function(_r){var Ur=Pt.values.map(function(Lr){return _r.extractKey(Lr)}),Wr=_r.keyPath.findIndex(function(Lr){return Lr===_t.keyPath});lr.results.forEach(function(Lr){return Ur[Wr]=Lr}),Nt(_r.name).addKeys(Ur)})),Qt.mutatedParts=Ui(Qt.mutatedParts||{},Yt),lr})}}),Ot=function(Nt){var Vt=Nt.query,Nt=Vt.index,Vt=Vt.range;return[Nt,new Dn((Nt=Vt.lower)!==null&&Nt!==void 0?Nt:Re.MIN_KEY,(Vt=Vt.upper)!==null&&Vt!==void 0?Vt:Re.MAX_KEY)]},Ut={get:function(Pt){return[_t,new Dn(Pt.key)]},getMany:function(Pt){return[_t,new Dn().addKeys(Pt.keys)]},count:Ot,query:Ot,openCursor:Ot};return m(Ut).forEach(function(Pt){Mt[Pt]=function(Nt){var Vt=Ir.subscr,qt=!!Vt,Gt=bn(Ir,$e)&&I0(Pt,Nt)?Nt.obsSet={}:Vt;if(qt){var Qt=function(br){return br="idb://".concat(Le,"/").concat(Je,"/").concat(br),Gt[br]||(Gt[br]=new Dn)},Yt=Qt(""),tr=Qt(":dels"),Vt=Ut[Pt](Nt),qt=Vt[0],Vt=Vt[1];if((Pt==="query"&&qt.isPrimaryKey&&!Nt.values?tr:Qt(qt.name||"")).add(Vt),!qt.isPrimaryKey){if(Pt!=="count"){var hr=Pt==="query"&&Dt&&Nt.values&&$e.query(i(i({},Nt),{values:!1}));return $e[Pt].apply(this,arguments).then(function(br){if(Pt==="query"){if(Dt&&Nt.values)return hr.then(function(Ur){return Ur=Ur.result,Yt.addKeys(Ur),br});var Sr=Nt.values?br.result.map(wt):br.result;(Nt.values?Yt:tr).addKeys(Sr)}else if(Pt==="openCursor"){var lr=br,_r=Nt.values;return lr&&Object.create(lr,{key:{get:function(){return tr.addKey(lr.primaryKey),lr.key}},primaryKey:{get:function(){var Ur=lr.primaryKey;return tr.addKey(Ur),Ur}},value:{get:function(){return _r&&Yt.addKey(lr.primaryKey),lr.value}}})}return br})}tr.add(ze)}}return $e[Pt].apply(this,arguments)}}),Mt}})}};function C0(Re,Le,ze){if(ze.numFailures===0)return Le;if(Le.type==="deleteRange")return null;var Je=Le.keys?Le.keys.length:"values"in Le&&Le.values?Le.values.length:1;return ze.numFailures===Je?null:(Le=i({},Le),g(Le.keys)&&(Le.keys=Le.keys.filter(function($e,ot){return!(ot in ze.failures)})),"values"in Le&&g(Le.values)&&(Le.values=Le.values.filter(function($e,ot){return!(ot in ze.failures)})),Le)}function ys(Re,Le){return ze=Re,((Je=Le).lower===void 0||(Je.lowerOpen?0<Jr(ze,Je.lower):0<=Jr(ze,Je.lower)))&&(Re=Re,(Le=Le).upper===void 0||(Le.upperOpen?Jr(Re,Le.upper)<0:Jr(Re,Le.upper)<=0));var ze,Je}function ni(Re,Le,Ut,Je,$e,ot){if(!Ut||Ut.length===0)return Re;var _t=Le.query.index,wt=_t.multiEntry,Dt=Le.query.range,Tt=Je.schema.primaryKey.extractKey,Mt=_t.extractKey,Ot=(_t.lowLevelIndex||_t).extractKey,Ut=Ut.reduce(function(Pt,Nt){var Vt=Pt,qt=[];if(Nt.type==="add"||Nt.type==="put")for(var Gt=new Dn,Qt=Nt.values.length-1;0<=Qt;--Qt){var Yt,tr=Nt.values[Qt],hr=Tt(tr);Gt.hasKey(hr)||(Yt=Mt(tr),(wt&&g(Yt)?Yt.some(function(Sr){return ys(Sr,Dt)}):ys(Yt,Dt))&&(Gt.addKey(hr),qt.push(tr)))}switch(Nt.type){case"add":Vt=Pt.concat(Le.values?qt:qt.map(function(lr){return Tt(lr)}));break;case"put":var Ar=new Dn().addKeys(Nt.values.map(function(lr){return Tt(lr)})),Vt=Pt.filter(function(lr){return!Ar.hasKey(Le.values?Tt(lr):lr)}).concat(Le.values?qt:qt.map(function(lr){return Tt(lr)}));break;case"delete":var xr=new Dn().addKeys(Nt.keys);Vt=Pt.filter(function(lr){return!xr.hasKey(Le.values?Tt(lr):lr)});break;case"deleteRange":var br=Nt.range;Vt=Pt.filter(function(lr){return!ys(Tt(lr),br)})}return Vt},Re);return Ut===Re?Re:(Ut.sort(function(Pt,Nt){return Jr(Ot(Pt),Ot(Nt))||Jr(Tt(Pt),Tt(Nt))}),Le.limit&&Le.limit<1/0&&(Ut.length>Le.limit?Ut.length=Le.limit:Re.length===Le.limit&&Ut.length<Le.limit&&($e.dirty=!0)),ot?Object.freeze(Ut):Ut)}function k0(Re,Le){return Jr(Re.lower,Le.lower)===0&&Jr(Re.upper,Le.upper)===0&&!!Re.lowerOpen==!!Le.lowerOpen&&!!Re.upperOpen==!!Le.upperOpen}function _o(Re,Le){return function(ze,Je,$e,ot){if(ze===void 0)return Je!==void 0?-1:0;if(Je===void 0)return 1;if((Je=Jr(ze,Je))===0){if($e&&ot)return 0;if($e)return 1;if(ot)return-1}return Je}(Re.lower,Le.lower,Re.lowerOpen,Le.lowerOpen)<=0&&0<=function(ze,Je,$e,ot){if(ze===void 0)return Je!==void 0?1:0;if(Je===void 0)return-1;if((Je=Jr(ze,Je))===0){if($e&&ot)return 0;if($e)return-1;if(ot)return 1}return Je}(Re.upper,Le.upper,Re.upperOpen,Le.upperOpen)}function Hn(Re,Le,ze,Je){Re.subscribers.add(ze),Je.addEventListener("abort",function(){var $e,ot;Re.subscribers.delete(ze),Re.subscribers.size===0&&($e=Re,ot=Le,setTimeout(function(){$e.subscribers.size===0&&cr(ot,$e)},3e3))})}var ki={stack:"dbcore",level:0,name:"Cache",create:function(Re){var Le=Re.schema.name;return i(i({},Re),{transaction:function(ze,Je,$e){var ot,_t,wt=Re.transaction(ze,Je,$e);return Je==="readwrite"&&(_t=(ot=new AbortController).signal,$e=function(Dt){return function(){if(ot.abort(),Je==="readwrite"){for(var Tt=new Set,Mt=0,Ot=ze;Mt<Ot.length;Mt++){var Ut=Ot[Mt],Pt=ji["idb://".concat(Le,"/").concat(Ut)];if(Pt){var Nt=Re.table(Ut),Vt=Pt.optimisticOps.filter(function(_r){return _r.trans===wt});if(wt._explicit&&Dt&&wt.mutatedParts)for(var qt=0,Gt=Object.values(Pt.queries.query);qt<Gt.length;qt++)for(var Qt=0,Yt=(Ar=Gt[qt]).slice();Qt<Yt.length;Qt++)qn((xr=Yt[Qt]).obsSet,wt.mutatedParts)&&(cr(Ar,xr),xr.subscribers.forEach(function(_r){return Tt.add(_r)}));else if(0<Vt.length){Pt.optimisticOps=Pt.optimisticOps.filter(function(_r){return _r.trans!==wt});for(var tr=0,hr=Object.values(Pt.queries.query);tr<hr.length;tr++)for(var Ar,xr,br,Sr=0,lr=(Ar=hr[tr]).slice();Sr<lr.length;Sr++)(xr=lr[Sr]).res!=null&&wt.mutatedParts&&(Dt&&!xr.dirty?(br=Object.isFrozen(xr.res),br=ni(xr.res,xr.req,Vt,Nt,xr,br),xr.dirty?(cr(Ar,xr),xr.subscribers.forEach(function(_r){return Tt.add(_r)})):br!==xr.res&&(xr.res=br,xr.promise=Er.resolve({result:br}))):(xr.dirty&&cr(Ar,xr),xr.subscribers.forEach(function(_r){return Tt.add(_r)})))}}}Tt.forEach(function(_r){return _r()})}}},wt.addEventListener("abort",$e(!1),{signal:_t}),wt.addEventListener("error",$e(!1),{signal:_t}),wt.addEventListener("complete",$e(!0),{signal:_t})),wt},table:function(ze){var Je=Re.table(ze),$e=Je.schema.primaryKey;return i(i({},Je),{mutate:function(ot){var _t=Ir.trans;if($e.outbound||_t.db._options.cache==="disabled"||_t.explicit)return Je.mutate(ot);var wt=ji["idb://".concat(Le,"/").concat(ze)];return wt?(_t=Je.mutate(ot),ot.type!=="add"&&ot.type!=="put"||!(50<=ot.values.length||xo($e,ot).some(function(Dt){return Dt==null}))?(wt.optimisticOps.push(ot),ot.mutatedParts&&uo(ot.mutatedParts),_t.then(function(Dt){0<Dt.numFailures&&(cr(wt.optimisticOps,ot),(Dt=C0(0,ot,Dt))&&wt.optimisticOps.push(Dt),ot.mutatedParts&&uo(ot.mutatedParts))}),_t.catch(function(){cr(wt.optimisticOps,ot),ot.mutatedParts&&uo(ot.mutatedParts)})):_t.then(function(Dt){var Tt=C0(0,i(i({},ot),{values:ot.values.map(function(Pt,Ot){var Ut,Pt=(Ut=$e.keyPath)!==null&&Ut!==void 0&&Ut.includes(".")?mt(Pt):i({},Pt);return at(Pt,$e.keyPath,Dt.results[Ot]),Pt})}),Dt);wt.optimisticOps.push(Tt),queueMicrotask(function(){return ot.mutatedParts&&uo(ot.mutatedParts)})}),_t):Je.mutate(ot)},query:function(ot){if(!bn(Ir,Je)||!I0("query",ot))return Je.query(ot);var _t=((Tt=Ir.trans)===null||Tt===void 0?void 0:Tt.db._options.cache)==="immutable",Ot=Ir,wt=Ot.requery,Dt=Ot.signal,Tt=function(Nt,Vt,qt,Gt){var Qt=ji["idb://".concat(Nt,"/").concat(Vt)];if(!Qt)return[];if(!(Vt=Qt.queries[qt]))return[null,!1,Qt,null];var Yt=Vt[(Gt.query?Gt.query.index.name:null)||""];if(!Yt)return[null,!1,Qt,null];switch(qt){case"query":var tr=Yt.find(function(hr){return hr.req.limit===Gt.limit&&hr.req.values===Gt.values&&k0(hr.req.query.range,Gt.query.range)});return tr?[tr,!0,Qt,Yt]:[Yt.find(function(hr){return("limit"in hr.req?hr.req.limit:1/0)>=Gt.limit&&(!Gt.values||hr.req.values)&&_o(hr.req.query.range,Gt.query.range)}),!1,Qt,Yt];case"count":return tr=Yt.find(function(hr){return k0(hr.req.query.range,Gt.query.range)}),[tr,!!tr,Qt,Yt]}}(Le,ze,"query",ot),Mt=Tt[0],Ot=Tt[1],Ut=Tt[2],Pt=Tt[3];return Mt&&Ot?Mt.obsSet=ot.obsSet:(Ot=Je.query(ot).then(function(Nt){var Vt=Nt.result;if(Mt&&(Mt.res=Vt),_t){for(var qt=0,Gt=Vt.length;qt<Gt;++qt)Object.freeze(Vt[qt]);Object.freeze(Vt)}else Nt.result=mt(Vt);return Nt}).catch(function(Nt){return Pt&&Mt&&cr(Pt,Mt),Promise.reject(Nt)}),Mt={obsSet:ot.obsSet,promise:Ot,subscribers:new Set,type:"query",req:ot,dirty:!1},Pt?Pt.push(Mt):(Pt=[Mt],(Ut=Ut||(ji["idb://".concat(Le,"/").concat(ze)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[ot.query.index.name||""]=Pt)),Hn(Mt,Pt,wt,Dt),Mt.promise.then(function(Nt){return{result:ni(Nt.result,ot,Ut==null?void 0:Ut.optimisticOps,Je,Mt,_t)}})}})}})}};function ea(Re,Le){return new Proxy(Re,{get:function(ze,Je,$e){return Je==="db"?Le:Reflect.get(ze,Je,$e)}})}var di=(vn.prototype.version=function(Re){if(isNaN(Re)||Re<.1)throw new lt.Type("Given version is not a positive number");if(Re=Math.round(10*Re)/10,this.idbdb||this._state.isBeingOpened)throw new lt.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,Re);var Le=this._versions,ze=Le.filter(function(Je){return Je._cfg.version===Re})[0];return ze||(ze=new this.Version(Re),Le.push(ze),Le.sort(y0),ze.stores({}),this._state.autoSchema=!1,ze)},vn.prototype._whenReady=function(Re){var Le=this;return this.idbdb&&(this._state.openComplete||Ir.letThrough||this._vip)?Re():new Er(function(ze,Je){if(Le._state.openComplete)return Je(new lt.DatabaseClosed(Le._state.dbOpenError));if(!Le._state.isBeingOpened){if(!Le._state.autoOpen)return void Je(new lt.DatabaseClosed);Le.open().catch($t)}Le._state.dbReadyPromise.then(ze,Je)}).then(Re)},vn.prototype.use=function(Re){var Le=Re.stack,ze=Re.create,Je=Re.level,$e=Re.name;return $e&&this.unuse({stack:Le,name:$e}),Re=this._middlewares[Le]||(this._middlewares[Le]=[]),Re.push({stack:Le,create:ze,level:Je??10,name:$e}),Re.sort(function(ot,_t){return ot.level-_t.level}),this},vn.prototype.unuse=function(Re){var Le=Re.stack,ze=Re.name,Je=Re.create;return Le&&this._middlewares[Le]&&(this._middlewares[Le]=this._middlewares[Le].filter(function($e){return Je?$e.create!==Je:!!ze&&$e.name!==ze})),this},vn.prototype.open=function(){var Re=this;return hn(on,function(){return lo(Re)})},vn.prototype._close=function(){var Re=this._state,Le=Mi.indexOf(this);if(0<=Le&&Mi.splice(Le,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}Re.isBeingOpened||(Re.dbReadyPromise=new Er(function(ze){Re.dbReadyResolve=ze}),Re.openCanceller=new Er(function(ze,Je){Re.cancelOpen=Je}))},vn.prototype.close=function(ze){var Le=(ze===void 0?{disableAutoOpen:!0}:ze).disableAutoOpen,ze=this._state;Le?(ze.isBeingOpened&&ze.cancelOpen(new lt.DatabaseClosed),this._close(),ze.autoOpen=!1,ze.dbOpenError=new lt.DatabaseClosed):(this._close(),ze.autoOpen=this._options.autoOpen||ze.isBeingOpened,ze.openComplete=!1,ze.dbOpenError=null)},vn.prototype.delete=function(Re){var Le=this;Re===void 0&&(Re={disableAutoOpen:!0});var ze=0<arguments.length&&typeof arguments[0]!="object",Je=this._state;return new Er(function($e,ot){function _t(){Le.close(Re);var wt=Le._deps.indexedDB.deleteDatabase(Le.name);wt.onsuccess=Xr(function(){var Dt,Tt,Mt;Dt=Le._deps,Tt=Le.name,Mt=Dt.indexedDB,Dt=Dt.IDBKeyRange,oo(Mt)||Tt===Ya||ao(Mt,Dt).delete(Tt).catch($t),$e()}),wt.onerror=ri(ot),wt.onblocked=Le._fireOnBlocked}if(ze)throw new lt.InvalidArgument("Invalid closeOptions argument to db.delete()");Je.isBeingOpened?Je.dbReadyPromise.then(_t):_t()})},vn.prototype.backendDB=function(){return this.idbdb},vn.prototype.isOpen=function(){return this.idbdb!==null},vn.prototype.hasBeenClosed=function(){var Re=this._state.dbOpenError;return Re&&Re.name==="DatabaseClosed"},vn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},vn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(vn.prototype,"tables",{get:function(){var Re=this;return m(this._allTables).map(function(Le){return Re._allTables[Le]})},enumerable:!1,configurable:!0}),vn.prototype.transaction=function(){var Re=(function(Le,ze,Je){var $e=arguments.length;if($e<2)throw new lt.InvalidArgument("Too few arguments");for(var ot=new Array($e-1);--$e;)ot[$e-1]=arguments[$e];return Je=ot.pop(),[Le,tt(ot),Je]}).apply(this,arguments);return this._transaction.apply(this,Re)},vn.prototype._transaction=function(Re,Le,ze){var Je=this,$e=Ir.trans;$e&&$e.db===this&&Re.indexOf("!")===-1||($e=null);var ot,_t,wt=Re.indexOf("?")!==-1;Re=Re.replace("!","").replace("?","");try{if(_t=Le.map(function(Tt){if(Tt=Tt instanceof Je.Table?Tt.name:Tt,typeof Tt!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Tt}),Re=="r"||Re===rs)ot=rs;else{if(Re!="rw"&&Re!=ns)throw new lt.InvalidArgument("Invalid transaction mode: "+Re);ot=ns}if($e){if($e.mode===rs&&ot===ns){if(!wt)throw new lt.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");$e=null}$e&&_t.forEach(function(Tt){if($e&&$e.storeNames.indexOf(Tt)===-1){if(!wt)throw new lt.SubTransaction("Table "+Tt+" not included in parent transaction.");$e=null}}),wt&&$e&&!$e.active&&($e=null)}}catch(Tt){return $e?$e._promise(null,function(Mt,Ot){Ot(Tt)}):_n(Tt)}var Dt=(function Tt(Mt,Ot,Ut,Pt,Nt){return Er.resolve().then(function(){var Vt=Ir.transless||Ir,qt=Mt._createTransaction(Ot,Ut,Mt._dbSchema,Pt);if(qt.explicit=!0,Vt={trans:qt,transless:Vt},Pt)qt.idbtrans=Pt.idbtrans;else try{qt.create(),qt.idbtrans._explicit=!0,Mt._state.PR1398_maxLoop=3}catch(Yt){return Yt.name===Dr.InvalidState&&Mt.isOpen()&&0<--Mt._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Mt.close({disableAutoOpen:!1}),Mt.open().then(function(){return Tt(Mt,Ot,Ut,null,Nt)})):_n(Yt)}var Gt,Qt=st(Nt);return Qt&&wn(),Vt=Er.follow(function(){var Yt;(Gt=Nt.call(qt,qt))&&(Qt?(Yt=dn.bind(null,null),Gt.then(Yt,Yt)):typeof Gt.next=="function"&&typeof Gt.throw=="function"&&(Gt=pn(Gt)))},Vt),(Gt&&typeof Gt.then=="function"?Er.resolve(Gt).then(function(Yt){return qt.active?Yt:_n(new lt.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Vt.then(function(){return Gt})).then(function(Yt){return Pt&&qt._resolve(),qt._completion.then(function(){return Yt})}).catch(function(Yt){return qt._reject(Yt),_n(Yt)})})}).bind(null,this,ot,_t,$e,ze);return $e?$e._promise(ot,Dt,"lock"):Ir.trans?hn(Ir.transless,function(){return Je._whenReady(Dt)}):this._whenReady(Dt)},vn.prototype.table=function(Re){if(!Ae(this._allTables,Re))throw new lt.InvalidTable("Table ".concat(Re," does not exist"));return this._allTables[Re]},vn);function vn(Re,Le){var ze=this;this._middlewares={},this.verno=0;var Je=vn.dependencies;this._options=Le=i({addons:vn.addons,autoOpen:!0,indexedDB:Je.indexedDB,IDBKeyRange:Je.IDBKeyRange,cache:"cloned"},Le),this._deps={indexedDB:Le.indexedDB,IDBKeyRange:Le.IDBKeyRange},Je=Le.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var $e,ot,_t,wt,Dt,Tt={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:$t,dbReadyPromise:null,cancelOpen:$t,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:Le.autoOpen};Tt.dbReadyPromise=new Er(function(Ot){Tt.dbReadyResolve=Ot}),Tt.openCanceller=new Er(function(Ot,Ut){Tt.cancelOpen=Ut}),this._state=Tt,this.name=Re,this.on=_a(this,"populate","blocked","versionchange","close",{ready:[er,$t]}),this.on.ready.subscribe=We(this.on.ready.subscribe,function(Ot){return function(Ut,Pt){vn.vip(function(){var Nt,Vt=ze._state;Vt.openComplete?(Vt.dbOpenError||Er.resolve().then(Ut),Pt&&Ot(Ut)):Vt.onReadyBeingFired?(Vt.onReadyBeingFired.push(Ut),Pt&&Ot(Ut)):(Ot(Ut),Nt=ze,Pt||Ot(function qt(){Nt.on.ready.unsubscribe(Ut),Nt.on.ready.unsubscribe(qt)}))})}}),this.Collection=($e=this,va(Uc.prototype,function(Gt,qt){this.db=$e;var Pt=u0,Nt=null;if(qt)try{Pt=qt()}catch(Qt){Nt=Qt}var Vt=Gt._ctx,qt=Vt.table,Gt=qt.hook.reading.fire;this._ctx={table:qt,index:Vt.index,isPrimKey:!Vt.index||qt.schema.primKey.keyPath&&Vt.index===qt.schema.primKey.name,range:Pt,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Nt,or:Vt.or,valueMapper:Gt!==pr?Gt:null}})),this.Table=(ot=this,va(h0.prototype,function(Ot,Ut,Pt){this.db=ot,this._tx=Pt,this.name=Ot,this.schema=Ut,this.hook=ot._allTables[Ot]?ot._allTables[Ot].hook:_a(null,{creating:[Ht,$t],reading:[Qe,pr],updating:[xt,$t],deleting:[ht,$t]})})),this.Transaction=(_t=this,va(Hc.prototype,function(Ot,Ut,Pt,Nt,Vt){var qt=this;this.db=_t,this.mode=Ot,this.storeNames=Ut,this.schema=Pt,this.chromeTransactionDurability=Nt,this.idbtrans=null,this.on=_a(this,"complete","error","abort"),this.parent=Vt||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Er(function(Gt,Qt){qt._resolve=Gt,qt._reject=Qt}),this._completion.then(function(){qt.active=!1,qt.on.complete.fire()},function(Gt){var Qt=qt.active;return qt.active=!1,qt.on.error.fire(Gt),qt.parent?qt.parent._reject(Gt):Qt&&qt.idbtrans&&qt.idbtrans.abort(),_n(Gt)})})),this.Version=(wt=this,va(Qc.prototype,function(Ot){this.db=wt,this._cfg={version:Ot,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(Dt=this,va(v0.prototype,function(Ot,Ut,Pt){if(this.db=Dt,this._ctx={table:Ot,index:Ut===":id"?null:Ut,or:Pt},this._cmp=this._ascending=Jr,this._descending=function(Nt,Vt){return Jr(Vt,Nt)},this._max=function(Nt,Vt){return 0<Jr(Nt,Vt)?Nt:Vt},this._min=function(Nt,Vt){return Jr(Nt,Vt)<0?Nt:Vt},this._IDBKeyRange=Dt._deps.IDBKeyRange,!this._IDBKeyRange)throw new lt.MissingAPI})),this.on("versionchange",function(Ot){0<Ot.newVersion?console.warn("Another connection wants to upgrade database '".concat(ze.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(ze.name,"'. Closing db now to resume the delete request.")),ze.close({disableAutoOpen:!1})}),this.on("blocked",function(Ot){!Ot.newVersion||Ot.newVersion<Ot.oldVersion?console.warn("Dexie.delete('".concat(ze.name,"') was blocked")):console.warn("Upgrade '".concat(ze.name,"' blocked by other connection holding version ").concat(Ot.oldVersion/10))}),this._maxKey=ya(Le.IDBKeyRange),this._createTransaction=function(Ot,Ut,Pt,Nt){return new ze.Transaction(Ot,Ut,Pt,ze._options.chromeTransactionDurability,Nt)},this._fireOnBlocked=function(Ot){ze.on("blocked").fire(Ot),Mi.filter(function(Ut){return Ut.name===ze.name&&Ut!==ze&&!Ut._state.vcFired}).map(function(Ut){return Ut.on("versionchange").fire(Ot)})},this.use(po),this.use(ki),this.use(gs),this.use(ho),this.use(Jc);var Mt=new Proxy(this,{get:function(Ot,Ut,Pt){if(Ut==="_vip")return!0;if(Ut==="table")return function(Vt){return ea(ze.table(Vt),Mt)};var Nt=Reflect.get(Ot,Ut,Pt);return Nt instanceof h0?ea(Nt,Mt):Ut==="tables"?Nt.map(function(Vt){return ea(Vt,Mt)}):Ut==="_createTransaction"?function(){return ea(Nt.apply(this,arguments),Mt)}:Nt}});this.vip=Mt,Je.forEach(function(Ot){return Ot(ze)})}var Nn,en=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",yi=(vo.prototype.subscribe=function(Re,Le,ze){return this._subscribe(Re&&typeof Re!="function"?Re:{next:Re,error:Le,complete:ze})},vo.prototype[en]=function(){return this},vo);function vo(Re){this._subscribe=Re}try{Nn={indexedDB:f.indexedDB||f.mozIndexedDB||f.webkitIndexedDB||f.msIndexedDB,IDBKeyRange:f.IDBKeyRange||f.webkitIDBKeyRange}}catch{Nn={indexedDB:null,IDBKeyRange:null}}function bs(Re){var Le,ze=!1,Je=new yi(function($e){var ot=st(Re),_t,wt=!1,Dt={},Tt={},Mt={get closed(){return wt},unsubscribe:function(){wt||(wt=!0,_t&&_t.abort(),Ot&&Ii.storagemutated.unsubscribe(Pt))}};$e.start&&$e.start(Mt);var Ot=!1,Ut=function(){return zn(Nt)},Pt=function(Vt){Ui(Dt,Vt),qn(Tt,Dt)&&Ut()},Nt=function(){var Vt,qt,Gt;!wt&&Nn.indexedDB&&(Dt={},Vt={},_t&&_t.abort(),_t=new AbortController,Gt=function(Qt){var Yt=Or();try{ot&&wn();var tr=fn(Re,Qt);return tr=ot?tr.finally(dn):tr}finally{Yt&&sn()}}(qt={subscr:Vt,signal:_t.signal,requery:Ut,querier:Re,trans:null}),Promise.resolve(Gt).then(function(Qt){ze=!0,Le=Qt,wt||qt.signal.aborted||(Dt={},function(Yt){for(var tr in Yt)if(Ae(Yt,tr))return;return 1}(Tt=Vt)||Ot||(Ii(ga,Pt),Ot=!0),zn(function(){return!wt&&$e.next&&$e.next(Qt)}))},function(Qt){ze=!1,["DatabaseClosedError","AbortError"].includes(Qt==null?void 0:Qt.name)||wt||zn(function(){wt||$e.error&&$e.error(Qt)})}))};return setTimeout(Ut,0),Mt});return Je.hasValue=function(){return ze},Je.getValue=function(){return Le},Je}var Oi=di;function Es(Re){var Le=Kn;try{Kn=!0,Ii.storagemutated.fire(Re),kn(Re,!0)}finally{Kn=Le}}De(Oi,i(i({},Xt),{delete:function(Re){return new Oi(Re,{addons:[]}).delete()},exists:function(Re){return new Oi(Re,{addons:[]}).open().then(function(Le){return Le.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(Re){try{return Le=Oi.dependencies,ze=Le.indexedDB,Le=Le.IDBKeyRange,(oo(ze)?Promise.resolve(ze.databases()).then(function(Je){return Je.map(function($e){return $e.name}).filter(function($e){return $e!==Ya})}):ao(ze,Le).toCollection().primaryKeys()).then(Re)}catch{return _n(new lt.MissingAPI)}var Le,ze},defineClass:function(){return function(Re){Te(this,Re)}},ignoreTransaction:function(Re){return Ir.trans?hn(Ir.transless,Re):Re()},vip:so,async:function(Re){return function(){try{var Le=pn(Re.apply(this,arguments));return Le&&typeof Le.then=="function"?Le:Er.resolve(Le)}catch(ze){return _n(ze)}}},spawn:function(Re,Le,ze){try{var Je=pn(Re.apply(ze,Le||[]));return Je&&typeof Je.then=="function"?Je:Er.resolve(Je)}catch($e){return _n($e)}},currentTransaction:{get:function(){return Ir.trans||null}},waitFor:function(Re,Le){return Le=Er.resolve(typeof Re=="function"?Oi.ignoreTransaction(Re):Re).timeout(Le||6e4),Ir.trans?Ir.trans.waitFor(Le):Le},Promise:Er,debug:{get:function(){return rt},set:function(Re){je(Re)}},derive:Be,extend:Te,props:De,override:We,Events:_a,on:Ii,liveQuery:bs,extendObservabilitySet:Ui,getByKeyPath:ct,setByKeyPath:at,delByKeyPath:function(Re,Le){typeof Le=="string"?at(Re,Le,void 0):"length"in Le&&[].map.call(Le,function(ze){at(Re,ze,void 0)})},shallowClone:gt,deepClone:mt,getObjectDiff:Ci,cmp:Jr,asap:Ze,minKey:-1/0,addons:[],connections:Mi,errnames:Dr,dependencies:Nn,cache:ji,semVer:"4.0.8",version:"4.0.8".split(".").map(function(Re){return parseInt(Re)}).reduce(function(Re,Le,ze){return Re+Le/Math.pow(10,2*ze)})})),Oi.maxKey=ya(Oi.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Ii(ga,function(Re){Kn||(Re=new CustomEvent(us,{detail:Re}),Kn=!0,dispatchEvent(Re),Kn=!1)}),addEventListener(us,function(Re){Re=Re.detail,Kn||Es(Re)}));var Jn,Kn=!1,mo=function(){};return typeof BroadcastChannel<"u"&&((mo=function(){(Jn=new BroadcastChannel(us)).onmessage=function(Re){return Re.data&&Es(Re.data)}})(),typeof Jn.unref=="function"&&Jn.unref(),Ii(ga,function(Re){Kn||Jn.postMessage(Re)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(Re){if(!di.disableBfCache&&Re.persisted){rt&&console.debug("Dexie: handling persisted pagehide"),Jn!=null&&Jn.close();for(var Le=0,ze=Mi;Le<ze.length;Le++)ze[Le].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(Re){!di.disableBfCache&&Re.persisted&&(rt&&console.debug("Dexie: handling persisted pageshow"),mo(),Es({all:new Dn(-1/0,[[]])}))})),Er.rejectionMapper=function(Re,Le){return!Re||Re instanceof Bt||Re instanceof TypeError||Re instanceof SyntaxError||!Re.name||!bt[Re.name]?Re:(Le=new bt[Re.name](Le||Re.message,Re),"stack"in Re&&qe(Le,"stack",{get:function(){return this.inner.stack}}),Le)},je(rt),i(di,Object.freeze({__proto__:null,Dexie:di,liveQuery:bs,Entity:l0,cmp:Jr,PropModSymbol:mi,PropModification:ma,replacePrefix:function(Re,Le){return new ma({replacePrefix:[Re,Le]})},add:function(Re){return new ma({add:Re})},remove:function(Re){return new ma({remove:Re})},default:di,RangeSet:Dn,mergeRanges:Aa,rangesOverlap:w0}),{default:di}),di})})(dexie_min);var dexie_minExports=dexie_min.exports;const _Dexie=getDefaultExportFromCjs$1(dexie_minExports),DexieSymbol=Symbol.for("Dexie"),Dexie=globalThis[DexieSymbol]||(globalThis[DexieSymbol]=_Dexie);if(_Dexie.semVer!==Dexie.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${_Dexie.semVer} and ${Dexie.semVer}`);var cryptoJs={exports:{}};function commonjsRequire(_){throw new Error('Could not dynamically require "'+_+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var core={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredCore;function requireCore(){return hasRequiredCore||(hasRequiredCore=1,function(_,o){(function(e,i){_.exports=i()})(commonjsGlobal$1,function(){var e=e||function(i,c){var f;if(typeof window<"u"&&window.crypto&&(f=window.crypto),typeof self<"u"&&self.crypto&&(f=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(f=globalThis.crypto),!f&&typeof window<"u"&&window.msCrypto&&(f=window.msCrypto),!f&&typeof commonjsGlobal$1<"u"&&commonjsGlobal$1.crypto&&(f=commonjsGlobal$1.crypto),!f&&typeof commonjsRequire=="function")try{f=require$$0}catch{}var m=function(){if(f){if(typeof f.getRandomValues=="function")try{return f.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof f.randomBytes=="function")try{return f.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},g=Object.create||function(){function Ue(){}return function(We){var He;return Ue.prototype=We,He=new Ue,Ue.prototype=null,He}}(),Te={},Ie=Te.lib={},Oe=Ie.Base=function(){return{extend:function(Ue){var We=g(this);return Ue&&We.mixIn(Ue),(!We.hasOwnProperty("init")||this.init===We.init)&&(We.init=function(){We.$super.init.apply(this,arguments)}),We.init.prototype=We,We.$super=this,We},create:function(){var Ue=this.extend();return Ue.init.apply(Ue,arguments),Ue},init:function(){},mixIn:function(Ue){for(var We in Ue)Ue.hasOwnProperty(We)&&(this[We]=Ue[We]);Ue.hasOwnProperty("toString")&&(this.toString=Ue.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),Ae=Ie.WordArray=Oe.extend({init:function(Ue,We){Ue=this.words=Ue||[],We!=c?this.sigBytes=We:this.sigBytes=Ue.length*4},toString:function(Ue){return(Ue||_e).stringify(this)},concat:function(Ue){var We=this.words,He=Ue.words,Ze=this.sigBytes,ct=Ue.sigBytes;if(this.clamp(),Ze%4)for(var at=0;at<ct;at++){var gt=He[at>>>2]>>>24-at%4*8&255;We[Ze+at>>>2]|=gt<<24-(Ze+at)%4*8}else for(var yt=0;yt<ct;yt+=4)We[Ze+yt>>>2]=He[yt>>>2];return this.sigBytes+=ct,this},clamp:function(){var Ue=this.words,We=this.sigBytes;Ue[We>>>2]&=4294967295<<32-We%4*8,Ue.length=i.ceil(We/4)},clone:function(){var Ue=Oe.clone.call(this);return Ue.words=this.words.slice(0),Ue},random:function(Ue){for(var We=[],He=0;He<Ue;He+=4)We.push(m());return new Ae.init(We,Ue)}}),De=Te.enc={},_e=De.Hex={stringify:function(Ue){for(var We=Ue.words,He=Ue.sigBytes,Ze=[],ct=0;ct<He;ct++){var at=We[ct>>>2]>>>24-ct%4*8&255;Ze.push((at>>>4).toString(16)),Ze.push((at&15).toString(16))}return Ze.join("")},parse:function(Ue){for(var We=Ue.length,He=[],Ze=0;Ze<We;Ze+=2)He[Ze>>>3]|=parseInt(Ue.substr(Ze,2),16)<<24-Ze%8*4;return new Ae.init(He,We/2)}},qe=De.Latin1={stringify:function(Ue){for(var We=Ue.words,He=Ue.sigBytes,Ze=[],ct=0;ct<He;ct++){var at=We[ct>>>2]>>>24-ct%4*8&255;Ze.push(String.fromCharCode(at))}return Ze.join("")},parse:function(Ue){for(var We=Ue.length,He=[],Ze=0;Ze<We;Ze++)He[Ze>>>2]|=(Ue.charCodeAt(Ze)&255)<<24-Ze%4*8;return new Ae.init(He,We)}},Be=De.Utf8={stringify:function(Ue){try{return decodeURIComponent(escape(qe.stringify(Ue)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(Ue){return qe.parse(unescape(encodeURIComponent(Ue)))}},Ne=Ie.BufferedBlockAlgorithm=Oe.extend({reset:function(){this._data=new Ae.init,this._nDataBytes=0},_append:function(Ue){typeof Ue=="string"&&(Ue=Be.parse(Ue)),this._data.concat(Ue),this._nDataBytes+=Ue.sigBytes},_process:function(Ue){var We,He=this._data,Ze=He.words,ct=He.sigBytes,at=this.blockSize,gt=at*4,yt=ct/gt;Ue?yt=i.ceil(yt):yt=i.max((yt|0)-this._minBufferSize,0);var tt=yt*at,pt=i.min(tt*4,ct);if(tt){for(var nt=0;nt<tt;nt+=at)this._doProcessBlock(Ze,nt);We=Ze.splice(0,tt),He.sigBytes-=pt}return new Ae.init(We,pt)},clone:function(){var Ue=Oe.clone.call(this);return Ue._data=this._data.clone(),Ue},_minBufferSize:0});Ie.Hasher=Ne.extend({cfg:Oe.extend(),init:function(Ue){this.cfg=this.cfg.extend(Ue),this.reset()},reset:function(){Ne.reset.call(this),this._doReset()},update:function(Ue){return this._append(Ue),this._process(),this},finalize:function(Ue){Ue&&this._append(Ue);var We=this._doFinalize();return We},blockSize:16,_createHelper:function(Ue){return function(We,He){return new Ue.init(He).finalize(We)}},_createHmacHelper:function(Ue){return function(We,He){return new Ve.HMAC.init(Ue,He).finalize(We)}}});var Ve=Te.algo={};return Te}(Math);return e})}(core)),core.exports}var x64Core={exports:{}},hasRequiredX64Core;function requireX64Core(){return hasRequiredX64Core||(hasRequiredX64Core=1,function(_,o){(function(e,i){_.exports=i(requireCore())})(commonjsGlobal$1,function(e){return function(i){var c=e,f=c.lib,m=f.Base,g=f.WordArray,Te=c.x64={};Te.Word=m.extend({init:function(Ie,Oe){this.high=Ie,this.low=Oe}}),Te.WordArray=m.extend({init:function(Ie,Oe){Ie=this.words=Ie||[],Oe!=i?this.sigBytes=Oe:this.sigBytes=Ie.length*8},toX32:function(){for(var Ie=this.words,Oe=Ie.length,Ae=[],De=0;De<Oe;De++){var _e=Ie[De];Ae.push(_e.high),Ae.push(_e.low)}return g.create(Ae,this.sigBytes)},clone:function(){for(var Ie=m.clone.call(this),Oe=Ie.words=this.words.slice(0),Ae=Oe.length,De=0;De<Ae;De++)Oe[De]=Oe[De].clone();return Ie}})}(),e})}(x64Core)),x64Core.exports}var libTypedarrays={exports:{}},hasRequiredLibTypedarrays;function requireLibTypedarrays(){return hasRequiredLibTypedarrays||(hasRequiredLibTypedarrays=1,function(_,o){(function(e,i){_.exports=i(requireCore())})(commonjsGlobal$1,function(e){return function(){if(typeof ArrayBuffer=="function"){var i=e,c=i.lib,f=c.WordArray,m=f.init,g=f.init=function(Te){if(Te instanceof ArrayBuffer&&(Te=new Uint8Array(Te)),(Te instanceof Int8Array||typeof Uint8ClampedArray<"u"&&Te instanceof Uint8ClampedArray||Te instanceof Int16Array||Te instanceof Uint16Array||Te instanceof Int32Array||Te instanceof Uint32Array||Te instanceof Float32Array||Te instanceof Float64Array)&&(Te=new Uint8Array(Te.buffer,Te.byteOffset,Te.byteLength)),Te instanceof Uint8Array){for(var Ie=Te.byteLength,Oe=[],Ae=0;Ae<Ie;Ae++)Oe[Ae>>>2]|=Te[Ae]<<24-Ae%4*8;m.call(this,Oe,Ie)}else m.apply(this,arguments)};g.prototype=f}}(),e.lib.WordArray})}(libTypedarrays)),libTypedarrays.exports}var encUtf16={exports:{}},hasRequiredEncUtf16;function requireEncUtf16(){return hasRequiredEncUtf16||(hasRequiredEncUtf16=1,function(_,o){(function(e,i){_.exports=i(requireCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.WordArray,m=i.enc;m.Utf16=m.Utf16BE={stringify:function(Te){for(var Ie=Te.words,Oe=Te.sigBytes,Ae=[],De=0;De<Oe;De+=2){var _e=Ie[De>>>2]>>>16-De%4*8&65535;Ae.push(String.fromCharCode(_e))}return Ae.join("")},parse:function(Te){for(var Ie=Te.length,Oe=[],Ae=0;Ae<Ie;Ae++)Oe[Ae>>>1]|=Te.charCodeAt(Ae)<<16-Ae%2*16;return f.create(Oe,Ie*2)}},m.Utf16LE={stringify:function(Te){for(var Ie=Te.words,Oe=Te.sigBytes,Ae=[],De=0;De<Oe;De+=2){var _e=g(Ie[De>>>2]>>>16-De%4*8&65535);Ae.push(String.fromCharCode(_e))}return Ae.join("")},parse:function(Te){for(var Ie=Te.length,Oe=[],Ae=0;Ae<Ie;Ae++)Oe[Ae>>>1]|=g(Te.charCodeAt(Ae)<<16-Ae%2*16);return f.create(Oe,Ie*2)}};function g(Te){return Te<<8&4278255360|Te>>>8&16711935}}(),e.enc.Utf16})}(encUtf16)),encUtf16.exports}var encBase64={exports:{}},hasRequiredEncBase64;function requireEncBase64(){return hasRequiredEncBase64||(hasRequiredEncBase64=1,function(_,o){(function(e,i){_.exports=i(requireCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.WordArray,m=i.enc;m.Base64={stringify:function(Te){var Ie=Te.words,Oe=Te.sigBytes,Ae=this._map;Te.clamp();for(var De=[],_e=0;_e<Oe;_e+=3)for(var qe=Ie[_e>>>2]>>>24-_e%4*8&255,Be=Ie[_e+1>>>2]>>>24-(_e+1)%4*8&255,Ne=Ie[_e+2>>>2]>>>24-(_e+2)%4*8&255,Ve=qe<<16|Be<<8|Ne,Ue=0;Ue<4&&_e+Ue*.75<Oe;Ue++)De.push(Ae.charAt(Ve>>>6*(3-Ue)&63));var We=Ae.charAt(64);if(We)for(;De.length%4;)De.push(We);return De.join("")},parse:function(Te){var Ie=Te.length,Oe=this._map,Ae=this._reverseMap;if(!Ae){Ae=this._reverseMap=[];for(var De=0;De<Oe.length;De++)Ae[Oe.charCodeAt(De)]=De}var _e=Oe.charAt(64);if(_e){var qe=Te.indexOf(_e);qe!==-1&&(Ie=qe)}return g(Te,Ie,Ae)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function g(Te,Ie,Oe){for(var Ae=[],De=0,_e=0;_e<Ie;_e++)if(_e%4){var qe=Oe[Te.charCodeAt(_e-1)]<<_e%4*2,Be=Oe[Te.charCodeAt(_e)]>>>6-_e%4*2,Ne=qe|Be;Ae[De>>>2]|=Ne<<24-De%4*8,De++}return f.create(Ae,De)}}(),e.enc.Base64})}(encBase64)),encBase64.exports}var encBase64url={exports:{}},hasRequiredEncBase64url;function requireEncBase64url(){return hasRequiredEncBase64url||(hasRequiredEncBase64url=1,function(_,o){(function(e,i){_.exports=i(requireCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.WordArray,m=i.enc;m.Base64url={stringify:function(Te,Ie){Ie===void 0&&(Ie=!0);var Oe=Te.words,Ae=Te.sigBytes,De=Ie?this._safe_map:this._map;Te.clamp();for(var _e=[],qe=0;qe<Ae;qe+=3)for(var Be=Oe[qe>>>2]>>>24-qe%4*8&255,Ne=Oe[qe+1>>>2]>>>24-(qe+1)%4*8&255,Ve=Oe[qe+2>>>2]>>>24-(qe+2)%4*8&255,Ue=Be<<16|Ne<<8|Ve,We=0;We<4&&qe+We*.75<Ae;We++)_e.push(De.charAt(Ue>>>6*(3-We)&63));var He=De.charAt(64);if(He)for(;_e.length%4;)_e.push(He);return _e.join("")},parse:function(Te,Ie){Ie===void 0&&(Ie=!0);var Oe=Te.length,Ae=Ie?this._safe_map:this._map,De=this._reverseMap;if(!De){De=this._reverseMap=[];for(var _e=0;_e<Ae.length;_e++)De[Ae.charCodeAt(_e)]=_e}var qe=Ae.charAt(64);if(qe){var Be=Te.indexOf(qe);Be!==-1&&(Oe=Be)}return g(Te,Oe,De)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function g(Te,Ie,Oe){for(var Ae=[],De=0,_e=0;_e<Ie;_e++)if(_e%4){var qe=Oe[Te.charCodeAt(_e-1)]<<_e%4*2,Be=Oe[Te.charCodeAt(_e)]>>>6-_e%4*2,Ne=qe|Be;Ae[De>>>2]|=Ne<<24-De%4*8,De++}return f.create(Ae,De)}}(),e.enc.Base64url})}(encBase64url)),encBase64url.exports}var md5={exports:{}},hasRequiredMd5;function requireMd5(){return hasRequiredMd5||(hasRequiredMd5=1,function(_,o){(function(e,i){_.exports=i(requireCore())})(commonjsGlobal$1,function(e){return function(i){var c=e,f=c.lib,m=f.WordArray,g=f.Hasher,Te=c.algo,Ie=[];(function(){for(var Be=0;Be<64;Be++)Ie[Be]=i.abs(i.sin(Be+1))*4294967296|0})();var Oe=Te.MD5=g.extend({_doReset:function(){this._hash=new m.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(Be,Ne){for(var Ve=0;Ve<16;Ve++){var Ue=Ne+Ve,We=Be[Ue];Be[Ue]=(We<<8|We>>>24)&16711935|(We<<24|We>>>8)&4278255360}var He=this._hash.words,Ze=Be[Ne+0],ct=Be[Ne+1],at=Be[Ne+2],gt=Be[Ne+3],yt=Be[Ne+4],tt=Be[Ne+5],pt=Be[Ne+6],nt=Be[Ne+7],mt=Be[Ne+8],Xe=Be[Ne+9],Ft=Be[Ne+10],Zt=Be[Ne+11],zt=Be[Ne+12],cr=Be[Ne+13],Et=Be[Ne+14],St=Be[Ne+15],st=He[0],dt=He[1],Bt=He[2],At=He[3];st=Ae(st,dt,Bt,At,Ze,7,Ie[0]),At=Ae(At,st,dt,Bt,ct,12,Ie[1]),Bt=Ae(Bt,At,st,dt,at,17,Ie[2]),dt=Ae(dt,Bt,At,st,gt,22,Ie[3]),st=Ae(st,dt,Bt,At,yt,7,Ie[4]),At=Ae(At,st,dt,Bt,tt,12,Ie[5]),Bt=Ae(Bt,At,st,dt,pt,17,Ie[6]),dt=Ae(dt,Bt,At,st,nt,22,Ie[7]),st=Ae(st,dt,Bt,At,mt,7,Ie[8]),At=Ae(At,st,dt,Bt,Xe,12,Ie[9]),Bt=Ae(Bt,At,st,dt,Ft,17,Ie[10]),dt=Ae(dt,Bt,At,st,Zt,22,Ie[11]),st=Ae(st,dt,Bt,At,zt,7,Ie[12]),At=Ae(At,st,dt,Bt,cr,12,Ie[13]),Bt=Ae(Bt,At,st,dt,Et,17,Ie[14]),dt=Ae(dt,Bt,At,st,St,22,Ie[15]),st=De(st,dt,Bt,At,ct,5,Ie[16]),At=De(At,st,dt,Bt,pt,9,Ie[17]),Bt=De(Bt,At,st,dt,Zt,14,Ie[18]),dt=De(dt,Bt,At,st,Ze,20,Ie[19]),st=De(st,dt,Bt,At,tt,5,Ie[20]),At=De(At,st,dt,Bt,Ft,9,Ie[21]),Bt=De(Bt,At,st,dt,St,14,Ie[22]),dt=De(dt,Bt,At,st,yt,20,Ie[23]),st=De(st,dt,Bt,At,Xe,5,Ie[24]),At=De(At,st,dt,Bt,Et,9,Ie[25]),Bt=De(Bt,At,st,dt,gt,14,Ie[26]),dt=De(dt,Bt,At,st,mt,20,Ie[27]),st=De(st,dt,Bt,At,cr,5,Ie[28]),At=De(At,st,dt,Bt,at,9,Ie[29]),Bt=De(Bt,At,st,dt,nt,14,Ie[30]),dt=De(dt,Bt,At,st,zt,20,Ie[31]),st=_e(st,dt,Bt,At,tt,4,Ie[32]),At=_e(At,st,dt,Bt,mt,11,Ie[33]),Bt=_e(Bt,At,st,dt,Zt,16,Ie[34]),dt=_e(dt,Bt,At,st,Et,23,Ie[35]),st=_e(st,dt,Bt,At,ct,4,Ie[36]),At=_e(At,st,dt,Bt,yt,11,Ie[37]),Bt=_e(Bt,At,st,dt,nt,16,Ie[38]),dt=_e(dt,Bt,At,st,Ft,23,Ie[39]),st=_e(st,dt,Bt,At,cr,4,Ie[40]),At=_e(At,st,dt,Bt,Ze,11,Ie[41]),Bt=_e(Bt,At,st,dt,gt,16,Ie[42]),dt=_e(dt,Bt,At,st,pt,23,Ie[43]),st=_e(st,dt,Bt,At,Xe,4,Ie[44]),At=_e(At,st,dt,Bt,zt,11,Ie[45]),Bt=_e(Bt,At,st,dt,St,16,Ie[46]),dt=_e(dt,Bt,At,st,at,23,Ie[47]),st=qe(st,dt,Bt,At,Ze,6,Ie[48]),At=qe(At,st,dt,Bt,nt,10,Ie[49]),Bt=qe(Bt,At,st,dt,Et,15,Ie[50]),dt=qe(dt,Bt,At,st,tt,21,Ie[51]),st=qe(st,dt,Bt,At,zt,6,Ie[52]),At=qe(At,st,dt,Bt,gt,10,Ie[53]),Bt=qe(Bt,At,st,dt,Ft,15,Ie[54]),dt=qe(dt,Bt,At,st,ct,21,Ie[55]),st=qe(st,dt,Bt,At,mt,6,Ie[56]),At=qe(At,st,dt,Bt,St,10,Ie[57]),Bt=qe(Bt,At,st,dt,pt,15,Ie[58]),dt=qe(dt,Bt,At,st,cr,21,Ie[59]),st=qe(st,dt,Bt,At,yt,6,Ie[60]),At=qe(At,st,dt,Bt,Zt,10,Ie[61]),Bt=qe(Bt,At,st,dt,at,15,Ie[62]),dt=qe(dt,Bt,At,st,Xe,21,Ie[63]),He[0]=He[0]+st|0,He[1]=He[1]+dt|0,He[2]=He[2]+Bt|0,He[3]=He[3]+At|0},_doFinalize:function(){var Be=this._data,Ne=Be.words,Ve=this._nDataBytes*8,Ue=Be.sigBytes*8;Ne[Ue>>>5]|=128<<24-Ue%32;var We=i.floor(Ve/4294967296),He=Ve;Ne[(Ue+64>>>9<<4)+15]=(We<<8|We>>>24)&16711935|(We<<24|We>>>8)&4278255360,Ne[(Ue+64>>>9<<4)+14]=(He<<8|He>>>24)&16711935|(He<<24|He>>>8)&4278255360,Be.sigBytes=(Ne.length+1)*4,this._process();for(var Ze=this._hash,ct=Ze.words,at=0;at<4;at++){var gt=ct[at];ct[at]=(gt<<8|gt>>>24)&16711935|(gt<<24|gt>>>8)&4278255360}return Ze},clone:function(){var Be=g.clone.call(this);return Be._hash=this._hash.clone(),Be}});function Ae(Be,Ne,Ve,Ue,We,He,Ze){var ct=Be+(Ne&Ve|~Ne&Ue)+We+Ze;return(ct<<He|ct>>>32-He)+Ne}function De(Be,Ne,Ve,Ue,We,He,Ze){var ct=Be+(Ne&Ue|Ve&~Ue)+We+Ze;return(ct<<He|ct>>>32-He)+Ne}function _e(Be,Ne,Ve,Ue,We,He,Ze){var ct=Be+(Ne^Ve^Ue)+We+Ze;return(ct<<He|ct>>>32-He)+Ne}function qe(Be,Ne,Ve,Ue,We,He,Ze){var ct=Be+(Ve^(Ne|~Ue))+We+Ze;return(ct<<He|ct>>>32-He)+Ne}c.MD5=g._createHelper(Oe),c.HmacMD5=g._createHmacHelper(Oe)}(Math),e.MD5})}(md5)),md5.exports}var sha1={exports:{}},hasRequiredSha1;function requireSha1(){return hasRequiredSha1||(hasRequiredSha1=1,function(_,o){(function(e,i){_.exports=i(requireCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.WordArray,m=c.Hasher,g=i.algo,Te=[],Ie=g.SHA1=m.extend({_doReset:function(){this._hash=new f.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(Oe,Ae){for(var De=this._hash.words,_e=De[0],qe=De[1],Be=De[2],Ne=De[3],Ve=De[4],Ue=0;Ue<80;Ue++){if(Ue<16)Te[Ue]=Oe[Ae+Ue]|0;else{var We=Te[Ue-3]^Te[Ue-8]^Te[Ue-14]^Te[Ue-16];Te[Ue]=We<<1|We>>>31}var He=(_e<<5|_e>>>27)+Ve+Te[Ue];Ue<20?He+=(qe&Be|~qe&Ne)+1518500249:Ue<40?He+=(qe^Be^Ne)+1859775393:Ue<60?He+=(qe&Be|qe&Ne|Be&Ne)-1894007588:He+=(qe^Be^Ne)-899497514,Ve=Ne,Ne=Be,Be=qe<<30|qe>>>2,qe=_e,_e=He}De[0]=De[0]+_e|0,De[1]=De[1]+qe|0,De[2]=De[2]+Be|0,De[3]=De[3]+Ne|0,De[4]=De[4]+Ve|0},_doFinalize:function(){var Oe=this._data,Ae=Oe.words,De=this._nDataBytes*8,_e=Oe.sigBytes*8;return Ae[_e>>>5]|=128<<24-_e%32,Ae[(_e+64>>>9<<4)+14]=Math.floor(De/4294967296),Ae[(_e+64>>>9<<4)+15]=De,Oe.sigBytes=Ae.length*4,this._process(),this._hash},clone:function(){var Oe=m.clone.call(this);return Oe._hash=this._hash.clone(),Oe}});i.SHA1=m._createHelper(Ie),i.HmacSHA1=m._createHmacHelper(Ie)}(),e.SHA1})}(sha1)),sha1.exports}var sha256={exports:{}},hasRequiredSha256;function requireSha256(){return hasRequiredSha256||(hasRequiredSha256=1,function(_,o){(function(e,i){_.exports=i(requireCore())})(commonjsGlobal$1,function(e){return function(i){var c=e,f=c.lib,m=f.WordArray,g=f.Hasher,Te=c.algo,Ie=[],Oe=[];(function(){function _e(Ve){for(var Ue=i.sqrt(Ve),We=2;We<=Ue;We++)if(!(Ve%We))return!1;return!0}function qe(Ve){return(Ve-(Ve|0))*4294967296|0}for(var Be=2,Ne=0;Ne<64;)_e(Be)&&(Ne<8&&(Ie[Ne]=qe(i.pow(Be,1/2))),Oe[Ne]=qe(i.pow(Be,1/3)),Ne++),Be++})();var Ae=[],De=Te.SHA256=g.extend({_doReset:function(){this._hash=new m.init(Ie.slice(0))},_doProcessBlock:function(_e,qe){for(var Be=this._hash.words,Ne=Be[0],Ve=Be[1],Ue=Be[2],We=Be[3],He=Be[4],Ze=Be[5],ct=Be[6],at=Be[7],gt=0;gt<64;gt++){if(gt<16)Ae[gt]=_e[qe+gt]|0;else{var yt=Ae[gt-15],tt=(yt<<25|yt>>>7)^(yt<<14|yt>>>18)^yt>>>3,pt=Ae[gt-2],nt=(pt<<15|pt>>>17)^(pt<<13|pt>>>19)^pt>>>10;Ae[gt]=tt+Ae[gt-7]+nt+Ae[gt-16]}var mt=He&Ze^~He&ct,Xe=Ne&Ve^Ne&Ue^Ve&Ue,Ft=(Ne<<30|Ne>>>2)^(Ne<<19|Ne>>>13)^(Ne<<10|Ne>>>22),Zt=(He<<26|He>>>6)^(He<<21|He>>>11)^(He<<7|He>>>25),zt=at+Zt+mt+Oe[gt]+Ae[gt],cr=Ft+Xe;at=ct,ct=Ze,Ze=He,He=We+zt|0,We=Ue,Ue=Ve,Ve=Ne,Ne=zt+cr|0}Be[0]=Be[0]+Ne|0,Be[1]=Be[1]+Ve|0,Be[2]=Be[2]+Ue|0,Be[3]=Be[3]+We|0,Be[4]=Be[4]+He|0,Be[5]=Be[5]+Ze|0,Be[6]=Be[6]+ct|0,Be[7]=Be[7]+at|0},_doFinalize:function(){var _e=this._data,qe=_e.words,Be=this._nDataBytes*8,Ne=_e.sigBytes*8;return qe[Ne>>>5]|=128<<24-Ne%32,qe[(Ne+64>>>9<<4)+14]=i.floor(Be/4294967296),qe[(Ne+64>>>9<<4)+15]=Be,_e.sigBytes=qe.length*4,this._process(),this._hash},clone:function(){var _e=g.clone.call(this);return _e._hash=this._hash.clone(),_e}});c.SHA256=g._createHelper(De),c.HmacSHA256=g._createHmacHelper(De)}(Math),e.SHA256})}(sha256)),sha256.exports}var sha224={exports:{}},hasRequiredSha224;function requireSha224(){return hasRequiredSha224||(hasRequiredSha224=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireSha256())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.WordArray,m=i.algo,g=m.SHA256,Te=m.SHA224=g.extend({_doReset:function(){this._hash=new f.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var Ie=g._doFinalize.call(this);return Ie.sigBytes-=4,Ie}});i.SHA224=g._createHelper(Te),i.HmacSHA224=g._createHmacHelper(Te)}(),e.SHA224})}(sha224)),sha224.exports}var sha512={exports:{}},hasRequiredSha512;function requireSha512(){return hasRequiredSha512||(hasRequiredSha512=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireX64Core())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.Hasher,m=i.x64,g=m.Word,Te=m.WordArray,Ie=i.algo;function Oe(){return g.create.apply(g,arguments)}var Ae=[Oe(1116352408,3609767458),Oe(1899447441,602891725),Oe(3049323471,3964484399),Oe(3921009573,2173295548),Oe(961987163,4081628472),Oe(1508970993,3053834265),Oe(2453635748,2937671579),Oe(2870763221,3664609560),Oe(3624381080,2734883394),Oe(310598401,1164996542),Oe(607225278,1323610764),Oe(1426881987,3590304994),Oe(1925078388,4068182383),Oe(2162078206,991336113),Oe(2614888103,633803317),Oe(3248222580,3479774868),Oe(3835390401,2666613458),Oe(4022224774,944711139),Oe(264347078,2341262773),Oe(604807628,2007800933),Oe(770255983,1495990901),Oe(1249150122,1856431235),Oe(1555081692,3175218132),Oe(1996064986,2198950837),Oe(2554220882,3999719339),Oe(2821834349,766784016),Oe(2952996808,2566594879),Oe(3210313671,3203337956),Oe(3336571891,1034457026),Oe(3584528711,2466948901),Oe(113926993,3758326383),Oe(338241895,168717936),Oe(666307205,1188179964),Oe(773529912,1546045734),Oe(1294757372,1522805485),Oe(1396182291,2643833823),Oe(1695183700,2343527390),Oe(1986661051,1014477480),Oe(2177026350,1206759142),Oe(2456956037,344077627),Oe(2730485921,1290863460),Oe(2820302411,3158454273),Oe(3259730800,3505952657),Oe(3345764771,106217008),Oe(3516065817,3606008344),Oe(3600352804,1432725776),Oe(4094571909,1467031594),Oe(275423344,851169720),Oe(430227734,3100823752),Oe(506948616,1363258195),Oe(659060556,3750685593),Oe(883997877,3785050280),Oe(958139571,3318307427),Oe(1322822218,3812723403),Oe(1537002063,2003034995),Oe(1747873779,3602036899),Oe(1955562222,1575990012),Oe(2024104815,1125592928),Oe(2227730452,2716904306),Oe(2361852424,442776044),Oe(2428436474,593698344),Oe(2756734187,3733110249),Oe(3204031479,2999351573),Oe(3329325298,3815920427),Oe(3391569614,3928383900),Oe(3515267271,566280711),Oe(3940187606,3454069534),Oe(4118630271,4000239992),Oe(116418474,1914138554),Oe(174292421,2731055270),Oe(289380356,3203993006),Oe(460393269,320620315),Oe(685471733,587496836),Oe(852142971,1086792851),Oe(1017036298,365543100),Oe(1126000580,2618297676),Oe(1288033470,3409855158),Oe(1501505948,4234509866),Oe(1607167915,987167468),Oe(1816402316,1246189591)],De=[];(function(){for(var qe=0;qe<80;qe++)De[qe]=Oe()})();var _e=Ie.SHA512=f.extend({_doReset:function(){this._hash=new Te.init([new g.init(1779033703,4089235720),new g.init(3144134277,2227873595),new g.init(1013904242,4271175723),new g.init(2773480762,1595750129),new g.init(1359893119,2917565137),new g.init(2600822924,725511199),new g.init(528734635,4215389547),new g.init(1541459225,327033209)])},_doProcessBlock:function(qe,Be){for(var Ne=this._hash.words,Ve=Ne[0],Ue=Ne[1],We=Ne[2],He=Ne[3],Ze=Ne[4],ct=Ne[5],at=Ne[6],gt=Ne[7],yt=Ve.high,tt=Ve.low,pt=Ue.high,nt=Ue.low,mt=We.high,Xe=We.low,Ft=He.high,Zt=He.low,zt=Ze.high,cr=Ze.low,Et=ct.high,St=ct.low,st=at.high,dt=at.low,Bt=gt.high,At=gt.low,Kt=yt,fr=tt,Dr=pt,or=nt,lt=mt,bt=Xe,Xt=Ft,$t=Zt,pr=zt,Qe=cr,It=Et,Ht=St,ht=st,xt=dt,Rt=Bt,er=At,rt=0;rt<80;rt++){var je,Ke,ut=De[rt];if(rt<16)Ke=ut.high=qe[Be+rt*2]|0,je=ut.low=qe[Be+rt*2+1]|0;else{var vt=De[rt-15],Ct=vt.high,Lt=vt.low,sr=(Ct>>>1|Lt<<31)^(Ct>>>8|Lt<<24)^Ct>>>7,Rr=(Lt>>>1|Ct<<31)^(Lt>>>8|Ct<<24)^(Lt>>>7|Ct<<25),qr=De[rt-2],wr=qr.high,dr=qr.low,Vr=(wr>>>19|dr<<13)^(wr<<3|dr>>>29)^wr>>>6,on=(dr>>>19|wr<<13)^(dr<<3|wr>>>29)^(dr>>>6|wr<<26),Ir=De[rt-7],un=Ir.high,Bn=Ir.low,Un=De[rt-16],Er=Un.high,Jt=Un.low;je=Rr+Bn,Ke=sr+un+(je>>>0<Rr>>>0?1:0),je=je+on,Ke=Ke+Vr+(je>>>0<on>>>0?1:0),je=je+Jt,Ke=Ke+Er+(je>>>0<Jt>>>0?1:0),ut.high=Ke,ut.low=je}var yr=pr&It^~pr&ht,it=Qe&Ht^~Qe&xt,kr=Kt&Dr^Kt&lt^Dr&lt,$r=fr&or^fr&bt^or&bt,Cr=(Kt>>>28|fr<<4)^(Kt<<30|fr>>>2)^(Kt<<25|fr>>>7),Pn=(fr>>>28|Kt<<4)^(fr<<30|Kt>>>2)^(fr<<25|Kt>>>7),Or=(pr>>>14|Qe<<18)^(pr>>>18|Qe<<14)^(pr<<23|Qe>>>9),sn=(Qe>>>14|pr<<18)^(Qe>>>18|pr<<14)^(Qe<<23|pr>>>9),ar=Ae[rt],ir=ar.high,Xr=ar.low,Br=er+sn,Tr=Rt+Or+(Br>>>0<er>>>0?1:0),Br=Br+it,Tr=Tr+yr+(Br>>>0<it>>>0?1:0),Br=Br+Xr,Tr=Tr+ir+(Br>>>0<Xr>>>0?1:0),Br=Br+je,Tr=Tr+Ke+(Br>>>0<je>>>0?1:0),Wn=Pn+$r,jn=Cr+kr+(Wn>>>0<Pn>>>0?1:0);Rt=ht,er=xt,ht=It,xt=Ht,It=pr,Ht=Qe,Qe=$t+Br|0,pr=Xt+Tr+(Qe>>>0<$t>>>0?1:0)|0,Xt=lt,$t=bt,lt=Dr,bt=or,Dr=Kt,or=fr,fr=Br+Wn|0,Kt=Tr+jn+(fr>>>0<Br>>>0?1:0)|0}tt=Ve.low=tt+fr,Ve.high=yt+Kt+(tt>>>0<fr>>>0?1:0),nt=Ue.low=nt+or,Ue.high=pt+Dr+(nt>>>0<or>>>0?1:0),Xe=We.low=Xe+bt,We.high=mt+lt+(Xe>>>0<bt>>>0?1:0),Zt=He.low=Zt+$t,He.high=Ft+Xt+(Zt>>>0<$t>>>0?1:0),cr=Ze.low=cr+Qe,Ze.high=zt+pr+(cr>>>0<Qe>>>0?1:0),St=ct.low=St+Ht,ct.high=Et+It+(St>>>0<Ht>>>0?1:0),dt=at.low=dt+xt,at.high=st+ht+(dt>>>0<xt>>>0?1:0),At=gt.low=At+er,gt.high=Bt+Rt+(At>>>0<er>>>0?1:0)},_doFinalize:function(){var qe=this._data,Be=qe.words,Ne=this._nDataBytes*8,Ve=qe.sigBytes*8;Be[Ve>>>5]|=128<<24-Ve%32,Be[(Ve+128>>>10<<5)+30]=Math.floor(Ne/4294967296),Be[(Ve+128>>>10<<5)+31]=Ne,qe.sigBytes=Be.length*4,this._process();var Ue=this._hash.toX32();return Ue},clone:function(){var qe=f.clone.call(this);return qe._hash=this._hash.clone(),qe},blockSize:1024/32});i.SHA512=f._createHelper(_e),i.HmacSHA512=f._createHmacHelper(_e)}(),e.SHA512})}(sha512)),sha512.exports}var sha384={exports:{}},hasRequiredSha384;function requireSha384(){return hasRequiredSha384||(hasRequiredSha384=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireX64Core(),requireSha512())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.x64,f=c.Word,m=c.WordArray,g=i.algo,Te=g.SHA512,Ie=g.SHA384=Te.extend({_doReset:function(){this._hash=new m.init([new f.init(3418070365,3238371032),new f.init(1654270250,914150663),new f.init(2438529370,812702999),new f.init(355462360,4144912697),new f.init(1731405415,4290775857),new f.init(2394180231,1750603025),new f.init(3675008525,1694076839),new f.init(1203062813,3204075428)])},_doFinalize:function(){var Oe=Te._doFinalize.call(this);return Oe.sigBytes-=16,Oe}});i.SHA384=Te._createHelper(Ie),i.HmacSHA384=Te._createHmacHelper(Ie)}(),e.SHA384})}(sha384)),sha384.exports}var sha3={exports:{}},hasRequiredSha3;function requireSha3(){return hasRequiredSha3||(hasRequiredSha3=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireX64Core())})(commonjsGlobal$1,function(e){return function(i){var c=e,f=c.lib,m=f.WordArray,g=f.Hasher,Te=c.x64,Ie=Te.Word,Oe=c.algo,Ae=[],De=[],_e=[];(function(){for(var Ne=1,Ve=0,Ue=0;Ue<24;Ue++){Ae[Ne+5*Ve]=(Ue+1)*(Ue+2)/2%64;var We=Ve%5,He=(2*Ne+3*Ve)%5;Ne=We,Ve=He}for(var Ne=0;Ne<5;Ne++)for(var Ve=0;Ve<5;Ve++)De[Ne+5*Ve]=Ve+(2*Ne+3*Ve)%5*5;for(var Ze=1,ct=0;ct<24;ct++){for(var at=0,gt=0,yt=0;yt<7;yt++){if(Ze&1){var tt=(1<<yt)-1;tt<32?gt^=1<<tt:at^=1<<tt-32}Ze&128?Ze=Ze<<1^113:Ze<<=1}_e[ct]=Ie.create(at,gt)}})();var qe=[];(function(){for(var Ne=0;Ne<25;Ne++)qe[Ne]=Ie.create()})();var Be=Oe.SHA3=g.extend({cfg:g.cfg.extend({outputLength:512}),_doReset:function(){for(var Ne=this._state=[],Ve=0;Ve<25;Ve++)Ne[Ve]=new Ie.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(Ne,Ve){for(var Ue=this._state,We=this.blockSize/2,He=0;He<We;He++){var Ze=Ne[Ve+2*He],ct=Ne[Ve+2*He+1];Ze=(Ze<<8|Ze>>>24)&16711935|(Ze<<24|Ze>>>8)&4278255360,ct=(ct<<8|ct>>>24)&16711935|(ct<<24|ct>>>8)&4278255360;var at=Ue[He];at.high^=ct,at.low^=Ze}for(var gt=0;gt<24;gt++){for(var yt=0;yt<5;yt++){for(var tt=0,pt=0,nt=0;nt<5;nt++){var at=Ue[yt+5*nt];tt^=at.high,pt^=at.low}var mt=qe[yt];mt.high=tt,mt.low=pt}for(var yt=0;yt<5;yt++)for(var Xe=qe[(yt+4)%5],Ft=qe[(yt+1)%5],Zt=Ft.high,zt=Ft.low,tt=Xe.high^(Zt<<1|zt>>>31),pt=Xe.low^(zt<<1|Zt>>>31),nt=0;nt<5;nt++){var at=Ue[yt+5*nt];at.high^=tt,at.low^=pt}for(var cr=1;cr<25;cr++){var tt,pt,at=Ue[cr],Et=at.high,St=at.low,st=Ae[cr];st<32?(tt=Et<<st|St>>>32-st,pt=St<<st|Et>>>32-st):(tt=St<<st-32|Et>>>64-st,pt=Et<<st-32|St>>>64-st);var dt=qe[De[cr]];dt.high=tt,dt.low=pt}var Bt=qe[0],At=Ue[0];Bt.high=At.high,Bt.low=At.low;for(var yt=0;yt<5;yt++)for(var nt=0;nt<5;nt++){var cr=yt+5*nt,at=Ue[cr],Kt=qe[cr],fr=qe[(yt+1)%5+5*nt],Dr=qe[(yt+2)%5+5*nt];at.high=Kt.high^~fr.high&Dr.high,at.low=Kt.low^~fr.low&Dr.low}var at=Ue[0],or=_e[gt];at.high^=or.high,at.low^=or.low}},_doFinalize:function(){var Ne=this._data,Ve=Ne.words;this._nDataBytes*8;var Ue=Ne.sigBytes*8,We=this.blockSize*32;Ve[Ue>>>5]|=1<<24-Ue%32,Ve[(i.ceil((Ue+1)/We)*We>>>5)-1]|=128,Ne.sigBytes=Ve.length*4,this._process();for(var He=this._state,Ze=this.cfg.outputLength/8,ct=Ze/8,at=[],gt=0;gt<ct;gt++){var yt=He[gt],tt=yt.high,pt=yt.low;tt=(tt<<8|tt>>>24)&16711935|(tt<<24|tt>>>8)&4278255360,pt=(pt<<8|pt>>>24)&16711935|(pt<<24|pt>>>8)&4278255360,at.push(pt),at.push(tt)}return new m.init(at,Ze)},clone:function(){for(var Ne=g.clone.call(this),Ve=Ne._state=this._state.slice(0),Ue=0;Ue<25;Ue++)Ve[Ue]=Ve[Ue].clone();return Ne}});c.SHA3=g._createHelper(Be),c.HmacSHA3=g._createHmacHelper(Be)}(Math),e.SHA3})}(sha3)),sha3.exports}var ripemd160={exports:{}},hasRequiredRipemd160;function requireRipemd160(){return hasRequiredRipemd160||(hasRequiredRipemd160=1,function(_,o){(function(e,i){_.exports=i(requireCore())})(commonjsGlobal$1,function(e){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(i){var c=e,f=c.lib,m=f.WordArray,g=f.Hasher,Te=c.algo,Ie=m.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),Oe=m.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),Ae=m.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),De=m.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),_e=m.create([0,1518500249,1859775393,2400959708,2840853838]),qe=m.create([1352829926,1548603684,1836072691,2053994217,0]),Be=Te.RIPEMD160=g.extend({_doReset:function(){this._hash=m.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(ct,at){for(var gt=0;gt<16;gt++){var yt=at+gt,tt=ct[yt];ct[yt]=(tt<<8|tt>>>24)&16711935|(tt<<24|tt>>>8)&4278255360}var pt=this._hash.words,nt=_e.words,mt=qe.words,Xe=Ie.words,Ft=Oe.words,Zt=Ae.words,zt=De.words,cr,Et,St,st,dt,Bt,At,Kt,fr,Dr;Bt=cr=pt[0],At=Et=pt[1],Kt=St=pt[2],fr=st=pt[3],Dr=dt=pt[4];for(var or,gt=0;gt<80;gt+=1)or=cr+ct[at+Xe[gt]]|0,gt<16?or+=Ne(Et,St,st)+nt[0]:gt<32?or+=Ve(Et,St,st)+nt[1]:gt<48?or+=Ue(Et,St,st)+nt[2]:gt<64?or+=We(Et,St,st)+nt[3]:or+=He(Et,St,st)+nt[4],or=or|0,or=Ze(or,Zt[gt]),or=or+dt|0,cr=dt,dt=st,st=Ze(St,10),St=Et,Et=or,or=Bt+ct[at+Ft[gt]]|0,gt<16?or+=He(At,Kt,fr)+mt[0]:gt<32?or+=We(At,Kt,fr)+mt[1]:gt<48?or+=Ue(At,Kt,fr)+mt[2]:gt<64?or+=Ve(At,Kt,fr)+mt[3]:or+=Ne(At,Kt,fr)+mt[4],or=or|0,or=Ze(or,zt[gt]),or=or+Dr|0,Bt=Dr,Dr=fr,fr=Ze(Kt,10),Kt=At,At=or;or=pt[1]+St+fr|0,pt[1]=pt[2]+st+Dr|0,pt[2]=pt[3]+dt+Bt|0,pt[3]=pt[4]+cr+At|0,pt[4]=pt[0]+Et+Kt|0,pt[0]=or},_doFinalize:function(){var ct=this._data,at=ct.words,gt=this._nDataBytes*8,yt=ct.sigBytes*8;at[yt>>>5]|=128<<24-yt%32,at[(yt+64>>>9<<4)+14]=(gt<<8|gt>>>24)&16711935|(gt<<24|gt>>>8)&4278255360,ct.sigBytes=(at.length+1)*4,this._process();for(var tt=this._hash,pt=tt.words,nt=0;nt<5;nt++){var mt=pt[nt];pt[nt]=(mt<<8|mt>>>24)&16711935|(mt<<24|mt>>>8)&4278255360}return tt},clone:function(){var ct=g.clone.call(this);return ct._hash=this._hash.clone(),ct}});function Ne(ct,at,gt){return ct^at^gt}function Ve(ct,at,gt){return ct&at|~ct&gt}function Ue(ct,at,gt){return(ct|~at)^gt}function We(ct,at,gt){return ct&gt|at&~gt}function He(ct,at,gt){return ct^(at|~gt)}function Ze(ct,at){return ct<<at|ct>>>32-at}c.RIPEMD160=g._createHelper(Be),c.HmacRIPEMD160=g._createHmacHelper(Be)}(),e.RIPEMD160})}(ripemd160)),ripemd160.exports}var hmac={exports:{}},hasRequiredHmac;function requireHmac(){return hasRequiredHmac||(hasRequiredHmac=1,function(_,o){(function(e,i){_.exports=i(requireCore())})(commonjsGlobal$1,function(e){(function(){var i=e,c=i.lib,f=c.Base,m=i.enc,g=m.Utf8,Te=i.algo;Te.HMAC=f.extend({init:function(Ie,Oe){Ie=this._hasher=new Ie.init,typeof Oe=="string"&&(Oe=g.parse(Oe));var Ae=Ie.blockSize,De=Ae*4;Oe.sigBytes>De&&(Oe=Ie.finalize(Oe)),Oe.clamp();for(var _e=this._oKey=Oe.clone(),qe=this._iKey=Oe.clone(),Be=_e.words,Ne=qe.words,Ve=0;Ve<Ae;Ve++)Be[Ve]^=1549556828,Ne[Ve]^=909522486;_e.sigBytes=qe.sigBytes=De,this.reset()},reset:function(){var Ie=this._hasher;Ie.reset(),Ie.update(this._iKey)},update:function(Ie){return this._hasher.update(Ie),this},finalize:function(Ie){var Oe=this._hasher,Ae=Oe.finalize(Ie);Oe.reset();var De=Oe.finalize(this._oKey.clone().concat(Ae));return De}})})()})}(hmac)),hmac.exports}var pbkdf2={exports:{}},hasRequiredPbkdf2;function requirePbkdf2(){return hasRequiredPbkdf2||(hasRequiredPbkdf2=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireSha256(),requireHmac())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.Base,m=c.WordArray,g=i.algo,Te=g.SHA256,Ie=g.HMAC,Oe=g.PBKDF2=f.extend({cfg:f.extend({keySize:128/32,hasher:Te,iterations:25e4}),init:function(Ae){this.cfg=this.cfg.extend(Ae)},compute:function(Ae,De){for(var _e=this.cfg,qe=Ie.create(_e.hasher,Ae),Be=m.create(),Ne=m.create([1]),Ve=Be.words,Ue=Ne.words,We=_e.keySize,He=_e.iterations;Ve.length<We;){var Ze=qe.update(De).finalize(Ne);qe.reset();for(var ct=Ze.words,at=ct.length,gt=Ze,yt=1;yt<He;yt++){gt=qe.finalize(gt),qe.reset();for(var tt=gt.words,pt=0;pt<at;pt++)ct[pt]^=tt[pt]}Be.concat(Ze),Ue[0]++}return Be.sigBytes=We*4,Be}});i.PBKDF2=function(Ae,De,_e){return Oe.create(_e).compute(Ae,De)}}(),e.PBKDF2})}(pbkdf2)),pbkdf2.exports}var evpkdf={exports:{}},hasRequiredEvpkdf;function requireEvpkdf(){return hasRequiredEvpkdf||(hasRequiredEvpkdf=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireSha1(),requireHmac())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.Base,m=c.WordArray,g=i.algo,Te=g.MD5,Ie=g.EvpKDF=f.extend({cfg:f.extend({keySize:128/32,hasher:Te,iterations:1}),init:function(Oe){this.cfg=this.cfg.extend(Oe)},compute:function(Oe,Ae){for(var De,_e=this.cfg,qe=_e.hasher.create(),Be=m.create(),Ne=Be.words,Ve=_e.keySize,Ue=_e.iterations;Ne.length<Ve;){De&&qe.update(De),De=qe.update(Oe).finalize(Ae),qe.reset();for(var We=1;We<Ue;We++)De=qe.finalize(De),qe.reset();Be.concat(De)}return Be.sigBytes=Ve*4,Be}});i.EvpKDF=function(Oe,Ae,De){return Ie.create(De).compute(Oe,Ae)}}(),e.EvpKDF})}(evpkdf)),evpkdf.exports}var cipherCore={exports:{}},hasRequiredCipherCore;function requireCipherCore(){return hasRequiredCipherCore||(hasRequiredCipherCore=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireEvpkdf())})(commonjsGlobal$1,function(e){e.lib.Cipher||function(i){var c=e,f=c.lib,m=f.Base,g=f.WordArray,Te=f.BufferedBlockAlgorithm,Ie=c.enc;Ie.Utf8;var Oe=Ie.Base64,Ae=c.algo,De=Ae.EvpKDF,_e=f.Cipher=Te.extend({cfg:m.extend(),createEncryptor:function(tt,pt){return this.create(this._ENC_XFORM_MODE,tt,pt)},createDecryptor:function(tt,pt){return this.create(this._DEC_XFORM_MODE,tt,pt)},init:function(tt,pt,nt){this.cfg=this.cfg.extend(nt),this._xformMode=tt,this._key=pt,this.reset()},reset:function(){Te.reset.call(this),this._doReset()},process:function(tt){return this._append(tt),this._process()},finalize:function(tt){tt&&this._append(tt);var pt=this._doFinalize();return pt},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function tt(pt){return typeof pt=="string"?yt:ct}return function(pt){return{encrypt:function(nt,mt,Xe){return tt(mt).encrypt(pt,nt,mt,Xe)},decrypt:function(nt,mt,Xe){return tt(mt).decrypt(pt,nt,mt,Xe)}}}}()});f.StreamCipher=_e.extend({_doFinalize:function(){var tt=this._process(!0);return tt},blockSize:1});var qe=c.mode={},Be=f.BlockCipherMode=m.extend({createEncryptor:function(tt,pt){return this.Encryptor.create(tt,pt)},createDecryptor:function(tt,pt){return this.Decryptor.create(tt,pt)},init:function(tt,pt){this._cipher=tt,this._iv=pt}}),Ne=qe.CBC=function(){var tt=Be.extend();tt.Encryptor=tt.extend({processBlock:function(nt,mt){var Xe=this._cipher,Ft=Xe.blockSize;pt.call(this,nt,mt,Ft),Xe.encryptBlock(nt,mt),this._prevBlock=nt.slice(mt,mt+Ft)}}),tt.Decryptor=tt.extend({processBlock:function(nt,mt){var Xe=this._cipher,Ft=Xe.blockSize,Zt=nt.slice(mt,mt+Ft);Xe.decryptBlock(nt,mt),pt.call(this,nt,mt,Ft),this._prevBlock=Zt}});function pt(nt,mt,Xe){var Ft,Zt=this._iv;Zt?(Ft=Zt,this._iv=i):Ft=this._prevBlock;for(var zt=0;zt<Xe;zt++)nt[mt+zt]^=Ft[zt]}return tt}(),Ve=c.pad={},Ue=Ve.Pkcs7={pad:function(tt,pt){for(var nt=pt*4,mt=nt-tt.sigBytes%nt,Xe=mt<<24|mt<<16|mt<<8|mt,Ft=[],Zt=0;Zt<mt;Zt+=4)Ft.push(Xe);var zt=g.create(Ft,mt);tt.concat(zt)},unpad:function(tt){var pt=tt.words[tt.sigBytes-1>>>2]&255;tt.sigBytes-=pt}};f.BlockCipher=_e.extend({cfg:_e.cfg.extend({mode:Ne,padding:Ue}),reset:function(){var tt;_e.reset.call(this);var pt=this.cfg,nt=pt.iv,mt=pt.mode;this._xformMode==this._ENC_XFORM_MODE?tt=mt.createEncryptor:(tt=mt.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==tt?this._mode.init(this,nt&&nt.words):(this._mode=tt.call(mt,this,nt&&nt.words),this._mode.__creator=tt)},_doProcessBlock:function(tt,pt){this._mode.processBlock(tt,pt)},_doFinalize:function(){var tt,pt=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(pt.pad(this._data,this.blockSize),tt=this._process(!0)):(tt=this._process(!0),pt.unpad(tt)),tt},blockSize:128/32});var We=f.CipherParams=m.extend({init:function(tt){this.mixIn(tt)},toString:function(tt){return(tt||this.formatter).stringify(this)}}),He=c.format={},Ze=He.OpenSSL={stringify:function(tt){var pt,nt=tt.ciphertext,mt=tt.salt;return mt?pt=g.create([1398893684,1701076831]).concat(mt).concat(nt):pt=nt,pt.toString(Oe)},parse:function(tt){var pt,nt=Oe.parse(tt),mt=nt.words;return mt[0]==1398893684&&mt[1]==1701076831&&(pt=g.create(mt.slice(2,4)),mt.splice(0,4),nt.sigBytes-=16),We.create({ciphertext:nt,salt:pt})}},ct=f.SerializableCipher=m.extend({cfg:m.extend({format:Ze}),encrypt:function(tt,pt,nt,mt){mt=this.cfg.extend(mt);var Xe=tt.createEncryptor(nt,mt),Ft=Xe.finalize(pt),Zt=Xe.cfg;return We.create({ciphertext:Ft,key:nt,iv:Zt.iv,algorithm:tt,mode:Zt.mode,padding:Zt.padding,blockSize:tt.blockSize,formatter:mt.format})},decrypt:function(tt,pt,nt,mt){mt=this.cfg.extend(mt),pt=this._parse(pt,mt.format);var Xe=tt.createDecryptor(nt,mt).finalize(pt.ciphertext);return Xe},_parse:function(tt,pt){return typeof tt=="string"?pt.parse(tt,this):tt}}),at=c.kdf={},gt=at.OpenSSL={execute:function(tt,pt,nt,mt,Xe){if(mt||(mt=g.random(64/8)),Xe)var Ft=De.create({keySize:pt+nt,hasher:Xe}).compute(tt,mt);else var Ft=De.create({keySize:pt+nt}).compute(tt,mt);var Zt=g.create(Ft.words.slice(pt),nt*4);return Ft.sigBytes=pt*4,We.create({key:Ft,iv:Zt,salt:mt})}},yt=f.PasswordBasedCipher=ct.extend({cfg:ct.cfg.extend({kdf:gt}),encrypt:function(tt,pt,nt,mt){mt=this.cfg.extend(mt);var Xe=mt.kdf.execute(nt,tt.keySize,tt.ivSize,mt.salt,mt.hasher);mt.iv=Xe.iv;var Ft=ct.encrypt.call(this,tt,pt,Xe.key,mt);return Ft.mixIn(Xe),Ft},decrypt:function(tt,pt,nt,mt){mt=this.cfg.extend(mt),pt=this._parse(pt,mt.format);var Xe=mt.kdf.execute(nt,tt.keySize,tt.ivSize,pt.salt,mt.hasher);mt.iv=Xe.iv;var Ft=ct.decrypt.call(this,tt,pt,Xe.key,mt);return Ft}})}()})}(cipherCore)),cipherCore.exports}var modeCfb={exports:{}},hasRequiredModeCfb;function requireModeCfb(){return hasRequiredModeCfb||(hasRequiredModeCfb=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return e.mode.CFB=function(){var i=e.lib.BlockCipherMode.extend();i.Encryptor=i.extend({processBlock:function(f,m){var g=this._cipher,Te=g.blockSize;c.call(this,f,m,Te,g),this._prevBlock=f.slice(m,m+Te)}}),i.Decryptor=i.extend({processBlock:function(f,m){var g=this._cipher,Te=g.blockSize,Ie=f.slice(m,m+Te);c.call(this,f,m,Te,g),this._prevBlock=Ie}});function c(f,m,g,Te){var Ie,Oe=this._iv;Oe?(Ie=Oe.slice(0),this._iv=void 0):Ie=this._prevBlock,Te.encryptBlock(Ie,0);for(var Ae=0;Ae<g;Ae++)f[m+Ae]^=Ie[Ae]}return i}(),e.mode.CFB})}(modeCfb)),modeCfb.exports}var modeCtr={exports:{}},hasRequiredModeCtr;function requireModeCtr(){return hasRequiredModeCtr||(hasRequiredModeCtr=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return e.mode.CTR=function(){var i=e.lib.BlockCipherMode.extend(),c=i.Encryptor=i.extend({processBlock:function(f,m){var g=this._cipher,Te=g.blockSize,Ie=this._iv,Oe=this._counter;Ie&&(Oe=this._counter=Ie.slice(0),this._iv=void 0);var Ae=Oe.slice(0);g.encryptBlock(Ae,0),Oe[Te-1]=Oe[Te-1]+1|0;for(var De=0;De<Te;De++)f[m+De]^=Ae[De]}});return i.Decryptor=c,i}(),e.mode.CTR})}(modeCtr)),modeCtr.exports}var modeCtrGladman={exports:{}},hasRequiredModeCtrGladman;function requireModeCtrGladman(){return hasRequiredModeCtrGladman||(hasRequiredModeCtrGladman=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return e.mode.CTRGladman=function(){var i=e.lib.BlockCipherMode.extend();function c(g){if((g>>24&255)===255){var Te=g>>16&255,Ie=g>>8&255,Oe=g&255;Te===255?(Te=0,Ie===255?(Ie=0,Oe===255?Oe=0:++Oe):++Ie):++Te,g=0,g+=Te<<16,g+=Ie<<8,g+=Oe}else g+=1<<24;return g}function f(g){return(g[0]=c(g[0]))===0&&(g[1]=c(g[1])),g}var m=i.Encryptor=i.extend({processBlock:function(g,Te){var Ie=this._cipher,Oe=Ie.blockSize,Ae=this._iv,De=this._counter;Ae&&(De=this._counter=Ae.slice(0),this._iv=void 0),f(De);var _e=De.slice(0);Ie.encryptBlock(_e,0);for(var qe=0;qe<Oe;qe++)g[Te+qe]^=_e[qe]}});return i.Decryptor=m,i}(),e.mode.CTRGladman})}(modeCtrGladman)),modeCtrGladman.exports}var modeOfb={exports:{}},hasRequiredModeOfb;function requireModeOfb(){return hasRequiredModeOfb||(hasRequiredModeOfb=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return e.mode.OFB=function(){var i=e.lib.BlockCipherMode.extend(),c=i.Encryptor=i.extend({processBlock:function(f,m){var g=this._cipher,Te=g.blockSize,Ie=this._iv,Oe=this._keystream;Ie&&(Oe=this._keystream=Ie.slice(0),this._iv=void 0),g.encryptBlock(Oe,0);for(var Ae=0;Ae<Te;Ae++)f[m+Ae]^=Oe[Ae]}});return i.Decryptor=c,i}(),e.mode.OFB})}(modeOfb)),modeOfb.exports}var modeEcb={exports:{}},hasRequiredModeEcb;function requireModeEcb(){return hasRequiredModeEcb||(hasRequiredModeEcb=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return e.mode.ECB=function(){var i=e.lib.BlockCipherMode.extend();return i.Encryptor=i.extend({processBlock:function(c,f){this._cipher.encryptBlock(c,f)}}),i.Decryptor=i.extend({processBlock:function(c,f){this._cipher.decryptBlock(c,f)}}),i}(),e.mode.ECB})}(modeEcb)),modeEcb.exports}var padAnsix923={exports:{}},hasRequiredPadAnsix923;function requirePadAnsix923(){return hasRequiredPadAnsix923||(hasRequiredPadAnsix923=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return e.pad.AnsiX923={pad:function(i,c){var f=i.sigBytes,m=c*4,g=m-f%m,Te=f+g-1;i.clamp(),i.words[Te>>>2]|=g<<24-Te%4*8,i.sigBytes+=g},unpad:function(i){var c=i.words[i.sigBytes-1>>>2]&255;i.sigBytes-=c}},e.pad.Ansix923})}(padAnsix923)),padAnsix923.exports}var padIso10126={exports:{}},hasRequiredPadIso10126;function requirePadIso10126(){return hasRequiredPadIso10126||(hasRequiredPadIso10126=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return e.pad.Iso10126={pad:function(i,c){var f=c*4,m=f-i.sigBytes%f;i.concat(e.lib.WordArray.random(m-1)).concat(e.lib.WordArray.create([m<<24],1))},unpad:function(i){var c=i.words[i.sigBytes-1>>>2]&255;i.sigBytes-=c}},e.pad.Iso10126})}(padIso10126)),padIso10126.exports}var padIso97971={exports:{}},hasRequiredPadIso97971;function requirePadIso97971(){return hasRequiredPadIso97971||(hasRequiredPadIso97971=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return e.pad.Iso97971={pad:function(i,c){i.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(i,c)},unpad:function(i){e.pad.ZeroPadding.unpad(i),i.sigBytes--}},e.pad.Iso97971})}(padIso97971)),padIso97971.exports}var padZeropadding={exports:{}},hasRequiredPadZeropadding;function requirePadZeropadding(){return hasRequiredPadZeropadding||(hasRequiredPadZeropadding=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return e.pad.ZeroPadding={pad:function(i,c){var f=c*4;i.clamp(),i.sigBytes+=f-(i.sigBytes%f||f)},unpad:function(i){for(var c=i.words,f=i.sigBytes-1,f=i.sigBytes-1;f>=0;f--)if(c[f>>>2]>>>24-f%4*8&255){i.sigBytes=f+1;break}}},e.pad.ZeroPadding})}(padZeropadding)),padZeropadding.exports}var padNopadding={exports:{}},hasRequiredPadNopadding;function requirePadNopadding(){return hasRequiredPadNopadding||(hasRequiredPadNopadding=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding})}(padNopadding)),padNopadding.exports}var formatHex={exports:{}},hasRequiredFormatHex;function requireFormatHex(){return hasRequiredFormatHex||(hasRequiredFormatHex=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return function(i){var c=e,f=c.lib,m=f.CipherParams,g=c.enc,Te=g.Hex,Ie=c.format;Ie.Hex={stringify:function(Oe){return Oe.ciphertext.toString(Te)},parse:function(Oe){var Ae=Te.parse(Oe);return m.create({ciphertext:Ae})}}}(),e.format.Hex})}(formatHex)),formatHex.exports}var aes={exports:{}},hasRequiredAes;function requireAes(){return hasRequiredAes||(hasRequiredAes=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.BlockCipher,m=i.algo,g=[],Te=[],Ie=[],Oe=[],Ae=[],De=[],_e=[],qe=[],Be=[],Ne=[];(function(){for(var We=[],He=0;He<256;He++)He<128?We[He]=He<<1:We[He]=He<<1^283;for(var Ze=0,ct=0,He=0;He<256;He++){var at=ct^ct<<1^ct<<2^ct<<3^ct<<4;at=at>>>8^at&255^99,g[Ze]=at,Te[at]=Ze;var gt=We[Ze],yt=We[gt],tt=We[yt],pt=We[at]*257^at*16843008;Ie[Ze]=pt<<24|pt>>>8,Oe[Ze]=pt<<16|pt>>>16,Ae[Ze]=pt<<8|pt>>>24,De[Ze]=pt;var pt=tt*16843009^yt*65537^gt*257^Ze*16843008;_e[at]=pt<<24|pt>>>8,qe[at]=pt<<16|pt>>>16,Be[at]=pt<<8|pt>>>24,Ne[at]=pt,Ze?(Ze=gt^We[We[We[tt^gt]]],ct^=We[We[ct]]):Ze=ct=1}})();var Ve=[0,1,2,4,8,16,32,64,128,27,54],Ue=m.AES=f.extend({_doReset:function(){var We;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var He=this._keyPriorReset=this._key,Ze=He.words,ct=He.sigBytes/4,at=this._nRounds=ct+6,gt=(at+1)*4,yt=this._keySchedule=[],tt=0;tt<gt;tt++)tt<ct?yt[tt]=Ze[tt]:(We=yt[tt-1],tt%ct?ct>6&&tt%ct==4&&(We=g[We>>>24]<<24|g[We>>>16&255]<<16|g[We>>>8&255]<<8|g[We&255]):(We=We<<8|We>>>24,We=g[We>>>24]<<24|g[We>>>16&255]<<16|g[We>>>8&255]<<8|g[We&255],We^=Ve[tt/ct|0]<<24),yt[tt]=yt[tt-ct]^We);for(var pt=this._invKeySchedule=[],nt=0;nt<gt;nt++){var tt=gt-nt;if(nt%4)var We=yt[tt];else var We=yt[tt-4];nt<4||tt<=4?pt[nt]=We:pt[nt]=_e[g[We>>>24]]^qe[g[We>>>16&255]]^Be[g[We>>>8&255]]^Ne[g[We&255]]}}},encryptBlock:function(We,He){this._doCryptBlock(We,He,this._keySchedule,Ie,Oe,Ae,De,g)},decryptBlock:function(We,He){var Ze=We[He+1];We[He+1]=We[He+3],We[He+3]=Ze,this._doCryptBlock(We,He,this._invKeySchedule,_e,qe,Be,Ne,Te);var Ze=We[He+1];We[He+1]=We[He+3],We[He+3]=Ze},_doCryptBlock:function(We,He,Ze,ct,at,gt,yt,tt){for(var pt=this._nRounds,nt=We[He]^Ze[0],mt=We[He+1]^Ze[1],Xe=We[He+2]^Ze[2],Ft=We[He+3]^Ze[3],Zt=4,zt=1;zt<pt;zt++){var cr=ct[nt>>>24]^at[mt>>>16&255]^gt[Xe>>>8&255]^yt[Ft&255]^Ze[Zt++],Et=ct[mt>>>24]^at[Xe>>>16&255]^gt[Ft>>>8&255]^yt[nt&255]^Ze[Zt++],St=ct[Xe>>>24]^at[Ft>>>16&255]^gt[nt>>>8&255]^yt[mt&255]^Ze[Zt++],st=ct[Ft>>>24]^at[nt>>>16&255]^gt[mt>>>8&255]^yt[Xe&255]^Ze[Zt++];nt=cr,mt=Et,Xe=St,Ft=st}var cr=(tt[nt>>>24]<<24|tt[mt>>>16&255]<<16|tt[Xe>>>8&255]<<8|tt[Ft&255])^Ze[Zt++],Et=(tt[mt>>>24]<<24|tt[Xe>>>16&255]<<16|tt[Ft>>>8&255]<<8|tt[nt&255])^Ze[Zt++],St=(tt[Xe>>>24]<<24|tt[Ft>>>16&255]<<16|tt[nt>>>8&255]<<8|tt[mt&255])^Ze[Zt++],st=(tt[Ft>>>24]<<24|tt[nt>>>16&255]<<16|tt[mt>>>8&255]<<8|tt[Xe&255])^Ze[Zt++];We[He]=cr,We[He+1]=Et,We[He+2]=St,We[He+3]=st},keySize:256/32});i.AES=f._createHelper(Ue)}(),e.AES})}(aes)),aes.exports}var tripledes={exports:{}},hasRequiredTripledes;function requireTripledes(){return hasRequiredTripledes||(hasRequiredTripledes=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.WordArray,m=c.BlockCipher,g=i.algo,Te=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],Ie=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],Oe=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],Ae=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],De=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],_e=g.DES=m.extend({_doReset:function(){for(var Ve=this._key,Ue=Ve.words,We=[],He=0;He<56;He++){var Ze=Te[He]-1;We[He]=Ue[Ze>>>5]>>>31-Ze%32&1}for(var ct=this._subKeys=[],at=0;at<16;at++){for(var gt=ct[at]=[],yt=Oe[at],He=0;He<24;He++)gt[He/6|0]|=We[(Ie[He]-1+yt)%28]<<31-He%6,gt[4+(He/6|0)]|=We[28+(Ie[He+24]-1+yt)%28]<<31-He%6;gt[0]=gt[0]<<1|gt[0]>>>31;for(var He=1;He<7;He++)gt[He]=gt[He]>>>(He-1)*4+3;gt[7]=gt[7]<<5|gt[7]>>>27}for(var tt=this._invSubKeys=[],He=0;He<16;He++)tt[He]=ct[15-He]},encryptBlock:function(Ve,Ue){this._doCryptBlock(Ve,Ue,this._subKeys)},decryptBlock:function(Ve,Ue){this._doCryptBlock(Ve,Ue,this._invSubKeys)},_doCryptBlock:function(Ve,Ue,We){this._lBlock=Ve[Ue],this._rBlock=Ve[Ue+1],qe.call(this,4,252645135),qe.call(this,16,65535),Be.call(this,2,858993459),Be.call(this,8,16711935),qe.call(this,1,1431655765);for(var He=0;He<16;He++){for(var Ze=We[He],ct=this._lBlock,at=this._rBlock,gt=0,yt=0;yt<8;yt++)gt|=Ae[yt][((at^Ze[yt])&De[yt])>>>0];this._lBlock=at,this._rBlock=ct^gt}var tt=this._lBlock;this._lBlock=this._rBlock,this._rBlock=tt,qe.call(this,1,1431655765),Be.call(this,8,16711935),Be.call(this,2,858993459),qe.call(this,16,65535),qe.call(this,4,252645135),Ve[Ue]=this._lBlock,Ve[Ue+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function qe(Ve,Ue){var We=(this._lBlock>>>Ve^this._rBlock)&Ue;this._rBlock^=We,this._lBlock^=We<<Ve}function Be(Ve,Ue){var We=(this._rBlock>>>Ve^this._lBlock)&Ue;this._lBlock^=We,this._rBlock^=We<<Ve}i.DES=m._createHelper(_e);var Ne=g.TripleDES=m.extend({_doReset:function(){var Ve=this._key,Ue=Ve.words;if(Ue.length!==2&&Ue.length!==4&&Ue.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var We=Ue.slice(0,2),He=Ue.length<4?Ue.slice(0,2):Ue.slice(2,4),Ze=Ue.length<6?Ue.slice(0,2):Ue.slice(4,6);this._des1=_e.createEncryptor(f.create(We)),this._des2=_e.createEncryptor(f.create(He)),this._des3=_e.createEncryptor(f.create(Ze))},encryptBlock:function(Ve,Ue){this._des1.encryptBlock(Ve,Ue),this._des2.decryptBlock(Ve,Ue),this._des3.encryptBlock(Ve,Ue)},decryptBlock:function(Ve,Ue){this._des3.decryptBlock(Ve,Ue),this._des2.encryptBlock(Ve,Ue),this._des1.decryptBlock(Ve,Ue)},keySize:192/32,ivSize:64/32,blockSize:64/32});i.TripleDES=m._createHelper(Ne)}(),e.TripleDES})}(tripledes)),tripledes.exports}var rc4={exports:{}},hasRequiredRc4;function requireRc4(){return hasRequiredRc4||(hasRequiredRc4=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.StreamCipher,m=i.algo,g=m.RC4=f.extend({_doReset:function(){for(var Oe=this._key,Ae=Oe.words,De=Oe.sigBytes,_e=this._S=[],qe=0;qe<256;qe++)_e[qe]=qe;for(var qe=0,Be=0;qe<256;qe++){var Ne=qe%De,Ve=Ae[Ne>>>2]>>>24-Ne%4*8&255;Be=(Be+_e[qe]+Ve)%256;var Ue=_e[qe];_e[qe]=_e[Be],_e[Be]=Ue}this._i=this._j=0},_doProcessBlock:function(Oe,Ae){Oe[Ae]^=Te.call(this)},keySize:256/32,ivSize:0});function Te(){for(var Oe=this._S,Ae=this._i,De=this._j,_e=0,qe=0;qe<4;qe++){Ae=(Ae+1)%256,De=(De+Oe[Ae])%256;var Be=Oe[Ae];Oe[Ae]=Oe[De],Oe[De]=Be,_e|=Oe[(Oe[Ae]+Oe[De])%256]<<24-qe*8}return this._i=Ae,this._j=De,_e}i.RC4=f._createHelper(g);var Ie=m.RC4Drop=g.extend({cfg:g.cfg.extend({drop:192}),_doReset:function(){g._doReset.call(this);for(var Oe=this.cfg.drop;Oe>0;Oe--)Te.call(this)}});i.RC4Drop=f._createHelper(Ie)}(),e.RC4})}(rc4)),rc4.exports}var rabbit={exports:{}},hasRequiredRabbit;function requireRabbit(){return hasRequiredRabbit||(hasRequiredRabbit=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.StreamCipher,m=i.algo,g=[],Te=[],Ie=[],Oe=m.Rabbit=f.extend({_doReset:function(){for(var De=this._key.words,_e=this.cfg.iv,qe=0;qe<4;qe++)De[qe]=(De[qe]<<8|De[qe]>>>24)&16711935|(De[qe]<<24|De[qe]>>>8)&4278255360;var Be=this._X=[De[0],De[3]<<16|De[2]>>>16,De[1],De[0]<<16|De[3]>>>16,De[2],De[1]<<16|De[0]>>>16,De[3],De[2]<<16|De[1]>>>16],Ne=this._C=[De[2]<<16|De[2]>>>16,De[0]&4294901760|De[1]&65535,De[3]<<16|De[3]>>>16,De[1]&4294901760|De[2]&65535,De[0]<<16|De[0]>>>16,De[2]&4294901760|De[3]&65535,De[1]<<16|De[1]>>>16,De[3]&4294901760|De[0]&65535];this._b=0;for(var qe=0;qe<4;qe++)Ae.call(this);for(var qe=0;qe<8;qe++)Ne[qe]^=Be[qe+4&7];if(_e){var Ve=_e.words,Ue=Ve[0],We=Ve[1],He=(Ue<<8|Ue>>>24)&16711935|(Ue<<24|Ue>>>8)&4278255360,Ze=(We<<8|We>>>24)&16711935|(We<<24|We>>>8)&4278255360,ct=He>>>16|Ze&4294901760,at=Ze<<16|He&65535;Ne[0]^=He,Ne[1]^=ct,Ne[2]^=Ze,Ne[3]^=at,Ne[4]^=He,Ne[5]^=ct,Ne[6]^=Ze,Ne[7]^=at;for(var qe=0;qe<4;qe++)Ae.call(this)}},_doProcessBlock:function(De,_e){var qe=this._X;Ae.call(this),g[0]=qe[0]^qe[5]>>>16^qe[3]<<16,g[1]=qe[2]^qe[7]>>>16^qe[5]<<16,g[2]=qe[4]^qe[1]>>>16^qe[7]<<16,g[3]=qe[6]^qe[3]>>>16^qe[1]<<16;for(var Be=0;Be<4;Be++)g[Be]=(g[Be]<<8|g[Be]>>>24)&16711935|(g[Be]<<24|g[Be]>>>8)&4278255360,De[_e+Be]^=g[Be]},blockSize:128/32,ivSize:64/32});function Ae(){for(var De=this._X,_e=this._C,qe=0;qe<8;qe++)Te[qe]=_e[qe];_e[0]=_e[0]+1295307597+this._b|0,_e[1]=_e[1]+3545052371+(_e[0]>>>0<Te[0]>>>0?1:0)|0,_e[2]=_e[2]+886263092+(_e[1]>>>0<Te[1]>>>0?1:0)|0,_e[3]=_e[3]+1295307597+(_e[2]>>>0<Te[2]>>>0?1:0)|0,_e[4]=_e[4]+3545052371+(_e[3]>>>0<Te[3]>>>0?1:0)|0,_e[5]=_e[5]+886263092+(_e[4]>>>0<Te[4]>>>0?1:0)|0,_e[6]=_e[6]+1295307597+(_e[5]>>>0<Te[5]>>>0?1:0)|0,_e[7]=_e[7]+3545052371+(_e[6]>>>0<Te[6]>>>0?1:0)|0,this._b=_e[7]>>>0<Te[7]>>>0?1:0;for(var qe=0;qe<8;qe++){var Be=De[qe]+_e[qe],Ne=Be&65535,Ve=Be>>>16,Ue=((Ne*Ne>>>17)+Ne*Ve>>>15)+Ve*Ve,We=((Be&4294901760)*Be|0)+((Be&65535)*Be|0);Ie[qe]=Ue^We}De[0]=Ie[0]+(Ie[7]<<16|Ie[7]>>>16)+(Ie[6]<<16|Ie[6]>>>16)|0,De[1]=Ie[1]+(Ie[0]<<8|Ie[0]>>>24)+Ie[7]|0,De[2]=Ie[2]+(Ie[1]<<16|Ie[1]>>>16)+(Ie[0]<<16|Ie[0]>>>16)|0,De[3]=Ie[3]+(Ie[2]<<8|Ie[2]>>>24)+Ie[1]|0,De[4]=Ie[4]+(Ie[3]<<16|Ie[3]>>>16)+(Ie[2]<<16|Ie[2]>>>16)|0,De[5]=Ie[5]+(Ie[4]<<8|Ie[4]>>>24)+Ie[3]|0,De[6]=Ie[6]+(Ie[5]<<16|Ie[5]>>>16)+(Ie[4]<<16|Ie[4]>>>16)|0,De[7]=Ie[7]+(Ie[6]<<8|Ie[6]>>>24)+Ie[5]|0}i.Rabbit=f._createHelper(Oe)}(),e.Rabbit})}(rabbit)),rabbit.exports}var rabbitLegacy={exports:{}},hasRequiredRabbitLegacy;function requireRabbitLegacy(){return hasRequiredRabbitLegacy||(hasRequiredRabbitLegacy=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.StreamCipher,m=i.algo,g=[],Te=[],Ie=[],Oe=m.RabbitLegacy=f.extend({_doReset:function(){var De=this._key.words,_e=this.cfg.iv,qe=this._X=[De[0],De[3]<<16|De[2]>>>16,De[1],De[0]<<16|De[3]>>>16,De[2],De[1]<<16|De[0]>>>16,De[3],De[2]<<16|De[1]>>>16],Be=this._C=[De[2]<<16|De[2]>>>16,De[0]&4294901760|De[1]&65535,De[3]<<16|De[3]>>>16,De[1]&4294901760|De[2]&65535,De[0]<<16|De[0]>>>16,De[2]&4294901760|De[3]&65535,De[1]<<16|De[1]>>>16,De[3]&4294901760|De[0]&65535];this._b=0;for(var Ne=0;Ne<4;Ne++)Ae.call(this);for(var Ne=0;Ne<8;Ne++)Be[Ne]^=qe[Ne+4&7];if(_e){var Ve=_e.words,Ue=Ve[0],We=Ve[1],He=(Ue<<8|Ue>>>24)&16711935|(Ue<<24|Ue>>>8)&4278255360,Ze=(We<<8|We>>>24)&16711935|(We<<24|We>>>8)&4278255360,ct=He>>>16|Ze&4294901760,at=Ze<<16|He&65535;Be[0]^=He,Be[1]^=ct,Be[2]^=Ze,Be[3]^=at,Be[4]^=He,Be[5]^=ct,Be[6]^=Ze,Be[7]^=at;for(var Ne=0;Ne<4;Ne++)Ae.call(this)}},_doProcessBlock:function(De,_e){var qe=this._X;Ae.call(this),g[0]=qe[0]^qe[5]>>>16^qe[3]<<16,g[1]=qe[2]^qe[7]>>>16^qe[5]<<16,g[2]=qe[4]^qe[1]>>>16^qe[7]<<16,g[3]=qe[6]^qe[3]>>>16^qe[1]<<16;for(var Be=0;Be<4;Be++)g[Be]=(g[Be]<<8|g[Be]>>>24)&16711935|(g[Be]<<24|g[Be]>>>8)&4278255360,De[_e+Be]^=g[Be]},blockSize:128/32,ivSize:64/32});function Ae(){for(var De=this._X,_e=this._C,qe=0;qe<8;qe++)Te[qe]=_e[qe];_e[0]=_e[0]+1295307597+this._b|0,_e[1]=_e[1]+3545052371+(_e[0]>>>0<Te[0]>>>0?1:0)|0,_e[2]=_e[2]+886263092+(_e[1]>>>0<Te[1]>>>0?1:0)|0,_e[3]=_e[3]+1295307597+(_e[2]>>>0<Te[2]>>>0?1:0)|0,_e[4]=_e[4]+3545052371+(_e[3]>>>0<Te[3]>>>0?1:0)|0,_e[5]=_e[5]+886263092+(_e[4]>>>0<Te[4]>>>0?1:0)|0,_e[6]=_e[6]+1295307597+(_e[5]>>>0<Te[5]>>>0?1:0)|0,_e[7]=_e[7]+3545052371+(_e[6]>>>0<Te[6]>>>0?1:0)|0,this._b=_e[7]>>>0<Te[7]>>>0?1:0;for(var qe=0;qe<8;qe++){var Be=De[qe]+_e[qe],Ne=Be&65535,Ve=Be>>>16,Ue=((Ne*Ne>>>17)+Ne*Ve>>>15)+Ve*Ve,We=((Be&4294901760)*Be|0)+((Be&65535)*Be|0);Ie[qe]=Ue^We}De[0]=Ie[0]+(Ie[7]<<16|Ie[7]>>>16)+(Ie[6]<<16|Ie[6]>>>16)|0,De[1]=Ie[1]+(Ie[0]<<8|Ie[0]>>>24)+Ie[7]|0,De[2]=Ie[2]+(Ie[1]<<16|Ie[1]>>>16)+(Ie[0]<<16|Ie[0]>>>16)|0,De[3]=Ie[3]+(Ie[2]<<8|Ie[2]>>>24)+Ie[1]|0,De[4]=Ie[4]+(Ie[3]<<16|Ie[3]>>>16)+(Ie[2]<<16|Ie[2]>>>16)|0,De[5]=Ie[5]+(Ie[4]<<8|Ie[4]>>>24)+Ie[3]|0,De[6]=Ie[6]+(Ie[5]<<16|Ie[5]>>>16)+(Ie[4]<<16|Ie[4]>>>16)|0,De[7]=Ie[7]+(Ie[6]<<8|Ie[6]>>>24)+Ie[5]|0}i.RabbitLegacy=f._createHelper(Oe)}(),e.RabbitLegacy})}(rabbitLegacy)),rabbitLegacy.exports}var blowfish={exports:{}},hasRequiredBlowfish;function requireBlowfish(){return hasRequiredBlowfish||(hasRequiredBlowfish=1,function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.BlockCipher,m=i.algo;const g=16,Te=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],Ie=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var Oe={pbox:[],sbox:[]};function Ae(Ne,Ve){let Ue=Ve>>24&255,We=Ve>>16&255,He=Ve>>8&255,Ze=Ve&255,ct=Ne.sbox[0][Ue]+Ne.sbox[1][We];return ct=ct^Ne.sbox[2][He],ct=ct+Ne.sbox[3][Ze],ct}function De(Ne,Ve,Ue){let We=Ve,He=Ue,Ze;for(let ct=0;ct<g;++ct)We=We^Ne.pbox[ct],He=Ae(Ne,We)^He,Ze=We,We=He,He=Ze;return Ze=We,We=He,He=Ze,He=He^Ne.pbox[g],We=We^Ne.pbox[g+1],{left:We,right:He}}function _e(Ne,Ve,Ue){let We=Ve,He=Ue,Ze;for(let ct=g+1;ct>1;--ct)We=We^Ne.pbox[ct],He=Ae(Ne,We)^He,Ze=We,We=He,He=Ze;return Ze=We,We=He,He=Ze,He=He^Ne.pbox[1],We=We^Ne.pbox[0],{left:We,right:He}}function qe(Ne,Ve,Ue){for(let at=0;at<4;at++){Ne.sbox[at]=[];for(let gt=0;gt<256;gt++)Ne.sbox[at][gt]=Ie[at][gt]}let We=0;for(let at=0;at<g+2;at++)Ne.pbox[at]=Te[at]^Ve[We],We++,We>=Ue&&(We=0);let He=0,Ze=0,ct=0;for(let at=0;at<g+2;at+=2)ct=De(Ne,He,Ze),He=ct.left,Ze=ct.right,Ne.pbox[at]=He,Ne.pbox[at+1]=Ze;for(let at=0;at<4;at++)for(let gt=0;gt<256;gt+=2)ct=De(Ne,He,Ze),He=ct.left,Ze=ct.right,Ne.sbox[at][gt]=He,Ne.sbox[at][gt+1]=Ze;return!0}var Be=m.Blowfish=f.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var Ne=this._keyPriorReset=this._key,Ve=Ne.words,Ue=Ne.sigBytes/4;qe(Oe,Ve,Ue)}},encryptBlock:function(Ne,Ve){var Ue=De(Oe,Ne[Ve],Ne[Ve+1]);Ne[Ve]=Ue.left,Ne[Ve+1]=Ue.right},decryptBlock:function(Ne,Ve){var Ue=_e(Oe,Ne[Ve],Ne[Ve+1]);Ne[Ve]=Ue.left,Ne[Ve+1]=Ue.right},blockSize:64/32,keySize:128/32,ivSize:64/32});i.Blowfish=f._createHelper(Be)}(),e.Blowfish})}(blowfish)),blowfish.exports}(function(_,o){(function(e,i,c){_.exports=i(requireCore(),requireX64Core(),requireLibTypedarrays(),requireEncUtf16(),requireEncBase64(),requireEncBase64url(),requireMd5(),requireSha1(),requireSha256(),requireSha224(),requireSha512(),requireSha384(),requireSha3(),requireRipemd160(),requireHmac(),requirePbkdf2(),requireEvpkdf(),requireCipherCore(),requireModeCfb(),requireModeCtr(),requireModeCtrGladman(),requireModeOfb(),requireModeEcb(),requirePadAnsix923(),requirePadIso10126(),requirePadIso97971(),requirePadZeropadding(),requirePadNopadding(),requireFormatHex(),requireAes(),requireTripledes(),requireRc4(),requireRabbit(),requireRabbitLegacy(),requireBlowfish())})(commonjsGlobal$1,function(e){return e})})(cryptoJs);var cryptoJsExports=cryptoJs.exports;const _0x26736b=getDefaultExportFromCjs$1(cryptoJsExports),_0x6b188a=_0x2da1;function _0x2da1(_,o){const e=_0x1ccc();return _0x2da1=function(i,c){return i=i-482,e[i]},_0x2da1(_,o)}(function(_,o){const e=_0x2da1,i=_();for(;[];)try{if(parseInt(e(521))/1+parseInt(e(484))/2+parseInt(e(487))/3+parseInt(e(536))/4+-parseInt(e(503))/5*(parseInt(e(546))/6)+-parseInt(e(540))/7+parseInt(e(520))/8*(-parseInt(e(508))/9)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x1ccc,219638);function _0x1ccc(){const _=["debug-panel","toggleVisibility","block","style","18FXRUVQ","display","sort","margin","messages","clearMessage","init","createElement","offsetLeft","textContent","renderMessages","touchstart","2793552pAngVr","202092yORpnb","mousedown","length","mousemove","isVisible","Debug mode enabled. You can drag this panel freely. Type SET DEBUG 0 to disable.","string","touches","10px","borderRadius","setMessage","white","position","innerHTML","5px 0","1409192LrugSR","keys","debugPanel","clientX","624225tZxCmn","300px","clientY","offsetTop","color","getValue","1728ouFjAo","99999999","fixed","div","initialY","startX","745598csULnj","right","startY","1222404nfOAoM","clearMessages","touchmove","addEventListener","appendChild","auto","touchend","left","padding","none","initialX","backgroundColor","isDragging","forEach","fontSize","height","5685rGhOMu"];return _0x1ccc=function(){return _},_0x1ccc()}var mf,gf,yf,bf,N0,Wu;const gr=class gr{static[(mf=_0x6b188a(538),gf=_0x6b188a(525),yf=_0x6b188a(499),bf=_0x6b188a(512),_0x6b188a(514))](){var e;const o=_0x6b188a;!gr.debugPanel&&(gr[o(538)]=document[o(515)](o(549)),gr[o(538)].id=o(504),gr[o(538)][o(507)][o(509)]=o(496),gr.debugPanel[o(507)][o(533)]=o(548),gr.debugPanel[o(507)][o(498)]="rgba(0, 0, 0, 0.8)",gr[o(538)][o(507)][o(544)]=o(532),gr.debugPanel[o(507)][o(495)]=o(529),gr[o(538)][o(507)][o(530)]="5px",gr[o(538)][o(507)].zIndex=o(547),gr[o(538)].style.maxWidth=o(541),gr[o(538)][o(507)].fontFamily="Helvetica, Arial, sans-serif",gr[o(538)][o(507)][o(501)]="14px",gr[o(538)][o(507)][o(502)]=o(492),gr[o(538)][o(507)][o(485)]=o(529),gr[o(538)].style.top=o(529),gr[o(538)][o(507)].cursor="grab",document.body[o(491)](gr[o(538)]),ur(e=gr,N0,Wu).call(e))}static[_0x6b188a(505)](){const o=_0x6b188a;gr[o(525)]=!gr.isVisible,gr.debugPanel[o(507)].display=gr[o(525)]?o(506):o(496)}static setVisible(o){const e=_0x6b188a;Object[e(537)](gr[e(512)])[e(523)]===0&&gr[e(531)](e(526)),gr.isVisible=o,gr[e(538)][e(507)].display=o?"block":e(496)}static updateMessage(o,e){const i=_0x6b188a;typeof e===i(527)?gr[i(512)][o]=e:gr[i(512)][o]=String(e),gr[i(518)]()}static[_0x6b188a(513)](o){const e=_0x6b188a;delete gr[e(512)][o],gr[e(518)]()}static[_0x6b188a(488)](){const o=_0x6b188a;gr[o(512)]={},gr[o(518)]()}static[_0x6b188a(531)](o){const e=_0x6b188a;gr[e(512)]={},gr[e(538)][e(534)]="";const i=document.createElement("p");i.textContent=o,i.style[e(511)]=e(535),gr[e(538)][e(491)](i),gr[e(538)][e(507)][e(509)]=e(506),gr.isVisible=!![]}static[_0x6b188a(518)](){const o=_0x6b188a,e=Object[o(537)](gr.messages)[o(510)]();gr[o(538)][o(534)]="",e[o(500)](i=>{const c=o,f=document[c(515)]("p");f[c(517)]=gr[c(512)][i],f[c(507)][c(511)]=c(535),gr[c(538)][c(491)](f)}),e.length>0?(gr[o(538)][o(507)].display="block",gr[o(525)]=!![]):(gr[o(538)][o(507)][o(509)]=o(496),gr[o(525)]=![])}static isEnabled(){return StorageManager[_0x6b188a(545)]("DEBUG")=="1"}};N0=new WeakSet,Wu=function(){const o=_0x6b188a;gr[o(538)][o(490)](o(519),e=>{const i=o;gr[i(499)]=!![],gr[i(483)]=e.touches[0][i(539)],gr[i(486)]=e.touches[0][i(542)],gr[i(497)]=gr[i(538)].offsetLeft,gr[i(482)]=gr[i(538)][i(543)]}),gr[o(538)][o(490)](o(489),e=>{const i=o;if(gr[i(499)]){let c=e[i(528)][0][i(539)]-gr.startX,f=e[i(528)][0][i(542)]-gr[i(486)];gr.debugPanel[i(507)].left=gr.initialX+c+"px",gr[i(538)][i(507)].top=gr[i(482)]+f+"px"}}),gr[o(538)][o(490)](o(493),()=>{const e=o;gr[e(499)]=![]}),gr[o(538)][o(490)](o(522),e=>{const i=o;gr[i(499)]=!![],gr[i(483)]=e.clientX,gr.startY=e[i(542)],gr[i(497)]=gr[i(538)][i(516)],gr.initialY=gr[i(538)].offsetTop}),document.addEventListener(o(524),e=>{const i=o;if(gr[i(499)]){let c=e[i(539)]-gr[i(483)],f=e.clientY-gr.startY;gr[i(538)].style[i(494)]=gr[i(497)]+c+"px",gr[i(538)].style.top=gr[i(482)]+f+"px"}}),document.addEventListener("mouseup",()=>{gr.isDragging=![]})},jt(gr,N0),mn(gr,mf,null),mn(gr,gf,![]),mn(gr,yf,![]),mn(gr,bf,{});let Debug=gr;Debug.init();function _0x4dc3(_,o){const e=_0x5bb5();return _0x4dc3=function(i,c){return i=i-166,e[i]},_0x4dc3(_,o)}const _0x22fde8=_0x4dc3;(function(_,o){const e=_0x4dc3,i=_();for(;[];)try{if(-parseInt(e(184))/1*(parseInt(e(179))/2)+parseInt(e(207))/3+-parseInt(e(188))/4+parseInt(e(238))/5*(parseInt(e(246))/6)+parseInt(e(256))/7*(parseInt(e(264))/8)+parseInt(e(280))/9+parseInt(e(171))/10*(-parseInt(e(189))/11)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x5bb5,455039);function _0x5bb5(){const _=["130UaSMjF","target","onload","getItem","readAsArrayBuffer","data","dependencies","now","129424rGsMXF","++id, rom_data, hash","error","VME_INTERNAL.","length","4ZRMoMA","toArray","revokeObjectURL","name","1203984SDQXgV","946759EkvFRP","modify","++id, save_data","transaction","title","get","getAllSaveMeta","timestamp","setItem","amiga","saveMeta","checkFiles","storeFile","collection_name","result","key","canvas","height","1027203WSOlBw","getCollectionItems","storeCollection","version","add","lib","onloadend","collectionItemData","count","onerror","type","load","program_name","collectionMeta","getValue","push","file","base64","Failed to save collection:","charCodeAt","upgrade","files","Failed to delete entries with id ","image/png","key, data","blobToBase64","map","create","rom_data","VME","SHA256","610iXqlAu","split","orderBy","++id, collection_unique_name, collection_title, collection_image","clearValue","isEnabled","romData","toString","35220kGqKYF","filename","drawImage","WordArray","getFile","++id, platform_id, program_name, save_data_id, rom_data_id, timestamp","save_data_id","getCollections","width","Save state not found.","5889919dTGpLq","saveData","Failed to delete collections:","createObjectURL","stores","put","++id, rom_data, hash, data_type","updateMessage","8PiSmgW","++id, collection_id, platform_id, title, credits, description, image, rom_name, rom_data_id, rom_url, launched","deleteSave","first","equals","image","delete","collection_id","rom_data_id","Storing file","atari2600","table","Save state or program data is missing.","base64ToBlob","where","screenshot","2104398rDsxGx","data_type","Failed to save state:","Deleting file","src","deleteAllCollections"];return _0x5bb5=function(){return _},_0x5bb5()}var Nr,Io,L0,Ts,ru,M0,Ku;const na=class na{constructor(){jt(this,Ts);jt(this,M0);jt(this,Nr,void 0);const o=_0x22fde8;nr(this,Nr,new Dexie(Ye(na,L0))),Ye(this,Nr)[o(210)](2)[o(260)]({files:o(231),saveMeta:o(251),saveData:o(191),romData:o(180)}),Ye(this,Nr)[o(210)](3)[o(260)]({files:o(231),saveMeta:o(251),saveData:o(191),romData:o(262),collectionMeta:o(241),collectionItemData:o(265)})[o(227)](e=>{const i=o;return e[i(275)](i(244)).toCollection()[i(190)](c=>{const f=i;c.data_type=f(224)})})}static storeValue(o,e){const i=_0x22fde8;localStorage[i(197)](Ye(na,Io)+o,e)}static[_0x22fde8(242)](o){localStorage.removeItem(Ye(na,Io)+o)}static[_0x22fde8(221)](o,e){const i=_0x22fde8;let c=localStorage[i(174)](Ye(na,Io)+o);return c??e}async[_0x22fde8(201)](o,e){const i=_0x22fde8;Debug[i(243)]()&&Debug[i(263)](i(218),i(273)),await Ye(this,Nr).files[i(261)]({key:o,data:e})}async getFile(o){const e=_0x22fde8,i=await Ye(this,Nr)[e(228)].where({key:o})[e(267)]();return i?i[e(176)]:null}async deleteFile(o){const e=_0x22fde8;Debug[e(263)](e(218),e(168)),await Ye(this,Nr)[e(228)].where({key:o})[e(270)]()}async[_0x22fde8(200)](o){return new Promise(async e=>{const i=_0x4dc3;let c={},f=[];if(o[i(177)]){const Te=o[i(177)][i(233)](Ie=>({...Ie,key:o.platform_id+"."+Ie[i(204)]}));for(const Ie of Te){const Oe=await this[i(250)](Ie[i(204)]);Oe?c[Ie.key]=Oe:f[i(222)](Ie[i(217)])}}const m=o.platform_id+".software",g=await this.getFile(m)||null;e([c,f,g])})}async[_0x22fde8(209)](o,e,i,c){const f=_0x22fde8;await this[f(170)]();const m=[];for(const g of c){const Te=await ur(this,Ts,ru).call(this,g.file),Ie=await this[f(232)](g[f(269)]),Oe=await Ye(this,Nr)[f(244)][f(278)]({hash:Te})[f(267)]();m[f(222)]({item:g,hash:Te,existing:Oe,itemImageB64:Ie})}try{return await Ye(this,Nr).transaction("rw",Ye(this,Nr)[f(220)],Ye(this,Nr)[f(214)],Ye(this,Nr)[f(244)],async()=>{const g=f,Te=await Ye(this,Nr)[g(220)][g(211)]({collection_unique_name:o,collection_title:e,collection_image:i});for(const{item:Ie,hash:Oe,existing:Ae,itemImageB64:De}of m){let _e;Ae?_e=Ae.id:_e=await Ye(this,Nr)[g(244)].add({rom_data:Ie[g(223)],hash:Oe,data_type:"blob"}),await Ye(this,Nr)[g(214)][g(211)]({collection_id:Te,platform_id:Ie.platform_id,title:Ie[g(193)],credits:Ie.credits,description:Ie.description,image:De,rom_name:Ie[g(247)],rom_data_id:_e,launched:![]})}}),!![]}catch(g){return console.error(f(225),g),![]}}async[_0x22fde8(208)](){const o=_0x22fde8;return(await Ye(this,Nr)[o(214)].toArray())[o(233)](i=>{const c=o;return i[c(279)]&&(i.collection_id=i.id,i.name=i.collection_name,i[c(269)]=this[c(277)](i.collection_image)),i})}async[_0x22fde8(253)](){const o=_0x22fde8;return(await Ye(this,Nr)[o(220)].toArray())[o(233)](i=>{const c=o;return i[c(279)]&&(i.collection_id=i.id,i[c(187)]=i[c(202)],i.image=this[c(277)](i.collection_image)),i})}async storeState(o,e,i,c,f){const m=_0x22fde8,g=await ur(this,Ts,ru).call(this,e),Te=await ur(this,M0,Ku).call(this,c,i),Ie=await this[m(232)](Te),Oe=e,Ae=await this.blobToBase64(o);try{await Ye(this,Nr)[m(192)]("rw",Ye(this,Nr)[m(199)],Ye(this,Nr)[m(257)],Ye(this,Nr).romData,async()=>{const De=m,_e=await Ye(this,Nr)[De(244)][De(278)]({hash:g})[De(267)]();let qe;_e==null?qe=await Ye(this,Nr).romData.add({rom_data:Oe,hash:g,data_type:"blob"}):qe=_e.id;let Be=await Ye(this,Nr)[De(257)][De(211)]({save_data:Ae});await Ye(this,Nr)[De(199)][De(211)]({platform_id:c,program_name:f,screenshot:Ie,rom_data_id:qe,save_data_id:Be,timestamp:Date[De(178)]()})})}catch(De){console[m(181)](m(167),De)}}async[_0x22fde8(232)](o){return new Promise((e,i)=>{const c=_0x4dc3,f=new FileReader;f[c(213)]=()=>e(f[c(203)]),f[c(216)]=i,f.readAsDataURL(o)})}[_0x22fde8(277)](o){const e=_0x22fde8,i=atob(o[e(239)](",")[1]),c=o.split(",")[0][e(239)](":")[1][e(239)](";")[0],f=new ArrayBuffer(i[e(183)]),m=new Uint8Array(f);for(let g=0;g<i[e(183)];g++)m[g]=i[e(226)](g);return new Blob([f],{type:c})}async[_0x22fde8(195)](){const o=_0x22fde8;return(await Ye(this,Nr)[o(199)][o(240)]("timestamp").reverse()[o(185)]())[o(233)](i=>{const c=o;return i.screenshot&&(i[c(279)]=this.base64ToBlob(i[c(279)])),i})}async getRomData(o){const e=_0x22fde8,i=await Ye(this,Nr)[e(244)][e(194)](o);return i[e(166)]=="base64"&&(i[e(235)]=this[e(277)](i[e(235)])),i}async getSaveData(o){const e=_0x22fde8,i=await Ye(this,Nr)[e(199)].get(o);if(!i)throw new Error(e(255));const c=await Ye(this,Nr)[e(257)][e(194)](i[e(252)]),f=await Ye(this,Nr)[e(244)].get(i.rom_data_id);let m;if(f.data_type==e(224)?m=this.base64ToBlob(f[e(235)]):m=f[e(235)],!c||!f)throw new Error(e(276));const g=this[e(277)](c.save_data);return{platform_id:i.platform_id,program_name:i[e(219)],save_data:g,rom_data:m,timestamp:i[e(196)]}}async[_0x22fde8(266)](o){const e=_0x22fde8;try{await Ye(this,Nr)[e(192)]("rw",Ye(this,Nr)[e(199)],Ye(this,Nr)[e(257)],Ye(this,Nr)[e(214)],Ye(this,Nr)[e(244)],async()=>{const i=e,c=await Ye(this,Nr).saveMeta[i(194)](o);if(c){await Ye(this,Nr)[i(257)][i(278)]("id").equals(c[i(252)])[i(270)](),await Ye(this,Nr).saveMeta[i(270)](o);let f=await Ye(this,Nr).saveMeta[i(278)](i(272))[i(268)](c[i(272)])[i(215)]();await Ye(this,Nr)[i(214)].where(i(272))[i(268)](c.rom_data_id)[i(215)]()+f==0&&await Ye(this,Nr)[i(244)][i(278)]("id").equals(c[i(272)])[i(270)]()}})}catch(i){console[e(181)](e(229)+o+":",i)}}async[_0x22fde8(170)](){const o=_0x22fde8;try{await Ye(this,Nr).transaction("rw",Ye(this,Nr)[o(220)],Ye(this,Nr)[o(214)],Ye(this,Nr)[o(199)],Ye(this,Nr)[o(244)],async()=>{const e=o,i=await Ye(this,Nr)[e(220)][e(185)]();for(let c of i){const f=c.id,m=await Ye(this,Nr).collectionItemData[e(278)](e(271))[e(268)](f).toArray();if(m[e(183)]>0){await Ye(this,Nr).collectionItemData[e(278)](e(271))[e(268)](f)[e(270)](),await Ye(this,Nr).collectionMeta[e(270)](f);for(let g of m){const Te=g[e(272)];let Ie=await Ye(this,Nr)[e(199)][e(278)](e(272))[e(268)](Te)[e(215)]();await Ye(this,Nr)[e(214)][e(278)]("rom_data_id")[e(268)](Te)[e(215)]()+Ie==0&&await Ye(this,Nr)[e(244)][e(278)]("id")[e(268)](Te).delete()}}}})}catch(e){console.error(o(258),e)}}};Nr=new WeakMap,Io=new WeakMap,L0=new WeakMap,Ts=new WeakSet,ru=async function(o){return new Promise((e,i)=>{const c=_0x4dc3,f=new FileReader;f[c(173)]=function(m){const g=c,Te=m[g(172)][g(203)],Ie=_0x26736b[g(212)][g(249)][g(234)](Te),Oe=_0x26736b[g(237)](Ie)[g(245)]();e(Oe)},f[c(216)]=function(m){i(m)},f[c(175)](o)})},M0=new WeakSet,Ku=function(o,e){const i=_0x22fde8;return o!=i(274)&&o!=i(198)?e:new Promise((c,f)=>{const m=i,g=new Image,Te=URL[m(259)](e);g[m(173)]=()=>{const Ie=m,Oe=g[Ie(254)],Ae=g.height,De=Oe/Ae,_e=document.createElement(Ie(205)),qe=_e.getContext("2d");o==Ie(274)&&De<.8?(_e.width=Oe*2,_e[Ie(206)]=Ae,qe[Ie(248)](g,0,0,_e[Ie(254)],_e[Ie(206)])):o==Ie(198)&&De>2?(_e.width=Oe/2,_e[Ie(206)]=Ae,qe[Ie(248)](g,0,0,_e.width,_e[Ie(206)])):(_e[Ie(254)]=Oe,_e[Ie(206)]=Ae,qe[Ie(248)](g,0,0)),_e.toBlob(Be=>{URL[Ie(186)](Te),c(Be)},Ie(230))},g[m(216)]=Ie=>{URL[m(186)](Te),f(Ie)},g[m(169)]=Te})},jt(na,Io,_0x22fde8(182)),jt(na,L0,_0x22fde8(236));let StorageManager=na;const _0x41d09a=_0xfeda;(function(_,o){const e=_0xfeda,i=_();for(;[];)try{if(parseInt(e(241))/1*(-parseInt(e(221))/2)+parseInt(e(239))/3*(parseInt(e(235))/4)+-parseInt(e(213))/5+parseInt(e(212))/6+parseInt(e(247))/7*(parseInt(e(229))/8)+parseInt(e(223))/9*(-parseInt(e(242))/10)+parseInt(e(234))/11===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x2e5a,647964);function _0xfeda(_,o){const e=_0x2e5a();return _0xfeda=function(i,c){return i=i-212,e[i]},_0xfeda(_,o)}function _0x2e5a(){const _=["selection_changed","createElement","process_selection","innerHTML","get_help","142582YBOzji","addEventListener","9FFWFnh","add","install","tag","appendChild","is_selection_enabled","8lgIQfi","cli","set_selection_mode","corsrow","LINES","7908307FOOuKr","20YwyHRw","data-value","singleline","set_cli","215958JmnkKF","data","17YWccuF","377270LndBZU","append","exit_selection","span","get_keywords","1718878MVGlzZ","forEach","6826290AmoFLM","2822490jegklv","classList","#cors_results"];return _0x2e5a=function(){return _},_0x2e5a()}var V0,Gu;const hu=class hu{constructor(){jt(this,V0);if(new.target===hu)throw new Error}[_0x41d09a(246)](){throw new Error}[_0x41d09a(220)](){throw new Error}process_input(o,e){throw new Error}[_0x41d09a(225)](){}uninstall(){}[_0x41d09a(228)](){return![]}is_enter_required(){return![]}[_0x41d09a(244)](){return![]}[_0x41d09a(218)](o){return![]}[_0x41d09a(238)](o){const e=_0x41d09a;this[e(230)]=o}show_results(o,e){o!=[]&&ur(this,V0,Gu).call(this,o,e)}[_0x41d09a(216)](o){}};V0=new WeakSet,Gu=function(o,e){const i=_0x41d09a,c=s(i(215));c[i(219)]="",o[i(248)](f=>{const m=i,g=document[m(217)]("p");g.setAttribute(m(236),f[m(240)]),g[m(214)][m(224)](m(232));const Te=document[m(217)](m(245));if(StorageManager.getValue(m(233))!="single"||Te[m(214)][m(224)](m(237)),f[m(226)]){const Ie=document[m(217)](m(245));Ie.classList[m(224)](m(226)),Ie[m(219)]="["+f.tag+"] ",Te[m(227)](Ie)}Te.append(f.label),g[m(243)](Te),g[m(222)]("click",Ie=>{this[m(218)](f)}),c[m(243)](g)}),o.length>0&&e&&(this[i(230)][i(231)](!![]),this[i(230)].update())};let CommandBase=hu;const _0x233c5f=_0x17fb;function _0xd192(){const _=["&nbsp;","<p style='margin-left: 1ch;'>","3228NSLIAE","950739DUREYX","top","inject","display","3348aLHbLN","auto","color","borderColor","appendChild","span","#cors_query_prefix","left","set_loading","Backspace","location","Guru Meditation: ","getElementById","Invalid command","highlight","message","<p style='margin-left: 3ch;'>","process_input","is_command_selectable","update","reload","#F4AD46","forEach","36980rQykrK","is_enter_required","filter","offsetWidth","selected_command","print_progress","blinking","split","inline","append","ctrlKey","get_help","is_loading","toLowerCase","offsetHeight","Press any key to continue.","children","classList","click","606DcpqGu","#guruWrapper0","enter","includes","clear","progress_line","set_default_handler","commands","parse_input","block","right","trim","98063xluBBf","message_clear","#cursor","10243088wsETQN","set_article_mode","preventDefault","set_cli","bottom","CLI commands:","selection_changed","space","getValue","#cors_results","div","remove","addEventListener","set_selection_mode","DEBUG","metaKey","dispatchEvent","2zIVSdg","print_help","Enter","getBoundingClientRect","createElement","is_selection_enabled","removeEventListener","get_keywords","121809fqtmBb","push","107459Uncsar","1838005omOtDc","textContent","open","escape","Escape","scrollTop","ArrowDown","style","add","#guru","redraw","length","altKey","querySelector","</p>","innerHTML","164KKwVQS","default_command_name","key","keydown","cors_query"];return _0xd192=function(){return _},_0xd192()}(function(_,o){const e=_0x17fb,i=_();for(;[];)try{if(parseInt(e(445))/1*(parseInt(e(410))/2)+parseInt(e(418))/3*(-parseInt(e(437))/4)+parseInt(e(421))/5+parseInt(e(491))/6*(-parseInt(e(503))/7)+-parseInt(e(506))/8+parseInt(e(449))/9*(parseInt(e(472))/10)+parseInt(e(420))/11*(parseInt(e(444))/12)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0xd192,961839);function _0x17fb(_,o){const e=_0xd192();return _0x17fb=function(i,c){return i=i-404,e[i]},_0x17fb(_,o)}var Co,ko,Oo,rn,Yn,si,Pi,Ds,nu,Rs,iu,U0,Yu,j0,Qu,z0,Ju,Fs,au,H0,Xu,W0,Zu,K0,$u;const ai=class ai{constructor(){jt(this,Ds);jt(this,Rs);jt(this,U0);jt(this,j0);jt(this,z0);jt(this,Fs);jt(this,H0);jt(this,W0);jt(this,K0);jt(this,Co,void 0);jt(this,ko,void 0);jt(this,Oo,void 0);jt(this,rn,void 0);jt(this,Yn,[]);jt(this,Pi,void 0);const o=_0x233c5f;nr(this,rn,-1),nr(this,Pi,![]),this.cursorShowing=![],this.directMode=![],this[o(498)]=[],this[o(438)]=null,this.is_command_selectable=![],this[o(473)]=![],nr(this,Co,ur(this,U0,Yu).bind(this)),this[o(457)](![])}set_selection_mode(o){const e=_0x233c5f;o?ur(this,Rs,iu).call(this):(ur(this,Ds,nu).call(this),this[e(476)]&&this[e(476)].selection_changed())}[_0x233c5f(484)](){return Ye(this,ko)}[_0x233c5f(457)](o){nr(this,ko,o),o?ur(this,Rs,iu).call(this):ur(this,Ds,nu).call(this)}[_0x233c5f(507)](o){nr(this,Pi,o)}on(){document[_0x233c5f(405)]("keydown",Ye(this,Co))}off(){document[_0x233c5f(416)]("keydown",Ye(this,Co))}[_0x233c5f(468)](){const o=_0x233c5f;if(this[o(467)]){const e=s("#cors_results");let i=[...e[o(488)]];if(i=i[o(474)](c=>c[o(489)].contains("corsrow")),i[o(432)]==0)return;i[o(471)](c=>c[o(434)](o(454))[o(489)][o(404)](o(463))),Ye(this,rn)>=0&&(ur(this,j0,Qu).call(this,i[Ye(this,rn)].querySelector("span")),this[o(476)][o(512)](i[Ye(this,rn)])),Ye(this,rn)!=-1&&!ur(this,W0,Zu).call(this,i[Ye(this,rn)][o(434)](o(454)),e)&&i[Ye(this,rn)].scrollIntoView({behavior:o(450),block:"start",inline:"start"})}}[_0x233c5f(466)](o){const e=_0x233c5f;let i=![];if(o[e(432)]===1)Ye(this,rn)==-1&&(Ye(ai,si)[e(422)]+=o);else if(o===e(458)||o==="backspace")Ye(this,rn)==-1&&(Ye(ai,si)[e(422)]=Ye(ai,si)[e(422)].slice(0,-1));else if(o===" "||o===e(513))Ye(this,rn)==-1&&(Ye(ai,si)[e(422)]+=" ");else if(o===e(495))Ye(this,rn)==-1&&(Ye(ai,si)[e(422)]=""),Ye(this,Oo)instanceof Function&&Ye(this,Oo).call(this);else if(o==e(424))nr(this,Pi,![]),Ye(this,rn)>=0?(nr(this,rn,-1),this[e(406)](![])):Ye(this,rn)==-1&&(this[e(466)](e(495)),this[e(406)](![]));else if(o==e(493)){if(Ye(this,Pi))return;i=!![];let c=s(e(515)).children;if(this[e(473)]&&Ye(this,rn)==-1)i=!![];else if(this[e(467)]&&Ye(this,rn)==-1)c[e(432)]>0&&P0(this,rn)._++,this[e(406)](!![]);else if(Ye(this,rn)>=0){ur(this,K0,$u).call(this,c[Ye(this,rn)]),this[e(476)][e(512)]();return}}this[e(499)](Ye(ai,si)[e(422)],i)}register_command(o){const e=_0x233c5f;if(o instanceof CommandBase)this[e(498)][e(419)](o),o[e(509)](this);else throw new Error(e(462))}register_default(o){this.default_command_name=o}parse_hidden_input(){const o=_0x233c5f;let e=Ye(ai,si)[o(422)];this[o(499)](Ye(ai,si).textContent,e==o(423))}[_0x233c5f(447)](o,e){const i=_0x233c5f;this[i(484)]()||(Ye(ai,si)[i(422)]=o,this[i(499)](o,e))}[_0x233c5f(499)](o,e){const i=_0x233c5f;o=o[i(502)]()[i(485)]();const c=o[i(479)](/\s+/),[f,...m]=c;ur(this,Fs,au).call(this),ur(this,z0,Ju).call(this);let g=null,Te=null;for(let Ie of this[i(498)])if(Ie[i(417)]()[i(494)](f)){g=Ie,Te=m;break}if(g==null&&this[i(438)]&&o[i(432)]>3){for(let Ie of this[i(498)])if(Ie[i(417)]()[i(494)](this[i(438)])){g=Ie,Te=c,ur(this,H0,Xu).call(this,this[i(438)]);break}}g!=null?(this.is_command_selectable=g[i(415)](),this.selected_command=g,g[i(466)](Te,e)):this[i(476)]=null}[_0x233c5f(411)](){const o=_0x233c5f;this.clear(),Ye(this,Yn)[o(419)](o(511)),this[o(498)][o(471)](i=>{const c=o;Ye(this,Yn)[c(419)](c(442)),Ye(this,Yn)[c(419)](c(443)+i.get_help()[0].toUpperCase()+c(435)),Ye(this,Yn).push(c(465)+i[c(483)]()[1]+c(435))});var e=s(o(515));e[o(436)]="",Ye(this,Yn)[o(471)](i=>{const c=o;var f=document.createElement(c(516)),m=document[c(414)]("p");m[c(436)]=i,f[c(453)](m),e[c(481)](f)})}[_0x233c5f(431)](){const o=_0x233c5f;var e=s(o(515));e[o(436)]="",Ye(this,Yn)[o(471)](i=>{const c=o;var f=document.createElement(c(516)),m=document[c(414)]("p");m[c(436)]=i,f[c(453)](m),e[c(481)](f)})}[_0x233c5f(495)](){const o=_0x233c5f;nr(this,Yn,[]);var e=s(o(515));e[o(436)]=""}reset(){const o=_0x233c5f;nr(this,rn,-1),nr(this,Pi,![]),Ye(ai,si)[o(422)]="",ur(this,Fs,au).call(this),this.set_selection_mode(![]),this[o(457)](![]),this.clear()}[_0x233c5f(504)](...o){this[_0x233c5f(495)](),this.message(o)}[_0x233c5f(464)](...o){const e=_0x233c5f;o.forEach(i=>Ye(this,Yn).push(i)),Ye(this,Yn)[e(419)](e(442)),Ye(this,Yn)[e(419)](e(487)),this[e(431)](),document[e(405)](e(490),function(){setTimeout(function(){location[_0x17fb(469)]()},120)}),document[e(405)](e(440),function(){setTimeout(function(){location.reload()},120)})}[_0x233c5f(477)](o){const e=_0x233c5f;let i=s("#progress_line");if(i==null){const c=s(e(515)),f=document[e(414)](e(516));i=document.createElement("p"),i.id=e(496),f[e(453)](i),c[e(481)](f)}i[e(436)]=o}print(o){const e=_0x233c5f;Ye(this,Yn).push(o),this[e(431)]()}soft_msg(o){const e=_0x233c5f;this[e(495)](),Ye(this,Yn).push(o),this[e(431)]()}guru(o,e=![]){const i=_0x233c5f;if(StorageManager[i(514)](i(407))!="1")return;function c(){const f=i;e?(hide(f(492)),s(f(492))[f(416)](f(490),this),document[f(416)](f(490),c,!![])):window[f(459)].reload(![])}if(s(i(492))[i(405)]("click",c,!![]),e)s("#guruMessage2")[i(436)]=o,s("#guru")[i(428)][i(451)]=i(470),s(i(430))[i(428)][i(452)]=i(470),show("#guruWrapper0","block");else throw s("#guruMessage2")[i(436)]=o,show(i(492),i(500)),new Error(i(460)+o)}[_0x233c5f(497)](o){nr(this,Oo,o)}};Co=new WeakMap,ko=new WeakMap,Oo=new WeakMap,rn=new WeakMap,Yn=new WeakMap,si=new WeakMap,Pi=new WeakMap,Ds=new WeakSet,nu=function(){const o=_0x233c5f;s("#cursor")[o(489)][o(429)](o(478))},Rs=new WeakSet,iu=function(){const o=_0x233c5f;s(o(505))[o(489)][o(404)](o(478))},U0=new WeakSet,Yu=function(o){const e=_0x233c5f;if(o[e(508)](),!Ye(this,ko)){if(o[e(439)].length===1&&!o[e(482)]&&!o[e(408)]&&!o[e(433)])this[e(466)](o[e(439)]);else if(o[e(439)]===e(458))this[e(466)]("backspace");else if(o[e(439)]==e(412))this[e(466)](e(493));else if(o[e(439)]===e(425))this[e(466)](e(424));else if(o[e(439)]===e(427)){if(Ye(this,Pi)){let i=s(e(515));i[e(426)]+=i.offsetHeight}else if(Ye(this,rn)!=-1){let i=s(e(515))[e(488)];Ye(this,rn)<i.length-1?P0(this,rn)._++:Ye(this,rn)==i[e(432)]-1&&nr(this,rn,0)}else if(!this[e(467)]){let i=s("#cors_results");i[e(426)]+=i[e(486)]}}else if(o[e(439)]==="ArrowUp"){if(Ye(this,Pi)){let i=s(e(515));i[e(426)]-=i[e(486)]}else if(Ye(this,rn)!=-1){let i=s(e(515)).children;Ye(this,rn)>0?P0(this,rn)._--:Ye(this,rn)==0&&nr(this,rn,i[e(432)]-1)}else if(!this[e(467)]){let i=s("#cors_results");i[e(426)]-=i[e(486)]}}this[e(468)]()}},j0=new WeakSet,Qu=function(o){const e=_0x233c5f;o.classList[e(404)](e(463)),o[e(475)],o.classList[e(429)](e(463))},z0=new WeakSet,Ju=function(){this[_0x233c5f(495)]()},Fs=new WeakSet,au=function(){const o=_0x233c5f;s("#cors_query_prefix")[o(428)][o(448)]="none",s(o(455))[o(436)]=""},H0=new WeakSet,Xu=function(o){const e=_0x233c5f;s(e(455))[e(428)][e(448)]=e(480),s(e(455))[e(436)]=o+" "},W0=new WeakSet,Zu=function(o,e){const i=_0x233c5f,c=o.getBoundingClientRect(),f=e[i(413)]();return c[i(446)]>=f[i(446)]&&c.left>=f[i(456)]&&c[i(510)]<=f[i(510)]&&c.right<=f[i(501)]},K0=new WeakSet,$u=function(o){const e=_0x233c5f;if(o!=null){var i=new MouseEvent("click",{bubbles:!![],cancelable:!![],view:window});o[e(409)](i)}},jt(ai,si,document[_0x233c5f(461)](_0x233c5f(441)));let CLI=ai;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function __values$1(_){var o=typeof Symbol=="function"&&Symbol.iterator,e=o&&_[o],i=0;if(e)return e.call(_);if(_&&typeof _.length=="number")return{next:function(){return _&&i>=_.length&&(_=void 0),{value:_&&_[i++],done:!_}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read$1(_,o){var e=typeof Symbol=="function"&&_[Symbol.iterator];if(!e)return _;var i=e.call(_),c,f=[],m;try{for(;(o===void 0||o-- >0)&&!(c=i.next()).done;)f.push(c.value)}catch(g){m={error:g}}finally{try{c&&!c.done&&(e=i.return)&&e.call(i)}finally{if(m)throw m.error}}return f}function __spread$1(){for(var _=[],o=0;o<arguments.length;o++)_=_.concat(__read$1(arguments[o]));return _}var isUndefined=function(_){return typeof _>"u"},ComponentEvent=function(){function _(e,i){var c,f;if(this._canceled=!1,i)try{for(var m=__values$1(Object.keys(i)),g=m.next();!g.done;g=m.next()){var Te=g.value;this[Te]=i[Te]}}catch(Ie){c={error:Ie}}finally{try{g&&!g.done&&(f=m.return)&&f.call(m)}finally{if(c)throw c.error}}this.eventType=e}var o=_.prototype;return o.stop=function(){this._canceled=!0},o.isCanceled=function(){return this._canceled},_}(),Component=function(){function _(){this._eventHandler={}}var o=_.prototype;return o.trigger=function(e){for(var i=[],c=1;c<arguments.length;c++)i[c-1]=arguments[c];var f=e instanceof ComponentEvent?e.eventType:e,m=__spread$1(this._eventHandler[f]||[]);return m.length<=0?this:(e instanceof ComponentEvent?(e.currentTarget=this,m.forEach(function(g){g(e)})):m.forEach(function(g){g.apply(void 0,__spread$1(i))}),this)},o.once=function(e,i){var c=this;if(typeof e=="object"&&isUndefined(i)){var f=e;for(var m in f)this.once(m,f[m]);return this}else if(typeof e=="string"&&typeof i=="function"){var g=function(){for(var Te=[],Ie=0;Ie<arguments.length;Ie++)Te[Ie]=arguments[Ie];i.apply(void 0,__spread$1(Te)),c.off(e,g)};this.on(e,g)}return this},o.hasOn=function(e){return!!this._eventHandler[e]},o.on=function(e,i){if(typeof e=="object"&&isUndefined(i)){var c=e;for(var f in c)this.on(f,c[f]);return this}else if(typeof e=="string"&&typeof i=="function"){var m=this._eventHandler[e];isUndefined(m)&&(this._eventHandler[e]=[],m=this._eventHandler[e]),m.push(i)}return this},o.off=function(e,i){if(isUndefined(e))return this._eventHandler={},this;if(isUndefined(i)){if(typeof e=="string")return delete this._eventHandler[e],this;var c=e;for(var f in c)this.off(f,c[f]);return this}var m=this._eventHandler[e];if(m){for(var g=m.length,Te=0;Te<g;++Te)if(m[Te]===i){m.splice(Te,1),g<=1&&delete this._eventHandler[e];break}}return this},_.VERSION="3.0.5",_}(),ComponentEvent$1=ComponentEvent;function some(_,o){for(var e=_.length,i=0;i<e;++i)if(o(_[i],i))return!0;return!1}function find$1(_,o){for(var e=_.length,i=0;i<e;++i)if(o(_[i],i))return _[i];return null}function getUserAgentString(_){var o=_;if(typeof o>"u"){if(typeof navigator>"u"||!navigator)return"";o=navigator.userAgent||""}return o.toLowerCase()}function execRegExp(_,o){try{return new RegExp(_,"g").exec(o)}catch{return null}}function hasUserAgentData(){if(typeof navigator>"u"||!navigator||!navigator.userAgentData)return!1;var _=navigator.userAgentData,o=_.brands||_.uaList;return!!(o&&o.length)}function findVersion(_,o){var e=execRegExp("("+_+")((?:\\/|\\s|:)([0-9|\\.|_]+))",o);return e?e[3]:""}function convertVersion(_){return _.replace(/_/g,".")}function findPreset(_,o){var e=null,i="-1";return some(_,function(c){var f=execRegExp("("+c.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",o);return!f||c.brand?!1:(e=c,i=f[3]||"-1",c.versionAlias?i=c.versionAlias:c.versionTest&&(i=findVersion(c.versionTest.toLowerCase(),o)||i),i=convertVersion(i),!0)}),{preset:e,version:i}}function findPresetBrand(_,o){var e={brand:"",version:"-1"};return some(_,function(i){var c=findBrand(o,i);return c?(e.brand=i.id,e.version=i.versionAlias||c.version,e.version!=="-1"):!1}),e}function findBrand(_,o){return find$1(_,function(e){var i=e.brand;return execRegExp(""+o.test,i.toLowerCase())})}var BROWSER_PRESETS=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],CHROMIUM_PRESETS=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],WEBKIT_PRESETS=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],WEBVIEW_PRESETS=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],OS_PRESETS=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function isWebView(_){return!!findPreset(WEBVIEW_PRESETS,_).preset}function getLegacyAgent(_){var o=getUserAgentString(_),e=!!/mobi/g.exec(o),i={name:"unknown",version:"-1",majorVersion:-1,webview:isWebView(o),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},c={name:"unknown",version:"-1",majorVersion:-1},f=findPreset(BROWSER_PRESETS,o),m=f.preset,g=f.version,Te=findPreset(OS_PRESETS,o),Ie=Te.preset,Oe=Te.version,Ae=findPreset(CHROMIUM_PRESETS,o);if(i.chromium=!!Ae.preset,i.chromiumVersion=Ae.version,!i.chromium){var De=findPreset(WEBKIT_PRESETS,o);i.webkit=!!De.preset,i.webkitVersion=De.version}return Ie&&(c.name=Ie.id,c.version=Oe,c.majorVersion=parseInt(Oe,10)),m&&(i.name=m.id,i.version=g,i.webview&&c.name==="ios"&&i.name!=="safari"&&(i.webview=!1)),i.majorVersion=parseInt(i.version,10),{browser:i,os:c,isMobile:e,isHints:!1}}function getClientHintsAgent(_){var o=navigator.userAgentData,e=(o.uaList||o.brands).slice(),i=_&&_.fullVersionList,c=o.mobile||!1,f=e[0],m=(_&&_.platform||o.platform||navigator.platform).toLowerCase(),g={name:f.brand,version:f.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!findPresetBrand(WEBVIEW_PRESETS,e).brand||isWebView(getUserAgentString())},Te={name:"unknown",version:"-1",majorVersion:-1};g.webkit=!g.chromium&&some(WEBKIT_PRESETS,function(qe){return findBrand(e,qe)});var Ie=findPresetBrand(CHROMIUM_PRESETS,e);if(g.chromium=!!Ie.brand,g.chromiumVersion=Ie.version||"-1",!g.chromium){var Oe=findPresetBrand(WEBKIT_PRESETS,e);g.webkit=!!Oe.brand,g.webkitVersion=Oe.version||"-1"}var Ae=find$1(OS_PRESETS,function(qe){return new RegExp(""+qe.test,"g").exec(m)});if(Te.name=Ae?Ae.id:"",_&&(Te.version=_.platformVersion||"-1"),i&&i.length){var De=findPresetBrand(BROWSER_PRESETS,i);g.name=De.brand||g.name,g.version=De.version||g.version}else{var _e=findPresetBrand(BROWSER_PRESETS,e);g.name=_e.brand||g.name,g.version=_e.brand&&_?_.uaFullVersion:_e.version}return g.webkit&&(Te.name=c?"ios":"mac"),Te.name==="ios"&&g.webview&&(g.version="-1"),Te.version=convertVersion(Te.version),g.version=convertVersion(g.version),Te.majorVersion=parseInt(Te.version,10),g.majorVersion=parseInt(g.version,10),{browser:g,os:Te,isMobile:c,isHints:!0}}function agent(_){return typeof _>"u"&&hasUserAgentData()?getClientHintsAgent():getLegacyAgent(_)}function keys(_){return Object.keys(_)}var OBSERVERS_PATH="__observers__",COMPUTED_PATH="__computed__",CFCS_DETECTED_DEPENDENCIES_VERSION=1,CFCS_DETECTED_DEPENDENCIES="__CFCS_DETECTED_DEPENDENCIES__",extendStatics$3=function(_,o){return extendStatics$3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])},extendStatics$3(_,o)};function __extends$3(_,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");extendStatics$3(_,o);function e(){this.constructor=_}_.prototype=o===null?Object.create(o):(e.prototype=o.prototype,new e)}function getDetectedStack(){Object[CFCS_DETECTED_DEPENDENCIES]=Object[CFCS_DETECTED_DEPENDENCIES]||{};var _=Object[CFCS_DETECTED_DEPENDENCIES];return _[CFCS_DETECTED_DEPENDENCIES_VERSION]=_[CFCS_DETECTED_DEPENDENCIES_VERSION]||[],_[CFCS_DETECTED_DEPENDENCIES_VERSION]}function getCurrentDetected(){var _=getDetectedStack();return _[_.length-1]}function detectDependencies(_){var o=getDetectedStack(),e=[],i={host:_,observers:e,push:function(c){_!==c&&e.indexOf(c)===-1&&e.push(c)}};return o.push(i),i}function endDetectDependencies(){var _=getDetectedStack();return _.pop()}var Observer=function(){function _(e){this._emitter=new Component,this._current=e}var o=_.prototype;return Object.defineProperty(o,"current",{get:function(){var e=getCurrentDetected();return e==null||e.push(this),this._current},set:function(e){this._setCurrent(e)},enumerable:!1,configurable:!0}),o.subscribe=function(e){return this.current,this._emitter.on("update",e),this},o.unsubscribe=function(e){return this._emitter.off("update",e),this},o._setCurrent=function(e){var i=this._current,c=e!==i;this._current=e,c&&this._emitter.trigger("update",e,i)},o.toString=function(){return"".concat(this.current)},o.valueOf=function(){return this.current},_}(),ComputedObserver=function(_){__extends$3(o,_);function o(i){var c=_.call(this)||this;return c._computedCallback=i,c._registered=[],c._onCheckUpdate=function(){c._setCurrent(c.current)},c._current=c.current,c}var e=o.prototype;return Object.defineProperty(e,"current",{get:function(){var i=this;detectDependencies(this);var c=this._computedCallback(),f=endDetectDependencies();return this._registered.forEach(function(m){m.unsubscribe(i._onCheckUpdate)}),f.observers.forEach(function(m){m.subscribe(i._onCheckUpdate)}),this._registered=f.observers,c},enumerable:!1,configurable:!0}),o}(Observer);function injectObserve(_,o,e){e===void 0&&(e=o);var i={configurable:!0,get:function(){return getObserver(this,e).current},set:function(c){getObserver(this,e,c).current=c}};Object.defineProperty(_,o,i),e!==o&&Object.defineProperty(_,e,{configurable:!0,get:function(){return getObserver(this,e).current}})}function Observe(){for(var _=[],o=0;o<arguments.length;o++)_[o]=arguments[o];return _.length>1?injectObserve(_[0],_[1]):function(e,i){return injectObserve(e,i,_[0])}}function injectReactiveSubscribe(_){_.subscribe=function(o,e){this[o],getObserver(this,o).subscribe(e)},_.unsubscribe=function(o,e){var i=this;if(!o){keys(getObservers(this)).forEach(function(c){i.unsubscribe(c)});return}o in this&&getObserver(this,o).unsubscribe(e)}}function ReactiveSubscribe(_){var o=_.prototype;injectReactiveSubscribe(o)}function observe(_){return new Observer(_)}function computed(_){return new ComputedObserver(_)}function defineObservers(_){var o={};return Object.defineProperty(_,OBSERVERS_PATH,{get:function(){return o}}),o}function getObservers(_,o){var e,i;_[OBSERVERS_PATH]||defineObservers(_);var c=_[OBSERVERS_PATH];if(!o){var f=(i=(e=_==null?void 0:_.constructor)===null||e===void 0?void 0:e.prototype)===null||i===void 0?void 0:i[COMPUTED_PATH];f&&f.forEach(function(m){!(m in c)&&m in _&&_[m]})}return c}function getObserver(_,o,e){var i=getObservers(_);return i[o]||(i[o]=observe(e)),i[o]}function Computed(_,o,e){var i=e.get;function c(){var g=getObservers(this,!0);return o in g||(g[o]=computed(i.bind(this))),getObserver(this,o).current}var f={configurable:!0,get:c};_[COMPUTED_PATH]||(_[COMPUTED_PATH]=[]);var m=_[COMPUTED_PATH];return m.indexOf(o)===-1&&m.push(o),Object.defineProperty(_,o,f),f}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$2=function(_,o){return extendStatics$2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var c in i)i.hasOwnProperty(c)&&(e[c]=i[c])},extendStatics$2(_,o)};function __extends$2(_,o){extendStatics$2(_,o);function e(){this.constructor=_}_.prototype=o===null?Object.create(o):(e.prototype=o.prototype,new e)}var __assign$2=function(){return __assign$2=Object.assign||function(o){for(var e,i=1,c=arguments.length;i<c;i++){e=arguments[i];for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(o[f]=e[f])}return o},__assign$2.apply(this,arguments)};function __decorate(_,o,e,i){var c=arguments.length,f=c<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(_,o,e,i);else for(var g=_.length-1;g>=0;g--)(m=_[g])&&(f=(c<3?m(f):c>3?m(o,e,f):m(o,e))||f);return c>3&&f&&Object.defineProperty(o,e,f),f}var win;typeof window>"u"?win={navigator:{userAgent:""}}:win=window;var DIRECTION_NONE=1,DIRECTION_LEFT=2,DIRECTION_RIGHT=4,DIRECTION_HORIZONTAL=6,DIRECTION_UP=8,DIRECTION_DOWN=16,DIRECTION_VERTICAL=24,DIRECTION_ALL=30,MOUSE_LEFT="left",MOUSE_RIGHT="right",MOUSE_MIDDLE="middle",MOUSE_BUTTON_CODE_MAP={1:MOUSE_LEFT,2:MOUSE_MIDDLE,3:MOUSE_RIGHT},ANY="any",NONE="none",SHIFT="shift",CTRL="ctrl",ALT="alt",META="meta",VELOCITY_INTERVAL=16,IOS_EDGE_THRESHOLD=30,IS_IOS_SAFARI="ontouchstart"in win&&agent().browser.name==="safari",TRANSFORM=function(){if(typeof document>"u")return"";for(var _=(document.head||document.getElementsByTagName("head")[0]).style,o=["transform","webkitTransform","msTransform","mozTransform"],e=0,i=o.length;e<i;e++)if(o[e]in _)return o[e];return""}(),PREVENT_DRAG_CSSPROPS={"-webkit-user-select":"none","-ms-user-select":"none","-moz-user-select":"none","user-select":"none","-webkit-user-drag":"none"},toArray$2=function(_){for(var o=[],e=0,i=_.length;e<i;e++)o.push(_[e]);return o},$=function(_,o){o===void 0&&(o=!1);var e;if(typeof _=="string"){var i=_.match(/^<([a-z]+)\s*([^>]*)>/);if(i){var c=document.createElement("div");c.innerHTML=_,e=toArray$2(c.childNodes)}else e=toArray$2(document.querySelectorAll(_));o||(e=e.length>=1?e[0]:void 0)}else _===win?e=_:"value"in _||"current"in _?e=_.value||_.current:_.nodeName&&(_.nodeType===1||_.nodeType===9)?e=_:"jQuery"in win&&_ instanceof jQuery||_.constructor.prototype.jquery?e=o?_.toArray():_.get(0):Array.isArray(_)&&(e=_.map(function(f){return $(f)}),o||(e=e.length>=1?e[0]:void 0));return e},raf=win.requestAnimationFrame||win.webkitRequestAnimationFrame,caf=win.cancelAnimationFrame||win.webkitCancelAnimationFrame;if(raf&&!caf){var keyInfo_1={},oldraf_1=raf;raf=function(_){var o=function(i){keyInfo_1[e]&&_(i)},e=oldraf_1(o);return keyInfo_1[e]=!0,e},caf=function(_){delete keyInfo_1[_]}}else raf&&caf||(raf=function(_){return win.setTimeout(function(){_(win.performance&&win.performance.now&&win.performance.now()||new Date().getTime())},16)},caf=win.clearTimeout);var requestAnimationFrame=function(_){return raf(_)},cancelAnimationFrame=function(_){caf(_)},map=function(_,o){var e={};for(var i in _)i&&(e[i]=o(_[i],i));return e},filter=function(_,o){var e={};for(var i in _)i&&o(_[i],i)&&(e[i]=_[i]);return e},every=function(_,o){for(var e in _)if(e&&!o(_[e],e))return!1;return!0},equal=function(_,o){return every(_,function(e,i){return e===o[i]})},roundNumFunc={},roundNumber=function(_,o){return roundNumFunc[o]||(roundNumFunc[o]=getRoundFunc(o)),roundNumFunc[o](_)},roundNumbers=function(_,o){return!_||!o?_:map(_,function(e,i){return roundNumber(e,typeof o=="number"?o:o[i])})},getDecimalPlace=function(_){if(!isFinite(_))return 0;var o="".concat(_);if(o.indexOf("e")>=0){for(var e=0,i=1;Math.round(_*i)/i!==_;)i*=10,e++;return e}return o.indexOf(".")>=0?o.length-o.indexOf(".")-1:0},inversePow=function(_){return 1/Math.pow(10,_)},getRoundFunc=function(_){var o=_<1?Math.pow(10,getDecimalPlace(_)):1;return function(e){return _===0?0:Math.round(Math.round(e/_)*_*o)/o}},getAngle=function(_,o){return Math.atan2(o,_)*180/Math.PI},isCssPropsFromAxes=function(_){var o=!0;return Object.keys(PREVENT_DRAG_CSSPROPS).forEach(function(e){(!_||_[e]!==PREVENT_DRAG_CSSPROPS[e])&&(o=!1)}),o},getDirection$1=function(_,o){return _&&o?DIRECTION_ALL:_?DIRECTION_HORIZONTAL:o?DIRECTION_VERTICAL:DIRECTION_NONE},useDirection=function(_,o,e){return e?!!(o===DIRECTION_ALL||o&_&&e&_):!!(o&_)},setCssProps=function(_,o,e){var i,c=(i={},i[DIRECTION_NONE]="auto",i[DIRECTION_ALL]="none",i[DIRECTION_VERTICAL]="pan-x",i[DIRECTION_HORIZONTAL]="pan-y",i),f={};if(_&&_.style){var m=o.touchAction?o.touchAction:c[e],g=__assign$2(__assign$2({},PREVENT_DRAG_CSSPROPS),{"touch-action":_.style["touch-action"]==="none"?"none":m});Object.keys(g).forEach(function(Te){f[Te]=_.style[Te]}),Object.keys(g).forEach(function(Te){_.style[Te]=g[Te]})}return f},revertCssProps=function(_,o){_&&_.style&&o&&Object.keys(o).forEach(function(e){_.style[e]=o[e]})},EventManager=function(){function _(e){this._axes=e,this.holdingCount=0}var o=_.prototype;return o.hold=function(e,i){var c=this._getRoundPos(e).roundPos;this._axes.trigger(new ComponentEvent$1("hold",{pos:c,input:i.input||null,inputEvent:i.event||null,isTrusted:!0}))},o.triggerRelease=function(e){var i=this._getRoundPos(e.destPos,e.depaPos),c=i.roundPos,f=i.roundDepa;e.destPos=c,e.depaPos=f,e.setTo=this._createUserControll(e.destPos,e.duration),this._axes.trigger(new ComponentEvent$1("release",__assign$2(__assign$2({},e),{bounceRatio:this._getBounceRatio(c)})))},o.triggerChange=function(e,i,c,f){var m=this;f===void 0&&(f=!1);var g=this.animationManager,Te=g.axisManager,Ie=g.getEventInfo(),Oe=this._getRoundPos(e,i),Ae=Oe.roundPos,De=Oe.roundDepa,_e=Te.moveTo(Ae,De),qe=(c==null?void 0:c.event)||(Ie==null?void 0:Ie.event)||null,Be={pos:_e.pos,delta:_e.delta,bounceRatio:this._getBounceRatio(_e.pos),holding:f,inputEvent:qe,isTrusted:!!qe,input:(c==null?void 0:c.input)||(Ie==null?void 0:Ie.input)||null,set:qe?this._createUserControll(_e.pos):function(){}},Ne=new ComponentEvent$1("change",Be);return this._axes.trigger(Ne),Object.keys(_e.pos).forEach(function(Ve){var Ue=_e.pos[Ve];getObserver(m._axes,Ve,Ue).current=Ue}),qe&&Te.set(Be.set().destPos),!Ne.isCanceled()},o.triggerAnimationStart=function(e){var i=this._getRoundPos(e.destPos,e.depaPos),c=i.roundPos,f=i.roundDepa;e.destPos=c,e.depaPos=f,e.setTo=this._createUserControll(e.destPos,e.duration);var m=new ComponentEvent$1("animationStart",e);return this._axes.trigger(m),!m.isCanceled()},o.triggerAnimationEnd=function(e){e===void 0&&(e=!1),this._axes.trigger(new ComponentEvent$1("animationEnd",{isTrusted:e}))},o.triggerFinish=function(e){e===void 0&&(e=!1),this._axes.trigger(new ComponentEvent$1("finish",{isTrusted:e}))},o.setAnimationManager=function(e){this.animationManager=e},o.destroy=function(){this._axes.off()},o._createUserControll=function(e,i){i===void 0&&(i=0);var c={destPos:__assign$2({},e),duration:i};return function(f,m){return f&&(c.destPos=__assign$2({},f)),m!==void 0&&(c.duration=m),c}},o._getRoundPos=function(e,i){var c=this._axes.options.round;return{roundPos:roundNumbers(e,c),roundDepa:roundNumbers(i,c)}},o._getBounceRatio=function(e){return this._axes.axisManager.map(e,function(i,c){return i<c.range[0]&&c.bounce[0]!==0?(c.range[0]-i)/c.bounce[0]:i>c.range[1]&&c.bounce[1]!==0?(i-c.range[1])/c.bounce[1]:0})},__decorate([Observe],_.prototype,"holdingCount",void 0),_}(),InterruptManager=function(){function _(e){this._options=e,this._prevented=!1}var o=_.prototype;return o.isInterrupting=function(){return this._options.interruptable||this._prevented},o.isInterrupted=function(){return!this._options.interruptable&&this._prevented},o.setInterrupt=function(e){this._options.interruptable||(this._prevented=e)},_}(),getInsidePosition=function(_,o,e,i){var c=_,f=[e[0]?o[0]:i?o[0]-i[0]:o[0],e[1]?o[1]:i?o[1]+i[1]:o[1]];return c=Math.max(f[0],c),c=Math.min(f[1],c),c},isOutside=function(_,o){return _<o[0]||_>o[1]},isEndofBounce=function(_,o,e,i){return!i[0]&&_===o[0]-e[0]||!i[1]&&_===o[1]+e[1]},getDuration=function(_,o){var e=Math.sqrt(_/o*2);return e<100?0:e},isCircularable=function(_,o,e){return e[1]&&_>o[1]||e[0]&&_<o[0]},getCirculatedPos=function(_,o,e){var i=_,c=o[0],f=o[1],m=f-c;return e[1]&&_>f&&(i=(i-f)%m+c),e[0]&&_<c&&(i=(i-c)%m+f),i},AxisManager=function(){function _(e){var i=this;this._axis=e,this._complementOptions(),this._pos=Object.keys(this._axis).reduce(function(c,f){return c[f]=i._axis[f].startPos,c},{})}var o=_.prototype;return o.getDelta=function(e,i){var c=this.get(e);return map(this.get(i),function(f,m){return f-c[m]})},o.get=function(e){var i=this;return e&&Array.isArray(e)?e.reduce(function(c,f){return f&&f in i._pos&&(c[f]=i._pos[f]),c},{}):__assign$2(__assign$2({},this._pos),e||{})},o.moveTo=function(e,i){i===void 0&&(i=this._pos);var c=map(this._pos,function(f,m){return m in e&&m in i?e[m]-i[m]:0});return this.set(this.map(e,function(f,m){return m?getCirculatedPos(f,m.range,m.circular):0})),{pos:__assign$2({},this._pos),delta:c}},o.set=function(e){for(var i in e)i&&i in this._pos&&(this._pos[i]=e[i])},o.every=function(e,i){var c=this._axis;return every(e,function(f,m){return i(f,c[m],m)})},o.filter=function(e,i){var c=this._axis;return filter(e,function(f,m){return i(f,c[m],m)})},o.map=function(e,i){var c=this._axis;return map(e,function(f,m){return i(f,c[m],m)})},o.isOutside=function(e){return!this.every(e?this.get(e):this._pos,function(i,c){return!isOutside(i,c.range)})},o.getAxisOptions=function(e){return this._axis[e]},o.setAxis=function(e){var i=this;Object.keys(e).forEach(function(c){if(!i._axis[c])throw new Error("Axis ".concat(c," does not exist in Axes instance"));i._axis[c]=__assign$2(__assign$2({},i._axis[c]),e[c])}),this._complementOptions()},o._complementOptions=function(){var e=this;Object.keys(this._axis).forEach(function(i){e._axis[i]=__assign$2({range:[0,100],startPos:e._axis[i].range[0],bounce:[0,0],circular:[!1,!1]},e._axis[i]),["bounce","circular"].forEach(function(c){var f=e._axis,m=f[i][c];/string|number|boolean/.test(typeof m)&&(f[i][c]=[m,m])})})},_}(),SUPPORT_TOUCH="ontouchstart"in win,SUPPORT_POINTER="PointerEvent"in win,SUPPORT_MSPOINTER="MSPointerEvent"in win,SUPPORT_POINTER_EVENTS=SUPPORT_POINTER||SUPPORT_MSPOINTER,isValidKey=function(_,o){return!!(!o||o.indexOf(ANY)>-1||o.indexOf(NONE)>-1&&!_.shiftKey&&!_.ctrlKey&&!_.altKey&&!_.metaKey||o.indexOf(SHIFT)>-1&&_.shiftKey||o.indexOf(CTRL)>-1&&_.ctrlKey||o.indexOf(ALT)>-1&&_.altKey||o.indexOf(META)>-1&&_.metaKey)},EventInput=function(){function _(){var e=this;this._stopContextMenu=function(i){i.preventDefault(),win.removeEventListener("contextmenu",e._stopContextMenu)}}var o=_.prototype;return o.extendEvent=function(e){var i,c=this.prevEvent,f=this._getCenter(e),m=c?this._getMovement(e):{x:0,y:0},g=c?this._getScale(e):1,Te=c?getAngle(f.x-c.center.x,f.y-c.center.y):0,Ie=c?c.deltaX+m.x:m.x,Oe=c?c.deltaY+m.y:m.y,Ae=m.x,De=m.y,_e=this._latestInterval,qe=Date.now(),Be=_e?qe-_e.timestamp:0,Ne=c?c.velocityX:0,Ve=c?c.velocityY:0;return(!_e||Be>=VELOCITY_INTERVAL)&&(_e&&(i=[(Ie-_e.deltaX)/Be,(Oe-_e.deltaY)/Be],Ne=i[0],Ve=i[1]),this._latestInterval={timestamp:qe,deltaX:Ie,deltaY:Oe}),{srcEvent:e,scale:g,angle:Te,center:f,deltaX:Ie,deltaY:Oe,offsetX:Ae,offsetY:De,velocityX:Ne,velocityY:Ve,preventSystemEvent:!0}},o._getDistance=function(e,i){var c=i.clientX-e.clientX,f=i.clientY-e.clientY;return Math.sqrt(c*c+f*f)},o._getButton=function(e){var i={1:MOUSE_LEFT,2:MOUSE_RIGHT,4:MOUSE_MIDDLE},c=this._isTouchEvent(e)?MOUSE_LEFT:i[e.buttons];return c||null},o._isTouchEvent=function(e){return e.type&&e.type.indexOf("touch")>-1},o._isValidButton=function(e,i){return i.indexOf(e)>-1},o._isValidEvent=function(e,i,c){return(!i||isValidKey(e,i))&&(!c||this._isValidButton(this._getButton(e),c))},o._preventMouseButton=function(e,i){i===MOUSE_RIGHT?win.addEventListener("contextmenu",this._stopContextMenu):i===MOUSE_MIDDLE&&e.preventDefault()},_}(),MouseEventInput=function(_){__extends$2(o,_);function o(){var i=_!==null&&_.apply(this,arguments)||this;return i.start=["mousedown"],i.move=["mousemove"],i.end=["mouseup"],i}var e=o.prototype;return e.onEventStart=function(i,c,f){var m=this._getButton(i);return this._isValidEvent(i,c,f)?(this._preventMouseButton(i,m),this.extendEvent(i)):null},e.onEventMove=function(i,c,f){return this._isValidEvent(i,c,f)?this.extendEvent(i):null},e.onEventEnd=function(){},e.onRelease=function(){this.prevEvent=null},e.getTouches=function(i,c){return c&&this._isValidButton(MOUSE_BUTTON_CODE_MAP[i.which],c)&&this.end.indexOf(i.type)===-1?1:0},e._getScale=function(){return 1},e._getCenter=function(i){return{x:i.clientX,y:i.clientY}},e._getMovement=function(i){var c=this.prevEvent.srcEvent;return{x:i.clientX-c.clientX,y:i.clientY-c.clientY}},o}(EventInput),TouchEventInput=function(_){__extends$2(o,_);function o(){var i=_!==null&&_.apply(this,arguments)||this;return i.start=["touchstart"],i.move=["touchmove"],i.end=["touchend","touchcancel"],i}var e=o.prototype;return e.onEventStart=function(i,c){return this._baseTouches=i.touches,this._isValidEvent(i,c)?this.extendEvent(i):null},e.onEventMove=function(i,c){return this._isValidEvent(i,c)?this.extendEvent(i):null},e.onEventEnd=function(i){this._baseTouches=i.touches},e.onRelease=function(){this.prevEvent=null,this._baseTouches=null},e.getTouches=function(i){return i.touches.length},e._getScale=function(i){return i.touches.length!==2||this._baseTouches.length<2?null:this._getDistance(i.touches[0],i.touches[1])/this._getDistance(this._baseTouches[0],this._baseTouches[1])},e._getCenter=function(i){return{x:i.touches[0].clientX,y:i.touches[0].clientY}},e._getMovement=function(i){var c=this.prevEvent.srcEvent;return i.touches[0].identifier!==c.touches[0].identifier?{x:0,y:0}:{x:i.touches[0].clientX-c.touches[0].clientX,y:i.touches[0].clientY-c.touches[0].clientY}},o}(EventInput),PointerEventInput=function(_){__extends$2(o,_);function o(){var i=_!==null&&_.apply(this,arguments)||this;return i.start=SUPPORT_POINTER?["pointerdown"]:["MSPointerDown"],i.move=SUPPORT_POINTER?["pointermove"]:["MSPointerMove"],i.end=SUPPORT_POINTER?["pointerup","pointercancel"]:["MSPointerUp","MSPointerCancel"],i._firstInputs=[],i._recentInputs=[],i}var e=o.prototype;return e.onEventStart=function(i,c,f){var m=this._getButton(i);return this._isValidEvent(i,c,f)?(this._preventMouseButton(i,m),this._updatePointerEvent(i),this.extendEvent(i)):null},e.onEventMove=function(i,c,f){return this._isValidEvent(i,c,f)?(this._updatePointerEvent(i),this.extendEvent(i)):null},e.onEventEnd=function(i){this._removePointerEvent(i)},e.onRelease=function(){this.prevEvent=null,this._firstInputs=[],this._recentInputs=[]},e.getTouches=function(){return this._recentInputs.length},e._getScale=function(){return this._recentInputs.length!==2?null:this._getDistance(this._recentInputs[0],this._recentInputs[1])/this._getDistance(this._firstInputs[0],this._firstInputs[1])},e._getCenter=function(i){return{x:i.clientX,y:i.clientY}},e._getMovement=function(i){var c=this.prevEvent.srcEvent;return i.pointerId!==c.pointerId?{x:0,y:0}:{x:i.clientX-c.clientX,y:i.clientY-c.clientY}},e._updatePointerEvent=function(i){var c=this,f=!1;this._recentInputs.forEach(function(m,g){m.pointerId===i.pointerId&&(f=!0,c._recentInputs[g]=i)}),f||(this._firstInputs.push(i),this._recentInputs.push(i))},e._removePointerEvent=function(i){this._firstInputs=this._firstInputs.filter(function(c){return c.pointerId!==i.pointerId}),this._recentInputs=this._recentInputs.filter(function(c){return c.pointerId!==i.pointerId})},o}(EventInput),TouchMouseEventInput=function(_){__extends$2(o,_);function o(){var i=_!==null&&_.apply(this,arguments)||this;return i.start=["mousedown","touchstart"],i.move=["mousemove","touchmove"],i.end=["mouseup","touchend","touchcancel"],i}var e=o.prototype;return e.onEventStart=function(i,c,f){var m=this._getButton(i);return this._isTouchEvent(i)&&(this._baseTouches=i.touches),this._isValidEvent(i,c,f)?(this._preventMouseButton(i,m),this.extendEvent(i)):null},e.onEventMove=function(i,c,f){return this._isValidEvent(i,c,f)?this.extendEvent(i):null},e.onEventEnd=function(i){this._isTouchEvent(i)&&(this._baseTouches=i.touches)},e.onRelease=function(){this.prevEvent=null,this._baseTouches=null},e.getTouches=function(i,c){return this._isTouchEvent(i)?i.touches.length:this._isValidButton(MOUSE_BUTTON_CODE_MAP[i.which],c)&&this.end.indexOf(i.type)===-1?1:0},e._getScale=function(i){return this._isTouchEvent(i)?i.touches.length!==2||this._baseTouches.length<2?1:this._getDistance(i.touches[0],i.touches[1])/this._getDistance(this._baseTouches[0],this._baseTouches[1]):this.prevEvent.scale},e._getCenter=function(i){return this._isTouchEvent(i)?{x:i.touches[0].clientX,y:i.touches[0].clientY}:{x:i.clientX,y:i.clientY}},e._getMovement=function(i){var c=this,f=this.prevEvent.srcEvent,m=[i,f].map(function(Ie){return c._isTouchEvent(Ie)?{id:Ie.touches[0].identifier,x:Ie.touches[0].clientX,y:Ie.touches[0].clientY}:{id:null,x:Ie.clientX,y:Ie.clientY}}),g=m[0],Te=m[1];return g.id===Te.id?{x:g.x-Te.x,y:g.y-Te.y}:{x:0,y:0}},o}(EventInput),toAxis=function(_,o){return o.reduce(function(e,i,c){return _[c]&&(e[_[c]]=i),e},{})},convertInputType=function(_){_===void 0&&(_=[]);var o=!1,e=!1,i=!1;return _.forEach(function(c){switch(c){case"mouse":e=!0;break;case"touch":o=SUPPORT_TOUCH;break;case"pointer":i=SUPPORT_POINTER_EVENTS}}),i?new PointerEventInput:o&&e?new TouchMouseEventInput:o?new TouchEventInput:e?new MouseEventInput:null};function getAddEventOptions(_){return _.indexOf("touch")>-1?{passive:!1}:!1}var InputObserver=function(){function _(e){var i=e.options,c=e.interruptManager,f=e.eventManager,m=e.axisManager,g=e.animationManager;this._isOutside=!1,this._moveDistance=null,this._isStopped=!1,this.options=i,this._interruptManager=c,this._eventManager=f,this._axisManager=m,this._animationManager=g}var o=_.prototype;return o.get=function(e){return this._axisManager.get(e.axes)},o.hold=function(e,i){if(!(this._interruptManager.isInterrupted()||!e.axes.length)){var c={input:e,event:i};this._isStopped=!1,this._interruptManager.setInterrupt(!0),this._animationManager.stopAnimation(c),++this._eventManager.holdingCount,this._moveDistance||this._eventManager.hold(this._axisManager.get(),c),this._isOutside=this._axisManager.isOutside(e.axes),this._moveDistance=this._axisManager.get(e.axes)}},o.change=function(e,i,c,f){if(!(this._isStopped||!this._interruptManager.isInterrupting()||this._axisManager.every(c,function(De){return De===0}))){var m=i.srcEvent?i.srcEvent:i;if(!m.__childrenAxesAlreadyChanged){var g=this._moveDistance||this._axisManager.get(e.axes),Te;Te=map(g,function(De,_e){return De+(c[_e]||0)}),this._moveDistance&&(this._moveDistance=this._axisManager.map(Te,function(De,_e){var qe=_e.circular,Be=_e.range;return qe&&(qe[0]||qe[1])?getCirculatedPos(De,Be,qe):De})),this._isOutside&&this._axisManager.every(g,function(De,_e){return!isOutside(De,_e.range)})&&(this._isOutside=!1),g=this._atOutside(g),Te=this._atOutside(Te),(!this.options.nested||!this._isEndofAxis(c,g,Te))&&(m.__childrenAxesAlreadyChanged=!0);var Ie={input:e,event:i};if(f){var Oe=this._animationManager.getDuration(Te,g);this._animationManager.animateTo(Te,Oe,Ie)}else{var Ae=!this._eventManager.triggerChange(Te,g,Ie,!0);Ae&&(this._isStopped=!0,this._moveDistance=null,this._animationManager.finish(!1))}}}},o.release=function(e,i,c,f){if(!(this._isStopped||!this._interruptManager.isInterrupting()||!this._moveDistance)){var m=i.srcEvent?i.srcEvent:i;m.__childrenAxesAlreadyReleased&&(c=c.map(function(){return 0}));var g=this._axisManager.get(e.axes),Te=this._axisManager.get(),Ie=this._animationManager.getDisplacement(c),Oe=toAxis(e.axes,Ie),Ae=this._axisManager.get(this._axisManager.map(Oe,function(Ve,Ue,We){return Ue.circular&&(Ue.circular[0]||Ue.circular[1])?g[We]+Ve:getInsidePosition(g[We]+Ve,Ue.range,Ue.circular,Ue.bounce)}));m.__childrenAxesAlreadyReleased=!0;var De=this._animationManager.getDuration(Ae,g,f);De===0&&(Ae=__assign$2({},Te));var _e={depaPos:Te,destPos:Ae,duration:De,delta:this._axisManager.getDelta(Te,Ae),inputEvent:i,input:e,isTrusted:!0};--this._eventManager.holdingCount,this._eventManager.triggerRelease(_e),this._eventManager.holdingCount===0&&(this._moveDistance=null);var qe=this._animationManager.getUserControl(_e),Be=equal(qe.destPos,Te),Ne={input:e,event:i};Be||qe.duration===0?(Be||this._eventManager.triggerChange(qe.destPos,Te,Ne,!0),this._interruptManager.setInterrupt(!1),this._axisManager.isOutside()?this._animationManager.restore(Ne):this._eventManager.triggerFinish(!0)):this._animationManager.animateTo(qe.destPos,qe.duration,Ne)}},o._atOutside=function(e){var i=this;return this._isOutside?this._axisManager.map(e,function(c,f){var m=f.range[0]-f.bounce[0],g=f.range[1]+f.bounce[1];return c>g?g:c<m?m:c}):this._axisManager.map(e,function(c,f){var m=f.range[0],g=f.range[1],Te=f.bounce,Ie=f.circular;return Ie[0]&&c<m||Ie[1]&&c>g?c:c<m?m-i._animationManager.interpolate(m-c,Te[0]):c>g?g+i._animationManager.interpolate(c-g,Te[1]):c})},o._isEndofAxis=function(e,i,c){return this._axisManager.every(i,function(f,m,g){return e[g]===0||i[g]===c[g]&&isEndofBounce(f,m.range,m.bounce,m.circular)})},_}(),clamp$1=function(_,o,e){return Math.max(Math.min(_,e),o)},AnimationManager=function(){function _(e){var i=e.options,c=e.interruptManager,f=e.eventManager,m=e.axisManager;this._options=i,this.interruptManager=c,this.eventManager=f,this.axisManager=m,this.animationEnd=this.animationEnd.bind(this)}var o=_.prototype;return o.getDuration=function(e,i,c){var f=this,m;if(typeof c<"u")m=c;else{var g=map(i,function(Te,Ie){return getDuration(Math.abs(Te-e[Ie]),f._options.deceleration)});m=Object.keys(g).reduce(function(Te,Ie){return Math.max(Te,g[Ie])},-1/0)}return clamp$1(m,this._options.minimumDuration,this._options.maximumDuration)},o.getDisplacement=function(e){var i=Math.pow(e.reduce(function(f,m){return f+m*m},0),1/e.length),c=Math.abs(i/-this._options.deceleration);return e.map(function(f){return f/2*c})},o.stopAnimation=function(e){if(this._animateParam){var i=this.axisManager.get(),c=this.axisManager.map(i,function(f,m){return getCirculatedPos(f,m.range,m.circular)});every(c,function(f,m){return i[m]===f})||this.eventManager.triggerChange(c,i,e,!!e),this._animateParam=null,this._raf&&cancelAnimationFrame(this._raf),this._raf=null,this.eventManager.triggerAnimationEnd(!!(e!=null&&e.event))}},o.getEventInfo=function(){return this._animateParam&&this._animateParam.input&&this._animateParam.inputEvent?{input:this._animateParam.input,event:this._animateParam.inputEvent}:null},o.restore=function(e){var i=this.axisManager.get(),c=this.axisManager.map(i,function(f,m){return Math.min(m.range[1],Math.max(m.range[0],f))});this.stopAnimation(),this.animateTo(c,this.getDuration(i,c),e)},o.animationEnd=function(){var e=this.getEventInfo();this._animateParam=null;var i=this.axisManager.filter(this.axisManager.get(),function(c,f){return isCircularable(c,f.range,f.circular)});Object.keys(i).length>0&&this.setTo(this.axisManager.map(i,function(c,f){return getCirculatedPos(c,f.range,f.circular)})),this.interruptManager.setInterrupt(!1),this.eventManager.triggerAnimationEnd(!!e),this.axisManager.isOutside()?this.restore(e):this.finish(!!e)},o.finish=function(e){this._animateParam=null,this.interruptManager.setInterrupt(!1),this.eventManager.triggerFinish(e)},o.getUserControl=function(e){var i=e.setTo();return i.destPos=this.axisManager.get(i.destPos),i.duration=clamp$1(i.duration,this._options.minimumDuration,this._options.maximumDuration),i},o.animateTo=function(e,i,c){var f=this;this.stopAnimation();var m=this._createAnimationParam(e,i,c),g=__assign$2({},m.depaPos),Te=this.eventManager.triggerAnimationStart(m),Ie=this.getUserControl(m);if(!Te&&this.axisManager.every(Ie.destPos,function(Ae,De){return isCircularable(Ae,De.range,De.circular)})&&console.warn("You can't stop the 'animation' event when 'circular' is true."),Te&&!equal(Ie.destPos,g)){var Oe=(c==null?void 0:c.event)||null;this._animateLoop({depaPos:g,destPos:Ie.destPos,duration:Ie.duration,delta:this.axisManager.getDelta(g,Ie.destPos),isTrusted:!!Oe,inputEvent:Oe,input:(c==null?void 0:c.input)||null},function(){return f.animationEnd()})}},o.setTo=function(e,i){i===void 0&&(i=0);var c=Object.keys(e),f=this.axisManager.get(c);if(equal(e,f))return this;this.interruptManager.setInterrupt(!0);var m=filter(e,function(g,Te){return f[Te]!==g});return Object.keys(m).length?(m=this.axisManager.map(m,function(g,Te){var Ie=Te.range,Oe=Te.circular;return Oe&&(Oe[0]||Oe[1])?g:getInsidePosition(g,Ie,Oe)}),equal(m,f)?this:(i>0?this.animateTo(m,i):(this.stopAnimation(),this.eventManager.triggerChange(m),this.finish(!1)),this)):this},o.setBy=function(e,i){return i===void 0&&(i=0),this.setTo(map(this.axisManager.get(Object.keys(e)),function(c,f){return c+e[f]}),i)},o.setOptions=function(e){this._options=__assign$2(__assign$2({},this._options),e)},o._createAnimationParam=function(e,i,c){var f=this.axisManager.get(),m=e,g=(c==null?void 0:c.event)||null;return{depaPos:f,destPos:m,duration:clamp$1(i,this._options.minimumDuration,this._options.maximumDuration),delta:this.axisManager.getDelta(f,m),inputEvent:g,input:(c==null?void 0:c.input)||null,isTrusted:!!g,done:this.animationEnd}},o._animateLoop=function(e,i){var c=this;if(e.duration){this._animateParam=__assign$2(__assign$2({},e),{startTime:new Date().getTime()});var f=map(e.destPos,function(Te){return Te}),m=this._initState(this._animateParam),g=function(){c._raf=null;var Te=c._animateParam,Ie=c._getNextState(m),Oe=!c.eventManager.triggerChange(Ie.pos,m.pos);if(m=Ie,Ie.finished){Te.destPos=c._getFinalPos(Te.destPos,f),equal(Te.destPos,c.axisManager.get(Object.keys(Te.destPos)))||c.eventManager.triggerChange(Te.destPos,Ie.pos),i();return}else Oe?c.finish(!1):c._raf=requestAnimationFrame(g)};g()}else this.eventManager.triggerChange(e.destPos),i()},o._getFinalPos=function(e,i){var c=this,f=1e-6,m=map(e,function(g,Te){if(g>=i[Te]-f&&g<=i[Te]+f)return i[Te];var Ie=c._getRoundUnit(g,Te),Oe=roundNumber(g,Ie);return Oe});return m},o._getRoundUnit=function(e,i){var c=this._options.round,f=null;if(!c){var m=this.axisManager.getAxisOptions(i);f=inversePow(Math.max(getDecimalPlace(m.range[0]),getDecimalPlace(m.range[1]),getDecimalPlace(e)))}return f||c},_}(),EasingManager=function(_){__extends$2(o,_);function o(){var i=_!==null&&_.apply(this,arguments)||this;return i._useDuration=!0,i}var e=o.prototype;return e.interpolate=function(i,c){var f=this._easing(1e-5)/1e-5;return this._easing(i/(c*f))*c},e.updateAnimation=function(i){var c,f=this._animateParam;if(f){var m=new Date().getTime()-f.startTime,g=(i==null?void 0:i.destPos)||f.destPos,Te=(c=i==null?void 0:i.duration)!==null&&c!==void 0?c:f.duration;if(i!=null&&i.restart||Te<=m){this.setTo(g,Te-m);return}if(i!=null&&i.destPos){var Ie=this.axisManager.get();this._initialEasingPer=this._prevEasingPer,f.delta=this.axisManager.getDelta(Ie,g),f.destPos=g}if(i!=null&&i.duration){var Oe=(m+this._durationOffset)/f.duration;this._durationOffset=Oe*Te-m,f.duration=Te}}},e._initState=function(i){return this._initialEasingPer=0,this._prevEasingPer=0,this._durationOffset=0,{pos:i.depaPos,easingPer:0,finished:!1}},e._getNextState=function(i){var c=this,f=this._animateParam,m=i.pos,g=f.destPos,Te=map(m,function(_e,qe){return _e<=g[qe]?1:-1}),Ie=new Date().getTime()-f.startTime,Oe=(Ie+this._durationOffset)/f.duration,Ae=this._easing(Oe),De=this.axisManager.map(m,function(_e,qe,Be){var Ne=Oe>=1?g[Be]:_e+f.delta[Be]*(Ae-c._prevEasingPer)/(1-c._initialEasingPer),Ve=getCirculatedPos(Ne,qe.range,qe.circular);if(Ne!==Ve){var Ue=Te[Be]*(qe.range[1]-qe.range[0]);g[Be]-=Ue,m[Be]-=Ue}return Ve});return this._prevEasingPer=Ae,{pos:De,easingPer:Ae,finished:Ae>=1}},e._easing=function(i){return i>1?1:this._options.easing(i)},o}(AnimationManager),Axes=function(_){__extends$2(o,_);function o(i,c,f){i===void 0&&(i={}),c===void 0&&(c={}),f===void 0&&(f={});var m=_.call(this)||this;return m.axis=i,m._inputs=[],m.options=__assign$2({easing:function(g){return 1-Math.pow(1-g,3)},interruptable:!0,maximumDuration:1/0,minimumDuration:0,deceleration:6e-4,round:null,nested:!1},c),Object.keys(f).forEach(function(g){m.axis[g].startPos=f[g]}),m.interruptManager=new InterruptManager(m.options),m.axisManager=new AxisManager(m.axis),m.eventManager=new EventManager(m),m.animationManager=new EasingManager(m),m.inputObserver=new InputObserver(m),m.eventManager.setAnimationManager(m.animationManager),m.eventManager.triggerChange(m.axisManager.get()),m}var e=o.prototype;return Object.defineProperty(e,"holding",{get:function(){return this.eventManager.holdingCount>0},enumerable:!1,configurable:!0}),e.connect=function(i,c){var f;return typeof i=="string"?f=i.split(" "):f=i.concat(),~this._inputs.indexOf(c)&&this.disconnect(c),c.mapAxes(f),c.connect(this.inputObserver),this._inputs.push(c),this},e.disconnect=function(i){if(i){var c=this._inputs.indexOf(i);c>=0&&(this._inputs[c].disconnect(),this._inputs.splice(c,1))}else this._inputs.forEach(function(f){return f.disconnect()}),this._inputs=[];return this},e.get=function(i){return this.axisManager.get(i)},e.setTo=function(i,c){return c===void 0&&(c=0),this.animationManager.setTo(i,c),this},e.setBy=function(i,c){return c===void 0&&(c=0),this.animationManager.setBy(i,c),this},e.setOptions=function(i){return this.options=__assign$2(__assign$2({},this.options),i),this.animationManager.setOptions(i),this},e.setAxis=function(i){return this.axisManager.setAxis(i),this},e.stopAnimation=function(){return this.animationManager.stopAnimation(),this.animationManager.finish(!1),this},e.updateAnimation=function(i){return this.animationManager.updateAnimation(i),this},e.isBounceArea=function(i){return this.axisManager.isOutside(i)},e.destroy=function(){this.disconnect(),this.eventManager.destroy()},o.VERSION="3.9.1",o.TRANSFORM=TRANSFORM,o.DIRECTION_NONE=DIRECTION_NONE,o.DIRECTION_LEFT=DIRECTION_LEFT,o.DIRECTION_RIGHT=DIRECTION_RIGHT,o.DIRECTION_UP=DIRECTION_UP,o.DIRECTION_DOWN=DIRECTION_DOWN,o.DIRECTION_HORIZONTAL=DIRECTION_HORIZONTAL,o.DIRECTION_VERTICAL=DIRECTION_VERTICAL,o.DIRECTION_ALL=DIRECTION_ALL,__decorate([Computed],o.prototype,"holding",null),o=__decorate([ReactiveSubscribe],o),o}(Component),getDirectionByAngle=function(_,o){if(o<0||o>90)return DIRECTION_NONE;var e=Math.abs(_);return e>o&&e<180-o?DIRECTION_VERTICAL:DIRECTION_HORIZONTAL},PanInput=function(){function _(e,i){var c=this;this.axes=[],this.element=null,this._enabled=!1,this._activeEvent=null,this._atRightEdge=!1,this._rightEdgeTimer=0,this._dragged=!1,this._isOverThreshold=!1,this._preventClickWhenDragged=function(f){c._dragged&&(f.preventDefault(),f.stopPropagation()),c._dragged=!1},this._voidFunction=function(){},this.element=$(e),this.options=__assign$2({inputType:["touch","mouse","pointer"],inputKey:[ANY],inputButton:[MOUSE_LEFT],scale:[1,1],thresholdAngle:45,threshold:0,preventClickOnDrag:!1,preventDefaultOnDrag:!1,iOSEdgeSwipeThreshold:IOS_EDGE_THRESHOLD,releaseOnScroll:!1,touchAction:null},i),this._onPanstart=this._onPanstart.bind(this),this._onPanmove=this._onPanmove.bind(this),this._onPanend=this._onPanend.bind(this)}var o=_.prototype;return o.mapAxes=function(e){this._direction=getDirection$1(!!e[0],!!e[1]),this.axes=e},o.connect=function(e){return this._activeEvent&&(this._detachElementEvent(),this._detachWindowEvent(this._activeEvent)),this._attachElementEvent(e),this},o.disconnect=function(){return this._detachElementEvent(),this._detachWindowEvent(this._activeEvent),this._direction=DIRECTION_NONE,this},o.destroy=function(){this.disconnect(),this.element=null},o.enable=function(){return this._enabled||(this._enabled=!0,this._originalCssProps=setCssProps(this.element,this.options,this._direction)),this},o.disable=function(){return this._enabled&&(this._enabled=!1,isCssPropsFromAxes(this._originalCssProps)||revertCssProps(this.element,this._originalCssProps)),this},o.isEnabled=function(){return this._enabled},o.release=function(){var e=this._activeEvent,i=e.prevEvent;return e.onRelease(),this._observer.release(this,i,[0,0]),this._detachWindowEvent(e),this},o._onPanstart=function(e){var i=this.options,c=i.inputKey,f=i.inputButton,m=i.preventDefaultOnDrag,g=this._activeEvent,Te=g.onEventStart(e,c,f);if(!(!Te||!this._enabled||g.getTouches(e,f)>1)&&Te.srcEvent.cancelable!==!1){var Ie=this.options.iOSEdgeSwipeThreshold;this._dragged=!1,this._isOverThreshold=!1,this._observer.hold(this,Te),this._atRightEdge=IS_IOS_SAFARI&&Te.center.x>window.innerWidth-Ie,this._attachWindowEvent(g),m&&Te.srcEvent.type!=="touchstart"&&Te.srcEvent.preventDefault(),g.prevEvent=Te}},o._onPanmove=function(e){var i=this,c=this.options,f=c.iOSEdgeSwipeThreshold,m=c.preventClickOnDrag,g=c.releaseOnScroll,Te=c.inputKey,Ie=c.inputButton,Oe=c.threshold,Ae=c.thresholdAngle,De=this._activeEvent,_e=De.onEventMove(e,Te,Ie),qe=De.getTouches(e,Ie);if(qe===0||g&&_e&&!_e.srcEvent.cancelable){this._onPanend(e);return}if(!(!_e||!this._enabled||qe>1)){var Be=getDirectionByAngle(_e.angle,Ae),Ne=useDirection(DIRECTION_HORIZONTAL,this._direction,Be),Ve=useDirection(DIRECTION_VERTICAL,this._direction,Be);if(De.prevEvent&&IS_IOS_SAFARI){var Ue=_e.center.x<0;if(Ue){this.release();return}else if(this._atRightEdge){clearTimeout(this._rightEdgeTimer);var We=_e.deltaX<-f;We?this._atRightEdge=!1:this._rightEdgeTimer=window.setTimeout(function(){return i.release()},100)}}var He=this._getDistance([_e.deltaX,_e.deltaY],[Ne,Ve]),Ze=this._getOffset([_e.offsetX,_e.offsetY],[Ne,Ve]),ct=Ze.some(function(at){return at!==0});ct&&(_e.srcEvent.cancelable!==!1&&_e.srcEvent.preventDefault(),_e.srcEvent.stopPropagation()),_e.preventSystemEvent=ct,ct&&(this._isOverThreshold||He>=Oe)&&(this._dragged=m,this._isOverThreshold=!0,this._observer.change(this,_e,toAxis(this.axes,Ze))),De.prevEvent=_e}},o._onPanend=function(e){var i=this.options.inputButton,c=this._activeEvent;if(c.onEventEnd(e),!(!this._enabled||c.getTouches(e,i)!==0)){this._detachWindowEvent(c),clearTimeout(this._rightEdgeTimer);var f=c.prevEvent,m=this._isOverThreshold?this._getOffset([Math.abs(f.velocityX)*(f.offsetX<0?-1:1),Math.abs(f.velocityY)*(f.offsetY<0?-1:1)],[useDirection(DIRECTION_HORIZONTAL,this._direction),useDirection(DIRECTION_VERTICAL,this._direction)]):[0,0];c.onRelease(),this._observer.release(this,f,m)}},o._attachWindowEvent=function(e){var i=this;e==null||e.move.forEach(function(c){window.addEventListener(c,i._onPanmove,getAddEventOptions(c))}),e==null||e.end.forEach(function(c){window.addEventListener(c,i._onPanend,getAddEventOptions(c))})},o._detachWindowEvent=function(e){var i=this;e==null||e.move.forEach(function(c){window.removeEventListener(c,i._onPanmove)}),e==null||e.end.forEach(function(c){window.removeEventListener(c,i._onPanend)})},o._getOffset=function(e,i){var c=this.options.scale;return[i[0]?e[0]*c[0]:0,i[1]?e[1]*c[1]:0]},o._getDistance=function(e,i){return Math.sqrt(Number(i[0])*Math.pow(e[0],2)+Number(i[1])*Math.pow(e[1],2))},o._attachElementEvent=function(e){var i=this,c=convertInputType(this.options.inputType),f=this.element;if(c){if(!f)throw new Error("Element to connect input does not exist.");this._observer=e,this.enable(),this._activeEvent=c,f.addEventListener("click",this._preventClickWhenDragged,!0),c.start.forEach(function(m){f.addEventListener(m,i._onPanstart)}),c.move.forEach(function(m){f.addEventListener(m,i._voidFunction)})}},o._detachElementEvent=function(){var e=this,i=this._activeEvent,c=this.element;c&&(c.removeEventListener("click",this._preventClickWhenDragged,!0),i==null||i.start.forEach(function(f){c.removeEventListener(f,e._onPanstart)}),i==null||i.move.forEach(function(f){c.removeEventListener(f,e._voidFunction)})),this.disable(),this._observer=null},_}();const Axes$1=Axes;var extendStatics$1=function(_,o){return extendStatics$1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])},extendStatics$1(_,o)};function __extends$1(_,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");extendStatics$1(_,o);function e(){this.constructor=_}_.prototype=o===null?Object.create(o):(e.prototype=o.prototype,new e)}var __assign$1=function(){return __assign$1=Object.assign||function(o){for(var e,i=1,c=arguments.length;i<c;i++){e=arguments[i];for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(o[f]=e[f])}return o},__assign$1.apply(this,arguments)};function __spreadArrays(){for(var _=0,o=0,e=arguments.length;o<e;o++)_+=arguments[o].length;for(var i=Array(_),c=0,o=0;o<e;o++)for(var f=arguments[o],m=0,g=f.length;m<g;m++,c++)i[c]=f[m];return i}var isWindow=typeof window<"u",ua$1=isWindow?window.navigator.userAgent:"",SUPPORT_COMPUTEDSTYLE=isWindow?"getComputedStyle"in window:!1,IS_IE=/MSIE|Trident|Windows Phone|Edge/.test(ua$1),SUPPORT_ADDEVENTLISTENER=isWindow?"addEventListener"in document:!1,WIDTH="width",HEIGHT="height";function getAttribute(_,o){return _.getAttribute(o)||""}function toArray$1(_){return[].slice.call(_)}function hasSizeAttribute(_,o){return o===void 0&&(o="data-"),!!_.getAttribute(o+"width")}function hasLoadingAttribute(_,o){return o===void 0&&(o="data-"),"loading"in _&&_.getAttribute("loading")==="lazy"||!!_.getAttribute(o+"lazy")}function hasSkipAttribute(_,o){return o===void 0&&(o="data-"),!!_.getAttribute(o+"skip")}function addEvent(_,o,e){SUPPORT_ADDEVENTLISTENER?_.addEventListener(o,e,!1):_.attachEvent?_.attachEvent("on"+o,e):_["on"+o]=e}function removeEvent(_,o,e){_.removeEventListener?_.removeEventListener(o,e,!1):_.detachEvent?_.detachEvent("on"+o,e):_["on"+o]=null}function innerWidth(_){return getSize(_,"Width")}function innerHeight(_){return getSize(_,"Height")}function getStyles(_){return(SUPPORT_COMPUTEDSTYLE?window.getComputedStyle(_):_.currentStyle)||{}}function getSize(_,o){var e=_["client"+o]||_["offset"+o];return parseFloat(e||getStyles(_)[o.toLowerCase()])||0}function getContentElements(_,o,e){var i=toArray$1(_.querySelectorAll(__spreadArrays(["["+e+"skip] ["+e+"width]"],o.map(function(c){return["["+e+"skip] "+c,c+"["+e+"skip]","["+e+"width] "+c].join(", ")})).join(", ")));return toArray$1(_.querySelectorAll("["+e+"width], "+o.join(", "))).filter(function(c){return i.indexOf(c)===-1})}var elements=[];function addAutoSizer(_,o){!elements.length&&addEvent(window,"resize",resizeAllAutoSizers),_.__PREFIX__=o,elements.push(_),resize(_)}function removeAutoSizer(_,o){var e=elements.indexOf(_);if(!(e<0)){var i=getAttribute(_,o+"fixed");delete _.__PREFIX__,_.style[i===HEIGHT?WIDTH:HEIGHT]="",elements.splice(e,1),!elements.length&&removeEvent(window,"resize",resizeAllAutoSizers)}}function resize(_,o){o===void 0&&(o="data-");var e=_.__PREFIX__||o,i=parseInt(getAttribute(_,""+e+WIDTH),10)||0,c=parseInt(getAttribute(_,""+e+HEIGHT),10)||0,f=getAttribute(_,e+"fixed");if(f===HEIGHT){var m=innerHeight(_)||c;_.style[WIDTH]=i/c*m+"px"}else{var m=innerWidth(_)||i;_.style[HEIGHT]=c/i*m+"px"}}function resizeAllAutoSizers(){elements.forEach(function(_){resize(_)})}var Loader=function(_){__extends$1(o,_);function o(i,c){c===void 0&&(c={});var f=_.call(this)||this;f.isReady=!1,f.isPreReady=!1,f.hasDataSize=!1,f.hasLoading=!1,f.isSkip=!1,f.onCheck=function(g){if(f.clear(),g&&g.type==="error"&&f.onError(f.element),!(f.hasLoading&&f.checkElement())){var Te=!f.hasDataSize&&!f.hasLoading;f.onReady(Te)}},f.options=__assign$1({prefix:"data-"},c),f.element=i;var m=f.options.prefix;return f.hasDataSize=hasSizeAttribute(i,m),f.isSkip=hasSkipAttribute(i,m),f.hasLoading=hasLoadingAttribute(i,m),f}var e=o.prototype;return e.check=function(){return this.isSkip||!this.checkElement()?(this.onAlreadyReady(!0),!1):(this.hasDataSize&&addAutoSizer(this.element,this.options.prefix),(this.hasDataSize||this.hasLoading)&&this.onAlreadyPreReady(),!0)},e.addEvents=function(){var i=this,c=this.element;this.constructor.EVENTS.forEach(function(f){addEvent(c,f,i.onCheck)})},e.clear=function(){var i=this,c=this.element;this.constructor.EVENTS.forEach(function(f){removeEvent(c,f,i.onCheck)}),this.removeAutoSizer()},e.destroy=function(){this.clear(),this.off()},e.removeAutoSizer=function(){if(this.hasDataSize){var i=this.options.prefix;removeAutoSizer(this.element,i)}},e.onError=function(i){this.trigger("error",{element:this.element,target:i})},e.onPreReady=function(){this.isPreReady||(this.isPreReady=!0,this.trigger("preReady",{element:this.element,hasLoading:this.hasLoading,isSkip:this.isSkip}))},e.onReady=function(i){this.isReady||(i=!this.isPreReady&&i,i&&(this.isPreReady=!0),this.removeAutoSizer(),this.isReady=!0,this.trigger("ready",{element:this.element,withPreReady:i,hasLoading:this.hasLoading,isSkip:this.isSkip}))},e.onAlreadyError=function(i){var c=this;setTimeout(function(){c.onError(i)})},e.onAlreadyPreReady=function(){var i=this;setTimeout(function(){i.onPreReady()})},e.onAlreadyReady=function(i){var c=this;setTimeout(function(){c.onReady(i)})},o.EVENTS=[],o}(Component),ElementLoader=function(_){__extends$1(o,_);function o(){return _!==null&&_.apply(this,arguments)||this}var e=o.prototype;return e.setHasLoading=function(i){this.hasLoading=i},e.check=function(){return this.isSkip?(this.onAlreadyReady(!0),!1):(this.hasDataSize?(addAutoSizer(this.element,this.options.prefix),this.onAlreadyPreReady()):this.trigger("requestChildren"),!0)},e.checkElement=function(){return!0},e.destroy=function(){this.clear(),this.trigger("requestDestroy"),this.off()},e.onAlreadyPreReady=function(){_.prototype.onAlreadyPreReady.call(this),this.trigger("reqeustReadyChildren")},o.EVENTS=[],o}(Loader),ImReadyManager=function(_){__extends$1(o,_);function o(i){i===void 0&&(i={});var c=_.call(this)||this;return c.readyCount=0,c.preReadyCount=0,c.totalCount=0,c.totalErrorCount=0,c.isPreReadyOver=!0,c.elementInfos=[],c.options=__assign$1({loaders:{},prefix:"data-"},i),c}var e=o.prototype;return e.check=function(i){var c=this,f=this.options.prefix;this.clear(),this.elementInfos=toArray$1(i).map(function(g,Te){var Ie=c.getLoader(g,{prefix:f});return Ie.check(),Ie.on("error",function(Oe){c.onError(Te,Oe.target)}).on("preReady",function(Oe){var Ae=c.elementInfos[Te];Ae.hasLoading=Oe.hasLoading,Ae.isSkip=Oe.isSkip;var De=c.checkPreReady(Te);c.onPreReadyElement(Te),De&&c.onPreReady()}).on("ready",function(Oe){var Ae=Oe.withPreReady,De=Oe.hasLoading,_e=Oe.isSkip,qe=c.elementInfos[Te];qe.hasLoading=De,qe.isSkip=_e;var Be=Ae&&c.checkPreReady(Te),Ne=c.checkReady(Te);Ae&&c.onPreReadyElement(Te),c.onReadyElement(Te),Be&&c.onPreReady(),Ne&&c.onReady()}),{loader:Ie,element:g,hasLoading:!1,hasError:!1,isPreReady:!1,isReady:!1,isSkip:!1}});var m=this.elementInfos.length;return this.totalCount=m,m||setTimeout(function(){c.onPreReady(),c.onReady()}),this},e.getTotalCount=function(){return this.totalCount},e.isPreReady=function(){return this.elementInfos.every(function(i){return i.isPreReady})},e.isReady=function(){return this.elementInfos.every(function(i){return i.isReady})},e.hasError=function(){return this.totalErrorCount>0},e.clear=function(){this.isPreReadyOver=!1,this.totalCount=0,this.preReadyCount=0,this.readyCount=0,this.totalErrorCount=0,this.elementInfos.forEach(function(i){i.loader&&i.loader.destroy()}),this.elementInfos=[]},e.destroy=function(){this.clear(),this.off()},e.getLoader=function(i,c){var f=this,m=i.tagName.toLowerCase(),g=this.options.loaders,Te=c.prefix,Ie=Object.keys(g);if(g[m])return new g[m](i,c);var Oe=new ElementLoader(i,c),Ae=toArray$1(i.querySelectorAll(Ie.join(", ")));Oe.setHasLoading(Ae.some(function(qe){return hasLoadingAttribute(qe,Te)}));var De=!1,_e=this.clone().on("error",function(qe){Oe.onError(qe.target)}).on("ready",function(){Oe.onReady(De)});return Oe.on("requestChildren",function(){var qe=getContentElements(i,Ie,f.options.prefix);_e.check(qe).on("preReady",function(Be){De=Be.isReady,De||Oe.onPreReady()})}).on("reqeustReadyChildren",function(){_e.check(Ae)}).on("requestDestroy",function(){_e.destroy()}),Oe},e.clone=function(){return new o(__assign$1({},this.options))},e.checkPreReady=function(i){return this.elementInfos[i].isPreReady=!0,++this.preReadyCount,!(this.preReadyCount<this.totalCount)},e.checkReady=function(i){return this.elementInfos[i].isReady=!0,++this.readyCount,!(this.readyCount<this.totalCount)},e.onError=function(i,c){var f=this.elementInfos[i];f.hasError=!0,this.trigger(new ComponentEvent$1("error",{element:f.element,index:i,target:c,errorCount:this.getErrorCount(),totalErrorCount:++this.totalErrorCount}))},e.onPreReadyElement=function(i){var c=this.elementInfos[i];this.trigger(new ComponentEvent$1("preReadyElement",{element:c.element,index:i,preReadyCount:this.preReadyCount,readyCount:this.readyCount,totalCount:this.totalCount,isPreReady:this.isPreReady(),isReady:this.isReady(),hasLoading:c.hasLoading,isSkip:c.isSkip}))},e.onPreReady=function(){this.isPreReadyOver=!0,this.trigger(new ComponentEvent$1("preReady",{readyCount:this.readyCount,totalCount:this.totalCount,isReady:this.isReady(),hasLoading:this.hasLoading()}))},e.onReadyElement=function(i){var c=this.elementInfos[i];this.trigger(new ComponentEvent$1("readyElement",{index:i,element:c.element,hasError:c.hasError,errorCount:this.getErrorCount(),totalErrorCount:this.totalErrorCount,preReadyCount:this.preReadyCount,readyCount:this.readyCount,totalCount:this.totalCount,isPreReady:this.isPreReady(),isReady:this.isReady(),hasLoading:c.hasLoading,isPreReadyOver:this.isPreReadyOver,isSkip:c.isSkip}))},e.onReady=function(){this.trigger(new ComponentEvent$1("ready",{errorCount:this.getErrorCount(),totalErrorCount:this.totalErrorCount,totalCount:this.totalCount}))},e.getErrorCount=function(){return this.elementInfos.filter(function(i){return i.hasError}).length},e.hasLoading=function(){return this.elementInfos.some(function(i){return i.hasLoading})},o}(Component),ImageLoader=function(_){__extends$1(o,_);function o(){return _!==null&&_.apply(this,arguments)||this}var e=o.prototype;return e.checkElement=function(){var i=this.element,c=i.getAttribute("src");if(i.complete){if(c)return i.naturalWidth||this.onAlreadyError(i),!1;this.onAlreadyPreReady()}return this.addEvents(),IS_IE&&i.setAttribute("src",c),!0},o.EVENTS=["load","error"],o}(Loader),VideoLoader=function(_){__extends$1(o,_);function o(){return _!==null&&_.apply(this,arguments)||this}var e=o.prototype;return e.checkElement=function(){var i=this.element;return i.readyState>=1?!1:i.error?(this.onAlreadyError(i),!1):(this.addEvents(),!0)},o.EVENTS=["loadedmetadata","error"],o}(Loader),ImReady=function(_){__extends$1(o,_);function o(e){return e===void 0&&(e={}),_.call(this,__assign$1({loaders:{img:ImageLoader,video:VideoLoader}},e))||this}return o}(ImReadyManager);const ImReady$1=ImReady;var extendStatics=function(_,o){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])},extendStatics(_,o)};function __extends(_,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");extendStatics(_,o);function e(){this.constructor=_}_.prototype=o===null?Object.create(o):(e.prototype=o.prototype,new e)}var __assign=function(){return __assign=Object.assign||function(o){for(var e,i=1,c=arguments.length;i<c;i++){e=arguments[i];for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(o[f]=e[f])}return o},__assign.apply(this,arguments)};function __awaiter(_,o,e,i){function c(f){return f instanceof e?f:new e(function(m){m(f)})}return new(e||(e=Promise))(function(f,m){function g(Oe){try{Ie(i.next(Oe))}catch(Ae){m(Ae)}}function Te(Oe){try{Ie(i.throw(Oe))}catch(Ae){m(Ae)}}function Ie(Oe){Oe.done?f(Oe.value):c(Oe.value).then(g,Te)}Ie((i=i.apply(_,o||[])).next())})}function __generator(_,o){var e={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},i,c,f,m;return m={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function g(Ie){return function(Oe){return Te([Ie,Oe])}}function Te(Ie){if(i)throw new TypeError("Generator is already executing.");for(;m&&(m=0,Ie[0]&&(e=0)),e;)try{if(i=1,c&&(f=Ie[0]&2?c.return:Ie[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,Ie[1])).done)return f;switch(c=0,f&&(Ie=[Ie[0]&2,f.value]),Ie[0]){case 0:case 1:f=Ie;break;case 4:return e.label++,{value:Ie[1],done:!1};case 5:e.label++,c=Ie[1],Ie=[0];continue;case 7:Ie=e.ops.pop(),e.trys.pop();continue;default:if(f=e.trys,!(f=f.length>0&&f[f.length-1])&&(Ie[0]===6||Ie[0]===2)){e=0;continue}if(Ie[0]===3&&(!f||Ie[1]>f[0]&&Ie[1]<f[3])){e.label=Ie[1];break}if(Ie[0]===6&&e.label<f[1]){e.label=f[1],f=Ie;break}if(f&&e.label<f[2]){e.label=f[2],e.ops.push(Ie);break}f[2]&&e.ops.pop(),e.trys.pop();continue}Ie=o.call(_,e)}catch(Oe){Ie=[6,Oe],c=0}finally{i=f=0}if(Ie[0]&5)throw Ie[1];return{value:Ie[0]?Ie[1]:void 0,done:!0}}}function __values(_){var o=typeof Symbol=="function"&&Symbol.iterator,e=o&&_[o],i=0;if(e)return e.call(_);if(_&&typeof _.length=="number")return{next:function(){return _&&i>=_.length&&(_=void 0),{value:_&&_[i++],done:!_}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(_,o){var e=typeof Symbol=="function"&&_[Symbol.iterator];if(!e)return _;var i=e.call(_),c,f=[],m;try{for(;(o===void 0||o-- >0)&&!(c=i.next()).done;)f.push(c.value)}catch(g){m={error:g}}finally{try{c&&!c.done&&(e=i.return)&&e.call(i)}finally{if(m)throw m.error}}return f}function __spread(){for(var _=[],o=0;o<arguments.length;o++)_=_.concat(__read(arguments[o]));return _}typeof SuppressedError=="function"&&SuppressedError;var CODE={WRONG_TYPE:0,ELEMENT_NOT_FOUND:1,VAL_MUST_NOT_NULL:2,NOT_ATTACHED_TO_FLICKING:3,WRONG_OPTION:4,INDEX_OUT_OF_RANGE:5,POSITION_NOT_REACHABLE:6,TRANSFORM_NOT_SUPPORTED:7,STOP_CALLED_BY_USER:8,ANIMATION_INTERRUPTED:9,ANIMATION_ALREADY_PLAYING:10,NOT_ALLOWED_IN_FRAMEWORK:11,NOT_INITIALIZED:12,NO_ACTIVE:13,NOT_ALLOWED_IN_VIRTUAL:14},MESSAGE={WRONG_TYPE:function(_,o){return _+"("+typeof _+") is not a "+o.map(function(e){return'"'+e+'"'}).join(" or ")+"."},ELEMENT_NOT_FOUND:function(_){return'Element with selector "'+_+'" not found.'},VAL_MUST_NOT_NULL:function(_,o){return o+" should be provided. Given: "+_},NOT_ATTACHED_TO_FLICKING:'This module is not attached to the Flicking instance. "init()" should be called first.',WRONG_OPTION:function(_,o){return'Option "'+_+'" is not in correct format, given: '+o},INDEX_OUT_OF_RANGE:function(_,o,e){return'Index "'+_+'" is out of range: should be between '+o+" and "+e+"."},POSITION_NOT_REACHABLE:function(_){return'Position "'+_+'" is not reachable.'},TRANSFORM_NOT_SUPPORTED:"Browser does not support CSS transform.",STOP_CALLED_BY_USER:"Event stop() is called by user.",ANIMATION_INTERRUPTED:"Animation is interrupted by user input.",ANIMATION_ALREADY_PLAYING:"Animation is already playing.",NOT_ALLOWED_IN_FRAMEWORK:"This behavior is not allowed in the frameworks like React, Vue, or Angular.",NOT_INITIALIZED:"Flicking is not initialized yet, call init() first.",NO_ACTIVE:"There's no active panel that Flicking has selected. This may be due to the absence of any panels.",NOT_ALLOWED_IN_VIRTUAL:"This behavior is not allowed when the virtual option is enabled"},EVENTS={READY:"ready",BEFORE_RESIZE:"beforeResize",AFTER_RESIZE:"afterResize",HOLD_START:"holdStart",HOLD_END:"holdEnd",MOVE_START:"moveStart",MOVE:"move",MOVE_END:"moveEnd",WILL_CHANGE:"willChange",CHANGED:"changed",WILL_RESTORE:"willRestore",RESTORED:"restored",SELECT:"select",NEED_PANEL:"needPanel",VISIBLE_CHANGE:"visibleChange",REACH_EDGE:"reachEdge",PANEL_CHANGE:"panelChange"},ALIGN={PREV:"prev",CENTER:"center",NEXT:"next"},DIRECTION={PREV:"PREV",NEXT:"NEXT",NONE:null},MOVE_TYPE={SNAP:"snap",FREE_SCROLL:"freeScroll",STRICT:"strict"},CLASS={VERTICAL:"vertical",HIDDEN:"flicking-hidden",DEFAULT_VIRTUAL:"flicking-panel"},CIRCULAR_FALLBACK={LINEAR:"linear",BOUND:"bound"},ORDER={LTR:"ltr",RTL:"rtl"},getElement=function(_,o){var e=null;if(isString(_)){var i=o||document,c=i.querySelector(_);if(!c)throw new FlickingError(MESSAGE.ELEMENT_NOT_FOUND(_),CODE.ELEMENT_NOT_FOUND);e=c}else _&&_.nodeType===Node.ELEMENT_NODE&&(e=_);if(!e)throw new FlickingError(MESSAGE.WRONG_TYPE(_,["HTMLElement","string"]),CODE.WRONG_TYPE);return e},checkExistence=function(_,o){if(_==null)throw new FlickingError(MESSAGE.VAL_MUST_NOT_NULL(_,o),CODE.VAL_MUST_NOT_NULL)},clamp=function(_,o,e){return Math.max(Math.min(_,e),o)},getFlickingAttached=function(_){if(!_)throw new FlickingError(MESSAGE.NOT_ATTACHED_TO_FLICKING,CODE.NOT_ATTACHED_TO_FLICKING);return _},toArray=function(_){return[].slice.call(_)},parseAlign$1=function(_,o){var e;if(isString(_))switch(_){case ALIGN.PREV:e=0;break;case ALIGN.CENTER:e=.5*o;break;case ALIGN.NEXT:e=o;break;default:if(e=parseArithmeticSize(_,o),e==null)throw new FlickingError(MESSAGE.WRONG_OPTION("align",_),CODE.WRONG_OPTION)}else e=_;return e},parseBounce=function(_,o){var e;if(Array.isArray(_))e=_.map(function(c){return parseArithmeticSize(c,o)});else{var i=parseArithmeticSize(_,o);e=[i,i]}return e.map(function(c){if(c==null)throw new FlickingError(MESSAGE.WRONG_OPTION("bounce",_),CODE.WRONG_OPTION);return c})},parseArithmeticSize=function(_,o){var e=parseArithmeticExpression(_);return e==null?null:e.percentage*o+e.absolute},parseArithmeticExpression=function(_){var o=/(?:(\+|\-)\s*)?(\d+(?:\.\d+)?(%|px)?)/g;if(typeof _=="number")return{percentage:0,absolute:_};for(var e={percentage:0,absolute:0},i=0,c=o.exec(_);c!=null;){var f=c[1],m=c[2],g=c[3],Te=parseFloat(m);if(i<=0&&(f=f||"+"),!f)return null;var Ie=f==="+"?1:-1;g==="%"?e.percentage+=Ie*(Te/100):e.absolute+=Ie*Te,++i,c=o.exec(_)}return i===0?null:e},parsePanelAlign=function(_){return typeof _=="object"?_.panel:_},getDirection=function(_,o){return _===o?DIRECTION.NONE:_<o?DIRECTION.NEXT:DIRECTION.PREV},parseElement=function(_){Array.isArray(_)||(_=[_]);var o=[];return _.forEach(function(e){if(isString(e)){var i=document.createElement("div");for(i.innerHTML=e,o.push.apply(o,__spread(toArray(i.children)));i.firstChild;)i.removeChild(i.firstChild)}else if(e&&e.nodeType===Node.ELEMENT_NODE)o.push(e);else throw new FlickingError(MESSAGE.WRONG_TYPE(e,["HTMLElement","string"]),CODE.WRONG_TYPE)}),o},getMinusCompensatedIndex=function(_,o){return _<0?clamp(_+o,0,o):clamp(_,0,o)},includes=function(_,o){var e,i;try{for(var c=__values(_),f=c.next();!f.done;f=c.next()){var m=f.value;if(m===o)return!0}}catch(g){e={error:g}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(e)throw e.error}}return!1},isString=function(_){return typeof _=="string"},circulatePosition=function(_,o,e){var i=e-o;if(_<o){var c=(o-_)%i;_=e-c}else if(_>e){var c=(_-e)%i;_=o+c}return _},find=function(_,o){var e,i;try{for(var c=__values(_),f=c.next();!f.done;f=c.next()){var m=f.value;if(o(m))return m}}catch(g){e={error:g}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(e)throw e.error}}return null},findIndex=function(_,o){for(var e=0;e<_.length;e++)if(o(_[e]))return e;return-1},getProgress=function(_,o,e){return(_-o)/(e-o)},getStyle=function(_){return window.getComputedStyle(_)||_.currentStyle},setSize=function(_,o){var e=o.width,i=o.height;e!=null&&(isString(e)?_.style.width=e:_.style.width=e+"px"),i!=null&&(isString(i)?_.style.height=i:_.style.height=i+"px")},isBetween=function(_,o,e){return _>=o&&_<=e},circulateIndex=function(_,o){return _>=o?_%o:_<0?getMinusCompensatedIndex((_+1)%o-1,o):_},range=function(_){for(var o=new Array(_),e=0;e<_;e++)o[e]=e;return o},getElementSize=function(_){var o=_.el,e=_.horizontal,i=_.useFractionalSize,c=_.useOffset,f=_.style,m=0;if(i){var g=parseFloat(e?f.width:f.height)||0,Te=f.boxSizing==="border-box",Ie=e?parseFloat(f.borderLeftWidth||"0")+parseFloat(f.borderRightWidth||"0"):parseFloat(f.borderTopWidth||"0")+parseFloat(f.borderBottomWidth||"0");if(Te)m=c?g:g-Ie;else{var Oe=e?parseFloat(f.paddingLeft||"0")+parseFloat(f.paddingRight||"0"):parseFloat(f.paddingTop||"0")+parseFloat(f.paddingBottom||"0");m=c?g+Oe+Ie:g+Oe}}else{var Ae=e?"Width":"Height";m=c?o["offset"+Ae]:o["client"+Ae]}return Math.max(m,0)},setPrototypeOf=Object.setPrototypeOf||function(_,o){return _.__proto__=o,_},FlickingError=function(_){__extends(o,_);function o(e,i){var c=_.call(this,e)||this;return setPrototypeOf(c,o.prototype),c.name="FlickingError",c.code=i,c}return o}(Error),Viewport=function(){function _(e,i){this._flicking=e,this._el=i,this._width=0,this._height=0,this._padding={left:0,right:0,top:0,bottom:0},this._isBorderBoxSizing=!1}var o=_.prototype;return Object.defineProperty(o,"element",{get:function(){return this._el},enumerable:!1,configurable:!0}),Object.defineProperty(o,"width",{get:function(){return this._width-this._padding.left-this._padding.right},enumerable:!1,configurable:!0}),Object.defineProperty(o,"height",{get:function(){return this._height-this._padding.top-this._padding.bottom},enumerable:!1,configurable:!0}),Object.defineProperty(o,"padding",{get:function(){return this._padding},enumerable:!1,configurable:!0}),o.setSize=function(e){var i=e.width,c=e.height,f=this._el,m=this._padding,g=this._isBorderBoxSizing;if(i!=null)if(isString(i))f.style.width=i;else{var Te=g?i+m.left+m.right:i;f.style.width=Te+"px"}if(c!=null)if(isString(c))f.style.height=c;else{var Ie=g?c+m.top+m.bottom:c;f.style.height=Ie+"px"}this.resize()},o.resize=function(){var e=this._el,i=getStyle(e),c=this._flicking.useFractionalSize;this._width=getElementSize({el:e,horizontal:!0,useFractionalSize:c,useOffset:!1,style:i}),this._height=getElementSize({el:e,horizontal:!1,useFractionalSize:c,useOffset:!1,style:i}),this._padding={left:i.paddingLeft?parseFloat(i.paddingLeft):0,right:i.paddingRight?parseFloat(i.paddingRight):0,top:i.paddingTop?parseFloat(i.paddingTop):0,bottom:i.paddingBottom?parseFloat(i.paddingBottom):0},this._isBorderBoxSizing=i.boxSizing==="border-box"},_}(),AutoResizer=function(){function _(e){var i=this;this._onResize=function(){var c=i._flicking,f=c.resizeDebounce,m=c.maxResizeDebounce;f<=0?c.resize():(i._maxResizeDebounceTimer<=0&&m>0&&m>=f&&(i._maxResizeDebounceTimer=window.setTimeout(i._doScheduledResize,m)),i._resizeTimer>0&&(clearTimeout(i._resizeTimer),i._resizeTimer=0),i._resizeTimer=window.setTimeout(i._doScheduledResize,f))},this._doScheduledResize=function(){clearTimeout(i._resizeTimer),clearTimeout(i._maxResizeDebounceTimer),i._maxResizeDebounceTimer=-1,i._resizeTimer=-1,i._flicking.resize()},this._skipFirstResize=function(){var c=!0;return function(){if(c){c=!1;return}i._onResize()}}(),this._flicking=e,this._enabled=!1,this._resizeObserver=null,this._resizeTimer=-1,this._maxResizeDebounceTimer=-1}var o=_.prototype;return Object.defineProperty(o,"enabled",{get:function(){return this._enabled},enumerable:!1,configurable:!0}),o.enable=function(){var e=this._flicking,i=e.viewport;if(this._enabled&&this.disable(),e.useResizeObserver&&window.ResizeObserver){var c=i.width!==0||i.height!==0,f=c?new ResizeObserver(this._skipFirstResize):new ResizeObserver(this._onResize);f.observe(e.viewport.element),this._resizeObserver=f}else window.addEventListener("resize",this._onResize);return this._enabled=!0,this},o.disable=function(){if(!this._enabled)return this;var e=this._resizeObserver;return e?(e.disconnect(),this._resizeObserver=null):window.removeEventListener("resize",this._onResize),this._enabled=!1,this},_}(),VanillaElementProvider=function(){function _(e){this._element=e,this._rendered=!0}var o=_.prototype;return Object.defineProperty(o,"element",{get:function(){return this._element},enumerable:!1,configurable:!0}),Object.defineProperty(o,"rendered",{get:function(){return this._rendered},enumerable:!1,configurable:!0}),o.show=function(e){var i=this.element,c=e.camera.element;i.parentElement!==c&&(c.appendChild(i),this._rendered=!0)},o.hide=function(e){var i=this.element,c=e.camera.element;i.parentElement===c&&(c.removeChild(i),this._rendered=!1)},_}(),VirtualElementProvider=function(){function _(e){this._flicking=e}var o=_.prototype;return Object.defineProperty(o,"element",{get:function(){return this._virtualElement.nativeElement},enumerable:!1,configurable:!0}),Object.defineProperty(o,"rendered",{get:function(){return this._virtualElement.visible},enumerable:!1,configurable:!0}),Object.defineProperty(o,"_virtualElement",{get:function(){var e=this._flicking,i=this._panel.elementIndex,c=e.virtual.elements;return c[i]},enumerable:!1,configurable:!0}),o.init=function(e){this._panel=e},o.show=function(){},o.hide=function(){},_}(),VirtualManager=function(){function _(e,i){var c,f,m,g;this._flicking=e,this._renderPanel=(c=i==null?void 0:i.renderPanel)!==null&&c!==void 0?c:function(){return""},this._initialPanelCount=(f=i==null?void 0:i.initialPanelCount)!==null&&f!==void 0?f:-1,this._cache=(m=i==null?void 0:i.cache)!==null&&m!==void 0?m:!1,this._panelClass=(g=i==null?void 0:i.panelClass)!==null&&g!==void 0?g:CLASS.DEFAULT_VIRTUAL,this._elements=[]}var o=_.prototype;return Object.defineProperty(o,"elements",{get:function(){return this._elements},enumerable:!1,configurable:!0}),Object.defineProperty(o,"renderPanel",{get:function(){return this._renderPanel},set:function(e){this._renderPanel=e,this._flicking.renderer.panels.forEach(function(i){return i.uncacheRenderResult()})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"initialPanelCount",{get:function(){return this._initialPanelCount},enumerable:!1,configurable:!0}),Object.defineProperty(o,"cache",{get:function(){return this._cache},set:function(e){this._cache=e},enumerable:!1,configurable:!0}),Object.defineProperty(o,"panelClass",{get:function(){return this._panelClass},set:function(e){this._panelClass=e},enumerable:!1,configurable:!0}),o.init=function(){var e=this._flicking;if(e.virtualEnabled){!e.externalRenderer&&!e.renderExternal&&this._initVirtualElements();var i=e.camera.children;this._elements=i.map(function(c){return{nativeElement:c,visible:!0}})}},o.show=function(e){var i=this._elements[e],c=i.nativeElement;i.visible=!0,c.style.display&&(c.style.display="")},o.hide=function(e){var i=this._elements[e],c=i.nativeElement;i.visible=!1,c.style.display="none"},o.append=function(e){e===void 0&&(e=1);var i=this._flicking;return this.insert(i.panels.length,e)},o.prepend=function(e){return e===void 0&&(e=1),this.insert(0,e)},o.insert=function(e,i){if(i===void 0&&(i=1),i<=0)return[];var c=this._flicking;return c.renderer.batchInsert({index:e,elements:range(i),hasDOMInElements:!1})},o.remove=function(e,i){if(i<=0)return[];var c=this._flicking;return c.renderer.batchRemove({index:e,deleteCount:i,hasDOMInElements:!1})},o._initVirtualElements=function(){var e=this,i=this._flicking,c=i.camera.element,f=i.panelsPerView,m=document.createDocumentFragment(),g=range(f+1).map(function(Te){var Ie=document.createElement("div");return Ie.className=e._panelClass,Ie.dataset.elementIndex=Te.toString(),Ie});g.forEach(function(Te){m.appendChild(Te)}),c.appendChild(m)},_}(),EVENT={HOLD:"hold",CHANGE:"change",RELEASE:"release",ANIMATION_END:"animationEnd",FINISH:"finish"},POSITION_KEY="flick",STATE_TYPE;(function(_){_[_.IDLE=0]="IDLE",_[_.HOLDING=1]="HOLDING",_[_.DRAGGING=2]="DRAGGING",_[_.ANIMATING=3]="ANIMATING",_[_.DISABLED=4]="DISABLED"})(STATE_TYPE||(STATE_TYPE={}));var State=function(){function _(){this._delta=0,this._targetPanel=null}var o=_.prototype;return Object.defineProperty(o,"delta",{get:function(){return this._delta},enumerable:!1,configurable:!0}),Object.defineProperty(o,"targetPanel",{get:function(){return this._targetPanel},set:function(e){this._targetPanel=e},enumerable:!1,configurable:!0}),o.onEnter=function(e){this._delta=e._delta,this._targetPanel=e._targetPanel},o.onHold=function(e){},o.onChange=function(e){},o.onRelease=function(e){},o.onAnimationEnd=function(e){},o.onFinish=function(e){},o._moveToChangedPosition=function(e){var i=e.flicking,c=e.axesEvent,f=e.transitTo,m=c.delta[POSITION_KEY];if(m){this._delta+=m;var g=i.camera,Te=g.position,Ie=c.pos[POSITION_KEY],Oe=i.circularEnabled?circulatePosition(Ie,g.range.min,g.range.max):Ie;g.lookAt(Oe);var Ae=new ComponentEvent$1(EVENTS.MOVE,{isTrusted:c.isTrusted,holding:this.holding,direction:getDirection(0,c.delta[POSITION_KEY]),axesEvent:c});i.trigger(Ae),Ae.isCanceled()&&(g.lookAt(Te),f(STATE_TYPE.DISABLED))}},_}(),IdleState=function(_){__extends(o,_);function o(){var i=_!==null&&_.apply(this,arguments)||this;return i.holding=!1,i.animating=!1,i}var e=o.prototype;return e.onEnter=function(){this._delta=0,this._targetPanel=null},e.onHold=function(i){var c=i.flicking,f=i.axesEvent,m=i.transitTo;if(c.renderer.panelCount<=0){m(STATE_TYPE.DISABLED);return}var g=new ComponentEvent$1(EVENTS.HOLD_START,{axesEvent:f});c.trigger(g),g.isCanceled()?m(STATE_TYPE.DISABLED):m(STATE_TYPE.HOLDING)},e.onChange=function(i){var c=i.flicking,f=i.axesEvent,m=i.transitTo,g=c.control.controller,Te=g.animatingContext,Ie=new ComponentEvent$1(EVENTS.MOVE_START,{isTrusted:f.isTrusted,holding:this.holding,direction:getDirection(Te.start,Te.end),axesEvent:f});c.trigger(Ie),Ie.isCanceled()?m(STATE_TYPE.DISABLED):m(STATE_TYPE.ANIMATING).onChange(i)},o}(State),HoldingState=function(_){__extends(o,_);function o(){var i=_!==null&&_.apply(this,arguments)||this;return i.holding=!0,i.animating=!1,i._releaseEvent=null,i}var e=o.prototype;return e.onChange=function(i){var c=i.flicking,f=i.axesEvent,m=i.transitTo,g=f.inputEvent,Te=c.horizontal?g.offsetX:g.offsetY,Ie=new ComponentEvent$1(EVENTS.MOVE_START,{isTrusted:f.isTrusted,holding:this.holding,direction:getDirection(0,-Te),axesEvent:f});c.trigger(Ie),Ie.isCanceled()?m(STATE_TYPE.DISABLED):m(STATE_TYPE.DRAGGING).onChange(i)},e.onRelease=function(i){var c=i.flicking,f=i.axesEvent,m=i.transitTo;if(c.trigger(new ComponentEvent$1(EVENTS.HOLD_END,{axesEvent:f})),f.delta.flick!==0){f.setTo({flick:c.camera.position},0),m(STATE_TYPE.IDLE);return}this._releaseEvent=f},e.onFinish=function(i){var c,f,m=i.flicking,g=i.transitTo;if(g(STATE_TYPE.IDLE),!!this._releaseEvent){var Te=this._releaseEvent,Ie=Te.inputEvent.srcEvent,Oe;if(Ie.type==="touchend"){var Ae=Ie,De=Ae.changedTouches[0];Oe=document.elementFromPoint(De.clientX,De.clientY)}else Oe=Ie.target;var _e=m.renderer.panels,qe=null;try{for(var Be=__values(_e),Ne=Be.next();!Ne.done;Ne=Be.next()){var Ve=Ne.value;if(Ve.contains(Oe)){qe=Ve;break}}}catch(He){c={error:He}}finally{try{Ne&&!Ne.done&&(f=Be.return)&&f.call(Be)}finally{if(c)throw c.error}}if(qe){var Ue=m.camera.position,We=qe.position;m.trigger(new ComponentEvent$1(EVENTS.SELECT,{index:qe.index,panel:qe,direction:getDirection(Ue,We)}))}}},o}(State),DraggingState=function(_){__extends(o,_);function o(){var i=_!==null&&_.apply(this,arguments)||this;return i.holding=!0,i.animating=!0,i}var e=o.prototype;return e.onChange=function(i){this._moveToChangedPosition(i)},e.onRelease=function(i){var c,f=i.flicking,m=i.axesEvent,g=i.transitTo;if(f.trigger(new ComponentEvent$1(EVENTS.HOLD_END,{axesEvent:m})),f.renderer.panelCount<=0){g(STATE_TYPE.IDLE);return}g(STATE_TYPE.ANIMATING);var Te=f.control,Ie=m.destPos[POSITION_KEY],Oe=Math.max(m.duration,f.duration);try{Te.moveToPosition(Ie,Oe,m)}catch{g(STATE_TYPE.IDLE),m.setTo((c={},c[POSITION_KEY]=f.camera.position,c),0)}},o}(State),AnimatingState=function(_){__extends(o,_);function o(){var i=_!==null&&_.apply(this,arguments)||this;return i.holding=!1,i.animating=!0,i}var e=o.prototype;return e.onHold=function(i){var c=i.flicking,f=i.axesEvent,m=i.transitTo,g=this._targetPanel,Te=c.control;this._delta=0,c.control.updateInput(),c.changeOnHold&&g&&Te.setActive(g,Te.activePanel,f.isTrusted);var Ie=new ComponentEvent$1(EVENTS.HOLD_START,{axesEvent:f});c.trigger(Ie),Ie.isCanceled()?m(STATE_TYPE.DISABLED):m(STATE_TYPE.DRAGGING)},e.onChange=function(i){this._moveToChangedPosition(i)},e.onFinish=function(i){var c=i.flicking,f=i.axesEvent,m=i.transitTo,g=c.control,Te=g.controller,Ie=Te.animatingContext;m(STATE_TYPE.IDLE),c.trigger(new ComponentEvent$1(EVENTS.MOVE_END,{isTrusted:f.isTrusted,direction:getDirection(Ie.start,Ie.end),axesEvent:f}));var Oe=this._targetPanel;Oe&&g.setActive(Oe,g.activePanel,f.isTrusted)},o}(State),DisabledState=function(_){__extends(o,_);function o(){var i=_!==null&&_.apply(this,arguments)||this;return i.holding=!1,i.animating=!0,i}var e=o.prototype;return e.onAnimationEnd=function(i){var c=i.transitTo;c(STATE_TYPE.IDLE)},e.onChange=function(i){var c=i.axesEvent,f=i.transitTo;c.stop(),f(STATE_TYPE.IDLE)},e.onRelease=function(i){var c=i.axesEvent,f=i.transitTo;c.delta.flick===0&&f(STATE_TYPE.IDLE)},o}(State),StateMachine=function(){function _(){var e=this;this.transitTo=function(i){var c;switch(i){case STATE_TYPE.IDLE:c=new IdleState;break;case STATE_TYPE.HOLDING:c=new HoldingState;break;case STATE_TYPE.DRAGGING:c=new DraggingState;break;case STATE_TYPE.ANIMATING:c=new AnimatingState;break;case STATE_TYPE.DISABLED:c=new DisabledState;break}return c.onEnter(e._state),e._state=c,e._state},this._state=new IdleState}var o=_.prototype;return Object.defineProperty(o,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),o.fire=function(e,i){var c=this._state,f=__assign(__assign({},i),{transitTo:this.transitTo});switch(e){case EVENT.HOLD:c.onHold(f);break;case EVENT.CHANGE:c.onChange(f);break;case EVENT.RELEASE:c.onRelease(f);break;case EVENT.ANIMATION_END:c.onAnimationEnd(f);break;case EVENT.FINISH:c.onFinish(f);break}},_}(),AxesController=function(){function _(){var e=this;this._onAxesHold=function(){e._dragged=!1},this._onAxesChange=function(){var i;e._dragged=!!(!((i=e._panInput)===null||i===void 0)&&i.isEnabled())},this._preventClickWhenDragged=function(i){e._dragged&&(i.preventDefault(),i.stopPropagation()),e._dragged=!1},this._resetInternalValues(),this._stateMachine=new StateMachine}var o=_.prototype;return Object.defineProperty(o,"axes",{get:function(){return this._axes},enumerable:!1,configurable:!0}),Object.defineProperty(o,"panInput",{get:function(){return this._panInput},enumerable:!1,configurable:!0}),Object.defineProperty(o,"stateMachine",{get:function(){return this._stateMachine},enumerable:!1,configurable:!0}),Object.defineProperty(o,"state",{get:function(){return this._stateMachine.state},enumerable:!1,configurable:!0}),Object.defineProperty(o,"animatingContext",{get:function(){return this._animatingContext},enumerable:!1,configurable:!0}),Object.defineProperty(o,"controlParams",{get:function(){var e=this._axes;if(!e)return{range:{min:0,max:0},position:0,circular:!1};var i=e.axis[POSITION_KEY];return{range:{min:i.range[0],max:i.range[1]},circular:i.circular[0],position:this.position}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"enabled",{get:function(){var e,i;return(i=(e=this._panInput)===null||e===void 0?void 0:e.isEnabled())!==null&&i!==void 0?i:!1},enumerable:!1,configurable:!0}),Object.defineProperty(o,"position",{get:function(){var e,i;return(i=(e=this._axes)===null||e===void 0?void 0:e.get([POSITION_KEY])[POSITION_KEY])!==null&&i!==void 0?i:0},enumerable:!1,configurable:!0}),Object.defineProperty(o,"range",{get:function(){var e,i;return(i=(e=this._axes)===null||e===void 0?void 0:e.axis[POSITION_KEY].range)!==null&&i!==void 0?i:[0,0]},enumerable:!1,configurable:!0}),Object.defineProperty(o,"bounce",{get:function(){var e;return(e=this._axes)===null||e===void 0?void 0:e.axis[POSITION_KEY].bounce},enumerable:!1,configurable:!0}),o.init=function(e){var i,c=this;this._flicking=e,this._axes=new Axes$1((i={},i[POSITION_KEY]={range:[0,0],circular:!1,bounce:[0,0]},i),{deceleration:e.deceleration,interruptable:e.interruptable,nested:e.nested,easing:e.easing}),this._panInput=new PanInput(e.viewport.element,{inputType:e.inputType,threshold:1,iOSEdgeSwipeThreshold:e.iOSEdgeSwipeThreshold,preventDefaultOnDrag:e.preventDefaultOnDrag,scale:e.horizontal?[e.camera.panelOrder===ORDER.RTL?1:-1,0]:[0,-1],releaseOnScroll:!0});var f=this._axes;f.connect(e.horizontal?[POSITION_KEY,""]:["",POSITION_KEY],this._panInput);var m=function(Te){var Ie=EVENT[Te];f.on(Ie,function(Oe){c._stateMachine.fire(Ie,{flicking:e,axesEvent:Oe})})};for(var g in EVENT)m(g);return this},o.destroy=function(){var e;this._axes&&(this.removePreventClickHandler(),this._axes.destroy()),(e=this._panInput)===null||e===void 0||e.destroy(),this._resetInternalValues()},o.enable=function(){var e;return(e=this._panInput)===null||e===void 0||e.enable(),this},o.disable=function(){var e;return(e=this._panInput)===null||e===void 0||e.disable(),this},o.release=function(){var e;return(e=this._panInput)===null||e===void 0||e.release(),this},o.updateAnimation=function(e,i){var c,f;return this._animatingContext=__assign(__assign({},this._animatingContext),{end:e}),(f=this._axes)===null||f===void 0||f.updateAnimation({destPos:(c={},c[POSITION_KEY]=e,c),duration:i}),this},o.stopAnimation=function(){var e;return(e=this._axes)===null||e===void 0||e.stopAnimation(),this},o.update=function(e){var i,c=getFlickingAttached(this._flicking),f=c.camera,m=this._axes,g=m.axis[POSITION_KEY];return g.circular=[e.circular,e.circular],g.range=[e.range.min,e.range.max],g.bounce=parseBounce(c.bounce,f.size),m.axisManager.set((i={},i[POSITION_KEY]=e.position,i)),this},o.addPreventClickHandler=function(){var e=getFlickingAttached(this._flicking),i=this._axes,c=e.camera.element;return i.on(EVENT.HOLD,this._onAxesHold),i.on(EVENT.CHANGE,this._onAxesChange),c.addEventListener("click",this._preventClickWhenDragged,!0),this},o.removePreventClickHandler=function(){var e=getFlickingAttached(this._flicking),i=this._axes,c=e.camera.element;return i.off(EVENT.HOLD,this._onAxesHold),i.off(EVENT.CHANGE,this._onAxesChange),c.removeEventListener("click",this._preventClickWhenDragged,!0),this},o.animateTo=function(e,i,c){var f=this,m,g=this._axes,Te=this._stateMachine.state;if(!g)return Promise.reject(new FlickingError(MESSAGE.NOT_ATTACHED_TO_FLICKING,CODE.NOT_ATTACHED_TO_FLICKING));var Ie=g.get([POSITION_KEY])[POSITION_KEY];if(Ie===e){var Oe=getFlickingAttached(this._flicking);return Oe.camera.lookAt(e),Te.targetPanel&&Oe.control.setActive(Te.targetPanel,Oe.control.activePanel,(m=c==null?void 0:c.isTrusted)!==null&&m!==void 0?m:!1),Promise.resolve()}this._animatingContext={start:Ie,end:e,offset:0};var Ae=function(){var De,_e,qe=function(){f._animatingContext={start:0,end:0,offset:0}};g.once(EVENT.FINISH,qe),c?c.setTo((De={},De[POSITION_KEY]=e,De),i):g.setTo((_e={},_e[POSITION_KEY]=e,_e),i)};return new Promise(function(De,_e){var qe=function(){g.off(EVENT.HOLD,Be),De()},Be=function(){g.off(EVENT.FINISH,qe),_e(new FlickingError(MESSAGE.ANIMATION_INTERRUPTED,CODE.ANIMATION_INTERRUPTED))};g.once(EVENT.FINISH,qe),g.once(EVENT.HOLD,Be),Ae()})},o.updateDirection=function(){var e=getFlickingAttached(this._flicking),i=this._axes,c=this._panInput;i.disconnect(c),i.connect(e.horizontal?[POSITION_KEY,""]:["",POSITION_KEY],c),c.options.scale=e.horizontal?[e.camera.panelOrder===ORDER.RTL?1:-1,0]:[0,-1]},o._resetInternalValues=function(){this._flicking=null,this._axes=null,this._panInput=null,this._animatingContext={start:0,end:0,offset:0},this._dragged=!1},_}(),Control=function(){function _(){this._flicking=null,this._controller=new AxesController,this._activePanel=null}var o=_.prototype;return Object.defineProperty(o,"controller",{get:function(){return this._controller},enumerable:!1,configurable:!0}),Object.defineProperty(o,"activeIndex",{get:function(){var e,i;return(i=(e=this._activePanel)===null||e===void 0?void 0:e.index)!==null&&i!==void 0?i:-1},enumerable:!1,configurable:!0}),Object.defineProperty(o,"activePanel",{get:function(){return this._activePanel},enumerable:!1,configurable:!0}),Object.defineProperty(o,"animating",{get:function(){return this._controller.state.animating},enumerable:!1,configurable:!0}),Object.defineProperty(o,"holding",{get:function(){return this._controller.state.holding},enumerable:!1,configurable:!0}),o.init=function(e){return this._flicking=e,this._controller.init(e),this},o.destroy=function(){this._controller.destroy(),this._flicking=null,this._activePanel=null},o.enable=function(){return this._controller.enable(),this},o.disable=function(){return this._controller.disable(),this},o.release=function(){return this._controller.release(),this},o.updateAnimation=function(e,i,c){var f=this._controller.state,m=this._getPosition(e,c??DIRECTION.NONE);return f.targetPanel=e,this._controller.updateAnimation(m,i),this},o.stopAnimation=function(){var e=this._controller.state;return e.targetPanel=null,this._controller.stopAnimation(),this},o.updatePosition=function(e){var i=getFlickingAttached(this._flicking),c=i.camera,f=this._activePanel;f&&c.lookAt(c.clampToReachablePosition(f.position))},o.updateInput=function(){var e=getFlickingAttached(this._flicking),i=e.camera;return this._controller.update(i.controlParams),this},o.resetActive=function(){return this._activePanel=null,this},o.moveToPanel=function(e,i){var c=i.duration,f=i.direction,m=f===void 0?DIRECTION.NONE:f,g=i.axesEvent;return __awaiter(this,void 0,void 0,function(){var Te;return __generator(this,function(Ie){return Te=this._getPosition(e,m),this._triggerIndexChangeEvent(e,e.position,g,m),[2,this._animateToPosition({position:Te,duration:c,newActivePanel:e,axesEvent:g})]})})},o.setActive=function(e,i,c){var f,m=getFlickingAttached(this._flicking);this._activePanel=e,this._nextPanel=null,m.camera.updateAdaptiveHeight(),e!==i?m.trigger(new ComponentEvent$1(EVENTS.CHANGED,{index:e.index,panel:e,prevIndex:(f=i==null?void 0:i.index)!==null&&f!==void 0?f:-1,prevPanel:i,isTrusted:c,direction:i?getDirection(i.position,e.position):DIRECTION.NONE})):m.trigger(new ComponentEvent$1(EVENTS.RESTORED,{isTrusted:c}))},o.copy=function(e){this._flicking=e._flicking,this._activePanel=e._activePanel,this._controller=e._controller},o._triggerIndexChangeEvent=function(e,i,c,f){var m,g=getFlickingAttached(this._flicking),Te=e!==this._activePanel?EVENTS.WILL_CHANGE:EVENTS.WILL_RESTORE,Ie=g.camera,Oe=this._activePanel,Ae=new ComponentEvent$1(Te,{index:e.index,panel:e,isTrusted:(c==null?void 0:c.isTrusted)||!1,direction:f??getDirection((m=Oe==null?void 0:Oe.position)!==null&&m!==void 0?m:Ie.position,i)});if(this._nextPanel=e,g.trigger(Ae),Ae.isCanceled())throw new FlickingError(MESSAGE.STOP_CALLED_BY_USER,CODE.STOP_CALLED_BY_USER)},o._animateToPosition=function(e){var i=e.position,c=e.duration,f=e.newActivePanel,m=e.axesEvent;return __awaiter(this,void 0,void 0,function(){var g,Te,Ie,Oe=this;return __generator(this,function(Ae){return g=getFlickingAttached(this._flicking),Te=function(){return Oe._controller.animateTo(i,c,m)},Ie=this._controller.state,Ie.targetPanel=f,c<=0?[2,Te()]:[2,Te().then(function(){return __awaiter(Oe,void 0,void 0,function(){return __generator(this,function(De){switch(De.label){case 0:return[4,g.renderer.render()];case 1:return De.sent(),[2]}})})}).catch(function(De){if(!(m&&De instanceof FlickingError&&De.code===CODE.ANIMATION_INTERRUPTED))throw De})]})})},o._getPosition=function(e,i){i===void 0&&(i=DIRECTION.NONE);var c=getFlickingAttached(this._flicking),f=c.camera,m=e.position,g=f.findNearestAnchor(m);if(e.removed||!g)throw new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(e.position),CODE.POSITION_NOT_REACHABLE);if(!f.canReach(e))m=g.position,e=g.panel;else if(c.circularEnabled){var Te=this._controller.position,Ie=f.rangeDiff,Oe=[m,m+Ie,m-Ie].filter(function(Ae){return i===DIRECTION.NONE?!0:i===DIRECTION.PREV?Ae<=Te:Ae>=Te});m=Oe.reduce(function(Ae,De){return Math.abs(Te-De)<Math.abs(Te-Ae)?De:Ae},1/0)}return m},_}(),AnchorPoint=function(){function _(e){var i=e.index,c=e.position,f=e.panel;this._index=i,this._pos=c,this._panel=f}var o=_.prototype;return Object.defineProperty(o,"index",{get:function(){return this._index},enumerable:!1,configurable:!0}),Object.defineProperty(o,"position",{get:function(){return this._pos},enumerable:!1,configurable:!0}),Object.defineProperty(o,"panel",{get:function(){return this._panel},enumerable:!1,configurable:!0}),_}(),SnapControl=function(_){__extends(o,_);function o(i){var c=(i===void 0?{}:i).count,f=c===void 0?1/0:c,m=_.call(this)||this;return m._count=f,m}var e=o.prototype;return Object.defineProperty(e,"count",{get:function(){return this._count},set:function(i){this._count=i},enumerable:!1,configurable:!0}),e.moveToPosition=function(i,c,f){var m=getFlickingAttached(this._flicking),g=m.camera,Te=g.findActiveAnchor(),Ie=g.findNearestAnchor(g.position),Oe=this._controller.state;if(!Te||!Ie)return Promise.reject(new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(i),CODE.POSITION_NOT_REACHABLE));var Ae=this._calcSnapThreshold(m.threshold,i,Te),De=m.animating?Oe.delta:i-g.position,_e=Math.abs(De),qe=f&&f.delta[POSITION_KEY]!==0?Math.abs(f.delta[POSITION_KEY]):_e,Be;if(qe>=Ae&&qe>0)Be=this._findSnappedAnchor(i,Ie);else if(_e>=m.threshold&&_e>0)Be=this._findAdjacentAnchor(i,De,Ie);else return this.moveToPanel(Ie.panel,{duration:c,axesEvent:f});return this._triggerIndexChangeEvent(Be.panel,i,f),this._animateToPosition({position:g.clampToReachablePosition(Be.position),duration:c,newActivePanel:Be.panel,axesEvent:f})},e._findSnappedAnchor=function(i,c){var f=getFlickingAttached(this._flicking),m=f.camera,g=this._count,Te=m.position,Ie=m.clampToReachablePosition(i),Oe=m.findAnchorIncludePosition(Ie);if(!c||!Oe)throw new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(i),CODE.POSITION_NOT_REACHABLE);if(!isFinite(g))return Oe;var Ae=f.panelCount,De=m.anchorPoints,_e=Math.sign(i-Te)*Math.floor(Math.abs(i-Te)/m.rangeDiff);i>Te&&Oe.index<c.index||Oe.position>c.position&&Oe.index===c.index?_e+=1:(i<Te&&Oe.index>c.index||Oe.position<c.position&&Oe.index===c.index)&&(_e-=1);var qe=_e*Ae,Be=Oe.index+qe;if(Math.abs(Be-c.index)<=g){var Ne=De[Oe.index];return new AnchorPoint({index:Ne.index,position:Ne.position+_e*m.rangeDiff,panel:Ne.panel})}if(f.circularEnabled){var Ve=De[circulateIndex(c.index+Math.sign(i-Te)*g,Ae)],Ue=Math.floor(g/Ae);return i>Te&&Ve.index<c.index?Ue+=1:i<Te&&Ve.index>c.index&&(Ue-=1),new AnchorPoint({index:Ve.index,position:Ve.position+Ue*m.rangeDiff,panel:Ve.panel})}else return De[clamp(c.index+Math.sign(i-Te)*g,0,De.length-1)]},e._findAdjacentAnchor=function(i,c,f){var m,g=getFlickingAttached(this._flicking),Te=g.camera;if(Te.circularEnabled){var Ie=Te.findAnchorIncludePosition(i);if(Ie&&Ie.position!==f.position)return Ie}var Oe=(m=c>0?Te.getNextAnchor(f):Te.getPrevAnchor(f))!==null&&m!==void 0?m:f;return Oe},e._calcSnapThreshold=function(i,c,f){var m=c>f.position,g=f.panel,Te=g.size,Ie=g.alignPosition;return Math.max(i,m?Te-Ie+g.margin.next:Ie+g.margin.prev)},o}(Control),FreeControl=function(_){__extends(o,_);function o(i){var c=(i===void 0?{}:i).stopAtEdge,f=c===void 0?!0:c,m=_.call(this)||this;return m._stopAtEdge=f,m}var e=o.prototype;return Object.defineProperty(e,"stopAtEdge",{get:function(){return this._stopAtEdge},set:function(i){this._stopAtEdge=i},enumerable:!1,configurable:!0}),e.updatePosition=function(i){var c=getFlickingAttached(this._flicking),f=c.camera,m=this._activePanel;if(m){var g=m.range,Te=g.min+(g.max-g.min)*i;f.lookAt(f.clampToReachablePosition(Te))}},e.moveToPosition=function(i,c,f){var m=getFlickingAttached(this._flicking),g=m.camera,Te=g.clampToReachablePosition(i),Ie=g.findAnchorIncludePosition(Te);if(!Ie)return Promise.reject(new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(i),CODE.POSITION_NOT_REACHABLE));var Oe=Ie.panel;return Oe!==this._activePanel&&this._triggerIndexChangeEvent(Oe,i,f),this._animateToPosition({position:this._stopAtEdge?Te:i,duration:c,newActivePanel:Oe,axesEvent:f})},o}(Control),StrictControl=function(_){__extends(o,_);function o(i){var c=(i===void 0?{}:i).count,f=c===void 0?1:c,m=_.call(this)||this;return m.setActive=function(g,Te,Ie){_.prototype.setActive.call(m,g,Te,Ie),m.updateInput()},m._count=f,m._resetIndexRange(),m}var e=o.prototype;return Object.defineProperty(e,"count",{get:function(){return this._count},set:function(i){this._count=i},enumerable:!1,configurable:!0}),e.destroy=function(){_.prototype.destroy.call(this),this._resetIndexRange()},e.updateInput=function(){var i,c=getFlickingAttached(this._flicking),f=c.camera,m=c.renderer,g=this._controller,Te=f.controlParams,Ie=this._count,Oe=g.state.animating?(i=f.findNearestAnchor(f.position))===null||i===void 0?void 0:i.panel:this._activePanel;if(!Oe)return g.update(Te),this._resetIndexRange(),this;var Ae=Te.range,De=Oe.position,_e=Oe.index,qe=m.panelCount,Be=_e-Ie,Ne=_e+Ie;Be<0&&(Be=c.circularEnabled?getMinusCompensatedIndex((Be+1)%qe-1,qe):clamp(Be,0,qe-1)),Ne>=qe&&(Ne=c.circularEnabled?Ne%qe:clamp(Ne,0,qe-1));var Ve=m.panels[Be],Ue=m.panels[Ne],We=Math.max(Ve.position,Ae.min),He=Math.min(Ue.position,Ae.max);return We>De&&(We-=f.rangeDiff),He<De&&(He+=f.rangeDiff),Te.range={min:We,max:He},Te.circular&&(Te.position<We&&(Te.position+=f.rangeDiff),Te.position>He&&(Te.position-=f.rangeDiff)),Te.circular=!1,g.update(Te),this._indexRange={min:Ve.index,max:Ue.index},this},e.moveToPanel=function(i,c){return __awaiter(this,void 0,void 0,function(){var f,m,g;return __generator(this,function(Te){return f=getFlickingAttached(this._flicking),m=f.camera,g=this._controller,g.update(m.controlParams),[2,_.prototype.moveToPanel.call(this,i,c)]})})},e.moveToPosition=function(i,c,f){var m,g=getFlickingAttached(this._flicking),Te=g.camera,Ie=(m=this._nextPanel)!==null&&m!==void 0?m:this._activePanel,Oe=this._controller.range,Ae=this._indexRange,De=Te.range,_e=this._controller.state,qe=clamp(Te.clampToReachablePosition(i),Oe[0],Oe[1]),Be=Te.findAnchorIncludePosition(qe);if(!Be||!Ie)return Promise.reject(new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(i),CODE.POSITION_NOT_REACHABLE));var Ne=Ie.position,Ve=g.animating?_e.delta:i-Te.position,Ue=Math.abs(Ve)>=g.threshold,We=i>Ne?Te.getNextAnchor(Be):Te.getPrevAnchor(Be),He,Ze,ct=Te.anchorPoints,at=ct[0],gt=ct[ct.length-1],yt=i<=De.min&&isBetween(at.panel.index,Ae.min,Ae.max),tt=i>=De.max&&isBetween(gt.panel.index,Ae.min,Ae.max),pt=We&&(Ae.min<=Ae.max?isBetween(We.index,Ae.min,Ae.max):We.index>=Ae.min||We.index<=Ae.max);if(yt||tt){var nt=i<De.min?at:gt;Ze=nt.panel,He=nt.position}else if(Ue&&Be.position!==Ie.position)Ze=Be.panel,He=Be.position;else if(Ue&&pt)Ze=We.panel,He=We.position;else{var mt=Te.findNearestAnchor(Te.position);return mt?this.moveToPanel(mt.panel,{duration:c,axesEvent:f}):Promise.reject(new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(i),CODE.POSITION_NOT_REACHABLE))}return this._triggerIndexChangeEvent(Ze,i,f),this._animateToPosition({position:He,duration:c,newActivePanel:Ze,axesEvent:f})},e._resetIndexRange=function(){this._indexRange={min:0,max:0}},o}(Control),CameraMode=function(){function _(e){this._flicking=e}var o=_.prototype;return o.getAnchors=function(){var e=this._flicking.renderer.panels;return e.map(function(i,c){return new AnchorPoint({index:c,position:i.position,panel:i})})},o.findAnchorIncludePosition=function(e){var i=this._flicking.camera.anchorPoints,c=i.filter(function(f){return f.panel.includePosition(e,!0)});return c.reduce(function(f,m){return f&&Math.abs(f.position-e)<Math.abs(m.position-e)?f:m},null)},o.findNearestAnchor=function(e){var i=this._flicking.camera.anchorPoints;if(i.length<=0)return null;for(var c=1/0,f=0;f<i.length;f++){var m=i[f],g=Math.abs(m.position-e);if(g>c)return i[f-1];c=g}return i[i.length-1]},o.clampToReachablePosition=function(e){var i=this._flicking.camera,c=i.range;return clamp(e,c.min,c.max)},o.getCircularOffset=function(){return 0},o.canReach=function(e){var i=this._flicking.camera,c=i.range;if(e.removed)return!1;var f=e.position;return f>=c.min&&f<=c.max},o.canSee=function(e){var i=this._flicking.camera,c=i.visibleRange;return e.isVisibleOnRange(c.min,c.max)},_}(),LinearCameraMode=function(_){__extends(o,_);function o(){return _!==null&&_.apply(this,arguments)||this}var e=o.prototype;return e.checkAvailability=function(){return!0},e.getRange=function(){var i,c,f=this._flicking.renderer,m=f.getPanel(0),g=f.getPanel(f.panelCount-1);return{min:(i=m==null?void 0:m.position)!==null&&i!==void 0?i:0,max:(c=g==null?void 0:g.position)!==null&&c!==void 0?c:0}},o}(CameraMode),CircularCameraMode=function(_){__extends(o,_);function o(){return _!==null&&_.apply(this,arguments)||this}var e=o.prototype;return e.checkAvailability=function(){var i=this._flicking,c=i.renderer,f=c.panels;if(f.length<=0)return!1;var m=f[0],g=f[f.length-1],Te=m.range.min-m.margin.prev,Ie=g.range.max+g.margin.next,Oe=i.camera.size,Ae=Ie-Te,De=f.every(function(_e){return Ae-_e.size>=Oe});return De},e.getRange=function(){var i=this._flicking,c=i.renderer.panels;if(c.length<=0)return{min:0,max:0};var f=c[0],m=c[c.length-1],g=f.range.min-f.margin.prev,Te=m.range.max+m.margin.next;return{min:g,max:Te}},e.getAnchors=function(){var i=this._flicking,c=i.renderer.panels;return c.map(function(f,m){return new AnchorPoint({index:m,position:f.position,panel:f})})},e.findNearestAnchor=function(i){var c=this._flicking.camera,f=c.anchorPoints;if(f.length<=0)return null;for(var m=c.range,g=1/0,Te=-1,Ie=0;Ie<f.length;Ie++){var Oe=f[Ie],Ae=Math.min(Math.abs(Oe.position-i),Math.abs(Oe.position-m.min+m.max-i),Math.abs(i-m.min+m.max-Oe.position));Ae<g&&(g=Ae,Te=Ie)}return f[Te]},e.findAnchorIncludePosition=function(i){var c=this._flicking.camera,f=c.range,m=c.anchorPoints,g=c.rangeDiff,Te=m.length,Ie=circulatePosition(i,f.min,f.max),Oe=_.prototype.findAnchorIncludePosition.call(this,Ie);if(Te>0&&(i===f.min||i===f.max)){var Ae=[Oe,new AnchorPoint({index:0,position:m[0].position+g,panel:m[0].panel}),new AnchorPoint({index:Te-1,position:m[Te-1].position-g,panel:m[Te-1].panel})].filter(function(_e){return!!_e});Oe=Ae.reduce(function(_e,qe){return _e&&Math.abs(_e.position-i)<Math.abs(qe.position-i)?_e:qe},null)}if(!Oe)return null;if(i<f.min){var De=-Math.floor((f.min-i)/g)-1;return new AnchorPoint({index:Oe.index,position:Oe.position+g*De,panel:Oe.panel})}else if(i>f.max){var De=Math.floor((i-f.max)/g)+1;return new AnchorPoint({index:Oe.index,position:Oe.position+g*De,panel:Oe.panel})}return Oe},e.getCircularOffset=function(){var i=this._flicking,c=i.camera;if(!c.circularEnabled)return 0;var f=i.panels.filter(function(Te){return Te.toggled}),m=f.filter(function(Te){return Te.toggleDirection===DIRECTION.PREV}),g=f.filter(function(Te){return Te.toggleDirection===DIRECTION.NEXT});return this._calcPanelAreaSum(m)-this._calcPanelAreaSum(g)},e.clampToReachablePosition=function(i){return i},e.canReach=function(i){return!i.removed},e.canSee=function(i){var c=this._flicking.camera,f=c.range,m=c.rangeDiff,g=c.visibleRange,Te=_.prototype.canSee.call(this,i);return g.min<f.min?Te||i.isVisibleOnRange(g.min+m,g.max+m):g.max>f.max?Te||i.isVisibleOnRange(g.min-m,g.max-m):Te},e._calcPanelAreaSum=function(i){return i.reduce(function(c,f){return c+f.sizeIncludingMargin},0)},o}(CameraMode),BoundCameraMode=function(_){__extends(o,_);function o(){return _!==null&&_.apply(this,arguments)||this}var e=o.prototype;return e.checkAvailability=function(){var i=this._flicking,c=i.renderer,f=c.getPanel(0),m=c.getPanel(c.panelCount-1);if(!f||!m)return!1;var g=i.camera.size,Te=f.range.min,Ie=m.range.max,Oe=Ie-Te,Ae=g<Oe;return Ae},e.getRange=function(){var i=this._flicking,c=i.renderer,f=i.camera.alignPosition,m=c.getPanel(0),g=c.getPanel(c.panelCount-1);if(!m||!g)return{min:0,max:0};var Te=i.camera.size,Ie=m.range.min,Oe=g.range.max,Ae=Oe-Ie,De=Te<Ae,_e=Ie+f,qe=Oe-Te+f;if(De)return{min:_e,max:qe};var Be=i.camera.align,Ne=typeof Be=="object"?Be.camera:Be,Ve=_e+parseAlign$1(Ne,qe-_e);return{min:Ve,max:Ve}},e.getAnchors=function(){var i=this._flicking,c=i.camera,f=i.renderer.panels;if(f.length<=0)return[];var m=i.camera.range,g=f.filter(function(Be){return c.canReach(Be)});if(g.length>0){var Te=g[0].position!==m.min,Ie=g[g.length-1].position!==m.max,Oe=Te?1:0,Ae=g.map(function(Be,Ne){return new AnchorPoint({index:Ne+Oe,position:Be.position,panel:Be})});return Te&&Ae.splice(0,0,new AnchorPoint({index:0,position:m.min,panel:f[g[0].index-1]})),Ie&&Ae.push(new AnchorPoint({index:Ae.length,position:m.max,panel:f[g[g.length-1].index+1]})),Ae}else if(m.min!==m.max){var De=this._findNearestPanel(m.min,f),_e=De.index===f.length-1?De.prev():De,qe=_e.next();return[new AnchorPoint({index:0,position:m.min,panel:_e}),new AnchorPoint({index:1,position:m.max,panel:qe})]}else return[new AnchorPoint({index:0,position:m.min,panel:this._findNearestPanel(m.min,f)})]},e.findAnchorIncludePosition=function(i){var c=this._flicking.camera,f=c.range,m=c.anchorPoints;return m.length<=0?null:i<=f.min?m[0]:i>=f.max?m[m.length-1]:_.prototype.findAnchorIncludePosition.call(this,i)},e._findNearestPanel=function(i,c){for(var f=1/0,m=0;m<c.length;m++){var g=c[m],Te=Math.abs(g.position-i);if(Te>f)return c[m-1];f=Te}return c[c.length-1]},o}(CameraMode),Camera=function(){function _(e,i){var c=this,f=(i===void 0?{}:i).align,m=f===void 0?ALIGN.CENTER:f;this._checkTranslateSupport=function(){var g,Te,Ie=["webkitTransform","msTransform","MozTransform","OTransform","transform"],Oe=document.documentElement.style,Ae="";try{for(var De=__values(Ie),_e=De.next();!_e.done;_e=De.next()){var qe=_e.value;qe in Oe&&(Ae=qe)}}catch(Be){g={error:Be}}finally{try{_e&&!_e.done&&(Te=De.return)&&Te.call(De)}finally{if(g)throw g.error}}if(!Ae)throw new FlickingError(MESSAGE.TRANSFORM_NOT_SUPPORTED,CODE.TRANSFORM_NOT_SUPPORTED);c._transform=Ae},this._flicking=e,this._resetInternalValues(),this._align=m}var o=_.prototype;return Object.defineProperty(o,"element",{get:function(){return this._el},enumerable:!1,configurable:!0}),Object.defineProperty(o,"children",{get:function(){return toArray(this._el.children)},enumerable:!1,configurable:!0}),Object.defineProperty(o,"position",{get:function(){return this._position},enumerable:!1,configurable:!0}),Object.defineProperty(o,"alignPosition",{get:function(){return this._alignPos},enumerable:!1,configurable:!0}),Object.defineProperty(o,"offset",{get:function(){return this._offset-this._circularOffset},enumerable:!1,configurable:!0}),Object.defineProperty(o,"circularEnabled",{get:function(){return this._circularEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(o,"mode",{get:function(){return this._mode},enumerable:!1,configurable:!0}),Object.defineProperty(o,"range",{get:function(){return this._range},enumerable:!1,configurable:!0}),Object.defineProperty(o,"rangeDiff",{get:function(){return this._range.max-this._range.min},enumerable:!1,configurable:!0}),Object.defineProperty(o,"visiblePanels",{get:function(){return this._visiblePanels},enumerable:!1,configurable:!0}),Object.defineProperty(o,"visibleRange",{get:function(){return{min:this._position-this._alignPos,max:this._position-this._alignPos+this.size}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"anchorPoints",{get:function(){return this._anchors},enumerable:!1,configurable:!0}),Object.defineProperty(o,"controlParams",{get:function(){return{range:this._range,position:this._position,circular:this._circularEnabled}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"atEdge",{get:function(){return this._position<=this._range.min||this._position>=this._range.max},enumerable:!1,configurable:!0}),Object.defineProperty(o,"size",{get:function(){var e=this._flicking;return e?e.horizontal?e.viewport.width:e.viewport.height:0},enumerable:!1,configurable:!0}),Object.defineProperty(o,"progress",{get:function(){var e=this._flicking,i=this._position+this._offset,c=this.findNearestAnchor(this._position);if(!e||!c)return NaN;var f=c.panel,m=f.position+f.offset,g=e.control.controller.bounce,Te=this.range,Ie=Te.min,Oe=Te.max,Ae=this.rangeDiff;if(i===m)return f.index;if(i<m){var De=f.prev(),_e=De?De.position+De.offset:Ie-g[0];return _e>m&&(_e-=Ae),f.index-1+getProgress(i,_e,m)}else{var qe=f.next(),Be=qe?qe.position+qe.offset:Oe+g[1];return Be<m&&(Be+=Ae),f.index+getProgress(i,m,Be)}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"panelOrder",{get:function(){return this._panelOrder},enumerable:!1,configurable:!0}),Object.defineProperty(o,"align",{get:function(){return this._align},set:function(e){this._align=e},enumerable:!1,configurable:!0}),o.init=function(){var e=this._flicking.viewport.element;return checkExistence(e.firstElementChild,"First element child of the viewport element"),this._el=e.firstElementChild,this._checkTranslateSupport(),this._updateMode(),this.updatePanelOrder(),this},o.destroy=function(){return this._resetInternalValues(),this},o.lookAt=function(e){var i=this,c=getFlickingAttached(this._flicking),f=this._position;this._position=e;var m=this._togglePanels(f,e);this._refreshVisiblePanels(),this._checkNeedPanel(),this._checkReachEnd(f,e),m?c.renderer.render().then(function(){i.updateOffset()}):this.applyTransform()},o.getPrevAnchor=function(e){if(!this._circularEnabled||e.index!==0)return this._anchors[e.index-1]||null;var i=this._anchors,c=this.rangeDiff,f=i[i.length-1];return new AnchorPoint({index:f.index,position:f.position-c,panel:f.panel})},o.getNextAnchor=function(e){var i=this._anchors;if(!this._circularEnabled||e.index!==i.length-1)return i[e.index+1]||null;var c=this.rangeDiff,f=i[0];return new AnchorPoint({index:f.index,position:f.position+c,panel:f.panel})},o.getProgressInPanel=function(e){var i=e.range;return(this._position-i.min)/(i.max-i.min)},o.findAnchorIncludePosition=function(e){return this._mode.findAnchorIncludePosition(e)},o.findNearestAnchor=function(e){return this._mode.findNearestAnchor(e)},o.findActiveAnchor=function(){var e,i=getFlickingAttached(this._flicking),c=i.control.activePanel;return c?(e=find(this._anchors,function(f){return f.panel.index===c.index}))!==null&&e!==void 0?e:this.findNearestAnchor(c.position):null},o.clampToReachablePosition=function(e){return this._mode.clampToReachablePosition(e)},o.canReach=function(e){return this._mode.canReach(e)},o.canSee=function(e){return this._mode.canSee(e)},o.updateRange=function(){var e=getFlickingAttached(this._flicking),i=e.renderer,c=i.panels;return this._updateMode(),this._range=this._mode.getRange(),c.forEach(function(f){return f.updateCircularToggleDirection()}),this},o.updateAlignPos=function(){var e=this._align,i=typeof e=="object"?e.camera:e;return this._alignPos=parseAlign$1(i,this.size),this},o.updateAnchors=function(){return this._anchors=this._mode.getAnchors(),this},o.updateAdaptiveHeight=function(){var e=getFlickingAttached(this._flicking),i=e.control.activePanel;!e.horizontal||!e.adaptive||!i||e.viewport.setSize({height:i.height})},o.updateOffset=function(){var e=getFlickingAttached(this._flicking),i=this._position,c=e.panels.filter(function(f){return!f.rendered});return this._offset=c.filter(function(f){return f.position+f.offset<i}).reduce(function(f,m){return f+m.sizeIncludingMargin},0),this._circularOffset=this._mode.getCircularOffset(),this.applyTransform(),this},o.updatePanelOrder=function(){var e=getFlickingAttached(this._flicking);if(!e.horizontal)return this;var i=this._el,c=getStyle(i).direction;return c!==this._panelOrder&&(this._panelOrder=c===ORDER.RTL?ORDER.RTL:ORDER.LTR,e.initialized&&e.control.controller.updateDirection()),this},o.resetNeedPanelHistory=function(){return this._needPanelTriggered={prev:!1,next:!1},this},o.applyTransform=function(){var e=this._el,i=getFlickingAttached(this._flicking),c=i.renderer;if(c.rendering||!i.initialized)return this;var f=this._position-this._alignPos-this._offset+this._circularOffset;return e.style[this._transform]=i.horizontal?"translate("+(this._panelOrder===ORDER.RTL?f:-f)+"px)":"translate(0, "+-f+"px)",this},o._resetInternalValues=function(){this._position=0,this._alignPos=0,this._offset=0,this._circularOffset=0,this._circularEnabled=!1,this._range={min:0,max:0},this._visiblePanels=[],this._anchors=[],this._needPanelTriggered={prev:!1,next:!1}},o._refreshVisiblePanels=function(){var e=this,i=getFlickingAttached(this._flicking),c=i.renderer.panels,f=c.filter(function(Ie){return e.canSee(Ie)}),m=this._visiblePanels;this._visiblePanels=f;var g=f.filter(function(Ie){return!includes(m,Ie)}),Te=m.filter(function(Ie){return!includes(f,Ie)});(g.length>0||Te.length>0)&&i.renderer.render().then(function(){i.trigger(new ComponentEvent$1(EVENTS.VISIBLE_CHANGE,{added:g,removed:Te,visiblePanels:f}))})},o._checkNeedPanel=function(){var e=this._needPanelTriggered;if(!(e.prev&&e.next)){var i=getFlickingAttached(this._flicking),c=i.renderer.panels;if(c.length<=0){e.prev||(i.trigger(new ComponentEvent$1(EVENTS.NEED_PANEL,{direction:DIRECTION.PREV})),e.prev=!0),e.next||(i.trigger(new ComponentEvent$1(EVENTS.NEED_PANEL,{direction:DIRECTION.NEXT})),e.next=!0);return}var f=this._position,m=this.size,g=this._range,Te=i.needPanelThreshold,Ie=f-this._alignPos,Oe=Ie+m,Ae=c[0],De=c[c.length-1];if(!e.prev){var _e=Ae.range.min;(Ie<=_e+Te||f<=g.min+Te)&&(i.trigger(new ComponentEvent$1(EVENTS.NEED_PANEL,{direction:DIRECTION.PREV})),e.prev=!0)}if(!e.next){var qe=De.range.max;(Oe>=qe-Te||f>=g.max-Te)&&(i.trigger(new ComponentEvent$1(EVENTS.NEED_PANEL,{direction:DIRECTION.NEXT})),e.next=!0)}}},o._checkReachEnd=function(e,i){var c=getFlickingAttached(this._flicking),f=this._range,m=e>f.min&&e<f.max,g=i>f.min&&i<f.max;if(!(!m||g)){var Te=i<=f.min?DIRECTION.PREV:DIRECTION.NEXT;c.trigger(new ComponentEvent$1(EVENTS.REACH_EDGE,{direction:Te}))}},o._updateMode=function(){var e=getFlickingAttached(this._flicking);if(e.circular){var i=new CircularCameraMode(e),c=i.checkAvailability();if(c)this._mode=i;else{var f=e.circularFallback;this._mode=f===CIRCULAR_FALLBACK.BOUND?new BoundCameraMode(e):new LinearCameraMode(e)}this._circularEnabled=c}else this._mode=e.bound?new BoundCameraMode(e):new LinearCameraMode(e),this._circularEnabled=!1},o._togglePanels=function(e,i){if(i===e)return!1;var c=getFlickingAttached(this._flicking),f=c.renderer.panels,m=f.map(function(g){return g.toggle(e,i)});return m.some(function(g){return g})},_}(),Renderer=function(){function _(e){var i=e.align,c=i===void 0?ALIGN.CENTER:i,f=e.strategy;this._flicking=null,this._panels=[],this._rendering=!1,this._align=c,this._strategy=f}var o=_.prototype;return Object.defineProperty(o,"panels",{get:function(){return this._panels},enumerable:!1,configurable:!0}),Object.defineProperty(o,"rendering",{get:function(){return this._rendering},enumerable:!1,configurable:!0}),Object.defineProperty(o,"panelCount",{get:function(){return this._panels.length},enumerable:!1,configurable:!0}),Object.defineProperty(o,"strategy",{get:function(){return this._strategy},enumerable:!1,configurable:!0}),Object.defineProperty(o,"align",{get:function(){return this._align},set:function(e){this._align=e;var i=parsePanelAlign(e);this._panels.forEach(function(c){c.align=i})},enumerable:!1,configurable:!0}),o.init=function(e){return this._flicking=e,this._collectPanels(),this},o.destroy=function(){this._flicking=null,this._panels=[]},o.getPanel=function(e){return this._panels[e]||null},o.forceRenderAllPanels=function(){return this._panels.forEach(function(e){return e.markForShow()}),Promise.resolve()},o.updatePanelSize=function(){var e=getFlickingAttached(this._flicking),i=this._panels;if(i.length<=0)return this;if(e.panelsPerView>0){var c=i[0];c.resize(),this._updatePanelSizeByGrid(c,i)}else e.panels.forEach(function(f){return f.resize()});return this},o.batchInsert=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var c=this.batchInsertDefer.apply(this,__spread(e));return c.length<=0?[]:(this.updateAfterPanelChange(c,[]),c)},o.batchInsertDefer=function(){for(var e=this,i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];var f=this._panels,m=getFlickingAttached(this._flicking),g=f[0],Te=parsePanelAlign(this._align),Ie=i.reduce(function(Oe,Ae){var De,_e=getMinusCompensatedIndex(Ae.index,f.length),qe=f.slice(_e),Be=Ae.elements.map(function(Ve,Ue){return e._createPanel(Ve,{index:_e+Ue,align:Te,flicking:m})});if(f.splice.apply(f,__spread([_e,0],Be)),Ae.hasDOMInElements&&e._insertPanelElements(Be,(De=qe[0])!==null&&De!==void 0?De:null),m.panelsPerView>0){var Ne=g||Be[0].resize();e._updatePanelSizeByGrid(Ne,Be)}else Be.forEach(function(Ve){return Ve.resize()});return qe.forEach(function(Ve){Ve.increaseIndex(Be.length),Ve.updatePosition()}),__spread(Oe,Be)},[]);return Ie},o.batchRemove=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var c=this.batchRemoveDefer.apply(this,__spread(e));return c.length<=0?[]:(this.updateAfterPanelChange([],c),c)},o.batchRemoveDefer=function(){for(var e=this,i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];var f=this._panels,m=getFlickingAttached(this._flicking),g=m.control,Te=g.activePanel,Ie=i.reduce(function(Oe,Ae){var De=Ae.index,_e=Ae.deleteCount,qe=getMinusCompensatedIndex(De,f.length),Be=f.slice(qe+_e),Ne=f.splice(qe,_e);return Ne.length<=0?[]:(Be.forEach(function(Ve){Ve.decreaseIndex(Ne.length),Ve.updatePosition()}),Ae.hasDOMInElements&&e._removePanelElements(Ne),Ne.forEach(function(Ve){return Ve.destroy()}),includes(Ne,Te)&&g.resetActive(),__spread(Oe,Ne))},[]);return Ie},o.updateAfterPanelChange=function(e,i){var c,f=getFlickingAttached(this._flicking),m=f.camera,g=f.control,Te=this._panels,Ie=g.activePanel;if(this._updateCameraAndControl(),this.render(),!f.animating)if(!Ie||Ie.removed)if(Te.length<=0)m.lookAt(0);else{var Oe=(c=Ie==null?void 0:Ie.index)!==null&&c!==void 0?c:0;Oe>Te.length-1&&(Oe=Te.length-1),g.moveToPanel(Te[Oe],{duration:0}).catch(function(){})}else g.moveToPanel(Ie,{duration:0}).catch(function(){});f.camera.updateOffset(),(e.length>0||i.length>0)&&(f.trigger(new ComponentEvent$1(EVENTS.PANEL_CHANGE,{added:e,removed:i})),this.checkPanelContentsReady(__spread(e,i)))},o.checkPanelContentsReady=function(e){var i=this,c=getFlickingAttached(this._flicking),f=c.resizeOnContentsReady,m=this._panels;if(!(!f||c.virtualEnabled)){var g=function(Ie){return Ie.element&&!!Ie.element.querySelector("img, video")};if(e=e.filter(function(Ie){return g(Ie)}),!(e.length<=0)){var Te=new ImReady$1;e.forEach(function(Ie){Ie.loading=!0}),Te.on("readyElement",function(Ie){if(!i._flicking){Te.destroy();return}var Oe=e[Ie.index],Ae=c.camera,De=c.control,_e=De.activePanel?Ae.getProgressInPanel(De.activePanel):0;Oe.loading=!1,Oe.resize(),m.slice(Oe.index+1).forEach(function(qe){return qe.updatePosition()}),c.initialized&&(Ae.updateRange(),Ae.updateOffset(),Ae.updateAnchors(),De.animating||(De.updatePosition(_e),De.updateInput()))}),Te.on("preReady",function(Ie){i._flicking&&i.render(),Ie.readyCount===Ie.totalCount&&Te.destroy()}),Te.on("ready",function(){i._flicking&&i.render(),Te.destroy()}),Te.check(e.map(function(Ie){return Ie.element}))}}},o._updateCameraAndControl=function(){var e=getFlickingAttached(this._flicking),i=e.camera,c=e.control;i.updateRange(),i.updateOffset(),i.updateAnchors(),i.resetNeedPanelHistory(),c.updateInput()},o._showOnlyVisiblePanels=function(e){var i=e.renderer.panels,c=e.camera,f=c.visiblePanels.reduce(function(m,g){return m[g.index]=!0,m},{});i.forEach(function(m){m.index in f||m.loading?m.markForShow():e.holding||m.markForHide()})},o._updatePanelSizeByGrid=function(e,i){var c=getFlickingAttached(this._flicking),f=c.panelsPerView;if(f<=0)throw new FlickingError(MESSAGE.WRONG_OPTION("panelsPerView",f),CODE.WRONG_OPTION);if(!(i.length<=0)){var m=c.camera.size,g=e.margin.prev+e.margin.next,Te=(m-g*(f-1))/f,Ie=c.horizontal?{width:Te}:{height:Te},Oe=__assign({size:Te,margin:e.margin},!c.horizontal&&{height:e.height});c.noPanelStyleOverride||this._strategy.updatePanelSizes(c,Ie),c.panels.forEach(function(Ae){return Ae.resize(Oe)})}},o._removeAllChildsFromCamera=function(){for(var e=getFlickingAttached(this._flicking),i=e.camera.element;i.firstChild;)i.removeChild(i.firstChild)},o._insertPanelElements=function(e,i){i===void 0&&(i=null);var c=getFlickingAttached(this._flicking),f=c.camera,m=f.element,g=(i==null?void 0:i.element)||null,Te=document.createDocumentFragment();e.forEach(function(Ie){return Te.appendChild(Ie.element)}),m.insertBefore(Te,g)},o._removePanelElements=function(e){var i=getFlickingAttached(this._flicking),c=i.camera.element;e.forEach(function(f){c.removeChild(f.element)})},o._afterRender=function(){var e=getFlickingAttached(this._flicking);e.camera.applyTransform()},_}(),VanillaRenderer=function(_){__extends(o,_);function o(){return _!==null&&_.apply(this,arguments)||this}var e=o.prototype;return e.render=function(){return __awaiter(this,void 0,void 0,function(){var i,c;return __generator(this,function(f){return i=getFlickingAttached(this._flicking),c=this._strategy,c.updateRenderingPanels(i),c.renderPanels(i),this._resetPanelElementOrder(),this._afterRender(),[2]})})},e._collectPanels=function(){var i=getFlickingAttached(this._flicking),c=i.camera;this._removeAllTextNodes(),this._panels=this._strategy.collectPanels(i,c.children)},e._createPanel=function(i,c){return this._strategy.createPanel(i,c)},e._resetPanelElementOrder=function(){var i=getFlickingAttached(this._flicking),c=i.camera.element,f=this._strategy.getRenderingElementsByOrder(i).reverse();f.forEach(function(m,g){var Te=f[g-1]?f[g-1]:null;m.nextElementSibling!==Te&&c.insertBefore(m,Te)})},e._removeAllTextNodes=function(){var i=getFlickingAttached(this._flicking),c=i.camera.element;toArray(c.childNodes).forEach(function(f){f.nodeType===Node.TEXT_NODE&&c.removeChild(f)})},o}(Renderer),Panel=function(){function _(e){var i=e.index,c=e.align,f=e.flicking,m=e.elementProvider;this._index=i,this._flicking=f,this._elProvider=m,this._align=c,this._removed=!1,this._rendered=!0,this._loading=!1,this._resetInternalStates()}var o=_.prototype;return Object.defineProperty(o,"element",{get:function(){return this._elProvider.element},enumerable:!1,configurable:!0}),Object.defineProperty(o,"elementProvider",{get:function(){return this._elProvider},enumerable:!1,configurable:!0}),Object.defineProperty(o,"index",{get:function(){return this._index},enumerable:!1,configurable:!0}),Object.defineProperty(o,"position",{get:function(){return this._pos+this._alignPos},enumerable:!1,configurable:!0}),Object.defineProperty(o,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),Object.defineProperty(o,"sizeIncludingMargin",{get:function(){return this._size+this._margin.prev+this._margin.next},enumerable:!1,configurable:!0}),Object.defineProperty(o,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),Object.defineProperty(o,"margin",{get:function(){return this._margin},enumerable:!1,configurable:!0}),Object.defineProperty(o,"alignPosition",{get:function(){return this._alignPos},enumerable:!1,configurable:!0}),Object.defineProperty(o,"removed",{get:function(){return this._removed},enumerable:!1,configurable:!0}),Object.defineProperty(o,"rendered",{get:function(){return this._rendered},enumerable:!1,configurable:!0}),Object.defineProperty(o,"loading",{get:function(){return this._loading},set:function(e){this._loading=e},enumerable:!1,configurable:!0}),Object.defineProperty(o,"range",{get:function(){return{min:this._pos,max:this._pos+this._size}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"toggled",{get:function(){return this._toggled},enumerable:!1,configurable:!0}),Object.defineProperty(o,"toggleDirection",{get:function(){return this._toggleDirection},enumerable:!1,configurable:!0}),Object.defineProperty(o,"offset",{get:function(){var e=this._toggleDirection,i=this._flicking.camera.rangeDiff;return e===DIRECTION.NONE||!this._toggled?0:e===DIRECTION.PREV?-i:i},enumerable:!1,configurable:!0}),Object.defineProperty(o,"progress",{get:function(){var e=this._flicking;return this.index-e.camera.progress},enumerable:!1,configurable:!0}),Object.defineProperty(o,"outsetProgress",{get:function(){var e=this.position+this.offset,i=this._alignPos,c=this._flicking.camera,f=c.position;if(f===e)return 0;if(f<e){var m=e+(c.size-c.alignPosition)+i;return-getProgress(f,e,m)}else{var g=e-(c.alignPosition+this._size-i);return 1-getProgress(f,g,e)}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"visibleRatio",{get:function(){var e=this.range,i=this._size,c=this.offset,f=this._flicking.camera.visibleRange,m={min:e.min+c,max:e.max+c};if(m.max<=f.min||m.min>=f.max)return 0;var g=i;return f.min>m.min&&(g-=f.min-m.min),f.max<m.max&&(g-=m.max-f.max),g/i},enumerable:!1,configurable:!0}),Object.defineProperty(o,"align",{get:function(){return this._align},set:function(e){this._align=e,this._updateAlignPos()},enumerable:!1,configurable:!0}),o.markForShow=function(){this._rendered=!0,this._elProvider.show(this._flicking)},o.markForHide=function(){this._rendered=!1,this._elProvider.hide(this._flicking)},o.resize=function(e){var i,c=this.element,f=this._flicking,m=f.horizontal,g=f.useFractionalSize;if(e)this._size=e.size,this._margin=__assign({},e.margin),this._height=(i=e.height)!==null&&i!==void 0?i:getElementSize({el:c,horizontal:!1,useFractionalSize:g,useOffset:!0,style:getStyle(c)});else{var Te=getStyle(c);this._size=getElementSize({el:c,horizontal:m,useFractionalSize:g,useOffset:!0,style:Te}),this._margin=m?{prev:parseFloat(Te.marginLeft||"0"),next:parseFloat(Te.marginRight||"0")}:{prev:parseFloat(Te.marginTop||"0"),next:parseFloat(Te.marginBottom||"0")},this._height=m?getElementSize({el:c,horizontal:!1,useFractionalSize:g,useOffset:!0,style:Te}):this._size}return this.updatePosition(),this._updateAlignPos(),this},o.setSize=function(e){return setSize(this.element,e),this},o.contains=function(e){var i;return!!(!((i=this.element)===null||i===void 0)&&i.contains(e))},o.destroy=function(){this._resetInternalStates(),this._removed=!0},o.includePosition=function(e,i){return i===void 0&&(i=!1),this.includeRange(e,e,i)},o.includeRange=function(e,i,c){c===void 0&&(c=!1);var f=this._margin,m=this.range;return c&&(m.min-=f.prev,m.max+=f.next),i>=m.min&&e<=m.max},o.isVisibleOnRange=function(e,i){var c=this.range;return i>c.min&&e<c.max},o.focus=function(e){return this._flicking.moveTo(this._index,e)},o.prev=function(){var e=this._index,i=this._flicking,c=i.renderer,f=c.panelCount;return f===1?null:i.circularEnabled?c.getPanel(e===0?f-1:e-1):c.getPanel(e-1)},o.next=function(){var e=this._index,i=this._flicking,c=i.renderer,f=c.panelCount;return f===1?null:i.circularEnabled?c.getPanel(e===f-1?0:e+1):c.getPanel(e+1)},o.increaseIndex=function(e){return this._index+=Math.max(e,0),this},o.decreaseIndex=function(e){return this._index-=Math.max(e,0),this},o.updatePosition=function(){var e=this._flicking.renderer.panels[this._index-1];return this._pos=e?e.range.max+e.margin.next+this._margin.prev:this._margin.prev,this},o.toggle=function(e,i){var c=this._toggleDirection,f=this._togglePosition;if(c===DIRECTION.NONE||i===e)return!1;var m=this._toggled;return i>e?f>=e&&f<=i&&(this._toggled=c===DIRECTION.NEXT):f<=e&&f>=i&&(this._toggled=c!==DIRECTION.NEXT),m!==this._toggled},o.updateCircularToggleDirection=function(){var e=this._flicking;if(!e.circularEnabled)return this._toggleDirection=DIRECTION.NONE,this._togglePosition=0,this._toggled=!1,this;var i=e.camera,c=i.range,f=i.alignPosition,m=i.visibleRange,g=m.max-m.min,Te=c.min-f,Ie=c.max-f+g,Oe=this.includeRange(Ie-g,Ie,!1),Ae=this.includeRange(Te,Te+g,!1);return this._toggled=!1,Oe?(this._toggleDirection=DIRECTION.PREV,this._togglePosition=this.range.max+c.min-c.max+f,this.toggle(1/0,i.position)):Ae?(this._toggleDirection=DIRECTION.NEXT,this._togglePosition=this.range.min+c.max-g+f,this.toggle(-1/0,i.position)):(this._toggleDirection=DIRECTION.NONE,this._togglePosition=0),this},o._updateAlignPos=function(){this._alignPos=parseAlign$1(this._align,this._size)},o._resetInternalStates=function(){this._size=0,this._pos=0,this._margin={prev:0,next:0},this._height=0,this._alignPos=0,this._toggled=!1,this._togglePosition=0,this._toggleDirection=DIRECTION.NONE},_}(),NormalRenderingStrategy=function(){function _(e){var i=e.providerCtor;this._providerCtor=i}var o=_.prototype;return o.renderPanels=function(){},o.getRenderingIndexesByOrder=function(e){var i=e.renderer.panels.filter(function(g){return g.rendered}),c=i.filter(function(g){return g.toggled&&g.toggleDirection===DIRECTION.PREV}),f=i.filter(function(g){return g.toggled&&g.toggleDirection===DIRECTION.NEXT}),m=i.filter(function(g){return!g.toggled});return __spread(c,m,f).map(function(g){return g.index})},o.getRenderingElementsByOrder=function(e){var i=e.panels;return this.getRenderingIndexesByOrder(e).map(function(c){return i[c].element})},o.updateRenderingPanels=function(e){e.renderOnlyVisible?this._showOnlyVisiblePanels(e):e.panels.forEach(function(i){return i.markForShow()})},o.collectPanels=function(e,i){var c=this,f=parsePanelAlign(e.renderer.align);return i.map(function(m,g){return new Panel({index:g,elementProvider:new c._providerCtor(m),align:f,flicking:e})})},o.createPanel=function(e,i){return new Panel(__assign(__assign({},i),{elementProvider:new this._providerCtor(e)}))},o.updatePanelSizes=function(e,i){e.panels.forEach(function(c){return c.setSize(i)})},o._showOnlyVisiblePanels=function(e){var i=e.renderer.panels,c=e.camera,f=c.visiblePanels.reduce(function(m,g){return m[g.index]=!0,m},{});i.forEach(function(m){m.index in f||m.loading?m.markForShow():e.holding||m.markForHide()}),c.updateOffset()},_}(),VirtualPanel=function(_){__extends(o,_);function o(i){var c=_.call(this,i)||this;return i.elementProvider.init(c),c._elProvider=i.elementProvider,c._cachedInnerHTML=null,c}var e=o.prototype;return Object.defineProperty(e,"element",{get:function(){return this._elProvider.element},enumerable:!1,configurable:!0}),Object.defineProperty(e,"cachedInnerHTML",{get:function(){return this._cachedInnerHTML},enumerable:!1,configurable:!0}),Object.defineProperty(e,"elementIndex",{get:function(){var i=this._flicking,c=i.panelsPerView+1,f=i.panelCount,m=this._index;return this._toggled&&(m=this._toggleDirection===DIRECTION.NEXT?m+f:m-f),circulateIndex(m,c)},enumerable:!1,configurable:!0}),e.cacheRenderResult=function(i){this._cachedInnerHTML=i},e.uncacheRenderResult=function(){this._cachedInnerHTML=null},e.render=function(){var i=this._flicking,c=i.virtual,f=c.renderPanel,m=c.cache,g=this._elProvider.element,Te=this._cachedInnerHTML||f(this,this._index);Te!==g.innerHTML&&(g.innerHTML=Te,m&&this.cacheRenderResult(Te))},e.increaseIndex=function(i){return this.uncacheRenderResult(),_.prototype.increaseIndex.call(this,i)},e.decreaseIndex=function(i){return this.uncacheRenderResult(),_.prototype.decreaseIndex.call(this,i)},o}(Panel),VirtualRenderingStrategy=function(){function _(){}var o=_.prototype;return o.renderPanels=function(e){var i=e.virtual,c=e.visiblePanels,f=range(e.panelsPerView+1);c.forEach(function(m){var g=m.elementIndex;m.render(),i.show(g),f[g]=-1}),f.filter(function(m){return m>=0}).forEach(function(m){i.hide(m)})},o.getRenderingIndexesByOrder=function(e){var i=e.virtual,c=__spread(e.visiblePanels).filter(function(g){return g.rendered}).sort(function(g,Te){return g.position+g.offset-(Te.position+Te.offset)});if(c.length<=0)return i.elements.map(function(g,Te){return Te});var f=c.map(function(g){return g.elementIndex}),m=i.elements.map(function(g,Te){return __assign(__assign({},g),{idx:Te})}).filter(function(g){return!g.visible}).map(function(g){return g.idx});return __spread(f,m)},o.getRenderingElementsByOrder=function(e){var i=e.virtual,c=i.elements;return this.getRenderingIndexesByOrder(e).map(function(f){return c[f].nativeElement})},o.updateRenderingPanels=function(e){var i=e.renderer.panels,c=e.camera,f=c.visiblePanels.reduce(function(m,g){return m[g.index]=!0,m},{});i.forEach(function(m){m.index in f||m.loading?m.markForShow():m.markForHide()}),c.updateOffset()},o.collectPanels=function(e){var i=parsePanelAlign(e.renderer.align);return range(e.virtual.initialPanelCount).map(function(c){return new VirtualPanel({index:c,elementProvider:new VirtualElementProvider(e),align:i,flicking:e})})},o.createPanel=function(e,i){return new VirtualPanel(__assign(__assign({},i),{elementProvider:new VirtualElementProvider(i.flicking)}))},o.updatePanelSizes=function(e,i){e.virtual.elements.forEach(function(c){setSize(c.nativeElement,i)}),e.panels.forEach(function(c){return c.setSize(i)})},_}(),Flicking=function(_){__extends(o,_);function o(i,c){var f=c===void 0?{}:c,m=f.align,g=m===void 0?ALIGN.CENTER:m,Te=f.defaultIndex,Ie=Te===void 0?0:Te,Oe=f.horizontal,Ae=Oe===void 0?!0:Oe,De=f.circular,_e=De===void 0?!1:De,qe=f.circularFallback,Be=qe===void 0?CIRCULAR_FALLBACK.LINEAR:qe,Ne=f.bound,Ve=Ne===void 0?!1:Ne,Ue=f.adaptive,We=Ue===void 0?!1:Ue,He=f.panelsPerView,Ze=He===void 0?-1:He,ct=f.noPanelStyleOverride,at=ct===void 0?!1:ct,gt=f.resizeOnContentsReady,yt=gt===void 0?!1:gt,tt=f.nested,pt=tt===void 0?!1:tt,nt=f.needPanelThreshold,mt=nt===void 0?0:nt,Xe=f.preventEventsBeforeInit,Ft=Xe===void 0?!0:Xe,Zt=f.deceleration,zt=Zt===void 0?.0075:Zt,cr=f.duration,Et=cr===void 0?500:cr,St=f.easing,st=St===void 0?function(kr){return 1-Math.pow(1-kr,3)}:St,dt=f.inputType,Bt=dt===void 0?["mouse","touch"]:dt,At=f.moveType,Kt=At===void 0?"snap":At,fr=f.threshold,Dr=fr===void 0?40:fr,or=f.interruptable,lt=or===void 0?!0:or,bt=f.bounce,Xt=bt===void 0?"20%":bt,$t=f.iOSEdgeSwipeThreshold,pr=$t===void 0?30:$t,Qe=f.preventClickOnDrag,It=Qe===void 0?!0:Qe,Ht=f.preventDefaultOnDrag,ht=Ht===void 0?!1:Ht,xt=f.disableOnInit,Rt=xt===void 0?!1:xt,er=f.changeOnHold,rt=er===void 0?!1:er,je=f.renderOnlyVisible,Ke=je===void 0?!1:je,ut=f.virtual,vt=ut===void 0?null:ut,Ct=f.autoInit,Lt=Ct===void 0?!0:Ct,sr=f.autoResize,Rr=sr===void 0?!0:sr,qr=f.useResizeObserver,wr=qr===void 0?!0:qr,dr=f.resizeDebounce,Vr=dr===void 0?0:dr,on=f.maxResizeDebounce,Ir=on===void 0?100:on,un=f.useFractionalSize,Bn=un===void 0?!1:un,Un=f.externalRenderer,Er=Un===void 0?null:Un,Jt=f.renderExternal,yr=Jt===void 0?null:Jt,it=_.call(this)||this;return it._initialized=!1,it._plugins=[],it._align=g,it._defaultIndex=Ie,it._horizontal=Ae,it._circular=_e,it._circularFallback=Be,it._bound=Ve,it._adaptive=We,it._panelsPerView=Ze,it._noPanelStyleOverride=at,it._resizeOnContentsReady=yt,it._nested=pt,it._virtual=vt,it._needPanelThreshold=mt,it._preventEventsBeforeInit=Ft,it._deceleration=zt,it._duration=Et,it._easing=st,it._inputType=Bt,it._moveType=Kt,it._threshold=Dr,it._interruptable=lt,it._bounce=Xt,it._iOSEdgeSwipeThreshold=pr,it._preventClickOnDrag=It,it._preventDefaultOnDrag=ht,it._disableOnInit=Rt,it._changeOnHold=rt,it._renderOnlyVisible=Ke,it._autoInit=Lt,it._autoResize=Rr,it._useResizeObserver=wr,it._resizeDebounce=Vr,it._maxResizeDebounce=Ir,it._useFractionalSize=Bn,it._externalRenderer=Er,it._renderExternal=yr,it._viewport=new Viewport(it,getElement(i)),it._autoResizer=new AutoResizer(it),it._renderer=it._createRenderer(),it._camera=it._createCamera(),it._control=it._createControl(),it._virtualManager=new VirtualManager(it,vt),it._autoInit&&it.init(),it}var e=o.prototype;return Object.defineProperty(e,"control",{get:function(){return this._control},enumerable:!1,configurable:!0}),Object.defineProperty(e,"camera",{get:function(){return this._camera},enumerable:!1,configurable:!0}),Object.defineProperty(e,"renderer",{get:function(){return this._renderer},enumerable:!1,configurable:!0}),Object.defineProperty(e,"viewport",{get:function(){return this._viewport},enumerable:!1,configurable:!0}),Object.defineProperty(e,"initialized",{get:function(){return this._initialized},enumerable:!1,configurable:!0}),Object.defineProperty(e,"circularEnabled",{get:function(){return this._camera.circularEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(e,"virtualEnabled",{get:function(){return this._panelsPerView>0&&this._virtual!=null},enumerable:!1,configurable:!0}),Object.defineProperty(e,"index",{get:function(){return this._control.activeIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e,"element",{get:function(){return this._viewport.element},enumerable:!1,configurable:!0}),Object.defineProperty(e,"currentPanel",{get:function(){return this._control.activePanel},enumerable:!1,configurable:!0}),Object.defineProperty(e,"panels",{get:function(){return this._renderer.panels},enumerable:!1,configurable:!0}),Object.defineProperty(e,"panelCount",{get:function(){return this._renderer.panelCount},enumerable:!1,configurable:!0}),Object.defineProperty(e,"visiblePanels",{get:function(){return this._camera.visiblePanels},enumerable:!1,configurable:!0}),Object.defineProperty(e,"animating",{get:function(){return this._control.animating},enumerable:!1,configurable:!0}),Object.defineProperty(e,"holding",{get:function(){return this._control.holding},enumerable:!1,configurable:!0}),Object.defineProperty(e,"activePlugins",{get:function(){return this._plugins},enumerable:!1,configurable:!0}),Object.defineProperty(e,"align",{get:function(){return this._align},set:function(i){this._align=i,this._renderer.align=i,this._camera.align=i,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultIndex",{get:function(){return this._defaultIndex},set:function(i){this._defaultIndex=i},enumerable:!1,configurable:!0}),Object.defineProperty(e,"horizontal",{get:function(){return this._horizontal},set:function(i){this._horizontal=i,this._control.controller.updateDirection(),this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"circular",{get:function(){return this._circular},set:function(i){this._circular=i,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"circularFallback",{get:function(){return this._circularFallback},enumerable:!1,configurable:!0}),Object.defineProperty(e,"bound",{get:function(){return this._bound},set:function(i){this._bound=i,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"adaptive",{get:function(){return this._adaptive},set:function(i){this._adaptive=i,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"panelsPerView",{get:function(){return this._panelsPerView},set:function(i){this._panelsPerView=i,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"noPanelStyleOverride",{get:function(){return this._noPanelStyleOverride},set:function(i){this._noPanelStyleOverride=i,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"resizeOnContentsReady",{get:function(){return this._resizeOnContentsReady},set:function(i){this._resizeOnContentsReady=i,i&&this._renderer.checkPanelContentsReady(this._renderer.panels)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"nested",{get:function(){return this._nested},set:function(i){this._nested=i;var c=this._control.controller.axes;c&&(c.options.nested=i)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"needPanelThreshold",{get:function(){return this._needPanelThreshold},set:function(i){this._needPanelThreshold=i},enumerable:!1,configurable:!0}),Object.defineProperty(e,"preventEventsBeforeInit",{get:function(){return this._preventEventsBeforeInit},set:function(i){this._preventEventsBeforeInit=i},enumerable:!1,configurable:!0}),Object.defineProperty(e,"deceleration",{get:function(){return this._deceleration},set:function(i){this._deceleration=i;var c=this._control.controller.axes;c&&(c.options.deceleration=i)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"easing",{get:function(){return this._easing},set:function(i){this._easing=i;var c=this._control.controller.axes;c&&(c.options.easing=i)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"duration",{get:function(){return this._duration},set:function(i){this._duration=i},enumerable:!1,configurable:!0}),Object.defineProperty(e,"inputType",{get:function(){return this._inputType},set:function(i){this._inputType=i;var c=this._control.controller.panInput;c&&(c.options.inputType=i)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"moveType",{get:function(){return this._moveType},set:function(i){this._moveType=i;var c=this._control,f=this._createControl(),m=c.activePanel;f.copy(c);var g=m?this._camera.getProgressInPanel(m):0;this._control=f,this._control.updatePosition(g),this._control.updateInput()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"threshold",{get:function(){return this._threshold},set:function(i){this._threshold=i},enumerable:!1,configurable:!0}),Object.defineProperty(e,"interruptable",{get:function(){return this._interruptable},set:function(i){this._interruptable=i;var c=this._control.controller.axes;c&&(c.options.interruptable=i)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"bounce",{get:function(){return this._bounce},set:function(i){this._bounce=i,this._control.updateInput()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"iOSEdgeSwipeThreshold",{get:function(){return this._iOSEdgeSwipeThreshold},set:function(i){this._iOSEdgeSwipeThreshold=i;var c=this._control.controller.panInput;c&&(c.options.iOSEdgeSwipeThreshold=i)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"preventClickOnDrag",{get:function(){return this._preventClickOnDrag},set:function(i){var c=this._preventClickOnDrag;if(i!==c){var f=this._control.controller;i?f.addPreventClickHandler():f.removePreventClickHandler(),this._preventClickOnDrag=i}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"preventDefaultOnDrag",{get:function(){return this._preventDefaultOnDrag},set:function(i){this._preventDefaultOnDrag=i;var c=this._control.controller.panInput;c&&(c.options.preventDefaultOnDrag=i)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"disableOnInit",{get:function(){return this._disableOnInit},set:function(i){this._disableOnInit=i},enumerable:!1,configurable:!0}),Object.defineProperty(e,"changeOnHold",{get:function(){return this._changeOnHold},set:function(i){this._changeOnHold=i},enumerable:!1,configurable:!0}),Object.defineProperty(e,"renderOnlyVisible",{get:function(){return this._renderOnlyVisible},set:function(i){this._renderOnlyVisible=i,this._renderer.render()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"virtual",{get:function(){return this._virtualManager},enumerable:!1,configurable:!0}),Object.defineProperty(e,"autoInit",{get:function(){return this._autoInit},enumerable:!1,configurable:!0}),Object.defineProperty(e,"autoResize",{get:function(){return this._autoResize},set:function(i){this._autoResize=i,i?this._autoResizer.enable():this._autoResizer.disable()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"useResizeObserver",{get:function(){return this._useResizeObserver},set:function(i){this._useResizeObserver=i,this._autoResize&&this._autoResizer.enable()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"resizeDebounce",{get:function(){return this._resizeDebounce},enumerable:!1,configurable:!0}),Object.defineProperty(e,"maxResizeDebounce",{get:function(){return this._maxResizeDebounce},enumerable:!1,configurable:!0}),Object.defineProperty(e,"useFractionalSize",{get:function(){return this._useFractionalSize},enumerable:!1,configurable:!0}),Object.defineProperty(e,"externalRenderer",{get:function(){return this._externalRenderer},enumerable:!1,configurable:!0}),Object.defineProperty(e,"renderExternal",{get:function(){return this._renderExternal},enumerable:!1,configurable:!0}),e.init=function(){var i=this;if(this._initialized)return Promise.resolve();var c=this._camera,f=this._renderer,m=this._control,g=this._virtualManager,Te=this.trigger,Ie=this._preventEventsBeforeInit;return c.init(),g.init(),f.init(this),m.init(this),Ie&&(this.trigger=function(){return i}),this._initialResize(),this._moveToInitialPanel(),this._autoResize&&this._autoResizer.enable(),this._preventClickOnDrag&&m.controller.addPreventClickHandler(),this._disableOnInit&&this.disableInput(),f.checkPanelContentsReady(f.panels),this._initialized=!0,f.render().then(function(){i._plugins.forEach(function(Oe){return Oe.init(i)}),Ie&&(i.trigger=Te),i.trigger(new ComponentEvent$1(EVENTS.READY))})},e.destroy=function(){this.off(),this._autoResizer.disable(),this._control.destroy(),this._camera.destroy(),this._renderer.destroy(),this._plugins.forEach(function(i){return i.destroy()}),this._initialized=!1},e.prev=function(i){var c,f,m;return i===void 0&&(i=this._duration),this.moveTo((m=(f=(c=this._control.activePanel)===null||c===void 0?void 0:c.prev())===null||f===void 0?void 0:f.index)!==null&&m!==void 0?m:-1,i,DIRECTION.PREV)},e.next=function(i){var c,f,m;return i===void 0&&(i=this._duration),this.moveTo((m=(f=(c=this._control.activePanel)===null||c===void 0?void 0:c.next())===null||f===void 0?void 0:f.index)!==null&&m!==void 0?m:this._renderer.panelCount,i,DIRECTION.NEXT)},e.moveTo=function(i,c,f){c===void 0&&(c=this._duration),f===void 0&&(f=DIRECTION.NONE);var m=this._renderer,g=m.panelCount,Te=m.getPanel(i);return Te?this._control.animating?Promise.reject(new FlickingError(MESSAGE.ANIMATION_ALREADY_PLAYING,CODE.ANIMATION_ALREADY_PLAYING)):(this._control.holding&&this._control.controller.release(),this._control.moveToPanel(Te,{duration:c,direction:f})):Promise.reject(new FlickingError(MESSAGE.INDEX_OUT_OF_RANGE(i,0,g-1),CODE.INDEX_OUT_OF_RANGE))},e.updateAnimation=function(i,c,f){if(this._control.animating){var m=this._renderer,g=m.panelCount,Te=m.getPanel(i);if(!Te)throw new FlickingError(MESSAGE.INDEX_OUT_OF_RANGE(i,0,g-1),CODE.INDEX_OUT_OF_RANGE);this._control.updateAnimation(Te,c,f)}},e.stopAnimation=function(){this._control.animating&&this._control.stopAnimation()},e.getPanel=function(i){return this._renderer.getPanel(i)},e.enableInput=function(){return this._control.enable(),this},e.disableInput=function(){return this._control.disable(),this},e.getStatus=function(i){var c,f,m=i===void 0?{}:i,g=m.index,Te=g===void 0?!0:g,Ie=m.position,Oe=Ie===void 0?!0:Ie,Ae=m.includePanelHTML,De=Ae===void 0?!1:Ae,_e=m.visiblePanelsOnly,qe=_e===void 0?!1:_e,Be=this._camera,Ne=qe?this.visiblePanels:this.panels,Ve={panels:Ne.map(function(He){var Ze={index:He.index};return De&&(Ze.html=He.element.outerHTML),Ze})};if(Te&&(Ve.index=this.index),Oe){var Ue=Be.findNearestAnchor(Be.position);Ue&&(Ve.position={panel:Ue.panel.index,progressInPanel:Be.getProgressInPanel(Ue.panel)})}if(qe){var We=this.visiblePanels;Ve.visibleOffset=(f=(c=We[0])===null||c===void 0?void 0:c.index)!==null&&f!==void 0?f:0}return Ve},e.setStatus=function(i){var c;if(!this._initialized)throw new FlickingError(MESSAGE.NOT_INITIALIZED,CODE.NOT_INITIALIZED);var f=i.index,m=i.position,g=i.visibleOffset,Te=i.panels,Ie=this._renderer,Oe=this._control;if(!((c=Te[0])===null||c===void 0)&&c.html&&!this._renderExternal&&(Ie.batchRemove({index:0,deleteCount:this.panels.length,hasDOMInElements:!0}),Ie.batchInsert({index:0,elements:parseElement(Te.map(function(Ne){return Ne.html})),hasDOMInElements:!0})),f!=null){var Ae=g?f-g:f;this.moveTo(Ae,0).catch(function(){})}if(m&&this._moveType===MOVE_TYPE.FREE_SCROLL){var De=m.panel,_e=m.progressInPanel,Ae=g?De-g:De,qe=Ie.panels[Ae].range,Be=qe.min+(qe.max-qe.min)*_e;Oe.moveToPosition(Be,0).catch(function(){})}},e.addPlugins=function(){for(var i,c=this,f=[],m=0;m<arguments.length;m++)f[m]=arguments[m];return this._initialized&&f.forEach(function(g){return g.init(c)}),(i=this._plugins).push.apply(i,__spread(f)),this},e.removePlugins=function(){for(var i=this,c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];return c.forEach(function(m){var g=findIndex(i._plugins,function(Te){return Te===m});g>=0&&(m.destroy(),i._plugins.splice(g,1))}),this},e.resize=function(){return __awaiter(this,void 0,void 0,function(){var i,c,f,m,g,Te,Ie,Oe,Ae,De,_e;return __generator(this,function(qe){switch(qe.label){case 0:return i=this._viewport,c=this._renderer,f=this._camera,m=this._control,g=m.activePanel,Te=i.width,Ie=i.height,Oe=g?f.getProgressInPanel(g):0,this.trigger(new ComponentEvent$1(EVENTS.BEFORE_RESIZE,{width:Te,height:Ie,element:i.element})),i.resize(),[4,c.forceRenderAllPanels()];case 1:return qe.sent(),this._initialized?(c.updatePanelSize(),f.updateAlignPos(),f.updateRange(),f.updateAnchors(),f.updateAdaptiveHeight(),f.updatePanelOrder(),f.updateOffset(),[4,c.render()]):[2];case 2:return qe.sent(),this._initialized?(m.animating||(m.updatePosition(Oe),m.updateInput()),Ae=i.width,De=i.height,_e=Ae!==Te||De!==Ie,this.trigger(new ComponentEvent$1(EVENTS.AFTER_RESIZE,{width:i.width,height:i.height,prev:{width:Te,height:Ie},sizeChanged:_e,element:i.element})),[2]):[2]}})})},e.append=function(i){return this.insert(this._renderer.panelCount,i)},e.prepend=function(i){return this.insert(0,i)},e.insert=function(i,c){if(this._renderExternal)throw new FlickingError(MESSAGE.NOT_ALLOWED_IN_FRAMEWORK,CODE.NOT_ALLOWED_IN_FRAMEWORK);return this._renderer.batchInsert({index:i,elements:parseElement(c),hasDOMInElements:!0})},e.remove=function(i,c){if(c===void 0&&(c=1),this._renderExternal)throw new FlickingError(MESSAGE.NOT_ALLOWED_IN_FRAMEWORK,CODE.NOT_ALLOWED_IN_FRAMEWORK);return this._renderer.batchRemove({index:i,deleteCount:c,hasDOMInElements:!0})},e._createControl=function(){var i,c=this._moveType,f=Object.keys(MOVE_TYPE).map(function(Te){return MOVE_TYPE[Te]}),m=Array.isArray(c)?c[0]:c,g=Array.isArray(c)?(i=c[1])!==null&&i!==void 0?i:{}:{};if(!includes(f,m))throw new FlickingError(MESSAGE.WRONG_OPTION("moveType",JSON.stringify(c)),CODE.WRONG_OPTION);switch(m){case MOVE_TYPE.SNAP:return new SnapControl(g);case MOVE_TYPE.FREE_SCROLL:return new FreeControl(g);case MOVE_TYPE.STRICT:return new StrictControl(g)}},e._createCamera=function(){return this._circular&&this._bound&&console.warn('"circular" and "bound" option cannot be used together, ignoring bound.'),new Camera(this,{align:this._align})},e._createRenderer=function(){var i=this._externalRenderer;return this._virtual&&this._panelsPerView<=0&&console.warn('"virtual" and "panelsPerView" option should be used together, ignoring virtual.'),i||(this._renderExternal?this._createExternalRenderer():this._createVanillaRenderer())},e._createExternalRenderer=function(){var i=this._renderExternal,c=i.renderer,f=i.rendererOptions;return new c(__assign({align:this._align},f))},e._createVanillaRenderer=function(){var i=this.virtualEnabled;return new VanillaRenderer({align:this._align,strategy:i?new VirtualRenderingStrategy:new NormalRenderingStrategy({providerCtor:VanillaElementProvider})})},e._moveToInitialPanel=function(){var i=this._renderer,c=this._control,f=this._camera,m=i.getPanel(this._defaultIndex)||i.getPanel(0);if(m){var g=f.findNearestAnchor(m.position),Te=g&&m.index!==g.panel.index?g.panel:m;if(c.setActive(Te,null,!1),!g)throw new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(Te.position),CODE.POSITION_NOT_REACHABLE);var Ie=Te.position;f.canReach(Te)||(Ie=g.position),f.lookAt(Ie),c.updateInput(),f.updateOffset()}},e._initialResize=function(){var i=this._viewport,c=this._renderer,f=this._camera,m=this._control;this.trigger(new ComponentEvent$1(EVENTS.BEFORE_RESIZE,{width:0,height:0,element:i.element})),i.resize(),c.updatePanelSize(),f.updateAlignPos(),f.updateRange(),f.updateAnchors(),f.updateOffset(),m.updateInput();var g=i.width,Te=i.height,Ie=g!==0||Te!==0;this.trigger(new ComponentEvent$1(EVENTS.AFTER_RESIZE,{width:i.width,height:i.height,prev:{width:0,height:0},sizeChanged:Ie,element:i.element}))},o.VERSION="4.11.4",o}(Component);const flicking="",scriptRel="modulepreload",assetsURL=function(_){return"/vme/"+_},seen={},__vitePreload=function(o,e,i){if(!e||e.length===0)return o();const c=document.getElementsByTagName("link");return Promise.all(e.map(f=>{if(f=assetsURL(f),f in seen)return;seen[f]=!0;const m=f.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(!!i)for(let Oe=c.length-1;Oe>=0;Oe--){const Ae=c[Oe];if(Ae.href===f&&(!m||Ae.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${f}"]${g}`))return;const Ie=document.createElement("link");if(Ie.rel=m?"stylesheet":scriptRel,m||(Ie.as="script",Ie.crossOrigin=""),Ie.href=f,document.head.appendChild(Ie),m)return new Promise((Oe,Ae)=>{Ie.addEventListener("load",Oe),Ie.addEventListener("error",()=>Ae(new Error(`Unable to preload CSS for ${f}`)))})})).then(()=>o()).catch(f=>{const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f})};var __defProp=Object.defineProperty,__defNormalProp=(_,o,e)=>o in _?__defProp(_,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):_[o]=e,__publicField=(_,o,e)=>__defNormalProp(_,typeof o!="symbol"?o+"":o,e);function _mergeNamespaces(_,o){for(var e=0;e<o.length;e++){const i=o[e];if(typeof i!="string"&&!Array.isArray(i)){for(const c in i)if(c!=="default"&&!(c in _)){const f=Object.getOwnPropertyDescriptor(i,c);f&&Object.defineProperty(_,c,f.get?f:{enumerable:!0,get:()=>i[c]})}}}return Object.freeze(Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}))}const systemCoreMap={gb:"mgba",gba:"mgba",gbc:"mgba",megadrive:"genesis_plus_gx",nes:"fceumm",snes:"snes9x"};var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(_){return _&&_.__esModule&&Object.prototype.hasOwnProperty.call(_,"default")?_.default:_}const{hasOwnProperty}=Object.prototype,encode=(_,o={})=>{typeof o=="string"&&(o={section:o}),o.align=o.align===!0,o.newline=o.newline===!0,o.sort=o.sort===!0,o.whitespace=o.whitespace===!0||o.align===!0,o.platform=o.platform||typeof process<"u"&&process.platform,o.bracketedArray=o.bracketedArray!==!1;const e=o.platform==="win32"?`\r
`:`
`,i=o.whitespace?" = ":"=",c=[],f=o.sort?Object.keys(_).sort():Object.keys(_);let m=0;o.align&&(m=safe(f.filter(Ie=>_[Ie]===null||Array.isArray(_[Ie])||typeof _[Ie]!="object").map(Ie=>Array.isArray(_[Ie])?`${Ie}[]`:Ie).concat([""]).reduce((Ie,Oe)=>safe(Ie).length>=safe(Oe).length?Ie:Oe)).length);let g="";const Te=o.bracketedArray?"[]":"";for(const Ie of f){const Oe=_[Ie];if(Oe&&Array.isArray(Oe))for(const Ae of Oe)g+=safe(`${Ie}${Te}`).padEnd(m," ")+i+safe(Ae)+e;else Oe&&typeof Oe=="object"?c.push(Ie):g+=safe(Ie).padEnd(m," ")+i+safe(Oe)+e}o.section&&g.length&&(g="["+safe(o.section)+"]"+(o.newline?e+e:e)+g);for(const Ie of c){const Oe=splitSections(Ie,".").join("\\."),Ae=(o.section?o.section+".":"")+Oe,De=encode(_[Ie],{...o,section:Ae});g.length&&De.length&&(g+=e),g+=De}return g};function splitSections(_,o){var e=0,i=0,c=0,f=[];do if(c=_.indexOf(o,e),c!==-1){if(e=c+o.length,c>0&&_[c-1]==="\\")continue;f.push(_.slice(i,c)),i=c+o.length}while(c!==-1);return f.push(_.slice(i)),f}const decode=(_,o={})=>{o.bracketedArray=o.bracketedArray!==!1;const e=Object.create(null);let i=e,c=null;const f=/^\[([^\]]*)\]\s*$|^([^=]+)(=(.*))?$/i,m=_.split(/[\r\n]+/g),g={};for(const Ie of m){if(!Ie||Ie.match(/^\s*[;#]/)||Ie.match(/^\s*$/))continue;const Oe=Ie.match(f);if(!Oe)continue;if(Oe[1]!==void 0){if(c=unsafe(Oe[1]),c==="__proto__"){i=Object.create(null);continue}i=e[c]=e[c]||Object.create(null);continue}const Ae=unsafe(Oe[2]);let De;o.bracketedArray?De=Ae.length>2&&Ae.slice(-2)==="[]":(g[Ae]=((g==null?void 0:g[Ae])||0)+1,De=g[Ae]>1);const _e=De&&Ae.endsWith("[]")?Ae.slice(0,-2):Ae;if(_e==="__proto__")continue;const qe=Oe[3]?unsafe(Oe[4]):!0,Be=qe==="true"||qe==="false"||qe==="null"?JSON.parse(qe):qe;De&&(hasOwnProperty.call(i,_e)?Array.isArray(i[_e])||(i[_e]=[i[_e]]):i[_e]=[]),Array.isArray(i[_e])?i[_e].push(Be):i[_e]=Be}const Te=[];for(const Ie of Object.keys(e)){if(!hasOwnProperty.call(e,Ie)||typeof e[Ie]!="object"||Array.isArray(e[Ie]))continue;const Oe=splitSections(Ie,".");i=e;const Ae=Oe.pop(),De=Ae.replace(/\\\./g,".");for(const _e of Oe)_e!=="__proto__"&&((!hasOwnProperty.call(i,_e)||typeof i[_e]!="object")&&(i[_e]=Object.create(null)),i=i[_e]);i===e&&De===Ae||(i[De]=e[Ie],Te.push(Ie))}for(const Ie of Te)delete e[Ie];return e},isQuoted=_=>_.startsWith('"')&&_.endsWith('"')||_.startsWith("'")&&_.endsWith("'"),safe=_=>typeof _!="string"||_.match(/[=\r\n]/)||_.match(/^\[/)||_.length>1&&isQuoted(_)||_!==_.trim()?JSON.stringify(_):_.split(";").join("\\;").split("#").join("\\#"),unsafe=_=>{if(_=(_||"").trim(),isQuoted(_)){_.charAt(0)==="'"&&(_=_.slice(1,-1));try{_=JSON.parse(_)}catch{}}else{let o=!1,e="";for(let i=0,c=_.length;i<c;i++){const f=_.charAt(i);if(o)"\\;#".indexOf(f)!==-1?e+=f:e+="\\"+f,o=!1;else{if(";#".indexOf(f)!==-1)break;f==="\\"?o=!0:e+=f}}return o&&(e+="\\"),e.trim()}return _};var ini={parse:decode,decode,stringify:encode,encode,safe,unsafe};const ini$1=getDefaultExportFromCjs(ini),coreInfoMap={2048:{corename:"2048",savestate:!0,supportsNoGame:!0},"3dengine":{corename:"3DEngine"},"4do":{corename:"4DO",savestate:!0},81:{corename:"81",savestate:!0},a5200:{corename:"a5200",savestate:!0},advanced_tests:{corename:"Advanced Test",supportsNoGame:!0},ardens:{corename:"Ardens",savestate:!0},arduous:{corename:"Arduous"},atari800:{corename:"Atari800",savestate:!0},bk:{corename:"bk",savestate:!0},blastem:{corename:"BlastEm",savestate:!0},bluemsx:{corename:"blueMSX",savestate:!0},bnes:{corename:"bnes/higan",savestate:!0},boom3:{corename:"boom3"},boom3_xp:{corename:"boom3_xp"},bsnes:{corename:"bsnes",savestate:!0},bsnes_cplusplus98:{cheats:!0,corename:"bsnes C++98 (v085)",savestate:!0},bsnes_hd_beta:{corename:"bsnes-hd beta",savestate:!0},bsnes_mercury_accuracy:{cheats:!0,corename:"bsnes-mercury Accuracy",savestate:!0},bsnes_mercury_balanced:{cheats:!0,corename:"bsnes-mercury Balanced",savestate:!0},bsnes_mercury_performance:{cheats:!0,corename:"bsnes-mercury Performance",savestate:!0},bsnes2014_accuracy:{cheats:!0,corename:"bsnes 2014 Accuracy",savestate:!0},bsnes2014_balanced:{cheats:!0,corename:"bsnes 2014 Balanced",savestate:!0},bsnes2014_performance:{cheats:!0,corename:"bsnes 2014 Performance",savestate:!0},cannonball:{corename:"Cannonball",supportsNoGame:!0},cap32:{corename:"Caprice32",savestate:!0,supportsNoGame:!0},cdi2015:{corename:"Philips CDi 2015"},chailove:{cheats:!0,corename:"ChaiLove",savestate:!0},chimerasnes:{cheats:!0,corename:"ChimeraSNES",savestate:!0},citra:{corename:"Citra",savestate:!0},citra_canary:{corename:"Citra Canary/Experimental"},citra2018:{corename:"Citra 2018"},craft:{corename:"Craft",supportsNoGame:!0},crocods:{corename:"CrocoDS",savestate:!0},cruzes:{corename:"Cruzes",supportsNoGame:!0},daphne:{corename:"Daphne"},desmume:{cheats:!0,corename:"DeSmuME",savestate:!0},desmume2015:{cheats:!0,corename:"DeSmuME 2015",savestate:!0},dinothawr:{corename:"Dinothawr",supportsNoGame:!0},directxbox:{corename:"DirectXBox"},dirksimple:{corename:"DirkSimple",savestate:!0},dolphin:{corename:"Dolphin",savestate:!0},dolphin_launcher:{corename:"Dolphin Launcher",supportsNoGame:!0},dosbox:{corename:"DOSBox",supportsNoGame:!0},dosbox_core:{corename:"DOSBox-core",supportsNoGame:!0},dosbox_pure:{cheats:!0,corename:"DOSBox-pure",savestate:!0,supportsNoGame:!0},dosbox_svn:{corename:"DOSBox-SVN",supportsNoGame:!0},dosbox_svn_ce:{corename:"DOSBox-SVN CE",supportsNoGame:!0},duckstation:{corename:"DuckStation",savestate:!0},easyrpg:{corename:"EasyRPG Player"},ecwolf:{corename:"ECWolf",savestate:!0},emuscv:{corename:"EmuSCV",supportsNoGame:!0},emux_chip8:{corename:"Emux CHIP-8"},emux_gb:{corename:"Emux GB"},emux_nes:{corename:"Emux NES"},emux_sms:{corename:"Emux SMS"},ep128emu_core:{cheats:!0,corename:"ep128emu-core",savestate:!0,supportsNoGame:!0},fake08:{corename:"FAKE-08",savestate:!0},fbalpha2012:{corename:"FB Alpha 2012",savestate:!0},fbalpha2012_cps1:{corename:"FB Alpha 2012 CPS-1",savestate:!0},fbalpha2012_cps2:{corename:"FB Alpha 2012 CPS-2",savestate:!0},fbalpha2012_cps3:{corename:"FB Alpha 2012 CPS-3",savestate:!0},fbalpha2012_neogeo:{corename:"FB Alpha 2012 Neo Geo",savestate:!0},fbneo:{cheats:!0,corename:"FinalBurn Neo",savestate:!0},fceumm:{cheats:!0,corename:"FCEUmm",savestate:!0},ffmpeg:{corename:"FFmpeg"},fixgb:{corename:"fixGB"},fixnes:{corename:"fixNES"},flycast:{corename:"Flycast",savestate:!0},flycast_gles2:{corename:"Flycast GLES2",savestate:!0},fmsx:{corename:"fMSX"},freechaf:{corename:"FreeChaF"},freeintv:{corename:"FreeIntv"},freej2me:{corename:"FreeJ2ME"},frodo:{corename:"Frodo"},fsuae:{corename:"FS-UAE"},fuse:{corename:"Fuse"},galaksija:{corename:"galaksija",supportsNoGame:!0},gambatte:{corename:"Gambatte",savestate:!0},gearboy:{corename:"Gearboy"},gearcoleco:{corename:"Gearcoleco"},gearsystem:{corename:"Gearsystem"},genesis_plus_gx:{cheats:!0,corename:"Genesis Plus GX",savestate:!0},genesis_plus_gx_wide:{cheats:!0,corename:"Genesis Plus GX Wide",savestate:!0},gme:{corename:"Game Music Emu"},gong:{corename:"Gong",savestate:!0,supportsNoGame:!0},gpsp:{corename:"gpSP",savestate:!0},gw:{corename:"GW"},handy:{corename:"Handy",savestate:!0},hatari:{corename:"Hatari",savestate:!0},hbmame:{corename:"HBMAME (Git)"},higan_sfc:{corename:"nSide (Super Famicom Accuracy)",savestate:!0},higan_sfc_balanced:{corename:"nSide (Super Famicom Balanced)",savestate:!0},imageviewer:{corename:"Imageviewer"},ishiiruka:{corename:"Ishiiruka",savestate:!0},jaxe:{corename:"JAXE"},jumpnbump:{corename:"jumpnbump"},kronos:{cheats:!0,corename:"Kronos",savestate:!0},lowresnx:{corename:"lowresnx"},lutro:{corename:"Lutro"},mame:{corename:"MAME",savestate:!0},mame2000:{corename:"MAME 2000 (0.37b5)",savestate:!0},mame2003:{corename:"MAME 2003 (0.78)",savestate:!0},mame2003_midway:{corename:"MAME 2003 Midway (0.78)",savestate:!0},mame2003_plus:{corename:"MAME 2003-Plus",savestate:!0},mame2009:{corename:"MAME 2009 (0.135u4)"},mame2010:{corename:"MAME 2010 (0.139)"},mame2015:{corename:"MAME 2015 (0.160)"},mame2016:{corename:"MAME 2016 (0.174)"},mamearcade:{corename:"MAME (Git)"},mamemess:{corename:"MESS (Git)",savestate:!0},mednafen_gba:{corename:"Beetle GBA"},mednafen_lynx:{corename:"Beetle Lynx"},mednafen_ngp:{corename:"Beetle NeoPop",savestate:!0},mednafen_pce:{corename:"Beetle PCE",savestate:!0},mednafen_pce_fast:{corename:"Beetle PCE Fast",savestate:!0},mednafen_pcfx:{corename:"Beetle PC-FX"},mednafen_psx:{cheats:!0,corename:"Beetle PSX",savestate:!0},mednafen_psx_hw:{cheats:!0,corename:"Beetle PSX HW",savestate:!0},mednafen_saturn:{cheats:!0,corename:"Beetle Saturn",savestate:!0},mednafen_snes:{corename:"Beetle bsnes",savestate:!0},mednafen_supafaust:{cheats:!0,corename:"Beetle Supafaust",savestate:!0},mednafen_supergrafx:{cheats:!0,corename:"Beetle SuperGrafx",savestate:!0},mednafen_vb:{corename:"Beetle VB"},mednafen_wswan:{corename:"Beetle WonderSwan",savestate:!0},melonds:{corename:"melonDS"},mesen:{cheats:!0,corename:"Mesen",savestate:!0},"mesen-s":{corename:"Mesen-S"},mess2015:{corename:"MESS 2015 (0.160)"},meteor:{corename:"Meteor"},mgba:{cheats:!0,corename:"mGBA",savestate:!0},minivmac:{corename:"MinivmacII"},mojozork:{corename:"mojozork",savestate:!0},moonlight:{corename:"Moonlight",supportsNoGame:!0},mpv:{corename:"MPV"},mrboom:{corename:"Mr.Boom",savestate:!0,supportsNoGame:!0},mu:{corename:"Mu",supportsNoGame:!0},mupen64plus_next:{cheats:!0,corename:"Mupen64Plus-Next",savestate:!0},mupen64plus_next_develop:{cheats:!0,corename:"Mupen64Plus-Next",savestate:!0},mupen64plus_next_gles2:{cheats:!0,corename:"Mupen64Plus-Next",savestate:!0},mupen64plus_next_gles3:{cheats:!0,corename:"Mupen64Plus-Next",savestate:!0},nekop2:{corename:"Neko Project II",savestate:!0},neocd:{corename:"NeoCD"},nes:{corename:"nes",savestate:!0},nestopia:{cheats:!0,corename:"Nestopia",savestate:!0},np2kai:{corename:"Neko Project II Kai",savestate:!0},numero:{corename:"Numero",savestate:!0,supportsNoGame:!0},nxengine:{corename:"NXEngine",supportsNoGame:!0},o2em:{corename:"O2EM",savestate:!0},oberon:{corename:"Oberon"},openlara:{corename:"OpenLara"},opentyrian:{corename:"OpenTyrian",supportsNoGame:!0},opera:{corename:"Opera",savestate:!0,supportsNoGame:!0},parallel_n64:{corename:"ParaLLEl N64",savestate:!0},parallel_n64_debug:{corename:"ParaLLEl (Debug)",savestate:!0},pascal_pong:{corename:"PascalPong",supportsNoGame:!0},pcem:{corename:"PCem",supportsNoGame:!0},pcsx_rearmed:{cheats:!0,corename:"PCSX-ReARMed",savestate:!0},pcsx_rearmed_interpreter:{cheats:!0,corename:"PCSX ReARMed [Interpreter]",savestate:!0},pcsx_rearmed_neon:{cheats:!0,corename:"PCSX ReARMed [NEON]",savestate:!0},pcsx1:{corename:"PCSX1"},pcsx2:{corename:"LRPS2",savestate:!0},picodrive:{cheats:!0,corename:"PicoDrive",savestate:!0},play:{corename:"Play!",savestate:!0},pocketcdg:{corename:"PocketCDG"},pokemini:{corename:"PokeMini",savestate:!0},potator:{corename:"Potator",savestate:!0},ppsspp:{corename:"PPSSPP",savestate:!0},prboom:{cheats:!0,corename:"PrBoom",savestate:!0},prosystem:{corename:"ProSystem",savestate:!0},puae:{cheats:!0,corename:"PUAE",savestate:!0,supportsNoGame:!0},puae2021:{cheats:!0,corename:"PUAE 2021",savestate:!0,supportsNoGame:!0},puzzlescript:{corename:"puzzlescript",savestate:!0},px68k:{corename:"PX68k",supportsNoGame:!0},quasi88:{cheats:!0,corename:"QUASI88",savestate:!0,supportsNoGame:!0},quicknes:{corename:"QuickNES",savestate:!0},race:{corename:"RACE",savestate:!0},redbook:{corename:"Redbook"},reminiscence:{corename:"REminiscence",savestate:!0},remotejoy:{corename:"RemoteJoy",supportsNoGame:!0},retro8:{corename:"Retro8"},retrodream:{corename:"RetroDream"},rustation:{corename:"Rustation"},same_cdi:{corename:"SAME CDi (Git)"},sameboy:{corename:"SameBoy"},sameduck:{corename:"SameDuck",savestate:!0},scummvm:{corename:"ScummVM",supportsNoGame:!0},simcp:{corename:"SimCoupe"},smsplus:{corename:"SMS Plus GX"},snes9x:{cheats:!0,corename:"Snes9x",savestate:!0},snes9x2002:{cheats:!0,corename:"Snes9x 2002",savestate:!0},snes9x2005:{cheats:!0,corename:"Snes9x 2005",savestate:!0},snes9x2005_plus:{cheats:!0,corename:"Snes9x 2005 Plus",savestate:!0},snes9x2010:{cheats:!0,corename:"Snes9x 2010",savestate:!0},squirreljme:{corename:"SquirrelJME",supportsNoGame:!0},stella:{corename:"Stella",savestate:!0},stella2014:{corename:"Stella 2014",savestate:!0},stonesoup:{corename:"Dungeon Crawl Stone Soup"},superbroswar:{corename:"superbroswar"},swanstation:{corename:"SwanStation",savestate:!0},tempgba:{corename:"TempGBA"},test:{corename:"Test",supportsNoGame:!0},test_netplay:{corename:"netplay-test",supportsNoGame:!0},testaudio_callback:{corename:"TestAudio Callback",supportsNoGame:!0},testaudio_no_callback:{corename:"TestAudio NoCallback",supportsNoGame:!0},testaudio_playback_wav:{corename:"TestAudio Playback Wav",supportsNoGame:!0},testgl:{corename:"TestGL",supportsNoGame:!0},testgl_compute_shaders:{corename:"TestGL ComputeShaders",supportsNoGame:!0},testgl_ff:{corename:"TestGL (FF)",supportsNoGame:!0},testinput_buttontest:{corename:"Button Test",supportsNoGame:!0},testretroluxury:{corename:"Test RetroLuxury",supportsNoGame:!0},testsw:{corename:"TestSW",supportsNoGame:!0},testsw_vram:{corename:"TestSW VRAM",supportsNoGame:!0},testvulkan:{corename:"TestVulkan",supportsNoGame:!0},testvulkan_async_compute:{corename:"TestVulkan AsyncCompute",supportsNoGame:!0},tgbdual:{corename:"TGB Dual",savestate:!0},theodore:{corename:"theodore",savestate:!0,supportsNoGame:!0},thepowdertoy:{corename:"ThePowderToy",savestate:!0,supportsNoGame:!0},tic80:{cheats:!0,corename:"TIC-80",savestate:!0},tyrquake:{cheats:!0,corename:"TyrQuake"},uae4arm:{corename:"UAE4ARM",savestate:!0},ume2015:{corename:"UME 2015 (0.160)"},uw8:{corename:"MicroW8",savestate:!0},uzem:{corename:"uzem",savestate:!0},vaporspec:{corename:"VaporSpec",savestate:!0},vba_next:{corename:"VBA Next",savestate:!0},vbam:{cheats:!0,corename:"VBA-M",savestate:!0},vecx:{corename:"vecx",savestate:!0},vemulator:{corename:"VeMUlator"},vice_x128:{cheats:!0,corename:"VICE x128",savestate:!0,supportsNoGame:!0},vice_x64:{cheats:!0,corename:"VICE x64",savestate:!0,supportsNoGame:!0},vice_x64dtv:{cheats:!0,corename:"VICE x64dtv",savestate:!0,supportsNoGame:!0},vice_x64sc:{cheats:!0,corename:"VICE x64sc",savestate:!0,supportsNoGame:!0},vice_xcbm2:{cheats:!0,corename:"VICE xcbm2",savestate:!0,supportsNoGame:!0},vice_xcbm5x0:{cheats:!0,corename:"VICE xcbm5x0",savestate:!0,supportsNoGame:!0},vice_xpet:{cheats:!0,corename:"VICE xpet",savestate:!0,supportsNoGame:!0},vice_xplus4:{cheats:!0,corename:"VICE xplus4",savestate:!0,supportsNoGame:!0},vice_xscpu64:{cheats:!0,corename:"VICE xscpu64",savestate:!0,supportsNoGame:!0},vice_xvic:{cheats:!0,corename:"VICE xvic",savestate:!0,supportsNoGame:!0},vircon32:{corename:"Vircon32",supportsNoGame:!0},virtualjaguar:{corename:"Virtual Jaguar"},virtualxt:{corename:"virtualxt"},vitaquake2:{corename:"vitaQuake 2"},"vitaquake2-rogue":{corename:"vitaQuake 2 [Rogue]"},"vitaquake2-xatrix":{corename:"vitaQuake 2 [Xatrix]"},"vitaquake2-zaero":{corename:"vitaQuake 2 [Zaero]"},vitaquake3:{corename:"vitaQuake 3"},vitavoyager:{corename:"vitaVoyager"},wasm4:{corename:"WASM-4",savestate:!0},x1:{corename:"x1"},x64sdl:{corename:"VICE SDL"},xrick:{corename:"XRick",supportsNoGame:!0},yabasanshiro:{cheats:!0,corename:"YabaSanshiro",savestate:!0},yabause:{cheats:!0,corename:"Yabause",savestate:!0}},keyboardCodeMap={add:"NumpadAdd",alt:"AltLeft",backquote:"Backquote",backslash:"",backspace:"Backspace",capslock:"CapsLock",comma:"Comma",ctrl:"ControlLeft",del:"Delete",divide:"NumpadDivide",down:"ArrowDown",end:"End",enter:"Enter",equals:"Equal",escape:"Escape",home:"Home",insert:"Insert",kp_enter:"NumpadEnter",kp_equals:"NumpadEquals",kp_minus:"NumpadSubtract",kp_period:"NumpadDecimal",kp_plus:"NumpadAdd",left:"ArrowLeft",leftbracket:"BracketLeft",minus:"Minus",multiply:"NumpadMultiply",numlock:"NumLock",pagedown:"PageDown",pageup:"PageUp",pause:"Pause",period:"Period",print_screen:"PrintScreen",quote:"Quote",ralt:"AltRight",rctrl:"ControlRight",right:"ArrowRight",rightbracket:"BracketRight",rshift:"ShiftRight",scroll_lock:"ScrollLock",semicolon:"Semicolon",shift:"ShiftLeft",slash:"Slash",space:"Space",subtract:"NumpadSubtract",tab:"Tab",tilde:"",up:"ArrowUp"};var browserfs$2={exports:{}};(function(_,o){(function(i,c){_.exports=c()})(commonjsGlobal,function(){return function(e){var i={};function c(f){if(i[f])return i[f].exports;var m=i[f]={exports:{},id:f,loaded:!1};return e[f].call(m.exports,m,m.exports,c),m.loaded=!0,m.exports}return c.m=e,c.c=i,c.p="",c(0)}([function(e,i,c){(function(f,m,g,Te){Object.defineProperty(i,"__esModule",{value:!0});var Ie=c(2),Oe=c(9),Ae;(function(ne){ne[ne.EPERM=1]="EPERM",ne[ne.ENOENT=2]="ENOENT",ne[ne.EIO=5]="EIO",ne[ne.EBADF=9]="EBADF",ne[ne.EACCES=13]="EACCES",ne[ne.EBUSY=16]="EBUSY",ne[ne.EEXIST=17]="EEXIST",ne[ne.ENOTDIR=20]="ENOTDIR",ne[ne.EISDIR=21]="EISDIR",ne[ne.EINVAL=22]="EINVAL",ne[ne.EFBIG=27]="EFBIG",ne[ne.ENOSPC=28]="ENOSPC",ne[ne.EROFS=30]="EROFS",ne[ne.ENOTEMPTY=39]="ENOTEMPTY",ne[ne.ENOTSUP=95]="ENOTSUP"})(Ae||(Ae={}));var De={};De[Ae.EPERM]="Operation not permitted.",De[Ae.ENOENT]="No such file or directory.",De[Ae.EIO]="Input/output error.",De[Ae.EBADF]="Bad file descriptor.",De[Ae.EACCES]="Permission denied.",De[Ae.EBUSY]="Resource busy or locked.",De[Ae.EEXIST]="File exists.",De[Ae.ENOTDIR]="File is not a directory.",De[Ae.EISDIR]="File is a directory.",De[Ae.EINVAL]="Invalid argument.",De[Ae.EFBIG]="File is too big.",De[Ae.ENOSPC]="No space left on disk.",De[Ae.EROFS]="Cannot modify a read-only file system.",De[Ae.ENOTEMPTY]="Directory is not empty.",De[Ae.ENOTSUP]="Operation is not supported.";var _e=function(ne){function d(k,h,Ee){h===void 0&&(h=De[k]),ne.call(this,h),this.syscall="",this.errno=k,this.code=Ae[k],this.path=Ee,this.stack=new ne().stack,this.message="Error: "+this.code+": "+h+(this.path?", '"+this.path+"'":"")}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.fromJSON=function(h){var Ee=new d(0);return Ee.errno=h.errno,Ee.code=h.code,Ee.path=h.path,Ee.stack=h.stack,Ee.message=h.message,Ee},d.fromBuffer=function(h,Ee){return Ee===void 0&&(Ee=0),d.fromJSON(JSON.parse(h.toString("utf8",Ee+4,Ee+4+h.readUInt32LE(Ee))))},d.FileError=function(h,Ee){return new d(h,De[h],Ee)},d.ENOENT=function(h){return this.FileError(Ae.ENOENT,h)},d.EEXIST=function(h){return this.FileError(Ae.EEXIST,h)},d.EISDIR=function(h){return this.FileError(Ae.EISDIR,h)},d.ENOTDIR=function(h){return this.FileError(Ae.ENOTDIR,h)},d.EPERM=function(h){return this.FileError(Ae.EPERM,h)},d.ENOTEMPTY=function(h){return this.FileError(Ae.ENOTEMPTY,h)},d.prototype.toString=function(){return this.message},d.prototype.toJSON=function(){return{errno:this.errno,code:this.code,path:this.path,stack:this.stack,message:this.message}},d.prototype.writeToBuffer=function(h,Ee){h===void 0&&(h=f.alloc(this.bufferSize())),Ee===void 0&&(Ee=0);var Fe=h.write(JSON.stringify(this.toJSON()),Ee+4);return h.writeUInt32LE(Fe,Ee),h},d.prototype.bufferSize=function(){return 4+f.byteLength(JSON.stringify(this.toJSON()))},d}(Error),qe=Object.freeze({get ErrorCode(){return Ae},ErrorStrings:De,ApiError:_e}),Be;(function(ne){ne[ne.NOP=0]="NOP",ne[ne.THROW_EXCEPTION=1]="THROW_EXCEPTION",ne[ne.TRUNCATE_FILE=2]="TRUNCATE_FILE",ne[ne.CREATE_FILE=3]="CREATE_FILE"})(Be||(Be={}));var Ne=function ne(d){if(this.flagStr=d,ne.validFlagStrs.indexOf(d)<0)throw new _e(Ae.EINVAL,"Invalid flag: "+d)};Ne.getFileFlag=function(d){return Ne.flagCache.hasOwnProperty(d)?Ne.flagCache[d]:Ne.flagCache[d]=new Ne(d)},Ne.prototype.getFlagString=function(){return this.flagStr},Ne.prototype.isReadable=function(){return this.flagStr.indexOf("r")!==-1||this.flagStr.indexOf("+")!==-1},Ne.prototype.isWriteable=function(){return this.flagStr.indexOf("w")!==-1||this.flagStr.indexOf("a")!==-1||this.flagStr.indexOf("+")!==-1},Ne.prototype.isTruncating=function(){return this.flagStr.indexOf("w")!==-1},Ne.prototype.isAppendable=function(){return this.flagStr.indexOf("a")!==-1},Ne.prototype.isSynchronous=function(){return this.flagStr.indexOf("s")!==-1},Ne.prototype.isExclusive=function(){return this.flagStr.indexOf("x")!==-1},Ne.prototype.pathExistsAction=function(){return this.isExclusive()?Be.THROW_EXCEPTION:this.isTruncating()?Be.TRUNCATE_FILE:Be.NOP},Ne.prototype.pathNotExistsAction=function(){return(this.isWriteable()||this.isAppendable())&&this.flagStr!=="r+"?Be.CREATE_FILE:Be.THROW_EXCEPTION},Ne.flagCache={},Ne.validFlagStrs=["r","r+","rs","rs+","w","wx","w+","wx+","a","ax","a+","ax+"];var Ve;(function(ne){ne[ne.FILE=32768]="FILE",ne[ne.DIRECTORY=16384]="DIRECTORY",ne[ne.SYMLINK=40960]="SYMLINK"})(Ve||(Ve={}));var Ue=function(d,k,h,Ee,Fe,Me){if(Ee===void 0&&(Ee=new Date),Fe===void 0&&(Fe=new Date),Me===void 0&&(Me=new Date),this.size=k,this.atime=Ee,this.mtime=Fe,this.ctime=Me,this.dev=0,this.ino=0,this.rdev=0,this.nlink=1,this.blksize=4096,this.uid=0,this.gid=0,this.birthtime=new Date(0),this.fileData=null,h)this.mode=h;else switch(d){case Ve.FILE:this.mode=420;break;case Ve.DIRECTORY:default:this.mode=511}this.blocks=Math.ceil(k/512),this.mode<4096&&(this.mode|=d)};Ue.fromBuffer=function(d){var k=d.readUInt32LE(0),h=d.readUInt32LE(4),Ee=d.readDoubleLE(8),Fe=d.readDoubleLE(16),Me=d.readDoubleLE(24);return new Ue(h&61440,k,h&4095,new Date(Ee),new Date(Fe),new Date(Me))},Ue.prototype.toBuffer=function(){var d=f.alloc(32);return d.writeUInt32LE(this.size,0),d.writeUInt32LE(this.mode,4),d.writeDoubleLE(this.atime.getTime(),8),d.writeDoubleLE(this.mtime.getTime(),16),d.writeDoubleLE(this.ctime.getTime(),24),d},Ue.prototype.clone=function(){return new Ue(this.mode&61440,this.size,this.mode&4095,this.atime,this.mtime,this.ctime)},Ue.prototype.isFile=function(){return(this.mode&61440)===Ve.FILE},Ue.prototype.isDirectory=function(){return(this.mode&61440)===Ve.DIRECTORY},Ue.prototype.isSymbolicLink=function(){return(this.mode&61440)===Ve.SYMLINK},Ue.prototype.chmod=function(d){this.mode=this.mode&61440|d},Ue.prototype.isSocket=function(){return!1},Ue.prototype.isBlockDevice=function(){return!1},Ue.prototype.isCharacterDevice=function(){return!1},Ue.prototype.isFIFO=function(){return!1};var We=function(ne,d){return ne};function He(ne){if(ne)return ne;throw new _e(Ae.EIO,"Initialize BrowserFS with a file system using BrowserFS.initialize(filesystem)")}function Ze(ne,d){switch(typeof ne){case"number":return ne;case"string":var k=parseInt(ne,8);return isNaN(k)?d:k;default:return d}}function ct(ne){if(ne instanceof Date)return ne;if(typeof ne=="number")return new Date(ne*1e3);throw new _e(Ae.EINVAL,"Invalid time.")}function at(ne){if(ne.indexOf("\0")>=0)throw new _e(Ae.EINVAL,"Path must be a string without null bytes.");if(ne==="")throw new _e(Ae.EINVAL,"Path must not be empty.");return Oe.resolve(ne)}function gt(ne,d,k,h){switch(typeof ne){case"object":return{encoding:typeof ne.encoding<"u"?ne.encoding:d,flag:typeof ne.flag<"u"?ne.flag:k,mode:Ze(ne.mode,h)};case"string":return{encoding:ne,flag:k,mode:h};default:return{encoding:d,flag:k,mode:h}}}function yt(){}var tt=function(){this.F_OK=0,this.R_OK=4,this.W_OK=2,this.X_OK=1,this.root=null,this.fdMap={},this.nextFd=100};tt.prototype.initialize=function(d){if(!d.constructor.isAvailable())throw new _e(Ae.EINVAL,"Tried to instantiate BrowserFS with an unavailable file system.");return this.root=d},tt.prototype._toUnixTimestamp=function(d){if(typeof d=="number")return d;if(d instanceof Date)return d.getTime()/1e3;throw new Error("Cannot parse time: "+d)},tt.prototype.getRootFS=function(){return this.root?this.root:null},tt.prototype.rename=function(d,k,h){h===void 0&&(h=yt);var Ee=We(h,1);try{He(this.root).rename(at(d),at(k),Ee)}catch(Fe){Ee(Fe)}},tt.prototype.renameSync=function(d,k){He(this.root).renameSync(at(d),at(k))},tt.prototype.exists=function(d,k){k===void 0&&(k=yt);var h=We(k,1);try{return He(this.root).exists(at(d),h)}catch{return h(!1)}},tt.prototype.existsSync=function(d){try{return He(this.root).existsSync(at(d))}catch{return!1}},tt.prototype.stat=function(d,k){k===void 0&&(k=yt);var h=We(k,2);try{return He(this.root).stat(at(d),!1,h)}catch(Ee){return h(Ee)}},tt.prototype.statSync=function(d){return He(this.root).statSync(at(d),!1)},tt.prototype.lstat=function(d,k){k===void 0&&(k=yt);var h=We(k,2);try{return He(this.root).stat(at(d),!0,h)}catch(Ee){return h(Ee)}},tt.prototype.lstatSync=function(d){return He(this.root).statSync(at(d),!0)},tt.prototype.truncate=function(d,k,h){k===void 0&&(k=0),h===void 0&&(h=yt);var Ee=0;typeof k=="function"?h=k:typeof k=="number"&&(Ee=k);var Fe=We(h,1);try{if(Ee<0)throw new _e(Ae.EINVAL);return He(this.root).truncate(at(d),Ee,Fe)}catch(Me){return Fe(Me)}},tt.prototype.truncateSync=function(d,k){if(k===void 0&&(k=0),k<0)throw new _e(Ae.EINVAL);return He(this.root).truncateSync(at(d),k)},tt.prototype.unlink=function(d,k){k===void 0&&(k=yt);var h=We(k,1);try{return He(this.root).unlink(at(d),h)}catch(Ee){return h(Ee)}},tt.prototype.unlinkSync=function(d){return He(this.root).unlinkSync(at(d))},tt.prototype.open=function(d,k,h,Ee){var Fe=this;Ee===void 0&&(Ee=yt);var Me=Ze(h,420);Ee=typeof h=="function"?h:Ee;var Ge=We(Ee,2);try{He(this.root).open(at(d),Ne.getFileFlag(k),Me,function(et,ft){ft?Ge(et,Fe.getFdForFile(ft)):Ge(et)})}catch(et){Ge(et)}},tt.prototype.openSync=function(d,k,h){return h===void 0&&(h=420),this.getFdForFile(He(this.root).openSync(at(d),Ne.getFileFlag(k),Ze(h,420)))},tt.prototype.readFile=function(d,k,h){k===void 0&&(k={}),h===void 0&&(h=yt);var Ee=gt(k,null,"r",null);h=typeof k=="function"?k:h;var Fe=We(h,2);try{var Me=Ne.getFileFlag(Ee.flag);return Me.isReadable()?He(this.root).readFile(at(d),Ee.encoding,Me,Fe):Fe(new _e(Ae.EINVAL,"Flag passed to readFile must allow for reading."))}catch(Ge){return Fe(Ge)}},tt.prototype.readFileSync=function(d,k){k===void 0&&(k={});var h=gt(k,null,"r",null),Ee=Ne.getFileFlag(h.flag);if(!Ee.isReadable())throw new _e(Ae.EINVAL,"Flag passed to readFile must allow for reading.");return He(this.root).readFileSync(at(d),h.encoding,Ee)},tt.prototype.writeFile=function(d,k,h,Ee){h===void 0&&(h={}),Ee===void 0&&(Ee=yt);var Fe=gt(h,"utf8","w",420);Ee=typeof h=="function"?h:Ee;var Me=We(Ee,1);try{var Ge=Ne.getFileFlag(Fe.flag);return Ge.isWriteable()?He(this.root).writeFile(at(d),k,Fe.encoding,Ge,Fe.mode,Me):Me(new _e(Ae.EINVAL,"Flag passed to writeFile must allow for writing."))}catch(et){return Me(et)}},tt.prototype.writeFileSync=function(d,k,h){var Ee=gt(h,"utf8","w",420),Fe=Ne.getFileFlag(Ee.flag);if(!Fe.isWriteable())throw new _e(Ae.EINVAL,"Flag passed to writeFile must allow for writing.");return He(this.root).writeFileSync(at(d),k,Ee.encoding,Fe,Ee.mode)},tt.prototype.appendFile=function(d,k,h,Ee){Ee===void 0&&(Ee=yt);var Fe=gt(h,"utf8","a",420);Ee=typeof h=="function"?h:Ee;var Me=We(Ee,1);try{var Ge=Ne.getFileFlag(Fe.flag);if(!Ge.isAppendable())return Me(new _e(Ae.EINVAL,"Flag passed to appendFile must allow for appending."));He(this.root).appendFile(at(d),k,Fe.encoding,Ge,Fe.mode,Me)}catch(et){Me(et)}},tt.prototype.appendFileSync=function(d,k,h){var Ee=gt(h,"utf8","a",420),Fe=Ne.getFileFlag(Ee.flag);if(!Fe.isAppendable())throw new _e(Ae.EINVAL,"Flag passed to appendFile must allow for appending.");return He(this.root).appendFileSync(at(d),k,Ee.encoding,Fe,Ee.mode)},tt.prototype.fstat=function(d,k){k===void 0&&(k=yt);var h=We(k,2);try{var Ee=this.fd2file(d);Ee.stat(h)}catch(Fe){h(Fe)}},tt.prototype.fstatSync=function(d){return this.fd2file(d).statSync()},tt.prototype.close=function(d,k){var h=this;k===void 0&&(k=yt);var Ee=We(k,1);try{this.fd2file(d).close(function(Fe){Fe||h.closeFd(d),Ee(Fe)})}catch(Fe){Ee(Fe)}},tt.prototype.closeSync=function(d){this.fd2file(d).closeSync(),this.closeFd(d)},tt.prototype.ftruncate=function(d,k,h){h===void 0&&(h=yt);var Ee=typeof k=="number"?k:0;h=typeof k=="function"?k:h;var Fe=We(h,1);try{var Me=this.fd2file(d);if(Ee<0)throw new _e(Ae.EINVAL);Me.truncate(Ee,Fe)}catch(Ge){Fe(Ge)}},tt.prototype.ftruncateSync=function(d,k){k===void 0&&(k=0);var h=this.fd2file(d);if(k<0)throw new _e(Ae.EINVAL);h.truncateSync(k)},tt.prototype.fsync=function(d,k){k===void 0&&(k=yt);var h=We(k,1);try{this.fd2file(d).sync(h)}catch(Ee){h(Ee)}},tt.prototype.fsyncSync=function(d){this.fd2file(d).syncSync()},tt.prototype.fdatasync=function(d,k){k===void 0&&(k=yt);var h=We(k,1);try{this.fd2file(d).datasync(h)}catch(Ee){h(Ee)}},tt.prototype.fdatasyncSync=function(d){this.fd2file(d).datasyncSync()},tt.prototype.write=function(d,k,h,Ee,Fe,Me){Me===void 0&&(Me=yt);var Ge,et,ft,kt=null;if(typeof k=="string"){var Wt="utf8";switch(typeof h){case"function":Me=h;break;case"number":kt=h,Wt=typeof Ee=="string"?Ee:"utf8",Me=typeof Fe=="function"?Fe:Me;break;default:return Me=typeof Ee=="function"?Ee:typeof Fe=="function"?Fe:Me,Me(new _e(Ae.EINVAL,"Invalid arguments."))}Ge=f.from(k,Wt),et=0,ft=Ge.length}else Ge=k,et=h,ft=Ee,kt=typeof Fe=="number"?Fe:null,Me=typeof Fe=="function"?Fe:Me;var rr=We(Me,3);try{var vr=this.fd2file(d);kt==null&&(kt=vr.getPos()),vr.write(Ge,et,ft,kt,rr)}catch(mr){rr(mr)}},tt.prototype.writeSync=function(d,k,h,Ee,Fe){var Me,Ge=0,et,ft;if(typeof k=="string"){ft=typeof h=="number"?h:null;var kt=typeof Ee=="string"?Ee:"utf8";Ge=0,Me=f.from(k,kt),et=Me.length}else Me=k,Ge=h,et=Ee,ft=typeof Fe=="number"?Fe:null;var Wt=this.fd2file(d);return ft==null&&(ft=Wt.getPos()),Wt.writeSync(Me,Ge,et,ft)},tt.prototype.read=function(d,k,h,Ee,Fe,Me){Me===void 0&&(Me=yt);var Ge,et,ft,kt,Wt;if(typeof k=="number"){ft=k,Ge=h;var rr=Ee;Me=typeof Fe=="function"?Fe:Me,et=0,kt=f.alloc(ft),Wt=We(function(mr,Pr,jr){if(mr)return Me(mr);Me(mr,jr.toString(rr),Pr)},3)}else kt=k,et=h,ft=Ee,Ge=Fe,Wt=We(Me,3);try{var vr=this.fd2file(d);Ge==null&&(Ge=vr.getPos()),vr.read(kt,et,ft,Ge,Wt)}catch(mr){Wt(mr)}},tt.prototype.readSync=function(d,k,h,Ee,Fe){var Me=!1,Ge,et,ft,kt,Wt="utf8";typeof k=="number"?(ft=k,kt=h,Wt=Ee,et=0,Ge=f.alloc(ft),Me=!0):(Ge=k,et=h,ft=Ee,kt=Fe);var rr=this.fd2file(d);kt==null&&(kt=rr.getPos());var vr=rr.readSync(Ge,et,ft,kt);return Me?[Ge.toString(Wt),vr]:vr},tt.prototype.fchown=function(d,k,h,Ee){Ee===void 0&&(Ee=yt);var Fe=We(Ee,1);try{this.fd2file(d).chown(k,h,Fe)}catch(Me){Fe(Me)}},tt.prototype.fchownSync=function(d,k,h){this.fd2file(d).chownSync(k,h)},tt.prototype.fchmod=function(d,k,h){var Ee=We(h,1);try{var Fe=typeof k=="string"?parseInt(k,8):k;this.fd2file(d).chmod(Fe,Ee)}catch(Me){Ee(Me)}},tt.prototype.fchmodSync=function(d,k){var h=typeof k=="string"?parseInt(k,8):k;this.fd2file(d).chmodSync(h)},tt.prototype.futimes=function(d,k,h,Ee){Ee===void 0&&(Ee=yt);var Fe=We(Ee,1);try{var Me=this.fd2file(d);typeof k=="number"&&(k=new Date(k*1e3)),typeof h=="number"&&(h=new Date(h*1e3)),Me.utimes(k,h,Fe)}catch(Ge){Fe(Ge)}},tt.prototype.futimesSync=function(d,k,h){this.fd2file(d).utimesSync(ct(k),ct(h))},tt.prototype.rmdir=function(d,k){k===void 0&&(k=yt);var h=We(k,1);try{d=at(d),He(this.root).rmdir(d,h)}catch(Ee){h(Ee)}},tt.prototype.rmdirSync=function(d){return d=at(d),He(this.root).rmdirSync(d)},tt.prototype.mkdir=function(d,k,h){h===void 0&&(h=yt),typeof k=="function"&&(h=k,k=511);var Ee=We(h,1);try{d=at(d),He(this.root).mkdir(d,k,Ee)}catch(Fe){Ee(Fe)}},tt.prototype.mkdirSync=function(d,k){He(this.root).mkdirSync(at(d),Ze(k,511))},tt.prototype.readdir=function(d,k){k===void 0&&(k=yt);var h=We(k,2);try{d=at(d),He(this.root).readdir(d,h)}catch(Ee){h(Ee)}},tt.prototype.readdirSync=function(d){return d=at(d),He(this.root).readdirSync(d)},tt.prototype.link=function(d,k,h){h===void 0&&(h=yt);var Ee=We(h,1);try{d=at(d),k=at(k),He(this.root).link(d,k,Ee)}catch(Fe){Ee(Fe)}},tt.prototype.linkSync=function(d,k){return d=at(d),k=at(k),He(this.root).linkSync(d,k)},tt.prototype.symlink=function(d,k,h,Ee){Ee===void 0&&(Ee=yt);var Fe=typeof h=="string"?h:"file";Ee=typeof h=="function"?h:Ee;var Me=We(Ee,1);try{if(Fe!=="file"&&Fe!=="dir")return Me(new _e(Ae.EINVAL,"Invalid type: "+Fe));d=at(d),k=at(k),He(this.root).symlink(d,k,Fe,Me)}catch(Ge){Me(Ge)}},tt.prototype.symlinkSync=function(d,k,h){if(!h)h="file";else if(h!=="file"&&h!=="dir")throw new _e(Ae.EINVAL,"Invalid type: "+h);return d=at(d),k=at(k),He(this.root).symlinkSync(d,k,h)},tt.prototype.readlink=function(d,k){k===void 0&&(k=yt);var h=We(k,2);try{d=at(d),He(this.root).readlink(d,h)}catch(Ee){h(Ee)}},tt.prototype.readlinkSync=function(d){return d=at(d),He(this.root).readlinkSync(d)},tt.prototype.chown=function(d,k,h,Ee){Ee===void 0&&(Ee=yt);var Fe=We(Ee,1);try{d=at(d),He(this.root).chown(d,!1,k,h,Fe)}catch(Me){Fe(Me)}},tt.prototype.chownSync=function(d,k,h){d=at(d),He(this.root).chownSync(d,!1,k,h)},tt.prototype.lchown=function(d,k,h,Ee){Ee===void 0&&(Ee=yt);var Fe=We(Ee,1);try{d=at(d),He(this.root).chown(d,!0,k,h,Fe)}catch(Me){Fe(Me)}},tt.prototype.lchownSync=function(d,k,h){d=at(d),He(this.root).chownSync(d,!0,k,h)},tt.prototype.chmod=function(d,k,h){h===void 0&&(h=yt);var Ee=We(h,1);try{var Fe=Ze(k,-1);if(Fe<0)throw new _e(Ae.EINVAL,"Invalid mode.");He(this.root).chmod(at(d),!1,Fe,Ee)}catch(Me){Ee(Me)}},tt.prototype.chmodSync=function(d,k){var h=Ze(k,-1);if(h<0)throw new _e(Ae.EINVAL,"Invalid mode.");d=at(d),He(this.root).chmodSync(d,!1,h)},tt.prototype.lchmod=function(d,k,h){h===void 0&&(h=yt);var Ee=We(h,1);try{var Fe=Ze(k,-1);if(Fe<0)throw new _e(Ae.EINVAL,"Invalid mode.");He(this.root).chmod(at(d),!0,Fe,Ee)}catch(Me){Ee(Me)}},tt.prototype.lchmodSync=function(d,k){var h=Ze(k,-1);if(h<1)throw new _e(Ae.EINVAL,"Invalid mode.");He(this.root).chmodSync(at(d),!0,h)},tt.prototype.utimes=function(d,k,h,Ee){Ee===void 0&&(Ee=yt);var Fe=We(Ee,1);try{He(this.root).utimes(at(d),ct(k),ct(h),Fe)}catch(Me){Fe(Me)}},tt.prototype.utimesSync=function(d,k,h){He(this.root).utimesSync(at(d),ct(k),ct(h))},tt.prototype.realpath=function(d,k,h){h===void 0&&(h=yt);var Ee=typeof k=="object"?k:{};h=typeof k=="function"?k:yt;var Fe=We(h,2);try{d=at(d),He(this.root).realpath(d,Ee,Fe)}catch(Me){Fe(Me)}},tt.prototype.realpathSync=function(d,k){return k===void 0&&(k={}),d=at(d),He(this.root).realpathSync(d,k)},tt.prototype.watchFile=function(d,k,h){throw new _e(Ae.ENOTSUP)},tt.prototype.unwatchFile=function(d,k){throw new _e(Ae.ENOTSUP)},tt.prototype.watch=function(d,k,h){throw new _e(Ae.ENOTSUP)},tt.prototype.access=function(d,k,h){throw new _e(Ae.ENOTSUP)},tt.prototype.accessSync=function(d,k){throw new _e(Ae.ENOTSUP)},tt.prototype.createReadStream=function(d,k){throw new _e(Ae.ENOTSUP)},tt.prototype.createWriteStream=function(d,k){throw new _e(Ae.ENOTSUP)},tt.prototype.wrapCallbacks=function(d){We=d},tt.prototype.getFdForFile=function(d){var k=this.nextFd++;return this.fdMap[k]=d,k},tt.prototype.fd2file=function(d){var k=this.fdMap[d];if(k)return k;throw new _e(Ae.EBADF,"Invalid file descriptor.")},tt.prototype.closeFd=function(d){delete this.fdMap[d]},tt.Stats=Ue;var pt=new tt,nt={},mt=tt.prototype;Object.keys(mt).forEach(function(ne){typeof pt[ne]=="function"?nt[ne]=function(){return pt[ne].apply(pt,arguments)}:nt[ne]=pt[ne]}),nt.changeFSModule=function(ne){pt=ne},nt.getFSModule=function(){return pt},nt.FS=tt;function Xe(ne,d,k,h,Ee){return ne<d||k<d?ne>k?k+1:ne+1:h===Ee?d:d+1}function Ft(ne,d){if(ne===d)return 0;if(ne.length>d.length){var k=ne;ne=d,d=k}for(var h=ne.length,Ee=d.length;h>0&&ne.charCodeAt(h-1)===d.charCodeAt(Ee-1);)h--,Ee--;for(var Fe=0;Fe<h&&ne.charCodeAt(Fe)===d.charCodeAt(Fe);)Fe++;if(h-=Fe,Ee-=Fe,h===0||Ee===1)return Ee;for(var Me=new Array(h<<1),Ge=0;Ge<h;)Me[h+Ge]=ne.charCodeAt(Fe+Ge),Me[Ge]=++Ge;var et,ft,kt,Wt,rr;for(et=0;et+3<Ee;)for(var vr=d.charCodeAt(Fe+(ft=et)),mr=d.charCodeAt(Fe+(kt=et+1)),Pr=d.charCodeAt(Fe+(Wt=et+2)),jr=d.charCodeAt(Fe+(rr=et+3)),Hr=et+=4,En=0;En<h;){var Mn=Me[h+En],Ri=Me[En];ft=Xe(Ri,ft,kt,vr,Mn),kt=Xe(ft,kt,Wt,mr,Mn),Wt=Xe(kt,Wt,rr,Pr,Mn),Hr=Xe(Wt,rr,Hr,jr,Mn),Me[En++]=Hr,rr=Wt,Wt=kt,kt=ft,ft=Ri}for(var Fi=0;et<Ee;){var wo=d.charCodeAt(Fe+(ft=et));Fi=++et;for(var Hi=0;Hi<h;Hi++){var Wi=Me[Hi];Me[Hi]=Fi=Wi<ft||Fi<ft?Wi>Fi?Fi+1:Wi+1:wo===Me[h+Hi]?ft:ft+1,ft=Wi}}return Fi}function Zt(ne,d,k){ne&&console.warn("["+d+"] Direct file system constructor usage is deprecated for this file system, and will be removed in the next major version. Please use the '"+d+".Create("+JSON.stringify(k)+", callback)' method instead. See https://github.com/jvilk/BrowserFS/issues/176 for more details.")}var zt=typeof navigator<"u"&&!!(/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||navigator.userAgent.indexOf("Trident")!==-1),cr=typeof window>"u";function Et(){throw new Error("BFS has reached an impossible code path; please file a bug.")}function St(ne,d,k){k.existsSync(ne)||(St(Oe.dirname(ne),d,k),k.mkdirSync(ne,d))}function st(ne){var d=dt(ne),k=d.byteOffset,h=d.byteLength;return k===0&&h===d.buffer.byteLength?d.buffer:d.buffer.slice(k,k+h)}function dt(ne){return ne instanceof Uint8Array?ne:new Uint8Array(ne)}function Bt(ne){return ne instanceof f?ne:ne instanceof Uint8Array?At(ne):f.from(ne)}function At(ne){return ne instanceof f?ne:ne.byteOffset===0&&ne.byteLength===ne.buffer.byteLength?Kt(ne.buffer):f.from(ne.buffer,ne.byteOffset,ne.byteLength)}function Kt(ne){return f.from(ne)}function fr(ne,d,k){if(d===void 0&&(d=0),k===void 0&&(k=ne.length),d<0||k<0||k>ne.length||d>k)throw new TypeError("Invalid slice bounds on buffer of length "+ne.length+": ["+d+", "+k+"]");if(ne.length===0)return or();var h=dt(ne),Ee=ne[0],Fe=(Ee+1)%255;return ne[0]=Fe,h[0]===Fe?(h[0]=Ee,At(h.slice(d,k))):(ne[0]=Ee,At(h.subarray(d,k)))}var Dr=null;function or(){return Dr||(Dr=f.alloc(0))}function lt(ne,d){f.isBuffer(ne)?d():d(new _e(Ae.EINVAL,"option must be a Buffer."))}function bt(ne,d,k){var h=ne.Options,Ee=ne.Name,Fe=0,Me=!1,Ge=!1;function et(rr){Me||(rr&&(Me=!0,k(rr)),Fe--,Fe===0&&Ge&&k())}var ft=function(rr){if(h.hasOwnProperty(rr)){var vr=h[rr],mr=d[rr];if(mr==null){if(!vr.optional){var Pr=Object.keys(d).filter(function(Hr){return!(Hr in h)}).map(function(Hr){return{str:Hr,distance:Ft(rr,Hr)}}).filter(function(Hr){return Hr.distance<5}).sort(function(Hr,En){return Hr.distance-En.distance});return Me?{}:(Me=!0,{v:k(new _e(Ae.EINVAL,"["+Ee+"] Required option '"+rr+"' not provided."+(Pr.length>0?" You provided unrecognized option '"+Pr[0].str+"'; perhaps you meant to type '"+rr+"'.":"")+`
Option description: `+vr.description))})}}else{var jr=!1;if(Array.isArray(vr.type)?jr=vr.type.indexOf(typeof mr)!==-1:jr=typeof mr===vr.type,jr)vr.validator&&(Fe++,vr.validator(mr,et));else return Me?{}:(Me=!0,{v:k(new _e(Ae.EINVAL,"["+Ee+"] Value provided for option "+rr+" is not the proper type. Expected "+(Array.isArray(vr.type)?"one of {"+vr.type.join(", ")+"}":vr.type)+", but received "+typeof mr+`
Option description: `+vr.description))})}}};for(var kt in h){var Wt=ft(kt);if(Wt)return Wt.v}Ge=!0,Fe===0&&!Me&&k()}var Xt=Object.freeze({deprecationMessage:Zt,isIE:zt,isWebWorker:cr,fail:Et,mkdirpSync:St,buffer2ArrayBuffer:st,buffer2Uint8array:dt,arrayish2Buffer:Bt,uint8Array2Buffer:At,arrayBuffer2Buffer:Kt,copyingSlice:fr,emptyBuffer:or,bufferValidator:lt,checkOptions:bt}),$t=function(d){this.fs=d,this.nodefs=d.getNodeFS(),this.FS=d.getFS(),this.PATH=d.getPATH(),this.ERRNO_CODES=d.getERRNO_CODES()};$t.prototype.open=function(d){var k=this.fs.realPath(d.node),h=this.FS;try{h.isFile(d.node.mode)&&(d.nfd=this.nodefs.openSync(k,this.fs.flagsToPermissionString(d.flags)))}catch(Ee){throw Ee.code?new h.ErrnoError(this.ERRNO_CODES[Ee.code]):Ee}},$t.prototype.close=function(d){var k=this.FS;try{k.isFile(d.node.mode)&&d.nfd&&this.nodefs.closeSync(d.nfd)}catch(h){throw h.code?new k.ErrnoError(this.ERRNO_CODES[h.code]):h}},$t.prototype.read=function(d,k,h,Ee,Fe){try{return this.nodefs.readSync(d.nfd,At(k),h,Ee,Fe)}catch(Me){throw new this.FS.ErrnoError(this.ERRNO_CODES[Me.code])}},$t.prototype.write=function(d,k,h,Ee,Fe){try{return this.nodefs.writeSync(d.nfd,At(k),h,Ee,Fe)}catch(Me){throw new this.FS.ErrnoError(this.ERRNO_CODES[Me.code])}},$t.prototype.llseek=function(d,k,h){var Ee=k;if(h===1)Ee+=d.position;else if(h===2&&this.FS.isFile(d.node.mode))try{var Fe=this.nodefs.fstatSync(d.nfd);Ee+=Fe.size}catch(Me){throw new this.FS.ErrnoError(this.ERRNO_CODES[Me.code])}if(Ee<0)throw new this.FS.ErrnoError(this.ERRNO_CODES.EINVAL);return d.position=Ee,Ee};var pr=function(d){this.fs=d,this.nodefs=d.getNodeFS(),this.FS=d.getFS(),this.PATH=d.getPATH(),this.ERRNO_CODES=d.getERRNO_CODES()};pr.prototype.getattr=function(d){var k=this.fs.realPath(d),h;try{h=this.nodefs.lstatSync(k)}catch(Ee){throw Ee.code?new this.FS.ErrnoError(this.ERRNO_CODES[Ee.code]):Ee}return{dev:h.dev,ino:h.ino,mode:h.mode,nlink:h.nlink,uid:h.uid,gid:h.gid,rdev:h.rdev,size:h.size,atime:h.atime,mtime:h.mtime,ctime:h.ctime,blksize:h.blksize,blocks:h.blocks}},pr.prototype.setattr=function(d,k){var h=this.fs.realPath(d);try{if(k.mode!==void 0&&(this.nodefs.chmodSync(h,k.mode),d.mode=k.mode),k.timestamp!==void 0){var Ee=new Date(k.timestamp);this.nodefs.utimesSync(h,Ee,Ee)}}catch(Fe){if(!Fe.code)throw Fe;if(Fe.code!=="ENOTSUP")throw new this.FS.ErrnoError(this.ERRNO_CODES[Fe.code])}if(k.size!==void 0)try{this.nodefs.truncateSync(h,k.size)}catch(Fe){throw Fe.code?new this.FS.ErrnoError(this.ERRNO_CODES[Fe.code]):Fe}},pr.prototype.lookup=function(d,k){var h=this.PATH.join2(this.fs.realPath(d),k),Ee=this.fs.getMode(h);return this.fs.createNode(d,k,Ee)},pr.prototype.mknod=function(d,k,h,Ee){var Fe=this.fs.createNode(d,k,h,Ee),Me=this.fs.realPath(Fe);try{this.FS.isDir(Fe.mode)?this.nodefs.mkdirSync(Me,Fe.mode):this.nodefs.writeFileSync(Me,"",{mode:Fe.mode})}catch(Ge){throw Ge.code?new this.FS.ErrnoError(this.ERRNO_CODES[Ge.code]):Ge}return Fe},pr.prototype.rename=function(d,k,h){var Ee=this.fs.realPath(d),Fe=this.PATH.join2(this.fs.realPath(k),h);try{this.nodefs.renameSync(Ee,Fe),d.name=h,d.parent=k}catch(Me){throw Me.code?new this.FS.ErrnoError(this.ERRNO_CODES[Me.code]):Me}},pr.prototype.unlink=function(d,k){var h=this.PATH.join2(this.fs.realPath(d),k);try{this.nodefs.unlinkSync(h)}catch(Ee){throw Ee.code?new this.FS.ErrnoError(this.ERRNO_CODES[Ee.code]):Ee}},pr.prototype.rmdir=function(d,k){var h=this.PATH.join2(this.fs.realPath(d),k);try{this.nodefs.rmdirSync(h)}catch(Ee){throw Ee.code?new this.FS.ErrnoError(this.ERRNO_CODES[Ee.code]):Ee}},pr.prototype.readdir=function(d){var k=this.fs.realPath(d);try{var h=this.nodefs.readdirSync(k);return h.push(".",".."),h}catch(Ee){throw Ee.code?new this.FS.ErrnoError(this.ERRNO_CODES[Ee.code]):Ee}},pr.prototype.symlink=function(d,k,h){var Ee=this.PATH.join2(this.fs.realPath(d),k);try{this.nodefs.symlinkSync(h,Ee)}catch(Fe){throw Fe.code?new this.FS.ErrnoError(this.ERRNO_CODES[Fe.code]):Fe}},pr.prototype.readlink=function(d){var k=this.fs.realPath(d);try{return this.nodefs.readlinkSync(k)}catch(h){throw h.code?new this.FS.ErrnoError(this.ERRNO_CODES[h.code]):h}};var Qe=function(d,k,h,Ee){d===void 0&&(d=self.FS),k===void 0&&(k=self.PATH),h===void 0&&(h=self.ERRNO_CODES),Ee===void 0&&(Ee=nt),this.flagsToPermissionStringMap={0:"r",1:"r+",2:"r+",64:"r",65:"r+",66:"r+",129:"rx+",193:"rx+",514:"w+",577:"w",578:"w+",705:"wx",706:"wx+",1024:"a",1025:"a",1026:"a+",1089:"a",1090:"a+",1153:"ax",1154:"ax+",1217:"ax",1218:"ax+",4096:"rs",4098:"rs+"},this.nodefs=Ee,this.FS=d,this.PATH=k,this.ERRNO_CODES=h,this.node_ops=new pr(this),this.stream_ops=new $t(this)};Qe.prototype.mount=function(d){return this.createNode(null,"/",this.getMode(d.opts.root),0)},Qe.prototype.createNode=function(d,k,h,Ee){var Fe=this.FS;if(!Fe.isDir(h)&&!Fe.isFile(h)&&!Fe.isLink(h))throw new Fe.ErrnoError(this.ERRNO_CODES.EINVAL);var Me=Fe.createNode(d,k,h);return Me.node_ops=this.node_ops,Me.stream_ops=this.stream_ops,Me},Qe.prototype.getMode=function(d){var k;try{k=this.nodefs.lstatSync(d)}catch(h){throw h.code?new this.FS.ErrnoError(this.ERRNO_CODES[h.code]):h}return k.mode},Qe.prototype.realPath=function(d){for(var k=[];d.parent!==d;)k.push(d.name),d=d.parent;return k.push(d.mount.opts.root),k.reverse(),this.PATH.join.apply(null,k)},Qe.prototype.flagsToPermissionString=function(d){var k=typeof d=="string"?parseInt(d,10):d;return k&=8191,k in this.flagsToPermissionStringMap?this.flagsToPermissionStringMap[k]:d},Qe.prototype.getNodeFS=function(){return this.nodefs},Qe.prototype.getFS=function(){return this.FS},Qe.prototype.getPATH=function(){return this.PATH},Qe.prototype.getERRNO_CODES=function(){return this.ERRNO_CODES};var It=function(){};It.prototype.supportsLinks=function(){return!1},It.prototype.diskSpace=function(d,k){k(0,0)},It.prototype.openFile=function(d,k,h){throw new _e(Ae.ENOTSUP)},It.prototype.createFile=function(d,k,h,Ee){throw new _e(Ae.ENOTSUP)},It.prototype.open=function(d,k,h,Ee){var Fe=this,Me=function(Ge,et){if(Ge)switch(k.pathNotExistsAction()){case Be.CREATE_FILE:return Fe.stat(Oe.dirname(d),!1,function(ft,kt){ft?Ee(ft):kt&&!kt.isDirectory()?Ee(_e.ENOTDIR(Oe.dirname(d))):Fe.createFile(d,k,h,Ee)});case Be.THROW_EXCEPTION:return Ee(_e.ENOENT(d));default:return Ee(new _e(Ae.EINVAL,"Invalid FileFlag object."))}else{if(et&&et.isDirectory())return Ee(_e.EISDIR(d));switch(k.pathExistsAction()){case Be.THROW_EXCEPTION:return Ee(_e.EEXIST(d));case Be.TRUNCATE_FILE:return Fe.openFile(d,k,function(ft,kt){ft?Ee(ft):kt?kt.truncate(0,function(){kt.sync(function(){Ee(null,kt)})}):Et()});case Be.NOP:return Fe.openFile(d,k,Ee);default:return Ee(new _e(Ae.EINVAL,"Invalid FileFlag object."))}}};this.stat(d,!1,Me)},It.prototype.rename=function(d,k,h){h(new _e(Ae.ENOTSUP))},It.prototype.renameSync=function(d,k){throw new _e(Ae.ENOTSUP)},It.prototype.stat=function(d,k,h){h(new _e(Ae.ENOTSUP))},It.prototype.statSync=function(d,k){throw new _e(Ae.ENOTSUP)},It.prototype.openFileSync=function(d,k,h){throw new _e(Ae.ENOTSUP)},It.prototype.createFileSync=function(d,k,h){throw new _e(Ae.ENOTSUP)},It.prototype.openSync=function(d,k,h){var Ee;try{Ee=this.statSync(d,!1)}catch{switch(k.pathNotExistsAction()){case Be.CREATE_FILE:var Fe=this.statSync(Oe.dirname(d),!1);if(!Fe.isDirectory())throw _e.ENOTDIR(Oe.dirname(d));return this.createFileSync(d,k,h);case Be.THROW_EXCEPTION:throw _e.ENOENT(d);default:throw new _e(Ae.EINVAL,"Invalid FileFlag object.")}}if(Ee.isDirectory())throw _e.EISDIR(d);switch(k.pathExistsAction()){case Be.THROW_EXCEPTION:throw _e.EEXIST(d);case Be.TRUNCATE_FILE:return this.unlinkSync(d),this.createFileSync(d,k,Ee.mode);case Be.NOP:return this.openFileSync(d,k,h);default:throw new _e(Ae.EINVAL,"Invalid FileFlag object.")}},It.prototype.unlink=function(d,k){k(new _e(Ae.ENOTSUP))},It.prototype.unlinkSync=function(d){throw new _e(Ae.ENOTSUP)},It.prototype.rmdir=function(d,k){k(new _e(Ae.ENOTSUP))},It.prototype.rmdirSync=function(d){throw new _e(Ae.ENOTSUP)},It.prototype.mkdir=function(d,k,h){h(new _e(Ae.ENOTSUP))},It.prototype.mkdirSync=function(d,k){throw new _e(Ae.ENOTSUP)},It.prototype.readdir=function(d,k){k(new _e(Ae.ENOTSUP))},It.prototype.readdirSync=function(d){throw new _e(Ae.ENOTSUP)},It.prototype.exists=function(d,k){this.stat(d,null,function(h){k(!h)})},It.prototype.existsSync=function(d){try{return this.statSync(d,!0),!0}catch{return!1}},It.prototype.realpath=function(d,k,h){if(this.supportsLinks())for(var Ee=d.split(Oe.sep),Fe=0;Fe<Ee.length;Fe++){var Me=Ee.slice(0,Fe+1);Ee[Fe]=Oe.join.apply(null,Me)}else this.exists(d,function(Ge){Ge?h(null,d):h(_e.ENOENT(d))})},It.prototype.realpathSync=function(d,k){if(this.supportsLinks()){for(var h=d.split(Oe.sep),Ee=0;Ee<h.length;Ee++){var Fe=h.slice(0,Ee+1);h[Ee]=Oe.join.apply(Oe,Fe)}return h.join(Oe.sep)}else{if(this.existsSync(d))return d;throw _e.ENOENT(d)}},It.prototype.truncate=function(d,k,h){this.open(d,Ne.getFileFlag("r+"),420,function(Ee,Fe){if(Ee)return h(Ee);Fe.truncate(k,function(Me){Fe.close(function(Ge){h(Me||Ge)})})})},It.prototype.truncateSync=function(d,k){var h=this.openSync(d,Ne.getFileFlag("r+"),420);try{h.truncateSync(k)}catch(Ee){throw Ee}finally{h.closeSync()}},It.prototype.readFile=function(d,k,h,Ee){var Fe=Ee;this.open(d,h,420,function(Me,Ge){if(Me)return Ee(Me);Ee=function(et,ft){Ge.close(function(kt){return et||(et=kt),Fe(et,ft)})},Ge.stat(function(et,ft){if(et)return Ee(et);var kt=f.alloc(ft.size);Ge.read(kt,0,ft.size,0,function(Wt){if(Wt)return Ee(Wt);if(k===null)return Ee(Wt,kt);try{Ee(null,kt.toString(k))}catch(rr){Ee(rr)}})})})},It.prototype.readFileSync=function(d,k,h){var Ee=this.openSync(d,h,420);try{var Fe=Ee.statSync(),Me=f.alloc(Fe.size);return Ee.readSync(Me,0,Fe.size,0),Ee.closeSync(),k===null?Me:Me.toString(k)}finally{Ee.closeSync()}},It.prototype.writeFile=function(d,k,h,Ee,Fe,Me){var Ge=Me;this.open(d,Ee,420,function(et,ft){if(et)return Me(et);Me=function(kt){ft.close(function(Wt){Ge(kt||Wt)})};try{typeof k=="string"&&(k=f.from(k,h))}catch(kt){return Me(kt)}ft.write(k,0,k.length,0,Me)})},It.prototype.writeFileSync=function(d,k,h,Ee,Fe){var Me=this.openSync(d,Ee,Fe);try{typeof k=="string"&&(k=f.from(k,h)),Me.writeSync(k,0,k.length,0)}finally{Me.closeSync()}},It.prototype.appendFile=function(d,k,h,Ee,Fe,Me){var Ge=Me;this.open(d,Ee,Fe,function(et,ft){if(et)return Me(et);Me=function(kt){ft.close(function(Wt){Ge(kt||Wt)})},typeof k=="string"&&(k=f.from(k,h)),ft.write(k,0,k.length,null,Me)})},It.prototype.appendFileSync=function(d,k,h,Ee,Fe){var Me=this.openSync(d,Ee,Fe);try{typeof k=="string"&&(k=f.from(k,h)),Me.writeSync(k,0,k.length,null)}finally{Me.closeSync()}},It.prototype.chmod=function(d,k,h,Ee){Ee(new _e(Ae.ENOTSUP))},It.prototype.chmodSync=function(d,k,h){throw new _e(Ae.ENOTSUP)},It.prototype.chown=function(d,k,h,Ee,Fe){Fe(new _e(Ae.ENOTSUP))},It.prototype.chownSync=function(d,k,h,Ee){throw new _e(Ae.ENOTSUP)},It.prototype.utimes=function(d,k,h,Ee){Ee(new _e(Ae.ENOTSUP))},It.prototype.utimesSync=function(d,k,h){throw new _e(Ae.ENOTSUP)},It.prototype.link=function(d,k,h){h(new _e(Ae.ENOTSUP))},It.prototype.linkSync=function(d,k){throw new _e(Ae.ENOTSUP)},It.prototype.symlink=function(d,k,h,Ee){Ee(new _e(Ae.ENOTSUP))},It.prototype.symlinkSync=function(d,k,h){throw new _e(Ae.ENOTSUP)},It.prototype.readlink=function(d,k){k(new _e(Ae.ENOTSUP))},It.prototype.readlinkSync=function(d){throw new _e(Ae.ENOTSUP)};var Ht=function(ne){function d(){ne.apply(this,arguments)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.supportsSynch=function(){return!0},d.prototype.rename=function(h,Ee,Fe){try{this.renameSync(h,Ee),Fe()}catch(Me){Fe(Me)}},d.prototype.stat=function(h,Ee,Fe){try{Fe(null,this.statSync(h,Ee))}catch(Me){Fe(Me)}},d.prototype.open=function(h,Ee,Fe,Me){try{Me(null,this.openSync(h,Ee,Fe))}catch(Ge){Me(Ge)}},d.prototype.unlink=function(h,Ee){try{this.unlinkSync(h),Ee()}catch(Fe){Ee(Fe)}},d.prototype.rmdir=function(h,Ee){try{this.rmdirSync(h),Ee()}catch(Fe){Ee(Fe)}},d.prototype.mkdir=function(h,Ee,Fe){try{this.mkdirSync(h,Ee),Fe()}catch(Me){Fe(Me)}},d.prototype.readdir=function(h,Ee){try{Ee(null,this.readdirSync(h))}catch(Fe){Ee(Fe)}},d.prototype.chmod=function(h,Ee,Fe,Me){try{this.chmodSync(h,Ee,Fe),Me()}catch(Ge){Me(Ge)}},d.prototype.chown=function(h,Ee,Fe,Me,Ge){try{this.chownSync(h,Ee,Fe,Me),Ge()}catch(et){Ge(et)}},d.prototype.utimes=function(h,Ee,Fe,Me){try{this.utimesSync(h,Ee,Fe),Me()}catch(Ge){Me(Ge)}},d.prototype.link=function(h,Ee,Fe){try{this.linkSync(h,Ee),Fe()}catch(Me){Fe(Me)}},d.prototype.symlink=function(h,Ee,Fe,Me){try{this.symlinkSync(h,Ee,Fe),Me()}catch(Ge){Me(Ge)}},d.prototype.readlink=function(h,Ee){try{Ee(null,this.readlinkSync(h))}catch(Fe){Ee(Fe)}},d}(It),ht=function(){};ht.prototype.sync=function(d){d(new _e(Ae.ENOTSUP))},ht.prototype.syncSync=function(){throw new _e(Ae.ENOTSUP)},ht.prototype.datasync=function(d){this.sync(d)},ht.prototype.datasyncSync=function(){return this.syncSync()},ht.prototype.chown=function(d,k,h){h(new _e(Ae.ENOTSUP))},ht.prototype.chownSync=function(d,k){throw new _e(Ae.ENOTSUP)},ht.prototype.chmod=function(d,k){k(new _e(Ae.ENOTSUP))},ht.prototype.chmodSync=function(d){throw new _e(Ae.ENOTSUP)},ht.prototype.utimes=function(d,k,h){h(new _e(Ae.ENOTSUP))},ht.prototype.utimesSync=function(d,k){throw new _e(Ae.ENOTSUP)};var xt=function(ne){function d(k,h,Ee,Fe,Me){if(ne.call(this),this._pos=0,this._dirty=!1,this._fs=k,this._path=h,this._flag=Ee,this._stat=Fe,Me?this._buffer=Me:this._buffer=or(),this._stat.size!==this._buffer.length&&this._flag.isReadable())throw new Error("Invalid buffer: Buffer is "+this._buffer.length+" long, yet Stats object specifies that file is "+this._stat.size+" long.")}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.getBuffer=function(){return this._buffer},d.prototype.getStats=function(){return this._stat},d.prototype.getFlag=function(){return this._flag},d.prototype.getPath=function(){return this._path},d.prototype.getPos=function(){return this._flag.isAppendable()?this._stat.size:this._pos},d.prototype.advancePos=function(h){return this._pos+=h},d.prototype.setPos=function(h){return this._pos=h},d.prototype.sync=function(h){try{this.syncSync(),h()}catch(Ee){h(Ee)}},d.prototype.syncSync=function(){throw new _e(Ae.ENOTSUP)},d.prototype.close=function(h){try{this.closeSync(),h()}catch(Ee){h(Ee)}},d.prototype.closeSync=function(){throw new _e(Ae.ENOTSUP)},d.prototype.stat=function(h){try{h(null,this._stat.clone())}catch(Ee){h(Ee)}},d.prototype.statSync=function(){return this._stat.clone()},d.prototype.truncate=function(h,Ee){try{this.truncateSync(h),this._flag.isSynchronous()&&!nt.getRootFS().supportsSynch()&&this.sync(Ee),Ee()}catch(Fe){return Ee(Fe)}},d.prototype.truncateSync=function(h){if(this._dirty=!0,!this._flag.isWriteable())throw new _e(Ae.EPERM,"File not opened with a writeable mode.");if(this._stat.mtime=new Date,h>this._buffer.length){var Ee=f.alloc(h-this._buffer.length,0);this.writeSync(Ee,0,Ee.length,this._buffer.length),this._flag.isSynchronous()&&nt.getRootFS().supportsSynch()&&this.syncSync();return}this._stat.size=h;var Fe=f.alloc(h);this._buffer.copy(Fe,0,0,h),this._buffer=Fe,this._flag.isSynchronous()&&nt.getRootFS().supportsSynch()&&this.syncSync()},d.prototype.write=function(h,Ee,Fe,Me,Ge){try{Ge(null,this.writeSync(h,Ee,Fe,Me),h)}catch(et){Ge(et)}},d.prototype.writeSync=function(h,Ee,Fe,Me){if(this._dirty=!0,Me==null&&(Me=this.getPos()),!this._flag.isWriteable())throw new _e(Ae.EPERM,"File not opened with a writeable mode.");var Ge=Me+Fe;if(Ge>this._stat.size&&(this._stat.size=Ge,Ge>this._buffer.length)){var et=f.alloc(Ge);this._buffer.copy(et),this._buffer=et}var ft=h.copy(this._buffer,Me,Ee,Ee+Fe);return this._stat.mtime=new Date,this._flag.isSynchronous()?(this.syncSync(),ft):(this.setPos(Me+ft),ft)},d.prototype.read=function(h,Ee,Fe,Me,Ge){try{Ge(null,this.readSync(h,Ee,Fe,Me),h)}catch(et){Ge(et)}},d.prototype.readSync=function(h,Ee,Fe,Me){if(!this._flag.isReadable())throw new _e(Ae.EPERM,"File not opened with a readable mode.");Me==null&&(Me=this.getPos());var Ge=Me+Fe;Ge>this._stat.size&&(Fe=this._stat.size-Me);var et=this._buffer.copy(h,Ee,Me,Me+Fe);return this._stat.atime=new Date,this._pos=Me+Fe,et},d.prototype.chmod=function(h,Ee){try{this.chmodSync(h),Ee()}catch(Fe){Ee(Fe)}},d.prototype.chmodSync=function(h){if(!this._fs.supportsProps())throw new _e(Ae.ENOTSUP);this._dirty=!0,this._stat.chmod(h),this.syncSync()},d.prototype.isDirty=function(){return this._dirty},d.prototype.resetDirty=function(){this._dirty=!1},d}(ht),Rt=function(ne){function d(k,h,Ee,Fe,Me){ne.call(this,k,h,Ee,Fe,Me)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.sync=function(h){h()},d.prototype.syncSync=function(){},d.prototype.close=function(h){h()},d.prototype.closeSync=function(){},d}(xt),er=function(ne){function d(k,h,Ee,Fe,Me){ne.call(this,k,h,Ee,Fe,Me)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},d.prototype.closeSync=function(){this.syncSync()},d}(xt),rt=function(ne){function d(k,h,Ee){if(Ee===void 0&&(Ee=!0),ne.call(this),this._queue=[],this._queueRunning=!1,this._isInitialized=!1,this._initializeCallbacks=[],this._sync=k,this._async=h,!k.supportsSynch())throw new Error("The first argument to AsyncMirror needs to be a synchronous file system.");Zt(Ee,d.Name,{sync:"sync file system instance",async:"async file system instance"})}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.Create=function(h,Ee){try{var Fe=new d(h.sync,h.async,!1);Fe.initialize(function(Me){Me?Ee(Me):Ee(null,Fe)},!1)}catch(Me){Ee(Me)}},d.isAvailable=function(){return!0},d.prototype.getName=function(){return d.Name},d.prototype._syncSync=function(h){this._sync.writeFileSync(h.getPath(),h.getBuffer(),null,Ne.getFileFlag("w"),h.getStats().mode),this.enqueueOp({apiMethod:"writeFile",arguments:[h.getPath(),h.getBuffer(),null,h.getFlag(),h.getStats().mode]})},d.prototype.initialize=function(h,Ee){var Fe=this;Ee===void 0&&(Ee=!0),Ee&&console.warn("[AsyncMirror] AsyncMirror.initialize() is deprecated and will be removed in the next major version. Please use 'AsyncMirror.Create({ sync: (sync file system instance), async: (async file system instance)}, cb)' to create and initialize AsyncMirror instances.");var Me=this._initializeCallbacks,Ge=function(Wt){Fe._isInitialized=!Wt,Fe._initializeCallbacks=[],Me.forEach(function(rr){return rr(Wt)})};if(this._isInitialized)h();else if(Me.push(h)===1){var et=function(Wt,rr,vr){Wt!=="/"&&Fe._sync.mkdirSync(Wt,rr),Fe._async.readdir(Wt,function(mr,Pr){var jr=0;function Hr(En){En?vr(En):jr<Pr.length?(kt(Oe.join(Wt,Pr[jr]),Hr),jr++):vr()}mr?vr(mr):Hr()})},ft=function(Wt,rr,vr){Fe._async.readFile(Wt,null,Ne.getFileFlag("r"),function(mr,Pr){if(mr)vr(mr);else try{Fe._sync.writeFileSync(Wt,Pr,null,Ne.getFileFlag("w"),rr)}catch(jr){mr=jr}finally{vr(mr)}})},kt=function(Wt,rr){Fe._async.stat(Wt,!1,function(vr,mr){vr?rr(vr):mr.isDirectory()?et(Wt,mr.mode,rr):ft(Wt,mr.mode,rr)})};et("/",0,Ge)}},d.prototype.isReadOnly=function(){return!1},d.prototype.supportsSynch=function(){return!0},d.prototype.supportsLinks=function(){return!1},d.prototype.supportsProps=function(){return this._sync.supportsProps()&&this._async.supportsProps()},d.prototype.renameSync=function(h,Ee){this.checkInitialized(),this._sync.renameSync(h,Ee),this.enqueueOp({apiMethod:"rename",arguments:[h,Ee]})},d.prototype.statSync=function(h,Ee){return this.checkInitialized(),this._sync.statSync(h,Ee)},d.prototype.openSync=function(h,Ee,Fe){this.checkInitialized();var Me=this._sync.openSync(h,Ee,Fe);return Me.closeSync(),new er(this,h,Ee,this._sync.statSync(h,!1),this._sync.readFileSync(h,null,Ne.getFileFlag("r")))},d.prototype.unlinkSync=function(h){this.checkInitialized(),this._sync.unlinkSync(h),this.enqueueOp({apiMethod:"unlink",arguments:[h]})},d.prototype.rmdirSync=function(h){this.checkInitialized(),this._sync.rmdirSync(h),this.enqueueOp({apiMethod:"rmdir",arguments:[h]})},d.prototype.mkdirSync=function(h,Ee){this.checkInitialized(),this._sync.mkdirSync(h,Ee),this.enqueueOp({apiMethod:"mkdir",arguments:[h,Ee]})},d.prototype.readdirSync=function(h){return this.checkInitialized(),this._sync.readdirSync(h)},d.prototype.existsSync=function(h){return this.checkInitialized(),this._sync.existsSync(h)},d.prototype.chmodSync=function(h,Ee,Fe){this.checkInitialized(),this._sync.chmodSync(h,Ee,Fe),this.enqueueOp({apiMethod:"chmod",arguments:[h,Ee,Fe]})},d.prototype.chownSync=function(h,Ee,Fe,Me){this.checkInitialized(),this._sync.chownSync(h,Ee,Fe,Me),this.enqueueOp({apiMethod:"chown",arguments:[h,Ee,Fe,Me]})},d.prototype.utimesSync=function(h,Ee,Fe){this.checkInitialized(),this._sync.utimesSync(h,Ee,Fe),this.enqueueOp({apiMethod:"utimes",arguments:[h,Ee,Fe]})},d.prototype.checkInitialized=function(){if(!this._isInitialized)throw new _e(Ae.EPERM,"AsyncMirrorFS is not initialized. Please initialize AsyncMirrorFS using its initialize() method before using it.")},d.prototype.enqueueOp=function(h){var Ee=this;if(this._queue.push(h),!this._queueRunning){this._queueRunning=!0;var Fe=function(Me){if(Me&&console.error("WARNING: File system has desynchronized. Received following error: "+Me+`
$`),Ee._queue.length>0){var Ge=Ee._queue.shift(),et=Ge.arguments;et.push(Fe),Ee._async[Ge.apiMethod].apply(Ee._async,et)}else Ee._queueRunning=!1};Fe()}},d}(Ht);rt.Name="AsyncMirror",rt.Options={sync:{type:"object",description:"The synchronous file system to mirror the asynchronous file system to."},async:{type:"object",description:"The asynchronous file system to mirror."}};function je(ne,d,k){switch(k.length){case 0:return ne.call(d);case 1:return ne.call(d,k[0]);case 2:return ne.call(d,k[0],k[1]);case 3:return ne.call(d,k[0],k[1],k[2])}return ne.apply(d,k)}var Ke=Math.max;function ut(ne,d,k){return d=Ke(d===void 0?ne.length-1:d,0),function(){for(var h=arguments,Ee=-1,Fe=Ke(h.length-d,0),Me=Array(Fe);++Ee<Fe;)Me[Ee]=h[d+Ee];Ee=-1;for(var Ge=Array(d+1);++Ee<d;)Ge[Ee]=h[Ee];return Ge[d]=k(Me),je(ne,this,Ge)}}function vt(ne){return ne}function Ct(ne,d){return ut(ne,d,vt)}var Lt=function(ne){return Ct(function(d){var k=d.pop();ne.call(this,d,k)})};function sr(ne){return Ct(function(d,k){var h=Lt(function(Ee,Fe){var Me=this;return ne(d,function(Ge,et){Ge.apply(Me,Ee.concat(et))},Fe)});return k.length?h.apply(this,k):h})}var Rr=typeof m=="object"&&m&&m.Object===Object&&m,qr=typeof self=="object"&&self&&self.Object===Object&&self,wr=Rr||qr||Function("return this")(),dr=wr.Symbol,Vr=Object.prototype,on=Vr.hasOwnProperty,Ir=Vr.toString,un=dr?dr.toStringTag:void 0;function Bn(ne){var d=on.call(ne,un),k=ne[un];try{ne[un]=void 0;var h=!0}catch{}var Ee=Ir.call(ne);return h&&(d?ne[un]=k:delete ne[un]),Ee}var Un=Object.prototype,Er=Un.toString;function Jt(ne){return Er.call(ne)}var yr="[object Null]",it="[object Undefined]",kr=dr?dr.toStringTag:void 0;function $r(ne){return ne==null?ne===void 0?it:yr:kr&&kr in Object(ne)?Bn(ne):Jt(ne)}function Cr(ne){var d=typeof ne;return ne!=null&&(d=="object"||d=="function")}var Pn="[object AsyncFunction]",Or="[object Function]",sn="[object GeneratorFunction]",ar="[object Proxy]";function ir(ne){if(!Cr(ne))return!1;var d=$r(ne);return d==Or||d==sn||d==Pn||d==ar}var Xr=9007199254740991;function Br(ne){return typeof ne=="number"&&ne>-1&&ne%1==0&&ne<=Xr}function Tr(ne){return ne!=null&&Br(ne.length)&&!ir(ne)}var Wn={};function jn(){}function cn(ne){return function(){if(ne!==null){var d=ne;ne=null,d.apply(this,arguments)}}}var Qr=typeof Symbol=="function"&&Symbol.iterator,fn=function(ne){return Qr&&ne[Qr]&&ne[Qr]()};function wn(ne,d){for(var k=-1,h=Array(ne);++k<ne;)h[k]=d(k);return h}function dn(ne){return ne!=null&&typeof ne=="object"}var vi="[object Arguments]";function Li(ne){return dn(ne)&&$r(ne)==vi}var nn=Object.prototype,Ln=nn.hasOwnProperty,hn=nn.propertyIsEnumerable,Qn=Li(function(){return arguments}())?Li:function(ne){return dn(ne)&&Ln.call(ne,"callee")&&!hn.call(ne,"callee")},zn=Array.isArray;function _n(){return!1}var Ai=typeof i=="object"&&i&&!i.nodeType&&i,li=Ai&&typeof g=="object"&&g&&!g.nodeType&&g,c0=li&&li.exports===Ai,Mi=c0?wr.Buffer:void 0,Ya=Mi?Mi.isBuffer:void 0,rs=Ya||_n,ns=9007199254740991,Vi=/^(?:0|[1-9]\d*)$/;function u0(ne,d){return d=d??ns,!!d&&(typeof ne=="number"||Vi.test(ne))&&ne>-1&&ne%1==0&&ne<d}var Qa="[object Arguments]",l0="[object Array]",Jr="[object Boolean]",f0="[object Date]",d0="[object Error]",h0="[object Function]",xn="[object Map]",_a="[object Number]",va="[object Object]",Xi="[object RegExp]",is="[object Set]",as="[object String]",Ja="[object WeakMap]",x0="[object ArrayBuffer]",Xa="[object DataView]",p0="[object Float32Array]",mi="[object Float64Array]",ma="[object Int8Array]",_0="[object Int16Array]",Uc="[object Int32Array]",Zr="[object Uint8Array]",ss="[object Uint8ClampedArray]",jc="[object Uint16Array]",zc="[object Uint32Array]",Yr={};Yr[p0]=Yr[mi]=Yr[ma]=Yr[_0]=Yr[Uc]=Yr[Zr]=Yr[ss]=Yr[jc]=Yr[zc]=!0,Yr[Qa]=Yr[l0]=Yr[x0]=Yr[Jr]=Yr[Xa]=Yr[f0]=Yr[d0]=Yr[h0]=Yr[xn]=Yr[_a]=Yr[va]=Yr[Xi]=Yr[is]=Yr[as]=Yr[Ja]=!1;function Zi(ne){return dn(ne)&&Br(ne.length)&&!!Yr[$r(ne)]}function Za(ne){return function(d){return ne(d)}}var gi=typeof i=="object"&&i&&!i.nodeType&&i,cs=gi&&typeof g=="object"&&g&&!g.nodeType&&g,v0=cs&&cs.exports===gi,Sn=v0&&Rr.process,ri=function(){try{return Sn&&Sn.binding&&Sn.binding("util")}catch{}}(),$i=ri&&ri.isTypedArray,ga=$i?Za($i):Zi,us=Object.prototype,Ii=us.hasOwnProperty;function Hc(ne,d){var k=zn(ne),h=!k&&Qn(ne),Ee=!k&&!h&&rs(ne),Fe=!k&&!h&&!Ee&&ga(ne),Me=k||h||Ee||Fe,Ge=Me?wn(ne.length,String):[],et=Ge.length;for(var ft in ne)Ii.call(ne,ft)&&!(Me&&(ft=="length"||Ee&&(ft=="offset"||ft=="parent")||Fe&&(ft=="buffer"||ft=="byteLength"||ft=="byteOffset")||u0(ft,et)))&&Ge.push(ft);return Ge}var fi=Object.prototype;function ls(ne){var d=ne&&ne.constructor,k=typeof d=="function"&&d.prototype||fi;return ne===k}function m0(ne,d){return function(k){return ne(d(k))}}var fs=m0(Object.keys,Object),ya=Object.prototype,ds=ya.hasOwnProperty;function g0(ne){if(!ls(ne))return fs(ne);var d=[];for(var k in Object(ne))ds.call(ne,k)&&k!="constructor"&&d.push(k);return d}function Wc(ne){return Tr(ne)?Hc(ne):g0(ne)}function ba(ne){var d=-1,k=ne.length;return function(){return++d<k?{value:ne[d],key:d}:null}}function Kc(ne){var d=-1;return function(){var h=ne.next();return h.done?null:(d++,{value:h.value,key:d})}}function Gc(ne){var d=Wc(ne),k=-1,h=d.length;return function(){var Fe=d[++k];return k<h?{value:ne[Fe],key:Fe}:null}}function $a(ne){if(Tr(ne))return ba(ne);var d=fn(ne);return d?Kc(d):Gc(ne)}function Ea(ne){return function(){if(ne===null)throw new Error("Callback was already called.");var d=ne;ne=null,d.apply(this,arguments)}}function eo(ne){return function(d,k,h){if(h=cn(h||jn),ne<=0||!d)return h(null);var Ee=$a(d),Fe=!1,Me=0;function Ge(ft,kt){if(Me-=1,ft)Fe=!0,h(ft);else{if(kt===Wn||Fe&&Me<=0)return Fe=!0,h(null);et()}}function et(){for(;Me<ne&&!Fe;){var ft=Ee();if(ft===null){Fe=!0,Me<=0&&h(null);return}Me+=1,k(ft.value,ft.key,Ea(Ge))}}et()}}function y0(ne,d,k,h){eo(d)(ne,k,h)}function hs(ne,d){return function(k,h,Ee){return ne(k,d,h,Ee)}}function Yc(ne,d,k){k=cn(k||jn);var h=0,Ee=0,Fe=ne.length;Fe===0&&k(null);function Me(Ge,et){Ge?k(Ge):(++Ee===Fe||et===Wn)&&k(null)}for(;h<Fe;h++)d(ne[h],h,Ea(Me))}var xs=hs(y0,1/0),to=function(ne,d,k){var h=Tr(ne)?Yc:xs;h(ne,d,k)};function b0(ne){return function(d,k,h){return ne(to,d,k,h)}}function wa(ne,d,k,h){h=h||jn,d=d||[];var Ee=[],Fe=0;ne(d,function(Me,Ge,et){var ft=Fe++;k(Me,function(kt,Wt){Ee[ft]=Wt,et(kt)})},function(Me){h(Me,Ee)})}var ro=b0(wa);sr(ro);function no(ne){return function(d,k,h,Ee){return ne(eo(k),d,h,Ee)}}var E0=no(wa),Qc=hs(E0,1);sr(Qc),Ct(function(ne,d){return Ct(function(k){return ne.apply(null,d.concat(k))})});function io(ne,d){for(var k=-1,h=ne==null?0:ne.length;++k<h&&d(ne[k],k,ne)!==!1;);return ne}var ao=typeof setImmediate=="function"&&setImmediate,oo=typeof Te=="object"&&typeof Te.nextTick=="function";function so(ne){setTimeout(ne,0)}function co(ne){return Ct(function(d,k){ne(function(){d.apply(null,k)})})}var Dn;ao?Dn=setImmediate:oo?Dn=Te.nextTick:Dn=so,co(Dn);var Sa=hs(y0,1);function Aa(ne,d,k,h){h=cn(h||jn),Sa(ne,function(Ee,Fe,Me){k(d,Ee,function(Ge,et){d=et,Me(Ge)})},function(Ee){h(Ee,d)})}var w0=Ct(function(d){return Ct(function(k){var h=this,Ee=k[k.length-1];typeof Ee=="function"?k.pop():Ee=jn,Aa(d,k,function(Fe,Me,Ge){Me.apply(h,Fe.concat(Ct(function(et,ft){Ge(et,ft)})))},function(Fe,Me){Ee.apply(h,[Fe].concat(Me))})})});Ct(function(ne){return w0.apply(null,ne.reverse())}),Ct(function(ne){var d=[null].concat(ne);return Lt(function(k,h){return h.apply(this,d)})});function Ia(ne){return Ct(function(d,k){d.apply(null,k.concat(Ct(function(h,Ee){typeof console=="object"&&(h?console.error&&console.error(h):console[ne]&&io(Ee,function(Fe){console[ne](Fe)}))})))})}Ia("dir");function S0(ne){return function(d,k,h){return ne(d,h)}}function ps(ne,d,k){to(ne,S0(d),k)}Ia("log");var Ui;oo?Ui=Te.nextTick:ao?Ui=setImmediate:Ui=so,co(Ui);var qn;function ji(){qn||(qn={},qn[Dropbox.ApiError.NETWORK_ERROR]=Ae.EIO,qn[Dropbox.ApiError.INVALID_PARAM]=Ae.EINVAL,qn[Dropbox.ApiError.INVALID_TOKEN]=Ae.EPERM,qn[Dropbox.ApiError.OAUTH_ERROR]=Ae.EPERM,qn[Dropbox.ApiError.NOT_FOUND]=Ae.ENOENT,qn[Dropbox.ApiError.INVALID_METHOD]=Ae.EINVAL,qn[Dropbox.ApiError.NOT_ACCEPTABLE]=Ae.EINVAL,qn[Dropbox.ApiError.CONFLICT]=Ae.EINVAL,qn[Dropbox.ApiError.RATE_LIMITED]=Ae.EBUSY,qn[Dropbox.ApiError.SERVER_ERROR]=Ae.EBUSY,qn[Dropbox.ApiError.OVER_QUOTA]=Ae.ENOSPC)}function _s(ne){return ne&&ne.stat.isFile}function vs(ne){return ne&&ne.stat.isFolder}function uo(ne){return ne==null||typeof ne=="object"&&typeof ne.byteLength=="number"}var kn=function(d){this._cache={},this._client=d};kn.prototype.readdir=function(d,k){var h=this,Ee=this.getCachedDirInfo(d);this._wrap(function(Fe){Ee!==null&&Ee.contents?h._client.readdir(d,{contentHash:Ee.stat.contentHash},Fe):h._client.readdir(d,Fe)},function(Fe,Me,Ge,et){Fe?Fe.status===Dropbox.ApiError.NO_CONTENT&&Ee!==null?k(null,Ee.contents.slice(0)):k(Fe):(h.updateCachedDirInfo(d,Ge,Me.slice(0)),et.forEach(function(ft){h.updateCachedInfo(Oe.join(d,ft.name),ft)}),k(null,Me))})},kn.prototype.remove=function(d,k){var h=this;this._wrap(function(Ee){h._client.remove(d,Ee)},function(Ee,Fe){Ee||h.updateCachedInfo(d,Fe),k(Ee)})},kn.prototype.move=function(d,k,h){var Ee=this;this._wrap(function(Fe){Ee._client.move(d,k,Fe)},function(Fe,Me){Fe||(Ee.deleteCachedInfo(d),Ee.updateCachedInfo(k,Me)),h(Fe)})},kn.prototype.stat=function(d,k){var h=this;this._wrap(function(Ee){h._client.stat(d,Ee)},function(Ee,Fe){Ee||h.updateCachedInfo(d,Fe),k(Ee,Fe)})},kn.prototype.readFile=function(d,k){var h=this,Ee=this.getCachedFileInfo(d);Ee!==null&&Ee.contents!==null?this.stat(d,function(Fe,Me){Fe?k(Fe):Me.contentHash===Ee.stat.contentHash?k(Fe,Ee.contents.slice(0),Ee.stat):h.readFile(d,k)}):this._wrap(function(Fe){h._client.readFile(d,{arrayBuffer:!0},Fe)},function(Fe,Me,Ge){Fe||h.updateCachedInfo(d,Ge,Me.slice(0)),k(Fe,Me,Ge)})},kn.prototype.writeFile=function(d,k,h){var Ee=this;this._wrap(function(Fe){Ee._client.writeFile(d,k,Fe)},function(Fe,Me){Fe||Ee.updateCachedInfo(d,Me,k.slice(0)),h(Fe,Me)})},kn.prototype.mkdir=function(d,k){var h=this;this._wrap(function(Ee){h._client.mkdir(d,Ee)},function(Ee,Fe){Ee||h.updateCachedInfo(d,Fe,[]),k(Ee)})},kn.prototype._wrap=function(d,k){var h=0,Ee=function(Fe){var Me=2;if(Fe&&3>++h)switch(Fe.status){case Dropbox.ApiError.SERVER_ERROR:case Dropbox.ApiError.NETWORK_ERROR:case Dropbox.ApiError.RATE_LIMITED:setTimeout(function(){d(Ee)},Me*1e3);break;default:k.apply(null,arguments);break}else k.apply(null,arguments)};d(Ee)},kn.prototype.getCachedInfo=function(d){return this._cache[d.toLowerCase()]},kn.prototype.putCachedInfo=function(d,k){this._cache[d.toLowerCase()]=k},kn.prototype.deleteCachedInfo=function(d){delete this._cache[d.toLowerCase()]},kn.prototype.getCachedDirInfo=function(d){var k=this.getCachedInfo(d);return vs(k)?k:null},kn.prototype.getCachedFileInfo=function(d){var k=this.getCachedInfo(d);return _s(k)?k:null},kn.prototype.updateCachedDirInfo=function(d,k,h){h===void 0&&(h=null);var Ee=this.getCachedInfo(d);k.contentHash!==null&&(Ee===void 0||Ee.stat.contentHash!==k.contentHash)&&this.putCachedInfo(d,{stat:k,contents:h})},kn.prototype.updateCachedFileInfo=function(d,k,h){h===void 0&&(h=null);var Ee=this.getCachedInfo(d);k.versionTag!==null&&(Ee===void 0||Ee.stat.versionTag!==k.versionTag)&&this.putCachedInfo(d,{stat:k,contents:h})},kn.prototype.updateCachedInfo=function(d,k,h){h===void 0&&(h=null),k.isFile&&uo(h)?this.updateCachedFileInfo(d,k,h):k.isFolder&&Array.isArray(h)&&this.updateCachedDirInfo(d,k,h)};var A0=function(ne){function d(k,h,Ee,Fe,Me){ne.call(this,k,h,Ee,Fe,Me)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.sync=function(h){var Ee=this;if(this.isDirty()){var Fe=this.getBuffer(),Me=st(Fe);this._fs._writeFileStrict(this.getPath(),Me,function(Ge){Ge||Ee.resetDirty(),h(Ge)})}else h()},d.prototype.close=function(h){this.sync(h)},d}(xt),lo=function(ne){function d(k,h){h===void 0&&(h=!0),ne.call(this),this._client=new kn(k),Zt(h,d.Name,{client:"authenticated dropbox client instance"}),ji()}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.Create=function(h,Ee){Ee(null,new d(h.client,!1))},d.isAvailable=function(){return typeof Dropbox<"u"},d.prototype.getName=function(){return d.Name},d.prototype.isReadOnly=function(){return!1},d.prototype.supportsSymlinks=function(){return!1},d.prototype.supportsProps=function(){return!1},d.prototype.supportsSynch=function(){return!1},d.prototype.empty=function(h){var Ee=this;this._client.readdir("/",function(Fe,Me){if(Fe)h(Ee.convert(Fe,"/"));else{var Ge=function(ft,kt){var Wt=Oe.join("/",ft);Ee._client.remove(Wt,function(rr){kt(rr?Ee.convert(rr,Wt):null)})},et=function(ft){ft?h(ft):h()};ps(Me,Ge,et)}})},d.prototype.rename=function(h,Ee,Fe){var Me=this;this._client.move(h,Ee,function(Ge){Ge?Me._client.stat(Ee,function(et,ft){if(et||ft.isFolder){var kt=Ge.response.error.indexOf(h)>-1?h:Ee;Fe(Me.convert(Ge,kt))}else Me._client.remove(Ee,function(Wt){Wt?Fe(Me.convert(Wt,Ee)):Me.rename(h,Ee,Fe)})}):Fe()})},d.prototype.stat=function(h,Ee,Fe){var Me=this;this._client.stat(h,function(Ge,et){if(Ge)Fe(Me.convert(Ge,h));else if(et&&et.isRemoved)Fe(_e.FileError(Ae.ENOENT,h));else{var ft=new Ue(Me._statType(et),et.size);return Fe(null,ft)}})},d.prototype.open=function(h,Ee,Fe,Me){var Ge=this;this._client.readFile(h,function(et,ft,kt){if(et)if(Ee.isReadable())Me(Ge.convert(et,h));else switch(et.status){case Dropbox.ApiError.NOT_FOUND:var Wt=new ArrayBuffer(0);return Ge._writeFileStrict(h,Wt,function(mr,Pr){if(mr)Me(mr);else{var jr=Ge._makeFile(h,Ee,Pr,Kt(Wt));Me(null,jr)}});default:return Me(Ge.convert(et,h))}else{var rr;ft===null?rr=or():rr=Kt(ft);var vr=Ge._makeFile(h,Ee,kt,rr);return Me(null,vr)}})},d.prototype._writeFileStrict=function(h,Ee,Fe){var Me=this,Ge=Oe.dirname(h);this.stat(Ge,!1,function(et,ft){et?Fe(_e.FileError(Ae.ENOENT,Ge)):Me._client.writeFile(h,Ee,function(kt,Wt){kt?Fe(Me.convert(kt,h)):Fe(null,Wt)})})},d.prototype._statType=function(h){return h.isFile?Ve.FILE:Ve.DIRECTORY},d.prototype._makeFile=function(h,Ee,Fe,Me){var Ge=this._statType(Fe),et=new Ue(Ge,Fe.size);return new A0(this,h,Ee,et,Me)},d.prototype._remove=function(h,Ee,Fe){var Me=this;this._client.stat(h,function(Ge,et){Ge?Ee(Me.convert(Ge,h)):et.isFile&&!Fe?Ee(_e.FileError(Ae.ENOTDIR,h)):!et.isFile&&Fe?Ee(_e.FileError(Ae.EISDIR,h)):Me._client.remove(h,function(ft){Ee(ft?Me.convert(ft,h):null)})})},d.prototype.unlink=function(h,Ee){this._remove(h,Ee,!0)},d.prototype.rmdir=function(h,Ee){this._remove(h,Ee,!1)},d.prototype.mkdir=function(h,Ee,Fe){var Me=this,Ge=Oe.dirname(h);this._client.stat(Ge,function(et,ft){et?Fe(Me.convert(et,Ge)):Me._client.mkdir(h,function(kt){Fe(kt?_e.FileError(Ae.EEXIST,h):null)})})},d.prototype.readdir=function(h,Ee){var Fe=this;this._client.readdir(h,function(Me,Ge){return Me?Ee(Fe.convert(Me)):Ee(null,Ge)})},d.prototype.convert=function(h,Ee){Ee===void 0&&(Ee=null);var Fe=qn[h.status];return Fe===void 0&&(Fe=Ae.EIO),Ee?_e.FileError(Fe,Ee):new _e(Fe)},d}(It);lo.Name="Dropbox",lo.Options={client:{type:"object",description:"An *authenticated* Dropbox client. Must be from the 0.10 JS SDK.",validator:function(ne,d){ne.isAuthenticated&&ne.isAuthenticated()?d():d(new _e(Ae.EINVAL,"'client' option must be an authenticated Dropbox client from the v0.10 JS SDK."))}}};function pn(ne,d){d===void 0&&(d="");for(var k=ne.errno,h=ne.node,Ee=[];h&&(Ee.unshift(h.name),h!==h.parent);)h=h.parent;return new _e(k,De[k],Ee.length>0?"/"+Ee.join("/"):d)}var fo=function(ne){function d(k,h,Ee,Fe){ne.call(this),this._fs=k,this._FS=h,this._path=Ee,this._stream=Fe}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.getPos=function(){},d.prototype.close=function(h){var Ee=null;try{this.closeSync()}catch(Fe){Ee=Fe}finally{h(Ee)}},d.prototype.closeSync=function(){try{this._FS.close(this._stream)}catch(h){throw pn(h,this._path)}},d.prototype.stat=function(h){try{h(null,this.statSync())}catch(Ee){h(Ee)}},d.prototype.statSync=function(){try{return this._fs.statSync(this._path,!1)}catch(h){throw pn(h,this._path)}},d.prototype.truncate=function(h,Ee){var Fe=null;try{this.truncateSync(h)}catch(Me){Fe=Me}finally{Ee(Fe)}},d.prototype.truncateSync=function(h){try{this._FS.ftruncate(this._stream.fd,h)}catch(Ee){throw pn(Ee,this._path)}},d.prototype.write=function(h,Ee,Fe,Me,Ge){try{Ge(null,this.writeSync(h,Ee,Fe,Me),h)}catch(et){Ge(et)}},d.prototype.writeSync=function(h,Ee,Fe,Me){try{var Ge=dt(h),et=Me===null?void 0:Me;return this._FS.write(this._stream,Ge,Ee,Fe,et)}catch(ft){throw pn(ft,this._path)}},d.prototype.read=function(h,Ee,Fe,Me,Ge){try{Ge(null,this.readSync(h,Ee,Fe,Me),h)}catch(et){Ge(et)}},d.prototype.readSync=function(h,Ee,Fe,Me){try{var Ge=dt(h),et=Me===null?void 0:Me;return this._FS.read(this._stream,Ge,Ee,Fe,et)}catch(ft){throw pn(ft,this._path)}},d.prototype.sync=function(h){h()},d.prototype.syncSync=function(){},d.prototype.chown=function(h,Ee,Fe){var Me=null;try{this.chownSync(h,Ee)}catch(Ge){Me=Ge}finally{Fe(Me)}},d.prototype.chownSync=function(h,Ee){try{this._FS.fchown(this._stream.fd,h,Ee)}catch(Fe){throw pn(Fe,this._path)}},d.prototype.chmod=function(h,Ee){var Fe=null;try{this.chmodSync(h)}catch(Me){Fe=Me}finally{Ee(Fe)}},d.prototype.chmodSync=function(h){try{this._FS.fchmod(this._stream.fd,h)}catch(Ee){throw pn(Ee,this._path)}},d.prototype.utimes=function(h,Ee,Fe){var Me=null;try{this.utimesSync(h,Ee)}catch(Ge){Me=Ge}finally{Fe(Me)}},d.prototype.utimesSync=function(h,Ee){this._fs.utimesSync(this._path,h,Ee)},d}(ht),ho=function(ne){function d(k){ne.call(this),this._FS=k}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.Create=function(h,Ee){Ee(null,new d(h.FS))},d.isAvailable=function(){return!0},d.prototype.getName=function(){return this._FS.DB_NAME()},d.prototype.isReadOnly=function(){return!1},d.prototype.supportsLinks=function(){return!0},d.prototype.supportsProps=function(){return!0},d.prototype.supportsSynch=function(){return!0},d.prototype.renameSync=function(h,Ee){try{this._FS.rename(h,Ee)}catch(Fe){throw Fe.errno===Ae.ENOENT?pn(Fe,this.existsSync(h)?Ee:h):pn(Fe)}},d.prototype.statSync=function(h,Ee){try{var Fe=Ee?this._FS.lstat(h):this._FS.stat(h),Me=this.modeToFileType(Fe.mode);return new Ue(Me,Fe.size,Fe.mode,Fe.atime,Fe.mtime,Fe.ctime)}catch(Ge){throw pn(Ge,h)}},d.prototype.openSync=function(h,Ee,Fe){try{var Me=this._FS.open(h,Ee.getFlagString(),Fe);if(this._FS.isDir(Me.node.mode))throw this._FS.close(Me),_e.EISDIR(h);return new fo(this,this._FS,h,Me)}catch(Ge){throw pn(Ge,h)}},d.prototype.unlinkSync=function(h){try{this._FS.unlink(h)}catch(Ee){throw pn(Ee,h)}},d.prototype.rmdirSync=function(h){try{this._FS.rmdir(h)}catch(Ee){throw pn(Ee,h)}},d.prototype.mkdirSync=function(h,Ee){try{this._FS.mkdir(h,Ee)}catch(Fe){throw pn(Fe,h)}},d.prototype.readdirSync=function(h){try{return this._FS.readdir(h).filter(function(Ee){return Ee!=="."&&Ee!==".."})}catch(Ee){throw pn(Ee,h)}},d.prototype.truncateSync=function(h,Ee){try{this._FS.truncate(h,Ee)}catch(Fe){throw pn(Fe,h)}},d.prototype.readFileSync=function(h,Ee,Fe){try{var Me=this._FS.readFile(h,{flags:Fe.getFlagString()}),Ge=At(Me);return Ee?Ge.toString(Ee):Ge}catch(et){throw pn(et,h)}},d.prototype.writeFileSync=function(h,Ee,Fe,Me,Ge){try{Fe&&(Ee=f.from(Ee,Fe));var et=dt(Ee);this._FS.writeFile(h,et,{flags:Me.getFlagString(),encoding:"binary"}),this._FS.chmod(h,Ge)}catch(ft){throw pn(ft,h)}},d.prototype.chmodSync=function(h,Ee,Fe){try{Ee?this._FS.lchmod(h,Fe):this._FS.chmod(h,Fe)}catch(Me){throw pn(Me,h)}},d.prototype.chownSync=function(h,Ee,Fe,Me){try{Ee?this._FS.lchown(h,Fe,Me):this._FS.chown(h,Fe,Me)}catch(Ge){throw pn(Ge,h)}},d.prototype.symlinkSync=function(h,Ee,Fe){try{this._FS.symlink(h,Ee)}catch(Me){throw pn(Me)}},d.prototype.readlinkSync=function(h){try{return this._FS.readlink(h)}catch(Ee){throw pn(Ee,h)}},d.prototype.utimesSync=function(h,Ee,Fe){try{this._FS.utime(h,Ee.getTime(),Fe.getTime())}catch(Me){throw pn(Me,h)}},d.prototype.modeToFileType=function(h){if(this._FS.isDir(h))return Ve.DIRECTORY;if(this._FS.isFile(h))return Ve.FILE;if(this._FS.isLink(h))return Ve.SYMLINK;throw _e.EPERM("Invalid mode: "+h)},d}(Ht);ho.Name="EmscriptenFileSystem",ho.Options={FS:{type:"object",description:"The Emscripten file system to use (the `FS` variable)"}};var Ci=function(ne){function d(k,h){ne.call(this),this._folder=k,this._wrapped=h}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.Create=function(h,Ee){Ee(null,new d(h.folder,h.wrapped))},d.isAvailable=function(){return!0},d.prototype.initialize=function(h){var Ee=this;this._wrapped.exists(this._folder,function(Fe){Fe?h():Ee._wrapped.isReadOnly()?h(_e.ENOENT(Ee._folder)):Ee._wrapped.mkdir(Ee._folder,511,h)})},d.prototype.getName=function(){return this._wrapped.getName()},d.prototype.isReadOnly=function(){return this._wrapped.isReadOnly()},d.prototype.supportsProps=function(){return this._wrapped.supportsProps()},d.prototype.supportsSynch=function(){return this._wrapped.supportsSynch()},d.prototype.supportsLinks=function(){return!1},d}(It);Ci.Name="FolderAdapter",Ci.Options={folder:{type:"string",description:"The folder to use as the root directory"},wrapped:{type:"object",description:"The file system to wrap"}};function xo(ne,d){if(d!==null&&typeof d=="object"){var k=d,h=k.path;h&&(h="/"+Oe.relative(ne,h),k.message=k.message.replace(k.path,h),k.path=h)}return d}function Jc(ne,d){return typeof d=="function"?function(k){arguments.length>0&&(arguments[0]=xo(ne,k)),d.apply(null,arguments)}:d}function ms(ne,d,k){return ne.slice(ne.length-4)!=="Sync"?function(){return arguments.length>0&&(arguments[0]=Oe.join(this._folder,arguments[0]),k&&(arguments[1]=Oe.join(this._folder,arguments[1])),arguments[arguments.length-1]=Jc(this._folder,arguments[arguments.length-1])),this._wrapped[ne].apply(this._wrapped,arguments)}:function(){try{return d&&(arguments[0]=Oe.join(this._folder,arguments[0])),k&&(arguments[1]=Oe.join(this._folder,arguments[1])),this._wrapped[ne].apply(this._wrapped,arguments)}catch(h){throw xo(this._folder,h)}}}["diskSpace","stat","statSync","open","openSync","unlink","unlinkSync","rmdir","rmdirSync","mkdir","mkdirSync","readdir","readdirSync","exists","existsSync","realpath","realpathSync","truncate","truncateSync","readFile","readFileSync","writeFile","writeFileSync","appendFile","appendFileSync","chmod","chmodSync","chown","chownSync","utimes","utimesSync","readlink","readlinkSync"].forEach(function(ne){Ci.prototype[ne]=ms(ne,!0,!1)}),["rename","renameSync","link","linkSync","symlink","symlinkSync"].forEach(function(ne){Ci.prototype[ne]=ms(ne,!0,!0)});var po;typeof window<"u"?po=window:typeof self<"u"?po=self:po=m;var bn=po;function I0(ne){return ne.isDirectory}var gs=bn.webkitRequestFileSystem||bn.requestFileSystem||null;function C0(ne,d,k,h){if(typeof navigator.webkitPersistentStorage<"u")switch(ne){case bn.PERSISTENT:navigator.webkitPersistentStorage.requestQuota(d,k,h);break;case bn.TEMPORARY:navigator.webkitTemporaryStorage.requestQuota(d,k,h);break;default:h(new TypeError("Invalid storage type: "+ne));break}else bn.webkitStorageInfo.requestQuota(ne,d,k,h)}function ys(ne){return Array.prototype.slice.call(ne||[],0)}function ni(ne,d,k){switch(ne.name){case"PathExistsError":return _e.EEXIST(d);case"QuotaExceededError":return _e.FileError(Ae.ENOSPC,d);case"NotFoundError":return _e.ENOENT(d);case"SecurityError":return _e.FileError(Ae.EACCES,d);case"InvalidModificationError":return _e.FileError(Ae.EPERM,d);case"TypeMismatchError":return _e.FileError(k?Ae.ENOTDIR:Ae.EISDIR,d);case"EncodingError":case"InvalidStateError":case"NoModificationAllowedError":default:return _e.FileError(Ae.EINVAL,d)}}var k0=function(ne){function d(k,h,Ee,Fe,Me,Ge){ne.call(this,k,Ee,Fe,Me,Ge),this._entry=h}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.sync=function(h){var Ee=this;if(!this.isDirty())return h();this._entry.createWriter(function(Fe){var Me=Ee.getBuffer(),Ge=new Blob([st(Me)]),et=Ge.size;Fe.onwriteend=function(ft){Fe.onwriteend=null,Fe.onerror=null,Fe.truncate(et),Ee.resetDirty(),h()},Fe.onerror=function(ft){h(ni(ft,Ee.getPath(),!1))},Fe.write(Ge)})},d.prototype.close=function(h){this.sync(h)},d}(xt),_o=function(ne){function d(k,h,Ee){k===void 0&&(k=5),h===void 0&&(h=bn.PERSISTENT),Ee===void 0&&(Ee=!0),ne.call(this),this.size=1024*1024*k,this.type=h,Zt(Ee,d.Name,{size:k,type:h})}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.Create=function(h,Ee){var Fe=new d(h.size,h.type,!1);Fe.allocate(function(Me){return Me?Ee(Me):Ee(null,Fe)},!1)},d.isAvailable=function(){return!!gs},d.prototype.getName=function(){return d.Name},d.prototype.isReadOnly=function(){return!1},d.prototype.supportsSymlinks=function(){return!1},d.prototype.supportsProps=function(){return!1},d.prototype.supportsSynch=function(){return!1},d.prototype.allocate=function(h,Ee){var Fe=this;h===void 0&&(h=function(){}),Ee===void 0&&(Ee=!0),Ee&&console.warn("[HTML5FS] HTML5FS.allocate() is deprecated and will be removed in the next major release. Please use 'HTML5FS.Create({type: "+this.type+", size: "+this.size+"}, cb)' to create and allocate HTML5FS instances.");var Me=function(et){Fe.fs=et,h()},Ge=function(et){h(ni(et,"/",!0))};this.type===bn.PERSISTENT?C0(this.type,this.size,function(et){gs(Fe.type,et,Me,Ge)},Ge):gs(this.type,this.size,Me,Ge)},d.prototype.empty=function(h){this._readdir("/",function(Ee,Fe){if(Ee)console.error("Failed to empty FS"),h(Ee);else{var Me=function(et){Ee?(console.error("Failed to empty FS"),h(Ee)):h()},Ge=function(et,ft){var kt=function(){ft()},Wt=function(rr){ft(ni(rr,et.fullPath,!et.isDirectory))};I0(et)?et.removeRecursively(kt,Wt):et.remove(kt,Wt)};ps(Fe,Ge,Me)}})},d.prototype.rename=function(h,Ee,Fe){var Me=this,Ge=2,et=0,ft=this.fs.root,kt=h,Wt=function(vr){--Ge<=0&&Fe(ni(vr,kt,!1))},rr=function(vr){if(++et===2)return Fe(new _e(Ae.EINVAL,"Something was identified as both a file and a directory. This should never happen."));if(h===Ee)return Fe();kt=Oe.dirname(Ee),ft.getDirectory(kt,{},function(mr){kt=Oe.basename(Ee),vr.moveTo(mr,kt,function(Pr){Fe()},function(Pr){vr.isDirectory?(kt=Ee,Me.unlink(Ee,function(jr){jr?Wt(Pr):Me.rename(h,Ee,Fe)})):Wt(Pr)})},Wt)};ft.getFile(h,{},rr,Wt),ft.getDirectory(h,{},rr,Wt)},d.prototype.stat=function(h,Ee,Fe){var Me=this,Ge={create:!1},et=function(rr){var vr=function(mr){var Pr=new Ue(Ve.FILE,mr.size);Fe(null,Pr)};rr.file(vr,kt)},ft=function(rr){var vr=4096,mr=new Ue(Ve.DIRECTORY,vr);Fe(null,mr)},kt=function(rr){Fe(ni(rr,h,!1))},Wt=function(){Me.fs.root.getDirectory(h,Ge,ft,kt)};this.fs.root.getFile(h,Ge,et,Wt)},d.prototype.open=function(h,Ee,Fe,Me){var Ge=this,et=function(ft){ft.name==="InvalidModificationError"&&Ee.isExclusive()?Me(_e.EEXIST(h)):Me(ni(ft,h,!1))};this.fs.root.getFile(h,{create:Ee.pathNotExistsAction()===Be.CREATE_FILE,exclusive:Ee.isExclusive()},function(ft){ft.file(function(kt){var Wt=new FileReader;Wt.onloadend=function(rr){var vr=Ge._makeFile(h,ft,Ee,kt,Wt.result);Me(null,vr)},Wt.onerror=function(rr){et(Wt.error)},Wt.readAsArrayBuffer(kt)},et)},et)},d.prototype.unlink=function(h,Ee){this._remove(h,Ee,!0)},d.prototype.rmdir=function(h,Ee){var Fe=this;this.readdir(h,function(Me,Ge){Me?Ee(Me):Ge.length>0?Ee(_e.ENOTEMPTY(h)):Fe._remove(h,Ee,!1)})},d.prototype.mkdir=function(h,Ee,Fe){var Me={create:!0,exclusive:!0},Ge=function(ft){Fe()},et=function(ft){Fe(ni(ft,h,!0))};this.fs.root.getDirectory(h,Me,Ge,et)},d.prototype.readdir=function(h,Ee){this._readdir(h,function(Fe,Me){if(Me){for(var Ge=[],et=0,ft=Me;et<ft.length;et+=1){var kt=ft[et];Ge.push(kt.name)}Ee(null,Ge)}else return Ee(Fe)})},d.prototype._makeFile=function(h,Ee,Fe,Me,Ge){Ge===void 0&&(Ge=new ArrayBuffer(0));var et=new Ue(Ve.FILE,Me.size),ft=Kt(Ge);return new k0(this,Ee,h,Fe,et,ft)},d.prototype._readdir=function(h,Ee){var Fe=function(Me){Ee(ni(Me,h,!0))};this.fs.root.getDirectory(h,{create:!1},function(Me){var Ge=Me.createReader(),et=[],ft=function(){Ge.readEntries(function(kt){kt.length?(et=et.concat(ys(kt)),ft()):Ee(null,et)},Fe)};ft()},Fe)},d.prototype._remove=function(h,Ee,Fe){var Me=function(ft){var kt=function(){Ee()},Wt=function(rr){Ee(ni(rr,h,!Fe))};ft.remove(kt,Wt)},Ge=function(ft){Ee(ni(ft,h,!Fe))},et={create:!1};Fe?this.fs.root.getFile(h,et,Me,Ge):this.fs.root.getDirectory(h,et,Me,Ge)},d}(It);_o.Name="HTML5FS",_o.Options={size:{type:"number",optional:!0,description:"Storage quota to request, in megabytes. Allocated value may be less. Defaults to 5."},type:{type:"number",optional:!0,description:"window.PERSISTENT or window.TEMPORARY. Defaults to PERSISTENT."}};var Hn=function(d,k,h,Ee,Fe,Me){this.id=d,this.size=k,this.mode=h,this.atime=Ee,this.mtime=Fe,this.ctime=Me};Hn.fromBuffer=function(d){if(d===void 0)throw new Error("NO");return new Hn(d.toString("ascii",30),d.readUInt32LE(0),d.readUInt16LE(4),d.readDoubleLE(6),d.readDoubleLE(14),d.readDoubleLE(22))},Hn.prototype.toStats=function(){return new Ue((this.mode&61440)===Ve.DIRECTORY?Ve.DIRECTORY:Ve.FILE,this.size,this.mode,new Date(this.atime),new Date(this.mtime),new Date(this.ctime))},Hn.prototype.getSize=function(){return 30+this.id.length},Hn.prototype.toBuffer=function(d){return d===void 0&&(d=f.alloc(this.getSize())),d.writeUInt32LE(this.size,0),d.writeUInt16LE(this.mode,4),d.writeDoubleLE(this.atime,6),d.writeDoubleLE(this.mtime,14),d.writeDoubleLE(this.ctime,22),d.write(this.id,30,this.id.length,"ascii"),d},Hn.prototype.update=function(d){var k=!1;this.size!==d.size&&(this.size=d.size,k=!0),this.mode!==d.mode&&(this.mode=d.mode,k=!0);var h=d.atime.getTime();this.atime!==h&&(this.atime=h,k=!0);var Ee=d.mtime.getTime();this.mtime!==Ee&&(this.mtime=Ee,k=!0);var Fe=d.ctime.getTime();return this.ctime!==Fe&&(this.ctime=Fe,k=!0),k},Hn.prototype.isFile=function(){return(this.mode&61440)===Ve.FILE},Hn.prototype.isDirectory=function(){return(this.mode&61440)===Ve.DIRECTORY};var ki="/",ea=null;function di(){return ea||(ea=f.from("{}"))}function vn(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(ne){var d=Math.random()*16|0,k=ne==="x"?d:d&3|8;return k.toString(16)})}function Nn(ne,d){return ne?(d(ne),!1):!0}function en(ne,d,k){return ne?(d.abort(function(){k(ne)}),!1):!0}var yi=function(d){this.store=d,this.originalData={},this.modifiedKeys=[]};yi.prototype.get=function(d){var k=this.store.get(d);return this.stashOldValue(d,k),k},yi.prototype.put=function(d,k,h){return this.markModified(d),this.store.put(d,k,h)},yi.prototype.del=function(d){this.markModified(d),this.store.del(d)},yi.prototype.commit=function(){},yi.prototype.abort=function(){for(var d=this,k=0,h=d.modifiedKeys;k<h.length;k+=1){var Ee=h[k],Fe=d.originalData[Ee];Fe?d.store.put(Ee,Fe,!0):d.store.del(Ee)}},yi.prototype.stashOldValue=function(d,k){this.originalData.hasOwnProperty(d)||(this.originalData[d]=k)},yi.prototype.markModified=function(d){this.modifiedKeys.indexOf(d)===-1&&(this.modifiedKeys.push(d),this.originalData.hasOwnProperty(d)||(this.originalData[d]=this.store.get(d)))};var vo=function(ne){function d(k,h,Ee,Fe,Me){ne.call(this,k,h,Ee,Fe,Me)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this.getPath(),this.getBuffer(),this.getStats()),this.resetDirty())},d.prototype.closeSync=function(){this.syncSync()},d}(xt),bs=function(ne){function d(k){ne.call(this),this.store=k.store,this.makeRootDirectory()}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.isAvailable=function(){return!0},d.prototype.getName=function(){return this.store.name()},d.prototype.isReadOnly=function(){return!1},d.prototype.supportsSymlinks=function(){return!1},d.prototype.supportsProps=function(){return!1},d.prototype.supportsSynch=function(){return!0},d.prototype.empty=function(){this.store.clear(),this.makeRootDirectory()},d.prototype.renameSync=function(h,Ee){var Fe=this.store.beginTransaction("readwrite"),Me=Oe.dirname(h),Ge=Oe.basename(h),et=Oe.dirname(Ee),ft=Oe.basename(Ee),kt=this.findINode(Fe,Me),Wt=this.getDirListing(Fe,Me,kt);if(!Wt[Ge])throw _e.ENOENT(h);var rr=Wt[Ge];if(delete Wt[Ge],(et+"/").indexOf(h+"/")===0)throw new _e(Ae.EBUSY,Me);var vr,mr;if(et===Me?(vr=kt,mr=Wt):(vr=this.findINode(Fe,et),mr=this.getDirListing(Fe,et,vr)),mr[ft]){var Pr=this.getINode(Fe,Ee,mr[ft]);if(Pr.isFile())try{Fe.del(Pr.id),Fe.del(mr[ft])}catch(jr){throw Fe.abort(),jr}else throw _e.EPERM(Ee)}mr[ft]=rr;try{Fe.put(kt.id,f.from(JSON.stringify(Wt)),!0),Fe.put(vr.id,f.from(JSON.stringify(mr)),!0)}catch(jr){throw Fe.abort(),jr}Fe.commit()},d.prototype.statSync=function(h,Ee){return this.findINode(this.store.beginTransaction("readonly"),h).toStats()},d.prototype.createFileSync=function(h,Ee,Fe){var Me=this.store.beginTransaction("readwrite"),Ge=or(),et=this.commitNewFile(Me,h,Ve.FILE,Fe,Ge);return new vo(this,h,Ee,et.toStats(),Ge)},d.prototype.openFileSync=function(h,Ee){var Fe=this.store.beginTransaction("readonly"),Me=this.findINode(Fe,h),Ge=Fe.get(Me.id);if(Ge===void 0)throw _e.ENOENT(h);return new vo(this,h,Ee,Me.toStats(),Ge)},d.prototype.unlinkSync=function(h){this.removeEntry(h,!1)},d.prototype.rmdirSync=function(h){if(this.readdirSync(h).length>0)throw _e.ENOTEMPTY(h);this.removeEntry(h,!0)},d.prototype.mkdirSync=function(h,Ee){var Fe=this.store.beginTransaction("readwrite"),Me=f.from("{}");this.commitNewFile(Fe,h,Ve.DIRECTORY,Ee,Me)},d.prototype.readdirSync=function(h){var Ee=this.store.beginTransaction("readonly");return Object.keys(this.getDirListing(Ee,h,this.findINode(Ee,h)))},d.prototype._syncSync=function(h,Ee,Fe){var Me=this.store.beginTransaction("readwrite"),Ge=this._findINode(Me,Oe.dirname(h),Oe.basename(h)),et=this.getINode(Me,h,Ge),ft=et.update(Fe);try{Me.put(et.id,Ee,!0),ft&&Me.put(Ge,et.toBuffer(),!0)}catch(kt){throw Me.abort(),kt}Me.commit()},d.prototype.makeRootDirectory=function(){var h=this.store.beginTransaction("readwrite");if(h.get(ki)===void 0){var Ee=new Date().getTime(),Fe=new Hn(vn(),4096,511|Ve.DIRECTORY,Ee,Ee,Ee);h.put(Fe.id,di(),!1),h.put(ki,Fe.toBuffer(),!1),h.commit()}},d.prototype._findINode=function(h,Ee,Fe){var Me=this,Ge=function(et){var ft=Me.getDirListing(h,Ee,et);if(ft[Fe])return ft[Fe];throw _e.ENOENT(Oe.resolve(Ee,Fe))};return Ee==="/"?Fe===""?ki:Ge(this.getINode(h,Ee,ki)):Ge(this.getINode(h,Ee+Oe.sep+Fe,this._findINode(h,Oe.dirname(Ee),Oe.basename(Ee))))},d.prototype.findINode=function(h,Ee){return this.getINode(h,Ee,this._findINode(h,Oe.dirname(Ee),Oe.basename(Ee)))},d.prototype.getINode=function(h,Ee,Fe){var Me=h.get(Fe);if(Me===void 0)throw _e.ENOENT(Ee);return Hn.fromBuffer(Me)},d.prototype.getDirListing=function(h,Ee,Fe){if(!Fe.isDirectory())throw _e.ENOTDIR(Ee);var Me=h.get(Fe.id);if(Me===void 0)throw _e.ENOENT(Ee);return JSON.parse(Me.toString())},d.prototype.addNewNode=function(h,Ee){for(var Fe=0,Me;Fe<5;)try{return Me=vn(),h.put(Me,Ee,!1),Me}catch{}throw new _e(Ae.EIO,"Unable to commit data to key-value store.")},d.prototype.commitNewFile=function(h,Ee,Fe,Me,Ge){var et=Oe.dirname(Ee),ft=Oe.basename(Ee),kt=this.findINode(h,et),Wt=this.getDirListing(h,et,kt),rr=new Date().getTime();if(Ee==="/"||Wt[ft])throw _e.EEXIST(Ee);var vr;try{var mr=this.addNewNode(h,Ge);vr=new Hn(mr,Ge.length,Me|Fe,rr,rr,rr);var Pr=this.addNewNode(h,vr.toBuffer());Wt[ft]=Pr,h.put(kt.id,f.from(JSON.stringify(Wt)),!0)}catch(jr){throw h.abort(),jr}return h.commit(),vr},d.prototype.removeEntry=function(h,Ee){var Fe=this.store.beginTransaction("readwrite"),Me=Oe.dirname(h),Ge=this.findINode(Fe,Me),et=this.getDirListing(Fe,Me,Ge),ft=Oe.basename(h);if(!et[ft])throw _e.ENOENT(h);var kt=et[ft];delete et[ft];var Wt=this.getINode(Fe,h,kt);if(!Ee&&Wt.isDirectory())throw _e.EISDIR(h);if(Ee&&!Wt.isDirectory())throw _e.ENOTDIR(h);try{Fe.del(Wt.id),Fe.del(kt),Fe.put(Ge.id,f.from(JSON.stringify(et)),!0)}catch(rr){throw Fe.abort(),rr}Fe.commit()},d}(Ht),Oi=function(ne){function d(k,h,Ee,Fe,Me){ne.call(this,k,h,Ee,Fe,Me)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.sync=function(h){var Ee=this;this.isDirty()?this._fs._sync(this.getPath(),this.getBuffer(),this.getStats(),function(Fe){Fe||Ee.resetDirty(),h(Fe)}):h()},d.prototype.close=function(h){this.sync(h)},d}(xt),Es=function(ne){function d(){ne.apply(this,arguments)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.isAvailable=function(){return!0},d.prototype.init=function(h,Ee){this.store=h,this.makeRootDirectory(Ee)},d.prototype.getName=function(){return this.store.name()},d.prototype.isReadOnly=function(){return!1},d.prototype.supportsSymlinks=function(){return!1},d.prototype.supportsProps=function(){return!1},d.prototype.supportsSynch=function(){return!1},d.prototype.empty=function(h){var Ee=this;this.store.clear(function(Fe){Nn(Fe,h)&&Ee.makeRootDirectory(h)})},d.prototype.rename=function(h,Ee,Fe){var Me=this,Ge=this.store.beginTransaction("readwrite"),et=Oe.dirname(h),ft=Oe.basename(h),kt=Oe.dirname(Ee),Wt=Oe.basename(Ee),rr={},vr={},mr=!1;if((kt+"/").indexOf(h+"/")===0)return Fe(new _e(Ae.EBUSY,et));var Pr=function(){if(!(mr||!vr.hasOwnProperty(et)||!vr.hasOwnProperty(kt))){var Hr=vr[et],En=rr[et],Mn=vr[kt],Ri=rr[kt];if(!Hr[ft])Fe(_e.ENOENT(h));else{var Fi=Hr[ft];delete Hr[ft];var wo=function(){Mn[Wt]=Fi,Ge.put(En.id,f.from(JSON.stringify(Hr)),!0,function(Hi){en(Hi,Ge,Fe)&&(et===kt?Ge.commit(Fe):Ge.put(Ri.id,f.from(JSON.stringify(Mn)),!0,function(Wi){en(Wi,Ge,Fe)&&Ge.commit(Fe)}))})};Mn[Wt]?Me.getINode(Ge,Ee,Mn[Wt],function(Hi,Wi){en(Hi,Ge,Fe)&&(Wi.isFile()?Ge.del(Wi.id,function(Hu){en(Hu,Ge,Fe)&&Ge.del(Mn[Wt],function(xf){en(xf,Ge,Fe)&&wo()})}):Ge.abort(function(Hu){Fe(_e.EPERM(Ee))}))}):wo()}}},jr=function(Hr){Me.findINodeAndDirListing(Ge,Hr,function(En,Mn,Ri){En?mr||(mr=!0,Ge.abort(function(){Fe(En)})):(rr[Hr]=Mn,vr[Hr]=Ri,Pr())})};jr(et),et!==kt&&jr(kt)},d.prototype.stat=function(h,Ee,Fe){var Me=this.store.beginTransaction("readonly");this.findINode(Me,h,function(Ge,et){Nn(Ge,Fe)&&Fe(null,et.toStats())})},d.prototype.createFile=function(h,Ee,Fe,Me){var Ge=this,et=this.store.beginTransaction("readwrite"),ft=or();this.commitNewFile(et,h,Ve.FILE,Fe,ft,function(kt,Wt){Nn(kt,Me)&&Me(null,new Oi(Ge,h,Ee,Wt.toStats(),ft))})},d.prototype.openFile=function(h,Ee,Fe){var Me=this,Ge=this.store.beginTransaction("readonly");this.findINode(Ge,h,function(et,ft){Nn(et,Fe)&&Ge.get(ft.id,function(kt,Wt){Nn(kt,Fe)&&(Wt===void 0?Fe(_e.ENOENT(h)):Fe(null,new Oi(Me,h,Ee,ft.toStats(),Wt)))})})},d.prototype.unlink=function(h,Ee){this.removeEntry(h,!1,Ee)},d.prototype.rmdir=function(h,Ee){var Fe=this;this.readdir(h,function(Me,Ge){Me?Ee(Me):Ge.length>0?Ee(_e.ENOTEMPTY(h)):Fe.removeEntry(h,!0,Ee)})},d.prototype.mkdir=function(h,Ee,Fe){var Me=this.store.beginTransaction("readwrite"),Ge=f.from("{}");this.commitNewFile(Me,h,Ve.DIRECTORY,Ee,Ge,Fe)},d.prototype.readdir=function(h,Ee){var Fe=this,Me=this.store.beginTransaction("readonly");this.findINode(Me,h,function(Ge,et){Nn(Ge,Ee)&&Fe.getDirListing(Me,h,et,function(ft,kt){Nn(ft,Ee)&&Ee(null,Object.keys(kt))})})},d.prototype._sync=function(h,Ee,Fe,Me){var Ge=this,et=this.store.beginTransaction("readwrite");this._findINode(et,Oe.dirname(h),Oe.basename(h),function(ft,kt){en(ft,et,Me)&&Ge.getINode(et,h,kt,function(Wt,rr){if(en(Wt,et,Me)){var vr=rr.update(Fe);et.put(rr.id,Ee,!0,function(mr){en(mr,et,Me)&&(vr?et.put(kt,rr.toBuffer(),!0,function(Pr){en(Pr,et,Me)&&et.commit(Me)}):et.commit(Me))})}})})},d.prototype.makeRootDirectory=function(h){var Ee=this.store.beginTransaction("readwrite");Ee.get(ki,function(Fe,Me){if(Fe||Me===void 0){var Ge=new Date().getTime(),et=new Hn(vn(),4096,511|Ve.DIRECTORY,Ge,Ge,Ge);Ee.put(et.id,di(),!1,function(ft){en(ft,Ee,h)&&Ee.put(ki,et.toBuffer(),!1,function(kt){kt?Ee.abort(function(){h(kt)}):Ee.commit(h)})})}else Ee.commit(h)})},d.prototype._findINode=function(h,Ee,Fe,Me){var Ge=this,et=function(ft,kt,Wt){ft?Me(ft):Wt[Fe]?Me(null,Wt[Fe]):Me(_e.ENOENT(Oe.resolve(Ee,Fe)))};Ee==="/"?Fe===""?Me(null,ki):this.getINode(h,Ee,ki,function(ft,kt){Nn(ft,Me)&&Ge.getDirListing(h,Ee,kt,function(Wt,rr){et(Wt,kt,rr)})}):this.findINodeAndDirListing(h,Ee,et)},d.prototype.findINode=function(h,Ee,Fe){var Me=this;this._findINode(h,Oe.dirname(Ee),Oe.basename(Ee),function(Ge,et){Nn(Ge,Fe)&&Me.getINode(h,Ee,et,Fe)})},d.prototype.getINode=function(h,Ee,Fe,Me){h.get(Fe,function(Ge,et){Nn(Ge,Me)&&(et===void 0?Me(_e.ENOENT(Ee)):Me(null,Hn.fromBuffer(et)))})},d.prototype.getDirListing=function(h,Ee,Fe,Me){Fe.isDirectory()?h.get(Fe.id,function(Ge,et){if(Nn(Ge,Me))try{Me(null,JSON.parse(et.toString()))}catch{Me(_e.ENOENT(Ee))}}):Me(_e.ENOTDIR(Ee))},d.prototype.findINodeAndDirListing=function(h,Ee,Fe){var Me=this;this.findINode(h,Ee,function(Ge,et){Nn(Ge,Fe)&&Me.getDirListing(h,Ee,et,function(ft,kt){Nn(ft,Fe)&&Fe(null,et,kt)})})},d.prototype.addNewNode=function(h,Ee,Fe){var Me=0,Ge,et=function(){++Me===5?Fe(new _e(Ae.EIO,"Unable to commit data to key-value store.")):(Ge=vn(),h.put(Ge,Ee,!1,function(ft,kt){ft||!kt?et():Fe(null,Ge)}))};et()},d.prototype.commitNewFile=function(h,Ee,Fe,Me,Ge,et){var ft=this,kt=Oe.dirname(Ee),Wt=Oe.basename(Ee),rr=new Date().getTime();if(Ee==="/")return et(_e.EEXIST(Ee));this.findINodeAndDirListing(h,kt,function(vr,mr,Pr){en(vr,h,et)&&(Pr[Wt]?h.abort(function(){et(_e.EEXIST(Ee))}):ft.addNewNode(h,Ge,function(jr,Hr){if(en(jr,h,et)){var En=new Hn(Hr,Ge.length,Me|Fe,rr,rr,rr);ft.addNewNode(h,En.toBuffer(),function(Mn,Ri){en(Mn,h,et)&&(Pr[Wt]=Ri,h.put(mr.id,f.from(JSON.stringify(Pr)),!0,function(Fi){en(Fi,h,et)&&h.commit(function(wo){en(wo,h,et)&&et(null,En)})}))})}}))})},d.prototype.removeEntry=function(h,Ee,Fe){var Me=this,Ge=this.store.beginTransaction("readwrite"),et=Oe.dirname(h),ft=Oe.basename(h);this.findINodeAndDirListing(Ge,et,function(kt,Wt,rr){if(en(kt,Ge,Fe))if(!rr[ft])Ge.abort(function(){Fe(_e.ENOENT(h))});else{var vr=rr[ft];delete rr[ft],Me.getINode(Ge,h,vr,function(mr,Pr){en(mr,Ge,Fe)&&(!Ee&&Pr.isDirectory()?Ge.abort(function(){Fe(_e.EISDIR(h))}):Ee&&!Pr.isDirectory()?Ge.abort(function(){Fe(_e.ENOTDIR(h))}):Ge.del(Pr.id,function(jr){en(jr,Ge,Fe)&&Ge.del(vr,function(Hr){en(Hr,Ge,Fe)&&Ge.put(Wt.id,f.from(JSON.stringify(rr)),!0,function(En){en(En,Ge,Fe)&&Ge.commit(Fe)})})}))})}})},d}(It),Jn=function(){this.store={}};Jn.prototype.name=function(){return Kn.Name},Jn.prototype.clear=function(){this.store={}},Jn.prototype.beginTransaction=function(d){return new yi(this)},Jn.prototype.get=function(d){return this.store[d]},Jn.prototype.put=function(d,k,h){return!h&&this.store.hasOwnProperty(d)?!1:(this.store[d]=k,!0)},Jn.prototype.del=function(d){delete this.store[d]};var Kn=function(ne){function d(){ne.call(this,{store:new Jn})}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.Create=function(h,Ee){Ee(null,new d)},d}(bs);Kn.Name="InMemory",Kn.Options={};var mo=bn.indexedDB||bn.mozIndexedDB||bn.webkitIndexedDB||bn.msIndexedDB;function Re(ne,d){switch(d===void 0&&(d=ne.toString()),ne.name){case"NotFoundError":return new _e(Ae.ENOENT,d);case"QuotaExceededError":return new _e(Ae.ENOSPC,d);default:return new _e(Ae.EIO,d)}}function Le(ne,d,k){return d===void 0&&(d=Ae.EIO),k===void 0&&(k=null),function(h){h.preventDefault(),ne(new _e(d,k!==null?k:void 0))}}var ze=function(d,k){this.tx=d,this.store=k};ze.prototype.get=function(d,k){try{var h=this.store.get(d);h.onerror=Le(k),h.onsuccess=function(Ee){var Fe=Ee.target.result;Fe===void 0?k(null,Fe):k(null,Kt(Fe))}}catch(Ee){k(Re(Ee))}};var Je=function(ne){function d(k,h){ne.call(this,k,h)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.put=function(h,Ee,Fe,Me){try{var Ge=st(Ee),et;Fe?et=this.store.put(Ge,h):et=this.store.add(Ge,h),et.onerror=Le(Me),et.onsuccess=function(ft){Me(null,!0)}}catch(ft){Me(Re(ft))}},d.prototype.del=function(h,Ee){try{var Fe=this.store.delete(h);Fe.onerror=Le(Ee),Fe.onsuccess=function(Me){Ee()}}catch(Me){Ee(Re(Me))}},d.prototype.commit=function(h){setTimeout(h,0)},d.prototype.abort=function(h){var Ee=null;try{this.tx.abort()}catch(Fe){Ee=Re(Fe)}finally{h(Ee)}},d}(ze),$e=function(d,k){var h=this;k===void 0&&(k="browserfs"),this.storeName=k;var Ee=mo.open(this.storeName,1);Ee.onupgradeneeded=function(Fe){var Me=Fe.target.result;Me.objectStoreNames.contains(h.storeName)&&Me.deleteObjectStore(h.storeName),Me.createObjectStore(h.storeName)},Ee.onsuccess=function(Fe){h.db=Fe.target.result,d(null,h)},Ee.onerror=Le(d,Ae.EACCES)};$e.prototype.name=function(){return ot.Name+" - "+this.storeName},$e.prototype.clear=function(d){try{var k=this.db.transaction(this.storeName,"readwrite"),h=k.objectStore(this.storeName),Ee=h.clear();Ee.onsuccess=function(Fe){setTimeout(d,0)},Ee.onerror=Le(d)}catch(Fe){d(Re(Fe))}},$e.prototype.beginTransaction=function(d){d===void 0&&(d="readonly");var k=this.db.transaction(this.storeName,d),h=k.objectStore(this.storeName);if(d==="readwrite")return new Je(k,h);if(d==="readonly")return new ze(k,h);throw new _e(Ae.EINVAL,"Invalid transaction type.")};var ot=function(ne){function d(k,h,Ee){var Fe=this;Ee===void 0&&(Ee=!0),ne.call(this),this.store=new $e(function(Me){Me?k(Me):Fe.init(Fe.store,function(Ge){k(Ge,Fe)})},h),Zt(Ee,d.Name,{storeName:h})}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.Create=function(h,Ee){new d(Ee,h.storeName,!1)},d.isAvailable=function(){try{return typeof mo<"u"&&mo.open("__browserfs_test__")!==null}catch{return!1}},d}(Es);ot.Name="IndexedDB",ot.Options={storeName:{type:"string",optional:!0,description:"The name of this file system. You can have multiple IndexedDB file systems operating at once, but each must have a different name."}};var _t=!1,wt;try{bn.localStorage.setItem("__test__",String.fromCharCode(55296)),_t=bn.localStorage.getItem("__test__")===String.fromCharCode(55296)}catch{_t=!1}wt=_t?"binary_string":"binary_string_ie",f.isEncoding(wt)||(wt="base64");var Dt=function(){};Dt.prototype.name=function(){return Tt.Name},Dt.prototype.clear=function(){bn.localStorage.clear()},Dt.prototype.beginTransaction=function(d){return new yi(this)},Dt.prototype.get=function(d){try{var k=bn.localStorage.getItem(d);if(k!==null)return f.from(k,wt)}catch{}},Dt.prototype.put=function(d,k,h){try{return!h&&bn.localStorage.getItem(d)!==null?!1:(bn.localStorage.setItem(d,k.toString(wt)),!0)}catch{throw new _e(Ae.ENOSPC,"LocalStorage is full.")}},Dt.prototype.del=function(d){try{bn.localStorage.removeItem(d)}catch(k){throw new _e(Ae.EIO,"Unable to delete key "+d+": "+k)}};var Tt=function(ne){function d(){ne.call(this,{store:new Dt})}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.Create=function(h,Ee){Ee(null,new d)},d.isAvailable=function(){return typeof bn.localStorage<"u"},d}(bs);Tt.Name="LocalStorage",Tt.Options={};var Mt=function(ne){function d(){ne.call(this),this.mountList=[],this.mntMap={},this.rootFs=new Kn}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.Create=function(h,Ee){var Fe=new d;Object.keys(h).forEach(function(Me){Fe.mount(Me,h[Me])}),Ee(null,Fe)},d.isAvailable=function(){return!0},d.prototype.mount=function(h,Ee){if(h[0]!=="/"&&(h="/"+h),h=Oe.resolve(h),this.mntMap[h])throw new _e(Ae.EINVAL,"Mount point "+h+" is already taken.");St(h,511,this.rootFs),this.mntMap[h]=Ee,this.mountList.push(h),this.mountList=this.mountList.sort(function(Fe,Me){return Me.length-Fe.length})},d.prototype.umount=function(h){var Ee=this;if(h[0]!=="/"&&(h="/"+h),h=Oe.resolve(h),!this.mntMap[h])throw new _e(Ae.EINVAL,"Mount point "+h+" is already unmounted.");for(delete this.mntMap[h],this.mountList.splice(this.mountList.indexOf(h),1);h!=="/"&&Ee.rootFs.readdirSync(h).length===0;)Ee.rootFs.rmdirSync(h),h=Oe.dirname(h)},d.prototype._getFs=function(h){for(var Ee=this,Fe=this.mountList,Me=Fe.length,Ge=0;Ge<Me;Ge++){var et=Fe[Ge];if(et.length<=h.length&&h.indexOf(et)===0)return h=h.substr(et.length>1?et.length:0),h===""&&(h="/"),{fs:Ee.mntMap[et],path:h}}return{fs:this.rootFs,path:h}},d.prototype.getName=function(){return d.Name},d.prototype.diskSpace=function(h,Ee){Ee(0,0)},d.prototype.isReadOnly=function(){return!1},d.prototype.supportsLinks=function(){return!1},d.prototype.supportsProps=function(){return!1},d.prototype.supportsSynch=function(){return!0},d.prototype.standardizeError=function(h,Ee,Fe){var Me=h.message.indexOf(Ee);return Me!==-1&&(h.message=h.message.substr(0,Me)+Fe+h.message.substr(Me+Ee.length),h.path=Fe),h},d.prototype.rename=function(h,Ee,Fe){var Me=this,Ge=this._getFs(h),et=this._getFs(Ee);return Ge.fs===et.fs?Ge.fs.rename(Ge.path,et.path,function(ft){ft&&Me.standardizeError(Me.standardizeError(ft,Ge.path,h),et.path,Ee),Fe(ft)}):nt.readFile(h,function(ft,kt){if(ft)return Fe(ft);nt.writeFile(Ee,kt,function(Wt){if(Wt)return Fe(Wt);nt.unlink(h,Fe)})})},d.prototype.renameSync=function(h,Ee){var Fe=this._getFs(h),Me=this._getFs(Ee);if(Fe.fs===Me.fs)try{return Fe.fs.renameSync(Fe.path,Me.path)}catch(et){throw this.standardizeError(this.standardizeError(et,Fe.path,h),Me.path,Ee),et}var Ge=nt.readFileSync(h);return nt.writeFileSync(Ee,Ge),nt.unlinkSync(h)},d.prototype.readdirSync=function(h){var Ee=this._getFs(h),Fe=null;if(Ee.fs!==this.rootFs)try{Fe=this.rootFs.readdirSync(h)}catch{}try{var Me=Ee.fs.readdirSync(Ee.path);return Fe===null?Me:Me.concat(Fe.filter(function(Ge){return Me.indexOf(Ge)===-1}))}catch(Ge){if(Fe===null)throw this.standardizeError(Ge,Ee.path,h);return Fe}},d.prototype.readdir=function(h,Ee){var Fe=this,Me=this._getFs(h);Me.fs.readdir(Me.path,function(Ge,et){if(Me.fs!==Fe.rootFs)try{var ft=Fe.rootFs.readdirSync(h);et?et=et.concat(ft.filter(function(kt){return et.indexOf(kt)===-1})):et=ft}catch{if(Ge)return Ee(Fe.standardizeError(Ge,Me.path,h))}else if(Ge)return Ee(Fe.standardizeError(Ge,Me.path,h));Ee(null,et)})},d.prototype.rmdirSync=function(h){var Ee=this._getFs(h);if(this._containsMountPt(h))throw _e.ENOTEMPTY(h);try{Ee.fs.rmdirSync(Ee.path)}catch(Fe){throw this.standardizeError(Fe,Ee.path,h)}},d.prototype.rmdir=function(h,Ee){var Fe=this,Me=this._getFs(h);this._containsMountPt(h)?Ee(_e.ENOTEMPTY(h)):Me.fs.rmdir(Me.path,function(Ge){Ee(Ge?Fe.standardizeError(Ge,Me.path,h):null)})},d.prototype._containsMountPt=function(h){for(var Ee=this.mountList,Fe=Ee.length,Me=0;Me<Fe;Me++){var Ge=Ee[Me];if(Ge.length>=h.length&&Ge.slice(0,h.length)===h)return!0}return!1},d}(It);Mt.Name="MountableFileSystem",Mt.Options={};function Ot(ne,d,k){return d?function(){for(var h=[],Ee=arguments.length;Ee--;)h[Ee]=arguments[Ee];var Fe=h[0],Me=this._getFs(Fe);h[0]=Me.path;try{return Me.fs[ne].apply(Me.fs,h)}catch(Ge){throw this.standardizeError(Ge,Me.path,Fe),Ge}}:function(){for(var h=this,Ee=[],Fe=arguments.length;Fe--;)Ee[Fe]=arguments[Fe];var Me=Ee[0],Ge=this._getFs(Me);if(Ee[0]=Ge.path,typeof Ee[Ee.length-1]=="function"){var et=Ee[Ee.length-1];Ee[Ee.length-1]=function(){for(var ft=[],kt=arguments.length;kt--;)ft[kt]=arguments[kt];ft.length>0&&ft[0]instanceof _e&&h.standardizeError(ft[0],Ge.path,Me),et.apply(null,ft)}}return Ge.fs[ne].apply(Ge.fs,Ee)}}for(var Ut=[["exists","unlink","readlink"],["stat","mkdir","realpath","truncate"],["open","readFile","chmod","utimes"],["chown"],["writeFile","appendFile"]],Pt=0;Pt<Ut.length;Pt++)for(var Nt=Ut[Pt],Vt=0,qt=Nt;Vt<qt.length;Vt+=1){var Gt=qt[Vt];Mt.prototype[Gt]=Ot(Gt,!1),Mt.prototype[Gt+"Sync"]=Ot(Gt+"Sync",!0)}var Qt;if(typeof setImmediate<"u")Qt=setImmediate;else{var Yt=bn,tr=[],hr="zero-timeout-message",Ar=function(){if(typeof Yt.importScripts<"u"||!Yt.postMessage)return!1;var ne=!0,d=Yt.onmessage;return Yt.onmessage=function(){ne=!1},Yt.postMessage("","*"),Yt.onmessage=d,ne};if(Ar()){Qt=function(ne){tr.push(ne),Yt.postMessage(hr,"*")};var xr=function(ne){if(ne.source===self&&ne.data===hr&&(ne.stopPropagation?ne.stopPropagation():ne.cancelBubble=!0,tr.length>0)){var d=tr.shift();return d()}};Yt.addEventListener?Yt.addEventListener("message",xr,!0):Yt.attachEvent("onmessage",xr)}else if(Yt.MessageChannel){var br=new Yt.MessageChannel;br.port1.onmessage=function(ne){if(tr.length>0)return tr.shift()()},Qt=function(ne){tr.push(ne),br.port2.postMessage("")}}else Qt=function(ne){return setTimeout(ne,0)}}var Sr=Qt,lr=function(){this._locked=!1,this._waiters=[]};lr.prototype.lock=function(d){if(this._locked){this._waiters.push(d);return}this._locked=!0,d()},lr.prototype.unlock=function(){if(!this._locked)throw new Error("unlock of a non-locked mutex");var d=this._waiters.shift();if(d){Sr(d);return}this._locked=!1},lr.prototype.tryLock=function(){return this._locked?!1:(this._locked=!0,!0)},lr.prototype.isLocked=function(){return this._locked};var _r=function(d){this._fs=d,this._mu=new lr};_r.prototype.getName=function(){return"LockedFS<"+this._fs.getName()+">"},_r.prototype.getFSUnlocked=function(){return this._fs},_r.prototype.initialize=function(d){this._fs.initialize(d)},_r.prototype.diskSpace=function(d,k){this._fs.diskSpace(d,k)},_r.prototype.isReadOnly=function(){return this._fs.isReadOnly()},_r.prototype.supportsLinks=function(){return this._fs.supportsLinks()},_r.prototype.supportsProps=function(){return this._fs.supportsProps()},_r.prototype.supportsSynch=function(){return this._fs.supportsSynch()},_r.prototype.rename=function(d,k,h){var Ee=this;this._mu.lock(function(){Ee._fs.rename(d,k,function(Fe){Ee._mu.unlock(),h(Fe)})})},_r.prototype.renameSync=function(d,k){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.renameSync(d,k)},_r.prototype.stat=function(d,k,h){var Ee=this;this._mu.lock(function(){Ee._fs.stat(d,k,function(Fe,Me){Ee._mu.unlock(),h(Fe,Me)})})},_r.prototype.statSync=function(d,k){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.statSync(d,k)},_r.prototype.open=function(d,k,h,Ee){var Fe=this;this._mu.lock(function(){Fe._fs.open(d,k,h,function(Me,Ge){Fe._mu.unlock(),Ee(Me,Ge)})})},_r.prototype.openSync=function(d,k,h){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.openSync(d,k,h)},_r.prototype.unlink=function(d,k){var h=this;this._mu.lock(function(){h._fs.unlink(d,function(Ee){h._mu.unlock(),k(Ee)})})},_r.prototype.unlinkSync=function(d){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.unlinkSync(d)},_r.prototype.rmdir=function(d,k){var h=this;this._mu.lock(function(){h._fs.rmdir(d,function(Ee){h._mu.unlock(),k(Ee)})})},_r.prototype.rmdirSync=function(d){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.rmdirSync(d)},_r.prototype.mkdir=function(d,k,h){var Ee=this;this._mu.lock(function(){Ee._fs.mkdir(d,k,function(Fe){Ee._mu.unlock(),h(Fe)})})},_r.prototype.mkdirSync=function(d,k){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.mkdirSync(d,k)},_r.prototype.readdir=function(d,k){var h=this;this._mu.lock(function(){h._fs.readdir(d,function(Ee,Fe){h._mu.unlock(),k(Ee,Fe)})})},_r.prototype.readdirSync=function(d){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readdirSync(d)},_r.prototype.exists=function(d,k){var h=this;this._mu.lock(function(){h._fs.exists(d,function(Ee){h._mu.unlock(),k(Ee)})})},_r.prototype.existsSync=function(d){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.existsSync(d)},_r.prototype.realpath=function(d,k,h){var Ee=this;this._mu.lock(function(){Ee._fs.realpath(d,k,function(Fe,Me){Ee._mu.unlock(),h(Fe,Me)})})},_r.prototype.realpathSync=function(d,k){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.realpathSync(d,k)},_r.prototype.truncate=function(d,k,h){var Ee=this;this._mu.lock(function(){Ee._fs.truncate(d,k,function(Fe){Ee._mu.unlock(),h(Fe)})})},_r.prototype.truncateSync=function(d,k){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.truncateSync(d,k)},_r.prototype.readFile=function(d,k,h,Ee){var Fe=this;this._mu.lock(function(){Fe._fs.readFile(d,k,h,function(Me,Ge){Fe._mu.unlock(),Ee(Me,Ge)})})},_r.prototype.readFileSync=function(d,k,h){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readFileSync(d,k,h)},_r.prototype.writeFile=function(d,k,h,Ee,Fe,Me){var Ge=this;this._mu.lock(function(){Ge._fs.writeFile(d,k,h,Ee,Fe,function(et){Ge._mu.unlock(),Me(et)})})},_r.prototype.writeFileSync=function(d,k,h,Ee,Fe){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.writeFileSync(d,k,h,Ee,Fe)},_r.prototype.appendFile=function(d,k,h,Ee,Fe,Me){var Ge=this;this._mu.lock(function(){Ge._fs.appendFile(d,k,h,Ee,Fe,function(et){Ge._mu.unlock(),Me(et)})})},_r.prototype.appendFileSync=function(d,k,h,Ee,Fe){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.appendFileSync(d,k,h,Ee,Fe)},_r.prototype.chmod=function(d,k,h,Ee){var Fe=this;this._mu.lock(function(){Fe._fs.chmod(d,k,h,function(Me){Fe._mu.unlock(),Ee(Me)})})},_r.prototype.chmodSync=function(d,k,h){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chmodSync(d,k,h)},_r.prototype.chown=function(d,k,h,Ee,Fe){var Me=this;this._mu.lock(function(){Me._fs.chown(d,k,h,Ee,function(Ge){Me._mu.unlock(),Fe(Ge)})})},_r.prototype.chownSync=function(d,k,h,Ee){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chownSync(d,k,h,Ee)},_r.prototype.utimes=function(d,k,h,Ee){var Fe=this;this._mu.lock(function(){Fe._fs.utimes(d,k,h,function(Me){Fe._mu.unlock(),Ee(Me)})})},_r.prototype.utimesSync=function(d,k,h){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.utimesSync(d,k,h)},_r.prototype.link=function(d,k,h){var Ee=this;this._mu.lock(function(){Ee._fs.link(d,k,function(Fe){Ee._mu.unlock(),h(Fe)})})},_r.prototype.linkSync=function(d,k){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.linkSync(d,k)},_r.prototype.symlink=function(d,k,h,Ee){var Fe=this;this._mu.lock(function(){Fe._fs.symlink(d,k,h,function(Me){Fe._mu.unlock(),Ee(Me)})})},_r.prototype.symlinkSync=function(d,k,h){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.symlinkSync(d,k,h)},_r.prototype.readlink=function(d,k){var h=this;this._mu.lock(function(){h._fs.readlink(d,function(Ee,Fe){h._mu.unlock(),k(Ee,Fe)})})},_r.prototype.readlinkSync=function(d){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readlinkSync(d)};var Ur="/.deletedFiles.log";function Wr(ne){return 146|ne}function Lr(ne){return Ne.getFileFlag(ne)}var Xn=function(ne){function d(k,h,Ee,Fe,Me){ne.call(this,k,h,Ee,Fe,Me)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.sync=function(h){var Ee=this;if(!this.isDirty()){h(null);return}this._fs._syncAsync(this,function(Fe){Ee.resetDirty(),h(Fe)})},d.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},d.prototype.close=function(h){this.sync(h)},d.prototype.closeSync=function(){this.syncSync()},d}(xt),zr=function(ne){function d(k,h){if(ne.call(this),this._isInitialized=!1,this._initializeCallbacks=[],this._deletedFiles={},this._deleteLog="",this._deleteLogUpdatePending=!1,this._deleteLogUpdateNeeded=!1,this._deleteLogError=null,this._writable=k,this._readable=h,this._writable.isReadOnly())throw new _e(Ae.EINVAL,"Writable file system must be writable.")}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.isAvailable=function(){return!0},d.prototype.getOverlayedFileSystems=function(){return{readable:this._readable,writable:this._writable}},d.prototype._syncAsync=function(h,Ee){var Fe=this;this.createParentDirectoriesAsync(h.getPath(),function(Me){if(Me)return Ee(Me);Fe._writable.writeFile(h.getPath(),h.getBuffer(),null,Lr("w"),h.getStats().mode,Ee)})},d.prototype._syncSync=function(h){this.createParentDirectories(h.getPath()),this._writable.writeFileSync(h.getPath(),h.getBuffer(),null,Lr("w"),h.getStats().mode)},d.prototype.getName=function(){return An.Name},d.prototype.initialize=function(h){var Ee=this,Fe=this._initializeCallbacks,Me=function(Ge){Ee._isInitialized=!Ge,Ee._initializeCallbacks=[],Fe.forEach(function(et){return et(Ge)})};if(this._isInitialized)return h();Fe.push(h),Fe.length===1&&this._writable.readFile(Ur,"utf8",Lr("r"),function(Ge,et){if(Ge){if(Ge.errno!==Ae.ENOENT)return Me(Ge)}else Ee._deleteLog=et;Ee._reparseDeletionLog(),Me()})},d.prototype.isReadOnly=function(){return!1},d.prototype.supportsSynch=function(){return this._readable.supportsSynch()&&this._writable.supportsSynch()},d.prototype.supportsLinks=function(){return!1},d.prototype.supportsProps=function(){return this._readable.supportsProps()&&this._writable.supportsProps()},d.prototype.getDeletionLog=function(){return this._deleteLog},d.prototype.restoreDeletionLog=function(h){this._deleteLog=h,this._reparseDeletionLog(),this.updateLog("")},d.prototype.rename=function(h,Ee,Fe){var Me=this;if(!(!this.checkInitAsync(Fe)||this.checkPathAsync(h,Fe)||this.checkPathAsync(Ee,Fe))){if(h===Ur||Ee===Ur)return Fe(_e.EPERM("Cannot rename deletion log."));if(h===Ee)return Fe();this.stat(h,!1,function(Ge,et){return Ge?Fe(Ge):Me.stat(Ee,!1,function(ft,kt){var Wt=Me;function rr(mr){var Pr=mr.shift();if(!Pr)return Fe();var jr=Oe.resolve(h,Pr),Hr=Oe.resolve(Ee,Pr);Wt.rename(jr,Hr,function(En){if(En)return Fe(En);rr(mr)})}var vr=511;if(et.isDirectory()){if(ft)return ft.errno!==Ae.ENOENT?Fe(ft):Me._writable.exists(h,function(mr){if(mr)return Me._writable.rename(h,Ee,Fe);Me._writable.mkdir(Ee,vr,function(Pr){if(Pr)return Fe(Pr);Me._readable.readdir(h,function(jr,Hr){if(jr)return Fe();rr(Hr)})})});if(vr=kt.mode,!kt.isDirectory())return Fe(_e.ENOTDIR(Ee));Me.readdir(Ee,function(mr,Pr){if(Pr&&Pr.length)return Fe(_e.ENOTEMPTY(Ee));Me._readable.readdir(h,function(jr,Hr){if(jr)return Fe();rr(Hr)})})}if(kt&&kt.isDirectory())return Fe(_e.EISDIR(Ee));Me.readFile(h,null,Lr("r"),function(mr,Pr){return mr?Fe(mr):Me.writeFile(Ee,Pr,null,Lr("w"),et.mode,function(jr){return jr?Fe(jr):Me.unlink(h,Fe)})})})})}},d.prototype.renameSync=function(h,Ee){var Fe=this;if(this.checkInitialized(),this.checkPath(h),this.checkPath(Ee),h===Ur||Ee===Ur)throw _e.EPERM("Cannot rename deletion log.");var Me=this.statSync(h,!1);if(Me.isDirectory()){if(h===Ee)return;var Ge=511;if(this.existsSync(Ee)){var et=this.statSync(Ee,!1);if(Ge=et.mode,et.isDirectory()){if(this.readdirSync(Ee).length>0)throw _e.ENOTEMPTY(Ee)}else throw _e.ENOTDIR(Ee)}this._writable.existsSync(h)?this._writable.renameSync(h,Ee):this._writable.existsSync(Ee)||this._writable.mkdirSync(Ee,Ge),this._readable.existsSync(h)&&this._readable.readdirSync(h).forEach(function(ft){Fe.renameSync(Oe.resolve(h,ft),Oe.resolve(Ee,ft))})}else{if(this.existsSync(Ee)&&this.statSync(Ee,!1).isDirectory())throw _e.EISDIR(Ee);this.writeFileSync(Ee,this.readFileSync(h,null,Lr("r")),null,Lr("w"),Me.mode)}h!==Ee&&this.existsSync(h)&&this.unlinkSync(h)},d.prototype.stat=function(h,Ee,Fe){var Me=this;this.checkInitAsync(Fe)&&this._writable.stat(h,Ee,function(Ge,et){Ge&&Ge.errno===Ae.ENOENT?(Me._deletedFiles[h]&&Fe(_e.ENOENT(h)),Me._readable.stat(h,Ee,function(ft,kt){kt&&(kt=kt.clone(),kt.mode=Wr(kt.mode)),Fe(ft,kt)})):Fe(Ge,et)})},d.prototype.statSync=function(h,Ee){this.checkInitialized();try{return this._writable.statSync(h,Ee)}catch{if(this._deletedFiles[h])throw _e.ENOENT(h);var Fe=this._readable.statSync(h,Ee).clone();return Fe.mode=Wr(Fe.mode),Fe}},d.prototype.open=function(h,Ee,Fe,Me){var Ge=this;!this.checkInitAsync(Me)||this.checkPathAsync(h,Me)||this.stat(h,!1,function(et,ft){if(ft)switch(Ee.pathExistsAction()){case Be.TRUNCATE_FILE:return Ge.createParentDirectoriesAsync(h,function(kt){if(kt)return Me(kt);Ge._writable.open(h,Ee,Fe,Me)});case Be.NOP:return Ge._writable.exists(h,function(kt){kt?Ge._writable.open(h,Ee,Fe,Me):(ft=ft.clone(),ft.mode=Fe,Ge._readable.readFile(h,null,Lr("r"),function(Wt,rr){if(Wt)return Me(Wt);ft.size===-1&&(ft.size=rr.length);var vr=new Xn(Ge,h,Ee,ft,rr);Me(null,vr)}))});default:return Me(_e.EEXIST(h))}else switch(Ee.pathNotExistsAction()){case Be.CREATE_FILE:return Ge.createParentDirectoriesAsync(h,function(kt){return kt?Me(kt):Ge._writable.open(h,Ee,Fe,Me)});default:return Me(_e.ENOENT(h))}})},d.prototype.openSync=function(h,Ee,Fe){if(this.checkInitialized(),this.checkPath(h),h===Ur)throw _e.EPERM("Cannot open deletion log.");if(this.existsSync(h))switch(Ee.pathExistsAction()){case Be.TRUNCATE_FILE:return this.createParentDirectories(h),this._writable.openSync(h,Ee,Fe);case Be.NOP:if(this._writable.existsSync(h))return this._writable.openSync(h,Ee,Fe);var Me=this._readable.readFileSync(h,null,Lr("r")),Ge=this._readable.statSync(h,!1).clone();return Ge.mode=Fe,new Xn(this,h,Ee,Ge,Me);default:throw _e.EEXIST(h)}else switch(Ee.pathNotExistsAction()){case Be.CREATE_FILE:return this.createParentDirectories(h),this._writable.openSync(h,Ee,Fe);default:throw _e.ENOENT(h)}},d.prototype.unlink=function(h,Ee){var Fe=this;!this.checkInitAsync(Ee)||this.checkPathAsync(h,Ee)||this.exists(h,function(Me){if(!Me)return Ee(_e.ENOENT(h));Fe._writable.exists(h,function(Ge){if(Ge)return Fe._writable.unlink(h,function(et){if(et)return Ee(et);Fe.exists(h,function(ft){ft&&Fe.deletePath(h),Ee(null)})});Fe.deletePath(h),Ee(null)})})},d.prototype.unlinkSync=function(h){if(this.checkInitialized(),this.checkPath(h),this.existsSync(h))this._writable.existsSync(h)&&this._writable.unlinkSync(h),this.existsSync(h)&&this.deletePath(h);else throw _e.ENOENT(h)},d.prototype.rmdir=function(h,Ee){var Fe=this;if(this.checkInitAsync(Ee)){var Me=function(){Fe.readdir(h,function(Ge,et){if(Ge)return Ee(Ge);if(et.length)return Ee(_e.ENOTEMPTY(h));Fe.deletePath(h),Ee(null)})};this.exists(h,function(Ge){if(!Ge)return Ee(_e.ENOENT(h));Fe._writable.exists(h,function(et){et?Fe._writable.rmdir(h,function(ft){if(ft)return Ee(ft);Fe._readable.exists(h,function(kt){kt?Me():Ee()})}):Me()})})}},d.prototype.rmdirSync=function(h){if(this.checkInitialized(),this.existsSync(h)){if(this._writable.existsSync(h)&&this._writable.rmdirSync(h),this.existsSync(h)){if(this.readdirSync(h).length>0)throw _e.ENOTEMPTY(h);this.deletePath(h)}}else throw _e.ENOENT(h)},d.prototype.mkdir=function(h,Ee,Fe){var Me=this;this.checkInitAsync(Fe)&&this.exists(h,function(Ge){if(Ge)return Fe(_e.EEXIST(h));Me.createParentDirectoriesAsync(h,function(et){if(et)return Fe(et);Me._writable.mkdir(h,Ee,Fe)})})},d.prototype.mkdirSync=function(h,Ee){if(this.checkInitialized(),this.existsSync(h))throw _e.EEXIST(h);this.createParentDirectories(h),this._writable.mkdirSync(h,Ee)},d.prototype.readdir=function(h,Ee){var Fe=this;this.checkInitAsync(Ee)&&this.stat(h,!1,function(Me,Ge){if(Me)return Ee(Me);if(!Ge.isDirectory())return Ee(_e.ENOTDIR(h));Fe._writable.readdir(h,function(et,ft){if(et&&et.code!=="ENOENT")return Ee(et);(et||!ft)&&(ft=[]),Fe._readable.readdir(h,function(kt,Wt){(kt||!Wt)&&(Wt=[]);var rr={},vr=ft.concat(Wt.filter(function(mr){return!Fe._deletedFiles[h+"/"+mr]})).filter(function(mr){var Pr=!rr[mr];return rr[mr]=!0,Pr});Ee(null,vr)})})})},d.prototype.readdirSync=function(h){var Ee=this;this.checkInitialized();var Fe=this.statSync(h,!1);if(!Fe.isDirectory())throw _e.ENOTDIR(h);var Me=[];try{Me=Me.concat(this._writable.readdirSync(h))}catch{}try{Me=Me.concat(this._readable.readdirSync(h).filter(function(et){return!Ee._deletedFiles[h+"/"+et]}))}catch{}var Ge={};return Me.filter(function(et){var ft=!Ge[et];return Ge[et]=!0,ft})},d.prototype.exists=function(h,Ee){var Fe=this;this.checkInitialized(),this._writable.exists(h,function(Me){if(Me)return Ee(!0);Fe._readable.exists(h,function(Ge){Ee(Ge&&Fe._deletedFiles[h]!==!0)})})},d.prototype.existsSync=function(h){return this.checkInitialized(),this._writable.existsSync(h)||this._readable.existsSync(h)&&this._deletedFiles[h]!==!0},d.prototype.chmod=function(h,Ee,Fe,Me){var Ge=this;this.checkInitAsync(Me)&&this.operateOnWritableAsync(h,function(et){if(et)return Me(et);Ge._writable.chmod(h,Ee,Fe,Me)})},d.prototype.chmodSync=function(h,Ee,Fe){var Me=this;this.checkInitialized(),this.operateOnWritable(h,function(){Me._writable.chmodSync(h,Ee,Fe)})},d.prototype.chown=function(h,Ee,Fe,Me,Ge){var et=this;this.checkInitAsync(Ge)&&this.operateOnWritableAsync(h,function(ft){if(ft)return Ge(ft);et._writable.chown(h,Ee,Fe,Me,Ge)})},d.prototype.chownSync=function(h,Ee,Fe,Me){var Ge=this;this.checkInitialized(),this.operateOnWritable(h,function(){Ge._writable.chownSync(h,Ee,Fe,Me)})},d.prototype.utimes=function(h,Ee,Fe,Me){var Ge=this;this.checkInitAsync(Me)&&this.operateOnWritableAsync(h,function(et){if(et)return Me(et);Ge._writable.utimes(h,Ee,Fe,Me)})},d.prototype.utimesSync=function(h,Ee,Fe){var Me=this;this.checkInitialized(),this.operateOnWritable(h,function(){Me._writable.utimesSync(h,Ee,Fe)})},d.prototype.deletePath=function(h){this._deletedFiles[h]=!0,this.updateLog("d"+h+`
`)},d.prototype.updateLog=function(h){var Ee=this;this._deleteLog+=h,this._deleteLogUpdatePending?this._deleteLogUpdateNeeded=!0:(this._deleteLogUpdatePending=!0,this._writable.writeFile(Ur,this._deleteLog,"utf8",Ne.getFileFlag("w"),420,function(Fe){Ee._deleteLogUpdatePending=!1,Fe?Ee._deleteLogError=Fe:Ee._deleteLogUpdateNeeded&&(Ee._deleteLogUpdateNeeded=!1,Ee.updateLog(""))}))},d.prototype._reparseDeletionLog=function(){var h=this;this._deletedFiles={},this._deleteLog.split(`
`).forEach(function(Ee){h._deletedFiles[Ee.slice(1)]=Ee.slice(0,1)==="d"})},d.prototype.checkInitialized=function(){if(this._isInitialized){if(this._deleteLogError!==null){var h=this._deleteLogError;throw this._deleteLogError=null,h}}else throw new _e(Ae.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.")},d.prototype.checkInitAsync=function(h){if(this._isInitialized){if(this._deleteLogError!==null){var Ee=this._deleteLogError;return this._deleteLogError=null,h(Ee),!1}}else return h(new _e(Ae.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.")),!1;return!0},d.prototype.checkPath=function(h){if(h===Ur)throw _e.EPERM(h)},d.prototype.checkPathAsync=function(h,Ee){return h===Ur?(Ee(_e.EPERM(h)),!0):!1},d.prototype.createParentDirectoriesAsync=function(h,Ee){var Fe=Oe.dirname(h),Me=[],Ge=this;this._writable.stat(Fe,!1,et);function et(kt,Wt){kt?(Me.push(Fe),Fe=Oe.dirname(Fe),Ge._writable.stat(Fe,!1,et)):ft()}function ft(){if(!Me.length)return Ee();var kt=Me.pop();Ge._readable.stat(kt,!1,function(Wt,rr){if(!rr)return Ee();Ge._writable.mkdir(kt,rr.mode,function(vr){if(vr)return Ee(vr);ft()})})}},d.prototype.createParentDirectories=function(h){for(var Ee=this,Fe=Oe.dirname(h),Me=[];!this._writable.existsSync(Fe);)Me.push(Fe),Fe=Oe.dirname(Fe);Me=Me.reverse(),Me.forEach(function(Ge){Ee._writable.mkdirSync(Ge,Ee.statSync(Ge,!1).mode)})},d.prototype.operateOnWritable=function(h,Ee){if(this.existsSync(h))this._writable.existsSync(h)||this.copyToWritable(h),Ee();else throw _e.ENOENT(h)},d.prototype.operateOnWritableAsync=function(h,Ee){var Fe=this;this.exists(h,function(Me){if(!Me)return Ee(_e.ENOENT(h));Fe._writable.exists(h,function(Ge){if(Ge)Ee();else return Fe.copyToWritableAsync(h,Ee)})})},d.prototype.copyToWritable=function(h){var Ee=this.statSync(h,!1);Ee.isDirectory()?this._writable.mkdirSync(h,Ee.mode):this.writeFileSync(h,this._readable.readFileSync(h,null,Lr("r")),null,Lr("w"),this.statSync(h,!1).mode)},d.prototype.copyToWritableAsync=function(h,Ee){var Fe=this;this.stat(h,!1,function(Me,Ge){if(Me)return Ee(Me);if(Ge.isDirectory())return Fe._writable.mkdir(h,Ge.mode,Ee);Fe._readable.readFile(h,null,Lr("r"),function(et,ft){if(et)return Ee(et);Fe.writeFile(h,ft,null,Lr("w"),Ge.mode,Ee)})})},d}(It),An=function(ne){function d(k,h,Ee){Ee===void 0&&(Ee=!0),ne.call(this,new zr(k,h)),Zt(Ee,d.Name,{readable:"readable file system",writable:"writable file system"})}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.Create=function(h,Ee){try{var Fe=new d(h.writable,h.readable,!1);Fe.initialize(function(Me){Ee(Me,Fe)},!1)}catch(Me){Ee(Me)}},d.isAvailable=function(){return zr.isAvailable()},d.prototype.initialize=function(h,Ee){Ee===void 0&&(Ee=!0),Ee&&console.warn("[OverlayFS] OverlayFS.initialize() is deprecated and will be removed in the next major release. Please use 'OverlayFS.Create({readable: readable file system instance, writable: writable file system instance}, cb)' to create and initialize OverlayFS instances."),ne.prototype.initialize.call(this,h)},d.prototype.getOverlayedFileSystems=function(){return ne.prototype.getFSUnlocked.call(this).getOverlayedFileSystems()},d.prototype.unwrap=function(){return ne.prototype.getFSUnlocked.call(this)},d}(_r);An.Name="OverlayFS",An.Options={writable:{type:"object",description:"The file system to write modified files to."},readable:{type:"object",description:"The file system that initially populates this file system."}};var Kr;(function(ne){ne[ne.CB=0]="CB",ne[ne.FD=1]="FD",ne[ne.API_ERROR=2]="API_ERROR",ne[ne.STATS=3]="STATS",ne[ne.PROBE=4]="PROBE",ne[ne.FILEFLAG=5]="FILEFLAG",ne[ne.BUFFER=6]="BUFFER",ne[ne.ERROR=7]="ERROR"})(Kr||(Kr={}));var ta=function(){this._callbacks={},this._nextId=0};ta.prototype.toRemoteArg=function(d){var k=this._nextId++;return this._callbacks[k]=d,{type:Kr.CB,id:k}},ta.prototype.toLocalArg=function(d){var k=this._callbacks[d];return delete this._callbacks[d],k};var Rn=function(){this._fileDescriptors={},this._nextId=0};Rn.prototype.toRemoteArg=function(d,k,h,Ee){var Fe=this._nextId++,Me,Ge;this._fileDescriptors[Fe]=d,d.stat(function(et,ft){et?Ee(et):(Ge=Ca(ft.toBuffer()),h.isReadable()?d.read(f.alloc(ft.size),0,ft.size,0,function(kt,Wt,rr){kt?Ee(kt):(Me=Ca(rr),Ee(null,{type:Kr.FD,id:Fe,data:Me,stat:Ge,path:k,flag:h.getFlagString()}))}):Ee(null,{type:Kr.FD,id:Fe,data:new ArrayBuffer(0),stat:Ge,path:k,flag:h.getFlagString()}))})},Rn.prototype.applyFdAPIRequest=function(d,k){var h=this,Ee=d.args[0];this._applyFdChanges(Ee,function(Fe,Me){Fe?k(Fe):Me[d.method](function(Ge){d.method==="close"&&delete h._fileDescriptors[Ee.id],k(Ge)})})},Rn.prototype._applyFdChanges=function(d,k){var h=this._fileDescriptors[d.id],Ee=ka(d.data),Fe=Ue.fromBuffer(ka(d.stat)),Me=Ne.getFileFlag(d.flag);Me.isWriteable()?h.write(Ee,0,Ee.length,Me.isAppendable()?h.getPos():0,function(Ge){function et(){h.stat(function(ft,kt){ft?k(ft):kt.mode!==Fe.mode?h.chmod(Fe.mode,function(Wt){k(Wt,h)}):k(ft,h)})}Ge?k(Ge):Me.isAppendable()?et():h.truncate(Ee.length,function(){et()})}):k(null,h)};function hi(ne){return{type:Kr.API_ERROR,errorData:Ca(ne.writeToBuffer())}}function go(ne){return _e.fromBuffer(ka(ne.errorData))}function xu(ne){return{type:Kr.ERROR,name:ne.name,message:ne.message,stack:ne.stack}}function pu(ne){var d=bn[ne.name];typeof d!="function"&&(d=Error);var k=new d(ne.message);return k.stack=ne.stack,k}function _u(ne){return{type:Kr.STATS,statsData:Ca(ne.toBuffer())}}function vu(ne){return Ue.fromBuffer(ka(ne.statsData))}function mu(ne){return{type:Kr.FILEFLAG,flagStr:ne.getFlagString()}}function gu(ne){return Ne.getFileFlag(ne.flagStr)}function Ca(ne){return st(ne)}function ka(ne){return Kt(ne)}function yu(ne){return{type:Kr.BUFFER,data:Ca(ne)}}function bu(ne){return ka(ne.data)}function zl(ne){return ne&&typeof ne=="object"&&ne.hasOwnProperty("browserfsMessage")&&ne.browserfsMessage}function Hl(ne){return ne&&typeof ne=="object"&&ne.hasOwnProperty("browserfsMessage")&&ne.browserfsMessage}var Eu=function(ne){function d(k,h,Ee,Fe,Me,Ge){ne.call(this,k,h,Ee,Fe,Ge),this._remoteFdId=Me}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.getRemoteFdId=function(){return this._remoteFdId},d.prototype.toRemoteArg=function(){return{type:Kr.FD,id:this._remoteFdId,data:Ca(this.getBuffer()),stat:Ca(this.getStats().toBuffer()),path:this.getPath(),flag:this.getFlag().getFlagString()}},d.prototype.sync=function(h){this._syncClose("sync",h)},d.prototype.close=function(h){this._syncClose("close",h)},d.prototype._syncClose=function(h,Ee){var Fe=this;this.isDirty()?this._fs.syncClose(h,this,function(Me){Me||Fe.resetDirty(),Ee(Me)}):Ee()},d}(xt),O0=function(ne){function d(k,h){var Ee=this;h===void 0&&(h=!0),ne.call(this),this._callbackConverter=new ta,this._isInitialized=!1,this._isReadOnly=!1,this._supportLinks=!1,this._supportProps=!1,this._worker=k,Zt(h,d.Name,{worker:"Web Worker instance"}),this._worker.addEventListener("message",function(Fe){var Me=Fe.data;if(Hl(Me)){var Ge,et=Me.args,ft=new Array(et.length);for(Ge=0;Ge<ft.length;Ge++)ft[Ge]=Ee._argRemote2Local(et[Ge]);Ee._callbackConverter.toLocalArg(Me.cbId).apply(null,ft)}})}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.Create=function(h,Ee){var Fe=new d(h.worker,!1);Fe.initialize(function(){Ee(null,Fe)})},d.isAvailable=function(){return typeof importScripts<"u"||typeof Worker<"u"},d.attachRemoteListener=function(h){var Ee=new Rn;function Fe(Ge,et,ft){switch(typeof Ge){case"object":Ge instanceof Ue?ft(null,_u(Ge)):Ge instanceof _e?ft(null,hi(Ge)):Ge instanceof ht?ft(null,Ee.toRemoteArg(Ge,et[0],et[1],ft)):Ge instanceof Ne?ft(null,mu(Ge)):Ge instanceof f?ft(null,yu(Ge)):Ge instanceof Error?ft(null,xu(Ge)):ft(null,Ge);break;default:ft(null,Ge);break}}function Me(Ge,et){if(!Ge)return Ge;switch(typeof Ge){case"object":if(typeof Ge.type=="number"){var ft=Ge;switch(ft.type){case Kr.CB:var kt=Ge.id;return function(){var Wt=arguments,rr,vr=new Array(arguments.length),mr,Pr=arguments.length;function jr(Hr){Pr>0&&(Pr=-1,mr={browserfsMessage:!0,cbId:kt,args:[hi(Hr)]},h.postMessage(mr))}for(rr=0;rr<arguments.length;rr++)(function(Hr,En){Fe(En,et,function(Mn,Ri){vr[Hr]=Ri,Mn?jr(Mn):--Pr===0&&(mr={browserfsMessage:!0,cbId:kt,args:vr},h.postMessage(mr))})})(rr,Wt[rr]);arguments.length===0&&(mr={browserfsMessage:!0,cbId:kt,args:vr},h.postMessage(mr))};case Kr.API_ERROR:return go(ft);case Kr.STATS:return vu(ft);case Kr.FILEFLAG:return gu(ft);case Kr.BUFFER:return bu(ft);case Kr.ERROR:return pu(ft);default:return Ge}}else return Ge;default:return Ge}}h.addEventListener("message",function(Ge){var et=Ge.data;if(zl(et)){var ft=et.args,kt=new Array(ft.length);switch(et.method){case"close":case"sync":(function(){var vr=ft[1];Ee.applyFdAPIRequest(et,function(mr){var Pr={browserfsMessage:!0,cbId:vr.id,args:mr?[hi(mr)]:[]};h.postMessage(Pr)})})();break;case"probe":(function(){var vr=nt.getRootFS(),mr=ft[1],Pr={type:Kr.PROBE,isReadOnly:vr.isReadOnly(),supportsLinks:vr.supportsLinks(),supportsProps:vr.supportsProps()},jr={browserfsMessage:!0,cbId:mr.id,args:[Pr]};h.postMessage(jr)})();break;default:for(var Wt=0;Wt<ft.length;Wt++)kt[Wt]=Me(ft[Wt],kt);var rr=nt.getRootFS();rr[et.method].apply(rr,kt);break}}})},d.prototype.getName=function(){return d.Name},d.prototype.initialize=function(h){var Ee=this;if(this._isInitialized)h();else{var Fe={browserfsMessage:!0,method:"probe",args:[this._argLocal2Remote(or()),this._callbackConverter.toRemoteArg(function(Me){Ee._isInitialized=!0,Ee._isReadOnly=Me.isReadOnly,Ee._supportLinks=Me.supportsLinks,Ee._supportProps=Me.supportsProps,h()})]};this._worker.postMessage(Fe)}},d.prototype.isReadOnly=function(){return this._isReadOnly},d.prototype.supportsSynch=function(){return!1},d.prototype.supportsLinks=function(){return this._supportLinks},d.prototype.supportsProps=function(){return this._supportProps},d.prototype.rename=function(h,Ee,Fe){this._rpc("rename",arguments)},d.prototype.stat=function(h,Ee,Fe){this._rpc("stat",arguments)},d.prototype.open=function(h,Ee,Fe,Me){this._rpc("open",arguments)},d.prototype.unlink=function(h,Ee){this._rpc("unlink",arguments)},d.prototype.rmdir=function(h,Ee){this._rpc("rmdir",arguments)},d.prototype.mkdir=function(h,Ee,Fe){this._rpc("mkdir",arguments)},d.prototype.readdir=function(h,Ee){this._rpc("readdir",arguments)},d.prototype.exists=function(h,Ee){this._rpc("exists",arguments)},d.prototype.realpath=function(h,Ee,Fe){this._rpc("realpath",arguments)},d.prototype.truncate=function(h,Ee,Fe){this._rpc("truncate",arguments)},d.prototype.readFile=function(h,Ee,Fe,Me){this._rpc("readFile",arguments)},d.prototype.writeFile=function(h,Ee,Fe,Me,Ge,et){this._rpc("writeFile",arguments)},d.prototype.appendFile=function(h,Ee,Fe,Me,Ge,et){this._rpc("appendFile",arguments)},d.prototype.chmod=function(h,Ee,Fe,Me){this._rpc("chmod",arguments)},d.prototype.chown=function(h,Ee,Fe,Me,Ge){this._rpc("chown",arguments)},d.prototype.utimes=function(h,Ee,Fe,Me){this._rpc("utimes",arguments)},d.prototype.link=function(h,Ee,Fe){this._rpc("link",arguments)},d.prototype.symlink=function(h,Ee,Fe,Me){this._rpc("symlink",arguments)},d.prototype.readlink=function(h,Ee){this._rpc("readlink",arguments)},d.prototype.syncClose=function(h,Ee,Fe){this._worker.postMessage({browserfsMessage:!0,method:h,args:[Ee.toRemoteArg(),this._callbackConverter.toRemoteArg(Fe)]})},d.prototype._argRemote2Local=function(h){if(!h)return h;switch(typeof h){case"object":if(typeof h.type=="number"){var Ee=h;switch(Ee.type){case Kr.API_ERROR:return go(Ee);case Kr.FD:var Fe=Ee;return new Eu(this,Fe.path,Ne.getFileFlag(Fe.flag),Ue.fromBuffer(ka(Fe.stat)),Fe.id,ka(Fe.data));case Kr.STATS:return vu(Ee);case Kr.FILEFLAG:return gu(Ee);case Kr.BUFFER:return bu(Ee);case Kr.ERROR:return pu(Ee);default:return h}}else return h;default:return h}},d.prototype._rpc=function(h,Ee){for(var Fe=this,Me=new Array(Ee.length),Ge=0;Ge<Ee.length;Ge++)Me[Ge]=Fe._argLocal2Remote(Ee[Ge]);var et={browserfsMessage:!0,method:h,args:Me};this._worker.postMessage(et)},d.prototype._argLocal2Remote=function(h){if(!h)return h;switch(typeof h){case"object":return h instanceof Ue?_u(h):h instanceof _e?hi(h):h instanceof Eu?h.toRemoteArg():h instanceof Ne?mu(h):h instanceof f?yu(h):h instanceof Error?xu(h):"Unknown argument";case"function":return this._callbackConverter.toRemoteArg(h);default:return h}},d}(It);O0.Name="WorkerFS",O0.Options={worker:{type:"object",description:"The target worker that you want to connect to, or the current worker if in a worker context.",validator:function(ne,d){ne.postMessage?d():d(new _e(Ae.EINVAL,"option must be a Web Worker instance."))}}};function Wl(ne,d,k){var h=new XMLHttpRequest;h.open("GET",ne,!0);var Ee=!0;switch(d){case"buffer":h.responseType="arraybuffer";break;case"json":try{h.responseType="json",Ee=h.responseType==="json"}catch{Ee=!1}break;default:return k(new _e(Ae.EINVAL,"Invalid download type: "+d))}h.onreadystatechange=function(Fe){if(h.readyState===4)if(h.status===200)switch(d){case"buffer":return k(null,h.response?f.from(h.response):or());case"json":return Ee?k(null,h.response):k(null,JSON.parse(h.responseText))}else return k(new _e(h.status,"XHR error."))},h.send()}function Kl(ne,d){var k=new XMLHttpRequest;k.open("GET",ne,!1);var h=null,Ee=null;if(k.overrideMimeType("text/plain; charset=x-user-defined"),k.onreadystatechange=function(Fe){if(k.readyState===4)if(k.status===200)switch(d){case"buffer":var Me=k.responseText;h=f.alloc(Me.length);for(var Ge=0;Ge<Me.length;Ge++)h[Ge]=Me.charCodeAt(Ge);return;case"json":h=JSON.parse(k.responseText);return}else{Ee=new _e(k.status,"XHR error.");return}},k.send(),Ee)throw Ee;return h}function Gl(ne,d){var k=new XMLHttpRequest;switch(k.open("GET",ne,!1),d){case"buffer":k.responseType="arraybuffer";break;case"json":break;default:throw new _e(Ae.EINVAL,"Invalid download type: "+d)}var h,Ee;if(k.onreadystatechange=function(Fe){if(k.readyState===4)if(k.status===200)switch(d){case"buffer":h=f.from(k.response);break;case"json":h=JSON.parse(k.response);break}else Ee=new _e(k.status,"XHR error.")},k.send(),Ee)throw Ee;return h}function wu(ne,d,k){var h=new XMLHttpRequest;h.open("HEAD",d,ne),h.onreadystatechange=function(Ee){if(h.readyState===4)if(h.status===200)try{return k(null,parseInt(h.getResponseHeader("Content-Length")||"-1",10))}catch{return k(new _e(Ae.EIO,"XHR HEAD error: Could not read content-length."))}else return k(new _e(h.status,"XHR HEAD error."))},h.send()}var Su=Wl,Yl=zt&&typeof Blob<"u"?Gl:Kl;function Ql(ne){var d=-1;return wu(!1,ne,function(k,h){if(k)throw k;d=h}),d}function Jl(ne,d){wu(!0,ne,d)}var xi=function(){this._index={},this.addPath("/",new Zn)};xi.fromListing=function(d){var k=new xi,h=new Zn;k._index["/"]=h;for(var Ee=[["",d,h]];Ee.length>0;){var Fe=void 0,Me=Ee.pop(),Ge=Me[0],et=Me[1],ft=Me[2];for(var kt in et)if(et.hasOwnProperty(kt)){var Wt=et[kt],rr=Ge+"/"+kt;Wt?(k._index[rr]=Fe=new Zn,Ee.push([rr,Wt,Fe])):Fe=new yo(new Ue(Ve.FILE,-1,365)),ft&&(ft._ls[kt]=Fe)}}return k},xi.prototype.fileIterator=function(d){var k=this;for(var h in k._index)if(k._index.hasOwnProperty(h))for(var Ee=k._index[h],Fe=Ee.getListing(),Me=0,Ge=Fe;Me<Ge.length;Me+=1){var et=Ge[Me],ft=Ee.getItem(et);zi(ft)&&d(ft.getData())}},xi.prototype.addPath=function(d,k){if(!k)throw new Error("Inode must be specified");if(d[0]!=="/")throw new Error("Path must be absolute, got: "+d);if(this._index.hasOwnProperty(d))return this._index[d]===k;var h=this._split_path(d),Ee=h[0],Fe=h[1],Me=this._index[Ee];return Me===void 0&&d!=="/"&&(Me=new Zn,!this.addPath(Ee,Me))||d!=="/"&&!Me.addItem(Fe,k)?!1:(ra(k)&&(this._index[d]=k),!0)},xi.prototype.addPathFast=function(d,k){var h=d.lastIndexOf("/"),Ee=h===0?"/":d.substring(0,h),Fe=d.substring(h+1),Me=this._index[Ee];return Me===void 0&&(Me=new Zn,this.addPathFast(Ee,Me)),Me.addItem(Fe,k)?(k.isDir()&&(this._index[d]=k),!0):!1},xi.prototype.removePath=function(d){var k=this,h=this._split_path(d),Ee=h[0],Fe=h[1],Me=this._index[Ee];if(Me===void 0)return null;var Ge=Me.remItem(Fe);if(Ge===null)return null;if(ra(Ge)){for(var et=Ge.getListing(),ft=0,kt=et;ft<kt.length;ft+=1){var Wt=kt[ft];k.removePath(d+"/"+Wt)}d!=="/"&&delete this._index[d]}return Ge},xi.prototype.ls=function(d){var k=this._index[d];return k===void 0?null:k.getListing()},xi.prototype.getInode=function(d){var k=this._split_path(d),h=k[0],Ee=k[1],Fe=this._index[h];return Fe===void 0?null:h===d?Fe:Fe.getItem(Ee)},xi.prototype._split_path=function(d){var k=Oe.dirname(d),h=d.substr(k.length+(k==="/"?0:1));return[k,h]};var yo=function(d){this.data=d};yo.prototype.isFile=function(){return!0},yo.prototype.isDir=function(){return!1},yo.prototype.getData=function(){return this.data},yo.prototype.setData=function(d){this.data=d};var Zn=function(d){d===void 0&&(d=null),this.data=d,this._ls={}};Zn.prototype.isFile=function(){return!1},Zn.prototype.isDir=function(){return!0},Zn.prototype.getData=function(){return this.data},Zn.prototype.getStats=function(){return new Ue(Ve.DIRECTORY,4096,365)},Zn.prototype.getListing=function(){return Object.keys(this._ls)},Zn.prototype.getItem=function(d){var k=this._ls[d];return k||null},Zn.prototype.addItem=function(d,k){return d in this._ls?!1:(this._ls[d]=k,!0)},Zn.prototype.remItem=function(d){var k=this._ls[d];return k===void 0?null:(delete this._ls[d],k)};function zi(ne){return!!ne&&ne.isFile()}function ra(ne){return!!ne&&ne.isDir()}function Xl(ne,d,k){try{k(null,ne.toString(d))}catch(h){k(h)}}var T0=function(ne){function d(k,h,Ee){h===void 0&&(h=""),Ee===void 0&&(Ee=!0),ne.call(this),k||(k="index.json"),h.length>0&&h.charAt(h.length-1)!=="/"&&(h=h+"/"),this.prefixUrl=h;var Fe=null;if(typeof k=="string"){if(Fe=this._requestFileSync(k,"json"),!Fe)throw new Error("Unable to find listing at URL: ${listingUrlOrObj}")}else Fe=k;Zt(Ee,d.Name,{index:typeof k=="string"?k:"file index as an object",baseUrl:h}),this._index=xi.fromListing(Fe)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.Create=function(h,Ee){h.index===void 0&&(h.index="index.json"),typeof h.index=="string"?d.FromURL(h.index,Ee,h.baseUrl,!1):Ee(null,new d(h.index,h.baseUrl,!1))},d.isAvailable=function(){return typeof XMLHttpRequest<"u"&&XMLHttpRequest!==null},d.FromURL=function(h,Ee,Fe,Me){Fe===void 0&&(Fe=h.slice(0,h.lastIndexOf("/")+1)),Me===void 0&&(Me=!0),Me&&console.warn(`[XmlHttpRequest] XmlHttpRequest.FromURL() is deprecated and will be removed in the next major release. Please use 'XmlHttpRequest.Create({ index: "`+h+'", baseUrl: "'+Fe+`" }, cb)' instead.`),Su(h,"json",function(Ge,et){Ge?Ee(Ge):Ee(null,new d(et,Fe,!1))})},d.prototype.empty=function(){this._index.fileIterator(function(h){h.fileData=null})},d.prototype.getName=function(){return d.Name},d.prototype.diskSpace=function(h,Ee){Ee(0,0)},d.prototype.isReadOnly=function(){return!0},d.prototype.supportsLinks=function(){return!1},d.prototype.supportsProps=function(){return!1},d.prototype.supportsSynch=function(){return!0},d.prototype.preloadFile=function(h,Ee){var Fe=this._index.getInode(h);if(zi(Fe)){if(Fe===null)throw _e.ENOENT(h);var Me=Fe.getData();Me.size=Ee.length,Me.fileData=Ee}else throw _e.EISDIR(h)},d.prototype.stat=function(h,Ee,Fe){var Me=this._index.getInode(h);if(Me===null)return Fe(_e.ENOENT(h));var Ge;zi(Me)?(Ge=Me.getData(),Ge.size<0?this._requestFileSizeAsync(h,function(et,ft){if(et)return Fe(et);Ge.size=ft,Fe(null,Ge.clone())}):Fe(null,Ge.clone())):ra(Me)?(Ge=Me.getStats(),Fe(null,Ge)):Fe(_e.FileError(Ae.EINVAL,h))},d.prototype.statSync=function(h,Ee){var Fe=this._index.getInode(h);if(Fe===null)throw _e.ENOENT(h);var Me;if(zi(Fe))Me=Fe.getData(),Me.size<0&&(Me.size=this._requestFileSizeSync(h));else if(ra(Fe))Me=Fe.getStats();else throw _e.FileError(Ae.EINVAL,h);return Me},d.prototype.open=function(h,Ee,Fe,Me){if(Ee.isWriteable())return Me(new _e(Ae.EPERM,h));var Ge=this,et=this._index.getInode(h);if(et===null)return Me(_e.ENOENT(h));if(zi(et)){var ft=et.getData();switch(Ee.pathExistsAction()){case Be.THROW_EXCEPTION:case Be.TRUNCATE_FILE:return Me(_e.EEXIST(h));case Be.NOP:if(ft.fileData)return Me(null,new Rt(Ge,h,Ee,ft.clone(),ft.fileData));this._requestFileAsync(h,"buffer",function(kt,Wt){return kt?Me(kt):(ft.size=Wt.length,ft.fileData=Wt,Me(null,new Rt(Ge,h,Ee,ft.clone(),Wt)))});break;default:return Me(new _e(Ae.EINVAL,"Invalid FileMode object."))}}else return Me(_e.EISDIR(h))},d.prototype.openSync=function(h,Ee,Fe){if(Ee.isWriteable())throw new _e(Ae.EPERM,h);var Me=this._index.getInode(h);if(Me===null)throw _e.ENOENT(h);if(zi(Me)){var Ge=Me.getData();switch(Ee.pathExistsAction()){case Be.THROW_EXCEPTION:case Be.TRUNCATE_FILE:throw _e.EEXIST(h);case Be.NOP:if(Ge.fileData)return new Rt(this,h,Ee,Ge.clone(),Ge.fileData);var et=this._requestFileSync(h,"buffer");return Ge.size=et.length,Ge.fileData=et,new Rt(this,h,Ee,Ge.clone(),et);default:throw new _e(Ae.EINVAL,"Invalid FileMode object.")}}else throw _e.EISDIR(h)},d.prototype.readdir=function(h,Ee){try{Ee(null,this.readdirSync(h))}catch(Fe){Ee(Fe)}},d.prototype.readdirSync=function(h){var Ee=this._index.getInode(h);if(Ee===null)throw _e.ENOENT(h);if(ra(Ee))return Ee.getListing();throw _e.ENOTDIR(h)},d.prototype.readFile=function(h,Ee,Fe,Me){var Ge=Me;this.open(h,Fe,420,function(et,ft){if(et)return Me(et);Me=function(rr,vr){ft.close(function(mr){return rr||(rr=mr),Ge(rr,vr)})};var kt=ft,Wt=kt.getBuffer();Ee===null?Me(et,fr(Wt)):Xl(Wt,Ee,Me)})},d.prototype.readFileSync=function(h,Ee,Fe){var Me=this.openSync(h,Fe,420);try{var Ge=Me,et=Ge.getBuffer();return Ee===null?fr(et):et.toString(Ee)}finally{Me.closeSync()}},d.prototype.getXhrPath=function(h){return h.charAt(0)==="/"&&(h=h.slice(1)),this.prefixUrl+h},d.prototype._requestFileAsync=function(h,Ee,Fe){Su(this.getXhrPath(h),Ee,Fe)},d.prototype._requestFileSync=function(h,Ee){return Yl(this.getXhrPath(h),Ee)},d.prototype._requestFileSizeAsync=function(h,Ee){Jl(this.getXhrPath(h),Ee)},d.prototype._requestFileSizeSync=function(h){return Ql(this.getXhrPath(h))},d}(It);T0.Name="XmlHttpRequest",T0.Options={index:{type:["string","object"],optional:!0,description:"URL to a file index as a JSON file or the file index object itself, generated with the make_xhrfs_index script. Defaults to `index.json`."},baseUrl:{type:"string",optional:!0,description:"Used as the URL prefix for fetched files. Default: Fetch files relative to the index."}};var Oa=function(){};Oa.str2byte=function(d,k){for(var h=d.length>k.length?k.length:d.length,Ee=0;Ee<h;Ee++){var Fe=d.charCodeAt(Ee);if(Fe>127){var Me=Oa.extendedChars.indexOf(d.charAt(Ee));Me>-1&&(Fe=Me+128)}k[Fe]=Ee}return h},Oa.byte2str=function(d){for(var k=new Array(d.length),h=0;h<d.length;h++){var Ee=d[h];Ee>127?k[h]=Oa.extendedChars[Ee-128]:k[h]=String.fromCharCode(Ee)}return k.join("")},Oa.byteLength=function(d){return d.length},Oa.extendedChars=["Ç","ü","é","â","ä","à","å","ç","ê","ë","è","ï","î","ì","Ä","Å","É","æ","Æ","ô","ö","ò","û","ù","ÿ","Ö","Ü","ø","£","Ø","×","ƒ","á","í","ó","ú","ñ","Ñ","ª","º","¿","®","¬","½","¼","¡","«","»","_","_","_","¦","¦","Á","Â","À","©","¦","¦","+","+","¢","¥","+","+","-","-","+","-","+","ã","Ã","+","+","-","-","¦","-","+","¤","ð","Ð","Ê","Ë","È","i","Í","Î","Ï","+","+","_","_","¦","Ì","_","Ó","ß","Ô","Ò","õ","Õ","µ","þ","Þ","Ú","Û","Ù","ý","Ý","¯","´","­","±","_","¾","¶","§","÷","¸","°","¨","·","¹","³","²","_"," "];var Zl=c(31).inflateRaw,Au={},Iu;(function(ne){ne[ne.MSDOS=0]="MSDOS",ne[ne.AMIGA=1]="AMIGA",ne[ne.OPENVMS=2]="OPENVMS",ne[ne.UNIX=3]="UNIX",ne[ne.VM_CMS=4]="VM_CMS",ne[ne.ATARI_ST=5]="ATARI_ST",ne[ne.OS2_HPFS=6]="OS2_HPFS",ne[ne.MAC=7]="MAC",ne[ne.Z_SYSTEM=8]="Z_SYSTEM",ne[ne.CP_M=9]="CP_M",ne[ne.NTFS=10]="NTFS",ne[ne.MVS=11]="MVS",ne[ne.VSE=12]="VSE",ne[ne.ACORN_RISC=13]="ACORN_RISC",ne[ne.VFAT=14]="VFAT",ne[ne.ALT_MVS=15]="ALT_MVS",ne[ne.BEOS=16]="BEOS",ne[ne.TANDEM=17]="TANDEM",ne[ne.OS_400=18]="OS_400",ne[ne.OSX=19]="OSX"})(Iu||(Iu={}));var bo;(function(ne){ne[ne.STORED=0]="STORED",ne[ne.SHRUNK=1]="SHRUNK",ne[ne.REDUCED_1=2]="REDUCED_1",ne[ne.REDUCED_2=3]="REDUCED_2",ne[ne.REDUCED_3=4]="REDUCED_3",ne[ne.REDUCED_4=5]="REDUCED_4",ne[ne.IMPLODE=6]="IMPLODE",ne[ne.DEFLATE=8]="DEFLATE",ne[ne.DEFLATE64=9]="DEFLATE64",ne[ne.TERSE_OLD=10]="TERSE_OLD",ne[ne.BZIP2=12]="BZIP2",ne[ne.LZMA=14]="LZMA",ne[ne.TERSE_NEW=18]="TERSE_NEW",ne[ne.LZ77=19]="LZ77",ne[ne.WAVPACK=97]="WAVPACK",ne[ne.PPMD=98]="PPMD"})(bo||(bo={}));function Cu(ne,d){var k=d&31,h=(d>>5&15)-1,Ee=(d>>9)+1980,Fe=ne&31,Me=ne>>5&63,Ge=ne>>11;return new Date(Ee,h,k,Ge,Me,Fe)}function D0(ne,d,k,h){return h===0?"":d?ne.toString("utf8",k,k+h):Oa.byte2str(ne.slice(k,k+h))}var ii=function(d){if(this.data=d,d.readUInt32LE(0)!==67324752)throw new _e(Ae.EINVAL,"Invalid Zip file: Local file header has invalid signature: "+this.data.readUInt32LE(0))};ii.prototype.versionNeeded=function(){return this.data.readUInt16LE(4)},ii.prototype.flags=function(){return this.data.readUInt16LE(6)},ii.prototype.compressionMethod=function(){return this.data.readUInt16LE(8)},ii.prototype.lastModFileTime=function(){return Cu(this.data.readUInt16LE(10),this.data.readUInt16LE(12))},ii.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(10)},ii.prototype.crc32=function(){return this.data.readUInt32LE(14)},ii.prototype.fileNameLength=function(){return this.data.readUInt16LE(26)},ii.prototype.extraFieldLength=function(){return this.data.readUInt16LE(28)},ii.prototype.fileName=function(){return D0(this.data,this.useUTF8(),30,this.fileNameLength())},ii.prototype.extraField=function(){var d=30+this.fileNameLength();return this.data.slice(d,d+this.extraFieldLength())},ii.prototype.totalSize=function(){return 30+this.fileNameLength()+this.extraFieldLength()},ii.prototype.useUTF8=function(){return(this.flags()&2048)===2048};var ws=function(d,k,h){this.header=d,this.record=k,this.data=h};ws.prototype.decompress=function(){var d=this.header.compressionMethod(),k=Au[d];if(k)return k(this.data,this.record.compressedSize(),this.record.uncompressedSize(),this.record.flag());var h=bo[d];throw h||(h="Unknown: "+d),new _e(Ae.EINVAL,"Invalid compression method on file '"+this.header.fileName()+"': "+h)},ws.prototype.getHeader=function(){return this.header},ws.prototype.getRecord=function(){return this.record},ws.prototype.getRawData=function(){return this.data};var tn=function(d,k){if(this.zipData=d,this.data=k,this.data.readUInt32LE(0)!==33639248)throw new _e(Ae.EINVAL,"Invalid Zip file: Central directory record has invalid signature: "+this.data.readUInt32LE(0));this._filename=this.produceFilename()};tn.prototype.versionMadeBy=function(){return this.data.readUInt16LE(4)},tn.prototype.versionNeeded=function(){return this.data.readUInt16LE(6)},tn.prototype.flag=function(){return this.data.readUInt16LE(8)},tn.prototype.compressionMethod=function(){return this.data.readUInt16LE(10)},tn.prototype.lastModFileTime=function(){return Cu(this.data.readUInt16LE(12),this.data.readUInt16LE(14))},tn.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(12)},tn.prototype.crc32=function(){return this.data.readUInt32LE(16)},tn.prototype.compressedSize=function(){return this.data.readUInt32LE(20)},tn.prototype.uncompressedSize=function(){return this.data.readUInt32LE(24)},tn.prototype.fileNameLength=function(){return this.data.readUInt16LE(28)},tn.prototype.extraFieldLength=function(){return this.data.readUInt16LE(30)},tn.prototype.fileCommentLength=function(){return this.data.readUInt16LE(32)},tn.prototype.diskNumberStart=function(){return this.data.readUInt16LE(34)},tn.prototype.internalAttributes=function(){return this.data.readUInt16LE(36)},tn.prototype.externalAttributes=function(){return this.data.readUInt32LE(38)},tn.prototype.headerRelativeOffset=function(){return this.data.readUInt32LE(42)},tn.prototype.produceFilename=function(){var d=D0(this.data,this.useUTF8(),46,this.fileNameLength());return d.replace(/\\/g,"/")},tn.prototype.fileName=function(){return this._filename},tn.prototype.rawFileName=function(){return this.data.slice(46,46+this.fileNameLength())},tn.prototype.extraField=function(){var d=44+this.fileNameLength();return this.data.slice(d,d+this.extraFieldLength())},tn.prototype.fileComment=function(){var d=46+this.fileNameLength()+this.extraFieldLength();return D0(this.data,this.useUTF8(),d,this.fileCommentLength())},tn.prototype.rawFileComment=function(){var d=46+this.fileNameLength()+this.extraFieldLength();return this.data.slice(d,d+this.fileCommentLength())},tn.prototype.totalSize=function(){return 46+this.fileNameLength()+this.extraFieldLength()+this.fileCommentLength()},tn.prototype.isDirectory=function(){var d=this.fileName();return!!(this.externalAttributes()&16)||d.charAt(d.length-1)==="/"},tn.prototype.isFile=function(){return!this.isDirectory()},tn.prototype.useUTF8=function(){return(this.flag()&2048)===2048},tn.prototype.isEncrypted=function(){return(this.flag()&1)===1},tn.prototype.getFileData=function(){var d=this.headerRelativeOffset(),k=new ii(this.zipData.slice(d));return new ws(k,this,this.zipData.slice(d+k.totalSize()))},tn.prototype.getData=function(){return this.getFileData().decompress()},tn.prototype.getRawData=function(){return this.getFileData().getRawData()},tn.prototype.getStats=function(){return new Ue(Ve.FILE,this.uncompressedSize(),365,new Date,this.lastModFileTime())};var Ti=function(d){if(this.data=d,this.data.readUInt32LE(0)!==101010256)throw new _e(Ae.EINVAL,"Invalid Zip file: End of central directory record has invalid signature: "+this.data.readUInt32LE(0))};Ti.prototype.diskNumber=function(){return this.data.readUInt16LE(4)},Ti.prototype.cdDiskNumber=function(){return this.data.readUInt16LE(6)},Ti.prototype.cdDiskEntryCount=function(){return this.data.readUInt16LE(8)},Ti.prototype.cdTotalEntryCount=function(){return this.data.readUInt16LE(10)},Ti.prototype.cdSize=function(){return this.data.readUInt32LE(12)},Ti.prototype.cdOffset=function(){return this.data.readUInt32LE(16)},Ti.prototype.cdZipCommentLength=function(){return this.data.readUInt16LE(20)},Ti.prototype.cdZipComment=function(){return D0(this.data,!0,22,this.cdZipCommentLength())},Ti.prototype.rawCdZipComment=function(){return this.data.slice(22,22+this.cdZipCommentLength())};var ku=function(d,k,h,Ee){this.index=d,this.directoryEntries=k,this.eocd=h,this.data=Ee},Ta=function(ne){function d(k,h,Ee){h===void 0&&(h=""),Ee===void 0&&(Ee=!0),ne.call(this),this.name=h,this._index=new xi,this._directoryEntries=[],this._eocd=null,Zt(Ee,d.Name,{zipData:"zip data as a Buffer",name:h}),k instanceof ku?(this._index=k.index,this._directoryEntries=k.directoryEntries,this._eocd=k.eocd,this.data=k.data):(this.data=k,this.populateIndex())}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.Create=function(h,Ee){try{d.computeIndex(h.zipData,function(Fe){var Me=new d(Fe,h.name,!1);Ee(null,Me)},!1)}catch(Fe){Ee(Fe)}},d.isAvailable=function(){return!0},d.RegisterDecompressionMethod=function(h,Ee){Au[h]=Ee},d.computeIndex=function(h,Ee,Fe){Fe===void 0&&(Fe=!0),Fe&&console.warn("[ZipFS] ZipFS.computeIndex is now deprecated, and will be removed in the next major release. Please update your code to use 'ZipFS.Create({ zipData: zip file as a Buffer}, cb)' instead.");var Me=new xi,Ge=d.getEOCD(h);if(Ge.diskNumber()!==Ge.cdDiskNumber())throw new _e(Ae.EINVAL,"ZipFS does not support spanned zip files.");var et=Ge.cdOffset();if(et===4294967295)throw new _e(Ae.EINVAL,"ZipFS does not support Zip64.");var ft=et+Ge.cdSize();d.computeIndexResponsive(h,Me,et,ft,Ee,[],Ge)},d.getEOCD=function(h){for(var Ee=22,Fe=Math.min(Ee+65535,h.length-1),Me=Ee;Me<Fe;Me++)if(h.readUInt32LE(h.length-Me)===101010256)return new Ti(h.slice(h.length-Me));throw new _e(Ae.EINVAL,"Invalid ZIP file: Could not locate End of Central Directory signature.")},d.addToIndex=function(h,Ee){var Fe=h.fileName();if(Fe.charAt(0)==="/")throw new Error("WHY IS THIS ABSOLUTE");Fe.charAt(Fe.length-1)==="/"&&(Fe=Fe.substr(0,Fe.length-1)),h.isDirectory()?Ee.addPathFast("/"+Fe,new Zn(h)):Ee.addPathFast("/"+Fe,new yo(h))},d.computeIndexResponsive=function(h,Ee,Fe,Me,Ge,et,ft){if(Fe<Me){for(var kt=0;kt++<200&&Fe<Me;){var Wt=new tn(h,h.slice(Fe));d.addToIndex(Wt,Ee),Fe+=Wt.totalSize(),et.push(Wt)}Sr(function(){d.computeIndexResponsive(h,Ee,Fe,Me,Ge,et,ft)})}else Ge(new ku(Ee,et,ft,h))},d.prototype.getName=function(){return d.Name+(this.name!==""?" "+this.name:"")},d.prototype.getCentralDirectoryEntry=function(h){var Ee=this._index.getInode(h);if(Ee===null)throw _e.ENOENT(h);if(zi(Ee))return Ee.getData();if(ra(Ee))return Ee.getData();throw _e.EPERM("Invalid inode: "+Ee)},d.prototype.getCentralDirectoryEntryAt=function(h){var Ee=this._directoryEntries[h];if(!Ee)throw new RangeError("Invalid directory index: "+h+".");return Ee},d.prototype.getNumberOfCentralDirectoryEntries=function(){return this._directoryEntries.length},d.prototype.getEndOfCentralDirectory=function(){return this._eocd},d.prototype.diskSpace=function(h,Ee){Ee(this.data.length,0)},d.prototype.isReadOnly=function(){return!0},d.prototype.supportsLinks=function(){return!1},d.prototype.supportsProps=function(){return!1},d.prototype.supportsSynch=function(){return!0},d.prototype.statSync=function(h,Ee){var Fe=this._index.getInode(h);if(Fe===null)throw _e.ENOENT(h);var Me;if(zi(Fe))Me=Fe.getData().getStats();else if(ra(Fe))Me=Fe.getStats();else throw new _e(Ae.EINVAL,"Invalid inode.");return Me},d.prototype.openSync=function(h,Ee,Fe){if(Ee.isWriteable())throw new _e(Ae.EPERM,h);var Me=this._index.getInode(h);if(Me)if(zi(Me)){var Ge=Me.getData(),et=Ge.getStats();switch(Ee.pathExistsAction()){case Be.THROW_EXCEPTION:case Be.TRUNCATE_FILE:throw _e.EEXIST(h);case Be.NOP:return new Rt(this,h,Ee,et,Ge.getData());default:throw new _e(Ae.EINVAL,"Invalid FileMode object.")}}else throw _e.EISDIR(h);else throw _e.ENOENT(h)},d.prototype.readdirSync=function(h){var Ee=this._index.getInode(h);if(Ee){if(ra(Ee))return Ee.getListing();throw _e.ENOTDIR(h)}else throw _e.ENOENT(h)},d.prototype.readFileSync=function(h,Ee,Fe){var Me=this.openSync(h,Fe,420);try{var Ge=Me,et=Ge.getBuffer();return Ee===null?fr(et):et.toString(Ee)}finally{Me.closeSync()}},d.prototype.populateIndex=function(){var h=this,Ee=this._eocd=d.getEOCD(this.data);if(Ee.diskNumber()!==Ee.cdDiskNumber())throw new _e(Ae.EINVAL,"ZipFS does not support spanned zip files.");var Fe=Ee.cdOffset();if(Fe===4294967295)throw new _e(Ae.EINVAL,"ZipFS does not support Zip64.");for(var Me=Fe+Ee.cdSize();Fe<Me;){var Ge=new tn(h.data,h.data.slice(Fe));Fe+=Ge.totalSize(),d.addToIndex(Ge,h._index),h._directoryEntries.push(Ge)}},d}(Ht);Ta.Name="ZipFS",Ta.Options={zipData:{type:"object",description:"The zip file as a Buffer object.",validator:lt},name:{type:"string",optional:!0,description:"The name of the zip file (optional)."}},Ta.CompressionMethod=bo,Ta.RegisterDecompressionMethod(bo.DEFLATE,function(ne,d,k){return Bt(Zl(ne.slice(0,d),{chunkSize:k}))}),Ta.RegisterDecompressionMethod(bo.STORED,function(ne,d,k){return fr(ne,0,k)});var $l="IEEE_P1282";function $n(ne,d,k){return ne.toString("ascii",d,d+k).trim()}function Xc(ne,d,k){if(k===1)return String.fromCharCode(ne[d]);for(var h=Math.floor(k/2),Ee=new Array(h),Fe=0;Fe<h;Fe++){var Me=d+(Fe<<1);Ee[Fe]=String.fromCharCode(ne[Me+1]|ne[Me]<<8)}return Ee.join("")}function Di(ne,d){var k=parseInt($n(ne,d,4),10),h=parseInt($n(ne,d+4,2),10),Ee=parseInt($n(ne,d+6,2),10),Fe=parseInt($n(ne,d+8,2),10),Me=parseInt($n(ne,d+10,2),10),Ge=parseInt($n(ne,d+12,2),10),et=parseInt($n(ne,d+14,2),10);return new Date(k,h,Ee,Fe,Me,Ge,et*100)}function Da(ne,d){var k=ne[d],h=ne[d+1],Ee=ne[d+2],Fe=ne[d+3],Me=ne[d+4],Ge=ne[d+5];return new Date(k,h-1,Ee,Fe,Me,Ge)}function ef(ne,d){var k=ne.slice(d),h=new On(k);switch(h.signatureWord()){case 17221:return new Fu(k);case 20548:return new nf(k);case 21328:return new Pu(k);case 21332:return new Bu(k);case 17746:return new qu(k);case 17747:return new af(k);case 20568:return new Lu(k);case 20558:return new of(k);case 21324:return new Zc(k);case 20045:return new Mu(k);case 17228:return new $c(k);case 20556:return new sf(k);case 21061:return new Vu(k);case 21574:return new Uu(k);case 21318:return new cf(k);case 21074:return new Nu(k);default:return h}}function Ou(ne,d,k,h){k=k-4;for(var Ee=new Array;d<k;){var Fe=ef(ne,d),Me=Fe.length();if(Me===0)return Ee;if(d+=Me,Fe instanceof Bu)break;Fe instanceof Fu?Ee=Ee.concat(Fe.getEntries(h)):Ee.push(Fe)}return Ee}var Eo=function(d){this._data=d};Eo.prototype.type=function(){return this._data[0]},Eo.prototype.standardIdentifier=function(){return $n(this._data,1,5)},Eo.prototype.version=function(){return this._data[6]},Eo.prototype.data=function(){return this._data.slice(7,2048)};var Tu=function(ne){function d(k){ne.call(this,k),this._root=null}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.systemIdentifier=function(){return this._getString32(8)},d.prototype.volumeIdentifier=function(){return this._getString32(40)},d.prototype.volumeSpaceSize=function(){return this._data.readUInt32LE(80)},d.prototype.volumeSetSize=function(){return this._data.readUInt16LE(120)},d.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(124)},d.prototype.logicalBlockSize=function(){return this._data.readUInt16LE(128)},d.prototype.pathTableSize=function(){return this._data.readUInt32LE(132)},d.prototype.locationOfTypeLPathTable=function(){return this._data.readUInt32LE(140)},d.prototype.locationOfOptionalTypeLPathTable=function(){return this._data.readUInt32LE(144)},d.prototype.locationOfTypeMPathTable=function(){return this._data.readUInt32BE(148)},d.prototype.locationOfOptionalTypeMPathTable=function(){return this._data.readUInt32BE(152)},d.prototype.rootDirectoryEntry=function(h){return this._root===null&&(this._root=this._constructRootDirectoryRecord(this._data.slice(156)),this._root.rootCheckForRockRidge(h)),this._root},d.prototype.volumeSetIdentifier=function(){return this._getString(190,128)},d.prototype.publisherIdentifier=function(){return this._getString(318,128)},d.prototype.dataPreparerIdentifier=function(){return this._getString(446,128)},d.prototype.applicationIdentifier=function(){return this._getString(574,128)},d.prototype.copyrightFileIdentifier=function(){return this._getString(702,38)},d.prototype.abstractFileIdentifier=function(){return this._getString(740,36)},d.prototype.bibliographicFileIdentifier=function(){return this._getString(776,37)},d.prototype.volumeCreationDate=function(){return Di(this._data,813)},d.prototype.volumeModificationDate=function(){return Di(this._data,830)},d.prototype.volumeExpirationDate=function(){return Di(this._data,847)},d.prototype.volumeEffectiveDate=function(){return Di(this._data,864)},d.prototype.fileStructureVersion=function(){return this._data[881]},d.prototype.applicationUsed=function(){return this._data.slice(883,883+512)},d.prototype.reserved=function(){return this._data.slice(1395,1395+653)},d.prototype._getString32=function(h){return this._getString(h,32)},d}(Eo),tf=function(ne){function d(k){if(ne.call(this,k),this.type()!==1)throw new _e(Ae.EIO,"Invalid primary volume descriptor.")}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.name=function(){return"ISO9660"},d.prototype._constructRootDirectoryRecord=function(h){return new Du(h,-1)},d.prototype._getString=function(h,Ee){return this._getString(h,Ee)},d}(Tu),rf=function(ne){function d(k){if(ne.call(this,k),this.type()!==2)throw new _e(Ae.EIO,"Invalid supplementary volume descriptor.");var h=this.escapeSequence(),Ee=h[2];if(h[0]!==37||h[1]!==47||Ee!==64&&Ee!==67&&Ee!==69)throw new _e(Ae.EIO,"Unrecognized escape sequence for SupplementaryVolumeDescriptor: "+h.toString())}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.name=function(){return"Joliet"},d.prototype.escapeSequence=function(){return this._data.slice(88,120)},d.prototype._constructRootDirectoryRecord=function(h){return new Ru(h,-1)},d.prototype._getString=function(h,Ee){return Xc(this._data,h,Ee)},d}(Tu),gn=function(d,k){this._suEntries=null,this._fileOrDir=null,this._data=d,this._rockRidgeOffset=k};gn.prototype.hasRockRidge=function(){return this._rockRidgeOffset>-1},gn.prototype.getRockRidgeOffset=function(){return this._rockRidgeOffset},gn.prototype.rootCheckForRockRidge=function(d){var k=this.getDirectory(d);this._rockRidgeOffset=k.getDotEntry(d)._getRockRidgeOffset(d),this._rockRidgeOffset>-1&&(this._fileOrDir=null)},gn.prototype.length=function(){return this._data[0]},gn.prototype.extendedAttributeRecordLength=function(){return this._data[1]},gn.prototype.lba=function(){return this._data.readUInt32LE(2)*2048},gn.prototype.dataLength=function(){return this._data.readUInt32LE(10)},gn.prototype.recordingDate=function(){return Da(this._data,18)},gn.prototype.fileFlags=function(){return this._data[25]},gn.prototype.fileUnitSize=function(){return this._data[26]},gn.prototype.interleaveGapSize=function(){return this._data[27]},gn.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(28)},gn.prototype.identifier=function(){return this._getString(33,this._data[32])},gn.prototype.fileName=function(d){if(this.hasRockRidge()){var k=this._rockRidgeFilename(d);if(k!==null)return k}var h=this.identifier();if(this.isDirectory(d))return h;var Ee=h.indexOf(";");return Ee===-1?h:h[Ee-1]==="."?h.slice(0,Ee-1):h.slice(0,Ee)},gn.prototype.isDirectory=function(d){var k=!!(this.fileFlags()&2);return!k&&this.hasRockRidge()&&(k=this.getSUEntries(d).filter(function(h){return h instanceof $c}).length>0),k},gn.prototype.isSymlink=function(d){return this.hasRockRidge()&&this.getSUEntries(d).filter(function(k){return k instanceof Zc}).length>0},gn.prototype.getSymlinkPath=function(d){for(var k="",h=this.getSUEntries(d),Ee=this._getGetString(),Fe=0,Me=h;Fe<Me.length;Fe+=1){var Ge=Me[Fe];if(Ge instanceof Zc){for(var et=Ge.componentRecords(),ft=0,kt=et;ft<kt.length;ft+=1){var Wt=kt[ft],rr=Wt.flags();rr&2?k+="./":rr&4?k+="../":rr&8?k+="/":(k+=Wt.content(Ee),rr&1||(k+="/"))}if(!Ge.continueFlag())break}}return k.length>1&&k[k.length-1]==="/"?k.slice(0,k.length-1):k},gn.prototype.getFile=function(d){if(this.isDirectory(d))throw new Error("Tried to get a File from a directory.");return this._fileOrDir===null&&(this._fileOrDir=d.slice(this.lba(),this.lba()+this.dataLength())),this._fileOrDir},gn.prototype.getDirectory=function(d){if(!this.isDirectory(d))throw new Error("Tried to get a Directory from a file.");return this._fileOrDir===null&&(this._fileOrDir=this._constructDirectory(d)),this._fileOrDir},gn.prototype.getSUEntries=function(d){return this._suEntries||this._constructSUEntries(d),this._suEntries},gn.prototype._rockRidgeFilename=function(d){var k=this.getSUEntries(d).filter(function(et){return et instanceof Mu});if(k.length===0||k[0].flags()&6)return null;for(var h="",Ee=this._getGetString(),Fe=0,Me=k;Fe<Me.length;Fe+=1){var Ge=Me[Fe];if(h+=Ge.name(Ee),!(Ge.flags()&1))break}return h},gn.prototype._constructSUEntries=function(d){var k=33+this._data[32];k%2===1&&k++,k+=this._rockRidgeOffset,this._suEntries=Ou(this._data,k,this.length(),d)},gn.prototype._getRockRidgeOffset=function(d){this._rockRidgeOffset=0;var k=this.getSUEntries(d);if(k.length>0){var h=k[0];if(h instanceof Pu&&h.checkBytesPass())for(var Ee=1;Ee<k.length;Ee++){var Fe=k[Ee];if(Fe instanceof Nu||Fe instanceof qu&&Fe.extensionIdentifier()===$l)return h.bytesSkipped()}}return this._rockRidgeOffset=-1,-1};var Du=function(ne){function d(k,h){ne.call(this,k,h)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype._getString=function(h,Ee){return $n(this._data,h,Ee)},d.prototype._constructDirectory=function(h){return new uf(this,h)},d.prototype._getGetString=function(){return $n},d}(gn),Ru=function(ne){function d(k,h){ne.call(this,k,h)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype._getString=function(h,Ee){return Xc(this._data,h,Ee)},d.prototype._constructDirectory=function(h){return new lf(this,h)},d.prototype._getGetString=function(){return Xc},d}(gn),On=function(d){this._data=d};On.prototype.signatureWord=function(){return this._data.readUInt16BE(0)},On.prototype.signatureWordString=function(){return $n(this._data,0,2)},On.prototype.length=function(){return this._data[2]},On.prototype.suVersion=function(){return this._data[3]};var Fu=function(ne){function d(k){ne.call(this,k),this._entries=null}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.continuationLba=function(){return this._data.readUInt32LE(4)},d.prototype.continuationLbaOffset=function(){return this._data.readUInt32LE(12)},d.prototype.continuationLength=function(){return this._data.readUInt32LE(20)},d.prototype.getEntries=function(h){if(!this._entries){var Ee=this.continuationLba()*2048+this.continuationLbaOffset();this._entries=Ou(h,Ee,this.continuationLength(),h)}return this._entries},d}(On),nf=function(ne){function d(k){ne.call(this,k)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d}(On),Pu=function(ne){function d(k){ne.call(this,k)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.checkBytesPass=function(){return this._data[4]===190&&this._data[5]===239},d.prototype.bytesSkipped=function(){return this._data[6]},d}(On),Bu=function(ne){function d(k){ne.call(this,k)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d}(On),qu=function(ne){function d(k){ne.call(this,k)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.identifierLength=function(){return this._data[4]},d.prototype.descriptorLength=function(){return this._data[5]},d.prototype.sourceLength=function(){return this._data[6]},d.prototype.extensionVersion=function(){return this._data[7]},d.prototype.extensionIdentifier=function(){return $n(this._data,8,this.identifierLength())},d.prototype.extensionDescriptor=function(){return $n(this._data,8+this.identifierLength(),this.descriptorLength())},d.prototype.extensionSource=function(){return $n(this._data,8+this.identifierLength()+this.descriptorLength(),this.sourceLength())},d}(On),af=function(ne){function d(k){ne.call(this,k)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.extensionSequence=function(){return this._data[4]},d}(On),Nu=function(ne){function d(k){ne.call(this,k)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d}(On),Lu=function(ne){function d(k){ne.call(this,k)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.mode=function(){return this._data.readUInt32LE(4)},d.prototype.fileLinks=function(){return this._data.readUInt32LE(12)},d.prototype.uid=function(){return this._data.readUInt32LE(20)},d.prototype.gid=function(){return this._data.readUInt32LE(28)},d.prototype.inode=function(){return this._data.readUInt32LE(36)},d}(On),of=function(ne){function d(k){ne.call(this,k)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.devTHigh=function(){return this._data.readUInt32LE(4)},d.prototype.devTLow=function(){return this._data.readUInt32LE(12)},d}(On),Zc=function(ne){function d(k){ne.call(this,k)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.flags=function(){return this._data[4]},d.prototype.continueFlag=function(){return this.flags()&1},d.prototype.componentRecords=function(){for(var h=this,Ee=new Array,Fe=5;Fe<this.length();){var Me=new Ss(h._data.slice(Fe));Ee.push(Me),Fe+=Me.length()}return Ee},d}(On),Ss=function(d){this._data=d};Ss.prototype.flags=function(){return this._data[0]},Ss.prototype.length=function(){return 2+this.componentLength()},Ss.prototype.componentLength=function(){return this._data[1]},Ss.prototype.content=function(d){return d(this._data,2,this.componentLength())};var Mu=function(ne){function d(k){ne.call(this,k)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.flags=function(){return this._data[4]},d.prototype.name=function(h){return h(this._data,5,this.length()-5)},d}(On),$c=function(ne){function d(k){ne.call(this,k)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.childDirectoryLba=function(){return this._data.readUInt32LE(4)},d}(On),sf=function(ne){function d(k){ne.call(this,k)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.parentDirectoryLba=function(){return this._data.readUInt32LE(4)},d}(On),Vu=function(ne){function d(k){ne.call(this,k)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d}(On),Uu=function(ne){function d(k){ne.call(this,k)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.flags=function(){return this._data[4]},d.prototype.creation=function(){return this.flags()&1?this._longFormDates()?Di(this._data,5):Da(this._data,5):null},d.prototype.modify=function(){if(this.flags()&2){var h=this.flags()&1?1:0;return this._longFormDates?Di(this._data,5+h*17):Da(this._data,5+h*7)}else return null},d.prototype.access=function(){if(this.flags()&4){var h=this.flags()&1?1:0;return h+=this.flags()&2?1:0,this._longFormDates?Di(this._data,5+h*17):Da(this._data,5+h*7)}else return null},d.prototype.backup=function(){if(this.flags()&16){var h=this.flags()&1?1:0;return h+=this.flags()&2?1:0,h+=this.flags()&4?1:0,this._longFormDates?Di(this._data,5+h*17):Da(this._data,5+h*7)}else return null},d.prototype.expiration=function(){if(this.flags()&32){var h=this.flags()&1?1:0;return h+=this.flags()&2?1:0,h+=this.flags()&4?1:0,h+=this.flags()&16?1:0,this._longFormDates?Di(this._data,5+h*17):Da(this._data,5+h*7)}else return null},d.prototype.effective=function(){if(this.flags()&64){var h=this.flags()&1?1:0;return h+=this.flags()&2?1:0,h+=this.flags()&4?1:0,h+=this.flags()&16?1:0,h+=this.flags()&32?1:0,this._longFormDates?Di(this._data,5+h*17):Da(this._data,5+h*7)}else return null},d.prototype._longFormDates=function(){return!!this.flags()},d}(On),cf=function(ne){function d(k){ne.call(this,k)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype.virtualSizeHigh=function(){return this._data.readUInt32LE(4)},d.prototype.virtualSizeLow=function(){return this._data.readUInt32LE(12)},d.prototype.tableDepth=function(){return this._data[20]},d}(On),As=function(d,k){var h=this;this._fileList=[],this._fileMap={},this._record=d;var Ee=d.lba(),Fe=Ee+d.dataLength();if(!(d.fileFlags()&2)){var Me=d.getSUEntries(k).filter(function(kt){return kt instanceof $c})[0];Ee=Me.childDirectoryLba()*2048,Fe=1/0}for(;Ee<Fe;){var Ge=k[Ee];if(Ge===0){Ee++;continue}var et=h._constructDirectoryRecord(k.slice(Ee)),ft=et.fileName(k);ft!=="\0"&&ft!==""?(!et.hasRockRidge()||et.getSUEntries(k).filter(function(kt){return kt instanceof Vu}).length===0)&&(h._fileMap[ft]=et,h._fileList.push(ft)):Fe===1/0&&(Fe=Ee+et.dataLength()),Ee+=et.length()}};As.prototype.getRecord=function(d){return this._fileMap[d]},As.prototype.getFileList=function(){return this._fileList},As.prototype.getDotEntry=function(d){return this._constructDirectoryRecord(d.slice(this._record.lba()))};var uf=function(ne){function d(k,h){ne.call(this,k,h)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype._constructDirectoryRecord=function(h){return new Du(h,this._record.getRockRidgeOffset())},d}(As),lf=function(ne){function d(k,h){ne.call(this,k,h)}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.prototype._constructDirectoryRecord=function(h){return new Ru(h,this._record.getRockRidgeOffset())},d}(As),R0=function(ne){function d(k,h,Ee){var Fe=this;h===void 0&&(h=""),Ee===void 0&&(Ee=!0),ne.call(this),this._data=k,Zt(Ee,d.Name,{data:"ISO data as a Buffer",name:h});for(var Me=!1,Ge=16*2048,et=new Array;!Me;){var ft=k.slice(Ge),kt=new Eo(ft);switch(kt.type()){case 1:et.push(new tf(ft));break;case 2:et.push(new rf(ft));break;case 255:Me=!0;break}Ge+=2048}if(et.length===0)throw new _e(Ae.EIO,"Unable to find a suitable volume descriptor.");et.forEach(function(Wt){(!Fe._pvd||Fe._pvd.type()!==2)&&(Fe._pvd=Wt)}),this._root=this._pvd.rootDirectoryEntry(k),this._name=h}return ne&&(d.__proto__=ne),d.prototype=Object.create(ne&&ne.prototype),d.prototype.constructor=d,d.Create=function(h,Ee){var Fe,Me;try{Fe=new d(h.data,h.name,!1)}catch(Ge){Ge=Ge}finally{Ee(Me,Fe)}},d.isAvailable=function(){return!0},d.prototype.getName=function(){var h="IsoFS"+this._name+(this._pvd?"-"+this._pvd.name():"");return this._root&&this._root.hasRockRidge()&&(h+="-RockRidge"),h},d.prototype.diskSpace=function(h,Ee){Ee(this._data.length,0)},d.prototype.isReadOnly=function(){return!0},d.prototype.supportsLinks=function(){return!1},d.prototype.supportsProps=function(){return!1},d.prototype.supportsSynch=function(){return!0},d.prototype.statSync=function(h,Ee){var Fe=this._getDirectoryRecord(h);if(Fe===null)throw _e.ENOENT(h);return this._getStats(h,Fe)},d.prototype.openSync=function(h,Ee,Fe){if(Ee.isWriteable())throw new _e(Ae.EPERM,h);var Me=this._getDirectoryRecord(h);if(Me){if(Me.isSymlink(this._data))return this.openSync(Oe.resolve(h,Me.getSymlinkPath(this._data)),Ee,Fe);if(Me.isDirectory(this._data))throw _e.EISDIR(h);var Ge=Me.getFile(this._data),et=this._getStats(h,Me);switch(Ee.pathExistsAction()){case Be.THROW_EXCEPTION:case Be.TRUNCATE_FILE:throw _e.EEXIST(h);case Be.NOP:return new Rt(this,h,Ee,et,Ge);default:throw new _e(Ae.EINVAL,"Invalid FileMode object.")}}else throw _e.ENOENT(h)},d.prototype.readdirSync=function(h){var Ee=this._getDirectoryRecord(h);if(Ee){if(Ee.isDirectory(this._data))return Ee.getDirectory(this._data).getFileList().slice(0);throw _e.ENOTDIR(h)}else throw _e.ENOENT(h)},d.prototype.readFileSync=function(h,Ee,Fe){var Me=this.openSync(h,Fe,420);try{var Ge=Me,et=Ge.getBuffer();return Ee===null?fr(et):et.toString(Ee)}finally{Me.closeSync()}},d.prototype._getDirectoryRecord=function(h){var Ee=this;if(h==="/")return this._root;for(var Fe=h.split("/").slice(1),Me=this._root,Ge=0,et=Fe;Ge<et.length;Ge+=1){var ft=et[Ge];if(Me.isDirectory(Ee._data)){if(Me=Me.getDirectory(Ee._data).getRecord(ft),!Me)return null}else return null}return Me},d.prototype._getStats=function(h,Ee){if(Ee.isSymlink(this._data)){var Fe=Oe.resolve(h,Ee.getSymlinkPath(this._data)),Me=this._getDirectoryRecord(Fe);return Me?this._getStats(Fe,Me):null}else{var Ge=Ee.dataLength(),et=365,ft=Ee.recordingDate(),kt=ft,Wt=ft,rr=ft;if(Ee.hasRockRidge())for(var vr=Ee.getSUEntries(this._data),mr=0,Pr=vr;mr<Pr.length;mr+=1){var jr=Pr[mr];if(jr instanceof Lu)et=jr.mode();else if(jr instanceof Uu){var Hr=jr.flags();Hr&4&&(kt=jr.access()),Hr&2&&(Wt=jr.modify()),Hr&1&&(rr=jr.creation())}}return et=et&365,new Ue(Ee.isDirectory(this._data)?Ve.DIRECTORY:Ve.FILE,Ge,et,kt,Wt,rr)}},d}(Ht);R0.Name="IsoFS",R0.Options={data:{type:"object",description:"The ISO file in a buffer",validator:lt}},[rt,lo,ho,Ci,_o,Kn,ot,R0,Tt,Mt,An,O0,T0,Ta].forEach(function(ne){var d=ne.Create;ne.Create=function(k,h){var Ee=typeof k=="function",Fe=Ee?k:h,Me=Ee?{}:k;function Ge(et){et?Fe(et):d.call(ne,Me,Fe)}bt(ne,Me,Ge)}});var F0={AsyncMirror:rt,Dropbox:lo,Emscripten:ho,FolderAdapter:Ci,HTML5FS:_o,InMemory:Kn,IndexedDB:ot,IsoFS:R0,LocalStorage:Tt,MountableFileSystem:Mt,OverlayFS:An,WorkerFS:O0,XmlHttpRequest:T0,ZipFS:Ta};Te.initializeTTYs&&Te.initializeTTYs();function ff(ne){ne.Buffer=f,ne.process=Te;var d=ne.require?ne.require:null;ne.require=function(k){var h=ju(k);return h||d.apply(null,Array.prototype.slice.call(arguments,0))}}function df(ne,d){F0[ne]=d}function ju(ne){switch(ne){case"fs":return nt;case"path":return Oe;case"buffer":return Ie;case"process":return Te;case"bfs_utils":return Xt;default:return F0[ne]}}function zu(ne){return nt.initialize(ne)}function hf(ne,d){eu(ne,function(k,h){h?(zu(h),d()):d(k)})}function eu(ne,d){var k=ne.fs;if(!k)return d(new _e(Ae.EPERM,'Missing "fs" property on configuration object.'));var h=ne.options,Ee=0,Fe=!1;function Me(){if(!Fe){Fe=!0;var ft=F0[k];ft?ft.Create(h,d):d(new _e(Ae.EPERM,"File system "+k+" is not available in BrowserFS."))}}if(h!==null&&typeof h=="object"){var Ge=!1,et=Object.keys(h).filter(function(ft){return ft!=="fs"});et.forEach(function(ft){var kt=h[ft];kt!==null&&typeof kt=="object"&&kt.fs&&(Ee++,eu(kt,function(Wt,rr){if(Ee--,Wt){if(Fe)return;Fe=!0,d(Wt)}else h[ft]=rr,Ee===0&&Ge&&Me()}))}),Ge=!0}Ee===0&&Me()}"ab".substr(-1)!=="b"&&(String.prototype.substr=function(ne){return function(d,k){return d<0&&(d=this.length+d),ne.call(this,d,k)}}(String.prototype.substr)),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&(Uint8Array.prototype.slice||(Uint8Array.prototype.slice=function(ne,d){ne===void 0&&(ne=0),d===void 0&&(d=this.length);var k=this;return ne<0&&(ne=this.length+ne,ne<0&&(ne=0)),d<0&&(d=this.length+d,d<0&&(d=0)),d<ne&&(d=ne),new Uint8Array(k.buffer,k.byteOffset+ne,d-ne)})),i.install=ff,i.registerFileSystem=df,i.BFSRequire=ju,i.initialize=zu,i.configure=hf,i.getFileSystem=eu,i.EmscriptenFS=Qe,i.FileSystem=F0,i.Errors=qe,i.setImmediate=Sr}).call(i,c(1),function(){return this}(),c(5)(e),c(6))},function(e,i,c){e.exports=c(2).Buffer},function(e,i,c){(function(Ae){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
* @license  MIT
*/var m=c(3),g=c(4);i.Buffer=Ae,i.SlowBuffer=Ze,i.INSPECT_MAX_BYTES=50;var Te=2147483647;i.kMaxLength=Te,Ae.TYPED_ARRAY_SUPPORT=Ie(),!Ae.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Ie(){try{var rt=new Uint8Array(1);return rt.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},rt.foo()===42}catch{return!1}}function Oe(rt){if(rt>Te)throw new RangeError("Invalid typed array length");var je=new Uint8Array(rt);return je.__proto__=Ae.prototype,je}function Ae(rt,je,Ke){if(typeof rt=="number"){if(typeof je=="string")throw new Error("If encoding is specified then the first argument must be a string");return Be(rt)}return De(rt,je,Ke)}typeof Symbol<"u"&&Symbol.species&&Ae[Symbol.species]===Ae&&Object.defineProperty(Ae,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),Ae.poolSize=8192;function De(rt,je,Ke){if(typeof rt=="number")throw new TypeError('"value" argument must not be a number');return xt(rt)?Ue(rt,je,Ke):typeof rt=="string"?Ne(rt,je):We(rt)}Ae.from=function(rt,je,Ke){return De(rt,je,Ke)},Ae.prototype.__proto__=Uint8Array.prototype,Ae.__proto__=Uint8Array;function _e(rt){if(typeof rt!="number")throw new TypeError('"size" argument must be a number');if(rt<0)throw new RangeError('"size" argument must not be negative')}function qe(rt,je,Ke){return _e(rt),rt<=0?Oe(rt):je!==void 0?typeof Ke=="string"?Oe(rt).fill(je,Ke):Oe(rt).fill(je):Oe(rt)}Ae.alloc=function(rt,je,Ke){return qe(rt,je,Ke)};function Be(rt){return _e(rt),Oe(rt<0?0:He(rt)|0)}Ae.allocUnsafe=function(rt){return Be(rt)},Ae.allocUnsafeSlow=function(rt){return Be(rt)};function Ne(rt,je){if((typeof je!="string"||je==="")&&(je="utf8"),!Ae.isEncoding(je))throw new TypeError('"encoding" must be a valid string encoding');var Ke=ct(rt,je)|0,ut=Oe(Ke),vt=ut.write(rt,je);return vt!==Ke&&(ut=ut.slice(0,vt)),ut}function Ve(rt){for(var je=rt.length<0?0:He(rt.length)|0,Ke=Oe(je),ut=0;ut<je;ut+=1)Ke[ut]=rt[ut]&255;return Ke}function Ue(rt,je,Ke){if(je<0||rt.byteLength<je)throw new RangeError("'offset' is out of bounds");if(rt.byteLength<je+(Ke||0))throw new RangeError("'length' is out of bounds");var ut;return je===void 0&&Ke===void 0?ut=new Uint8Array(rt):Ke===void 0?ut=new Uint8Array(rt,je):ut=new Uint8Array(rt,je,Ke),ut.__proto__=Ae.prototype,ut}function We(rt){if(Ae.isBuffer(rt)){var je=He(rt.length)|0,Ke=Oe(je);return Ke.length===0||rt.copy(Ke,0,0,je),Ke}if(rt){if(Rt(rt)||"length"in rt)return typeof rt.length!="number"||er(rt.length)?Oe(0):Ve(rt);if(rt.type==="Buffer"&&Array.isArray(rt.data))return Ve(rt.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function He(rt){if(rt>=Te)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Te.toString(16)+" bytes");return rt|0}function Ze(rt){return+rt!=rt&&(rt=0),Ae.alloc(+rt)}Ae.isBuffer=function(je){return je!=null&&je._isBuffer===!0},Ae.compare=function(je,Ke){if(!Ae.isBuffer(je)||!Ae.isBuffer(Ke))throw new TypeError("Arguments must be Buffers");if(je===Ke)return 0;for(var ut=je.length,vt=Ke.length,Ct=0,Lt=Math.min(ut,vt);Ct<Lt;++Ct)if(je[Ct]!==Ke[Ct]){ut=je[Ct],vt=Ke[Ct];break}return ut<vt?-1:vt<ut?1:0},Ae.isEncoding=function(je){switch(String(je).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Ae.concat=function(je,Ke){if(!Array.isArray(je))throw new TypeError('"list" argument must be an Array of Buffers');if(je.length===0)return Ae.alloc(0);var ut;if(Ke===void 0)for(Ke=0,ut=0;ut<je.length;++ut)Ke+=je[ut].length;var vt=Ae.allocUnsafe(Ke),Ct=0;for(ut=0;ut<je.length;++ut){var Lt=je[ut];if(!Ae.isBuffer(Lt))throw new TypeError('"list" argument must be an Array of Buffers');Lt.copy(vt,Ct),Ct+=Lt.length}return vt};function ct(rt,je){if(Ae.isBuffer(rt))return rt.length;if(Rt(rt)||xt(rt))return rt.byteLength;typeof rt!="string"&&(rt=""+rt);var Ke=rt.length;if(Ke===0)return 0;for(var ut=!1;;)switch(je){case"ascii":case"latin1":case"binary":return Ke;case"utf8":case"utf-8":case void 0:return pr(rt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ke*2;case"hex":return Ke>>>1;case"base64":return Ht(rt).length;default:if(ut)return pr(rt).length;je=(""+je).toLowerCase(),ut=!0}}Ae.byteLength=ct;function at(rt,je,Ke){var ut=!1;if((je===void 0||je<0)&&(je=0),je>this.length||((Ke===void 0||Ke>this.length)&&(Ke=this.length),Ke<=0)||(Ke>>>=0,je>>>=0,Ke<=je))return"";for(rt||(rt="utf8");;)switch(rt){case"hex":return Bt(this,je,Ke);case"utf8":case"utf-8":return cr(this,je,Ke);case"ascii":return st(this,je,Ke);case"latin1":case"binary":return dt(this,je,Ke);case"base64":return zt(this,je,Ke);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return At(this,je,Ke);default:if(ut)throw new TypeError("Unknown encoding: "+rt);rt=(rt+"").toLowerCase(),ut=!0}}Ae.prototype._isBuffer=!0;function gt(rt,je,Ke){var ut=rt[je];rt[je]=rt[Ke],rt[Ke]=ut}Ae.prototype.swap16=function(){var je=this.length;if(je%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Ke=0;Ke<je;Ke+=2)gt(this,Ke,Ke+1);return this},Ae.prototype.swap32=function(){var je=this.length;if(je%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Ke=0;Ke<je;Ke+=4)gt(this,Ke,Ke+3),gt(this,Ke+1,Ke+2);return this},Ae.prototype.swap64=function(){var je=this.length;if(je%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Ke=0;Ke<je;Ke+=8)gt(this,Ke,Ke+7),gt(this,Ke+1,Ke+6),gt(this,Ke+2,Ke+5),gt(this,Ke+3,Ke+4);return this},Ae.prototype.toString=function(){var je=this.length;return je===0?"":arguments.length===0?cr(this,0,je):at.apply(this,arguments)},Ae.prototype.equals=function(je){if(!Ae.isBuffer(je))throw new TypeError("Argument must be a Buffer");return this===je?!0:Ae.compare(this,je)===0},Ae.prototype.inspect=function(){var je="",Ke=i.INSPECT_MAX_BYTES;return this.length>0&&(je=this.toString("hex",0,Ke).match(/.{2}/g).join(" "),this.length>Ke&&(je+=" ... ")),"<Buffer "+je+">"},Ae.prototype.compare=function(je,Ke,ut,vt,Ct){if(!Ae.isBuffer(je))throw new TypeError("Argument must be a Buffer");if(Ke===void 0&&(Ke=0),ut===void 0&&(ut=je?je.length:0),vt===void 0&&(vt=0),Ct===void 0&&(Ct=this.length),Ke<0||ut>je.length||vt<0||Ct>this.length)throw new RangeError("out of range index");if(vt>=Ct&&Ke>=ut)return 0;if(vt>=Ct)return-1;if(Ke>=ut)return 1;if(Ke>>>=0,ut>>>=0,vt>>>=0,Ct>>>=0,this===je)return 0;for(var Lt=Ct-vt,sr=ut-Ke,Rr=Math.min(Lt,sr),qr=this.slice(vt,Ct),wr=je.slice(Ke,ut),dr=0;dr<Rr;++dr)if(qr[dr]!==wr[dr]){Lt=qr[dr],sr=wr[dr];break}return Lt<sr?-1:sr<Lt?1:0};function yt(rt,je,Ke,ut,vt){if(rt.length===0)return-1;if(typeof Ke=="string"?(ut=Ke,Ke=0):Ke>2147483647?Ke=2147483647:Ke<-2147483648&&(Ke=-2147483648),Ke=+Ke,er(Ke)&&(Ke=vt?0:rt.length-1),Ke<0&&(Ke=rt.length+Ke),Ke>=rt.length){if(vt)return-1;Ke=rt.length-1}else if(Ke<0)if(vt)Ke=0;else return-1;if(typeof je=="string"&&(je=Ae.from(je,ut)),Ae.isBuffer(je))return je.length===0?-1:tt(rt,je,Ke,ut,vt);if(typeof je=="number")return je=je&255,typeof Uint8Array.prototype.indexOf=="function"?vt?Uint8Array.prototype.indexOf.call(rt,je,Ke):Uint8Array.prototype.lastIndexOf.call(rt,je,Ke):tt(rt,[je],Ke,ut,vt);throw new TypeError("val must be string, number or Buffer")}function tt(rt,je,Ke,ut,vt){var Ct=1,Lt=rt.length,sr=je.length;if(ut!==void 0&&(ut=String(ut).toLowerCase(),ut==="ucs2"||ut==="ucs-2"||ut==="utf16le"||ut==="utf-16le")){if(rt.length<2||je.length<2)return-1;Ct=2,Lt/=2,sr/=2,Ke/=2}function Rr(on,Ir){return Ct===1?on[Ir]:on.readUInt16BE(Ir*Ct)}var qr;if(vt){var wr=-1;for(qr=Ke;qr<Lt;qr++)if(Rr(rt,qr)===Rr(je,wr===-1?0:qr-wr)){if(wr===-1&&(wr=qr),qr-wr+1===sr)return wr*Ct}else wr!==-1&&(qr-=qr-wr),wr=-1}else for(Ke+sr>Lt&&(Ke=Lt-sr),qr=Ke;qr>=0;qr--){for(var dr=!0,Vr=0;Vr<sr;Vr++)if(Rr(rt,qr+Vr)!==Rr(je,Vr)){dr=!1;break}if(dr)return qr}return-1}Ae.prototype.includes=function(je,Ke,ut){return this.indexOf(je,Ke,ut)!==-1},Ae.prototype.indexOf=function(je,Ke,ut){return yt(this,je,Ke,ut,!0)},Ae.prototype.lastIndexOf=function(je,Ke,ut){return yt(this,je,Ke,ut,!1)};function pt(rt,je,Ke,ut){Ke=Number(Ke)||0;var vt=rt.length-Ke;ut?(ut=Number(ut),ut>vt&&(ut=vt)):ut=vt;var Ct=je.length;if(Ct%2!==0)throw new TypeError("Invalid hex string");ut>Ct/2&&(ut=Ct/2);for(var Lt=0;Lt<ut;++Lt){var sr=parseInt(je.substr(Lt*2,2),16);if(er(sr))return Lt;rt[Ke+Lt]=sr}return Lt}function nt(rt,je,Ke,ut){return ht(pr(je,rt.length-Ke),rt,Ke,ut)}function mt(rt,je,Ke,ut){return ht(Qe(je),rt,Ke,ut)}function Xe(rt,je,Ke,ut){return mt(rt,je,Ke,ut)}function Ft(rt,je,Ke,ut){return ht(Ht(je),rt,Ke,ut)}function Zt(rt,je,Ke,ut){return ht(It(je,rt.length-Ke),rt,Ke,ut)}Ae.prototype.write=function(je,Ke,ut,vt){if(Ke===void 0)vt="utf8",ut=this.length,Ke=0;else if(ut===void 0&&typeof Ke=="string")vt=Ke,ut=this.length,Ke=0;else if(isFinite(Ke))Ke=Ke>>>0,isFinite(ut)?(ut=ut>>>0,vt===void 0&&(vt="utf8")):(vt=ut,ut=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Ct=this.length-Ke;if((ut===void 0||ut>Ct)&&(ut=Ct),je.length>0&&(ut<0||Ke<0)||Ke>this.length)throw new RangeError("Attempt to write outside buffer bounds");vt||(vt="utf8");for(var Lt=!1;;)switch(vt){case"hex":return pt(this,je,Ke,ut);case"utf8":case"utf-8":return nt(this,je,Ke,ut);case"ascii":return mt(this,je,Ke,ut);case"latin1":case"binary":return Xe(this,je,Ke,ut);case"base64":return Ft(this,je,Ke,ut);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Zt(this,je,Ke,ut);default:if(Lt)throw new TypeError("Unknown encoding: "+vt);vt=(""+vt).toLowerCase(),Lt=!0}},Ae.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function zt(rt,je,Ke){return je===0&&Ke===rt.length?m.fromByteArray(rt):m.fromByteArray(rt.slice(je,Ke))}function cr(rt,je,Ke){Ke=Math.min(rt.length,Ke);for(var ut=[],vt=je;vt<Ke;){var Ct=rt[vt],Lt=null,sr=Ct>239?4:Ct>223?3:Ct>191?2:1;if(vt+sr<=Ke){var Rr,qr,wr,dr;switch(sr){case 1:Ct<128&&(Lt=Ct);break;case 2:Rr=rt[vt+1],(Rr&192)===128&&(dr=(Ct&31)<<6|Rr&63,dr>127&&(Lt=dr));break;case 3:Rr=rt[vt+1],qr=rt[vt+2],(Rr&192)===128&&(qr&192)===128&&(dr=(Ct&15)<<12|(Rr&63)<<6|qr&63,dr>2047&&(dr<55296||dr>57343)&&(Lt=dr));break;case 4:Rr=rt[vt+1],qr=rt[vt+2],wr=rt[vt+3],(Rr&192)===128&&(qr&192)===128&&(wr&192)===128&&(dr=(Ct&15)<<18|(Rr&63)<<12|(qr&63)<<6|wr&63,dr>65535&&dr<1114112&&(Lt=dr))}}Lt===null?(Lt=65533,sr=1):Lt>65535&&(Lt-=65536,ut.push(Lt>>>10&1023|55296),Lt=56320|Lt&1023),ut.push(Lt),vt+=sr}return St(ut)}var Et=4096;function St(rt){var je=rt.length;if(je<=Et)return String.fromCharCode.apply(String,rt);for(var Ke="",ut=0;ut<je;)Ke+=String.fromCharCode.apply(String,rt.slice(ut,ut+=Et));return Ke}function st(rt,je,Ke){var ut="";Ke=Math.min(rt.length,Ke);for(var vt=je;vt<Ke;++vt)ut+=String.fromCharCode(rt[vt]&127);return ut}function dt(rt,je,Ke){var ut="";Ke=Math.min(rt.length,Ke);for(var vt=je;vt<Ke;++vt)ut+=String.fromCharCode(rt[vt]);return ut}function Bt(rt,je,Ke){var ut=rt.length;(!je||je<0)&&(je=0),(!Ke||Ke<0||Ke>ut)&&(Ke=ut);for(var vt="",Ct=je;Ct<Ke;++Ct)vt+=$t(rt[Ct]);return vt}function At(rt,je,Ke){for(var ut=rt.slice(je,Ke),vt="",Ct=0;Ct<ut.length;Ct+=2)vt+=String.fromCharCode(ut[Ct]+ut[Ct+1]*256);return vt}Ae.prototype.slice=function(je,Ke){var ut=this.length;je=~~je,Ke=Ke===void 0?ut:~~Ke,je<0?(je+=ut,je<0&&(je=0)):je>ut&&(je=ut),Ke<0?(Ke+=ut,Ke<0&&(Ke=0)):Ke>ut&&(Ke=ut),Ke<je&&(Ke=je);var vt=this.subarray(je,Ke);return vt.__proto__=Ae.prototype,vt};function Kt(rt,je,Ke){if(rt%1!==0||rt<0)throw new RangeError("offset is not uint");if(rt+je>Ke)throw new RangeError("Trying to access beyond buffer length")}Ae.prototype.readUIntLE=function(je,Ke,ut){je=je>>>0,Ke=Ke>>>0,ut||Kt(je,Ke,this.length);for(var vt=this[je],Ct=1,Lt=0;++Lt<Ke&&(Ct*=256);)vt+=this[je+Lt]*Ct;return vt},Ae.prototype.readUIntBE=function(je,Ke,ut){je=je>>>0,Ke=Ke>>>0,ut||Kt(je,Ke,this.length);for(var vt=this[je+--Ke],Ct=1;Ke>0&&(Ct*=256);)vt+=this[je+--Ke]*Ct;return vt},Ae.prototype.readUInt8=function(je,Ke){return je=je>>>0,Ke||Kt(je,1,this.length),this[je]},Ae.prototype.readUInt16LE=function(je,Ke){return je=je>>>0,Ke||Kt(je,2,this.length),this[je]|this[je+1]<<8},Ae.prototype.readUInt16BE=function(je,Ke){return je=je>>>0,Ke||Kt(je,2,this.length),this[je]<<8|this[je+1]},Ae.prototype.readUInt32LE=function(je,Ke){return je=je>>>0,Ke||Kt(je,4,this.length),(this[je]|this[je+1]<<8|this[je+2]<<16)+this[je+3]*16777216},Ae.prototype.readUInt32BE=function(je,Ke){return je=je>>>0,Ke||Kt(je,4,this.length),this[je]*16777216+(this[je+1]<<16|this[je+2]<<8|this[je+3])},Ae.prototype.readIntLE=function(je,Ke,ut){je=je>>>0,Ke=Ke>>>0,ut||Kt(je,Ke,this.length);for(var vt=this[je],Ct=1,Lt=0;++Lt<Ke&&(Ct*=256);)vt+=this[je+Lt]*Ct;return Ct*=128,vt>=Ct&&(vt-=Math.pow(2,8*Ke)),vt},Ae.prototype.readIntBE=function(je,Ke,ut){je=je>>>0,Ke=Ke>>>0,ut||Kt(je,Ke,this.length);for(var vt=Ke,Ct=1,Lt=this[je+--vt];vt>0&&(Ct*=256);)Lt+=this[je+--vt]*Ct;return Ct*=128,Lt>=Ct&&(Lt-=Math.pow(2,8*Ke)),Lt},Ae.prototype.readInt8=function(je,Ke){return je=je>>>0,Ke||Kt(je,1,this.length),this[je]&128?(255-this[je]+1)*-1:this[je]},Ae.prototype.readInt16LE=function(je,Ke){je=je>>>0,Ke||Kt(je,2,this.length);var ut=this[je]|this[je+1]<<8;return ut&32768?ut|4294901760:ut},Ae.prototype.readInt16BE=function(je,Ke){je=je>>>0,Ke||Kt(je,2,this.length);var ut=this[je+1]|this[je]<<8;return ut&32768?ut|4294901760:ut},Ae.prototype.readInt32LE=function(je,Ke){return je=je>>>0,Ke||Kt(je,4,this.length),this[je]|this[je+1]<<8|this[je+2]<<16|this[je+3]<<24},Ae.prototype.readInt32BE=function(je,Ke){return je=je>>>0,Ke||Kt(je,4,this.length),this[je]<<24|this[je+1]<<16|this[je+2]<<8|this[je+3]},Ae.prototype.readFloatLE=function(je,Ke){return je=je>>>0,Ke||Kt(je,4,this.length),g.read(this,je,!0,23,4)},Ae.prototype.readFloatBE=function(je,Ke){return je=je>>>0,Ke||Kt(je,4,this.length),g.read(this,je,!1,23,4)},Ae.prototype.readDoubleLE=function(je,Ke){return je=je>>>0,Ke||Kt(je,8,this.length),g.read(this,je,!0,52,8)},Ae.prototype.readDoubleBE=function(je,Ke){return je=je>>>0,Ke||Kt(je,8,this.length),g.read(this,je,!1,52,8)};function fr(rt,je,Ke,ut,vt,Ct){if(!Ae.isBuffer(rt))throw new TypeError('"buffer" argument must be a Buffer instance');if(je>vt||je<Ct)throw new RangeError('"value" argument is out of bounds');if(Ke+ut>rt.length)throw new RangeError("Index out of range")}Ae.prototype.writeUIntLE=function(je,Ke,ut,vt){if(je=+je,Ke=Ke>>>0,ut=ut>>>0,!vt){var Ct=Math.pow(2,8*ut)-1;fr(this,je,Ke,ut,Ct,0)}var Lt=1,sr=0;for(this[Ke]=je&255;++sr<ut&&(Lt*=256);)this[Ke+sr]=je/Lt&255;return Ke+ut},Ae.prototype.writeUIntBE=function(je,Ke,ut,vt){if(je=+je,Ke=Ke>>>0,ut=ut>>>0,!vt){var Ct=Math.pow(2,8*ut)-1;fr(this,je,Ke,ut,Ct,0)}var Lt=ut-1,sr=1;for(this[Ke+Lt]=je&255;--Lt>=0&&(sr*=256);)this[Ke+Lt]=je/sr&255;return Ke+ut},Ae.prototype.writeUInt8=function(je,Ke,ut){return je=+je,Ke=Ke>>>0,ut||fr(this,je,Ke,1,255,0),this[Ke]=je&255,Ke+1},Ae.prototype.writeUInt16LE=function(je,Ke,ut){return je=+je,Ke=Ke>>>0,ut||fr(this,je,Ke,2,65535,0),this[Ke]=je&255,this[Ke+1]=je>>>8,Ke+2},Ae.prototype.writeUInt16BE=function(je,Ke,ut){return je=+je,Ke=Ke>>>0,ut||fr(this,je,Ke,2,65535,0),this[Ke]=je>>>8,this[Ke+1]=je&255,Ke+2},Ae.prototype.writeUInt32LE=function(je,Ke,ut){return je=+je,Ke=Ke>>>0,ut||fr(this,je,Ke,4,4294967295,0),this[Ke+3]=je>>>24,this[Ke+2]=je>>>16,this[Ke+1]=je>>>8,this[Ke]=je&255,Ke+4},Ae.prototype.writeUInt32BE=function(je,Ke,ut){return je=+je,Ke=Ke>>>0,ut||fr(this,je,Ke,4,4294967295,0),this[Ke]=je>>>24,this[Ke+1]=je>>>16,this[Ke+2]=je>>>8,this[Ke+3]=je&255,Ke+4},Ae.prototype.writeIntLE=function(je,Ke,ut,vt){if(je=+je,Ke=Ke>>>0,!vt){var Ct=Math.pow(2,8*ut-1);fr(this,je,Ke,ut,Ct-1,-Ct)}var Lt=0,sr=1,Rr=0;for(this[Ke]=je&255;++Lt<ut&&(sr*=256);)je<0&&Rr===0&&this[Ke+Lt-1]!==0&&(Rr=1),this[Ke+Lt]=(je/sr>>0)-Rr&255;return Ke+ut},Ae.prototype.writeIntBE=function(je,Ke,ut,vt){if(je=+je,Ke=Ke>>>0,!vt){var Ct=Math.pow(2,8*ut-1);fr(this,je,Ke,ut,Ct-1,-Ct)}var Lt=ut-1,sr=1,Rr=0;for(this[Ke+Lt]=je&255;--Lt>=0&&(sr*=256);)je<0&&Rr===0&&this[Ke+Lt+1]!==0&&(Rr=1),this[Ke+Lt]=(je/sr>>0)-Rr&255;return Ke+ut},Ae.prototype.writeInt8=function(je,Ke,ut){return je=+je,Ke=Ke>>>0,ut||fr(this,je,Ke,1,127,-128),je<0&&(je=255+je+1),this[Ke]=je&255,Ke+1},Ae.prototype.writeInt16LE=function(je,Ke,ut){return je=+je,Ke=Ke>>>0,ut||fr(this,je,Ke,2,32767,-32768),this[Ke]=je&255,this[Ke+1]=je>>>8,Ke+2},Ae.prototype.writeInt16BE=function(je,Ke,ut){return je=+je,Ke=Ke>>>0,ut||fr(this,je,Ke,2,32767,-32768),this[Ke]=je>>>8,this[Ke+1]=je&255,Ke+2},Ae.prototype.writeInt32LE=function(je,Ke,ut){return je=+je,Ke=Ke>>>0,ut||fr(this,je,Ke,4,2147483647,-2147483648),this[Ke]=je&255,this[Ke+1]=je>>>8,this[Ke+2]=je>>>16,this[Ke+3]=je>>>24,Ke+4},Ae.prototype.writeInt32BE=function(je,Ke,ut){return je=+je,Ke=Ke>>>0,ut||fr(this,je,Ke,4,2147483647,-2147483648),je<0&&(je=4294967295+je+1),this[Ke]=je>>>24,this[Ke+1]=je>>>16,this[Ke+2]=je>>>8,this[Ke+3]=je&255,Ke+4};function Dr(rt,je,Ke,ut,vt,Ct){if(Ke+ut>rt.length)throw new RangeError("Index out of range");if(Ke<0)throw new RangeError("Index out of range")}function or(rt,je,Ke,ut,vt){return je=+je,Ke=Ke>>>0,vt||Dr(rt,je,Ke,4),g.write(rt,je,Ke,ut,23,4),Ke+4}Ae.prototype.writeFloatLE=function(je,Ke,ut){return or(this,je,Ke,!0,ut)},Ae.prototype.writeFloatBE=function(je,Ke,ut){return or(this,je,Ke,!1,ut)};function lt(rt,je,Ke,ut,vt){return je=+je,Ke=Ke>>>0,vt||Dr(rt,je,Ke,8),g.write(rt,je,Ke,ut,52,8),Ke+8}Ae.prototype.writeDoubleLE=function(je,Ke,ut){return lt(this,je,Ke,!0,ut)},Ae.prototype.writeDoubleBE=function(je,Ke,ut){return lt(this,je,Ke,!1,ut)},Ae.prototype.copy=function(je,Ke,ut,vt){if(ut||(ut=0),!vt&&vt!==0&&(vt=this.length),Ke>=je.length&&(Ke=je.length),Ke||(Ke=0),vt>0&&vt<ut&&(vt=ut),vt===ut||je.length===0||this.length===0)return 0;if(Ke<0)throw new RangeError("targetStart out of bounds");if(ut<0||ut>=this.length)throw new RangeError("sourceStart out of bounds");if(vt<0)throw new RangeError("sourceEnd out of bounds");vt>this.length&&(vt=this.length),je.length-Ke<vt-ut&&(vt=je.length-Ke+ut);var Ct=vt-ut,Lt;if(this===je&&ut<Ke&&Ke<vt)for(Lt=Ct-1;Lt>=0;--Lt)je[Lt+Ke]=this[Lt+ut];else if(Ct<1e3)for(Lt=0;Lt<Ct;++Lt)je[Lt+Ke]=this[Lt+ut];else Uint8Array.prototype.set.call(je,this.subarray(ut,ut+Ct),Ke);return Ct},Ae.prototype.fill=function(je,Ke,ut,vt){if(typeof je=="string"){if(typeof Ke=="string"?(vt=Ke,Ke=0,ut=this.length):typeof ut=="string"&&(vt=ut,ut=this.length),je.length===1){var Ct=je.charCodeAt(0);Ct<256&&(je=Ct)}if(vt!==void 0&&typeof vt!="string")throw new TypeError("encoding must be a string");if(typeof vt=="string"&&!Ae.isEncoding(vt))throw new TypeError("Unknown encoding: "+vt)}else typeof je=="number"&&(je=je&255);if(Ke<0||this.length<Ke||this.length<ut)throw new RangeError("Out of range index");if(ut<=Ke)return this;Ke=Ke>>>0,ut=ut===void 0?this.length:ut>>>0,je||(je=0);var Lt;if(typeof je=="number")for(Lt=Ke;Lt<ut;++Lt)this[Lt]=je;else{var sr=Ae.isBuffer(je)?je:new Ae(je,vt),Rr=sr.length;for(Lt=0;Lt<ut-Ke;++Lt)this[Lt+Ke]=sr[Lt%Rr]}return this};var bt=/[^+/0-9A-Za-z-_]/g;function Xt(rt){if(rt=rt.trim().replace(bt,""),rt.length<2)return"";for(;rt.length%4!==0;)rt=rt+"=";return rt}function $t(rt){return rt<16?"0"+rt.toString(16):rt.toString(16)}function pr(rt,je){je=je||1/0;for(var Ke,ut=rt.length,vt=null,Ct=[],Lt=0;Lt<ut;++Lt){if(Ke=rt.charCodeAt(Lt),Ke>55295&&Ke<57344){if(!vt){if(Ke>56319){(je-=3)>-1&&Ct.push(239,191,189);continue}else if(Lt+1===ut){(je-=3)>-1&&Ct.push(239,191,189);continue}vt=Ke;continue}if(Ke<56320){(je-=3)>-1&&Ct.push(239,191,189),vt=Ke;continue}Ke=(vt-55296<<10|Ke-56320)+65536}else vt&&(je-=3)>-1&&Ct.push(239,191,189);if(vt=null,Ke<128){if((je-=1)<0)break;Ct.push(Ke)}else if(Ke<2048){if((je-=2)<0)break;Ct.push(Ke>>6|192,Ke&63|128)}else if(Ke<65536){if((je-=3)<0)break;Ct.push(Ke>>12|224,Ke>>6&63|128,Ke&63|128)}else if(Ke<1114112){if((je-=4)<0)break;Ct.push(Ke>>18|240,Ke>>12&63|128,Ke>>6&63|128,Ke&63|128)}else throw new Error("Invalid code point")}return Ct}function Qe(rt){for(var je=[],Ke=0;Ke<rt.length;++Ke)je.push(rt.charCodeAt(Ke)&255);return je}function It(rt,je){for(var Ke,ut,vt,Ct=[],Lt=0;Lt<rt.length&&!((je-=2)<0);++Lt)Ke=rt.charCodeAt(Lt),ut=Ke>>8,vt=Ke%256,Ct.push(vt),Ct.push(ut);return Ct}function Ht(rt){return m.toByteArray(Xt(rt))}function ht(rt,je,Ke,ut){for(var vt=0;vt<ut&&!(vt+Ke>=je.length||vt>=rt.length);++vt)je[vt+Ke]=rt[vt];return vt}function xt(rt){return rt instanceof ArrayBuffer||rt!=null&&rt.constructor!=null&&rt.constructor.name==="ArrayBuffer"&&typeof rt.byteLength=="number"}function Rt(rt){return typeof ArrayBuffer.isView=="function"&&ArrayBuffer.isView(rt)}function er(rt){return rt!==rt}}).call(i,c(1))},function(e,i){i.byteLength=Ae,i.toByteArray=De,i.fromByteArray=Be;for(var c=[],f=[],m=typeof Uint8Array<"u"?Uint8Array:Array,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Te=0,Ie=g.length;Te<Ie;++Te)c[Te]=g[Te],f[g.charCodeAt(Te)]=Te;f["-".charCodeAt(0)]=62,f["_".charCodeAt(0)]=63;function Oe(Ne){var Ve=Ne.length;if(Ve%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return Ne[Ve-2]==="="?2:Ne[Ve-1]==="="?1:0}function Ae(Ne){return Ne.length*3/4-Oe(Ne)}function De(Ne){var Ve,Ue,We,He,Ze,ct,at=Ne.length;Ze=Oe(Ne),ct=new m(at*3/4-Ze),We=Ze>0?at-4:at;var gt=0;for(Ve=0,Ue=0;Ve<We;Ve+=4,Ue+=3)He=f[Ne.charCodeAt(Ve)]<<18|f[Ne.charCodeAt(Ve+1)]<<12|f[Ne.charCodeAt(Ve+2)]<<6|f[Ne.charCodeAt(Ve+3)],ct[gt++]=He>>16&255,ct[gt++]=He>>8&255,ct[gt++]=He&255;return Ze===2?(He=f[Ne.charCodeAt(Ve)]<<2|f[Ne.charCodeAt(Ve+1)]>>4,ct[gt++]=He&255):Ze===1&&(He=f[Ne.charCodeAt(Ve)]<<10|f[Ne.charCodeAt(Ve+1)]<<4|f[Ne.charCodeAt(Ve+2)]>>2,ct[gt++]=He>>8&255,ct[gt++]=He&255),ct}function _e(Ne){return c[Ne>>18&63]+c[Ne>>12&63]+c[Ne>>6&63]+c[Ne&63]}function qe(Ne,Ve,Ue){for(var We,He=[],Ze=Ve;Ze<Ue;Ze+=3)We=(Ne[Ze]<<16)+(Ne[Ze+1]<<8)+Ne[Ze+2],He.push(_e(We));return He.join("")}function Be(Ne){for(var Ve,Ue=Ne.length,We=Ue%3,He="",Ze=[],ct=16383,at=0,gt=Ue-We;at<gt;at+=ct)Ze.push(qe(Ne,at,at+ct>gt?gt:at+ct));return We===1?(Ve=Ne[Ue-1],He+=c[Ve>>2],He+=c[Ve<<4&63],He+="=="):We===2&&(Ve=(Ne[Ue-2]<<8)+Ne[Ue-1],He+=c[Ve>>10],He+=c[Ve>>4&63],He+=c[Ve<<2&63],He+="="),Ze.push(He),Ze.join("")}},function(e,i){i.read=function(c,f,m,g,Te){var Ie,Oe,Ae=Te*8-g-1,De=(1<<Ae)-1,_e=De>>1,qe=-7,Be=m?Te-1:0,Ne=m?-1:1,Ve=c[f+Be];for(Be+=Ne,Ie=Ve&(1<<-qe)-1,Ve>>=-qe,qe+=Ae;qe>0;Ie=Ie*256+c[f+Be],Be+=Ne,qe-=8);for(Oe=Ie&(1<<-qe)-1,Ie>>=-qe,qe+=g;qe>0;Oe=Oe*256+c[f+Be],Be+=Ne,qe-=8);if(Ie===0)Ie=1-_e;else{if(Ie===De)return Oe?NaN:(Ve?-1:1)*(1/0);Oe=Oe+Math.pow(2,g),Ie=Ie-_e}return(Ve?-1:1)*Oe*Math.pow(2,Ie-g)},i.write=function(c,f,m,g,Te,Ie){var Oe,Ae,De,_e=Ie*8-Te-1,qe=(1<<_e)-1,Be=qe>>1,Ne=Te===23?Math.pow(2,-24)-Math.pow(2,-77):0,Ve=g?0:Ie-1,Ue=g?1:-1,We=f<0||f===0&&1/f<0?1:0;for(f=Math.abs(f),isNaN(f)||f===1/0?(Ae=isNaN(f)?1:0,Oe=qe):(Oe=Math.floor(Math.log(f)/Math.LN2),f*(De=Math.pow(2,-Oe))<1&&(Oe--,De*=2),Oe+Be>=1?f+=Ne/De:f+=Ne*Math.pow(2,1-Be),f*De>=2&&(Oe++,De/=2),Oe+Be>=qe?(Ae=0,Oe=qe):Oe+Be>=1?(Ae=(f*De-1)*Math.pow(2,Te),Oe=Oe+Be):(Ae=f*Math.pow(2,Be-1)*Math.pow(2,Te),Oe=0));Te>=8;c[m+Ve]=Ae&255,Ve+=Ue,Ae/=256,Te-=8);for(Oe=Oe<<Te|Ae,_e+=Te;_e>0;c[m+Ve]=Oe&255,Ve+=Ue,Oe/=256,_e-=8);c[m+Ve-Ue]|=We*128}},function(e,i){e.exports=function(c){return c.webpackPolyfill||(c.deprecate=function(){},c.paths=[],c.children=[],c.webpackPolyfill=1),c}},function(e,i,c){var f=c(7),m=new f,g={};function Te(Oe){g[Oe]||(typeof m[Oe]=="function"?g[Oe]=function(){return m[Oe].apply(m,arguments)}:g[Oe]=m[Oe])}for(var Ie in m)Te(Ie);g.initializeTTYs=function(){m.stdin===null&&(m.initializeTTYs(),g.stdin=m.stdin,g.stdout=m.stdout,g.stderr=m.stderr)},m.nextTick(function(){g.initializeTTYs()}),e.exports=g},function(e,i,c){(function(f){var m=this&&this.__extends||function(De,_e){for(var qe in _e)_e.hasOwnProperty(qe)&&(De[qe]=_e[qe]);function Be(){this.constructor=De}De.prototype=_e===null?Object.create(_e):(Be.prototype=_e.prototype,new Be)},g=c(8),Te=null,Ie=function(){function De(_e,qe){this.fun=_e,this.array=qe}return De.prototype.run=function(){this.fun.apply(null,this.array)},De}(),Oe=function(){function De(){this._queue=[],this._draining=!1,this._currentQueue=null,this._queueIndex=-1}return De.prototype.push=function(_e){var qe=this;this._queue.push(_e)===1&&!this._draining&&setTimeout(function(){return qe._drainQueue()},0)},De.prototype._cleanUpNextTick=function(){this._draining=!1,this._currentQueue&&this._currentQueue.length?this._queue=this._currentQueue.concat(this._queue):this._queueIndex=-1,this._queue.length&&this._drainQueue()},De.prototype._drainQueue=function(){var _e=this;if(!this._draining){var qe=setTimeout(function(){return _e._cleanUpNextTick()});this._draining=!0;for(var Be=this._queue.length;Be;){for(this._currentQueue=this._queue,this._queue=[];++this._queueIndex<Be;)this._currentQueue&&this._currentQueue[this._queueIndex].run();this._queueIndex=-1,Be=this._queue.length}this._currentQueue=null,this._draining=!1,clearTimeout(qe)}},De}(),Ae=function(De){m(_e,De);function _e(){De.apply(this,arguments),this.startTime=Date.now(),this._cwd="/",this.platform="browser",this.argv=[],this.execArgv=[],this.stdout=null,this.stderr=null,this.stdin=null,this.domain=null,this._queue=new Oe,this.execPath=f,this.env={},this.exitCode=0,this._gid=1,this._uid=1,this.version="v5.0",this.versions={http_parser:"0.0",node:"5.0",v8:"0.0",uv:"0.0",zlib:"0.0",ares:"0.0",icu:"0.0",modules:"0",openssl:"0.0"},this.config={target_defaults:{cflags:[],default_configuration:"Release",defines:[],include_dirs:[],libraries:[]},variables:{clang:0,host_arch:"x32",node_install_npm:!1,node_install_waf:!1,node_prefix:"",node_shared_cares:!1,node_shared_http_parser:!1,node_shared_libuv:!1,node_shared_zlib:!1,node_shared_v8:!1,node_use_dtrace:!1,node_use_etw:!1,node_use_openssl:!1,node_shared_openssl:!1,strict_aliasing:!1,target_arch:"x32",v8_use_snapshot:!1,v8_no_strict_aliasing:0,visibility:""}},this.pid=Math.random()*1e3|0,this.title="node",this.arch="x32",this._mask=18,this.connected=void 0}return _e.prototype.chdir=function(qe){Te===null&&(Te=c(9)),this._cwd=Te.resolve(qe)},_e.prototype.cwd=function(){return this._cwd},_e.prototype.uptime=function(){return(Date.now()-this.startTime)/1e3|0},_e.prototype.nextTick=function(qe){for(var Be=[],Ne=1;Ne<arguments.length;Ne++)Be[Ne-1]=arguments[Ne];this._queue.push(new Ie(qe,Be))},_e.prototype.abort=function(){this.emit("abort")},_e.prototype.exit=function(qe){this.exitCode=qe,this.emit("exit",[qe])},_e.prototype.getgid=function(){return this._gid},_e.prototype.setgid=function(qe){typeof qe=="number"?this._gid=qe:this._gid=1},_e.prototype.getuid=function(){return this._uid},_e.prototype.setuid=function(qe){typeof qe=="number"?this._uid=qe:this._uid=1},_e.prototype.kill=function(qe,Be){this.emit("kill",[qe,Be])},_e.prototype.memoryUsage=function(){return{rss:0,heapTotal:0,heapUsed:0}},_e.prototype.umask=function(qe){qe===void 0&&(qe=this._mask);var Be=this._mask;return this._mask=qe,this.emit("umask",[qe]),Be},_e.prototype.hrtime=function(){var qe;typeof performance<"u"?qe=performance.now():Date.now?qe=Date.now():qe=new Date().getTime();var Be=qe/1e3|0;return qe-=Be*1e3,qe=qe*1e6|0,[Be,qe]},_e.prototype.initializeTTYs=function(){if(this.stdout===null){var qe=c(10);this.stdout=new qe,this.stderr=new qe,this.stdin=new qe}},_e.prototype.disconnect=function(){},_e}(g.EventEmitter);e.exports=Ae}).call(i,"/")},function(e,i){function c(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}e.exports=c,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._maxListeners=void 0,c.defaultMaxListeners=10,c.prototype.setMaxListeners=function(Ie){if(!m(Ie)||Ie<0||isNaN(Ie))throw TypeError("n must be a positive number");return this._maxListeners=Ie,this},c.prototype.emit=function(Ie){var Oe,Ae,De,_e,qe,Be;if(this._events||(this._events={}),Ie==="error"&&(!this._events.error||g(this._events.error)&&!this._events.error.length)){if(Oe=arguments[1],Oe instanceof Error)throw Oe;var Ne=new Error('Uncaught, unspecified "error" event. ('+Oe+")");throw Ne.context=Oe,Ne}if(Ae=this._events[Ie],Te(Ae))return!1;if(f(Ae))switch(arguments.length){case 1:Ae.call(this);break;case 2:Ae.call(this,arguments[1]);break;case 3:Ae.call(this,arguments[1],arguments[2]);break;default:_e=Array.prototype.slice.call(arguments,1),Ae.apply(this,_e)}else if(g(Ae))for(_e=Array.prototype.slice.call(arguments,1),Be=Ae.slice(),De=Be.length,qe=0;qe<De;qe++)Be[qe].apply(this,_e);return!0},c.prototype.addListener=function(Ie,Oe){var Ae;if(!f(Oe))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",Ie,f(Oe.listener)?Oe.listener:Oe),this._events[Ie]?g(this._events[Ie])?this._events[Ie].push(Oe):this._events[Ie]=[this._events[Ie],Oe]:this._events[Ie]=Oe,g(this._events[Ie])&&!this._events[Ie].warned&&(Te(this._maxListeners)?Ae=c.defaultMaxListeners:Ae=this._maxListeners,Ae&&Ae>0&&this._events[Ie].length>Ae&&(this._events[Ie].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[Ie].length),typeof console.trace=="function"&&console.trace())),this},c.prototype.on=c.prototype.addListener,c.prototype.once=function(Ie,Oe){if(!f(Oe))throw TypeError("listener must be a function");var Ae=!1;function De(){this.removeListener(Ie,De),Ae||(Ae=!0,Oe.apply(this,arguments))}return De.listener=Oe,this.on(Ie,De),this},c.prototype.removeListener=function(Ie,Oe){var Ae,De,_e,qe;if(!f(Oe))throw TypeError("listener must be a function");if(!this._events||!this._events[Ie])return this;if(Ae=this._events[Ie],_e=Ae.length,De=-1,Ae===Oe||f(Ae.listener)&&Ae.listener===Oe)delete this._events[Ie],this._events.removeListener&&this.emit("removeListener",Ie,Oe);else if(g(Ae)){for(qe=_e;qe-- >0;)if(Ae[qe]===Oe||Ae[qe].listener&&Ae[qe].listener===Oe){De=qe;break}if(De<0)return this;Ae.length===1?(Ae.length=0,delete this._events[Ie]):Ae.splice(De,1),this._events.removeListener&&this.emit("removeListener",Ie,Oe)}return this},c.prototype.removeAllListeners=function(Ie){var Oe,Ae;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[Ie]&&delete this._events[Ie],this;if(arguments.length===0){for(Oe in this._events)Oe!=="removeListener"&&this.removeAllListeners(Oe);return this.removeAllListeners("removeListener"),this._events={},this}if(Ae=this._events[Ie],f(Ae))this.removeListener(Ie,Ae);else if(Ae)for(;Ae.length;)this.removeListener(Ie,Ae[Ae.length-1]);return delete this._events[Ie],this},c.prototype.listeners=function(Ie){var Oe;return!this._events||!this._events[Ie]?Oe=[]:f(this._events[Ie])?Oe=[this._events[Ie]]:Oe=this._events[Ie].slice(),Oe},c.prototype.listenerCount=function(Ie){if(this._events){var Oe=this._events[Ie];if(f(Oe))return 1;if(Oe)return Oe.length}return 0},c.listenerCount=function(Ie,Oe){return Ie.listenerCount(Oe)};function f(Ie){return typeof Ie=="function"}function m(Ie){return typeof Ie=="number"}function g(Ie){return typeof Ie=="object"&&Ie!==null}function Te(Ie){return Ie===void 0}},function(e,i,c){(function(f){var m=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;function g(Ie){var Oe=m.exec(Ie);return Oe.shift(),Oe}var Te=function(){function Ie(){}return Ie.normalize=function(Oe){Oe===""&&(Oe=".");var Ae=Oe.charAt(0)===Ie.sep;Oe=Ie._removeDuplicateSeps(Oe);for(var De=Oe.split(Ie.sep),_e=[],qe=0;qe<De.length;qe++){var Be=De[qe];Be!=="."&&(Be===".."&&(Ae||!Ae&&_e.length>0&&_e[0]!=="..")?_e.pop():_e.push(Be))}if(!Ae&&_e.length<2)switch(_e.length){case 1:_e[0]===""&&_e.unshift(".");break;default:_e.push(".")}return Oe=_e.join(Ie.sep),Ae&&Oe.charAt(0)!==Ie.sep&&(Oe=Ie.sep+Oe),Oe},Ie.join=function(){for(var Oe=[],Ae=0;Ae<arguments.length;Ae++)Oe[Ae-0]=arguments[Ae];for(var De=[],_e=0;_e<Oe.length;_e++){var qe=Oe[_e];if(typeof qe!="string")throw new TypeError("Invalid argument type to path.join: "+typeof qe);qe!==""&&De.push(qe)}return Ie.normalize(De.join(Ie.sep))},Ie.resolve=function(){for(var Oe=[],Ae=0;Ae<arguments.length;Ae++)Oe[Ae-0]=arguments[Ae];for(var De=[],_e=0;_e<Oe.length;_e++){var qe=Oe[_e];if(typeof qe!="string")throw new TypeError("Invalid argument type to path.join: "+typeof qe);qe!==""&&(qe.charAt(0)===Ie.sep&&(De=[]),De.push(qe))}var Be=Ie.normalize(De.join(Ie.sep));if(Be.length>1&&Be.charAt(Be.length-1)===Ie.sep)return Be.substr(0,Be.length-1);if(Be.charAt(0)!==Ie.sep){Be.charAt(0)==="."&&(Be.length===1||Be.charAt(1)===Ie.sep)&&(Be=Be.length===1?"":Be.substr(2));var Ne=f.cwd();Be!==""?Be=this.normalize(Ne+(Ne!=="/"?Ie.sep:"")+Be):Be=Ne}return Be},Ie.relative=function(Oe,Ae){var De;Oe=Ie.resolve(Oe),Ae=Ie.resolve(Ae);var _e=Oe.split(Ie.sep),qe=Ae.split(Ie.sep);qe.shift(),_e.shift();var Be=0,Ne=[];for(De=0;De<_e.length;De++){var Ve=_e[De];if(Ve!==qe[De]){Be=_e.length-De;break}}Ne=qe.slice(De),_e.length===1&&_e[0]===""&&(Be=0),Be>_e.length&&(Be=_e.length);var Ue="";for(De=0;De<Be;De++)Ue+="../";return Ue+=Ne.join(Ie.sep),Ue.length>1&&Ue.charAt(Ue.length-1)===Ie.sep&&(Ue=Ue.substr(0,Ue.length-1)),Ue},Ie.dirname=function(Oe){Oe=Ie._removeDuplicateSeps(Oe);var Ae=Oe.charAt(0)===Ie.sep,De=Oe.split(Ie.sep);return De.pop()===""&&De.length>0&&De.pop(),De.length>1||De.length===1&&!Ae?De.join(Ie.sep):Ae?Ie.sep:"."},Ie.basename=function(Oe,Ae){if(Ae===void 0&&(Ae=""),Oe==="")return Oe;Oe=Ie.normalize(Oe);var De=Oe.split(Ie.sep),_e=De[De.length-1];if(_e===""&&De.length>1)return De[De.length-2];if(Ae.length>0){var qe=_e.substr(_e.length-Ae.length);if(qe===Ae)return _e.substr(0,_e.length-Ae.length)}return _e},Ie.extname=function(Oe){Oe=Ie.normalize(Oe);var Ae=Oe.split(Ie.sep);if(Oe=Ae.pop(),Oe===""&&Ae.length>0&&(Oe=Ae.pop()),Oe==="..")return"";var De=Oe.lastIndexOf(".");return De===-1||De===0?"":Oe.substr(De)},Ie.isAbsolute=function(Oe){return Oe.length>0&&Oe.charAt(0)===Ie.sep},Ie._makeLong=function(Oe){return Oe},Ie.parse=function(Oe){var Ae=g(Oe);return{root:Ae[0],dir:Ae[0]+Ae[1].slice(0,-1),base:Ae[2],ext:Ae[3],name:Ae[2].slice(0,Ae[2].length-Ae[3].length)}},Ie.format=function(Oe){if(Oe===null||typeof Oe!="object")throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof Oe);var Ae=Oe.root||"";if(typeof Ae!="string")throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof Oe.root);var De=Oe.dir?Oe.dir+Ie.sep:"",_e=Oe.base||"";return De+_e},Ie._removeDuplicateSeps=function(Oe){return Oe=Oe.replace(this._replaceRegex,this.sep),Oe},Ie.sep="/",Ie._replaceRegex=new RegExp("//+","g"),Ie.delimiter=":",Ie.posix=Ie,Ie.win32=Ie,Ie}();e.exports=Te}).call(i,c(6))},function(e,i,c){(function(f){var m=this&&this.__extends||function(Ie,Oe){for(var Ae in Oe)Oe.hasOwnProperty(Ae)&&(Ie[Ae]=Oe[Ae]);function De(){this.constructor=Ie}Ie.prototype=Oe===null?Object.create(Oe):(De.prototype=Oe.prototype,new De)},g=c(11),Te=function(Ie){m(Oe,Ie);function Oe(){Ie.call(this),this.isRaw=!1,this.columns=80,this.rows=120,this.isTTY=!0,this._bufferedWrites=[],this._waitingForWrites=!1}return Oe.prototype.setRawMode=function(Ae){this.isRaw!==Ae&&(this.isRaw=Ae,this.emit("modeChange"))},Oe.prototype.changeColumns=function(Ae){Ae!==this.columns&&(this.columns=Ae,this.emit("resize"))},Oe.prototype.changeRows=function(Ae){Ae!==this.rows&&(this.rows=Ae,this.emit("resize"))},Oe.isatty=function(Ae){return Ae&&Ae instanceof Oe},Oe.prototype._write=function(Ae,De,_e){var qe;try{var Be;typeof Ae=="string"?Be=new f(Ae,De):Be=Ae,this._bufferedWrites.push(Be),this._waitingForWrites&&this._read(1024)}catch(Ne){qe=Ne}finally{_e(qe)}},Oe.prototype._read=function(Ae){if(this._bufferedWrites.length===0)this._waitingForWrites=!0;else for(;this._bufferedWrites.length>0&&(this._waitingForWrites=this.push(this._bufferedWrites.shift()),!!this._waitingForWrites););},Oe}(g.Duplex);e.exports=Te}).call(i,c(1))},function(e,i,c){e.exports=g;var f=c(8).EventEmitter,m=c(12);m(g,f),g.Readable=c(13),g.Writable=c(27),g.Duplex=c(28),g.Transform=c(29),g.PassThrough=c(30),g.Stream=g;function g(){f.call(this)}g.prototype.pipe=function(Te,Ie){var Oe=this;function Ae(Ue){Te.writable&&Te.write(Ue)===!1&&Oe.pause&&Oe.pause()}Oe.on("data",Ae);function De(){Oe.readable&&Oe.resume&&Oe.resume()}Te.on("drain",De),!Te._isStdio&&(!Ie||Ie.end!==!1)&&(Oe.on("end",qe),Oe.on("close",Be));var _e=!1;function qe(){_e||(_e=!0,Te.end())}function Be(){_e||(_e=!0,typeof Te.destroy=="function"&&Te.destroy())}function Ne(Ue){if(Ve(),f.listenerCount(this,"error")===0)throw Ue}Oe.on("error",Ne),Te.on("error",Ne);function Ve(){Oe.removeListener("data",Ae),Te.removeListener("drain",De),Oe.removeListener("end",qe),Oe.removeListener("close",Be),Oe.removeListener("error",Ne),Te.removeListener("error",Ne),Oe.removeListener("end",Ve),Oe.removeListener("close",Ve),Te.removeListener("close",Ve)}return Oe.on("end",Ve),Oe.on("close",Ve),Te.on("close",Ve),Te.emit("pipe",Oe),Te}},function(e,i){typeof Object.create=="function"?e.exports=function(f,m){f.super_=m,f.prototype=Object.create(m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(f,m){f.super_=m;var g=function(){};g.prototype=m.prototype,f.prototype=new g,f.prototype.constructor=f}},function(e,i,c){(function(f){var m=function(){try{return c(11)}catch{}}();i=e.exports=c(14),i.Stream=m||i,i.Readable=i,i.Writable=c(22),i.Duplex=c(21),i.Transform=c(25),i.PassThrough=c(26),!f.browser&&f.env.READABLE_STREAM==="disable"&&m&&(e.exports=m)}).call(i,c(6))},function(e,i,c){(function(f){e.exports=He;var m=c(15),g=c(16),Te;He.ReadableState=We,c(8).EventEmitter;var Ie=function(lt,bt){return lt.listeners(bt).length},Oe;(function(){try{Oe=c(11)}catch{}finally{Oe||(Oe=c(8).EventEmitter)}})();var Ae=c(2).Buffer,De=c(17),_e=c(18);_e.inherits=c(12);var qe=c(19),Be=void 0;qe&&qe.debuglog?Be=qe.debuglog("stream"):Be=function(){};var Ne=c(20),Ve;_e.inherits(He,Oe);function Ue(lt,bt,Xt){if(typeof lt.prependListener=="function")return lt.prependListener(bt,Xt);!lt._events||!lt._events[bt]?lt.on(bt,Xt):g(lt._events[bt])?lt._events[bt].unshift(Xt):lt._events[bt]=[Xt,lt._events[bt]]}function We(lt,bt){Te=Te||c(21),lt=lt||{},this.objectMode=!!lt.objectMode,bt instanceof Te&&(this.objectMode=this.objectMode||!!lt.readableObjectMode);var Xt=lt.highWaterMark,$t=this.objectMode?16:16*1024;this.highWaterMark=Xt||Xt===0?Xt:$t,this.highWaterMark=~~this.highWaterMark,this.buffer=new Ne,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=lt.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,lt.encoding&&(Ve||(Ve=c(24).StringDecoder),this.decoder=new Ve(lt.encoding),this.encoding=lt.encoding)}function He(lt){if(Te=Te||c(21),!(this instanceof He))return new He(lt);this._readableState=new We(lt,this),this.readable=!0,lt&&typeof lt.read=="function"&&(this._read=lt.read),Oe.call(this)}He.prototype.push=function(lt,bt){var Xt=this._readableState;return!Xt.objectMode&&typeof lt=="string"&&(bt=bt||Xt.defaultEncoding,bt!==Xt.encoding&&(lt=De.from(lt,bt),bt="")),Ze(this,Xt,lt,bt,!1)},He.prototype.unshift=function(lt){var bt=this._readableState;return Ze(this,bt,lt,"",!0)},He.prototype.isPaused=function(){return this._readableState.flowing===!1};function Ze(lt,bt,Xt,$t,pr){var Qe=tt(bt,Xt);if(Qe)lt.emit("error",Qe);else if(Xt===null)bt.reading=!1,pt(lt,bt);else if(bt.objectMode||Xt&&Xt.length>0)if(bt.ended&&!pr){var It=new Error("stream.push() after EOF");lt.emit("error",It)}else if(bt.endEmitted&&pr){var Ht=new Error("stream.unshift() after end event");lt.emit("error",Ht)}else{var ht;bt.decoder&&!pr&&!$t&&(Xt=bt.decoder.write(Xt),ht=!bt.objectMode&&Xt.length===0),pr||(bt.reading=!1),ht||(bt.flowing&&bt.length===0&&!bt.sync?(lt.emit("data",Xt),lt.read(0)):(bt.length+=bt.objectMode?1:Xt.length,pr?bt.buffer.unshift(Xt):bt.buffer.push(Xt),bt.needReadable&&nt(lt))),Xe(lt,bt)}else pr||(bt.reading=!1);return ct(bt)}function ct(lt){return!lt.ended&&(lt.needReadable||lt.length<lt.highWaterMark||lt.length===0)}He.prototype.setEncoding=function(lt){return Ve||(Ve=c(24).StringDecoder),this._readableState.decoder=new Ve(lt),this._readableState.encoding=lt,this};var at=8388608;function gt(lt){return lt>=at?lt=at:(lt--,lt|=lt>>>1,lt|=lt>>>2,lt|=lt>>>4,lt|=lt>>>8,lt|=lt>>>16,lt++),lt}function yt(lt,bt){return lt<=0||bt.length===0&&bt.ended?0:bt.objectMode?1:lt!==lt?bt.flowing&&bt.length?bt.buffer.head.data.length:bt.length:(lt>bt.highWaterMark&&(bt.highWaterMark=gt(lt)),lt<=bt.length?lt:bt.ended?bt.length:(bt.needReadable=!0,0))}He.prototype.read=function(lt){Be("read",lt),lt=parseInt(lt,10);var bt=this._readableState,Xt=lt;if(lt!==0&&(bt.emittedReadable=!1),lt===0&&bt.needReadable&&(bt.length>=bt.highWaterMark||bt.ended))return Be("read: emitReadable",bt.length,bt.ended),bt.length===0&&bt.ended?Kt(this):nt(this),null;if(lt=yt(lt,bt),lt===0&&bt.ended)return bt.length===0&&Kt(this),null;var $t=bt.needReadable;Be("need readable",$t),(bt.length===0||bt.length-lt<bt.highWaterMark)&&($t=!0,Be("length less than watermark",$t)),bt.ended||bt.reading?($t=!1,Be("reading or ended",$t)):$t&&(Be("do read"),bt.reading=!0,bt.sync=!0,bt.length===0&&(bt.needReadable=!0),this._read(bt.highWaterMark),bt.sync=!1,bt.reading||(lt=yt(Xt,bt)));var pr;return lt>0?pr=st(lt,bt):pr=null,pr===null?(bt.needReadable=!0,lt=0):bt.length-=lt,bt.length===0&&(bt.ended||(bt.needReadable=!0),Xt!==lt&&bt.ended&&Kt(this)),pr!==null&&this.emit("data",pr),pr};function tt(lt,bt){var Xt=null;return!Ae.isBuffer(bt)&&typeof bt!="string"&&bt!==null&&bt!==void 0&&!lt.objectMode&&(Xt=new TypeError("Invalid non-string/buffer chunk")),Xt}function pt(lt,bt){if(!bt.ended){if(bt.decoder){var Xt=bt.decoder.end();Xt&&Xt.length&&(bt.buffer.push(Xt),bt.length+=bt.objectMode?1:Xt.length)}bt.ended=!0,nt(lt)}}function nt(lt){var bt=lt._readableState;bt.needReadable=!1,bt.emittedReadable||(Be("emitReadable",bt.flowing),bt.emittedReadable=!0,bt.sync?m(mt,lt):mt(lt))}function mt(lt){Be("emit readable"),lt.emit("readable"),St(lt)}function Xe(lt,bt){bt.readingMore||(bt.readingMore=!0,m(Ft,lt,bt))}function Ft(lt,bt){for(var Xt=bt.length;!bt.reading&&!bt.flowing&&!bt.ended&&bt.length<bt.highWaterMark&&(Be("maybeReadMore read 0"),lt.read(0),Xt!==bt.length);)Xt=bt.length;bt.readingMore=!1}He.prototype._read=function(lt){this.emit("error",new Error("_read() is not implemented"))},He.prototype.pipe=function(lt,bt){var Xt=this,$t=this._readableState;switch($t.pipesCount){case 0:$t.pipes=lt;break;case 1:$t.pipes=[$t.pipes,lt];break;default:$t.pipes.push(lt);break}$t.pipesCount+=1,Be("pipe count=%d opts=%j",$t.pipesCount,bt);var pr=(!bt||bt.end!==!1)&&lt!==f.stdout&&lt!==f.stderr,Qe=pr?Ht:Rt;$t.endEmitted?m(Qe):Xt.once("end",Qe),lt.on("unpipe",It);function It(Ct){Be("onunpipe"),Ct===Xt&&Rt()}function Ht(){Be("onend"),lt.end()}var ht=Zt(Xt);lt.on("drain",ht);var xt=!1;function Rt(){Be("cleanup"),lt.removeListener("close",Ke),lt.removeListener("finish",ut),lt.removeListener("drain",ht),lt.removeListener("error",je),lt.removeListener("unpipe",It),Xt.removeListener("end",Ht),Xt.removeListener("end",Rt),Xt.removeListener("data",rt),xt=!0,$t.awaitDrain&&(!lt._writableState||lt._writableState.needDrain)&&ht()}var er=!1;Xt.on("data",rt);function rt(Ct){Be("ondata"),er=!1;var Lt=lt.write(Ct);Lt===!1&&!er&&(($t.pipesCount===1&&$t.pipes===lt||$t.pipesCount>1&&or($t.pipes,lt)!==-1)&&!xt&&(Be("false write response, pause",Xt._readableState.awaitDrain),Xt._readableState.awaitDrain++,er=!0),Xt.pause())}function je(Ct){Be("onerror",Ct),vt(),lt.removeListener("error",je),Ie(lt,"error")===0&&lt.emit("error",Ct)}Ue(lt,"error",je);function Ke(){lt.removeListener("finish",ut),vt()}lt.once("close",Ke);function ut(){Be("onfinish"),lt.removeListener("close",Ke),vt()}lt.once("finish",ut);function vt(){Be("unpipe"),Xt.unpipe(lt)}return lt.emit("pipe",Xt),$t.flowing||(Be("pipe resume"),Xt.resume()),lt};function Zt(lt){return function(){var bt=lt._readableState;Be("pipeOnDrain",bt.awaitDrain),bt.awaitDrain&&bt.awaitDrain--,bt.awaitDrain===0&&Ie(lt,"data")&&(bt.flowing=!0,St(lt))}}He.prototype.unpipe=function(lt){var bt=this._readableState;if(bt.pipesCount===0)return this;if(bt.pipesCount===1)return lt&&lt!==bt.pipes?this:(lt||(lt=bt.pipes),bt.pipes=null,bt.pipesCount=0,bt.flowing=!1,lt&&lt.emit("unpipe",this),this);if(!lt){var Xt=bt.pipes,$t=bt.pipesCount;bt.pipes=null,bt.pipesCount=0,bt.flowing=!1;for(var pr=0;pr<$t;pr++)Xt[pr].emit("unpipe",this);return this}var Qe=or(bt.pipes,lt);return Qe===-1?this:(bt.pipes.splice(Qe,1),bt.pipesCount-=1,bt.pipesCount===1&&(bt.pipes=bt.pipes[0]),lt.emit("unpipe",this),this)},He.prototype.on=function(lt,bt){var Xt=Oe.prototype.on.call(this,lt,bt);if(lt==="data")this._readableState.flowing!==!1&&this.resume();else if(lt==="readable"){var $t=this._readableState;!$t.endEmitted&&!$t.readableListening&&($t.readableListening=$t.needReadable=!0,$t.emittedReadable=!1,$t.reading?$t.length&&nt(this):m(zt,this))}return Xt},He.prototype.addListener=He.prototype.on;function zt(lt){Be("readable nexttick read 0"),lt.read(0)}He.prototype.resume=function(){var lt=this._readableState;return lt.flowing||(Be("resume"),lt.flowing=!0,cr(this,lt)),this};function cr(lt,bt){bt.resumeScheduled||(bt.resumeScheduled=!0,m(Et,lt,bt))}function Et(lt,bt){bt.reading||(Be("resume read 0"),lt.read(0)),bt.resumeScheduled=!1,bt.awaitDrain=0,lt.emit("resume"),St(lt),bt.flowing&&!bt.reading&&lt.read(0)}He.prototype.pause=function(){return Be("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Be("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function St(lt){var bt=lt._readableState;for(Be("flow",bt.flowing);bt.flowing&&lt.read()!==null;);}He.prototype.wrap=function(lt){var bt=this._readableState,Xt=!1,$t=this;lt.on("end",function(){if(Be("wrapped end"),bt.decoder&&!bt.ended){var It=bt.decoder.end();It&&It.length&&$t.push(It)}$t.push(null)}),lt.on("data",function(It){if(Be("wrapped data"),bt.decoder&&(It=bt.decoder.write(It)),!(bt.objectMode&&It==null)&&!(!bt.objectMode&&(!It||!It.length))){var Ht=$t.push(It);Ht||(Xt=!0,lt.pause())}});for(var pr in lt)this[pr]===void 0&&typeof lt[pr]=="function"&&(this[pr]=function(It){return function(){return lt[It].apply(lt,arguments)}}(pr));var Qe=["error","close","destroy","pause","resume"];return Dr(Qe,function(It){lt.on(It,$t.emit.bind($t,It))}),$t._read=function(It){Be("wrapped _read",It),Xt&&(Xt=!1,lt.resume())},$t},He._fromList=st;function st(lt,bt){if(bt.length===0)return null;var Xt;return bt.objectMode?Xt=bt.buffer.shift():!lt||lt>=bt.length?(bt.decoder?Xt=bt.buffer.join(""):bt.buffer.length===1?Xt=bt.buffer.head.data:Xt=bt.buffer.concat(bt.length),bt.buffer.clear()):Xt=dt(lt,bt.buffer,bt.decoder),Xt}function dt(lt,bt,Xt){var $t;return lt<bt.head.data.length?($t=bt.head.data.slice(0,lt),bt.head.data=bt.head.data.slice(lt)):lt===bt.head.data.length?$t=bt.shift():$t=Xt?Bt(lt,bt):At(lt,bt),$t}function Bt(lt,bt){var Xt=bt.head,$t=1,pr=Xt.data;for(lt-=pr.length;Xt=Xt.next;){var Qe=Xt.data,It=lt>Qe.length?Qe.length:lt;if(It===Qe.length?pr+=Qe:pr+=Qe.slice(0,lt),lt-=It,lt===0){It===Qe.length?(++$t,Xt.next?bt.head=Xt.next:bt.head=bt.tail=null):(bt.head=Xt,Xt.data=Qe.slice(It));break}++$t}return bt.length-=$t,pr}function At(lt,bt){var Xt=De.allocUnsafe(lt),$t=bt.head,pr=1;for($t.data.copy(Xt),lt-=$t.data.length;$t=$t.next;){var Qe=$t.data,It=lt>Qe.length?Qe.length:lt;if(Qe.copy(Xt,Xt.length-lt,0,It),lt-=It,lt===0){It===Qe.length?(++pr,$t.next?bt.head=$t.next:bt.head=bt.tail=null):(bt.head=$t,$t.data=Qe.slice(It));break}++pr}return bt.length-=pr,Xt}function Kt(lt){var bt=lt._readableState;if(bt.length>0)throw new Error('"endReadable()" called on non-empty stream');bt.endEmitted||(bt.ended=!0,m(fr,bt,lt))}function fr(lt,bt){!lt.endEmitted&&lt.length===0&&(lt.endEmitted=!0,bt.readable=!1,bt.emit("end"))}function Dr(lt,bt){for(var Xt=0,$t=lt.length;Xt<$t;Xt++)bt(lt[Xt],Xt)}function or(lt,bt){for(var Xt=0,$t=lt.length;Xt<$t;Xt++)if(lt[Xt]===bt)return Xt;return-1}}).call(i,c(6))},function(e,i,c){(function(f){!f.version||f.version.indexOf("v0.")===0||f.version.indexOf("v1.")===0&&f.version.indexOf("v1.8.")!==0?e.exports=m:e.exports=f.nextTick;function m(g,Te,Ie,Oe){if(typeof g!="function")throw new TypeError('"callback" argument must be a function');var Ae=arguments.length,De,_e;switch(Ae){case 0:case 1:return f.nextTick(g);case 2:return f.nextTick(function(){g.call(null,Te)});case 3:return f.nextTick(function(){g.call(null,Te,Ie)});case 4:return f.nextTick(function(){g.call(null,Te,Ie,Oe)});default:for(De=new Array(Ae-1),_e=0;_e<De.length;)De[_e++]=arguments[_e];return f.nextTick(function(){g.apply(null,De)})}}}).call(i,c(6))},function(e,i){var c={}.toString;e.exports=Array.isArray||function(f){return c.call(f)=="[object Array]"}},function(e,i,c){(function(f){var m=c(2),g=m.Buffer,Te=m.SlowBuffer,Ie=m.kMaxLength||2147483647;i.alloc=function(Ae,De,_e){if(typeof g.alloc=="function")return g.alloc(Ae,De,_e);if(typeof _e=="number")throw new TypeError("encoding must not be number");if(typeof Ae!="number")throw new TypeError("size must be a number");if(Ae>Ie)throw new RangeError("size is too large");var qe=_e,Be=De;Be===void 0&&(qe=void 0,Be=0);var Ne=new g(Ae);if(typeof Be=="string")for(var Ve=new g(Be,qe),Ue=Ve.length,We=-1;++We<Ae;)Ne[We]=Ve[We%Ue];else Ne.fill(Be);return Ne},i.allocUnsafe=function(Ae){if(typeof g.allocUnsafe=="function")return g.allocUnsafe(Ae);if(typeof Ae!="number")throw new TypeError("size must be a number");if(Ae>Ie)throw new RangeError("size is too large");return new g(Ae)},i.from=function(Ae,De,_e){if(typeof g.from=="function"&&(!f.Uint8Array||Uint8Array.from!==g.from))return g.from(Ae,De,_e);if(typeof Ae=="number")throw new TypeError('"value" argument must not be a number');if(typeof Ae=="string")return new g(Ae,De);if(typeof ArrayBuffer<"u"&&Ae instanceof ArrayBuffer){var qe=De;if(arguments.length===1)return new g(Ae);typeof qe>"u"&&(qe=0);var Be=_e;if(typeof Be>"u"&&(Be=Ae.byteLength-qe),qe>=Ae.byteLength)throw new RangeError("'offset' is out of bounds");if(Be>Ae.byteLength-qe)throw new RangeError("'length' is out of bounds");return new g(Ae.slice(qe,qe+Be))}if(g.isBuffer(Ae)){var Ne=new g(Ae.length);return Ae.copy(Ne,0,0,Ae.length),Ne}if(Ae){if(Array.isArray(Ae)||typeof ArrayBuffer<"u"&&Ae.buffer instanceof ArrayBuffer||"length"in Ae)return new g(Ae);if(Ae.type==="Buffer"&&Array.isArray(Ae.data))return new g(Ae.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},i.allocUnsafeSlow=function(Ae){if(typeof g.allocUnsafeSlow=="function")return g.allocUnsafeSlow(Ae);if(typeof Ae!="number")throw new TypeError("size must be a number");if(Ae>=Ie)throw new RangeError("size is too large");return new Te(Ae)}}).call(i,function(){return this}())},function(e,i,c){(function(f){function m(Ze){return Array.isArray?Array.isArray(Ze):He(Ze)==="[object Array]"}i.isArray=m;function g(Ze){return typeof Ze=="boolean"}i.isBoolean=g;function Te(Ze){return Ze===null}i.isNull=Te;function Ie(Ze){return Ze==null}i.isNullOrUndefined=Ie;function Oe(Ze){return typeof Ze=="number"}i.isNumber=Oe;function Ae(Ze){return typeof Ze=="string"}i.isString=Ae;function De(Ze){return typeof Ze=="symbol"}i.isSymbol=De;function _e(Ze){return Ze===void 0}i.isUndefined=_e;function qe(Ze){return He(Ze)==="[object RegExp]"}i.isRegExp=qe;function Be(Ze){return typeof Ze=="object"&&Ze!==null}i.isObject=Be;function Ne(Ze){return He(Ze)==="[object Date]"}i.isDate=Ne;function Ve(Ze){return He(Ze)==="[object Error]"||Ze instanceof Error}i.isError=Ve;function Ue(Ze){return typeof Ze=="function"}i.isFunction=Ue;function We(Ze){return Ze===null||typeof Ze=="boolean"||typeof Ze=="number"||typeof Ze=="string"||typeof Ze=="symbol"||typeof Ze>"u"}i.isPrimitive=We,i.isBuffer=f.isBuffer;function He(Ze){return Object.prototype.toString.call(Ze)}}).call(i,c(1))},function(e,i){},function(e,i,c){c(2).Buffer;var f=c(17);e.exports=m;function m(){this.head=null,this.tail=null,this.length=0}m.prototype.push=function(g){var Te={data:g,next:null};this.length>0?this.tail.next=Te:this.head=Te,this.tail=Te,++this.length},m.prototype.unshift=function(g){var Te={data:g,next:this.head};this.length===0&&(this.tail=Te),this.head=Te,++this.length},m.prototype.shift=function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}},m.prototype.clear=function(){this.head=this.tail=null,this.length=0},m.prototype.join=function(g){if(this.length===0)return"";for(var Te=this.head,Ie=""+Te.data;Te=Te.next;)Ie+=g+Te.data;return Ie},m.prototype.concat=function(g){if(this.length===0)return f.alloc(0);if(this.length===1)return this.head.data;for(var Te=f.allocUnsafe(g>>>0),Ie=this.head,Oe=0;Ie;)Ie.data.copy(Te,Oe),Oe+=Ie.data.length,Ie=Ie.next;return Te}},function(e,i,c){var f=Object.keys||function(Ne){var Ve=[];for(var Ue in Ne)Ve.push(Ue);return Ve};e.exports=_e;var m=c(15),g=c(18);g.inherits=c(12);var Te=c(14),Ie=c(22);g.inherits(_e,Te);for(var Oe=f(Ie.prototype),Ae=0;Ae<Oe.length;Ae++){var De=Oe[Ae];_e.prototype[De]||(_e.prototype[De]=Ie.prototype[De])}function _e(Ne){if(!(this instanceof _e))return new _e(Ne);Te.call(this,Ne),Ie.call(this,Ne),Ne&&Ne.readable===!1&&(this.readable=!1),Ne&&Ne.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,Ne&&Ne.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",qe)}function qe(){this.allowHalfOpen||this._writableState.ended||m(Be,this)}function Be(Ne){Ne.end()}},function(e,i,c){(function(f){e.exports=Ue;var m=c(15),g=!f.browser&&["v0.10","v0.9."].indexOf(f.version.slice(0,5))>-1?setImmediate:m,Te;Ue.WritableState=Ne;var Ie=c(18);Ie.inherits=c(12);var Oe={deprecate:c(23)},Ae;(function(){try{Ae=c(11)}catch{}finally{Ae||(Ae=c(8).EventEmitter)}})();var De=c(2).Buffer,_e=c(17);Ie.inherits(Ue,Ae);function qe(){}function Be(Et,St,st){this.chunk=Et,this.encoding=St,this.callback=st,this.next=null}function Ne(Et,St){Te=Te||c(21),Et=Et||{},this.objectMode=!!Et.objectMode,St instanceof Te&&(this.objectMode=this.objectMode||!!Et.writableObjectMode);var st=Et.highWaterMark,dt=this.objectMode?16:16*1024;this.highWaterMark=st||st===0?st:dt,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var Bt=Et.decodeStrings===!1;this.decodeStrings=!Bt,this.defaultEncoding=Et.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(At){tt(St,At)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new cr(this)}Ne.prototype.getBuffer=function(){for(var St=this.bufferedRequest,st=[];St;)st.push(St),St=St.next;return st},function(){try{Object.defineProperty(Ne.prototype,"buffer",{get:Oe.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch{}}();var Ve;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Ve=Function.prototype[Symbol.hasInstance],Object.defineProperty(Ue,Symbol.hasInstance,{value:function(Et){return Ve.call(this,Et)?!0:Et&&Et._writableState instanceof Ne}})):Ve=function(Et){return Et instanceof this};function Ue(Et){if(Te=Te||c(21),!Ve.call(Ue,this)&&!(this instanceof Te))return new Ue(Et);this._writableState=new Ne(Et,this),this.writable=!0,Et&&(typeof Et.write=="function"&&(this._write=Et.write),typeof Et.writev=="function"&&(this._writev=Et.writev)),Ae.call(this)}Ue.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function We(Et,St){var st=new Error("write after end");Et.emit("error",st),m(St,st)}function He(Et,St,st,dt){var Bt=!0,At=!1;return st===null?At=new TypeError("May not write null values to stream"):typeof st!="string"&&st!==void 0&&!St.objectMode&&(At=new TypeError("Invalid non-string/buffer chunk")),At&&(Et.emit("error",At),m(dt,At),Bt=!1),Bt}Ue.prototype.write=function(Et,St,st){var dt=this._writableState,Bt=!1,At=De.isBuffer(Et);return typeof St=="function"&&(st=St,St=null),At?St="buffer":St||(St=dt.defaultEncoding),typeof st!="function"&&(st=qe),dt.ended?We(this,st):(At||He(this,dt,Et,st))&&(dt.pendingcb++,Bt=ct(this,dt,At,Et,St,st)),Bt},Ue.prototype.cork=function(){var Et=this._writableState;Et.corked++},Ue.prototype.uncork=function(){var Et=this._writableState;Et.corked&&(Et.corked--,!Et.writing&&!Et.corked&&!Et.finished&&!Et.bufferProcessing&&Et.bufferedRequest&&mt(this,Et))},Ue.prototype.setDefaultEncoding=function(St){if(typeof St=="string"&&(St=St.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((St+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+St);return this._writableState.defaultEncoding=St,this};function Ze(Et,St,st){return!Et.objectMode&&Et.decodeStrings!==!1&&typeof St=="string"&&(St=_e.from(St,st)),St}function ct(Et,St,st,dt,Bt,At){st||(dt=Ze(St,dt,Bt),De.isBuffer(dt)&&(Bt="buffer"));var Kt=St.objectMode?1:dt.length;St.length+=Kt;var fr=St.length<St.highWaterMark;if(fr||(St.needDrain=!0),St.writing||St.corked){var Dr=St.lastBufferedRequest;St.lastBufferedRequest=new Be(dt,Bt,At),Dr?Dr.next=St.lastBufferedRequest:St.bufferedRequest=St.lastBufferedRequest,St.bufferedRequestCount+=1}else at(Et,St,!1,Kt,dt,Bt,At);return fr}function at(Et,St,st,dt,Bt,At,Kt){St.writelen=dt,St.writecb=Kt,St.writing=!0,St.sync=!0,st?Et._writev(Bt,St.onwrite):Et._write(Bt,At,St.onwrite),St.sync=!1}function gt(Et,St,st,dt,Bt){--St.pendingcb,st?m(Bt,dt):Bt(dt),Et._writableState.errorEmitted=!0,Et.emit("error",dt)}function yt(Et){Et.writing=!1,Et.writecb=null,Et.length-=Et.writelen,Et.writelen=0}function tt(Et,St){var st=Et._writableState,dt=st.sync,Bt=st.writecb;if(yt(st),St)gt(Et,st,dt,St,Bt);else{var At=Xe(st);!At&&!st.corked&&!st.bufferProcessing&&st.bufferedRequest&&mt(Et,st),dt?g(pt,Et,st,At,Bt):pt(Et,st,At,Bt)}}function pt(Et,St,st,dt){st||nt(Et,St),St.pendingcb--,dt(),Zt(Et,St)}function nt(Et,St){St.length===0&&St.needDrain&&(St.needDrain=!1,Et.emit("drain"))}function mt(Et,St){St.bufferProcessing=!0;var st=St.bufferedRequest;if(Et._writev&&st&&st.next){var dt=St.bufferedRequestCount,Bt=new Array(dt),At=St.corkedRequestsFree;At.entry=st;for(var Kt=0;st;)Bt[Kt]=st,st=st.next,Kt+=1;at(Et,St,!0,St.length,Bt,"",At.finish),St.pendingcb++,St.lastBufferedRequest=null,At.next?(St.corkedRequestsFree=At.next,At.next=null):St.corkedRequestsFree=new cr(St)}else{for(;st;){var fr=st.chunk,Dr=st.encoding,or=st.callback,lt=St.objectMode?1:fr.length;if(at(Et,St,!1,lt,fr,Dr,or),st=st.next,St.writing)break}st===null&&(St.lastBufferedRequest=null)}St.bufferedRequestCount=0,St.bufferedRequest=st,St.bufferProcessing=!1}Ue.prototype._write=function(Et,St,st){st(new Error("_write() is not implemented"))},Ue.prototype._writev=null,Ue.prototype.end=function(Et,St,st){var dt=this._writableState;typeof Et=="function"?(st=Et,Et=null,St=null):typeof St=="function"&&(st=St,St=null),Et!=null&&this.write(Et,St),dt.corked&&(dt.corked=1,this.uncork()),!dt.ending&&!dt.finished&&zt(this,dt,st)};function Xe(Et){return Et.ending&&Et.length===0&&Et.bufferedRequest===null&&!Et.finished&&!Et.writing}function Ft(Et,St){St.prefinished||(St.prefinished=!0,Et.emit("prefinish"))}function Zt(Et,St){var st=Xe(St);return st&&(St.pendingcb===0?(Ft(Et,St),St.finished=!0,Et.emit("finish")):Ft(Et,St)),st}function zt(Et,St,st){St.ending=!0,Zt(Et,St),st&&(St.finished?m(st):Et.once("finish",st)),St.ended=!0,Et.writable=!1}function cr(Et){var St=this;this.next=null,this.entry=null,this.finish=function(st){var dt=St.entry;for(St.entry=null;dt;){var Bt=dt.callback;Et.pendingcb--,Bt(st),dt=dt.next}Et.corkedRequestsFree?Et.corkedRequestsFree.next=St:Et.corkedRequestsFree=St}}}).call(i,c(6))},function(e,i){(function(c){e.exports=f;function f(g,Te){if(m("noDeprecation"))return g;var Ie=!1;function Oe(){if(!Ie){if(m("throwDeprecation"))throw new Error(Te);m("traceDeprecation")?console.trace(Te):console.warn(Te),Ie=!0}return g.apply(this,arguments)}return Oe}function m(g){try{if(!c.localStorage)return!1}catch{return!1}var Te=c.localStorage[g];return Te==null?!1:String(Te).toLowerCase()==="true"}}).call(i,function(){return this}())},function(e,i,c){var f=c(2).Buffer,m=f.isEncoding||function(De){switch(De&&De.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function g(De){if(De&&!m(De))throw new Error("Unknown encoding: "+De)}var Te=i.StringDecoder=function(De){switch(this.encoding=(De||"utf8").toLowerCase().replace(/[-_]/,""),g(De),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=Oe;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=Ae;break;default:this.write=Ie;return}this.charBuffer=new f(6),this.charReceived=0,this.charLength=0};Te.prototype.write=function(De){for(var _e="";this.charLength;){var qe=De.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:De.length;if(De.copy(this.charBuffer,this.charReceived,0,qe),this.charReceived+=qe,this.charReceived<this.charLength)return"";De=De.slice(qe,De.length),_e=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var Ne=_e.charCodeAt(_e.length-1);if(Ne>=55296&&Ne<=56319){this.charLength+=this.surrogateSize,_e="";continue}if(this.charReceived=this.charLength=0,De.length===0)return _e;break}this.detectIncompleteChar(De);var Be=De.length;this.charLength&&(De.copy(this.charBuffer,0,De.length-this.charReceived,Be),Be-=this.charReceived),_e+=De.toString(this.encoding,0,Be);var Be=_e.length-1,Ne=_e.charCodeAt(Be);if(Ne>=55296&&Ne<=56319){var Ve=this.surrogateSize;return this.charLength+=Ve,this.charReceived+=Ve,this.charBuffer.copy(this.charBuffer,Ve,0,Ve),De.copy(this.charBuffer,0,0,Ve),_e.substring(0,Be)}return _e},Te.prototype.detectIncompleteChar=function(De){for(var _e=De.length>=3?3:De.length;_e>0;_e--){var qe=De[De.length-_e];if(_e==1&&qe>>5==6){this.charLength=2;break}if(_e<=2&&qe>>4==14){this.charLength=3;break}if(_e<=3&&qe>>3==30){this.charLength=4;break}}this.charReceived=_e},Te.prototype.end=function(De){var _e="";if(De&&De.length&&(_e=this.write(De)),this.charReceived){var qe=this.charReceived,Be=this.charBuffer,Ne=this.encoding;_e+=Be.slice(0,qe).toString(Ne)}return _e};function Ie(De){return De.toString(this.encoding)}function Oe(De){this.charReceived=De.length%2,this.charLength=this.charReceived?2:0}function Ae(De){this.charReceived=De.length%3,this.charLength=this.charReceived?3:0}},function(e,i,c){e.exports=Ie;var f=c(21),m=c(18);m.inherits=c(12),m.inherits(Ie,f);function g(Ae){this.afterTransform=function(De,_e){return Te(Ae,De,_e)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function Te(Ae,De,_e){var qe=Ae._transformState;qe.transforming=!1;var Be=qe.writecb;if(!Be)return Ae.emit("error",new Error("no writecb in Transform class"));qe.writechunk=null,qe.writecb=null,_e!=null&&Ae.push(_e),Be(De);var Ne=Ae._readableState;Ne.reading=!1,(Ne.needReadable||Ne.length<Ne.highWaterMark)&&Ae._read(Ne.highWaterMark)}function Ie(Ae){if(!(this instanceof Ie))return new Ie(Ae);f.call(this,Ae),this._transformState=new g(this);var De=this;this._readableState.needReadable=!0,this._readableState.sync=!1,Ae&&(typeof Ae.transform=="function"&&(this._transform=Ae.transform),typeof Ae.flush=="function"&&(this._flush=Ae.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(_e,qe){Oe(De,_e,qe)}):Oe(De)})}Ie.prototype.push=function(Ae,De){return this._transformState.needTransform=!1,f.prototype.push.call(this,Ae,De)},Ie.prototype._transform=function(Ae,De,_e){throw new Error("_transform() is not implemented")},Ie.prototype._write=function(Ae,De,_e){var qe=this._transformState;if(qe.writecb=_e,qe.writechunk=Ae,qe.writeencoding=De,!qe.transforming){var Be=this._readableState;(qe.needTransform||Be.needReadable||Be.length<Be.highWaterMark)&&this._read(Be.highWaterMark)}},Ie.prototype._read=function(Ae){var De=this._transformState;De.writechunk!==null&&De.writecb&&!De.transforming?(De.transforming=!0,this._transform(De.writechunk,De.writeencoding,De.afterTransform)):De.needTransform=!0};function Oe(Ae,De,_e){if(De)return Ae.emit("error",De);_e!=null&&Ae.push(_e);var qe=Ae._writableState,Be=Ae._transformState;if(qe.length)throw new Error("Calling transform done when ws.length != 0");if(Be.transforming)throw new Error("Calling transform done when still transforming");return Ae.push(null)}},function(e,i,c){e.exports=g;var f=c(25),m=c(18);m.inherits=c(12),m.inherits(g,f);function g(Te){if(!(this instanceof g))return new g(Te);f.call(this,Te)}g.prototype._transform=function(Te,Ie,Oe){Oe(null,Te)}},function(e,i,c){e.exports=c(22)},function(e,i,c){e.exports=c(21)},function(e,i,c){e.exports=c(25)},function(e,i,c){e.exports=c(26)},function(e,i,c){var f=c(32),m=c(33),g=c(38),Te=c(39),Ie=c(40),Oe=c(41),Ae=c(42),De=Object.prototype.toString;function _e(Ne){if(!(this instanceof _e))return new _e(Ne);this.options=m.assign({chunkSize:16384,windowBits:0,to:""},Ne||{});var Ve=this.options;Ve.raw&&Ve.windowBits>=0&&Ve.windowBits<16&&(Ve.windowBits=-Ve.windowBits,Ve.windowBits===0&&(Ve.windowBits=-15)),Ve.windowBits>=0&&Ve.windowBits<16&&!(Ne&&Ne.windowBits)&&(Ve.windowBits+=32),Ve.windowBits>15&&Ve.windowBits<48&&(Ve.windowBits&15||(Ve.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Oe,this.strm.avail_out=0;var Ue=f.inflateInit2(this.strm,Ve.windowBits);if(Ue!==Te.Z_OK)throw new Error(Ie[Ue]);this.header=new Ae,f.inflateGetHeader(this.strm,this.header)}_e.prototype.push=function(Ne,Ve){var Ue=this.strm,We=this.options.chunkSize,He=this.options.dictionary,Ze,ct,at,gt,yt,tt,pt=!1;if(this.ended)return!1;ct=Ve===~~Ve?Ve:Ve===!0?Te.Z_FINISH:Te.Z_NO_FLUSH,typeof Ne=="string"?Ue.input=g.binstring2buf(Ne):De.call(Ne)==="[object ArrayBuffer]"?Ue.input=new Uint8Array(Ne):Ue.input=Ne,Ue.next_in=0,Ue.avail_in=Ue.input.length;do{if(Ue.avail_out===0&&(Ue.output=new m.Buf8(We),Ue.next_out=0,Ue.avail_out=We),Ze=f.inflate(Ue,Te.Z_NO_FLUSH),Ze===Te.Z_NEED_DICT&&He&&(typeof He=="string"?tt=g.string2buf(He):De.call(He)==="[object ArrayBuffer]"?tt=new Uint8Array(He):tt=He,Ze=f.inflateSetDictionary(this.strm,tt)),Ze===Te.Z_BUF_ERROR&&pt===!0&&(Ze=Te.Z_OK,pt=!1),Ze!==Te.Z_STREAM_END&&Ze!==Te.Z_OK)return this.onEnd(Ze),this.ended=!0,!1;Ue.next_out&&(Ue.avail_out===0||Ze===Te.Z_STREAM_END||Ue.avail_in===0&&(ct===Te.Z_FINISH||ct===Te.Z_SYNC_FLUSH))&&(this.options.to==="string"?(at=g.utf8border(Ue.output,Ue.next_out),gt=Ue.next_out-at,yt=g.buf2string(Ue.output,at),Ue.next_out=gt,Ue.avail_out=We-gt,gt&&m.arraySet(Ue.output,Ue.output,at,gt,0),this.onData(yt)):this.onData(m.shrinkBuf(Ue.output,Ue.next_out))),Ue.avail_in===0&&Ue.avail_out===0&&(pt=!0)}while((Ue.avail_in>0||Ue.avail_out===0)&&Ze!==Te.Z_STREAM_END);return Ze===Te.Z_STREAM_END&&(ct=Te.Z_FINISH),ct===Te.Z_FINISH?(Ze=f.inflateEnd(this.strm),this.onEnd(Ze),this.ended=!0,Ze===Te.Z_OK):(ct===Te.Z_SYNC_FLUSH&&(this.onEnd(Te.Z_OK),Ue.avail_out=0),!0)},_e.prototype.onData=function(Ne){this.chunks.push(Ne)},_e.prototype.onEnd=function(Ne){Ne===Te.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=Ne,this.msg=this.strm.msg};function qe(Ne,Ve){var Ue=new _e(Ve);if(Ue.push(Ne,!0),Ue.err)throw Ue.msg||Ie[Ue.err];return Ue.result}function Be(Ne,Ve){return Ve=Ve||{},Ve.raw=!0,qe(Ne,Ve)}i.Inflate=_e,i.inflate=qe,i.inflateRaw=Be,i.ungzip=qe},function(e,i,c){var f=c(33),m=c(34),g=c(35),Te=c(36),Ie=c(37),Oe=0,Ae=1,De=2,_e=4,qe=5,Be=6,Ne=0,Ve=1,Ue=2,We=-2,He=-3,Ze=-4,ct=-5,at=8,gt=1,yt=2,tt=3,pt=4,nt=5,mt=6,Xe=7,Ft=8,Zt=9,zt=10,cr=11,Et=12,St=13,st=14,dt=15,Bt=16,At=17,Kt=18,fr=19,Dr=20,or=21,lt=22,bt=23,Xt=24,$t=25,pr=26,Qe=27,It=28,Ht=29,ht=30,xt=31,Rt=32,er=852,rt=592,je=15,Ke=je;function ut(Jt){return(Jt>>>24&255)+(Jt>>>8&65280)+((Jt&65280)<<8)+((Jt&255)<<24)}function vt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new f.Buf16(320),this.work=new f.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Ct(Jt){var yr;return!Jt||!Jt.state?We:(yr=Jt.state,Jt.total_in=Jt.total_out=yr.total=0,Jt.msg="",yr.wrap&&(Jt.adler=yr.wrap&1),yr.mode=gt,yr.last=0,yr.havedict=0,yr.dmax=32768,yr.head=null,yr.hold=0,yr.bits=0,yr.lencode=yr.lendyn=new f.Buf32(er),yr.distcode=yr.distdyn=new f.Buf32(rt),yr.sane=1,yr.back=-1,Ne)}function Lt(Jt){var yr;return!Jt||!Jt.state?We:(yr=Jt.state,yr.wsize=0,yr.whave=0,yr.wnext=0,Ct(Jt))}function sr(Jt,yr){var it,kr;return!Jt||!Jt.state||(kr=Jt.state,yr<0?(it=0,yr=-yr):(it=(yr>>4)+1,yr<48&&(yr&=15)),yr&&(yr<8||yr>15))?We:(kr.window!==null&&kr.wbits!==yr&&(kr.window=null),kr.wrap=it,kr.wbits=yr,Lt(Jt))}function Rr(Jt,yr){var it,kr;return Jt?(kr=new vt,Jt.state=kr,kr.window=null,it=sr(Jt,yr),it!==Ne&&(Jt.state=null),it):We}function qr(Jt){return Rr(Jt,Ke)}var wr=!0,dr,Vr;function on(Jt){if(wr){var yr;for(dr=new f.Buf32(512),Vr=new f.Buf32(32),yr=0;yr<144;)Jt.lens[yr++]=8;for(;yr<256;)Jt.lens[yr++]=9;for(;yr<280;)Jt.lens[yr++]=7;for(;yr<288;)Jt.lens[yr++]=8;for(Ie(Ae,Jt.lens,0,288,dr,0,Jt.work,{bits:9}),yr=0;yr<32;)Jt.lens[yr++]=5;Ie(De,Jt.lens,0,32,Vr,0,Jt.work,{bits:5}),wr=!1}Jt.lencode=dr,Jt.lenbits=9,Jt.distcode=Vr,Jt.distbits=5}function Ir(Jt,yr,it,kr){var $r,Cr=Jt.state;return Cr.window===null&&(Cr.wsize=1<<Cr.wbits,Cr.wnext=0,Cr.whave=0,Cr.window=new f.Buf8(Cr.wsize)),kr>=Cr.wsize?(f.arraySet(Cr.window,yr,it-Cr.wsize,Cr.wsize,0),Cr.wnext=0,Cr.whave=Cr.wsize):($r=Cr.wsize-Cr.wnext,$r>kr&&($r=kr),f.arraySet(Cr.window,yr,it-kr,$r,Cr.wnext),kr-=$r,kr?(f.arraySet(Cr.window,yr,it-kr,kr,0),Cr.wnext=kr,Cr.whave=Cr.wsize):(Cr.wnext+=$r,Cr.wnext===Cr.wsize&&(Cr.wnext=0),Cr.whave<Cr.wsize&&(Cr.whave+=$r))),0}function un(Jt,yr){var it,kr,$r,Cr,Pn,Or,sn,ar,ir,Xr,Br,Tr,Wn,jn,cn=0,Qr,fn,wn,dn,vi,Li,nn,Ln,hn=new f.Buf8(4),Qn,zn,_n=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Jt||!Jt.state||!Jt.output||!Jt.input&&Jt.avail_in!==0)return We;it=Jt.state,it.mode===Et&&(it.mode=St),Pn=Jt.next_out,$r=Jt.output,sn=Jt.avail_out,Cr=Jt.next_in,kr=Jt.input,Or=Jt.avail_in,ar=it.hold,ir=it.bits,Xr=Or,Br=sn,Ln=Ne;e:for(;;)switch(it.mode){case gt:if(it.wrap===0){it.mode=St;break}for(;ir<16;){if(Or===0)break e;Or--,ar+=kr[Cr++]<<ir,ir+=8}if(it.wrap&2&&ar===35615){it.check=0,hn[0]=ar&255,hn[1]=ar>>>8&255,it.check=g(it.check,hn,2,0),ar=0,ir=0,it.mode=yt;break}if(it.flags=0,it.head&&(it.head.done=!1),!(it.wrap&1)||(((ar&255)<<8)+(ar>>8))%31){Jt.msg="incorrect header check",it.mode=ht;break}if((ar&15)!==at){Jt.msg="unknown compression method",it.mode=ht;break}if(ar>>>=4,ir-=4,nn=(ar&15)+8,it.wbits===0)it.wbits=nn;else if(nn>it.wbits){Jt.msg="invalid window size",it.mode=ht;break}it.dmax=1<<nn,Jt.adler=it.check=1,it.mode=ar&512?zt:Et,ar=0,ir=0;break;case yt:for(;ir<16;){if(Or===0)break e;Or--,ar+=kr[Cr++]<<ir,ir+=8}if(it.flags=ar,(it.flags&255)!==at){Jt.msg="unknown compression method",it.mode=ht;break}if(it.flags&57344){Jt.msg="unknown header flags set",it.mode=ht;break}it.head&&(it.head.text=ar>>8&1),it.flags&512&&(hn[0]=ar&255,hn[1]=ar>>>8&255,it.check=g(it.check,hn,2,0)),ar=0,ir=0,it.mode=tt;case tt:for(;ir<32;){if(Or===0)break e;Or--,ar+=kr[Cr++]<<ir,ir+=8}it.head&&(it.head.time=ar),it.flags&512&&(hn[0]=ar&255,hn[1]=ar>>>8&255,hn[2]=ar>>>16&255,hn[3]=ar>>>24&255,it.check=g(it.check,hn,4,0)),ar=0,ir=0,it.mode=pt;case pt:for(;ir<16;){if(Or===0)break e;Or--,ar+=kr[Cr++]<<ir,ir+=8}it.head&&(it.head.xflags=ar&255,it.head.os=ar>>8),it.flags&512&&(hn[0]=ar&255,hn[1]=ar>>>8&255,it.check=g(it.check,hn,2,0)),ar=0,ir=0,it.mode=nt;case nt:if(it.flags&1024){for(;ir<16;){if(Or===0)break e;Or--,ar+=kr[Cr++]<<ir,ir+=8}it.length=ar,it.head&&(it.head.extra_len=ar),it.flags&512&&(hn[0]=ar&255,hn[1]=ar>>>8&255,it.check=g(it.check,hn,2,0)),ar=0,ir=0}else it.head&&(it.head.extra=null);it.mode=mt;case mt:if(it.flags&1024&&(Tr=it.length,Tr>Or&&(Tr=Or),Tr&&(it.head&&(nn=it.head.extra_len-it.length,it.head.extra||(it.head.extra=new Array(it.head.extra_len)),f.arraySet(it.head.extra,kr,Cr,Tr,nn)),it.flags&512&&(it.check=g(it.check,kr,Tr,Cr)),Or-=Tr,Cr+=Tr,it.length-=Tr),it.length))break e;it.length=0,it.mode=Xe;case Xe:if(it.flags&2048){if(Or===0)break e;Tr=0;do nn=kr[Cr+Tr++],it.head&&nn&&it.length<65536&&(it.head.name+=String.fromCharCode(nn));while(nn&&Tr<Or);if(it.flags&512&&(it.check=g(it.check,kr,Tr,Cr)),Or-=Tr,Cr+=Tr,nn)break e}else it.head&&(it.head.name=null);it.length=0,it.mode=Ft;case Ft:if(it.flags&4096){if(Or===0)break e;Tr=0;do nn=kr[Cr+Tr++],it.head&&nn&&it.length<65536&&(it.head.comment+=String.fromCharCode(nn));while(nn&&Tr<Or);if(it.flags&512&&(it.check=g(it.check,kr,Tr,Cr)),Or-=Tr,Cr+=Tr,nn)break e}else it.head&&(it.head.comment=null);it.mode=Zt;case Zt:if(it.flags&512){for(;ir<16;){if(Or===0)break e;Or--,ar+=kr[Cr++]<<ir,ir+=8}if(ar!==(it.check&65535)){Jt.msg="header crc mismatch",it.mode=ht;break}ar=0,ir=0}it.head&&(it.head.hcrc=it.flags>>9&1,it.head.done=!0),Jt.adler=it.check=0,it.mode=Et;break;case zt:for(;ir<32;){if(Or===0)break e;Or--,ar+=kr[Cr++]<<ir,ir+=8}Jt.adler=it.check=ut(ar),ar=0,ir=0,it.mode=cr;case cr:if(it.havedict===0)return Jt.next_out=Pn,Jt.avail_out=sn,Jt.next_in=Cr,Jt.avail_in=Or,it.hold=ar,it.bits=ir,Ue;Jt.adler=it.check=1,it.mode=Et;case Et:if(yr===qe||yr===Be)break e;case St:if(it.last){ar>>>=ir&7,ir-=ir&7,it.mode=Qe;break}for(;ir<3;){if(Or===0)break e;Or--,ar+=kr[Cr++]<<ir,ir+=8}switch(it.last=ar&1,ar>>>=1,ir-=1,ar&3){case 0:it.mode=st;break;case 1:if(on(it),it.mode=Dr,yr===Be){ar>>>=2,ir-=2;break e}break;case 2:it.mode=At;break;case 3:Jt.msg="invalid block type",it.mode=ht}ar>>>=2,ir-=2;break;case st:for(ar>>>=ir&7,ir-=ir&7;ir<32;){if(Or===0)break e;Or--,ar+=kr[Cr++]<<ir,ir+=8}if((ar&65535)!==(ar>>>16^65535)){Jt.msg="invalid stored block lengths",it.mode=ht;break}if(it.length=ar&65535,ar=0,ir=0,it.mode=dt,yr===Be)break e;case dt:it.mode=Bt;case Bt:if(Tr=it.length,Tr){if(Tr>Or&&(Tr=Or),Tr>sn&&(Tr=sn),Tr===0)break e;f.arraySet($r,kr,Cr,Tr,Pn),Or-=Tr,Cr+=Tr,sn-=Tr,Pn+=Tr,it.length-=Tr;break}it.mode=Et;break;case At:for(;ir<14;){if(Or===0)break e;Or--,ar+=kr[Cr++]<<ir,ir+=8}if(it.nlen=(ar&31)+257,ar>>>=5,ir-=5,it.ndist=(ar&31)+1,ar>>>=5,ir-=5,it.ncode=(ar&15)+4,ar>>>=4,ir-=4,it.nlen>286||it.ndist>30){Jt.msg="too many length or distance symbols",it.mode=ht;break}it.have=0,it.mode=Kt;case Kt:for(;it.have<it.ncode;){for(;ir<3;){if(Or===0)break e;Or--,ar+=kr[Cr++]<<ir,ir+=8}it.lens[_n[it.have++]]=ar&7,ar>>>=3,ir-=3}for(;it.have<19;)it.lens[_n[it.have++]]=0;if(it.lencode=it.lendyn,it.lenbits=7,Qn={bits:it.lenbits},Ln=Ie(Oe,it.lens,0,19,it.lencode,0,it.work,Qn),it.lenbits=Qn.bits,Ln){Jt.msg="invalid code lengths set",it.mode=ht;break}it.have=0,it.mode=fr;case fr:for(;it.have<it.nlen+it.ndist;){for(;cn=it.lencode[ar&(1<<it.lenbits)-1],Qr=cn>>>24,fn=cn>>>16&255,wn=cn&65535,!(Qr<=ir);){if(Or===0)break e;Or--,ar+=kr[Cr++]<<ir,ir+=8}if(wn<16)ar>>>=Qr,ir-=Qr,it.lens[it.have++]=wn;else{if(wn===16){for(zn=Qr+2;ir<zn;){if(Or===0)break e;Or--,ar+=kr[Cr++]<<ir,ir+=8}if(ar>>>=Qr,ir-=Qr,it.have===0){Jt.msg="invalid bit length repeat",it.mode=ht;break}nn=it.lens[it.have-1],Tr=3+(ar&3),ar>>>=2,ir-=2}else if(wn===17){for(zn=Qr+3;ir<zn;){if(Or===0)break e;Or--,ar+=kr[Cr++]<<ir,ir+=8}ar>>>=Qr,ir-=Qr,nn=0,Tr=3+(ar&7),ar>>>=3,ir-=3}else{for(zn=Qr+7;ir<zn;){if(Or===0)break e;Or--,ar+=kr[Cr++]<<ir,ir+=8}ar>>>=Qr,ir-=Qr,nn=0,Tr=11+(ar&127),ar>>>=7,ir-=7}if(it.have+Tr>it.nlen+it.ndist){Jt.msg="invalid bit length repeat",it.mode=ht;break}for(;Tr--;)it.lens[it.have++]=nn}}if(it.mode===ht)break;if(it.lens[256]===0){Jt.msg="invalid code -- missing end-of-block",it.mode=ht;break}if(it.lenbits=9,Qn={bits:it.lenbits},Ln=Ie(Ae,it.lens,0,it.nlen,it.lencode,0,it.work,Qn),it.lenbits=Qn.bits,Ln){Jt.msg="invalid literal/lengths set",it.mode=ht;break}if(it.distbits=6,it.distcode=it.distdyn,Qn={bits:it.distbits},Ln=Ie(De,it.lens,it.nlen,it.ndist,it.distcode,0,it.work,Qn),it.distbits=Qn.bits,Ln){Jt.msg="invalid distances set",it.mode=ht;break}if(it.mode=Dr,yr===Be)break e;case Dr:it.mode=or;case or:if(Or>=6&&sn>=258){Jt.next_out=Pn,Jt.avail_out=sn,Jt.next_in=Cr,Jt.avail_in=Or,it.hold=ar,it.bits=ir,Te(Jt,Br),Pn=Jt.next_out,$r=Jt.output,sn=Jt.avail_out,Cr=Jt.next_in,kr=Jt.input,Or=Jt.avail_in,ar=it.hold,ir=it.bits,it.mode===Et&&(it.back=-1);break}for(it.back=0;cn=it.lencode[ar&(1<<it.lenbits)-1],Qr=cn>>>24,fn=cn>>>16&255,wn=cn&65535,!(Qr<=ir);){if(Or===0)break e;Or--,ar+=kr[Cr++]<<ir,ir+=8}if(fn&&!(fn&240)){for(dn=Qr,vi=fn,Li=wn;cn=it.lencode[Li+((ar&(1<<dn+vi)-1)>>dn)],Qr=cn>>>24,fn=cn>>>16&255,wn=cn&65535,!(dn+Qr<=ir);){if(Or===0)break e;Or--,ar+=kr[Cr++]<<ir,ir+=8}ar>>>=dn,ir-=dn,it.back+=dn}if(ar>>>=Qr,ir-=Qr,it.back+=Qr,it.length=wn,fn===0){it.mode=pr;break}if(fn&32){it.back=-1,it.mode=Et;break}if(fn&64){Jt.msg="invalid literal/length code",it.mode=ht;break}it.extra=fn&15,it.mode=lt;case lt:if(it.extra){for(zn=it.extra;ir<zn;){if(Or===0)break e;Or--,ar+=kr[Cr++]<<ir,ir+=8}it.length+=ar&(1<<it.extra)-1,ar>>>=it.extra,ir-=it.extra,it.back+=it.extra}it.was=it.length,it.mode=bt;case bt:for(;cn=it.distcode[ar&(1<<it.distbits)-1],Qr=cn>>>24,fn=cn>>>16&255,wn=cn&65535,!(Qr<=ir);){if(Or===0)break e;Or--,ar+=kr[Cr++]<<ir,ir+=8}if(!(fn&240)){for(dn=Qr,vi=fn,Li=wn;cn=it.distcode[Li+((ar&(1<<dn+vi)-1)>>dn)],Qr=cn>>>24,fn=cn>>>16&255,wn=cn&65535,!(dn+Qr<=ir);){if(Or===0)break e;Or--,ar+=kr[Cr++]<<ir,ir+=8}ar>>>=dn,ir-=dn,it.back+=dn}if(ar>>>=Qr,ir-=Qr,it.back+=Qr,fn&64){Jt.msg="invalid distance code",it.mode=ht;break}it.offset=wn,it.extra=fn&15,it.mode=Xt;case Xt:if(it.extra){for(zn=it.extra;ir<zn;){if(Or===0)break e;Or--,ar+=kr[Cr++]<<ir,ir+=8}it.offset+=ar&(1<<it.extra)-1,ar>>>=it.extra,ir-=it.extra,it.back+=it.extra}if(it.offset>it.dmax){Jt.msg="invalid distance too far back",it.mode=ht;break}it.mode=$t;case $t:if(sn===0)break e;if(Tr=Br-sn,it.offset>Tr){if(Tr=it.offset-Tr,Tr>it.whave&&it.sane){Jt.msg="invalid distance too far back",it.mode=ht;break}Tr>it.wnext?(Tr-=it.wnext,Wn=it.wsize-Tr):Wn=it.wnext-Tr,Tr>it.length&&(Tr=it.length),jn=it.window}else jn=$r,Wn=Pn-it.offset,Tr=it.length;Tr>sn&&(Tr=sn),sn-=Tr,it.length-=Tr;do $r[Pn++]=jn[Wn++];while(--Tr);it.length===0&&(it.mode=or);break;case pr:if(sn===0)break e;$r[Pn++]=it.length,sn--,it.mode=or;break;case Qe:if(it.wrap){for(;ir<32;){if(Or===0)break e;Or--,ar|=kr[Cr++]<<ir,ir+=8}if(Br-=sn,Jt.total_out+=Br,it.total+=Br,Br&&(Jt.adler=it.check=it.flags?g(it.check,$r,Br,Pn-Br):m(it.check,$r,Br,Pn-Br)),Br=sn,(it.flags?ar:ut(ar))!==it.check){Jt.msg="incorrect data check",it.mode=ht;break}ar=0,ir=0}it.mode=It;case It:if(it.wrap&&it.flags){for(;ir<32;){if(Or===0)break e;Or--,ar+=kr[Cr++]<<ir,ir+=8}if(ar!==(it.total&4294967295)){Jt.msg="incorrect length check",it.mode=ht;break}ar=0,ir=0}it.mode=Ht;case Ht:Ln=Ve;break e;case ht:Ln=He;break e;case xt:return Ze;case Rt:default:return We}return Jt.next_out=Pn,Jt.avail_out=sn,Jt.next_in=Cr,Jt.avail_in=Or,it.hold=ar,it.bits=ir,(it.wsize||Br!==Jt.avail_out&&it.mode<ht&&(it.mode<Qe||yr!==_e))&&Ir(Jt,Jt.output,Jt.next_out,Br-Jt.avail_out),Xr-=Jt.avail_in,Br-=Jt.avail_out,Jt.total_in+=Xr,Jt.total_out+=Br,it.total+=Br,it.wrap&&Br&&(Jt.adler=it.check=it.flags?g(it.check,$r,Br,Jt.next_out-Br):m(it.check,$r,Br,Jt.next_out-Br)),Jt.data_type=it.bits+(it.last?64:0)+(it.mode===Et?128:0)+(it.mode===Dr||it.mode===dt?256:0),(Xr===0&&Br===0||yr===_e)&&Ln===Ne&&(Ln=ct),Ln}function Bn(Jt){if(!Jt||!Jt.state)return We;var yr=Jt.state;return yr.window&&(yr.window=null),Jt.state=null,Ne}function Un(Jt,yr){var it;return!Jt||!Jt.state||(it=Jt.state,!(it.wrap&2))?We:(it.head=yr,yr.done=!1,Ne)}function Er(Jt,yr){var it=yr.length,kr,$r,Cr;return!Jt||!Jt.state||(kr=Jt.state,kr.wrap!==0&&kr.mode!==cr)?We:kr.mode===cr&&($r=1,$r=m($r,yr,it,0),$r!==kr.check)?He:(Cr=Ir(Jt,yr,it,it),Cr?(kr.mode=xt,Ze):(kr.havedict=1,Ne))}i.inflateReset=Lt,i.inflateReset2=sr,i.inflateResetKeep=Ct,i.inflateInit=qr,i.inflateInit2=Rr,i.inflate=un,i.inflateEnd=Bn,i.inflateGetHeader=Un,i.inflateSetDictionary=Er,i.inflateInfo="pako inflate (from Nodeca project)"},function(e,i){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(g){for(var Te=Array.prototype.slice.call(arguments,1);Te.length;){var Ie=Te.shift();if(Ie){if(typeof Ie!="object")throw new TypeError(Ie+"must be non-object");for(var Oe in Ie)Ie.hasOwnProperty(Oe)&&(g[Oe]=Ie[Oe])}}return g},i.shrinkBuf=function(g,Te){return g.length===Te?g:g.subarray?g.subarray(0,Te):(g.length=Te,g)};var f={arraySet:function(g,Te,Ie,Oe,Ae){if(Te.subarray&&g.subarray){g.set(Te.subarray(Ie,Ie+Oe),Ae);return}for(var De=0;De<Oe;De++)g[Ae+De]=Te[Ie+De]},flattenChunks:function(g){var Te,Ie,Oe,Ae,De,_e;for(Oe=0,Te=0,Ie=g.length;Te<Ie;Te++)Oe+=g[Te].length;for(_e=new Uint8Array(Oe),Ae=0,Te=0,Ie=g.length;Te<Ie;Te++)De=g[Te],_e.set(De,Ae),Ae+=De.length;return _e}},m={arraySet:function(g,Te,Ie,Oe,Ae){for(var De=0;De<Oe;De++)g[Ae+De]=Te[Ie+De]},flattenChunks:function(g){return[].concat.apply([],g)}};i.setTyped=function(g){g?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,f)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,m))},i.setTyped(c)},function(e,i){function c(f,m,g,Te){for(var Ie=f&65535|0,Oe=f>>>16&65535|0,Ae=0;g!==0;){Ae=g>2e3?2e3:g,g-=Ae;do Ie=Ie+m[Te++]|0,Oe=Oe+Ie|0;while(--Ae);Ie%=65521,Oe%=65521}return Ie|Oe<<16|0}e.exports=c},function(e,i){function c(){for(var g,Te=[],Ie=0;Ie<256;Ie++){g=Ie;for(var Oe=0;Oe<8;Oe++)g=g&1?3988292384^g>>>1:g>>>1;Te[Ie]=g}return Te}var f=c();function m(g,Te,Ie,Oe){var Ae=f,De=Oe+Ie;g^=-1;for(var _e=Oe;_e<De;_e++)g=g>>>8^Ae[(g^Te[_e])&255];return g^-1}e.exports=m},function(e,i){var c=30,f=12;e.exports=function(g,Te){var Ie,Oe,Ae,De,_e,qe,Be,Ne,Ve,Ue,We,He,Ze,ct,at,gt,yt,tt,pt,nt,mt,Xe,Ft,Zt,zt;Ie=g.state,Oe=g.next_in,Zt=g.input,Ae=Oe+(g.avail_in-5),De=g.next_out,zt=g.output,_e=De-(Te-g.avail_out),qe=De+(g.avail_out-257),Be=Ie.dmax,Ne=Ie.wsize,Ve=Ie.whave,Ue=Ie.wnext,We=Ie.window,He=Ie.hold,Ze=Ie.bits,ct=Ie.lencode,at=Ie.distcode,gt=(1<<Ie.lenbits)-1,yt=(1<<Ie.distbits)-1;e:do{Ze<15&&(He+=Zt[Oe++]<<Ze,Ze+=8,He+=Zt[Oe++]<<Ze,Ze+=8),tt=ct[He&gt];t:for(;;){if(pt=tt>>>24,He>>>=pt,Ze-=pt,pt=tt>>>16&255,pt===0)zt[De++]=tt&65535;else if(pt&16){nt=tt&65535,pt&=15,pt&&(Ze<pt&&(He+=Zt[Oe++]<<Ze,Ze+=8),nt+=He&(1<<pt)-1,He>>>=pt,Ze-=pt),Ze<15&&(He+=Zt[Oe++]<<Ze,Ze+=8,He+=Zt[Oe++]<<Ze,Ze+=8),tt=at[He&yt];r:for(;;){if(pt=tt>>>24,He>>>=pt,Ze-=pt,pt=tt>>>16&255,pt&16){if(mt=tt&65535,pt&=15,Ze<pt&&(He+=Zt[Oe++]<<Ze,Ze+=8,Ze<pt&&(He+=Zt[Oe++]<<Ze,Ze+=8)),mt+=He&(1<<pt)-1,mt>Be){g.msg="invalid distance too far back",Ie.mode=c;break e}if(He>>>=pt,Ze-=pt,pt=De-_e,mt>pt){if(pt=mt-pt,pt>Ve&&Ie.sane){g.msg="invalid distance too far back",Ie.mode=c;break e}if(Xe=0,Ft=We,Ue===0){if(Xe+=Ne-pt,pt<nt){nt-=pt;do zt[De++]=We[Xe++];while(--pt);Xe=De-mt,Ft=zt}}else if(Ue<pt){if(Xe+=Ne+Ue-pt,pt-=Ue,pt<nt){nt-=pt;do zt[De++]=We[Xe++];while(--pt);if(Xe=0,Ue<nt){pt=Ue,nt-=pt;do zt[De++]=We[Xe++];while(--pt);Xe=De-mt,Ft=zt}}}else if(Xe+=Ue-pt,pt<nt){nt-=pt;do zt[De++]=We[Xe++];while(--pt);Xe=De-mt,Ft=zt}for(;nt>2;)zt[De++]=Ft[Xe++],zt[De++]=Ft[Xe++],zt[De++]=Ft[Xe++],nt-=3;nt&&(zt[De++]=Ft[Xe++],nt>1&&(zt[De++]=Ft[Xe++]))}else{Xe=De-mt;do zt[De++]=zt[Xe++],zt[De++]=zt[Xe++],zt[De++]=zt[Xe++],nt-=3;while(nt>2);nt&&(zt[De++]=zt[Xe++],nt>1&&(zt[De++]=zt[Xe++]))}}else if(pt&64){g.msg="invalid distance code",Ie.mode=c;break e}else{tt=at[(tt&65535)+(He&(1<<pt)-1)];continue r}break}}else if(pt&64)if(pt&32){Ie.mode=f;break e}else{g.msg="invalid literal/length code",Ie.mode=c;break e}else{tt=ct[(tt&65535)+(He&(1<<pt)-1)];continue t}break}}while(Oe<Ae&&De<qe);nt=Ze>>3,Oe-=nt,Ze-=nt<<3,He&=(1<<Ze)-1,g.next_in=Oe,g.next_out=De,g.avail_in=Oe<Ae?5+(Ae-Oe):5-(Oe-Ae),g.avail_out=De<qe?257+(qe-De):257-(De-qe),Ie.hold=He,Ie.bits=Ze}},function(e,i,c){var f=c(33),m=15,g=852,Te=592,Ie=0,Oe=1,Ae=2,De=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],_e=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],qe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Be=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(Ve,Ue,We,He,Ze,ct,at,gt){var yt=gt.bits,tt=0,pt=0,nt=0,mt=0,Xe=0,Ft=0,Zt=0,zt=0,cr=0,Et=0,St,st,dt,Bt,At,Kt=null,fr=0,Dr,or=new f.Buf16(m+1),lt=new f.Buf16(m+1),bt=null,Xt=0,$t,pr,Qe;for(tt=0;tt<=m;tt++)or[tt]=0;for(pt=0;pt<He;pt++)or[Ue[We+pt]]++;for(Xe=yt,mt=m;mt>=1&&or[mt]===0;mt--);if(Xe>mt&&(Xe=mt),mt===0)return Ze[ct++]=1<<24|64<<16|0,Ze[ct++]=1<<24|64<<16|0,gt.bits=1,0;for(nt=1;nt<mt&&or[nt]===0;nt++);for(Xe<nt&&(Xe=nt),zt=1,tt=1;tt<=m;tt++)if(zt<<=1,zt-=or[tt],zt<0)return-1;if(zt>0&&(Ve===Ie||mt!==1))return-1;for(lt[1]=0,tt=1;tt<m;tt++)lt[tt+1]=lt[tt]+or[tt];for(pt=0;pt<He;pt++)Ue[We+pt]!==0&&(at[lt[Ue[We+pt]]++]=pt);if(Ve===Ie?(Kt=bt=at,Dr=19):Ve===Oe?(Kt=De,fr-=257,bt=_e,Xt-=257,Dr=256):(Kt=qe,bt=Be,Dr=-1),Et=0,pt=0,tt=nt,At=ct,Ft=Xe,Zt=0,dt=-1,cr=1<<Xe,Bt=cr-1,Ve===Oe&&cr>g||Ve===Ae&&cr>Te)return 1;for(;;){$t=tt-Zt,at[pt]<Dr?(pr=0,Qe=at[pt]):at[pt]>Dr?(pr=bt[Xt+at[pt]],Qe=Kt[fr+at[pt]]):(pr=32+64,Qe=0),St=1<<tt-Zt,st=1<<Ft,nt=st;do st-=St,Ze[At+(Et>>Zt)+st]=$t<<24|pr<<16|Qe|0;while(st!==0);for(St=1<<tt-1;Et&St;)St>>=1;if(St!==0?(Et&=St-1,Et+=St):Et=0,pt++,--or[tt]===0){if(tt===mt)break;tt=Ue[We+at[pt]]}if(tt>Xe&&(Et&Bt)!==dt){for(Zt===0&&(Zt=Xe),At+=nt,Ft=tt-Zt,zt=1<<Ft;Ft+Zt<mt&&(zt-=or[Ft+Zt],!(zt<=0));)Ft++,zt<<=1;if(cr+=1<<Ft,Ve===Oe&&cr>g||Ve===Ae&&cr>Te)return 1;dt=Et&Bt,Ze[dt]=Xe<<24|Ft<<16|At-ct|0}}return Et!==0&&(Ze[At+Et]=tt-Zt<<24|64<<16|0),gt.bits=Xe,0}},function(e,i,c){var f=c(33),m=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch{m=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{g=!1}for(var Te=new f.Buf8(256),Ie=0;Ie<256;Ie++)Te[Ie]=Ie>=252?6:Ie>=248?5:Ie>=240?4:Ie>=224?3:Ie>=192?2:1;Te[254]=Te[254]=1,i.string2buf=function(Ae){var De,_e,qe,Be,Ne,Ve=Ae.length,Ue=0;for(Be=0;Be<Ve;Be++)_e=Ae.charCodeAt(Be),(_e&64512)===55296&&Be+1<Ve&&(qe=Ae.charCodeAt(Be+1),(qe&64512)===56320&&(_e=65536+(_e-55296<<10)+(qe-56320),Be++)),Ue+=_e<128?1:_e<2048?2:_e<65536?3:4;for(De=new f.Buf8(Ue),Ne=0,Be=0;Ne<Ue;Be++)_e=Ae.charCodeAt(Be),(_e&64512)===55296&&Be+1<Ve&&(qe=Ae.charCodeAt(Be+1),(qe&64512)===56320&&(_e=65536+(_e-55296<<10)+(qe-56320),Be++)),_e<128?De[Ne++]=_e:_e<2048?(De[Ne++]=192|_e>>>6,De[Ne++]=128|_e&63):_e<65536?(De[Ne++]=224|_e>>>12,De[Ne++]=128|_e>>>6&63,De[Ne++]=128|_e&63):(De[Ne++]=240|_e>>>18,De[Ne++]=128|_e>>>12&63,De[Ne++]=128|_e>>>6&63,De[Ne++]=128|_e&63);return De};function Oe(Ae,De){if(De<65537&&(Ae.subarray&&g||!Ae.subarray&&m))return String.fromCharCode.apply(null,f.shrinkBuf(Ae,De));for(var _e="",qe=0;qe<De;qe++)_e+=String.fromCharCode(Ae[qe]);return _e}i.buf2binstring=function(Ae){return Oe(Ae,Ae.length)},i.binstring2buf=function(Ae){for(var De=new f.Buf8(Ae.length),_e=0,qe=De.length;_e<qe;_e++)De[_e]=Ae.charCodeAt(_e);return De},i.buf2string=function(Ae,De){var _e,qe,Be,Ne,Ve=De||Ae.length,Ue=new Array(Ve*2);for(qe=0,_e=0;_e<Ve;){if(Be=Ae[_e++],Be<128){Ue[qe++]=Be;continue}if(Ne=Te[Be],Ne>4){Ue[qe++]=65533,_e+=Ne-1;continue}for(Be&=Ne===2?31:Ne===3?15:7;Ne>1&&_e<Ve;)Be=Be<<6|Ae[_e++]&63,Ne--;if(Ne>1){Ue[qe++]=65533;continue}Be<65536?Ue[qe++]=Be:(Be-=65536,Ue[qe++]=55296|Be>>10&1023,Ue[qe++]=56320|Be&1023)}return Oe(Ue,qe)},i.utf8border=function(Ae,De){var _e;for(De=De||Ae.length,De>Ae.length&&(De=Ae.length),_e=De-1;_e>=0&&(Ae[_e]&192)===128;)_e--;return _e<0||_e===0?De:_e+Te[Ae[_e]]>De?_e:De}},function(e,i){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,i){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,i){function c(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=c},function(e,i){function c(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}e.exports=c}])})})(browserfs$2);var browserfsExports=browserfs$2.exports;const browserfs=getDefaultExportFromCjs(browserfsExports),browserfs$1=_mergeNamespaces({__proto__:null,default:browserfs},[browserfsExports]),raUserdataDir$1="/home/web_user/retroarch/userdata";function createEmscriptenFS({ERRNO_CODES:_,FS:o,PATH:e}){const i=new browserfsExports.FileSystem.InMemory,c=new browserfsExports.FileSystem.MountableFileSystem;try{c.umount(raUserdataDir$1)}catch{}return c.mount(raUserdataDir$1,i),browserfsExports.initialize(c),new browserfsExports.EmscriptenFS(o,e,_)}function getEmscriptenModuleOverrides(_){let o;const e=new Promise(c=>{o=c});return{noExitRuntime:!1,noInitialRun:!0,locateFile(c){return c},async monitorRunDependencies(c){return c===0&&o(),await e},print(...c){console.info(...c)},printErr(...c){console.error(...c)},quit(c,f){c&&console.info(c,f)},..._}}const{Buffer:Buffer$1}=browserfsExports.BFSRequire("buffer"),path=browserfsExports.BFSRequire("path"),{basename,dirname,extname,join,relative}=path;function urlBaseName(_){let o=_;try{o=new URL(_).pathname}catch{}const e=basename(o);try{return decodeURIComponent(e)}catch{return e}}function isAbsoluteUrl(_){return!_||typeof _!="string"?!1:["http://","https://","//","data:","blob:"].some(e=>_.startsWith(e))}async function blobToBuffer(_){const o=await _.arrayBuffer();return Buffer$1.from(o)}function stringToBuffer(_){return Buffer$1.from(_,"utf8")}function updateStyle(_,o){if(_)for(const e in o){const i=o[e];_.style[e]=i||null}}function delay(_){return new Promise(o=>{setTimeout(o,_)})}function isGlobalScript(_){return _.startsWith("var Module")}function isEsmScript(_){return _.includes("import.meta.url")}function patchCoreJs({js:_,name:o}){let e=_;return isGlobalScript(_)?e=`export function getEmscripten({ Module }) {
        ${_};
        Module.FS = FS;
        Module.PATH = PATH;
        Module.ERRNO_CODES = ERRNO_CODES;
        return { AL, Browser, JSEvents, Module, exit: _emscripten_force_exit }
      }`:isEsmScript(_)&&(e=`${_.replace("readyPromiseResolve(Module)","readyPromiseResolve({ AL, Browser, JSEvents, Module, exit: _emscripten_force_exit })")};
      export function getEmscripten({ Module }) {
        return (libretro_${o} || ${o})(Module)
      }
    `),e}async function importCoreJsAsESM({js,name}){const jsContent=patchCoreJs({js,name}),jsBlob=new Blob([jsContent],{type:"application/javascript"}),jsBlobUrl=URL.createObjectURL(jsBlob);if(!jsBlobUrl)throw new Error("invalid jsBlob");try{return await __vitePreload(()=>import(jsBlobUrl),[])}catch{return await eval("import(jsBlobUrl)")}finally{URL.revokeObjectURL(jsBlobUrl)}}function isNil(_){return _==null}function isPlainObject(_){if(isNil(_))return!1;const{constructor:o}=_;return o===Object||!o}function mergeSourceToTarget(_,o){for(const e in o)if(Object.prototype.hasOwnProperty.call(o,e)){const i=_[e],c=o[e];isNil(i)?_[e]=c:Array.isArray(i)&&Array.isArray(c)?_[e]=[...i,...c]:isPlainObject(i)&&isPlainObject(c)?(_[e]=isPlainObject(i)?_[e]:{},mergeSourceToTarget(_[e],c)):_[e]=c}}function merge(_,...o){for(const e of o)mergeSourceToTarget(_,e)}function checkIsAborted(_){if(_!=null&&_.aborted)throw new Error("Launch aborted")}function padZero(_){return(_<10?"0":"")+_}const encoder=new TextEncoder,raUserdataDir="/home/web_user/retroarch/userdata",raBundleDir="/home/web_user/retroarch/bundle",raContentDir=join(raUserdataDir,"content"),raSystemDir=join(raUserdataDir,"system"),raConfigDir=join(raUserdataDir,"config"),raShaderDir=join(raBundleDir,"shaders","shaders_glsl"),raConfigPath=join(raUserdataDir,"retroarch.cfg"),raCoreConfigPath=join(raUserdataDir,"retroarch-core-options.cfg");class Emulator{constructor(o){__publicField(this,"canvasInitialSize",{height:0,width:0}),__publicField(this,"gameStatus","initial"),__publicField(this,"messageQueue",[]),__publicField(this,"options"),__publicField(this,"browserFS"),__publicField(this,"emscripten"),this.options=o}clearStateFile(){const{Module:o}=this.getEmscripten(),{FS:e}=o;try{e.unlink(this.stateFileName),e.unlink(this.stateThumbnailFileName)}catch{}}fireKeyboardEvent(o,e){const{JSEvents:i}=this.getEmscripten();for(const{eventListenerFunc:c,eventTypeString:f}of i.eventHandlers)if(f===o)try{c({code:e,target:this.options.element})}catch{}}getCurrentRetroarchConfig(){const{Module:o}=this.getEmscripten(),{FS:e}=o,i=e.readFile(raConfigPath,{encoding:"utf8"});return ini$1.parse(i)}getElementSize(){const{element:o,size:e}=this.options;return!e||e==="auto"?{height:o.offsetHeight,width:o.offsetWidth}:e}getKeyboardCode(o,e=1){const i=this.getCurrentRetroarchConfig(),c=`input_player${e}_${o}`,f=i[c];if(!f||f==="nul")return;const{length:m}=f;return m===1?`Key${f.toUpperCase()}`:f[0]==="f"&&(m===2||m===3)?f.toUpperCase():m===4&&f.startsWith("num")?`Numpad${f.at(-1)}`:m===7&&f.startsWith("keypad")?`Digit${f.at(-1)}`:keyboardCodeMap[f]||""}guessScreenshotFileName(){const o=new Date,e=o.getFullYear()%1e3,i=padZero(o.getMonth()+1),c=padZero(o.getDate()),f=padZero(o.getHours()),m=padZero(o.getMinutes()),g=padZero(o.getSeconds()),Te=`${e}${i}${c}-${f}${m}${g}`;return`${this.romBaseName}-${Te}.png`}keyboardDown(o){this.fireKeyboardEvent("keydown",o)}async keyboardPress(o,e=100){this.keyboardDown(o),await delay(e),this.keyboardUp(o)}keyboardUp(o){this.fireKeyboardEvent("keyup",o)}postRun(){var o;this.resize(this.canvasInitialSize);for(const e of((o=navigator.getGamepads)==null?void 0:o.call(navigator))??[])e&&window.dispatchEvent(new GamepadEvent("gamepadconnected",{gamepad:e}));this.updateKeyboardEventHandlers()}get romBaseName(){const{rom:[{fileName:o}]}=this.options;return o.slice(0,o.lastIndexOf("."))}runMain(){checkIsAborted(this.options.signal);const{Module:o}=this.getEmscripten(),{arguments:e=[]}=o,{rom:i,signal:c}=this.options;if(!o.arguments&&i.length>0){const[{fileName:f}]=i;e.push(join(raContentDir,f))}o.callMain(e),c==null||c.addEventListener("abort",()=>{this.exit()}),this.gameStatus="running",this.postRun()}async setupEmscripten(){var o;typeof window=="object"&&(window.setImmediate??(window.setImmediate=window.setTimeout));const{core:e,element:i,emscriptenModule:c,signal:f}=this.options,{wasm:m}=e,g={canvas:i,preRun:[],wasmBinary:m,...c},Te=getEmscriptenModuleOverrides(g);(o=Te.preRun)==null||o.push(()=>Te.FS.init(()=>this.stdin()));const{getEmscripten:Ie}=await importCoreJsAsESM(e),Oe=await Ie({Module:Te});this.emscripten=Oe;const{Module:Ae}=Oe;await Ae.monitorRunDependencies(),checkIsAborted(f),await this.setupFileSystem()}async setupFileSystem(){const{Module:o}=this.getEmscripten(),{ERRNO_CODES:e,FS:i,PATH:c}=o,{bios:f,rom:m,signal:g,state:Te}=this.options,Ie=createEmscriptenFS({ERRNO_CODES:e,FS:i,PATH:c});this.browserFS=Ie,i.mount(Ie,{root:"/home"},"/home"),m.length>0&&i.mkdirTree(raContentDir),f.length>0&&i.mkdirTree(raSystemDir),Te&&i.mkdirTree(this.stateFileDirectory);const Oe=100;let Ae=0;for(;!o.asm&&Ae<Oe;)await delay(10),checkIsAborted(g),Ae+=5;const De=[];if(De.push(...m.map(_e=>this.writeBlobToDirectory({..._e,directory:raContentDir})),...f.map(_e=>this.writeBlobToDirectory({..._e,directory:raSystemDir}))),Te){const _e=this.writeBlobToDirectory({directory:this.stateFileDirectory,fileContent:Te,fileName:`${this.romBaseName}.state.auto`});De.push(_e)}await Promise.all(De),checkIsAborted(g)}async setupRaConfigFile(){this.writeConfigFile({config:this.options.retroarchConfig,path:raConfigPath}),this.writeConfigFile({config:this.options.retroarchCoreConfig,path:raCoreConfigPath}),await this.setupRaShaderFile()}async setupRaShaderFile(){const{shader:o}=this.options;if(o.length===0)return;const e=o.filter(c=>c.fileName.endsWith(".glslp"));if(e.length===0)return;const i=e.map(c=>`#reference "${join(raShaderDir,c.fileName)}"`).join(`
`);this.writeTextToDirectory({directory:raConfigDir,fileContent:i,fileName:"global.glslp"}),await Promise.all(o.map(async({fileContent:c,fileName:f})=>{const m=f.endsWith(".glslp")?raShaderDir:join(raShaderDir,"shaders");await this.writeBlobToDirectory({directory:m,fileContent:c,fileName:f})}))}get stateFileDirectory(){const{core:o}=this.options,e=coreInfoMap[o.name].corename;if(!e)throw new Error(`invalid core name: ${o.name}`);return join(raUserdataDir,"states",e)}get stateFileName(){return join(this.stateFileDirectory,`${this.romBaseName}.state`)}get stateThumbnailFileName(){return`${this.stateFileName}.png`}stdin(){const{messageQueue:o}=this;for(;o.length>0;){const e=o[0][0],i=o[0][1];if(i>=e.length)o.shift();else return o[0][1]=i+1,e[i]}return null}updateKeyboardEventHandlers(){const{JSEvents:o}=this.getEmscripten(),{element:e,respondToGlobalEvents:i}=this.options;i||(e.getAttribute("tabindex")||(e.tabIndex=-1),e.focus(),e.addEventListener("click",()=>{e.focus()}));const c=new Set(["keyup","keydown","keypress"]),f=o.eventHandlers.filter(({eventTypeString:m,target:g})=>c.has(m)&&(g===document||g===e));for(const m of f){const{eventTypeString:g,handlerFunc:Te,target:Ie}=m;o.registerOrRemoveHandler({eventTypeString:g,target:Ie}),o.registerOrRemoveHandler({...m,handlerFunc:(...Oe)=>{const[Ae]=Oe;(i||(Ae==null?void 0:Ae.target)===e)&&Te(...Oe)},target:i?document:e})}}async waitForEmscriptenFile(o){const{Module:e}=this.getEmscripten(),{FS:i}=e,c=30;let f,m=!1,g=0;for(;g<=c&&!m;){const Te=Math.min(100*2**g,1e3);await delay(Te);try{const Ie=i.readFile(o).buffer;m=(f==null?void 0:f.byteLength)>0&&(f==null?void 0:f.byteLength)===Ie.byteLength,f=Ie}catch(Ie){console.warn(Ie)}g+=1}if(!m)throw new Error("fs timeout");return f}async writeBlobToDirectory({directory:o,fileContent:e,fileName:i}){const{Module:c}=this.getEmscripten(),{FS:f}=c,m=await blobToBuffer(e);f.createDataFile("/",i,m,!0,!1);const g="binary",Te=f.readFile(i,{encoding:g});f.mkdirTree(o),f.writeFile(join(o,i),Te,{encoding:g}),f.unlink(i)}writeConfigFile({config:o,path:e}){const{Module:i}=this.getEmscripten(),{FS:c}=i,f=e.slice(0,e.lastIndexOf("/"));c.mkdirTree(f);for(const Ie in o)o[Ie]=`__${o[Ie]}__`;let m=ini$1.stringify(o,{platform:"linux",whitespace:!0});m=m.replaceAll("__",'"');const g=basename(e),Te=dirname(e);this.writeTextToDirectory({directory:Te,fileContent:m,fileName:g})}writeTextToDirectory({directory:o,fileContent:e,fileName:i}){const{Module:c}=this.getEmscripten(),{FS:f}=c,m=stringToBuffer(e);f.createDataFile("/",i,m,!0,!1);const g="binary",Te=f.readFile(i,{encoding:g});f.mkdirTree(o),f.writeFile(join(o,i),Te,{encoding:g}),f.unlink(i)}exit(o=0){const{emscripten:e}=this;if(e){const{exit:i,JSEvents:c,Module:f}=this.getEmscripten(),{FS:m}=f;i(o),m.unmount("/home"),c.removeAllEventListeners()}}getEmscripten(){if(!this.emscripten)throw new Error("emulator is not ready");return this.emscripten}getOptions(){return this.options}async launch(){await this.setupEmscripten(),checkIsAborted(this.options.signal),await this.setupRaConfigFile(),checkIsAborted(this.options.signal);const{element:o,respondToGlobalEvents:e,signal:i,style:c,waitForInteraction:f}=this.options;if(updateStyle(o,c),o.isConnected||(document.body.append(o),i==null||i.addEventListener("abort",()=>{o==null||o.remove()})),this.canvasInitialSize=this.getElementSize(),e===!1){(!o.tabIndex||o.tabIndex===-1)&&(o.tabIndex=0);const{activeElement:Oe}=document;o.focus(),i==null||i.addEventListener("abort",()=>{Oe instanceof HTMLElement&&Oe.focus()})}const{beforeLaunch:m,nostalgist:g,onLaunch:Te}=this.options;m&&await m(g);const Ie=async()=>{this.runMain(),Te&&await Te(g)};f?f({done:Ie}):Ie()}async loadState(o){this.clearStateFile();const{Module:e}=this.getEmscripten(),{FS:i}=e,c=await blobToBuffer(o);i.writeFile(this.stateFileName,c),await this.waitForEmscriptenFile(this.stateFileName),this.sendCommand("LOAD_STATE")}pause(){this.gameStatus==="running"&&this.sendCommand("PAUSE_TOGGLE"),this.gameStatus="paused"}async press(o,e=1,i=100){const c=this.getKeyboardCode(o,e);c&&await this.keyboardPress(c,i)}pressDown(o,e=1){const i=this.getKeyboardCode(o,e);i&&this.keyboardDown(i)}pressUp(o,e=1){const i=this.getKeyboardCode(o,e);i&&this.keyboardUp(i)}resize({height:o,width:e}){const{Module:i}=this.getEmscripten();typeof e=="number"&&typeof o=="number"&&i.setCanvasSize(e,o)}restart(){this.sendCommand("RESET"),this.resume()}resume(){this.gameStatus==="paused"&&this.sendCommand("PAUSE_TOGGLE"),this.gameStatus="running"}async saveState(){this.clearStateFile(),this.sendCommand("SAVE_STATE");const o=this.options.retroarchConfig.savestate_thumbnail_enable;let e,i;o?[e,i]=await Promise.all([this.waitForEmscriptenFile(this.stateFileName),this.waitForEmscriptenFile(this.stateThumbnailFileName)]):e=await this.waitForEmscriptenFile(this.stateFileName),this.clearStateFile();const c=new Blob([e],{type:"application/octet-stream"}),f=i?new Blob([i],{type:"image/png"}):void 0;return{state:c,thumbnail:f}}async screenshot(){this.sendCommand("SCREENSHOT");const o=join(raUserdataDir,"screenshots"),e=this.guessScreenshotFileName(),i=join(o,e),c=await this.waitForEmscriptenFile(i),{Module:f}=this.getEmscripten(),{FS:m}=f;m.unlink(i);const g={type:"image/png"};return new Blob([c],g)}sendCommand(o){const e=encoder.encode(`${o}
`);this.messageQueue.push([e,0])}}const defaultRetroarchConfig={menu_driver:"rgui",notification_show_when_menu_is_alive:!0,savestate_auto_load:!0,savestate_thumbnail_enable:!0,stdin_cmd_enable:!0,video_shader_enable:!0,input_audio_mute:"nul",input_cheat_index_minus:"nul",input_cheat_index_plus:"nul",input_cheat_toggle:"nul",input_desktop_menu_toggle:"nul",input_exit_emulator:"nul",input_fps_toggle:"nul",input_frame_advance:"nul",input_game_focus_toggle:"nul",input_grab_mouse_toggle:"nul",input_hold_fast_forward:"nul",input_hold_slowmotion:"nul",input_load_state:"nul",input_netplay_game_watch:"nul",input_netplay_player_chat:"nul",input_pause_toggle:"nul",input_reset:"nul",input_rewind:"nul",input_save_state:"nul",input_screenshot:"nul",input_shader_next:"nul",input_shader_prev:"nul",input_shader_toggle:"nul",input_state_slot_decrease:"nul",input_state_slot_increase:"nul",input_toggle_fast_forward:"nul",input_toggle_fullscreen:"nul",input_volume_down:"nul",input_volume_up:"nul",input_player1_analog_dpad_mode:1,input_player2_analog_dpad_mode:1,input_player3_analog_dpad_mode:1,input_player4_analog_dpad_mode:1},cdnBaseUrl="https://cdn.jsdelivr.net/gh",coreRepo="arianrhodsandlot/retroarch-emscripten-build",coreVersion="v1.19.1",coreDirectory="retroarch",shaderRepo="libretro/glsl-shaders",shaderVersion="bc8df9";function getDefaultOptions(){return{element:"",retroarchConfig:defaultRetroarchConfig,retroarchCoreConfig:{},runEmulatorManually:!1,resolveCoreJs(o){return`${cdnBaseUrl}/${coreRepo}@${coreVersion}/${coreDirectory}/${o}_libretro.js`},resolveCoreWasm(o){return`${cdnBaseUrl}/${coreRepo}@${coreVersion}/${coreDirectory}/${o}_libretro.wasm`},resolveRom(o){if(typeof o!="string")return o||[];if(isAbsoluteUrl(o))return o;let e="";if(o.endsWith(".nes")?e="retrobrews/nes-games":o.endsWith(".sfc")?e="retrobrews/snes-games":o.endsWith(".gb")||o.endsWith(".gbc")?e="retrobrews/gbc-games":o.endsWith(".gba")?e="retrobrews/gba-games":o.endsWith(".sms")?e="retrobrews/sms-games":(o.endsWith(".md")||o.endsWith(".bin"))&&(e="retrobrews/md-games"),e){const i=encodeURIComponent(o);return`${cdnBaseUrl}/${e}@master/${i}`}return o||[]},resolveBios(o){return o||[]},resolveShader(o){if(!o)return[];const e=`${cdnBaseUrl}/${shaderRepo}@${shaderVersion}/${o}.glslp`,i=o.split(path.sep);i.splice(-1,0,"shaders");const c=`${cdnBaseUrl}/${shaderRepo}@${shaderVersion}/${i.join(path.sep)}.glsl`;return[e,c]}}}const vendors={browserfs:browserfs$1,ini:ini$1},_Nostalgist=class Gn{constructor(o){__publicField(this,"emulator"),__publicField(this,"emulatorOptions"),__publicField(this,"options");const e={...Gn.globalOptions},i={...o},c={};merge(c,e,i),this.options=c}static configure(o){merge(Gn.globalOptions,o)}static async gb(o){return await Gn.launchSystem("gb",o)}static async gba(o){return await Gn.launchSystem("gba",o)}static async gbc(o){return await Gn.launchSystem("gbc",o)}static async launch(o){const e=new Gn(o);return await e.launch(),e}static async megadrive(o){return await Gn.launchSystem("megadrive",o)}static async nes(o){return await Gn.launchSystem("nes",o)}static resetToDefault(){Gn.configure(getDefaultOptions())}static async snes(o){return await Gn.launchSystem("snes",o)}async fetch(o){const{signal:e=null}=this.options;return await fetch(o,{signal:e})}async getBiosOption(){const{bios:o,resolveBios:e}=this.options;if(!o)return[];const i=Array.isArray(o)?o:[o];return await Promise.all(i.map(c=>this.resolveFile(c,e)))}static getCoreForSystem(o){return systemCoreMap[o]}async getCoreOption(){const{core:o,resolveCoreJs:e,resolveCoreWasm:i}=this.options;let c;if(typeof o=="string"){const[Ie,Oe]=await Promise.all([e(o,this.options),i(o,this.options)]);c={js:Ie,name:o,wasm:Oe}}else c=o;let{js:f,name:m,wasm:g}=c;const Te=[];return typeof f=="string"&&Te.push((async()=>{f=await(await this.fetch(f)).text()})()),typeof g=="string"&&Te.push((async()=>{g=await(await this.fetch(g)).arrayBuffer()})()),Te.length>0&&await Promise.all(Te),{js:f,name:m,wasm:g}}getElementOption(){if(typeof document!="object")throw new TypeError("document must be an object");let{element:o}=this.options;if(typeof o=="string"&&o){const e=document.body.querySelector(o);if(!e)throw new Error(`can not find element "${o}"`);if(!(e instanceof HTMLCanvasElement))throw new TypeError(`element "${o}" is not a canvas element`);o=e}if(o||(o=document.createElement("canvas")),o instanceof HTMLCanvasElement)return o.id="canvas",o;throw new TypeError("invalid element")}getRetroarchCoreOption(){const o={};return merge(o,Gn.globalOptions.retroarchCoreConfig,this.options.retroarchCoreConfig),o}getRetroarchOption(){const o={};return merge(o,Gn.globalOptions.retroarchConfig,this.options.retroarchConfig),o}async getRomOption(){const{resolveRom:o,rom:e}=this.options;if(!e)return[];const i=Array.isArray(e)?e:[e];return await Promise.all(i.map(c=>this.resolveFile(c,o)))}async getShaderOption(){const{resolveShader:o,shader:e}=this.options;if(!e)return[];const i=await o(e,this.options);return Array.isArray(i)?i.length>0?await Promise.all(i.map(c=>this.resolveFile(c))):[]:i?[await this.resolveFile(i)]:[]}getStyleOption(){const{element:o,style:e}=this.options,i={backgroundColor:"black",imageRendering:"pixelated"};if(o)return merge(i,e),i;const c={height:"100%",left:"0",position:"fixed",top:"0",width:"100%",zIndex:"1"};return merge(c,i,e),c}async launch(){await this.loadEmulatorOptions(),checkIsAborted(this.options.signal),this.loadEmulator(),this.options.runEmulatorManually||await this.launchEmulator()}static async launchSystem(o,e){const i=typeof e=="string"||e instanceof File||"fileName"in e&&"fileContent"in e?{rom:e}:e,c=Gn.getCoreForSystem(o);return await Gn.launch({...i,core:c})}loadEmulator(){const o=this.getEmulatorOptions(),e=new Emulator(o);this.emulator=e}async loadEmulatorOptions(){const{beforeLaunch:o,emscriptenModule:e={},onLaunch:i,respondToGlobalEvents:c=!0,signal:f,size:m="auto",state:g,waitForInteraction:Te}=this.options,Ie=this.getElementOption(),Oe=this.getStyleOption(),Ae=this.getRetroarchOption(),De=this.getRetroarchCoreOption(),[_e,qe,Be,Ne]=await Promise.all([this.getCoreOption(),this.getRomOption(),this.getBiosOption(),this.getShaderOption()]);checkIsAborted(f);const Ve={beforeLaunch:o,bios:Be,core:_e,element:Ie,emscriptenModule:e,nostalgist:this,onLaunch:i,respondToGlobalEvents:c,retroarchConfig:Ae,retroarchCoreConfig:De,rom:qe,shader:Ne,signal:f,size:m,state:g,style:Oe,waitForInteraction:Te};this.emulatorOptions=Ve}async resolveFile(o,e){let i="",c;if(o instanceof File)c=o,i=o.name;else if(o instanceof Blob)c=o,i="rom.bin";else if(typeof o=="string"){const f=await this.resolveStringFile(o,e);i=f.fileName,c=f.fileContent}else typeof o.fileName=="string"&&(i=o.fileName),o.fileContent instanceof Blob&&(c=o.fileContent);if(!c)throw new TypeError("file content is invalid");return i=i?i.replaceAll(/["%*/:<>?\\|]/g,"-"):"rom.bin",{fileContent:c,fileName:i}}async resolveStringFile(o,e){let i=urlBaseName(o),c;const f=e?await e(o,this.options):o;if(!f)throw new Error("file is invalid");return f instanceof Blob?c=f:typeof f=="string"&&(i=urlBaseName(f),c=await(await this.fetch(f)).blob()),{fileContent:c,fileName:i}}exit({removeCanvas:o=!0}={}){this.getEmulator().exit(),o&&this.getCanvas().remove()}getBrowserFS(){return this.getEmulator().browserFS}getCanvas(){return this.getEmulatorOptions().element}getEmscripten(){return this.getEmulator().getEmscripten()}getEmscriptenAL(){return this.getEmulator().getEmscripten().AL}getEmscriptenFS(){return this.getEmulator().getEmscripten().Module.FS}getEmscriptenModule(){return this.getEmulator().getEmscripten().Module}getEmulator(){const{emulator:o}=this;if(!o)throw new Error("emulator is not ready");return o}getEmulatorOptions(){if(!this.emulatorOptions)throw new Error("emulator options are not ready");return this.emulatorOptions}getOptions(){return this.options}async launchEmulator(){return await this.getEmulator().launch()}async loadState(o){await this.getEmulator().loadState(o)}pause(){this.getEmulator().pause()}async press(o){const e=this.getEmulator();await(typeof o=="string"?e.press(o):e.press(o.button,o.player,o.time))}pressDown(o){const e=this.getEmulator();return typeof o=="string"?e.pressDown(o):e.pressDown(o.button,o.player)}pressUp(o){const e=this.getEmulator();return typeof o=="string"?e.pressUp(o):e.pressUp(o.button,o.player)}resize(o){return this.getEmulator().resize(o)}restart(){this.getEmulator().restart()}resume(){this.getEmulator().resume()}async saveState(){return await this.getEmulator().saveState()}async screenshot(){return await this.getEmulator().screenshot()}sendCommand(o){return this.getEmulator().sendCommand(o)}};__publicField(_Nostalgist,"Nostalgist",_Nostalgist);__publicField(_Nostalgist,"vendors",vendors);__publicField(_Nostalgist,"globalOptions",getDefaultOptions());let Nostalgist=_Nostalgist;function _0x5ca9(){var _=["4228110hyFmng","11jmmVGx","9iZthvG","7190ytemyD","327vAjAma","54568JqORWU","1116LjaxeV","6625VdioxS","63BVoCBz","125117EVIiUs","1287198GKUijB","650412XEHYFL"];return _0x5ca9=function(){return _},_0x5ca9()}(function(_,o){for(var e=_0x482f,i=_();[];)try{var c=-parseInt(e(413))/1+-parseInt(e(407))/2*(-parseInt(e(408))/3)+parseInt(e(410))/4*(-parseInt(e(411))/5)+-parseInt(e(414))/6+-parseInt(e(412))/7*(-parseInt(e(409))/8)+parseInt(e(406))/9*(parseInt(e(416))/10)+parseInt(e(405))/11*(parseInt(e(415))/12);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x5ca9,220931);function _0x482f(_,o){var e=_0x5ca9();return _0x482f=function(i,c){i=i-405;var f=e[i];return f},_0x482f(_,o)}const _0x4d5c8a={platform_id:"",core:"",platform_name:"",short_name:"",theme:{},dependencies:"",fire_buttons:0,additional_buttons:{}};function _0x3c3c(_,o){const e=_0x35e2();return _0x3c3c=function(i,c){return i=i-185,e[i]},_0x3c3c(_,o)}const _0x421d41=_0x3c3c;(function(_,o){const e=_0x3c3c,i=_();for(;[];)try{if(parseInt(e(192))/1*(-parseInt(e(196))/2)+-parseInt(e(194))/3+-parseInt(e(185))/4+-parseInt(e(189))/5+parseInt(e(187))/6+-parseInt(e(188))/7*(-parseInt(e(191))/8)+parseInt(e(198))/9===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x35e2,503981);const QJ_IDLE_COLOR=_0x421d41(190);function _0x35e2(){const _=["BOOT_TO","1302351OqyvYJ","COLLECTION_BROWSER_COLLECTION_INDEX","4bVzJHI","COMPILATIONS","13621995cQaJOU","1256864GXYCQL","#88888888","1104006nyATkI","49zeLNna","4214115hhoOfN","#88888844","834024FDlskI","166095zoidaj"];return _0x35e2=function(){return _},_0x35e2()}const QJ_ACTIVE_COLOR="#88888866",QJ_LABEL_COLOR=_0x421d41(186),BOOT_TO=_0x421d41(193),COLLECTION_BROWSER_COLLECTION_INDEX=_0x421d41(195),COLLECTION_BROWSER_ITEM_INDEX="COLLECTION_BROWSER_ITEM_INDEX",BOOT_TO_COLLECTION_BROWSER=_0x421d41(197),FAST_BTN_RADIUS="6px",JOYSTICK_TOUCH_MODE={QUICKJOY_PRIMARY:100,QUICKSHOT_DYNAMIC:200,HIDEAWAY:1e3},MOUSE_TOUCH_MODE={TRACKPAD_BUTTONS:100};function _0x10ce(_,o){const e=_0x10b8();return _0x10ce=function(i,c){return i=i-216,e[i]},_0x10ce(_,o)}const _0x554d1b=_0x10ce;(function(_,o){const e=_0x10ce,i=_();for(;[];)try{if(parseInt(e(226))/1*(-parseInt(e(227))/2)+parseInt(e(233))/3*(parseInt(e(228))/4)+-parseInt(e(234))/5*(parseInt(e(219))/6)+parseInt(e(220))/7+parseInt(e(230))/8+-parseInt(e(231))/9+-parseInt(e(232))/10*(-parseInt(e(224))/11)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x10b8,715369);const NES={..._0x4d5c8a,platform_id:"nes",core:"fceumm",platform_name:_0x554d1b(221),short_name:_0x554d1b(229),theme:{"--color0":_0x554d1b(217),"--color1":_0x554d1b(222),"--color2":_0x554d1b(236),"--color3":_0x554d1b(225),"--font":_0x554d1b(229),"--cursorwidth":_0x554d1b(223),"--transform":"uppercase"},shader:["assets/shaders/crt/crt-geom.glslp",_0x554d1b(237)],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x554d1b(235)]],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x554d1b(235)],fire_buttons:2,additional_buttons:{1:{label:"SELECT",keyCode:_0x554d1b(216)},2:{label:"START",keyCode:_0x554d1b(218)}}};function _0x10b8(){const _=["QUICKSHOT_DYNAMIC","#e45c10","assets/shaders/crt/shaders/crt-geom.glsl","select","#000000","start","61032FWHjOz","8763279KirnDq","Nintendo Entertainment System","#eeeeee","1em","22ZZlXRd","#f0d0b0","2045tCstlS","710jjFcuZ","24mEiyCZ","NES","4506264bYnWxP","5695794KrPFvN","5550760OYBHWD","27093gCiKfZ","445dNnFNU"];return _0x10b8=function(){return _},_0x10b8()}const _0x3bf389=_0x420f;(function(_,o){const e=_0x420f,i=_();for(;[];)try{if(parseInt(e(125))/1*(parseInt(e(128))/2)+parseInt(e(115))/3+-parseInt(e(135))/4*(parseInt(e(147))/5)+-parseInt(e(122))/6+parseInt(e(138))/7*(-parseInt(e(149))/8)+parseInt(e(124))/9*(-parseInt(e(131))/10)+parseInt(e(134))/11*(parseInt(e(119))/12)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x70bc,709873);function _0x420f(_,o){const e=_0x70bc();return _0x420f=function(i,c){return i=i-113,e[i]},_0x420f(_,o)}const GB={..._0x4d5c8a,platform_id:"gb",core:"gambatte",platform_name:"Nintendo Game Boy",short_name:"GB",theme:{"--color0":"#828329","--color1":_0x3bf389(141),"--font":"GB","--cursorwidth":_0x3bf389(148)},shader:async function(_){const o=_0x3bf389,e=_.getEmscriptenFS(),i=await fetch(o(120)),c=await fetch(o(136)),f=await c[o(145)](),m=await f[o(132)](),g=await fetch(o(121)),Te=await g[o(145)](),Ie=await Te[o(132)](),Oe=await fetch(o(133)),Ae=await fetch(o(142)),De=await fetch(o(127)),_e=await fetch(o(123)),qe=await fetch(o(130));e[o(116)](o(137)),e[o(116)]("/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files"),e[o(126)](o(140),await i.text()),e[o(126)]("/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/resources/palette.png",new Uint8Array(Ie)),e[o(126)](o(113),new Uint8Array(m)),e.writeFile("/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files/gb-pass0.glsl",await Oe[o(144)]()),e[o(126)]("/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files/gb-pass1.glsl",await Ae[o(144)]()),e[o(126)]("/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files/gb-pass2.glsl",await De[o(144)]()),e[o(126)](o(129),await _e[o(144)]()),e.writeFile("/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files/gb-pass4.glsl",await qe.text()),e[o(116)](o(139)),e.writeFile("/home/web_user/retroarch/userdata/config/global.glslp",o(146))},force_scale:!![],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x3bf389(114)]],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x3bf389(114)],fire_buttons:2,additional_buttons:{1:{label:"SELECT",keyCode:_0x3bf389(143)},2:{label:_0x3bf389(118),keyCode:_0x3bf389(117)}}};function _0x70bc(){const _=["text","blob","#reference /home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/gameboy.glslp","5096885sZCttg","1em","374728sbYsTK","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/resources/background.png","QUICKSHOT_DYNAMIC","808689IQrzjw","mkdirTree","start","START","17539428vCFihq","assets/shaders/handheld/gameboy.glslp","assets/shaders/handheld/gameboy/resources/palette.png","4512054EiXTVV","assets/shaders/handheld/gameboy/shader-files/gb-pass3.glsl","268038gwWtLl","33943MvKWew","writeFile","assets/shaders/handheld/gameboy/shader-files/gb-pass2.glsl","62SrqyfF","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files/gb-pass3.glsl","assets/shaders/handheld/gameboy/shader-files/gb-pass4.glsl","70LqVZjn","arrayBuffer","assets/shaders/handheld/gameboy/shader-files/gb-pass0.glsl","11pBIlQc","4WWpsVj","assets/shaders/handheld/gameboy/resources/background.png","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/resources","14bxQVOJ","/home/web_user/retroarch/userdata/config/","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/gameboy.glslp","#374e79","assets/shaders/handheld/gameboy/shader-files/gb-pass1.glsl","select"];return _0x70bc=function(){return _},_0x70bc()}const _0x1afa90=_0x54d7;(function(_,o){const e=_0x54d7,i=_();for(;[];)try{if(-parseInt(e(263))/1+parseInt(e(255))/2+-parseInt(e(272))/3+-parseInt(e(254))/4*(-parseInt(e(271))/5)+-parseInt(e(256))/6*(-parseInt(e(274))/7)+parseInt(e(249))/8+-parseInt(e(269))/9===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x2e49,281449);function _0x54d7(_,o){const e=_0x2e49();return _0x54d7=function(i,c){return i=i-248,e[i]},_0x54d7(_,o)}function _0x2e49(){const _=["672900vNgjYR","/home/web_user/retroarch/userdata/config/global.glslp","7iMfEPv","START","assets/shaders/handheld/shaders/sameboy-lcd.glsl","text","3306392ysGbaO","1em","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders","select","4IwgaCO","1021118YreImC","779334StGQPC","#c95340","/home/web_user/retroarch/userdata/config/","gbc","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/sameboy-lcd.glsl","QUICKSHOT_DYNAMIC","writeFile","249184JofwiK","SELECT","start","#ffffff","Nintendo Game Boy Color","mkdirTree","4662432tMmcle","getEmscriptenFS","1096170oQIIiX"];return _0x2e49=function(){return _},_0x2e49()}const GBC={..._0x4d5c8a,platform_id:_0x1afa90(259),core:"gambatte",platform_name:_0x1afa90(267),short_name:"GBC",theme:{"--color0":"#ffffff","--color1":"#4e93f1","--color2":_0x1afa90(266),"--color3":_0x1afa90(257),"--font":"GB","--cursorwidth":_0x1afa90(250)},shader:async function(_){const o=_0x1afa90,e=_[o(270)](),i=await fetch("assets/shaders/handheld/sameboy-lcd.glslp"),c=await fetch(o(276));e[o(268)](o(252)),e.writeFile(o(251),await i[o(248)]()),e.writeFile(o(260),await c[o(248)]()),e[o(268)](o(258)),e[o(262)](o(273),"#reference /home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp")},force_scale:!![],touch_controllers:[JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x1afa90(261)],fire_buttons:2,additional_buttons:{1:{label:_0x1afa90(264),keyCode:_0x1afa90(253)},2:{label:_0x1afa90(275),keyCode:_0x1afa90(265)}}},_0x1ca7c0=_0x710e;(function(_,o){const e=_0x710e,i=_();for(;[];)try{if(-parseInt(e(280))/1*(parseInt(e(299))/2)+-parseInt(e(279))/3+parseInt(e(290))/4+-parseInt(e(294))/5+parseInt(e(283))/6*(parseInt(e(288))/7)+-parseInt(e(285))/8*(-parseInt(e(291))/9)+parseInt(e(298))/10*(parseInt(e(295))/11)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x604a,151842);function _0x604a(){const _=["QUICKSHOT_DYNAMIC","628432DYrdRn","11556cVGyvH","assets/shaders/crt/crt-geom.glslp","Sega Master System","1480800oLHZSL","1859MxeDwo","SELECT","start","17390daCZAy","406852aXaDrr","1em","assets/shaders/crt/shaders/crt-geom.glsl","213624jBSZwd","1bgpkna","gearsystem","select","1542auJFMC","sms","96ZEtYWF","SMS","Emulogic","6979OzfIpC"];return _0x604a=function(){return _},_0x604a()}const SMS={..._0x4d5c8a,platform_id:_0x1ca7c0(284),core:_0x1ca7c0(281),platform_name:_0x1ca7c0(293),short_name:_0x1ca7c0(286),theme:{"--color0":"#000000","--color1":"#ffffff","--font":_0x1ca7c0(287),"--cursorwidth":_0x1ca7c0(300)},shader:[_0x1ca7c0(292),_0x1ca7c0(278)],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x1ca7c0(289)]],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x1ca7c0(289)],fire_buttons:2,additional_buttons:{1:{label:_0x1ca7c0(296),keyCode:_0x1ca7c0(282)},2:{label:"START",keyCode:_0x1ca7c0(297)}}};function _0x710e(_,o){const e=_0x604a();return _0x710e=function(i,c){return i=i-278,e[i]},_0x710e(_,o)}function _0x196c(_,o){const e=_0x56c7();return _0x196c=function(i,c){return i=i-167,e[i]},_0x196c(_,o)}function _0x56c7(){const _=["F14","439214WYUDSt","4qUoGUV","F13","Escape","assets/shaders/crt/crt-geom.glslp","#68a941","enabled","QUICKJOY_PRIMARY","1296696VJBmXX","#b19efe","#6a53f5","true","QUICKSHOT_DYNAMIC","c64","#d0dc71","C64","39389oRtmnr","4458720hLFFrw","SPACE","RUN/STOP","1em","56988fPiyKy","Commodore 64","Space","705015pjzcFQ","603489uCwPYc","F11","nul"];return _0x56c7=function(){return _},_0x56c7()}const _0x40feff=_0x196c;(function(_,o){const e=_0x196c,i=_();for(;[];)try{if(-parseInt(e(175))/1+-parseInt(e(183))/2+-parseInt(e(179))/3*(-parseInt(e(184))/4)+-parseInt(e(178))/5+-parseInt(e(191))/6+-parseInt(e(170))/7+parseInt(e(171))/8===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x56c7,119162);const C64={..._0x4d5c8a,platform_id:_0x40feff(167),core:"vice_x64",platform_name:_0x40feff(176),short_name:_0x40feff(169),theme:{"--color0":_0x40feff(193),"--color1":_0x40feff(192),"--color2":_0x40feff(188),"--color3":_0x40feff(168),"--font":"PetMe64","--cursorwidth":_0x40feff(174)},guessConfig:_=>{const o=_0x40feff;return{vice_drive_true_emulation:o(194),vice_warp_boost:o(189),vice_autostart:o(189),vice_autoloadwarp:"enabled"}},shader:[_0x40feff(187),"assets/shaders/crt/shaders/crt-geom.glsl"],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x40feff(190)],JOYSTICK_TOUCH_MODE[_0x40feff(195)],JOYSTICK_TOUCH_MODE.HIDEAWAY],touch_controller_mapping:{input_player1_up:_0x40feff(185),input_player1_left:_0x40feff(182),input_player1_down:"F15",input_player1_right:_0x40feff(180),input_player1_b:"kp_minus",input_player1_a:_0x40feff(181),input_player1_y:_0x40feff(181),input_player1_x:_0x40feff(181),input_player1_start:_0x40feff(181),input_player1_select:_0x40feff(181),input_player1_l:_0x40feff(181),input_player1_r:_0x40feff(181)},fire_buttons:1,keyboard:{shiftKey:1,overrides:{}},additional_buttons:{1:{label:_0x40feff(172),key:{key:_0x40feff(177),code:_0x40feff(177)}},2:{label:_0x40feff(173),key:{key:_0x40feff(186),code:"Escape"}},3:{label:"F1",key:{key:"F1",code:"F1"}}},message:["C64 support is under development and mostly broken or non-functional."]},_0x435c76=_0x3dc2;(function(_,o){const e=_0x3dc2,i=_();for(;[];)try{if(parseInt(e(282))/1+parseInt(e(268))/2+-parseInt(e(283))/3*(parseInt(e(275))/4)+parseInt(e(267))/5*(-parseInt(e(277))/6)+-parseInt(e(278))/7+parseInt(e(271))/8+parseInt(e(266))/9*(-parseInt(e(272))/10)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x2420,183822);function _0x2420(){const _=["HIDEAWAY","63XlTDYm","23175ikdhZh","459672zFBxsf","QUICKSHOT_DYNAMIC","#555555","1457192OjLUje","12280btLhOk","#b9e893","Commodore 128","160396Vpibti","C128 support is under development and mostly broken or non-functional.","282iHMgsx","1926267ZCnuMa","assets/shaders/crt/shaders/crt-geom.glsl","0.5em","vice_x128","353657xVUggM","6MgtTSS","c128","PetMe1282Y","assets/shaders/crt/crt-geom.glslp"];return _0x2420=function(){return _},_0x2420()}function _0x3dc2(_,o){const e=_0x2420();return _0x3dc2=function(i,c){return i=i-263,e[i]},_0x3dc2(_,o)}const C128={..._0x4d5c8a,platform_id:_0x435c76(284),core:_0x435c76(281),platform_name:_0x435c76(274),short_name:"C128",theme:{"--color0":"#b9e893","--color1":_0x435c76(270),"--color2":"#555555","--color3":_0x435c76(273),"--font":_0x435c76(263),"--cursorwidth":_0x435c76(280)},shader:[_0x435c76(264),_0x435c76(279)],touch_controllers:[JOYSTICK_TOUCH_MODE.QUICKJOY_PRIMARY,JOYSTICK_TOUCH_MODE[_0x435c76(269)],JOYSTICK_TOUCH_MODE[_0x435c76(265)]],fire_buttons:1,additional_buttons:{},message:[_0x435c76(276)]},_0x182408=_0x50f2;(function(_,o){const e=_0x50f2,i=_();for(;[];)try{if(-parseInt(e(360))/1+-parseInt(e(347))/2+parseInt(e(348))/3*(parseInt(e(353))/4)+-parseInt(e(341))/5*(parseInt(e(338))/6)+-parseInt(e(356))/7*(parseInt(e(351))/8)+-parseInt(e(354))/9*(-parseInt(e(339))/10)+parseInt(e(363))/11*(parseInt(e(350))/12)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x3a55,579289);function _0x3a55(){const _=["312450aiTPCY","F15","1340vzINdd","vice_xplus4","C264","Escape","assets/shaders/crt/shaders/crt-geom.glsl","Space","217528DlgZTg","21ZfaRdA","F13","131604BbgaUT","616WsZkoi","F11","335248WHzZeU","324OLSWcy","c264","77749lVwOPh","assets/shaders/crt/crt-geom.glslp","#000000","nul","985699ssgbBf","kp_minus","Petme64","1639MBQyXU","1em","RUN/STOP","#c6b4fa","18282pgXbph"];return _0x3a55=function(){return _},_0x3a55()}function _0x50f2(_,o){const e=_0x3a55();return _0x50f2=function(i,c){return i=i-336,e[i]},_0x50f2(_,o)}const C264={..._0x4d5c8a,platform_id:_0x182408(355),core:_0x182408(342),platform_name:"Commodore C16, C116 & Plus/4",short_name:_0x182408(343),theme:{"--color1":_0x182408(358),"--color2":"#ffffff","--color0":_0x182408(337),"--color3":_0x182408(358),"--font":_0x182408(362),"--cursorwidth":_0x182408(364)},shader:[_0x182408(357),_0x182408(345)],touch_controllers:[JOYSTICK_TOUCH_MODE.QUICKJOY_PRIMARY,JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC,JOYSTICK_TOUCH_MODE.HIDEAWAY],touch_controller_mapping:{input_player1_up:_0x182408(349),input_player1_left:"F14",input_player1_down:_0x182408(340),input_player1_right:_0x182408(352),input_player1_b:_0x182408(361),input_player1_a:"nul",input_player1_y:"nul",input_player1_x:_0x182408(359),input_player1_start:_0x182408(359),input_player1_select:"nul",input_player1_l:_0x182408(359),input_player1_r:_0x182408(359)},fire_buttons:1,keyboard:{shiftKey:1,overrides:{}},additional_buttons:{1:{label:"SPACE",key:{key:_0x182408(346),code:"Space"}},2:{label:_0x182408(336),key:{key:"Escape",code:_0x182408(344)}},3:{label:"F1",key:{key:"F1",code:"F1"}}}},_0x3b9d65=_0x2854;(function(_,o){const e=_0x2854,i=_();for(;[];)try{if(-parseInt(e(290))/1*(-parseInt(e(283))/2)+-parseInt(e(296))/3*(parseInt(e(294))/4)+-parseInt(e(289))/5*(parseInt(e(285))/6)+parseInt(e(281))/7+-parseInt(e(299))/8+parseInt(e(280))/9+parseInt(e(282))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x2560,850837);function _0x2560(){const _=["102pGVFVR","#a984ec","stella2014","Atari 2600 / VCS","164935XFTIaG","202791cttZij","SELECT","QUICKSHOT_DYNAMIC","QUICKJOY_PRIMARY","23888XeAOxx","start","345JmESiZ","assets/shaders/crt/shaders/crt-geom.glsl","HIDEAWAY","2329648HvVIcB","atari2600","START","A2600","11061702Ibdqli","4634889ktPGUa","2956060OvQODD","2ZgIwXj","#ffffff"];return _0x2560=function(){return _},_0x2560()}const A2600={..._0x4d5c8a,platform_id:_0x3b9d65(277),core:_0x3b9d65(287),platform_name:_0x3b9d65(288),short_name:_0x3b9d65(279),theme:{"--color0":"#000000","--color1":_0x3b9d65(286),"--color2":_0x3b9d65(284),"--color3":_0x3b9d65(286),"--font":"PetMe2X","--cursorwidth":"0.5em","--transform":"uppercase"},shader:["assets/shaders/crt/crt-geom.glslp",_0x3b9d65(297)],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x3b9d65(293)],JOYSTICK_TOUCH_MODE[_0x3b9d65(292)],JOYSTICK_TOUCH_MODE[_0x3b9d65(298)]],fire_buttons:1,additional_buttons:{1:{label:_0x3b9d65(291),keyCode:"select"},2:{label:_0x3b9d65(278),keyCode:_0x3b9d65(295)}}};function _0x2854(_,o){const e=_0x2560();return _0x2854=function(i,c){return i=i-277,e[i]},_0x2854(_,o)}function _0x3e90(){const _=["2888Cmciob","uppercase","atari5200","Atari 5200","2947VJuGfU","Atascii","185KpJgpp","16201962dEoakw","433685uMnNTI","16108xvemYY","#ffffff","A5200","assets/shaders/crt/shaders/crt-geom.glsl","QUICKSHOT_DYNAMIC","START","679293BCItfG","3183936DlaYtu","450772RbmJgk","assets/shaders/crt/crt-geom.glslp","PAUSE","#000000"];return _0x3e90=function(){return _},_0x3e90()}const _0x6b8653=_0x2571;(function(_,o){const e=_0x2571,i=_();for(;[];)try{if(-parseInt(e(254))/1+-parseInt(e(242))/2+-parseInt(e(240))/3+parseInt(e(255))/4*(parseInt(e(252))/5)+-parseInt(e(241))/6+-parseInt(e(250))/7*(parseInt(e(246))/8)+parseInt(e(253))/9===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x3e90,381078);const A5200={..._0x4d5c8a,platform_id:_0x6b8653(248),core:"a5200",platform_name:_0x6b8653(249),short_name:_0x6b8653(257),theme:{"--color0":_0x6b8653(245),"--color1":_0x6b8653(256),"--font":_0x6b8653(251),"--transform":_0x6b8653(247),"--cursorwidth":"1em"},shader:[_0x6b8653(243),_0x6b8653(258)],touch_controllers:[JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x6b8653(238)],fire_buttons:2,additional_buttons:{1:{label:_0x6b8653(244),keyCode:"pause"},2:{label:_0x6b8653(239),keyCode:"start"}}};function _0x2571(_,o){const e=_0x3e90();return _0x2571=function(i,c){return i=i-238,e[i]},_0x2571(_,o)}function _0x5514(_,o){const e=_0x2f66();return _0x5514=function(i,c){return i=i-280,e[i]},_0x5514(_,o)}const _0x2e846c=_0x5514;(function(_,o){const e=_0x5514,i=_();for(;[];)try{if(parseInt(e(322))/1*(-parseInt(e(314))/2)+-parseInt(e(308))/3+parseInt(e(310))/4+-parseInt(e(302))/5+-parseInt(e(293))/6*(-parseInt(e(307))/7)+parseInt(e(283))/8+parseInt(e(316))/9===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x2f66,584377);function _0x2f66(){const _=["Atari XL/XE OS ROM","START","F14","HIDEAWAY","OPTION","#005181","400/800 (OS B)","483848WbKqxh","0bac0c6a50104045d902df4503a4c30b","select","kp_minus","eb1f32f5d9f382db1bbfb8d7f9cb343a","keys","F13","F15","QUICKSHOT_DYNAMIC","atari800","229974FoTaXH","PAL","BASIC interpreter ROM","SELECT","forEach","F11","400/800 (OS A)","Modern XL/XE(320K CS)","NTSC","2325535ZKGuzJ","336x240","a3e8d617c95d08031fe1b20d541434b2","assign","800XL (64K)","35VaoxMw","460812FPTgrb","assets/shaders/crt/shaders/crt-geom.glsl","376212BnCmJZ","Atari 400/800 PAL ROM","toUpperCase","#60b7e7","137876PYjKIV","ATARIOSB.ROM","11434833nRaHCw","includes","enabled","ATARIXL.ROM","Atascii","ATARIBAS.ROM","6mVmDPa","ATARIOSA.ROM"];return _0x2f66=function(){return _},_0x2f66()}const A800={..._0x4d5c8a,platform_id:_0x2e846c(292),core:_0x2e846c(292),bios:[_0x2e846c(319),_0x2e846c(321)],platform_name:"Atari 800 / XE / XL",short_name:"A800",theme:{"--color0":_0x2e846c(281),"--color1":_0x2e846c(313),"--color3":_0x2e846c(281),"--color2":"#60b7e7","--font":_0x2e846c(320),"--cursorwidth":"1em"},shader:["assets/shaders/crt/crt-geom.glslp",_0x2e846c(309)],guessBIOS:_=>{const o=_0x2e846c;let e=[o(319),o(321)];const i={"[400-800]":[o(315),"ATARIBAS.ROM"],"[REQ OSA]":[o(323),o(321)],"[REQ OSB]":["ATARIOSB.ROM",o(321)]};for(let c in i)if(_[o(312)]()[o(317)](c))return i[c];return e},guessConfig:_=>{const o=_0x2e846c,e={"[BASIC]":{atari800_internalbasic:o(318)},"(130XE)":{atari800_system:"130XE (128K)"},"[128K]":{atari800_system:"130XE (128K)"},"[192K]":{atari800_system:o(300)},"[256K]":{atari800_system:o(300)},"[320K]":{atari800_system:o(300)},"[1MB]":{atari800_system:"Modern XL/XE(1088K)"},"[400-800]":{atari800_system:o(282)},"[REQ OSA]":{atari800_system:o(299)},"[REQ OSB]":{atari800_system:o(282),atari800_ntscpal:o(301)},"[STEREO]":{},".CAS":{atari800_cassboot:"enabled"}};let c={...{atari800_ntscpal:o(294),atari800_resolution:o(303),atari800_system:o(306)}};return Object[o(288)](e)[o(297)](f=>{const m=o;_[m(312)]()[m(317)](f)&&Object[m(305)](c,e[f])}),c},dependencies:[{key:_0x2e846c(319),type:_0x2e846c(324),required:!![],accepted:["06daac977823773a3eea3422fd26a703"]},{key:_0x2e846c(321),type:_0x2e846c(295),required:!![],accepted:[_0x2e846c(284)]},{key:_0x2e846c(323),type:_0x2e846c(311),required:!![],accepted:[_0x2e846c(287)]},{key:_0x2e846c(315),type:"Atari 400/800 NTSC ROM",required:!![],accepted:[_0x2e846c(304)]}],touch_controllers:[JOYSTICK_TOUCH_MODE.QUICKJOY_PRIMARY,JOYSTICK_TOUCH_MODE[_0x2e846c(291)],JOYSTICK_TOUCH_MODE[_0x2e846c(327)]],touch_controller_mapping:{input_player1_up:_0x2e846c(289),input_player1_left:_0x2e846c(326),input_player1_down:_0x2e846c(290),input_player1_right:_0x2e846c(298),input_player1_b:_0x2e846c(286)},fire_buttons:1,keyboard:{shiftKey:2,overrides:{}},additional_buttons:{1:{label:_0x2e846c(280),key:{key:"F2",code:"F2"}},2:{label:_0x2e846c(296),keyCode:_0x2e846c(285)},3:{label:_0x2e846c(325),key:{key:"F4",code:"F4"}}}},_0x3f1f15=_0x8fb4;(function(_,o){const e=_0x8fb4,i=_();for(;[];)try{if(-parseInt(e(241))/1+parseInt(e(252))/2*(parseInt(e(235))/3)+-parseInt(e(244))/4*(-parseInt(e(247))/5)+-parseInt(e(250))/6+-parseInt(e(249))/7*(parseInt(e(255))/8)+parseInt(e(251))/9+-parseInt(e(246))/10*(-parseInt(e(239))/11)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x4559,630528);function _0x8fb4(_,o){const e=_0x4559();return _0x8fb4=function(i,c){return i=i-235,e[i]},_0x8fb4(_,o)}const CPC={..._0x4d5c8a,platform_id:"cpc",core:_0x3f1f15(245),platform_name:_0x3f1f15(237),short_name:_0x3f1f15(243),theme:{"--color0":_0x3f1f15(238),"--color1":_0x3f1f15(242),"--color2":"#000000","--color3":"#ea3323","--font":_0x3f1f15(240),"--cursorwidth":"1em"},savestates_disabled:!![],shader:[_0x3f1f15(248),"assets/shaders/crt/shaders/crt-geom.glsl"],touch_controllers:[JOYSTICK_TOUCH_MODE.QUICKJOY_PRIMARY,JOYSTICK_TOUCH_MODE[_0x3f1f15(236)],JOYSTICK_TOUCH_MODE[_0x3f1f15(254)]],fire_buttons:1,additional_buttons:{},message:[_0x3f1f15(253)]};function _0x4559(){const _=["3352456xtefbs","22203KklwJn","QUICKSHOT_DYNAMIC","Amstrad CPC","#000060","11275qbOuaR","AmstradCPC","895114vBJIjz","#d6e121","CPC","2429992CptOTP","crocods","4810IYwXop","10WroZUB","assets/shaders/crt/crt-geom.glslp","7RrMFSk","6319908JYMYmg","6214635ZXhKXC","162GMWEeo","CPC support is under development and mostly broken or non-functional.","HIDEAWAY"];return _0x4559=function(){return _},_0x4559()}const _0x5f4a5e=_0x169c;(function(_,o){const e=_0x169c,i=_();for(;[];)try{if(parseInt(e(232))/1+-parseInt(e(229))/2+-parseInt(e(227))/3+-parseInt(e(237))/4*(parseInt(e(251))/5)+parseInt(e(252))/6*(parseInt(e(235))/7)+-parseInt(e(238))/8*(-parseInt(e(226))/9)+-parseInt(e(247))/10*(-parseInt(e(240))/11)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0xd64c,787537);const VIC20={..._0x4d5c8a,platform_id:_0x5f4a5e(230),core:"vice_xvic",platform_name:_0x5f4a5e(231),short_name:_0x5f4a5e(241),theme:{"--color0":_0x5f4a5e(236),"--color1":_0x5f4a5e(233),"--color2":_0x5f4a5e(233),"--color3":_0x5f4a5e(243),"--font":_0x5f4a5e(242),"--cursorwidth":"2em","--transform":"uppercase"},shader:[_0x5f4a5e(254),"assets/shaders/crt/shaders/crt-geom.glsl"],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x5f4a5e(234)],JOYSTICK_TOUCH_MODE[_0x5f4a5e(255)],JOYSTICK_TOUCH_MODE.HIDEAWAY],touch_controller_mapping:{input_player1_up:_0x5f4a5e(244),input_player1_left:_0x5f4a5e(249),input_player1_down:_0x5f4a5e(228),input_player1_right:_0x5f4a5e(248),input_player1_b:_0x5f4a5e(253),input_player1_a:_0x5f4a5e(239),input_player1_y:_0x5f4a5e(239),input_player1_x:_0x5f4a5e(239),input_player1_start:_0x5f4a5e(239),input_player1_select:_0x5f4a5e(239),input_player1_l:_0x5f4a5e(239),input_player1_r:"nul"},fire_buttons:1,keyboard:{shiftKey:1,overrides:{}},additional_buttons:{1:{label:"SPACE",key:{key:_0x5f4a5e(250),code:_0x5f4a5e(250)}},2:{label:_0x5f4a5e(246),key:{key:_0x5f4a5e(245),code:"Escape"}},3:{label:"F1",key:{key:"F1",code:"F1"}}}};function _0x169c(_,o){const e=_0xd64c();return _0x169c=function(i,c){return i=i-226,e[i]},_0x169c(_,o)}function _0xd64c(){const _=["PetMe2X","#6ebdcb","F13","Escape","RUN/STOP","246940zBwSdj","F11","F14","Space","10HItnmI","102fDpfAM","kp_minus","assets/shaders/crt/crt-geom.glslp","QUICKSHOT_DYNAMIC","66510fymmOl","3186825zAfvdn","F15","472334drPHlL","vic20","Commodore VIC-20","1466841fhyytX","#250ec5","QUICKJOY_PRIMARY","191534lWaOAK","#ffffff","2403276mOZFKm","1120IrdCKh","nul","143rDZkRq","VIC20"];return _0xd64c=function(){return _},_0xd64c()}function _0x138d(){const _=["#000000","uppercase","81889MXOfTb","3732BjcpEY","64468XJJyDj","7841277EnHIdI","zx80","ZX80","HIDEAWAY","8ZXqIqI","assets/shaders/crt/crt-geom.glslp","QUICKJOY_PRIMARY","1039003jBGkMN","1918392fNwvPn","296CLQtHD","1003865DqvSMG","ZXSpectrum"];return _0x138d=function(){return _},_0x138d()}const _0x5b97a7=_0x172b;(function(_,o){const e=_0x172b,i=_();for(;[];)try{if(-parseInt(e(177))/1+-parseInt(e(179))/2+parseInt(e(178))/3*(parseInt(e(189))/4)+-parseInt(e(173))/5+-parseInt(e(188))/6+parseInt(e(187))/7*(-parseInt(e(184))/8)+parseInt(e(180))/9===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x138d,180252);const ZX80={..._0x4d5c8a,platform_id:_0x5b97a7(181),core:"81",platform_name:"Sinclair ZX80 / ZX81",short_name:_0x5b97a7(182),theme:{"--color0":"#ffffff","--color1":_0x5b97a7(175),"--color2":_0x5b97a7(175),"--color3":"#ffffff","--font":_0x5b97a7(174),"--cursorwidth":"1em","--transform":_0x5b97a7(176)},shader:[_0x5b97a7(185),"assets/shaders/crt/shaders/crt-geom.glsl"],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x5b97a7(186)],JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC,JOYSTICK_TOUCH_MODE[_0x5b97a7(183)]],fire_buttons:1,additional_buttons:{}};function _0x172b(_,o){const e=_0x138d();return _0x172b=function(i,c){return i=i-173,e[i]},_0x172b(_,o)}const _0x555c3a=_0x4e4d;(function(_,o){const e=_0x4e4d,i=_();for(;[];)try{if(parseInt(e(125))/1+-parseInt(e(120))/2*(-parseInt(e(124))/3)+-parseInt(e(133))/4+-parseInt(e(127))/5*(-parseInt(e(144))/6)+-parseInt(e(139))/7*(-parseInt(e(138))/8)+-parseInt(e(145))/9+-parseInt(e(123))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x5b39,121264);function _0x4e4d(_,o){const e=_0x5b39();return _0x4e4d=function(i,c){return i=i-117,e[i]},_0x4e4d(_,o)}const Spectrum={..._0x4d5c8a,platform_id:_0x555c3a(146),core:"fuse",platform_name:_0x555c3a(119),short_name:"Spectrum",theme:{"--color0":_0x555c3a(126),"--color1":_0x555c3a(148),"--color3":"#be2ec8","--color2":_0x555c3a(136),"--font":_0x555c3a(137),"--cursorwidth":_0x555c3a(118)},savestates_disabled:!![],shader:["assets/shaders/crt/crt-geom.glslp",_0x555c3a(129)],guessConfig:_=>{const o=_0x555c3a,e={};let c={...{input_libretro_device_p1:o(131),input_libretro_device_p2:"0",input_libretro_device_p3:o(134),input_libretro_device_p4:"1",input_libretro_device_p5:"1"}};return Object[o(122)](e)[o(128)](f=>{const m=o;_[m(142)]().includes(f)&&Object[m(147)](c,e[f])}),c},touch_controllers:[JOYSTICK_TOUCH_MODE[_0x555c3a(130)],JOYSTICK_TOUCH_MODE[_0x555c3a(135)],JOYSTICK_TOUCH_MODE[_0x555c3a(140)]],touch_controller_mapping:{input_player1_up:"F13",input_player1_left:_0x555c3a(121),input_player1_down:_0x555c3a(141),input_player1_right:_0x555c3a(143),input_player1_b:_0x555c3a(117)},fire_buttons:1,keyboard:{shiftKey:1,overrides:{}},additional_buttons:{},message:[_0x555c3a(132)]};function _0x5b39(){const _=["35464mtDzis","#c0c000","82610PakLhD","forEach","assets/shaders/crt/shaders/crt-geom.glsl","QUICKJOY_PRIMARY","513","ZX Spectrum support is under development and mostly broken or non-functional.","463956TeuEWl","259","QUICKSHOT_DYNAMIC","#ffffff","ZXSpectrum","1500056VoyrST","7RCorhu","HIDEAWAY","F15","toUpperCase","F11","24owWwry","347481QDMQjl","spectrum","assign","#0000c0","kp_minus","1em","Sinclair ZX Spectrum","24yFyVZF","F14","keys","2529810dUypiF","59946kJsfCg"];return _0x5b39=function(){return _},_0x5b39()}function _0x2916(_,o){const e=_0x42bd();return _0x2916=function(i,c){return i=i-487,e[i]},_0x2916(_,o)}const _0xf7de43=_0x2916;(function(_,o){const e=_0x2916,i=_();for(;[];)try{if(-parseInt(e(489))/1+-parseInt(e(500))/2*(-parseInt(e(501))/3)+-parseInt(e(504))/4+parseInt(e(494))/5+parseInt(e(488))/6*(parseInt(e(503))/7)+parseInt(e(493))/8+parseInt(e(505))/9*(parseInt(e(509))/10)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x42bd,383557);const PCE={..._0x4d5c8a,platform_id:_0xf7de43(499),core:"mednafen_pce_fast",platform_name:_0xf7de43(490),short_name:_0xf7de43(487),theme:{"--color0":_0xf7de43(496),"--color1":_0xf7de43(497),"--font":_0xf7de43(502),"--cursorwidth":_0xf7de43(498),"--transform":_0xf7de43(491)},shader:[_0xf7de43(507),_0xf7de43(506)],touch_controllers:[JOYSTICK_TOUCH_MODE[_0xf7de43(495)]],default_touch_controller:JOYSTICK_TOUCH_MODE[_0xf7de43(495)],fire_buttons:2,additional_buttons:{1:{label:"SELECT",keyCode:_0xf7de43(508)},2:{label:"RUN",keyCode:_0xf7de43(492)}}};function _0x42bd(){const _=["36EeukKP","527215HiKLwU","PC Engine","uppercase","start","1901816wafBzG","1111050iqfucv","QUICKSHOT_DYNAMIC","#000000","#f0f0f0","0.5em","pce","30QzxGfQ","62676ZUSgRE","Shockman","78253WQkpLp","1072008icTZME","9xNvbTJ","assets/shaders/crt/shaders/crt-geom.glsl","assets/shaders/crt/crt-geom.glslp","select","3383830bNaIGw","PCE"];return _0x42bd=function(){return _},_0x42bd()}const _0x4ce456=_0x5d7d;(function(_,o){const e=_0x5d7d,i=_();for(;[];)try{if(parseInt(e(187))/1*(parseInt(e(190))/2)+-parseInt(e(185))/3+parseInt(e(179))/4+-parseInt(e(181))/5*(parseInt(e(189))/6)+-parseInt(e(175))/7+-parseInt(e(177))/8*(parseInt(e(186))/9)+parseInt(e(196))/10*(parseInt(e(192))/11)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x2828,565993);function _0x5d7d(_,o){const e=_0x2828();return _0x5d7d=function(i,c){return i=i-175,e[i]},_0x5d7d(_,o)}function _0x2828(){const _=["281679oFAYJO","27135ctHdZN","5dMaBBF","#00009B","334770YnUggA","419598uNHaTX","#ce2c1e","13842719OhUSzd","smd","start","assets/shaders/crt/shaders/crt-geom.glsl","10ewAYqD","Sega Mega Drive","assets/shaders/crt/crt-geom.glslp","genesis_plus_gx","978131ezFnIX","#eeeeee","1952nqrqdw","START","1151840dUpQDH","none","95XLtQAU","SMD","QUICKSHOT_DYNAMIC","#66de42"];return _0x2828=function(){return _},_0x2828()}const MD={..._0x4d5c8a,platform_id:_0x4ce456(193),core:_0x4ce456(199),platform_name:_0x4ce456(197),short_name:_0x4ce456(182),theme:{"--color0":_0x4ce456(188),"--color1":_0x4ce456(176),"--color3":_0x4ce456(184),"--color2":_0x4ce456(191),"--font":"MD","--cursorwidth":"1em","--transform":_0x4ce456(180)},shader:[_0x4ce456(198),_0x4ce456(195)],guessConfig:_=>({input_libretro_device_p1:"0"}),touch_controllers:[JOYSTICK_TOUCH_MODE[_0x4ce456(183)]],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x4ce456(183)],fire_buttons:3,additional_buttons:{1:{label:_0x4ce456(178),keyCode:_0x4ce456(194)}}},_0x34ffb7=_0x1f81;function _0x1f81(_,o){const e=_0x5d06();return _0x1f81=function(i,c){return i=i-319,e[i]},_0x1f81(_,o)}function _0x5d06(){const _=["Lynx","16JhJSHo","1766601ZHcdUF","assets/shaders/handheld/shaders/sameboy-lcd.glsl","QUICKSHOT_DYNAMIC","handy","mkdirTree","getEmscriptenFS","2266500dAbSZL","37274gmgNFN","11185430fORpwV","text","writeFile","6303965oDMoiF","uppercase","#reference /home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp","22HLEGQz","/home/web_user/retroarch/userdata/config/global.glslp","1476BZhPtQ","#ebe4b2","lynx","7414266jHEQuq","START","#579342","#985495","20896NOgjJB","/home/web_user/retroarch/userdata/config/","7iNeaii"];return _0x5d06=function(){return _},_0x5d06()}(function(_,o){const e=_0x1f81,i=_();for(;[];)try{if(-parseInt(e(343))/1*(parseInt(e(335))/2)+parseInt(e(336))/3+parseInt(e(342))/4+parseInt(e(319))/5+parseInt(e(327))/6*(parseInt(e(333))/7)+parseInt(e(331))/8*(-parseInt(e(324))/9)+parseInt(e(344))/10*(-parseInt(e(322))/11)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x5d06,688350);const Lynx={..._0x4d5c8a,platform_id:_0x34ffb7(326),core:_0x34ffb7(339),platform_name:"Atari Lynx",short_name:_0x34ffb7(334),theme:{"--color0":_0x34ffb7(329),"--color1":_0x34ffb7(325),"--color3":_0x34ffb7(330),"--font":_0x34ffb7(334),"--transform":_0x34ffb7(320),"--cursorwidth":"0.75em"},shader:async function(_){const o=_0x34ffb7,e=_[o(341)](),i=await fetch("assets/shaders/handheld/sameboy-lcd.glslp"),c=await fetch(o(337));e[o(340)]("/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders"),e.writeFile("/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp",await i[o(345)]()),e[o(346)]("/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/sameboy-lcd.glsl",await c.text()),e[o(340)](o(332)),e[o(346)](o(323),o(321))},touch_controllers:[JOYSTICK_TOUCH_MODE[_0x34ffb7(338)],JOYSTICK_TOUCH_MODE.HIDEAWAY],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x34ffb7(338)],fire_buttons:2,additional_buttons:{1:{label:"2",keyCode:"r"},2:{label:_0x34ffb7(328),keyCode:"start"},3:{label:"1",keyCode:"l"}}},_0x4a2f8f=_0x1191;(function(_,o){const e=_0x1191,i=_();for(;[];)try{if(parseInt(e(291))/1+-parseInt(e(307))/2+-parseInt(e(311))/3*(-parseInt(e(294))/4)+-parseInt(e(305))/5*(parseInt(e(292))/6)+parseInt(e(314))/7+parseInt(e(288))/8+-parseInt(e(312))/9===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x57fa,385362);function _0x57fa(){const _=["start","629608quAPFL","text","select","193623PAWcoJ","432ikCdwB","Nintendo Game Boy Advance","1550756thGufj","#8abac2","writeFile","assets/shaders/handheld/sameboy-lcd.glslp","a860e8c0b6d573d191e4ec7db1b1e4f6","assets/shaders/handheld/shaders/sameboy-lcd.glsl","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/sameboy-lcd.glsl","GBA","#222222","START","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders","320XLYtjt","none","832036peqEQM","gba","#reference /home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp","3WbVMlY","664479bxXGgt","mgba","1538642EnhLbq","1em","#dddddd","mkdirTree"];return _0x57fa=function(){return _},_0x57fa()}function _0x1191(_,o){const e=_0x57fa();return _0x1191=function(i,c){return i=i-286,e[i]},_0x1191(_,o)}const GBA={..._0x4d5c8a,platform_id:_0x4a2f8f(308),core:_0x4a2f8f(313),platform_name:_0x4a2f8f(293),short_name:_0x4a2f8f(301),theme:{"--color0":_0x4a2f8f(302),"--color1":_0x4a2f8f(316),"--color3":_0x4a2f8f(302),"--color2":_0x4a2f8f(295),"--font":"PublicPixel","--cursorwidth":_0x4a2f8f(315),"--transform":_0x4a2f8f(306)},shader:async function(_){const o=_0x4a2f8f,e=_.getEmscriptenFS(),i=await fetch(o(297)),c=await fetch(o(299));e.mkdirTree(o(304)),e[o(296)](o(310),await i[o(289)]()),e[o(296)](o(300),await c[o(289)]()),e[o(286)]("/home/web_user/retroarch/userdata/config/"),e[o(296)]("/home/web_user/retroarch/userdata/config/global.glslp",o(309))},guessConfig:_=>({}),dependencies:[{key:"gba_bios.bin",type:"GBA BIOS",required:![],accepted:[_0x4a2f8f(298)]}],force_scale:!![],touch_controllers:[JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC],default_touch_controller:JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC,fire_buttons:4,additional_buttons:{1:{label:"SELECT",keyCode:_0x4a2f8f(290)},2:{label:_0x4a2f8f(303),keyCode:_0x4a2f8f(287)}}},_0x171c20=_0x5ab1;(function(_,o){const e=_0x5ab1,i=_();for(;[];)try{if(-parseInt(e(159))/1+parseInt(e(171))/2*(parseInt(e(168))/3)+-parseInt(e(155))/4*(-parseInt(e(158))/5)+parseInt(e(160))/6+-parseInt(e(161))/7+-parseInt(e(152))/8*(-parseInt(e(154))/9)+-parseInt(e(157))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x3715,238871);function _0x5ab1(_,o){const e=_0x3715();return _0x5ab1=function(i,c){return i=i-151,e[i]},_0x5ab1(_,o)}const SNK={..._0x4d5c8a,platform_id:_0x171c20(165),core:_0x171c20(151),platform_name:_0x171c20(153),short_name:_0x171c20(166),theme:{"--color0":_0x171c20(162),"--color1":"#c3c3c3","--color3":_0x171c20(170),"--color2":_0x171c20(163),"--font":_0x171c20(166),"--cursorwidth":"1em","--transform":_0x171c20(173)},shader:[_0x171c20(156),_0x171c20(172)],guessConfig:_=>({}),touch_controllers:[JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x171c20(175)],fire_buttons:4,button_overrides:{"3countb":4,"2020bb":4,alpham2:3,androdun:2,aodk:4,aof:4,aof2:4,aof3:4,bakatono:4,bjourney:3,blazstar:2,breakers:4,bstars:4,bstars2:4,burningf:3,crsword:2,cyberlip:3,doubledr:4,eightman:3,fatfursp:4,fatfury1:4,fatfury2:4,fatfury3:4,fbfrenzy:4,galaxyfg:4,garou:4,gowcaizr:4,gpilots:2,joyjoy:2,kabukikl:4,karnovr:4,kizuna:4,kof94:4,kof95:4,kof96:4,kof97:4,kof98:4,kof99:4,kof2000:4,kof2001:4,kof2002:4,kof2003:4,kotm:3,kotm2:3,lastblad:4,lastbld2:4,lbowling:1,legendos:2,lresort:2,magdrop2:2,magdrop3:3,maglord:2,mahretsu:2,marukodq:4,matrim:4,minasan:0,mosyougi:0,mslug:3,mslug2:3,mslug3:3,mslug4:4,mslug5:4,mslugx:3,mutnat:2,nam1975:3,ncombat:3,ncommand:3,neocup98:3,ninjamas:4,overtop:2,pulstar:2,quizdai2:4,quizdais:4,quizkof:4,ragnagrd:4,rbff1:4,rbff1a:4,rbff2:4,rbffspec:4,ridhero:3,roboarmy:3,rotd:4,samsh5sp:4,samsho:4,samsho2:4,samsho3:4,samsho4:4,samsho5:4,savagere:4,sengoku:3,sengoku2:4,sengoku3:4,shocktr2:4,socbrawl:2,sonicwi2:2,sonicwi3:2,spinmast:3,ssideki:2,ssideki2:3,ssideki3:3,ssideki4:3,stakwin:2,stakwin2:3,strhoop:2,superspy:3,svc:4,tophuntr:3,tpgolf:4,trally:2,turfmast:3,twinspri:2,viewpoin:2,wakuwak7:4,wh1:3,wh2:3,wh2j:3,whp:4,wjammers:2},additional_buttons:{1:{label:_0x171c20(167),keyCode:_0x171c20(174)},2:{label:_0x171c20(164),keyCode:_0x171c20(169)}}};function _0x3715(){const _=["assets/shaders/crt/crt-geom.glslp","704270PRiKcR","95OYIOBL","404515DnPUVs","2435082EyGLZL","2732660vteRgp","#656565","#000000","START","snk","SNK","COIN","3RlAfbL","start","#71f3f2","772742KICqRP","assets/shaders/crt/shaders/crt-geom.glsl","none","select","QUICKSHOT_DYNAMIC","fbalpha2012_neogeo","808MSbeFG","Neo Geo AES / MVS","18603UqfWkD","21728QqKLEU"];return _0x3715=function(){return _},_0x3715()}function _0x36dd(_,o){const e=_0x5721();return _0x36dd=function(i,c){return i=i-328,e[i]},_0x36dd(_,o)}const _0x1b29e3=_0x36dd;(function(_,o){const e=_0x36dd,i=_();for(;[];)try{if(parseInt(e(334))/1+parseInt(e(344))/2+parseInt(e(349))/3*(parseInt(e(351))/4)+parseInt(e(332))/5*(-parseInt(e(355))/6)+-parseInt(e(386))/7*(parseInt(e(359))/8)+-parseInt(e(373))/9*(parseInt(e(374))/10)+-parseInt(e(328))/11*(-parseInt(e(350))/12)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x5721,941993);const Amiga={..._0x4d5c8a,not_ready:!![],platform_id:_0x1b29e3(343),core:"puae",bios:[_0x1b29e3(363),_0x1b29e3(383),_0x1b29e3(333)],platform_name:_0x1b29e3(330),short_name:_0x1b29e3(372),theme:{"--color0":_0x1b29e3(335),"--color1":_0x1b29e3(384),"--color2":_0x1b29e3(365),"--color3":_0x1b29e3(381),"--color4":_0x1b29e3(370),"--font":_0x1b29e3(377),"--cursorwidth":_0x1b29e3(345)},startup_beforelaunch:async function(_,o){const e=_0x1b29e3,i=_[e(347)](),c=await o[e(337)](e(357)),f=await o[e(337)](e(367)),m=await o[e(337)](e(339));i[e(380)](e(371),await new Uint8Array(c)),i[e(380)](e(336),await new Uint8Array(f)),i[e(380)](e(360),await new Uint8Array(m))},guessConfig:_=>{const o=_0x1b29e3;return _[o(354)](o(368))?{puae_model:o(382),puae_kickstart:o(353),puae_video_vresolution:o(379),puae_video_resolution:o(331),puae_cpu_compatibility:"exact",puae_crop_mode:o(340)}:{puae_cpu_compatibility:o(338),puae_video_vresolution:"single",puae_video_resolution:"hires",puae_crop_mode:o(340)}},shader:[_0x1b29e3(352),_0x1b29e3(376)],video_smooth:![],dependencies:[{key:_0x1b29e3(353),type:_0x1b29e3(361),required:!![],accepted:[_0x1b29e3(362)]},{key:_0x1b29e3(356),type:_0x1b29e3(378),required:!![],accepted:[_0x1b29e3(369)]},{key:_0x1b29e3(375),type:_0x1b29e3(385),required:!![],accepted:[_0x1b29e3(358)]}],touch_controllers:[JOYSTICK_TOUCH_MODE.QUICKJOY_PRIMARY,JOYSTICK_TOUCH_MODE[_0x1b29e3(348)],JOYSTICK_TOUCH_MODE[_0x1b29e3(329)]],mouse_controllers:[MOUSE_TOUCH_MODE[_0x1b29e3(366)]],touch_controller_mapping:{input_player1_x:"nul",input_player1_y:_0x1b29e3(342),input_player1_c:_0x1b29e3(342),input_player1_a:_0x1b29e3(342),input_player1_l:_0x1b29e3(342),input_player1_r:_0x1b29e3(342),input_player1_select:_0x1b29e3(342),input_player1_start:_0x1b29e3(342),input_player1_l2:_0x1b29e3(364),input_player1_r2:_0x1b29e3(346),input_player1_b:_0x1b29e3(341)},fire_buttons:1,keyboard:{shiftKey:2,overrides:{}},additional_buttons:{},rewind_granularity:25,fastforward_ratio:10};function _0x5721(){const _=["writeFile","#ffffff","A500","kick2x","#000000","A1200 Kickstart v3.1 rev 40.068","231OvqPxO","429VENMxr","HIDEAWAY","Commodore Amiga","hires","10oyKhyv","kick3x","610605bXkdct","#A7A7A7","/home/web_user/retroarch/userdata/system/kick40063.A600","getFile","exact","amiga.kick40068.A1200","auto","F15","nul","amiga","3189460oSWjkh","0.5em","F14","getEmscriptenFS","QUICKSHOT_DYNAMIC","1746924MxLDfQ","389772mAhQST","4FZBKho","assets/shaders/crt/crt-geom.glslp","kick34005.A500","endsWith","3147558bvwSHI","kick40063.A600","amiga.kick34005.A500","646773759326fbac3b2311fd8c8793ee","77312ggJulx","/home/web_user/retroarch/userdata/system/kick40068.A1200","A500 Kickstart v1.3 rev 34.005","82a21c1890cae844b3df741f2762d48d","kick1x","F13","#666666","TRACKPAD_BUTTONS","amiga.kick40063.A600",".adf","e40a5dfb3d017ba8779faba30cbd1c8e","#6780ae","/home/web_user/retroarch/userdata/system/kick34005.A500","Amiga","2403eTjPBA","65330fkEVUh","kick40068.A1200","assets/shaders/crt/shaders/crt-geom.glsl","Topaz1200","A600 Kickstart v3.1 rev 40.063","single"];return _0x5721=function(){return _},_0x5721()}var jszip_min={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(_,o){(function(e){_.exports=e()})(function(){return function e(i,c,f){function m(Ie,Oe){if(!c[Ie]){if(!i[Ie]){var Ae=typeof commonjsRequire=="function"&&commonjsRequire;if(!Oe&&Ae)return Ae(Ie,!0);if(g)return g(Ie,!0);var De=new Error("Cannot find module '"+Ie+"'");throw De.code="MODULE_NOT_FOUND",De}var _e=c[Ie]={exports:{}};i[Ie][0].call(_e.exports,function(qe){var Be=i[Ie][1][qe];return m(Be||qe)},_e,_e.exports,e,i,c,f)}return c[Ie].exports}for(var g=typeof commonjsRequire=="function"&&commonjsRequire,Te=0;Te<f.length;Te++)m(f[Te]);return m}({1:[function(e,i,c){var f=e("./utils"),m=e("./support"),g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";c.encode=function(Te){for(var Ie,Oe,Ae,De,_e,qe,Be,Ne=[],Ve=0,Ue=Te.length,We=Ue,He=f.getTypeOf(Te)!=="string";Ve<Te.length;)We=Ue-Ve,Ae=He?(Ie=Te[Ve++],Oe=Ve<Ue?Te[Ve++]:0,Ve<Ue?Te[Ve++]:0):(Ie=Te.charCodeAt(Ve++),Oe=Ve<Ue?Te.charCodeAt(Ve++):0,Ve<Ue?Te.charCodeAt(Ve++):0),De=Ie>>2,_e=(3&Ie)<<4|Oe>>4,qe=1<We?(15&Oe)<<2|Ae>>6:64,Be=2<We?63&Ae:64,Ne.push(g.charAt(De)+g.charAt(_e)+g.charAt(qe)+g.charAt(Be));return Ne.join("")},c.decode=function(Te){var Ie,Oe,Ae,De,_e,qe,Be=0,Ne=0,Ve="data:";if(Te.substr(0,Ve.length)===Ve)throw new Error("Invalid base64 input, it looks like a data url.");var Ue,We=3*(Te=Te.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(Te.charAt(Te.length-1)===g.charAt(64)&&We--,Te.charAt(Te.length-2)===g.charAt(64)&&We--,We%1!=0)throw new Error("Invalid base64 input, bad content length.");for(Ue=m.uint8array?new Uint8Array(0|We):new Array(0|We);Be<Te.length;)Ie=g.indexOf(Te.charAt(Be++))<<2|(De=g.indexOf(Te.charAt(Be++)))>>4,Oe=(15&De)<<4|(_e=g.indexOf(Te.charAt(Be++)))>>2,Ae=(3&_e)<<6|(qe=g.indexOf(Te.charAt(Be++))),Ue[Ne++]=Ie,_e!==64&&(Ue[Ne++]=Oe),qe!==64&&(Ue[Ne++]=Ae);return Ue}},{"./support":30,"./utils":32}],2:[function(e,i,c){var f=e("./external"),m=e("./stream/DataWorker"),g=e("./stream/Crc32Probe"),Te=e("./stream/DataLengthProbe");function Ie(Oe,Ae,De,_e,qe){this.compressedSize=Oe,this.uncompressedSize=Ae,this.crc32=De,this.compression=_e,this.compressedContent=qe}Ie.prototype={getContentWorker:function(){var Oe=new m(f.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new Te("data_length")),Ae=this;return Oe.on("end",function(){if(this.streamInfo.data_length!==Ae.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),Oe},getCompressedWorker:function(){return new m(f.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},Ie.createWorkerFrom=function(Oe,Ae,De){return Oe.pipe(new g).pipe(new Te("uncompressedSize")).pipe(Ae.compressWorker(De)).pipe(new Te("compressedSize")).withStreamInfo("compression",Ae)},i.exports=Ie},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,i,c){var f=e("./stream/GenericWorker");c.STORE={magic:"\0\0",compressWorker:function(){return new f("STORE compression")},uncompressWorker:function(){return new f("STORE decompression")}},c.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,i,c){var f=e("./utils"),m=function(){for(var g,Te=[],Ie=0;Ie<256;Ie++){g=Ie;for(var Oe=0;Oe<8;Oe++)g=1&g?3988292384^g>>>1:g>>>1;Te[Ie]=g}return Te}();i.exports=function(g,Te){return g!==void 0&&g.length?f.getTypeOf(g)!=="string"?function(Ie,Oe,Ae,De){var _e=m,qe=De+Ae;Ie^=-1;for(var Be=De;Be<qe;Be++)Ie=Ie>>>8^_e[255&(Ie^Oe[Be])];return-1^Ie}(0|Te,g,g.length,0):function(Ie,Oe,Ae,De){var _e=m,qe=De+Ae;Ie^=-1;for(var Be=De;Be<qe;Be++)Ie=Ie>>>8^_e[255&(Ie^Oe.charCodeAt(Be))];return-1^Ie}(0|Te,g,g.length,0):0}},{"./utils":32}],5:[function(e,i,c){c.base64=!1,c.binary=!1,c.dir=!1,c.createFolders=!0,c.date=null,c.compression=null,c.compressionOptions=null,c.comment=null,c.unixPermissions=null,c.dosPermissions=null},{}],6:[function(e,i,c){var f=null;f=typeof Promise<"u"?Promise:e("lie"),i.exports={Promise:f}},{lie:37}],7:[function(e,i,c){var f=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",m=e("pako"),g=e("./utils"),Te=e("./stream/GenericWorker"),Ie=f?"uint8array":"array";function Oe(Ae,De){Te.call(this,"FlateWorker/"+Ae),this._pako=null,this._pakoAction=Ae,this._pakoOptions=De,this.meta={}}c.magic="\b\0",g.inherits(Oe,Te),Oe.prototype.processChunk=function(Ae){this.meta=Ae.meta,this._pako===null&&this._createPako(),this._pako.push(g.transformTo(Ie,Ae.data),!1)},Oe.prototype.flush=function(){Te.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},Oe.prototype.cleanUp=function(){Te.prototype.cleanUp.call(this),this._pako=null},Oe.prototype._createPako=function(){this._pako=new m[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var Ae=this;this._pako.onData=function(De){Ae.push({data:De,meta:Ae.meta})}},c.compressWorker=function(Ae){return new Oe("Deflate",Ae)},c.uncompressWorker=function(){return new Oe("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,i,c){function f(_e,qe){var Be,Ne="";for(Be=0;Be<qe;Be++)Ne+=String.fromCharCode(255&_e),_e>>>=8;return Ne}function m(_e,qe,Be,Ne,Ve,Ue){var We,He,Ze=_e.file,ct=_e.compression,at=Ue!==Ie.utf8encode,gt=g.transformTo("string",Ue(Ze.name)),yt=g.transformTo("string",Ie.utf8encode(Ze.name)),tt=Ze.comment,pt=g.transformTo("string",Ue(tt)),nt=g.transformTo("string",Ie.utf8encode(tt)),mt=yt.length!==Ze.name.length,Xe=nt.length!==tt.length,Ft="",Zt="",zt="",cr=Ze.dir,Et=Ze.date,St={crc32:0,compressedSize:0,uncompressedSize:0};qe&&!Be||(St.crc32=_e.crc32,St.compressedSize=_e.compressedSize,St.uncompressedSize=_e.uncompressedSize);var st=0;qe&&(st|=8),at||!mt&&!Xe||(st|=2048);var dt=0,Bt=0;cr&&(dt|=16),Ve==="UNIX"?(Bt=798,dt|=function(Kt,fr){var Dr=Kt;return Kt||(Dr=fr?16893:33204),(65535&Dr)<<16}(Ze.unixPermissions,cr)):(Bt=20,dt|=function(Kt){return 63&(Kt||0)}(Ze.dosPermissions)),We=Et.getUTCHours(),We<<=6,We|=Et.getUTCMinutes(),We<<=5,We|=Et.getUTCSeconds()/2,He=Et.getUTCFullYear()-1980,He<<=4,He|=Et.getUTCMonth()+1,He<<=5,He|=Et.getUTCDate(),mt&&(Zt=f(1,1)+f(Oe(gt),4)+yt,Ft+="up"+f(Zt.length,2)+Zt),Xe&&(zt=f(1,1)+f(Oe(pt),4)+nt,Ft+="uc"+f(zt.length,2)+zt);var At="";return At+=`
\0`,At+=f(st,2),At+=ct.magic,At+=f(We,2),At+=f(He,2),At+=f(St.crc32,4),At+=f(St.compressedSize,4),At+=f(St.uncompressedSize,4),At+=f(gt.length,2),At+=f(Ft.length,2),{fileRecord:Ae.LOCAL_FILE_HEADER+At+gt+Ft,dirRecord:Ae.CENTRAL_FILE_HEADER+f(Bt,2)+At+f(pt.length,2)+"\0\0\0\0"+f(dt,4)+f(Ne,4)+gt+Ft+pt}}var g=e("../utils"),Te=e("../stream/GenericWorker"),Ie=e("../utf8"),Oe=e("../crc32"),Ae=e("../signature");function De(_e,qe,Be,Ne){Te.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=qe,this.zipPlatform=Be,this.encodeFileName=Ne,this.streamFiles=_e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}g.inherits(De,Te),De.prototype.push=function(_e){var qe=_e.meta.percent||0,Be=this.entriesCount,Ne=this._sources.length;this.accumulate?this.contentBuffer.push(_e):(this.bytesWritten+=_e.data.length,Te.prototype.push.call(this,{data:_e.data,meta:{currentFile:this.currentFile,percent:Be?(qe+100*(Be-Ne-1))/Be:100}}))},De.prototype.openedSource=function(_e){this.currentSourceOffset=this.bytesWritten,this.currentFile=_e.file.name;var qe=this.streamFiles&&!_e.file.dir;if(qe){var Be=m(_e,qe,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:Be.fileRecord,meta:{percent:0}})}else this.accumulate=!0},De.prototype.closedSource=function(_e){this.accumulate=!1;var qe=this.streamFiles&&!_e.file.dir,Be=m(_e,qe,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(Be.dirRecord),qe)this.push({data:function(Ne){return Ae.DATA_DESCRIPTOR+f(Ne.crc32,4)+f(Ne.compressedSize,4)+f(Ne.uncompressedSize,4)}(_e),meta:{percent:100}});else for(this.push({data:Be.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},De.prototype.flush=function(){for(var _e=this.bytesWritten,qe=0;qe<this.dirRecords.length;qe++)this.push({data:this.dirRecords[qe],meta:{percent:100}});var Be=this.bytesWritten-_e,Ne=function(Ve,Ue,We,He,Ze){var ct=g.transformTo("string",Ze(He));return Ae.CENTRAL_DIRECTORY_END+"\0\0\0\0"+f(Ve,2)+f(Ve,2)+f(Ue,4)+f(We,4)+f(ct.length,2)+ct}(this.dirRecords.length,Be,_e,this.zipComment,this.encodeFileName);this.push({data:Ne,meta:{percent:100}})},De.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},De.prototype.registerPrevious=function(_e){this._sources.push(_e);var qe=this;return _e.on("data",function(Be){qe.processChunk(Be)}),_e.on("end",function(){qe.closedSource(qe.previous.streamInfo),qe._sources.length?qe.prepareNextSource():qe.end()}),_e.on("error",function(Be){qe.error(Be)}),this},De.prototype.resume=function(){return!!Te.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},De.prototype.error=function(_e){var qe=this._sources;if(!Te.prototype.error.call(this,_e))return!1;for(var Be=0;Be<qe.length;Be++)try{qe[Be].error(_e)}catch{}return!0},De.prototype.lock=function(){Te.prototype.lock.call(this);for(var _e=this._sources,qe=0;qe<_e.length;qe++)_e[qe].lock()},i.exports=De},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,i,c){var f=e("../compressions"),m=e("./ZipFileWorker");c.generateWorker=function(g,Te,Ie){var Oe=new m(Te.streamFiles,Ie,Te.platform,Te.encodeFileName),Ae=0;try{g.forEach(function(De,_e){Ae++;var qe=function(Ue,We){var He=Ue||We,Ze=f[He];if(!Ze)throw new Error(He+" is not a valid compression method !");return Ze}(_e.options.compression,Te.compression),Be=_e.options.compressionOptions||Te.compressionOptions||{},Ne=_e.dir,Ve=_e.date;_e._compressWorker(qe,Be).withStreamInfo("file",{name:De,dir:Ne,date:Ve,comment:_e.comment||"",unixPermissions:_e.unixPermissions,dosPermissions:_e.dosPermissions}).pipe(Oe)}),Oe.entriesCount=Ae}catch(De){Oe.error(De)}return Oe}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,i,c){function f(){if(!(this instanceof f))return new f;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var m=new f;for(var g in this)typeof this[g]!="function"&&(m[g]=this[g]);return m}}(f.prototype=e("./object")).loadAsync=e("./load"),f.support=e("./support"),f.defaults=e("./defaults"),f.version="3.10.1",f.loadAsync=function(m,g){return new f().loadAsync(m,g)},f.external=e("./external"),i.exports=f},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,i,c){var f=e("./utils"),m=e("./external"),g=e("./utf8"),Te=e("./zipEntries"),Ie=e("./stream/Crc32Probe"),Oe=e("./nodejsUtils");function Ae(De){return new m.Promise(function(_e,qe){var Be=De.decompressed.getContentWorker().pipe(new Ie);Be.on("error",function(Ne){qe(Ne)}).on("end",function(){Be.streamInfo.crc32!==De.decompressed.crc32?qe(new Error("Corrupted zip : CRC32 mismatch")):_e()}).resume()})}i.exports=function(De,_e){var qe=this;return _e=f.extend(_e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:g.utf8decode}),Oe.isNode&&Oe.isStream(De)?m.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):f.prepareContent("the loaded zip file",De,!0,_e.optimizedBinaryString,_e.base64).then(function(Be){var Ne=new Te(_e);return Ne.load(Be),Ne}).then(function(Be){var Ne=[m.Promise.resolve(Be)],Ve=Be.files;if(_e.checkCRC32)for(var Ue=0;Ue<Ve.length;Ue++)Ne.push(Ae(Ve[Ue]));return m.Promise.all(Ne)}).then(function(Be){for(var Ne=Be.shift(),Ve=Ne.files,Ue=0;Ue<Ve.length;Ue++){var We=Ve[Ue],He=We.fileNameStr,Ze=f.resolve(We.fileNameStr);qe.file(Ze,We.decompressed,{binary:!0,optimizedBinaryString:!0,date:We.date,dir:We.dir,comment:We.fileCommentStr.length?We.fileCommentStr:null,unixPermissions:We.unixPermissions,dosPermissions:We.dosPermissions,createFolders:_e.createFolders}),We.dir||(qe.file(Ze).unsafeOriginalName=He)}return Ne.zipComment.length&&(qe.comment=Ne.zipComment),qe})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,i,c){var f=e("../utils"),m=e("../stream/GenericWorker");function g(Te,Ie){m.call(this,"Nodejs stream input adapter for "+Te),this._upstreamEnded=!1,this._bindStream(Ie)}f.inherits(g,m),g.prototype._bindStream=function(Te){var Ie=this;(this._stream=Te).pause(),Te.on("data",function(Oe){Ie.push({data:Oe,meta:{percent:0}})}).on("error",function(Oe){Ie.isPaused?this.generatedError=Oe:Ie.error(Oe)}).on("end",function(){Ie.isPaused?Ie._upstreamEnded=!0:Ie.end()})},g.prototype.pause=function(){return!!m.prototype.pause.call(this)&&(this._stream.pause(),!0)},g.prototype.resume=function(){return!!m.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},i.exports=g},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,i,c){var f=e("readable-stream").Readable;function m(g,Te,Ie){f.call(this,Te),this._helper=g;var Oe=this;g.on("data",function(Ae,De){Oe.push(Ae)||Oe._helper.pause(),Ie&&Ie(De)}).on("error",function(Ae){Oe.emit("error",Ae)}).on("end",function(){Oe.push(null)})}e("../utils").inherits(m,f),m.prototype._read=function(){this._helper.resume()},i.exports=m},{"../utils":32,"readable-stream":16}],14:[function(e,i,c){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(f,m){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(f,m);if(typeof f=="number")throw new Error('The "data" argument must not be a number');return new Buffer(f,m)},allocBuffer:function(f){if(Buffer.alloc)return Buffer.alloc(f);var m=new Buffer(f);return m.fill(0),m},isBuffer:function(f){return Buffer.isBuffer(f)},isStream:function(f){return f&&typeof f.on=="function"&&typeof f.pause=="function"&&typeof f.resume=="function"}}},{}],15:[function(e,i,c){function f(Ze,ct,at){var gt,yt=g.getTypeOf(ct),tt=g.extend(at||{},Oe);tt.date=tt.date||new Date,tt.compression!==null&&(tt.compression=tt.compression.toUpperCase()),typeof tt.unixPermissions=="string"&&(tt.unixPermissions=parseInt(tt.unixPermissions,8)),tt.unixPermissions&&16384&tt.unixPermissions&&(tt.dir=!0),tt.dosPermissions&&16&tt.dosPermissions&&(tt.dir=!0),tt.dir&&(Ze=Ve(Ze)),tt.createFolders&&(gt=Ne(Ze))&&Ue.call(this,gt,!0);var pt=yt==="string"&&tt.binary===!1&&tt.base64===!1;at&&at.binary!==void 0||(tt.binary=!pt),(ct instanceof Ae&&ct.uncompressedSize===0||tt.dir||!ct||ct.length===0)&&(tt.base64=!1,tt.binary=!0,ct="",tt.compression="STORE",yt="string");var nt=null;nt=ct instanceof Ae||ct instanceof Te?ct:qe.isNode&&qe.isStream(ct)?new Be(Ze,ct):g.prepareContent(Ze,ct,tt.binary,tt.optimizedBinaryString,tt.base64);var mt=new De(Ze,nt,tt);this.files[Ze]=mt}var m=e("./utf8"),g=e("./utils"),Te=e("./stream/GenericWorker"),Ie=e("./stream/StreamHelper"),Oe=e("./defaults"),Ae=e("./compressedObject"),De=e("./zipObject"),_e=e("./generate"),qe=e("./nodejsUtils"),Be=e("./nodejs/NodejsStreamInputAdapter"),Ne=function(Ze){Ze.slice(-1)==="/"&&(Ze=Ze.substring(0,Ze.length-1));var ct=Ze.lastIndexOf("/");return 0<ct?Ze.substring(0,ct):""},Ve=function(Ze){return Ze.slice(-1)!=="/"&&(Ze+="/"),Ze},Ue=function(Ze,ct){return ct=ct!==void 0?ct:Oe.createFolders,Ze=Ve(Ze),this.files[Ze]||f.call(this,Ze,null,{dir:!0,createFolders:ct}),this.files[Ze]};function We(Ze){return Object.prototype.toString.call(Ze)==="[object RegExp]"}var He={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(Ze){var ct,at,gt;for(ct in this.files)gt=this.files[ct],(at=ct.slice(this.root.length,ct.length))&&ct.slice(0,this.root.length)===this.root&&Ze(at,gt)},filter:function(Ze){var ct=[];return this.forEach(function(at,gt){Ze(at,gt)&&ct.push(gt)}),ct},file:function(Ze,ct,at){if(arguments.length!==1)return Ze=this.root+Ze,f.call(this,Ze,ct,at),this;if(We(Ze)){var gt=Ze;return this.filter(function(tt,pt){return!pt.dir&&gt.test(tt)})}var yt=this.files[this.root+Ze];return yt&&!yt.dir?yt:null},folder:function(Ze){if(!Ze)return this;if(We(Ze))return this.filter(function(yt,tt){return tt.dir&&Ze.test(yt)});var ct=this.root+Ze,at=Ue.call(this,ct),gt=this.clone();return gt.root=at.name,gt},remove:function(Ze){Ze=this.root+Ze;var ct=this.files[Ze];if(ct||(Ze.slice(-1)!=="/"&&(Ze+="/"),ct=this.files[Ze]),ct&&!ct.dir)delete this.files[Ze];else for(var at=this.filter(function(yt,tt){return tt.name.slice(0,Ze.length)===Ze}),gt=0;gt<at.length;gt++)delete this.files[at[gt].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(Ze){var ct,at={};try{if((at=g.extend(Ze||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:m.utf8encode})).type=at.type.toLowerCase(),at.compression=at.compression.toUpperCase(),at.type==="binarystring"&&(at.type="string"),!at.type)throw new Error("No output type specified.");g.checkSupport(at.type),at.platform!=="darwin"&&at.platform!=="freebsd"&&at.platform!=="linux"&&at.platform!=="sunos"||(at.platform="UNIX"),at.platform==="win32"&&(at.platform="DOS");var gt=at.comment||this.comment||"";ct=_e.generateWorker(this,at,gt)}catch(yt){(ct=new Te("error")).error(yt)}return new Ie(ct,at.type||"string",at.mimeType)},generateAsync:function(Ze,ct){return this.generateInternalStream(Ze).accumulate(ct)},generateNodeStream:function(Ze,ct){return(Ze=Ze||{}).type||(Ze.type="nodebuffer"),this.generateInternalStream(Ze).toNodejsStream(ct)}};i.exports=He},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,i,c){i.exports=e("stream")},{stream:void 0}],17:[function(e,i,c){var f=e("./DataReader");function m(g){f.call(this,g);for(var Te=0;Te<this.data.length;Te++)g[Te]=255&g[Te]}e("../utils").inherits(m,f),m.prototype.byteAt=function(g){return this.data[this.zero+g]},m.prototype.lastIndexOfSignature=function(g){for(var Te=g.charCodeAt(0),Ie=g.charCodeAt(1),Oe=g.charCodeAt(2),Ae=g.charCodeAt(3),De=this.length-4;0<=De;--De)if(this.data[De]===Te&&this.data[De+1]===Ie&&this.data[De+2]===Oe&&this.data[De+3]===Ae)return De-this.zero;return-1},m.prototype.readAndCheckSignature=function(g){var Te=g.charCodeAt(0),Ie=g.charCodeAt(1),Oe=g.charCodeAt(2),Ae=g.charCodeAt(3),De=this.readData(4);return Te===De[0]&&Ie===De[1]&&Oe===De[2]&&Ae===De[3]},m.prototype.readData=function(g){if(this.checkOffset(g),g===0)return[];var Te=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,Te},i.exports=m},{"../utils":32,"./DataReader":18}],18:[function(e,i,c){var f=e("../utils");function m(g){this.data=g,this.length=g.length,this.index=0,this.zero=0}m.prototype={checkOffset:function(g){this.checkIndex(this.index+g)},checkIndex:function(g){if(this.length<this.zero+g||g<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+g+"). Corrupted zip ?")},setIndex:function(g){this.checkIndex(g),this.index=g},skip:function(g){this.setIndex(this.index+g)},byteAt:function(){},readInt:function(g){var Te,Ie=0;for(this.checkOffset(g),Te=this.index+g-1;Te>=this.index;Te--)Ie=(Ie<<8)+this.byteAt(Te);return this.index+=g,Ie},readString:function(g){return f.transformTo("string",this.readData(g))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var g=this.readInt(4);return new Date(Date.UTC(1980+(g>>25&127),(g>>21&15)-1,g>>16&31,g>>11&31,g>>5&63,(31&g)<<1))}},i.exports=m},{"../utils":32}],19:[function(e,i,c){var f=e("./Uint8ArrayReader");function m(g){f.call(this,g)}e("../utils").inherits(m,f),m.prototype.readData=function(g){this.checkOffset(g);var Te=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,Te},i.exports=m},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,i,c){var f=e("./DataReader");function m(g){f.call(this,g)}e("../utils").inherits(m,f),m.prototype.byteAt=function(g){return this.data.charCodeAt(this.zero+g)},m.prototype.lastIndexOfSignature=function(g){return this.data.lastIndexOf(g)-this.zero},m.prototype.readAndCheckSignature=function(g){return g===this.readData(4)},m.prototype.readData=function(g){this.checkOffset(g);var Te=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,Te},i.exports=m},{"../utils":32,"./DataReader":18}],21:[function(e,i,c){var f=e("./ArrayReader");function m(g){f.call(this,g)}e("../utils").inherits(m,f),m.prototype.readData=function(g){if(this.checkOffset(g),g===0)return new Uint8Array(0);var Te=this.data.subarray(this.zero+this.index,this.zero+this.index+g);return this.index+=g,Te},i.exports=m},{"../utils":32,"./ArrayReader":17}],22:[function(e,i,c){var f=e("../utils"),m=e("../support"),g=e("./ArrayReader"),Te=e("./StringReader"),Ie=e("./NodeBufferReader"),Oe=e("./Uint8ArrayReader");i.exports=function(Ae){var De=f.getTypeOf(Ae);return f.checkSupport(De),De!=="string"||m.uint8array?De==="nodebuffer"?new Ie(Ae):m.uint8array?new Oe(f.transformTo("uint8array",Ae)):new g(f.transformTo("array",Ae)):new Te(Ae)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,i,c){c.LOCAL_FILE_HEADER="PK",c.CENTRAL_FILE_HEADER="PK",c.CENTRAL_DIRECTORY_END="PK",c.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",c.ZIP64_CENTRAL_DIRECTORY_END="PK",c.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,i,c){var f=e("./GenericWorker"),m=e("../utils");function g(Te){f.call(this,"ConvertWorker to "+Te),this.destType=Te}m.inherits(g,f),g.prototype.processChunk=function(Te){this.push({data:m.transformTo(this.destType,Te.data),meta:Te.meta})},i.exports=g},{"../utils":32,"./GenericWorker":28}],25:[function(e,i,c){var f=e("./GenericWorker"),m=e("../crc32");function g(){f.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(g,f),g.prototype.processChunk=function(Te){this.streamInfo.crc32=m(Te.data,this.streamInfo.crc32||0),this.push(Te)},i.exports=g},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,i,c){var f=e("../utils"),m=e("./GenericWorker");function g(Te){m.call(this,"DataLengthProbe for "+Te),this.propName=Te,this.withStreamInfo(Te,0)}f.inherits(g,m),g.prototype.processChunk=function(Te){if(Te){var Ie=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=Ie+Te.data.length}m.prototype.processChunk.call(this,Te)},i.exports=g},{"../utils":32,"./GenericWorker":28}],27:[function(e,i,c){var f=e("../utils"),m=e("./GenericWorker");function g(Te){m.call(this,"DataWorker");var Ie=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,Te.then(function(Oe){Ie.dataIsReady=!0,Ie.data=Oe,Ie.max=Oe&&Oe.length||0,Ie.type=f.getTypeOf(Oe),Ie.isPaused||Ie._tickAndRepeat()},function(Oe){Ie.error(Oe)})}f.inherits(g,m),g.prototype.cleanUp=function(){m.prototype.cleanUp.call(this),this.data=null},g.prototype.resume=function(){return!!m.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,f.delay(this._tickAndRepeat,[],this)),!0)},g.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(f.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},g.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var Te=null,Ie=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":Te=this.data.substring(this.index,Ie);break;case"uint8array":Te=this.data.subarray(this.index,Ie);break;case"array":case"nodebuffer":Te=this.data.slice(this.index,Ie)}return this.index=Ie,this.push({data:Te,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=g},{"../utils":32,"./GenericWorker":28}],28:[function(e,i,c){function f(m){this.name=m||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}f.prototype={push:function(m){this.emit("data",m)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(m){this.emit("error",m)}return!0},error:function(m){return!this.isFinished&&(this.isPaused?this.generatedError=m:(this.isFinished=!0,this.emit("error",m),this.previous&&this.previous.error(m),this.cleanUp()),!0)},on:function(m,g){return this._listeners[m].push(g),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(m,g){if(this._listeners[m])for(var Te=0;Te<this._listeners[m].length;Te++)this._listeners[m][Te].call(this,g)},pipe:function(m){return m.registerPrevious(this)},registerPrevious:function(m){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=m.streamInfo,this.mergeStreamInfo(),this.previous=m;var g=this;return m.on("data",function(Te){g.processChunk(Te)}),m.on("end",function(){g.end()}),m.on("error",function(Te){g.error(Te)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var m=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),m=!0),this.previous&&this.previous.resume(),!m},flush:function(){},processChunk:function(m){this.push(m)},withStreamInfo:function(m,g){return this.extraStreamInfo[m]=g,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var m in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,m)&&(this.streamInfo[m]=this.extraStreamInfo[m])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var m="Worker "+this.name;return this.previous?this.previous+" -> "+m:m}},i.exports=f},{}],29:[function(e,i,c){var f=e("../utils"),m=e("./ConvertWorker"),g=e("./GenericWorker"),Te=e("../base64"),Ie=e("../support"),Oe=e("../external"),Ae=null;if(Ie.nodestream)try{Ae=e("../nodejs/NodejsStreamOutputAdapter")}catch{}function De(qe,Be){return new Oe.Promise(function(Ne,Ve){var Ue=[],We=qe._internalType,He=qe._outputType,Ze=qe._mimeType;qe.on("data",function(ct,at){Ue.push(ct),Be&&Be(at)}).on("error",function(ct){Ue=[],Ve(ct)}).on("end",function(){try{var ct=function(at,gt,yt){switch(at){case"blob":return f.newBlob(f.transformTo("arraybuffer",gt),yt);case"base64":return Te.encode(gt);default:return f.transformTo(at,gt)}}(He,function(at,gt){var yt,tt=0,pt=null,nt=0;for(yt=0;yt<gt.length;yt++)nt+=gt[yt].length;switch(at){case"string":return gt.join("");case"array":return Array.prototype.concat.apply([],gt);case"uint8array":for(pt=new Uint8Array(nt),yt=0;yt<gt.length;yt++)pt.set(gt[yt],tt),tt+=gt[yt].length;return pt;case"nodebuffer":return Buffer.concat(gt);default:throw new Error("concat : unsupported type '"+at+"'")}}(We,Ue),Ze);Ne(ct)}catch(at){Ve(at)}Ue=[]}).resume()})}function _e(qe,Be,Ne){var Ve=Be;switch(Be){case"blob":case"arraybuffer":Ve="uint8array";break;case"base64":Ve="string"}try{this._internalType=Ve,this._outputType=Be,this._mimeType=Ne,f.checkSupport(Ve),this._worker=qe.pipe(new m(Ve)),qe.lock()}catch(Ue){this._worker=new g("error"),this._worker.error(Ue)}}_e.prototype={accumulate:function(qe){return De(this,qe)},on:function(qe,Be){var Ne=this;return qe==="data"?this._worker.on(qe,function(Ve){Be.call(Ne,Ve.data,Ve.meta)}):this._worker.on(qe,function(){f.delay(Be,arguments,Ne)}),this},resume:function(){return f.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(qe){if(f.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new Ae(this,{objectMode:this._outputType!=="nodebuffer"},qe)}},i.exports=_e},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,i,c){if(c.base64=!0,c.array=!0,c.string=!0,c.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",c.nodebuffer=typeof Buffer<"u",c.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")c.blob=!1;else{var f=new ArrayBuffer(0);try{c.blob=new Blob([f],{type:"application/zip"}).size===0}catch{try{var m=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);m.append(f),c.blob=m.getBlob("application/zip").size===0}catch{c.blob=!1}}}try{c.nodestream=!!e("readable-stream").Readable}catch{c.nodestream=!1}},{"readable-stream":16}],31:[function(e,i,c){for(var f=e("./utils"),m=e("./support"),g=e("./nodejsUtils"),Te=e("./stream/GenericWorker"),Ie=new Array(256),Oe=0;Oe<256;Oe++)Ie[Oe]=252<=Oe?6:248<=Oe?5:240<=Oe?4:224<=Oe?3:192<=Oe?2:1;Ie[254]=Ie[254]=1;function Ae(){Te.call(this,"utf-8 decode"),this.leftOver=null}function De(){Te.call(this,"utf-8 encode")}c.utf8encode=function(_e){return m.nodebuffer?g.newBufferFrom(_e,"utf-8"):function(qe){var Be,Ne,Ve,Ue,We,He=qe.length,Ze=0;for(Ue=0;Ue<He;Ue++)(64512&(Ne=qe.charCodeAt(Ue)))==55296&&Ue+1<He&&(64512&(Ve=qe.charCodeAt(Ue+1)))==56320&&(Ne=65536+(Ne-55296<<10)+(Ve-56320),Ue++),Ze+=Ne<128?1:Ne<2048?2:Ne<65536?3:4;for(Be=m.uint8array?new Uint8Array(Ze):new Array(Ze),Ue=We=0;We<Ze;Ue++)(64512&(Ne=qe.charCodeAt(Ue)))==55296&&Ue+1<He&&(64512&(Ve=qe.charCodeAt(Ue+1)))==56320&&(Ne=65536+(Ne-55296<<10)+(Ve-56320),Ue++),Ne<128?Be[We++]=Ne:(Ne<2048?Be[We++]=192|Ne>>>6:(Ne<65536?Be[We++]=224|Ne>>>12:(Be[We++]=240|Ne>>>18,Be[We++]=128|Ne>>>12&63),Be[We++]=128|Ne>>>6&63),Be[We++]=128|63&Ne);return Be}(_e)},c.utf8decode=function(_e){return m.nodebuffer?f.transformTo("nodebuffer",_e).toString("utf-8"):function(qe){var Be,Ne,Ve,Ue,We=qe.length,He=new Array(2*We);for(Be=Ne=0;Be<We;)if((Ve=qe[Be++])<128)He[Ne++]=Ve;else if(4<(Ue=Ie[Ve]))He[Ne++]=65533,Be+=Ue-1;else{for(Ve&=Ue===2?31:Ue===3?15:7;1<Ue&&Be<We;)Ve=Ve<<6|63&qe[Be++],Ue--;1<Ue?He[Ne++]=65533:Ve<65536?He[Ne++]=Ve:(Ve-=65536,He[Ne++]=55296|Ve>>10&1023,He[Ne++]=56320|1023&Ve)}return He.length!==Ne&&(He.subarray?He=He.subarray(0,Ne):He.length=Ne),f.applyFromCharCode(He)}(_e=f.transformTo(m.uint8array?"uint8array":"array",_e))},f.inherits(Ae,Te),Ae.prototype.processChunk=function(_e){var qe=f.transformTo(m.uint8array?"uint8array":"array",_e.data);if(this.leftOver&&this.leftOver.length){if(m.uint8array){var Be=qe;(qe=new Uint8Array(Be.length+this.leftOver.length)).set(this.leftOver,0),qe.set(Be,this.leftOver.length)}else qe=this.leftOver.concat(qe);this.leftOver=null}var Ne=function(Ue,We){var He;for((We=We||Ue.length)>Ue.length&&(We=Ue.length),He=We-1;0<=He&&(192&Ue[He])==128;)He--;return He<0||He===0?We:He+Ie[Ue[He]]>We?He:We}(qe),Ve=qe;Ne!==qe.length&&(m.uint8array?(Ve=qe.subarray(0,Ne),this.leftOver=qe.subarray(Ne,qe.length)):(Ve=qe.slice(0,Ne),this.leftOver=qe.slice(Ne,qe.length))),this.push({data:c.utf8decode(Ve),meta:_e.meta})},Ae.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:c.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},c.Utf8DecodeWorker=Ae,f.inherits(De,Te),De.prototype.processChunk=function(_e){this.push({data:c.utf8encode(_e.data),meta:_e.meta})},c.Utf8EncodeWorker=De},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,i,c){var f=e("./support"),m=e("./base64"),g=e("./nodejsUtils"),Te=e("./external");function Ie(Be){return Be}function Oe(Be,Ne){for(var Ve=0;Ve<Be.length;++Ve)Ne[Ve]=255&Be.charCodeAt(Ve);return Ne}e("setimmediate"),c.newBlob=function(Be,Ne){c.checkSupport("blob");try{return new Blob([Be],{type:Ne})}catch{try{var Ve=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return Ve.append(Be),Ve.getBlob(Ne)}catch{throw new Error("Bug : can't construct the Blob.")}}};var Ae={stringifyByChunk:function(Be,Ne,Ve){var Ue=[],We=0,He=Be.length;if(He<=Ve)return String.fromCharCode.apply(null,Be);for(;We<He;)Ne==="array"||Ne==="nodebuffer"?Ue.push(String.fromCharCode.apply(null,Be.slice(We,Math.min(We+Ve,He)))):Ue.push(String.fromCharCode.apply(null,Be.subarray(We,Math.min(We+Ve,He)))),We+=Ve;return Ue.join("")},stringifyByChar:function(Be){for(var Ne="",Ve=0;Ve<Be.length;Ve++)Ne+=String.fromCharCode(Be[Ve]);return Ne},applyCanBeUsed:{uint8array:function(){try{return f.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return f.nodebuffer&&String.fromCharCode.apply(null,g.allocBuffer(1)).length===1}catch{return!1}}()}};function De(Be){var Ne=65536,Ve=c.getTypeOf(Be),Ue=!0;if(Ve==="uint8array"?Ue=Ae.applyCanBeUsed.uint8array:Ve==="nodebuffer"&&(Ue=Ae.applyCanBeUsed.nodebuffer),Ue)for(;1<Ne;)try{return Ae.stringifyByChunk(Be,Ve,Ne)}catch{Ne=Math.floor(Ne/2)}return Ae.stringifyByChar(Be)}function _e(Be,Ne){for(var Ve=0;Ve<Be.length;Ve++)Ne[Ve]=Be[Ve];return Ne}c.applyFromCharCode=De;var qe={};qe.string={string:Ie,array:function(Be){return Oe(Be,new Array(Be.length))},arraybuffer:function(Be){return qe.string.uint8array(Be).buffer},uint8array:function(Be){return Oe(Be,new Uint8Array(Be.length))},nodebuffer:function(Be){return Oe(Be,g.allocBuffer(Be.length))}},qe.array={string:De,array:Ie,arraybuffer:function(Be){return new Uint8Array(Be).buffer},uint8array:function(Be){return new Uint8Array(Be)},nodebuffer:function(Be){return g.newBufferFrom(Be)}},qe.arraybuffer={string:function(Be){return De(new Uint8Array(Be))},array:function(Be){return _e(new Uint8Array(Be),new Array(Be.byteLength))},arraybuffer:Ie,uint8array:function(Be){return new Uint8Array(Be)},nodebuffer:function(Be){return g.newBufferFrom(new Uint8Array(Be))}},qe.uint8array={string:De,array:function(Be){return _e(Be,new Array(Be.length))},arraybuffer:function(Be){return Be.buffer},uint8array:Ie,nodebuffer:function(Be){return g.newBufferFrom(Be)}},qe.nodebuffer={string:De,array:function(Be){return _e(Be,new Array(Be.length))},arraybuffer:function(Be){return qe.nodebuffer.uint8array(Be).buffer},uint8array:function(Be){return _e(Be,new Uint8Array(Be.length))},nodebuffer:Ie},c.transformTo=function(Be,Ne){if(Ne=Ne||"",!Be)return Ne;c.checkSupport(Be);var Ve=c.getTypeOf(Ne);return qe[Ve][Be](Ne)},c.resolve=function(Be){for(var Ne=Be.split("/"),Ve=[],Ue=0;Ue<Ne.length;Ue++){var We=Ne[Ue];We==="."||We===""&&Ue!==0&&Ue!==Ne.length-1||(We===".."?Ve.pop():Ve.push(We))}return Ve.join("/")},c.getTypeOf=function(Be){return typeof Be=="string"?"string":Object.prototype.toString.call(Be)==="[object Array]"?"array":f.nodebuffer&&g.isBuffer(Be)?"nodebuffer":f.uint8array&&Be instanceof Uint8Array?"uint8array":f.arraybuffer&&Be instanceof ArrayBuffer?"arraybuffer":void 0},c.checkSupport=function(Be){if(!f[Be.toLowerCase()])throw new Error(Be+" is not supported by this platform")},c.MAX_VALUE_16BITS=65535,c.MAX_VALUE_32BITS=-1,c.pretty=function(Be){var Ne,Ve,Ue="";for(Ve=0;Ve<(Be||"").length;Ve++)Ue+="\\x"+((Ne=Be.charCodeAt(Ve))<16?"0":"")+Ne.toString(16).toUpperCase();return Ue},c.delay=function(Be,Ne,Ve){setImmediate(function(){Be.apply(Ve||null,Ne||[])})},c.inherits=function(Be,Ne){function Ve(){}Ve.prototype=Ne.prototype,Be.prototype=new Ve},c.extend=function(){var Be,Ne,Ve={};for(Be=0;Be<arguments.length;Be++)for(Ne in arguments[Be])Object.prototype.hasOwnProperty.call(arguments[Be],Ne)&&Ve[Ne]===void 0&&(Ve[Ne]=arguments[Be][Ne]);return Ve},c.prepareContent=function(Be,Ne,Ve,Ue,We){return Te.Promise.resolve(Ne).then(function(He){return f.blob&&(He instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(He))!==-1)&&typeof FileReader<"u"?new Te.Promise(function(Ze,ct){var at=new FileReader;at.onload=function(gt){Ze(gt.target.result)},at.onerror=function(gt){ct(gt.target.error)},at.readAsArrayBuffer(He)}):He}).then(function(He){var Ze=c.getTypeOf(He);return Ze?(Ze==="arraybuffer"?He=c.transformTo("uint8array",He):Ze==="string"&&(We?He=m.decode(He):Ve&&Ue!==!0&&(He=function(ct){return Oe(ct,f.uint8array?new Uint8Array(ct.length):new Array(ct.length))}(He))),He):Te.Promise.reject(new Error("Can't read the data of '"+Be+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,i,c){var f=e("./reader/readerFor"),m=e("./utils"),g=e("./signature"),Te=e("./zipEntry"),Ie=e("./support");function Oe(Ae){this.files=[],this.loadOptions=Ae}Oe.prototype={checkSignature:function(Ae){if(!this.reader.readAndCheckSignature(Ae)){this.reader.index-=4;var De=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+m.pretty(De)+", expected "+m.pretty(Ae)+")")}},isSignature:function(Ae,De){var _e=this.reader.index;this.reader.setIndex(Ae);var qe=this.reader.readString(4)===De;return this.reader.setIndex(_e),qe},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var Ae=this.reader.readData(this.zipCommentLength),De=Ie.uint8array?"uint8array":"array",_e=m.transformTo(De,Ae);this.zipComment=this.loadOptions.decodeFileName(_e)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var Ae,De,_e,qe=this.zip64EndOfCentralSize-44;0<qe;)Ae=this.reader.readInt(2),De=this.reader.readInt(4),_e=this.reader.readData(De),this.zip64ExtensibleData[Ae]={id:Ae,length:De,value:_e}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var Ae,De;for(Ae=0;Ae<this.files.length;Ae++)De=this.files[Ae],this.reader.setIndex(De.localHeaderOffset),this.checkSignature(g.LOCAL_FILE_HEADER),De.readLocalPart(this.reader),De.handleUTF8(),De.processAttributes()},readCentralDir:function(){var Ae;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(g.CENTRAL_FILE_HEADER);)(Ae=new Te({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(Ae);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var Ae=this.reader.lastIndexOfSignature(g.CENTRAL_DIRECTORY_END);if(Ae<0)throw this.isSignature(0,g.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(Ae);var De=Ae;if(this.checkSignature(g.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===m.MAX_VALUE_16BITS||this.diskWithCentralDirStart===m.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===m.MAX_VALUE_16BITS||this.centralDirRecords===m.MAX_VALUE_16BITS||this.centralDirSize===m.MAX_VALUE_32BITS||this.centralDirOffset===m.MAX_VALUE_32BITS){if(this.zip64=!0,(Ae=this.reader.lastIndexOfSignature(g.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(Ae),this.checkSignature(g.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,g.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(g.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(g.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var _e=this.centralDirOffset+this.centralDirSize;this.zip64&&(_e+=20,_e+=12+this.zip64EndOfCentralSize);var qe=De-_e;if(0<qe)this.isSignature(De,g.CENTRAL_FILE_HEADER)||(this.reader.zero=qe);else if(qe<0)throw new Error("Corrupted zip: missing "+Math.abs(qe)+" bytes.")},prepareReader:function(Ae){this.reader=f(Ae)},load:function(Ae){this.prepareReader(Ae),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=Oe},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,i,c){var f=e("./reader/readerFor"),m=e("./utils"),g=e("./compressedObject"),Te=e("./crc32"),Ie=e("./utf8"),Oe=e("./compressions"),Ae=e("./support");function De(_e,qe){this.options=_e,this.loadOptions=qe}De.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(_e){var qe,Be;if(_e.skip(22),this.fileNameLength=_e.readInt(2),Be=_e.readInt(2),this.fileName=_e.readData(this.fileNameLength),_e.skip(Be),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((qe=function(Ne){for(var Ve in Oe)if(Object.prototype.hasOwnProperty.call(Oe,Ve)&&Oe[Ve].magic===Ne)return Oe[Ve];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+m.pretty(this.compressionMethod)+" unknown (inner file : "+m.transformTo("string",this.fileName)+")");this.decompressed=new g(this.compressedSize,this.uncompressedSize,this.crc32,qe,_e.readData(this.compressedSize))},readCentralPart:function(_e){this.versionMadeBy=_e.readInt(2),_e.skip(2),this.bitFlag=_e.readInt(2),this.compressionMethod=_e.readString(2),this.date=_e.readDate(),this.crc32=_e.readInt(4),this.compressedSize=_e.readInt(4),this.uncompressedSize=_e.readInt(4);var qe=_e.readInt(2);if(this.extraFieldsLength=_e.readInt(2),this.fileCommentLength=_e.readInt(2),this.diskNumberStart=_e.readInt(2),this.internalFileAttributes=_e.readInt(2),this.externalFileAttributes=_e.readInt(4),this.localHeaderOffset=_e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");_e.skip(qe),this.readExtraFields(_e),this.parseZIP64ExtraField(_e),this.fileComment=_e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var _e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),_e==0&&(this.dosPermissions=63&this.externalFileAttributes),_e==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var _e=f(this.extraFields[1].value);this.uncompressedSize===m.MAX_VALUE_32BITS&&(this.uncompressedSize=_e.readInt(8)),this.compressedSize===m.MAX_VALUE_32BITS&&(this.compressedSize=_e.readInt(8)),this.localHeaderOffset===m.MAX_VALUE_32BITS&&(this.localHeaderOffset=_e.readInt(8)),this.diskNumberStart===m.MAX_VALUE_32BITS&&(this.diskNumberStart=_e.readInt(4))}},readExtraFields:function(_e){var qe,Be,Ne,Ve=_e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});_e.index+4<Ve;)qe=_e.readInt(2),Be=_e.readInt(2),Ne=_e.readData(Be),this.extraFields[qe]={id:qe,length:Be,value:Ne};_e.setIndex(Ve)},handleUTF8:function(){var _e=Ae.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=Ie.utf8decode(this.fileName),this.fileCommentStr=Ie.utf8decode(this.fileComment);else{var qe=this.findExtraFieldUnicodePath();if(qe!==null)this.fileNameStr=qe;else{var Be=m.transformTo(_e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(Be)}var Ne=this.findExtraFieldUnicodeComment();if(Ne!==null)this.fileCommentStr=Ne;else{var Ve=m.transformTo(_e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(Ve)}}},findExtraFieldUnicodePath:function(){var _e=this.extraFields[28789];if(_e){var qe=f(_e.value);return qe.readInt(1)!==1||Te(this.fileName)!==qe.readInt(4)?null:Ie.utf8decode(qe.readData(_e.length-5))}return null},findExtraFieldUnicodeComment:function(){var _e=this.extraFields[25461];if(_e){var qe=f(_e.value);return qe.readInt(1)!==1||Te(this.fileComment)!==qe.readInt(4)?null:Ie.utf8decode(qe.readData(_e.length-5))}return null}},i.exports=De},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,i,c){function f(qe,Be,Ne){this.name=qe,this.dir=Ne.dir,this.date=Ne.date,this.comment=Ne.comment,this.unixPermissions=Ne.unixPermissions,this.dosPermissions=Ne.dosPermissions,this._data=Be,this._dataBinary=Ne.binary,this.options={compression:Ne.compression,compressionOptions:Ne.compressionOptions}}var m=e("./stream/StreamHelper"),g=e("./stream/DataWorker"),Te=e("./utf8"),Ie=e("./compressedObject"),Oe=e("./stream/GenericWorker");f.prototype={internalStream:function(qe){var Be=null,Ne="string";try{if(!qe)throw new Error("No output type specified.");var Ve=(Ne=qe.toLowerCase())==="string"||Ne==="text";Ne!=="binarystring"&&Ne!=="text"||(Ne="string"),Be=this._decompressWorker();var Ue=!this._dataBinary;Ue&&!Ve&&(Be=Be.pipe(new Te.Utf8EncodeWorker)),!Ue&&Ve&&(Be=Be.pipe(new Te.Utf8DecodeWorker))}catch(We){(Be=new Oe("error")).error(We)}return new m(Be,Ne,"")},async:function(qe,Be){return this.internalStream(qe).accumulate(Be)},nodeStream:function(qe,Be){return this.internalStream(qe||"nodebuffer").toNodejsStream(Be)},_compressWorker:function(qe,Be){if(this._data instanceof Ie&&this._data.compression.magic===qe.magic)return this._data.getCompressedWorker();var Ne=this._decompressWorker();return this._dataBinary||(Ne=Ne.pipe(new Te.Utf8EncodeWorker)),Ie.createWorkerFrom(Ne,qe,Be)},_decompressWorker:function(){return this._data instanceof Ie?this._data.getContentWorker():this._data instanceof Oe?this._data:new g(this._data)}};for(var Ae=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],De=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},_e=0;_e<Ae.length;_e++)f.prototype[Ae[_e]]=De;i.exports=f},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,i,c){(function(f){var m,g,Te=f.MutationObserver||f.WebKitMutationObserver;if(Te){var Ie=0,Oe=new Te(qe),Ae=f.document.createTextNode("");Oe.observe(Ae,{characterData:!0}),m=function(){Ae.data=Ie=++Ie%2}}else if(f.setImmediate||f.MessageChannel===void 0)m="document"in f&&"onreadystatechange"in f.document.createElement("script")?function(){var Be=f.document.createElement("script");Be.onreadystatechange=function(){qe(),Be.onreadystatechange=null,Be.parentNode.removeChild(Be),Be=null},f.document.documentElement.appendChild(Be)}:function(){setTimeout(qe,0)};else{var De=new f.MessageChannel;De.port1.onmessage=qe,m=function(){De.port2.postMessage(0)}}var _e=[];function qe(){var Be,Ne;g=!0;for(var Ve=_e.length;Ve;){for(Ne=_e,_e=[],Be=-1;++Be<Ve;)Ne[Be]();Ve=_e.length}g=!1}i.exports=function(Be){_e.push(Be)!==1||g||m()}}).call(this,typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(e,i,c){var f=e("immediate");function m(){}var g={},Te=["REJECTED"],Ie=["FULFILLED"],Oe=["PENDING"];function Ae(Ve){if(typeof Ve!="function")throw new TypeError("resolver must be a function");this.state=Oe,this.queue=[],this.outcome=void 0,Ve!==m&&Be(this,Ve)}function De(Ve,Ue,We){this.promise=Ve,typeof Ue=="function"&&(this.onFulfilled=Ue,this.callFulfilled=this.otherCallFulfilled),typeof We=="function"&&(this.onRejected=We,this.callRejected=this.otherCallRejected)}function _e(Ve,Ue,We){f(function(){var He;try{He=Ue(We)}catch(Ze){return g.reject(Ve,Ze)}He===Ve?g.reject(Ve,new TypeError("Cannot resolve promise with itself")):g.resolve(Ve,He)})}function qe(Ve){var Ue=Ve&&Ve.then;if(Ve&&(typeof Ve=="object"||typeof Ve=="function")&&typeof Ue=="function")return function(){Ue.apply(Ve,arguments)}}function Be(Ve,Ue){var We=!1;function He(at){We||(We=!0,g.reject(Ve,at))}function Ze(at){We||(We=!0,g.resolve(Ve,at))}var ct=Ne(function(){Ue(Ze,He)});ct.status==="error"&&He(ct.value)}function Ne(Ve,Ue){var We={};try{We.value=Ve(Ue),We.status="success"}catch(He){We.status="error",We.value=He}return We}(i.exports=Ae).prototype.finally=function(Ve){if(typeof Ve!="function")return this;var Ue=this.constructor;return this.then(function(We){return Ue.resolve(Ve()).then(function(){return We})},function(We){return Ue.resolve(Ve()).then(function(){throw We})})},Ae.prototype.catch=function(Ve){return this.then(null,Ve)},Ae.prototype.then=function(Ve,Ue){if(typeof Ve!="function"&&this.state===Ie||typeof Ue!="function"&&this.state===Te)return this;var We=new this.constructor(m);return this.state!==Oe?_e(We,this.state===Ie?Ve:Ue,this.outcome):this.queue.push(new De(We,Ve,Ue)),We},De.prototype.callFulfilled=function(Ve){g.resolve(this.promise,Ve)},De.prototype.otherCallFulfilled=function(Ve){_e(this.promise,this.onFulfilled,Ve)},De.prototype.callRejected=function(Ve){g.reject(this.promise,Ve)},De.prototype.otherCallRejected=function(Ve){_e(this.promise,this.onRejected,Ve)},g.resolve=function(Ve,Ue){var We=Ne(qe,Ue);if(We.status==="error")return g.reject(Ve,We.value);var He=We.value;if(He)Be(Ve,He);else{Ve.state=Ie,Ve.outcome=Ue;for(var Ze=-1,ct=Ve.queue.length;++Ze<ct;)Ve.queue[Ze].callFulfilled(Ue)}return Ve},g.reject=function(Ve,Ue){Ve.state=Te,Ve.outcome=Ue;for(var We=-1,He=Ve.queue.length;++We<He;)Ve.queue[We].callRejected(Ue);return Ve},Ae.resolve=function(Ve){return Ve instanceof this?Ve:g.resolve(new this(m),Ve)},Ae.reject=function(Ve){var Ue=new this(m);return g.reject(Ue,Ve)},Ae.all=function(Ve){var Ue=this;if(Object.prototype.toString.call(Ve)!=="[object Array]")return this.reject(new TypeError("must be an array"));var We=Ve.length,He=!1;if(!We)return this.resolve([]);for(var Ze=new Array(We),ct=0,at=-1,gt=new this(m);++at<We;)yt(Ve[at],at);return gt;function yt(tt,pt){Ue.resolve(tt).then(function(nt){Ze[pt]=nt,++ct!==We||He||(He=!0,g.resolve(gt,Ze))},function(nt){He||(He=!0,g.reject(gt,nt))})}},Ae.race=function(Ve){var Ue=this;if(Object.prototype.toString.call(Ve)!=="[object Array]")return this.reject(new TypeError("must be an array"));var We=Ve.length,He=!1;if(!We)return this.resolve([]);for(var Ze=-1,ct=new this(m);++Ze<We;)at=Ve[Ze],Ue.resolve(at).then(function(gt){He||(He=!0,g.resolve(ct,gt))},function(gt){He||(He=!0,g.reject(ct,gt))});var at;return ct}},{immediate:36}],38:[function(e,i,c){var f={};(0,e("./lib/utils/common").assign)(f,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),i.exports=f},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,i,c){var f=e("./zlib/deflate"),m=e("./utils/common"),g=e("./utils/strings"),Te=e("./zlib/messages"),Ie=e("./zlib/zstream"),Oe=Object.prototype.toString,Ae=0,De=-1,_e=0,qe=8;function Be(Ve){if(!(this instanceof Be))return new Be(Ve);this.options=m.assign({level:De,method:qe,chunkSize:16384,windowBits:15,memLevel:8,strategy:_e,to:""},Ve||{});var Ue=this.options;Ue.raw&&0<Ue.windowBits?Ue.windowBits=-Ue.windowBits:Ue.gzip&&0<Ue.windowBits&&Ue.windowBits<16&&(Ue.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ie,this.strm.avail_out=0;var We=f.deflateInit2(this.strm,Ue.level,Ue.method,Ue.windowBits,Ue.memLevel,Ue.strategy);if(We!==Ae)throw new Error(Te[We]);if(Ue.header&&f.deflateSetHeader(this.strm,Ue.header),Ue.dictionary){var He;if(He=typeof Ue.dictionary=="string"?g.string2buf(Ue.dictionary):Oe.call(Ue.dictionary)==="[object ArrayBuffer]"?new Uint8Array(Ue.dictionary):Ue.dictionary,(We=f.deflateSetDictionary(this.strm,He))!==Ae)throw new Error(Te[We]);this._dict_set=!0}}function Ne(Ve,Ue){var We=new Be(Ue);if(We.push(Ve,!0),We.err)throw We.msg||Te[We.err];return We.result}Be.prototype.push=function(Ve,Ue){var We,He,Ze=this.strm,ct=this.options.chunkSize;if(this.ended)return!1;He=Ue===~~Ue?Ue:Ue===!0?4:0,typeof Ve=="string"?Ze.input=g.string2buf(Ve):Oe.call(Ve)==="[object ArrayBuffer]"?Ze.input=new Uint8Array(Ve):Ze.input=Ve,Ze.next_in=0,Ze.avail_in=Ze.input.length;do{if(Ze.avail_out===0&&(Ze.output=new m.Buf8(ct),Ze.next_out=0,Ze.avail_out=ct),(We=f.deflate(Ze,He))!==1&&We!==Ae)return this.onEnd(We),!(this.ended=!0);Ze.avail_out!==0&&(Ze.avail_in!==0||He!==4&&He!==2)||(this.options.to==="string"?this.onData(g.buf2binstring(m.shrinkBuf(Ze.output,Ze.next_out))):this.onData(m.shrinkBuf(Ze.output,Ze.next_out)))}while((0<Ze.avail_in||Ze.avail_out===0)&&We!==1);return He===4?(We=f.deflateEnd(this.strm),this.onEnd(We),this.ended=!0,We===Ae):He!==2||(this.onEnd(Ae),!(Ze.avail_out=0))},Be.prototype.onData=function(Ve){this.chunks.push(Ve)},Be.prototype.onEnd=function(Ve){Ve===Ae&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=Ve,this.msg=this.strm.msg},c.Deflate=Be,c.deflate=Ne,c.deflateRaw=function(Ve,Ue){return(Ue=Ue||{}).raw=!0,Ne(Ve,Ue)},c.gzip=function(Ve,Ue){return(Ue=Ue||{}).gzip=!0,Ne(Ve,Ue)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,i,c){var f=e("./zlib/inflate"),m=e("./utils/common"),g=e("./utils/strings"),Te=e("./zlib/constants"),Ie=e("./zlib/messages"),Oe=e("./zlib/zstream"),Ae=e("./zlib/gzheader"),De=Object.prototype.toString;function _e(Be){if(!(this instanceof _e))return new _e(Be);this.options=m.assign({chunkSize:16384,windowBits:0,to:""},Be||{});var Ne=this.options;Ne.raw&&0<=Ne.windowBits&&Ne.windowBits<16&&(Ne.windowBits=-Ne.windowBits,Ne.windowBits===0&&(Ne.windowBits=-15)),!(0<=Ne.windowBits&&Ne.windowBits<16)||Be&&Be.windowBits||(Ne.windowBits+=32),15<Ne.windowBits&&Ne.windowBits<48&&!(15&Ne.windowBits)&&(Ne.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Oe,this.strm.avail_out=0;var Ve=f.inflateInit2(this.strm,Ne.windowBits);if(Ve!==Te.Z_OK)throw new Error(Ie[Ve]);this.header=new Ae,f.inflateGetHeader(this.strm,this.header)}function qe(Be,Ne){var Ve=new _e(Ne);if(Ve.push(Be,!0),Ve.err)throw Ve.msg||Ie[Ve.err];return Ve.result}_e.prototype.push=function(Be,Ne){var Ve,Ue,We,He,Ze,ct,at=this.strm,gt=this.options.chunkSize,yt=this.options.dictionary,tt=!1;if(this.ended)return!1;Ue=Ne===~~Ne?Ne:Ne===!0?Te.Z_FINISH:Te.Z_NO_FLUSH,typeof Be=="string"?at.input=g.binstring2buf(Be):De.call(Be)==="[object ArrayBuffer]"?at.input=new Uint8Array(Be):at.input=Be,at.next_in=0,at.avail_in=at.input.length;do{if(at.avail_out===0&&(at.output=new m.Buf8(gt),at.next_out=0,at.avail_out=gt),(Ve=f.inflate(at,Te.Z_NO_FLUSH))===Te.Z_NEED_DICT&&yt&&(ct=typeof yt=="string"?g.string2buf(yt):De.call(yt)==="[object ArrayBuffer]"?new Uint8Array(yt):yt,Ve=f.inflateSetDictionary(this.strm,ct)),Ve===Te.Z_BUF_ERROR&&tt===!0&&(Ve=Te.Z_OK,tt=!1),Ve!==Te.Z_STREAM_END&&Ve!==Te.Z_OK)return this.onEnd(Ve),!(this.ended=!0);at.next_out&&(at.avail_out!==0&&Ve!==Te.Z_STREAM_END&&(at.avail_in!==0||Ue!==Te.Z_FINISH&&Ue!==Te.Z_SYNC_FLUSH)||(this.options.to==="string"?(We=g.utf8border(at.output,at.next_out),He=at.next_out-We,Ze=g.buf2string(at.output,We),at.next_out=He,at.avail_out=gt-He,He&&m.arraySet(at.output,at.output,We,He,0),this.onData(Ze)):this.onData(m.shrinkBuf(at.output,at.next_out)))),at.avail_in===0&&at.avail_out===0&&(tt=!0)}while((0<at.avail_in||at.avail_out===0)&&Ve!==Te.Z_STREAM_END);return Ve===Te.Z_STREAM_END&&(Ue=Te.Z_FINISH),Ue===Te.Z_FINISH?(Ve=f.inflateEnd(this.strm),this.onEnd(Ve),this.ended=!0,Ve===Te.Z_OK):Ue!==Te.Z_SYNC_FLUSH||(this.onEnd(Te.Z_OK),!(at.avail_out=0))},_e.prototype.onData=function(Be){this.chunks.push(Be)},_e.prototype.onEnd=function(Be){Be===Te.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=Be,this.msg=this.strm.msg},c.Inflate=_e,c.inflate=qe,c.inflateRaw=function(Be,Ne){return(Ne=Ne||{}).raw=!0,qe(Be,Ne)},c.ungzip=qe},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,i,c){var f=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";c.assign=function(Te){for(var Ie=Array.prototype.slice.call(arguments,1);Ie.length;){var Oe=Ie.shift();if(Oe){if(typeof Oe!="object")throw new TypeError(Oe+"must be non-object");for(var Ae in Oe)Oe.hasOwnProperty(Ae)&&(Te[Ae]=Oe[Ae])}}return Te},c.shrinkBuf=function(Te,Ie){return Te.length===Ie?Te:Te.subarray?Te.subarray(0,Ie):(Te.length=Ie,Te)};var m={arraySet:function(Te,Ie,Oe,Ae,De){if(Ie.subarray&&Te.subarray)Te.set(Ie.subarray(Oe,Oe+Ae),De);else for(var _e=0;_e<Ae;_e++)Te[De+_e]=Ie[Oe+_e]},flattenChunks:function(Te){var Ie,Oe,Ae,De,_e,qe;for(Ie=Ae=0,Oe=Te.length;Ie<Oe;Ie++)Ae+=Te[Ie].length;for(qe=new Uint8Array(Ae),Ie=De=0,Oe=Te.length;Ie<Oe;Ie++)_e=Te[Ie],qe.set(_e,De),De+=_e.length;return qe}},g={arraySet:function(Te,Ie,Oe,Ae,De){for(var _e=0;_e<Ae;_e++)Te[De+_e]=Ie[Oe+_e]},flattenChunks:function(Te){return[].concat.apply([],Te)}};c.setTyped=function(Te){Te?(c.Buf8=Uint8Array,c.Buf16=Uint16Array,c.Buf32=Int32Array,c.assign(c,m)):(c.Buf8=Array,c.Buf16=Array,c.Buf32=Array,c.assign(c,g))},c.setTyped(f)},{}],42:[function(e,i,c){var f=e("./common"),m=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch{m=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{g=!1}for(var Te=new f.Buf8(256),Ie=0;Ie<256;Ie++)Te[Ie]=252<=Ie?6:248<=Ie?5:240<=Ie?4:224<=Ie?3:192<=Ie?2:1;function Oe(Ae,De){if(De<65537&&(Ae.subarray&&g||!Ae.subarray&&m))return String.fromCharCode.apply(null,f.shrinkBuf(Ae,De));for(var _e="",qe=0;qe<De;qe++)_e+=String.fromCharCode(Ae[qe]);return _e}Te[254]=Te[254]=1,c.string2buf=function(Ae){var De,_e,qe,Be,Ne,Ve=Ae.length,Ue=0;for(Be=0;Be<Ve;Be++)(64512&(_e=Ae.charCodeAt(Be)))==55296&&Be+1<Ve&&(64512&(qe=Ae.charCodeAt(Be+1)))==56320&&(_e=65536+(_e-55296<<10)+(qe-56320),Be++),Ue+=_e<128?1:_e<2048?2:_e<65536?3:4;for(De=new f.Buf8(Ue),Be=Ne=0;Ne<Ue;Be++)(64512&(_e=Ae.charCodeAt(Be)))==55296&&Be+1<Ve&&(64512&(qe=Ae.charCodeAt(Be+1)))==56320&&(_e=65536+(_e-55296<<10)+(qe-56320),Be++),_e<128?De[Ne++]=_e:(_e<2048?De[Ne++]=192|_e>>>6:(_e<65536?De[Ne++]=224|_e>>>12:(De[Ne++]=240|_e>>>18,De[Ne++]=128|_e>>>12&63),De[Ne++]=128|_e>>>6&63),De[Ne++]=128|63&_e);return De},c.buf2binstring=function(Ae){return Oe(Ae,Ae.length)},c.binstring2buf=function(Ae){for(var De=new f.Buf8(Ae.length),_e=0,qe=De.length;_e<qe;_e++)De[_e]=Ae.charCodeAt(_e);return De},c.buf2string=function(Ae,De){var _e,qe,Be,Ne,Ve=De||Ae.length,Ue=new Array(2*Ve);for(_e=qe=0;_e<Ve;)if((Be=Ae[_e++])<128)Ue[qe++]=Be;else if(4<(Ne=Te[Be]))Ue[qe++]=65533,_e+=Ne-1;else{for(Be&=Ne===2?31:Ne===3?15:7;1<Ne&&_e<Ve;)Be=Be<<6|63&Ae[_e++],Ne--;1<Ne?Ue[qe++]=65533:Be<65536?Ue[qe++]=Be:(Be-=65536,Ue[qe++]=55296|Be>>10&1023,Ue[qe++]=56320|1023&Be)}return Oe(Ue,qe)},c.utf8border=function(Ae,De){var _e;for((De=De||Ae.length)>Ae.length&&(De=Ae.length),_e=De-1;0<=_e&&(192&Ae[_e])==128;)_e--;return _e<0||_e===0?De:_e+Te[Ae[_e]]>De?_e:De}},{"./common":41}],43:[function(e,i,c){i.exports=function(f,m,g,Te){for(var Ie=65535&f|0,Oe=f>>>16&65535|0,Ae=0;g!==0;){for(g-=Ae=2e3<g?2e3:g;Oe=Oe+(Ie=Ie+m[Te++]|0)|0,--Ae;);Ie%=65521,Oe%=65521}return Ie|Oe<<16|0}},{}],44:[function(e,i,c){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,i,c){var f=function(){for(var m,g=[],Te=0;Te<256;Te++){m=Te;for(var Ie=0;Ie<8;Ie++)m=1&m?3988292384^m>>>1:m>>>1;g[Te]=m}return g}();i.exports=function(m,g,Te,Ie){var Oe=f,Ae=Ie+Te;m^=-1;for(var De=Ie;De<Ae;De++)m=m>>>8^Oe[255&(m^g[De])];return-1^m}},{}],46:[function(e,i,c){var f,m=e("../utils/common"),g=e("./trees"),Te=e("./adler32"),Ie=e("./crc32"),Oe=e("./messages"),Ae=0,De=4,_e=0,qe=-2,Be=-1,Ne=4,Ve=2,Ue=8,We=9,He=286,Ze=30,ct=19,at=2*He+1,gt=15,yt=3,tt=258,pt=tt+yt+1,nt=42,mt=113,Xe=1,Ft=2,Zt=3,zt=4;function cr(Qe,It){return Qe.msg=Oe[It],It}function Et(Qe){return(Qe<<1)-(4<Qe?9:0)}function St(Qe){for(var It=Qe.length;0<=--It;)Qe[It]=0}function st(Qe){var It=Qe.state,Ht=It.pending;Ht>Qe.avail_out&&(Ht=Qe.avail_out),Ht!==0&&(m.arraySet(Qe.output,It.pending_buf,It.pending_out,Ht,Qe.next_out),Qe.next_out+=Ht,It.pending_out+=Ht,Qe.total_out+=Ht,Qe.avail_out-=Ht,It.pending-=Ht,It.pending===0&&(It.pending_out=0))}function dt(Qe,It){g._tr_flush_block(Qe,0<=Qe.block_start?Qe.block_start:-1,Qe.strstart-Qe.block_start,It),Qe.block_start=Qe.strstart,st(Qe.strm)}function Bt(Qe,It){Qe.pending_buf[Qe.pending++]=It}function At(Qe,It){Qe.pending_buf[Qe.pending++]=It>>>8&255,Qe.pending_buf[Qe.pending++]=255&It}function Kt(Qe,It){var Ht,ht,xt=Qe.max_chain_length,Rt=Qe.strstart,er=Qe.prev_length,rt=Qe.nice_match,je=Qe.strstart>Qe.w_size-pt?Qe.strstart-(Qe.w_size-pt):0,Ke=Qe.window,ut=Qe.w_mask,vt=Qe.prev,Ct=Qe.strstart+tt,Lt=Ke[Rt+er-1],sr=Ke[Rt+er];Qe.prev_length>=Qe.good_match&&(xt>>=2),rt>Qe.lookahead&&(rt=Qe.lookahead);do if(Ke[(Ht=It)+er]===sr&&Ke[Ht+er-1]===Lt&&Ke[Ht]===Ke[Rt]&&Ke[++Ht]===Ke[Rt+1]){Rt+=2,Ht++;do;while(Ke[++Rt]===Ke[++Ht]&&Ke[++Rt]===Ke[++Ht]&&Ke[++Rt]===Ke[++Ht]&&Ke[++Rt]===Ke[++Ht]&&Ke[++Rt]===Ke[++Ht]&&Ke[++Rt]===Ke[++Ht]&&Ke[++Rt]===Ke[++Ht]&&Ke[++Rt]===Ke[++Ht]&&Rt<Ct);if(ht=tt-(Ct-Rt),Rt=Ct-tt,er<ht){if(Qe.match_start=It,rt<=(er=ht))break;Lt=Ke[Rt+er-1],sr=Ke[Rt+er]}}while((It=vt[It&ut])>je&&--xt!=0);return er<=Qe.lookahead?er:Qe.lookahead}function fr(Qe){var It,Ht,ht,xt,Rt,er,rt,je,Ke,ut,vt=Qe.w_size;do{if(xt=Qe.window_size-Qe.lookahead-Qe.strstart,Qe.strstart>=vt+(vt-pt)){for(m.arraySet(Qe.window,Qe.window,vt,vt,0),Qe.match_start-=vt,Qe.strstart-=vt,Qe.block_start-=vt,It=Ht=Qe.hash_size;ht=Qe.head[--It],Qe.head[It]=vt<=ht?ht-vt:0,--Ht;);for(It=Ht=vt;ht=Qe.prev[--It],Qe.prev[It]=vt<=ht?ht-vt:0,--Ht;);xt+=vt}if(Qe.strm.avail_in===0)break;if(er=Qe.strm,rt=Qe.window,je=Qe.strstart+Qe.lookahead,Ke=xt,ut=void 0,ut=er.avail_in,Ke<ut&&(ut=Ke),Ht=ut===0?0:(er.avail_in-=ut,m.arraySet(rt,er.input,er.next_in,ut,je),er.state.wrap===1?er.adler=Te(er.adler,rt,ut,je):er.state.wrap===2&&(er.adler=Ie(er.adler,rt,ut,je)),er.next_in+=ut,er.total_in+=ut,ut),Qe.lookahead+=Ht,Qe.lookahead+Qe.insert>=yt)for(Rt=Qe.strstart-Qe.insert,Qe.ins_h=Qe.window[Rt],Qe.ins_h=(Qe.ins_h<<Qe.hash_shift^Qe.window[Rt+1])&Qe.hash_mask;Qe.insert&&(Qe.ins_h=(Qe.ins_h<<Qe.hash_shift^Qe.window[Rt+yt-1])&Qe.hash_mask,Qe.prev[Rt&Qe.w_mask]=Qe.head[Qe.ins_h],Qe.head[Qe.ins_h]=Rt,Rt++,Qe.insert--,!(Qe.lookahead+Qe.insert<yt)););}while(Qe.lookahead<pt&&Qe.strm.avail_in!==0)}function Dr(Qe,It){for(var Ht,ht;;){if(Qe.lookahead<pt){if(fr(Qe),Qe.lookahead<pt&&It===Ae)return Xe;if(Qe.lookahead===0)break}if(Ht=0,Qe.lookahead>=yt&&(Qe.ins_h=(Qe.ins_h<<Qe.hash_shift^Qe.window[Qe.strstart+yt-1])&Qe.hash_mask,Ht=Qe.prev[Qe.strstart&Qe.w_mask]=Qe.head[Qe.ins_h],Qe.head[Qe.ins_h]=Qe.strstart),Ht!==0&&Qe.strstart-Ht<=Qe.w_size-pt&&(Qe.match_length=Kt(Qe,Ht)),Qe.match_length>=yt)if(ht=g._tr_tally(Qe,Qe.strstart-Qe.match_start,Qe.match_length-yt),Qe.lookahead-=Qe.match_length,Qe.match_length<=Qe.max_lazy_match&&Qe.lookahead>=yt){for(Qe.match_length--;Qe.strstart++,Qe.ins_h=(Qe.ins_h<<Qe.hash_shift^Qe.window[Qe.strstart+yt-1])&Qe.hash_mask,Ht=Qe.prev[Qe.strstart&Qe.w_mask]=Qe.head[Qe.ins_h],Qe.head[Qe.ins_h]=Qe.strstart,--Qe.match_length!=0;);Qe.strstart++}else Qe.strstart+=Qe.match_length,Qe.match_length=0,Qe.ins_h=Qe.window[Qe.strstart],Qe.ins_h=(Qe.ins_h<<Qe.hash_shift^Qe.window[Qe.strstart+1])&Qe.hash_mask;else ht=g._tr_tally(Qe,0,Qe.window[Qe.strstart]),Qe.lookahead--,Qe.strstart++;if(ht&&(dt(Qe,!1),Qe.strm.avail_out===0))return Xe}return Qe.insert=Qe.strstart<yt-1?Qe.strstart:yt-1,It===De?(dt(Qe,!0),Qe.strm.avail_out===0?Zt:zt):Qe.last_lit&&(dt(Qe,!1),Qe.strm.avail_out===0)?Xe:Ft}function or(Qe,It){for(var Ht,ht,xt;;){if(Qe.lookahead<pt){if(fr(Qe),Qe.lookahead<pt&&It===Ae)return Xe;if(Qe.lookahead===0)break}if(Ht=0,Qe.lookahead>=yt&&(Qe.ins_h=(Qe.ins_h<<Qe.hash_shift^Qe.window[Qe.strstart+yt-1])&Qe.hash_mask,Ht=Qe.prev[Qe.strstart&Qe.w_mask]=Qe.head[Qe.ins_h],Qe.head[Qe.ins_h]=Qe.strstart),Qe.prev_length=Qe.match_length,Qe.prev_match=Qe.match_start,Qe.match_length=yt-1,Ht!==0&&Qe.prev_length<Qe.max_lazy_match&&Qe.strstart-Ht<=Qe.w_size-pt&&(Qe.match_length=Kt(Qe,Ht),Qe.match_length<=5&&(Qe.strategy===1||Qe.match_length===yt&&4096<Qe.strstart-Qe.match_start)&&(Qe.match_length=yt-1)),Qe.prev_length>=yt&&Qe.match_length<=Qe.prev_length){for(xt=Qe.strstart+Qe.lookahead-yt,ht=g._tr_tally(Qe,Qe.strstart-1-Qe.prev_match,Qe.prev_length-yt),Qe.lookahead-=Qe.prev_length-1,Qe.prev_length-=2;++Qe.strstart<=xt&&(Qe.ins_h=(Qe.ins_h<<Qe.hash_shift^Qe.window[Qe.strstart+yt-1])&Qe.hash_mask,Ht=Qe.prev[Qe.strstart&Qe.w_mask]=Qe.head[Qe.ins_h],Qe.head[Qe.ins_h]=Qe.strstart),--Qe.prev_length!=0;);if(Qe.match_available=0,Qe.match_length=yt-1,Qe.strstart++,ht&&(dt(Qe,!1),Qe.strm.avail_out===0))return Xe}else if(Qe.match_available){if((ht=g._tr_tally(Qe,0,Qe.window[Qe.strstart-1]))&&dt(Qe,!1),Qe.strstart++,Qe.lookahead--,Qe.strm.avail_out===0)return Xe}else Qe.match_available=1,Qe.strstart++,Qe.lookahead--}return Qe.match_available&&(ht=g._tr_tally(Qe,0,Qe.window[Qe.strstart-1]),Qe.match_available=0),Qe.insert=Qe.strstart<yt-1?Qe.strstart:yt-1,It===De?(dt(Qe,!0),Qe.strm.avail_out===0?Zt:zt):Qe.last_lit&&(dt(Qe,!1),Qe.strm.avail_out===0)?Xe:Ft}function lt(Qe,It,Ht,ht,xt){this.good_length=Qe,this.max_lazy=It,this.nice_length=Ht,this.max_chain=ht,this.func=xt}function bt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ue,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new m.Buf16(2*at),this.dyn_dtree=new m.Buf16(2*(2*Ze+1)),this.bl_tree=new m.Buf16(2*(2*ct+1)),St(this.dyn_ltree),St(this.dyn_dtree),St(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new m.Buf16(gt+1),this.heap=new m.Buf16(2*He+1),St(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new m.Buf16(2*He+1),St(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Xt(Qe){var It;return Qe&&Qe.state?(Qe.total_in=Qe.total_out=0,Qe.data_type=Ve,(It=Qe.state).pending=0,It.pending_out=0,It.wrap<0&&(It.wrap=-It.wrap),It.status=It.wrap?nt:mt,Qe.adler=It.wrap===2?0:1,It.last_flush=Ae,g._tr_init(It),_e):cr(Qe,qe)}function $t(Qe){var It=Xt(Qe);return It===_e&&function(Ht){Ht.window_size=2*Ht.w_size,St(Ht.head),Ht.max_lazy_match=f[Ht.level].max_lazy,Ht.good_match=f[Ht.level].good_length,Ht.nice_match=f[Ht.level].nice_length,Ht.max_chain_length=f[Ht.level].max_chain,Ht.strstart=0,Ht.block_start=0,Ht.lookahead=0,Ht.insert=0,Ht.match_length=Ht.prev_length=yt-1,Ht.match_available=0,Ht.ins_h=0}(Qe.state),It}function pr(Qe,It,Ht,ht,xt,Rt){if(!Qe)return qe;var er=1;if(It===Be&&(It=6),ht<0?(er=0,ht=-ht):15<ht&&(er=2,ht-=16),xt<1||We<xt||Ht!==Ue||ht<8||15<ht||It<0||9<It||Rt<0||Ne<Rt)return cr(Qe,qe);ht===8&&(ht=9);var rt=new bt;return(Qe.state=rt).strm=Qe,rt.wrap=er,rt.gzhead=null,rt.w_bits=ht,rt.w_size=1<<rt.w_bits,rt.w_mask=rt.w_size-1,rt.hash_bits=xt+7,rt.hash_size=1<<rt.hash_bits,rt.hash_mask=rt.hash_size-1,rt.hash_shift=~~((rt.hash_bits+yt-1)/yt),rt.window=new m.Buf8(2*rt.w_size),rt.head=new m.Buf16(rt.hash_size),rt.prev=new m.Buf16(rt.w_size),rt.lit_bufsize=1<<xt+6,rt.pending_buf_size=4*rt.lit_bufsize,rt.pending_buf=new m.Buf8(rt.pending_buf_size),rt.d_buf=1*rt.lit_bufsize,rt.l_buf=3*rt.lit_bufsize,rt.level=It,rt.strategy=Rt,rt.method=Ht,$t(Qe)}f=[new lt(0,0,0,0,function(Qe,It){var Ht=65535;for(Ht>Qe.pending_buf_size-5&&(Ht=Qe.pending_buf_size-5);;){if(Qe.lookahead<=1){if(fr(Qe),Qe.lookahead===0&&It===Ae)return Xe;if(Qe.lookahead===0)break}Qe.strstart+=Qe.lookahead,Qe.lookahead=0;var ht=Qe.block_start+Ht;if((Qe.strstart===0||Qe.strstart>=ht)&&(Qe.lookahead=Qe.strstart-ht,Qe.strstart=ht,dt(Qe,!1),Qe.strm.avail_out===0)||Qe.strstart-Qe.block_start>=Qe.w_size-pt&&(dt(Qe,!1),Qe.strm.avail_out===0))return Xe}return Qe.insert=0,It===De?(dt(Qe,!0),Qe.strm.avail_out===0?Zt:zt):(Qe.strstart>Qe.block_start&&(dt(Qe,!1),Qe.strm.avail_out),Xe)}),new lt(4,4,8,4,Dr),new lt(4,5,16,8,Dr),new lt(4,6,32,32,Dr),new lt(4,4,16,16,or),new lt(8,16,32,32,or),new lt(8,16,128,128,or),new lt(8,32,128,256,or),new lt(32,128,258,1024,or),new lt(32,258,258,4096,or)],c.deflateInit=function(Qe,It){return pr(Qe,It,Ue,15,8,0)},c.deflateInit2=pr,c.deflateReset=$t,c.deflateResetKeep=Xt,c.deflateSetHeader=function(Qe,It){return Qe&&Qe.state?Qe.state.wrap!==2?qe:(Qe.state.gzhead=It,_e):qe},c.deflate=function(Qe,It){var Ht,ht,xt,Rt;if(!Qe||!Qe.state||5<It||It<0)return Qe?cr(Qe,qe):qe;if(ht=Qe.state,!Qe.output||!Qe.input&&Qe.avail_in!==0||ht.status===666&&It!==De)return cr(Qe,Qe.avail_out===0?-5:qe);if(ht.strm=Qe,Ht=ht.last_flush,ht.last_flush=It,ht.status===nt)if(ht.wrap===2)Qe.adler=0,Bt(ht,31),Bt(ht,139),Bt(ht,8),ht.gzhead?(Bt(ht,(ht.gzhead.text?1:0)+(ht.gzhead.hcrc?2:0)+(ht.gzhead.extra?4:0)+(ht.gzhead.name?8:0)+(ht.gzhead.comment?16:0)),Bt(ht,255&ht.gzhead.time),Bt(ht,ht.gzhead.time>>8&255),Bt(ht,ht.gzhead.time>>16&255),Bt(ht,ht.gzhead.time>>24&255),Bt(ht,ht.level===9?2:2<=ht.strategy||ht.level<2?4:0),Bt(ht,255&ht.gzhead.os),ht.gzhead.extra&&ht.gzhead.extra.length&&(Bt(ht,255&ht.gzhead.extra.length),Bt(ht,ht.gzhead.extra.length>>8&255)),ht.gzhead.hcrc&&(Qe.adler=Ie(Qe.adler,ht.pending_buf,ht.pending,0)),ht.gzindex=0,ht.status=69):(Bt(ht,0),Bt(ht,0),Bt(ht,0),Bt(ht,0),Bt(ht,0),Bt(ht,ht.level===9?2:2<=ht.strategy||ht.level<2?4:0),Bt(ht,3),ht.status=mt);else{var er=Ue+(ht.w_bits-8<<4)<<8;er|=(2<=ht.strategy||ht.level<2?0:ht.level<6?1:ht.level===6?2:3)<<6,ht.strstart!==0&&(er|=32),er+=31-er%31,ht.status=mt,At(ht,er),ht.strstart!==0&&(At(ht,Qe.adler>>>16),At(ht,65535&Qe.adler)),Qe.adler=1}if(ht.status===69)if(ht.gzhead.extra){for(xt=ht.pending;ht.gzindex<(65535&ht.gzhead.extra.length)&&(ht.pending!==ht.pending_buf_size||(ht.gzhead.hcrc&&ht.pending>xt&&(Qe.adler=Ie(Qe.adler,ht.pending_buf,ht.pending-xt,xt)),st(Qe),xt=ht.pending,ht.pending!==ht.pending_buf_size));)Bt(ht,255&ht.gzhead.extra[ht.gzindex]),ht.gzindex++;ht.gzhead.hcrc&&ht.pending>xt&&(Qe.adler=Ie(Qe.adler,ht.pending_buf,ht.pending-xt,xt)),ht.gzindex===ht.gzhead.extra.length&&(ht.gzindex=0,ht.status=73)}else ht.status=73;if(ht.status===73)if(ht.gzhead.name){xt=ht.pending;do{if(ht.pending===ht.pending_buf_size&&(ht.gzhead.hcrc&&ht.pending>xt&&(Qe.adler=Ie(Qe.adler,ht.pending_buf,ht.pending-xt,xt)),st(Qe),xt=ht.pending,ht.pending===ht.pending_buf_size)){Rt=1;break}Rt=ht.gzindex<ht.gzhead.name.length?255&ht.gzhead.name.charCodeAt(ht.gzindex++):0,Bt(ht,Rt)}while(Rt!==0);ht.gzhead.hcrc&&ht.pending>xt&&(Qe.adler=Ie(Qe.adler,ht.pending_buf,ht.pending-xt,xt)),Rt===0&&(ht.gzindex=0,ht.status=91)}else ht.status=91;if(ht.status===91)if(ht.gzhead.comment){xt=ht.pending;do{if(ht.pending===ht.pending_buf_size&&(ht.gzhead.hcrc&&ht.pending>xt&&(Qe.adler=Ie(Qe.adler,ht.pending_buf,ht.pending-xt,xt)),st(Qe),xt=ht.pending,ht.pending===ht.pending_buf_size)){Rt=1;break}Rt=ht.gzindex<ht.gzhead.comment.length?255&ht.gzhead.comment.charCodeAt(ht.gzindex++):0,Bt(ht,Rt)}while(Rt!==0);ht.gzhead.hcrc&&ht.pending>xt&&(Qe.adler=Ie(Qe.adler,ht.pending_buf,ht.pending-xt,xt)),Rt===0&&(ht.status=103)}else ht.status=103;if(ht.status===103&&(ht.gzhead.hcrc?(ht.pending+2>ht.pending_buf_size&&st(Qe),ht.pending+2<=ht.pending_buf_size&&(Bt(ht,255&Qe.adler),Bt(ht,Qe.adler>>8&255),Qe.adler=0,ht.status=mt)):ht.status=mt),ht.pending!==0){if(st(Qe),Qe.avail_out===0)return ht.last_flush=-1,_e}else if(Qe.avail_in===0&&Et(It)<=Et(Ht)&&It!==De)return cr(Qe,-5);if(ht.status===666&&Qe.avail_in!==0)return cr(Qe,-5);if(Qe.avail_in!==0||ht.lookahead!==0||It!==Ae&&ht.status!==666){var rt=ht.strategy===2?function(je,Ke){for(var ut;;){if(je.lookahead===0&&(fr(je),je.lookahead===0)){if(Ke===Ae)return Xe;break}if(je.match_length=0,ut=g._tr_tally(je,0,je.window[je.strstart]),je.lookahead--,je.strstart++,ut&&(dt(je,!1),je.strm.avail_out===0))return Xe}return je.insert=0,Ke===De?(dt(je,!0),je.strm.avail_out===0?Zt:zt):je.last_lit&&(dt(je,!1),je.strm.avail_out===0)?Xe:Ft}(ht,It):ht.strategy===3?function(je,Ke){for(var ut,vt,Ct,Lt,sr=je.window;;){if(je.lookahead<=tt){if(fr(je),je.lookahead<=tt&&Ke===Ae)return Xe;if(je.lookahead===0)break}if(je.match_length=0,je.lookahead>=yt&&0<je.strstart&&(vt=sr[Ct=je.strstart-1])===sr[++Ct]&&vt===sr[++Ct]&&vt===sr[++Ct]){Lt=je.strstart+tt;do;while(vt===sr[++Ct]&&vt===sr[++Ct]&&vt===sr[++Ct]&&vt===sr[++Ct]&&vt===sr[++Ct]&&vt===sr[++Ct]&&vt===sr[++Ct]&&vt===sr[++Ct]&&Ct<Lt);je.match_length=tt-(Lt-Ct),je.match_length>je.lookahead&&(je.match_length=je.lookahead)}if(je.match_length>=yt?(ut=g._tr_tally(je,1,je.match_length-yt),je.lookahead-=je.match_length,je.strstart+=je.match_length,je.match_length=0):(ut=g._tr_tally(je,0,je.window[je.strstart]),je.lookahead--,je.strstart++),ut&&(dt(je,!1),je.strm.avail_out===0))return Xe}return je.insert=0,Ke===De?(dt(je,!0),je.strm.avail_out===0?Zt:zt):je.last_lit&&(dt(je,!1),je.strm.avail_out===0)?Xe:Ft}(ht,It):f[ht.level].func(ht,It);if(rt!==Zt&&rt!==zt||(ht.status=666),rt===Xe||rt===Zt)return Qe.avail_out===0&&(ht.last_flush=-1),_e;if(rt===Ft&&(It===1?g._tr_align(ht):It!==5&&(g._tr_stored_block(ht,0,0,!1),It===3&&(St(ht.head),ht.lookahead===0&&(ht.strstart=0,ht.block_start=0,ht.insert=0))),st(Qe),Qe.avail_out===0))return ht.last_flush=-1,_e}return It!==De?_e:ht.wrap<=0?1:(ht.wrap===2?(Bt(ht,255&Qe.adler),Bt(ht,Qe.adler>>8&255),Bt(ht,Qe.adler>>16&255),Bt(ht,Qe.adler>>24&255),Bt(ht,255&Qe.total_in),Bt(ht,Qe.total_in>>8&255),Bt(ht,Qe.total_in>>16&255),Bt(ht,Qe.total_in>>24&255)):(At(ht,Qe.adler>>>16),At(ht,65535&Qe.adler)),st(Qe),0<ht.wrap&&(ht.wrap=-ht.wrap),ht.pending!==0?_e:1)},c.deflateEnd=function(Qe){var It;return Qe&&Qe.state?(It=Qe.state.status)!==nt&&It!==69&&It!==73&&It!==91&&It!==103&&It!==mt&&It!==666?cr(Qe,qe):(Qe.state=null,It===mt?cr(Qe,-3):_e):qe},c.deflateSetDictionary=function(Qe,It){var Ht,ht,xt,Rt,er,rt,je,Ke,ut=It.length;if(!Qe||!Qe.state||(Rt=(Ht=Qe.state).wrap)===2||Rt===1&&Ht.status!==nt||Ht.lookahead)return qe;for(Rt===1&&(Qe.adler=Te(Qe.adler,It,ut,0)),Ht.wrap=0,ut>=Ht.w_size&&(Rt===0&&(St(Ht.head),Ht.strstart=0,Ht.block_start=0,Ht.insert=0),Ke=new m.Buf8(Ht.w_size),m.arraySet(Ke,It,ut-Ht.w_size,Ht.w_size,0),It=Ke,ut=Ht.w_size),er=Qe.avail_in,rt=Qe.next_in,je=Qe.input,Qe.avail_in=ut,Qe.next_in=0,Qe.input=It,fr(Ht);Ht.lookahead>=yt;){for(ht=Ht.strstart,xt=Ht.lookahead-(yt-1);Ht.ins_h=(Ht.ins_h<<Ht.hash_shift^Ht.window[ht+yt-1])&Ht.hash_mask,Ht.prev[ht&Ht.w_mask]=Ht.head[Ht.ins_h],Ht.head[Ht.ins_h]=ht,ht++,--xt;);Ht.strstart=ht,Ht.lookahead=yt-1,fr(Ht)}return Ht.strstart+=Ht.lookahead,Ht.block_start=Ht.strstart,Ht.insert=Ht.lookahead,Ht.lookahead=0,Ht.match_length=Ht.prev_length=yt-1,Ht.match_available=0,Qe.next_in=rt,Qe.input=je,Qe.avail_in=er,Ht.wrap=Rt,_e},c.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,i,c){i.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,i,c){i.exports=function(f,m){var g,Te,Ie,Oe,Ae,De,_e,qe,Be,Ne,Ve,Ue,We,He,Ze,ct,at,gt,yt,tt,pt,nt,mt,Xe,Ft;g=f.state,Te=f.next_in,Xe=f.input,Ie=Te+(f.avail_in-5),Oe=f.next_out,Ft=f.output,Ae=Oe-(m-f.avail_out),De=Oe+(f.avail_out-257),_e=g.dmax,qe=g.wsize,Be=g.whave,Ne=g.wnext,Ve=g.window,Ue=g.hold,We=g.bits,He=g.lencode,Ze=g.distcode,ct=(1<<g.lenbits)-1,at=(1<<g.distbits)-1;e:do{We<15&&(Ue+=Xe[Te++]<<We,We+=8,Ue+=Xe[Te++]<<We,We+=8),gt=He[Ue&ct];t:for(;;){if(Ue>>>=yt=gt>>>24,We-=yt,(yt=gt>>>16&255)===0)Ft[Oe++]=65535&gt;else{if(!(16&yt)){if(!(64&yt)){gt=He[(65535&gt)+(Ue&(1<<yt)-1)];continue t}if(32&yt){g.mode=12;break e}f.msg="invalid literal/length code",g.mode=30;break e}tt=65535&gt,(yt&=15)&&(We<yt&&(Ue+=Xe[Te++]<<We,We+=8),tt+=Ue&(1<<yt)-1,Ue>>>=yt,We-=yt),We<15&&(Ue+=Xe[Te++]<<We,We+=8,Ue+=Xe[Te++]<<We,We+=8),gt=Ze[Ue&at];r:for(;;){if(Ue>>>=yt=gt>>>24,We-=yt,!(16&(yt=gt>>>16&255))){if(!(64&yt)){gt=Ze[(65535&gt)+(Ue&(1<<yt)-1)];continue r}f.msg="invalid distance code",g.mode=30;break e}if(pt=65535&gt,We<(yt&=15)&&(Ue+=Xe[Te++]<<We,(We+=8)<yt&&(Ue+=Xe[Te++]<<We,We+=8)),_e<(pt+=Ue&(1<<yt)-1)){f.msg="invalid distance too far back",g.mode=30;break e}if(Ue>>>=yt,We-=yt,(yt=Oe-Ae)<pt){if(Be<(yt=pt-yt)&&g.sane){f.msg="invalid distance too far back",g.mode=30;break e}if(mt=Ve,(nt=0)===Ne){if(nt+=qe-yt,yt<tt){for(tt-=yt;Ft[Oe++]=Ve[nt++],--yt;);nt=Oe-pt,mt=Ft}}else if(Ne<yt){if(nt+=qe+Ne-yt,(yt-=Ne)<tt){for(tt-=yt;Ft[Oe++]=Ve[nt++],--yt;);if(nt=0,Ne<tt){for(tt-=yt=Ne;Ft[Oe++]=Ve[nt++],--yt;);nt=Oe-pt,mt=Ft}}}else if(nt+=Ne-yt,yt<tt){for(tt-=yt;Ft[Oe++]=Ve[nt++],--yt;);nt=Oe-pt,mt=Ft}for(;2<tt;)Ft[Oe++]=mt[nt++],Ft[Oe++]=mt[nt++],Ft[Oe++]=mt[nt++],tt-=3;tt&&(Ft[Oe++]=mt[nt++],1<tt&&(Ft[Oe++]=mt[nt++]))}else{for(nt=Oe-pt;Ft[Oe++]=Ft[nt++],Ft[Oe++]=Ft[nt++],Ft[Oe++]=Ft[nt++],2<(tt-=3););tt&&(Ft[Oe++]=Ft[nt++],1<tt&&(Ft[Oe++]=Ft[nt++]))}break}}break}}while(Te<Ie&&Oe<De);Te-=tt=We>>3,Ue&=(1<<(We-=tt<<3))-1,f.next_in=Te,f.next_out=Oe,f.avail_in=Te<Ie?Ie-Te+5:5-(Te-Ie),f.avail_out=Oe<De?De-Oe+257:257-(Oe-De),g.hold=Ue,g.bits=We}},{}],49:[function(e,i,c){var f=e("../utils/common"),m=e("./adler32"),g=e("./crc32"),Te=e("./inffast"),Ie=e("./inftrees"),Oe=1,Ae=2,De=0,_e=-2,qe=1,Be=852,Ne=592;function Ve(nt){return(nt>>>24&255)+(nt>>>8&65280)+((65280&nt)<<8)+((255&nt)<<24)}function Ue(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new f.Buf16(320),this.work=new f.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function We(nt){var mt;return nt&&nt.state?(mt=nt.state,nt.total_in=nt.total_out=mt.total=0,nt.msg="",mt.wrap&&(nt.adler=1&mt.wrap),mt.mode=qe,mt.last=0,mt.havedict=0,mt.dmax=32768,mt.head=null,mt.hold=0,mt.bits=0,mt.lencode=mt.lendyn=new f.Buf32(Be),mt.distcode=mt.distdyn=new f.Buf32(Ne),mt.sane=1,mt.back=-1,De):_e}function He(nt){var mt;return nt&&nt.state?((mt=nt.state).wsize=0,mt.whave=0,mt.wnext=0,We(nt)):_e}function Ze(nt,mt){var Xe,Ft;return nt&&nt.state?(Ft=nt.state,mt<0?(Xe=0,mt=-mt):(Xe=1+(mt>>4),mt<48&&(mt&=15)),mt&&(mt<8||15<mt)?_e:(Ft.window!==null&&Ft.wbits!==mt&&(Ft.window=null),Ft.wrap=Xe,Ft.wbits=mt,He(nt))):_e}function ct(nt,mt){var Xe,Ft;return nt?(Ft=new Ue,(nt.state=Ft).window=null,(Xe=Ze(nt,mt))!==De&&(nt.state=null),Xe):_e}var at,gt,yt=!0;function tt(nt){if(yt){var mt;for(at=new f.Buf32(512),gt=new f.Buf32(32),mt=0;mt<144;)nt.lens[mt++]=8;for(;mt<256;)nt.lens[mt++]=9;for(;mt<280;)nt.lens[mt++]=7;for(;mt<288;)nt.lens[mt++]=8;for(Ie(Oe,nt.lens,0,288,at,0,nt.work,{bits:9}),mt=0;mt<32;)nt.lens[mt++]=5;Ie(Ae,nt.lens,0,32,gt,0,nt.work,{bits:5}),yt=!1}nt.lencode=at,nt.lenbits=9,nt.distcode=gt,nt.distbits=5}function pt(nt,mt,Xe,Ft){var Zt,zt=nt.state;return zt.window===null&&(zt.wsize=1<<zt.wbits,zt.wnext=0,zt.whave=0,zt.window=new f.Buf8(zt.wsize)),Ft>=zt.wsize?(f.arraySet(zt.window,mt,Xe-zt.wsize,zt.wsize,0),zt.wnext=0,zt.whave=zt.wsize):(Ft<(Zt=zt.wsize-zt.wnext)&&(Zt=Ft),f.arraySet(zt.window,mt,Xe-Ft,Zt,zt.wnext),(Ft-=Zt)?(f.arraySet(zt.window,mt,Xe-Ft,Ft,0),zt.wnext=Ft,zt.whave=zt.wsize):(zt.wnext+=Zt,zt.wnext===zt.wsize&&(zt.wnext=0),zt.whave<zt.wsize&&(zt.whave+=Zt))),0}c.inflateReset=He,c.inflateReset2=Ze,c.inflateResetKeep=We,c.inflateInit=function(nt){return ct(nt,15)},c.inflateInit2=ct,c.inflate=function(nt,mt){var Xe,Ft,Zt,zt,cr,Et,St,st,dt,Bt,At,Kt,fr,Dr,or,lt,bt,Xt,$t,pr,Qe,It,Ht,ht,xt=0,Rt=new f.Buf8(4),er=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!nt||!nt.state||!nt.output||!nt.input&&nt.avail_in!==0)return _e;(Xe=nt.state).mode===12&&(Xe.mode=13),cr=nt.next_out,Zt=nt.output,St=nt.avail_out,zt=nt.next_in,Ft=nt.input,Et=nt.avail_in,st=Xe.hold,dt=Xe.bits,Bt=Et,At=St,It=De;e:for(;;)switch(Xe.mode){case qe:if(Xe.wrap===0){Xe.mode=13;break}for(;dt<16;){if(Et===0)break e;Et--,st+=Ft[zt++]<<dt,dt+=8}if(2&Xe.wrap&&st===35615){Rt[Xe.check=0]=255&st,Rt[1]=st>>>8&255,Xe.check=g(Xe.check,Rt,2,0),dt=st=0,Xe.mode=2;break}if(Xe.flags=0,Xe.head&&(Xe.head.done=!1),!(1&Xe.wrap)||(((255&st)<<8)+(st>>8))%31){nt.msg="incorrect header check",Xe.mode=30;break}if((15&st)!=8){nt.msg="unknown compression method",Xe.mode=30;break}if(dt-=4,Qe=8+(15&(st>>>=4)),Xe.wbits===0)Xe.wbits=Qe;else if(Qe>Xe.wbits){nt.msg="invalid window size",Xe.mode=30;break}Xe.dmax=1<<Qe,nt.adler=Xe.check=1,Xe.mode=512&st?10:12,dt=st=0;break;case 2:for(;dt<16;){if(Et===0)break e;Et--,st+=Ft[zt++]<<dt,dt+=8}if(Xe.flags=st,(255&Xe.flags)!=8){nt.msg="unknown compression method",Xe.mode=30;break}if(57344&Xe.flags){nt.msg="unknown header flags set",Xe.mode=30;break}Xe.head&&(Xe.head.text=st>>8&1),512&Xe.flags&&(Rt[0]=255&st,Rt[1]=st>>>8&255,Xe.check=g(Xe.check,Rt,2,0)),dt=st=0,Xe.mode=3;case 3:for(;dt<32;){if(Et===0)break e;Et--,st+=Ft[zt++]<<dt,dt+=8}Xe.head&&(Xe.head.time=st),512&Xe.flags&&(Rt[0]=255&st,Rt[1]=st>>>8&255,Rt[2]=st>>>16&255,Rt[3]=st>>>24&255,Xe.check=g(Xe.check,Rt,4,0)),dt=st=0,Xe.mode=4;case 4:for(;dt<16;){if(Et===0)break e;Et--,st+=Ft[zt++]<<dt,dt+=8}Xe.head&&(Xe.head.xflags=255&st,Xe.head.os=st>>8),512&Xe.flags&&(Rt[0]=255&st,Rt[1]=st>>>8&255,Xe.check=g(Xe.check,Rt,2,0)),dt=st=0,Xe.mode=5;case 5:if(1024&Xe.flags){for(;dt<16;){if(Et===0)break e;Et--,st+=Ft[zt++]<<dt,dt+=8}Xe.length=st,Xe.head&&(Xe.head.extra_len=st),512&Xe.flags&&(Rt[0]=255&st,Rt[1]=st>>>8&255,Xe.check=g(Xe.check,Rt,2,0)),dt=st=0}else Xe.head&&(Xe.head.extra=null);Xe.mode=6;case 6:if(1024&Xe.flags&&(Et<(Kt=Xe.length)&&(Kt=Et),Kt&&(Xe.head&&(Qe=Xe.head.extra_len-Xe.length,Xe.head.extra||(Xe.head.extra=new Array(Xe.head.extra_len)),f.arraySet(Xe.head.extra,Ft,zt,Kt,Qe)),512&Xe.flags&&(Xe.check=g(Xe.check,Ft,Kt,zt)),Et-=Kt,zt+=Kt,Xe.length-=Kt),Xe.length))break e;Xe.length=0,Xe.mode=7;case 7:if(2048&Xe.flags){if(Et===0)break e;for(Kt=0;Qe=Ft[zt+Kt++],Xe.head&&Qe&&Xe.length<65536&&(Xe.head.name+=String.fromCharCode(Qe)),Qe&&Kt<Et;);if(512&Xe.flags&&(Xe.check=g(Xe.check,Ft,Kt,zt)),Et-=Kt,zt+=Kt,Qe)break e}else Xe.head&&(Xe.head.name=null);Xe.length=0,Xe.mode=8;case 8:if(4096&Xe.flags){if(Et===0)break e;for(Kt=0;Qe=Ft[zt+Kt++],Xe.head&&Qe&&Xe.length<65536&&(Xe.head.comment+=String.fromCharCode(Qe)),Qe&&Kt<Et;);if(512&Xe.flags&&(Xe.check=g(Xe.check,Ft,Kt,zt)),Et-=Kt,zt+=Kt,Qe)break e}else Xe.head&&(Xe.head.comment=null);Xe.mode=9;case 9:if(512&Xe.flags){for(;dt<16;){if(Et===0)break e;Et--,st+=Ft[zt++]<<dt,dt+=8}if(st!==(65535&Xe.check)){nt.msg="header crc mismatch",Xe.mode=30;break}dt=st=0}Xe.head&&(Xe.head.hcrc=Xe.flags>>9&1,Xe.head.done=!0),nt.adler=Xe.check=0,Xe.mode=12;break;case 10:for(;dt<32;){if(Et===0)break e;Et--,st+=Ft[zt++]<<dt,dt+=8}nt.adler=Xe.check=Ve(st),dt=st=0,Xe.mode=11;case 11:if(Xe.havedict===0)return nt.next_out=cr,nt.avail_out=St,nt.next_in=zt,nt.avail_in=Et,Xe.hold=st,Xe.bits=dt,2;nt.adler=Xe.check=1,Xe.mode=12;case 12:if(mt===5||mt===6)break e;case 13:if(Xe.last){st>>>=7&dt,dt-=7&dt,Xe.mode=27;break}for(;dt<3;){if(Et===0)break e;Et--,st+=Ft[zt++]<<dt,dt+=8}switch(Xe.last=1&st,dt-=1,3&(st>>>=1)){case 0:Xe.mode=14;break;case 1:if(tt(Xe),Xe.mode=20,mt!==6)break;st>>>=2,dt-=2;break e;case 2:Xe.mode=17;break;case 3:nt.msg="invalid block type",Xe.mode=30}st>>>=2,dt-=2;break;case 14:for(st>>>=7&dt,dt-=7&dt;dt<32;){if(Et===0)break e;Et--,st+=Ft[zt++]<<dt,dt+=8}if((65535&st)!=(st>>>16^65535)){nt.msg="invalid stored block lengths",Xe.mode=30;break}if(Xe.length=65535&st,dt=st=0,Xe.mode=15,mt===6)break e;case 15:Xe.mode=16;case 16:if(Kt=Xe.length){if(Et<Kt&&(Kt=Et),St<Kt&&(Kt=St),Kt===0)break e;f.arraySet(Zt,Ft,zt,Kt,cr),Et-=Kt,zt+=Kt,St-=Kt,cr+=Kt,Xe.length-=Kt;break}Xe.mode=12;break;case 17:for(;dt<14;){if(Et===0)break e;Et--,st+=Ft[zt++]<<dt,dt+=8}if(Xe.nlen=257+(31&st),st>>>=5,dt-=5,Xe.ndist=1+(31&st),st>>>=5,dt-=5,Xe.ncode=4+(15&st),st>>>=4,dt-=4,286<Xe.nlen||30<Xe.ndist){nt.msg="too many length or distance symbols",Xe.mode=30;break}Xe.have=0,Xe.mode=18;case 18:for(;Xe.have<Xe.ncode;){for(;dt<3;){if(Et===0)break e;Et--,st+=Ft[zt++]<<dt,dt+=8}Xe.lens[er[Xe.have++]]=7&st,st>>>=3,dt-=3}for(;Xe.have<19;)Xe.lens[er[Xe.have++]]=0;if(Xe.lencode=Xe.lendyn,Xe.lenbits=7,Ht={bits:Xe.lenbits},It=Ie(0,Xe.lens,0,19,Xe.lencode,0,Xe.work,Ht),Xe.lenbits=Ht.bits,It){nt.msg="invalid code lengths set",Xe.mode=30;break}Xe.have=0,Xe.mode=19;case 19:for(;Xe.have<Xe.nlen+Xe.ndist;){for(;lt=(xt=Xe.lencode[st&(1<<Xe.lenbits)-1])>>>16&255,bt=65535&xt,!((or=xt>>>24)<=dt);){if(Et===0)break e;Et--,st+=Ft[zt++]<<dt,dt+=8}if(bt<16)st>>>=or,dt-=or,Xe.lens[Xe.have++]=bt;else{if(bt===16){for(ht=or+2;dt<ht;){if(Et===0)break e;Et--,st+=Ft[zt++]<<dt,dt+=8}if(st>>>=or,dt-=or,Xe.have===0){nt.msg="invalid bit length repeat",Xe.mode=30;break}Qe=Xe.lens[Xe.have-1],Kt=3+(3&st),st>>>=2,dt-=2}else if(bt===17){for(ht=or+3;dt<ht;){if(Et===0)break e;Et--,st+=Ft[zt++]<<dt,dt+=8}dt-=or,Qe=0,Kt=3+(7&(st>>>=or)),st>>>=3,dt-=3}else{for(ht=or+7;dt<ht;){if(Et===0)break e;Et--,st+=Ft[zt++]<<dt,dt+=8}dt-=or,Qe=0,Kt=11+(127&(st>>>=or)),st>>>=7,dt-=7}if(Xe.have+Kt>Xe.nlen+Xe.ndist){nt.msg="invalid bit length repeat",Xe.mode=30;break}for(;Kt--;)Xe.lens[Xe.have++]=Qe}}if(Xe.mode===30)break;if(Xe.lens[256]===0){nt.msg="invalid code -- missing end-of-block",Xe.mode=30;break}if(Xe.lenbits=9,Ht={bits:Xe.lenbits},It=Ie(Oe,Xe.lens,0,Xe.nlen,Xe.lencode,0,Xe.work,Ht),Xe.lenbits=Ht.bits,It){nt.msg="invalid literal/lengths set",Xe.mode=30;break}if(Xe.distbits=6,Xe.distcode=Xe.distdyn,Ht={bits:Xe.distbits},It=Ie(Ae,Xe.lens,Xe.nlen,Xe.ndist,Xe.distcode,0,Xe.work,Ht),Xe.distbits=Ht.bits,It){nt.msg="invalid distances set",Xe.mode=30;break}if(Xe.mode=20,mt===6)break e;case 20:Xe.mode=21;case 21:if(6<=Et&&258<=St){nt.next_out=cr,nt.avail_out=St,nt.next_in=zt,nt.avail_in=Et,Xe.hold=st,Xe.bits=dt,Te(nt,At),cr=nt.next_out,Zt=nt.output,St=nt.avail_out,zt=nt.next_in,Ft=nt.input,Et=nt.avail_in,st=Xe.hold,dt=Xe.bits,Xe.mode===12&&(Xe.back=-1);break}for(Xe.back=0;lt=(xt=Xe.lencode[st&(1<<Xe.lenbits)-1])>>>16&255,bt=65535&xt,!((or=xt>>>24)<=dt);){if(Et===0)break e;Et--,st+=Ft[zt++]<<dt,dt+=8}if(lt&&!(240&lt)){for(Xt=or,$t=lt,pr=bt;lt=(xt=Xe.lencode[pr+((st&(1<<Xt+$t)-1)>>Xt)])>>>16&255,bt=65535&xt,!(Xt+(or=xt>>>24)<=dt);){if(Et===0)break e;Et--,st+=Ft[zt++]<<dt,dt+=8}st>>>=Xt,dt-=Xt,Xe.back+=Xt}if(st>>>=or,dt-=or,Xe.back+=or,Xe.length=bt,lt===0){Xe.mode=26;break}if(32&lt){Xe.back=-1,Xe.mode=12;break}if(64&lt){nt.msg="invalid literal/length code",Xe.mode=30;break}Xe.extra=15&lt,Xe.mode=22;case 22:if(Xe.extra){for(ht=Xe.extra;dt<ht;){if(Et===0)break e;Et--,st+=Ft[zt++]<<dt,dt+=8}Xe.length+=st&(1<<Xe.extra)-1,st>>>=Xe.extra,dt-=Xe.extra,Xe.back+=Xe.extra}Xe.was=Xe.length,Xe.mode=23;case 23:for(;lt=(xt=Xe.distcode[st&(1<<Xe.distbits)-1])>>>16&255,bt=65535&xt,!((or=xt>>>24)<=dt);){if(Et===0)break e;Et--,st+=Ft[zt++]<<dt,dt+=8}if(!(240&lt)){for(Xt=or,$t=lt,pr=bt;lt=(xt=Xe.distcode[pr+((st&(1<<Xt+$t)-1)>>Xt)])>>>16&255,bt=65535&xt,!(Xt+(or=xt>>>24)<=dt);){if(Et===0)break e;Et--,st+=Ft[zt++]<<dt,dt+=8}st>>>=Xt,dt-=Xt,Xe.back+=Xt}if(st>>>=or,dt-=or,Xe.back+=or,64&lt){nt.msg="invalid distance code",Xe.mode=30;break}Xe.offset=bt,Xe.extra=15&lt,Xe.mode=24;case 24:if(Xe.extra){for(ht=Xe.extra;dt<ht;){if(Et===0)break e;Et--,st+=Ft[zt++]<<dt,dt+=8}Xe.offset+=st&(1<<Xe.extra)-1,st>>>=Xe.extra,dt-=Xe.extra,Xe.back+=Xe.extra}if(Xe.offset>Xe.dmax){nt.msg="invalid distance too far back",Xe.mode=30;break}Xe.mode=25;case 25:if(St===0)break e;if(Kt=At-St,Xe.offset>Kt){if((Kt=Xe.offset-Kt)>Xe.whave&&Xe.sane){nt.msg="invalid distance too far back",Xe.mode=30;break}fr=Kt>Xe.wnext?(Kt-=Xe.wnext,Xe.wsize-Kt):Xe.wnext-Kt,Kt>Xe.length&&(Kt=Xe.length),Dr=Xe.window}else Dr=Zt,fr=cr-Xe.offset,Kt=Xe.length;for(St<Kt&&(Kt=St),St-=Kt,Xe.length-=Kt;Zt[cr++]=Dr[fr++],--Kt;);Xe.length===0&&(Xe.mode=21);break;case 26:if(St===0)break e;Zt[cr++]=Xe.length,St--,Xe.mode=21;break;case 27:if(Xe.wrap){for(;dt<32;){if(Et===0)break e;Et--,st|=Ft[zt++]<<dt,dt+=8}if(At-=St,nt.total_out+=At,Xe.total+=At,At&&(nt.adler=Xe.check=Xe.flags?g(Xe.check,Zt,At,cr-At):m(Xe.check,Zt,At,cr-At)),At=St,(Xe.flags?st:Ve(st))!==Xe.check){nt.msg="incorrect data check",Xe.mode=30;break}dt=st=0}Xe.mode=28;case 28:if(Xe.wrap&&Xe.flags){for(;dt<32;){if(Et===0)break e;Et--,st+=Ft[zt++]<<dt,dt+=8}if(st!==(4294967295&Xe.total)){nt.msg="incorrect length check",Xe.mode=30;break}dt=st=0}Xe.mode=29;case 29:It=1;break e;case 30:It=-3;break e;case 31:return-4;case 32:default:return _e}return nt.next_out=cr,nt.avail_out=St,nt.next_in=zt,nt.avail_in=Et,Xe.hold=st,Xe.bits=dt,(Xe.wsize||At!==nt.avail_out&&Xe.mode<30&&(Xe.mode<27||mt!==4))&&pt(nt,nt.output,nt.next_out,At-nt.avail_out)?(Xe.mode=31,-4):(Bt-=nt.avail_in,At-=nt.avail_out,nt.total_in+=Bt,nt.total_out+=At,Xe.total+=At,Xe.wrap&&At&&(nt.adler=Xe.check=Xe.flags?g(Xe.check,Zt,At,nt.next_out-At):m(Xe.check,Zt,At,nt.next_out-At)),nt.data_type=Xe.bits+(Xe.last?64:0)+(Xe.mode===12?128:0)+(Xe.mode===20||Xe.mode===15?256:0),(Bt==0&&At===0||mt===4)&&It===De&&(It=-5),It)},c.inflateEnd=function(nt){if(!nt||!nt.state)return _e;var mt=nt.state;return mt.window&&(mt.window=null),nt.state=null,De},c.inflateGetHeader=function(nt,mt){var Xe;return nt&&nt.state&&2&(Xe=nt.state).wrap?((Xe.head=mt).done=!1,De):_e},c.inflateSetDictionary=function(nt,mt){var Xe,Ft=mt.length;return nt&&nt.state?(Xe=nt.state).wrap!==0&&Xe.mode!==11?_e:Xe.mode===11&&m(1,mt,Ft,0)!==Xe.check?-3:pt(nt,mt,Ft,Ft)?(Xe.mode=31,-4):(Xe.havedict=1,De):_e},c.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,i,c){var f=e("../utils/common"),m=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],g=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Te=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Ie=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(Oe,Ae,De,_e,qe,Be,Ne,Ve){var Ue,We,He,Ze,ct,at,gt,yt,tt,pt=Ve.bits,nt=0,mt=0,Xe=0,Ft=0,Zt=0,zt=0,cr=0,Et=0,St=0,st=0,dt=null,Bt=0,At=new f.Buf16(16),Kt=new f.Buf16(16),fr=null,Dr=0;for(nt=0;nt<=15;nt++)At[nt]=0;for(mt=0;mt<_e;mt++)At[Ae[De+mt]]++;for(Zt=pt,Ft=15;1<=Ft&&At[Ft]===0;Ft--);if(Ft<Zt&&(Zt=Ft),Ft===0)return qe[Be++]=20971520,qe[Be++]=20971520,Ve.bits=1,0;for(Xe=1;Xe<Ft&&At[Xe]===0;Xe++);for(Zt<Xe&&(Zt=Xe),nt=Et=1;nt<=15;nt++)if(Et<<=1,(Et-=At[nt])<0)return-1;if(0<Et&&(Oe===0||Ft!==1))return-1;for(Kt[1]=0,nt=1;nt<15;nt++)Kt[nt+1]=Kt[nt]+At[nt];for(mt=0;mt<_e;mt++)Ae[De+mt]!==0&&(Ne[Kt[Ae[De+mt]]++]=mt);if(at=Oe===0?(dt=fr=Ne,19):Oe===1?(dt=m,Bt-=257,fr=g,Dr-=257,256):(dt=Te,fr=Ie,-1),nt=Xe,ct=Be,cr=mt=st=0,He=-1,Ze=(St=1<<(zt=Zt))-1,Oe===1&&852<St||Oe===2&&592<St)return 1;for(;;){for(gt=nt-cr,tt=Ne[mt]<at?(yt=0,Ne[mt]):Ne[mt]>at?(yt=fr[Dr+Ne[mt]],dt[Bt+Ne[mt]]):(yt=96,0),Ue=1<<nt-cr,Xe=We=1<<zt;qe[ct+(st>>cr)+(We-=Ue)]=gt<<24|yt<<16|tt|0,We!==0;);for(Ue=1<<nt-1;st&Ue;)Ue>>=1;if(Ue!==0?(st&=Ue-1,st+=Ue):st=0,mt++,--At[nt]==0){if(nt===Ft)break;nt=Ae[De+Ne[mt]]}if(Zt<nt&&(st&Ze)!==He){for(cr===0&&(cr=Zt),ct+=Xe,Et=1<<(zt=nt-cr);zt+cr<Ft&&!((Et-=At[zt+cr])<=0);)zt++,Et<<=1;if(St+=1<<zt,Oe===1&&852<St||Oe===2&&592<St)return 1;qe[He=st&Ze]=Zt<<24|zt<<16|ct-Be|0}}return st!==0&&(qe[ct+st]=nt-cr<<24|64<<16|0),Ve.bits=Zt,0}},{"../utils/common":41}],51:[function(e,i,c){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,i,c){var f=e("../utils/common"),m=0,g=1;function Te(xt){for(var Rt=xt.length;0<=--Rt;)xt[Rt]=0}var Ie=0,Oe=29,Ae=256,De=Ae+1+Oe,_e=30,qe=19,Be=2*De+1,Ne=15,Ve=16,Ue=7,We=256,He=16,Ze=17,ct=18,at=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],gt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],yt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],tt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],pt=new Array(2*(De+2));Te(pt);var nt=new Array(2*_e);Te(nt);var mt=new Array(512);Te(mt);var Xe=new Array(256);Te(Xe);var Ft=new Array(Oe);Te(Ft);var Zt,zt,cr,Et=new Array(_e);function St(xt,Rt,er,rt,je){this.static_tree=xt,this.extra_bits=Rt,this.extra_base=er,this.elems=rt,this.max_length=je,this.has_stree=xt&&xt.length}function st(xt,Rt){this.dyn_tree=xt,this.max_code=0,this.stat_desc=Rt}function dt(xt){return xt<256?mt[xt]:mt[256+(xt>>>7)]}function Bt(xt,Rt){xt.pending_buf[xt.pending++]=255&Rt,xt.pending_buf[xt.pending++]=Rt>>>8&255}function At(xt,Rt,er){xt.bi_valid>Ve-er?(xt.bi_buf|=Rt<<xt.bi_valid&65535,Bt(xt,xt.bi_buf),xt.bi_buf=Rt>>Ve-xt.bi_valid,xt.bi_valid+=er-Ve):(xt.bi_buf|=Rt<<xt.bi_valid&65535,xt.bi_valid+=er)}function Kt(xt,Rt,er){At(xt,er[2*Rt],er[2*Rt+1])}function fr(xt,Rt){for(var er=0;er|=1&xt,xt>>>=1,er<<=1,0<--Rt;);return er>>>1}function Dr(xt,Rt,er){var rt,je,Ke=new Array(Ne+1),ut=0;for(rt=1;rt<=Ne;rt++)Ke[rt]=ut=ut+er[rt-1]<<1;for(je=0;je<=Rt;je++){var vt=xt[2*je+1];vt!==0&&(xt[2*je]=fr(Ke[vt]++,vt))}}function or(xt){var Rt;for(Rt=0;Rt<De;Rt++)xt.dyn_ltree[2*Rt]=0;for(Rt=0;Rt<_e;Rt++)xt.dyn_dtree[2*Rt]=0;for(Rt=0;Rt<qe;Rt++)xt.bl_tree[2*Rt]=0;xt.dyn_ltree[2*We]=1,xt.opt_len=xt.static_len=0,xt.last_lit=xt.matches=0}function lt(xt){8<xt.bi_valid?Bt(xt,xt.bi_buf):0<xt.bi_valid&&(xt.pending_buf[xt.pending++]=xt.bi_buf),xt.bi_buf=0,xt.bi_valid=0}function bt(xt,Rt,er,rt){var je=2*Rt,Ke=2*er;return xt[je]<xt[Ke]||xt[je]===xt[Ke]&&rt[Rt]<=rt[er]}function Xt(xt,Rt,er){for(var rt=xt.heap[er],je=er<<1;je<=xt.heap_len&&(je<xt.heap_len&&bt(Rt,xt.heap[je+1],xt.heap[je],xt.depth)&&je++,!bt(Rt,rt,xt.heap[je],xt.depth));)xt.heap[er]=xt.heap[je],er=je,je<<=1;xt.heap[er]=rt}function $t(xt,Rt,er){var rt,je,Ke,ut,vt=0;if(xt.last_lit!==0)for(;rt=xt.pending_buf[xt.d_buf+2*vt]<<8|xt.pending_buf[xt.d_buf+2*vt+1],je=xt.pending_buf[xt.l_buf+vt],vt++,rt===0?Kt(xt,je,Rt):(Kt(xt,(Ke=Xe[je])+Ae+1,Rt),(ut=at[Ke])!==0&&At(xt,je-=Ft[Ke],ut),Kt(xt,Ke=dt(--rt),er),(ut=gt[Ke])!==0&&At(xt,rt-=Et[Ke],ut)),vt<xt.last_lit;);Kt(xt,We,Rt)}function pr(xt,Rt){var er,rt,je,Ke=Rt.dyn_tree,ut=Rt.stat_desc.static_tree,vt=Rt.stat_desc.has_stree,Ct=Rt.stat_desc.elems,Lt=-1;for(xt.heap_len=0,xt.heap_max=Be,er=0;er<Ct;er++)Ke[2*er]!==0?(xt.heap[++xt.heap_len]=Lt=er,xt.depth[er]=0):Ke[2*er+1]=0;for(;xt.heap_len<2;)Ke[2*(je=xt.heap[++xt.heap_len]=Lt<2?++Lt:0)]=1,xt.depth[je]=0,xt.opt_len--,vt&&(xt.static_len-=ut[2*je+1]);for(Rt.max_code=Lt,er=xt.heap_len>>1;1<=er;er--)Xt(xt,Ke,er);for(je=Ct;er=xt.heap[1],xt.heap[1]=xt.heap[xt.heap_len--],Xt(xt,Ke,1),rt=xt.heap[1],xt.heap[--xt.heap_max]=er,xt.heap[--xt.heap_max]=rt,Ke[2*je]=Ke[2*er]+Ke[2*rt],xt.depth[je]=(xt.depth[er]>=xt.depth[rt]?xt.depth[er]:xt.depth[rt])+1,Ke[2*er+1]=Ke[2*rt+1]=je,xt.heap[1]=je++,Xt(xt,Ke,1),2<=xt.heap_len;);xt.heap[--xt.heap_max]=xt.heap[1],function(sr,Rr){var qr,wr,dr,Vr,on,Ir,un=Rr.dyn_tree,Bn=Rr.max_code,Un=Rr.stat_desc.static_tree,Er=Rr.stat_desc.has_stree,Jt=Rr.stat_desc.extra_bits,yr=Rr.stat_desc.extra_base,it=Rr.stat_desc.max_length,kr=0;for(Vr=0;Vr<=Ne;Vr++)sr.bl_count[Vr]=0;for(un[2*sr.heap[sr.heap_max]+1]=0,qr=sr.heap_max+1;qr<Be;qr++)it<(Vr=un[2*un[2*(wr=sr.heap[qr])+1]+1]+1)&&(Vr=it,kr++),un[2*wr+1]=Vr,Bn<wr||(sr.bl_count[Vr]++,on=0,yr<=wr&&(on=Jt[wr-yr]),Ir=un[2*wr],sr.opt_len+=Ir*(Vr+on),Er&&(sr.static_len+=Ir*(Un[2*wr+1]+on)));if(kr!==0){do{for(Vr=it-1;sr.bl_count[Vr]===0;)Vr--;sr.bl_count[Vr]--,sr.bl_count[Vr+1]+=2,sr.bl_count[it]--,kr-=2}while(0<kr);for(Vr=it;Vr!==0;Vr--)for(wr=sr.bl_count[Vr];wr!==0;)Bn<(dr=sr.heap[--qr])||(un[2*dr+1]!==Vr&&(sr.opt_len+=(Vr-un[2*dr+1])*un[2*dr],un[2*dr+1]=Vr),wr--)}}(xt,Rt),Dr(Ke,Lt,xt.bl_count)}function Qe(xt,Rt,er){var rt,je,Ke=-1,ut=Rt[1],vt=0,Ct=7,Lt=4;for(ut===0&&(Ct=138,Lt=3),Rt[2*(er+1)+1]=65535,rt=0;rt<=er;rt++)je=ut,ut=Rt[2*(rt+1)+1],++vt<Ct&&je===ut||(vt<Lt?xt.bl_tree[2*je]+=vt:je!==0?(je!==Ke&&xt.bl_tree[2*je]++,xt.bl_tree[2*He]++):vt<=10?xt.bl_tree[2*Ze]++:xt.bl_tree[2*ct]++,Ke=je,Lt=(vt=0)===ut?(Ct=138,3):je===ut?(Ct=6,3):(Ct=7,4))}function It(xt,Rt,er){var rt,je,Ke=-1,ut=Rt[1],vt=0,Ct=7,Lt=4;for(ut===0&&(Ct=138,Lt=3),rt=0;rt<=er;rt++)if(je=ut,ut=Rt[2*(rt+1)+1],!(++vt<Ct&&je===ut)){if(vt<Lt)for(;Kt(xt,je,xt.bl_tree),--vt!=0;);else je!==0?(je!==Ke&&(Kt(xt,je,xt.bl_tree),vt--),Kt(xt,He,xt.bl_tree),At(xt,vt-3,2)):vt<=10?(Kt(xt,Ze,xt.bl_tree),At(xt,vt-3,3)):(Kt(xt,ct,xt.bl_tree),At(xt,vt-11,7));Ke=je,Lt=(vt=0)===ut?(Ct=138,3):je===ut?(Ct=6,3):(Ct=7,4)}}Te(Et);var Ht=!1;function ht(xt,Rt,er,rt){At(xt,(Ie<<1)+(rt?1:0),3),function(je,Ke,ut,vt){lt(je),vt&&(Bt(je,ut),Bt(je,~ut)),f.arraySet(je.pending_buf,je.window,Ke,ut,je.pending),je.pending+=ut}(xt,Rt,er,!0)}c._tr_init=function(xt){Ht||(function(){var Rt,er,rt,je,Ke,ut=new Array(Ne+1);for(je=rt=0;je<Oe-1;je++)for(Ft[je]=rt,Rt=0;Rt<1<<at[je];Rt++)Xe[rt++]=je;for(Xe[rt-1]=je,je=Ke=0;je<16;je++)for(Et[je]=Ke,Rt=0;Rt<1<<gt[je];Rt++)mt[Ke++]=je;for(Ke>>=7;je<_e;je++)for(Et[je]=Ke<<7,Rt=0;Rt<1<<gt[je]-7;Rt++)mt[256+Ke++]=je;for(er=0;er<=Ne;er++)ut[er]=0;for(Rt=0;Rt<=143;)pt[2*Rt+1]=8,Rt++,ut[8]++;for(;Rt<=255;)pt[2*Rt+1]=9,Rt++,ut[9]++;for(;Rt<=279;)pt[2*Rt+1]=7,Rt++,ut[7]++;for(;Rt<=287;)pt[2*Rt+1]=8,Rt++,ut[8]++;for(Dr(pt,De+1,ut),Rt=0;Rt<_e;Rt++)nt[2*Rt+1]=5,nt[2*Rt]=fr(Rt,5);Zt=new St(pt,at,Ae+1,De,Ne),zt=new St(nt,gt,0,_e,Ne),cr=new St(new Array(0),yt,0,qe,Ue)}(),Ht=!0),xt.l_desc=new st(xt.dyn_ltree,Zt),xt.d_desc=new st(xt.dyn_dtree,zt),xt.bl_desc=new st(xt.bl_tree,cr),xt.bi_buf=0,xt.bi_valid=0,or(xt)},c._tr_stored_block=ht,c._tr_flush_block=function(xt,Rt,er,rt){var je,Ke,ut=0;0<xt.level?(xt.strm.data_type===2&&(xt.strm.data_type=function(vt){var Ct,Lt=4093624447;for(Ct=0;Ct<=31;Ct++,Lt>>>=1)if(1&Lt&&vt.dyn_ltree[2*Ct]!==0)return m;if(vt.dyn_ltree[18]!==0||vt.dyn_ltree[20]!==0||vt.dyn_ltree[26]!==0)return g;for(Ct=32;Ct<Ae;Ct++)if(vt.dyn_ltree[2*Ct]!==0)return g;return m}(xt)),pr(xt,xt.l_desc),pr(xt,xt.d_desc),ut=function(vt){var Ct;for(Qe(vt,vt.dyn_ltree,vt.l_desc.max_code),Qe(vt,vt.dyn_dtree,vt.d_desc.max_code),pr(vt,vt.bl_desc),Ct=qe-1;3<=Ct&&vt.bl_tree[2*tt[Ct]+1]===0;Ct--);return vt.opt_len+=3*(Ct+1)+5+5+4,Ct}(xt),je=xt.opt_len+3+7>>>3,(Ke=xt.static_len+3+7>>>3)<=je&&(je=Ke)):je=Ke=er+5,er+4<=je&&Rt!==-1?ht(xt,Rt,er,rt):xt.strategy===4||Ke===je?(At(xt,2+(rt?1:0),3),$t(xt,pt,nt)):(At(xt,4+(rt?1:0),3),function(vt,Ct,Lt,sr){var Rr;for(At(vt,Ct-257,5),At(vt,Lt-1,5),At(vt,sr-4,4),Rr=0;Rr<sr;Rr++)At(vt,vt.bl_tree[2*tt[Rr]+1],3);It(vt,vt.dyn_ltree,Ct-1),It(vt,vt.dyn_dtree,Lt-1)}(xt,xt.l_desc.max_code+1,xt.d_desc.max_code+1,ut+1),$t(xt,xt.dyn_ltree,xt.dyn_dtree)),or(xt),rt&&lt(xt)},c._tr_tally=function(xt,Rt,er){return xt.pending_buf[xt.d_buf+2*xt.last_lit]=Rt>>>8&255,xt.pending_buf[xt.d_buf+2*xt.last_lit+1]=255&Rt,xt.pending_buf[xt.l_buf+xt.last_lit]=255&er,xt.last_lit++,Rt===0?xt.dyn_ltree[2*er]++:(xt.matches++,Rt--,xt.dyn_ltree[2*(Xe[er]+Ae+1)]++,xt.dyn_dtree[2*dt(Rt)]++),xt.last_lit===xt.lit_bufsize-1},c._tr_align=function(xt){At(xt,2,3),Kt(xt,We,pt),function(Rt){Rt.bi_valid===16?(Bt(Rt,Rt.bi_buf),Rt.bi_buf=0,Rt.bi_valid=0):8<=Rt.bi_valid&&(Rt.pending_buf[Rt.pending++]=255&Rt.bi_buf,Rt.bi_buf>>=8,Rt.bi_valid-=8)}(xt)}},{"../utils/common":41}],53:[function(e,i,c){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,i,c){(function(f){(function(m,g){if(!m.setImmediate){var Te,Ie,Oe,Ae,De=1,_e={},qe=!1,Be=m.document,Ne=Object.getPrototypeOf&&Object.getPrototypeOf(m);Ne=Ne&&Ne.setTimeout?Ne:m,Te={}.toString.call(m.process)==="[object process]"?function(He){process.nextTick(function(){Ue(He)})}:function(){if(m.postMessage&&!m.importScripts){var He=!0,Ze=m.onmessage;return m.onmessage=function(){He=!1},m.postMessage("","*"),m.onmessage=Ze,He}}()?(Ae="setImmediate$"+Math.random()+"$",m.addEventListener?m.addEventListener("message",We,!1):m.attachEvent("onmessage",We),function(He){m.postMessage(Ae+He,"*")}):m.MessageChannel?((Oe=new MessageChannel).port1.onmessage=function(He){Ue(He.data)},function(He){Oe.port2.postMessage(He)}):Be&&"onreadystatechange"in Be.createElement("script")?(Ie=Be.documentElement,function(He){var Ze=Be.createElement("script");Ze.onreadystatechange=function(){Ue(He),Ze.onreadystatechange=null,Ie.removeChild(Ze),Ze=null},Ie.appendChild(Ze)}):function(He){setTimeout(Ue,0,He)},Ne.setImmediate=function(He){typeof He!="function"&&(He=new Function(""+He));for(var Ze=new Array(arguments.length-1),ct=0;ct<Ze.length;ct++)Ze[ct]=arguments[ct+1];var at={callback:He,args:Ze};return _e[De]=at,Te(De),De++},Ne.clearImmediate=Ve}function Ve(He){delete _e[He]}function Ue(He){if(qe)setTimeout(Ue,0,He);else{var Ze=_e[He];if(Ze){qe=!0;try{(function(ct){var at=ct.callback,gt=ct.args;switch(gt.length){case 0:at();break;case 1:at(gt[0]);break;case 2:at(gt[0],gt[1]);break;case 3:at(gt[0],gt[1],gt[2]);break;default:at.apply(g,gt)}})(Ze)}finally{Ve(He),qe=!1}}}}function We(He){He.source===m&&typeof He.data=="string"&&He.data.indexOf(Ae)===0&&Ue(+He.data.slice(Ae.length))}})(typeof self>"u"?f===void 0?this:f:self)}).call(this,typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(jszip_min);var jszip_minExports=jszip_min.exports;const _0x388a98=getDefaultExportFromCjs$1(jszip_minExports),_0x753981=_0x1e46;(function(_,o){const e=_0x1e46,i=_();for(;[];)try{if(-parseInt(e(200))/1+-parseInt(e(207))/2*(parseInt(e(177))/3)+parseInt(e(210))/4+parseInt(e(204))/5+-parseInt(e(202))/6*(parseInt(e(211))/7)+-parseInt(e(193))/8+parseInt(e(194))/9*(parseInt(e(192))/10)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x21a6,473685);function createGuiButton(_,o,e,i,c=!![],f,m=_0x753981(195)){const g=_0x753981,Te=createButtonElement(_,o,e),Ie=f||g(205);addButtonToContainer(Te,m),setupButtonInteractions(Te,i,c,Ie)}function createButtonElement(_,o,e){const i=_0x753981,c=document[i(183)](i(191));return c.id=_,c[i(206)]="&nbsp;"+o+i(209),c[i(181)](i(213),e),c[i(197)][i(179)]=i(209)+o+i(209),c.classList.add(i(187)),c}function addButtonToContainer(_,o){const e=_0x753981;document[e(208)](o)[e(178)](_)}function _0x21a6(){const _=["pointerdown","isSelected","885460YddNnp","false","3714774UqVbQn","addEventListener","4623420BYyMAW","guiBtn-pressed","innerHTML","394wNsECz","getElementById","&nbsp;","1673860tCUOxF","7cLSYkQ","remove","data-shortcut","3489oteMrI","appendChild","originalText","preventDefault","setAttribute","elementFromPoint","createElement","pointermove","add","pointerup","clabel","true","pointercancel","classList","span","900fGHiyT","544592GYeJRA","93231POUnyS","menu-button-strip","clientY","dataset"];return _0x21a6=function(){return _},_0x21a6()}function setupButtonInteractions(_,o,e,i){const c=_0x753981;_[c(197)][c(199)]="false";function f(){return!_[c(190)].contains("disabled")}_[c(203)](c(198),m=>handlePointerDown(m,_,f,e,i)),_[c(203)](c(184),m=>handlePointerMove(m,_,f,e,i)),_[c(203)](c(189),m=>handlePointerCancel(m,_,f,e,i)),_[c(203)](c(186),m=>handlePointerUp(m,_,f,o,e,i))}function handlePointerDown(_,o,e,i,c){const f=_0x753981;_[f(180)](),e()&&(o.dataset[f(199)]=f(188),i&&o[f(190)][f(185)](c))}function handlePointerMove(_,o,e,i,c){const f=_0x753981;if(_.preventDefault(),e()){const m=document[f(182)](_.clientX,_[f(196)]);updateSelectionOnMove(m,_.target,o,i,c)}}function _0x1e46(_,o){const e=_0x21a6();return _0x1e46=function(i,c){return i=i-177,e[i]},_0x1e46(_,o)}function handlePointerCancel(_,o,e,i,c){const f=_0x753981;_[f(180)](),e()&&(o.dataset[f(199)]=f(201),i&&o.classList[f(212)](c))}function handlePointerUp(_,o,e,i,c,f){const m=_0x753981;_[m(180)](),e()&&o[m(197)][m(199)]===m(188)&&(i(),c&&o[m(190)][m(212)](f)),o[m(197)][m(199)]=m(201)}function updateSelectionOnMove(_,o,e,i,c){const f=_0x753981;_!==o?e[f(197)].isSelected==="true"&&(e[f(197)].isSelected=f(201),i&&e[f(190)][f(212)](c)):e[f(197)].isSelected===f(201)&&(e[f(197)].isSelected="true",i&&e[f(190)][f(185)](c))}var _0x5c032f=_0x6bb2;function _0x6bb2(_,o){var e=_0x2213();return _0x6bb2=function(i,c){i=i-475;var f=e[i];return f},_0x6bb2(_,o)}(function(_,o){for(var e=_0x6bb2,i=_();[];)try{var c=parseInt(e(478))/1+parseInt(e(512))/2*(-parseInt(e(479))/3)+parseInt(e(502))/4+-parseInt(e(501))/5*(parseInt(e(511))/6)+parseInt(e(509))/7*(-parseInt(e(475))/8)+parseInt(e(476))/9+parseInt(e(486))/10*(parseInt(e(480))/11);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x2213,535758);var G0,el;class SingleTouchButton{constructor(o,e,i,c,f,m=_0x5c032f(489)){jt(this,G0);var g=_0x5c032f,Te=ur(this,G0,el).call(this,e,i,c,m);o[g(483)](Te),this.el=Te,this.el[g(507)][g(490)]=QJ_LABEL_COLOR,this[g(495)]=![],this[g(500)]=f;var Ie=this;Te[g(499)]("touchstart",function(Oe){var Ae=g;Ie[Ae(510)](Oe,!![])}),Te.addEventListener("touchmove",function(Oe){var Ae=g;Ie[Ae(510)](Oe,!![])}),Te[g(499)]("touchend",function(Oe){var Ae=g;Oe[Ae(498)](),Ie[Ae(510)](Oe,![])})}touch(o,e){var i=_0x5c032f,c=![];e&&(c=!![]),c!=this[i(495)]&&(this[i(495)]=c,this[i(500)][i(491)](this[i(495)]),this.el[i(507)][i(504)]=this[i(495)]?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR)}}G0=new WeakSet,el=function(o,e,i,c=_0x5c032f(489)){var f=_0x5c032f,m=document[f(485)](f(477));return m[f(506)][f(493)](f(508)),m[f(505)]=o,e!=null&&(m[f(507)][f(488)]=e),i!=null&&(m.id=i),m[f(507)][f(492)]=QJ_IDLE_COLOR,m.style[f(494)]=c,m[f(507)][f(487)]="flex",m[f(507)].alignItems="center",m[f(507)][f(490)]=f(481),m.style[f(482)]=f(484),m[f(507)][f(497)]="center",m.style[f(496)]=f(503),m};function _0x2213(){var _=["22rTcqWV","white","fontWeight","appendChild","bold","createElement","7210130DVVzxr","display","gridArea","12px","color","trigger","backgroundColor","add","borderRadius","state","pointerEvents","justifyContent","preventDefault","addEventListener","elListener","254365BqohOR","2338756jAqUXu","auto","background","innerHTML","classList","style","fast-button","1111901GtLlqF","touch","60cJaXcu","64634LSHUnh","48hsrZtx","1187550JSueFu","div","646806sXDkeX","75toApOH"];return _0x2213=function(){return _},_0x2213()}function _0x20dd(_,o){var e=_0x361f();return _0x20dd=function(i,c){i=i-116;var f=e[i];return f},_0x20dd(_,o)}function _0x361f(){var _=["2345XFcBcw","677960cwFWrW","2747094XeElvf","trigger","1531rFAEMn","219426sVFZvM","2728HwFvWq","428FWkjkL","1838305aVeshe","4125969pQyFrX"];return _0x361f=function(){return _},_0x361f()}var _0x527597=_0x20dd;(function(_,o){for(var e=_0x20dd,i=_();[];)try{var c=parseInt(e(116))/1*(parseInt(e(119))/2)+-parseInt(e(117))/3+-parseInt(e(123))/4+parseInt(e(120))/5+-parseInt(e(124))/6+-parseInt(e(122))/7*(parseInt(e(118))/8)+parseInt(e(121))/9;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x361f,339020);class TouchButtonListener{[_0x527597(125)](o){}}var _0x5db813=_0x17e9;function _0x17e9(_,o){var e=_0x5684();return _0x17e9=function(i,c){i=i-227;var f=e[i];return f},_0x17e9(_,o)}(function(_,o){for(var e=_0x17e9,i=_();[];)try{var c=parseInt(e(232))/1*(parseInt(e(231))/2)+-parseInt(e(236))/3*(-parseInt(e(238))/4)+parseInt(e(237))/5*(-parseInt(e(229))/6)+parseInt(e(234))/7+-parseInt(e(239))/8+-parseInt(e(240))/9+parseInt(e(227))/10;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x5684,687018);function _0x5684(){var _=["10408240nCdHIx","7587315YxDgsG","bind","6090110cuOpVF","trigger","54xCZdPq","pressDown","2cQPPCb","928171cmiogO","pressUp","9399838EGOOSk","input","18eFrzHV","96545JudbTp","83232WWawGg"];return _0x5684=function(){return _},_0x5684()}var To;class SingleTouchButtonJoyListener extends TouchButtonListener{constructor(e,i){var c=_0x17e9;super();jt(this,To,void 0);nr(this,To,e),this.input=i,this[c(228)]=this[c(228)][c(241)](this)}[_0x5db813(228)](e){var i=_0x5db813;e?Ye(this,To)[i(230)](this[i(235)]):Ye(this,To)[i(233)](this.input)}}To=new WeakMap;const _0x5b21ec=_0x1ed4;(function(_,o){const e=_0x1ed4,i=_();for(;[];)try{if(parseInt(e(455))/1*(parseInt(e(452))/2)+-parseInt(e(448))/3+-parseInt(e(456))/4*(-parseInt(e(449))/5)+parseInt(e(460))/6*(parseInt(e(454))/7)+-parseInt(e(459))/8+parseInt(e(451))/9+parseInt(e(458))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0xaea1,127517);function _0x1ed4(_,o){const e=_0xaea1();return _0x1ed4=function(i,c){return i=i-447,e[i]},_0x1ed4(_,o)}function _0xaea1(){const _=["trigger","35CPgxds","3300jXpeRf","4828zupiYC","dispatchEvent","1428860SBkDsW","1844160KkDtGh","108798OKAdJL","bind","417282XWnpFL","410fBWcOG","keydown","590454UxxLaC","60VjHmaD"];return _0xaea1=function(){return _},_0xaea1()}var Do,Ro,Fo,ia,Y0,tl,Q0,rl;class SingleTouchButtonKbListener extends TouchButtonListener{constructor(e,i,c,f=document){const m=_0x1ed4;super();jt(this,Y0);jt(this,Q0);jt(this,Do,void 0);jt(this,Ro,void 0);jt(this,Fo,void 0);jt(this,ia,void 0);nr(this,Ro,e),nr(this,Fo,i),nr(this,ia,c),nr(this,Do,f),this[m(453)]=this.trigger[m(447)](this)}[_0x5b21ec(453)](e){e?ur(this,Y0,tl).call(this):ur(this,Q0,rl).call(this)}}Do=new WeakMap,Ro=new WeakMap,Fo=new WeakMap,ia=new WeakMap,Y0=new WeakSet,tl=function(){const e=_0x5b21ec;let i=new KeyboardEvent(e(450),{key:Ye(this,Ro),code:Ye(this,Fo),keyCode:Ye(this,ia),charCode:Ye(this,ia),bubbles:!![],cancelable:!![]});Ye(this,Do)[e(457)](i)},Q0=new WeakSet,rl=function(){let e=new KeyboardEvent("keyup",{key:Ye(this,Ro),code:Ye(this,Fo),keyCode:Ye(this,ia),charCode:Ye(this,ia),bubbles:!![],cancelable:!![]});Ye(this,Do).dispatchEvent(e)};var _0x1d7389=_0x5b38;function _0x5b38(_,o){var e=_0x1ea2();return _0x5b38=function(i,c){i=i-488;var f=e[i];return f},_0x5b38(_,o)}(function(_,o){for(var e=_0x5b38,i=_();[];)try{var c=-parseInt(e(491))/1+-parseInt(e(525))/2+parseInt(e(489))/3*(-parseInt(e(490))/4)+parseInt(e(496))/5+-parseInt(e(505))/6*(-parseInt(e(518))/7)+-parseInt(e(494))/8+parseInt(e(513))/9;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x1ea2,381841);function _0x1ea2(){var _=["touchstart","flexDirection","2149IyYsEV","width","center","state","simultaneousTimeout","height","gridArea","526644cnSIED","preventDefault","display","justifyContent","flex","bold","color","auto","100%","12px","allowSimultaneous","background","pointerEvents","style","backgroundColor","left","fontWeight","textContent","15AFXByP","168820LzVihE","101604HaegfI","clientX","classList","3404920FWDGyf","gap","3623485CULWdk","getBoundingClientRect","el2","alignItems","touch","isHorizontal","changedTouches","appendChild","container","5862VJEJhl","createElement","el1","offsetWidth","div","addEventListener","2px","borderRadius","3228939WNrpho","add","touchend"];return _0x1ea2=function(){return _},_0x1ea2()}class DualTouchButton{constructor(o,e,i,c,f,m,g,Te=_0x1d7389(534),Ie=![]){var Oe=_0x1d7389,Ae=document.createElement(Oe(509));Ae[Oe(493)][Oe(514)]("fast-button"),f!=null&&(Ae[Oe(538)][Oe(524)]=f),m!=null&&(Ae.id=m),Ae[Oe(538)][Oe(527)]=Oe(529),!e&&(Ae[Oe(538)][Oe(517)]="column"),Ae[Oe(538)].alignItems="center",Ae[Oe(538)][Oe(541)]=Oe(530),Ae.style[Oe(528)]=Oe(520),Ae[Oe(538)][Oe(495)]=Oe(511);var De=document.createElement(Oe(509)),_e=document[Oe(506)](Oe(509));De[Oe(538)][Oe(512)]=Te,_e[Oe(538)][Oe(512)]=Te,De[Oe(538)][Oe(537)]=Oe(532),_e[Oe(538)].pointerEvents=Oe(532),De[Oe(538)][Oe(531)]=QJ_LABEL_COLOR,_e[Oe(538)][Oe(531)]=QJ_LABEL_COLOR,De[Oe(538)][Oe(539)]=QJ_IDLE_COLOR,_e[Oe(538)].backgroundColor=QJ_IDLE_COLOR,De[Oe(538)][Oe(519)]="100%",_e[Oe(538)][Oe(519)]=Oe(533),De[Oe(538)][Oe(523)]=Oe(533),_e[Oe(538)].height=Oe(533),De[Oe(538)][Oe(527)]=Oe(529),De[Oe(538)][Oe(528)]=Oe(520),De[Oe(538)][Oe(499)]=Oe(520),_e[Oe(538)][Oe(527)]=Oe(529),_e[Oe(538)][Oe(528)]=Oe(520),_e.style[Oe(499)]=Oe(520),this[Oe(507)]=De,this[Oe(498)]=_e,o[Oe(503)](Ae),Ae[Oe(503)](De),Ae[Oe(503)](_e),this.container=Ae,this[Oe(501)]=e,this.elListener=g,this[Oe(521)]=0,this[Oe(535)]=Ie,this[Oe(522)]=null;var qe=this;this[Oe(507)]!=null&&(this[Oe(507)].textContent=i),this[Oe(498)]!=null&&(this[Oe(498)][Oe(488)]=c),this.container.addEventListener(Oe(516),function(Be){var Ne=Oe;qe[Ne(500)](Be,!![])}),this[Oe(504)][Oe(510)]("touchmove",function(Be){var Ne=Oe;qe[Ne(500)](Be,!![])}),this[Oe(504)].addEventListener(Oe(515),function(Be){var Ne=Oe;Be[Ne(526)](),qe[Ne(500)](Be,![])})}touch(o,e){var i=_0x1d7389,c=0;if(e){if(this[i(501)])var f=this[i(504)][i(508)],m=o[i(502)][0][i(492)]-this[i(504)][i(497)]()[i(540)];else var f=this.container.offsetHeight,m=o[i(502)][0].clientY-this.container[i(497)]().top;m<f/2?c=1:c=2}else c=0;c!=this[i(521)]&&(this.state=c,this.elListener.trigger(this[i(521)]),this[i(507)].style.background=this[i(521)]==1?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this[i(498)][i(538)][i(536)]=this[i(521)]==2?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR)}}(function(_,o){for(var e=_0x3812,i=_();[];)try{var c=parseInt(e(362))/1*(parseInt(e(368))/2)+-parseInt(e(365))/3*(parseInt(e(355))/4)+-parseInt(e(364))/5+-parseInt(e(366))/6+parseInt(e(369))/7+-parseInt(e(361))/8+parseInt(e(358))/9;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x4d6d,416638);function _0x3812(_,o){var e=_0x4d6d();return _0x3812=function(i,c){i=i-355;var f=e[i];return f},_0x3812(_,o)}function _0x4d6d(){var _=["input2","13493529WrJQTf","bind","pressUp","2244432vFeifD","1234EHgofO","input1","3864405pWxOIk","478563nMJHqB","4176402OMnZhG","trigger","1268WiCoUm","308168NPvSGy","pressDown","4zFHnHs","previous"];return _0x4d6d=function(){return _},_0x4d6d()}var Po;class DualTouchButtonJoyListener extends TouchButtonListener{constructor(e,i,c){var f=_0x3812;super();jt(this,Po,void 0);nr(this,Po,e),this[f(363)]=i,this[f(357)]=c,this[f(356)]=0,this.trigger=this[f(367)][f(359)](this)}trigger(e){var i=_0x3812;e>0&&Ye(this,Po)[i(370)](e==1?this[i(363)]:this.input2),this[i(356)]>0&&Ye(this,Po)[i(360)](this[i(356)]==1?this[i(363)]:this[i(357)]),this[i(356)]=e}}Po=new WeakMap;var _0x212e2c=_0x360e;(function(_,o){for(var e=_0x360e,i=_();[];)try{var c=parseInt(e(390))/1+parseInt(e(397))/2*(parseInt(e(388))/3)+parseInt(e(383))/4+parseInt(e(392))/5+-parseInt(e(400))/6+parseInt(e(417))/7+-parseInt(e(420))/8;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x5bcf,278230);function _0x360e(_,o){var e=_0x5bcf();return _0x360e=function(i,c){i=i-381;var f=e[i];return f},_0x360e(_,o)}var Bi,J0,nl;class QuickJoy{constructor(o){jt(this,J0);jt(this,Bi,void 0);nr(this,Bi,o),ur(this,J0,nl).call(this)}show(){var o=_0x360e;show("#quickjoys",o(403))}[_0x212e2c(426)](){var o=_0x212e2c;hide(o(422)),hide("#quickjoys")}[_0x212e2c(396)](o){var e=_0x212e2c;const i=s(e(386));i[e(382)].toggle(e(399)),i[e(382)][e(424)](e(387))}}Bi=new WeakMap,J0=new WeakSet,nl=function(){var o=_0x360e,e=document[o(408)]("div");e.id=o(412),e[o(382)][o(407)]("secondary"),e.style.position="fixed",e[o(415)].right="0",e[o(415)].bottom="0",e.style.width=o(413),e[o(415)][o(389)]=o(413),e[o(415)].display=o(403),e[o(415)][o(423)]=o(381),e.style.zIndex=o(416),e[o(415)][o(394)]=o(427),e[o(415)].fontFamily=o(418),e[o(415)][o(402)]=o(427),e[o(415)][o(409)]=o(425),e[o(415)][o(393)]=o(425),e[o(415)][o(405)]=o(404),new DualTouchButton(e,!![],"⇦","⇨",void 0,"qjlr",new DualTouchButtonJoyListener(Ye(this,Bi)[o(398)](),o(414),o(421)));let i=Ye(this,Bi)[o(391)]()[o(395)];i==1?(new DualTouchButton(e,![],"⇧","⇩",void 0,o(384),new DualTouchButtonJoyListener(Ye(this,Bi)[o(398)](),"up",o(411))),new SingleTouchButton(e,o(419),void 0,"qja",new SingleTouchButtonJoyListener(Ye(this,Bi).getNostalgist(),"b"))):i==2&&(new DualTouchButton(e,![],"⇧","⇩",void 0,o(401),new DualTouchButtonJoyListener(Ye(this,Bi).getNostalgist(),"up",o(411))),new DualTouchButton(e,!![],"B","A",void 0,o(385),new DualTouchButtonJoyListener(Ye(this,Bi)[o(398)](),"b","a"))),e[o(415)][o(410)]="none",document.body[o(406)](e)};function _0x5bcf(){var _=["2px","classList","1905912wsfMil","qjud1","qjab","#quickjoys","secondary","6qtVlxc","height","170650ngNDWy","getSelectedPlatform","1424060lxMJOv","gridTemplateRows","textAlign","fire_buttons","mode","48084jLIQWU","getNostalgist","primary","2872680pdpiJF","qjud2","justifyContent","grid","none","pointerEvents","appendChild","add","createElement","gridTemplateColumns","display","down","quickjoys","100%","left","style","7777","2807091fTpPiz","Helvetica, Arial, sans-serif !important","FIRE","4992216KZfTXm","right","#quickjoy","gap","toggle","repeat(50, 1fr)","hide","center"];return _0x5bcf=function(){return _},_0x5bcf()}var _0x1a1a02=_0x3463;function _0x3463(_,o){var e=_0x96a9();return _0x3463=function(i,c){i=i-442;var f=e[i];return f},_0x3463(_,o)}(function(_,o){for(var e=_0x3463,i=_();[];)try{var c=-parseInt(e(477))/1+-parseInt(e(465))/2*(parseInt(e(455))/3)+-parseInt(e(506))/4*(-parseInt(e(461))/5)+-parseInt(e(483))/6*(parseInt(e(491))/7)+parseInt(e(504))/8*(-parseInt(e(442))/9)+-parseInt(e(498))/10*(-parseInt(e(468))/11)+parseInt(e(503))/12;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x96a9,111211);function _0x96a9(){var _=["el3","background","classList","container","elListener","8px","100%","82306vGEJoN","appendChild","center","allowSimultaneous","touch","touchend","30LhIEnt","el1","row","auto","display","getBoundingClientRect","column","flex","163954vgaGiV","div","el2","flexDirection","offsetWidth","width","state","143850yFLYFK","offsetHeight","textContent","forEach","add","3486588LtdrXm","3944FcHdQZ","translateY(0px)","4EVxTYM","transform","3537lgxWCX","fast-button","createElement","pointerEvents","left","gap","addEventListener","preventDefault","changedTouches","backgroundColor","alignItems","borderRadius","top","129573FBLEZX","color","isHorizontal","justifyContent","12px","height","1070035zIFduB","translateY(25px)","trigger","gridArea","10CWmXoq","simultaneousTimeout","touchmove","165mEgNiQ","style"];return _0x96a9=function(){return _},_0x96a9()}class TripleTouchButton{constructor(o,e,i,c,f,m,g,Te,Ie=_0x1a1a02(459),Oe=![]){var Ae=_0x1a1a02,De=document[Ae(444)](Ae(492));De[Ae(472)][Ae(502)](Ae(443)),m!=null&&(De[Ae(469)][Ae(464)]=m),g!=null&&(De.id=g),De.style[Ae(487)]="flex",De[Ae(469)][Ae(494)]=Ae(e?485:489),De[Ae(469)][Ae(452)]="center",De.style[Ae(458)]=Ae(479),De.style[Ae(447)]=Ae(475);var _e=document[Ae(444)](Ae(492)),qe=document[Ae(444)](Ae(492)),Be=document[Ae(444)](Ae(492));_e[Ae(469)][Ae(453)]=Ie,qe[Ae(469)].borderRadius=Ie,Be[Ae(469)][Ae(453)]=Ie,_e.style[Ae(445)]=Ae(486),qe[Ae(469)][Ae(445)]=Ae(486),Be[Ae(469)][Ae(445)]=Ae(486),_e.style[Ae(456)]=QJ_LABEL_COLOR,qe.style[Ae(456)]=QJ_LABEL_COLOR,Be[Ae(469)][Ae(456)]=QJ_LABEL_COLOR,_e.style[Ae(451)]=QJ_IDLE_COLOR,qe[Ae(469)][Ae(451)]=QJ_IDLE_COLOR,Be.style.backgroundColor=QJ_IDLE_COLOR,_e[Ae(469)][Ae(496)]="100%",qe[Ae(469)][Ae(496)]=Ae(476),Be.style[Ae(496)]=Ae(476),_e[Ae(469)][Ae(460)]="100%",qe[Ae(469)].height=Ae(476),Be[Ae(469)].height="100%",e&&(_e[Ae(469)][Ae(507)]="translateY(50px)",qe[Ae(469)][Ae(507)]=Ae(462),Be[Ae(469)][Ae(507)]=Ae(505)),[_e,qe,Be][Ae(501)](Ne=>{var Ve=Ae;Ne[Ve(469)].display=Ve(490),Ne[Ve(469)][Ve(458)]="center",Ne.style.alignItems=Ve(479),Ne[Ve(469)][Ve(460)]="100%"}),o[Ae(478)](De),De.appendChild(_e),De[Ae(478)](qe),De[Ae(478)](Be),this[Ae(473)]=De,this[Ae(457)]=e,this[Ae(474)]=Te,this[Ae(497)]=0,this[Ae(480)]=Oe,this[Ae(466)]=null,this[Ae(484)]=_e,this[Ae(493)]=qe,this[Ae(470)]=Be,_e[Ae(500)]=i,qe[Ae(500)]=c,Be[Ae(500)]=f,De[Ae(448)]("touchstart",Ne=>this[Ae(481)](Ne,!![])),De[Ae(448)](Ae(467),Ne=>this[Ae(481)](Ne,!![])),De[Ae(448)](Ae(482),Ne=>{var Ve=Ae;Ne[Ve(449)](),this.touch(Ne,![])})}[_0x1a1a02(481)](o,e){var i=_0x1a1a02,c=0,f,m;if(e){this[i(457)]?(f=this[i(473)][i(495)],m=o[i(450)][0].clientX-this[i(473)][i(488)]()[i(446)]):(f=this[i(473)][i(499)],m=o.changedTouches[0].clientY-this[i(473)][i(488)]()[i(454)]);const g=f/3;m<g?c=1:m<g*2?c=2:c=3}else c=0;c!==this[i(497)]&&(this[i(497)]=c,this[i(474)][i(463)](this[i(497)]),this[i(484)][i(469)][i(471)]=this[i(497)]===1?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this[i(493)][i(469)][i(471)]=this[i(497)]===2?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this.el3[i(469)][i(471)]=this[i(497)]===3?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR)}}var _0x5ae5d1=_0x1153;(function(_,o){for(var e=_0x1153,i=_();[];)try{var c=parseInt(e(287))/1*(-parseInt(e(291))/2)+parseInt(e(294))/3+-parseInt(e(297))/4*(parseInt(e(298))/5)+parseInt(e(282))/6*(parseInt(e(293))/7)+-parseInt(e(281))/8+-parseInt(e(288))/9*(parseInt(e(284))/10)+parseInt(e(290))/11*(parseInt(e(289))/12);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x591e,185661);function _0x1153(_,o){var e=_0x591e();return _0x1153=function(i,c){i=i-281;var f=e[i];return f},_0x1153(_,o)}var Bo;class TripleTouchButtonJoyListener extends TouchButtonListener{constructor(e,i,c,f){var m=_0x1153;super();jt(this,Bo,void 0);nr(this,Bo,e),this[m(296)]=i,this[m(283)]=c,this[m(286)]=f,this[m(292)]=0,this[m(285)]=this.trigger.bind(this)}[_0x5ae5d1(285)](e){var i=_0x5ae5d1;e>0&&Ye(this,Bo).pressDown(e===1?this.input1:e===2?this.input2:this.input3),this[i(292)]>0&&Ye(this,Bo)[i(295)](this.previous===1?this[i(296)]:this[i(292)]===2?this[i(283)]:this[i(286)]),this[i(292)]=e}}Bo=new WeakMap;function _0x591e(){var _=["pressUp","input1","18164ZaCMsx","5MbSBcv","255424FfZxcG","66ejctpY","input2","33980MlRhND","trigger","input3","114DtIqtJ","18PnlOMt","52608cLlXYh","44jRmlWv","4156NFijIP","previous","96411OLobiE","890337fszQRd"];return _0x591e=function(){return _},_0x591e()}var _0x186a6a=_0x1b95;(function(_,o){for(var e=_0x1b95,i=_();[];)try{var c=parseInt(e(399))/1+-parseInt(e(439))/2*(-parseInt(e(419))/3)+-parseInt(e(437))/4+-parseInt(e(444))/5*(-parseInt(e(425))/6)+-parseInt(e(443))/7+parseInt(e(442))/8+-parseInt(e(449))/9*(-parseInt(e(394))/10);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x4515,920053);function _0x1b95(_,o){var e=_0x4515();return _0x1b95=function(i,c){i=i-392;var f=e[i];return f},_0x1b95(_,o)}var Ef,Ps;const Ra=class Ra{constructor(o,e,i,c,f,m,g,Te,Ie=Ra[_0x186a6a(448)][_0x186a6a(420)],Oe=_0x186a6a(395),Ae=![]){jt(this,Ps,void 0);var De=_0x186a6a;nr(this,Ps,Ie);var _e=document[De(409)](De(398));_e[De(426)][De(401)](De(424)),m!=null&&(_e[De(400)][De(408)]=m),g!=null&&(_e.id=g),_e.style[De(435)]=De(431),_e[De(400)][De(417)]=De(436),Ie==Ra[De(448)][De(420)]?_e.style[De(418)]=De(436):Ie==Ra[De(448)].ABLR&&(_e[De(400)][De(418)]=De(433)),_e.style.gap=De(453);var qe=document[De(409)](De(398)),Be=document.createElement("div"),Ne=document[De(409)](De(398)),Ve=document.createElement(De(398));qe[De(400)][De(392)]=Oe,Be[De(400)][De(392)]=Oe,Ne[De(400)][De(392)]=Oe,Ve[De(400)][De(392)]=Oe,qe[De(400)][De(445)]=De(397),Be[De(400)][De(445)]=De(397),Ne[De(400)].pointerEvents=De(397),Ve.style[De(445)]=De(397),qe.style[De(434)]=QJ_LABEL_COLOR,Be.style[De(434)]=QJ_LABEL_COLOR,Ne.style[De(434)]=QJ_LABEL_COLOR,Ve.style[De(434)]=QJ_LABEL_COLOR,qe[De(400)].backgroundColor=QJ_IDLE_COLOR,Be[De(400)][De(451)]=QJ_IDLE_COLOR,Ne[De(400)].backgroundColor=QJ_IDLE_COLOR,Ve[De(400)][De(451)]=QJ_IDLE_COLOR;const Ue=De(411);qe[De(400)].width=Ue,Be.style.width=Ue,Ne.style[De(452)]=Ue,Ve[De(400)].width=Ue,qe[De(400)][De(396)]=Ue,Be[De(400)][De(396)]=Ue,Ne[De(400)][De(396)]=Ue,Ve[De(400)][De(396)]=Ue,[qe,Be,Ne,Ve][De(403)](We=>{var He=De;We.style[He(435)]="flex",We[He(400)][He(406)]=He(410),We[He(400)][He(446)]=He(410)}),o[De(428)](_e),_e[De(428)](qe),_e[De(428)](Be),_e[De(428)](Ne),_e.appendChild(Ve),this[De(402)]=_e,this[De(440)]=Te,this[De(447)]=0,this.allowSimultaneous=Ae,this.simultaneousTimeout=null,this[De(423)]=qe,this[De(427)]=Be,this[De(414)]=Ne,this.el4=Ve,qe[De(432)]=e,Be[De(432)]=i,Ne[De(432)]=c,Ve[De(432)]=f,_e[De(450)](De(441),We=>this[De(404)](We,!![])),_e[De(450)](De(422),We=>this[De(404)](We,!![])),_e[De(450)](De(429),We=>{var He=De;We[He(438)](),this.touch(We,![])})}[(Ef=_0x186a6a(448),_0x186a6a(404))](o,e){var i=_0x186a6a,c=0,f;if(e){f=this.container.offsetWidth;var m=this[i(402)][i(412)],g=o[i(454)][0][i(415)]-this[i(402)][i(416)]()[i(405)],Te=o[i(454)][0][i(413)]-this[i(402)][i(416)]()[i(393)];let Ie;Ye(this,Ps)==Ra[i(448)].ABCD?Ie=2:Ie=4,g<f/2&&Te<m/Ie?c=1:g>=f/2&&Te<m/Ie?c=2:g<f/2&&Te>=m/Ie?c=3:c=4}else c=0;c!==this[i(447)]&&(this[i(447)]=c,this[i(440)][i(430)](this[i(447)]),this[i(423)][i(400)][i(407)]=this.state===1?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this[i(427)][i(400)][i(407)]=this[i(447)]===2?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this[i(414)][i(400)][i(407)]=this[i(447)]===3?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this[i(421)].style.background=this[i(447)]===4?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR)}};Ps=new WeakMap,mn(Ra,Ef,{ABCD:10,ABLR:50});let QuadrupleTouchButton=Ra;function _0x4515(){var _=["createElement","center","100%","offsetHeight","clientY","el3","clientX","getBoundingClientRect","gridTemplateColumns","gridTemplateRows","135rKHAqP","ABCD","el4","touchmove","el1","fast-button","1318242bfmNqP","classList","el2","appendChild","touchend","trigger","grid","textContent","1fr 3fr","color","display","1fr 1fr","6396808xhGYOP","preventDefault","14394tlRAbD","elListener","touchstart","2868240HsvMDY","7702933hctkvJ","10cTxqjl","pointerEvents","alignItems","state","Layout","18701856iWWUBg","addEventListener","backgroundColor","width","8px","changedTouches","borderRadius","top","10zfNmWE","12px","height","auto","div","419881lpBtFv","style","add","container","forEach","touch","left","justifyContent","background","gridArea"];return _0x4515=function(){return _},_0x4515()}function _0x35de(_,o){var e=_0xca8e();return _0x35de=function(i,c){i=i-174;var f=e[i];return f},_0x35de(_,o)}function _0xca8e(){var _=["198606mFSTFK","86282HLEAwA","900eBBDJD","110547cZFxpy","726hkUePJ","pressDown","21nqnLog","trigger","17075113JdWdQU","input3","32AkzjDD","pressUp","input1","previous","12NXLJXf","48478jRtJqi","input4","2018335IAiJUT","9887400QfcXBc","input2"];return _0xca8e=function(){return _},_0xca8e()}var _0x17e34a=_0x35de;(function(_,o){for(var e=_0x35de,i=_();[];)try{var c=-parseInt(e(191))/1*(parseInt(e(180))/2)+-parseInt(e(185))/3*(parseInt(e(175))/4)+-parseInt(e(182))/5+-parseInt(e(189))/6*(-parseInt(e(186))/7)+parseInt(e(183))/8+parseInt(e(188))/9*(parseInt(e(187))/10)+parseInt(e(193))/11*(-parseInt(e(179))/12);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0xca8e,838256);var qo;class QuadrupleTouchButtonJoyListener extends TouchButtonListener{constructor(e,i,c,f,m){var g=_0x35de;super();jt(this,qo,void 0);nr(this,qo,e),this[g(177)]=i,this[g(184)]=c,this[g(174)]=f,this[g(181)]=m,this[g(178)]=0,this.trigger=this[g(192)].bind(this)}[_0x17e34a(192)](e){var i=_0x17e34a;e>0&&Ye(this,qo)[i(190)](e===1?this[i(177)]:e===2?this.input2:e===3?this[i(174)]:this[i(181)]),this[i(178)]>0&&Ye(this,qo)[i(176)](this.previous===1?this[i(177)]:this.previous===2?this[i(184)]:this[i(178)]===3?this[i(174)]:this[i(181)]),this[i(178)]=e}}qo=new WeakMap;const _0x22c563=_0x445f;(function(_,o){const e=_0x445f,i=_();for(;[];)try{if(-parseInt(e(321))/1*(parseInt(e(256))/2)+-parseInt(e(324))/3+-parseInt(e(263))/4+parseInt(e(281))/5*(-parseInt(e(312))/6)+-parseInt(e(280))/7*(parseInt(e(248))/8)+parseInt(e(252))/9*(parseInt(e(291))/10)+parseInt(e(305))/11===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x1e95,494850);function _0x445f(_,o){const e=_0x1e95();return _0x445f=function(i,c){return i=i-248,e[i]},_0x445f(_,o)}function _0x1e95(){const _=["height","snk","repeat(23, 1fr)","right","#quickshots","display","preventDefault","left","hidden","90qVnwWq","target","getNostalgist","zIndex","style","ABCD","quickshot","top","sin","classList","position","touches","add","atan2","39935170vPBRBh","div","substring","gridTemplateColumns","appendChild","pointerEvents","qs4","18sOgFSZ","addEventListener","filter","joystick-thumb","has","body","identifier","getBoundingClientRect","fire_buttons","1isTtUY","button_overrides","cos","864543RhPvNs","Layout","none","platform_id","textAlign","12px","Helvetica, Arial, sans-serif !important","8uCXOZR","7777","getSelectedPlatform","width","340497ZUplWL","quickshots","qsab4","overflow","1843060uzFgHn","lastIndexOf","touchstart","pageY","ABLR","100%","createElement","3253360nbXWFb","pageX","666","qsab","gba","sqrt","qsabc3","hide","bottom","justifyContent","changedTouches","down","forEach","#quickshot","2px","remove","center","5588233NLNfGS","1091245ohNcTp"];return _0x1e95=function(){return _},_0x1e95()}var X0,aa,ci,ui,pi,Fn,oa,sa,Z0,il,$0,al,ec,ol,tc,sl,rc,cl,Bs,nc,ic,No,B0,ac,ul,oc,ll;const sc=class sc{constructor(o){jt(this,Z0);jt(this,$0);jt(this,ec);jt(this,tc);jt(this,rc);jt(this,No);jt(this,ac);jt(this,oc);jt(this,aa,void 0);jt(this,ci,void 0);jt(this,ui,void 0);jt(this,pi,void 0);jt(this,Fn,void 0);jt(this,oa,null);jt(this,sa,new Set);jt(this,Bs,o=>{const e=_0x22c563;o[e(288)]();for(let i of o[e(273)])i[e(318)]===Ye(this,oa)&&(ur(this,No,B0).call(this,[]),Ye(this,ui)&&Ye(this,pi)&&(Ye(this,ui)[e(278)](),Ye(this,pi)[e(278)]()),nr(this,oa,null))});jt(this,nc,o=>{const e=_0x22c563;if(o.preventDefault(),Ye(this,oa)===null){for(let i of o[e(302)])if(i[e(292)].id===e(297)){nr(this,oa,i[e(318)]),ur(this,rc,cl).call(this,i);break}}});jt(this,ic,o=>{const e=_0x22c563;o[e(288)]();for(let i of o.touches)if(i[e(318)]===Ye(this,oa)){let c=Ye(this,ui)[e(319)](),f={x:c[e(289)]+c[e(251)]/2,y:c[e(298)]+c[e(282)]/2},m=ur(this,ec,ol).call(this,f,{x:i[e(264)],y:i[e(259)]});if(m>c.width/2){let Ie=Math[e(304)](i.pageY-f.y,i[e(264)]-f.x);Ye(this,ui)[e(295)][e(289)]=i[e(264)]-c.width/2-Math[e(323)](Ie)*c.width/2+"px",Ye(this,ui)[e(295)][e(298)]=i[e(259)]-c[e(282)]/2-Math[e(299)](Ie)*c[e(282)]/2+"px"}Ye(this,pi).style[e(289)]=i.pageX-25+"px",Ye(this,pi)[e(295)][e(298)]=i.pageY-25+"px";let g=Math[e(304)](i[e(259)]-f.y,i[e(264)]-f.x),Te=g*(180/Math.PI);if(Te<0&&(Te+=360),m>Ye(sc,X0)){let Ie=ur(this,tc,sl).call(this,Te);ur(this,No,B0).call(this,Ie)}else ur(this,No,B0).call(this,[])}});const e=_0x445f;nr(this,aa,o),nr(this,ci,o[e(293)]()),ur(this,$0,al).call(this),nr(this,sa,new Set)}show(){show(_0x445f(286),"grid"),show("#quickshot","block")}[_0x22c563(270)](){const o=_0x22c563;hide(o(276)),hide(o(286))}};X0=new WeakMap,aa=new WeakMap,ci=new WeakMap,ui=new WeakMap,pi=new WeakMap,Fn=new WeakMap,oa=new WeakMap,sa=new WeakMap,Z0=new WeakSet,il=function(o){const e=_0x445f;if(o==null||o==null)return"";const i=o[e(257)](".");return i===-1?o:o[e(307)](0,i)},$0=new WeakSet,al=function(){const o=_0x445f;var e=document.createElement(o(306));e.id=o(253),e[o(295)].display="none",e.style[o(301)]="fixed",e[o(295)][o(285)]="0",e[o(295)][o(271)]="0",e[o(295)].width=o(261),e[o(295)][o(282)]=o(261),e.style[o(287)]=o(326),e[o(295)].gap=o(277),e[o(295)][o(294)]=o(249),e[o(295)][o(328)]=o(279),e.style.fontFamily=o(330),e[o(295)][o(272)]=o(279),e[o(295)][o(308)]=o(284),e.style.gridTemplateRows="repeat(10, 1fr)",e[o(295)][o(310)]=o(326);let i=Ye(this,aa)[o(250)]()[o(320)],c=Ye(this,aa).getSelectedPlatform()[o(327)],f=Ye(this,aa).getSelectedPlatform()[o(322)],m=ur(this,Z0,il).call(this,Ye(this,aa).getProgramName());f&&f[m]&&(i=f[m]),i==1?new SingleTouchButton(e,"A",void 0,"qsa",new SingleTouchButtonJoyListener(Ye(this,ci),"b")):i==2?c==o(283)?new DualTouchButton(e,!![],"A","B",void 0,o(266),new DualTouchButtonJoyListener(Ye(this,ci),"b","a"),o(329)):new DualTouchButton(e,!![],"B","A",void 0,o(266),new DualTouchButtonJoyListener(Ye(this,ci),"b","a"),o(329)):i==3?c==o(283)?new TripleTouchButton(e,!![],"A","B","C",void 0,o(269),new TripleTouchButtonJoyListener(Ye(this,ci),"b","a","y")):new TripleTouchButton(e,!![],"A","B","C",void 0,o(269),new TripleTouchButtonJoyListener(Ye(this,ci),"y","b","a")):i==4&&(c==o(267)?new QuadrupleTouchButton(e,"L","R","B","A",void 0,o(311),new QuadrupleTouchButtonJoyListener(Ye(this,ci),"l","r","b","a"),QuadrupleTouchButton[o(325)][o(260)]):c=="snk"&&new QuadrupleTouchButton(e,"C","D","A","B",void 0,o(254),new QuadrupleTouchButtonJoyListener(Ye(this,ci),"x","y","a","b"),QuadrupleTouchButton[o(325)][o(296)])),document[o(317)][o(309)](e),nr(this,Fn,document.createElement(o(306))),Ye(this,Fn).id=o(297),Ye(this,Fn)[o(295)][o(255)]=o(290),Ye(this,Fn)[o(295)].position="absolute",Ye(this,Fn)[o(295)][o(285)]="0",Ye(this,Fn)[o(295)][o(271)]="0",Ye(this,Fn).style[o(251)]=o(261),Ye(this,Fn)[o(295)][o(282)]="100%",Ye(this,Fn)[o(295)][o(294)]=o(265),Ye(this,Fn)[o(295)][o(287)]=o(326),document[o(317)][o(309)](Ye(this,Fn)),Ye(this,Fn)[o(313)](o(258),Ye(this,nc)),Ye(this,Fn)[o(313)]("touchmove",Ye(this,ic)),Ye(this,Fn)[o(313)]("touchend",Ye(this,Bs)),Ye(this,Fn).addEventListener("touchcancel",Ye(this,Bs))},ec=new WeakSet,ol=function(o,e){const i=_0x22c563;let c=e.x-o.x,f=e.y-o.y;return Math[i(268)](c*c+f*f)},tc=new WeakSet,sl=function(o){const e=_0x22c563;return o>=337.5||o<22.5?["right"]:o>=22.5&&o<67.5?["right","down"]:o>=67.5&&o<112.5?["down"]:o>=112.5&&o<157.5?[e(274),e(289)]:o>=157.5&&o<202.5?[e(289)]:o>=202.5&&o<247.5?[e(289),"up"]:o>=247.5&&o<292.5?["up"]:["up","right"]},rc=new WeakSet,cl=function(o){const e=_0x22c563;nr(this,ui,document[e(262)](e(306))),Ye(this,ui)[e(300)][e(303)]("joystick-base"),Ye(this,ui).style.left=o[e(264)]-50+"px",Ye(this,ui)[e(295)][e(298)]=o.pageY-50+"px",Ye(this,Fn)[e(309)](Ye(this,ui)),nr(this,pi,document[e(262)]("div")),Ye(this,pi)[e(300)][e(303)](e(315)),Ye(this,pi)[e(295)][e(289)]=o.pageX-25+"px",Ye(this,pi)[e(295)][e(298)]=o[e(259)]-25+"px",Ye(this,Fn)[e(309)](Ye(this,pi))},Bs=new WeakMap,nc=new WeakMap,ic=new WeakMap,No=new WeakSet,B0=function(o){const e=_0x22c563,i=new Set(o),c=new Set([...Ye(this,sa)].filter(m=>!i[e(316)](m))),f=new Set([...i][e(314)](m=>!Ye(this,sa)[e(316)](m)));c[e(275)](m=>{ur(this,oc,ll).call(this,m),Ye(this,sa).delete(m)}),f.forEach(m=>{ur(this,ac,ul).call(this,m),Ye(this,sa).add(m)})},ac=new WeakSet,ul=function(o){Ye(this,ci).pressDown(o)},oc=new WeakSet,ll=function(o){Ye(this,ci).pressUp(o)},jt(sc,X0,30);let QuickShot=sc;(function(_,o){for(var e=_0x4694,i=_();[];)try{var c=-parseInt(e(388))/1*(parseInt(e(380))/2)+-parseInt(e(389))/3*(-parseInt(e(368))/4)+-parseInt(e(387))/5+-parseInt(e(383))/6*(parseInt(e(382))/7)+parseInt(e(370))/8+-parseInt(e(358))/9*(-parseInt(e(375))/10)+parseInt(e(361))/11;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x4d21,890959);function _0x4d21(){var _=["F14","none","23625dUHoMc","124","addEventListener","23119096NXimkt","right","mousepads","zIndex","RMB","appendChild","touchstart","61068wgHbfR","height","13954440skqyFc","LMB","auto","display","fixed","6380mcQCjo","identifier","createElement","dispatchEvent","100%","995292sTRmMe","position","70ojjpjL","844284oSaXIe","touchAction","touchmove","preventDefault","8725105zUsGgc","3eAbnrT","3bcNKdG","canvas","changedTouches","width","touchend","F13","body","stopPropagation","rmb","#mousepads","target","style","lmb","mousemove"];return _0x4d21=function(){return _},_0x4d21()}function _0x4694(_,o){var e=_0x4d21();return _0x4694=function(i,c){i=i-354;var f=e[i];return f},_0x4694(_,o)}var Pa,Lo,qs,qi,cc,fl,uc,dl;class Mousepad{constructor(){jt(this,cc);jt(this,uc);jt(this,Pa,-1);jt(this,Lo,-1);jt(this,qs,1);jt(this,qi,null);ur(this,cc,fl).call(this)}show(){var o=_0x4694;show(o(398),"grid")}hide(){var o=_0x4694;hide(o(398))}}Pa=new WeakMap,Lo=new WeakMap,qs=new WeakMap,qi=new WeakMap,cc=new WeakSet,fl=function(){var o=_0x4694;const e=document[o(377)]("div");e.id=o(363),e[o(400)][o(381)]=o(374),e[o(400)][o(362)]="0",e[o(400)].bottom="0",e[o(400)][o(392)]="100%",e[o(400)][o(369)]=o(379),e[o(400)][o(373)]=o(357),e[o(400)][o(364)]="7777",e[o(400)].pointerEvents=o(372),e.style[o(384)]=o(357);const i=(c,f)=>{var m=o;if(f===![])nr(this,Pa,-1),nr(this,Lo,-1),nr(this,qi,null);else{var g=c[m(391)][0],Te=g.clientX*Ye(this,qs),Ie=g.clientY*Ye(this,qs);Ye(this,Pa)!=-1&&Ye(this,qi)===g[m(376)]&&ur(this,uc,dl).call(this,Te-Ye(this,Pa),Ie-Ye(this,Lo)),nr(this,Pa,Te),nr(this,Lo,Ie)}};e.addEventListener(o(367),c=>{var f=o,m=c.changedTouches[0];const g=c[f(399)].id;!g||g!==f(354)&&g!=="rmb"?(nr(this,qi,m[f(376)]),i(c,!![])):(c[f(396)](),c[f(386)]())}),e.addEventListener(o(385),c=>{var f=o,m=c.changedTouches[0];Ye(this,qi)!==null&&Ye(this,qi)===m[f(376)]&&i(c,!![])}),e[o(360)](o(393),c=>{var f=o,m=c.changedTouches[0];Ye(this,qi)!==null&&Ye(this,qi)===m.identifier&&(c[f(386)](),i(c,![]))}),e.addEventListener("touchcancel",c=>i(c,![])),new SingleTouchButton(e,o(371),void 0,"lmb",new SingleTouchButtonKbListener(o(394),"F13",o(359),s(o(390)))),new SingleTouchButton(e,o(365),void 0,o(397),new SingleTouchButtonKbListener(o(356),o(356),"125",s(o(390)))),document[o(395)][o(366)](e)},uc=new WeakSet,dl=function(o,e){var i=_0x4694;const c=new MouseEvent(i(355),{movementX:o,movementY:e,bubbles:!![],cancelable:!![]});s(i(390))[i(378)](c)};var _0x493a50=_0x53c3;(function(_,o){for(var e=_0x53c3,i=_();[];)try{var c=parseInt(e(215))/1*(parseInt(e(213))/2)+-parseInt(e(203))/3+parseInt(e(214))/4*(-parseInt(e(199))/5)+parseInt(e(202))/6+parseInt(e(207))/7*(parseInt(e(209))/8)+parseInt(e(200))/9+-parseInt(e(208))/10;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x1cc9,796958);function _0x53c3(_,o){var e=_0x1cc9();return _0x53c3=function(i,c){i=i-198;var f=e[i];return f},_0x53c3(_,o)}function _0x1cc9(){var _=["238PmkKpZ","6133550hrDSAm","234504ogtBCZ","touchstart","grid","timeoutId","356nNEgjB","40YBZWar","7816ZuLvdU","addEventListener","#fastui","378475nZVgYL","5796369GHJcUD","click","2726808QlPEBN","3957408IMKnNH","show","preventDefault","removeEventListener"];return _0x1cc9=function(){return _},_0x1cc9()}var wf,Ba,Is;const Fa=class Fa{constructor(){jt(this,Ba)}[(wf=_0x493a50(212),_0x493a50(204))](){var o=_0x493a50;hide(o(198)),document[o(216)](o(201),ur(this,Ba,Is)),document[o(216)](o(210),ur(this,Ba,Is)),clearTimeout(Fa.timeoutId)}hide(){var o=_0x493a50;clearTimeout(Fa.timeoutId),document.removeEventListener(o(201),ur(this,Ba,Is)),document[o(206)]("touchstart",ur(this,Ba,Is)),show("#fastui",o(211))}};Ba=new WeakSet,Is=function(o){var e=_0x493a50;o[e(205)](),clearTimeout(Fa[e(212)]),show(e(198),"grid"),Fa.timeoutId=setTimeout(()=>{var i=e;hide(i(198))},2e3)},mn(Fa,wf);let Hideaway=Fa;const _0x488cdc=_0x5ade;(function(_,o){const e=_0x5ade,i=_();for(;[];)try{if(-parseInt(e(243))/1+parseInt(e(315))/2*(-parseInt(e(264))/3)+-parseInt(e(245))/4*(-parseInt(e(342))/5)+-parseInt(e(261))/6+parseInt(e(267))/7*(-parseInt(e(319))/8)+parseInt(e(262))/9+parseInt(e(257))/10*(parseInt(e(249))/11)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x2085,912314);function _0x5ade(_,o){const e=_0x2085();return _0x5ade=function(i,c){return i=i-235,e[i]},_0x5ade(_,o)}function _0x2085(){const _=["toggleMousePad","trigger","keyup","REWIND","label","style","nodeName","initTouchControllerMenu","fastui-msg","#mousepads","classList","fadeOutTimeout","remove","createElement","currentJoyTouchMode","initQuickJoy","visible","#fastui","showMousepad","requestFullscreen","show","catch","hide","desktopUiControls","#quickjoys","#desktopUiFs","fastrewind","code","appendChild","Auto Hide","add","addEventListener","getNostalgist","sendCommand","opacity","querySelector","showKeyboard","fastui","2eQoyOI","fontSize","addedNodes","FAST_FORWARD","39512uNJxdP","additional_buttons","error","mousemove","keyboard","fastmenu","QuickJoy",'<span style="font-size: 50%;">MOUSE</span>',"observe","CANVAS","fastkb","isQuest","isDesktop","#desktopUiRewind","osdMessage","mouse_controllers","initControlsButton","QUICKSHOT_DYNAMIC","canvas","HIDEAWAY","block","showTouchKeyboard","#desktopUiSave","476755QsjuYR",'<span style="font-size: 50%;">',"reverse","#desktopUiBack","grid","touch_controllers","mousepadVisible","display","left",'<span style="font-size: 50%;">KB</span>',"reload","then","keyboardVisible","body","getBoundingClientRect","key","fastjoy","hideKeyboard","initMousepad","8px 16px","none",'<span style="font-size: 50%;">REWIND</span>',"className","click","textContent","fastsave","initQuickshot","showJoystick","currentMouseTouchMode","keys","hideJoystick","keyCode","initDesktopUI","log","1366206qFXqEo","absolute","60tHFSdR","#canvas","length","desktopUiSave","69047QzsePP","mouseleave","resizeCanvas","toggleJoystick","controlsMenu","10pt","getElementById","name","3670PYKCft","getSelectedPlatform","TRACKPAD_BUTTONS","#quickshots","7222686IbLwFz","8732610OAHYEU",'<span style="font-size: 50%;">FFD</span>',"494901jAGilu","QUICKJOY_PRIMARY","div","1498vzwzDR","press","dispatchEvent","savestates_disabled","fastffd","fast","saveState","top",'<span style="font-size: 50%;">SAVE</span>',"action"];return _0x2085=function(){return _},_0x2085()}var an,Ns,ca,la,Gi,fa,Sf,Af,If,Cf,lc,hl,kf;const Fr=class Fr{constructor(o,e){jt(this,lc);jt(this,an,void 0);jt(this,Ns,void 0);nr(this,an,o),nr(this,Ns,e)}initFastUI(){const o=_0x488cdc;var e=document[o(290)](o(266));e.id=o(314),e.style[o(349)]="none",new SingleTouchButton(e,o(363),void 0,o(303),new RewindButtonListener(Ye(this,an)[o(309)]()),FAST_BTN_RADIUS),new SingleTouchButton(e,o(263),void 0,o(271),new CommandButtonListener(o(318),Ye(this,an)[o(309)]()),FAST_BTN_RADIUS),new SingleTouchButton(e,'<span style="font-size: 50%;">QUIT</span>',void 0,o(324),new ResetButtonListener,FAST_BTN_RADIUS),!Ye(this,an).getSelectedPlatform()[o(270)]&&new SingleTouchButton(e,o(275),void 0,o(367),new SaveButtonListener(Ye(this,an)),FAST_BTN_RADIUS),Ye(this,an)[o(258)]()[o(323)]&&new SingleTouchButton(e,o(351),void 0,o(329),new KbListener(Ye(this,Ns)),FAST_BTN_RADIUS),ur(this,lc,hl).call(this,e);var i=document.createElement("div");i.id=o(285),i.style[o(349)]=o(362),e[o(305)](i),document[o(355)][o(305)](e)}[(Sf=_0x488cdc(291),Af=_0x488cdc(237),If=_0x488cdc(354),Cf=_0x488cdc(348),_0x488cdc(241))](){const o=_0x488cdc,e=document[o(255)]("desktopUi");Ye(this,an)[o(258)]()[o(270)]&&(document[o(255)](o(248))[o(282)].display=o(362));let i;function c(Ie){const Oe=o;e[Oe(308)](Oe(322),function(){const Ae=Oe;e[Ae(287)][Ae(307)]("visible"),clearTimeout(i)}),e[Oe(308)](Oe(250),function(){i=setTimeout(function(){const Ae=_0x5ade;e[Ae(287)][Ae(289)](Ae(293))},1e3)})}function f(Ie,Oe){const Ae=o;return Ie[Ae(283)]===Ae(328)?(c(),!![]):Ie.querySelector&&Ie[Ae(312)](Ae(337))?(c(),!![]):![]}new MutationObserver(function(Ie){const Oe=o;for(const Ae of Ie)if(Ae[Oe(317)]&&Ae.addedNodes[Oe(247)]>0){for(const De of Ae[Oe(317)])if(f(De))return}})[o(327)](document.body,{childList:!![],subtree:!![]}),c();let g=null,Te=this;addButtonEventListeners(s(o(302)),Ie=>{const Oe=o;Ie&&(document.fullscreenElement?document.exitFullscreen().then(()=>{const Ae=Oe;EnvironmentManager[Ae(251)](Ye(this,an)[Ae(309)]())}).catch(Ae=>{console.log(Ae)}):document.documentElement[Oe(296)]()[Oe(353)](()=>{const Ae=Oe;EnvironmentManager[Ae(251)](Ye(this,an)[Ae(309)]())})[Oe(298)](Ae=>{console[Oe(242)](Ae)}))}),addButtonEventListeners(s(o(341)),Ie=>{const Oe=o;Ie?Ye(this,an).saveState()[Oe(353)](De=>{console.log(De)})[Oe(298)](De=>{console[Oe(321)]("Error resolving state:",De)}):clearInterval(g)}),addButtonEventListeners(s(o(332)),Ie=>{const Oe=o;Ie?(Ye(Te,an).getNostalgist()[Oe(310)](Oe(280)),g=setInterval(()=>{const Ae=Oe;Ye(Te,an)[Ae(309)]().sendCommand(Ae(280))},5)):clearInterval(g)}),addButtonEventListeners(s(o(345)),Ie=>{location[o(352)]()}),this[o(335)](),Ye(this,an).getSelectedPlatform()[o(334)]&&s("#canvas")[o(308)]("click",()=>{s(o(246)).requestPointerLock()})}[_0x488cdc(284)](){const o=_0x488cdc,e=Ye(this,an)[o(258)]()[o(347)];if(e.length==1)return;let i=0;new SingleTouchButton(s("#fastui"),'<span style="font-size: 50%;">JOY</span>',void 0,o(358),new class extends TouchButtonListener{constructor(){super()}[o(278)](m){const g=o;if(m)if(Fr[g(348)])Fr[g(359)](),Fr.hideMousepad(),Fr[g(348)]=![],Fr[g(236)]();else if(Fr[g(354)])Fr[g(359)](),Fr.hideMousepad(),Fr[g(348)]=![],Fr[g(236)]();else{i=(i+1)%e[g(247)];const Te=e[i];Fr[g(252)](Te,!![])}}},FAST_BTN_RADIUS);const c=Ye(this,an)[o(258)]().mouse_controllers;if(c==null||c.length==0)return;let f=0;new SingleTouchButton(s(o(294)),o(326),void 0,"fastmouse",new class extends TouchButtonListener{constructor(){super()}[o(278)](m){const g=o;if(m)if(Fr.mousepadVisible=!![],Fr[g(348)]){f=(f+1)%c.length;const Te=c[f];Fr.toggleMousePad(Te,!![])}else{Fr.hideKeyboard(),Fr[g(239)]();const Te=c[f];Fr[g(277)](Te,!![])}}},FAST_BTN_RADIUS)}[_0x488cdc(335)](){const o=_0x488cdc,e=document.getElementById(o(300)),i=document.getElementById(o(253)),c=Ye(this,an)[o(309)](),f=[];let m=Object.keys(Ye(this,an)[o(258)]()[o(320)]);if(m.length>0)for(let De=0;De<m[o(247)];De++){let _e=m[De],qe=Ye(this,an)[o(258)]()[o(320)][_e][o(281)],Be=Ye(this,an)[o(258)]()[o(320)][_e][o(240)],Ne=Ye(this,an)[o(258)]()[o(320)][_e][o(357)];f.push({name:qe,action:()=>{const Ve=o;Ne?Ie(Ne.key,Ne[Ve(304)],Ne[Ve(357)][Ve(240)]):c[Ve(268)]({button:Be,player:1,time:100})}})}else e[o(282)].display=o(362);function g(De,_e,qe){const Be=o;let Ne=new KeyboardEvent("keydown",{key:De,code:_e,keyCode:qe,charCode:qe,bubbles:!![],cancelable:!![]});document[Be(269)](Ne)}function Te(De,_e,qe){const Be=o;let Ne=new KeyboardEvent(Be(279),{key:De,code:_e,keyCode:qe,charCode:qe,bubbles:!![],cancelable:!![]});document[Be(269)](Ne)}function Ie(De,_e,qe){g(De,_e,qe),setTimeout(()=>{Te(De,_e,qe)},50)}function Oe(){i.innerHTML="",f.forEach(De=>{const _e=_0x5ade,qe=document[_e(290)](_e(266));qe[_e(366)]=De[_e(256)],qe[_e(364)]="menu-item",qe.addEventListener(_e(365),De[_e(276)]),i[_e(305)](qe)})}function Ae(){const De=o;if(i[De(282)][De(349)]===De(362)||i[De(282)][De(349)]===""){const _e=e[De(356)]();i[De(282)].position=De(244),i[De(282)].padding=De(361),i.style[De(274)]=_e.bottom+"px",i.style[De(350)]=_e[De(350)]+"px",i.style[De(349)]=De(339),i[De(282)][De(316)]=De(254)}else i[De(282)][De(349)]=De(362)}e.addEventListener(o(365),Ae),Oe()}[_0x488cdc(292)](){nr(Fr,ca,new QuickJoy(Ye(this,an)))}[_0x488cdc(235)](){nr(Fr,la,new QuickShot(Ye(this,an)))}[_0x488cdc(360)](){nr(Fr,fa,new Mousepad(Ye(this,an)))}initHideaway(){nr(Fr,Gi,new Hideaway)}static[_0x488cdc(239)](){const o=_0x488cdc;Fr[o(291)]==JOYSTICK_TOUCH_MODE[o(338)]&&Ye(this,Gi)[o(299)](),s(o(260))[o(282)][o(349)]=o(362),s("#quickjoys").style.display=o(362)}static[_0x488cdc(236)](){const o=_0x488cdc;Fr[o(291)]==JOYSTICK_TOUCH_MODE[o(336)]?s(o(260))[o(282)][o(349)]=o(346):Fr[o(291)]==JOYSTICK_TOUCH_MODE[o(265)]?s(o(301))[o(282)][o(349)]=o(346):Fr[o(291)]==JOYSTICK_TOUCH_MODE[o(338)]}static[_0x488cdc(359)](){const o=_0x488cdc;Fr[o(354)]=![],s("#keyboardContainer").style[o(349)]=o(362)}static[_0x488cdc(313)](){const o=_0x488cdc;s("#keyboardContainer")[o(282)][o(349)]="block"}static hideMousepad(){const o=_0x488cdc;s("#mousepads")[o(282)][o(349)]=o(362)}static[_0x488cdc(295)](){const o=_0x488cdc;s(o(286))[o(282)].display=o(346)}static osdMessage(o,e=null){const i=_0x488cdc,c=document[i(255)](i(285));function f(){const m=i;c[m(282)][m(311)]="0",setTimeout(()=>c.style[m(349)]=m(362),250)}if(c[i(288)]&&(clearTimeout(c[i(288)]),c[i(288)]=null),o===null){f();return}c[i(366)]=o,c.style[i(349)]=i(346),setTimeout(()=>c[i(282)][i(311)]="1",0),e!==null&&(c[i(288)]=setTimeout(()=>{const m=i;f(),c[m(288)]=null},e))}};kf=_0x488cdc(277),an=new WeakMap,Ns=new WeakMap,ca=new WeakMap,la=new WeakMap,Gi=new WeakMap,fa=new WeakMap,lc=new WeakSet,hl=function(o){const e=_0x488cdc;let i=1,c=Object[e(238)](Ye(this,an)[e(258)]()[e(320)]);c[e(344)]();for(let f=0;f<c[e(247)];f++){let m=c[f],g=Ye(this,an)[e(258)]()[e(320)][m][e(281)],Te=Ye(this,an)[e(258)]()[e(320)][m][e(240)],Ie=Ye(this,an).getSelectedPlatform()[e(320)][m].key,Oe;Ie?Oe=new SingleTouchButtonKbListener(Ie[e(357)],Ie[e(304)],Ie[e(240)]):Oe=new SingleTouchButtonJoyListener(Ye(this,an).getNostalgist(),Te),new SingleTouchButton(o,e(343)+g+"</span>",void 0,e(272)+i,Oe,FAST_BTN_RADIUS),i+=1}},jt(Fr,ca,void 0),jt(Fr,la,void 0),jt(Fr,Gi,void 0),jt(Fr,fa,void 0),mn(Fr,Sf),mn(Fr,Af),mn(Fr,If),mn(Fr,Cf),mn(Fr,kf,(o,e)=>{const i=_0x488cdc;if(!(EnvironmentManager[i(331)]()||EnvironmentManager[i(330)]()))switch(o){case MOUSE_TOUCH_MODE[i(259)]:Fr.mousepadVisible=!![],Fr[i(237)]=MOUSE_TOUCH_MODE.TRACKPAD_BUTTONS,Ye(Fr,ca)[i(299)](),Ye(Fr,la)[i(299)](),Ye(Fr,Gi)[i(299)](),Ye(Fr,fa)[i(297)]();break}}),mn(Fr,"toggleJoystick",(o,e)=>{const i=_0x488cdc;if(!(EnvironmentManager[i(331)]()||EnvironmentManager[i(330)]()))switch(o){case JOYSTICK_TOUCH_MODE[i(265)]:Fr[i(291)]=JOYSTICK_TOUCH_MODE[i(265)],e&&Fr[i(333)](i(325),1e3),Ye(Fr,Gi)[i(299)](),Ye(Fr,la).hide(),Ye(Fr,fa).hide(),Ye(Fr,ca).show();break;case JOYSTICK_TOUCH_MODE[i(336)]:Fr[i(291)]=JOYSTICK_TOUCH_MODE[i(336)],e&&Fr[i(333)]("QuickShot",1e3),Ye(Fr,ca).hide(),Ye(Fr,fa)[i(299)](),Ye(Fr,Gi).hide(),Ye(Fr,la).show();break;case JOYSTICK_TOUCH_MODE[i(338)]:Fr[i(291)]=JOYSTICK_TOUCH_MODE[i(338)],e&&Fr[i(333)](i(306),1e3),Ye(Fr,ca).hide(),Ye(Fr,la)[i(299)](),Ye(Fr,fa)[i(299)](),Ye(Fr,Gi)[i(297)]();break}});let UiManager=Fr;var Mo,Ls,Ms;const Os=class Os extends TouchButtonListener{constructor(e){super();jt(this,Mo,void 0);jt(this,Ls,void 0);nr(this,Mo,e)}[_0x488cdc(278)](e){e?(Ye(this,Mo).sendCommand(Ye(Os,Ms)),nr(this,Ls,setInterval(()=>{const i=_0x5ade;Ye(this,Mo)[i(310)](Ye(Os,Ms))},5))):clearInterval(Ye(this,Ls))}};Mo=new WeakMap,Ls=new WeakMap,Ms=new WeakMap,jt(Os,Ms,"REWIND");let RewindButtonListener=Os;var Vs,Us;class CommandButtonListener extends TouchButtonListener{constructor(e,i,c){super();jt(this,Vs,void 0);jt(this,Us,void 0);nr(this,Vs,e),nr(this,Us,i),this.message=c}[_0x488cdc(278)](e){const i=_0x488cdc;Ye(this,Us)[i(310)](Ye(this,Vs))}}Vs=new WeakMap,Us=new WeakMap;var zs;class SaveButtonListener extends TouchButtonListener{constructor(e){super();jt(this,zs,void 0);nr(this,zs,e)}async[_0x488cdc(278)](e){const i=_0x488cdc;e&&Ye(this,zs)[i(273)]()}}zs=new WeakMap;var Hs;class KbListener extends TouchButtonListener{constructor(e){super();jt(this,Hs,void 0);nr(this,Hs,e)}[_0x488cdc(278)](e){const i=_0x488cdc;e&&(UiManager[i(354)]=!![],UiManager[i(239)](),UiManager.hideMousepad(),UiManager[i(313)](),Ye(this,Hs)[i(340)]())}}Hs=new WeakMap;class ResetButtonListener extends TouchButtonListener{constructor(){super()}trigger(o){o&&location[_0x488cdc(352)]()}}var lib={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z=Symbol.iterator;function A(_){return _===null||typeof _!="object"?null:(_=z&&_[z]||_["@@iterator"],typeof _=="function"?_:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,D$1={};function E(_,o,e){this.props=_,this.context=o,this.refs=D$1,this.updater=e||B}E.prototype.isReactComponent={};E.prototype.setState=function(_,o){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,o,"setState")};E.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function F$1(){}F$1.prototype=E.prototype;function G$1(_,o,e){this.props=_,this.context=o,this.refs=D$1,this.updater=e||B}var H=G$1.prototype=new F$1;H.constructor=G$1;C(H,E.prototype);H.isPureReactComponent=!0;var I$1=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M(_,o,e){var i,c={},f=null,m=null;if(o!=null)for(i in o.ref!==void 0&&(m=o.ref),o.key!==void 0&&(f=""+o.key),o)J$1.call(o,i)&&!L$1.hasOwnProperty(i)&&(c[i]=o[i]);var g=arguments.length-2;if(g===1)c.children=e;else if(1<g){for(var Te=Array(g),Ie=0;Ie<g;Ie++)Te[Ie]=arguments[Ie+2];c.children=Te}if(_&&_.defaultProps)for(i in g=_.defaultProps,g)c[i]===void 0&&(c[i]=g[i]);return{$$typeof:l$1,type:_,key:f,ref:m,props:c,_owner:K$1.current}}function N$1(_,o){return{$$typeof:l$1,type:_.type,key:o,ref:_.ref,props:_.props,_owner:_._owner}}function O$1(_){return typeof _=="object"&&_!==null&&_.$$typeof===l$1}function escape$1(_){var o={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(e){return o[e]})}var P=/\/+/g;function Q$1(_,o){return typeof _=="object"&&_!==null&&_.key!=null?escape$1(""+_.key):o.toString(36)}function R$1(_,o,e,i,c){var f=typeof _;(f==="undefined"||f==="boolean")&&(_=null);var m=!1;if(_===null)m=!0;else switch(f){case"string":case"number":m=!0;break;case"object":switch(_.$$typeof){case l$1:case n:m=!0}}if(m)return m=_,c=c(m),_=i===""?"."+Q$1(m,0):i,I$1(c)?(e="",_!=null&&(e=_.replace(P,"$&/")+"/"),R$1(c,o,e,"",function(Ie){return Ie})):c!=null&&(O$1(c)&&(c=N$1(c,e+(!c.key||m&&m.key===c.key?"":(""+c.key).replace(P,"$&/")+"/")+_)),o.push(c)),1;if(m=0,i=i===""?".":i+":",I$1(_))for(var g=0;g<_.length;g++){f=_[g];var Te=i+Q$1(f,g);m+=R$1(f,o,e,Te,c)}else if(Te=A(_),typeof Te=="function")for(_=Te.call(_),g=0;!(f=_.next()).done;)f=f.value,Te=i+Q$1(f,g++),m+=R$1(f,o,e,Te,c);else if(f==="object")throw o=String(_),Error("Objects are not valid as a React child (found: "+(o==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":o)+"). If you meant to render a collection of children, use an array instead.");return m}function S(_,o,e){if(_==null)return _;var i=[],c=0;return R$1(_,i,"","",function(f){return o.call(e,f,c++)}),i}function T(_){if(_._status===-1){var o=_._result;o=o(),o.then(function(e){(_._status===0||_._status===-1)&&(_._status=1,_._result=e)},function(e){(_._status===0||_._status===-1)&&(_._status=2,_._result=e)}),_._status===-1&&(_._status=0,_._result=o)}if(_._status===1)return _._result.default;throw _._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S,forEach:function(_,o,e){S(_,function(){o.apply(this,arguments)},e)},count:function(_){var o=0;return S(_,function(){o++}),o},toArray:function(_){return S(_,function(o){return o})||[]},only:function(_){if(!O$1(_))throw Error("React.Children.only expected to receive a single React element child.");return _}};react_production_min.Component=E;react_production_min.Fragment=p;react_production_min.Profiler=r;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$1;react_production_min.cloneElement=function(_,o,e){if(_==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_+".");var i=C({},_.props),c=_.key,f=_.ref,m=_._owner;if(o!=null){if(o.ref!==void 0&&(f=o.ref,m=K$1.current),o.key!==void 0&&(c=""+o.key),_.type&&_.type.defaultProps)var g=_.type.defaultProps;for(Te in o)J$1.call(o,Te)&&!L$1.hasOwnProperty(Te)&&(i[Te]=o[Te]===void 0&&g!==void 0?g[Te]:o[Te])}var Te=arguments.length-2;if(Te===1)i.children=e;else if(1<Te){g=Array(Te);for(var Ie=0;Ie<Te;Ie++)g[Ie]=arguments[Ie+2];i.children=g}return{$$typeof:l$1,type:_.type,key:c,ref:f,props:i,_owner:m}};react_production_min.createContext=function(_){return _={$$typeof:u,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_.Provider={$$typeof:t,_context:_},_.Consumer=_};react_production_min.createElement=M;react_production_min.createFactory=function(_){var o=M.bind(null,_);return o.type=_,o};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(_){return{$$typeof:v,render:_}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(_){return{$$typeof:y,_payload:{_status:-1,_result:_},_init:T}};react_production_min.memo=function(_,o){return{$$typeof:x,type:_,compare:o===void 0?null:o}};react_production_min.startTransition=function(_){var o=V$1.transition;V$1.transition={};try{_()}finally{V$1.transition=o}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(_,o){return U$1.current.useCallback(_,o)};react_production_min.useContext=function(_){return U$1.current.useContext(_)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(_){return U$1.current.useDeferredValue(_)};react_production_min.useEffect=function(_,o){return U$1.current.useEffect(_,o)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(_,o,e){return U$1.current.useImperativeHandle(_,o,e)};react_production_min.useInsertionEffect=function(_,o){return U$1.current.useInsertionEffect(_,o)};react_production_min.useLayoutEffect=function(_,o){return U$1.current.useLayoutEffect(_,o)};react_production_min.useMemo=function(_,o){return U$1.current.useMemo(_,o)};react_production_min.useReducer=function(_,o,e){return U$1.current.useReducer(_,o,e)};react_production_min.useRef=function(_){return U$1.current.useRef(_)};react_production_min.useState=function(_){return U$1.current.useState(_)};react_production_min.useSyncExternalStore=function(_,o,e){return U$1.current.useSyncExternalStore(_,o,e)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports,uaParser_min={exports:{}};(function(_,o){(function(e,i){var c="1.0.38",f="",m="?",g="function",Te="undefined",Ie="object",Oe="string",Ae="major",De="model",_e="name",qe="type",Be="vendor",Ne="version",Ve="architecture",Ue="console",We="mobile",He="tablet",Ze="smarttv",ct="wearable",at="embedded",gt=500,yt="Amazon",tt="Apple",pt="ASUS",nt="BlackBerry",mt="Browser",Xe="Chrome",Ft="Edge",Zt="Firefox",zt="Google",cr="Huawei",Et="LG",St="Microsoft",st="Motorola",dt="Opera",Bt="Samsung",At="Sharp",Kt="Sony",fr="Xiaomi",Dr="Zebra",or="Facebook",lt="Chromium OS",bt="Mac OS",Xt=function(vt,Ct){var Lt={};for(var sr in vt)Ct[sr]&&Ct[sr].length%2===0?Lt[sr]=Ct[sr].concat(vt[sr]):Lt[sr]=vt[sr];return Lt},$t=function(vt){for(var Ct={},Lt=0;Lt<vt.length;Lt++)Ct[vt[Lt].toUpperCase()]=vt[Lt];return Ct},pr=function(vt,Ct){return typeof vt===Oe?Qe(Ct).indexOf(Qe(vt))!==-1:!1},Qe=function(vt){return vt.toLowerCase()},It=function(vt){return typeof vt===Oe?vt.replace(/[^\d\.]/g,f).split(".")[0]:i},Ht=function(vt,Ct){if(typeof vt===Oe)return vt=vt.replace(/^\s\s*/,f),typeof Ct===Te?vt:vt.substring(0,gt)},ht=function(vt,Ct){for(var Lt=0,sr,Rr,qr,wr,dr,Vr;Lt<Ct.length&&!dr;){var on=Ct[Lt],Ir=Ct[Lt+1];for(sr=Rr=0;sr<on.length&&!dr&&on[sr];)if(dr=on[sr++].exec(vt),dr)for(qr=0;qr<Ir.length;qr++)Vr=dr[++Rr],wr=Ir[qr],typeof wr===Ie&&wr.length>0?wr.length===2?typeof wr[1]==g?this[wr[0]]=wr[1].call(this,Vr):this[wr[0]]=wr[1]:wr.length===3?typeof wr[1]===g&&!(wr[1].exec&&wr[1].test)?this[wr[0]]=Vr?wr[1].call(this,Vr,wr[2]):i:this[wr[0]]=Vr?Vr.replace(wr[1],wr[2]):i:wr.length===4&&(this[wr[0]]=Vr?wr[3].call(this,Vr.replace(wr[1],wr[2])):i):this[wr]=Vr||i;Lt+=2}},xt=function(vt,Ct){for(var Lt in Ct)if(typeof Ct[Lt]===Ie&&Ct[Lt].length>0){for(var sr=0;sr<Ct[Lt].length;sr++)if(pr(Ct[Lt][sr],vt))return Lt===m?i:Lt}else if(pr(Ct[Lt],vt))return Lt===m?i:Lt;return vt},Rt={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},er={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},rt={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[Ne,[_e,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[Ne,[_e,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[_e,Ne],[/opios[\/ ]+([\w\.]+)/i],[Ne,[_e,dt+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[Ne,[_e,dt+" GX"]],[/\bopr\/([\w\.]+)/i],[Ne,[_e,dt]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[Ne,[_e,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[_e,Ne],[/\bddg\/([\w\.]+)/i],[Ne,[_e,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[Ne,[_e,"UC"+mt]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[Ne,[_e,"WeChat"]],[/konqueror\/([\w\.]+)/i],[Ne,[_e,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[Ne,[_e,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[Ne,[_e,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[Ne,[_e,"Smart Lenovo "+mt]],[/(avast|avg)\/([\w\.]+)/i],[[_e,/(.+)/,"$1 Secure "+mt],Ne],[/\bfocus\/([\w\.]+)/i],[Ne,[_e,Zt+" Focus"]],[/\bopt\/([\w\.]+)/i],[Ne,[_e,dt+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[Ne,[_e,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[Ne,[_e,"Dolphin"]],[/coast\/([\w\.]+)/i],[Ne,[_e,dt+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[Ne,[_e,"MIUI "+mt]],[/fxios\/([-\w\.]+)/i],[Ne,[_e,Zt]],[/\bqihu|(qi?ho?o?|360)browser/i],[[_e,"360 "+mt]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[_e,/(.+)/,"$1 "+mt],Ne],[/samsungbrowser\/([\w\.]+)/i],[Ne,[_e,Bt+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[_e,/_/g," "],Ne],[/metasr[\/ ]?([\d\.]+)/i],[Ne,[_e,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[_e,"Sogou Mobile"],Ne],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[_e,Ne],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[_e],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[_e,or],Ne],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[_e,Ne],[/\bgsa\/([\w\.]+) .*safari\//i],[Ne,[_e,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[Ne,[_e,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[Ne,[_e,Xe+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[_e,Xe+" WebView"],Ne],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[Ne,[_e,"Android "+mt]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[_e,Ne],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[Ne,[_e,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[Ne,_e],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[_e,[Ne,xt,Rt]],[/(webkit|khtml)\/([\w\.]+)/i],[_e,Ne],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[_e,"Netscape"],Ne],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[Ne,[_e,Zt+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[_e,Ne],[/(cobalt)\/([\w\.]+)/i],[_e,[Ne,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[Ve,"amd64"]],[/(ia32(?=;))/i],[[Ve,Qe]],[/((?:i[346]|x)86)[;\)]/i],[[Ve,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[Ve,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[Ve,"armhf"]],[/windows (ce|mobile); ppc;/i],[[Ve,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[Ve,/ower/,f,Qe]],[/(sun4\w)[;\)]/i],[[Ve,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[Ve,Qe]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[De,[Be,Bt],[qe,He]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[De,[Be,Bt],[qe,We]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[De,[Be,tt],[qe,We]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[De,[Be,tt],[qe,He]],[/(macintosh);/i],[De,[Be,tt]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[De,[Be,At],[qe,We]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[De,[Be,cr],[qe,He]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[De,[Be,cr],[qe,We]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[De,/_/g," "],[Be,fr],[qe,We]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[De,/_/g," "],[Be,fr],[qe,He]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[De,[Be,"OPPO"],[qe,We]],[/\b(opd2\d{3}a?) bui/i],[De,[Be,"OPPO"],[qe,He]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[De,[Be,"Vivo"],[qe,We]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[De,[Be,"Realme"],[qe,We]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[De,[Be,st],[qe,We]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[De,[Be,st],[qe,He]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[De,[Be,Et],[qe,He]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[De,[Be,Et],[qe,We]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[De,[Be,"Lenovo"],[qe,He]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[De,/_/g," "],[Be,"Nokia"],[qe,We]],[/(pixel c)\b/i],[De,[Be,zt],[qe,He]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[De,[Be,zt],[qe,We]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[De,[Be,Kt],[qe,We]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[De,"Xperia Tablet"],[Be,Kt],[qe,He]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[De,[Be,"OnePlus"],[qe,We]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[De,[Be,yt],[qe,He]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[De,/(.+)/g,"Fire Phone $1"],[Be,yt],[qe,We]],[/(playbook);[-\w\),; ]+(rim)/i],[De,Be,[qe,He]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[De,[Be,nt],[qe,We]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[De,[Be,pt],[qe,He]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[De,[Be,pt],[qe,We]],[/(nexus 9)/i],[De,[Be,"HTC"],[qe,He]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[Be,[De,/_/g," "],[qe,We]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[De,[Be,"Acer"],[qe,He]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[De,[Be,"Meizu"],[qe,We]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[De,[Be,"Ulefone"],[qe,We]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[Be,De,[qe,We]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[Be,De,[qe,He]],[/(surface duo)/i],[De,[Be,St],[qe,He]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[De,[Be,"Fairphone"],[qe,We]],[/(u304aa)/i],[De,[Be,"AT&T"],[qe,We]],[/\bsie-(\w*)/i],[De,[Be,"Siemens"],[qe,We]],[/\b(rct\w+) b/i],[De,[Be,"RCA"],[qe,He]],[/\b(venue[\d ]{2,7}) b/i],[De,[Be,"Dell"],[qe,He]],[/\b(q(?:mv|ta)\w+) b/i],[De,[Be,"Verizon"],[qe,He]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[De,[Be,"Barnes & Noble"],[qe,He]],[/\b(tm\d{3}\w+) b/i],[De,[Be,"NuVision"],[qe,He]],[/\b(k88) b/i],[De,[Be,"ZTE"],[qe,He]],[/\b(nx\d{3}j) b/i],[De,[Be,"ZTE"],[qe,We]],[/\b(gen\d{3}) b.+49h/i],[De,[Be,"Swiss"],[qe,We]],[/\b(zur\d{3}) b/i],[De,[Be,"Swiss"],[qe,He]],[/\b((zeki)?tb.*\b) b/i],[De,[Be,"Zeki"],[qe,He]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[Be,"Dragon Touch"],De,[qe,He]],[/\b(ns-?\w{0,9}) b/i],[De,[Be,"Insignia"],[qe,He]],[/\b((nxa|next)-?\w{0,9}) b/i],[De,[Be,"NextBook"],[qe,He]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[Be,"Voice"],De,[qe,We]],[/\b(lvtel\-)?(v1[12]) b/i],[[Be,"LvTel"],De,[qe,We]],[/\b(ph-1) /i],[De,[Be,"Essential"],[qe,We]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[De,[Be,"Envizen"],[qe,He]],[/\b(trio[-\w\. ]+) b/i],[De,[Be,"MachSpeed"],[qe,He]],[/\btu_(1491) b/i],[De,[Be,"Rotor"],[qe,He]],[/(shield[\w ]+) b/i],[De,[Be,"Nvidia"],[qe,He]],[/(sprint) (\w+)/i],[Be,De,[qe,We]],[/(kin\.[onetw]{3})/i],[[De,/\./g," "],[Be,St],[qe,We]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[De,[Be,Dr],[qe,He]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[De,[Be,Dr],[qe,We]],[/smart-tv.+(samsung)/i],[Be,[qe,Ze]],[/hbbtv.+maple;(\d+)/i],[[De,/^/,"SmartTV"],[Be,Bt],[qe,Ze]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[Be,Et],[qe,Ze]],[/(apple) ?tv/i],[Be,[De,tt+" TV"],[qe,Ze]],[/crkey/i],[[De,Xe+"cast"],[Be,zt],[qe,Ze]],[/droid.+aft(\w+)( bui|\))/i],[De,[Be,yt],[qe,Ze]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[De,[Be,At],[qe,Ze]],[/(bravia[\w ]+)( bui|\))/i],[De,[Be,Kt],[qe,Ze]],[/(mitv-\w{5}) bui/i],[De,[Be,fr],[qe,Ze]],[/Hbbtv.*(technisat) (.*);/i],[Be,De,[qe,Ze]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[Be,Ht],[De,Ht],[qe,Ze]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[qe,Ze]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[Be,De,[qe,Ue]],[/droid.+; (shield) bui/i],[De,[Be,"Nvidia"],[qe,Ue]],[/(playstation [345portablevi]+)/i],[De,[Be,Kt],[qe,Ue]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[De,[Be,St],[qe,Ue]],[/((pebble))app/i],[Be,De,[qe,ct]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[De,[Be,tt],[qe,ct]],[/droid.+; (glass) \d/i],[De,[Be,zt],[qe,ct]],[/droid.+; (wt63?0{2,3})\)/i],[De,[Be,Dr],[qe,ct]],[/(quest( \d| pro)?)/i],[De,[Be,or],[qe,ct]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[Be,[qe,at]],[/(aeobc)\b/i],[De,[Be,yt],[qe,at]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[De,[qe,We]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[De,[qe,He]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[qe,He]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[qe,We]],[/(android[-\w\. ]{0,9});.+buil/i],[De,[Be,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[Ne,[_e,Ft+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[Ne,[_e,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[_e,Ne],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[Ne,_e]],os:[[/microsoft (windows) (vista|xp)/i],[_e,Ne],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[_e,[Ne,xt,er]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[Ne,xt,er],[_e,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[Ne,/_/g,"."],[_e,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[_e,bt],[Ne,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[Ne,_e],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[_e,Ne],[/\(bb(10);/i],[Ne,[_e,nt]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[Ne,[_e,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[Ne,[_e,Zt+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[Ne,[_e,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[Ne,[_e,"watchOS"]],[/crkey\/([\d\.]+)/i],[Ne,[_e,Xe+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[_e,lt],Ne],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[_e,Ne],[/(sunos) ?([\w\.\d]*)/i],[[_e,"Solaris"],Ne],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[_e,Ne]]},je=function(vt,Ct){if(typeof vt===Ie&&(Ct=vt,vt=i),!(this instanceof je))return new je(vt,Ct).getResult();var Lt=typeof e!==Te&&e.navigator?e.navigator:i,sr=vt||(Lt&&Lt.userAgent?Lt.userAgent:f),Rr=Lt&&Lt.userAgentData?Lt.userAgentData:i,qr=Ct?Xt(rt,Ct):rt,wr=Lt&&Lt.userAgent==sr;return this.getBrowser=function(){var dr={};return dr[_e]=i,dr[Ne]=i,ht.call(dr,sr,qr.browser),dr[Ae]=It(dr[Ne]),wr&&Lt&&Lt.brave&&typeof Lt.brave.isBrave==g&&(dr[_e]="Brave"),dr},this.getCPU=function(){var dr={};return dr[Ve]=i,ht.call(dr,sr,qr.cpu),dr},this.getDevice=function(){var dr={};return dr[Be]=i,dr[De]=i,dr[qe]=i,ht.call(dr,sr,qr.device),wr&&!dr[qe]&&Rr&&Rr.mobile&&(dr[qe]=We),wr&&dr[De]=="Macintosh"&&Lt&&typeof Lt.standalone!==Te&&Lt.maxTouchPoints&&Lt.maxTouchPoints>2&&(dr[De]="iPad",dr[qe]=He),dr},this.getEngine=function(){var dr={};return dr[_e]=i,dr[Ne]=i,ht.call(dr,sr,qr.engine),dr},this.getOS=function(){var dr={};return dr[_e]=i,dr[Ne]=i,ht.call(dr,sr,qr.os),wr&&!dr[_e]&&Rr&&Rr.platform&&Rr.platform!="Unknown"&&(dr[_e]=Rr.platform.replace(/chrome os/i,lt).replace(/macos/i,bt)),dr},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return sr},this.setUA=function(dr){return sr=typeof dr===Oe&&dr.length>gt?Ht(dr,gt):dr,this},this.setUA(sr),this};je.VERSION=c,je.BROWSER=$t([_e,Ne,Ae]),je.CPU=$t([Ve]),je.DEVICE=$t([De,Be,qe,Ue,We,Ze,He,ct,at]),je.ENGINE=je.OS=$t([_e,Ne]),_.exports&&(o=_.exports=je),o.UAParser=je;var Ke=typeof e!==Te&&(e.jQuery||e.Zepto);if(Ke&&!Ke.ua){var ut=new je;Ke.ua=ut.getResult(),Ke.ua.get=function(){return ut.getUA()},Ke.ua.set=function(vt){ut.setUA(vt);var Ct=ut.getResult();for(var Lt in Ct)Ke.ua[Lt]=Ct[Lt]}}})(typeof window=="object"?window:commonjsGlobal$1)})(uaParser_min,uaParser_min.exports);var uaParser_minExports=uaParser_min.exports;Object.defineProperty(lib,"__esModule",{value:!0});function _interopDefault(_){return _&&typeof _=="object"&&"default"in _?_.default:_}var React=reactExports,React__default=_interopDefault(React),UAParser=uaParser_minExports,ClientUAInstance=new UAParser,browser=ClientUAInstance.getBrowser(),cpu=ClientUAInstance.getCPU(),device=ClientUAInstance.getDevice(),engine=ClientUAInstance.getEngine(),os=ClientUAInstance.getOS(),ua=ClientUAInstance.getUA(),setUa=function _(o){return ClientUAInstance.setUA(o)},parseUserAgent=function _(o){if(!o){console.error("No userAgent string was provided");return}var e=new UAParser(o);return{UA:e,browser:e.getBrowser(),cpu:e.getCPU(),device:e.getDevice(),engine:e.getEngine(),os:e.getOS(),ua:e.getUA(),setUserAgent:function(c){return e.setUA(c)}}},UAHelper=Object.freeze({ClientUAInstance,browser,cpu,device,engine,os,ua,setUa,parseUserAgent});function ownKeys(_,o){var e=Object.keys(_);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(_);o&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(_,c).enumerable})),e.push.apply(e,i)}return e}function _objectSpread2(_){for(var o=1;o<arguments.length;o++){var e=arguments[o]!=null?arguments[o]:{};o%2?ownKeys(Object(e),!0).forEach(function(i){_defineProperty(_,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(e)):ownKeys(Object(e)).forEach(function(i){Object.defineProperty(_,i,Object.getOwnPropertyDescriptor(e,i))})}return _}function _typeof(_){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(o){return typeof o}:_typeof=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(_)}function _classCallCheck(_,o){if(!(_ instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties(_,o){for(var e=0;e<o.length;e++){var i=o[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(_,i.key,i)}}function _createClass(_,o,e){return o&&_defineProperties(_.prototype,o),e&&_defineProperties(_,e),_}function _defineProperty(_,o,e){return o in _?Object.defineProperty(_,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):_[o]=e,_}function _extends(){return _extends=Object.assign||function(_){for(var o=1;o<arguments.length;o++){var e=arguments[o];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(_[i]=e[i])}return _},_extends.apply(this,arguments)}function _inherits(_,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(o&&o.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),o&&_setPrototypeOf(_,o)}function _getPrototypeOf(_){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(_)}function _setPrototypeOf(_,o){return _setPrototypeOf=Object.setPrototypeOf||function(i,c){return i.__proto__=c,i},_setPrototypeOf(_,o)}function _objectWithoutPropertiesLoose(_,o){if(_==null)return{};var e={},i=Object.keys(_),c,f;for(f=0;f<i.length;f++)c=i[f],!(o.indexOf(c)>=0)&&(e[c]=_[c]);return e}function _objectWithoutProperties(_,o){if(_==null)return{};var e=_objectWithoutPropertiesLoose(_,o),i,c;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(_);for(c=0;c<f.length;c++)i=f[c],!(o.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(_,i)&&(e[i]=_[i])}return e}function _assertThisInitialized(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function _possibleConstructorReturn(_,o){if(o&&(typeof o=="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(_)}function _slicedToArray(_,o){return _arrayWithHoles(_)||_iterableToArrayLimit(_,o)||_unsupportedIterableToArray(_,o)||_nonIterableRest()}function _arrayWithHoles(_){if(Array.isArray(_))return _}function _iterableToArrayLimit(_,o){var e=_==null?null:typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"];if(e!=null){var i=[],c=!0,f=!1,m,g;try{for(e=e.call(_);!(c=(m=e.next()).done)&&(i.push(m.value),!(o&&i.length===o));c=!0);}catch(Te){f=!0,g=Te}finally{try{!c&&e.return!=null&&e.return()}finally{if(f)throw g}}return i}}function _unsupportedIterableToArray(_,o){if(_){if(typeof _=="string")return _arrayLikeToArray(_,o);var e=Object.prototype.toString.call(_).slice(8,-1);if(e==="Object"&&_.constructor&&(e=_.constructor.name),e==="Map"||e==="Set")return Array.from(_);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return _arrayLikeToArray(_,o)}}function _arrayLikeToArray(_,o){(o==null||o>_.length)&&(o=_.length);for(var e=0,i=new Array(o);e<o;e++)i[e]=_[e];return i}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var DeviceTypes={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},BrowserTypes={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},OsTypes={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},InitialDeviceTypes={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},checkDeviceType=function _(o){switch(o){case DeviceTypes.Mobile:return{isMobile:!0};case DeviceTypes.Tablet:return{isTablet:!0};case DeviceTypes.SmartTv:return{isSmartTV:!0};case DeviceTypes.Console:return{isConsole:!0};case DeviceTypes.Wearable:return{isWearable:!0};case DeviceTypes.Browser:return{isBrowser:!0};case DeviceTypes.Embedded:return{isEmbedded:!0};default:return InitialDeviceTypes}},setUserAgent=function _(o){return setUa(o)},setDefaults=function _(o){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return o||e},getNavigatorInstance=function _(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},isIOS13Check=function _(o){var e=getNavigatorInstance();return e&&e.platform&&(e.platform.indexOf(o)!==-1||e.platform==="MacIntel"&&e.maxTouchPoints>1&&!window.MSStream)},browserPayload=function _(o,e,i,c,f){return{isBrowser:o,browserMajorVersion:setDefaults(e.major),browserFullVersion:setDefaults(e.version),browserName:setDefaults(e.name),engineName:setDefaults(i.name),engineVersion:setDefaults(i.version),osName:setDefaults(c.name),osVersion:setDefaults(c.version),userAgent:setDefaults(f)}},mobilePayload=function _(o,e,i,c){return _objectSpread2({},o,{vendor:setDefaults(e.vendor),model:setDefaults(e.model),os:setDefaults(i.name),osVersion:setDefaults(i.version),ua:setDefaults(c)})},smartTvPayload=function _(o,e,i,c){return{isSmartTV:o,engineName:setDefaults(e.name),engineVersion:setDefaults(e.version),osName:setDefaults(i.name),osVersion:setDefaults(i.version),userAgent:setDefaults(c)}},consolePayload=function _(o,e,i,c){return{isConsole:o,engineName:setDefaults(e.name),engineVersion:setDefaults(e.version),osName:setDefaults(i.name),osVersion:setDefaults(i.version),userAgent:setDefaults(c)}},wearablePayload=function _(o,e,i,c){return{isWearable:o,engineName:setDefaults(e.name),engineVersion:setDefaults(e.version),osName:setDefaults(i.name),osVersion:setDefaults(i.version),userAgent:setDefaults(c)}},embeddedPayload=function _(o,e,i,c,f){return{isEmbedded:o,vendor:setDefaults(e.vendor),model:setDefaults(e.model),engineName:setDefaults(i.name),engineVersion:setDefaults(i.version),osName:setDefaults(c.name),osVersion:setDefaults(c.version),userAgent:setDefaults(f)}};function deviceDetect(_){var o=_?parseUserAgent(_):UAHelper,e=o.device,i=o.browser,c=o.engine,f=o.os,m=o.ua,g=checkDeviceType(e.type),Te=g.isBrowser,Ie=g.isMobile,Oe=g.isTablet,Ae=g.isSmartTV,De=g.isConsole,_e=g.isWearable,qe=g.isEmbedded;if(Te)return browserPayload(Te,i,c,f,m);if(Ae)return smartTvPayload(Ae,c,f,m);if(De)return consolePayload(De,c,f,m);if(Ie||Oe)return mobilePayload(g,e,f,m);if(_e)return wearablePayload(_e,c,f,m);if(qe)return embeddedPayload(qe,e,c,f,m)}var isMobileType=function _(o){var e=o.type;return e===DeviceTypes.Mobile},isTabletType=function _(o){var e=o.type;return e===DeviceTypes.Tablet},isMobileAndTabletType=function _(o){var e=o.type;return e===DeviceTypes.Mobile||e===DeviceTypes.Tablet},isSmartTVType=function _(o){var e=o.type;return e===DeviceTypes.SmartTv},isBrowserType=function _(o){var e=o.type;return e===DeviceTypes.Browser},isWearableType=function _(o){var e=o.type;return e===DeviceTypes.Wearable},isConsoleType=function _(o){var e=o.type;return e===DeviceTypes.Console},isEmbeddedType=function _(o){var e=o.type;return e===DeviceTypes.Embedded},getMobileVendor=function _(o){var e=o.vendor;return setDefaults(e)},getMobileModel=function _(o){var e=o.model;return setDefaults(e)},getDeviceType=function _(o){var e=o.type;return setDefaults(e,"browser")},isAndroidType=function _(o){var e=o.name;return e===OsTypes.Android},isWindowsType=function _(o){var e=o.name;return e===OsTypes.Windows},isMacOsType=function _(o){var e=o.name;return e===OsTypes.MAC_OS},isWinPhoneType=function _(o){var e=o.name;return e===OsTypes.WindowsPhone},isIOSType=function _(o){var e=o.name;return e===OsTypes.IOS},getOsVersion=function _(o){var e=o.version;return setDefaults(e)},getOsName=function _(o){var e=o.name;return setDefaults(e)},isChromeType=function _(o){var e=o.name;return e===BrowserTypes.Chrome},isFirefoxType=function _(o){var e=o.name;return e===BrowserTypes.Firefox},isChromiumType=function _(o){var e=o.name;return e===BrowserTypes.Chromium},isEdgeType=function _(o){var e=o.name;return e===BrowserTypes.Edge},isYandexType=function _(o){var e=o.name;return e===BrowserTypes.Yandex},isSafariType=function _(o){var e=o.name;return e===BrowserTypes.Safari||e===BrowserTypes.MobileSafari},isMobileSafariType=function _(o){var e=o.name;return e===BrowserTypes.MobileSafari},isOperaType=function _(o){var e=o.name;return e===BrowserTypes.Opera},isIEType=function _(o){var e=o.name;return e===BrowserTypes.InternetExplorer||e===BrowserTypes.Ie},isMIUIType=function _(o){var e=o.name;return e===BrowserTypes.MIUI},isSamsungBrowserType=function _(o){var e=o.name;return e===BrowserTypes.SamsungBrowser},getBrowserFullVersion=function _(o){var e=o.version;return setDefaults(e)},getBrowserVersion=function _(o){var e=o.major;return setDefaults(e)},getBrowserName=function _(o){var e=o.name;return setDefaults(e)},getEngineName=function _(o){var e=o.name;return setDefaults(e)},getEngineVersion=function _(o){var e=o.version;return setDefaults(e)},isElectronType=function _(){var o=getNavigatorInstance(),e=o&&o.userAgent&&o.userAgent.toLowerCase();return typeof e=="string"?/electron/.test(e):!1},isEdgeChromiumType=function _(o){return typeof o=="string"&&o.indexOf("Edg/")!==-1},getIOS13=function _(){var o=getNavigatorInstance();return o&&(/iPad|iPhone|iPod/.test(o.platform)||o.platform==="MacIntel"&&o.maxTouchPoints>1)&&!window.MSStream},getIPad13=function _(){return isIOS13Check("iPad")},getIphone13=function _(){return isIOS13Check("iPhone")},getIPod13=function _(){return isIOS13Check("iPod")},getUseragent=function _(o){return setDefaults(o)};function buildSelectorsObject(_){var o=_||UAHelper,e=o.device,i=o.browser,c=o.os,f=o.engine,m=o.ua;return{isSmartTV:isSmartTVType(e),isConsole:isConsoleType(e),isWearable:isWearableType(e),isEmbedded:isEmbeddedType(e),isMobileSafari:isMobileSafariType(i)||getIPad13(),isChromium:isChromiumType(i),isMobile:isMobileAndTabletType(e)||getIPad13(),isMobileOnly:isMobileType(e),isTablet:isTabletType(e)||getIPad13(),isBrowser:isBrowserType(e),isDesktop:isBrowserType(e),isAndroid:isAndroidType(c),isWinPhone:isWinPhoneType(c),isIOS:isIOSType(c)||getIPad13(),isChrome:isChromeType(i),isFirefox:isFirefoxType(i),isSafari:isSafariType(i),isOpera:isOperaType(i),isIE:isIEType(i),osVersion:getOsVersion(c),osName:getOsName(c),fullBrowserVersion:getBrowserFullVersion(i),browserVersion:getBrowserVersion(i),browserName:getBrowserName(i),mobileVendor:getMobileVendor(e),mobileModel:getMobileModel(e),engineName:getEngineName(f),engineVersion:getEngineVersion(f),getUA:getUseragent(m),isEdge:isEdgeType(i)||isEdgeChromiumType(m),isYandex:isYandexType(i),deviceType:getDeviceType(e),isIOS13:getIOS13(),isIPad13:getIPad13(),isIPhone13:getIphone13(),isIPod13:getIPod13(),isElectron:isElectronType(),isEdgeChromium:isEdgeChromiumType(m),isLegacyEdge:isEdgeType(i)&&!isEdgeChromiumType(m),isWindows:isWindowsType(c),isMacOs:isMacOsType(c),isMIUI:isMIUIType(i),isSamsungBrowser:isSamsungBrowserType(i)}}var isSmartTV=isSmartTVType(device),isConsole=isConsoleType(device),isWearable=isWearableType(device),isEmbedded=isEmbeddedType(device),isMobileSafari=isMobileSafariType(browser)||getIPad13(),isChromium=isChromiumType(browser),isMobile=isMobileAndTabletType(device)||getIPad13(),isMobileOnly=isMobileType(device),isTablet=isTabletType(device)||getIPad13(),isBrowser=isBrowserType(device),isDesktop=isBrowserType(device),isAndroid=isAndroidType(os),isWinPhone=isWinPhoneType(os),isIOS=isIOSType(os)||getIPad13(),isChrome=isChromeType(browser),isFirefox=isFirefoxType(browser),isSafari=isSafariType(browser),isOpera=isOperaType(browser),isIE=isIEType(browser),osVersion=getOsVersion(os),osName=getOsName(os),fullBrowserVersion=getBrowserFullVersion(browser),browserVersion=getBrowserVersion(browser),browserName=getBrowserName(browser),mobileVendor=getMobileVendor(device),mobileModel=getMobileModel(device),engineName=getEngineName(engine),engineVersion=getEngineVersion(engine),getUA=getUseragent(ua),isEdge=isEdgeType(browser)||isEdgeChromiumType(ua),isYandex=isYandexType(browser),deviceType=getDeviceType(device),isIOS13=getIOS13(),isIPad13=getIPad13(),isIPhone13=getIphone13(),isIPod13=getIPod13(),isElectron=isElectronType(),isEdgeChromium=isEdgeChromiumType(ua),isLegacyEdge=isEdgeType(browser)&&!isEdgeChromiumType(ua),isWindows=isWindowsType(os),isMacOs=isMacOsType(os),isMIUI=isMIUIType(browser),isSamsungBrowser=isSamsungBrowserType(browser),getSelectorsByUserAgent=function _(o){if(!o||typeof o!="string"){console.error("No valid user agent string was provided");return}var e=parseUserAgent(o),i=e.device,c=e.browser,f=e.os,m=e.engine,g=e.ua;return buildSelectorsObject({device:i,browser:c,os:f,engine:m,ua:g})},AndroidView=function _(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isAndroid?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},BrowserView=function _(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isBrowser?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},IEView=function _(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isIE?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},IOSView=function _(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isIOS?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},MobileView=function _(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isMobile?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},TabletView=function _(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isTablet?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},WinPhoneView=function _(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isWinPhone?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},MobileOnlyView=function _(o){var e=o.renderWithFragment,i=o.children;o.viewClassName,o.style;var c=_objectWithoutProperties(o,["renderWithFragment","children","viewClassName","style"]);return isMobileOnly?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},SmartTVView=function _(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isSmartTV?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},ConsoleView=function _(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isConsole?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},WearableView=function _(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isWearable?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},CustomView=function _(o){var e=o.renderWithFragment,i=o.children;o.viewClassName,o.style;var c=o.condition,f=_objectWithoutProperties(o,["renderWithFragment","children","viewClassName","style","condition"]);return c?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",f,i):null};function withOrientationChange(_){return function(o){_inherits(e,o);function e(i){var c;return _classCallCheck(this,e),c=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,i)),c.isEventListenerAdded=!1,c.handleOrientationChange=c.handleOrientationChange.bind(_assertThisInitialized(c)),c.onOrientationChange=c.onOrientationChange.bind(_assertThisInitialized(c)),c.onPageLoad=c.onPageLoad.bind(_assertThisInitialized(c)),c.state={isLandscape:!1,isPortrait:!1},c}return _createClass(e,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var c=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:c===0,isLandscape:c===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":_typeof(window))!==void 0&&isMobile&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return React__default.createElement(_,_extends({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),e}(React__default.Component)}function useMobileOrientation(){var _=React.useState(function(){var f=window.innerWidth>window.innerHeight?90:0;return{isPortrait:f===0,isLandscape:f===90,orientation:f===0?"portrait":"landscape"}}),o=_slicedToArray(_,2),e=o[0],i=o[1],c=React.useCallback(function(){var f=window.innerWidth>window.innerHeight?90:0,m={isPortrait:f===0,isLandscape:f===90,orientation:f===0?"portrait":"landscape"};e.orientation!==m.orientation&&i(m)},[e.orientation]);return React.useEffect(function(){return(typeof window>"u"?"undefined":_typeof(window))!==void 0&&isMobile&&(c(),window.addEventListener("load",c,!1),window.addEventListener("resize",c,!1)),function(){window.removeEventListener("resize",c,!1),window.removeEventListener("load",c,!1)}},[c]),e}function useDeviceData(_){var o=_||window.navigator.userAgent;return parseUserAgent(o)}function useDeviceSelectors(_){var o=_||window.navigator.userAgent,e=useDeviceData(o),i=buildSelectorsObject(e);return[i,e]}lib.AndroidView=AndroidView;lib.BrowserTypes=BrowserTypes;lib.BrowserView=BrowserView;lib.ConsoleView=ConsoleView;lib.CustomView=CustomView;lib.IEView=IEView;lib.IOSView=IOSView;lib.MobileOnlyView=MobileOnlyView;lib.MobileView=MobileView;lib.OsTypes=OsTypes;lib.SmartTVView=SmartTVView;lib.TabletView=TabletView;lib.WearableView=WearableView;lib.WinPhoneView=WinPhoneView;lib.browserName=browserName;lib.browserVersion=browserVersion;lib.deviceDetect=deviceDetect;lib.deviceType=deviceType;lib.engineName=engineName;lib.engineVersion=engineVersion;lib.fullBrowserVersion=fullBrowserVersion;lib.getSelectorsByUserAgent=getSelectorsByUserAgent;lib.getUA=getUA;lib.isAndroid=isAndroid;lib.isBrowser=isBrowser;lib.isChrome=isChrome;lib.isChromium=isChromium;lib.isConsole=isConsole;lib.isDesktop=isDesktop;lib.isEdge=isEdge;lib.isEdgeChromium=isEdgeChromium;lib.isElectron=isElectron;lib.isEmbedded=isEmbedded;lib.isFirefox=isFirefox;lib.isIE=isIE;lib.isIOS=isIOS;lib.isIOS13=isIOS13;lib.isIPad13=isIPad13;lib.isIPhone13=isIPhone13;lib.isIPod13=isIPod13;lib.isLegacyEdge=isLegacyEdge;lib.isMIUI=isMIUI;lib.isMacOs=isMacOs;var isMobile_1=lib.isMobile=isMobile;lib.isMobileOnly=isMobileOnly;lib.isMobileSafari=isMobileSafari;lib.isOpera=isOpera;lib.isSafari=isSafari;lib.isSamsungBrowser=isSamsungBrowser;lib.isSmartTV=isSmartTV;var isTablet_1=lib.isTablet=isTablet;lib.isWearable=isWearable;lib.isWinPhone=isWinPhone;lib.isWindows=isWindows;lib.isYandex=isYandex;lib.mobileModel=mobileModel;lib.mobileVendor=mobileVendor;lib.osName=osName;lib.osVersion=osVersion;lib.parseUserAgent=parseUserAgent;lib.setUserAgent=setUserAgent;lib.useDeviceData=useDeviceData;lib.useDeviceSelectors=useDeviceSelectors;lib.useMobileOrientation=useMobileOrientation;lib.withOrientationChange=withOrientationChange;const _0x1b719c=_0x136d;function _0x59c7(){const _=["1542565SxhZxv","keyboard","touch","resize","isGamepadConnected","forceTouch","detectDevice","standalone","#fastui","flex","includes","innerHeight","isDesktop","isMobile","matchMedia","(display-mode: standalone)","toggleJoystick","#toggle-keyboard","desktop","isTablet","fullscreenElement","gamepad","from","664352ZaQPIo","isQuest","grid","17062qQAsLS","onkeydown","updateDeviceType","1820DsYSbv","matches","6219xBZsJo","41BmhRPP","19250968InDBdP","some","26020skBYJA","881358frzmiU","219NfMiEu","hasTouch","forceDesktop","14ksjChV","navigator","ontouchstart","Quest","#desktopUi","innerWidth","isSmartphone","hasGamepad","add","getGamepads","isStandalone","resizeCanvas","has"];return _0x59c7=function(){return _},_0x59c7()}(function(_,o){const e=_0x136d,i=_();for(;[];)try{if(parseInt(e(407))/1*(-parseInt(e(454))/2)+-parseInt(e(412))/3*(parseInt(e(410))/4)+-parseInt(e(428))/5+parseInt(e(411))/6*(-parseInt(e(415))/7)+parseInt(e(451))/8+-parseInt(e(406))/9*(parseInt(e(457))/10)+parseInt(e(408))/11===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x59c7,280435);function _0x136d(_,o){const e=_0x59c7();return _0x136d=function(i,c){return i=i-405,e[i]},_0x136d(_,o)}var bi,Of;const In=class In{constructor(){const o=_0x136d;In[o(434)](),In[o(456)]()}static[_0x1b719c(456)](){const o=_0x1b719c;In.isDesktop()||In.isQuest()?In[o(414)]():In[o(413)]()&&In.forceTouch()}static isDesktop(){const o=_0x1b719c;return Ye(In,bi).has(o(446))&&Ye(In,bi)[o(427)](o(429))&&!Ye(In,bi)[o(427)](o(430))}static isNotPortrait(){const o=_0x1b719c;return window[o(420)]>window[o(439)]}static[_0x1b719c(422)](){const o=_0x1b719c;return navigator.getGamepads?Array[o(450)](navigator[o(424)]())[o(409)](e=>e!==null):![]}static[_0x1b719c(441)](){return isMobile_1}static[_0x1b719c(421)](){return isMobile_1&&!isTablet_1}static[_0x1b719c(447)](){return isTablet_1}static[_0x1b719c(425)](){const o=_0x1b719c;return window[o(416)][o(435)]||window[o(442)](o(443))[o(405)]}static[_0x1b719c(452)](){const o=_0x1b719c;var e=navigator.userAgent;return e[o(438)]("OculusBrowser")||e.includes(o(418))?!![]:![]}static[_0x1b719c(413)](){const o=_0x1b719c;return Ye(In,bi).has(o(430))}static[_0x1b719c(433)](){const o=_0x1b719c;hide(o(419)),show(o(436),o(453)),UiManager[o(444)]()}static forceDesktop(){const o=_0x1b719c;hide(o(436)),show(o(419),o(437)),UiManager[o(444)](),In[o(440)]()?hide(o(445)):show(o(445))}static[_0x1b719c(432)](){const o=_0x1b719c,e=navigator[o(424)]();for(const i of e)if(i)return!![];return![]}static[_0x1b719c(434)](){const o=_0x1b719c;o(417)in window?Ye(In,bi)[o(423)](o(430)):Ye(In,bi)[o(423)](o(446)),o(455)in window&&Ye(In,bi).add(o(429)),In[o(432)]()&&Ye(In,bi).add(o(449)),In[o(456)]()}};Of=_0x1b719c(426),bi=new WeakMap,jt(In,bi,new Set),mn(In,Of,o=>{const e=_0x1b719c;if(document[e(448)]!=null||o==null)return;let c=window.innerWidth,f=window[e(439)];c<f&&(f=f/2),o[e(431)]({width:c,height:f})});let EnvironmentManager=In;const _0x4fb7bd=_0x43af;(function(_,o){const e=_0x43af,i=_();for(;[];)try{if(-parseInt(e(655))/1+parseInt(e(457))/2*(parseInt(e(525))/3)+parseInt(e(653))/4*(parseInt(e(613))/5)+parseInt(e(664))/6+-parseInt(e(462))/7+parseInt(e(532))/8*(-parseInt(e(620))/9)+parseInt(e(580))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x52cc,955195);function _0x52cc(){const _=["VME_CFG_CURRENT_PLATFORM","Preparing to start emulation.","async","parse","style","Saved ","catch","list","startup_beforelaunch","#cors_query","name","<span class='blinking2'>","software","loadAsync","body","Downloading ... ","sleep","stack","className",".png","title","33288sUmEiA","files","1361856rJjVfJ","Starting to load ROM file: ","</span>","Files have been successfully imported.","display","loadCorsFile","loadCollectionFile","target","toFixed","4010286VNmLkO","--width","Error loading file.","checkFiles","endsWith","getActiveTheme","innerHTML","shader","getReader","21048XVnMuN","finally","parentNode","get","keys","8481830TyMaJq","tagName","clearMessages","add","Error importing VME Collection archive.","hideThumbnail","showThumbnail","loadRomFile","items"," files available.","length","video_smooth","Resolving ROM file.","startEmulation","string","set_default_handler","#000000","#settings","GAME_FOCUS_TOGGLE","floor","vme_import.json","setSelectedPlatform","sendCommand","storeFile","Error importing Nostalgist:","Error loading VME Import archive.","You are missing ","print_progress","bios","<span class='blinking2'>DEBUG MODE enabled.</span>","not_ready","find"," core.","description","guessBIOS","./libretro/","rewind_granularity","#cors_results","values","double","storeCollection","updateMessage","getElementById","Unsupported platform found.","doubleWidth","remove","dependencies"," not found.","Error encountered: ","dynamicImg","create","appendChild","#cors_query_prefix","filename","Importing ... (","&nbsp;","platforms","short_name","cors_results","] Software dir.","blob","createElement","Please refer to the VM/E Manual for instructions.","348LUgluz","An error occurred:","smd","hasGamepad","get_software_dir","redraw","</p>","24jSMvCH","setMessage","block","SHADER","guessConfig","print","SOFTWARE_DIR_KEY","headers","txt","stringify","isEnabled","trim","getItem","url","vme_collection.json","getValue","platform_id","touch_controller_mapping","log","file","repeat","/Named_Snaps/","tags","dynamic-image"," not found in the ZIP file.","loadVmeImportFile","importCorsFile",".zip","Error loading ","contains","force_scale","] Ready","loadState","load","Type HELP for info.","http://thumbnails.libretro.com/","Slow download detected.","--color0","none","push","guru","image","error","loadRomFromCollection","credits","root","then","--fontsize","23307760HyZwDr","--transform","corsrow","updatePlatform","textContent","A new collection have been successfully imported.","The image file is invalid: ","nul","classList","The rom file is invalid: ","importFile","message","Loading ..."," KB",".LAST_FILE","Preparing to download: ","platform_name","state","VME_CFG.CURRENT_PLATFORM","addEventListener",".software","application/octet-stream","setProperty","SOFTWARE DIRECTORY missing!","Amiga","html","loadRomFileFromUrl","bases","function","checkDependencies","documentElement","SHADER_TOGGLE","Download complete.","255RNwoWx","Loading ... OK","configure","saveState","background","REQUIRED FILES missing:","arraybuffer","3346866qXOMwT","launch","getSelectedPlatform","forEach","replace","theme","getProgramName","thumbnail","#platformLabel","Importing ...","1em","tag"];return _0x52cc=function(){return _},_0x52cc()}function _0x43af(_,o){const e=_0x52cc();return _0x43af=function(i,c){return i=i-450,e[i]},_0x43af(_,o)}const SelectedPlatforms={NES,GB,GBC,GBA,SMS,PCE,MD,C64,Amiga,C128,C264,A2600,A5200,A800,Lynx,CPC,VIC20,ZX80,Spectrum,SNK};var Gr,da,ei,Ws,Vo,Ks,Mr,Uo,jo,zo,Gs,Tf,Df,Ys,ou,fc,xl,dc,pl,hc,_l,xc,vl,Qs,su,Js,cu,du,vf;const Ao=class Ao{constructor(o,e,i){jt(this,Ys);jt(this,fc);jt(this,dc);jt(this,hc);jt(this,xc);jt(this,Qs);jt(this,Js);jt(this,du);jt(this,Gr,void 0);jt(this,da,void 0);jt(this,ei,void 0);jt(this,Ws,void 0);jt(this,Vo,void 0);jt(this,Ks,void 0);jt(this,Mr,void 0);jt(this,Uo,void 0);jt(this,jo,void 0);jt(this,zo,void 0);jt(this,Gs,void 0);const c=_0x4fb7bd;nr(this,Ks,o),nr(this,Mr,e),nr(this,ei,i);let f=localStorage[c(544)](Ao[c(632)]);nr(this,Gr,Object[c(500)](SelectedPlatforms)[c(493)](m=>m.platform_id===f)||SelectedPlatforms.NES),this[c(583)](),Ye(this,Mr)[c(477)](()=>{this[c(583)]()})}async[(Tf=_0x4fb7bd(632),Df=_0x4fb7bd(538),_0x4fb7bd(606))](o,e){const i=_0x4fb7bd;Debug[i(542)]()&&Debug.setMessage(i(656)+e),console[i(550)]({title:""+e,credits:"",platform_id:""+Ye(this,Gr)[i(548)],image:"",filename:""+e,url:""+o});try{ur(this,Ys,ou).call(this,e),Debug[i(542)]()&&Debug[i(503)]("load",i(595)+o);let c=![];const f=setTimeout(()=>{const Be=i;c=!![],Debug[Be(542)]()&&Debug[Be(503)]("load",Be(568))},8e3),m=await fetch(o);clearTimeout(f);const g=m[i(539)][i(460)]("Content-Length"),Te=g?parseInt(g,10):null;let Ie=0;const Oe=m[i(646)][i(456)](),Ae=[];let De=Ye(this,Mr);async function _e(){const Be=i;for(;[];){const{done:Ne,value:Ve}=await Oe.read();if(Ne)break;Ie+=Ve.length,Ae.push(Ve);const Ue=Math[Be(481)](Ie/1024);if(Te){const We=(Ie/Te*100)[Be(663)](2);De[Be(489)](Be(647)+We+" %")}else De[Be(489)](Be(647)+Ue+Be(593))}return De.print_progress(Be(614)),Debug[Be(542)]()&&Debug[Be(503)](Be(565),Be(612)),new Blob(Ae)}const qe=await _e();ur(this,fc,xl).call(this,o,e),this[i(475)](qe,e,c)}catch(c){Debug.isEnabled()&&Debug[i(533)](i(510)+c);const f=c[i(649)]||c;throw Ye(this,Mr)[i(572)](f,![]),new Error(i(450))}}async[_0x4fb7bd(469)](o,e){const i=_0x4fb7bd;ur(this,Ys,ou).call(this,e),this[i(475)](o,e)}async[_0x4fb7bd(575)](o,e,i,c){const f=_0x4fb7bd;o=="md"&&(o=f(527));let m=Object[f(500)](SelectedPlatforms)[f(493)](g=>g[f(548)]===o);Ye(this,ei)[f(451)](m).then(([g,Te,Ie])=>{const Oe=f;nr(this,Uo,g);let Ae=Object[Oe(500)](SelectedPlatforms)[Oe(493)](De=>De[Oe(548)]===o);this.setSelectedPlatform(Ae),nr(this,zo,c),this[Oe(469)](e,i)})}async startEmulation(o,e){const i=_0x4fb7bd;Debug[i(542)]()&&Debug[i(503)](i(565),i(633));let c=this;nr(this,Gs,o);let f=Ye(this,ei),m=Ye(this,Gr),g=Ye(this,Gr).core;nr(this,da,{});let Te=![];try{nr(this,Vo,await Nostalgist[i(621)]({core:g,rom:{fileName:e,fileContent:o},async beforeLaunch(Ie){const Oe=i;StorageManager[Oe(547)](Oe(535))!="0"&&typeof m[Oe(455)]===Oe(608)&&(Debug.isEnabled()&&Debug.updateMessage("load","Loading shaders."),await m.shader(Ie)),typeof m[Oe(640)]===Oe(608)&&(Debug.isEnabled()&&Debug.updateMessage(Oe(565),"Executing platform-specific startup sequence."),await m.startup_beforelaunch(Ie,f))},state:Ye(c,zo),async onLaunch(Ie){const Oe=i;nr(c,jo,e),Ie[Oe(484)](Oe(480)),Ie[Oe(484)](Oe(611))},shader:StorageManager[i(547)](i(535))=="0"||typeof m[i(455)]=="function"?void 0:"1",resolveCoreJs(Ie){return i(497)+g+"_libretro.js"},resolveCoreWasm(Ie){return i(497)+g+"_libretro.wasm"},resolveRom(Ie){const Oe=i;return Debug[Oe(542)]()&&Debug[Oe(503)]("load",Oe(474)),""+Ie},resolveShader(Ie){const Oe=i;return StorageManager[Oe(547)](Oe(535))=="0"?[]:Ye(c,Gr).shader}}))}catch(Ie){Te=!![],Debug[i(542)]()&&Debug.updateMessage(i(574),"Error: "+Ie[i(591)]),Ye(this,Mr)[i(572)](Ie,![]),console[i(574)](i(486),Ie);return}finally{Te||(Debug[i(464)](),ur(this,Qs,su).call(this,i(478),![]),Ye(this,Ks).emulationStarted())}}getNostalgist(){return Ye(this,Vo)}[_0x4fb7bd(626)](){return Ye(this,jo)}[_0x4fb7bd(529)](){return Ye(this,da)}[_0x4fb7bd(483)](o){const e=_0x4fb7bd;nr(this,Gr,o),localStorage.setItem(Ao[e(632)],Ye(this,Gr)[e(548)])}[_0x4fb7bd(622)](){return Ye(this,Gr)}[_0x4fb7bd(453)](){return Ye(this,Ws)}[_0x4fb7bd(583)](){const o=_0x4fb7bd;s(o(628))[o(454)]="("+Ye(this,Gr)[o(519)]+")",this[o(625)](Ye(this,Gr).theme),ur(this,xc,vl).call(this)}[_0x4fb7bd(609)](){ur(this,hc,_l).call(this)}[_0x4fb7bd(625)](o){const e=_0x4fb7bd;s(e(605))[e(636)].display=e(534),document[e(610)].style[e(602)](e(581),e(570)),document[e(610)][e(636)].setProperty("--color2",""),document[e(610)][e(636)][e(602)]("--color3",""),document[e(610)][e(636)][e(602)](e(579),e(630)),o[e(665)]==e(501)?s(e(479)).classList[e(465)](e(506)):s("#settings")[e(588)][e(507)](e(506)),nr(this,Ws,o),Object[e(461)](o)[e(623)](i=>{const c=e;document[c(610)][c(636)][c(602)](i,o[i])}),ur(this,Qs,su).call(this,o[e(569)],![])}[_0x4fb7bd(590)](o,e){const i=_0x4fb7bd;Ye(this,ei).storeFile(Ye(this,Gr)[i(548)]+"."+o,e)}loadCorsFile(o){const e=_0x4fb7bd;try{var i=[];o[e(470)][e(623)](c=>{const f=e;var m={};m[f(540)]=String(c[0]);const g=c[1],Te=o[f(554)]?o[f(554)][g]:null;m[f(545)]=o[f(577)]+o.bases[g]+c[2],Te&&(m[f(631)]=Te),i[f(571)](m)}),nr(this,da,o)}catch(c){console.log(c),Ye(this,Mr)[e(572)](c,![]),Ye(this,Mr).message(e(450))}}[_0x4fb7bd(558)](o,e){const i=_0x4fb7bd;try{var c=[];e[i(470)][i(623)](f=>{const m=i;var g={};g[m(540)]=String[f[0]],g[m(545)]=e[m(577)]+e[m(607)][f[1]]+f[2],c[m(571)](g)}),nr(this,da,e),Ye(this,ei)[i(485)](o,e)}catch(f){console[i(550)]("error",f),Ye(this,Mr)[i(572)](f,![]),Ye(this,Mr)[i(591)](i(450))}}async[_0x4fb7bd(661)](o){const e=_0x4fb7bd,i=new _0x388a98;let c=[];try{const f=await i[e(645)](o);if(f.files[e(546)]){const m=await f.file(e(546))[e(634)](e(476)),g=JSON[e(635)](m);Ye(this,Mr).print(e(517)),Ye(this,Mr)[e(489)](e(629));let Te=g[e(639)][e(472)],Ie=0,Oe=g.id,Ae=g[e(642)];const De=i[e(551)](g[e(573)]);let _e=null;if(De)_e=await De[e(634)](e(522));else throw new Error(e(586)+item[e(573)]);for(const Be of g.list){Ie++,Ye(this,Mr)[e(489)](e(516)+Ie+"/"+Te+")");const Ne=Object[e(500)](SelectedPlatforms)[e(493)](at=>at[e(548)]===Be.platform_id);if(Ne==null)throw new Error(e(505));const[Ve,Ue,We]=await Ye(this,ei).checkFiles(Ne);if(Ue[e(472)]>0)throw new Error(e(488)+Be[e(548)]+" requirements.");const He=i[e(551)](Be[e(573)]);let Ze=null;if(He)Ze=await He[e(634)](e(522));else throw new Error("The image file is invalid: "+Be[e(573)]);let ct=null;if(Be[e(545)])ct=await(await fetch(Be[e(545)]))[e(522)]();else throw new Error(e(589)+Be[e(545)]);c[e(571)]({title:Be[e(652)]!=null?Be.title:"",credits:Be[e(576)]!=null?Be.credits:"",description:Be[e(495)]!=null?Be[e(495)]:"",platform_id:Be[e(548)],file:ct,data_type:e(522),filename:Be[e(515)],image:Ze})}if(await Ye(this,ei)[e(502)](Oe,Ae,_e,c))Ye(this,Mr)[e(591)](e(585));else throw new Error}else{Ye(this,Mr)[e(591)](e(517),e(466),"vme_collection.json not found in the ZIP file.");return}}catch(f){console[e(574)](e(526),f),Ye(this,Mr)[e(572)](f,![]),Ye(this,Mr).message(e(517),"Error importing VME Collection archive.");return}}async[_0x4fb7bd(557)](o){const e=_0x4fb7bd,i=new _0x388a98;let c=!![];try{const f=await i.loadAsync(o);if(f[e(654)][e(482)]){const m=await f.file("vme_import.json")[e(634)]("string"),g=JSON[e(635)](m);Ye(this,Mr)[e(537)](e(517));let Te=1,Ie=Object[e(461)](g[e(518)]).length;for(const Oe in g.platforms){Ye(this,Mr)[e(489)](e(516)+Te+++"/"+Ie+")");const Ae=g.platforms[Oe];if(!await ur(this,Js,cu).call(this,Ae[e(644)],Oe+e(600),f))return;if(Ae[e(508)])for(const _e in Ae[e(508)]){const qe=Ae[e(508)][_e];if(!await ur(this,Js,cu).call(this,qe,Oe+"."+_e,f))throw new Error("Error processing zip.")}}}else{Ye(this,Mr)[e(591)]("&nbsp;","Error loading VME Import archive.","vme_import.json not found in the ZIP file."),c=![];return}}catch(f){console.error(e(526),f),Ye(this,Mr)[e(572)](f,!![]),Ye(this,Mr)[e(591)](e(517),e(487)),c=![];return}c&&Ye(this,Mr)[e(591)](e(658))}showThumbnail(o){const e=_0x4fb7bd;let i=this[e(622)]().thumbnail_dir,c=e(567)+i+e(553)+o[e(624)](e(559),e(651));this[e(511)]&&(this[e(511)].src=c,this[e(511)][e(636)][e(659)]=e(534))}[_0x4fb7bd(467)](){const o=_0x4fb7bd;this.dynamicImg&&(this[o(511)][o(636)].display=o(570))}[_0x4fb7bd(648)](o){return new Promise(e=>setTimeout(e,o))}async[_0x4fb7bd(564)](o,e,i,c){const f=_0x4fb7bd;if(o=="md"&&(o=f(527)),o!=Ye(this,Gr)[f(548)]){let m=Object[f(500)](SelectedPlatforms)[f(493)](g=>g[f(548)]===o);this[f(483)](m),this[f(583)]()}nr(this,zo,e),await this.loadRomFile(i,c)}async[_0x4fb7bd(616)](){const o=_0x4fb7bd;let e=await Ye(this,Vo).saveState();const i=e[o(597)],c=e[o(627)],f=Ye(this,Gr)[o(548)],m=Ye(this,jo),g=Ye(this,Gs);Ye(this,ei).storeState(i,g,c,f,m)}};Gr=new WeakMap,da=new WeakMap,ei=new WeakMap,Ws=new WeakMap,Vo=new WeakMap,Ks=new WeakMap,Mr=new WeakMap,Uo=new WeakMap,jo=new WeakMap,zo=new WeakMap,Gs=new WeakMap,Ys=new WeakSet,ou=async function(o){const e=_0x4fb7bd;s(e(514))[e(636)].display="none",s(e(514))[e(454)]="",s(e(641))[e(454)]='load "'+o+'"',s(e(499))[e(454)]=`
`,Ye(this,Mr)[e(489)](e(592));const i=this;let c={};EnvironmentManager.hasTouch()&&Ye(this,Gr).touch_controller_mapping!=null?c={...Ye(this,Gr)[e(549)]}:EnvironmentManager[e(528)]()?c={input_player1_up:e(587),input_player1_left:e(587),input_player1_down:e(587),input_player1_right:"nul",input_player1_b:e(587),input_player1_a:e(587),input_player1_c:"nul"}:Ye(this,Gr)==SelectedPlatforms[e(604)]&&(c={input_player1_x:"nul",input_player1_y:e(587),input_player1_c:e(587),input_player1_b:"z",input_player1_a:e(587),input_player1_l:e(587),input_player1_r:e(587),input_player1_select:e(587),input_player1_start:e(587),input_player1_l2:e(587),input_player1_r2:e(587)}),Nostalgist[e(615)]({bios:typeof Ye(this,Gr)[e(496)]===e(608)?Ye(this,Gr)[e(496)](o):Ye(this,Gr)[e(490)],retroarchConfig:{rewind_enable:!![],rewind_buffer_size:20,rewind_granularity:Ye(this,Gr)[e(498)]===void 0?5:Ye(this,Gr).rewind_granularity,fastforward_ratio:Ye(this,Gr).fastforward_ratio===void 0?10:Ye(this,Gr).fastforward_ratio,input_pause_toggle:![],video_scale_integer:Ye(this,Gr)[e(562)]===void 0?![]:Ye(this,Gr).force_scale,video_smooth:Ye(this,Gr)[e(473)]===void 0?!![]:Ye(this,Gr)[e(473)],savestate_thumbnail_enable:!![],video_font_enable:![],input_menu_toggle:e(587),video_adaptive_vsync:!![],video_vsync:!![],...c},retroarchCoreConfig:typeof Ye(this,Gr)[e(536)]===e(608)?Ye(this,Gr)[e(536)](o):{},resolveBios(f){const m=e;let g=Ye(i,Gr)[m(548)]+"."+f,Te=Ye(i,Uo)[g];return new Blob([Te],{type:m(601)})}})},fc=new WeakSet,xl=function(o,e){const i=_0x4fb7bd,c={filename:o,caption:e},f=JSON[i(541)](c);StorageManager.storeValue(Ye(this,Gr)[i(548)]+i(594),f)},dc=new WeakSet,pl=function(o,e,i){const c=_0x4fb7bd;Ye(this,Mr).print(o),Ye(this,Mr)[c(537)]("&nbsp;["+(e?"x":" ")+c(563)),Ye(this,Mr).print("&nbsp;["+(i?"x":" ")+c(521)),Ye(this,Mr)[c(537)]("&nbsp;")},hc=new WeakSet,_l=async function(){const o=_0x4fb7bd;for(const e in SelectedPlatforms){const i=SelectedPlatforms[e],[c,f,m]=await Ye(this,ei)[o(451)](i),g=f.length===0;ur(this,dc,pl).call(this,i.platform_name,g&&!i[o(492)],m!==null)}},xc=new WeakSet,vl=function(){const o=_0x4fb7bd;Ye(this,ei)[o(451)](Ye(this,Gr))[o(578)](([e,i,c])=>{const f=o;nr(this,Uo,e);let m=!![];Ye(this,Mr)[f(537)](Ye(this,Gr)[f(596)]),Ye(this,Mr).print("<p class='only-landscape'>"+"="[f(552)](Ye(this,Gr).platform_name.length)+f(531)),i[f(472)]>0&&(m=![],Ye(this,Mr)[f(537)](f(517)),Ye(this,Mr)[f(537)](f(618)),i[f(623)](g=>{const Te=f;Ye(this,Mr)[Te(537)]("- "+g)})),c==null?(Ye(this,Mr).print("&nbsp;"),m=![],Ye(this,Mr).print(f(603)),nr(this,da,void 0)):this[f(660)](c),Ye(this,Mr)[f(537)](f(517)),StorageManager[f(547)]("DEBUG")=="1"&&(Ye(this,Mr)[f(537)](f(491)),Ye(this,Mr)[f(537)]("&nbsp;")),Ye(this,Gr)[f(591)]?(Ye(this,Mr)[f(537)](f(643)+Ye(this,Gr)[f(591)]+f(657)),Ye(this,Mr)[f(537)](f(517)),Ye(this,Mr)[f(537)](f(566))):m?(Ye(this,Mr)[f(537)](c[f(470)][f(472)]+f(471)),Ye(this,Mr).print("&nbsp;"),Ye(this,Mr).print(f(566))):(Ye(this,Mr)[f(537)]("Please import the missing file(s)."),Ye(this,Mr)[f(537)](f(517)),Ye(this,Mr)[f(537)](f(524)))})[o(638)](e=>{const i=o;console[i(550)](e[i(649)]),Ye(this,Mr)[i(572)](e,![]),Ye(this,Mr).print(i(560)+Ye(this,Gr)[i(596)]+i(494))})[o(458)](()=>{const e=o;Ye(this,Mr)[e(530)]()})},Qs=new WeakSet,su=function(o){const e=_0x4fb7bd;s("#settings")[e(636)].background=o,s(e(646)).style.background=o,s(e(605))[e(636)][e(617)]=o},Js=new WeakSet,cu=async function(o,e,i){const c=_0x4fb7bd;if(i[c(654)][o]){let m;if(o[c(452)](".json")){m=await i[c(551)](o)[c(634)](c(476));let g=JSON[c(635)](m);this.importCorsFile(e,g)}else{m=await i[c(551)](o).async(c(619));var f=cryptoJsExports.lib.WordArray[c(512)](m);cryptoJsExports.MD5(f).toString(),await Ye(this,ei)[c(485)](e,m)}return console[c(550)](c(637)+e),!![]}else return console[c(574)](o+c(556)),Ye(this,Mr)[c(591)](c(517),c(487),""+o+c(509)),![]},du=new WeakSet,vf=function(){const o=_0x4fb7bd;this[o(511)]=document[o(523)]("img"),this[o(511)][o(650)]=o(555),this[o(511)][o(636)][o(659)]="none",document[o(646)][o(513)](this[o(511)]),this[o(511)].addEventListener(o(574),()=>{this[o(467)]()});const e=document[o(504)](o(520));e.addEventListener("mouseover",i=>{const c=o;if(i.target[c(463)]==="SPAN"&&i.target.parentNode[c(588)][c(561)](c(582))){let f=i.target[c(584)][c(543)]();this[c(468)](f)}}),e[o(599)]("mouseout",i=>{const c=o;i[c(662)][c(463)]==="SPAN"&&i[c(662)][c(459)][c(588)][c(561)]("corsrow")&&this[c(467)]()})},mn(Ao,Tf,_0x4fb7bd(598)),mn(Ao,Df,".software");let PlatformManager=Ao;const _0x4d31e9=_0xaf2a;function _0xaf2a(_,o){const e=_0x3870();return _0xaf2a=function(i,c){return i=i-220,e[i]},_0xaf2a(_,o)}(function(_,o){const e=_0xaf2a,i=_();for(;[];)try{if(parseInt(e(255))/1*(parseInt(e(315))/2)+-parseInt(e(303))/3+parseInt(e(238))/4*(-parseInt(e(266))/5)+-parseInt(e(233))/6+-parseInt(e(299))/7+-parseInt(e(264))/8+-parseInt(e(260))/9*(-parseInt(e(248))/10)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x3870,559685);function _0x3870(){const _=["keydown","next",'" alt=',`deg)">
            <div class="flicking-title flicking-title-name">`,"5203950URYglc","Enter","%) scale(12)","No save states found.","ArrowRight","104968KjXTmI","close","index","replace","MENU",".flicking-panel","moveEnd","bind","createObjectURL","transform","8380xKdqiw","#save-browser","updatePlatform","removeEventListener","touchstart","remove","click","2lFaiOA","program_name","addEventListener",`)</div>
        </div>
        `,"#flicking","36207UXranD","then","querySelector","forEach","7549856ILfaot","screenshot","170vgGXiV","image/png","reset","Escape","panelCount","show","loadState","getAllSaveMeta","scale(12)",".flicking-background","#saveBrowserUiLoad","saveBrowserUiLoad","random","saveBrowserUiDelete","#saveBrowserUiDelete","disabled","animating","toggleScreen","moveTo","innerHTML","clientWidth","CURRENT_SCREEN","classList","find","position","SAVE_BROWSER",`
        <div class="flicking-panel" data-id="`,"catch","prev","camera","translateX(","active","platform_id","2076697itqxxb","snap","url(","currentPanel","1251897USVVlk","element","add","append","key","values","img","data-id","smd","move","none","open","605666BKMbUL","short_name","saveBrowserEmpty","querySelectorAll",'" style="transform: rotate(',"display","changed","style",`">
            <img src="`,"getElementById"];return _0x3870=function(){return _},_0x3870()}var qa,Ho,Na,Xs,ln,La,Wo,Ko,pc,ml,Go,q0,_c,gl,ha,So,Zs,uu,vc,yl,mc,bl,gc,El;class SaveBrowser{constructor(o,e,i,c){jt(this,pc);jt(this,Go);jt(this,_c);jt(this,ha);jt(this,Zs);jt(this,vc);jt(this,mc);jt(this,gc);jt(this,qa,void 0);jt(this,Ho,void 0);jt(this,Na,void 0);jt(this,Xs,void 0);jt(this,ln,void 0);jt(this,La,void 0);jt(this,Wo,void 0);jt(this,Ko,void 0);const f=_0xaf2a;nr(this,qa,o),nr(this,Ho,e),nr(this,Na,i),nr(this,Xs,c),nr(this,Ko,ur(this,mc,bl)[f(245)](this)),addButtonEventListeners(s("#saveBrowserUiBack"),m=>{const g=f;m&&(this[g(239)](),Ye(this,qa)[g(283)](VME[g(287)][g(242)]))})}[_0x4d31e9(314)](){const o=_0x4d31e9;let e=document.querySelector(o(249));e[o(288)][o(305)](o(271)),e[o(226)].opacity=1,ur(this,vc,yl).call(this),nr(this,ln,new Flicking(o(259),{circular:!![],moveType:o(300),preventClickOnDrag:!![],autoResize:!![]}));let i=this,c=![];const f=m=>{const g=o;c||(c=!![],Ye(this,ln)[g(284)](m)[g(261)](()=>{c=![]})[g(293)](()=>{c=![]}))};Ye(this,Na)[o(273)]()[o(261)](m=>{var Te,Ie,Oe,Ae;const g=o;m.length==0?(ur(Te=i,ha,So).call(Te),ur(Ie=i,Go,q0).call(Ie)):(m.forEach(_e=>{var Ne;const qe=_0xaf2a,Be=ur(Ne=i,pc,ml).call(Ne,_e);Ye(i,ln)[qe(306)](Be)}),document[g(222)](g(243))[g(263)]((_e,qe)=>{const Be=g;_e[Be(257)](Be(254),()=>f(qe)),_e[Be(257)](Be(252),()=>f(qe))}),Ye(i,ln).on(g(225),_e=>{var qe,Be;ur(qe=i,Go,q0).call(qe),ur(Be=i,ha,So).call(Be)}),Ye(i,ln).on(g(312),_e=>{var qe;ur(qe=i,_c,gl).call(qe)}),Ye(i,ln).on(g(244),_e=>{var qe;ur(qe=i,ha,So).call(qe)}),Ye(i,ln).on("moveStart",_e=>{const qe=g;document.querySelectorAll(qe(243))[qe(263)](Ne=>Ne[qe(288)][qe(253)](qe(297))),document[qe(228)](qe(277)).classList[qe(305)](qe(281)),document.getElementById("saveBrowserUiDelete")[qe(288)][qe(305)]("disabled"),nr(this,La,![])}),ur(Oe=i,ha,So).call(Oe),ur(Ae=i,Go,q0).call(Ae),nr(this,Wo,![]))}),document[o(257)](o(229),Ye(this,Ko)),addButtonEventListeners(s(o(280)),m=>{const g=o;if(m&&Ye(this,La)){const Te=Ye(this,ln)[g(302)];if(Te!=null){const Ie=Te[g(304)].getAttribute("data-id"),Oe=parseInt(Ie,10),Ae=Ye(i,ln)[g(270)]-1;Ye(i,Na).deleteSave(Oe)[g(261)](()=>{var qe;const De=g;Ye(i,ln).remove(Te.index);let _e=Te[De(240)];_e>=Ae&&(_e=Ae-1),Ye(i,ln)[De(270)]>0&&Ye(i,ln).moveTo(_e,0),ur(qe=i,ha,So).call(qe)})}}}),addButtonEventListeners(s(o(276)),m=>{m&&ur(this,Zs,uu).call(this)}),Ye(this,qa).toggleScreen(VME[o(287)][o(291)])}[_0x4d31e9(239)](){const o=_0x4d31e9;document[o(251)](o(229),Ye(this,Ko)),Ye(this,Xs)[o(268)](),Ye(this,Ho)[o(250)]()}}qa=new WeakMap,Ho=new WeakMap,Na=new WeakMap,Xs=new WeakMap,ln=new WeakMap,La=new WeakMap,Wo=new WeakMap,Ko=new WeakMap,pc=new WeakSet,ml=function(o){const e=_0xaf2a;o[e(298)]=="md"&&(o[e(298)]=e(311));const i=Object[e(308)](SelectedPlatforms)[e(289)](g=>g[e(298)]===o[e(298)]);let c=new Blob([o[e(265)]],{type:e(267)});const f=URL[e(246)](c),m=Math[e(278)]()*20-10;return e(292)+o.id+e(227)+f+e(231)+o[e(256)]+e(223)+m+e(232)+ur(this,gc,El).call(this,o.program_name)+" ("+i[e(220)]+e(258)},Go=new WeakSet,q0=function(){const o=_0xaf2a;var e=Ye(this,ln)[o(302)];if(e!=null){var i=e[o(304)][o(262)](o(309)).src;document[o(262)](o(275)).style.background=i,document[o(262)](o(275))[o(226)].background=o(301)+i+")",document[o(262)](o(275))[o(226)][o(247)]=o(274)}},_c=new WeakSet,gl=function(){const o=_0xaf2a;var e=Ye(this,ln)[o(304)][o(286)],i=Ye(this,ln)[o(295)][o(290)]/e,c=document[o(262)](o(275));c.style.transform=o(296)+i*50+o(235)},ha=new WeakSet,So=function(){const o=_0xaf2a,e=Ye(this,ln)[o(302)];e!=null?(document[o(228)](o(221)).style[o(224)]=o(313),document[o(228)](o(277)).classList[o(305)]("disabled"),document[o(228)](o(279))[o(288)].add(o(281)),document[o(222)](o(243))[o(263)](c=>c[o(288)].remove(o(297))),e.element[o(288)].add(o(297)),document[o(228)](o(277))[o(288)][o(253)](o(281)),document.getElementById(o(279))[o(288)][o(253)](o(281)),nr(this,La,!![])):(document.getElementById(o(221))[o(226)].display="block",document[o(228)]("saveBrowserEmpty")[o(285)]=o(236),document[o(228)](o(277))[o(288)][o(305)](o(281)),document.getElementById(o(279))[o(288)][o(305)](o(281)))},Zs=new WeakSet,uu=function(){const o=_0x4d31e9;if(this[o(239)](),Ye(this,La)&&!Ye(this,Wo)){nr(this,Wo,!![]);const e=Ye(this,ln)[o(302)];if(e!=null){const i=e[o(304)].getAttribute(o(310)),c=parseInt(i,10);Ye(this,Na).getSaveData(c)[o(261)](f=>{const m=o;Ye(this,Ho)[m(272)](f.platform_id,f.save_data,f.rom_data,f.program_name)})}}},vc=new WeakSet,yl=function(){if(Ye(this,ln)){const o=Ye(this,ln).panelCount;for(let e=o-1;e>=0;e--)Ye(this,ln).remove(e);Ye(this,ln).destroy()}},mc=new WeakSet,bl=function(o){const e=_0x4d31e9;!Ye(this,ln)||Ye(this,ln)[e(282)]||(o.key===e(237)?Ye(this,ln)[e(230)]()[e(293)](()=>{}):o[e(307)]==="ArrowLeft"?Ye(this,ln)[e(294)]()[e(293)](()=>{}):o[e(307)]===e(234)?ur(this,Zs,uu).call(this):o[e(307)]===e(269)&&(this[e(239)](),Ye(this,qa)[e(283)](VME.CURRENT_SCREEN[e(242)])))},gc=new WeakSet,El=function(o){return o=o[_0x4d31e9(241)](/\.[^/.]+$/,""),o=o.replace(/[\[\(][^\[\]\(\)]+[\]\)]/g,"").trim(),o};function _0x3b6f(){const _=["save_data_id",`deg)">
            <div class="flicking-title flicking-title-name">
            <span class="flicking-primary-label">`,'" style="transform: rotate(',"snap","599574ktuzJd","1248328GNtaxg","click","addEventListener","12LnMLvL","#collectionBrowserUiBack","dataset","display","#collection-browser",`">
            <img src="`,"2066799HNETxI","getSaveData","rom_data_id","find","reset","animating","135518WfJCFU","save","ArrowLeft","getAllSaveMeta","getElementById","getAttribute","image","element","classList",'" data-save="',"Enter","append","toggleScreen","values","panels","platform_name","currentPanel","panelCount","key","timestamp","none","storeValue",`)</span>
            <br/>
            <span class="flicking-secondary-label">`,"#collectionBrowserUiLoad","data-id","rom_name","rom_data","destroy","ArrowRight","push","1049585OAnGWc","#collectionBrowserUiRestore","smd","undefined","open","COLLECTION_BROWSER","remove","bind","style","contains","credits","close","Cannot load selected program.","add",".flicking-panel","random","filter","findIndex","querySelectorAll","15674730TwqTdq","CURRENT_SCREEN","sort","collectionBrowserEmpty","getCollectionItems","changed","block","#collection-flicking","21WicPdX","MENU","catch","disabled","No collection found.","1880488ihdLDx",`</span>
            <br/>
            <span class="flicking-secondary-label">(`,'" alt=',"length","platform_id","removeEventListener","collectionBrowserUiRestore","collectionBrowserUiLoad","clearValue","keydown","9VdIGAH","title","forEach","getRomData","querySelector","loadRomFromCollection","active"];return _0x3b6f=function(){return _},_0x3b6f()}const _0x134d50=_0x5ba2;(function(_,o){const e=_0x5ba2,i=_();for(;[];)try{if(parseInt(e(506))/1*(parseInt(e(518))/2)+parseInt(e(512))/3+parseInt(e(503))/4+parseInt(e(548))/5+-parseInt(e(502))/6*(-parseInt(e(476))/7)+-parseInt(e(481))/8*(parseInt(e(491))/9)+-parseInt(e(567))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x3b6f,521293);function _0x5ba2(_,o){const e=_0x3b6f();return _0x5ba2=function(i,c){return i=i-476,e[i]},_0x5ba2(_,o)}var Ma,Yo,Yi,$s,Cn,Va,Ua,xa,Qo,yc,wl,ja,Cs,bc,Sl,e0,lu,Ec,Al,wc,Il;class CollectionBrowser{constructor(o,e,i,c){jt(this,yc);jt(this,ja);jt(this,bc);jt(this,e0);jt(this,Ec);jt(this,wc);jt(this,Ma,void 0);jt(this,Yo,void 0);jt(this,Yi,void 0);jt(this,$s,void 0);jt(this,Cn,void 0);jt(this,Va,void 0);jt(this,Ua,void 0);jt(this,xa,void 0);jt(this,Qo,void 0);const f=_0x5ba2;nr(this,Ma,o),nr(this,Yo,e),nr(this,Yi,i),nr(this,$s,c),nr(this,Qo,ur(this,wc,Il)[f(555)](this)),addButtonEventListeners(s(f(507)),m=>{const g=f;m&&(StorageManager[g(489)](BOOT_TO),StorageManager[g(489)](COLLECTION_BROWSER_COLLECTION_INDEX),StorageManager[g(489)](COLLECTION_BROWSER_ITEM_INDEX),this.close(),Ye(this,Ma)[g(530)](VME[g(568)][g(477)]))})}async[_0x134d50(552)](o=1,e=1){const i=_0x134d50;let c=document[i(495)](i(510));c.classList[i(561)]("show"),c[i(556)].opacity=1,ur(this,Ec,Al).call(this),nr(this,Cn,new Flicking(i(574),{circular:![],moveType:i(501),preventClickOnDrag:!![],autoResize:!![]}));let f=this,m=![];const g=Ie=>{const Oe=i;m||(m=!![],Ye(this,Cn).moveTo(Ie).then(()=>{m=![]})[Oe(478)](()=>{m=![]}))};nr(this,Va,[]);const Te=await Ye(this,Yi)[i(521)]();Ye(this,Yi)[i(571)]().then(Ie=>{var Ae,De;const Oe=i;if(Ie[Oe(484)]==0)ur(Ae=f,ja,Cs).call(Ae);else{Ie[Oe(493)](Be=>{var We;const Ne=Oe,Ve=Te[Ne(564)](He=>He.platform_id==Be.platform_id&&He[Ne(514)]==Be.rom_data_id)[Ne(569)]((He,Ze)=>Ze[Ne(537)]-He[Ne(537)])[0];Ve!=null&&(Be[Ne(498)]=Ve.save_data_id);const Ue=ur(We=f,yc,wl).call(We,Be);Ye(f,Cn)[Ne(529)](Ue),Ye(this,Va)[Ne(547)](Be)}),document[Oe(566)](".flicking-panel").forEach((Be,Ne)=>{const Ve=Oe;Be[Ve(505)](Ve(504),()=>g(Ne)),Be.addEventListener("touchstart",()=>g(Ne))}),Ye(f,Cn).on(Oe(572),Be=>{var Ne;ur(Ne=f,ja,Cs).call(Ne)}),Ye(f,Cn).on("moveEnd",Be=>{var Ne;ur(Ne=f,ja,Cs).call(Ne)}),Ye(f,Cn).on("moveStart",Be=>{const Ne=Oe;document[Ne(566)](Ne(562))[Ne(493)](Ue=>Ue[Ne(526)][Ne(554)](Ne(497))),document[Ne(522)](Ne(488)).classList.add(Ne(479)),document[Ne(522)](Ne(487)).classList.add(Ne(479)),nr(this,Ua,![])});const qe=Ye(f,Cn)[Oe(532)][Oe(565)](Be=>Be[Oe(525)].dataset.id===String(e));qe>=0&&Ye(f,Cn).moveTo(qe,0),ur(De=f,ja,Cs).call(De),nr(this,xa,![])}}),document[i(505)](i(490),Ye(this,Qo)),addButtonEventListeners(s(i(541)),Ie=>{Ie&&ur(this,e0,lu).call(this)}),addButtonEventListeners(s(i(549)),Ie=>{Ie&&ur(this,bc,Sl).call(this)}),StorageManager[i(539)](BOOT_TO,BOOT_TO_COLLECTION_BROWSER),Ye(this,Ma)[i(530)](VME[i(568)][i(553)])}[_0x134d50(559)](){const o=_0x134d50;document[o(486)]("keydown",Ye(this,Qo)),Ye(this,$s)[o(516)]()}}Ma=new WeakMap,Yo=new WeakMap,Yi=new WeakMap,$s=new WeakMap,Cn=new WeakMap,Va=new WeakMap,Ua=new WeakMap,xa=new WeakMap,Qo=new WeakMap,yc=new WeakSet,wl=function(o){const e=_0x5ba2;o[e(485)]=="md"&&(o[e(485)]=e(550));const i=Object[e(531)](SelectedPlatforms)[e(515)](f=>f[e(485)]===o[e(485)]),c=Math[e(563)]()*20-10;return`
        <div class="flicking-panel" data-id="`+o.id+e(527)+o[e(498)]+e(511)+o[e(524)]+e(483)+o[e(492)]+e(500)+c+e(499)+o[e(492)]+e(482)+o[e(558)]+e(540)+i[e(533)]+`</span>
            </div>
        </div>
        `},ja=new WeakSet,Cs=function(){const o=_0x5ba2,e=Ye(this,Cn)[o(534)];e!=null?(document[o(522)](o(570)).style.display=o(538),document[o(566)](".flicking-panel")[o(493)](c=>c.classList[o(554)]("active")),e.element[o(526)][o(561)](o(497)),document[o(522)]("collectionBrowserUiLoad")[o(526)][o(554)]("disabled"),e[o(525)][o(508)][o(519)]!=o(551)?document[o(522)](o(487)).classList[o(554)](o(479)):document[o(522)]("collectionBrowserUiRestore")[o(526)][o(561)](o(479)),nr(this,Ua,!![])):(document[o(522)](o(570)).style[o(509)]=o(573),document[o(522)]("collectionBrowserEmpty").innerHTML=o(480),document[o(522)](o(487))[o(526)][o(561)](o(479)),document[o(522)]("collectionBrowserUiLoad")[o(526)][o(561)](o(479)))},bc=new WeakSet,Sl=async function(){const o=_0x134d50;if(Ye(this,Ua)&&!Ye(this,xa)){const e=Ye(this,Cn)[o(534)];if(e!=null){if(document.getElementById("collectionBrowserUiRestore")[o(526)][o(557)](o(479)))return;nr(this,xa,!![]);const i=e[o(525)][o(523)]("data-id"),c=parseInt(i,10);StorageManager.storeValue(COLLECTION_BROWSER_COLLECTION_INDEX,1),StorageManager[o(539)](COLLECTION_BROWSER_ITEM_INDEX,c);const f=Ye(this,Va)[o(564)](m=>m.id===c);if(f.length>0){const m=e[o(525)].dataset[o(519)],g=parseInt(m,10),Te=await Ye(this,Yi)[o(513)](g),Ie=f[0],Oe=await Ye(this,Yi)[o(494)](Ie[o(514)]);Ye(this,Yo).loadRomFromCollection(Ie.platform_id,Oe[o(544)],Ie[o(543)],Te.save_data),this[o(559)]()}else throw new Exception(o(560))}}},e0=new WeakSet,lu=async function(){const o=_0x134d50;if(Ye(this,Ua)&&!Ye(this,xa)){nr(this,xa,!![]);const e=Ye(this,Cn)[o(534)];if(e!=null){const i=e[o(525)].getAttribute(o(542)),c=parseInt(i,10);StorageManager[o(539)](COLLECTION_BROWSER_COLLECTION_INDEX,1),StorageManager[o(539)](COLLECTION_BROWSER_ITEM_INDEX,c);const f=Ye(this,Va)[o(564)](m=>m.id===c);if(f[o(484)]>0){const m=f[0],g=await Ye(this,Yi)[o(494)](m[o(514)]);Ye(this,Yo)[o(496)](m[o(485)],g[o(544)],m[o(543)]),this.close()}else throw new Exception(o(560))}}},Ec=new WeakSet,Al=function(){const o=_0x134d50;if(Ye(this,Cn)){const e=Ye(this,Cn)[o(535)];for(let i=e-1;i>=0;i--)Ye(this,Cn)[o(554)](i);Ye(this,Cn)[o(545)]()}},wc=new WeakSet,Il=async function(o){const e=_0x134d50;!Ye(this,Cn)||Ye(this,Cn)[e(517)]||(o[e(536)]===e(546)?Ye(this,Cn).next()[e(478)](()=>{}):o[e(536)]===e(520)?Ye(this,Cn).prev()[e(478)](()=>{}):o[e(536)]===e(528)?ur(this,e0,lu).call(this):o[e(536)]==="Escape"&&(this[e(559)](),Ye(this,Ma)[e(530)](VME[e(568)].MENU)))};const _0x1f7ae7="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAKUPMvFBQAAXaWbT8YkAAYBgAA4x/4xj/5d3vd3d34QXFxc+A4BoKDQUAKAKAsBoKU4uDQGgpTu7ule7u9/u7vf/8u91/Lu7pW5Yue7mKHYKwFwFw/YOAFwFwbngQEDPg++olnOqSYV1ZhCJNKWMAJgBxgjIjV2XFoAfl2GMKBQaWUJESywrggJFVDq0RDyAKF3Qsh9IhUCDrdh4Ut+DWznv8/OfjNJHWVqf++9/8oq0IHZaXDLJAgSKZb+DDutKr/3of+h3UXrrUA//tSxAUAC3EBUrjFgAF8HGuDEvAAS4ZECEdUqFxQ1ghPPPIM4OhYgkiUfOnjyJLYoYqSudPmA6hKEidLT1/SkO7fG2my+Lnpjnuc2Ld3bI631P7d0SgaxWyfg9Md55705ps6Jr3e5KxAYEAPPTAsZEzWWbUNms3nYISopCeKBgbWp8+vNeG5ORyN+runVKzx8FGRQNwUomiJISeK7VPp9fqN0wZWI/zAfWt///3kje5w4UTH3BzXH/zP8/2pd7cUKVf4g+IqHiuAoHBC0nccSXP/+1LEBYALcNVMGYSAAX2UqMMykADLONBirVnei9LAkgBYNKqsCoQEhpESztHo+yqFYUULJahEIPA1Fh7SKCOXmru+Lo7cZQqEM+V99Vcff97/WVv///8kUXRjkoMHSVMtZ/bnIiECrFQCe/5whX3mfxrEqeyGmzs5lEjmbgyBlAye0LCUiaM2rmkYiRE1L9BkF2FTJ8mYjSJRpRTqL5JiO25KW1ru/M9xx8LUwHlh4GDpNRcmMaxj4bIHaz6JG3mmyS//1y6IYQdsalponDrbnP/7UsQGAAvk51IY94ABc6WpwxiwASEXxGFMgFFM/fNDT7TZgSQa1+Zo5+HBqr4SHftOTs01XMxs1U6xTxa5/Z5mNnZM7xGs+hf//V3mvTXjYtC+df//948ph5Ef3+ISeYVa94ls5/vKhorEpW0ZwmjhQH8fDJFfjdWaGpph4OG70m003Bg3YhNO7T0CkltjqWPezH0ah2AmK7u23/zB8nuOez39s+GfvTP5z+JfW7+eJv9BA0Mx4Hwnwctl///3//+Os3HbkttbkZcTYAFqYrDQ//tSxAYADATvZ7iUAAF1oCsDEvAAoAPIlkQIrETAiRMKESJZDi5IBg7aSyQaiFCSego4sE4/vFaFxc8RwBAEyUVGnSd7EYRkEo1aX+nFEp+tjVi///kXHigoZ8LUytf//nuBHYa/65QBzszi7ieabcYrhskOx1AoQ+cNvldF2p4U+d9hXM4hUsZle69KmeRz9yiNsWDXxJs01D97R4vtjP19Zz/F3iE/gw//65rreKX/xueLNmlJcb9rW9rf/5//gQEkeIvU5VGNJWoQSAwAVUT/+1LEBQALpRtiGJQAAWMR6reYgAAsLmRoyYLywmD2x1UQSwfcuYNo5ygOWVU5WNDuhY46Uibk+hez0ZZD0mv2+SxHMH1zyqipX/Hno5toQNPqxKHRYyauLn5+T+Ve36vs4Rclw1859VWSBTgQMcluBEZKxpGoyA8cD0qLSJKa4ZsGQAWbNBQUIIc1JqoLCwszN/qpNNGqyvC1OtNEfbdSSG8SiV07OoQtxIFTCciOeWNqtMBQ9/R8SpZpCZyn63/Qjc1QApttwfJpLRrkqS6MT//7UsQIAAwkM0lHsSYJYounYPYkyZkHYVEoQHyBoRIhLI8TDiMy1jjgkrplWmqE0xkonLc3gvYUyw6aoxLMt+9jieUOHxsWKcqW5j7Y3tKA34fu1lcktrenov92nHdpYsbpv////QjAgAMNUmYrx5mk6NY0mQRbAtZoEA2QCAMEYUOGjAfWc5Gky9BsnZNJOs3GXv2DWE2gsF5n6rmuCiHy/MKf/zP2/z4MRb7fzLpW4r9gPKnPXurDN//ch8pqYsqkIITjbcAAokABGAbCoOCs//tSxAkACjx7QaWwaMFGqGaw8Iq4Mgk+MBpPQ8HtEIDEUabFxbXS1M5pWuaP3XNTzliDoKB8weLDkwsXJuHSG8BiZjRzLC0klgtqpVItEu5aBSOVHEORIglVpsVhNzuLybx6l6XRksDRCNt4rFfpqvJVvpp7H3P4mxgANmyRiQWTSjhadZEcy5BxhmYObe9TIjl9f+nXDRXwsofDe1maiUVmu4lSUIoBRJIgDSqBBhGlor0Kgh+neaUyOS8VASAWdJDsUiiutYzrMNckwutPLNX/+1LEFQAJ7IMph6RswQ2Mo9j3mADNU6qfAx5l2B3FWvfJDIuhBsehNFais9S5jNEqR0N+Bvss93/yIF/2WQV5HogcSygpI0lZEJKCtNIuRRYBbMtLHU5HDqokkai1aRo1Fjh4xlZ0s9AVO6zp4RLnst8j+Wh3/Ge2S0f//74AA2VmRI7t/+lJHnEnrSEq0jLK0/Y/liX69jmyP4U1IQRqb/20J//td//lqkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqv/7UsQpg8VoARPgjEAgAAA0gAAABKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",_0xab3c11="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAIhHErNDGAAbGs7fcSgAGUACAADbd3d+IBgbnoicL/03c/0RAMDFu7nEAwMDfiE4AAHAfD4jPlAQWCCwfPlz//E5//wffiMP6wQDH/y4f//BA5D/s0e/9fr7VJgCJ6QKCOVMjTI4T0nChxvk0EE63caf3VhEKkT2emwdhsIClcmnd0HmIIRvyxXV0knjomxwtx/d/+MEYcnes02tf/9XzdkUjp3zXHf///o9Lb8uNZv+fWV/////k0PxQoD0uRJcVOHUIMYwuxdgD5//tSxAUACyy/Uhj0gAF+IuxnGIAALApj/XbIsImGyYbA0TWwTaaNdrc6c+6akt78xAw5sq0hz1nn/CAhlKvGOX6v/0j2Ecr/IITbENzNbVEQFUoWa5S2KeKBxvnVRZZd87/5EwAr/z/zqhx5+AYEgtjYQT3T8Go7xg0lx6hXIKoFDBQPqQWMebG0wxeYoXkWNv4mxe0IFAXS1FfszGIrjRcWvnaF4/D8ckI6C0TX///cWm03Bhf/Ps0f//4iOEHAm+OdIjAIIAhRLqCpnBpG4tP/+1LEBoAL5ING/YSAAXCU6PDEjZgXdD5ABB1vVboGca20qNP8KSUZGGjT2I1Wyi12cdlqb8QoZSWxCoinLfLylLbk08XUFTC1iU3KmHKfDS3JqAwNeE3U0zbOcY1RNyQlGsahv//IQVBIkEAK9KwKk0oBKSiqSQ7Py6YFoQyYPMpnUsLM0iXMEKCfLTVguwc2y2iFvXTG7Q4GLEe9OyOUJIxEgJYbAtCAfaF1JKkB5Ne8ACoOBgXQY1Kc6LquW31f/+QqihsQAAYDQ0TMxVOWFP/7UsQGgIvwjT0nsMbBcRhnQp6QANL4FDGhHMhhw/nBfhOQD2ErVr6g/i0ph1qAJoKb5zdOrTzkiRIGOtiWVSXwmwJoXARARktx6KtCAdFzwfS96hYcDV7noUpzIde1IbWKi56n//6iwB1oghtE8nVIJmVw9JbkCq6PojMNEMpHi5aSGWEwyQI1UkAYHx0NKkomFJAw9DkvJmUE6gtpnYul2DUWFoqu2eJdh61uldeTF1KKVKgkPIzVui1ha/+zo////kauNi1WKkUhoNiNWIOA//tSxAaADB0tWbj0AAFnoq63DDAAAjmHTGrWWrhHfvnOeGz4XjkiQDiQoAMjOYQYIYNg9+boPJcVJEWI7WE5ML1okVHx809y/Ytnpw3/78vN2lCp2jR////GkvftzKx///6f//7mzpUjqs3ttLtKxG2Q2Mxoc0f1lBB31ALIhfOHsaEho8G08ormRI/m7kjoxe/ENMqFSH/kiF5K2V8yI0dTR9C45ro5EafX/p1/n/S///yMXAiKCBZapTf5R31wCy2uRmCbSIAAFABIHLqQAxb/+1LEBwAL/KNjnMMAAXIPK/KYYAATDkkDsYHRyUV5wiGkw7pZDQ/zNjd3fFGNDevn/+ZcE1Joff9vT2Tyvf9PlIhIOCMuLQyAhIXB0ffSZa5gQACighIuD5/f7iaaOgTCyK+1/vqUUZKkowQEuwSgNLGhyFJkXgajUExkTrHJZZBgEl55s1mY3b5O+jTSJHGlHx/PztVHUHBYKHoKhQuiKLW8kQQ0aAiK3r97KEpAxu5t8iFDwU0Klgax4K2t9vmDABMVV2V2aoaGeoV2gr1gsP/7UsQGgAwNM5X4kRBRRRSqt55gAGg2GRHpuPoDyDBYoJdbNigJHgQRnMUUIQEoECAAjgRjI1Q4Mc5qhl+zqJFspW3+QUUyUKVi/84VF+lJv/qkQt2FzP///dTAlWKg4DILR6F2/xRtSmpmrcJILQVnLMelIl9WSEM+U7CWjwRzArWF6pQ8ikbCSE0kjUs8ricyfPf5+/eq++Zwi+9+7P/9+/vPOEwTkCbpLqTyR1+ur/6CTau32E3LQjIjU2kCQUlAjRPEYWIUoA+FkTTgnGKc//tSxAuACkx9R6ewY4FKn2k48wl0smItLayitRaJbXY29aoVddmi3/0tC/IUAtBQDS7gK0LC4InBx0TgAHschjpoUeRazuVf70CJqyKTM0KgcwjKSMjUIxMXU91Q9CrGGtKdUqdPLFAEJCErPIbRro1OepftWZuU+bu5rFmZjUThxDyXR7dNTLcromXyn7TL0WXppR4J0uAUiLA1qURXCCj1Ky77dLI6k0SwwmYdSzFRJ8ilQTeFxY+NGSF5ZgLDozUlVm7ALgoQAMcNv7eHc6T/+1LEFwAJ3J1Jp6RooUePqLj2DHxwGS5dGc+mSqE2hMa4QmEnGHXJyff5yeZzGx7ypaAnZdArDKrIyHXs2MRBSan+mAiuHc4IpklElUZOlTDpOtc9mj1MiYia3Kft6lfkOLubsLEGiRoXLJbuFUjknFIDKWQFShHYRHkjJiZnjJKok70PnRE+AgJRIABC1DIFyNtCm5gQ56pTgUx0kHzpEuwScTRo+EqdGiwEChZpoiGnBkaReBrhV45QlJBeqd3AKaCt6WL71unUcS2g01SnHv/7UsQkgApIQTNnpMpBPRQn8PYMfA3c6phSn//ZU9T66SQtPTEMf5JVYZFkfyqDwcF9Qbnp8ctGKdz3XlrTcIyaxydllz2v3n1bD7wz/4GszGhxqKPqkhiRglNG6AboPK7PYKDVMVVGhy4XfC7Kb3+1rakbjbGhuLlAMvJIJDiPJacMj1UYrlq1dV5WrWzlllrPH7Dcv11PzrVMrYZHMoudl9T5utsDUuhcPCjycVUtEnUsOVysmTMtcsa/UYUKrV3+21brbiaApAuCgHViMrBe//tSxDGACji7QaewZWFQimf0xI0dDyUgC5QuNEKIwSI0C7KwlzllYjJHBA0JZ6+qq+rxB8mtRItm+VGUsht5SvQxXejvszptZ0LNy/C1Yi/Pta/xiXf/+WrbbLHf0qDyCAHDcjmByVAhLI1mRqIZIcLCAIFTEPSFsMnCgsaPhsEzYBQFhI9AuJxEGY4WKuScIOFQI8cOGrfXfFk7pC/kA9LMF3yIzs1g91IMLKE5E1E/LE3Y8EUjnYvHQ/Vkg5MyQuOG32GX2CSmivCejnAITDL/+1LEPIAJ7DVJhjDE8UuJpaT2DHgJjhMIXWpImRI6NIJWPQ1aikBxKOA4qpVpVzWL2jd829ljnv9lH//r+9UABJJwIvKBdRcVS9xU4aBEZBE8FkbNPAKRmHsqqNksjKTVBRMNHgFQsBEgZLVjQKJQagyGg6Ehx1UNEAKGSIlv1PpKwK6eRRhI9Wd////8NABAIFKTQWiSBRQEfFigg6E1QyOyWX5ZKhkf/+RqGCg2dno0UJEmHgmZFRY1Coo2oWFf/qF2atYqKN1CusUaaeKtxf/7UsRJAAn8RyWHpGPBKpCdlGGZeIXZMizP/rFBZUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",_0x5ecdd8="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAJxN0tFBGAAY4s7v8SUAEQwEAAzH4B+ACoX130A30Ku8FmEAABKHAwAQQcDAxZ7u4G78R3OIno7nohcfQAEJu4hE3cW+7u7uegG59RzBDWD58QAnKAhEH4If+CBzRNJLpTpcLCsxF2qlkgxUWwgiAddS5twfMnkwrr4MggouxBAsWBVDgk4vIhCB80xhQljirscBPR3RiRQUOd2D39ydxEWHNYuT/9srsxm/7K759GLQyvc49v9f3/9mERY2ZUADIacnqGJoP8el4q//tSxASACuDFWhj1gAGOm2tzHtAAlcT5vYltpiNpcEMPNP2DacvidpuPks0jHrXXHeT0XviEnWpeO9djjQ8yWxxcT9G580SBAXY6I+HN/kfIrYsu/9YEeXECn+nyBf//9MuaJIAAOrrQBFqWTwAHSYIteGhyIIN4bCFIqGuhHjpgxoABGATpMHGbIheiTMColSSUg6RUUhVdKd2OiNOXlOZsmYu28lTE1MTJJI2TRTa+zGxixORb1PpP+1T1qMvk/ColDQNA1TMACSQgSE1AYAP/+1LEBQALoK9HvPMAAW2aqTaeUAH4K4XFIEhSpkoUtQDsRKlixEOhHhJAsSZuHS/6SVR/sU7+6x5mvvntd7KW01u3/+7Hj598WdiMjQMDC2rjA8NpMnQ4ApLS7ZcQLpFRoIpjCqj6a0fBHE0i0VLQLakCepQwESjT+NjSAdrg6dLhpVQRGso0VKzO58yqqIaqFmIRqOyTNZXKY8zvrMVKOnOzXeti5HazyoUYXaM02LarmSj4aIcMZymoEb9h/6hb5b+qIKAYViyaKjhTSSRAAP/7UsQGgAu8vUW49gAJg5mpJx7AAACMwCfYRk06tXB0E+gwmFzYmFjBwKnF6KQ+Uli92LrNgiYh/Yl7y+hxEqs5KuJqCp6/WL7T25L1s/5WbrLFXpv9LbTv6fjl9pVFR8/9m1rV9oSKNLSCgzUAAFCaZ8IWyLZUGOT05ly2p5GLUY1Wcn6LnVMK8VhXClgmYRIKQvO1odE7+TH1sovPIT9qPO+tYcJ7LVXX52nXzPnq8YIVVcbjcX5XZmt7T+7CvoOJCAqGv656SSCAAyjNU4Ti//tSxAUAC8C/TrjHgAFmpitDGHAADqc/JgiAYTNnlg5AvFwhhyHw15rRwJwQgM0L46f9ZWFIThYE1BlEjJz/nFonyr1ffqaKpP//93v6aUUHerzf6//9/q9/u0J5H8H3k0CERAqz5z4ahlf520mTZh2FC4p2hRNHoWcbk1ac5xg4xccOXZjxu5kxqZuNxLOFw0Y/mG9JYA8IAwDgz0/4kAsFollRu///8cLD5zMI7///+XGjCRGq//6aBO6Hyn////yFBekwlhQABiNZts7esfP/+1LEBwAL1QNkGGMAAXqVcHceYAL+5X7f0wMYdl4drsXlUKNb95n82yznlsVh+1zv6arpIwJateCs3m98mvLdtaSj27f/9+/+/ZZkzTUYJQMMcOZPISNrColYMO931Nb+d////27Xyff2/e222yRiwSCwEgH9BZD21ZRPnJu3CPFjuoWQJCqaeias+kdaCwSyAkGB1O3pbphHR12Ohu8Q0Q0Sxy/Ff/+m8Uh3xK7tUcD9dwNelwPh6ge6LHvwSuKTmVOjlbbZf/7f/rbbrbBoLf/7UsQGAAvY2YG4xYARcxao85hgABAGlCUktaWmzpQKjUr1XGsjMln0Lv1CQTjjG0ooLyDKYVhDe+68+eRbUkE/2RZfDScfJ7HK3u2d87reia+2v//9DpO7NWHOt3jBGfSfC0SwVT+pSgLFRAiLJkFA0isAoQBMIzgih24fi0lNHDZFHTa/glzcmvTHAqkqokdVF/1Vfzrlmmoo///9v7/8/1pu0zb6OpgBJWojQVY5Y2VMFQVKqBrubWhtoNHutYKu//61LBVgAAYO8NIdKVLa//tSxAYACnx7PyeYbgFFEeek9gx4ojos+MV2/YE+0NMBHSKJ8B8WhUiZYRfSsMu+yG93dQpgLCZ4UF3HzLHonS8qXEczYWj2p0rrOtXnnLlwm1qSoswCVGGL//8kWh7ipJQlRiKExSGIpNKhOBiWXAlVlglnC1S+xrXPsVTjwnI9pYuTm0yz1yzPCHWJtoYwVQPGiJoMveSIEyS3Rd37TV0FUD1JWpfQyaqs///JKiOWR3VXSRspFg6zLPp+xkiU6RP5QqA6UecCyHRCQQ88w1L/+1LEEQAKVINH55hsoUWPaHT0jSwx3eE6JYUxRFlT/utUFTHnnqYkcwUfSyISzo8oB3IYaCjTSk0X2uF9nFMZBlay15t039v08cbaSQHa2KoJUnWBLH8sqZ5smDBkvMFElk9Syb83M3Q7DhPkrqc+8qn91GEoGECAXXDoDcLJDj0uTalD1LvZVHqryKxkJKIrWoI0jhXqASnhKCYgDkD6yu4SgSAGQBKOwarBKfJKkxceOXbeySkxrG1ybUqoU1KVerSPpdAaJJjgE6//Dv3Ug//7UsQdAAlosSUHsGPBNRkdgGCM4DSQNPkwVIkYaEoClfy3/qfltCQYDIJq0iYSf52VBQWkfYf8/llUMDQ1a/kyw/svkatHIy/+wyZWB1D81DAwYZc7RWKN/WKPoBkSGgKKijf/SEhX2DGjxZAFCoo9ICFqTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",_0x11c737="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAKDKUzNFSAAXsSq28ewAAgABQACTeQhCMSsQAAAAIooFCCGf//+c5zmjQIMXIxWK0ero29UQChxGAAEDFo29UFAJgmK26QIEDE5znOe1BGD8HxwPvEDgTP8Hz/93//w/a4wEAAAAAEhwySJSIrYENxVC3IuJILmM5InsAw8HNEwJ7kC1FzIxLNz9DM7JTw0i5KemK+0O0Xx3YYKx8uZr/5szEvvelKtA09AWeo2LCC8BFPA79ZYlqMoD8oz0HUqnakigCQCklKLILg//tSxAWAC7Spb7zxgBF6lKw09I1aL0ph0iNpxdreIdKUVj27+ggBwMMIFuQ4gOxOkYRf66RWLy3IDiUWAV6aELCJTYAouCA4tGEZMBscoaFhjgHBP9Rcgoz382itZ8FhJFnDpcMH/1GOAogAgApKQvRSl/R8UcqMELVvX1YQmBUAw8UjELAkfxZqmuYVVUljbMyl//sbGsZSampSkzMsakGFUgoCHrCRk6DRIOXhoj/PBI6HQ0sN+VGQ6CxKSDpIRWNCT//6qkORIiEAAAAl3UX/+1LEBQALXG1R57DDwX2M6nz0mRgs3jKR4HTGxLQhDFbZVVFxDJzyPmGEFbdffbx9uz0FGYGQhiB94nt3ayhiJwcIKaXUGDqQsQGTjWtkQuPJt76+kDFxOaqocwB460+zq9fu+p41ZiJEAiACXN2TWUKgM4SdQQD+IUwDJgegaC3IiHCEWJWRUSeNakm9GkZE4aiaRJHDqSqTCgZio4sKNUBmMIguYGijAXsShMWCREKNyJs28AkgCNfgN41b1irtOa//+moLsBUAAATw8RYFSv/7UsQFgAu4p0eHmRKBeqSqtpiAAQC+mUq1Gwl+lOl+jUywrzjDW3M00LnvBGXFlcmQSY9A7CKqQQNCeoikRNKiJqXrpFeeLLGlli4ueeYgIKBd63hdaggxAMHggKfKK/r6TPrp//+kWwpxoAAhSsD4VzA9XnY5k8+QnFBgeVFAGNAeBIEXDoPx7Rb9T9XfXFsUcXI15fv37d7e4SP/0SEhOO3sYkIiTL833G4wa098y/N73pSRFy9ChhAogogpcxRBhBtlvnVRFIAAGREm1oFt//tSxAUAC3k1YZj0AAF5j+kznoAE8CPDEzY1ddYb6MV1c1TRvVaDg849xwQPQfqgkOi2FTlPHzcHHHJeoxMwUklWuNvtL4+ir9UXXa2/r49V1Yb9/9JV/+11Nfz/6x//wkf+3XjXrDqYcAIyqOQV+cCCSJ0Js3jZTkQ0VerSQgfDBOl8Apgey0iKfSf2qvbdDLZpGxKqNGm1MzKqT0KNgVSnmAqfMPkZhqxMKPxiIvtJ0aUColDaJfQaHpQuwwQLogTRT8kqCiAIAAHAihjDLIT/+1LEBYALkHs5Z5hygV+OZqz2DZAfpPjrajyanNL2QbCMFKKZFyuUZwiUWAnBqijqsW+kfQHVqVapzBUaIfkPSTOgEYCooxaF6S5gUMTpgmM3KsLLaclgvZaBqDRJVRI2JXkv//kgJAESQGAuYuUpipQtqoJ6lGfmCaKlULpJD0+XwryGh+vFDCOBmh5ggLYiTHtcjjwHig2FGnjoLkYBKBUOhItDA0UhYOpfz3dDtKrbeTPRgG4sxRJn6f0dFZP/JHYUo0UgKMfKAY2InxpIkP/7UsQJAArofz+nsGdpWJSlsPYMuEhaaqDERT0sul1M0ugYic4kjBmkjWrmpF23vuUJFtUY7EIJA3La/Nf+/cqrdzOH7ff7jcH3Hve/vcrBQji6+VL+7O+dBwCQtEAIqyjOS4v5jPyQgdDkRUEbkwYlksj6VRxgaXNtss1deetYNEQGEnGM2Om7qZNmVKr6+kz7fzONGCkrkkCobm9iJsypfoTpm3qqvnBpWzaz/2+pyjLrNGylImSQQlxIewMHQTDUfioSicHw+iKYuQwpVq2J//tSxBAACky/NaewY+EyDiV09Ix4hp4yZmDdtPqlmKYTXNmkXjM1VUPUvvCLjGfzY73IssGyiRRI1x0qUm7353vrY5Cn2FnhJtuFBKRtpBGwhwmqpMUko0IQJMAkDQ2CIpBIhZSRPVQwikzRQqhlKMdUtS2DGqxRKgaWsFTorZUPSVpANblnXgrZXev+j1/6H///1RZAUYApVJdQmOhpohUAMTilgmwLEyZEoKLAJZGCWm4drNV2qkFEkRKIkCUY+1uzr7cs9XkP/+es/0FfsZ7/+1LEHoAISF8UJJhwgJ8AILAAjATsj4ircgBEEKKMyiS3LMtMtKsirttfahmmR//b3fUvq6tin9K//UzrAX/+MQpMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7UsRHg8AAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",_0xd538e1="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAKQN0s1BSAAWGXrrcSgAIAQABAOQAAX4xjgRt74QhDzXI0ekAoMFwAAAAwKHLisVk7CBAwmKwTJ5BcExWTo57UEaOe1CEM85znvhBG3P+EIQnv9Qh//CEIQ80CAEIf+CAYttttdjkiJaEjabbkgAY3JkEmFyJRgjbpQ2dC9uNOBEdjiAlNKBMPw7kfXsMNddBht+oglTwKV93BlWdDN2x78J/u//CxdGAMTm/J6soZn8xngm2RD8Hz8+rXRpEEgAkkqGokAEmwFDkH//tSxAgADCiBZ72kgBGAhm309hgyODHrS14oAQUafm6MAzN6HZTJZIiIibnaREqRiMjvahn9IGHd8sPEqqsbv7OfggQIEE5ATg+GHNQUcwPg+51PUkmD4Pg+Hv/WL1t8pxBcUBCH3Y3IiQiCkpMTYhQGgJHxkF4IhKjCUPStUcjKxVqjgEcSJBUGg7gyCuVUDT8FQViIFXSOVBUFQaAwNA1BoGgaBqdWCp34NB3xKJREeWCp1YKuVqBo9EQNA0EgaDs77NdlNSpDnUDCG3d8DcT/+1LEBQALzZtVtMOAAXifLbcegAJIigOgjA8lHE+WBPUpGB6fpChxcA0jRjUVDXLTJShqHvdXd6UqPFTFurzp7VroYeezr/Wmvd7Hnu6a90/q6TDzKU/r7GGMZ+ul/ajonX/3Zva36pLtxtxtpSONtKRSOCAQAQ3qM0P3a5e3gP2Se016LMkjT1F+ZEC6BvVotjeVxQCYuDecn46rEwA4Bw0Lqw5NXjtM8ysXv1+f708UGGOp8fN////+IwcGZZ9H//uAYfAY9T2hBuuU6uiOZ//7UsQEgAuIzUoY94ABeZwqP5hgAHqxcrRPy+7mnZziHi3SYVZcCQikqZE4jMUZoYhZQ6axrMUFibtImY7VMfenlNUhT6t1mZiY+269vnWf8628e43uC9t///r4+/muoTBZ/29p0S/6SWFNSIiAkAKSwAUdAJmAHDIeSENYhnZ0oqjO3xIJSYTgei73CaGtnu8uYrY16en/7u15r/cnvjPlS8bLf9qltzZb/t//jY1mWpIiSOLM0y1IwkDKZHHI6XJx8z///1o1eFRBIBYCAV+F//tSxAUACwEjUfTCgAGEJe03HoACgYl4PTguj8JRffPBYYSI52dxjQ+YAAIKDTupzqdaEH8+QhzMSejOjX2pO//yEyNO6Eb/f53seRv5N//tSjMmJFDIq6PHqAFtNrKej2YkblrbTYkbkjkbbMhAYAZ6zxxVGW1vGqNc07sPc1ezmCcaLGUETx0ovvcKOREIPADni4cB365bRkILh4KX/X+/PCUH5BVT/3W39P0e792//1/f9Fi54eVaV///////6CiH6GwAAAAAAQHI3zmIW6b/+1LEBoAL6NtWmPaAAW4bafeYUATxAzoIwpjmVprqGKgoccN0CnLpJGg9h6D4SwnJANq3DlF0TwLU7pGS9QgI2lBqRKvdFukmak5FHZ/8u6ZsXS7Utf/nTArMTg9nQMlla/oCoGEKFkA20Wi42U0FCGIoNrgqDrohF45LtB1VozojihRULUOlMPI6rOdVXIdFehDvM5GYxCEu53ZJk6EJQlk2faxivVEas9p1i5W4vDgtfbHxS2QODTIsOCUuPTf//6ICAAIADEOk8g/SGHSN0v/7UsQHAAus2T1nmG8Bbpum7PMN4HRbyck/QB9HCbrCtJZTAZvBQCEVCShpE0t11UoyU8bzkI4qqWxq6ItsjGT2rfhkSrNm8/M+aFmhlgj6FPssIXnbnfcwWNhtoRpcuYAX//1FUgpAASiWJw3AlJ2IW0pBXn8jk++cUNfH8zOREAxPiQkFSdEjLEiTc6jtLlHIwVSDM1hmZlKF17+zFmc9V9V29r/0u2rnPpiB7kMFwmGl9NQ7YLFgap56wl//6gQYAAYADmfpghSOunVwLcXE//tSxAiAClRbJyekyAD2Bx0ExJgakDVkQCoGAUEknIwDJFkkpIyyTkac2fzUZEqjwlOqBoGjxWDUQgrJLQIj1ZY8V4lARARRL6WiLlXNkJZcRP///+DQjhKQiNA3SoiB0ZBCaCakpOa4vNk40sEwTAQSYthkX0iyxUiAhfizMYLkcWFf4sK/qFiPWx31C7MVb1/1C9VMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=",_0x1ca26d="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAKgN04tDWACWsgrrcYcAMAIAPoibmgGLNET0Nzd+xjGV/wxkksPBMabm9saN4CAIhMVJZPN7h7+K5ve++Xvv9lb3vg3Pv2MZTzRm973v2MZUpm5+Dc+kMH5j/AOgDo5+b//w/aRutxL3EpNpxkNCQAALCqUFBVusIxITFIWjoeICWi8JBLFRcfcAwSDlEoJx8dClyA3tXU0R0fHGNpfmIzvRk52rqj6s/0X+NhaTOW+hqLOnf+zIUJW/IFmsppgouSVClK+JCbIxj9//tSxAYACzD3TBj0AAGLE693GJACONRjyhTnC4A1BwUEMg5nlJp4u4kZTCkMSPaBPXaJBlHnB7Bj2b/UD7odcim50RfzwlclWiGHy5yzukpU08j6VC7Ja6kRiDreXWngYPaJW4tXs9ZKYzUnE2pEJB3ZLAsPBTzyZYoW11YYIxHJpikgMedyRkYHGlyap1uA5Ex5M3fnvEiZsnbbMrZK6vLvzrM8knqsz0pDhhoJEkWc/YxVkWsOYnJlwfD4esGHT3+j8qVVUAXShNhIRaZKolL/+1LEBYALmNNOGYeAAXAeKpcesADGJQt1FPvOzeCZQ/kOgOxPk6cbnBc4KGyw5q7qkmWIibfdv86SKGEGfPq+2dVz7/bFdsgP4X9rY+vj/EK24UJ9/rH////+I1sPpwKzXf1PigqgD/FDBhQqtNrRTM9WlibHygbmJzfsirIpmbWuzZVnjvP1dPiz1PMT6z2dnda3DYA8BMIc01ndW+ou8sMAIA0DdDvt8VPH+TD7Di6BMv/7///8dZ/E5cP/q8Hw9mXUAADsEEAABcAIk6Y9WP/7UsQHAAwQz1E5hIABe6Kpwx6wAIrZkTD3YeOD70hgFwI/CeYgMBT0SdgkCSnoy+q0qGfdK7L5YieREIZ3auOQj7BYBRzbAXxuPr78zoAVDLKrKHa//////sUimRoAnf+0sFajPqjSijiEsprzPMn4bnVD6EhqjULI+ihUPA64WeHsgzQpKh3PhnZRtG6zVSvvEgBYEA2QO4dTka/q84O0fmoExjZiHd1/LWJstNjoub6Y/uKqdEdi6R9reeHZ7j4///1Wckq6bbbW66avabTW//tSxAUAC6k3fbj1ABF7JWwnEoAAaPNgQtNICK9y2qGPEa1C6u44ZV8icwwQg4qywhB+LwFy557EcnMMdidt2kjqphISHofMo7sPPVrGL2trnn0q9P1b/fS1Lou/2zP97mpsVARH//tplqZEAEYAUACItAJaq+IbbJ0bM52jXkxzAndCrOOihicCohNCuYIAigByRixmPTYOgTSDGhY2vqPqYoXPuV+v//QgyVHpr81///7CiwcZolLX/H6///+eD5cHHI//6aqqkUEAAAAEJEv/+1LEBQALeQtpOMOAAYEzaauYUABEGODHwQPky5MrJz7H0AkGjR400gLAqNh1kSXEsHwwgpGrePCoaDh6UNX5rjxIdc3/5E0SyhMsRSo6rf6DZTj1elv0/5g1UwbjQ4aIqgd/yX5abgACA0XJAY8DU0HYFx4JhIJa0OA/ZoVjeIzAIZDCweMHSxoi91c5BQzlaQqHv0Ew4Q70FEZc7VbZG+keo91fX6o0733VbaLZ00O26M6STmIjm0T15P221f/1rr3/2rjUZKcICAA1acwzmP/7UsQFAAuct0eHmG1BYjNocMGKcIxbl9Qllem6jU8onrIDHAQkSPRTWXR6VEl7uvfA0X5rZRHJ+0VROfPy8zVeaN5mgzrKeGAXApsBmXpSDaixoaARS1g7kSwSKIGjVDVqX6Vf/+4klY4qkAIf0XioijqSgLMgSEo1TFk5UnjJUmydLqKtXSdsUbG5sui9Xvxo32NDMqeXnt/qvMotRyuQt/PvXKiP1rmXsjimP6+y6u+zV/ZE6y0+VUX/////qNUmZWIAgqtheCcAwZrwlBFK//tSxAgACmCzO4YMUUFIlab09gx8TbC9DjLB6erTlpc1goMz2NmcOBiyUkbyRvWNUzNjNoq+/uaz2YrqNeYM1CV9GHfOjXCwVm8S0liSXhZMLRa4Wf//6HLr/IiEYSSQqzbL4KUfAWFwhBMeBMVzIRvZMSSZP01a71mVSjM3ZmeWtPJf43cbMyfpfxj2jH1S7hmAqjqZGoixpUsVEU8dKhKR5WR5EqVXqRSqAMlKLJQRAipvQFApQ41UqFAYBCjCrquwoy4aiSBoqBXHSQmeREv/+1LEEwIItFMaxiBgQQWnGMhQD4g8WXqPRLaHflckR/iWyt1k7zsKv513ki2zeSnSPATxEAA1AMNEDkOioip/+qKqf//+qKqf/n+ysFBAg6GWygpUMvWSoZMstQ/1a2X2ChgYMEHBMaKizTQVFG4sK4qKC38XTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==",_0x2a3dcc="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAKaQEcFBQAAVYkMHcMcAL/AMbgABGKJzwiaJ8EChkigpU3oQKB+L2goKCiVy7wHANA8LAUBZRbkBwYWAICwxxd/kUMTcsXeBc+ETd4Fxe4RERHe9EMTSv0RJFDBoP+Xh//B8aer+/TNRis1GtBoMCD8LkEbxA8gv2WBYHJjgHEROezGHiQI6XsfG4rEcubaehlBEEhRIK0OQ62snHDEXp+hkmYjHDRlod/+yvW2v///seYXAYb//hlkYAiAABSBdBhSMDWnRRCAX6U//tSxAkADNExU72CgAlZDGpxh5hgqTWpna7PQZHo1HLwkYPAMLjVQJAKcw4cBAIUCh4pQ6KOxEFURhEoiNdzuZDJupVKWgl0cyE+T21VTui59/PKNPM58c7O+ifshEJ3kYtxdJ0zqw5RlYAFgEAAD4UIXIM0Bqc5UshPiBptXsqbYUiGD5JiKs0iipzcNIugcUqGJeklzVuULhh44XPsDB9BBrNAlQ1ArkmLbF3VQaKBOqfXV0JYYLDW2Qgn//+hMSSZSIIABSgqwwhYGJKiL6z/+1LECIAMmZtPtYKAAWofqcMwsABB7nejMrjr/TMolk/UACGB0YHjkKUXFVjWOjRchimRFOQcWRnmq6sQXHLajHdyMd2e1G2akl7NOr27exckium26XTS3f5b2bf8rq//2/tbZFXf/jkcrQ0uEqKN5K6Oltx5l+Vu1yRyM3YT4aS7qt6adEjyx1UeeQpMD2G8srpZ8VZMDwsWDe1sRM3X9Ga4IA+Ewr////9dcbDgIhiCf//z///mq5pDSedPstKf71oVgwQA8wAAAA0AA1XkW//7UsQGgAwo51c5hYABbouom7CQAPbZZSRqKuS6NJnKYvZilDIQyM9meYikeafiVSVJML1+ZUJJgmokbJHopp3hrJqfUWND0tNYl26fqoUXXVJLj1uh0dR/H0xa2Vy1x4xJQF8uYexKo5iAII8kYKlhllt1lVO6zhWmeNu+r9MtkEFz4+TgcRG29Y1RV9sRjP5iqr6YljwZAYNPBuRfPkBO0Ai6CbACbEIndE4o2kci2wwtpGz16yWsHkuGUn1oDn+r8sfaS2dRRQESScYngnxe//tSxAYAC4BrS6ewZwGJnml+nlAAynKM8BJBvkNAMA7O1BcQka/mzO4aVRyN6nbasymxAaiY7mFIqA6ISAoYOoaFG1ihASrPmTdaCyxKLhAKFQYcGD4rGpZoVANI+5ymv2V//5EUlkREIzIjZFxP0IknBKjROFDh9JRtjKqElVRAVzOEBRhomPFjM7nYiIcTISpzmscogMIS7nad0IhhxplpY1mu6/ftsRp/7v/7ucNGig0FiSgQm0PIDBcWFllHsGIWAnf//TX+v/v8BdUEDsD/+1LEBIALSStdOMQACYCgr/cecAIhrXVoe01en5EJ2xq7udDwJ2BY8CJaF5QNBcO2rUVWjBt0PTub/BeLMe/y9x/92kni7UlfMN/+kXyWPh4iYv7/jf25tpPjn///r6+PrM9WcQIsllttktrkksgbDAtEAFAm1upxSnQcEFxKujmoGnS06EwiiASzheJAPhSg2GxY0sawwLjyhMdOTFxovHjdfeceXEULGEjXMT/Y1DBqcnT/0dEohdv//xacaNQyom4DK/0qAZg4QlmkDtBxaP/7UsQFAAtobUA9hIABVY8n4PeYMPDaE1Jp80JSgysUWdWHMG7FDI6TBAqSpVGDFtWnKknomqR3G689cnRMJGw2EcJzQ+wu2WyzltfGWoWYGGA2MF6RWeKXF4qKmoleBSZxQX//+sH2QIWBQl7KM4mIM413iKCUMJuluR90YvMtEAqF3Y0iFEt8omvNzKHmWbJd5OpErJKs3kQmdEUieSWxwhaPPDAZdKuQva5SmABr8YqVtHNCTehyWzNdMbrlaKsoIDMDAeBIwDUlDyLB/Xk0//tSxAqACdxTRYYYbmFFk+hw8w2kKTlfBUSRSQGCkYhNmZtVeRUYUZIa46CTGirqVRtEsFLyUuwKDys6l+dMi2KFTHTI4iigGDxQZ3rbGBfO6Nvr4YSIxVSVhdU4cJ7I9mOpPnCsHUSsAsRkCJOiqkfVEZOKkowaxjXSxj6UXPql+zayWt0TR8qtTydORTnsjvYsSVxdOdUkil4YKiZdepUH1RwlNbLAcgaKJyIpVBIrgyuDAnTDMg0dQqQZ1CM4kUFCipMEbhJX76UTY/qVqL//+1LEGAAKODc/hiRm6UWHJnD2GNnye55tTaLvsNoBySlSzneLWtvj//99+7PzuWv85o19rW5sCJRIgA13AGElAQ4UafqiTkDJMF5ijJsR8STgiDHhjrVR6ySWUkxMci+ov4Irej8vswk4l2aUSyzJRx0LH/77bfPO17qZdk/qja8KZ/8j/t/qKgHC2iAF1QBCQiQXppI5ZA8SxaWQqEEkJyLGTToweRJSYtS6BEpUSVlRVL1Rcexc6GF8Fv2dtFprh3ZfxJ1pt/5xOW/ZP8n53//7UsQkAAmkOS+HsMUJSo8kpYYYaPj+n+/+BLUADygDCS0QtNZhNKiGYDI/EgtkU3WC49PiRpQGUepcKXmzUs7w+bm5rS27KtzLRotgdOnTow0LgsLFhLY4ysaLzCEJuQmJ+5C//op98r//1DoBVpCrgRGuQk0GWtqBMYoSVKSIUgmmGTIEyrKUmVlMjInQdKV5YTKatrkZZeVLI03lwZwfOpCLq7v+f/T+ma9X///SAYqJEFAdGjS+jF2UOgmo5SZjpRZ5SKSBZ0m6VldLDI4F//tSxDIACFybIywYY8EIjeOdgwx48eakM4JaHCPQMgB8aTGEQI9lHb/s1p+jNPu6Otlbf//pI0mYuQAqDqaImZjUgx6ZA/QgtHRRdmYlAMBYBkAugWAcEykKiJm5u9Z12eb7aForiFE4nufci5GrVZzFniXsF0Jd5OSAAWC2hqQkKUzjyGAxF2IDrIEkC5Ol0o6GbiDyZxrwXEgESYJQ0heNdO3a6d+tiMry38NdbpIRVjXcNLDXyv2V1MYNMIqE9ASA0mkkSSyVACEhJ1kVAyD/+1LETYMIiDcSJ6TCgREJIQj0mEhI0adaOEoJFjTnRxmJWo7UREkSrDTxKCqzKw0JXNvLB0SmTpt4aH1yP//////3BPJFRo86GiTQdWAhkACSoABCSLoq3QASLVYzMyr+zMGXUm4zVVVVL/Veqqsx7Nk0bKf/+vQp0RPDoKqBo3Dankf/////+Gg77Cp0FQ0C2JQVDtUIAAAJM7cbQOmILSmuPHFFGIGkgBSbzVo7EJFDJAKBUyMEi0SVovJ1o08qROhUBESR5ykEQkPQnCacJf/7UsRnAQlwVvYGGMcBGpQcqJMMGFsin9jf/////9VZF1bIqkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq//tSxHuDyTRCmwzowwAAADSAAAAEqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqo=",_0x3132e0="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAI9HMsdBMAAaQdrrcY8AIAAAC2MbgAADkAAAQXe/3d3GezyZNNgcLJk77RBO9ggQIIOQIIHN4gBB0hz5QEHYIAgGHiAEAwJAQ4IAg7/y7/5c////BBwIfXVZKN2RMtmNtFIwQAAwHonl5QsUAbBuCTYkGb77ixE2Mi6hwFuZPq+1UO3Hv4b+PCevhTsTvIj+94mlapXG+nld3+rZ+Nfda4jZ/+/77+8Uhf2/z/ffpfN70p9/wcVxbGv5gsKvn//Jr/pOTIuSgJuW4A//tSxAUAC8zTX7mFgAF1JG43EoAAICAABkNDTMzZs/JIctA1l3m6OInGr1S6WM3ZuH4J9zQ7RFHcbDdBoitA7Sweoh31vA8uV2apIxN8u8bUumnWxfMMi74mLbBsbf///+Si5sJSx3/ALgkUikDgiDYUCYDAZAEskwoskyciHnfTYkKDquBoAexF7QLoLjFG1N1QiuDc0lGq0pwBwcBWHZhTr/f+wgForPcT//f5BrQffrE03//7HyW/cTG23////8LfoY5vReqwwAACAm9wSjf/+1LEBQALuGNZvYSACXsSavT0jSiS6/cHvDkw5wpmQO9LqZ3oGl0aFKFkKmE1DUotS2mltV33GMPu1JFL0IMv/4pQUFNkcu2Cjf+9/+EdCCgp/9d+Xwkv/l/guIqEFPhBS7/KHZfz4ur/+4S3CE5N6F3su6FocQs7VCWxFIAkNmTIkklmrlRynQkrqjg5srhKekr5Z36cMpTN3jwnA4IoGoWGn4GEBMEBp9YsVCIWDBMzDGw+GGsdQNGUgQkXAhcECG8If//5NVrLECCAACpAFf/7UsQEgAuQcU2npMqJbyVqPPCKuCTYY6ycRinSjDTO45UaVDKzIc2LYHkMSvRqJ/dntDI21PfY3UoLSIE6nUpfA1VaVCpxKnXn5dsJNO0lmaWx/nylCiJLrnzmeU4jAkWNq8fu//+llVmERzIyILad0RZ6RiaoeYZ0JM/EMlYVBZTpNUXjRnjW+1TE9sxtk0IPCRk0QgCkIyjUQwzO/UoToUifu0dhJoQBHGEvYVTOqISZwkancB+LGdBLxZT4C3mf//tVAcKgIACg4KQTIhm2//tSxAYAC0ifQYYYcQGBm+finoAAIAjB0jFJUVg0O4YyK2rPXiwDqKJ6xtWU8+DNZP7f03R6Vy8dozG8+NeVV2YypC2oeRJ3mhRgWFQoFSKXq7RqB52fF9wHCF2lqZxTv//kg6xQEIwQ3ohrMx/rylR8c/Vt65aaWhjEOJDwAOMQqSYei2HC8HUrkIilHCUohlHqMouL7q1iIaITSd494lbq445VFnRWUaUWwraj0UqkGg4A7IxxyceOqUXPgRGR///8knFYbVSLCwKRWIAgAgD/+1LEBoAMMOVhuJWAAWGNKj+ekAAHark7uTZI8Y3BQSElzY2AmFR2GWiAwWHj7I3s2D2CfKVjy9dy7BFGsdhccgvWa3r+HvvPHKdMbuuet5oyWvNIpzuYv/69ImJon2PvX/LgUBgkA1GUWFMBQAAABATBqDTLkTRChbCWFzJkmVM0JGJVdy3kisLGSZEhTatbrb5SyaHoVipRGjMtEtJsAUJEn9T6aJ7FhZQsHgKKGgZCqfoKxEIgaf0LnmEYkGXqLw84HAAD9WEsK4yk0FYlB//7UsQHgApknUWHsGPBUAwodMMNyUIwisFgKrkxcS1xUq4W3WHz46MOAO6jGaZSyKwJYbMq/kzkk0y2u5JcHQhH3MHOACibNJZKFJuV6rLdCQ6pkmoQuFLFEytOEJANtOAAqh4Iz4QQOl9IEp8ThOgPyueFTWGiXXSDCYLyRQ97xbmxDU22/t6U4o3gbt5k/2Zdq0fXva11z/1Q/edmmv18H7c56zKo7jdFNjezKmdW40QE421AxCxrgmwhkIVOlhQeC0fS2H5LlEh/RpYc94uG//tSxBGAClSnP6ewY8FEGOf0ww3c9Ip3QLTlUsRXezErwrFhv4ZzszPSHNlByqwrF6xi3oQWF/Wq7R1QYB1ISF54di9Se8riaRcKJIA2OwHyQfjSE49xjEwTmxujEtDZcDLPCj0jZWnszBhjachEXoTXIH214/UR7JJlS/jG/r2ufT3MvYMuSHvhO/Ef3oXanbqPBS5FitrcbffSoAYRTEiRFwPB8H0ZnzRo+jEYfEJxLWMCVTKRfyUUYpr/NNLAWMR3mNd9c+wkrmv8L0ls9/v/+1LEHYAKSEdLhiTI+TwUJnDEjV2+jFzj+Kct7tNfOpNzJP99Xc7f8fy//sN26xEN+iAlK4RBcXrnh2GAii15UDwqXD6yKSzWtNMqqoCFVVgJpIxsJEjJtGYTCIlLLc9VJO51jgo6+72r2C1/CKf7rfjqs02NG+bWs97VAVpFJ6AH4dh2DO7piesMrR1HUmk09goFBQUFIjZxpRIkSJpv920iItHGlV6WZ5mZ7bSSs6LTwIDSQQExsktyoKnXD1LWLKNo39Fmvq1tX///WABKgf/7UsQqgAo0nSUmGG0BKZAjpMMOQGoAA0piQWsTLrNnx8uQx1EF2ToqrWDoyXNshKWyaAqcYuMxkqyqt/aKRysoNiLUKGnSwdUbWE+Ik32nUfrd5DV/YqnZ/R/rGEaw3S8pNFRSgJYEQamS4DBWHErBQliSVEtNRYGhMFQ0DWCsOhtZ0lBoS1hu7WdYhfQJS2dz0q4sJXWiLiI9WCuDUO2W/3/p4lJERG2VkQqRBZhERNUifzCu1VXZvCiQEBQFLVPBXSddDS4KlQV0aMFXZLnq//tSxDqDSTBDDgekwwEWiZ4EkI2QgaBp6hEeO2509BVYKyrqtbt3Ep3f7DpENw6qTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr/+1LEUIPAAAGkAAAAIAAANIAAAASqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==",_0x1231e6=_0x388b;(function(_,o){const e=_0x388b,i=_();for(;[];)try{if(-parseInt(e(418))/1*(parseInt(e(444))/2)+parseInt(e(352))/3+-parseInt(e(350))/4*(-parseInt(e(346))/5)+-parseInt(e(408))/6*(parseInt(e(399))/7)+parseInt(e(447))/8*(parseInt(e(322))/9)+-parseInt(e(433))/10*(-parseInt(e(383))/11)+parseInt(e(353))/12*(-parseInt(e(389))/13)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x1b88,898865);function _0x1b88(){const _=["gui_type3","keyupHandlerBound",".kbCtrl","destination",".xx","none","innerHTML","process_input","keyup","CAPS","audioMap","STRIP","gui_type4","MORE","hideTouchKeyboard","data-code","data-shift","741940TeyRqp","updateMode","keyboardQwerty","code","8EhgxUI","querySelectorAll","3354255goZSOl","12aYiwAi","initAudioContext","#keyboard","&#x25B3;","audioContext","QWERTY","#keyboardContainer","loadAllAudioFiles","keyupHandler","classList","visibility","#kbCtrlClear","EMULATION","touchstart","settings","hidden","reset","gui_type2","input","gui_type7","state","dispatchEvent","target","webkitAudioContext",".nostrip","#keyShift","active","querySelector","all","ShiftRight","1375231HjiAWI",".layerC","visible","remove","textContent","focus","20303309sSJbRV","mousepadVisible","touchend","cors_hidden_input","resume","display","getAttribute","gui_type5","charCodeAt","div#keyboardContainer","8771lnocGd","Failed to initialize AudioContext:","Show Keyboard","type","audioBuffers",".layerA","gui_type8","addEventListener","isQuest","4236ZbmDqz",".layerB","playSound","Error loading audio file ","decodeAudioData","0px","is_loading","key","Shift","style","64688NPVWEW","#toggle-keyboard","contains","6px","connect","#kbCtrlArrow","suspended","isDesktop","keydownHandler","parse_hidden_input","AudioContext","paddingTop","click","Mode","showTouchKeyboard","30UpfbNJ","removeEventListener","gui_type1","then","keydownHandlerBound","which","gui_type6","audioFiles","AudioContext is not initialized.","cors_query","playSoundHelper","6vwAKdf","keyCode","touchcancel","64ugYtfP","SYSKB","CURRENT_SCREEN","location","add","showMousepad","bind","State","keyboardVisible","value","clicks_on","map","forEach","getValue","error","1968093bVzNkV","Layer","keyboardStrip","Escape","getElementById","keydown","keysDown"];return _0x1b88=function(){return _},_0x1b88()}function _0x388b(_,o){const e=_0x1b88();return _0x388b=function(i,c){return i=i-315,e[i]},_0x388b(_,o)}var pa,ti,Qi,t0,Jo,Rf,Ff,Xo,Zo,$o,Pf,Bf,qf,Sc,Cl,Ac,kl,Ic,Ol,Cc,Tl,kc,Dl,Ei,Ki;const Tn=class Tn{constructor(o){jt(this,Sc);jt(this,Ac);jt(this,Ic);jt(this,Cc);jt(this,kc);jt(this,Ei);jt(this,pa,void 0);jt(this,ti,void 0);jt(this,Qi,void 0);jt(this,t0,![]);jt(this,Jo,void 0);mn(this,Rf);mn(this,Ff,{});jt(this,Xo,void 0);jt(this,Zo,void 0);jt(this,$o,void 0);const e=_0x1231e6;nr(this,Qi,o),this[e(328)]={},this[e(440)]={gui_type1:_0x1f7ae7,gui_type2:_0xab3c11,gui_type3:_0x5ecdd8,gui_type4:_0x11c737,gui_type5:_0xd538e1,gui_type6:_0x1ca26d,gui_type7:_0x2a3dcc,gui_type8:_0x3132e0},this[e(339)]={Digit1:e(341),Digit2:e(396),Digit3:"gui_type6",Digit4:"gui_type7",Digit5:"gui_type8",Digit6:"gui_type1",Digit7:"gui_type4",Digit8:e(396),Digit9:"gui_type6",Digit0:"gui_type7",KeyA:e(435),KeyB:e(439),KeyC:"gui_type4",KeyD:e(396),KeyE:e(396),KeyF:e(439),KeyG:"gui_type7",KeyH:e(405),KeyI:e(341),KeyJ:"gui_type1",KeyK:"gui_type4",KeyL:e(396),KeyM:"gui_type8",KeyN:e(372),KeyO:e(396),KeyP:e(439),KeyQ:e(435),KeyR:e(439),KeyS:e(341),KeyT:e(372),KeyU:"gui_type1",KeyW:e(341),KeyV:"gui_type5",KeyX:e(435),KeyY:"gui_type8",KeyZ:e(405),Space:e(435),Enter:"gui_type3",Escape:e(370),Backquote:e(435),Minus:"gui_type1",Equal:e(341),Backspace:e(370),Tab:e(370),CapsLock:e(329),BracketLeft:e(372),BracketRight:e(405),Backslash:e(435),Semicolon:e(439),Quote:e(372),Comma:e(435),Period:e(341),Slash:e(396),ArrowUp:e(435),ArrowLeft:"gui_type4",ArrowRight:"gui_type6",ArrowDown:e(396),Shift:e(329)},this[e(354)](),nr(this,pa,Tn.Mode[e(358)]),this[e(437)]=this[e(426)][e(453)](this),this[e(330)]=this[e(361)][e(453)](this),nr(this,Xo,ur(this,Ac,kl).bind(this)),nr(this,Zo,ur(this,Cc,Tl)[e(453)](this)),nr(this,$o,ur(this,Ic,Ol)[e(453)](this)),ur(this,Sc,Cl).call(this),ur(this,kc,Dl).call(this),document[e(351)](e(331))[e(319)](c=>{const f=e;c[f(417)][f(429)]="0px"})}initButtons(){const o=_0x1231e6;createGuiButton("toggle-keyboard",o(401),"Kb",()=>{const e=o;this[e(354)](),setTimeout(()=>{this[e(432)]()},50)},!![],o(333),o(367))}[(Rf=_0x1231e6(357),Ff=_0x1231e6(403),Pf=_0x1231e6(454),Bf=_0x1231e6(431),qf=_0x1231e6(323),_0x1231e6(317))](){const o=_0x1231e6;document[o(406)]("keydown",this[o(437)]),document[o(406)](o(337),this[o(330)])}clicks_off(){const o=_0x1231e6;document[o(434)]("keydown",this[o(437)]),document[o(434)](o(337),this[o(330)])}[_0x1231e6(354)](){const o=_0x1231e6;if(!Ye(this,t0))try{this[o(357)]=new(window[o(428)]||window[o(376)]),this.loadAllAudioFiles(),nr(this,t0,!![])}catch(e){console.error(o(400),e)}}async[_0x1231e6(360)](){const o=_0x1231e6,e=Object.entries(this.audioFiles)[o(318)](([i,c])=>fetch(c)[o(436)](f=>f.arrayBuffer())[o(436)](f=>this[o(357)][o(412)](f)).then(f=>{this.audioBuffers[i]=f}).catch(f=>console[o(321)](o(411)+i+":",f)));await Promise[o(381)](e)}playSound(o){const e=_0x1231e6;if(!Ye(this,Jo)){if(!this[e(357)]){console[e(321)](e(441));return}this[e(357)][e(373)]===e(424)?this[e(357)][e(393)]()[e(436)](()=>{this.playSoundHelper(o)}).catch(i=>{console[e(321)]("Error resuming AudioContext:",i)}):this[e(443)](o)}}playSoundHelper(o){const e=_0x1231e6,i=this[e(339)][o],c=this[e(403)][i];if(c){const f=this[e(357)].createBufferSource();f.buffer=c,f[e(422)](this[e(357)][e(332)]),f.start(0)}}keydownHandler(o){const e=_0x1231e6;EnvironmentManager[e(425)]()&&(s(e(398))[e(417)].display=e(334)),!this[e(328)][o[e(349)]]&&(this.keysDown[o[e(349)]]=!![],this[e(410)](o.code))}[_0x1231e6(361)](o){const e=_0x1231e6;this[e(328)][o.code]=![]}[_0x1231e6(347)](o){const e=_0x1231e6;switch(o){case VME[e(449)].MENU:nr(this,Jo,![]),document[e(380)](e(355))[e(406)]("click",Ye(this,Xo));break;case VME[e(449)][e(365)]:nr(this,Jo,!![]),document[e(380)](e(355))[e(434)](e(430),Ye(this,Xo)),document[e(380)]("#keyboard")[e(406)](e(366),Ye(this,Zo)),document[e(380)]("#keyboard")[e(406)](e(391),Ye(this,Zo)),document[e(380)](e(364))[e(406)]("touchstart",Ye(this,$o)),document[e(380)](e(364))[e(406)](e(391),Ye(this,$o));break}}toggleTouchKeyboard(){const o=_0x1231e6;s(o(359))[o(362)][o(420)](o(385))?this[o(343)]():StorageManager[o(320)](o(448))=="1"||EnvironmentManager[o(407)]()?document[o(326)](o(392))[o(388)]():this[o(432)]()}[_0x1231e6(432)](){const o=_0x1231e6,e=document.querySelector(o(419));e[o(417)].visibility=o(368),document.querySelectorAll(o(331))[o(319)](c=>{const f=o;c[f(417)].paddingTop=f(421)}),s("#keyboardContainer")[o(362)].add("visible")}hideTouchKeyboard(){const o=_0x1231e6;UiManager[o(315)]=![],UiManager[o(390)]?UiManager[o(452)]():UiManager.showJoystick(),document[o(351)](".kbCtrl")[o(319)](c=>{const f=o;c[f(417)][f(429)]=f(413)}),s(o(359))[o(362)][o(386)](o(385));const i=document[o(380)]("#toggle-keyboard");i[o(417)][o(363)]="visible"}};pa=new WeakMap,ti=new WeakMap,Qi=new WeakMap,t0=new WeakMap,Jo=new WeakMap,Xo=new WeakMap,Zo=new WeakMap,$o=new WeakMap,Sc=new WeakSet,Cl=function(){const o=_0x1231e6;nr(this,ti,Tn[o(323)].A),document[o(380)]("#kbCtrlArrow")[o(406)](o(430),e=>{const i=o;Ye(this,pa)==Tn[i(431)][i(358)]?(nr(this,pa,Tn[i(431)][i(340)]),s(i(355))[i(362)][i(386)]("keyboardQwerty"),s(i(355))[i(362)].add(i(324)),s(i(423))[i(335)]=i(356),document[i(351)](i(404))[i(319)](function(c){const f=i;c[f(417)][f(363)]=f(385)}),document[i(351)](i(409))[i(319)](function(c){c.style.visibility="visible"}),document[i(351)](i(384)).forEach(function(c){const f=i;c.style[f(363)]=f(385)}),document.querySelectorAll(i(377))[i(319)](function(c){const f=i;c[f(417)][f(394)]=f(334)})):Ye(this,pa)==Tn[i(431)].STRIP&&(nr(this,pa,Tn.Mode.QWERTY),s("#keyboard")[i(362)][i(386)]("keyboardStrip"),s(i(355)).classList.add(i(348)),s(i(423)).innerHTML="&#x25BD;",nr(this,ti,Tn.Layer.A),document[i(351)](i(409))[i(319)](function(c){const f=i;c[f(417)][f(363)]=f(368)}),document[i(351)](i(384))[i(319)](function(c){c.style.visibility="hidden"}),document[i(351)](i(404))[i(319)](function(c){const f=i;c[f(417)][f(363)]=f(385)}),document.querySelectorAll(i(377))[i(319)](function(c){const f=i;c[f(417)][f(394)]="block"}))}),document[o(380)](o(364))[o(406)](o(430),e=>{const i=o;!Ye(this,Qi).is_loading()&&Ye(this,Qi)[i(369)]()}),document[o(380)]("#kbCtrlCross")[o(406)](o(430),e=>{this[o(343)]()}),document[o(380)](o(378))[o(406)](o(430),e=>{const i=o;Ye(this,ti)==Tn[i(323)].A||(Ye(this,ti)==Tn[i(323)].B?(nr(this,ti,Tn[i(323)].C),document.querySelectorAll(i(409))[i(319)](function(c){const f=i;c[f(417)][f(363)]=f(368)}),document[i(351)](i(384))[i(319)](function(c){const f=i;c[f(417)][f(363)]=f(385)})):Ye(this,ti)==Tn.Layer.C&&(nr(this,ti,Tn[i(323)].B),document[i(351)](".layerC")[i(319)](function(c){const f=i;c[f(417)][f(363)]=f(368)}),document[i(351)](i(409))[i(319)](function(c){const f=i;c[f(417)].visibility=f(385)})))}),document.querySelector("#keyToggle")[o(406)]("click",e=>{const i=o;Ye(this,ti)==Tn.Layer.A?(document.querySelector(i(378))[i(335)]=i(342),nr(this,ti,Tn.Layer.B),document[i(351)](i(404))[i(319)](function(c){const f=i;c[f(417)].visibility="hidden"}),document.querySelectorAll(i(384)).forEach(function(c){const f=i;c[f(417)][f(363)]="hidden"}),document[i(351)](i(409))[i(319)](function(c){const f=i;c.style[f(363)]="visible"})):Ye(this,ti)==Tn[i(323)].B&&(nr(this,ti,Tn[i(323)].A),document[i(380)](i(378))[i(335)]=i(338),document[i(351)](i(409))[i(319)](function(c){const f=i;c[f(417)].visibility=f(368)}),document[i(351)](i(384)).forEach(function(c){const f=i;c.style[f(363)]=f(368)}),document[i(351)](".layerA")[i(319)](function(c){const f=i;c[f(417)][f(363)]=f(385)}))}),document.querySelectorAll(".key")[o(319)](function(e){const i=o;e.addEventListener("touchstart",function(){const c=_0x388b;e.classList[c(451)](c(379))}),e[i(406)](i(391),function(){const c=i;e[c(362)][c(386)](c(379))}),e[i(406)](i(446),function(){const c=i;e[c(362)].remove(c(379))})})},Ac=new WeakSet,kl=function(o){const e=_0x1231e6,i=o[e(375)];if(i[e(362)].contains(e(415))){const c=i[e(395)]("data-value"),f=i[e(395)](e(344));this[e(410)](f),!Ye(this,Qi)[e(414)]()&&Ye(this,Qi)[e(336)](c)}},Ic=new WeakSet,Ol=function(o){const e=_0x1231e6,i=o[e(402)];i==e(366)?ur(this,Ei,Ki).call(this,e(325),"Escape",e(327)):i=="touchend"&&ur(this,Ei,Ki).call(this,"Escape",e(325),e(337))},Cc=new WeakSet,Tl=function(o){const e=_0x1231e6,i=o[e(402)],c=o.target,f=c[e(395)]("data-value"),m=c[e(395)]("data-code");c[e(395)](e(345))?i==e(366)?(ur(this,Ei,Ki).call(this,e(416),e(382),"keydown",{keyCode:16,which:16,shiftKey:!![],location:2}),ur(this,Ei,Ki).call(this,f,m,e(327),{shiftKey:!![],location:2})):i==e(391)&&(ur(this,Ei,Ki).call(this,"Shift",e(382),e(337),{keyCode:16,which:16,shiftKey:!![],location:2}),ur(this,Ei,Ki).call(this,f,m,"keyup",{shiftKey:!![],location:2})):i=="touchstart"?ur(this,Ei,Ki).call(this,f,m,e(327)):i==e(391)&&ur(this,Ei,Ki).call(this,f,m,e(337))},kc=new WeakSet,Dl=function(){const o=_0x1231e6;let e=this;document[o(326)](o(392)).addEventListener(o(371),function(i){const c=o;var f=document[c(326)](c(442));f[c(387)]=this[c(316)],Ye(e,Qi)[c(427)]()})},Ei=new WeakSet,Ki=function(o,e,i,c={}){const f=_0x1231e6,m=new KeyboardEvent(i,{key:o,code:e,keyCode:c[f(445)]||o[f(397)](0),which:c[f(438)]||o[f(397)](0),shiftKey:c.shiftKey||![],location:c[f(450)]||0,bubbles:!![],cancelable:!![]});document[f(374)](m)},mn(Tn,Pf,{OFF:0,ON:1}),mn(Tn,Bf,{STRIP:0,QWERTY:1}),mn(Tn,qf,{A:0,B:1,C:2});let KeyboardManager=Tn;function _0x52e5(){var _=["25927NMweyD","cli","get_help","24455HMHDsh","print_help","409155ueQUhv","96QRNIgf","1058442JfcsFp","help","236034UGAFWF","get_keywords","2hwGvJW","process_input","1587864UADmGy","776932YMmXIp"];return _0x52e5=function(){return _},_0x52e5()}var _0x24e283=_0xa6ac;function _0xa6ac(_,o){var e=_0x52e5();return _0xa6ac=function(i,c){i=i-397;var f=e[i];return f},_0xa6ac(_,o)}(function(_,o){for(var e=_0xa6ac,i=_();[];)try{var c=parseInt(e(410))/1*(parseInt(e(406))/2)+parseInt(e(400))/3+-parseInt(e(409))/4+-parseInt(e(398))/5*(-parseInt(e(401))/6)+-parseInt(e(402))/7+parseInt(e(408))/8+parseInt(e(404))/9;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x52e5,119838);class HelpCommand extends CommandBase{[_0x24e283(405)](){var o=_0x24e283;return[o(403)]}[_0x24e283(397)](){var o=_0x24e283;return[o(403),"show available commands"]}[_0x24e283(407)](o){var e=_0x24e283;this[e(411)][e(399)]()}}const _0x1f849d=_0x1254;function _0x1254(_,o){const e=_0x41cc();return _0x1254=function(i,c){return i=i-263,e[i]},_0x1254(_,o)}function _0x41cc(){const _=["setSelectedPlatform","set_loading","show_results","toLowerCase","6715644xVWZsh","entries","sort","filter","363xspRMl","22355mEybPt","2AwzEjQ","localeCompare","values","163608iFUGdK","232290YxWFbJ","sys [FILTER]","process_selection","8882342jsKEQl","686732BgUssW","process_input","platform_name","60YUMHjw","platform_id","length","cli","includes","short_name","2169039FHLHPH","sys","63ClVKDy","is_selection_enabled","get_keywords","map"];return _0x41cc=function(){return _},_0x41cc()}(function(_,o){const e=_0x1254,i=_();for(;[];)try{if(-parseInt(e(270))/1*(-parseInt(e(278))/2)+-parseInt(e(287))/3+-parseInt(e(281))/4*(parseInt(e(269))/5)+parseInt(e(264))/6+-parseInt(e(277))/7+-parseInt(e(273))/8*(-parseInt(e(289))/9)+parseInt(e(274))/10*(parseInt(e(268))/11)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x41cc,656736);var es;class SystemCommand extends CommandBase{constructor(e){super();jt(this,es,void 0);nr(this,es,e)}[_0x1f849d(291)](){return[_0x1f849d(288)]}get_help(){return[_0x1f849d(275),"switch to system [FILTER]"]}[_0x1f849d(279)](e){const i=_0x1f849d;let c=[];var f=e[i(267)](Boolean);f[i(283)]==0?c=Object[i(265)](SelectedPlatforms):c=Object[i(265)](SelectedPlatforms)[i(267)](g=>{const Te=i;return g[0][Te(263)]()[Te(285)](f[0][Te(263)]())||g[1][Te(280)][Te(263)]()[Te(285)](f[0].toLowerCase())}),c[i(266)]((g,Te)=>g[1][i(280)][i(271)](Te[1][i(280)]));let m=c[i(292)](g=>{const Te=i;return{id:g[1][Te(282)],label:g[1][Te(286)]+" - "+g[1][Te(280)],data:g[1][Te(282)]}});this[i(295)](m)}[_0x1f849d(290)](){return!![]}[_0x1f849d(276)](e){const i=_0x1f849d;this[i(284)][i(294)](!![]);let c=Object[i(272)](SelectedPlatforms).find(f=>f[i(282)]===e.id);Ye(this,es)[i(293)](c),this[i(284)].reset(),Ye(this,es).updatePlatform()}}es=new WeakMap;const _0x254c8d=_0x205b;(function(_,o){const e=_0x205b,i=_();for(;[];)try{if(parseInt(e(503))/1*(parseInt(e(499))/2)+parseInt(e(498))/3+-parseInt(e(525))/4*(-parseInt(e(514))/5)+-parseInt(e(523))/6+-parseInt(e(506))/7+parseInt(e(526))/8*(parseInt(e(508))/9)+-parseInt(e(519))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x24b4,269987);function _0x24b4(){const _=["15RoeXIp","&nbsp;","To use LIST command please import SOFTWARE DIRECTORY first.","3508414mhRrqc","set_loading","2625174PKPUSU","startsWith","get_keywords","exit_selection","bases","cli","7940VDVymG","loadRomFileFromUrl","get_software_dir","root","Error loading file.","2913770AftQsl","soft_msg","localeCompare","message","654528mzVMBP","length","152WLNKgu","8DBNgxr","process_selection","list files starting with text","selection_changed","toLowerCase","LOADING...","label","data","964782LbZeYn","66404EVEzgc","sort","is_selection_enabled","tags"];return _0x24b4=function(){return _},_0x24b4()}function _0x205b(_,o){const e=_0x24b4();return _0x205b=function(i,c){return i=i-495,e[i]},_0x205b(_,o)}var za;class ListCommand extends CommandBase{constructor(e){super();jt(this,za,void 0);nr(this,za,e)}[_0x254c8d(510)](){return["list"]}get_help(){return["list [FILTER]",_0x254c8d(528)]}process_input(e){const i=_0x254c8d;if(Ye(this,za)[i(516)]()==null){this[i(513)][i(520)](i(505));return}let c=Ye(this,za)[i(516)](),f=[];var m=e.filter(Boolean);if(m[i(524)]==0)return;m[i(524)]>0&&(f=c.items.filter(Te=>{const Ie=i;return Te[0][Ie(530)]()[Ie(509)](m[0][Ie(530)]())})),f[i(500)]((Te,Ie)=>{const Oe=i,Ae=c.tags?c[Oe(502)][Te[1]]:null,De=c.tags?c[Oe(502)][Ie[1]]:null;return Ae&&De||!Ae&&!De?Te[0][Oe(521)](Ie[0]):Ae?-1:1});let g=f.map(Te=>{const Ie=i,Oe=Te[1],Ae=c[Ie(502)]?c.tags[Oe]:null;let De=Te[0];return{id:c[Ie(517)]+c[Ie(512)][Oe]+Te[2],label:De,tag:Ae,data:c[Ie(517)]+c[Ie(512)][Oe]+Te[2]}});this.show_results(g)}[_0x254c8d(501)](){return!![]}[_0x254c8d(511)](){return!![]}async[_0x254c8d(527)](e){const i=_0x254c8d;this[i(513)][i(507)](!![]);try{await Ye(this,za)[i(515)](e[i(497)],e[i(496)])}catch{this[i(513)][i(522)](i(495),i(504),i(518))}}[_0x254c8d(529)](e){}}za=new WeakMap;const _0x4ed5cd=_0x13cb;(function(_,o){const e=_0x13cb,i=_();for(;[];)try{if(parseInt(e(486))/1+parseInt(e(519))/2+parseInt(e(524))/3*(-parseInt(e(508))/4)+parseInt(e(498))/5+parseInt(e(489))/6+parseInt(e(515))/7*(parseInt(e(503))/8)+-parseInt(e(518))/9===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x185d,108989);function _0x13cb(_,o){const e=_0x185d();return _0x13cb=function(i,c){return i=i-486,e[i]},_0x13cb(_,o)}function _0x185d(){const _=["tags","2300HBZOIK","get_keywords","length","LOADING...","show_results","cli","message","49oNombJ","process_selection","root","4179600JYTmLv","216360ErglpZ","set_loading","get_software_dir","find","localeCompare","711NnFSiT","&nbsp;","206551OkjTex","soft_msg","Error loading file.","226104gJsDwj","is_selection_enabled","data","label","bases","filter","items","selection_changed","loadRomFileFromUrl","996050ewCrja","join","map","find [FILTER]","process_input","180616dkaHsq","get_help","To use FIND command please import SOFTWARE DIRECTORY first.","test"];return _0x185d=function(){return _},_0x185d()}var Ji;class FindCommand extends CommandBase{constructor(e){super();jt(this,Ji,void 0);nr(this,Ji,e)}[_0x4ed5cd(509)](){return[_0x4ed5cd(522)]}[_0x4ed5cd(504)](){return[_0x4ed5cd(501),"list filenames containing text"]}[_0x4ed5cd(502)](e){const i=_0x4ed5cd;if(Ye(this,Ji)[i(521)]()==null){this.cli[i(487)](i(505));return}let c=[];var f=e[i(494)](Boolean);if(f[i(510)]>0){var m=f[i(499)](".*");if(m[i(510)]<3)return;var g=new RegExp(m,"i");c=Ye(this,Ji)[i(521)]()[i(495)][i(494)](Ie=>g[i(506)](Ie[0]))}c.sort((Ie,Oe)=>{const Ae=i,De=Ye(this,Ji)[Ae(521)](),_e=De[Ae(507)]?De.tags[Ie[1]]:null,qe=De.tags?De[Ae(507)][Oe[1]]:null;return _e&&qe||!_e&&!qe?Ie[0][Ae(523)](Oe[0]):_e?-1:1});let Te=c[i(500)](Ie=>{const Oe=i,Ae=Ie[1],De=Ye(this,Ji)[Oe(521)](),_e=De[Oe(507)]?De[Oe(507)][Ae]:null;let qe=Ie[0];return{id:De[Oe(517)]+De[Oe(493)][Ae]+Ie[2],label:qe,tag:_e,data:De[Oe(517)]+De[Oe(493)][Ae]+Ie[2]}});this[i(512)](Te)}[_0x4ed5cd(490)](){return!![]}exit_selection(){return!![]}async[_0x4ed5cd(516)](e){const i=_0x4ed5cd;this[i(513)][i(520)](!![]);try{await Ye(this,Ji)[i(497)](e[i(491)],e[i(492)])}catch{this[i(513)][i(514)](i(511),i(525),i(488))}}[_0x4ed5cd(496)](e){}}Ji=new WeakMap;const _0x4d7722=_0x3188;(function(_,o){const e=_0x3188,i=_();for(;[];)try{if(-parseInt(e(221))/1+-parseInt(e(214))/2+parseInt(e(240))/3*(parseInt(e(215))/4)+parseInt(e(239))/5*(-parseInt(e(233))/6)+-parseInt(e(217))/7+-parseInt(e(205))/8+parseInt(e(208))/9*(parseInt(e(211))/10)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x107d,358623);function _0x107d(){const _=["description","use system touchscreen keyboard","&nbsp;=&nbsp;","single or multi line results","process_input","configure system parameter","set [PARAM] [VALUE]","entries","enable CRT/LCD screen effect","get_keywords","2138984nEEHaW","cli","getValue","288kyQwyv","</p>","onChange","603760hJmUNr","<p style='margin-left: 1ch;'>","toUpperCase","1169426WxwoUI","12748AnwtCW","get_help","1814589nWhWYu","DEFAULT","Configure system parameter:","SINGLE","151672kJopwY","<p style='margin-left: 2ch;'>(&nbsp;","storeValue","&nbsp;)","Default value restored.","localeCompare","length","is_enter_required","set","enable debug information","clear","validValues","21216CZLdec","&nbsp;","join","function","Invalid parameter.","print","475fFiWtb","24WVgVoq","is_selection_enabled","Configuration has been saved.","clearValue"];return _0x107d=function(){return _},_0x107d()}function _0x3188(_,o){const e=_0x107d();return _0x3188=function(i,c){return i=i-194,e[i]},_0x3188(_,o)}var Ha,Wa,ks;class SetCommand extends CommandBase{constructor(){super(...arguments);jt(this,Wa);jt(this,Ha,{SHADER:{validValues:["0","1"],description:_0x4d7722(203)},LINES:{validValues:[_0x4d7722(220),"MULTI"],description:_0x4d7722(198)},SYSKB:{validValues:["0","1"],description:_0x4d7722(196)},DEBUG:{validValues:["0","1"],description:_0x4d7722(230),onChange:e=>{Debug.setVisible(e==1)}}})}[_0x4d7722(204)](){return[_0x4d7722(229)]}[_0x4d7722(216)](){const e=_0x4d7722;return[e(201),e(200)]}[_0x4d7722(199)](e,i){const c=_0x4d7722;if(!e[c(227)]){this[c(206)].print(c(219)),this.cli[c(238)](c(234)),Object[c(202)](Ye(this,Ha)).sort(([Te],[Ie])=>Te[c(226)](Ie)).forEach(([Te,Ie])=>{ur(this,Wa,ks).call(this,Te,Ie)});return}const f=e[0][c(213)](),m=Ye(this,Ha)[f],g=e[1];if(m!=null&&(ur(this,Wa,ks).call(this,f,m),this[c(206)][c(238)]("Enter new value and press ENTER."),this[c(206)][c(238)]("Enter DEFAULT as a value to reset.")),i&&e[c(227)]==2)if(Ye(this,Ha).hasOwnProperty(f)){const Te=Ye(this,Ha)[f];g.toUpperCase()==c(218)?(StorageManager[c(194)](f,g),this[c(206)][c(231)](),ur(this,Wa,ks).call(this,f,m),this.cli[c(238)](c(225)),Te[c(210)]&&typeof Te[c(210)]===c(236)&&Te[c(210)](g)):Te[c(232)].includes(g[c(213)]())?(StorageManager[c(223)](f,g),this[c(206)][c(231)](),ur(this,Wa,ks).call(this,f,m),this.cli[c(238)](c(242)),Te[c(210)]&&typeof Te[c(210)]===c(236)&&Te[c(210)](g)):(this[c(206)][c(238)]("&nbsp;"),this.cli[c(238)]("Invalid value."))}else this.cli[c(238)]("&nbsp;"),this[c(206)][c(238)](c(237))}[_0x4d7722(241)](){return![]}[_0x4d7722(228)](){return![]}}Ha=new WeakMap,Wa=new WeakSet,ks=function(e,i){const c=_0x4d7722;let f=StorageManager[c(207)](e[c(213)]()),m="";f!=null&&(m=c(197)+f[c(213)]()),this[c(206)][c(238)](c(212)+e[c(213)]()+m+c(209)),this[c(206)].print("<p style='margin-left: 2ch;'>"+i[c(195)]+c(209)),this[c(206)][c(238)](c(222)+i[c(232)][c(235)](" | ")+c(224)+c(209)),this[c(206)][c(238)]("&nbsp;")};const _0x58211c=_0x18c1;(function(_,o){const e=_0x18c1,i=_();for(;[];)try{if(-parseInt(e(162))/1+-parseInt(e(178))/2*(parseInt(e(153))/3)+-parseInt(e(166))/4*(parseInt(e(154))/5)+parseInt(e(135))/6*(-parseInt(e(159))/7)+parseInt(e(128))/8*(-parseInt(e(140))/9)+-parseInt(e(113))/10+parseInt(e(161))/11===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x29ed,578693);function _0x29ed(){const _=["12BadZiS","loadCollectionFile","none","dataTransfer","drop","1908tEGtwv","is_enter_required","cli","set_loading","vme-file-input",".software","message","print","getSelectedPlatform","getElementById","vme_import","click","importCorsFile","33jsyzsr","1518410YetwPb","onerror","open","readAsText","<span class='blinking2'>Drop the file to open it.</span>","2983253afcTTJ","dragleave","36037738EFHZjj","225270NqdoOe","import/open local file","Successfully imported software directory.","Successfully imported ","4rvMMuk","appendChild","length","dragenter","includes","toString","Press ENTER to open local file.","Failed to read file!","Failed to read file.","key","process_input","forEach","76078YpWKIA","target","dragging","dragover","WordArray","files","platform_id","classList","parse","type","error","importFile","is_selection_enabled","body","5097660RyIXpA","result","Loading ","loadRomFile","clear","soft_msg","addEventListener","stopPropagation","accepted","loadVmeImportFile","onload","add"," ...","&nbsp;","vme_collection","14640FUxuOo",".json","remove","bind","file","name","create"];return _0x29ed=function(){return _},_0x29ed()}function _0x18c1(_,o){const e=_0x29ed();return _0x18c1=function(i,c){return i=i-106,e[i]},_0x18c1(_,o)}var wi,Oc,Rl,Tc,Fl,Dc,Pl,r0,fu,Rc,Bl;class OpenCommand extends CommandBase{constructor(e){super();jt(this,Oc);jt(this,Tc);jt(this,Dc);jt(this,r0);jt(this,Rc);jt(this,wi,void 0);nr(this,wi,e),ur(this,Oc,Rl).call(this)}get_keywords(){return[_0x18c1(156)]}get_help(){return["open",_0x18c1(163)]}[_0x58211c(176)](e,i){const c=_0x58211c;if(!i){this[c(142)][c(117)](),this[c(142)][c(147)](c(172)),this[c(142)].redraw();return}ur(this,Rc,Bl).call(this)}[_0x58211c(111)](){return![]}[_0x58211c(141)](){return!![]}}wi=new WeakMap,Oc=new WeakSet,Rl=function(){const e=_0x18c1,i=document[e(149)]("settings");let c=![];[e(169),"dragover","dragleave",e(139)].forEach(Ie=>{const Oe=e;i[Oe(119)](Ie,f,![]),document[Oe(112)][Oe(119)](Ie,f,![])}),[e(169),e(181)].forEach(Ie=>{const Oe=e;i[Oe(119)](Ie,m[Oe(131)](this),![])}),[e(160),e(139)][e(177)](Ie=>{const Oe=e;i[Oe(119)](Ie,g[Oe(131)](this),![])}),i[e(119)](e(139),Te[e(131)](this),![]);function f(Ie){const Oe=e;Ie.preventDefault(),Ie[Oe(120)]()}function m(Ie){const Oe=e;i.classList[Oe(124)](Oe(180)),!c&&(c=!![],this.cli[Oe(117)](),this.cli[Oe(118)](Oe(158)))}function g(Ie){const Oe=e;c=![],this[Oe(142)][Oe(117)](),i[Oe(106)][Oe(130)](Oe(180))}function Te(Ie){const Oe=e,Ae=Ie[Oe(138)],De=Ae[Oe(183)];De[Oe(168)]>0&&ur(this,Tc,Fl).call(this,De[0])}},Tc=new WeakSet,Fl=function(e){const i=_0x18c1;ur(this,r0,fu).call(this,e,e[i(133)])},Dc=new WeakSet,Pl=function(e){const i=_0x58211c;let c=Ye(this,wi)[i(148)]();for(const f of c.dependencies)if(f[i(121)][i(170)](e))return f},r0=new WeakSet,fu=function(e,i){const c=_0x58211c;this[c(142)][c(143)](!![]);const f=this;if(i.endsWith(c(129))){const g=new FileReader;g[c(123)]=function(Te){const Ie=c,Oe=Te[Ie(179)][Ie(114)];let Ae=""+Ye(f,wi)[Ie(148)]()[Ie(184)]+Ie(145);try{let De=JSON[Ie(107)](Oe);Ye(f,wi)[Ie(152)](Ae,De),f[Ie(142)][Ie(146)](Ie(126),Ie(164))}catch{f[Ie(142)][Ie(146)]("&nbsp;",Ie(174),"Not a valid software directory file.");return}},g[c(155)]=function(Te){const Ie=c;console[Ie(109)](Ie(173),Te)},g[c(157)](e)}else if(i[c(170)](c(150)))Ye(f,wi)[c(122)](e);else if(i[c(170)](c(127)))Ye(f,wi)[c(136)](e);else{var m=new FileReader;m.onload=function(g){var De;const Te=c;var Ie=cryptoJsExports.lib[Te(182)][Te(134)](g[Te(179)][Te(114)]),Oe=cryptoJsExports.MD5(Ie)[Te(171)]();let Ae=ur(De=f,Dc,Pl).call(De,Oe);if(Ae!=null)Ye(f,wi)[Te(110)](Ae[Te(175)],e),f[Te(142)][Te(146)](Te(126),Te(165)+Ae[Te(108)]);else{const _e=new Blob([g[Te(179)].result],{type:e[Te(108)]});Ye(f,wi)[Te(116)](_e,i)}},m.readAsArrayBuffer(e)}},Rc=new WeakSet,Bl=function(){const e=_0x58211c,i=this;var c=document.createElement("input");c.type=e(132),c.id=e(144),c.style.display=e(137),document[e(112)][e(167)](c),document.getElementById(e(144))[e(151)](),document[e(149)](e(144)).addEventListener("change",function(f){var Ie;const m=e;i.cli.set_loading(!![]);var g=f[m(179)][m(183)][0],Te=g.name;i[m(142)][m(117)](),i[m(142)].print(m(115)+Te+m(125)),ur(Ie=i,r0,fu).call(Ie,g,Te)})};const _0x54c0d6=_0x473c;(function(_,o){const e=_0x473c,i=_();for(;[];)try{if(-parseInt(e(237))/1*(parseInt(e(227))/2)+parseInt(e(242))/3*(-parseInt(e(249))/4)+-parseInt(e(245))/5+parseInt(e(234))/6+parseInt(e(232))/7*(-parseInt(e(228))/8)+parseInt(e(241))/9+parseInt(e(246))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x4979,633786);function _0x473c(_,o){const e=_0x4979();return _0x473c=function(i,c){return i=i-224,e[i]},_0x473c(_,o)}function _0x4979(){const _=["isStandalone","checkDependencies","hasGamepad","------------","about","688298OQckUU","3953528AKXvWM","print","isSmartphone","Environment","14qgAkiy","isTablet","4441194lnNTNp","] Meta Quest Browser","cli","2lsmgZy","get_keywords","Prerelease",'<a href="https://github.com/gitGalu/VME">Visit Project Website</a>',"626958YzlfSF","3zmBmRE","Built using Nostalgist.js and Libretro.","Virtual Machine / Emulator","5338510UKMiOD","35922480pauLuk","process_input","] Smartphone","4095764fWbrLW","Developed by Michal Galinski","Emulated systems","&nbsp;","redraw","&nbsp;[",'<a href="https://github.com/gitGalu/vme/blob/main/CHANGES.md">View Changelog</a>'];return _0x4979=function(){return _},_0x4979()}var n0,Fc,ql,Pc,Nl;class AboutCommand extends CommandBase{constructor(e){super();jt(this,Fc);jt(this,Pc);jt(this,n0,void 0);nr(this,n0,e)}[_0x54c0d6(238)](){return[_0x54c0d6(226)]}get_help(){return["about","show VM/E information"]}[_0x54c0d6(247)](e){ur(this,Pc,Nl).call(this)}}n0=new WeakMap,Fc=new WeakSet,ql=function(e,i){const c=_0x54c0d6;this[c(236)][c(229)](c(252)),this.cli[c(229)](c(231)),this.cli[c(229)](c(225));let f=EnvironmentManager[c(230)](),m=EnvironmentManager[c(233)](),g=EnvironmentManager.isQuest(),Te=EnvironmentManager[c(224)](),Ie=EnvironmentManager[c(256)]();this[c(236)][c(229)](c(254)+(Ie?"x":" ")+"] Installed"),this[c(236)][c(229)](c(254)+(f?"x":" ")+c(248)),this[c(236)][c(229)](c(254)+(m?"x":" ")+"] Tablet"),this[c(236)][c(229)](c(254)+(g?"x":" ")+c(235)),this.cli.print(c(254)+(Te?"x":" ")+"] Gamepad / Joystick"),this[c(236)][c(229)]("&nbsp;"),this[c(236)][c(229)](c(251)),this.cli[c(229)]("---------------"),Ye(this,n0)[c(257)](),this[c(236)][c(253)]()},Pc=new WeakSet,Nl=function(){const e=_0x54c0d6;this[e(236)].print(e(244)),this[e(236)][e(229)](e(239)),this[e(236)][e(229)]('<div id="flip-image-outer"><div id="flip-image-container"></div></div>'),this[e(236)][e(229)](e(250)),this.cli.print("&nbsp;"),this[e(236)].print(e(243)),this[e(236)].print(e(252)),this.cli[e(229)](e(240)),this[e(236)].print(e(252)),this[e(236)][e(229)](e(255)),this[e(236)][e(229)](e(252)),ur(this,Fc,ql).call(this)};const _0x77bfd=_0xf68e;(function(_,o){const e=_0xf68e,i=_();for(;[];)try{if(-parseInt(e(422))/1*(parseInt(e(420))/2)+parseInt(e(421))/3*(parseInt(e(410))/4)+-parseInt(e(418))/5+parseInt(e(427))/6*(parseInt(e(426))/7)+parseInt(e(416))/8+parseInt(e(435))/9*(-parseInt(e(415))/10)+-parseInt(e(414))/11*(parseInt(e(432))/12)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x4004,753130);function _0xf68e(_,o){const e=_0x4004();return _0xf68e=function(i,c){return i=i-409,e[i]},_0xf68e(_,o)}var ts,Bc,Ll;class LastCommand extends CommandBase{constructor(e){super();jt(this,Bc);jt(this,ts,void 0);nr(this,ts,e)}get_keywords(){return["l"]}[_0x77bfd(413)](){return["l",_0x77bfd(429)]}[_0x77bfd(434)](e,i){const c=_0x77bfd;let f=StorageManager[c(431)](Ye(this,ts)[c(428)]().platform_id+".LAST_FILE",void 0);if(f!=null){const m=JSON[c(419)](f);if(this.cli[c(423)](c(425)),this.cli.print(c(417)),this[c(412)][c(423)](c(433)+m[c(409)]),!i)return;ur(this,Bc,Ll).call(this,m[c(430)],m[c(409)])}}}ts=new WeakMap,Bc=new WeakSet,Ll=async function(e,i){const c=_0x77bfd;this.cli[c(436)](!![]);try{await Ye(this,ts)[c(424)](e,i)}catch{this[c(412)].message_clear(c(411))}};function _0x4004(){const _=["set_loading","caption","8VrXkHM","Error loading file.","cli","get_help","11rWyPHM","1809030VsgIhv","3097072SpOVoZ","&nbsp;","4786520KuNCsu","parse","1402WeKhVl","2000211fKsDlj","729qzUOOs","print","loadRomFileFromUrl","Press ENTER to load:","654087mSFAQa","60qYMfaE","getSelectedPlatform","re-launch last program for the selected platform","filename","getValue","3031824UDhpaF","<p style='margin-left: 1ch;'>","process_input","9ahoLSc"];return _0x4004=function(){return _},_0x4004()}const _0xda081=_0x230b;function _0x230b(_,o){const e=_0x2252();return _0x230b=function(i,c){return i=i-201,e[i]},_0x230b(_,o)}(function(_,o){const e=_0x230b,i=_();for(;[];)try{if(-parseInt(e(237))/1+-parseInt(e(213))/2+-parseInt(e(222))/3*(-parseInt(e(257))/4)+parseInt(e(249))/5*(-parseInt(e(245))/6)+parseInt(e(235))/7+parseInt(e(220))/8*(parseInt(e(239))/9)+-parseInt(e(218))/10*(-parseInt(e(247))/11)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x2252,394750);function _0x2252(){const _=["appendChild","replace","wiki","innerHTML","pages","wiki [QUERY]","process_input","length","722090CKYFQU","show_results","Error fetching Wikipedia(tm) results:","cli","then","10EkmPRm","https://","30840Warjfh","NFD","3cLdNeb","get_keywords",`
                #wiki img {
                    display: none;
                }
                #wiki .image, 
                #wiki .caption {
                    display: none;
                }
                #wiki {
                    line-height: 200%;
                }
                #wiki h1, h2, h3, h4, h5, h6 {
                }
            `,"print","is_enter_required","push","json","forEach","get_wiki_article","wiki-style","&prop=extracts&format=json&origin=*","currentIndex","head","2851604yIFzDh","createElement","475490KYSYMn","keys","1305FLZtAq","get_wiki_results","clear","error",".wikipedia.org/w/api.php?action=opensearch&search=","query","678FbSRfp","#cors_results","4530229NsqnXm","redraw","19975nVmwMV","join",".wikipedia.org/w/api.php?action=query&titles=","div","style","label","Query + enter to search WikiPedia(tm)","append","1218136GWWIrK","process_selection","set_article_mode","extract","normalize"];return _0x2252=function(){return _},_0x2252()}var i0,qc,Ml,Nc,Vl;class WikiCommand extends CommandBase{constructor(){super(...arguments);jt(this,qc);jt(this,Nc);jt(this,i0,"en")}[_0xda081(223)](){return[_0xda081(207)]}get_help(){return[_0xda081(210),"find and read WikiPedia(tm) articles"]}[_0xda081(211)](e,i){const c=_0xda081;if(i)this[c(216)][c(241)](),this.cli[c(225)]("Connecting to WikiPedia(tm)..."),this[c(216)][c(248)](),this.get_wiki_results(e[c(250)](" "))[c(217)](f=>{const m=c;f[m(212)]>0?(this[m(233)]=0,this[m(214)](f,!![])):this[m(214)]([])});else{this[c(216)][c(241)](),this.cli[c(225)](c(255)),this[c(216)][c(248)]();return}}exit_selection(){return!![]}[_0xda081(201)](e){const i=_0xda081;this[i(233)]=-1,this[i(216)][i(202)](!![]),this[i(230)](e[i(254)]).then(c=>{const f=i;this[f(216)][f(241)]();var m=s(f(246));m[f(208)]="",ur(this,qc,Ml).call(this);var g=document[f(236)](f(252));g.id="wiki",g[f(208)]=c,m[f(256)](g)})}is_selection_enabled(){return!![]}[_0xda081(226)](){return!![]}async[_0xda081(240)](e){const i=_0xda081;try{const c=await fetch(i(219)+Ye(this,i0)+i(243)+e+"&limit=20&namespace=0&format=json&origin=*"),f=await c[i(228)]();let m=[];return f[1][i(229)]((g,Te)=>{const Ie=i;let Oe={label:f[1][Te],url:f[3][Te]};m[Ie(227)](Oe)}),m}catch(c){return console[i(242)](i(215),c),[]}}async get_wiki_article(e){const i=_0xda081;try{const c=await fetch(i(219)+Ye(this,i0)+i(251)+e+i(232)),f=await c[i(228)](),m=f[i(244)][i(209)];let g=m[Object[i(238)](m)[0]][i(203)];return g=ur(this,Nc,Vl).call(this,g),g}catch(c){console[i(242)]("Error fetching Wikipedia(tm) article:",c)}}}i0=new WeakMap,qc=new WeakSet,Ml=function(){const e=_0xda081;var i=e(231);if(!document.getElementById(i)){var c=document.createElement(e(253));c.id=i,c.innerHTML=e(224),document[e(234)][e(205)](c)}},Nc=new WeakSet,Vl=function(e){const i=_0xda081;return e[i(204)](i(221))[i(206)](/[\u0300-\u036f]/g,"")};function _0x378f(){var _=["open save browser","clear","1161714XnNsKa","127032CVGMnV","20nauayz","open","16JuTYPz","8pldJHU","print","7640759trGZsd","4420143qLFqTg","20cqJmwB","796587huamBI","35188260DeRjgl","9578080KBMrIS","11zNtNOr","get_keywords","get_help","cli","Press ENTER to open Save Browser."];return _0x378f=function(){return _},_0x378f()}var _0x360d99=_0x32d7;(function(_,o){for(var e=_0x32d7,i=_();[];)try{var c=-parseInt(e(217))/1*(parseInt(e(220))/2)+-parseInt(e(206))/3*(-parseInt(e(218))/4)+-parseInt(e(205))/5*(-parseInt(e(216))/6)+-parseInt(e(203))/7*(-parseInt(e(221))/8)+parseInt(e(204))/9+parseInt(e(208))/10+parseInt(e(209))/11*(-parseInt(e(207))/12);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x378f,693982);function _0x32d7(_,o){var e=_0x378f();return _0x32d7=function(i,c){i=i-203;var f=e[i];return f},_0x32d7(_,o)}var a0;class RestoreCommand extends CommandBase{constructor(e){super();jt(this,a0,void 0);nr(this,a0,e)}[_0x360d99(210)](){return["r"]}[_0x360d99(211)](){var e=_0x360d99;return["r",e(214)]}process_input(e,i){var c=_0x360d99;if(this.cli[c(215)](),this[c(212)][c(222)](c(213)),i)Ye(this,a0)[c(219)]();else return}}a0=new WeakMap;function _0x3682(_,o){var e=_0xd165();return _0x3682=function(i,c){i=i-358;var f=e[i];return f},_0x3682(_,o)}var _0x576110=_0x3682;(function(_,o){for(var e=_0x3682,i=_();[];)try{var c=-parseInt(e(359))/1*(parseInt(e(365))/2)+parseInt(e(366))/3+parseInt(e(368))/4*(-parseInt(e(361))/5)+-parseInt(e(373))/6*(parseInt(e(363))/7)+-parseInt(e(371))/8+parseInt(e(370))/9+parseInt(e(374))/10;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0xd165,206625);function _0xd165(){var _=["382448dTfVTQ","457935jizMUo","clear","482312LxAUkN","process_input","3351492HgPGNe","1628632QeDKMK","cli","126THEmzi","4737930qJJEiS","get_help","2RzKyMr","open compilations browser","5ALGjVE","print","28532ZVnsXY","Press ENTER to open Compilations Browser."];return _0xd165=function(){return _},_0xd165()}var o0;class BrowseCommand extends CommandBase{constructor(e){super();jt(this,o0,void 0);nr(this,o0,e)}get_keywords(){return["c"]}[_0x576110(358)](){var e=_0x576110;return["c",e(360)]}[_0x576110(369)](e,i){var c=_0x576110;if(this[c(372)][c(367)](),this[c(372)][c(362)](c(364)),i)Ye(this,o0).open();else return}}o0=new WeakMap;let F={};function D(_={}){F={animate:!0,allowClose:!0,overlayOpacity:.7,smoothScroll:!1,disableActiveInteraction:!1,showProgress:!1,stagePadding:10,stageRadius:5,popoverOffset:10,showButtons:["next","previous","close"],disableButtons:[],overlayColor:"#000",..._}}function a(_){return _?F[_]:F}function W(_,o,e,i){return(_/=i/2)<1?e/2*_*_+o:-e/2*(--_*(_-2)-1)+o}function Q(_){const o='a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])';return _.flatMap(e=>{const i=e.matches(o),c=Array.from(e.querySelectorAll(o));return[...i?[e]:[],...c]}).filter(e=>getComputedStyle(e).pointerEvents!=="none"&&ae(e))}function Z(_){if(!_||se(_))return;const o=a("smoothScroll");_.scrollIntoView({behavior:!o||re(_)?"auto":"smooth",inline:"center",block:"center"})}function re(_){if(!_||!_.parentElement)return;const o=_.parentElement;return o.scrollHeight>o.clientHeight}function se(_){const o=_.getBoundingClientRect();return o.top>=0&&o.left>=0&&o.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&o.right<=(window.innerWidth||document.documentElement.clientWidth)}function ae(_){return!!(_.offsetWidth||_.offsetHeight||_.getClientRects().length)}let O={};function b(_,o){O[_]=o}function l(_){return _?O[_]:O}function V(){O={}}let R={};function N(_,o){R[_]=o}function L(_){var o;(o=R[_])==null||o.call(R)}function ce(){R={}}function le(_,o,e,i){let c=l("__activeStagePosition");const f=c||e.getBoundingClientRect(),m=i.getBoundingClientRect(),g=W(_,f.x,m.x-f.x,o),Te=W(_,f.y,m.y-f.y,o),Ie=W(_,f.width,m.width-f.width,o),Oe=W(_,f.height,m.height-f.height,o);c={x:g,y:Te,width:Ie,height:Oe},J(c),b("__activeStagePosition",c)}function G(_){if(!_)return;const o=_.getBoundingClientRect(),e={x:o.x,y:o.y,width:o.width,height:o.height};b("__activeStagePosition",e),J(e)}function de(){const _=l("__activeStagePosition"),o=l("__overlaySvg");if(!_)return;if(!o){console.warn("No stage svg found.");return}const e=window.innerWidth,i=window.innerHeight;o.setAttribute("viewBox",`0 0 ${e} ${i}`)}function pe(_){const o=ue(_);document.body.appendChild(o),te(o,e=>{e.target.tagName==="path"&&L("overlayClick")}),b("__overlaySvg",o)}function J(_){const o=l("__overlaySvg");if(!o){pe(_);return}const e=o.firstElementChild;if((e==null?void 0:e.tagName)!=="path")throw new Error("no path element found in stage svg");e.setAttribute("d",U(_))}function ue(_){const o=window.innerWidth,e=window.innerHeight,i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.classList.add("driver-overlay","driver-overlay-animated"),i.setAttribute("viewBox",`0 0 ${o} ${e}`),i.setAttribute("xmlSpace","preserve"),i.setAttribute("xmlnsXlink","http://www.w3.org/1999/xlink"),i.setAttribute("version","1.1"),i.setAttribute("preserveAspectRatio","xMinYMin slice"),i.style.fillRule="evenodd",i.style.clipRule="evenodd",i.style.strokeLinejoin="round",i.style.strokeMiterlimit="2",i.style.zIndex="10000",i.style.position="fixed",i.style.top="0",i.style.left="0",i.style.width="100%",i.style.height="100%";const c=document.createElementNS("http://www.w3.org/2000/svg","path");return c.setAttribute("d",U(_)),c.style.fill=a("overlayColor")||"rgb(0,0,0)",c.style.opacity=`${a("overlayOpacity")}`,c.style.pointerEvents="auto",c.style.cursor="auto",i.appendChild(c),i}function U(_){const o=window.innerWidth,e=window.innerHeight,i=a("stagePadding")||0,c=a("stageRadius")||0,f=_.width+i*2,m=_.height+i*2,g=Math.min(c,f/2,m/2),Te=Math.floor(Math.max(g,0)),Ie=_.x-i+Te,Oe=_.y-i,Ae=f-Te*2,De=m-Te*2;return`M${o},0L0,0L0,${e}L${o},${e}L${o},0Z
    M${Ie},${Oe} h${Ae} a${Te},${Te} 0 0 1 ${Te},${Te} v${De} a${Te},${Te} 0 0 1 -${Te},${Te} h-${Ae} a${Te},${Te} 0 0 1 -${Te},-${Te} v-${De} a${Te},${Te} 0 0 1 ${Te},-${Te} z`}function ve(){const _=l("__overlaySvg");_&&_.remove()}function fe(){const _=document.getElementById("driver-dummy-element");if(_)return _;let o=document.createElement("div");return o.id="driver-dummy-element",o.style.width="0",o.style.height="0",o.style.pointerEvents="none",o.style.opacity="0",o.style.position="fixed",o.style.top="50%",o.style.left="50%",document.body.appendChild(o),o}function K(_){const{element:o}=_;let e=typeof o=="string"?document.querySelector(o):o;e||(e=fe()),ge(e,_)}function he(){const _=l("__activeElement"),o=l("__activeStep");_&&(G(_),de(),ie(_,o))}function ge(_,o){const e=Date.now(),i=l("__activeStep"),c=l("__activeElement")||_,f=!c||c===_,m=_.id==="driver-dummy-element",g=c.id==="driver-dummy-element",Te=a("animate"),Ie=o.onHighlightStarted||a("onHighlightStarted"),Oe=(o==null?void 0:o.onHighlighted)||a("onHighlighted"),Ae=(i==null?void 0:i.onDeselected)||a("onDeselected"),De=a(),_e=l();!f&&Ae&&Ae(g?void 0:c,i,{config:De,state:_e}),Ie&&Ie(m?void 0:_,o,{config:De,state:_e});const qe=!f&&Te;let Be=!1;xe(),b("previousStep",i),b("previousElement",c),b("activeStep",o),b("activeElement",_);const Ne=()=>{if(l("__transitionCallback")!==Ne)return;const Ve=Date.now()-e,Ue=400-Ve<=400/2;o.popover&&Ue&&!Be&&qe&&(X(_,o),Be=!0),a("animate")&&Ve<400?le(Ve,400,c,_):(G(_),Oe&&Oe(m?void 0:_,o,{config:a(),state:l()}),b("__transitionCallback",void 0),b("__previousStep",i),b("__previousElement",c),b("__activeStep",o),b("__activeElement",_)),window.requestAnimationFrame(Ne)};b("__transitionCallback",Ne),window.requestAnimationFrame(Ne),Z(_),!qe&&o.popover&&X(_,o),c.classList.remove("driver-active-element","driver-no-interaction"),c.removeAttribute("aria-haspopup"),c.removeAttribute("aria-expanded"),c.removeAttribute("aria-controls"),a("disableActiveInteraction")&&_.classList.add("driver-no-interaction"),_.classList.add("driver-active-element"),_.setAttribute("aria-haspopup","dialog"),_.setAttribute("aria-expanded","true"),_.setAttribute("aria-controls","driver-popover-content")}function we(){var _;(_=document.getElementById("driver-dummy-element"))==null||_.remove(),document.querySelectorAll(".driver-active-element").forEach(o=>{o.classList.remove("driver-active-element","driver-no-interaction"),o.removeAttribute("aria-haspopup"),o.removeAttribute("aria-expanded"),o.removeAttribute("aria-controls")})}function I(){const _=l("__resizeTimeout");_&&window.cancelAnimationFrame(_),b("__resizeTimeout",window.requestAnimationFrame(he))}function me(_){var o;if(!l("isInitialized")||!(_.key==="Tab"||_.keyCode===9))return;const e=l("__activeElement"),i=(o=l("popover"))==null?void 0:o.wrapper,c=Q([...i?[i]:[],...e?[e]:[]]),f=c[0],m=c[c.length-1];if(_.preventDefault(),_.shiftKey){const g=c[c.indexOf(document.activeElement)-1]||m;g==null||g.focus()}else{const g=c[c.indexOf(document.activeElement)+1]||f;g==null||g.focus()}}function ee(_){var o;((o=a("allowKeyboardControl"))==null||o)&&(_.key==="Escape"?L("escapePress"):_.key==="ArrowRight"?L("arrowRightPress"):_.key==="ArrowLeft"&&L("arrowLeftPress"))}function te(_,o,e){const i=(c,f)=>{const m=c.target;_.contains(m)&&((!e||e(m))&&(c.preventDefault(),c.stopPropagation(),c.stopImmediatePropagation()),f==null||f(c))};document.addEventListener("pointerdown",i,!0),document.addEventListener("mousedown",i,!0),document.addEventListener("pointerup",i,!0),document.addEventListener("mouseup",i,!0),document.addEventListener("click",c=>{i(c,o)},!0)}function ye(){window.addEventListener("keyup",ee,!1),window.addEventListener("keydown",me,!1),window.addEventListener("resize",I),window.addEventListener("scroll",I)}function be(){window.removeEventListener("keyup",ee),window.removeEventListener("resize",I),window.removeEventListener("scroll",I)}function xe(){const _=l("popover");_&&(_.wrapper.style.display="none")}function X(_,o){var e,i;let c=l("popover");c&&document.body.removeChild(c.wrapper),c=Pe(),document.body.appendChild(c.wrapper);const{title:f,description:m,showButtons:g,disableButtons:Te,showProgress:Ie,nextBtnText:Oe=a("nextBtnText")||"Next &rarr;",prevBtnText:Ae=a("prevBtnText")||"&larr; Previous",progressText:De=a("progressText")||"{current} of {total}"}=o.popover||{};c.nextButton.innerHTML=Oe,c.previousButton.innerHTML=Ae,c.progress.innerHTML=De,f?(c.title.innerHTML=f,c.title.style.display="block"):c.title.style.display="none",m?(c.description.innerHTML=m,c.description.style.display="block"):c.description.style.display="none";const _e=g||a("showButtons"),qe=Ie||a("showProgress")||!1,Be=(_e==null?void 0:_e.includes("next"))||(_e==null?void 0:_e.includes("previous"))||qe;c.closeButton.style.display=_e.includes("close")?"block":"none",Be?(c.footer.style.display="flex",c.progress.style.display=qe?"block":"none",c.nextButton.style.display=_e.includes("next")?"block":"none",c.previousButton.style.display=_e.includes("previous")?"block":"none"):c.footer.style.display="none";const Ne=Te||a("disableButtons")||[];Ne!=null&&Ne.includes("next")&&(c.nextButton.disabled=!0,c.nextButton.classList.add("driver-popover-btn-disabled")),Ne!=null&&Ne.includes("previous")&&(c.previousButton.disabled=!0,c.previousButton.classList.add("driver-popover-btn-disabled")),Ne!=null&&Ne.includes("close")&&(c.closeButton.disabled=!0,c.closeButton.classList.add("driver-popover-btn-disabled"));const Ve=c.wrapper;Ve.style.display="block",Ve.style.left="",Ve.style.top="",Ve.style.bottom="",Ve.style.right="",Ve.id="driver-popover-content",Ve.setAttribute("role","dialog"),Ve.setAttribute("aria-labelledby","driver-popover-title"),Ve.setAttribute("aria-describedby","driver-popover-description");const Ue=c.arrow;Ue.className="driver-popover-arrow";const We=((e=o.popover)==null?void 0:e.popoverClass)||a("popoverClass")||"";Ve.className=`driver-popover ${We}`.trim(),te(c.wrapper,at=>{var gt,yt,tt;const pt=at.target,nt=((gt=o.popover)==null?void 0:gt.onNextClick)||a("onNextClick"),mt=((yt=o.popover)==null?void 0:yt.onPrevClick)||a("onPrevClick"),Xe=((tt=o.popover)==null?void 0:tt.onCloseClick)||a("onCloseClick");if(pt.classList.contains("driver-popover-next-btn"))return nt?nt(_,o,{config:a(),state:l()}):L("nextClick");if(pt.classList.contains("driver-popover-prev-btn"))return mt?mt(_,o,{config:a(),state:l()}):L("prevClick");if(pt.classList.contains("driver-popover-close-btn"))return Xe?Xe(_,o,{config:a(),state:l()}):L("closeClick")},at=>!(c!=null&&c.description.contains(at))&&!(c!=null&&c.title.contains(at))&&typeof at.className=="string"&&at.className.includes("driver-popover")),b("popover",c);const He=((i=o.popover)==null?void 0:i.onPopoverRender)||a("onPopoverRender");He&&He(c,{config:a(),state:l()}),ie(_,o),Z(Ve);const Ze=_.classList.contains("driver-dummy-element"),ct=Q([Ve,...Ze?[]:[_]]);ct.length>0&&ct[0].focus()}function oe(){const _=l("popover");if(!(_!=null&&_.wrapper))return;const o=_.wrapper.getBoundingClientRect(),e=a("stagePadding")||0,i=a("popoverOffset")||0;return{width:o.width+e+i,height:o.height+e+i,realWidth:o.width,realHeight:o.height}}function Y(_,o){const{elementDimensions:e,popoverDimensions:i,popoverPadding:c,popoverArrowDimensions:f}=o;return _==="start"?Math.max(Math.min(e.top-c,window.innerHeight-i.realHeight-f.width),f.width):_==="end"?Math.max(Math.min(e.top-(i==null?void 0:i.realHeight)+e.height+c,window.innerHeight-(i==null?void 0:i.realHeight)-f.width),f.width):_==="center"?Math.max(Math.min(e.top+e.height/2-(i==null?void 0:i.realHeight)/2,window.innerHeight-(i==null?void 0:i.realHeight)-f.width),f.width):0}function j(_,o){const{elementDimensions:e,popoverDimensions:i,popoverPadding:c,popoverArrowDimensions:f}=o;return _==="start"?Math.max(Math.min(e.left-c,window.innerWidth-i.realWidth-f.width),f.width):_==="end"?Math.max(Math.min(e.left-(i==null?void 0:i.realWidth)+e.width+c,window.innerWidth-(i==null?void 0:i.realWidth)-f.width),f.width):_==="center"?Math.max(Math.min(e.left+e.width/2-(i==null?void 0:i.realWidth)/2,window.innerWidth-(i==null?void 0:i.realWidth)-f.width),f.width):0}function ie(_,o){const e=l("popover");if(!e)return;const{align:i="start",side:c="left"}=(o==null?void 0:o.popover)||{},f=i,m=_.id==="driver-dummy-element"?"over":c,g=a("stagePadding")||0,Te=oe(),Ie=e.arrow.getBoundingClientRect(),Oe=_.getBoundingClientRect(),Ae=Oe.top-Te.height;let De=Ae>=0;const _e=window.innerHeight-(Oe.bottom+Te.height);let qe=_e>=0;const Be=Oe.left-Te.width;let Ne=Be>=0;const Ve=window.innerWidth-(Oe.right+Te.width);let Ue=Ve>=0;const We=!De&&!qe&&!Ne&&!Ue;let He=m;if(m==="top"&&De?Ue=Ne=qe=!1:m==="bottom"&&qe?Ue=Ne=De=!1:m==="left"&&Ne?Ue=De=qe=!1:m==="right"&&Ue&&(Ne=De=qe=!1),m==="over"){const Ze=window.innerWidth/2-Te.realWidth/2,ct=window.innerHeight/2-Te.realHeight/2;e.wrapper.style.left=`${Ze}px`,e.wrapper.style.right="auto",e.wrapper.style.top=`${ct}px`,e.wrapper.style.bottom="auto"}else if(We){const Ze=window.innerWidth/2-(Te==null?void 0:Te.realWidth)/2,ct=10;e.wrapper.style.left=`${Ze}px`,e.wrapper.style.right="auto",e.wrapper.style.bottom=`${ct}px`,e.wrapper.style.top="auto"}else if(Ne){const Ze=Math.min(Be,window.innerWidth-(Te==null?void 0:Te.realWidth)-Ie.width),ct=Y(f,{elementDimensions:Oe,popoverDimensions:Te,popoverPadding:g,popoverArrowDimensions:Ie});e.wrapper.style.left=`${Ze}px`,e.wrapper.style.top=`${ct}px`,e.wrapper.style.bottom="auto",e.wrapper.style.right="auto",He="left"}else if(Ue){const Ze=Math.min(Ve,window.innerWidth-(Te==null?void 0:Te.realWidth)-Ie.width),ct=Y(f,{elementDimensions:Oe,popoverDimensions:Te,popoverPadding:g,popoverArrowDimensions:Ie});e.wrapper.style.right=`${Ze}px`,e.wrapper.style.top=`${ct}px`,e.wrapper.style.bottom="auto",e.wrapper.style.left="auto",He="right"}else if(De){const Ze=Math.min(Ae,window.innerHeight-Te.realHeight-Ie.width);let ct=j(f,{elementDimensions:Oe,popoverDimensions:Te,popoverPadding:g,popoverArrowDimensions:Ie});e.wrapper.style.top=`${Ze}px`,e.wrapper.style.left=`${ct}px`,e.wrapper.style.bottom="auto",e.wrapper.style.right="auto",He="top"}else if(qe){const Ze=Math.min(_e,window.innerHeight-(Te==null?void 0:Te.realHeight)-Ie.width);let ct=j(f,{elementDimensions:Oe,popoverDimensions:Te,popoverPadding:g,popoverArrowDimensions:Ie});e.wrapper.style.left=`${ct}px`,e.wrapper.style.bottom=`${Ze}px`,e.wrapper.style.top="auto",e.wrapper.style.right="auto",He="bottom"}We?e.arrow.classList.add("driver-popover-arrow-none"):Ce(f,He,_)}function Ce(_,o,e){const i=l("popover");if(!i)return;const c=e.getBoundingClientRect(),f=oe(),m=i.arrow,g=f.width,Te=window.innerWidth,Ie=c.width,Oe=c.left,Ae=f.height,De=window.innerHeight,_e=c.top,qe=c.height;m.className="driver-popover-arrow";let Be=o,Ne=_;o==="top"?(Oe+Ie<=0?(Be="right",Ne="end"):Oe+Ie-g<=0&&(Be="top",Ne="start"),Oe>=Te?(Be="left",Ne="end"):Oe+g>=Te&&(Be="top",Ne="end")):o==="bottom"?(Oe+Ie<=0?(Be="right",Ne="start"):Oe+Ie-g<=0&&(Be="bottom",Ne="start"),Oe>=Te?(Be="left",Ne="start"):Oe+g>=Te&&(Be="bottom",Ne="end")):o==="left"?(_e+qe<=0?(Be="bottom",Ne="end"):_e+qe-Ae<=0&&(Be="left",Ne="start"),_e>=De?(Be="top",Ne="end"):_e+Ae>=De&&(Be="left",Ne="end")):o==="right"&&(_e+qe<=0?(Be="bottom",Ne="start"):_e+qe-Ae<=0&&(Be="right",Ne="start"),_e>=De?(Be="top",Ne="start"):_e+Ae>=De&&(Be="right",Ne="end")),Be?(m.classList.add(`driver-popover-arrow-side-${Be}`),m.classList.add(`driver-popover-arrow-align-${Ne}`)):m.classList.add("driver-popover-arrow-none")}function Pe(){const _=document.createElement("div");_.classList.add("driver-popover");const o=document.createElement("div");o.classList.add("driver-popover-arrow");const e=document.createElement("header");e.id="driver-popover-title",e.classList.add("driver-popover-title"),e.style.display="none",e.innerText="Popover Title";const i=document.createElement("div");i.id="driver-popover-description",i.classList.add("driver-popover-description"),i.style.display="none",i.innerText="Popover description is here";const c=document.createElement("button");c.type="button",c.classList.add("driver-popover-close-btn"),c.setAttribute("aria-label","Close"),c.innerHTML="&times;";const f=document.createElement("footer");f.classList.add("driver-popover-footer");const m=document.createElement("span");m.classList.add("driver-popover-progress-text"),m.innerText="";const g=document.createElement("span");g.classList.add("driver-popover-navigation-btns");const Te=document.createElement("button");Te.type="button",Te.classList.add("driver-popover-prev-btn"),Te.innerHTML="&larr; Previous";const Ie=document.createElement("button");return Ie.type="button",Ie.classList.add("driver-popover-next-btn"),Ie.innerHTML="Next &rarr;",g.appendChild(Te),g.appendChild(Ie),f.appendChild(m),f.appendChild(g),_.appendChild(c),_.appendChild(o),_.appendChild(e),_.appendChild(i),_.appendChild(f),{wrapper:_,arrow:o,title:e,description:i,footer:f,previousButton:Te,nextButton:Ie,closeButton:c,footerButtons:g,progress:m}}function Se(){var _;const o=l("popover");o&&((_=o.wrapper.parentElement)==null||_.removeChild(o.wrapper))}function ke(_={}){D(_);function o(){a("allowClose")&&Ie()}function e(){const Oe=l("activeIndex"),Ae=a("steps")||[];if(typeof Oe>"u")return;const De=Oe+1;Ae[De]?Te(De):Ie()}function i(){const Oe=l("activeIndex"),Ae=a("steps")||[];if(typeof Oe>"u")return;const De=Oe-1;Ae[De]?Te(De):Ie()}function c(Oe){(a("steps")||[])[Oe]?Te(Oe):Ie()}function f(){var Oe;if(l("__transitionCallback"))return;const Ae=l("activeIndex"),De=l("__activeStep"),_e=l("__activeElement");if(typeof Ae>"u"||typeof De>"u"||typeof l("activeIndex")>"u")return;const qe=((Oe=De.popover)==null?void 0:Oe.onPrevClick)||a("onPrevClick");if(qe)return qe(_e,De,{config:a(),state:l()});i()}function m(){var Oe;if(l("__transitionCallback"))return;const Ae=l("activeIndex"),De=l("__activeStep"),_e=l("__activeElement");if(typeof Ae>"u"||typeof De>"u")return;const qe=((Oe=De.popover)==null?void 0:Oe.onNextClick)||a("onNextClick");if(qe)return qe(_e,De,{config:a(),state:l()});e()}function g(){l("isInitialized")||(b("isInitialized",!0),document.body.classList.add("driver-active",a("animate")?"driver-fade":"driver-simple"),ye(),N("overlayClick",o),N("escapePress",o),N("arrowLeftPress",f),N("arrowRightPress",m))}function Te(Oe=0){var Ae,De,_e,qe,Be,Ne,Ve,Ue;const We=a("steps");if(!We){console.error("No steps to drive through"),Ie();return}if(!We[Oe]){Ie();return}b("__activeOnDestroyed",document.activeElement),b("activeIndex",Oe);const He=We[Oe],Ze=We[Oe+1],ct=We[Oe-1],at=((Ae=He.popover)==null?void 0:Ae.doneBtnText)||a("doneBtnText")||"Done",gt=a("allowClose"),yt=typeof((De=He.popover)==null?void 0:De.showProgress)<"u"?(_e=He.popover)==null?void 0:_e.showProgress:a("showProgress"),tt=(((qe=He.popover)==null?void 0:qe.progressText)||a("progressText")||"{{current}} of {{total}}").replace("{{current}}",`${Oe+1}`).replace("{{total}}",`${We.length}`),pt=((Be=He.popover)==null?void 0:Be.showButtons)||a("showButtons"),nt=["next","previous",...gt?["close"]:[]].filter(Zt=>!(pt!=null&&pt.length)||pt.includes(Zt)),mt=((Ne=He.popover)==null?void 0:Ne.onNextClick)||a("onNextClick"),Xe=((Ve=He.popover)==null?void 0:Ve.onPrevClick)||a("onPrevClick"),Ft=((Ue=He.popover)==null?void 0:Ue.onCloseClick)||a("onCloseClick");K({...He,popover:{showButtons:nt,nextBtnText:Ze?void 0:at,disableButtons:[...ct?[]:["previous"]],showProgress:yt,progressText:tt,onNextClick:mt||(()=>{Ze?Te(Oe+1):Ie()}),onPrevClick:Xe||(()=>{Te(Oe-1)}),onCloseClick:Ft||(()=>{Ie()}),...(He==null?void 0:He.popover)||{}}})}function Ie(Oe=!0){const Ae=l("__activeElement"),De=l("__activeStep"),_e=l("__activeOnDestroyed"),qe=a("onDestroyStarted");if(Oe&&qe){const Ve=!Ae||(Ae==null?void 0:Ae.id)==="driver-dummy-element";qe(Ve?void 0:Ae,De,{config:a(),state:l()});return}const Be=(De==null?void 0:De.onDeselected)||a("onDeselected"),Ne=a("onDestroyed");if(document.body.classList.remove("driver-active","driver-fade","driver-simple"),be(),Se(),we(),ve(),ce(),V(),Ae&&De){const Ve=Ae.id==="driver-dummy-element";Be&&Be(Ve?void 0:Ae,De,{config:a(),state:l()}),Ne&&Ne(Ve?void 0:Ae,De,{config:a(),state:l()})}_e&&_e.focus()}return{isActive:()=>l("isInitialized")||!1,refresh:I,drive:(Oe=0)=>{g(),Te(Oe)},setConfig:D,setSteps:Oe=>{V(),D({...a(),steps:Oe})},getConfig:a,getState:l,getActiveIndex:()=>l("activeIndex"),isFirstStep:()=>l("activeIndex")===0,isLastStep:()=>{const Oe=a("steps")||[],Ae=l("activeIndex");return Ae!==void 0&&Ae===Oe.length-1},getActiveStep:()=>l("activeStep"),getActiveElement:()=>l("activeElement"),getPreviousElement:()=>l("previousElement"),getPreviousStep:()=>l("previousStep"),moveNext:e,movePrevious:i,moveTo:c,hasNextStep:()=>{const Oe=a("steps")||[],Ae=l("activeIndex");return Ae!==void 0&&Oe[Ae+1]},hasPreviousStep:()=>{const Oe=a("steps")||[],Ae=l("activeIndex");return Ae!==void 0&&Oe[Ae-1]},highlight:Oe=>{g(),K({...Oe,popover:Oe.popover?{showButtons:[],showProgress:!1,progressText:"",...Oe.popover}:void 0})},destroy:()=>{Ie(!1)}}}const driver="",_0x4b4365=_0x1287;(function(_,o){const e=_0x1287,i=_();for(;[];)try{if(parseInt(e(257))/1+parseInt(e(297))/2+parseInt(e(262))/3*(parseInt(e(300))/4)+-parseInt(e(264))/5*(-parseInt(e(299))/6)+parseInt(e(304))/7+parseInt(e(306))/8*(-parseInt(e(267))/9)+-parseInt(e(277))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0xe4aa,858218);function _0xe4aa(){const _=["<p>Click here to toggle fullscreen mode on and off.</p>","menu-item-open","1002838MrEwYS","Fullscreen","addCollectionButton","#menu-item-open","#menu-item-system","12PSKRar","<p>Click here to show the list of available CLI commands.</p><p>Some commands require confirmation by pressing ENTER, while others update the results automatically as you type.</p>","95QIamSv","msRequestFullscreen","addHelpButton","1677609nCEKqA","#menu-item-savestates","mozCancelFullScreen","open","<p>Click here to display the list of available emulated platforms.</p>","msExitFullscreen","#menu-item-compilations","mozRequestFullScreen","inject","webkitRequestFullscreen","25601450CHmAtm","push","start","requestFullscreen","right","exitFullscreen","Toggle fullscreen","#menu-item-help","#full-screen","msFullscreenElement","fullscreenElement","addOpenButton","sys ","menu-item-help","<p>Use the VM/E shell by entering CLI commands or performing search queries.</p><p>If you have imported a software list for the current platform, you can start typing the name of the file you are looking for. After entering a few characters, you will see a list of files that match your search query.</p>","menu-item-savestates","Open Compilations Browser","<p>Click here to browse and load save states.</p>","addSaveBrowserButton","querySelector","560402TRThms","menu-item-about","440910pWDXvl","90016WZFvYk","Toggle on-screen keyboard","addFsButton","addSystemButton","5848458SaJCes","addButtons","8BXJvyU","mozFullScreenElement","menu-item-tour","webkitExitFullscreen","webkitFullscreenElement","VM/E CLI Shell","<p>Click here to open the system file dialog, where you can load a program to run and import programs and VME files.</p><p>You can import *vme_import*.zip files. These files contain a list of software for one or multiple platforms, which you can easily access from the VM/E Shell by typing a few letters of the desired programs`s name.</p>","Switch platforms","menu-item-compilations","menu-item-system","#toggle-keyboard","addAboutButton","addTourButton","isQuest"];return _0xe4aa=function(){return _},_0xe4aa()}function _0x1287(_,o){const e=_0xe4aa();return _0x1287=function(i,c){return i=i-250,e[i]},_0x1287(_,o)}var Ni;class ButtonManager{constructor(o){jt(this,Ni,void 0);nr(this,Ni,o)}[_0x4b4365(305)](){const o=_0x4b4365;this[o(303)](),this[o(266)](),this[o(295)](),this[o(259)](),this[o(288)](),this.addFsButton(),this[o(252)](),this[o(253)]()}[_0x4b4365(303)](){const o=_0x4b4365;createGuiButton(o(250),"S","S",()=>{const e=o;Ye(this,Ni)[e(275)](e(289))})}[_0x4b4365(266)](){const o=_0x4b4365;createGuiButton(o(290),"H","H",()=>{const e=o;Ye(this,Ni)[e(275)]("help")})}addSaveBrowserButton(){createGuiButton(_0x4b4365(292),"R","R",()=>{Ye(this,Ni).inject("r",!![])})}[_0x4b4365(259)](){const o=_0x4b4365;createGuiButton(o(314),"C","C",()=>{const e=o;Ye(this,Ni)[e(275)]("c",!![])})}[_0x4b4365(288)](){const o=_0x4b4365;createGuiButton(o(256),"O","O",()=>{const e=o;Ye(this,Ni)[e(275)](e(270),!![])})}[_0x4b4365(252)](){const o=_0x4b4365;createGuiButton(o(298),"A","A",()=>{const e=o;Ye(this,Ni)[e(275)]("about")})}[_0x4b4365(302)](){const o=_0x4b4365;EnvironmentManager[o(254)]()&&createGuiButton("full-screen",o(258),"Fs",()=>{const e=o;let i=document.documentElement;const c=()=>{const m=_0x1287;i[m(280)]?i[m(280)]():i[m(274)]?i.mozRequestFullScreen():i[m(276)]?i[m(276)]():i[m(265)]&&i[m(265)]()},f=()=>{const m=_0x1287;document[m(282)]?document.exitFullscreen():document[m(269)]?document[m(269)]():document[m(309)]?document[m(309)]():document.msExitFullscreen&&document[m(272)]()};!document[e(287)]&&!document[e(307)]&&!document[e(310)]&&!document[e(286)]?c():f()})}addTourButton(){const o=_0x4b4365;createGuiButton(o(308),"?","?",()=>{const e=o,i=[];i[e(278)]({element:e(261),popover:{title:e(313),description:e(271),side:e(281),align:e(279)}}),i.push({element:e(284),popover:{title:"List available commands",description:e(263),side:e(281),align:e(279)}}),i[e(278)]({element:e(268),popover:{title:"Open Save Browser",description:e(294),side:e(281),align:e(279)}}),document[e(296)](e(285))&&i[e(278)]({element:e(285),popover:{title:e(283),description:e(255),side:e(281),align:e(279)}}),document[e(296)](e(285))&&i[e(278)]({element:e(251),popover:{title:e(301),description:"<p>Click here to show the on-screen keyboard.</p>",side:e(281),align:e(279)}}),i[e(278)]({element:e(273),popover:{title:e(293),description:"<p>Click here to browse software compilations.</p>",side:e(281),align:e(279)}}),i[e(278)]({element:e(260),popover:{title:"Import file",description:e(312),side:e(281),align:e(279)}}),i[e(278)]({element:"#menu-item-about",popover:{title:"About VM/E",description:'<p>Click here to display the "About VM/E" information, including credits and licensing details.</p>',side:e(281),align:"start"}}),i[e(278)]({element:"#cors_interface",popover:{title:e(311),description:e(291),side:"right",align:"start"}}),ke({animate:![],showProgress:![],overlayOpacity:"0.66",stagePadding:10,smoothScroll:![],steps:i}).drive()})}}Ni=new WeakMap;const _0x50b83d=_0xfb98;(function(_,o){const e=_0xfb98,i=_();for(;[];)try{if(-parseInt(e(435))/1+parseInt(e(454))/2+-parseInt(e(415))/3+parseInt(e(448))/4+parseInt(e(422))/5+-parseInt(e(451))/6+parseInt(e(477))/7*(-parseInt(e(427))/8)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x2218,762380);function _0xfb98(_,o){const e=_0x2218();return _0xfb98=function(i,c){return i=i-403,e[i]},_0xfb98(_,o)}function _0x2218(){const _=["MENU","&nbsp;","updateMode","toggleJoystick","(display-mode: standalone)","#quickshots","classList","634590nEznCh","toggleScreen","whitespace","updateDeviceType","getValue","isDesktop","flex","standalone","#fastui","black","body","initFastUI","CURRENT_ENV","840076bmQSLU","#emulator","open","1267866FYYtqW","clicks_off","COLLECTION_BROWSER","2542754WMdnsZ","matchMedia","addEventListener","getNostalgist","orientationchange","register_default","#settings","#quickshot","addButtons","resize","add","SAVE_BROWSER","location","emulationStarted","gamepadconnected","initDesktopUI","#quickjoys","innerHTML","initQuickshot","hideTouchKeyboard","getSelectedPlatform","#collection-browser","initHideaway","1337YHBVpT","#save-browser","#warningStandalone","initMousepad","initButtons","pwa","resizeCanvas","html","SCREEN_SIZE","get","isQuest","off","#versionLabel","setVisible","default_touch_controller","detectDevice","1136964AvokBK","block","search","#quickjoy","CURRENT_SCREEN","grid","register_command","2868390Ybngbn","matches","isEnabled","initTouchControllerMenu","gamepaddisconnected","2840ceMNRC"];return _0x2218=function(){return _},_0x2218()}var yn,_i,Lc,Vn,Ka,Si,s0,Ga,Nf,Lf,Mf,Mc,Ul,Vc,jl;const oi=class oi{constructor(){jt(this,Mc);jt(this,Vc);jt(this,yn,void 0);jt(this,_i,void 0);jt(this,Lc,void 0);jt(this,Vn,void 0);jt(this,Ka,void 0);jt(this,Si,void 0);jt(this,s0,void 0);jt(this,Ga,void 0);const o=_0x50b83d;if(ur(this,Vc,jl).call(this)){show(o(479),o(416)),show(o(406));return}if(nr(this,yn,new CLI),nr(this,_i,new KeyboardManager(Ye(this,yn))),nr(this,Ka,new StorageManager),nr(this,Vn,new PlatformManager(this,Ye(this,yn),Ye(this,Ka))),nr(this,Lc,new EnvironmentManager(Ye(this,Vn))),nr(this,Si,new UiManager(Ye(this,Vn),Ye(this,_i))),nr(this,s0,new SaveBrowser(this,Ye(this,Vn),Ye(this,Ka),Ye(this,yn))),nr(this,Ga,new CollectionBrowser(this,Ye(this,Vn),Ye(this,Ka),Ye(this,yn))),Ye(this,_i).clicks_on(),Ye(this,yn)[o(421)](new HelpCommand),Ye(this,yn).register_command(new RestoreCommand(Ye(this,s0))),Ye(this,yn)[o(421)](new BrowseCommand(Ye(this,Ga))),Ye(this,yn).register_command(new OpenCommand(Ye(this,Vn))),Ye(this,yn).register_command(new ListCommand(Ye(this,Vn))),Ye(this,yn)[o(421)](new FindCommand(Ye(this,Vn))),Ye(this,yn)[o(421)](new SystemCommand(Ye(this,Vn))),Ye(this,yn)[o(421)](new SetCommand),Ye(this,yn)[o(421)](new LastCommand(Ye(this,Vn))),Ye(this,yn)[o(421)](new WikiCommand),Ye(this,yn)[o(459)]("find"),ur(this,Mc,Ul).call(this),Ye(this,_i)[o(403)](),Ye(this,yn)[o(421)](new AboutCommand(Ye(this,Vn))),new ButtonManager(Ye(this,yn))[o(462)](),EnvironmentManager[o(414)](),s(o(411))[o(471)]="v0.8.4",this[o(436)](oi.CURRENT_SCREEN[o(428)]),StorageManager[o(439)](BOOT_TO)==BOOT_TO_COLLECTION_BROWSER){let i=StorageManager[o(439)](COLLECTION_BROWSER_COLLECTION_INDEX),c=StorageManager.getValue(COLLECTION_BROWSER_ITEM_INDEX);i&&c?Ye(this,Ga)[o(450)](i,c):Ye(this,Ga)[o(450)]()}Debug[o(424)]()&&Debug[o(412)](!![])}[(Nf=_0x50b83d(437),Lf=_0x50b83d(447),Mf=_0x50b83d(407),_0x50b83d(467))](){const o=_0x50b83d;let e=Ye(this,Vn)[o(474)]()[o(413)];Ye(this,Si).initQuickJoy(),Ye(this,Si)[o(472)](),Ye(this,Si)[o(480)](),Ye(this,Si)[o(476)](),Ye(this,Si)[o(446)](),e?UiManager[o(431)](e,![]):UiManager[o(431)](JOYSTICK_TOUCH_MODE.QUICKJOY_PRIMARY,![]),Ye(this,Si)[o(469)](),this[o(436)](oi[o(419)].EMULATION),EnvironmentManager[o(438)](),Ye(this,Si)[o(425)](),EnvironmentManager.resizeCanvas(Ye(this,Vn)[o(457)]())}toggleScreen(o){const e=_0x50b83d;switch(o){case oi[e(419)][e(428)]:hide(e(479)),hide(e(478)),hide("#collection-browser"),hide(e(449)),hide("#quickjoys"),hide(e(443)),hide(e(461)),show("#settings",e(441)),Ye(this,yn).on(),Ye(this,_i).clicks_on(),Ye(this,_i).updateMode(o),document[e(445)][e(434)].remove(e(444));break;case oi[e(419)].EMULATION:Ye(this,yn)[e(410)](),hide(e(479)),hide(e(460)),hide(e(478)),hide(e(475)),show("#emulator",e(416)),EnvironmentManager[e(440)]()||EnvironmentManager[e(409)]()?(hide(e(443)),hide(e(433)),hide(e(461)),hide(e(470)),hide(e(418))):show("#fastui",e(420)),Ye(this,_i)[e(473)](),Ye(this,_i)[e(452)](),Ye(this,_i)[e(430)](o),document[e(445)][e(434)][e(464)](e(444));break;case oi[e(419)][e(465)]:Ye(this,yn)[e(410)](),hide(e(479)),hide(e(460)),hide(e(449)),hide(e(475)),show("#save-browser","flex"),document[e(445)][e(434)][e(464)](e(444));break;case oi[e(419)][e(453)]:Ye(this,yn)[e(410)](),hide("#warningStandalone"),hide(e(478)),hide("#emulator"),hide(e(460)),hide("#quickjoys"),hide(e(443)),hide(e(461)),show(e(475),"flex"),document.body[e(434)].add(e(444));break}}};yn=new WeakMap,_i=new WeakMap,Lc=new WeakMap,Vn=new WeakMap,Ka=new WeakMap,Si=new WeakMap,s0=new WeakMap,Ga=new WeakMap,Mc=new WeakSet,Ul=function(){const o=_0x50b83d;window.addEventListener(o(463),()=>EnvironmentManager[o(405)](Ye(this,Vn)[o(457)]())),window[o(456)](o(463),()=>EnvironmentManager[o(414)]()),window[o(456)](o(458),()=>EnvironmentManager[o(414)]()),window[o(456)](o(426),()=>EnvironmentManager[o(414)]()),window.addEventListener(o(468),()=>EnvironmentManager.detectDevice())},Vc=new WeakSet,jl=function(){const o=_0x50b83d,e=new URLSearchParams(window[o(466)][o(417)]),i=e[o(408)]("source")===o(404);if(isMobile_1&&!(window.navigator[o(442)]||window[o(455)](o(432)).matches||window[o(455)]("(display-mode: fullscreen)")[o(423)]||i))return!![]},mn(oi,Nf,_0x50b83d(429)),mn(oi,"CURRENT_SCREEN",{STANDALONE_WARNING:50,MENU:100,EMULATION:200,SAVE_BROWSER:220,COLLECTION_BROWSER:300}),mn(oi,Lf,{TOUCH_SMALL:100,TOUCH_BIG:200,DESKTOP:300}),mn(oi,"CURRENT_MAIN_MENU",{NONE:10,PLATFORM_SELECT:100,CORS_QUERY:200}),mn(oi,Mf,{SMALLER:100,BIGGER:300});let VME=oi;function _0x42fe(_,o){var e=_0x3cd3();return _0x42fe=function(i,c){i=i-160;var f=e[i];return f},_0x42fe(_,o)}var _0x28f9ee=_0x42fe;(function(_,o){for(var e=_0x42fe,i=_();[];)try{var c=parseInt(e(163))/1+parseInt(e(160))/2+-parseInt(e(162))/3+-parseInt(e(168))/4*(parseInt(e(161))/5)+-parseInt(e(167))/6+-parseInt(e(164))/7+-parseInt(e(166))/8*(-parseInt(e(169))/9);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x3cd3,436314);function _0x3cd3(){var _=["124650ZZUuMU","24545aYhOat","826203GvclDb","102759dCHoOA","3330705uXubNg","DOMContentLoaded","4898792Kzdfcs","3937422UuPTUF","628wGwunx","36OTuGPp"];return _0x3cd3=function(){return _},_0x3cd3()}document.addEventListener(_0x28f9ee(165),new VME);
