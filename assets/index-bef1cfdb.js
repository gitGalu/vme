var ox=Object.defineProperty;var sx=(fr,cr,ar)=>cr in fr?ox(fr,cr,{enumerable:!0,configurable:!0,writable:!0,value:ar}):fr[cr]=ar;var ha=(fr,cr,ar)=>(sx(fr,typeof cr!="symbol"?cr+"":cr,ar),ar),Hu=(fr,cr,ar)=>{if(!cr.has(fr))throw TypeError("Cannot "+ar)};var Nr=(fr,cr,ar)=>(Hu(fr,cr,"read from private field"),ar?ar.call(fr):cr.get(fr)),mi=(fr,cr,ar)=>{if(cr.has(fr))throw TypeError("Cannot add the same private member more than once");cr instanceof WeakSet?cr.add(fr):cr.set(fr,ar)},Ci=(fr,cr,ar,or)=>(Hu(fr,cr,"write to private field"),or?or.call(fr,ar):cr.set(fr,ar),ar);var Ec=(fr,cr,ar,or)=>({set _(ur){Ci(fr,cr,ur,ar)},get _(){return Nr(fr,cr,or)}}),Pi=(fr,cr,ar)=>(Hu(fr,cr,"access private method"),ar);(function(){const cr=document.createElement("link").relList;if(cr&&cr.supports&&cr.supports("modulepreload"))return;for(const ur of document.querySelectorAll('link[rel="modulepreload"]'))or(ur);new MutationObserver(ur=>{for(const lr of ur)if(lr.type==="childList")for(const xr of lr.addedNodes)xr.tagName==="LINK"&&xr.rel==="modulepreload"&&or(xr)}).observe(document,{childList:!0,subtree:!0});function ar(ur){const lr={};return ur.integrity&&(lr.integrity=ur.integrity),ur.referrerPolicy&&(lr.referrerPolicy=ur.referrerPolicy),ur.crossOrigin==="use-credentials"?lr.credentials="include":ur.crossOrigin==="anonymous"?lr.credentials="omit":lr.credentials="same-origin",lr}function or(ur){if(ur.ep)return;ur.ep=!0;const lr=ar(ur);fetch(ur.href,lr)}})();const vme="";(function(fr,cr){for(var ar=_0x28f2,or=fr();[];)try{var ur=-parseInt(ar(334))/1*(-parseInt(ar(343))/2)+parseInt(ar(354))/3*(-parseInt(ar(348))/4)+parseInt(ar(333))/5*(-parseInt(ar(353))/6)+-parseInt(ar(349))/7*(-parseInt(ar(347))/8)+-parseInt(ar(336))/9*(-parseInt(ar(356))/10)+parseInt(ar(338))/11*(-parseInt(ar(335))/12)+parseInt(ar(357))/13*(parseInt(ar(355))/14);if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x41d0,486510);function _0x41d0(){var fr=["306842EfYRJl","10909176fsMdJJ","24489woiVTH","none","11eiiVmM","style","querySelector","display","mouseup","4nVDgdq","block","mouseleave","string","6228424DBgndU","21228eHdtIS","7PEWFzd","beforeend","mousedown","addEventListener","6jJnAXA","393VzDBfb","392YoXjMK","490MoOGVT","526305hKRjsI","insertAdjacentHTML","2841605zoFIft"];return _0x41d0=function(){return fr},_0x41d0()}function s$1(fr){var cr=_0x28f2;return document[cr(340)](fr)}function show(fr,cr){var ar=_0x28f2,or=s$1(fr);or!=null&&(cr==null&&(cr=ar(344)),or[ar(339)][ar(341)]=cr)}function hide(fr){var cr=_0x28f2,ar=s$1(fr);ar!=null&&(ar[cr(339)][cr(341)]=cr(337))}function _0x28f2(fr,cr){var ar=_0x41d0();return _0x28f2=function(or,ur){or=or-333;var lr=ar[or];return lr},_0x28f2(fr,cr)}function addButtonEventListeners(fr,cr){var ar=_0x28f2;let or=![];const ur=lr=>{cr(lr)};fr[ar(352)](ar(351),()=>{or=!![],ur(!![])}),fr.addEventListener(ar(342),()=>{or&&(ur(![]),or=![])}),fr[ar(352)](ar(345),()=>{or&&(ur(![]),or=![])})}const e=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,t$1=Object.keys,n$1=Array.isArray;function r$1(fr,cr){return typeof cr!="object"||t$1(cr).forEach(function(ar){fr[ar]=cr[ar]}),fr}typeof Promise>"u"||e.Promise||(e.Promise=Promise);const s=Object.getPrototypeOf,i={}.hasOwnProperty;function o(fr,cr){return i.call(fr,cr)}function a$1(fr,cr){typeof cr=="function"&&(cr=cr(s(fr))),(typeof Reflect>"u"?t$1:Reflect.ownKeys)(cr).forEach(ar=>{l$2(fr,ar,cr[ar])})}const u$1=Object.defineProperty;function l$2(fr,cr,ar,or){u$1(fr,cr,r$1(ar&&o(ar,"get")&&typeof ar.get=="function"?{get:ar.get,set:ar.set,configurable:!0}:{value:ar,configurable:!0,writable:!0},or))}function c(fr){return{from:function(cr){return fr.prototype=Object.create(cr.prototype),l$2(fr.prototype,"constructor",fr),{extend:a$1.bind(null,fr.prototype)}}}}const h=Object.getOwnPropertyDescriptor;function d(fr,cr){let ar;return h(fr,cr)||(ar=s(fr))&&d(ar,cr)}const f=[].slice;function p$1(fr,cr,ar){return f.call(fr,cr,ar)}function y$1(fr,cr){return cr(fr)}function m(fr){if(!fr)throw new Error("Assertion Failed")}function v$1(fr){e.setImmediate?setImmediate(fr):setTimeout(fr,0)}function g(fr,cr){return fr.reduce((ar,or,ur)=>{var lr=cr(or,ur);return lr&&(ar[lr[0]]=lr[1]),ar},{})}function b$1(fr,cr){if(typeof cr=="string"&&o(fr,cr))return fr[cr];if(!cr)return fr;if(typeof cr!="string"){for(var ar=[],or=0,ur=cr.length;or<ur;++or){var lr=b$1(fr,cr[or]);ar.push(lr)}return ar}var xr=cr.indexOf(".");if(xr!==-1){var pr=fr[cr.substr(0,xr)];return pr==null?void 0:b$1(pr,cr.substr(xr+1))}}function _(fr,cr,ar){if(fr&&cr!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(fr)))if(typeof cr!="string"&&"length"in cr){m(typeof ar!="string"&&"length"in ar);for(var or=0,ur=cr.length;or<ur;++or)_(fr,cr[or],ar[or])}else{var lr=cr.indexOf(".");if(lr!==-1){var xr=cr.substr(0,lr),pr=cr.substr(lr+1);if(pr==="")ar===void 0?n$1(fr)&&!isNaN(parseInt(xr))?fr.splice(xr,1):delete fr[xr]:fr[xr]=ar;else{var br=fr[xr];br&&o(fr,xr)||(br=fr[xr]={}),_(br,pr,ar)}}else ar===void 0?n$1(fr)&&!isNaN(parseInt(cr))?fr.splice(cr,1):delete fr[cr]:fr[cr]=ar}}function w$1(fr){var cr={};for(var ar in fr)o(fr,ar)&&(cr[ar]=fr[ar]);return cr}const x$1=[].concat;function k(fr){return x$1.apply([],fr)}const E$1="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(k([8,16,32,64].map(fr=>["Int","Uint","Float"].map(cr=>cr+fr+"Array")))).filter(fr=>e[fr]),P$1=E$1.map(fr=>e[fr]);g(E$1,fr=>[fr,!0]);let K$2=null;function O$2(fr){K$2=typeof WeakMap<"u"&&new WeakMap;const cr=S$1(fr);return K$2=null,cr}function S$1(fr){if(!fr||typeof fr!="object")return fr;let cr=K$2&&K$2.get(fr);if(cr)return cr;if(n$1(fr)){cr=[],K$2&&K$2.set(fr,cr);for(var ar=0,or=fr.length;ar<or;++ar)cr.push(S$1(fr[ar]))}else if(P$1.indexOf(fr.constructor)>=0)cr=fr;else{const lr=s(fr);for(var ur in cr=lr===Object.prototype?{}:Object.create(lr),K$2&&K$2.set(fr,cr),fr)o(fr,ur)&&(cr[ur]=S$1(fr[ur]))}return cr}const{toString:A$1}={};function C$1(fr){return A$1.call(fr).slice(8,-1)}const j$1=typeof Symbol<"u"?Symbol.iterator:"@@iterator",D$2=typeof j$1=="symbol"?function(fr){var cr;return fr!=null&&(cr=fr[j$1])&&cr.apply(fr)}:function(){return null},I$2={};function B$1(fr){var cr,ar,or,ur;if(arguments.length===1){if(n$1(fr))return fr.slice();if(this===I$2&&typeof fr=="string")return[fr];if(ur=D$2(fr)){for(ar=[];!(or=ur.next()).done;)ar.push(or.value);return ar}if(fr==null)return[fr];if(typeof(cr=fr.length)=="number"){for(ar=new Array(cr);cr--;)ar[cr]=fr[cr];return ar}return[fr]}for(cr=arguments.length,ar=new Array(cr);cr--;)ar[cr]=arguments[cr];return ar}const T$1=typeof Symbol<"u"?fr=>fr[Symbol.toStringTag]==="AsyncFunction":()=>!1;var R$2=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function F$2(fr,cr){R$2=fr,M$1=cr}var M$1=()=>!0;const N$2=!new Error("").stack;function q$1(){if(N$2)try{throw q$1.arguments,new Error}catch(fr){return fr}return new Error}function $$1(fr,cr){var ar=fr.stack;return ar?(cr=cr||0,ar.indexOf(fr.name)===0&&(cr+=(fr.name+fr.message).split(`
`).length),ar.split(`
`).slice(cr).filter(M$1).map(or=>`
`+or).join("")):""}var U$2=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],L$2=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(U$2),V$2={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function W$2(fr,cr){this._e=q$1(),this.name=fr,this.message=cr}function Y$1(fr,cr){return fr+". Errors: "+Object.keys(cr).map(ar=>cr[ar].toString()).filter((ar,or,ur)=>ur.indexOf(ar)===or).join(`
`)}function z$1(fr,cr,ar,or){this._e=q$1(),this.failures=cr,this.failedKeys=or,this.successCount=ar,this.message=Y$1(fr,cr)}function G$2(fr,cr){this._e=q$1(),this.name="BulkError",this.failures=Object.keys(cr).map(ar=>cr[ar]),this.failuresByPos=cr,this.message=Y$1(fr,cr)}c(W$2).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+$$1(this._e,2))}},toString:function(){return this.name+": "+this.message}}),c(z$1).from(W$2),c(G$2).from(W$2);var H$1=L$2.reduce((fr,cr)=>(fr[cr]=cr+"Error",fr),{});const Q$2=W$2;var X$2=L$2.reduce((fr,cr)=>{var ar=cr+"Error";function or(ur,lr){this._e=q$1(),this.name=ar,ur?typeof ur=="string"?(this.message=`${ur}${lr?`
 `+lr:""}`,this.inner=lr||null):typeof ur=="object"&&(this.message=`${ur.name} ${ur.message}`,this.inner=ur):(this.message=V$2[cr]||ar,this.inner=null)}return c(or).from(Q$2),fr[cr]=or,fr},{});X$2.Syntax=SyntaxError,X$2.Type=TypeError,X$2.Range=RangeError;var J$2=U$2.reduce((fr,cr)=>(fr[cr+"Error"]=X$2[cr],fr),{}),Z$1=L$2.reduce((fr,cr)=>(["Syntax","Type","Range"].indexOf(cr)===-1&&(fr[cr+"Error"]=X$2[cr]),fr),{});function ee$1(){}function te$1(fr){return fr}function ne(fr,cr){return fr==null||fr===te$1?cr:function(ar){return cr(fr(ar))}}function re$1(fr,cr){return function(){fr.apply(this,arguments),cr.apply(this,arguments)}}function se$1(fr,cr){return fr===ee$1?cr:function(){var ar=fr.apply(this,arguments);ar!==void 0&&(arguments[0]=ar);var or=this.onsuccess,ur=this.onerror;this.onsuccess=null,this.onerror=null;var lr=cr.apply(this,arguments);return or&&(this.onsuccess=this.onsuccess?re$1(or,this.onsuccess):or),ur&&(this.onerror=this.onerror?re$1(ur,this.onerror):ur),lr!==void 0?lr:ar}}function ie$1(fr,cr){return fr===ee$1?cr:function(){fr.apply(this,arguments);var ar=this.onsuccess,or=this.onerror;this.onsuccess=this.onerror=null,cr.apply(this,arguments),ar&&(this.onsuccess=this.onsuccess?re$1(ar,this.onsuccess):ar),or&&(this.onerror=this.onerror?re$1(or,this.onerror):or)}}function oe$1(fr,cr){return fr===ee$1?cr:function(ar){var or=fr.apply(this,arguments);r$1(ar,or);var ur=this.onsuccess,lr=this.onerror;this.onsuccess=null,this.onerror=null;var xr=cr.apply(this,arguments);return ur&&(this.onsuccess=this.onsuccess?re$1(ur,this.onsuccess):ur),lr&&(this.onerror=this.onerror?re$1(lr,this.onerror):lr),or===void 0?xr===void 0?void 0:xr:r$1(or,xr)}}function ae$1(fr,cr){return fr===ee$1?cr:function(){return cr.apply(this,arguments)!==!1&&fr.apply(this,arguments)}}function ue$1(fr,cr){return fr===ee$1?cr:function(){var ar=fr.apply(this,arguments);if(ar&&typeof ar.then=="function"){for(var or=this,ur=arguments.length,lr=new Array(ur);ur--;)lr[ur]=arguments[ur];return ar.then(function(){return cr.apply(or,lr)})}return cr.apply(this,arguments)}}Z$1.ModifyError=z$1,Z$1.DexieError=W$2,Z$1.BulkError=G$2;var le$1={};const ce$1=100,[he$1,de$1,fe$1]=typeof Promise>"u"?[]:(()=>{let fr=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[fr,s(fr),fr];const cr=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[cr,s(cr),fr]})(),pe$1=de$1&&de$1.then,ye$1=he$1&&he$1.constructor,me$1=!!fe$1;var ve$1=!1,ge$1=fe$1?()=>{fe$1.then($e)}:e.setImmediate?setImmediate.bind(null,$e):e.MutationObserver?()=>{var fr=document.createElement("div");new MutationObserver(()=>{$e(),fr=null}).observe(fr,{attributes:!0}),fr.setAttribute("i","1")}:()=>{setTimeout($e,0)},be$1=function(fr,cr){Se$1.push([fr,cr]),we$1&&(ge$1(),we$1=!1)},_e=!0,we$1=!0,xe$1=[],ke$1=[],Ee=null,Pe$1=te$1,Ke={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:dt,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(fr=>{try{dt(fr[0],fr[1])}catch{}})}},Oe=Ke,Se$1=[],Ae=0,Ce$1=[];function je(fr){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=ee$1,this._lib=!1;var cr=this._PSD=Oe;if(R$2&&(this._stackHolder=q$1(),this._prev=null,this._numPrev=0),typeof fr!="function"){if(fr!==le$1)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Te(this,this._value))}this._state=null,this._value=null,++cr.ref,Be(this,fr)}const De={get:function(){var fr=Oe,cr=Xe;function ar(or,ur){var lr=!fr.global&&(fr!==Oe||cr!==Xe);const xr=lr&&!tt();var pr=new je((br,mr)=>{Fe(this,new Ie(lt(or,fr,lr,xr),lt(ur,fr,lr,xr),br,mr,fr))});return R$2&&qe(pr,this),pr}return ar.prototype=le$1,ar},set:function(fr){l$2(this,"then",fr&&fr.prototype===le$1?De:{get:function(){return fr},set:De.set})}};function Ie(fr,cr,ar,or,ur){this.onFulfilled=typeof fr=="function"?fr:null,this.onRejected=typeof cr=="function"?cr:null,this.resolve=ar,this.reject=or,this.psd=ur}function Be(fr,cr){try{cr(ar=>{if(fr._state===null){if(ar===fr)throw new TypeError("A promise cannot be resolved with itself.");var or=fr._lib&&Ue();ar&&typeof ar.then=="function"?Be(fr,(ur,lr)=>{ar instanceof je?ar._then(ur,lr):ar.then(ur,lr)}):(fr._state=!0,fr._value=ar,Re(fr)),or&&Le()}},Te.bind(null,fr))}catch(ar){Te(fr,ar)}}function Te(fr,cr){if(ke$1.push(cr),fr._state===null){var ar=fr._lib&&Ue();cr=Pe$1(cr),fr._state=!1,fr._value=cr,R$2&&cr!==null&&typeof cr=="object"&&!cr._promise&&function(or,ur,lr){try{or.apply(null,lr)}catch(xr){ur&&ur(xr)}}(()=>{var or=d(cr,"stack");cr._promise=fr,l$2(cr,"stack",{get:()=>ve$1?or&&(or.get?or.get.apply(cr):or.value):fr.stack})}),function(or){xe$1.some(ur=>ur._value===or._value)||xe$1.push(or)}(fr),Re(fr),ar&&Le()}}function Re(fr){var cr=fr._listeners;fr._listeners=[];for(var ar=0,or=cr.length;ar<or;++ar)Fe(fr,cr[ar]);var ur=fr._PSD;--ur.ref||ur.finalize(),Ae===0&&(++Ae,be$1(()=>{--Ae==0&&Ve()},[]))}function Fe(fr,cr){if(fr._state!==null){var ar=fr._state?cr.onFulfilled:cr.onRejected;if(ar===null)return(fr._state?cr.resolve:cr.reject)(fr._value);++cr.psd.ref,++Ae,be$1(Me,[ar,fr,cr])}else fr._listeners.push(cr)}function Me(fr,cr,ar){try{Ee=cr;var or,ur=cr._value;cr._state?or=fr(ur):(ke$1.length&&(ke$1=[]),or=fr(ur),ke$1.indexOf(ur)===-1&&function(lr){for(var xr=xe$1.length;xr;)if(xe$1[--xr]._value===lr._value)return void xe$1.splice(xr,1)}(cr)),ar.resolve(or)}catch(lr){ar.reject(lr)}finally{Ee=null,--Ae==0&&Ve(),--ar.psd.ref||ar.psd.finalize()}}function Ne(fr,cr,ar){if(cr.length===ar)return cr;var or="";if(fr._state===!1){var ur,lr,xr=fr._value;xr!=null?(ur=xr.name||"Error",lr=xr.message||xr,or=$$1(xr,0)):(ur=xr,lr=""),cr.push(ur+(lr?": "+lr:"")+or)}return R$2&&((or=$$1(fr._stackHolder,2))&&cr.indexOf(or)===-1&&cr.push(or),fr._prev&&Ne(fr._prev,cr,ar)),cr}function qe(fr,cr){var ar=cr?cr._numPrev+1:0;ar<100&&(fr._prev=cr,fr._numPrev=ar)}function $e(){Ue()&&Le()}function Ue(){var fr=_e;return _e=!1,we$1=!1,fr}function Le(){var fr,cr,ar;do for(;Se$1.length>0;)for(fr=Se$1,Se$1=[],ar=fr.length,cr=0;cr<ar;++cr){var or=fr[cr];or[0].apply(null,or[1])}while(Se$1.length>0);_e=!0,we$1=!0}function Ve(){var fr=xe$1;xe$1=[],fr.forEach(or=>{or._PSD.onunhandled.call(null,or._value,or)});for(var cr=Ce$1.slice(0),ar=cr.length;ar;)cr[--ar]()}function We(fr){return new je(le$1,!1,fr)}function Ye(fr,cr){var ar=Oe;return function(){var or=Ue(),ur=Oe;try{return it(ar,!0),fr.apply(this,arguments)}catch(lr){cr&&cr(lr)}finally{it(ur,!1),or&&Le()}}}a$1(je.prototype,{then:De,_then:function(fr,cr){Fe(this,new Ie(null,null,fr,cr,Oe))},catch:function(fr){if(arguments.length===1)return this.then(null,fr);var cr=arguments[0],ar=arguments[1];return typeof cr=="function"?this.then(null,or=>or instanceof cr?ar(or):We(or)):this.then(null,or=>or&&or.name===cr?ar(or):We(or))},finally:function(fr){return this.then(cr=>(fr(),cr),cr=>(fr(),We(cr)))},stack:{get:function(){if(this._stack)return this._stack;try{ve$1=!0;var fr=Ne(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=fr),fr}finally{ve$1=!1}}},timeout:function(fr,cr){return fr<1/0?new je((ar,or)=>{var ur=setTimeout(()=>or(new X$2.Timeout(cr)),fr);this.then(ar,or).finally(clearTimeout.bind(null,ur))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&l$2(je.prototype,Symbol.toStringTag,"Dexie.Promise"),Ke.env=ot(),a$1(je,{all:function(){var fr=B$1.apply(null,arguments).map(nt);return new je(function(cr,ar){fr.length===0&&cr([]);var or=fr.length;fr.forEach((ur,lr)=>je.resolve(ur).then(xr=>{fr[lr]=xr,--or||cr(fr)},ar))})},resolve:fr=>{if(fr instanceof je)return fr;if(fr&&typeof fr.then=="function")return new je((ar,or)=>{fr.then(ar,or)});var cr=new je(le$1,!0,fr);return qe(cr,Ee),cr},reject:We,race:function(){var fr=B$1.apply(null,arguments).map(nt);return new je((cr,ar)=>{fr.map(or=>je.resolve(or).then(cr,ar))})},PSD:{get:()=>Oe,set:fr=>Oe=fr},totalEchoes:{get:()=>Xe},newPSD:Ze,usePSD:at,scheduler:{get:()=>be$1,set:fr=>{be$1=fr}},rejectionMapper:{get:()=>Pe$1,set:fr=>{Pe$1=fr}},follow:(fr,cr)=>new je((ar,or)=>Ze((ur,lr)=>{var xr=Oe;xr.unhandleds=[],xr.onunhandled=lr,xr.finalize=re$1(function(){(function(pr){function br(){pr(),Ce$1.splice(Ce$1.indexOf(br),1)}Ce$1.push(br),++Ae,be$1(()=>{--Ae==0&&Ve()},[])})(()=>{this.unhandleds.length===0?ur():lr(this.unhandleds[0])})},xr.finalize),fr()},cr,ar,or))}),ye$1&&(ye$1.allSettled&&l$2(je,"allSettled",function(){const fr=B$1.apply(null,arguments).map(nt);return new je(cr=>{fr.length===0&&cr([]);let ar=fr.length;const or=new Array(ar);fr.forEach((ur,lr)=>je.resolve(ur).then(xr=>or[lr]={status:"fulfilled",value:xr},xr=>or[lr]={status:"rejected",reason:xr}).then(()=>--ar||cr(or)))})}),ye$1.any&&typeof AggregateError<"u"&&l$2(je,"any",function(){const fr=B$1.apply(null,arguments).map(nt);return new je((cr,ar)=>{fr.length===0&&ar(new AggregateError([]));let or=fr.length;const ur=new Array(or);fr.forEach((lr,xr)=>je.resolve(lr).then(pr=>cr(pr),pr=>{ur[xr]=pr,--or||ar(new AggregateError(ur))}))})}));const ze={awaits:0,echoes:0,id:0};var Ge=0,He=[],Qe=0,Xe=0,Je=0;function Ze(fr,cr,ar,or){var ur=Oe,lr=Object.create(ur);lr.parent=ur,lr.ref=0,lr.global=!1,lr.id=++Je;var xr=Ke.env;lr.env=me$1?{Promise:je,PromiseProp:{value:je,configurable:!0,writable:!0},all:je.all,race:je.race,allSettled:je.allSettled,any:je.any,resolve:je.resolve,reject:je.reject,nthen:ct(xr.nthen,lr),gthen:ct(xr.gthen,lr)}:{},cr&&r$1(lr,cr),++ur.ref,lr.finalize=function(){--this.parent.ref||this.parent.finalize()};var pr=at(lr,fr,ar,or);return lr.ref===0&&lr.finalize(),pr}function et(){return ze.id||(ze.id=++Ge),++ze.awaits,ze.echoes+=ce$1,ze.id}function tt(){return!!ze.awaits&&(--ze.awaits==0&&(ze.id=0),ze.echoes=ze.awaits*ce$1,!0)}function nt(fr){return ze.echoes&&fr&&fr.constructor===ye$1?(et(),fr.then(cr=>(tt(),cr),cr=>(tt(),ft(cr)))):fr}function rt(fr){++Xe,ze.echoes&&--ze.echoes!=0||(ze.echoes=ze.id=0),He.push(Oe),it(fr,!0)}function st(){var fr=He[He.length-1];He.pop(),it(fr,!1)}function it(fr,cr){var ar=Oe;if((cr?!ze.echoes||Qe++&&fr===Oe:!Qe||--Qe&&fr===Oe)||ut(cr?rt.bind(null,fr):st),fr!==Oe&&(Oe=fr,ar===Ke&&(Ke.env=ot()),me$1)){var or=Ke.env.Promise,ur=fr.env;de$1.then=ur.nthen,or.prototype.then=ur.gthen,(ar.global||fr.global)&&(Object.defineProperty(e,"Promise",ur.PromiseProp),or.all=ur.all,or.race=ur.race,or.resolve=ur.resolve,or.reject=ur.reject,ur.allSettled&&(or.allSettled=ur.allSettled),ur.any&&(or.any=ur.any))}}function ot(){var fr=e.Promise;return me$1?{Promise:fr,PromiseProp:Object.getOwnPropertyDescriptor(e,"Promise"),all:fr.all,race:fr.race,allSettled:fr.allSettled,any:fr.any,resolve:fr.resolve,reject:fr.reject,nthen:de$1.then,gthen:fr.prototype.then}:{}}function at(fr,cr,ar,or,ur){var lr=Oe;try{return it(fr,!0),cr(ar,or,ur)}finally{it(lr,!1)}}function ut(fr){pe$1.call(he$1,fr)}function lt(fr,cr,ar,or){return typeof fr!="function"?fr:function(){var ur=Oe;ar&&et(),it(cr,!0);try{return fr.apply(this,arguments)}finally{it(ur,!1),or&&ut(tt)}}}function ct(fr,cr){return function(ar,or){return fr.call(this,lt(ar,cr),lt(or,cr))}}(""+pe$1).indexOf("[native code]")===-1&&(et=tt=ee$1);const ht="unhandledrejection";function dt(fr,cr){var ar;try{ar=cr.onuncatched(fr)}catch{}if(ar!==!1)try{var or,ur={promise:cr,reason:fr};if(e.document&&document.createEvent?((or=document.createEvent("Event")).initEvent(ht,!0,!0),r$1(or,ur)):e.CustomEvent&&r$1(or=new CustomEvent(ht,{detail:ur}),ur),or&&e.dispatchEvent&&(dispatchEvent(or),!e.PromiseRejectionEvent&&e.onunhandledrejection))try{e.onunhandledrejection(or)}catch{}R$2&&or&&!or.defaultPrevented&&console.warn(`Unhandled rejection: ${fr.stack||fr}`)}catch{}}var ft=je.reject;function pt(fr,cr,ar,or){if(fr.idbdb&&(fr._state.openComplete||Oe.letThrough||fr._vip)){var ur=fr._createTransaction(cr,ar,fr._dbSchema);try{ur.create(),fr._state.PR1398_maxLoop=3}catch(lr){return lr.name===H$1.InvalidState&&fr.isOpen()&&--fr._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),fr._close(),fr.open().then(()=>pt(fr,cr,ar,or))):ft(lr)}return ur._promise(cr,(lr,xr)=>Ze(()=>(Oe.trans=ur,or(lr,xr,ur)))).then(lr=>ur._completion.then(()=>lr))}if(fr._state.openComplete)return ft(new X$2.DatabaseClosed(fr._state.dbOpenError));if(!fr._state.isBeingOpened){if(!fr._options.autoOpen)return ft(new X$2.DatabaseClosed);fr.open().catch(ee$1)}return fr._state.dbReadyPromise.then(()=>pt(fr,cr,ar,or))}const yt="3.2.7",mt=String.fromCharCode(65535),vt=-1/0,gt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",bt="String expected.",_t=[],wt=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),xt=wt,kt=wt,Et=fr=>!/(dexie\.js|dexie\.min\.js)/.test(fr),Pt="__dbnames",Kt="readonly",Ot="readwrite";function St(fr,cr){return fr?cr?function(){return fr.apply(this,arguments)&&cr.apply(this,arguments)}:fr:cr}const At={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ct(fr){return typeof fr!="string"||/\./.test(fr)?cr=>cr:cr=>(cr[fr]===void 0&&fr in cr&&delete(cr=O$2(cr))[fr],cr)}class jt{_trans(cr,ar,or){const ur=this._tx||Oe.trans,lr=this.name;function xr(br,mr,_r){if(!_r.schema[lr])throw new X$2.NotFound("Table "+lr+" not part of transaction");return ar(_r.idbtrans,_r)}const pr=Ue();try{return ur&&ur.db===this.db?ur===Oe.trans?ur._promise(cr,xr,or):Ze(()=>ur._promise(cr,xr,or),{trans:ur,transless:Oe.transless||Oe}):pt(this.db,cr,[this.name],xr)}finally{pr&&Le()}}get(cr,ar){return cr&&cr.constructor===Object?this.where(cr).first(ar):this._trans("readonly",or=>this.core.get({trans:or,key:cr}).then(ur=>this.hook.reading.fire(ur))).then(ar)}where(cr){if(typeof cr=="string")return new this.db.WhereClause(this,cr);if(n$1(cr))return new this.db.WhereClause(this,`[${cr.join("+")}]`);const ar=t$1(cr);if(ar.length===1)return this.where(ar[0]).equals(cr[ar[0]]);const or=this.schema.indexes.concat(this.schema.primKey).filter(mr=>{if(mr.compound&&ar.every(_r=>mr.keyPath.indexOf(_r)>=0)){for(let _r=0;_r<ar.length;++_r)if(ar.indexOf(mr.keyPath[_r])===-1)return!1;return!0}return!1}).sort((mr,_r)=>mr.keyPath.length-_r.keyPath.length)[0];if(or&&this.db._maxKey!==mt){const mr=or.keyPath.slice(0,ar.length);return this.where(mr).equals(mr.map(_r=>cr[_r]))}!or&&R$2&&console.warn(`The query ${JSON.stringify(cr)} on ${this.name} would benefit of a compound index [${ar.join("+")}]`);const{idxByName:ur}=this.schema,lr=this.db._deps.indexedDB;function xr(mr,_r){try{return lr.cmp(mr,_r)===0}catch{return!1}}const[pr,br]=ar.reduce(([mr,_r],vr)=>{const Er=ur[vr],yr=cr[vr];return[mr||Er,mr||!Er?St(_r,Er&&Er.multi?Ir=>{const Ar=b$1(Ir,vr);return n$1(Ar)&&Ar.some(kr=>xr(yr,kr))}:Ir=>xr(yr,b$1(Ir,vr))):_r]},[null,null]);return pr?this.where(pr.name).equals(cr[pr.keyPath]).filter(br):or?this.filter(br):this.where(ar).equals("")}filter(cr){return this.toCollection().and(cr)}count(cr){return this.toCollection().count(cr)}offset(cr){return this.toCollection().offset(cr)}limit(cr){return this.toCollection().limit(cr)}each(cr){return this.toCollection().each(cr)}toArray(cr){return this.toCollection().toArray(cr)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(cr){return new this.db.Collection(new this.db.WhereClause(this,n$1(cr)?`[${cr.join("+")}]`:cr))}reverse(){return this.toCollection().reverse()}mapToClass(cr){this.schema.mappedClass=cr;const ar=or=>{if(!or)return or;const ur=Object.create(cr.prototype);for(var lr in or)if(o(or,lr))try{ur[lr]=or[lr]}catch{}return ur};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=ar,this.hook("reading",ar),cr}defineClass(){return this.mapToClass(function(cr){r$1(this,cr)})}add(cr,ar){const{auto:or,keyPath:ur}=this.schema.primKey;let lr=cr;return ur&&or&&(lr=Ct(ur)(cr)),this._trans("readwrite",xr=>this.core.mutate({trans:xr,type:"add",keys:ar!=null?[ar]:null,values:[lr]})).then(xr=>xr.numFailures?je.reject(xr.failures[0]):xr.lastResult).then(xr=>{if(ur)try{_(cr,ur,xr)}catch{}return xr})}update(cr,ar){if(typeof cr!="object"||n$1(cr))return this.where(":id").equals(cr).modify(ar);{const or=b$1(cr,this.schema.primKey.keyPath);if(or===void 0)return ft(new X$2.InvalidArgument("Given object does not contain its primary key"));try{typeof ar!="function"?t$1(ar).forEach(ur=>{_(cr,ur,ar[ur])}):ar(cr,{value:cr,primKey:or})}catch{}return this.where(":id").equals(or).modify(ar)}}put(cr,ar){const{auto:or,keyPath:ur}=this.schema.primKey;let lr=cr;return ur&&or&&(lr=Ct(ur)(cr)),this._trans("readwrite",xr=>this.core.mutate({trans:xr,type:"put",values:[lr],keys:ar!=null?[ar]:null})).then(xr=>xr.numFailures?je.reject(xr.failures[0]):xr.lastResult).then(xr=>{if(ur)try{_(cr,ur,xr)}catch{}return xr})}delete(cr){return this._trans("readwrite",ar=>this.core.mutate({trans:ar,type:"delete",keys:[cr]})).then(ar=>ar.numFailures?je.reject(ar.failures[0]):void 0)}clear(){return this._trans("readwrite",cr=>this.core.mutate({trans:cr,type:"deleteRange",range:At})).then(cr=>cr.numFailures?je.reject(cr.failures[0]):void 0)}bulkGet(cr){return this._trans("readonly",ar=>this.core.getMany({keys:cr,trans:ar}).then(or=>or.map(ur=>this.hook.reading.fire(ur))))}bulkAdd(cr,ar,or){const ur=Array.isArray(ar)?ar:void 0,lr=(or=or||(ur?void 0:ar))?or.allKeys:void 0;return this._trans("readwrite",xr=>{const{auto:pr,keyPath:br}=this.schema.primKey;if(br&&ur)throw new X$2.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(ur&&ur.length!==cr.length)throw new X$2.InvalidArgument("Arguments objects and keys must have the same length");const mr=cr.length;let _r=br&&pr?cr.map(Ct(br)):cr;return this.core.mutate({trans:xr,type:"add",keys:ur,values:_r,wantResults:lr}).then(({numFailures:vr,results:Er,lastResult:yr,failures:Ir})=>{if(vr===0)return lr?Er:yr;throw new G$2(`${this.name}.bulkAdd(): ${vr} of ${mr} operations failed`,Ir)})})}bulkPut(cr,ar,or){const ur=Array.isArray(ar)?ar:void 0,lr=(or=or||(ur?void 0:ar))?or.allKeys:void 0;return this._trans("readwrite",xr=>{const{auto:pr,keyPath:br}=this.schema.primKey;if(br&&ur)throw new X$2.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(ur&&ur.length!==cr.length)throw new X$2.InvalidArgument("Arguments objects and keys must have the same length");const mr=cr.length;let _r=br&&pr?cr.map(Ct(br)):cr;return this.core.mutate({trans:xr,type:"put",keys:ur,values:_r,wantResults:lr}).then(({numFailures:vr,results:Er,lastResult:yr,failures:Ir})=>{if(vr===0)return lr?Er:yr;throw new G$2(`${this.name}.bulkPut(): ${vr} of ${mr} operations failed`,Ir)})})}bulkDelete(cr){const ar=cr.length;return this._trans("readwrite",or=>this.core.mutate({trans:or,type:"delete",keys:cr})).then(({numFailures:or,lastResult:ur,failures:lr})=>{if(or===0)return ur;throw new G$2(`${this.name}.bulkDelete(): ${or} of ${ar} operations failed`,lr)})}}function Dt(fr){var cr={},ar=function(xr,pr){if(pr){for(var br=arguments.length,mr=new Array(br-1);--br;)mr[br-1]=arguments[br];return cr[xr].subscribe.apply(null,mr),fr}if(typeof xr=="string")return cr[xr]};ar.addEventType=lr;for(var or=1,ur=arguments.length;or<ur;++or)lr(arguments[or]);return ar;function lr(xr,pr,br){if(typeof xr!="object"){var mr;pr||(pr=ae$1),br||(br=ee$1);var _r={subscribers:[],fire:br,subscribe:function(vr){_r.subscribers.indexOf(vr)===-1&&(_r.subscribers.push(vr),_r.fire=pr(_r.fire,vr))},unsubscribe:function(vr){_r.subscribers=_r.subscribers.filter(function(Er){return Er!==vr}),_r.fire=_r.subscribers.reduce(pr,br)}};return cr[xr]=ar[xr]=_r,_r}t$1(mr=xr).forEach(function(vr){var Er=mr[vr];if(n$1(Er))lr(vr,mr[vr][0],mr[vr][1]);else{if(Er!=="asap")throw new X$2.InvalidArgument("Invalid event config");var yr=lr(vr,te$1,function(){for(var Ir=arguments.length,Ar=new Array(Ir);Ir--;)Ar[Ir]=arguments[Ir];yr.subscribers.forEach(function(kr){v$1(function(){kr.apply(null,Ar)})})})}})}}function It(fr,cr){return c(cr).from({prototype:fr}),cr}function Bt(fr,cr){return!(fr.filter||fr.algorithm||fr.or)&&(cr?fr.justLimit:!fr.replayFilter)}function Tt(fr,cr){fr.filter=St(fr.filter,cr)}function Rt(fr,cr,ar){var or=fr.replayFilter;fr.replayFilter=or?()=>St(or(),cr()):cr,fr.justLimit=ar&&!or}function Ft(fr,cr){if(fr.isPrimKey)return cr.primaryKey;const ar=cr.getIndexByKeyPath(fr.index);if(!ar)throw new X$2.Schema("KeyPath "+fr.index+" on object store "+cr.name+" is not indexed");return ar}function Mt(fr,cr,ar){const or=Ft(fr,cr.schema);return cr.openCursor({trans:ar,values:!fr.keysOnly,reverse:fr.dir==="prev",unique:!!fr.unique,query:{index:or,range:fr.range}})}function Nt(fr,cr,ar,or){const ur=fr.replayFilter?St(fr.filter,fr.replayFilter()):fr.filter;if(fr.or){const lr={},xr=(pr,br,mr)=>{if(!ur||ur(br,mr,Er=>br.stop(Er),Er=>br.fail(Er))){var _r=br.primaryKey,vr=""+_r;vr==="[object ArrayBuffer]"&&(vr=""+new Uint8Array(_r)),o(lr,vr)||(lr[vr]=!0,cr(pr,br,mr))}};return Promise.all([fr.or._iterate(xr,ar),qt(Mt(fr,or,ar),fr.algorithm,xr,!fr.keysOnly&&fr.valueMapper)])}return qt(Mt(fr,or,ar),St(fr.algorithm,ur),cr,!fr.keysOnly&&fr.valueMapper)}function qt(fr,cr,ar,or){var ur=Ye(or?(lr,xr,pr)=>ar(or(lr),xr,pr):ar);return fr.then(lr=>{if(lr)return lr.start(()=>{var xr=()=>lr.continue();cr&&!cr(lr,pr=>xr=pr,pr=>{lr.stop(pr),xr=ee$1},pr=>{lr.fail(pr),xr=ee$1})||ur(lr.value,lr,pr=>xr=pr),xr()})})}function $t(fr,cr){try{const ar=Ut(fr),or=Ut(cr);if(ar!==or)return ar==="Array"?1:or==="Array"?-1:ar==="binary"?1:or==="binary"?-1:ar==="string"?1:or==="string"?-1:ar==="Date"?1:or!=="Date"?NaN:-1;switch(ar){case"number":case"Date":case"string":return fr>cr?1:fr<cr?-1:0;case"binary":return function(ur,lr){const xr=ur.length,pr=lr.length,br=xr<pr?xr:pr;for(let mr=0;mr<br;++mr)if(ur[mr]!==lr[mr])return ur[mr]<lr[mr]?-1:1;return xr===pr?0:xr<pr?-1:1}(Lt(fr),Lt(cr));case"Array":return function(ur,lr){const xr=ur.length,pr=lr.length,br=xr<pr?xr:pr;for(let mr=0;mr<br;++mr){const _r=$t(ur[mr],lr[mr]);if(_r!==0)return _r}return xr===pr?0:xr<pr?-1:1}(fr,cr)}}catch{}return NaN}function Ut(fr){const cr=typeof fr;if(cr!=="object")return cr;if(ArrayBuffer.isView(fr))return"binary";const ar=C$1(fr);return ar==="ArrayBuffer"?"binary":ar}function Lt(fr){return fr instanceof Uint8Array?fr:ArrayBuffer.isView(fr)?new Uint8Array(fr.buffer,fr.byteOffset,fr.byteLength):new Uint8Array(fr)}class Vt{_read(cr,ar){var or=this._ctx;return or.error?or.table._trans(null,ft.bind(null,or.error)):or.table._trans("readonly",cr).then(ar)}_write(cr){var ar=this._ctx;return ar.error?ar.table._trans(null,ft.bind(null,ar.error)):ar.table._trans("readwrite",cr,"locked")}_addAlgorithm(cr){var ar=this._ctx;ar.algorithm=St(ar.algorithm,cr)}_iterate(cr,ar){return Nt(this._ctx,cr,ar,this._ctx.table.core)}clone(cr){var ar=Object.create(this.constructor.prototype),or=Object.create(this._ctx);return cr&&r$1(or,cr),ar._ctx=or,ar}raw(){return this._ctx.valueMapper=null,this}each(cr){var ar=this._ctx;return this._read(or=>Nt(ar,cr,or,ar.table.core))}count(cr){return this._read(ar=>{const or=this._ctx,ur=or.table.core;if(Bt(or,!0))return ur.count({trans:ar,query:{index:Ft(or,ur.schema),range:or.range}}).then(xr=>Math.min(xr,or.limit));var lr=0;return Nt(or,()=>(++lr,!1),ar,ur).then(()=>lr)}).then(cr)}sortBy(cr,ar){const or=cr.split(".").reverse(),ur=or[0],lr=or.length-1;function xr(mr,_r){return _r?xr(mr[or[_r]],_r-1):mr[ur]}var pr=this._ctx.dir==="next"?1:-1;function br(mr,_r){var vr=xr(mr,lr),Er=xr(_r,lr);return vr<Er?-pr:vr>Er?pr:0}return this.toArray(function(mr){return mr.sort(br)}).then(ar)}toArray(cr){return this._read(ar=>{var or=this._ctx;if(or.dir==="next"&&Bt(or,!0)&&or.limit>0){const{valueMapper:ur}=or,lr=Ft(or,or.table.core.schema);return or.table.core.query({trans:ar,limit:or.limit,values:!0,query:{index:lr,range:or.range}}).then(({result:xr})=>ur?xr.map(ur):xr)}{const ur=[];return Nt(or,lr=>ur.push(lr),ar,or.table.core).then(()=>ur)}},cr)}offset(cr){var ar=this._ctx;return cr<=0||(ar.offset+=cr,Bt(ar)?Rt(ar,()=>{var or=cr;return(ur,lr)=>or===0||(or===1?(--or,!1):(lr(()=>{ur.advance(or),or=0}),!1))}):Rt(ar,()=>{var or=cr;return()=>--or<0})),this}limit(cr){return this._ctx.limit=Math.min(this._ctx.limit,cr),Rt(this._ctx,()=>{var ar=cr;return function(or,ur,lr){return--ar<=0&&ur(lr),ar>=0}},!0),this}until(cr,ar){return Tt(this._ctx,function(or,ur,lr){return!cr(or.value)||(ur(lr),ar)}),this}first(cr){return this.limit(1).toArray(function(ar){return ar[0]}).then(cr)}last(cr){return this.reverse().first(cr)}filter(cr){var ar,or;return Tt(this._ctx,function(ur){return cr(ur.value)}),ar=this._ctx,or=cr,ar.isMatch=St(ar.isMatch,or),this}and(cr){return this.filter(cr)}or(cr){return new this.db.WhereClause(this._ctx.table,cr,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(cr){var ar=this._ctx;return ar.keysOnly=!ar.isMatch,this.each(function(or,ur){cr(ur.key,ur)})}eachUniqueKey(cr){return this._ctx.unique="unique",this.eachKey(cr)}eachPrimaryKey(cr){var ar=this._ctx;return ar.keysOnly=!ar.isMatch,this.each(function(or,ur){cr(ur.primaryKey,ur)})}keys(cr){var ar=this._ctx;ar.keysOnly=!ar.isMatch;var or=[];return this.each(function(ur,lr){or.push(lr.key)}).then(function(){return or}).then(cr)}primaryKeys(cr){var ar=this._ctx;if(ar.dir==="next"&&Bt(ar,!0)&&ar.limit>0)return this._read(ur=>{var lr=Ft(ar,ar.table.core.schema);return ar.table.core.query({trans:ur,values:!1,limit:ar.limit,query:{index:lr,range:ar.range}})}).then(({result:ur})=>ur).then(cr);ar.keysOnly=!ar.isMatch;var or=[];return this.each(function(ur,lr){or.push(lr.primaryKey)}).then(function(){return or}).then(cr)}uniqueKeys(cr){return this._ctx.unique="unique",this.keys(cr)}firstKey(cr){return this.limit(1).keys(function(ar){return ar[0]}).then(cr)}lastKey(cr){return this.reverse().firstKey(cr)}distinct(){var cr=this._ctx,ar=cr.index&&cr.table.schema.idxByName[cr.index];if(!ar||!ar.multi)return this;var or={};return Tt(this._ctx,function(ur){var lr=ur.primaryKey.toString(),xr=o(or,lr);return or[lr]=!0,!xr}),this}modify(cr){var ar=this._ctx;return this._write(or=>{var ur;if(typeof cr=="function")ur=cr;else{var lr=t$1(cr),xr=lr.length;ur=function(Ar){for(var kr=!1,Or=0;Or<xr;++Or){var Dr=lr[Or],Rr=cr[Dr];b$1(Ar,Dr)!==Rr&&(_(Ar,Dr,Rr),kr=!0)}return kr}}const pr=ar.table.core,{outbound:br,extractKey:mr}=pr.schema.primaryKey,_r=this.db._options.modifyChunkSize||200,vr=[];let Er=0;const yr=[],Ir=(Ar,kr)=>{const{failures:Or,numFailures:Dr}=kr;Er+=Ar-Dr;for(let Rr of t$1(Or))vr.push(Or[Rr])};return this.clone().primaryKeys().then(Ar=>{const kr=Or=>{const Dr=Math.min(_r,Ar.length-Or);return pr.getMany({trans:or,keys:Ar.slice(Or,Or+Dr),cache:"immutable"}).then(Rr=>{const Fr=[],Lr=[],Hr=br?[]:null,Ur=[];for(let Yr=0;Yr<Dr;++Yr){const jr=Rr[Yr],Jr={value:O$2(jr),primKey:Ar[Or+Yr]};ur.call(Jr,Jr.value,Jr)!==!1&&(Jr.value==null?Ur.push(Ar[Or+Yr]):br||$t(mr(jr),mr(Jr.value))===0?(Lr.push(Jr.value),br&&Hr.push(Ar[Or+Yr])):(Ur.push(Ar[Or+Yr]),Fr.push(Jr.value)))}const Zr=Bt(ar)&&ar.limit===1/0&&(typeof cr!="function"||cr===Wt)&&{index:ar.index,range:ar.range};return Promise.resolve(Fr.length>0&&pr.mutate({trans:or,type:"add",values:Fr}).then(Yr=>{for(let jr in Yr.failures)Ur.splice(parseInt(jr),1);Ir(Fr.length,Yr)})).then(()=>(Lr.length>0||Zr&&typeof cr=="object")&&pr.mutate({trans:or,type:"put",keys:Hr,values:Lr,criteria:Zr,changeSpec:typeof cr!="function"&&cr}).then(Yr=>Ir(Lr.length,Yr))).then(()=>(Ur.length>0||Zr&&cr===Wt)&&pr.mutate({trans:or,type:"delete",keys:Ur,criteria:Zr}).then(Yr=>Ir(Ur.length,Yr))).then(()=>Ar.length>Or+Dr&&kr(Or+_r))})};return kr(0).then(()=>{if(vr.length>0)throw new z$1("Error modifying one or more objects",vr,Er,yr);return Ar.length})})})}delete(){var cr=this._ctx,ar=cr.range;return Bt(cr)&&(cr.isPrimKey&&!kt||ar.type===3)?this._write(or=>{const{primaryKey:ur}=cr.table.core.schema,lr=ar;return cr.table.core.count({trans:or,query:{index:ur,range:lr}}).then(xr=>cr.table.core.mutate({trans:or,type:"deleteRange",range:lr}).then(({failures:pr,lastResult:br,results:mr,numFailures:_r})=>{if(_r)throw new z$1("Could not delete some values",Object.keys(pr).map(vr=>pr[vr]),xr-_r);return xr-_r}))}):this.modify(Wt)}}const Wt=(fr,cr)=>cr.value=null;function Yt(fr,cr){return fr<cr?-1:fr===cr?0:1}function zt(fr,cr){return fr>cr?-1:fr===cr?0:1}function Gt(fr,cr,ar){var or=fr instanceof en?new fr.Collection(fr):fr;return or._ctx.error=ar?new ar(cr):new TypeError(cr),or}function Ht(fr){return new fr.Collection(fr,()=>Zt("")).limit(0)}function Qt(fr,cr,ar,or,ur,lr){for(var xr=Math.min(fr.length,or.length),pr=-1,br=0;br<xr;++br){var mr=cr[br];if(mr!==or[br])return ur(fr[br],ar[br])<0?fr.substr(0,br)+ar[br]+ar.substr(br+1):ur(fr[br],or[br])<0?fr.substr(0,br)+or[br]+ar.substr(br+1):pr>=0?fr.substr(0,pr)+cr[pr]+ar.substr(pr+1):null;ur(fr[br],mr)<0&&(pr=br)}return xr<or.length&&lr==="next"?fr+ar.substr(fr.length):xr<fr.length&&lr==="prev"?fr.substr(0,ar.length):pr<0?null:fr.substr(0,pr)+or[pr]+ar.substr(pr+1)}function Xt(fr,cr,ar,or){var ur,lr,xr,pr,br,mr,_r,vr=ar.length;if(!ar.every(Ar=>typeof Ar=="string"))return Gt(fr,bt);function Er(Ar){ur=function(Or){return Or==="next"?Dr=>Dr.toUpperCase():Dr=>Dr.toLowerCase()}(Ar),lr=function(Or){return Or==="next"?Dr=>Dr.toLowerCase():Dr=>Dr.toUpperCase()}(Ar),xr=Ar==="next"?Yt:zt;var kr=ar.map(function(Or){return{lower:lr(Or),upper:ur(Or)}}).sort(function(Or,Dr){return xr(Or.lower,Dr.lower)});pr=kr.map(function(Or){return Or.upper}),br=kr.map(function(Or){return Or.lower}),mr=Ar,_r=Ar==="next"?"":or}Er("next");var yr=new fr.Collection(fr,()=>Jt(pr[0],br[vr-1]+or));yr._ondirectionchange=function(Ar){Er(Ar)};var Ir=0;return yr._addAlgorithm(function(Ar,kr,Or){var Dr=Ar.key;if(typeof Dr!="string")return!1;var Rr=lr(Dr);if(cr(Rr,br,Ir))return!0;for(var Fr=null,Lr=Ir;Lr<vr;++Lr){var Hr=Qt(Dr,Rr,pr[Lr],br[Lr],xr,mr);Hr===null&&Fr===null?Ir=Lr+1:(Fr===null||xr(Fr,Hr)>0)&&(Fr=Hr)}return kr(Fr!==null?function(){Ar.continue(Fr+_r)}:Or),!1}),yr}function Jt(fr,cr,ar,or){return{type:2,lower:fr,upper:cr,lowerOpen:ar,upperOpen:or}}function Zt(fr){return{type:1,lower:fr,upper:fr}}class en{get Collection(){return this._ctx.table.db.Collection}between(cr,ar,or,ur){or=or!==!1,ur=ur===!0;try{return this._cmp(cr,ar)>0||this._cmp(cr,ar)===0&&(or||ur)&&(!or||!ur)?Ht(this):new this.Collection(this,()=>Jt(cr,ar,!or,!ur))}catch{return Gt(this,gt)}}equals(cr){return cr==null?Gt(this,gt):new this.Collection(this,()=>Zt(cr))}above(cr){return cr==null?Gt(this,gt):new this.Collection(this,()=>Jt(cr,void 0,!0))}aboveOrEqual(cr){return cr==null?Gt(this,gt):new this.Collection(this,()=>Jt(cr,void 0,!1))}below(cr){return cr==null?Gt(this,gt):new this.Collection(this,()=>Jt(void 0,cr,!1,!0))}belowOrEqual(cr){return cr==null?Gt(this,gt):new this.Collection(this,()=>Jt(void 0,cr))}startsWith(cr){return typeof cr!="string"?Gt(this,bt):this.between(cr,cr+mt,!0,!0)}startsWithIgnoreCase(cr){return cr===""?this.startsWith(cr):Xt(this,(ar,or)=>ar.indexOf(or[0])===0,[cr],mt)}equalsIgnoreCase(cr){return Xt(this,(ar,or)=>ar===or[0],[cr],"")}anyOfIgnoreCase(){var cr=B$1.apply(I$2,arguments);return cr.length===0?Ht(this):Xt(this,(ar,or)=>or.indexOf(ar)!==-1,cr,"")}startsWithAnyOfIgnoreCase(){var cr=B$1.apply(I$2,arguments);return cr.length===0?Ht(this):Xt(this,(ar,or)=>or.some(ur=>ar.indexOf(ur)===0),cr,mt)}anyOf(){const cr=B$1.apply(I$2,arguments);let ar=this._cmp;try{cr.sort(ar)}catch{return Gt(this,gt)}if(cr.length===0)return Ht(this);const or=new this.Collection(this,()=>Jt(cr[0],cr[cr.length-1]));or._ondirectionchange=lr=>{ar=lr==="next"?this._ascending:this._descending,cr.sort(ar)};let ur=0;return or._addAlgorithm((lr,xr,pr)=>{const br=lr.key;for(;ar(br,cr[ur])>0;)if(++ur,ur===cr.length)return xr(pr),!1;return ar(br,cr[ur])===0||(xr(()=>{lr.continue(cr[ur])}),!1)}),or}notEqual(cr){return this.inAnyRange([[vt,cr],[cr,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const cr=B$1.apply(I$2,arguments);if(cr.length===0)return new this.Collection(this);try{cr.sort(this._ascending)}catch{return Gt(this,gt)}const ar=cr.reduce((or,ur)=>or?or.concat([[or[or.length-1][1],ur]]):[[vt,ur]],null);return ar.push([cr[cr.length-1],this.db._maxKey]),this.inAnyRange(ar,{includeLowers:!1,includeUppers:!1})}inAnyRange(cr,ar){const or=this._cmp,ur=this._ascending,lr=this._descending,xr=this._min,pr=this._max;if(cr.length===0)return Ht(this);if(!cr.every(Dr=>Dr[0]!==void 0&&Dr[1]!==void 0&&ur(Dr[0],Dr[1])<=0))return Gt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",X$2.InvalidArgument);const br=!ar||ar.includeLowers!==!1,mr=ar&&ar.includeUppers===!0;let _r,vr=ur;function Er(Dr,Rr){return vr(Dr[0],Rr[0])}try{_r=cr.reduce(function(Dr,Rr){let Fr=0,Lr=Dr.length;for(;Fr<Lr;++Fr){const Hr=Dr[Fr];if(or(Rr[0],Hr[1])<0&&or(Rr[1],Hr[0])>0){Hr[0]=xr(Hr[0],Rr[0]),Hr[1]=pr(Hr[1],Rr[1]);break}}return Fr===Lr&&Dr.push(Rr),Dr},[]),_r.sort(Er)}catch{return Gt(this,gt)}let yr=0;const Ir=mr?Dr=>ur(Dr,_r[yr][1])>0:Dr=>ur(Dr,_r[yr][1])>=0,Ar=br?Dr=>lr(Dr,_r[yr][0])>0:Dr=>lr(Dr,_r[yr][0])>=0;let kr=Ir;const Or=new this.Collection(this,()=>Jt(_r[0][0],_r[_r.length-1][1],!br,!mr));return Or._ondirectionchange=Dr=>{Dr==="next"?(kr=Ir,vr=ur):(kr=Ar,vr=lr),_r.sort(Er)},Or._addAlgorithm((Dr,Rr,Fr)=>{for(var Lr=Dr.key;kr(Lr);)if(++yr,yr===_r.length)return Rr(Fr),!1;return!!function(Hr){return!Ir(Hr)&&!Ar(Hr)}(Lr)||(this._cmp(Lr,_r[yr][1])===0||this._cmp(Lr,_r[yr][0])===0||Rr(()=>{vr===ur?Dr.continue(_r[yr][0]):Dr.continue(_r[yr][1])}),!1)}),Or}startsWithAnyOf(){const cr=B$1.apply(I$2,arguments);return cr.every(ar=>typeof ar=="string")?cr.length===0?Ht(this):this.inAnyRange(cr.map(ar=>[ar,ar+mt])):Gt(this,"startsWithAnyOf() only works with strings")}}function tn(fr){return Ye(function(cr){return nn(cr),fr(cr.target.error),!1})}function nn(fr){fr.stopPropagation&&fr.stopPropagation(),fr.preventDefault&&fr.preventDefault()}const rn="storagemutated",sn="x-storagemutated-1",on=Dt(null,rn);class an{_lock(){return m(!Oe.global),++this._reculock,this._reculock!==1||Oe.global||(Oe.lockOwnerFor=this),this}_unlock(){if(m(!Oe.global),--this._reculock==0)for(Oe.global||(Oe.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var cr=this._blockedFuncs.shift();try{at(cr[1],cr[0])}catch{}}return this}_locked(){return this._reculock&&Oe.lockOwnerFor!==this}create(cr){if(!this.mode)return this;const ar=this.db.idbdb,or=this.db._state.dbOpenError;if(m(!this.idbtrans),!cr&&!ar)switch(or&&or.name){case"DatabaseClosedError":throw new X$2.DatabaseClosed(or);case"MissingAPIError":throw new X$2.MissingAPI(or.message,or);default:throw new X$2.OpenFailed(or)}if(!this.active)throw new X$2.TransactionInactive;return m(this._completion._state===null),(cr=this.idbtrans=cr||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):ar.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Ye(ur=>{nn(ur),this._reject(cr.error)}),cr.onabort=Ye(ur=>{nn(ur),this.active&&this._reject(new X$2.Abort(cr.error)),this.active=!1,this.on("abort").fire(ur)}),cr.oncomplete=Ye(()=>{this.active=!1,this._resolve(),"mutatedParts"in cr&&on.storagemutated.fire(cr.mutatedParts)}),this}_promise(cr,ar,or){if(cr==="readwrite"&&this.mode!=="readwrite")return ft(new X$2.ReadOnly("Transaction is readonly"));if(!this.active)return ft(new X$2.TransactionInactive);if(this._locked())return new je((lr,xr)=>{this._blockedFuncs.push([()=>{this._promise(cr,ar,or).then(lr,xr)},Oe])});if(or)return Ze(()=>{var lr=new je((xr,pr)=>{this._lock();const br=ar(xr,pr,this);br&&br.then&&br.then(xr,pr)});return lr.finally(()=>this._unlock()),lr._lib=!0,lr});var ur=new je((lr,xr)=>{var pr=ar(lr,xr,this);pr&&pr.then&&pr.then(lr,xr)});return ur._lib=!0,ur}_root(){return this.parent?this.parent._root():this}waitFor(cr){var ar=this._root();const or=je.resolve(cr);if(ar._waitingFor)ar._waitingFor=ar._waitingFor.then(()=>or);else{ar._waitingFor=or,ar._waitingQueue=[];var ur=ar.idbtrans.objectStore(ar.storeNames[0]);(function xr(){for(++ar._spinCount;ar._waitingQueue.length;)ar._waitingQueue.shift()();ar._waitingFor&&(ur.get(-1/0).onsuccess=xr)})()}var lr=ar._waitingFor;return new je((xr,pr)=>{or.then(br=>ar._waitingQueue.push(Ye(xr.bind(null,br))),br=>ar._waitingQueue.push(Ye(pr.bind(null,br)))).finally(()=>{ar._waitingFor===lr&&(ar._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new X$2.Abort))}table(cr){const ar=this._memoizedTables||(this._memoizedTables={});if(o(ar,cr))return ar[cr];const or=this.schema[cr];if(!or)throw new X$2.NotFound("Table "+cr+" not part of transaction");const ur=new this.db.Table(cr,or,this);return ur.core=this.db.core.table(cr),ar[cr]=ur,ur}}function un(fr,cr,ar,or,ur,lr,xr){return{name:fr,keyPath:cr,unique:ar,multi:or,auto:ur,compound:lr,src:(ar&&!xr?"&":"")+(or?"*":"")+(ur?"++":"")+ln(cr)}}function ln(fr){return typeof fr=="string"?fr:fr?"["+[].join.call(fr,"+")+"]":""}function cn(fr,cr,ar){return{name:fr,primKey:cr,indexes:ar,mappedClass:null,idxByName:g(ar,or=>[or.name,or])}}let hn=fr=>{try{return fr.only([[]]),hn=()=>[[]],[[]]}catch{return hn=()=>mt,mt}};function dn(fr){return fr==null?()=>{}:typeof fr=="string"?function(cr){return cr.split(".").length===1?or=>or[cr]:or=>b$1(or,cr)}(fr):cr=>b$1(cr,fr)}function fn(fr){return[].slice.call(fr)}let pn=0;function yn(fr){return fr==null?":id":typeof fr=="string"?fr:`[${fr.join("+")}]`}function mn(fr,cr,ar){function or(br){if(br.type===3)return null;if(br.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:mr,upper:_r,lowerOpen:vr,upperOpen:Er}=br;return mr===void 0?_r===void 0?null:cr.upperBound(_r,!!Er):_r===void 0?cr.lowerBound(mr,!!vr):cr.bound(mr,_r,!!vr,!!Er)}const{schema:ur,hasGetAll:lr}=function(br,mr){const _r=fn(br.objectStoreNames);return{schema:{name:br.name,tables:_r.map(vr=>mr.objectStore(vr)).map(vr=>{const{keyPath:Er,autoIncrement:yr}=vr,Ir=n$1(Er),Ar=Er==null,kr={},Or={name:vr.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:Ar,compound:Ir,keyPath:Er,autoIncrement:yr,unique:!0,extractKey:dn(Er)},indexes:fn(vr.indexNames).map(Dr=>vr.index(Dr)).map(Dr=>{const{name:Rr,unique:Fr,multiEntry:Lr,keyPath:Hr}=Dr,Ur={name:Rr,compound:n$1(Hr),keyPath:Hr,unique:Fr,multiEntry:Lr,extractKey:dn(Hr)};return kr[yn(Hr)]=Ur,Ur}),getIndexByKeyPath:Dr=>kr[yn(Dr)]};return kr[":id"]=Or.primaryKey,Er!=null&&(kr[yn(Er)]=Or.primaryKey),Or})},hasGetAll:_r.length>0&&"getAll"in mr.objectStore(_r[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(fr,ar),xr=ur.tables.map(br=>function(mr){const _r=mr.name;return{name:_r,schema:mr,mutate:function({trans:vr,type:Er,keys:yr,values:Ir,range:Ar}){return new Promise((kr,Or)=>{kr=Ye(kr);const Dr=vr.objectStore(_r),Rr=Dr.keyPath==null,Fr=Er==="put"||Er==="add";if(!Fr&&Er!=="delete"&&Er!=="deleteRange")throw new Error("Invalid operation type: "+Er);const{length:Lr}=yr||Ir||{length:1};if(yr&&Ir&&yr.length!==Ir.length)throw new Error("Given keys array must have same length as given values array.");if(Lr===0)return kr({numFailures:0,failures:{},results:[],lastResult:void 0});let Hr;const Ur=[],Zr=[];let Yr=0;const jr=Wr=>{++Yr,nn(Wr)};if(Er==="deleteRange"){if(Ar.type===4)return kr({numFailures:Yr,failures:Zr,results:[],lastResult:void 0});Ar.type===3?Ur.push(Hr=Dr.clear()):Ur.push(Hr=Dr.delete(or(Ar)))}else{const[Wr,ni]=Fr?Rr?[Ir,yr]:[Ir,null]:[yr,null];if(Fr)for(let Mr=0;Mr<Lr;++Mr)Ur.push(Hr=ni&&ni[Mr]!==void 0?Dr[Er](Wr[Mr],ni[Mr]):Dr[Er](Wr[Mr])),Hr.onerror=jr;else for(let Mr=0;Mr<Lr;++Mr)Ur.push(Hr=Dr[Er](Wr[Mr])),Hr.onerror=jr}const Jr=Wr=>{const ni=Wr.target.result;Ur.forEach((Mr,hi)=>Mr.error!=null&&(Zr[hi]=Mr.error)),kr({numFailures:Yr,failures:Zr,results:Er==="delete"?yr:Ur.map(Mr=>Mr.result),lastResult:ni})};Hr.onerror=Wr=>{jr(Wr),Jr(Wr)},Hr.onsuccess=Jr})},getMany:({trans:vr,keys:Er})=>new Promise((yr,Ir)=>{yr=Ye(yr);const Ar=vr.objectStore(_r),kr=Er.length,Or=new Array(kr);let Dr,Rr=0,Fr=0;const Lr=Ur=>{const Zr=Ur.target;Or[Zr._pos]=Zr.result,++Fr===Rr&&yr(Or)},Hr=tn(Ir);for(let Ur=0;Ur<kr;++Ur)Er[Ur]!=null&&(Dr=Ar.get(Er[Ur]),Dr._pos=Ur,Dr.onsuccess=Lr,Dr.onerror=Hr,++Rr);Rr===0&&yr(Or)}),get:({trans:vr,key:Er})=>new Promise((yr,Ir)=>{yr=Ye(yr);const Ar=vr.objectStore(_r).get(Er);Ar.onsuccess=kr=>yr(kr.target.result),Ar.onerror=tn(Ir)}),query:function(vr){return Er=>new Promise((yr,Ir)=>{yr=Ye(yr);const{trans:Ar,values:kr,limit:Or,query:Dr}=Er,Rr=Or===1/0?void 0:Or,{index:Fr,range:Lr}=Dr,Hr=Ar.objectStore(_r),Ur=Fr.isPrimaryKey?Hr:Hr.index(Fr.name),Zr=or(Lr);if(Or===0)return yr({result:[]});if(vr){const Yr=kr?Ur.getAll(Zr,Rr):Ur.getAllKeys(Zr,Rr);Yr.onsuccess=jr=>yr({result:jr.target.result}),Yr.onerror=tn(Ir)}else{let Yr=0;const jr=kr||!("openKeyCursor"in Ur)?Ur.openCursor(Zr):Ur.openKeyCursor(Zr),Jr=[];jr.onsuccess=Wr=>{const ni=jr.result;return ni?(Jr.push(kr?ni.value:ni.primaryKey),++Yr===Or?yr({result:Jr}):void ni.continue()):yr({result:Jr})},jr.onerror=tn(Ir)}})}(lr),openCursor:function({trans:vr,values:Er,query:yr,reverse:Ir,unique:Ar}){return new Promise((kr,Or)=>{kr=Ye(kr);const{index:Dr,range:Rr}=yr,Fr=vr.objectStore(_r),Lr=Dr.isPrimaryKey?Fr:Fr.index(Dr.name),Hr=Ir?Ar?"prevunique":"prev":Ar?"nextunique":"next",Ur=Er||!("openKeyCursor"in Lr)?Lr.openCursor(or(Rr),Hr):Lr.openKeyCursor(or(Rr),Hr);Ur.onerror=tn(Or),Ur.onsuccess=Ye(Zr=>{const Yr=Ur.result;if(!Yr)return void kr(null);Yr.___id=++pn,Yr.done=!1;const jr=Yr.continue.bind(Yr);let Jr=Yr.continuePrimaryKey;Jr&&(Jr=Jr.bind(Yr));const Wr=Yr.advance.bind(Yr),ni=()=>{throw new Error("Cursor not stopped")};Yr.trans=vr,Yr.stop=Yr.continue=Yr.continuePrimaryKey=Yr.advance=()=>{throw new Error("Cursor not started")},Yr.fail=Ye(Or),Yr.next=function(){let Mr=1;return this.start(()=>Mr--?this.continue():this.stop()).then(()=>this)},Yr.start=Mr=>{const hi=new Promise((_i,Fi)=>{_i=Ye(_i),Ur.onerror=tn(Fi),Yr.fail=Fi,Yr.stop=si=>{Yr.stop=Yr.continue=Yr.continuePrimaryKey=Yr.advance=ni,_i(si)}}),Ei=()=>{if(Ur.result)try{Mr()}catch(_i){Yr.fail(_i)}else Yr.done=!0,Yr.start=()=>{throw new Error("Cursor behind last entry")},Yr.stop()};return Ur.onsuccess=Ye(_i=>{Ur.onsuccess=Ei,Ei()}),Yr.continue=jr,Yr.continuePrimaryKey=Jr,Yr.advance=Wr,Ei(),hi},kr(Yr)},Or)})},count({query:vr,trans:Er}){const{index:yr,range:Ir}=vr;return new Promise((Ar,kr)=>{const Or=Er.objectStore(_r),Dr=yr.isPrimaryKey?Or:Or.index(yr.name),Rr=or(Ir),Fr=Rr?Dr.count(Rr):Dr.count();Fr.onsuccess=Ye(Lr=>Ar(Lr.target.result)),Fr.onerror=tn(kr)})}}}(br)),pr={};return xr.forEach(br=>pr[br.name]=br),{stack:"dbcore",transaction:fr.transaction.bind(fr),table(br){if(!pr[br])throw new Error(`Table '${br}' not found`);return pr[br]},MIN_KEY:-1/0,MAX_KEY:hn(cr),schema:ur}}function vn({_novip:fr},cr){const ar=cr.db,or=function(ur,lr,{IDBKeyRange:xr,indexedDB:pr},br){return{dbcore:function(_r,vr){return vr.reduce((Er,{create:yr})=>({...Er,...yr(Er)}),_r)}(mn(lr,xr,br),ur.dbcore)}}(fr._middlewares,ar,fr._deps,cr);fr.core=or.dbcore,fr.tables.forEach(ur=>{const lr=ur.name;fr.core.schema.tables.some(xr=>xr.name===lr)&&(ur.core=fr.core.table(lr),fr[lr]instanceof fr.Table&&(fr[lr].core=ur.core))})}function gn({_novip:fr},cr,ar,or){ar.forEach(ur=>{const lr=or[ur];cr.forEach(xr=>{const pr=d(xr,ur);(!pr||"value"in pr&&pr.value===void 0)&&(xr===fr.Transaction.prototype||xr instanceof fr.Transaction?l$2(xr,ur,{get(){return this.table(ur)},set(br){u$1(this,ur,{value:br,writable:!0,configurable:!0,enumerable:!0})}}):xr[ur]=new fr.Table(ur,lr))})})}function bn({_novip:fr},cr){cr.forEach(ar=>{for(let or in ar)ar[or]instanceof fr.Table&&delete ar[or]})}function _n(fr,cr){return fr._cfg.version-cr._cfg.version}function wn(fr,cr,ar,or){const ur=fr._dbSchema,lr=fr._createTransaction("readwrite",fr._storeNames,ur);lr.create(ar),lr._completion.catch(or);const xr=lr._reject.bind(lr),pr=Oe.transless||Oe;Ze(()=>{Oe.trans=lr,Oe.transless=pr,cr===0?(t$1(ur).forEach(br=>{kn(ar,br,ur[br].primKey,ur[br].indexes)}),vn(fr,ar),je.follow(()=>fr.on.populate.fire(lr)).catch(xr)):function({_novip:br},mr,_r,vr){const Er=[],yr=br._versions;let Ir=br._dbSchema=Pn(br,br.idbdb,vr),Ar=!1;const kr=yr.filter(Dr=>Dr._cfg.version>=mr);function Or(){return Er.length?je.resolve(Er.shift()(_r.idbtrans)).then(Or):je.resolve()}return kr.forEach(Dr=>{Er.push(()=>{const Rr=Ir,Fr=Dr._cfg.dbschema;Kn(br,Rr,vr),Kn(br,Fr,vr),Ir=br._dbSchema=Fr;const Lr=xn(Rr,Fr);Lr.add.forEach(Ur=>{kn(vr,Ur[0],Ur[1].primKey,Ur[1].indexes)}),Lr.change.forEach(Ur=>{if(Ur.recreate)throw new X$2.Upgrade("Not yet support for changing primary key");{const Zr=vr.objectStore(Ur.name);Ur.add.forEach(Yr=>En(Zr,Yr)),Ur.change.forEach(Yr=>{Zr.deleteIndex(Yr.name),En(Zr,Yr)}),Ur.del.forEach(Yr=>Zr.deleteIndex(Yr))}});const Hr=Dr._cfg.contentUpgrade;if(Hr&&Dr._cfg.version>mr){vn(br,vr),_r._memoizedTables={},Ar=!0;let Ur=w$1(Fr);Lr.del.forEach(Jr=>{Ur[Jr]=Rr[Jr]}),bn(br,[br.Transaction.prototype]),gn(br,[br.Transaction.prototype],t$1(Ur),Ur),_r.schema=Ur;const Zr=T$1(Hr);let Yr;Zr&&et();const jr=je.follow(()=>{if(Yr=Hr(_r),Yr&&Zr){var Jr=tt.bind(null,null);Yr.then(Jr,Jr)}});return Yr&&typeof Yr.then=="function"?je.resolve(Yr):jr.then(()=>Yr)}}),Er.push(Rr=>{(!Ar||!xt)&&function(Fr,Lr){[].slice.call(Lr.db.objectStoreNames).forEach(Hr=>Fr[Hr]==null&&Lr.db.deleteObjectStore(Hr))}(Dr._cfg.dbschema,Rr),bn(br,[br.Transaction.prototype]),gn(br,[br.Transaction.prototype],br._storeNames,br._dbSchema),_r.schema=br._dbSchema})}),Or().then(()=>{var Dr,Rr;Rr=vr,t$1(Dr=Ir).forEach(Fr=>{Rr.db.objectStoreNames.contains(Fr)||kn(Rr,Fr,Dr[Fr].primKey,Dr[Fr].indexes)})})}(fr,cr,lr,ar).catch(xr)})}function xn(fr,cr){const ar={del:[],add:[],change:[]};let or;for(or in fr)cr[or]||ar.del.push(or);for(or in cr){const ur=fr[or],lr=cr[or];if(ur){const xr={name:or,def:lr,recreate:!1,del:[],add:[],change:[]};if(""+(ur.primKey.keyPath||"")!=""+(lr.primKey.keyPath||"")||ur.primKey.auto!==lr.primKey.auto&&!wt)xr.recreate=!0,ar.change.push(xr);else{const pr=ur.idxByName,br=lr.idxByName;let mr;for(mr in pr)br[mr]||xr.del.push(mr);for(mr in br){const _r=pr[mr],vr=br[mr];_r?_r.src!==vr.src&&xr.change.push(vr):xr.add.push(vr)}(xr.del.length>0||xr.add.length>0||xr.change.length>0)&&ar.change.push(xr)}}else ar.add.push([or,lr])}return ar}function kn(fr,cr,ar,or){const ur=fr.db.createObjectStore(cr,ar.keyPath?{keyPath:ar.keyPath,autoIncrement:ar.auto}:{autoIncrement:ar.auto});return or.forEach(lr=>En(ur,lr)),ur}function En(fr,cr){fr.createIndex(cr.name,cr.keyPath,{unique:cr.unique,multiEntry:cr.multi})}function Pn(fr,cr,ar){const or={};return p$1(cr.objectStoreNames,0).forEach(ur=>{const lr=ar.objectStore(ur);let xr=lr.keyPath;const pr=un(ln(xr),xr||"",!1,!1,!!lr.autoIncrement,xr&&typeof xr!="string",!0),br=[];for(let _r=0;_r<lr.indexNames.length;++_r){const vr=lr.index(lr.indexNames[_r]);xr=vr.keyPath;var mr=un(vr.name,xr,!!vr.unique,!!vr.multiEntry,!1,xr&&typeof xr!="string",!1);br.push(mr)}or[ur]=cn(ur,pr,br)}),or}function Kn({_novip:fr},cr,ar){const or=ar.db.objectStoreNames;for(let ur=0;ur<or.length;++ur){const lr=or[ur],xr=ar.objectStore(lr);fr._hasGetAll="getAll"in xr;for(let pr=0;pr<xr.indexNames.length;++pr){const br=xr.indexNames[pr],mr=xr.index(br).keyPath,_r=typeof mr=="string"?mr:"["+p$1(mr).join("+")+"]";if(cr[lr]){const vr=cr[lr].idxByName[_r];vr&&(vr.name=br,delete cr[lr].idxByName[_r],cr[lr].idxByName[br]=vr)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&e.WorkerGlobalScope&&e instanceof e.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(fr._hasGetAll=!1)}class On{_parseStoresSpec(cr,ar){t$1(cr).forEach(or=>{if(cr[or]!==null){var ur=cr[or].split(",").map((xr,pr)=>{const br=(xr=xr.trim()).replace(/([&*]|\+\+)/g,""),mr=/^\[/.test(br)?br.match(/^\[(.*)\]$/)[1].split("+"):br;return un(br,mr||null,/\&/.test(xr),/\*/.test(xr),/\+\+/.test(xr),n$1(mr),pr===0)}),lr=ur.shift();if(lr.multi)throw new X$2.Schema("Primary key cannot be multi-valued");ur.forEach(xr=>{if(xr.auto)throw new X$2.Schema("Only primary key can be marked as autoIncrement (++)");if(!xr.keyPath)throw new X$2.Schema("Index must have a name and cannot be an empty string")}),ar[or]=cn(or,lr,ur)}})}stores(cr){const ar=this.db;this._cfg.storesSource=this._cfg.storesSource?r$1(this._cfg.storesSource,cr):cr;const or=ar._versions,ur={};let lr={};return or.forEach(xr=>{r$1(ur,xr._cfg.storesSource),lr=xr._cfg.dbschema={},xr._parseStoresSpec(ur,lr)}),ar._dbSchema=lr,bn(ar,[ar._allTables,ar,ar.Transaction.prototype]),gn(ar,[ar._allTables,ar,ar.Transaction.prototype,this._cfg.tables],t$1(lr),lr),ar._storeNames=t$1(lr),this}upgrade(cr){return this._cfg.contentUpgrade=ue$1(this._cfg.contentUpgrade||ee$1,cr),this}}function Sn(fr,cr){let ar=fr._dbNamesDB;return ar||(ar=fr._dbNamesDB=new Xn(Pt,{addons:[],indexedDB:fr,IDBKeyRange:cr}),ar.version(1).stores({dbnames:"name"})),ar.table("dbnames")}function An(fr){return fr&&typeof fr.databases=="function"}function Cn(fr){return Ze(function(){return Oe.letThrough=!0,fr()})}function jn(){var fr;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(cr){var ar=function(){return indexedDB.databases().finally(cr)};fr=setInterval(ar,100),ar()}).finally(function(){return clearInterval(fr)}):Promise.resolve()}function Dn(fr){const cr=fr._state,{indexedDB:ar}=fr._deps;if(cr.isBeingOpened||fr.idbdb)return cr.dbReadyPromise.then(()=>cr.dbOpenError?ft(cr.dbOpenError):fr);R$2&&(cr.openCanceller._stackHolder=q$1()),cr.isBeingOpened=!0,cr.dbOpenError=null,cr.openComplete=!1;const or=cr.openCanceller;function ur(){if(cr.openCanceller!==or)throw new X$2.DatabaseClosed("db.open() was cancelled")}let lr=cr.dbReadyResolve,xr=null,pr=!1;const br=()=>new je((mr,_r)=>{if(ur(),!ar)throw new X$2.MissingAPI;const vr=fr.name,Er=cr.autoSchema?ar.open(vr):ar.open(vr,Math.round(10*fr.verno));if(!Er)throw new X$2.MissingAPI;Er.onerror=tn(_r),Er.onblocked=Ye(fr._fireOnBlocked),Er.onupgradeneeded=Ye(yr=>{if(xr=Er.transaction,cr.autoSchema&&!fr._options.allowEmptyDB){Er.onerror=nn,xr.abort(),Er.result.close();const Ar=ar.deleteDatabase(vr);Ar.onsuccess=Ar.onerror=Ye(()=>{_r(new X$2.NoSuchDatabase(`Database ${vr} doesnt exist`))})}else{xr.onerror=tn(_r);var Ir=yr.oldVersion>Math.pow(2,62)?0:yr.oldVersion;pr=Ir<1,fr._novip.idbdb=Er.result,wn(fr,Ir/10,xr,_r)}},_r),Er.onsuccess=Ye(()=>{xr=null;const yr=fr._novip.idbdb=Er.result,Ir=p$1(yr.objectStoreNames);if(Ir.length>0)try{const kr=yr.transaction((Ar=Ir).length===1?Ar[0]:Ar,"readonly");cr.autoSchema?function({_novip:Or},Dr,Rr){Or.verno=Dr.version/10;const Fr=Or._dbSchema=Pn(0,Dr,Rr);Or._storeNames=p$1(Dr.objectStoreNames,0),gn(Or,[Or._allTables],t$1(Fr),Fr)}(fr,yr,kr):(Kn(fr,fr._dbSchema,kr),function(Or,Dr){const Rr=xn(Pn(0,Or.idbdb,Dr),Or._dbSchema);return!(Rr.add.length||Rr.change.some(Fr=>Fr.add.length||Fr.change.length))}(fr,kr)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),vn(fr,kr)}catch{}var Ar;_t.push(fr),yr.onversionchange=Ye(kr=>{cr.vcFired=!0,fr.on("versionchange").fire(kr)}),yr.onclose=Ye(kr=>{fr.on("close").fire(kr)}),pr&&function({indexedDB:kr,IDBKeyRange:Or},Dr){!An(kr)&&Dr!==Pt&&Sn(kr,Or).put({name:Dr}).catch(ee$1)}(fr._deps,vr),mr()},_r)}).catch(mr=>mr&&mr.name==="UnknownError"&&cr.PR1398_maxLoop>0?(cr.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),br()):je.reject(mr));return je.race([or,(typeof navigator>"u"?je.resolve():jn()).then(br)]).then(()=>(ur(),cr.onReadyBeingFired=[],je.resolve(Cn(()=>fr.on.ready.fire(fr.vip))).then(function mr(){if(cr.onReadyBeingFired.length>0){let _r=cr.onReadyBeingFired.reduce(ue$1,ee$1);return cr.onReadyBeingFired=[],je.resolve(Cn(()=>_r(fr.vip))).then(mr)}}))).finally(()=>{cr.onReadyBeingFired=null,cr.isBeingOpened=!1}).then(()=>fr).catch(mr=>{cr.dbOpenError=mr;try{xr&&xr.abort()}catch{}return or===cr.openCanceller&&fr._close(),ft(mr)}).finally(()=>{cr.openComplete=!0,lr()})}function In(fr){var cr=lr=>fr.next(lr),ar=ur(cr),or=ur(lr=>fr.throw(lr));function ur(lr){return xr=>{var pr=lr(xr),br=pr.value;return pr.done?br:br&&typeof br.then=="function"?br.then(ar,or):n$1(br)?Promise.all(br).then(ar,or):ar(br)}}return ur(cr)()}function Bn(fr,cr,ar){var or=arguments.length;if(or<2)throw new X$2.InvalidArgument("Too few arguments");for(var ur=new Array(or-1);--or;)ur[or-1]=arguments[or];return ar=ur.pop(),[fr,k(ur),ar]}function Tn(fr,cr,ar,or,ur){return je.resolve().then(()=>{const lr=Oe.transless||Oe,xr=fr._createTransaction(cr,ar,fr._dbSchema,or),pr={trans:xr,transless:lr};if(or)xr.idbtrans=or.idbtrans;else try{xr.create(),fr._state.PR1398_maxLoop=3}catch(vr){return vr.name===H$1.InvalidState&&fr.isOpen()&&--fr._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),fr._close(),fr.open().then(()=>Tn(fr,cr,ar,null,ur))):ft(vr)}const br=T$1(ur);let mr;br&&et();const _r=je.follow(()=>{if(mr=ur.call(xr,xr),mr)if(br){var vr=tt.bind(null,null);mr.then(vr,vr)}else typeof mr.next=="function"&&typeof mr.throw=="function"&&(mr=In(mr))},pr);return(mr&&typeof mr.then=="function"?je.resolve(mr).then(vr=>xr.active?vr:ft(new X$2.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):_r.then(()=>mr)).then(vr=>(or&&xr._resolve(),xr._completion.then(()=>vr))).catch(vr=>(xr._reject(vr),ft(vr)))})}function Rn(fr,cr,ar){const or=n$1(fr)?fr.slice():[fr];for(let ur=0;ur<ar;++ur)or.push(cr);return or}const Fn={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(fr){return{...fr,table(cr){const ar=fr.table(cr),{schema:or}=ar,ur={},lr=[];function xr(_r,vr,Er){const yr=yn(_r),Ir=ur[yr]=ur[yr]||[],Ar=_r==null?0:typeof _r=="string"?1:_r.length,kr=vr>0,Or={...Er,isVirtual:kr,keyTail:vr,keyLength:Ar,extractKey:dn(_r),unique:!kr&&Er.unique};return Ir.push(Or),Or.isPrimaryKey||lr.push(Or),Ar>1&&xr(Ar===2?_r[0]:_r.slice(0,Ar-1),vr+1,Er),Ir.sort((Dr,Rr)=>Dr.keyTail-Rr.keyTail),Or}const pr=xr(or.primaryKey.keyPath,0,or.primaryKey);ur[":id"]=[pr];for(const _r of or.indexes)xr(_r.keyPath,0,_r);function br(_r){const vr=_r.query.index;return vr.isVirtual?{..._r,query:{index:vr,range:(Er=_r.query.range,yr=vr.keyTail,{type:Er.type===1?2:Er.type,lower:Rn(Er.lower,Er.lowerOpen?fr.MAX_KEY:fr.MIN_KEY,yr),lowerOpen:!0,upper:Rn(Er.upper,Er.upperOpen?fr.MIN_KEY:fr.MAX_KEY,yr),upperOpen:!0})}}:_r;var Er,yr}return{...ar,schema:{...or,primaryKey:pr,indexes:lr,getIndexByKeyPath:function(_r){const vr=ur[yn(_r)];return vr&&vr[0]}},count:_r=>ar.count(br(_r)),query:_r=>ar.query(br(_r)),openCursor(_r){const{keyTail:vr,isVirtual:Er,keyLength:yr}=_r.query.index;return Er?ar.openCursor(br(_r)).then(Ir=>Ir&&function(Ar){return Object.create(Ar,{continue:{value:function(Or){Or!=null?Ar.continue(Rn(Or,_r.reverse?fr.MAX_KEY:fr.MIN_KEY,vr)):_r.unique?Ar.continue(Ar.key.slice(0,yr).concat(_r.reverse?fr.MIN_KEY:fr.MAX_KEY,vr)):Ar.continue()}},continuePrimaryKey:{value(Or,Dr){Ar.continuePrimaryKey(Rn(Or,fr.MAX_KEY,vr),Dr)}},primaryKey:{get:()=>Ar.primaryKey},key:{get(){const Or=Ar.key;return yr===1?Or[0]:Or.slice(0,yr)}},value:{get:()=>Ar.value}})}(Ir)):ar.openCursor(_r)}}}}}};function Mn(fr,cr,ar,or){return ar=ar||{},or=or||"",t$1(fr).forEach(ur=>{if(o(cr,ur)){var lr=fr[ur],xr=cr[ur];if(typeof lr=="object"&&typeof xr=="object"&&lr&&xr){const pr=C$1(lr);pr!==C$1(xr)?ar[or+ur]=cr[ur]:pr==="Object"?Mn(lr,xr,ar,or+ur+"."):lr!==xr&&(ar[or+ur]=cr[ur])}else lr!==xr&&(ar[or+ur]=cr[ur])}else ar[or+ur]=void 0}),t$1(cr).forEach(ur=>{o(fr,ur)||(ar[or+ur]=cr[ur])}),ar}const Nn={stack:"dbcore",name:"HooksMiddleware",level:2,create:fr=>({...fr,table(cr){const ar=fr.table(cr),{primaryKey:or}=ar.schema;return{...ar,mutate(lr){const xr=Oe.trans,{deleting:pr,creating:br,updating:mr}=xr.table(cr).hook;switch(lr.type){case"add":if(br.fire===ee$1)break;return xr._promise("readwrite",()=>_r(lr),!0);case"put":if(br.fire===ee$1&&mr.fire===ee$1)break;return xr._promise("readwrite",()=>_r(lr),!0);case"delete":if(pr.fire===ee$1)break;return xr._promise("readwrite",()=>_r(lr),!0);case"deleteRange":if(pr.fire===ee$1)break;return xr._promise("readwrite",()=>function(Er){return vr(Er.trans,Er.range,1e4)}(lr),!0)}return ar.mutate(lr);function _r(Er){const yr=Oe.trans,Ir=Er.keys||function(Ar,kr){return kr.type==="delete"?kr.keys:kr.keys||kr.values.map(Ar.extractKey)}(or,Er);if(!Ir)throw new Error("Keys missing");return(Er=Er.type==="add"||Er.type==="put"?{...Er,keys:Ir}:{...Er}).type!=="delete"&&(Er.values=[...Er.values]),Er.keys&&(Er.keys=[...Er.keys]),function(Ar,kr,Or){return kr.type==="add"?Promise.resolve([]):Ar.getMany({trans:kr.trans,keys:Or,cache:"immutable"})}(ar,Er,Ir).then(Ar=>{const kr=Ir.map((Or,Dr)=>{const Rr=Ar[Dr],Fr={onerror:null,onsuccess:null};if(Er.type==="delete")pr.fire.call(Fr,Or,Rr,yr);else if(Er.type==="add"||Rr===void 0){const Lr=br.fire.call(Fr,Or,Er.values[Dr],yr);Or==null&&Lr!=null&&(Or=Lr,Er.keys[Dr]=Or,or.outbound||_(Er.values[Dr],or.keyPath,Or))}else{const Lr=Mn(Rr,Er.values[Dr]),Hr=mr.fire.call(Fr,Lr,Or,Rr,yr);if(Hr){const Ur=Er.values[Dr];Object.keys(Hr).forEach(Zr=>{o(Ur,Zr)?Ur[Zr]=Hr[Zr]:_(Ur,Zr,Hr[Zr])})}}return Fr});return ar.mutate(Er).then(({failures:Or,results:Dr,numFailures:Rr,lastResult:Fr})=>{for(let Lr=0;Lr<Ir.length;++Lr){const Hr=Dr?Dr[Lr]:Ir[Lr],Ur=kr[Lr];Hr==null?Ur.onerror&&Ur.onerror(Or[Lr]):Ur.onsuccess&&Ur.onsuccess(Er.type==="put"&&Ar[Lr]?Er.values[Lr]:Hr)}return{failures:Or,results:Dr,numFailures:Rr,lastResult:Fr}}).catch(Or=>(kr.forEach(Dr=>Dr.onerror&&Dr.onerror(Or)),Promise.reject(Or)))})}function vr(Er,yr,Ir){return ar.query({trans:Er,values:!1,query:{index:or,range:yr},limit:Ir}).then(({result:Ar})=>_r({type:"delete",keys:Ar,trans:Er}).then(kr=>kr.numFailures>0?Promise.reject(kr.failures[0]):Ar.length<Ir?{failures:[],numFailures:0,lastResult:void 0}:vr(Er,{...yr,lower:Ar[Ar.length-1],lowerOpen:!0},Ir)))}}}}})};function qn(fr,cr,ar){try{if(!cr||cr.keys.length<fr.length)return null;const or=[];for(let ur=0,lr=0;ur<cr.keys.length&&lr<fr.length;++ur)$t(cr.keys[ur],fr[lr])===0&&(or.push(ar?O$2(cr.values[ur]):cr.values[ur]),++lr);return or.length===fr.length?or:null}catch{return null}}const $n={stack:"dbcore",level:-1,create:fr=>({table:cr=>{const ar=fr.table(cr);return{...ar,getMany:or=>{if(!or.cache)return ar.getMany(or);const ur=qn(or.keys,or.trans._cache,or.cache==="clone");return ur?je.resolve(ur):ar.getMany(or).then(lr=>(or.trans._cache={keys:or.keys,values:or.cache==="clone"?O$2(lr):lr},lr))},mutate:or=>(or.type!=="add"&&(or.trans._cache=null),ar.mutate(or))}}})};function Un(fr){return!("from"in fr)}const Ln=function(fr,cr){if(!this){const ar=new Ln;return fr&&"d"in fr&&r$1(ar,fr),ar}r$1(this,arguments.length?{d:1,from:fr,to:arguments.length>1?cr:fr}:{d:0})};function Vn(fr,cr,ar){const or=$t(cr,ar);if(isNaN(or))return;if(or>0)throw RangeError();if(Un(fr))return r$1(fr,{from:cr,to:ar,d:1});const ur=fr.l,lr=fr.r;if($t(ar,fr.from)<0)return ur?Vn(ur,cr,ar):fr.l={from:cr,to:ar,d:1,l:null,r:null},Gn(fr);if($t(cr,fr.to)>0)return lr?Vn(lr,cr,ar):fr.r={from:cr,to:ar,d:1,l:null,r:null},Gn(fr);$t(cr,fr.from)<0&&(fr.from=cr,fr.l=null,fr.d=lr?lr.d+1:1),$t(ar,fr.to)>0&&(fr.to=ar,fr.r=null,fr.d=fr.l?fr.l.d+1:1);const xr=!fr.r;ur&&!fr.l&&Wn(fr,ur),lr&&xr&&Wn(fr,lr)}function Wn(fr,cr){Un(cr)||function ar(or,{from:ur,to:lr,l:xr,r:pr}){Vn(or,ur,lr),xr&&ar(or,xr),pr&&ar(or,pr)}(fr,cr)}function Yn(fr,cr){const ar=zn(cr);let or=ar.next();if(or.done)return!1;let ur=or.value;const lr=zn(fr);let xr=lr.next(ur.from),pr=xr.value;for(;!or.done&&!xr.done;){if($t(pr.from,ur.to)<=0&&$t(pr.to,ur.from)>=0)return!0;$t(ur.from,pr.from)<0?ur=(or=ar.next(pr.from)).value:pr=(xr=lr.next(ur.from)).value}return!1}function zn(fr){let cr=Un(fr)?null:{s:0,n:fr};return{next(ar){const or=arguments.length>0;for(;cr;)switch(cr.s){case 0:if(cr.s=1,or)for(;cr.n.l&&$t(ar,cr.n.from)<0;)cr={up:cr,n:cr.n.l,s:1};else for(;cr.n.l;)cr={up:cr,n:cr.n.l,s:1};case 1:if(cr.s=2,!or||$t(ar,cr.n.to)<=0)return{value:cr.n,done:!1};case 2:if(cr.n.r){cr.s=3,cr={up:cr,n:cr.n.r,s:0};continue}case 3:cr=cr.up}return{done:!0}}}}function Gn(fr){var cr,ar;const or=(((cr=fr.r)===null||cr===void 0?void 0:cr.d)||0)-(((ar=fr.l)===null||ar===void 0?void 0:ar.d)||0),ur=or>1?"r":or<-1?"l":"";if(ur){const lr=ur==="r"?"l":"r",xr={...fr},pr=fr[ur];fr.from=pr.from,fr.to=pr.to,fr[ur]=pr[ur],xr[ur]=pr[lr],fr[lr]=xr,xr.d=Hn(xr)}fr.d=Hn(fr)}function Hn({r:fr,l:cr}){return(fr?cr?Math.max(fr.d,cr.d):fr.d:cr?cr.d:0)+1}a$1(Ln.prototype,{add(fr){return Wn(this,fr),this},addKey(fr){return Vn(this,fr,fr),this},addKeys(fr){return fr.forEach(cr=>Vn(this,cr,cr)),this},[j$1](){return zn(this)}});const Qn={stack:"dbcore",level:0,create:fr=>{const cr=fr.schema.name,ar=new Ln(fr.MIN_KEY,fr.MAX_KEY);return{...fr,table:or=>{const ur=fr.table(or),{schema:lr}=ur,{primaryKey:xr}=lr,{extractKey:pr,outbound:br}=xr,mr={...ur,mutate:Er=>{const yr=Er.trans,Ir=yr.mutatedParts||(yr.mutatedParts={}),Ar=Hr=>{const Ur=`idb://${cr}/${or}/${Hr}`;return Ir[Ur]||(Ir[Ur]=new Ln)},kr=Ar(""),Or=Ar(":dels"),{type:Dr}=Er;let[Rr,Fr]=Er.type==="deleteRange"?[Er.range]:Er.type==="delete"?[Er.keys]:Er.values.length<50?[[],Er.values]:[];const Lr=Er.trans._cache;return ur.mutate(Er).then(Hr=>{if(n$1(Rr)){Dr!=="delete"&&(Rr=Hr.results),kr.addKeys(Rr);const Ur=qn(Rr,Lr);Ur||Dr==="add"||Or.addKeys(Rr),(Ur||Fr)&&function(Zr,Yr,jr,Jr){function Wr(ni){const Mr=Zr(ni.name||"");function hi(_i){return _i!=null?ni.extractKey(_i):null}const Ei=_i=>ni.multiEntry&&n$1(_i)?_i.forEach(Fi=>Mr.addKey(Fi)):Mr.addKey(_i);(jr||Jr).forEach((_i,Fi)=>{const si=jr&&hi(jr[Fi]),ci=Jr&&hi(Jr[Fi]);$t(si,ci)!==0&&(si!=null&&Ei(si),ci!=null&&Ei(ci))})}Yr.indexes.forEach(Wr)}(Ar,lr,Ur,Fr)}else if(Rr){const Ur={from:Rr.lower,to:Rr.upper};Or.add(Ur),kr.add(Ur)}else kr.add(ar),Or.add(ar),lr.indexes.forEach(Ur=>Ar(Ur.name).add(ar));return Hr})}},_r=({query:{index:Er,range:yr}})=>{var Ir,Ar;return[Er,new Ln((Ir=yr.lower)!==null&&Ir!==void 0?Ir:fr.MIN_KEY,(Ar=yr.upper)!==null&&Ar!==void 0?Ar:fr.MAX_KEY)]},vr={get:Er=>[xr,new Ln(Er.key)],getMany:Er=>[xr,new Ln().addKeys(Er.keys)],count:_r,query:_r,openCursor:_r};return t$1(vr).forEach(Er=>{mr[Er]=function(yr){const{subscr:Ir}=Oe;if(Ir){const Ar=Fr=>{const Lr=`idb://${cr}/${or}/${Fr}`;return Ir[Lr]||(Ir[Lr]=new Ln)},kr=Ar(""),Or=Ar(":dels"),[Dr,Rr]=vr[Er](yr);if(Ar(Dr.name||"").add(Rr),!Dr.isPrimaryKey){if(Er!=="count"){const Fr=Er==="query"&&br&&yr.values&&ur.query({...yr,values:!1});return ur[Er].apply(this,arguments).then(Lr=>{if(Er==="query"){if(br&&yr.values)return Fr.then(({result:Ur})=>(kr.addKeys(Ur),Lr));const Hr=yr.values?Lr.result.map(pr):Lr.result;yr.values?kr.addKeys(Hr):Or.addKeys(Hr)}else if(Er==="openCursor"){const Hr=Lr,Ur=yr.values;return Hr&&Object.create(Hr,{key:{get:()=>(Or.addKey(Hr.primaryKey),Hr.key)},primaryKey:{get(){const Zr=Hr.primaryKey;return Or.addKey(Zr),Zr}},value:{get:()=>(Ur&&kr.addKey(Hr.primaryKey),Hr.value)}})}return Lr})}Or.add(ar)}}return ur[Er].apply(this,arguments)}}),mr}}}};class Xn{constructor(cr,ar){this._middlewares={},this.verno=0;const or=Xn.dependencies;this._options=ar={addons:Xn.addons,autoOpen:!0,indexedDB:or.indexedDB,IDBKeyRange:or.IDBKeyRange,...ar},this._deps={indexedDB:ar.indexedDB,IDBKeyRange:ar.IDBKeyRange};const{addons:ur}=ar;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const lr={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ee$1,dbReadyPromise:null,cancelOpen:ee$1,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var xr;lr.dbReadyPromise=new je(pr=>{lr.dbReadyResolve=pr}),lr.openCanceller=new je((pr,br)=>{lr.cancelOpen=br}),this._state=lr,this.name=cr,this.on=Dt(this,"populate","blocked","versionchange","close",{ready:[ue$1,ee$1]}),this.on.ready.subscribe=y$1(this.on.ready.subscribe,pr=>(br,mr)=>{Xn.vip(()=>{const _r=this._state;if(_r.openComplete)_r.dbOpenError||je.resolve().then(br),mr&&pr(br);else if(_r.onReadyBeingFired)_r.onReadyBeingFired.push(br),mr&&pr(br);else{pr(br);const vr=this;mr||pr(function Er(){vr.on.ready.unsubscribe(br),vr.on.ready.unsubscribe(Er)})}})}),this.Collection=(xr=this,It(Vt.prototype,function(pr,br){this.db=xr;let mr=At,_r=null;if(br)try{mr=br()}catch(Ir){_r=Ir}const vr=pr._ctx,Er=vr.table,yr=Er.hook.reading.fire;this._ctx={table:Er,index:vr.index,isPrimKey:!vr.index||Er.schema.primKey.keyPath&&vr.index===Er.schema.primKey.name,range:mr,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:_r,or:vr.or,valueMapper:yr!==te$1?yr:null}})),this.Table=function(pr){return It(jt.prototype,function(br,mr,_r){this.db=pr,this._tx=_r,this.name=br,this.schema=mr,this.hook=pr._allTables[br]?pr._allTables[br].hook:Dt(null,{creating:[se$1,ee$1],reading:[ne,te$1],updating:[oe$1,ee$1],deleting:[ie$1,ee$1]})})}(this),this.Transaction=function(pr){return It(an.prototype,function(br,mr,_r,vr,Er){this.db=pr,this.mode=br,this.storeNames=mr,this.schema=_r,this.chromeTransactionDurability=vr,this.idbtrans=null,this.on=Dt(this,"complete","error","abort"),this.parent=Er||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new je((yr,Ir)=>{this._resolve=yr,this._reject=Ir}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},yr=>{var Ir=this.active;return this.active=!1,this.on.error.fire(yr),this.parent?this.parent._reject(yr):Ir&&this.idbtrans&&this.idbtrans.abort(),ft(yr)})})}(this),this.Version=function(pr){return It(On.prototype,function(br){this.db=pr,this._cfg={version:br,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(pr){return It(en.prototype,function(br,mr,_r){this.db=pr,this._ctx={table:br,index:mr===":id"?null:mr,or:_r};const vr=pr._deps.indexedDB;if(!vr)throw new X$2.MissingAPI;this._cmp=this._ascending=vr.cmp.bind(vr),this._descending=(Er,yr)=>vr.cmp(yr,Er),this._max=(Er,yr)=>vr.cmp(Er,yr)>0?Er:yr,this._min=(Er,yr)=>vr.cmp(Er,yr)<0?Er:yr,this._IDBKeyRange=pr._deps.IDBKeyRange})}(this),this.on("versionchange",pr=>{pr.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",pr=>{!pr.newVersion||pr.newVersion<pr.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${pr.oldVersion/10}`)}),this._maxKey=hn(ar.IDBKeyRange),this._createTransaction=(pr,br,mr,_r)=>new this.Transaction(pr,br,mr,this._options.chromeTransactionDurability,_r),this._fireOnBlocked=pr=>{this.on("blocked").fire(pr),_t.filter(br=>br.name===this.name&&br!==this&&!br._state.vcFired).map(br=>br.on("versionchange").fire(pr))},this.use(Fn),this.use(Nn),this.use(Qn),this.use($n),this.vip=Object.create(this,{_vip:{value:!0}}),ur.forEach(pr=>pr(this))}version(cr){if(isNaN(cr)||cr<.1)throw new X$2.Type("Given version is not a positive number");if(cr=Math.round(10*cr)/10,this.idbdb||this._state.isBeingOpened)throw new X$2.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,cr);const ar=this._versions;var or=ar.filter(ur=>ur._cfg.version===cr)[0];return or||(or=new this.Version(cr),ar.push(or),ar.sort(_n),or.stores({}),this._state.autoSchema=!1,or)}_whenReady(cr){return this.idbdb&&(this._state.openComplete||Oe.letThrough||this._vip)?cr():new je((ar,or)=>{if(this._state.openComplete)return or(new X$2.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void or(new X$2.DatabaseClosed);this.open().catch(ee$1)}this._state.dbReadyPromise.then(ar,or)}).then(cr)}use({stack:cr,create:ar,level:or,name:ur}){ur&&this.unuse({stack:cr,name:ur});const lr=this._middlewares[cr]||(this._middlewares[cr]=[]);return lr.push({stack:cr,create:ar,level:or??10,name:ur}),lr.sort((xr,pr)=>xr.level-pr.level),this}unuse({stack:cr,name:ar,create:or}){return cr&&this._middlewares[cr]&&(this._middlewares[cr]=this._middlewares[cr].filter(ur=>or?ur.create!==or:!!ar&&ur.name!==ar)),this}open(){return Dn(this)}_close(){const cr=this._state,ar=_t.indexOf(this);if(ar>=0&&_t.splice(ar,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}cr.dbReadyPromise=new je(or=>{cr.dbReadyResolve=or}),cr.openCanceller=new je((or,ur)=>{cr.cancelOpen=ur})}close(){this._close();const cr=this._state;this._options.autoOpen=!1,cr.dbOpenError=new X$2.DatabaseClosed,cr.isBeingOpened&&cr.cancelOpen(cr.dbOpenError)}delete(){const cr=arguments.length>0,ar=this._state;return new je((or,ur)=>{const lr=()=>{this.close();var xr=this._deps.indexedDB.deleteDatabase(this.name);xr.onsuccess=Ye(()=>{(function({indexedDB:pr,IDBKeyRange:br},mr){!An(pr)&&mr!==Pt&&Sn(pr,br).delete(mr).catch(ee$1)})(this._deps,this.name),or()}),xr.onerror=tn(ur),xr.onblocked=this._fireOnBlocked};if(cr)throw new X$2.InvalidArgument("Arguments not allowed in db.delete()");ar.isBeingOpened?ar.dbReadyPromise.then(lr):lr()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const cr=this._state.dbOpenError;return cr&&cr.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return t$1(this._allTables).map(cr=>this._allTables[cr])}transaction(){const cr=Bn.apply(this,arguments);return this._transaction.apply(this,cr)}_transaction(cr,ar,or){let ur=Oe.trans;ur&&ur.db===this&&cr.indexOf("!")===-1||(ur=null);const lr=cr.indexOf("?")!==-1;let xr,pr;cr=cr.replace("!","").replace("?","");try{if(pr=ar.map(mr=>{var _r=mr instanceof this.Table?mr.name:mr;if(typeof _r!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return _r}),cr=="r"||cr===Kt)xr=Kt;else{if(cr!="rw"&&cr!=Ot)throw new X$2.InvalidArgument("Invalid transaction mode: "+cr);xr=Ot}if(ur){if(ur.mode===Kt&&xr===Ot){if(!lr)throw new X$2.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");ur=null}ur&&pr.forEach(mr=>{if(ur&&ur.storeNames.indexOf(mr)===-1){if(!lr)throw new X$2.SubTransaction("Table "+mr+" not included in parent transaction.");ur=null}}),lr&&ur&&!ur.active&&(ur=null)}}catch(mr){return ur?ur._promise(null,(_r,vr)=>{vr(mr)}):ft(mr)}const br=Tn.bind(null,this,xr,pr,ur,or);return ur?ur._promise(xr,br,"lock"):Oe.trans?at(Oe.transless,()=>this._whenReady(br)):this._whenReady(br)}table(cr){if(!o(this._allTables,cr))throw new X$2.InvalidTable(`Table ${cr} does not exist`);return this._allTables[cr]}}const Jn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class Zn{constructor(cr){this._subscribe=cr}subscribe(cr,ar,or){return this._subscribe(cr&&typeof cr!="function"?cr:{next:cr,error:ar,complete:or})}[Jn](){return this}}function er(fr,cr){return t$1(cr).forEach(ar=>{Wn(fr[ar]||(fr[ar]=new Ln),cr[ar])}),fr}function tr(fr){let cr,ar=!1;const or=new Zn(ur=>{const lr=T$1(fr);let xr=!1,pr={},br={};const mr={get closed(){return xr},unsubscribe:()=>{xr=!0,on.storagemutated.unsubscribe(yr)}};ur.start&&ur.start(mr);let _r=!1,vr=!1;function Er(){return t$1(br).some(Ar=>pr[Ar]&&Yn(pr[Ar],br[Ar]))}const yr=Ar=>{er(pr,Ar),Er()&&Ir()},Ir=()=>{if(_r||xr)return;pr={};const Ar={},kr=function(Or){lr&&et();const Dr=()=>Ze(fr,{subscr:Or,trans:null}),Rr=Oe.trans?at(Oe.transless,Dr):Dr();return lr&&Rr.then(tt,tt),Rr}(Ar);vr||(on(rn,yr),vr=!0),_r=!0,Promise.resolve(kr).then(Or=>{ar=!0,cr=Or,_r=!1,xr||(Er()?Ir():(pr={},br=Ar,ur.next&&ur.next(Or)))},Or=>{_r=!1,ar=!1,ur.error&&ur.error(Or),mr.unsubscribe()})};return Ir(),mr});return or.hasValue=()=>ar,or.getValue=()=>cr,or}let nr;try{nr={indexedDB:e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB,IDBKeyRange:e.IDBKeyRange||e.webkitIDBKeyRange}}catch{nr={indexedDB:null,IDBKeyRange:null}}const rr=Xn;function sr(fr){let cr=ir;try{ir=!0,on.storagemutated.fire(fr)}finally{ir=cr}}a$1(rr,{...Z$1,delete:fr=>new rr(fr,{addons:[]}).delete(),exists:fr=>new rr(fr,{addons:[]}).open().then(cr=>(cr.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(fr){try{return function({indexedDB:cr,IDBKeyRange:ar}){return An(cr)?Promise.resolve(cr.databases()).then(or=>or.map(ur=>ur.name).filter(ur=>ur!==Pt)):Sn(cr,ar).toCollection().primaryKeys()}(rr.dependencies).then(fr)}catch{return ft(new X$2.MissingAPI)}},defineClass:()=>function(fr){r$1(this,fr)},ignoreTransaction:fr=>Oe.trans?at(Oe.transless,fr):fr(),vip:Cn,async:function(fr){return function(){try{var cr=In(fr.apply(this,arguments));return cr&&typeof cr.then=="function"?cr:je.resolve(cr)}catch(ar){return ft(ar)}}},spawn:function(fr,cr,ar){try{var or=In(fr.apply(ar,cr||[]));return or&&typeof or.then=="function"?or:je.resolve(or)}catch(ur){return ft(ur)}},currentTransaction:{get:()=>Oe.trans||null},waitFor:function(fr,cr){const ar=je.resolve(typeof fr=="function"?rr.ignoreTransaction(fr):fr).timeout(cr||6e4);return Oe.trans?Oe.trans.waitFor(ar):ar},Promise:je,debug:{get:()=>R$2,set:fr=>{F$2(fr,fr==="dexie"?()=>!0:Et)}},derive:c,extend:r$1,props:a$1,override:y$1,Events:Dt,on,liveQuery:tr,extendObservabilitySet:er,getByKeyPath:b$1,setByKeyPath:_,delByKeyPath:function(fr,cr){typeof cr=="string"?_(fr,cr,void 0):"length"in cr&&[].map.call(cr,function(ar){_(fr,ar,void 0)})},shallowClone:w$1,deepClone:O$2,getObjectDiff:Mn,cmp:$t,asap:v$1,minKey:vt,addons:[],connections:_t,errnames:H$1,dependencies:nr,semVer:yt,version:yt.split(".").map(fr=>parseInt(fr)).reduce((fr,cr,ar)=>fr+cr/Math.pow(10,2*ar))}),rr.maxKey=hn(rr.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(on(rn,fr=>{if(!ir){let cr;wt?(cr=document.createEvent("CustomEvent"),cr.initCustomEvent(sn,!0,!0,fr)):cr=new CustomEvent(sn,{detail:fr}),ir=!0,dispatchEvent(cr),ir=!1}}),addEventListener(sn,({detail:fr})=>{ir||sr(fr)}));let ir=!1;if(typeof BroadcastChannel<"u"){const fr=new BroadcastChannel(sn);typeof fr.unref=="function"&&fr.unref(),on(rn,cr=>{ir||fr.postMessage(cr)}),fr.onmessage=cr=>{cr.data&&sr(cr.data)}}else if(typeof self<"u"&&typeof navigator<"u"){on(rn,cr=>{try{ir||(typeof localStorage<"u"&&localStorage.setItem(sn,JSON.stringify({trig:Math.random(),changedParts:cr})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(ar=>ar.postMessage({type:sn,changedParts:cr})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",cr=>{if(cr.key===sn){const ar=JSON.parse(cr.newValue);ar&&sr(ar.changedParts)}});const fr=self.document&&navigator.serviceWorker;fr&&fr.addEventListener("message",function({data:cr}){cr&&cr.type===sn&&sr(cr.changedParts)})}je.rejectionMapper=function(fr,cr){if(!fr||fr instanceof W$2||fr instanceof TypeError||fr instanceof SyntaxError||!fr.name||!J$2[fr.name])return fr;var ar=new J$2[fr.name](cr||fr.message,fr);return"stack"in fr&&l$2(ar,"stack",{get:function(){return this.inner.stack}}),ar},F$2(R$2,Et);var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$1(fr){return fr&&fr.__esModule&&Object.prototype.hasOwnProperty.call(fr,"default")?fr.default:fr}function getAugmentedNamespace(fr){if(fr.__esModule)return fr;var cr=fr.default;if(typeof cr=="function"){var ar=function or(){return this instanceof or?Reflect.construct(cr,arguments,this.constructor):cr.apply(this,arguments)};ar.prototype=cr.prototype}else ar={};return Object.defineProperty(ar,"__esModule",{value:!0}),Object.keys(fr).forEach(function(or){var ur=Object.getOwnPropertyDescriptor(fr,or);Object.defineProperty(ar,or,ur.get?ur:{enumerable:!0,get:function(){return fr[or]}})}),ar}var cryptoJs={exports:{}};function commonjsRequire(fr){throw new Error('Could not dynamically require "'+fr+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var core={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredCore;function requireCore(){return hasRequiredCore||(hasRequiredCore=1,function(fr,cr){(function(ar,or){fr.exports=or()})(commonjsGlobal$1,function(){var ar=ar||function(or,ur){var lr;if(typeof window<"u"&&window.crypto&&(lr=window.crypto),typeof self<"u"&&self.crypto&&(lr=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(lr=globalThis.crypto),!lr&&typeof window<"u"&&window.msCrypto&&(lr=window.msCrypto),!lr&&typeof commonjsGlobal$1<"u"&&commonjsGlobal$1.crypto&&(lr=commonjsGlobal$1.crypto),!lr&&typeof commonjsRequire=="function")try{lr=require$$0}catch{}var xr=function(){if(lr){if(typeof lr.getRandomValues=="function")try{return lr.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof lr.randomBytes=="function")try{return lr.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},pr=Object.create||function(){function Dr(){}return function(Rr){var Fr;return Dr.prototype=Rr,Fr=new Dr,Dr.prototype=null,Fr}}(),br={},mr=br.lib={},_r=mr.Base=function(){return{extend:function(Dr){var Rr=pr(this);return Dr&&Rr.mixIn(Dr),(!Rr.hasOwnProperty("init")||this.init===Rr.init)&&(Rr.init=function(){Rr.$super.init.apply(this,arguments)}),Rr.init.prototype=Rr,Rr.$super=this,Rr},create:function(){var Dr=this.extend();return Dr.init.apply(Dr,arguments),Dr},init:function(){},mixIn:function(Dr){for(var Rr in Dr)Dr.hasOwnProperty(Rr)&&(this[Rr]=Dr[Rr]);Dr.hasOwnProperty("toString")&&(this.toString=Dr.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),vr=mr.WordArray=_r.extend({init:function(Dr,Rr){Dr=this.words=Dr||[],Rr!=ur?this.sigBytes=Rr:this.sigBytes=Dr.length*4},toString:function(Dr){return(Dr||yr).stringify(this)},concat:function(Dr){var Rr=this.words,Fr=Dr.words,Lr=this.sigBytes,Hr=Dr.sigBytes;if(this.clamp(),Lr%4)for(var Ur=0;Ur<Hr;Ur++){var Zr=Fr[Ur>>>2]>>>24-Ur%4*8&255;Rr[Lr+Ur>>>2]|=Zr<<24-(Lr+Ur)%4*8}else for(var Yr=0;Yr<Hr;Yr+=4)Rr[Lr+Yr>>>2]=Fr[Yr>>>2];return this.sigBytes+=Hr,this},clamp:function(){var Dr=this.words,Rr=this.sigBytes;Dr[Rr>>>2]&=4294967295<<32-Rr%4*8,Dr.length=or.ceil(Rr/4)},clone:function(){var Dr=_r.clone.call(this);return Dr.words=this.words.slice(0),Dr},random:function(Dr){for(var Rr=[],Fr=0;Fr<Dr;Fr+=4)Rr.push(xr());return new vr.init(Rr,Dr)}}),Er=br.enc={},yr=Er.Hex={stringify:function(Dr){for(var Rr=Dr.words,Fr=Dr.sigBytes,Lr=[],Hr=0;Hr<Fr;Hr++){var Ur=Rr[Hr>>>2]>>>24-Hr%4*8&255;Lr.push((Ur>>>4).toString(16)),Lr.push((Ur&15).toString(16))}return Lr.join("")},parse:function(Dr){for(var Rr=Dr.length,Fr=[],Lr=0;Lr<Rr;Lr+=2)Fr[Lr>>>3]|=parseInt(Dr.substr(Lr,2),16)<<24-Lr%8*4;return new vr.init(Fr,Rr/2)}},Ir=Er.Latin1={stringify:function(Dr){for(var Rr=Dr.words,Fr=Dr.sigBytes,Lr=[],Hr=0;Hr<Fr;Hr++){var Ur=Rr[Hr>>>2]>>>24-Hr%4*8&255;Lr.push(String.fromCharCode(Ur))}return Lr.join("")},parse:function(Dr){for(var Rr=Dr.length,Fr=[],Lr=0;Lr<Rr;Lr++)Fr[Lr>>>2]|=(Dr.charCodeAt(Lr)&255)<<24-Lr%4*8;return new vr.init(Fr,Rr)}},Ar=Er.Utf8={stringify:function(Dr){try{return decodeURIComponent(escape(Ir.stringify(Dr)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(Dr){return Ir.parse(unescape(encodeURIComponent(Dr)))}},kr=mr.BufferedBlockAlgorithm=_r.extend({reset:function(){this._data=new vr.init,this._nDataBytes=0},_append:function(Dr){typeof Dr=="string"&&(Dr=Ar.parse(Dr)),this._data.concat(Dr),this._nDataBytes+=Dr.sigBytes},_process:function(Dr){var Rr,Fr=this._data,Lr=Fr.words,Hr=Fr.sigBytes,Ur=this.blockSize,Zr=Ur*4,Yr=Hr/Zr;Dr?Yr=or.ceil(Yr):Yr=or.max((Yr|0)-this._minBufferSize,0);var jr=Yr*Ur,Jr=or.min(jr*4,Hr);if(jr){for(var Wr=0;Wr<jr;Wr+=Ur)this._doProcessBlock(Lr,Wr);Rr=Lr.splice(0,jr),Fr.sigBytes-=Jr}return new vr.init(Rr,Jr)},clone:function(){var Dr=_r.clone.call(this);return Dr._data=this._data.clone(),Dr},_minBufferSize:0});mr.Hasher=kr.extend({cfg:_r.extend(),init:function(Dr){this.cfg=this.cfg.extend(Dr),this.reset()},reset:function(){kr.reset.call(this),this._doReset()},update:function(Dr){return this._append(Dr),this._process(),this},finalize:function(Dr){Dr&&this._append(Dr);var Rr=this._doFinalize();return Rr},blockSize:16,_createHelper:function(Dr){return function(Rr,Fr){return new Dr.init(Fr).finalize(Rr)}},_createHmacHelper:function(Dr){return function(Rr,Fr){return new Or.HMAC.init(Dr,Fr).finalize(Rr)}}});var Or=br.algo={};return br}(Math);return ar})}(core)),core.exports}var x64Core={exports:{}},hasRequiredX64Core;function requireX64Core(){return hasRequiredX64Core||(hasRequiredX64Core=1,function(fr,cr){(function(ar,or){fr.exports=or(requireCore())})(commonjsGlobal$1,function(ar){return function(or){var ur=ar,lr=ur.lib,xr=lr.Base,pr=lr.WordArray,br=ur.x64={};br.Word=xr.extend({init:function(mr,_r){this.high=mr,this.low=_r}}),br.WordArray=xr.extend({init:function(mr,_r){mr=this.words=mr||[],_r!=or?this.sigBytes=_r:this.sigBytes=mr.length*8},toX32:function(){for(var mr=this.words,_r=mr.length,vr=[],Er=0;Er<_r;Er++){var yr=mr[Er];vr.push(yr.high),vr.push(yr.low)}return pr.create(vr,this.sigBytes)},clone:function(){for(var mr=xr.clone.call(this),_r=mr.words=this.words.slice(0),vr=_r.length,Er=0;Er<vr;Er++)_r[Er]=_r[Er].clone();return mr}})}(),ar})}(x64Core)),x64Core.exports}var libTypedarrays={exports:{}},hasRequiredLibTypedarrays;function requireLibTypedarrays(){return hasRequiredLibTypedarrays||(hasRequiredLibTypedarrays=1,function(fr,cr){(function(ar,or){fr.exports=or(requireCore())})(commonjsGlobal$1,function(ar){return function(){if(typeof ArrayBuffer=="function"){var or=ar,ur=or.lib,lr=ur.WordArray,xr=lr.init,pr=lr.init=function(br){if(br instanceof ArrayBuffer&&(br=new Uint8Array(br)),(br instanceof Int8Array||typeof Uint8ClampedArray<"u"&&br instanceof Uint8ClampedArray||br instanceof Int16Array||br instanceof Uint16Array||br instanceof Int32Array||br instanceof Uint32Array||br instanceof Float32Array||br instanceof Float64Array)&&(br=new Uint8Array(br.buffer,br.byteOffset,br.byteLength)),br instanceof Uint8Array){for(var mr=br.byteLength,_r=[],vr=0;vr<mr;vr++)_r[vr>>>2]|=br[vr]<<24-vr%4*8;xr.call(this,_r,mr)}else xr.apply(this,arguments)};pr.prototype=lr}}(),ar.lib.WordArray})}(libTypedarrays)),libTypedarrays.exports}var encUtf16={exports:{}},hasRequiredEncUtf16;function requireEncUtf16(){return hasRequiredEncUtf16||(hasRequiredEncUtf16=1,function(fr,cr){(function(ar,or){fr.exports=or(requireCore())})(commonjsGlobal$1,function(ar){return function(){var or=ar,ur=or.lib,lr=ur.WordArray,xr=or.enc;xr.Utf16=xr.Utf16BE={stringify:function(br){for(var mr=br.words,_r=br.sigBytes,vr=[],Er=0;Er<_r;Er+=2){var yr=mr[Er>>>2]>>>16-Er%4*8&65535;vr.push(String.fromCharCode(yr))}return vr.join("")},parse:function(br){for(var mr=br.length,_r=[],vr=0;vr<mr;vr++)_r[vr>>>1]|=br.charCodeAt(vr)<<16-vr%2*16;return lr.create(_r,mr*2)}},xr.Utf16LE={stringify:function(br){for(var mr=br.words,_r=br.sigBytes,vr=[],Er=0;Er<_r;Er+=2){var yr=pr(mr[Er>>>2]>>>16-Er%4*8&65535);vr.push(String.fromCharCode(yr))}return vr.join("")},parse:function(br){for(var mr=br.length,_r=[],vr=0;vr<mr;vr++)_r[vr>>>1]|=pr(br.charCodeAt(vr)<<16-vr%2*16);return lr.create(_r,mr*2)}};function pr(br){return br<<8&4278255360|br>>>8&16711935}}(),ar.enc.Utf16})}(encUtf16)),encUtf16.exports}var encBase64={exports:{}},hasRequiredEncBase64;function requireEncBase64(){return hasRequiredEncBase64||(hasRequiredEncBase64=1,function(fr,cr){(function(ar,or){fr.exports=or(requireCore())})(commonjsGlobal$1,function(ar){return function(){var or=ar,ur=or.lib,lr=ur.WordArray,xr=or.enc;xr.Base64={stringify:function(br){var mr=br.words,_r=br.sigBytes,vr=this._map;br.clamp();for(var Er=[],yr=0;yr<_r;yr+=3)for(var Ir=mr[yr>>>2]>>>24-yr%4*8&255,Ar=mr[yr+1>>>2]>>>24-(yr+1)%4*8&255,kr=mr[yr+2>>>2]>>>24-(yr+2)%4*8&255,Or=Ir<<16|Ar<<8|kr,Dr=0;Dr<4&&yr+Dr*.75<_r;Dr++)Er.push(vr.charAt(Or>>>6*(3-Dr)&63));var Rr=vr.charAt(64);if(Rr)for(;Er.length%4;)Er.push(Rr);return Er.join("")},parse:function(br){var mr=br.length,_r=this._map,vr=this._reverseMap;if(!vr){vr=this._reverseMap=[];for(var Er=0;Er<_r.length;Er++)vr[_r.charCodeAt(Er)]=Er}var yr=_r.charAt(64);if(yr){var Ir=br.indexOf(yr);Ir!==-1&&(mr=Ir)}return pr(br,mr,vr)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function pr(br,mr,_r){for(var vr=[],Er=0,yr=0;yr<mr;yr++)if(yr%4){var Ir=_r[br.charCodeAt(yr-1)]<<yr%4*2,Ar=_r[br.charCodeAt(yr)]>>>6-yr%4*2,kr=Ir|Ar;vr[Er>>>2]|=kr<<24-Er%4*8,Er++}return lr.create(vr,Er)}}(),ar.enc.Base64})}(encBase64)),encBase64.exports}var encBase64url={exports:{}},hasRequiredEncBase64url;function requireEncBase64url(){return hasRequiredEncBase64url||(hasRequiredEncBase64url=1,function(fr,cr){(function(ar,or){fr.exports=or(requireCore())})(commonjsGlobal$1,function(ar){return function(){var or=ar,ur=or.lib,lr=ur.WordArray,xr=or.enc;xr.Base64url={stringify:function(br,mr){mr===void 0&&(mr=!0);var _r=br.words,vr=br.sigBytes,Er=mr?this._safe_map:this._map;br.clamp();for(var yr=[],Ir=0;Ir<vr;Ir+=3)for(var Ar=_r[Ir>>>2]>>>24-Ir%4*8&255,kr=_r[Ir+1>>>2]>>>24-(Ir+1)%4*8&255,Or=_r[Ir+2>>>2]>>>24-(Ir+2)%4*8&255,Dr=Ar<<16|kr<<8|Or,Rr=0;Rr<4&&Ir+Rr*.75<vr;Rr++)yr.push(Er.charAt(Dr>>>6*(3-Rr)&63));var Fr=Er.charAt(64);if(Fr)for(;yr.length%4;)yr.push(Fr);return yr.join("")},parse:function(br,mr){mr===void 0&&(mr=!0);var _r=br.length,vr=mr?this._safe_map:this._map,Er=this._reverseMap;if(!Er){Er=this._reverseMap=[];for(var yr=0;yr<vr.length;yr++)Er[vr.charCodeAt(yr)]=yr}var Ir=vr.charAt(64);if(Ir){var Ar=br.indexOf(Ir);Ar!==-1&&(_r=Ar)}return pr(br,_r,Er)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function pr(br,mr,_r){for(var vr=[],Er=0,yr=0;yr<mr;yr++)if(yr%4){var Ir=_r[br.charCodeAt(yr-1)]<<yr%4*2,Ar=_r[br.charCodeAt(yr)]>>>6-yr%4*2,kr=Ir|Ar;vr[Er>>>2]|=kr<<24-Er%4*8,Er++}return lr.create(vr,Er)}}(),ar.enc.Base64url})}(encBase64url)),encBase64url.exports}var md5={exports:{}},hasRequiredMd5;function requireMd5(){return hasRequiredMd5||(hasRequiredMd5=1,function(fr,cr){(function(ar,or){fr.exports=or(requireCore())})(commonjsGlobal$1,function(ar){return function(or){var ur=ar,lr=ur.lib,xr=lr.WordArray,pr=lr.Hasher,br=ur.algo,mr=[];(function(){for(var Ar=0;Ar<64;Ar++)mr[Ar]=or.abs(or.sin(Ar+1))*4294967296|0})();var _r=br.MD5=pr.extend({_doReset:function(){this._hash=new xr.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(Ar,kr){for(var Or=0;Or<16;Or++){var Dr=kr+Or,Rr=Ar[Dr];Ar[Dr]=(Rr<<8|Rr>>>24)&16711935|(Rr<<24|Rr>>>8)&4278255360}var Fr=this._hash.words,Lr=Ar[kr+0],Hr=Ar[kr+1],Ur=Ar[kr+2],Zr=Ar[kr+3],Yr=Ar[kr+4],jr=Ar[kr+5],Jr=Ar[kr+6],Wr=Ar[kr+7],ni=Ar[kr+8],Mr=Ar[kr+9],hi=Ar[kr+10],Ei=Ar[kr+11],_i=Ar[kr+12],Fi=Ar[kr+13],si=Ar[kr+14],ci=Ar[kr+15],$r=Fr[0],ei=Fr[1],pi=Fr[2],ui=Fr[3];$r=vr($r,ei,pi,ui,Lr,7,mr[0]),ui=vr(ui,$r,ei,pi,Hr,12,mr[1]),pi=vr(pi,ui,$r,ei,Ur,17,mr[2]),ei=vr(ei,pi,ui,$r,Zr,22,mr[3]),$r=vr($r,ei,pi,ui,Yr,7,mr[4]),ui=vr(ui,$r,ei,pi,jr,12,mr[5]),pi=vr(pi,ui,$r,ei,Jr,17,mr[6]),ei=vr(ei,pi,ui,$r,Wr,22,mr[7]),$r=vr($r,ei,pi,ui,ni,7,mr[8]),ui=vr(ui,$r,ei,pi,Mr,12,mr[9]),pi=vr(pi,ui,$r,ei,hi,17,mr[10]),ei=vr(ei,pi,ui,$r,Ei,22,mr[11]),$r=vr($r,ei,pi,ui,_i,7,mr[12]),ui=vr(ui,$r,ei,pi,Fi,12,mr[13]),pi=vr(pi,ui,$r,ei,si,17,mr[14]),ei=vr(ei,pi,ui,$r,ci,22,mr[15]),$r=Er($r,ei,pi,ui,Hr,5,mr[16]),ui=Er(ui,$r,ei,pi,Jr,9,mr[17]),pi=Er(pi,ui,$r,ei,Ei,14,mr[18]),ei=Er(ei,pi,ui,$r,Lr,20,mr[19]),$r=Er($r,ei,pi,ui,jr,5,mr[20]),ui=Er(ui,$r,ei,pi,hi,9,mr[21]),pi=Er(pi,ui,$r,ei,ci,14,mr[22]),ei=Er(ei,pi,ui,$r,Yr,20,mr[23]),$r=Er($r,ei,pi,ui,Mr,5,mr[24]),ui=Er(ui,$r,ei,pi,si,9,mr[25]),pi=Er(pi,ui,$r,ei,Zr,14,mr[26]),ei=Er(ei,pi,ui,$r,ni,20,mr[27]),$r=Er($r,ei,pi,ui,Fi,5,mr[28]),ui=Er(ui,$r,ei,pi,Ur,9,mr[29]),pi=Er(pi,ui,$r,ei,Wr,14,mr[30]),ei=Er(ei,pi,ui,$r,_i,20,mr[31]),$r=yr($r,ei,pi,ui,jr,4,mr[32]),ui=yr(ui,$r,ei,pi,ni,11,mr[33]),pi=yr(pi,ui,$r,ei,Ei,16,mr[34]),ei=yr(ei,pi,ui,$r,si,23,mr[35]),$r=yr($r,ei,pi,ui,Hr,4,mr[36]),ui=yr(ui,$r,ei,pi,Yr,11,mr[37]),pi=yr(pi,ui,$r,ei,Wr,16,mr[38]),ei=yr(ei,pi,ui,$r,hi,23,mr[39]),$r=yr($r,ei,pi,ui,Fi,4,mr[40]),ui=yr(ui,$r,ei,pi,Lr,11,mr[41]),pi=yr(pi,ui,$r,ei,Zr,16,mr[42]),ei=yr(ei,pi,ui,$r,Jr,23,mr[43]),$r=yr($r,ei,pi,ui,Mr,4,mr[44]),ui=yr(ui,$r,ei,pi,_i,11,mr[45]),pi=yr(pi,ui,$r,ei,ci,16,mr[46]),ei=yr(ei,pi,ui,$r,Ur,23,mr[47]),$r=Ir($r,ei,pi,ui,Lr,6,mr[48]),ui=Ir(ui,$r,ei,pi,Wr,10,mr[49]),pi=Ir(pi,ui,$r,ei,si,15,mr[50]),ei=Ir(ei,pi,ui,$r,jr,21,mr[51]),$r=Ir($r,ei,pi,ui,_i,6,mr[52]),ui=Ir(ui,$r,ei,pi,Zr,10,mr[53]),pi=Ir(pi,ui,$r,ei,hi,15,mr[54]),ei=Ir(ei,pi,ui,$r,Hr,21,mr[55]),$r=Ir($r,ei,pi,ui,ni,6,mr[56]),ui=Ir(ui,$r,ei,pi,ci,10,mr[57]),pi=Ir(pi,ui,$r,ei,Jr,15,mr[58]),ei=Ir(ei,pi,ui,$r,Fi,21,mr[59]),$r=Ir($r,ei,pi,ui,Yr,6,mr[60]),ui=Ir(ui,$r,ei,pi,Ei,10,mr[61]),pi=Ir(pi,ui,$r,ei,Ur,15,mr[62]),ei=Ir(ei,pi,ui,$r,Mr,21,mr[63]),Fr[0]=Fr[0]+$r|0,Fr[1]=Fr[1]+ei|0,Fr[2]=Fr[2]+pi|0,Fr[3]=Fr[3]+ui|0},_doFinalize:function(){var Ar=this._data,kr=Ar.words,Or=this._nDataBytes*8,Dr=Ar.sigBytes*8;kr[Dr>>>5]|=128<<24-Dr%32;var Rr=or.floor(Or/4294967296),Fr=Or;kr[(Dr+64>>>9<<4)+15]=(Rr<<8|Rr>>>24)&16711935|(Rr<<24|Rr>>>8)&4278255360,kr[(Dr+64>>>9<<4)+14]=(Fr<<8|Fr>>>24)&16711935|(Fr<<24|Fr>>>8)&4278255360,Ar.sigBytes=(kr.length+1)*4,this._process();for(var Lr=this._hash,Hr=Lr.words,Ur=0;Ur<4;Ur++){var Zr=Hr[Ur];Hr[Ur]=(Zr<<8|Zr>>>24)&16711935|(Zr<<24|Zr>>>8)&4278255360}return Lr},clone:function(){var Ar=pr.clone.call(this);return Ar._hash=this._hash.clone(),Ar}});function vr(Ar,kr,Or,Dr,Rr,Fr,Lr){var Hr=Ar+(kr&Or|~kr&Dr)+Rr+Lr;return(Hr<<Fr|Hr>>>32-Fr)+kr}function Er(Ar,kr,Or,Dr,Rr,Fr,Lr){var Hr=Ar+(kr&Dr|Or&~Dr)+Rr+Lr;return(Hr<<Fr|Hr>>>32-Fr)+kr}function yr(Ar,kr,Or,Dr,Rr,Fr,Lr){var Hr=Ar+(kr^Or^Dr)+Rr+Lr;return(Hr<<Fr|Hr>>>32-Fr)+kr}function Ir(Ar,kr,Or,Dr,Rr,Fr,Lr){var Hr=Ar+(Or^(kr|~Dr))+Rr+Lr;return(Hr<<Fr|Hr>>>32-Fr)+kr}ur.MD5=pr._createHelper(_r),ur.HmacMD5=pr._createHmacHelper(_r)}(Math),ar.MD5})}(md5)),md5.exports}var sha1={exports:{}},hasRequiredSha1;function requireSha1(){return hasRequiredSha1||(hasRequiredSha1=1,function(fr,cr){(function(ar,or){fr.exports=or(requireCore())})(commonjsGlobal$1,function(ar){return function(){var or=ar,ur=or.lib,lr=ur.WordArray,xr=ur.Hasher,pr=or.algo,br=[],mr=pr.SHA1=xr.extend({_doReset:function(){this._hash=new lr.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(_r,vr){for(var Er=this._hash.words,yr=Er[0],Ir=Er[1],Ar=Er[2],kr=Er[3],Or=Er[4],Dr=0;Dr<80;Dr++){if(Dr<16)br[Dr]=_r[vr+Dr]|0;else{var Rr=br[Dr-3]^br[Dr-8]^br[Dr-14]^br[Dr-16];br[Dr]=Rr<<1|Rr>>>31}var Fr=(yr<<5|yr>>>27)+Or+br[Dr];Dr<20?Fr+=(Ir&Ar|~Ir&kr)+1518500249:Dr<40?Fr+=(Ir^Ar^kr)+1859775393:Dr<60?Fr+=(Ir&Ar|Ir&kr|Ar&kr)-1894007588:Fr+=(Ir^Ar^kr)-899497514,Or=kr,kr=Ar,Ar=Ir<<30|Ir>>>2,Ir=yr,yr=Fr}Er[0]=Er[0]+yr|0,Er[1]=Er[1]+Ir|0,Er[2]=Er[2]+Ar|0,Er[3]=Er[3]+kr|0,Er[4]=Er[4]+Or|0},_doFinalize:function(){var _r=this._data,vr=_r.words,Er=this._nDataBytes*8,yr=_r.sigBytes*8;return vr[yr>>>5]|=128<<24-yr%32,vr[(yr+64>>>9<<4)+14]=Math.floor(Er/4294967296),vr[(yr+64>>>9<<4)+15]=Er,_r.sigBytes=vr.length*4,this._process(),this._hash},clone:function(){var _r=xr.clone.call(this);return _r._hash=this._hash.clone(),_r}});or.SHA1=xr._createHelper(mr),or.HmacSHA1=xr._createHmacHelper(mr)}(),ar.SHA1})}(sha1)),sha1.exports}var sha256={exports:{}},hasRequiredSha256;function requireSha256(){return hasRequiredSha256||(hasRequiredSha256=1,function(fr,cr){(function(ar,or){fr.exports=or(requireCore())})(commonjsGlobal$1,function(ar){return function(or){var ur=ar,lr=ur.lib,xr=lr.WordArray,pr=lr.Hasher,br=ur.algo,mr=[],_r=[];(function(){function yr(Or){for(var Dr=or.sqrt(Or),Rr=2;Rr<=Dr;Rr++)if(!(Or%Rr))return!1;return!0}function Ir(Or){return(Or-(Or|0))*4294967296|0}for(var Ar=2,kr=0;kr<64;)yr(Ar)&&(kr<8&&(mr[kr]=Ir(or.pow(Ar,1/2))),_r[kr]=Ir(or.pow(Ar,1/3)),kr++),Ar++})();var vr=[],Er=br.SHA256=pr.extend({_doReset:function(){this._hash=new xr.init(mr.slice(0))},_doProcessBlock:function(yr,Ir){for(var Ar=this._hash.words,kr=Ar[0],Or=Ar[1],Dr=Ar[2],Rr=Ar[3],Fr=Ar[4],Lr=Ar[5],Hr=Ar[6],Ur=Ar[7],Zr=0;Zr<64;Zr++){if(Zr<16)vr[Zr]=yr[Ir+Zr]|0;else{var Yr=vr[Zr-15],jr=(Yr<<25|Yr>>>7)^(Yr<<14|Yr>>>18)^Yr>>>3,Jr=vr[Zr-2],Wr=(Jr<<15|Jr>>>17)^(Jr<<13|Jr>>>19)^Jr>>>10;vr[Zr]=jr+vr[Zr-7]+Wr+vr[Zr-16]}var ni=Fr&Lr^~Fr&Hr,Mr=kr&Or^kr&Dr^Or&Dr,hi=(kr<<30|kr>>>2)^(kr<<19|kr>>>13)^(kr<<10|kr>>>22),Ei=(Fr<<26|Fr>>>6)^(Fr<<21|Fr>>>11)^(Fr<<7|Fr>>>25),_i=Ur+Ei+ni+_r[Zr]+vr[Zr],Fi=hi+Mr;Ur=Hr,Hr=Lr,Lr=Fr,Fr=Rr+_i|0,Rr=Dr,Dr=Or,Or=kr,kr=_i+Fi|0}Ar[0]=Ar[0]+kr|0,Ar[1]=Ar[1]+Or|0,Ar[2]=Ar[2]+Dr|0,Ar[3]=Ar[3]+Rr|0,Ar[4]=Ar[4]+Fr|0,Ar[5]=Ar[5]+Lr|0,Ar[6]=Ar[6]+Hr|0,Ar[7]=Ar[7]+Ur|0},_doFinalize:function(){var yr=this._data,Ir=yr.words,Ar=this._nDataBytes*8,kr=yr.sigBytes*8;return Ir[kr>>>5]|=128<<24-kr%32,Ir[(kr+64>>>9<<4)+14]=or.floor(Ar/4294967296),Ir[(kr+64>>>9<<4)+15]=Ar,yr.sigBytes=Ir.length*4,this._process(),this._hash},clone:function(){var yr=pr.clone.call(this);return yr._hash=this._hash.clone(),yr}});ur.SHA256=pr._createHelper(Er),ur.HmacSHA256=pr._createHmacHelper(Er)}(Math),ar.SHA256})}(sha256)),sha256.exports}var sha224={exports:{}},hasRequiredSha224;function requireSha224(){return hasRequiredSha224||(hasRequiredSha224=1,function(fr,cr){(function(ar,or,ur){fr.exports=or(requireCore(),requireSha256())})(commonjsGlobal$1,function(ar){return function(){var or=ar,ur=or.lib,lr=ur.WordArray,xr=or.algo,pr=xr.SHA256,br=xr.SHA224=pr.extend({_doReset:function(){this._hash=new lr.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var mr=pr._doFinalize.call(this);return mr.sigBytes-=4,mr}});or.SHA224=pr._createHelper(br),or.HmacSHA224=pr._createHmacHelper(br)}(),ar.SHA224})}(sha224)),sha224.exports}var sha512={exports:{}},hasRequiredSha512;function requireSha512(){return hasRequiredSha512||(hasRequiredSha512=1,function(fr,cr){(function(ar,or,ur){fr.exports=or(requireCore(),requireX64Core())})(commonjsGlobal$1,function(ar){return function(){var or=ar,ur=or.lib,lr=ur.Hasher,xr=or.x64,pr=xr.Word,br=xr.WordArray,mr=or.algo;function _r(){return pr.create.apply(pr,arguments)}var vr=[_r(1116352408,3609767458),_r(1899447441,602891725),_r(3049323471,3964484399),_r(3921009573,2173295548),_r(961987163,4081628472),_r(1508970993,3053834265),_r(2453635748,2937671579),_r(2870763221,3664609560),_r(3624381080,2734883394),_r(310598401,1164996542),_r(607225278,1323610764),_r(1426881987,3590304994),_r(1925078388,4068182383),_r(2162078206,991336113),_r(2614888103,633803317),_r(3248222580,3479774868),_r(3835390401,2666613458),_r(4022224774,944711139),_r(264347078,2341262773),_r(604807628,2007800933),_r(770255983,1495990901),_r(1249150122,1856431235),_r(1555081692,3175218132),_r(1996064986,2198950837),_r(2554220882,3999719339),_r(2821834349,766784016),_r(2952996808,2566594879),_r(3210313671,3203337956),_r(3336571891,1034457026),_r(3584528711,2466948901),_r(113926993,3758326383),_r(338241895,168717936),_r(666307205,1188179964),_r(773529912,1546045734),_r(1294757372,1522805485),_r(1396182291,2643833823),_r(1695183700,2343527390),_r(1986661051,1014477480),_r(2177026350,1206759142),_r(2456956037,344077627),_r(2730485921,1290863460),_r(2820302411,3158454273),_r(3259730800,3505952657),_r(3345764771,106217008),_r(3516065817,3606008344),_r(3600352804,1432725776),_r(4094571909,1467031594),_r(275423344,851169720),_r(430227734,3100823752),_r(506948616,1363258195),_r(659060556,3750685593),_r(883997877,3785050280),_r(958139571,3318307427),_r(1322822218,3812723403),_r(1537002063,2003034995),_r(1747873779,3602036899),_r(1955562222,1575990012),_r(2024104815,1125592928),_r(2227730452,2716904306),_r(2361852424,442776044),_r(2428436474,593698344),_r(2756734187,3733110249),_r(3204031479,2999351573),_r(3329325298,3815920427),_r(3391569614,3928383900),_r(3515267271,566280711),_r(3940187606,3454069534),_r(4118630271,4000239992),_r(116418474,1914138554),_r(174292421,2731055270),_r(289380356,3203993006),_r(460393269,320620315),_r(685471733,587496836),_r(852142971,1086792851),_r(1017036298,365543100),_r(1126000580,2618297676),_r(1288033470,3409855158),_r(1501505948,4234509866),_r(1607167915,987167468),_r(1816402316,1246189591)],Er=[];(function(){for(var Ir=0;Ir<80;Ir++)Er[Ir]=_r()})();var yr=mr.SHA512=lr.extend({_doReset:function(){this._hash=new br.init([new pr.init(1779033703,4089235720),new pr.init(3144134277,2227873595),new pr.init(1013904242,4271175723),new pr.init(2773480762,1595750129),new pr.init(1359893119,2917565137),new pr.init(2600822924,725511199),new pr.init(528734635,4215389547),new pr.init(1541459225,327033209)])},_doProcessBlock:function(Ir,Ar){for(var kr=this._hash.words,Or=kr[0],Dr=kr[1],Rr=kr[2],Fr=kr[3],Lr=kr[4],Hr=kr[5],Ur=kr[6],Zr=kr[7],Yr=Or.high,jr=Or.low,Jr=Dr.high,Wr=Dr.low,ni=Rr.high,Mr=Rr.low,hi=Fr.high,Ei=Fr.low,_i=Lr.high,Fi=Lr.low,si=Hr.high,ci=Hr.low,$r=Ur.high,ei=Ur.low,pi=Zr.high,ui=Zr.low,bi=Yr,qi=jr,Gi=Jr,Ti=Wr,ii=ni,oi=Mr,Si=hi,Di=Ei,Vi=_i,Vr=Fi,di=si,yi=ci,ti=$r,ri=ei,xi=pi,Ai=ui,Kr=0;Kr<80;Kr++){var Pr,qr,Xr=Er[Kr];if(Kr<16)qr=Xr.high=Ir[Ar+Kr*2]|0,Pr=Xr.low=Ir[Ar+Kr*2+1]|0;else{var ai=Er[Kr-15],fi=ai.high,vi=ai.low,Ri=(fi>>>1|vi<<31)^(fi>>>8|vi<<24)^fi>>>7,Qi=(vi>>>1|fi<<31)^(vi>>>8|fi<<24)^(vi>>>7|fi<<25),Zi=Er[Kr-2],zi=Zi.high,Bi=Zi.low,ta=(zi>>>19|Bi<<13)^(zi<<3|Bi>>>29)^zi>>>6,Ia=(Bi>>>19|zi<<13)^(Bi<<3|zi>>>29)^(Bi>>>6|zi<<26),Ra=Er[Kr-7],wa=Ra.high,vo=Ra.low,uo=Er[Kr-16],ko=uo.high,wi=uo.low;Pr=Qi+vo,qr=Ri+wa+(Pr>>>0<Qi>>>0?1:0),Pr=Pr+Ia,qr=qr+ta+(Pr>>>0<Ia>>>0?1:0),Pr=Pr+wi,qr=qr+ko+(Pr>>>0<wi>>>0?1:0),Xr.high=qr,Xr.low=Pr}var Ui=Vi&di^~Vi&ti,Gr=Vr&yi^~Vr&ri,Hi=bi&Gi^bi&ii^Gi&ii,fa=qi&Ti^qi&oi^Ti&oi,ji=(bi>>>28|qi<<4)^(bi<<30|qi>>>2)^(bi<<25|qi>>>7),qa=(qi>>>28|bi<<4)^(qi<<30|bi>>>2)^(qi<<25|bi>>>7),Wi=(Vi>>>14|Vr<<18)^(Vi>>>18|Vr<<14)^(Vi<<23|Vr>>>9),ya=(Vr>>>14|Vi<<18)^(Vr>>>18|Vi<<14)^(Vr<<23|Vi>>>9),ki=vr[Kr],Oi=ki.high,Oo=ki.low,ia=Ai+ya,Ki=xi+Wi+(ia>>>0<Ai>>>0?1:0),ia=ia+Gr,Ki=Ki+Ui+(ia>>>0<Gr>>>0?1:0),ia=ia+Oo,Ki=Ki+Oi+(ia>>>0<Oo>>>0?1:0),ia=ia+Pr,Ki=Ki+qr+(ia>>>0<Pr>>>0?1:0),mo=qa+fa,lo=ji+Hi+(mo>>>0<qa>>>0?1:0);xi=ti,Ai=ri,ti=di,ri=yi,di=Vi,yi=Vr,Vr=Di+ia|0,Vi=Si+Ki+(Vr>>>0<Di>>>0?1:0)|0,Si=ii,Di=oi,ii=Gi,oi=Ti,Gi=bi,Ti=qi,qi=ia+mo|0,bi=Ki+lo+(qi>>>0<ia>>>0?1:0)|0}jr=Or.low=jr+qi,Or.high=Yr+bi+(jr>>>0<qi>>>0?1:0),Wr=Dr.low=Wr+Ti,Dr.high=Jr+Gi+(Wr>>>0<Ti>>>0?1:0),Mr=Rr.low=Mr+oi,Rr.high=ni+ii+(Mr>>>0<oi>>>0?1:0),Ei=Fr.low=Ei+Di,Fr.high=hi+Si+(Ei>>>0<Di>>>0?1:0),Fi=Lr.low=Fi+Vr,Lr.high=_i+Vi+(Fi>>>0<Vr>>>0?1:0),ci=Hr.low=ci+yi,Hr.high=si+di+(ci>>>0<yi>>>0?1:0),ei=Ur.low=ei+ri,Ur.high=$r+ti+(ei>>>0<ri>>>0?1:0),ui=Zr.low=ui+Ai,Zr.high=pi+xi+(ui>>>0<Ai>>>0?1:0)},_doFinalize:function(){var Ir=this._data,Ar=Ir.words,kr=this._nDataBytes*8,Or=Ir.sigBytes*8;Ar[Or>>>5]|=128<<24-Or%32,Ar[(Or+128>>>10<<5)+30]=Math.floor(kr/4294967296),Ar[(Or+128>>>10<<5)+31]=kr,Ir.sigBytes=Ar.length*4,this._process();var Dr=this._hash.toX32();return Dr},clone:function(){var Ir=lr.clone.call(this);return Ir._hash=this._hash.clone(),Ir},blockSize:1024/32});or.SHA512=lr._createHelper(yr),or.HmacSHA512=lr._createHmacHelper(yr)}(),ar.SHA512})}(sha512)),sha512.exports}var sha384={exports:{}},hasRequiredSha384;function requireSha384(){return hasRequiredSha384||(hasRequiredSha384=1,function(fr,cr){(function(ar,or,ur){fr.exports=or(requireCore(),requireX64Core(),requireSha512())})(commonjsGlobal$1,function(ar){return function(){var or=ar,ur=or.x64,lr=ur.Word,xr=ur.WordArray,pr=or.algo,br=pr.SHA512,mr=pr.SHA384=br.extend({_doReset:function(){this._hash=new xr.init([new lr.init(3418070365,3238371032),new lr.init(1654270250,914150663),new lr.init(2438529370,812702999),new lr.init(355462360,4144912697),new lr.init(1731405415,4290775857),new lr.init(2394180231,1750603025),new lr.init(3675008525,1694076839),new lr.init(1203062813,3204075428)])},_doFinalize:function(){var _r=br._doFinalize.call(this);return _r.sigBytes-=16,_r}});or.SHA384=br._createHelper(mr),or.HmacSHA384=br._createHmacHelper(mr)}(),ar.SHA384})}(sha384)),sha384.exports}var sha3={exports:{}},hasRequiredSha3;function requireSha3(){return hasRequiredSha3||(hasRequiredSha3=1,function(fr,cr){(function(ar,or,ur){fr.exports=or(requireCore(),requireX64Core())})(commonjsGlobal$1,function(ar){return function(or){var ur=ar,lr=ur.lib,xr=lr.WordArray,pr=lr.Hasher,br=ur.x64,mr=br.Word,_r=ur.algo,vr=[],Er=[],yr=[];(function(){for(var kr=1,Or=0,Dr=0;Dr<24;Dr++){vr[kr+5*Or]=(Dr+1)*(Dr+2)/2%64;var Rr=Or%5,Fr=(2*kr+3*Or)%5;kr=Rr,Or=Fr}for(var kr=0;kr<5;kr++)for(var Or=0;Or<5;Or++)Er[kr+5*Or]=Or+(2*kr+3*Or)%5*5;for(var Lr=1,Hr=0;Hr<24;Hr++){for(var Ur=0,Zr=0,Yr=0;Yr<7;Yr++){if(Lr&1){var jr=(1<<Yr)-1;jr<32?Zr^=1<<jr:Ur^=1<<jr-32}Lr&128?Lr=Lr<<1^113:Lr<<=1}yr[Hr]=mr.create(Ur,Zr)}})();var Ir=[];(function(){for(var kr=0;kr<25;kr++)Ir[kr]=mr.create()})();var Ar=_r.SHA3=pr.extend({cfg:pr.cfg.extend({outputLength:512}),_doReset:function(){for(var kr=this._state=[],Or=0;Or<25;Or++)kr[Or]=new mr.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(kr,Or){for(var Dr=this._state,Rr=this.blockSize/2,Fr=0;Fr<Rr;Fr++){var Lr=kr[Or+2*Fr],Hr=kr[Or+2*Fr+1];Lr=(Lr<<8|Lr>>>24)&16711935|(Lr<<24|Lr>>>8)&4278255360,Hr=(Hr<<8|Hr>>>24)&16711935|(Hr<<24|Hr>>>8)&4278255360;var Ur=Dr[Fr];Ur.high^=Hr,Ur.low^=Lr}for(var Zr=0;Zr<24;Zr++){for(var Yr=0;Yr<5;Yr++){for(var jr=0,Jr=0,Wr=0;Wr<5;Wr++){var Ur=Dr[Yr+5*Wr];jr^=Ur.high,Jr^=Ur.low}var ni=Ir[Yr];ni.high=jr,ni.low=Jr}for(var Yr=0;Yr<5;Yr++)for(var Mr=Ir[(Yr+4)%5],hi=Ir[(Yr+1)%5],Ei=hi.high,_i=hi.low,jr=Mr.high^(Ei<<1|_i>>>31),Jr=Mr.low^(_i<<1|Ei>>>31),Wr=0;Wr<5;Wr++){var Ur=Dr[Yr+5*Wr];Ur.high^=jr,Ur.low^=Jr}for(var Fi=1;Fi<25;Fi++){var jr,Jr,Ur=Dr[Fi],si=Ur.high,ci=Ur.low,$r=vr[Fi];$r<32?(jr=si<<$r|ci>>>32-$r,Jr=ci<<$r|si>>>32-$r):(jr=ci<<$r-32|si>>>64-$r,Jr=si<<$r-32|ci>>>64-$r);var ei=Ir[Er[Fi]];ei.high=jr,ei.low=Jr}var pi=Ir[0],ui=Dr[0];pi.high=ui.high,pi.low=ui.low;for(var Yr=0;Yr<5;Yr++)for(var Wr=0;Wr<5;Wr++){var Fi=Yr+5*Wr,Ur=Dr[Fi],bi=Ir[Fi],qi=Ir[(Yr+1)%5+5*Wr],Gi=Ir[(Yr+2)%5+5*Wr];Ur.high=bi.high^~qi.high&Gi.high,Ur.low=bi.low^~qi.low&Gi.low}var Ur=Dr[0],Ti=yr[Zr];Ur.high^=Ti.high,Ur.low^=Ti.low}},_doFinalize:function(){var kr=this._data,Or=kr.words;this._nDataBytes*8;var Dr=kr.sigBytes*8,Rr=this.blockSize*32;Or[Dr>>>5]|=1<<24-Dr%32,Or[(or.ceil((Dr+1)/Rr)*Rr>>>5)-1]|=128,kr.sigBytes=Or.length*4,this._process();for(var Fr=this._state,Lr=this.cfg.outputLength/8,Hr=Lr/8,Ur=[],Zr=0;Zr<Hr;Zr++){var Yr=Fr[Zr],jr=Yr.high,Jr=Yr.low;jr=(jr<<8|jr>>>24)&16711935|(jr<<24|jr>>>8)&4278255360,Jr=(Jr<<8|Jr>>>24)&16711935|(Jr<<24|Jr>>>8)&4278255360,Ur.push(Jr),Ur.push(jr)}return new xr.init(Ur,Lr)},clone:function(){for(var kr=pr.clone.call(this),Or=kr._state=this._state.slice(0),Dr=0;Dr<25;Dr++)Or[Dr]=Or[Dr].clone();return kr}});ur.SHA3=pr._createHelper(Ar),ur.HmacSHA3=pr._createHmacHelper(Ar)}(Math),ar.SHA3})}(sha3)),sha3.exports}var ripemd160={exports:{}},hasRequiredRipemd160;function requireRipemd160(){return hasRequiredRipemd160||(hasRequiredRipemd160=1,function(fr,cr){(function(ar,or){fr.exports=or(requireCore())})(commonjsGlobal$1,function(ar){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(or){var ur=ar,lr=ur.lib,xr=lr.WordArray,pr=lr.Hasher,br=ur.algo,mr=xr.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),_r=xr.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),vr=xr.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),Er=xr.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),yr=xr.create([0,1518500249,1859775393,2400959708,2840853838]),Ir=xr.create([1352829926,1548603684,1836072691,2053994217,0]),Ar=br.RIPEMD160=pr.extend({_doReset:function(){this._hash=xr.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(Hr,Ur){for(var Zr=0;Zr<16;Zr++){var Yr=Ur+Zr,jr=Hr[Yr];Hr[Yr]=(jr<<8|jr>>>24)&16711935|(jr<<24|jr>>>8)&4278255360}var Jr=this._hash.words,Wr=yr.words,ni=Ir.words,Mr=mr.words,hi=_r.words,Ei=vr.words,_i=Er.words,Fi,si,ci,$r,ei,pi,ui,bi,qi,Gi;pi=Fi=Jr[0],ui=si=Jr[1],bi=ci=Jr[2],qi=$r=Jr[3],Gi=ei=Jr[4];for(var Ti,Zr=0;Zr<80;Zr+=1)Ti=Fi+Hr[Ur+Mr[Zr]]|0,Zr<16?Ti+=kr(si,ci,$r)+Wr[0]:Zr<32?Ti+=Or(si,ci,$r)+Wr[1]:Zr<48?Ti+=Dr(si,ci,$r)+Wr[2]:Zr<64?Ti+=Rr(si,ci,$r)+Wr[3]:Ti+=Fr(si,ci,$r)+Wr[4],Ti=Ti|0,Ti=Lr(Ti,Ei[Zr]),Ti=Ti+ei|0,Fi=ei,ei=$r,$r=Lr(ci,10),ci=si,si=Ti,Ti=pi+Hr[Ur+hi[Zr]]|0,Zr<16?Ti+=Fr(ui,bi,qi)+ni[0]:Zr<32?Ti+=Rr(ui,bi,qi)+ni[1]:Zr<48?Ti+=Dr(ui,bi,qi)+ni[2]:Zr<64?Ti+=Or(ui,bi,qi)+ni[3]:Ti+=kr(ui,bi,qi)+ni[4],Ti=Ti|0,Ti=Lr(Ti,_i[Zr]),Ti=Ti+Gi|0,pi=Gi,Gi=qi,qi=Lr(bi,10),bi=ui,ui=Ti;Ti=Jr[1]+ci+qi|0,Jr[1]=Jr[2]+$r+Gi|0,Jr[2]=Jr[3]+ei+pi|0,Jr[3]=Jr[4]+Fi+ui|0,Jr[4]=Jr[0]+si+bi|0,Jr[0]=Ti},_doFinalize:function(){var Hr=this._data,Ur=Hr.words,Zr=this._nDataBytes*8,Yr=Hr.sigBytes*8;Ur[Yr>>>5]|=128<<24-Yr%32,Ur[(Yr+64>>>9<<4)+14]=(Zr<<8|Zr>>>24)&16711935|(Zr<<24|Zr>>>8)&4278255360,Hr.sigBytes=(Ur.length+1)*4,this._process();for(var jr=this._hash,Jr=jr.words,Wr=0;Wr<5;Wr++){var ni=Jr[Wr];Jr[Wr]=(ni<<8|ni>>>24)&16711935|(ni<<24|ni>>>8)&4278255360}return jr},clone:function(){var Hr=pr.clone.call(this);return Hr._hash=this._hash.clone(),Hr}});function kr(Hr,Ur,Zr){return Hr^Ur^Zr}function Or(Hr,Ur,Zr){return Hr&Ur|~Hr&Zr}function Dr(Hr,Ur,Zr){return(Hr|~Ur)^Zr}function Rr(Hr,Ur,Zr){return Hr&Zr|Ur&~Zr}function Fr(Hr,Ur,Zr){return Hr^(Ur|~Zr)}function Lr(Hr,Ur){return Hr<<Ur|Hr>>>32-Ur}ur.RIPEMD160=pr._createHelper(Ar),ur.HmacRIPEMD160=pr._createHmacHelper(Ar)}(),ar.RIPEMD160})}(ripemd160)),ripemd160.exports}var hmac={exports:{}},hasRequiredHmac;function requireHmac(){return hasRequiredHmac||(hasRequiredHmac=1,function(fr,cr){(function(ar,or){fr.exports=or(requireCore())})(commonjsGlobal$1,function(ar){(function(){var or=ar,ur=or.lib,lr=ur.Base,xr=or.enc,pr=xr.Utf8,br=or.algo;br.HMAC=lr.extend({init:function(mr,_r){mr=this._hasher=new mr.init,typeof _r=="string"&&(_r=pr.parse(_r));var vr=mr.blockSize,Er=vr*4;_r.sigBytes>Er&&(_r=mr.finalize(_r)),_r.clamp();for(var yr=this._oKey=_r.clone(),Ir=this._iKey=_r.clone(),Ar=yr.words,kr=Ir.words,Or=0;Or<vr;Or++)Ar[Or]^=1549556828,kr[Or]^=909522486;yr.sigBytes=Ir.sigBytes=Er,this.reset()},reset:function(){var mr=this._hasher;mr.reset(),mr.update(this._iKey)},update:function(mr){return this._hasher.update(mr),this},finalize:function(mr){var _r=this._hasher,vr=_r.finalize(mr);_r.reset();var Er=_r.finalize(this._oKey.clone().concat(vr));return Er}})})()})}(hmac)),hmac.exports}var pbkdf2={exports:{}},hasRequiredPbkdf2;function requirePbkdf2(){return hasRequiredPbkdf2||(hasRequiredPbkdf2=1,function(fr,cr){(function(ar,or,ur){fr.exports=or(requireCore(),requireSha256(),requireHmac())})(commonjsGlobal$1,function(ar){return function(){var or=ar,ur=or.lib,lr=ur.Base,xr=ur.WordArray,pr=or.algo,br=pr.SHA256,mr=pr.HMAC,_r=pr.PBKDF2=lr.extend({cfg:lr.extend({keySize:128/32,hasher:br,iterations:25e4}),init:function(vr){this.cfg=this.cfg.extend(vr)},compute:function(vr,Er){for(var yr=this.cfg,Ir=mr.create(yr.hasher,vr),Ar=xr.create(),kr=xr.create([1]),Or=Ar.words,Dr=kr.words,Rr=yr.keySize,Fr=yr.iterations;Or.length<Rr;){var Lr=Ir.update(Er).finalize(kr);Ir.reset();for(var Hr=Lr.words,Ur=Hr.length,Zr=Lr,Yr=1;Yr<Fr;Yr++){Zr=Ir.finalize(Zr),Ir.reset();for(var jr=Zr.words,Jr=0;Jr<Ur;Jr++)Hr[Jr]^=jr[Jr]}Ar.concat(Lr),Dr[0]++}return Ar.sigBytes=Rr*4,Ar}});or.PBKDF2=function(vr,Er,yr){return _r.create(yr).compute(vr,Er)}}(),ar.PBKDF2})}(pbkdf2)),pbkdf2.exports}var evpkdf={exports:{}},hasRequiredEvpkdf;function requireEvpkdf(){return hasRequiredEvpkdf||(hasRequiredEvpkdf=1,function(fr,cr){(function(ar,or,ur){fr.exports=or(requireCore(),requireSha1(),requireHmac())})(commonjsGlobal$1,function(ar){return function(){var or=ar,ur=or.lib,lr=ur.Base,xr=ur.WordArray,pr=or.algo,br=pr.MD5,mr=pr.EvpKDF=lr.extend({cfg:lr.extend({keySize:128/32,hasher:br,iterations:1}),init:function(_r){this.cfg=this.cfg.extend(_r)},compute:function(_r,vr){for(var Er,yr=this.cfg,Ir=yr.hasher.create(),Ar=xr.create(),kr=Ar.words,Or=yr.keySize,Dr=yr.iterations;kr.length<Or;){Er&&Ir.update(Er),Er=Ir.update(_r).finalize(vr),Ir.reset();for(var Rr=1;Rr<Dr;Rr++)Er=Ir.finalize(Er),Ir.reset();Ar.concat(Er)}return Ar.sigBytes=Or*4,Ar}});or.EvpKDF=function(_r,vr,Er){return mr.create(Er).compute(_r,vr)}}(),ar.EvpKDF})}(evpkdf)),evpkdf.exports}var cipherCore={exports:{}},hasRequiredCipherCore;function requireCipherCore(){return hasRequiredCipherCore||(hasRequiredCipherCore=1,function(fr,cr){(function(ar,or,ur){fr.exports=or(requireCore(),requireEvpkdf())})(commonjsGlobal$1,function(ar){ar.lib.Cipher||function(or){var ur=ar,lr=ur.lib,xr=lr.Base,pr=lr.WordArray,br=lr.BufferedBlockAlgorithm,mr=ur.enc;mr.Utf8;var _r=mr.Base64,vr=ur.algo,Er=vr.EvpKDF,yr=lr.Cipher=br.extend({cfg:xr.extend(),createEncryptor:function(jr,Jr){return this.create(this._ENC_XFORM_MODE,jr,Jr)},createDecryptor:function(jr,Jr){return this.create(this._DEC_XFORM_MODE,jr,Jr)},init:function(jr,Jr,Wr){this.cfg=this.cfg.extend(Wr),this._xformMode=jr,this._key=Jr,this.reset()},reset:function(){br.reset.call(this),this._doReset()},process:function(jr){return this._append(jr),this._process()},finalize:function(jr){jr&&this._append(jr);var Jr=this._doFinalize();return Jr},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function jr(Jr){return typeof Jr=="string"?Yr:Hr}return function(Jr){return{encrypt:function(Wr,ni,Mr){return jr(ni).encrypt(Jr,Wr,ni,Mr)},decrypt:function(Wr,ni,Mr){return jr(ni).decrypt(Jr,Wr,ni,Mr)}}}}()});lr.StreamCipher=yr.extend({_doFinalize:function(){var jr=this._process(!0);return jr},blockSize:1});var Ir=ur.mode={},Ar=lr.BlockCipherMode=xr.extend({createEncryptor:function(jr,Jr){return this.Encryptor.create(jr,Jr)},createDecryptor:function(jr,Jr){return this.Decryptor.create(jr,Jr)},init:function(jr,Jr){this._cipher=jr,this._iv=Jr}}),kr=Ir.CBC=function(){var jr=Ar.extend();jr.Encryptor=jr.extend({processBlock:function(Wr,ni){var Mr=this._cipher,hi=Mr.blockSize;Jr.call(this,Wr,ni,hi),Mr.encryptBlock(Wr,ni),this._prevBlock=Wr.slice(ni,ni+hi)}}),jr.Decryptor=jr.extend({processBlock:function(Wr,ni){var Mr=this._cipher,hi=Mr.blockSize,Ei=Wr.slice(ni,ni+hi);Mr.decryptBlock(Wr,ni),Jr.call(this,Wr,ni,hi),this._prevBlock=Ei}});function Jr(Wr,ni,Mr){var hi,Ei=this._iv;Ei?(hi=Ei,this._iv=or):hi=this._prevBlock;for(var _i=0;_i<Mr;_i++)Wr[ni+_i]^=hi[_i]}return jr}(),Or=ur.pad={},Dr=Or.Pkcs7={pad:function(jr,Jr){for(var Wr=Jr*4,ni=Wr-jr.sigBytes%Wr,Mr=ni<<24|ni<<16|ni<<8|ni,hi=[],Ei=0;Ei<ni;Ei+=4)hi.push(Mr);var _i=pr.create(hi,ni);jr.concat(_i)},unpad:function(jr){var Jr=jr.words[jr.sigBytes-1>>>2]&255;jr.sigBytes-=Jr}};lr.BlockCipher=yr.extend({cfg:yr.cfg.extend({mode:kr,padding:Dr}),reset:function(){var jr;yr.reset.call(this);var Jr=this.cfg,Wr=Jr.iv,ni=Jr.mode;this._xformMode==this._ENC_XFORM_MODE?jr=ni.createEncryptor:(jr=ni.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==jr?this._mode.init(this,Wr&&Wr.words):(this._mode=jr.call(ni,this,Wr&&Wr.words),this._mode.__creator=jr)},_doProcessBlock:function(jr,Jr){this._mode.processBlock(jr,Jr)},_doFinalize:function(){var jr,Jr=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(Jr.pad(this._data,this.blockSize),jr=this._process(!0)):(jr=this._process(!0),Jr.unpad(jr)),jr},blockSize:128/32});var Rr=lr.CipherParams=xr.extend({init:function(jr){this.mixIn(jr)},toString:function(jr){return(jr||this.formatter).stringify(this)}}),Fr=ur.format={},Lr=Fr.OpenSSL={stringify:function(jr){var Jr,Wr=jr.ciphertext,ni=jr.salt;return ni?Jr=pr.create([1398893684,1701076831]).concat(ni).concat(Wr):Jr=Wr,Jr.toString(_r)},parse:function(jr){var Jr,Wr=_r.parse(jr),ni=Wr.words;return ni[0]==1398893684&&ni[1]==1701076831&&(Jr=pr.create(ni.slice(2,4)),ni.splice(0,4),Wr.sigBytes-=16),Rr.create({ciphertext:Wr,salt:Jr})}},Hr=lr.SerializableCipher=xr.extend({cfg:xr.extend({format:Lr}),encrypt:function(jr,Jr,Wr,ni){ni=this.cfg.extend(ni);var Mr=jr.createEncryptor(Wr,ni),hi=Mr.finalize(Jr),Ei=Mr.cfg;return Rr.create({ciphertext:hi,key:Wr,iv:Ei.iv,algorithm:jr,mode:Ei.mode,padding:Ei.padding,blockSize:jr.blockSize,formatter:ni.format})},decrypt:function(jr,Jr,Wr,ni){ni=this.cfg.extend(ni),Jr=this._parse(Jr,ni.format);var Mr=jr.createDecryptor(Wr,ni).finalize(Jr.ciphertext);return Mr},_parse:function(jr,Jr){return typeof jr=="string"?Jr.parse(jr,this):jr}}),Ur=ur.kdf={},Zr=Ur.OpenSSL={execute:function(jr,Jr,Wr,ni,Mr){if(ni||(ni=pr.random(64/8)),Mr)var hi=Er.create({keySize:Jr+Wr,hasher:Mr}).compute(jr,ni);else var hi=Er.create({keySize:Jr+Wr}).compute(jr,ni);var Ei=pr.create(hi.words.slice(Jr),Wr*4);return hi.sigBytes=Jr*4,Rr.create({key:hi,iv:Ei,salt:ni})}},Yr=lr.PasswordBasedCipher=Hr.extend({cfg:Hr.cfg.extend({kdf:Zr}),encrypt:function(jr,Jr,Wr,ni){ni=this.cfg.extend(ni);var Mr=ni.kdf.execute(Wr,jr.keySize,jr.ivSize,ni.salt,ni.hasher);ni.iv=Mr.iv;var hi=Hr.encrypt.call(this,jr,Jr,Mr.key,ni);return hi.mixIn(Mr),hi},decrypt:function(jr,Jr,Wr,ni){ni=this.cfg.extend(ni),Jr=this._parse(Jr,ni.format);var Mr=ni.kdf.execute(Wr,jr.keySize,jr.ivSize,Jr.salt,ni.hasher);ni.iv=Mr.iv;var hi=Hr.decrypt.call(this,jr,Jr,Mr.key,ni);return hi}})}()})}(cipherCore)),cipherCore.exports}var modeCfb={exports:{}},hasRequiredModeCfb;function requireModeCfb(){return hasRequiredModeCfb||(hasRequiredModeCfb=1,function(fr,cr){(function(ar,or,ur){fr.exports=or(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(ar){return ar.mode.CFB=function(){var or=ar.lib.BlockCipherMode.extend();or.Encryptor=or.extend({processBlock:function(lr,xr){var pr=this._cipher,br=pr.blockSize;ur.call(this,lr,xr,br,pr),this._prevBlock=lr.slice(xr,xr+br)}}),or.Decryptor=or.extend({processBlock:function(lr,xr){var pr=this._cipher,br=pr.blockSize,mr=lr.slice(xr,xr+br);ur.call(this,lr,xr,br,pr),this._prevBlock=mr}});function ur(lr,xr,pr,br){var mr,_r=this._iv;_r?(mr=_r.slice(0),this._iv=void 0):mr=this._prevBlock,br.encryptBlock(mr,0);for(var vr=0;vr<pr;vr++)lr[xr+vr]^=mr[vr]}return or}(),ar.mode.CFB})}(modeCfb)),modeCfb.exports}var modeCtr={exports:{}},hasRequiredModeCtr;function requireModeCtr(){return hasRequiredModeCtr||(hasRequiredModeCtr=1,function(fr,cr){(function(ar,or,ur){fr.exports=or(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(ar){return ar.mode.CTR=function(){var or=ar.lib.BlockCipherMode.extend(),ur=or.Encryptor=or.extend({processBlock:function(lr,xr){var pr=this._cipher,br=pr.blockSize,mr=this._iv,_r=this._counter;mr&&(_r=this._counter=mr.slice(0),this._iv=void 0);var vr=_r.slice(0);pr.encryptBlock(vr,0),_r[br-1]=_r[br-1]+1|0;for(var Er=0;Er<br;Er++)lr[xr+Er]^=vr[Er]}});return or.Decryptor=ur,or}(),ar.mode.CTR})}(modeCtr)),modeCtr.exports}var modeCtrGladman={exports:{}},hasRequiredModeCtrGladman;function requireModeCtrGladman(){return hasRequiredModeCtrGladman||(hasRequiredModeCtrGladman=1,function(fr,cr){(function(ar,or,ur){fr.exports=or(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(ar){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return ar.mode.CTRGladman=function(){var or=ar.lib.BlockCipherMode.extend();function ur(pr){if((pr>>24&255)===255){var br=pr>>16&255,mr=pr>>8&255,_r=pr&255;br===255?(br=0,mr===255?(mr=0,_r===255?_r=0:++_r):++mr):++br,pr=0,pr+=br<<16,pr+=mr<<8,pr+=_r}else pr+=1<<24;return pr}function lr(pr){return(pr[0]=ur(pr[0]))===0&&(pr[1]=ur(pr[1])),pr}var xr=or.Encryptor=or.extend({processBlock:function(pr,br){var mr=this._cipher,_r=mr.blockSize,vr=this._iv,Er=this._counter;vr&&(Er=this._counter=vr.slice(0),this._iv=void 0),lr(Er);var yr=Er.slice(0);mr.encryptBlock(yr,0);for(var Ir=0;Ir<_r;Ir++)pr[br+Ir]^=yr[Ir]}});return or.Decryptor=xr,or}(),ar.mode.CTRGladman})}(modeCtrGladman)),modeCtrGladman.exports}var modeOfb={exports:{}},hasRequiredModeOfb;function requireModeOfb(){return hasRequiredModeOfb||(hasRequiredModeOfb=1,function(fr,cr){(function(ar,or,ur){fr.exports=or(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(ar){return ar.mode.OFB=function(){var or=ar.lib.BlockCipherMode.extend(),ur=or.Encryptor=or.extend({processBlock:function(lr,xr){var pr=this._cipher,br=pr.blockSize,mr=this._iv,_r=this._keystream;mr&&(_r=this._keystream=mr.slice(0),this._iv=void 0),pr.encryptBlock(_r,0);for(var vr=0;vr<br;vr++)lr[xr+vr]^=_r[vr]}});return or.Decryptor=ur,or}(),ar.mode.OFB})}(modeOfb)),modeOfb.exports}var modeEcb={exports:{}},hasRequiredModeEcb;function requireModeEcb(){return hasRequiredModeEcb||(hasRequiredModeEcb=1,function(fr,cr){(function(ar,or,ur){fr.exports=or(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(ar){return ar.mode.ECB=function(){var or=ar.lib.BlockCipherMode.extend();return or.Encryptor=or.extend({processBlock:function(ur,lr){this._cipher.encryptBlock(ur,lr)}}),or.Decryptor=or.extend({processBlock:function(ur,lr){this._cipher.decryptBlock(ur,lr)}}),or}(),ar.mode.ECB})}(modeEcb)),modeEcb.exports}var padAnsix923={exports:{}},hasRequiredPadAnsix923;function requirePadAnsix923(){return hasRequiredPadAnsix923||(hasRequiredPadAnsix923=1,function(fr,cr){(function(ar,or,ur){fr.exports=or(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(ar){return ar.pad.AnsiX923={pad:function(or,ur){var lr=or.sigBytes,xr=ur*4,pr=xr-lr%xr,br=lr+pr-1;or.clamp(),or.words[br>>>2]|=pr<<24-br%4*8,or.sigBytes+=pr},unpad:function(or){var ur=or.words[or.sigBytes-1>>>2]&255;or.sigBytes-=ur}},ar.pad.Ansix923})}(padAnsix923)),padAnsix923.exports}var padIso10126={exports:{}},hasRequiredPadIso10126;function requirePadIso10126(){return hasRequiredPadIso10126||(hasRequiredPadIso10126=1,function(fr,cr){(function(ar,or,ur){fr.exports=or(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(ar){return ar.pad.Iso10126={pad:function(or,ur){var lr=ur*4,xr=lr-or.sigBytes%lr;or.concat(ar.lib.WordArray.random(xr-1)).concat(ar.lib.WordArray.create([xr<<24],1))},unpad:function(or){var ur=or.words[or.sigBytes-1>>>2]&255;or.sigBytes-=ur}},ar.pad.Iso10126})}(padIso10126)),padIso10126.exports}var padIso97971={exports:{}},hasRequiredPadIso97971;function requirePadIso97971(){return hasRequiredPadIso97971||(hasRequiredPadIso97971=1,function(fr,cr){(function(ar,or,ur){fr.exports=or(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(ar){return ar.pad.Iso97971={pad:function(or,ur){or.concat(ar.lib.WordArray.create([2147483648],1)),ar.pad.ZeroPadding.pad(or,ur)},unpad:function(or){ar.pad.ZeroPadding.unpad(or),or.sigBytes--}},ar.pad.Iso97971})}(padIso97971)),padIso97971.exports}var padZeropadding={exports:{}},hasRequiredPadZeropadding;function requirePadZeropadding(){return hasRequiredPadZeropadding||(hasRequiredPadZeropadding=1,function(fr,cr){(function(ar,or,ur){fr.exports=or(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(ar){return ar.pad.ZeroPadding={pad:function(or,ur){var lr=ur*4;or.clamp(),or.sigBytes+=lr-(or.sigBytes%lr||lr)},unpad:function(or){for(var ur=or.words,lr=or.sigBytes-1,lr=or.sigBytes-1;lr>=0;lr--)if(ur[lr>>>2]>>>24-lr%4*8&255){or.sigBytes=lr+1;break}}},ar.pad.ZeroPadding})}(padZeropadding)),padZeropadding.exports}var padNopadding={exports:{}},hasRequiredPadNopadding;function requirePadNopadding(){return hasRequiredPadNopadding||(hasRequiredPadNopadding=1,function(fr,cr){(function(ar,or,ur){fr.exports=or(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(ar){return ar.pad.NoPadding={pad:function(){},unpad:function(){}},ar.pad.NoPadding})}(padNopadding)),padNopadding.exports}var formatHex={exports:{}},hasRequiredFormatHex;function requireFormatHex(){return hasRequiredFormatHex||(hasRequiredFormatHex=1,function(fr,cr){(function(ar,or,ur){fr.exports=or(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(ar){return function(or){var ur=ar,lr=ur.lib,xr=lr.CipherParams,pr=ur.enc,br=pr.Hex,mr=ur.format;mr.Hex={stringify:function(_r){return _r.ciphertext.toString(br)},parse:function(_r){var vr=br.parse(_r);return xr.create({ciphertext:vr})}}}(),ar.format.Hex})}(formatHex)),formatHex.exports}var aes={exports:{}},hasRequiredAes;function requireAes(){return hasRequiredAes||(hasRequiredAes=1,function(fr,cr){(function(ar,or,ur){fr.exports=or(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(ar){return function(){var or=ar,ur=or.lib,lr=ur.BlockCipher,xr=or.algo,pr=[],br=[],mr=[],_r=[],vr=[],Er=[],yr=[],Ir=[],Ar=[],kr=[];(function(){for(var Rr=[],Fr=0;Fr<256;Fr++)Fr<128?Rr[Fr]=Fr<<1:Rr[Fr]=Fr<<1^283;for(var Lr=0,Hr=0,Fr=0;Fr<256;Fr++){var Ur=Hr^Hr<<1^Hr<<2^Hr<<3^Hr<<4;Ur=Ur>>>8^Ur&255^99,pr[Lr]=Ur,br[Ur]=Lr;var Zr=Rr[Lr],Yr=Rr[Zr],jr=Rr[Yr],Jr=Rr[Ur]*257^Ur*16843008;mr[Lr]=Jr<<24|Jr>>>8,_r[Lr]=Jr<<16|Jr>>>16,vr[Lr]=Jr<<8|Jr>>>24,Er[Lr]=Jr;var Jr=jr*16843009^Yr*65537^Zr*257^Lr*16843008;yr[Ur]=Jr<<24|Jr>>>8,Ir[Ur]=Jr<<16|Jr>>>16,Ar[Ur]=Jr<<8|Jr>>>24,kr[Ur]=Jr,Lr?(Lr=Zr^Rr[Rr[Rr[jr^Zr]]],Hr^=Rr[Rr[Hr]]):Lr=Hr=1}})();var Or=[0,1,2,4,8,16,32,64,128,27,54],Dr=xr.AES=lr.extend({_doReset:function(){var Rr;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var Fr=this._keyPriorReset=this._key,Lr=Fr.words,Hr=Fr.sigBytes/4,Ur=this._nRounds=Hr+6,Zr=(Ur+1)*4,Yr=this._keySchedule=[],jr=0;jr<Zr;jr++)jr<Hr?Yr[jr]=Lr[jr]:(Rr=Yr[jr-1],jr%Hr?Hr>6&&jr%Hr==4&&(Rr=pr[Rr>>>24]<<24|pr[Rr>>>16&255]<<16|pr[Rr>>>8&255]<<8|pr[Rr&255]):(Rr=Rr<<8|Rr>>>24,Rr=pr[Rr>>>24]<<24|pr[Rr>>>16&255]<<16|pr[Rr>>>8&255]<<8|pr[Rr&255],Rr^=Or[jr/Hr|0]<<24),Yr[jr]=Yr[jr-Hr]^Rr);for(var Jr=this._invKeySchedule=[],Wr=0;Wr<Zr;Wr++){var jr=Zr-Wr;if(Wr%4)var Rr=Yr[jr];else var Rr=Yr[jr-4];Wr<4||jr<=4?Jr[Wr]=Rr:Jr[Wr]=yr[pr[Rr>>>24]]^Ir[pr[Rr>>>16&255]]^Ar[pr[Rr>>>8&255]]^kr[pr[Rr&255]]}}},encryptBlock:function(Rr,Fr){this._doCryptBlock(Rr,Fr,this._keySchedule,mr,_r,vr,Er,pr)},decryptBlock:function(Rr,Fr){var Lr=Rr[Fr+1];Rr[Fr+1]=Rr[Fr+3],Rr[Fr+3]=Lr,this._doCryptBlock(Rr,Fr,this._invKeySchedule,yr,Ir,Ar,kr,br);var Lr=Rr[Fr+1];Rr[Fr+1]=Rr[Fr+3],Rr[Fr+3]=Lr},_doCryptBlock:function(Rr,Fr,Lr,Hr,Ur,Zr,Yr,jr){for(var Jr=this._nRounds,Wr=Rr[Fr]^Lr[0],ni=Rr[Fr+1]^Lr[1],Mr=Rr[Fr+2]^Lr[2],hi=Rr[Fr+3]^Lr[3],Ei=4,_i=1;_i<Jr;_i++){var Fi=Hr[Wr>>>24]^Ur[ni>>>16&255]^Zr[Mr>>>8&255]^Yr[hi&255]^Lr[Ei++],si=Hr[ni>>>24]^Ur[Mr>>>16&255]^Zr[hi>>>8&255]^Yr[Wr&255]^Lr[Ei++],ci=Hr[Mr>>>24]^Ur[hi>>>16&255]^Zr[Wr>>>8&255]^Yr[ni&255]^Lr[Ei++],$r=Hr[hi>>>24]^Ur[Wr>>>16&255]^Zr[ni>>>8&255]^Yr[Mr&255]^Lr[Ei++];Wr=Fi,ni=si,Mr=ci,hi=$r}var Fi=(jr[Wr>>>24]<<24|jr[ni>>>16&255]<<16|jr[Mr>>>8&255]<<8|jr[hi&255])^Lr[Ei++],si=(jr[ni>>>24]<<24|jr[Mr>>>16&255]<<16|jr[hi>>>8&255]<<8|jr[Wr&255])^Lr[Ei++],ci=(jr[Mr>>>24]<<24|jr[hi>>>16&255]<<16|jr[Wr>>>8&255]<<8|jr[ni&255])^Lr[Ei++],$r=(jr[hi>>>24]<<24|jr[Wr>>>16&255]<<16|jr[ni>>>8&255]<<8|jr[Mr&255])^Lr[Ei++];Rr[Fr]=Fi,Rr[Fr+1]=si,Rr[Fr+2]=ci,Rr[Fr+3]=$r},keySize:256/32});or.AES=lr._createHelper(Dr)}(),ar.AES})}(aes)),aes.exports}var tripledes={exports:{}},hasRequiredTripledes;function requireTripledes(){return hasRequiredTripledes||(hasRequiredTripledes=1,function(fr,cr){(function(ar,or,ur){fr.exports=or(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(ar){return function(){var or=ar,ur=or.lib,lr=ur.WordArray,xr=ur.BlockCipher,pr=or.algo,br=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],mr=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],_r=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],vr=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],Er=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],yr=pr.DES=xr.extend({_doReset:function(){for(var Or=this._key,Dr=Or.words,Rr=[],Fr=0;Fr<56;Fr++){var Lr=br[Fr]-1;Rr[Fr]=Dr[Lr>>>5]>>>31-Lr%32&1}for(var Hr=this._subKeys=[],Ur=0;Ur<16;Ur++){for(var Zr=Hr[Ur]=[],Yr=_r[Ur],Fr=0;Fr<24;Fr++)Zr[Fr/6|0]|=Rr[(mr[Fr]-1+Yr)%28]<<31-Fr%6,Zr[4+(Fr/6|0)]|=Rr[28+(mr[Fr+24]-1+Yr)%28]<<31-Fr%6;Zr[0]=Zr[0]<<1|Zr[0]>>>31;for(var Fr=1;Fr<7;Fr++)Zr[Fr]=Zr[Fr]>>>(Fr-1)*4+3;Zr[7]=Zr[7]<<5|Zr[7]>>>27}for(var jr=this._invSubKeys=[],Fr=0;Fr<16;Fr++)jr[Fr]=Hr[15-Fr]},encryptBlock:function(Or,Dr){this._doCryptBlock(Or,Dr,this._subKeys)},decryptBlock:function(Or,Dr){this._doCryptBlock(Or,Dr,this._invSubKeys)},_doCryptBlock:function(Or,Dr,Rr){this._lBlock=Or[Dr],this._rBlock=Or[Dr+1],Ir.call(this,4,252645135),Ir.call(this,16,65535),Ar.call(this,2,858993459),Ar.call(this,8,16711935),Ir.call(this,1,1431655765);for(var Fr=0;Fr<16;Fr++){for(var Lr=Rr[Fr],Hr=this._lBlock,Ur=this._rBlock,Zr=0,Yr=0;Yr<8;Yr++)Zr|=vr[Yr][((Ur^Lr[Yr])&Er[Yr])>>>0];this._lBlock=Ur,this._rBlock=Hr^Zr}var jr=this._lBlock;this._lBlock=this._rBlock,this._rBlock=jr,Ir.call(this,1,1431655765),Ar.call(this,8,16711935),Ar.call(this,2,858993459),Ir.call(this,16,65535),Ir.call(this,4,252645135),Or[Dr]=this._lBlock,Or[Dr+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function Ir(Or,Dr){var Rr=(this._lBlock>>>Or^this._rBlock)&Dr;this._rBlock^=Rr,this._lBlock^=Rr<<Or}function Ar(Or,Dr){var Rr=(this._rBlock>>>Or^this._lBlock)&Dr;this._lBlock^=Rr,this._rBlock^=Rr<<Or}or.DES=xr._createHelper(yr);var kr=pr.TripleDES=xr.extend({_doReset:function(){var Or=this._key,Dr=Or.words;if(Dr.length!==2&&Dr.length!==4&&Dr.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var Rr=Dr.slice(0,2),Fr=Dr.length<4?Dr.slice(0,2):Dr.slice(2,4),Lr=Dr.length<6?Dr.slice(0,2):Dr.slice(4,6);this._des1=yr.createEncryptor(lr.create(Rr)),this._des2=yr.createEncryptor(lr.create(Fr)),this._des3=yr.createEncryptor(lr.create(Lr))},encryptBlock:function(Or,Dr){this._des1.encryptBlock(Or,Dr),this._des2.decryptBlock(Or,Dr),this._des3.encryptBlock(Or,Dr)},decryptBlock:function(Or,Dr){this._des3.decryptBlock(Or,Dr),this._des2.encryptBlock(Or,Dr),this._des1.decryptBlock(Or,Dr)},keySize:192/32,ivSize:64/32,blockSize:64/32});or.TripleDES=xr._createHelper(kr)}(),ar.TripleDES})}(tripledes)),tripledes.exports}var rc4={exports:{}},hasRequiredRc4;function requireRc4(){return hasRequiredRc4||(hasRequiredRc4=1,function(fr,cr){(function(ar,or,ur){fr.exports=or(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(ar){return function(){var or=ar,ur=or.lib,lr=ur.StreamCipher,xr=or.algo,pr=xr.RC4=lr.extend({_doReset:function(){for(var _r=this._key,vr=_r.words,Er=_r.sigBytes,yr=this._S=[],Ir=0;Ir<256;Ir++)yr[Ir]=Ir;for(var Ir=0,Ar=0;Ir<256;Ir++){var kr=Ir%Er,Or=vr[kr>>>2]>>>24-kr%4*8&255;Ar=(Ar+yr[Ir]+Or)%256;var Dr=yr[Ir];yr[Ir]=yr[Ar],yr[Ar]=Dr}this._i=this._j=0},_doProcessBlock:function(_r,vr){_r[vr]^=br.call(this)},keySize:256/32,ivSize:0});function br(){for(var _r=this._S,vr=this._i,Er=this._j,yr=0,Ir=0;Ir<4;Ir++){vr=(vr+1)%256,Er=(Er+_r[vr])%256;var Ar=_r[vr];_r[vr]=_r[Er],_r[Er]=Ar,yr|=_r[(_r[vr]+_r[Er])%256]<<24-Ir*8}return this._i=vr,this._j=Er,yr}or.RC4=lr._createHelper(pr);var mr=xr.RC4Drop=pr.extend({cfg:pr.cfg.extend({drop:192}),_doReset:function(){pr._doReset.call(this);for(var _r=this.cfg.drop;_r>0;_r--)br.call(this)}});or.RC4Drop=lr._createHelper(mr)}(),ar.RC4})}(rc4)),rc4.exports}var rabbit={exports:{}},hasRequiredRabbit;function requireRabbit(){return hasRequiredRabbit||(hasRequiredRabbit=1,function(fr,cr){(function(ar,or,ur){fr.exports=or(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(ar){return function(){var or=ar,ur=or.lib,lr=ur.StreamCipher,xr=or.algo,pr=[],br=[],mr=[],_r=xr.Rabbit=lr.extend({_doReset:function(){for(var Er=this._key.words,yr=this.cfg.iv,Ir=0;Ir<4;Ir++)Er[Ir]=(Er[Ir]<<8|Er[Ir]>>>24)&16711935|(Er[Ir]<<24|Er[Ir]>>>8)&4278255360;var Ar=this._X=[Er[0],Er[3]<<16|Er[2]>>>16,Er[1],Er[0]<<16|Er[3]>>>16,Er[2],Er[1]<<16|Er[0]>>>16,Er[3],Er[2]<<16|Er[1]>>>16],kr=this._C=[Er[2]<<16|Er[2]>>>16,Er[0]&4294901760|Er[1]&65535,Er[3]<<16|Er[3]>>>16,Er[1]&4294901760|Er[2]&65535,Er[0]<<16|Er[0]>>>16,Er[2]&4294901760|Er[3]&65535,Er[1]<<16|Er[1]>>>16,Er[3]&4294901760|Er[0]&65535];this._b=0;for(var Ir=0;Ir<4;Ir++)vr.call(this);for(var Ir=0;Ir<8;Ir++)kr[Ir]^=Ar[Ir+4&7];if(yr){var Or=yr.words,Dr=Or[0],Rr=Or[1],Fr=(Dr<<8|Dr>>>24)&16711935|(Dr<<24|Dr>>>8)&4278255360,Lr=(Rr<<8|Rr>>>24)&16711935|(Rr<<24|Rr>>>8)&4278255360,Hr=Fr>>>16|Lr&4294901760,Ur=Lr<<16|Fr&65535;kr[0]^=Fr,kr[1]^=Hr,kr[2]^=Lr,kr[3]^=Ur,kr[4]^=Fr,kr[5]^=Hr,kr[6]^=Lr,kr[7]^=Ur;for(var Ir=0;Ir<4;Ir++)vr.call(this)}},_doProcessBlock:function(Er,yr){var Ir=this._X;vr.call(this),pr[0]=Ir[0]^Ir[5]>>>16^Ir[3]<<16,pr[1]=Ir[2]^Ir[7]>>>16^Ir[5]<<16,pr[2]=Ir[4]^Ir[1]>>>16^Ir[7]<<16,pr[3]=Ir[6]^Ir[3]>>>16^Ir[1]<<16;for(var Ar=0;Ar<4;Ar++)pr[Ar]=(pr[Ar]<<8|pr[Ar]>>>24)&16711935|(pr[Ar]<<24|pr[Ar]>>>8)&4278255360,Er[yr+Ar]^=pr[Ar]},blockSize:128/32,ivSize:64/32});function vr(){for(var Er=this._X,yr=this._C,Ir=0;Ir<8;Ir++)br[Ir]=yr[Ir];yr[0]=yr[0]+1295307597+this._b|0,yr[1]=yr[1]+3545052371+(yr[0]>>>0<br[0]>>>0?1:0)|0,yr[2]=yr[2]+886263092+(yr[1]>>>0<br[1]>>>0?1:0)|0,yr[3]=yr[3]+1295307597+(yr[2]>>>0<br[2]>>>0?1:0)|0,yr[4]=yr[4]+3545052371+(yr[3]>>>0<br[3]>>>0?1:0)|0,yr[5]=yr[5]+886263092+(yr[4]>>>0<br[4]>>>0?1:0)|0,yr[6]=yr[6]+1295307597+(yr[5]>>>0<br[5]>>>0?1:0)|0,yr[7]=yr[7]+3545052371+(yr[6]>>>0<br[6]>>>0?1:0)|0,this._b=yr[7]>>>0<br[7]>>>0?1:0;for(var Ir=0;Ir<8;Ir++){var Ar=Er[Ir]+yr[Ir],kr=Ar&65535,Or=Ar>>>16,Dr=((kr*kr>>>17)+kr*Or>>>15)+Or*Or,Rr=((Ar&4294901760)*Ar|0)+((Ar&65535)*Ar|0);mr[Ir]=Dr^Rr}Er[0]=mr[0]+(mr[7]<<16|mr[7]>>>16)+(mr[6]<<16|mr[6]>>>16)|0,Er[1]=mr[1]+(mr[0]<<8|mr[0]>>>24)+mr[7]|0,Er[2]=mr[2]+(mr[1]<<16|mr[1]>>>16)+(mr[0]<<16|mr[0]>>>16)|0,Er[3]=mr[3]+(mr[2]<<8|mr[2]>>>24)+mr[1]|0,Er[4]=mr[4]+(mr[3]<<16|mr[3]>>>16)+(mr[2]<<16|mr[2]>>>16)|0,Er[5]=mr[5]+(mr[4]<<8|mr[4]>>>24)+mr[3]|0,Er[6]=mr[6]+(mr[5]<<16|mr[5]>>>16)+(mr[4]<<16|mr[4]>>>16)|0,Er[7]=mr[7]+(mr[6]<<8|mr[6]>>>24)+mr[5]|0}or.Rabbit=lr._createHelper(_r)}(),ar.Rabbit})}(rabbit)),rabbit.exports}var rabbitLegacy={exports:{}},hasRequiredRabbitLegacy;function requireRabbitLegacy(){return hasRequiredRabbitLegacy||(hasRequiredRabbitLegacy=1,function(fr,cr){(function(ar,or,ur){fr.exports=or(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(ar){return function(){var or=ar,ur=or.lib,lr=ur.StreamCipher,xr=or.algo,pr=[],br=[],mr=[],_r=xr.RabbitLegacy=lr.extend({_doReset:function(){var Er=this._key.words,yr=this.cfg.iv,Ir=this._X=[Er[0],Er[3]<<16|Er[2]>>>16,Er[1],Er[0]<<16|Er[3]>>>16,Er[2],Er[1]<<16|Er[0]>>>16,Er[3],Er[2]<<16|Er[1]>>>16],Ar=this._C=[Er[2]<<16|Er[2]>>>16,Er[0]&4294901760|Er[1]&65535,Er[3]<<16|Er[3]>>>16,Er[1]&4294901760|Er[2]&65535,Er[0]<<16|Er[0]>>>16,Er[2]&4294901760|Er[3]&65535,Er[1]<<16|Er[1]>>>16,Er[3]&4294901760|Er[0]&65535];this._b=0;for(var kr=0;kr<4;kr++)vr.call(this);for(var kr=0;kr<8;kr++)Ar[kr]^=Ir[kr+4&7];if(yr){var Or=yr.words,Dr=Or[0],Rr=Or[1],Fr=(Dr<<8|Dr>>>24)&16711935|(Dr<<24|Dr>>>8)&4278255360,Lr=(Rr<<8|Rr>>>24)&16711935|(Rr<<24|Rr>>>8)&4278255360,Hr=Fr>>>16|Lr&4294901760,Ur=Lr<<16|Fr&65535;Ar[0]^=Fr,Ar[1]^=Hr,Ar[2]^=Lr,Ar[3]^=Ur,Ar[4]^=Fr,Ar[5]^=Hr,Ar[6]^=Lr,Ar[7]^=Ur;for(var kr=0;kr<4;kr++)vr.call(this)}},_doProcessBlock:function(Er,yr){var Ir=this._X;vr.call(this),pr[0]=Ir[0]^Ir[5]>>>16^Ir[3]<<16,pr[1]=Ir[2]^Ir[7]>>>16^Ir[5]<<16,pr[2]=Ir[4]^Ir[1]>>>16^Ir[7]<<16,pr[3]=Ir[6]^Ir[3]>>>16^Ir[1]<<16;for(var Ar=0;Ar<4;Ar++)pr[Ar]=(pr[Ar]<<8|pr[Ar]>>>24)&16711935|(pr[Ar]<<24|pr[Ar]>>>8)&4278255360,Er[yr+Ar]^=pr[Ar]},blockSize:128/32,ivSize:64/32});function vr(){for(var Er=this._X,yr=this._C,Ir=0;Ir<8;Ir++)br[Ir]=yr[Ir];yr[0]=yr[0]+1295307597+this._b|0,yr[1]=yr[1]+3545052371+(yr[0]>>>0<br[0]>>>0?1:0)|0,yr[2]=yr[2]+886263092+(yr[1]>>>0<br[1]>>>0?1:0)|0,yr[3]=yr[3]+1295307597+(yr[2]>>>0<br[2]>>>0?1:0)|0,yr[4]=yr[4]+3545052371+(yr[3]>>>0<br[3]>>>0?1:0)|0,yr[5]=yr[5]+886263092+(yr[4]>>>0<br[4]>>>0?1:0)|0,yr[6]=yr[6]+1295307597+(yr[5]>>>0<br[5]>>>0?1:0)|0,yr[7]=yr[7]+3545052371+(yr[6]>>>0<br[6]>>>0?1:0)|0,this._b=yr[7]>>>0<br[7]>>>0?1:0;for(var Ir=0;Ir<8;Ir++){var Ar=Er[Ir]+yr[Ir],kr=Ar&65535,Or=Ar>>>16,Dr=((kr*kr>>>17)+kr*Or>>>15)+Or*Or,Rr=((Ar&4294901760)*Ar|0)+((Ar&65535)*Ar|0);mr[Ir]=Dr^Rr}Er[0]=mr[0]+(mr[7]<<16|mr[7]>>>16)+(mr[6]<<16|mr[6]>>>16)|0,Er[1]=mr[1]+(mr[0]<<8|mr[0]>>>24)+mr[7]|0,Er[2]=mr[2]+(mr[1]<<16|mr[1]>>>16)+(mr[0]<<16|mr[0]>>>16)|0,Er[3]=mr[3]+(mr[2]<<8|mr[2]>>>24)+mr[1]|0,Er[4]=mr[4]+(mr[3]<<16|mr[3]>>>16)+(mr[2]<<16|mr[2]>>>16)|0,Er[5]=mr[5]+(mr[4]<<8|mr[4]>>>24)+mr[3]|0,Er[6]=mr[6]+(mr[5]<<16|mr[5]>>>16)+(mr[4]<<16|mr[4]>>>16)|0,Er[7]=mr[7]+(mr[6]<<8|mr[6]>>>24)+mr[5]|0}or.RabbitLegacy=lr._createHelper(_r)}(),ar.RabbitLegacy})}(rabbitLegacy)),rabbitLegacy.exports}var blowfish={exports:{}},hasRequiredBlowfish;function requireBlowfish(){return hasRequiredBlowfish||(hasRequiredBlowfish=1,function(fr,cr){(function(ar,or,ur){fr.exports=or(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(ar){return function(){var or=ar,ur=or.lib,lr=ur.BlockCipher,xr=or.algo;const pr=16,br=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],mr=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var _r={pbox:[],sbox:[]};function vr(kr,Or){let Dr=Or>>24&255,Rr=Or>>16&255,Fr=Or>>8&255,Lr=Or&255,Hr=kr.sbox[0][Dr]+kr.sbox[1][Rr];return Hr=Hr^kr.sbox[2][Fr],Hr=Hr+kr.sbox[3][Lr],Hr}function Er(kr,Or,Dr){let Rr=Or,Fr=Dr,Lr;for(let Hr=0;Hr<pr;++Hr)Rr=Rr^kr.pbox[Hr],Fr=vr(kr,Rr)^Fr,Lr=Rr,Rr=Fr,Fr=Lr;return Lr=Rr,Rr=Fr,Fr=Lr,Fr=Fr^kr.pbox[pr],Rr=Rr^kr.pbox[pr+1],{left:Rr,right:Fr}}function yr(kr,Or,Dr){let Rr=Or,Fr=Dr,Lr;for(let Hr=pr+1;Hr>1;--Hr)Rr=Rr^kr.pbox[Hr],Fr=vr(kr,Rr)^Fr,Lr=Rr,Rr=Fr,Fr=Lr;return Lr=Rr,Rr=Fr,Fr=Lr,Fr=Fr^kr.pbox[1],Rr=Rr^kr.pbox[0],{left:Rr,right:Fr}}function Ir(kr,Or,Dr){for(let Ur=0;Ur<4;Ur++){kr.sbox[Ur]=[];for(let Zr=0;Zr<256;Zr++)kr.sbox[Ur][Zr]=mr[Ur][Zr]}let Rr=0;for(let Ur=0;Ur<pr+2;Ur++)kr.pbox[Ur]=br[Ur]^Or[Rr],Rr++,Rr>=Dr&&(Rr=0);let Fr=0,Lr=0,Hr=0;for(let Ur=0;Ur<pr+2;Ur+=2)Hr=Er(kr,Fr,Lr),Fr=Hr.left,Lr=Hr.right,kr.pbox[Ur]=Fr,kr.pbox[Ur+1]=Lr;for(let Ur=0;Ur<4;Ur++)for(let Zr=0;Zr<256;Zr+=2)Hr=Er(kr,Fr,Lr),Fr=Hr.left,Lr=Hr.right,kr.sbox[Ur][Zr]=Fr,kr.sbox[Ur][Zr+1]=Lr;return!0}var Ar=xr.Blowfish=lr.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var kr=this._keyPriorReset=this._key,Or=kr.words,Dr=kr.sigBytes/4;Ir(_r,Or,Dr)}},encryptBlock:function(kr,Or){var Dr=Er(_r,kr[Or],kr[Or+1]);kr[Or]=Dr.left,kr[Or+1]=Dr.right},decryptBlock:function(kr,Or){var Dr=yr(_r,kr[Or],kr[Or+1]);kr[Or]=Dr.left,kr[Or+1]=Dr.right},blockSize:64/32,keySize:128/32,ivSize:64/32});or.Blowfish=lr._createHelper(Ar)}(),ar.Blowfish})}(blowfish)),blowfish.exports}(function(fr,cr){(function(ar,or,ur){fr.exports=or(requireCore(),requireX64Core(),requireLibTypedarrays(),requireEncUtf16(),requireEncBase64(),requireEncBase64url(),requireMd5(),requireSha1(),requireSha256(),requireSha224(),requireSha512(),requireSha384(),requireSha3(),requireRipemd160(),requireHmac(),requirePbkdf2(),requireEvpkdf(),requireCipherCore(),requireModeCfb(),requireModeCtr(),requireModeCtrGladman(),requireModeOfb(),requireModeEcb(),requirePadAnsix923(),requirePadIso10126(),requirePadIso97971(),requirePadZeropadding(),requirePadNopadding(),requireFormatHex(),requireAes(),requireTripledes(),requireRc4(),requireRabbit(),requireRabbitLegacy(),requireBlowfish())})(commonjsGlobal$1,function(ar){return ar})})(cryptoJs);var cryptoJsExports=cryptoJs.exports;const _0x5e297e=getDefaultExportFromCjs$1(cryptoJsExports);function _0x5bc9(fr,cr){const ar=_0x46a2();return _0x5bc9=function(or,ur){return or=or-295,ar[or]},_0x5bc9(fr,cr)}const _0x580b0b=_0x5bc9;function _0x46a2(){const fr=["messages","startY","startX","textContent","54SsTuZW","4504291sEmCJa","innerHTML","display","cursor","padding","toggleVisibility","body","initialX","touchstart","rgba(0, 0, 0, 0.8)","setMessage","keys","appendChild","clearMessage","DEBUG","offsetTop","isDragging","Debug mode enabled. You can drag this panel freely. Type SET DEBUG 0 to disable.","auto","290MOvkXc","createElement","addEventListener","getValue","258NlTACT","height","init","color","touchmove","clearMessages","length","99999999","touchend","37124TcPBHP","519280EEHrWe","fixed","position","debug-panel","2996140fsDljT","offsetLeft","borderRadius","renderMessages","updateMessage","top","zIndex","left","949dZTAVi","clientX","block","12BtvDpN","305XAIMfW","white","mouseup","5px","initialY","forEach","clientY","debugPanel","5px 0","588759lRTyMU","maxWidth","touches","isVisible","style","fontSize","none","margin","sort","backgroundColor","300px","div","60585HXujQe","fontFamily","10px"];return _0x46a2=function(){return fr},_0x46a2()}(function(fr,cr){const ar=_0x5bc9,or=fr();for(;[];)try{if(parseInt(ar(365))/1*(-parseInt(ar(339))/2)+-parseInt(ar(300))/3+parseInt(ar(352))/4*(parseInt(ar(369))/5)+parseInt(ar(343))/6*(parseInt(ar(312))/7)+parseInt(ar(353))/8*(parseInt(ar(319))/9)+-parseInt(ar(357))/10+-parseInt(ar(320))/11*(parseInt(ar(368))/12)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x46a2,284813);var ux,lx,Ac,pf;const Mi=class Mi{static init(){var ar;const cr=_0x580b0b;!Mi.debugPanel&&(Mi[cr(298)]=document.createElement(cr(311)),Mi[cr(298)].id=cr(356),Mi[cr(298)][cr(304)][cr(322)]="none",Mi[cr(298)][cr(304)][cr(355)]=cr(354),Mi.debugPanel[cr(304)][cr(309)]=cr(329),Mi.debugPanel[cr(304)][cr(346)]=cr(370),Mi[cr(298)][cr(304)][cr(324)]=cr(314),Mi.debugPanel[cr(304)][cr(359)]=cr(372),Mi[cr(298)][cr(304)][cr(363)]=cr(350),Mi[cr(298)][cr(304)][cr(301)]=cr(310),Mi[cr(298)][cr(304)][cr(313)]="Helvetica, Arial, sans-serif",Mi[cr(298)].style[cr(305)]="14px",Mi[cr(298)][cr(304)][cr(344)]=cr(338),Mi.debugPanel[cr(304)].right=cr(314),Mi[cr(298)].style[cr(362)]="10px",Mi[cr(298)][cr(304)][cr(323)]="grab",document[cr(326)][cr(332)](Mi[cr(298)]),Pi(ar=Mi,Ac,pf).call(ar))}static[(ux=_0x580b0b(303),lx=_0x580b0b(315),_0x580b0b(325))](){const cr=_0x580b0b;Mi[cr(303)]=!Mi[cr(303)],Mi[cr(298)][cr(304)][cr(322)]=Mi[cr(303)]?"block":cr(306)}static setVisible(cr){const ar=_0x580b0b;Object[ar(331)](Mi.messages).length===0&&Mi[ar(330)](ar(337)),Mi[ar(303)]=cr,Mi[ar(298)][ar(304)][ar(322)]=cr?"block":ar(306)}static[_0x580b0b(361)](cr,ar){const or=_0x580b0b;typeof ar=="string"?Mi.messages[cr]=ar:Mi[or(315)][cr]=String(ar),Mi[or(360)]()}static[_0x580b0b(333)](cr){const ar=_0x580b0b;delete Mi[ar(315)][cr],Mi[ar(360)]()}static[_0x580b0b(348)](){const cr=_0x580b0b;Mi[cr(315)]={},Mi[cr(360)]()}static[_0x580b0b(330)](cr){const ar=_0x580b0b;Mi.messages={},Mi.debugPanel[ar(321)]="";const or=document[ar(340)]("p");or[ar(318)]=cr,or[ar(304)].margin=ar(299),Mi.debugPanel.appendChild(or),Mi[ar(298)][ar(304)][ar(322)]=ar(367),Mi.isVisible=!![]}static[_0x580b0b(360)](){const cr=_0x580b0b,ar=Object[cr(331)](Mi.messages)[cr(308)]();Mi[cr(298)][cr(321)]="",ar[cr(296)](or=>{const ur=cr,lr=document[ur(340)]("p");lr[ur(318)]=Mi[ur(315)][or],lr[ur(304)][ur(307)]=ur(299),Mi[ur(298)][ur(332)](lr)}),ar[cr(349)]>0?(Mi[cr(298)].style[cr(322)]="block",Mi[cr(303)]=!![]):(Mi.debugPanel[cr(304)][cr(322)]=cr(306),Mi[cr(303)]=![])}static isEnabled(){const cr=_0x580b0b;return StorageManager[cr(342)](cr(334))=="1"}};Ac=new WeakSet,pf=function(){const cr=_0x580b0b;Mi[cr(298)][cr(341)](cr(328),ar=>{const or=cr;Mi[or(336)]=!![],Mi.startX=ar[or(302)][0][or(366)],Mi[or(316)]=ar.touches[0][or(297)],Mi.initialX=Mi[or(298)].offsetLeft,Mi[or(295)]=Mi[or(298)].offsetTop}),Mi.debugPanel[cr(341)](cr(347),ar=>{const or=cr;if(Mi[or(336)]){let ur=ar[or(302)][0][or(366)]-Mi[or(317)],lr=ar[or(302)][0][or(297)]-Mi[or(316)];Mi[or(298)][or(304)][or(364)]=Mi.initialX+ur+"px",Mi[or(298)].style[or(362)]=Mi.initialY+lr+"px"}}),Mi[cr(298)].addEventListener(cr(351),()=>{const ar=cr;Mi[ar(336)]=![]}),Mi.debugPanel[cr(341)]("mousedown",ar=>{const or=cr;Mi[or(336)]=!![],Mi[or(317)]=ar[or(366)],Mi.startY=ar[or(297)],Mi[or(327)]=Mi[or(298)][or(358)],Mi[or(295)]=Mi[or(298)][or(335)]}),document[cr(341)]("mousemove",ar=>{const or=cr;if(Mi[or(336)]){let ur=ar.clientX-Mi[or(317)],lr=ar[or(297)]-Mi[or(316)];Mi[or(298)][or(304)][or(364)]=Mi.initialX+ur+"px",Mi[or(298)][or(304)][or(362)]=Mi.initialY+lr+"px"}}),document[cr(341)](cr(371),()=>{const ar=cr;Mi[ar(336)]=![]})},mi(Mi,Ac),ha(Mi,"debugPanel",null),ha(Mi,ux,![]),ha(Mi,"isDragging",![]),ha(Mi,lx,{});let Debug=Mi;Debug[_0x580b0b(345)]();const _0x49e7e3=_0x565b;function _0x565b(fr,cr){const ar=_0x5256();return _0x565b=function(or,ur){return or=or-158,ar[or]},_0x565b(fr,cr)}(function(fr,cr){const ar=_0x565b,or=fr();for(;[];)try{if(parseInt(ar(267))/1+-parseInt(ar(159))/2+parseInt(ar(261))/3+-parseInt(ar(164))/4+parseInt(ar(189))/5*(-parseInt(ar(270))/6)+parseInt(ar(167))/7*(parseInt(ar(166))/8)+-parseInt(ar(214))/9*(-parseInt(ar(181))/10)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x5256,619739);function _0x5256(){const fr=["screenshot","38905jcAwni","revokeObjectURL","getContext","++id, rom_data, hash, data_type","split","count","equals","key, data","map","storeFile","image/png","Failed to save collection:","file","readAsDataURL","length","Storing file","src","collectionMeta","++id, save_data","collection_name","getValue","getAllSaveMeta","save_data_id","key","type","98019XRqgzg","rom_data","where","data","collection_image","image",".software","toString","++id, rom_data, hash","get","updateMessage","width","description","saveMeta","reverse","drawImage","charCodeAt","deleteSave","VME","++id, platform_id, program_name, save_data_id, rom_data_id, timestamp","getCollections","collectionItemData","getFile","blob","save_data","onloadend","atari2600","table","toArray","Failed to save state:","rom_data_id","modify","delete","height","name","canvas","collection_id","++id, collection_unique_name, collection_title, collection_image","first","load","onload","getRomData","platform_id","readAsArrayBuffer","dependencies","deleteAllCollections","clearValue","1228905DeGMhf","blobToBase64","createObjectURL","lib","++id, collection_id, platform_id, title, credits, description, image, rom_name, rom_data_id, rom_url, launched","target","1027903zeLEWQ","removeItem","setItem","894SSXYSS","program_name","VME_INTERNAL.","storeState","getItem","base64","270198OIEnbd","files","romData","transaction","data_type","3850700VdWmQX","isEnabled","16aDreEs","3284253oiVokZ","onerror","stores","put","push","saveData","toCollection","filename","Failed to delete entries with id ","timestamp","version","storeValue","storeCollection","result","460rwVSRp","checkFiles","amiga","add","base64ToBlob","error","getCollectionItems"];return _0x5256=function(){return fr},_0x5256()}var Xi,qs,Ic,k0,Wu,Cc,_f;const jo=class jo{constructor(){mi(this,k0);mi(this,Cc);mi(this,Xi,void 0);const cr=_0x49e7e3;Ci(this,Xi,new Xn(Nr(jo,Ic))),Nr(this,Xi).version(2).stores({files:cr(196),saveMeta:cr(233),saveData:"++id, save_data",romData:cr(222)}),Nr(this,Xi)[cr(177)](3)[cr(169)]({files:cr(196),saveMeta:"++id, platform_id, program_name, save_data_id, rom_data_id, timestamp",saveData:cr(207),romData:cr(192),collectionMeta:cr(251),collectionItemData:cr(265)}).upgrade(ar=>{const or=cr;return ar[or(241)]("romData")[or(173)]()[or(245)](ur=>{const lr=or;ur.data_type=lr(158)})})}static[_0x49e7e3(178)](cr,ar){const or=_0x49e7e3;localStorage[or(269)](Nr(jo,qs)+cr,ar)}static[_0x49e7e3(260)](cr){const ar=_0x49e7e3;localStorage[ar(268)](Nr(jo,qs)+cr)}static[_0x49e7e3(209)](cr,ar){const or=_0x49e7e3;let ur=localStorage[or(274)](Nr(jo,qs)+cr);return ur??ar}async[_0x49e7e3(198)](cr,ar){const or=_0x49e7e3;Debug[or(165)]()&&Debug.updateMessage(or(253),or(204)),await Nr(this,Xi)[or(160)][or(170)]({key:cr,data:ar})}async[_0x49e7e3(236)](cr){const ar=_0x49e7e3,or=await Nr(this,Xi)[ar(160)].where({key:cr})[ar(252)]();return or?or[ar(217)]:null}async deleteFile(cr){const ar=_0x49e7e3;Debug[ar(224)]("load","Deleting file"),await Nr(this,Xi).files[ar(216)]({key:cr}).delete()}async[_0x49e7e3(182)](cr){return new Promise(async ar=>{const or=_0x565b;let ur={},lr=[];if(cr[or(258)]){const br=cr[or(258)][or(197)](mr=>({...mr,key:cr[or(256)]+"."+mr[or(212)]}));for(const mr of br){const _r=await this[or(236)](mr[or(212)]);_r?ur[mr[or(212)]]=_r:lr[or(171)](mr[or(213)])}}const xr=cr[or(256)]+or(220),pr=await this[or(236)](xr)||null;ar([ur,lr,pr])})}async[_0x49e7e3(179)](cr,ar,or,ur){const lr=_0x49e7e3;await this[lr(259)]();const xr=[];for(const pr of ur){const br=await Pi(this,k0,Wu).call(this,pr.file),mr=await this[lr(262)](pr[lr(219)]),_r=await Nr(this,Xi)[lr(161)][lr(216)]({hash:br})[lr(252)]();xr.push({item:pr,hash:br,existing:_r,itemImageB64:mr})}try{return await Nr(this,Xi)[lr(162)]("rw",Nr(this,Xi)[lr(206)],Nr(this,Xi)[lr(235)],Nr(this,Xi).romData,async()=>{const pr=lr,br=await Nr(this,Xi).collectionMeta[pr(184)]({collection_unique_name:cr,collection_title:ar,collection_image:or});for(const{item:mr,hash:_r,existing:vr,itemImageB64:Er}of xr){let yr;vr?yr=vr.id:yr=await Nr(this,Xi)[pr(161)][pr(184)]({rom_data:mr[pr(201)],hash:_r,data_type:pr(237)}),await Nr(this,Xi)[pr(235)][pr(184)]({collection_id:br,platform_id:mr[pr(256)],title:mr.title,credits:mr.credits,description:mr[pr(226)],image:Er,rom_name:mr[pr(174)],rom_data_id:yr,launched:![]})}}),!![]}catch(pr){return console[lr(186)](lr(200),pr),![]}}async[_0x49e7e3(187)](){const cr=_0x49e7e3;return(await Nr(this,Xi).collectionItemData[cr(242)]())[cr(197)](or=>{const ur=cr;return or[ur(188)]&&(or[ur(250)]=or.id,or[ur(248)]=or[ur(208)],or[ur(219)]=this[ur(185)](or[ur(218)])),or})}async[_0x49e7e3(234)](){const cr=_0x49e7e3;return(await Nr(this,Xi)[cr(206)][cr(242)]())[cr(197)](or=>{const ur=cr;return or[ur(188)]&&(or[ur(250)]=or.id,or[ur(248)]=or[ur(208)],or[ur(219)]=this[ur(185)](or.collection_image)),or})}async[_0x49e7e3(273)](cr,ar,or,ur,lr){const xr=_0x49e7e3,pr=await Pi(this,k0,Wu).call(this,ar),br=await Pi(this,Cc,_f).call(this,ur,or),mr=await this[xr(262)](br),_r=ar,vr=await this[xr(262)](cr);try{await Nr(this,Xi)[xr(162)]("rw",Nr(this,Xi)[xr(227)],Nr(this,Xi)[xr(172)],Nr(this,Xi)[xr(161)],async()=>{const Er=xr,yr=await Nr(this,Xi).romData[Er(216)]({hash:pr}).first();let Ir;yr==null?Ir=await Nr(this,Xi).romData[Er(184)]({rom_data:_r,hash:pr,data_type:Er(237)}):Ir=yr.id;let Ar=await Nr(this,Xi)[Er(172)][Er(184)]({save_data:vr});await Nr(this,Xi)[Er(227)][Er(184)]({platform_id:ur,program_name:lr,screenshot:mr,rom_data_id:Ir,save_data_id:Ar,timestamp:Date.now()})})}catch(Er){console[xr(186)](xr(243),Er)}}async blobToBase64(cr){return new Promise((ar,or)=>{const ur=_0x565b,lr=new FileReader;lr[ur(239)]=()=>ar(lr.result),lr[ur(168)]=or,lr[ur(202)](cr)})}[_0x49e7e3(185)](cr){const ar=_0x49e7e3,or=atob(cr[ar(193)](",")[1]),ur=cr[ar(193)](",")[0].split(":")[1][ar(193)](";")[0],lr=new ArrayBuffer(or[ar(203)]),xr=new Uint8Array(lr);for(let pr=0;pr<or[ar(203)];pr++)xr[pr]=or[ar(230)](pr);return new Blob([lr],{type:ur})}async[_0x49e7e3(210)](){const cr=_0x49e7e3;return(await Nr(this,Xi)[cr(227)].orderBy("timestamp")[cr(228)]()[cr(242)]()).map(or=>{const ur=cr;return or.screenshot&&(or[ur(188)]=this[ur(185)](or[ur(188)])),or})}async[_0x49e7e3(255)](cr){const ar=_0x49e7e3,or=await Nr(this,Xi)[ar(161)][ar(223)](cr);return or[ar(163)]==ar(158)&&(or[ar(215)]=this.base64ToBlob(or[ar(215)])),or}async getSaveData(cr){const ar=_0x49e7e3,or=await Nr(this,Xi)[ar(227)][ar(223)](cr);if(!or)throw new Error("Save state not found.");const ur=await Nr(this,Xi)[ar(172)].get(or[ar(211)]),lr=await Nr(this,Xi)[ar(161)][ar(223)](or[ar(244)]);let xr;if(lr[ar(163)]==ar(158)?xr=this[ar(185)](lr[ar(215)]):xr=lr[ar(215)],!ur||!lr)throw new Error("Save state or program data is missing.");const pr=this[ar(185)](ur[ar(238)]);return{platform_id:or[ar(256)],program_name:or[ar(271)],save_data:pr,rom_data:xr,timestamp:or[ar(176)]}}async[_0x49e7e3(231)](cr){const ar=_0x49e7e3;try{await Nr(this,Xi)[ar(162)]("rw",Nr(this,Xi)[ar(227)],Nr(this,Xi).saveData,Nr(this,Xi)[ar(235)],Nr(this,Xi)[ar(161)],async()=>{const or=ar,ur=await Nr(this,Xi).saveMeta[or(223)](cr);if(ur){await Nr(this,Xi).saveData[or(216)]("id")[or(195)](ur[or(211)])[or(246)](),await Nr(this,Xi).saveMeta.delete(cr);let lr=await Nr(this,Xi).saveMeta[or(216)](or(244))[or(195)](ur[or(244)])[or(194)]();await Nr(this,Xi).collectionItemData[or(216)](or(244))[or(195)](ur.rom_data_id).count()+lr==0&&await Nr(this,Xi)[or(161)][or(216)]("id")[or(195)](ur[or(244)])[or(246)]()}})}catch(or){console[ar(186)](ar(175)+cr+":",or)}}async[_0x49e7e3(259)](){const cr=_0x49e7e3;try{await Nr(this,Xi)[cr(162)]("rw",Nr(this,Xi)[cr(206)],Nr(this,Xi)[cr(235)],Nr(this,Xi).saveMeta,Nr(this,Xi).romData,async()=>{const ar=cr,or=await Nr(this,Xi)[ar(206)][ar(242)]();for(let ur of or){const lr=ur.id,xr=await Nr(this,Xi)[ar(235)][ar(216)](ar(250))[ar(195)](lr)[ar(242)]();if(xr[ar(203)]>0){await Nr(this,Xi).collectionItemData[ar(216)](ar(250)).equals(lr)[ar(246)](),await Nr(this,Xi)[ar(206)][ar(246)](lr);for(let pr of xr){const br=pr.rom_data_id;let mr=await Nr(this,Xi).saveMeta[ar(216)]("rom_data_id")[ar(195)](br)[ar(194)]();await Nr(this,Xi)[ar(235)][ar(216)]("rom_data_id")[ar(195)](br)[ar(194)]()+mr==0&&await Nr(this,Xi)[ar(161)].where("id")[ar(195)](br)[ar(246)]()}}}})}catch(ar){console[cr(186)]("Failed to delete collections:",ar)}}};Xi=new WeakMap,qs=new WeakMap,Ic=new WeakMap,k0=new WeakSet,Wu=async function(cr){return new Promise((ar,or)=>{const ur=_0x565b,lr=new FileReader;lr[ur(254)]=function(xr){const pr=ur,br=xr[pr(266)][pr(180)],mr=_0x5e297e[pr(264)].WordArray.create(br),_r=_0x5e297e.SHA256(mr)[pr(221)]();ar(_r)},lr[ur(168)]=function(xr){or(xr)},lr[ur(257)](cr)})},Cc=new WeakSet,_f=function(cr,ar){const or=_0x49e7e3;return cr!=or(240)&&cr!=or(183)?ar:new Promise((ur,lr)=>{const xr=or,pr=new Image,br=URL[xr(263)](ar);pr[xr(254)]=()=>{const mr=xr,_r=pr[mr(225)],vr=pr[mr(247)],Er=_r/vr,yr=document.createElement(mr(249)),Ir=yr[mr(191)]("2d");cr==mr(240)&&Er<.8?(yr.width=_r*2,yr[mr(247)]=vr,Ir[mr(229)](pr,0,0,yr.width,yr.height)):cr==mr(183)&&Er>2?(yr[mr(225)]=_r/2,yr[mr(247)]=vr,Ir[mr(229)](pr,0,0,yr[mr(225)],yr.height)):(yr.width=_r,yr[mr(247)]=vr,Ir.drawImage(pr,0,0)),yr.toBlob(Ar=>{URL[mr(190)](br),ur(Ar)},mr(199))},pr[xr(168)]=mr=>{URL[xr(190)](br),lr(mr)},pr[xr(205)]=br})},mi(jo,qs,_0x49e7e3(272)),mi(jo,Ic,_0x49e7e3(232));let StorageManager=jo;const _0x40d215=_0x268f;(function(fr,cr){const ar=_0x268f,or=fr();for(;[];)try{if(-parseInt(ar(406))/1*(parseInt(ar(428))/2)+-parseInt(ar(423))/3+parseInt(ar(410))/4+parseInt(ar(398))/5+parseInt(ar(417))/6+-parseInt(ar(403))/7+parseInt(ar(418))/8===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x126d,579833);function _0x268f(fr,cr){const ar=_0x126d();return _0x268f=function(or,ur){return or=or-396,ar[or]},_0x268f(fr,cr)}function _0x126d(){const fr=["161049SqdgTt","label","selection_changed","8089TCzEkF","update","data-value","tag","785868PAyOBK","exit_selection","uninstall","click","getValue","data","get_help","998292WPKxRD","9478488EvvAMZ","set_cli","forEach","add","createElement","2996163dpfJmc","is_selection_enabled","classList","setAttribute","addEventListener","130OTVXdc","process_input","cli","install","innerHTML","set_selection_mode","get_keywords","2898430ZRVaIZ","span","single","singleline","show_results"];return _0x126d=function(){return fr},_0x126d()}var kc,vf;const rl=class rl{constructor(){mi(this,kc);if(new.target===rl)throw new Error}[_0x40d215(397)](){throw new Error}[_0x40d215(416)](){throw new Error}[_0x40d215(429)](cr,ar){throw new Error}[_0x40d215(431)](){}[_0x40d215(412)](){}[_0x40d215(424)](){return![]}is_enter_required(){return![]}[_0x40d215(411)](){return![]}process_selection(cr){return![]}[_0x40d215(419)](cr){const ar=_0x40d215;this[ar(430)]=cr}[_0x40d215(402)](cr,ar){cr!=[]&&Pi(this,kc,vf).call(this,cr,ar)}[_0x40d215(405)](cr){}};kc=new WeakSet,vf=function(cr,ar){const or=_0x40d215,ur=s$1("#cors_results");ur.innerHTML="",cr[or(420)](lr=>{const xr=or,pr=document[xr(422)]("p");pr[xr(426)](xr(408),lr[xr(415)]),pr[xr(425)][xr(421)]("corsrow");const br=document[xr(422)]("span");if(StorageManager[xr(414)]("LINES")!=xr(400)||br[xr(425)].add(xr(401)),lr[xr(409)]){const mr=document[xr(422)](xr(399));mr.classList[xr(421)](xr(409)),mr[xr(432)]="["+lr.tag+"] ",br.appendChild(mr)}br.append(lr[xr(404)]),pr.append(br),pr[xr(427)](xr(413),mr=>{this.process_selection(lr)}),ur.append(pr)}),cr.length>0&&ar&&(this[or(430)][or(396)](!![]),this[or(430)][or(407)]())};let CommandBase=rl;function _0x38d9(){const fr=["guru","right","</p>","28YcxOvI","DEBUG","enter","29205oqOceC","<p style='margin-left: 3ch;'>","soft_msg","Enter","append","Invalid command","178984HVpczr","innerHTML","print","set_selection_mode","#guruWrapper0","location","start","inject","remove","highlight","blinking","Guru Meditation: ","getValue","redraw","classList","208130BGXoRd","toUpperCase","space","bottom","ArrowDown","#progress_line","div","auto","default_command_name","click","get_help","Backspace","offsetHeight","set_loading","escape","ArrowUp","get_keywords","set_cli","register_default","style","backspace","left","update","altKey","createElement","parse_hidden_input","selected_command","corsrow","display","contains","set_default_handler","cursorShowing","1653092GIlSbv","getBoundingClientRect","off","CLI commands:","children","metaKey","top","36564URyonv","inline","querySelector","toLowerCase","clear","progress_line","4741OtJlYz","includes","add","set_article_mode","240234PKNGcC","#guru","bind","#guruMessage2","color","trim","forEach","push","split","key","length","borderColor","15EQTZjg","#cors_results","parse_input","&nbsp;","process_input","selection_changed","cors_query","reload","keydown","preventDefault","is_loading","message_clear","is_command_selectable","textContent","90TAYFvF","block","message","addEventListener","scrollTop","commands","is_selection_enabled","Press any key to continue.","removeEventListener","105tIZCWS","#F4AD46","#cursor","getElementById","span","108218XNXqfq","print_help","#cors_query_prefix","is_enter_required"];return _0x38d9=function(){return fr},_0x38d9()}const _0x150544=_0x5366;(function(fr,cr){const ar=_0x5366,or=fr();for(;[];)try{if(-parseInt(ar(391))/1*(-parseInt(ar(299))/2)+-parseInt(ar(309))/3+-parseInt(ar(362))/4+-parseInt(ar(414))/5*(parseInt(ar(379))/6)+parseInt(ar(306))/7*(-parseInt(ar(315))/8)+-parseInt(ar(405))/9*(parseInt(ar(330))/10)+-parseInt(ar(375))/11*(-parseInt(ar(369))/12)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x38d9,563443);function _0x5366(fr,cr){const ar=_0x38d9();return _0x5366=function(or,ur){return or=or-297,ar[or]},_0x5366(fr,cr)}var Ns,Ls,Ms,ca,ja,to,So,O0,Ku,T0,Gu,Oc,mf,Tc,gf,Dc,yf,D0,Yu,Rc,bf,Fc,Ef,Pc,wf;const Za=class Za{constructor(){mi(this,O0);mi(this,T0);mi(this,Oc);mi(this,Tc);mi(this,Dc);mi(this,D0);mi(this,Rc);mi(this,Fc);mi(this,Pc);mi(this,Ns,void 0);mi(this,Ls,void 0);mi(this,Ms,void 0);mi(this,ca,void 0);mi(this,ja,[]);mi(this,So,void 0);const cr=_0x150544;Ci(this,ca,-1),Ci(this,So,![]),this[cr(361)]=![],this.directMode=![],this.commands=[],this.default_command_name=null,this[cr(403)]=![],this[cr(302)]=![],Ci(this,Ns,Pi(this,Oc,mf)[cr(381)](this)),this[cr(343)](![])}[_0x150544(318)](cr){const ar=_0x150544;cr?Pi(this,T0,Gu).call(this):(Pi(this,O0,Ku).call(this),this[ar(356)]&&this[ar(356)][ar(396)]())}[_0x150544(401)](){return Nr(this,Ls)}[_0x150544(343)](cr){Ci(this,Ls,cr),cr?Pi(this,T0,Gu).call(this):Pi(this,O0,Ku).call(this)}[_0x150544(378)](cr){Ci(this,So,cr)}on(){const cr=_0x150544;document.addEventListener(cr(399),Nr(this,Ns))}[_0x150544(364)](){const cr=_0x150544;document[cr(413)](cr(399),Nr(this,Ns))}[_0x150544(352)](){const cr=_0x150544;if(this.is_command_selectable){const ar=s$1(cr(392));let or=[...ar[cr(366)]];if(or=or.filter(ur=>ur[cr(329)][cr(359)](cr(357))),or[cr(389)]==0)return;or[cr(385)](ur=>ur[cr(371)](cr(298))[cr(329)][cr(323)](cr(324))),Nr(this,ca)>=0&&(Pi(this,Tc,gf).call(this,or[Nr(this,ca)][cr(371)](cr(298))),this[cr(356)][cr(396)](or[Nr(this,ca)])),Nr(this,ca)!=-1&&!Pi(this,Fc,Ef).call(this,or[Nr(this,ca)][cr(371)]("span"),ar)&&or[Nr(this,ca)].scrollIntoView({behavior:cr(337),block:cr(321),inline:"start"})}}[_0x150544(395)](cr){const ar=_0x150544;let or=![];if(cr[ar(389)]===1)Nr(this,ca)==-1&&(Nr(Za,to)[ar(404)]+=cr);else if(cr===ar(341)||cr===ar(350))Nr(this,ca)==-1&&(Nr(Za,to)[ar(404)]=Nr(Za,to).textContent.slice(0,-1));else if(cr===" "||cr===ar(332))Nr(this,ca)==-1&&(Nr(Za,to)[ar(404)]+=" ");else if(cr===ar(373))Nr(this,ca)==-1&&(Nr(Za,to)[ar(404)]=""),Nr(this,Ms)instanceof Function&&Nr(this,Ms).call(this);else if(cr=="escape")Ci(this,So,![]),Nr(this,ca)>=0?(Ci(this,ca,-1),this[ar(318)](![])):Nr(this,ca)==-1&&(this.process_input(ar(373)),this[ar(318)](![]));else if(cr=="enter"){if(Nr(this,So))return;or=!![];let ur=s$1(ar(392))[ar(366)];if(this[ar(302)]&&Nr(this,ca)==-1)or=!![];else if(this[ar(403)]&&Nr(this,ca)==-1)ur[ar(389)]>0&&Ec(this,ca)._++,this[ar(318)](!![]);else if(Nr(this,ca)>=0){Pi(this,Pc,wf).call(this,ur[Nr(this,ca)]),this[ar(356)].selection_changed();return}}this[ar(393)](Nr(Za,to)[ar(404)],or)}register_command(cr){const ar=_0x150544;if(cr instanceof CommandBase)this[ar(410)][ar(386)](cr),cr[ar(347)](this);else throw new Error(ar(314))}[_0x150544(348)](cr){const ar=_0x150544;this[ar(338)]=cr}[_0x150544(355)](){const cr=_0x150544;let ar=Nr(Za,to)[cr(404)];this.parse_input(Nr(Za,to)[cr(404)],ar=="open")}[_0x150544(322)](cr,ar){const or=_0x150544;this[or(401)]()||(Nr(Za,to)[or(404)]=cr,this.parse_input(cr,ar))}[_0x150544(393)](cr,ar){const or=_0x150544;cr=cr[or(384)]()[or(372)]();const ur=cr[or(387)](/\s+/),[lr,...xr]=ur;Pi(this,D0,Yu).call(this),Pi(this,Dc,yf).call(this);let pr=null,br=null;for(let mr of this[or(410)])if(mr[or(346)]().includes(lr)){pr=mr,br=xr;break}if(pr==null&&this.default_command_name&&cr[or(389)]>3){for(let mr of this[or(410)])if(mr.get_keywords()[or(376)](this[or(338)])){pr=mr,br=ur,Pi(this,Rc,bf).call(this,this.default_command_name);break}}pr!=null?(this.is_command_selectable=pr[or(411)](),this[or(356)]=pr,pr[or(395)](br,ar)):this[or(356)]=null}[_0x150544(300)](){const cr=_0x150544;this[cr(373)](),Nr(this,ja)[cr(386)](cr(365)),this.commands[cr(385)](or=>{const ur=cr;Nr(this,ja)[ur(386)](ur(394)),Nr(this,ja)[ur(386)]("<p style='margin-left: 1ch;'>"+or[ur(340)]()[0][ur(331)]()+ur(305)),Nr(this,ja)[ur(386)](ur(310)+or[ur(340)]()[1]+ur(305))});var ar=s$1(cr(392));ar[cr(316)]="",Nr(this,ja).forEach(or=>{const ur=cr;var lr=document.createElement("div"),xr=document[ur(354)]("p");xr.innerHTML=or,lr.appendChild(xr),ar[ur(313)](lr)})}[_0x150544(328)](){const cr=_0x150544;var ar=s$1(cr(392));ar[cr(316)]="",Nr(this,ja)[cr(385)](or=>{const ur=cr;var lr=document[ur(354)]("div"),xr=document[ur(354)]("p");xr[ur(316)]=or,lr.appendChild(xr),ar.append(lr)})}[_0x150544(373)](){const cr=_0x150544;Ci(this,ja,[]);var ar=s$1(cr(392));ar[cr(316)]=""}reset(){const cr=_0x150544;Ci(this,ca,-1),Ci(this,So,![]),Nr(Za,to)[cr(404)]="",Pi(this,D0,Yu).call(this),this[cr(318)](![]),this.set_loading(![]),this[cr(373)]()}[_0x150544(402)](...cr){const ar=_0x150544;this.clear(),this[ar(407)](cr)}message(...cr){const ar=_0x150544;cr[ar(385)](or=>Nr(this,ja)[ar(386)](or)),Nr(this,ja)[ar(386)](ar(394)),Nr(this,ja).push(ar(412)),this[ar(328)](),document.addEventListener(ar(339),function(){setTimeout(function(){location.reload()},120)}),document[ar(408)](ar(399),function(){setTimeout(function(){location[_0x5366(398)]()},120)})}print_progress(cr){const ar=_0x150544;let or=s$1(ar(335));if(or==null){const ur=s$1(ar(392)),lr=document[ar(354)](ar(336));or=document.createElement("p"),or.id=ar(374),lr.appendChild(or),ur[ar(313)](lr)}or[ar(316)]=cr}[_0x150544(317)](cr){const ar=_0x150544;Nr(this,ja)[ar(386)](cr),this[ar(328)]()}[_0x150544(311)](cr){const ar=_0x150544;this[ar(373)](),Nr(this,ja)[ar(386)](cr),this[ar(328)]()}[_0x150544(303)](cr,ar=![]){const or=_0x150544;if(StorageManager[or(327)](or(307))!="1")return;function ur(){const lr=or;ar?(hide(lr(319)),s$1("#guruWrapper0")[lr(413)]("click",this),document[lr(413)](lr(339),ur,!![])):window[lr(320)][lr(398)](![])}if(s$1("#guruWrapper0")[or(408)]("click",ur,!![]),ar)s$1(or(382)).innerHTML=cr,s$1(or(380))[or(349)][or(383)]=or(415),s$1("#guru").style[or(390)]=or(415),show("#guruWrapper0",or(406));else throw s$1(or(382))[or(316)]=cr,show(or(319),or(406)),new Error(or(326)+cr)}[_0x150544(360)](cr){Ci(this,Ms,cr)}};Ns=new WeakMap,Ls=new WeakMap,Ms=new WeakMap,ca=new WeakMap,ja=new WeakMap,to=new WeakMap,So=new WeakMap,O0=new WeakSet,Ku=function(){const cr=_0x150544;s$1(cr(416))[cr(329)][cr(377)](cr(325))},T0=new WeakSet,Gu=function(){const cr=_0x150544;s$1(cr(416))[cr(329)].remove(cr(325))},Oc=new WeakSet,mf=function(cr){const ar=_0x150544;if(cr[ar(400)](),!Nr(this,Ls)){if(cr[ar(388)][ar(389)]===1&&!cr.ctrlKey&&!cr[ar(367)]&&!cr[ar(353)])this[ar(395)](cr[ar(388)]);else if(cr[ar(388)]==="Backspace")this[ar(395)](ar(350));else if(cr[ar(388)]==ar(312))this[ar(395)](ar(308));else if(cr[ar(388)]==="Escape")this[ar(395)](ar(344));else if(cr[ar(388)]===ar(334)){if(Nr(this,So)){let or=s$1(ar(392));or[ar(409)]+=or[ar(342)]}else if(Nr(this,ca)!=-1){let or=s$1(ar(392))[ar(366)];Nr(this,ca)<or[ar(389)]-1?Ec(this,ca)._++:Nr(this,ca)==or.length-1&&Ci(this,ca,0)}else if(!this[ar(403)]){let or=s$1("#cors_results");or.scrollTop+=or[ar(342)]}}else if(cr[ar(388)]===ar(345)){if(Nr(this,So)){let or=s$1(ar(392));or[ar(409)]-=or[ar(342)]}else if(Nr(this,ca)!=-1){let or=s$1("#cors_results")[ar(366)];Nr(this,ca)>0?Ec(this,ca)._--:Nr(this,ca)==0&&Ci(this,ca,or[ar(389)]-1)}else if(!this[ar(403)]){let or=s$1("#cors_results");or[ar(409)]-=or[ar(342)]}}this[ar(352)]()}},Tc=new WeakSet,gf=function(cr){const ar=_0x150544;cr[ar(329)].remove(ar(324)),cr.offsetWidth,cr.classList[ar(377)](ar(324))},Dc=new WeakSet,yf=function(){this.clear()},D0=new WeakSet,Yu=function(){const cr=_0x150544;s$1(cr(301))[cr(349)].display="none",s$1("#cors_query_prefix")[cr(316)]=""},Rc=new WeakSet,bf=function(cr){const ar=_0x150544;s$1(ar(301))[ar(349)][ar(358)]=ar(370),s$1(ar(301))[ar(316)]=cr+" "},Fc=new WeakSet,Ef=function(cr,ar){const or=_0x150544,ur=cr[or(363)](),lr=ar.getBoundingClientRect();return ur[or(368)]>=lr[or(368)]&&ur[or(351)]>=lr[or(351)]&&ur[or(333)]<=lr.bottom&&ur[or(304)]<=lr[or(304)]},Pc=new WeakSet,wf=function(cr){const ar=_0x150544;if(cr!=null){var or=new MouseEvent(ar(339),{bubbles:!![],cancelable:!![],view:window});cr.dispatchEvent(or)}},mi(Za,to,document[_0x150544(297)](_0x150544(397)));let CLI=Za;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function __values$1(fr){var cr=typeof Symbol=="function"&&Symbol.iterator,ar=cr&&fr[cr],or=0;if(ar)return ar.call(fr);if(fr&&typeof fr.length=="number")return{next:function(){return fr&&or>=fr.length&&(fr=void 0),{value:fr&&fr[or++],done:!fr}}};throw new TypeError(cr?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read$1(fr,cr){var ar=typeof Symbol=="function"&&fr[Symbol.iterator];if(!ar)return fr;var or=ar.call(fr),ur,lr=[],xr;try{for(;(cr===void 0||cr-- >0)&&!(ur=or.next()).done;)lr.push(ur.value)}catch(pr){xr={error:pr}}finally{try{ur&&!ur.done&&(ar=or.return)&&ar.call(or)}finally{if(xr)throw xr.error}}return lr}function __spread$1(){for(var fr=[],cr=0;cr<arguments.length;cr++)fr=fr.concat(__read$1(arguments[cr]));return fr}var isUndefined=function(fr){return typeof fr>"u"},ComponentEvent=function(){function fr(ar,or){var ur,lr;if(this._canceled=!1,or)try{for(var xr=__values$1(Object.keys(or)),pr=xr.next();!pr.done;pr=xr.next()){var br=pr.value;this[br]=or[br]}}catch(mr){ur={error:mr}}finally{try{pr&&!pr.done&&(lr=xr.return)&&lr.call(xr)}finally{if(ur)throw ur.error}}this.eventType=ar}var cr=fr.prototype;return cr.stop=function(){this._canceled=!0},cr.isCanceled=function(){return this._canceled},fr}(),Component=function(){function fr(){this._eventHandler={}}var cr=fr.prototype;return cr.trigger=function(ar){for(var or=[],ur=1;ur<arguments.length;ur++)or[ur-1]=arguments[ur];var lr=ar instanceof ComponentEvent?ar.eventType:ar,xr=__spread$1(this._eventHandler[lr]||[]);return xr.length<=0?this:(ar instanceof ComponentEvent?(ar.currentTarget=this,xr.forEach(function(pr){pr(ar)})):xr.forEach(function(pr){pr.apply(void 0,__spread$1(or))}),this)},cr.once=function(ar,or){var ur=this;if(typeof ar=="object"&&isUndefined(or)){var lr=ar;for(var xr in lr)this.once(xr,lr[xr]);return this}else if(typeof ar=="string"&&typeof or=="function"){var pr=function(){for(var br=[],mr=0;mr<arguments.length;mr++)br[mr]=arguments[mr];or.apply(void 0,__spread$1(br)),ur.off(ar,pr)};this.on(ar,pr)}return this},cr.hasOn=function(ar){return!!this._eventHandler[ar]},cr.on=function(ar,or){if(typeof ar=="object"&&isUndefined(or)){var ur=ar;for(var lr in ur)this.on(lr,ur[lr]);return this}else if(typeof ar=="string"&&typeof or=="function"){var xr=this._eventHandler[ar];isUndefined(xr)&&(this._eventHandler[ar]=[],xr=this._eventHandler[ar]),xr.push(or)}return this},cr.off=function(ar,or){if(isUndefined(ar))return this._eventHandler={},this;if(isUndefined(or)){if(typeof ar=="string")return delete this._eventHandler[ar],this;var ur=ar;for(var lr in ur)this.off(lr,ur[lr]);return this}var xr=this._eventHandler[ar];if(xr){for(var pr=xr.length,br=0;br<pr;++br)if(xr[br]===or){xr.splice(br,1),pr<=1&&delete this._eventHandler[ar];break}}return this},fr.VERSION="3.0.5",fr}(),ComponentEvent$1=ComponentEvent;function some(fr,cr){for(var ar=fr.length,or=0;or<ar;++or)if(cr(fr[or],or))return!0;return!1}function find$1(fr,cr){for(var ar=fr.length,or=0;or<ar;++or)if(cr(fr[or],or))return fr[or];return null}function getUserAgentString(fr){var cr=fr;if(typeof cr>"u"){if(typeof navigator>"u"||!navigator)return"";cr=navigator.userAgent||""}return cr.toLowerCase()}function execRegExp(fr,cr){try{return new RegExp(fr,"g").exec(cr)}catch{return null}}function hasUserAgentData(){if(typeof navigator>"u"||!navigator||!navigator.userAgentData)return!1;var fr=navigator.userAgentData,cr=fr.brands||fr.uaList;return!!(cr&&cr.length)}function findVersion(fr,cr){var ar=execRegExp("("+fr+")((?:\\/|\\s|:)([0-9|\\.|_]+))",cr);return ar?ar[3]:""}function convertVersion(fr){return fr.replace(/_/g,".")}function findPreset(fr,cr){var ar=null,or="-1";return some(fr,function(ur){var lr=execRegExp("("+ur.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",cr);return!lr||ur.brand?!1:(ar=ur,or=lr[3]||"-1",ur.versionAlias?or=ur.versionAlias:ur.versionTest&&(or=findVersion(ur.versionTest.toLowerCase(),cr)||or),or=convertVersion(or),!0)}),{preset:ar,version:or}}function findPresetBrand(fr,cr){var ar={brand:"",version:"-1"};return some(fr,function(or){var ur=findBrand(cr,or);return ur?(ar.brand=or.id,ar.version=or.versionAlias||ur.version,ar.version!=="-1"):!1}),ar}function findBrand(fr,cr){return find$1(fr,function(ar){var or=ar.brand;return execRegExp(""+cr.test,or.toLowerCase())})}var BROWSER_PRESETS=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],CHROMIUM_PRESETS=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],WEBKIT_PRESETS=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],WEBVIEW_PRESETS=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],OS_PRESETS=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function isWebView(fr){return!!findPreset(WEBVIEW_PRESETS,fr).preset}function getLegacyAgent(fr){var cr=getUserAgentString(fr),ar=!!/mobi/g.exec(cr),or={name:"unknown",version:"-1",majorVersion:-1,webview:isWebView(cr),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},ur={name:"unknown",version:"-1",majorVersion:-1},lr=findPreset(BROWSER_PRESETS,cr),xr=lr.preset,pr=lr.version,br=findPreset(OS_PRESETS,cr),mr=br.preset,_r=br.version,vr=findPreset(CHROMIUM_PRESETS,cr);if(or.chromium=!!vr.preset,or.chromiumVersion=vr.version,!or.chromium){var Er=findPreset(WEBKIT_PRESETS,cr);or.webkit=!!Er.preset,or.webkitVersion=Er.version}return mr&&(ur.name=mr.id,ur.version=_r,ur.majorVersion=parseInt(_r,10)),xr&&(or.name=xr.id,or.version=pr,or.webview&&ur.name==="ios"&&or.name!=="safari"&&(or.webview=!1)),or.majorVersion=parseInt(or.version,10),{browser:or,os:ur,isMobile:ar,isHints:!1}}function getClientHintsAgent(fr){var cr=navigator.userAgentData,ar=(cr.uaList||cr.brands).slice(),or=fr&&fr.fullVersionList,ur=cr.mobile||!1,lr=ar[0],xr=(fr&&fr.platform||cr.platform||navigator.platform).toLowerCase(),pr={name:lr.brand,version:lr.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!findPresetBrand(WEBVIEW_PRESETS,ar).brand||isWebView(getUserAgentString())},br={name:"unknown",version:"-1",majorVersion:-1};pr.webkit=!pr.chromium&&some(WEBKIT_PRESETS,function(Ir){return findBrand(ar,Ir)});var mr=findPresetBrand(CHROMIUM_PRESETS,ar);if(pr.chromium=!!mr.brand,pr.chromiumVersion=mr.version,!pr.chromium){var _r=findPresetBrand(WEBKIT_PRESETS,ar);pr.webkit=!!_r.brand,pr.webkitVersion=_r.version}var vr=find$1(OS_PRESETS,function(Ir){return new RegExp(""+Ir.test,"g").exec(xr)});if(br.name=vr?vr.id:"",fr&&(br.version=fr.platformVersion),or&&or.length){var Er=findPresetBrand(BROWSER_PRESETS,or);pr.name=Er.brand||pr.name,pr.version=Er.version||pr.version}else{var yr=findPresetBrand(BROWSER_PRESETS,ar);pr.name=yr.brand||pr.name,pr.version=yr.brand&&fr?fr.uaFullVersion:yr.version}return pr.webkit&&(br.name=ur?"ios":"mac"),br.name==="ios"&&pr.webview&&(pr.version="-1"),br.version=convertVersion(br.version),pr.version=convertVersion(pr.version),br.majorVersion=parseInt(br.version,10),pr.majorVersion=parseInt(pr.version,10),{browser:pr,os:br,isMobile:ur,isHints:!0}}function agent(fr){return typeof fr>"u"&&hasUserAgentData()?getClientHintsAgent():getLegacyAgent(fr)}function keys(fr){return Object.keys(fr)}var OBSERVERS_PATH="__observers__",COMPUTED_PATH="__computed__",CFCS_DETECTED_DEPENDENCIES_VERSION=1,CFCS_DETECTED_DEPENDENCIES="__CFCS_DETECTED_DEPENDENCIES__",extendStatics$3=function(fr,cr){return extendStatics$3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ar,or){ar.__proto__=or}||function(ar,or){for(var ur in or)Object.prototype.hasOwnProperty.call(or,ur)&&(ar[ur]=or[ur])},extendStatics$3(fr,cr)};function __extends$3(fr,cr){if(typeof cr!="function"&&cr!==null)throw new TypeError("Class extends value "+String(cr)+" is not a constructor or null");extendStatics$3(fr,cr);function ar(){this.constructor=fr}fr.prototype=cr===null?Object.create(cr):(ar.prototype=cr.prototype,new ar)}function getDetectedStack(){Object[CFCS_DETECTED_DEPENDENCIES]=Object[CFCS_DETECTED_DEPENDENCIES]||{};var fr=Object[CFCS_DETECTED_DEPENDENCIES];return fr[CFCS_DETECTED_DEPENDENCIES_VERSION]=fr[CFCS_DETECTED_DEPENDENCIES_VERSION]||[],fr[CFCS_DETECTED_DEPENDENCIES_VERSION]}function getCurrentDetected(){var fr=getDetectedStack();return fr[fr.length-1]}function detectDependencies(fr){var cr=getDetectedStack(),ar=[],or={host:fr,observers:ar,push:function(ur){fr!==ur&&ar.indexOf(ur)===-1&&ar.push(ur)}};return cr.push(or),or}function endDetectDependencies(){var fr=getDetectedStack();return fr.pop()}var Observer=function(){function fr(ar){this._emitter=new Component,this._current=ar}var cr=fr.prototype;return Object.defineProperty(cr,"current",{get:function(){var ar=getCurrentDetected();return ar==null||ar.push(this),this._current},set:function(ar){this._setCurrent(ar)},enumerable:!1,configurable:!0}),cr.subscribe=function(ar){return this.current,this._emitter.on("update",ar),this},cr.unsubscribe=function(ar){return this._emitter.off("update",ar),this},cr._setCurrent=function(ar){var or=this._current,ur=ar!==or;this._current=ar,ur&&this._emitter.trigger("update",ar,or)},cr.toString=function(){return"".concat(this.current)},cr.valueOf=function(){return this.current},fr}(),ComputedObserver=function(fr){__extends$3(cr,fr);function cr(or){var ur=fr.call(this)||this;return ur._computedCallback=or,ur._registered=[],ur._onCheckUpdate=function(){ur._setCurrent(ur.current)},ur._current=ur.current,ur}var ar=cr.prototype;return Object.defineProperty(ar,"current",{get:function(){var or=this;detectDependencies(this);var ur=this._computedCallback(),lr=endDetectDependencies();return this._registered.forEach(function(xr){xr.unsubscribe(or._onCheckUpdate)}),lr.observers.forEach(function(xr){xr.subscribe(or._onCheckUpdate)}),this._registered=lr.observers,ur},enumerable:!1,configurable:!0}),cr}(Observer);function injectObserve(fr,cr,ar){ar===void 0&&(ar=cr);var or={configurable:!0,get:function(){return getObserver(this,ar).current},set:function(ur){getObserver(this,ar,ur).current=ur}};Object.defineProperty(fr,cr,or),ar!==cr&&Object.defineProperty(fr,ar,{configurable:!0,get:function(){return getObserver(this,ar).current}})}function Observe(){for(var fr=[],cr=0;cr<arguments.length;cr++)fr[cr]=arguments[cr];return fr.length>1?injectObserve(fr[0],fr[1]):function(ar,or){return injectObserve(ar,or,fr[0])}}function injectReactiveSubscribe(fr){fr.subscribe=function(cr,ar){this[cr],getObserver(this,cr).subscribe(ar)},fr.unsubscribe=function(cr,ar){var or=this;if(!cr){keys(getObservers(this)).forEach(function(ur){or.unsubscribe(ur)});return}cr in this&&getObserver(this,cr).unsubscribe(ar)}}function ReactiveSubscribe(fr){var cr=fr.prototype;injectReactiveSubscribe(cr)}function observe(fr){return new Observer(fr)}function computed(fr){return new ComputedObserver(fr)}function defineObservers(fr){var cr={};return Object.defineProperty(fr,OBSERVERS_PATH,{get:function(){return cr}}),cr}function getObservers(fr,cr){var ar,or;fr[OBSERVERS_PATH]||defineObservers(fr);var ur=fr[OBSERVERS_PATH];if(!cr){var lr=(or=(ar=fr==null?void 0:fr.constructor)===null||ar===void 0?void 0:ar.prototype)===null||or===void 0?void 0:or[COMPUTED_PATH];lr&&lr.forEach(function(xr){!(xr in ur)&&xr in fr&&fr[xr]})}return ur}function getObserver(fr,cr,ar){var or=getObservers(fr);return or[cr]||(or[cr]=observe(ar)),or[cr]}function Computed(fr,cr,ar){var or=ar.get;function ur(){var pr=getObservers(this,!0);return cr in pr||(pr[cr]=computed(or.bind(this))),getObserver(this,cr).current}var lr={configurable:!0,get:ur};fr[COMPUTED_PATH]||(fr[COMPUTED_PATH]=[]);var xr=fr[COMPUTED_PATH];return xr.indexOf(cr)===-1&&xr.push(cr),Object.defineProperty(fr,cr,lr),lr}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$2=function(fr,cr){return extendStatics$2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ar,or){ar.__proto__=or}||function(ar,or){for(var ur in or)or.hasOwnProperty(ur)&&(ar[ur]=or[ur])},extendStatics$2(fr,cr)};function __extends$2(fr,cr){extendStatics$2(fr,cr);function ar(){this.constructor=fr}fr.prototype=cr===null?Object.create(cr):(ar.prototype=cr.prototype,new ar)}var __assign$2=function(){return __assign$2=Object.assign||function(cr){for(var ar,or=1,ur=arguments.length;or<ur;or++){ar=arguments[or];for(var lr in ar)Object.prototype.hasOwnProperty.call(ar,lr)&&(cr[lr]=ar[lr])}return cr},__assign$2.apply(this,arguments)};function __decorate(fr,cr,ar,or){var ur=arguments.length,lr=ur<3?cr:or===null?or=Object.getOwnPropertyDescriptor(cr,ar):or,xr;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")lr=Reflect.decorate(fr,cr,ar,or);else for(var pr=fr.length-1;pr>=0;pr--)(xr=fr[pr])&&(lr=(ur<3?xr(lr):ur>3?xr(cr,ar,lr):xr(cr,ar))||lr);return ur>3&&lr&&Object.defineProperty(cr,ar,lr),lr}var win;typeof window>"u"?win={navigator:{userAgent:""}}:win=window;var DIRECTION_NONE=1,DIRECTION_LEFT=2,DIRECTION_RIGHT=4,DIRECTION_HORIZONTAL=6,DIRECTION_UP=8,DIRECTION_DOWN=16,DIRECTION_VERTICAL=24,DIRECTION_ALL=30,MOUSE_LEFT="left",MOUSE_RIGHT="right",MOUSE_MIDDLE="middle",MOUSE_BUTTON_CODE_MAP={1:MOUSE_LEFT,2:MOUSE_MIDDLE,3:MOUSE_RIGHT},ANY="any",NONE="none",SHIFT="shift",CTRL="ctrl",ALT="alt",META="meta",VELOCITY_INTERVAL=16,IOS_EDGE_THRESHOLD=30,IS_IOS_SAFARI="ontouchstart"in win&&agent().browser.name==="safari",TRANSFORM=function(){if(typeof document>"u")return"";for(var fr=(document.head||document.getElementsByTagName("head")[0]).style,cr=["transform","webkitTransform","msTransform","mozTransform"],ar=0,or=cr.length;ar<or;ar++)if(cr[ar]in fr)return cr[ar];return""}(),PREVENT_DRAG_CSSPROPS={"-webkit-user-select":"none","-ms-user-select":"none","-moz-user-select":"none","user-select":"none","-webkit-user-drag":"none"},toArray$2=function(fr){for(var cr=[],ar=0,or=fr.length;ar<or;ar++)cr.push(fr[ar]);return cr},$=function(fr,cr){cr===void 0&&(cr=!1);var ar;if(typeof fr=="string"){var or=fr.match(/^<([a-z]+)\s*([^>]*)>/);if(or){var ur=document.createElement("div");ur.innerHTML=fr,ar=toArray$2(ur.childNodes)}else ar=toArray$2(document.querySelectorAll(fr));cr||(ar=ar.length>=1?ar[0]:void 0)}else fr===win?ar=fr:"value"in fr||"current"in fr?ar=fr.value||fr.current:fr.nodeName&&(fr.nodeType===1||fr.nodeType===9)?ar=fr:"jQuery"in win&&fr instanceof jQuery||fr.constructor.prototype.jquery?ar=cr?fr.toArray():fr.get(0):Array.isArray(fr)&&(ar=fr.map(function(lr){return $(lr)}),cr||(ar=ar.length>=1?ar[0]:void 0));return ar},raf=win.requestAnimationFrame||win.webkitRequestAnimationFrame,caf=win.cancelAnimationFrame||win.webkitCancelAnimationFrame;if(raf&&!caf){var keyInfo_1={},oldraf_1=raf;raf=function(fr){var cr=function(or){keyInfo_1[ar]&&fr(or)},ar=oldraf_1(cr);return keyInfo_1[ar]=!0,ar},caf=function(fr){delete keyInfo_1[fr]}}else raf&&caf||(raf=function(fr){return win.setTimeout(function(){fr(win.performance&&win.performance.now&&win.performance.now()||new Date().getTime())},16)},caf=win.clearTimeout);var requestAnimationFrame=function(fr){return raf(fr)},cancelAnimationFrame=function(fr){caf(fr)},map=function(fr,cr){var ar={};for(var or in fr)or&&(ar[or]=cr(fr[or],or));return ar},filter=function(fr,cr){var ar={};for(var or in fr)or&&cr(fr[or],or)&&(ar[or]=fr[or]);return ar},every=function(fr,cr){for(var ar in fr)if(ar&&!cr(fr[ar],ar))return!1;return!0},equal=function(fr,cr){return every(fr,function(ar,or){return ar===cr[or]})},roundNumFunc={},roundNumber=function(fr,cr){return roundNumFunc[cr]||(roundNumFunc[cr]=getRoundFunc(cr)),roundNumFunc[cr](fr)},roundNumbers=function(fr,cr){return!fr||!cr?fr:map(fr,function(ar,or){return roundNumber(ar,typeof cr=="number"?cr:cr[or])})},getDecimalPlace=function(fr){if(!isFinite(fr))return 0;var cr="".concat(fr);if(cr.indexOf("e")>=0){for(var ar=0,or=1;Math.round(fr*or)/or!==fr;)or*=10,ar++;return ar}return cr.indexOf(".")>=0?cr.length-cr.indexOf(".")-1:0},inversePow=function(fr){return 1/Math.pow(10,fr)},getRoundFunc=function(fr){var cr=fr<1?Math.pow(10,getDecimalPlace(fr)):1;return function(ar){return fr===0?0:Math.round(Math.round(ar/fr)*fr*cr)/cr}},getAngle=function(fr,cr){return Math.atan2(cr,fr)*180/Math.PI},isCssPropsFromAxes=function(fr){var cr=!0;return Object.keys(PREVENT_DRAG_CSSPROPS).forEach(function(ar){(!fr||fr[ar]!==PREVENT_DRAG_CSSPROPS[ar])&&(cr=!1)}),cr},getDirection$1=function(fr,cr){return fr&&cr?DIRECTION_ALL:fr?DIRECTION_HORIZONTAL:cr?DIRECTION_VERTICAL:DIRECTION_NONE},useDirection=function(fr,cr,ar){return ar?!!(cr===DIRECTION_ALL||cr&fr&&ar&fr):!!(cr&fr)},setCssProps=function(fr,cr,ar){var or,ur=(or={},or[DIRECTION_NONE]="auto",or[DIRECTION_ALL]="none",or[DIRECTION_VERTICAL]="pan-x",or[DIRECTION_HORIZONTAL]="pan-y",or),lr={};if(fr&&fr.style){var xr=cr.touchAction?cr.touchAction:ur[ar],pr=__assign$2(__assign$2({},PREVENT_DRAG_CSSPROPS),{"touch-action":fr.style["touch-action"]==="none"?"none":xr});Object.keys(pr).forEach(function(br){lr[br]=fr.style[br]}),Object.keys(pr).forEach(function(br){fr.style[br]=pr[br]})}return lr},revertCssProps=function(fr,cr){fr&&fr.style&&cr&&Object.keys(cr).forEach(function(ar){fr.style[ar]=cr[ar]})},EventManager=function(){function fr(ar){this._axes=ar,this.holdingCount=0}var cr=fr.prototype;return cr.hold=function(ar,or){var ur=this._getRoundPos(ar).roundPos;this._axes.trigger(new ComponentEvent$1("hold",{pos:ur,input:or.input||null,inputEvent:or.event||null,isTrusted:!0}))},cr.triggerRelease=function(ar){var or=this._getRoundPos(ar.destPos,ar.depaPos),ur=or.roundPos,lr=or.roundDepa;ar.destPos=ur,ar.depaPos=lr,ar.setTo=this._createUserControll(ar.destPos,ar.duration),this._axes.trigger(new ComponentEvent$1("release",__assign$2(__assign$2({},ar),{bounceRatio:this._getBounceRatio(ur)})))},cr.triggerChange=function(ar,or,ur,lr){var xr=this;lr===void 0&&(lr=!1);var pr=this.animationManager,br=pr.axisManager,mr=pr.getEventInfo(),_r=this._getRoundPos(ar,or),vr=_r.roundPos,Er=_r.roundDepa,yr=br.moveTo(vr,Er),Ir=(ur==null?void 0:ur.event)||(mr==null?void 0:mr.event)||null,Ar={pos:yr.pos,delta:yr.delta,bounceRatio:this._getBounceRatio(yr.pos),holding:lr,inputEvent:Ir,isTrusted:!!Ir,input:(ur==null?void 0:ur.input)||(mr==null?void 0:mr.input)||null,set:Ir?this._createUserControll(yr.pos):function(){}},kr=new ComponentEvent$1("change",Ar);return this._axes.trigger(kr),Object.keys(yr.pos).forEach(function(Or){var Dr=yr.pos[Or];getObserver(xr._axes,Or,Dr).current=Dr}),Ir&&br.set(Ar.set().destPos),!kr.isCanceled()},cr.triggerAnimationStart=function(ar){var or=this._getRoundPos(ar.destPos,ar.depaPos),ur=or.roundPos,lr=or.roundDepa;ar.destPos=ur,ar.depaPos=lr,ar.setTo=this._createUserControll(ar.destPos,ar.duration);var xr=new ComponentEvent$1("animationStart",ar);return this._axes.trigger(xr),!xr.isCanceled()},cr.triggerAnimationEnd=function(ar){ar===void 0&&(ar=!1),this._axes.trigger(new ComponentEvent$1("animationEnd",{isTrusted:ar}))},cr.triggerFinish=function(ar){ar===void 0&&(ar=!1),this._axes.trigger(new ComponentEvent$1("finish",{isTrusted:ar}))},cr.setAnimationManager=function(ar){this.animationManager=ar},cr.destroy=function(){this._axes.off()},cr._createUserControll=function(ar,or){or===void 0&&(or=0);var ur={destPos:__assign$2({},ar),duration:or};return function(lr,xr){return lr&&(ur.destPos=__assign$2({},lr)),xr!==void 0&&(ur.duration=xr),ur}},cr._getRoundPos=function(ar,or){var ur=this._axes.options.round;return{roundPos:roundNumbers(ar,ur),roundDepa:roundNumbers(or,ur)}},cr._getBounceRatio=function(ar){return this._axes.axisManager.map(ar,function(or,ur){return or<ur.range[0]&&ur.bounce[0]!==0?(ur.range[0]-or)/ur.bounce[0]:or>ur.range[1]&&ur.bounce[1]!==0?(or-ur.range[1])/ur.bounce[1]:0})},__decorate([Observe],fr.prototype,"holdingCount",void 0),fr}(),InterruptManager=function(){function fr(ar){this._options=ar,this._prevented=!1}var cr=fr.prototype;return cr.isInterrupting=function(){return this._options.interruptable||this._prevented},cr.isInterrupted=function(){return!this._options.interruptable&&this._prevented},cr.setInterrupt=function(ar){this._options.interruptable||(this._prevented=ar)},fr}(),getInsidePosition=function(fr,cr,ar,or){var ur=fr,lr=[ar[0]?cr[0]:or?cr[0]-or[0]:cr[0],ar[1]?cr[1]:or?cr[1]+or[1]:cr[1]];return ur=Math.max(lr[0],ur),ur=Math.min(lr[1],ur),ur},isOutside=function(fr,cr){return fr<cr[0]||fr>cr[1]},isEndofBounce=function(fr,cr,ar,or){return!or[0]&&fr===cr[0]-ar[0]||!or[1]&&fr===cr[1]+ar[1]},getDuration=function(fr,cr){var ar=Math.sqrt(fr/cr*2);return ar<100?0:ar},isCircularable=function(fr,cr,ar){return ar[1]&&fr>cr[1]||ar[0]&&fr<cr[0]},getCirculatedPos=function(fr,cr,ar){var or=fr,ur=cr[0],lr=cr[1],xr=lr-ur;return ar[1]&&fr>lr&&(or=(or-lr)%xr+ur),ar[0]&&fr<ur&&(or=(or-ur)%xr+lr),or},AxisManager=function(){function fr(ar){var or=this;this._axis=ar,this._complementOptions(),this._pos=Object.keys(this._axis).reduce(function(ur,lr){return ur[lr]=or._axis[lr].startPos,ur},{})}var cr=fr.prototype;return cr.getDelta=function(ar,or){var ur=this.get(ar);return map(this.get(or),function(lr,xr){return lr-ur[xr]})},cr.get=function(ar){var or=this;return ar&&Array.isArray(ar)?ar.reduce(function(ur,lr){return lr&&lr in or._pos&&(ur[lr]=or._pos[lr]),ur},{}):__assign$2(__assign$2({},this._pos),ar||{})},cr.moveTo=function(ar,or){or===void 0&&(or=this._pos);var ur=map(this._pos,function(lr,xr){return xr in ar&&xr in or?ar[xr]-or[xr]:0});return this.set(this.map(ar,function(lr,xr){return xr?getCirculatedPos(lr,xr.range,xr.circular):0})),{pos:__assign$2({},this._pos),delta:ur}},cr.set=function(ar){for(var or in ar)or&&or in this._pos&&(this._pos[or]=ar[or])},cr.every=function(ar,or){var ur=this._axis;return every(ar,function(lr,xr){return or(lr,ur[xr],xr)})},cr.filter=function(ar,or){var ur=this._axis;return filter(ar,function(lr,xr){return or(lr,ur[xr],xr)})},cr.map=function(ar,or){var ur=this._axis;return map(ar,function(lr,xr){return or(lr,ur[xr],xr)})},cr.isOutside=function(ar){return!this.every(ar?this.get(ar):this._pos,function(or,ur){return!isOutside(or,ur.range)})},cr.getAxisOptions=function(ar){return this._axis[ar]},cr.setAxis=function(ar){var or=this;Object.keys(ar).forEach(function(ur){if(!or._axis[ur])throw new Error("Axis ".concat(ur," does not exist in Axes instance"));or._axis[ur]=__assign$2(__assign$2({},or._axis[ur]),ar[ur])}),this._complementOptions()},cr._complementOptions=function(){var ar=this;Object.keys(this._axis).forEach(function(or){ar._axis[or]=__assign$2({range:[0,100],startPos:ar._axis[or].range[0],bounce:[0,0],circular:[!1,!1]},ar._axis[or]),["bounce","circular"].forEach(function(ur){var lr=ar._axis,xr=lr[or][ur];/string|number|boolean/.test(typeof xr)&&(lr[or][ur]=[xr,xr])})})},fr}(),SUPPORT_TOUCH="ontouchstart"in win,SUPPORT_POINTER="PointerEvent"in win,SUPPORT_MSPOINTER="MSPointerEvent"in win,SUPPORT_POINTER_EVENTS=SUPPORT_POINTER||SUPPORT_MSPOINTER,isValidKey=function(fr,cr){return!!(!cr||cr.indexOf(ANY)>-1||cr.indexOf(NONE)>-1&&!fr.shiftKey&&!fr.ctrlKey&&!fr.altKey&&!fr.metaKey||cr.indexOf(SHIFT)>-1&&fr.shiftKey||cr.indexOf(CTRL)>-1&&fr.ctrlKey||cr.indexOf(ALT)>-1&&fr.altKey||cr.indexOf(META)>-1&&fr.metaKey)},EventInput=function(){function fr(){var ar=this;this._stopContextMenu=function(or){or.preventDefault(),win.removeEventListener("contextmenu",ar._stopContextMenu)}}var cr=fr.prototype;return cr.extendEvent=function(ar){var or,ur=this.prevEvent,lr=this._getCenter(ar),xr=ur?this._getMovement(ar):{x:0,y:0},pr=ur?this._getScale(ar):1,br=ur?getAngle(lr.x-ur.center.x,lr.y-ur.center.y):0,mr=ur?ur.deltaX+xr.x:xr.x,_r=ur?ur.deltaY+xr.y:xr.y,vr=xr.x,Er=xr.y,yr=this._latestInterval,Ir=Date.now(),Ar=yr?Ir-yr.timestamp:0,kr=ur?ur.velocityX:0,Or=ur?ur.velocityY:0;return(!yr||Ar>=VELOCITY_INTERVAL)&&(yr&&(or=[(mr-yr.deltaX)/Ar,(_r-yr.deltaY)/Ar],kr=or[0],Or=or[1]),this._latestInterval={timestamp:Ir,deltaX:mr,deltaY:_r}),{srcEvent:ar,scale:pr,angle:br,center:lr,deltaX:mr,deltaY:_r,offsetX:vr,offsetY:Er,velocityX:kr,velocityY:Or,preventSystemEvent:!0}},cr._getDistance=function(ar,or){var ur=or.clientX-ar.clientX,lr=or.clientY-ar.clientY;return Math.sqrt(ur*ur+lr*lr)},cr._getButton=function(ar){var or={1:MOUSE_LEFT,2:MOUSE_RIGHT,4:MOUSE_MIDDLE},ur=this._isTouchEvent(ar)?MOUSE_LEFT:or[ar.buttons];return ur||null},cr._isTouchEvent=function(ar){return ar.type&&ar.type.indexOf("touch")>-1},cr._isValidButton=function(ar,or){return or.indexOf(ar)>-1},cr._isValidEvent=function(ar,or,ur){return(!or||isValidKey(ar,or))&&(!ur||this._isValidButton(this._getButton(ar),ur))},cr._preventMouseButton=function(ar,or){or===MOUSE_RIGHT?win.addEventListener("contextmenu",this._stopContextMenu):or===MOUSE_MIDDLE&&ar.preventDefault()},fr}(),MouseEventInput=function(fr){__extends$2(cr,fr);function cr(){var or=fr!==null&&fr.apply(this,arguments)||this;return or.start=["mousedown"],or.move=["mousemove"],or.end=["mouseup"],or}var ar=cr.prototype;return ar.onEventStart=function(or,ur,lr){var xr=this._getButton(or);return this._isValidEvent(or,ur,lr)?(this._preventMouseButton(or,xr),this.extendEvent(or)):null},ar.onEventMove=function(or,ur,lr){return this._isValidEvent(or,ur,lr)?this.extendEvent(or):null},ar.onEventEnd=function(){},ar.onRelease=function(){this.prevEvent=null},ar.getTouches=function(or,ur){return ur&&this._isValidButton(MOUSE_BUTTON_CODE_MAP[or.which],ur)&&this.end.indexOf(or.type)===-1?1:0},ar._getScale=function(){return 1},ar._getCenter=function(or){return{x:or.clientX,y:or.clientY}},ar._getMovement=function(or){var ur=this.prevEvent.srcEvent;return{x:or.clientX-ur.clientX,y:or.clientY-ur.clientY}},cr}(EventInput),TouchEventInput=function(fr){__extends$2(cr,fr);function cr(){var or=fr!==null&&fr.apply(this,arguments)||this;return or.start=["touchstart"],or.move=["touchmove"],or.end=["touchend","touchcancel"],or}var ar=cr.prototype;return ar.onEventStart=function(or,ur){return this._baseTouches=or.touches,this._isValidEvent(or,ur)?this.extendEvent(or):null},ar.onEventMove=function(or,ur){return this._isValidEvent(or,ur)?this.extendEvent(or):null},ar.onEventEnd=function(or){this._baseTouches=or.touches},ar.onRelease=function(){this.prevEvent=null,this._baseTouches=null},ar.getTouches=function(or){return or.touches.length},ar._getScale=function(or){return or.touches.length!==2||this._baseTouches.length<2?null:this._getDistance(or.touches[0],or.touches[1])/this._getDistance(this._baseTouches[0],this._baseTouches[1])},ar._getCenter=function(or){return{x:or.touches[0].clientX,y:or.touches[0].clientY}},ar._getMovement=function(or){var ur=this.prevEvent.srcEvent;return or.touches[0].identifier!==ur.touches[0].identifier?{x:0,y:0}:{x:or.touches[0].clientX-ur.touches[0].clientX,y:or.touches[0].clientY-ur.touches[0].clientY}},cr}(EventInput),PointerEventInput=function(fr){__extends$2(cr,fr);function cr(){var or=fr!==null&&fr.apply(this,arguments)||this;return or.start=SUPPORT_POINTER?["pointerdown"]:["MSPointerDown"],or.move=SUPPORT_POINTER?["pointermove"]:["MSPointerMove"],or.end=SUPPORT_POINTER?["pointerup","pointercancel"]:["MSPointerUp","MSPointerCancel"],or._firstInputs=[],or._recentInputs=[],or}var ar=cr.prototype;return ar.onEventStart=function(or,ur,lr){var xr=this._getButton(or);return this._isValidEvent(or,ur,lr)?(this._preventMouseButton(or,xr),this._updatePointerEvent(or),this.extendEvent(or)):null},ar.onEventMove=function(or,ur,lr){return this._isValidEvent(or,ur,lr)?(this._updatePointerEvent(or),this.extendEvent(or)):null},ar.onEventEnd=function(or){this._removePointerEvent(or)},ar.onRelease=function(){this.prevEvent=null,this._firstInputs=[],this._recentInputs=[]},ar.getTouches=function(){return this._recentInputs.length},ar._getScale=function(){return this._recentInputs.length!==2?null:this._getDistance(this._recentInputs[0],this._recentInputs[1])/this._getDistance(this._firstInputs[0],this._firstInputs[1])},ar._getCenter=function(or){return{x:or.clientX,y:or.clientY}},ar._getMovement=function(or){var ur=this.prevEvent.srcEvent;return or.pointerId!==ur.pointerId?{x:0,y:0}:{x:or.clientX-ur.clientX,y:or.clientY-ur.clientY}},ar._updatePointerEvent=function(or){var ur=this,lr=!1;this._recentInputs.forEach(function(xr,pr){xr.pointerId===or.pointerId&&(lr=!0,ur._recentInputs[pr]=or)}),lr||(this._firstInputs.push(or),this._recentInputs.push(or))},ar._removePointerEvent=function(or){this._firstInputs=this._firstInputs.filter(function(ur){return ur.pointerId!==or.pointerId}),this._recentInputs=this._recentInputs.filter(function(ur){return ur.pointerId!==or.pointerId})},cr}(EventInput),TouchMouseEventInput=function(fr){__extends$2(cr,fr);function cr(){var or=fr!==null&&fr.apply(this,arguments)||this;return or.start=["mousedown","touchstart"],or.move=["mousemove","touchmove"],or.end=["mouseup","touchend","touchcancel"],or}var ar=cr.prototype;return ar.onEventStart=function(or,ur,lr){var xr=this._getButton(or);return this._isTouchEvent(or)&&(this._baseTouches=or.touches),this._isValidEvent(or,ur,lr)?(this._preventMouseButton(or,xr),this.extendEvent(or)):null},ar.onEventMove=function(or,ur,lr){return this._isValidEvent(or,ur,lr)?this.extendEvent(or):null},ar.onEventEnd=function(or){this._isTouchEvent(or)&&(this._baseTouches=or.touches)},ar.onRelease=function(){this.prevEvent=null,this._baseTouches=null},ar.getTouches=function(or,ur){return this._isTouchEvent(or)?or.touches.length:this._isValidButton(MOUSE_BUTTON_CODE_MAP[or.which],ur)&&this.end.indexOf(or.type)===-1?1:0},ar._getScale=function(or){return this._isTouchEvent(or)?or.touches.length!==2||this._baseTouches.length<2?1:this._getDistance(or.touches[0],or.touches[1])/this._getDistance(this._baseTouches[0],this._baseTouches[1]):this.prevEvent.scale},ar._getCenter=function(or){return this._isTouchEvent(or)?{x:or.touches[0].clientX,y:or.touches[0].clientY}:{x:or.clientX,y:or.clientY}},ar._getMovement=function(or){var ur=this,lr=this.prevEvent.srcEvent,xr=[or,lr].map(function(mr){return ur._isTouchEvent(mr)?{id:mr.touches[0].identifier,x:mr.touches[0].clientX,y:mr.touches[0].clientY}:{id:null,x:mr.clientX,y:mr.clientY}}),pr=xr[0],br=xr[1];return pr.id===br.id?{x:pr.x-br.x,y:pr.y-br.y}:{x:0,y:0}},cr}(EventInput),toAxis=function(fr,cr){return cr.reduce(function(ar,or,ur){return fr[ur]&&(ar[fr[ur]]=or),ar},{})},convertInputType=function(fr){fr===void 0&&(fr=[]);var cr=!1,ar=!1,or=!1;return fr.forEach(function(ur){switch(ur){case"mouse":ar=!0;break;case"touch":cr=SUPPORT_TOUCH;break;case"pointer":or=SUPPORT_POINTER_EVENTS}}),or?new PointerEventInput:cr&&ar?new TouchMouseEventInput:cr?new TouchEventInput:ar?new MouseEventInput:null};function getAddEventOptions(fr){return fr.indexOf("touch")>-1?{passive:!1}:!1}var InputObserver=function(){function fr(ar){var or=ar.options,ur=ar.interruptManager,lr=ar.eventManager,xr=ar.axisManager,pr=ar.animationManager;this._isOutside=!1,this._moveDistance=null,this._isStopped=!1,this.options=or,this._interruptManager=ur,this._eventManager=lr,this._axisManager=xr,this._animationManager=pr}var cr=fr.prototype;return cr.get=function(ar){return this._axisManager.get(ar.axes)},cr.hold=function(ar,or){if(!(this._interruptManager.isInterrupted()||!ar.axes.length)){var ur={input:ar,event:or};this._isStopped=!1,this._interruptManager.setInterrupt(!0),this._animationManager.stopAnimation(ur),++this._eventManager.holdingCount,this._moveDistance||this._eventManager.hold(this._axisManager.get(),ur),this._isOutside=this._axisManager.isOutside(ar.axes),this._moveDistance=this._axisManager.get(ar.axes)}},cr.change=function(ar,or,ur,lr){if(!(this._isStopped||!this._interruptManager.isInterrupting()||this._axisManager.every(ur,function(Er){return Er===0}))){var xr=or.srcEvent?or.srcEvent:or;if(!xr.__childrenAxesAlreadyChanged){var pr=this._moveDistance||this._axisManager.get(ar.axes),br;br=map(pr,function(Er,yr){return Er+(ur[yr]||0)}),this._moveDistance&&(this._moveDistance=this._axisManager.map(br,function(Er,yr){var Ir=yr.circular,Ar=yr.range;return Ir&&(Ir[0]||Ir[1])?getCirculatedPos(Er,Ar,Ir):Er})),this._isOutside&&this._axisManager.every(pr,function(Er,yr){return!isOutside(Er,yr.range)})&&(this._isOutside=!1),pr=this._atOutside(pr),br=this._atOutside(br),(!this.options.nested||!this._isEndofAxis(ur,pr,br))&&(xr.__childrenAxesAlreadyChanged=!0);var mr={input:ar,event:or};if(lr){var _r=this._animationManager.getDuration(br,pr);this._animationManager.animateTo(br,_r,mr)}else{var vr=!this._eventManager.triggerChange(br,pr,mr,!0);vr&&(this._isStopped=!0,this._moveDistance=null,this._animationManager.finish(!1))}}}},cr.release=function(ar,or,ur,lr){if(!(this._isStopped||!this._interruptManager.isInterrupting()||!this._moveDistance)){var xr=or.srcEvent?or.srcEvent:or;xr.__childrenAxesAlreadyReleased&&(ur=ur.map(function(){return 0}));var pr=this._axisManager.get(ar.axes),br=this._axisManager.get(),mr=this._animationManager.getDisplacement(ur),_r=toAxis(ar.axes,mr),vr=this._axisManager.get(this._axisManager.map(_r,function(Or,Dr,Rr){return Dr.circular&&(Dr.circular[0]||Dr.circular[1])?pr[Rr]+Or:getInsidePosition(pr[Rr]+Or,Dr.range,Dr.circular,Dr.bounce)}));xr.__childrenAxesAlreadyReleased=!0;var Er=this._animationManager.getDuration(vr,pr,lr);Er===0&&(vr=__assign$2({},br));var yr={depaPos:br,destPos:vr,duration:Er,delta:this._axisManager.getDelta(br,vr),inputEvent:or,input:ar,isTrusted:!0};--this._eventManager.holdingCount,this._eventManager.triggerRelease(yr),this._eventManager.holdingCount===0&&(this._moveDistance=null);var Ir=this._animationManager.getUserControl(yr),Ar=equal(Ir.destPos,br),kr={input:ar,event:or};Ar||Ir.duration===0?(Ar||this._eventManager.triggerChange(Ir.destPos,br,kr,!0),this._interruptManager.setInterrupt(!1),this._axisManager.isOutside()?this._animationManager.restore(kr):this._eventManager.triggerFinish(!0)):this._animationManager.animateTo(Ir.destPos,Ir.duration,kr)}},cr._atOutside=function(ar){var or=this;return this._isOutside?this._axisManager.map(ar,function(ur,lr){var xr=lr.range[0]-lr.bounce[0],pr=lr.range[1]+lr.bounce[1];return ur>pr?pr:ur<xr?xr:ur}):this._axisManager.map(ar,function(ur,lr){var xr=lr.range[0],pr=lr.range[1],br=lr.bounce,mr=lr.circular;return mr[0]&&ur<xr||mr[1]&&ur>pr?ur:ur<xr?xr-or._animationManager.interpolate(xr-ur,br[0]):ur>pr?pr+or._animationManager.interpolate(ur-pr,br[1]):ur})},cr._isEndofAxis=function(ar,or,ur){return this._axisManager.every(or,function(lr,xr,pr){return ar[pr]===0||or[pr]===ur[pr]&&isEndofBounce(lr,xr.range,xr.bounce,xr.circular)})},fr}(),clamp$1=function(fr,cr,ar){return Math.max(Math.min(fr,ar),cr)},AnimationManager=function(){function fr(ar){var or=ar.options,ur=ar.interruptManager,lr=ar.eventManager,xr=ar.axisManager;this._options=or,this.interruptManager=ur,this.eventManager=lr,this.axisManager=xr,this.animationEnd=this.animationEnd.bind(this)}var cr=fr.prototype;return cr.getDuration=function(ar,or,ur){var lr=this,xr;if(typeof ur<"u")xr=ur;else{var pr=map(or,function(br,mr){return getDuration(Math.abs(br-ar[mr]),lr._options.deceleration)});xr=Object.keys(pr).reduce(function(br,mr){return Math.max(br,pr[mr])},-1/0)}return clamp$1(xr,this._options.minimumDuration,this._options.maximumDuration)},cr.getDisplacement=function(ar){var or=Math.pow(ar.reduce(function(lr,xr){return lr+xr*xr},0),1/ar.length),ur=Math.abs(or/-this._options.deceleration);return ar.map(function(lr){return lr/2*ur})},cr.stopAnimation=function(ar){if(this._animateParam){var or=this.axisManager.get(),ur=this.axisManager.map(or,function(lr,xr){return getCirculatedPos(lr,xr.range,xr.circular)});every(ur,function(lr,xr){return or[xr]===lr})||this.eventManager.triggerChange(ur,or,ar,!!ar),this._animateParam=null,this._raf&&cancelAnimationFrame(this._raf),this._raf=null,this.eventManager.triggerAnimationEnd(!!(ar!=null&&ar.event))}},cr.getEventInfo=function(){return this._animateParam&&this._animateParam.input&&this._animateParam.inputEvent?{input:this._animateParam.input,event:this._animateParam.inputEvent}:null},cr.restore=function(ar){var or=this.axisManager.get(),ur=this.axisManager.map(or,function(lr,xr){return Math.min(xr.range[1],Math.max(xr.range[0],lr))});this.stopAnimation(),this.animateTo(ur,this.getDuration(or,ur),ar)},cr.animationEnd=function(){var ar=this.getEventInfo();this._animateParam=null;var or=this.axisManager.filter(this.axisManager.get(),function(ur,lr){return isCircularable(ur,lr.range,lr.circular)});Object.keys(or).length>0&&this.setTo(this.axisManager.map(or,function(ur,lr){return getCirculatedPos(ur,lr.range,lr.circular)})),this.interruptManager.setInterrupt(!1),this.eventManager.triggerAnimationEnd(!!ar),this.axisManager.isOutside()?this.restore(ar):this.finish(!!ar)},cr.finish=function(ar){this._animateParam=null,this.interruptManager.setInterrupt(!1),this.eventManager.triggerFinish(ar)},cr.getUserControl=function(ar){var or=ar.setTo();return or.destPos=this.axisManager.get(or.destPos),or.duration=clamp$1(or.duration,this._options.minimumDuration,this._options.maximumDuration),or},cr.animateTo=function(ar,or,ur){var lr=this;this.stopAnimation();var xr=this._createAnimationParam(ar,or,ur),pr=__assign$2({},xr.depaPos),br=this.eventManager.triggerAnimationStart(xr),mr=this.getUserControl(xr);if(!br&&this.axisManager.every(mr.destPos,function(vr,Er){return isCircularable(vr,Er.range,Er.circular)})&&console.warn("You can't stop the 'animation' event when 'circular' is true."),br&&!equal(mr.destPos,pr)){var _r=(ur==null?void 0:ur.event)||null;this._animateLoop({depaPos:pr,destPos:mr.destPos,duration:mr.duration,delta:this.axisManager.getDelta(pr,mr.destPos),isTrusted:!!_r,inputEvent:_r,input:(ur==null?void 0:ur.input)||null},function(){return lr.animationEnd()})}},cr.setTo=function(ar,or){or===void 0&&(or=0);var ur=Object.keys(ar),lr=this.axisManager.get(ur);if(equal(ar,lr))return this;this.interruptManager.setInterrupt(!0);var xr=filter(ar,function(pr,br){return lr[br]!==pr});return Object.keys(xr).length?(xr=this.axisManager.map(xr,function(pr,br){var mr=br.range,_r=br.circular;return _r&&(_r[0]||_r[1])?pr:getInsidePosition(pr,mr,_r)}),equal(xr,lr)?this:(or>0?this.animateTo(xr,or):(this.stopAnimation(),this.eventManager.triggerChange(xr),this.finish(!1)),this)):this},cr.setBy=function(ar,or){return or===void 0&&(or=0),this.setTo(map(this.axisManager.get(Object.keys(ar)),function(ur,lr){return ur+ar[lr]}),or)},cr.setOptions=function(ar){this._options=__assign$2(__assign$2({},this._options),ar)},cr._createAnimationParam=function(ar,or,ur){var lr=this.axisManager.get(),xr=ar,pr=(ur==null?void 0:ur.event)||null;return{depaPos:lr,destPos:xr,duration:clamp$1(or,this._options.minimumDuration,this._options.maximumDuration),delta:this.axisManager.getDelta(lr,xr),inputEvent:pr,input:(ur==null?void 0:ur.input)||null,isTrusted:!!pr,done:this.animationEnd}},cr._animateLoop=function(ar,or){var ur=this;if(ar.duration){this._animateParam=__assign$2(__assign$2({},ar),{startTime:new Date().getTime()});var lr=map(ar.destPos,function(br){return br}),xr=this._initState(this._animateParam),pr=function(){ur._raf=null;var br=ur._animateParam,mr=ur._getNextState(xr),_r=!ur.eventManager.triggerChange(mr.pos,xr.pos);if(xr=mr,mr.finished){br.destPos=ur._getFinalPos(br.destPos,lr),equal(br.destPos,ur.axisManager.get(Object.keys(br.destPos)))||ur.eventManager.triggerChange(br.destPos,mr.pos),or();return}else _r?ur.finish(!1):ur._raf=requestAnimationFrame(pr)};pr()}else this.eventManager.triggerChange(ar.destPos),or()},cr._getFinalPos=function(ar,or){var ur=this,lr=1e-6,xr=map(ar,function(pr,br){if(pr>=or[br]-lr&&pr<=or[br]+lr)return or[br];var mr=ur._getRoundUnit(pr,br),_r=roundNumber(pr,mr);return _r});return xr},cr._getRoundUnit=function(ar,or){var ur=this._options.round,lr=null;if(!ur){var xr=this.axisManager.getAxisOptions(or);lr=inversePow(Math.max(getDecimalPlace(xr.range[0]),getDecimalPlace(xr.range[1]),getDecimalPlace(ar)))}return lr||ur},fr}(),EasingManager=function(fr){__extends$2(cr,fr);function cr(){var or=fr!==null&&fr.apply(this,arguments)||this;return or._useDuration=!0,or}var ar=cr.prototype;return ar.interpolate=function(or,ur){var lr=this._easing(1e-5)/1e-5;return this._easing(or/(ur*lr))*ur},ar.updateAnimation=function(or){var ur,lr=this._animateParam;if(lr){var xr=new Date().getTime()-lr.startTime,pr=(or==null?void 0:or.destPos)||lr.destPos,br=(ur=or==null?void 0:or.duration)!==null&&ur!==void 0?ur:lr.duration;if(or!=null&&or.restart||br<=xr){this.setTo(pr,br-xr);return}if(or!=null&&or.destPos){var mr=this.axisManager.get();this._initialEasingPer=this._prevEasingPer,lr.delta=this.axisManager.getDelta(mr,pr),lr.destPos=pr}if(or!=null&&or.duration){var _r=(xr+this._durationOffset)/lr.duration;this._durationOffset=_r*br-xr,lr.duration=br}}},ar._initState=function(or){return this._initialEasingPer=0,this._prevEasingPer=0,this._durationOffset=0,{pos:or.depaPos,easingPer:0,finished:!1}},ar._getNextState=function(or){var ur=this,lr=this._animateParam,xr=or.pos,pr=lr.destPos,br=map(xr,function(yr,Ir){return yr<=pr[Ir]?1:-1}),mr=new Date().getTime()-lr.startTime,_r=(mr+this._durationOffset)/lr.duration,vr=this._easing(_r),Er=this.axisManager.map(xr,function(yr,Ir,Ar){var kr=_r>=1?pr[Ar]:yr+lr.delta[Ar]*(vr-ur._prevEasingPer)/(1-ur._initialEasingPer),Or=getCirculatedPos(kr,Ir.range,Ir.circular);if(kr!==Or){var Dr=br[Ar]*(Ir.range[1]-Ir.range[0]);pr[Ar]-=Dr,xr[Ar]-=Dr}return Or});return this._prevEasingPer=vr,{pos:Er,easingPer:vr,finished:vr>=1}},ar._easing=function(or){return or>1?1:this._options.easing(or)},cr}(AnimationManager),Axes=function(fr){__extends$2(cr,fr);function cr(or,ur,lr){or===void 0&&(or={}),ur===void 0&&(ur={}),lr===void 0&&(lr={});var xr=fr.call(this)||this;return xr.axis=or,xr._inputs=[],xr.options=__assign$2({easing:function(pr){return 1-Math.pow(1-pr,3)},interruptable:!0,maximumDuration:1/0,minimumDuration:0,deceleration:6e-4,round:null,nested:!1},ur),Object.keys(lr).forEach(function(pr){xr.axis[pr].startPos=lr[pr]}),xr.interruptManager=new InterruptManager(xr.options),xr.axisManager=new AxisManager(xr.axis),xr.eventManager=new EventManager(xr),xr.animationManager=new EasingManager(xr),xr.inputObserver=new InputObserver(xr),xr.eventManager.setAnimationManager(xr.animationManager),xr.eventManager.triggerChange(xr.axisManager.get()),xr}var ar=cr.prototype;return Object.defineProperty(ar,"holding",{get:function(){return this.eventManager.holdingCount>0},enumerable:!1,configurable:!0}),ar.connect=function(or,ur){var lr;return typeof or=="string"?lr=or.split(" "):lr=or.concat(),~this._inputs.indexOf(ur)&&this.disconnect(ur),ur.mapAxes(lr),ur.connect(this.inputObserver),this._inputs.push(ur),this},ar.disconnect=function(or){if(or){var ur=this._inputs.indexOf(or);ur>=0&&(this._inputs[ur].disconnect(),this._inputs.splice(ur,1))}else this._inputs.forEach(function(lr){return lr.disconnect()}),this._inputs=[];return this},ar.get=function(or){return this.axisManager.get(or)},ar.setTo=function(or,ur){return ur===void 0&&(ur=0),this.animationManager.setTo(or,ur),this},ar.setBy=function(or,ur){return ur===void 0&&(ur=0),this.animationManager.setBy(or,ur),this},ar.setOptions=function(or){return this.options=__assign$2(__assign$2({},this.options),or),this.animationManager.setOptions(or),this},ar.setAxis=function(or){return this.axisManager.setAxis(or),this},ar.stopAnimation=function(){return this.animationManager.stopAnimation(),this.animationManager.finish(!1),this},ar.updateAnimation=function(or){return this.animationManager.updateAnimation(or),this},ar.isBounceArea=function(or){return this.axisManager.isOutside(or)},ar.destroy=function(){this.disconnect(),this.eventManager.destroy()},cr.VERSION="3.9.1",cr.TRANSFORM=TRANSFORM,cr.DIRECTION_NONE=DIRECTION_NONE,cr.DIRECTION_LEFT=DIRECTION_LEFT,cr.DIRECTION_RIGHT=DIRECTION_RIGHT,cr.DIRECTION_UP=DIRECTION_UP,cr.DIRECTION_DOWN=DIRECTION_DOWN,cr.DIRECTION_HORIZONTAL=DIRECTION_HORIZONTAL,cr.DIRECTION_VERTICAL=DIRECTION_VERTICAL,cr.DIRECTION_ALL=DIRECTION_ALL,__decorate([Computed],cr.prototype,"holding",null),cr=__decorate([ReactiveSubscribe],cr),cr}(Component),getDirectionByAngle=function(fr,cr){if(cr<0||cr>90)return DIRECTION_NONE;var ar=Math.abs(fr);return ar>cr&&ar<180-cr?DIRECTION_VERTICAL:DIRECTION_HORIZONTAL},PanInput=function(){function fr(ar,or){var ur=this;this.axes=[],this.element=null,this._enabled=!1,this._activeEvent=null,this._atRightEdge=!1,this._rightEdgeTimer=0,this._dragged=!1,this._isOverThreshold=!1,this._preventClickWhenDragged=function(lr){ur._dragged&&(lr.preventDefault(),lr.stopPropagation()),ur._dragged=!1},this._voidFunction=function(){},this.element=$(ar),this.options=__assign$2({inputType:["touch","mouse","pointer"],inputKey:[ANY],inputButton:[MOUSE_LEFT],scale:[1,1],thresholdAngle:45,threshold:0,preventClickOnDrag:!1,preventDefaultOnDrag:!1,iOSEdgeSwipeThreshold:IOS_EDGE_THRESHOLD,releaseOnScroll:!1,touchAction:null},or),this._onPanstart=this._onPanstart.bind(this),this._onPanmove=this._onPanmove.bind(this),this._onPanend=this._onPanend.bind(this)}var cr=fr.prototype;return cr.mapAxes=function(ar){this._direction=getDirection$1(!!ar[0],!!ar[1]),this.axes=ar},cr.connect=function(ar){return this._activeEvent&&(this._detachElementEvent(),this._detachWindowEvent(this._activeEvent)),this._attachElementEvent(ar),this},cr.disconnect=function(){return this._detachElementEvent(),this._detachWindowEvent(this._activeEvent),this._direction=DIRECTION_NONE,this},cr.destroy=function(){this.disconnect(),this.element=null},cr.enable=function(){return this._enabled||(this._enabled=!0,this._originalCssProps=setCssProps(this.element,this.options,this._direction)),this},cr.disable=function(){return this._enabled&&(this._enabled=!1,isCssPropsFromAxes(this._originalCssProps)||revertCssProps(this.element,this._originalCssProps)),this},cr.isEnabled=function(){return this._enabled},cr.release=function(){var ar=this._activeEvent,or=ar.prevEvent;return ar.onRelease(),this._observer.release(this,or,[0,0]),this._detachWindowEvent(ar),this},cr._onPanstart=function(ar){var or=this.options,ur=or.inputKey,lr=or.inputButton,xr=or.preventDefaultOnDrag,pr=this._activeEvent,br=pr.onEventStart(ar,ur,lr);if(!(!br||!this._enabled||pr.getTouches(ar,lr)>1)&&br.srcEvent.cancelable!==!1){var mr=this.options.iOSEdgeSwipeThreshold;this._dragged=!1,this._isOverThreshold=!1,this._observer.hold(this,br),this._atRightEdge=IS_IOS_SAFARI&&br.center.x>window.innerWidth-mr,this._attachWindowEvent(pr),xr&&br.srcEvent.type!=="touchstart"&&br.srcEvent.preventDefault(),pr.prevEvent=br}},cr._onPanmove=function(ar){var or=this,ur=this.options,lr=ur.iOSEdgeSwipeThreshold,xr=ur.preventClickOnDrag,pr=ur.releaseOnScroll,br=ur.inputKey,mr=ur.inputButton,_r=ur.threshold,vr=ur.thresholdAngle,Er=this._activeEvent,yr=Er.onEventMove(ar,br,mr),Ir=Er.getTouches(ar,mr);if(Ir===0||pr&&yr&&!yr.srcEvent.cancelable){this._onPanend(ar);return}if(!(!yr||!this._enabled||Ir>1)){var Ar=getDirectionByAngle(yr.angle,vr),kr=useDirection(DIRECTION_HORIZONTAL,this._direction,Ar),Or=useDirection(DIRECTION_VERTICAL,this._direction,Ar);if(Er.prevEvent&&IS_IOS_SAFARI){var Dr=yr.center.x<0;if(Dr){this.release();return}else if(this._atRightEdge){clearTimeout(this._rightEdgeTimer);var Rr=yr.deltaX<-lr;Rr?this._atRightEdge=!1:this._rightEdgeTimer=window.setTimeout(function(){return or.release()},100)}}var Fr=this._getDistance([yr.deltaX,yr.deltaY],[kr,Or]),Lr=this._getOffset([yr.offsetX,yr.offsetY],[kr,Or]),Hr=Lr.some(function(Ur){return Ur!==0});Hr&&(yr.srcEvent.cancelable!==!1&&yr.srcEvent.preventDefault(),yr.srcEvent.stopPropagation()),yr.preventSystemEvent=Hr,Hr&&(this._isOverThreshold||Fr>=_r)&&(this._dragged=xr,this._isOverThreshold=!0,this._observer.change(this,yr,toAxis(this.axes,Lr))),Er.prevEvent=yr}},cr._onPanend=function(ar){var or=this.options.inputButton,ur=this._activeEvent;if(ur.onEventEnd(ar),!(!this._enabled||ur.getTouches(ar,or)!==0)){this._detachWindowEvent(ur),clearTimeout(this._rightEdgeTimer);var lr=ur.prevEvent,xr=this._isOverThreshold?this._getOffset([Math.abs(lr.velocityX)*(lr.offsetX<0?-1:1),Math.abs(lr.velocityY)*(lr.offsetY<0?-1:1)],[useDirection(DIRECTION_HORIZONTAL,this._direction),useDirection(DIRECTION_VERTICAL,this._direction)]):[0,0];ur.onRelease(),this._observer.release(this,lr,xr)}},cr._attachWindowEvent=function(ar){var or=this;ar==null||ar.move.forEach(function(ur){window.addEventListener(ur,or._onPanmove,getAddEventOptions(ur))}),ar==null||ar.end.forEach(function(ur){window.addEventListener(ur,or._onPanend,getAddEventOptions(ur))})},cr._detachWindowEvent=function(ar){var or=this;ar==null||ar.move.forEach(function(ur){window.removeEventListener(ur,or._onPanmove)}),ar==null||ar.end.forEach(function(ur){window.removeEventListener(ur,or._onPanend)})},cr._getOffset=function(ar,or){var ur=this.options.scale;return[or[0]?ar[0]*ur[0]:0,or[1]?ar[1]*ur[1]:0]},cr._getDistance=function(ar,or){return Math.sqrt(Number(or[0])*Math.pow(ar[0],2)+Number(or[1])*Math.pow(ar[1],2))},cr._attachElementEvent=function(ar){var or=this,ur=convertInputType(this.options.inputType),lr=this.element;if(ur){if(!lr)throw new Error("Element to connect input does not exist.");this._observer=ar,this.enable(),this._activeEvent=ur,lr.addEventListener("click",this._preventClickWhenDragged,!0),ur.start.forEach(function(xr){lr.addEventListener(xr,or._onPanstart)}),ur.move.forEach(function(xr){lr.addEventListener(xr,or._voidFunction)})}},cr._detachElementEvent=function(){var ar=this,or=this._activeEvent,ur=this.element;ur&&(ur.removeEventListener("click",this._preventClickWhenDragged,!0),or==null||or.start.forEach(function(lr){ur.removeEventListener(lr,ar._onPanstart)}),or==null||or.move.forEach(function(lr){ur.removeEventListener(lr,ar._voidFunction)})),this.disable(),this._observer=null},fr}();const Axes$1=Axes;var extendStatics$1=function(fr,cr){return extendStatics$1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ar,or){ar.__proto__=or}||function(ar,or){for(var ur in or)Object.prototype.hasOwnProperty.call(or,ur)&&(ar[ur]=or[ur])},extendStatics$1(fr,cr)};function __extends$1(fr,cr){if(typeof cr!="function"&&cr!==null)throw new TypeError("Class extends value "+String(cr)+" is not a constructor or null");extendStatics$1(fr,cr);function ar(){this.constructor=fr}fr.prototype=cr===null?Object.create(cr):(ar.prototype=cr.prototype,new ar)}var __assign$1=function(){return __assign$1=Object.assign||function(cr){for(var ar,or=1,ur=arguments.length;or<ur;or++){ar=arguments[or];for(var lr in ar)Object.prototype.hasOwnProperty.call(ar,lr)&&(cr[lr]=ar[lr])}return cr},__assign$1.apply(this,arguments)};function __spreadArrays(){for(var fr=0,cr=0,ar=arguments.length;cr<ar;cr++)fr+=arguments[cr].length;for(var or=Array(fr),ur=0,cr=0;cr<ar;cr++)for(var lr=arguments[cr],xr=0,pr=lr.length;xr<pr;xr++,ur++)or[ur]=lr[xr];return or}var isWindow=typeof window<"u",ua$1=isWindow?window.navigator.userAgent:"",SUPPORT_COMPUTEDSTYLE=isWindow?"getComputedStyle"in window:!1,IS_IE=/MSIE|Trident|Windows Phone|Edge/.test(ua$1),SUPPORT_ADDEVENTLISTENER=isWindow?"addEventListener"in document:!1,WIDTH="width",HEIGHT="height";function getAttribute(fr,cr){return fr.getAttribute(cr)||""}function toArray$1(fr){return[].slice.call(fr)}function hasSizeAttribute(fr,cr){return cr===void 0&&(cr="data-"),!!fr.getAttribute(cr+"width")}function hasLoadingAttribute(fr,cr){return cr===void 0&&(cr="data-"),"loading"in fr&&fr.getAttribute("loading")==="lazy"||!!fr.getAttribute(cr+"lazy")}function hasSkipAttribute(fr,cr){return cr===void 0&&(cr="data-"),!!fr.getAttribute(cr+"skip")}function addEvent(fr,cr,ar){SUPPORT_ADDEVENTLISTENER?fr.addEventListener(cr,ar,!1):fr.attachEvent?fr.attachEvent("on"+cr,ar):fr["on"+cr]=ar}function removeEvent(fr,cr,ar){fr.removeEventListener?fr.removeEventListener(cr,ar,!1):fr.detachEvent?fr.detachEvent("on"+cr,ar):fr["on"+cr]=null}function innerWidth(fr){return getSize(fr,"Width")}function innerHeight(fr){return getSize(fr,"Height")}function getStyles(fr){return(SUPPORT_COMPUTEDSTYLE?window.getComputedStyle(fr):fr.currentStyle)||{}}function getSize(fr,cr){var ar=fr["client"+cr]||fr["offset"+cr];return parseFloat(ar||getStyles(fr)[cr.toLowerCase()])||0}function getContentElements(fr,cr,ar){var or=toArray$1(fr.querySelectorAll(__spreadArrays(["["+ar+"skip] ["+ar+"width]"],cr.map(function(ur){return["["+ar+"skip] "+ur,ur+"["+ar+"skip]","["+ar+"width] "+ur].join(", ")})).join(", ")));return toArray$1(fr.querySelectorAll("["+ar+"width], "+cr.join(", "))).filter(function(ur){return or.indexOf(ur)===-1})}var elements=[];function addAutoSizer(fr,cr){!elements.length&&addEvent(window,"resize",resizeAllAutoSizers),fr.__PREFIX__=cr,elements.push(fr),resize(fr)}function removeAutoSizer(fr,cr){var ar=elements.indexOf(fr);if(!(ar<0)){var or=getAttribute(fr,cr+"fixed");delete fr.__PREFIX__,fr.style[or===HEIGHT?WIDTH:HEIGHT]="",elements.splice(ar,1),!elements.length&&removeEvent(window,"resize",resizeAllAutoSizers)}}function resize(fr,cr){cr===void 0&&(cr="data-");var ar=fr.__PREFIX__||cr,or=parseInt(getAttribute(fr,""+ar+WIDTH),10)||0,ur=parseInt(getAttribute(fr,""+ar+HEIGHT),10)||0,lr=getAttribute(fr,ar+"fixed");if(lr===HEIGHT){var xr=innerHeight(fr)||ur;fr.style[WIDTH]=or/ur*xr+"px"}else{var xr=innerWidth(fr)||or;fr.style[HEIGHT]=ur/or*xr+"px"}}function resizeAllAutoSizers(){elements.forEach(function(fr){resize(fr)})}var Loader=function(fr){__extends$1(cr,fr);function cr(or,ur){ur===void 0&&(ur={});var lr=fr.call(this)||this;lr.isReady=!1,lr.isPreReady=!1,lr.hasDataSize=!1,lr.hasLoading=!1,lr.isSkip=!1,lr.onCheck=function(pr){if(lr.clear(),pr&&pr.type==="error"&&lr.onError(lr.element),!(lr.hasLoading&&lr.checkElement())){var br=!lr.hasDataSize&&!lr.hasLoading;lr.onReady(br)}},lr.options=__assign$1({prefix:"data-"},ur),lr.element=or;var xr=lr.options.prefix;return lr.hasDataSize=hasSizeAttribute(or,xr),lr.isSkip=hasSkipAttribute(or,xr),lr.hasLoading=hasLoadingAttribute(or,xr),lr}var ar=cr.prototype;return ar.check=function(){return this.isSkip||!this.checkElement()?(this.onAlreadyReady(!0),!1):(this.hasDataSize&&addAutoSizer(this.element,this.options.prefix),(this.hasDataSize||this.hasLoading)&&this.onAlreadyPreReady(),!0)},ar.addEvents=function(){var or=this,ur=this.element;this.constructor.EVENTS.forEach(function(lr){addEvent(ur,lr,or.onCheck)})},ar.clear=function(){var or=this,ur=this.element;this.constructor.EVENTS.forEach(function(lr){removeEvent(ur,lr,or.onCheck)}),this.removeAutoSizer()},ar.destroy=function(){this.clear(),this.off()},ar.removeAutoSizer=function(){if(this.hasDataSize){var or=this.options.prefix;removeAutoSizer(this.element,or)}},ar.onError=function(or){this.trigger("error",{element:this.element,target:or})},ar.onPreReady=function(){this.isPreReady||(this.isPreReady=!0,this.trigger("preReady",{element:this.element,hasLoading:this.hasLoading,isSkip:this.isSkip}))},ar.onReady=function(or){this.isReady||(or=!this.isPreReady&&or,or&&(this.isPreReady=!0),this.removeAutoSizer(),this.isReady=!0,this.trigger("ready",{element:this.element,withPreReady:or,hasLoading:this.hasLoading,isSkip:this.isSkip}))},ar.onAlreadyError=function(or){var ur=this;setTimeout(function(){ur.onError(or)})},ar.onAlreadyPreReady=function(){var or=this;setTimeout(function(){or.onPreReady()})},ar.onAlreadyReady=function(or){var ur=this;setTimeout(function(){ur.onReady(or)})},cr.EVENTS=[],cr}(Component),ElementLoader=function(fr){__extends$1(cr,fr);function cr(){return fr!==null&&fr.apply(this,arguments)||this}var ar=cr.prototype;return ar.setHasLoading=function(or){this.hasLoading=or},ar.check=function(){return this.isSkip?(this.onAlreadyReady(!0),!1):(this.hasDataSize?(addAutoSizer(this.element,this.options.prefix),this.onAlreadyPreReady()):this.trigger("requestChildren"),!0)},ar.checkElement=function(){return!0},ar.destroy=function(){this.clear(),this.trigger("requestDestroy"),this.off()},ar.onAlreadyPreReady=function(){fr.prototype.onAlreadyPreReady.call(this),this.trigger("reqeustReadyChildren")},cr.EVENTS=[],cr}(Loader),ImReadyManager=function(fr){__extends$1(cr,fr);function cr(or){or===void 0&&(or={});var ur=fr.call(this)||this;return ur.readyCount=0,ur.preReadyCount=0,ur.totalCount=0,ur.totalErrorCount=0,ur.isPreReadyOver=!0,ur.elementInfos=[],ur.options=__assign$1({loaders:{},prefix:"data-"},or),ur}var ar=cr.prototype;return ar.check=function(or){var ur=this,lr=this.options.prefix;this.clear(),this.elementInfos=toArray$1(or).map(function(pr,br){var mr=ur.getLoader(pr,{prefix:lr});return mr.check(),mr.on("error",function(_r){ur.onError(br,_r.target)}).on("preReady",function(_r){var vr=ur.elementInfos[br];vr.hasLoading=_r.hasLoading,vr.isSkip=_r.isSkip;var Er=ur.checkPreReady(br);ur.onPreReadyElement(br),Er&&ur.onPreReady()}).on("ready",function(_r){var vr=_r.withPreReady,Er=_r.hasLoading,yr=_r.isSkip,Ir=ur.elementInfos[br];Ir.hasLoading=Er,Ir.isSkip=yr;var Ar=vr&&ur.checkPreReady(br),kr=ur.checkReady(br);vr&&ur.onPreReadyElement(br),ur.onReadyElement(br),Ar&&ur.onPreReady(),kr&&ur.onReady()}),{loader:mr,element:pr,hasLoading:!1,hasError:!1,isPreReady:!1,isReady:!1,isSkip:!1}});var xr=this.elementInfos.length;return this.totalCount=xr,xr||setTimeout(function(){ur.onPreReady(),ur.onReady()}),this},ar.getTotalCount=function(){return this.totalCount},ar.isPreReady=function(){return this.elementInfos.every(function(or){return or.isPreReady})},ar.isReady=function(){return this.elementInfos.every(function(or){return or.isReady})},ar.hasError=function(){return this.totalErrorCount>0},ar.clear=function(){this.isPreReadyOver=!1,this.totalCount=0,this.preReadyCount=0,this.readyCount=0,this.totalErrorCount=0,this.elementInfos.forEach(function(or){or.loader&&or.loader.destroy()}),this.elementInfos=[]},ar.destroy=function(){this.clear(),this.off()},ar.getLoader=function(or,ur){var lr=this,xr=or.tagName.toLowerCase(),pr=this.options.loaders,br=ur.prefix,mr=Object.keys(pr);if(pr[xr])return new pr[xr](or,ur);var _r=new ElementLoader(or,ur),vr=toArray$1(or.querySelectorAll(mr.join(", ")));_r.setHasLoading(vr.some(function(Ir){return hasLoadingAttribute(Ir,br)}));var Er=!1,yr=this.clone().on("error",function(Ir){_r.onError(Ir.target)}).on("ready",function(){_r.onReady(Er)});return _r.on("requestChildren",function(){var Ir=getContentElements(or,mr,lr.options.prefix);yr.check(Ir).on("preReady",function(Ar){Er=Ar.isReady,Er||_r.onPreReady()})}).on("reqeustReadyChildren",function(){yr.check(vr)}).on("requestDestroy",function(){yr.destroy()}),_r},ar.clone=function(){return new cr(__assign$1({},this.options))},ar.checkPreReady=function(or){return this.elementInfos[or].isPreReady=!0,++this.preReadyCount,!(this.preReadyCount<this.totalCount)},ar.checkReady=function(or){return this.elementInfos[or].isReady=!0,++this.readyCount,!(this.readyCount<this.totalCount)},ar.onError=function(or,ur){var lr=this.elementInfos[or];lr.hasError=!0,this.trigger(new ComponentEvent$1("error",{element:lr.element,index:or,target:ur,errorCount:this.getErrorCount(),totalErrorCount:++this.totalErrorCount}))},ar.onPreReadyElement=function(or){var ur=this.elementInfos[or];this.trigger(new ComponentEvent$1("preReadyElement",{element:ur.element,index:or,preReadyCount:this.preReadyCount,readyCount:this.readyCount,totalCount:this.totalCount,isPreReady:this.isPreReady(),isReady:this.isReady(),hasLoading:ur.hasLoading,isSkip:ur.isSkip}))},ar.onPreReady=function(){this.isPreReadyOver=!0,this.trigger(new ComponentEvent$1("preReady",{readyCount:this.readyCount,totalCount:this.totalCount,isReady:this.isReady(),hasLoading:this.hasLoading()}))},ar.onReadyElement=function(or){var ur=this.elementInfos[or];this.trigger(new ComponentEvent$1("readyElement",{index:or,element:ur.element,hasError:ur.hasError,errorCount:this.getErrorCount(),totalErrorCount:this.totalErrorCount,preReadyCount:this.preReadyCount,readyCount:this.readyCount,totalCount:this.totalCount,isPreReady:this.isPreReady(),isReady:this.isReady(),hasLoading:ur.hasLoading,isPreReadyOver:this.isPreReadyOver,isSkip:ur.isSkip}))},ar.onReady=function(){this.trigger(new ComponentEvent$1("ready",{errorCount:this.getErrorCount(),totalErrorCount:this.totalErrorCount,totalCount:this.totalCount}))},ar.getErrorCount=function(){return this.elementInfos.filter(function(or){return or.hasError}).length},ar.hasLoading=function(){return this.elementInfos.some(function(or){return or.hasLoading})},cr}(Component),ImageLoader=function(fr){__extends$1(cr,fr);function cr(){return fr!==null&&fr.apply(this,arguments)||this}var ar=cr.prototype;return ar.checkElement=function(){var or=this.element,ur=or.getAttribute("src");if(or.complete){if(ur)return or.naturalWidth||this.onAlreadyError(or),!1;this.onAlreadyPreReady()}return this.addEvents(),IS_IE&&or.setAttribute("src",ur),!0},cr.EVENTS=["load","error"],cr}(Loader),VideoLoader=function(fr){__extends$1(cr,fr);function cr(){return fr!==null&&fr.apply(this,arguments)||this}var ar=cr.prototype;return ar.checkElement=function(){var or=this.element;return or.readyState>=1?!1:or.error?(this.onAlreadyError(or),!1):(this.addEvents(),!0)},cr.EVENTS=["loadedmetadata","error"],cr}(Loader),ImReady=function(fr){__extends$1(cr,fr);function cr(ar){return ar===void 0&&(ar={}),fr.call(this,__assign$1({loaders:{img:ImageLoader,video:VideoLoader}},ar))||this}return cr}(ImReadyManager);const ImReady$1=ImReady;var extendStatics=function(fr,cr){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ar,or){ar.__proto__=or}||function(ar,or){for(var ur in or)Object.prototype.hasOwnProperty.call(or,ur)&&(ar[ur]=or[ur])},extendStatics(fr,cr)};function __extends(fr,cr){if(typeof cr!="function"&&cr!==null)throw new TypeError("Class extends value "+String(cr)+" is not a constructor or null");extendStatics(fr,cr);function ar(){this.constructor=fr}fr.prototype=cr===null?Object.create(cr):(ar.prototype=cr.prototype,new ar)}var __assign=function(){return __assign=Object.assign||function(cr){for(var ar,or=1,ur=arguments.length;or<ur;or++){ar=arguments[or];for(var lr in ar)Object.prototype.hasOwnProperty.call(ar,lr)&&(cr[lr]=ar[lr])}return cr},__assign.apply(this,arguments)};function __awaiter(fr,cr,ar,or){function ur(lr){return lr instanceof ar?lr:new ar(function(xr){xr(lr)})}return new(ar||(ar=Promise))(function(lr,xr){function pr(_r){try{mr(or.next(_r))}catch(vr){xr(vr)}}function br(_r){try{mr(or.throw(_r))}catch(vr){xr(vr)}}function mr(_r){_r.done?lr(_r.value):ur(_r.value).then(pr,br)}mr((or=or.apply(fr,cr||[])).next())})}function __generator(fr,cr){var ar={label:0,sent:function(){if(lr[0]&1)throw lr[1];return lr[1]},trys:[],ops:[]},or,ur,lr,xr;return xr={next:pr(0),throw:pr(1),return:pr(2)},typeof Symbol=="function"&&(xr[Symbol.iterator]=function(){return this}),xr;function pr(mr){return function(_r){return br([mr,_r])}}function br(mr){if(or)throw new TypeError("Generator is already executing.");for(;xr&&(xr=0,mr[0]&&(ar=0)),ar;)try{if(or=1,ur&&(lr=mr[0]&2?ur.return:mr[0]?ur.throw||((lr=ur.return)&&lr.call(ur),0):ur.next)&&!(lr=lr.call(ur,mr[1])).done)return lr;switch(ur=0,lr&&(mr=[mr[0]&2,lr.value]),mr[0]){case 0:case 1:lr=mr;break;case 4:return ar.label++,{value:mr[1],done:!1};case 5:ar.label++,ur=mr[1],mr=[0];continue;case 7:mr=ar.ops.pop(),ar.trys.pop();continue;default:if(lr=ar.trys,!(lr=lr.length>0&&lr[lr.length-1])&&(mr[0]===6||mr[0]===2)){ar=0;continue}if(mr[0]===3&&(!lr||mr[1]>lr[0]&&mr[1]<lr[3])){ar.label=mr[1];break}if(mr[0]===6&&ar.label<lr[1]){ar.label=lr[1],lr=mr;break}if(lr&&ar.label<lr[2]){ar.label=lr[2],ar.ops.push(mr);break}lr[2]&&ar.ops.pop(),ar.trys.pop();continue}mr=cr.call(fr,ar)}catch(_r){mr=[6,_r],ur=0}finally{or=lr=0}if(mr[0]&5)throw mr[1];return{value:mr[0]?mr[1]:void 0,done:!0}}}function __values(fr){var cr=typeof Symbol=="function"&&Symbol.iterator,ar=cr&&fr[cr],or=0;if(ar)return ar.call(fr);if(fr&&typeof fr.length=="number")return{next:function(){return fr&&or>=fr.length&&(fr=void 0),{value:fr&&fr[or++],done:!fr}}};throw new TypeError(cr?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(fr,cr){var ar=typeof Symbol=="function"&&fr[Symbol.iterator];if(!ar)return fr;var or=ar.call(fr),ur,lr=[],xr;try{for(;(cr===void 0||cr-- >0)&&!(ur=or.next()).done;)lr.push(ur.value)}catch(pr){xr={error:pr}}finally{try{ur&&!ur.done&&(ar=or.return)&&ar.call(or)}finally{if(xr)throw xr.error}}return lr}function __spread(){for(var fr=[],cr=0;cr<arguments.length;cr++)fr=fr.concat(__read(arguments[cr]));return fr}typeof SuppressedError=="function"&&SuppressedError;var CODE={WRONG_TYPE:0,ELEMENT_NOT_FOUND:1,VAL_MUST_NOT_NULL:2,NOT_ATTACHED_TO_FLICKING:3,WRONG_OPTION:4,INDEX_OUT_OF_RANGE:5,POSITION_NOT_REACHABLE:6,TRANSFORM_NOT_SUPPORTED:7,STOP_CALLED_BY_USER:8,ANIMATION_INTERRUPTED:9,ANIMATION_ALREADY_PLAYING:10,NOT_ALLOWED_IN_FRAMEWORK:11,NOT_INITIALIZED:12,NO_ACTIVE:13,NOT_ALLOWED_IN_VIRTUAL:14},MESSAGE={WRONG_TYPE:function(fr,cr){return fr+"("+typeof fr+") is not a "+cr.map(function(ar){return'"'+ar+'"'}).join(" or ")+"."},ELEMENT_NOT_FOUND:function(fr){return'Element with selector "'+fr+'" not found.'},VAL_MUST_NOT_NULL:function(fr,cr){return cr+" should be provided. Given: "+fr},NOT_ATTACHED_TO_FLICKING:'This module is not attached to the Flicking instance. "init()" should be called first.',WRONG_OPTION:function(fr,cr){return'Option "'+fr+'" is not in correct format, given: '+cr},INDEX_OUT_OF_RANGE:function(fr,cr,ar){return'Index "'+fr+'" is out of range: should be between '+cr+" and "+ar+"."},POSITION_NOT_REACHABLE:function(fr){return'Position "'+fr+'" is not reachable.'},TRANSFORM_NOT_SUPPORTED:"Browser does not support CSS transform.",STOP_CALLED_BY_USER:"Event stop() is called by user.",ANIMATION_INTERRUPTED:"Animation is interrupted by user input.",ANIMATION_ALREADY_PLAYING:"Animation is already playing.",NOT_ALLOWED_IN_FRAMEWORK:"This behavior is not allowed in the frameworks like React, Vue, or Angular.",NOT_INITIALIZED:"Flicking is not initialized yet, call init() first.",NO_ACTIVE:"There's no active panel that Flicking has selected. This may be due to the absence of any panels.",NOT_ALLOWED_IN_VIRTUAL:"This behavior is not allowed when the virtual option is enabled"},EVENTS={READY:"ready",BEFORE_RESIZE:"beforeResize",AFTER_RESIZE:"afterResize",HOLD_START:"holdStart",HOLD_END:"holdEnd",MOVE_START:"moveStart",MOVE:"move",MOVE_END:"moveEnd",WILL_CHANGE:"willChange",CHANGED:"changed",WILL_RESTORE:"willRestore",RESTORED:"restored",SELECT:"select",NEED_PANEL:"needPanel",VISIBLE_CHANGE:"visibleChange",REACH_EDGE:"reachEdge",PANEL_CHANGE:"panelChange"},ALIGN={PREV:"prev",CENTER:"center",NEXT:"next"},DIRECTION={PREV:"PREV",NEXT:"NEXT",NONE:null},MOVE_TYPE={SNAP:"snap",FREE_SCROLL:"freeScroll",STRICT:"strict"},CLASS={VERTICAL:"vertical",HIDDEN:"flicking-hidden",DEFAULT_VIRTUAL:"flicking-panel"},CIRCULAR_FALLBACK={LINEAR:"linear",BOUND:"bound"},ORDER={LTR:"ltr",RTL:"rtl"},getElement=function(fr,cr){var ar=null;if(isString(fr)){var or=cr||document,ur=or.querySelector(fr);if(!ur)throw new FlickingError(MESSAGE.ELEMENT_NOT_FOUND(fr),CODE.ELEMENT_NOT_FOUND);ar=ur}else fr&&fr.nodeType===Node.ELEMENT_NODE&&(ar=fr);if(!ar)throw new FlickingError(MESSAGE.WRONG_TYPE(fr,["HTMLElement","string"]),CODE.WRONG_TYPE);return ar},checkExistence=function(fr,cr){if(fr==null)throw new FlickingError(MESSAGE.VAL_MUST_NOT_NULL(fr,cr),CODE.VAL_MUST_NOT_NULL)},clamp=function(fr,cr,ar){return Math.max(Math.min(fr,ar),cr)},getFlickingAttached=function(fr){if(!fr)throw new FlickingError(MESSAGE.NOT_ATTACHED_TO_FLICKING,CODE.NOT_ATTACHED_TO_FLICKING);return fr},toArray=function(fr){return[].slice.call(fr)},parseAlign$1=function(fr,cr){var ar;if(isString(fr))switch(fr){case ALIGN.PREV:ar=0;break;case ALIGN.CENTER:ar=.5*cr;break;case ALIGN.NEXT:ar=cr;break;default:if(ar=parseArithmeticSize(fr,cr),ar==null)throw new FlickingError(MESSAGE.WRONG_OPTION("align",fr),CODE.WRONG_OPTION)}else ar=fr;return ar},parseBounce=function(fr,cr){var ar;if(Array.isArray(fr))ar=fr.map(function(ur){return parseArithmeticSize(ur,cr)});else{var or=parseArithmeticSize(fr,cr);ar=[or,or]}return ar.map(function(ur){if(ur==null)throw new FlickingError(MESSAGE.WRONG_OPTION("bounce",fr),CODE.WRONG_OPTION);return ur})},parseArithmeticSize=function(fr,cr){var ar=parseArithmeticExpression(fr);return ar==null?null:ar.percentage*cr+ar.absolute},parseArithmeticExpression=function(fr){var cr=/(?:(\+|\-)\s*)?(\d+(?:\.\d+)?(%|px)?)/g;if(typeof fr=="number")return{percentage:0,absolute:fr};for(var ar={percentage:0,absolute:0},or=0,ur=cr.exec(fr);ur!=null;){var lr=ur[1],xr=ur[2],pr=ur[3],br=parseFloat(xr);if(or<=0&&(lr=lr||"+"),!lr)return null;var mr=lr==="+"?1:-1;pr==="%"?ar.percentage+=mr*(br/100):ar.absolute+=mr*br,++or,ur=cr.exec(fr)}return or===0?null:ar},parsePanelAlign=function(fr){return typeof fr=="object"?fr.panel:fr},getDirection=function(fr,cr){return fr===cr?DIRECTION.NONE:fr<cr?DIRECTION.NEXT:DIRECTION.PREV},parseElement=function(fr){Array.isArray(fr)||(fr=[fr]);var cr=[];return fr.forEach(function(ar){if(isString(ar)){var or=document.createElement("div");for(or.innerHTML=ar,cr.push.apply(cr,__spread(toArray(or.children)));or.firstChild;)or.removeChild(or.firstChild)}else if(ar&&ar.nodeType===Node.ELEMENT_NODE)cr.push(ar);else throw new FlickingError(MESSAGE.WRONG_TYPE(ar,["HTMLElement","string"]),CODE.WRONG_TYPE)}),cr},getMinusCompensatedIndex=function(fr,cr){return fr<0?clamp(fr+cr,0,cr):clamp(fr,0,cr)},includes=function(fr,cr){var ar,or;try{for(var ur=__values(fr),lr=ur.next();!lr.done;lr=ur.next()){var xr=lr.value;if(xr===cr)return!0}}catch(pr){ar={error:pr}}finally{try{lr&&!lr.done&&(or=ur.return)&&or.call(ur)}finally{if(ar)throw ar.error}}return!1},isString=function(fr){return typeof fr=="string"},circulatePosition=function(fr,cr,ar){var or=ar-cr;if(fr<cr){var ur=(cr-fr)%or;fr=ar-ur}else if(fr>ar){var ur=(fr-ar)%or;fr=cr+ur}return fr},find=function(fr,cr){var ar,or;try{for(var ur=__values(fr),lr=ur.next();!lr.done;lr=ur.next()){var xr=lr.value;if(cr(xr))return xr}}catch(pr){ar={error:pr}}finally{try{lr&&!lr.done&&(or=ur.return)&&or.call(ur)}finally{if(ar)throw ar.error}}return null},findIndex=function(fr,cr){for(var ar=0;ar<fr.length;ar++)if(cr(fr[ar]))return ar;return-1},getProgress=function(fr,cr,ar){return(fr-cr)/(ar-cr)},getStyle=function(fr){return window.getComputedStyle(fr)||fr.currentStyle},setSize=function(fr,cr){var ar=cr.width,or=cr.height;ar!=null&&(isString(ar)?fr.style.width=ar:fr.style.width=ar+"px"),or!=null&&(isString(or)?fr.style.height=or:fr.style.height=or+"px")},isBetween=function(fr,cr,ar){return fr>=cr&&fr<=ar},circulateIndex=function(fr,cr){return fr>=cr?fr%cr:fr<0?getMinusCompensatedIndex((fr+1)%cr-1,cr):fr},range=function(fr){for(var cr=new Array(fr),ar=0;ar<fr;ar++)cr[ar]=ar;return cr},getElementSize=function(fr){var cr=fr.el,ar=fr.horizontal,or=fr.useFractionalSize,ur=fr.useOffset,lr=fr.style,xr=0;if(or){var pr=parseFloat(ar?lr.width:lr.height)||0,br=lr.boxSizing==="border-box",mr=ar?parseFloat(lr.borderLeftWidth||"0")+parseFloat(lr.borderRightWidth||"0"):parseFloat(lr.borderTopWidth||"0")+parseFloat(lr.borderBottomWidth||"0");if(br)xr=ur?pr:pr-mr;else{var _r=ar?parseFloat(lr.paddingLeft||"0")+parseFloat(lr.paddingRight||"0"):parseFloat(lr.paddingTop||"0")+parseFloat(lr.paddingBottom||"0");xr=ur?pr+_r+mr:pr+_r}}else{var vr=ar?"Width":"Height";xr=ur?cr["offset"+vr]:cr["client"+vr]}return Math.max(xr,0)},setPrototypeOf=Object.setPrototypeOf||function(fr,cr){return fr.__proto__=cr,fr},FlickingError=function(fr){__extends(cr,fr);function cr(ar,or){var ur=fr.call(this,ar)||this;return setPrototypeOf(ur,cr.prototype),ur.name="FlickingError",ur.code=or,ur}return cr}(Error),Viewport=function(){function fr(ar,or){this._flicking=ar,this._el=or,this._width=0,this._height=0,this._padding={left:0,right:0,top:0,bottom:0},this._isBorderBoxSizing=!1}var cr=fr.prototype;return Object.defineProperty(cr,"element",{get:function(){return this._el},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"width",{get:function(){return this._width-this._padding.left-this._padding.right},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"height",{get:function(){return this._height-this._padding.top-this._padding.bottom},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"padding",{get:function(){return this._padding},enumerable:!1,configurable:!0}),cr.setSize=function(ar){var or=ar.width,ur=ar.height,lr=this._el,xr=this._padding,pr=this._isBorderBoxSizing;if(or!=null)if(isString(or))lr.style.width=or;else{var br=pr?or+xr.left+xr.right:or;lr.style.width=br+"px"}if(ur!=null)if(isString(ur))lr.style.height=ur;else{var mr=pr?ur+xr.top+xr.bottom:ur;lr.style.height=mr+"px"}this.resize()},cr.resize=function(){var ar=this._el,or=getStyle(ar),ur=this._flicking.useFractionalSize;this._width=getElementSize({el:ar,horizontal:!0,useFractionalSize:ur,useOffset:!1,style:or}),this._height=getElementSize({el:ar,horizontal:!1,useFractionalSize:ur,useOffset:!1,style:or}),this._padding={left:or.paddingLeft?parseFloat(or.paddingLeft):0,right:or.paddingRight?parseFloat(or.paddingRight):0,top:or.paddingTop?parseFloat(or.paddingTop):0,bottom:or.paddingBottom?parseFloat(or.paddingBottom):0},this._isBorderBoxSizing=or.boxSizing==="border-box"},fr}(),AutoResizer=function(){function fr(ar){var or=this;this._onResize=function(){var ur=or._flicking,lr=ur.resizeDebounce,xr=ur.maxResizeDebounce;lr<=0?ur.resize():(or._maxResizeDebounceTimer<=0&&xr>0&&xr>=lr&&(or._maxResizeDebounceTimer=window.setTimeout(or._doScheduledResize,xr)),or._resizeTimer>0&&(clearTimeout(or._resizeTimer),or._resizeTimer=0),or._resizeTimer=window.setTimeout(or._doScheduledResize,lr))},this._doScheduledResize=function(){clearTimeout(or._resizeTimer),clearTimeout(or._maxResizeDebounceTimer),or._maxResizeDebounceTimer=-1,or._resizeTimer=-1,or._flicking.resize()},this._skipFirstResize=function(){var ur=!0;return function(){if(ur){ur=!1;return}or._onResize()}}(),this._flicking=ar,this._enabled=!1,this._resizeObserver=null,this._resizeTimer=-1,this._maxResizeDebounceTimer=-1}var cr=fr.prototype;return Object.defineProperty(cr,"enabled",{get:function(){return this._enabled},enumerable:!1,configurable:!0}),cr.enable=function(){var ar=this._flicking,or=ar.viewport;if(this._enabled&&this.disable(),ar.useResizeObserver&&window.ResizeObserver){var ur=or.width!==0||or.height!==0,lr=ur?new ResizeObserver(this._skipFirstResize):new ResizeObserver(this._onResize);lr.observe(ar.viewport.element),this._resizeObserver=lr}else window.addEventListener("resize",this._onResize);return this._enabled=!0,this},cr.disable=function(){if(!this._enabled)return this;var ar=this._resizeObserver;return ar?(ar.disconnect(),this._resizeObserver=null):window.removeEventListener("resize",this._onResize),this._enabled=!1,this},fr}(),VanillaElementProvider=function(){function fr(ar){this._element=ar,this._rendered=!0}var cr=fr.prototype;return Object.defineProperty(cr,"element",{get:function(){return this._element},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"rendered",{get:function(){return this._rendered},enumerable:!1,configurable:!0}),cr.show=function(ar){var or=this.element,ur=ar.camera.element;or.parentElement!==ur&&(ur.appendChild(or),this._rendered=!0)},cr.hide=function(ar){var or=this.element,ur=ar.camera.element;or.parentElement===ur&&(ur.removeChild(or),this._rendered=!1)},fr}(),VirtualElementProvider=function(){function fr(ar){this._flicking=ar}var cr=fr.prototype;return Object.defineProperty(cr,"element",{get:function(){return this._virtualElement.nativeElement},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"rendered",{get:function(){return this._virtualElement.visible},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"_virtualElement",{get:function(){var ar=this._flicking,or=this._panel.elementIndex,ur=ar.virtual.elements;return ur[or]},enumerable:!1,configurable:!0}),cr.init=function(ar){this._panel=ar},cr.show=function(){},cr.hide=function(){},fr}(),VirtualManager=function(){function fr(ar,or){var ur,lr,xr,pr;this._flicking=ar,this._renderPanel=(ur=or==null?void 0:or.renderPanel)!==null&&ur!==void 0?ur:function(){return""},this._initialPanelCount=(lr=or==null?void 0:or.initialPanelCount)!==null&&lr!==void 0?lr:-1,this._cache=(xr=or==null?void 0:or.cache)!==null&&xr!==void 0?xr:!1,this._panelClass=(pr=or==null?void 0:or.panelClass)!==null&&pr!==void 0?pr:CLASS.DEFAULT_VIRTUAL,this._elements=[]}var cr=fr.prototype;return Object.defineProperty(cr,"elements",{get:function(){return this._elements},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"renderPanel",{get:function(){return this._renderPanel},set:function(ar){this._renderPanel=ar,this._flicking.renderer.panels.forEach(function(or){return or.uncacheRenderResult()})},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"initialPanelCount",{get:function(){return this._initialPanelCount},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"cache",{get:function(){return this._cache},set:function(ar){this._cache=ar},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"panelClass",{get:function(){return this._panelClass},set:function(ar){this._panelClass=ar},enumerable:!1,configurable:!0}),cr.init=function(){var ar=this._flicking;if(ar.virtualEnabled){!ar.externalRenderer&&!ar.renderExternal&&this._initVirtualElements();var or=ar.camera.children;this._elements=or.map(function(ur){return{nativeElement:ur,visible:!0}})}},cr.show=function(ar){var or=this._elements[ar],ur=or.nativeElement;or.visible=!0,ur.style.display&&(ur.style.display="")},cr.hide=function(ar){var or=this._elements[ar],ur=or.nativeElement;or.visible=!1,ur.style.display="none"},cr.append=function(ar){ar===void 0&&(ar=1);var or=this._flicking;return this.insert(or.panels.length,ar)},cr.prepend=function(ar){return ar===void 0&&(ar=1),this.insert(0,ar)},cr.insert=function(ar,or){if(or===void 0&&(or=1),or<=0)return[];var ur=this._flicking;return ur.renderer.batchInsert({index:ar,elements:range(or),hasDOMInElements:!1})},cr.remove=function(ar,or){if(or<=0)return[];var ur=this._flicking;return ur.renderer.batchRemove({index:ar,deleteCount:or,hasDOMInElements:!1})},cr._initVirtualElements=function(){var ar=this,or=this._flicking,ur=or.camera.element,lr=or.panelsPerView,xr=document.createDocumentFragment(),pr=range(lr+1).map(function(br){var mr=document.createElement("div");return mr.className=ar._panelClass,mr.dataset.elementIndex=br.toString(),mr});pr.forEach(function(br){xr.appendChild(br)}),ur.appendChild(xr)},fr}(),EVENT={HOLD:"hold",CHANGE:"change",RELEASE:"release",ANIMATION_END:"animationEnd",FINISH:"finish"},POSITION_KEY="flick",STATE_TYPE;(function(fr){fr[fr.IDLE=0]="IDLE",fr[fr.HOLDING=1]="HOLDING",fr[fr.DRAGGING=2]="DRAGGING",fr[fr.ANIMATING=3]="ANIMATING",fr[fr.DISABLED=4]="DISABLED"})(STATE_TYPE||(STATE_TYPE={}));var State=function(){function fr(){this._delta=0,this._targetPanel=null}var cr=fr.prototype;return Object.defineProperty(cr,"delta",{get:function(){return this._delta},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"targetPanel",{get:function(){return this._targetPanel},set:function(ar){this._targetPanel=ar},enumerable:!1,configurable:!0}),cr.onEnter=function(ar){this._delta=ar._delta,this._targetPanel=ar._targetPanel},cr.onHold=function(ar){},cr.onChange=function(ar){},cr.onRelease=function(ar){},cr.onAnimationEnd=function(ar){},cr.onFinish=function(ar){},cr._moveToChangedPosition=function(ar){var or=ar.flicking,ur=ar.axesEvent,lr=ar.transitTo,xr=ur.delta[POSITION_KEY];if(xr){this._delta+=xr;var pr=or.camera,br=pr.position,mr=ur.pos[POSITION_KEY],_r=or.circularEnabled?circulatePosition(mr,pr.range.min,pr.range.max):mr;pr.lookAt(_r);var vr=new ComponentEvent$1(EVENTS.MOVE,{isTrusted:ur.isTrusted,holding:this.holding,direction:getDirection(0,ur.delta[POSITION_KEY]),axesEvent:ur});or.trigger(vr),vr.isCanceled()&&(pr.lookAt(br),lr(STATE_TYPE.DISABLED))}},fr}(),IdleState=function(fr){__extends(cr,fr);function cr(){var or=fr!==null&&fr.apply(this,arguments)||this;return or.holding=!1,or.animating=!1,or}var ar=cr.prototype;return ar.onEnter=function(){this._delta=0,this._targetPanel=null},ar.onHold=function(or){var ur=or.flicking,lr=or.axesEvent,xr=or.transitTo;if(ur.renderer.panelCount<=0){xr(STATE_TYPE.DISABLED);return}var pr=new ComponentEvent$1(EVENTS.HOLD_START,{axesEvent:lr});ur.trigger(pr),pr.isCanceled()?xr(STATE_TYPE.DISABLED):xr(STATE_TYPE.HOLDING)},ar.onChange=function(or){var ur=or.flicking,lr=or.axesEvent,xr=or.transitTo,pr=ur.control.controller,br=pr.animatingContext,mr=new ComponentEvent$1(EVENTS.MOVE_START,{isTrusted:lr.isTrusted,holding:this.holding,direction:getDirection(br.start,br.end),axesEvent:lr});ur.trigger(mr),mr.isCanceled()?xr(STATE_TYPE.DISABLED):xr(STATE_TYPE.ANIMATING).onChange(or)},cr}(State),HoldingState=function(fr){__extends(cr,fr);function cr(){var or=fr!==null&&fr.apply(this,arguments)||this;return or.holding=!0,or.animating=!1,or._releaseEvent=null,or}var ar=cr.prototype;return ar.onChange=function(or){var ur=or.flicking,lr=or.axesEvent,xr=or.transitTo,pr=lr.inputEvent,br=ur.horizontal?pr.offsetX:pr.offsetY,mr=new ComponentEvent$1(EVENTS.MOVE_START,{isTrusted:lr.isTrusted,holding:this.holding,direction:getDirection(0,-br),axesEvent:lr});ur.trigger(mr),mr.isCanceled()?xr(STATE_TYPE.DISABLED):xr(STATE_TYPE.DRAGGING).onChange(or)},ar.onRelease=function(or){var ur=or.flicking,lr=or.axesEvent,xr=or.transitTo;if(ur.trigger(new ComponentEvent$1(EVENTS.HOLD_END,{axesEvent:lr})),lr.delta.flick!==0){lr.setTo({flick:ur.camera.position},0),xr(STATE_TYPE.IDLE);return}this._releaseEvent=lr},ar.onFinish=function(or){var ur,lr,xr=or.flicking,pr=or.transitTo;if(pr(STATE_TYPE.IDLE),!!this._releaseEvent){var br=this._releaseEvent,mr=br.inputEvent.srcEvent,_r;if(mr.type==="touchend"){var vr=mr,Er=vr.changedTouches[0];_r=document.elementFromPoint(Er.clientX,Er.clientY)}else _r=mr.target;var yr=xr.renderer.panels,Ir=null;try{for(var Ar=__values(yr),kr=Ar.next();!kr.done;kr=Ar.next()){var Or=kr.value;if(Or.contains(_r)){Ir=Or;break}}}catch(Fr){ur={error:Fr}}finally{try{kr&&!kr.done&&(lr=Ar.return)&&lr.call(Ar)}finally{if(ur)throw ur.error}}if(Ir){var Dr=xr.camera.position,Rr=Ir.position;xr.trigger(new ComponentEvent$1(EVENTS.SELECT,{index:Ir.index,panel:Ir,direction:getDirection(Dr,Rr)}))}}},cr}(State),DraggingState=function(fr){__extends(cr,fr);function cr(){var or=fr!==null&&fr.apply(this,arguments)||this;return or.holding=!0,or.animating=!0,or}var ar=cr.prototype;return ar.onChange=function(or){this._moveToChangedPosition(or)},ar.onRelease=function(or){var ur,lr=or.flicking,xr=or.axesEvent,pr=or.transitTo;if(lr.trigger(new ComponentEvent$1(EVENTS.HOLD_END,{axesEvent:xr})),lr.renderer.panelCount<=0){pr(STATE_TYPE.IDLE);return}pr(STATE_TYPE.ANIMATING);var br=lr.control,mr=xr.destPos[POSITION_KEY],_r=Math.max(xr.duration,lr.duration);try{br.moveToPosition(mr,_r,xr)}catch{pr(STATE_TYPE.IDLE),xr.setTo((ur={},ur[POSITION_KEY]=lr.camera.position,ur),0)}},cr}(State),AnimatingState=function(fr){__extends(cr,fr);function cr(){var or=fr!==null&&fr.apply(this,arguments)||this;return or.holding=!1,or.animating=!0,or}var ar=cr.prototype;return ar.onHold=function(or){var ur=or.flicking,lr=or.axesEvent,xr=or.transitTo,pr=this._targetPanel,br=ur.control;this._delta=0,ur.control.updateInput(),ur.changeOnHold&&pr&&br.setActive(pr,br.activePanel,lr.isTrusted);var mr=new ComponentEvent$1(EVENTS.HOLD_START,{axesEvent:lr});ur.trigger(mr),mr.isCanceled()?xr(STATE_TYPE.DISABLED):xr(STATE_TYPE.DRAGGING)},ar.onChange=function(or){this._moveToChangedPosition(or)},ar.onFinish=function(or){var ur=or.flicking,lr=or.axesEvent,xr=or.transitTo,pr=ur.control,br=pr.controller,mr=br.animatingContext;xr(STATE_TYPE.IDLE),ur.trigger(new ComponentEvent$1(EVENTS.MOVE_END,{isTrusted:lr.isTrusted,direction:getDirection(mr.start,mr.end),axesEvent:lr}));var _r=this._targetPanel;_r&&pr.setActive(_r,pr.activePanel,lr.isTrusted)},cr}(State),DisabledState=function(fr){__extends(cr,fr);function cr(){var or=fr!==null&&fr.apply(this,arguments)||this;return or.holding=!1,or.animating=!0,or}var ar=cr.prototype;return ar.onAnimationEnd=function(or){var ur=or.transitTo;ur(STATE_TYPE.IDLE)},ar.onChange=function(or){var ur=or.axesEvent,lr=or.transitTo;ur.stop(),lr(STATE_TYPE.IDLE)},ar.onRelease=function(or){var ur=or.axesEvent,lr=or.transitTo;ur.delta.flick===0&&lr(STATE_TYPE.IDLE)},cr}(State),StateMachine=function(){function fr(){var ar=this;this.transitTo=function(or){var ur;switch(or){case STATE_TYPE.IDLE:ur=new IdleState;break;case STATE_TYPE.HOLDING:ur=new HoldingState;break;case STATE_TYPE.DRAGGING:ur=new DraggingState;break;case STATE_TYPE.ANIMATING:ur=new AnimatingState;break;case STATE_TYPE.DISABLED:ur=new DisabledState;break}return ur.onEnter(ar._state),ar._state=ur,ar._state},this._state=new IdleState}var cr=fr.prototype;return Object.defineProperty(cr,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),cr.fire=function(ar,or){var ur=this._state,lr=__assign(__assign({},or),{transitTo:this.transitTo});switch(ar){case EVENT.HOLD:ur.onHold(lr);break;case EVENT.CHANGE:ur.onChange(lr);break;case EVENT.RELEASE:ur.onRelease(lr);break;case EVENT.ANIMATION_END:ur.onAnimationEnd(lr);break;case EVENT.FINISH:ur.onFinish(lr);break}},fr}(),AxesController=function(){function fr(){var ar=this;this._onAxesHold=function(){ar._dragged=!1},this._onAxesChange=function(){var or;ar._dragged=!!(!((or=ar._panInput)===null||or===void 0)&&or.isEnabled())},this._preventClickWhenDragged=function(or){ar._dragged&&(or.preventDefault(),or.stopPropagation()),ar._dragged=!1},this._resetInternalValues(),this._stateMachine=new StateMachine}var cr=fr.prototype;return Object.defineProperty(cr,"axes",{get:function(){return this._axes},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"panInput",{get:function(){return this._panInput},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"stateMachine",{get:function(){return this._stateMachine},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"state",{get:function(){return this._stateMachine.state},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"animatingContext",{get:function(){return this._animatingContext},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"controlParams",{get:function(){var ar=this._axes;if(!ar)return{range:{min:0,max:0},position:0,circular:!1};var or=ar.axis[POSITION_KEY];return{range:{min:or.range[0],max:or.range[1]},circular:or.circular[0],position:this.position}},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"enabled",{get:function(){var ar,or;return(or=(ar=this._panInput)===null||ar===void 0?void 0:ar.isEnabled())!==null&&or!==void 0?or:!1},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"position",{get:function(){var ar,or;return(or=(ar=this._axes)===null||ar===void 0?void 0:ar.get([POSITION_KEY])[POSITION_KEY])!==null&&or!==void 0?or:0},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"range",{get:function(){var ar,or;return(or=(ar=this._axes)===null||ar===void 0?void 0:ar.axis[POSITION_KEY].range)!==null&&or!==void 0?or:[0,0]},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"bounce",{get:function(){var ar;return(ar=this._axes)===null||ar===void 0?void 0:ar.axis[POSITION_KEY].bounce},enumerable:!1,configurable:!0}),cr.init=function(ar){var or,ur=this;this._flicking=ar,this._axes=new Axes$1((or={},or[POSITION_KEY]={range:[0,0],circular:!1,bounce:[0,0]},or),{deceleration:ar.deceleration,interruptable:ar.interruptable,nested:ar.nested,easing:ar.easing}),this._panInput=new PanInput(ar.viewport.element,{inputType:ar.inputType,threshold:1,iOSEdgeSwipeThreshold:ar.iOSEdgeSwipeThreshold,preventDefaultOnDrag:ar.preventDefaultOnDrag,scale:ar.horizontal?[ar.camera.panelOrder===ORDER.RTL?1:-1,0]:[0,-1],releaseOnScroll:!0});var lr=this._axes;lr.connect(ar.horizontal?[POSITION_KEY,""]:["",POSITION_KEY],this._panInput);var xr=function(br){var mr=EVENT[br];lr.on(mr,function(_r){ur._stateMachine.fire(mr,{flicking:ar,axesEvent:_r})})};for(var pr in EVENT)xr(pr);return this},cr.destroy=function(){var ar;this._axes&&(this.removePreventClickHandler(),this._axes.destroy()),(ar=this._panInput)===null||ar===void 0||ar.destroy(),this._resetInternalValues()},cr.enable=function(){var ar;return(ar=this._panInput)===null||ar===void 0||ar.enable(),this},cr.disable=function(){var ar;return(ar=this._panInput)===null||ar===void 0||ar.disable(),this},cr.release=function(){var ar;return(ar=this._panInput)===null||ar===void 0||ar.release(),this},cr.updateAnimation=function(ar,or){var ur,lr;return this._animatingContext=__assign(__assign({},this._animatingContext),{end:ar}),(lr=this._axes)===null||lr===void 0||lr.updateAnimation({destPos:(ur={},ur[POSITION_KEY]=ar,ur),duration:or}),this},cr.stopAnimation=function(){var ar;return(ar=this._axes)===null||ar===void 0||ar.stopAnimation(),this},cr.update=function(ar){var or,ur=getFlickingAttached(this._flicking),lr=ur.camera,xr=this._axes,pr=xr.axis[POSITION_KEY];return pr.circular=[ar.circular,ar.circular],pr.range=[ar.range.min,ar.range.max],pr.bounce=parseBounce(ur.bounce,lr.size),xr.axisManager.set((or={},or[POSITION_KEY]=ar.position,or)),this},cr.addPreventClickHandler=function(){var ar=getFlickingAttached(this._flicking),or=this._axes,ur=ar.camera.element;return or.on(EVENT.HOLD,this._onAxesHold),or.on(EVENT.CHANGE,this._onAxesChange),ur.addEventListener("click",this._preventClickWhenDragged,!0),this},cr.removePreventClickHandler=function(){var ar=getFlickingAttached(this._flicking),or=this._axes,ur=ar.camera.element;return or.off(EVENT.HOLD,this._onAxesHold),or.off(EVENT.CHANGE,this._onAxesChange),ur.removeEventListener("click",this._preventClickWhenDragged,!0),this},cr.animateTo=function(ar,or,ur){var lr=this,xr,pr=this._axes,br=this._stateMachine.state;if(!pr)return Promise.reject(new FlickingError(MESSAGE.NOT_ATTACHED_TO_FLICKING,CODE.NOT_ATTACHED_TO_FLICKING));var mr=pr.get([POSITION_KEY])[POSITION_KEY];if(mr===ar){var _r=getFlickingAttached(this._flicking);return _r.camera.lookAt(ar),br.targetPanel&&_r.control.setActive(br.targetPanel,_r.control.activePanel,(xr=ur==null?void 0:ur.isTrusted)!==null&&xr!==void 0?xr:!1),Promise.resolve()}this._animatingContext={start:mr,end:ar,offset:0};var vr=function(){var Er,yr,Ir=function(){lr._animatingContext={start:0,end:0,offset:0}};pr.once(EVENT.FINISH,Ir),ur?ur.setTo((Er={},Er[POSITION_KEY]=ar,Er),or):pr.setTo((yr={},yr[POSITION_KEY]=ar,yr),or)};return new Promise(function(Er,yr){var Ir=function(){pr.off(EVENT.HOLD,Ar),Er()},Ar=function(){pr.off(EVENT.FINISH,Ir),yr(new FlickingError(MESSAGE.ANIMATION_INTERRUPTED,CODE.ANIMATION_INTERRUPTED))};pr.once(EVENT.FINISH,Ir),pr.once(EVENT.HOLD,Ar),vr()})},cr.updateDirection=function(){var ar=getFlickingAttached(this._flicking),or=this._axes,ur=this._panInput;or.disconnect(ur),or.connect(ar.horizontal?[POSITION_KEY,""]:["",POSITION_KEY],ur),ur.options.scale=ar.horizontal?[ar.camera.panelOrder===ORDER.RTL?1:-1,0]:[0,-1]},cr._resetInternalValues=function(){this._flicking=null,this._axes=null,this._panInput=null,this._animatingContext={start:0,end:0,offset:0},this._dragged=!1},fr}(),Control=function(){function fr(){this._flicking=null,this._controller=new AxesController,this._activePanel=null}var cr=fr.prototype;return Object.defineProperty(cr,"controller",{get:function(){return this._controller},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"activeIndex",{get:function(){var ar,or;return(or=(ar=this._activePanel)===null||ar===void 0?void 0:ar.index)!==null&&or!==void 0?or:-1},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"activePanel",{get:function(){return this._activePanel},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"animating",{get:function(){return this._controller.state.animating},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"holding",{get:function(){return this._controller.state.holding},enumerable:!1,configurable:!0}),cr.init=function(ar){return this._flicking=ar,this._controller.init(ar),this},cr.destroy=function(){this._controller.destroy(),this._flicking=null,this._activePanel=null},cr.enable=function(){return this._controller.enable(),this},cr.disable=function(){return this._controller.disable(),this},cr.release=function(){return this._controller.release(),this},cr.updateAnimation=function(ar,or,ur){var lr=this._controller.state,xr=this._getPosition(ar,ur??DIRECTION.NONE);return lr.targetPanel=ar,this._controller.updateAnimation(xr,or),this},cr.stopAnimation=function(){var ar=this._controller.state;return ar.targetPanel=null,this._controller.stopAnimation(),this},cr.updatePosition=function(ar){var or=getFlickingAttached(this._flicking),ur=or.camera,lr=this._activePanel;lr&&ur.lookAt(ur.clampToReachablePosition(lr.position))},cr.updateInput=function(){var ar=getFlickingAttached(this._flicking),or=ar.camera;return this._controller.update(or.controlParams),this},cr.resetActive=function(){return this._activePanel=null,this},cr.moveToPanel=function(ar,or){var ur=or.duration,lr=or.direction,xr=lr===void 0?DIRECTION.NONE:lr,pr=or.axesEvent;return __awaiter(this,void 0,void 0,function(){var br;return __generator(this,function(mr){return br=this._getPosition(ar,xr),this._triggerIndexChangeEvent(ar,ar.position,pr,xr),[2,this._animateToPosition({position:br,duration:ur,newActivePanel:ar,axesEvent:pr})]})})},cr.setActive=function(ar,or,ur){var lr,xr=getFlickingAttached(this._flicking);this._activePanel=ar,this._nextPanel=null,xr.camera.updateAdaptiveHeight(),ar!==or?xr.trigger(new ComponentEvent$1(EVENTS.CHANGED,{index:ar.index,panel:ar,prevIndex:(lr=or==null?void 0:or.index)!==null&&lr!==void 0?lr:-1,prevPanel:or,isTrusted:ur,direction:or?getDirection(or.position,ar.position):DIRECTION.NONE})):xr.trigger(new ComponentEvent$1(EVENTS.RESTORED,{isTrusted:ur}))},cr.copy=function(ar){this._flicking=ar._flicking,this._activePanel=ar._activePanel,this._controller=ar._controller},cr._triggerIndexChangeEvent=function(ar,or,ur,lr){var xr,pr=getFlickingAttached(this._flicking),br=ar!==this._activePanel?EVENTS.WILL_CHANGE:EVENTS.WILL_RESTORE,mr=pr.camera,_r=this._activePanel,vr=new ComponentEvent$1(br,{index:ar.index,panel:ar,isTrusted:(ur==null?void 0:ur.isTrusted)||!1,direction:lr??getDirection((xr=_r==null?void 0:_r.position)!==null&&xr!==void 0?xr:mr.position,or)});if(this._nextPanel=ar,pr.trigger(vr),vr.isCanceled())throw new FlickingError(MESSAGE.STOP_CALLED_BY_USER,CODE.STOP_CALLED_BY_USER)},cr._animateToPosition=function(ar){var or=ar.position,ur=ar.duration,lr=ar.newActivePanel,xr=ar.axesEvent;return __awaiter(this,void 0,void 0,function(){var pr,br,mr,_r=this;return __generator(this,function(vr){return pr=getFlickingAttached(this._flicking),br=function(){return _r._controller.animateTo(or,ur,xr)},mr=this._controller.state,mr.targetPanel=lr,ur<=0?[2,br()]:[2,br().then(function(){return __awaiter(_r,void 0,void 0,function(){return __generator(this,function(Er){switch(Er.label){case 0:return[4,pr.renderer.render()];case 1:return Er.sent(),[2]}})})}).catch(function(Er){if(!(xr&&Er instanceof FlickingError&&Er.code===CODE.ANIMATION_INTERRUPTED))throw Er})]})})},cr._getPosition=function(ar,or){or===void 0&&(or=DIRECTION.NONE);var ur=getFlickingAttached(this._flicking),lr=ur.camera,xr=ar.position,pr=lr.findNearestAnchor(xr);if(ar.removed||!pr)throw new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(ar.position),CODE.POSITION_NOT_REACHABLE);if(!lr.canReach(ar))xr=pr.position,ar=pr.panel;else if(ur.circularEnabled){var br=this._controller.position,mr=lr.rangeDiff,_r=[xr,xr+mr,xr-mr].filter(function(vr){return or===DIRECTION.NONE?!0:or===DIRECTION.PREV?vr<=br:vr>=br});xr=_r.reduce(function(vr,Er){return Math.abs(br-Er)<Math.abs(br-vr)?Er:vr},1/0)}return xr},fr}(),AnchorPoint=function(){function fr(ar){var or=ar.index,ur=ar.position,lr=ar.panel;this._index=or,this._pos=ur,this._panel=lr}var cr=fr.prototype;return Object.defineProperty(cr,"index",{get:function(){return this._index},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"position",{get:function(){return this._pos},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"panel",{get:function(){return this._panel},enumerable:!1,configurable:!0}),fr}(),SnapControl=function(fr){__extends(cr,fr);function cr(or){var ur=(or===void 0?{}:or).count,lr=ur===void 0?1/0:ur,xr=fr.call(this)||this;return xr._count=lr,xr}var ar=cr.prototype;return Object.defineProperty(ar,"count",{get:function(){return this._count},set:function(or){this._count=or},enumerable:!1,configurable:!0}),ar.moveToPosition=function(or,ur,lr){var xr=getFlickingAttached(this._flicking),pr=xr.camera,br=pr.findActiveAnchor(),mr=pr.findNearestAnchor(pr.position),_r=this._controller.state;if(!br||!mr)return Promise.reject(new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(or),CODE.POSITION_NOT_REACHABLE));var vr=this._calcSnapThreshold(xr.threshold,or,br),Er=xr.animating?_r.delta:or-pr.position,yr=Math.abs(Er),Ir=lr&&lr.delta[POSITION_KEY]!==0?Math.abs(lr.delta[POSITION_KEY]):yr,Ar;if(Ir>=vr&&Ir>0)Ar=this._findSnappedAnchor(or,mr);else if(yr>=xr.threshold&&yr>0)Ar=this._findAdjacentAnchor(or,Er,mr);else return this.moveToPanel(mr.panel,{duration:ur,axesEvent:lr});return this._triggerIndexChangeEvent(Ar.panel,or,lr),this._animateToPosition({position:pr.clampToReachablePosition(Ar.position),duration:ur,newActivePanel:Ar.panel,axesEvent:lr})},ar._findSnappedAnchor=function(or,ur){var lr=getFlickingAttached(this._flicking),xr=lr.camera,pr=this._count,br=xr.position,mr=xr.clampToReachablePosition(or),_r=xr.findAnchorIncludePosition(mr);if(!ur||!_r)throw new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(or),CODE.POSITION_NOT_REACHABLE);if(!isFinite(pr))return _r;var vr=lr.panelCount,Er=xr.anchorPoints,yr=Math.sign(or-br)*Math.floor(Math.abs(or-br)/xr.rangeDiff);or>br&&_r.index<ur.index||_r.position>ur.position&&_r.index===ur.index?yr+=1:(or<br&&_r.index>ur.index||_r.position<ur.position&&_r.index===ur.index)&&(yr-=1);var Ir=yr*vr,Ar=_r.index+Ir;if(Math.abs(Ar-ur.index)<=pr){var kr=Er[_r.index];return new AnchorPoint({index:kr.index,position:kr.position+yr*xr.rangeDiff,panel:kr.panel})}if(lr.circularEnabled){var Or=Er[circulateIndex(ur.index+Math.sign(or-br)*pr,vr)],Dr=Math.floor(pr/vr);return or>br&&Or.index<ur.index?Dr+=1:or<br&&Or.index>ur.index&&(Dr-=1),new AnchorPoint({index:Or.index,position:Or.position+Dr*xr.rangeDiff,panel:Or.panel})}else return Er[clamp(ur.index+Math.sign(or-br)*pr,0,Er.length-1)]},ar._findAdjacentAnchor=function(or,ur,lr){var xr,pr=getFlickingAttached(this._flicking),br=pr.camera;if(br.circularEnabled){var mr=br.findAnchorIncludePosition(or);if(mr&&mr.position!==lr.position)return mr}var _r=(xr=ur>0?br.getNextAnchor(lr):br.getPrevAnchor(lr))!==null&&xr!==void 0?xr:lr;return _r},ar._calcSnapThreshold=function(or,ur,lr){var xr=ur>lr.position,pr=lr.panel,br=pr.size,mr=pr.alignPosition;return Math.max(or,xr?br-mr+pr.margin.next:mr+pr.margin.prev)},cr}(Control),FreeControl=function(fr){__extends(cr,fr);function cr(or){var ur=(or===void 0?{}:or).stopAtEdge,lr=ur===void 0?!0:ur,xr=fr.call(this)||this;return xr._stopAtEdge=lr,xr}var ar=cr.prototype;return Object.defineProperty(ar,"stopAtEdge",{get:function(){return this._stopAtEdge},set:function(or){this._stopAtEdge=or},enumerable:!1,configurable:!0}),ar.updatePosition=function(or){var ur=getFlickingAttached(this._flicking),lr=ur.camera,xr=this._activePanel;if(xr){var pr=xr.range,br=pr.min+(pr.max-pr.min)*or;lr.lookAt(lr.clampToReachablePosition(br))}},ar.moveToPosition=function(or,ur,lr){var xr=getFlickingAttached(this._flicking),pr=xr.camera,br=pr.clampToReachablePosition(or),mr=pr.findAnchorIncludePosition(br);if(!mr)return Promise.reject(new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(or),CODE.POSITION_NOT_REACHABLE));var _r=mr.panel;return _r!==this._activePanel&&this._triggerIndexChangeEvent(_r,or,lr),this._animateToPosition({position:this._stopAtEdge?br:or,duration:ur,newActivePanel:_r,axesEvent:lr})},cr}(Control),StrictControl=function(fr){__extends(cr,fr);function cr(or){var ur=(or===void 0?{}:or).count,lr=ur===void 0?1:ur,xr=fr.call(this)||this;return xr.setActive=function(pr,br,mr){fr.prototype.setActive.call(xr,pr,br,mr),xr.updateInput()},xr._count=lr,xr._resetIndexRange(),xr}var ar=cr.prototype;return Object.defineProperty(ar,"count",{get:function(){return this._count},set:function(or){this._count=or},enumerable:!1,configurable:!0}),ar.destroy=function(){fr.prototype.destroy.call(this),this._resetIndexRange()},ar.updateInput=function(){var or,ur=getFlickingAttached(this._flicking),lr=ur.camera,xr=ur.renderer,pr=this._controller,br=lr.controlParams,mr=this._count,_r=pr.state.animating?(or=lr.findNearestAnchor(lr.position))===null||or===void 0?void 0:or.panel:this._activePanel;if(!_r)return pr.update(br),this._resetIndexRange(),this;var vr=br.range,Er=_r.position,yr=_r.index,Ir=xr.panelCount,Ar=yr-mr,kr=yr+mr;Ar<0&&(Ar=ur.circularEnabled?getMinusCompensatedIndex((Ar+1)%Ir-1,Ir):clamp(Ar,0,Ir-1)),kr>=Ir&&(kr=ur.circularEnabled?kr%Ir:clamp(kr,0,Ir-1));var Or=xr.panels[Ar],Dr=xr.panels[kr],Rr=Math.max(Or.position,vr.min),Fr=Math.min(Dr.position,vr.max);return Rr>Er&&(Rr-=lr.rangeDiff),Fr<Er&&(Fr+=lr.rangeDiff),br.range={min:Rr,max:Fr},br.circular&&(br.position<Rr&&(br.position+=lr.rangeDiff),br.position>Fr&&(br.position-=lr.rangeDiff)),br.circular=!1,pr.update(br),this._indexRange={min:Or.index,max:Dr.index},this},ar.moveToPanel=function(or,ur){return __awaiter(this,void 0,void 0,function(){var lr,xr,pr;return __generator(this,function(br){return lr=getFlickingAttached(this._flicking),xr=lr.camera,pr=this._controller,pr.update(xr.controlParams),[2,fr.prototype.moveToPanel.call(this,or,ur)]})})},ar.moveToPosition=function(or,ur,lr){var xr,pr=getFlickingAttached(this._flicking),br=pr.camera,mr=(xr=this._nextPanel)!==null&&xr!==void 0?xr:this._activePanel,_r=this._controller.range,vr=this._indexRange,Er=br.range,yr=this._controller.state,Ir=clamp(br.clampToReachablePosition(or),_r[0],_r[1]),Ar=br.findAnchorIncludePosition(Ir);if(!Ar||!mr)return Promise.reject(new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(or),CODE.POSITION_NOT_REACHABLE));var kr=mr.position,Or=pr.animating?yr.delta:or-br.position,Dr=Math.abs(Or)>=pr.threshold,Rr=or>kr?br.getNextAnchor(Ar):br.getPrevAnchor(Ar),Fr,Lr,Hr=br.anchorPoints,Ur=Hr[0],Zr=Hr[Hr.length-1],Yr=or<=Er.min&&isBetween(Ur.panel.index,vr.min,vr.max),jr=or>=Er.max&&isBetween(Zr.panel.index,vr.min,vr.max),Jr=Rr&&(vr.min<=vr.max?isBetween(Rr.index,vr.min,vr.max):Rr.index>=vr.min||Rr.index<=vr.max);if(Yr||jr){var Wr=or<Er.min?Ur:Zr;Lr=Wr.panel,Fr=Wr.position}else if(Dr&&Ar.position!==mr.position)Lr=Ar.panel,Fr=Ar.position;else if(Dr&&Jr)Lr=Rr.panel,Fr=Rr.position;else{var ni=br.findNearestAnchor(br.position);return ni?this.moveToPanel(ni.panel,{duration:ur,axesEvent:lr}):Promise.reject(new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(or),CODE.POSITION_NOT_REACHABLE))}return this._triggerIndexChangeEvent(Lr,or,lr),this._animateToPosition({position:Fr,duration:ur,newActivePanel:Lr,axesEvent:lr})},ar._resetIndexRange=function(){this._indexRange={min:0,max:0}},cr}(Control),CameraMode=function(){function fr(ar){this._flicking=ar}var cr=fr.prototype;return cr.getAnchors=function(){var ar=this._flicking.renderer.panels;return ar.map(function(or,ur){return new AnchorPoint({index:ur,position:or.position,panel:or})})},cr.findAnchorIncludePosition=function(ar){var or=this._flicking.camera.anchorPoints,ur=or.filter(function(lr){return lr.panel.includePosition(ar,!0)});return ur.reduce(function(lr,xr){return lr&&Math.abs(lr.position-ar)<Math.abs(xr.position-ar)?lr:xr},null)},cr.findNearestAnchor=function(ar){var or=this._flicking.camera.anchorPoints;if(or.length<=0)return null;for(var ur=1/0,lr=0;lr<or.length;lr++){var xr=or[lr],pr=Math.abs(xr.position-ar);if(pr>ur)return or[lr-1];ur=pr}return or[or.length-1]},cr.clampToReachablePosition=function(ar){var or=this._flicking.camera,ur=or.range;return clamp(ar,ur.min,ur.max)},cr.getCircularOffset=function(){return 0},cr.canReach=function(ar){var or=this._flicking.camera,ur=or.range;if(ar.removed)return!1;var lr=ar.position;return lr>=ur.min&&lr<=ur.max},cr.canSee=function(ar){var or=this._flicking.camera,ur=or.visibleRange;return ar.isVisibleOnRange(ur.min,ur.max)},fr}(),LinearCameraMode=function(fr){__extends(cr,fr);function cr(){return fr!==null&&fr.apply(this,arguments)||this}var ar=cr.prototype;return ar.checkAvailability=function(){return!0},ar.getRange=function(){var or,ur,lr=this._flicking.renderer,xr=lr.getPanel(0),pr=lr.getPanel(lr.panelCount-1);return{min:(or=xr==null?void 0:xr.position)!==null&&or!==void 0?or:0,max:(ur=pr==null?void 0:pr.position)!==null&&ur!==void 0?ur:0}},cr}(CameraMode),CircularCameraMode=function(fr){__extends(cr,fr);function cr(){return fr!==null&&fr.apply(this,arguments)||this}var ar=cr.prototype;return ar.checkAvailability=function(){var or=this._flicking,ur=or.renderer,lr=ur.panels;if(lr.length<=0)return!1;var xr=lr[0],pr=lr[lr.length-1],br=xr.range.min-xr.margin.prev,mr=pr.range.max+pr.margin.next,_r=or.camera.size,vr=mr-br,Er=lr.every(function(yr){return vr-yr.size>=_r});return Er},ar.getRange=function(){var or=this._flicking,ur=or.renderer.panels;if(ur.length<=0)return{min:0,max:0};var lr=ur[0],xr=ur[ur.length-1],pr=lr.range.min-lr.margin.prev,br=xr.range.max+xr.margin.next;return{min:pr,max:br}},ar.getAnchors=function(){var or=this._flicking,ur=or.renderer.panels;return ur.map(function(lr,xr){return new AnchorPoint({index:xr,position:lr.position,panel:lr})})},ar.findNearestAnchor=function(or){var ur=this._flicking.camera,lr=ur.anchorPoints;if(lr.length<=0)return null;for(var xr=ur.range,pr=1/0,br=-1,mr=0;mr<lr.length;mr++){var _r=lr[mr],vr=Math.min(Math.abs(_r.position-or),Math.abs(_r.position-xr.min+xr.max-or),Math.abs(or-xr.min+xr.max-_r.position));vr<pr&&(pr=vr,br=mr)}return lr[br]},ar.findAnchorIncludePosition=function(or){var ur=this._flicking.camera,lr=ur.range,xr=ur.anchorPoints,pr=ur.rangeDiff,br=xr.length,mr=circulatePosition(or,lr.min,lr.max),_r=fr.prototype.findAnchorIncludePosition.call(this,mr);if(br>0&&(or===lr.min||or===lr.max)){var vr=[_r,new AnchorPoint({index:0,position:xr[0].position+pr,panel:xr[0].panel}),new AnchorPoint({index:br-1,position:xr[br-1].position-pr,panel:xr[br-1].panel})].filter(function(yr){return!!yr});_r=vr.reduce(function(yr,Ir){return yr&&Math.abs(yr.position-or)<Math.abs(Ir.position-or)?yr:Ir},null)}if(!_r)return null;if(or<lr.min){var Er=-Math.floor((lr.min-or)/pr)-1;return new AnchorPoint({index:_r.index,position:_r.position+pr*Er,panel:_r.panel})}else if(or>lr.max){var Er=Math.floor((or-lr.max)/pr)+1;return new AnchorPoint({index:_r.index,position:_r.position+pr*Er,panel:_r.panel})}return _r},ar.getCircularOffset=function(){var or=this._flicking,ur=or.camera;if(!ur.circularEnabled)return 0;var lr=or.panels.filter(function(br){return br.toggled}),xr=lr.filter(function(br){return br.toggleDirection===DIRECTION.PREV}),pr=lr.filter(function(br){return br.toggleDirection===DIRECTION.NEXT});return this._calcPanelAreaSum(xr)-this._calcPanelAreaSum(pr)},ar.clampToReachablePosition=function(or){return or},ar.canReach=function(or){return!or.removed},ar.canSee=function(or){var ur=this._flicking.camera,lr=ur.range,xr=ur.rangeDiff,pr=ur.visibleRange,br=fr.prototype.canSee.call(this,or);return pr.min<lr.min?br||or.isVisibleOnRange(pr.min+xr,pr.max+xr):pr.max>lr.max?br||or.isVisibleOnRange(pr.min-xr,pr.max-xr):br},ar._calcPanelAreaSum=function(or){return or.reduce(function(ur,lr){return ur+lr.sizeIncludingMargin},0)},cr}(CameraMode),BoundCameraMode=function(fr){__extends(cr,fr);function cr(){return fr!==null&&fr.apply(this,arguments)||this}var ar=cr.prototype;return ar.checkAvailability=function(){var or=this._flicking,ur=or.renderer,lr=ur.getPanel(0),xr=ur.getPanel(ur.panelCount-1);if(!lr||!xr)return!1;var pr=or.camera.size,br=lr.range.min,mr=xr.range.max,_r=mr-br,vr=pr<_r;return vr},ar.getRange=function(){var or=this._flicking,ur=or.renderer,lr=or.camera.alignPosition,xr=ur.getPanel(0),pr=ur.getPanel(ur.panelCount-1);if(!xr||!pr)return{min:0,max:0};var br=or.camera.size,mr=xr.range.min,_r=pr.range.max,vr=_r-mr,Er=br<vr,yr=mr+lr,Ir=_r-br+lr;if(Er)return{min:yr,max:Ir};var Ar=or.camera.align,kr=typeof Ar=="object"?Ar.camera:Ar,Or=yr+parseAlign$1(kr,Ir-yr);return{min:Or,max:Or}},ar.getAnchors=function(){var or=this._flicking,ur=or.camera,lr=or.renderer.panels;if(lr.length<=0)return[];var xr=or.camera.range,pr=lr.filter(function(Ar){return ur.canReach(Ar)});if(pr.length>0){var br=pr[0].position!==xr.min,mr=pr[pr.length-1].position!==xr.max,_r=br?1:0,vr=pr.map(function(Ar,kr){return new AnchorPoint({index:kr+_r,position:Ar.position,panel:Ar})});return br&&vr.splice(0,0,new AnchorPoint({index:0,position:xr.min,panel:lr[pr[0].index-1]})),mr&&vr.push(new AnchorPoint({index:vr.length,position:xr.max,panel:lr[pr[pr.length-1].index+1]})),vr}else if(xr.min!==xr.max){var Er=this._findNearestPanel(xr.min,lr),yr=Er.index===lr.length-1?Er.prev():Er,Ir=yr.next();return[new AnchorPoint({index:0,position:xr.min,panel:yr}),new AnchorPoint({index:1,position:xr.max,panel:Ir})]}else return[new AnchorPoint({index:0,position:xr.min,panel:this._findNearestPanel(xr.min,lr)})]},ar.findAnchorIncludePosition=function(or){var ur=this._flicking.camera,lr=ur.range,xr=ur.anchorPoints;return xr.length<=0?null:or<=lr.min?xr[0]:or>=lr.max?xr[xr.length-1]:fr.prototype.findAnchorIncludePosition.call(this,or)},ar._findNearestPanel=function(or,ur){for(var lr=1/0,xr=0;xr<ur.length;xr++){var pr=ur[xr],br=Math.abs(pr.position-or);if(br>lr)return ur[xr-1];lr=br}return ur[ur.length-1]},cr}(CameraMode),Camera=function(){function fr(ar,or){var ur=this,lr=(or===void 0?{}:or).align,xr=lr===void 0?ALIGN.CENTER:lr;this._checkTranslateSupport=function(){var pr,br,mr=["webkitTransform","msTransform","MozTransform","OTransform","transform"],_r=document.documentElement.style,vr="";try{for(var Er=__values(mr),yr=Er.next();!yr.done;yr=Er.next()){var Ir=yr.value;Ir in _r&&(vr=Ir)}}catch(Ar){pr={error:Ar}}finally{try{yr&&!yr.done&&(br=Er.return)&&br.call(Er)}finally{if(pr)throw pr.error}}if(!vr)throw new FlickingError(MESSAGE.TRANSFORM_NOT_SUPPORTED,CODE.TRANSFORM_NOT_SUPPORTED);ur._transform=vr},this._flicking=ar,this._resetInternalValues(),this._align=xr}var cr=fr.prototype;return Object.defineProperty(cr,"element",{get:function(){return this._el},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"children",{get:function(){return toArray(this._el.children)},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"position",{get:function(){return this._position},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"alignPosition",{get:function(){return this._alignPos},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"offset",{get:function(){return this._offset-this._circularOffset},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"circularEnabled",{get:function(){return this._circularEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"mode",{get:function(){return this._mode},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"range",{get:function(){return this._range},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"rangeDiff",{get:function(){return this._range.max-this._range.min},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"visiblePanels",{get:function(){return this._visiblePanels},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"visibleRange",{get:function(){return{min:this._position-this._alignPos,max:this._position-this._alignPos+this.size}},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"anchorPoints",{get:function(){return this._anchors},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"controlParams",{get:function(){return{range:this._range,position:this._position,circular:this._circularEnabled}},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"atEdge",{get:function(){return this._position<=this._range.min||this._position>=this._range.max},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"size",{get:function(){var ar=this._flicking;return ar?ar.horizontal?ar.viewport.width:ar.viewport.height:0},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"progress",{get:function(){var ar=this._flicking,or=this._position+this._offset,ur=this.findNearestAnchor(this._position);if(!ar||!ur)return NaN;var lr=ur.panel,xr=lr.position+lr.offset,pr=ar.control.controller.bounce,br=this.range,mr=br.min,_r=br.max,vr=this.rangeDiff;if(or===xr)return lr.index;if(or<xr){var Er=lr.prev(),yr=Er?Er.position+Er.offset:mr-pr[0];return yr>xr&&(yr-=vr),lr.index-1+getProgress(or,yr,xr)}else{var Ir=lr.next(),Ar=Ir?Ir.position+Ir.offset:_r+pr[1];return Ar<xr&&(Ar+=vr),lr.index+getProgress(or,xr,Ar)}},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"panelOrder",{get:function(){return this._panelOrder},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"align",{get:function(){return this._align},set:function(ar){this._align=ar},enumerable:!1,configurable:!0}),cr.init=function(){var ar=this._flicking.viewport.element;return checkExistence(ar.firstElementChild,"First element child of the viewport element"),this._el=ar.firstElementChild,this._checkTranslateSupport(),this._updateMode(),this.updatePanelOrder(),this},cr.destroy=function(){return this._resetInternalValues(),this},cr.lookAt=function(ar){var or=this,ur=getFlickingAttached(this._flicking),lr=this._position;this._position=ar;var xr=this._togglePanels(lr,ar);this._refreshVisiblePanels(),this._checkNeedPanel(),this._checkReachEnd(lr,ar),xr?ur.renderer.render().then(function(){or.updateOffset()}):this.applyTransform()},cr.getPrevAnchor=function(ar){if(!this._circularEnabled||ar.index!==0)return this._anchors[ar.index-1]||null;var or=this._anchors,ur=this.rangeDiff,lr=or[or.length-1];return new AnchorPoint({index:lr.index,position:lr.position-ur,panel:lr.panel})},cr.getNextAnchor=function(ar){var or=this._anchors;if(!this._circularEnabled||ar.index!==or.length-1)return or[ar.index+1]||null;var ur=this.rangeDiff,lr=or[0];return new AnchorPoint({index:lr.index,position:lr.position+ur,panel:lr.panel})},cr.getProgressInPanel=function(ar){var or=ar.range;return(this._position-or.min)/(or.max-or.min)},cr.findAnchorIncludePosition=function(ar){return this._mode.findAnchorIncludePosition(ar)},cr.findNearestAnchor=function(ar){return this._mode.findNearestAnchor(ar)},cr.findActiveAnchor=function(){var ar,or=getFlickingAttached(this._flicking),ur=or.control.activePanel;return ur?(ar=find(this._anchors,function(lr){return lr.panel.index===ur.index}))!==null&&ar!==void 0?ar:this.findNearestAnchor(ur.position):null},cr.clampToReachablePosition=function(ar){return this._mode.clampToReachablePosition(ar)},cr.canReach=function(ar){return this._mode.canReach(ar)},cr.canSee=function(ar){return this._mode.canSee(ar)},cr.updateRange=function(){var ar=getFlickingAttached(this._flicking),or=ar.renderer,ur=or.panels;return this._updateMode(),this._range=this._mode.getRange(),ur.forEach(function(lr){return lr.updateCircularToggleDirection()}),this},cr.updateAlignPos=function(){var ar=this._align,or=typeof ar=="object"?ar.camera:ar;return this._alignPos=parseAlign$1(or,this.size),this},cr.updateAnchors=function(){return this._anchors=this._mode.getAnchors(),this},cr.updateAdaptiveHeight=function(){var ar=getFlickingAttached(this._flicking),or=ar.control.activePanel;!ar.horizontal||!ar.adaptive||!or||ar.viewport.setSize({height:or.height})},cr.updateOffset=function(){var ar=getFlickingAttached(this._flicking),or=this._position,ur=ar.panels.filter(function(lr){return!lr.rendered});return this._offset=ur.filter(function(lr){return lr.position+lr.offset<or}).reduce(function(lr,xr){return lr+xr.sizeIncludingMargin},0),this._circularOffset=this._mode.getCircularOffset(),this.applyTransform(),this},cr.updatePanelOrder=function(){var ar=getFlickingAttached(this._flicking);if(!ar.horizontal)return this;var or=this._el,ur=getStyle(or).direction;return ur!==this._panelOrder&&(this._panelOrder=ur===ORDER.RTL?ORDER.RTL:ORDER.LTR,ar.initialized&&ar.control.controller.updateDirection()),this},cr.resetNeedPanelHistory=function(){return this._needPanelTriggered={prev:!1,next:!1},this},cr.applyTransform=function(){var ar=this._el,or=getFlickingAttached(this._flicking),ur=or.renderer;if(ur.rendering||!or.initialized)return this;var lr=this._position-this._alignPos-this._offset+this._circularOffset;return ar.style[this._transform]=or.horizontal?"translate("+(this._panelOrder===ORDER.RTL?lr:-lr)+"px)":"translate(0, "+-lr+"px)",this},cr._resetInternalValues=function(){this._position=0,this._alignPos=0,this._offset=0,this._circularOffset=0,this._circularEnabled=!1,this._range={min:0,max:0},this._visiblePanels=[],this._anchors=[],this._needPanelTriggered={prev:!1,next:!1}},cr._refreshVisiblePanels=function(){var ar=this,or=getFlickingAttached(this._flicking),ur=or.renderer.panels,lr=ur.filter(function(mr){return ar.canSee(mr)}),xr=this._visiblePanels;this._visiblePanels=lr;var pr=lr.filter(function(mr){return!includes(xr,mr)}),br=xr.filter(function(mr){return!includes(lr,mr)});(pr.length>0||br.length>0)&&or.renderer.render().then(function(){or.trigger(new ComponentEvent$1(EVENTS.VISIBLE_CHANGE,{added:pr,removed:br,visiblePanels:lr}))})},cr._checkNeedPanel=function(){var ar=this._needPanelTriggered;if(!(ar.prev&&ar.next)){var or=getFlickingAttached(this._flicking),ur=or.renderer.panels;if(ur.length<=0){ar.prev||(or.trigger(new ComponentEvent$1(EVENTS.NEED_PANEL,{direction:DIRECTION.PREV})),ar.prev=!0),ar.next||(or.trigger(new ComponentEvent$1(EVENTS.NEED_PANEL,{direction:DIRECTION.NEXT})),ar.next=!0);return}var lr=this._position,xr=this.size,pr=this._range,br=or.needPanelThreshold,mr=lr-this._alignPos,_r=mr+xr,vr=ur[0],Er=ur[ur.length-1];if(!ar.prev){var yr=vr.range.min;(mr<=yr+br||lr<=pr.min+br)&&(or.trigger(new ComponentEvent$1(EVENTS.NEED_PANEL,{direction:DIRECTION.PREV})),ar.prev=!0)}if(!ar.next){var Ir=Er.range.max;(_r>=Ir-br||lr>=pr.max-br)&&(or.trigger(new ComponentEvent$1(EVENTS.NEED_PANEL,{direction:DIRECTION.NEXT})),ar.next=!0)}}},cr._checkReachEnd=function(ar,or){var ur=getFlickingAttached(this._flicking),lr=this._range,xr=ar>lr.min&&ar<lr.max,pr=or>lr.min&&or<lr.max;if(!(!xr||pr)){var br=or<=lr.min?DIRECTION.PREV:DIRECTION.NEXT;ur.trigger(new ComponentEvent$1(EVENTS.REACH_EDGE,{direction:br}))}},cr._updateMode=function(){var ar=getFlickingAttached(this._flicking);if(ar.circular){var or=new CircularCameraMode(ar),ur=or.checkAvailability();if(ur)this._mode=or;else{var lr=ar.circularFallback;this._mode=lr===CIRCULAR_FALLBACK.BOUND?new BoundCameraMode(ar):new LinearCameraMode(ar)}this._circularEnabled=ur}else this._mode=ar.bound?new BoundCameraMode(ar):new LinearCameraMode(ar),this._circularEnabled=!1},cr._togglePanels=function(ar,or){if(or===ar)return!1;var ur=getFlickingAttached(this._flicking),lr=ur.renderer.panels,xr=lr.map(function(pr){return pr.toggle(ar,or)});return xr.some(function(pr){return pr})},fr}(),Renderer=function(){function fr(ar){var or=ar.align,ur=or===void 0?ALIGN.CENTER:or,lr=ar.strategy;this._flicking=null,this._panels=[],this._rendering=!1,this._align=ur,this._strategy=lr}var cr=fr.prototype;return Object.defineProperty(cr,"panels",{get:function(){return this._panels},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"rendering",{get:function(){return this._rendering},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"panelCount",{get:function(){return this._panels.length},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"strategy",{get:function(){return this._strategy},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"align",{get:function(){return this._align},set:function(ar){this._align=ar;var or=parsePanelAlign(ar);this._panels.forEach(function(ur){ur.align=or})},enumerable:!1,configurable:!0}),cr.init=function(ar){return this._flicking=ar,this._collectPanels(),this},cr.destroy=function(){this._flicking=null,this._panels=[]},cr.getPanel=function(ar){return this._panels[ar]||null},cr.forceRenderAllPanels=function(){return this._panels.forEach(function(ar){return ar.markForShow()}),Promise.resolve()},cr.updatePanelSize=function(){var ar=getFlickingAttached(this._flicking),or=this._panels;if(or.length<=0)return this;if(ar.panelsPerView>0){var ur=or[0];ur.resize(),this._updatePanelSizeByGrid(ur,or)}else ar.panels.forEach(function(lr){return lr.resize()});return this},cr.batchInsert=function(){for(var ar=[],or=0;or<arguments.length;or++)ar[or]=arguments[or];var ur=this.batchInsertDefer.apply(this,__spread(ar));return ur.length<=0?[]:(this.updateAfterPanelChange(ur,[]),ur)},cr.batchInsertDefer=function(){for(var ar=this,or=[],ur=0;ur<arguments.length;ur++)or[ur]=arguments[ur];var lr=this._panels,xr=getFlickingAttached(this._flicking),pr=lr[0],br=parsePanelAlign(this._align),mr=or.reduce(function(_r,vr){var Er,yr=getMinusCompensatedIndex(vr.index,lr.length),Ir=lr.slice(yr),Ar=vr.elements.map(function(Or,Dr){return ar._createPanel(Or,{index:yr+Dr,align:br,flicking:xr})});if(lr.splice.apply(lr,__spread([yr,0],Ar)),vr.hasDOMInElements&&ar._insertPanelElements(Ar,(Er=Ir[0])!==null&&Er!==void 0?Er:null),xr.panelsPerView>0){var kr=pr||Ar[0].resize();ar._updatePanelSizeByGrid(kr,Ar)}else Ar.forEach(function(Or){return Or.resize()});return Ir.forEach(function(Or){Or.increaseIndex(Ar.length),Or.updatePosition()}),__spread(_r,Ar)},[]);return mr},cr.batchRemove=function(){for(var ar=[],or=0;or<arguments.length;or++)ar[or]=arguments[or];var ur=this.batchRemoveDefer.apply(this,__spread(ar));return ur.length<=0?[]:(this.updateAfterPanelChange([],ur),ur)},cr.batchRemoveDefer=function(){for(var ar=this,or=[],ur=0;ur<arguments.length;ur++)or[ur]=arguments[ur];var lr=this._panels,xr=getFlickingAttached(this._flicking),pr=xr.control,br=pr.activePanel,mr=or.reduce(function(_r,vr){var Er=vr.index,yr=vr.deleteCount,Ir=getMinusCompensatedIndex(Er,lr.length),Ar=lr.slice(Ir+yr),kr=lr.splice(Ir,yr);return kr.length<=0?[]:(Ar.forEach(function(Or){Or.decreaseIndex(kr.length),Or.updatePosition()}),vr.hasDOMInElements&&ar._removePanelElements(kr),kr.forEach(function(Or){return Or.destroy()}),includes(kr,br)&&pr.resetActive(),__spread(_r,kr))},[]);return mr},cr.updateAfterPanelChange=function(ar,or){var ur,lr=getFlickingAttached(this._flicking),xr=lr.camera,pr=lr.control,br=this._panels,mr=pr.activePanel;if(this._updateCameraAndControl(),this.render(),!lr.animating)if(!mr||mr.removed)if(br.length<=0)xr.lookAt(0);else{var _r=(ur=mr==null?void 0:mr.index)!==null&&ur!==void 0?ur:0;_r>br.length-1&&(_r=br.length-1),pr.moveToPanel(br[_r],{duration:0}).catch(function(){})}else pr.moveToPanel(mr,{duration:0}).catch(function(){});lr.camera.updateOffset(),(ar.length>0||or.length>0)&&(lr.trigger(new ComponentEvent$1(EVENTS.PANEL_CHANGE,{added:ar,removed:or})),this.checkPanelContentsReady(__spread(ar,or)))},cr.checkPanelContentsReady=function(ar){var or=this,ur=getFlickingAttached(this._flicking),lr=ur.resizeOnContentsReady,xr=this._panels;if(!(!lr||ur.virtualEnabled)){var pr=function(mr){return mr.element&&!!mr.element.querySelector("img, video")};if(ar=ar.filter(function(mr){return pr(mr)}),!(ar.length<=0)){var br=new ImReady$1;ar.forEach(function(mr){mr.loading=!0}),br.on("readyElement",function(mr){if(!or._flicking){br.destroy();return}var _r=ar[mr.index],vr=ur.camera,Er=ur.control,yr=Er.activePanel?vr.getProgressInPanel(Er.activePanel):0;_r.loading=!1,_r.resize(),xr.slice(_r.index+1).forEach(function(Ir){return Ir.updatePosition()}),ur.initialized&&(vr.updateRange(),vr.updateOffset(),vr.updateAnchors(),Er.animating||(Er.updatePosition(yr),Er.updateInput()))}),br.on("preReady",function(mr){or._flicking&&or.render(),mr.readyCount===mr.totalCount&&br.destroy()}),br.on("ready",function(){or._flicking&&or.render(),br.destroy()}),br.check(ar.map(function(mr){return mr.element}))}}},cr._updateCameraAndControl=function(){var ar=getFlickingAttached(this._flicking),or=ar.camera,ur=ar.control;or.updateRange(),or.updateOffset(),or.updateAnchors(),or.resetNeedPanelHistory(),ur.updateInput()},cr._showOnlyVisiblePanels=function(ar){var or=ar.renderer.panels,ur=ar.camera,lr=ur.visiblePanels.reduce(function(xr,pr){return xr[pr.index]=!0,xr},{});or.forEach(function(xr){xr.index in lr||xr.loading?xr.markForShow():ar.holding||xr.markForHide()})},cr._updatePanelSizeByGrid=function(ar,or){var ur=getFlickingAttached(this._flicking),lr=ur.panelsPerView;if(lr<=0)throw new FlickingError(MESSAGE.WRONG_OPTION("panelsPerView",lr),CODE.WRONG_OPTION);if(!(or.length<=0)){var xr=ur.camera.size,pr=ar.margin.prev+ar.margin.next,br=(xr-pr*(lr-1))/lr,mr=ur.horizontal?{width:br}:{height:br},_r=__assign({size:br,margin:ar.margin},!ur.horizontal&&{height:ar.height});ur.noPanelStyleOverride||this._strategy.updatePanelSizes(ur,mr),ur.panels.forEach(function(vr){return vr.resize(_r)})}},cr._removeAllChildsFromCamera=function(){for(var ar=getFlickingAttached(this._flicking),or=ar.camera.element;or.firstChild;)or.removeChild(or.firstChild)},cr._insertPanelElements=function(ar,or){or===void 0&&(or=null);var ur=getFlickingAttached(this._flicking),lr=ur.camera,xr=lr.element,pr=(or==null?void 0:or.element)||null,br=document.createDocumentFragment();ar.forEach(function(mr){return br.appendChild(mr.element)}),xr.insertBefore(br,pr)},cr._removePanelElements=function(ar){var or=getFlickingAttached(this._flicking),ur=or.camera.element;ar.forEach(function(lr){ur.removeChild(lr.element)})},cr._afterRender=function(){var ar=getFlickingAttached(this._flicking);ar.camera.applyTransform()},fr}(),VanillaRenderer=function(fr){__extends(cr,fr);function cr(){return fr!==null&&fr.apply(this,arguments)||this}var ar=cr.prototype;return ar.render=function(){return __awaiter(this,void 0,void 0,function(){var or,ur;return __generator(this,function(lr){return or=getFlickingAttached(this._flicking),ur=this._strategy,ur.updateRenderingPanels(or),ur.renderPanels(or),this._resetPanelElementOrder(),this._afterRender(),[2]})})},ar._collectPanels=function(){var or=getFlickingAttached(this._flicking),ur=or.camera;this._removeAllTextNodes(),this._panels=this._strategy.collectPanels(or,ur.children)},ar._createPanel=function(or,ur){return this._strategy.createPanel(or,ur)},ar._resetPanelElementOrder=function(){var or=getFlickingAttached(this._flicking),ur=or.camera.element,lr=this._strategy.getRenderingElementsByOrder(or).reverse();lr.forEach(function(xr,pr){var br=lr[pr-1]?lr[pr-1]:null;xr.nextElementSibling!==br&&ur.insertBefore(xr,br)})},ar._removeAllTextNodes=function(){var or=getFlickingAttached(this._flicking),ur=or.camera.element;toArray(ur.childNodes).forEach(function(lr){lr.nodeType===Node.TEXT_NODE&&ur.removeChild(lr)})},cr}(Renderer),Panel=function(){function fr(ar){var or=ar.index,ur=ar.align,lr=ar.flicking,xr=ar.elementProvider;this._index=or,this._flicking=lr,this._elProvider=xr,this._align=ur,this._removed=!1,this._rendered=!0,this._loading=!1,this._resetInternalStates()}var cr=fr.prototype;return Object.defineProperty(cr,"element",{get:function(){return this._elProvider.element},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"elementProvider",{get:function(){return this._elProvider},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"index",{get:function(){return this._index},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"position",{get:function(){return this._pos+this._alignPos},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"sizeIncludingMargin",{get:function(){return this._size+this._margin.prev+this._margin.next},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"margin",{get:function(){return this._margin},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"alignPosition",{get:function(){return this._alignPos},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"removed",{get:function(){return this._removed},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"rendered",{get:function(){return this._rendered},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"loading",{get:function(){return this._loading},set:function(ar){this._loading=ar},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"range",{get:function(){return{min:this._pos,max:this._pos+this._size}},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"toggled",{get:function(){return this._toggled},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"toggleDirection",{get:function(){return this._toggleDirection},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"offset",{get:function(){var ar=this._toggleDirection,or=this._flicking.camera.rangeDiff;return ar===DIRECTION.NONE||!this._toggled?0:ar===DIRECTION.PREV?-or:or},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"progress",{get:function(){var ar=this._flicking;return this.index-ar.camera.progress},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"outsetProgress",{get:function(){var ar=this.position+this.offset,or=this._alignPos,ur=this._flicking.camera,lr=ur.position;if(lr===ar)return 0;if(lr<ar){var xr=ar+(ur.size-ur.alignPosition)+or;return-getProgress(lr,ar,xr)}else{var pr=ar-(ur.alignPosition+this._size-or);return 1-getProgress(lr,pr,ar)}},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"visibleRatio",{get:function(){var ar=this.range,or=this._size,ur=this.offset,lr=this._flicking.camera.visibleRange,xr={min:ar.min+ur,max:ar.max+ur};if(xr.max<=lr.min||xr.min>=lr.max)return 0;var pr=or;return lr.min>xr.min&&(pr-=lr.min-xr.min),lr.max<xr.max&&(pr-=xr.max-lr.max),pr/or},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"align",{get:function(){return this._align},set:function(ar){this._align=ar,this._updateAlignPos()},enumerable:!1,configurable:!0}),cr.markForShow=function(){this._rendered=!0,this._elProvider.show(this._flicking)},cr.markForHide=function(){this._rendered=!1,this._elProvider.hide(this._flicking)},cr.resize=function(ar){var or,ur=this.element,lr=this._flicking,xr=lr.horizontal,pr=lr.useFractionalSize;if(ar)this._size=ar.size,this._margin=__assign({},ar.margin),this._height=(or=ar.height)!==null&&or!==void 0?or:getElementSize({el:ur,horizontal:!1,useFractionalSize:pr,useOffset:!0,style:getStyle(ur)});else{var br=getStyle(ur);this._size=getElementSize({el:ur,horizontal:xr,useFractionalSize:pr,useOffset:!0,style:br}),this._margin=xr?{prev:parseFloat(br.marginLeft||"0"),next:parseFloat(br.marginRight||"0")}:{prev:parseFloat(br.marginTop||"0"),next:parseFloat(br.marginBottom||"0")},this._height=xr?getElementSize({el:ur,horizontal:!1,useFractionalSize:pr,useOffset:!0,style:br}):this._size}return this.updatePosition(),this._updateAlignPos(),this},cr.setSize=function(ar){return setSize(this.element,ar),this},cr.contains=function(ar){var or;return!!(!((or=this.element)===null||or===void 0)&&or.contains(ar))},cr.destroy=function(){this._resetInternalStates(),this._removed=!0},cr.includePosition=function(ar,or){return or===void 0&&(or=!1),this.includeRange(ar,ar,or)},cr.includeRange=function(ar,or,ur){ur===void 0&&(ur=!1);var lr=this._margin,xr=this.range;return ur&&(xr.min-=lr.prev,xr.max+=lr.next),or>=xr.min&&ar<=xr.max},cr.isVisibleOnRange=function(ar,or){var ur=this.range;return or>ur.min&&ar<ur.max},cr.focus=function(ar){return this._flicking.moveTo(this._index,ar)},cr.prev=function(){var ar=this._index,or=this._flicking,ur=or.renderer,lr=ur.panelCount;return lr===1?null:or.circularEnabled?ur.getPanel(ar===0?lr-1:ar-1):ur.getPanel(ar-1)},cr.next=function(){var ar=this._index,or=this._flicking,ur=or.renderer,lr=ur.panelCount;return lr===1?null:or.circularEnabled?ur.getPanel(ar===lr-1?0:ar+1):ur.getPanel(ar+1)},cr.increaseIndex=function(ar){return this._index+=Math.max(ar,0),this},cr.decreaseIndex=function(ar){return this._index-=Math.max(ar,0),this},cr.updatePosition=function(){var ar=this._flicking.renderer.panels[this._index-1];return this._pos=ar?ar.range.max+ar.margin.next+this._margin.prev:this._margin.prev,this},cr.toggle=function(ar,or){var ur=this._toggleDirection,lr=this._togglePosition;if(ur===DIRECTION.NONE||or===ar)return!1;var xr=this._toggled;return or>ar?lr>=ar&&lr<=or&&(this._toggled=ur===DIRECTION.NEXT):lr<=ar&&lr>=or&&(this._toggled=ur!==DIRECTION.NEXT),xr!==this._toggled},cr.updateCircularToggleDirection=function(){var ar=this._flicking;if(!ar.circularEnabled)return this._toggleDirection=DIRECTION.NONE,this._togglePosition=0,this._toggled=!1,this;var or=ar.camera,ur=or.range,lr=or.alignPosition,xr=or.visibleRange,pr=xr.max-xr.min,br=ur.min-lr,mr=ur.max-lr+pr,_r=this.includeRange(mr-pr,mr,!1),vr=this.includeRange(br,br+pr,!1);return this._toggled=!1,_r?(this._toggleDirection=DIRECTION.PREV,this._togglePosition=this.range.max+ur.min-ur.max+lr,this.toggle(1/0,or.position)):vr?(this._toggleDirection=DIRECTION.NEXT,this._togglePosition=this.range.min+ur.max-pr+lr,this.toggle(-1/0,or.position)):(this._toggleDirection=DIRECTION.NONE,this._togglePosition=0),this},cr._updateAlignPos=function(){this._alignPos=parseAlign$1(this._align,this._size)},cr._resetInternalStates=function(){this._size=0,this._pos=0,this._margin={prev:0,next:0},this._height=0,this._alignPos=0,this._toggled=!1,this._togglePosition=0,this._toggleDirection=DIRECTION.NONE},fr}(),NormalRenderingStrategy=function(){function fr(ar){var or=ar.providerCtor;this._providerCtor=or}var cr=fr.prototype;return cr.renderPanels=function(){},cr.getRenderingIndexesByOrder=function(ar){var or=ar.renderer.panels.filter(function(pr){return pr.rendered}),ur=or.filter(function(pr){return pr.toggled&&pr.toggleDirection===DIRECTION.PREV}),lr=or.filter(function(pr){return pr.toggled&&pr.toggleDirection===DIRECTION.NEXT}),xr=or.filter(function(pr){return!pr.toggled});return __spread(ur,xr,lr).map(function(pr){return pr.index})},cr.getRenderingElementsByOrder=function(ar){var or=ar.panels;return this.getRenderingIndexesByOrder(ar).map(function(ur){return or[ur].element})},cr.updateRenderingPanels=function(ar){ar.renderOnlyVisible?this._showOnlyVisiblePanels(ar):ar.panels.forEach(function(or){return or.markForShow()})},cr.collectPanels=function(ar,or){var ur=this,lr=parsePanelAlign(ar.renderer.align);return or.map(function(xr,pr){return new Panel({index:pr,elementProvider:new ur._providerCtor(xr),align:lr,flicking:ar})})},cr.createPanel=function(ar,or){return new Panel(__assign(__assign({},or),{elementProvider:new this._providerCtor(ar)}))},cr.updatePanelSizes=function(ar,or){ar.panels.forEach(function(ur){return ur.setSize(or)})},cr._showOnlyVisiblePanels=function(ar){var or=ar.renderer.panels,ur=ar.camera,lr=ur.visiblePanels.reduce(function(xr,pr){return xr[pr.index]=!0,xr},{});or.forEach(function(xr){xr.index in lr||xr.loading?xr.markForShow():ar.holding||xr.markForHide()}),ur.updateOffset()},fr}(),VirtualPanel=function(fr){__extends(cr,fr);function cr(or){var ur=fr.call(this,or)||this;return or.elementProvider.init(ur),ur._elProvider=or.elementProvider,ur._cachedInnerHTML=null,ur}var ar=cr.prototype;return Object.defineProperty(ar,"element",{get:function(){return this._elProvider.element},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"cachedInnerHTML",{get:function(){return this._cachedInnerHTML},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"elementIndex",{get:function(){var or=this._flicking,ur=or.panelsPerView+1,lr=or.panelCount,xr=this._index;return this._toggled&&(xr=this._toggleDirection===DIRECTION.NEXT?xr+lr:xr-lr),circulateIndex(xr,ur)},enumerable:!1,configurable:!0}),ar.cacheRenderResult=function(or){this._cachedInnerHTML=or},ar.uncacheRenderResult=function(){this._cachedInnerHTML=null},ar.render=function(){var or=this._flicking,ur=or.virtual,lr=ur.renderPanel,xr=ur.cache,pr=this._elProvider.element,br=this._cachedInnerHTML||lr(this,this._index);br!==pr.innerHTML&&(pr.innerHTML=br,xr&&this.cacheRenderResult(br))},ar.increaseIndex=function(or){return this.uncacheRenderResult(),fr.prototype.increaseIndex.call(this,or)},ar.decreaseIndex=function(or){return this.uncacheRenderResult(),fr.prototype.decreaseIndex.call(this,or)},cr}(Panel),VirtualRenderingStrategy=function(){function fr(){}var cr=fr.prototype;return cr.renderPanels=function(ar){var or=ar.virtual,ur=ar.visiblePanels,lr=range(ar.panelsPerView+1);ur.forEach(function(xr){var pr=xr.elementIndex;xr.render(),or.show(pr),lr[pr]=-1}),lr.filter(function(xr){return xr>=0}).forEach(function(xr){or.hide(xr)})},cr.getRenderingIndexesByOrder=function(ar){var or=ar.virtual,ur=__spread(ar.visiblePanels).filter(function(pr){return pr.rendered}).sort(function(pr,br){return pr.position+pr.offset-(br.position+br.offset)});if(ur.length<=0)return or.elements.map(function(pr,br){return br});var lr=ur.map(function(pr){return pr.elementIndex}),xr=or.elements.map(function(pr,br){return __assign(__assign({},pr),{idx:br})}).filter(function(pr){return!pr.visible}).map(function(pr){return pr.idx});return __spread(lr,xr)},cr.getRenderingElementsByOrder=function(ar){var or=ar.virtual,ur=or.elements;return this.getRenderingIndexesByOrder(ar).map(function(lr){return ur[lr].nativeElement})},cr.updateRenderingPanels=function(ar){var or=ar.renderer.panels,ur=ar.camera,lr=ur.visiblePanels.reduce(function(xr,pr){return xr[pr.index]=!0,xr},{});or.forEach(function(xr){xr.index in lr||xr.loading?xr.markForShow():xr.markForHide()}),ur.updateOffset()},cr.collectPanels=function(ar){var or=parsePanelAlign(ar.renderer.align);return range(ar.virtual.initialPanelCount).map(function(ur){return new VirtualPanel({index:ur,elementProvider:new VirtualElementProvider(ar),align:or,flicking:ar})})},cr.createPanel=function(ar,or){return new VirtualPanel(__assign(__assign({},or),{elementProvider:new VirtualElementProvider(or.flicking)}))},cr.updatePanelSizes=function(ar,or){ar.virtual.elements.forEach(function(ur){setSize(ur.nativeElement,or)}),ar.panels.forEach(function(ur){return ur.setSize(or)})},fr}(),Flicking=function(fr){__extends(cr,fr);function cr(or,ur){var lr=ur===void 0?{}:ur,xr=lr.align,pr=xr===void 0?ALIGN.CENTER:xr,br=lr.defaultIndex,mr=br===void 0?0:br,_r=lr.horizontal,vr=_r===void 0?!0:_r,Er=lr.circular,yr=Er===void 0?!1:Er,Ir=lr.circularFallback,Ar=Ir===void 0?CIRCULAR_FALLBACK.LINEAR:Ir,kr=lr.bound,Or=kr===void 0?!1:kr,Dr=lr.adaptive,Rr=Dr===void 0?!1:Dr,Fr=lr.panelsPerView,Lr=Fr===void 0?-1:Fr,Hr=lr.noPanelStyleOverride,Ur=Hr===void 0?!1:Hr,Zr=lr.resizeOnContentsReady,Yr=Zr===void 0?!1:Zr,jr=lr.nested,Jr=jr===void 0?!1:jr,Wr=lr.needPanelThreshold,ni=Wr===void 0?0:Wr,Mr=lr.preventEventsBeforeInit,hi=Mr===void 0?!0:Mr,Ei=lr.deceleration,_i=Ei===void 0?.0075:Ei,Fi=lr.duration,si=Fi===void 0?500:Fi,ci=lr.easing,$r=ci===void 0?function(Hi){return 1-Math.pow(1-Hi,3)}:ci,ei=lr.inputType,pi=ei===void 0?["mouse","touch"]:ei,ui=lr.moveType,bi=ui===void 0?"snap":ui,qi=lr.threshold,Gi=qi===void 0?40:qi,Ti=lr.interruptable,ii=Ti===void 0?!0:Ti,oi=lr.bounce,Si=oi===void 0?"20%":oi,Di=lr.iOSEdgeSwipeThreshold,Vi=Di===void 0?30:Di,Vr=lr.preventClickOnDrag,di=Vr===void 0?!0:Vr,yi=lr.preventDefaultOnDrag,ti=yi===void 0?!1:yi,ri=lr.disableOnInit,xi=ri===void 0?!1:ri,Ai=lr.changeOnHold,Kr=Ai===void 0?!1:Ai,Pr=lr.renderOnlyVisible,qr=Pr===void 0?!1:Pr,Xr=lr.virtual,ai=Xr===void 0?null:Xr,fi=lr.autoInit,vi=fi===void 0?!0:fi,Ri=lr.autoResize,Qi=Ri===void 0?!0:Ri,Zi=lr.useResizeObserver,zi=Zi===void 0?!0:Zi,Bi=lr.resizeDebounce,ta=Bi===void 0?0:Bi,Ia=lr.maxResizeDebounce,Ra=Ia===void 0?100:Ia,wa=lr.useFractionalSize,vo=wa===void 0?!1:wa,uo=lr.externalRenderer,ko=uo===void 0?null:uo,wi=lr.renderExternal,Ui=wi===void 0?null:wi,Gr=fr.call(this)||this;return Gr._initialized=!1,Gr._plugins=[],Gr._align=pr,Gr._defaultIndex=mr,Gr._horizontal=vr,Gr._circular=yr,Gr._circularFallback=Ar,Gr._bound=Or,Gr._adaptive=Rr,Gr._panelsPerView=Lr,Gr._noPanelStyleOverride=Ur,Gr._resizeOnContentsReady=Yr,Gr._nested=Jr,Gr._virtual=ai,Gr._needPanelThreshold=ni,Gr._preventEventsBeforeInit=hi,Gr._deceleration=_i,Gr._duration=si,Gr._easing=$r,Gr._inputType=pi,Gr._moveType=bi,Gr._threshold=Gi,Gr._interruptable=ii,Gr._bounce=Si,Gr._iOSEdgeSwipeThreshold=Vi,Gr._preventClickOnDrag=di,Gr._preventDefaultOnDrag=ti,Gr._disableOnInit=xi,Gr._changeOnHold=Kr,Gr._renderOnlyVisible=qr,Gr._autoInit=vi,Gr._autoResize=Qi,Gr._useResizeObserver=zi,Gr._resizeDebounce=ta,Gr._maxResizeDebounce=Ra,Gr._useFractionalSize=vo,Gr._externalRenderer=ko,Gr._renderExternal=Ui,Gr._viewport=new Viewport(Gr,getElement(or)),Gr._autoResizer=new AutoResizer(Gr),Gr._renderer=Gr._createRenderer(),Gr._camera=Gr._createCamera(),Gr._control=Gr._createControl(),Gr._virtualManager=new VirtualManager(Gr,ai),Gr._autoInit&&Gr.init(),Gr}var ar=cr.prototype;return Object.defineProperty(ar,"control",{get:function(){return this._control},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"camera",{get:function(){return this._camera},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"renderer",{get:function(){return this._renderer},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"viewport",{get:function(){return this._viewport},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"initialized",{get:function(){return this._initialized},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"circularEnabled",{get:function(){return this._camera.circularEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"virtualEnabled",{get:function(){return this._panelsPerView>0&&this._virtual!=null},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"index",{get:function(){return this._control.activeIndex},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"element",{get:function(){return this._viewport.element},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"currentPanel",{get:function(){return this._control.activePanel},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"panels",{get:function(){return this._renderer.panels},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"panelCount",{get:function(){return this._renderer.panelCount},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"visiblePanels",{get:function(){return this._camera.visiblePanels},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"animating",{get:function(){return this._control.animating},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"holding",{get:function(){return this._control.holding},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"activePlugins",{get:function(){return this._plugins},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"align",{get:function(){return this._align},set:function(or){this._align=or,this._renderer.align=or,this._camera.align=or,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"defaultIndex",{get:function(){return this._defaultIndex},set:function(or){this._defaultIndex=or},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"horizontal",{get:function(){return this._horizontal},set:function(or){this._horizontal=or,this._control.controller.updateDirection(),this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"circular",{get:function(){return this._circular},set:function(or){this._circular=or,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"circularFallback",{get:function(){return this._circularFallback},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"bound",{get:function(){return this._bound},set:function(or){this._bound=or,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"adaptive",{get:function(){return this._adaptive},set:function(or){this._adaptive=or,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"panelsPerView",{get:function(){return this._panelsPerView},set:function(or){this._panelsPerView=or,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"noPanelStyleOverride",{get:function(){return this._noPanelStyleOverride},set:function(or){this._noPanelStyleOverride=or,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"resizeOnContentsReady",{get:function(){return this._resizeOnContentsReady},set:function(or){this._resizeOnContentsReady=or,or&&this._renderer.checkPanelContentsReady(this._renderer.panels)},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"nested",{get:function(){return this._nested},set:function(or){this._nested=or;var ur=this._control.controller.axes;ur&&(ur.options.nested=or)},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"needPanelThreshold",{get:function(){return this._needPanelThreshold},set:function(or){this._needPanelThreshold=or},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"preventEventsBeforeInit",{get:function(){return this._preventEventsBeforeInit},set:function(or){this._preventEventsBeforeInit=or},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"deceleration",{get:function(){return this._deceleration},set:function(or){this._deceleration=or;var ur=this._control.controller.axes;ur&&(ur.options.deceleration=or)},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"easing",{get:function(){return this._easing},set:function(or){this._easing=or;var ur=this._control.controller.axes;ur&&(ur.options.easing=or)},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"duration",{get:function(){return this._duration},set:function(or){this._duration=or},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"inputType",{get:function(){return this._inputType},set:function(or){this._inputType=or;var ur=this._control.controller.panInput;ur&&(ur.options.inputType=or)},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"moveType",{get:function(){return this._moveType},set:function(or){this._moveType=or;var ur=this._control,lr=this._createControl(),xr=ur.activePanel;lr.copy(ur);var pr=xr?this._camera.getProgressInPanel(xr):0;this._control=lr,this._control.updatePosition(pr),this._control.updateInput()},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"threshold",{get:function(){return this._threshold},set:function(or){this._threshold=or},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"interruptable",{get:function(){return this._interruptable},set:function(or){this._interruptable=or;var ur=this._control.controller.axes;ur&&(ur.options.interruptable=or)},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"bounce",{get:function(){return this._bounce},set:function(or){this._bounce=or,this._control.updateInput()},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"iOSEdgeSwipeThreshold",{get:function(){return this._iOSEdgeSwipeThreshold},set:function(or){this._iOSEdgeSwipeThreshold=or;var ur=this._control.controller.panInput;ur&&(ur.options.iOSEdgeSwipeThreshold=or)},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"preventClickOnDrag",{get:function(){return this._preventClickOnDrag},set:function(or){var ur=this._preventClickOnDrag;if(or!==ur){var lr=this._control.controller;or?lr.addPreventClickHandler():lr.removePreventClickHandler(),this._preventClickOnDrag=or}},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"preventDefaultOnDrag",{get:function(){return this._preventDefaultOnDrag},set:function(or){this._preventDefaultOnDrag=or;var ur=this._control.controller.panInput;ur&&(ur.options.preventDefaultOnDrag=or)},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"disableOnInit",{get:function(){return this._disableOnInit},set:function(or){this._disableOnInit=or},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"changeOnHold",{get:function(){return this._changeOnHold},set:function(or){this._changeOnHold=or},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"renderOnlyVisible",{get:function(){return this._renderOnlyVisible},set:function(or){this._renderOnlyVisible=or,this._renderer.render()},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"virtual",{get:function(){return this._virtualManager},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"autoInit",{get:function(){return this._autoInit},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"autoResize",{get:function(){return this._autoResize},set:function(or){this._autoResize=or,or?this._autoResizer.enable():this._autoResizer.disable()},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"useResizeObserver",{get:function(){return this._useResizeObserver},set:function(or){this._useResizeObserver=or,this._autoResize&&this._autoResizer.enable()},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"resizeDebounce",{get:function(){return this._resizeDebounce},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"maxResizeDebounce",{get:function(){return this._maxResizeDebounce},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"useFractionalSize",{get:function(){return this._useFractionalSize},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"externalRenderer",{get:function(){return this._externalRenderer},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"renderExternal",{get:function(){return this._renderExternal},enumerable:!1,configurable:!0}),ar.init=function(){var or=this;if(this._initialized)return Promise.resolve();var ur=this._camera,lr=this._renderer,xr=this._control,pr=this._virtualManager,br=this.trigger,mr=this._preventEventsBeforeInit;return ur.init(),pr.init(),lr.init(this),xr.init(this),mr&&(this.trigger=function(){return or}),this._initialResize(),this._moveToInitialPanel(),this._autoResize&&this._autoResizer.enable(),this._preventClickOnDrag&&xr.controller.addPreventClickHandler(),this._disableOnInit&&this.disableInput(),lr.checkPanelContentsReady(lr.panels),this._initialized=!0,lr.render().then(function(){or._plugins.forEach(function(_r){return _r.init(or)}),mr&&(or.trigger=br),or.trigger(new ComponentEvent$1(EVENTS.READY))})},ar.destroy=function(){this.off(),this._autoResizer.disable(),this._control.destroy(),this._camera.destroy(),this._renderer.destroy(),this._plugins.forEach(function(or){return or.destroy()}),this._initialized=!1},ar.prev=function(or){var ur,lr,xr;return or===void 0&&(or=this._duration),this.moveTo((xr=(lr=(ur=this._control.activePanel)===null||ur===void 0?void 0:ur.prev())===null||lr===void 0?void 0:lr.index)!==null&&xr!==void 0?xr:-1,or,DIRECTION.PREV)},ar.next=function(or){var ur,lr,xr;return or===void 0&&(or=this._duration),this.moveTo((xr=(lr=(ur=this._control.activePanel)===null||ur===void 0?void 0:ur.next())===null||lr===void 0?void 0:lr.index)!==null&&xr!==void 0?xr:this._renderer.panelCount,or,DIRECTION.NEXT)},ar.moveTo=function(or,ur,lr){ur===void 0&&(ur=this._duration),lr===void 0&&(lr=DIRECTION.NONE);var xr=this._renderer,pr=xr.panelCount,br=xr.getPanel(or);return br?this._control.animating?Promise.reject(new FlickingError(MESSAGE.ANIMATION_ALREADY_PLAYING,CODE.ANIMATION_ALREADY_PLAYING)):(this._control.holding&&this._control.controller.release(),this._control.moveToPanel(br,{duration:ur,direction:lr})):Promise.reject(new FlickingError(MESSAGE.INDEX_OUT_OF_RANGE(or,0,pr-1),CODE.INDEX_OUT_OF_RANGE))},ar.updateAnimation=function(or,ur,lr){if(this._control.animating){var xr=this._renderer,pr=xr.panelCount,br=xr.getPanel(or);if(!br)throw new FlickingError(MESSAGE.INDEX_OUT_OF_RANGE(or,0,pr-1),CODE.INDEX_OUT_OF_RANGE);this._control.updateAnimation(br,ur,lr)}},ar.stopAnimation=function(){this._control.animating&&this._control.stopAnimation()},ar.getPanel=function(or){return this._renderer.getPanel(or)},ar.enableInput=function(){return this._control.enable(),this},ar.disableInput=function(){return this._control.disable(),this},ar.getStatus=function(or){var ur,lr,xr=or===void 0?{}:or,pr=xr.index,br=pr===void 0?!0:pr,mr=xr.position,_r=mr===void 0?!0:mr,vr=xr.includePanelHTML,Er=vr===void 0?!1:vr,yr=xr.visiblePanelsOnly,Ir=yr===void 0?!1:yr,Ar=this._camera,kr=Ir?this.visiblePanels:this.panels,Or={panels:kr.map(function(Fr){var Lr={index:Fr.index};return Er&&(Lr.html=Fr.element.outerHTML),Lr})};if(br&&(Or.index=this.index),_r){var Dr=Ar.findNearestAnchor(Ar.position);Dr&&(Or.position={panel:Dr.panel.index,progressInPanel:Ar.getProgressInPanel(Dr.panel)})}if(Ir){var Rr=this.visiblePanels;Or.visibleOffset=(lr=(ur=Rr[0])===null||ur===void 0?void 0:ur.index)!==null&&lr!==void 0?lr:0}return Or},ar.setStatus=function(or){var ur;if(!this._initialized)throw new FlickingError(MESSAGE.NOT_INITIALIZED,CODE.NOT_INITIALIZED);var lr=or.index,xr=or.position,pr=or.visibleOffset,br=or.panels,mr=this._renderer,_r=this._control;if(!((ur=br[0])===null||ur===void 0)&&ur.html&&!this._renderExternal&&(mr.batchRemove({index:0,deleteCount:this.panels.length,hasDOMInElements:!0}),mr.batchInsert({index:0,elements:parseElement(br.map(function(kr){return kr.html})),hasDOMInElements:!0})),lr!=null){var vr=pr?lr-pr:lr;this.moveTo(vr,0).catch(function(){})}if(xr&&this._moveType===MOVE_TYPE.FREE_SCROLL){var Er=xr.panel,yr=xr.progressInPanel,vr=pr?Er-pr:Er,Ir=mr.panels[vr].range,Ar=Ir.min+(Ir.max-Ir.min)*yr;_r.moveToPosition(Ar,0).catch(function(){})}},ar.addPlugins=function(){for(var or,ur=this,lr=[],xr=0;xr<arguments.length;xr++)lr[xr]=arguments[xr];return this._initialized&&lr.forEach(function(pr){return pr.init(ur)}),(or=this._plugins).push.apply(or,__spread(lr)),this},ar.removePlugins=function(){for(var or=this,ur=[],lr=0;lr<arguments.length;lr++)ur[lr]=arguments[lr];return ur.forEach(function(xr){var pr=findIndex(or._plugins,function(br){return br===xr});pr>=0&&(xr.destroy(),or._plugins.splice(pr,1))}),this},ar.resize=function(){return __awaiter(this,void 0,void 0,function(){var or,ur,lr,xr,pr,br,mr,_r,vr,Er,yr;return __generator(this,function(Ir){switch(Ir.label){case 0:return or=this._viewport,ur=this._renderer,lr=this._camera,xr=this._control,pr=xr.activePanel,br=or.width,mr=or.height,_r=pr?lr.getProgressInPanel(pr):0,this.trigger(new ComponentEvent$1(EVENTS.BEFORE_RESIZE,{width:br,height:mr,element:or.element})),or.resize(),[4,ur.forceRenderAllPanels()];case 1:return Ir.sent(),this._initialized?(ur.updatePanelSize(),lr.updateAlignPos(),lr.updateRange(),lr.updateAnchors(),lr.updateAdaptiveHeight(),lr.updatePanelOrder(),lr.updateOffset(),[4,ur.render()]):[2];case 2:return Ir.sent(),this._initialized?(xr.animating||(xr.updatePosition(_r),xr.updateInput()),vr=or.width,Er=or.height,yr=vr!==br||Er!==mr,this.trigger(new ComponentEvent$1(EVENTS.AFTER_RESIZE,{width:or.width,height:or.height,prev:{width:br,height:mr},sizeChanged:yr,element:or.element})),[2]):[2]}})})},ar.append=function(or){return this.insert(this._renderer.panelCount,or)},ar.prepend=function(or){return this.insert(0,or)},ar.insert=function(or,ur){if(this._renderExternal)throw new FlickingError(MESSAGE.NOT_ALLOWED_IN_FRAMEWORK,CODE.NOT_ALLOWED_IN_FRAMEWORK);return this._renderer.batchInsert({index:or,elements:parseElement(ur),hasDOMInElements:!0})},ar.remove=function(or,ur){if(ur===void 0&&(ur=1),this._renderExternal)throw new FlickingError(MESSAGE.NOT_ALLOWED_IN_FRAMEWORK,CODE.NOT_ALLOWED_IN_FRAMEWORK);return this._renderer.batchRemove({index:or,deleteCount:ur,hasDOMInElements:!0})},ar._createControl=function(){var or,ur=this._moveType,lr=Object.keys(MOVE_TYPE).map(function(br){return MOVE_TYPE[br]}),xr=Array.isArray(ur)?ur[0]:ur,pr=Array.isArray(ur)?(or=ur[1])!==null&&or!==void 0?or:{}:{};if(!includes(lr,xr))throw new FlickingError(MESSAGE.WRONG_OPTION("moveType",JSON.stringify(ur)),CODE.WRONG_OPTION);switch(xr){case MOVE_TYPE.SNAP:return new SnapControl(pr);case MOVE_TYPE.FREE_SCROLL:return new FreeControl(pr);case MOVE_TYPE.STRICT:return new StrictControl(pr)}},ar._createCamera=function(){return this._circular&&this._bound&&console.warn('"circular" and "bound" option cannot be used together, ignoring bound.'),new Camera(this,{align:this._align})},ar._createRenderer=function(){var or=this._externalRenderer;return this._virtual&&this._panelsPerView<=0&&console.warn('"virtual" and "panelsPerView" option should be used together, ignoring virtual.'),or||(this._renderExternal?this._createExternalRenderer():this._createVanillaRenderer())},ar._createExternalRenderer=function(){var or=this._renderExternal,ur=or.renderer,lr=or.rendererOptions;return new ur(__assign({align:this._align},lr))},ar._createVanillaRenderer=function(){var or=this.virtualEnabled;return new VanillaRenderer({align:this._align,strategy:or?new VirtualRenderingStrategy:new NormalRenderingStrategy({providerCtor:VanillaElementProvider})})},ar._moveToInitialPanel=function(){var or=this._renderer,ur=this._control,lr=this._camera,xr=or.getPanel(this._defaultIndex)||or.getPanel(0);if(xr){var pr=lr.findNearestAnchor(xr.position),br=pr&&xr.index!==pr.panel.index?pr.panel:xr;if(ur.setActive(br,null,!1),!pr)throw new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(br.position),CODE.POSITION_NOT_REACHABLE);var mr=br.position;lr.canReach(br)||(mr=pr.position),lr.lookAt(mr),ur.updateInput(),lr.updateOffset()}},ar._initialResize=function(){var or=this._viewport,ur=this._renderer,lr=this._camera,xr=this._control;this.trigger(new ComponentEvent$1(EVENTS.BEFORE_RESIZE,{width:0,height:0,element:or.element})),or.resize(),ur.updatePanelSize(),lr.updateAlignPos(),lr.updateRange(),lr.updateAnchors(),lr.updateOffset(),xr.updateInput();var pr=or.width,br=or.height,mr=pr!==0||br!==0;this.trigger(new ComponentEvent$1(EVENTS.AFTER_RESIZE,{width:or.width,height:or.height,prev:{width:0,height:0},sizeChanged:mr,element:or.element}))},cr.VERSION="4.11.4",cr}(Component);const flicking="",scriptRel="modulepreload",assetsURL=function(fr){return"/vme/"+fr},seen={},__vitePreload=function(cr,ar,or){if(!ar||ar.length===0)return cr();const ur=document.getElementsByTagName("link");return Promise.all(ar.map(lr=>{if(lr=assetsURL(lr),lr in seen)return;seen[lr]=!0;const xr=lr.endsWith(".css"),pr=xr?'[rel="stylesheet"]':"";if(!!or)for(let _r=ur.length-1;_r>=0;_r--){const vr=ur[_r];if(vr.href===lr&&(!xr||vr.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${lr}"]${pr}`))return;const mr=document.createElement("link");if(mr.rel=xr?"stylesheet":scriptRel,xr||(mr.as="script",mr.crossOrigin=""),mr.href=lr,document.head.appendChild(mr),xr)return new Promise((_r,vr)=>{mr.addEventListener("load",_r),mr.addEventListener("error",()=>vr(new Error(`Unable to preload CSS for ${lr}`)))})})).then(()=>cr()).catch(lr=>{const xr=new Event("vite:preloadError",{cancelable:!0});if(xr.payload=lr,window.dispatchEvent(xr),!xr.defaultPrevented)throw lr})};var __defProp=Object.defineProperty,__defNormalProp=(fr,cr,ar)=>cr in fr?__defProp(fr,cr,{enumerable:!0,configurable:!0,writable:!0,value:ar}):fr[cr]=ar,__publicField=(fr,cr,ar)=>(__defNormalProp(fr,typeof cr!="symbol"?cr+"":cr,ar),ar);function _mergeNamespaces(fr,cr){for(var ar=0;ar<cr.length;ar++){const or=cr[ar];if(typeof or!="string"&&!Array.isArray(or)){for(const ur in or)if(ur!=="default"&&!(ur in fr)){const lr=Object.getOwnPropertyDescriptor(or,ur);lr&&Object.defineProperty(fr,ur,lr.get?lr:{enumerable:!0,get:()=>or[ur]})}}}return Object.freeze(Object.defineProperty(fr,Symbol.toStringTag,{value:"Module"}))}const systemCoreMap={gb:"mgba",gba:"mgba",gbc:"mgba",megadrive:"genesis_plus_gx",nes:"fceumm",snes:"snes9x"};var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(fr){return fr&&fr.__esModule&&Object.prototype.hasOwnProperty.call(fr,"default")?fr.default:fr}const{hasOwnProperty}=Object.prototype,encode=(fr,cr={})=>{typeof cr=="string"&&(cr={section:cr}),cr.align=cr.align===!0,cr.newline=cr.newline===!0,cr.sort=cr.sort===!0,cr.whitespace=cr.whitespace===!0||cr.align===!0,cr.platform=cr.platform||typeof process<"u"&&process.platform,cr.bracketedArray=cr.bracketedArray!==!1;const ar=cr.platform==="win32"?`\r
`:`
`,or=cr.whitespace?" = ":"=",ur=[],lr=cr.sort?Object.keys(fr).sort():Object.keys(fr);let xr=0;cr.align&&(xr=safe(lr.filter(mr=>fr[mr]===null||Array.isArray(fr[mr])||typeof fr[mr]!="object").map(mr=>Array.isArray(fr[mr])?`${mr}[]`:mr).concat([""]).reduce((mr,_r)=>safe(mr).length>=safe(_r).length?mr:_r)).length);let pr="";const br=cr.bracketedArray?"[]":"";for(const mr of lr){const _r=fr[mr];if(_r&&Array.isArray(_r))for(const vr of _r)pr+=safe(`${mr}${br}`).padEnd(xr," ")+or+safe(vr)+ar;else _r&&typeof _r=="object"?ur.push(mr):pr+=safe(mr).padEnd(xr," ")+or+safe(_r)+ar}cr.section&&pr.length&&(pr="["+safe(cr.section)+"]"+(cr.newline?ar+ar:ar)+pr);for(const mr of ur){const _r=splitSections(mr,".").join("\\."),vr=(cr.section?cr.section+".":"")+_r,Er=encode(fr[mr],{...cr,section:vr});pr.length&&Er.length&&(pr+=ar),pr+=Er}return pr};function splitSections(fr,cr){var ar=0,or=0,ur=0,lr=[];do if(ur=fr.indexOf(cr,ar),ur!==-1){if(ar=ur+cr.length,ur>0&&fr[ur-1]==="\\")continue;lr.push(fr.slice(or,ur)),or=ur+cr.length}while(ur!==-1);return lr.push(fr.slice(or)),lr}const decode=(fr,cr={})=>{cr.bracketedArray=cr.bracketedArray!==!1;const ar=Object.create(null);let or=ar,ur=null;const lr=/^\[([^\]]*)\]\s*$|^([^=]+)(=(.*))?$/i,xr=fr.split(/[\r\n]+/g),pr={};for(const mr of xr){if(!mr||mr.match(/^\s*[;#]/)||mr.match(/^\s*$/))continue;const _r=mr.match(lr);if(!_r)continue;if(_r[1]!==void 0){if(ur=unsafe(_r[1]),ur==="__proto__"){or=Object.create(null);continue}or=ar[ur]=ar[ur]||Object.create(null);continue}const vr=unsafe(_r[2]);let Er;cr.bracketedArray?Er=vr.length>2&&vr.slice(-2)==="[]":(pr[vr]=((pr==null?void 0:pr[vr])||0)+1,Er=pr[vr]>1);const yr=Er?vr.slice(0,-2):vr;if(yr==="__proto__")continue;const Ir=_r[3]?unsafe(_r[4]):!0,Ar=Ir==="true"||Ir==="false"||Ir==="null"?JSON.parse(Ir):Ir;Er&&(hasOwnProperty.call(or,yr)?Array.isArray(or[yr])||(or[yr]=[or[yr]]):or[yr]=[]),Array.isArray(or[yr])?or[yr].push(Ar):or[yr]=Ar}const br=[];for(const mr of Object.keys(ar)){if(!hasOwnProperty.call(ar,mr)||typeof ar[mr]!="object"||Array.isArray(ar[mr]))continue;const _r=splitSections(mr,".");or=ar;const vr=_r.pop(),Er=vr.replace(/\\\./g,".");for(const yr of _r)yr!=="__proto__"&&((!hasOwnProperty.call(or,yr)||typeof or[yr]!="object")&&(or[yr]=Object.create(null)),or=or[yr]);or===ar&&Er===vr||(or[Er]=ar[mr],br.push(mr))}for(const mr of br)delete ar[mr];return ar},isQuoted=fr=>fr.startsWith('"')&&fr.endsWith('"')||fr.startsWith("'")&&fr.endsWith("'"),safe=fr=>typeof fr!="string"||fr.match(/[=\r\n]/)||fr.match(/^\[/)||fr.length>1&&isQuoted(fr)||fr!==fr.trim()?JSON.stringify(fr):fr.split(";").join("\\;").split("#").join("\\#"),unsafe=fr=>{if(fr=(fr||"").trim(),isQuoted(fr)){fr.charAt(0)==="'"&&(fr=fr.slice(1,-1));try{fr=JSON.parse(fr)}catch{}}else{let cr=!1,ar="";for(let or=0,ur=fr.length;or<ur;or++){const lr=fr.charAt(or);if(cr)"\\;#".indexOf(lr)!==-1?ar+=lr:ar+="\\"+lr,cr=!1;else{if(";#".indexOf(lr)!==-1)break;lr==="\\"?cr=!0:ar+=lr}}return cr&&(ar+="\\"),ar.trim()}return fr};var ini={parse:decode,decode,stringify:encode,encode,safe,unsafe};const ini$1=getDefaultExportFromCjs(ini),coreInfoMap={81:{corename:"81",savestate:!0},2048:{corename:"2048",savestate:!0,supportsNoGame:!0},"3dengine":{corename:"3DEngine"},"4do":{corename:"4DO",savestate:!0},a5200:{corename:"a5200",savestate:!0},advanced_tests:{corename:"Advanced Test",supportsNoGame:!0},ardens:{corename:"Ardens",savestate:!0},arduous:{corename:"Arduous"},atari800:{corename:"Atari800",savestate:!0},bk:{corename:"bk",savestate:!0},blastem:{corename:"BlastEm",savestate:!0},bluemsx:{corename:"blueMSX",savestate:!0},bnes:{corename:"bnes/higan",savestate:!0},boom3:{corename:"boom3"},boom3_xp:{corename:"boom3_xp"},bsnes_cplusplus98:{cheats:!0,corename:"bsnes C++98 (v085)",savestate:!0},bsnes_hd_beta:{corename:"bsnes-hd beta",savestate:!0},bsnes:{corename:"bsnes",savestate:!0},bsnes_mercury_accuracy:{cheats:!0,corename:"bsnes-mercury Accuracy",savestate:!0},bsnes_mercury_balanced:{cheats:!0,corename:"bsnes-mercury Balanced",savestate:!0},bsnes_mercury_performance:{cheats:!0,corename:"bsnes-mercury Performance",savestate:!0},bsnes2014_accuracy:{cheats:!0,corename:"bsnes 2014 Accuracy",savestate:!0},bsnes2014_balanced:{cheats:!0,corename:"bsnes 2014 Balanced",savestate:!0},bsnes2014_performance:{cheats:!0,corename:"bsnes 2014 Performance",savestate:!0},cannonball:{corename:"Cannonball",supportsNoGame:!0},cap32:{corename:"Caprice32",savestate:!0,supportsNoGame:!0},cdi2015:{corename:"Philips CDi 2015"},chailove:{cheats:!0,corename:"ChaiLove",savestate:!0},chimerasnes:{cheats:!0,corename:"ChimeraSNES",savestate:!0},citra_canary:{corename:"Citra Canary/Experimental"},citra:{corename:"Citra",savestate:!0},citra2018:{corename:"Citra 2018"},craft:{corename:"Craft",supportsNoGame:!0},crocods:{corename:"CrocoDS",savestate:!0},cruzes:{corename:"Cruzes",supportsNoGame:!0},daphne:{corename:"Daphne"},desmume:{cheats:!0,corename:"DeSmuME",savestate:!0},desmume2015:{cheats:!0,corename:"DeSmuME 2015",savestate:!0},dinothawr:{corename:"Dinothawr",supportsNoGame:!0},directxbox:{corename:"DirectXBox"},dirksimple:{corename:"DirkSimple",savestate:!0},dolphin_launcher:{corename:"Dolphin Launcher",supportsNoGame:!0},dolphin:{corename:"Dolphin",savestate:!0},dosbox_core:{corename:"DOSBox-core",supportsNoGame:!0},dosbox:{corename:"DOSBox",supportsNoGame:!0},dosbox_pure:{cheats:!0,corename:"DOSBox-pure",savestate:!0,supportsNoGame:!0},dosbox_svn_ce:{corename:"DOSBox-SVN CE",supportsNoGame:!0},dosbox_svn:{corename:"DOSBox-SVN",supportsNoGame:!0},duckstation:{corename:"DuckStation",savestate:!0},easyrpg:{corename:"EasyRPG Player"},ecwolf:{corename:"ECWolf",savestate:!0},emuscv:{corename:"EmuSCV",supportsNoGame:!0},emux_chip8:{corename:"Emux CHIP-8"},emux_gb:{corename:"Emux GB"},emux_nes:{corename:"Emux NES"},emux_sms:{corename:"Emux SMS"},ep128emu_core:{cheats:!0,corename:"ep128emu-core",savestate:!0,supportsNoGame:!0},fake08:{corename:"FAKE-08",savestate:!0},fbalpha2012_cps1:{corename:"FB Alpha 2012 CPS-1",savestate:!0},fbalpha2012_cps2:{corename:"FB Alpha 2012 CPS-2",savestate:!0},fbalpha2012_cps3:{corename:"FB Alpha 2012 CPS-3",savestate:!0},fbalpha2012:{corename:"FB Alpha 2012",savestate:!0},fbalpha2012_neogeo:{corename:"FB Alpha 2012 Neo Geo",savestate:!0},fbneo:{cheats:!0,corename:"FinalBurn Neo",savestate:!0},fceumm:{cheats:!0,corename:"FCEUmm",savestate:!0},ffmpeg:{corename:"FFmpeg"},fixgb:{corename:"fixGB"},fixnes:{corename:"fixNES"},flycast_gles2:{corename:"Flycast GLES2",savestate:!0},flycast:{corename:"Flycast",savestate:!0},fmsx:{corename:"fMSX"},freechaf:{corename:"FreeChaF"},freeintv:{corename:"FreeIntv"},freej2me:{corename:"FreeJ2ME"},frodo:{corename:"Frodo"},fsuae:{corename:"FS-UAE"},fuse:{corename:"Fuse"},galaksija:{corename:"galaksija",supportsNoGame:!0},gambatte:{corename:"Gambatte",savestate:!0},gearboy:{corename:"Gearboy"},gearcoleco:{corename:"Gearcoleco"},gearsystem:{corename:"Gearsystem"},genesis_plus_gx:{cheats:!0,corename:"Genesis Plus GX",savestate:!0},genesis_plus_gx_wide:{cheats:!0,corename:"Genesis Plus GX Wide",savestate:!0},gme:{corename:"Game Music Emu"},gong:{corename:"Gong",savestate:!0,supportsNoGame:!0},gpsp:{corename:"gpSP",savestate:!0},gw:{corename:"GW"},handy:{corename:"Handy",savestate:!0},hatari:{corename:"Hatari",savestate:!0},hbmame:{corename:"HBMAME (Git)"},higan_sfc_balanced:{corename:"nSide (Super Famicom Balanced)",savestate:!0},higan_sfc:{corename:"nSide (Super Famicom Accuracy)",savestate:!0},imageviewer:{corename:"Imageviewer"},ishiiruka:{corename:"Ishiiruka",savestate:!0},jaxe:{corename:"JAXE"},jumpnbump:{corename:"jumpnbump"},kronos:{cheats:!0,corename:"Kronos",savestate:!0},lowresnx:{corename:"lowresnx"},lutro:{corename:"Lutro"},mame:{corename:"MAME",savestate:!0},mame2000:{corename:"MAME 2000 (0.37b5)",savestate:!0},mame2003:{corename:"MAME 2003 (0.78)",savestate:!0},mame2003_midway:{corename:"MAME 2003 Midway (0.78)",savestate:!0},mame2003_plus:{corename:"MAME 2003-Plus",savestate:!0},mame2009:{corename:"MAME 2009 (0.135u4)"},mame2010:{corename:"MAME 2010 (0.139)"},mame2015:{corename:"MAME 2015 (0.160)"},mame2016:{corename:"MAME 2016 (0.174)"},mamearcade:{corename:"MAME (Git)"},mamemess:{corename:"MESS (Git)",savestate:!0},mednafen_gba:{corename:"Beetle GBA"},mednafen_lynx:{corename:"Beetle Lynx"},mednafen_ngp:{corename:"Beetle NeoPop",savestate:!0},mednafen_pce_fast:{corename:"Beetle PCE Fast",savestate:!0},mednafen_pce:{corename:"Beetle PCE",savestate:!0},mednafen_pcfx:{corename:"Beetle PC-FX"},mednafen_psx_hw:{cheats:!0,corename:"Beetle PSX HW",savestate:!0},mednafen_psx:{cheats:!0,corename:"Beetle PSX",savestate:!0},mednafen_saturn:{cheats:!0,corename:"Beetle Saturn",savestate:!0},mednafen_snes:{corename:"Beetle bsnes",savestate:!0},mednafen_supafaust:{cheats:!0,corename:"Beetle Supafaust",savestate:!0},mednafen_supergrafx:{cheats:!0,corename:"Beetle SuperGrafx",savestate:!0},mednafen_vb:{corename:"Beetle VB"},mednafen_wswan:{corename:"Beetle WonderSwan",savestate:!0},melonds:{corename:"melonDS"},mesen:{cheats:!0,corename:"Mesen",savestate:!0},"mesen-s":{corename:"Mesen-S"},mess2015:{corename:"MESS 2015 (0.160)"},meteor:{corename:"Meteor"},mgba:{cheats:!0,corename:"mGBA",savestate:!0},minivmac:{corename:"MinivmacII"},mojozork:{corename:"mojozork",savestate:!0},moonlight:{corename:"Moonlight",supportsNoGame:!0},mpv:{corename:"MPV"},mrboom:{corename:"Mr.Boom",savestate:!0,supportsNoGame:!0},mu:{corename:"Mu",supportsNoGame:!0},mupen64plus_next_develop:{cheats:!0,corename:"Mupen64Plus-Next",savestate:!0},mupen64plus_next_gles2:{cheats:!0,corename:"Mupen64Plus-Next",savestate:!0},mupen64plus_next_gles3:{cheats:!0,corename:"Mupen64Plus-Next",savestate:!0},mupen64plus_next:{cheats:!0,corename:"Mupen64Plus-Next",savestate:!0},nekop2:{corename:"Neko Project II",savestate:!0},neocd:{corename:"NeoCD"},nes:{corename:"nes",savestate:!0},nestopia:{cheats:!0,corename:"Nestopia",savestate:!0},np2kai:{corename:"Neko Project II Kai",savestate:!0},numero:{corename:"Numero",savestate:!0,supportsNoGame:!0},nxengine:{corename:"NXEngine",supportsNoGame:!0},o2em:{corename:"O2EM",savestate:!0},oberon:{corename:"Oberon"},openlara:{corename:"OpenLara"},opentyrian:{corename:"OpenTyrian",supportsNoGame:!0},opera:{corename:"Opera",savestate:!0,supportsNoGame:!0},parallel_n64_debug:{corename:"ParaLLEl (Debug)",savestate:!0},parallel_n64:{corename:"ParaLLEl N64",savestate:!0},pascal_pong:{corename:"PascalPong",supportsNoGame:!0},pcem:{corename:"PCem",supportsNoGame:!0},pcsx_rearmed_interpreter:{cheats:!0,corename:"PCSX ReARMed [Interpreter]",savestate:!0},pcsx_rearmed:{cheats:!0,corename:"PCSX-ReARMed",savestate:!0},pcsx_rearmed_neon:{cheats:!0,corename:"PCSX ReARMed [NEON]",savestate:!0},pcsx1:{corename:"PCSX1"},pcsx2:{corename:"LRPS2",savestate:!0},picodrive:{cheats:!0,corename:"PicoDrive",savestate:!0},play:{corename:"Play!",savestate:!0},pocketcdg:{corename:"PocketCDG"},pokemini:{corename:"PokeMini",savestate:!0},potator:{corename:"Potator",savestate:!0},ppsspp:{corename:"PPSSPP",savestate:!0},prboom:{cheats:!0,corename:"PrBoom",savestate:!0},prosystem:{corename:"ProSystem",savestate:!0},puae:{cheats:!0,corename:"PUAE",savestate:!0,supportsNoGame:!0},puae2021:{cheats:!0,corename:"PUAE 2021",savestate:!0,supportsNoGame:!0},puzzlescript:{corename:"puzzlescript",savestate:!0},px68k:{corename:"PX68k",supportsNoGame:!0},quasi88:{cheats:!0,corename:"QUASI88",savestate:!0,supportsNoGame:!0},quicknes:{corename:"QuickNES",savestate:!0},race:{corename:"RACE",savestate:!0},redbook:{corename:"Redbook"},reminiscence:{corename:"REminiscence",savestate:!0},remotejoy:{corename:"RemoteJoy",supportsNoGame:!0},retro8:{corename:"Retro8"},retrodream:{corename:"RetroDream"},rustation:{corename:"Rustation"},same_cdi:{corename:"SAME CDi (Git)"},sameboy:{corename:"SameBoy"},sameduck:{corename:"SameDuck",savestate:!0},scummvm:{corename:"ScummVM",supportsNoGame:!0},simcp:{corename:"SimCoupe"},smsplus:{corename:"SMS Plus GX"},snes9x:{cheats:!0,corename:"Snes9x",savestate:!0},snes9x2002:{cheats:!0,corename:"Snes9x 2002",savestate:!0},snes9x2005:{cheats:!0,corename:"Snes9x 2005",savestate:!0},snes9x2005_plus:{cheats:!0,corename:"Snes9x 2005 Plus",savestate:!0},snes9x2010:{cheats:!0,corename:"Snes9x 2010",savestate:!0},squirreljme:{corename:"SquirrelJME",supportsNoGame:!0},stella:{corename:"Stella",savestate:!0},stella2014:{corename:"Stella 2014",savestate:!0},stonesoup:{corename:"Dungeon Crawl Stone Soup"},superbroswar:{corename:"superbroswar"},swanstation:{corename:"SwanStation",savestate:!0},tempgba:{corename:"TempGBA"},test:{corename:"Test",supportsNoGame:!0},test_netplay:{corename:"netplay-test",supportsNoGame:!0},testaudio_callback:{corename:"TestAudio Callback",supportsNoGame:!0},testaudio_no_callback:{corename:"TestAudio NoCallback",supportsNoGame:!0},testaudio_playback_wav:{corename:"TestAudio Playback Wav",supportsNoGame:!0},testgl_compute_shaders:{corename:"TestGL ComputeShaders",supportsNoGame:!0},testgl_ff:{corename:"TestGL (FF)",supportsNoGame:!0},testgl:{corename:"TestGL",supportsNoGame:!0},testinput_buttontest:{corename:"Button Test",supportsNoGame:!0},testretroluxury:{corename:"Test RetroLuxury",supportsNoGame:!0},testsw:{corename:"TestSW",supportsNoGame:!0},testsw_vram:{corename:"TestSW VRAM",supportsNoGame:!0},testvulkan_async_compute:{corename:"TestVulkan AsyncCompute",supportsNoGame:!0},testvulkan:{corename:"TestVulkan",supportsNoGame:!0},tgbdual:{corename:"TGB Dual",savestate:!0},theodore:{corename:"theodore",savestate:!0,supportsNoGame:!0},thepowdertoy:{corename:"ThePowderToy",savestate:!0,supportsNoGame:!0},tic80:{cheats:!0,corename:"TIC-80",savestate:!0},tyrquake:{cheats:!0,corename:"TyrQuake"},uae4arm:{corename:"UAE4ARM",savestate:!0},ume2015:{corename:"UME 2015 (0.160)"},uw8:{corename:"MicroW8",savestate:!0},uzem:{corename:"uzem",savestate:!0},vaporspec:{corename:"VaporSpec",savestate:!0},vba_next:{corename:"VBA Next",savestate:!0},vbam:{cheats:!0,corename:"VBA-M",savestate:!0},vecx:{corename:"vecx",savestate:!0},vemulator:{corename:"VeMUlator"},vice_x128:{cheats:!0,corename:"VICE x128",savestate:!0,supportsNoGame:!0},vice_x64:{cheats:!0,corename:"VICE x64",savestate:!0,supportsNoGame:!0},vice_x64dtv:{cheats:!0,corename:"VICE x64dtv",savestate:!0,supportsNoGame:!0},vice_x64sc:{cheats:!0,corename:"VICE x64sc",savestate:!0,supportsNoGame:!0},vice_xcbm2:{cheats:!0,corename:"VICE xcbm2",savestate:!0,supportsNoGame:!0},vice_xcbm5x0:{cheats:!0,corename:"VICE xcbm5x0",savestate:!0,supportsNoGame:!0},vice_xpet:{cheats:!0,corename:"VICE xpet",savestate:!0,supportsNoGame:!0},vice_xplus4:{cheats:!0,corename:"VICE xplus4",savestate:!0,supportsNoGame:!0},vice_xscpu64:{cheats:!0,corename:"VICE xscpu64",savestate:!0,supportsNoGame:!0},vice_xvic:{cheats:!0,corename:"VICE xvic",savestate:!0,supportsNoGame:!0},vircon32:{corename:"Vircon32",supportsNoGame:!0},virtualjaguar:{corename:"Virtual Jaguar"},virtualxt:{corename:"virtualxt"},vitaquake2:{corename:"vitaQuake 2"},"vitaquake2-rogue":{corename:"vitaQuake 2 [Rogue]"},"vitaquake2-xatrix":{corename:"vitaQuake 2 [Xatrix]"},"vitaquake2-zaero":{corename:"vitaQuake 2 [Zaero]"},vitaquake3:{corename:"vitaQuake 3"},vitavoyager:{corename:"vitaVoyager"},wasm4:{corename:"WASM-4",savestate:!0},x1:{corename:"x1"},x64sdl:{corename:"VICE SDL"},xrick:{corename:"XRick",supportsNoGame:!0},yabasanshiro:{cheats:!0,corename:"YabaSanshiro",savestate:!0},yabause:{cheats:!0,corename:"Yabause",savestate:!0}},keyboardCodeMap={left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown",enter:"Enter",kp_enter:"NumpadEnter",tab:"Tab",insert:"Insert",del:"Delete",end:"End",home:"Home",shift:"ShiftLeft",rshift:"ShiftRight",ctrl:"ControlLeft",alt:"AltLeft",space:"Space",escape:"Escape",add:"NumpadAdd",subtract:"NumpadSubtract",kp_plus:"NumpadAdd",kp_minus:"NumpadSubtract",pageup:"PageUp",pagedown:"PageDown",period:"Period",capslock:"CapsLock",numlock:"NumLock",backspace:"Backspace",multiply:"NumpadMultiply",divide:"NumpadDivide",print_screen:"PrintScreen",scroll_lock:"ScrollLock",tilde:"",backquote:"Backquote",pause:"Pause",quote:"Quote",comma:"Comma",minus:"Minus",slash:"Slash",semicolon:"Semicolon",equals:"Equal",leftbracket:"BracketLeft",backslash:"",rightbracket:"BracketRight",kp_period:"NumpadDecimal",kp_equals:"NumpadEquals",rctrl:"ControlRight",ralt:"AltRight"};var browserfs$2={exports:{}};(function(fr,cr){(function(or,ur){fr.exports=ur()})(commonjsGlobal,function(){return function(ar){var or={};function ur(lr){if(or[lr])return or[lr].exports;var xr=or[lr]={exports:{},id:lr,loaded:!1};return ar[lr].call(xr.exports,xr,xr.exports,ur),xr.loaded=!0,xr.exports}return ur.m=ar,ur.c=or,ur.p="",ur(0)}([function(ar,or,ur){(function(lr,xr,pr,br){Object.defineProperty(or,"__esModule",{value:!0});var mr=ur(2),_r=ur(9),vr;(function(wr){wr[wr.EPERM=1]="EPERM",wr[wr.ENOENT=2]="ENOENT",wr[wr.EIO=5]="EIO",wr[wr.EBADF=9]="EBADF",wr[wr.EACCES=13]="EACCES",wr[wr.EBUSY=16]="EBUSY",wr[wr.EEXIST=17]="EEXIST",wr[wr.ENOTDIR=20]="ENOTDIR",wr[wr.EISDIR=21]="EISDIR",wr[wr.EINVAL=22]="EINVAL",wr[wr.EFBIG=27]="EFBIG",wr[wr.ENOSPC=28]="ENOSPC",wr[wr.EROFS=30]="EROFS",wr[wr.ENOTEMPTY=39]="ENOTEMPTY",wr[wr.ENOTSUP=95]="ENOTSUP"})(vr||(vr={}));var Er={};Er[vr.EPERM]="Operation not permitted.",Er[vr.ENOENT]="No such file or directory.",Er[vr.EIO]="Input/output error.",Er[vr.EBADF]="Bad file descriptor.",Er[vr.EACCES]="Permission denied.",Er[vr.EBUSY]="Resource busy or locked.",Er[vr.EEXIST]="File exists.",Er[vr.ENOTDIR]="File is not a directory.",Er[vr.EISDIR]="File is a directory.",Er[vr.EINVAL]="Invalid argument.",Er[vr.EFBIG]="File is too big.",Er[vr.ENOSPC]="No space left on disk.",Er[vr.EROFS]="Cannot modify a read-only file system.",Er[vr.ENOTEMPTY]="Directory is not empty.",Er[vr.ENOTSUP]="Operation is not supported.";var yr=function(wr){function dr(gr,hr,Sr){hr===void 0&&(hr=Er[gr]),wr.call(this,hr),this.syscall="",this.errno=gr,this.code=vr[gr],this.path=Sr,this.stack=new wr().stack,this.message="Error: "+this.code+": "+hr+(this.path?", '"+this.path+"'":"")}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.fromJSON=function(hr){var Sr=new dr(0);return Sr.errno=hr.errno,Sr.code=hr.code,Sr.path=hr.path,Sr.stack=hr.stack,Sr.message=hr.message,Sr},dr.fromBuffer=function(hr,Sr){return Sr===void 0&&(Sr=0),dr.fromJSON(JSON.parse(hr.toString("utf8",Sr+4,Sr+4+hr.readUInt32LE(Sr))))},dr.FileError=function(hr,Sr){return new dr(hr,Er[hr],Sr)},dr.ENOENT=function(hr){return this.FileError(vr.ENOENT,hr)},dr.EEXIST=function(hr){return this.FileError(vr.EEXIST,hr)},dr.EISDIR=function(hr){return this.FileError(vr.EISDIR,hr)},dr.ENOTDIR=function(hr){return this.FileError(vr.ENOTDIR,hr)},dr.EPERM=function(hr){return this.FileError(vr.EPERM,hr)},dr.ENOTEMPTY=function(hr){return this.FileError(vr.ENOTEMPTY,hr)},dr.prototype.toString=function(){return this.message},dr.prototype.toJSON=function(){return{errno:this.errno,code:this.code,path:this.path,stack:this.stack,message:this.message}},dr.prototype.writeToBuffer=function(hr,Sr){hr===void 0&&(hr=lr.alloc(this.bufferSize())),Sr===void 0&&(Sr=0);var Cr=hr.write(JSON.stringify(this.toJSON()),Sr+4);return hr.writeUInt32LE(Cr,Sr),hr},dr.prototype.bufferSize=function(){return 4+lr.byteLength(JSON.stringify(this.toJSON()))},dr}(Error),Ir=Object.freeze({get ErrorCode(){return vr},ErrorStrings:Er,ApiError:yr}),Ar;(function(wr){wr[wr.NOP=0]="NOP",wr[wr.THROW_EXCEPTION=1]="THROW_EXCEPTION",wr[wr.TRUNCATE_FILE=2]="TRUNCATE_FILE",wr[wr.CREATE_FILE=3]="CREATE_FILE"})(Ar||(Ar={}));var kr=function wr(dr){if(this.flagStr=dr,wr.validFlagStrs.indexOf(dr)<0)throw new yr(vr.EINVAL,"Invalid flag: "+dr)};kr.getFileFlag=function(dr){return kr.flagCache.hasOwnProperty(dr)?kr.flagCache[dr]:kr.flagCache[dr]=new kr(dr)},kr.prototype.getFlagString=function(){return this.flagStr},kr.prototype.isReadable=function(){return this.flagStr.indexOf("r")!==-1||this.flagStr.indexOf("+")!==-1},kr.prototype.isWriteable=function(){return this.flagStr.indexOf("w")!==-1||this.flagStr.indexOf("a")!==-1||this.flagStr.indexOf("+")!==-1},kr.prototype.isTruncating=function(){return this.flagStr.indexOf("w")!==-1},kr.prototype.isAppendable=function(){return this.flagStr.indexOf("a")!==-1},kr.prototype.isSynchronous=function(){return this.flagStr.indexOf("s")!==-1},kr.prototype.isExclusive=function(){return this.flagStr.indexOf("x")!==-1},kr.prototype.pathExistsAction=function(){return this.isExclusive()?Ar.THROW_EXCEPTION:this.isTruncating()?Ar.TRUNCATE_FILE:Ar.NOP},kr.prototype.pathNotExistsAction=function(){return(this.isWriteable()||this.isAppendable())&&this.flagStr!=="r+"?Ar.CREATE_FILE:Ar.THROW_EXCEPTION},kr.flagCache={},kr.validFlagStrs=["r","r+","rs","rs+","w","wx","w+","wx+","a","ax","a+","ax+"];var Or;(function(wr){wr[wr.FILE=32768]="FILE",wr[wr.DIRECTORY=16384]="DIRECTORY",wr[wr.SYMLINK=40960]="SYMLINK"})(Or||(Or={}));var Dr=function(dr,gr,hr,Sr,Cr,Tr){if(Sr===void 0&&(Sr=new Date),Cr===void 0&&(Cr=new Date),Tr===void 0&&(Tr=new Date),this.size=gr,this.atime=Sr,this.mtime=Cr,this.ctime=Tr,this.dev=0,this.ino=0,this.rdev=0,this.nlink=1,this.blksize=4096,this.uid=0,this.gid=0,this.birthtime=new Date(0),this.fileData=null,hr)this.mode=hr;else switch(dr){case Or.FILE:this.mode=420;break;case Or.DIRECTORY:default:this.mode=511}this.blocks=Math.ceil(gr/512),this.mode<4096&&(this.mode|=dr)};Dr.fromBuffer=function(dr){var gr=dr.readUInt32LE(0),hr=dr.readUInt32LE(4),Sr=dr.readDoubleLE(8),Cr=dr.readDoubleLE(16),Tr=dr.readDoubleLE(24);return new Dr(hr&61440,gr,hr&4095,new Date(Sr),new Date(Cr),new Date(Tr))},Dr.prototype.toBuffer=function(){var dr=lr.alloc(32);return dr.writeUInt32LE(this.size,0),dr.writeUInt32LE(this.mode,4),dr.writeDoubleLE(this.atime.getTime(),8),dr.writeDoubleLE(this.mtime.getTime(),16),dr.writeDoubleLE(this.ctime.getTime(),24),dr},Dr.prototype.clone=function(){return new Dr(this.mode&61440,this.size,this.mode&4095,this.atime,this.mtime,this.ctime)},Dr.prototype.isFile=function(){return(this.mode&61440)===Or.FILE},Dr.prototype.isDirectory=function(){return(this.mode&61440)===Or.DIRECTORY},Dr.prototype.isSymbolicLink=function(){return(this.mode&61440)===Or.SYMLINK},Dr.prototype.chmod=function(dr){this.mode=this.mode&61440|dr},Dr.prototype.isSocket=function(){return!1},Dr.prototype.isBlockDevice=function(){return!1},Dr.prototype.isCharacterDevice=function(){return!1},Dr.prototype.isFIFO=function(){return!1};var Rr=function(wr,dr){return wr};function Fr(wr){if(wr)return wr;throw new yr(vr.EIO,"Initialize BrowserFS with a file system using BrowserFS.initialize(filesystem)")}function Lr(wr,dr){switch(typeof wr){case"number":return wr;case"string":var gr=parseInt(wr,8);return isNaN(gr)?dr:gr;default:return dr}}function Hr(wr){if(wr instanceof Date)return wr;if(typeof wr=="number")return new Date(wr*1e3);throw new yr(vr.EINVAL,"Invalid time.")}function Ur(wr){if(wr.indexOf("\0")>=0)throw new yr(vr.EINVAL,"Path must be a string without null bytes.");if(wr==="")throw new yr(vr.EINVAL,"Path must not be empty.");return _r.resolve(wr)}function Zr(wr,dr,gr,hr){switch(typeof wr){case"object":return{encoding:typeof wr.encoding<"u"?wr.encoding:dr,flag:typeof wr.flag<"u"?wr.flag:gr,mode:Lr(wr.mode,hr)};case"string":return{encoding:wr,flag:gr,mode:hr};default:return{encoding:dr,flag:gr,mode:hr}}}function Yr(){}var jr=function(){this.F_OK=0,this.R_OK=4,this.W_OK=2,this.X_OK=1,this.root=null,this.fdMap={},this.nextFd=100};jr.prototype.initialize=function(dr){if(!dr.constructor.isAvailable())throw new yr(vr.EINVAL,"Tried to instantiate BrowserFS with an unavailable file system.");return this.root=dr},jr.prototype._toUnixTimestamp=function(dr){if(typeof dr=="number")return dr;if(dr instanceof Date)return dr.getTime()/1e3;throw new Error("Cannot parse time: "+dr)},jr.prototype.getRootFS=function(){return this.root?this.root:null},jr.prototype.rename=function(dr,gr,hr){hr===void 0&&(hr=Yr);var Sr=Rr(hr,1);try{Fr(this.root).rename(Ur(dr),Ur(gr),Sr)}catch(Cr){Sr(Cr)}},jr.prototype.renameSync=function(dr,gr){Fr(this.root).renameSync(Ur(dr),Ur(gr))},jr.prototype.exists=function(dr,gr){gr===void 0&&(gr=Yr);var hr=Rr(gr,1);try{return Fr(this.root).exists(Ur(dr),hr)}catch{return hr(!1)}},jr.prototype.existsSync=function(dr){try{return Fr(this.root).existsSync(Ur(dr))}catch{return!1}},jr.prototype.stat=function(dr,gr){gr===void 0&&(gr=Yr);var hr=Rr(gr,2);try{return Fr(this.root).stat(Ur(dr),!1,hr)}catch(Sr){return hr(Sr)}},jr.prototype.statSync=function(dr){return Fr(this.root).statSync(Ur(dr),!1)},jr.prototype.lstat=function(dr,gr){gr===void 0&&(gr=Yr);var hr=Rr(gr,2);try{return Fr(this.root).stat(Ur(dr),!0,hr)}catch(Sr){return hr(Sr)}},jr.prototype.lstatSync=function(dr){return Fr(this.root).statSync(Ur(dr),!0)},jr.prototype.truncate=function(dr,gr,hr){gr===void 0&&(gr=0),hr===void 0&&(hr=Yr);var Sr=0;typeof gr=="function"?hr=gr:typeof gr=="number"&&(Sr=gr);var Cr=Rr(hr,1);try{if(Sr<0)throw new yr(vr.EINVAL);return Fr(this.root).truncate(Ur(dr),Sr,Cr)}catch(Tr){return Cr(Tr)}},jr.prototype.truncateSync=function(dr,gr){if(gr===void 0&&(gr=0),gr<0)throw new yr(vr.EINVAL);return Fr(this.root).truncateSync(Ur(dr),gr)},jr.prototype.unlink=function(dr,gr){gr===void 0&&(gr=Yr);var hr=Rr(gr,1);try{return Fr(this.root).unlink(Ur(dr),hr)}catch(Sr){return hr(Sr)}},jr.prototype.unlinkSync=function(dr){return Fr(this.root).unlinkSync(Ur(dr))},jr.prototype.open=function(dr,gr,hr,Sr){var Cr=this;Sr===void 0&&(Sr=Yr);var Tr=Lr(hr,420);Sr=typeof hr=="function"?hr:Sr;var Br=Rr(Sr,2);try{Fr(this.root).open(Ur(dr),kr.getFileFlag(gr),Tr,function(zr,Qr){Qr?Br(zr,Cr.getFdForFile(Qr)):Br(zr)})}catch(zr){Br(zr)}},jr.prototype.openSync=function(dr,gr,hr){return hr===void 0&&(hr=420),this.getFdForFile(Fr(this.root).openSync(Ur(dr),kr.getFileFlag(gr),Lr(hr,420)))},jr.prototype.readFile=function(dr,gr,hr){gr===void 0&&(gr={}),hr===void 0&&(hr=Yr);var Sr=Zr(gr,null,"r",null);hr=typeof gr=="function"?gr:hr;var Cr=Rr(hr,2);try{var Tr=kr.getFileFlag(Sr.flag);return Tr.isReadable()?Fr(this.root).readFile(Ur(dr),Sr.encoding,Tr,Cr):Cr(new yr(vr.EINVAL,"Flag passed to readFile must allow for reading."))}catch(Br){return Cr(Br)}},jr.prototype.readFileSync=function(dr,gr){gr===void 0&&(gr={});var hr=Zr(gr,null,"r",null),Sr=kr.getFileFlag(hr.flag);if(!Sr.isReadable())throw new yr(vr.EINVAL,"Flag passed to readFile must allow for reading.");return Fr(this.root).readFileSync(Ur(dr),hr.encoding,Sr)},jr.prototype.writeFile=function(dr,gr,hr,Sr){hr===void 0&&(hr={}),Sr===void 0&&(Sr=Yr);var Cr=Zr(hr,"utf8","w",420);Sr=typeof hr=="function"?hr:Sr;var Tr=Rr(Sr,1);try{var Br=kr.getFileFlag(Cr.flag);return Br.isWriteable()?Fr(this.root).writeFile(Ur(dr),gr,Cr.encoding,Br,Cr.mode,Tr):Tr(new yr(vr.EINVAL,"Flag passed to writeFile must allow for writing."))}catch(zr){return Tr(zr)}},jr.prototype.writeFileSync=function(dr,gr,hr){var Sr=Zr(hr,"utf8","w",420),Cr=kr.getFileFlag(Sr.flag);if(!Cr.isWriteable())throw new yr(vr.EINVAL,"Flag passed to writeFile must allow for writing.");return Fr(this.root).writeFileSync(Ur(dr),gr,Sr.encoding,Cr,Sr.mode)},jr.prototype.appendFile=function(dr,gr,hr,Sr){Sr===void 0&&(Sr=Yr);var Cr=Zr(hr,"utf8","a",420);Sr=typeof hr=="function"?hr:Sr;var Tr=Rr(Sr,1);try{var Br=kr.getFileFlag(Cr.flag);if(!Br.isAppendable())return Tr(new yr(vr.EINVAL,"Flag passed to appendFile must allow for appending."));Fr(this.root).appendFile(Ur(dr),gr,Cr.encoding,Br,Cr.mode,Tr)}catch(zr){Tr(zr)}},jr.prototype.appendFileSync=function(dr,gr,hr){var Sr=Zr(hr,"utf8","a",420),Cr=kr.getFileFlag(Sr.flag);if(!Cr.isAppendable())throw new yr(vr.EINVAL,"Flag passed to appendFile must allow for appending.");return Fr(this.root).appendFileSync(Ur(dr),gr,Sr.encoding,Cr,Sr.mode)},jr.prototype.fstat=function(dr,gr){gr===void 0&&(gr=Yr);var hr=Rr(gr,2);try{var Sr=this.fd2file(dr);Sr.stat(hr)}catch(Cr){hr(Cr)}},jr.prototype.fstatSync=function(dr){return this.fd2file(dr).statSync()},jr.prototype.close=function(dr,gr){var hr=this;gr===void 0&&(gr=Yr);var Sr=Rr(gr,1);try{this.fd2file(dr).close(function(Cr){Cr||hr.closeFd(dr),Sr(Cr)})}catch(Cr){Sr(Cr)}},jr.prototype.closeSync=function(dr){this.fd2file(dr).closeSync(),this.closeFd(dr)},jr.prototype.ftruncate=function(dr,gr,hr){hr===void 0&&(hr=Yr);var Sr=typeof gr=="number"?gr:0;hr=typeof gr=="function"?gr:hr;var Cr=Rr(hr,1);try{var Tr=this.fd2file(dr);if(Sr<0)throw new yr(vr.EINVAL);Tr.truncate(Sr,Cr)}catch(Br){Cr(Br)}},jr.prototype.ftruncateSync=function(dr,gr){gr===void 0&&(gr=0);var hr=this.fd2file(dr);if(gr<0)throw new yr(vr.EINVAL);hr.truncateSync(gr)},jr.prototype.fsync=function(dr,gr){gr===void 0&&(gr=Yr);var hr=Rr(gr,1);try{this.fd2file(dr).sync(hr)}catch(Sr){hr(Sr)}},jr.prototype.fsyncSync=function(dr){this.fd2file(dr).syncSync()},jr.prototype.fdatasync=function(dr,gr){gr===void 0&&(gr=Yr);var hr=Rr(gr,1);try{this.fd2file(dr).datasync(hr)}catch(Sr){hr(Sr)}},jr.prototype.fdatasyncSync=function(dr){this.fd2file(dr).datasyncSync()},jr.prototype.write=function(dr,gr,hr,Sr,Cr,Tr){Tr===void 0&&(Tr=Yr);var Br,zr,Qr,li=null;if(typeof gr=="string"){var gi="utf8";switch(typeof hr){case"function":Tr=hr;break;case"number":li=hr,gi=typeof Sr=="string"?Sr:"utf8",Tr=typeof Cr=="function"?Cr:Tr;break;default:return Tr=typeof Sr=="function"?Sr:typeof Cr=="function"?Cr:Tr,Tr(new yr(vr.EINVAL,"Invalid arguments."))}Br=lr.from(gr,gi),zr=0,Qr=Br.length}else Br=gr,zr=hr,Qr=Sr,li=typeof Cr=="number"?Cr:null,Tr=typeof Cr=="function"?Cr:Tr;var Ii=Rr(Tr,3);try{var Ni=this.fd2file(dr);li==null&&(li=Ni.getPos()),Ni.write(Br,zr,Qr,li,Ii)}catch(Li){Ii(Li)}},jr.prototype.writeSync=function(dr,gr,hr,Sr,Cr){var Tr,Br=0,zr,Qr;if(typeof gr=="string"){Qr=typeof hr=="number"?hr:null;var li=typeof Sr=="string"?Sr:"utf8";Br=0,Tr=lr.from(gr,li),zr=Tr.length}else Tr=gr,Br=hr,zr=Sr,Qr=typeof Cr=="number"?Cr:null;var gi=this.fd2file(dr);return Qr==null&&(Qr=gi.getPos()),gi.writeSync(Tr,Br,zr,Qr)},jr.prototype.read=function(dr,gr,hr,Sr,Cr,Tr){Tr===void 0&&(Tr=Yr);var Br,zr,Qr,li,gi;if(typeof gr=="number"){Qr=gr,Br=hr;var Ii=Sr;Tr=typeof Cr=="function"?Cr:Tr,zr=0,li=lr.alloc(Qr),gi=Rr(function(Li,$i,ea){if(Li)return Tr(Li);Tr(Li,ea.toString(Ii),$i)},3)}else li=gr,zr=hr,Qr=Sr,Br=Cr,gi=Rr(Tr,3);try{var Ni=this.fd2file(dr);Br==null&&(Br=Ni.getPos()),Ni.read(li,zr,Qr,Br,gi)}catch(Li){gi(Li)}},jr.prototype.readSync=function(dr,gr,hr,Sr,Cr){var Tr=!1,Br,zr,Qr,li,gi="utf8";typeof gr=="number"?(Qr=gr,li=hr,gi=Sr,zr=0,Br=lr.alloc(Qr),Tr=!0):(Br=gr,zr=hr,Qr=Sr,li=Cr);var Ii=this.fd2file(dr);li==null&&(li=Ii.getPos());var Ni=Ii.readSync(Br,zr,Qr,li);return Tr?[Br.toString(gi),Ni]:Ni},jr.prototype.fchown=function(dr,gr,hr,Sr){Sr===void 0&&(Sr=Yr);var Cr=Rr(Sr,1);try{this.fd2file(dr).chown(gr,hr,Cr)}catch(Tr){Cr(Tr)}},jr.prototype.fchownSync=function(dr,gr,hr){this.fd2file(dr).chownSync(gr,hr)},jr.prototype.fchmod=function(dr,gr,hr){var Sr=Rr(hr,1);try{var Cr=typeof gr=="string"?parseInt(gr,8):gr;this.fd2file(dr).chmod(Cr,Sr)}catch(Tr){Sr(Tr)}},jr.prototype.fchmodSync=function(dr,gr){var hr=typeof gr=="string"?parseInt(gr,8):gr;this.fd2file(dr).chmodSync(hr)},jr.prototype.futimes=function(dr,gr,hr,Sr){Sr===void 0&&(Sr=Yr);var Cr=Rr(Sr,1);try{var Tr=this.fd2file(dr);typeof gr=="number"&&(gr=new Date(gr*1e3)),typeof hr=="number"&&(hr=new Date(hr*1e3)),Tr.utimes(gr,hr,Cr)}catch(Br){Cr(Br)}},jr.prototype.futimesSync=function(dr,gr,hr){this.fd2file(dr).utimesSync(Hr(gr),Hr(hr))},jr.prototype.rmdir=function(dr,gr){gr===void 0&&(gr=Yr);var hr=Rr(gr,1);try{dr=Ur(dr),Fr(this.root).rmdir(dr,hr)}catch(Sr){hr(Sr)}},jr.prototype.rmdirSync=function(dr){return dr=Ur(dr),Fr(this.root).rmdirSync(dr)},jr.prototype.mkdir=function(dr,gr,hr){hr===void 0&&(hr=Yr),typeof gr=="function"&&(hr=gr,gr=511);var Sr=Rr(hr,1);try{dr=Ur(dr),Fr(this.root).mkdir(dr,gr,Sr)}catch(Cr){Sr(Cr)}},jr.prototype.mkdirSync=function(dr,gr){Fr(this.root).mkdirSync(Ur(dr),Lr(gr,511))},jr.prototype.readdir=function(dr,gr){gr===void 0&&(gr=Yr);var hr=Rr(gr,2);try{dr=Ur(dr),Fr(this.root).readdir(dr,hr)}catch(Sr){hr(Sr)}},jr.prototype.readdirSync=function(dr){return dr=Ur(dr),Fr(this.root).readdirSync(dr)},jr.prototype.link=function(dr,gr,hr){hr===void 0&&(hr=Yr);var Sr=Rr(hr,1);try{dr=Ur(dr),gr=Ur(gr),Fr(this.root).link(dr,gr,Sr)}catch(Cr){Sr(Cr)}},jr.prototype.linkSync=function(dr,gr){return dr=Ur(dr),gr=Ur(gr),Fr(this.root).linkSync(dr,gr)},jr.prototype.symlink=function(dr,gr,hr,Sr){Sr===void 0&&(Sr=Yr);var Cr=typeof hr=="string"?hr:"file";Sr=typeof hr=="function"?hr:Sr;var Tr=Rr(Sr,1);try{if(Cr!=="file"&&Cr!=="dir")return Tr(new yr(vr.EINVAL,"Invalid type: "+Cr));dr=Ur(dr),gr=Ur(gr),Fr(this.root).symlink(dr,gr,Cr,Tr)}catch(Br){Tr(Br)}},jr.prototype.symlinkSync=function(dr,gr,hr){if(!hr)hr="file";else if(hr!=="file"&&hr!=="dir")throw new yr(vr.EINVAL,"Invalid type: "+hr);return dr=Ur(dr),gr=Ur(gr),Fr(this.root).symlinkSync(dr,gr,hr)},jr.prototype.readlink=function(dr,gr){gr===void 0&&(gr=Yr);var hr=Rr(gr,2);try{dr=Ur(dr),Fr(this.root).readlink(dr,hr)}catch(Sr){hr(Sr)}},jr.prototype.readlinkSync=function(dr){return dr=Ur(dr),Fr(this.root).readlinkSync(dr)},jr.prototype.chown=function(dr,gr,hr,Sr){Sr===void 0&&(Sr=Yr);var Cr=Rr(Sr,1);try{dr=Ur(dr),Fr(this.root).chown(dr,!1,gr,hr,Cr)}catch(Tr){Cr(Tr)}},jr.prototype.chownSync=function(dr,gr,hr){dr=Ur(dr),Fr(this.root).chownSync(dr,!1,gr,hr)},jr.prototype.lchown=function(dr,gr,hr,Sr){Sr===void 0&&(Sr=Yr);var Cr=Rr(Sr,1);try{dr=Ur(dr),Fr(this.root).chown(dr,!0,gr,hr,Cr)}catch(Tr){Cr(Tr)}},jr.prototype.lchownSync=function(dr,gr,hr){dr=Ur(dr),Fr(this.root).chownSync(dr,!0,gr,hr)},jr.prototype.chmod=function(dr,gr,hr){hr===void 0&&(hr=Yr);var Sr=Rr(hr,1);try{var Cr=Lr(gr,-1);if(Cr<0)throw new yr(vr.EINVAL,"Invalid mode.");Fr(this.root).chmod(Ur(dr),!1,Cr,Sr)}catch(Tr){Sr(Tr)}},jr.prototype.chmodSync=function(dr,gr){var hr=Lr(gr,-1);if(hr<0)throw new yr(vr.EINVAL,"Invalid mode.");dr=Ur(dr),Fr(this.root).chmodSync(dr,!1,hr)},jr.prototype.lchmod=function(dr,gr,hr){hr===void 0&&(hr=Yr);var Sr=Rr(hr,1);try{var Cr=Lr(gr,-1);if(Cr<0)throw new yr(vr.EINVAL,"Invalid mode.");Fr(this.root).chmod(Ur(dr),!0,Cr,Sr)}catch(Tr){Sr(Tr)}},jr.prototype.lchmodSync=function(dr,gr){var hr=Lr(gr,-1);if(hr<1)throw new yr(vr.EINVAL,"Invalid mode.");Fr(this.root).chmodSync(Ur(dr),!0,hr)},jr.prototype.utimes=function(dr,gr,hr,Sr){Sr===void 0&&(Sr=Yr);var Cr=Rr(Sr,1);try{Fr(this.root).utimes(Ur(dr),Hr(gr),Hr(hr),Cr)}catch(Tr){Cr(Tr)}},jr.prototype.utimesSync=function(dr,gr,hr){Fr(this.root).utimesSync(Ur(dr),Hr(gr),Hr(hr))},jr.prototype.realpath=function(dr,gr,hr){hr===void 0&&(hr=Yr);var Sr=typeof gr=="object"?gr:{};hr=typeof gr=="function"?gr:Yr;var Cr=Rr(hr,2);try{dr=Ur(dr),Fr(this.root).realpath(dr,Sr,Cr)}catch(Tr){Cr(Tr)}},jr.prototype.realpathSync=function(dr,gr){return gr===void 0&&(gr={}),dr=Ur(dr),Fr(this.root).realpathSync(dr,gr)},jr.prototype.watchFile=function(dr,gr,hr){throw new yr(vr.ENOTSUP)},jr.prototype.unwatchFile=function(dr,gr){throw new yr(vr.ENOTSUP)},jr.prototype.watch=function(dr,gr,hr){throw new yr(vr.ENOTSUP)},jr.prototype.access=function(dr,gr,hr){throw new yr(vr.ENOTSUP)},jr.prototype.accessSync=function(dr,gr){throw new yr(vr.ENOTSUP)},jr.prototype.createReadStream=function(dr,gr){throw new yr(vr.ENOTSUP)},jr.prototype.createWriteStream=function(dr,gr){throw new yr(vr.ENOTSUP)},jr.prototype.wrapCallbacks=function(dr){Rr=dr},jr.prototype.getFdForFile=function(dr){var gr=this.nextFd++;return this.fdMap[gr]=dr,gr},jr.prototype.fd2file=function(dr){var gr=this.fdMap[dr];if(gr)return gr;throw new yr(vr.EBADF,"Invalid file descriptor.")},jr.prototype.closeFd=function(dr){delete this.fdMap[dr]},jr.Stats=Dr;var Jr=new jr,Wr={},ni=jr.prototype;Object.keys(ni).forEach(function(wr){typeof Jr[wr]=="function"?Wr[wr]=function(){return Jr[wr].apply(Jr,arguments)}:Wr[wr]=Jr[wr]}),Wr.changeFSModule=function(wr){Jr=wr},Wr.getFSModule=function(){return Jr},Wr.FS=jr;function Mr(wr,dr,gr,hr,Sr){return wr<dr||gr<dr?wr>gr?gr+1:wr+1:hr===Sr?dr:dr+1}function hi(wr,dr){if(wr===dr)return 0;if(wr.length>dr.length){var gr=wr;wr=dr,dr=gr}for(var hr=wr.length,Sr=dr.length;hr>0&&wr.charCodeAt(hr-1)===dr.charCodeAt(Sr-1);)hr--,Sr--;for(var Cr=0;Cr<hr&&wr.charCodeAt(Cr)===dr.charCodeAt(Cr);)Cr++;if(hr-=Cr,Sr-=Cr,hr===0||Sr===1)return Sr;for(var Tr=new Array(hr<<1),Br=0;Br<hr;)Tr[hr+Br]=wr.charCodeAt(Cr+Br),Tr[Br]=++Br;var zr,Qr,li,gi,Ii;for(zr=0;zr+3<Sr;)for(var Ni=dr.charCodeAt(Cr+(Qr=zr)),Li=dr.charCodeAt(Cr+(li=zr+1)),$i=dr.charCodeAt(Cr+(gi=zr+2)),ea=dr.charCodeAt(Cr+(Ii=zr+3)),na=zr+=4,ga=0;ga<hr;){var La=Tr[hr+ga],Eo=Tr[ga];Qr=Mr(Eo,Qr,li,Ni,La),li=Mr(Qr,li,gi,Li,La),gi=Mr(li,gi,Ii,$i,La),na=Mr(gi,Ii,na,ea,La),Tr[ga++]=na,Ii=gi,gi=li,li=Qr,Qr=Eo}for(var wo=0;zr<Sr;){var Fs=dr.charCodeAt(Cr+(Qr=zr));wo=++zr;for(var Fo=0;Fo<hr;Fo++){var Po=Tr[Fo];Tr[Fo]=wo=Po<Qr||wo<Qr?Po>wo?wo+1:Po+1:Fs===Tr[hr+Fo]?Qr:Qr+1,Qr=Po}}return wo}function Ei(wr,dr,gr){wr&&console.warn("["+dr+"] Direct file system constructor usage is deprecated for this file system, and will be removed in the next major version. Please use the '"+dr+".Create("+JSON.stringify(gr)+", callback)' method instead. See https://github.com/jvilk/BrowserFS/issues/176 for more details.")}var _i=typeof navigator<"u"&&!!(/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||navigator.userAgent.indexOf("Trident")!==-1),Fi=typeof window>"u";function si(){throw new Error("BFS has reached an impossible code path; please file a bug.")}function ci(wr,dr,gr){gr.existsSync(wr)||(ci(_r.dirname(wr),dr,gr),gr.mkdirSync(wr,dr))}function $r(wr){var dr=ei(wr),gr=dr.byteOffset,hr=dr.byteLength;return gr===0&&hr===dr.buffer.byteLength?dr.buffer:dr.buffer.slice(gr,gr+hr)}function ei(wr){return wr instanceof Uint8Array?wr:new Uint8Array(wr)}function pi(wr){return wr instanceof lr?wr:wr instanceof Uint8Array?ui(wr):lr.from(wr)}function ui(wr){return wr instanceof lr?wr:wr.byteOffset===0&&wr.byteLength===wr.buffer.byteLength?bi(wr.buffer):lr.from(wr.buffer,wr.byteOffset,wr.byteLength)}function bi(wr){return lr.from(wr)}function qi(wr,dr,gr){if(dr===void 0&&(dr=0),gr===void 0&&(gr=wr.length),dr<0||gr<0||gr>wr.length||dr>gr)throw new TypeError("Invalid slice bounds on buffer of length "+wr.length+": ["+dr+", "+gr+"]");if(wr.length===0)return Ti();var hr=ei(wr),Sr=wr[0],Cr=(Sr+1)%255;return wr[0]=Cr,hr[0]===Cr?(hr[0]=Sr,ui(hr.slice(dr,gr))):(wr[0]=Sr,ui(hr.subarray(dr,gr)))}var Gi=null;function Ti(){return Gi||(Gi=lr.alloc(0))}function ii(wr,dr){lr.isBuffer(wr)?dr():dr(new yr(vr.EINVAL,"option must be a Buffer."))}function oi(wr,dr,gr){var hr=wr.Options,Sr=wr.Name,Cr=0,Tr=!1,Br=!1;function zr(Ii){Tr||(Ii&&(Tr=!0,gr(Ii)),Cr--,Cr===0&&Br&&gr())}var Qr=function(Ii){if(hr.hasOwnProperty(Ii)){var Ni=hr[Ii],Li=dr[Ii];if(Li==null){if(!Ni.optional){var $i=Object.keys(dr).filter(function(na){return!(na in hr)}).map(function(na){return{str:na,distance:hi(Ii,na)}}).filter(function(na){return na.distance<5}).sort(function(na,ga){return na.distance-ga.distance});return Tr?{}:(Tr=!0,{v:gr(new yr(vr.EINVAL,"["+Sr+"] Required option '"+Ii+"' not provided."+($i.length>0?" You provided unrecognized option '"+$i[0].str+"'; perhaps you meant to type '"+Ii+"'.":"")+`
Option description: `+Ni.description))})}}else{var ea=!1;if(Array.isArray(Ni.type)?ea=Ni.type.indexOf(typeof Li)!==-1:ea=typeof Li===Ni.type,ea)Ni.validator&&(Cr++,Ni.validator(Li,zr));else return Tr?{}:(Tr=!0,{v:gr(new yr(vr.EINVAL,"["+Sr+"] Value provided for option "+Ii+" is not the proper type. Expected "+(Array.isArray(Ni.type)?"one of {"+Ni.type.join(", ")+"}":Ni.type)+", but received "+typeof Li+`
Option description: `+Ni.description))})}}};for(var li in hr){var gi=Qr(li);if(gi)return gi.v}Br=!0,Cr===0&&!Tr&&gr()}var Si=Object.freeze({deprecationMessage:Ei,isIE:_i,isWebWorker:Fi,fail:si,mkdirpSync:ci,buffer2ArrayBuffer:$r,buffer2Uint8array:ei,arrayish2Buffer:pi,uint8Array2Buffer:ui,arrayBuffer2Buffer:bi,copyingSlice:qi,emptyBuffer:Ti,bufferValidator:ii,checkOptions:oi}),Di=function(dr){this.fs=dr,this.nodefs=dr.getNodeFS(),this.FS=dr.getFS(),this.PATH=dr.getPATH(),this.ERRNO_CODES=dr.getERRNO_CODES()};Di.prototype.open=function(dr){var gr=this.fs.realPath(dr.node),hr=this.FS;try{hr.isFile(dr.node.mode)&&(dr.nfd=this.nodefs.openSync(gr,this.fs.flagsToPermissionString(dr.flags)))}catch(Sr){throw Sr.code?new hr.ErrnoError(this.ERRNO_CODES[Sr.code]):Sr}},Di.prototype.close=function(dr){var gr=this.FS;try{gr.isFile(dr.node.mode)&&dr.nfd&&this.nodefs.closeSync(dr.nfd)}catch(hr){throw hr.code?new gr.ErrnoError(this.ERRNO_CODES[hr.code]):hr}},Di.prototype.read=function(dr,gr,hr,Sr,Cr){try{return this.nodefs.readSync(dr.nfd,ui(gr),hr,Sr,Cr)}catch(Tr){throw new this.FS.ErrnoError(this.ERRNO_CODES[Tr.code])}},Di.prototype.write=function(dr,gr,hr,Sr,Cr){try{return this.nodefs.writeSync(dr.nfd,ui(gr),hr,Sr,Cr)}catch(Tr){throw new this.FS.ErrnoError(this.ERRNO_CODES[Tr.code])}},Di.prototype.llseek=function(dr,gr,hr){var Sr=gr;if(hr===1)Sr+=dr.position;else if(hr===2&&this.FS.isFile(dr.node.mode))try{var Cr=this.nodefs.fstatSync(dr.nfd);Sr+=Cr.size}catch(Tr){throw new this.FS.ErrnoError(this.ERRNO_CODES[Tr.code])}if(Sr<0)throw new this.FS.ErrnoError(this.ERRNO_CODES.EINVAL);return dr.position=Sr,Sr};var Vi=function(dr){this.fs=dr,this.nodefs=dr.getNodeFS(),this.FS=dr.getFS(),this.PATH=dr.getPATH(),this.ERRNO_CODES=dr.getERRNO_CODES()};Vi.prototype.getattr=function(dr){var gr=this.fs.realPath(dr),hr;try{hr=this.nodefs.lstatSync(gr)}catch(Sr){throw Sr.code?new this.FS.ErrnoError(this.ERRNO_CODES[Sr.code]):Sr}return{dev:hr.dev,ino:hr.ino,mode:hr.mode,nlink:hr.nlink,uid:hr.uid,gid:hr.gid,rdev:hr.rdev,size:hr.size,atime:hr.atime,mtime:hr.mtime,ctime:hr.ctime,blksize:hr.blksize,blocks:hr.blocks}},Vi.prototype.setattr=function(dr,gr){var hr=this.fs.realPath(dr);try{if(gr.mode!==void 0&&(this.nodefs.chmodSync(hr,gr.mode),dr.mode=gr.mode),gr.timestamp!==void 0){var Sr=new Date(gr.timestamp);this.nodefs.utimesSync(hr,Sr,Sr)}}catch(Cr){if(!Cr.code)throw Cr;if(Cr.code!=="ENOTSUP")throw new this.FS.ErrnoError(this.ERRNO_CODES[Cr.code])}if(gr.size!==void 0)try{this.nodefs.truncateSync(hr,gr.size)}catch(Cr){throw Cr.code?new this.FS.ErrnoError(this.ERRNO_CODES[Cr.code]):Cr}},Vi.prototype.lookup=function(dr,gr){var hr=this.PATH.join2(this.fs.realPath(dr),gr),Sr=this.fs.getMode(hr);return this.fs.createNode(dr,gr,Sr)},Vi.prototype.mknod=function(dr,gr,hr,Sr){var Cr=this.fs.createNode(dr,gr,hr,Sr),Tr=this.fs.realPath(Cr);try{this.FS.isDir(Cr.mode)?this.nodefs.mkdirSync(Tr,Cr.mode):this.nodefs.writeFileSync(Tr,"",{mode:Cr.mode})}catch(Br){throw Br.code?new this.FS.ErrnoError(this.ERRNO_CODES[Br.code]):Br}return Cr},Vi.prototype.rename=function(dr,gr,hr){var Sr=this.fs.realPath(dr),Cr=this.PATH.join2(this.fs.realPath(gr),hr);try{this.nodefs.renameSync(Sr,Cr),dr.name=hr,dr.parent=gr}catch(Tr){throw Tr.code?new this.FS.ErrnoError(this.ERRNO_CODES[Tr.code]):Tr}},Vi.prototype.unlink=function(dr,gr){var hr=this.PATH.join2(this.fs.realPath(dr),gr);try{this.nodefs.unlinkSync(hr)}catch(Sr){throw Sr.code?new this.FS.ErrnoError(this.ERRNO_CODES[Sr.code]):Sr}},Vi.prototype.rmdir=function(dr,gr){var hr=this.PATH.join2(this.fs.realPath(dr),gr);try{this.nodefs.rmdirSync(hr)}catch(Sr){throw Sr.code?new this.FS.ErrnoError(this.ERRNO_CODES[Sr.code]):Sr}},Vi.prototype.readdir=function(dr){var gr=this.fs.realPath(dr);try{var hr=this.nodefs.readdirSync(gr);return hr.push(".",".."),hr}catch(Sr){throw Sr.code?new this.FS.ErrnoError(this.ERRNO_CODES[Sr.code]):Sr}},Vi.prototype.symlink=function(dr,gr,hr){var Sr=this.PATH.join2(this.fs.realPath(dr),gr);try{this.nodefs.symlinkSync(hr,Sr)}catch(Cr){throw Cr.code?new this.FS.ErrnoError(this.ERRNO_CODES[Cr.code]):Cr}},Vi.prototype.readlink=function(dr){var gr=this.fs.realPath(dr);try{return this.nodefs.readlinkSync(gr)}catch(hr){throw hr.code?new this.FS.ErrnoError(this.ERRNO_CODES[hr.code]):hr}};var Vr=function(dr,gr,hr,Sr){dr===void 0&&(dr=self.FS),gr===void 0&&(gr=self.PATH),hr===void 0&&(hr=self.ERRNO_CODES),Sr===void 0&&(Sr=Wr),this.flagsToPermissionStringMap={0:"r",1:"r+",2:"r+",64:"r",65:"r+",66:"r+",129:"rx+",193:"rx+",514:"w+",577:"w",578:"w+",705:"wx",706:"wx+",1024:"a",1025:"a",1026:"a+",1089:"a",1090:"a+",1153:"ax",1154:"ax+",1217:"ax",1218:"ax+",4096:"rs",4098:"rs+"},this.nodefs=Sr,this.FS=dr,this.PATH=gr,this.ERRNO_CODES=hr,this.node_ops=new Vi(this),this.stream_ops=new Di(this)};Vr.prototype.mount=function(dr){return this.createNode(null,"/",this.getMode(dr.opts.root),0)},Vr.prototype.createNode=function(dr,gr,hr,Sr){var Cr=this.FS;if(!Cr.isDir(hr)&&!Cr.isFile(hr)&&!Cr.isLink(hr))throw new Cr.ErrnoError(this.ERRNO_CODES.EINVAL);var Tr=Cr.createNode(dr,gr,hr);return Tr.node_ops=this.node_ops,Tr.stream_ops=this.stream_ops,Tr},Vr.prototype.getMode=function(dr){var gr;try{gr=this.nodefs.lstatSync(dr)}catch(hr){throw hr.code?new this.FS.ErrnoError(this.ERRNO_CODES[hr.code]):hr}return gr.mode},Vr.prototype.realPath=function(dr){for(var gr=[];dr.parent!==dr;)gr.push(dr.name),dr=dr.parent;return gr.push(dr.mount.opts.root),gr.reverse(),this.PATH.join.apply(null,gr)},Vr.prototype.flagsToPermissionString=function(dr){var gr=typeof dr=="string"?parseInt(dr,10):dr;return gr&=8191,gr in this.flagsToPermissionStringMap?this.flagsToPermissionStringMap[gr]:dr},Vr.prototype.getNodeFS=function(){return this.nodefs},Vr.prototype.getFS=function(){return this.FS},Vr.prototype.getPATH=function(){return this.PATH},Vr.prototype.getERRNO_CODES=function(){return this.ERRNO_CODES};var di=function(){};di.prototype.supportsLinks=function(){return!1},di.prototype.diskSpace=function(dr,gr){gr(0,0)},di.prototype.openFile=function(dr,gr,hr){throw new yr(vr.ENOTSUP)},di.prototype.createFile=function(dr,gr,hr,Sr){throw new yr(vr.ENOTSUP)},di.prototype.open=function(dr,gr,hr,Sr){var Cr=this,Tr=function(Br,zr){if(Br)switch(gr.pathNotExistsAction()){case Ar.CREATE_FILE:return Cr.stat(_r.dirname(dr),!1,function(Qr,li){Qr?Sr(Qr):li&&!li.isDirectory()?Sr(yr.ENOTDIR(_r.dirname(dr))):Cr.createFile(dr,gr,hr,Sr)});case Ar.THROW_EXCEPTION:return Sr(yr.ENOENT(dr));default:return Sr(new yr(vr.EINVAL,"Invalid FileFlag object."))}else{if(zr&&zr.isDirectory())return Sr(yr.EISDIR(dr));switch(gr.pathExistsAction()){case Ar.THROW_EXCEPTION:return Sr(yr.EEXIST(dr));case Ar.TRUNCATE_FILE:return Cr.openFile(dr,gr,function(Qr,li){Qr?Sr(Qr):li?li.truncate(0,function(){li.sync(function(){Sr(null,li)})}):si()});case Ar.NOP:return Cr.openFile(dr,gr,Sr);default:return Sr(new yr(vr.EINVAL,"Invalid FileFlag object."))}}};this.stat(dr,!1,Tr)},di.prototype.rename=function(dr,gr,hr){hr(new yr(vr.ENOTSUP))},di.prototype.renameSync=function(dr,gr){throw new yr(vr.ENOTSUP)},di.prototype.stat=function(dr,gr,hr){hr(new yr(vr.ENOTSUP))},di.prototype.statSync=function(dr,gr){throw new yr(vr.ENOTSUP)},di.prototype.openFileSync=function(dr,gr,hr){throw new yr(vr.ENOTSUP)},di.prototype.createFileSync=function(dr,gr,hr){throw new yr(vr.ENOTSUP)},di.prototype.openSync=function(dr,gr,hr){var Sr;try{Sr=this.statSync(dr,!1)}catch{switch(gr.pathNotExistsAction()){case Ar.CREATE_FILE:var Cr=this.statSync(_r.dirname(dr),!1);if(!Cr.isDirectory())throw yr.ENOTDIR(_r.dirname(dr));return this.createFileSync(dr,gr,hr);case Ar.THROW_EXCEPTION:throw yr.ENOENT(dr);default:throw new yr(vr.EINVAL,"Invalid FileFlag object.")}}if(Sr.isDirectory())throw yr.EISDIR(dr);switch(gr.pathExistsAction()){case Ar.THROW_EXCEPTION:throw yr.EEXIST(dr);case Ar.TRUNCATE_FILE:return this.unlinkSync(dr),this.createFileSync(dr,gr,Sr.mode);case Ar.NOP:return this.openFileSync(dr,gr,hr);default:throw new yr(vr.EINVAL,"Invalid FileFlag object.")}},di.prototype.unlink=function(dr,gr){gr(new yr(vr.ENOTSUP))},di.prototype.unlinkSync=function(dr){throw new yr(vr.ENOTSUP)},di.prototype.rmdir=function(dr,gr){gr(new yr(vr.ENOTSUP))},di.prototype.rmdirSync=function(dr){throw new yr(vr.ENOTSUP)},di.prototype.mkdir=function(dr,gr,hr){hr(new yr(vr.ENOTSUP))},di.prototype.mkdirSync=function(dr,gr){throw new yr(vr.ENOTSUP)},di.prototype.readdir=function(dr,gr){gr(new yr(vr.ENOTSUP))},di.prototype.readdirSync=function(dr){throw new yr(vr.ENOTSUP)},di.prototype.exists=function(dr,gr){this.stat(dr,null,function(hr){gr(!hr)})},di.prototype.existsSync=function(dr){try{return this.statSync(dr,!0),!0}catch{return!1}},di.prototype.realpath=function(dr,gr,hr){if(this.supportsLinks())for(var Sr=dr.split(_r.sep),Cr=0;Cr<Sr.length;Cr++){var Tr=Sr.slice(0,Cr+1);Sr[Cr]=_r.join.apply(null,Tr)}else this.exists(dr,function(Br){Br?hr(null,dr):hr(yr.ENOENT(dr))})},di.prototype.realpathSync=function(dr,gr){if(this.supportsLinks()){for(var hr=dr.split(_r.sep),Sr=0;Sr<hr.length;Sr++){var Cr=hr.slice(0,Sr+1);hr[Sr]=_r.join.apply(_r,Cr)}return hr.join(_r.sep)}else{if(this.existsSync(dr))return dr;throw yr.ENOENT(dr)}},di.prototype.truncate=function(dr,gr,hr){this.open(dr,kr.getFileFlag("r+"),420,function(Sr,Cr){if(Sr)return hr(Sr);Cr.truncate(gr,function(Tr){Cr.close(function(Br){hr(Tr||Br)})})})},di.prototype.truncateSync=function(dr,gr){var hr=this.openSync(dr,kr.getFileFlag("r+"),420);try{hr.truncateSync(gr)}catch(Sr){throw Sr}finally{hr.closeSync()}},di.prototype.readFile=function(dr,gr,hr,Sr){var Cr=Sr;this.open(dr,hr,420,function(Tr,Br){if(Tr)return Sr(Tr);Sr=function(zr,Qr){Br.close(function(li){return zr||(zr=li),Cr(zr,Qr)})},Br.stat(function(zr,Qr){if(zr)return Sr(zr);var li=lr.alloc(Qr.size);Br.read(li,0,Qr.size,0,function(gi){if(gi)return Sr(gi);if(gr===null)return Sr(gi,li);try{Sr(null,li.toString(gr))}catch(Ii){Sr(Ii)}})})})},di.prototype.readFileSync=function(dr,gr,hr){var Sr=this.openSync(dr,hr,420);try{var Cr=Sr.statSync(),Tr=lr.alloc(Cr.size);return Sr.readSync(Tr,0,Cr.size,0),Sr.closeSync(),gr===null?Tr:Tr.toString(gr)}finally{Sr.closeSync()}},di.prototype.writeFile=function(dr,gr,hr,Sr,Cr,Tr){var Br=Tr;this.open(dr,Sr,420,function(zr,Qr){if(zr)return Tr(zr);Tr=function(li){Qr.close(function(gi){Br(li||gi)})};try{typeof gr=="string"&&(gr=lr.from(gr,hr))}catch(li){return Tr(li)}Qr.write(gr,0,gr.length,0,Tr)})},di.prototype.writeFileSync=function(dr,gr,hr,Sr,Cr){var Tr=this.openSync(dr,Sr,Cr);try{typeof gr=="string"&&(gr=lr.from(gr,hr)),Tr.writeSync(gr,0,gr.length,0)}finally{Tr.closeSync()}},di.prototype.appendFile=function(dr,gr,hr,Sr,Cr,Tr){var Br=Tr;this.open(dr,Sr,Cr,function(zr,Qr){if(zr)return Tr(zr);Tr=function(li){Qr.close(function(gi){Br(li||gi)})},typeof gr=="string"&&(gr=lr.from(gr,hr)),Qr.write(gr,0,gr.length,null,Tr)})},di.prototype.appendFileSync=function(dr,gr,hr,Sr,Cr){var Tr=this.openSync(dr,Sr,Cr);try{typeof gr=="string"&&(gr=lr.from(gr,hr)),Tr.writeSync(gr,0,gr.length,null)}finally{Tr.closeSync()}},di.prototype.chmod=function(dr,gr,hr,Sr){Sr(new yr(vr.ENOTSUP))},di.prototype.chmodSync=function(dr,gr,hr){throw new yr(vr.ENOTSUP)},di.prototype.chown=function(dr,gr,hr,Sr,Cr){Cr(new yr(vr.ENOTSUP))},di.prototype.chownSync=function(dr,gr,hr,Sr){throw new yr(vr.ENOTSUP)},di.prototype.utimes=function(dr,gr,hr,Sr){Sr(new yr(vr.ENOTSUP))},di.prototype.utimesSync=function(dr,gr,hr){throw new yr(vr.ENOTSUP)},di.prototype.link=function(dr,gr,hr){hr(new yr(vr.ENOTSUP))},di.prototype.linkSync=function(dr,gr){throw new yr(vr.ENOTSUP)},di.prototype.symlink=function(dr,gr,hr,Sr){Sr(new yr(vr.ENOTSUP))},di.prototype.symlinkSync=function(dr,gr,hr){throw new yr(vr.ENOTSUP)},di.prototype.readlink=function(dr,gr){gr(new yr(vr.ENOTSUP))},di.prototype.readlinkSync=function(dr){throw new yr(vr.ENOTSUP)};var yi=function(wr){function dr(){wr.apply(this,arguments)}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.prototype.supportsSynch=function(){return!0},dr.prototype.rename=function(hr,Sr,Cr){try{this.renameSync(hr,Sr),Cr()}catch(Tr){Cr(Tr)}},dr.prototype.stat=function(hr,Sr,Cr){try{Cr(null,this.statSync(hr,Sr))}catch(Tr){Cr(Tr)}},dr.prototype.open=function(hr,Sr,Cr,Tr){try{Tr(null,this.openSync(hr,Sr,Cr))}catch(Br){Tr(Br)}},dr.prototype.unlink=function(hr,Sr){try{this.unlinkSync(hr),Sr()}catch(Cr){Sr(Cr)}},dr.prototype.rmdir=function(hr,Sr){try{this.rmdirSync(hr),Sr()}catch(Cr){Sr(Cr)}},dr.prototype.mkdir=function(hr,Sr,Cr){try{this.mkdirSync(hr,Sr),Cr()}catch(Tr){Cr(Tr)}},dr.prototype.readdir=function(hr,Sr){try{Sr(null,this.readdirSync(hr))}catch(Cr){Sr(Cr)}},dr.prototype.chmod=function(hr,Sr,Cr,Tr){try{this.chmodSync(hr,Sr,Cr),Tr()}catch(Br){Tr(Br)}},dr.prototype.chown=function(hr,Sr,Cr,Tr,Br){try{this.chownSync(hr,Sr,Cr,Tr),Br()}catch(zr){Br(zr)}},dr.prototype.utimes=function(hr,Sr,Cr,Tr){try{this.utimesSync(hr,Sr,Cr),Tr()}catch(Br){Tr(Br)}},dr.prototype.link=function(hr,Sr,Cr){try{this.linkSync(hr,Sr),Cr()}catch(Tr){Cr(Tr)}},dr.prototype.symlink=function(hr,Sr,Cr,Tr){try{this.symlinkSync(hr,Sr,Cr),Tr()}catch(Br){Tr(Br)}},dr.prototype.readlink=function(hr,Sr){try{Sr(null,this.readlinkSync(hr))}catch(Cr){Sr(Cr)}},dr}(di),ti=function(){};ti.prototype.sync=function(dr){dr(new yr(vr.ENOTSUP))},ti.prototype.syncSync=function(){throw new yr(vr.ENOTSUP)},ti.prototype.datasync=function(dr){this.sync(dr)},ti.prototype.datasyncSync=function(){return this.syncSync()},ti.prototype.chown=function(dr,gr,hr){hr(new yr(vr.ENOTSUP))},ti.prototype.chownSync=function(dr,gr){throw new yr(vr.ENOTSUP)},ti.prototype.chmod=function(dr,gr){gr(new yr(vr.ENOTSUP))},ti.prototype.chmodSync=function(dr){throw new yr(vr.ENOTSUP)},ti.prototype.utimes=function(dr,gr,hr){hr(new yr(vr.ENOTSUP))},ti.prototype.utimesSync=function(dr,gr){throw new yr(vr.ENOTSUP)};var ri=function(wr){function dr(gr,hr,Sr,Cr,Tr){if(wr.call(this),this._pos=0,this._dirty=!1,this._fs=gr,this._path=hr,this._flag=Sr,this._stat=Cr,Tr?this._buffer=Tr:this._buffer=Ti(),this._stat.size!==this._buffer.length&&this._flag.isReadable())throw new Error("Invalid buffer: Buffer is "+this._buffer.length+" long, yet Stats object specifies that file is "+this._stat.size+" long.")}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.prototype.getBuffer=function(){return this._buffer},dr.prototype.getStats=function(){return this._stat},dr.prototype.getFlag=function(){return this._flag},dr.prototype.getPath=function(){return this._path},dr.prototype.getPos=function(){return this._flag.isAppendable()?this._stat.size:this._pos},dr.prototype.advancePos=function(hr){return this._pos+=hr},dr.prototype.setPos=function(hr){return this._pos=hr},dr.prototype.sync=function(hr){try{this.syncSync(),hr()}catch(Sr){hr(Sr)}},dr.prototype.syncSync=function(){throw new yr(vr.ENOTSUP)},dr.prototype.close=function(hr){try{this.closeSync(),hr()}catch(Sr){hr(Sr)}},dr.prototype.closeSync=function(){throw new yr(vr.ENOTSUP)},dr.prototype.stat=function(hr){try{hr(null,this._stat.clone())}catch(Sr){hr(Sr)}},dr.prototype.statSync=function(){return this._stat.clone()},dr.prototype.truncate=function(hr,Sr){try{this.truncateSync(hr),this._flag.isSynchronous()&&!Wr.getRootFS().supportsSynch()&&this.sync(Sr),Sr()}catch(Cr){return Sr(Cr)}},dr.prototype.truncateSync=function(hr){if(this._dirty=!0,!this._flag.isWriteable())throw new yr(vr.EPERM,"File not opened with a writeable mode.");if(this._stat.mtime=new Date,hr>this._buffer.length){var Sr=lr.alloc(hr-this._buffer.length,0);this.writeSync(Sr,0,Sr.length,this._buffer.length),this._flag.isSynchronous()&&Wr.getRootFS().supportsSynch()&&this.syncSync();return}this._stat.size=hr;var Cr=lr.alloc(hr);this._buffer.copy(Cr,0,0,hr),this._buffer=Cr,this._flag.isSynchronous()&&Wr.getRootFS().supportsSynch()&&this.syncSync()},dr.prototype.write=function(hr,Sr,Cr,Tr,Br){try{Br(null,this.writeSync(hr,Sr,Cr,Tr),hr)}catch(zr){Br(zr)}},dr.prototype.writeSync=function(hr,Sr,Cr,Tr){if(this._dirty=!0,Tr==null&&(Tr=this.getPos()),!this._flag.isWriteable())throw new yr(vr.EPERM,"File not opened with a writeable mode.");var Br=Tr+Cr;if(Br>this._stat.size&&(this._stat.size=Br,Br>this._buffer.length)){var zr=lr.alloc(Br);this._buffer.copy(zr),this._buffer=zr}var Qr=hr.copy(this._buffer,Tr,Sr,Sr+Cr);return this._stat.mtime=new Date,this._flag.isSynchronous()?(this.syncSync(),Qr):(this.setPos(Tr+Qr),Qr)},dr.prototype.read=function(hr,Sr,Cr,Tr,Br){try{Br(null,this.readSync(hr,Sr,Cr,Tr),hr)}catch(zr){Br(zr)}},dr.prototype.readSync=function(hr,Sr,Cr,Tr){if(!this._flag.isReadable())throw new yr(vr.EPERM,"File not opened with a readable mode.");Tr==null&&(Tr=this.getPos());var Br=Tr+Cr;Br>this._stat.size&&(Cr=this._stat.size-Tr);var zr=this._buffer.copy(hr,Sr,Tr,Tr+Cr);return this._stat.atime=new Date,this._pos=Tr+Cr,zr},dr.prototype.chmod=function(hr,Sr){try{this.chmodSync(hr),Sr()}catch(Cr){Sr(Cr)}},dr.prototype.chmodSync=function(hr){if(!this._fs.supportsProps())throw new yr(vr.ENOTSUP);this._dirty=!0,this._stat.chmod(hr),this.syncSync()},dr.prototype.isDirty=function(){return this._dirty},dr.prototype.resetDirty=function(){this._dirty=!1},dr}(ti),xi=function(wr){function dr(gr,hr,Sr,Cr,Tr){wr.call(this,gr,hr,Sr,Cr,Tr)}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.prototype.sync=function(hr){hr()},dr.prototype.syncSync=function(){},dr.prototype.close=function(hr){hr()},dr.prototype.closeSync=function(){},dr}(ri),Ai=function(wr){function dr(gr,hr,Sr,Cr,Tr){wr.call(this,gr,hr,Sr,Cr,Tr)}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},dr.prototype.closeSync=function(){this.syncSync()},dr}(ri),Kr=function(wr){function dr(gr,hr,Sr){if(Sr===void 0&&(Sr=!0),wr.call(this),this._queue=[],this._queueRunning=!1,this._isInitialized=!1,this._initializeCallbacks=[],this._sync=gr,this._async=hr,!gr.supportsSynch())throw new Error("The first argument to AsyncMirror needs to be a synchronous file system.");Ei(Sr,dr.Name,{sync:"sync file system instance",async:"async file system instance"})}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.Create=function(hr,Sr){try{var Cr=new dr(hr.sync,hr.async,!1);Cr.initialize(function(Tr){Tr?Sr(Tr):Sr(null,Cr)},!1)}catch(Tr){Sr(Tr)}},dr.isAvailable=function(){return!0},dr.prototype.getName=function(){return dr.Name},dr.prototype._syncSync=function(hr){this._sync.writeFileSync(hr.getPath(),hr.getBuffer(),null,kr.getFileFlag("w"),hr.getStats().mode),this.enqueueOp({apiMethod:"writeFile",arguments:[hr.getPath(),hr.getBuffer(),null,hr.getFlag(),hr.getStats().mode]})},dr.prototype.initialize=function(hr,Sr){var Cr=this;Sr===void 0&&(Sr=!0),Sr&&console.warn("[AsyncMirror] AsyncMirror.initialize() is deprecated and will be removed in the next major version. Please use 'AsyncMirror.Create({ sync: (sync file system instance), async: (async file system instance)}, cb)' to create and initialize AsyncMirror instances.");var Tr=this._initializeCallbacks,Br=function(gi){Cr._isInitialized=!gi,Cr._initializeCallbacks=[],Tr.forEach(function(Ii){return Ii(gi)})};if(this._isInitialized)hr();else if(Tr.push(hr)===1){var zr=function(gi,Ii,Ni){gi!=="/"&&Cr._sync.mkdirSync(gi,Ii),Cr._async.readdir(gi,function(Li,$i){var ea=0;function na(ga){ga?Ni(ga):ea<$i.length?(li(_r.join(gi,$i[ea]),na),ea++):Ni()}Li?Ni(Li):na()})},Qr=function(gi,Ii,Ni){Cr._async.readFile(gi,null,kr.getFileFlag("r"),function(Li,$i){if(Li)Ni(Li);else try{Cr._sync.writeFileSync(gi,$i,null,kr.getFileFlag("w"),Ii)}catch(ea){Li=ea}finally{Ni(Li)}})},li=function(gi,Ii){Cr._async.stat(gi,!1,function(Ni,Li){Ni?Ii(Ni):Li.isDirectory()?zr(gi,Li.mode,Ii):Qr(gi,Li.mode,Ii)})};zr("/",0,Br)}},dr.prototype.isReadOnly=function(){return!1},dr.prototype.supportsSynch=function(){return!0},dr.prototype.supportsLinks=function(){return!1},dr.prototype.supportsProps=function(){return this._sync.supportsProps()&&this._async.supportsProps()},dr.prototype.renameSync=function(hr,Sr){this.checkInitialized(),this._sync.renameSync(hr,Sr),this.enqueueOp({apiMethod:"rename",arguments:[hr,Sr]})},dr.prototype.statSync=function(hr,Sr){return this.checkInitialized(),this._sync.statSync(hr,Sr)},dr.prototype.openSync=function(hr,Sr,Cr){this.checkInitialized();var Tr=this._sync.openSync(hr,Sr,Cr);return Tr.closeSync(),new Ai(this,hr,Sr,this._sync.statSync(hr,!1),this._sync.readFileSync(hr,null,kr.getFileFlag("r")))},dr.prototype.unlinkSync=function(hr){this.checkInitialized(),this._sync.unlinkSync(hr),this.enqueueOp({apiMethod:"unlink",arguments:[hr]})},dr.prototype.rmdirSync=function(hr){this.checkInitialized(),this._sync.rmdirSync(hr),this.enqueueOp({apiMethod:"rmdir",arguments:[hr]})},dr.prototype.mkdirSync=function(hr,Sr){this.checkInitialized(),this._sync.mkdirSync(hr,Sr),this.enqueueOp({apiMethod:"mkdir",arguments:[hr,Sr]})},dr.prototype.readdirSync=function(hr){return this.checkInitialized(),this._sync.readdirSync(hr)},dr.prototype.existsSync=function(hr){return this.checkInitialized(),this._sync.existsSync(hr)},dr.prototype.chmodSync=function(hr,Sr,Cr){this.checkInitialized(),this._sync.chmodSync(hr,Sr,Cr),this.enqueueOp({apiMethod:"chmod",arguments:[hr,Sr,Cr]})},dr.prototype.chownSync=function(hr,Sr,Cr,Tr){this.checkInitialized(),this._sync.chownSync(hr,Sr,Cr,Tr),this.enqueueOp({apiMethod:"chown",arguments:[hr,Sr,Cr,Tr]})},dr.prototype.utimesSync=function(hr,Sr,Cr){this.checkInitialized(),this._sync.utimesSync(hr,Sr,Cr),this.enqueueOp({apiMethod:"utimes",arguments:[hr,Sr,Cr]})},dr.prototype.checkInitialized=function(){if(!this._isInitialized)throw new yr(vr.EPERM,"AsyncMirrorFS is not initialized. Please initialize AsyncMirrorFS using its initialize() method before using it.")},dr.prototype.enqueueOp=function(hr){var Sr=this;if(this._queue.push(hr),!this._queueRunning){this._queueRunning=!0;var Cr=function(Tr){if(Tr&&console.error("WARNING: File system has desynchronized. Received following error: "+Tr+`
$`),Sr._queue.length>0){var Br=Sr._queue.shift(),zr=Br.arguments;zr.push(Cr),Sr._async[Br.apiMethod].apply(Sr._async,zr)}else Sr._queueRunning=!1};Cr()}},dr}(yi);Kr.Name="AsyncMirror",Kr.Options={sync:{type:"object",description:"The synchronous file system to mirror the asynchronous file system to."},async:{type:"object",description:"The asynchronous file system to mirror."}};function Pr(wr,dr,gr){switch(gr.length){case 0:return wr.call(dr);case 1:return wr.call(dr,gr[0]);case 2:return wr.call(dr,gr[0],gr[1]);case 3:return wr.call(dr,gr[0],gr[1],gr[2])}return wr.apply(dr,gr)}var qr=Math.max;function Xr(wr,dr,gr){return dr=qr(dr===void 0?wr.length-1:dr,0),function(){for(var hr=arguments,Sr=-1,Cr=qr(hr.length-dr,0),Tr=Array(Cr);++Sr<Cr;)Tr[Sr]=hr[dr+Sr];Sr=-1;for(var Br=Array(dr+1);++Sr<dr;)Br[Sr]=hr[Sr];return Br[dr]=gr(Tr),Pr(wr,this,Br)}}function ai(wr){return wr}function fi(wr,dr){return Xr(wr,dr,ai)}var vi=function(wr){return fi(function(dr){var gr=dr.pop();wr.call(this,dr,gr)})};function Ri(wr){return fi(function(dr,gr){var hr=vi(function(Sr,Cr){var Tr=this;return wr(dr,function(Br,zr){Br.apply(Tr,Sr.concat(zr))},Cr)});return gr.length?hr.apply(this,gr):hr})}var Qi=typeof xr=="object"&&xr&&xr.Object===Object&&xr,Zi=typeof self=="object"&&self&&self.Object===Object&&self,zi=Qi||Zi||Function("return this")(),Bi=zi.Symbol,ta=Object.prototype,Ia=ta.hasOwnProperty,Ra=ta.toString,wa=Bi?Bi.toStringTag:void 0;function vo(wr){var dr=Ia.call(wr,wa),gr=wr[wa];try{wr[wa]=void 0;var hr=!0}catch{}var Sr=Ra.call(wr);return hr&&(dr?wr[wa]=gr:delete wr[wa]),Sr}var uo=Object.prototype,ko=uo.toString;function wi(wr){return ko.call(wr)}var Ui="[object Null]",Gr="[object Undefined]",Hi=Bi?Bi.toStringTag:void 0;function fa(wr){return wr==null?wr===void 0?Gr:Ui:Hi&&Hi in Object(wr)?vo(wr):wi(wr)}function ji(wr){var dr=typeof wr;return wr!=null&&(dr=="object"||dr=="function")}var qa="[object AsyncFunction]",Wi="[object Function]",ya="[object GeneratorFunction]",ki="[object Proxy]";function Oi(wr){if(!ji(wr))return!1;var dr=fa(wr);return dr==Wi||dr==ya||dr==qa||dr==ki}var Oo=9007199254740991;function ia(wr){return typeof wr=="number"&&wr>-1&&wr%1==0&&wr<=Oo}function Ki(wr){return wr!=null&&ia(wr.length)&&!Oi(wr)}var mo={};function lo(){}function va(wr){return function(){if(wr!==null){var dr=wr;wr=null,dr.apply(this,arguments)}}}var oa=typeof Symbol=="function"&&Symbol.iterator,Pa=function(wr){return oa&&wr[oa]&&wr[oa]()};function Va(wr,dr){for(var gr=-1,hr=Array(wr);++gr<wr;)hr[gr]=dr(gr);return hr}function Ba(wr){return wr!=null&&typeof wr=="object"}var As="[object Arguments]";function es(wr){return Ba(wr)&&fa(wr)==As}var ba=Object.prototype,za=ba.hasOwnProperty,Fa=ba.propertyIsEnumerable,fo=es(function(){return arguments}())?es:function(wr){return Ba(wr)&&za.call(wr,"callee")&&!Fa.call(wr,"callee")},io=Array.isArray;function ac(){return!1}var nl=typeof or=="object"&&or&&!or.nodeType&&or,il=nl&&typeof pr=="object"&&pr&&!pr.nodeType&&pr,hd=il&&il.exports===nl,al=hd?zi.Buffer:void 0,xd=al?al.isBuffer:void 0,pd=xd||ac,_d=9007199254740991,vd=/^(?:0|[1-9]\d*)$/;function md(wr,dr){return dr=dr??_d,!!dr&&(typeof wr=="number"||vd.test(wr))&&wr>-1&&wr%1==0&&wr<dr}var gd="[object Arguments]",yd="[object Array]",bd="[object Boolean]",Ed="[object Date]",wd="[object Error]",Sd="[object Function]",Ad="[object Map]",Id="[object Number]",Cd="[object Object]",kd="[object RegExp]",Od="[object Set]",Td="[object String]",Dd="[object WeakMap]",Rd="[object ArrayBuffer]",Fd="[object DataView]",Pd="[object Float32Array]",Bd="[object Float64Array]",qd="[object Int8Array]",Nd="[object Int16Array]",Ld="[object Int32Array]",Md="[object Uint8Array]",Vd="[object Uint8ClampedArray]",Ud="[object Uint16Array]",jd="[object Uint32Array]",xa={};xa[Pd]=xa[Bd]=xa[qd]=xa[Nd]=xa[Ld]=xa[Md]=xa[Vd]=xa[Ud]=xa[jd]=!0,xa[gd]=xa[yd]=xa[Rd]=xa[bd]=xa[Fd]=xa[Ed]=xa[wd]=xa[Sd]=xa[Ad]=xa[Id]=xa[Cd]=xa[kd]=xa[Od]=xa[Td]=xa[Dd]=!1;function zd(wr){return Ba(wr)&&ia(wr.length)&&!!xa[fa(wr)]}function Hd(wr){return function(dr){return wr(dr)}}var ol=typeof or=="object"&&or&&!or.nodeType&&or,sl=ol&&typeof pr=="object"&&pr&&!pr.nodeType&&pr,Wd=sl&&sl.exports===ol,Ou=Wd&&Qi.process,cl=function(){try{return Ou&&Ou.binding&&Ou.binding("util")}catch{}}(),ul=cl&&cl.isTypedArray,Kd=ul?Hd(ul):zd,Gd=Object.prototype,Yd=Gd.hasOwnProperty;function $d(wr,dr){var gr=io(wr),hr=!gr&&fo(wr),Sr=!gr&&!hr&&pd(wr),Cr=!gr&&!hr&&!Sr&&Kd(wr),Tr=gr||hr||Sr||Cr,Br=Tr?Va(wr.length,String):[],zr=Br.length;for(var Qr in wr)(dr||Yd.call(wr,Qr))&&!(Tr&&(Qr=="length"||Sr&&(Qr=="offset"||Qr=="parent")||Cr&&(Qr=="buffer"||Qr=="byteLength"||Qr=="byteOffset")||md(Qr,zr)))&&Br.push(Qr);return Br}var Qd=Object.prototype;function Xd(wr){var dr=wr&&wr.constructor,gr=typeof dr=="function"&&dr.prototype||Qd;return wr===gr}function Jd(wr,dr){return function(gr){return wr(dr(gr))}}var Zd=Jd(Object.keys,Object),eh=Object.prototype,th=eh.hasOwnProperty;function rh(wr){if(!Xd(wr))return Zd(wr);var dr=[];for(var gr in Object(wr))th.call(wr,gr)&&gr!="constructor"&&dr.push(gr);return dr}function nh(wr){return Ki(wr)?$d(wr):rh(wr)}function ih(wr){var dr=-1,gr=wr.length;return function(){return++dr<gr?{value:wr[dr],key:dr}:null}}function ah(wr){var dr=-1;return function(){var hr=wr.next();return hr.done?null:(dr++,{value:hr.value,key:dr})}}function oh(wr){var dr=nh(wr),gr=-1,hr=dr.length;return function(){var Cr=dr[++gr];return gr<hr?{value:wr[Cr],key:Cr}:null}}function sh(wr){if(Ki(wr))return ih(wr);var dr=Pa(wr);return dr?ah(dr):oh(wr)}function ll(wr){return function(){if(wr===null)throw new Error("Callback was already called.");var dr=wr;wr=null,dr.apply(this,arguments)}}function fl(wr){return function(dr,gr,hr){if(hr=va(hr||lo),wr<=0||!dr)return hr(null);var Sr=sh(dr),Cr=!1,Tr=0;function Br(Qr,li){if(Tr-=1,Qr)Cr=!0,hr(Qr);else{if(li===mo||Cr&&Tr<=0)return Cr=!0,hr(null);zr()}}function zr(){for(;Tr<wr&&!Cr;){var Qr=Sr();if(Qr===null){Cr=!0,Tr<=0&&hr(null);return}Tr+=1,gr(Qr.value,Qr.key,ll(Br))}}zr()}}function dl(wr,dr,gr,hr){fl(dr)(wr,gr,hr)}function Tu(wr,dr){return function(gr,hr,Sr){return wr(gr,dr,hr,Sr)}}function ch(wr,dr,gr){gr=va(gr||lo);var hr=0,Sr=0,Cr=wr.length;Cr===0&&gr(null);function Tr(Br,zr){Br?gr(Br):(++Sr===Cr||zr===mo)&&gr(null)}for(;hr<Cr;hr++)dr(wr[hr],hr,ll(Tr))}var uh=Tu(dl,1/0),hl=function(wr,dr,gr){var hr=Ki(wr)?ch:uh;hr(wr,dr,gr)};function lh(wr){return function(dr,gr,hr){return wr(hl,dr,gr,hr)}}function xl(wr,dr,gr,hr){hr=hr||lo,dr=dr||[];var Sr=[],Cr=0;wr(dr,function(Tr,Br,zr){var Qr=Cr++;gr(Tr,function(li,gi){Sr[Qr]=gi,zr(li)})},function(Tr){hr(Tr,Sr)})}var fh=lh(xl);Ri(fh);function dh(wr){return function(dr,gr,hr,Sr){return wr(fl(gr),dr,hr,Sr)}}var hh=dh(xl),xh=Tu(hh,1);Ri(xh),fi(function(wr,dr){return fi(function(gr){return wr.apply(null,dr.concat(gr))})});function ph(wr,dr){for(var gr=-1,hr=wr==null?0:wr.length;++gr<hr&&dr(wr[gr],gr,wr)!==!1;);return wr}var pl=typeof setImmediate=="function"&&setImmediate,_l=typeof br=="object"&&typeof br.nextTick=="function";function vl(wr){setTimeout(wr,0)}function ml(wr){return fi(function(dr,gr){wr(function(){dr.apply(null,gr)})})}var oc;pl?oc=setImmediate:_l?oc=br.nextTick:oc=vl,ml(oc);var _h=Tu(dl,1);function vh(wr,dr,gr,hr){hr=va(hr||lo),_h(wr,function(Sr,Cr,Tr){gr(dr,Sr,function(Br,zr){dr=zr,Tr(Br)})},function(Sr){hr(Sr,dr)})}var mh=fi(function(dr){return fi(function(gr){var hr=this,Sr=gr[gr.length-1];typeof Sr=="function"?gr.pop():Sr=lo,vh(dr,gr,function(Cr,Tr,Br){Tr.apply(hr,Cr.concat(fi(function(zr,Qr){Br(zr,Qr)})))},function(Cr,Tr){Sr.apply(hr,[Cr].concat(Tr))})})});fi(function(wr){return mh.apply(null,wr.reverse())}),fi(function(wr){var dr=[null].concat(wr);return vi(function(gr,hr){return hr.apply(this,dr)})});function gl(wr){return fi(function(dr,gr){dr.apply(null,gr.concat(fi(function(hr,Sr){typeof console=="object"&&(hr?console.error&&console.error(hr):console[wr]&&ph(Sr,function(Cr){console[wr](Cr)}))})))})}gl("dir");function gh(wr){return function(dr,gr,hr){return wr(dr,hr)}}function yl(wr,dr,gr){hl(wr,gh(dr),gr)}gl("log");var sc;_l?sc=br.nextTick:pl?sc=setImmediate:sc=vl,ml(sc);var Ha;function yh(){Ha||(Ha={},Ha[Dropbox.ApiError.NETWORK_ERROR]=vr.EIO,Ha[Dropbox.ApiError.INVALID_PARAM]=vr.EINVAL,Ha[Dropbox.ApiError.INVALID_TOKEN]=vr.EPERM,Ha[Dropbox.ApiError.OAUTH_ERROR]=vr.EPERM,Ha[Dropbox.ApiError.NOT_FOUND]=vr.ENOENT,Ha[Dropbox.ApiError.INVALID_METHOD]=vr.EINVAL,Ha[Dropbox.ApiError.NOT_ACCEPTABLE]=vr.EINVAL,Ha[Dropbox.ApiError.CONFLICT]=vr.EINVAL,Ha[Dropbox.ApiError.RATE_LIMITED]=vr.EBUSY,Ha[Dropbox.ApiError.SERVER_ERROR]=vr.EBUSY,Ha[Dropbox.ApiError.OVER_QUOTA]=vr.ENOSPC)}function bh(wr){return wr&&wr.stat.isFile}function Eh(wr){return wr&&wr.stat.isFolder}function wh(wr){return wr==null||typeof wr=="object"&&typeof wr.byteLength=="number"}var Na=function(dr){this._cache={},this._client=dr};Na.prototype.readdir=function(dr,gr){var hr=this,Sr=this.getCachedDirInfo(dr);this._wrap(function(Cr){Sr!==null&&Sr.contents?hr._client.readdir(dr,{contentHash:Sr.stat.contentHash},Cr):hr._client.readdir(dr,Cr)},function(Cr,Tr,Br,zr){Cr?Cr.status===Dropbox.ApiError.NO_CONTENT&&Sr!==null?gr(null,Sr.contents.slice(0)):gr(Cr):(hr.updateCachedDirInfo(dr,Br,Tr.slice(0)),zr.forEach(function(Qr){hr.updateCachedInfo(_r.join(dr,Qr.name),Qr)}),gr(null,Tr))})},Na.prototype.remove=function(dr,gr){var hr=this;this._wrap(function(Sr){hr._client.remove(dr,Sr)},function(Sr,Cr){Sr||hr.updateCachedInfo(dr,Cr),gr(Sr)})},Na.prototype.move=function(dr,gr,hr){var Sr=this;this._wrap(function(Cr){Sr._client.move(dr,gr,Cr)},function(Cr,Tr){Cr||(Sr.deleteCachedInfo(dr),Sr.updateCachedInfo(gr,Tr)),hr(Cr)})},Na.prototype.stat=function(dr,gr){var hr=this;this._wrap(function(Sr){hr._client.stat(dr,Sr)},function(Sr,Cr){Sr||hr.updateCachedInfo(dr,Cr),gr(Sr,Cr)})},Na.prototype.readFile=function(dr,gr){var hr=this,Sr=this.getCachedFileInfo(dr);Sr!==null&&Sr.contents!==null?this.stat(dr,function(Cr,Tr){Cr?gr(Cr):Tr.contentHash===Sr.stat.contentHash?gr(Cr,Sr.contents.slice(0),Sr.stat):hr.readFile(dr,gr)}):this._wrap(function(Cr){hr._client.readFile(dr,{arrayBuffer:!0},Cr)},function(Cr,Tr,Br){Cr||hr.updateCachedInfo(dr,Br,Tr.slice(0)),gr(Cr,Tr,Br)})},Na.prototype.writeFile=function(dr,gr,hr){var Sr=this;this._wrap(function(Cr){Sr._client.writeFile(dr,gr,Cr)},function(Cr,Tr){Cr||Sr.updateCachedInfo(dr,Tr,gr.slice(0)),hr(Cr,Tr)})},Na.prototype.mkdir=function(dr,gr){var hr=this;this._wrap(function(Sr){hr._client.mkdir(dr,Sr)},function(Sr,Cr){Sr||hr.updateCachedInfo(dr,Cr,[]),gr(Sr)})},Na.prototype._wrap=function(dr,gr){var hr=0,Sr=function(Cr){var Tr=2;if(Cr&&3>++hr)switch(Cr.status){case Dropbox.ApiError.SERVER_ERROR:case Dropbox.ApiError.NETWORK_ERROR:case Dropbox.ApiError.RATE_LIMITED:setTimeout(function(){dr(Sr)},Tr*1e3);break;default:gr.apply(null,arguments);break}else gr.apply(null,arguments)};dr(Sr)},Na.prototype.getCachedInfo=function(dr){return this._cache[dr.toLowerCase()]},Na.prototype.putCachedInfo=function(dr,gr){this._cache[dr.toLowerCase()]=gr},Na.prototype.deleteCachedInfo=function(dr){delete this._cache[dr.toLowerCase()]},Na.prototype.getCachedDirInfo=function(dr){var gr=this.getCachedInfo(dr);return Eh(gr)?gr:null},Na.prototype.getCachedFileInfo=function(dr){var gr=this.getCachedInfo(dr);return bh(gr)?gr:null},Na.prototype.updateCachedDirInfo=function(dr,gr,hr){hr===void 0&&(hr=null);var Sr=this.getCachedInfo(dr);gr.contentHash!==null&&(Sr===void 0||Sr.stat.contentHash!==gr.contentHash)&&this.putCachedInfo(dr,{stat:gr,contents:hr})},Na.prototype.updateCachedFileInfo=function(dr,gr,hr){hr===void 0&&(hr=null);var Sr=this.getCachedInfo(dr);gr.versionTag!==null&&(Sr===void 0||Sr.stat.versionTag!==gr.versionTag)&&this.putCachedInfo(dr,{stat:gr,contents:hr})},Na.prototype.updateCachedInfo=function(dr,gr,hr){hr===void 0&&(hr=null),gr.isFile&&wh(hr)?this.updateCachedFileInfo(dr,gr,hr):gr.isFolder&&Array.isArray(hr)&&this.updateCachedDirInfo(dr,gr,hr)};var Sh=function(wr){function dr(gr,hr,Sr,Cr,Tr){wr.call(this,gr,hr,Sr,Cr,Tr)}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.prototype.sync=function(hr){var Sr=this;if(this.isDirty()){var Cr=this.getBuffer(),Tr=$r(Cr);this._fs._writeFileStrict(this.getPath(),Tr,function(Br){Br||Sr.resetDirty(),hr(Br)})}else hr()},dr.prototype.close=function(hr){this.sync(hr)},dr}(ri),cc=function(wr){function dr(gr,hr){hr===void 0&&(hr=!0),wr.call(this),this._client=new Na(gr),Ei(hr,dr.Name,{client:"authenticated dropbox client instance"}),yh()}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.Create=function(hr,Sr){Sr(null,new dr(hr.client,!1))},dr.isAvailable=function(){return typeof Dropbox<"u"},dr.prototype.getName=function(){return dr.Name},dr.prototype.isReadOnly=function(){return!1},dr.prototype.supportsSymlinks=function(){return!1},dr.prototype.supportsProps=function(){return!1},dr.prototype.supportsSynch=function(){return!1},dr.prototype.empty=function(hr){var Sr=this;this._client.readdir("/",function(Cr,Tr){if(Cr)hr(Sr.convert(Cr,"/"));else{var Br=function(Qr,li){var gi=_r.join("/",Qr);Sr._client.remove(gi,function(Ii){li(Ii?Sr.convert(Ii,gi):null)})},zr=function(Qr){Qr?hr(Qr):hr()};yl(Tr,Br,zr)}})},dr.prototype.rename=function(hr,Sr,Cr){var Tr=this;this._client.move(hr,Sr,function(Br){Br?Tr._client.stat(Sr,function(zr,Qr){if(zr||Qr.isFolder){var li=Br.response.error.indexOf(hr)>-1?hr:Sr;Cr(Tr.convert(Br,li))}else Tr._client.remove(Sr,function(gi){gi?Cr(Tr.convert(gi,Sr)):Tr.rename(hr,Sr,Cr)})}):Cr()})},dr.prototype.stat=function(hr,Sr,Cr){var Tr=this;this._client.stat(hr,function(Br,zr){if(Br)Cr(Tr.convert(Br,hr));else if(zr&&zr.isRemoved)Cr(yr.FileError(vr.ENOENT,hr));else{var Qr=new Dr(Tr._statType(zr),zr.size);return Cr(null,Qr)}})},dr.prototype.open=function(hr,Sr,Cr,Tr){var Br=this;this._client.readFile(hr,function(zr,Qr,li){if(zr)if(Sr.isReadable())Tr(Br.convert(zr,hr));else switch(zr.status){case Dropbox.ApiError.NOT_FOUND:var gi=new ArrayBuffer(0);return Br._writeFileStrict(hr,gi,function(Li,$i){if(Li)Tr(Li);else{var ea=Br._makeFile(hr,Sr,$i,bi(gi));Tr(null,ea)}});default:return Tr(Br.convert(zr,hr))}else{var Ii;Qr===null?Ii=Ti():Ii=bi(Qr);var Ni=Br._makeFile(hr,Sr,li,Ii);return Tr(null,Ni)}})},dr.prototype._writeFileStrict=function(hr,Sr,Cr){var Tr=this,Br=_r.dirname(hr);this.stat(Br,!1,function(zr,Qr){zr?Cr(yr.FileError(vr.ENOENT,Br)):Tr._client.writeFile(hr,Sr,function(li,gi){li?Cr(Tr.convert(li,hr)):Cr(null,gi)})})},dr.prototype._statType=function(hr){return hr.isFile?Or.FILE:Or.DIRECTORY},dr.prototype._makeFile=function(hr,Sr,Cr,Tr){var Br=this._statType(Cr),zr=new Dr(Br,Cr.size);return new Sh(this,hr,Sr,zr,Tr)},dr.prototype._remove=function(hr,Sr,Cr){var Tr=this;this._client.stat(hr,function(Br,zr){Br?Sr(Tr.convert(Br,hr)):zr.isFile&&!Cr?Sr(yr.FileError(vr.ENOTDIR,hr)):!zr.isFile&&Cr?Sr(yr.FileError(vr.EISDIR,hr)):Tr._client.remove(hr,function(Qr){Sr(Qr?Tr.convert(Qr,hr):null)})})},dr.prototype.unlink=function(hr,Sr){this._remove(hr,Sr,!0)},dr.prototype.rmdir=function(hr,Sr){this._remove(hr,Sr,!1)},dr.prototype.mkdir=function(hr,Sr,Cr){var Tr=this,Br=_r.dirname(hr);this._client.stat(Br,function(zr,Qr){zr?Cr(Tr.convert(zr,Br)):Tr._client.mkdir(hr,function(li){Cr(li?yr.FileError(vr.EEXIST,hr):null)})})},dr.prototype.readdir=function(hr,Sr){var Cr=this;this._client.readdir(hr,function(Tr,Br){return Tr?Sr(Cr.convert(Tr)):Sr(null,Br)})},dr.prototype.convert=function(hr,Sr){Sr===void 0&&(Sr=null);var Cr=Ha[hr.status];return Cr===void 0&&(Cr=vr.EIO),Sr?yr.FileError(Cr,Sr):new yr(Cr)},dr}(di);cc.Name="Dropbox",cc.Options={client:{type:"object",description:"An *authenticated* Dropbox client. Must be from the 0.10 JS SDK.",validator:function(wr,dr){wr.isAuthenticated&&wr.isAuthenticated()?dr():dr(new yr(vr.EINVAL,"'client' option must be an authenticated Dropbox client from the v0.10 JS SDK."))}}};function Ea(wr,dr){dr===void 0&&(dr="");for(var gr=wr.errno,hr=wr.node,Sr=[];hr&&(Sr.unshift(hr.name),hr!==hr.parent);)hr=hr.parent;return new yr(gr,Er[gr],Sr.length>0?"/"+Sr.join("/"):dr)}var Ah=function(wr){function dr(gr,hr,Sr,Cr){wr.call(this),this._fs=gr,this._FS=hr,this._path=Sr,this._stream=Cr}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.prototype.getPos=function(){},dr.prototype.close=function(hr){var Sr=null;try{this.closeSync()}catch(Cr){Sr=Cr}finally{hr(Sr)}},dr.prototype.closeSync=function(){try{this._FS.close(this._stream)}catch(hr){throw Ea(hr,this._path)}},dr.prototype.stat=function(hr){try{hr(null,this.statSync())}catch(Sr){hr(Sr)}},dr.prototype.statSync=function(){try{return this._fs.statSync(this._path,!1)}catch(hr){throw Ea(hr,this._path)}},dr.prototype.truncate=function(hr,Sr){var Cr=null;try{this.truncateSync(hr)}catch(Tr){Cr=Tr}finally{Sr(Cr)}},dr.prototype.truncateSync=function(hr){try{this._FS.ftruncate(this._stream.fd,hr)}catch(Sr){throw Ea(Sr,this._path)}},dr.prototype.write=function(hr,Sr,Cr,Tr,Br){try{Br(null,this.writeSync(hr,Sr,Cr,Tr),hr)}catch(zr){Br(zr)}},dr.prototype.writeSync=function(hr,Sr,Cr,Tr){try{var Br=ei(hr),zr=Tr===null?void 0:Tr;return this._FS.write(this._stream,Br,Sr,Cr,zr)}catch(Qr){throw Ea(Qr,this._path)}},dr.prototype.read=function(hr,Sr,Cr,Tr,Br){try{Br(null,this.readSync(hr,Sr,Cr,Tr),hr)}catch(zr){Br(zr)}},dr.prototype.readSync=function(hr,Sr,Cr,Tr){try{var Br=ei(hr),zr=Tr===null?void 0:Tr;return this._FS.read(this._stream,Br,Sr,Cr,zr)}catch(Qr){throw Ea(Qr,this._path)}},dr.prototype.sync=function(hr){hr()},dr.prototype.syncSync=function(){},dr.prototype.chown=function(hr,Sr,Cr){var Tr=null;try{this.chownSync(hr,Sr)}catch(Br){Tr=Br}finally{Cr(Tr)}},dr.prototype.chownSync=function(hr,Sr){try{this._FS.fchown(this._stream.fd,hr,Sr)}catch(Cr){throw Ea(Cr,this._path)}},dr.prototype.chmod=function(hr,Sr){var Cr=null;try{this.chmodSync(hr)}catch(Tr){Cr=Tr}finally{Sr(Cr)}},dr.prototype.chmodSync=function(hr){try{this._FS.fchmod(this._stream.fd,hr)}catch(Sr){throw Ea(Sr,this._path)}},dr.prototype.utimes=function(hr,Sr,Cr){var Tr=null;try{this.utimesSync(hr,Sr)}catch(Br){Tr=Br}finally{Cr(Tr)}},dr.prototype.utimesSync=function(hr,Sr){this._fs.utimesSync(this._path,hr,Sr)},dr}(ti),uc=function(wr){function dr(gr){wr.call(this),this._FS=gr}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.Create=function(hr,Sr){Sr(null,new dr(hr.FS))},dr.isAvailable=function(){return!0},dr.prototype.getName=function(){return this._FS.DB_NAME()},dr.prototype.isReadOnly=function(){return!1},dr.prototype.supportsLinks=function(){return!0},dr.prototype.supportsProps=function(){return!0},dr.prototype.supportsSynch=function(){return!0},dr.prototype.renameSync=function(hr,Sr){try{this._FS.rename(hr,Sr)}catch(Cr){throw Cr.errno===vr.ENOENT?Ea(Cr,this.existsSync(hr)?Sr:hr):Ea(Cr)}},dr.prototype.statSync=function(hr,Sr){try{var Cr=Sr?this._FS.lstat(hr):this._FS.stat(hr),Tr=this.modeToFileType(Cr.mode);return new Dr(Tr,Cr.size,Cr.mode,Cr.atime,Cr.mtime,Cr.ctime)}catch(Br){throw Ea(Br,hr)}},dr.prototype.openSync=function(hr,Sr,Cr){try{var Tr=this._FS.open(hr,Sr.getFlagString(),Cr);if(this._FS.isDir(Tr.node.mode))throw this._FS.close(Tr),yr.EISDIR(hr);return new Ah(this,this._FS,hr,Tr)}catch(Br){throw Ea(Br,hr)}},dr.prototype.unlinkSync=function(hr){try{this._FS.unlink(hr)}catch(Sr){throw Ea(Sr,hr)}},dr.prototype.rmdirSync=function(hr){try{this._FS.rmdir(hr)}catch(Sr){throw Ea(Sr,hr)}},dr.prototype.mkdirSync=function(hr,Sr){try{this._FS.mkdir(hr,Sr)}catch(Cr){throw Ea(Cr,hr)}},dr.prototype.readdirSync=function(hr){try{return this._FS.readdir(hr).filter(function(Sr){return Sr!=="."&&Sr!==".."})}catch(Sr){throw Ea(Sr,hr)}},dr.prototype.truncateSync=function(hr,Sr){try{this._FS.truncate(hr,Sr)}catch(Cr){throw Ea(Cr,hr)}},dr.prototype.readFileSync=function(hr,Sr,Cr){try{var Tr=this._FS.readFile(hr,{flags:Cr.getFlagString()}),Br=ui(Tr);return Sr?Br.toString(Sr):Br}catch(zr){throw Ea(zr,hr)}},dr.prototype.writeFileSync=function(hr,Sr,Cr,Tr,Br){try{Cr&&(Sr=lr.from(Sr,Cr));var zr=ei(Sr);this._FS.writeFile(hr,zr,{flags:Tr.getFlagString(),encoding:"binary"}),this._FS.chmod(hr,Br)}catch(Qr){throw Ea(Qr,hr)}},dr.prototype.chmodSync=function(hr,Sr,Cr){try{Sr?this._FS.lchmod(hr,Cr):this._FS.chmod(hr,Cr)}catch(Tr){throw Ea(Tr,hr)}},dr.prototype.chownSync=function(hr,Sr,Cr,Tr){try{Sr?this._FS.lchown(hr,Cr,Tr):this._FS.chown(hr,Cr,Tr)}catch(Br){throw Ea(Br,hr)}},dr.prototype.symlinkSync=function(hr,Sr,Cr){try{this._FS.symlink(hr,Sr)}catch(Tr){throw Ea(Tr)}},dr.prototype.readlinkSync=function(hr){try{return this._FS.readlink(hr)}catch(Sr){throw Ea(Sr,hr)}},dr.prototype.utimesSync=function(hr,Sr,Cr){try{this._FS.utime(hr,Sr.getTime(),Cr.getTime())}catch(Tr){throw Ea(Tr,hr)}},dr.prototype.modeToFileType=function(hr){if(this._FS.isDir(hr))return Or.DIRECTORY;if(this._FS.isFile(hr))return Or.FILE;if(this._FS.isLink(hr))return Or.SYMLINK;throw yr.EPERM("Invalid mode: "+hr)},dr}(yi);uc.Name="EmscriptenFileSystem",uc.Options={FS:{type:"object",description:"The Emscripten file system to use (the `FS` variable)"}};var Is=function(wr){function dr(gr,hr){wr.call(this),this._folder=gr,this._wrapped=hr}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.Create=function(hr,Sr){Sr(null,new dr(hr.folder,hr.wrapped))},dr.isAvailable=function(){return!0},dr.prototype.initialize=function(hr){var Sr=this;this._wrapped.exists(this._folder,function(Cr){Cr?hr():Sr._wrapped.isReadOnly()?hr(yr.ENOENT(Sr._folder)):Sr._wrapped.mkdir(Sr._folder,511,hr)})},dr.prototype.getName=function(){return this._wrapped.getName()},dr.prototype.isReadOnly=function(){return this._wrapped.isReadOnly()},dr.prototype.supportsProps=function(){return this._wrapped.supportsProps()},dr.prototype.supportsSynch=function(){return this._wrapped.supportsSynch()},dr.prototype.supportsLinks=function(){return!1},dr}(di);Is.Name="FolderAdapter",Is.Options={folder:{type:"string",description:"The folder to use as the root directory"},wrapped:{type:"object",description:"The file system to wrap"}};function bl(wr,dr){if(dr!==null&&typeof dr=="object"){var gr=dr,hr=gr.path;hr&&(hr="/"+_r.relative(wr,hr),gr.message=gr.message.replace(gr.path,hr),gr.path=hr)}return dr}function Ih(wr,dr){return typeof dr=="function"?function(gr){arguments.length>0&&(arguments[0]=bl(wr,gr)),dr.apply(null,arguments)}:dr}function El(wr,dr,gr){return wr.slice(wr.length-4)!=="Sync"?function(){return arguments.length>0&&(dr&&(arguments[0]=_r.join(this._folder,arguments[0])),gr&&(arguments[1]=_r.join(this._folder,arguments[1])),arguments[arguments.length-1]=Ih(this._folder,arguments[arguments.length-1])),this._wrapped[wr].apply(this._wrapped,arguments)}:function(){try{return dr&&(arguments[0]=_r.join(this._folder,arguments[0])),gr&&(arguments[1]=_r.join(this._folder,arguments[1])),this._wrapped[wr].apply(this._wrapped,arguments)}catch(hr){throw bl(this._folder,hr)}}}["diskSpace","stat","statSync","open","openSync","unlink","unlinkSync","rmdir","rmdirSync","mkdir","mkdirSync","readdir","readdirSync","exists","existsSync","realpath","realpathSync","truncate","truncateSync","readFile","readFileSync","writeFile","writeFileSync","appendFile","appendFileSync","chmod","chmodSync","chown","chownSync","utimes","utimesSync","readlink","readlinkSync"].forEach(function(wr){Is.prototype[wr]=El(wr,!0,!1)}),["rename","renameSync","link","linkSync","symlink","symlinkSync"].forEach(function(wr){Is.prototype[wr]=El(wr,!0,!0)});var lc;typeof window<"u"?lc=window:typeof self<"u"?lc=self:lc=xr;var Ca=lc;function Ch(wr){return wr.isDirectory}var Du=Ca.webkitRequestFileSystem||Ca.requestFileSystem||null;function kh(wr,dr,gr,hr){if(typeof navigator.webkitPersistentStorage<"u")switch(wr){case Ca.PERSISTENT:navigator.webkitPersistentStorage.requestQuota(dr,gr,hr);break;case Ca.TEMPORARY:navigator.webkitTemporaryStorage.requestQuota(dr,gr,hr);break;default:hr(new TypeError("Invalid storage type: "+wr));break}else Ca.webkitStorageInfo.requestQuota(wr,dr,gr,hr)}function Oh(wr){return Array.prototype.slice.call(wr||[],0)}function go(wr,dr,gr){switch(wr.name){case"PathExistsError":return yr.EEXIST(dr);case"QuotaExceededError":return yr.FileError(vr.ENOSPC,dr);case"NotFoundError":return yr.ENOENT(dr);case"SecurityError":return yr.FileError(vr.EACCES,dr);case"InvalidModificationError":return yr.FileError(vr.EPERM,dr);case"TypeMismatchError":return yr.FileError(gr?vr.ENOTDIR:vr.EISDIR,dr);case"EncodingError":case"InvalidStateError":case"NoModificationAllowedError":default:return yr.FileError(vr.EINVAL,dr)}}var Th=function(wr){function dr(gr,hr,Sr,Cr,Tr,Br){wr.call(this,gr,Sr,Cr,Tr,Br),this._entry=hr}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.prototype.sync=function(hr){var Sr=this;if(!this.isDirty())return hr();this._entry.createWriter(function(Cr){var Tr=Sr.getBuffer(),Br=new Blob([$r(Tr)]),zr=Br.size;Cr.onwriteend=function(Qr){Cr.onwriteend=null,Cr.onerror=null,Cr.truncate(zr),Sr.resetDirty(),hr()},Cr.onerror=function(Qr){hr(go(Qr,Sr.getPath(),!1))},Cr.write(Br)})},dr.prototype.close=function(hr){this.sync(hr)},dr}(ri),fc=function(wr){function dr(gr,hr,Sr){gr===void 0&&(gr=5),hr===void 0&&(hr=Ca.PERSISTENT),Sr===void 0&&(Sr=!0),wr.call(this),this.size=1024*1024*gr,this.type=hr,Ei(Sr,dr.Name,{size:gr,type:hr})}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.Create=function(hr,Sr){var Cr=new dr(hr.size,hr.type,!1);Cr.allocate(function(Tr){return Tr?Sr(Tr):Sr(null,Cr)},!1)},dr.isAvailable=function(){return!!Du},dr.prototype.getName=function(){return dr.Name},dr.prototype.isReadOnly=function(){return!1},dr.prototype.supportsSymlinks=function(){return!1},dr.prototype.supportsProps=function(){return!1},dr.prototype.supportsSynch=function(){return!1},dr.prototype.allocate=function(hr,Sr){var Cr=this;hr===void 0&&(hr=function(){}),Sr===void 0&&(Sr=!0),Sr&&console.warn("[HTML5FS] HTML5FS.allocate() is deprecated and will be removed in the next major release. Please use 'HTML5FS.Create({type: "+this.type+", size: "+this.size+"}, cb)' to create and allocate HTML5FS instances.");var Tr=function(zr){Cr.fs=zr,hr()},Br=function(zr){hr(go(zr,"/",!0))};this.type===Ca.PERSISTENT?kh(this.type,this.size,function(zr){Du(Cr.type,zr,Tr,Br)},Br):Du(this.type,this.size,Tr,Br)},dr.prototype.empty=function(hr){this._readdir("/",function(Sr,Cr){if(Sr)console.error("Failed to empty FS"),hr(Sr);else{var Tr=function(zr){Sr?(console.error("Failed to empty FS"),hr(Sr)):hr()},Br=function(zr,Qr){var li=function(){Qr()},gi=function(Ii){Qr(go(Ii,zr.fullPath,!zr.isDirectory))};Ch(zr)?zr.removeRecursively(li,gi):zr.remove(li,gi)};yl(Cr,Br,Tr)}})},dr.prototype.rename=function(hr,Sr,Cr){var Tr=this,Br=2,zr=0,Qr=this.fs.root,li=hr,gi=function(Ni){--Br<=0&&Cr(go(Ni,li,!1))},Ii=function(Ni){if(++zr===2)return Cr(new yr(vr.EINVAL,"Something was identified as both a file and a directory. This should never happen."));if(hr===Sr)return Cr();li=_r.dirname(Sr),Qr.getDirectory(li,{},function(Li){li=_r.basename(Sr),Ni.moveTo(Li,li,function($i){Cr()},function($i){Ni.isDirectory?(li=Sr,Tr.unlink(Sr,function(ea){ea?gi($i):Tr.rename(hr,Sr,Cr)})):gi($i)})},gi)};Qr.getFile(hr,{},Ii,gi),Qr.getDirectory(hr,{},Ii,gi)},dr.prototype.stat=function(hr,Sr,Cr){var Tr=this,Br={create:!1},zr=function(Ii){var Ni=function(Li){var $i=new Dr(Or.FILE,Li.size);Cr(null,$i)};Ii.file(Ni,li)},Qr=function(Ii){var Ni=4096,Li=new Dr(Or.DIRECTORY,Ni);Cr(null,Li)},li=function(Ii){Cr(go(Ii,hr,!1))},gi=function(){Tr.fs.root.getDirectory(hr,Br,Qr,li)};this.fs.root.getFile(hr,Br,zr,gi)},dr.prototype.open=function(hr,Sr,Cr,Tr){var Br=this,zr=function(Qr){Qr.name==="InvalidModificationError"&&Sr.isExclusive()?Tr(yr.EEXIST(hr)):Tr(go(Qr,hr,!1))};this.fs.root.getFile(hr,{create:Sr.pathNotExistsAction()===Ar.CREATE_FILE,exclusive:Sr.isExclusive()},function(Qr){Qr.file(function(li){var gi=new FileReader;gi.onloadend=function(Ii){var Ni=Br._makeFile(hr,Qr,Sr,li,gi.result);Tr(null,Ni)},gi.onerror=function(Ii){zr(gi.error)},gi.readAsArrayBuffer(li)},zr)},zr)},dr.prototype.unlink=function(hr,Sr){this._remove(hr,Sr,!0)},dr.prototype.rmdir=function(hr,Sr){var Cr=this;this.readdir(hr,function(Tr,Br){Tr?Sr(Tr):Br.length>0?Sr(yr.ENOTEMPTY(hr)):Cr._remove(hr,Sr,!1)})},dr.prototype.mkdir=function(hr,Sr,Cr){var Tr={create:!0,exclusive:!0},Br=function(Qr){Cr()},zr=function(Qr){Cr(go(Qr,hr,!0))};this.fs.root.getDirectory(hr,Tr,Br,zr)},dr.prototype.readdir=function(hr,Sr){this._readdir(hr,function(Cr,Tr){if(Tr){for(var Br=[],zr=0,Qr=Tr;zr<Qr.length;zr+=1){var li=Qr[zr];Br.push(li.name)}Sr(null,Br)}else return Sr(Cr)})},dr.prototype._makeFile=function(hr,Sr,Cr,Tr,Br){Br===void 0&&(Br=new ArrayBuffer(0));var zr=new Dr(Or.FILE,Tr.size),Qr=bi(Br);return new Th(this,Sr,hr,Cr,zr,Qr)},dr.prototype._readdir=function(hr,Sr){var Cr=function(Tr){Sr(go(Tr,hr,!0))};this.fs.root.getDirectory(hr,{create:!1},function(Tr){var Br=Tr.createReader(),zr=[],Qr=function(){Br.readEntries(function(li){li.length?(zr=zr.concat(Oh(li)),Qr()):Sr(null,zr)},Cr)};Qr()},Cr)},dr.prototype._remove=function(hr,Sr,Cr){var Tr=function(Qr){var li=function(){Sr()},gi=function(Ii){Sr(go(Ii,hr,!Cr))};Qr.remove(li,gi)},Br=function(Qr){Sr(go(Qr,hr,!Cr))},zr={create:!1};Cr?this.fs.root.getFile(hr,zr,Tr,Br):this.fs.root.getDirectory(hr,zr,Tr,Br)},dr}(di);fc.Name="HTML5FS",fc.Options={size:{type:"number",optional:!0,description:"Storage quota to request, in megabytes. Allocated value may be less. Defaults to 5."},type:{type:"number",optional:!0,description:"window.PERSISTENT or window.TEMPORARY. Defaults to PERSISTENT."}};var Wa=function(dr,gr,hr,Sr,Cr,Tr){this.id=dr,this.size=gr,this.mode=hr,this.atime=Sr,this.mtime=Cr,this.ctime=Tr};Wa.fromBuffer=function(dr){if(dr===void 0)throw new Error("NO");return new Wa(dr.toString("ascii",30),dr.readUInt32LE(0),dr.readUInt16LE(4),dr.readDoubleLE(6),dr.readDoubleLE(14),dr.readDoubleLE(22))},Wa.prototype.toStats=function(){return new Dr((this.mode&61440)===Or.DIRECTORY?Or.DIRECTORY:Or.FILE,this.size,this.mode,new Date(this.atime),new Date(this.mtime),new Date(this.ctime))},Wa.prototype.getSize=function(){return 30+this.id.length},Wa.prototype.toBuffer=function(dr){return dr===void 0&&(dr=lr.alloc(this.getSize())),dr.writeUInt32LE(this.size,0),dr.writeUInt16LE(this.mode,4),dr.writeDoubleLE(this.atime,6),dr.writeDoubleLE(this.mtime,14),dr.writeDoubleLE(this.ctime,22),dr.write(this.id,30,this.id.length,"ascii"),dr},Wa.prototype.update=function(dr){var gr=!1;this.size!==dr.size&&(this.size=dr.size,gr=!0),this.mode!==dr.mode&&(this.mode=dr.mode,gr=!0);var hr=dr.atime.getTime();this.atime!==hr&&(this.atime=hr,gr=!0);var Sr=dr.mtime.getTime();this.mtime!==Sr&&(this.mtime=Sr,gr=!0);var Cr=dr.ctime.getTime();return this.ctime!==Cr&&(this.ctime=Cr,gr=!0),gr},Wa.prototype.isFile=function(){return(this.mode&61440)===Or.FILE},Wa.prototype.isDirectory=function(){return(this.mode&61440)===Or.DIRECTORY};var Vo="/",Ru=null;function wl(){return Ru||(Ru=lr.from("{}"))}function dc(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(wr){var dr=Math.random()*16|0,gr=wr==="x"?dr:dr&3|8;return gr.toString(16)})}function Qa(wr,dr){return wr?(dr(wr),!1):!0}function Ta(wr,dr,gr){return wr?(dr.abort(function(){gr(wr)}),!1):!0}var To=function(dr){this.store=dr,this.originalData={},this.modifiedKeys=[]};To.prototype.get=function(dr){var gr=this.store.get(dr);return this.stashOldValue(dr,gr),gr},To.prototype.put=function(dr,gr,hr){return this.markModified(dr),this.store.put(dr,gr,hr)},To.prototype.del=function(dr){this.markModified(dr),this.store.del(dr)},To.prototype.commit=function(){},To.prototype.abort=function(){for(var dr=this,gr=0,hr=dr.modifiedKeys;gr<hr.length;gr+=1){var Sr=hr[gr],Cr=dr.originalData[Sr];Cr?dr.store.put(Sr,Cr,!0):dr.store.del(Sr)}},To.prototype.stashOldValue=function(dr,gr){this.originalData.hasOwnProperty(dr)||(this.originalData[dr]=gr)},To.prototype.markModified=function(dr){this.modifiedKeys.indexOf(dr)===-1&&(this.modifiedKeys.push(dr),this.originalData.hasOwnProperty(dr)||(this.originalData[dr]=this.store.get(dr)))};var Sl=function(wr){function dr(gr,hr,Sr,Cr,Tr){wr.call(this,gr,hr,Sr,Cr,Tr)}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this.getPath(),this.getBuffer(),this.getStats()),this.resetDirty())},dr.prototype.closeSync=function(){this.syncSync()},dr}(ri),Al=function(wr){function dr(gr){wr.call(this),this.store=gr.store,this.makeRootDirectory()}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.isAvailable=function(){return!0},dr.prototype.getName=function(){return this.store.name()},dr.prototype.isReadOnly=function(){return!1},dr.prototype.supportsSymlinks=function(){return!1},dr.prototype.supportsProps=function(){return!1},dr.prototype.supportsSynch=function(){return!0},dr.prototype.empty=function(){this.store.clear(),this.makeRootDirectory()},dr.prototype.renameSync=function(hr,Sr){var Cr=this.store.beginTransaction("readwrite"),Tr=_r.dirname(hr),Br=_r.basename(hr),zr=_r.dirname(Sr),Qr=_r.basename(Sr),li=this.findINode(Cr,Tr),gi=this.getDirListing(Cr,Tr,li);if(!gi[Br])throw yr.ENOENT(hr);var Ii=gi[Br];if(delete gi[Br],(zr+"/").indexOf(hr+"/")===0)throw new yr(vr.EBUSY,Tr);var Ni,Li;if(zr===Tr?(Ni=li,Li=gi):(Ni=this.findINode(Cr,zr),Li=this.getDirListing(Cr,zr,Ni)),Li[Qr]){var $i=this.getINode(Cr,Sr,Li[Qr]);if($i.isFile())try{Cr.del($i.id),Cr.del(Li[Qr])}catch(ea){throw Cr.abort(),ea}else throw yr.EPERM(Sr)}Li[Qr]=Ii;try{Cr.put(li.id,lr.from(JSON.stringify(gi)),!0),Cr.put(Ni.id,lr.from(JSON.stringify(Li)),!0)}catch(ea){throw Cr.abort(),ea}Cr.commit()},dr.prototype.statSync=function(hr,Sr){return this.findINode(this.store.beginTransaction("readonly"),hr).toStats()},dr.prototype.createFileSync=function(hr,Sr,Cr){var Tr=this.store.beginTransaction("readwrite"),Br=Ti(),zr=this.commitNewFile(Tr,hr,Or.FILE,Cr,Br);return new Sl(this,hr,Sr,zr.toStats(),Br)},dr.prototype.openFileSync=function(hr,Sr){var Cr=this.store.beginTransaction("readonly"),Tr=this.findINode(Cr,hr),Br=Cr.get(Tr.id);if(Br===void 0)throw yr.ENOENT(hr);return new Sl(this,hr,Sr,Tr.toStats(),Br)},dr.prototype.unlinkSync=function(hr){this.removeEntry(hr,!1)},dr.prototype.rmdirSync=function(hr){if(this.readdirSync(hr).length>0)throw yr.ENOTEMPTY(hr);this.removeEntry(hr,!0)},dr.prototype.mkdirSync=function(hr,Sr){var Cr=this.store.beginTransaction("readwrite"),Tr=lr.from("{}");this.commitNewFile(Cr,hr,Or.DIRECTORY,Sr,Tr)},dr.prototype.readdirSync=function(hr){var Sr=this.store.beginTransaction("readonly");return Object.keys(this.getDirListing(Sr,hr,this.findINode(Sr,hr)))},dr.prototype._syncSync=function(hr,Sr,Cr){var Tr=this.store.beginTransaction("readwrite"),Br=this._findINode(Tr,_r.dirname(hr),_r.basename(hr)),zr=this.getINode(Tr,hr,Br),Qr=zr.update(Cr);try{Tr.put(zr.id,Sr,!0),Qr&&Tr.put(Br,zr.toBuffer(),!0)}catch(li){throw Tr.abort(),li}Tr.commit()},dr.prototype.makeRootDirectory=function(){var hr=this.store.beginTransaction("readwrite");if(hr.get(Vo)===void 0){var Sr=new Date().getTime(),Cr=new Wa(dc(),4096,511|Or.DIRECTORY,Sr,Sr,Sr);hr.put(Cr.id,wl(),!1),hr.put(Vo,Cr.toBuffer(),!1),hr.commit()}},dr.prototype._findINode=function(hr,Sr,Cr){var Tr=this,Br=function(zr){var Qr=Tr.getDirListing(hr,Sr,zr);if(Qr[Cr])return Qr[Cr];throw yr.ENOENT(_r.resolve(Sr,Cr))};return Sr==="/"?Cr===""?Vo:Br(this.getINode(hr,Sr,Vo)):Br(this.getINode(hr,Sr+_r.sep+Cr,this._findINode(hr,_r.dirname(Sr),_r.basename(Sr))))},dr.prototype.findINode=function(hr,Sr){return this.getINode(hr,Sr,this._findINode(hr,_r.dirname(Sr),_r.basename(Sr)))},dr.prototype.getINode=function(hr,Sr,Cr){var Tr=hr.get(Cr);if(Tr===void 0)throw yr.ENOENT(Sr);return Wa.fromBuffer(Tr)},dr.prototype.getDirListing=function(hr,Sr,Cr){if(!Cr.isDirectory())throw yr.ENOTDIR(Sr);var Tr=hr.get(Cr.id);if(Tr===void 0)throw yr.ENOENT(Sr);return JSON.parse(Tr.toString())},dr.prototype.addNewNode=function(hr,Sr){for(var Cr=0,Tr;Cr<5;)try{return Tr=dc(),hr.put(Tr,Sr,!1),Tr}catch{}throw new yr(vr.EIO,"Unable to commit data to key-value store.")},dr.prototype.commitNewFile=function(hr,Sr,Cr,Tr,Br){var zr=_r.dirname(Sr),Qr=_r.basename(Sr),li=this.findINode(hr,zr),gi=this.getDirListing(hr,zr,li),Ii=new Date().getTime();if(Sr==="/"||gi[Qr])throw yr.EEXIST(Sr);var Ni;try{var Li=this.addNewNode(hr,Br);Ni=new Wa(Li,Br.length,Tr|Cr,Ii,Ii,Ii);var $i=this.addNewNode(hr,Ni.toBuffer());gi[Qr]=$i,hr.put(li.id,lr.from(JSON.stringify(gi)),!0)}catch(ea){throw hr.abort(),ea}return hr.commit(),Ni},dr.prototype.removeEntry=function(hr,Sr){var Cr=this.store.beginTransaction("readwrite"),Tr=_r.dirname(hr),Br=this.findINode(Cr,Tr),zr=this.getDirListing(Cr,Tr,Br),Qr=_r.basename(hr);if(!zr[Qr])throw yr.ENOENT(hr);var li=zr[Qr];delete zr[Qr];var gi=this.getINode(Cr,hr,li);if(!Sr&&gi.isDirectory())throw yr.EISDIR(hr);if(Sr&&!gi.isDirectory())throw yr.ENOTDIR(hr);try{Cr.del(gi.id),Cr.del(li),Cr.put(Br.id,lr.from(JSON.stringify(zr)),!0)}catch(Ii){throw Cr.abort(),Ii}Cr.commit()},dr}(yi),Il=function(wr){function dr(gr,hr,Sr,Cr,Tr){wr.call(this,gr,hr,Sr,Cr,Tr)}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.prototype.sync=function(hr){var Sr=this;this.isDirty()?this._fs._sync(this.getPath(),this.getBuffer(),this.getStats(),function(Cr){Cr||Sr.resetDirty(),hr(Cr)}):hr()},dr.prototype.close=function(hr){this.sync(hr)},dr}(ri),Dh=function(wr){function dr(){wr.apply(this,arguments)}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.isAvailable=function(){return!0},dr.prototype.init=function(hr,Sr){this.store=hr,this.makeRootDirectory(Sr)},dr.prototype.getName=function(){return this.store.name()},dr.prototype.isReadOnly=function(){return!1},dr.prototype.supportsSymlinks=function(){return!1},dr.prototype.supportsProps=function(){return!1},dr.prototype.supportsSynch=function(){return!1},dr.prototype.empty=function(hr){var Sr=this;this.store.clear(function(Cr){Qa(Cr,hr)&&Sr.makeRootDirectory(hr)})},dr.prototype.rename=function(hr,Sr,Cr){var Tr=this,Br=this.store.beginTransaction("readwrite"),zr=_r.dirname(hr),Qr=_r.basename(hr),li=_r.dirname(Sr),gi=_r.basename(Sr),Ii={},Ni={},Li=!1;if((li+"/").indexOf(hr+"/")===0)return Cr(new yr(vr.EBUSY,zr));var $i=function(){if(!(Li||!Ni.hasOwnProperty(zr)||!Ni.hasOwnProperty(li))){var na=Ni[zr],ga=Ii[zr],La=Ni[li],Eo=Ii[li];if(!na[Qr])Cr(yr.ENOENT(hr));else{var wo=na[Qr];delete na[Qr];var Fs=function(){La[gi]=wo,Br.put(ga.id,lr.from(JSON.stringify(na)),!0,function(Fo){Ta(Fo,Br,Cr)&&(zr===li?Br.commit(Cr):Br.put(Eo.id,lr.from(JSON.stringify(La)),!0,function(Po){Ta(Po,Br,Cr)&&Br.commit(Cr)}))})};La[gi]?Tr.getINode(Br,Sr,La[gi],function(Fo,Po){Ta(Fo,Br,Cr)&&(Po.isFile()?Br.del(Po.id,function(xf){Ta(xf,Br,Cr)&&Br.del(La[gi],function(ax){Ta(ax,Br,Cr)&&Fs()})}):Br.abort(function(xf){Cr(yr.EPERM(Sr))}))}):Fs()}}},ea=function(na){Tr.findINodeAndDirListing(Br,na,function(ga,La,Eo){ga?Li||(Li=!0,Br.abort(function(){Cr(ga)})):(Ii[na]=La,Ni[na]=Eo,$i())})};ea(zr),zr!==li&&ea(li)},dr.prototype.stat=function(hr,Sr,Cr){var Tr=this.store.beginTransaction("readonly");this.findINode(Tr,hr,function(Br,zr){Qa(Br,Cr)&&Cr(null,zr.toStats())})},dr.prototype.createFile=function(hr,Sr,Cr,Tr){var Br=this,zr=this.store.beginTransaction("readwrite"),Qr=Ti();this.commitNewFile(zr,hr,Or.FILE,Cr,Qr,function(li,gi){Qa(li,Tr)&&Tr(null,new Il(Br,hr,Sr,gi.toStats(),Qr))})},dr.prototype.openFile=function(hr,Sr,Cr){var Tr=this,Br=this.store.beginTransaction("readonly");this.findINode(Br,hr,function(zr,Qr){Qa(zr,Cr)&&Br.get(Qr.id,function(li,gi){Qa(li,Cr)&&(gi===void 0?Cr(yr.ENOENT(hr)):Cr(null,new Il(Tr,hr,Sr,Qr.toStats(),gi)))})})},dr.prototype.unlink=function(hr,Sr){this.removeEntry(hr,!1,Sr)},dr.prototype.rmdir=function(hr,Sr){var Cr=this;this.readdir(hr,function(Tr,Br){Tr?Sr(Tr):Br.length>0?Sr(yr.ENOTEMPTY(hr)):Cr.removeEntry(hr,!0,Sr)})},dr.prototype.mkdir=function(hr,Sr,Cr){var Tr=this.store.beginTransaction("readwrite"),Br=lr.from("{}");this.commitNewFile(Tr,hr,Or.DIRECTORY,Sr,Br,Cr)},dr.prototype.readdir=function(hr,Sr){var Cr=this,Tr=this.store.beginTransaction("readonly");this.findINode(Tr,hr,function(Br,zr){Qa(Br,Sr)&&Cr.getDirListing(Tr,hr,zr,function(Qr,li){Qa(Qr,Sr)&&Sr(null,Object.keys(li))})})},dr.prototype._sync=function(hr,Sr,Cr,Tr){var Br=this,zr=this.store.beginTransaction("readwrite");this._findINode(zr,_r.dirname(hr),_r.basename(hr),function(Qr,li){Ta(Qr,zr,Tr)&&Br.getINode(zr,hr,li,function(gi,Ii){if(Ta(gi,zr,Tr)){var Ni=Ii.update(Cr);zr.put(Ii.id,Sr,!0,function(Li){Ta(Li,zr,Tr)&&(Ni?zr.put(li,Ii.toBuffer(),!0,function($i){Ta($i,zr,Tr)&&zr.commit(Tr)}):zr.commit(Tr))})}})})},dr.prototype.makeRootDirectory=function(hr){var Sr=this.store.beginTransaction("readwrite");Sr.get(Vo,function(Cr,Tr){if(Cr||Tr===void 0){var Br=new Date().getTime(),zr=new Wa(dc(),4096,511|Or.DIRECTORY,Br,Br,Br);Sr.put(zr.id,wl(),!1,function(Qr){Ta(Qr,Sr,hr)&&Sr.put(Vo,zr.toBuffer(),!1,function(li){li?Sr.abort(function(){hr(li)}):Sr.commit(hr)})})}else Sr.commit(hr)})},dr.prototype._findINode=function(hr,Sr,Cr,Tr){var Br=this,zr=function(Qr,li,gi){Qr?Tr(Qr):gi[Cr]?Tr(null,gi[Cr]):Tr(yr.ENOENT(_r.resolve(Sr,Cr)))};Sr==="/"?Cr===""?Tr(null,Vo):this.getINode(hr,Sr,Vo,function(Qr,li){Qa(Qr,Tr)&&Br.getDirListing(hr,Sr,li,function(gi,Ii){zr(gi,li,Ii)})}):this.findINodeAndDirListing(hr,Sr,zr)},dr.prototype.findINode=function(hr,Sr,Cr){var Tr=this;this._findINode(hr,_r.dirname(Sr),_r.basename(Sr),function(Br,zr){Qa(Br,Cr)&&Tr.getINode(hr,Sr,zr,Cr)})},dr.prototype.getINode=function(hr,Sr,Cr,Tr){hr.get(Cr,function(Br,zr){Qa(Br,Tr)&&(zr===void 0?Tr(yr.ENOENT(Sr)):Tr(null,Wa.fromBuffer(zr)))})},dr.prototype.getDirListing=function(hr,Sr,Cr,Tr){Cr.isDirectory()?hr.get(Cr.id,function(Br,zr){if(Qa(Br,Tr))try{Tr(null,JSON.parse(zr.toString()))}catch{Tr(yr.ENOENT(Sr))}}):Tr(yr.ENOTDIR(Sr))},dr.prototype.findINodeAndDirListing=function(hr,Sr,Cr){var Tr=this;this.findINode(hr,Sr,function(Br,zr){Qa(Br,Cr)&&Tr.getDirListing(hr,Sr,zr,function(Qr,li){Qa(Qr,Cr)&&Cr(null,zr,li)})})},dr.prototype.addNewNode=function(hr,Sr,Cr){var Tr=0,Br,zr=function(){++Tr===5?Cr(new yr(vr.EIO,"Unable to commit data to key-value store.")):(Br=dc(),hr.put(Br,Sr,!1,function(Qr,li){Qr||!li?zr():Cr(null,Br)}))};zr()},dr.prototype.commitNewFile=function(hr,Sr,Cr,Tr,Br,zr){var Qr=this,li=_r.dirname(Sr),gi=_r.basename(Sr),Ii=new Date().getTime();if(Sr==="/")return zr(yr.EEXIST(Sr));this.findINodeAndDirListing(hr,li,function(Ni,Li,$i){Ta(Ni,hr,zr)&&($i[gi]?hr.abort(function(){zr(yr.EEXIST(Sr))}):Qr.addNewNode(hr,Br,function(ea,na){if(Ta(ea,hr,zr)){var ga=new Wa(na,Br.length,Tr|Cr,Ii,Ii,Ii);Qr.addNewNode(hr,ga.toBuffer(),function(La,Eo){Ta(La,hr,zr)&&($i[gi]=Eo,hr.put(Li.id,lr.from(JSON.stringify($i)),!0,function(wo){Ta(wo,hr,zr)&&hr.commit(function(Fs){Ta(Fs,hr,zr)&&zr(null,ga)})}))})}}))})},dr.prototype.removeEntry=function(hr,Sr,Cr){var Tr=this,Br=this.store.beginTransaction("readwrite"),zr=_r.dirname(hr),Qr=_r.basename(hr);this.findINodeAndDirListing(Br,zr,function(li,gi,Ii){if(Ta(li,Br,Cr))if(!Ii[Qr])Br.abort(function(){Cr(yr.ENOENT(hr))});else{var Ni=Ii[Qr];delete Ii[Qr],Tr.getINode(Br,hr,Ni,function(Li,$i){Ta(Li,Br,Cr)&&(!Sr&&$i.isDirectory()?Br.abort(function(){Cr(yr.EISDIR(hr))}):Sr&&!$i.isDirectory()?Br.abort(function(){Cr(yr.ENOTDIR(hr))}):Br.del($i.id,function(ea){Ta(ea,Br,Cr)&&Br.del(Ni,function(na){Ta(na,Br,Cr)&&Br.put(gi.id,lr.from(JSON.stringify(Ii)),!0,function(ga){Ta(ga,Br,Cr)&&Br.commit(Cr)})})}))})}})},dr}(di),ts=function(){this.store={}};ts.prototype.name=function(){return Cs.Name},ts.prototype.clear=function(){this.store={}},ts.prototype.beginTransaction=function(dr){return new To(this)},ts.prototype.get=function(dr){return this.store[dr]},ts.prototype.put=function(dr,gr,hr){return!hr&&this.store.hasOwnProperty(dr)?!1:(this.store[dr]=gr,!0)},ts.prototype.del=function(dr){delete this.store[dr]};var Cs=function(wr){function dr(){wr.call(this,{store:new ts})}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.Create=function(hr,Sr){Sr(null,new dr)},dr}(Al);Cs.Name="InMemory",Cs.Options={};var Fu=Ca.indexedDB||Ca.mozIndexedDB||Ca.webkitIndexedDB||Ca.msIndexedDB;function h0(wr,dr){switch(dr===void 0&&(dr=wr.toString()),wr.name){case"NotFoundError":return new yr(vr.ENOENT,dr);case"QuotaExceededError":return new yr(vr.ENOSPC,dr);default:return new yr(vr.EIO,dr)}}function x0(wr,dr,gr){return dr===void 0&&(dr=vr.EIO),gr===void 0&&(gr=null),function(hr){hr.preventDefault(),wr(new yr(dr,gr!==null?gr:void 0))}}var Pu=function(dr,gr){this.tx=dr,this.store=gr};Pu.prototype.get=function(dr,gr){try{var hr=this.store.get(dr);hr.onerror=x0(gr),hr.onsuccess=function(Sr){var Cr=Sr.target.result;Cr===void 0?gr(null,Cr):gr(null,bi(Cr))}}catch(Sr){gr(h0(Sr))}};var Rh=function(wr){function dr(gr,hr){wr.call(this,gr,hr)}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.prototype.put=function(hr,Sr,Cr,Tr){try{var Br=$r(Sr),zr;Cr?zr=this.store.put(Br,hr):zr=this.store.add(Br,hr),zr.onerror=x0(Tr),zr.onsuccess=function(Qr){Tr(null,!0)}}catch(Qr){Tr(h0(Qr))}},dr.prototype.del=function(hr,Sr){try{var Cr=this.store.delete(hr);Cr.onerror=x0(Sr),Cr.onsuccess=function(Tr){Sr()}}catch(Tr){Sr(h0(Tr))}},dr.prototype.commit=function(hr){setTimeout(hr,0)},dr.prototype.abort=function(hr){var Sr=null;try{this.tx.abort()}catch(Cr){Sr=h0(Cr)}finally{hr(Sr)}},dr}(Pu),hc=function(dr,gr){var hr=this;gr===void 0&&(gr="browserfs"),this.storeName=gr;var Sr=Fu.open(this.storeName,1);Sr.onupgradeneeded=function(Cr){var Tr=Cr.target.result;Tr.objectStoreNames.contains(hr.storeName)&&Tr.deleteObjectStore(hr.storeName),Tr.createObjectStore(hr.storeName)},Sr.onsuccess=function(Cr){hr.db=Cr.target.result,dr(null,hr)},Sr.onerror=x0(dr,vr.EACCES)};hc.prototype.name=function(){return p0.Name+" - "+this.storeName},hc.prototype.clear=function(dr){try{var gr=this.db.transaction(this.storeName,"readwrite"),hr=gr.objectStore(this.storeName),Sr=hr.clear();Sr.onsuccess=function(Cr){setTimeout(dr,0)},Sr.onerror=x0(dr)}catch(Cr){dr(h0(Cr))}},hc.prototype.beginTransaction=function(dr){dr===void 0&&(dr="readonly");var gr=this.db.transaction(this.storeName,dr),hr=gr.objectStore(this.storeName);if(dr==="readwrite")return new Rh(gr,hr);if(dr==="readonly")return new Pu(gr,hr);throw new yr(vr.EINVAL,"Invalid transaction type.")};var p0=function(wr){function dr(gr,hr,Sr){var Cr=this;Sr===void 0&&(Sr=!0),wr.call(this),this.store=new hc(function(Tr){Tr?gr(Tr):Cr.init(Cr.store,function(Br){gr(Br,Cr)})},hr),Ei(Sr,dr.Name,{storeName:hr})}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.Create=function(hr,Sr){new dr(Sr,hr.storeName,!1)},dr.isAvailable=function(){try{return typeof Fu<"u"&&Fu.open("__browserfs_test__")!==null}catch{return!1}},dr}(Dh);p0.Name="IndexedDB",p0.Options={storeName:{type:"string",optional:!0,description:"The name of this file system. You can have multiple IndexedDB file systems operating at once, but each must have a different name."}};var Bu=!1,_0;try{Ca.localStorage.setItem("__test__",String.fromCharCode(55296)),Bu=Ca.localStorage.getItem("__test__")===String.fromCharCode(55296)}catch{Bu=!1}_0=Bu?"binary_string":"binary_string_ie",lr.isEncoding(_0)||(_0="base64");var rs=function(){};rs.prototype.name=function(){return v0.Name},rs.prototype.clear=function(){Ca.localStorage.clear()},rs.prototype.beginTransaction=function(dr){return new To(this)},rs.prototype.get=function(dr){try{var gr=Ca.localStorage.getItem(dr);if(gr!==null)return lr.from(gr,_0)}catch{}},rs.prototype.put=function(dr,gr,hr){try{return!hr&&Ca.localStorage.getItem(dr)!==null?!1:(Ca.localStorage.setItem(dr,gr.toString(_0)),!0)}catch{throw new yr(vr.ENOSPC,"LocalStorage is full.")}},rs.prototype.del=function(dr){try{Ca.localStorage.removeItem(dr)}catch(gr){throw new yr(vr.EIO,"Unable to delete key "+dr+": "+gr)}};var v0=function(wr){function dr(){wr.call(this,{store:new rs})}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.Create=function(hr,Sr){Sr(null,new dr)},dr.isAvailable=function(){return typeof Ca.localStorage<"u"},dr}(Al);v0.Name="LocalStorage",v0.Options={};var ks=function(wr){function dr(){wr.call(this),this.mountList=[],this.mntMap={},this.rootFs=new Cs}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.Create=function(hr,Sr){var Cr=new dr;Object.keys(hr).forEach(function(Tr){Cr.mount(Tr,hr[Tr])}),Sr(null,Cr)},dr.isAvailable=function(){return!0},dr.prototype.mount=function(hr,Sr){if(hr[0]!=="/"&&(hr="/"+hr),hr=_r.resolve(hr),this.mntMap[hr])throw new yr(vr.EINVAL,"Mount point "+hr+" is already taken.");ci(hr,511,this.rootFs),this.mntMap[hr]=Sr,this.mountList.push(hr),this.mountList=this.mountList.sort(function(Cr,Tr){return Tr.length-Cr.length})},dr.prototype.umount=function(hr){var Sr=this;if(hr[0]!=="/"&&(hr="/"+hr),hr=_r.resolve(hr),!this.mntMap[hr])throw new yr(vr.EINVAL,"Mount point "+hr+" is already unmounted.");for(delete this.mntMap[hr],this.mountList.splice(this.mountList.indexOf(hr),1);hr!=="/"&&Sr.rootFs.readdirSync(hr).length===0;)Sr.rootFs.rmdirSync(hr),hr=_r.dirname(hr)},dr.prototype._getFs=function(hr){for(var Sr=this,Cr=this.mountList,Tr=Cr.length,Br=0;Br<Tr;Br++){var zr=Cr[Br];if(zr.length<=hr.length&&hr.indexOf(zr)===0)return hr=hr.substr(zr.length>1?zr.length:0),hr===""&&(hr="/"),{fs:Sr.mntMap[zr],path:hr}}return{fs:this.rootFs,path:hr}},dr.prototype.getName=function(){return dr.Name},dr.prototype.diskSpace=function(hr,Sr){Sr(0,0)},dr.prototype.isReadOnly=function(){return!1},dr.prototype.supportsLinks=function(){return!1},dr.prototype.supportsProps=function(){return!1},dr.prototype.supportsSynch=function(){return!0},dr.prototype.standardizeError=function(hr,Sr,Cr){var Tr=hr.message.indexOf(Sr);return Tr!==-1&&(hr.message=hr.message.substr(0,Tr)+Cr+hr.message.substr(Tr+Sr.length),hr.path=Cr),hr},dr.prototype.rename=function(hr,Sr,Cr){var Tr=this,Br=this._getFs(hr),zr=this._getFs(Sr);return Br.fs===zr.fs?Br.fs.rename(Br.path,zr.path,function(Qr){Qr&&Tr.standardizeError(Tr.standardizeError(Qr,Br.path,hr),zr.path,Sr),Cr(Qr)}):Wr.readFile(hr,function(Qr,li){if(Qr)return Cr(Qr);Wr.writeFile(Sr,li,function(gi){if(gi)return Cr(gi);Wr.unlink(hr,Cr)})})},dr.prototype.renameSync=function(hr,Sr){var Cr=this._getFs(hr),Tr=this._getFs(Sr);if(Cr.fs===Tr.fs)try{return Cr.fs.renameSync(Cr.path,Tr.path)}catch(zr){throw this.standardizeError(this.standardizeError(zr,Cr.path,hr),Tr.path,Sr),zr}var Br=Wr.readFileSync(hr);return Wr.writeFileSync(Sr,Br),Wr.unlinkSync(hr)},dr.prototype.readdirSync=function(hr){var Sr=this._getFs(hr),Cr=null;if(Sr.fs!==this.rootFs)try{Cr=this.rootFs.readdirSync(hr)}catch{}try{var Tr=Sr.fs.readdirSync(Sr.path);return Cr===null?Tr:Tr.concat(Cr.filter(function(Br){return Tr.indexOf(Br)===-1}))}catch(Br){if(Cr===null)throw this.standardizeError(Br,Sr.path,hr);return Cr}},dr.prototype.readdir=function(hr,Sr){var Cr=this,Tr=this._getFs(hr);Tr.fs.readdir(Tr.path,function(Br,zr){if(Tr.fs!==Cr.rootFs)try{var Qr=Cr.rootFs.readdirSync(hr);zr?zr=zr.concat(Qr.filter(function(li){return zr.indexOf(li)===-1})):zr=Qr}catch{if(Br)return Sr(Cr.standardizeError(Br,Tr.path,hr))}else if(Br)return Sr(Cr.standardizeError(Br,Tr.path,hr));Sr(null,zr)})},dr.prototype.rmdirSync=function(hr){var Sr=this._getFs(hr);if(this._containsMountPt(hr))throw yr.ENOTEMPTY(hr);try{Sr.fs.rmdirSync(Sr.path)}catch(Cr){throw this.standardizeError(Cr,Sr.path,hr)}},dr.prototype.rmdir=function(hr,Sr){var Cr=this,Tr=this._getFs(hr);this._containsMountPt(hr)?Sr(yr.ENOTEMPTY(hr)):Tr.fs.rmdir(Tr.path,function(Br){Sr(Br?Cr.standardizeError(Br,Tr.path,hr):null)})},dr.prototype._containsMountPt=function(hr){for(var Sr=this.mountList,Cr=Sr.length,Tr=0;Tr<Cr;Tr++){var Br=Sr[Tr];if(Br.length>=hr.length&&Br.slice(0,hr.length)===hr)return!0}return!1},dr}(di);ks.Name="MountableFileSystem",ks.Options={};function Cl(wr,dr,gr){return dr?function(){for(var hr=[],Sr=arguments.length;Sr--;)hr[Sr]=arguments[Sr];var Cr=hr[0],Tr=this._getFs(Cr);hr[0]=Tr.path;try{return Tr.fs[wr].apply(Tr.fs,hr)}catch(Br){throw this.standardizeError(Br,Tr.path,Cr),Br}}:function(){for(var hr=this,Sr=[],Cr=arguments.length;Cr--;)Sr[Cr]=arguments[Cr];var Tr=Sr[0],Br=this._getFs(Tr);if(Sr[0]=Br.path,typeof Sr[Sr.length-1]=="function"){var zr=Sr[Sr.length-1];Sr[Sr.length-1]=function(){for(var Qr=[],li=arguments.length;li--;)Qr[li]=arguments[li];Qr.length>0&&Qr[0]instanceof yr&&hr.standardizeError(Qr[0],Br.path,Tr),zr.apply(null,Qr)}}return Br.fs[wr].apply(Br.fs,Sr)}}for(var kl=[["exists","unlink","readlink"],["stat","mkdir","realpath","truncate"],["open","readFile","chmod","utimes"],["chown"],["writeFile","appendFile"]],qu=0;qu<kl.length;qu++)for(var Fh=kl[qu],Nu=0,Ol=Fh;Nu<Ol.length;Nu+=1){var xc=Ol[Nu];ks.prototype[xc]=Cl(xc,!1),ks.prototype[xc+"Sync"]=Cl(xc+"Sync",!0)}var m0;if(typeof setImmediate<"u")m0=setImmediate;else{var ao=Ca,Os=[],Tl="zero-timeout-message",Ph=function(){if(typeof ao.importScripts<"u"||!ao.postMessage)return!1;var wr=!0,dr=ao.onmessage;return ao.onmessage=function(){wr=!1},ao.postMessage("","*"),ao.onmessage=dr,wr};if(Ph()){m0=function(wr){Os.push(wr),ao.postMessage(Tl,"*")};var Dl=function(wr){if(wr.source===self&&wr.data===Tl&&(wr.stopPropagation?wr.stopPropagation():wr.cancelBubble=!0,Os.length>0)){var dr=Os.shift();return dr()}};ao.addEventListener?ao.addEventListener("message",Dl,!0):ao.attachEvent("onmessage",Dl)}else if(ao.MessageChannel){var Rl=new ao.MessageChannel;Rl.port1.onmessage=function(wr){if(Os.length>0)return Os.shift()()},m0=function(wr){Os.push(wr),Rl.port2.postMessage("")}}else m0=function(wr){return setTimeout(wr,0)}}var Lu=m0,g0=function(){this._locked=!1,this._waiters=[]};g0.prototype.lock=function(dr){if(this._locked){this._waiters.push(dr);return}this._locked=!0,dr()},g0.prototype.unlock=function(){if(!this._locked)throw new Error("unlock of a non-locked mutex");var dr=this._waiters.shift();if(dr){Lu(dr);return}this._locked=!1},g0.prototype.tryLock=function(){return this._locked?!1:(this._locked=!0,!0)},g0.prototype.isLocked=function(){return this._locked};var ra=function(dr){this._fs=dr,this._mu=new g0};ra.prototype.getName=function(){return"LockedFS<"+this._fs.getName()+">"},ra.prototype.getFSUnlocked=function(){return this._fs},ra.prototype.initialize=function(dr){this._fs.initialize(dr)},ra.prototype.diskSpace=function(dr,gr){this._fs.diskSpace(dr,gr)},ra.prototype.isReadOnly=function(){return this._fs.isReadOnly()},ra.prototype.supportsLinks=function(){return this._fs.supportsLinks()},ra.prototype.supportsProps=function(){return this._fs.supportsProps()},ra.prototype.supportsSynch=function(){return this._fs.supportsSynch()},ra.prototype.rename=function(dr,gr,hr){var Sr=this;this._mu.lock(function(){Sr._fs.rename(dr,gr,function(Cr){Sr._mu.unlock(),hr(Cr)})})},ra.prototype.renameSync=function(dr,gr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.renameSync(dr,gr)},ra.prototype.stat=function(dr,gr,hr){var Sr=this;this._mu.lock(function(){Sr._fs.stat(dr,gr,function(Cr,Tr){Sr._mu.unlock(),hr(Cr,Tr)})})},ra.prototype.statSync=function(dr,gr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.statSync(dr,gr)},ra.prototype.open=function(dr,gr,hr,Sr){var Cr=this;this._mu.lock(function(){Cr._fs.open(dr,gr,hr,function(Tr,Br){Cr._mu.unlock(),Sr(Tr,Br)})})},ra.prototype.openSync=function(dr,gr,hr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.openSync(dr,gr,hr)},ra.prototype.unlink=function(dr,gr){var hr=this;this._mu.lock(function(){hr._fs.unlink(dr,function(Sr){hr._mu.unlock(),gr(Sr)})})},ra.prototype.unlinkSync=function(dr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.unlinkSync(dr)},ra.prototype.rmdir=function(dr,gr){var hr=this;this._mu.lock(function(){hr._fs.rmdir(dr,function(Sr){hr._mu.unlock(),gr(Sr)})})},ra.prototype.rmdirSync=function(dr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.rmdirSync(dr)},ra.prototype.mkdir=function(dr,gr,hr){var Sr=this;this._mu.lock(function(){Sr._fs.mkdir(dr,gr,function(Cr){Sr._mu.unlock(),hr(Cr)})})},ra.prototype.mkdirSync=function(dr,gr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.mkdirSync(dr,gr)},ra.prototype.readdir=function(dr,gr){var hr=this;this._mu.lock(function(){hr._fs.readdir(dr,function(Sr,Cr){hr._mu.unlock(),gr(Sr,Cr)})})},ra.prototype.readdirSync=function(dr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readdirSync(dr)},ra.prototype.exists=function(dr,gr){var hr=this;this._mu.lock(function(){hr._fs.exists(dr,function(Sr){hr._mu.unlock(),gr(Sr)})})},ra.prototype.existsSync=function(dr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.existsSync(dr)},ra.prototype.realpath=function(dr,gr,hr){var Sr=this;this._mu.lock(function(){Sr._fs.realpath(dr,gr,function(Cr,Tr){Sr._mu.unlock(),hr(Cr,Tr)})})},ra.prototype.realpathSync=function(dr,gr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.realpathSync(dr,gr)},ra.prototype.truncate=function(dr,gr,hr){var Sr=this;this._mu.lock(function(){Sr._fs.truncate(dr,gr,function(Cr){Sr._mu.unlock(),hr(Cr)})})},ra.prototype.truncateSync=function(dr,gr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.truncateSync(dr,gr)},ra.prototype.readFile=function(dr,gr,hr,Sr){var Cr=this;this._mu.lock(function(){Cr._fs.readFile(dr,gr,hr,function(Tr,Br){Cr._mu.unlock(),Sr(Tr,Br)})})},ra.prototype.readFileSync=function(dr,gr,hr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readFileSync(dr,gr,hr)},ra.prototype.writeFile=function(dr,gr,hr,Sr,Cr,Tr){var Br=this;this._mu.lock(function(){Br._fs.writeFile(dr,gr,hr,Sr,Cr,function(zr){Br._mu.unlock(),Tr(zr)})})},ra.prototype.writeFileSync=function(dr,gr,hr,Sr,Cr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.writeFileSync(dr,gr,hr,Sr,Cr)},ra.prototype.appendFile=function(dr,gr,hr,Sr,Cr,Tr){var Br=this;this._mu.lock(function(){Br._fs.appendFile(dr,gr,hr,Sr,Cr,function(zr){Br._mu.unlock(),Tr(zr)})})},ra.prototype.appendFileSync=function(dr,gr,hr,Sr,Cr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.appendFileSync(dr,gr,hr,Sr,Cr)},ra.prototype.chmod=function(dr,gr,hr,Sr){var Cr=this;this._mu.lock(function(){Cr._fs.chmod(dr,gr,hr,function(Tr){Cr._mu.unlock(),Sr(Tr)})})},ra.prototype.chmodSync=function(dr,gr,hr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chmodSync(dr,gr,hr)},ra.prototype.chown=function(dr,gr,hr,Sr,Cr){var Tr=this;this._mu.lock(function(){Tr._fs.chown(dr,gr,hr,Sr,function(Br){Tr._mu.unlock(),Cr(Br)})})},ra.prototype.chownSync=function(dr,gr,hr,Sr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chownSync(dr,gr,hr,Sr)},ra.prototype.utimes=function(dr,gr,hr,Sr){var Cr=this;this._mu.lock(function(){Cr._fs.utimes(dr,gr,hr,function(Tr){Cr._mu.unlock(),Sr(Tr)})})},ra.prototype.utimesSync=function(dr,gr,hr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.utimesSync(dr,gr,hr)},ra.prototype.link=function(dr,gr,hr){var Sr=this;this._mu.lock(function(){Sr._fs.link(dr,gr,function(Cr){Sr._mu.unlock(),hr(Cr)})})},ra.prototype.linkSync=function(dr,gr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.linkSync(dr,gr)},ra.prototype.symlink=function(dr,gr,hr,Sr){var Cr=this;this._mu.lock(function(){Cr._fs.symlink(dr,gr,hr,function(Tr){Cr._mu.unlock(),Sr(Tr)})})},ra.prototype.symlinkSync=function(dr,gr,hr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.symlinkSync(dr,gr,hr)},ra.prototype.readlink=function(dr,gr){var hr=this;this._mu.lock(function(){hr._fs.readlink(dr,function(Sr,Cr){hr._mu.unlock(),gr(Sr,Cr)})})},ra.prototype.readlinkSync=function(dr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readlinkSync(dr)};var Do="/.deletedFiles.log";function Fl(wr){return 146|wr}function Xa(wr){return kr.getFileFlag(wr)}var Pl=function(wr){function dr(gr,hr,Sr,Cr,Tr){wr.call(this,gr,hr,Sr,Cr,Tr)}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.prototype.sync=function(hr){var Sr=this;if(!this.isDirty()){hr(null);return}this._fs._syncAsync(this,function(Cr){Sr.resetDirty(),hr(Cr)})},dr.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},dr.prototype.close=function(hr){this.sync(hr)},dr.prototype.closeSync=function(){this.syncSync()},dr}(ri),Bl=function(wr){function dr(gr,hr){if(wr.call(this),this._isInitialized=!1,this._initializeCallbacks=[],this._deletedFiles={},this._deleteLog="",this._deleteLogUpdatePending=!1,this._deleteLogUpdateNeeded=!1,this._deleteLogError=null,this._writable=gr,this._readable=hr,this._writable.isReadOnly())throw new yr(vr.EINVAL,"Writable file system must be writable.")}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.isAvailable=function(){return!0},dr.prototype.getOverlayedFileSystems=function(){return{readable:this._readable,writable:this._writable}},dr.prototype._syncAsync=function(hr,Sr){var Cr=this;this.createParentDirectoriesAsync(hr.getPath(),function(Tr){if(Tr)return Sr(Tr);Cr._writable.writeFile(hr.getPath(),hr.getBuffer(),null,Xa("w"),hr.getStats().mode,Sr)})},dr.prototype._syncSync=function(hr){this.createParentDirectories(hr.getPath()),this._writable.writeFileSync(hr.getPath(),hr.getBuffer(),null,Xa("w"),hr.getStats().mode)},dr.prototype.getName=function(){return y0.Name},dr.prototype.initialize=function(hr){var Sr=this,Cr=this._initializeCallbacks,Tr=function(Br){Sr._isInitialized=!Br,Sr._initializeCallbacks=[],Cr.forEach(function(zr){return zr(Br)})};if(this._isInitialized)return hr();Cr.push(hr),Cr.length===1&&this._writable.readFile(Do,"utf8",Xa("r"),function(Br,zr){if(Br){if(Br.errno!==vr.ENOENT)return Tr(Br)}else Sr._deleteLog=zr;Sr._reparseDeletionLog(),Tr()})},dr.prototype.isReadOnly=function(){return!1},dr.prototype.supportsSynch=function(){return this._readable.supportsSynch()&&this._writable.supportsSynch()},dr.prototype.supportsLinks=function(){return!1},dr.prototype.supportsProps=function(){return this._readable.supportsProps()&&this._writable.supportsProps()},dr.prototype.getDeletionLog=function(){return this._deleteLog},dr.prototype.restoreDeletionLog=function(hr){this._deleteLog=hr,this._reparseDeletionLog(),this.updateLog("")},dr.prototype.rename=function(hr,Sr,Cr){var Tr=this;if(!(!this.checkInitAsync(Cr)||this.checkPathAsync(hr,Cr)||this.checkPathAsync(Sr,Cr))){if(hr===Do||Sr===Do)return Cr(yr.EPERM("Cannot rename deletion log."));if(hr===Sr)return Cr();this.stat(hr,!1,function(Br,zr){return Br?Cr(Br):Tr.stat(Sr,!1,function(Qr,li){var gi=Tr;function Ii(Li){var $i=Li.shift();if(!$i)return Cr();var ea=_r.resolve(hr,$i),na=_r.resolve(Sr,$i);gi.rename(ea,na,function(ga){if(ga)return Cr(ga);Ii(Li)})}var Ni=511;if(zr.isDirectory()){if(Qr)return Qr.errno!==vr.ENOENT?Cr(Qr):Tr._writable.exists(hr,function(Li){if(Li)return Tr._writable.rename(hr,Sr,Cr);Tr._writable.mkdir(Sr,Ni,function($i){if($i)return Cr($i);Tr._readable.readdir(hr,function(ea,na){if(ea)return Cr();Ii(na)})})});if(Ni=li.mode,!li.isDirectory())return Cr(yr.ENOTDIR(Sr));Tr.readdir(Sr,function(Li,$i){if($i&&$i.length)return Cr(yr.ENOTEMPTY(Sr));Tr._readable.readdir(hr,function(ea,na){if(ea)return Cr();Ii(na)})})}if(li&&li.isDirectory())return Cr(yr.EISDIR(Sr));Tr.readFile(hr,null,Xa("r"),function(Li,$i){return Li?Cr(Li):Tr.writeFile(Sr,$i,null,Xa("w"),zr.mode,function(ea){return ea?Cr(ea):Tr.unlink(hr,Cr)})})})})}},dr.prototype.renameSync=function(hr,Sr){var Cr=this;if(this.checkInitialized(),this.checkPath(hr),this.checkPath(Sr),hr===Do||Sr===Do)throw yr.EPERM("Cannot rename deletion log.");var Tr=this.statSync(hr,!1);if(Tr.isDirectory()){if(hr===Sr)return;var Br=511;if(this.existsSync(Sr)){var zr=this.statSync(Sr,!1);if(Br=zr.mode,zr.isDirectory()){if(this.readdirSync(Sr).length>0)throw yr.ENOTEMPTY(Sr)}else throw yr.ENOTDIR(Sr)}this._writable.existsSync(hr)?this._writable.renameSync(hr,Sr):this._writable.existsSync(Sr)||this._writable.mkdirSync(Sr,Br),this._readable.existsSync(hr)&&this._readable.readdirSync(hr).forEach(function(Qr){Cr.renameSync(_r.resolve(hr,Qr),_r.resolve(Sr,Qr))})}else{if(this.existsSync(Sr)&&this.statSync(Sr,!1).isDirectory())throw yr.EISDIR(Sr);this.writeFileSync(Sr,this.readFileSync(hr,null,Xa("r")),null,Xa("w"),Tr.mode)}hr!==Sr&&this.existsSync(hr)&&this.unlinkSync(hr)},dr.prototype.stat=function(hr,Sr,Cr){var Tr=this;this.checkInitAsync(Cr)&&this._writable.stat(hr,Sr,function(Br,zr){Br&&Br.errno===vr.ENOENT?(Tr._deletedFiles[hr]&&Cr(yr.ENOENT(hr)),Tr._readable.stat(hr,Sr,function(Qr,li){li&&(li=li.clone(),li.mode=Fl(li.mode)),Cr(Qr,li)})):Cr(Br,zr)})},dr.prototype.statSync=function(hr,Sr){this.checkInitialized();try{return this._writable.statSync(hr,Sr)}catch{if(this._deletedFiles[hr])throw yr.ENOENT(hr);var Cr=this._readable.statSync(hr,Sr).clone();return Cr.mode=Fl(Cr.mode),Cr}},dr.prototype.open=function(hr,Sr,Cr,Tr){var Br=this;!this.checkInitAsync(Tr)||this.checkPathAsync(hr,Tr)||this.stat(hr,!1,function(zr,Qr){if(Qr)switch(Sr.pathExistsAction()){case Ar.TRUNCATE_FILE:return Br.createParentDirectoriesAsync(hr,function(li){if(li)return Tr(li);Br._writable.open(hr,Sr,Cr,Tr)});case Ar.NOP:return Br._writable.exists(hr,function(li){li?Br._writable.open(hr,Sr,Cr,Tr):(Qr=Qr.clone(),Qr.mode=Cr,Br._readable.readFile(hr,null,Xa("r"),function(gi,Ii){if(gi)return Tr(gi);Qr.size===-1&&(Qr.size=Ii.length);var Ni=new Pl(Br,hr,Sr,Qr,Ii);Tr(null,Ni)}))});default:return Tr(yr.EEXIST(hr))}else switch(Sr.pathNotExistsAction()){case Ar.CREATE_FILE:return Br.createParentDirectoriesAsync(hr,function(li){return li?Tr(li):Br._writable.open(hr,Sr,Cr,Tr)});default:return Tr(yr.ENOENT(hr))}})},dr.prototype.openSync=function(hr,Sr,Cr){if(this.checkInitialized(),this.checkPath(hr),hr===Do)throw yr.EPERM("Cannot open deletion log.");if(this.existsSync(hr))switch(Sr.pathExistsAction()){case Ar.TRUNCATE_FILE:return this.createParentDirectories(hr),this._writable.openSync(hr,Sr,Cr);case Ar.NOP:if(this._writable.existsSync(hr))return this._writable.openSync(hr,Sr,Cr);var Tr=this._readable.readFileSync(hr,null,Xa("r")),Br=this._readable.statSync(hr,!1).clone();return Br.mode=Cr,new Pl(this,hr,Sr,Br,Tr);default:throw yr.EEXIST(hr)}else switch(Sr.pathNotExistsAction()){case Ar.CREATE_FILE:return this.createParentDirectories(hr),this._writable.openSync(hr,Sr,Cr);default:throw yr.ENOENT(hr)}},dr.prototype.unlink=function(hr,Sr){var Cr=this;!this.checkInitAsync(Sr)||this.checkPathAsync(hr,Sr)||this.exists(hr,function(Tr){if(!Tr)return Sr(yr.ENOENT(hr));Cr._writable.exists(hr,function(Br){if(Br)return Cr._writable.unlink(hr,function(zr){if(zr)return Sr(zr);Cr.exists(hr,function(Qr){Qr&&Cr.deletePath(hr),Sr(null)})});Cr.deletePath(hr),Sr(null)})})},dr.prototype.unlinkSync=function(hr){if(this.checkInitialized(),this.checkPath(hr),this.existsSync(hr))this._writable.existsSync(hr)&&this._writable.unlinkSync(hr),this.existsSync(hr)&&this.deletePath(hr);else throw yr.ENOENT(hr)},dr.prototype.rmdir=function(hr,Sr){var Cr=this;if(this.checkInitAsync(Sr)){var Tr=function(){Cr.readdir(hr,function(Br,zr){if(Br)return Sr(Br);if(zr.length)return Sr(yr.ENOTEMPTY(hr));Cr.deletePath(hr),Sr(null)})};this.exists(hr,function(Br){if(!Br)return Sr(yr.ENOENT(hr));Cr._writable.exists(hr,function(zr){zr?Cr._writable.rmdir(hr,function(Qr){if(Qr)return Sr(Qr);Cr._readable.exists(hr,function(li){li?Tr():Sr()})}):Tr()})})}},dr.prototype.rmdirSync=function(hr){if(this.checkInitialized(),this.existsSync(hr)){if(this._writable.existsSync(hr)&&this._writable.rmdirSync(hr),this.existsSync(hr)){if(this.readdirSync(hr).length>0)throw yr.ENOTEMPTY(hr);this.deletePath(hr)}}else throw yr.ENOENT(hr)},dr.prototype.mkdir=function(hr,Sr,Cr){var Tr=this;this.checkInitAsync(Cr)&&this.exists(hr,function(Br){if(Br)return Cr(yr.EEXIST(hr));Tr.createParentDirectoriesAsync(hr,function(zr){if(zr)return Cr(zr);Tr._writable.mkdir(hr,Sr,Cr)})})},dr.prototype.mkdirSync=function(hr,Sr){if(this.checkInitialized(),this.existsSync(hr))throw yr.EEXIST(hr);this.createParentDirectories(hr),this._writable.mkdirSync(hr,Sr)},dr.prototype.readdir=function(hr,Sr){var Cr=this;this.checkInitAsync(Sr)&&this.stat(hr,!1,function(Tr,Br){if(Tr)return Sr(Tr);if(!Br.isDirectory())return Sr(yr.ENOTDIR(hr));Cr._writable.readdir(hr,function(zr,Qr){if(zr&&zr.code!=="ENOENT")return Sr(zr);(zr||!Qr)&&(Qr=[]),Cr._readable.readdir(hr,function(li,gi){(li||!gi)&&(gi=[]);var Ii={},Ni=Qr.concat(gi.filter(function(Li){return!Cr._deletedFiles[hr+"/"+Li]})).filter(function(Li){var $i=!Ii[Li];return Ii[Li]=!0,$i});Sr(null,Ni)})})})},dr.prototype.readdirSync=function(hr){var Sr=this;this.checkInitialized();var Cr=this.statSync(hr,!1);if(!Cr.isDirectory())throw yr.ENOTDIR(hr);var Tr=[];try{Tr=Tr.concat(this._writable.readdirSync(hr))}catch{}try{Tr=Tr.concat(this._readable.readdirSync(hr).filter(function(zr){return!Sr._deletedFiles[hr+"/"+zr]}))}catch{}var Br={};return Tr.filter(function(zr){var Qr=!Br[zr];return Br[zr]=!0,Qr})},dr.prototype.exists=function(hr,Sr){var Cr=this;this.checkInitialized(),this._writable.exists(hr,function(Tr){if(Tr)return Sr(!0);Cr._readable.exists(hr,function(Br){Sr(Br&&Cr._deletedFiles[hr]!==!0)})})},dr.prototype.existsSync=function(hr){return this.checkInitialized(),this._writable.existsSync(hr)||this._readable.existsSync(hr)&&this._deletedFiles[hr]!==!0},dr.prototype.chmod=function(hr,Sr,Cr,Tr){var Br=this;this.checkInitAsync(Tr)&&this.operateOnWritableAsync(hr,function(zr){if(zr)return Tr(zr);Br._writable.chmod(hr,Sr,Cr,Tr)})},dr.prototype.chmodSync=function(hr,Sr,Cr){var Tr=this;this.checkInitialized(),this.operateOnWritable(hr,function(){Tr._writable.chmodSync(hr,Sr,Cr)})},dr.prototype.chown=function(hr,Sr,Cr,Tr,Br){var zr=this;this.checkInitAsync(Br)&&this.operateOnWritableAsync(hr,function(Qr){if(Qr)return Br(Qr);zr._writable.chown(hr,Sr,Cr,Tr,Br)})},dr.prototype.chownSync=function(hr,Sr,Cr,Tr){var Br=this;this.checkInitialized(),this.operateOnWritable(hr,function(){Br._writable.chownSync(hr,Sr,Cr,Tr)})},dr.prototype.utimes=function(hr,Sr,Cr,Tr){var Br=this;this.checkInitAsync(Tr)&&this.operateOnWritableAsync(hr,function(zr){if(zr)return Tr(zr);Br._writable.utimes(hr,Sr,Cr,Tr)})},dr.prototype.utimesSync=function(hr,Sr,Cr){var Tr=this;this.checkInitialized(),this.operateOnWritable(hr,function(){Tr._writable.utimesSync(hr,Sr,Cr)})},dr.prototype.deletePath=function(hr){this._deletedFiles[hr]=!0,this.updateLog("d"+hr+`
`)},dr.prototype.updateLog=function(hr){var Sr=this;this._deleteLog+=hr,this._deleteLogUpdatePending?this._deleteLogUpdateNeeded=!0:(this._deleteLogUpdatePending=!0,this._writable.writeFile(Do,this._deleteLog,"utf8",kr.getFileFlag("w"),420,function(Cr){Sr._deleteLogUpdatePending=!1,Cr?Sr._deleteLogError=Cr:Sr._deleteLogUpdateNeeded&&(Sr._deleteLogUpdateNeeded=!1,Sr.updateLog(""))}))},dr.prototype._reparseDeletionLog=function(){var hr=this;this._deletedFiles={},this._deleteLog.split(`
`).forEach(function(Sr){hr._deletedFiles[Sr.slice(1)]=Sr.slice(0,1)==="d"})},dr.prototype.checkInitialized=function(){if(this._isInitialized){if(this._deleteLogError!==null){var hr=this._deleteLogError;throw this._deleteLogError=null,hr}}else throw new yr(vr.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.")},dr.prototype.checkInitAsync=function(hr){if(this._isInitialized){if(this._deleteLogError!==null){var Sr=this._deleteLogError;return this._deleteLogError=null,hr(Sr),!1}}else return hr(new yr(vr.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.")),!1;return!0},dr.prototype.checkPath=function(hr){if(hr===Do)throw yr.EPERM(hr)},dr.prototype.checkPathAsync=function(hr,Sr){return hr===Do?(Sr(yr.EPERM(hr)),!0):!1},dr.prototype.createParentDirectoriesAsync=function(hr,Sr){var Cr=_r.dirname(hr),Tr=[],Br=this;this._writable.stat(Cr,!1,zr);function zr(li,gi){li?(Tr.push(Cr),Cr=_r.dirname(Cr),Br._writable.stat(Cr,!1,zr)):Qr()}function Qr(){if(!Tr.length)return Sr();var li=Tr.pop();Br._readable.stat(li,!1,function(gi,Ii){if(!Ii)return Sr();Br._writable.mkdir(li,Ii.mode,function(Ni){if(Ni)return Sr(Ni);Qr()})})}},dr.prototype.createParentDirectories=function(hr){for(var Sr=this,Cr=_r.dirname(hr),Tr=[];!this._writable.existsSync(Cr);)Tr.push(Cr),Cr=_r.dirname(Cr);Tr=Tr.reverse(),Tr.forEach(function(Br){Sr._writable.mkdirSync(Br,Sr.statSync(Br,!1).mode)})},dr.prototype.operateOnWritable=function(hr,Sr){if(this.existsSync(hr))this._writable.existsSync(hr)||this.copyToWritable(hr),Sr();else throw yr.ENOENT(hr)},dr.prototype.operateOnWritableAsync=function(hr,Sr){var Cr=this;this.exists(hr,function(Tr){if(!Tr)return Sr(yr.ENOENT(hr));Cr._writable.exists(hr,function(Br){if(Br)Sr();else return Cr.copyToWritableAsync(hr,Sr)})})},dr.prototype.copyToWritable=function(hr){var Sr=this.statSync(hr,!1);Sr.isDirectory()?this._writable.mkdirSync(hr,Sr.mode):this.writeFileSync(hr,this._readable.readFileSync(hr,null,Xa("r")),null,Xa("w"),this.statSync(hr,!1).mode)},dr.prototype.copyToWritableAsync=function(hr,Sr){var Cr=this;this.stat(hr,!1,function(Tr,Br){if(Tr)return Sr(Tr);if(Br.isDirectory())return Cr._writable.mkdir(hr,Br.mode,Sr);Cr._readable.readFile(hr,null,Xa("r"),function(zr,Qr){if(zr)return Sr(zr);Cr.writeFile(hr,Qr,null,Xa("w"),Br.mode,Sr)})})},dr}(di),y0=function(wr){function dr(gr,hr,Sr){Sr===void 0&&(Sr=!0),wr.call(this,new Bl(gr,hr)),Ei(Sr,dr.Name,{readable:"readable file system",writable:"writable file system"})}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.Create=function(hr,Sr){try{var Cr=new dr(hr.writable,hr.readable,!1);Cr.initialize(function(Tr){Sr(Tr,Cr)},!1)}catch(Tr){Sr(Tr)}},dr.isAvailable=function(){return Bl.isAvailable()},dr.prototype.initialize=function(hr,Sr){Sr===void 0&&(Sr=!0),Sr&&console.warn("[OverlayFS] OverlayFS.initialize() is deprecated and will be removed in the next major release. Please use 'OverlayFS.Create({readable: readable file system instance, writable: writable file system instance}, cb)' to create and initialize OverlayFS instances."),wr.prototype.initialize.call(this,hr)},dr.prototype.getOverlayedFileSystems=function(){return wr.prototype.getFSUnlocked.call(this).getOverlayedFileSystems()},dr.prototype.unwrap=function(){return wr.prototype.getFSUnlocked.call(this)},dr}(ra);y0.Name="OverlayFS",y0.Options={writable:{type:"object",description:"The file system to write modified files to."},readable:{type:"object",description:"The file system that initially populates this file system."}};var ma;(function(wr){wr[wr.CB=0]="CB",wr[wr.FD=1]="FD",wr[wr.API_ERROR=2]="API_ERROR",wr[wr.STATS=3]="STATS",wr[wr.PROBE=4]="PROBE",wr[wr.FILEFLAG=5]="FILEFLAG",wr[wr.BUFFER=6]="BUFFER",wr[wr.ERROR=7]="ERROR"})(ma||(ma={}));var Mu=function(){this._callbacks={},this._nextId=0};Mu.prototype.toRemoteArg=function(dr){var gr=this._nextId++;return this._callbacks[gr]=dr,{type:ma.CB,id:gr}},Mu.prototype.toLocalArg=function(dr){var gr=this._callbacks[dr];return delete this._callbacks[dr],gr};var pc=function(){this._fileDescriptors={},this._nextId=0};pc.prototype.toRemoteArg=function(dr,gr,hr,Sr){var Cr=this._nextId++,Tr,Br;this._fileDescriptors[Cr]=dr,dr.stat(function(zr,Qr){zr?Sr(zr):(Br=ns(Qr.toBuffer()),hr.isReadable()?dr.read(lr.alloc(Qr.size),0,Qr.size,0,function(li,gi,Ii){li?Sr(li):(Tr=ns(Ii),Sr(null,{type:ma.FD,id:Cr,data:Tr,stat:Br,path:gr,flag:hr.getFlagString()}))}):Sr(null,{type:ma.FD,id:Cr,data:new ArrayBuffer(0),stat:Br,path:gr,flag:hr.getFlagString()}))})},pc.prototype.applyFdAPIRequest=function(dr,gr){var hr=this,Sr=dr.args[0];this._applyFdChanges(Sr,function(Cr,Tr){Cr?gr(Cr):Tr[dr.method](function(Br){dr.method==="close"&&delete hr._fileDescriptors[Sr.id],gr(Br)})})},pc.prototype._applyFdChanges=function(dr,gr){var hr=this._fileDescriptors[dr.id],Sr=is(dr.data),Cr=Dr.fromBuffer(is(dr.stat)),Tr=kr.getFileFlag(dr.flag);Tr.isWriteable()?hr.write(Sr,0,Sr.length,Tr.isAppendable()?hr.getPos():0,function(Br){function zr(){hr.stat(function(Qr,li){Qr?gr(Qr):li.mode!==Cr.mode?hr.chmod(Cr.mode,function(gi){gr(gi,hr)}):gr(Qr,hr)})}Br?gr(Br):Tr.isAppendable()?zr():hr.truncate(Sr.length,function(){zr()})}):gr(null,hr)};function _c(wr){return{type:ma.API_ERROR,errorData:ns(wr.writeToBuffer())}}function ql(wr){return yr.fromBuffer(is(wr.errorData))}function Nl(wr){return{type:ma.ERROR,name:wr.name,message:wr.message,stack:wr.stack}}function Ll(wr){var dr=Ca[wr.name];typeof dr!="function"&&(dr=Error);var gr=new dr(wr.message);return gr.stack=wr.stack,gr}function Ml(wr){return{type:ma.STATS,statsData:ns(wr.toBuffer())}}function Vl(wr){return Dr.fromBuffer(is(wr.statsData))}function Ul(wr){return{type:ma.FILEFLAG,flagStr:wr.getFlagString()}}function jl(wr){return kr.getFileFlag(wr.flagStr)}function ns(wr){return $r(wr)}function is(wr){return bi(wr)}function zl(wr){return{type:ma.BUFFER,data:ns(wr)}}function Hl(wr){return is(wr.data)}function Bh(wr){return wr&&typeof wr=="object"&&wr.hasOwnProperty("browserfsMessage")&&wr.browserfsMessage}function qh(wr){return wr&&typeof wr=="object"&&wr.hasOwnProperty("browserfsMessage")&&wr.browserfsMessage}var Wl=function(wr){function dr(gr,hr,Sr,Cr,Tr,Br){wr.call(this,gr,hr,Sr,Cr,Br),this._remoteFdId=Tr}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.prototype.getRemoteFdId=function(){return this._remoteFdId},dr.prototype.toRemoteArg=function(){return{type:ma.FD,id:this._remoteFdId,data:ns(this.getBuffer()),stat:ns(this.getStats().toBuffer()),path:this.getPath(),flag:this.getFlag().getFlagString()}},dr.prototype.sync=function(hr){this._syncClose("sync",hr)},dr.prototype.close=function(hr){this._syncClose("close",hr)},dr.prototype._syncClose=function(hr,Sr){var Cr=this;this.isDirty()?this._fs.syncClose(hr,this,function(Tr){Tr||Cr.resetDirty(),Sr(Tr)}):Sr()},dr}(ri),vc=function(wr){function dr(gr,hr){var Sr=this;hr===void 0&&(hr=!0),wr.call(this),this._callbackConverter=new Mu,this._isInitialized=!1,this._isReadOnly=!1,this._supportLinks=!1,this._supportProps=!1,this._worker=gr,Ei(hr,dr.Name,{worker:"Web Worker instance"}),this._worker.addEventListener("message",function(Cr){var Tr=Cr.data;if(qh(Tr)){var Br,zr=Tr.args,Qr=new Array(zr.length);for(Br=0;Br<Qr.length;Br++)Qr[Br]=Sr._argRemote2Local(zr[Br]);Sr._callbackConverter.toLocalArg(Tr.cbId).apply(null,Qr)}})}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.Create=function(hr,Sr){var Cr=new dr(hr.worker,!1);Cr.initialize(function(){Sr(null,Cr)})},dr.isAvailable=function(){return typeof importScripts<"u"||typeof Worker<"u"},dr.attachRemoteListener=function(hr){var Sr=new pc;function Cr(Br,zr,Qr){switch(typeof Br){case"object":Br instanceof Dr?Qr(null,Ml(Br)):Br instanceof yr?Qr(null,_c(Br)):Br instanceof ti?Qr(null,Sr.toRemoteArg(Br,zr[0],zr[1],Qr)):Br instanceof kr?Qr(null,Ul(Br)):Br instanceof lr?Qr(null,zl(Br)):Br instanceof Error?Qr(null,Nl(Br)):Qr(null,Br);break;default:Qr(null,Br);break}}function Tr(Br,zr){if(!Br)return Br;switch(typeof Br){case"object":if(typeof Br.type=="number"){var Qr=Br;switch(Qr.type){case ma.CB:var li=Br.id;return function(){var gi=arguments,Ii,Ni=new Array(arguments.length),Li,$i=arguments.length;function ea(na){$i>0&&($i=-1,Li={browserfsMessage:!0,cbId:li,args:[_c(na)]},hr.postMessage(Li))}for(Ii=0;Ii<arguments.length;Ii++)(function(na,ga){Cr(ga,zr,function(La,Eo){Ni[na]=Eo,La?ea(La):--$i===0&&(Li={browserfsMessage:!0,cbId:li,args:Ni},hr.postMessage(Li))})})(Ii,gi[Ii]);arguments.length===0&&(Li={browserfsMessage:!0,cbId:li,args:Ni},hr.postMessage(Li))};case ma.API_ERROR:return ql(Qr);case ma.STATS:return Vl(Qr);case ma.FILEFLAG:return jl(Qr);case ma.BUFFER:return Hl(Qr);case ma.ERROR:return Ll(Qr);default:return Br}}else return Br;default:return Br}}hr.addEventListener("message",function(Br){var zr=Br.data;if(Bh(zr)){var Qr=zr.args,li=new Array(Qr.length);switch(zr.method){case"close":case"sync":(function(){var Ni=Qr[1];Sr.applyFdAPIRequest(zr,function(Li){var $i={browserfsMessage:!0,cbId:Ni.id,args:Li?[_c(Li)]:[]};hr.postMessage($i)})})();break;case"probe":(function(){var Ni=Wr.getRootFS(),Li=Qr[1],$i={type:ma.PROBE,isReadOnly:Ni.isReadOnly(),supportsLinks:Ni.supportsLinks(),supportsProps:Ni.supportsProps()},ea={browserfsMessage:!0,cbId:Li.id,args:[$i]};hr.postMessage(ea)})();break;default:for(var gi=0;gi<Qr.length;gi++)li[gi]=Tr(Qr[gi],li);var Ii=Wr.getRootFS();Ii[zr.method].apply(Ii,li);break}}})},dr.prototype.getName=function(){return dr.Name},dr.prototype.initialize=function(hr){var Sr=this;if(this._isInitialized)hr();else{var Cr={browserfsMessage:!0,method:"probe",args:[this._argLocal2Remote(Ti()),this._callbackConverter.toRemoteArg(function(Tr){Sr._isInitialized=!0,Sr._isReadOnly=Tr.isReadOnly,Sr._supportLinks=Tr.supportsLinks,Sr._supportProps=Tr.supportsProps,hr()})]};this._worker.postMessage(Cr)}},dr.prototype.isReadOnly=function(){return this._isReadOnly},dr.prototype.supportsSynch=function(){return!1},dr.prototype.supportsLinks=function(){return this._supportLinks},dr.prototype.supportsProps=function(){return this._supportProps},dr.prototype.rename=function(hr,Sr,Cr){this._rpc("rename",arguments)},dr.prototype.stat=function(hr,Sr,Cr){this._rpc("stat",arguments)},dr.prototype.open=function(hr,Sr,Cr,Tr){this._rpc("open",arguments)},dr.prototype.unlink=function(hr,Sr){this._rpc("unlink",arguments)},dr.prototype.rmdir=function(hr,Sr){this._rpc("rmdir",arguments)},dr.prototype.mkdir=function(hr,Sr,Cr){this._rpc("mkdir",arguments)},dr.prototype.readdir=function(hr,Sr){this._rpc("readdir",arguments)},dr.prototype.exists=function(hr,Sr){this._rpc("exists",arguments)},dr.prototype.realpath=function(hr,Sr,Cr){this._rpc("realpath",arguments)},dr.prototype.truncate=function(hr,Sr,Cr){this._rpc("truncate",arguments)},dr.prototype.readFile=function(hr,Sr,Cr,Tr){this._rpc("readFile",arguments)},dr.prototype.writeFile=function(hr,Sr,Cr,Tr,Br,zr){this._rpc("writeFile",arguments)},dr.prototype.appendFile=function(hr,Sr,Cr,Tr,Br,zr){this._rpc("appendFile",arguments)},dr.prototype.chmod=function(hr,Sr,Cr,Tr){this._rpc("chmod",arguments)},dr.prototype.chown=function(hr,Sr,Cr,Tr,Br){this._rpc("chown",arguments)},dr.prototype.utimes=function(hr,Sr,Cr,Tr){this._rpc("utimes",arguments)},dr.prototype.link=function(hr,Sr,Cr){this._rpc("link",arguments)},dr.prototype.symlink=function(hr,Sr,Cr,Tr){this._rpc("symlink",arguments)},dr.prototype.readlink=function(hr,Sr){this._rpc("readlink",arguments)},dr.prototype.syncClose=function(hr,Sr,Cr){this._worker.postMessage({browserfsMessage:!0,method:hr,args:[Sr.toRemoteArg(),this._callbackConverter.toRemoteArg(Cr)]})},dr.prototype._argRemote2Local=function(hr){if(!hr)return hr;switch(typeof hr){case"object":if(typeof hr.type=="number"){var Sr=hr;switch(Sr.type){case ma.API_ERROR:return ql(Sr);case ma.FD:var Cr=Sr;return new Wl(this,Cr.path,kr.getFileFlag(Cr.flag),Dr.fromBuffer(is(Cr.stat)),Cr.id,is(Cr.data));case ma.STATS:return Vl(Sr);case ma.FILEFLAG:return jl(Sr);case ma.BUFFER:return Hl(Sr);case ma.ERROR:return Ll(Sr);default:return hr}}else return hr;default:return hr}},dr.prototype._rpc=function(hr,Sr){for(var Cr=this,Tr=new Array(Sr.length),Br=0;Br<Sr.length;Br++)Tr[Br]=Cr._argLocal2Remote(Sr[Br]);var zr={browserfsMessage:!0,method:hr,args:Tr};this._worker.postMessage(zr)},dr.prototype._argLocal2Remote=function(hr){if(!hr)return hr;switch(typeof hr){case"object":return hr instanceof Dr?Ml(hr):hr instanceof yr?_c(hr):hr instanceof Wl?hr.toRemoteArg():hr instanceof kr?Ul(hr):hr instanceof lr?zl(hr):hr instanceof Error?Nl(hr):"Unknown argument";case"function":return this._callbackConverter.toRemoteArg(hr);default:return hr}},dr}(di);vc.Name="WorkerFS",vc.Options={worker:{type:"object",description:"The target worker that you want to connect to, or the current worker if in a worker context.",validator:function(wr,dr){wr.postMessage?dr():dr(new yr(vr.EINVAL,"option must be a Web Worker instance."))}}};function Nh(wr,dr,gr){var hr=new XMLHttpRequest;hr.open("GET",wr,!0);var Sr=!0;switch(dr){case"buffer":hr.responseType="arraybuffer";break;case"json":try{hr.responseType="json",Sr=hr.responseType==="json"}catch{Sr=!1}break;default:return gr(new yr(vr.EINVAL,"Invalid download type: "+dr))}hr.onreadystatechange=function(Cr){if(hr.readyState===4)if(hr.status===200)switch(dr){case"buffer":return gr(null,hr.response?lr.from(hr.response):Ti());case"json":return Sr?gr(null,hr.response):gr(null,JSON.parse(hr.responseText))}else return gr(new yr(hr.status,"XHR error."))},hr.send()}function Lh(wr,dr){var gr=new XMLHttpRequest;gr.open("GET",wr,!1);var hr=null,Sr=null;if(gr.overrideMimeType("text/plain; charset=x-user-defined"),gr.onreadystatechange=function(Cr){if(gr.readyState===4)if(gr.status===200)switch(dr){case"buffer":var Tr=gr.responseText;hr=lr.alloc(Tr.length);for(var Br=0;Br<Tr.length;Br++)hr[Br]=Tr.charCodeAt(Br);return;case"json":hr=JSON.parse(gr.responseText);return}else{Sr=new yr(gr.status,"XHR error.");return}},gr.send(),Sr)throw Sr;return hr}function Mh(wr,dr){var gr=new XMLHttpRequest;switch(gr.open("GET",wr,!1),dr){case"buffer":gr.responseType="arraybuffer";break;case"json":break;default:throw new yr(vr.EINVAL,"Invalid download type: "+dr)}var hr,Sr;if(gr.onreadystatechange=function(Cr){if(gr.readyState===4)if(gr.status===200)switch(dr){case"buffer":hr=lr.from(gr.response);break;case"json":hr=JSON.parse(gr.response);break}else Sr=new yr(gr.status,"XHR error.")},gr.send(),Sr)throw Sr;return hr}function Kl(wr,dr,gr){var hr=new XMLHttpRequest;hr.open("HEAD",dr,wr),hr.onreadystatechange=function(Sr){if(hr.readyState===4)if(hr.status===200)try{return gr(null,parseInt(hr.getResponseHeader("Content-Length")||"-1",10))}catch{return gr(new yr(vr.EIO,"XHR HEAD error: Could not read content-length."))}else return gr(new yr(hr.status,"XHR HEAD error."))},hr.send()}var Gl=Nh,Vh=_i&&typeof Blob<"u"?Mh:Lh;function Uh(wr){var dr=-1;return Kl(!1,wr,function(gr,hr){if(gr)throw gr;dr=hr}),dr}function jh(wr,dr){Kl(!0,wr,dr)}var oo=function(){this._index={},this.addPath("/",new Ka)};oo.fromListing=function(dr){var gr=new oo,hr=new Ka;gr._index["/"]=hr;for(var Sr=[["",dr,hr]];Sr.length>0;){var Cr=void 0,Tr=Sr.pop(),Br=Tr[0],zr=Tr[1],Qr=Tr[2];for(var li in zr)if(zr.hasOwnProperty(li)){var gi=zr[li],Ii=Br+"/"+li;gi?(gr._index[Ii]=Cr=new Ka,Sr.push([Ii,gi,Cr])):Cr=new Ts(new Dr(Or.FILE,-1,365)),Qr&&(Qr._ls[li]=Cr)}}return gr},oo.prototype.fileIterator=function(dr){var gr=this;for(var hr in gr._index)if(gr._index.hasOwnProperty(hr))for(var Sr=gr._index[hr],Cr=Sr.getListing(),Tr=0,Br=Cr;Tr<Br.length;Tr+=1){var zr=Br[Tr],Qr=Sr.getItem(zr);Ro(Qr)&&dr(Qr.getData())}},oo.prototype.addPath=function(dr,gr){if(!gr)throw new Error("Inode must be specified");if(dr[0]!=="/")throw new Error("Path must be absolute, got: "+dr);if(this._index.hasOwnProperty(dr))return this._index[dr]===gr;var hr=this._split_path(dr),Sr=hr[0],Cr=hr[1],Tr=this._index[Sr];return Tr===void 0&&dr!=="/"&&(Tr=new Ka,!this.addPath(Sr,Tr))||dr!=="/"&&!Tr.addItem(Cr,gr)?!1:(Uo(gr)&&(this._index[dr]=gr),!0)},oo.prototype.addPathFast=function(dr,gr){var hr=dr.lastIndexOf("/"),Sr=hr===0?"/":dr.substring(0,hr),Cr=dr.substring(hr+1),Tr=this._index[Sr];return Tr===void 0&&(Tr=new Ka,this.addPathFast(Sr,Tr)),Tr.addItem(Cr,gr)?(gr.isDir()&&(this._index[dr]=gr),!0):!1},oo.prototype.removePath=function(dr){var gr=this,hr=this._split_path(dr),Sr=hr[0],Cr=hr[1],Tr=this._index[Sr];if(Tr===void 0)return null;var Br=Tr.remItem(Cr);if(Br===null)return null;if(Uo(Br)){for(var zr=Br.getListing(),Qr=0,li=zr;Qr<li.length;Qr+=1){var gi=li[Qr];gr.removePath(dr+"/"+gi)}dr!=="/"&&delete this._index[dr]}return Br},oo.prototype.ls=function(dr){var gr=this._index[dr];return gr===void 0?null:gr.getListing()},oo.prototype.getInode=function(dr){var gr=this._split_path(dr),hr=gr[0],Sr=gr[1],Cr=this._index[hr];return Cr===void 0?null:hr===dr?Cr:Cr.getItem(Sr)},oo.prototype._split_path=function(dr){var gr=_r.dirname(dr),hr=dr.substr(gr.length+(gr==="/"?0:1));return[gr,hr]};var Ts=function(dr){this.data=dr};Ts.prototype.isFile=function(){return!0},Ts.prototype.isDir=function(){return!1},Ts.prototype.getData=function(){return this.data},Ts.prototype.setData=function(dr){this.data=dr};var Ka=function(dr){dr===void 0&&(dr=null),this.data=dr,this._ls={}};Ka.prototype.isFile=function(){return!1},Ka.prototype.isDir=function(){return!0},Ka.prototype.getData=function(){return this.data},Ka.prototype.getStats=function(){return new Dr(Or.DIRECTORY,4096,365)},Ka.prototype.getListing=function(){return Object.keys(this._ls)},Ka.prototype.getItem=function(dr){var gr=this._ls[dr];return gr||null},Ka.prototype.addItem=function(dr,gr){return dr in this._ls?!1:(this._ls[dr]=gr,!0)},Ka.prototype.remItem=function(dr){var gr=this._ls[dr];return gr===void 0?null:(delete this._ls[dr],gr)};function Ro(wr){return!!wr&&wr.isFile()}function Uo(wr){return!!wr&&wr.isDir()}function zh(wr,dr,gr){try{gr(null,wr.toString(dr))}catch(hr){gr(hr)}}var mc=function(wr){function dr(gr,hr,Sr){hr===void 0&&(hr=""),Sr===void 0&&(Sr=!0),wr.call(this),gr||(gr="index.json"),hr.length>0&&hr.charAt(hr.length-1)!=="/"&&(hr=hr+"/"),this.prefixUrl=hr;var Cr=null;if(typeof gr=="string"){if(Cr=this._requestFileSync(gr,"json"),!Cr)throw new Error("Unable to find listing at URL: ${listingUrlOrObj}")}else Cr=gr;Ei(Sr,dr.Name,{index:typeof gr=="string"?gr:"file index as an object",baseUrl:hr}),this._index=oo.fromListing(Cr)}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.Create=function(hr,Sr){hr.index===void 0&&(hr.index="index.json"),typeof hr.index=="string"?dr.FromURL(hr.index,Sr,hr.baseUrl,!1):Sr(null,new dr(hr.index,hr.baseUrl,!1))},dr.isAvailable=function(){return typeof XMLHttpRequest<"u"&&XMLHttpRequest!==null},dr.FromURL=function(hr,Sr,Cr,Tr){Cr===void 0&&(Cr=hr.slice(0,hr.lastIndexOf("/")+1)),Tr===void 0&&(Tr=!0),Tr&&console.warn(`[XmlHttpRequest] XmlHttpRequest.FromURL() is deprecated and will be removed in the next major release. Please use 'XmlHttpRequest.Create({ index: "`+hr+'", baseUrl: "'+Cr+`" }, cb)' instead.`),Gl(hr,"json",function(Br,zr){Br?Sr(Br):Sr(null,new dr(zr,Cr,!1))})},dr.prototype.empty=function(){this._index.fileIterator(function(hr){hr.fileData=null})},dr.prototype.getName=function(){return dr.Name},dr.prototype.diskSpace=function(hr,Sr){Sr(0,0)},dr.prototype.isReadOnly=function(){return!0},dr.prototype.supportsLinks=function(){return!1},dr.prototype.supportsProps=function(){return!1},dr.prototype.supportsSynch=function(){return!0},dr.prototype.preloadFile=function(hr,Sr){var Cr=this._index.getInode(hr);if(Ro(Cr)){if(Cr===null)throw yr.ENOENT(hr);var Tr=Cr.getData();Tr.size=Sr.length,Tr.fileData=Sr}else throw yr.EISDIR(hr)},dr.prototype.stat=function(hr,Sr,Cr){var Tr=this._index.getInode(hr);if(Tr===null)return Cr(yr.ENOENT(hr));var Br;Ro(Tr)?(Br=Tr.getData(),Br.size<0?this._requestFileSizeAsync(hr,function(zr,Qr){if(zr)return Cr(zr);Br.size=Qr,Cr(null,Br.clone())}):Cr(null,Br.clone())):Uo(Tr)?(Br=Tr.getStats(),Cr(null,Br)):Cr(yr.FileError(vr.EINVAL,hr))},dr.prototype.statSync=function(hr,Sr){var Cr=this._index.getInode(hr);if(Cr===null)throw yr.ENOENT(hr);var Tr;if(Ro(Cr))Tr=Cr.getData(),Tr.size<0&&(Tr.size=this._requestFileSizeSync(hr));else if(Uo(Cr))Tr=Cr.getStats();else throw yr.FileError(vr.EINVAL,hr);return Tr},dr.prototype.open=function(hr,Sr,Cr,Tr){if(Sr.isWriteable())return Tr(new yr(vr.EPERM,hr));var Br=this,zr=this._index.getInode(hr);if(zr===null)return Tr(yr.ENOENT(hr));if(Ro(zr)){var Qr=zr.getData();switch(Sr.pathExistsAction()){case Ar.THROW_EXCEPTION:case Ar.TRUNCATE_FILE:return Tr(yr.EEXIST(hr));case Ar.NOP:if(Qr.fileData)return Tr(null,new xi(Br,hr,Sr,Qr.clone(),Qr.fileData));this._requestFileAsync(hr,"buffer",function(li,gi){return li?Tr(li):(Qr.size=gi.length,Qr.fileData=gi,Tr(null,new xi(Br,hr,Sr,Qr.clone(),gi)))});break;default:return Tr(new yr(vr.EINVAL,"Invalid FileMode object."))}}else return Tr(yr.EISDIR(hr))},dr.prototype.openSync=function(hr,Sr,Cr){if(Sr.isWriteable())throw new yr(vr.EPERM,hr);var Tr=this._index.getInode(hr);if(Tr===null)throw yr.ENOENT(hr);if(Ro(Tr)){var Br=Tr.getData();switch(Sr.pathExistsAction()){case Ar.THROW_EXCEPTION:case Ar.TRUNCATE_FILE:throw yr.EEXIST(hr);case Ar.NOP:if(Br.fileData)return new xi(this,hr,Sr,Br.clone(),Br.fileData);var zr=this._requestFileSync(hr,"buffer");return Br.size=zr.length,Br.fileData=zr,new xi(this,hr,Sr,Br.clone(),zr);default:throw new yr(vr.EINVAL,"Invalid FileMode object.")}}else throw yr.EISDIR(hr)},dr.prototype.readdir=function(hr,Sr){try{Sr(null,this.readdirSync(hr))}catch(Cr){Sr(Cr)}},dr.prototype.readdirSync=function(hr){var Sr=this._index.getInode(hr);if(Sr===null)throw yr.ENOENT(hr);if(Uo(Sr))return Sr.getListing();throw yr.ENOTDIR(hr)},dr.prototype.readFile=function(hr,Sr,Cr,Tr){var Br=Tr;this.open(hr,Cr,420,function(zr,Qr){if(zr)return Tr(zr);Tr=function(Ii,Ni){Qr.close(function(Li){return Ii||(Ii=Li),Br(Ii,Ni)})};var li=Qr,gi=li.getBuffer();Sr===null?Tr(zr,qi(gi)):zh(gi,Sr,Tr)})},dr.prototype.readFileSync=function(hr,Sr,Cr){var Tr=this.openSync(hr,Cr,420);try{var Br=Tr,zr=Br.getBuffer();return Sr===null?qi(zr):zr.toString(Sr)}finally{Tr.closeSync()}},dr.prototype.getXhrPath=function(hr){return hr.charAt(0)==="/"&&(hr=hr.slice(1)),this.prefixUrl+hr},dr.prototype._requestFileAsync=function(hr,Sr,Cr){Gl(this.getXhrPath(hr),Sr,Cr)},dr.prototype._requestFileSync=function(hr,Sr){return Vh(this.getXhrPath(hr),Sr)},dr.prototype._requestFileSizeAsync=function(hr,Sr){jh(this.getXhrPath(hr),Sr)},dr.prototype._requestFileSizeSync=function(hr){return Uh(this.getXhrPath(hr))},dr}(di);mc.Name="XmlHttpRequest",mc.Options={index:{type:["string","object"],optional:!0,description:"URL to a file index as a JSON file or the file index object itself, generated with the make_xhrfs_index script. Defaults to `index.json`."},baseUrl:{type:"string",optional:!0,description:"Used as the URL prefix for fetched files. Default: Fetch files relative to the index."}};var as=function(){};as.str2byte=function(dr,gr){for(var hr=dr.length>gr.length?gr.length:dr.length,Sr=0;Sr<hr;Sr++){var Cr=dr.charCodeAt(Sr);if(Cr>127){var Tr=as.extendedChars.indexOf(dr.charAt(Sr));Tr>-1&&(Cr=Tr+128)}gr[Cr]=Sr}return hr},as.byte2str=function(dr){for(var gr=new Array(dr.length),hr=0;hr<dr.length;hr++){var Sr=dr[hr];Sr>127?gr[hr]=as.extendedChars[Sr-128]:gr[hr]=String.fromCharCode(Sr)}return gr.join("")},as.byteLength=function(dr){return dr.length},as.extendedChars=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","_","_","_","","","","","","","","","+","+","","","+","+","-","-","+","-","+","","","+","+","-","-","","-","+","","","","","","","i","","","","+","+","_","_","","","_","","","","","","","","","","","","","","","","","","","_","","","","","","","","","","","","_"," "];var Hh=ur(31).inflateRaw,Yl={},$l;(function(wr){wr[wr.MSDOS=0]="MSDOS",wr[wr.AMIGA=1]="AMIGA",wr[wr.OPENVMS=2]="OPENVMS",wr[wr.UNIX=3]="UNIX",wr[wr.VM_CMS=4]="VM_CMS",wr[wr.ATARI_ST=5]="ATARI_ST",wr[wr.OS2_HPFS=6]="OS2_HPFS",wr[wr.MAC=7]="MAC",wr[wr.Z_SYSTEM=8]="Z_SYSTEM",wr[wr.CP_M=9]="CP_M",wr[wr.NTFS=10]="NTFS",wr[wr.MVS=11]="MVS",wr[wr.VSE=12]="VSE",wr[wr.ACORN_RISC=13]="ACORN_RISC",wr[wr.VFAT=14]="VFAT",wr[wr.ALT_MVS=15]="ALT_MVS",wr[wr.BEOS=16]="BEOS",wr[wr.TANDEM=17]="TANDEM",wr[wr.OS_400=18]="OS_400",wr[wr.OSX=19]="OSX"})($l||($l={}));var Ds;(function(wr){wr[wr.STORED=0]="STORED",wr[wr.SHRUNK=1]="SHRUNK",wr[wr.REDUCED_1=2]="REDUCED_1",wr[wr.REDUCED_2=3]="REDUCED_2",wr[wr.REDUCED_3=4]="REDUCED_3",wr[wr.REDUCED_4=5]="REDUCED_4",wr[wr.IMPLODE=6]="IMPLODE",wr[wr.DEFLATE=8]="DEFLATE",wr[wr.DEFLATE64=9]="DEFLATE64",wr[wr.TERSE_OLD=10]="TERSE_OLD",wr[wr.BZIP2=12]="BZIP2",wr[wr.LZMA=14]="LZMA",wr[wr.TERSE_NEW=18]="TERSE_NEW",wr[wr.LZ77=19]="LZ77",wr[wr.WAVPACK=97]="WAVPACK",wr[wr.PPMD=98]="PPMD"})(Ds||(Ds={}));function Ql(wr,dr){var gr=dr&31,hr=(dr>>5&15)-1,Sr=(dr>>9)+1980,Cr=wr&31,Tr=wr>>5&63,Br=wr>>11;return new Date(Sr,hr,gr,Br,Tr,Cr)}function gc(wr,dr,gr,hr){return hr===0?"":dr?wr.toString("utf8",gr,gr+hr):as.byte2str(wr.slice(gr,gr+hr))}var Ja=function(dr){if(this.data=dr,dr.readUInt32LE(0)!==67324752)throw new yr(vr.EINVAL,"Invalid Zip file: Local file header has invalid signature: "+this.data.readUInt32LE(0))};Ja.prototype.versionNeeded=function(){return this.data.readUInt16LE(4)},Ja.prototype.flags=function(){return this.data.readUInt16LE(6)},Ja.prototype.compressionMethod=function(){return this.data.readUInt16LE(8)},Ja.prototype.lastModFileTime=function(){return Ql(this.data.readUInt16LE(10),this.data.readUInt16LE(12))},Ja.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(10)},Ja.prototype.crc32=function(){return this.data.readUInt32LE(14)},Ja.prototype.fileNameLength=function(){return this.data.readUInt16LE(26)},Ja.prototype.extraFieldLength=function(){return this.data.readUInt16LE(28)},Ja.prototype.fileName=function(){return gc(this.data,this.useUTF8(),30,this.fileNameLength())},Ja.prototype.extraField=function(){var dr=30+this.fileNameLength();return this.data.slice(dr,dr+this.extraFieldLength())},Ja.prototype.totalSize=function(){return 30+this.fileNameLength()+this.extraFieldLength()},Ja.prototype.useUTF8=function(){return(this.flags()&2048)===2048};var b0=function(dr,gr,hr){this.header=dr,this.record=gr,this.data=hr};b0.prototype.decompress=function(){var dr=this.header.compressionMethod(),gr=Yl[dr];if(gr)return gr(this.data,this.record.compressedSize(),this.record.uncompressedSize(),this.record.flag());var hr=Ds[dr];throw hr||(hr="Unknown: "+dr),new yr(vr.EINVAL,"Invalid compression method on file '"+this.header.fileName()+"': "+hr)},b0.prototype.getHeader=function(){return this.header},b0.prototype.getRecord=function(){return this.record},b0.prototype.getRawData=function(){return this.data};var sa=function(dr,gr){if(this.zipData=dr,this.data=gr,this.data.readUInt32LE(0)!==33639248)throw new yr(vr.EINVAL,"Invalid Zip file: Central directory record has invalid signature: "+this.data.readUInt32LE(0));this._filename=this.produceFilename()};sa.prototype.versionMadeBy=function(){return this.data.readUInt16LE(4)},sa.prototype.versionNeeded=function(){return this.data.readUInt16LE(6)},sa.prototype.flag=function(){return this.data.readUInt16LE(8)},sa.prototype.compressionMethod=function(){return this.data.readUInt16LE(10)},sa.prototype.lastModFileTime=function(){return Ql(this.data.readUInt16LE(12),this.data.readUInt16LE(14))},sa.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(12)},sa.prototype.crc32=function(){return this.data.readUInt32LE(16)},sa.prototype.compressedSize=function(){return this.data.readUInt32LE(20)},sa.prototype.uncompressedSize=function(){return this.data.readUInt32LE(24)},sa.prototype.fileNameLength=function(){return this.data.readUInt16LE(28)},sa.prototype.extraFieldLength=function(){return this.data.readUInt16LE(30)},sa.prototype.fileCommentLength=function(){return this.data.readUInt16LE(32)},sa.prototype.diskNumberStart=function(){return this.data.readUInt16LE(34)},sa.prototype.internalAttributes=function(){return this.data.readUInt16LE(36)},sa.prototype.externalAttributes=function(){return this.data.readUInt32LE(38)},sa.prototype.headerRelativeOffset=function(){return this.data.readUInt32LE(42)},sa.prototype.produceFilename=function(){var dr=gc(this.data,this.useUTF8(),46,this.fileNameLength());return dr.replace(/\\/g,"/")},sa.prototype.fileName=function(){return this._filename},sa.prototype.rawFileName=function(){return this.data.slice(46,46+this.fileNameLength())},sa.prototype.extraField=function(){var dr=44+this.fileNameLength();return this.data.slice(dr,dr+this.extraFieldLength())},sa.prototype.fileComment=function(){var dr=46+this.fileNameLength()+this.extraFieldLength();return gc(this.data,this.useUTF8(),dr,this.fileCommentLength())},sa.prototype.rawFileComment=function(){var dr=46+this.fileNameLength()+this.extraFieldLength();return this.data.slice(dr,dr+this.fileCommentLength())},sa.prototype.totalSize=function(){return 46+this.fileNameLength()+this.extraFieldLength()+this.fileCommentLength()},sa.prototype.isDirectory=function(){var dr=this.fileName();return!!(this.externalAttributes()&16)||dr.charAt(dr.length-1)==="/"},sa.prototype.isFile=function(){return!this.isDirectory()},sa.prototype.useUTF8=function(){return(this.flag()&2048)===2048},sa.prototype.isEncrypted=function(){return(this.flag()&1)===1},sa.prototype.getFileData=function(){var dr=this.headerRelativeOffset(),gr=new Ja(this.zipData.slice(dr));return new b0(gr,this,this.zipData.slice(dr+gr.totalSize()))},sa.prototype.getData=function(){return this.getFileData().decompress()},sa.prototype.getRawData=function(){return this.getFileData().getRawData()},sa.prototype.getStats=function(){return new Dr(Or.FILE,this.uncompressedSize(),365,new Date,this.lastModFileTime())};var yo=function(dr){if(this.data=dr,this.data.readUInt32LE(0)!==101010256)throw new yr(vr.EINVAL,"Invalid Zip file: End of central directory record has invalid signature: "+this.data.readUInt32LE(0))};yo.prototype.diskNumber=function(){return this.data.readUInt16LE(4)},yo.prototype.cdDiskNumber=function(){return this.data.readUInt16LE(6)},yo.prototype.cdDiskEntryCount=function(){return this.data.readUInt16LE(8)},yo.prototype.cdTotalEntryCount=function(){return this.data.readUInt16LE(10)},yo.prototype.cdSize=function(){return this.data.readUInt32LE(12)},yo.prototype.cdOffset=function(){return this.data.readUInt32LE(16)},yo.prototype.cdZipCommentLength=function(){return this.data.readUInt16LE(20)},yo.prototype.cdZipComment=function(){return gc(this.data,!0,22,this.cdZipCommentLength())},yo.prototype.rawCdZipComment=function(){return this.data.slice(22,22+this.cdZipCommentLength())};var Xl=function(dr,gr,hr,Sr){this.index=dr,this.directoryEntries=gr,this.eocd=hr,this.data=Sr},ss=function(wr){function dr(gr,hr,Sr){hr===void 0&&(hr=""),Sr===void 0&&(Sr=!0),wr.call(this),this.name=hr,this._index=new oo,this._directoryEntries=[],this._eocd=null,Ei(Sr,dr.Name,{zipData:"zip data as a Buffer",name:hr}),gr instanceof Xl?(this._index=gr.index,this._directoryEntries=gr.directoryEntries,this._eocd=gr.eocd,this.data=gr.data):(this.data=gr,this.populateIndex())}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.Create=function(hr,Sr){try{dr.computeIndex(hr.zipData,function(Cr){var Tr=new dr(Cr,hr.name,!1);Sr(null,Tr)},!1)}catch(Cr){Sr(Cr)}},dr.isAvailable=function(){return!0},dr.RegisterDecompressionMethod=function(hr,Sr){Yl[hr]=Sr},dr.computeIndex=function(hr,Sr,Cr){Cr===void 0&&(Cr=!0),Cr&&console.warn("[ZipFS] ZipFS.computeIndex is now deprecated, and will be removed in the next major release. Please update your code to use 'ZipFS.Create({ zipData: zip file as a Buffer}, cb)' instead.");var Tr=new oo,Br=dr.getEOCD(hr);if(Br.diskNumber()!==Br.cdDiskNumber())throw new yr(vr.EINVAL,"ZipFS does not support spanned zip files.");var zr=Br.cdOffset();if(zr===4294967295)throw new yr(vr.EINVAL,"ZipFS does not support Zip64.");var Qr=zr+Br.cdSize();dr.computeIndexResponsive(hr,Tr,zr,Qr,Sr,[],Br)},dr.getEOCD=function(hr){for(var Sr=22,Cr=Math.min(Sr+65535,hr.length-1),Tr=Sr;Tr<Cr;Tr++)if(hr.readUInt32LE(hr.length-Tr)===101010256)return new yo(hr.slice(hr.length-Tr));throw new yr(vr.EINVAL,"Invalid ZIP file: Could not locate End of Central Directory signature.")},dr.addToIndex=function(hr,Sr){var Cr=hr.fileName();if(Cr.charAt(0)==="/")throw new Error("WHY IS THIS ABSOLUTE");Cr.charAt(Cr.length-1)==="/"&&(Cr=Cr.substr(0,Cr.length-1)),hr.isDirectory()?Sr.addPathFast("/"+Cr,new Ka(hr)):Sr.addPathFast("/"+Cr,new Ts(hr))},dr.computeIndexResponsive=function(hr,Sr,Cr,Tr,Br,zr,Qr){if(Cr<Tr){for(var li=0;li++<200&&Cr<Tr;){var gi=new sa(hr,hr.slice(Cr));dr.addToIndex(gi,Sr),Cr+=gi.totalSize(),zr.push(gi)}Lu(function(){dr.computeIndexResponsive(hr,Sr,Cr,Tr,Br,zr,Qr)})}else Br(new Xl(Sr,zr,Qr,hr))},dr.prototype.getName=function(){return dr.Name+(this.name!==""?" "+this.name:"")},dr.prototype.getCentralDirectoryEntry=function(hr){var Sr=this._index.getInode(hr);if(Sr===null)throw yr.ENOENT(hr);if(Ro(Sr))return Sr.getData();if(Uo(Sr))return Sr.getData();throw yr.EPERM("Invalid inode: "+Sr)},dr.prototype.getCentralDirectoryEntryAt=function(hr){var Sr=this._directoryEntries[hr];if(!Sr)throw new RangeError("Invalid directory index: "+hr+".");return Sr},dr.prototype.getNumberOfCentralDirectoryEntries=function(){return this._directoryEntries.length},dr.prototype.getEndOfCentralDirectory=function(){return this._eocd},dr.prototype.diskSpace=function(hr,Sr){Sr(this.data.length,0)},dr.prototype.isReadOnly=function(){return!0},dr.prototype.supportsLinks=function(){return!1},dr.prototype.supportsProps=function(){return!1},dr.prototype.supportsSynch=function(){return!0},dr.prototype.statSync=function(hr,Sr){var Cr=this._index.getInode(hr);if(Cr===null)throw yr.ENOENT(hr);var Tr;if(Ro(Cr))Tr=Cr.getData().getStats();else if(Uo(Cr))Tr=Cr.getStats();else throw new yr(vr.EINVAL,"Invalid inode.");return Tr},dr.prototype.openSync=function(hr,Sr,Cr){if(Sr.isWriteable())throw new yr(vr.EPERM,hr);var Tr=this._index.getInode(hr);if(Tr)if(Ro(Tr)){var Br=Tr.getData(),zr=Br.getStats();switch(Sr.pathExistsAction()){case Ar.THROW_EXCEPTION:case Ar.TRUNCATE_FILE:throw yr.EEXIST(hr);case Ar.NOP:return new xi(this,hr,Sr,zr,Br.getData());default:throw new yr(vr.EINVAL,"Invalid FileMode object.")}}else throw yr.EISDIR(hr);else throw yr.ENOENT(hr)},dr.prototype.readdirSync=function(hr){var Sr=this._index.getInode(hr);if(Sr){if(Uo(Sr))return Sr.getListing();throw yr.ENOTDIR(hr)}else throw yr.ENOENT(hr)},dr.prototype.readFileSync=function(hr,Sr,Cr){var Tr=this.openSync(hr,Cr,420);try{var Br=Tr,zr=Br.getBuffer();return Sr===null?qi(zr):zr.toString(Sr)}finally{Tr.closeSync()}},dr.prototype.populateIndex=function(){var hr=this,Sr=this._eocd=dr.getEOCD(this.data);if(Sr.diskNumber()!==Sr.cdDiskNumber())throw new yr(vr.EINVAL,"ZipFS does not support spanned zip files.");var Cr=Sr.cdOffset();if(Cr===4294967295)throw new yr(vr.EINVAL,"ZipFS does not support Zip64.");for(var Tr=Cr+Sr.cdSize();Cr<Tr;){var Br=new sa(hr.data,hr.data.slice(Cr));Cr+=Br.totalSize(),dr.addToIndex(Br,hr._index),hr._directoryEntries.push(Br)}},dr}(yi);ss.Name="ZipFS",ss.Options={zipData:{type:"object",description:"The zip file as a Buffer object.",validator:ii},name:{type:"string",optional:!0,description:"The name of the zip file (optional)."}},ss.CompressionMethod=Ds,ss.RegisterDecompressionMethod(Ds.DEFLATE,function(wr,dr,gr){return pi(Hh(wr.slice(0,dr),{chunkSize:gr}))}),ss.RegisterDecompressionMethod(Ds.STORED,function(wr,dr,gr){return qi(wr,0,gr)});var Wh="IEEE_P1282";function Ga(wr,dr,gr){return wr.toString("ascii",dr,dr+gr).trim()}function Vu(wr,dr,gr){if(gr===1)return String.fromCharCode(wr[dr]);for(var hr=Math.floor(gr/2),Sr=new Array(hr),Cr=0;Cr<hr;Cr++){var Tr=dr+(Cr<<1);Sr[Cr]=String.fromCharCode(wr[Tr+1]|wr[Tr]<<8)}return Sr.join("")}function bo(wr,dr){var gr=parseInt(Ga(wr,dr,4),10),hr=parseInt(Ga(wr,dr+4,2),10),Sr=parseInt(Ga(wr,dr+6,2),10),Cr=parseInt(Ga(wr,dr+8,2),10),Tr=parseInt(Ga(wr,dr+10,2),10),Br=parseInt(Ga(wr,dr+12,2),10),zr=parseInt(Ga(wr,dr+14,2),10);return new Date(gr,hr,Sr,Cr,Tr,Br,zr*100)}function cs(wr,dr){var gr=wr[dr],hr=wr[dr+1],Sr=wr[dr+2],Cr=wr[dr+3],Tr=wr[dr+4],Br=wr[dr+5];return new Date(gr,hr-1,Sr,Cr,Tr,Br)}function Kh(wr,dr){var gr=wr.slice(dr),hr=new ka(gr);switch(hr.signatureWord()){case 17221:return new rf(gr);case 20548:return new $h(gr);case 21328:return new nf(gr);case 21332:return new af(gr);case 17746:return new of(gr);case 17747:return new Qh(gr);case 20568:return new cf(gr);case 20558:return new Xh(gr);case 21324:return new Uu(gr);case 20045:return new uf(gr);case 17228:return new ju(gr);case 20556:return new Jh(gr);case 21061:return new lf(gr);case 21574:return new ff(gr);case 21318:return new Zh(gr);case 21074:return new sf(gr);default:return hr}}function Jl(wr,dr,gr,hr){gr=gr-4;for(var Sr=new Array;dr<gr;){var Cr=Kh(wr,dr),Tr=Cr.length();if(Tr===0)return Sr;if(dr+=Tr,Cr instanceof af)break;Cr instanceof rf?Sr=Sr.concat(Cr.getEntries(hr)):Sr.push(Cr)}return Sr}var Rs=function(dr){this._data=dr};Rs.prototype.type=function(){return this._data[0]},Rs.prototype.standardIdentifier=function(){return Ga(this._data,1,5)},Rs.prototype.version=function(){return this._data[6]},Rs.prototype.data=function(){return this._data.slice(7,2048)};var Zl=function(wr){function dr(gr){wr.call(this,gr),this._root=null}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.prototype.systemIdentifier=function(){return this._getString32(8)},dr.prototype.volumeIdentifier=function(){return this._getString32(40)},dr.prototype.volumeSpaceSize=function(){return this._data.readUInt32LE(80)},dr.prototype.volumeSetSize=function(){return this._data.readUInt16LE(120)},dr.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(124)},dr.prototype.logicalBlockSize=function(){return this._data.readUInt16LE(128)},dr.prototype.pathTableSize=function(){return this._data.readUInt32LE(132)},dr.prototype.locationOfTypeLPathTable=function(){return this._data.readUInt32LE(140)},dr.prototype.locationOfOptionalTypeLPathTable=function(){return this._data.readUInt32LE(144)},dr.prototype.locationOfTypeMPathTable=function(){return this._data.readUInt32BE(148)},dr.prototype.locationOfOptionalTypeMPathTable=function(){return this._data.readUInt32BE(152)},dr.prototype.rootDirectoryEntry=function(hr){return this._root===null&&(this._root=this._constructRootDirectoryRecord(this._data.slice(156)),this._root.rootCheckForRockRidge(hr)),this._root},dr.prototype.volumeSetIdentifier=function(){return this._getString(190,128)},dr.prototype.publisherIdentifier=function(){return this._getString(318,128)},dr.prototype.dataPreparerIdentifier=function(){return this._getString(446,128)},dr.prototype.applicationIdentifier=function(){return this._getString(574,128)},dr.prototype.copyrightFileIdentifier=function(){return this._getString(702,38)},dr.prototype.abstractFileIdentifier=function(){return this._getString(740,36)},dr.prototype.bibliographicFileIdentifier=function(){return this._getString(776,37)},dr.prototype.volumeCreationDate=function(){return bo(this._data,813)},dr.prototype.volumeModificationDate=function(){return bo(this._data,830)},dr.prototype.volumeExpirationDate=function(){return bo(this._data,847)},dr.prototype.volumeEffectiveDate=function(){return bo(this._data,864)},dr.prototype.fileStructureVersion=function(){return this._data[881]},dr.prototype.applicationUsed=function(){return this._data.slice(883,883+512)},dr.prototype.reserved=function(){return this._data.slice(1395,1395+653)},dr.prototype._getString32=function(hr){return this._getString(hr,32)},dr}(Rs),Gh=function(wr){function dr(gr){if(wr.call(this,gr),this.type()!==1)throw new yr(vr.EIO,"Invalid primary volume descriptor.")}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.prototype.name=function(){return"ISO9660"},dr.prototype._constructRootDirectoryRecord=function(hr){return new ef(hr,-1)},dr.prototype._getString=function(hr,Sr){return this._getString(hr,Sr)},dr}(Zl),Yh=function(wr){function dr(gr){if(wr.call(this,gr),this.type()!==2)throw new yr(vr.EIO,"Invalid supplementary volume descriptor.");var hr=this.escapeSequence(),Sr=hr[2];if(hr[0]!==37||hr[1]!==47||Sr!==64&&Sr!==67&&Sr!==69)throw new yr(vr.EIO,"Unrecognized escape sequence for SupplementaryVolumeDescriptor: "+hr.toString())}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.prototype.name=function(){return"Joliet"},dr.prototype.escapeSequence=function(){return this._data.slice(88,120)},dr.prototype._constructRootDirectoryRecord=function(hr){return new tf(hr,-1)},dr.prototype._getString=function(hr,Sr){return Vu(this._data,hr,Sr)},dr}(Zl),pa=function(dr,gr){this._suEntries=null,this._fileOrDir=null,this._data=dr,this._rockRidgeOffset=gr};pa.prototype.hasRockRidge=function(){return this._rockRidgeOffset>-1},pa.prototype.getRockRidgeOffset=function(){return this._rockRidgeOffset},pa.prototype.rootCheckForRockRidge=function(dr){var gr=this.getDirectory(dr);this._rockRidgeOffset=gr.getDotEntry(dr)._getRockRidgeOffset(dr),this._rockRidgeOffset>-1&&(this._fileOrDir=null)},pa.prototype.length=function(){return this._data[0]},pa.prototype.extendedAttributeRecordLength=function(){return this._data[1]},pa.prototype.lba=function(){return this._data.readUInt32LE(2)*2048},pa.prototype.dataLength=function(){return this._data.readUInt32LE(10)},pa.prototype.recordingDate=function(){return cs(this._data,18)},pa.prototype.fileFlags=function(){return this._data[25]},pa.prototype.fileUnitSize=function(){return this._data[26]},pa.prototype.interleaveGapSize=function(){return this._data[27]},pa.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(28)},pa.prototype.identifier=function(){return this._getString(33,this._data[32])},pa.prototype.fileName=function(dr){if(this.hasRockRidge()){var gr=this._rockRidgeFilename(dr);if(gr!==null)return gr}var hr=this.identifier();if(this.isDirectory(dr))return hr;var Sr=hr.indexOf(";");return Sr===-1?hr:hr[Sr-1]==="."?hr.slice(0,Sr-1):hr.slice(0,Sr)},pa.prototype.isDirectory=function(dr){var gr=!!(this.fileFlags()&2);return!gr&&this.hasRockRidge()&&(gr=this.getSUEntries(dr).filter(function(hr){return hr instanceof ju}).length>0),gr},pa.prototype.isSymlink=function(dr){return this.hasRockRidge()&&this.getSUEntries(dr).filter(function(gr){return gr instanceof Uu}).length>0},pa.prototype.getSymlinkPath=function(dr){for(var gr="",hr=this.getSUEntries(dr),Sr=this._getGetString(),Cr=0,Tr=hr;Cr<Tr.length;Cr+=1){var Br=Tr[Cr];if(Br instanceof Uu){for(var zr=Br.componentRecords(),Qr=0,li=zr;Qr<li.length;Qr+=1){var gi=li[Qr],Ii=gi.flags();Ii&2?gr+="./":Ii&4?gr+="../":Ii&8?gr+="/":(gr+=gi.content(Sr),Ii&1||(gr+="/"))}if(!Br.continueFlag())break}}return gr.length>1&&gr[gr.length-1]==="/"?gr.slice(0,gr.length-1):gr},pa.prototype.getFile=function(dr){if(this.isDirectory(dr))throw new Error("Tried to get a File from a directory.");return this._fileOrDir===null&&(this._fileOrDir=dr.slice(this.lba(),this.lba()+this.dataLength())),this._fileOrDir},pa.prototype.getDirectory=function(dr){if(!this.isDirectory(dr))throw new Error("Tried to get a Directory from a file.");return this._fileOrDir===null&&(this._fileOrDir=this._constructDirectory(dr)),this._fileOrDir},pa.prototype.getSUEntries=function(dr){return this._suEntries||this._constructSUEntries(dr),this._suEntries},pa.prototype._rockRidgeFilename=function(dr){var gr=this.getSUEntries(dr).filter(function(zr){return zr instanceof uf});if(gr.length===0||gr[0].flags()&6)return null;for(var hr="",Sr=this._getGetString(),Cr=0,Tr=gr;Cr<Tr.length;Cr+=1){var Br=Tr[Cr];if(hr+=Br.name(Sr),!(Br.flags()&1))break}return hr},pa.prototype._constructSUEntries=function(dr){var gr=33+this._data[32];gr%2===1&&gr++,gr+=this._rockRidgeOffset,this._suEntries=Jl(this._data,gr,this.length(),dr)},pa.prototype._getRockRidgeOffset=function(dr){this._rockRidgeOffset=0;var gr=this.getSUEntries(dr);if(gr.length>0){var hr=gr[0];if(hr instanceof nf&&hr.checkBytesPass())for(var Sr=1;Sr<gr.length;Sr++){var Cr=gr[Sr];if(Cr instanceof sf||Cr instanceof of&&Cr.extensionIdentifier()===Wh)return hr.bytesSkipped()}}return this._rockRidgeOffset=-1,-1};var ef=function(wr){function dr(gr,hr){wr.call(this,gr,hr)}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.prototype._getString=function(hr,Sr){return Ga(this._data,hr,Sr)},dr.prototype._constructDirectory=function(hr){return new ex(this,hr)},dr.prototype._getGetString=function(){return Ga},dr}(pa),tf=function(wr){function dr(gr,hr){wr.call(this,gr,hr)}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.prototype._getString=function(hr,Sr){return Vu(this._data,hr,Sr)},dr.prototype._constructDirectory=function(hr){return new tx(this,hr)},dr.prototype._getGetString=function(){return Vu},dr}(pa),ka=function(dr){this._data=dr};ka.prototype.signatureWord=function(){return this._data.readUInt16BE(0)},ka.prototype.signatureWordString=function(){return Ga(this._data,0,2)},ka.prototype.length=function(){return this._data[2]},ka.prototype.suVersion=function(){return this._data[3]};var rf=function(wr){function dr(gr){wr.call(this,gr),this._entries=null}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.prototype.continuationLba=function(){return this._data.readUInt32LE(4)},dr.prototype.continuationLbaOffset=function(){return this._data.readUInt32LE(12)},dr.prototype.continuationLength=function(){return this._data.readUInt32LE(20)},dr.prototype.getEntries=function(hr){if(!this._entries){var Sr=this.continuationLba()*2048+this.continuationLbaOffset();this._entries=Jl(hr,Sr,this.continuationLength(),hr)}return this._entries},dr}(ka),$h=function(wr){function dr(gr){wr.call(this,gr)}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr}(ka),nf=function(wr){function dr(gr){wr.call(this,gr)}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.prototype.checkBytesPass=function(){return this._data[4]===190&&this._data[5]===239},dr.prototype.bytesSkipped=function(){return this._data[6]},dr}(ka),af=function(wr){function dr(gr){wr.call(this,gr)}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr}(ka),of=function(wr){function dr(gr){wr.call(this,gr)}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.prototype.identifierLength=function(){return this._data[4]},dr.prototype.descriptorLength=function(){return this._data[5]},dr.prototype.sourceLength=function(){return this._data[6]},dr.prototype.extensionVersion=function(){return this._data[7]},dr.prototype.extensionIdentifier=function(){return Ga(this._data,8,this.identifierLength())},dr.prototype.extensionDescriptor=function(){return Ga(this._data,8+this.identifierLength(),this.descriptorLength())},dr.prototype.extensionSource=function(){return Ga(this._data,8+this.identifierLength()+this.descriptorLength(),this.sourceLength())},dr}(ka),Qh=function(wr){function dr(gr){wr.call(this,gr)}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.prototype.extensionSequence=function(){return this._data[4]},dr}(ka),sf=function(wr){function dr(gr){wr.call(this,gr)}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr}(ka),cf=function(wr){function dr(gr){wr.call(this,gr)}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.prototype.mode=function(){return this._data.readUInt32LE(4)},dr.prototype.fileLinks=function(){return this._data.readUInt32LE(12)},dr.prototype.uid=function(){return this._data.readUInt32LE(20)},dr.prototype.gid=function(){return this._data.readUInt32LE(28)},dr.prototype.inode=function(){return this._data.readUInt32LE(36)},dr}(ka),Xh=function(wr){function dr(gr){wr.call(this,gr)}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.prototype.devTHigh=function(){return this._data.readUInt32LE(4)},dr.prototype.devTLow=function(){return this._data.readUInt32LE(12)},dr}(ka),Uu=function(wr){function dr(gr){wr.call(this,gr)}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.prototype.flags=function(){return this._data[4]},dr.prototype.continueFlag=function(){return this.flags()&1},dr.prototype.componentRecords=function(){for(var hr=this,Sr=new Array,Cr=5;Cr<this.length();){var Tr=new E0(hr._data.slice(Cr));Sr.push(Tr),Cr+=Tr.length()}return Sr},dr}(ka),E0=function(dr){this._data=dr};E0.prototype.flags=function(){return this._data[0]},E0.prototype.length=function(){return 2+this.componentLength()},E0.prototype.componentLength=function(){return this._data[1]},E0.prototype.content=function(dr){return dr(this._data,2,this.componentLength())};var uf=function(wr){function dr(gr){wr.call(this,gr)}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.prototype.flags=function(){return this._data[4]},dr.prototype.name=function(hr){return hr(this._data,5,this.length()-5)},dr}(ka),ju=function(wr){function dr(gr){wr.call(this,gr)}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.prototype.childDirectoryLba=function(){return this._data.readUInt32LE(4)},dr}(ka),Jh=function(wr){function dr(gr){wr.call(this,gr)}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.prototype.parentDirectoryLba=function(){return this._data.readUInt32LE(4)},dr}(ka),lf=function(wr){function dr(gr){wr.call(this,gr)}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr}(ka),ff=function(wr){function dr(gr){wr.call(this,gr)}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.prototype.flags=function(){return this._data[4]},dr.prototype.creation=function(){return this.flags()&1?this._longFormDates()?bo(this._data,5):cs(this._data,5):null},dr.prototype.modify=function(){if(this.flags()&2){var hr=this.flags()&1?1:0;return this._longFormDates?bo(this._data,5+hr*17):cs(this._data,5+hr*7)}else return null},dr.prototype.access=function(){if(this.flags()&4){var hr=this.flags()&1?1:0;return hr+=this.flags()&2?1:0,this._longFormDates?bo(this._data,5+hr*17):cs(this._data,5+hr*7)}else return null},dr.prototype.backup=function(){if(this.flags()&16){var hr=this.flags()&1?1:0;return hr+=this.flags()&2?1:0,hr+=this.flags()&4?1:0,this._longFormDates?bo(this._data,5+hr*17):cs(this._data,5+hr*7)}else return null},dr.prototype.expiration=function(){if(this.flags()&32){var hr=this.flags()&1?1:0;return hr+=this.flags()&2?1:0,hr+=this.flags()&4?1:0,hr+=this.flags()&16?1:0,this._longFormDates?bo(this._data,5+hr*17):cs(this._data,5+hr*7)}else return null},dr.prototype.effective=function(){if(this.flags()&64){var hr=this.flags()&1?1:0;return hr+=this.flags()&2?1:0,hr+=this.flags()&4?1:0,hr+=this.flags()&16?1:0,hr+=this.flags()&32?1:0,this._longFormDates?bo(this._data,5+hr*17):cs(this._data,5+hr*7)}else return null},dr.prototype._longFormDates=function(){return!!this.flags()},dr}(ka),Zh=function(wr){function dr(gr){wr.call(this,gr)}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.prototype.virtualSizeHigh=function(){return this._data.readUInt32LE(4)},dr.prototype.virtualSizeLow=function(){return this._data.readUInt32LE(12)},dr.prototype.tableDepth=function(){return this._data[20]},dr}(ka),w0=function(dr,gr){var hr=this;this._fileList=[],this._fileMap={},this._record=dr;var Sr=dr.lba(),Cr=Sr+dr.dataLength();if(!(dr.fileFlags()&2)){var Tr=dr.getSUEntries(gr).filter(function(li){return li instanceof ju})[0];Sr=Tr.childDirectoryLba()*2048,Cr=1/0}for(;Sr<Cr;){var Br=gr[Sr];if(Br===0){Sr++;continue}var zr=hr._constructDirectoryRecord(gr.slice(Sr)),Qr=zr.fileName(gr);Qr!=="\0"&&Qr!==""?(!zr.hasRockRidge()||zr.getSUEntries(gr).filter(function(li){return li instanceof lf}).length===0)&&(hr._fileMap[Qr]=zr,hr._fileList.push(Qr)):Cr===1/0&&(Cr=Sr+zr.dataLength()),Sr+=zr.length()}};w0.prototype.getRecord=function(dr){return this._fileMap[dr]},w0.prototype.getFileList=function(){return this._fileList},w0.prototype.getDotEntry=function(dr){return this._constructDirectoryRecord(dr.slice(this._record.lba()))};var ex=function(wr){function dr(gr,hr){wr.call(this,gr,hr)}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.prototype._constructDirectoryRecord=function(hr){return new ef(hr,this._record.getRockRidgeOffset())},dr}(w0),tx=function(wr){function dr(gr,hr){wr.call(this,gr,hr)}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.prototype._constructDirectoryRecord=function(hr){return new tf(hr,this._record.getRockRidgeOffset())},dr}(w0),yc=function(wr){function dr(gr,hr,Sr){var Cr=this;hr===void 0&&(hr=""),Sr===void 0&&(Sr=!0),wr.call(this),this._data=gr,Ei(Sr,dr.Name,{data:"ISO data as a Buffer",name:hr});for(var Tr=!1,Br=16*2048,zr=new Array;!Tr;){var Qr=gr.slice(Br),li=new Rs(Qr);switch(li.type()){case 1:zr.push(new Gh(Qr));break;case 2:zr.push(new Yh(Qr));break;case 255:Tr=!0;break}Br+=2048}if(zr.length===0)throw new yr(vr.EIO,"Unable to find a suitable volume descriptor.");zr.forEach(function(gi){(!Cr._pvd||Cr._pvd.type()!==2)&&(Cr._pvd=gi)}),this._root=this._pvd.rootDirectoryEntry(gr),this._name=hr}return wr&&(dr.__proto__=wr),dr.prototype=Object.create(wr&&wr.prototype),dr.prototype.constructor=dr,dr.Create=function(hr,Sr){var Cr,Tr;try{Cr=new dr(hr.data,hr.name,!1)}catch(Br){Br=Br}finally{Sr(Tr,Cr)}},dr.isAvailable=function(){return!0},dr.prototype.getName=function(){var hr="IsoFS"+this._name+(this._pvd?"-"+this._pvd.name():"");return this._root&&this._root.hasRockRidge()&&(hr+="-RockRidge"),hr},dr.prototype.diskSpace=function(hr,Sr){Sr(this._data.length,0)},dr.prototype.isReadOnly=function(){return!0},dr.prototype.supportsLinks=function(){return!1},dr.prototype.supportsProps=function(){return!1},dr.prototype.supportsSynch=function(){return!0},dr.prototype.statSync=function(hr,Sr){var Cr=this._getDirectoryRecord(hr);if(Cr===null)throw yr.ENOENT(hr);return this._getStats(hr,Cr)},dr.prototype.openSync=function(hr,Sr,Cr){if(Sr.isWriteable())throw new yr(vr.EPERM,hr);var Tr=this._getDirectoryRecord(hr);if(Tr){if(Tr.isSymlink(this._data))return this.openSync(_r.resolve(hr,Tr.getSymlinkPath(this._data)),Sr,Cr);if(Tr.isDirectory(this._data))throw yr.EISDIR(hr);var Br=Tr.getFile(this._data),zr=this._getStats(hr,Tr);switch(Sr.pathExistsAction()){case Ar.THROW_EXCEPTION:case Ar.TRUNCATE_FILE:throw yr.EEXIST(hr);case Ar.NOP:return new xi(this,hr,Sr,zr,Br);default:throw new yr(vr.EINVAL,"Invalid FileMode object.")}}else throw yr.ENOENT(hr)},dr.prototype.readdirSync=function(hr){var Sr=this._getDirectoryRecord(hr);if(Sr){if(Sr.isDirectory(this._data))return Sr.getDirectory(this._data).getFileList().slice(0);throw yr.ENOTDIR(hr)}else throw yr.ENOENT(hr)},dr.prototype.readFileSync=function(hr,Sr,Cr){var Tr=this.openSync(hr,Cr,420);try{var Br=Tr,zr=Br.getBuffer();return Sr===null?qi(zr):zr.toString(Sr)}finally{Tr.closeSync()}},dr.prototype._getDirectoryRecord=function(hr){var Sr=this;if(hr==="/")return this._root;for(var Cr=hr.split("/").slice(1),Tr=this._root,Br=0,zr=Cr;Br<zr.length;Br+=1){var Qr=zr[Br];if(Tr.isDirectory(Sr._data)){if(Tr=Tr.getDirectory(Sr._data).getRecord(Qr),!Tr)return null}else return null}return Tr},dr.prototype._getStats=function(hr,Sr){if(Sr.isSymlink(this._data)){var Cr=_r.resolve(hr,Sr.getSymlinkPath(this._data)),Tr=this._getDirectoryRecord(Cr);return Tr?this._getStats(Cr,Tr):null}else{var Br=Sr.dataLength(),zr=365,Qr=Sr.recordingDate(),li=Qr,gi=Qr,Ii=Qr;if(Sr.hasRockRidge())for(var Ni=Sr.getSUEntries(this._data),Li=0,$i=Ni;Li<$i.length;Li+=1){var ea=$i[Li];if(ea instanceof cf)zr=ea.mode();else if(ea instanceof ff){var na=ea.flags();na&4&&(li=ea.access()),na&2&&(gi=ea.modify()),na&1&&(Ii=ea.creation())}}return zr=zr&365,new Dr(Sr.isDirectory(this._data)?Or.DIRECTORY:Or.FILE,Br,zr,li,gi,Ii)}},dr}(yi);yc.Name="IsoFS",yc.Options={data:{type:"object",description:"The ISO file in a buffer",validator:ii}},[Kr,cc,uc,Is,fc,Cs,p0,yc,v0,ks,y0,vc,mc,ss].forEach(function(wr){var dr=wr.Create;wr.Create=function(gr,hr){var Sr=typeof gr=="function",Cr=Sr?gr:hr,Tr=Sr?{}:gr;function Br(zr){zr?Cr(zr):dr.call(wr,Tr,Cr)}oi(wr,Tr,Br)}});var bc={AsyncMirror:Kr,Dropbox:cc,Emscripten:uc,FolderAdapter:Is,HTML5FS:fc,InMemory:Cs,IndexedDB:p0,IsoFS:yc,LocalStorage:v0,MountableFileSystem:ks,OverlayFS:y0,WorkerFS:vc,XmlHttpRequest:mc,ZipFS:ss};br.initializeTTYs&&br.initializeTTYs();function rx(wr){wr.Buffer=lr,wr.process=br;var dr=wr.require?wr.require:null;wr.require=function(gr){var hr=df(gr);return hr||dr.apply(null,Array.prototype.slice.call(arguments,0))}}function nx(wr,dr){bc[wr]=dr}function df(wr){switch(wr){case"fs":return Wr;case"path":return _r;case"buffer":return mr;case"process":return br;case"bfs_utils":return Si;default:return bc[wr]}}function hf(wr){return Wr.initialize(wr)}function ix(wr,dr){zu(wr,function(gr,hr){hr?(hf(hr),dr()):dr(gr)})}function zu(wr,dr){var gr=wr.fs;if(!gr)return dr(new yr(vr.EPERM,'Missing "fs" property on configuration object.'));var hr=wr.options,Sr=0,Cr=!1;function Tr(){if(!Cr){Cr=!0;var Qr=bc[gr];Qr?Qr.Create(hr,dr):dr(new yr(vr.EPERM,"File system "+gr+" is not available in BrowserFS."))}}if(hr!==null&&typeof hr=="object"){var Br=!1,zr=Object.keys(hr).filter(function(Qr){return Qr!=="fs"});zr.forEach(function(Qr){var li=hr[Qr];li!==null&&typeof li=="object"&&li.fs&&(Sr++,zu(li,function(gi,Ii){if(Sr--,gi){if(Cr)return;Cr=!0,dr(gi)}else hr[Qr]=Ii,Sr===0&&Br&&Tr()}))}),Br=!0}Sr===0&&Tr()}"ab".substr(-1)!=="b"&&(String.prototype.substr=function(wr){return function(dr,gr){return dr<0&&(dr=this.length+dr),wr.call(this,dr,gr)}}(String.prototype.substr)),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&(Uint8Array.prototype.slice||(Uint8Array.prototype.slice=function(wr,dr){wr===void 0&&(wr=0),dr===void 0&&(dr=this.length);var gr=this;return wr<0&&(wr=this.length+wr,wr<0&&(wr=0)),dr<0&&(dr=this.length+dr,dr<0&&(dr=0)),dr<wr&&(dr=wr),new Uint8Array(gr.buffer,gr.byteOffset+wr,dr-wr)})),or.install=rx,or.registerFileSystem=nx,or.BFSRequire=df,or.initialize=hf,or.configure=ix,or.getFileSystem=zu,or.EmscriptenFS=Vr,or.FileSystem=bc,or.Errors=Ir,or.setImmediate=Lu}).call(or,ur(1),function(){return this}(),ur(5)(ar),ur(6))},function(ar,or,ur){ar.exports=ur(2).Buffer},function(ar,or,ur){(function(vr){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
* @license  MIT
*/var xr=ur(3),pr=ur(4);or.Buffer=vr,or.SlowBuffer=Lr,or.INSPECT_MAX_BYTES=50;var br=2147483647;or.kMaxLength=br,vr.TYPED_ARRAY_SUPPORT=mr(),!vr.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function mr(){try{var Kr=new Uint8Array(1);return Kr.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},Kr.foo()===42}catch{return!1}}function _r(Kr){if(Kr>br)throw new RangeError("Invalid typed array length");var Pr=new Uint8Array(Kr);return Pr.__proto__=vr.prototype,Pr}function vr(Kr,Pr,qr){if(typeof Kr=="number"){if(typeof Pr=="string")throw new Error("If encoding is specified then the first argument must be a string");return Ar(Kr)}return Er(Kr,Pr,qr)}typeof Symbol<"u"&&Symbol.species&&vr[Symbol.species]===vr&&Object.defineProperty(vr,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),vr.poolSize=8192;function Er(Kr,Pr,qr){if(typeof Kr=="number")throw new TypeError('"value" argument must not be a number');return ri(Kr)?Dr(Kr,Pr,qr):typeof Kr=="string"?kr(Kr,Pr):Rr(Kr)}vr.from=function(Kr,Pr,qr){return Er(Kr,Pr,qr)},vr.prototype.__proto__=Uint8Array.prototype,vr.__proto__=Uint8Array;function yr(Kr){if(typeof Kr!="number")throw new TypeError('"size" argument must be a number');if(Kr<0)throw new RangeError('"size" argument must not be negative')}function Ir(Kr,Pr,qr){return yr(Kr),Kr<=0?_r(Kr):Pr!==void 0?typeof qr=="string"?_r(Kr).fill(Pr,qr):_r(Kr).fill(Pr):_r(Kr)}vr.alloc=function(Kr,Pr,qr){return Ir(Kr,Pr,qr)};function Ar(Kr){return yr(Kr),_r(Kr<0?0:Fr(Kr)|0)}vr.allocUnsafe=function(Kr){return Ar(Kr)},vr.allocUnsafeSlow=function(Kr){return Ar(Kr)};function kr(Kr,Pr){if((typeof Pr!="string"||Pr==="")&&(Pr="utf8"),!vr.isEncoding(Pr))throw new TypeError('"encoding" must be a valid string encoding');var qr=Hr(Kr,Pr)|0,Xr=_r(qr),ai=Xr.write(Kr,Pr);return ai!==qr&&(Xr=Xr.slice(0,ai)),Xr}function Or(Kr){for(var Pr=Kr.length<0?0:Fr(Kr.length)|0,qr=_r(Pr),Xr=0;Xr<Pr;Xr+=1)qr[Xr]=Kr[Xr]&255;return qr}function Dr(Kr,Pr,qr){if(Pr<0||Kr.byteLength<Pr)throw new RangeError("'offset' is out of bounds");if(Kr.byteLength<Pr+(qr||0))throw new RangeError("'length' is out of bounds");var Xr;return Pr===void 0&&qr===void 0?Xr=new Uint8Array(Kr):qr===void 0?Xr=new Uint8Array(Kr,Pr):Xr=new Uint8Array(Kr,Pr,qr),Xr.__proto__=vr.prototype,Xr}function Rr(Kr){if(vr.isBuffer(Kr)){var Pr=Fr(Kr.length)|0,qr=_r(Pr);return qr.length===0||Kr.copy(qr,0,0,Pr),qr}if(Kr){if(xi(Kr)||"length"in Kr)return typeof Kr.length!="number"||Ai(Kr.length)?_r(0):Or(Kr);if(Kr.type==="Buffer"&&Array.isArray(Kr.data))return Or(Kr.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function Fr(Kr){if(Kr>=br)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+br.toString(16)+" bytes");return Kr|0}function Lr(Kr){return+Kr!=Kr&&(Kr=0),vr.alloc(+Kr)}vr.isBuffer=function(Pr){return Pr!=null&&Pr._isBuffer===!0},vr.compare=function(Pr,qr){if(!vr.isBuffer(Pr)||!vr.isBuffer(qr))throw new TypeError("Arguments must be Buffers");if(Pr===qr)return 0;for(var Xr=Pr.length,ai=qr.length,fi=0,vi=Math.min(Xr,ai);fi<vi;++fi)if(Pr[fi]!==qr[fi]){Xr=Pr[fi],ai=qr[fi];break}return Xr<ai?-1:ai<Xr?1:0},vr.isEncoding=function(Pr){switch(String(Pr).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},vr.concat=function(Pr,qr){if(!Array.isArray(Pr))throw new TypeError('"list" argument must be an Array of Buffers');if(Pr.length===0)return vr.alloc(0);var Xr;if(qr===void 0)for(qr=0,Xr=0;Xr<Pr.length;++Xr)qr+=Pr[Xr].length;var ai=vr.allocUnsafe(qr),fi=0;for(Xr=0;Xr<Pr.length;++Xr){var vi=Pr[Xr];if(!vr.isBuffer(vi))throw new TypeError('"list" argument must be an Array of Buffers');vi.copy(ai,fi),fi+=vi.length}return ai};function Hr(Kr,Pr){if(vr.isBuffer(Kr))return Kr.length;if(xi(Kr)||ri(Kr))return Kr.byteLength;typeof Kr!="string"&&(Kr=""+Kr);var qr=Kr.length;if(qr===0)return 0;for(var Xr=!1;;)switch(Pr){case"ascii":case"latin1":case"binary":return qr;case"utf8":case"utf-8":case void 0:return Vi(Kr).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return qr*2;case"hex":return qr>>>1;case"base64":return yi(Kr).length;default:if(Xr)return Vi(Kr).length;Pr=(""+Pr).toLowerCase(),Xr=!0}}vr.byteLength=Hr;function Ur(Kr,Pr,qr){var Xr=!1;if((Pr===void 0||Pr<0)&&(Pr=0),Pr>this.length||((qr===void 0||qr>this.length)&&(qr=this.length),qr<=0)||(qr>>>=0,Pr>>>=0,qr<=Pr))return"";for(Kr||(Kr="utf8");;)switch(Kr){case"hex":return pi(this,Pr,qr);case"utf8":case"utf-8":return Fi(this,Pr,qr);case"ascii":return $r(this,Pr,qr);case"latin1":case"binary":return ei(this,Pr,qr);case"base64":return _i(this,Pr,qr);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ui(this,Pr,qr);default:if(Xr)throw new TypeError("Unknown encoding: "+Kr);Kr=(Kr+"").toLowerCase(),Xr=!0}}vr.prototype._isBuffer=!0;function Zr(Kr,Pr,qr){var Xr=Kr[Pr];Kr[Pr]=Kr[qr],Kr[qr]=Xr}vr.prototype.swap16=function(){var Pr=this.length;if(Pr%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var qr=0;qr<Pr;qr+=2)Zr(this,qr,qr+1);return this},vr.prototype.swap32=function(){var Pr=this.length;if(Pr%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var qr=0;qr<Pr;qr+=4)Zr(this,qr,qr+3),Zr(this,qr+1,qr+2);return this},vr.prototype.swap64=function(){var Pr=this.length;if(Pr%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var qr=0;qr<Pr;qr+=8)Zr(this,qr,qr+7),Zr(this,qr+1,qr+6),Zr(this,qr+2,qr+5),Zr(this,qr+3,qr+4);return this},vr.prototype.toString=function(){var Pr=this.length;return Pr===0?"":arguments.length===0?Fi(this,0,Pr):Ur.apply(this,arguments)},vr.prototype.equals=function(Pr){if(!vr.isBuffer(Pr))throw new TypeError("Argument must be a Buffer");return this===Pr?!0:vr.compare(this,Pr)===0},vr.prototype.inspect=function(){var Pr="",qr=or.INSPECT_MAX_BYTES;return this.length>0&&(Pr=this.toString("hex",0,qr).match(/.{2}/g).join(" "),this.length>qr&&(Pr+=" ... ")),"<Buffer "+Pr+">"},vr.prototype.compare=function(Pr,qr,Xr,ai,fi){if(!vr.isBuffer(Pr))throw new TypeError("Argument must be a Buffer");if(qr===void 0&&(qr=0),Xr===void 0&&(Xr=Pr?Pr.length:0),ai===void 0&&(ai=0),fi===void 0&&(fi=this.length),qr<0||Xr>Pr.length||ai<0||fi>this.length)throw new RangeError("out of range index");if(ai>=fi&&qr>=Xr)return 0;if(ai>=fi)return-1;if(qr>=Xr)return 1;if(qr>>>=0,Xr>>>=0,ai>>>=0,fi>>>=0,this===Pr)return 0;for(var vi=fi-ai,Ri=Xr-qr,Qi=Math.min(vi,Ri),Zi=this.slice(ai,fi),zi=Pr.slice(qr,Xr),Bi=0;Bi<Qi;++Bi)if(Zi[Bi]!==zi[Bi]){vi=Zi[Bi],Ri=zi[Bi];break}return vi<Ri?-1:Ri<vi?1:0};function Yr(Kr,Pr,qr,Xr,ai){if(Kr.length===0)return-1;if(typeof qr=="string"?(Xr=qr,qr=0):qr>2147483647?qr=2147483647:qr<-2147483648&&(qr=-2147483648),qr=+qr,Ai(qr)&&(qr=ai?0:Kr.length-1),qr<0&&(qr=Kr.length+qr),qr>=Kr.length){if(ai)return-1;qr=Kr.length-1}else if(qr<0)if(ai)qr=0;else return-1;if(typeof Pr=="string"&&(Pr=vr.from(Pr,Xr)),vr.isBuffer(Pr))return Pr.length===0?-1:jr(Kr,Pr,qr,Xr,ai);if(typeof Pr=="number")return Pr=Pr&255,typeof Uint8Array.prototype.indexOf=="function"?ai?Uint8Array.prototype.indexOf.call(Kr,Pr,qr):Uint8Array.prototype.lastIndexOf.call(Kr,Pr,qr):jr(Kr,[Pr],qr,Xr,ai);throw new TypeError("val must be string, number or Buffer")}function jr(Kr,Pr,qr,Xr,ai){var fi=1,vi=Kr.length,Ri=Pr.length;if(Xr!==void 0&&(Xr=String(Xr).toLowerCase(),Xr==="ucs2"||Xr==="ucs-2"||Xr==="utf16le"||Xr==="utf-16le")){if(Kr.length<2||Pr.length<2)return-1;fi=2,vi/=2,Ri/=2,qr/=2}function Qi(Ia,Ra){return fi===1?Ia[Ra]:Ia.readUInt16BE(Ra*fi)}var Zi;if(ai){var zi=-1;for(Zi=qr;Zi<vi;Zi++)if(Qi(Kr,Zi)===Qi(Pr,zi===-1?0:Zi-zi)){if(zi===-1&&(zi=Zi),Zi-zi+1===Ri)return zi*fi}else zi!==-1&&(Zi-=Zi-zi),zi=-1}else for(qr+Ri>vi&&(qr=vi-Ri),Zi=qr;Zi>=0;Zi--){for(var Bi=!0,ta=0;ta<Ri;ta++)if(Qi(Kr,Zi+ta)!==Qi(Pr,ta)){Bi=!1;break}if(Bi)return Zi}return-1}vr.prototype.includes=function(Pr,qr,Xr){return this.indexOf(Pr,qr,Xr)!==-1},vr.prototype.indexOf=function(Pr,qr,Xr){return Yr(this,Pr,qr,Xr,!0)},vr.prototype.lastIndexOf=function(Pr,qr,Xr){return Yr(this,Pr,qr,Xr,!1)};function Jr(Kr,Pr,qr,Xr){qr=Number(qr)||0;var ai=Kr.length-qr;Xr?(Xr=Number(Xr),Xr>ai&&(Xr=ai)):Xr=ai;var fi=Pr.length;if(fi%2!==0)throw new TypeError("Invalid hex string");Xr>fi/2&&(Xr=fi/2);for(var vi=0;vi<Xr;++vi){var Ri=parseInt(Pr.substr(vi*2,2),16);if(Ai(Ri))return vi;Kr[qr+vi]=Ri}return vi}function Wr(Kr,Pr,qr,Xr){return ti(Vi(Pr,Kr.length-qr),Kr,qr,Xr)}function ni(Kr,Pr,qr,Xr){return ti(Vr(Pr),Kr,qr,Xr)}function Mr(Kr,Pr,qr,Xr){return ni(Kr,Pr,qr,Xr)}function hi(Kr,Pr,qr,Xr){return ti(yi(Pr),Kr,qr,Xr)}function Ei(Kr,Pr,qr,Xr){return ti(di(Pr,Kr.length-qr),Kr,qr,Xr)}vr.prototype.write=function(Pr,qr,Xr,ai){if(qr===void 0)ai="utf8",Xr=this.length,qr=0;else if(Xr===void 0&&typeof qr=="string")ai=qr,Xr=this.length,qr=0;else if(isFinite(qr))qr=qr>>>0,isFinite(Xr)?(Xr=Xr>>>0,ai===void 0&&(ai="utf8")):(ai=Xr,Xr=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var fi=this.length-qr;if((Xr===void 0||Xr>fi)&&(Xr=fi),Pr.length>0&&(Xr<0||qr<0)||qr>this.length)throw new RangeError("Attempt to write outside buffer bounds");ai||(ai="utf8");for(var vi=!1;;)switch(ai){case"hex":return Jr(this,Pr,qr,Xr);case"utf8":case"utf-8":return Wr(this,Pr,qr,Xr);case"ascii":return ni(this,Pr,qr,Xr);case"latin1":case"binary":return Mr(this,Pr,qr,Xr);case"base64":return hi(this,Pr,qr,Xr);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ei(this,Pr,qr,Xr);default:if(vi)throw new TypeError("Unknown encoding: "+ai);ai=(""+ai).toLowerCase(),vi=!0}},vr.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function _i(Kr,Pr,qr){return Pr===0&&qr===Kr.length?xr.fromByteArray(Kr):xr.fromByteArray(Kr.slice(Pr,qr))}function Fi(Kr,Pr,qr){qr=Math.min(Kr.length,qr);for(var Xr=[],ai=Pr;ai<qr;){var fi=Kr[ai],vi=null,Ri=fi>239?4:fi>223?3:fi>191?2:1;if(ai+Ri<=qr){var Qi,Zi,zi,Bi;switch(Ri){case 1:fi<128&&(vi=fi);break;case 2:Qi=Kr[ai+1],(Qi&192)===128&&(Bi=(fi&31)<<6|Qi&63,Bi>127&&(vi=Bi));break;case 3:Qi=Kr[ai+1],Zi=Kr[ai+2],(Qi&192)===128&&(Zi&192)===128&&(Bi=(fi&15)<<12|(Qi&63)<<6|Zi&63,Bi>2047&&(Bi<55296||Bi>57343)&&(vi=Bi));break;case 4:Qi=Kr[ai+1],Zi=Kr[ai+2],zi=Kr[ai+3],(Qi&192)===128&&(Zi&192)===128&&(zi&192)===128&&(Bi=(fi&15)<<18|(Qi&63)<<12|(Zi&63)<<6|zi&63,Bi>65535&&Bi<1114112&&(vi=Bi))}}vi===null?(vi=65533,Ri=1):vi>65535&&(vi-=65536,Xr.push(vi>>>10&1023|55296),vi=56320|vi&1023),Xr.push(vi),ai+=Ri}return ci(Xr)}var si=4096;function ci(Kr){var Pr=Kr.length;if(Pr<=si)return String.fromCharCode.apply(String,Kr);for(var qr="",Xr=0;Xr<Pr;)qr+=String.fromCharCode.apply(String,Kr.slice(Xr,Xr+=si));return qr}function $r(Kr,Pr,qr){var Xr="";qr=Math.min(Kr.length,qr);for(var ai=Pr;ai<qr;++ai)Xr+=String.fromCharCode(Kr[ai]&127);return Xr}function ei(Kr,Pr,qr){var Xr="";qr=Math.min(Kr.length,qr);for(var ai=Pr;ai<qr;++ai)Xr+=String.fromCharCode(Kr[ai]);return Xr}function pi(Kr,Pr,qr){var Xr=Kr.length;(!Pr||Pr<0)&&(Pr=0),(!qr||qr<0||qr>Xr)&&(qr=Xr);for(var ai="",fi=Pr;fi<qr;++fi)ai+=Di(Kr[fi]);return ai}function ui(Kr,Pr,qr){for(var Xr=Kr.slice(Pr,qr),ai="",fi=0;fi<Xr.length;fi+=2)ai+=String.fromCharCode(Xr[fi]+Xr[fi+1]*256);return ai}vr.prototype.slice=function(Pr,qr){var Xr=this.length;Pr=~~Pr,qr=qr===void 0?Xr:~~qr,Pr<0?(Pr+=Xr,Pr<0&&(Pr=0)):Pr>Xr&&(Pr=Xr),qr<0?(qr+=Xr,qr<0&&(qr=0)):qr>Xr&&(qr=Xr),qr<Pr&&(qr=Pr);var ai=this.subarray(Pr,qr);return ai.__proto__=vr.prototype,ai};function bi(Kr,Pr,qr){if(Kr%1!==0||Kr<0)throw new RangeError("offset is not uint");if(Kr+Pr>qr)throw new RangeError("Trying to access beyond buffer length")}vr.prototype.readUIntLE=function(Pr,qr,Xr){Pr=Pr>>>0,qr=qr>>>0,Xr||bi(Pr,qr,this.length);for(var ai=this[Pr],fi=1,vi=0;++vi<qr&&(fi*=256);)ai+=this[Pr+vi]*fi;return ai},vr.prototype.readUIntBE=function(Pr,qr,Xr){Pr=Pr>>>0,qr=qr>>>0,Xr||bi(Pr,qr,this.length);for(var ai=this[Pr+--qr],fi=1;qr>0&&(fi*=256);)ai+=this[Pr+--qr]*fi;return ai},vr.prototype.readUInt8=function(Pr,qr){return Pr=Pr>>>0,qr||bi(Pr,1,this.length),this[Pr]},vr.prototype.readUInt16LE=function(Pr,qr){return Pr=Pr>>>0,qr||bi(Pr,2,this.length),this[Pr]|this[Pr+1]<<8},vr.prototype.readUInt16BE=function(Pr,qr){return Pr=Pr>>>0,qr||bi(Pr,2,this.length),this[Pr]<<8|this[Pr+1]},vr.prototype.readUInt32LE=function(Pr,qr){return Pr=Pr>>>0,qr||bi(Pr,4,this.length),(this[Pr]|this[Pr+1]<<8|this[Pr+2]<<16)+this[Pr+3]*16777216},vr.prototype.readUInt32BE=function(Pr,qr){return Pr=Pr>>>0,qr||bi(Pr,4,this.length),this[Pr]*16777216+(this[Pr+1]<<16|this[Pr+2]<<8|this[Pr+3])},vr.prototype.readIntLE=function(Pr,qr,Xr){Pr=Pr>>>0,qr=qr>>>0,Xr||bi(Pr,qr,this.length);for(var ai=this[Pr],fi=1,vi=0;++vi<qr&&(fi*=256);)ai+=this[Pr+vi]*fi;return fi*=128,ai>=fi&&(ai-=Math.pow(2,8*qr)),ai},vr.prototype.readIntBE=function(Pr,qr,Xr){Pr=Pr>>>0,qr=qr>>>0,Xr||bi(Pr,qr,this.length);for(var ai=qr,fi=1,vi=this[Pr+--ai];ai>0&&(fi*=256);)vi+=this[Pr+--ai]*fi;return fi*=128,vi>=fi&&(vi-=Math.pow(2,8*qr)),vi},vr.prototype.readInt8=function(Pr,qr){return Pr=Pr>>>0,qr||bi(Pr,1,this.length),this[Pr]&128?(255-this[Pr]+1)*-1:this[Pr]},vr.prototype.readInt16LE=function(Pr,qr){Pr=Pr>>>0,qr||bi(Pr,2,this.length);var Xr=this[Pr]|this[Pr+1]<<8;return Xr&32768?Xr|4294901760:Xr},vr.prototype.readInt16BE=function(Pr,qr){Pr=Pr>>>0,qr||bi(Pr,2,this.length);var Xr=this[Pr+1]|this[Pr]<<8;return Xr&32768?Xr|4294901760:Xr},vr.prototype.readInt32LE=function(Pr,qr){return Pr=Pr>>>0,qr||bi(Pr,4,this.length),this[Pr]|this[Pr+1]<<8|this[Pr+2]<<16|this[Pr+3]<<24},vr.prototype.readInt32BE=function(Pr,qr){return Pr=Pr>>>0,qr||bi(Pr,4,this.length),this[Pr]<<24|this[Pr+1]<<16|this[Pr+2]<<8|this[Pr+3]},vr.prototype.readFloatLE=function(Pr,qr){return Pr=Pr>>>0,qr||bi(Pr,4,this.length),pr.read(this,Pr,!0,23,4)},vr.prototype.readFloatBE=function(Pr,qr){return Pr=Pr>>>0,qr||bi(Pr,4,this.length),pr.read(this,Pr,!1,23,4)},vr.prototype.readDoubleLE=function(Pr,qr){return Pr=Pr>>>0,qr||bi(Pr,8,this.length),pr.read(this,Pr,!0,52,8)},vr.prototype.readDoubleBE=function(Pr,qr){return Pr=Pr>>>0,qr||bi(Pr,8,this.length),pr.read(this,Pr,!1,52,8)};function qi(Kr,Pr,qr,Xr,ai,fi){if(!vr.isBuffer(Kr))throw new TypeError('"buffer" argument must be a Buffer instance');if(Pr>ai||Pr<fi)throw new RangeError('"value" argument is out of bounds');if(qr+Xr>Kr.length)throw new RangeError("Index out of range")}vr.prototype.writeUIntLE=function(Pr,qr,Xr,ai){if(Pr=+Pr,qr=qr>>>0,Xr=Xr>>>0,!ai){var fi=Math.pow(2,8*Xr)-1;qi(this,Pr,qr,Xr,fi,0)}var vi=1,Ri=0;for(this[qr]=Pr&255;++Ri<Xr&&(vi*=256);)this[qr+Ri]=Pr/vi&255;return qr+Xr},vr.prototype.writeUIntBE=function(Pr,qr,Xr,ai){if(Pr=+Pr,qr=qr>>>0,Xr=Xr>>>0,!ai){var fi=Math.pow(2,8*Xr)-1;qi(this,Pr,qr,Xr,fi,0)}var vi=Xr-1,Ri=1;for(this[qr+vi]=Pr&255;--vi>=0&&(Ri*=256);)this[qr+vi]=Pr/Ri&255;return qr+Xr},vr.prototype.writeUInt8=function(Pr,qr,Xr){return Pr=+Pr,qr=qr>>>0,Xr||qi(this,Pr,qr,1,255,0),this[qr]=Pr&255,qr+1},vr.prototype.writeUInt16LE=function(Pr,qr,Xr){return Pr=+Pr,qr=qr>>>0,Xr||qi(this,Pr,qr,2,65535,0),this[qr]=Pr&255,this[qr+1]=Pr>>>8,qr+2},vr.prototype.writeUInt16BE=function(Pr,qr,Xr){return Pr=+Pr,qr=qr>>>0,Xr||qi(this,Pr,qr,2,65535,0),this[qr]=Pr>>>8,this[qr+1]=Pr&255,qr+2},vr.prototype.writeUInt32LE=function(Pr,qr,Xr){return Pr=+Pr,qr=qr>>>0,Xr||qi(this,Pr,qr,4,4294967295,0),this[qr+3]=Pr>>>24,this[qr+2]=Pr>>>16,this[qr+1]=Pr>>>8,this[qr]=Pr&255,qr+4},vr.prototype.writeUInt32BE=function(Pr,qr,Xr){return Pr=+Pr,qr=qr>>>0,Xr||qi(this,Pr,qr,4,4294967295,0),this[qr]=Pr>>>24,this[qr+1]=Pr>>>16,this[qr+2]=Pr>>>8,this[qr+3]=Pr&255,qr+4},vr.prototype.writeIntLE=function(Pr,qr,Xr,ai){if(Pr=+Pr,qr=qr>>>0,!ai){var fi=Math.pow(2,8*Xr-1);qi(this,Pr,qr,Xr,fi-1,-fi)}var vi=0,Ri=1,Qi=0;for(this[qr]=Pr&255;++vi<Xr&&(Ri*=256);)Pr<0&&Qi===0&&this[qr+vi-1]!==0&&(Qi=1),this[qr+vi]=(Pr/Ri>>0)-Qi&255;return qr+Xr},vr.prototype.writeIntBE=function(Pr,qr,Xr,ai){if(Pr=+Pr,qr=qr>>>0,!ai){var fi=Math.pow(2,8*Xr-1);qi(this,Pr,qr,Xr,fi-1,-fi)}var vi=Xr-1,Ri=1,Qi=0;for(this[qr+vi]=Pr&255;--vi>=0&&(Ri*=256);)Pr<0&&Qi===0&&this[qr+vi+1]!==0&&(Qi=1),this[qr+vi]=(Pr/Ri>>0)-Qi&255;return qr+Xr},vr.prototype.writeInt8=function(Pr,qr,Xr){return Pr=+Pr,qr=qr>>>0,Xr||qi(this,Pr,qr,1,127,-128),Pr<0&&(Pr=255+Pr+1),this[qr]=Pr&255,qr+1},vr.prototype.writeInt16LE=function(Pr,qr,Xr){return Pr=+Pr,qr=qr>>>0,Xr||qi(this,Pr,qr,2,32767,-32768),this[qr]=Pr&255,this[qr+1]=Pr>>>8,qr+2},vr.prototype.writeInt16BE=function(Pr,qr,Xr){return Pr=+Pr,qr=qr>>>0,Xr||qi(this,Pr,qr,2,32767,-32768),this[qr]=Pr>>>8,this[qr+1]=Pr&255,qr+2},vr.prototype.writeInt32LE=function(Pr,qr,Xr){return Pr=+Pr,qr=qr>>>0,Xr||qi(this,Pr,qr,4,2147483647,-2147483648),this[qr]=Pr&255,this[qr+1]=Pr>>>8,this[qr+2]=Pr>>>16,this[qr+3]=Pr>>>24,qr+4},vr.prototype.writeInt32BE=function(Pr,qr,Xr){return Pr=+Pr,qr=qr>>>0,Xr||qi(this,Pr,qr,4,2147483647,-2147483648),Pr<0&&(Pr=4294967295+Pr+1),this[qr]=Pr>>>24,this[qr+1]=Pr>>>16,this[qr+2]=Pr>>>8,this[qr+3]=Pr&255,qr+4};function Gi(Kr,Pr,qr,Xr,ai,fi){if(qr+Xr>Kr.length)throw new RangeError("Index out of range");if(qr<0)throw new RangeError("Index out of range")}function Ti(Kr,Pr,qr,Xr,ai){return Pr=+Pr,qr=qr>>>0,ai||Gi(Kr,Pr,qr,4),pr.write(Kr,Pr,qr,Xr,23,4),qr+4}vr.prototype.writeFloatLE=function(Pr,qr,Xr){return Ti(this,Pr,qr,!0,Xr)},vr.prototype.writeFloatBE=function(Pr,qr,Xr){return Ti(this,Pr,qr,!1,Xr)};function ii(Kr,Pr,qr,Xr,ai){return Pr=+Pr,qr=qr>>>0,ai||Gi(Kr,Pr,qr,8),pr.write(Kr,Pr,qr,Xr,52,8),qr+8}vr.prototype.writeDoubleLE=function(Pr,qr,Xr){return ii(this,Pr,qr,!0,Xr)},vr.prototype.writeDoubleBE=function(Pr,qr,Xr){return ii(this,Pr,qr,!1,Xr)},vr.prototype.copy=function(Pr,qr,Xr,ai){if(Xr||(Xr=0),!ai&&ai!==0&&(ai=this.length),qr>=Pr.length&&(qr=Pr.length),qr||(qr=0),ai>0&&ai<Xr&&(ai=Xr),ai===Xr||Pr.length===0||this.length===0)return 0;if(qr<0)throw new RangeError("targetStart out of bounds");if(Xr<0||Xr>=this.length)throw new RangeError("sourceStart out of bounds");if(ai<0)throw new RangeError("sourceEnd out of bounds");ai>this.length&&(ai=this.length),Pr.length-qr<ai-Xr&&(ai=Pr.length-qr+Xr);var fi=ai-Xr,vi;if(this===Pr&&Xr<qr&&qr<ai)for(vi=fi-1;vi>=0;--vi)Pr[vi+qr]=this[vi+Xr];else if(fi<1e3)for(vi=0;vi<fi;++vi)Pr[vi+qr]=this[vi+Xr];else Uint8Array.prototype.set.call(Pr,this.subarray(Xr,Xr+fi),qr);return fi},vr.prototype.fill=function(Pr,qr,Xr,ai){if(typeof Pr=="string"){if(typeof qr=="string"?(ai=qr,qr=0,Xr=this.length):typeof Xr=="string"&&(ai=Xr,Xr=this.length),Pr.length===1){var fi=Pr.charCodeAt(0);fi<256&&(Pr=fi)}if(ai!==void 0&&typeof ai!="string")throw new TypeError("encoding must be a string");if(typeof ai=="string"&&!vr.isEncoding(ai))throw new TypeError("Unknown encoding: "+ai)}else typeof Pr=="number"&&(Pr=Pr&255);if(qr<0||this.length<qr||this.length<Xr)throw new RangeError("Out of range index");if(Xr<=qr)return this;qr=qr>>>0,Xr=Xr===void 0?this.length:Xr>>>0,Pr||(Pr=0);var vi;if(typeof Pr=="number")for(vi=qr;vi<Xr;++vi)this[vi]=Pr;else{var Ri=vr.isBuffer(Pr)?Pr:new vr(Pr,ai),Qi=Ri.length;for(vi=0;vi<Xr-qr;++vi)this[vi+qr]=Ri[vi%Qi]}return this};var oi=/[^+/0-9A-Za-z-_]/g;function Si(Kr){if(Kr=Kr.trim().replace(oi,""),Kr.length<2)return"";for(;Kr.length%4!==0;)Kr=Kr+"=";return Kr}function Di(Kr){return Kr<16?"0"+Kr.toString(16):Kr.toString(16)}function Vi(Kr,Pr){Pr=Pr||1/0;for(var qr,Xr=Kr.length,ai=null,fi=[],vi=0;vi<Xr;++vi){if(qr=Kr.charCodeAt(vi),qr>55295&&qr<57344){if(!ai){if(qr>56319){(Pr-=3)>-1&&fi.push(239,191,189);continue}else if(vi+1===Xr){(Pr-=3)>-1&&fi.push(239,191,189);continue}ai=qr;continue}if(qr<56320){(Pr-=3)>-1&&fi.push(239,191,189),ai=qr;continue}qr=(ai-55296<<10|qr-56320)+65536}else ai&&(Pr-=3)>-1&&fi.push(239,191,189);if(ai=null,qr<128){if((Pr-=1)<0)break;fi.push(qr)}else if(qr<2048){if((Pr-=2)<0)break;fi.push(qr>>6|192,qr&63|128)}else if(qr<65536){if((Pr-=3)<0)break;fi.push(qr>>12|224,qr>>6&63|128,qr&63|128)}else if(qr<1114112){if((Pr-=4)<0)break;fi.push(qr>>18|240,qr>>12&63|128,qr>>6&63|128,qr&63|128)}else throw new Error("Invalid code point")}return fi}function Vr(Kr){for(var Pr=[],qr=0;qr<Kr.length;++qr)Pr.push(Kr.charCodeAt(qr)&255);return Pr}function di(Kr,Pr){for(var qr,Xr,ai,fi=[],vi=0;vi<Kr.length&&!((Pr-=2)<0);++vi)qr=Kr.charCodeAt(vi),Xr=qr>>8,ai=qr%256,fi.push(ai),fi.push(Xr);return fi}function yi(Kr){return xr.toByteArray(Si(Kr))}function ti(Kr,Pr,qr,Xr){for(var ai=0;ai<Xr&&!(ai+qr>=Pr.length||ai>=Kr.length);++ai)Pr[ai+qr]=Kr[ai];return ai}function ri(Kr){return Kr instanceof ArrayBuffer||Kr!=null&&Kr.constructor!=null&&Kr.constructor.name==="ArrayBuffer"&&typeof Kr.byteLength=="number"}function xi(Kr){return typeof ArrayBuffer.isView=="function"&&ArrayBuffer.isView(Kr)}function Ai(Kr){return Kr!==Kr}}).call(or,ur(1))},function(ar,or){or.byteLength=vr,or.toByteArray=Er,or.fromByteArray=Ar;for(var ur=[],lr=[],xr=typeof Uint8Array<"u"?Uint8Array:Array,pr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",br=0,mr=pr.length;br<mr;++br)ur[br]=pr[br],lr[pr.charCodeAt(br)]=br;lr["-".charCodeAt(0)]=62,lr["_".charCodeAt(0)]=63;function _r(kr){var Or=kr.length;if(Or%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return kr[Or-2]==="="?2:kr[Or-1]==="="?1:0}function vr(kr){return kr.length*3/4-_r(kr)}function Er(kr){var Or,Dr,Rr,Fr,Lr,Hr,Ur=kr.length;Lr=_r(kr),Hr=new xr(Ur*3/4-Lr),Rr=Lr>0?Ur-4:Ur;var Zr=0;for(Or=0,Dr=0;Or<Rr;Or+=4,Dr+=3)Fr=lr[kr.charCodeAt(Or)]<<18|lr[kr.charCodeAt(Or+1)]<<12|lr[kr.charCodeAt(Or+2)]<<6|lr[kr.charCodeAt(Or+3)],Hr[Zr++]=Fr>>16&255,Hr[Zr++]=Fr>>8&255,Hr[Zr++]=Fr&255;return Lr===2?(Fr=lr[kr.charCodeAt(Or)]<<2|lr[kr.charCodeAt(Or+1)]>>4,Hr[Zr++]=Fr&255):Lr===1&&(Fr=lr[kr.charCodeAt(Or)]<<10|lr[kr.charCodeAt(Or+1)]<<4|lr[kr.charCodeAt(Or+2)]>>2,Hr[Zr++]=Fr>>8&255,Hr[Zr++]=Fr&255),Hr}function yr(kr){return ur[kr>>18&63]+ur[kr>>12&63]+ur[kr>>6&63]+ur[kr&63]}function Ir(kr,Or,Dr){for(var Rr,Fr=[],Lr=Or;Lr<Dr;Lr+=3)Rr=(kr[Lr]<<16)+(kr[Lr+1]<<8)+kr[Lr+2],Fr.push(yr(Rr));return Fr.join("")}function Ar(kr){for(var Or,Dr=kr.length,Rr=Dr%3,Fr="",Lr=[],Hr=16383,Ur=0,Zr=Dr-Rr;Ur<Zr;Ur+=Hr)Lr.push(Ir(kr,Ur,Ur+Hr>Zr?Zr:Ur+Hr));return Rr===1?(Or=kr[Dr-1],Fr+=ur[Or>>2],Fr+=ur[Or<<4&63],Fr+="=="):Rr===2&&(Or=(kr[Dr-2]<<8)+kr[Dr-1],Fr+=ur[Or>>10],Fr+=ur[Or>>4&63],Fr+=ur[Or<<2&63],Fr+="="),Lr.push(Fr),Lr.join("")}},function(ar,or){or.read=function(ur,lr,xr,pr,br){var mr,_r,vr=br*8-pr-1,Er=(1<<vr)-1,yr=Er>>1,Ir=-7,Ar=xr?br-1:0,kr=xr?-1:1,Or=ur[lr+Ar];for(Ar+=kr,mr=Or&(1<<-Ir)-1,Or>>=-Ir,Ir+=vr;Ir>0;mr=mr*256+ur[lr+Ar],Ar+=kr,Ir-=8);for(_r=mr&(1<<-Ir)-1,mr>>=-Ir,Ir+=pr;Ir>0;_r=_r*256+ur[lr+Ar],Ar+=kr,Ir-=8);if(mr===0)mr=1-yr;else{if(mr===Er)return _r?NaN:(Or?-1:1)*(1/0);_r=_r+Math.pow(2,pr),mr=mr-yr}return(Or?-1:1)*_r*Math.pow(2,mr-pr)},or.write=function(ur,lr,xr,pr,br,mr){var _r,vr,Er,yr=mr*8-br-1,Ir=(1<<yr)-1,Ar=Ir>>1,kr=br===23?Math.pow(2,-24)-Math.pow(2,-77):0,Or=pr?0:mr-1,Dr=pr?1:-1,Rr=lr<0||lr===0&&1/lr<0?1:0;for(lr=Math.abs(lr),isNaN(lr)||lr===1/0?(vr=isNaN(lr)?1:0,_r=Ir):(_r=Math.floor(Math.log(lr)/Math.LN2),lr*(Er=Math.pow(2,-_r))<1&&(_r--,Er*=2),_r+Ar>=1?lr+=kr/Er:lr+=kr*Math.pow(2,1-Ar),lr*Er>=2&&(_r++,Er/=2),_r+Ar>=Ir?(vr=0,_r=Ir):_r+Ar>=1?(vr=(lr*Er-1)*Math.pow(2,br),_r=_r+Ar):(vr=lr*Math.pow(2,Ar-1)*Math.pow(2,br),_r=0));br>=8;ur[xr+Or]=vr&255,Or+=Dr,vr/=256,br-=8);for(_r=_r<<br|vr,yr+=br;yr>0;ur[xr+Or]=_r&255,Or+=Dr,_r/=256,yr-=8);ur[xr+Or-Dr]|=Rr*128}},function(ar,or){ar.exports=function(ur){return ur.webpackPolyfill||(ur.deprecate=function(){},ur.paths=[],ur.children=[],ur.webpackPolyfill=1),ur}},function(ar,or,ur){var lr=ur(7),xr=new lr,pr={};function br(_r){pr[_r]||(typeof xr[_r]=="function"?pr[_r]=function(){return xr[_r].apply(xr,arguments)}:pr[_r]=xr[_r])}for(var mr in xr)br(mr);pr.initializeTTYs=function(){xr.stdin===null&&(xr.initializeTTYs(),pr.stdin=xr.stdin,pr.stdout=xr.stdout,pr.stderr=xr.stderr)},xr.nextTick(function(){pr.initializeTTYs()}),ar.exports=pr},function(ar,or,ur){(function(lr){var xr=this&&this.__extends||function(Er,yr){for(var Ir in yr)yr.hasOwnProperty(Ir)&&(Er[Ir]=yr[Ir]);function Ar(){this.constructor=Er}Er.prototype=yr===null?Object.create(yr):(Ar.prototype=yr.prototype,new Ar)},pr=ur(8),br=null,mr=function(){function Er(yr,Ir){this.fun=yr,this.array=Ir}return Er.prototype.run=function(){this.fun.apply(null,this.array)},Er}(),_r=function(){function Er(){this._queue=[],this._draining=!1,this._currentQueue=null,this._queueIndex=-1}return Er.prototype.push=function(yr){var Ir=this;this._queue.push(yr)===1&&!this._draining&&setTimeout(function(){return Ir._drainQueue()},0)},Er.prototype._cleanUpNextTick=function(){this._draining=!1,this._currentQueue&&this._currentQueue.length?this._queue=this._currentQueue.concat(this._queue):this._queueIndex=-1,this._queue.length&&this._drainQueue()},Er.prototype._drainQueue=function(){var yr=this;if(!this._draining){var Ir=setTimeout(function(){return yr._cleanUpNextTick()});this._draining=!0;for(var Ar=this._queue.length;Ar;){for(this._currentQueue=this._queue,this._queue=[];++this._queueIndex<Ar;)this._currentQueue&&this._currentQueue[this._queueIndex].run();this._queueIndex=-1,Ar=this._queue.length}this._currentQueue=null,this._draining=!1,clearTimeout(Ir)}},Er}(),vr=function(Er){xr(yr,Er);function yr(){Er.apply(this,arguments),this.startTime=Date.now(),this._cwd="/",this.platform="browser",this.argv=[],this.execArgv=[],this.stdout=null,this.stderr=null,this.stdin=null,this.domain=null,this._queue=new _r,this.execPath=lr,this.env={},this.exitCode=0,this._gid=1,this._uid=1,this.version="v5.0",this.versions={http_parser:"0.0",node:"5.0",v8:"0.0",uv:"0.0",zlib:"0.0",ares:"0.0",icu:"0.0",modules:"0",openssl:"0.0"},this.config={target_defaults:{cflags:[],default_configuration:"Release",defines:[],include_dirs:[],libraries:[]},variables:{clang:0,host_arch:"x32",node_install_npm:!1,node_install_waf:!1,node_prefix:"",node_shared_cares:!1,node_shared_http_parser:!1,node_shared_libuv:!1,node_shared_zlib:!1,node_shared_v8:!1,node_use_dtrace:!1,node_use_etw:!1,node_use_openssl:!1,node_shared_openssl:!1,strict_aliasing:!1,target_arch:"x32",v8_use_snapshot:!1,v8_no_strict_aliasing:0,visibility:""}},this.pid=Math.random()*1e3|0,this.title="node",this.arch="x32",this._mask=18,this.connected=void 0}return yr.prototype.chdir=function(Ir){br===null&&(br=ur(9)),this._cwd=br.resolve(Ir)},yr.prototype.cwd=function(){return this._cwd},yr.prototype.uptime=function(){return(Date.now()-this.startTime)/1e3|0},yr.prototype.nextTick=function(Ir){for(var Ar=[],kr=1;kr<arguments.length;kr++)Ar[kr-1]=arguments[kr];this._queue.push(new mr(Ir,Ar))},yr.prototype.abort=function(){this.emit("abort")},yr.prototype.exit=function(Ir){this.exitCode=Ir,this.emit("exit",[Ir])},yr.prototype.getgid=function(){return this._gid},yr.prototype.setgid=function(Ir){typeof Ir=="number"?this._gid=Ir:this._gid=1},yr.prototype.getuid=function(){return this._uid},yr.prototype.setuid=function(Ir){typeof Ir=="number"?this._uid=Ir:this._uid=1},yr.prototype.kill=function(Ir,Ar){this.emit("kill",[Ir,Ar])},yr.prototype.memoryUsage=function(){return{rss:0,heapTotal:0,heapUsed:0}},yr.prototype.umask=function(Ir){Ir===void 0&&(Ir=this._mask);var Ar=this._mask;return this._mask=Ir,this.emit("umask",[Ir]),Ar},yr.prototype.hrtime=function(){var Ir;typeof performance<"u"?Ir=performance.now():Date.now?Ir=Date.now():Ir=new Date().getTime();var Ar=Ir/1e3|0;return Ir-=Ar*1e3,Ir=Ir*1e6|0,[Ar,Ir]},yr.prototype.initializeTTYs=function(){if(this.stdout===null){var Ir=ur(10);this.stdout=new Ir,this.stderr=new Ir,this.stdin=new Ir}},yr.prototype.disconnect=function(){},yr}(pr.EventEmitter);ar.exports=vr}).call(or,"/")},function(ar,or){function ur(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}ar.exports=ur,ur.EventEmitter=ur,ur.prototype._events=void 0,ur.prototype._maxListeners=void 0,ur.defaultMaxListeners=10,ur.prototype.setMaxListeners=function(mr){if(!xr(mr)||mr<0||isNaN(mr))throw TypeError("n must be a positive number");return this._maxListeners=mr,this},ur.prototype.emit=function(mr){var _r,vr,Er,yr,Ir,Ar;if(this._events||(this._events={}),mr==="error"&&(!this._events.error||pr(this._events.error)&&!this._events.error.length)){if(_r=arguments[1],_r instanceof Error)throw _r;var kr=new Error('Uncaught, unspecified "error" event. ('+_r+")");throw kr.context=_r,kr}if(vr=this._events[mr],br(vr))return!1;if(lr(vr))switch(arguments.length){case 1:vr.call(this);break;case 2:vr.call(this,arguments[1]);break;case 3:vr.call(this,arguments[1],arguments[2]);break;default:yr=Array.prototype.slice.call(arguments,1),vr.apply(this,yr)}else if(pr(vr))for(yr=Array.prototype.slice.call(arguments,1),Ar=vr.slice(),Er=Ar.length,Ir=0;Ir<Er;Ir++)Ar[Ir].apply(this,yr);return!0},ur.prototype.addListener=function(mr,_r){var vr;if(!lr(_r))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",mr,lr(_r.listener)?_r.listener:_r),this._events[mr]?pr(this._events[mr])?this._events[mr].push(_r):this._events[mr]=[this._events[mr],_r]:this._events[mr]=_r,pr(this._events[mr])&&!this._events[mr].warned&&(br(this._maxListeners)?vr=ur.defaultMaxListeners:vr=this._maxListeners,vr&&vr>0&&this._events[mr].length>vr&&(this._events[mr].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[mr].length),typeof console.trace=="function"&&console.trace())),this},ur.prototype.on=ur.prototype.addListener,ur.prototype.once=function(mr,_r){if(!lr(_r))throw TypeError("listener must be a function");var vr=!1;function Er(){this.removeListener(mr,Er),vr||(vr=!0,_r.apply(this,arguments))}return Er.listener=_r,this.on(mr,Er),this},ur.prototype.removeListener=function(mr,_r){var vr,Er,yr,Ir;if(!lr(_r))throw TypeError("listener must be a function");if(!this._events||!this._events[mr])return this;if(vr=this._events[mr],yr=vr.length,Er=-1,vr===_r||lr(vr.listener)&&vr.listener===_r)delete this._events[mr],this._events.removeListener&&this.emit("removeListener",mr,_r);else if(pr(vr)){for(Ir=yr;Ir-- >0;)if(vr[Ir]===_r||vr[Ir].listener&&vr[Ir].listener===_r){Er=Ir;break}if(Er<0)return this;vr.length===1?(vr.length=0,delete this._events[mr]):vr.splice(Er,1),this._events.removeListener&&this.emit("removeListener",mr,_r)}return this},ur.prototype.removeAllListeners=function(mr){var _r,vr;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[mr]&&delete this._events[mr],this;if(arguments.length===0){for(_r in this._events)_r!=="removeListener"&&this.removeAllListeners(_r);return this.removeAllListeners("removeListener"),this._events={},this}if(vr=this._events[mr],lr(vr))this.removeListener(mr,vr);else if(vr)for(;vr.length;)this.removeListener(mr,vr[vr.length-1]);return delete this._events[mr],this},ur.prototype.listeners=function(mr){var _r;return!this._events||!this._events[mr]?_r=[]:lr(this._events[mr])?_r=[this._events[mr]]:_r=this._events[mr].slice(),_r},ur.prototype.listenerCount=function(mr){if(this._events){var _r=this._events[mr];if(lr(_r))return 1;if(_r)return _r.length}return 0},ur.listenerCount=function(mr,_r){return mr.listenerCount(_r)};function lr(mr){return typeof mr=="function"}function xr(mr){return typeof mr=="number"}function pr(mr){return typeof mr=="object"&&mr!==null}function br(mr){return mr===void 0}},function(ar,or,ur){(function(lr){var xr=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;function pr(mr){var _r=xr.exec(mr);return _r.shift(),_r}var br=function(){function mr(){}return mr.normalize=function(_r){_r===""&&(_r=".");var vr=_r.charAt(0)===mr.sep;_r=mr._removeDuplicateSeps(_r);for(var Er=_r.split(mr.sep),yr=[],Ir=0;Ir<Er.length;Ir++){var Ar=Er[Ir];Ar!=="."&&(Ar===".."&&(vr||!vr&&yr.length>0&&yr[0]!=="..")?yr.pop():yr.push(Ar))}if(!vr&&yr.length<2)switch(yr.length){case 1:yr[0]===""&&yr.unshift(".");break;default:yr.push(".")}return _r=yr.join(mr.sep),vr&&_r.charAt(0)!==mr.sep&&(_r=mr.sep+_r),_r},mr.join=function(){for(var _r=[],vr=0;vr<arguments.length;vr++)_r[vr-0]=arguments[vr];for(var Er=[],yr=0;yr<_r.length;yr++){var Ir=_r[yr];if(typeof Ir!="string")throw new TypeError("Invalid argument type to path.join: "+typeof Ir);Ir!==""&&Er.push(Ir)}return mr.normalize(Er.join(mr.sep))},mr.resolve=function(){for(var _r=[],vr=0;vr<arguments.length;vr++)_r[vr-0]=arguments[vr];for(var Er=[],yr=0;yr<_r.length;yr++){var Ir=_r[yr];if(typeof Ir!="string")throw new TypeError("Invalid argument type to path.join: "+typeof Ir);Ir!==""&&(Ir.charAt(0)===mr.sep&&(Er=[]),Er.push(Ir))}var Ar=mr.normalize(Er.join(mr.sep));if(Ar.length>1&&Ar.charAt(Ar.length-1)===mr.sep)return Ar.substr(0,Ar.length-1);if(Ar.charAt(0)!==mr.sep){Ar.charAt(0)==="."&&(Ar.length===1||Ar.charAt(1)===mr.sep)&&(Ar=Ar.length===1?"":Ar.substr(2));var kr=lr.cwd();Ar!==""?Ar=this.normalize(kr+(kr!=="/"?mr.sep:"")+Ar):Ar=kr}return Ar},mr.relative=function(_r,vr){var Er;_r=mr.resolve(_r),vr=mr.resolve(vr);var yr=_r.split(mr.sep),Ir=vr.split(mr.sep);Ir.shift(),yr.shift();var Ar=0,kr=[];for(Er=0;Er<yr.length;Er++){var Or=yr[Er];if(Or!==Ir[Er]){Ar=yr.length-Er;break}}kr=Ir.slice(Er),yr.length===1&&yr[0]===""&&(Ar=0),Ar>yr.length&&(Ar=yr.length);var Dr="";for(Er=0;Er<Ar;Er++)Dr+="../";return Dr+=kr.join(mr.sep),Dr.length>1&&Dr.charAt(Dr.length-1)===mr.sep&&(Dr=Dr.substr(0,Dr.length-1)),Dr},mr.dirname=function(_r){_r=mr._removeDuplicateSeps(_r);var vr=_r.charAt(0)===mr.sep,Er=_r.split(mr.sep);return Er.pop()===""&&Er.length>0&&Er.pop(),Er.length>1||Er.length===1&&!vr?Er.join(mr.sep):vr?mr.sep:"."},mr.basename=function(_r,vr){if(vr===void 0&&(vr=""),_r==="")return _r;_r=mr.normalize(_r);var Er=_r.split(mr.sep),yr=Er[Er.length-1];if(yr===""&&Er.length>1)return Er[Er.length-2];if(vr.length>0){var Ir=yr.substr(yr.length-vr.length);if(Ir===vr)return yr.substr(0,yr.length-vr.length)}return yr},mr.extname=function(_r){_r=mr.normalize(_r);var vr=_r.split(mr.sep);if(_r=vr.pop(),_r===""&&vr.length>0&&(_r=vr.pop()),_r==="..")return"";var Er=_r.lastIndexOf(".");return Er===-1||Er===0?"":_r.substr(Er)},mr.isAbsolute=function(_r){return _r.length>0&&_r.charAt(0)===mr.sep},mr._makeLong=function(_r){return _r},mr.parse=function(_r){var vr=pr(_r);return{root:vr[0],dir:vr[0]+vr[1].slice(0,-1),base:vr[2],ext:vr[3],name:vr[2].slice(0,vr[2].length-vr[3].length)}},mr.format=function(_r){if(_r===null||typeof _r!="object")throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof _r);var vr=_r.root||"";if(typeof vr!="string")throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof _r.root);var Er=_r.dir?_r.dir+mr.sep:"",yr=_r.base||"";return Er+yr},mr._removeDuplicateSeps=function(_r){return _r=_r.replace(this._replaceRegex,this.sep),_r},mr.sep="/",mr._replaceRegex=new RegExp("//+","g"),mr.delimiter=":",mr.posix=mr,mr.win32=mr,mr}();ar.exports=br}).call(or,ur(6))},function(ar,or,ur){(function(lr){var xr=this&&this.__extends||function(mr,_r){for(var vr in _r)_r.hasOwnProperty(vr)&&(mr[vr]=_r[vr]);function Er(){this.constructor=mr}mr.prototype=_r===null?Object.create(_r):(Er.prototype=_r.prototype,new Er)},pr=ur(11),br=function(mr){xr(_r,mr);function _r(){mr.call(this),this.isRaw=!1,this.columns=80,this.rows=120,this.isTTY=!0,this._bufferedWrites=[],this._waitingForWrites=!1}return _r.prototype.setRawMode=function(vr){this.isRaw!==vr&&(this.isRaw=vr,this.emit("modeChange"))},_r.prototype.changeColumns=function(vr){vr!==this.columns&&(this.columns=vr,this.emit("resize"))},_r.prototype.changeRows=function(vr){vr!==this.rows&&(this.rows=vr,this.emit("resize"))},_r.isatty=function(vr){return vr&&vr instanceof _r},_r.prototype._write=function(vr,Er,yr){var Ir;try{var Ar;typeof vr=="string"?Ar=new lr(vr,Er):Ar=vr,this._bufferedWrites.push(Ar),this._waitingForWrites&&this._read(1024)}catch(kr){Ir=kr}finally{yr(Ir)}},_r.prototype._read=function(vr){if(this._bufferedWrites.length===0)this._waitingForWrites=!0;else for(;this._bufferedWrites.length>0&&(this._waitingForWrites=this.push(this._bufferedWrites.shift()),!!this._waitingForWrites););},_r}(pr.Duplex);ar.exports=br}).call(or,ur(1))},function(ar,or,ur){ar.exports=pr;var lr=ur(8).EventEmitter,xr=ur(12);xr(pr,lr),pr.Readable=ur(13),pr.Writable=ur(27),pr.Duplex=ur(28),pr.Transform=ur(29),pr.PassThrough=ur(30),pr.Stream=pr;function pr(){lr.call(this)}pr.prototype.pipe=function(br,mr){var _r=this;function vr(Dr){br.writable&&br.write(Dr)===!1&&_r.pause&&_r.pause()}_r.on("data",vr);function Er(){_r.readable&&_r.resume&&_r.resume()}br.on("drain",Er),!br._isStdio&&(!mr||mr.end!==!1)&&(_r.on("end",Ir),_r.on("close",Ar));var yr=!1;function Ir(){yr||(yr=!0,br.end())}function Ar(){yr||(yr=!0,typeof br.destroy=="function"&&br.destroy())}function kr(Dr){if(Or(),lr.listenerCount(this,"error")===0)throw Dr}_r.on("error",kr),br.on("error",kr);function Or(){_r.removeListener("data",vr),br.removeListener("drain",Er),_r.removeListener("end",Ir),_r.removeListener("close",Ar),_r.removeListener("error",kr),br.removeListener("error",kr),_r.removeListener("end",Or),_r.removeListener("close",Or),br.removeListener("close",Or)}return _r.on("end",Or),_r.on("close",Or),br.on("close",Or),br.emit("pipe",_r),br}},function(ar,or){typeof Object.create=="function"?ar.exports=function(lr,xr){lr.super_=xr,lr.prototype=Object.create(xr.prototype,{constructor:{value:lr,enumerable:!1,writable:!0,configurable:!0}})}:ar.exports=function(lr,xr){lr.super_=xr;var pr=function(){};pr.prototype=xr.prototype,lr.prototype=new pr,lr.prototype.constructor=lr}},function(ar,or,ur){(function(lr){var xr=function(){try{return ur(11)}catch{}}();or=ar.exports=ur(14),or.Stream=xr||or,or.Readable=or,or.Writable=ur(22),or.Duplex=ur(21),or.Transform=ur(25),or.PassThrough=ur(26),!lr.browser&&lr.env.READABLE_STREAM==="disable"&&xr&&(ar.exports=xr)}).call(or,ur(6))},function(ar,or,ur){(function(lr){ar.exports=Fr;var xr=ur(15),pr=ur(16),br;Fr.ReadableState=Rr,ur(8).EventEmitter;var mr=function(ii,oi){return ii.listeners(oi).length},_r;(function(){try{_r=ur(11)}catch{}finally{_r||(_r=ur(8).EventEmitter)}})();var vr=ur(2).Buffer,Er=ur(17),yr=ur(18);yr.inherits=ur(12);var Ir=ur(19),Ar=void 0;Ir&&Ir.debuglog?Ar=Ir.debuglog("stream"):Ar=function(){};var kr=ur(20),Or;yr.inherits(Fr,_r);function Dr(ii,oi,Si){if(typeof ii.prependListener=="function")return ii.prependListener(oi,Si);!ii._events||!ii._events[oi]?ii.on(oi,Si):pr(ii._events[oi])?ii._events[oi].unshift(Si):ii._events[oi]=[Si,ii._events[oi]]}function Rr(ii,oi){br=br||ur(21),ii=ii||{},this.objectMode=!!ii.objectMode,oi instanceof br&&(this.objectMode=this.objectMode||!!ii.readableObjectMode);var Si=ii.highWaterMark,Di=this.objectMode?16:16*1024;this.highWaterMark=Si||Si===0?Si:Di,this.highWaterMark=~~this.highWaterMark,this.buffer=new kr,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=ii.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,ii.encoding&&(Or||(Or=ur(24).StringDecoder),this.decoder=new Or(ii.encoding),this.encoding=ii.encoding)}function Fr(ii){if(br=br||ur(21),!(this instanceof Fr))return new Fr(ii);this._readableState=new Rr(ii,this),this.readable=!0,ii&&typeof ii.read=="function"&&(this._read=ii.read),_r.call(this)}Fr.prototype.push=function(ii,oi){var Si=this._readableState;return!Si.objectMode&&typeof ii=="string"&&(oi=oi||Si.defaultEncoding,oi!==Si.encoding&&(ii=Er.from(ii,oi),oi="")),Lr(this,Si,ii,oi,!1)},Fr.prototype.unshift=function(ii){var oi=this._readableState;return Lr(this,oi,ii,"",!0)},Fr.prototype.isPaused=function(){return this._readableState.flowing===!1};function Lr(ii,oi,Si,Di,Vi){var Vr=jr(oi,Si);if(Vr)ii.emit("error",Vr);else if(Si===null)oi.reading=!1,Jr(ii,oi);else if(oi.objectMode||Si&&Si.length>0)if(oi.ended&&!Vi){var di=new Error("stream.push() after EOF");ii.emit("error",di)}else if(oi.endEmitted&&Vi){var yi=new Error("stream.unshift() after end event");ii.emit("error",yi)}else{var ti;oi.decoder&&!Vi&&!Di&&(Si=oi.decoder.write(Si),ti=!oi.objectMode&&Si.length===0),Vi||(oi.reading=!1),ti||(oi.flowing&&oi.length===0&&!oi.sync?(ii.emit("data",Si),ii.read(0)):(oi.length+=oi.objectMode?1:Si.length,Vi?oi.buffer.unshift(Si):oi.buffer.push(Si),oi.needReadable&&Wr(ii))),Mr(ii,oi)}else Vi||(oi.reading=!1);return Hr(oi)}function Hr(ii){return!ii.ended&&(ii.needReadable||ii.length<ii.highWaterMark||ii.length===0)}Fr.prototype.setEncoding=function(ii){return Or||(Or=ur(24).StringDecoder),this._readableState.decoder=new Or(ii),this._readableState.encoding=ii,this};var Ur=8388608;function Zr(ii){return ii>=Ur?ii=Ur:(ii--,ii|=ii>>>1,ii|=ii>>>2,ii|=ii>>>4,ii|=ii>>>8,ii|=ii>>>16,ii++),ii}function Yr(ii,oi){return ii<=0||oi.length===0&&oi.ended?0:oi.objectMode?1:ii!==ii?oi.flowing&&oi.length?oi.buffer.head.data.length:oi.length:(ii>oi.highWaterMark&&(oi.highWaterMark=Zr(ii)),ii<=oi.length?ii:oi.ended?oi.length:(oi.needReadable=!0,0))}Fr.prototype.read=function(ii){Ar("read",ii),ii=parseInt(ii,10);var oi=this._readableState,Si=ii;if(ii!==0&&(oi.emittedReadable=!1),ii===0&&oi.needReadable&&(oi.length>=oi.highWaterMark||oi.ended))return Ar("read: emitReadable",oi.length,oi.ended),oi.length===0&&oi.ended?bi(this):Wr(this),null;if(ii=Yr(ii,oi),ii===0&&oi.ended)return oi.length===0&&bi(this),null;var Di=oi.needReadable;Ar("need readable",Di),(oi.length===0||oi.length-ii<oi.highWaterMark)&&(Di=!0,Ar("length less than watermark",Di)),oi.ended||oi.reading?(Di=!1,Ar("reading or ended",Di)):Di&&(Ar("do read"),oi.reading=!0,oi.sync=!0,oi.length===0&&(oi.needReadable=!0),this._read(oi.highWaterMark),oi.sync=!1,oi.reading||(ii=Yr(Si,oi)));var Vi;return ii>0?Vi=$r(ii,oi):Vi=null,Vi===null?(oi.needReadable=!0,ii=0):oi.length-=ii,oi.length===0&&(oi.ended||(oi.needReadable=!0),Si!==ii&&oi.ended&&bi(this)),Vi!==null&&this.emit("data",Vi),Vi};function jr(ii,oi){var Si=null;return!vr.isBuffer(oi)&&typeof oi!="string"&&oi!==null&&oi!==void 0&&!ii.objectMode&&(Si=new TypeError("Invalid non-string/buffer chunk")),Si}function Jr(ii,oi){if(!oi.ended){if(oi.decoder){var Si=oi.decoder.end();Si&&Si.length&&(oi.buffer.push(Si),oi.length+=oi.objectMode?1:Si.length)}oi.ended=!0,Wr(ii)}}function Wr(ii){var oi=ii._readableState;oi.needReadable=!1,oi.emittedReadable||(Ar("emitReadable",oi.flowing),oi.emittedReadable=!0,oi.sync?xr(ni,ii):ni(ii))}function ni(ii){Ar("emit readable"),ii.emit("readable"),ci(ii)}function Mr(ii,oi){oi.readingMore||(oi.readingMore=!0,xr(hi,ii,oi))}function hi(ii,oi){for(var Si=oi.length;!oi.reading&&!oi.flowing&&!oi.ended&&oi.length<oi.highWaterMark&&(Ar("maybeReadMore read 0"),ii.read(0),Si!==oi.length);)Si=oi.length;oi.readingMore=!1}Fr.prototype._read=function(ii){this.emit("error",new Error("_read() is not implemented"))},Fr.prototype.pipe=function(ii,oi){var Si=this,Di=this._readableState;switch(Di.pipesCount){case 0:Di.pipes=ii;break;case 1:Di.pipes=[Di.pipes,ii];break;default:Di.pipes.push(ii);break}Di.pipesCount+=1,Ar("pipe count=%d opts=%j",Di.pipesCount,oi);var Vi=(!oi||oi.end!==!1)&&ii!==lr.stdout&&ii!==lr.stderr,Vr=Vi?yi:xi;Di.endEmitted?xr(Vr):Si.once("end",Vr),ii.on("unpipe",di);function di(fi){Ar("onunpipe"),fi===Si&&xi()}function yi(){Ar("onend"),ii.end()}var ti=Ei(Si);ii.on("drain",ti);var ri=!1;function xi(){Ar("cleanup"),ii.removeListener("close",qr),ii.removeListener("finish",Xr),ii.removeListener("drain",ti),ii.removeListener("error",Pr),ii.removeListener("unpipe",di),Si.removeListener("end",yi),Si.removeListener("end",xi),Si.removeListener("data",Kr),ri=!0,Di.awaitDrain&&(!ii._writableState||ii._writableState.needDrain)&&ti()}var Ai=!1;Si.on("data",Kr);function Kr(fi){Ar("ondata"),Ai=!1;var vi=ii.write(fi);vi===!1&&!Ai&&((Di.pipesCount===1&&Di.pipes===ii||Di.pipesCount>1&&Ti(Di.pipes,ii)!==-1)&&!ri&&(Ar("false write response, pause",Si._readableState.awaitDrain),Si._readableState.awaitDrain++,Ai=!0),Si.pause())}function Pr(fi){Ar("onerror",fi),ai(),ii.removeListener("error",Pr),mr(ii,"error")===0&&ii.emit("error",fi)}Dr(ii,"error",Pr);function qr(){ii.removeListener("finish",Xr),ai()}ii.once("close",qr);function Xr(){Ar("onfinish"),ii.removeListener("close",qr),ai()}ii.once("finish",Xr);function ai(){Ar("unpipe"),Si.unpipe(ii)}return ii.emit("pipe",Si),Di.flowing||(Ar("pipe resume"),Si.resume()),ii};function Ei(ii){return function(){var oi=ii._readableState;Ar("pipeOnDrain",oi.awaitDrain),oi.awaitDrain&&oi.awaitDrain--,oi.awaitDrain===0&&mr(ii,"data")&&(oi.flowing=!0,ci(ii))}}Fr.prototype.unpipe=function(ii){var oi=this._readableState;if(oi.pipesCount===0)return this;if(oi.pipesCount===1)return ii&&ii!==oi.pipes?this:(ii||(ii=oi.pipes),oi.pipes=null,oi.pipesCount=0,oi.flowing=!1,ii&&ii.emit("unpipe",this),this);if(!ii){var Si=oi.pipes,Di=oi.pipesCount;oi.pipes=null,oi.pipesCount=0,oi.flowing=!1;for(var Vi=0;Vi<Di;Vi++)Si[Vi].emit("unpipe",this);return this}var Vr=Ti(oi.pipes,ii);return Vr===-1?this:(oi.pipes.splice(Vr,1),oi.pipesCount-=1,oi.pipesCount===1&&(oi.pipes=oi.pipes[0]),ii.emit("unpipe",this),this)},Fr.prototype.on=function(ii,oi){var Si=_r.prototype.on.call(this,ii,oi);if(ii==="data")this._readableState.flowing!==!1&&this.resume();else if(ii==="readable"){var Di=this._readableState;!Di.endEmitted&&!Di.readableListening&&(Di.readableListening=Di.needReadable=!0,Di.emittedReadable=!1,Di.reading?Di.length&&Wr(this):xr(_i,this))}return Si},Fr.prototype.addListener=Fr.prototype.on;function _i(ii){Ar("readable nexttick read 0"),ii.read(0)}Fr.prototype.resume=function(){var ii=this._readableState;return ii.flowing||(Ar("resume"),ii.flowing=!0,Fi(this,ii)),this};function Fi(ii,oi){oi.resumeScheduled||(oi.resumeScheduled=!0,xr(si,ii,oi))}function si(ii,oi){oi.reading||(Ar("resume read 0"),ii.read(0)),oi.resumeScheduled=!1,oi.awaitDrain=0,ii.emit("resume"),ci(ii),oi.flowing&&!oi.reading&&ii.read(0)}Fr.prototype.pause=function(){return Ar("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Ar("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function ci(ii){var oi=ii._readableState;for(Ar("flow",oi.flowing);oi.flowing&&ii.read()!==null;);}Fr.prototype.wrap=function(ii){var oi=this._readableState,Si=!1,Di=this;ii.on("end",function(){if(Ar("wrapped end"),oi.decoder&&!oi.ended){var di=oi.decoder.end();di&&di.length&&Di.push(di)}Di.push(null)}),ii.on("data",function(di){if(Ar("wrapped data"),oi.decoder&&(di=oi.decoder.write(di)),!(oi.objectMode&&di==null)&&!(!oi.objectMode&&(!di||!di.length))){var yi=Di.push(di);yi||(Si=!0,ii.pause())}});for(var Vi in ii)this[Vi]===void 0&&typeof ii[Vi]=="function"&&(this[Vi]=function(di){return function(){return ii[di].apply(ii,arguments)}}(Vi));var Vr=["error","close","destroy","pause","resume"];return Gi(Vr,function(di){ii.on(di,Di.emit.bind(Di,di))}),Di._read=function(di){Ar("wrapped _read",di),Si&&(Si=!1,ii.resume())},Di},Fr._fromList=$r;function $r(ii,oi){if(oi.length===0)return null;var Si;return oi.objectMode?Si=oi.buffer.shift():!ii||ii>=oi.length?(oi.decoder?Si=oi.buffer.join(""):oi.buffer.length===1?Si=oi.buffer.head.data:Si=oi.buffer.concat(oi.length),oi.buffer.clear()):Si=ei(ii,oi.buffer,oi.decoder),Si}function ei(ii,oi,Si){var Di;return ii<oi.head.data.length?(Di=oi.head.data.slice(0,ii),oi.head.data=oi.head.data.slice(ii)):ii===oi.head.data.length?Di=oi.shift():Di=Si?pi(ii,oi):ui(ii,oi),Di}function pi(ii,oi){var Si=oi.head,Di=1,Vi=Si.data;for(ii-=Vi.length;Si=Si.next;){var Vr=Si.data,di=ii>Vr.length?Vr.length:ii;if(di===Vr.length?Vi+=Vr:Vi+=Vr.slice(0,ii),ii-=di,ii===0){di===Vr.length?(++Di,Si.next?oi.head=Si.next:oi.head=oi.tail=null):(oi.head=Si,Si.data=Vr.slice(di));break}++Di}return oi.length-=Di,Vi}function ui(ii,oi){var Si=Er.allocUnsafe(ii),Di=oi.head,Vi=1;for(Di.data.copy(Si),ii-=Di.data.length;Di=Di.next;){var Vr=Di.data,di=ii>Vr.length?Vr.length:ii;if(Vr.copy(Si,Si.length-ii,0,di),ii-=di,ii===0){di===Vr.length?(++Vi,Di.next?oi.head=Di.next:oi.head=oi.tail=null):(oi.head=Di,Di.data=Vr.slice(di));break}++Vi}return oi.length-=Vi,Si}function bi(ii){var oi=ii._readableState;if(oi.length>0)throw new Error('"endReadable()" called on non-empty stream');oi.endEmitted||(oi.ended=!0,xr(qi,oi,ii))}function qi(ii,oi){!ii.endEmitted&&ii.length===0&&(ii.endEmitted=!0,oi.readable=!1,oi.emit("end"))}function Gi(ii,oi){for(var Si=0,Di=ii.length;Si<Di;Si++)oi(ii[Si],Si)}function Ti(ii,oi){for(var Si=0,Di=ii.length;Si<Di;Si++)if(ii[Si]===oi)return Si;return-1}}).call(or,ur(6))},function(ar,or,ur){(function(lr){!lr.version||lr.version.indexOf("v0.")===0||lr.version.indexOf("v1.")===0&&lr.version.indexOf("v1.8.")!==0?ar.exports=xr:ar.exports=lr.nextTick;function xr(pr,br,mr,_r){if(typeof pr!="function")throw new TypeError('"callback" argument must be a function');var vr=arguments.length,Er,yr;switch(vr){case 0:case 1:return lr.nextTick(pr);case 2:return lr.nextTick(function(){pr.call(null,br)});case 3:return lr.nextTick(function(){pr.call(null,br,mr)});case 4:return lr.nextTick(function(){pr.call(null,br,mr,_r)});default:for(Er=new Array(vr-1),yr=0;yr<Er.length;)Er[yr++]=arguments[yr];return lr.nextTick(function(){pr.apply(null,Er)})}}}).call(or,ur(6))},function(ar,or){var ur={}.toString;ar.exports=Array.isArray||function(lr){return ur.call(lr)=="[object Array]"}},function(ar,or,ur){(function(lr){var xr=ur(2),pr=xr.Buffer,br=xr.SlowBuffer,mr=xr.kMaxLength||2147483647;or.alloc=function(vr,Er,yr){if(typeof pr.alloc=="function")return pr.alloc(vr,Er,yr);if(typeof yr=="number")throw new TypeError("encoding must not be number");if(typeof vr!="number")throw new TypeError("size must be a number");if(vr>mr)throw new RangeError("size is too large");var Ir=yr,Ar=Er;Ar===void 0&&(Ir=void 0,Ar=0);var kr=new pr(vr);if(typeof Ar=="string")for(var Or=new pr(Ar,Ir),Dr=Or.length,Rr=-1;++Rr<vr;)kr[Rr]=Or[Rr%Dr];else kr.fill(Ar);return kr},or.allocUnsafe=function(vr){if(typeof pr.allocUnsafe=="function")return pr.allocUnsafe(vr);if(typeof vr!="number")throw new TypeError("size must be a number");if(vr>mr)throw new RangeError("size is too large");return new pr(vr)},or.from=function(vr,Er,yr){if(typeof pr.from=="function"&&(!lr.Uint8Array||Uint8Array.from!==pr.from))return pr.from(vr,Er,yr);if(typeof vr=="number")throw new TypeError('"value" argument must not be a number');if(typeof vr=="string")return new pr(vr,Er);if(typeof ArrayBuffer<"u"&&vr instanceof ArrayBuffer){var Ir=Er;if(arguments.length===1)return new pr(vr);typeof Ir>"u"&&(Ir=0);var Ar=yr;if(typeof Ar>"u"&&(Ar=vr.byteLength-Ir),Ir>=vr.byteLength)throw new RangeError("'offset' is out of bounds");if(Ar>vr.byteLength-Ir)throw new RangeError("'length' is out of bounds");return new pr(vr.slice(Ir,Ir+Ar))}if(pr.isBuffer(vr)){var kr=new pr(vr.length);return vr.copy(kr,0,0,vr.length),kr}if(vr){if(Array.isArray(vr)||typeof ArrayBuffer<"u"&&vr.buffer instanceof ArrayBuffer||"length"in vr)return new pr(vr);if(vr.type==="Buffer"&&Array.isArray(vr.data))return new pr(vr.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},or.allocUnsafeSlow=function(vr){if(typeof pr.allocUnsafeSlow=="function")return pr.allocUnsafeSlow(vr);if(typeof vr!="number")throw new TypeError("size must be a number");if(vr>=mr)throw new RangeError("size is too large");return new br(vr)}}).call(or,function(){return this}())},function(ar,or,ur){(function(lr){function xr(Lr){return Array.isArray?Array.isArray(Lr):Fr(Lr)==="[object Array]"}or.isArray=xr;function pr(Lr){return typeof Lr=="boolean"}or.isBoolean=pr;function br(Lr){return Lr===null}or.isNull=br;function mr(Lr){return Lr==null}or.isNullOrUndefined=mr;function _r(Lr){return typeof Lr=="number"}or.isNumber=_r;function vr(Lr){return typeof Lr=="string"}or.isString=vr;function Er(Lr){return typeof Lr=="symbol"}or.isSymbol=Er;function yr(Lr){return Lr===void 0}or.isUndefined=yr;function Ir(Lr){return Fr(Lr)==="[object RegExp]"}or.isRegExp=Ir;function Ar(Lr){return typeof Lr=="object"&&Lr!==null}or.isObject=Ar;function kr(Lr){return Fr(Lr)==="[object Date]"}or.isDate=kr;function Or(Lr){return Fr(Lr)==="[object Error]"||Lr instanceof Error}or.isError=Or;function Dr(Lr){return typeof Lr=="function"}or.isFunction=Dr;function Rr(Lr){return Lr===null||typeof Lr=="boolean"||typeof Lr=="number"||typeof Lr=="string"||typeof Lr=="symbol"||typeof Lr>"u"}or.isPrimitive=Rr,or.isBuffer=lr.isBuffer;function Fr(Lr){return Object.prototype.toString.call(Lr)}}).call(or,ur(1))},function(ar,or){},function(ar,or,ur){ur(2).Buffer;var lr=ur(17);ar.exports=xr;function xr(){this.head=null,this.tail=null,this.length=0}xr.prototype.push=function(pr){var br={data:pr,next:null};this.length>0?this.tail.next=br:this.head=br,this.tail=br,++this.length},xr.prototype.unshift=function(pr){var br={data:pr,next:this.head};this.length===0&&(this.tail=br),this.head=br,++this.length},xr.prototype.shift=function(){if(this.length!==0){var pr=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,pr}},xr.prototype.clear=function(){this.head=this.tail=null,this.length=0},xr.prototype.join=function(pr){if(this.length===0)return"";for(var br=this.head,mr=""+br.data;br=br.next;)mr+=pr+br.data;return mr},xr.prototype.concat=function(pr){if(this.length===0)return lr.alloc(0);if(this.length===1)return this.head.data;for(var br=lr.allocUnsafe(pr>>>0),mr=this.head,_r=0;mr;)mr.data.copy(br,_r),_r+=mr.data.length,mr=mr.next;return br}},function(ar,or,ur){var lr=Object.keys||function(kr){var Or=[];for(var Dr in kr)Or.push(Dr);return Or};ar.exports=yr;var xr=ur(15),pr=ur(18);pr.inherits=ur(12);var br=ur(14),mr=ur(22);pr.inherits(yr,br);for(var _r=lr(mr.prototype),vr=0;vr<_r.length;vr++){var Er=_r[vr];yr.prototype[Er]||(yr.prototype[Er]=mr.prototype[Er])}function yr(kr){if(!(this instanceof yr))return new yr(kr);br.call(this,kr),mr.call(this,kr),kr&&kr.readable===!1&&(this.readable=!1),kr&&kr.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,kr&&kr.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",Ir)}function Ir(){this.allowHalfOpen||this._writableState.ended||xr(Ar,this)}function Ar(kr){kr.end()}},function(ar,or,ur){(function(lr){ar.exports=Dr;var xr=ur(15),pr=!lr.browser&&["v0.10","v0.9."].indexOf(lr.version.slice(0,5))>-1?setImmediate:xr,br;Dr.WritableState=kr;var mr=ur(18);mr.inherits=ur(12);var _r={deprecate:ur(23)},vr;(function(){try{vr=ur(11)}catch{}finally{vr||(vr=ur(8).EventEmitter)}})();var Er=ur(2).Buffer,yr=ur(17);mr.inherits(Dr,vr);function Ir(){}function Ar(si,ci,$r){this.chunk=si,this.encoding=ci,this.callback=$r,this.next=null}function kr(si,ci){br=br||ur(21),si=si||{},this.objectMode=!!si.objectMode,ci instanceof br&&(this.objectMode=this.objectMode||!!si.writableObjectMode);var $r=si.highWaterMark,ei=this.objectMode?16:16*1024;this.highWaterMark=$r||$r===0?$r:ei,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var pi=si.decodeStrings===!1;this.decodeStrings=!pi,this.defaultEncoding=si.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ui){jr(ci,ui)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new Fi(this)}kr.prototype.getBuffer=function(){for(var ci=this.bufferedRequest,$r=[];ci;)$r.push(ci),ci=ci.next;return $r},function(){try{Object.defineProperty(kr.prototype,"buffer",{get:_r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch{}}();var Or;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Or=Function.prototype[Symbol.hasInstance],Object.defineProperty(Dr,Symbol.hasInstance,{value:function(si){return Or.call(this,si)?!0:si&&si._writableState instanceof kr}})):Or=function(si){return si instanceof this};function Dr(si){if(br=br||ur(21),!Or.call(Dr,this)&&!(this instanceof br))return new Dr(si);this._writableState=new kr(si,this),this.writable=!0,si&&(typeof si.write=="function"&&(this._write=si.write),typeof si.writev=="function"&&(this._writev=si.writev)),vr.call(this)}Dr.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function Rr(si,ci){var $r=new Error("write after end");si.emit("error",$r),xr(ci,$r)}function Fr(si,ci,$r,ei){var pi=!0,ui=!1;return $r===null?ui=new TypeError("May not write null values to stream"):typeof $r!="string"&&$r!==void 0&&!ci.objectMode&&(ui=new TypeError("Invalid non-string/buffer chunk")),ui&&(si.emit("error",ui),xr(ei,ui),pi=!1),pi}Dr.prototype.write=function(si,ci,$r){var ei=this._writableState,pi=!1,ui=Er.isBuffer(si);return typeof ci=="function"&&($r=ci,ci=null),ui?ci="buffer":ci||(ci=ei.defaultEncoding),typeof $r!="function"&&($r=Ir),ei.ended?Rr(this,$r):(ui||Fr(this,ei,si,$r))&&(ei.pendingcb++,pi=Hr(this,ei,ui,si,ci,$r)),pi},Dr.prototype.cork=function(){var si=this._writableState;si.corked++},Dr.prototype.uncork=function(){var si=this._writableState;si.corked&&(si.corked--,!si.writing&&!si.corked&&!si.finished&&!si.bufferProcessing&&si.bufferedRequest&&ni(this,si))},Dr.prototype.setDefaultEncoding=function(ci){if(typeof ci=="string"&&(ci=ci.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ci+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+ci);return this._writableState.defaultEncoding=ci,this};function Lr(si,ci,$r){return!si.objectMode&&si.decodeStrings!==!1&&typeof ci=="string"&&(ci=yr.from(ci,$r)),ci}function Hr(si,ci,$r,ei,pi,ui){$r||(ei=Lr(ci,ei,pi),Er.isBuffer(ei)&&(pi="buffer"));var bi=ci.objectMode?1:ei.length;ci.length+=bi;var qi=ci.length<ci.highWaterMark;if(qi||(ci.needDrain=!0),ci.writing||ci.corked){var Gi=ci.lastBufferedRequest;ci.lastBufferedRequest=new Ar(ei,pi,ui),Gi?Gi.next=ci.lastBufferedRequest:ci.bufferedRequest=ci.lastBufferedRequest,ci.bufferedRequestCount+=1}else Ur(si,ci,!1,bi,ei,pi,ui);return qi}function Ur(si,ci,$r,ei,pi,ui,bi){ci.writelen=ei,ci.writecb=bi,ci.writing=!0,ci.sync=!0,$r?si._writev(pi,ci.onwrite):si._write(pi,ui,ci.onwrite),ci.sync=!1}function Zr(si,ci,$r,ei,pi){--ci.pendingcb,$r?xr(pi,ei):pi(ei),si._writableState.errorEmitted=!0,si.emit("error",ei)}function Yr(si){si.writing=!1,si.writecb=null,si.length-=si.writelen,si.writelen=0}function jr(si,ci){var $r=si._writableState,ei=$r.sync,pi=$r.writecb;if(Yr($r),ci)Zr(si,$r,ei,ci,pi);else{var ui=Mr($r);!ui&&!$r.corked&&!$r.bufferProcessing&&$r.bufferedRequest&&ni(si,$r),ei?pr(Jr,si,$r,ui,pi):Jr(si,$r,ui,pi)}}function Jr(si,ci,$r,ei){$r||Wr(si,ci),ci.pendingcb--,ei(),Ei(si,ci)}function Wr(si,ci){ci.length===0&&ci.needDrain&&(ci.needDrain=!1,si.emit("drain"))}function ni(si,ci){ci.bufferProcessing=!0;var $r=ci.bufferedRequest;if(si._writev&&$r&&$r.next){var ei=ci.bufferedRequestCount,pi=new Array(ei),ui=ci.corkedRequestsFree;ui.entry=$r;for(var bi=0;$r;)pi[bi]=$r,$r=$r.next,bi+=1;Ur(si,ci,!0,ci.length,pi,"",ui.finish),ci.pendingcb++,ci.lastBufferedRequest=null,ui.next?(ci.corkedRequestsFree=ui.next,ui.next=null):ci.corkedRequestsFree=new Fi(ci)}else{for(;$r;){var qi=$r.chunk,Gi=$r.encoding,Ti=$r.callback,ii=ci.objectMode?1:qi.length;if(Ur(si,ci,!1,ii,qi,Gi,Ti),$r=$r.next,ci.writing)break}$r===null&&(ci.lastBufferedRequest=null)}ci.bufferedRequestCount=0,ci.bufferedRequest=$r,ci.bufferProcessing=!1}Dr.prototype._write=function(si,ci,$r){$r(new Error("_write() is not implemented"))},Dr.prototype._writev=null,Dr.prototype.end=function(si,ci,$r){var ei=this._writableState;typeof si=="function"?($r=si,si=null,ci=null):typeof ci=="function"&&($r=ci,ci=null),si!=null&&this.write(si,ci),ei.corked&&(ei.corked=1,this.uncork()),!ei.ending&&!ei.finished&&_i(this,ei,$r)};function Mr(si){return si.ending&&si.length===0&&si.bufferedRequest===null&&!si.finished&&!si.writing}function hi(si,ci){ci.prefinished||(ci.prefinished=!0,si.emit("prefinish"))}function Ei(si,ci){var $r=Mr(ci);return $r&&(ci.pendingcb===0?(hi(si,ci),ci.finished=!0,si.emit("finish")):hi(si,ci)),$r}function _i(si,ci,$r){ci.ending=!0,Ei(si,ci),$r&&(ci.finished?xr($r):si.once("finish",$r)),ci.ended=!0,si.writable=!1}function Fi(si){var ci=this;this.next=null,this.entry=null,this.finish=function($r){var ei=ci.entry;for(ci.entry=null;ei;){var pi=ei.callback;si.pendingcb--,pi($r),ei=ei.next}si.corkedRequestsFree?si.corkedRequestsFree.next=ci:si.corkedRequestsFree=ci}}}).call(or,ur(6))},function(ar,or){(function(ur){ar.exports=lr;function lr(pr,br){if(xr("noDeprecation"))return pr;var mr=!1;function _r(){if(!mr){if(xr("throwDeprecation"))throw new Error(br);xr("traceDeprecation")?console.trace(br):console.warn(br),mr=!0}return pr.apply(this,arguments)}return _r}function xr(pr){try{if(!ur.localStorage)return!1}catch{return!1}var br=ur.localStorage[pr];return br==null?!1:String(br).toLowerCase()==="true"}}).call(or,function(){return this}())},function(ar,or,ur){var lr=ur(2).Buffer,xr=lr.isEncoding||function(Er){switch(Er&&Er.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function pr(Er){if(Er&&!xr(Er))throw new Error("Unknown encoding: "+Er)}var br=or.StringDecoder=function(Er){switch(this.encoding=(Er||"utf8").toLowerCase().replace(/[-_]/,""),pr(Er),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=_r;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=vr;break;default:this.write=mr;return}this.charBuffer=new lr(6),this.charReceived=0,this.charLength=0};br.prototype.write=function(Er){for(var yr="";this.charLength;){var Ir=Er.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:Er.length;if(Er.copy(this.charBuffer,this.charReceived,0,Ir),this.charReceived+=Ir,this.charReceived<this.charLength)return"";Er=Er.slice(Ir,Er.length),yr=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var kr=yr.charCodeAt(yr.length-1);if(kr>=55296&&kr<=56319){this.charLength+=this.surrogateSize,yr="";continue}if(this.charReceived=this.charLength=0,Er.length===0)return yr;break}this.detectIncompleteChar(Er);var Ar=Er.length;this.charLength&&(Er.copy(this.charBuffer,0,Er.length-this.charReceived,Ar),Ar-=this.charReceived),yr+=Er.toString(this.encoding,0,Ar);var Ar=yr.length-1,kr=yr.charCodeAt(Ar);if(kr>=55296&&kr<=56319){var Or=this.surrogateSize;return this.charLength+=Or,this.charReceived+=Or,this.charBuffer.copy(this.charBuffer,Or,0,Or),Er.copy(this.charBuffer,0,0,Or),yr.substring(0,Ar)}return yr},br.prototype.detectIncompleteChar=function(Er){for(var yr=Er.length>=3?3:Er.length;yr>0;yr--){var Ir=Er[Er.length-yr];if(yr==1&&Ir>>5==6){this.charLength=2;break}if(yr<=2&&Ir>>4==14){this.charLength=3;break}if(yr<=3&&Ir>>3==30){this.charLength=4;break}}this.charReceived=yr},br.prototype.end=function(Er){var yr="";if(Er&&Er.length&&(yr=this.write(Er)),this.charReceived){var Ir=this.charReceived,Ar=this.charBuffer,kr=this.encoding;yr+=Ar.slice(0,Ir).toString(kr)}return yr};function mr(Er){return Er.toString(this.encoding)}function _r(Er){this.charReceived=Er.length%2,this.charLength=this.charReceived?2:0}function vr(Er){this.charReceived=Er.length%3,this.charLength=this.charReceived?3:0}},function(ar,or,ur){ar.exports=mr;var lr=ur(21),xr=ur(18);xr.inherits=ur(12),xr.inherits(mr,lr);function pr(vr){this.afterTransform=function(Er,yr){return br(vr,Er,yr)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function br(vr,Er,yr){var Ir=vr._transformState;Ir.transforming=!1;var Ar=Ir.writecb;if(!Ar)return vr.emit("error",new Error("no writecb in Transform class"));Ir.writechunk=null,Ir.writecb=null,yr!=null&&vr.push(yr),Ar(Er);var kr=vr._readableState;kr.reading=!1,(kr.needReadable||kr.length<kr.highWaterMark)&&vr._read(kr.highWaterMark)}function mr(vr){if(!(this instanceof mr))return new mr(vr);lr.call(this,vr),this._transformState=new pr(this);var Er=this;this._readableState.needReadable=!0,this._readableState.sync=!1,vr&&(typeof vr.transform=="function"&&(this._transform=vr.transform),typeof vr.flush=="function"&&(this._flush=vr.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(yr,Ir){_r(Er,yr,Ir)}):_r(Er)})}mr.prototype.push=function(vr,Er){return this._transformState.needTransform=!1,lr.prototype.push.call(this,vr,Er)},mr.prototype._transform=function(vr,Er,yr){throw new Error("_transform() is not implemented")},mr.prototype._write=function(vr,Er,yr){var Ir=this._transformState;if(Ir.writecb=yr,Ir.writechunk=vr,Ir.writeencoding=Er,!Ir.transforming){var Ar=this._readableState;(Ir.needTransform||Ar.needReadable||Ar.length<Ar.highWaterMark)&&this._read(Ar.highWaterMark)}},mr.prototype._read=function(vr){var Er=this._transformState;Er.writechunk!==null&&Er.writecb&&!Er.transforming?(Er.transforming=!0,this._transform(Er.writechunk,Er.writeencoding,Er.afterTransform)):Er.needTransform=!0};function _r(vr,Er,yr){if(Er)return vr.emit("error",Er);yr!=null&&vr.push(yr);var Ir=vr._writableState,Ar=vr._transformState;if(Ir.length)throw new Error("Calling transform done when ws.length != 0");if(Ar.transforming)throw new Error("Calling transform done when still transforming");return vr.push(null)}},function(ar,or,ur){ar.exports=pr;var lr=ur(25),xr=ur(18);xr.inherits=ur(12),xr.inherits(pr,lr);function pr(br){if(!(this instanceof pr))return new pr(br);lr.call(this,br)}pr.prototype._transform=function(br,mr,_r){_r(null,br)}},function(ar,or,ur){ar.exports=ur(22)},function(ar,or,ur){ar.exports=ur(21)},function(ar,or,ur){ar.exports=ur(25)},function(ar,or,ur){ar.exports=ur(26)},function(ar,or,ur){var lr=ur(32),xr=ur(33),pr=ur(38),br=ur(39),mr=ur(40),_r=ur(41),vr=ur(42),Er=Object.prototype.toString;function yr(kr){if(!(this instanceof yr))return new yr(kr);this.options=xr.assign({chunkSize:16384,windowBits:0,to:""},kr||{});var Or=this.options;Or.raw&&Or.windowBits>=0&&Or.windowBits<16&&(Or.windowBits=-Or.windowBits,Or.windowBits===0&&(Or.windowBits=-15)),Or.windowBits>=0&&Or.windowBits<16&&!(kr&&kr.windowBits)&&(Or.windowBits+=32),Or.windowBits>15&&Or.windowBits<48&&(Or.windowBits&15||(Or.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _r,this.strm.avail_out=0;var Dr=lr.inflateInit2(this.strm,Or.windowBits);if(Dr!==br.Z_OK)throw new Error(mr[Dr]);this.header=new vr,lr.inflateGetHeader(this.strm,this.header)}yr.prototype.push=function(kr,Or){var Dr=this.strm,Rr=this.options.chunkSize,Fr=this.options.dictionary,Lr,Hr,Ur,Zr,Yr,jr,Jr=!1;if(this.ended)return!1;Hr=Or===~~Or?Or:Or===!0?br.Z_FINISH:br.Z_NO_FLUSH,typeof kr=="string"?Dr.input=pr.binstring2buf(kr):Er.call(kr)==="[object ArrayBuffer]"?Dr.input=new Uint8Array(kr):Dr.input=kr,Dr.next_in=0,Dr.avail_in=Dr.input.length;do{if(Dr.avail_out===0&&(Dr.output=new xr.Buf8(Rr),Dr.next_out=0,Dr.avail_out=Rr),Lr=lr.inflate(Dr,br.Z_NO_FLUSH),Lr===br.Z_NEED_DICT&&Fr&&(typeof Fr=="string"?jr=pr.string2buf(Fr):Er.call(Fr)==="[object ArrayBuffer]"?jr=new Uint8Array(Fr):jr=Fr,Lr=lr.inflateSetDictionary(this.strm,jr)),Lr===br.Z_BUF_ERROR&&Jr===!0&&(Lr=br.Z_OK,Jr=!1),Lr!==br.Z_STREAM_END&&Lr!==br.Z_OK)return this.onEnd(Lr),this.ended=!0,!1;Dr.next_out&&(Dr.avail_out===0||Lr===br.Z_STREAM_END||Dr.avail_in===0&&(Hr===br.Z_FINISH||Hr===br.Z_SYNC_FLUSH))&&(this.options.to==="string"?(Ur=pr.utf8border(Dr.output,Dr.next_out),Zr=Dr.next_out-Ur,Yr=pr.buf2string(Dr.output,Ur),Dr.next_out=Zr,Dr.avail_out=Rr-Zr,Zr&&xr.arraySet(Dr.output,Dr.output,Ur,Zr,0),this.onData(Yr)):this.onData(xr.shrinkBuf(Dr.output,Dr.next_out))),Dr.avail_in===0&&Dr.avail_out===0&&(Jr=!0)}while((Dr.avail_in>0||Dr.avail_out===0)&&Lr!==br.Z_STREAM_END);return Lr===br.Z_STREAM_END&&(Hr=br.Z_FINISH),Hr===br.Z_FINISH?(Lr=lr.inflateEnd(this.strm),this.onEnd(Lr),this.ended=!0,Lr===br.Z_OK):(Hr===br.Z_SYNC_FLUSH&&(this.onEnd(br.Z_OK),Dr.avail_out=0),!0)},yr.prototype.onData=function(kr){this.chunks.push(kr)},yr.prototype.onEnd=function(kr){kr===br.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=xr.flattenChunks(this.chunks)),this.chunks=[],this.err=kr,this.msg=this.strm.msg};function Ir(kr,Or){var Dr=new yr(Or);if(Dr.push(kr,!0),Dr.err)throw Dr.msg||mr[Dr.err];return Dr.result}function Ar(kr,Or){return Or=Or||{},Or.raw=!0,Ir(kr,Or)}or.Inflate=yr,or.inflate=Ir,or.inflateRaw=Ar,or.ungzip=Ir},function(ar,or,ur){var lr=ur(33),xr=ur(34),pr=ur(35),br=ur(36),mr=ur(37),_r=0,vr=1,Er=2,yr=4,Ir=5,Ar=6,kr=0,Or=1,Dr=2,Rr=-2,Fr=-3,Lr=-4,Hr=-5,Ur=8,Zr=1,Yr=2,jr=3,Jr=4,Wr=5,ni=6,Mr=7,hi=8,Ei=9,_i=10,Fi=11,si=12,ci=13,$r=14,ei=15,pi=16,ui=17,bi=18,qi=19,Gi=20,Ti=21,ii=22,oi=23,Si=24,Di=25,Vi=26,Vr=27,di=28,yi=29,ti=30,ri=31,xi=32,Ai=852,Kr=592,Pr=15,qr=Pr;function Xr(wi){return(wi>>>24&255)+(wi>>>8&65280)+((wi&65280)<<8)+((wi&255)<<24)}function ai(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new lr.Buf16(320),this.work=new lr.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function fi(wi){var Ui;return!wi||!wi.state?Rr:(Ui=wi.state,wi.total_in=wi.total_out=Ui.total=0,wi.msg="",Ui.wrap&&(wi.adler=Ui.wrap&1),Ui.mode=Zr,Ui.last=0,Ui.havedict=0,Ui.dmax=32768,Ui.head=null,Ui.hold=0,Ui.bits=0,Ui.lencode=Ui.lendyn=new lr.Buf32(Ai),Ui.distcode=Ui.distdyn=new lr.Buf32(Kr),Ui.sane=1,Ui.back=-1,kr)}function vi(wi){var Ui;return!wi||!wi.state?Rr:(Ui=wi.state,Ui.wsize=0,Ui.whave=0,Ui.wnext=0,fi(wi))}function Ri(wi,Ui){var Gr,Hi;return!wi||!wi.state||(Hi=wi.state,Ui<0?(Gr=0,Ui=-Ui):(Gr=(Ui>>4)+1,Ui<48&&(Ui&=15)),Ui&&(Ui<8||Ui>15))?Rr:(Hi.window!==null&&Hi.wbits!==Ui&&(Hi.window=null),Hi.wrap=Gr,Hi.wbits=Ui,vi(wi))}function Qi(wi,Ui){var Gr,Hi;return wi?(Hi=new ai,wi.state=Hi,Hi.window=null,Gr=Ri(wi,Ui),Gr!==kr&&(wi.state=null),Gr):Rr}function Zi(wi){return Qi(wi,qr)}var zi=!0,Bi,ta;function Ia(wi){if(zi){var Ui;for(Bi=new lr.Buf32(512),ta=new lr.Buf32(32),Ui=0;Ui<144;)wi.lens[Ui++]=8;for(;Ui<256;)wi.lens[Ui++]=9;for(;Ui<280;)wi.lens[Ui++]=7;for(;Ui<288;)wi.lens[Ui++]=8;for(mr(vr,wi.lens,0,288,Bi,0,wi.work,{bits:9}),Ui=0;Ui<32;)wi.lens[Ui++]=5;mr(Er,wi.lens,0,32,ta,0,wi.work,{bits:5}),zi=!1}wi.lencode=Bi,wi.lenbits=9,wi.distcode=ta,wi.distbits=5}function Ra(wi,Ui,Gr,Hi){var fa,ji=wi.state;return ji.window===null&&(ji.wsize=1<<ji.wbits,ji.wnext=0,ji.whave=0,ji.window=new lr.Buf8(ji.wsize)),Hi>=ji.wsize?(lr.arraySet(ji.window,Ui,Gr-ji.wsize,ji.wsize,0),ji.wnext=0,ji.whave=ji.wsize):(fa=ji.wsize-ji.wnext,fa>Hi&&(fa=Hi),lr.arraySet(ji.window,Ui,Gr-Hi,fa,ji.wnext),Hi-=fa,Hi?(lr.arraySet(ji.window,Ui,Gr-Hi,Hi,0),ji.wnext=Hi,ji.whave=ji.wsize):(ji.wnext+=fa,ji.wnext===ji.wsize&&(ji.wnext=0),ji.whave<ji.wsize&&(ji.whave+=fa))),0}function wa(wi,Ui){var Gr,Hi,fa,ji,qa,Wi,ya,ki,Oi,Oo,ia,Ki,mo,lo,va=0,oa,Pa,Va,Ba,As,es,ba,za,Fa=new lr.Buf8(4),fo,io,ac=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!wi||!wi.state||!wi.output||!wi.input&&wi.avail_in!==0)return Rr;Gr=wi.state,Gr.mode===si&&(Gr.mode=ci),qa=wi.next_out,fa=wi.output,ya=wi.avail_out,ji=wi.next_in,Hi=wi.input,Wi=wi.avail_in,ki=Gr.hold,Oi=Gr.bits,Oo=Wi,ia=ya,za=kr;e:for(;;)switch(Gr.mode){case Zr:if(Gr.wrap===0){Gr.mode=ci;break}for(;Oi<16;){if(Wi===0)break e;Wi--,ki+=Hi[ji++]<<Oi,Oi+=8}if(Gr.wrap&2&&ki===35615){Gr.check=0,Fa[0]=ki&255,Fa[1]=ki>>>8&255,Gr.check=pr(Gr.check,Fa,2,0),ki=0,Oi=0,Gr.mode=Yr;break}if(Gr.flags=0,Gr.head&&(Gr.head.done=!1),!(Gr.wrap&1)||(((ki&255)<<8)+(ki>>8))%31){wi.msg="incorrect header check",Gr.mode=ti;break}if((ki&15)!==Ur){wi.msg="unknown compression method",Gr.mode=ti;break}if(ki>>>=4,Oi-=4,ba=(ki&15)+8,Gr.wbits===0)Gr.wbits=ba;else if(ba>Gr.wbits){wi.msg="invalid window size",Gr.mode=ti;break}Gr.dmax=1<<ba,wi.adler=Gr.check=1,Gr.mode=ki&512?_i:si,ki=0,Oi=0;break;case Yr:for(;Oi<16;){if(Wi===0)break e;Wi--,ki+=Hi[ji++]<<Oi,Oi+=8}if(Gr.flags=ki,(Gr.flags&255)!==Ur){wi.msg="unknown compression method",Gr.mode=ti;break}if(Gr.flags&57344){wi.msg="unknown header flags set",Gr.mode=ti;break}Gr.head&&(Gr.head.text=ki>>8&1),Gr.flags&512&&(Fa[0]=ki&255,Fa[1]=ki>>>8&255,Gr.check=pr(Gr.check,Fa,2,0)),ki=0,Oi=0,Gr.mode=jr;case jr:for(;Oi<32;){if(Wi===0)break e;Wi--,ki+=Hi[ji++]<<Oi,Oi+=8}Gr.head&&(Gr.head.time=ki),Gr.flags&512&&(Fa[0]=ki&255,Fa[1]=ki>>>8&255,Fa[2]=ki>>>16&255,Fa[3]=ki>>>24&255,Gr.check=pr(Gr.check,Fa,4,0)),ki=0,Oi=0,Gr.mode=Jr;case Jr:for(;Oi<16;){if(Wi===0)break e;Wi--,ki+=Hi[ji++]<<Oi,Oi+=8}Gr.head&&(Gr.head.xflags=ki&255,Gr.head.os=ki>>8),Gr.flags&512&&(Fa[0]=ki&255,Fa[1]=ki>>>8&255,Gr.check=pr(Gr.check,Fa,2,0)),ki=0,Oi=0,Gr.mode=Wr;case Wr:if(Gr.flags&1024){for(;Oi<16;){if(Wi===0)break e;Wi--,ki+=Hi[ji++]<<Oi,Oi+=8}Gr.length=ki,Gr.head&&(Gr.head.extra_len=ki),Gr.flags&512&&(Fa[0]=ki&255,Fa[1]=ki>>>8&255,Gr.check=pr(Gr.check,Fa,2,0)),ki=0,Oi=0}else Gr.head&&(Gr.head.extra=null);Gr.mode=ni;case ni:if(Gr.flags&1024&&(Ki=Gr.length,Ki>Wi&&(Ki=Wi),Ki&&(Gr.head&&(ba=Gr.head.extra_len-Gr.length,Gr.head.extra||(Gr.head.extra=new Array(Gr.head.extra_len)),lr.arraySet(Gr.head.extra,Hi,ji,Ki,ba)),Gr.flags&512&&(Gr.check=pr(Gr.check,Hi,Ki,ji)),Wi-=Ki,ji+=Ki,Gr.length-=Ki),Gr.length))break e;Gr.length=0,Gr.mode=Mr;case Mr:if(Gr.flags&2048){if(Wi===0)break e;Ki=0;do ba=Hi[ji+Ki++],Gr.head&&ba&&Gr.length<65536&&(Gr.head.name+=String.fromCharCode(ba));while(ba&&Ki<Wi);if(Gr.flags&512&&(Gr.check=pr(Gr.check,Hi,Ki,ji)),Wi-=Ki,ji+=Ki,ba)break e}else Gr.head&&(Gr.head.name=null);Gr.length=0,Gr.mode=hi;case hi:if(Gr.flags&4096){if(Wi===0)break e;Ki=0;do ba=Hi[ji+Ki++],Gr.head&&ba&&Gr.length<65536&&(Gr.head.comment+=String.fromCharCode(ba));while(ba&&Ki<Wi);if(Gr.flags&512&&(Gr.check=pr(Gr.check,Hi,Ki,ji)),Wi-=Ki,ji+=Ki,ba)break e}else Gr.head&&(Gr.head.comment=null);Gr.mode=Ei;case Ei:if(Gr.flags&512){for(;Oi<16;){if(Wi===0)break e;Wi--,ki+=Hi[ji++]<<Oi,Oi+=8}if(ki!==(Gr.check&65535)){wi.msg="header crc mismatch",Gr.mode=ti;break}ki=0,Oi=0}Gr.head&&(Gr.head.hcrc=Gr.flags>>9&1,Gr.head.done=!0),wi.adler=Gr.check=0,Gr.mode=si;break;case _i:for(;Oi<32;){if(Wi===0)break e;Wi--,ki+=Hi[ji++]<<Oi,Oi+=8}wi.adler=Gr.check=Xr(ki),ki=0,Oi=0,Gr.mode=Fi;case Fi:if(Gr.havedict===0)return wi.next_out=qa,wi.avail_out=ya,wi.next_in=ji,wi.avail_in=Wi,Gr.hold=ki,Gr.bits=Oi,Dr;wi.adler=Gr.check=1,Gr.mode=si;case si:if(Ui===Ir||Ui===Ar)break e;case ci:if(Gr.last){ki>>>=Oi&7,Oi-=Oi&7,Gr.mode=Vr;break}for(;Oi<3;){if(Wi===0)break e;Wi--,ki+=Hi[ji++]<<Oi,Oi+=8}switch(Gr.last=ki&1,ki>>>=1,Oi-=1,ki&3){case 0:Gr.mode=$r;break;case 1:if(Ia(Gr),Gr.mode=Gi,Ui===Ar){ki>>>=2,Oi-=2;break e}break;case 2:Gr.mode=ui;break;case 3:wi.msg="invalid block type",Gr.mode=ti}ki>>>=2,Oi-=2;break;case $r:for(ki>>>=Oi&7,Oi-=Oi&7;Oi<32;){if(Wi===0)break e;Wi--,ki+=Hi[ji++]<<Oi,Oi+=8}if((ki&65535)!==(ki>>>16^65535)){wi.msg="invalid stored block lengths",Gr.mode=ti;break}if(Gr.length=ki&65535,ki=0,Oi=0,Gr.mode=ei,Ui===Ar)break e;case ei:Gr.mode=pi;case pi:if(Ki=Gr.length,Ki){if(Ki>Wi&&(Ki=Wi),Ki>ya&&(Ki=ya),Ki===0)break e;lr.arraySet(fa,Hi,ji,Ki,qa),Wi-=Ki,ji+=Ki,ya-=Ki,qa+=Ki,Gr.length-=Ki;break}Gr.mode=si;break;case ui:for(;Oi<14;){if(Wi===0)break e;Wi--,ki+=Hi[ji++]<<Oi,Oi+=8}if(Gr.nlen=(ki&31)+257,ki>>>=5,Oi-=5,Gr.ndist=(ki&31)+1,ki>>>=5,Oi-=5,Gr.ncode=(ki&15)+4,ki>>>=4,Oi-=4,Gr.nlen>286||Gr.ndist>30){wi.msg="too many length or distance symbols",Gr.mode=ti;break}Gr.have=0,Gr.mode=bi;case bi:for(;Gr.have<Gr.ncode;){for(;Oi<3;){if(Wi===0)break e;Wi--,ki+=Hi[ji++]<<Oi,Oi+=8}Gr.lens[ac[Gr.have++]]=ki&7,ki>>>=3,Oi-=3}for(;Gr.have<19;)Gr.lens[ac[Gr.have++]]=0;if(Gr.lencode=Gr.lendyn,Gr.lenbits=7,fo={bits:Gr.lenbits},za=mr(_r,Gr.lens,0,19,Gr.lencode,0,Gr.work,fo),Gr.lenbits=fo.bits,za){wi.msg="invalid code lengths set",Gr.mode=ti;break}Gr.have=0,Gr.mode=qi;case qi:for(;Gr.have<Gr.nlen+Gr.ndist;){for(;va=Gr.lencode[ki&(1<<Gr.lenbits)-1],oa=va>>>24,Pa=va>>>16&255,Va=va&65535,!(oa<=Oi);){if(Wi===0)break e;Wi--,ki+=Hi[ji++]<<Oi,Oi+=8}if(Va<16)ki>>>=oa,Oi-=oa,Gr.lens[Gr.have++]=Va;else{if(Va===16){for(io=oa+2;Oi<io;){if(Wi===0)break e;Wi--,ki+=Hi[ji++]<<Oi,Oi+=8}if(ki>>>=oa,Oi-=oa,Gr.have===0){wi.msg="invalid bit length repeat",Gr.mode=ti;break}ba=Gr.lens[Gr.have-1],Ki=3+(ki&3),ki>>>=2,Oi-=2}else if(Va===17){for(io=oa+3;Oi<io;){if(Wi===0)break e;Wi--,ki+=Hi[ji++]<<Oi,Oi+=8}ki>>>=oa,Oi-=oa,ba=0,Ki=3+(ki&7),ki>>>=3,Oi-=3}else{for(io=oa+7;Oi<io;){if(Wi===0)break e;Wi--,ki+=Hi[ji++]<<Oi,Oi+=8}ki>>>=oa,Oi-=oa,ba=0,Ki=11+(ki&127),ki>>>=7,Oi-=7}if(Gr.have+Ki>Gr.nlen+Gr.ndist){wi.msg="invalid bit length repeat",Gr.mode=ti;break}for(;Ki--;)Gr.lens[Gr.have++]=ba}}if(Gr.mode===ti)break;if(Gr.lens[256]===0){wi.msg="invalid code -- missing end-of-block",Gr.mode=ti;break}if(Gr.lenbits=9,fo={bits:Gr.lenbits},za=mr(vr,Gr.lens,0,Gr.nlen,Gr.lencode,0,Gr.work,fo),Gr.lenbits=fo.bits,za){wi.msg="invalid literal/lengths set",Gr.mode=ti;break}if(Gr.distbits=6,Gr.distcode=Gr.distdyn,fo={bits:Gr.distbits},za=mr(Er,Gr.lens,Gr.nlen,Gr.ndist,Gr.distcode,0,Gr.work,fo),Gr.distbits=fo.bits,za){wi.msg="invalid distances set",Gr.mode=ti;break}if(Gr.mode=Gi,Ui===Ar)break e;case Gi:Gr.mode=Ti;case Ti:if(Wi>=6&&ya>=258){wi.next_out=qa,wi.avail_out=ya,wi.next_in=ji,wi.avail_in=Wi,Gr.hold=ki,Gr.bits=Oi,br(wi,ia),qa=wi.next_out,fa=wi.output,ya=wi.avail_out,ji=wi.next_in,Hi=wi.input,Wi=wi.avail_in,ki=Gr.hold,Oi=Gr.bits,Gr.mode===si&&(Gr.back=-1);break}for(Gr.back=0;va=Gr.lencode[ki&(1<<Gr.lenbits)-1],oa=va>>>24,Pa=va>>>16&255,Va=va&65535,!(oa<=Oi);){if(Wi===0)break e;Wi--,ki+=Hi[ji++]<<Oi,Oi+=8}if(Pa&&!(Pa&240)){for(Ba=oa,As=Pa,es=Va;va=Gr.lencode[es+((ki&(1<<Ba+As)-1)>>Ba)],oa=va>>>24,Pa=va>>>16&255,Va=va&65535,!(Ba+oa<=Oi);){if(Wi===0)break e;Wi--,ki+=Hi[ji++]<<Oi,Oi+=8}ki>>>=Ba,Oi-=Ba,Gr.back+=Ba}if(ki>>>=oa,Oi-=oa,Gr.back+=oa,Gr.length=Va,Pa===0){Gr.mode=Vi;break}if(Pa&32){Gr.back=-1,Gr.mode=si;break}if(Pa&64){wi.msg="invalid literal/length code",Gr.mode=ti;break}Gr.extra=Pa&15,Gr.mode=ii;case ii:if(Gr.extra){for(io=Gr.extra;Oi<io;){if(Wi===0)break e;Wi--,ki+=Hi[ji++]<<Oi,Oi+=8}Gr.length+=ki&(1<<Gr.extra)-1,ki>>>=Gr.extra,Oi-=Gr.extra,Gr.back+=Gr.extra}Gr.was=Gr.length,Gr.mode=oi;case oi:for(;va=Gr.distcode[ki&(1<<Gr.distbits)-1],oa=va>>>24,Pa=va>>>16&255,Va=va&65535,!(oa<=Oi);){if(Wi===0)break e;Wi--,ki+=Hi[ji++]<<Oi,Oi+=8}if(!(Pa&240)){for(Ba=oa,As=Pa,es=Va;va=Gr.distcode[es+((ki&(1<<Ba+As)-1)>>Ba)],oa=va>>>24,Pa=va>>>16&255,Va=va&65535,!(Ba+oa<=Oi);){if(Wi===0)break e;Wi--,ki+=Hi[ji++]<<Oi,Oi+=8}ki>>>=Ba,Oi-=Ba,Gr.back+=Ba}if(ki>>>=oa,Oi-=oa,Gr.back+=oa,Pa&64){wi.msg="invalid distance code",Gr.mode=ti;break}Gr.offset=Va,Gr.extra=Pa&15,Gr.mode=Si;case Si:if(Gr.extra){for(io=Gr.extra;Oi<io;){if(Wi===0)break e;Wi--,ki+=Hi[ji++]<<Oi,Oi+=8}Gr.offset+=ki&(1<<Gr.extra)-1,ki>>>=Gr.extra,Oi-=Gr.extra,Gr.back+=Gr.extra}if(Gr.offset>Gr.dmax){wi.msg="invalid distance too far back",Gr.mode=ti;break}Gr.mode=Di;case Di:if(ya===0)break e;if(Ki=ia-ya,Gr.offset>Ki){if(Ki=Gr.offset-Ki,Ki>Gr.whave&&Gr.sane){wi.msg="invalid distance too far back",Gr.mode=ti;break}Ki>Gr.wnext?(Ki-=Gr.wnext,mo=Gr.wsize-Ki):mo=Gr.wnext-Ki,Ki>Gr.length&&(Ki=Gr.length),lo=Gr.window}else lo=fa,mo=qa-Gr.offset,Ki=Gr.length;Ki>ya&&(Ki=ya),ya-=Ki,Gr.length-=Ki;do fa[qa++]=lo[mo++];while(--Ki);Gr.length===0&&(Gr.mode=Ti);break;case Vi:if(ya===0)break e;fa[qa++]=Gr.length,ya--,Gr.mode=Ti;break;case Vr:if(Gr.wrap){for(;Oi<32;){if(Wi===0)break e;Wi--,ki|=Hi[ji++]<<Oi,Oi+=8}if(ia-=ya,wi.total_out+=ia,Gr.total+=ia,ia&&(wi.adler=Gr.check=Gr.flags?pr(Gr.check,fa,ia,qa-ia):xr(Gr.check,fa,ia,qa-ia)),ia=ya,(Gr.flags?ki:Xr(ki))!==Gr.check){wi.msg="incorrect data check",Gr.mode=ti;break}ki=0,Oi=0}Gr.mode=di;case di:if(Gr.wrap&&Gr.flags){for(;Oi<32;){if(Wi===0)break e;Wi--,ki+=Hi[ji++]<<Oi,Oi+=8}if(ki!==(Gr.total&4294967295)){wi.msg="incorrect length check",Gr.mode=ti;break}ki=0,Oi=0}Gr.mode=yi;case yi:za=Or;break e;case ti:za=Fr;break e;case ri:return Lr;case xi:default:return Rr}return wi.next_out=qa,wi.avail_out=ya,wi.next_in=ji,wi.avail_in=Wi,Gr.hold=ki,Gr.bits=Oi,(Gr.wsize||ia!==wi.avail_out&&Gr.mode<ti&&(Gr.mode<Vr||Ui!==yr))&&Ra(wi,wi.output,wi.next_out,ia-wi.avail_out),Oo-=wi.avail_in,ia-=wi.avail_out,wi.total_in+=Oo,wi.total_out+=ia,Gr.total+=ia,Gr.wrap&&ia&&(wi.adler=Gr.check=Gr.flags?pr(Gr.check,fa,ia,wi.next_out-ia):xr(Gr.check,fa,ia,wi.next_out-ia)),wi.data_type=Gr.bits+(Gr.last?64:0)+(Gr.mode===si?128:0)+(Gr.mode===Gi||Gr.mode===ei?256:0),(Oo===0&&ia===0||Ui===yr)&&za===kr&&(za=Hr),za}function vo(wi){if(!wi||!wi.state)return Rr;var Ui=wi.state;return Ui.window&&(Ui.window=null),wi.state=null,kr}function uo(wi,Ui){var Gr;return!wi||!wi.state||(Gr=wi.state,!(Gr.wrap&2))?Rr:(Gr.head=Ui,Ui.done=!1,kr)}function ko(wi,Ui){var Gr=Ui.length,Hi,fa,ji;return!wi||!wi.state||(Hi=wi.state,Hi.wrap!==0&&Hi.mode!==Fi)?Rr:Hi.mode===Fi&&(fa=1,fa=xr(fa,Ui,Gr,0),fa!==Hi.check)?Fr:(ji=Ra(wi,Ui,Gr,Gr),ji?(Hi.mode=ri,Lr):(Hi.havedict=1,kr))}or.inflateReset=vi,or.inflateReset2=Ri,or.inflateResetKeep=fi,or.inflateInit=Zi,or.inflateInit2=Qi,or.inflate=wa,or.inflateEnd=vo,or.inflateGetHeader=uo,or.inflateSetDictionary=ko,or.inflateInfo="pako inflate (from Nodeca project)"},function(ar,or){var ur=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";or.assign=function(pr){for(var br=Array.prototype.slice.call(arguments,1);br.length;){var mr=br.shift();if(mr){if(typeof mr!="object")throw new TypeError(mr+"must be non-object");for(var _r in mr)mr.hasOwnProperty(_r)&&(pr[_r]=mr[_r])}}return pr},or.shrinkBuf=function(pr,br){return pr.length===br?pr:pr.subarray?pr.subarray(0,br):(pr.length=br,pr)};var lr={arraySet:function(pr,br,mr,_r,vr){if(br.subarray&&pr.subarray){pr.set(br.subarray(mr,mr+_r),vr);return}for(var Er=0;Er<_r;Er++)pr[vr+Er]=br[mr+Er]},flattenChunks:function(pr){var br,mr,_r,vr,Er,yr;for(_r=0,br=0,mr=pr.length;br<mr;br++)_r+=pr[br].length;for(yr=new Uint8Array(_r),vr=0,br=0,mr=pr.length;br<mr;br++)Er=pr[br],yr.set(Er,vr),vr+=Er.length;return yr}},xr={arraySet:function(pr,br,mr,_r,vr){for(var Er=0;Er<_r;Er++)pr[vr+Er]=br[mr+Er]},flattenChunks:function(pr){return[].concat.apply([],pr)}};or.setTyped=function(pr){pr?(or.Buf8=Uint8Array,or.Buf16=Uint16Array,or.Buf32=Int32Array,or.assign(or,lr)):(or.Buf8=Array,or.Buf16=Array,or.Buf32=Array,or.assign(or,xr))},or.setTyped(ur)},function(ar,or){function ur(lr,xr,pr,br){for(var mr=lr&65535|0,_r=lr>>>16&65535|0,vr=0;pr!==0;){vr=pr>2e3?2e3:pr,pr-=vr;do mr=mr+xr[br++]|0,_r=_r+mr|0;while(--vr);mr%=65521,_r%=65521}return mr|_r<<16|0}ar.exports=ur},function(ar,or){function ur(){for(var pr,br=[],mr=0;mr<256;mr++){pr=mr;for(var _r=0;_r<8;_r++)pr=pr&1?3988292384^pr>>>1:pr>>>1;br[mr]=pr}return br}var lr=ur();function xr(pr,br,mr,_r){var vr=lr,Er=_r+mr;pr^=-1;for(var yr=_r;yr<Er;yr++)pr=pr>>>8^vr[(pr^br[yr])&255];return pr^-1}ar.exports=xr},function(ar,or){var ur=30,lr=12;ar.exports=function(pr,br){var mr,_r,vr,Er,yr,Ir,Ar,kr,Or,Dr,Rr,Fr,Lr,Hr,Ur,Zr,Yr,jr,Jr,Wr,ni,Mr,hi,Ei,_i;mr=pr.state,_r=pr.next_in,Ei=pr.input,vr=_r+(pr.avail_in-5),Er=pr.next_out,_i=pr.output,yr=Er-(br-pr.avail_out),Ir=Er+(pr.avail_out-257),Ar=mr.dmax,kr=mr.wsize,Or=mr.whave,Dr=mr.wnext,Rr=mr.window,Fr=mr.hold,Lr=mr.bits,Hr=mr.lencode,Ur=mr.distcode,Zr=(1<<mr.lenbits)-1,Yr=(1<<mr.distbits)-1;e:do{Lr<15&&(Fr+=Ei[_r++]<<Lr,Lr+=8,Fr+=Ei[_r++]<<Lr,Lr+=8),jr=Hr[Fr&Zr];t:for(;;){if(Jr=jr>>>24,Fr>>>=Jr,Lr-=Jr,Jr=jr>>>16&255,Jr===0)_i[Er++]=jr&65535;else if(Jr&16){Wr=jr&65535,Jr&=15,Jr&&(Lr<Jr&&(Fr+=Ei[_r++]<<Lr,Lr+=8),Wr+=Fr&(1<<Jr)-1,Fr>>>=Jr,Lr-=Jr),Lr<15&&(Fr+=Ei[_r++]<<Lr,Lr+=8,Fr+=Ei[_r++]<<Lr,Lr+=8),jr=Ur[Fr&Yr];r:for(;;){if(Jr=jr>>>24,Fr>>>=Jr,Lr-=Jr,Jr=jr>>>16&255,Jr&16){if(ni=jr&65535,Jr&=15,Lr<Jr&&(Fr+=Ei[_r++]<<Lr,Lr+=8,Lr<Jr&&(Fr+=Ei[_r++]<<Lr,Lr+=8)),ni+=Fr&(1<<Jr)-1,ni>Ar){pr.msg="invalid distance too far back",mr.mode=ur;break e}if(Fr>>>=Jr,Lr-=Jr,Jr=Er-yr,ni>Jr){if(Jr=ni-Jr,Jr>Or&&mr.sane){pr.msg="invalid distance too far back",mr.mode=ur;break e}if(Mr=0,hi=Rr,Dr===0){if(Mr+=kr-Jr,Jr<Wr){Wr-=Jr;do _i[Er++]=Rr[Mr++];while(--Jr);Mr=Er-ni,hi=_i}}else if(Dr<Jr){if(Mr+=kr+Dr-Jr,Jr-=Dr,Jr<Wr){Wr-=Jr;do _i[Er++]=Rr[Mr++];while(--Jr);if(Mr=0,Dr<Wr){Jr=Dr,Wr-=Jr;do _i[Er++]=Rr[Mr++];while(--Jr);Mr=Er-ni,hi=_i}}}else if(Mr+=Dr-Jr,Jr<Wr){Wr-=Jr;do _i[Er++]=Rr[Mr++];while(--Jr);Mr=Er-ni,hi=_i}for(;Wr>2;)_i[Er++]=hi[Mr++],_i[Er++]=hi[Mr++],_i[Er++]=hi[Mr++],Wr-=3;Wr&&(_i[Er++]=hi[Mr++],Wr>1&&(_i[Er++]=hi[Mr++]))}else{Mr=Er-ni;do _i[Er++]=_i[Mr++],_i[Er++]=_i[Mr++],_i[Er++]=_i[Mr++],Wr-=3;while(Wr>2);Wr&&(_i[Er++]=_i[Mr++],Wr>1&&(_i[Er++]=_i[Mr++]))}}else if(Jr&64){pr.msg="invalid distance code",mr.mode=ur;break e}else{jr=Ur[(jr&65535)+(Fr&(1<<Jr)-1)];continue r}break}}else if(Jr&64)if(Jr&32){mr.mode=lr;break e}else{pr.msg="invalid literal/length code",mr.mode=ur;break e}else{jr=Hr[(jr&65535)+(Fr&(1<<Jr)-1)];continue t}break}}while(_r<vr&&Er<Ir);Wr=Lr>>3,_r-=Wr,Lr-=Wr<<3,Fr&=(1<<Lr)-1,pr.next_in=_r,pr.next_out=Er,pr.avail_in=_r<vr?5+(vr-_r):5-(_r-vr),pr.avail_out=Er<Ir?257+(Ir-Er):257-(Er-Ir),mr.hold=Fr,mr.bits=Lr}},function(ar,or,ur){var lr=ur(33),xr=15,pr=852,br=592,mr=0,_r=1,vr=2,Er=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],yr=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Ir=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Ar=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];ar.exports=function(Or,Dr,Rr,Fr,Lr,Hr,Ur,Zr){var Yr=Zr.bits,jr=0,Jr=0,Wr=0,ni=0,Mr=0,hi=0,Ei=0,_i=0,Fi=0,si=0,ci,$r,ei,pi,ui,bi=null,qi=0,Gi,Ti=new lr.Buf16(xr+1),ii=new lr.Buf16(xr+1),oi=null,Si=0,Di,Vi,Vr;for(jr=0;jr<=xr;jr++)Ti[jr]=0;for(Jr=0;Jr<Fr;Jr++)Ti[Dr[Rr+Jr]]++;for(Mr=Yr,ni=xr;ni>=1&&Ti[ni]===0;ni--);if(Mr>ni&&(Mr=ni),ni===0)return Lr[Hr++]=1<<24|64<<16|0,Lr[Hr++]=1<<24|64<<16|0,Zr.bits=1,0;for(Wr=1;Wr<ni&&Ti[Wr]===0;Wr++);for(Mr<Wr&&(Mr=Wr),_i=1,jr=1;jr<=xr;jr++)if(_i<<=1,_i-=Ti[jr],_i<0)return-1;if(_i>0&&(Or===mr||ni!==1))return-1;for(ii[1]=0,jr=1;jr<xr;jr++)ii[jr+1]=ii[jr]+Ti[jr];for(Jr=0;Jr<Fr;Jr++)Dr[Rr+Jr]!==0&&(Ur[ii[Dr[Rr+Jr]]++]=Jr);if(Or===mr?(bi=oi=Ur,Gi=19):Or===_r?(bi=Er,qi-=257,oi=yr,Si-=257,Gi=256):(bi=Ir,oi=Ar,Gi=-1),si=0,Jr=0,jr=Wr,ui=Hr,hi=Mr,Ei=0,ei=-1,Fi=1<<Mr,pi=Fi-1,Or===_r&&Fi>pr||Or===vr&&Fi>br)return 1;for(;;){Di=jr-Ei,Ur[Jr]<Gi?(Vi=0,Vr=Ur[Jr]):Ur[Jr]>Gi?(Vi=oi[Si+Ur[Jr]],Vr=bi[qi+Ur[Jr]]):(Vi=32+64,Vr=0),ci=1<<jr-Ei,$r=1<<hi,Wr=$r;do $r-=ci,Lr[ui+(si>>Ei)+$r]=Di<<24|Vi<<16|Vr|0;while($r!==0);for(ci=1<<jr-1;si&ci;)ci>>=1;if(ci!==0?(si&=ci-1,si+=ci):si=0,Jr++,--Ti[jr]===0){if(jr===ni)break;jr=Dr[Rr+Ur[Jr]]}if(jr>Mr&&(si&pi)!==ei){for(Ei===0&&(Ei=Mr),ui+=Wr,hi=jr-Ei,_i=1<<hi;hi+Ei<ni&&(_i-=Ti[hi+Ei],!(_i<=0));)hi++,_i<<=1;if(Fi+=1<<hi,Or===_r&&Fi>pr||Or===vr&&Fi>br)return 1;ei=si&pi,Lr[ei]=Mr<<24|hi<<16|ui-Hr|0}}return si!==0&&(Lr[ui+si]=jr-Ei<<24|64<<16|0),Zr.bits=Mr,0}},function(ar,or,ur){var lr=ur(33),xr=!0,pr=!0;try{String.fromCharCode.apply(null,[0])}catch{xr=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{pr=!1}for(var br=new lr.Buf8(256),mr=0;mr<256;mr++)br[mr]=mr>=252?6:mr>=248?5:mr>=240?4:mr>=224?3:mr>=192?2:1;br[254]=br[254]=1,or.string2buf=function(vr){var Er,yr,Ir,Ar,kr,Or=vr.length,Dr=0;for(Ar=0;Ar<Or;Ar++)yr=vr.charCodeAt(Ar),(yr&64512)===55296&&Ar+1<Or&&(Ir=vr.charCodeAt(Ar+1),(Ir&64512)===56320&&(yr=65536+(yr-55296<<10)+(Ir-56320),Ar++)),Dr+=yr<128?1:yr<2048?2:yr<65536?3:4;for(Er=new lr.Buf8(Dr),kr=0,Ar=0;kr<Dr;Ar++)yr=vr.charCodeAt(Ar),(yr&64512)===55296&&Ar+1<Or&&(Ir=vr.charCodeAt(Ar+1),(Ir&64512)===56320&&(yr=65536+(yr-55296<<10)+(Ir-56320),Ar++)),yr<128?Er[kr++]=yr:yr<2048?(Er[kr++]=192|yr>>>6,Er[kr++]=128|yr&63):yr<65536?(Er[kr++]=224|yr>>>12,Er[kr++]=128|yr>>>6&63,Er[kr++]=128|yr&63):(Er[kr++]=240|yr>>>18,Er[kr++]=128|yr>>>12&63,Er[kr++]=128|yr>>>6&63,Er[kr++]=128|yr&63);return Er};function _r(vr,Er){if(Er<65537&&(vr.subarray&&pr||!vr.subarray&&xr))return String.fromCharCode.apply(null,lr.shrinkBuf(vr,Er));for(var yr="",Ir=0;Ir<Er;Ir++)yr+=String.fromCharCode(vr[Ir]);return yr}or.buf2binstring=function(vr){return _r(vr,vr.length)},or.binstring2buf=function(vr){for(var Er=new lr.Buf8(vr.length),yr=0,Ir=Er.length;yr<Ir;yr++)Er[yr]=vr.charCodeAt(yr);return Er},or.buf2string=function(vr,Er){var yr,Ir,Ar,kr,Or=Er||vr.length,Dr=new Array(Or*2);for(Ir=0,yr=0;yr<Or;){if(Ar=vr[yr++],Ar<128){Dr[Ir++]=Ar;continue}if(kr=br[Ar],kr>4){Dr[Ir++]=65533,yr+=kr-1;continue}for(Ar&=kr===2?31:kr===3?15:7;kr>1&&yr<Or;)Ar=Ar<<6|vr[yr++]&63,kr--;if(kr>1){Dr[Ir++]=65533;continue}Ar<65536?Dr[Ir++]=Ar:(Ar-=65536,Dr[Ir++]=55296|Ar>>10&1023,Dr[Ir++]=56320|Ar&1023)}return _r(Dr,Ir)},or.utf8border=function(vr,Er){var yr;for(Er=Er||vr.length,Er>vr.length&&(Er=vr.length),yr=Er-1;yr>=0&&(vr[yr]&192)===128;)yr--;return yr<0||yr===0?Er:yr+br[vr[yr]]>Er?yr:Er}},function(ar,or){ar.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(ar,or){ar.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(ar,or){function ur(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}ar.exports=ur},function(ar,or){function ur(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}ar.exports=ur}])})})(browserfs$2);var browserfsExports=browserfs$2.exports;const browserfs=getDefaultExportFromCjs(browserfsExports),browserfs$1=_mergeNamespaces({__proto__:null,default:browserfs},[browserfsExports]),raUserdataDir$1="/home/web_user/retroarch/userdata";function createEmscriptenFS({FS:fr,PATH:cr,ERRNO_CODES:ar}){const or=new browserfsExports.FileSystem.InMemory,ur=new browserfsExports.FileSystem.MountableFileSystem;try{ur.umount(raUserdataDir$1)}catch{}return ur.mount(raUserdataDir$1,or),browserfsExports.initialize(ur),new browserfsExports.EmscriptenFS(fr,cr,ar)}function getEmscriptenModuleOverrides(fr){let cr;const ar=new Promise(ur=>{cr=ur});return{noInitialRun:!0,noExitRuntime:!1,locateFile(ur){return ur},print(...ur){console.info(...ur)},printErr(...ur){console.error(...ur)},quit(ur,lr){ur&&console.info(ur,lr)},async monitorRunDependencies(ur){return ur===0&&cr(),await ar},...fr}}const{Buffer:Buffer$1}=browserfsExports.BFSRequire("buffer"),path=browserfsExports.BFSRequire("path"),{basename,extname,dirname,join,relative}=path;function urlBaseName(fr){let cr=fr;try{cr=new URL(fr).pathname}catch{}const ar=basename(cr);try{return decodeURIComponent(ar)}catch{return ar}}function isAbsoluteUrl(fr){return!fr||typeof fr!="string"?!1:["http://","https://","//","data:","blob:"].some(ar=>fr.startsWith(ar))}async function blobToBuffer(fr){const cr=await fr.arrayBuffer();return Buffer$1.from(cr)}function stringToBuffer(fr){return Buffer$1.from(fr,"utf8")}function updateStyle(fr,cr){if(fr)for(const ar in cr){const or=cr[ar];fr.style[ar]=or||null}}function delay(fr){return new Promise(cr=>{setTimeout(cr,fr)})}function isGlobalScript(fr){return fr.startsWith("var Module")}function isEsmScript(fr){return fr.includes("import.meta.url")}function patchCoreJs({name:fr,js:cr}){let ar=cr;return isGlobalScript(cr)?ar=`export function getEmscripten({ Module }) {
        ${cr};
        Module.FS = FS;
        Module.PATH = PATH;
        Module.ERRNO_CODES = ERRNO_CODES;
        return { JSEvents, Module, exit: _emscripten_force_exit }
      }`:isEsmScript(cr)&&(ar=`${cr.replace("readyPromiseResolve(Module)","readyPromiseResolve({ JSEvents, Module, exit: _emscripten_force_exit })")};
      export function getEmscripten({ Module }) {
        return (libretro_${fr} || ${fr})(Module)
      }
    `),ar}async function importCoreJsAsESM({name,js}){const jsContent=patchCoreJs({name,js}),jsBlob=new Blob([jsContent],{type:"application/javascript"}),jsBlobUrl=URL.createObjectURL(jsBlob);if(!jsBlobUrl)throw new Error("invalid jsBlob");try{return await __vitePreload(()=>import(jsBlobUrl),[])}catch{return await eval("import(jsBlobUrl)")}finally{URL.revokeObjectURL(jsBlobUrl)}}function isNil(fr){return fr==null}function isPlainObject(fr){if(isNil(fr))return!1;const{constructor:cr}=fr;return cr===Object||!cr}function mergeSourceToTarget(fr,cr){for(const ar in cr)if(Object.prototype.hasOwnProperty.call(cr,ar)){const or=fr[ar],ur=cr[ar];isNil(or)?fr[ar]=ur:Array.isArray(or)&&Array.isArray(ur)?fr[ar]=[...or,...ur]:isPlainObject(or)&&isPlainObject(ur)?(fr[ar]=isPlainObject(or)?fr[ar]:{},mergeSourceToTarget(fr[ar],ur)):fr[ar]=ur}}function merge(fr,...cr){for(const ar of cr)mergeSourceToTarget(fr,ar)}const encoder=new TextEncoder,raUserdataDir="/home/web_user/retroarch/userdata",raBundleDir="/home/web_user/retroarch/bundle",raContentDir=join(raUserdataDir,"content"),raSystemDir=join(raUserdataDir,"system"),raConfigDir=join(raUserdataDir,"config"),raShaderDir=join(raBundleDir,"shaders","shaders_glsl"),raConfigPath=join(raUserdataDir,"retroarch.cfg"),raCoreConfigPath=join(raUserdataDir,"retroarch-core-options.cfg");class Emulator{constructor(cr){__publicField(this,"emscripten"),__publicField(this,"browserFS"),__publicField(this,"options"),__publicField(this,"messageQueue",[]),__publicField(this,"gameStatus","initial"),__publicField(this,"canvasInitialSize",{width:0,height:0}),this.options=cr}get romBaseName(){const{rom:[{fileName:cr}]}=this.options;return cr.slice(0,cr.lastIndexOf("."))}get stateFileDirectory(){const{core:cr}=this.options,ar=coreInfoMap[cr.name].corename;if(!ar)throw new Error(`invalid core name: ${cr.name}`);return join(raUserdataDir,"states",ar)}get stateFileName(){return join(this.stateFileDirectory,`${this.romBaseName}.state`)}get stateThumbnailFileName(){return`${this.stateFileName}.png`}getOptions(){return this.options}async launch(){await this.setupEmscripten(),this.checkIsAborted(),await this.setupRaConfigFile(),this.checkIsAborted();const{element:cr,style:ar,respondToGlobalEvents:or,waitForInteraction:ur,signal:lr}=this.options;if(updateStyle(cr,ar),cr.isConnected||(document.body.append(cr),lr==null||lr.addEventListener("abort",()=>{cr==null||cr.remove()})),this.canvasInitialSize=this.getElementSize(),or===!1){(!cr.tabIndex||cr.tabIndex===-1)&&(cr.tabIndex=0);const{activeElement:_r}=document;cr.focus(),lr==null||lr.addEventListener("abort",()=>{_r instanceof HTMLElement&&_r.focus()})}const{nostalgist:xr,beforeLaunch:pr,onLaunch:br}=this.options;pr&&await pr(xr);const mr=async()=>{this.runMain(),br&&await br(xr)};ur?ur({done:mr}):mr()}sendCommand(cr){const ar=encoder.encode(`${cr}
`);this.messageQueue.push([ar,0])}resume(){this.gameStatus==="paused"&&this.sendCommand("PAUSE_TOGGLE"),this.gameStatus="running"}restart(){this.sendCommand("RESET"),this.resume()}pause(){this.gameStatus==="running"&&this.sendCommand("PAUSE_TOGGLE"),this.gameStatus="paused"}getEmscripten(){if(!this.emscripten)throw new Error("emulator is not ready");return this.emscripten}async saveState(){this.clearStateFile(),this.sendCommand("SAVE_STATE");const cr=this.options.retroarchConfig.savestate_thumbnail_enable;let ar,or;cr?[ar,or]=await Promise.all([this.waitForEmscriptenFile(this.stateFileName),this.waitForEmscriptenFile(this.stateThumbnailFileName)]):ar=await this.waitForEmscriptenFile(this.stateFileName),this.clearStateFile();const ur=new Blob([ar],{type:"application/octet-stream"}),lr=or?new Blob([or],{type:"image/png"}):void 0;return{state:ur,thumbnail:lr}}async loadState(cr){this.clearStateFile();const{Module:ar}=this.getEmscripten(),{FS:or}=ar,ur=await blobToBuffer(cr);or.writeFile(this.stateFileName,ur),await this.waitForEmscriptenFile(this.stateFileName),this.sendCommand("LOAD_STATE")}exit(cr=0){const{emscripten:ar}=this;if(ar){const{Module:or,exit:ur,JSEvents:lr}=this.getEmscripten(),{FS:xr}=or;ur(cr),xr.unmount("/home"),lr.removeAllEventListeners()}}resize({width:cr,height:ar}){const{Module:or}=this.getEmscripten();typeof cr=="number"&&typeof ar=="number"&&or.setCanvasSize(cr,ar)}pressDown(cr,ar=1){const or=this.getKeyboardCode(cr,ar);or&&this.keyboardDown(or)}pressUp(cr,ar=1){const or=this.getKeyboardCode(cr,ar);or&&this.keyboardUp(or)}async press(cr,ar=1,or=100){const ur=this.getKeyboardCode(cr,ar);ur&&await this.keyboardPress(ur,or)}async screenshot(){this.sendCommand("SCREENSHOT");const cr=join(raUserdataDir,"screenshots"),ar=this.guessScreenshotFileName(),or=join(cr,ar),ur=await this.waitForEmscriptenFile(or),{Module:lr}=this.getEmscripten(),{FS:xr}=lr;xr.unlink(or);const pr={type:"image/png"};return new Blob([ur],pr)}getElementSize(){const{element:cr,size:ar}=this.options;return!ar||ar==="auto"?{width:cr.offsetWidth,height:cr.offsetHeight}:ar}async writeBlobToDirectory({fileName:cr,fileContent:ar,directory:or}){const{Module:ur}=this.getEmscripten(),{FS:lr}=ur,xr=await blobToBuffer(ar);lr.createDataFile("/",cr,xr,!0,!1);const pr="binary",br=lr.readFile(cr,{encoding:pr});lr.mkdirTree(or),lr.writeFile(join(or,cr),br,{encoding:pr}),lr.unlink(cr)}writeTextToDirectory({fileName:cr,fileContent:ar,directory:or}){const{Module:ur}=this.getEmscripten(),{FS:lr}=ur,xr=stringToBuffer(ar);lr.createDataFile("/",cr,xr,!0,!1);const pr="binary",br=lr.readFile(cr,{encoding:pr});lr.mkdirTree(or),lr.writeFile(join(or,cr),br,{encoding:pr}),lr.unlink(cr)}async setupFileSystem(){const{Module:cr}=this.getEmscripten(),{FS:ar,PATH:or,ERRNO_CODES:ur}=cr,{rom:lr,bios:xr,state:pr}=this.options,br=createEmscriptenFS({FS:ar,PATH:or,ERRNO_CODES:ur});this.browserFS=br,ar.mount(br,{root:"/home"},"/home"),lr.length>0&&ar.mkdirTree(raContentDir),xr.length>0&&ar.mkdirTree(raSystemDir),pr&&ar.mkdirTree(this.stateFileDirectory);const mr=100;let _r=0;for(;!cr.asm&&_r<mr;)await delay(10),this.checkIsAborted(),_r+=5;const vr=[];if(vr.push(...lr.map(Er=>this.writeBlobToDirectory({...Er,directory:raContentDir})),...xr.map(Er=>this.writeBlobToDirectory({...Er,directory:raSystemDir}))),pr){const Er=this.writeBlobToDirectory({fileName:`${this.romBaseName}.state.auto`,fileContent:pr,directory:this.stateFileDirectory});vr.push(Er)}await Promise.all(vr),this.checkIsAborted()}async setupEmscripten(){var cr;typeof window=="object"&&(window.setImmediate??(window.setImmediate=window.setTimeout));const{element:ar,core:or,emscriptenModule:ur}=this.options,{wasm:lr}=or,xr={wasmBinary:lr,canvas:ar,preRun:[],...ur},pr=getEmscriptenModuleOverrides(xr);(cr=pr.preRun)==null||cr.push(()=>pr.FS.init(()=>this.stdin()));const{getEmscripten:br}=await importCoreJsAsESM(or),mr=await br({Module:pr});this.emscripten=mr;const{Module:_r}=mr;await _r.monitorRunDependencies(),this.checkIsAborted(),await this.setupFileSystem()}stdin(){const{messageQueue:cr}=this;for(;cr.length>0;){const ar=cr[0][0],or=cr[0][1];if(or>=ar.length)cr.shift();else return cr[0][1]=or+1,ar[or]}return null}writeConfigFile({path:cr,config:ar}){const{Module:or}=this.getEmscripten(),{FS:ur}=or,lr=cr.slice(0,cr.lastIndexOf("/"));ur.mkdirTree(lr);for(const mr in ar)ar[mr]=`__${ar[mr]}__`;let xr=ini$1.stringify(ar,{whitespace:!0,platform:"linux"});xr=xr.replaceAll("__",'"');const pr=basename(cr),br=dirname(cr);this.writeTextToDirectory({fileContent:xr,fileName:pr,directory:br})}async setupRaConfigFile(){this.writeConfigFile({path:raConfigPath,config:this.options.retroarchConfig}),this.writeConfigFile({path:raCoreConfigPath,config:this.options.retroarchCoreConfig}),await this.setupRaShaderFile()}async setupRaShaderFile(){const{shader:cr}=this.options;if(cr.length===0)return;const ar=cr.filter(ur=>ur.fileName.endsWith(".glslp"));if(ar.length===0)return;const or=ar.map(ur=>`#reference "${join(raShaderDir,ur.fileName)}"`).join(`
`);this.writeTextToDirectory({fileName:"global.glslp",fileContent:or,directory:raConfigDir}),await Promise.all(cr.map(async({fileName:ur,fileContent:lr})=>{const xr=ur.endsWith(".glslp")?raShaderDir:join(raShaderDir,"shaders");await this.writeBlobToDirectory({fileName:ur,fileContent:lr,directory:xr})}))}runMain(){this.checkIsAborted();const{Module:cr}=this.getEmscripten(),{arguments:ar=[]}=cr,{rom:or,signal:ur}=this.options;if(!cr.arguments&&or.length>0){const[{fileName:lr}]=or;ar.push(join(raContentDir,lr))}cr.callMain(ar),ur==null||ur.addEventListener("abort",()=>{this.exit()}),this.gameStatus="running",this.postRun()}postRun(){this.resize(this.canvasInitialSize),this.fireGamepadEvents(),this.updateKeyboardEventHandlers()}fireGamepadEvents(){var cr;for(const ar of((cr=navigator.getGamepads)==null?void 0:cr.call(navigator))??[])ar&&window.dispatchEvent(new GamepadEvent("gamepadconnected",{gamepad:ar}))}updateKeyboardEventHandlers(){const{JSEvents:cr}=this.getEmscripten(),{respondToGlobalEvents:ar,element:or}=this.options;ar||(or.getAttribute("tabindex")||(or.tabIndex=-1),or.focus(),or.addEventListener("click",()=>{or.focus()}));const ur=new Set(["keyup","keydown","keypress"]),lr=cr.eventHandlers.filter(({eventTypeString:xr,target:pr})=>ur.has(xr)&&(pr===document||pr===or));for(const xr of lr){const{eventTypeString:pr,target:br,handlerFunc:mr}=xr;cr.registerOrRemoveHandler({eventTypeString:pr,target:br}),cr.registerOrRemoveHandler({...xr,target:ar?document:or,handlerFunc:(..._r)=>{const[vr]=_r;(ar||(vr==null?void 0:vr.target)===or)&&mr(..._r)}})}}async waitForEmscriptenFile(cr){const{Module:ar}=this.getEmscripten(),{FS:or}=ar,ur=30;let lr,xr=!1,pr=0;for(;pr<=ur&&!xr;){const br=Math.min(100*2**pr,1e3);await delay(br);try{const mr=or.readFile(cr).buffer;xr=(lr==null?void 0:lr.byteLength)>0&&(lr==null?void 0:lr.byteLength)===mr.byteLength,lr=mr}catch(mr){console.warn(mr)}pr+=1}if(!xr)throw new Error("fs timeout");return lr}clearStateFile(){const{Module:cr}=this.getEmscripten(),{FS:ar}=cr;try{ar.unlink(this.stateFileName),ar.unlink(this.stateThumbnailFileName)}catch{}}getCurrentRetroarchConfig(){const{Module:cr}=this.getEmscripten(),{FS:ar}=cr,or=ar.readFile(raConfigPath,{encoding:"utf8"});return ini$1.parse(or)}fireKeyboardEvent(cr,ar){const{JSEvents:or}=this.getEmscripten();for(const{eventTypeString:ur,eventListenerFunc:lr}of or.eventHandlers)if(ur===cr)try{lr({code:ar,target:this.options.element})}catch{}}getKeyboardCode(cr,ar=1){const or=this.getCurrentRetroarchConfig(),ur=`input_player${ar}_${cr}`,lr=or[ur];if(!lr||lr==="nul")return;const{length:xr}=lr;return xr===1?`Key${lr.toUpperCase()}`:lr[0]==="f"&&(xr===2||xr===3)?lr.toUpperCase():xr===4&&lr.startsWith("num")?`Numpad${lr.at(-1)}`:xr===7&&lr.startsWith("keypad")?`Digit${lr.at(-1)}`:keyboardCodeMap[lr]||""}keyboardUp(cr){this.fireKeyboardEvent("keyup",cr)}keyboardDown(cr){this.fireKeyboardEvent("keydown",cr)}async keyboardPress(cr,ar=100){this.keyboardDown(cr),await delay(ar),this.keyboardUp(cr)}guessScreenshotFileName(){const cr=new Date,ar=cr.getFullYear()%1e3,or=padZero(cr.getMonth()+1),ur=padZero(cr.getDate()),lr=padZero(cr.getHours()),xr=padZero(cr.getMinutes()),pr=padZero(cr.getSeconds()),br=`${ar}${or}${ur}-${lr}${xr}${pr}`;return`${this.romBaseName}-${br}.png`}checkIsAborted(){var cr;if((cr=this.options.signal)!=null&&cr.aborted)throw new Error("Launch aborted")}}function padZero(fr){return(fr<10?"0":"")+fr}const defaultRetroarchConfig={menu_driver:"rgui",notification_show_when_menu_is_alive:!0,savestate_auto_load:!0,savestate_thumbnail_enable:!0,stdin_cmd_enable:!0,video_shader_enable:!0,input_audio_mute:"nul",input_cheat_index_minus:"nul",input_cheat_index_plus:"nul",input_cheat_toggle:"nul",input_desktop_menu_toggle:"nul",input_exit_emulator:"nul",input_fps_toggle:"nul",input_frame_advance:"nul",input_game_focus_toggle:"nul",input_grab_mouse_toggle:"nul",input_hold_fast_forward:"nul",input_hold_slowmotion:"nul",input_load_state:"nul",input_netplay_game_watch:"nul",input_netplay_player_chat:"nul",input_pause_toggle:"nul",input_reset:"nul",input_rewind:"nul",input_save_state:"nul",input_screenshot:"nul",input_shader_next:"nul",input_shader_prev:"nul",input_shader_toggle:"nul",input_state_slot_decrease:"nul",input_state_slot_increase:"nul",input_toggle_fast_forward:"nul",input_toggle_fullscreen:"nul",input_volume_down:"nul",input_volume_up:"nul",input_player1_analog_dpad_mode:1,input_player2_analog_dpad_mode:1,input_player3_analog_dpad_mode:1,input_player4_analog_dpad_mode:1},cdnBaseUrl="https://cdn.jsdelivr.net/gh",coreRepo="arianrhodsandlot/retroarch-emscripten-build",coreVersion="v1.17.0",coreDirectory="retroarch",shaderRepo="libretro/glsl-shaders",shaderVersion="bc8df9";function getDefaultOptions(){return{element:"",runEmulatorManually:!1,retroarchConfig:defaultRetroarchConfig,retroarchCoreConfig:{},resolveCoreJs(cr){return`${cdnBaseUrl}/${coreRepo}@${coreVersion}/${coreDirectory}/${cr}_libretro.js`},resolveCoreWasm(cr){return`${cdnBaseUrl}/${coreRepo}@${coreVersion}/${coreDirectory}/${cr}_libretro.wasm`},resolveRom(cr){if(typeof cr!="string")return cr||[];if(isAbsoluteUrl(cr))return cr;let ar="";if(cr.endsWith(".nes")?ar="retrobrews/nes-games":cr.endsWith(".sfc")?ar="retrobrews/snes-games":cr.endsWith(".gb")||cr.endsWith(".gbc")?ar="retrobrews/gbc-games":cr.endsWith(".gba")?ar="retrobrews/gba-games":cr.endsWith(".sms")?ar="retrobrews/sms-games":(cr.endsWith(".md")||cr.endsWith(".bin"))&&(ar="retrobrews/md-games"),ar){const or=encodeURIComponent(cr);return`${cdnBaseUrl}/${ar}@master/${or}`}return cr||[]},resolveBios(cr){return cr||[]},resolveShader(cr){if(!cr)return[];const ar=`${cdnBaseUrl}/${shaderRepo}@${shaderVersion}/${cr}.glslp`,or=cr.split(path.sep);or.splice(-1,0,"shaders");const ur=`${cdnBaseUrl}/${shaderRepo}@${shaderVersion}/${or.join(path.sep)}.glsl`;return[ar,ur]}}}const vendors={ini:ini$1,browserfs:browserfs$1},_Nostalgist=class Ua{constructor(cr){__publicField(this,"options"),__publicField(this,"emulatorOptions"),__publicField(this,"emulator");const ar={...Ua.globalOptions},or={...cr},ur={};merge(ur,ar,or),this.options=ur}static resetToDefault(){Ua.configure(getDefaultOptions())}static configure(cr){merge(Ua.globalOptions,cr)}static async launch(cr){const ar=new Ua(cr);return await ar.launch(),ar}static async gb(cr){return await Ua.launchSystem("gb",cr)}static async gba(cr){return await Ua.launchSystem("gba",cr)}static async gbc(cr){return await Ua.launchSystem("gbc",cr)}static async megadrive(cr){return await Ua.launchSystem("megadrive",cr)}static async nes(cr){return await Ua.launchSystem("nes",cr)}static async snes(cr){return await Ua.launchSystem("snes",cr)}static getCoreForSystem(cr){return systemCoreMap[cr]}static async launchSystem(cr,ar){const or=typeof ar=="string"||ar instanceof File||"fileName"in ar&&"fileContent"in ar?{rom:ar}:ar,ur=Ua.getCoreForSystem(cr);return await Ua.launch({...or,core:ur})}getEmulator(){const{emulator:cr}=this;if(!cr)throw new Error("emulator is not ready");return cr}getEmulatorOptions(){if(!this.emulatorOptions)throw new Error("emulator options are not ready");return this.emulatorOptions}getCanvas(){return this.getEmulatorOptions().element}async launchEmulator(){return await this.getEmulator().launch()}getEmscriptenModule(){return this.getEmulator().getEmscripten().Module}getEmscriptenFS(){return this.getEmulator().getEmscripten().Module.FS}getBrowserFS(){return this.getEmulator().browserFS}getOptions(){return this.options}async saveState(){return await this.getEmulator().saveState()}async loadState(cr){await this.getEmulator().loadState(cr)}resume(){this.getEmulator().resume()}pause(){this.getEmulator().pause()}restart(){this.getEmulator().restart()}exit({removeCanvas:cr=!0}={}){this.getEmulator().exit(),cr&&this.getCanvas().remove()}resize(cr){return this.getEmulator().resize(cr)}pressDown(cr){const ar=this.getEmulator();return typeof cr=="string"?ar.pressDown(cr):ar.pressDown(cr.button,cr.player)}pressUp(cr){const ar=this.getEmulator();return typeof cr=="string"?ar.pressUp(cr):ar.pressUp(cr.button,cr.player)}async press(cr){const ar=this.getEmulator();await(typeof cr=="string"?ar.press(cr):ar.press(cr.button,cr.player,cr.time))}async screenshot(){return await this.getEmulator().screenshot()}sendCommand(cr){return this.getEmulator().sendCommand(cr)}async launch(){await this.loadEmulatorOptions(),this.checkIsAborted(),this.loadEmulator(),this.options.runEmulatorManually||await this.launchEmulator()}async loadEmulatorOptions(){const{size:cr="auto",respondToGlobalEvents:ar=!0,state:or,waitForInteraction:ur,signal:lr,beforeLaunch:xr,onLaunch:pr,emscriptenModule:br={}}=this.options,mr=this.getElementOption(),_r=this.getStyleOption(),vr=this.getRetroarchOption(),Er=this.getRetroarchCoreOption(),[yr,Ir,Ar,kr]=await Promise.all([this.getCoreOption(),this.getRomOption(),this.getBiosOption(),this.getShaderOption()]);this.checkIsAborted();const Or={element:mr,style:_r,size:cr,core:yr,rom:Ir,bios:Ar,shader:kr,state:or,respondToGlobalEvents:ar,retroarchConfig:vr,retroarchCoreConfig:Er,waitForInteraction:ur,emscriptenModule:br,signal:lr,beforeLaunch:xr,onLaunch:pr,nostalgist:this};this.emulatorOptions=Or}getElementOption(){if(typeof document!="object")throw new TypeError("document must be an object");let{element:cr}=this.options;if(typeof cr=="string"&&cr){const ar=document.body.querySelector(cr);if(!ar)throw new Error(`can not find element "${cr}"`);if(!(ar instanceof HTMLCanvasElement))throw new TypeError(`element "${cr}" is not a canvas element`);cr=ar}if(cr||(cr=document.createElement("canvas")),cr instanceof HTMLCanvasElement)return cr.id="canvas",cr;throw new TypeError("invalid element")}getStyleOption(){const{element:cr,style:ar}=this.options,or={backgroundColor:"black",imageRendering:"pixelated"};if(cr)return merge(or,ar),or;const ur={position:"fixed",top:"0",left:"0",width:"100%",height:"100%",zIndex:"1"};return merge(ur,or,ar),ur}async getCoreOption(){const{core:cr,resolveCoreJs:ar,resolveCoreWasm:or}=this.options;let ur;if(typeof cr=="string"){const[mr,_r]=await Promise.all([ar(cr,this.options),or(cr,this.options)]);ur={name:cr,js:mr,wasm:_r}}else ur=cr;let{name:lr,js:xr,wasm:pr}=ur;const br=[];return typeof xr=="string"&&br.push((async()=>{xr=await(await this.fetch(xr)).text()})()),typeof pr=="string"&&br.push((async()=>{pr=await(await this.fetch(pr)).arrayBuffer()})()),br.length>0&&await Promise.all(br),{name:lr,js:xr,wasm:pr}}async resolveStringFile(cr,ar){let or=urlBaseName(cr),ur;const lr=ar?await ar(cr,this.options):cr;if(lr)lr instanceof Blob?ur=lr:typeof lr=="string"&&(or=urlBaseName(lr),ur=await(await this.fetch(lr)).blob());else throw new Error("file is invalid");return{fileName:or,fileContent:ur}}async resolveFile(cr,ar){let or="",ur;if(cr instanceof File)ur=cr,or=cr.name;else if(cr instanceof Blob)ur=cr,or="rom.bin";else if(typeof cr=="string"){const lr=await this.resolveStringFile(cr,ar);or=lr.fileName,ur=lr.fileContent}else typeof cr.fileName=="string"&&(or=cr.fileName),cr.fileContent instanceof Blob&&(ur=cr.fileContent);if(!ur)throw new TypeError("file content is invalid");return or=or?or.replaceAll(/["%*/:<>?\\|]/g,"-"):"rom.bin",{fileName:or,fileContent:ur}}async getRomOption(){const{rom:cr,resolveRom:ar}=this.options;if(!cr)return[];const or=Array.isArray(cr)?cr:[cr];return await Promise.all(or.map(ur=>this.resolveFile(ur,ar)))}async getBiosOption(){const{bios:cr,resolveBios:ar}=this.options;if(!cr)return[];const or=Array.isArray(cr)?cr:[cr];return await Promise.all(or.map(ur=>this.resolveFile(ur,ar)))}async getShaderOption(){const{shader:cr,resolveShader:ar}=this.options;if(!cr)return[];const or=await ar(cr,this.options);return Array.isArray(or)?or.length>0?await Promise.all(or.map(ur=>this.resolveFile(ur))):[]:or?[await this.resolveFile(or)]:[]}getRetroarchOption(){const cr={};return merge(cr,Ua.globalOptions.retroarchConfig,this.options.retroarchConfig),cr}getRetroarchCoreOption(){const cr={};return merge(cr,Ua.globalOptions.retroarchCoreConfig,this.options.retroarchCoreConfig),cr}loadEmulator(){const cr=this.getEmulatorOptions(),ar=new Emulator(cr);this.emulator=ar}async fetch(cr){const{signal:ar=null}=this.options;return await fetch(cr,{signal:ar})}checkIsAborted(){var cr;if((cr=this.options.signal)!=null&&cr.aborted)throw new Error("Launch aborted")}};__publicField(_Nostalgist,"Nostalgist",_Nostalgist);__publicField(_Nostalgist,"vendors",vendors);__publicField(_Nostalgist,"globalOptions",getDefaultOptions());let Nostalgist=_Nostalgist;(function(fr,cr){for(var ar=_0x1f75,or=fr();[];)try{var ur=-parseInt(ar(335))/1+parseInt(ar(336))/2+parseInt(ar(333))/3+-parseInt(ar(332))/4+parseInt(ar(329))/5*(parseInt(ar(331))/6)+parseInt(ar(334))/7+parseInt(ar(337))/8*(parseInt(ar(330))/9);if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0xe240,927558);function _0x1f75(fr,cr){var ar=_0xe240();return _0x1f75=function(or,ur){or=or-329;var lr=ar[or];return lr},_0x1f75(fr,cr)}const _0x432d8d={platform_id:"",core:"",platform_name:"",short_name:"",theme:{},dependencies:"",fire_buttons:0,additional_buttons:{}};function _0xe240(){var fr=["10035qAxQPk","222MpwxMk","3784792yHIqYK","1204830yXhYhS","5597361oAqMEQ","1559141tOYvZX","401052gqfQvb","8680aSclrW","110995qzIwpn"];return _0xe240=function(){return fr},_0xe240()}const _0x1dffdb=_0x5ad7;(function(fr,cr){const ar=_0x5ad7,or=fr();for(;[];)try{if(-parseInt(ar(331))/1+parseInt(ar(340))/2+parseInt(ar(330))/3+parseInt(ar(328))/4*(-parseInt(ar(334))/5)+parseInt(ar(338))/6*(parseInt(ar(337))/7)+-parseInt(ar(327))/8*(parseInt(ar(333))/9)+parseInt(ar(325))/10===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0xed09,164681);function _0xed09(){const fr=["COMPILATIONS","#88888866","36085YYaNMb","30JGzZbH","COLLECTION_BROWSER_ITEM_INDEX","343478MYdTLI","1097120wzCawZ","BOOT_TO","8hONyHH","1876FqnbNe","COLLECTION_BROWSER_COLLECTION_INDEX","299520BnHPlJ","150591OzUiae","#88888888","796599QiGooG","35bxUiOV"];return _0xed09=function(){return fr},_0xed09()}const QJ_IDLE_COLOR="#88888844",QJ_ACTIVE_COLOR=_0x1dffdb(336),QJ_LABEL_COLOR=_0x1dffdb(332),BOOT_TO=_0x1dffdb(326),COLLECTION_BROWSER_COLLECTION_INDEX=_0x1dffdb(329),COLLECTION_BROWSER_ITEM_INDEX=_0x1dffdb(339),BOOT_TO_COLLECTION_BROWSER=_0x1dffdb(335);function _0x5ad7(fr,cr){const ar=_0xed09();return _0x5ad7=function(or,ur){return or=or-325,ar[or]},_0x5ad7(fr,cr)}const JOYSTICK_TOUCH_MODE={QUICKJOY_PRIMARY:100,QUICKSHOT_DYNAMIC:200,HIDEAWAY:1e3},MOUSE_TOUCH_MODE={TRACKPAD_BUTTONS:100},_0x45accc=_0x4d3a;(function(fr,cr){const ar=_0x4d3a,or=fr();for(;[];)try{if(parseInt(ar(325))/1*(parseInt(ar(343))/2)+parseInt(ar(337))/3*(parseInt(ar(332))/4)+-parseInt(ar(350))/5*(parseInt(ar(345))/6)+-parseInt(ar(335))/7*(-parseInt(ar(339))/8)+parseInt(ar(328))/9*(parseInt(ar(333))/10)+parseInt(ar(329))/11*(parseInt(ar(349))/12)+-parseInt(ar(346))/13===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x2384,987030);function _0x4d3a(fr,cr){const ar=_0x2384();return _0x4d3a=function(or,ur){return or=or-325,ar[or]},_0x4d3a(fr,cr)}function _0x2384(){const fr=["START","1677684KNUSKc","6750015zregTO","1yhzbRX","Nintendo Entertainment System","#e45c10","54WFIorM","33AEAiRC","uppercase","1em","8iWdTiO","2169380xJvjWG","#000000","424361GExJof","#f0d0b0","1977111ouxdRa","NES","248CEAzXi","SELECT","assets/shaders/crt/crt-geom.glslp","QUICKSHOT_DYNAMIC","548014OEFFTB","#eeeeee","6hbkVAm","37120330xJoTkA","assets/shaders/crt/shaders/crt-geom.glsl"];return _0x2384=function(){return fr},_0x2384()}const NES={..._0x432d8d,platform_id:"nes",core:"fceumm",platform_name:_0x45accc(326),short_name:_0x45accc(338),theme:{"--color0":_0x45accc(334),"--color1":_0x45accc(344),"--color2":_0x45accc(327),"--color3":_0x45accc(336),"--font":"NES","--cursorwidth":_0x45accc(331),"--transform":_0x45accc(330)},shader:[_0x45accc(341),_0x45accc(347)],touch_controllers:[JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x45accc(342)],fire_buttons:2,additional_buttons:{1:{label:_0x45accc(340),keyCode:"select"},2:{label:_0x45accc(348),keyCode:"start"}}};function _0x3288(fr,cr){const ar=_0x23e9();return _0x3288=function(or,ur){return or=or-353,ar[or]},_0x3288(fr,cr)}const _0x31a6a0=_0x3288;(function(fr,cr){const ar=_0x3288,or=fr();for(;[];)try{if(-parseInt(ar(388))/1*(-parseInt(ar(379))/2)+parseInt(ar(389))/3*(-parseInt(ar(370))/4)+parseInt(ar(361))/5*(-parseInt(ar(359))/6)+parseInt(ar(385))/7+-parseInt(ar(383))/8+-parseInt(ar(356))/9+parseInt(ar(360))/10*(-parseInt(ar(386))/11)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x23e9,456844);function _0x23e9(){const fr=["assets/shaders/handheld/gameboy/shader-files/gb-pass3.glsl","START","assets/shaders/handheld/gameboy/resources/background.png","gambatte","writeFile","#828329","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/resources/palette.png","3146QHiCZQ","text","/home/web_user/retroarch/userdata/config/","arrayBuffer","1361368EOOFDo","Nintendo Game Boy","3584105KjGFrT","8206tIhNzz","select","511svDHiD","102sGUFDP","mkdirTree","#374e79","assets/shaders/handheld/gameboy/shader-files/gb-pass2.glsl","assets/shaders/handheld/gameboy.glslp","1095318Cosvph","QUICKSHOT_DYNAMIC","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/gameboy.glslp","186hYEmGP","4110qapjLN","16285OsrZEr","assets/shaders/handheld/gameboy/shader-files/gb-pass1.glsl","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files/gb-pass0.glsl","blob","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files/gb-pass2.glsl","SELECT","/home/web_user/retroarch/userdata/config/global.glslp","start","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/resources/background.png","18768qkmcPr","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files"];return _0x23e9=function(){return fr},_0x23e9()}const GB={..._0x432d8d,platform_id:"gb",core:_0x31a6a0(375),platform_name:_0x31a6a0(384),short_name:"GB",theme:{"--color0":_0x31a6a0(377),"--color1":_0x31a6a0(353),"--font":"GB","--cursorwidth":"1em"},shader:async function(fr){const cr=_0x31a6a0,ar=fr.getEmscriptenFS(),or=await fetch(cr(355)),ur=await fetch(cr(374)),lr=await ur[cr(364)](),xr=await lr[cr(382)](),pr=await fetch("assets/shaders/handheld/gameboy/resources/palette.png"),br=await pr[cr(364)](),mr=await br[cr(382)](),_r=await fetch("assets/shaders/handheld/gameboy/shader-files/gb-pass0.glsl"),vr=await fetch(cr(362)),Er=await fetch(cr(354)),yr=await fetch(cr(372)),Ir=await fetch("assets/shaders/handheld/gameboy/shader-files/gb-pass4.glsl");ar[cr(390)]("/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/resources"),ar[cr(390)](cr(371)),ar.writeFile(cr(358),await or.text()),ar[cr(376)](cr(378),new Uint8Array(mr)),ar[cr(376)](cr(369),new Uint8Array(xr)),ar[cr(376)](cr(363),await _r.text()),ar.writeFile("/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files/gb-pass1.glsl",await vr[cr(380)]()),ar[cr(376)](cr(365),await Er[cr(380)]()),ar[cr(376)]("/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files/gb-pass3.glsl",await yr.text()),ar[cr(376)]("/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files/gb-pass4.glsl",await Ir[cr(380)]()),ar[cr(390)](cr(381)),ar[cr(376)](cr(367),"#reference /home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/gameboy.glslp")},force_scale:!![],touch_controllers:[JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x31a6a0(357)],fire_buttons:2,additional_buttons:{1:{label:_0x31a6a0(366),keyCode:_0x31a6a0(387)},2:{label:_0x31a6a0(373),keyCode:_0x31a6a0(368)}}},_0x4ef2fc=_0x1aaf;(function(fr,cr){const ar=_0x1aaf,or=fr();for(;[];)try{if(parseInt(ar(342))/1*(-parseInt(ar(338))/2)+parseInt(ar(326))/3+-parseInt(ar(334))/4*(-parseInt(ar(344))/5)+parseInt(ar(348))/6+-parseInt(ar(343))/7+-parseInt(ar(337))/8*(parseInt(ar(347))/9)+-parseInt(ar(330))/10*(-parseInt(ar(350))/11)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x3a47,317803);function _0x1aaf(fr,cr){const ar=_0x3a47();return _0x1aaf=function(or,ur){return or=or-322,ar[or]},_0x1aaf(fr,cr)}const GBC={..._0x432d8d,platform_id:_0x4ef2fc(323),core:_0x4ef2fc(339),platform_name:"Nintendo Game Boy Color",short_name:_0x4ef2fc(340),theme:{"--color0":_0x4ef2fc(325),"--color1":_0x4ef2fc(331),"--color2":_0x4ef2fc(325),"--color3":_0x4ef2fc(335),"--font":"GB","--cursorwidth":_0x4ef2fc(333)},shader:async function(fr){const cr=_0x4ef2fc,ar=fr[cr(329)](),or=await fetch(cr(324)),ur=await fetch("assets/shaders/handheld/shaders/sameboy-lcd.glsl");ar.mkdirTree("/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders"),ar[cr(351)](cr(341),await or[cr(332)]()),ar[cr(351)](cr(346),await ur.text()),ar[cr(345)](cr(349)),ar.writeFile(cr(327),cr(328))},force_scale:!![],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x4ef2fc(322)]],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x4ef2fc(322)],fire_buttons:2,additional_buttons:{1:{label:_0x4ef2fc(336),keyCode:"select"},2:{label:"START",keyCode:"start"}}};function _0x3a47(){const fr=["5810TxJLRQ","mkdirTree","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/sameboy-lcd.glsl","2952KlCyVH","485610xXKpak","/home/web_user/retroarch/userdata/config/","416867MiPoBI","writeFile","QUICKSHOT_DYNAMIC","gbc","assets/shaders/handheld/sameboy-lcd.glslp","#ffffff","1393260byPCFg","/home/web_user/retroarch/userdata/config/global.glslp","#reference /home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp","getEmscriptenFS","260HyETeU","#4e93f1","text","1em","1016HvrFnT","#c95340","SELECT","10120eGKteI","1658XSLYhE","gambatte","GBC","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp","685WWibqf","3676659mIqPbr"];return _0x3a47=function(){return fr},_0x3a47()}function _0x3fa7(fr,cr){const ar=_0x53b6();return _0x3fa7=function(or,ur){return or=or-343,ar[or]},_0x3fa7(fr,cr)}const _0x1a5905=_0x3fa7;(function(fr,cr){const ar=_0x3fa7,or=fr();for(;[];)try{if(-parseInt(ar(361))/1*(parseInt(ar(356))/2)+-parseInt(ar(343))/3*(parseInt(ar(345))/4)+parseInt(ar(362))/5*(parseInt(ar(347))/6)+-parseInt(ar(355))/7+-parseInt(ar(365))/8*(parseInt(ar(364))/9)+parseInt(ar(360))/10*(-parseInt(ar(357))/11)+-parseInt(ar(363))/12*(-parseInt(ar(358))/13)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x53b6,681452);const SMS={..._0x432d8d,platform_id:"sms",core:_0x1a5905(359),platform_name:_0x1a5905(352),short_name:_0x1a5905(349),theme:{"--color0":"#000000","--color1":_0x1a5905(351),"--font":_0x1a5905(353),"--cursorwidth":_0x1a5905(346)},shader:[_0x1a5905(354),"assets/shaders/crt/shaders/crt-geom.glsl"],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x1a5905(344)]],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x1a5905(344)],fire_buttons:2,additional_buttons:{1:{label:_0x1a5905(348),keyCode:"select"},2:{label:_0x1a5905(350),keyCode:"start"}}};function _0x53b6(){const fr=["4WdGaWZ","1em","6SZIdUB","SELECT","SMS","START","#ffffff","Sega Master System","Emulogic","assets/shaders/crt/crt-geom.glslp","907900QTMqMS","696ZhOxPm","1837IVilOo","29984773zfweFG","gearsystem","33230vMgloy","2064hlXPbw","1209035PzTXas","12ZMhcTW","18bkYurD","633440NPFqZm","916809TIoRtX","QUICKSHOT_DYNAMIC"];return _0x53b6=function(){return fr},_0x53b6()}const _0x22c08b=_0x4483;(function(fr,cr){const ar=_0x4483,or=fr();for(;[];)try{if(parseInt(ar(182))/1*(parseInt(ar(172))/2)+-parseInt(ar(168))/3*(parseInt(ar(157))/4)+parseInt(ar(183))/5*(-parseInt(ar(158))/6)+-parseInt(ar(176))/7+parseInt(ar(191))/8*(parseInt(ar(167))/9)+parseInt(ar(171))/10+-parseInt(ar(189))/11===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x4f95,876286);function _0x4f95(){const fr=["C64 support is under development and mostly broken or non-functional.","HIDEAWAY","F11","assets/shaders/crt/shaders/crt-geom.glsl","Escape","13244044cAlbxX","QUICKJOY_PRIMARY","48ZDIrvL","RUN/STOP","12zuItKu","1823646DHJgVs","#b19efe","SPACE","F15","Commodore 64","C64","#68a941","true","c64","2260809KmPuSG","717906lQiRGa","F13","#6a53f5","10816580cNcarf","6etbfkQ","F14","enabled","#d0dc71","969465sycgSS","kp_minus","nul","vice_x64","Space","assets/shaders/crt/crt-geom.glslp","521197yFbksf","20DJIXfz"];return _0x4f95=function(){return fr},_0x4f95()}const C64={..._0x432d8d,platform_id:_0x22c08b(166),core:_0x22c08b(179),platform_name:_0x22c08b(162),short_name:_0x22c08b(163),theme:{"--color0":_0x22c08b(170),"--color1":_0x22c08b(159),"--color2":_0x22c08b(164),"--color3":_0x22c08b(175),"--font":"PetMe64","--cursorwidth":"1em"},guessConfig:fr=>{const cr=_0x22c08b;return{vice_drive_true_emulation:cr(165),vice_warp_boost:cr(174),vice_autostart:cr(174),vice_autoloadwarp:cr(174)}},shader:[_0x22c08b(181),_0x22c08b(187)],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x22c08b(190)],JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC,JOYSTICK_TOUCH_MODE[_0x22c08b(185)]],touch_controller_mapping:{input_player1_up:_0x22c08b(169),input_player1_left:_0x22c08b(173),input_player1_down:_0x22c08b(161),input_player1_right:_0x22c08b(186),input_player1_b:_0x22c08b(177),input_player1_a:_0x22c08b(178),input_player1_y:_0x22c08b(178),input_player1_x:"nul",input_player1_start:_0x22c08b(178),input_player1_select:"nul",input_player1_l:_0x22c08b(178),input_player1_r:_0x22c08b(178)},fire_buttons:1,keyboard:{shiftKey:1,overrides:{}},additional_buttons:{1:{label:_0x22c08b(160),key:{key:_0x22c08b(180),code:_0x22c08b(180)}},2:{label:_0x22c08b(156),key:{key:_0x22c08b(188),code:_0x22c08b(188)}},3:{label:"F1",key:{key:"F1",code:"F1"}}},message:[_0x22c08b(184)]};function _0x4483(fr,cr){const ar=_0x4f95();return _0x4483=function(or,ur){return or=or-156,ar[or]},_0x4483(fr,cr)}const _0x346108=_0xb810;function _0xb810(fr,cr){const ar=_0x1b06();return _0xb810=function(or,ur){return or=or-207,ar[or]},_0xb810(fr,cr)}(function(fr,cr){const ar=_0xb810,or=fr();for(;[];)try{if(parseInt(ar(216))/1*(-parseInt(ar(209))/2)+-parseInt(ar(211))/3*(parseInt(ar(222))/4)+-parseInt(ar(208))/5+-parseInt(ar(212))/6*(-parseInt(ar(220))/7)+parseInt(ar(207))/8+-parseInt(ar(219))/9*(parseInt(ar(221))/10)+parseInt(ar(213))/11*(parseInt(ar(224))/12)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x1b06,318792);function _0x1b06(){const fr=["#555555","C128","2415753XprtPo","49VGGPYO","10CwnEEv","1072vtgWZP","assets/shaders/crt/crt-geom.glslp","17256XyIQuz","QUICKSHOT_DYNAMIC","#b9e893","PetMe1282Y","2258000RAJzFF","20585cIXBlr","23978cCljlV","QUICKJOY_PRIMARY","2292sGmkzz","93918aKkwKM","7953qWVZOf","c128","assets/shaders/crt/shaders/crt-geom.glsl","53EyYfCr"];return _0x1b06=function(){return fr},_0x1b06()}const C128={..._0x432d8d,platform_id:_0x346108(214),core:"vice_x128",platform_name:"Commodore 128",short_name:_0x346108(218),theme:{"--color0":_0x346108(226),"--color1":"#555555","--color2":_0x346108(217),"--color3":_0x346108(226),"--font":_0x346108(227),"--cursorwidth":"0.5em"},shader:[_0x346108(223),_0x346108(215)],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x346108(210)],JOYSTICK_TOUCH_MODE[_0x346108(225)],JOYSTICK_TOUCH_MODE.HIDEAWAY],fire_buttons:1,additional_buttons:{},message:["C128 support is under development and mostly broken or non-functional."]},_0x2afc0f=_0x49a4;function _0x49a4(fr,cr){const ar=_0x351b();return _0x49a4=function(or,ur){return or=or-248,ar[or]},_0x49a4(fr,cr)}(function(fr,cr){const ar=_0x49a4,or=fr();for(;[];)try{if(-parseInt(ar(256))/1*(parseInt(ar(273))/2)+-parseInt(ar(264))/3+-parseInt(ar(252))/4+-parseInt(ar(263))/5+parseInt(ar(268))/6+-parseInt(ar(250))/7+parseInt(ar(254))/8===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x351b,934660);function _0x351b(){const fr=["QUICKSHOT_DYNAMIC","C264","Petme64","1em","6830467lSKPEH","#000000","5649428qWBpbL","c264","43120112UfTklj","Escape","1askfRm","F15","vice_xplus4","F14","F11","HIDEAWAY","Space","6828250xdcMfI","1896357UYSOPY","#c6b4fa","nul","#ffffff","3870570jiXBYj","kp_minus","Commodore C16, C116 & Plus/4","QUICKJOY_PRIMARY","F13","1429084HCMlKM","assets/shaders/crt/shaders/crt-geom.glsl"];return _0x351b=function(){return fr},_0x351b()}const C264={..._0x432d8d,platform_id:_0x2afc0f(253),core:_0x2afc0f(258),platform_name:_0x2afc0f(270),short_name:_0x2afc0f(276),theme:{"--color1":_0x2afc0f(251),"--color2":_0x2afc0f(267),"--color0":_0x2afc0f(265),"--color3":"#000000","--font":_0x2afc0f(248),"--cursorwidth":_0x2afc0f(249)},shader:["assets/shaders/crt/crt-geom.glslp",_0x2afc0f(274)],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x2afc0f(271)],JOYSTICK_TOUCH_MODE[_0x2afc0f(275)],JOYSTICK_TOUCH_MODE[_0x2afc0f(261)]],touch_controller_mapping:{input_player1_up:_0x2afc0f(272),input_player1_left:_0x2afc0f(259),input_player1_down:_0x2afc0f(257),input_player1_right:_0x2afc0f(260),input_player1_b:_0x2afc0f(269),input_player1_a:_0x2afc0f(266),input_player1_y:_0x2afc0f(266),input_player1_x:_0x2afc0f(266),input_player1_start:_0x2afc0f(266),input_player1_select:"nul",input_player1_l:_0x2afc0f(266),input_player1_r:_0x2afc0f(266)},fire_buttons:1,keyboard:{shiftKey:1,overrides:{}},additional_buttons:{1:{label:"SPACE",key:{key:_0x2afc0f(262),code:_0x2afc0f(262)}},2:{label:"RUN/STOP",key:{key:_0x2afc0f(255),code:_0x2afc0f(255)}},3:{label:"F1",key:{key:"F1",code:"F1"}}}},_0x20feb1=_0x54ad;function _0x54ad(fr,cr){const ar=_0x9e60();return _0x54ad=function(or,ur){return or=or-469,ar[or]},_0x54ad(fr,cr)}(function(fr,cr){const ar=_0x54ad,or=fr();for(;[];)try{if(-parseInt(ar(479))/1+parseInt(ar(486))/2+parseInt(ar(478))/3*(-parseInt(ar(488))/4)+parseInt(ar(485))/5+-parseInt(ar(495))/6+parseInt(ar(494))/7*(-parseInt(ar(490))/8)+parseInt(ar(470))/9*(parseInt(ar(493))/10)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x9e60,245620);function _0x9e60(){const fr=["PetMe2X","SELECT","stella2014","395313cjkvfI","205179yYaslZ","#000000","HIDEAWAY","assets/shaders/crt/shaders/crt-geom.glsl","#a984ec","Atari 2600 / VCS","1505445RPXadf","215684yNgkzh","uppercase","4LzsLTd","QUICKSHOT_DYNAMIC","942472lwFrBP","start","START","6734330komYco","28bAOJew","171348CSHMss","atari2600","9oSJfeZ","QUICKJOY_PRIMARY","assets/shaders/crt/crt-geom.glslp","0.5em","#ffffff"];return _0x9e60=function(){return fr},_0x9e60()}const A2600={..._0x432d8d,platform_id:_0x20feb1(469),core:_0x20feb1(477),platform_name:_0x20feb1(484),short_name:"A2600",theme:{"--color0":_0x20feb1(480),"--color1":_0x20feb1(483),"--color2":_0x20feb1(474),"--color3":_0x20feb1(483),"--font":_0x20feb1(475),"--cursorwidth":_0x20feb1(473),"--transform":_0x20feb1(487)},shader:[_0x20feb1(472),_0x20feb1(482)],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x20feb1(471)],JOYSTICK_TOUCH_MODE[_0x20feb1(489)],JOYSTICK_TOUCH_MODE[_0x20feb1(481)]],fire_buttons:1,additional_buttons:{1:{label:_0x20feb1(476),keyCode:"select"},2:{label:_0x20feb1(492),keyCode:_0x20feb1(491)}}};function _0x548c(fr,cr){const ar=_0x4a72();return _0x548c=function(or,ur){return or=or-472,ar[or]},_0x548c(fr,cr)}const _0x483272=_0x548c;(function(fr,cr){const ar=_0x548c,or=fr();for(;[];)try{if(-parseInt(ar(483))/1+parseInt(ar(476))/2*(-parseInt(ar(491))/3)+-parseInt(ar(480))/4*(-parseInt(ar(475))/5)+-parseInt(ar(484))/6*(parseInt(ar(479))/7)+-parseInt(ar(485))/8*(-parseInt(ar(486))/9)+-parseInt(ar(489))/10*(-parseInt(ar(493))/11)+parseInt(ar(492))/12*(parseInt(ar(490))/13)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x4a72,493336);const A5200={..._0x432d8d,platform_id:"atari5200",core:_0x483272(482),platform_name:_0x483272(478),short_name:_0x483272(488),theme:{"--color0":"#000000","--color1":_0x483272(472),"--font":_0x483272(474),"--transform":_0x483272(495),"--cursorwidth":_0x483272(487)},shader:["assets/shaders/crt/crt-geom.glslp","assets/shaders/crt/shaders/crt-geom.glsl"],touch_controllers:[JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x483272(477)],fire_buttons:2,additional_buttons:{1:{label:"PAUSE",keyCode:_0x483272(494)},2:{label:_0x483272(473),keyCode:_0x483272(481)}}};function _0x4a72(){const fr=["11537508qEMcGl","22iuiJDh","pause","uppercase","#ffffff","START","Atascii","10DWSfmV","4rTSEgh","QUICKSHOT_DYNAMIC","Atari 5200","35pIXvMt","174488QXjyOQ","start","a5200","906158WDXsqK","801168pEmuEi","290600TpxXrK","18XfTWEI","1em","A5200","343180dEzYrm","26sxMzat","126471aYEsXl"];return _0x4a72=function(){return fr},_0x4a72()}const _0x2215bf=_0x1fe2;function _0x1fe2(fr,cr){const ar=_0x3d51();return _0x1fe2=function(or,ur){return or=or-211,ar[or]},_0x1fe2(fr,cr)}(function(fr,cr){const ar=_0x1fe2,or=fr();for(;[];)try{if(-parseInt(ar(215))/1*(parseInt(ar(222))/2)+-parseInt(ar(249))/3+parseInt(ar(237))/4*(-parseInt(ar(244))/5)+parseInt(ar(224))/6*(-parseInt(ar(213))/7)+-parseInt(ar(257))/8*(-parseInt(ar(232))/9)+-parseInt(ar(236))/10*(parseInt(ar(225))/11)+parseInt(ar(226))/12===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x3d51,655985);function _0x3d51(){const fr=["OPTION","F13","HIDEAWAY","336x240","3729848OFCCOQ","ATARIOSB.ROM","800XL (64K)","assets/shaders/crt/shaders/crt-geom.glsl","7sTTQhW","NTSC","78VPrbPZ","toUpperCase","forEach","kp_minus","atari800","F11","Modern XL/XE(320K CS)","32822YmUgDz","06daac977823773a3eea3422fd26a703","3609714rzjOhr","110TAuKJP","47354100VJONqM","Atari 800 / XE / XL","keys","Modern XL/XE(1088K)","ATARIXL.ROM","#60b7e7","9SHEAvO","Atari 400/800 NTSC ROM","includes","QUICKSHOT_DYNAMIC","387110sWNbeH","18632MkEAJz","0bac0c6a50104045d902df4503a4c30b","1em","Atari 400/800 PAL ROM","F15","Atascii","ATARIBAS.ROM","1130IqsBWe","F14","eb1f32f5d9f382db1bbfb8d7f9cb343a","PAL","ATARIOSA.ROM","1304778hyNrqD","400/800 (OS B)","QUICKJOY_PRIMARY","select"];return _0x3d51=function(){return fr},_0x3d51()}const A800={..._0x432d8d,platform_id:_0x2215bf(219),core:"atari800",bios:["ATARIXL.ROM","ATARIBAS.ROM"],platform_name:_0x2215bf(227),short_name:"A800",theme:{"--color0":"#005181","--color1":_0x2215bf(231),"--color3":"#005181","--color2":_0x2215bf(231),"--font":_0x2215bf(242),"--cursorwidth":_0x2215bf(239)},shader:["assets/shaders/crt/crt-geom.glslp",_0x2215bf(212)],guessBIOS:fr=>{const cr=_0x2215bf;let ar=[cr(230),cr(243)];const or={"[400-800]":["ATARIOSB.ROM",cr(243)],"[REQ OSA]":[cr(248),"ATARIBAS.ROM"],"[REQ OSB]":[cr(258),cr(243)]};for(let ur in or)if(fr[cr(216)]()[cr(234)](ur))return or[ur];return ar},guessConfig:fr=>{const cr=_0x2215bf,ar={"[BASIC]":{atari800_internalbasic:"enabled"},"(130XE)":{atari800_system:"130XE (128K)"},"[128K]":{atari800_system:"130XE (128K)"},"[192K]":{atari800_system:cr(221)},"[256K]":{atari800_system:cr(221)},"[320K]":{atari800_system:"Modern XL/XE(320K CS)"},"[1MB]":{atari800_system:cr(229)},"[400-800]":{atari800_system:cr(250)},"[REQ OSA]":{atari800_system:"400/800 (OS A)"},"[REQ OSB]":{atari800_system:"400/800 (OS B)",atari800_ntscpal:cr(214)},"[STEREO]":{},".CAS":{atari800_cassboot:"enabled"}};let ur={...{atari800_ntscpal:cr(247),atari800_resolution:cr(256),atari800_system:cr(211)}};return Object[cr(228)](ar)[cr(217)](lr=>{fr[cr(216)]().includes(lr)&&Object.assign(ur,ar[lr])}),ur},dependencies:[{key:_0x2215bf(230),type:"Atari XL/XE OS ROM",required:!![],accepted:[_0x2215bf(223)]},{key:_0x2215bf(243),type:"BASIC interpreter ROM",required:!![],accepted:[_0x2215bf(238)]},{key:_0x2215bf(248),type:_0x2215bf(240),required:!![],accepted:[_0x2215bf(246)]},{key:_0x2215bf(258),type:_0x2215bf(233),required:!![],accepted:["a3e8d617c95d08031fe1b20d541434b2"]}],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x2215bf(251)],JOYSTICK_TOUCH_MODE[_0x2215bf(235)],JOYSTICK_TOUCH_MODE[_0x2215bf(255)]],touch_controller_mapping:{input_player1_up:_0x2215bf(254),input_player1_left:_0x2215bf(245),input_player1_down:_0x2215bf(241),input_player1_right:_0x2215bf(220),input_player1_b:_0x2215bf(218)},fire_buttons:1,keyboard:{shiftKey:2,overrides:{}},additional_buttons:{1:{label:_0x2215bf(253),key:{key:"F2",code:"F2"}},2:{label:"SELECT",keyCode:_0x2215bf(252)},3:{label:"START",key:{key:"F4",code:"F4"}}}},_0x2d2b76=_0x138d;(function(fr,cr){const ar=_0x138d,or=fr();for(;[];)try{if(parseInt(ar(335))/1*(parseInt(ar(332))/2)+parseInt(ar(318))/3+parseInt(ar(320))/4+parseInt(ar(319))/5+parseInt(ar(328))/6*(-parseInt(ar(336))/7)+-parseInt(ar(321))/8*(parseInt(ar(316))/9)+parseInt(ar(327))/10===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x4dea,632057);function _0x138d(fr,cr){const ar=_0x4dea();return _0x138d=function(or,ur){return or=or-316,ar[or]},_0x138d(fr,cr)}function _0x4dea(){const fr=["8090224FUjayk","assets/shaders/crt/crt-geom.glslp","#ea3323","assets/shaders/crt/shaders/crt-geom.glsl","#000000","#d6e121","10135160ikHWVF","368406nmOmQW","Amstrad CPC","CPC","#000060","86jJSfLk","AmstradCPC","1em","9010UifuAh","133Zwnaag","9JpXBRO","QUICKSHOT_DYNAMIC","3328122JKmAYi","474830TnfnQP","818672iQtGxH"];return _0x4dea=function(){return fr},_0x4dea()}const CPC={..._0x432d8d,platform_id:"cpc",core:"crocods",platform_name:_0x2d2b76(329),short_name:_0x2d2b76(330),theme:{"--color0":_0x2d2b76(331),"--color1":_0x2d2b76(326),"--color2":_0x2d2b76(325),"--color3":_0x2d2b76(323),"--font":_0x2d2b76(333),"--cursorwidth":_0x2d2b76(334)},savestates_disabled:!![],shader:[_0x2d2b76(322),_0x2d2b76(324)],touch_controllers:[JOYSTICK_TOUCH_MODE.QUICKJOY_PRIMARY,JOYSTICK_TOUCH_MODE[_0x2d2b76(317)],JOYSTICK_TOUCH_MODE.HIDEAWAY],fire_buttons:1,additional_buttons:{},message:["CPC support is under development and mostly broken or non-functional."]},_0x588d7a=_0x11e8;(function(fr,cr){const ar=_0x11e8,or=fr();for(;[];)try{if(-parseInt(ar(224))/1*(-parseInt(ar(226))/2)+parseInt(ar(216))/3*(-parseInt(ar(217))/4)+-parseInt(ar(208))/5+parseInt(ar(200))/6+-parseInt(ar(222))/7+parseInt(ar(204))/8+parseInt(ar(218))/9===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x337d,447430);function _0x337d(){const fr=["Space","535047koLsSK","vic20","2OExPjB","vice_xvic","assets/shaders/crt/shaders/crt-geom.glsl","F13","1621242OlHKoF","Escape","2em","QUICKSHOT_DYNAMIC","3424320vxoiSu","uppercase","F14","SPACE","1894410xhBITo","VIC20","#250ec5","F11","#ffffff","F15","assets/shaders/crt/crt-geom.glslp","nul","492609ccmRJI","20FtwSYl","8735778RhGSdD","#6ebdcb","RUN/STOP","kp_minus","3896263rTNAdX"];return _0x337d=function(){return fr},_0x337d()}function _0x11e8(fr,cr){const ar=_0x337d();return _0x11e8=function(or,ur){return or=or-198,ar[or]},_0x11e8(fr,cr)}const VIC20={..._0x432d8d,platform_id:_0x588d7a(225),core:_0x588d7a(227),platform_name:"Commodore VIC-20",short_name:_0x588d7a(209),theme:{"--color0":_0x588d7a(212),"--color1":_0x588d7a(210),"--color2":_0x588d7a(210),"--color3":_0x588d7a(219),"--font":"PetMe2X","--cursorwidth":_0x588d7a(202),"--transform":_0x588d7a(205)},shader:[_0x588d7a(214),_0x588d7a(198)],touch_controllers:[JOYSTICK_TOUCH_MODE.QUICKJOY_PRIMARY,JOYSTICK_TOUCH_MODE[_0x588d7a(203)],JOYSTICK_TOUCH_MODE.HIDEAWAY],touch_controller_mapping:{input_player1_up:_0x588d7a(199),input_player1_left:_0x588d7a(206),input_player1_down:_0x588d7a(213),input_player1_right:_0x588d7a(211),input_player1_b:_0x588d7a(221),input_player1_a:"nul",input_player1_y:_0x588d7a(215),input_player1_x:_0x588d7a(215),input_player1_start:_0x588d7a(215),input_player1_select:_0x588d7a(215),input_player1_l:_0x588d7a(215),input_player1_r:"nul"},fire_buttons:1,keyboard:{shiftKey:1,overrides:{}},additional_buttons:{1:{label:_0x588d7a(207),key:{key:_0x588d7a(223),code:_0x588d7a(223)}},2:{label:_0x588d7a(220),key:{key:_0x588d7a(201),code:_0x588d7a(201)}},3:{label:"F1",key:{key:"F1",code:"F1"}}}},_0x1f3d8a=_0x3927;function _0x4c35(){const fr=["1em","2YkNbbU","ZXSpectrum","ZX80","1303593GcVqqG","4870790ZfmgWS","QUICKSHOT_DYNAMIC","9TVEBSr","253455kVvDVJ","#000000","12dRdRVA","7878376wqfBvk","assets/shaders/crt/shaders/crt-geom.glsl","assets/shaders/crt/crt-geom.glslp","5858264QsdULc","uppercase","12mGwMSi","QUICKJOY_PRIMARY","zx80","1019753SjmZCe","3692382tpSKoX","Sinclair ZX80 / ZX81","#ffffff"];return _0x4c35=function(){return fr},_0x4c35()}(function(fr,cr){const ar=_0x3927,or=fr();for(;[];)try{if(parseInt(ar(284))/1+parseInt(ar(281))/2*(-parseInt(ar(277))/3)+-parseInt(ar(267))/4*(parseInt(ar(265))/5)+parseInt(ar(273))/6*(parseInt(ar(276))/7)+parseInt(ar(271))/8+parseInt(ar(264))/9*(parseInt(ar(285))/10)+-parseInt(ar(268))/11===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x4c35,715230);function _0x3927(fr,cr){const ar=_0x4c35();return _0x3927=function(or,ur){return or=or-263,ar[or]},_0x3927(fr,cr)}const ZX80={..._0x432d8d,platform_id:_0x1f3d8a(275),core:"81",platform_name:_0x1f3d8a(278),short_name:_0x1f3d8a(283),theme:{"--color0":_0x1f3d8a(279),"--color1":_0x1f3d8a(266),"--color2":_0x1f3d8a(266),"--color3":"#ffffff","--font":_0x1f3d8a(282),"--cursorwidth":_0x1f3d8a(280),"--transform":_0x1f3d8a(272)},shader:[_0x1f3d8a(270),_0x1f3d8a(269)],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x1f3d8a(274)],JOYSTICK_TOUCH_MODE[_0x1f3d8a(263)],JOYSTICK_TOUCH_MODE.HIDEAWAY],fire_buttons:1,additional_buttons:{}},_0x4553f0=_0x406e;function _0x406e(fr,cr){const ar=_0x4e53();return _0x406e=function(or,ur){return or=or-482,ar[or]},_0x406e(fr,cr)}(function(fr,cr){const ar=_0x406e,or=fr();for(;[];)try{if(-parseInt(ar(485))/1*(parseInt(ar(488))/2)+parseInt(ar(514))/3+parseInt(ar(510))/4*(-parseInt(ar(483))/5)+parseInt(ar(499))/6*(parseInt(ar(501))/7)+parseInt(ar(506))/8+-parseInt(ar(484))/9*(-parseInt(ar(486))/10)+-parseInt(ar(505))/11*(parseInt(ar(482))/12)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x4e53,146382);const Spectrum={..._0x432d8d,platform_id:"spectrum",core:_0x4553f0(509),platform_name:_0x4553f0(502),short_name:_0x4553f0(513),theme:{"--color0":_0x4553f0(507),"--color1":_0x4553f0(500),"--color3":_0x4553f0(491),"--color2":_0x4553f0(512),"--font":_0x4553f0(497),"--cursorwidth":"1em"},savestates_disabled:!![],shader:[_0x4553f0(511),_0x4553f0(503)],guessConfig:fr=>{const cr=_0x4553f0,ar={};let ur={...{input_libretro_device_p1:cr(495),input_libretro_device_p2:"0",input_libretro_device_p3:cr(489),input_libretro_device_p4:"1",input_libretro_device_p5:"1"}};return Object[cr(490)](ar).forEach(lr=>{fr[cr(494)]().includes(lr)&&Object.assign(ur,ar[lr])}),ur},touch_controllers:[JOYSTICK_TOUCH_MODE[_0x4553f0(508)],JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC,JOYSTICK_TOUCH_MODE.HIDEAWAY],touch_controller_mapping:{input_player1_up:_0x4553f0(498),input_player1_left:_0x4553f0(504),input_player1_down:_0x4553f0(492),input_player1_right:_0x4553f0(487),input_player1_b:_0x4553f0(496)},fire_buttons:1,keyboard:{shiftKey:1,overrides:{}},additional_buttons:{},message:[_0x4553f0(493)]};function _0x4e53(){const fr=["Sinclair ZX Spectrum","assets/shaders/crt/shaders/crt-geom.glsl","F14","22RUxzpa","152632fLPCFJ","#c0c000","QUICKJOY_PRIMARY","fuse","2364MpNoTI","assets/shaders/crt/crt-geom.glslp","#ffffff","Spectrum","86991xRDVZU","44196DrRkMl","695Ijmplm","9MXvBnJ","185599QUkjTH","2371130QfgJpY","F11","2IIFycE","259","keys","#be2ec8","F15","ZX Spectrum support is under development and mostly broken or non-functional.","toUpperCase","513","kp_minus","ZXSpectrum","F13","817842hJXpiW","#0000c0","7sivPqj"];return _0x4e53=function(){return fr},_0x4e53()}const _0x45ea85=_0x39f1;function _0x39f1(fr,cr){const ar=_0x59c3();return _0x39f1=function(or,ur){return or=or-412,ar[or]},_0x39f1(fr,cr)}(function(fr,cr){const ar=_0x39f1,or=fr();for(;[];)try{if(parseInt(ar(428))/1+parseInt(ar(421))/2*(parseInt(ar(430))/3)+-parseInt(ar(420))/4+parseInt(ar(432))/5+parseInt(ar(417))/6*(-parseInt(ar(423))/7)+-parseInt(ar(415))/8*(parseInt(ar(419))/9)+-parseInt(ar(416))/10*(-parseInt(ar(429))/11)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x59c3,444670);function _0x59c3(){const fr=["35xqIdWA","PCE","PC Engine","start","#000000","825534RZExkm","105457AfsGLf","102417fNoWVW","select","1126705HiYjMi","RUN","QUICKSHOT_DYNAMIC","pce","732496RMGBnP","70yTfKoW","125496lLYYjT","assets/shaders/crt/crt-geom.glslp","81IXvIqH","1163600gTpQXu","32ZwzZtj","SELECT"];return _0x59c3=function(){return fr},_0x59c3()}const PCE={..._0x432d8d,platform_id:_0x45ea85(414),core:"mednafen_pce_fast",platform_name:_0x45ea85(425),short_name:_0x45ea85(424),theme:{"--color0":_0x45ea85(427),"--color1":"#f0f0f0","--font":"Shockman","--cursorwidth":"0.5em","--transform":"uppercase"},shader:[_0x45ea85(418),"assets/shaders/crt/shaders/crt-geom.glsl"],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x45ea85(413)]],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x45ea85(413)],fire_buttons:2,additional_buttons:{1:{label:_0x45ea85(422),keyCode:_0x45ea85(431)},2:{label:_0x45ea85(412),keyCode:_0x45ea85(426)}}},_0x5a406e=_0xa2c7;(function(fr,cr){const ar=_0xa2c7,or=fr();for(;[];)try{if(parseInt(ar(328))/1+-parseInt(ar(345))/2*(-parseInt(ar(332))/3)+parseInt(ar(338))/4+-parseInt(ar(336))/5*(parseInt(ar(337))/6)+parseInt(ar(335))/7*(-parseInt(ar(334))/8)+parseInt(ar(331))/9*(parseInt(ar(342))/10)+-parseInt(ar(340))/11===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x4f26,171946);function _0xa2c7(fr,cr){const ar=_0x4f26();return _0xa2c7=function(or,ur){return or=or-327,ar[or]},_0xa2c7(fr,cr)}const MD={..._0x432d8d,platform_id:_0x5a406e(339),core:_0x5a406e(329),platform_name:_0x5a406e(330),short_name:"SMD",theme:{"--color0":_0x5a406e(327),"--color1":_0x5a406e(346),"--color3":_0x5a406e(341),"--color2":_0x5a406e(333),"--font":"MD","--cursorwidth":"1em","--transform":"none"},shader:["assets/shaders/crt/crt-geom.glslp",_0x5a406e(343)],guessConfig:fr=>({input_libretro_device_p1:"0"}),touch_controllers:[JOYSTICK_TOUCH_MODE[_0x5a406e(344)]],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x5a406e(344)],fire_buttons:3,additional_buttons:{1:{label:"START",keyCode:"start"}}};function _0x4f26(){const fr=["#ce2c1e","12976xqrUIr","329vcBJIj","37805wAkzVt","24YVLcFi","643612NFQsrR","smd","6993470SKwZdB","#66de42","220530prYSoG","assets/shaders/crt/shaders/crt-geom.glsl","QUICKSHOT_DYNAMIC","162344aRKrEo","#eeeeee","#00009B","311298WLukgQ","genesis_plus_gx","Sega Mega Drive","81VDudXJ","9UupdCe"];return _0x4f26=function(){return fr},_0x4f26()}const _0x50f208=_0x6cdd;(function(fr,cr){const ar=_0x6cdd,or=fr();for(;[];)try{if(-parseInt(ar(132))/1+parseInt(ar(143))/2*(parseInt(ar(118))/3)+-parseInt(ar(135))/4*(parseInt(ar(130))/5)+parseInt(ar(137))/6+-parseInt(ar(120))/7+parseInt(ar(127))/8*(parseInt(ar(126))/9)+parseInt(ar(144))/10*(-parseInt(ar(129))/11)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x2435,964686);function _0x6cdd(fr,cr){const ar=_0x2435();return _0x6cdd=function(or,ur){return or=or-115,ar[or]},_0x6cdd(fr,cr)}const Lynx={..._0x432d8d,platform_id:_0x50f208(122),core:"handy",platform_name:"Atari Lynx",short_name:_0x50f208(136),theme:{"--color0":_0x50f208(139),"--color1":_0x50f208(124),"--color3":_0x50f208(119),"--font":_0x50f208(136),"--transform":_0x50f208(142),"--cursorwidth":_0x50f208(141)},shader:async function(fr){const cr=_0x50f208,ar=fr[cr(128)](),or=await fetch("assets/shaders/handheld/sameboy-lcd.glslp"),ur=await fetch(cr(117));ar[cr(116)](cr(121)),ar.writeFile(cr(138),await or[cr(115)]()),ar[cr(125)](cr(133),await ur[cr(115)]()),ar[cr(116)](cr(131)),ar.writeFile(cr(134),"#reference /home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp")},touch_controllers:[JOYSTICK_TOUCH_MODE[_0x50f208(123)],JOYSTICK_TOUCH_MODE.HIDEAWAY],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x50f208(123)],fire_buttons:2,additional_buttons:{1:{label:"2",keyCode:"r"},2:{label:_0x50f208(140),keyCode:"start"},3:{label:"1",keyCode:"l"}}};function _0x2435(){const fr=["110tkPLKK","text","mkdirTree","assets/shaders/handheld/shaders/sameboy-lcd.glsl","474645BylbEM","#985495","4342716mQgdVX","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders","lynx","QUICKSHOT_DYNAMIC","#ebe4b2","writeFile","27RKBSGq","2282776glykzP","getEmscriptenFS","919633nxWBMk","464145IaoetO","/home/web_user/retroarch/userdata/config/","962242vsQlLu","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/sameboy-lcd.glsl","/home/web_user/retroarch/userdata/config/global.glslp","8qmIeTn","Lynx","11083656WmJQkr","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp","#579342","START","0.75em","uppercase","12COBjXg"];return _0x2435=function(){return fr},_0x2435()}const _0x37cd75=_0x44cb;(function(fr,cr){const ar=_0x44cb,or=fr();for(;[];)try{if(-parseInt(ar(239))/1+parseInt(ar(259))/2+-parseInt(ar(237))/3*(parseInt(ar(234))/4)+-parseInt(ar(236))/5+-parseInt(ar(238))/6*(parseInt(ar(263))/7)+parseInt(ar(265))/8*(parseInt(ar(252))/9)+parseInt(ar(240))/10*(-parseInt(ar(253))/11)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x1b52,623760);function _0x1b52(){const fr=["18bgFurt","4213UKzliW","gba_bios.bin","#222222","mkdirTree","GBA","assets/shaders/handheld/sameboy-lcd.glslp","1260084uTfRvT","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders","select","start","7189PXHkmU","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/sameboy-lcd.glsl","3698144ZQZJox","text","1715440PmHlYc","1em","1677145lgMtVS","3rGhSuA","156wqeqSd","77398ZLLrzW","1630yXQHji","QUICKSHOT_DYNAMIC","GBA BIOS","writeFile","none","/home/web_user/retroarch/userdata/config/global.glslp","/home/web_user/retroarch/userdata/config/","START","mgba","a860e8c0b6d573d191e4ec7db1b1e4f6","#8abac2","#dddddd"];return _0x1b52=function(){return fr},_0x1b52()}const GBA={..._0x432d8d,platform_id:"gba",core:_0x37cd75(248),platform_name:"Nintendo Game Boy Advance",short_name:_0x37cd75(257),theme:{"--color0":"#222222","--color1":_0x37cd75(251),"--color3":_0x37cd75(255),"--color2":_0x37cd75(250),"--font":"PublicPixel","--cursorwidth":_0x37cd75(235),"--transform":_0x37cd75(244)},shader:async function(fr){const cr=_0x37cd75,ar=fr.getEmscriptenFS(),or=await fetch(cr(258)),ur=await fetch("assets/shaders/handheld/shaders/sameboy-lcd.glsl");ar[cr(256)](cr(260)),ar.writeFile("/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp",await or[cr(266)]()),ar[cr(243)](cr(264),await ur[cr(266)]()),ar[cr(256)](cr(246)),ar[cr(243)](cr(245),"#reference /home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp")},guessConfig:fr=>({}),dependencies:[{key:_0x37cd75(254),type:_0x37cd75(242),required:![],accepted:[_0x37cd75(249)]}],force_scale:!![],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x37cd75(241)]],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x37cd75(241)],fire_buttons:4,additional_buttons:{1:{label:"SELECT",keyCode:_0x37cd75(261)},2:{label:_0x37cd75(247),keyCode:_0x37cd75(262)}}};function _0x44cb(fr,cr){const ar=_0x1b52();return _0x44cb=function(or,ur){return or=or-234,ar[or]},_0x44cb(fr,cr)}const _0xebf9cd=_0x5484;(function(fr,cr){const ar=_0x5484,or=fr();for(;[];)try{if(-parseInt(ar(491))/1+parseInt(ar(506))/2+-parseInt(ar(507))/3+parseInt(ar(495))/4+parseInt(ar(499))/5*(-parseInt(ar(501))/6)+-parseInt(ar(504))/7+parseInt(ar(497))/8===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x2785,226267);function _0x2785(){const fr=["855174gpBPRb","#71f3f2","none","227533LAmYyV","fbalpha2012_neogeo","#c3c3c3","Neo Geo AES / MVS","192000BAMmRw","SNK","8757088dXmVGn","start","421415ZqRZFi","assets/shaders/crt/crt-geom.glslp","24UVlZAO","COIN","snk","2098334xJWZzz","1em","466232SEqmPC"];return _0x2785=function(){return fr},_0x2785()}function _0x5484(fr,cr){const ar=_0x2785();return _0x5484=function(or,ur){return or=or-490,ar[or]},_0x5484(fr,cr)}const SNK={..._0x432d8d,platform_id:_0xebf9cd(503),core:_0xebf9cd(492),platform_name:_0xebf9cd(494),short_name:_0xebf9cd(496),theme:{"--color0":"#656565","--color1":_0xebf9cd(493),"--color3":_0xebf9cd(508),"--color2":"#000000","--font":"SNK","--cursorwidth":_0xebf9cd(505),"--transform":_0xebf9cd(490)},shader:[_0xebf9cd(500),"assets/shaders/crt/shaders/crt-geom.glsl"],guessConfig:fr=>({}),touch_controllers:[JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC],default_touch_controller:JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC,fire_buttons:4,button_overrides:{"3countb":4,"2020bb":4,alpham2:3,androdun:2,aodk:4,aof:4,aof2:4,aof3:4,bakatono:4,bjourney:3,blazstar:2,breakers:4,bstars:4,bstars2:4,burningf:3,crsword:2,cyberlip:3,doubledr:4,eightman:3,fatfursp:4,fatfury1:4,fatfury2:4,fatfury3:4,fbfrenzy:4,galaxyfg:4,garou:4,gowcaizr:4,gpilots:2,joyjoy:2,kabukikl:4,karnovr:4,kizuna:4,kof94:4,kof95:4,kof96:4,kof97:4,kof98:4,kof99:4,kof2000:4,kof2001:4,kof2002:4,kof2003:4,kotm:3,kotm2:3,lastblad:4,lastbld2:4,lbowling:1,legendos:2,lresort:2,magdrop2:2,magdrop3:3,maglord:2,mahretsu:2,marukodq:4,matrim:4,minasan:0,mosyougi:0,mslug:3,mslug2:3,mslug3:3,mslug4:4,mslug5:4,mslugx:3,mutnat:2,nam1975:3,ncombat:3,ncommand:3,neocup98:3,ninjamas:4,overtop:2,pulstar:2,quizdai2:4,quizdais:4,quizkof:4,ragnagrd:4,rbff1:4,rbff1a:4,rbff2:4,rbffspec:4,ridhero:3,roboarmy:3,rotd:4,samsh5sp:4,samsho:4,samsho2:4,samsho3:4,samsho4:4,samsho5:4,savagere:4,sengoku:3,sengoku2:4,sengoku3:4,shocktr2:4,socbrawl:2,sonicwi2:2,sonicwi3:2,spinmast:3,ssideki:2,ssideki2:3,ssideki3:3,ssideki4:3,stakwin:2,stakwin2:3,strhoop:2,superspy:3,svc:4,tophuntr:3,tpgolf:4,trally:2,turfmast:3,twinspri:2,viewpoin:2,wakuwak7:4,wh1:3,wh2:3,wh2j:3,whp:4,wjammers:2},additional_buttons:{1:{label:_0xebf9cd(502),keyCode:"select"},2:{label:"START",keyCode:_0xebf9cd(498)}}},_0x997b97=_0x59c8;function _0x5af1(){const fr=["A500 Kickstart v1.3 rev 34.005","auto","amiga","exact","0.5em",".adf","29005368vuggNN","HIDEAWAY","4823iIpgEj","#6780ae","A1200 Kickstart v3.1 rev 40.068","Commodore Amiga","4325576UHLZKw","writeFile","getFile","endsWith","#A7A7A7","assets/shaders/crt/shaders/crt-geom.glsl","Topaz1200","#000000","/home/web_user/retroarch/userdata/system/kick40063.A600","assets/shaders/crt/crt-geom.glslp","QUICKSHOT_DYNAMIC","3AdARsP","QUICKJOY_PRIMARY","9nUfVga","11797980vXlNrc","1CHOLKR","kick1x","TRACKPAD_BUTTONS","/home/web_user/retroarch/userdata/system/kick40068.A1200","646773759326fbac3b2311fd8c8793ee","11148eYvQXM","kick40068.A1200","A500","amiga.kick40063.A600","e40a5dfb3d017ba8779faba30cbd1c8e","/home/web_user/retroarch/userdata/system/kick34005.A500","#666666","kick2x","A600 Kickstart v3.1 rev 40.063","single","4461395MOBnKV","F13","kick40063.A600","11OXGXPC","82a21c1890cae844b3df741f2762d48d","1181540amNdUQ","Amiga","kick3x","kick34005.A500","#ffffff","9162192LeyptH"];return _0x5af1=function(){return fr},_0x5af1()}(function(fr,cr){const ar=_0x59c8,or=fr();for(;[];)try{if(-parseInt(ar(346))/1*(parseInt(ar(366))/2)+-parseInt(ar(342))/3*(parseInt(ar(384))/4)+-parseInt(ar(361))/5+parseInt(ar(351))/6*(-parseInt(ar(380))/7)+parseInt(ar(371))/8+parseInt(ar(344))/9*(parseInt(ar(345))/10)+parseInt(ar(364))/11*(parseInt(ar(378))/12)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x5af1,897581);const Amiga={..._0x432d8d,not_ready:!![],platform_id:_0x997b97(374),core:"puae",bios:[_0x997b97(347),_0x997b97(358),_0x997b97(368)],platform_name:_0x997b97(383),short_name:_0x997b97(367),theme:{"--color0":_0x997b97(335),"--color1":_0x997b97(338),"--color2":_0x997b97(357),"--color3":_0x997b97(370),"--color4":_0x997b97(381),"--font":_0x997b97(337),"--cursorwidth":_0x997b97(376)},startup_beforelaunch:async function(fr,cr){const ar=_0x997b97,or=fr.getEmscriptenFS(),ur=await cr[ar(386)]("amiga.kick34005.A500"),lr=await cr.getFile(ar(354)),xr=await cr[ar(386)]("amiga.kick40068.A1200");or[ar(385)](ar(356),await new Uint8Array(ur)),or[ar(385)](ar(339),await new Uint8Array(lr)),or[ar(385)](ar(349),await new Uint8Array(xr))},guessConfig:fr=>{const cr=_0x997b97;return fr[cr(334)](cr(377))?{puae_model:cr(353),puae_kickstart:cr(369),puae_video_vresolution:cr(360),puae_video_resolution:"hires",puae_cpu_compatibility:cr(375),puae_crop_mode:"auto"}:{puae_cpu_compatibility:"exact",puae_video_vresolution:cr(360),puae_video_resolution:"hires",puae_crop_mode:cr(373)}},shader:[_0x997b97(340),_0x997b97(336)],video_smooth:![],dependencies:[{key:"kick34005.A500",type:_0x997b97(372),required:!![],accepted:[_0x997b97(365)]},{key:_0x997b97(363),type:_0x997b97(359),required:!![],accepted:[_0x997b97(355)]},{key:_0x997b97(352),type:_0x997b97(382),required:!![],accepted:[_0x997b97(350)]}],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x997b97(343)],JOYSTICK_TOUCH_MODE[_0x997b97(341)],JOYSTICK_TOUCH_MODE[_0x997b97(379)]],mouse_controllers:[MOUSE_TOUCH_MODE[_0x997b97(348)]],touch_controller_mapping:{input_player1_l2:_0x997b97(362),input_player1_r2:"F14"},fire_buttons:1,keyboard:{shiftKey:2,overrides:{}},additional_buttons:{},rewind_granularity:25,fastforward_ratio:10};function _0x59c8(fr,cr){const ar=_0x5af1();return _0x59c8=function(or,ur){return or=or-334,ar[or]},_0x59c8(fr,cr)}var jszip_min={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(fr,cr){(function(ar){fr.exports=ar()})(function(){return function ar(or,ur,lr){function xr(mr,_r){if(!ur[mr]){if(!or[mr]){var vr=typeof commonjsRequire=="function"&&commonjsRequire;if(!_r&&vr)return vr(mr,!0);if(pr)return pr(mr,!0);var Er=new Error("Cannot find module '"+mr+"'");throw Er.code="MODULE_NOT_FOUND",Er}var yr=ur[mr]={exports:{}};or[mr][0].call(yr.exports,function(Ir){var Ar=or[mr][1][Ir];return xr(Ar||Ir)},yr,yr.exports,ar,or,ur,lr)}return ur[mr].exports}for(var pr=typeof commonjsRequire=="function"&&commonjsRequire,br=0;br<lr.length;br++)xr(lr[br]);return xr}({1:[function(ar,or,ur){var lr=ar("./utils"),xr=ar("./support"),pr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";ur.encode=function(br){for(var mr,_r,vr,Er,yr,Ir,Ar,kr=[],Or=0,Dr=br.length,Rr=Dr,Fr=lr.getTypeOf(br)!=="string";Or<br.length;)Rr=Dr-Or,vr=Fr?(mr=br[Or++],_r=Or<Dr?br[Or++]:0,Or<Dr?br[Or++]:0):(mr=br.charCodeAt(Or++),_r=Or<Dr?br.charCodeAt(Or++):0,Or<Dr?br.charCodeAt(Or++):0),Er=mr>>2,yr=(3&mr)<<4|_r>>4,Ir=1<Rr?(15&_r)<<2|vr>>6:64,Ar=2<Rr?63&vr:64,kr.push(pr.charAt(Er)+pr.charAt(yr)+pr.charAt(Ir)+pr.charAt(Ar));return kr.join("")},ur.decode=function(br){var mr,_r,vr,Er,yr,Ir,Ar=0,kr=0,Or="data:";if(br.substr(0,Or.length)===Or)throw new Error("Invalid base64 input, it looks like a data url.");var Dr,Rr=3*(br=br.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(br.charAt(br.length-1)===pr.charAt(64)&&Rr--,br.charAt(br.length-2)===pr.charAt(64)&&Rr--,Rr%1!=0)throw new Error("Invalid base64 input, bad content length.");for(Dr=xr.uint8array?new Uint8Array(0|Rr):new Array(0|Rr);Ar<br.length;)mr=pr.indexOf(br.charAt(Ar++))<<2|(Er=pr.indexOf(br.charAt(Ar++)))>>4,_r=(15&Er)<<4|(yr=pr.indexOf(br.charAt(Ar++)))>>2,vr=(3&yr)<<6|(Ir=pr.indexOf(br.charAt(Ar++))),Dr[kr++]=mr,yr!==64&&(Dr[kr++]=_r),Ir!==64&&(Dr[kr++]=vr);return Dr}},{"./support":30,"./utils":32}],2:[function(ar,or,ur){var lr=ar("./external"),xr=ar("./stream/DataWorker"),pr=ar("./stream/Crc32Probe"),br=ar("./stream/DataLengthProbe");function mr(_r,vr,Er,yr,Ir){this.compressedSize=_r,this.uncompressedSize=vr,this.crc32=Er,this.compression=yr,this.compressedContent=Ir}mr.prototype={getContentWorker:function(){var _r=new xr(lr.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new br("data_length")),vr=this;return _r.on("end",function(){if(this.streamInfo.data_length!==vr.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),_r},getCompressedWorker:function(){return new xr(lr.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},mr.createWorkerFrom=function(_r,vr,Er){return _r.pipe(new pr).pipe(new br("uncompressedSize")).pipe(vr.compressWorker(Er)).pipe(new br("compressedSize")).withStreamInfo("compression",vr)},or.exports=mr},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(ar,or,ur){var lr=ar("./stream/GenericWorker");ur.STORE={magic:"\0\0",compressWorker:function(){return new lr("STORE compression")},uncompressWorker:function(){return new lr("STORE decompression")}},ur.DEFLATE=ar("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(ar,or,ur){var lr=ar("./utils"),xr=function(){for(var pr,br=[],mr=0;mr<256;mr++){pr=mr;for(var _r=0;_r<8;_r++)pr=1&pr?3988292384^pr>>>1:pr>>>1;br[mr]=pr}return br}();or.exports=function(pr,br){return pr!==void 0&&pr.length?lr.getTypeOf(pr)!=="string"?function(mr,_r,vr,Er){var yr=xr,Ir=Er+vr;mr^=-1;for(var Ar=Er;Ar<Ir;Ar++)mr=mr>>>8^yr[255&(mr^_r[Ar])];return-1^mr}(0|br,pr,pr.length,0):function(mr,_r,vr,Er){var yr=xr,Ir=Er+vr;mr^=-1;for(var Ar=Er;Ar<Ir;Ar++)mr=mr>>>8^yr[255&(mr^_r.charCodeAt(Ar))];return-1^mr}(0|br,pr,pr.length,0):0}},{"./utils":32}],5:[function(ar,or,ur){ur.base64=!1,ur.binary=!1,ur.dir=!1,ur.createFolders=!0,ur.date=null,ur.compression=null,ur.compressionOptions=null,ur.comment=null,ur.unixPermissions=null,ur.dosPermissions=null},{}],6:[function(ar,or,ur){var lr=null;lr=typeof Promise<"u"?Promise:ar("lie"),or.exports={Promise:lr}},{lie:37}],7:[function(ar,or,ur){var lr=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",xr=ar("pako"),pr=ar("./utils"),br=ar("./stream/GenericWorker"),mr=lr?"uint8array":"array";function _r(vr,Er){br.call(this,"FlateWorker/"+vr),this._pako=null,this._pakoAction=vr,this._pakoOptions=Er,this.meta={}}ur.magic="\b\0",pr.inherits(_r,br),_r.prototype.processChunk=function(vr){this.meta=vr.meta,this._pako===null&&this._createPako(),this._pako.push(pr.transformTo(mr,vr.data),!1)},_r.prototype.flush=function(){br.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},_r.prototype.cleanUp=function(){br.prototype.cleanUp.call(this),this._pako=null},_r.prototype._createPako=function(){this._pako=new xr[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var vr=this;this._pako.onData=function(Er){vr.push({data:Er,meta:vr.meta})}},ur.compressWorker=function(vr){return new _r("Deflate",vr)},ur.uncompressWorker=function(){return new _r("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(ar,or,ur){function lr(yr,Ir){var Ar,kr="";for(Ar=0;Ar<Ir;Ar++)kr+=String.fromCharCode(255&yr),yr>>>=8;return kr}function xr(yr,Ir,Ar,kr,Or,Dr){var Rr,Fr,Lr=yr.file,Hr=yr.compression,Ur=Dr!==mr.utf8encode,Zr=pr.transformTo("string",Dr(Lr.name)),Yr=pr.transformTo("string",mr.utf8encode(Lr.name)),jr=Lr.comment,Jr=pr.transformTo("string",Dr(jr)),Wr=pr.transformTo("string",mr.utf8encode(jr)),ni=Yr.length!==Lr.name.length,Mr=Wr.length!==jr.length,hi="",Ei="",_i="",Fi=Lr.dir,si=Lr.date,ci={crc32:0,compressedSize:0,uncompressedSize:0};Ir&&!Ar||(ci.crc32=yr.crc32,ci.compressedSize=yr.compressedSize,ci.uncompressedSize=yr.uncompressedSize);var $r=0;Ir&&($r|=8),Ur||!ni&&!Mr||($r|=2048);var ei=0,pi=0;Fi&&(ei|=16),Or==="UNIX"?(pi=798,ei|=function(bi,qi){var Gi=bi;return bi||(Gi=qi?16893:33204),(65535&Gi)<<16}(Lr.unixPermissions,Fi)):(pi=20,ei|=function(bi){return 63&(bi||0)}(Lr.dosPermissions)),Rr=si.getUTCHours(),Rr<<=6,Rr|=si.getUTCMinutes(),Rr<<=5,Rr|=si.getUTCSeconds()/2,Fr=si.getUTCFullYear()-1980,Fr<<=4,Fr|=si.getUTCMonth()+1,Fr<<=5,Fr|=si.getUTCDate(),ni&&(Ei=lr(1,1)+lr(_r(Zr),4)+Yr,hi+="up"+lr(Ei.length,2)+Ei),Mr&&(_i=lr(1,1)+lr(_r(Jr),4)+Wr,hi+="uc"+lr(_i.length,2)+_i);var ui="";return ui+=`
\0`,ui+=lr($r,2),ui+=Hr.magic,ui+=lr(Rr,2),ui+=lr(Fr,2),ui+=lr(ci.crc32,4),ui+=lr(ci.compressedSize,4),ui+=lr(ci.uncompressedSize,4),ui+=lr(Zr.length,2),ui+=lr(hi.length,2),{fileRecord:vr.LOCAL_FILE_HEADER+ui+Zr+hi,dirRecord:vr.CENTRAL_FILE_HEADER+lr(pi,2)+ui+lr(Jr.length,2)+"\0\0\0\0"+lr(ei,4)+lr(kr,4)+Zr+hi+Jr}}var pr=ar("../utils"),br=ar("../stream/GenericWorker"),mr=ar("../utf8"),_r=ar("../crc32"),vr=ar("../signature");function Er(yr,Ir,Ar,kr){br.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=Ir,this.zipPlatform=Ar,this.encodeFileName=kr,this.streamFiles=yr,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}pr.inherits(Er,br),Er.prototype.push=function(yr){var Ir=yr.meta.percent||0,Ar=this.entriesCount,kr=this._sources.length;this.accumulate?this.contentBuffer.push(yr):(this.bytesWritten+=yr.data.length,br.prototype.push.call(this,{data:yr.data,meta:{currentFile:this.currentFile,percent:Ar?(Ir+100*(Ar-kr-1))/Ar:100}}))},Er.prototype.openedSource=function(yr){this.currentSourceOffset=this.bytesWritten,this.currentFile=yr.file.name;var Ir=this.streamFiles&&!yr.file.dir;if(Ir){var Ar=xr(yr,Ir,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:Ar.fileRecord,meta:{percent:0}})}else this.accumulate=!0},Er.prototype.closedSource=function(yr){this.accumulate=!1;var Ir=this.streamFiles&&!yr.file.dir,Ar=xr(yr,Ir,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(Ar.dirRecord),Ir)this.push({data:function(kr){return vr.DATA_DESCRIPTOR+lr(kr.crc32,4)+lr(kr.compressedSize,4)+lr(kr.uncompressedSize,4)}(yr),meta:{percent:100}});else for(this.push({data:Ar.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},Er.prototype.flush=function(){for(var yr=this.bytesWritten,Ir=0;Ir<this.dirRecords.length;Ir++)this.push({data:this.dirRecords[Ir],meta:{percent:100}});var Ar=this.bytesWritten-yr,kr=function(Or,Dr,Rr,Fr,Lr){var Hr=pr.transformTo("string",Lr(Fr));return vr.CENTRAL_DIRECTORY_END+"\0\0\0\0"+lr(Or,2)+lr(Or,2)+lr(Dr,4)+lr(Rr,4)+lr(Hr.length,2)+Hr}(this.dirRecords.length,Ar,yr,this.zipComment,this.encodeFileName);this.push({data:kr,meta:{percent:100}})},Er.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},Er.prototype.registerPrevious=function(yr){this._sources.push(yr);var Ir=this;return yr.on("data",function(Ar){Ir.processChunk(Ar)}),yr.on("end",function(){Ir.closedSource(Ir.previous.streamInfo),Ir._sources.length?Ir.prepareNextSource():Ir.end()}),yr.on("error",function(Ar){Ir.error(Ar)}),this},Er.prototype.resume=function(){return!!br.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},Er.prototype.error=function(yr){var Ir=this._sources;if(!br.prototype.error.call(this,yr))return!1;for(var Ar=0;Ar<Ir.length;Ar++)try{Ir[Ar].error(yr)}catch{}return!0},Er.prototype.lock=function(){br.prototype.lock.call(this);for(var yr=this._sources,Ir=0;Ir<yr.length;Ir++)yr[Ir].lock()},or.exports=Er},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(ar,or,ur){var lr=ar("../compressions"),xr=ar("./ZipFileWorker");ur.generateWorker=function(pr,br,mr){var _r=new xr(br.streamFiles,mr,br.platform,br.encodeFileName),vr=0;try{pr.forEach(function(Er,yr){vr++;var Ir=function(Dr,Rr){var Fr=Dr||Rr,Lr=lr[Fr];if(!Lr)throw new Error(Fr+" is not a valid compression method !");return Lr}(yr.options.compression,br.compression),Ar=yr.options.compressionOptions||br.compressionOptions||{},kr=yr.dir,Or=yr.date;yr._compressWorker(Ir,Ar).withStreamInfo("file",{name:Er,dir:kr,date:Or,comment:yr.comment||"",unixPermissions:yr.unixPermissions,dosPermissions:yr.dosPermissions}).pipe(_r)}),_r.entriesCount=vr}catch(Er){_r.error(Er)}return _r}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(ar,or,ur){function lr(){if(!(this instanceof lr))return new lr;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var xr=new lr;for(var pr in this)typeof this[pr]!="function"&&(xr[pr]=this[pr]);return xr}}(lr.prototype=ar("./object")).loadAsync=ar("./load"),lr.support=ar("./support"),lr.defaults=ar("./defaults"),lr.version="3.10.1",lr.loadAsync=function(xr,pr){return new lr().loadAsync(xr,pr)},lr.external=ar("./external"),or.exports=lr},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(ar,or,ur){var lr=ar("./utils"),xr=ar("./external"),pr=ar("./utf8"),br=ar("./zipEntries"),mr=ar("./stream/Crc32Probe"),_r=ar("./nodejsUtils");function vr(Er){return new xr.Promise(function(yr,Ir){var Ar=Er.decompressed.getContentWorker().pipe(new mr);Ar.on("error",function(kr){Ir(kr)}).on("end",function(){Ar.streamInfo.crc32!==Er.decompressed.crc32?Ir(new Error("Corrupted zip : CRC32 mismatch")):yr()}).resume()})}or.exports=function(Er,yr){var Ir=this;return yr=lr.extend(yr||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:pr.utf8decode}),_r.isNode&&_r.isStream(Er)?xr.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):lr.prepareContent("the loaded zip file",Er,!0,yr.optimizedBinaryString,yr.base64).then(function(Ar){var kr=new br(yr);return kr.load(Ar),kr}).then(function(Ar){var kr=[xr.Promise.resolve(Ar)],Or=Ar.files;if(yr.checkCRC32)for(var Dr=0;Dr<Or.length;Dr++)kr.push(vr(Or[Dr]));return xr.Promise.all(kr)}).then(function(Ar){for(var kr=Ar.shift(),Or=kr.files,Dr=0;Dr<Or.length;Dr++){var Rr=Or[Dr],Fr=Rr.fileNameStr,Lr=lr.resolve(Rr.fileNameStr);Ir.file(Lr,Rr.decompressed,{binary:!0,optimizedBinaryString:!0,date:Rr.date,dir:Rr.dir,comment:Rr.fileCommentStr.length?Rr.fileCommentStr:null,unixPermissions:Rr.unixPermissions,dosPermissions:Rr.dosPermissions,createFolders:yr.createFolders}),Rr.dir||(Ir.file(Lr).unsafeOriginalName=Fr)}return kr.zipComment.length&&(Ir.comment=kr.zipComment),Ir})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(ar,or,ur){var lr=ar("../utils"),xr=ar("../stream/GenericWorker");function pr(br,mr){xr.call(this,"Nodejs stream input adapter for "+br),this._upstreamEnded=!1,this._bindStream(mr)}lr.inherits(pr,xr),pr.prototype._bindStream=function(br){var mr=this;(this._stream=br).pause(),br.on("data",function(_r){mr.push({data:_r,meta:{percent:0}})}).on("error",function(_r){mr.isPaused?this.generatedError=_r:mr.error(_r)}).on("end",function(){mr.isPaused?mr._upstreamEnded=!0:mr.end()})},pr.prototype.pause=function(){return!!xr.prototype.pause.call(this)&&(this._stream.pause(),!0)},pr.prototype.resume=function(){return!!xr.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},or.exports=pr},{"../stream/GenericWorker":28,"../utils":32}],13:[function(ar,or,ur){var lr=ar("readable-stream").Readable;function xr(pr,br,mr){lr.call(this,br),this._helper=pr;var _r=this;pr.on("data",function(vr,Er){_r.push(vr)||_r._helper.pause(),mr&&mr(Er)}).on("error",function(vr){_r.emit("error",vr)}).on("end",function(){_r.push(null)})}ar("../utils").inherits(xr,lr),xr.prototype._read=function(){this._helper.resume()},or.exports=xr},{"../utils":32,"readable-stream":16}],14:[function(ar,or,ur){or.exports={isNode:typeof Buffer<"u",newBufferFrom:function(lr,xr){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(lr,xr);if(typeof lr=="number")throw new Error('The "data" argument must not be a number');return new Buffer(lr,xr)},allocBuffer:function(lr){if(Buffer.alloc)return Buffer.alloc(lr);var xr=new Buffer(lr);return xr.fill(0),xr},isBuffer:function(lr){return Buffer.isBuffer(lr)},isStream:function(lr){return lr&&typeof lr.on=="function"&&typeof lr.pause=="function"&&typeof lr.resume=="function"}}},{}],15:[function(ar,or,ur){function lr(Lr,Hr,Ur){var Zr,Yr=pr.getTypeOf(Hr),jr=pr.extend(Ur||{},_r);jr.date=jr.date||new Date,jr.compression!==null&&(jr.compression=jr.compression.toUpperCase()),typeof jr.unixPermissions=="string"&&(jr.unixPermissions=parseInt(jr.unixPermissions,8)),jr.unixPermissions&&16384&jr.unixPermissions&&(jr.dir=!0),jr.dosPermissions&&16&jr.dosPermissions&&(jr.dir=!0),jr.dir&&(Lr=Or(Lr)),jr.createFolders&&(Zr=kr(Lr))&&Dr.call(this,Zr,!0);var Jr=Yr==="string"&&jr.binary===!1&&jr.base64===!1;Ur&&Ur.binary!==void 0||(jr.binary=!Jr),(Hr instanceof vr&&Hr.uncompressedSize===0||jr.dir||!Hr||Hr.length===0)&&(jr.base64=!1,jr.binary=!0,Hr="",jr.compression="STORE",Yr="string");var Wr=null;Wr=Hr instanceof vr||Hr instanceof br?Hr:Ir.isNode&&Ir.isStream(Hr)?new Ar(Lr,Hr):pr.prepareContent(Lr,Hr,jr.binary,jr.optimizedBinaryString,jr.base64);var ni=new Er(Lr,Wr,jr);this.files[Lr]=ni}var xr=ar("./utf8"),pr=ar("./utils"),br=ar("./stream/GenericWorker"),mr=ar("./stream/StreamHelper"),_r=ar("./defaults"),vr=ar("./compressedObject"),Er=ar("./zipObject"),yr=ar("./generate"),Ir=ar("./nodejsUtils"),Ar=ar("./nodejs/NodejsStreamInputAdapter"),kr=function(Lr){Lr.slice(-1)==="/"&&(Lr=Lr.substring(0,Lr.length-1));var Hr=Lr.lastIndexOf("/");return 0<Hr?Lr.substring(0,Hr):""},Or=function(Lr){return Lr.slice(-1)!=="/"&&(Lr+="/"),Lr},Dr=function(Lr,Hr){return Hr=Hr!==void 0?Hr:_r.createFolders,Lr=Or(Lr),this.files[Lr]||lr.call(this,Lr,null,{dir:!0,createFolders:Hr}),this.files[Lr]};function Rr(Lr){return Object.prototype.toString.call(Lr)==="[object RegExp]"}var Fr={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(Lr){var Hr,Ur,Zr;for(Hr in this.files)Zr=this.files[Hr],(Ur=Hr.slice(this.root.length,Hr.length))&&Hr.slice(0,this.root.length)===this.root&&Lr(Ur,Zr)},filter:function(Lr){var Hr=[];return this.forEach(function(Ur,Zr){Lr(Ur,Zr)&&Hr.push(Zr)}),Hr},file:function(Lr,Hr,Ur){if(arguments.length!==1)return Lr=this.root+Lr,lr.call(this,Lr,Hr,Ur),this;if(Rr(Lr)){var Zr=Lr;return this.filter(function(jr,Jr){return!Jr.dir&&Zr.test(jr)})}var Yr=this.files[this.root+Lr];return Yr&&!Yr.dir?Yr:null},folder:function(Lr){if(!Lr)return this;if(Rr(Lr))return this.filter(function(Yr,jr){return jr.dir&&Lr.test(Yr)});var Hr=this.root+Lr,Ur=Dr.call(this,Hr),Zr=this.clone();return Zr.root=Ur.name,Zr},remove:function(Lr){Lr=this.root+Lr;var Hr=this.files[Lr];if(Hr||(Lr.slice(-1)!=="/"&&(Lr+="/"),Hr=this.files[Lr]),Hr&&!Hr.dir)delete this.files[Lr];else for(var Ur=this.filter(function(Yr,jr){return jr.name.slice(0,Lr.length)===Lr}),Zr=0;Zr<Ur.length;Zr++)delete this.files[Ur[Zr].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(Lr){var Hr,Ur={};try{if((Ur=pr.extend(Lr||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:xr.utf8encode})).type=Ur.type.toLowerCase(),Ur.compression=Ur.compression.toUpperCase(),Ur.type==="binarystring"&&(Ur.type="string"),!Ur.type)throw new Error("No output type specified.");pr.checkSupport(Ur.type),Ur.platform!=="darwin"&&Ur.platform!=="freebsd"&&Ur.platform!=="linux"&&Ur.platform!=="sunos"||(Ur.platform="UNIX"),Ur.platform==="win32"&&(Ur.platform="DOS");var Zr=Ur.comment||this.comment||"";Hr=yr.generateWorker(this,Ur,Zr)}catch(Yr){(Hr=new br("error")).error(Yr)}return new mr(Hr,Ur.type||"string",Ur.mimeType)},generateAsync:function(Lr,Hr){return this.generateInternalStream(Lr).accumulate(Hr)},generateNodeStream:function(Lr,Hr){return(Lr=Lr||{}).type||(Lr.type="nodebuffer"),this.generateInternalStream(Lr).toNodejsStream(Hr)}};or.exports=Fr},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(ar,or,ur){or.exports=ar("stream")},{stream:void 0}],17:[function(ar,or,ur){var lr=ar("./DataReader");function xr(pr){lr.call(this,pr);for(var br=0;br<this.data.length;br++)pr[br]=255&pr[br]}ar("../utils").inherits(xr,lr),xr.prototype.byteAt=function(pr){return this.data[this.zero+pr]},xr.prototype.lastIndexOfSignature=function(pr){for(var br=pr.charCodeAt(0),mr=pr.charCodeAt(1),_r=pr.charCodeAt(2),vr=pr.charCodeAt(3),Er=this.length-4;0<=Er;--Er)if(this.data[Er]===br&&this.data[Er+1]===mr&&this.data[Er+2]===_r&&this.data[Er+3]===vr)return Er-this.zero;return-1},xr.prototype.readAndCheckSignature=function(pr){var br=pr.charCodeAt(0),mr=pr.charCodeAt(1),_r=pr.charCodeAt(2),vr=pr.charCodeAt(3),Er=this.readData(4);return br===Er[0]&&mr===Er[1]&&_r===Er[2]&&vr===Er[3]},xr.prototype.readData=function(pr){if(this.checkOffset(pr),pr===0)return[];var br=this.data.slice(this.zero+this.index,this.zero+this.index+pr);return this.index+=pr,br},or.exports=xr},{"../utils":32,"./DataReader":18}],18:[function(ar,or,ur){var lr=ar("../utils");function xr(pr){this.data=pr,this.length=pr.length,this.index=0,this.zero=0}xr.prototype={checkOffset:function(pr){this.checkIndex(this.index+pr)},checkIndex:function(pr){if(this.length<this.zero+pr||pr<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+pr+"). Corrupted zip ?")},setIndex:function(pr){this.checkIndex(pr),this.index=pr},skip:function(pr){this.setIndex(this.index+pr)},byteAt:function(){},readInt:function(pr){var br,mr=0;for(this.checkOffset(pr),br=this.index+pr-1;br>=this.index;br--)mr=(mr<<8)+this.byteAt(br);return this.index+=pr,mr},readString:function(pr){return lr.transformTo("string",this.readData(pr))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var pr=this.readInt(4);return new Date(Date.UTC(1980+(pr>>25&127),(pr>>21&15)-1,pr>>16&31,pr>>11&31,pr>>5&63,(31&pr)<<1))}},or.exports=xr},{"../utils":32}],19:[function(ar,or,ur){var lr=ar("./Uint8ArrayReader");function xr(pr){lr.call(this,pr)}ar("../utils").inherits(xr,lr),xr.prototype.readData=function(pr){this.checkOffset(pr);var br=this.data.slice(this.zero+this.index,this.zero+this.index+pr);return this.index+=pr,br},or.exports=xr},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(ar,or,ur){var lr=ar("./DataReader");function xr(pr){lr.call(this,pr)}ar("../utils").inherits(xr,lr),xr.prototype.byteAt=function(pr){return this.data.charCodeAt(this.zero+pr)},xr.prototype.lastIndexOfSignature=function(pr){return this.data.lastIndexOf(pr)-this.zero},xr.prototype.readAndCheckSignature=function(pr){return pr===this.readData(4)},xr.prototype.readData=function(pr){this.checkOffset(pr);var br=this.data.slice(this.zero+this.index,this.zero+this.index+pr);return this.index+=pr,br},or.exports=xr},{"../utils":32,"./DataReader":18}],21:[function(ar,or,ur){var lr=ar("./ArrayReader");function xr(pr){lr.call(this,pr)}ar("../utils").inherits(xr,lr),xr.prototype.readData=function(pr){if(this.checkOffset(pr),pr===0)return new Uint8Array(0);var br=this.data.subarray(this.zero+this.index,this.zero+this.index+pr);return this.index+=pr,br},or.exports=xr},{"../utils":32,"./ArrayReader":17}],22:[function(ar,or,ur){var lr=ar("../utils"),xr=ar("../support"),pr=ar("./ArrayReader"),br=ar("./StringReader"),mr=ar("./NodeBufferReader"),_r=ar("./Uint8ArrayReader");or.exports=function(vr){var Er=lr.getTypeOf(vr);return lr.checkSupport(Er),Er!=="string"||xr.uint8array?Er==="nodebuffer"?new mr(vr):xr.uint8array?new _r(lr.transformTo("uint8array",vr)):new pr(lr.transformTo("array",vr)):new br(vr)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(ar,or,ur){ur.LOCAL_FILE_HEADER="PK",ur.CENTRAL_FILE_HEADER="PK",ur.CENTRAL_DIRECTORY_END="PK",ur.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",ur.ZIP64_CENTRAL_DIRECTORY_END="PK",ur.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(ar,or,ur){var lr=ar("./GenericWorker"),xr=ar("../utils");function pr(br){lr.call(this,"ConvertWorker to "+br),this.destType=br}xr.inherits(pr,lr),pr.prototype.processChunk=function(br){this.push({data:xr.transformTo(this.destType,br.data),meta:br.meta})},or.exports=pr},{"../utils":32,"./GenericWorker":28}],25:[function(ar,or,ur){var lr=ar("./GenericWorker"),xr=ar("../crc32");function pr(){lr.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}ar("../utils").inherits(pr,lr),pr.prototype.processChunk=function(br){this.streamInfo.crc32=xr(br.data,this.streamInfo.crc32||0),this.push(br)},or.exports=pr},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(ar,or,ur){var lr=ar("../utils"),xr=ar("./GenericWorker");function pr(br){xr.call(this,"DataLengthProbe for "+br),this.propName=br,this.withStreamInfo(br,0)}lr.inherits(pr,xr),pr.prototype.processChunk=function(br){if(br){var mr=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=mr+br.data.length}xr.prototype.processChunk.call(this,br)},or.exports=pr},{"../utils":32,"./GenericWorker":28}],27:[function(ar,or,ur){var lr=ar("../utils"),xr=ar("./GenericWorker");function pr(br){xr.call(this,"DataWorker");var mr=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,br.then(function(_r){mr.dataIsReady=!0,mr.data=_r,mr.max=_r&&_r.length||0,mr.type=lr.getTypeOf(_r),mr.isPaused||mr._tickAndRepeat()},function(_r){mr.error(_r)})}lr.inherits(pr,xr),pr.prototype.cleanUp=function(){xr.prototype.cleanUp.call(this),this.data=null},pr.prototype.resume=function(){return!!xr.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,lr.delay(this._tickAndRepeat,[],this)),!0)},pr.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(lr.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},pr.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var br=null,mr=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":br=this.data.substring(this.index,mr);break;case"uint8array":br=this.data.subarray(this.index,mr);break;case"array":case"nodebuffer":br=this.data.slice(this.index,mr)}return this.index=mr,this.push({data:br,meta:{percent:this.max?this.index/this.max*100:0}})},or.exports=pr},{"../utils":32,"./GenericWorker":28}],28:[function(ar,or,ur){function lr(xr){this.name=xr||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}lr.prototype={push:function(xr){this.emit("data",xr)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(xr){this.emit("error",xr)}return!0},error:function(xr){return!this.isFinished&&(this.isPaused?this.generatedError=xr:(this.isFinished=!0,this.emit("error",xr),this.previous&&this.previous.error(xr),this.cleanUp()),!0)},on:function(xr,pr){return this._listeners[xr].push(pr),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(xr,pr){if(this._listeners[xr])for(var br=0;br<this._listeners[xr].length;br++)this._listeners[xr][br].call(this,pr)},pipe:function(xr){return xr.registerPrevious(this)},registerPrevious:function(xr){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=xr.streamInfo,this.mergeStreamInfo(),this.previous=xr;var pr=this;return xr.on("data",function(br){pr.processChunk(br)}),xr.on("end",function(){pr.end()}),xr.on("error",function(br){pr.error(br)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var xr=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),xr=!0),this.previous&&this.previous.resume(),!xr},flush:function(){},processChunk:function(xr){this.push(xr)},withStreamInfo:function(xr,pr){return this.extraStreamInfo[xr]=pr,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var xr in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,xr)&&(this.streamInfo[xr]=this.extraStreamInfo[xr])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var xr="Worker "+this.name;return this.previous?this.previous+" -> "+xr:xr}},or.exports=lr},{}],29:[function(ar,or,ur){var lr=ar("../utils"),xr=ar("./ConvertWorker"),pr=ar("./GenericWorker"),br=ar("../base64"),mr=ar("../support"),_r=ar("../external"),vr=null;if(mr.nodestream)try{vr=ar("../nodejs/NodejsStreamOutputAdapter")}catch{}function Er(Ir,Ar){return new _r.Promise(function(kr,Or){var Dr=[],Rr=Ir._internalType,Fr=Ir._outputType,Lr=Ir._mimeType;Ir.on("data",function(Hr,Ur){Dr.push(Hr),Ar&&Ar(Ur)}).on("error",function(Hr){Dr=[],Or(Hr)}).on("end",function(){try{var Hr=function(Ur,Zr,Yr){switch(Ur){case"blob":return lr.newBlob(lr.transformTo("arraybuffer",Zr),Yr);case"base64":return br.encode(Zr);default:return lr.transformTo(Ur,Zr)}}(Fr,function(Ur,Zr){var Yr,jr=0,Jr=null,Wr=0;for(Yr=0;Yr<Zr.length;Yr++)Wr+=Zr[Yr].length;switch(Ur){case"string":return Zr.join("");case"array":return Array.prototype.concat.apply([],Zr);case"uint8array":for(Jr=new Uint8Array(Wr),Yr=0;Yr<Zr.length;Yr++)Jr.set(Zr[Yr],jr),jr+=Zr[Yr].length;return Jr;case"nodebuffer":return Buffer.concat(Zr);default:throw new Error("concat : unsupported type '"+Ur+"'")}}(Rr,Dr),Lr);kr(Hr)}catch(Ur){Or(Ur)}Dr=[]}).resume()})}function yr(Ir,Ar,kr){var Or=Ar;switch(Ar){case"blob":case"arraybuffer":Or="uint8array";break;case"base64":Or="string"}try{this._internalType=Or,this._outputType=Ar,this._mimeType=kr,lr.checkSupport(Or),this._worker=Ir.pipe(new xr(Or)),Ir.lock()}catch(Dr){this._worker=new pr("error"),this._worker.error(Dr)}}yr.prototype={accumulate:function(Ir){return Er(this,Ir)},on:function(Ir,Ar){var kr=this;return Ir==="data"?this._worker.on(Ir,function(Or){Ar.call(kr,Or.data,Or.meta)}):this._worker.on(Ir,function(){lr.delay(Ar,arguments,kr)}),this},resume:function(){return lr.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(Ir){if(lr.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new vr(this,{objectMode:this._outputType!=="nodebuffer"},Ir)}},or.exports=yr},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(ar,or,ur){if(ur.base64=!0,ur.array=!0,ur.string=!0,ur.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",ur.nodebuffer=typeof Buffer<"u",ur.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")ur.blob=!1;else{var lr=new ArrayBuffer(0);try{ur.blob=new Blob([lr],{type:"application/zip"}).size===0}catch{try{var xr=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);xr.append(lr),ur.blob=xr.getBlob("application/zip").size===0}catch{ur.blob=!1}}}try{ur.nodestream=!!ar("readable-stream").Readable}catch{ur.nodestream=!1}},{"readable-stream":16}],31:[function(ar,or,ur){for(var lr=ar("./utils"),xr=ar("./support"),pr=ar("./nodejsUtils"),br=ar("./stream/GenericWorker"),mr=new Array(256),_r=0;_r<256;_r++)mr[_r]=252<=_r?6:248<=_r?5:240<=_r?4:224<=_r?3:192<=_r?2:1;mr[254]=mr[254]=1;function vr(){br.call(this,"utf-8 decode"),this.leftOver=null}function Er(){br.call(this,"utf-8 encode")}ur.utf8encode=function(yr){return xr.nodebuffer?pr.newBufferFrom(yr,"utf-8"):function(Ir){var Ar,kr,Or,Dr,Rr,Fr=Ir.length,Lr=0;for(Dr=0;Dr<Fr;Dr++)(64512&(kr=Ir.charCodeAt(Dr)))==55296&&Dr+1<Fr&&(64512&(Or=Ir.charCodeAt(Dr+1)))==56320&&(kr=65536+(kr-55296<<10)+(Or-56320),Dr++),Lr+=kr<128?1:kr<2048?2:kr<65536?3:4;for(Ar=xr.uint8array?new Uint8Array(Lr):new Array(Lr),Dr=Rr=0;Rr<Lr;Dr++)(64512&(kr=Ir.charCodeAt(Dr)))==55296&&Dr+1<Fr&&(64512&(Or=Ir.charCodeAt(Dr+1)))==56320&&(kr=65536+(kr-55296<<10)+(Or-56320),Dr++),kr<128?Ar[Rr++]=kr:(kr<2048?Ar[Rr++]=192|kr>>>6:(kr<65536?Ar[Rr++]=224|kr>>>12:(Ar[Rr++]=240|kr>>>18,Ar[Rr++]=128|kr>>>12&63),Ar[Rr++]=128|kr>>>6&63),Ar[Rr++]=128|63&kr);return Ar}(yr)},ur.utf8decode=function(yr){return xr.nodebuffer?lr.transformTo("nodebuffer",yr).toString("utf-8"):function(Ir){var Ar,kr,Or,Dr,Rr=Ir.length,Fr=new Array(2*Rr);for(Ar=kr=0;Ar<Rr;)if((Or=Ir[Ar++])<128)Fr[kr++]=Or;else if(4<(Dr=mr[Or]))Fr[kr++]=65533,Ar+=Dr-1;else{for(Or&=Dr===2?31:Dr===3?15:7;1<Dr&&Ar<Rr;)Or=Or<<6|63&Ir[Ar++],Dr--;1<Dr?Fr[kr++]=65533:Or<65536?Fr[kr++]=Or:(Or-=65536,Fr[kr++]=55296|Or>>10&1023,Fr[kr++]=56320|1023&Or)}return Fr.length!==kr&&(Fr.subarray?Fr=Fr.subarray(0,kr):Fr.length=kr),lr.applyFromCharCode(Fr)}(yr=lr.transformTo(xr.uint8array?"uint8array":"array",yr))},lr.inherits(vr,br),vr.prototype.processChunk=function(yr){var Ir=lr.transformTo(xr.uint8array?"uint8array":"array",yr.data);if(this.leftOver&&this.leftOver.length){if(xr.uint8array){var Ar=Ir;(Ir=new Uint8Array(Ar.length+this.leftOver.length)).set(this.leftOver,0),Ir.set(Ar,this.leftOver.length)}else Ir=this.leftOver.concat(Ir);this.leftOver=null}var kr=function(Dr,Rr){var Fr;for((Rr=Rr||Dr.length)>Dr.length&&(Rr=Dr.length),Fr=Rr-1;0<=Fr&&(192&Dr[Fr])==128;)Fr--;return Fr<0||Fr===0?Rr:Fr+mr[Dr[Fr]]>Rr?Fr:Rr}(Ir),Or=Ir;kr!==Ir.length&&(xr.uint8array?(Or=Ir.subarray(0,kr),this.leftOver=Ir.subarray(kr,Ir.length)):(Or=Ir.slice(0,kr),this.leftOver=Ir.slice(kr,Ir.length))),this.push({data:ur.utf8decode(Or),meta:yr.meta})},vr.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:ur.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},ur.Utf8DecodeWorker=vr,lr.inherits(Er,br),Er.prototype.processChunk=function(yr){this.push({data:ur.utf8encode(yr.data),meta:yr.meta})},ur.Utf8EncodeWorker=Er},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(ar,or,ur){var lr=ar("./support"),xr=ar("./base64"),pr=ar("./nodejsUtils"),br=ar("./external");function mr(Ar){return Ar}function _r(Ar,kr){for(var Or=0;Or<Ar.length;++Or)kr[Or]=255&Ar.charCodeAt(Or);return kr}ar("setimmediate"),ur.newBlob=function(Ar,kr){ur.checkSupport("blob");try{return new Blob([Ar],{type:kr})}catch{try{var Or=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return Or.append(Ar),Or.getBlob(kr)}catch{throw new Error("Bug : can't construct the Blob.")}}};var vr={stringifyByChunk:function(Ar,kr,Or){var Dr=[],Rr=0,Fr=Ar.length;if(Fr<=Or)return String.fromCharCode.apply(null,Ar);for(;Rr<Fr;)kr==="array"||kr==="nodebuffer"?Dr.push(String.fromCharCode.apply(null,Ar.slice(Rr,Math.min(Rr+Or,Fr)))):Dr.push(String.fromCharCode.apply(null,Ar.subarray(Rr,Math.min(Rr+Or,Fr)))),Rr+=Or;return Dr.join("")},stringifyByChar:function(Ar){for(var kr="",Or=0;Or<Ar.length;Or++)kr+=String.fromCharCode(Ar[Or]);return kr},applyCanBeUsed:{uint8array:function(){try{return lr.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return lr.nodebuffer&&String.fromCharCode.apply(null,pr.allocBuffer(1)).length===1}catch{return!1}}()}};function Er(Ar){var kr=65536,Or=ur.getTypeOf(Ar),Dr=!0;if(Or==="uint8array"?Dr=vr.applyCanBeUsed.uint8array:Or==="nodebuffer"&&(Dr=vr.applyCanBeUsed.nodebuffer),Dr)for(;1<kr;)try{return vr.stringifyByChunk(Ar,Or,kr)}catch{kr=Math.floor(kr/2)}return vr.stringifyByChar(Ar)}function yr(Ar,kr){for(var Or=0;Or<Ar.length;Or++)kr[Or]=Ar[Or];return kr}ur.applyFromCharCode=Er;var Ir={};Ir.string={string:mr,array:function(Ar){return _r(Ar,new Array(Ar.length))},arraybuffer:function(Ar){return Ir.string.uint8array(Ar).buffer},uint8array:function(Ar){return _r(Ar,new Uint8Array(Ar.length))},nodebuffer:function(Ar){return _r(Ar,pr.allocBuffer(Ar.length))}},Ir.array={string:Er,array:mr,arraybuffer:function(Ar){return new Uint8Array(Ar).buffer},uint8array:function(Ar){return new Uint8Array(Ar)},nodebuffer:function(Ar){return pr.newBufferFrom(Ar)}},Ir.arraybuffer={string:function(Ar){return Er(new Uint8Array(Ar))},array:function(Ar){return yr(new Uint8Array(Ar),new Array(Ar.byteLength))},arraybuffer:mr,uint8array:function(Ar){return new Uint8Array(Ar)},nodebuffer:function(Ar){return pr.newBufferFrom(new Uint8Array(Ar))}},Ir.uint8array={string:Er,array:function(Ar){return yr(Ar,new Array(Ar.length))},arraybuffer:function(Ar){return Ar.buffer},uint8array:mr,nodebuffer:function(Ar){return pr.newBufferFrom(Ar)}},Ir.nodebuffer={string:Er,array:function(Ar){return yr(Ar,new Array(Ar.length))},arraybuffer:function(Ar){return Ir.nodebuffer.uint8array(Ar).buffer},uint8array:function(Ar){return yr(Ar,new Uint8Array(Ar.length))},nodebuffer:mr},ur.transformTo=function(Ar,kr){if(kr=kr||"",!Ar)return kr;ur.checkSupport(Ar);var Or=ur.getTypeOf(kr);return Ir[Or][Ar](kr)},ur.resolve=function(Ar){for(var kr=Ar.split("/"),Or=[],Dr=0;Dr<kr.length;Dr++){var Rr=kr[Dr];Rr==="."||Rr===""&&Dr!==0&&Dr!==kr.length-1||(Rr===".."?Or.pop():Or.push(Rr))}return Or.join("/")},ur.getTypeOf=function(Ar){return typeof Ar=="string"?"string":Object.prototype.toString.call(Ar)==="[object Array]"?"array":lr.nodebuffer&&pr.isBuffer(Ar)?"nodebuffer":lr.uint8array&&Ar instanceof Uint8Array?"uint8array":lr.arraybuffer&&Ar instanceof ArrayBuffer?"arraybuffer":void 0},ur.checkSupport=function(Ar){if(!lr[Ar.toLowerCase()])throw new Error(Ar+" is not supported by this platform")},ur.MAX_VALUE_16BITS=65535,ur.MAX_VALUE_32BITS=-1,ur.pretty=function(Ar){var kr,Or,Dr="";for(Or=0;Or<(Ar||"").length;Or++)Dr+="\\x"+((kr=Ar.charCodeAt(Or))<16?"0":"")+kr.toString(16).toUpperCase();return Dr},ur.delay=function(Ar,kr,Or){setImmediate(function(){Ar.apply(Or||null,kr||[])})},ur.inherits=function(Ar,kr){function Or(){}Or.prototype=kr.prototype,Ar.prototype=new Or},ur.extend=function(){var Ar,kr,Or={};for(Ar=0;Ar<arguments.length;Ar++)for(kr in arguments[Ar])Object.prototype.hasOwnProperty.call(arguments[Ar],kr)&&Or[kr]===void 0&&(Or[kr]=arguments[Ar][kr]);return Or},ur.prepareContent=function(Ar,kr,Or,Dr,Rr){return br.Promise.resolve(kr).then(function(Fr){return lr.blob&&(Fr instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(Fr))!==-1)&&typeof FileReader<"u"?new br.Promise(function(Lr,Hr){var Ur=new FileReader;Ur.onload=function(Zr){Lr(Zr.target.result)},Ur.onerror=function(Zr){Hr(Zr.target.error)},Ur.readAsArrayBuffer(Fr)}):Fr}).then(function(Fr){var Lr=ur.getTypeOf(Fr);return Lr?(Lr==="arraybuffer"?Fr=ur.transformTo("uint8array",Fr):Lr==="string"&&(Rr?Fr=xr.decode(Fr):Or&&Dr!==!0&&(Fr=function(Hr){return _r(Hr,lr.uint8array?new Uint8Array(Hr.length):new Array(Hr.length))}(Fr))),Fr):br.Promise.reject(new Error("Can't read the data of '"+Ar+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(ar,or,ur){var lr=ar("./reader/readerFor"),xr=ar("./utils"),pr=ar("./signature"),br=ar("./zipEntry"),mr=ar("./support");function _r(vr){this.files=[],this.loadOptions=vr}_r.prototype={checkSignature:function(vr){if(!this.reader.readAndCheckSignature(vr)){this.reader.index-=4;var Er=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+xr.pretty(Er)+", expected "+xr.pretty(vr)+")")}},isSignature:function(vr,Er){var yr=this.reader.index;this.reader.setIndex(vr);var Ir=this.reader.readString(4)===Er;return this.reader.setIndex(yr),Ir},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var vr=this.reader.readData(this.zipCommentLength),Er=mr.uint8array?"uint8array":"array",yr=xr.transformTo(Er,vr);this.zipComment=this.loadOptions.decodeFileName(yr)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var vr,Er,yr,Ir=this.zip64EndOfCentralSize-44;0<Ir;)vr=this.reader.readInt(2),Er=this.reader.readInt(4),yr=this.reader.readData(Er),this.zip64ExtensibleData[vr]={id:vr,length:Er,value:yr}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var vr,Er;for(vr=0;vr<this.files.length;vr++)Er=this.files[vr],this.reader.setIndex(Er.localHeaderOffset),this.checkSignature(pr.LOCAL_FILE_HEADER),Er.readLocalPart(this.reader),Er.handleUTF8(),Er.processAttributes()},readCentralDir:function(){var vr;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(pr.CENTRAL_FILE_HEADER);)(vr=new br({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(vr);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var vr=this.reader.lastIndexOfSignature(pr.CENTRAL_DIRECTORY_END);if(vr<0)throw this.isSignature(0,pr.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(vr);var Er=vr;if(this.checkSignature(pr.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===xr.MAX_VALUE_16BITS||this.diskWithCentralDirStart===xr.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===xr.MAX_VALUE_16BITS||this.centralDirRecords===xr.MAX_VALUE_16BITS||this.centralDirSize===xr.MAX_VALUE_32BITS||this.centralDirOffset===xr.MAX_VALUE_32BITS){if(this.zip64=!0,(vr=this.reader.lastIndexOfSignature(pr.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(vr),this.checkSignature(pr.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,pr.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(pr.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(pr.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var yr=this.centralDirOffset+this.centralDirSize;this.zip64&&(yr+=20,yr+=12+this.zip64EndOfCentralSize);var Ir=Er-yr;if(0<Ir)this.isSignature(Er,pr.CENTRAL_FILE_HEADER)||(this.reader.zero=Ir);else if(Ir<0)throw new Error("Corrupted zip: missing "+Math.abs(Ir)+" bytes.")},prepareReader:function(vr){this.reader=lr(vr)},load:function(vr){this.prepareReader(vr),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},or.exports=_r},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(ar,or,ur){var lr=ar("./reader/readerFor"),xr=ar("./utils"),pr=ar("./compressedObject"),br=ar("./crc32"),mr=ar("./utf8"),_r=ar("./compressions"),vr=ar("./support");function Er(yr,Ir){this.options=yr,this.loadOptions=Ir}Er.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(yr){var Ir,Ar;if(yr.skip(22),this.fileNameLength=yr.readInt(2),Ar=yr.readInt(2),this.fileName=yr.readData(this.fileNameLength),yr.skip(Ar),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((Ir=function(kr){for(var Or in _r)if(Object.prototype.hasOwnProperty.call(_r,Or)&&_r[Or].magic===kr)return _r[Or];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+xr.pretty(this.compressionMethod)+" unknown (inner file : "+xr.transformTo("string",this.fileName)+")");this.decompressed=new pr(this.compressedSize,this.uncompressedSize,this.crc32,Ir,yr.readData(this.compressedSize))},readCentralPart:function(yr){this.versionMadeBy=yr.readInt(2),yr.skip(2),this.bitFlag=yr.readInt(2),this.compressionMethod=yr.readString(2),this.date=yr.readDate(),this.crc32=yr.readInt(4),this.compressedSize=yr.readInt(4),this.uncompressedSize=yr.readInt(4);var Ir=yr.readInt(2);if(this.extraFieldsLength=yr.readInt(2),this.fileCommentLength=yr.readInt(2),this.diskNumberStart=yr.readInt(2),this.internalFileAttributes=yr.readInt(2),this.externalFileAttributes=yr.readInt(4),this.localHeaderOffset=yr.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");yr.skip(Ir),this.readExtraFields(yr),this.parseZIP64ExtraField(yr),this.fileComment=yr.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var yr=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),yr==0&&(this.dosPermissions=63&this.externalFileAttributes),yr==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var yr=lr(this.extraFields[1].value);this.uncompressedSize===xr.MAX_VALUE_32BITS&&(this.uncompressedSize=yr.readInt(8)),this.compressedSize===xr.MAX_VALUE_32BITS&&(this.compressedSize=yr.readInt(8)),this.localHeaderOffset===xr.MAX_VALUE_32BITS&&(this.localHeaderOffset=yr.readInt(8)),this.diskNumberStart===xr.MAX_VALUE_32BITS&&(this.diskNumberStart=yr.readInt(4))}},readExtraFields:function(yr){var Ir,Ar,kr,Or=yr.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});yr.index+4<Or;)Ir=yr.readInt(2),Ar=yr.readInt(2),kr=yr.readData(Ar),this.extraFields[Ir]={id:Ir,length:Ar,value:kr};yr.setIndex(Or)},handleUTF8:function(){var yr=vr.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=mr.utf8decode(this.fileName),this.fileCommentStr=mr.utf8decode(this.fileComment);else{var Ir=this.findExtraFieldUnicodePath();if(Ir!==null)this.fileNameStr=Ir;else{var Ar=xr.transformTo(yr,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(Ar)}var kr=this.findExtraFieldUnicodeComment();if(kr!==null)this.fileCommentStr=kr;else{var Or=xr.transformTo(yr,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(Or)}}},findExtraFieldUnicodePath:function(){var yr=this.extraFields[28789];if(yr){var Ir=lr(yr.value);return Ir.readInt(1)!==1||br(this.fileName)!==Ir.readInt(4)?null:mr.utf8decode(Ir.readData(yr.length-5))}return null},findExtraFieldUnicodeComment:function(){var yr=this.extraFields[25461];if(yr){var Ir=lr(yr.value);return Ir.readInt(1)!==1||br(this.fileComment)!==Ir.readInt(4)?null:mr.utf8decode(Ir.readData(yr.length-5))}return null}},or.exports=Er},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(ar,or,ur){function lr(Ir,Ar,kr){this.name=Ir,this.dir=kr.dir,this.date=kr.date,this.comment=kr.comment,this.unixPermissions=kr.unixPermissions,this.dosPermissions=kr.dosPermissions,this._data=Ar,this._dataBinary=kr.binary,this.options={compression:kr.compression,compressionOptions:kr.compressionOptions}}var xr=ar("./stream/StreamHelper"),pr=ar("./stream/DataWorker"),br=ar("./utf8"),mr=ar("./compressedObject"),_r=ar("./stream/GenericWorker");lr.prototype={internalStream:function(Ir){var Ar=null,kr="string";try{if(!Ir)throw new Error("No output type specified.");var Or=(kr=Ir.toLowerCase())==="string"||kr==="text";kr!=="binarystring"&&kr!=="text"||(kr="string"),Ar=this._decompressWorker();var Dr=!this._dataBinary;Dr&&!Or&&(Ar=Ar.pipe(new br.Utf8EncodeWorker)),!Dr&&Or&&(Ar=Ar.pipe(new br.Utf8DecodeWorker))}catch(Rr){(Ar=new _r("error")).error(Rr)}return new xr(Ar,kr,"")},async:function(Ir,Ar){return this.internalStream(Ir).accumulate(Ar)},nodeStream:function(Ir,Ar){return this.internalStream(Ir||"nodebuffer").toNodejsStream(Ar)},_compressWorker:function(Ir,Ar){if(this._data instanceof mr&&this._data.compression.magic===Ir.magic)return this._data.getCompressedWorker();var kr=this._decompressWorker();return this._dataBinary||(kr=kr.pipe(new br.Utf8EncodeWorker)),mr.createWorkerFrom(kr,Ir,Ar)},_decompressWorker:function(){return this._data instanceof mr?this._data.getContentWorker():this._data instanceof _r?this._data:new pr(this._data)}};for(var vr=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],Er=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},yr=0;yr<vr.length;yr++)lr.prototype[vr[yr]]=Er;or.exports=lr},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(ar,or,ur){(function(lr){var xr,pr,br=lr.MutationObserver||lr.WebKitMutationObserver;if(br){var mr=0,_r=new br(Ir),vr=lr.document.createTextNode("");_r.observe(vr,{characterData:!0}),xr=function(){vr.data=mr=++mr%2}}else if(lr.setImmediate||lr.MessageChannel===void 0)xr="document"in lr&&"onreadystatechange"in lr.document.createElement("script")?function(){var Ar=lr.document.createElement("script");Ar.onreadystatechange=function(){Ir(),Ar.onreadystatechange=null,Ar.parentNode.removeChild(Ar),Ar=null},lr.document.documentElement.appendChild(Ar)}:function(){setTimeout(Ir,0)};else{var Er=new lr.MessageChannel;Er.port1.onmessage=Ir,xr=function(){Er.port2.postMessage(0)}}var yr=[];function Ir(){var Ar,kr;pr=!0;for(var Or=yr.length;Or;){for(kr=yr,yr=[],Ar=-1;++Ar<Or;)kr[Ar]();Or=yr.length}pr=!1}or.exports=function(Ar){yr.push(Ar)!==1||pr||xr()}}).call(this,typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(ar,or,ur){var lr=ar("immediate");function xr(){}var pr={},br=["REJECTED"],mr=["FULFILLED"],_r=["PENDING"];function vr(Or){if(typeof Or!="function")throw new TypeError("resolver must be a function");this.state=_r,this.queue=[],this.outcome=void 0,Or!==xr&&Ar(this,Or)}function Er(Or,Dr,Rr){this.promise=Or,typeof Dr=="function"&&(this.onFulfilled=Dr,this.callFulfilled=this.otherCallFulfilled),typeof Rr=="function"&&(this.onRejected=Rr,this.callRejected=this.otherCallRejected)}function yr(Or,Dr,Rr){lr(function(){var Fr;try{Fr=Dr(Rr)}catch(Lr){return pr.reject(Or,Lr)}Fr===Or?pr.reject(Or,new TypeError("Cannot resolve promise with itself")):pr.resolve(Or,Fr)})}function Ir(Or){var Dr=Or&&Or.then;if(Or&&(typeof Or=="object"||typeof Or=="function")&&typeof Dr=="function")return function(){Dr.apply(Or,arguments)}}function Ar(Or,Dr){var Rr=!1;function Fr(Ur){Rr||(Rr=!0,pr.reject(Or,Ur))}function Lr(Ur){Rr||(Rr=!0,pr.resolve(Or,Ur))}var Hr=kr(function(){Dr(Lr,Fr)});Hr.status==="error"&&Fr(Hr.value)}function kr(Or,Dr){var Rr={};try{Rr.value=Or(Dr),Rr.status="success"}catch(Fr){Rr.status="error",Rr.value=Fr}return Rr}(or.exports=vr).prototype.finally=function(Or){if(typeof Or!="function")return this;var Dr=this.constructor;return this.then(function(Rr){return Dr.resolve(Or()).then(function(){return Rr})},function(Rr){return Dr.resolve(Or()).then(function(){throw Rr})})},vr.prototype.catch=function(Or){return this.then(null,Or)},vr.prototype.then=function(Or,Dr){if(typeof Or!="function"&&this.state===mr||typeof Dr!="function"&&this.state===br)return this;var Rr=new this.constructor(xr);return this.state!==_r?yr(Rr,this.state===mr?Or:Dr,this.outcome):this.queue.push(new Er(Rr,Or,Dr)),Rr},Er.prototype.callFulfilled=function(Or){pr.resolve(this.promise,Or)},Er.prototype.otherCallFulfilled=function(Or){yr(this.promise,this.onFulfilled,Or)},Er.prototype.callRejected=function(Or){pr.reject(this.promise,Or)},Er.prototype.otherCallRejected=function(Or){yr(this.promise,this.onRejected,Or)},pr.resolve=function(Or,Dr){var Rr=kr(Ir,Dr);if(Rr.status==="error")return pr.reject(Or,Rr.value);var Fr=Rr.value;if(Fr)Ar(Or,Fr);else{Or.state=mr,Or.outcome=Dr;for(var Lr=-1,Hr=Or.queue.length;++Lr<Hr;)Or.queue[Lr].callFulfilled(Dr)}return Or},pr.reject=function(Or,Dr){Or.state=br,Or.outcome=Dr;for(var Rr=-1,Fr=Or.queue.length;++Rr<Fr;)Or.queue[Rr].callRejected(Dr);return Or},vr.resolve=function(Or){return Or instanceof this?Or:pr.resolve(new this(xr),Or)},vr.reject=function(Or){var Dr=new this(xr);return pr.reject(Dr,Or)},vr.all=function(Or){var Dr=this;if(Object.prototype.toString.call(Or)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Rr=Or.length,Fr=!1;if(!Rr)return this.resolve([]);for(var Lr=new Array(Rr),Hr=0,Ur=-1,Zr=new this(xr);++Ur<Rr;)Yr(Or[Ur],Ur);return Zr;function Yr(jr,Jr){Dr.resolve(jr).then(function(Wr){Lr[Jr]=Wr,++Hr!==Rr||Fr||(Fr=!0,pr.resolve(Zr,Lr))},function(Wr){Fr||(Fr=!0,pr.reject(Zr,Wr))})}},vr.race=function(Or){var Dr=this;if(Object.prototype.toString.call(Or)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Rr=Or.length,Fr=!1;if(!Rr)return this.resolve([]);for(var Lr=-1,Hr=new this(xr);++Lr<Rr;)Ur=Or[Lr],Dr.resolve(Ur).then(function(Zr){Fr||(Fr=!0,pr.resolve(Hr,Zr))},function(Zr){Fr||(Fr=!0,pr.reject(Hr,Zr))});var Ur;return Hr}},{immediate:36}],38:[function(ar,or,ur){var lr={};(0,ar("./lib/utils/common").assign)(lr,ar("./lib/deflate"),ar("./lib/inflate"),ar("./lib/zlib/constants")),or.exports=lr},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(ar,or,ur){var lr=ar("./zlib/deflate"),xr=ar("./utils/common"),pr=ar("./utils/strings"),br=ar("./zlib/messages"),mr=ar("./zlib/zstream"),_r=Object.prototype.toString,vr=0,Er=-1,yr=0,Ir=8;function Ar(Or){if(!(this instanceof Ar))return new Ar(Or);this.options=xr.assign({level:Er,method:Ir,chunkSize:16384,windowBits:15,memLevel:8,strategy:yr,to:""},Or||{});var Dr=this.options;Dr.raw&&0<Dr.windowBits?Dr.windowBits=-Dr.windowBits:Dr.gzip&&0<Dr.windowBits&&Dr.windowBits<16&&(Dr.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new mr,this.strm.avail_out=0;var Rr=lr.deflateInit2(this.strm,Dr.level,Dr.method,Dr.windowBits,Dr.memLevel,Dr.strategy);if(Rr!==vr)throw new Error(br[Rr]);if(Dr.header&&lr.deflateSetHeader(this.strm,Dr.header),Dr.dictionary){var Fr;if(Fr=typeof Dr.dictionary=="string"?pr.string2buf(Dr.dictionary):_r.call(Dr.dictionary)==="[object ArrayBuffer]"?new Uint8Array(Dr.dictionary):Dr.dictionary,(Rr=lr.deflateSetDictionary(this.strm,Fr))!==vr)throw new Error(br[Rr]);this._dict_set=!0}}function kr(Or,Dr){var Rr=new Ar(Dr);if(Rr.push(Or,!0),Rr.err)throw Rr.msg||br[Rr.err];return Rr.result}Ar.prototype.push=function(Or,Dr){var Rr,Fr,Lr=this.strm,Hr=this.options.chunkSize;if(this.ended)return!1;Fr=Dr===~~Dr?Dr:Dr===!0?4:0,typeof Or=="string"?Lr.input=pr.string2buf(Or):_r.call(Or)==="[object ArrayBuffer]"?Lr.input=new Uint8Array(Or):Lr.input=Or,Lr.next_in=0,Lr.avail_in=Lr.input.length;do{if(Lr.avail_out===0&&(Lr.output=new xr.Buf8(Hr),Lr.next_out=0,Lr.avail_out=Hr),(Rr=lr.deflate(Lr,Fr))!==1&&Rr!==vr)return this.onEnd(Rr),!(this.ended=!0);Lr.avail_out!==0&&(Lr.avail_in!==0||Fr!==4&&Fr!==2)||(this.options.to==="string"?this.onData(pr.buf2binstring(xr.shrinkBuf(Lr.output,Lr.next_out))):this.onData(xr.shrinkBuf(Lr.output,Lr.next_out)))}while((0<Lr.avail_in||Lr.avail_out===0)&&Rr!==1);return Fr===4?(Rr=lr.deflateEnd(this.strm),this.onEnd(Rr),this.ended=!0,Rr===vr):Fr!==2||(this.onEnd(vr),!(Lr.avail_out=0))},Ar.prototype.onData=function(Or){this.chunks.push(Or)},Ar.prototype.onEnd=function(Or){Or===vr&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=xr.flattenChunks(this.chunks)),this.chunks=[],this.err=Or,this.msg=this.strm.msg},ur.Deflate=Ar,ur.deflate=kr,ur.deflateRaw=function(Or,Dr){return(Dr=Dr||{}).raw=!0,kr(Or,Dr)},ur.gzip=function(Or,Dr){return(Dr=Dr||{}).gzip=!0,kr(Or,Dr)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(ar,or,ur){var lr=ar("./zlib/inflate"),xr=ar("./utils/common"),pr=ar("./utils/strings"),br=ar("./zlib/constants"),mr=ar("./zlib/messages"),_r=ar("./zlib/zstream"),vr=ar("./zlib/gzheader"),Er=Object.prototype.toString;function yr(Ar){if(!(this instanceof yr))return new yr(Ar);this.options=xr.assign({chunkSize:16384,windowBits:0,to:""},Ar||{});var kr=this.options;kr.raw&&0<=kr.windowBits&&kr.windowBits<16&&(kr.windowBits=-kr.windowBits,kr.windowBits===0&&(kr.windowBits=-15)),!(0<=kr.windowBits&&kr.windowBits<16)||Ar&&Ar.windowBits||(kr.windowBits+=32),15<kr.windowBits&&kr.windowBits<48&&!(15&kr.windowBits)&&(kr.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _r,this.strm.avail_out=0;var Or=lr.inflateInit2(this.strm,kr.windowBits);if(Or!==br.Z_OK)throw new Error(mr[Or]);this.header=new vr,lr.inflateGetHeader(this.strm,this.header)}function Ir(Ar,kr){var Or=new yr(kr);if(Or.push(Ar,!0),Or.err)throw Or.msg||mr[Or.err];return Or.result}yr.prototype.push=function(Ar,kr){var Or,Dr,Rr,Fr,Lr,Hr,Ur=this.strm,Zr=this.options.chunkSize,Yr=this.options.dictionary,jr=!1;if(this.ended)return!1;Dr=kr===~~kr?kr:kr===!0?br.Z_FINISH:br.Z_NO_FLUSH,typeof Ar=="string"?Ur.input=pr.binstring2buf(Ar):Er.call(Ar)==="[object ArrayBuffer]"?Ur.input=new Uint8Array(Ar):Ur.input=Ar,Ur.next_in=0,Ur.avail_in=Ur.input.length;do{if(Ur.avail_out===0&&(Ur.output=new xr.Buf8(Zr),Ur.next_out=0,Ur.avail_out=Zr),(Or=lr.inflate(Ur,br.Z_NO_FLUSH))===br.Z_NEED_DICT&&Yr&&(Hr=typeof Yr=="string"?pr.string2buf(Yr):Er.call(Yr)==="[object ArrayBuffer]"?new Uint8Array(Yr):Yr,Or=lr.inflateSetDictionary(this.strm,Hr)),Or===br.Z_BUF_ERROR&&jr===!0&&(Or=br.Z_OK,jr=!1),Or!==br.Z_STREAM_END&&Or!==br.Z_OK)return this.onEnd(Or),!(this.ended=!0);Ur.next_out&&(Ur.avail_out!==0&&Or!==br.Z_STREAM_END&&(Ur.avail_in!==0||Dr!==br.Z_FINISH&&Dr!==br.Z_SYNC_FLUSH)||(this.options.to==="string"?(Rr=pr.utf8border(Ur.output,Ur.next_out),Fr=Ur.next_out-Rr,Lr=pr.buf2string(Ur.output,Rr),Ur.next_out=Fr,Ur.avail_out=Zr-Fr,Fr&&xr.arraySet(Ur.output,Ur.output,Rr,Fr,0),this.onData(Lr)):this.onData(xr.shrinkBuf(Ur.output,Ur.next_out)))),Ur.avail_in===0&&Ur.avail_out===0&&(jr=!0)}while((0<Ur.avail_in||Ur.avail_out===0)&&Or!==br.Z_STREAM_END);return Or===br.Z_STREAM_END&&(Dr=br.Z_FINISH),Dr===br.Z_FINISH?(Or=lr.inflateEnd(this.strm),this.onEnd(Or),this.ended=!0,Or===br.Z_OK):Dr!==br.Z_SYNC_FLUSH||(this.onEnd(br.Z_OK),!(Ur.avail_out=0))},yr.prototype.onData=function(Ar){this.chunks.push(Ar)},yr.prototype.onEnd=function(Ar){Ar===br.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=xr.flattenChunks(this.chunks)),this.chunks=[],this.err=Ar,this.msg=this.strm.msg},ur.Inflate=yr,ur.inflate=Ir,ur.inflateRaw=function(Ar,kr){return(kr=kr||{}).raw=!0,Ir(Ar,kr)},ur.ungzip=Ir},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(ar,or,ur){var lr=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";ur.assign=function(br){for(var mr=Array.prototype.slice.call(arguments,1);mr.length;){var _r=mr.shift();if(_r){if(typeof _r!="object")throw new TypeError(_r+"must be non-object");for(var vr in _r)_r.hasOwnProperty(vr)&&(br[vr]=_r[vr])}}return br},ur.shrinkBuf=function(br,mr){return br.length===mr?br:br.subarray?br.subarray(0,mr):(br.length=mr,br)};var xr={arraySet:function(br,mr,_r,vr,Er){if(mr.subarray&&br.subarray)br.set(mr.subarray(_r,_r+vr),Er);else for(var yr=0;yr<vr;yr++)br[Er+yr]=mr[_r+yr]},flattenChunks:function(br){var mr,_r,vr,Er,yr,Ir;for(mr=vr=0,_r=br.length;mr<_r;mr++)vr+=br[mr].length;for(Ir=new Uint8Array(vr),mr=Er=0,_r=br.length;mr<_r;mr++)yr=br[mr],Ir.set(yr,Er),Er+=yr.length;return Ir}},pr={arraySet:function(br,mr,_r,vr,Er){for(var yr=0;yr<vr;yr++)br[Er+yr]=mr[_r+yr]},flattenChunks:function(br){return[].concat.apply([],br)}};ur.setTyped=function(br){br?(ur.Buf8=Uint8Array,ur.Buf16=Uint16Array,ur.Buf32=Int32Array,ur.assign(ur,xr)):(ur.Buf8=Array,ur.Buf16=Array,ur.Buf32=Array,ur.assign(ur,pr))},ur.setTyped(lr)},{}],42:[function(ar,or,ur){var lr=ar("./common"),xr=!0,pr=!0;try{String.fromCharCode.apply(null,[0])}catch{xr=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{pr=!1}for(var br=new lr.Buf8(256),mr=0;mr<256;mr++)br[mr]=252<=mr?6:248<=mr?5:240<=mr?4:224<=mr?3:192<=mr?2:1;function _r(vr,Er){if(Er<65537&&(vr.subarray&&pr||!vr.subarray&&xr))return String.fromCharCode.apply(null,lr.shrinkBuf(vr,Er));for(var yr="",Ir=0;Ir<Er;Ir++)yr+=String.fromCharCode(vr[Ir]);return yr}br[254]=br[254]=1,ur.string2buf=function(vr){var Er,yr,Ir,Ar,kr,Or=vr.length,Dr=0;for(Ar=0;Ar<Or;Ar++)(64512&(yr=vr.charCodeAt(Ar)))==55296&&Ar+1<Or&&(64512&(Ir=vr.charCodeAt(Ar+1)))==56320&&(yr=65536+(yr-55296<<10)+(Ir-56320),Ar++),Dr+=yr<128?1:yr<2048?2:yr<65536?3:4;for(Er=new lr.Buf8(Dr),Ar=kr=0;kr<Dr;Ar++)(64512&(yr=vr.charCodeAt(Ar)))==55296&&Ar+1<Or&&(64512&(Ir=vr.charCodeAt(Ar+1)))==56320&&(yr=65536+(yr-55296<<10)+(Ir-56320),Ar++),yr<128?Er[kr++]=yr:(yr<2048?Er[kr++]=192|yr>>>6:(yr<65536?Er[kr++]=224|yr>>>12:(Er[kr++]=240|yr>>>18,Er[kr++]=128|yr>>>12&63),Er[kr++]=128|yr>>>6&63),Er[kr++]=128|63&yr);return Er},ur.buf2binstring=function(vr){return _r(vr,vr.length)},ur.binstring2buf=function(vr){for(var Er=new lr.Buf8(vr.length),yr=0,Ir=Er.length;yr<Ir;yr++)Er[yr]=vr.charCodeAt(yr);return Er},ur.buf2string=function(vr,Er){var yr,Ir,Ar,kr,Or=Er||vr.length,Dr=new Array(2*Or);for(yr=Ir=0;yr<Or;)if((Ar=vr[yr++])<128)Dr[Ir++]=Ar;else if(4<(kr=br[Ar]))Dr[Ir++]=65533,yr+=kr-1;else{for(Ar&=kr===2?31:kr===3?15:7;1<kr&&yr<Or;)Ar=Ar<<6|63&vr[yr++],kr--;1<kr?Dr[Ir++]=65533:Ar<65536?Dr[Ir++]=Ar:(Ar-=65536,Dr[Ir++]=55296|Ar>>10&1023,Dr[Ir++]=56320|1023&Ar)}return _r(Dr,Ir)},ur.utf8border=function(vr,Er){var yr;for((Er=Er||vr.length)>vr.length&&(Er=vr.length),yr=Er-1;0<=yr&&(192&vr[yr])==128;)yr--;return yr<0||yr===0?Er:yr+br[vr[yr]]>Er?yr:Er}},{"./common":41}],43:[function(ar,or,ur){or.exports=function(lr,xr,pr,br){for(var mr=65535&lr|0,_r=lr>>>16&65535|0,vr=0;pr!==0;){for(pr-=vr=2e3<pr?2e3:pr;_r=_r+(mr=mr+xr[br++]|0)|0,--vr;);mr%=65521,_r%=65521}return mr|_r<<16|0}},{}],44:[function(ar,or,ur){or.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(ar,or,ur){var lr=function(){for(var xr,pr=[],br=0;br<256;br++){xr=br;for(var mr=0;mr<8;mr++)xr=1&xr?3988292384^xr>>>1:xr>>>1;pr[br]=xr}return pr}();or.exports=function(xr,pr,br,mr){var _r=lr,vr=mr+br;xr^=-1;for(var Er=mr;Er<vr;Er++)xr=xr>>>8^_r[255&(xr^pr[Er])];return-1^xr}},{}],46:[function(ar,or,ur){var lr,xr=ar("../utils/common"),pr=ar("./trees"),br=ar("./adler32"),mr=ar("./crc32"),_r=ar("./messages"),vr=0,Er=4,yr=0,Ir=-2,Ar=-1,kr=4,Or=2,Dr=8,Rr=9,Fr=286,Lr=30,Hr=19,Ur=2*Fr+1,Zr=15,Yr=3,jr=258,Jr=jr+Yr+1,Wr=42,ni=113,Mr=1,hi=2,Ei=3,_i=4;function Fi(Vr,di){return Vr.msg=_r[di],di}function si(Vr){return(Vr<<1)-(4<Vr?9:0)}function ci(Vr){for(var di=Vr.length;0<=--di;)Vr[di]=0}function $r(Vr){var di=Vr.state,yi=di.pending;yi>Vr.avail_out&&(yi=Vr.avail_out),yi!==0&&(xr.arraySet(Vr.output,di.pending_buf,di.pending_out,yi,Vr.next_out),Vr.next_out+=yi,di.pending_out+=yi,Vr.total_out+=yi,Vr.avail_out-=yi,di.pending-=yi,di.pending===0&&(di.pending_out=0))}function ei(Vr,di){pr._tr_flush_block(Vr,0<=Vr.block_start?Vr.block_start:-1,Vr.strstart-Vr.block_start,di),Vr.block_start=Vr.strstart,$r(Vr.strm)}function pi(Vr,di){Vr.pending_buf[Vr.pending++]=di}function ui(Vr,di){Vr.pending_buf[Vr.pending++]=di>>>8&255,Vr.pending_buf[Vr.pending++]=255&di}function bi(Vr,di){var yi,ti,ri=Vr.max_chain_length,xi=Vr.strstart,Ai=Vr.prev_length,Kr=Vr.nice_match,Pr=Vr.strstart>Vr.w_size-Jr?Vr.strstart-(Vr.w_size-Jr):0,qr=Vr.window,Xr=Vr.w_mask,ai=Vr.prev,fi=Vr.strstart+jr,vi=qr[xi+Ai-1],Ri=qr[xi+Ai];Vr.prev_length>=Vr.good_match&&(ri>>=2),Kr>Vr.lookahead&&(Kr=Vr.lookahead);do if(qr[(yi=di)+Ai]===Ri&&qr[yi+Ai-1]===vi&&qr[yi]===qr[xi]&&qr[++yi]===qr[xi+1]){xi+=2,yi++;do;while(qr[++xi]===qr[++yi]&&qr[++xi]===qr[++yi]&&qr[++xi]===qr[++yi]&&qr[++xi]===qr[++yi]&&qr[++xi]===qr[++yi]&&qr[++xi]===qr[++yi]&&qr[++xi]===qr[++yi]&&qr[++xi]===qr[++yi]&&xi<fi);if(ti=jr-(fi-xi),xi=fi-jr,Ai<ti){if(Vr.match_start=di,Kr<=(Ai=ti))break;vi=qr[xi+Ai-1],Ri=qr[xi+Ai]}}while((di=ai[di&Xr])>Pr&&--ri!=0);return Ai<=Vr.lookahead?Ai:Vr.lookahead}function qi(Vr){var di,yi,ti,ri,xi,Ai,Kr,Pr,qr,Xr,ai=Vr.w_size;do{if(ri=Vr.window_size-Vr.lookahead-Vr.strstart,Vr.strstart>=ai+(ai-Jr)){for(xr.arraySet(Vr.window,Vr.window,ai,ai,0),Vr.match_start-=ai,Vr.strstart-=ai,Vr.block_start-=ai,di=yi=Vr.hash_size;ti=Vr.head[--di],Vr.head[di]=ai<=ti?ti-ai:0,--yi;);for(di=yi=ai;ti=Vr.prev[--di],Vr.prev[di]=ai<=ti?ti-ai:0,--yi;);ri+=ai}if(Vr.strm.avail_in===0)break;if(Ai=Vr.strm,Kr=Vr.window,Pr=Vr.strstart+Vr.lookahead,qr=ri,Xr=void 0,Xr=Ai.avail_in,qr<Xr&&(Xr=qr),yi=Xr===0?0:(Ai.avail_in-=Xr,xr.arraySet(Kr,Ai.input,Ai.next_in,Xr,Pr),Ai.state.wrap===1?Ai.adler=br(Ai.adler,Kr,Xr,Pr):Ai.state.wrap===2&&(Ai.adler=mr(Ai.adler,Kr,Xr,Pr)),Ai.next_in+=Xr,Ai.total_in+=Xr,Xr),Vr.lookahead+=yi,Vr.lookahead+Vr.insert>=Yr)for(xi=Vr.strstart-Vr.insert,Vr.ins_h=Vr.window[xi],Vr.ins_h=(Vr.ins_h<<Vr.hash_shift^Vr.window[xi+1])&Vr.hash_mask;Vr.insert&&(Vr.ins_h=(Vr.ins_h<<Vr.hash_shift^Vr.window[xi+Yr-1])&Vr.hash_mask,Vr.prev[xi&Vr.w_mask]=Vr.head[Vr.ins_h],Vr.head[Vr.ins_h]=xi,xi++,Vr.insert--,!(Vr.lookahead+Vr.insert<Yr)););}while(Vr.lookahead<Jr&&Vr.strm.avail_in!==0)}function Gi(Vr,di){for(var yi,ti;;){if(Vr.lookahead<Jr){if(qi(Vr),Vr.lookahead<Jr&&di===vr)return Mr;if(Vr.lookahead===0)break}if(yi=0,Vr.lookahead>=Yr&&(Vr.ins_h=(Vr.ins_h<<Vr.hash_shift^Vr.window[Vr.strstart+Yr-1])&Vr.hash_mask,yi=Vr.prev[Vr.strstart&Vr.w_mask]=Vr.head[Vr.ins_h],Vr.head[Vr.ins_h]=Vr.strstart),yi!==0&&Vr.strstart-yi<=Vr.w_size-Jr&&(Vr.match_length=bi(Vr,yi)),Vr.match_length>=Yr)if(ti=pr._tr_tally(Vr,Vr.strstart-Vr.match_start,Vr.match_length-Yr),Vr.lookahead-=Vr.match_length,Vr.match_length<=Vr.max_lazy_match&&Vr.lookahead>=Yr){for(Vr.match_length--;Vr.strstart++,Vr.ins_h=(Vr.ins_h<<Vr.hash_shift^Vr.window[Vr.strstart+Yr-1])&Vr.hash_mask,yi=Vr.prev[Vr.strstart&Vr.w_mask]=Vr.head[Vr.ins_h],Vr.head[Vr.ins_h]=Vr.strstart,--Vr.match_length!=0;);Vr.strstart++}else Vr.strstart+=Vr.match_length,Vr.match_length=0,Vr.ins_h=Vr.window[Vr.strstart],Vr.ins_h=(Vr.ins_h<<Vr.hash_shift^Vr.window[Vr.strstart+1])&Vr.hash_mask;else ti=pr._tr_tally(Vr,0,Vr.window[Vr.strstart]),Vr.lookahead--,Vr.strstart++;if(ti&&(ei(Vr,!1),Vr.strm.avail_out===0))return Mr}return Vr.insert=Vr.strstart<Yr-1?Vr.strstart:Yr-1,di===Er?(ei(Vr,!0),Vr.strm.avail_out===0?Ei:_i):Vr.last_lit&&(ei(Vr,!1),Vr.strm.avail_out===0)?Mr:hi}function Ti(Vr,di){for(var yi,ti,ri;;){if(Vr.lookahead<Jr){if(qi(Vr),Vr.lookahead<Jr&&di===vr)return Mr;if(Vr.lookahead===0)break}if(yi=0,Vr.lookahead>=Yr&&(Vr.ins_h=(Vr.ins_h<<Vr.hash_shift^Vr.window[Vr.strstart+Yr-1])&Vr.hash_mask,yi=Vr.prev[Vr.strstart&Vr.w_mask]=Vr.head[Vr.ins_h],Vr.head[Vr.ins_h]=Vr.strstart),Vr.prev_length=Vr.match_length,Vr.prev_match=Vr.match_start,Vr.match_length=Yr-1,yi!==0&&Vr.prev_length<Vr.max_lazy_match&&Vr.strstart-yi<=Vr.w_size-Jr&&(Vr.match_length=bi(Vr,yi),Vr.match_length<=5&&(Vr.strategy===1||Vr.match_length===Yr&&4096<Vr.strstart-Vr.match_start)&&(Vr.match_length=Yr-1)),Vr.prev_length>=Yr&&Vr.match_length<=Vr.prev_length){for(ri=Vr.strstart+Vr.lookahead-Yr,ti=pr._tr_tally(Vr,Vr.strstart-1-Vr.prev_match,Vr.prev_length-Yr),Vr.lookahead-=Vr.prev_length-1,Vr.prev_length-=2;++Vr.strstart<=ri&&(Vr.ins_h=(Vr.ins_h<<Vr.hash_shift^Vr.window[Vr.strstart+Yr-1])&Vr.hash_mask,yi=Vr.prev[Vr.strstart&Vr.w_mask]=Vr.head[Vr.ins_h],Vr.head[Vr.ins_h]=Vr.strstart),--Vr.prev_length!=0;);if(Vr.match_available=0,Vr.match_length=Yr-1,Vr.strstart++,ti&&(ei(Vr,!1),Vr.strm.avail_out===0))return Mr}else if(Vr.match_available){if((ti=pr._tr_tally(Vr,0,Vr.window[Vr.strstart-1]))&&ei(Vr,!1),Vr.strstart++,Vr.lookahead--,Vr.strm.avail_out===0)return Mr}else Vr.match_available=1,Vr.strstart++,Vr.lookahead--}return Vr.match_available&&(ti=pr._tr_tally(Vr,0,Vr.window[Vr.strstart-1]),Vr.match_available=0),Vr.insert=Vr.strstart<Yr-1?Vr.strstart:Yr-1,di===Er?(ei(Vr,!0),Vr.strm.avail_out===0?Ei:_i):Vr.last_lit&&(ei(Vr,!1),Vr.strm.avail_out===0)?Mr:hi}function ii(Vr,di,yi,ti,ri){this.good_length=Vr,this.max_lazy=di,this.nice_length=yi,this.max_chain=ti,this.func=ri}function oi(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Dr,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new xr.Buf16(2*Ur),this.dyn_dtree=new xr.Buf16(2*(2*Lr+1)),this.bl_tree=new xr.Buf16(2*(2*Hr+1)),ci(this.dyn_ltree),ci(this.dyn_dtree),ci(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new xr.Buf16(Zr+1),this.heap=new xr.Buf16(2*Fr+1),ci(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new xr.Buf16(2*Fr+1),ci(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Si(Vr){var di;return Vr&&Vr.state?(Vr.total_in=Vr.total_out=0,Vr.data_type=Or,(di=Vr.state).pending=0,di.pending_out=0,di.wrap<0&&(di.wrap=-di.wrap),di.status=di.wrap?Wr:ni,Vr.adler=di.wrap===2?0:1,di.last_flush=vr,pr._tr_init(di),yr):Fi(Vr,Ir)}function Di(Vr){var di=Si(Vr);return di===yr&&function(yi){yi.window_size=2*yi.w_size,ci(yi.head),yi.max_lazy_match=lr[yi.level].max_lazy,yi.good_match=lr[yi.level].good_length,yi.nice_match=lr[yi.level].nice_length,yi.max_chain_length=lr[yi.level].max_chain,yi.strstart=0,yi.block_start=0,yi.lookahead=0,yi.insert=0,yi.match_length=yi.prev_length=Yr-1,yi.match_available=0,yi.ins_h=0}(Vr.state),di}function Vi(Vr,di,yi,ti,ri,xi){if(!Vr)return Ir;var Ai=1;if(di===Ar&&(di=6),ti<0?(Ai=0,ti=-ti):15<ti&&(Ai=2,ti-=16),ri<1||Rr<ri||yi!==Dr||ti<8||15<ti||di<0||9<di||xi<0||kr<xi)return Fi(Vr,Ir);ti===8&&(ti=9);var Kr=new oi;return(Vr.state=Kr).strm=Vr,Kr.wrap=Ai,Kr.gzhead=null,Kr.w_bits=ti,Kr.w_size=1<<Kr.w_bits,Kr.w_mask=Kr.w_size-1,Kr.hash_bits=ri+7,Kr.hash_size=1<<Kr.hash_bits,Kr.hash_mask=Kr.hash_size-1,Kr.hash_shift=~~((Kr.hash_bits+Yr-1)/Yr),Kr.window=new xr.Buf8(2*Kr.w_size),Kr.head=new xr.Buf16(Kr.hash_size),Kr.prev=new xr.Buf16(Kr.w_size),Kr.lit_bufsize=1<<ri+6,Kr.pending_buf_size=4*Kr.lit_bufsize,Kr.pending_buf=new xr.Buf8(Kr.pending_buf_size),Kr.d_buf=1*Kr.lit_bufsize,Kr.l_buf=3*Kr.lit_bufsize,Kr.level=di,Kr.strategy=xi,Kr.method=yi,Di(Vr)}lr=[new ii(0,0,0,0,function(Vr,di){var yi=65535;for(yi>Vr.pending_buf_size-5&&(yi=Vr.pending_buf_size-5);;){if(Vr.lookahead<=1){if(qi(Vr),Vr.lookahead===0&&di===vr)return Mr;if(Vr.lookahead===0)break}Vr.strstart+=Vr.lookahead,Vr.lookahead=0;var ti=Vr.block_start+yi;if((Vr.strstart===0||Vr.strstart>=ti)&&(Vr.lookahead=Vr.strstart-ti,Vr.strstart=ti,ei(Vr,!1),Vr.strm.avail_out===0)||Vr.strstart-Vr.block_start>=Vr.w_size-Jr&&(ei(Vr,!1),Vr.strm.avail_out===0))return Mr}return Vr.insert=0,di===Er?(ei(Vr,!0),Vr.strm.avail_out===0?Ei:_i):(Vr.strstart>Vr.block_start&&(ei(Vr,!1),Vr.strm.avail_out),Mr)}),new ii(4,4,8,4,Gi),new ii(4,5,16,8,Gi),new ii(4,6,32,32,Gi),new ii(4,4,16,16,Ti),new ii(8,16,32,32,Ti),new ii(8,16,128,128,Ti),new ii(8,32,128,256,Ti),new ii(32,128,258,1024,Ti),new ii(32,258,258,4096,Ti)],ur.deflateInit=function(Vr,di){return Vi(Vr,di,Dr,15,8,0)},ur.deflateInit2=Vi,ur.deflateReset=Di,ur.deflateResetKeep=Si,ur.deflateSetHeader=function(Vr,di){return Vr&&Vr.state?Vr.state.wrap!==2?Ir:(Vr.state.gzhead=di,yr):Ir},ur.deflate=function(Vr,di){var yi,ti,ri,xi;if(!Vr||!Vr.state||5<di||di<0)return Vr?Fi(Vr,Ir):Ir;if(ti=Vr.state,!Vr.output||!Vr.input&&Vr.avail_in!==0||ti.status===666&&di!==Er)return Fi(Vr,Vr.avail_out===0?-5:Ir);if(ti.strm=Vr,yi=ti.last_flush,ti.last_flush=di,ti.status===Wr)if(ti.wrap===2)Vr.adler=0,pi(ti,31),pi(ti,139),pi(ti,8),ti.gzhead?(pi(ti,(ti.gzhead.text?1:0)+(ti.gzhead.hcrc?2:0)+(ti.gzhead.extra?4:0)+(ti.gzhead.name?8:0)+(ti.gzhead.comment?16:0)),pi(ti,255&ti.gzhead.time),pi(ti,ti.gzhead.time>>8&255),pi(ti,ti.gzhead.time>>16&255),pi(ti,ti.gzhead.time>>24&255),pi(ti,ti.level===9?2:2<=ti.strategy||ti.level<2?4:0),pi(ti,255&ti.gzhead.os),ti.gzhead.extra&&ti.gzhead.extra.length&&(pi(ti,255&ti.gzhead.extra.length),pi(ti,ti.gzhead.extra.length>>8&255)),ti.gzhead.hcrc&&(Vr.adler=mr(Vr.adler,ti.pending_buf,ti.pending,0)),ti.gzindex=0,ti.status=69):(pi(ti,0),pi(ti,0),pi(ti,0),pi(ti,0),pi(ti,0),pi(ti,ti.level===9?2:2<=ti.strategy||ti.level<2?4:0),pi(ti,3),ti.status=ni);else{var Ai=Dr+(ti.w_bits-8<<4)<<8;Ai|=(2<=ti.strategy||ti.level<2?0:ti.level<6?1:ti.level===6?2:3)<<6,ti.strstart!==0&&(Ai|=32),Ai+=31-Ai%31,ti.status=ni,ui(ti,Ai),ti.strstart!==0&&(ui(ti,Vr.adler>>>16),ui(ti,65535&Vr.adler)),Vr.adler=1}if(ti.status===69)if(ti.gzhead.extra){for(ri=ti.pending;ti.gzindex<(65535&ti.gzhead.extra.length)&&(ti.pending!==ti.pending_buf_size||(ti.gzhead.hcrc&&ti.pending>ri&&(Vr.adler=mr(Vr.adler,ti.pending_buf,ti.pending-ri,ri)),$r(Vr),ri=ti.pending,ti.pending!==ti.pending_buf_size));)pi(ti,255&ti.gzhead.extra[ti.gzindex]),ti.gzindex++;ti.gzhead.hcrc&&ti.pending>ri&&(Vr.adler=mr(Vr.adler,ti.pending_buf,ti.pending-ri,ri)),ti.gzindex===ti.gzhead.extra.length&&(ti.gzindex=0,ti.status=73)}else ti.status=73;if(ti.status===73)if(ti.gzhead.name){ri=ti.pending;do{if(ti.pending===ti.pending_buf_size&&(ti.gzhead.hcrc&&ti.pending>ri&&(Vr.adler=mr(Vr.adler,ti.pending_buf,ti.pending-ri,ri)),$r(Vr),ri=ti.pending,ti.pending===ti.pending_buf_size)){xi=1;break}xi=ti.gzindex<ti.gzhead.name.length?255&ti.gzhead.name.charCodeAt(ti.gzindex++):0,pi(ti,xi)}while(xi!==0);ti.gzhead.hcrc&&ti.pending>ri&&(Vr.adler=mr(Vr.adler,ti.pending_buf,ti.pending-ri,ri)),xi===0&&(ti.gzindex=0,ti.status=91)}else ti.status=91;if(ti.status===91)if(ti.gzhead.comment){ri=ti.pending;do{if(ti.pending===ti.pending_buf_size&&(ti.gzhead.hcrc&&ti.pending>ri&&(Vr.adler=mr(Vr.adler,ti.pending_buf,ti.pending-ri,ri)),$r(Vr),ri=ti.pending,ti.pending===ti.pending_buf_size)){xi=1;break}xi=ti.gzindex<ti.gzhead.comment.length?255&ti.gzhead.comment.charCodeAt(ti.gzindex++):0,pi(ti,xi)}while(xi!==0);ti.gzhead.hcrc&&ti.pending>ri&&(Vr.adler=mr(Vr.adler,ti.pending_buf,ti.pending-ri,ri)),xi===0&&(ti.status=103)}else ti.status=103;if(ti.status===103&&(ti.gzhead.hcrc?(ti.pending+2>ti.pending_buf_size&&$r(Vr),ti.pending+2<=ti.pending_buf_size&&(pi(ti,255&Vr.adler),pi(ti,Vr.adler>>8&255),Vr.adler=0,ti.status=ni)):ti.status=ni),ti.pending!==0){if($r(Vr),Vr.avail_out===0)return ti.last_flush=-1,yr}else if(Vr.avail_in===0&&si(di)<=si(yi)&&di!==Er)return Fi(Vr,-5);if(ti.status===666&&Vr.avail_in!==0)return Fi(Vr,-5);if(Vr.avail_in!==0||ti.lookahead!==0||di!==vr&&ti.status!==666){var Kr=ti.strategy===2?function(Pr,qr){for(var Xr;;){if(Pr.lookahead===0&&(qi(Pr),Pr.lookahead===0)){if(qr===vr)return Mr;break}if(Pr.match_length=0,Xr=pr._tr_tally(Pr,0,Pr.window[Pr.strstart]),Pr.lookahead--,Pr.strstart++,Xr&&(ei(Pr,!1),Pr.strm.avail_out===0))return Mr}return Pr.insert=0,qr===Er?(ei(Pr,!0),Pr.strm.avail_out===0?Ei:_i):Pr.last_lit&&(ei(Pr,!1),Pr.strm.avail_out===0)?Mr:hi}(ti,di):ti.strategy===3?function(Pr,qr){for(var Xr,ai,fi,vi,Ri=Pr.window;;){if(Pr.lookahead<=jr){if(qi(Pr),Pr.lookahead<=jr&&qr===vr)return Mr;if(Pr.lookahead===0)break}if(Pr.match_length=0,Pr.lookahead>=Yr&&0<Pr.strstart&&(ai=Ri[fi=Pr.strstart-1])===Ri[++fi]&&ai===Ri[++fi]&&ai===Ri[++fi]){vi=Pr.strstart+jr;do;while(ai===Ri[++fi]&&ai===Ri[++fi]&&ai===Ri[++fi]&&ai===Ri[++fi]&&ai===Ri[++fi]&&ai===Ri[++fi]&&ai===Ri[++fi]&&ai===Ri[++fi]&&fi<vi);Pr.match_length=jr-(vi-fi),Pr.match_length>Pr.lookahead&&(Pr.match_length=Pr.lookahead)}if(Pr.match_length>=Yr?(Xr=pr._tr_tally(Pr,1,Pr.match_length-Yr),Pr.lookahead-=Pr.match_length,Pr.strstart+=Pr.match_length,Pr.match_length=0):(Xr=pr._tr_tally(Pr,0,Pr.window[Pr.strstart]),Pr.lookahead--,Pr.strstart++),Xr&&(ei(Pr,!1),Pr.strm.avail_out===0))return Mr}return Pr.insert=0,qr===Er?(ei(Pr,!0),Pr.strm.avail_out===0?Ei:_i):Pr.last_lit&&(ei(Pr,!1),Pr.strm.avail_out===0)?Mr:hi}(ti,di):lr[ti.level].func(ti,di);if(Kr!==Ei&&Kr!==_i||(ti.status=666),Kr===Mr||Kr===Ei)return Vr.avail_out===0&&(ti.last_flush=-1),yr;if(Kr===hi&&(di===1?pr._tr_align(ti):di!==5&&(pr._tr_stored_block(ti,0,0,!1),di===3&&(ci(ti.head),ti.lookahead===0&&(ti.strstart=0,ti.block_start=0,ti.insert=0))),$r(Vr),Vr.avail_out===0))return ti.last_flush=-1,yr}return di!==Er?yr:ti.wrap<=0?1:(ti.wrap===2?(pi(ti,255&Vr.adler),pi(ti,Vr.adler>>8&255),pi(ti,Vr.adler>>16&255),pi(ti,Vr.adler>>24&255),pi(ti,255&Vr.total_in),pi(ti,Vr.total_in>>8&255),pi(ti,Vr.total_in>>16&255),pi(ti,Vr.total_in>>24&255)):(ui(ti,Vr.adler>>>16),ui(ti,65535&Vr.adler)),$r(Vr),0<ti.wrap&&(ti.wrap=-ti.wrap),ti.pending!==0?yr:1)},ur.deflateEnd=function(Vr){var di;return Vr&&Vr.state?(di=Vr.state.status)!==Wr&&di!==69&&di!==73&&di!==91&&di!==103&&di!==ni&&di!==666?Fi(Vr,Ir):(Vr.state=null,di===ni?Fi(Vr,-3):yr):Ir},ur.deflateSetDictionary=function(Vr,di){var yi,ti,ri,xi,Ai,Kr,Pr,qr,Xr=di.length;if(!Vr||!Vr.state||(xi=(yi=Vr.state).wrap)===2||xi===1&&yi.status!==Wr||yi.lookahead)return Ir;for(xi===1&&(Vr.adler=br(Vr.adler,di,Xr,0)),yi.wrap=0,Xr>=yi.w_size&&(xi===0&&(ci(yi.head),yi.strstart=0,yi.block_start=0,yi.insert=0),qr=new xr.Buf8(yi.w_size),xr.arraySet(qr,di,Xr-yi.w_size,yi.w_size,0),di=qr,Xr=yi.w_size),Ai=Vr.avail_in,Kr=Vr.next_in,Pr=Vr.input,Vr.avail_in=Xr,Vr.next_in=0,Vr.input=di,qi(yi);yi.lookahead>=Yr;){for(ti=yi.strstart,ri=yi.lookahead-(Yr-1);yi.ins_h=(yi.ins_h<<yi.hash_shift^yi.window[ti+Yr-1])&yi.hash_mask,yi.prev[ti&yi.w_mask]=yi.head[yi.ins_h],yi.head[yi.ins_h]=ti,ti++,--ri;);yi.strstart=ti,yi.lookahead=Yr-1,qi(yi)}return yi.strstart+=yi.lookahead,yi.block_start=yi.strstart,yi.insert=yi.lookahead,yi.lookahead=0,yi.match_length=yi.prev_length=Yr-1,yi.match_available=0,Vr.next_in=Kr,Vr.input=Pr,Vr.avail_in=Ai,yi.wrap=xi,yr},ur.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(ar,or,ur){or.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(ar,or,ur){or.exports=function(lr,xr){var pr,br,mr,_r,vr,Er,yr,Ir,Ar,kr,Or,Dr,Rr,Fr,Lr,Hr,Ur,Zr,Yr,jr,Jr,Wr,ni,Mr,hi;pr=lr.state,br=lr.next_in,Mr=lr.input,mr=br+(lr.avail_in-5),_r=lr.next_out,hi=lr.output,vr=_r-(xr-lr.avail_out),Er=_r+(lr.avail_out-257),yr=pr.dmax,Ir=pr.wsize,Ar=pr.whave,kr=pr.wnext,Or=pr.window,Dr=pr.hold,Rr=pr.bits,Fr=pr.lencode,Lr=pr.distcode,Hr=(1<<pr.lenbits)-1,Ur=(1<<pr.distbits)-1;e:do{Rr<15&&(Dr+=Mr[br++]<<Rr,Rr+=8,Dr+=Mr[br++]<<Rr,Rr+=8),Zr=Fr[Dr&Hr];t:for(;;){if(Dr>>>=Yr=Zr>>>24,Rr-=Yr,(Yr=Zr>>>16&255)===0)hi[_r++]=65535&Zr;else{if(!(16&Yr)){if(!(64&Yr)){Zr=Fr[(65535&Zr)+(Dr&(1<<Yr)-1)];continue t}if(32&Yr){pr.mode=12;break e}lr.msg="invalid literal/length code",pr.mode=30;break e}jr=65535&Zr,(Yr&=15)&&(Rr<Yr&&(Dr+=Mr[br++]<<Rr,Rr+=8),jr+=Dr&(1<<Yr)-1,Dr>>>=Yr,Rr-=Yr),Rr<15&&(Dr+=Mr[br++]<<Rr,Rr+=8,Dr+=Mr[br++]<<Rr,Rr+=8),Zr=Lr[Dr&Ur];r:for(;;){if(Dr>>>=Yr=Zr>>>24,Rr-=Yr,!(16&(Yr=Zr>>>16&255))){if(!(64&Yr)){Zr=Lr[(65535&Zr)+(Dr&(1<<Yr)-1)];continue r}lr.msg="invalid distance code",pr.mode=30;break e}if(Jr=65535&Zr,Rr<(Yr&=15)&&(Dr+=Mr[br++]<<Rr,(Rr+=8)<Yr&&(Dr+=Mr[br++]<<Rr,Rr+=8)),yr<(Jr+=Dr&(1<<Yr)-1)){lr.msg="invalid distance too far back",pr.mode=30;break e}if(Dr>>>=Yr,Rr-=Yr,(Yr=_r-vr)<Jr){if(Ar<(Yr=Jr-Yr)&&pr.sane){lr.msg="invalid distance too far back",pr.mode=30;break e}if(ni=Or,(Wr=0)===kr){if(Wr+=Ir-Yr,Yr<jr){for(jr-=Yr;hi[_r++]=Or[Wr++],--Yr;);Wr=_r-Jr,ni=hi}}else if(kr<Yr){if(Wr+=Ir+kr-Yr,(Yr-=kr)<jr){for(jr-=Yr;hi[_r++]=Or[Wr++],--Yr;);if(Wr=0,kr<jr){for(jr-=Yr=kr;hi[_r++]=Or[Wr++],--Yr;);Wr=_r-Jr,ni=hi}}}else if(Wr+=kr-Yr,Yr<jr){for(jr-=Yr;hi[_r++]=Or[Wr++],--Yr;);Wr=_r-Jr,ni=hi}for(;2<jr;)hi[_r++]=ni[Wr++],hi[_r++]=ni[Wr++],hi[_r++]=ni[Wr++],jr-=3;jr&&(hi[_r++]=ni[Wr++],1<jr&&(hi[_r++]=ni[Wr++]))}else{for(Wr=_r-Jr;hi[_r++]=hi[Wr++],hi[_r++]=hi[Wr++],hi[_r++]=hi[Wr++],2<(jr-=3););jr&&(hi[_r++]=hi[Wr++],1<jr&&(hi[_r++]=hi[Wr++]))}break}}break}}while(br<mr&&_r<Er);br-=jr=Rr>>3,Dr&=(1<<(Rr-=jr<<3))-1,lr.next_in=br,lr.next_out=_r,lr.avail_in=br<mr?mr-br+5:5-(br-mr),lr.avail_out=_r<Er?Er-_r+257:257-(_r-Er),pr.hold=Dr,pr.bits=Rr}},{}],49:[function(ar,or,ur){var lr=ar("../utils/common"),xr=ar("./adler32"),pr=ar("./crc32"),br=ar("./inffast"),mr=ar("./inftrees"),_r=1,vr=2,Er=0,yr=-2,Ir=1,Ar=852,kr=592;function Or(Wr){return(Wr>>>24&255)+(Wr>>>8&65280)+((65280&Wr)<<8)+((255&Wr)<<24)}function Dr(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new lr.Buf16(320),this.work=new lr.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Rr(Wr){var ni;return Wr&&Wr.state?(ni=Wr.state,Wr.total_in=Wr.total_out=ni.total=0,Wr.msg="",ni.wrap&&(Wr.adler=1&ni.wrap),ni.mode=Ir,ni.last=0,ni.havedict=0,ni.dmax=32768,ni.head=null,ni.hold=0,ni.bits=0,ni.lencode=ni.lendyn=new lr.Buf32(Ar),ni.distcode=ni.distdyn=new lr.Buf32(kr),ni.sane=1,ni.back=-1,Er):yr}function Fr(Wr){var ni;return Wr&&Wr.state?((ni=Wr.state).wsize=0,ni.whave=0,ni.wnext=0,Rr(Wr)):yr}function Lr(Wr,ni){var Mr,hi;return Wr&&Wr.state?(hi=Wr.state,ni<0?(Mr=0,ni=-ni):(Mr=1+(ni>>4),ni<48&&(ni&=15)),ni&&(ni<8||15<ni)?yr:(hi.window!==null&&hi.wbits!==ni&&(hi.window=null),hi.wrap=Mr,hi.wbits=ni,Fr(Wr))):yr}function Hr(Wr,ni){var Mr,hi;return Wr?(hi=new Dr,(Wr.state=hi).window=null,(Mr=Lr(Wr,ni))!==Er&&(Wr.state=null),Mr):yr}var Ur,Zr,Yr=!0;function jr(Wr){if(Yr){var ni;for(Ur=new lr.Buf32(512),Zr=new lr.Buf32(32),ni=0;ni<144;)Wr.lens[ni++]=8;for(;ni<256;)Wr.lens[ni++]=9;for(;ni<280;)Wr.lens[ni++]=7;for(;ni<288;)Wr.lens[ni++]=8;for(mr(_r,Wr.lens,0,288,Ur,0,Wr.work,{bits:9}),ni=0;ni<32;)Wr.lens[ni++]=5;mr(vr,Wr.lens,0,32,Zr,0,Wr.work,{bits:5}),Yr=!1}Wr.lencode=Ur,Wr.lenbits=9,Wr.distcode=Zr,Wr.distbits=5}function Jr(Wr,ni,Mr,hi){var Ei,_i=Wr.state;return _i.window===null&&(_i.wsize=1<<_i.wbits,_i.wnext=0,_i.whave=0,_i.window=new lr.Buf8(_i.wsize)),hi>=_i.wsize?(lr.arraySet(_i.window,ni,Mr-_i.wsize,_i.wsize,0),_i.wnext=0,_i.whave=_i.wsize):(hi<(Ei=_i.wsize-_i.wnext)&&(Ei=hi),lr.arraySet(_i.window,ni,Mr-hi,Ei,_i.wnext),(hi-=Ei)?(lr.arraySet(_i.window,ni,Mr-hi,hi,0),_i.wnext=hi,_i.whave=_i.wsize):(_i.wnext+=Ei,_i.wnext===_i.wsize&&(_i.wnext=0),_i.whave<_i.wsize&&(_i.whave+=Ei))),0}ur.inflateReset=Fr,ur.inflateReset2=Lr,ur.inflateResetKeep=Rr,ur.inflateInit=function(Wr){return Hr(Wr,15)},ur.inflateInit2=Hr,ur.inflate=function(Wr,ni){var Mr,hi,Ei,_i,Fi,si,ci,$r,ei,pi,ui,bi,qi,Gi,Ti,ii,oi,Si,Di,Vi,Vr,di,yi,ti,ri=0,xi=new lr.Buf8(4),Ai=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Wr||!Wr.state||!Wr.output||!Wr.input&&Wr.avail_in!==0)return yr;(Mr=Wr.state).mode===12&&(Mr.mode=13),Fi=Wr.next_out,Ei=Wr.output,ci=Wr.avail_out,_i=Wr.next_in,hi=Wr.input,si=Wr.avail_in,$r=Mr.hold,ei=Mr.bits,pi=si,ui=ci,di=Er;e:for(;;)switch(Mr.mode){case Ir:if(Mr.wrap===0){Mr.mode=13;break}for(;ei<16;){if(si===0)break e;si--,$r+=hi[_i++]<<ei,ei+=8}if(2&Mr.wrap&&$r===35615){xi[Mr.check=0]=255&$r,xi[1]=$r>>>8&255,Mr.check=pr(Mr.check,xi,2,0),ei=$r=0,Mr.mode=2;break}if(Mr.flags=0,Mr.head&&(Mr.head.done=!1),!(1&Mr.wrap)||(((255&$r)<<8)+($r>>8))%31){Wr.msg="incorrect header check",Mr.mode=30;break}if((15&$r)!=8){Wr.msg="unknown compression method",Mr.mode=30;break}if(ei-=4,Vr=8+(15&($r>>>=4)),Mr.wbits===0)Mr.wbits=Vr;else if(Vr>Mr.wbits){Wr.msg="invalid window size",Mr.mode=30;break}Mr.dmax=1<<Vr,Wr.adler=Mr.check=1,Mr.mode=512&$r?10:12,ei=$r=0;break;case 2:for(;ei<16;){if(si===0)break e;si--,$r+=hi[_i++]<<ei,ei+=8}if(Mr.flags=$r,(255&Mr.flags)!=8){Wr.msg="unknown compression method",Mr.mode=30;break}if(57344&Mr.flags){Wr.msg="unknown header flags set",Mr.mode=30;break}Mr.head&&(Mr.head.text=$r>>8&1),512&Mr.flags&&(xi[0]=255&$r,xi[1]=$r>>>8&255,Mr.check=pr(Mr.check,xi,2,0)),ei=$r=0,Mr.mode=3;case 3:for(;ei<32;){if(si===0)break e;si--,$r+=hi[_i++]<<ei,ei+=8}Mr.head&&(Mr.head.time=$r),512&Mr.flags&&(xi[0]=255&$r,xi[1]=$r>>>8&255,xi[2]=$r>>>16&255,xi[3]=$r>>>24&255,Mr.check=pr(Mr.check,xi,4,0)),ei=$r=0,Mr.mode=4;case 4:for(;ei<16;){if(si===0)break e;si--,$r+=hi[_i++]<<ei,ei+=8}Mr.head&&(Mr.head.xflags=255&$r,Mr.head.os=$r>>8),512&Mr.flags&&(xi[0]=255&$r,xi[1]=$r>>>8&255,Mr.check=pr(Mr.check,xi,2,0)),ei=$r=0,Mr.mode=5;case 5:if(1024&Mr.flags){for(;ei<16;){if(si===0)break e;si--,$r+=hi[_i++]<<ei,ei+=8}Mr.length=$r,Mr.head&&(Mr.head.extra_len=$r),512&Mr.flags&&(xi[0]=255&$r,xi[1]=$r>>>8&255,Mr.check=pr(Mr.check,xi,2,0)),ei=$r=0}else Mr.head&&(Mr.head.extra=null);Mr.mode=6;case 6:if(1024&Mr.flags&&(si<(bi=Mr.length)&&(bi=si),bi&&(Mr.head&&(Vr=Mr.head.extra_len-Mr.length,Mr.head.extra||(Mr.head.extra=new Array(Mr.head.extra_len)),lr.arraySet(Mr.head.extra,hi,_i,bi,Vr)),512&Mr.flags&&(Mr.check=pr(Mr.check,hi,bi,_i)),si-=bi,_i+=bi,Mr.length-=bi),Mr.length))break e;Mr.length=0,Mr.mode=7;case 7:if(2048&Mr.flags){if(si===0)break e;for(bi=0;Vr=hi[_i+bi++],Mr.head&&Vr&&Mr.length<65536&&(Mr.head.name+=String.fromCharCode(Vr)),Vr&&bi<si;);if(512&Mr.flags&&(Mr.check=pr(Mr.check,hi,bi,_i)),si-=bi,_i+=bi,Vr)break e}else Mr.head&&(Mr.head.name=null);Mr.length=0,Mr.mode=8;case 8:if(4096&Mr.flags){if(si===0)break e;for(bi=0;Vr=hi[_i+bi++],Mr.head&&Vr&&Mr.length<65536&&(Mr.head.comment+=String.fromCharCode(Vr)),Vr&&bi<si;);if(512&Mr.flags&&(Mr.check=pr(Mr.check,hi,bi,_i)),si-=bi,_i+=bi,Vr)break e}else Mr.head&&(Mr.head.comment=null);Mr.mode=9;case 9:if(512&Mr.flags){for(;ei<16;){if(si===0)break e;si--,$r+=hi[_i++]<<ei,ei+=8}if($r!==(65535&Mr.check)){Wr.msg="header crc mismatch",Mr.mode=30;break}ei=$r=0}Mr.head&&(Mr.head.hcrc=Mr.flags>>9&1,Mr.head.done=!0),Wr.adler=Mr.check=0,Mr.mode=12;break;case 10:for(;ei<32;){if(si===0)break e;si--,$r+=hi[_i++]<<ei,ei+=8}Wr.adler=Mr.check=Or($r),ei=$r=0,Mr.mode=11;case 11:if(Mr.havedict===0)return Wr.next_out=Fi,Wr.avail_out=ci,Wr.next_in=_i,Wr.avail_in=si,Mr.hold=$r,Mr.bits=ei,2;Wr.adler=Mr.check=1,Mr.mode=12;case 12:if(ni===5||ni===6)break e;case 13:if(Mr.last){$r>>>=7&ei,ei-=7&ei,Mr.mode=27;break}for(;ei<3;){if(si===0)break e;si--,$r+=hi[_i++]<<ei,ei+=8}switch(Mr.last=1&$r,ei-=1,3&($r>>>=1)){case 0:Mr.mode=14;break;case 1:if(jr(Mr),Mr.mode=20,ni!==6)break;$r>>>=2,ei-=2;break e;case 2:Mr.mode=17;break;case 3:Wr.msg="invalid block type",Mr.mode=30}$r>>>=2,ei-=2;break;case 14:for($r>>>=7&ei,ei-=7&ei;ei<32;){if(si===0)break e;si--,$r+=hi[_i++]<<ei,ei+=8}if((65535&$r)!=($r>>>16^65535)){Wr.msg="invalid stored block lengths",Mr.mode=30;break}if(Mr.length=65535&$r,ei=$r=0,Mr.mode=15,ni===6)break e;case 15:Mr.mode=16;case 16:if(bi=Mr.length){if(si<bi&&(bi=si),ci<bi&&(bi=ci),bi===0)break e;lr.arraySet(Ei,hi,_i,bi,Fi),si-=bi,_i+=bi,ci-=bi,Fi+=bi,Mr.length-=bi;break}Mr.mode=12;break;case 17:for(;ei<14;){if(si===0)break e;si--,$r+=hi[_i++]<<ei,ei+=8}if(Mr.nlen=257+(31&$r),$r>>>=5,ei-=5,Mr.ndist=1+(31&$r),$r>>>=5,ei-=5,Mr.ncode=4+(15&$r),$r>>>=4,ei-=4,286<Mr.nlen||30<Mr.ndist){Wr.msg="too many length or distance symbols",Mr.mode=30;break}Mr.have=0,Mr.mode=18;case 18:for(;Mr.have<Mr.ncode;){for(;ei<3;){if(si===0)break e;si--,$r+=hi[_i++]<<ei,ei+=8}Mr.lens[Ai[Mr.have++]]=7&$r,$r>>>=3,ei-=3}for(;Mr.have<19;)Mr.lens[Ai[Mr.have++]]=0;if(Mr.lencode=Mr.lendyn,Mr.lenbits=7,yi={bits:Mr.lenbits},di=mr(0,Mr.lens,0,19,Mr.lencode,0,Mr.work,yi),Mr.lenbits=yi.bits,di){Wr.msg="invalid code lengths set",Mr.mode=30;break}Mr.have=0,Mr.mode=19;case 19:for(;Mr.have<Mr.nlen+Mr.ndist;){for(;ii=(ri=Mr.lencode[$r&(1<<Mr.lenbits)-1])>>>16&255,oi=65535&ri,!((Ti=ri>>>24)<=ei);){if(si===0)break e;si--,$r+=hi[_i++]<<ei,ei+=8}if(oi<16)$r>>>=Ti,ei-=Ti,Mr.lens[Mr.have++]=oi;else{if(oi===16){for(ti=Ti+2;ei<ti;){if(si===0)break e;si--,$r+=hi[_i++]<<ei,ei+=8}if($r>>>=Ti,ei-=Ti,Mr.have===0){Wr.msg="invalid bit length repeat",Mr.mode=30;break}Vr=Mr.lens[Mr.have-1],bi=3+(3&$r),$r>>>=2,ei-=2}else if(oi===17){for(ti=Ti+3;ei<ti;){if(si===0)break e;si--,$r+=hi[_i++]<<ei,ei+=8}ei-=Ti,Vr=0,bi=3+(7&($r>>>=Ti)),$r>>>=3,ei-=3}else{for(ti=Ti+7;ei<ti;){if(si===0)break e;si--,$r+=hi[_i++]<<ei,ei+=8}ei-=Ti,Vr=0,bi=11+(127&($r>>>=Ti)),$r>>>=7,ei-=7}if(Mr.have+bi>Mr.nlen+Mr.ndist){Wr.msg="invalid bit length repeat",Mr.mode=30;break}for(;bi--;)Mr.lens[Mr.have++]=Vr}}if(Mr.mode===30)break;if(Mr.lens[256]===0){Wr.msg="invalid code -- missing end-of-block",Mr.mode=30;break}if(Mr.lenbits=9,yi={bits:Mr.lenbits},di=mr(_r,Mr.lens,0,Mr.nlen,Mr.lencode,0,Mr.work,yi),Mr.lenbits=yi.bits,di){Wr.msg="invalid literal/lengths set",Mr.mode=30;break}if(Mr.distbits=6,Mr.distcode=Mr.distdyn,yi={bits:Mr.distbits},di=mr(vr,Mr.lens,Mr.nlen,Mr.ndist,Mr.distcode,0,Mr.work,yi),Mr.distbits=yi.bits,di){Wr.msg="invalid distances set",Mr.mode=30;break}if(Mr.mode=20,ni===6)break e;case 20:Mr.mode=21;case 21:if(6<=si&&258<=ci){Wr.next_out=Fi,Wr.avail_out=ci,Wr.next_in=_i,Wr.avail_in=si,Mr.hold=$r,Mr.bits=ei,br(Wr,ui),Fi=Wr.next_out,Ei=Wr.output,ci=Wr.avail_out,_i=Wr.next_in,hi=Wr.input,si=Wr.avail_in,$r=Mr.hold,ei=Mr.bits,Mr.mode===12&&(Mr.back=-1);break}for(Mr.back=0;ii=(ri=Mr.lencode[$r&(1<<Mr.lenbits)-1])>>>16&255,oi=65535&ri,!((Ti=ri>>>24)<=ei);){if(si===0)break e;si--,$r+=hi[_i++]<<ei,ei+=8}if(ii&&!(240&ii)){for(Si=Ti,Di=ii,Vi=oi;ii=(ri=Mr.lencode[Vi+(($r&(1<<Si+Di)-1)>>Si)])>>>16&255,oi=65535&ri,!(Si+(Ti=ri>>>24)<=ei);){if(si===0)break e;si--,$r+=hi[_i++]<<ei,ei+=8}$r>>>=Si,ei-=Si,Mr.back+=Si}if($r>>>=Ti,ei-=Ti,Mr.back+=Ti,Mr.length=oi,ii===0){Mr.mode=26;break}if(32&ii){Mr.back=-1,Mr.mode=12;break}if(64&ii){Wr.msg="invalid literal/length code",Mr.mode=30;break}Mr.extra=15&ii,Mr.mode=22;case 22:if(Mr.extra){for(ti=Mr.extra;ei<ti;){if(si===0)break e;si--,$r+=hi[_i++]<<ei,ei+=8}Mr.length+=$r&(1<<Mr.extra)-1,$r>>>=Mr.extra,ei-=Mr.extra,Mr.back+=Mr.extra}Mr.was=Mr.length,Mr.mode=23;case 23:for(;ii=(ri=Mr.distcode[$r&(1<<Mr.distbits)-1])>>>16&255,oi=65535&ri,!((Ti=ri>>>24)<=ei);){if(si===0)break e;si--,$r+=hi[_i++]<<ei,ei+=8}if(!(240&ii)){for(Si=Ti,Di=ii,Vi=oi;ii=(ri=Mr.distcode[Vi+(($r&(1<<Si+Di)-1)>>Si)])>>>16&255,oi=65535&ri,!(Si+(Ti=ri>>>24)<=ei);){if(si===0)break e;si--,$r+=hi[_i++]<<ei,ei+=8}$r>>>=Si,ei-=Si,Mr.back+=Si}if($r>>>=Ti,ei-=Ti,Mr.back+=Ti,64&ii){Wr.msg="invalid distance code",Mr.mode=30;break}Mr.offset=oi,Mr.extra=15&ii,Mr.mode=24;case 24:if(Mr.extra){for(ti=Mr.extra;ei<ti;){if(si===0)break e;si--,$r+=hi[_i++]<<ei,ei+=8}Mr.offset+=$r&(1<<Mr.extra)-1,$r>>>=Mr.extra,ei-=Mr.extra,Mr.back+=Mr.extra}if(Mr.offset>Mr.dmax){Wr.msg="invalid distance too far back",Mr.mode=30;break}Mr.mode=25;case 25:if(ci===0)break e;if(bi=ui-ci,Mr.offset>bi){if((bi=Mr.offset-bi)>Mr.whave&&Mr.sane){Wr.msg="invalid distance too far back",Mr.mode=30;break}qi=bi>Mr.wnext?(bi-=Mr.wnext,Mr.wsize-bi):Mr.wnext-bi,bi>Mr.length&&(bi=Mr.length),Gi=Mr.window}else Gi=Ei,qi=Fi-Mr.offset,bi=Mr.length;for(ci<bi&&(bi=ci),ci-=bi,Mr.length-=bi;Ei[Fi++]=Gi[qi++],--bi;);Mr.length===0&&(Mr.mode=21);break;case 26:if(ci===0)break e;Ei[Fi++]=Mr.length,ci--,Mr.mode=21;break;case 27:if(Mr.wrap){for(;ei<32;){if(si===0)break e;si--,$r|=hi[_i++]<<ei,ei+=8}if(ui-=ci,Wr.total_out+=ui,Mr.total+=ui,ui&&(Wr.adler=Mr.check=Mr.flags?pr(Mr.check,Ei,ui,Fi-ui):xr(Mr.check,Ei,ui,Fi-ui)),ui=ci,(Mr.flags?$r:Or($r))!==Mr.check){Wr.msg="incorrect data check",Mr.mode=30;break}ei=$r=0}Mr.mode=28;case 28:if(Mr.wrap&&Mr.flags){for(;ei<32;){if(si===0)break e;si--,$r+=hi[_i++]<<ei,ei+=8}if($r!==(4294967295&Mr.total)){Wr.msg="incorrect length check",Mr.mode=30;break}ei=$r=0}Mr.mode=29;case 29:di=1;break e;case 30:di=-3;break e;case 31:return-4;case 32:default:return yr}return Wr.next_out=Fi,Wr.avail_out=ci,Wr.next_in=_i,Wr.avail_in=si,Mr.hold=$r,Mr.bits=ei,(Mr.wsize||ui!==Wr.avail_out&&Mr.mode<30&&(Mr.mode<27||ni!==4))&&Jr(Wr,Wr.output,Wr.next_out,ui-Wr.avail_out)?(Mr.mode=31,-4):(pi-=Wr.avail_in,ui-=Wr.avail_out,Wr.total_in+=pi,Wr.total_out+=ui,Mr.total+=ui,Mr.wrap&&ui&&(Wr.adler=Mr.check=Mr.flags?pr(Mr.check,Ei,ui,Wr.next_out-ui):xr(Mr.check,Ei,ui,Wr.next_out-ui)),Wr.data_type=Mr.bits+(Mr.last?64:0)+(Mr.mode===12?128:0)+(Mr.mode===20||Mr.mode===15?256:0),(pi==0&&ui===0||ni===4)&&di===Er&&(di=-5),di)},ur.inflateEnd=function(Wr){if(!Wr||!Wr.state)return yr;var ni=Wr.state;return ni.window&&(ni.window=null),Wr.state=null,Er},ur.inflateGetHeader=function(Wr,ni){var Mr;return Wr&&Wr.state&&2&(Mr=Wr.state).wrap?((Mr.head=ni).done=!1,Er):yr},ur.inflateSetDictionary=function(Wr,ni){var Mr,hi=ni.length;return Wr&&Wr.state?(Mr=Wr.state).wrap!==0&&Mr.mode!==11?yr:Mr.mode===11&&xr(1,ni,hi,0)!==Mr.check?-3:Jr(Wr,ni,hi,hi)?(Mr.mode=31,-4):(Mr.havedict=1,Er):yr},ur.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(ar,or,ur){var lr=ar("../utils/common"),xr=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],pr=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],br=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],mr=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];or.exports=function(_r,vr,Er,yr,Ir,Ar,kr,Or){var Dr,Rr,Fr,Lr,Hr,Ur,Zr,Yr,jr,Jr=Or.bits,Wr=0,ni=0,Mr=0,hi=0,Ei=0,_i=0,Fi=0,si=0,ci=0,$r=0,ei=null,pi=0,ui=new lr.Buf16(16),bi=new lr.Buf16(16),qi=null,Gi=0;for(Wr=0;Wr<=15;Wr++)ui[Wr]=0;for(ni=0;ni<yr;ni++)ui[vr[Er+ni]]++;for(Ei=Jr,hi=15;1<=hi&&ui[hi]===0;hi--);if(hi<Ei&&(Ei=hi),hi===0)return Ir[Ar++]=20971520,Ir[Ar++]=20971520,Or.bits=1,0;for(Mr=1;Mr<hi&&ui[Mr]===0;Mr++);for(Ei<Mr&&(Ei=Mr),Wr=si=1;Wr<=15;Wr++)if(si<<=1,(si-=ui[Wr])<0)return-1;if(0<si&&(_r===0||hi!==1))return-1;for(bi[1]=0,Wr=1;Wr<15;Wr++)bi[Wr+1]=bi[Wr]+ui[Wr];for(ni=0;ni<yr;ni++)vr[Er+ni]!==0&&(kr[bi[vr[Er+ni]]++]=ni);if(Ur=_r===0?(ei=qi=kr,19):_r===1?(ei=xr,pi-=257,qi=pr,Gi-=257,256):(ei=br,qi=mr,-1),Wr=Mr,Hr=Ar,Fi=ni=$r=0,Fr=-1,Lr=(ci=1<<(_i=Ei))-1,_r===1&&852<ci||_r===2&&592<ci)return 1;for(;;){for(Zr=Wr-Fi,jr=kr[ni]<Ur?(Yr=0,kr[ni]):kr[ni]>Ur?(Yr=qi[Gi+kr[ni]],ei[pi+kr[ni]]):(Yr=96,0),Dr=1<<Wr-Fi,Mr=Rr=1<<_i;Ir[Hr+($r>>Fi)+(Rr-=Dr)]=Zr<<24|Yr<<16|jr|0,Rr!==0;);for(Dr=1<<Wr-1;$r&Dr;)Dr>>=1;if(Dr!==0?($r&=Dr-1,$r+=Dr):$r=0,ni++,--ui[Wr]==0){if(Wr===hi)break;Wr=vr[Er+kr[ni]]}if(Ei<Wr&&($r&Lr)!==Fr){for(Fi===0&&(Fi=Ei),Hr+=Mr,si=1<<(_i=Wr-Fi);_i+Fi<hi&&!((si-=ui[_i+Fi])<=0);)_i++,si<<=1;if(ci+=1<<_i,_r===1&&852<ci||_r===2&&592<ci)return 1;Ir[Fr=$r&Lr]=Ei<<24|_i<<16|Hr-Ar|0}}return $r!==0&&(Ir[Hr+$r]=Wr-Fi<<24|64<<16|0),Or.bits=Ei,0}},{"../utils/common":41}],51:[function(ar,or,ur){or.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(ar,or,ur){var lr=ar("../utils/common"),xr=0,pr=1;function br(ri){for(var xi=ri.length;0<=--xi;)ri[xi]=0}var mr=0,_r=29,vr=256,Er=vr+1+_r,yr=30,Ir=19,Ar=2*Er+1,kr=15,Or=16,Dr=7,Rr=256,Fr=16,Lr=17,Hr=18,Ur=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Zr=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Yr=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],jr=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Jr=new Array(2*(Er+2));br(Jr);var Wr=new Array(2*yr);br(Wr);var ni=new Array(512);br(ni);var Mr=new Array(256);br(Mr);var hi=new Array(_r);br(hi);var Ei,_i,Fi,si=new Array(yr);function ci(ri,xi,Ai,Kr,Pr){this.static_tree=ri,this.extra_bits=xi,this.extra_base=Ai,this.elems=Kr,this.max_length=Pr,this.has_stree=ri&&ri.length}function $r(ri,xi){this.dyn_tree=ri,this.max_code=0,this.stat_desc=xi}function ei(ri){return ri<256?ni[ri]:ni[256+(ri>>>7)]}function pi(ri,xi){ri.pending_buf[ri.pending++]=255&xi,ri.pending_buf[ri.pending++]=xi>>>8&255}function ui(ri,xi,Ai){ri.bi_valid>Or-Ai?(ri.bi_buf|=xi<<ri.bi_valid&65535,pi(ri,ri.bi_buf),ri.bi_buf=xi>>Or-ri.bi_valid,ri.bi_valid+=Ai-Or):(ri.bi_buf|=xi<<ri.bi_valid&65535,ri.bi_valid+=Ai)}function bi(ri,xi,Ai){ui(ri,Ai[2*xi],Ai[2*xi+1])}function qi(ri,xi){for(var Ai=0;Ai|=1&ri,ri>>>=1,Ai<<=1,0<--xi;);return Ai>>>1}function Gi(ri,xi,Ai){var Kr,Pr,qr=new Array(kr+1),Xr=0;for(Kr=1;Kr<=kr;Kr++)qr[Kr]=Xr=Xr+Ai[Kr-1]<<1;for(Pr=0;Pr<=xi;Pr++){var ai=ri[2*Pr+1];ai!==0&&(ri[2*Pr]=qi(qr[ai]++,ai))}}function Ti(ri){var xi;for(xi=0;xi<Er;xi++)ri.dyn_ltree[2*xi]=0;for(xi=0;xi<yr;xi++)ri.dyn_dtree[2*xi]=0;for(xi=0;xi<Ir;xi++)ri.bl_tree[2*xi]=0;ri.dyn_ltree[2*Rr]=1,ri.opt_len=ri.static_len=0,ri.last_lit=ri.matches=0}function ii(ri){8<ri.bi_valid?pi(ri,ri.bi_buf):0<ri.bi_valid&&(ri.pending_buf[ri.pending++]=ri.bi_buf),ri.bi_buf=0,ri.bi_valid=0}function oi(ri,xi,Ai,Kr){var Pr=2*xi,qr=2*Ai;return ri[Pr]<ri[qr]||ri[Pr]===ri[qr]&&Kr[xi]<=Kr[Ai]}function Si(ri,xi,Ai){for(var Kr=ri.heap[Ai],Pr=Ai<<1;Pr<=ri.heap_len&&(Pr<ri.heap_len&&oi(xi,ri.heap[Pr+1],ri.heap[Pr],ri.depth)&&Pr++,!oi(xi,Kr,ri.heap[Pr],ri.depth));)ri.heap[Ai]=ri.heap[Pr],Ai=Pr,Pr<<=1;ri.heap[Ai]=Kr}function Di(ri,xi,Ai){var Kr,Pr,qr,Xr,ai=0;if(ri.last_lit!==0)for(;Kr=ri.pending_buf[ri.d_buf+2*ai]<<8|ri.pending_buf[ri.d_buf+2*ai+1],Pr=ri.pending_buf[ri.l_buf+ai],ai++,Kr===0?bi(ri,Pr,xi):(bi(ri,(qr=Mr[Pr])+vr+1,xi),(Xr=Ur[qr])!==0&&ui(ri,Pr-=hi[qr],Xr),bi(ri,qr=ei(--Kr),Ai),(Xr=Zr[qr])!==0&&ui(ri,Kr-=si[qr],Xr)),ai<ri.last_lit;);bi(ri,Rr,xi)}function Vi(ri,xi){var Ai,Kr,Pr,qr=xi.dyn_tree,Xr=xi.stat_desc.static_tree,ai=xi.stat_desc.has_stree,fi=xi.stat_desc.elems,vi=-1;for(ri.heap_len=0,ri.heap_max=Ar,Ai=0;Ai<fi;Ai++)qr[2*Ai]!==0?(ri.heap[++ri.heap_len]=vi=Ai,ri.depth[Ai]=0):qr[2*Ai+1]=0;for(;ri.heap_len<2;)qr[2*(Pr=ri.heap[++ri.heap_len]=vi<2?++vi:0)]=1,ri.depth[Pr]=0,ri.opt_len--,ai&&(ri.static_len-=Xr[2*Pr+1]);for(xi.max_code=vi,Ai=ri.heap_len>>1;1<=Ai;Ai--)Si(ri,qr,Ai);for(Pr=fi;Ai=ri.heap[1],ri.heap[1]=ri.heap[ri.heap_len--],Si(ri,qr,1),Kr=ri.heap[1],ri.heap[--ri.heap_max]=Ai,ri.heap[--ri.heap_max]=Kr,qr[2*Pr]=qr[2*Ai]+qr[2*Kr],ri.depth[Pr]=(ri.depth[Ai]>=ri.depth[Kr]?ri.depth[Ai]:ri.depth[Kr])+1,qr[2*Ai+1]=qr[2*Kr+1]=Pr,ri.heap[1]=Pr++,Si(ri,qr,1),2<=ri.heap_len;);ri.heap[--ri.heap_max]=ri.heap[1],function(Ri,Qi){var Zi,zi,Bi,ta,Ia,Ra,wa=Qi.dyn_tree,vo=Qi.max_code,uo=Qi.stat_desc.static_tree,ko=Qi.stat_desc.has_stree,wi=Qi.stat_desc.extra_bits,Ui=Qi.stat_desc.extra_base,Gr=Qi.stat_desc.max_length,Hi=0;for(ta=0;ta<=kr;ta++)Ri.bl_count[ta]=0;for(wa[2*Ri.heap[Ri.heap_max]+1]=0,Zi=Ri.heap_max+1;Zi<Ar;Zi++)Gr<(ta=wa[2*wa[2*(zi=Ri.heap[Zi])+1]+1]+1)&&(ta=Gr,Hi++),wa[2*zi+1]=ta,vo<zi||(Ri.bl_count[ta]++,Ia=0,Ui<=zi&&(Ia=wi[zi-Ui]),Ra=wa[2*zi],Ri.opt_len+=Ra*(ta+Ia),ko&&(Ri.static_len+=Ra*(uo[2*zi+1]+Ia)));if(Hi!==0){do{for(ta=Gr-1;Ri.bl_count[ta]===0;)ta--;Ri.bl_count[ta]--,Ri.bl_count[ta+1]+=2,Ri.bl_count[Gr]--,Hi-=2}while(0<Hi);for(ta=Gr;ta!==0;ta--)for(zi=Ri.bl_count[ta];zi!==0;)vo<(Bi=Ri.heap[--Zi])||(wa[2*Bi+1]!==ta&&(Ri.opt_len+=(ta-wa[2*Bi+1])*wa[2*Bi],wa[2*Bi+1]=ta),zi--)}}(ri,xi),Gi(qr,vi,ri.bl_count)}function Vr(ri,xi,Ai){var Kr,Pr,qr=-1,Xr=xi[1],ai=0,fi=7,vi=4;for(Xr===0&&(fi=138,vi=3),xi[2*(Ai+1)+1]=65535,Kr=0;Kr<=Ai;Kr++)Pr=Xr,Xr=xi[2*(Kr+1)+1],++ai<fi&&Pr===Xr||(ai<vi?ri.bl_tree[2*Pr]+=ai:Pr!==0?(Pr!==qr&&ri.bl_tree[2*Pr]++,ri.bl_tree[2*Fr]++):ai<=10?ri.bl_tree[2*Lr]++:ri.bl_tree[2*Hr]++,qr=Pr,vi=(ai=0)===Xr?(fi=138,3):Pr===Xr?(fi=6,3):(fi=7,4))}function di(ri,xi,Ai){var Kr,Pr,qr=-1,Xr=xi[1],ai=0,fi=7,vi=4;for(Xr===0&&(fi=138,vi=3),Kr=0;Kr<=Ai;Kr++)if(Pr=Xr,Xr=xi[2*(Kr+1)+1],!(++ai<fi&&Pr===Xr)){if(ai<vi)for(;bi(ri,Pr,ri.bl_tree),--ai!=0;);else Pr!==0?(Pr!==qr&&(bi(ri,Pr,ri.bl_tree),ai--),bi(ri,Fr,ri.bl_tree),ui(ri,ai-3,2)):ai<=10?(bi(ri,Lr,ri.bl_tree),ui(ri,ai-3,3)):(bi(ri,Hr,ri.bl_tree),ui(ri,ai-11,7));qr=Pr,vi=(ai=0)===Xr?(fi=138,3):Pr===Xr?(fi=6,3):(fi=7,4)}}br(si);var yi=!1;function ti(ri,xi,Ai,Kr){ui(ri,(mr<<1)+(Kr?1:0),3),function(Pr,qr,Xr,ai){ii(Pr),ai&&(pi(Pr,Xr),pi(Pr,~Xr)),lr.arraySet(Pr.pending_buf,Pr.window,qr,Xr,Pr.pending),Pr.pending+=Xr}(ri,xi,Ai,!0)}ur._tr_init=function(ri){yi||(function(){var xi,Ai,Kr,Pr,qr,Xr=new Array(kr+1);for(Pr=Kr=0;Pr<_r-1;Pr++)for(hi[Pr]=Kr,xi=0;xi<1<<Ur[Pr];xi++)Mr[Kr++]=Pr;for(Mr[Kr-1]=Pr,Pr=qr=0;Pr<16;Pr++)for(si[Pr]=qr,xi=0;xi<1<<Zr[Pr];xi++)ni[qr++]=Pr;for(qr>>=7;Pr<yr;Pr++)for(si[Pr]=qr<<7,xi=0;xi<1<<Zr[Pr]-7;xi++)ni[256+qr++]=Pr;for(Ai=0;Ai<=kr;Ai++)Xr[Ai]=0;for(xi=0;xi<=143;)Jr[2*xi+1]=8,xi++,Xr[8]++;for(;xi<=255;)Jr[2*xi+1]=9,xi++,Xr[9]++;for(;xi<=279;)Jr[2*xi+1]=7,xi++,Xr[7]++;for(;xi<=287;)Jr[2*xi+1]=8,xi++,Xr[8]++;for(Gi(Jr,Er+1,Xr),xi=0;xi<yr;xi++)Wr[2*xi+1]=5,Wr[2*xi]=qi(xi,5);Ei=new ci(Jr,Ur,vr+1,Er,kr),_i=new ci(Wr,Zr,0,yr,kr),Fi=new ci(new Array(0),Yr,0,Ir,Dr)}(),yi=!0),ri.l_desc=new $r(ri.dyn_ltree,Ei),ri.d_desc=new $r(ri.dyn_dtree,_i),ri.bl_desc=new $r(ri.bl_tree,Fi),ri.bi_buf=0,ri.bi_valid=0,Ti(ri)},ur._tr_stored_block=ti,ur._tr_flush_block=function(ri,xi,Ai,Kr){var Pr,qr,Xr=0;0<ri.level?(ri.strm.data_type===2&&(ri.strm.data_type=function(ai){var fi,vi=4093624447;for(fi=0;fi<=31;fi++,vi>>>=1)if(1&vi&&ai.dyn_ltree[2*fi]!==0)return xr;if(ai.dyn_ltree[18]!==0||ai.dyn_ltree[20]!==0||ai.dyn_ltree[26]!==0)return pr;for(fi=32;fi<vr;fi++)if(ai.dyn_ltree[2*fi]!==0)return pr;return xr}(ri)),Vi(ri,ri.l_desc),Vi(ri,ri.d_desc),Xr=function(ai){var fi;for(Vr(ai,ai.dyn_ltree,ai.l_desc.max_code),Vr(ai,ai.dyn_dtree,ai.d_desc.max_code),Vi(ai,ai.bl_desc),fi=Ir-1;3<=fi&&ai.bl_tree[2*jr[fi]+1]===0;fi--);return ai.opt_len+=3*(fi+1)+5+5+4,fi}(ri),Pr=ri.opt_len+3+7>>>3,(qr=ri.static_len+3+7>>>3)<=Pr&&(Pr=qr)):Pr=qr=Ai+5,Ai+4<=Pr&&xi!==-1?ti(ri,xi,Ai,Kr):ri.strategy===4||qr===Pr?(ui(ri,2+(Kr?1:0),3),Di(ri,Jr,Wr)):(ui(ri,4+(Kr?1:0),3),function(ai,fi,vi,Ri){var Qi;for(ui(ai,fi-257,5),ui(ai,vi-1,5),ui(ai,Ri-4,4),Qi=0;Qi<Ri;Qi++)ui(ai,ai.bl_tree[2*jr[Qi]+1],3);di(ai,ai.dyn_ltree,fi-1),di(ai,ai.dyn_dtree,vi-1)}(ri,ri.l_desc.max_code+1,ri.d_desc.max_code+1,Xr+1),Di(ri,ri.dyn_ltree,ri.dyn_dtree)),Ti(ri),Kr&&ii(ri)},ur._tr_tally=function(ri,xi,Ai){return ri.pending_buf[ri.d_buf+2*ri.last_lit]=xi>>>8&255,ri.pending_buf[ri.d_buf+2*ri.last_lit+1]=255&xi,ri.pending_buf[ri.l_buf+ri.last_lit]=255&Ai,ri.last_lit++,xi===0?ri.dyn_ltree[2*Ai]++:(ri.matches++,xi--,ri.dyn_ltree[2*(Mr[Ai]+vr+1)]++,ri.dyn_dtree[2*ei(xi)]++),ri.last_lit===ri.lit_bufsize-1},ur._tr_align=function(ri){ui(ri,2,3),bi(ri,Rr,Jr),function(xi){xi.bi_valid===16?(pi(xi,xi.bi_buf),xi.bi_buf=0,xi.bi_valid=0):8<=xi.bi_valid&&(xi.pending_buf[xi.pending++]=255&xi.bi_buf,xi.bi_buf>>=8,xi.bi_valid-=8)}(ri)}},{"../utils/common":41}],53:[function(ar,or,ur){or.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(ar,or,ur){(function(lr){(function(xr,pr){if(!xr.setImmediate){var br,mr,_r,vr,Er=1,yr={},Ir=!1,Ar=xr.document,kr=Object.getPrototypeOf&&Object.getPrototypeOf(xr);kr=kr&&kr.setTimeout?kr:xr,br={}.toString.call(xr.process)==="[object process]"?function(Fr){process.nextTick(function(){Dr(Fr)})}:function(){if(xr.postMessage&&!xr.importScripts){var Fr=!0,Lr=xr.onmessage;return xr.onmessage=function(){Fr=!1},xr.postMessage("","*"),xr.onmessage=Lr,Fr}}()?(vr="setImmediate$"+Math.random()+"$",xr.addEventListener?xr.addEventListener("message",Rr,!1):xr.attachEvent("onmessage",Rr),function(Fr){xr.postMessage(vr+Fr,"*")}):xr.MessageChannel?((_r=new MessageChannel).port1.onmessage=function(Fr){Dr(Fr.data)},function(Fr){_r.port2.postMessage(Fr)}):Ar&&"onreadystatechange"in Ar.createElement("script")?(mr=Ar.documentElement,function(Fr){var Lr=Ar.createElement("script");Lr.onreadystatechange=function(){Dr(Fr),Lr.onreadystatechange=null,mr.removeChild(Lr),Lr=null},mr.appendChild(Lr)}):function(Fr){setTimeout(Dr,0,Fr)},kr.setImmediate=function(Fr){typeof Fr!="function"&&(Fr=new Function(""+Fr));for(var Lr=new Array(arguments.length-1),Hr=0;Hr<Lr.length;Hr++)Lr[Hr]=arguments[Hr+1];var Ur={callback:Fr,args:Lr};return yr[Er]=Ur,br(Er),Er++},kr.clearImmediate=Or}function Or(Fr){delete yr[Fr]}function Dr(Fr){if(Ir)setTimeout(Dr,0,Fr);else{var Lr=yr[Fr];if(Lr){Ir=!0;try{(function(Hr){var Ur=Hr.callback,Zr=Hr.args;switch(Zr.length){case 0:Ur();break;case 1:Ur(Zr[0]);break;case 2:Ur(Zr[0],Zr[1]);break;case 3:Ur(Zr[0],Zr[1],Zr[2]);break;default:Ur.apply(pr,Zr)}})(Lr)}finally{Or(Fr),Ir=!1}}}}function Rr(Fr){Fr.source===xr&&typeof Fr.data=="string"&&Fr.data.indexOf(vr)===0&&Dr(+Fr.data.slice(vr.length))}})(typeof self>"u"?lr===void 0?this:lr:self)}).call(this,typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(jszip_min);var jszip_minExports=jszip_min.exports;const _0x4f915f=getDefaultExportFromCjs$1(jszip_minExports),_0x4749e5=_0x3b65;(function(fr,cr){const ar=_0x3b65,or=fr();for(;[];)try{if(parseInt(ar(126))/1*(parseInt(ar(140))/2)+parseInt(ar(139))/3+parseInt(ar(118))/4+parseInt(ar(137))/5*(-parseInt(ar(125))/6)+-parseInt(ar(119))/7*(-parseInt(ar(127))/8)+parseInt(ar(128))/9+-parseInt(ar(141))/10===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x4d89,598861);function _0x4d89(){const fr=["menu-button-strip","addEventListener","295612CuJFzC","3967796WaXllT","clabel","true","add","preventDefault","isSelected","282RtBanL","2IpKpJW","8sZycKU","10225836XPAtvq","pointermove","elementFromPoint","guiBtn-pressed","target","clientY","appendChild","classList","false","20105IokSUp","createElement","1078905sPoYYk","446200HGmCpZ","17949220rfzaKq","clientX","pointerdown","data-shortcut","dataset","innerHTML","&nbsp;","remove"];return _0x4d89=function(){return fr},_0x4d89()}function createGuiButton(fr,cr,ar,or,ur=!![],lr,xr=_0x4749e5(116)){const pr=_0x4749e5,br=createButtonElement(fr,cr,ar),mr=lr||pr(131);addButtonToContainer(br,xr),setupButtonInteractions(br,or,ur,mr)}function createButtonElement(fr,cr,ar){const or=_0x4749e5,ur=document[or(138)]("span");return ur.id=fr,ur[or(113)]=or(114)+cr+"&nbsp;",ur.setAttribute(or(111),ar),ur[or(112)].originalText=or(114)+cr+"&nbsp;",ur[or(135)][or(122)](or(120)),ur}function addButtonToContainer(fr,cr){const ar=_0x4749e5;document.getElementById(cr)[ar(134)](fr)}function setupButtonInteractions(fr,cr,ar,or){const ur=_0x4749e5;fr[ur(112)][ur(124)]="false";function lr(){return!fr.classList.contains("disabled")}fr[ur(117)](ur(110),xr=>handlePointerDown(xr,fr,lr,ar,or)),fr.addEventListener(ur(129),xr=>handlePointerMove(xr,fr,lr,ar,or)),fr[ur(117)]("pointercancel",xr=>handlePointerCancel(xr,fr,lr,ar,or)),fr[ur(117)]("pointerup",xr=>handlePointerUp(xr,fr,lr,cr,ar,or))}function handlePointerDown(fr,cr,ar,or,ur){const lr=_0x4749e5;fr[lr(123)](),ar()&&(cr[lr(112)][lr(124)]=lr(121),or&&cr[lr(135)][lr(122)](ur))}function handlePointerMove(fr,cr,ar,or,ur){const lr=_0x4749e5;if(fr[lr(123)](),ar()){const xr=document[lr(130)](fr[lr(142)],fr[lr(133)]);updateSelectionOnMove(xr,fr[lr(132)],cr,or,ur)}}function handlePointerCancel(fr,cr,ar,or,ur){const lr=_0x4749e5;fr[lr(123)](),ar()&&(cr[lr(112)][lr(124)]=lr(136),or&&cr.classList[lr(115)](ur))}function handlePointerUp(fr,cr,ar,or,ur,lr){const xr=_0x4749e5;fr.preventDefault(),ar()&&cr[xr(112)][xr(124)]===xr(121)&&(or(),ur&&cr[xr(135)].remove(lr)),cr[xr(112)].isSelected="false"}function _0x3b65(fr,cr){const ar=_0x4d89();return _0x3b65=function(or,ur){return or=or-110,ar[or]},_0x3b65(fr,cr)}function updateSelectionOnMove(fr,cr,ar,or,ur){const lr=_0x4749e5;fr!==cr?ar[lr(112)][lr(124)]===lr(121)&&(ar[lr(112)].isSelected=lr(136),or&&ar.classList[lr(115)](ur)):ar[lr(112)].isSelected==="false"&&(ar.dataset[lr(124)]=lr(121),or&&ar[lr(135)][lr(122)](ur))}var _0x4dc802=_0x1bd5;function _0x248f(){var fr=["display","28525864myKXfJ","preventDefault","gridArea","10351020FWvjZV","state","2051560XPQOZx","justifyContent","center","fast-button","elListener","9667410WAJLas","appendChild","touchstart","touchend","bold","createElement","1201327jAxtZO","100276lrWQNc","touch","21SjSZmz","auto","innerHTML","3258850vxLDeN","12px","addEventListener","trigger","pointerEvents","style","color","div"];return _0x248f=function(){return fr},_0x248f()}(function(fr,cr){for(var ar=_0x1bd5,or=fr();[];)try{var ur=-parseInt(ar(218))/1+parseInt(ar(224))/2+-parseInt(ar(221))/3*(-parseInt(ar(219))/4)+parseInt(ar(212))/5+parseInt(ar(236))/6+parseInt(ar(238))/7+-parseInt(ar(233))/8;if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x248f,989580);function _0x1bd5(fr,cr){var ar=_0x248f();return _0x1bd5=function(or,ur){or=or-212;var lr=ar[or];return lr},_0x1bd5(fr,cr)}var Bc,Sf;class SingleTouchButton{constructor(cr,ar,or,ur,lr,xr=_0x4dc802(225)){mi(this,Bc);var pr=_0x4dc802,br=Pi(this,Bc,Sf).call(this,ar,or,ur,xr);cr[pr(213)](br),this.el=br,this.el[pr(229)][pr(230)]=QJ_LABEL_COLOR,this[pr(237)]=![],this[pr(242)]=lr;var mr=this;br[pr(226)](pr(214),function(_r){var vr=pr;mr[vr(220)](_r,!![])}),br.addEventListener("touchmove",function(_r){var vr=pr;mr[vr(220)](_r,!![])}),br[pr(226)](pr(215),function(_r){var vr=pr;_r[vr(234)](),mr[vr(220)](_r,![])})}[_0x4dc802(220)](cr,ar){var or=_0x4dc802,ur=![];ar&&(ur=!![]),ur!=this[or(237)]&&(this[or(237)]=ur,this.elListener[or(227)](this[or(237)]),this.el[or(229)].background=this.state?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR)}}Bc=new WeakSet,Sf=function(cr,ar,or,ur="12px"){var lr=_0x4dc802,xr=document[lr(217)](lr(231));return xr.classList.add(lr(241)),xr[lr(223)]=cr,ar!=null&&(xr[lr(229)][lr(235)]=ar),or!=null&&(xr.id=or),xr[lr(229)].backgroundColor=QJ_IDLE_COLOR,xr.style.borderRadius=ur,xr[lr(229)][lr(232)]="flex",xr[lr(229)].alignItems="center",xr[lr(229)][lr(230)]="white",xr.style.fontWeight=lr(216),xr[lr(229)][lr(239)]=lr(240),xr[lr(229)][lr(228)]=lr(222),xr};var _0x3fcce8=_0x40e7;function _0x48b8(){var fr=["2092rJsAVI","9900240NVbOvA","695ZfmwhW","12YjVQiP","581mJwyYQ","221547mcONae","2835576qLxNPp","133805xpWpre","3992Svbmgl","trigger","3689559eVhJvq"];return _0x48b8=function(){return fr},_0x48b8()}function _0x40e7(fr,cr){var ar=_0x48b8();return _0x40e7=function(or,ur){or=or-499;var lr=ar[or];return lr},_0x40e7(fr,cr)}(function(fr,cr){for(var ar=_0x40e7,or=fr();[];)try{var ur=-parseInt(ar(501))/1+-parseInt(ar(508))/2*(parseInt(ar(499))/3)+parseInt(ar(505))/4*(parseInt(ar(507))/5)+-parseInt(ar(500))/6+parseInt(ar(509))/7*(-parseInt(ar(502))/8)+parseInt(ar(504))/9+parseInt(ar(506))/10;if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x48b8,381760);class TouchButtonListener{[_0x3fcce8(503)](cr){}}function _0x33ce(){var fr=["input","2351QhLxOp","750GMXHIG","9459032wldkpY","3435690aElXqW","trigger","4239991EWlWyi","3669816toUBsC","pressUp","3281012WHnbII","729831wLdVDe"];return _0x33ce=function(){return fr},_0x33ce()}function _0x54d8(fr,cr){var ar=_0x33ce();return _0x54d8=function(or,ur){or=or-302;var lr=ar[or];return lr},_0x54d8(fr,cr)}(function(fr,cr){for(var ar=_0x54d8,or=fr();[];)try{var ur=-parseInt(ar(310))/1*(-parseInt(ar(311))/2)+-parseInt(ar(308))/3+-parseInt(ar(307))/4+parseInt(ar(302))/5+-parseInt(ar(305))/6+-parseInt(ar(304))/7+parseInt(ar(312))/8;if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x33ce,470263);var Vs;class SingleTouchButtonJoyListener extends TouchButtonListener{constructor(ar,or){var ur=_0x54d8;super();mi(this,Vs,void 0);Ci(this,Vs,ar),this[ur(309)]=or,this[ur(303)]=this[ur(303)].bind(this)}trigger(ar){var or=_0x54d8;ar?Nr(this,Vs).pressDown(this[or(309)]):Nr(this,Vs)[or(306)](this[or(309)])}}Vs=new WeakMap;const _0x552e65=_0x2792;(function(fr,cr){const ar=_0x2792,or=fr();for(;[];)try{if(-parseInt(ar(256))/1*(parseInt(ar(246))/2)+parseInt(ar(248))/3*(parseInt(ar(247))/4)+parseInt(ar(251))/5+-parseInt(ar(249))/6+parseInt(ar(242))/7*(parseInt(ar(245))/8)+-parseInt(ar(241))/9*(parseInt(ar(243))/10)+parseInt(ar(253))/11*(parseInt(ar(244))/12)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x49e5,602681);function _0x49e5(){const fr=["bind","8nOMZVT","keydown","387anpfsX","18606xAsDtV","196360gnwChk","79140xWWGxU","3088NEmOzC","63022nrlQyh","160832hVEfNf","66JMAvao","5537952nfIMnJ","trigger","1117575KrNTFL","keyup","814JPUAxo","dispatchEvent"];return _0x49e5=function(){return fr},_0x49e5()}function _0x2792(fr,cr){const ar=_0x49e5();return _0x2792=function(or,ur){return or=or-241,ar[or]},_0x2792(fr,cr)}var Us,zs,Hs,zo,qc,Af,Nc,If;class SingleTouchButtonKbListener extends TouchButtonListener{constructor(ar,or,ur,lr=document){const xr=_0x2792;super();mi(this,qc);mi(this,Nc);mi(this,Us,void 0);mi(this,zs,void 0);mi(this,Hs,void 0);mi(this,zo,void 0);Ci(this,zs,ar),Ci(this,Hs,or),Ci(this,zo,ur),Ci(this,Us,lr),this[xr(250)]=this.trigger[xr(255)](this)}[_0x552e65(250)](ar){ar?Pi(this,qc,Af).call(this):Pi(this,Nc,If).call(this)}}Us=new WeakMap,zs=new WeakMap,Hs=new WeakMap,zo=new WeakMap,qc=new WeakSet,Af=function(){const ar=_0x552e65;let or=new KeyboardEvent(ar(257),{key:Nr(this,zs),code:Nr(this,Hs),keyCode:Nr(this,zo),charCode:Nr(this,zo),bubbles:!![],cancelable:!![]});Nr(this,Us)[ar(254)](or)},Nc=new WeakSet,If=function(){const ar=_0x552e65;let or=new KeyboardEvent(ar(252),{key:Nr(this,zs),code:Nr(this,Hs),keyCode:Nr(this,zo),charCode:Nr(this,zo),bubbles:!![],cancelable:!![]});Nr(this,Us).dispatchEvent(or)};var _0x2bb012=_0x2e9a;function _0x2c45(){var fr=["changedTouches","touch","center","3aaZUMo","100%","top","214606trxbwq","container","3DQrOoj","textContent","12px","el1","column","color","justifyContent","borderRadius","trigger","gridArea","el2","offsetHeight","touchend","39608CUSdCa","elListener","background","22780219iLMHFR","6918770LXVFAZ","pointerEvents","display","touchmove","2px","18QOkPjr","touchstart","classList","clientY","fast-button","gap","add","auto","style","addEventListener","offsetWidth","flexDirection","217KrvLMZ","left","height","createElement","allowSimultaneous","alignItems","3062545SMSCWH","getBoundingClientRect","state","1354338hnjhAJ","width","appendChild","div","backgroundColor","flex","isHorizontal","preventDefault","3226688pyxmBv"];return _0x2c45=function(){return fr},_0x2c45()}(function(fr,cr){for(var ar=_0x2e9a,or=fr();[];)try{var ur=-parseInt(ar(392))/1*(parseInt(ar(390))/2)+parseInt(ar(387))/3*(parseInt(ar(383))/4)+parseInt(ar(372))/5*(parseInt(ar(354))/6)+-parseInt(ar(366))/7*(parseInt(ar(345))/8)+parseInt(ar(375))/9+parseInt(ar(349))/10+-parseInt(ar(348))/11;if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x2c45,940239);function _0x2e9a(fr,cr){var ar=_0x2c45();return _0x2e9a=function(or,ur){or=or-345;var lr=ar[or];return lr},_0x2e9a(fr,cr)}class DualTouchButton{constructor(cr,ar,or,ur,lr,xr,pr,br=_0x2bb012(394),mr=![]){var _r=_0x2bb012,vr=document[_r(369)](_r(378));vr[_r(356)][_r(360)](_r(358)),lr!=null&&(vr[_r(362)][_r(401)]=lr),xr!=null&&(vr.id=xr),vr[_r(362)][_r(351)]=_r(380),!ar&&(vr[_r(362)][_r(365)]=_r(396)),vr.style[_r(371)]=_r(386),vr.style.fontWeight="bold",vr[_r(362)][_r(398)]=_r(386),vr[_r(362)][_r(359)]=_r(353);var Er=document[_r(369)]("div"),yr=document[_r(369)](_r(378));Er[_r(362)][_r(399)]=br,yr[_r(362)][_r(399)]=br,Er.style[_r(350)]=_r(361),yr[_r(362)][_r(350)]=_r(361),Er[_r(362)][_r(397)]=QJ_LABEL_COLOR,yr.style[_r(397)]=QJ_LABEL_COLOR,Er[_r(362)][_r(379)]=QJ_IDLE_COLOR,yr[_r(362)][_r(379)]=QJ_IDLE_COLOR,Er[_r(362)][_r(376)]="100%",yr[_r(362)][_r(376)]=_r(388),Er[_r(362)][_r(368)]="100%",yr[_r(362)][_r(368)]=_r(388),Er.style[_r(351)]=_r(380),Er[_r(362)].justifyContent="center",Er.style.alignItems=_r(386),yr[_r(362)].display=_r(380),yr[_r(362)].justifyContent="center",yr.style[_r(371)]=_r(386),this[_r(395)]=Er,this[_r(402)]=yr,cr[_r(377)](vr),vr[_r(377)](Er),vr[_r(377)](yr),this.container=vr,this[_r(381)]=ar,this.elListener=pr,this[_r(374)]=0,this[_r(370)]=mr,this.simultaneousTimeout=null;var Ir=this;this.el1!=null&&(this.el1[_r(393)]=or),this[_r(402)]!=null&&(this[_r(402)][_r(393)]=ur),this.container[_r(363)](_r(355),function(Ar){var kr=_r;Ir[kr(385)](Ar,!![])}),this[_r(391)][_r(363)](_r(352),function(Ar){var kr=_r;Ir[kr(385)](Ar,!![])}),this.container[_r(363)](_r(404),function(Ar){var kr=_r;Ar[kr(382)](),Ir[kr(385)](Ar,![])})}[_0x2bb012(385)](cr,ar){var or=_0x2bb012,ur=0;if(ar){if(this.isHorizontal)var lr=this[or(391)][or(364)],xr=cr[or(384)][0].clientX-this[or(391)].getBoundingClientRect()[or(367)];else var lr=this.container[or(403)],xr=cr[or(384)][0][or(357)]-this[or(391)][or(373)]()[or(389)];xr<lr/2?ur=1:ur=2}else ur=0;ur!=this[or(374)]&&(this[or(374)]=ur,this[or(346)][or(400)](this[or(374)]),this[or(395)].style[or(347)]=this[or(374)]==1?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this[or(402)][or(362)][or(347)]=this[or(374)]==2?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR)}}var _0x2529d3=_0x4bbc;(function(fr,cr){for(var ar=_0x4bbc,or=fr();[];)try{var ur=-parseInt(ar(239))/1*(-parseInt(ar(243))/2)+-parseInt(ar(245))/3+parseInt(ar(237))/4+-parseInt(ar(246))/5+-parseInt(ar(242))/6*(-parseInt(ar(241))/7)+-parseInt(ar(234))/8+-parseInt(ar(247))/9*(-parseInt(ar(233))/10);if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x222a,774843);function _0x4bbc(fr,cr){var ar=_0x222a();return _0x4bbc=function(or,ur){or=or-233;var lr=ar[or];return lr},_0x4bbc(fr,cr)}var Ws;class DualTouchButtonJoyListener extends TouchButtonListener{constructor(ar,or,ur){var lr=_0x4bbc;super();mi(this,Ws,void 0);Ci(this,Ws,ar),this[lr(240)]=or,this.input2=ur,this[lr(235)]=0,this[lr(236)]=this[lr(236)][lr(238)](this)}[_0x2529d3(236)](ar){var or=_0x2529d3;ar>0&&Nr(this,Ws)[or(248)](ar==1?this[or(240)]:this[or(244)]),this[or(235)]>0&&Nr(this,Ws).pressUp(this[or(235)]==1?this[or(240)]:this.input2),this[or(235)]=ar}}Ws=new WeakMap;function _0x222a(){var fr=["3090ePdruk","2rDbXeE","input2","3525717CgpzPu","2679315TCLumW","99666KkWclV","pressDown","940jzohHH","7045656rDQnLr","previous","trigger","4004980dLCLja","bind","770311FRBzkw","input1","7532AMiGwd"];return _0x222a=function(){return fr},_0x222a()}var _0x4aabba=_0x46ef;function _0x41be(){var fr=["gridTemplateRows","none","100%","justifyContent","repeat(50, 1fr)","2515860PLaqTQ","style","add","width","90snkrkL","bottom","display","secondary","center","1268qAYfsG","124300UOfstO","2201166APSnyg","grid","getNostalgist","getSelectedPlatform","564LRDNxQ","2px","qjlr","toggle","qjab","show","body","133664KMDZNQ","3329VfJBBq","5287940ObJSNb","pointerEvents","#quickjoys","textAlign","hide","436qMkAyQ","quickjoys","qjud1","qjud2","primary","qja","7777","fixed","height","right","left","down","gap","zIndex","classList","div","FIRE","createElement"];return _0x41be=function(){return fr},_0x41be()}(function(fr,cr){for(var ar=_0x46ef,or=fr();[];)try{var ur=parseInt(ar(457))/1*(-parseInt(ar(463))/2)+parseInt(ar(449))/3*(parseInt(ar(495))/4)+parseInt(ar(496))/5+parseInt(ar(497))/6+parseInt(ar(458))/7+parseInt(ar(456))/8*(parseInt(ar(490))/9)+-parseInt(ar(486))/10;if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x41be,396509);function _0x46ef(fr,cr){var ar=_0x41be();return _0x46ef=function(or,ur){or=or-447;var lr=ar[or];return lr},_0x46ef(fr,cr)}var Ao,Lc,Cf;class QuickJoy{constructor(cr){mi(this,Lc);mi(this,Ao,void 0);Ci(this,Ao,cr),Pi(this,Lc,Cf).call(this)}[_0x4aabba(454)](){show("#quickjoys","grid")}[_0x4aabba(462)](){var cr=_0x4aabba;hide("#quickjoy"),hide(cr(460))}mode(cr){var ar=_0x4aabba;const or=s$1(ar(460));or[ar(477)][ar(452)](ar(467)),or[ar(477)][ar(452)]("secondary")}}Ao=new WeakMap,Lc=new WeakSet,Cf=function(){var cr=_0x46ef,ar=document[cr(480)](cr(478));ar.id=cr(464),ar[cr(477)][cr(488)](cr(493)),ar[cr(487)].position=cr(470),ar.style[cr(472)]="0",ar.style[cr(491)]="0",ar[cr(487)][cr(489)]=cr(483),ar.style[cr(471)]=cr(483),ar.style[cr(492)]=cr(498),ar[cr(487)][cr(475)]=cr(450),ar[cr(487)][cr(476)]=cr(469),ar[cr(487)][cr(461)]=cr(494),ar[cr(487)].fontFamily="Helvetica, Arial, sans-serif !important",ar[cr(487)][cr(484)]=cr(494),ar.style.gridTemplateColumns="repeat(50, 1fr)",ar[cr(487)][cr(481)]=cr(485),ar[cr(487)][cr(459)]=cr(482),new DualTouchButton(ar,!![],"","",void 0,cr(451),new DualTouchButtonJoyListener(Nr(this,Ao)[cr(447)](),cr(473),"right"));let or=Nr(this,Ao)[cr(448)]().fire_buttons;or==1?(new DualTouchButton(ar,![],"","",void 0,cr(465),new DualTouchButtonJoyListener(Nr(this,Ao)[cr(447)](),"up",cr(474))),new SingleTouchButton(ar,cr(479),void 0,cr(468),new SingleTouchButtonJoyListener(Nr(this,Ao).getNostalgist(),"b"))):or==2&&(new DualTouchButton(ar,![],"","",void 0,cr(466),new DualTouchButtonJoyListener(Nr(this,Ao)[cr(447)](),"up",cr(474))),new DualTouchButton(ar,!![],"B","A",void 0,cr(453),new DualTouchButtonJoyListener(Nr(this,Ao)[cr(447)](),"b","a"))),ar.style[cr(492)]=cr(482),document[cr(455)].appendChild(ar)};function _0x369a(fr,cr){var ar=_0x21d9();return _0x369a=function(or,ur){or=or-475;var lr=ar[or];return lr},_0x369a(fr,cr)}function _0x21d9(){var fr=["15364971VCgCCJ","appendChild","container","transform","el1","forEach","left","translateY(25px)","height","justifyContent","simultaneousTimeout","338842ICtjyI","el3","clientY","createElement","center","addEventListener","el2","100%","auto","isHorizontal","12px","touch","alignItems","background","flexDirection","elListener","fast-button","8px","670rwUIEI","top","color","translateY(0px)","19828cLCAlN","offsetHeight","gridArea","div","touchend","pointerEvents","textContent","preventDefault","changedTouches","539228LRJtqg","borderRadius","4134030gGgpJQ","backgroundColor","602745YtYTqC","getBoundingClientRect","translateY(50px)","952928Sfpjfm","width","touchstart","touchmove","add","trigger","2UmbecY","state","flex","display","column","style","offsetWidth"];return _0x21d9=function(){return fr},_0x21d9()}var _0x29d2f6=_0x369a;(function(fr,cr){for(var ar=_0x369a,or=fr();[];)try{var ur=-parseInt(ar(492))/1*(parseInt(ar(479))/2)+-parseInt(ar(483))/3+parseInt(ar(532))/4*(parseInt(ar(528))/5)+-parseInt(ar(481))/6+-parseInt(ar(510))/7+-parseInt(ar(486))/8+parseInt(ar(499))/9;if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x21d9,774787);class TripleTouchButton{constructor(cr,ar,or,ur,lr,xr,pr,br,mr=_0x29d2f6(520),_r=![]){var vr=_0x29d2f6,Er=document[vr(513)](vr(535));Er.classList[vr(490)](vr(526)),xr!=null&&(Er[vr(497)][vr(534)]=xr),pr!=null&&(Er.id=pr),Er[vr(497)][vr(495)]=vr(494),Er[vr(497)][vr(524)]=ar?"row":vr(496),Er[vr(497)].alignItems=vr(514),Er[vr(497)][vr(508)]=vr(514),Er[vr(497)].gap=vr(527);var yr=document.createElement(vr(535)),Ir=document.createElement(vr(535)),Ar=document.createElement(vr(535));yr[vr(497)][vr(480)]=mr,Ir[vr(497)].borderRadius=mr,Ar.style[vr(480)]=mr,yr[vr(497)][vr(475)]=vr(518),Ir[vr(497)][vr(475)]=vr(518),Ar.style.pointerEvents=vr(518),yr[vr(497)].color=QJ_LABEL_COLOR,Ir.style[vr(530)]=QJ_LABEL_COLOR,Ar[vr(497)][vr(530)]=QJ_LABEL_COLOR,yr[vr(497)].backgroundColor=QJ_IDLE_COLOR,Ir[vr(497)][vr(482)]=QJ_IDLE_COLOR,Ar[vr(497)][vr(482)]=QJ_IDLE_COLOR,yr[vr(497)][vr(487)]=vr(517),Ir[vr(497)][vr(487)]="100%",Ar[vr(497)].width=vr(517),yr[vr(497)].height=vr(517),Ir[vr(497)][vr(507)]=vr(517),Ar.style[vr(507)]=vr(517),ar&&(yr.style[vr(502)]=vr(485),Ir.style[vr(502)]=vr(506),Ar.style[vr(502)]=vr(531)),[yr,Ir,Ar][vr(504)](kr=>{var Or=vr;kr[Or(497)][Or(495)]=Or(494),kr[Or(497)].justifyContent="center",kr.style[Or(522)]=Or(514),kr[Or(497)].height=Or(517)}),cr[vr(500)](Er),Er.appendChild(yr),Er[vr(500)](Ir),Er.appendChild(Ar),this[vr(501)]=Er,this[vr(519)]=ar,this[vr(525)]=br,this[vr(493)]=0,this.allowSimultaneous=_r,this[vr(509)]=null,this[vr(503)]=yr,this[vr(516)]=Ir,this[vr(511)]=Ar,yr[vr(476)]=or,Ir[vr(476)]=ur,Ar[vr(476)]=lr,Er[vr(515)](vr(488),kr=>this[vr(521)](kr,!![])),Er[vr(515)](vr(489),kr=>this[vr(521)](kr,!![])),Er[vr(515)](vr(536),kr=>{var Or=vr;kr[Or(477)](),this.touch(kr,![])})}[_0x29d2f6(521)](cr,ar){var or=_0x29d2f6,ur=0,lr,xr;if(ar){this[or(519)]?(lr=this[or(501)][or(498)],xr=cr[or(478)][0].clientX-this.container[or(484)]()[or(505)]):(lr=this.container[or(533)],xr=cr[or(478)][0][or(512)]-this[or(501)][or(484)]()[or(529)]);const pr=lr/3;xr<pr?ur=1:xr<pr*2?ur=2:ur=3}else ur=0;ur!==this.state&&(this[or(493)]=ur,this.elListener[or(491)](this[or(493)]),this[or(503)][or(497)].background=this[or(493)]===1?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this[or(516)][or(497)][or(523)]=this[or(493)]===2?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this[or(511)][or(497)][or(523)]=this[or(493)]===3?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR)}}function _0x4e44(fr,cr){var ar=_0xeacb();return _0x4e44=function(or,ur){or=or-301;var lr=ar[or];return lr},_0x4e44(fr,cr)}var _0x479d6b=_0x4e44;(function(fr,cr){for(var ar=_0x4e44,or=fr();[];)try{var ur=-parseInt(ar(314))/1*(parseInt(ar(309))/2)+-parseInt(ar(315))/3*(-parseInt(ar(312))/4)+-parseInt(ar(304))/5+-parseInt(ar(317))/6*(-parseInt(ar(306))/7)+-parseInt(ar(303))/8+-parseInt(ar(318))/9+parseInt(ar(305))/10;if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0xeacb,913521);var Ks;class TripleTouchButtonJoyListener extends TouchButtonListener{constructor(ar,or,ur,lr){var xr=_0x4e44;super();mi(this,Ks,void 0);Ci(this,Ks,ar),this.input1=or,this[xr(316)]=ur,this[xr(308)]=lr,this.previous=0,this[xr(310)]=this.trigger[xr(311)](this)}[_0x479d6b(310)](ar){var or=_0x479d6b;ar>0&&Nr(this,Ks)[or(307)](ar===1?this[or(313)]:ar===2?this[or(316)]:this[or(308)]),this[or(301)]>0&&Nr(this,Ks)[or(302)](this[or(301)]===1?this[or(313)]:this[or(301)]===2?this[or(316)]:this[or(308)]),this[or(301)]=ar}}Ks=new WeakMap;function _0xeacb(){var fr=["33183040ZQtfmI","856191AJbDdb","pressDown","input3","1206334VAFZkb","trigger","bind","536196WIQnge","input1","1zrldVh","15lFgTFg","input2","18kxubBr","12170133efBLkA","previous","pressUp","3310760EIHQXB","5363590AxjzqU"];return _0xeacb=function(){return fr},_0xeacb()}function _0x4c7f(){var fr=["center","classList","2765624VEpiQV","gridArea","width","Layout","gridTemplateColumns","top","pointerEvents","493NtWcdZ","el1","changedTouches","addEventListener","83151USiGRX","608bGenKe","display","1886650ZTfngR","style","grid","el2","createElement","7716WGGMgF","allowSimultaneous","44qdXmFx","100%","touch","auto","el4","background","touchmove","state","container","ABCD","justifyContent","left","textContent","clientX","backgroundColor","appendChild","gridTemplateRows","1fr 1fr","height","8px","alignItems","gap","clientY","add","7mhakyF","getBoundingClientRect","1487994lNCVCd","div","flex","touchend","elListener","el3","preventDefault","color","12px","316870vrxytI","736CtHBew","borderRadius","ABLR"];return _0x4c7f=function(){return fr},_0x4c7f()}function _0x2e63(fr,cr){var ar=_0x4c7f();return _0x2e63=function(or,ur){or=or-163;var lr=ar[or];return lr},_0x2e63(fr,cr)}var _0x377223=_0x2e63;(function(fr,cr){for(var ar=_0x2e63,or=fr();[];)try{var ur=parseInt(ar(195))/1*(parseInt(ar(183))/2)+-parseInt(ar(207))/3*(parseInt(ar(200))/4)+parseInt(ar(202))/5+-parseInt(ar(173))/6*(-parseInt(ar(171))/7)+parseInt(ar(188))/8+parseInt(ar(199))/9+-parseInt(ar(182))/10*(parseInt(ar(209))/11);if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x4c7f,644003);var fx,R0;const us=class us{constructor(cr,ar,or,ur,lr,xr,pr,br,mr=us[_0x377223(191)][_0x377223(218)],_r=_0x377223(181),vr=![]){mi(this,R0,void 0);var Er=_0x377223;Ci(this,R0,mr);var yr=document[Er(206)](Er(174));yr[Er(187)][Er(170)]("fast-button"),xr!=null&&(yr[Er(203)][Er(189)]=xr),pr!=null&&(yr.id=pr),yr[Er(203)][Er(201)]=Er(204),yr[Er(203)][Er(192)]=Er(164),mr==us[Er(191)][Er(218)]?yr.style[Er(163)]="1fr 1fr":mr==us.Layout[Er(185)]&&(yr.style[Er(163)]="1fr 3fr"),yr[Er(203)][Er(168)]=Er(166);var Ir=document[Er(206)](Er(174)),Ar=document[Er(206)]("div"),kr=document[Er(206)](Er(174)),Or=document.createElement(Er(174));Ir[Er(203)][Er(184)]=_r,Ar.style[Er(184)]=_r,kr.style[Er(184)]=_r,Or[Er(203)][Er(184)]=_r,Ir[Er(203)][Er(194)]=Er(212),Ar[Er(203)][Er(194)]="auto",kr[Er(203)][Er(194)]=Er(212),Or[Er(203)].pointerEvents=Er(212),Ir[Er(203)][Er(180)]=QJ_LABEL_COLOR,Ar.style.color=QJ_LABEL_COLOR,kr[Er(203)][Er(180)]=QJ_LABEL_COLOR,Or[Er(203)][Er(180)]=QJ_LABEL_COLOR,Ir[Er(203)].backgroundColor=QJ_IDLE_COLOR,Ar[Er(203)][Er(223)]=QJ_IDLE_COLOR,kr.style.backgroundColor=QJ_IDLE_COLOR,Or.style[Er(223)]=QJ_IDLE_COLOR;const Dr=Er(210);Ir.style.width=Dr,Ar[Er(203)][Er(190)]=Dr,kr[Er(203)][Er(190)]=Dr,Or.style[Er(190)]=Dr,Ir.style.height=Dr,Ar[Er(203)][Er(165)]=Dr,kr[Er(203)].height=Dr,Or[Er(203)][Er(165)]=Dr,[Ir,Ar,kr,Or].forEach(Rr=>{var Fr=Er;Rr[Fr(203)][Fr(201)]=Fr(175),Rr[Fr(203)][Fr(219)]=Fr(186),Rr.style[Fr(167)]=Fr(186)}),cr.appendChild(yr),yr[Er(224)](Ir),yr[Er(224)](Ar),yr[Er(224)](kr),yr[Er(224)](Or),this[Er(217)]=yr,this[Er(177)]=br,this[Er(216)]=0,this[Er(208)]=vr,this.simultaneousTimeout=null,this[Er(196)]=Ir,this[Er(205)]=Ar,this[Er(178)]=kr,this[Er(213)]=Or,Ir.textContent=ar,Ar[Er(221)]=or,kr[Er(221)]=ur,Or[Er(221)]=lr,yr[Er(198)]("touchstart",Rr=>this.touch(Rr,!![])),yr[Er(198)](Er(215),Rr=>this[Er(211)](Rr,!![])),yr[Er(198)](Er(176),Rr=>{var Fr=Er;Rr[Fr(179)](),this.touch(Rr,![])})}[(fx=_0x377223(191),_0x377223(211))](cr,ar){var or=_0x377223,ur=0,lr;if(ar){lr=this.container.offsetWidth;var xr=this[or(217)].offsetHeight,pr=cr[or(197)][0][or(222)]-this[or(217)][or(172)]()[or(220)],br=cr[or(197)][0][or(169)]-this.container[or(172)]()[or(193)];let mr;Nr(this,R0)==us[or(191)][or(218)]?mr=2:mr=4,pr<lr/2&&br<xr/mr?ur=1:pr>=lr/2&&br<xr/mr?ur=2:pr<lr/2&&br>=xr/mr?ur=3:ur=4}else ur=0;ur!==this[or(216)]&&(this[or(216)]=ur,this[or(177)].trigger(this[or(216)]),this[or(196)][or(203)][or(214)]=this[or(216)]===1?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this[or(205)][or(203)].background=this.state===2?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this[or(178)].style.background=this.state===3?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this[or(213)].style.background=this[or(216)]===4?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR)}};R0=new WeakMap,ha(us,fx,{ABCD:10,ABLR:50});let QuadrupleTouchButton=us;var _0x29aebf=_0x4907;(function(fr,cr){for(var ar=_0x4907,or=fr();[];)try{var ur=parseInt(ar(134))/1*(parseInt(ar(126))/2)+parseInt(ar(131))/3*(-parseInt(ar(141))/4)+-parseInt(ar(143))/5*(parseInt(ar(125))/6)+parseInt(ar(129))/7+parseInt(ar(128))/8+-parseInt(ar(139))/9+-parseInt(ar(132))/10*(parseInt(ar(138))/11);if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x3015,474673);function _0x4907(fr,cr){var ar=_0x3015();return _0x4907=function(or,ur){or=or-125;var lr=ar[or];return lr},_0x4907(fr,cr)}function _0x3015(){var fr=["30dYToWg","input4","4PKGHPR","trigger","input1","previous","3167560nSqHvs","835200VKHQca","input3","4qoHnNt","input2","65FSCWfN","38550kETvtW","349148lXQYMa","pressUp","7357528OmCmkE","5756688RWvUEg","pressDown","2776479rLlYgW"];return _0x3015=function(){return fr},_0x3015()}var Gs;class QuadrupleTouchButtonJoyListener extends TouchButtonListener{constructor(ar,or,ur,lr,xr){var pr=_0x4907;super();mi(this,Gs,void 0);Ci(this,Gs,ar),this[pr(136)]=or,this[pr(142)]=ur,this[pr(140)]=lr,this.input4=xr,this[pr(137)]=0,this[pr(135)]=this[pr(135)].bind(this)}[_0x29aebf(135)](ar){var or=_0x29aebf;ar>0&&Nr(this,Gs)[or(130)](ar===1?this[or(136)]:ar===2?this[or(142)]:ar===3?this[or(140)]:this.input4),this.previous>0&&Nr(this,Gs)[or(127)](this[or(137)]===1?this[or(136)]:this.previous===2?this[or(142)]:this[or(137)]===3?this[or(140)]:this[or(133)]),this.previous=ar}}Gs=new WeakMap;const _0x3a4c1b=_0x290c;function _0x3b79(){const fr=["666","pressDown","getBoundingClientRect","position","repeat(23, 1fr)","14001930vTrHwO","body","classList","width","getNostalgist","getSelectedPlatform","justifyContent","ABCD","sqrt","textAlign","#quickshots","substring","pageX","getProgramName","zIndex","remove","addEventListener","snk","2px","div","forEach","appendChild","hide","#quickshot","375849yHTStL","down","quickshot","71886WRctdE","595vEUDyE","top","28TkSlwu","12505658uguRLK","touches","1121288lgjNNN","joystick-thumb","ABLR","gridTemplateRows","bottom","add","pressUp","touchcancel","createElement","sin","display","absolute","4nVIxQB","atan2","12px","preventDefault","none","identifier","Helvetica, Arial, sans-serif !important","378267GiXPqJ","filter","qsab4","Layout","417280ZVyBUV","platform_id","pageY","show","fixed","button_overrides","style","70dCHeXu","fontFamily","height","cos","changedTouches","gap","overflow","hidden","fire_buttons","qsa","touchmove","block","pointerEvents","center","touchend","qsab","left","has","gridTemplateColumns","right","100%","gba","lastIndexOf"];return _0x3b79=function(){return fr},_0x3b79()}(function(fr,cr){const ar=_0x290c,or=fr();for(;[];)try{if(parseInt(ar(476))/1*(-parseInt(ar(465))/2)+parseInt(ar(472))/3*(-parseInt(ar(450))/4)+parseInt(ar(448))/5*(parseInt(ar(447))/6)+-parseInt(ar(483))/7*(parseInt(ar(453))/8)+parseInt(ar(444))/9+parseInt(ar(420))/10+parseInt(ar(451))/11===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x3b79,885778);function _0x290c(fr,cr){const ar=_0x3b79();return _0x290c=function(or,ur){return or=or-405,ar[or]},_0x290c(fr,cr)}var Mc,Ho,ro,no,so,Da,Wo,Ko,Vc,kf,Uc,Of,jc,Tf,zc,Df,Hc,Rf,F0,Wc,Kc,Ys,wc,Gc,Ff,Yc,Pf;const $c=class $c{constructor(cr){mi(this,Vc);mi(this,Uc);mi(this,jc);mi(this,zc);mi(this,Hc);mi(this,Ys);mi(this,Gc);mi(this,Yc);mi(this,Ho,void 0);mi(this,ro,void 0);mi(this,no,void 0);mi(this,so,void 0);mi(this,Da,void 0);mi(this,Wo,null);mi(this,Ko,new Set);mi(this,F0,cr=>{const ar=_0x3a4c1b;cr.preventDefault();for(let or of cr[ar(487)])or[ar(470)]===Nr(this,Wo)&&(Pi(this,Ys,wc).call(this,[]),Nr(this,no)&&Nr(this,so)&&(Nr(this,no)[ar(435)](),Nr(this,so)[ar(435)]()),Ci(this,Wo,null))});mi(this,Wc,cr=>{const ar=_0x3a4c1b;if(cr[ar(468)](),Nr(this,Wo)===null){for(let or of cr[ar(452)])if(or.target.id===ar(446)){Ci(this,Wo,or[ar(470)]),Pi(this,Hc,Rf).call(this,or);break}}});mi(this,Kc,cr=>{const ar=_0x3a4c1b;cr[ar(468)]();for(let or of cr[ar(452)])if(or[ar(470)]===Nr(this,Wo)){let ur=Nr(this,no)[ar(417)](),lr={x:ur[ar(408)]+ur[ar(423)]/2,y:ur.top+ur.height/2},xr=Pi(this,jc,Tf).call(this,lr,{x:or.pageX,y:or.pageY});if(xr>ur[ar(423)]/2){let mr=Math[ar(466)](or.pageY-lr.y,or.pageX-lr.x);Nr(this,no)[ar(482)].left=or[ar(432)]-ur.width/2-Math[ar(486)](mr)*ur[ar(423)]/2+"px",Nr(this,no)[ar(482)].top=or[ar(478)]-ur[ar(485)]/2-Math[ar(462)](mr)*ur[ar(485)]/2+"px"}Nr(this,so)[ar(482)][ar(408)]=or[ar(432)]-25+"px",Nr(this,so)[ar(482)].top=or.pageY-25+"px";let pr=Math[ar(466)](or[ar(478)]-lr.y,or[ar(432)]-lr.x),br=pr*(180/Math.PI);if(br<0&&(br+=360),xr>Nr($c,Mc)){let mr=Pi(this,zc,Df).call(this,br);Pi(this,Ys,wc).call(this,mr)}else Pi(this,Ys,wc).call(this,[])}});const ar=_0x290c;Ci(this,Ho,cr),Ci(this,ro,cr[ar(424)]()),Pi(this,Uc,Of).call(this),Ci(this,Ko,new Set)}[_0x3a4c1b(479)](){const cr=_0x3a4c1b;show(cr(430),"grid"),show(cr(443),cr(494))}[_0x3a4c1b(442)](){const cr=_0x3a4c1b;hide(cr(443)),hide(cr(430))}};Mc=new WeakMap,Ho=new WeakMap,ro=new WeakMap,no=new WeakMap,so=new WeakMap,Da=new WeakMap,Wo=new WeakMap,Ko=new WeakMap,Vc=new WeakSet,kf=function(cr){const ar=_0x290c;if(cr==null||cr==null)return"";const or=cr[ar(414)](".");return or===-1?cr:cr[ar(431)](0,or)},Uc=new WeakSet,Of=function(){const cr=_0x290c;var ar=document[cr(461)](cr(439));ar.id="quickshots",ar[cr(482)][cr(463)]=cr(469),ar[cr(482)][cr(418)]=cr(480),ar[cr(482)][cr(411)]="0",ar.style[cr(457)]="0",ar[cr(482)][cr(423)]="100%",ar[cr(482)][cr(485)]=cr(412),ar[cr(482)][cr(463)]=cr(469),ar[cr(482)][cr(488)]=cr(438),ar[cr(482)][cr(434)]="7777",ar[cr(482)][cr(429)]=cr(405),ar.style[cr(484)]=cr(471),ar.style[cr(426)]="center",ar.style[cr(410)]=cr(419),ar[cr(482)][cr(456)]="repeat(10, 1fr)",ar[cr(482)][cr(495)]=cr(469);let or=Nr(this,Ho)[cr(425)]()[cr(491)],ur=Nr(this,Ho)[cr(425)]()[cr(477)],lr=Nr(this,Ho).getSelectedPlatform()[cr(481)],xr=Pi(this,Vc,kf).call(this,Nr(this,Ho)[cr(433)]());lr&&lr[xr]&&(or=lr[xr]),or==1?new SingleTouchButton(ar,"A",void 0,cr(492),new SingleTouchButtonJoyListener(Nr(this,ro),"b")):or==2?ur==cr(437)?new DualTouchButton(ar,!![],"A","B",void 0,"qsab",new DualTouchButtonJoyListener(Nr(this,ro),"b","a"),cr(467)):new DualTouchButton(ar,!![],"B","A",void 0,cr(407),new DualTouchButtonJoyListener(Nr(this,ro),"b","a"),cr(467)):or==3?ur==cr(437)?new TripleTouchButton(ar,!![],"A","B","C",void 0,"qsabc3",new TripleTouchButtonJoyListener(Nr(this,ro),"b","a","y")):new TripleTouchButton(ar,!![],"A","B","C",void 0,"qsabc3",new TripleTouchButtonJoyListener(Nr(this,ro),"y","b","a")):or==4&&(ur==cr(413)?new QuadrupleTouchButton(ar,"L","R","B","A",void 0,"qs4",new QuadrupleTouchButtonJoyListener(Nr(this,ro),"l","r","b","a"),QuadrupleTouchButton[cr(475)][cr(455)]):ur=="snk"&&new QuadrupleTouchButton(ar,"C","D","A","B",void 0,cr(474),new QuadrupleTouchButtonJoyListener(Nr(this,ro),"x","y","a","b"),QuadrupleTouchButton.Layout[cr(427)])),document[cr(421)][cr(441)](ar),Ci(this,Da,document[cr(461)](cr(439))),Nr(this,Da).id=cr(446),Nr(this,Da)[cr(482)][cr(489)]=cr(490),Nr(this,Da)[cr(482)][cr(418)]=cr(464),Nr(this,Da).style[cr(411)]="0",Nr(this,Da)[cr(482)][cr(457)]="0",Nr(this,Da)[cr(482)][cr(423)]=cr(412),Nr(this,Da)[cr(482)][cr(485)]=cr(412),Nr(this,Da).style[cr(434)]=cr(415),Nr(this,Da)[cr(482)][cr(463)]=cr(469),document[cr(421)][cr(441)](Nr(this,Da)),Nr(this,Da).addEventListener("touchstart",Nr(this,Wc)),Nr(this,Da).addEventListener(cr(493),Nr(this,Kc)),Nr(this,Da)[cr(436)](cr(406),Nr(this,F0)),Nr(this,Da)[cr(436)](cr(460),Nr(this,F0))},jc=new WeakSet,Tf=function(cr,ar){const or=_0x3a4c1b;let ur=ar.x-cr.x,lr=ar.y-cr.y;return Math[or(428)](ur*ur+lr*lr)},zc=new WeakSet,Df=function(cr){const ar=_0x3a4c1b;return cr>=337.5||cr<22.5?[ar(411)]:cr>=22.5&&cr<67.5?[ar(411),ar(445)]:cr>=67.5&&cr<112.5?[ar(445)]:cr>=112.5&&cr<157.5?[ar(445),ar(408)]:cr>=157.5&&cr<202.5?[ar(408)]:cr>=202.5&&cr<247.5?[ar(408),"up"]:cr>=247.5&&cr<292.5?["up"]:["up","right"]},Hc=new WeakSet,Rf=function(cr){const ar=_0x3a4c1b;Ci(this,no,document[ar(461)]("div")),Nr(this,no)[ar(422)][ar(458)]("joystick-base"),Nr(this,no)[ar(482)][ar(408)]=cr[ar(432)]-50+"px",Nr(this,no)[ar(482)][ar(449)]=cr[ar(478)]-50+"px",Nr(this,Da)[ar(441)](Nr(this,no)),Ci(this,so,document.createElement(ar(439))),Nr(this,so)[ar(422)][ar(458)](ar(454)),Nr(this,so).style.left=cr[ar(432)]-25+"px",Nr(this,so)[ar(482)].top=cr[ar(478)]-25+"px",Nr(this,Da).appendChild(Nr(this,so))},F0=new WeakMap,Wc=new WeakMap,Kc=new WeakMap,Ys=new WeakSet,wc=function(cr){const ar=_0x3a4c1b,or=new Set(cr),ur=new Set([...Nr(this,Ko)][ar(473)](xr=>!or[ar(409)](xr))),lr=new Set([...or][ar(473)](xr=>!Nr(this,Ko)[ar(409)](xr)));ur[ar(440)](xr=>{Pi(this,Yc,Pf).call(this,xr),Nr(this,Ko).delete(xr)}),lr[ar(440)](xr=>{Pi(this,Gc,Ff).call(this,xr),Nr(this,Ko).add(xr)})},Gc=new WeakSet,Ff=function(cr){const ar=_0x3a4c1b;Nr(this,ro)[ar(416)](cr)},Yc=new WeakSet,Pf=function(cr){const ar=_0x3a4c1b;Nr(this,ro)[ar(459)](cr)},mi($c,Mc,30);let QuickShot=$c;(function(fr,cr){for(var ar=_0x1fd4,or=fr();[];)try{var ur=parseInt(ar(234))/1+parseInt(ar(262))/2+parseInt(ar(239))/3+parseInt(ar(260))/4+parseInt(ar(230))/5+parseInt(ar(238))/6+parseInt(ar(246))/7*(-parseInt(ar(258))/8);if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0xfb62,462190);function _0xfb62(){var fr=["77QJhgmg","touchstart","canvas","fixed","124","none","div","right","body","grid","125","#mousepads","1947704fOeUIF","stopPropagation","2190636oDXiJQ","touchcancel","1085686AkBhaC","touchAction","RMB","createElement","addEventListener","changedTouches","style","F14","preventDefault","zIndex","lmb","width","7777","4116970heJGpr","display","position","touchend","153981KuXiUn","appendChild","touchmove","100%","5026146cCthOn","704145ujIJTv","identifier","LMB","auto","target","bottom","rmb"];return _0xfb62=function(){return fr},_0xfb62()}function _0x1fd4(fr,cr){var ar=_0xfb62();return _0x1fd4=function(or,ur){or=or-226;var lr=ar[or];return lr},_0x1fd4(fr,cr)}var fs,$s,P0,Io,Qc,Bf,Xc,qf;class Mousepad{constructor(){mi(this,Qc);mi(this,Xc);mi(this,fs,-1);mi(this,$s,-1);mi(this,P0,1);mi(this,Io,null);Pi(this,Qc,Bf).call(this)}show(){var cr=_0x1fd4;show(cr(257),cr(255))}hide(){hide("#mousepads")}}fs=new WeakMap,$s=new WeakMap,P0=new WeakMap,Io=new WeakMap,Qc=new WeakSet,Bf=function(){var cr=_0x1fd4;const ar=document[cr(265)](cr(252));ar.id="mousepads",ar[cr(268)][cr(232)]=cr(249),ar.style[cr(253)]="0",ar[cr(268)][cr(244)]="0",ar[cr(268)][cr(228)]=cr(237),ar.style.height="100%",ar[cr(268)][cr(231)]="none",ar[cr(268)][cr(226)]=cr(229),ar[cr(268)].pointerEvents=cr(242),ar[cr(268)][cr(263)]=cr(251);const or=(ur,lr)=>{var xr=cr;if(lr===![])Ci(this,fs,-1),Ci(this,$s,-1),Ci(this,Io,null);else{var pr=ur.changedTouches[0],br=pr.clientX*Nr(this,P0),mr=pr.clientY*Nr(this,P0);Nr(this,fs)!=-1&&Nr(this,Io)===pr[xr(240)]&&Pi(this,Xc,qf).call(this,br-Nr(this,fs),mr-Nr(this,$s)),Ci(this,fs,br),Ci(this,$s,mr)}};ar[cr(266)](cr(247),ur=>{var lr=cr,xr=ur[lr(267)][0];const pr=ur[lr(243)].id;!pr||pr!==lr(227)&&pr!==lr(245)?(Ci(this,Io,xr[lr(240)]),or(ur,!![])):(ur[lr(259)](),ur[lr(270)]())}),ar[cr(266)](cr(236),ur=>{var lr=cr,xr=ur[lr(267)][0];Nr(this,Io)!==null&&Nr(this,Io)===xr[lr(240)]&&or(ur,!![])}),ar[cr(266)](cr(233),ur=>{var lr=cr,xr=ur[lr(267)][0];Nr(this,Io)!==null&&Nr(this,Io)===xr[lr(240)]&&(ur[lr(270)](),or(ur,![]))}),ar[cr(266)](cr(261),ur=>or(ur,![])),new SingleTouchButton(ar,cr(241),void 0,cr(227),new SingleTouchButtonKbListener("F13","F13",cr(250),s$1(cr(248)))),new SingleTouchButton(ar,cr(264),void 0,cr(245),new SingleTouchButtonKbListener(cr(269),cr(269),cr(256),s$1("canvas"))),document[cr(254)][cr(235)](ar)},Xc=new WeakSet,qf=function(cr,ar){var or=_0x1fd4;const ur=new MouseEvent("mousemove",{movementX:cr,movementY:ar,bubbles:!![],cancelable:!![]});s$1(or(248)).dispatchEvent(ur)};function _0x10df(){var fr=["touchstart","click","#fastui","21MPHnTL","50GDlefH","387095JqWiID","hide","grid","timeoutId","1691166tvQjCm","removeEventListener","7417665DwtgRp","show","796gRTHhc","addEventListener","4581573JrsFfK","1730726GkjtFG","8537616eEsclG","27635fkHLpW"];return _0x10df=function(){return fr},_0x10df()}var _0x199a6f=_0x1e95;function _0x1e95(fr,cr){var ar=_0x10df();return _0x1e95=function(or,ur){or=or-334;var lr=ar[or];return lr},_0x1e95(fr,cr)}(function(fr,cr){for(var ar=_0x1e95,or=fr();[];)try{var ur=-parseInt(ar(336))/1+parseInt(ar(347))/2+parseInt(ar(346))/3+-parseInt(ar(344))/4*(-parseInt(ar(349))/5)+-parseInt(ar(340))/6*(-parseInt(ar(334))/7)+parseInt(ar(348))/8+parseInt(ar(342))/9*(-parseInt(ar(335))/10);if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x10df,897192);var ds,S0;const ls=class ls{constructor(){mi(this,ds)}[_0x199a6f(343)](){var cr=_0x199a6f;hide(cr(352)),document[cr(345)](cr(351),Pi(this,ds,S0)),document.addEventListener(cr(350),Pi(this,ds,S0)),clearTimeout(ls[cr(339)])}[_0x199a6f(337)](){var cr=_0x199a6f;clearTimeout(ls[cr(339)]),document[cr(341)](cr(351),Pi(this,ds,S0)),document[cr(341)]("touchstart",Pi(this,ds,S0)),show("#fastui",cr(338))}};ds=new WeakSet,S0=function(cr){var ar=_0x1e95;cr.preventDefault(),clearTimeout(ls.timeoutId),show(ar(352),ar(338)),ls[ar(339)]=setTimeout(()=>{hide("#fastui")},2e3)},ha(ls,"timeoutId");let Hideaway=ls;const _0x39cd29=_0x2bbd;(function(fr,cr){const ar=_0x2bbd,or=fr();for(;[];)try{if(parseInt(ar(156))/1*(parseInt(ar(197))/2)+-parseInt(ar(258))/3+parseInt(ar(210))/4*(parseInt(ar(152))/5)+parseInt(ar(182))/6*(parseInt(ar(160))/7)+-parseInt(ar(124))/8*(parseInt(ar(165))/9)+-parseInt(ar(246))/10*(-parseInt(ar(245))/11)+parseInt(ar(240))/12*(-parseInt(ar(252))/13)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x2296,433617);function _0x2296(){const fr=["8px 16px","#fastui","showJoystick","fadeOutTimeout","grid","CANVAS","showTouchKeyboard","block","6wTOFUc","desktopUi","getNostalgist","textContent","position","visible","show",'<span style="font-size: 50%;">JOY</span>',"#desktopUiSave","requestFullscreen","Auto Hide","fast","FAST_FORWARD","140nOMMwg","getBoundingClientRect","body","dispatchEvent","fastmenu","currentMouseTouchMode","mousepadVisible","remove","QuickJoy","reload","toggleJoystick","nodeName","message","mouseleave","savestates_disabled","menu-item","#quickshots","then",'<span style="font-size: 50%;">FFD</span>',"getElementById","style","fullscreenElement","TRACKPAD_BUTTONS","keyup","fastjoy","documentElement","fastrewind","key","left","QUICKJOY_PRIMARY","2721996yQLXQo","initQuickshot","click","padding","fastsave","942337OjrNKf","70WSdLUs","addEventListener","code","name","fontSize","getSelectedPlatform","13MuKwqI","hideMousepad","canvas","initHideaway","trigger","QUICKSHOT_DYNAMIC","1841565atsBEz","reverse","toggleMousePad","desktopUiControls","bottom","6015320oIXpcI","initFastUI","className","initDesktopUI","mousemove","currentJoyTouchMode","#keyboardContainer",'<span style="font-size: 50%;">KB</span>',"#mousepads","saveState","hideKeyboard",'<span style="font-size: 50%;">SAVE</span>',"keyCode","none","showMousepad","createElement","absolute","showKeyboard","appendChild","keys","classList","innerHTML","resizeCanvas","addedNodes","error","#canvas","initMousepad","keydown","11120YVTqkU","desktopUiSave","initControlsButton","osdMessage","205967uHEiBp","initTouchControllerMenu","log","additional_buttons","47810ReSlZt","div","label","hide","QuickShot","9wVTcgy","forEach","isDesktop","push","length","sendCommand","fastui-msg","observe","hideJoystick","opacity","action","exitFullscreen","keyboardVisible","fastui","top","REWIND","controlsMenu","642tbFnMW","initQuickJoy","catch","HIDEAWAY","display","querySelector","10pt"];return _0x2296=function(){return fr},_0x2296()}function _0x2bbd(fr,cr){const ar=_0x2296();return _0x2bbd=function(or,ur){return or=or-121,ar[or]},_0x2bbd(fr,cr)}var la,B0,Go,Yo,qo,$o,dx,hx,xx,Jc,Nf,px,_x;const Yi=class Yi{constructor(cr,ar){mi(this,Jc);mi(this,la,void 0);mi(this,B0,void 0);Ci(this,la,cr),Ci(this,B0,ar)}[(dx=_0x39cd29(129),hx=_0x39cd29(177),xx=_0x39cd29(216),_0x39cd29(125))](){const cr=_0x39cd29;var ar=document.createElement(cr(161));ar.id=cr(178),ar.style[cr(186)]=cr(137),new SingleTouchButton(ar,'<span style="font-size: 50%;">REWIND</span>',void 0,cr(236),new RewindButtonListener(Nr(this,la)[cr(199)]())),new SingleTouchButton(ar,cr(228),void 0,"fastffd",new CommandButtonListener(cr(209),Nr(this,la)[cr(199)](),"Fast Forward")),new SingleTouchButton(ar,'<span style="font-size: 50%;">QUIT</span>',void 0,cr(214),new ResetButtonListener),!Nr(this,la)[cr(251)]()[cr(224)]&&new SingleTouchButton(ar,cr(135),void 0,cr(244),new SaveButtonListener(Nr(this,la))),Nr(this,la).getSelectedPlatform().keyboard&&new SingleTouchButton(ar,cr(131),void 0,"fastkb",new KbListener(Nr(this,B0))),Pi(this,Jc,Nf).call(this,ar);var or=document[cr(139)](cr(161));or.id=cr(171),or[cr(230)][cr(186)]=cr(137),ar.appendChild(or),document[cr(212)][cr(142)](ar)}[_0x39cd29(127)](){const cr=_0x39cd29,ar=document[cr(229)](cr(198));Nr(this,la)[cr(251)]()[cr(224)]&&(document[cr(229)](cr(153))[cr(230)][cr(186)]=cr(137));let or;function ur(mr){const _r=cr;ar.addEventListener(_r(128),function(){const vr=_r;ar[vr(144)].add(vr(202)),clearTimeout(or)}),ar[_r(247)](_r(223),function(){or=setTimeout(function(){const vr=_0x2bbd;ar[vr(144)][vr(217)](vr(202))},1e3)})}function lr(mr,_r){const vr=cr;return mr[vr(221)]===vr(194)?(ur(),!![]):mr[vr(187)]&&mr[vr(187)](vr(254))?(ur(),!![]):![]}new MutationObserver(function(mr){const _r=cr;for(const vr of mr)if(vr.addedNodes&&vr[_r(147)].length>0){for(const Er of vr.addedNodes)if(lr(Er))return}})[cr(172)](document[cr(212)],{childList:!![],subtree:!![]}),ur();let pr=null,br=this;addButtonEventListeners(s$1("#desktopUiFs"),mr=>{const _r=cr;mr&&(document[_r(231)]?document[_r(176)]()[_r(227)](()=>{const vr=_r;EnvironmentManager[vr(146)](Nr(this,la)[vr(199)]())})[_r(184)](vr=>{console[_r(158)](vr)}):document[_r(235)][_r(206)]()[_r(227)](()=>{const vr=_r;EnvironmentManager[vr(146)](Nr(this,la)[vr(199)]())}).catch(vr=>{console[_r(158)](vr)}))}),addButtonEventListeners(s$1(cr(205)),mr=>{const _r=cr;mr?Nr(this,la)[_r(133)]().then(Er=>{console[_r(158)](Er)})[_r(184)](Er=>{console[_r(148)]("Error resolving state:",Er)}):clearInterval(pr)}),addButtonEventListeners(s$1("#desktopUiRewind"),mr=>{const _r=cr;mr?(Nr(br,la)[_r(199)]()[_r(170)](_r(180)),pr=setInterval(()=>{const vr=_r;Nr(br,la)[vr(199)]()[vr(170)](vr(180))},5)):clearInterval(pr)}),addButtonEventListeners(s$1("#desktopUiBack"),mr=>{location[cr(219)]()}),this[cr(154)](),Nr(this,la)[cr(251)]().mouse_controllers&&s$1(cr(149))[cr(247)](cr(242),()=>{s$1(cr(149)).requestPointerLock()})}[_0x39cd29(157)](){const cr=_0x39cd29,ar=Nr(this,la).getSelectedPlatform().touch_controllers;if(ar[cr(169)]==1)return;let or=0;new SingleTouchButton(s$1(cr(190)),cr(204),void 0,cr(234),new class extends TouchButtonListener{constructor(){super()}trigger(xr){const pr=cr;if(xr)if(Yi.mousepadVisible)Yi[pr(134)](),Yi.hideMousepad(),Yi[pr(216)]=![],Yi[pr(191)]();else if(Yi.keyboardVisible)Yi.hideKeyboard(),Yi.hideMousepad(),Yi[pr(216)]=![],Yi[pr(191)]();else{or=(or+1)%ar[pr(169)];const br=ar[or];Yi.toggleJoystick(br,!![])}}});const ur=Nr(this,la)[cr(251)]().mouse_controllers;if(ur==null||ur[cr(169)]==0)return;let lr=0;new SingleTouchButton(s$1("#fastui"),'<span style="font-size: 50%;">MOUSE</span>',void 0,"fastmouse",new class extends TouchButtonListener{constructor(){super()}[cr(256)](xr){const pr=cr;if(xr)if(Yi.mousepadVisible=!![],Yi[pr(216)]){lr=(lr+1)%ur.length;const br=ur[lr];Yi[pr(121)](br,!![])}else{Yi[pr(134)](),Yi[pr(173)]();const br=ur[lr];Yi.toggleMousePad(br,!![])}}})}[_0x39cd29(154)](){const cr=_0x39cd29,ar=document.getElementById(cr(122)),or=document[cr(229)](cr(181)),ur=Nr(this,la)[cr(199)](),lr=[];let xr=Object[cr(143)](Nr(this,la).getSelectedPlatform()[cr(159)]);if(xr.length>0)for(let Er=0;Er<xr.length;Er++){let yr=xr[Er],Ir=Nr(this,la)[cr(251)]().additional_buttons[yr][cr(162)],Ar=Nr(this,la)[cr(251)]()[cr(159)][yr][cr(136)],kr=Nr(this,la)[cr(251)]()[cr(159)][yr][cr(237)];lr[cr(168)]({name:Ir,action:()=>{const Or=cr;kr?mr(kr[Or(237)],kr[Or(248)],kr[Or(237)][Or(136)]):ur.press({button:Ar,player:1,time:100})}})}else ar[cr(230)][cr(186)]=cr(137);function pr(Er,yr,Ir){const Ar=cr;let kr=new KeyboardEvent(Ar(151),{key:Er,code:yr,keyCode:Ir,charCode:Ir,bubbles:!![],cancelable:!![]});document[Ar(213)](kr)}function br(Er,yr,Ir){const Ar=cr;let kr=new KeyboardEvent(Ar(233),{key:Er,code:yr,keyCode:Ir,charCode:Ir,bubbles:!![],cancelable:!![]});document[Ar(213)](kr)}function mr(Er,yr,Ir){pr(Er,yr,Ir),setTimeout(()=>{br(Er,yr,Ir)},50)}function _r(){const Er=cr;or[Er(145)]="",lr[Er(166)](yr=>{const Ir=Er,Ar=document[Ir(139)](Ir(161));Ar[Ir(200)]=yr[Ir(249)],Ar[Ir(126)]=Ir(225),Ar[Ir(247)]("click",yr[Ir(175)]),or.appendChild(Ar)})}function vr(){const Er=cr;if(or[Er(230)][Er(186)]===Er(137)||or.style.display===""){const yr=ar[Er(211)]();or[Er(230)][Er(201)]=Er(140),or[Er(230)][Er(243)]=Er(189),or[Er(230)][Er(179)]=yr[Er(123)]+"px",or[Er(230)][Er(238)]=yr[Er(238)]+"px",or[Er(230)][Er(186)]="block",or[Er(230)][Er(250)]=Er(188)}else or[Er(230)].display=Er(137)}ar[cr(247)](cr(242),vr),_r()}[_0x39cd29(183)](){Ci(Yi,Go,new QuickJoy(Nr(this,la)))}[_0x39cd29(241)](){Ci(Yi,Yo,new QuickShot(Nr(this,la)))}[_0x39cd29(150)](){Ci(Yi,$o,new Mousepad(Nr(this,la)))}[_0x39cd29(255)](){Ci(Yi,qo,new Hideaway)}static[_0x39cd29(173)](){const cr=_0x39cd29;Yi[cr(129)]==JOYSTICK_TOUCH_MODE[cr(185)]&&Nr(this,qo)[cr(163)](),s$1(cr(226))[cr(230)][cr(186)]=cr(137),s$1("#quickjoys")[cr(230)][cr(186)]="none"}static[_0x39cd29(191)](){const cr=_0x39cd29;Yi[cr(129)]==JOYSTICK_TOUCH_MODE[cr(257)]?s$1(cr(226))[cr(230)][cr(186)]=cr(193):Yi[cr(129)]==JOYSTICK_TOUCH_MODE[cr(239)]?s$1("#quickjoys")[cr(230)][cr(186)]=cr(193):Yi[cr(129)]==JOYSTICK_TOUCH_MODE[cr(185)]}static hideKeyboard(){const cr=_0x39cd29;Yi[cr(177)]=![],s$1(cr(130))[cr(230)][cr(186)]=cr(137)}static[_0x39cd29(141)](){const cr=_0x39cd29;s$1(cr(130)).style[cr(186)]=cr(196)}static[_0x39cd29(253)](){const cr=_0x39cd29;s$1(cr(132))[cr(230)][cr(186)]=cr(137)}static[_0x39cd29(138)](){const cr=_0x39cd29;s$1(cr(132))[cr(230)][cr(186)]=cr(193)}static osdMessage(cr,ar=null){const or=_0x39cd29,ur=document[or(229)](or(171));function lr(){const xr=or;ur.style[xr(174)]="0",setTimeout(()=>ur[xr(230)].display="none",250)}if(ur[or(192)]&&(clearTimeout(ur.fadeOutTimeout),ur[or(192)]=null),cr===null){lr();return}ur.textContent=cr,ur[or(230)][or(186)]=or(193),setTimeout(()=>ur[or(230)][or(174)]="1",0),ar!==null&&(ur[or(192)]=setTimeout(()=>{const xr=or;lr(),ur[xr(192)]=null},ar))}};px=_0x39cd29(121),_x=_0x39cd29(220),la=new WeakMap,B0=new WeakMap,Go=new WeakMap,Yo=new WeakMap,qo=new WeakMap,$o=new WeakMap,Jc=new WeakSet,Nf=function(cr){const ar=_0x39cd29;let or=1,ur=Object[ar(143)](Nr(this,la).getSelectedPlatform().additional_buttons);ur[ar(259)]();for(let lr=0;lr<ur[ar(169)];lr++){let xr=ur[lr],pr=Nr(this,la)[ar(251)]()[ar(159)][xr][ar(162)],br=Nr(this,la)[ar(251)]()[ar(159)][xr][ar(136)],mr=Nr(this,la)[ar(251)]()[ar(159)][xr].key,_r;mr?_r=new SingleTouchButtonKbListener(mr[ar(237)],mr[ar(248)],mr.keyCode):_r=new SingleTouchButtonJoyListener(Nr(this,la)[ar(199)](),br),new SingleTouchButton(cr,'<span style="font-size: 50%;">'+pr+"</span>",void 0,ar(208)+or,_r),or+=1}},mi(Yi,Go,void 0),mi(Yi,Yo,void 0),mi(Yi,qo,void 0),mi(Yi,$o,void 0),ha(Yi,dx),ha(Yi,"currentMouseTouchMode"),ha(Yi,hx),ha(Yi,xx),ha(Yi,px,(cr,ar)=>{const or=_0x39cd29;if(!(EnvironmentManager[or(167)]()||EnvironmentManager.isQuest()))switch(cr){case MOUSE_TOUCH_MODE[or(232)]:Yi.mousepadVisible=!![],Yi[or(215)]=MOUSE_TOUCH_MODE[or(232)],Nr(Yi,Go).hide(),Nr(Yi,Yo)[or(163)](),Nr(Yi,qo)[or(163)](),Nr(Yi,$o).show();break}}),ha(Yi,_x,(cr,ar)=>{const or=_0x39cd29;if(!(EnvironmentManager[or(167)]()||EnvironmentManager.isQuest()))switch(cr){case JOYSTICK_TOUCH_MODE[or(239)]:Yi[or(129)]=JOYSTICK_TOUCH_MODE[or(239)],ar&&Yi[or(155)](or(218),1e3),Nr(Yi,qo).hide(),Nr(Yi,Yo)[or(163)](),Nr(Yi,$o)[or(163)](),Nr(Yi,Go)[or(203)]();break;case JOYSTICK_TOUCH_MODE[or(257)]:Yi[or(129)]=JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC,ar&&Yi[or(155)](or(164),1e3),Nr(Yi,Go)[or(163)](),Nr(Yi,$o).hide(),Nr(Yi,qo)[or(163)](),Nr(Yi,Yo)[or(203)]();break;case JOYSTICK_TOUCH_MODE[or(185)]:Yi[or(129)]=JOYSTICK_TOUCH_MODE[or(185)],ar&&Yi.osdMessage(or(207),1e3),Nr(Yi,Go).hide(),Nr(Yi,Yo)[or(163)](),Nr(Yi,$o)[or(163)](),Nr(Yi,qo)[or(203)]();break}});let UiManager=Yi;var Qs,q0,N0;const C0=class C0 extends TouchButtonListener{constructor(ar){super();mi(this,Qs,void 0);mi(this,q0,void 0);Ci(this,Qs,ar)}trigger(ar){ar?(Nr(this,Qs).sendCommand(Nr(C0,N0)),Ci(this,q0,setInterval(()=>{const or=_0x2bbd;Nr(this,Qs)[or(170)](Nr(C0,N0))},5))):clearInterval(Nr(this,q0))}};Qs=new WeakMap,q0=new WeakMap,N0=new WeakMap,mi(C0,N0,_0x39cd29(180));let RewindButtonListener=C0;var L0,M0;class CommandButtonListener extends TouchButtonListener{constructor(ar,or,ur){const lr=_0x39cd29;super();mi(this,L0,void 0);mi(this,M0,void 0);Ci(this,L0,ar),Ci(this,M0,or),this[lr(222)]=ur}trigger(ar){const or=_0x39cd29;Nr(this,M0)[or(170)](Nr(this,L0))}}L0=new WeakMap,M0=new WeakMap;var V0;class SaveButtonListener extends TouchButtonListener{constructor(ar){super();mi(this,V0,void 0);Ci(this,V0,ar)}async[_0x39cd29(256)](ar){ar&&Nr(this,V0).saveState()}}V0=new WeakMap;var U0;class KbListener extends TouchButtonListener{constructor(ar){super();mi(this,U0,void 0);Ci(this,U0,ar)}[_0x39cd29(256)](ar){const or=_0x39cd29;ar&&(UiManager[or(177)]=!![],UiManager.hideJoystick(),UiManager[or(253)](),UiManager[or(141)](),Nr(this,U0)[or(195)]())}}U0=new WeakMap;class ResetButtonListener extends TouchButtonListener{constructor(){super()}[_0x39cd29(256)](cr){cr&&location[_0x39cd29(219)]()}}var lib={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z=Symbol.iterator;function A(fr){return fr===null||typeof fr!="object"?null:(fr=z&&fr[z]||fr["@@iterator"],typeof fr=="function"?fr:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,D$1={};function E(fr,cr,ar){this.props=fr,this.context=cr,this.refs=D$1,this.updater=ar||B}E.prototype.isReactComponent={};E.prototype.setState=function(fr,cr){if(typeof fr!="object"&&typeof fr!="function"&&fr!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,fr,cr,"setState")};E.prototype.forceUpdate=function(fr){this.updater.enqueueForceUpdate(this,fr,"forceUpdate")};function F$1(){}F$1.prototype=E.prototype;function G$1(fr,cr,ar){this.props=fr,this.context=cr,this.refs=D$1,this.updater=ar||B}var H=G$1.prototype=new F$1;H.constructor=G$1;C(H,E.prototype);H.isPureReactComponent=!0;var I$1=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M(fr,cr,ar){var or,ur={},lr=null,xr=null;if(cr!=null)for(or in cr.ref!==void 0&&(xr=cr.ref),cr.key!==void 0&&(lr=""+cr.key),cr)J$1.call(cr,or)&&!L$1.hasOwnProperty(or)&&(ur[or]=cr[or]);var pr=arguments.length-2;if(pr===1)ur.children=ar;else if(1<pr){for(var br=Array(pr),mr=0;mr<pr;mr++)br[mr]=arguments[mr+2];ur.children=br}if(fr&&fr.defaultProps)for(or in pr=fr.defaultProps,pr)ur[or]===void 0&&(ur[or]=pr[or]);return{$$typeof:l$1,type:fr,key:lr,ref:xr,props:ur,_owner:K$1.current}}function N$1(fr,cr){return{$$typeof:l$1,type:fr.type,key:cr,ref:fr.ref,props:fr.props,_owner:fr._owner}}function O$1(fr){return typeof fr=="object"&&fr!==null&&fr.$$typeof===l$1}function escape$1(fr){var cr={"=":"=0",":":"=2"};return"$"+fr.replace(/[=:]/g,function(ar){return cr[ar]})}var P=/\/+/g;function Q$1(fr,cr){return typeof fr=="object"&&fr!==null&&fr.key!=null?escape$1(""+fr.key):cr.toString(36)}function R$1(fr,cr,ar,or,ur){var lr=typeof fr;(lr==="undefined"||lr==="boolean")&&(fr=null);var xr=!1;if(fr===null)xr=!0;else switch(lr){case"string":case"number":xr=!0;break;case"object":switch(fr.$$typeof){case l$1:case n:xr=!0}}if(xr)return xr=fr,ur=ur(xr),fr=or===""?"."+Q$1(xr,0):or,I$1(ur)?(ar="",fr!=null&&(ar=fr.replace(P,"$&/")+"/"),R$1(ur,cr,ar,"",function(mr){return mr})):ur!=null&&(O$1(ur)&&(ur=N$1(ur,ar+(!ur.key||xr&&xr.key===ur.key?"":(""+ur.key).replace(P,"$&/")+"/")+fr)),cr.push(ur)),1;if(xr=0,or=or===""?".":or+":",I$1(fr))for(var pr=0;pr<fr.length;pr++){lr=fr[pr];var br=or+Q$1(lr,pr);xr+=R$1(lr,cr,ar,br,ur)}else if(br=A(fr),typeof br=="function")for(fr=br.call(fr),pr=0;!(lr=fr.next()).done;)lr=lr.value,br=or+Q$1(lr,pr++),xr+=R$1(lr,cr,ar,br,ur);else if(lr==="object")throw cr=String(fr),Error("Objects are not valid as a React child (found: "+(cr==="[object Object]"?"object with keys {"+Object.keys(fr).join(", ")+"}":cr)+"). If you meant to render a collection of children, use an array instead.");return xr}function S(fr,cr,ar){if(fr==null)return fr;var or=[],ur=0;return R$1(fr,or,"","",function(lr){return cr.call(ar,lr,ur++)}),or}function T(fr){if(fr._status===-1){var cr=fr._result;cr=cr(),cr.then(function(ar){(fr._status===0||fr._status===-1)&&(fr._status=1,fr._result=ar)},function(ar){(fr._status===0||fr._status===-1)&&(fr._status=2,fr._result=ar)}),fr._status===-1&&(fr._status=0,fr._result=cr)}if(fr._status===1)return fr._result.default;throw fr._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S,forEach:function(fr,cr,ar){S(fr,function(){cr.apply(this,arguments)},ar)},count:function(fr){var cr=0;return S(fr,function(){cr++}),cr},toArray:function(fr){return S(fr,function(cr){return cr})||[]},only:function(fr){if(!O$1(fr))throw Error("React.Children.only expected to receive a single React element child.");return fr}};react_production_min.Component=E;react_production_min.Fragment=p;react_production_min.Profiler=r;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$1;react_production_min.cloneElement=function(fr,cr,ar){if(fr==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+fr+".");var or=C({},fr.props),ur=fr.key,lr=fr.ref,xr=fr._owner;if(cr!=null){if(cr.ref!==void 0&&(lr=cr.ref,xr=K$1.current),cr.key!==void 0&&(ur=""+cr.key),fr.type&&fr.type.defaultProps)var pr=fr.type.defaultProps;for(br in cr)J$1.call(cr,br)&&!L$1.hasOwnProperty(br)&&(or[br]=cr[br]===void 0&&pr!==void 0?pr[br]:cr[br])}var br=arguments.length-2;if(br===1)or.children=ar;else if(1<br){pr=Array(br);for(var mr=0;mr<br;mr++)pr[mr]=arguments[mr+2];or.children=pr}return{$$typeof:l$1,type:fr.type,key:ur,ref:lr,props:or,_owner:xr}};react_production_min.createContext=function(fr){return fr={$$typeof:u,_currentValue:fr,_currentValue2:fr,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},fr.Provider={$$typeof:t,_context:fr},fr.Consumer=fr};react_production_min.createElement=M;react_production_min.createFactory=function(fr){var cr=M.bind(null,fr);return cr.type=fr,cr};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(fr){return{$$typeof:v,render:fr}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(fr){return{$$typeof:y,_payload:{_status:-1,_result:fr},_init:T}};react_production_min.memo=function(fr,cr){return{$$typeof:x,type:fr,compare:cr===void 0?null:cr}};react_production_min.startTransition=function(fr){var cr=V$1.transition;V$1.transition={};try{fr()}finally{V$1.transition=cr}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(fr,cr){return U$1.current.useCallback(fr,cr)};react_production_min.useContext=function(fr){return U$1.current.useContext(fr)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(fr){return U$1.current.useDeferredValue(fr)};react_production_min.useEffect=function(fr,cr){return U$1.current.useEffect(fr,cr)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(fr,cr,ar){return U$1.current.useImperativeHandle(fr,cr,ar)};react_production_min.useInsertionEffect=function(fr,cr){return U$1.current.useInsertionEffect(fr,cr)};react_production_min.useLayoutEffect=function(fr,cr){return U$1.current.useLayoutEffect(fr,cr)};react_production_min.useMemo=function(fr,cr){return U$1.current.useMemo(fr,cr)};react_production_min.useReducer=function(fr,cr,ar){return U$1.current.useReducer(fr,cr,ar)};react_production_min.useRef=function(fr){return U$1.current.useRef(fr)};react_production_min.useState=function(fr){return U$1.current.useState(fr)};react_production_min.useSyncExternalStore=function(fr,cr,ar){return U$1.current.useSyncExternalStore(fr,cr,ar)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports,uaParser_min={exports:{}};(function(fr,cr){(function(ar,or){var ur="1.0.38",lr="",xr="?",pr="function",br="undefined",mr="object",_r="string",vr="major",Er="model",yr="name",Ir="type",Ar="vendor",kr="version",Or="architecture",Dr="console",Rr="mobile",Fr="tablet",Lr="smarttv",Hr="wearable",Ur="embedded",Zr=500,Yr="Amazon",jr="Apple",Jr="ASUS",Wr="BlackBerry",ni="Browser",Mr="Chrome",hi="Edge",Ei="Firefox",_i="Google",Fi="Huawei",si="LG",ci="Microsoft",$r="Motorola",ei="Opera",pi="Samsung",ui="Sharp",bi="Sony",qi="Xiaomi",Gi="Zebra",Ti="Facebook",ii="Chromium OS",oi="Mac OS",Si=function(ai,fi){var vi={};for(var Ri in ai)fi[Ri]&&fi[Ri].length%2===0?vi[Ri]=fi[Ri].concat(ai[Ri]):vi[Ri]=ai[Ri];return vi},Di=function(ai){for(var fi={},vi=0;vi<ai.length;vi++)fi[ai[vi].toUpperCase()]=ai[vi];return fi},Vi=function(ai,fi){return typeof ai===_r?Vr(fi).indexOf(Vr(ai))!==-1:!1},Vr=function(ai){return ai.toLowerCase()},di=function(ai){return typeof ai===_r?ai.replace(/[^\d\.]/g,lr).split(".")[0]:or},yi=function(ai,fi){if(typeof ai===_r)return ai=ai.replace(/^\s\s*/,lr),typeof fi===br?ai:ai.substring(0,Zr)},ti=function(ai,fi){for(var vi=0,Ri,Qi,Zi,zi,Bi,ta;vi<fi.length&&!Bi;){var Ia=fi[vi],Ra=fi[vi+1];for(Ri=Qi=0;Ri<Ia.length&&!Bi&&Ia[Ri];)if(Bi=Ia[Ri++].exec(ai),Bi)for(Zi=0;Zi<Ra.length;Zi++)ta=Bi[++Qi],zi=Ra[Zi],typeof zi===mr&&zi.length>0?zi.length===2?typeof zi[1]==pr?this[zi[0]]=zi[1].call(this,ta):this[zi[0]]=zi[1]:zi.length===3?typeof zi[1]===pr&&!(zi[1].exec&&zi[1].test)?this[zi[0]]=ta?zi[1].call(this,ta,zi[2]):or:this[zi[0]]=ta?ta.replace(zi[1],zi[2]):or:zi.length===4&&(this[zi[0]]=ta?zi[3].call(this,ta.replace(zi[1],zi[2])):or):this[zi]=ta||or;vi+=2}},ri=function(ai,fi){for(var vi in fi)if(typeof fi[vi]===mr&&fi[vi].length>0){for(var Ri=0;Ri<fi[vi].length;Ri++)if(Vi(fi[vi][Ri],ai))return vi===xr?or:vi}else if(Vi(fi[vi],ai))return vi===xr?or:vi;return ai},xi={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Ai={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Kr={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[kr,[yr,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[kr,[yr,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[yr,kr],[/opios[\/ ]+([\w\.]+)/i],[kr,[yr,ei+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[kr,[yr,ei+" GX"]],[/\bopr\/([\w\.]+)/i],[kr,[yr,ei]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[kr,[yr,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[yr,kr],[/\bddg\/([\w\.]+)/i],[kr,[yr,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[kr,[yr,"UC"+ni]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[kr,[yr,"WeChat"]],[/konqueror\/([\w\.]+)/i],[kr,[yr,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[kr,[yr,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[kr,[yr,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[kr,[yr,"Smart Lenovo "+ni]],[/(avast|avg)\/([\w\.]+)/i],[[yr,/(.+)/,"$1 Secure "+ni],kr],[/\bfocus\/([\w\.]+)/i],[kr,[yr,Ei+" Focus"]],[/\bopt\/([\w\.]+)/i],[kr,[yr,ei+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[kr,[yr,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[kr,[yr,"Dolphin"]],[/coast\/([\w\.]+)/i],[kr,[yr,ei+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[kr,[yr,"MIUI "+ni]],[/fxios\/([-\w\.]+)/i],[kr,[yr,Ei]],[/\bqihu|(qi?ho?o?|360)browser/i],[[yr,"360 "+ni]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[yr,/(.+)/,"$1 "+ni],kr],[/samsungbrowser\/([\w\.]+)/i],[kr,[yr,pi+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[yr,/_/g," "],kr],[/metasr[\/ ]?([\d\.]+)/i],[kr,[yr,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[yr,"Sogou Mobile"],kr],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[yr,kr],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[yr],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[yr,Ti],kr],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[yr,kr],[/\bgsa\/([\w\.]+) .*safari\//i],[kr,[yr,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[kr,[yr,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[kr,[yr,Mr+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[yr,Mr+" WebView"],kr],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[kr,[yr,"Android "+ni]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[yr,kr],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[kr,[yr,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[kr,yr],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[yr,[kr,ri,xi]],[/(webkit|khtml)\/([\w\.]+)/i],[yr,kr],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[yr,"Netscape"],kr],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[kr,[yr,Ei+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[yr,kr],[/(cobalt)\/([\w\.]+)/i],[yr,[kr,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[Or,"amd64"]],[/(ia32(?=;))/i],[[Or,Vr]],[/((?:i[346]|x)86)[;\)]/i],[[Or,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[Or,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[Or,"armhf"]],[/windows (ce|mobile); ppc;/i],[[Or,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[Or,/ower/,lr,Vr]],[/(sun4\w)[;\)]/i],[[Or,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[Or,Vr]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[Er,[Ar,pi],[Ir,Fr]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[Er,[Ar,pi],[Ir,Rr]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[Er,[Ar,jr],[Ir,Rr]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[Er,[Ar,jr],[Ir,Fr]],[/(macintosh);/i],[Er,[Ar,jr]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[Er,[Ar,ui],[Ir,Rr]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[Er,[Ar,Fi],[Ir,Fr]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[Er,[Ar,Fi],[Ir,Rr]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[Er,/_/g," "],[Ar,qi],[Ir,Rr]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[Er,/_/g," "],[Ar,qi],[Ir,Fr]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[Er,[Ar,"OPPO"],[Ir,Rr]],[/\b(opd2\d{3}a?) bui/i],[Er,[Ar,"OPPO"],[Ir,Fr]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[Er,[Ar,"Vivo"],[Ir,Rr]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[Er,[Ar,"Realme"],[Ir,Rr]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[Er,[Ar,$r],[Ir,Rr]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[Er,[Ar,$r],[Ir,Fr]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[Er,[Ar,si],[Ir,Fr]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[Er,[Ar,si],[Ir,Rr]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[Er,[Ar,"Lenovo"],[Ir,Fr]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[Er,/_/g," "],[Ar,"Nokia"],[Ir,Rr]],[/(pixel c)\b/i],[Er,[Ar,_i],[Ir,Fr]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[Er,[Ar,_i],[Ir,Rr]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[Er,[Ar,bi],[Ir,Rr]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[Er,"Xperia Tablet"],[Ar,bi],[Ir,Fr]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[Er,[Ar,"OnePlus"],[Ir,Rr]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[Er,[Ar,Yr],[Ir,Fr]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[Er,/(.+)/g,"Fire Phone $1"],[Ar,Yr],[Ir,Rr]],[/(playbook);[-\w\),; ]+(rim)/i],[Er,Ar,[Ir,Fr]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[Er,[Ar,Wr],[Ir,Rr]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[Er,[Ar,Jr],[Ir,Fr]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[Er,[Ar,Jr],[Ir,Rr]],[/(nexus 9)/i],[Er,[Ar,"HTC"],[Ir,Fr]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[Ar,[Er,/_/g," "],[Ir,Rr]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[Er,[Ar,"Acer"],[Ir,Fr]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[Er,[Ar,"Meizu"],[Ir,Rr]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[Er,[Ar,"Ulefone"],[Ir,Rr]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[Ar,Er,[Ir,Rr]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[Ar,Er,[Ir,Fr]],[/(surface duo)/i],[Er,[Ar,ci],[Ir,Fr]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[Er,[Ar,"Fairphone"],[Ir,Rr]],[/(u304aa)/i],[Er,[Ar,"AT&T"],[Ir,Rr]],[/\bsie-(\w*)/i],[Er,[Ar,"Siemens"],[Ir,Rr]],[/\b(rct\w+) b/i],[Er,[Ar,"RCA"],[Ir,Fr]],[/\b(venue[\d ]{2,7}) b/i],[Er,[Ar,"Dell"],[Ir,Fr]],[/\b(q(?:mv|ta)\w+) b/i],[Er,[Ar,"Verizon"],[Ir,Fr]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[Er,[Ar,"Barnes & Noble"],[Ir,Fr]],[/\b(tm\d{3}\w+) b/i],[Er,[Ar,"NuVision"],[Ir,Fr]],[/\b(k88) b/i],[Er,[Ar,"ZTE"],[Ir,Fr]],[/\b(nx\d{3}j) b/i],[Er,[Ar,"ZTE"],[Ir,Rr]],[/\b(gen\d{3}) b.+49h/i],[Er,[Ar,"Swiss"],[Ir,Rr]],[/\b(zur\d{3}) b/i],[Er,[Ar,"Swiss"],[Ir,Fr]],[/\b((zeki)?tb.*\b) b/i],[Er,[Ar,"Zeki"],[Ir,Fr]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[Ar,"Dragon Touch"],Er,[Ir,Fr]],[/\b(ns-?\w{0,9}) b/i],[Er,[Ar,"Insignia"],[Ir,Fr]],[/\b((nxa|next)-?\w{0,9}) b/i],[Er,[Ar,"NextBook"],[Ir,Fr]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[Ar,"Voice"],Er,[Ir,Rr]],[/\b(lvtel\-)?(v1[12]) b/i],[[Ar,"LvTel"],Er,[Ir,Rr]],[/\b(ph-1) /i],[Er,[Ar,"Essential"],[Ir,Rr]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[Er,[Ar,"Envizen"],[Ir,Fr]],[/\b(trio[-\w\. ]+) b/i],[Er,[Ar,"MachSpeed"],[Ir,Fr]],[/\btu_(1491) b/i],[Er,[Ar,"Rotor"],[Ir,Fr]],[/(shield[\w ]+) b/i],[Er,[Ar,"Nvidia"],[Ir,Fr]],[/(sprint) (\w+)/i],[Ar,Er,[Ir,Rr]],[/(kin\.[onetw]{3})/i],[[Er,/\./g," "],[Ar,ci],[Ir,Rr]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[Er,[Ar,Gi],[Ir,Fr]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[Er,[Ar,Gi],[Ir,Rr]],[/smart-tv.+(samsung)/i],[Ar,[Ir,Lr]],[/hbbtv.+maple;(\d+)/i],[[Er,/^/,"SmartTV"],[Ar,pi],[Ir,Lr]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[Ar,si],[Ir,Lr]],[/(apple) ?tv/i],[Ar,[Er,jr+" TV"],[Ir,Lr]],[/crkey/i],[[Er,Mr+"cast"],[Ar,_i],[Ir,Lr]],[/droid.+aft(\w+)( bui|\))/i],[Er,[Ar,Yr],[Ir,Lr]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[Er,[Ar,ui],[Ir,Lr]],[/(bravia[\w ]+)( bui|\))/i],[Er,[Ar,bi],[Ir,Lr]],[/(mitv-\w{5}) bui/i],[Er,[Ar,qi],[Ir,Lr]],[/Hbbtv.*(technisat) (.*);/i],[Ar,Er,[Ir,Lr]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[Ar,yi],[Er,yi],[Ir,Lr]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[Ir,Lr]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[Ar,Er,[Ir,Dr]],[/droid.+; (shield) bui/i],[Er,[Ar,"Nvidia"],[Ir,Dr]],[/(playstation [345portablevi]+)/i],[Er,[Ar,bi],[Ir,Dr]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[Er,[Ar,ci],[Ir,Dr]],[/((pebble))app/i],[Ar,Er,[Ir,Hr]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[Er,[Ar,jr],[Ir,Hr]],[/droid.+; (glass) \d/i],[Er,[Ar,_i],[Ir,Hr]],[/droid.+; (wt63?0{2,3})\)/i],[Er,[Ar,Gi],[Ir,Hr]],[/(quest( \d| pro)?)/i],[Er,[Ar,Ti],[Ir,Hr]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[Ar,[Ir,Ur]],[/(aeobc)\b/i],[Er,[Ar,Yr],[Ir,Ur]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[Er,[Ir,Rr]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[Er,[Ir,Fr]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[Ir,Fr]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[Ir,Rr]],[/(android[-\w\. ]{0,9});.+buil/i],[Er,[Ar,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[kr,[yr,hi+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[kr,[yr,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[yr,kr],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[kr,yr]],os:[[/microsoft (windows) (vista|xp)/i],[yr,kr],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[yr,[kr,ri,Ai]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[kr,ri,Ai],[yr,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[kr,/_/g,"."],[yr,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[yr,oi],[kr,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[kr,yr],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[yr,kr],[/\(bb(10);/i],[kr,[yr,Wr]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[kr,[yr,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[kr,[yr,Ei+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[kr,[yr,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[kr,[yr,"watchOS"]],[/crkey\/([\d\.]+)/i],[kr,[yr,Mr+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[yr,ii],kr],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[yr,kr],[/(sunos) ?([\w\.\d]*)/i],[[yr,"Solaris"],kr],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[yr,kr]]},Pr=function(ai,fi){if(typeof ai===mr&&(fi=ai,ai=or),!(this instanceof Pr))return new Pr(ai,fi).getResult();var vi=typeof ar!==br&&ar.navigator?ar.navigator:or,Ri=ai||(vi&&vi.userAgent?vi.userAgent:lr),Qi=vi&&vi.userAgentData?vi.userAgentData:or,Zi=fi?Si(Kr,fi):Kr,zi=vi&&vi.userAgent==Ri;return this.getBrowser=function(){var Bi={};return Bi[yr]=or,Bi[kr]=or,ti.call(Bi,Ri,Zi.browser),Bi[vr]=di(Bi[kr]),zi&&vi&&vi.brave&&typeof vi.brave.isBrave==pr&&(Bi[yr]="Brave"),Bi},this.getCPU=function(){var Bi={};return Bi[Or]=or,ti.call(Bi,Ri,Zi.cpu),Bi},this.getDevice=function(){var Bi={};return Bi[Ar]=or,Bi[Er]=or,Bi[Ir]=or,ti.call(Bi,Ri,Zi.device),zi&&!Bi[Ir]&&Qi&&Qi.mobile&&(Bi[Ir]=Rr),zi&&Bi[Er]=="Macintosh"&&vi&&typeof vi.standalone!==br&&vi.maxTouchPoints&&vi.maxTouchPoints>2&&(Bi[Er]="iPad",Bi[Ir]=Fr),Bi},this.getEngine=function(){var Bi={};return Bi[yr]=or,Bi[kr]=or,ti.call(Bi,Ri,Zi.engine),Bi},this.getOS=function(){var Bi={};return Bi[yr]=or,Bi[kr]=or,ti.call(Bi,Ri,Zi.os),zi&&!Bi[yr]&&Qi&&Qi.platform&&Qi.platform!="Unknown"&&(Bi[yr]=Qi.platform.replace(/chrome os/i,ii).replace(/macos/i,oi)),Bi},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Ri},this.setUA=function(Bi){return Ri=typeof Bi===_r&&Bi.length>Zr?yi(Bi,Zr):Bi,this},this.setUA(Ri),this};Pr.VERSION=ur,Pr.BROWSER=Di([yr,kr,vr]),Pr.CPU=Di([Or]),Pr.DEVICE=Di([Er,Ar,Ir,Dr,Rr,Lr,Fr,Hr,Ur]),Pr.ENGINE=Pr.OS=Di([yr,kr]),fr.exports&&(cr=fr.exports=Pr),cr.UAParser=Pr;var qr=typeof ar!==br&&(ar.jQuery||ar.Zepto);if(qr&&!qr.ua){var Xr=new Pr;qr.ua=Xr.getResult(),qr.ua.get=function(){return Xr.getUA()},qr.ua.set=function(ai){Xr.setUA(ai);var fi=Xr.getResult();for(var vi in fi)qr.ua[vi]=fi[vi]}}})(typeof window=="object"?window:commonjsGlobal$1)})(uaParser_min,uaParser_min.exports);var uaParser_minExports=uaParser_min.exports;Object.defineProperty(lib,"__esModule",{value:!0});function _interopDefault(fr){return fr&&typeof fr=="object"&&"default"in fr?fr.default:fr}var React=reactExports,React__default=_interopDefault(React),UAParser=uaParser_minExports,ClientUAInstance=new UAParser,browser=ClientUAInstance.getBrowser(),cpu=ClientUAInstance.getCPU(),device=ClientUAInstance.getDevice(),engine=ClientUAInstance.getEngine(),os=ClientUAInstance.getOS(),ua=ClientUAInstance.getUA(),setUa=function fr(cr){return ClientUAInstance.setUA(cr)},parseUserAgent=function fr(cr){if(!cr){console.error("No userAgent string was provided");return}var ar=new UAParser(cr);return{UA:ar,browser:ar.getBrowser(),cpu:ar.getCPU(),device:ar.getDevice(),engine:ar.getEngine(),os:ar.getOS(),ua:ar.getUA(),setUserAgent:function(ur){return ar.setUA(ur)}}},UAHelper=Object.freeze({ClientUAInstance,browser,cpu,device,engine,os,ua,setUa,parseUserAgent});function ownKeys(fr,cr){var ar=Object.keys(fr);if(Object.getOwnPropertySymbols){var or=Object.getOwnPropertySymbols(fr);cr&&(or=or.filter(function(ur){return Object.getOwnPropertyDescriptor(fr,ur).enumerable})),ar.push.apply(ar,or)}return ar}function _objectSpread2(fr){for(var cr=1;cr<arguments.length;cr++){var ar=arguments[cr]!=null?arguments[cr]:{};cr%2?ownKeys(Object(ar),!0).forEach(function(or){_defineProperty(fr,or,ar[or])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fr,Object.getOwnPropertyDescriptors(ar)):ownKeys(Object(ar)).forEach(function(or){Object.defineProperty(fr,or,Object.getOwnPropertyDescriptor(ar,or))})}return fr}function _typeof(fr){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(cr){return typeof cr}:_typeof=function(cr){return cr&&typeof Symbol=="function"&&cr.constructor===Symbol&&cr!==Symbol.prototype?"symbol":typeof cr},_typeof(fr)}function _classCallCheck(fr,cr){if(!(fr instanceof cr))throw new TypeError("Cannot call a class as a function")}function _defineProperties(fr,cr){for(var ar=0;ar<cr.length;ar++){var or=cr[ar];or.enumerable=or.enumerable||!1,or.configurable=!0,"value"in or&&(or.writable=!0),Object.defineProperty(fr,or.key,or)}}function _createClass(fr,cr,ar){return cr&&_defineProperties(fr.prototype,cr),ar&&_defineProperties(fr,ar),fr}function _defineProperty(fr,cr,ar){return cr in fr?Object.defineProperty(fr,cr,{value:ar,enumerable:!0,configurable:!0,writable:!0}):fr[cr]=ar,fr}function _extends(){return _extends=Object.assign||function(fr){for(var cr=1;cr<arguments.length;cr++){var ar=arguments[cr];for(var or in ar)Object.prototype.hasOwnProperty.call(ar,or)&&(fr[or]=ar[or])}return fr},_extends.apply(this,arguments)}function _inherits(fr,cr){if(typeof cr!="function"&&cr!==null)throw new TypeError("Super expression must either be null or a function");fr.prototype=Object.create(cr&&cr.prototype,{constructor:{value:fr,writable:!0,configurable:!0}}),cr&&_setPrototypeOf(fr,cr)}function _getPrototypeOf(fr){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(ar){return ar.__proto__||Object.getPrototypeOf(ar)},_getPrototypeOf(fr)}function _setPrototypeOf(fr,cr){return _setPrototypeOf=Object.setPrototypeOf||function(or,ur){return or.__proto__=ur,or},_setPrototypeOf(fr,cr)}function _objectWithoutPropertiesLoose(fr,cr){if(fr==null)return{};var ar={},or=Object.keys(fr),ur,lr;for(lr=0;lr<or.length;lr++)ur=or[lr],!(cr.indexOf(ur)>=0)&&(ar[ur]=fr[ur]);return ar}function _objectWithoutProperties(fr,cr){if(fr==null)return{};var ar=_objectWithoutPropertiesLoose(fr,cr),or,ur;if(Object.getOwnPropertySymbols){var lr=Object.getOwnPropertySymbols(fr);for(ur=0;ur<lr.length;ur++)or=lr[ur],!(cr.indexOf(or)>=0)&&Object.prototype.propertyIsEnumerable.call(fr,or)&&(ar[or]=fr[or])}return ar}function _assertThisInitialized(fr){if(fr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return fr}function _possibleConstructorReturn(fr,cr){if(cr&&(typeof cr=="object"||typeof cr=="function"))return cr;if(cr!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(fr)}function _slicedToArray(fr,cr){return _arrayWithHoles(fr)||_iterableToArrayLimit(fr,cr)||_unsupportedIterableToArray(fr,cr)||_nonIterableRest()}function _arrayWithHoles(fr){if(Array.isArray(fr))return fr}function _iterableToArrayLimit(fr,cr){var ar=fr==null?null:typeof Symbol<"u"&&fr[Symbol.iterator]||fr["@@iterator"];if(ar!=null){var or=[],ur=!0,lr=!1,xr,pr;try{for(ar=ar.call(fr);!(ur=(xr=ar.next()).done)&&(or.push(xr.value),!(cr&&or.length===cr));ur=!0);}catch(br){lr=!0,pr=br}finally{try{!ur&&ar.return!=null&&ar.return()}finally{if(lr)throw pr}}return or}}function _unsupportedIterableToArray(fr,cr){if(fr){if(typeof fr=="string")return _arrayLikeToArray(fr,cr);var ar=Object.prototype.toString.call(fr).slice(8,-1);if(ar==="Object"&&fr.constructor&&(ar=fr.constructor.name),ar==="Map"||ar==="Set")return Array.from(fr);if(ar==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ar))return _arrayLikeToArray(fr,cr)}}function _arrayLikeToArray(fr,cr){(cr==null||cr>fr.length)&&(cr=fr.length);for(var ar=0,or=new Array(cr);ar<cr;ar++)or[ar]=fr[ar];return or}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var DeviceTypes={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},BrowserTypes={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},OsTypes={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},InitialDeviceTypes={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},checkDeviceType=function fr(cr){switch(cr){case DeviceTypes.Mobile:return{isMobile:!0};case DeviceTypes.Tablet:return{isTablet:!0};case DeviceTypes.SmartTv:return{isSmartTV:!0};case DeviceTypes.Console:return{isConsole:!0};case DeviceTypes.Wearable:return{isWearable:!0};case DeviceTypes.Browser:return{isBrowser:!0};case DeviceTypes.Embedded:return{isEmbedded:!0};default:return InitialDeviceTypes}},setUserAgent=function fr(cr){return setUa(cr)},setDefaults=function fr(cr){var ar=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return cr||ar},getNavigatorInstance=function fr(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},isIOS13Check=function fr(cr){var ar=getNavigatorInstance();return ar&&ar.platform&&(ar.platform.indexOf(cr)!==-1||ar.platform==="MacIntel"&&ar.maxTouchPoints>1&&!window.MSStream)},browserPayload=function fr(cr,ar,or,ur,lr){return{isBrowser:cr,browserMajorVersion:setDefaults(ar.major),browserFullVersion:setDefaults(ar.version),browserName:setDefaults(ar.name),engineName:setDefaults(or.name),engineVersion:setDefaults(or.version),osName:setDefaults(ur.name),osVersion:setDefaults(ur.version),userAgent:setDefaults(lr)}},mobilePayload=function fr(cr,ar,or,ur){return _objectSpread2({},cr,{vendor:setDefaults(ar.vendor),model:setDefaults(ar.model),os:setDefaults(or.name),osVersion:setDefaults(or.version),ua:setDefaults(ur)})},smartTvPayload=function fr(cr,ar,or,ur){return{isSmartTV:cr,engineName:setDefaults(ar.name),engineVersion:setDefaults(ar.version),osName:setDefaults(or.name),osVersion:setDefaults(or.version),userAgent:setDefaults(ur)}},consolePayload=function fr(cr,ar,or,ur){return{isConsole:cr,engineName:setDefaults(ar.name),engineVersion:setDefaults(ar.version),osName:setDefaults(or.name),osVersion:setDefaults(or.version),userAgent:setDefaults(ur)}},wearablePayload=function fr(cr,ar,or,ur){return{isWearable:cr,engineName:setDefaults(ar.name),engineVersion:setDefaults(ar.version),osName:setDefaults(or.name),osVersion:setDefaults(or.version),userAgent:setDefaults(ur)}},embeddedPayload=function fr(cr,ar,or,ur,lr){return{isEmbedded:cr,vendor:setDefaults(ar.vendor),model:setDefaults(ar.model),engineName:setDefaults(or.name),engineVersion:setDefaults(or.version),osName:setDefaults(ur.name),osVersion:setDefaults(ur.version),userAgent:setDefaults(lr)}};function deviceDetect(fr){var cr=fr?parseUserAgent(fr):UAHelper,ar=cr.device,or=cr.browser,ur=cr.engine,lr=cr.os,xr=cr.ua,pr=checkDeviceType(ar.type),br=pr.isBrowser,mr=pr.isMobile,_r=pr.isTablet,vr=pr.isSmartTV,Er=pr.isConsole,yr=pr.isWearable,Ir=pr.isEmbedded;if(br)return browserPayload(br,or,ur,lr,xr);if(vr)return smartTvPayload(vr,ur,lr,xr);if(Er)return consolePayload(Er,ur,lr,xr);if(mr||_r)return mobilePayload(pr,ar,lr,xr);if(yr)return wearablePayload(yr,ur,lr,xr);if(Ir)return embeddedPayload(Ir,ar,ur,lr,xr)}var isMobileType=function fr(cr){var ar=cr.type;return ar===DeviceTypes.Mobile},isTabletType=function fr(cr){var ar=cr.type;return ar===DeviceTypes.Tablet},isMobileAndTabletType=function fr(cr){var ar=cr.type;return ar===DeviceTypes.Mobile||ar===DeviceTypes.Tablet},isSmartTVType=function fr(cr){var ar=cr.type;return ar===DeviceTypes.SmartTv},isBrowserType=function fr(cr){var ar=cr.type;return ar===DeviceTypes.Browser},isWearableType=function fr(cr){var ar=cr.type;return ar===DeviceTypes.Wearable},isConsoleType=function fr(cr){var ar=cr.type;return ar===DeviceTypes.Console},isEmbeddedType=function fr(cr){var ar=cr.type;return ar===DeviceTypes.Embedded},getMobileVendor=function fr(cr){var ar=cr.vendor;return setDefaults(ar)},getMobileModel=function fr(cr){var ar=cr.model;return setDefaults(ar)},getDeviceType=function fr(cr){var ar=cr.type;return setDefaults(ar,"browser")},isAndroidType=function fr(cr){var ar=cr.name;return ar===OsTypes.Android},isWindowsType=function fr(cr){var ar=cr.name;return ar===OsTypes.Windows},isMacOsType=function fr(cr){var ar=cr.name;return ar===OsTypes.MAC_OS},isWinPhoneType=function fr(cr){var ar=cr.name;return ar===OsTypes.WindowsPhone},isIOSType=function fr(cr){var ar=cr.name;return ar===OsTypes.IOS},getOsVersion=function fr(cr){var ar=cr.version;return setDefaults(ar)},getOsName=function fr(cr){var ar=cr.name;return setDefaults(ar)},isChromeType=function fr(cr){var ar=cr.name;return ar===BrowserTypes.Chrome},isFirefoxType=function fr(cr){var ar=cr.name;return ar===BrowserTypes.Firefox},isChromiumType=function fr(cr){var ar=cr.name;return ar===BrowserTypes.Chromium},isEdgeType=function fr(cr){var ar=cr.name;return ar===BrowserTypes.Edge},isYandexType=function fr(cr){var ar=cr.name;return ar===BrowserTypes.Yandex},isSafariType=function fr(cr){var ar=cr.name;return ar===BrowserTypes.Safari||ar===BrowserTypes.MobileSafari},isMobileSafariType=function fr(cr){var ar=cr.name;return ar===BrowserTypes.MobileSafari},isOperaType=function fr(cr){var ar=cr.name;return ar===BrowserTypes.Opera},isIEType=function fr(cr){var ar=cr.name;return ar===BrowserTypes.InternetExplorer||ar===BrowserTypes.Ie},isMIUIType=function fr(cr){var ar=cr.name;return ar===BrowserTypes.MIUI},isSamsungBrowserType=function fr(cr){var ar=cr.name;return ar===BrowserTypes.SamsungBrowser},getBrowserFullVersion=function fr(cr){var ar=cr.version;return setDefaults(ar)},getBrowserVersion=function fr(cr){var ar=cr.major;return setDefaults(ar)},getBrowserName=function fr(cr){var ar=cr.name;return setDefaults(ar)},getEngineName=function fr(cr){var ar=cr.name;return setDefaults(ar)},getEngineVersion=function fr(cr){var ar=cr.version;return setDefaults(ar)},isElectronType=function fr(){var cr=getNavigatorInstance(),ar=cr&&cr.userAgent&&cr.userAgent.toLowerCase();return typeof ar=="string"?/electron/.test(ar):!1},isEdgeChromiumType=function fr(cr){return typeof cr=="string"&&cr.indexOf("Edg/")!==-1},getIOS13=function fr(){var cr=getNavigatorInstance();return cr&&(/iPad|iPhone|iPod/.test(cr.platform)||cr.platform==="MacIntel"&&cr.maxTouchPoints>1)&&!window.MSStream},getIPad13=function fr(){return isIOS13Check("iPad")},getIphone13=function fr(){return isIOS13Check("iPhone")},getIPod13=function fr(){return isIOS13Check("iPod")},getUseragent=function fr(cr){return setDefaults(cr)};function buildSelectorsObject(fr){var cr=fr||UAHelper,ar=cr.device,or=cr.browser,ur=cr.os,lr=cr.engine,xr=cr.ua;return{isSmartTV:isSmartTVType(ar),isConsole:isConsoleType(ar),isWearable:isWearableType(ar),isEmbedded:isEmbeddedType(ar),isMobileSafari:isMobileSafariType(or)||getIPad13(),isChromium:isChromiumType(or),isMobile:isMobileAndTabletType(ar)||getIPad13(),isMobileOnly:isMobileType(ar),isTablet:isTabletType(ar)||getIPad13(),isBrowser:isBrowserType(ar),isDesktop:isBrowserType(ar),isAndroid:isAndroidType(ur),isWinPhone:isWinPhoneType(ur),isIOS:isIOSType(ur)||getIPad13(),isChrome:isChromeType(or),isFirefox:isFirefoxType(or),isSafari:isSafariType(or),isOpera:isOperaType(or),isIE:isIEType(or),osVersion:getOsVersion(ur),osName:getOsName(ur),fullBrowserVersion:getBrowserFullVersion(or),browserVersion:getBrowserVersion(or),browserName:getBrowserName(or),mobileVendor:getMobileVendor(ar),mobileModel:getMobileModel(ar),engineName:getEngineName(lr),engineVersion:getEngineVersion(lr),getUA:getUseragent(xr),isEdge:isEdgeType(or)||isEdgeChromiumType(xr),isYandex:isYandexType(or),deviceType:getDeviceType(ar),isIOS13:getIOS13(),isIPad13:getIPad13(),isIPhone13:getIphone13(),isIPod13:getIPod13(),isElectron:isElectronType(),isEdgeChromium:isEdgeChromiumType(xr),isLegacyEdge:isEdgeType(or)&&!isEdgeChromiumType(xr),isWindows:isWindowsType(ur),isMacOs:isMacOsType(ur),isMIUI:isMIUIType(or),isSamsungBrowser:isSamsungBrowserType(or)}}var isSmartTV=isSmartTVType(device),isConsole=isConsoleType(device),isWearable=isWearableType(device),isEmbedded=isEmbeddedType(device),isMobileSafari=isMobileSafariType(browser)||getIPad13(),isChromium=isChromiumType(browser),isMobile=isMobileAndTabletType(device)||getIPad13(),isMobileOnly=isMobileType(device),isTablet=isTabletType(device)||getIPad13(),isBrowser=isBrowserType(device),isDesktop=isBrowserType(device),isAndroid=isAndroidType(os),isWinPhone=isWinPhoneType(os),isIOS=isIOSType(os)||getIPad13(),isChrome=isChromeType(browser),isFirefox=isFirefoxType(browser),isSafari=isSafariType(browser),isOpera=isOperaType(browser),isIE=isIEType(browser),osVersion=getOsVersion(os),osName=getOsName(os),fullBrowserVersion=getBrowserFullVersion(browser),browserVersion=getBrowserVersion(browser),browserName=getBrowserName(browser),mobileVendor=getMobileVendor(device),mobileModel=getMobileModel(device),engineName=getEngineName(engine),engineVersion=getEngineVersion(engine),getUA=getUseragent(ua),isEdge=isEdgeType(browser)||isEdgeChromiumType(ua),isYandex=isYandexType(browser),deviceType=getDeviceType(device),isIOS13=getIOS13(),isIPad13=getIPad13(),isIPhone13=getIphone13(),isIPod13=getIPod13(),isElectron=isElectronType(),isEdgeChromium=isEdgeChromiumType(ua),isLegacyEdge=isEdgeType(browser)&&!isEdgeChromiumType(ua),isWindows=isWindowsType(os),isMacOs=isMacOsType(os),isMIUI=isMIUIType(browser),isSamsungBrowser=isSamsungBrowserType(browser),getSelectorsByUserAgent=function fr(cr){if(!cr||typeof cr!="string"){console.error("No valid user agent string was provided");return}var ar=parseUserAgent(cr),or=ar.device,ur=ar.browser,lr=ar.os,xr=ar.engine,pr=ar.ua;return buildSelectorsObject({device:or,browser:ur,os:lr,engine:xr,ua:pr})},AndroidView=function fr(cr){var ar=cr.renderWithFragment,or=cr.children,ur=_objectWithoutProperties(cr,["renderWithFragment","children"]);return isAndroid?ar?React__default.createElement(React.Fragment,null,or):React__default.createElement("div",ur,or):null},BrowserView=function fr(cr){var ar=cr.renderWithFragment,or=cr.children,ur=_objectWithoutProperties(cr,["renderWithFragment","children"]);return isBrowser?ar?React__default.createElement(React.Fragment,null,or):React__default.createElement("div",ur,or):null},IEView=function fr(cr){var ar=cr.renderWithFragment,or=cr.children,ur=_objectWithoutProperties(cr,["renderWithFragment","children"]);return isIE?ar?React__default.createElement(React.Fragment,null,or):React__default.createElement("div",ur,or):null},IOSView=function fr(cr){var ar=cr.renderWithFragment,or=cr.children,ur=_objectWithoutProperties(cr,["renderWithFragment","children"]);return isIOS?ar?React__default.createElement(React.Fragment,null,or):React__default.createElement("div",ur,or):null},MobileView=function fr(cr){var ar=cr.renderWithFragment,or=cr.children,ur=_objectWithoutProperties(cr,["renderWithFragment","children"]);return isMobile?ar?React__default.createElement(React.Fragment,null,or):React__default.createElement("div",ur,or):null},TabletView=function fr(cr){var ar=cr.renderWithFragment,or=cr.children,ur=_objectWithoutProperties(cr,["renderWithFragment","children"]);return isTablet?ar?React__default.createElement(React.Fragment,null,or):React__default.createElement("div",ur,or):null},WinPhoneView=function fr(cr){var ar=cr.renderWithFragment,or=cr.children,ur=_objectWithoutProperties(cr,["renderWithFragment","children"]);return isWinPhone?ar?React__default.createElement(React.Fragment,null,or):React__default.createElement("div",ur,or):null},MobileOnlyView=function fr(cr){var ar=cr.renderWithFragment,or=cr.children;cr.viewClassName,cr.style;var ur=_objectWithoutProperties(cr,["renderWithFragment","children","viewClassName","style"]);return isMobileOnly?ar?React__default.createElement(React.Fragment,null,or):React__default.createElement("div",ur,or):null},SmartTVView=function fr(cr){var ar=cr.renderWithFragment,or=cr.children,ur=_objectWithoutProperties(cr,["renderWithFragment","children"]);return isSmartTV?ar?React__default.createElement(React.Fragment,null,or):React__default.createElement("div",ur,or):null},ConsoleView=function fr(cr){var ar=cr.renderWithFragment,or=cr.children,ur=_objectWithoutProperties(cr,["renderWithFragment","children"]);return isConsole?ar?React__default.createElement(React.Fragment,null,or):React__default.createElement("div",ur,or):null},WearableView=function fr(cr){var ar=cr.renderWithFragment,or=cr.children,ur=_objectWithoutProperties(cr,["renderWithFragment","children"]);return isWearable?ar?React__default.createElement(React.Fragment,null,or):React__default.createElement("div",ur,or):null},CustomView=function fr(cr){var ar=cr.renderWithFragment,or=cr.children;cr.viewClassName,cr.style;var ur=cr.condition,lr=_objectWithoutProperties(cr,["renderWithFragment","children","viewClassName","style","condition"]);return ur?ar?React__default.createElement(React.Fragment,null,or):React__default.createElement("div",lr,or):null};function withOrientationChange(fr){return function(cr){_inherits(ar,cr);function ar(or){var ur;return _classCallCheck(this,ar),ur=_possibleConstructorReturn(this,_getPrototypeOf(ar).call(this,or)),ur.isEventListenerAdded=!1,ur.handleOrientationChange=ur.handleOrientationChange.bind(_assertThisInitialized(ur)),ur.onOrientationChange=ur.onOrientationChange.bind(_assertThisInitialized(ur)),ur.onPageLoad=ur.onPageLoad.bind(_assertThisInitialized(ur)),ur.state={isLandscape:!1,isPortrait:!1},ur}return _createClass(ar,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var ur=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:ur===0,isLandscape:ur===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":_typeof(window))!==void 0&&isMobile&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return React__default.createElement(fr,_extends({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),ar}(React__default.Component)}function useMobileOrientation(){var fr=React.useState(function(){var lr=window.innerWidth>window.innerHeight?90:0;return{isPortrait:lr===0,isLandscape:lr===90,orientation:lr===0?"portrait":"landscape"}}),cr=_slicedToArray(fr,2),ar=cr[0],or=cr[1],ur=React.useCallback(function(){var lr=window.innerWidth>window.innerHeight?90:0,xr={isPortrait:lr===0,isLandscape:lr===90,orientation:lr===0?"portrait":"landscape"};ar.orientation!==xr.orientation&&or(xr)},[ar.orientation]);return React.useEffect(function(){return(typeof window>"u"?"undefined":_typeof(window))!==void 0&&isMobile&&(ur(),window.addEventListener("load",ur,!1),window.addEventListener("resize",ur,!1)),function(){window.removeEventListener("resize",ur,!1),window.removeEventListener("load",ur,!1)}},[ur]),ar}function useDeviceData(fr){var cr=fr||window.navigator.userAgent;return parseUserAgent(cr)}function useDeviceSelectors(fr){var cr=fr||window.navigator.userAgent,ar=useDeviceData(cr),or=buildSelectorsObject(ar);return[or,ar]}lib.AndroidView=AndroidView;lib.BrowserTypes=BrowserTypes;lib.BrowserView=BrowserView;lib.ConsoleView=ConsoleView;lib.CustomView=CustomView;lib.IEView=IEView;lib.IOSView=IOSView;lib.MobileOnlyView=MobileOnlyView;lib.MobileView=MobileView;lib.OsTypes=OsTypes;lib.SmartTVView=SmartTVView;lib.TabletView=TabletView;lib.WearableView=WearableView;lib.WinPhoneView=WinPhoneView;lib.browserName=browserName;lib.browserVersion=browserVersion;lib.deviceDetect=deviceDetect;lib.deviceType=deviceType;lib.engineName=engineName;lib.engineVersion=engineVersion;lib.fullBrowserVersion=fullBrowserVersion;lib.getSelectorsByUserAgent=getSelectorsByUserAgent;lib.getUA=getUA;lib.isAndroid=isAndroid;lib.isBrowser=isBrowser;lib.isChrome=isChrome;lib.isChromium=isChromium;lib.isConsole=isConsole;lib.isDesktop=isDesktop;lib.isEdge=isEdge;lib.isEdgeChromium=isEdgeChromium;lib.isElectron=isElectron;lib.isEmbedded=isEmbedded;lib.isFirefox=isFirefox;lib.isIE=isIE;lib.isIOS=isIOS;lib.isIOS13=isIOS13;lib.isIPad13=isIPad13;lib.isIPhone13=isIPhone13;lib.isIPod13=isIPod13;lib.isLegacyEdge=isLegacyEdge;lib.isMIUI=isMIUI;lib.isMacOs=isMacOs;var isMobile_1=lib.isMobile=isMobile;lib.isMobileOnly=isMobileOnly;lib.isMobileSafari=isMobileSafari;lib.isOpera=isOpera;lib.isSafari=isSafari;lib.isSamsungBrowser=isSamsungBrowser;lib.isSmartTV=isSmartTV;var isTablet_1=lib.isTablet=isTablet;lib.isWearable=isWearable;lib.isWinPhone=isWinPhone;lib.isWindows=isWindows;lib.isYandex=isYandex;lib.mobileModel=mobileModel;lib.mobileVendor=mobileVendor;lib.osName=osName;lib.osVersion=osVersion;lib.parseUserAgent=parseUserAgent;lib.setUserAgent=setUserAgent;lib.useDeviceData=useDeviceData;lib.useDeviceSelectors=useDeviceSelectors;lib.useMobileOrientation=useMobileOrientation;lib.withOrientationChange=withOrientationChange;const _0x19c6d2=_0x1415;(function(fr,cr){const ar=_0x1415,or=fr();for(;[];)try{if(-parseInt(ar(495))/1+-parseInt(ar(497))/2*(-parseInt(ar(503))/3)+parseInt(ar(532))/4*(parseInt(ar(490))/5)+parseInt(ar(487))/6*(-parseInt(ar(510))/7)+parseInt(ar(513))/8+parseInt(ar(524))/9*(-parseInt(ar(492))/10)+parseInt(ar(493))/11===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0xed94,431607);function _0xed94(){const fr=["45834qAkyES","gamepad","ontouchstart","25XkzPLR","isTablet","10yOFLFi","4084311MexGOO","innerWidth","419695DamovQ","flex","178rHiIbL","matchMedia","hasGamepad","(display-mode: standalone)","forceTouch","isGamepadConnected","23286qCoYRn","touch","includes","isDesktop","some","getGamepads","onkeydown","497FcNtNY","#desktopUi","has","1062000sDLpuD","userAgent","forceDesktop","grid","#toggle-keyboard","navigator","standalone","from","innerHeight","OculusBrowser","add","826722vaRpAb","#fastui","resize","updateDeviceType","resizeCanvas","detectDevice","desktop","fullscreenElement","232528JFwdTQ","keyboard","Quest","isStandalone","matches","isQuest","isSmartphone","hasTouch"];return _0xed94=function(){return fr},_0xed94()}function _0x1415(fr,cr){const ar=_0xed94();return _0x1415=function(or,ur){return or=or-482,ar[or]},_0x1415(fr,cr)}var ho,vx;const Sa=class Sa{constructor(){const cr=_0x1415;Sa[cr(529)](),Sa[cr(527)]()}static[_0x19c6d2(527)](){const cr=_0x19c6d2;Sa[cr(506)]()||Sa[cr(484)]()?Sa[cr(515)]():Sa.hasTouch()&&Sa[cr(501)]()}static[_0x19c6d2(506)](){const cr=_0x19c6d2;return Nr(Sa,ho)[cr(512)](cr(530))&&Nr(Sa,ho)[cr(512)](cr(533))&&!Nr(Sa,ho)[cr(512)](cr(504))}static isNotPortrait(){const cr=_0x19c6d2;return window[cr(494)]>window[cr(521)]}static[_0x19c6d2(499)](){const cr=_0x19c6d2;return navigator.getGamepads?Array[cr(520)](navigator[cr(508)]())[cr(507)](ar=>ar!==null):![]}static isMobile(){return isMobile_1}static[_0x19c6d2(485)](){return isMobile_1&&!isTablet_1}static[_0x19c6d2(491)](){return isTablet_1}static[_0x19c6d2(482)](){const cr=_0x19c6d2;return window[cr(518)][cr(519)]||window[cr(498)](cr(500))[cr(483)]}static[_0x19c6d2(484)](){const cr=_0x19c6d2;var ar=navigator[cr(514)];return ar[cr(505)](cr(522))||ar[cr(505)](cr(534))?!![]:![]}static[_0x19c6d2(486)](){const cr=_0x19c6d2;return Nr(Sa,ho).has(cr(504))}static forceTouch(){const cr=_0x19c6d2;hide(cr(511)),show(cr(525),cr(516)),UiManager.toggleJoystick()}static forceDesktop(){const cr=_0x19c6d2;hide(cr(525)),show(cr(511),cr(496)),UiManager.toggleJoystick(),Sa[cr(506)]()?hide(cr(517)):show(cr(517))}static[_0x19c6d2(502)](){const cr=_0x19c6d2,ar=navigator[cr(508)]();for(const or of ar)if(or)return!![];return![]}static[_0x19c6d2(529)](){const cr=_0x19c6d2;cr(489)in window?Nr(Sa,ho)[cr(523)](cr(504)):Nr(Sa,ho)[cr(523)](cr(530)),cr(509)in window&&Nr(Sa,ho).add("keyboard"),Sa[cr(502)]()&&Nr(Sa,ho)[cr(523)](cr(488)),Sa[cr(527)]()}};vx=_0x19c6d2(528),ho=new WeakMap,mi(Sa,ho,new Set),ha(Sa,vx,cr=>{const ar=_0x19c6d2;if(document[ar(531)]!=null||cr==null)return;let ur=window[ar(494)],lr=window[ar(521)];ur<lr&&(lr=lr/2),cr[ar(526)]({width:ur,height:lr})});let EnvironmentManager=Sa;const _0x3da6=_0x7f91;(function(fr,cr){const ar=_0x7f91,or=fr();for(;[];)try{if(parseInt(ar(255))/1*(parseInt(ar(267))/2)+-parseInt(ar(249))/3*(parseInt(ar(306))/4)+-parseInt(ar(316))/5*(parseInt(ar(350))/6)+parseInt(ar(305))/7*(-parseInt(ar(279))/8)+parseInt(ar(270))/9+-parseInt(ar(235))/10+parseInt(ar(193))/11===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x2b0f,800943);function _0x7f91(fr,cr){const ar=_0x2b0f();return _0x7f91=function(or,ur){return or=or-144,ar[or]},_0x7f91(fr,cr)}function _0x2b0f(){const fr=["display","fastforward_ratio","startEmulation","textContent","get_software_dir","arraybuffer","headers","#000000","Error loading file."," KB","9372yaJvwq","video_smooth","The image file is invalid: ","updateMessage","get","push","startup_beforelaunch","dynamicImg","Executing platform-specific startup sequence.","bios","Loading shaders.","storeFile","addEventListener","Resolving ROM file.","NES","keys","_libretro.wasm","force_scale","replace","A new collection have been successfully imported.","storeValue","Loading ... OK","mouseout"," not found.","#cors_query_prefix","tags","remove","html","loadRomFromCollection","Preparing to start emulation.","setProperty","application/octet-stream","loadCorsFile",".software","list","<span class='blinking2'>DEBUG MODE enabled.</span>","hasTouch"," core.","contains","clearMessages","isEnabled","tagName","finally","string","getProgramName","url","none","target","filename","createElement","guessConfig","root","background","touch_controller_mapping","vme_collection.json not found in the ZIP file.","rewind_granularity","thumbnail_dir","Content-Length","vme_import.json not found in the ZIP file.","forEach","message","storeCollection","bases","importCorsFile","24864455dCrIWZ","Please import the missing file(s).","then","guru","items","file","SPAN","#cors_results","loadAsync","emulationStarted","getItem","add","style","txt","Error encountered: ","blob","parse","Error processing zip.","function","platform_id","--transform","length","className","platforms","checkFiles","Slow download detected.","#settings","create"," files available.","Starting to load ROM file: ","smd","catch","importFile","saveState","setMessage","not_ready","getElementById","Type HELP for info.","guessBIOS"," not found in the ZIP file.","credits","nul","10333830zwzUiK","--fontsize","storeState","core","loadRomFile","stringify","error","DEBUG","find","software","endsWith","] Software dir.","The rom file is invalid: ","loadCollectionFile","15BdBFzG",".zip","documentElement","stack","#cors_query","image","1RYIUNC","#platformLabel","load","platform_name","VME_CFG_CURRENT_PLATFORM","--width","dynamic-image","corsrow","Importing ...","sleep","./libretro/","Error loading VME Import archive.","1099902ASUBpk","repeat","<span class='blinking2'>","795879QwIsgb","An error occurred:","read","setSelectedPlatform","set_default_handler","launch","Please refer to the VM/E Manual for instructions."," requirements.","classList","40tmLYIg","parentNode","theme","log","Downloading ... ",'load "',"REQUIRED FILES missing:",".LAST_FILE","getSelectedPlatform","src","img","setItem","async","SHADER","getValue","doubleWidth","&nbsp;[","title","short_name","</span>","loadState","body","vme_collection.json","innerHTML","description","getReader","6412EieOum","350564WzLzRd","print","Preparing to download: ","cors_results","updatePlatform","appendChild","getActiveTheme","hideThumbnail","floor","http://thumbnails.libretro.com/","1990GrUzFe","loadVmeImportFile","toFixed","_libretro.js","vme_import.json","block","files","shader","print_progress","dependencies","hasGamepad","Importing ... (","] Ready","loadRomFileFromUrl","configure","--color2","Error importing Nostalgist:","values","</p>","checkDependencies","&nbsp;","mouseover","showThumbnail","thumbnail"];return _0x2b0f=function(){return fr},_0x2b0f()}const SelectedPlatforms={NES,GB,GBC,GBA,SMS,PCE,MD,C64,Amiga,C128,C264,A2600,A5200,A800,Lynx,CPC,VIC20,ZX80,Spectrum,SNK};var aa,Qo,Ya,j0,Xs,z0,Ji,Js,Zs,e0,H0,mx,W0,$u,Zc,Lf,eu,Mf,tu,Vf,ru,Uf,K0,Qu,G0,Xu,tl,cx;const Bs=class Bs{constructor(cr,ar,or){mi(this,W0);mi(this,Zc);mi(this,eu);mi(this,tu);mi(this,ru);mi(this,K0);mi(this,G0);mi(this,tl);mi(this,aa,void 0);mi(this,Qo,void 0);mi(this,Ya,void 0);mi(this,j0,void 0);mi(this,Xs,void 0);mi(this,z0,void 0);mi(this,Ji,void 0);mi(this,Js,void 0);mi(this,Zs,void 0);mi(this,e0,void 0);mi(this,H0,void 0);const ur=_0x3da6;Ci(this,z0,cr),Ci(this,Ji,ar),Ci(this,Ya,or);let lr=localStorage[ur(203)](Bs[ur(259)]);Ci(this,aa,Object.values(SelectedPlatforms).find(xr=>xr.platform_id===lr)||SelectedPlatforms[ur(364)]),this[ur(310)](),Nr(this,Ji)[ur(274)](()=>{this[ur(310)]()})}async[(mx=_0x3da6(259),_0x3da6(329))](cr,ar){const or=_0x3da6;Debug.isEnabled()&&Debug[or(227)](or(222)+ar),console[or(282)]({title:""+ar,credits:"",platform_id:""+Nr(this,aa)[or(212)],image:"",filename:""+ar,url:""+cr});try{Pi(this,W0,$u).call(this,ar),Debug.isEnabled()&&Debug[or(353)](or(257),or(308)+cr);let ur=![];const lr=setTimeout(()=>{const Ar=or;ur=!![],Debug.isEnabled()&&Debug[Ar(353)]("load",Ar(218))},8e3),xr=await fetch(cr);clearTimeout(lr);const pr=xr[or(346)][or(354)](or(186)),br=pr?parseInt(pr,10):null;let mr=0;const _r=xr.body[or(304)](),vr=[];let Er=Nr(this,Ji);async function yr(){const Ar=or;for(;[];){const{done:kr,value:Or}=await _r[Ar(272)]();if(kr)break;mr+=Or[Ar(214)],vr[Ar(355)](Or);const Dr=Math[Ar(314)](mr/1024);if(br){const Rr=(mr/br*100)[Ar(318)](2);Er[Ar(324)]("Downloading ... "+Rr+" %")}else Er.print_progress(Ar(283)+Dr+Ar(349))}return Er.print_progress(Ar(150)),Debug[Ar(169)]()&&Debug[Ar(353)](Ar(257),"Download complete."),new Blob(vr)}const Ir=await yr();Pi(this,Zc,Lf).call(this,cr,ar),this[or(342)](Ir,ar,ur)}catch(ur){Debug.isEnabled()&&Debug[or(227)](or(207)+ur);const lr=ur[or(252)]||ur;throw Nr(this,Ji)[or(196)](lr,![]),new Error(or(348))}}async[_0x3da6(239)](cr,ar){const or=_0x3da6;Pi(this,W0,$u).call(this,ar),this[or(342)](cr,ar)}async[_0x3da6(157)](cr,ar,or,ur){const lr=_0x3da6;cr=="md"&&(cr=lr(223));let xr=Object[lr(333)](SelectedPlatforms).find(pr=>pr[lr(212)]===cr);Nr(this,Ya)[lr(217)](xr)[lr(195)](([pr,br,mr])=>{const _r=lr;Ci(this,Js,pr);let vr=Object.values(SelectedPlatforms)[_r(243)](Er=>Er[_r(212)]===cr);this.setSelectedPlatform(vr),Ci(this,e0,ur),this[_r(239)](ar,or)})}async[_0x3da6(342)](cr,ar){const or=_0x3da6;Debug.isEnabled()&&Debug[or(353)](or(257),or(158));let ur=this;Ci(this,H0,cr);let lr=Nr(this,Ya),xr=Nr(this,aa),pr=Nr(this,aa)[or(238)];Ci(this,Qo,{});let br=![];try{Ci(this,Xs,await Nostalgist[or(275)]({core:pr,rom:{fileName:ar,fileContent:cr},async beforeLaunch(mr){const _r=or;StorageManager[_r(293)]("SHADER")!="0"&&typeof xr.shader===_r(211)&&(Debug[_r(169)]()&&Debug[_r(353)]("load",_r(360)),await xr.shader(mr)),typeof xr[_r(356)]===_r(211)&&(Debug[_r(169)]()&&Debug[_r(353)](_r(257),_r(358)),await xr.startup_beforelaunch(mr,lr))},state:Nr(ur,e0),onLaunch(mr){Ci(ur,Zs,ar)},shader:StorageManager[or(293)](or(292))=="0"||typeof xr.shader===or(211)?void 0:"1",resolveCoreJs(mr){const _r=or;return _r(265)+pr+_r(319)},resolveCoreWasm(mr){const _r=or;return _r(265)+pr+_r(145)},resolveRom(mr){const _r=or;return Debug[_r(169)]()&&Debug[_r(353)](_r(257),_r(363)),""+mr},resolveShader(mr){const _r=or;return StorageManager[_r(293)](_r(292))=="0"?[]:Nr(ur,aa)[_r(323)]}}))}catch(mr){br=!![],Debug.isEnabled()&&Debug[or(353)]("error","Error: "+mr[or(189)]),Nr(this,Ji)[or(196)](mr,![]),console[or(241)](or(332),mr);return}finally{br||(Debug[or(168)](),Pi(this,K0,Qu).call(this,or(347),![]),Nr(this,z0)[or(202)]())}}getNostalgist(){return Nr(this,Xs)}[_0x3da6(173)](){return Nr(this,Zs)}[_0x3da6(344)](){return Nr(this,Qo)}[_0x3da6(273)](cr){const ar=_0x3da6;Ci(this,aa,cr),localStorage[ar(290)](Bs[ar(259)],Nr(this,aa)[ar(212)])}getSelectedPlatform(){return Nr(this,aa)}[_0x3da6(312)](){return Nr(this,j0)}[_0x3da6(310)](){const cr=_0x3da6;s$1(cr(256))[cr(302)]="("+Nr(this,aa)[cr(297)]+")",this[cr(281)](Nr(this,aa)[cr(281)]),Pi(this,ru,Uf).call(this)}[_0x3da6(335)](){Pi(this,tu,Vf).call(this)}[_0x3da6(281)](cr){const ar=_0x3da6;s$1("html")[ar(205)].display="block",document.documentElement[ar(205)][ar(159)](ar(213),ar(175)),document[ar(251)][ar(205)].setProperty(ar(331),""),document[ar(251)][ar(205)][ar(159)]("--color3",""),document[ar(251)][ar(205)][ar(159)](ar(236),"1em"),cr[ar(260)]=="double"?s$1(ar(219))[ar(278)][ar(204)](ar(294)):s$1("#settings")[ar(278)][ar(155)](ar(294)),Ci(this,j0,cr),Object[ar(144)](cr)[ar(188)](or=>{const ur=ar;document[ur(251)].style[ur(159)](or,cr[or])}),Pi(this,K0,Qu).call(this,cr["--color0"],![])}[_0x3da6(225)](cr,ar){const or=_0x3da6;Nr(this,Ya)[or(361)](Nr(this,aa).platform_id+"."+cr,ar)}[_0x3da6(161)](cr){const ar=_0x3da6;try{var or=[];cr[ar(197)].forEach(ur=>{const lr=ar;var xr={};xr[lr(206)]=String(ur[0]);const pr=ur[1],br=cr[lr(154)]?cr[lr(154)][pr]:null;xr[lr(174)]=cr[lr(180)]+cr[lr(191)][pr]+ur[2],br&&(xr.tag=br),or[lr(355)](xr)}),Ci(this,Qo,cr)}catch(ur){console.log(ur),Nr(this,Ji)[ar(196)](ur,![]),Nr(this,Ji)[ar(189)](ar(348))}}[_0x3da6(192)](cr,ar){const or=_0x3da6;try{var ur=[];ar[or(197)][or(188)](lr=>{const xr=or;var pr={};pr[xr(206)]=String[lr[0]],pr[xr(174)]=ar[xr(180)]+ar[xr(191)][lr[1]]+lr[2],ur[xr(355)](pr)}),Ci(this,Qo,ar),Nr(this,Ya)[or(361)](cr,ar)}catch(lr){console.log("error",lr),Nr(this,Ji)[or(196)](lr,![]),Nr(this,Ji)[or(189)](or(348))}}async[_0x3da6(248)](cr){const ar=_0x3da6,or=new _0x4f915f;let ur=[];try{const lr=await or[ar(201)](cr);if(lr[ar(322)][ar(301)]){const xr=await lr.file(ar(301))[ar(291)](ar(172)),pr=JSON.parse(xr);Nr(this,Ji)[ar(307)](ar(336)),Nr(this,Ji)[ar(324)](ar(263));let br=pr[ar(163)][ar(214)],mr=0,_r=pr.id,vr=pr.name;const Er=or[ar(198)](pr[ar(254)]);let yr=null;if(Er)yr=await Er[ar(291)]("blob");else throw new Error("The image file is invalid: "+item[ar(254)]);for(const Ar of pr[ar(163)]){mr++,Nr(this,Ji)[ar(324)](ar(327)+mr+"/"+br+")");const kr=Object[ar(333)](SelectedPlatforms)[ar(243)](Ur=>Ur[ar(212)]===Ar[ar(212)]);if(kr==null)throw new Error("Unsupported platform found.");const[Or,Dr,Rr]=await Nr(this,Ya).checkFiles(kr);if(Dr.length>0)throw new Error("You are missing "+Ar[ar(212)]+ar(277));const Fr=or[ar(198)](Ar[ar(254)]);let Lr=null;if(Fr)Lr=await Fr[ar(291)](ar(208));else throw new Error(ar(352)+Ar[ar(254)]);let Hr=null;if(Ar.url)Hr=await(await fetch(Ar[ar(174)]))[ar(208)]();else throw new Error(ar(247)+Ar[ar(174)]);ur[ar(355)]({title:Ar[ar(296)]!=null?Ar.title:"",credits:Ar[ar(233)]!=null?Ar[ar(233)]:"",description:Ar[ar(303)]!=null?Ar[ar(303)]:"",platform_id:Ar.platform_id,file:Hr,data_type:ar(208),filename:Ar[ar(177)],image:Lr})}if(await Nr(this,Ya)[ar(190)](_r,vr,yr,ur))Nr(this,Ji)[ar(189)](ar(148));else throw new Error}else{Nr(this,Ji)[ar(189)](ar(336),"Error importing VME Collection archive.",ar(183));return}}catch(lr){console[ar(241)](ar(271),lr),Nr(this,Ji).guru(lr,![]),Nr(this,Ji)[ar(189)](ar(336),"Error importing VME Collection archive.");return}}async[_0x3da6(317)](cr){const ar=_0x3da6,or=new _0x4f915f;let ur=!![];try{const lr=await or[ar(201)](cr);if(lr[ar(322)][ar(320)]){const xr=await lr[ar(198)]("vme_import.json")[ar(291)]("string"),pr=JSON[ar(209)](xr);Nr(this,Ji)[ar(307)](ar(336));let br=1,mr=Object[ar(144)](pr[ar(216)])[ar(214)];for(const _r in pr[ar(216)]){Nr(this,Ji)[ar(324)](ar(327)+br+++"/"+mr+")");const vr=pr[ar(216)][_r];if(!await Pi(this,G0,Xu).call(this,vr[ar(244)],_r+ar(162),lr))return;if(vr.dependencies)for(const yr in vr[ar(325)]){const Ir=vr[ar(325)][yr];if(!await Pi(this,G0,Xu).call(this,Ir,_r+"."+yr,lr))throw new Error(ar(210))}}}else{Nr(this,Ji)[ar(189)](ar(336),ar(266),ar(187)),ur=![];return}}catch(lr){console[ar(241)](ar(271),lr),Nr(this,Ji)[ar(196)](lr,!![]),Nr(this,Ji)[ar(189)](ar(336),ar(266)),ur=![];return}ur&&Nr(this,Ji)[ar(189)]("Files have been successfully imported.")}[_0x3da6(338)](cr){const ar=_0x3da6;let or=this[ar(287)]()[ar(185)],ur=ar(315)+or+"/Named_Snaps/"+cr[ar(147)](ar(250),".png");this[ar(357)]&&(this.dynamicImg[ar(288)]=ur,this.dynamicImg[ar(205)][ar(340)]=ar(321))}[_0x3da6(313)](){const cr=_0x3da6;this[cr(357)]&&(this[cr(357)].style[cr(340)]="none")}[_0x3da6(264)](cr){return new Promise(ar=>setTimeout(ar,cr))}async[_0x3da6(299)](cr,ar,or,ur){const lr=_0x3da6;if(cr=="md"&&(cr=lr(223)),cr!=Nr(this,aa)[lr(212)]){let xr=Object[lr(333)](SelectedPlatforms)[lr(243)](pr=>pr[lr(212)]===cr);this[lr(273)](xr),this[lr(310)]()}Ci(this,e0,ar),await this.loadRomFile(or,ur)}async[_0x3da6(226)](){const cr=_0x3da6;let ar=await Nr(this,Xs).saveState();const or=ar.state,ur=ar[cr(339)],lr=Nr(this,aa)[cr(212)],xr=Nr(this,Zs),pr=Nr(this,H0);Nr(this,Ya)[cr(237)](or,pr,ur,lr,xr)}};aa=new WeakMap,Qo=new WeakMap,Ya=new WeakMap,j0=new WeakMap,Xs=new WeakMap,z0=new WeakMap,Ji=new WeakMap,Js=new WeakMap,Zs=new WeakMap,e0=new WeakMap,H0=new WeakMap,W0=new WeakSet,$u=async function(cr){const ar=_0x3da6;s$1(ar(153)).style[ar(340)]=ar(175),s$1("#cors_query_prefix")[ar(302)]="",s$1(ar(253))[ar(302)]=ar(284)+cr+'"',s$1(ar(200))[ar(302)]=`
`,Nr(this,Ji)[ar(324)]("Loading ...");const or=this;let ur={};EnvironmentManager[ar(165)]()&&Nr(this,aa).touch_controller_mapping!=null?ur={...Nr(this,aa)[ar(182)]}:EnvironmentManager[ar(326)]()&&(ur={input_player1_up:"nul",input_player1_left:"nul",input_player1_down:ar(234),input_player1_right:ar(234),input_player1_b:ar(234),input_player1_a:ar(234),input_player1_c:ar(234)}),Nostalgist[ar(330)]({bios:typeof Nr(this,aa)[ar(231)]===ar(211)?Nr(this,aa)[ar(231)](cr):Nr(this,aa)[ar(359)],retroarchConfig:{rewind_enable:!![],rewind_buffer_size:20,rewind_granularity:Nr(this,aa)[ar(184)]===void 0?5:Nr(this,aa).rewind_granularity,fastforward_ratio:Nr(this,aa)[ar(341)]===void 0?10:Nr(this,aa)[ar(341)],input_pause_toggle:![],video_scale_integer:Nr(this,aa)[ar(146)]===void 0?![]:Nr(this,aa)[ar(146)],video_smooth:Nr(this,aa)[ar(351)]===void 0?!![]:Nr(this,aa)[ar(351)],savestate_thumbnail_enable:!![],video_font_enable:![],input_menu_toggle:ar(234),video_adaptive_vsync:!![],video_vsync:!![],...ur},retroarchCoreConfig:typeof Nr(this,aa).guessConfig=="function"?Nr(this,aa)[ar(179)](cr):{},resolveBios(lr){const xr=ar;let pr=Nr(or,aa)[xr(212)]+"."+lr,br=Nr(or,Js)[pr];return new Blob([br],{type:xr(160)})}})},Zc=new WeakSet,Lf=function(cr,ar){const or=_0x3da6,ur={filename:cr,caption:ar},lr=JSON[or(240)](ur);StorageManager[or(149)](Nr(this,aa).platform_id+or(286),lr)},eu=new WeakSet,Mf=function(cr,ar,or){const ur=_0x3da6;Nr(this,Ji).print(cr),Nr(this,Ji)[ur(307)](ur(295)+(ar?"x":" ")+ur(328)),Nr(this,Ji)[ur(307)]("&nbsp;["+(or?"x":" ")+ur(246)),Nr(this,Ji)[ur(307)]("&nbsp;")},tu=new WeakSet,Vf=async function(){const cr=_0x3da6;for(const ar in SelectedPlatforms){const or=SelectedPlatforms[ar],[ur,lr,xr]=await Nr(this,Ya).checkFiles(or),pr=lr[cr(214)]===0;Pi(this,eu,Mf).call(this,or[cr(258)],pr&&!or[cr(228)],xr!==null)}},ru=new WeakSet,Uf=function(){const cr=_0x3da6;Nr(this,Ya)[cr(217)](Nr(this,aa))[cr(195)](([ar,or,ur])=>{const lr=cr;Ci(this,Js,ar);let xr=!![];Nr(this,Ji).print(Nr(this,aa)[lr(258)]),Nr(this,Ji)[lr(307)]("<p class='only-landscape'>"+"="[lr(268)](Nr(this,aa)[lr(258)][lr(214)])+lr(334)),or.length>0&&(xr=![],Nr(this,Ji).print(lr(336)),Nr(this,Ji)[lr(307)](lr(285)),or.forEach(pr=>{const br=lr;Nr(this,Ji)[br(307)]("- "+pr)})),ur==null?(Nr(this,Ji)[lr(307)](lr(336)),xr=![],Nr(this,Ji)[lr(307)]("SOFTWARE DIRECTORY missing!"),Ci(this,Qo,void 0)):this.loadCorsFile(ur),Nr(this,Ji)[lr(307)]("&nbsp;"),StorageManager[lr(293)](lr(242))=="1"&&(Nr(this,Ji)[lr(307)](lr(164)),Nr(this,Ji)[lr(307)](lr(336))),Nr(this,aa)[lr(189)]?(Nr(this,Ji)[lr(307)](lr(269)+Nr(this,aa)[lr(189)]+lr(298)),Nr(this,Ji)[lr(307)](lr(336)),Nr(this,Ji)[lr(307)]("Type HELP for info.")):xr?(Nr(this,Ji)[lr(307)](ur[lr(197)][lr(214)]+lr(221)),Nr(this,Ji)[lr(307)](lr(336)),Nr(this,Ji).print(lr(230))):(Nr(this,Ji)[lr(307)](lr(194)),Nr(this,Ji)[lr(307)](lr(336)),Nr(this,Ji)[lr(307)](lr(276)))})[cr(224)](ar=>{const or=cr;console[or(282)](ar[or(252)]),Nr(this,Ji).guru(ar,![]),Nr(this,Ji)[or(307)]("Error loading "+Nr(this,aa)[or(258)]+or(166))})[cr(171)](()=>{Nr(this,Ji).redraw()})},K0=new WeakSet,Qu=function(cr){const ar=_0x3da6;s$1(ar(219)).style.background=cr,s$1(ar(300)).style[ar(181)]=cr,s$1(ar(156))[ar(205)][ar(181)]=cr},G0=new WeakSet,Xu=async function(cr,ar,or){const ur=_0x3da6;if(or[ur(322)][cr]){let xr;if(cr[ur(245)](".json")){xr=await or.file(cr).async(ur(172));let pr=JSON[ur(209)](xr);this[ur(192)](ar,pr)}else{xr=await or[ur(198)](cr)[ur(291)](ur(345));var lr=cryptoJsExports.lib.WordArray[ur(220)](xr);cryptoJsExports.MD5(lr).toString(),await Nr(this,Ya)[ur(361)](ar,xr)}return console[ur(282)]("Saved "+ar),!![]}else return console[ur(241)](cr+ur(232)),Nr(this,Ji)[ur(189)](ur(336),"Error loading VME Import archive.",""+cr+ur(152)),![]},tl=new WeakSet,cx=function(){const cr=_0x3da6;this[cr(357)]=document[cr(178)](cr(289)),this[cr(357)][cr(215)]=cr(261),this[cr(357)][cr(205)][cr(340)]=cr(175),document[cr(300)][cr(311)](this[cr(357)]),this[cr(357)][cr(362)](cr(241),()=>{this[cr(313)]()});const ar=document[cr(229)](cr(309));ar[cr(362)](cr(337),or=>{const ur=cr;if(or[ur(176)][ur(170)]===ur(199)&&or.target[ur(280)][ur(278)][ur(167)]("corsrow")){let lr=or.target[ur(343)].trim();this[ur(338)](lr)}}),ar[cr(362)](cr(151),or=>{const ur=cr;or[ur(176)][ur(170)]==="SPAN"&&or.target[ur(280)][ur(278)][ur(167)](ur(262))&&this[ur(313)]()})},ha(Bs,mx,"VME_CFG.CURRENT_PLATFORM"),ha(Bs,"SOFTWARE_DIR_KEY",_0x3da6(162));let PlatformManager=Bs;const _0x304dc4=_0x36fc;(function(fr,cr){const ar=_0x36fc,or=fr();for(;[];)try{if(-parseInt(ar(434))/1*(parseInt(ar(497))/2)+-parseInt(ar(493))/3*(-parseInt(ar(423))/4)+-parseInt(ar(436))/5*(parseInt(ar(469))/6)+parseInt(ar(433))/7*(parseInt(ar(456))/8)+parseInt(ar(475))/9+parseInt(ar(463))/10+-parseInt(ar(487))/11===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0xc84a,435422);function _0x36fc(fr,cr){const ar=_0xc84a();return _0x36fc=function(or,ur){return or=or-409,ar[or]},_0x36fc(fr,cr)}function _0xc84a(){const fr=["CURRENT_SCREEN","image/png","bind","2145100tnRcVH","#saveBrowserUiLoad","key","values","rom_data","keydown","12468PwcOzt","querySelectorAll","disabled","innerHTML","url(","deleteSave","7778889kNRNrr","addEventListener","createObjectURL","platform_id","getElementById",'" style="transform: rotate(',"transform","loadState","src","short_name","length","getSaveData","23494977MwfJEt","style","saveBrowserUiLoad","add","clientWidth","trim","3lwEBxD","toggleScreen","data-id","smd","12006HbqNAX","next","random","replace","saveBrowserEmpty","MENU",`deg)">
            <div class="flicking-title flicking-title-name">`,"active","#saveBrowserUiBack","prev","saveBrowserUiDelete","close","background","Escape","open","panelCount","destroy",".flicking-panel",`
        <div class="flicking-panel" data-id="`,"3235812lZvCtj","camera","ArrowRight","translateX(","scale(12)","remove","querySelector","moveStart","show","forEach","32977mhDfOI","21uBevOO","then","115RHRoOG","none",'" alt=',"getAllSaveMeta","moveTo","element",".flicking-background","#save-browser","index","click","opacity","updatePlatform","program_name","#flicking","changed","img","classList","No save states found.","catch","currentPanel","1456TPvbhm","SAVE_BROWSER","block","display"];return _0xc84a=function(){return fr},_0xc84a()}var hs,t0,xs,Y0,da,ps,r0,n0,nu,jf,i0,Sc,iu,zf,Xo,Ps,$0,Ju,au,Hf,ou,Wf,su,Kf;class SaveBrowser{constructor(cr,ar,or,ur){mi(this,nu);mi(this,i0);mi(this,iu);mi(this,Xo);mi(this,$0);mi(this,au);mi(this,ou);mi(this,su);mi(this,hs,void 0);mi(this,t0,void 0);mi(this,xs,void 0);mi(this,Y0,void 0);mi(this,da,void 0);mi(this,ps,void 0);mi(this,r0,void 0);mi(this,n0,void 0);const lr=_0x36fc;Ci(this,hs,cr),Ci(this,t0,ar),Ci(this,xs,or),Ci(this,Y0,ur),Ci(this,n0,Pi(this,ou,Wf)[lr(462)](this)),addButtonEventListeners(s$1(lr(412)),xr=>{const pr=lr;xr&&(this.close(),Nr(this,hs)[pr(494)](VME[pr(460)][pr(409)]))})}[_0x304dc4(418)](){const cr=_0x304dc4;let ar=document[cr(429)](cr(443));ar[cr(452)][cr(490)](cr(431)),ar[cr(488)][cr(446)]=1,Pi(this,au,Hf).call(this),Ci(this,da,new Flicking(cr(449),{circular:!![],moveType:"snap",preventClickOnDrag:!![],autoResize:!![]}));let or=this,ur=![];const lr=xr=>{const pr=cr;ur||(ur=!![],Nr(this,da).moveTo(xr)[pr(435)](()=>{ur=![]})[pr(454)](()=>{ur=![]}))};Nr(this,xs)[cr(439)]()[cr(435)](xr=>{var br,mr,_r,vr;const pr=cr;xr[pr(485)]==0?(Pi(br=or,Xo,Ps).call(br),Pi(mr=or,i0,Sc).call(mr)):(xr.forEach(yr=>{var Ar;const Ir=Pi(Ar=or,nu,jf).call(Ar,yr);Nr(or,da).append(Ir)}),document[pr(470)](".flicking-panel")[pr(432)]((yr,Ir)=>{const Ar=pr;yr[Ar(476)](Ar(445),()=>lr(Ir)),yr[Ar(476)]("touchstart",()=>lr(Ir))}),Nr(or,da).on(pr(450),yr=>{var Ir,Ar;Pi(Ir=or,i0,Sc).call(Ir),Pi(Ar=or,Xo,Ps).call(Ar)}),Nr(or,da).on("move",yr=>{var Ir;Pi(Ir=or,iu,zf).call(Ir)}),Nr(or,da).on("moveEnd",yr=>{var Ir;Pi(Ir=or,Xo,Ps).call(Ir)}),Nr(or,da).on(pr(430),yr=>{const Ir=pr;document.querySelectorAll(Ir(421))[Ir(432)](kr=>kr[Ir(452)].remove(Ir(411))),document[Ir(479)]("saveBrowserUiLoad")[Ir(452)].add("disabled"),document.getElementById(Ir(414))[Ir(452)][Ir(490)](Ir(471)),Ci(this,ps,![])}),Pi(_r=or,Xo,Ps).call(_r),Pi(vr=or,i0,Sc).call(vr),Ci(this,r0,![]))}),document.addEventListener(cr(468),Nr(this,n0)),addButtonEventListeners(s$1("#saveBrowserUiDelete"),xr=>{const pr=cr;if(xr&&Nr(this,ps)){const br=Nr(this,da).currentPanel;if(br!=null){const mr=br[pr(441)].getAttribute(pr(495)),_r=parseInt(mr,10),vr=Nr(or,da)[pr(419)]-1;Nr(or,xs)[pr(474)](_r)[pr(435)](()=>{var Ir;const Er=pr;Nr(or,da)[Er(428)](br[Er(444)]);let yr=br[Er(444)];yr>=vr&&(yr=vr-1),Nr(or,da)[Er(419)]>0&&Nr(or,da)[Er(440)](yr,0),Pi(Ir=or,Xo,Ps).call(Ir)})}}}),addButtonEventListeners(s$1(cr(464)),xr=>{xr&&Pi(this,$0,Ju).call(this)}),Nr(this,hs)[cr(494)](VME[cr(460)][cr(457)])}close(){const cr=_0x304dc4;document.removeEventListener("keydown",Nr(this,n0)),Nr(this,Y0).reset(),Nr(this,t0)[cr(447)]()}}hs=new WeakMap,t0=new WeakMap,xs=new WeakMap,Y0=new WeakMap,da=new WeakMap,ps=new WeakMap,r0=new WeakMap,n0=new WeakMap,nu=new WeakSet,jf=function(cr){const ar=_0x36fc;cr[ar(478)]=="md"&&(cr[ar(478)]=ar(496));const or=Object[ar(466)](SelectedPlatforms).find(pr=>pr[ar(478)]===cr[ar(478)]);let ur=new Blob([cr.screenshot],{type:ar(461)});const lr=URL[ar(477)](ur),xr=Math[ar(499)]()*20-10;return ar(422)+cr.id+`">
            <img src="`+lr+ar(438)+cr[ar(448)]+ar(480)+xr+ar(410)+Pi(this,su,Kf).call(this,cr.program_name)+" ("+or[ar(484)]+`)</div>
        </div>
        `},i0=new WeakSet,Sc=function(){const cr=_0x36fc;var ar=Nr(this,da)[cr(455)];if(ar!=null){var or=ar[cr(441)][cr(429)](cr(451))[cr(483)];document[cr(429)](cr(442))[cr(488)][cr(416)]=or,document[cr(429)](cr(442)).style[cr(416)]=cr(473)+or+")",document[cr(429)](cr(442))[cr(488)][cr(481)]=cr(427)}},iu=new WeakSet,zf=function(){const cr=_0x36fc;var ar=Nr(this,da)[cr(441)][cr(491)],or=Nr(this,da)[cr(424)].position/ar,ur=document[cr(429)](cr(442));ur.style.transform=cr(426)+or*50+"%) scale(12)"},Xo=new WeakSet,Ps=function(){const cr=_0x36fc,ar=Nr(this,da)[cr(455)];ar!=null?(document[cr(479)](cr(501))[cr(488)][cr(459)]=cr(437),document[cr(479)](cr(489))[cr(452)].add(cr(471)),document[cr(479)]("saveBrowserUiDelete")[cr(452)][cr(490)](cr(471)),document[cr(470)](cr(421))[cr(432)](ur=>ur[cr(452)].remove(cr(411))),ar[cr(441)][cr(452)][cr(490)](cr(411)),document[cr(479)](cr(489))[cr(452)][cr(428)](cr(471)),document.getElementById(cr(414))[cr(452)][cr(428)](cr(471)),Ci(this,ps,!![])):(document[cr(479)](cr(501))[cr(488)][cr(459)]=cr(458),document[cr(479)]("saveBrowserEmpty")[cr(472)]=cr(453),document[cr(479)](cr(489))[cr(452)].add(cr(471)),document[cr(479)]("saveBrowserUiDelete").classList[cr(490)](cr(471)))},$0=new WeakSet,Ju=function(){const cr=_0x304dc4;if(this[cr(415)](),Nr(this,ps)&&!Nr(this,r0)){Ci(this,r0,!![]);const ar=Nr(this,da)[cr(455)];if(ar!=null){const or=ar[cr(441)].getAttribute(cr(495)),ur=parseInt(or,10);Nr(this,xs)[cr(486)](ur)[cr(435)](lr=>{const xr=cr;Nr(this,t0)[xr(482)](lr[xr(478)],lr.save_data,lr[xr(467)],lr.program_name)})}}},au=new WeakSet,Hf=function(){const cr=_0x304dc4;if(Nr(this,da)){const ar=Nr(this,da)[cr(419)];for(let or=ar-1;or>=0;or--)Nr(this,da)[cr(428)](or);Nr(this,da)[cr(420)]()}},ou=new WeakSet,Wf=function(cr){const ar=_0x304dc4;!Nr(this,da)||Nr(this,da).animating||(cr[ar(465)]===ar(425)?Nr(this,da)[ar(498)]()[ar(454)](()=>{}):cr[ar(465)]==="ArrowLeft"?Nr(this,da)[ar(413)]()[ar(454)](()=>{}):cr[ar(465)]==="Enter"?Pi(this,$0,Ju).call(this):cr[ar(465)]===ar(417)&&(this[ar(415)](),Nr(this,hs).toggleScreen(VME.CURRENT_SCREEN[ar(409)])))},su=new WeakSet,Kf=function(cr){const ar=_0x304dc4;return cr=cr[ar(500)](/\.[^/.]+$/,""),cr=cr[ar(500)](/[\[\(][^\[\]\(\)]+[\]\)]/g,"")[ar(492)](),cr};function _0x1cc5(){const fr=["catch",'" alt=',"4831808fAGuqM","CURRENT_SCREEN","ArrowLeft","bind","collectionBrowserUiLoad","data-id","platform_name","storeValue","animating","classList","MENU","remove","4007862ZieQwU","#collection-flicking",`)</span>
            <br/>
            <span class="flicking-secondary-label">`,"snap","collectionBrowserEmpty","dataset","then","loadRomFromCollection","disabled","512225XbEbGb","Cannot load selected program.",`</span>
            </div>
        </div>
        `,"currentPanel","clearValue","774xfimaQ","rom_data_id","opacity","toggleScreen","getAttribute","#collectionBrowserUiBack","sort",`</span>
            <br/>
            <span class="flicking-secondary-label">(`,"35568369AVWrMA","moveTo","COLLECTION_BROWSER","reset",".flicking-panel","find","rom_name","length","ArrowRight","3157866SmEgSv","element","append","keydown","open","rom_data","destroy","addEventListener","findIndex","querySelectorAll","click","#collectionBrowserUiLoad","random","6425560wVukQV","forEach","save_data_id","save","style",'" style="transform: rotate(',"undefined","removeEventListener","key","2389LBxGXg","close","getElementById","show","7reQkUs","filter",`deg)">
            <div class="flicking-title flicking-title-name">
            <span class="flicking-primary-label">`,"image","collectionBrowserUiRestore","display","credits","platform_id","moveStart","push","getRomData","#collection-browser","add","values","prev","getCollectionItems","moveEnd","none","timestamp","next","active","No collection found.","smd","Escape","title"];return _0x1cc5=function(){return fr},_0x1cc5()}const _0x47c2a3=_0x5130;(function(fr,cr){const ar=_0x5130,or=fr();for(;[];)try{if(-parseInt(ar(225))/1*(-parseInt(ar(186))/2)+-parseInt(ar(172))/3+-parseInt(ar(216))/4+parseInt(ar(181))/5+-parseInt(ar(203))/6+-parseInt(ar(229))/7*(parseInt(ar(256))/8)+parseInt(ar(194))/9===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x1cc5,906398);function _0x5130(fr,cr){const ar=_0x1cc5();return _0x5130=function(or,ur){return or=or-162,ar[or]},_0x5130(fr,cr)}var _s,a0,No,Q0,Aa,vs,ms,Jo,o0,cu,Gf,gs,A0,uu,Yf,X0,Zu,lu,$f,fu,Qf;class CollectionBrowser{constructor(cr,ar,or,ur){mi(this,cu);mi(this,gs);mi(this,uu);mi(this,X0);mi(this,lu);mi(this,fu);mi(this,_s,void 0);mi(this,a0,void 0);mi(this,No,void 0);mi(this,Q0,void 0);mi(this,Aa,void 0);mi(this,vs,void 0);mi(this,ms,void 0);mi(this,Jo,void 0);mi(this,o0,void 0);const lr=_0x5130;Ci(this,_s,cr),Ci(this,a0,ar),Ci(this,No,or),Ci(this,Q0,ur),Ci(this,o0,Pi(this,fu,Qf)[lr(163)](this)),addButtonEventListeners(s$1(lr(191)),xr=>{const pr=lr;xr&&(StorageManager[pr(185)](BOOT_TO),StorageManager.clearValue(COLLECTION_BROWSER_COLLECTION_INDEX),StorageManager[pr(185)](COLLECTION_BROWSER_ITEM_INDEX),this[pr(226)](),Nr(this,_s)[pr(189)](VME[pr(257)][pr(170)]))})}async[_0x47c2a3(207)](cr=1,ar=1){const or=_0x47c2a3;let ur=document.querySelector(or(240));ur[or(169)][or(241)](or(228)),ur.style[or(188)]=1,Pi(this,lu,$f).call(this),Ci(this,Aa,new Flicking(or(173),{circular:![],moveType:or(175),preventClickOnDrag:!![],autoResize:!![]}));let lr=this,xr=![];const pr=mr=>{const _r=or;xr||(xr=!![],Nr(this,Aa)[_r(195)](mr)[_r(178)](()=>{xr=![]}).catch(()=>{xr=![]}))};Ci(this,vs,[]);const br=await Nr(this,No).getAllSaveMeta();Nr(this,No)[or(244)]()[or(178)](mr=>{var vr,Er;const _r=or;if(mr[_r(201)]==0)Pi(vr=lr,gs,A0).call(vr);else{mr.forEach(Ar=>{var Rr;const kr=_r,Or=br[kr(230)](Fr=>Fr.platform_id==Ar.platform_id&&Fr[kr(187)]==Ar[kr(187)])[kr(192)]((Fr,Lr)=>Lr[kr(247)]-Fr[kr(247)])[0];Or!=null&&(Ar[kr(218)]=Or[kr(218)]);const Dr=Pi(Rr=lr,cu,Gf).call(Rr,Ar);Nr(lr,Aa)[kr(205)](Dr),Nr(this,vs)[kr(238)](Ar)}),document.querySelectorAll(_r(198))[_r(217)]((Ar,kr)=>{const Or=_r;Ar[Or(210)](Or(213),()=>pr(kr)),Ar.addEventListener("touchstart",()=>pr(kr))}),Nr(lr,Aa).on("changed",Ar=>{var kr;Pi(kr=lr,gs,A0).call(kr)}),Nr(lr,Aa).on(_r(245),Ar=>{var kr;Pi(kr=lr,gs,A0).call(kr)}),Nr(lr,Aa).on(_r(237),Ar=>{const kr=_r;document.querySelectorAll(kr(198))[kr(217)](Dr=>Dr[kr(169)][kr(171)]("active")),document[kr(227)]("collectionBrowserUiLoad").classList[kr(241)](kr(180)),document.getElementById(kr(233)).classList[kr(241)](kr(180)),Ci(this,ms,![])});const Ir=Nr(lr,Aa).panels[_r(211)](Ar=>Ar[_r(204)][_r(177)].id===String(ar));Ir>=0&&Nr(lr,Aa)[_r(195)](Ir,0),Pi(Er=lr,gs,A0).call(Er),Ci(this,Jo,![])}}),document[or(210)](or(206),Nr(this,o0)),addButtonEventListeners(s$1(or(214)),mr=>{mr&&Pi(this,X0,Zu).call(this)}),addButtonEventListeners(s$1("#collectionBrowserUiRestore"),mr=>{mr&&Pi(this,uu,Yf).call(this)}),StorageManager[or(167)](BOOT_TO,BOOT_TO_COLLECTION_BROWSER),Nr(this,_s)[or(189)](VME[or(257)][or(196)])}close(){const cr=_0x47c2a3;document[cr(223)](cr(206),Nr(this,o0)),Nr(this,Q0)[cr(197)]()}}_s=new WeakMap,a0=new WeakMap,No=new WeakMap,Q0=new WeakMap,Aa=new WeakMap,vs=new WeakMap,ms=new WeakMap,Jo=new WeakMap,o0=new WeakMap,cu=new WeakSet,Gf=function(cr){const ar=_0x5130;cr[ar(236)]=="md"&&(cr[ar(236)]=ar(251));const or=Object[ar(242)](SelectedPlatforms)[ar(199)](lr=>lr[ar(236)]===cr[ar(236)]),ur=Math[ar(215)]()*20-10;return`
        <div class="flicking-panel" data-id="`+cr.id+'" data-save="'+cr.save_data_id+`">
            <img src="`+cr[ar(232)]+ar(255)+cr[ar(253)]+ar(221)+ur+ar(231)+cr[ar(253)]+ar(193)+cr[ar(235)]+ar(174)+or[ar(166)]+ar(183)},gs=new WeakSet,A0=function(){const cr=_0x5130,ar=Nr(this,Aa)[cr(184)];ar!=null?(document[cr(227)](cr(176))[cr(220)].display=cr(246),document[cr(212)](cr(198))[cr(217)](ur=>ur.classList[cr(171)]("active")),ar[cr(204)][cr(169)][cr(241)](cr(249)),document[cr(227)](cr(164))[cr(169)][cr(171)](cr(180)),ar[cr(204)][cr(177)][cr(219)]!=cr(222)?document.getElementById(cr(233)).classList.remove(cr(180)):document[cr(227)](cr(233)).classList[cr(241)](cr(180)),Ci(this,ms,!![])):(document[cr(227)]("collectionBrowserEmpty").style[cr(234)]="block",document[cr(227)](cr(176)).innerHTML=cr(250),document[cr(227)]("collectionBrowserUiRestore")[cr(169)][cr(241)](cr(180)),document[cr(227)](cr(164))[cr(169)][cr(241)](cr(180)))},uu=new WeakSet,Yf=async function(){const cr=_0x47c2a3;if(Nr(this,ms)&&!Nr(this,Jo)){const ar=Nr(this,Aa).currentPanel;if(ar!=null){if(document[cr(227)](cr(233))[cr(169)].contains(cr(180)))return;Ci(this,Jo,!![]);const or=ar[cr(204)][cr(190)](cr(165)),ur=parseInt(or,10);StorageManager[cr(167)](COLLECTION_BROWSER_COLLECTION_INDEX,1),StorageManager[cr(167)](COLLECTION_BROWSER_ITEM_INDEX,ur);const lr=Nr(this,vs)[cr(230)](xr=>xr.id===ur);if(lr.length>0){const xr=ar.element.dataset[cr(219)],pr=parseInt(xr,10),br=await Nr(this,No).getSaveData(pr),mr=lr[0],_r=await Nr(this,No)[cr(239)](mr[cr(187)]);Nr(this,a0)[cr(179)](mr[cr(236)],_r[cr(208)],mr[cr(200)],br.save_data),this.close()}else throw new Exception(cr(182))}}},X0=new WeakSet,Zu=async function(){const cr=_0x47c2a3;if(Nr(this,ms)&&!Nr(this,Jo)){Ci(this,Jo,!![]);const ar=Nr(this,Aa)[cr(184)];if(ar!=null){const or=ar[cr(204)][cr(190)](cr(165)),ur=parseInt(or,10);StorageManager[cr(167)](COLLECTION_BROWSER_COLLECTION_INDEX,1),StorageManager.storeValue(COLLECTION_BROWSER_ITEM_INDEX,ur);const lr=Nr(this,vs)[cr(230)](xr=>xr.id===ur);if(lr[cr(201)]>0){const xr=lr[0],pr=await Nr(this,No)[cr(239)](xr[cr(187)]);Nr(this,a0)[cr(179)](xr[cr(236)],pr.rom_data,xr[cr(200)]),this[cr(226)]()}else throw new Exception(cr(182))}}},lu=new WeakSet,$f=function(){const cr=_0x47c2a3;if(Nr(this,Aa)){const ar=Nr(this,Aa).panelCount;for(let or=ar-1;or>=0;or--)Nr(this,Aa).remove(or);Nr(this,Aa)[cr(209)]()}},fu=new WeakSet,Qf=async function(cr){const ar=_0x47c2a3;!Nr(this,Aa)||Nr(this,Aa)[ar(168)]||(cr[ar(224)]===ar(202)?Nr(this,Aa)[ar(248)]()[ar(254)](()=>{}):cr[ar(224)]===ar(162)?Nr(this,Aa)[ar(243)]()[ar(254)](()=>{}):cr.key==="Enter"?Pi(this,X0,Zu).call(this):cr[ar(224)]===ar(252)&&(this[ar(226)](),Nr(this,_s).toggleScreen(VME[ar(257)].MENU)))};const _0x1f56ec="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAKUPMvFBQAAXaWbT8YkAAYBgAA4x/4xj/5d3vd3d34QXFxc+A4BoKDQUAKAKAsBoKU4uDQGgpTu7ule7u9/u7vf/8u91/Lu7pW5Yue7mKHYKwFwFw/YOAFwFwbngQEDPg++olnOqSYV1ZhCJNKWMAJgBxgjIjV2XFoAfl2GMKBQaWUJESywrggJFVDq0RDyAKF3Qsh9IhUCDrdh4Ut+DWznv8/OfjNJHWVqf++9/8oq0IHZaXDLJAgSKZb+DDutKr/3of+h3UXrrUA//tSxAUAC3EBUrjFgAF8HGuDEvAAS4ZECEdUqFxQ1ghPPPIM4OhYgkiUfOnjyJLYoYqSudPmA6hKEidLT1/SkO7fG2my+Lnpjnuc2Ld3bI631P7d0SgaxWyfg9Md55705ps6Jr3e5KxAYEAPPTAsZEzWWbUNms3nYISopCeKBgbWp8+vNeG5ORyN+runVKzx8FGRQNwUomiJISeK7VPp9fqN0wZWI/zAfWt///3kje5w4UTH3BzXH/zP8/2pd7cUKVf4g+IqHiuAoHBC0nccSXP/+1LEBYALcNVMGYSAAX2UqMMykADLONBirVnei9LAkgBYNKqsCoQEhpESztHo+yqFYUULJahEIPA1Fh7SKCOXmru+Lo7cZQqEM+V99Vcff97/WVv///8kUXRjkoMHSVMtZ/bnIiECrFQCe/5whX3mfxrEqeyGmzs5lEjmbgyBlAye0LCUiaM2rmkYiRE1L9BkF2FTJ8mYjSJRpRTqL5JiO25KW1ru/M9xx8LUwHlh4GDpNRcmMaxj4bIHaz6JG3mmyS//1y6IYQdsalponDrbnP/7UsQGAAvk51IY94ABc6WpwxiwASEXxGFMgFFM/fNDT7TZgSQa1+Zo5+HBqr4SHftOTs01XMxs1U6xTxa5/Z5mNnZM7xGs+hf//V3mvTXjYtC+df//948ph5Ef3+ISeYVa94ls5/vKhorEpW0ZwmjhQH8fDJFfjdWaGpph4OG70m003Bg3YhNO7T0CkltjqWPezH0ah2AmK7u23/zB8nuOez39s+GfvTP5z+JfW7+eJv9BA0Mx4Hwnwctl///3//+Os3HbkttbkZcTYAFqYrDQ//tSxAYADATvZ7iUAAF1oCsDEvAAoAPIlkQIrETAiRMKESJZDi5IBg7aSyQaiFCSego4sE4/vFaFxc8RwBAEyUVGnSd7EYRkEo1aX+nFEp+tjVi///kXHigoZ8LUytf//nuBHYa/65QBzszi7ieabcYrhskOx1AoQ+cNvldF2p4U+d9hXM4hUsZle69KmeRz9yiNsWDXxJs01D97R4vtjP19Zz/F3iE/gw//65rreKX/xueLNmlJcb9rW9rf/5//gQEkeIvU5VGNJWoQSAwAVUT/+1LEBQALpRtiGJQAAWMR6reYgAAsLmRoyYLywmD2x1UQSwfcuYNo5ygOWVU5WNDuhY46Uibk+hez0ZZD0mv2+SxHMH1zyqipX/Hno5toQNPqxKHRYyauLn5+T+Ve36vs4Rclw1859VWSBTgQMcluBEZKxpGoyA8cD0qLSJKa4ZsGQAWbNBQUIIc1JqoLCwszN/qpNNGqyvC1OtNEfbdSSG8SiV07OoQtxIFTCciOeWNqtMBQ9/R8SpZpCZyn63/Qjc1QApttwfJpLRrkqS6MT//7UsQIAAwkM0lHsSYJYounYPYkyZkHYVEoQHyBoRIhLI8TDiMy1jjgkrplWmqE0xkonLc3gvYUyw6aoxLMt+9jieUOHxsWKcqW5j7Y3tKA34fu1lcktrenov92nHdpYsbpv////QjAgAMNUmYrx5mk6NY0mQRbAtZoEA2QCAMEYUOGjAfWc5Gky9BsnZNJOs3GXv2DWE2gsF5n6rmuCiHy/MKf/zP2/z4MRb7fzLpW4r9gPKnPXurDN//ch8pqYsqkIITjbcAAokABGAbCoOCs//tSxAkACjx7QaWwaMFGqGaw8Iq4Mgk+MBpPQ8HtEIDEUabFxbXS1M5pWuaP3XNTzliDoKB8weLDkwsXJuHSG8BiZjRzLC0klgtqpVItEu5aBSOVHEORIglVpsVhNzuLybx6l6XRksDRCNt4rFfpqvJVvpp7H3P4mxgANmyRiQWTSjhadZEcy5BxhmYObe9TIjl9f+nXDRXwsofDe1maiUVmu4lSUIoBRJIgDSqBBhGlor0Kgh+neaUyOS8VASAWdJDsUiiutYzrMNckwutPLNX/+1LEFQAJ7IMph6RswQ2Mo9j3mADNU6qfAx5l2B3FWvfJDIuhBsehNFais9S5jNEqR0N+Bvss93/yIF/2WQV5HogcSygpI0lZEJKCtNIuRRYBbMtLHU5HDqokkai1aRo1Fjh4xlZ0s9AVO6zp4RLnst8j+Wh3/Ge2S0f//74AA2VmRI7t/+lJHnEnrSEq0jLK0/Y/liX69jmyP4U1IQRqb/20J//td//lqkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqv/7UsQpg8VoARPgjEAgAAA0gAAABKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",_0x36c338="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAIhHErNDGAAbGs7fcSgAGUACAADbd3d+IBgbnoicL/03c/0RAMDFu7nEAwMDfiE4AAHAfD4jPlAQWCCwfPlz//E5//wffiMP6wQDH/y4f//BA5D/s0e/9fr7VJgCJ6QKCOVMjTI4T0nChxvk0EE63caf3VhEKkT2emwdhsIClcmnd0HmIIRvyxXV0knjomxwtx/d/+MEYcnes02tf/9XzdkUjp3zXHf///o9Lb8uNZv+fWV/////k0PxQoD0uRJcVOHUIMYwuxdgD5//tSxAUACyy/Uhj0gAF+IuxnGIAALApj/XbIsImGyYbA0TWwTaaNdrc6c+6akt78xAw5sq0hz1nn/CAhlKvGOX6v/0j2Ecr/IITbENzNbVEQFUoWa5S2KeKBxvnVRZZd87/5EwAr/z/zqhx5+AYEgtjYQT3T8Go7xg0lx6hXIKoFDBQPqQWMebG0wxeYoXkWNv4mxe0IFAXS1FfszGIrjRcWvnaF4/D8ckI6C0TX///cWm03Bhf/Ps0f//4iOEHAm+OdIjAIIAhRLqCpnBpG4tP/+1LEBoAL5ING/YSAAXCU6PDEjZgXdD5ABB1vVboGca20qNP8KSUZGGjT2I1Wyi12cdlqb8QoZSWxCoinLfLylLbk08XUFTC1iU3KmHKfDS3JqAwNeE3U0zbOcY1RNyQlGsahv//IQVBIkEAK9KwKk0oBKSiqSQ7Py6YFoQyYPMpnUsLM0iXMEKCfLTVguwc2y2iFvXTG7Q4GLEe9OyOUJIxEgJYbAtCAfaF1JKkB5Ne8ACoOBgXQY1Kc6LquW31f/+QqihsQAAYDQ0TMxVOWFP/7UsQGgIvwjT0nsMbBcRhnQp6QANL4FDGhHMhhw/nBfhOQD2ErVr6g/i0ph1qAJoKb5zdOrTzkiRIGOtiWVSXwmwJoXARARktx6KtCAdFzwfS96hYcDV7noUpzIde1IbWKi56n//6iwB1oghtE8nVIJmVw9JbkCq6PojMNEMpHi5aSGWEwyQI1UkAYHx0NKkomFJAw9DkvJmUE6gtpnYul2DUWFoqu2eJdh61uldeTF1KKVKgkPIzVui1ha/+zo////kauNi1WKkUhoNiNWIOA//tSxAaADB0tWbj0AAFnoq63DDAAAjmHTGrWWrhHfvnOeGz4XjkiQDiQoAMjOYQYIYNg9+boPJcVJEWI7WE5ML1okVHx809y/Ytnpw3/78vN2lCp2jR////GkvftzKx///6f//7mzpUjqs3ttLtKxG2Q2Mxoc0f1lBB31ALIhfOHsaEho8G08ormRI/m7kjoxe/ENMqFSH/kiF5K2V8yI0dTR9C45ro5EafX/p1/n/S///yMXAiKCBZapTf5R31wCy2uRmCbSIAAFABIHLqQAxb/+1LEBwAL/KNjnMMAAXIPK/KYYAATDkkDsYHRyUV5wiGkw7pZDQ/zNjd3fFGNDevn/+ZcE1Joff9vT2Tyvf9PlIhIOCMuLQyAhIXB0ffSZa5gQACighIuD5/f7iaaOgTCyK+1/vqUUZKkowQEuwSgNLGhyFJkXgajUExkTrHJZZBgEl55s1mY3b5O+jTSJHGlHx/PztVHUHBYKHoKhQuiKLW8kQQ0aAiK3r97KEpAxu5t8iFDwU0Klgax4K2t9vmDABMVV2V2aoaGeoV2gr1gsP/7UsQGgAwNM5X4kRBRRRSqt55gAGg2GRHpuPoDyDBYoJdbNigJHgQRnMUUIQEoECAAjgRjI1Q4Mc5qhl+zqJFspW3+QUUyUKVi/84VF+lJv/qkQt2FzP///dTAlWKg4DILR6F2/xRtSmpmrcJILQVnLMelIl9WSEM+U7CWjwRzArWF6pQ8ikbCSE0kjUs8ricyfPf5+/eq++Zwi+9+7P/9+/vPOEwTkCbpLqTyR1+ur/6CTau32E3LQjIjU2kCQUlAjRPEYWIUoA+FkTTgnGKc//tSxAuACkx9R6ewY4FKn2k48wl0smItLayitRaJbXY29aoVddmi3/0tC/IUAtBQDS7gK0LC4InBx0TgAHschjpoUeRazuVf70CJqyKTM0KgcwjKSMjUIxMXU91Q9CrGGtKdUqdPLFAEJCErPIbRro1OepftWZuU+bu5rFmZjUThxDyXR7dNTLcromXyn7TL0WXppR4J0uAUiLA1qURXCCj1Ky77dLI6k0SwwmYdSzFRJ8ilQTeFxY+NGSF5ZgLDozUlVm7ALgoQAMcNv7eHc6T/+1LEFwAJ3J1Jp6RooUePqLj2DHxwGS5dGc+mSqE2hMa4QmEnGHXJyff5yeZzGx7ypaAnZdArDKrIyHXs2MRBSan+mAiuHc4IpklElUZOlTDpOtc9mj1MiYia3Kft6lfkOLubsLEGiRoXLJbuFUjknFIDKWQFShHYRHkjJiZnjJKok70PnRE+AgJRIABC1DIFyNtCm5gQ56pTgUx0kHzpEuwScTRo+EqdGiwEChZpoiGnBkaReBrhV45QlJBeqd3AKaCt6WL71unUcS2g01SnHv/7UsQkgApIQTNnpMpBPRQn8PYMfA3c6phSn//ZU9T66SQtPTEMf5JVYZFkfyqDwcF9Qbnp8ctGKdz3XlrTcIyaxydllz2v3n1bD7wz/4GszGhxqKPqkhiRglNG6AboPK7PYKDVMVVGhy4XfC7Kb3+1rakbjbGhuLlAMvJIJDiPJacMj1UYrlq1dV5WrWzlllrPH7Dcv11PzrVMrYZHMoudl9T5utsDUuhcPCjycVUtEnUsOVysmTMtcsa/UYUKrV3+21brbiaApAuCgHViMrBe//tSxDGACji7QaewZWFQimf0xI0dDyUgC5QuNEKIwSI0C7KwlzllYjJHBA0JZ6+qq+rxB8mtRItm+VGUsht5SvQxXejvszptZ0LNy/C1Yi/Pta/xiXf/+WrbbLHf0qDyCAHDcjmByVAhLI1mRqIZIcLCAIFTEPSFsMnCgsaPhsEzYBQFhI9AuJxEGY4WKuScIOFQI8cOGrfXfFk7pC/kA9LMF3yIzs1g91IMLKE5E1E/LE3Y8EUjnYvHQ/Vkg5MyQuOG32GX2CSmivCejnAITDL/+1LEPIAJ7DVJhjDE8UuJpaT2DHgJjhMIXWpImRI6NIJWPQ1aikBxKOA4qpVpVzWL2jd829ljnv9lH//r+9UABJJwIvKBdRcVS9xU4aBEZBE8FkbNPAKRmHsqqNksjKTVBRMNHgFQsBEgZLVjQKJQagyGg6Ehx1UNEAKGSIlv1PpKwK6eRRhI9Wd////8NABAIFKTQWiSBRQEfFigg6E1QyOyWX5ZKhkf/+RqGCg2dno0UJEmHgmZFRY1Coo2oWFf/qF2atYqKN1CusUaaeKtxf/7UsRJAAn8RyWHpGPBKpCdlGGZeIXZMizP/rFBZUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",_0x5095de="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAJxN0tFBGAAY4s7v8SUAEQwEAAzH4B+ACoX130A30Ku8FmEAABKHAwAQQcDAxZ7u4G78R3OIno7nohcfQAEJu4hE3cW+7u7uegG59RzBDWD58QAnKAhEH4If+CBzRNJLpTpcLCsxF2qlkgxUWwgiAddS5twfMnkwrr4MggouxBAsWBVDgk4vIhCB80xhQljirscBPR3RiRQUOd2D39ydxEWHNYuT/9srsxm/7K759GLQyvc49v9f3/9mERY2ZUADIacnqGJoP8el4q//tSxASACuDFWhj1gAGOm2tzHtAAlcT5vYltpiNpcEMPNP2DacvidpuPks0jHrXXHeT0XviEnWpeO9djjQ8yWxxcT9G580SBAXY6I+HN/kfIrYsu/9YEeXECn+nyBf//9MuaJIAAOrrQBFqWTwAHSYIteGhyIIN4bCFIqGuhHjpgxoABGATpMHGbIheiTMColSSUg6RUUhVdKd2OiNOXlOZsmYu28lTE1MTJJI2TRTa+zGxixORb1PpP+1T1qMvk/ColDQNA1TMACSQgSE1AYAP/+1LEBQALoK9HvPMAAW2aqTaeUAH4K4XFIEhSpkoUtQDsRKlixEOhHhJAsSZuHS/6SVR/sU7+6x5mvvntd7KW01u3/+7Hj598WdiMjQMDC2rjA8NpMnQ4ApLS7ZcQLpFRoIpjCqj6a0fBHE0i0VLQLakCepQwESjT+NjSAdrg6dLhpVQRGso0VKzO58yqqIaqFmIRqOyTNZXKY8zvrMVKOnOzXeti5HazyoUYXaM02LarmSj4aIcMZymoEb9h/6hb5b+qIKAYViyaKjhTSSRAAP/7UsQGgAu8vUW49gAJg5mpJx7AAACMwCfYRk06tXB0E+gwmFzYmFjBwKnF6KQ+Uli92LrNgiYh/Yl7y+hxEqs5KuJqCp6/WL7T25L1s/5WbrLFXpv9LbTv6fjl9pVFR8/9m1rV9oSKNLSCgzUAAFCaZ8IWyLZUGOT05ly2p5GLUY1Wcn6LnVMK8VhXClgmYRIKQvO1odE7+TH1sovPIT9qPO+tYcJ7LVXX52nXzPnq8YIVVcbjcX5XZmt7T+7CvoOJCAqGv656SSCAAyjNU4Ti//tSxAUAC8C/TrjHgAFmpitDGHAADqc/JgiAYTNnlg5AvFwhhyHw15rRwJwQgM0L46f9ZWFIThYE1BlEjJz/nFonyr1ffqaKpP//93v6aUUHerzf6//9/q9/u0J5H8H3k0CERAqz5z4ahlf520mTZh2FC4p2hRNHoWcbk1ac5xg4xccOXZjxu5kxqZuNxLOFw0Y/mG9JYA8IAwDgz0/4kAsFollRu///8cLD5zMI7///+XGjCRGq//6aBO6Hyn////yFBekwlhQABiNZts7esfP/+1LEBwAL1QNkGGMAAXqVcHceYAL+5X7f0wMYdl4drsXlUKNb95n82yznlsVh+1zv6arpIwJateCs3m98mvLdtaSj27f/9+/+/ZZkzTUYJQMMcOZPISNrColYMO931Nb+d////27Xyff2/e222yRiwSCwEgH9BZD21ZRPnJu3CPFjuoWQJCqaeias+kdaCwSyAkGB1O3pbphHR12Ohu8Q0Q0Sxy/Ff/+m8Uh3xK7tUcD9dwNelwPh6ge6LHvwSuKTmVOjlbbZf/7f/rbbrbBoLf/7UsQGAAvY2YG4xYARcxao85hgABAGlCUktaWmzpQKjUr1XGsjMln0Lv1CQTjjG0ooLyDKYVhDe+68+eRbUkE/2RZfDScfJ7HK3u2d87reia+2v//9DpO7NWHOt3jBGfSfC0SwVT+pSgLFRAiLJkFA0isAoQBMIzgih24fi0lNHDZFHTa/glzcmvTHAqkqokdVF/1Vfzrlmmoo///9v7/8/1pu0zb6OpgBJWojQVY5Y2VMFQVKqBrubWhtoNHutYKu//61LBVgAAYO8NIdKVLa//tSxAYACnx7PyeYbgFFEeek9gx4ojos+MV2/YE+0NMBHSKJ8B8WhUiZYRfSsMu+yG93dQpgLCZ4UF3HzLHonS8qXEczYWj2p0rrOtXnnLlwm1qSoswCVGGL//8kWh7ipJQlRiKExSGIpNKhOBiWXAlVlglnC1S+xrXPsVTjwnI9pYuTm0yz1yzPCHWJtoYwVQPGiJoMveSIEyS3Rd37TV0FUD1JWpfQyaqs///JKiOWR3VXSRspFg6zLPp+xkiU6RP5QqA6UecCyHRCQQ88w1L/+1LEEQAKVINH55hsoUWPaHT0jSwx3eE6JYUxRFlT/utUFTHnnqYkcwUfSyISzo8oB3IYaCjTSk0X2uF9nFMZBlay15t039v08cbaSQHa2KoJUnWBLH8sqZ5smDBkvMFElk9Syb83M3Q7DhPkrqc+8qn91GEoGECAXXDoDcLJDj0uTalD1LvZVHqryKxkJKIrWoI0jhXqASnhKCYgDkD6yu4SgSAGQBKOwarBKfJKkxceOXbeySkxrG1ybUqoU1KVerSPpdAaJJjgE6//Dv3Ug//7UsQdAAlosSUHsGPBNRkdgGCM4DSQNPkwVIkYaEoClfy3/qfltCQYDIJq0iYSf52VBQWkfYf8/llUMDQ1a/kyw/svkatHIy/+wyZWB1D81DAwYZc7RWKN/WKPoBkSGgKKijf/SEhX2DGjxZAFCoo9ICFqTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",_0x13996b="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAKDKUzNFSAAXsSq28ewAAgABQACTeQhCMSsQAAAAIooFCCGf//+c5zmjQIMXIxWK0ero29UQChxGAAEDFo29UFAJgmK26QIEDE5znOe1BGD8HxwPvEDgTP8Hz/93//w/a4wEAAAAAEhwySJSIrYENxVC3IuJILmM5InsAw8HNEwJ7kC1FzIxLNz9DM7JTw0i5KemK+0O0Xx3YYKx8uZr/5szEvvelKtA09AWeo2LCC8BFPA79ZYlqMoD8oz0HUqnakigCQCklKLILg//tSxAWAC7Spb7zxgBF6lKw09I1aL0ph0iNpxdreIdKUVj27+ggBwMMIFuQ4gOxOkYRf66RWLy3IDiUWAV6aELCJTYAouCA4tGEZMBscoaFhjgHBP9Rcgoz382itZ8FhJFnDpcMH/1GOAogAgApKQvRSl/R8UcqMELVvX1YQmBUAw8UjELAkfxZqmuYVVUljbMyl//sbGsZSampSkzMsakGFUgoCHrCRk6DRIOXhoj/PBI6HQ0sN+VGQ6CxKSDpIRWNCT//6qkORIiEAAAAl3UX/+1LEBQALXG1R57DDwX2M6nz0mRgs3jKR4HTGxLQhDFbZVVFxDJzyPmGEFbdffbx9uz0FGYGQhiB94nt3ayhiJwcIKaXUGDqQsQGTjWtkQuPJt76+kDFxOaqocwB460+zq9fu+p41ZiJEAiACXN2TWUKgM4SdQQD+IUwDJgegaC3IiHCEWJWRUSeNakm9GkZE4aiaRJHDqSqTCgZio4sKNUBmMIguYGijAXsShMWCREKNyJs28AkgCNfgN41b1irtOa//+moLsBUAAATw8RYFSv/7UsQFgAu4p0eHmRKBeqSqtpiAAQC+mUq1Gwl+lOl+jUywrzjDW3M00LnvBGXFlcmQSY9A7CKqQQNCeoikRNKiJqXrpFeeLLGlli4ueeYgIKBd63hdaggxAMHggKfKK/r6TPrp//+kWwpxoAAhSsD4VzA9XnY5k8+QnFBgeVFAGNAeBIEXDoPx7Rb9T9XfXFsUcXI15fv37d7e4SP/0SEhOO3sYkIiTL833G4wa098y/N73pSRFy9ChhAogogpcxRBhBtlvnVRFIAAGREm1oFt//tSxAUAC3k1YZj0AAF5j+kznoAE8CPDEzY1ddYb6MV1c1TRvVaDg849xwQPQfqgkOi2FTlPHzcHHHJeoxMwUklWuNvtL4+ir9UXXa2/r49V1Yb9/9JV/+11Nfz/6x//wkf+3XjXrDqYcAIyqOQV+cCCSJ0Js3jZTkQ0VerSQgfDBOl8Apgey0iKfSf2qvbdDLZpGxKqNGm1MzKqT0KNgVSnmAqfMPkZhqxMKPxiIvtJ0aUColDaJfQaHpQuwwQLogTRT8kqCiAIAAHAihjDLIT/+1LEBYALkHs5Z5hygV+OZqz2DZAfpPjrajyanNL2QbCMFKKZFyuUZwiUWAnBqijqsW+kfQHVqVapzBUaIfkPSTOgEYCooxaF6S5gUMTpgmM3KsLLaclgvZaBqDRJVRI2JXkv//kgJAESQGAuYuUpipQtqoJ6lGfmCaKlULpJD0+XwryGh+vFDCOBmh5ggLYiTHtcjjwHig2FGnjoLkYBKBUOhItDA0UhYOpfz3dDtKrbeTPRgG4sxRJn6f0dFZP/JHYUo0UgKMfKAY2InxpIkP/7UsQJAArofz+nsGdpWJSlsPYMuEhaaqDERT0sul1M0ugYic4kjBmkjWrmpF23vuUJFtUY7EIJA3La/Nf+/cqrdzOH7ff7jcH3Hve/vcrBQji6+VL+7O+dBwCQtEAIqyjOS4v5jPyQgdDkRUEbkwYlksj6VRxgaXNtss1deetYNEQGEnGM2Om7qZNmVKr6+kz7fzONGCkrkkCobm9iJsypfoTpm3qqvnBpWzaz/2+pyjLrNGylImSQQlxIewMHQTDUfioSicHw+iKYuQwpVq2J//tSxBAACky/NaewY+EyDiV09Ix4hp4yZmDdtPqlmKYTXNmkXjM1VUPUvvCLjGfzY73IssGyiRRI1x0qUm7353vrY5Cn2FnhJtuFBKRtpBGwhwmqpMUko0IQJMAkDQ2CIpBIhZSRPVQwikzRQqhlKMdUtS2DGqxRKgaWsFTorZUPSVpANblnXgrZXev+j1/6H///1RZAUYApVJdQmOhpohUAMTilgmwLEyZEoKLAJZGCWm4drNV2qkFEkRKIkCUY+1uzr7cs9XkP/+es/0FfsZ7/+1LEHoAISF8UJJhwgJ8AILAAjATsj4ircgBEEKKMyiS3LMtMtKsirttfahmmR//b3fUvq6tin9K//UzrAX/+MQpMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7UsRHg8AAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",_0x4e000f="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAKQN0s1BSAAWGXrrcSgAIAQABAOQAAX4xjgRt74QhDzXI0ekAoMFwAAAAwKHLisVk7CBAwmKwTJ5BcExWTo57UEaOe1CEM85znvhBG3P+EIQnv9Qh//CEIQ80CAEIf+CAYttttdjkiJaEjabbkgAY3JkEmFyJRgjbpQ2dC9uNOBEdjiAlNKBMPw7kfXsMNddBht+oglTwKV93BlWdDN2x78J/u//CxdGAMTm/J6soZn8xngm2RD8Hz8+rXRpEEgAkkqGokAEmwFDkH//tSxAgADCiBZ72kgBGAhm309hgyODHrS14oAQUafm6MAzN6HZTJZIiIibnaREqRiMjvahn9IGHd8sPEqqsbv7OfggQIEE5ATg+GHNQUcwPg+51PUkmD4Pg+Hv/WL1t8pxBcUBCH3Y3IiQiCkpMTYhQGgJHxkF4IhKjCUPStUcjKxVqjgEcSJBUGg7gyCuVUDT8FQViIFXSOVBUFQaAwNA1BoGgaBqdWCp34NB3xKJREeWCp1YKuVqBo9EQNA0EgaDs77NdlNSpDnUDCG3d8DcT/+1LEBQALzZtVtMOAAXifLbcegAJIigOgjA8lHE+WBPUpGB6fpChxcA0jRjUVDXLTJShqHvdXd6UqPFTFurzp7VroYeezr/Wmvd7Hnu6a90/q6TDzKU/r7GGMZ+ul/ajonX/3Zva36pLtxtxtpSONtKRSOCAQAQ3qM0P3a5e3gP2Se016LMkjT1F+ZEC6BvVotjeVxQCYuDecn46rEwA4Bw0Lqw5NXjtM8ysXv1+f708UGGOp8fN////+IwcGZZ9H//uAYfAY9T2hBuuU6uiOZ//7UsQEgAuIzUoY94ABeZwqP5hgAHqxcrRPy+7mnZziHi3SYVZcCQikqZE4jMUZoYhZQ6axrMUFibtImY7VMfenlNUhT6t1mZiY+269vnWf8628e43uC9t///r4+/muoTBZ/29p0S/6SWFNSIiAkAKSwAUdAJmAHDIeSENYhnZ0oqjO3xIJSYTgei73CaGtnu8uYrY16en/7u15r/cnvjPlS8bLf9qltzZb/t//jY1mWpIiSOLM0y1IwkDKZHHI6XJx8z///1o1eFRBIBYCAV+F//tSxAUACwEjUfTCgAGEJe03HoACgYl4PTguj8JRffPBYYSI52dxjQ+YAAIKDTupzqdaEH8+QhzMSejOjX2pO//yEyNO6Eb/f53seRv5N//tSjMmJFDIq6PHqAFtNrKej2YkblrbTYkbkjkbbMhAYAZ6zxxVGW1vGqNc07sPc1ezmCcaLGUETx0ovvcKOREIPADni4cB365bRkILh4KX/X+/PCUH5BVT/3W39P0e792//1/f9Fi54eVaV///////6CiH6GwAAAAAAQHI3zmIW6b/+1LEBoAL6NtWmPaAAW4bafeYUATxAzoIwpjmVprqGKgoccN0CnLpJGg9h6D4SwnJANq3DlF0TwLU7pGS9QgI2lBqRKvdFukmak5FHZ/8u6ZsXS7Utf/nTArMTg9nQMlla/oCoGEKFkA20Wi42U0FCGIoNrgqDrohF45LtB1VozojihRULUOlMPI6rOdVXIdFehDvM5GYxCEu53ZJk6EJQlk2faxivVEas9p1i5W4vDgtfbHxS2QODTIsOCUuPTf//6ICAAIADEOk8g/SGHSN0v/7UsQHAAus2T1nmG8Bbpum7PMN4HRbyck/QB9HCbrCtJZTAZvBQCEVCShpE0t11UoyU8bzkI4qqWxq6ItsjGT2rfhkSrNm8/M+aFmhlgj6FPssIXnbnfcwWNhtoRpcuYAX//1FUgpAASiWJw3AlJ2IW0pBXn8jk++cUNfH8zOREAxPiQkFSdEjLEiTc6jtLlHIwVSDM1hmZlKF17+zFmc9V9V29r/0u2rnPpiB7kMFwmGl9NQ7YLFgap56wl//6gQYAAYADmfpghSOunVwLcXE//tSxAiAClRbJyekyAD2Bx0ExJgakDVkQCoGAUEknIwDJFkkpIyyTkac2fzUZEqjwlOqBoGjxWDUQgrJLQIj1ZY8V4lARARRL6WiLlXNkJZcRP///+DQjhKQiNA3SoiB0ZBCaCakpOa4vNk40sEwTAQSYthkX0iyxUiAhfizMYLkcWFf4sK/qFiPWx31C7MVb1/1C9VMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=",_0x190a20="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAKgN04tDWACWsgrrcYcAMAIAPoibmgGLNET0Nzd+xjGV/wxkksPBMabm9saN4CAIhMVJZPN7h7+K5ve++Xvv9lb3vg3Pv2MZTzRm973v2MZUpm5+Dc+kMH5j/AOgDo5+b//w/aRutxL3EpNpxkNCQAALCqUFBVusIxITFIWjoeICWi8JBLFRcfcAwSDlEoJx8dClyA3tXU0R0fHGNpfmIzvRk52rqj6s/0X+NhaTOW+hqLOnf+zIUJW/IFmsppgouSVClK+JCbIxj9//tSxAYACzD3TBj0AAGLE693GJACONRjyhTnC4A1BwUEMg5nlJp4u4kZTCkMSPaBPXaJBlHnB7Bj2b/UD7odcim50RfzwlclWiGHy5yzukpU08j6VC7Ja6kRiDreXWngYPaJW4tXs9ZKYzUnE2pEJB3ZLAsPBTzyZYoW11YYIxHJpikgMedyRkYHGlyap1uA5Ex5M3fnvEiZsnbbMrZK6vLvzrM8knqsz0pDhhoJEkWc/YxVkWsOYnJlwfD4esGHT3+j8qVVUAXShNhIRaZKolL/+1LEBYALmNNOGYeAAXAeKpcesADGJQt1FPvOzeCZQ/kOgOxPk6cbnBc4KGyw5q7qkmWIibfdv86SKGEGfPq+2dVz7/bFdsgP4X9rY+vj/EK24UJ9/rH////+I1sPpwKzXf1PigqgD/FDBhQqtNrRTM9WlibHygbmJzfsirIpmbWuzZVnjvP1dPiz1PMT6z2dnda3DYA8BMIc01ndW+ou8sMAIA0DdDvt8VPH+TD7Di6BMv/7///8dZ/E5cP/q8Hw9mXUAADsEEAABcAIk6Y9WP/7UsQHAAwQz1E5hIABe6Kpwx6wAIrZkTD3YeOD70hgFwI/CeYgMBT0SdgkCSnoy+q0qGfdK7L5YieREIZ3auOQj7BYBRzbAXxuPr78zoAVDLKrKHa//////sUimRoAnf+0sFajPqjSijiEsprzPMn4bnVD6EhqjULI+ihUPA64WeHsgzQpKh3PhnZRtG6zVSvvEgBYEA2QO4dTka/q84O0fmoExjZiHd1/LWJstNjoub6Y/uKqdEdi6R9reeHZ7j4///1Wckq6bbbW66avabTW//tSxAUAC6k3fbj1ABF7JWwnEoAAaPNgQtNICK9y2qGPEa1C6u44ZV8icwwQg4qywhB+LwFy557EcnMMdidt2kjqphISHofMo7sPPVrGL2trnn0q9P1b/fS1Lou/2zP97mpsVARH//tplqZEAEYAUACItAJaq+IbbJ0bM52jXkxzAndCrOOihicCohNCuYIAigByRixmPTYOgTSDGhY2vqPqYoXPuV+v//QgyVHpr81///7CiwcZolLX/H6///+eD5cHHI//6aqqkUEAAAAEJEv/+1LEBQALeQtpOMOAAYEzaauYUABEGODHwQPky5MrJz7H0AkGjR400gLAqNh1kSXEsHwwgpGrePCoaDh6UNX5rjxIdc3/5E0SyhMsRSo6rf6DZTj1elv0/5g1UwbjQ4aIqgd/yX5abgACA0XJAY8DU0HYFx4JhIJa0OA/ZoVjeIzAIZDCweMHSxoi91c5BQzlaQqHv0Ew4Q70FEZc7VbZG+keo91fX6o0733VbaLZ00O26M6STmIjm0T15P221f/1rr3/2rjUZKcICAA1acwzmP/7UsQFAAuct0eHmG1BYjNocMGKcIxbl9Qllem6jU8onrIDHAQkSPRTWXR6VEl7uvfA0X5rZRHJ+0VROfPy8zVeaN5mgzrKeGAXApsBmXpSDaixoaARS1g7kSwSKIGjVDVqX6Vf/+4klY4qkAIf0XioijqSgLMgSEo1TFk5UnjJUmydLqKtXSdsUbG5sui9Xvxo32NDMqeXnt/qvMotRyuQt/PvXKiP1rmXsjimP6+y6u+zV/ZE6y0+VUX/////qNUmZWIAgqtheCcAwZrwlBFK//tSxAgACmCzO4YMUUFIlab09gx8TbC9DjLB6erTlpc1goMz2NmcOBiyUkbyRvWNUzNjNoq+/uaz2YrqNeYM1CV9GHfOjXCwVm8S0liSXhZMLRa4Wf//6HLr/IiEYSSQqzbL4KUfAWFwhBMeBMVzIRvZMSSZP01a71mVSjM3ZmeWtPJf43cbMyfpfxj2jH1S7hmAqjqZGoixpUsVEU8dKhKR5WR5EqVXqRSqAMlKLJQRAipvQFApQ41UqFAYBCjCrquwoy4aiSBoqBXHSQmeREv/+1LEEwIItFMaxiBgQQWnGMhQD4g8WXqPRLaHflckR/iWyt1k7zsKv513ki2zeSnSPATxEAA1AMNEDkOioip/+qKqf//+qKqf/n+ysFBAg6GWygpUMvWSoZMstQ/1a2X2ChgYMEHBMaKizTQVFG4sK4qKC38XTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==",_0x5d60f3="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAKaQEcFBQAAVYkMHcMcAL/AMbgABGKJzwiaJ8EChkigpU3oQKB+L2goKCiVy7wHANA8LAUBZRbkBwYWAICwxxd/kUMTcsXeBc+ETd4Fxe4RERHe9EMTSv0RJFDBoP+Xh//B8aer+/TNRis1GtBoMCD8LkEbxA8gv2WBYHJjgHEROezGHiQI6XsfG4rEcubaehlBEEhRIK0OQ62snHDEXp+hkmYjHDRlod/+yvW2v///seYXAYb//hlkYAiAABSBdBhSMDWnRRCAX6U//tSxAkADNExU72CgAlZDGpxh5hgqTWpna7PQZHo1HLwkYPAMLjVQJAKcw4cBAIUCh4pQ6KOxEFURhEoiNdzuZDJupVKWgl0cyE+T21VTui59/PKNPM58c7O+ifshEJ3kYtxdJ0zqw5RlYAFgEAAD4UIXIM0Bqc5UshPiBptXsqbYUiGD5JiKs0iipzcNIugcUqGJeklzVuULhh44XPsDB9BBrNAlQ1ArkmLbF3VQaKBOqfXV0JYYLDW2Qgn//+hMSSZSIIABSgqwwhYGJKiL6z/+1LECIAMmZtPtYKAAWofqcMwsABB7nejMrjr/TMolk/UACGB0YHjkKUXFVjWOjRchimRFOQcWRnmq6sQXHLajHdyMd2e1G2akl7NOr27exckium26XTS3f5b2bf8rq//2/tbZFXf/jkcrQ0uEqKN5K6Oltx5l+Vu1yRyM3YT4aS7qt6adEjyx1UeeQpMD2G8srpZ8VZMDwsWDe1sRM3X9Ga4IA+Ewr////9dcbDgIhiCf//z///mq5pDSedPstKf71oVgwQA8wAAAA0AA1XkW//7UsQGgAwo51c5hYABbouom7CQAPbZZSRqKuS6NJnKYvZilDIQyM9meYikeafiVSVJML1+ZUJJgmokbJHopp3hrJqfUWND0tNYl26fqoUXXVJLj1uh0dR/H0xa2Vy1x4xJQF8uYexKo5iAII8kYKlhllt1lVO6zhWmeNu+r9MtkEFz4+TgcRG29Y1RV9sRjP5iqr6YljwZAYNPBuRfPkBO0Ai6CbACbEIndE4o2kci2wwtpGz16yWsHkuGUn1oDn+r8sfaS2dRRQESScYngnxe//tSxAYAC4BrS6ewZwGJnml+nlAAynKM8BJBvkNAMA7O1BcQka/mzO4aVRyN6nbasymxAaiY7mFIqA6ISAoYOoaFG1ihASrPmTdaCyxKLhAKFQYcGD4rGpZoVANI+5ymv2V//5EUlkREIzIjZFxP0IknBKjROFDh9JRtjKqElVRAVzOEBRhomPFjM7nYiIcTISpzmscogMIS7nad0IhhxplpY1mu6/ftsRp/7v/7ucNGig0FiSgQm0PIDBcWFllHsGIWAnf//TX+v/v8BdUEDsD/+1LEBIALSStdOMQACYCgr/cecAIhrXVoe01en5EJ2xq7udDwJ2BY8CJaF5QNBcO2rUVWjBt0PTub/BeLMe/y9x/92kni7UlfMN/+kXyWPh4iYv7/jf25tpPjn///r6+PrM9WcQIsllttktrkksgbDAtEAFAm1upxSnQcEFxKujmoGnS06EwiiASzheJAPhSg2GxY0sawwLjyhMdOTFxovHjdfeceXEULGEjXMT/Y1DBqcnT/0dEohdv//xacaNQyom4DK/0qAZg4QlmkDtBxaP/7UsQFAAtobUA9hIABVY8n4PeYMPDaE1Jp80JSgysUWdWHMG7FDI6TBAqSpVGDFtWnKknomqR3G689cnRMJGw2EcJzQ+wu2WyzltfGWoWYGGA2MF6RWeKXF4qKmoleBSZxQX//+sH2QIWBQl7KM4mIM413iKCUMJuluR90YvMtEAqF3Y0iFEt8omvNzKHmWbJd5OpErJKs3kQmdEUieSWxwhaPPDAZdKuQva5SmABr8YqVtHNCTehyWzNdMbrlaKsoIDMDAeBIwDUlDyLB/Xk0//tSxAqACdxTRYYYbmFFk+hw8w2kKTlfBUSRSQGCkYhNmZtVeRUYUZIa46CTGirqVRtEsFLyUuwKDys6l+dMi2KFTHTI4iigGDxQZ3rbGBfO6Nvr4YSIxVSVhdU4cJ7I9mOpPnCsHUSsAsRkCJOiqkfVEZOKkowaxjXSxj6UXPql+zayWt0TR8qtTydORTnsjvYsSVxdOdUkil4YKiZdepUH1RwlNbLAcgaKJyIpVBIrgyuDAnTDMg0dQqQZ1CM4kUFCipMEbhJX76UTY/qVqL//+1LEGAAKODc/hiRm6UWHJnD2GNnye55tTaLvsNoBySlSzneLWtvj//99+7PzuWv85o19rW5sCJRIgA13AGElAQ4UafqiTkDJMF5ijJsR8STgiDHhjrVR6ySWUkxMci+ov4Irej8vswk4l2aUSyzJRx0LH/77bfPO17qZdk/qja8KZ/8j/t/qKgHC2iAF1QBCQiQXppI5ZA8SxaWQqEEkJyLGTToweRJSYtS6BEpUSVlRVL1Rcexc6GF8Fv2dtFprh3ZfxJ1pt/5xOW/ZP8n53//7UsQkAAmkOS+HsMUJSo8kpYYYaPj+n+/+BLUADygDCS0QtNZhNKiGYDI/EgtkU3WC49PiRpQGUepcKXmzUs7w+bm5rS27KtzLRotgdOnTow0LgsLFhLY4ysaLzCEJuQmJ+5C//op98r//1DoBVpCrgRGuQk0GWtqBMYoSVKSIUgmmGTIEyrKUmVlMjInQdKV5YTKatrkZZeVLI03lwZwfOpCLq7v+f/T+ma9X///SAYqJEFAdGjS+jF2UOgmo5SZjpRZ5SKSBZ0m6VldLDI4F//tSxDIACFybIywYY8EIjeOdgwx48eakM4JaHCPQMgB8aTGEQI9lHb/s1p+jNPu6Otlbf//pI0mYuQAqDqaImZjUgx6ZA/QgtHRRdmYlAMBYBkAugWAcEykKiJm5u9Z12eb7aForiFE4nufci5GrVZzFniXsF0Jd5OSAAWC2hqQkKUzjyGAxF2IDrIEkC5Ol0o6GbiDyZxrwXEgESYJQ0heNdO3a6d+tiMry38NdbpIRVjXcNLDXyv2V1MYNMIqE9ASA0mkkSSyVACEhJ1kVAyD/+1LETYMIiDcSJ6TCgREJIQj0mEhI0adaOEoJFjTnRxmJWo7UREkSrDTxKCqzKw0JXNvLB0SmTpt4aH1yP//////3BPJFRo86GiTQdWAhkACSoABCSLoq3QASLVYzMyr+zMGXUm4zVVVVL/Veqqsx7Nk0bKf/+vQp0RPDoKqBo3Dankf/////+Gg77Cp0FQ0C2JQVDtUIAAAJM7cbQOmILSmuPHFFGIGkgBSbzVo7EJFDJAKBUyMEi0SVovJ1o08qROhUBESR5ykEQkPQnCacJf/7UsRnAQlwVvYGGMcBGpQcqJMMGFsin9jf/////9VZF1bIqkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq//tSxHuDyTRCmwzowwAAADSAAAAEqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqo=",_0x4a3f79="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAI9HMsdBMAAaQdrrcY8AIAAAC2MbgAADkAAAQXe/3d3GezyZNNgcLJk77RBO9ggQIIOQIIHN4gBB0hz5QEHYIAgGHiAEAwJAQ4IAg7/y7/5c////BBwIfXVZKN2RMtmNtFIwQAAwHonl5QsUAbBuCTYkGb77ixE2Mi6hwFuZPq+1UO3Hv4b+PCevhTsTvIj+94mlapXG+nld3+rZ+Nfda4jZ/+/77+8Uhf2/z/ffpfN70p9/wcVxbGv5gsKvn//Jr/pOTIuSgJuW4A//tSxAUAC8zTX7mFgAF1JG43EoAAICAABkNDTMzZs/JIctA1l3m6OInGr1S6WM3ZuH4J9zQ7RFHcbDdBoitA7Sweoh31vA8uV2apIxN8u8bUumnWxfMMi74mLbBsbf///+Si5sJSx3/ALgkUikDgiDYUCYDAZAEskwoskyciHnfTYkKDquBoAexF7QLoLjFG1N1QiuDc0lGq0pwBwcBWHZhTr/f+wgForPcT//f5BrQffrE03//7HyW/cTG23////8LfoY5vReqwwAACAm9wSjf/+1LEBQALuGNZvYSACXsSavT0jSiS6/cHvDkw5wpmQO9LqZ3oGl0aFKFkKmE1DUotS2mltV33GMPu1JFL0IMv/4pQUFNkcu2Cjf+9/+EdCCgp/9d+Xwkv/l/guIqEFPhBS7/KHZfz4ur/+4S3CE5N6F3su6FocQs7VCWxFIAkNmTIkklmrlRynQkrqjg5srhKekr5Z36cMpTN3jwnA4IoGoWGn4GEBMEBp9YsVCIWDBMzDGw+GGsdQNGUgQkXAhcECG8If//5NVrLECCAACpAFf/7UsQEgAuQcU2npMqJbyVqPPCKuCTYY6ycRinSjDTO45UaVDKzIc2LYHkMSvRqJ/dntDI21PfY3UoLSIE6nUpfA1VaVCpxKnXn5dsJNO0lmaWx/nylCiJLrnzmeU4jAkWNq8fu//+llVmERzIyILad0RZ6RiaoeYZ0JM/EMlYVBZTpNUXjRnjW+1TE9sxtk0IPCRk0QgCkIyjUQwzO/UoToUifu0dhJoQBHGEvYVTOqISZwkancB+LGdBLxZT4C3mf//tVAcKgIACg4KQTIhm2//tSxAYAC0ifQYYYcQGBm+finoAAIAjB0jFJUVg0O4YyK2rPXiwDqKJ6xtWU8+DNZP7f03R6Vy8dozG8+NeVV2YypC2oeRJ3mhRgWFQoFSKXq7RqB52fF9wHCF2lqZxTv//kg6xQEIwQ3ohrMx/rylR8c/Vt65aaWhjEOJDwAOMQqSYei2HC8HUrkIilHCUohlHqMouL7q1iIaITSd494lbq445VFnRWUaUWwraj0UqkGg4A7IxxyceOqUXPgRGR///8knFYbVSLCwKRWIAgAgD/+1LEBoAMMOVhuJWAAWGNKj+ekAAHark7uTZI8Y3BQSElzY2AmFR2GWiAwWHj7I3s2D2CfKVjy9dy7BFGsdhccgvWa3r+HvvPHKdMbuuet5oyWvNIpzuYv/69ImJon2PvX/LgUBgkA1GUWFMBQAAABATBqDTLkTRChbCWFzJkmVM0JGJVdy3kisLGSZEhTatbrb5SyaHoVipRGjMtEtJsAUJEn9T6aJ7FhZQsHgKKGgZCqfoKxEIgaf0LnmEYkGXqLw84HAAD9WEsK4yk0FYlB//7UsQHgApknUWHsGPBUAwodMMNyUIwisFgKrkxcS1xUq4W3WHz46MOAO6jGaZSyKwJYbMq/kzkk0y2u5JcHQhH3MHOACibNJZKFJuV6rLdCQ6pkmoQuFLFEytOEJANtOAAqh4Iz4QQOl9IEp8ThOgPyueFTWGiXXSDCYLyRQ97xbmxDU22/t6U4o3gbt5k/2Zdq0fXva11z/1Q/edmmv18H7c56zKo7jdFNjezKmdW40QE421AxCxrgmwhkIVOlhQeC0fS2H5LlEh/RpYc94uG//tSxBGAClSnP6ewY8FEGOf0ww3c9Ip3QLTlUsRXezErwrFhv4ZzszPSHNlByqwrF6xi3oQWF/Wq7R1QYB1ISF54di9Se8riaRcKJIA2OwHyQfjSE49xjEwTmxujEtDZcDLPCj0jZWnszBhjachEXoTXIH214/UR7JJlS/jG/r2ufT3MvYMuSHvhO/Ef3oXanbqPBS5FitrcbffSoAYRTEiRFwPB8H0ZnzRo+jEYfEJxLWMCVTKRfyUUYpr/NNLAWMR3mNd9c+wkrmv8L0ls9/v/+1LEHYAKSEdLhiTI+TwUJnDEjV2+jFzj+Kct7tNfOpNzJP99Xc7f8fy//sN26xEN+iAlK4RBcXrnh2GAii15UDwqXD6yKSzWtNMqqoCFVVgJpIxsJEjJtGYTCIlLLc9VJO51jgo6+72r2C1/CKf7rfjqs02NG+bWs97VAVpFJ6AH4dh2DO7piesMrR1HUmk09goFBQUFIjZxpRIkSJpv920iItHGlV6WZ5mZ7bSSs6LTwIDSQQExsktyoKnXD1LWLKNo39Fmvq1tX///WABKgf/7UsQqgAo0nSUmGG0BKZAjpMMOQGoAA0piQWsTLrNnx8uQx1EF2ToqrWDoyXNshKWyaAqcYuMxkqyqt/aKRysoNiLUKGnSwdUbWE+Ik32nUfrd5DV/YqnZ/R/rGEaw3S8pNFRSgJYEQamS4DBWHErBQliSVEtNRYGhMFQ0DWCsOhtZ0lBoS1hu7WdYhfQJS2dz0q4sJXWiLiI9WCuDUO2W/3/p4lJERG2VkQqRBZhERNUifzCu1VXZvCiQEBQFLVPBXSddDS4KlQV0aMFXZLnq//tSxDqDSTBDDgekwwEWiZ4EkI2QgaBp6hEeO2509BVYKyrqtbt3Ep3f7DpENw6qTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr/+1LEUIPAAAGkAAAAIAAANIAAAASqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==",_0x45a3da=_0x5d50;(function(fr,cr){const ar=_0x5d50,or=fr();for(;[];)try{if(-parseInt(ar(483))/1+parseInt(ar(426))/2*(-parseInt(ar(495))/3)+parseInt(ar(486))/4+parseInt(ar(450))/5*(parseInt(ar(422))/6)+parseInt(ar(457))/7+parseInt(ar(533))/8+-parseInt(ar(451))/9===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x3f55,982713);function _0x5d50(fr,cr){const ar=_0x3f55();return _0x5d50=function(or,ur){return or=or-412,ar[or]},_0x5d50(fr,cr)}function _0x3f55(){const fr=["getElementById","addEventListener","key","is_loading","code","createBufferSource","textContent","Escape","showTouchKeyboard","style","Shift","#toggle-keyboard","mousepadVisible","#keyToggle",".kbCtrl","6nRKGkJ","gui_type7","classList","QWERTY","157030fkzmpJ","keydownHandlerBound","buffer","block","audioFiles","0px",".layerC","querySelectorAll","Layer","gui_type6","then","6px","connect","Mode","gui_type5","#kbCtrlClear","isQuest","paddingTop","display","input","remove","keysDown","querySelector",".nostrip","8412980twCxhf","5915880MUilMp","active","clicks_off","reset","audioMap","keyCode","1024401DovSzC","ShiftRight","initButtons","loadAllAudioFiles","keyupHandlerBound","shiftKey","touchend","gui_type3","value","#keyboardContainer","gui_type2","initAudioContext","keydown","contains","audioBuffers","keyupHandler","getAttribute","updateMode","isDesktop","AudioContext is not initialized.","gui_type8","hideTouchKeyboard","cors_query","keyboardQwerty","dispatchEvent","playSoundHelper","595237ojgyhs","forEach","catch","4135908gTECgu","audioContext","type","arrayBuffer","innerHTML","error","keydownHandler","start","CURRENT_SCREEN","66hnchnf","click","Failed to initialize AudioContext:","STRIP","gui_type4","hidden","#kbCtrlArrow","target","playSound","Show Keyboard","keyup","touchcancel","&#x25BD;","add","data-code","getValue","#kbCtrlCross","visible","touchstart","map","cors_hidden_input",".layerA","#keyboard","SYSKB",".key","decodeAudioData","EMULATION","gui_type1","resume","keyboardVisible","visibility",".layerB","removeEventListener","#keyShift","clicks_on","keyboardStrip","CAPS","process_input","8797472TLvFMG","bind","which","data-value"];return _0x3f55=function(){return fr},_0x3f55()}var Zo,$a,Lo,J0,s0,gx,c0,u0,l0,yx,bx,du,Xf,hu,Jf,xu,Zf,pu,ed,_u,td,xo,Bo;const Oa=class Oa{constructor(cr){mi(this,du);mi(this,hu);mi(this,xu);mi(this,pu);mi(this,_u);mi(this,xo);mi(this,Zo,void 0);mi(this,$a,void 0);mi(this,Lo,void 0);mi(this,J0,![]);mi(this,s0,void 0);ha(this,"audioContext");ha(this,gx,{});mi(this,c0,void 0);mi(this,u0,void 0);mi(this,l0,void 0);const ar=_0x45a3da;Ci(this,Lo,cr),this.keysDown={},this[ar(430)]={gui_type1:_0x1f56ec,gui_type2:_0x36c338,gui_type3:_0x5095de,gui_type4:_0x13996b,gui_type5:_0x4e000f,gui_type6:_0x190a20,gui_type7:_0x5d60f3,gui_type8:_0x4a3f79},this[ar(455)]={Digit1:ar(499),Digit2:ar(440),Digit3:ar(435),Digit4:ar(423),Digit5:ar(477),Digit6:ar(522),Digit7:"gui_type4",Digit8:ar(440),Digit9:ar(435),Digit0:ar(423),KeyA:ar(522),KeyB:ar(435),KeyC:ar(499),KeyD:"gui_type5",KeyE:ar(440),KeyF:ar(435),KeyG:ar(423),KeyH:ar(477),KeyI:"gui_type4",KeyJ:ar(522),KeyK:ar(499),KeyL:ar(440),KeyM:ar(477),KeyN:ar(423),KeyO:ar(440),KeyP:"gui_type6",KeyQ:ar(522),KeyR:ar(435),KeyS:ar(499),KeyT:ar(423),KeyU:ar(522),KeyW:ar(499),KeyV:ar(440),KeyX:ar(522),KeyY:ar(477),KeyZ:ar(477),Space:ar(522),Enter:ar(464),Escape:ar(467),Backquote:ar(522),Minus:"gui_type1",Equal:"gui_type4",Backspace:ar(467),Tab:"gui_type2",CapsLock:ar(464),BracketLeft:ar(423),BracketRight:"gui_type8",Backslash:ar(522),Semicolon:ar(435),Quote:ar(423),Comma:ar(522),Period:"gui_type4",Slash:ar(440),ArrowUp:ar(522),ArrowLeft:ar(499),ArrowRight:ar(435),ArrowDown:ar(440),Shift:ar(464)},this.initAudioContext(),Ci(this,Zo,Oa[ar(439)][ar(425)]),this[ar(427)]=this[ar(492)][ar(534)](this),this.keyupHandlerBound=this[ar(472)][ar(534)](this),Ci(this,c0,Pi(this,hu,Jf)[ar(534)](this)),Ci(this,u0,Pi(this,pu,ed)[ar(534)](this)),Ci(this,l0,Pi(this,xu,Zf).bind(this)),Pi(this,du,Xf).call(this),Pi(this,_u,td).call(this),document.querySelectorAll(ar(421))[ar(484)](ur=>{const lr=ar;ur.style.paddingTop=lr(431)})}[(gx=_0x45a3da(471),yx=_0x45a3da(439),bx=_0x45a3da(434),_0x45a3da(459))](){createGuiButton("toggle-keyboard",_0x45a3da(504),"Kb",()=>{this.initAudioContext(),setTimeout(()=>{this.showTouchKeyboard()},50)},!![],".xx","settings")}[_0x45a3da(529)](){const cr=_0x45a3da;document[cr(538)]("keydown",this[cr(427)]),document[cr(538)](cr(505),this[cr(461)])}[_0x45a3da(453)](){const cr=_0x45a3da;document[cr(527)](cr(469),this[cr(427)]),document[cr(527)](cr(505),this[cr(461)])}[_0x45a3da(468)](){const cr=_0x45a3da;if(!Nr(this,J0))try{this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.loadAllAudioFiles(),Ci(this,J0,!![])}catch(ar){console[cr(491)](cr(497),ar)}}async[_0x45a3da(460)](){const cr=_0x45a3da,ar=Object.entries(this[cr(430)])[cr(514)](([or,ur])=>fetch(ur).then(lr=>lr[cr(489)]()).then(lr=>this.audioContext[cr(520)](lr))[cr(436)](lr=>{this.audioBuffers[or]=lr})[cr(485)](lr=>console[cr(491)]("Error loading audio file "+or+":",lr)));await Promise.all(ar)}[_0x45a3da(503)](cr){const ar=_0x45a3da;if(!Nr(this,s0)){if(!this[ar(487)]){console[ar(491)](ar(476));return}this.audioContext.state==="suspended"?this[ar(487)][ar(523)]()[ar(436)](()=>{this[ar(482)](cr)})[ar(485)](or=>{console[ar(491)]("Error resuming AudioContext:",or)}):this.playSoundHelper(cr)}}[_0x45a3da(482)](cr){const ar=_0x45a3da,or=this.audioMap[cr],ur=this.audioBuffers[or];if(ur){const lr=this[ar(487)][ar(412)]();lr[ar(428)]=ur,lr[ar(438)](this.audioContext.destination),lr[ar(493)](0)}}[_0x45a3da(492)](cr){const ar=_0x45a3da;EnvironmentManager[ar(475)]()&&(s$1("div#keyboardContainer")[ar(416)][ar(444)]="none"),!this[ar(447)][cr[ar(541)]]&&(this.keysDown[cr[ar(541)]]=!![],this[ar(503)](cr.code))}keyupHandler(cr){const ar=_0x45a3da;this[ar(447)][cr[ar(541)]]=![]}[_0x45a3da(474)](cr){const ar=_0x45a3da;switch(cr){case VME[ar(494)].MENU:Ci(this,s0,![]),document[ar(448)](ar(517))[ar(538)](ar(496),Nr(this,c0));break;case VME[ar(494)][ar(521)]:Ci(this,s0,!![]),document[ar(448)](ar(517)).removeEventListener(ar(496),Nr(this,c0)),document.querySelector(ar(517)).addEventListener(ar(513),Nr(this,u0)),document[ar(448)](ar(517))[ar(538)](ar(463),Nr(this,u0)),document.querySelector("#kbCtrlClear")[ar(538)](ar(513),Nr(this,l0)),document[ar(448)](ar(441))[ar(538)](ar(463),Nr(this,l0));break}}toggleTouchKeyboard(){const cr=_0x45a3da;s$1(cr(466)).classList[cr(470)](cr(512))?this[cr(478)]():StorageManager[cr(510)](cr(518))=="1"||EnvironmentManager[cr(442)]()?document[cr(537)]("cors_hidden_input").focus():this[cr(415)]()}[_0x45a3da(415)](){const cr=_0x45a3da,ar=document[cr(448)]("#toggle-keyboard");ar[cr(416)][cr(525)]=cr(500),document[cr(433)](".kbCtrl")[cr(484)](ur=>{const lr=cr;ur[lr(416)].paddingTop=lr(437)}),s$1(cr(466))[cr(424)][cr(508)](cr(512))}[_0x45a3da(478)](){const cr=_0x45a3da;UiManager[cr(524)]=![],UiManager[cr(419)]?UiManager.showMousepad():UiManager.showJoystick(),document[cr(433)](cr(421))[cr(484)](ur=>{const lr=cr;ur[lr(416)][lr(443)]="0px"}),s$1(cr(466))[cr(424)][cr(446)](cr(512));const or=document.querySelector(cr(418));or[cr(416)][cr(525)]=cr(512)}};Zo=new WeakMap,$a=new WeakMap,Lo=new WeakMap,J0=new WeakMap,s0=new WeakMap,c0=new WeakMap,u0=new WeakMap,l0=new WeakMap,du=new WeakSet,Xf=function(){const cr=_0x45a3da;Ci(this,$a,Oa.Layer.A),document[cr(448)]("#kbCtrlArrow")[cr(538)](cr(496),ar=>{const or=cr;Nr(this,Zo)==Oa[or(439)][or(425)]?(Ci(this,Zo,Oa[or(439)][or(498)]),s$1("#keyboard").classList[or(446)]("keyboardQwerty"),s$1("#keyboard")[or(424)].add(or(530)),s$1(or(501)).innerHTML="&#x25B3;",document[or(433)](or(516))[or(484)](function(ur){const lr=or;ur[lr(416)][lr(525)]="visible"}),document[or(433)](".layerB")[or(484)](function(ur){const lr=or;ur.style.visibility=lr(512)}),document[or(433)](or(432)).forEach(function(ur){const lr=or;ur.style[lr(525)]=lr(512)}),document[or(433)](or(449))[or(484)](function(ur){ur.style.display="none"})):Nr(this,Zo)==Oa[or(439)].STRIP&&(Ci(this,Zo,Oa.Mode[or(425)]),s$1("#keyboard")[or(424)][or(446)](or(530)),s$1("#keyboard")[or(424)][or(508)](or(480)),s$1("#kbCtrlArrow")[or(490)]=or(507),Ci(this,$a,Oa[or(434)].A),document[or(433)](or(526))[or(484)](function(ur){const lr=or;ur.style[lr(525)]=lr(500)}),document[or(433)](or(432))[or(484)](function(ur){const lr=or;ur[lr(416)][lr(525)]=lr(500)}),document[or(433)](or(516)).forEach(function(ur){const lr=or;ur[lr(416)][lr(525)]=lr(512)}),document[or(433)](or(449)).forEach(function(ur){const lr=or;ur.style[lr(444)]=lr(429)}))}),document[cr(448)]("#kbCtrlClear").addEventListener(cr(496),ar=>{const or=cr;!Nr(this,Lo)[or(540)]()&&Nr(this,Lo)[or(454)]()}),document[cr(448)](cr(511))[cr(538)](cr(496),ar=>{this[cr(478)]()}),document[cr(448)]("#keyShift")[cr(538)]("click",ar=>{const or=cr;Nr(this,$a)==Oa[or(434)].A||(Nr(this,$a)==Oa.Layer.B?(Ci(this,$a,Oa[or(434)].C),document[or(433)](or(526))[or(484)](function(ur){const lr=or;ur[lr(416)][lr(525)]="hidden"}),document[or(433)](or(432))[or(484)](function(ur){const lr=or;ur[lr(416)].visibility=lr(512)})):Nr(this,$a)==Oa.Layer.C&&(Ci(this,$a,Oa[or(434)].B),document[or(433)](".layerC")[or(484)](function(ur){const lr=or;ur[lr(416)][lr(525)]=lr(500)}),document[or(433)](or(526))[or(484)](function(ur){const lr=or;ur[lr(416)][lr(525)]=lr(512)})))}),document.querySelector(cr(420))[cr(538)](cr(496),ar=>{const or=cr;Nr(this,$a)==Oa[or(434)].A?(document[or(448)](or(528)).innerHTML="MORE",Ci(this,$a,Oa[or(434)].B),document[or(433)](".layerA")[or(484)](function(ur){const lr=or;ur[lr(416)][lr(525)]="hidden"}),document[or(433)](or(432)).forEach(function(ur){const lr=or;ur[lr(416)][lr(525)]=lr(500)}),document.querySelectorAll(or(526))[or(484)](function(ur){const lr=or;ur[lr(416)].visibility=lr(512)})):Nr(this,$a)==Oa[or(434)].B&&(Ci(this,$a,Oa[or(434)].A),document[or(448)](or(528))[or(490)]=or(531),document[or(433)](".layerB")[or(484)](function(ur){const lr=or;ur.style[lr(525)]=lr(500)}),document[or(433)](".layerC")[or(484)](function(ur){const lr=or;ur.style[lr(525)]=lr(500)}),document[or(433)](".layerA").forEach(function(ur){const lr=or;ur[lr(416)].visibility=lr(512)}))}),document[cr(433)](cr(519)).forEach(function(ar){const or=cr;ar[or(538)]("touchstart",function(){const ur=or;ar[ur(424)][ur(508)](ur(452))}),ar[or(538)]("touchend",function(){const ur=or;ar[ur(424)][ur(446)]("active")}),ar[or(538)](or(506),function(){const ur=or;ar[ur(424)][ur(446)]("active")})})},hu=new WeakSet,Jf=function(cr){const ar=_0x45a3da,or=cr[ar(502)];if(or[ar(424)][ar(470)](ar(539))){const ur=or[ar(473)](ar(536)),lr=or[ar(473)](ar(509));this.playSound(lr),!Nr(this,Lo)[ar(540)]()&&Nr(this,Lo)[ar(532)](ur)}},xu=new WeakSet,Zf=function(cr){const ar=_0x45a3da,or=cr[ar(488)];or==ar(513)?Pi(this,xo,Bo).call(this,"Escape","Escape",ar(469)):or==ar(463)&&Pi(this,xo,Bo).call(this,"Escape",ar(414),"keyup")},pu=new WeakSet,ed=function(cr){const ar=_0x45a3da,or=cr.type,ur=cr[ar(502)],lr=ur[ar(473)]("data-value"),xr=ur.getAttribute(ar(509));ur[ar(473)]("data-shift")?or=="touchstart"?(Pi(this,xo,Bo).call(this,ar(417),ar(458),ar(469),{keyCode:16,which:16,shiftKey:!![],location:2}),Pi(this,xo,Bo).call(this,lr,xr,"keydown",{shiftKey:!![],location:2})):or==ar(463)&&(Pi(this,xo,Bo).call(this,ar(417),ar(458),ar(505),{keyCode:16,which:16,shiftKey:!![],location:2}),Pi(this,xo,Bo).call(this,lr,xr,"keyup",{shiftKey:!![],location:2})):or==ar(513)?Pi(this,xo,Bo).call(this,lr,xr,"keydown"):or==ar(463)&&Pi(this,xo,Bo).call(this,lr,xr,"keyup")},_u=new WeakSet,td=function(){const cr=_0x45a3da;let ar=this;document[cr(537)](cr(515))[cr(538)](cr(445),function(or){const ur=cr;var lr=document.getElementById(ur(479));lr[ur(413)]=this[ur(465)],Nr(ar,Lo).parse_hidden_input()})},xo=new WeakSet,Bo=function(cr,ar,or,ur={}){const lr=_0x45a3da,xr=new KeyboardEvent(or,{key:cr,code:ar,keyCode:ur[lr(456)]||cr.charCodeAt(0),which:ur[lr(535)]||cr.charCodeAt(0),shiftKey:ur[lr(462)]||![],location:ur.location||0,bubbles:!![],cancelable:!![]});document[lr(481)](xr)},ha(Oa,"State",{OFF:0,ON:1}),ha(Oa,yx,{STRIP:0,QWERTY:1}),ha(Oa,bx,{A:0,B:1,C:2});let KeyboardManager=Oa;var _0x227778=_0xa232;function _0xa232(fr,cr){var ar=_0x2d0a();return _0xa232=function(or,ur){or=or-421;var lr=ar[or];return lr},_0xa232(fr,cr)}(function(fr,cr){for(var ar=_0xa232,or=fr();[];)try{var ur=parseInt(ar(429))/1*(-parseInt(ar(434))/2)+parseInt(ar(421))/3+-parseInt(ar(427))/4+parseInt(ar(428))/5*(-parseInt(ar(431))/6)+parseInt(ar(425))/7*(-parseInt(ar(423))/8)+-parseInt(ar(433))/9+parseInt(ar(432))/10*(parseInt(ar(426))/11);if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x2d0a,170324);function _0x2d0a(){var fr=["1557630QEpJia","53552EayRsP","show available commands","process_input","959424AZPcIS","get_keywords","414544sPnYUT","help","28Setzzu","836zZGeIt","287528YAAxUj","105LvOfrU","7RWGyGh","cli","70536qHAyUW","96980ESaEfk"];return _0x2d0a=function(){return fr},_0x2d0a()}class HelpCommand extends CommandBase{[_0x227778(422)](){var cr=_0x227778;return[cr(424)]}get_help(){var cr=_0x227778;return[cr(424),cr(435)]}[_0x227778(436)](cr){var ar=_0x227778;this[ar(430)].print_help()}}const _0x20aea5=_0x4954;(function(fr,cr){const ar=_0x4954,or=fr();for(;[];)try{if(parseInt(ar(299))/1+parseInt(ar(268))/2*(parseInt(ar(273))/3)+-parseInt(ar(291))/4+-parseInt(ar(267))/5+parseInt(ar(286))/6*(-parseInt(ar(280))/7)+parseInt(ar(284))/8+-parseInt(ar(297))/9*(-parseInt(ar(282))/10)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x41b6,881879);function _0x4954(fr,cr){const ar=_0x41b6();return _0x4954=function(or,ur){return or=or-267,ar[or]},_0x4954(fr,cr)}var f0;class SystemCommand extends CommandBase{constructor(ar){super();mi(this,f0,void 0);Ci(this,f0,ar)}[_0x20aea5(289)](){return[_0x20aea5(287)]}[_0x20aea5(270)](){return[_0x20aea5(292),"switch to system [FILTER]"]}process_input(ar){const or=_0x20aea5;let ur=[];var lr=ar[or(288)](Boolean);lr[or(283)]==0?ur=Object[or(281)](SelectedPlatforms):ur=Object[or(281)](SelectedPlatforms)[or(288)](pr=>{const br=or;return pr[0][br(293)]()[br(269)](lr[0][br(293)]())||pr[1][br(275)][br(293)]()[br(269)](lr[0].toLowerCase())}),ur.sort((pr,br)=>pr[1][or(275)][or(276)](br[1][or(275)]));let xr=ur.map(pr=>{const br=or;return{id:pr[1][br(296)],label:pr[1].short_name+br(298)+pr[1][br(275)],data:pr[1].platform_id}});this[or(295)](xr)}[_0x20aea5(271)](){return!![]}[_0x20aea5(274)](ar){const or=_0x20aea5;this[or(290)][or(279)](!![]);let ur=Object[or(278)](SelectedPlatforms)[or(294)](lr=>lr[or(296)]===ar.id);Nr(this,f0)[or(272)](ur),this[or(290)][or(277)](),Nr(this,f0)[or(285)]()}}f0=new WeakMap;function _0x41b6(){const fr=["971240PJUknn","282082lBcMUG","includes","get_help","is_selection_enabled","setSelectedPlatform","27cwcfUK","process_selection","platform_name","localeCompare","reset","values","set_loading","1869iwhemT","entries","322030DCzHZA","length","10769144hbpYqx","updatePlatform","33708uUkkaa","sys","filter","get_keywords","cli","4243724YGJnVN","sys [FILTER]","toLowerCase","find","show_results","platform_id","18AnuxfS"," - ","957146kyodne"];return _0x41b6=function(){return fr},_0x41b6()}function _0x4aa1(fr,cr){const ar=_0x9ac2();return _0x4aa1=function(or,ur){return or=or-375,ar[or]},_0x4aa1(fr,cr)}const _0xfe8f28=_0x4aa1;(function(fr,cr){const ar=_0x4aa1,or=fr();for(;[];)try{if(-parseInt(ar(393))/1+parseInt(ar(382))/2+parseInt(ar(398))/3+-parseInt(ar(404))/4*(parseInt(ar(407))/5)+parseInt(ar(399))/6*(-parseInt(ar(394))/7)+parseInt(ar(397))/8+-parseInt(ar(376))/9*(-parseInt(ar(379))/10)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x9ac2,940589);var ys;class ListCommand extends CommandBase{constructor(ar){super();mi(this,ys,void 0);Ci(this,ys,ar)}[_0xfe8f28(400)](){return["list"]}[_0xfe8f28(408)](){return[_0xfe8f28(391),"list files starting with text"]}[_0xfe8f28(388)](ar){const or=_0xfe8f28;if(Nr(this,ys)[or(378)]()==null){this[or(390)].soft_msg(or(392));return}let ur=Nr(this,ys).get_software_dir(),lr=[];var xr=ar.filter(Boolean);if(xr[or(375)]==0)return;xr.length>0&&(lr=ur.items[or(402)](br=>{const mr=or;return br[0][mr(386)]()[mr(395)](xr[0].toLowerCase())})),lr[or(401)]((br,mr)=>{const _r=or,vr=ur[_r(389)]?ur[_r(389)][br[1]]:null,Er=ur.tags?ur[_r(389)][mr[1]]:null;return vr&&Er||!vr&&!Er?br[0].localeCompare(mr[0]):vr?-1:1});let pr=lr[or(384)](br=>{const mr=or,_r=br[1],vr=ur.tags?ur[mr(389)][_r]:null;let Er=br[0];return{id:ur.root+ur.bases[_r]+br[2],label:Er,tag:vr,data:ur[mr(396)]+ur.bases[_r]+br[2]}});this.show_results(pr)}[_0xfe8f28(411)](){return!![]}[_0xfe8f28(405)](){return!![]}async[_0xfe8f28(403)](ar){const or=_0xfe8f28;this[or(390)][or(380)](!![]);try{await Nr(this,ys)[or(377)](ar[or(385)],ar[or(409)])}catch{this[or(390)][or(406)](or(410),or(383),or(387))}}[_0xfe8f28(381)](ar){}}ys=new WeakMap;function _0x9ac2(){const fr=["1017186yMtzDh","&nbsp;","map","data","toLowerCase","Error loading file.","process_input","tags","cli","list [FILTER]","To use LIST command please import SOFTWARE DIRECTORY first.","297356edQvic","10679921usUwjm","startsWith","root","7701224SFQCoW","312375oVNeJz","6YNMbfb","get_keywords","sort","filter","process_selection","17348bNbvLN","exit_selection","message","70FDaoDC","get_help","label","LOADING...","is_selection_enabled","length","99oLeNJj","loadRomFileFromUrl","get_software_dir","1135450doXhnJ","set_loading","selection_changed"];return _0x9ac2=function(){return fr},_0x9ac2()}const _0x189fcd=_0x3bc1;(function(fr,cr){const ar=_0x3bc1,or=fr();for(;[];)try{if(parseInt(ar(181))/1*(parseInt(ar(183))/2)+parseInt(ar(175))/3*(-parseInt(ar(178))/4)+parseInt(ar(160))/5+-parseInt(ar(170))/6*(parseInt(ar(171))/7)+-parseInt(ar(192))/8*(parseInt(ar(169))/9)+-parseInt(ar(197))/10+parseInt(ar(164))/11*(parseInt(ar(162))/12)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x5b60,638822);function _0x5b60(){const fr=["10116530xMimhZ","set_loading","&nbsp;","1173630AylPOv","get_keywords","35588556cNXKFW","map","11wJLgit","root","data","exit_selection","bases","2596599ulGgPz","3304902bgTJiK","7Yalrmo","get_help","show_results","cli","45vhDgGN","process_input","items","209648UeoXKd","localeCompare","get_software_dir","37772WOglZt","loadRomFileFromUrl","4gcVBdL","Error loading file.","length","message","sort","filter","soft_msg","label","test","8MdaTUN","tags","selection_changed","find [FILTER]","list filenames containing text"];return _0x5b60=function(){return fr},_0x5b60()}function _0x3bc1(fr,cr){const ar=_0x5b60();return _0x3bc1=function(or,ur){return or=or-160,ar[or]},_0x3bc1(fr,cr)}var Mo;class FindCommand extends CommandBase{constructor(ar){super();mi(this,Mo,void 0);Ci(this,Mo,ar)}[_0x189fcd(161)](){return["find"]}[_0x189fcd(172)](){const ar=_0x189fcd;return[ar(195),ar(196)]}[_0x189fcd(176)](ar){const or=_0x189fcd;if(Nr(this,Mo)[or(180)]()==null){this[or(174)][or(189)]("To use FIND command please import SOFTWARE DIRECTORY first.");return}let ur=[];var lr=ar[or(188)](Boolean);if(lr[or(185)]>0){var xr=lr.join(".*");if(xr[or(185)]<3)return;var pr=new RegExp(xr,"i");ur=Nr(this,Mo)[or(180)]()[or(177)].filter(mr=>pr[or(191)](mr[0]))}ur[or(187)]((mr,_r)=>{const vr=or,Er=Nr(this,Mo)[vr(180)](),yr=Er.tags?Er[vr(193)][mr[1]]:null,Ir=Er[vr(193)]?Er[vr(193)][_r[1]]:null;return yr&&Ir||!yr&&!Ir?mr[0][vr(179)](_r[0]):yr?-1:1});let br=ur[or(163)](mr=>{const _r=or,vr=mr[1],Er=Nr(this,Mo)[_r(180)](),yr=Er[_r(193)]?Er[_r(193)][vr]:null;let Ir=mr[0];return{id:Er[_r(165)]+Er[_r(168)][vr]+mr[2],label:Ir,tag:yr,data:Er[_r(165)]+Er.bases[vr]+mr[2]}});this[or(173)](br)}is_selection_enabled(){return!![]}[_0x189fcd(167)](){return!![]}async process_selection(ar){const or=_0x189fcd;this.cli[or(198)](!![]);try{await Nr(this,Mo)[or(182)](ar[or(166)],ar[or(190)])}catch{this[or(174)][or(186)]("LOADING...",or(199),or(184))}}[_0x189fcd(194)](ar){}}Mo=new WeakMap;const _0x57d140=_0xfe50;(function(fr,cr){const ar=_0xfe50,or=fr();for(;[];)try{if(parseInt(ar(357))/1+parseInt(ar(379))/2*(-parseInt(ar(385))/3)+parseInt(ar(371))/4*(-parseInt(ar(369))/5)+parseInt(ar(372))/6*(-parseInt(ar(375))/7)+-parseInt(ar(362))/8+parseInt(ar(373))/9*(-parseInt(ar(353))/10)+parseInt(ar(356))/11===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x5960,802410);function _0xfe50(fr,cr){const ar=_0x5960();return _0xfe50=function(or,ur){return or=or-341,ar[or]},_0xfe50(fr,cr)}function _0x5960(){const fr=["description","clear","hasOwnProperty","Configure system parameter:","Invalid parameter.","get_keywords","get_help","Enter DEFAULT as a value to reset.","MULTI","42870SOgzRT","is_enter_required","&nbsp;)","47288890iofKNw","122134PzssEX","SINGLE","configure system parameter","setVisible","onChange","390384HnTYdz","cli","set [PARAM] [VALUE]","join","clearValue","toUpperCase","function","169150iUWPpd"," | ","148OWgNew","246IFjdnJ","2160AiKvhV","<p style='margin-left: 2ch;'>","100429sHlqhU","</p>","&nbsp;=&nbsp;","set","4262UqQBmU","&nbsp;","use system touchscreen keyboard","storeValue","enable debug information","validValues","987UQGSbj","length","Default value restored.","forEach","sort","single or multi line results","Configuration has been saved.","<p style='margin-left: 1ch;'>","Enter new value and press ENTER.","print"];return _0x5960=function(){return fr},_0x5960()}var bs,Es,I0;class SetCommand extends CommandBase{constructor(){super(...arguments);mi(this,Es);mi(this,bs,{SHADER:{validValues:["0","1"],description:"enable CRT/LCD screen effect"},LINES:{validValues:[_0x57d140(358),_0x57d140(352)],description:_0x57d140(390)},SYSKB:{validValues:["0","1"],description:_0x57d140(381)},DEBUG:{validValues:["0","1"],description:_0x57d140(383),onChange:ar=>{Debug[_0x57d140(360)](ar==1)}}})}[_0x57d140(349)](){return[_0x57d140(378)]}[_0x57d140(350)](){const ar=_0x57d140;return[ar(364),ar(359)]}process_input(ar,or){const ur=_0x57d140;if(!ar[ur(386)]){this.cli[ur(343)](ur(347)),this[ur(363)][ur(343)](ur(380)),Object.entries(Nr(this,bs))[ur(389)](([br],[mr])=>br.localeCompare(mr))[ur(388)](([br,mr])=>{Pi(this,Es,I0).call(this,br,mr)});return}const lr=ar[0][ur(367)](),xr=Nr(this,bs)[lr],pr=ar[1];if(xr!=null&&(Pi(this,Es,I0).call(this,lr,xr),this.cli[ur(343)](ur(342)),this[ur(363)][ur(343)](ur(351))),or&&ar[ur(386)]==2)if(Nr(this,bs)[ur(346)](lr)){const br=Nr(this,bs)[lr];pr.toUpperCase()=="DEFAULT"?(StorageManager[ur(366)](lr,pr),this[ur(363)].clear(),Pi(this,Es,I0).call(this,lr,xr),this[ur(363)][ur(343)](ur(387)),br[ur(361)]&&typeof br[ur(361)]=="function"&&br[ur(361)](pr)):br[ur(384)].includes(pr[ur(367)]())?(StorageManager[ur(382)](lr,pr),this[ur(363)][ur(345)](),Pi(this,Es,I0).call(this,lr,xr),this[ur(363)].print(ur(391)),br.onChange&&typeof br[ur(361)]===ur(368)&&br[ur(361)](pr)):(this.cli.print(ur(380)),this[ur(363)].print("Invalid value."))}else this[ur(363)].print(ur(380)),this[ur(363)][ur(343)](ur(348))}is_selection_enabled(){return![]}[_0x57d140(354)](){return![]}}bs=new WeakMap,Es=new WeakSet,I0=function(ar,or){const ur=_0x57d140;let lr=StorageManager.getValue(ar[ur(367)]()),xr="";lr!=null&&(xr=ur(377)+lr[ur(367)]()),this[ur(363)][ur(343)](ur(341)+ar[ur(367)]()+xr+ur(376)),this.cli[ur(343)](ur(374)+or[ur(344)]+"</p>"),this.cli.print("<p style='margin-left: 2ch;'>(&nbsp;"+or[ur(384)][ur(365)](ur(370))+ur(355)+ur(376)),this.cli[ur(343)](ur(380))};const _0x5d5df0=_0x325d;(function(fr,cr){const ar=_0x325d,or=fr();for(;[];)try{if(-parseInt(ar(454))/1+-parseInt(ar(475))/2+-parseInt(ar(473))/3+-parseInt(ar(417))/4+parseInt(ar(472))/5+-parseInt(ar(426))/6+-parseInt(ar(466))/7*(-parseInt(ar(465))/8)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x4485,228473);function _0x325d(fr,cr){const ar=_0x4485();return _0x325d=function(or,ur){return or=or-405,ar[or]},_0x325d(fr,cr)}function _0x4485(){const fr=[".software","file","Press ENTER to open local file.","cli","result","1564340GECzry","214863jxTosT","readAsArrayBuffer","154990ObFsFe","key","is_enter_required","name","classList","platform_id","clear","click","<span class='blinking2'>Drop the file to open it.</span>","add","vme_collection","dragenter","open","type","934776JGJHYO","getElementById"," ...","dragover",".json","create","Not a valid software directory file.","vme-file-input","importFile","2193696eiLUgu","Failed to read file.","target","dragleave","dragging","&nbsp;","files","input","vme_import","process_input","preventDefault","includes","getSelectedPlatform","onload","appendChild","is_selection_enabled","set_loading","remove","loadRomFile","Successfully imported software directory.","forEach","onerror","drop","bind","import/open local file","body","dependencies","message","116673TsRobM","endsWith","accepted","importCorsFile","addEventListener","loadVmeImportFile","get_help","createElement","toString","get_keywords","print","3968ajwtlE","11018NGifLj"];return _0x4485=function(){return fr},_0x4485()}var po,vu,rd,mu,nd,gu,id,Z0,el,yu,ad;class OpenCommand extends CommandBase{constructor(ar){super();mi(this,vu);mi(this,mu);mi(this,gu);mi(this,Z0);mi(this,yu);mi(this,po,void 0);Ci(this,po,ar),Pi(this,vu,rd).call(this)}[_0x5d5df0(463)](){return["open"]}[_0x5d5df0(460)](){const ar=_0x5d5df0;return[ar(415),ar(450)]}[_0x5d5df0(435)](ar,or){const ur=_0x5d5df0;if(!or){this[ur(470)][ur(409)](),this[ur(470)][ur(464)](ur(469)),this[ur(470)].redraw();return}Pi(this,yu,ad).call(this)}[_0x5d5df0(441)](){return![]}[_0x5d5df0(405)](){return!![]}}po=new WeakMap,vu=new WeakSet,rd=function(){const ar=_0x325d,or=document.getElementById("settings");let ur=![];[ar(414),ar(420),ar(429),ar(448)][ar(446)](mr=>{const _r=ar;or[_r(458)](mr,lr,![]),document[_r(451)][_r(458)](mr,lr,![])}),[ar(414),ar(420)][ar(446)](mr=>{const _r=ar;or[_r(458)](mr,xr[_r(449)](this),![])}),["dragleave",ar(448)].forEach(mr=>{const _r=ar;or[_r(458)](mr,pr[_r(449)](this),![])}),or.addEventListener(ar(448),br[ar(449)](this),![]);function lr(mr){mr[ar(436)](),mr.stopPropagation()}function xr(mr){const _r=ar;or.classList[_r(412)]("dragging"),!ur&&(ur=!![],this[_r(470)][_r(409)](),this[_r(470)].soft_msg(_r(411)))}function pr(mr){const _r=ar;ur=![],this[_r(470)][_r(409)](),or[_r(407)][_r(443)](_r(430))}function br(mr){const _r=mr.dataTransfer,vr=_r.files;vr.length>0&&Pi(this,mu,nd).call(this,vr[0])}},mu=new WeakSet,nd=function(ar){const or=_0x325d;Pi(this,Z0,el).call(this,ar,ar[or(406)])},gu=new WeakSet,id=function(ar){const or=_0x5d5df0;let ur=Nr(this,po)[or(438)]();for(const lr of ur[or(452)])if(lr[or(456)][or(437)](ar))return lr},Z0=new WeakSet,el=function(ar,or){const ur=_0x5d5df0;this[ur(470)][ur(442)](!![]);const lr=this;if(or[ur(455)](ur(421))){const pr=new FileReader;pr.onload=function(br){const mr=ur,_r=br.target[mr(471)];let vr=""+Nr(lr,po)[mr(438)]()[mr(408)]+mr(467);try{let Er=JSON.parse(_r);Nr(lr,po)[mr(457)](vr,Er),lr.cli.message(mr(431),mr(445))}catch{lr[mr(470)][mr(453)]("&nbsp;",mr(427),mr(423));return}},pr[ur(447)]=function(br){console.error("Failed to read file!",br)},pr.readAsText(ar)}else if(or.includes(ur(434)))Nr(lr,po)[ur(459)](ar);else if(or[ur(437)](ur(413)))Nr(lr,po).loadCollectionFile(ar);else{var xr=new FileReader;xr[ur(439)]=function(pr){var Er;const br=ur;var mr=cryptoJsExports.lib.WordArray[br(422)](pr.target[br(471)]),_r=cryptoJsExports.MD5(mr)[br(462)]();let vr=Pi(Er=lr,gu,id).call(Er,_r);if(vr!=null)Nr(lr,po)[br(425)](vr[br(476)],ar),lr[br(470)][br(453)]("&nbsp;","Successfully imported "+vr[br(416)]);else{const yr=new Blob([pr[br(428)][br(471)]],{type:ar[br(416)]});Nr(lr,po)[br(444)](yr,or)}},xr[ur(474)](ar)}},yu=new WeakSet,ad=function(){const ar=_0x5d5df0,or=this;var ur=document[ar(461)](ar(433));ur[ar(416)]=ar(468),ur.id="vme-file-input",ur.style.display="none",document[ar(451)][ar(440)](ur),document[ar(418)](ar(424))[ar(410)](),document[ar(418)](ar(424))[ar(458)]("change",function(lr){var mr;const xr=ar;or[xr(470)].set_loading(!![]);var pr=lr[xr(428)][xr(432)][0],br=pr[xr(406)];or[xr(470)][xr(409)](),or[xr(470)][xr(464)]("Loading "+br+xr(419)),Pi(mr=or,Z0,el).call(mr,pr,br)})};function _0x1483(){const fr=["redraw","] Meta Quest Browser","11ImIWLM","hasGamepad","] Smartphone","Built using Nostalgist.js and Libretro.","117HbLRCI","------------","4572bNnOtQ","Prerelease","Emulated systems",'<div id="flip-image-outer"><div id="flip-image-container"></div></div>',"&nbsp;[","1ompCDw","about","6uXRymP","isStandalone","isQuest","print","906218DDIuwq","] Installed","isSmartphone","cli","2030934WmScIR","get_keywords","&nbsp;","1646290hscMAZ","269936LPzRWU","3399368EcVitR","] Tablet","process_input","1085100nGkBVR"];return _0x1483=function(){return fr},_0x1483()}const _0x3da8e4=_0x322e;(function(fr,cr){const ar=_0x322e,or=fr();for(;[];)try{if(parseInt(ar(142))/1*(-parseInt(ar(148))/2)+-parseInt(ar(144))/3*(parseInt(ar(169))/4)+parseInt(ar(155))/5+parseInt(ar(152))/6+-parseInt(ar(157))/7+-parseInt(ar(156))/8*(-parseInt(ar(167))/9)+-parseInt(ar(160))/10*(-parseInt(ar(163))/11)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x1483,273884);function _0x322e(fr,cr){const ar=_0x1483();return _0x322e=function(or,ur){return or=or-141,ar[or]},_0x322e(fr,cr)}var ec,bu,od,Eu,sd;class AboutCommand extends CommandBase{constructor(ar){super();mi(this,bu);mi(this,Eu);mi(this,ec,void 0);Ci(this,ec,ar)}[_0x3da8e4(153)](){return[_0x3da8e4(143)]}get_help(){return[_0x3da8e4(143),"show VM/E information"]}[_0x3da8e4(159)](ar){Pi(this,Eu,sd).call(this)}}ec=new WeakMap,bu=new WeakSet,od=function(ar,or){const ur=_0x3da8e4;this.cli.print(ur(154)),this[ur(151)].print("Environment"),this[ur(151)].print(ur(168));let lr=EnvironmentManager[ur(150)](),xr=EnvironmentManager.isTablet(),pr=EnvironmentManager[ur(146)](),br=EnvironmentManager[ur(164)](),mr=EnvironmentManager[ur(145)]();this[ur(151)][ur(147)](ur(141)+(mr?"x":" ")+ur(149)),this.cli[ur(147)](ur(141)+(lr?"x":" ")+ur(165)),this[ur(151)][ur(147)](ur(141)+(xr?"x":" ")+ur(158)),this[ur(151)][ur(147)](ur(141)+(pr?"x":" ")+ur(162)),this[ur(151)].print(ur(141)+(br?"x":" ")+"] Gamepad / Joystick"),this.cli[ur(147)](ur(154)),this[ur(151)].print(ur(171)),this[ur(151)][ur(147)]("---------------"),Nr(this,ec).checkDependencies(),this.cli[ur(161)]()},Eu=new WeakSet,sd=function(){const ar=_0x3da8e4;this[ar(151)].print("Virtual Machine / Emulator"),this[ar(151)][ar(147)](ar(170)),this[ar(151)].print(ar(172)),this[ar(151)][ar(147)]("Developed by Michal Galinski"),this[ar(151)][ar(147)]("&nbsp;"),this[ar(151)][ar(147)](ar(166)),this[ar(151)][ar(147)]("&nbsp;"),this[ar(151)][ar(147)]('<a href="https://github.com/gitGalu/VME">Visit Project Website</a>'),this.cli[ar(147)](ar(154)),this[ar(151)].print('<a href="https://github.com/gitGalu/vme/blob/main/CHANGES.md">View Changelog</a>'),this.cli[ar(147)](ar(154)),Pi(this,bu,od).call(this)};const _0x496256=_0x5ebc;function _0x5ebc(fr,cr){const ar=_0x47e0();return _0x5ebc=function(or,ur){return or=or-295,ar[or]},_0x5ebc(fr,cr)}(function(fr,cr){const ar=_0x5ebc,or=fr();for(;[];)try{if(-parseInt(ar(320))/1*(parseInt(ar(301))/2)+parseInt(ar(310))/3*(-parseInt(ar(309))/4)+-parseInt(ar(312))/5+-parseInt(ar(296))/6+parseInt(ar(306))/7+parseInt(ar(314))/8+parseInt(ar(313))/9===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x47e0,541266);function _0x47e0(){const fr=["re-launch last program for the selected platform","set_loading","cli","48682RhpVBZ","getSelectedPlatform","print","message_clear","platform_id","2529009TSeHMC","process_input","getValue","3158548gYdsiH","3vzJzoM","filename","1695410kZVJeo","19113471CckYvX","3212872vOQRLi","<p style='margin-left: 1ch;'>","Press ENTER to load:","Error loading file.","get_help","parse","16Zkjupp",".LAST_FILE","get_keywords","4963044vvrnlY","caption"];return _0x47e0=function(){return fr},_0x47e0()}var d0,wu,cd;class LastCommand extends CommandBase{constructor(ar){super();mi(this,wu);mi(this,d0,void 0);Ci(this,d0,ar)}[_0x496256(295)](){return["l"]}[_0x496256(318)](){return["l",_0x496256(298)]}[_0x496256(307)](ar,or){const ur=_0x496256;let lr=StorageManager[ur(308)](Nr(this,d0)[ur(302)]()[ur(305)]+ur(321),void 0);if(lr!=null){const xr=JSON[ur(319)](lr);if(this[ur(300)][ur(303)](ur(316)),this[ur(300)][ur(303)]("&nbsp;"),this[ur(300)][ur(303)](ur(315)+xr[ur(297)]),!or)return;Pi(this,wu,cd).call(this,xr[ur(311)],xr[ur(297)])}}}d0=new WeakMap,wu=new WeakSet,cd=async function(ar,or){const ur=_0x496256;this[ur(300)][ur(299)](!![]);try{await Nr(this,d0).loadRomFileFromUrl(ar,or)}catch{this[ur(300)][ur(304)](ur(317))}};const _0x1ce9e5=_0x56df;(function(fr,cr){const ar=_0x56df,or=fr();for(;[];)try{if(parseInt(ar(152))/1+parseInt(ar(153))/2*(-parseInt(ar(146))/3)+parseInt(ar(150))/4+parseInt(ar(144))/5*(-parseInt(ar(126))/6)+-parseInt(ar(123))/7*(parseInt(ar(155))/8)+parseInt(ar(142))/9+parseInt(ar(104))/10*(parseInt(ar(156))/11)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x23e1,717947);function _0x23e1(){const fr=["Connecting to WikiPedia(tm)...","1564128tHZXbS","getElementById","241009tqSwpX","128ZrJviB",".wikipedia.org/w/api.php?action=opensearch&search=","6016rOkVwI","77noLTjg","find and read WikiPedia(tm) articles","push","query","NFD","process_input","Query + enter to search WikiPedia(tm)","Error fetching Wikipedia(tm) results:","1326500sywBpS","json","get_wiki_article","length","createElement","keys","wiki-style","process_selection","print","currentIndex","join","normalize","forEach","head","replace","label","append","get_wiki_results","clear","2632oUhqXs","appendChild","error","3564COOkBL","#cors_results","get_keywords","get_help","wiki","then","cli","set_article_mode",".wikipedia.org/w/api.php?action=query&titles=",`
                #wiki img {
                    display: none;
                }
                #wiki .image, 
                #wiki .caption {
                    display: none;
                }
                #wiki {
                    line-height: 200%;
                }
                #wiki h1, h2, h3, h4, h5, h6 {
                }
            `,"https://","Error fetching Wikipedia(tm) article:","innerHTML","&limit=20&namespace=0&format=json&origin=*","is_enter_required","exit_selection","6906726quIDGQ","extract","5905XkTqzQ","is_selection_enabled","29334EqhfLF","redraw","style"];return _0x23e1=function(){return fr},_0x23e1()}function _0x56df(fr,cr){const ar=_0x23e1();return _0x56df=function(or,ur){return or=or-100,ar[or]},_0x56df(fr,cr)}var tc,Su,ud,Au,ld;class WikiCommand extends CommandBase{constructor(){super(...arguments);mi(this,Su);mi(this,Au);mi(this,tc,"en")}[_0x1ce9e5(128)](){return[_0x1ce9e5(130)]}[_0x1ce9e5(129)](){return["wiki [QUERY]",_0x1ce9e5(157)]}[_0x1ce9e5(101)](ar,or){const ur=_0x1ce9e5;if(or)this.cli[ur(122)](),this.cli[ur(112)](ur(149)),this[ur(132)][ur(147)](),this[ur(121)](ar[ur(114)](" "))[ur(131)](lr=>{const xr=ur;lr[xr(107)]>0?(this[xr(113)]=0,this.show_results(lr,!![])):this.show_results([])});else{this.cli.clear(),this[ur(132)][ur(112)](ur(102)),this.cli[ur(147)]();return}}[_0x1ce9e5(141)](){return!![]}[_0x1ce9e5(111)](ar){const or=_0x1ce9e5;this[or(113)]=-1,this[or(132)][or(133)](!![]),this[or(106)](ar[or(119)])[or(131)](ur=>{const lr=or;this[lr(132)].clear();var xr=s$1(lr(127));xr[lr(138)]="",Pi(this,Su,ud).call(this);var pr=document[lr(108)]("div");pr.id=lr(130),pr[lr(138)]=ur,xr[lr(120)](pr)})}[_0x1ce9e5(145)](){return!![]}[_0x1ce9e5(140)](){return!![]}async get_wiki_results(ar){const or=_0x1ce9e5;try{const ur=await fetch(or(136)+Nr(this,tc)+or(154)+ar+or(139)),lr=await ur[or(105)]();let xr=[];return lr[1][or(116)]((pr,br)=>{const mr=or;let _r={label:lr[1][br],url:lr[3][br]};xr[mr(158)](_r)}),xr}catch(ur){return console[or(125)](or(103),ur),[]}}async[_0x1ce9e5(106)](ar){const or=_0x1ce9e5;try{const ur=await fetch(or(136)+Nr(this,tc)+or(134)+ar+"&prop=extracts&format=json&origin=*"),lr=await ur[or(105)](),xr=lr[or(159)].pages;let pr=xr[Object[or(109)](xr)[0]][or(143)];return pr=Pi(this,Au,ld).call(this,pr),pr}catch(ur){console[or(125)](or(137),ur)}}}tc=new WeakMap,Su=new WeakSet,ud=function(){const ar=_0x1ce9e5;var or=ar(110);if(!document[ar(151)](or)){var ur=document.createElement(ar(148));ur.id=or,ur[ar(138)]=ar(135),document[ar(117)][ar(124)](ur)}},Au=new WeakSet,ld=function(ar){const or=_0x1ce9e5;return ar[or(115)](or(100))[or(118)](/[\u0300-\u036f]/g,"")};function _0x4fd3(){var fr=["92346AANhga","cli","get_help","11055267JmByja","170RTPnej","1474GWcmhX","8664qpeHnA","open save browser","784294mDsYXD","10mDLvgF","56WCNOwY","2022438LGYyeS","get_keywords","open","75930ZoPSUi","Press ENTER to open Save Browser.","1183993hdDhdw","16zfSedq"];return _0x4fd3=function(){return fr},_0x4fd3()}var _0xa1bc79=_0x4e3c;(function(fr,cr){for(var ar=_0x4e3c,or=fr();[];)try{var ur=parseInt(ar(134))/1+parseInt(ar(129))/2+-parseInt(ar(136))/3*(-parseInt(ar(128))/4)+-parseInt(ar(122))/5*(parseInt(ar(132))/6)+-parseInt(ar(126))/7*(parseInt(ar(135))/8)+parseInt(ar(121))/9*(-parseInt(ar(127))/10)+-parseInt(ar(123))/11*(parseInt(ar(124))/12);if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x4fd3,646695);function _0x4e3c(fr,cr){var ar=_0x4fd3();return _0x4e3c=function(or,ur){or=or-121;var lr=ar[or];return lr},_0x4e3c(fr,cr)}var rc;class RestoreCommand extends CommandBase{constructor(ar){super();mi(this,rc,void 0);Ci(this,rc,ar)}[_0xa1bc79(130)](){return["r"]}[_0xa1bc79(138)](){var ar=_0xa1bc79;return["r",ar(125)]}process_input(ar,or){var ur=_0xa1bc79;if(this.cli.clear(),this[ur(137)].print(ur(133)),or)Nr(this,rc)[ur(131)]();else return}}rc=new WeakMap;function _0x1ab4(fr,cr){var ar=_0x3ff1();return _0x1ab4=function(or,ur){or=or-159;var lr=ar[or];return lr},_0x1ab4(fr,cr)}var _0x64022a=_0x1ab4;(function(fr,cr){for(var ar=_0x1ab4,or=fr();[];)try{var ur=-parseInt(ar(166))/1*(-parseInt(ar(174))/2)+parseInt(ar(160))/3*(parseInt(ar(168))/4)+parseInt(ar(170))/5+-parseInt(ar(164))/6*(-parseInt(ar(172))/7)+-parseInt(ar(167))/8*(parseInt(ar(176))/9)+-parseInt(ar(162))/10*(-parseInt(ar(173))/11)+-parseInt(ar(165))/12;if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x3ff1,444305);function _0x3ff1(){var fr=["302406CwjGdV","14035752JaPTqr","6367edkAbw","1729584kQBDIl","5316HixqTS","cli","237450PQjClH","clear","56egeoUV","99HQnuVY","36qBcLPp","get_help","9tYTawD","open","process_input","1230HUbykJ","open compilations browser","799950YzYQHo","print"];return _0x3ff1=function(){return fr},_0x3ff1()}var nc;class BrowseCommand extends CommandBase{constructor(ar){super();mi(this,nc,void 0);Ci(this,nc,ar)}get_keywords(){return["c"]}[_0x64022a(175)](){var ar=_0x64022a;return["c",ar(161)]}[_0x64022a(159)](ar,or){var ur=_0x64022a;if(this[ur(169)][ur(171)](),this[ur(169)][ur(163)]("Press ENTER to open Compilations Browser."),or)Nr(this,nc)[ur(177)]();else return}}nc=new WeakMap;let F={};function D(fr={}){F={animate:!0,allowClose:!0,overlayOpacity:.7,smoothScroll:!1,disableActiveInteraction:!1,showProgress:!1,stagePadding:10,stageRadius:5,popoverOffset:10,showButtons:["next","previous","close"],disableButtons:[],overlayColor:"#000",...fr}}function a(fr){return fr?F[fr]:F}function W(fr,cr,ar,or){return(fr/=or/2)<1?ar/2*fr*fr+cr:-ar/2*(--fr*(fr-2)-1)+cr}function Q(fr){const cr='a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])';return fr.flatMap(ar=>{const or=ar.matches(cr),ur=Array.from(ar.querySelectorAll(cr));return[...or?[ar]:[],...ur]}).filter(ar=>getComputedStyle(ar).pointerEvents!=="none"&&ae(ar))}function Z(fr){if(!fr||se(fr))return;const cr=a("smoothScroll");fr.scrollIntoView({behavior:!cr||re(fr)?"auto":"smooth",inline:"center",block:"center"})}function re(fr){if(!fr||!fr.parentElement)return;const cr=fr.parentElement;return cr.scrollHeight>cr.clientHeight}function se(fr){const cr=fr.getBoundingClientRect();return cr.top>=0&&cr.left>=0&&cr.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&cr.right<=(window.innerWidth||document.documentElement.clientWidth)}function ae(fr){return!!(fr.offsetWidth||fr.offsetHeight||fr.getClientRects().length)}let O={};function b(fr,cr){O[fr]=cr}function l(fr){return fr?O[fr]:O}function V(){O={}}let R={};function N(fr,cr){R[fr]=cr}function L(fr){var cr;(cr=R[fr])==null||cr.call(R)}function ce(){R={}}function le(fr,cr,ar,or){let ur=l("__activeStagePosition");const lr=ur||ar.getBoundingClientRect(),xr=or.getBoundingClientRect(),pr=W(fr,lr.x,xr.x-lr.x,cr),br=W(fr,lr.y,xr.y-lr.y,cr),mr=W(fr,lr.width,xr.width-lr.width,cr),_r=W(fr,lr.height,xr.height-lr.height,cr);ur={x:pr,y:br,width:mr,height:_r},J(ur),b("__activeStagePosition",ur)}function G(fr){if(!fr)return;const cr=fr.getBoundingClientRect(),ar={x:cr.x,y:cr.y,width:cr.width,height:cr.height};b("__activeStagePosition",ar),J(ar)}function de(){const fr=l("__activeStagePosition"),cr=l("__overlaySvg");if(!fr)return;if(!cr){console.warn("No stage svg found.");return}const ar=window.innerWidth,or=window.innerHeight;cr.setAttribute("viewBox",`0 0 ${ar} ${or}`)}function pe(fr){const cr=ue(fr);document.body.appendChild(cr),te(cr,ar=>{ar.target.tagName==="path"&&L("overlayClick")}),b("__overlaySvg",cr)}function J(fr){const cr=l("__overlaySvg");if(!cr){pe(fr);return}const ar=cr.firstElementChild;if((ar==null?void 0:ar.tagName)!=="path")throw new Error("no path element found in stage svg");ar.setAttribute("d",U(fr))}function ue(fr){const cr=window.innerWidth,ar=window.innerHeight,or=document.createElementNS("http://www.w3.org/2000/svg","svg");or.classList.add("driver-overlay","driver-overlay-animated"),or.setAttribute("viewBox",`0 0 ${cr} ${ar}`),or.setAttribute("xmlSpace","preserve"),or.setAttribute("xmlnsXlink","http://www.w3.org/1999/xlink"),or.setAttribute("version","1.1"),or.setAttribute("preserveAspectRatio","xMinYMin slice"),or.style.fillRule="evenodd",or.style.clipRule="evenodd",or.style.strokeLinejoin="round",or.style.strokeMiterlimit="2",or.style.zIndex="10000",or.style.position="fixed",or.style.top="0",or.style.left="0",or.style.width="100%",or.style.height="100%";const ur=document.createElementNS("http://www.w3.org/2000/svg","path");return ur.setAttribute("d",U(fr)),ur.style.fill=a("overlayColor")||"rgb(0,0,0)",ur.style.opacity=`${a("overlayOpacity")}`,ur.style.pointerEvents="auto",ur.style.cursor="auto",or.appendChild(ur),or}function U(fr){const cr=window.innerWidth,ar=window.innerHeight,or=a("stagePadding")||0,ur=a("stageRadius")||0,lr=fr.width+or*2,xr=fr.height+or*2,pr=Math.min(ur,lr/2,xr/2),br=Math.floor(Math.max(pr,0)),mr=fr.x-or+br,_r=fr.y-or,vr=lr-br*2,Er=xr-br*2;return`M${cr},0L0,0L0,${ar}L${cr},${ar}L${cr},0Z
    M${mr},${_r} h${vr} a${br},${br} 0 0 1 ${br},${br} v${Er} a${br},${br} 0 0 1 -${br},${br} h-${vr} a${br},${br} 0 0 1 -${br},-${br} v-${Er} a${br},${br} 0 0 1 ${br},-${br} z`}function ve(){const fr=l("__overlaySvg");fr&&fr.remove()}function fe(){const fr=document.getElementById("driver-dummy-element");if(fr)return fr;let cr=document.createElement("div");return cr.id="driver-dummy-element",cr.style.width="0",cr.style.height="0",cr.style.pointerEvents="none",cr.style.opacity="0",cr.style.position="fixed",cr.style.top="50%",cr.style.left="50%",document.body.appendChild(cr),cr}function K(fr){const{element:cr}=fr;let ar=typeof cr=="string"?document.querySelector(cr):cr;ar||(ar=fe()),ge(ar,fr)}function he(){const fr=l("__activeElement"),cr=l("__activeStep");fr&&(G(fr),de(),ie(fr,cr))}function ge(fr,cr){const ar=Date.now(),or=l("__activeStep"),ur=l("__activeElement")||fr,lr=!ur||ur===fr,xr=fr.id==="driver-dummy-element",pr=ur.id==="driver-dummy-element",br=a("animate"),mr=cr.onHighlightStarted||a("onHighlightStarted"),_r=(cr==null?void 0:cr.onHighlighted)||a("onHighlighted"),vr=(or==null?void 0:or.onDeselected)||a("onDeselected"),Er=a(),yr=l();!lr&&vr&&vr(pr?void 0:ur,or,{config:Er,state:yr}),mr&&mr(xr?void 0:fr,cr,{config:Er,state:yr});const Ir=!lr&&br;let Ar=!1;xe(),b("previousStep",or),b("previousElement",ur),b("activeStep",cr),b("activeElement",fr);const kr=()=>{if(l("__transitionCallback")!==kr)return;const Or=Date.now()-ar,Dr=400-Or<=400/2;cr.popover&&Dr&&!Ar&&Ir&&(X(fr,cr),Ar=!0),a("animate")&&Or<400?le(Or,400,ur,fr):(G(fr),_r&&_r(xr?void 0:fr,cr,{config:a(),state:l()}),b("__transitionCallback",void 0),b("__previousStep",or),b("__previousElement",ur),b("__activeStep",cr),b("__activeElement",fr)),window.requestAnimationFrame(kr)};b("__transitionCallback",kr),window.requestAnimationFrame(kr),Z(fr),!Ir&&cr.popover&&X(fr,cr),ur.classList.remove("driver-active-element","driver-no-interaction"),ur.removeAttribute("aria-haspopup"),ur.removeAttribute("aria-expanded"),ur.removeAttribute("aria-controls"),a("disableActiveInteraction")&&fr.classList.add("driver-no-interaction"),fr.classList.add("driver-active-element"),fr.setAttribute("aria-haspopup","dialog"),fr.setAttribute("aria-expanded","true"),fr.setAttribute("aria-controls","driver-popover-content")}function we(){var fr;(fr=document.getElementById("driver-dummy-element"))==null||fr.remove(),document.querySelectorAll(".driver-active-element").forEach(cr=>{cr.classList.remove("driver-active-element","driver-no-interaction"),cr.removeAttribute("aria-haspopup"),cr.removeAttribute("aria-expanded"),cr.removeAttribute("aria-controls")})}function I(){const fr=l("__resizeTimeout");fr&&window.cancelAnimationFrame(fr),b("__resizeTimeout",window.requestAnimationFrame(he))}function me(fr){var cr;if(!l("isInitialized")||!(fr.key==="Tab"||fr.keyCode===9))return;const ar=l("__activeElement"),or=(cr=l("popover"))==null?void 0:cr.wrapper,ur=Q([...or?[or]:[],...ar?[ar]:[]]),lr=ur[0],xr=ur[ur.length-1];if(fr.preventDefault(),fr.shiftKey){const pr=ur[ur.indexOf(document.activeElement)-1]||xr;pr==null||pr.focus()}else{const pr=ur[ur.indexOf(document.activeElement)+1]||lr;pr==null||pr.focus()}}function ee(fr){var cr;((cr=a("allowKeyboardControl"))==null||cr)&&(fr.key==="Escape"?L("escapePress"):fr.key==="ArrowRight"?L("arrowRightPress"):fr.key==="ArrowLeft"&&L("arrowLeftPress"))}function te(fr,cr,ar){const or=(ur,lr)=>{const xr=ur.target;fr.contains(xr)&&((!ar||ar(xr))&&(ur.preventDefault(),ur.stopPropagation(),ur.stopImmediatePropagation()),lr==null||lr(ur))};document.addEventListener("pointerdown",or,!0),document.addEventListener("mousedown",or,!0),document.addEventListener("pointerup",or,!0),document.addEventListener("mouseup",or,!0),document.addEventListener("click",ur=>{or(ur,cr)},!0)}function ye(){window.addEventListener("keyup",ee,!1),window.addEventListener("keydown",me,!1),window.addEventListener("resize",I),window.addEventListener("scroll",I)}function be(){window.removeEventListener("keyup",ee),window.removeEventListener("resize",I),window.removeEventListener("scroll",I)}function xe(){const fr=l("popover");fr&&(fr.wrapper.style.display="none")}function X(fr,cr){var ar,or;let ur=l("popover");ur&&document.body.removeChild(ur.wrapper),ur=Pe(),document.body.appendChild(ur.wrapper);const{title:lr,description:xr,showButtons:pr,disableButtons:br,showProgress:mr,nextBtnText:_r=a("nextBtnText")||"Next &rarr;",prevBtnText:vr=a("prevBtnText")||"&larr; Previous",progressText:Er=a("progressText")||"{current} of {total}"}=cr.popover||{};ur.nextButton.innerHTML=_r,ur.previousButton.innerHTML=vr,ur.progress.innerHTML=Er,lr?(ur.title.innerHTML=lr,ur.title.style.display="block"):ur.title.style.display="none",xr?(ur.description.innerHTML=xr,ur.description.style.display="block"):ur.description.style.display="none";const yr=pr||a("showButtons"),Ir=mr||a("showProgress")||!1,Ar=(yr==null?void 0:yr.includes("next"))||(yr==null?void 0:yr.includes("previous"))||Ir;ur.closeButton.style.display=yr.includes("close")?"block":"none",Ar?(ur.footer.style.display="flex",ur.progress.style.display=Ir?"block":"none",ur.nextButton.style.display=yr.includes("next")?"block":"none",ur.previousButton.style.display=yr.includes("previous")?"block":"none"):ur.footer.style.display="none";const kr=br||a("disableButtons")||[];kr!=null&&kr.includes("next")&&(ur.nextButton.disabled=!0,ur.nextButton.classList.add("driver-popover-btn-disabled")),kr!=null&&kr.includes("previous")&&(ur.previousButton.disabled=!0,ur.previousButton.classList.add("driver-popover-btn-disabled")),kr!=null&&kr.includes("close")&&(ur.closeButton.disabled=!0,ur.closeButton.classList.add("driver-popover-btn-disabled"));const Or=ur.wrapper;Or.style.display="block",Or.style.left="",Or.style.top="",Or.style.bottom="",Or.style.right="",Or.id="driver-popover-content",Or.setAttribute("role","dialog"),Or.setAttribute("aria-labelledby","driver-popover-title"),Or.setAttribute("aria-describedby","driver-popover-description");const Dr=ur.arrow;Dr.className="driver-popover-arrow";const Rr=((ar=cr.popover)==null?void 0:ar.popoverClass)||a("popoverClass")||"";Or.className=`driver-popover ${Rr}`.trim(),te(ur.wrapper,Ur=>{var Zr,Yr,jr;const Jr=Ur.target,Wr=((Zr=cr.popover)==null?void 0:Zr.onNextClick)||a("onNextClick"),ni=((Yr=cr.popover)==null?void 0:Yr.onPrevClick)||a("onPrevClick"),Mr=((jr=cr.popover)==null?void 0:jr.onCloseClick)||a("onCloseClick");if(Jr.classList.contains("driver-popover-next-btn"))return Wr?Wr(fr,cr,{config:a(),state:l()}):L("nextClick");if(Jr.classList.contains("driver-popover-prev-btn"))return ni?ni(fr,cr,{config:a(),state:l()}):L("prevClick");if(Jr.classList.contains("driver-popover-close-btn"))return Mr?Mr(fr,cr,{config:a(),state:l()}):L("closeClick")},Ur=>!(ur!=null&&ur.description.contains(Ur))&&!(ur!=null&&ur.title.contains(Ur))&&typeof Ur.className=="string"&&Ur.className.includes("driver-popover")),b("popover",ur);const Fr=((or=cr.popover)==null?void 0:or.onPopoverRender)||a("onPopoverRender");Fr&&Fr(ur,{config:a(),state:l()}),ie(fr,cr),Z(Or);const Lr=fr.classList.contains("driver-dummy-element"),Hr=Q([Or,...Lr?[]:[fr]]);Hr.length>0&&Hr[0].focus()}function oe(){const fr=l("popover");if(!(fr!=null&&fr.wrapper))return;const cr=fr.wrapper.getBoundingClientRect(),ar=a("stagePadding")||0,or=a("popoverOffset")||0;return{width:cr.width+ar+or,height:cr.height+ar+or,realWidth:cr.width,realHeight:cr.height}}function Y(fr,cr){const{elementDimensions:ar,popoverDimensions:or,popoverPadding:ur,popoverArrowDimensions:lr}=cr;return fr==="start"?Math.max(Math.min(ar.top-ur,window.innerHeight-or.realHeight-lr.width),lr.width):fr==="end"?Math.max(Math.min(ar.top-(or==null?void 0:or.realHeight)+ar.height+ur,window.innerHeight-(or==null?void 0:or.realHeight)-lr.width),lr.width):fr==="center"?Math.max(Math.min(ar.top+ar.height/2-(or==null?void 0:or.realHeight)/2,window.innerHeight-(or==null?void 0:or.realHeight)-lr.width),lr.width):0}function j(fr,cr){const{elementDimensions:ar,popoverDimensions:or,popoverPadding:ur,popoverArrowDimensions:lr}=cr;return fr==="start"?Math.max(Math.min(ar.left-ur,window.innerWidth-or.realWidth-lr.width),lr.width):fr==="end"?Math.max(Math.min(ar.left-(or==null?void 0:or.realWidth)+ar.width+ur,window.innerWidth-(or==null?void 0:or.realWidth)-lr.width),lr.width):fr==="center"?Math.max(Math.min(ar.left+ar.width/2-(or==null?void 0:or.realWidth)/2,window.innerWidth-(or==null?void 0:or.realWidth)-lr.width),lr.width):0}function ie(fr,cr){const ar=l("popover");if(!ar)return;const{align:or="start",side:ur="left"}=(cr==null?void 0:cr.popover)||{},lr=or,xr=fr.id==="driver-dummy-element"?"over":ur,pr=a("stagePadding")||0,br=oe(),mr=ar.arrow.getBoundingClientRect(),_r=fr.getBoundingClientRect(),vr=_r.top-br.height;let Er=vr>=0;const yr=window.innerHeight-(_r.bottom+br.height);let Ir=yr>=0;const Ar=_r.left-br.width;let kr=Ar>=0;const Or=window.innerWidth-(_r.right+br.width);let Dr=Or>=0;const Rr=!Er&&!Ir&&!kr&&!Dr;let Fr=xr;if(xr==="top"&&Er?Dr=kr=Ir=!1:xr==="bottom"&&Ir?Dr=kr=Er=!1:xr==="left"&&kr?Dr=Er=Ir=!1:xr==="right"&&Dr&&(kr=Er=Ir=!1),xr==="over"){const Lr=window.innerWidth/2-br.realWidth/2,Hr=window.innerHeight/2-br.realHeight/2;ar.wrapper.style.left=`${Lr}px`,ar.wrapper.style.right="auto",ar.wrapper.style.top=`${Hr}px`,ar.wrapper.style.bottom="auto"}else if(Rr){const Lr=window.innerWidth/2-(br==null?void 0:br.realWidth)/2,Hr=10;ar.wrapper.style.left=`${Lr}px`,ar.wrapper.style.right="auto",ar.wrapper.style.bottom=`${Hr}px`,ar.wrapper.style.top="auto"}else if(kr){const Lr=Math.min(Ar,window.innerWidth-(br==null?void 0:br.realWidth)-mr.width),Hr=Y(lr,{elementDimensions:_r,popoverDimensions:br,popoverPadding:pr,popoverArrowDimensions:mr});ar.wrapper.style.left=`${Lr}px`,ar.wrapper.style.top=`${Hr}px`,ar.wrapper.style.bottom="auto",ar.wrapper.style.right="auto",Fr="left"}else if(Dr){const Lr=Math.min(Or,window.innerWidth-(br==null?void 0:br.realWidth)-mr.width),Hr=Y(lr,{elementDimensions:_r,popoverDimensions:br,popoverPadding:pr,popoverArrowDimensions:mr});ar.wrapper.style.right=`${Lr}px`,ar.wrapper.style.top=`${Hr}px`,ar.wrapper.style.bottom="auto",ar.wrapper.style.left="auto",Fr="right"}else if(Er){const Lr=Math.min(vr,window.innerHeight-br.realHeight-mr.width);let Hr=j(lr,{elementDimensions:_r,popoverDimensions:br,popoverPadding:pr,popoverArrowDimensions:mr});ar.wrapper.style.top=`${Lr}px`,ar.wrapper.style.left=`${Hr}px`,ar.wrapper.style.bottom="auto",ar.wrapper.style.right="auto",Fr="top"}else if(Ir){const Lr=Math.min(yr,window.innerHeight-(br==null?void 0:br.realHeight)-mr.width);let Hr=j(lr,{elementDimensions:_r,popoverDimensions:br,popoverPadding:pr,popoverArrowDimensions:mr});ar.wrapper.style.left=`${Hr}px`,ar.wrapper.style.bottom=`${Lr}px`,ar.wrapper.style.top="auto",ar.wrapper.style.right="auto",Fr="bottom"}Rr?ar.arrow.classList.add("driver-popover-arrow-none"):Ce(lr,Fr,fr)}function Ce(fr,cr,ar){const or=l("popover");if(!or)return;const ur=ar.getBoundingClientRect(),lr=oe(),xr=or.arrow,pr=lr.width,br=window.innerWidth,mr=ur.width,_r=ur.left,vr=lr.height,Er=window.innerHeight,yr=ur.top,Ir=ur.height;xr.className="driver-popover-arrow";let Ar=cr,kr=fr;cr==="top"?(_r+mr<=0?(Ar="right",kr="end"):_r+mr-pr<=0&&(Ar="top",kr="start"),_r>=br?(Ar="left",kr="end"):_r+pr>=br&&(Ar="top",kr="end")):cr==="bottom"?(_r+mr<=0?(Ar="right",kr="start"):_r+mr-pr<=0&&(Ar="bottom",kr="start"),_r>=br?(Ar="left",kr="start"):_r+pr>=br&&(Ar="bottom",kr="end")):cr==="left"?(yr+Ir<=0?(Ar="bottom",kr="end"):yr+Ir-vr<=0&&(Ar="left",kr="start"),yr>=Er?(Ar="top",kr="end"):yr+vr>=Er&&(Ar="left",kr="end")):cr==="right"&&(yr+Ir<=0?(Ar="bottom",kr="start"):yr+Ir-vr<=0&&(Ar="right",kr="start"),yr>=Er?(Ar="top",kr="start"):yr+vr>=Er&&(Ar="right",kr="end")),Ar?(xr.classList.add(`driver-popover-arrow-side-${Ar}`),xr.classList.add(`driver-popover-arrow-align-${kr}`)):xr.classList.add("driver-popover-arrow-none")}function Pe(){const fr=document.createElement("div");fr.classList.add("driver-popover");const cr=document.createElement("div");cr.classList.add("driver-popover-arrow");const ar=document.createElement("header");ar.id="driver-popover-title",ar.classList.add("driver-popover-title"),ar.style.display="none",ar.innerText="Popover Title";const or=document.createElement("div");or.id="driver-popover-description",or.classList.add("driver-popover-description"),or.style.display="none",or.innerText="Popover description is here";const ur=document.createElement("button");ur.type="button",ur.classList.add("driver-popover-close-btn"),ur.setAttribute("aria-label","Close"),ur.innerHTML="&times;";const lr=document.createElement("footer");lr.classList.add("driver-popover-footer");const xr=document.createElement("span");xr.classList.add("driver-popover-progress-text"),xr.innerText="";const pr=document.createElement("span");pr.classList.add("driver-popover-navigation-btns");const br=document.createElement("button");br.type="button",br.classList.add("driver-popover-prev-btn"),br.innerHTML="&larr; Previous";const mr=document.createElement("button");return mr.type="button",mr.classList.add("driver-popover-next-btn"),mr.innerHTML="Next &rarr;",pr.appendChild(br),pr.appendChild(mr),lr.appendChild(xr),lr.appendChild(pr),fr.appendChild(ur),fr.appendChild(cr),fr.appendChild(ar),fr.appendChild(or),fr.appendChild(lr),{wrapper:fr,arrow:cr,title:ar,description:or,footer:lr,previousButton:br,nextButton:mr,closeButton:ur,footerButtons:pr,progress:xr}}function Se(){var fr;const cr=l("popover");cr&&((fr=cr.wrapper.parentElement)==null||fr.removeChild(cr.wrapper))}function ke(fr={}){D(fr);function cr(){a("allowClose")&&mr()}function ar(){const _r=l("activeIndex"),vr=a("steps")||[];if(typeof _r>"u")return;const Er=_r+1;vr[Er]?br(Er):mr()}function or(){const _r=l("activeIndex"),vr=a("steps")||[];if(typeof _r>"u")return;const Er=_r-1;vr[Er]?br(Er):mr()}function ur(_r){(a("steps")||[])[_r]?br(_r):mr()}function lr(){var _r;if(l("__transitionCallback"))return;const vr=l("activeIndex"),Er=l("__activeStep"),yr=l("__activeElement");if(typeof vr>"u"||typeof Er>"u"||typeof l("activeIndex")>"u")return;const Ir=((_r=Er.popover)==null?void 0:_r.onPrevClick)||a("onPrevClick");if(Ir)return Ir(yr,Er,{config:a(),state:l()});or()}function xr(){var _r;if(l("__transitionCallback"))return;const vr=l("activeIndex"),Er=l("__activeStep"),yr=l("__activeElement");if(typeof vr>"u"||typeof Er>"u")return;const Ir=((_r=Er.popover)==null?void 0:_r.onNextClick)||a("onNextClick");if(Ir)return Ir(yr,Er,{config:a(),state:l()});ar()}function pr(){l("isInitialized")||(b("isInitialized",!0),document.body.classList.add("driver-active",a("animate")?"driver-fade":"driver-simple"),ye(),N("overlayClick",cr),N("escapePress",cr),N("arrowLeftPress",lr),N("arrowRightPress",xr))}function br(_r=0){var vr,Er,yr,Ir,Ar,kr,Or,Dr;const Rr=a("steps");if(!Rr){console.error("No steps to drive through"),mr();return}if(!Rr[_r]){mr();return}b("__activeOnDestroyed",document.activeElement),b("activeIndex",_r);const Fr=Rr[_r],Lr=Rr[_r+1],Hr=Rr[_r-1],Ur=((vr=Fr.popover)==null?void 0:vr.doneBtnText)||a("doneBtnText")||"Done",Zr=a("allowClose"),Yr=typeof((Er=Fr.popover)==null?void 0:Er.showProgress)<"u"?(yr=Fr.popover)==null?void 0:yr.showProgress:a("showProgress"),jr=(((Ir=Fr.popover)==null?void 0:Ir.progressText)||a("progressText")||"{{current}} of {{total}}").replace("{{current}}",`${_r+1}`).replace("{{total}}",`${Rr.length}`),Jr=((Ar=Fr.popover)==null?void 0:Ar.showButtons)||a("showButtons"),Wr=["next","previous",...Zr?["close"]:[]].filter(Ei=>!(Jr!=null&&Jr.length)||Jr.includes(Ei)),ni=((kr=Fr.popover)==null?void 0:kr.onNextClick)||a("onNextClick"),Mr=((Or=Fr.popover)==null?void 0:Or.onPrevClick)||a("onPrevClick"),hi=((Dr=Fr.popover)==null?void 0:Dr.onCloseClick)||a("onCloseClick");K({...Fr,popover:{showButtons:Wr,nextBtnText:Lr?void 0:Ur,disableButtons:[...Hr?[]:["previous"]],showProgress:Yr,progressText:jr,onNextClick:ni||(()=>{Lr?br(_r+1):mr()}),onPrevClick:Mr||(()=>{br(_r-1)}),onCloseClick:hi||(()=>{mr()}),...(Fr==null?void 0:Fr.popover)||{}}})}function mr(_r=!0){const vr=l("__activeElement"),Er=l("__activeStep"),yr=l("__activeOnDestroyed"),Ir=a("onDestroyStarted");if(_r&&Ir){const Or=!vr||(vr==null?void 0:vr.id)==="driver-dummy-element";Ir(Or?void 0:vr,Er,{config:a(),state:l()});return}const Ar=(Er==null?void 0:Er.onDeselected)||a("onDeselected"),kr=a("onDestroyed");if(document.body.classList.remove("driver-active","driver-fade","driver-simple"),be(),Se(),we(),ve(),ce(),V(),vr&&Er){const Or=vr.id==="driver-dummy-element";Ar&&Ar(Or?void 0:vr,Er,{config:a(),state:l()}),kr&&kr(Or?void 0:vr,Er,{config:a(),state:l()})}yr&&yr.focus()}return{isActive:()=>l("isInitialized")||!1,refresh:I,drive:(_r=0)=>{pr(),br(_r)},setConfig:D,setSteps:_r=>{V(),D({...a(),steps:_r})},getConfig:a,getState:l,getActiveIndex:()=>l("activeIndex"),isFirstStep:()=>l("activeIndex")===0,isLastStep:()=>{const _r=a("steps")||[],vr=l("activeIndex");return vr!==void 0&&vr===_r.length-1},getActiveStep:()=>l("activeStep"),getActiveElement:()=>l("activeElement"),getPreviousElement:()=>l("previousElement"),getPreviousStep:()=>l("previousStep"),moveNext:ar,movePrevious:or,moveTo:ur,hasNextStep:()=>{const _r=a("steps")||[],vr=l("activeIndex");return vr!==void 0&&_r[vr+1]},hasPreviousStep:()=>{const _r=a("steps")||[],vr=l("activeIndex");return vr!==void 0&&_r[vr-1]},highlight:_r=>{pr(),K({..._r,popover:_r.popover?{showButtons:[],showProgress:!1,progressText:"",..._r.popover}:void 0})},destroy:()=>{mr(!1)}}}const driver="",_0x10764c=_0x452e;(function(fr,cr){const ar=_0x452e,or=fr();for(;[];)try{if(parseInt(ar(404))/1+-parseInt(ar(385))/2*(-parseInt(ar(360))/3)+parseInt(ar(381))/4*(parseInt(ar(416))/5)+parseInt(ar(388))/6+-parseInt(ar(394))/7*(parseInt(ar(396))/8)+-parseInt(ar(365))/9*(parseInt(ar(377))/10)+-parseInt(ar(376))/11===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x5753,636581);function _0x5753(){const fr=["<p>Click here to display the list of available emulated platforms.</p>","Import file","8550465SpgFed","5410lcaSze","addTourButton","VM/E CLI Shell","msExitFullscreen","316BCoigE","help","push","Open Compilations Browser","142mVBBlp","menu-item-tour","drive","2800140IKkEXD","menu-item-savestates","querySelector","<p>Click here to browse software compilations.</p>","addFsButton","menu-item-help","398573bDHMMH","msRequestFullscreen","136VXsSyS","addCollectionButton","open","webkitRequestFullscreen","Fullscreen","start","full-screen","<p>Click here to toggle fullscreen mode on and off.</p>","194047yeldma","inject","About VM/E","#menu-item-open","0.66","#full-screen","addSystemButton","requestFullscreen","mozFullScreenElement","addButtons","#menu-item-about","#menu-item-compilations","39265YfGHCv","addAboutButton","<p>Click here to show the on-screen keyboard.</p>","menu-item-system","addHelpButton","#toggle-keyboard","mozRequestFullScreen","menu-item-open","addSaveBrowserButton","exitFullscreen","#menu-item-help","<p>Click here to browse and load save states.</p>","webkitExitFullscreen","sys ","#menu-item-system","48933cBXemS","documentElement","#cors_interface","addOpenButton",'<p>Click here to display the "About VM/E" information, including credits and licensing details.</p>',"954ZIAIEj","about","right","mozCancelFullScreen","webkitFullscreenElement","fullscreenElement","Open Save Browser","isQuest","<p>Click here to open the system file dialog, where you can load a program to run and import programs and VME files.</p><p>You can import *vme_import*.zip files. These files contain a list of software for one or multiple platforms, which you can easily access from the VM/E Shell by typing a few letters of the desired programs`s name.</p>"];return _0x5753=function(){return fr},_0x5753()}function _0x452e(fr,cr){const ar=_0x5753();return _0x452e=function(or,ur){return or=or-347,ar[or]},_0x452e(fr,cr)}var Co;class ButtonManager{constructor(cr){mi(this,Co,void 0);Ci(this,Co,cr)}[_0x10764c(413)](){const cr=_0x10764c;this[cr(410)](),this[cr(349)](),this[cr(353)](),this[cr(397)](),this[cr(363)](),this[cr(392)](),this[cr(417)](),this[cr(378)]()}[_0x10764c(410)](){const cr=_0x10764c;createGuiButton(cr(348),"S","S",()=>{const ar=cr;Nr(this,Co).inject(ar(358))})}[_0x10764c(349)](){const cr=_0x10764c;createGuiButton(cr(393),"H","H",()=>{const ar=cr;Nr(this,Co)[ar(405)](ar(382))})}[_0x10764c(353)](){createGuiButton(_0x10764c(389),"R","R",()=>{Nr(this,Co).inject("r",!![])})}[_0x10764c(397)](){createGuiButton("menu-item-compilations","C","C",()=>{const cr=_0x452e;Nr(this,Co)[cr(405)]("c",!![])})}[_0x10764c(363)](){const cr=_0x10764c;createGuiButton(cr(352),"O","O",()=>{const ar=cr;Nr(this,Co)[ar(405)](ar(398),!![])})}[_0x10764c(417)](){createGuiButton("menu-item-about","A","A",()=>{const cr=_0x452e;Nr(this,Co).inject(cr(366))})}[_0x10764c(392)](){const cr=_0x10764c;EnvironmentManager[cr(372)]()&&createGuiButton(cr(402),cr(400),"Fs",()=>{const ar=cr;let or=document[ar(361)];const ur=()=>{const xr=ar;or.requestFullscreen?or[xr(411)]():or[xr(351)]?or[xr(351)]():or[xr(399)]?or[xr(399)]():or[xr(395)]&&or[xr(395)]()},lr=()=>{const xr=ar;document[xr(354)]?document.exitFullscreen():document[xr(368)]?document[xr(368)]():document[xr(357)]?document[xr(357)]():document[xr(380)]&&document[xr(380)]()};!document[ar(370)]&&!document[ar(412)]&&!document[ar(369)]&&!document.msFullscreenElement?ur():lr()})}[_0x10764c(378)](){const cr=_0x10764c;createGuiButton(cr(386),"?","?",()=>{const ar=cr,or=[];or[ar(383)]({element:ar(359),popover:{title:"Switch platforms",description:ar(374),side:ar(367),align:"start"}}),or[ar(383)]({element:ar(355),popover:{title:"List available commands",description:"<p>Click here to show the list of available CLI commands.</p><p>Some commands require confirmation by pressing ENTER, while others update the results automatically as you type.</p>",side:ar(367),align:ar(401)}}),or[ar(383)]({element:"#menu-item-savestates",popover:{title:ar(371),description:ar(356),side:"right",align:ar(401)}}),document.querySelector("#full-screen")&&or.push({element:ar(409),popover:{title:"Toggle fullscreen",description:ar(403),side:ar(367),align:"start"}}),document[ar(390)]("#full-screen")&&or[ar(383)]({element:ar(350),popover:{title:"Toggle on-screen keyboard",description:ar(347),side:ar(367),align:ar(401)}}),or[ar(383)]({element:ar(415),popover:{title:ar(384),description:ar(391),side:ar(367),align:ar(401)}}),or.push({element:ar(407),popover:{title:ar(375),description:ar(373),side:ar(367),align:ar(401)}}),or[ar(383)]({element:ar(414),popover:{title:ar(406),description:ar(364),side:ar(367),align:"start"}}),or[ar(383)]({element:ar(362),popover:{title:ar(379),description:"<p>Use the VM/E shell by entering CLI commands or performing search queries.</p><p>If you have imported a software list for the current platform, you can start typing the name of the file you are looking for. After entering a few characters, you will see a list of files that match your search query.</p>",side:ar(367),align:"start"}}),ke({animate:![],showProgress:![],overlayOpacity:ar(408),stagePadding:10,smoothScroll:![],steps:or})[ar(387)]()})}}Co=new WeakMap;const _0x4bbc8b=_0x1082;(function(fr,cr){const ar=_0x1082,or=fr();for(;[];)try{if(-parseInt(ar(284))/1*(-parseInt(ar(279))/2)+parseInt(ar(302))/3+parseInt(ar(344))/4*(-parseInt(ar(336))/5)+parseInt(ar(312))/6+parseInt(ar(323))/7*(parseInt(ar(301))/8)+parseInt(ar(273))/9+parseInt(ar(328))/10*(-parseInt(ar(337))/11)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x31f2,586203);function _0x1082(fr,cr){const ar=_0x31f2();return _0x1082=function(or,ur){return or=or-271,ar[or]},_0x1082(fr,cr)}function _0x31f2(){const fr=["emulationStarted","location","hideTouchKeyboard","pwa","detectDevice","toggleJoystick","initQuickshot","getSelectedPlatform","6366528lzDoja","&nbsp;","get","gamepaddisconnected","COLLECTION_BROWSER","toggleScreen","orientationchange","find","matchMedia","EMULATION","#quickjoys","7OqlJHr","search","open","body","CURRENT_ENV","10tNeCWK","grid","#quickjoy","black","matches","#quickshot","html","getNostalgist","211030UxQZwq","18897439jTnPuj","#collection-browser","navigator","#fastui","QUICKJOY_PRIMARY","register_default","remove","36jMleTe","block","resize","3439269tbJkYz","innerHTML","SCREEN_SIZE","#settings","updateDeviceType","classList","2KclwgA","CURRENT_SCREEN","clicks_on","updateMode","MENU","970378yCjoXO","flex","off","initHideaway","#warningStandalone","getValue","initDesktopUI","#quickshots","add","resizeCanvas","(display-mode: standalone)","initFastUI","addEventListener","#save-browser","setVisible","#emulator","register_command","1757960CVpjus","151962vSEOGi","CURRENT_MAIN_MENU"];return _0x31f2=function(){return fr},_0x31f2()}var _a,co,Iu,Ma,ws,_o,ic,Ss,Ex,wx,Sx,Ax,Cu,fd,ku,dd;const eo=class eo{constructor(){mi(this,Cu);mi(this,ku);mi(this,_a,void 0);mi(this,co,void 0);mi(this,Iu,void 0);mi(this,Ma,void 0);mi(this,ws,void 0);mi(this,_o,void 0);mi(this,ic,void 0);mi(this,Ss,void 0);const cr=_0x4bbc8b;if(Pi(this,ku,dd).call(this)){show(cr(288),cr(271)),show(cr(334));return}if(Ci(this,_a,new CLI),Ci(this,co,new KeyboardManager(Nr(this,_a))),Ci(this,ws,new StorageManager),Ci(this,Ma,new PlatformManager(this,Nr(this,_a),Nr(this,ws))),Ci(this,Iu,new EnvironmentManager(Nr(this,Ma))),Ci(this,_o,new UiManager(Nr(this,Ma),Nr(this,co))),Ci(this,ic,new SaveBrowser(this,Nr(this,Ma),Nr(this,ws),Nr(this,_a))),Ci(this,Ss,new CollectionBrowser(this,Nr(this,Ma),Nr(this,ws),Nr(this,_a))),Nr(this,co)[cr(281)](),Nr(this,_a)[cr(300)](new HelpCommand),Nr(this,_a)[cr(300)](new RestoreCommand(Nr(this,ic))),Nr(this,_a)[cr(300)](new BrowseCommand(Nr(this,Ss))),Nr(this,_a)[cr(300)](new OpenCommand(Nr(this,Ma))),Nr(this,_a).register_command(new ListCommand(Nr(this,Ma))),Nr(this,_a)[cr(300)](new FindCommand(Nr(this,Ma))),Nr(this,_a)[cr(300)](new SystemCommand(Nr(this,Ma))),Nr(this,_a)[cr(300)](new SetCommand),Nr(this,_a)[cr(300)](new LastCommand(Nr(this,Ma))),Nr(this,_a)[cr(300)](new WikiCommand),Nr(this,_a)[cr(342)](cr(319)),Pi(this,Cu,fd).call(this),Nr(this,co).initButtons(),Nr(this,_a)[cr(300)](new AboutCommand(Nr(this,Ma))),new ButtonManager(Nr(this,_a)).addButtons(),EnvironmentManager.detectDevice(),s$1("#versionLabel")[cr(274)]="v0.8.3",this[cr(317)](eo.CURRENT_SCREEN.MENU),StorageManager.getValue(BOOT_TO)==BOOT_TO_COLLECTION_BROWSER){let or=StorageManager[cr(289)](COLLECTION_BROWSER_COLLECTION_INDEX),ur=StorageManager[cr(289)](COLLECTION_BROWSER_ITEM_INDEX);or&&ur?Nr(this,Ss)[cr(325)](or,ur):Nr(this,Ss)[cr(325)]()}Debug.isEnabled()&&Debug[cr(298)](!![])}[(Ex=_0x4bbc8b(280),wx=_0x4bbc8b(327),Sx=_0x4bbc8b(303),Ax=_0x4bbc8b(275),_0x4bbc8b(304))](){const cr=_0x4bbc8b;let ar=Nr(this,Ma)[cr(311)]().default_touch_controller;Nr(this,_o).initQuickJoy(),Nr(this,_o)[cr(310)](),Nr(this,_o).initMousepad(),Nr(this,_o)[cr(287)](),Nr(this,_o)[cr(295)](),ar?UiManager[cr(309)](ar,![]):UiManager.toggleJoystick(JOYSTICK_TOUCH_MODE[cr(341)],![]),Nr(this,_o)[cr(290)](),this[cr(317)](eo.CURRENT_SCREEN[cr(321)]),EnvironmentManager[cr(277)](),Nr(this,_o).initTouchControllerMenu(),EnvironmentManager.resizeCanvas(Nr(this,Ma)[cr(335)]())}[_0x4bbc8b(317)](cr){const ar=_0x4bbc8b;switch(cr){case eo[ar(280)][ar(283)]:hide(ar(288)),hide(ar(297)),hide(ar(338)),hide(ar(299)),hide("#quickjoys"),hide(ar(340)),hide("#quickshot"),show(ar(276),ar(285)),Nr(this,_a).on(),Nr(this,co)[ar(281)](),Nr(this,co)[ar(282)](cr),document[ar(326)].classList[ar(343)]("black");break;case eo[ar(280)][ar(321)]:Nr(this,_a)[ar(286)](),hide(ar(288)),hide(ar(276)),hide(ar(297)),hide(ar(338)),show(ar(299),ar(271)),EnvironmentManager.isDesktop()||EnvironmentManager.isQuest()?(hide(ar(340),ar(329)),hide(ar(291)),hide(ar(333)),hide(ar(322)),hide(ar(330))):show(ar(340),"grid"),Nr(this,co)[ar(306)](),Nr(this,co).clicks_off(),Nr(this,co)[ar(282)](cr),document[ar(326)][ar(278)][ar(292)](ar(331));break;case eo.CURRENT_SCREEN.SAVE_BROWSER:Nr(this,_a)[ar(286)](),hide(ar(288)),hide(ar(276)),hide("#emulator"),hide(ar(338)),show(ar(297),ar(285)),document[ar(326)].classList[ar(292)](ar(331));break;case eo.CURRENT_SCREEN[ar(316)]:Nr(this,_a)[ar(286)](),hide(ar(288)),hide(ar(297)),hide(ar(299)),hide(ar(276)),hide(ar(322)),hide(ar(340)),hide(ar(333)),show(ar(338),"flex"),document[ar(326)][ar(278)].add(ar(331));break}}};_a=new WeakMap,co=new WeakMap,Iu=new WeakMap,Ma=new WeakMap,ws=new WeakMap,_o=new WeakMap,ic=new WeakMap,Ss=new WeakMap,Cu=new WeakSet,fd=function(){const cr=_0x4bbc8b;window[cr(296)](cr(272),()=>EnvironmentManager[cr(293)](Nr(this,Ma)[cr(335)]())),window[cr(296)]("resize",()=>EnvironmentManager.detectDevice()),window[cr(296)](cr(318),()=>EnvironmentManager[cr(308)]()),window[cr(296)](cr(315),()=>EnvironmentManager[cr(308)]()),window[cr(296)]("gamepadconnected",()=>EnvironmentManager[cr(308)]())},ku=new WeakSet,dd=function(){const cr=_0x4bbc8b,ar=new URLSearchParams(window[cr(305)][cr(324)]),or=ar[cr(314)]("source")===cr(307);if(isMobile_1&&!(window[cr(339)].standalone||window.matchMedia(cr(294)).matches||window[cr(320)]("(display-mode: fullscreen)")[cr(332)]||or))return!![]},ha(eo,"whitespace",_0x4bbc8b(313)),ha(eo,Ex,{STANDALONE_WARNING:50,MENU:100,EMULATION:200,SAVE_BROWSER:220,COLLECTION_BROWSER:300}),ha(eo,wx,{TOUCH_SMALL:100,TOUCH_BIG:200,DESKTOP:300}),ha(eo,Sx,{NONE:10,PLATFORM_SELECT:100,CORS_QUERY:200}),ha(eo,Ax,{SMALLER:100,BIGGER:300});let VME=eo;function _0x1d44(){var fr=["336594FNpVYm","844504HptIPi","12612790hhZNYW","451821fHHoxI","2781294mqseXb","11TJJSyZ","28DblPoi","2EQVBux","3613884Zikbsl","2561490GxDksy","5GcgmKg","addEventListener"];return _0x1d44=function(){return fr},_0x1d44()}function _0x22f2(fr,cr){var ar=_0x1d44();return _0x22f2=function(or,ur){or=or-464;var lr=ar[or];return lr},_0x22f2(fr,cr)}var _0x52fdda=_0x22f2;(function(fr,cr){for(var ar=_0x22f2,or=fr();[];)try{var ur=parseInt(ar(470))/1+parseInt(ar(474))/2*(-parseInt(ar(471))/3)+-parseInt(ar(475))/4+-parseInt(ar(465))/5*(parseInt(ar(467))/6)+parseInt(ar(473))/7*(parseInt(ar(468))/8)+parseInt(ar(464))/9+-parseInt(ar(469))/10*(-parseInt(ar(472))/11);if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x1d44,533294);document[_0x52fdda(466)]("DOMContentLoaded",new VME);
