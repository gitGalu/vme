var Lh=Object.defineProperty;var Mh=(lr,cr,ar)=>cr in lr?Lh(lr,cr,{enumerable:!0,configurable:!0,writable:!0,value:ar}):lr[cr]=ar;var Pa=(lr,cr,ar)=>(Mh(lr,typeof cr!="symbol"?cr+"":cr,ar),ar),Cu=(lr,cr,ar)=>{if(!cr.has(lr))throw TypeError("Cannot "+ar)};var Vr=(lr,cr,ar)=>(Cu(lr,cr,"read from private field"),ar?ar.call(lr):cr.get(lr)),yi=(lr,cr,ar)=>{if(cr.has(lr))throw TypeError("Cannot add the same private member more than once");cr instanceof WeakSet?cr.add(lr):cr.set(lr,ar)},Oi=(lr,cr,ar,or)=>(Cu(lr,cr,"write to private field"),or?or.call(lr,ar):cr.set(lr,ar),ar);var lc=(lr,cr,ar,or)=>({set _(ur){Oi(lr,cr,ur,ar)},get _(){return Vr(lr,cr,or)}}),Pi=(lr,cr,ar)=>(Cu(lr,cr,"access private method"),ar);(function(){const cr=document.createElement("link").relList;if(cr&&cr.supports&&cr.supports("modulepreload"))return;for(const ur of document.querySelectorAll('link[rel="modulepreload"]'))or(ur);new MutationObserver(ur=>{for(const fr of ur)if(fr.type==="childList")for(const xr of fr.addedNodes)xr.tagName==="LINK"&&xr.rel==="modulepreload"&&or(xr)}).observe(document,{childList:!0,subtree:!0});function ar(ur){const fr={};return ur.integrity&&(fr.integrity=ur.integrity),ur.referrerPolicy&&(fr.referrerPolicy=ur.referrerPolicy),ur.crossOrigin==="use-credentials"?fr.credentials="include":ur.crossOrigin==="anonymous"?fr.credentials="omit":fr.credentials="same-origin",fr}function or(ur){if(ur.ep)return;ur.ep=!0;const fr=ar(ur);fetch(ur.href,fr)}})();const vme="";(function(lr,cr){for(var ar=_0x31c5,or=lr();[];)try{var ur=parseInt(ar(106))/1+-parseInt(ar(108))/2*(parseInt(ar(112))/3)+-parseInt(ar(115))/4+-parseInt(ar(116))/5*(parseInt(ar(119))/6)+-parseInt(ar(111))/7+parseInt(ar(114))/8+parseInt(ar(123))/9;if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x32ac,205592);function s$1(lr){var cr=_0x31c5;return document[cr(124)](lr)}function show(lr,cr){var ar=_0x31c5,or=s$1(lr);or!=null&&(cr==null&&(cr=ar(121)),or[ar(104)][ar(122)]=cr)}function _0x31c5(lr,cr){var ar=_0x32ac();return _0x31c5=function(or,ur){or=or-103;var fr=ar[or];return fr},_0x31c5(lr,cr)}function _0x32ac(){var lr=["240824EkiVdQ","10aFBNeZ","insertAdjacentHTML","mousedown","744402FzVAOp","addEventListener","block","display","4381812tHDjqW","querySelector","string","style","mouseup","245020agUKer","none","1174toqwYk","mouseleave","getComputedStyle","1608047DYXtWj","963CaPFvj","beforeend","1601536OCJHBA"];return _0x32ac=function(){return lr},_0x32ac()}function hide(lr){var cr=_0x31c5,ar=s$1(lr);ar!=null&&(ar[cr(104)][cr(122)]=cr(107))}function addButtonEventListeners(lr,cr){var ar=_0x31c5;let or=![];const ur=fr=>{cr(fr)};lr[ar(120)](ar(118),()=>{or=!![],ur(!![])}),lr.addEventListener(ar(105),()=>{or&&(ur(![]),or=![])}),lr[ar(120)](ar(109),()=>{or&&(ur(![]),or=![])})}const e=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,t$1=Object.keys,n$1=Array.isArray;function r$1(lr,cr){return typeof cr!="object"||t$1(cr).forEach(function(ar){lr[ar]=cr[ar]}),lr}typeof Promise>"u"||e.Promise||(e.Promise=Promise);const s=Object.getPrototypeOf,i={}.hasOwnProperty;function o(lr,cr){return i.call(lr,cr)}function a$1(lr,cr){typeof cr=="function"&&(cr=cr(s(lr))),(typeof Reflect>"u"?t$1:Reflect.ownKeys)(cr).forEach(ar=>{l$2(lr,ar,cr[ar])})}const u$1=Object.defineProperty;function l$2(lr,cr,ar,or){u$1(lr,cr,r$1(ar&&o(ar,"get")&&typeof ar.get=="function"?{get:ar.get,set:ar.set,configurable:!0}:{value:ar,configurable:!0,writable:!0},or))}function c(lr){return{from:function(cr){return lr.prototype=Object.create(cr.prototype),l$2(lr.prototype,"constructor",lr),{extend:a$1.bind(null,lr.prototype)}}}}const h=Object.getOwnPropertyDescriptor;function d(lr,cr){let ar;return h(lr,cr)||(ar=s(lr))&&d(ar,cr)}const f=[].slice;function p$1(lr,cr,ar){return f.call(lr,cr,ar)}function y$1(lr,cr){return cr(lr)}function m(lr){if(!lr)throw new Error("Assertion Failed")}function v$1(lr){e.setImmediate?setImmediate(lr):setTimeout(lr,0)}function g(lr,cr){return lr.reduce((ar,or,ur)=>{var fr=cr(or,ur);return fr&&(ar[fr[0]]=fr[1]),ar},{})}function b$1(lr,cr){if(typeof cr=="string"&&o(lr,cr))return lr[cr];if(!cr)return lr;if(typeof cr!="string"){for(var ar=[],or=0,ur=cr.length;or<ur;++or){var fr=b$1(lr,cr[or]);ar.push(fr)}return ar}var xr=cr.indexOf(".");if(xr!==-1){var pr=lr[cr.substr(0,xr)];return pr==null?void 0:b$1(pr,cr.substr(xr+1))}}function _(lr,cr,ar){if(lr&&cr!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(lr)))if(typeof cr!="string"&&"length"in cr){m(typeof ar!="string"&&"length"in ar);for(var or=0,ur=cr.length;or<ur;++or)_(lr,cr[or],ar[or])}else{var fr=cr.indexOf(".");if(fr!==-1){var xr=cr.substr(0,fr),pr=cr.substr(fr+1);if(pr==="")ar===void 0?n$1(lr)&&!isNaN(parseInt(xr))?lr.splice(xr,1):delete lr[xr]:lr[xr]=ar;else{var br=lr[xr];br&&o(lr,xr)||(br=lr[xr]={}),_(br,pr,ar)}}else ar===void 0?n$1(lr)&&!isNaN(parseInt(cr))?lr.splice(cr,1):delete lr[cr]:lr[cr]=ar}}function w$1(lr){var cr={};for(var ar in lr)o(lr,ar)&&(cr[ar]=lr[ar]);return cr}const x$1=[].concat;function k(lr){return x$1.apply([],lr)}const E$1="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(k([8,16,32,64].map(lr=>["Int","Uint","Float"].map(cr=>cr+lr+"Array")))).filter(lr=>e[lr]),P$1=E$1.map(lr=>e[lr]);g(E$1,lr=>[lr,!0]);let K$2=null;function O$2(lr){K$2=typeof WeakMap<"u"&&new WeakMap;const cr=S$1(lr);return K$2=null,cr}function S$1(lr){if(!lr||typeof lr!="object")return lr;let cr=K$2&&K$2.get(lr);if(cr)return cr;if(n$1(lr)){cr=[],K$2&&K$2.set(lr,cr);for(var ar=0,or=lr.length;ar<or;++ar)cr.push(S$1(lr[ar]))}else if(P$1.indexOf(lr.constructor)>=0)cr=lr;else{const fr=s(lr);for(var ur in cr=fr===Object.prototype?{}:Object.create(fr),K$2&&K$2.set(lr,cr),lr)o(lr,ur)&&(cr[ur]=S$1(lr[ur]))}return cr}const{toString:A$1}={};function C$1(lr){return A$1.call(lr).slice(8,-1)}const j$1=typeof Symbol<"u"?Symbol.iterator:"@@iterator",D$2=typeof j$1=="symbol"?function(lr){var cr;return lr!=null&&(cr=lr[j$1])&&cr.apply(lr)}:function(){return null},I$2={};function B$1(lr){var cr,ar,or,ur;if(arguments.length===1){if(n$1(lr))return lr.slice();if(this===I$2&&typeof lr=="string")return[lr];if(ur=D$2(lr)){for(ar=[];!(or=ur.next()).done;)ar.push(or.value);return ar}if(lr==null)return[lr];if(typeof(cr=lr.length)=="number"){for(ar=new Array(cr);cr--;)ar[cr]=lr[cr];return ar}return[lr]}for(cr=arguments.length,ar=new Array(cr);cr--;)ar[cr]=arguments[cr];return ar}const T$1=typeof Symbol<"u"?lr=>lr[Symbol.toStringTag]==="AsyncFunction":()=>!1;var R$2=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function F$2(lr,cr){R$2=lr,M$1=cr}var M$1=()=>!0;const N$2=!new Error("").stack;function q$1(){if(N$2)try{throw q$1.arguments,new Error}catch(lr){return lr}return new Error}function $$1(lr,cr){var ar=lr.stack;return ar?(cr=cr||0,ar.indexOf(lr.name)===0&&(cr+=(lr.name+lr.message).split(`
`).length),ar.split(`
`).slice(cr).filter(M$1).map(or=>`
`+or).join("")):""}var U$2=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],L$2=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(U$2),V$2={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function W$2(lr,cr){this._e=q$1(),this.name=lr,this.message=cr}function Y$1(lr,cr){return lr+". Errors: "+Object.keys(cr).map(ar=>cr[ar].toString()).filter((ar,or,ur)=>ur.indexOf(ar)===or).join(`
`)}function z$1(lr,cr,ar,or){this._e=q$1(),this.failures=cr,this.failedKeys=or,this.successCount=ar,this.message=Y$1(lr,cr)}function G$2(lr,cr){this._e=q$1(),this.name="BulkError",this.failures=Object.keys(cr).map(ar=>cr[ar]),this.failuresByPos=cr,this.message=Y$1(lr,cr)}c(W$2).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+$$1(this._e,2))}},toString:function(){return this.name+": "+this.message}}),c(z$1).from(W$2),c(G$2).from(W$2);var H$1=L$2.reduce((lr,cr)=>(lr[cr]=cr+"Error",lr),{});const Q$2=W$2;var X$2=L$2.reduce((lr,cr)=>{var ar=cr+"Error";function or(ur,fr){this._e=q$1(),this.name=ar,ur?typeof ur=="string"?(this.message=`${ur}${fr?`
 `+fr:""}`,this.inner=fr||null):typeof ur=="object"&&(this.message=`${ur.name} ${ur.message}`,this.inner=ur):(this.message=V$2[cr]||ar,this.inner=null)}return c(or).from(Q$2),lr[cr]=or,lr},{});X$2.Syntax=SyntaxError,X$2.Type=TypeError,X$2.Range=RangeError;var J$2=U$2.reduce((lr,cr)=>(lr[cr+"Error"]=X$2[cr],lr),{}),Z$1=L$2.reduce((lr,cr)=>(["Syntax","Type","Range"].indexOf(cr)===-1&&(lr[cr+"Error"]=X$2[cr]),lr),{});function ee$1(){}function te$1(lr){return lr}function ne(lr,cr){return lr==null||lr===te$1?cr:function(ar){return cr(lr(ar))}}function re$1(lr,cr){return function(){lr.apply(this,arguments),cr.apply(this,arguments)}}function se$1(lr,cr){return lr===ee$1?cr:function(){var ar=lr.apply(this,arguments);ar!==void 0&&(arguments[0]=ar);var or=this.onsuccess,ur=this.onerror;this.onsuccess=null,this.onerror=null;var fr=cr.apply(this,arguments);return or&&(this.onsuccess=this.onsuccess?re$1(or,this.onsuccess):or),ur&&(this.onerror=this.onerror?re$1(ur,this.onerror):ur),fr!==void 0?fr:ar}}function ie$1(lr,cr){return lr===ee$1?cr:function(){lr.apply(this,arguments);var ar=this.onsuccess,or=this.onerror;this.onsuccess=this.onerror=null,cr.apply(this,arguments),ar&&(this.onsuccess=this.onsuccess?re$1(ar,this.onsuccess):ar),or&&(this.onerror=this.onerror?re$1(or,this.onerror):or)}}function oe$1(lr,cr){return lr===ee$1?cr:function(ar){var or=lr.apply(this,arguments);r$1(ar,or);var ur=this.onsuccess,fr=this.onerror;this.onsuccess=null,this.onerror=null;var xr=cr.apply(this,arguments);return ur&&(this.onsuccess=this.onsuccess?re$1(ur,this.onsuccess):ur),fr&&(this.onerror=this.onerror?re$1(fr,this.onerror):fr),or===void 0?xr===void 0?void 0:xr:r$1(or,xr)}}function ae$1(lr,cr){return lr===ee$1?cr:function(){return cr.apply(this,arguments)!==!1&&lr.apply(this,arguments)}}function ue$1(lr,cr){return lr===ee$1?cr:function(){var ar=lr.apply(this,arguments);if(ar&&typeof ar.then=="function"){for(var or=this,ur=arguments.length,fr=new Array(ur);ur--;)fr[ur]=arguments[ur];return ar.then(function(){return cr.apply(or,fr)})}return cr.apply(this,arguments)}}Z$1.ModifyError=z$1,Z$1.DexieError=W$2,Z$1.BulkError=G$2;var le$1={};const ce$1=100,[he$1,de$1,fe$1]=typeof Promise>"u"?[]:(()=>{let lr=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[lr,s(lr),lr];const cr=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[cr,s(cr),lr]})(),pe$1=de$1&&de$1.then,ye$1=he$1&&he$1.constructor,me$1=!!fe$1;var ve$1=!1,ge$1=fe$1?()=>{fe$1.then($e)}:e.setImmediate?setImmediate.bind(null,$e):e.MutationObserver?()=>{var lr=document.createElement("div");new MutationObserver(()=>{$e(),lr=null}).observe(lr,{attributes:!0}),lr.setAttribute("i","1")}:()=>{setTimeout($e,0)},be$1=function(lr,cr){Se$1.push([lr,cr]),we$1&&(ge$1(),we$1=!1)},_e=!0,we$1=!0,xe$1=[],ke$1=[],Ee=null,Pe$1=te$1,Ke={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:dt,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(lr=>{try{dt(lr[0],lr[1])}catch{}})}},Oe=Ke,Se$1=[],Ae=0,Ce$1=[];function je(lr){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=ee$1,this._lib=!1;var cr=this._PSD=Oe;if(R$2&&(this._stackHolder=q$1(),this._prev=null,this._numPrev=0),typeof lr!="function"){if(lr!==le$1)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Te(this,this._value))}this._state=null,this._value=null,++cr.ref,Be(this,lr)}const De={get:function(){var lr=Oe,cr=Xe;function ar(or,ur){var fr=!lr.global&&(lr!==Oe||cr!==Xe);const xr=fr&&!tt();var pr=new je((br,gr)=>{Fe(this,new Ie(lt(or,lr,fr,xr),lt(ur,lr,fr,xr),br,gr,lr))});return R$2&&qe(pr,this),pr}return ar.prototype=le$1,ar},set:function(lr){l$2(this,"then",lr&&lr.prototype===le$1?De:{get:function(){return lr},set:De.set})}};function Ie(lr,cr,ar,or,ur){this.onFulfilled=typeof lr=="function"?lr:null,this.onRejected=typeof cr=="function"?cr:null,this.resolve=ar,this.reject=or,this.psd=ur}function Be(lr,cr){try{cr(ar=>{if(lr._state===null){if(ar===lr)throw new TypeError("A promise cannot be resolved with itself.");var or=lr._lib&&Ue();ar&&typeof ar.then=="function"?Be(lr,(ur,fr)=>{ar instanceof je?ar._then(ur,fr):ar.then(ur,fr)}):(lr._state=!0,lr._value=ar,Re(lr)),or&&Le()}},Te.bind(null,lr))}catch(ar){Te(lr,ar)}}function Te(lr,cr){if(ke$1.push(cr),lr._state===null){var ar=lr._lib&&Ue();cr=Pe$1(cr),lr._state=!1,lr._value=cr,R$2&&cr!==null&&typeof cr=="object"&&!cr._promise&&function(or,ur,fr){try{or.apply(null,fr)}catch(xr){ur&&ur(xr)}}(()=>{var or=d(cr,"stack");cr._promise=lr,l$2(cr,"stack",{get:()=>ve$1?or&&(or.get?or.get.apply(cr):or.value):lr.stack})}),function(or){xe$1.some(ur=>ur._value===or._value)||xe$1.push(or)}(lr),Re(lr),ar&&Le()}}function Re(lr){var cr=lr._listeners;lr._listeners=[];for(var ar=0,or=cr.length;ar<or;++ar)Fe(lr,cr[ar]);var ur=lr._PSD;--ur.ref||ur.finalize(),Ae===0&&(++Ae,be$1(()=>{--Ae==0&&Ve()},[]))}function Fe(lr,cr){if(lr._state!==null){var ar=lr._state?cr.onFulfilled:cr.onRejected;if(ar===null)return(lr._state?cr.resolve:cr.reject)(lr._value);++cr.psd.ref,++Ae,be$1(Me,[ar,lr,cr])}else lr._listeners.push(cr)}function Me(lr,cr,ar){try{Ee=cr;var or,ur=cr._value;cr._state?or=lr(ur):(ke$1.length&&(ke$1=[]),or=lr(ur),ke$1.indexOf(ur)===-1&&function(fr){for(var xr=xe$1.length;xr;)if(xe$1[--xr]._value===fr._value)return void xe$1.splice(xr,1)}(cr)),ar.resolve(or)}catch(fr){ar.reject(fr)}finally{Ee=null,--Ae==0&&Ve(),--ar.psd.ref||ar.psd.finalize()}}function Ne(lr,cr,ar){if(cr.length===ar)return cr;var or="";if(lr._state===!1){var ur,fr,xr=lr._value;xr!=null?(ur=xr.name||"Error",fr=xr.message||xr,or=$$1(xr,0)):(ur=xr,fr=""),cr.push(ur+(fr?": "+fr:"")+or)}return R$2&&((or=$$1(lr._stackHolder,2))&&cr.indexOf(or)===-1&&cr.push(or),lr._prev&&Ne(lr._prev,cr,ar)),cr}function qe(lr,cr){var ar=cr?cr._numPrev+1:0;ar<100&&(lr._prev=cr,lr._numPrev=ar)}function $e(){Ue()&&Le()}function Ue(){var lr=_e;return _e=!1,we$1=!1,lr}function Le(){var lr,cr,ar;do for(;Se$1.length>0;)for(lr=Se$1,Se$1=[],ar=lr.length,cr=0;cr<ar;++cr){var or=lr[cr];or[0].apply(null,or[1])}while(Se$1.length>0);_e=!0,we$1=!0}function Ve(){var lr=xe$1;xe$1=[],lr.forEach(or=>{or._PSD.onunhandled.call(null,or._value,or)});for(var cr=Ce$1.slice(0),ar=cr.length;ar;)cr[--ar]()}function We(lr){return new je(le$1,!1,lr)}function Ye(lr,cr){var ar=Oe;return function(){var or=Ue(),ur=Oe;try{return it(ar,!0),lr.apply(this,arguments)}catch(fr){cr&&cr(fr)}finally{it(ur,!1),or&&Le()}}}a$1(je.prototype,{then:De,_then:function(lr,cr){Fe(this,new Ie(null,null,lr,cr,Oe))},catch:function(lr){if(arguments.length===1)return this.then(null,lr);var cr=arguments[0],ar=arguments[1];return typeof cr=="function"?this.then(null,or=>or instanceof cr?ar(or):We(or)):this.then(null,or=>or&&or.name===cr?ar(or):We(or))},finally:function(lr){return this.then(cr=>(lr(),cr),cr=>(lr(),We(cr)))},stack:{get:function(){if(this._stack)return this._stack;try{ve$1=!0;var lr=Ne(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=lr),lr}finally{ve$1=!1}}},timeout:function(lr,cr){return lr<1/0?new je((ar,or)=>{var ur=setTimeout(()=>or(new X$2.Timeout(cr)),lr);this.then(ar,or).finally(clearTimeout.bind(null,ur))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&l$2(je.prototype,Symbol.toStringTag,"Dexie.Promise"),Ke.env=ot(),a$1(je,{all:function(){var lr=B$1.apply(null,arguments).map(nt);return new je(function(cr,ar){lr.length===0&&cr([]);var or=lr.length;lr.forEach((ur,fr)=>je.resolve(ur).then(xr=>{lr[fr]=xr,--or||cr(lr)},ar))})},resolve:lr=>{if(lr instanceof je)return lr;if(lr&&typeof lr.then=="function")return new je((ar,or)=>{lr.then(ar,or)});var cr=new je(le$1,!0,lr);return qe(cr,Ee),cr},reject:We,race:function(){var lr=B$1.apply(null,arguments).map(nt);return new je((cr,ar)=>{lr.map(or=>je.resolve(or).then(cr,ar))})},PSD:{get:()=>Oe,set:lr=>Oe=lr},totalEchoes:{get:()=>Xe},newPSD:Ze,usePSD:at,scheduler:{get:()=>be$1,set:lr=>{be$1=lr}},rejectionMapper:{get:()=>Pe$1,set:lr=>{Pe$1=lr}},follow:(lr,cr)=>new je((ar,or)=>Ze((ur,fr)=>{var xr=Oe;xr.unhandleds=[],xr.onunhandled=fr,xr.finalize=re$1(function(){(function(pr){function br(){pr(),Ce$1.splice(Ce$1.indexOf(br),1)}Ce$1.push(br),++Ae,be$1(()=>{--Ae==0&&Ve()},[])})(()=>{this.unhandleds.length===0?ur():fr(this.unhandleds[0])})},xr.finalize),lr()},cr,ar,or))}),ye$1&&(ye$1.allSettled&&l$2(je,"allSettled",function(){const lr=B$1.apply(null,arguments).map(nt);return new je(cr=>{lr.length===0&&cr([]);let ar=lr.length;const or=new Array(ar);lr.forEach((ur,fr)=>je.resolve(ur).then(xr=>or[fr]={status:"fulfilled",value:xr},xr=>or[fr]={status:"rejected",reason:xr}).then(()=>--ar||cr(or)))})}),ye$1.any&&typeof AggregateError<"u"&&l$2(je,"any",function(){const lr=B$1.apply(null,arguments).map(nt);return new je((cr,ar)=>{lr.length===0&&ar(new AggregateError([]));let or=lr.length;const ur=new Array(or);lr.forEach((fr,xr)=>je.resolve(fr).then(pr=>cr(pr),pr=>{ur[xr]=pr,--or||ar(new AggregateError(ur))}))})}));const ze={awaits:0,echoes:0,id:0};var Ge=0,He=[],Qe=0,Xe=0,Je=0;function Ze(lr,cr,ar,or){var ur=Oe,fr=Object.create(ur);fr.parent=ur,fr.ref=0,fr.global=!1,fr.id=++Je;var xr=Ke.env;fr.env=me$1?{Promise:je,PromiseProp:{value:je,configurable:!0,writable:!0},all:je.all,race:je.race,allSettled:je.allSettled,any:je.any,resolve:je.resolve,reject:je.reject,nthen:ct(xr.nthen,fr),gthen:ct(xr.gthen,fr)}:{},cr&&r$1(fr,cr),++ur.ref,fr.finalize=function(){--this.parent.ref||this.parent.finalize()};var pr=at(fr,lr,ar,or);return fr.ref===0&&fr.finalize(),pr}function et(){return ze.id||(ze.id=++Ge),++ze.awaits,ze.echoes+=ce$1,ze.id}function tt(){return!!ze.awaits&&(--ze.awaits==0&&(ze.id=0),ze.echoes=ze.awaits*ce$1,!0)}function nt(lr){return ze.echoes&&lr&&lr.constructor===ye$1?(et(),lr.then(cr=>(tt(),cr),cr=>(tt(),ft(cr)))):lr}function rt(lr){++Xe,ze.echoes&&--ze.echoes!=0||(ze.echoes=ze.id=0),He.push(Oe),it(lr,!0)}function st(){var lr=He[He.length-1];He.pop(),it(lr,!1)}function it(lr,cr){var ar=Oe;if((cr?!ze.echoes||Qe++&&lr===Oe:!Qe||--Qe&&lr===Oe)||ut(cr?rt.bind(null,lr):st),lr!==Oe&&(Oe=lr,ar===Ke&&(Ke.env=ot()),me$1)){var or=Ke.env.Promise,ur=lr.env;de$1.then=ur.nthen,or.prototype.then=ur.gthen,(ar.global||lr.global)&&(Object.defineProperty(e,"Promise",ur.PromiseProp),or.all=ur.all,or.race=ur.race,or.resolve=ur.resolve,or.reject=ur.reject,ur.allSettled&&(or.allSettled=ur.allSettled),ur.any&&(or.any=ur.any))}}function ot(){var lr=e.Promise;return me$1?{Promise:lr,PromiseProp:Object.getOwnPropertyDescriptor(e,"Promise"),all:lr.all,race:lr.race,allSettled:lr.allSettled,any:lr.any,resolve:lr.resolve,reject:lr.reject,nthen:de$1.then,gthen:lr.prototype.then}:{}}function at(lr,cr,ar,or,ur){var fr=Oe;try{return it(lr,!0),cr(ar,or,ur)}finally{it(fr,!1)}}function ut(lr){pe$1.call(he$1,lr)}function lt(lr,cr,ar,or){return typeof lr!="function"?lr:function(){var ur=Oe;ar&&et(),it(cr,!0);try{return lr.apply(this,arguments)}finally{it(ur,!1),or&&ut(tt)}}}function ct(lr,cr){return function(ar,or){return lr.call(this,lt(ar,cr),lt(or,cr))}}(""+pe$1).indexOf("[native code]")===-1&&(et=tt=ee$1);const ht="unhandledrejection";function dt(lr,cr){var ar;try{ar=cr.onuncatched(lr)}catch{}if(ar!==!1)try{var or,ur={promise:cr,reason:lr};if(e.document&&document.createEvent?((or=document.createEvent("Event")).initEvent(ht,!0,!0),r$1(or,ur)):e.CustomEvent&&r$1(or=new CustomEvent(ht,{detail:ur}),ur),or&&e.dispatchEvent&&(dispatchEvent(or),!e.PromiseRejectionEvent&&e.onunhandledrejection))try{e.onunhandledrejection(or)}catch{}R$2&&or&&!or.defaultPrevented&&console.warn(`Unhandled rejection: ${lr.stack||lr}`)}catch{}}var ft=je.reject;function pt(lr,cr,ar,or){if(lr.idbdb&&(lr._state.openComplete||Oe.letThrough||lr._vip)){var ur=lr._createTransaction(cr,ar,lr._dbSchema);try{ur.create(),lr._state.PR1398_maxLoop=3}catch(fr){return fr.name===H$1.InvalidState&&lr.isOpen()&&--lr._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),lr._close(),lr.open().then(()=>pt(lr,cr,ar,or))):ft(fr)}return ur._promise(cr,(fr,xr)=>Ze(()=>(Oe.trans=ur,or(fr,xr,ur)))).then(fr=>ur._completion.then(()=>fr))}if(lr._state.openComplete)return ft(new X$2.DatabaseClosed(lr._state.dbOpenError));if(!lr._state.isBeingOpened){if(!lr._options.autoOpen)return ft(new X$2.DatabaseClosed);lr.open().catch(ee$1)}return lr._state.dbReadyPromise.then(()=>pt(lr,cr,ar,or))}const yt="3.2.7",mt=String.fromCharCode(65535),vt=-1/0,gt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",bt="String expected.",_t=[],wt=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),xt=wt,kt=wt,Et=lr=>!/(dexie\.js|dexie\.min\.js)/.test(lr),Pt="__dbnames",Kt="readonly",Ot="readwrite";function St(lr,cr){return lr?cr?function(){return lr.apply(this,arguments)&&cr.apply(this,arguments)}:lr:cr}const At={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ct(lr){return typeof lr!="string"||/\./.test(lr)?cr=>cr:cr=>(cr[lr]===void 0&&lr in cr&&delete(cr=O$2(cr))[lr],cr)}class jt{_trans(cr,ar,or){const ur=this._tx||Oe.trans,fr=this.name;function xr(br,gr,mr){if(!mr.schema[fr])throw new X$2.NotFound("Table "+fr+" not part of transaction");return ar(mr.idbtrans,mr)}const pr=Ue();try{return ur&&ur.db===this.db?ur===Oe.trans?ur._promise(cr,xr,or):Ze(()=>ur._promise(cr,xr,or),{trans:ur,transless:Oe.transless||Oe}):pt(this.db,cr,[this.name],xr)}finally{pr&&Le()}}get(cr,ar){return cr&&cr.constructor===Object?this.where(cr).first(ar):this._trans("readonly",or=>this.core.get({trans:or,key:cr}).then(ur=>this.hook.reading.fire(ur))).then(ar)}where(cr){if(typeof cr=="string")return new this.db.WhereClause(this,cr);if(n$1(cr))return new this.db.WhereClause(this,`[${cr.join("+")}]`);const ar=t$1(cr);if(ar.length===1)return this.where(ar[0]).equals(cr[ar[0]]);const or=this.schema.indexes.concat(this.schema.primKey).filter(gr=>{if(gr.compound&&ar.every(mr=>gr.keyPath.indexOf(mr)>=0)){for(let mr=0;mr<ar.length;++mr)if(ar.indexOf(gr.keyPath[mr])===-1)return!1;return!0}return!1}).sort((gr,mr)=>gr.keyPath.length-mr.keyPath.length)[0];if(or&&this.db._maxKey!==mt){const gr=or.keyPath.slice(0,ar.length);return this.where(gr).equals(gr.map(mr=>cr[mr]))}!or&&R$2&&console.warn(`The query ${JSON.stringify(cr)} on ${this.name} would benefit of a compound index [${ar.join("+")}]`);const{idxByName:ur}=this.schema,fr=this.db._deps.indexedDB;function xr(gr,mr){try{return fr.cmp(gr,mr)===0}catch{return!1}}const[pr,br]=ar.reduce(([gr,mr],_r)=>{const Sr=ur[_r],yr=cr[_r];return[gr||Sr,gr||!Sr?St(mr,Sr&&Sr.multi?Cr=>{const Ar=b$1(Cr,_r);return n$1(Ar)&&Ar.some(kr=>xr(yr,kr))}:Cr=>xr(yr,b$1(Cr,_r))):mr]},[null,null]);return pr?this.where(pr.name).equals(cr[pr.keyPath]).filter(br):or?this.filter(br):this.where(ar).equals("")}filter(cr){return this.toCollection().and(cr)}count(cr){return this.toCollection().count(cr)}offset(cr){return this.toCollection().offset(cr)}limit(cr){return this.toCollection().limit(cr)}each(cr){return this.toCollection().each(cr)}toArray(cr){return this.toCollection().toArray(cr)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(cr){return new this.db.Collection(new this.db.WhereClause(this,n$1(cr)?`[${cr.join("+")}]`:cr))}reverse(){return this.toCollection().reverse()}mapToClass(cr){this.schema.mappedClass=cr;const ar=or=>{if(!or)return or;const ur=Object.create(cr.prototype);for(var fr in or)if(o(or,fr))try{ur[fr]=or[fr]}catch{}return ur};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=ar,this.hook("reading",ar),cr}defineClass(){return this.mapToClass(function(cr){r$1(this,cr)})}add(cr,ar){const{auto:or,keyPath:ur}=this.schema.primKey;let fr=cr;return ur&&or&&(fr=Ct(ur)(cr)),this._trans("readwrite",xr=>this.core.mutate({trans:xr,type:"add",keys:ar!=null?[ar]:null,values:[fr]})).then(xr=>xr.numFailures?je.reject(xr.failures[0]):xr.lastResult).then(xr=>{if(ur)try{_(cr,ur,xr)}catch{}return xr})}update(cr,ar){if(typeof cr!="object"||n$1(cr))return this.where(":id").equals(cr).modify(ar);{const or=b$1(cr,this.schema.primKey.keyPath);if(or===void 0)return ft(new X$2.InvalidArgument("Given object does not contain its primary key"));try{typeof ar!="function"?t$1(ar).forEach(ur=>{_(cr,ur,ar[ur])}):ar(cr,{value:cr,primKey:or})}catch{}return this.where(":id").equals(or).modify(ar)}}put(cr,ar){const{auto:or,keyPath:ur}=this.schema.primKey;let fr=cr;return ur&&or&&(fr=Ct(ur)(cr)),this._trans("readwrite",xr=>this.core.mutate({trans:xr,type:"put",values:[fr],keys:ar!=null?[ar]:null})).then(xr=>xr.numFailures?je.reject(xr.failures[0]):xr.lastResult).then(xr=>{if(ur)try{_(cr,ur,xr)}catch{}return xr})}delete(cr){return this._trans("readwrite",ar=>this.core.mutate({trans:ar,type:"delete",keys:[cr]})).then(ar=>ar.numFailures?je.reject(ar.failures[0]):void 0)}clear(){return this._trans("readwrite",cr=>this.core.mutate({trans:cr,type:"deleteRange",range:At})).then(cr=>cr.numFailures?je.reject(cr.failures[0]):void 0)}bulkGet(cr){return this._trans("readonly",ar=>this.core.getMany({keys:cr,trans:ar}).then(or=>or.map(ur=>this.hook.reading.fire(ur))))}bulkAdd(cr,ar,or){const ur=Array.isArray(ar)?ar:void 0,fr=(or=or||(ur?void 0:ar))?or.allKeys:void 0;return this._trans("readwrite",xr=>{const{auto:pr,keyPath:br}=this.schema.primKey;if(br&&ur)throw new X$2.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(ur&&ur.length!==cr.length)throw new X$2.InvalidArgument("Arguments objects and keys must have the same length");const gr=cr.length;let mr=br&&pr?cr.map(Ct(br)):cr;return this.core.mutate({trans:xr,type:"add",keys:ur,values:mr,wantResults:fr}).then(({numFailures:_r,results:Sr,lastResult:yr,failures:Cr})=>{if(_r===0)return fr?Sr:yr;throw new G$2(`${this.name}.bulkAdd(): ${_r} of ${gr} operations failed`,Cr)})})}bulkPut(cr,ar,or){const ur=Array.isArray(ar)?ar:void 0,fr=(or=or||(ur?void 0:ar))?or.allKeys:void 0;return this._trans("readwrite",xr=>{const{auto:pr,keyPath:br}=this.schema.primKey;if(br&&ur)throw new X$2.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(ur&&ur.length!==cr.length)throw new X$2.InvalidArgument("Arguments objects and keys must have the same length");const gr=cr.length;let mr=br&&pr?cr.map(Ct(br)):cr;return this.core.mutate({trans:xr,type:"put",keys:ur,values:mr,wantResults:fr}).then(({numFailures:_r,results:Sr,lastResult:yr,failures:Cr})=>{if(_r===0)return fr?Sr:yr;throw new G$2(`${this.name}.bulkPut(): ${_r} of ${gr} operations failed`,Cr)})})}bulkDelete(cr){const ar=cr.length;return this._trans("readwrite",or=>this.core.mutate({trans:or,type:"delete",keys:cr})).then(({numFailures:or,lastResult:ur,failures:fr})=>{if(or===0)return ur;throw new G$2(`${this.name}.bulkDelete(): ${or} of ${ar} operations failed`,fr)})}}function Dt(lr){var cr={},ar=function(xr,pr){if(pr){for(var br=arguments.length,gr=new Array(br-1);--br;)gr[br-1]=arguments[br];return cr[xr].subscribe.apply(null,gr),lr}if(typeof xr=="string")return cr[xr]};ar.addEventType=fr;for(var or=1,ur=arguments.length;or<ur;++or)fr(arguments[or]);return ar;function fr(xr,pr,br){if(typeof xr!="object"){var gr;pr||(pr=ae$1),br||(br=ee$1);var mr={subscribers:[],fire:br,subscribe:function(_r){mr.subscribers.indexOf(_r)===-1&&(mr.subscribers.push(_r),mr.fire=pr(mr.fire,_r))},unsubscribe:function(_r){mr.subscribers=mr.subscribers.filter(function(Sr){return Sr!==_r}),mr.fire=mr.subscribers.reduce(pr,br)}};return cr[xr]=ar[xr]=mr,mr}t$1(gr=xr).forEach(function(_r){var Sr=gr[_r];if(n$1(Sr))fr(_r,gr[_r][0],gr[_r][1]);else{if(Sr!=="asap")throw new X$2.InvalidArgument("Invalid event config");var yr=fr(_r,te$1,function(){for(var Cr=arguments.length,Ar=new Array(Cr);Cr--;)Ar[Cr]=arguments[Cr];yr.subscribers.forEach(function(kr){v$1(function(){kr.apply(null,Ar)})})})}})}}function It(lr,cr){return c(cr).from({prototype:lr}),cr}function Bt(lr,cr){return!(lr.filter||lr.algorithm||lr.or)&&(cr?lr.justLimit:!lr.replayFilter)}function Tt(lr,cr){lr.filter=St(lr.filter,cr)}function Rt(lr,cr,ar){var or=lr.replayFilter;lr.replayFilter=or?()=>St(or(),cr()):cr,lr.justLimit=ar&&!or}function Ft(lr,cr){if(lr.isPrimKey)return cr.primaryKey;const ar=cr.getIndexByKeyPath(lr.index);if(!ar)throw new X$2.Schema("KeyPath "+lr.index+" on object store "+cr.name+" is not indexed");return ar}function Mt(lr,cr,ar){const or=Ft(lr,cr.schema);return cr.openCursor({trans:ar,values:!lr.keysOnly,reverse:lr.dir==="prev",unique:!!lr.unique,query:{index:or,range:lr.range}})}function Nt(lr,cr,ar,or){const ur=lr.replayFilter?St(lr.filter,lr.replayFilter()):lr.filter;if(lr.or){const fr={},xr=(pr,br,gr)=>{if(!ur||ur(br,gr,Sr=>br.stop(Sr),Sr=>br.fail(Sr))){var mr=br.primaryKey,_r=""+mr;_r==="[object ArrayBuffer]"&&(_r=""+new Uint8Array(mr)),o(fr,_r)||(fr[_r]=!0,cr(pr,br,gr))}};return Promise.all([lr.or._iterate(xr,ar),qt(Mt(lr,or,ar),lr.algorithm,xr,!lr.keysOnly&&lr.valueMapper)])}return qt(Mt(lr,or,ar),St(lr.algorithm,ur),cr,!lr.keysOnly&&lr.valueMapper)}function qt(lr,cr,ar,or){var ur=Ye(or?(fr,xr,pr)=>ar(or(fr),xr,pr):ar);return lr.then(fr=>{if(fr)return fr.start(()=>{var xr=()=>fr.continue();cr&&!cr(fr,pr=>xr=pr,pr=>{fr.stop(pr),xr=ee$1},pr=>{fr.fail(pr),xr=ee$1})||ur(fr.value,fr,pr=>xr=pr),xr()})})}function $t(lr,cr){try{const ar=Ut(lr),or=Ut(cr);if(ar!==or)return ar==="Array"?1:or==="Array"?-1:ar==="binary"?1:or==="binary"?-1:ar==="string"?1:or==="string"?-1:ar==="Date"?1:or!=="Date"?NaN:-1;switch(ar){case"number":case"Date":case"string":return lr>cr?1:lr<cr?-1:0;case"binary":return function(ur,fr){const xr=ur.length,pr=fr.length,br=xr<pr?xr:pr;for(let gr=0;gr<br;++gr)if(ur[gr]!==fr[gr])return ur[gr]<fr[gr]?-1:1;return xr===pr?0:xr<pr?-1:1}(Lt(lr),Lt(cr));case"Array":return function(ur,fr){const xr=ur.length,pr=fr.length,br=xr<pr?xr:pr;for(let gr=0;gr<br;++gr){const mr=$t(ur[gr],fr[gr]);if(mr!==0)return mr}return xr===pr?0:xr<pr?-1:1}(lr,cr)}}catch{}return NaN}function Ut(lr){const cr=typeof lr;if(cr!=="object")return cr;if(ArrayBuffer.isView(lr))return"binary";const ar=C$1(lr);return ar==="ArrayBuffer"?"binary":ar}function Lt(lr){return lr instanceof Uint8Array?lr:ArrayBuffer.isView(lr)?new Uint8Array(lr.buffer,lr.byteOffset,lr.byteLength):new Uint8Array(lr)}class Vt{_read(cr,ar){var or=this._ctx;return or.error?or.table._trans(null,ft.bind(null,or.error)):or.table._trans("readonly",cr).then(ar)}_write(cr){var ar=this._ctx;return ar.error?ar.table._trans(null,ft.bind(null,ar.error)):ar.table._trans("readwrite",cr,"locked")}_addAlgorithm(cr){var ar=this._ctx;ar.algorithm=St(ar.algorithm,cr)}_iterate(cr,ar){return Nt(this._ctx,cr,ar,this._ctx.table.core)}clone(cr){var ar=Object.create(this.constructor.prototype),or=Object.create(this._ctx);return cr&&r$1(or,cr),ar._ctx=or,ar}raw(){return this._ctx.valueMapper=null,this}each(cr){var ar=this._ctx;return this._read(or=>Nt(ar,cr,or,ar.table.core))}count(cr){return this._read(ar=>{const or=this._ctx,ur=or.table.core;if(Bt(or,!0))return ur.count({trans:ar,query:{index:Ft(or,ur.schema),range:or.range}}).then(xr=>Math.min(xr,or.limit));var fr=0;return Nt(or,()=>(++fr,!1),ar,ur).then(()=>fr)}).then(cr)}sortBy(cr,ar){const or=cr.split(".").reverse(),ur=or[0],fr=or.length-1;function xr(gr,mr){return mr?xr(gr[or[mr]],mr-1):gr[ur]}var pr=this._ctx.dir==="next"?1:-1;function br(gr,mr){var _r=xr(gr,fr),Sr=xr(mr,fr);return _r<Sr?-pr:_r>Sr?pr:0}return this.toArray(function(gr){return gr.sort(br)}).then(ar)}toArray(cr){return this._read(ar=>{var or=this._ctx;if(or.dir==="next"&&Bt(or,!0)&&or.limit>0){const{valueMapper:ur}=or,fr=Ft(or,or.table.core.schema);return or.table.core.query({trans:ar,limit:or.limit,values:!0,query:{index:fr,range:or.range}}).then(({result:xr})=>ur?xr.map(ur):xr)}{const ur=[];return Nt(or,fr=>ur.push(fr),ar,or.table.core).then(()=>ur)}},cr)}offset(cr){var ar=this._ctx;return cr<=0||(ar.offset+=cr,Bt(ar)?Rt(ar,()=>{var or=cr;return(ur,fr)=>or===0||(or===1?(--or,!1):(fr(()=>{ur.advance(or),or=0}),!1))}):Rt(ar,()=>{var or=cr;return()=>--or<0})),this}limit(cr){return this._ctx.limit=Math.min(this._ctx.limit,cr),Rt(this._ctx,()=>{var ar=cr;return function(or,ur,fr){return--ar<=0&&ur(fr),ar>=0}},!0),this}until(cr,ar){return Tt(this._ctx,function(or,ur,fr){return!cr(or.value)||(ur(fr),ar)}),this}first(cr){return this.limit(1).toArray(function(ar){return ar[0]}).then(cr)}last(cr){return this.reverse().first(cr)}filter(cr){var ar,or;return Tt(this._ctx,function(ur){return cr(ur.value)}),ar=this._ctx,or=cr,ar.isMatch=St(ar.isMatch,or),this}and(cr){return this.filter(cr)}or(cr){return new this.db.WhereClause(this._ctx.table,cr,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(cr){var ar=this._ctx;return ar.keysOnly=!ar.isMatch,this.each(function(or,ur){cr(ur.key,ur)})}eachUniqueKey(cr){return this._ctx.unique="unique",this.eachKey(cr)}eachPrimaryKey(cr){var ar=this._ctx;return ar.keysOnly=!ar.isMatch,this.each(function(or,ur){cr(ur.primaryKey,ur)})}keys(cr){var ar=this._ctx;ar.keysOnly=!ar.isMatch;var or=[];return this.each(function(ur,fr){or.push(fr.key)}).then(function(){return or}).then(cr)}primaryKeys(cr){var ar=this._ctx;if(ar.dir==="next"&&Bt(ar,!0)&&ar.limit>0)return this._read(ur=>{var fr=Ft(ar,ar.table.core.schema);return ar.table.core.query({trans:ur,values:!1,limit:ar.limit,query:{index:fr,range:ar.range}})}).then(({result:ur})=>ur).then(cr);ar.keysOnly=!ar.isMatch;var or=[];return this.each(function(ur,fr){or.push(fr.primaryKey)}).then(function(){return or}).then(cr)}uniqueKeys(cr){return this._ctx.unique="unique",this.keys(cr)}firstKey(cr){return this.limit(1).keys(function(ar){return ar[0]}).then(cr)}lastKey(cr){return this.reverse().firstKey(cr)}distinct(){var cr=this._ctx,ar=cr.index&&cr.table.schema.idxByName[cr.index];if(!ar||!ar.multi)return this;var or={};return Tt(this._ctx,function(ur){var fr=ur.primaryKey.toString(),xr=o(or,fr);return or[fr]=!0,!xr}),this}modify(cr){var ar=this._ctx;return this._write(or=>{var ur;if(typeof cr=="function")ur=cr;else{var fr=t$1(cr),xr=fr.length;ur=function(Ar){for(var kr=!1,Or=0;Or<xr;++Or){var Dr=fr[Or],Rr=cr[Dr];b$1(Ar,Dr)!==Rr&&(_(Ar,Dr,Rr),kr=!0)}return kr}}const pr=ar.table.core,{outbound:br,extractKey:gr}=pr.schema.primaryKey,mr=this.db._options.modifyChunkSize||200,_r=[];let Sr=0;const yr=[],Cr=(Ar,kr)=>{const{failures:Or,numFailures:Dr}=kr;Sr+=Ar-Dr;for(let Rr of t$1(Or))_r.push(Or[Rr])};return this.clone().primaryKeys().then(Ar=>{const kr=Or=>{const Dr=Math.min(mr,Ar.length-Or);return pr.getMany({trans:or,keys:Ar.slice(Or,Or+Dr),cache:"immutable"}).then(Rr=>{const Fr=[],Nr=[],Hr=br?[]:null,jr=[];for(let Yr=0;Yr<Dr;++Yr){const Ur=Rr[Yr],Zr={value:O$2(Ur),primKey:Ar[Or+Yr]};ur.call(Zr,Zr.value,Zr)!==!1&&(Zr.value==null?jr.push(Ar[Or+Yr]):br||$t(gr(Ur),gr(Zr.value))===0?(Nr.push(Zr.value),br&&Hr.push(Ar[Or+Yr])):(jr.push(Ar[Or+Yr]),Fr.push(Zr.value)))}const Jr=Bt(ar)&&ar.limit===1/0&&(typeof cr!="function"||cr===Wt)&&{index:ar.index,range:ar.range};return Promise.resolve(Fr.length>0&&pr.mutate({trans:or,type:"add",values:Fr}).then(Yr=>{for(let Ur in Yr.failures)jr.splice(parseInt(Ur),1);Cr(Fr.length,Yr)})).then(()=>(Nr.length>0||Jr&&typeof cr=="object")&&pr.mutate({trans:or,type:"put",keys:Hr,values:Nr,criteria:Jr,changeSpec:typeof cr!="function"&&cr}).then(Yr=>Cr(Nr.length,Yr))).then(()=>(jr.length>0||Jr&&cr===Wt)&&pr.mutate({trans:or,type:"delete",keys:jr,criteria:Jr}).then(Yr=>Cr(jr.length,Yr))).then(()=>Ar.length>Or+Dr&&kr(Or+mr))})};return kr(0).then(()=>{if(_r.length>0)throw new z$1("Error modifying one or more objects",_r,Sr,yr);return Ar.length})})})}delete(){var cr=this._ctx,ar=cr.range;return Bt(cr)&&(cr.isPrimKey&&!kt||ar.type===3)?this._write(or=>{const{primaryKey:ur}=cr.table.core.schema,fr=ar;return cr.table.core.count({trans:or,query:{index:ur,range:fr}}).then(xr=>cr.table.core.mutate({trans:or,type:"deleteRange",range:fr}).then(({failures:pr,lastResult:br,results:gr,numFailures:mr})=>{if(mr)throw new z$1("Could not delete some values",Object.keys(pr).map(_r=>pr[_r]),xr-mr);return xr-mr}))}):this.modify(Wt)}}const Wt=(lr,cr)=>cr.value=null;function Yt(lr,cr){return lr<cr?-1:lr===cr?0:1}function zt(lr,cr){return lr>cr?-1:lr===cr?0:1}function Gt(lr,cr,ar){var or=lr instanceof en?new lr.Collection(lr):lr;return or._ctx.error=ar?new ar(cr):new TypeError(cr),or}function Ht(lr){return new lr.Collection(lr,()=>Zt("")).limit(0)}function Qt(lr,cr,ar,or,ur,fr){for(var xr=Math.min(lr.length,or.length),pr=-1,br=0;br<xr;++br){var gr=cr[br];if(gr!==or[br])return ur(lr[br],ar[br])<0?lr.substr(0,br)+ar[br]+ar.substr(br+1):ur(lr[br],or[br])<0?lr.substr(0,br)+or[br]+ar.substr(br+1):pr>=0?lr.substr(0,pr)+cr[pr]+ar.substr(pr+1):null;ur(lr[br],gr)<0&&(pr=br)}return xr<or.length&&fr==="next"?lr+ar.substr(lr.length):xr<lr.length&&fr==="prev"?lr.substr(0,ar.length):pr<0?null:lr.substr(0,pr)+or[pr]+ar.substr(pr+1)}function Xt(lr,cr,ar,or){var ur,fr,xr,pr,br,gr,mr,_r=ar.length;if(!ar.every(Ar=>typeof Ar=="string"))return Gt(lr,bt);function Sr(Ar){ur=function(Or){return Or==="next"?Dr=>Dr.toUpperCase():Dr=>Dr.toLowerCase()}(Ar),fr=function(Or){return Or==="next"?Dr=>Dr.toLowerCase():Dr=>Dr.toUpperCase()}(Ar),xr=Ar==="next"?Yt:zt;var kr=ar.map(function(Or){return{lower:fr(Or),upper:ur(Or)}}).sort(function(Or,Dr){return xr(Or.lower,Dr.lower)});pr=kr.map(function(Or){return Or.upper}),br=kr.map(function(Or){return Or.lower}),gr=Ar,mr=Ar==="next"?"":or}Sr("next");var yr=new lr.Collection(lr,()=>Jt(pr[0],br[_r-1]+or));yr._ondirectionchange=function(Ar){Sr(Ar)};var Cr=0;return yr._addAlgorithm(function(Ar,kr,Or){var Dr=Ar.key;if(typeof Dr!="string")return!1;var Rr=fr(Dr);if(cr(Rr,br,Cr))return!0;for(var Fr=null,Nr=Cr;Nr<_r;++Nr){var Hr=Qt(Dr,Rr,pr[Nr],br[Nr],xr,gr);Hr===null&&Fr===null?Cr=Nr+1:(Fr===null||xr(Fr,Hr)>0)&&(Fr=Hr)}return kr(Fr!==null?function(){Ar.continue(Fr+mr)}:Or),!1}),yr}function Jt(lr,cr,ar,or){return{type:2,lower:lr,upper:cr,lowerOpen:ar,upperOpen:or}}function Zt(lr){return{type:1,lower:lr,upper:lr}}class en{get Collection(){return this._ctx.table.db.Collection}between(cr,ar,or,ur){or=or!==!1,ur=ur===!0;try{return this._cmp(cr,ar)>0||this._cmp(cr,ar)===0&&(or||ur)&&(!or||!ur)?Ht(this):new this.Collection(this,()=>Jt(cr,ar,!or,!ur))}catch{return Gt(this,gt)}}equals(cr){return cr==null?Gt(this,gt):new this.Collection(this,()=>Zt(cr))}above(cr){return cr==null?Gt(this,gt):new this.Collection(this,()=>Jt(cr,void 0,!0))}aboveOrEqual(cr){return cr==null?Gt(this,gt):new this.Collection(this,()=>Jt(cr,void 0,!1))}below(cr){return cr==null?Gt(this,gt):new this.Collection(this,()=>Jt(void 0,cr,!1,!0))}belowOrEqual(cr){return cr==null?Gt(this,gt):new this.Collection(this,()=>Jt(void 0,cr))}startsWith(cr){return typeof cr!="string"?Gt(this,bt):this.between(cr,cr+mt,!0,!0)}startsWithIgnoreCase(cr){return cr===""?this.startsWith(cr):Xt(this,(ar,or)=>ar.indexOf(or[0])===0,[cr],mt)}equalsIgnoreCase(cr){return Xt(this,(ar,or)=>ar===or[0],[cr],"")}anyOfIgnoreCase(){var cr=B$1.apply(I$2,arguments);return cr.length===0?Ht(this):Xt(this,(ar,or)=>or.indexOf(ar)!==-1,cr,"")}startsWithAnyOfIgnoreCase(){var cr=B$1.apply(I$2,arguments);return cr.length===0?Ht(this):Xt(this,(ar,or)=>or.some(ur=>ar.indexOf(ur)===0),cr,mt)}anyOf(){const cr=B$1.apply(I$2,arguments);let ar=this._cmp;try{cr.sort(ar)}catch{return Gt(this,gt)}if(cr.length===0)return Ht(this);const or=new this.Collection(this,()=>Jt(cr[0],cr[cr.length-1]));or._ondirectionchange=fr=>{ar=fr==="next"?this._ascending:this._descending,cr.sort(ar)};let ur=0;return or._addAlgorithm((fr,xr,pr)=>{const br=fr.key;for(;ar(br,cr[ur])>0;)if(++ur,ur===cr.length)return xr(pr),!1;return ar(br,cr[ur])===0||(xr(()=>{fr.continue(cr[ur])}),!1)}),or}notEqual(cr){return this.inAnyRange([[vt,cr],[cr,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const cr=B$1.apply(I$2,arguments);if(cr.length===0)return new this.Collection(this);try{cr.sort(this._ascending)}catch{return Gt(this,gt)}const ar=cr.reduce((or,ur)=>or?or.concat([[or[or.length-1][1],ur]]):[[vt,ur]],null);return ar.push([cr[cr.length-1],this.db._maxKey]),this.inAnyRange(ar,{includeLowers:!1,includeUppers:!1})}inAnyRange(cr,ar){const or=this._cmp,ur=this._ascending,fr=this._descending,xr=this._min,pr=this._max;if(cr.length===0)return Ht(this);if(!cr.every(Dr=>Dr[0]!==void 0&&Dr[1]!==void 0&&ur(Dr[0],Dr[1])<=0))return Gt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",X$2.InvalidArgument);const br=!ar||ar.includeLowers!==!1,gr=ar&&ar.includeUppers===!0;let mr,_r=ur;function Sr(Dr,Rr){return _r(Dr[0],Rr[0])}try{mr=cr.reduce(function(Dr,Rr){let Fr=0,Nr=Dr.length;for(;Fr<Nr;++Fr){const Hr=Dr[Fr];if(or(Rr[0],Hr[1])<0&&or(Rr[1],Hr[0])>0){Hr[0]=xr(Hr[0],Rr[0]),Hr[1]=pr(Hr[1],Rr[1]);break}}return Fr===Nr&&Dr.push(Rr),Dr},[]),mr.sort(Sr)}catch{return Gt(this,gt)}let yr=0;const Cr=gr?Dr=>ur(Dr,mr[yr][1])>0:Dr=>ur(Dr,mr[yr][1])>=0,Ar=br?Dr=>fr(Dr,mr[yr][0])>0:Dr=>fr(Dr,mr[yr][0])>=0;let kr=Cr;const Or=new this.Collection(this,()=>Jt(mr[0][0],mr[mr.length-1][1],!br,!gr));return Or._ondirectionchange=Dr=>{Dr==="next"?(kr=Cr,_r=ur):(kr=Ar,_r=fr),mr.sort(Sr)},Or._addAlgorithm((Dr,Rr,Fr)=>{for(var Nr=Dr.key;kr(Nr);)if(++yr,yr===mr.length)return Rr(Fr),!1;return!!function(Hr){return!Cr(Hr)&&!Ar(Hr)}(Nr)||(this._cmp(Nr,mr[yr][1])===0||this._cmp(Nr,mr[yr][0])===0||Rr(()=>{_r===ur?Dr.continue(mr[yr][0]):Dr.continue(mr[yr][1])}),!1)}),Or}startsWithAnyOf(){const cr=B$1.apply(I$2,arguments);return cr.every(ar=>typeof ar=="string")?cr.length===0?Ht(this):this.inAnyRange(cr.map(ar=>[ar,ar+mt])):Gt(this,"startsWithAnyOf() only works with strings")}}function tn(lr){return Ye(function(cr){return nn(cr),lr(cr.target.error),!1})}function nn(lr){lr.stopPropagation&&lr.stopPropagation(),lr.preventDefault&&lr.preventDefault()}const rn="storagemutated",sn="x-storagemutated-1",on=Dt(null,rn);class an{_lock(){return m(!Oe.global),++this._reculock,this._reculock!==1||Oe.global||(Oe.lockOwnerFor=this),this}_unlock(){if(m(!Oe.global),--this._reculock==0)for(Oe.global||(Oe.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var cr=this._blockedFuncs.shift();try{at(cr[1],cr[0])}catch{}}return this}_locked(){return this._reculock&&Oe.lockOwnerFor!==this}create(cr){if(!this.mode)return this;const ar=this.db.idbdb,or=this.db._state.dbOpenError;if(m(!this.idbtrans),!cr&&!ar)switch(or&&or.name){case"DatabaseClosedError":throw new X$2.DatabaseClosed(or);case"MissingAPIError":throw new X$2.MissingAPI(or.message,or);default:throw new X$2.OpenFailed(or)}if(!this.active)throw new X$2.TransactionInactive;return m(this._completion._state===null),(cr=this.idbtrans=cr||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):ar.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Ye(ur=>{nn(ur),this._reject(cr.error)}),cr.onabort=Ye(ur=>{nn(ur),this.active&&this._reject(new X$2.Abort(cr.error)),this.active=!1,this.on("abort").fire(ur)}),cr.oncomplete=Ye(()=>{this.active=!1,this._resolve(),"mutatedParts"in cr&&on.storagemutated.fire(cr.mutatedParts)}),this}_promise(cr,ar,or){if(cr==="readwrite"&&this.mode!=="readwrite")return ft(new X$2.ReadOnly("Transaction is readonly"));if(!this.active)return ft(new X$2.TransactionInactive);if(this._locked())return new je((fr,xr)=>{this._blockedFuncs.push([()=>{this._promise(cr,ar,or).then(fr,xr)},Oe])});if(or)return Ze(()=>{var fr=new je((xr,pr)=>{this._lock();const br=ar(xr,pr,this);br&&br.then&&br.then(xr,pr)});return fr.finally(()=>this._unlock()),fr._lib=!0,fr});var ur=new je((fr,xr)=>{var pr=ar(fr,xr,this);pr&&pr.then&&pr.then(fr,xr)});return ur._lib=!0,ur}_root(){return this.parent?this.parent._root():this}waitFor(cr){var ar=this._root();const or=je.resolve(cr);if(ar._waitingFor)ar._waitingFor=ar._waitingFor.then(()=>or);else{ar._waitingFor=or,ar._waitingQueue=[];var ur=ar.idbtrans.objectStore(ar.storeNames[0]);(function xr(){for(++ar._spinCount;ar._waitingQueue.length;)ar._waitingQueue.shift()();ar._waitingFor&&(ur.get(-1/0).onsuccess=xr)})()}var fr=ar._waitingFor;return new je((xr,pr)=>{or.then(br=>ar._waitingQueue.push(Ye(xr.bind(null,br))),br=>ar._waitingQueue.push(Ye(pr.bind(null,br)))).finally(()=>{ar._waitingFor===fr&&(ar._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new X$2.Abort))}table(cr){const ar=this._memoizedTables||(this._memoizedTables={});if(o(ar,cr))return ar[cr];const or=this.schema[cr];if(!or)throw new X$2.NotFound("Table "+cr+" not part of transaction");const ur=new this.db.Table(cr,or,this);return ur.core=this.db.core.table(cr),ar[cr]=ur,ur}}function un(lr,cr,ar,or,ur,fr,xr){return{name:lr,keyPath:cr,unique:ar,multi:or,auto:ur,compound:fr,src:(ar&&!xr?"&":"")+(or?"*":"")+(ur?"++":"")+ln(cr)}}function ln(lr){return typeof lr=="string"?lr:lr?"["+[].join.call(lr,"+")+"]":""}function cn(lr,cr,ar){return{name:lr,primKey:cr,indexes:ar,mappedClass:null,idxByName:g(ar,or=>[or.name,or])}}let hn=lr=>{try{return lr.only([[]]),hn=()=>[[]],[[]]}catch{return hn=()=>mt,mt}};function dn(lr){return lr==null?()=>{}:typeof lr=="string"?function(cr){return cr.split(".").length===1?or=>or[cr]:or=>b$1(or,cr)}(lr):cr=>b$1(cr,lr)}function fn(lr){return[].slice.call(lr)}let pn=0;function yn(lr){return lr==null?":id":typeof lr=="string"?lr:`[${lr.join("+")}]`}function mn(lr,cr,ar){function or(br){if(br.type===3)return null;if(br.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:gr,upper:mr,lowerOpen:_r,upperOpen:Sr}=br;return gr===void 0?mr===void 0?null:cr.upperBound(mr,!!Sr):mr===void 0?cr.lowerBound(gr,!!_r):cr.bound(gr,mr,!!_r,!!Sr)}const{schema:ur,hasGetAll:fr}=function(br,gr){const mr=fn(br.objectStoreNames);return{schema:{name:br.name,tables:mr.map(_r=>gr.objectStore(_r)).map(_r=>{const{keyPath:Sr,autoIncrement:yr}=_r,Cr=n$1(Sr),Ar=Sr==null,kr={},Or={name:_r.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:Ar,compound:Cr,keyPath:Sr,autoIncrement:yr,unique:!0,extractKey:dn(Sr)},indexes:fn(_r.indexNames).map(Dr=>_r.index(Dr)).map(Dr=>{const{name:Rr,unique:Fr,multiEntry:Nr,keyPath:Hr}=Dr,jr={name:Rr,compound:n$1(Hr),keyPath:Hr,unique:Fr,multiEntry:Nr,extractKey:dn(Hr)};return kr[yn(Hr)]=jr,jr}),getIndexByKeyPath:Dr=>kr[yn(Dr)]};return kr[":id"]=Or.primaryKey,Sr!=null&&(kr[yn(Sr)]=Or.primaryKey),Or})},hasGetAll:mr.length>0&&"getAll"in gr.objectStore(mr[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(lr,ar),xr=ur.tables.map(br=>function(gr){const mr=gr.name;return{name:mr,schema:gr,mutate:function({trans:_r,type:Sr,keys:yr,values:Cr,range:Ar}){return new Promise((kr,Or)=>{kr=Ye(kr);const Dr=_r.objectStore(mr),Rr=Dr.keyPath==null,Fr=Sr==="put"||Sr==="add";if(!Fr&&Sr!=="delete"&&Sr!=="deleteRange")throw new Error("Invalid operation type: "+Sr);const{length:Nr}=yr||Cr||{length:1};if(yr&&Cr&&yr.length!==Cr.length)throw new Error("Given keys array must have same length as given values array.");if(Nr===0)return kr({numFailures:0,failures:{},results:[],lastResult:void 0});let Hr;const jr=[],Jr=[];let Yr=0;const Ur=Wr=>{++Yr,nn(Wr)};if(Sr==="deleteRange"){if(Ar.type===4)return kr({numFailures:Yr,failures:Jr,results:[],lastResult:void 0});Ar.type===3?jr.push(Hr=Dr.clear()):jr.push(Hr=Dr.delete(or(Ar)))}else{const[Wr,ni]=Fr?Rr?[Cr,yr]:[Cr,null]:[yr,null];if(Fr)for(let Lr=0;Lr<Nr;++Lr)jr.push(Hr=ni&&ni[Lr]!==void 0?Dr[Sr](Wr[Lr],ni[Lr]):Dr[Sr](Wr[Lr])),Hr.onerror=Ur;else for(let Lr=0;Lr<Nr;++Lr)jr.push(Hr=Dr[Sr](Wr[Lr])),Hr.onerror=Ur}const Zr=Wr=>{const ni=Wr.target.result;jr.forEach((Lr,hi)=>Lr.error!=null&&(Jr[hi]=Lr.error)),kr({numFailures:Yr,failures:Jr,results:Sr==="delete"?yr:jr.map(Lr=>Lr.result),lastResult:ni})};Hr.onerror=Wr=>{Ur(Wr),Zr(Wr)},Hr.onsuccess=Zr})},getMany:({trans:_r,keys:Sr})=>new Promise((yr,Cr)=>{yr=Ye(yr);const Ar=_r.objectStore(mr),kr=Sr.length,Or=new Array(kr);let Dr,Rr=0,Fr=0;const Nr=jr=>{const Jr=jr.target;Or[Jr._pos]=Jr.result,++Fr===Rr&&yr(Or)},Hr=tn(Cr);for(let jr=0;jr<kr;++jr)Sr[jr]!=null&&(Dr=Ar.get(Sr[jr]),Dr._pos=jr,Dr.onsuccess=Nr,Dr.onerror=Hr,++Rr);Rr===0&&yr(Or)}),get:({trans:_r,key:Sr})=>new Promise((yr,Cr)=>{yr=Ye(yr);const Ar=_r.objectStore(mr).get(Sr);Ar.onsuccess=kr=>yr(kr.target.result),Ar.onerror=tn(Cr)}),query:function(_r){return Sr=>new Promise((yr,Cr)=>{yr=Ye(yr);const{trans:Ar,values:kr,limit:Or,query:Dr}=Sr,Rr=Or===1/0?void 0:Or,{index:Fr,range:Nr}=Dr,Hr=Ar.objectStore(mr),jr=Fr.isPrimaryKey?Hr:Hr.index(Fr.name),Jr=or(Nr);if(Or===0)return yr({result:[]});if(_r){const Yr=kr?jr.getAll(Jr,Rr):jr.getAllKeys(Jr,Rr);Yr.onsuccess=Ur=>yr({result:Ur.target.result}),Yr.onerror=tn(Cr)}else{let Yr=0;const Ur=kr||!("openKeyCursor"in jr)?jr.openCursor(Jr):jr.openKeyCursor(Jr),Zr=[];Ur.onsuccess=Wr=>{const ni=Ur.result;return ni?(Zr.push(kr?ni.value:ni.primaryKey),++Yr===Or?yr({result:Zr}):void ni.continue()):yr({result:Zr})},Ur.onerror=tn(Cr)}})}(fr),openCursor:function({trans:_r,values:Sr,query:yr,reverse:Cr,unique:Ar}){return new Promise((kr,Or)=>{kr=Ye(kr);const{index:Dr,range:Rr}=yr,Fr=_r.objectStore(mr),Nr=Dr.isPrimaryKey?Fr:Fr.index(Dr.name),Hr=Cr?Ar?"prevunique":"prev":Ar?"nextunique":"next",jr=Sr||!("openKeyCursor"in Nr)?Nr.openCursor(or(Rr),Hr):Nr.openKeyCursor(or(Rr),Hr);jr.onerror=tn(Or),jr.onsuccess=Ye(Jr=>{const Yr=jr.result;if(!Yr)return void kr(null);Yr.___id=++pn,Yr.done=!1;const Ur=Yr.continue.bind(Yr);let Zr=Yr.continuePrimaryKey;Zr&&(Zr=Zr.bind(Yr));const Wr=Yr.advance.bind(Yr),ni=()=>{throw new Error("Cursor not stopped")};Yr.trans=_r,Yr.stop=Yr.continue=Yr.continuePrimaryKey=Yr.advance=()=>{throw new Error("Cursor not started")},Yr.fail=Ye(Or),Yr.next=function(){let Lr=1;return this.start(()=>Lr--?this.continue():this.stop()).then(()=>this)},Yr.start=Lr=>{const hi=new Promise((_i,Fi)=>{_i=Ye(_i),jr.onerror=tn(Fi),Yr.fail=Fi,Yr.stop=si=>{Yr.stop=Yr.continue=Yr.continuePrimaryKey=Yr.advance=ni,_i(si)}}),Ei=()=>{if(jr.result)try{Lr()}catch(_i){Yr.fail(_i)}else Yr.done=!0,Yr.start=()=>{throw new Error("Cursor behind last entry")},Yr.stop()};return jr.onsuccess=Ye(_i=>{jr.onsuccess=Ei,Ei()}),Yr.continue=Ur,Yr.continuePrimaryKey=Zr,Yr.advance=Wr,Ei(),hi},kr(Yr)},Or)})},count({query:_r,trans:Sr}){const{index:yr,range:Cr}=_r;return new Promise((Ar,kr)=>{const Or=Sr.objectStore(mr),Dr=yr.isPrimaryKey?Or:Or.index(yr.name),Rr=or(Cr),Fr=Rr?Dr.count(Rr):Dr.count();Fr.onsuccess=Ye(Nr=>Ar(Nr.target.result)),Fr.onerror=tn(kr)})}}}(br)),pr={};return xr.forEach(br=>pr[br.name]=br),{stack:"dbcore",transaction:lr.transaction.bind(lr),table(br){if(!pr[br])throw new Error(`Table '${br}' not found`);return pr[br]},MIN_KEY:-1/0,MAX_KEY:hn(cr),schema:ur}}function vn({_novip:lr},cr){const ar=cr.db,or=function(ur,fr,{IDBKeyRange:xr,indexedDB:pr},br){return{dbcore:function(mr,_r){return _r.reduce((Sr,{create:yr})=>({...Sr,...yr(Sr)}),mr)}(mn(fr,xr,br),ur.dbcore)}}(lr._middlewares,ar,lr._deps,cr);lr.core=or.dbcore,lr.tables.forEach(ur=>{const fr=ur.name;lr.core.schema.tables.some(xr=>xr.name===fr)&&(ur.core=lr.core.table(fr),lr[fr]instanceof lr.Table&&(lr[fr].core=ur.core))})}function gn({_novip:lr},cr,ar,or){ar.forEach(ur=>{const fr=or[ur];cr.forEach(xr=>{const pr=d(xr,ur);(!pr||"value"in pr&&pr.value===void 0)&&(xr===lr.Transaction.prototype||xr instanceof lr.Transaction?l$2(xr,ur,{get(){return this.table(ur)},set(br){u$1(this,ur,{value:br,writable:!0,configurable:!0,enumerable:!0})}}):xr[ur]=new lr.Table(ur,fr))})})}function bn({_novip:lr},cr){cr.forEach(ar=>{for(let or in ar)ar[or]instanceof lr.Table&&delete ar[or]})}function _n(lr,cr){return lr._cfg.version-cr._cfg.version}function wn(lr,cr,ar,or){const ur=lr._dbSchema,fr=lr._createTransaction("readwrite",lr._storeNames,ur);fr.create(ar),fr._completion.catch(or);const xr=fr._reject.bind(fr),pr=Oe.transless||Oe;Ze(()=>{Oe.trans=fr,Oe.transless=pr,cr===0?(t$1(ur).forEach(br=>{kn(ar,br,ur[br].primKey,ur[br].indexes)}),vn(lr,ar),je.follow(()=>lr.on.populate.fire(fr)).catch(xr)):function({_novip:br},gr,mr,_r){const Sr=[],yr=br._versions;let Cr=br._dbSchema=Pn(br,br.idbdb,_r),Ar=!1;const kr=yr.filter(Dr=>Dr._cfg.version>=gr);function Or(){return Sr.length?je.resolve(Sr.shift()(mr.idbtrans)).then(Or):je.resolve()}return kr.forEach(Dr=>{Sr.push(()=>{const Rr=Cr,Fr=Dr._cfg.dbschema;Kn(br,Rr,_r),Kn(br,Fr,_r),Cr=br._dbSchema=Fr;const Nr=xn(Rr,Fr);Nr.add.forEach(jr=>{kn(_r,jr[0],jr[1].primKey,jr[1].indexes)}),Nr.change.forEach(jr=>{if(jr.recreate)throw new X$2.Upgrade("Not yet support for changing primary key");{const Jr=_r.objectStore(jr.name);jr.add.forEach(Yr=>En(Jr,Yr)),jr.change.forEach(Yr=>{Jr.deleteIndex(Yr.name),En(Jr,Yr)}),jr.del.forEach(Yr=>Jr.deleteIndex(Yr))}});const Hr=Dr._cfg.contentUpgrade;if(Hr&&Dr._cfg.version>gr){vn(br,_r),mr._memoizedTables={},Ar=!0;let jr=w$1(Fr);Nr.del.forEach(Zr=>{jr[Zr]=Rr[Zr]}),bn(br,[br.Transaction.prototype]),gn(br,[br.Transaction.prototype],t$1(jr),jr),mr.schema=jr;const Jr=T$1(Hr);let Yr;Jr&&et();const Ur=je.follow(()=>{if(Yr=Hr(mr),Yr&&Jr){var Zr=tt.bind(null,null);Yr.then(Zr,Zr)}});return Yr&&typeof Yr.then=="function"?je.resolve(Yr):Ur.then(()=>Yr)}}),Sr.push(Rr=>{(!Ar||!xt)&&function(Fr,Nr){[].slice.call(Nr.db.objectStoreNames).forEach(Hr=>Fr[Hr]==null&&Nr.db.deleteObjectStore(Hr))}(Dr._cfg.dbschema,Rr),bn(br,[br.Transaction.prototype]),gn(br,[br.Transaction.prototype],br._storeNames,br._dbSchema),mr.schema=br._dbSchema})}),Or().then(()=>{var Dr,Rr;Rr=_r,t$1(Dr=Cr).forEach(Fr=>{Rr.db.objectStoreNames.contains(Fr)||kn(Rr,Fr,Dr[Fr].primKey,Dr[Fr].indexes)})})}(lr,cr,fr,ar).catch(xr)})}function xn(lr,cr){const ar={del:[],add:[],change:[]};let or;for(or in lr)cr[or]||ar.del.push(or);for(or in cr){const ur=lr[or],fr=cr[or];if(ur){const xr={name:or,def:fr,recreate:!1,del:[],add:[],change:[]};if(""+(ur.primKey.keyPath||"")!=""+(fr.primKey.keyPath||"")||ur.primKey.auto!==fr.primKey.auto&&!wt)xr.recreate=!0,ar.change.push(xr);else{const pr=ur.idxByName,br=fr.idxByName;let gr;for(gr in pr)br[gr]||xr.del.push(gr);for(gr in br){const mr=pr[gr],_r=br[gr];mr?mr.src!==_r.src&&xr.change.push(_r):xr.add.push(_r)}(xr.del.length>0||xr.add.length>0||xr.change.length>0)&&ar.change.push(xr)}}else ar.add.push([or,fr])}return ar}function kn(lr,cr,ar,or){const ur=lr.db.createObjectStore(cr,ar.keyPath?{keyPath:ar.keyPath,autoIncrement:ar.auto}:{autoIncrement:ar.auto});return or.forEach(fr=>En(ur,fr)),ur}function En(lr,cr){lr.createIndex(cr.name,cr.keyPath,{unique:cr.unique,multiEntry:cr.multi})}function Pn(lr,cr,ar){const or={};return p$1(cr.objectStoreNames,0).forEach(ur=>{const fr=ar.objectStore(ur);let xr=fr.keyPath;const pr=un(ln(xr),xr||"",!1,!1,!!fr.autoIncrement,xr&&typeof xr!="string",!0),br=[];for(let mr=0;mr<fr.indexNames.length;++mr){const _r=fr.index(fr.indexNames[mr]);xr=_r.keyPath;var gr=un(_r.name,xr,!!_r.unique,!!_r.multiEntry,!1,xr&&typeof xr!="string",!1);br.push(gr)}or[ur]=cn(ur,pr,br)}),or}function Kn({_novip:lr},cr,ar){const or=ar.db.objectStoreNames;for(let ur=0;ur<or.length;++ur){const fr=or[ur],xr=ar.objectStore(fr);lr._hasGetAll="getAll"in xr;for(let pr=0;pr<xr.indexNames.length;++pr){const br=xr.indexNames[pr],gr=xr.index(br).keyPath,mr=typeof gr=="string"?gr:"["+p$1(gr).join("+")+"]";if(cr[fr]){const _r=cr[fr].idxByName[mr];_r&&(_r.name=br,delete cr[fr].idxByName[mr],cr[fr].idxByName[br]=_r)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&e.WorkerGlobalScope&&e instanceof e.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(lr._hasGetAll=!1)}class On{_parseStoresSpec(cr,ar){t$1(cr).forEach(or=>{if(cr[or]!==null){var ur=cr[or].split(",").map((xr,pr)=>{const br=(xr=xr.trim()).replace(/([&*]|\+\+)/g,""),gr=/^\[/.test(br)?br.match(/^\[(.*)\]$/)[1].split("+"):br;return un(br,gr||null,/\&/.test(xr),/\*/.test(xr),/\+\+/.test(xr),n$1(gr),pr===0)}),fr=ur.shift();if(fr.multi)throw new X$2.Schema("Primary key cannot be multi-valued");ur.forEach(xr=>{if(xr.auto)throw new X$2.Schema("Only primary key can be marked as autoIncrement (++)");if(!xr.keyPath)throw new X$2.Schema("Index must have a name and cannot be an empty string")}),ar[or]=cn(or,fr,ur)}})}stores(cr){const ar=this.db;this._cfg.storesSource=this._cfg.storesSource?r$1(this._cfg.storesSource,cr):cr;const or=ar._versions,ur={};let fr={};return or.forEach(xr=>{r$1(ur,xr._cfg.storesSource),fr=xr._cfg.dbschema={},xr._parseStoresSpec(ur,fr)}),ar._dbSchema=fr,bn(ar,[ar._allTables,ar,ar.Transaction.prototype]),gn(ar,[ar._allTables,ar,ar.Transaction.prototype,this._cfg.tables],t$1(fr),fr),ar._storeNames=t$1(fr),this}upgrade(cr){return this._cfg.contentUpgrade=ue$1(this._cfg.contentUpgrade||ee$1,cr),this}}function Sn(lr,cr){let ar=lr._dbNamesDB;return ar||(ar=lr._dbNamesDB=new Xn(Pt,{addons:[],indexedDB:lr,IDBKeyRange:cr}),ar.version(1).stores({dbnames:"name"})),ar.table("dbnames")}function An(lr){return lr&&typeof lr.databases=="function"}function Cn(lr){return Ze(function(){return Oe.letThrough=!0,lr()})}function jn(){var lr;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(cr){var ar=function(){return indexedDB.databases().finally(cr)};lr=setInterval(ar,100),ar()}).finally(function(){return clearInterval(lr)}):Promise.resolve()}function Dn(lr){const cr=lr._state,{indexedDB:ar}=lr._deps;if(cr.isBeingOpened||lr.idbdb)return cr.dbReadyPromise.then(()=>cr.dbOpenError?ft(cr.dbOpenError):lr);R$2&&(cr.openCanceller._stackHolder=q$1()),cr.isBeingOpened=!0,cr.dbOpenError=null,cr.openComplete=!1;const or=cr.openCanceller;function ur(){if(cr.openCanceller!==or)throw new X$2.DatabaseClosed("db.open() was cancelled")}let fr=cr.dbReadyResolve,xr=null,pr=!1;const br=()=>new je((gr,mr)=>{if(ur(),!ar)throw new X$2.MissingAPI;const _r=lr.name,Sr=cr.autoSchema?ar.open(_r):ar.open(_r,Math.round(10*lr.verno));if(!Sr)throw new X$2.MissingAPI;Sr.onerror=tn(mr),Sr.onblocked=Ye(lr._fireOnBlocked),Sr.onupgradeneeded=Ye(yr=>{if(xr=Sr.transaction,cr.autoSchema&&!lr._options.allowEmptyDB){Sr.onerror=nn,xr.abort(),Sr.result.close();const Ar=ar.deleteDatabase(_r);Ar.onsuccess=Ar.onerror=Ye(()=>{mr(new X$2.NoSuchDatabase(`Database ${_r} doesnt exist`))})}else{xr.onerror=tn(mr);var Cr=yr.oldVersion>Math.pow(2,62)?0:yr.oldVersion;pr=Cr<1,lr._novip.idbdb=Sr.result,wn(lr,Cr/10,xr,mr)}},mr),Sr.onsuccess=Ye(()=>{xr=null;const yr=lr._novip.idbdb=Sr.result,Cr=p$1(yr.objectStoreNames);if(Cr.length>0)try{const kr=yr.transaction((Ar=Cr).length===1?Ar[0]:Ar,"readonly");cr.autoSchema?function({_novip:Or},Dr,Rr){Or.verno=Dr.version/10;const Fr=Or._dbSchema=Pn(0,Dr,Rr);Or._storeNames=p$1(Dr.objectStoreNames,0),gn(Or,[Or._allTables],t$1(Fr),Fr)}(lr,yr,kr):(Kn(lr,lr._dbSchema,kr),function(Or,Dr){const Rr=xn(Pn(0,Or.idbdb,Dr),Or._dbSchema);return!(Rr.add.length||Rr.change.some(Fr=>Fr.add.length||Fr.change.length))}(lr,kr)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),vn(lr,kr)}catch{}var Ar;_t.push(lr),yr.onversionchange=Ye(kr=>{cr.vcFired=!0,lr.on("versionchange").fire(kr)}),yr.onclose=Ye(kr=>{lr.on("close").fire(kr)}),pr&&function({indexedDB:kr,IDBKeyRange:Or},Dr){!An(kr)&&Dr!==Pt&&Sn(kr,Or).put({name:Dr}).catch(ee$1)}(lr._deps,_r),gr()},mr)}).catch(gr=>gr&&gr.name==="UnknownError"&&cr.PR1398_maxLoop>0?(cr.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),br()):je.reject(gr));return je.race([or,(typeof navigator>"u"?je.resolve():jn()).then(br)]).then(()=>(ur(),cr.onReadyBeingFired=[],je.resolve(Cn(()=>lr.on.ready.fire(lr.vip))).then(function gr(){if(cr.onReadyBeingFired.length>0){let mr=cr.onReadyBeingFired.reduce(ue$1,ee$1);return cr.onReadyBeingFired=[],je.resolve(Cn(()=>mr(lr.vip))).then(gr)}}))).finally(()=>{cr.onReadyBeingFired=null,cr.isBeingOpened=!1}).then(()=>lr).catch(gr=>{cr.dbOpenError=gr;try{xr&&xr.abort()}catch{}return or===cr.openCanceller&&lr._close(),ft(gr)}).finally(()=>{cr.openComplete=!0,fr()})}function In(lr){var cr=fr=>lr.next(fr),ar=ur(cr),or=ur(fr=>lr.throw(fr));function ur(fr){return xr=>{var pr=fr(xr),br=pr.value;return pr.done?br:br&&typeof br.then=="function"?br.then(ar,or):n$1(br)?Promise.all(br).then(ar,or):ar(br)}}return ur(cr)()}function Bn(lr,cr,ar){var or=arguments.length;if(or<2)throw new X$2.InvalidArgument("Too few arguments");for(var ur=new Array(or-1);--or;)ur[or-1]=arguments[or];return ar=ur.pop(),[lr,k(ur),ar]}function Tn(lr,cr,ar,or,ur){return je.resolve().then(()=>{const fr=Oe.transless||Oe,xr=lr._createTransaction(cr,ar,lr._dbSchema,or),pr={trans:xr,transless:fr};if(or)xr.idbtrans=or.idbtrans;else try{xr.create(),lr._state.PR1398_maxLoop=3}catch(_r){return _r.name===H$1.InvalidState&&lr.isOpen()&&--lr._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),lr._close(),lr.open().then(()=>Tn(lr,cr,ar,null,ur))):ft(_r)}const br=T$1(ur);let gr;br&&et();const mr=je.follow(()=>{if(gr=ur.call(xr,xr),gr)if(br){var _r=tt.bind(null,null);gr.then(_r,_r)}else typeof gr.next=="function"&&typeof gr.throw=="function"&&(gr=In(gr))},pr);return(gr&&typeof gr.then=="function"?je.resolve(gr).then(_r=>xr.active?_r:ft(new X$2.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):mr.then(()=>gr)).then(_r=>(or&&xr._resolve(),xr._completion.then(()=>_r))).catch(_r=>(xr._reject(_r),ft(_r)))})}function Rn(lr,cr,ar){const or=n$1(lr)?lr.slice():[lr];for(let ur=0;ur<ar;++ur)or.push(cr);return or}const Fn={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(lr){return{...lr,table(cr){const ar=lr.table(cr),{schema:or}=ar,ur={},fr=[];function xr(mr,_r,Sr){const yr=yn(mr),Cr=ur[yr]=ur[yr]||[],Ar=mr==null?0:typeof mr=="string"?1:mr.length,kr=_r>0,Or={...Sr,isVirtual:kr,keyTail:_r,keyLength:Ar,extractKey:dn(mr),unique:!kr&&Sr.unique};return Cr.push(Or),Or.isPrimaryKey||fr.push(Or),Ar>1&&xr(Ar===2?mr[0]:mr.slice(0,Ar-1),_r+1,Sr),Cr.sort((Dr,Rr)=>Dr.keyTail-Rr.keyTail),Or}const pr=xr(or.primaryKey.keyPath,0,or.primaryKey);ur[":id"]=[pr];for(const mr of or.indexes)xr(mr.keyPath,0,mr);function br(mr){const _r=mr.query.index;return _r.isVirtual?{...mr,query:{index:_r,range:(Sr=mr.query.range,yr=_r.keyTail,{type:Sr.type===1?2:Sr.type,lower:Rn(Sr.lower,Sr.lowerOpen?lr.MAX_KEY:lr.MIN_KEY,yr),lowerOpen:!0,upper:Rn(Sr.upper,Sr.upperOpen?lr.MIN_KEY:lr.MAX_KEY,yr),upperOpen:!0})}}:mr;var Sr,yr}return{...ar,schema:{...or,primaryKey:pr,indexes:fr,getIndexByKeyPath:function(mr){const _r=ur[yn(mr)];return _r&&_r[0]}},count:mr=>ar.count(br(mr)),query:mr=>ar.query(br(mr)),openCursor(mr){const{keyTail:_r,isVirtual:Sr,keyLength:yr}=mr.query.index;return Sr?ar.openCursor(br(mr)).then(Cr=>Cr&&function(Ar){return Object.create(Ar,{continue:{value:function(Or){Or!=null?Ar.continue(Rn(Or,mr.reverse?lr.MAX_KEY:lr.MIN_KEY,_r)):mr.unique?Ar.continue(Ar.key.slice(0,yr).concat(mr.reverse?lr.MIN_KEY:lr.MAX_KEY,_r)):Ar.continue()}},continuePrimaryKey:{value(Or,Dr){Ar.continuePrimaryKey(Rn(Or,lr.MAX_KEY,_r),Dr)}},primaryKey:{get:()=>Ar.primaryKey},key:{get(){const Or=Ar.key;return yr===1?Or[0]:Or.slice(0,yr)}},value:{get:()=>Ar.value}})}(Cr)):ar.openCursor(mr)}}}}}};function Mn(lr,cr,ar,or){return ar=ar||{},or=or||"",t$1(lr).forEach(ur=>{if(o(cr,ur)){var fr=lr[ur],xr=cr[ur];if(typeof fr=="object"&&typeof xr=="object"&&fr&&xr){const pr=C$1(fr);pr!==C$1(xr)?ar[or+ur]=cr[ur]:pr==="Object"?Mn(fr,xr,ar,or+ur+"."):fr!==xr&&(ar[or+ur]=cr[ur])}else fr!==xr&&(ar[or+ur]=cr[ur])}else ar[or+ur]=void 0}),t$1(cr).forEach(ur=>{o(lr,ur)||(ar[or+ur]=cr[ur])}),ar}const Nn={stack:"dbcore",name:"HooksMiddleware",level:2,create:lr=>({...lr,table(cr){const ar=lr.table(cr),{primaryKey:or}=ar.schema;return{...ar,mutate(fr){const xr=Oe.trans,{deleting:pr,creating:br,updating:gr}=xr.table(cr).hook;switch(fr.type){case"add":if(br.fire===ee$1)break;return xr._promise("readwrite",()=>mr(fr),!0);case"put":if(br.fire===ee$1&&gr.fire===ee$1)break;return xr._promise("readwrite",()=>mr(fr),!0);case"delete":if(pr.fire===ee$1)break;return xr._promise("readwrite",()=>mr(fr),!0);case"deleteRange":if(pr.fire===ee$1)break;return xr._promise("readwrite",()=>function(Sr){return _r(Sr.trans,Sr.range,1e4)}(fr),!0)}return ar.mutate(fr);function mr(Sr){const yr=Oe.trans,Cr=Sr.keys||function(Ar,kr){return kr.type==="delete"?kr.keys:kr.keys||kr.values.map(Ar.extractKey)}(or,Sr);if(!Cr)throw new Error("Keys missing");return(Sr=Sr.type==="add"||Sr.type==="put"?{...Sr,keys:Cr}:{...Sr}).type!=="delete"&&(Sr.values=[...Sr.values]),Sr.keys&&(Sr.keys=[...Sr.keys]),function(Ar,kr,Or){return kr.type==="add"?Promise.resolve([]):Ar.getMany({trans:kr.trans,keys:Or,cache:"immutable"})}(ar,Sr,Cr).then(Ar=>{const kr=Cr.map((Or,Dr)=>{const Rr=Ar[Dr],Fr={onerror:null,onsuccess:null};if(Sr.type==="delete")pr.fire.call(Fr,Or,Rr,yr);else if(Sr.type==="add"||Rr===void 0){const Nr=br.fire.call(Fr,Or,Sr.values[Dr],yr);Or==null&&Nr!=null&&(Or=Nr,Sr.keys[Dr]=Or,or.outbound||_(Sr.values[Dr],or.keyPath,Or))}else{const Nr=Mn(Rr,Sr.values[Dr]),Hr=gr.fire.call(Fr,Nr,Or,Rr,yr);if(Hr){const jr=Sr.values[Dr];Object.keys(Hr).forEach(Jr=>{o(jr,Jr)?jr[Jr]=Hr[Jr]:_(jr,Jr,Hr[Jr])})}}return Fr});return ar.mutate(Sr).then(({failures:Or,results:Dr,numFailures:Rr,lastResult:Fr})=>{for(let Nr=0;Nr<Cr.length;++Nr){const Hr=Dr?Dr[Nr]:Cr[Nr],jr=kr[Nr];Hr==null?jr.onerror&&jr.onerror(Or[Nr]):jr.onsuccess&&jr.onsuccess(Sr.type==="put"&&Ar[Nr]?Sr.values[Nr]:Hr)}return{failures:Or,results:Dr,numFailures:Rr,lastResult:Fr}}).catch(Or=>(kr.forEach(Dr=>Dr.onerror&&Dr.onerror(Or)),Promise.reject(Or)))})}function _r(Sr,yr,Cr){return ar.query({trans:Sr,values:!1,query:{index:or,range:yr},limit:Cr}).then(({result:Ar})=>mr({type:"delete",keys:Ar,trans:Sr}).then(kr=>kr.numFailures>0?Promise.reject(kr.failures[0]):Ar.length<Cr?{failures:[],numFailures:0,lastResult:void 0}:_r(Sr,{...yr,lower:Ar[Ar.length-1],lowerOpen:!0},Cr)))}}}}})};function qn(lr,cr,ar){try{if(!cr||cr.keys.length<lr.length)return null;const or=[];for(let ur=0,fr=0;ur<cr.keys.length&&fr<lr.length;++ur)$t(cr.keys[ur],lr[fr])===0&&(or.push(ar?O$2(cr.values[ur]):cr.values[ur]),++fr);return or.length===lr.length?or:null}catch{return null}}const $n={stack:"dbcore",level:-1,create:lr=>({table:cr=>{const ar=lr.table(cr);return{...ar,getMany:or=>{if(!or.cache)return ar.getMany(or);const ur=qn(or.keys,or.trans._cache,or.cache==="clone");return ur?je.resolve(ur):ar.getMany(or).then(fr=>(or.trans._cache={keys:or.keys,values:or.cache==="clone"?O$2(fr):fr},fr))},mutate:or=>(or.type!=="add"&&(or.trans._cache=null),ar.mutate(or))}}})};function Un(lr){return!("from"in lr)}const Ln=function(lr,cr){if(!this){const ar=new Ln;return lr&&"d"in lr&&r$1(ar,lr),ar}r$1(this,arguments.length?{d:1,from:lr,to:arguments.length>1?cr:lr}:{d:0})};function Vn(lr,cr,ar){const or=$t(cr,ar);if(isNaN(or))return;if(or>0)throw RangeError();if(Un(lr))return r$1(lr,{from:cr,to:ar,d:1});const ur=lr.l,fr=lr.r;if($t(ar,lr.from)<0)return ur?Vn(ur,cr,ar):lr.l={from:cr,to:ar,d:1,l:null,r:null},Gn(lr);if($t(cr,lr.to)>0)return fr?Vn(fr,cr,ar):lr.r={from:cr,to:ar,d:1,l:null,r:null},Gn(lr);$t(cr,lr.from)<0&&(lr.from=cr,lr.l=null,lr.d=fr?fr.d+1:1),$t(ar,lr.to)>0&&(lr.to=ar,lr.r=null,lr.d=lr.l?lr.l.d+1:1);const xr=!lr.r;ur&&!lr.l&&Wn(lr,ur),fr&&xr&&Wn(lr,fr)}function Wn(lr,cr){Un(cr)||function ar(or,{from:ur,to:fr,l:xr,r:pr}){Vn(or,ur,fr),xr&&ar(or,xr),pr&&ar(or,pr)}(lr,cr)}function Yn(lr,cr){const ar=zn(cr);let or=ar.next();if(or.done)return!1;let ur=or.value;const fr=zn(lr);let xr=fr.next(ur.from),pr=xr.value;for(;!or.done&&!xr.done;){if($t(pr.from,ur.to)<=0&&$t(pr.to,ur.from)>=0)return!0;$t(ur.from,pr.from)<0?ur=(or=ar.next(pr.from)).value:pr=(xr=fr.next(ur.from)).value}return!1}function zn(lr){let cr=Un(lr)?null:{s:0,n:lr};return{next(ar){const or=arguments.length>0;for(;cr;)switch(cr.s){case 0:if(cr.s=1,or)for(;cr.n.l&&$t(ar,cr.n.from)<0;)cr={up:cr,n:cr.n.l,s:1};else for(;cr.n.l;)cr={up:cr,n:cr.n.l,s:1};case 1:if(cr.s=2,!or||$t(ar,cr.n.to)<=0)return{value:cr.n,done:!1};case 2:if(cr.n.r){cr.s=3,cr={up:cr,n:cr.n.r,s:0};continue}case 3:cr=cr.up}return{done:!0}}}}function Gn(lr){var cr,ar;const or=(((cr=lr.r)===null||cr===void 0?void 0:cr.d)||0)-(((ar=lr.l)===null||ar===void 0?void 0:ar.d)||0),ur=or>1?"r":or<-1?"l":"";if(ur){const fr=ur==="r"?"l":"r",xr={...lr},pr=lr[ur];lr.from=pr.from,lr.to=pr.to,lr[ur]=pr[ur],xr[ur]=pr[fr],lr[fr]=xr,xr.d=Hn(xr)}lr.d=Hn(lr)}function Hn({r:lr,l:cr}){return(lr?cr?Math.max(lr.d,cr.d):lr.d:cr?cr.d:0)+1}a$1(Ln.prototype,{add(lr){return Wn(this,lr),this},addKey(lr){return Vn(this,lr,lr),this},addKeys(lr){return lr.forEach(cr=>Vn(this,cr,cr)),this},[j$1](){return zn(this)}});const Qn={stack:"dbcore",level:0,create:lr=>{const cr=lr.schema.name,ar=new Ln(lr.MIN_KEY,lr.MAX_KEY);return{...lr,table:or=>{const ur=lr.table(or),{schema:fr}=ur,{primaryKey:xr}=fr,{extractKey:pr,outbound:br}=xr,gr={...ur,mutate:Sr=>{const yr=Sr.trans,Cr=yr.mutatedParts||(yr.mutatedParts={}),Ar=Hr=>{const jr=`idb://${cr}/${or}/${Hr}`;return Cr[jr]||(Cr[jr]=new Ln)},kr=Ar(""),Or=Ar(":dels"),{type:Dr}=Sr;let[Rr,Fr]=Sr.type==="deleteRange"?[Sr.range]:Sr.type==="delete"?[Sr.keys]:Sr.values.length<50?[[],Sr.values]:[];const Nr=Sr.trans._cache;return ur.mutate(Sr).then(Hr=>{if(n$1(Rr)){Dr!=="delete"&&(Rr=Hr.results),kr.addKeys(Rr);const jr=qn(Rr,Nr);jr||Dr==="add"||Or.addKeys(Rr),(jr||Fr)&&function(Jr,Yr,Ur,Zr){function Wr(ni){const Lr=Jr(ni.name||"");function hi(_i){return _i!=null?ni.extractKey(_i):null}const Ei=_i=>ni.multiEntry&&n$1(_i)?_i.forEach(Fi=>Lr.addKey(Fi)):Lr.addKey(_i);(Ur||Zr).forEach((_i,Fi)=>{const si=Ur&&hi(Ur[Fi]),ci=Zr&&hi(Zr[Fi]);$t(si,ci)!==0&&(si!=null&&Ei(si),ci!=null&&Ei(ci))})}Yr.indexes.forEach(Wr)}(Ar,fr,jr,Fr)}else if(Rr){const jr={from:Rr.lower,to:Rr.upper};Or.add(jr),kr.add(jr)}else kr.add(ar),Or.add(ar),fr.indexes.forEach(jr=>Ar(jr.name).add(ar));return Hr})}},mr=({query:{index:Sr,range:yr}})=>{var Cr,Ar;return[Sr,new Ln((Cr=yr.lower)!==null&&Cr!==void 0?Cr:lr.MIN_KEY,(Ar=yr.upper)!==null&&Ar!==void 0?Ar:lr.MAX_KEY)]},_r={get:Sr=>[xr,new Ln(Sr.key)],getMany:Sr=>[xr,new Ln().addKeys(Sr.keys)],count:mr,query:mr,openCursor:mr};return t$1(_r).forEach(Sr=>{gr[Sr]=function(yr){const{subscr:Cr}=Oe;if(Cr){const Ar=Fr=>{const Nr=`idb://${cr}/${or}/${Fr}`;return Cr[Nr]||(Cr[Nr]=new Ln)},kr=Ar(""),Or=Ar(":dels"),[Dr,Rr]=_r[Sr](yr);if(Ar(Dr.name||"").add(Rr),!Dr.isPrimaryKey){if(Sr!=="count"){const Fr=Sr==="query"&&br&&yr.values&&ur.query({...yr,values:!1});return ur[Sr].apply(this,arguments).then(Nr=>{if(Sr==="query"){if(br&&yr.values)return Fr.then(({result:jr})=>(kr.addKeys(jr),Nr));const Hr=yr.values?Nr.result.map(pr):Nr.result;yr.values?kr.addKeys(Hr):Or.addKeys(Hr)}else if(Sr==="openCursor"){const Hr=Nr,jr=yr.values;return Hr&&Object.create(Hr,{key:{get:()=>(Or.addKey(Hr.primaryKey),Hr.key)},primaryKey:{get(){const Jr=Hr.primaryKey;return Or.addKey(Jr),Jr}},value:{get:()=>(jr&&kr.addKey(Hr.primaryKey),Hr.value)}})}return Nr})}Or.add(ar)}}return ur[Sr].apply(this,arguments)}}),gr}}}};class Xn{constructor(cr,ar){this._middlewares={},this.verno=0;const or=Xn.dependencies;this._options=ar={addons:Xn.addons,autoOpen:!0,indexedDB:or.indexedDB,IDBKeyRange:or.IDBKeyRange,...ar},this._deps={indexedDB:ar.indexedDB,IDBKeyRange:ar.IDBKeyRange};const{addons:ur}=ar;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const fr={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ee$1,dbReadyPromise:null,cancelOpen:ee$1,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var xr;fr.dbReadyPromise=new je(pr=>{fr.dbReadyResolve=pr}),fr.openCanceller=new je((pr,br)=>{fr.cancelOpen=br}),this._state=fr,this.name=cr,this.on=Dt(this,"populate","blocked","versionchange","close",{ready:[ue$1,ee$1]}),this.on.ready.subscribe=y$1(this.on.ready.subscribe,pr=>(br,gr)=>{Xn.vip(()=>{const mr=this._state;if(mr.openComplete)mr.dbOpenError||je.resolve().then(br),gr&&pr(br);else if(mr.onReadyBeingFired)mr.onReadyBeingFired.push(br),gr&&pr(br);else{pr(br);const _r=this;gr||pr(function Sr(){_r.on.ready.unsubscribe(br),_r.on.ready.unsubscribe(Sr)})}})}),this.Collection=(xr=this,It(Vt.prototype,function(pr,br){this.db=xr;let gr=At,mr=null;if(br)try{gr=br()}catch(Cr){mr=Cr}const _r=pr._ctx,Sr=_r.table,yr=Sr.hook.reading.fire;this._ctx={table:Sr,index:_r.index,isPrimKey:!_r.index||Sr.schema.primKey.keyPath&&_r.index===Sr.schema.primKey.name,range:gr,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:mr,or:_r.or,valueMapper:yr!==te$1?yr:null}})),this.Table=function(pr){return It(jt.prototype,function(br,gr,mr){this.db=pr,this._tx=mr,this.name=br,this.schema=gr,this.hook=pr._allTables[br]?pr._allTables[br].hook:Dt(null,{creating:[se$1,ee$1],reading:[ne,te$1],updating:[oe$1,ee$1],deleting:[ie$1,ee$1]})})}(this),this.Transaction=function(pr){return It(an.prototype,function(br,gr,mr,_r,Sr){this.db=pr,this.mode=br,this.storeNames=gr,this.schema=mr,this.chromeTransactionDurability=_r,this.idbtrans=null,this.on=Dt(this,"complete","error","abort"),this.parent=Sr||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new je((yr,Cr)=>{this._resolve=yr,this._reject=Cr}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},yr=>{var Cr=this.active;return this.active=!1,this.on.error.fire(yr),this.parent?this.parent._reject(yr):Cr&&this.idbtrans&&this.idbtrans.abort(),ft(yr)})})}(this),this.Version=function(pr){return It(On.prototype,function(br){this.db=pr,this._cfg={version:br,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(pr){return It(en.prototype,function(br,gr,mr){this.db=pr,this._ctx={table:br,index:gr===":id"?null:gr,or:mr};const _r=pr._deps.indexedDB;if(!_r)throw new X$2.MissingAPI;this._cmp=this._ascending=_r.cmp.bind(_r),this._descending=(Sr,yr)=>_r.cmp(yr,Sr),this._max=(Sr,yr)=>_r.cmp(Sr,yr)>0?Sr:yr,this._min=(Sr,yr)=>_r.cmp(Sr,yr)<0?Sr:yr,this._IDBKeyRange=pr._deps.IDBKeyRange})}(this),this.on("versionchange",pr=>{pr.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",pr=>{!pr.newVersion||pr.newVersion<pr.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${pr.oldVersion/10}`)}),this._maxKey=hn(ar.IDBKeyRange),this._createTransaction=(pr,br,gr,mr)=>new this.Transaction(pr,br,gr,this._options.chromeTransactionDurability,mr),this._fireOnBlocked=pr=>{this.on("blocked").fire(pr),_t.filter(br=>br.name===this.name&&br!==this&&!br._state.vcFired).map(br=>br.on("versionchange").fire(pr))},this.use(Fn),this.use(Nn),this.use(Qn),this.use($n),this.vip=Object.create(this,{_vip:{value:!0}}),ur.forEach(pr=>pr(this))}version(cr){if(isNaN(cr)||cr<.1)throw new X$2.Type("Given version is not a positive number");if(cr=Math.round(10*cr)/10,this.idbdb||this._state.isBeingOpened)throw new X$2.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,cr);const ar=this._versions;var or=ar.filter(ur=>ur._cfg.version===cr)[0];return or||(or=new this.Version(cr),ar.push(or),ar.sort(_n),or.stores({}),this._state.autoSchema=!1,or)}_whenReady(cr){return this.idbdb&&(this._state.openComplete||Oe.letThrough||this._vip)?cr():new je((ar,or)=>{if(this._state.openComplete)return or(new X$2.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void or(new X$2.DatabaseClosed);this.open().catch(ee$1)}this._state.dbReadyPromise.then(ar,or)}).then(cr)}use({stack:cr,create:ar,level:or,name:ur}){ur&&this.unuse({stack:cr,name:ur});const fr=this._middlewares[cr]||(this._middlewares[cr]=[]);return fr.push({stack:cr,create:ar,level:or??10,name:ur}),fr.sort((xr,pr)=>xr.level-pr.level),this}unuse({stack:cr,name:ar,create:or}){return cr&&this._middlewares[cr]&&(this._middlewares[cr]=this._middlewares[cr].filter(ur=>or?ur.create!==or:!!ar&&ur.name!==ar)),this}open(){return Dn(this)}_close(){const cr=this._state,ar=_t.indexOf(this);if(ar>=0&&_t.splice(ar,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}cr.dbReadyPromise=new je(or=>{cr.dbReadyResolve=or}),cr.openCanceller=new je((or,ur)=>{cr.cancelOpen=ur})}close(){this._close();const cr=this._state;this._options.autoOpen=!1,cr.dbOpenError=new X$2.DatabaseClosed,cr.isBeingOpened&&cr.cancelOpen(cr.dbOpenError)}delete(){const cr=arguments.length>0,ar=this._state;return new je((or,ur)=>{const fr=()=>{this.close();var xr=this._deps.indexedDB.deleteDatabase(this.name);xr.onsuccess=Ye(()=>{(function({indexedDB:pr,IDBKeyRange:br},gr){!An(pr)&&gr!==Pt&&Sn(pr,br).delete(gr).catch(ee$1)})(this._deps,this.name),or()}),xr.onerror=tn(ur),xr.onblocked=this._fireOnBlocked};if(cr)throw new X$2.InvalidArgument("Arguments not allowed in db.delete()");ar.isBeingOpened?ar.dbReadyPromise.then(fr):fr()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const cr=this._state.dbOpenError;return cr&&cr.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return t$1(this._allTables).map(cr=>this._allTables[cr])}transaction(){const cr=Bn.apply(this,arguments);return this._transaction.apply(this,cr)}_transaction(cr,ar,or){let ur=Oe.trans;ur&&ur.db===this&&cr.indexOf("!")===-1||(ur=null);const fr=cr.indexOf("?")!==-1;let xr,pr;cr=cr.replace("!","").replace("?","");try{if(pr=ar.map(gr=>{var mr=gr instanceof this.Table?gr.name:gr;if(typeof mr!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return mr}),cr=="r"||cr===Kt)xr=Kt;else{if(cr!="rw"&&cr!=Ot)throw new X$2.InvalidArgument("Invalid transaction mode: "+cr);xr=Ot}if(ur){if(ur.mode===Kt&&xr===Ot){if(!fr)throw new X$2.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");ur=null}ur&&pr.forEach(gr=>{if(ur&&ur.storeNames.indexOf(gr)===-1){if(!fr)throw new X$2.SubTransaction("Table "+gr+" not included in parent transaction.");ur=null}}),fr&&ur&&!ur.active&&(ur=null)}}catch(gr){return ur?ur._promise(null,(mr,_r)=>{_r(gr)}):ft(gr)}const br=Tn.bind(null,this,xr,pr,ur,or);return ur?ur._promise(xr,br,"lock"):Oe.trans?at(Oe.transless,()=>this._whenReady(br)):this._whenReady(br)}table(cr){if(!o(this._allTables,cr))throw new X$2.InvalidTable(`Table ${cr} does not exist`);return this._allTables[cr]}}const Jn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class Zn{constructor(cr){this._subscribe=cr}subscribe(cr,ar,or){return this._subscribe(cr&&typeof cr!="function"?cr:{next:cr,error:ar,complete:or})}[Jn](){return this}}function er(lr,cr){return t$1(cr).forEach(ar=>{Wn(lr[ar]||(lr[ar]=new Ln),cr[ar])}),lr}function tr(lr){let cr,ar=!1;const or=new Zn(ur=>{const fr=T$1(lr);let xr=!1,pr={},br={};const gr={get closed(){return xr},unsubscribe:()=>{xr=!0,on.storagemutated.unsubscribe(yr)}};ur.start&&ur.start(gr);let mr=!1,_r=!1;function Sr(){return t$1(br).some(Ar=>pr[Ar]&&Yn(pr[Ar],br[Ar]))}const yr=Ar=>{er(pr,Ar),Sr()&&Cr()},Cr=()=>{if(mr||xr)return;pr={};const Ar={},kr=function(Or){fr&&et();const Dr=()=>Ze(lr,{subscr:Or,trans:null}),Rr=Oe.trans?at(Oe.transless,Dr):Dr();return fr&&Rr.then(tt,tt),Rr}(Ar);_r||(on(rn,yr),_r=!0),mr=!0,Promise.resolve(kr).then(Or=>{ar=!0,cr=Or,mr=!1,xr||(Sr()?Cr():(pr={},br=Ar,ur.next&&ur.next(Or)))},Or=>{mr=!1,ar=!1,ur.error&&ur.error(Or),gr.unsubscribe()})};return Cr(),gr});return or.hasValue=()=>ar,or.getValue=()=>cr,or}let nr;try{nr={indexedDB:e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB,IDBKeyRange:e.IDBKeyRange||e.webkitIDBKeyRange}}catch{nr={indexedDB:null,IDBKeyRange:null}}const rr=Xn;function sr(lr){let cr=ir;try{ir=!0,on.storagemutated.fire(lr)}finally{ir=cr}}a$1(rr,{...Z$1,delete:lr=>new rr(lr,{addons:[]}).delete(),exists:lr=>new rr(lr,{addons:[]}).open().then(cr=>(cr.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(lr){try{return function({indexedDB:cr,IDBKeyRange:ar}){return An(cr)?Promise.resolve(cr.databases()).then(or=>or.map(ur=>ur.name).filter(ur=>ur!==Pt)):Sn(cr,ar).toCollection().primaryKeys()}(rr.dependencies).then(lr)}catch{return ft(new X$2.MissingAPI)}},defineClass:()=>function(lr){r$1(this,lr)},ignoreTransaction:lr=>Oe.trans?at(Oe.transless,lr):lr(),vip:Cn,async:function(lr){return function(){try{var cr=In(lr.apply(this,arguments));return cr&&typeof cr.then=="function"?cr:je.resolve(cr)}catch(ar){return ft(ar)}}},spawn:function(lr,cr,ar){try{var or=In(lr.apply(ar,cr||[]));return or&&typeof or.then=="function"?or:je.resolve(or)}catch(ur){return ft(ur)}},currentTransaction:{get:()=>Oe.trans||null},waitFor:function(lr,cr){const ar=je.resolve(typeof lr=="function"?rr.ignoreTransaction(lr):lr).timeout(cr||6e4);return Oe.trans?Oe.trans.waitFor(ar):ar},Promise:je,debug:{get:()=>R$2,set:lr=>{F$2(lr,lr==="dexie"?()=>!0:Et)}},derive:c,extend:r$1,props:a$1,override:y$1,Events:Dt,on,liveQuery:tr,extendObservabilitySet:er,getByKeyPath:b$1,setByKeyPath:_,delByKeyPath:function(lr,cr){typeof cr=="string"?_(lr,cr,void 0):"length"in cr&&[].map.call(cr,function(ar){_(lr,ar,void 0)})},shallowClone:w$1,deepClone:O$2,getObjectDiff:Mn,cmp:$t,asap:v$1,minKey:vt,addons:[],connections:_t,errnames:H$1,dependencies:nr,semVer:yt,version:yt.split(".").map(lr=>parseInt(lr)).reduce((lr,cr,ar)=>lr+cr/Math.pow(10,2*ar))}),rr.maxKey=hn(rr.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(on(rn,lr=>{if(!ir){let cr;wt?(cr=document.createEvent("CustomEvent"),cr.initCustomEvent(sn,!0,!0,lr)):cr=new CustomEvent(sn,{detail:lr}),ir=!0,dispatchEvent(cr),ir=!1}}),addEventListener(sn,({detail:lr})=>{ir||sr(lr)}));let ir=!1;if(typeof BroadcastChannel<"u"){const lr=new BroadcastChannel(sn);typeof lr.unref=="function"&&lr.unref(),on(rn,cr=>{ir||lr.postMessage(cr)}),lr.onmessage=cr=>{cr.data&&sr(cr.data)}}else if(typeof self<"u"&&typeof navigator<"u"){on(rn,cr=>{try{ir||(typeof localStorage<"u"&&localStorage.setItem(sn,JSON.stringify({trig:Math.random(),changedParts:cr})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(ar=>ar.postMessage({type:sn,changedParts:cr})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",cr=>{if(cr.key===sn){const ar=JSON.parse(cr.newValue);ar&&sr(ar.changedParts)}});const lr=self.document&&navigator.serviceWorker;lr&&lr.addEventListener("message",function({data:cr}){cr&&cr.type===sn&&sr(cr.changedParts)})}je.rejectionMapper=function(lr,cr){if(!lr||lr instanceof W$2||lr instanceof TypeError||lr instanceof SyntaxError||!lr.name||!J$2[lr.name])return lr;var ar=new J$2[lr.name](cr||lr.message,lr);return"stack"in lr&&l$2(ar,"stack",{get:function(){return this.inner.stack}}),ar},F$2(R$2,Et);var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$1(lr){return lr&&lr.__esModule&&Object.prototype.hasOwnProperty.call(lr,"default")?lr.default:lr}function getAugmentedNamespace(lr){if(lr.__esModule)return lr;var cr=lr.default;if(typeof cr=="function"){var ar=function or(){return this instanceof or?Reflect.construct(cr,arguments,this.constructor):cr.apply(this,arguments)};ar.prototype=cr.prototype}else ar={};return Object.defineProperty(ar,"__esModule",{value:!0}),Object.keys(lr).forEach(function(or){var ur=Object.getOwnPropertyDescriptor(lr,or);Object.defineProperty(ar,or,ur.get?ur:{enumerable:!0,get:function(){return lr[or]}})}),ar}var cryptoJs={exports:{}};function commonjsRequire(lr){throw new Error('Could not dynamically require "'+lr+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var core={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredCore;function requireCore(){return hasRequiredCore||(hasRequiredCore=1,function(lr,cr){(function(ar,or){lr.exports=or()})(commonjsGlobal$1,function(){var ar=ar||function(or,ur){var fr;if(typeof window<"u"&&window.crypto&&(fr=window.crypto),typeof self<"u"&&self.crypto&&(fr=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(fr=globalThis.crypto),!fr&&typeof window<"u"&&window.msCrypto&&(fr=window.msCrypto),!fr&&typeof commonjsGlobal$1<"u"&&commonjsGlobal$1.crypto&&(fr=commonjsGlobal$1.crypto),!fr&&typeof commonjsRequire=="function")try{fr=require$$0}catch{}var xr=function(){if(fr){if(typeof fr.getRandomValues=="function")try{return fr.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof fr.randomBytes=="function")try{return fr.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},pr=Object.create||function(){function Dr(){}return function(Rr){var Fr;return Dr.prototype=Rr,Fr=new Dr,Dr.prototype=null,Fr}}(),br={},gr=br.lib={},mr=gr.Base=function(){return{extend:function(Dr){var Rr=pr(this);return Dr&&Rr.mixIn(Dr),(!Rr.hasOwnProperty("init")||this.init===Rr.init)&&(Rr.init=function(){Rr.$super.init.apply(this,arguments)}),Rr.init.prototype=Rr,Rr.$super=this,Rr},create:function(){var Dr=this.extend();return Dr.init.apply(Dr,arguments),Dr},init:function(){},mixIn:function(Dr){for(var Rr in Dr)Dr.hasOwnProperty(Rr)&&(this[Rr]=Dr[Rr]);Dr.hasOwnProperty("toString")&&(this.toString=Dr.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),_r=gr.WordArray=mr.extend({init:function(Dr,Rr){Dr=this.words=Dr||[],Rr!=ur?this.sigBytes=Rr:this.sigBytes=Dr.length*4},toString:function(Dr){return(Dr||yr).stringify(this)},concat:function(Dr){var Rr=this.words,Fr=Dr.words,Nr=this.sigBytes,Hr=Dr.sigBytes;if(this.clamp(),Nr%4)for(var jr=0;jr<Hr;jr++){var Jr=Fr[jr>>>2]>>>24-jr%4*8&255;Rr[Nr+jr>>>2]|=Jr<<24-(Nr+jr)%4*8}else for(var Yr=0;Yr<Hr;Yr+=4)Rr[Nr+Yr>>>2]=Fr[Yr>>>2];return this.sigBytes+=Hr,this},clamp:function(){var Dr=this.words,Rr=this.sigBytes;Dr[Rr>>>2]&=4294967295<<32-Rr%4*8,Dr.length=or.ceil(Rr/4)},clone:function(){var Dr=mr.clone.call(this);return Dr.words=this.words.slice(0),Dr},random:function(Dr){for(var Rr=[],Fr=0;Fr<Dr;Fr+=4)Rr.push(xr());return new _r.init(Rr,Dr)}}),Sr=br.enc={},yr=Sr.Hex={stringify:function(Dr){for(var Rr=Dr.words,Fr=Dr.sigBytes,Nr=[],Hr=0;Hr<Fr;Hr++){var jr=Rr[Hr>>>2]>>>24-Hr%4*8&255;Nr.push((jr>>>4).toString(16)),Nr.push((jr&15).toString(16))}return Nr.join("")},parse:function(Dr){for(var Rr=Dr.length,Fr=[],Nr=0;Nr<Rr;Nr+=2)Fr[Nr>>>3]|=parseInt(Dr.substr(Nr,2),16)<<24-Nr%8*4;return new _r.init(Fr,Rr/2)}},Cr=Sr.Latin1={stringify:function(Dr){for(var Rr=Dr.words,Fr=Dr.sigBytes,Nr=[],Hr=0;Hr<Fr;Hr++){var jr=Rr[Hr>>>2]>>>24-Hr%4*8&255;Nr.push(String.fromCharCode(jr))}return Nr.join("")},parse:function(Dr){for(var Rr=Dr.length,Fr=[],Nr=0;Nr<Rr;Nr++)Fr[Nr>>>2]|=(Dr.charCodeAt(Nr)&255)<<24-Nr%4*8;return new _r.init(Fr,Rr)}},Ar=Sr.Utf8={stringify:function(Dr){try{return decodeURIComponent(escape(Cr.stringify(Dr)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(Dr){return Cr.parse(unescape(encodeURIComponent(Dr)))}},kr=gr.BufferedBlockAlgorithm=mr.extend({reset:function(){this._data=new _r.init,this._nDataBytes=0},_append:function(Dr){typeof Dr=="string"&&(Dr=Ar.parse(Dr)),this._data.concat(Dr),this._nDataBytes+=Dr.sigBytes},_process:function(Dr){var Rr,Fr=this._data,Nr=Fr.words,Hr=Fr.sigBytes,jr=this.blockSize,Jr=jr*4,Yr=Hr/Jr;Dr?Yr=or.ceil(Yr):Yr=or.max((Yr|0)-this._minBufferSize,0);var Ur=Yr*jr,Zr=or.min(Ur*4,Hr);if(Ur){for(var Wr=0;Wr<Ur;Wr+=jr)this._doProcessBlock(Nr,Wr);Rr=Nr.splice(0,Ur),Fr.sigBytes-=Zr}return new _r.init(Rr,Zr)},clone:function(){var Dr=mr.clone.call(this);return Dr._data=this._data.clone(),Dr},_minBufferSize:0});gr.Hasher=kr.extend({cfg:mr.extend(),init:function(Dr){this.cfg=this.cfg.extend(Dr),this.reset()},reset:function(){kr.reset.call(this),this._doReset()},update:function(Dr){return this._append(Dr),this._process(),this},finalize:function(Dr){Dr&&this._append(Dr);var Rr=this._doFinalize();return Rr},blockSize:16,_createHelper:function(Dr){return function(Rr,Fr){return new Dr.init(Fr).finalize(Rr)}},_createHmacHelper:function(Dr){return function(Rr,Fr){return new Or.HMAC.init(Dr,Fr).finalize(Rr)}}});var Or=br.algo={};return br}(Math);return ar})}(core)),core.exports}var x64Core={exports:{}},hasRequiredX64Core;function requireX64Core(){return hasRequiredX64Core||(hasRequiredX64Core=1,function(lr,cr){(function(ar,or){lr.exports=or(requireCore())})(commonjsGlobal$1,function(ar){return function(or){var ur=ar,fr=ur.lib,xr=fr.Base,pr=fr.WordArray,br=ur.x64={};br.Word=xr.extend({init:function(gr,mr){this.high=gr,this.low=mr}}),br.WordArray=xr.extend({init:function(gr,mr){gr=this.words=gr||[],mr!=or?this.sigBytes=mr:this.sigBytes=gr.length*8},toX32:function(){for(var gr=this.words,mr=gr.length,_r=[],Sr=0;Sr<mr;Sr++){var yr=gr[Sr];_r.push(yr.high),_r.push(yr.low)}return pr.create(_r,this.sigBytes)},clone:function(){for(var gr=xr.clone.call(this),mr=gr.words=this.words.slice(0),_r=mr.length,Sr=0;Sr<_r;Sr++)mr[Sr]=mr[Sr].clone();return gr}})}(),ar})}(x64Core)),x64Core.exports}var libTypedarrays={exports:{}},hasRequiredLibTypedarrays;function requireLibTypedarrays(){return hasRequiredLibTypedarrays||(hasRequiredLibTypedarrays=1,function(lr,cr){(function(ar,or){lr.exports=or(requireCore())})(commonjsGlobal$1,function(ar){return function(){if(typeof ArrayBuffer=="function"){var or=ar,ur=or.lib,fr=ur.WordArray,xr=fr.init,pr=fr.init=function(br){if(br instanceof ArrayBuffer&&(br=new Uint8Array(br)),(br instanceof Int8Array||typeof Uint8ClampedArray<"u"&&br instanceof Uint8ClampedArray||br instanceof Int16Array||br instanceof Uint16Array||br instanceof Int32Array||br instanceof Uint32Array||br instanceof Float32Array||br instanceof Float64Array)&&(br=new Uint8Array(br.buffer,br.byteOffset,br.byteLength)),br instanceof Uint8Array){for(var gr=br.byteLength,mr=[],_r=0;_r<gr;_r++)mr[_r>>>2]|=br[_r]<<24-_r%4*8;xr.call(this,mr,gr)}else xr.apply(this,arguments)};pr.prototype=fr}}(),ar.lib.WordArray})}(libTypedarrays)),libTypedarrays.exports}var encUtf16={exports:{}},hasRequiredEncUtf16;function requireEncUtf16(){return hasRequiredEncUtf16||(hasRequiredEncUtf16=1,function(lr,cr){(function(ar,or){lr.exports=or(requireCore())})(commonjsGlobal$1,function(ar){return function(){var or=ar,ur=or.lib,fr=ur.WordArray,xr=or.enc;xr.Utf16=xr.Utf16BE={stringify:function(br){for(var gr=br.words,mr=br.sigBytes,_r=[],Sr=0;Sr<mr;Sr+=2){var yr=gr[Sr>>>2]>>>16-Sr%4*8&65535;_r.push(String.fromCharCode(yr))}return _r.join("")},parse:function(br){for(var gr=br.length,mr=[],_r=0;_r<gr;_r++)mr[_r>>>1]|=br.charCodeAt(_r)<<16-_r%2*16;return fr.create(mr,gr*2)}},xr.Utf16LE={stringify:function(br){for(var gr=br.words,mr=br.sigBytes,_r=[],Sr=0;Sr<mr;Sr+=2){var yr=pr(gr[Sr>>>2]>>>16-Sr%4*8&65535);_r.push(String.fromCharCode(yr))}return _r.join("")},parse:function(br){for(var gr=br.length,mr=[],_r=0;_r<gr;_r++)mr[_r>>>1]|=pr(br.charCodeAt(_r)<<16-_r%2*16);return fr.create(mr,gr*2)}};function pr(br){return br<<8&4278255360|br>>>8&16711935}}(),ar.enc.Utf16})}(encUtf16)),encUtf16.exports}var encBase64={exports:{}},hasRequiredEncBase64;function requireEncBase64(){return hasRequiredEncBase64||(hasRequiredEncBase64=1,function(lr,cr){(function(ar,or){lr.exports=or(requireCore())})(commonjsGlobal$1,function(ar){return function(){var or=ar,ur=or.lib,fr=ur.WordArray,xr=or.enc;xr.Base64={stringify:function(br){var gr=br.words,mr=br.sigBytes,_r=this._map;br.clamp();for(var Sr=[],yr=0;yr<mr;yr+=3)for(var Cr=gr[yr>>>2]>>>24-yr%4*8&255,Ar=gr[yr+1>>>2]>>>24-(yr+1)%4*8&255,kr=gr[yr+2>>>2]>>>24-(yr+2)%4*8&255,Or=Cr<<16|Ar<<8|kr,Dr=0;Dr<4&&yr+Dr*.75<mr;Dr++)Sr.push(_r.charAt(Or>>>6*(3-Dr)&63));var Rr=_r.charAt(64);if(Rr)for(;Sr.length%4;)Sr.push(Rr);return Sr.join("")},parse:function(br){var gr=br.length,mr=this._map,_r=this._reverseMap;if(!_r){_r=this._reverseMap=[];for(var Sr=0;Sr<mr.length;Sr++)_r[mr.charCodeAt(Sr)]=Sr}var yr=mr.charAt(64);if(yr){var Cr=br.indexOf(yr);Cr!==-1&&(gr=Cr)}return pr(br,gr,_r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function pr(br,gr,mr){for(var _r=[],Sr=0,yr=0;yr<gr;yr++)if(yr%4){var Cr=mr[br.charCodeAt(yr-1)]<<yr%4*2,Ar=mr[br.charCodeAt(yr)]>>>6-yr%4*2,kr=Cr|Ar;_r[Sr>>>2]|=kr<<24-Sr%4*8,Sr++}return fr.create(_r,Sr)}}(),ar.enc.Base64})}(encBase64)),encBase64.exports}var encBase64url={exports:{}},hasRequiredEncBase64url;function requireEncBase64url(){return hasRequiredEncBase64url||(hasRequiredEncBase64url=1,function(lr,cr){(function(ar,or){lr.exports=or(requireCore())})(commonjsGlobal$1,function(ar){return function(){var or=ar,ur=or.lib,fr=ur.WordArray,xr=or.enc;xr.Base64url={stringify:function(br,gr){gr===void 0&&(gr=!0);var mr=br.words,_r=br.sigBytes,Sr=gr?this._safe_map:this._map;br.clamp();for(var yr=[],Cr=0;Cr<_r;Cr+=3)for(var Ar=mr[Cr>>>2]>>>24-Cr%4*8&255,kr=mr[Cr+1>>>2]>>>24-(Cr+1)%4*8&255,Or=mr[Cr+2>>>2]>>>24-(Cr+2)%4*8&255,Dr=Ar<<16|kr<<8|Or,Rr=0;Rr<4&&Cr+Rr*.75<_r;Rr++)yr.push(Sr.charAt(Dr>>>6*(3-Rr)&63));var Fr=Sr.charAt(64);if(Fr)for(;yr.length%4;)yr.push(Fr);return yr.join("")},parse:function(br,gr){gr===void 0&&(gr=!0);var mr=br.length,_r=gr?this._safe_map:this._map,Sr=this._reverseMap;if(!Sr){Sr=this._reverseMap=[];for(var yr=0;yr<_r.length;yr++)Sr[_r.charCodeAt(yr)]=yr}var Cr=_r.charAt(64);if(Cr){var Ar=br.indexOf(Cr);Ar!==-1&&(mr=Ar)}return pr(br,mr,Sr)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function pr(br,gr,mr){for(var _r=[],Sr=0,yr=0;yr<gr;yr++)if(yr%4){var Cr=mr[br.charCodeAt(yr-1)]<<yr%4*2,Ar=mr[br.charCodeAt(yr)]>>>6-yr%4*2,kr=Cr|Ar;_r[Sr>>>2]|=kr<<24-Sr%4*8,Sr++}return fr.create(_r,Sr)}}(),ar.enc.Base64url})}(encBase64url)),encBase64url.exports}var md5={exports:{}},hasRequiredMd5;function requireMd5(){return hasRequiredMd5||(hasRequiredMd5=1,function(lr,cr){(function(ar,or){lr.exports=or(requireCore())})(commonjsGlobal$1,function(ar){return function(or){var ur=ar,fr=ur.lib,xr=fr.WordArray,pr=fr.Hasher,br=ur.algo,gr=[];(function(){for(var Ar=0;Ar<64;Ar++)gr[Ar]=or.abs(or.sin(Ar+1))*4294967296|0})();var mr=br.MD5=pr.extend({_doReset:function(){this._hash=new xr.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(Ar,kr){for(var Or=0;Or<16;Or++){var Dr=kr+Or,Rr=Ar[Dr];Ar[Dr]=(Rr<<8|Rr>>>24)&16711935|(Rr<<24|Rr>>>8)&4278255360}var Fr=this._hash.words,Nr=Ar[kr+0],Hr=Ar[kr+1],jr=Ar[kr+2],Jr=Ar[kr+3],Yr=Ar[kr+4],Ur=Ar[kr+5],Zr=Ar[kr+6],Wr=Ar[kr+7],ni=Ar[kr+8],Lr=Ar[kr+9],hi=Ar[kr+10],Ei=Ar[kr+11],_i=Ar[kr+12],Fi=Ar[kr+13],si=Ar[kr+14],ci=Ar[kr+15],$r=Fr[0],ei=Fr[1],pi=Fr[2],ui=Fr[3];$r=_r($r,ei,pi,ui,Nr,7,gr[0]),ui=_r(ui,$r,ei,pi,Hr,12,gr[1]),pi=_r(pi,ui,$r,ei,jr,17,gr[2]),ei=_r(ei,pi,ui,$r,Jr,22,gr[3]),$r=_r($r,ei,pi,ui,Yr,7,gr[4]),ui=_r(ui,$r,ei,pi,Ur,12,gr[5]),pi=_r(pi,ui,$r,ei,Zr,17,gr[6]),ei=_r(ei,pi,ui,$r,Wr,22,gr[7]),$r=_r($r,ei,pi,ui,ni,7,gr[8]),ui=_r(ui,$r,ei,pi,Lr,12,gr[9]),pi=_r(pi,ui,$r,ei,hi,17,gr[10]),ei=_r(ei,pi,ui,$r,Ei,22,gr[11]),$r=_r($r,ei,pi,ui,_i,7,gr[12]),ui=_r(ui,$r,ei,pi,Fi,12,gr[13]),pi=_r(pi,ui,$r,ei,si,17,gr[14]),ei=_r(ei,pi,ui,$r,ci,22,gr[15]),$r=Sr($r,ei,pi,ui,Hr,5,gr[16]),ui=Sr(ui,$r,ei,pi,Zr,9,gr[17]),pi=Sr(pi,ui,$r,ei,Ei,14,gr[18]),ei=Sr(ei,pi,ui,$r,Nr,20,gr[19]),$r=Sr($r,ei,pi,ui,Ur,5,gr[20]),ui=Sr(ui,$r,ei,pi,hi,9,gr[21]),pi=Sr(pi,ui,$r,ei,ci,14,gr[22]),ei=Sr(ei,pi,ui,$r,Yr,20,gr[23]),$r=Sr($r,ei,pi,ui,Lr,5,gr[24]),ui=Sr(ui,$r,ei,pi,si,9,gr[25]),pi=Sr(pi,ui,$r,ei,Jr,14,gr[26]),ei=Sr(ei,pi,ui,$r,ni,20,gr[27]),$r=Sr($r,ei,pi,ui,Fi,5,gr[28]),ui=Sr(ui,$r,ei,pi,jr,9,gr[29]),pi=Sr(pi,ui,$r,ei,Wr,14,gr[30]),ei=Sr(ei,pi,ui,$r,_i,20,gr[31]),$r=yr($r,ei,pi,ui,Ur,4,gr[32]),ui=yr(ui,$r,ei,pi,ni,11,gr[33]),pi=yr(pi,ui,$r,ei,Ei,16,gr[34]),ei=yr(ei,pi,ui,$r,si,23,gr[35]),$r=yr($r,ei,pi,ui,Hr,4,gr[36]),ui=yr(ui,$r,ei,pi,Yr,11,gr[37]),pi=yr(pi,ui,$r,ei,Wr,16,gr[38]),ei=yr(ei,pi,ui,$r,hi,23,gr[39]),$r=yr($r,ei,pi,ui,Fi,4,gr[40]),ui=yr(ui,$r,ei,pi,Nr,11,gr[41]),pi=yr(pi,ui,$r,ei,Jr,16,gr[42]),ei=yr(ei,pi,ui,$r,Zr,23,gr[43]),$r=yr($r,ei,pi,ui,Lr,4,gr[44]),ui=yr(ui,$r,ei,pi,_i,11,gr[45]),pi=yr(pi,ui,$r,ei,ci,16,gr[46]),ei=yr(ei,pi,ui,$r,jr,23,gr[47]),$r=Cr($r,ei,pi,ui,Nr,6,gr[48]),ui=Cr(ui,$r,ei,pi,Wr,10,gr[49]),pi=Cr(pi,ui,$r,ei,si,15,gr[50]),ei=Cr(ei,pi,ui,$r,Ur,21,gr[51]),$r=Cr($r,ei,pi,ui,_i,6,gr[52]),ui=Cr(ui,$r,ei,pi,Jr,10,gr[53]),pi=Cr(pi,ui,$r,ei,hi,15,gr[54]),ei=Cr(ei,pi,ui,$r,Hr,21,gr[55]),$r=Cr($r,ei,pi,ui,ni,6,gr[56]),ui=Cr(ui,$r,ei,pi,ci,10,gr[57]),pi=Cr(pi,ui,$r,ei,Zr,15,gr[58]),ei=Cr(ei,pi,ui,$r,Fi,21,gr[59]),$r=Cr($r,ei,pi,ui,Yr,6,gr[60]),ui=Cr(ui,$r,ei,pi,Ei,10,gr[61]),pi=Cr(pi,ui,$r,ei,jr,15,gr[62]),ei=Cr(ei,pi,ui,$r,Lr,21,gr[63]),Fr[0]=Fr[0]+$r|0,Fr[1]=Fr[1]+ei|0,Fr[2]=Fr[2]+pi|0,Fr[3]=Fr[3]+ui|0},_doFinalize:function(){var Ar=this._data,kr=Ar.words,Or=this._nDataBytes*8,Dr=Ar.sigBytes*8;kr[Dr>>>5]|=128<<24-Dr%32;var Rr=or.floor(Or/4294967296),Fr=Or;kr[(Dr+64>>>9<<4)+15]=(Rr<<8|Rr>>>24)&16711935|(Rr<<24|Rr>>>8)&4278255360,kr[(Dr+64>>>9<<4)+14]=(Fr<<8|Fr>>>24)&16711935|(Fr<<24|Fr>>>8)&4278255360,Ar.sigBytes=(kr.length+1)*4,this._process();for(var Nr=this._hash,Hr=Nr.words,jr=0;jr<4;jr++){var Jr=Hr[jr];Hr[jr]=(Jr<<8|Jr>>>24)&16711935|(Jr<<24|Jr>>>8)&4278255360}return Nr},clone:function(){var Ar=pr.clone.call(this);return Ar._hash=this._hash.clone(),Ar}});function _r(Ar,kr,Or,Dr,Rr,Fr,Nr){var Hr=Ar+(kr&Or|~kr&Dr)+Rr+Nr;return(Hr<<Fr|Hr>>>32-Fr)+kr}function Sr(Ar,kr,Or,Dr,Rr,Fr,Nr){var Hr=Ar+(kr&Dr|Or&~Dr)+Rr+Nr;return(Hr<<Fr|Hr>>>32-Fr)+kr}function yr(Ar,kr,Or,Dr,Rr,Fr,Nr){var Hr=Ar+(kr^Or^Dr)+Rr+Nr;return(Hr<<Fr|Hr>>>32-Fr)+kr}function Cr(Ar,kr,Or,Dr,Rr,Fr,Nr){var Hr=Ar+(Or^(kr|~Dr))+Rr+Nr;return(Hr<<Fr|Hr>>>32-Fr)+kr}ur.MD5=pr._createHelper(mr),ur.HmacMD5=pr._createHmacHelper(mr)}(Math),ar.MD5})}(md5)),md5.exports}var sha1={exports:{}},hasRequiredSha1;function requireSha1(){return hasRequiredSha1||(hasRequiredSha1=1,function(lr,cr){(function(ar,or){lr.exports=or(requireCore())})(commonjsGlobal$1,function(ar){return function(){var or=ar,ur=or.lib,fr=ur.WordArray,xr=ur.Hasher,pr=or.algo,br=[],gr=pr.SHA1=xr.extend({_doReset:function(){this._hash=new fr.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(mr,_r){for(var Sr=this._hash.words,yr=Sr[0],Cr=Sr[1],Ar=Sr[2],kr=Sr[3],Or=Sr[4],Dr=0;Dr<80;Dr++){if(Dr<16)br[Dr]=mr[_r+Dr]|0;else{var Rr=br[Dr-3]^br[Dr-8]^br[Dr-14]^br[Dr-16];br[Dr]=Rr<<1|Rr>>>31}var Fr=(yr<<5|yr>>>27)+Or+br[Dr];Dr<20?Fr+=(Cr&Ar|~Cr&kr)+1518500249:Dr<40?Fr+=(Cr^Ar^kr)+1859775393:Dr<60?Fr+=(Cr&Ar|Cr&kr|Ar&kr)-1894007588:Fr+=(Cr^Ar^kr)-899497514,Or=kr,kr=Ar,Ar=Cr<<30|Cr>>>2,Cr=yr,yr=Fr}Sr[0]=Sr[0]+yr|0,Sr[1]=Sr[1]+Cr|0,Sr[2]=Sr[2]+Ar|0,Sr[3]=Sr[3]+kr|0,Sr[4]=Sr[4]+Or|0},_doFinalize:function(){var mr=this._data,_r=mr.words,Sr=this._nDataBytes*8,yr=mr.sigBytes*8;return _r[yr>>>5]|=128<<24-yr%32,_r[(yr+64>>>9<<4)+14]=Math.floor(Sr/4294967296),_r[(yr+64>>>9<<4)+15]=Sr,mr.sigBytes=_r.length*4,this._process(),this._hash},clone:function(){var mr=xr.clone.call(this);return mr._hash=this._hash.clone(),mr}});or.SHA1=xr._createHelper(gr),or.HmacSHA1=xr._createHmacHelper(gr)}(),ar.SHA1})}(sha1)),sha1.exports}var sha256={exports:{}},hasRequiredSha256;function requireSha256(){return hasRequiredSha256||(hasRequiredSha256=1,function(lr,cr){(function(ar,or){lr.exports=or(requireCore())})(commonjsGlobal$1,function(ar){return function(or){var ur=ar,fr=ur.lib,xr=fr.WordArray,pr=fr.Hasher,br=ur.algo,gr=[],mr=[];(function(){function yr(Or){for(var Dr=or.sqrt(Or),Rr=2;Rr<=Dr;Rr++)if(!(Or%Rr))return!1;return!0}function Cr(Or){return(Or-(Or|0))*4294967296|0}for(var Ar=2,kr=0;kr<64;)yr(Ar)&&(kr<8&&(gr[kr]=Cr(or.pow(Ar,1/2))),mr[kr]=Cr(or.pow(Ar,1/3)),kr++),Ar++})();var _r=[],Sr=br.SHA256=pr.extend({_doReset:function(){this._hash=new xr.init(gr.slice(0))},_doProcessBlock:function(yr,Cr){for(var Ar=this._hash.words,kr=Ar[0],Or=Ar[1],Dr=Ar[2],Rr=Ar[3],Fr=Ar[4],Nr=Ar[5],Hr=Ar[6],jr=Ar[7],Jr=0;Jr<64;Jr++){if(Jr<16)_r[Jr]=yr[Cr+Jr]|0;else{var Yr=_r[Jr-15],Ur=(Yr<<25|Yr>>>7)^(Yr<<14|Yr>>>18)^Yr>>>3,Zr=_r[Jr-2],Wr=(Zr<<15|Zr>>>17)^(Zr<<13|Zr>>>19)^Zr>>>10;_r[Jr]=Ur+_r[Jr-7]+Wr+_r[Jr-16]}var ni=Fr&Nr^~Fr&Hr,Lr=kr&Or^kr&Dr^Or&Dr,hi=(kr<<30|kr>>>2)^(kr<<19|kr>>>13)^(kr<<10|kr>>>22),Ei=(Fr<<26|Fr>>>6)^(Fr<<21|Fr>>>11)^(Fr<<7|Fr>>>25),_i=jr+Ei+ni+mr[Jr]+_r[Jr],Fi=hi+Lr;jr=Hr,Hr=Nr,Nr=Fr,Fr=Rr+_i|0,Rr=Dr,Dr=Or,Or=kr,kr=_i+Fi|0}Ar[0]=Ar[0]+kr|0,Ar[1]=Ar[1]+Or|0,Ar[2]=Ar[2]+Dr|0,Ar[3]=Ar[3]+Rr|0,Ar[4]=Ar[4]+Fr|0,Ar[5]=Ar[5]+Nr|0,Ar[6]=Ar[6]+Hr|0,Ar[7]=Ar[7]+jr|0},_doFinalize:function(){var yr=this._data,Cr=yr.words,Ar=this._nDataBytes*8,kr=yr.sigBytes*8;return Cr[kr>>>5]|=128<<24-kr%32,Cr[(kr+64>>>9<<4)+14]=or.floor(Ar/4294967296),Cr[(kr+64>>>9<<4)+15]=Ar,yr.sigBytes=Cr.length*4,this._process(),this._hash},clone:function(){var yr=pr.clone.call(this);return yr._hash=this._hash.clone(),yr}});ur.SHA256=pr._createHelper(Sr),ur.HmacSHA256=pr._createHmacHelper(Sr)}(Math),ar.SHA256})}(sha256)),sha256.exports}var sha224={exports:{}},hasRequiredSha224;function requireSha224(){return hasRequiredSha224||(hasRequiredSha224=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireSha256())})(commonjsGlobal$1,function(ar){return function(){var or=ar,ur=or.lib,fr=ur.WordArray,xr=or.algo,pr=xr.SHA256,br=xr.SHA224=pr.extend({_doReset:function(){this._hash=new fr.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var gr=pr._doFinalize.call(this);return gr.sigBytes-=4,gr}});or.SHA224=pr._createHelper(br),or.HmacSHA224=pr._createHmacHelper(br)}(),ar.SHA224})}(sha224)),sha224.exports}var sha512={exports:{}},hasRequiredSha512;function requireSha512(){return hasRequiredSha512||(hasRequiredSha512=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireX64Core())})(commonjsGlobal$1,function(ar){return function(){var or=ar,ur=or.lib,fr=ur.Hasher,xr=or.x64,pr=xr.Word,br=xr.WordArray,gr=or.algo;function mr(){return pr.create.apply(pr,arguments)}var _r=[mr(1116352408,3609767458),mr(1899447441,602891725),mr(3049323471,3964484399),mr(3921009573,2173295548),mr(961987163,4081628472),mr(1508970993,3053834265),mr(2453635748,2937671579),mr(2870763221,3664609560),mr(3624381080,2734883394),mr(310598401,1164996542),mr(607225278,1323610764),mr(1426881987,3590304994),mr(1925078388,4068182383),mr(2162078206,991336113),mr(2614888103,633803317),mr(3248222580,3479774868),mr(3835390401,2666613458),mr(4022224774,944711139),mr(264347078,2341262773),mr(604807628,2007800933),mr(770255983,1495990901),mr(1249150122,1856431235),mr(1555081692,3175218132),mr(1996064986,2198950837),mr(2554220882,3999719339),mr(2821834349,766784016),mr(2952996808,2566594879),mr(3210313671,3203337956),mr(3336571891,1034457026),mr(3584528711,2466948901),mr(113926993,3758326383),mr(338241895,168717936),mr(666307205,1188179964),mr(773529912,1546045734),mr(1294757372,1522805485),mr(1396182291,2643833823),mr(1695183700,2343527390),mr(1986661051,1014477480),mr(2177026350,1206759142),mr(2456956037,344077627),mr(2730485921,1290863460),mr(2820302411,3158454273),mr(3259730800,3505952657),mr(3345764771,106217008),mr(3516065817,3606008344),mr(3600352804,1432725776),mr(4094571909,1467031594),mr(275423344,851169720),mr(430227734,3100823752),mr(506948616,1363258195),mr(659060556,3750685593),mr(883997877,3785050280),mr(958139571,3318307427),mr(1322822218,3812723403),mr(1537002063,2003034995),mr(1747873779,3602036899),mr(1955562222,1575990012),mr(2024104815,1125592928),mr(2227730452,2716904306),mr(2361852424,442776044),mr(2428436474,593698344),mr(2756734187,3733110249),mr(3204031479,2999351573),mr(3329325298,3815920427),mr(3391569614,3928383900),mr(3515267271,566280711),mr(3940187606,3454069534),mr(4118630271,4000239992),mr(116418474,1914138554),mr(174292421,2731055270),mr(289380356,3203993006),mr(460393269,320620315),mr(685471733,587496836),mr(852142971,1086792851),mr(1017036298,365543100),mr(1126000580,2618297676),mr(1288033470,3409855158),mr(1501505948,4234509866),mr(1607167915,987167468),mr(1816402316,1246189591)],Sr=[];(function(){for(var Cr=0;Cr<80;Cr++)Sr[Cr]=mr()})();var yr=gr.SHA512=fr.extend({_doReset:function(){this._hash=new br.init([new pr.init(1779033703,4089235720),new pr.init(3144134277,2227873595),new pr.init(1013904242,4271175723),new pr.init(2773480762,1595750129),new pr.init(1359893119,2917565137),new pr.init(2600822924,725511199),new pr.init(528734635,4215389547),new pr.init(1541459225,327033209)])},_doProcessBlock:function(Cr,Ar){for(var kr=this._hash.words,Or=kr[0],Dr=kr[1],Rr=kr[2],Fr=kr[3],Nr=kr[4],Hr=kr[5],jr=kr[6],Jr=kr[7],Yr=Or.high,Ur=Or.low,Zr=Dr.high,Wr=Dr.low,ni=Rr.high,Lr=Rr.low,hi=Fr.high,Ei=Fr.low,_i=Nr.high,Fi=Nr.low,si=Hr.high,ci=Hr.low,$r=jr.high,ei=jr.low,pi=Jr.high,ui=Jr.low,bi=Yr,qi=Ur,Ki=Zr,Ti=Wr,ii=ni,oi=Lr,Si=hi,Di=Ei,Mi=_i,Mr=Fi,di=si,gi=ci,ti=$r,ri=ei,xi=pi,Ai=ui,Kr=0;Kr<80;Kr++){var Pr,qr,Qr=Sr[Kr];if(Kr<16)qr=Qr.high=Cr[Ar+Kr*2]|0,Pr=Qr.low=Cr[Ar+Kr*2+1]|0;else{var ai=Sr[Kr-15],fi=ai.high,vi=ai.low,Ri=(fi>>>1|vi<<31)^(fi>>>8|vi<<24)^fi>>>7,Yi=(vi>>>1|fi<<31)^(vi>>>8|fi<<24)^(vi>>>7|fi<<25),Xi=Sr[Kr-2],Ui=Xi.high,Bi=Xi.low,Zi=(Ui>>>19|Bi<<13)^(Ui<<3|Bi>>>29)^Ui>>>6,Sa=(Bi>>>19|Ui<<13)^(Bi<<3|Ui>>>29)^(Bi>>>6|Ui<<26),Ta=Sr[Kr-7],ba=Ta.high,po=Ta.low,so=Sr[Kr-16],Co=so.high,wi=so.low;Pr=Yi+po,qr=Ri+ba+(Pr>>>0<Yi>>>0?1:0),Pr=Pr+Sa,qr=qr+Zi+(Pr>>>0<Sa>>>0?1:0),Pr=Pr+wi,qr=qr+Co+(Pr>>>0<wi>>>0?1:0),Qr.high=qr,Qr.low=Pr}var Vi=Mi&di^~Mi&ti,Gr=Mr&gi^~Mr&ri,zi=bi&Ki^bi&ii^Ki&ii,ca=qi&Ti^qi&oi^Ti&oi,ji=(bi>>>28|qi<<4)^(bi<<30|qi>>>2)^(bi<<25|qi>>>7),Ba=(qi>>>28|bi<<4)^(qi<<30|bi>>>2)^(qi<<25|bi>>>7),Hi=(Mi>>>14|Mr<<18)^(Mi>>>18|Mr<<14)^(Mi<<23|Mr>>>9),va=(Mr>>>14|Mi<<18)^(Mr>>>18|Mi<<14)^(Mr<<23|Mi>>>9),Ci=_r[Kr],ki=Ci.high,ko=Ci.low,na=Ai+va,Wi=xi+Hi+(na>>>0<Ai>>>0?1:0),na=na+Gr,Wi=Wi+Vi+(na>>>0<Gr>>>0?1:0),na=na+ko,Wi=Wi+ki+(na>>>0<ko>>>0?1:0),na=na+Pr,Wi=Wi+qr+(na>>>0<Pr>>>0?1:0),_o=Ba+ca,co=ji+zi+(_o>>>0<Ba>>>0?1:0);xi=ti,Ai=ri,ti=di,ri=gi,di=Mi,gi=Mr,Mr=Di+na|0,Mi=Si+Wi+(Mr>>>0<Di>>>0?1:0)|0,Si=ii,Di=oi,ii=Ki,oi=Ti,Ki=bi,Ti=qi,qi=na+_o|0,bi=Wi+co+(qi>>>0<na>>>0?1:0)|0}Ur=Or.low=Ur+qi,Or.high=Yr+bi+(Ur>>>0<qi>>>0?1:0),Wr=Dr.low=Wr+Ti,Dr.high=Zr+Ki+(Wr>>>0<Ti>>>0?1:0),Lr=Rr.low=Lr+oi,Rr.high=ni+ii+(Lr>>>0<oi>>>0?1:0),Ei=Fr.low=Ei+Di,Fr.high=hi+Si+(Ei>>>0<Di>>>0?1:0),Fi=Nr.low=Fi+Mr,Nr.high=_i+Mi+(Fi>>>0<Mr>>>0?1:0),ci=Hr.low=ci+gi,Hr.high=si+di+(ci>>>0<gi>>>0?1:0),ei=jr.low=ei+ri,jr.high=$r+ti+(ei>>>0<ri>>>0?1:0),ui=Jr.low=ui+Ai,Jr.high=pi+xi+(ui>>>0<Ai>>>0?1:0)},_doFinalize:function(){var Cr=this._data,Ar=Cr.words,kr=this._nDataBytes*8,Or=Cr.sigBytes*8;Ar[Or>>>5]|=128<<24-Or%32,Ar[(Or+128>>>10<<5)+30]=Math.floor(kr/4294967296),Ar[(Or+128>>>10<<5)+31]=kr,Cr.sigBytes=Ar.length*4,this._process();var Dr=this._hash.toX32();return Dr},clone:function(){var Cr=fr.clone.call(this);return Cr._hash=this._hash.clone(),Cr},blockSize:1024/32});or.SHA512=fr._createHelper(yr),or.HmacSHA512=fr._createHmacHelper(yr)}(),ar.SHA512})}(sha512)),sha512.exports}var sha384={exports:{}},hasRequiredSha384;function requireSha384(){return hasRequiredSha384||(hasRequiredSha384=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireX64Core(),requireSha512())})(commonjsGlobal$1,function(ar){return function(){var or=ar,ur=or.x64,fr=ur.Word,xr=ur.WordArray,pr=or.algo,br=pr.SHA512,gr=pr.SHA384=br.extend({_doReset:function(){this._hash=new xr.init([new fr.init(3418070365,3238371032),new fr.init(1654270250,914150663),new fr.init(2438529370,812702999),new fr.init(355462360,4144912697),new fr.init(1731405415,4290775857),new fr.init(2394180231,1750603025),new fr.init(3675008525,1694076839),new fr.init(1203062813,3204075428)])},_doFinalize:function(){var mr=br._doFinalize.call(this);return mr.sigBytes-=16,mr}});or.SHA384=br._createHelper(gr),or.HmacSHA384=br._createHmacHelper(gr)}(),ar.SHA384})}(sha384)),sha384.exports}var sha3={exports:{}},hasRequiredSha3;function requireSha3(){return hasRequiredSha3||(hasRequiredSha3=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireX64Core())})(commonjsGlobal$1,function(ar){return function(or){var ur=ar,fr=ur.lib,xr=fr.WordArray,pr=fr.Hasher,br=ur.x64,gr=br.Word,mr=ur.algo,_r=[],Sr=[],yr=[];(function(){for(var kr=1,Or=0,Dr=0;Dr<24;Dr++){_r[kr+5*Or]=(Dr+1)*(Dr+2)/2%64;var Rr=Or%5,Fr=(2*kr+3*Or)%5;kr=Rr,Or=Fr}for(var kr=0;kr<5;kr++)for(var Or=0;Or<5;Or++)Sr[kr+5*Or]=Or+(2*kr+3*Or)%5*5;for(var Nr=1,Hr=0;Hr<24;Hr++){for(var jr=0,Jr=0,Yr=0;Yr<7;Yr++){if(Nr&1){var Ur=(1<<Yr)-1;Ur<32?Jr^=1<<Ur:jr^=1<<Ur-32}Nr&128?Nr=Nr<<1^113:Nr<<=1}yr[Hr]=gr.create(jr,Jr)}})();var Cr=[];(function(){for(var kr=0;kr<25;kr++)Cr[kr]=gr.create()})();var Ar=mr.SHA3=pr.extend({cfg:pr.cfg.extend({outputLength:512}),_doReset:function(){for(var kr=this._state=[],Or=0;Or<25;Or++)kr[Or]=new gr.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(kr,Or){for(var Dr=this._state,Rr=this.blockSize/2,Fr=0;Fr<Rr;Fr++){var Nr=kr[Or+2*Fr],Hr=kr[Or+2*Fr+1];Nr=(Nr<<8|Nr>>>24)&16711935|(Nr<<24|Nr>>>8)&4278255360,Hr=(Hr<<8|Hr>>>24)&16711935|(Hr<<24|Hr>>>8)&4278255360;var jr=Dr[Fr];jr.high^=Hr,jr.low^=Nr}for(var Jr=0;Jr<24;Jr++){for(var Yr=0;Yr<5;Yr++){for(var Ur=0,Zr=0,Wr=0;Wr<5;Wr++){var jr=Dr[Yr+5*Wr];Ur^=jr.high,Zr^=jr.low}var ni=Cr[Yr];ni.high=Ur,ni.low=Zr}for(var Yr=0;Yr<5;Yr++)for(var Lr=Cr[(Yr+4)%5],hi=Cr[(Yr+1)%5],Ei=hi.high,_i=hi.low,Ur=Lr.high^(Ei<<1|_i>>>31),Zr=Lr.low^(_i<<1|Ei>>>31),Wr=0;Wr<5;Wr++){var jr=Dr[Yr+5*Wr];jr.high^=Ur,jr.low^=Zr}for(var Fi=1;Fi<25;Fi++){var Ur,Zr,jr=Dr[Fi],si=jr.high,ci=jr.low,$r=_r[Fi];$r<32?(Ur=si<<$r|ci>>>32-$r,Zr=ci<<$r|si>>>32-$r):(Ur=ci<<$r-32|si>>>64-$r,Zr=si<<$r-32|ci>>>64-$r);var ei=Cr[Sr[Fi]];ei.high=Ur,ei.low=Zr}var pi=Cr[0],ui=Dr[0];pi.high=ui.high,pi.low=ui.low;for(var Yr=0;Yr<5;Yr++)for(var Wr=0;Wr<5;Wr++){var Fi=Yr+5*Wr,jr=Dr[Fi],bi=Cr[Fi],qi=Cr[(Yr+1)%5+5*Wr],Ki=Cr[(Yr+2)%5+5*Wr];jr.high=bi.high^~qi.high&Ki.high,jr.low=bi.low^~qi.low&Ki.low}var jr=Dr[0],Ti=yr[Jr];jr.high^=Ti.high,jr.low^=Ti.low}},_doFinalize:function(){var kr=this._data,Or=kr.words;this._nDataBytes*8;var Dr=kr.sigBytes*8,Rr=this.blockSize*32;Or[Dr>>>5]|=1<<24-Dr%32,Or[(or.ceil((Dr+1)/Rr)*Rr>>>5)-1]|=128,kr.sigBytes=Or.length*4,this._process();for(var Fr=this._state,Nr=this.cfg.outputLength/8,Hr=Nr/8,jr=[],Jr=0;Jr<Hr;Jr++){var Yr=Fr[Jr],Ur=Yr.high,Zr=Yr.low;Ur=(Ur<<8|Ur>>>24)&16711935|(Ur<<24|Ur>>>8)&4278255360,Zr=(Zr<<8|Zr>>>24)&16711935|(Zr<<24|Zr>>>8)&4278255360,jr.push(Zr),jr.push(Ur)}return new xr.init(jr,Nr)},clone:function(){for(var kr=pr.clone.call(this),Or=kr._state=this._state.slice(0),Dr=0;Dr<25;Dr++)Or[Dr]=Or[Dr].clone();return kr}});ur.SHA3=pr._createHelper(Ar),ur.HmacSHA3=pr._createHmacHelper(Ar)}(Math),ar.SHA3})}(sha3)),sha3.exports}var ripemd160={exports:{}},hasRequiredRipemd160;function requireRipemd160(){return hasRequiredRipemd160||(hasRequiredRipemd160=1,function(lr,cr){(function(ar,or){lr.exports=or(requireCore())})(commonjsGlobal$1,function(ar){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(or){var ur=ar,fr=ur.lib,xr=fr.WordArray,pr=fr.Hasher,br=ur.algo,gr=xr.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),mr=xr.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),_r=xr.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),Sr=xr.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),yr=xr.create([0,1518500249,1859775393,2400959708,2840853838]),Cr=xr.create([1352829926,1548603684,1836072691,2053994217,0]),Ar=br.RIPEMD160=pr.extend({_doReset:function(){this._hash=xr.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(Hr,jr){for(var Jr=0;Jr<16;Jr++){var Yr=jr+Jr,Ur=Hr[Yr];Hr[Yr]=(Ur<<8|Ur>>>24)&16711935|(Ur<<24|Ur>>>8)&4278255360}var Zr=this._hash.words,Wr=yr.words,ni=Cr.words,Lr=gr.words,hi=mr.words,Ei=_r.words,_i=Sr.words,Fi,si,ci,$r,ei,pi,ui,bi,qi,Ki;pi=Fi=Zr[0],ui=si=Zr[1],bi=ci=Zr[2],qi=$r=Zr[3],Ki=ei=Zr[4];for(var Ti,Jr=0;Jr<80;Jr+=1)Ti=Fi+Hr[jr+Lr[Jr]]|0,Jr<16?Ti+=kr(si,ci,$r)+Wr[0]:Jr<32?Ti+=Or(si,ci,$r)+Wr[1]:Jr<48?Ti+=Dr(si,ci,$r)+Wr[2]:Jr<64?Ti+=Rr(si,ci,$r)+Wr[3]:Ti+=Fr(si,ci,$r)+Wr[4],Ti=Ti|0,Ti=Nr(Ti,Ei[Jr]),Ti=Ti+ei|0,Fi=ei,ei=$r,$r=Nr(ci,10),ci=si,si=Ti,Ti=pi+Hr[jr+hi[Jr]]|0,Jr<16?Ti+=Fr(ui,bi,qi)+ni[0]:Jr<32?Ti+=Rr(ui,bi,qi)+ni[1]:Jr<48?Ti+=Dr(ui,bi,qi)+ni[2]:Jr<64?Ti+=Or(ui,bi,qi)+ni[3]:Ti+=kr(ui,bi,qi)+ni[4],Ti=Ti|0,Ti=Nr(Ti,_i[Jr]),Ti=Ti+Ki|0,pi=Ki,Ki=qi,qi=Nr(bi,10),bi=ui,ui=Ti;Ti=Zr[1]+ci+qi|0,Zr[1]=Zr[2]+$r+Ki|0,Zr[2]=Zr[3]+ei+pi|0,Zr[3]=Zr[4]+Fi+ui|0,Zr[4]=Zr[0]+si+bi|0,Zr[0]=Ti},_doFinalize:function(){var Hr=this._data,jr=Hr.words,Jr=this._nDataBytes*8,Yr=Hr.sigBytes*8;jr[Yr>>>5]|=128<<24-Yr%32,jr[(Yr+64>>>9<<4)+14]=(Jr<<8|Jr>>>24)&16711935|(Jr<<24|Jr>>>8)&4278255360,Hr.sigBytes=(jr.length+1)*4,this._process();for(var Ur=this._hash,Zr=Ur.words,Wr=0;Wr<5;Wr++){var ni=Zr[Wr];Zr[Wr]=(ni<<8|ni>>>24)&16711935|(ni<<24|ni>>>8)&4278255360}return Ur},clone:function(){var Hr=pr.clone.call(this);return Hr._hash=this._hash.clone(),Hr}});function kr(Hr,jr,Jr){return Hr^jr^Jr}function Or(Hr,jr,Jr){return Hr&jr|~Hr&Jr}function Dr(Hr,jr,Jr){return(Hr|~jr)^Jr}function Rr(Hr,jr,Jr){return Hr&Jr|jr&~Jr}function Fr(Hr,jr,Jr){return Hr^(jr|~Jr)}function Nr(Hr,jr){return Hr<<jr|Hr>>>32-jr}ur.RIPEMD160=pr._createHelper(Ar),ur.HmacRIPEMD160=pr._createHmacHelper(Ar)}(),ar.RIPEMD160})}(ripemd160)),ripemd160.exports}var hmac={exports:{}},hasRequiredHmac;function requireHmac(){return hasRequiredHmac||(hasRequiredHmac=1,function(lr,cr){(function(ar,or){lr.exports=or(requireCore())})(commonjsGlobal$1,function(ar){(function(){var or=ar,ur=or.lib,fr=ur.Base,xr=or.enc,pr=xr.Utf8,br=or.algo;br.HMAC=fr.extend({init:function(gr,mr){gr=this._hasher=new gr.init,typeof mr=="string"&&(mr=pr.parse(mr));var _r=gr.blockSize,Sr=_r*4;mr.sigBytes>Sr&&(mr=gr.finalize(mr)),mr.clamp();for(var yr=this._oKey=mr.clone(),Cr=this._iKey=mr.clone(),Ar=yr.words,kr=Cr.words,Or=0;Or<_r;Or++)Ar[Or]^=1549556828,kr[Or]^=909522486;yr.sigBytes=Cr.sigBytes=Sr,this.reset()},reset:function(){var gr=this._hasher;gr.reset(),gr.update(this._iKey)},update:function(gr){return this._hasher.update(gr),this},finalize:function(gr){var mr=this._hasher,_r=mr.finalize(gr);mr.reset();var Sr=mr.finalize(this._oKey.clone().concat(_r));return Sr}})})()})}(hmac)),hmac.exports}var pbkdf2={exports:{}},hasRequiredPbkdf2;function requirePbkdf2(){return hasRequiredPbkdf2||(hasRequiredPbkdf2=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireSha256(),requireHmac())})(commonjsGlobal$1,function(ar){return function(){var or=ar,ur=or.lib,fr=ur.Base,xr=ur.WordArray,pr=or.algo,br=pr.SHA256,gr=pr.HMAC,mr=pr.PBKDF2=fr.extend({cfg:fr.extend({keySize:128/32,hasher:br,iterations:25e4}),init:function(_r){this.cfg=this.cfg.extend(_r)},compute:function(_r,Sr){for(var yr=this.cfg,Cr=gr.create(yr.hasher,_r),Ar=xr.create(),kr=xr.create([1]),Or=Ar.words,Dr=kr.words,Rr=yr.keySize,Fr=yr.iterations;Or.length<Rr;){var Nr=Cr.update(Sr).finalize(kr);Cr.reset();for(var Hr=Nr.words,jr=Hr.length,Jr=Nr,Yr=1;Yr<Fr;Yr++){Jr=Cr.finalize(Jr),Cr.reset();for(var Ur=Jr.words,Zr=0;Zr<jr;Zr++)Hr[Zr]^=Ur[Zr]}Ar.concat(Nr),Dr[0]++}return Ar.sigBytes=Rr*4,Ar}});or.PBKDF2=function(_r,Sr,yr){return mr.create(yr).compute(_r,Sr)}}(),ar.PBKDF2})}(pbkdf2)),pbkdf2.exports}var evpkdf={exports:{}},hasRequiredEvpkdf;function requireEvpkdf(){return hasRequiredEvpkdf||(hasRequiredEvpkdf=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireSha1(),requireHmac())})(commonjsGlobal$1,function(ar){return function(){var or=ar,ur=or.lib,fr=ur.Base,xr=ur.WordArray,pr=or.algo,br=pr.MD5,gr=pr.EvpKDF=fr.extend({cfg:fr.extend({keySize:128/32,hasher:br,iterations:1}),init:function(mr){this.cfg=this.cfg.extend(mr)},compute:function(mr,_r){for(var Sr,yr=this.cfg,Cr=yr.hasher.create(),Ar=xr.create(),kr=Ar.words,Or=yr.keySize,Dr=yr.iterations;kr.length<Or;){Sr&&Cr.update(Sr),Sr=Cr.update(mr).finalize(_r),Cr.reset();for(var Rr=1;Rr<Dr;Rr++)Sr=Cr.finalize(Sr),Cr.reset();Ar.concat(Sr)}return Ar.sigBytes=Or*4,Ar}});or.EvpKDF=function(mr,_r,Sr){return gr.create(Sr).compute(mr,_r)}}(),ar.EvpKDF})}(evpkdf)),evpkdf.exports}var cipherCore={exports:{}},hasRequiredCipherCore;function requireCipherCore(){return hasRequiredCipherCore||(hasRequiredCipherCore=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireEvpkdf())})(commonjsGlobal$1,function(ar){ar.lib.Cipher||function(or){var ur=ar,fr=ur.lib,xr=fr.Base,pr=fr.WordArray,br=fr.BufferedBlockAlgorithm,gr=ur.enc;gr.Utf8;var mr=gr.Base64,_r=ur.algo,Sr=_r.EvpKDF,yr=fr.Cipher=br.extend({cfg:xr.extend(),createEncryptor:function(Ur,Zr){return this.create(this._ENC_XFORM_MODE,Ur,Zr)},createDecryptor:function(Ur,Zr){return this.create(this._DEC_XFORM_MODE,Ur,Zr)},init:function(Ur,Zr,Wr){this.cfg=this.cfg.extend(Wr),this._xformMode=Ur,this._key=Zr,this.reset()},reset:function(){br.reset.call(this),this._doReset()},process:function(Ur){return this._append(Ur),this._process()},finalize:function(Ur){Ur&&this._append(Ur);var Zr=this._doFinalize();return Zr},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function Ur(Zr){return typeof Zr=="string"?Yr:Hr}return function(Zr){return{encrypt:function(Wr,ni,Lr){return Ur(ni).encrypt(Zr,Wr,ni,Lr)},decrypt:function(Wr,ni,Lr){return Ur(ni).decrypt(Zr,Wr,ni,Lr)}}}}()});fr.StreamCipher=yr.extend({_doFinalize:function(){var Ur=this._process(!0);return Ur},blockSize:1});var Cr=ur.mode={},Ar=fr.BlockCipherMode=xr.extend({createEncryptor:function(Ur,Zr){return this.Encryptor.create(Ur,Zr)},createDecryptor:function(Ur,Zr){return this.Decryptor.create(Ur,Zr)},init:function(Ur,Zr){this._cipher=Ur,this._iv=Zr}}),kr=Cr.CBC=function(){var Ur=Ar.extend();Ur.Encryptor=Ur.extend({processBlock:function(Wr,ni){var Lr=this._cipher,hi=Lr.blockSize;Zr.call(this,Wr,ni,hi),Lr.encryptBlock(Wr,ni),this._prevBlock=Wr.slice(ni,ni+hi)}}),Ur.Decryptor=Ur.extend({processBlock:function(Wr,ni){var Lr=this._cipher,hi=Lr.blockSize,Ei=Wr.slice(ni,ni+hi);Lr.decryptBlock(Wr,ni),Zr.call(this,Wr,ni,hi),this._prevBlock=Ei}});function Zr(Wr,ni,Lr){var hi,Ei=this._iv;Ei?(hi=Ei,this._iv=or):hi=this._prevBlock;for(var _i=0;_i<Lr;_i++)Wr[ni+_i]^=hi[_i]}return Ur}(),Or=ur.pad={},Dr=Or.Pkcs7={pad:function(Ur,Zr){for(var Wr=Zr*4,ni=Wr-Ur.sigBytes%Wr,Lr=ni<<24|ni<<16|ni<<8|ni,hi=[],Ei=0;Ei<ni;Ei+=4)hi.push(Lr);var _i=pr.create(hi,ni);Ur.concat(_i)},unpad:function(Ur){var Zr=Ur.words[Ur.sigBytes-1>>>2]&255;Ur.sigBytes-=Zr}};fr.BlockCipher=yr.extend({cfg:yr.cfg.extend({mode:kr,padding:Dr}),reset:function(){var Ur;yr.reset.call(this);var Zr=this.cfg,Wr=Zr.iv,ni=Zr.mode;this._xformMode==this._ENC_XFORM_MODE?Ur=ni.createEncryptor:(Ur=ni.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==Ur?this._mode.init(this,Wr&&Wr.words):(this._mode=Ur.call(ni,this,Wr&&Wr.words),this._mode.__creator=Ur)},_doProcessBlock:function(Ur,Zr){this._mode.processBlock(Ur,Zr)},_doFinalize:function(){var Ur,Zr=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(Zr.pad(this._data,this.blockSize),Ur=this._process(!0)):(Ur=this._process(!0),Zr.unpad(Ur)),Ur},blockSize:128/32});var Rr=fr.CipherParams=xr.extend({init:function(Ur){this.mixIn(Ur)},toString:function(Ur){return(Ur||this.formatter).stringify(this)}}),Fr=ur.format={},Nr=Fr.OpenSSL={stringify:function(Ur){var Zr,Wr=Ur.ciphertext,ni=Ur.salt;return ni?Zr=pr.create([1398893684,1701076831]).concat(ni).concat(Wr):Zr=Wr,Zr.toString(mr)},parse:function(Ur){var Zr,Wr=mr.parse(Ur),ni=Wr.words;return ni[0]==1398893684&&ni[1]==1701076831&&(Zr=pr.create(ni.slice(2,4)),ni.splice(0,4),Wr.sigBytes-=16),Rr.create({ciphertext:Wr,salt:Zr})}},Hr=fr.SerializableCipher=xr.extend({cfg:xr.extend({format:Nr}),encrypt:function(Ur,Zr,Wr,ni){ni=this.cfg.extend(ni);var Lr=Ur.createEncryptor(Wr,ni),hi=Lr.finalize(Zr),Ei=Lr.cfg;return Rr.create({ciphertext:hi,key:Wr,iv:Ei.iv,algorithm:Ur,mode:Ei.mode,padding:Ei.padding,blockSize:Ur.blockSize,formatter:ni.format})},decrypt:function(Ur,Zr,Wr,ni){ni=this.cfg.extend(ni),Zr=this._parse(Zr,ni.format);var Lr=Ur.createDecryptor(Wr,ni).finalize(Zr.ciphertext);return Lr},_parse:function(Ur,Zr){return typeof Ur=="string"?Zr.parse(Ur,this):Ur}}),jr=ur.kdf={},Jr=jr.OpenSSL={execute:function(Ur,Zr,Wr,ni,Lr){if(ni||(ni=pr.random(64/8)),Lr)var hi=Sr.create({keySize:Zr+Wr,hasher:Lr}).compute(Ur,ni);else var hi=Sr.create({keySize:Zr+Wr}).compute(Ur,ni);var Ei=pr.create(hi.words.slice(Zr),Wr*4);return hi.sigBytes=Zr*4,Rr.create({key:hi,iv:Ei,salt:ni})}},Yr=fr.PasswordBasedCipher=Hr.extend({cfg:Hr.cfg.extend({kdf:Jr}),encrypt:function(Ur,Zr,Wr,ni){ni=this.cfg.extend(ni);var Lr=ni.kdf.execute(Wr,Ur.keySize,Ur.ivSize,ni.salt,ni.hasher);ni.iv=Lr.iv;var hi=Hr.encrypt.call(this,Ur,Zr,Lr.key,ni);return hi.mixIn(Lr),hi},decrypt:function(Ur,Zr,Wr,ni){ni=this.cfg.extend(ni),Zr=this._parse(Zr,ni.format);var Lr=ni.kdf.execute(Wr,Ur.keySize,Ur.ivSize,Zr.salt,ni.hasher);ni.iv=Lr.iv;var hi=Hr.decrypt.call(this,Ur,Zr,Lr.key,ni);return hi}})}()})}(cipherCore)),cipherCore.exports}var modeCfb={exports:{}},hasRequiredModeCfb;function requireModeCfb(){return hasRequiredModeCfb||(hasRequiredModeCfb=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(ar){return ar.mode.CFB=function(){var or=ar.lib.BlockCipherMode.extend();or.Encryptor=or.extend({processBlock:function(fr,xr){var pr=this._cipher,br=pr.blockSize;ur.call(this,fr,xr,br,pr),this._prevBlock=fr.slice(xr,xr+br)}}),or.Decryptor=or.extend({processBlock:function(fr,xr){var pr=this._cipher,br=pr.blockSize,gr=fr.slice(xr,xr+br);ur.call(this,fr,xr,br,pr),this._prevBlock=gr}});function ur(fr,xr,pr,br){var gr,mr=this._iv;mr?(gr=mr.slice(0),this._iv=void 0):gr=this._prevBlock,br.encryptBlock(gr,0);for(var _r=0;_r<pr;_r++)fr[xr+_r]^=gr[_r]}return or}(),ar.mode.CFB})}(modeCfb)),modeCfb.exports}var modeCtr={exports:{}},hasRequiredModeCtr;function requireModeCtr(){return hasRequiredModeCtr||(hasRequiredModeCtr=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(ar){return ar.mode.CTR=function(){var or=ar.lib.BlockCipherMode.extend(),ur=or.Encryptor=or.extend({processBlock:function(fr,xr){var pr=this._cipher,br=pr.blockSize,gr=this._iv,mr=this._counter;gr&&(mr=this._counter=gr.slice(0),this._iv=void 0);var _r=mr.slice(0);pr.encryptBlock(_r,0),mr[br-1]=mr[br-1]+1|0;for(var Sr=0;Sr<br;Sr++)fr[xr+Sr]^=_r[Sr]}});return or.Decryptor=ur,or}(),ar.mode.CTR})}(modeCtr)),modeCtr.exports}var modeCtrGladman={exports:{}},hasRequiredModeCtrGladman;function requireModeCtrGladman(){return hasRequiredModeCtrGladman||(hasRequiredModeCtrGladman=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(ar){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return ar.mode.CTRGladman=function(){var or=ar.lib.BlockCipherMode.extend();function ur(pr){if((pr>>24&255)===255){var br=pr>>16&255,gr=pr>>8&255,mr=pr&255;br===255?(br=0,gr===255?(gr=0,mr===255?mr=0:++mr):++gr):++br,pr=0,pr+=br<<16,pr+=gr<<8,pr+=mr}else pr+=1<<24;return pr}function fr(pr){return(pr[0]=ur(pr[0]))===0&&(pr[1]=ur(pr[1])),pr}var xr=or.Encryptor=or.extend({processBlock:function(pr,br){var gr=this._cipher,mr=gr.blockSize,_r=this._iv,Sr=this._counter;_r&&(Sr=this._counter=_r.slice(0),this._iv=void 0),fr(Sr);var yr=Sr.slice(0);gr.encryptBlock(yr,0);for(var Cr=0;Cr<mr;Cr++)pr[br+Cr]^=yr[Cr]}});return or.Decryptor=xr,or}(),ar.mode.CTRGladman})}(modeCtrGladman)),modeCtrGladman.exports}var modeOfb={exports:{}},hasRequiredModeOfb;function requireModeOfb(){return hasRequiredModeOfb||(hasRequiredModeOfb=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(ar){return ar.mode.OFB=function(){var or=ar.lib.BlockCipherMode.extend(),ur=or.Encryptor=or.extend({processBlock:function(fr,xr){var pr=this._cipher,br=pr.blockSize,gr=this._iv,mr=this._keystream;gr&&(mr=this._keystream=gr.slice(0),this._iv=void 0),pr.encryptBlock(mr,0);for(var _r=0;_r<br;_r++)fr[xr+_r]^=mr[_r]}});return or.Decryptor=ur,or}(),ar.mode.OFB})}(modeOfb)),modeOfb.exports}var modeEcb={exports:{}},hasRequiredModeEcb;function requireModeEcb(){return hasRequiredModeEcb||(hasRequiredModeEcb=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(ar){return ar.mode.ECB=function(){var or=ar.lib.BlockCipherMode.extend();return or.Encryptor=or.extend({processBlock:function(ur,fr){this._cipher.encryptBlock(ur,fr)}}),or.Decryptor=or.extend({processBlock:function(ur,fr){this._cipher.decryptBlock(ur,fr)}}),or}(),ar.mode.ECB})}(modeEcb)),modeEcb.exports}var padAnsix923={exports:{}},hasRequiredPadAnsix923;function requirePadAnsix923(){return hasRequiredPadAnsix923||(hasRequiredPadAnsix923=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(ar){return ar.pad.AnsiX923={pad:function(or,ur){var fr=or.sigBytes,xr=ur*4,pr=xr-fr%xr,br=fr+pr-1;or.clamp(),or.words[br>>>2]|=pr<<24-br%4*8,or.sigBytes+=pr},unpad:function(or){var ur=or.words[or.sigBytes-1>>>2]&255;or.sigBytes-=ur}},ar.pad.Ansix923})}(padAnsix923)),padAnsix923.exports}var padIso10126={exports:{}},hasRequiredPadIso10126;function requirePadIso10126(){return hasRequiredPadIso10126||(hasRequiredPadIso10126=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(ar){return ar.pad.Iso10126={pad:function(or,ur){var fr=ur*4,xr=fr-or.sigBytes%fr;or.concat(ar.lib.WordArray.random(xr-1)).concat(ar.lib.WordArray.create([xr<<24],1))},unpad:function(or){var ur=or.words[or.sigBytes-1>>>2]&255;or.sigBytes-=ur}},ar.pad.Iso10126})}(padIso10126)),padIso10126.exports}var padIso97971={exports:{}},hasRequiredPadIso97971;function requirePadIso97971(){return hasRequiredPadIso97971||(hasRequiredPadIso97971=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(ar){return ar.pad.Iso97971={pad:function(or,ur){or.concat(ar.lib.WordArray.create([2147483648],1)),ar.pad.ZeroPadding.pad(or,ur)},unpad:function(or){ar.pad.ZeroPadding.unpad(or),or.sigBytes--}},ar.pad.Iso97971})}(padIso97971)),padIso97971.exports}var padZeropadding={exports:{}},hasRequiredPadZeropadding;function requirePadZeropadding(){return hasRequiredPadZeropadding||(hasRequiredPadZeropadding=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(ar){return ar.pad.ZeroPadding={pad:function(or,ur){var fr=ur*4;or.clamp(),or.sigBytes+=fr-(or.sigBytes%fr||fr)},unpad:function(or){for(var ur=or.words,fr=or.sigBytes-1,fr=or.sigBytes-1;fr>=0;fr--)if(ur[fr>>>2]>>>24-fr%4*8&255){or.sigBytes=fr+1;break}}},ar.pad.ZeroPadding})}(padZeropadding)),padZeropadding.exports}var padNopadding={exports:{}},hasRequiredPadNopadding;function requirePadNopadding(){return hasRequiredPadNopadding||(hasRequiredPadNopadding=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(ar){return ar.pad.NoPadding={pad:function(){},unpad:function(){}},ar.pad.NoPadding})}(padNopadding)),padNopadding.exports}var formatHex={exports:{}},hasRequiredFormatHex;function requireFormatHex(){return hasRequiredFormatHex||(hasRequiredFormatHex=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(ar){return function(or){var ur=ar,fr=ur.lib,xr=fr.CipherParams,pr=ur.enc,br=pr.Hex,gr=ur.format;gr.Hex={stringify:function(mr){return mr.ciphertext.toString(br)},parse:function(mr){var _r=br.parse(mr);return xr.create({ciphertext:_r})}}}(),ar.format.Hex})}(formatHex)),formatHex.exports}var aes={exports:{}},hasRequiredAes;function requireAes(){return hasRequiredAes||(hasRequiredAes=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(ar){return function(){var or=ar,ur=or.lib,fr=ur.BlockCipher,xr=or.algo,pr=[],br=[],gr=[],mr=[],_r=[],Sr=[],yr=[],Cr=[],Ar=[],kr=[];(function(){for(var Rr=[],Fr=0;Fr<256;Fr++)Fr<128?Rr[Fr]=Fr<<1:Rr[Fr]=Fr<<1^283;for(var Nr=0,Hr=0,Fr=0;Fr<256;Fr++){var jr=Hr^Hr<<1^Hr<<2^Hr<<3^Hr<<4;jr=jr>>>8^jr&255^99,pr[Nr]=jr,br[jr]=Nr;var Jr=Rr[Nr],Yr=Rr[Jr],Ur=Rr[Yr],Zr=Rr[jr]*257^jr*16843008;gr[Nr]=Zr<<24|Zr>>>8,mr[Nr]=Zr<<16|Zr>>>16,_r[Nr]=Zr<<8|Zr>>>24,Sr[Nr]=Zr;var Zr=Ur*16843009^Yr*65537^Jr*257^Nr*16843008;yr[jr]=Zr<<24|Zr>>>8,Cr[jr]=Zr<<16|Zr>>>16,Ar[jr]=Zr<<8|Zr>>>24,kr[jr]=Zr,Nr?(Nr=Jr^Rr[Rr[Rr[Ur^Jr]]],Hr^=Rr[Rr[Hr]]):Nr=Hr=1}})();var Or=[0,1,2,4,8,16,32,64,128,27,54],Dr=xr.AES=fr.extend({_doReset:function(){var Rr;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var Fr=this._keyPriorReset=this._key,Nr=Fr.words,Hr=Fr.sigBytes/4,jr=this._nRounds=Hr+6,Jr=(jr+1)*4,Yr=this._keySchedule=[],Ur=0;Ur<Jr;Ur++)Ur<Hr?Yr[Ur]=Nr[Ur]:(Rr=Yr[Ur-1],Ur%Hr?Hr>6&&Ur%Hr==4&&(Rr=pr[Rr>>>24]<<24|pr[Rr>>>16&255]<<16|pr[Rr>>>8&255]<<8|pr[Rr&255]):(Rr=Rr<<8|Rr>>>24,Rr=pr[Rr>>>24]<<24|pr[Rr>>>16&255]<<16|pr[Rr>>>8&255]<<8|pr[Rr&255],Rr^=Or[Ur/Hr|0]<<24),Yr[Ur]=Yr[Ur-Hr]^Rr);for(var Zr=this._invKeySchedule=[],Wr=0;Wr<Jr;Wr++){var Ur=Jr-Wr;if(Wr%4)var Rr=Yr[Ur];else var Rr=Yr[Ur-4];Wr<4||Ur<=4?Zr[Wr]=Rr:Zr[Wr]=yr[pr[Rr>>>24]]^Cr[pr[Rr>>>16&255]]^Ar[pr[Rr>>>8&255]]^kr[pr[Rr&255]]}}},encryptBlock:function(Rr,Fr){this._doCryptBlock(Rr,Fr,this._keySchedule,gr,mr,_r,Sr,pr)},decryptBlock:function(Rr,Fr){var Nr=Rr[Fr+1];Rr[Fr+1]=Rr[Fr+3],Rr[Fr+3]=Nr,this._doCryptBlock(Rr,Fr,this._invKeySchedule,yr,Cr,Ar,kr,br);var Nr=Rr[Fr+1];Rr[Fr+1]=Rr[Fr+3],Rr[Fr+3]=Nr},_doCryptBlock:function(Rr,Fr,Nr,Hr,jr,Jr,Yr,Ur){for(var Zr=this._nRounds,Wr=Rr[Fr]^Nr[0],ni=Rr[Fr+1]^Nr[1],Lr=Rr[Fr+2]^Nr[2],hi=Rr[Fr+3]^Nr[3],Ei=4,_i=1;_i<Zr;_i++){var Fi=Hr[Wr>>>24]^jr[ni>>>16&255]^Jr[Lr>>>8&255]^Yr[hi&255]^Nr[Ei++],si=Hr[ni>>>24]^jr[Lr>>>16&255]^Jr[hi>>>8&255]^Yr[Wr&255]^Nr[Ei++],ci=Hr[Lr>>>24]^jr[hi>>>16&255]^Jr[Wr>>>8&255]^Yr[ni&255]^Nr[Ei++],$r=Hr[hi>>>24]^jr[Wr>>>16&255]^Jr[ni>>>8&255]^Yr[Lr&255]^Nr[Ei++];Wr=Fi,ni=si,Lr=ci,hi=$r}var Fi=(Ur[Wr>>>24]<<24|Ur[ni>>>16&255]<<16|Ur[Lr>>>8&255]<<8|Ur[hi&255])^Nr[Ei++],si=(Ur[ni>>>24]<<24|Ur[Lr>>>16&255]<<16|Ur[hi>>>8&255]<<8|Ur[Wr&255])^Nr[Ei++],ci=(Ur[Lr>>>24]<<24|Ur[hi>>>16&255]<<16|Ur[Wr>>>8&255]<<8|Ur[ni&255])^Nr[Ei++],$r=(Ur[hi>>>24]<<24|Ur[Wr>>>16&255]<<16|Ur[ni>>>8&255]<<8|Ur[Lr&255])^Nr[Ei++];Rr[Fr]=Fi,Rr[Fr+1]=si,Rr[Fr+2]=ci,Rr[Fr+3]=$r},keySize:256/32});or.AES=fr._createHelper(Dr)}(),ar.AES})}(aes)),aes.exports}var tripledes={exports:{}},hasRequiredTripledes;function requireTripledes(){return hasRequiredTripledes||(hasRequiredTripledes=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(ar){return function(){var or=ar,ur=or.lib,fr=ur.WordArray,xr=ur.BlockCipher,pr=or.algo,br=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],gr=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],mr=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],_r=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],Sr=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],yr=pr.DES=xr.extend({_doReset:function(){for(var Or=this._key,Dr=Or.words,Rr=[],Fr=0;Fr<56;Fr++){var Nr=br[Fr]-1;Rr[Fr]=Dr[Nr>>>5]>>>31-Nr%32&1}for(var Hr=this._subKeys=[],jr=0;jr<16;jr++){for(var Jr=Hr[jr]=[],Yr=mr[jr],Fr=0;Fr<24;Fr++)Jr[Fr/6|0]|=Rr[(gr[Fr]-1+Yr)%28]<<31-Fr%6,Jr[4+(Fr/6|0)]|=Rr[28+(gr[Fr+24]-1+Yr)%28]<<31-Fr%6;Jr[0]=Jr[0]<<1|Jr[0]>>>31;for(var Fr=1;Fr<7;Fr++)Jr[Fr]=Jr[Fr]>>>(Fr-1)*4+3;Jr[7]=Jr[7]<<5|Jr[7]>>>27}for(var Ur=this._invSubKeys=[],Fr=0;Fr<16;Fr++)Ur[Fr]=Hr[15-Fr]},encryptBlock:function(Or,Dr){this._doCryptBlock(Or,Dr,this._subKeys)},decryptBlock:function(Or,Dr){this._doCryptBlock(Or,Dr,this._invSubKeys)},_doCryptBlock:function(Or,Dr,Rr){this._lBlock=Or[Dr],this._rBlock=Or[Dr+1],Cr.call(this,4,252645135),Cr.call(this,16,65535),Ar.call(this,2,858993459),Ar.call(this,8,16711935),Cr.call(this,1,1431655765);for(var Fr=0;Fr<16;Fr++){for(var Nr=Rr[Fr],Hr=this._lBlock,jr=this._rBlock,Jr=0,Yr=0;Yr<8;Yr++)Jr|=_r[Yr][((jr^Nr[Yr])&Sr[Yr])>>>0];this._lBlock=jr,this._rBlock=Hr^Jr}var Ur=this._lBlock;this._lBlock=this._rBlock,this._rBlock=Ur,Cr.call(this,1,1431655765),Ar.call(this,8,16711935),Ar.call(this,2,858993459),Cr.call(this,16,65535),Cr.call(this,4,252645135),Or[Dr]=this._lBlock,Or[Dr+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function Cr(Or,Dr){var Rr=(this._lBlock>>>Or^this._rBlock)&Dr;this._rBlock^=Rr,this._lBlock^=Rr<<Or}function Ar(Or,Dr){var Rr=(this._rBlock>>>Or^this._lBlock)&Dr;this._lBlock^=Rr,this._rBlock^=Rr<<Or}or.DES=xr._createHelper(yr);var kr=pr.TripleDES=xr.extend({_doReset:function(){var Or=this._key,Dr=Or.words;if(Dr.length!==2&&Dr.length!==4&&Dr.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var Rr=Dr.slice(0,2),Fr=Dr.length<4?Dr.slice(0,2):Dr.slice(2,4),Nr=Dr.length<6?Dr.slice(0,2):Dr.slice(4,6);this._des1=yr.createEncryptor(fr.create(Rr)),this._des2=yr.createEncryptor(fr.create(Fr)),this._des3=yr.createEncryptor(fr.create(Nr))},encryptBlock:function(Or,Dr){this._des1.encryptBlock(Or,Dr),this._des2.decryptBlock(Or,Dr),this._des3.encryptBlock(Or,Dr)},decryptBlock:function(Or,Dr){this._des3.decryptBlock(Or,Dr),this._des2.encryptBlock(Or,Dr),this._des1.decryptBlock(Or,Dr)},keySize:192/32,ivSize:64/32,blockSize:64/32});or.TripleDES=xr._createHelper(kr)}(),ar.TripleDES})}(tripledes)),tripledes.exports}var rc4={exports:{}},hasRequiredRc4;function requireRc4(){return hasRequiredRc4||(hasRequiredRc4=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(ar){return function(){var or=ar,ur=or.lib,fr=ur.StreamCipher,xr=or.algo,pr=xr.RC4=fr.extend({_doReset:function(){for(var mr=this._key,_r=mr.words,Sr=mr.sigBytes,yr=this._S=[],Cr=0;Cr<256;Cr++)yr[Cr]=Cr;for(var Cr=0,Ar=0;Cr<256;Cr++){var kr=Cr%Sr,Or=_r[kr>>>2]>>>24-kr%4*8&255;Ar=(Ar+yr[Cr]+Or)%256;var Dr=yr[Cr];yr[Cr]=yr[Ar],yr[Ar]=Dr}this._i=this._j=0},_doProcessBlock:function(mr,_r){mr[_r]^=br.call(this)},keySize:256/32,ivSize:0});function br(){for(var mr=this._S,_r=this._i,Sr=this._j,yr=0,Cr=0;Cr<4;Cr++){_r=(_r+1)%256,Sr=(Sr+mr[_r])%256;var Ar=mr[_r];mr[_r]=mr[Sr],mr[Sr]=Ar,yr|=mr[(mr[_r]+mr[Sr])%256]<<24-Cr*8}return this._i=_r,this._j=Sr,yr}or.RC4=fr._createHelper(pr);var gr=xr.RC4Drop=pr.extend({cfg:pr.cfg.extend({drop:192}),_doReset:function(){pr._doReset.call(this);for(var mr=this.cfg.drop;mr>0;mr--)br.call(this)}});or.RC4Drop=fr._createHelper(gr)}(),ar.RC4})}(rc4)),rc4.exports}var rabbit={exports:{}},hasRequiredRabbit;function requireRabbit(){return hasRequiredRabbit||(hasRequiredRabbit=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(ar){return function(){var or=ar,ur=or.lib,fr=ur.StreamCipher,xr=or.algo,pr=[],br=[],gr=[],mr=xr.Rabbit=fr.extend({_doReset:function(){for(var Sr=this._key.words,yr=this.cfg.iv,Cr=0;Cr<4;Cr++)Sr[Cr]=(Sr[Cr]<<8|Sr[Cr]>>>24)&16711935|(Sr[Cr]<<24|Sr[Cr]>>>8)&4278255360;var Ar=this._X=[Sr[0],Sr[3]<<16|Sr[2]>>>16,Sr[1],Sr[0]<<16|Sr[3]>>>16,Sr[2],Sr[1]<<16|Sr[0]>>>16,Sr[3],Sr[2]<<16|Sr[1]>>>16],kr=this._C=[Sr[2]<<16|Sr[2]>>>16,Sr[0]&4294901760|Sr[1]&65535,Sr[3]<<16|Sr[3]>>>16,Sr[1]&4294901760|Sr[2]&65535,Sr[0]<<16|Sr[0]>>>16,Sr[2]&4294901760|Sr[3]&65535,Sr[1]<<16|Sr[1]>>>16,Sr[3]&4294901760|Sr[0]&65535];this._b=0;for(var Cr=0;Cr<4;Cr++)_r.call(this);for(var Cr=0;Cr<8;Cr++)kr[Cr]^=Ar[Cr+4&7];if(yr){var Or=yr.words,Dr=Or[0],Rr=Or[1],Fr=(Dr<<8|Dr>>>24)&16711935|(Dr<<24|Dr>>>8)&4278255360,Nr=(Rr<<8|Rr>>>24)&16711935|(Rr<<24|Rr>>>8)&4278255360,Hr=Fr>>>16|Nr&4294901760,jr=Nr<<16|Fr&65535;kr[0]^=Fr,kr[1]^=Hr,kr[2]^=Nr,kr[3]^=jr,kr[4]^=Fr,kr[5]^=Hr,kr[6]^=Nr,kr[7]^=jr;for(var Cr=0;Cr<4;Cr++)_r.call(this)}},_doProcessBlock:function(Sr,yr){var Cr=this._X;_r.call(this),pr[0]=Cr[0]^Cr[5]>>>16^Cr[3]<<16,pr[1]=Cr[2]^Cr[7]>>>16^Cr[5]<<16,pr[2]=Cr[4]^Cr[1]>>>16^Cr[7]<<16,pr[3]=Cr[6]^Cr[3]>>>16^Cr[1]<<16;for(var Ar=0;Ar<4;Ar++)pr[Ar]=(pr[Ar]<<8|pr[Ar]>>>24)&16711935|(pr[Ar]<<24|pr[Ar]>>>8)&4278255360,Sr[yr+Ar]^=pr[Ar]},blockSize:128/32,ivSize:64/32});function _r(){for(var Sr=this._X,yr=this._C,Cr=0;Cr<8;Cr++)br[Cr]=yr[Cr];yr[0]=yr[0]+1295307597+this._b|0,yr[1]=yr[1]+3545052371+(yr[0]>>>0<br[0]>>>0?1:0)|0,yr[2]=yr[2]+886263092+(yr[1]>>>0<br[1]>>>0?1:0)|0,yr[3]=yr[3]+1295307597+(yr[2]>>>0<br[2]>>>0?1:0)|0,yr[4]=yr[4]+3545052371+(yr[3]>>>0<br[3]>>>0?1:0)|0,yr[5]=yr[5]+886263092+(yr[4]>>>0<br[4]>>>0?1:0)|0,yr[6]=yr[6]+1295307597+(yr[5]>>>0<br[5]>>>0?1:0)|0,yr[7]=yr[7]+3545052371+(yr[6]>>>0<br[6]>>>0?1:0)|0,this._b=yr[7]>>>0<br[7]>>>0?1:0;for(var Cr=0;Cr<8;Cr++){var Ar=Sr[Cr]+yr[Cr],kr=Ar&65535,Or=Ar>>>16,Dr=((kr*kr>>>17)+kr*Or>>>15)+Or*Or,Rr=((Ar&4294901760)*Ar|0)+((Ar&65535)*Ar|0);gr[Cr]=Dr^Rr}Sr[0]=gr[0]+(gr[7]<<16|gr[7]>>>16)+(gr[6]<<16|gr[6]>>>16)|0,Sr[1]=gr[1]+(gr[0]<<8|gr[0]>>>24)+gr[7]|0,Sr[2]=gr[2]+(gr[1]<<16|gr[1]>>>16)+(gr[0]<<16|gr[0]>>>16)|0,Sr[3]=gr[3]+(gr[2]<<8|gr[2]>>>24)+gr[1]|0,Sr[4]=gr[4]+(gr[3]<<16|gr[3]>>>16)+(gr[2]<<16|gr[2]>>>16)|0,Sr[5]=gr[5]+(gr[4]<<8|gr[4]>>>24)+gr[3]|0,Sr[6]=gr[6]+(gr[5]<<16|gr[5]>>>16)+(gr[4]<<16|gr[4]>>>16)|0,Sr[7]=gr[7]+(gr[6]<<8|gr[6]>>>24)+gr[5]|0}or.Rabbit=fr._createHelper(mr)}(),ar.Rabbit})}(rabbit)),rabbit.exports}var rabbitLegacy={exports:{}},hasRequiredRabbitLegacy;function requireRabbitLegacy(){return hasRequiredRabbitLegacy||(hasRequiredRabbitLegacy=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(ar){return function(){var or=ar,ur=or.lib,fr=ur.StreamCipher,xr=or.algo,pr=[],br=[],gr=[],mr=xr.RabbitLegacy=fr.extend({_doReset:function(){var Sr=this._key.words,yr=this.cfg.iv,Cr=this._X=[Sr[0],Sr[3]<<16|Sr[2]>>>16,Sr[1],Sr[0]<<16|Sr[3]>>>16,Sr[2],Sr[1]<<16|Sr[0]>>>16,Sr[3],Sr[2]<<16|Sr[1]>>>16],Ar=this._C=[Sr[2]<<16|Sr[2]>>>16,Sr[0]&4294901760|Sr[1]&65535,Sr[3]<<16|Sr[3]>>>16,Sr[1]&4294901760|Sr[2]&65535,Sr[0]<<16|Sr[0]>>>16,Sr[2]&4294901760|Sr[3]&65535,Sr[1]<<16|Sr[1]>>>16,Sr[3]&4294901760|Sr[0]&65535];this._b=0;for(var kr=0;kr<4;kr++)_r.call(this);for(var kr=0;kr<8;kr++)Ar[kr]^=Cr[kr+4&7];if(yr){var Or=yr.words,Dr=Or[0],Rr=Or[1],Fr=(Dr<<8|Dr>>>24)&16711935|(Dr<<24|Dr>>>8)&4278255360,Nr=(Rr<<8|Rr>>>24)&16711935|(Rr<<24|Rr>>>8)&4278255360,Hr=Fr>>>16|Nr&4294901760,jr=Nr<<16|Fr&65535;Ar[0]^=Fr,Ar[1]^=Hr,Ar[2]^=Nr,Ar[3]^=jr,Ar[4]^=Fr,Ar[5]^=Hr,Ar[6]^=Nr,Ar[7]^=jr;for(var kr=0;kr<4;kr++)_r.call(this)}},_doProcessBlock:function(Sr,yr){var Cr=this._X;_r.call(this),pr[0]=Cr[0]^Cr[5]>>>16^Cr[3]<<16,pr[1]=Cr[2]^Cr[7]>>>16^Cr[5]<<16,pr[2]=Cr[4]^Cr[1]>>>16^Cr[7]<<16,pr[3]=Cr[6]^Cr[3]>>>16^Cr[1]<<16;for(var Ar=0;Ar<4;Ar++)pr[Ar]=(pr[Ar]<<8|pr[Ar]>>>24)&16711935|(pr[Ar]<<24|pr[Ar]>>>8)&4278255360,Sr[yr+Ar]^=pr[Ar]},blockSize:128/32,ivSize:64/32});function _r(){for(var Sr=this._X,yr=this._C,Cr=0;Cr<8;Cr++)br[Cr]=yr[Cr];yr[0]=yr[0]+1295307597+this._b|0,yr[1]=yr[1]+3545052371+(yr[0]>>>0<br[0]>>>0?1:0)|0,yr[2]=yr[2]+886263092+(yr[1]>>>0<br[1]>>>0?1:0)|0,yr[3]=yr[3]+1295307597+(yr[2]>>>0<br[2]>>>0?1:0)|0,yr[4]=yr[4]+3545052371+(yr[3]>>>0<br[3]>>>0?1:0)|0,yr[5]=yr[5]+886263092+(yr[4]>>>0<br[4]>>>0?1:0)|0,yr[6]=yr[6]+1295307597+(yr[5]>>>0<br[5]>>>0?1:0)|0,yr[7]=yr[7]+3545052371+(yr[6]>>>0<br[6]>>>0?1:0)|0,this._b=yr[7]>>>0<br[7]>>>0?1:0;for(var Cr=0;Cr<8;Cr++){var Ar=Sr[Cr]+yr[Cr],kr=Ar&65535,Or=Ar>>>16,Dr=((kr*kr>>>17)+kr*Or>>>15)+Or*Or,Rr=((Ar&4294901760)*Ar|0)+((Ar&65535)*Ar|0);gr[Cr]=Dr^Rr}Sr[0]=gr[0]+(gr[7]<<16|gr[7]>>>16)+(gr[6]<<16|gr[6]>>>16)|0,Sr[1]=gr[1]+(gr[0]<<8|gr[0]>>>24)+gr[7]|0,Sr[2]=gr[2]+(gr[1]<<16|gr[1]>>>16)+(gr[0]<<16|gr[0]>>>16)|0,Sr[3]=gr[3]+(gr[2]<<8|gr[2]>>>24)+gr[1]|0,Sr[4]=gr[4]+(gr[3]<<16|gr[3]>>>16)+(gr[2]<<16|gr[2]>>>16)|0,Sr[5]=gr[5]+(gr[4]<<8|gr[4]>>>24)+gr[3]|0,Sr[6]=gr[6]+(gr[5]<<16|gr[5]>>>16)+(gr[4]<<16|gr[4]>>>16)|0,Sr[7]=gr[7]+(gr[6]<<8|gr[6]>>>24)+gr[5]|0}or.RabbitLegacy=fr._createHelper(mr)}(),ar.RabbitLegacy})}(rabbitLegacy)),rabbitLegacy.exports}var blowfish={exports:{}},hasRequiredBlowfish;function requireBlowfish(){return hasRequiredBlowfish||(hasRequiredBlowfish=1,function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(ar){return function(){var or=ar,ur=or.lib,fr=ur.BlockCipher,xr=or.algo;const pr=16,br=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],gr=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var mr={pbox:[],sbox:[]};function _r(kr,Or){let Dr=Or>>24&255,Rr=Or>>16&255,Fr=Or>>8&255,Nr=Or&255,Hr=kr.sbox[0][Dr]+kr.sbox[1][Rr];return Hr=Hr^kr.sbox[2][Fr],Hr=Hr+kr.sbox[3][Nr],Hr}function Sr(kr,Or,Dr){let Rr=Or,Fr=Dr,Nr;for(let Hr=0;Hr<pr;++Hr)Rr=Rr^kr.pbox[Hr],Fr=_r(kr,Rr)^Fr,Nr=Rr,Rr=Fr,Fr=Nr;return Nr=Rr,Rr=Fr,Fr=Nr,Fr=Fr^kr.pbox[pr],Rr=Rr^kr.pbox[pr+1],{left:Rr,right:Fr}}function yr(kr,Or,Dr){let Rr=Or,Fr=Dr,Nr;for(let Hr=pr+1;Hr>1;--Hr)Rr=Rr^kr.pbox[Hr],Fr=_r(kr,Rr)^Fr,Nr=Rr,Rr=Fr,Fr=Nr;return Nr=Rr,Rr=Fr,Fr=Nr,Fr=Fr^kr.pbox[1],Rr=Rr^kr.pbox[0],{left:Rr,right:Fr}}function Cr(kr,Or,Dr){for(let jr=0;jr<4;jr++){kr.sbox[jr]=[];for(let Jr=0;Jr<256;Jr++)kr.sbox[jr][Jr]=gr[jr][Jr]}let Rr=0;for(let jr=0;jr<pr+2;jr++)kr.pbox[jr]=br[jr]^Or[Rr],Rr++,Rr>=Dr&&(Rr=0);let Fr=0,Nr=0,Hr=0;for(let jr=0;jr<pr+2;jr+=2)Hr=Sr(kr,Fr,Nr),Fr=Hr.left,Nr=Hr.right,kr.pbox[jr]=Fr,kr.pbox[jr+1]=Nr;for(let jr=0;jr<4;jr++)for(let Jr=0;Jr<256;Jr+=2)Hr=Sr(kr,Fr,Nr),Fr=Hr.left,Nr=Hr.right,kr.sbox[jr][Jr]=Fr,kr.sbox[jr][Jr+1]=Nr;return!0}var Ar=xr.Blowfish=fr.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var kr=this._keyPriorReset=this._key,Or=kr.words,Dr=kr.sigBytes/4;Cr(mr,Or,Dr)}},encryptBlock:function(kr,Or){var Dr=Sr(mr,kr[Or],kr[Or+1]);kr[Or]=Dr.left,kr[Or+1]=Dr.right},decryptBlock:function(kr,Or){var Dr=yr(mr,kr[Or],kr[Or+1]);kr[Or]=Dr.left,kr[Or+1]=Dr.right},blockSize:64/32,keySize:128/32,ivSize:64/32});or.Blowfish=fr._createHelper(Ar)}(),ar.Blowfish})}(blowfish)),blowfish.exports}(function(lr,cr){(function(ar,or,ur){lr.exports=or(requireCore(),requireX64Core(),requireLibTypedarrays(),requireEncUtf16(),requireEncBase64(),requireEncBase64url(),requireMd5(),requireSha1(),requireSha256(),requireSha224(),requireSha512(),requireSha384(),requireSha3(),requireRipemd160(),requireHmac(),requirePbkdf2(),requireEvpkdf(),requireCipherCore(),requireModeCfb(),requireModeCtr(),requireModeCtrGladman(),requireModeOfb(),requireModeEcb(),requirePadAnsix923(),requirePadIso10126(),requirePadIso97971(),requirePadZeropadding(),requirePadNopadding(),requireFormatHex(),requireAes(),requireTripledes(),requireRc4(),requireRabbit(),requireRabbitLegacy(),requireBlowfish())})(commonjsGlobal$1,function(ar){return ar})})(cryptoJs);var cryptoJsExports=cryptoJs.exports;const _0x441b85=getDefaultExportFromCjs$1(cryptoJsExports),_0x14da5a=_0x1c3f;(function(lr,cr){const ar=_0x1c3f,or=lr();for(;[];)try{if(parseInt(ar(134))/1*(-parseInt(ar(198))/2)+-parseInt(ar(180))/3*(parseInt(ar(177))/4)+parseInt(ar(165))/5+-parseInt(ar(190))/6*(-parseInt(ar(184))/7)+parseInt(ar(162))/8*(parseInt(ar(164))/9)+parseInt(ar(157))/10+-parseInt(ar(168))/11===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x1d0f,708996);function _0x1c3f(lr,cr){const ar=_0x1d0f();return _0x1c3f=function(or,ur){return or=or-132,ar[or]},_0x1c3f(lr,cr)}var $i,ks,hc,_0,ku;const Mo=class Mo{constructor(){yi(this,_0);yi(this,$i,void 0);const cr=_0x14da5a;Oi(this,$i,new Xn(Vr(Mo,hc))),Vr(this,$i)[cr(228)](2)[cr(205)]({files:cr(167),saveMeta:cr(191),saveData:cr(187),romData:cr(181)}),Vr(this,$i)[cr(228)](3)[cr(205)]({files:cr(167),saveMeta:cr(191),saveData:cr(187),romData:cr(206),collectionMeta:cr(136),collectionItemData:"++id, collection_id, platform_id, title, credits, description, image, rom_name, rom_data_id, rom_url, launched"})[cr(166)](ar=>{const or=cr;return ar.table(or(194))[or(160)]()[or(201)](ur=>{const fr=or;ur[fr(216)]="base64"})})}static[_0x14da5a(149)](cr,ar){const or=_0x14da5a;localStorage[or(192)](Vr(Mo,ks)+cr,ar)}static[_0x14da5a(146)](cr){const ar=_0x14da5a;localStorage[ar(169)](Vr(Mo,ks)+cr)}static[_0x14da5a(221)](cr,ar){let or=localStorage.getItem(Vr(Mo,ks)+cr);return or??ar}async[_0x14da5a(182)](cr,ar){const or=_0x14da5a;await Vr(this,$i)[or(222)][or(145)]({key:cr,data:ar})}async[_0x14da5a(161)](cr){const ar=_0x14da5a,or=await Vr(this,$i)[ar(222)][ar(203)]({key:cr}).first();return or?or.data:null}async deleteFile(cr){const ar=_0x14da5a;await Vr(this,$i)[ar(222)][ar(203)]({key:cr})[ar(154)]()}async checkFiles(cr){return new Promise(async ar=>{const or=_0x1c3f;let ur={},fr=[];if(cr[or(147)]){const br=cr[or(147)].map(gr=>({...gr,key:cr.platform_id+"."+gr[or(213)]}));for(const gr of br){const mr=await this[or(161)](gr[or(213)]);mr?ur[gr[or(213)]]=mr:fr.push(gr.type)}}const xr=cr[or(209)]+or(143),pr=await this.getFile(xr)||null;ar([ur,fr,pr])})}async storeCollection(cr,ar,or,ur){const fr=_0x14da5a;await this[fr(140)]();const xr=[];for(const pr of ur){const br=await Pi(this,_0,ku).call(this,pr[fr(153)]),gr=await this.blobToBase64(pr[fr(170)]),mr=await Vr(this,$i)[fr(194)].where({hash:br})[fr(215)]();xr[fr(225)]({item:pr,hash:br,existing:mr,itemImageB64:gr})}try{return await Vr(this,$i).transaction("rw",Vr(this,$i)[fr(133)],Vr(this,$i)[fr(144)],Vr(this,$i)[fr(194)],async()=>{const pr=fr,br=await Vr(this,$i)[pr(133)][pr(230)]({collection_unique_name:cr,collection_title:ar,collection_image:or});for(const{item:gr,hash:mr,existing:_r,itemImageB64:Sr}of xr){let yr;_r?yr=_r.id:yr=await Vr(this,$i)[pr(194)].add({rom_data:gr[pr(153)],hash:mr,data_type:pr(186)}),await Vr(this,$i)[pr(144)][pr(230)]({collection_id:br,platform_id:gr.platform_id,title:gr[pr(212)],credits:gr.credits,description:gr[pr(151)],image:Sr,rom_name:gr[pr(174)],rom_data_id:yr,launched:![]})}}),!![]}catch(pr){return console[fr(218)](fr(229),pr),![]}}async[_0x14da5a(204)](){const cr=_0x14da5a;return(await Vr(this,$i)[cr(144)][cr(135)]())[cr(200)](or=>{const ur=cr;return or[ur(226)]&&(or[ur(138)]=or.id,or[ur(150)]=or[ur(141)],or[ur(170)]=this[ur(214)](or[ur(207)])),or})}async[_0x14da5a(148)](){const cr=_0x14da5a;return(await Vr(this,$i)[cr(133)][cr(135)]())[cr(200)](or=>{const ur=cr;return or[ur(226)]&&(or[ur(138)]=or.id,or[ur(150)]=or[ur(141)],or[ur(170)]=this[ur(214)](or[ur(207)])),or})}async storeState(cr,ar,or,ur,fr){const xr=_0x14da5a,pr=await Pi(this,_0,ku).call(this,ar),br=await this[xr(197)](or),gr=ar,mr=await this[xr(197)](cr);try{await Vr(this,$i)[xr(183)]("rw",Vr(this,$i).saveMeta,Vr(this,$i)[xr(195)],Vr(this,$i)[xr(194)],async()=>{const _r=xr,Sr=await Vr(this,$i)[_r(194)].where({hash:pr}).first();let yr;Sr==null?yr=await Vr(this,$i)[_r(194)].add({rom_data:gr,hash:pr,data_type:_r(186)}):yr=Sr.id;let Cr=await Vr(this,$i).saveData[_r(230)]({save_data:mr});await Vr(this,$i)[_r(193)][_r(230)]({platform_id:ur,program_name:fr,screenshot:br,rom_data_id:yr,save_data_id:Cr,timestamp:Date.now()})})}catch(_r){console[xr(218)](xr(189),_r)}}async[_0x14da5a(197)](cr){return new Promise((ar,or)=>{const ur=_0x1c3f,fr=new FileReader;fr[ur(172)]=()=>ar(fr.result),fr[ur(178)]=or,fr.readAsDataURL(cr)})}[_0x14da5a(214)](cr){const ar=_0x14da5a,or=atob(cr[ar(152)](",")[1]),ur=cr.split(",")[0][ar(152)](":")[1].split(";")[0],fr=new ArrayBuffer(or[ar(196)]),xr=new Uint8Array(fr);for(let pr=0;pr<or.length;pr++)xr[pr]=or[ar(220)](pr);return new Blob([fr],{type:ur})}async[_0x14da5a(224)](){const cr=_0x14da5a;return(await Vr(this,$i).saveMeta[cr(171)](cr(185)).reverse()[cr(135)]())[cr(200)](or=>{const ur=cr;return or[ur(226)]&&(or[ur(226)]=this[ur(214)](or[ur(226)])),or})}async getRomData(cr){const ar=_0x14da5a,or=await Vr(this,$i)[ar(194)][ar(179)](cr);return or[ar(216)]==ar(155)&&(or[ar(175)]=this.base64ToBlob(or[ar(175)])),or}async[_0x14da5a(132)](cr){const ar=_0x14da5a,or=await Vr(this,$i)[ar(193)][ar(179)](cr);if(!or)throw new Error("Save state not found.");const ur=await Vr(this,$i).saveData[ar(179)](or[ar(217)]),fr=await Vr(this,$i)[ar(194)][ar(179)](or[ar(163)]);let xr;if(fr[ar(216)]=="base64"?xr=this[ar(214)](fr[ar(175)]):xr=fr.rom_data,!ur||!fr)throw new Error(ar(188));const pr=this[ar(214)](ur[ar(142)]);return{platform_id:or[ar(209)],program_name:or[ar(173)],save_data:pr,rom_data:xr,timestamp:or.timestamp}}async deleteSave(cr){const ar=_0x14da5a;try{await Vr(this,$i)[ar(183)]("rw",Vr(this,$i)[ar(193)],Vr(this,$i)[ar(195)],Vr(this,$i)[ar(144)],Vr(this,$i)[ar(194)],async()=>{const or=ar,ur=await Vr(this,$i)[or(193)][or(179)](cr);if(ur){await Vr(this,$i)[or(195)].where("id")[or(208)](ur[or(217)]).delete(),await Vr(this,$i)[or(193)][or(154)](cr);let fr=await Vr(this,$i)[or(193)].where(or(163))[or(208)](ur[or(163)])[or(139)]();await Vr(this,$i).collectionItemData.where(or(163))[or(208)](ur[or(163)])[or(139)]()+fr==0&&await Vr(this,$i)[or(194)][or(203)]("id")[or(208)](ur[or(163)]).delete()}})}catch(or){console[ar(218)](ar(137)+cr+":",or)}}async[_0x14da5a(140)](){const cr=_0x14da5a;try{await Vr(this,$i)[cr(183)]("rw",Vr(this,$i)[cr(133)],Vr(this,$i)[cr(144)],Vr(this,$i)[cr(193)],Vr(this,$i)[cr(194)],async()=>{const ar=cr,or=await Vr(this,$i)[ar(133)][ar(135)]();for(let ur of or){const fr=ur.id,xr=await Vr(this,$i)[ar(144)][ar(203)](ar(138))[ar(208)](fr)[ar(135)]();if(xr.length>0){await Vr(this,$i)[ar(144)].where(ar(138)).equals(fr).delete(),await Vr(this,$i).collectionMeta[ar(154)](fr);for(let pr of xr){const br=pr[ar(163)];let gr=await Vr(this,$i)[ar(193)].where("rom_data_id").equals(br).count();await Vr(this,$i)[ar(144)][ar(203)](ar(163))[ar(208)](br)[ar(139)]()+gr==0&&await Vr(this,$i)[ar(194)].where("id").equals(br).delete()}}}})}catch(ar){console.error(cr(210),ar)}}};$i=new WeakMap,ks=new WeakMap,hc=new WeakMap,_0=new WeakSet,ku=async function(cr){return new Promise((ar,or)=>{const ur=_0x1c3f,fr=new FileReader;fr[ur(159)]=function(xr){const pr=ur,br=xr[pr(227)][pr(158)],gr=_0x441b85[pr(156)].WordArray[pr(219)](br),mr=_0x441b85[pr(223)](gr)[pr(211)]();ar(mr)},fr.onerror=function(xr){or(xr)},fr[ur(202)](cr)})},yi(Mo,ks,_0x14da5a(199)),yi(Mo,hc,_0x14da5a(176));let StorageManager=Mo;function _0x1d0f(){const lr=["result","onload","toCollection","getFile","6826024doyfLu","rom_data_id","9gnVwNA","3501475WbKwDa","upgrade","key, data","27460928VXptRc","removeItem","image","orderBy","onloadend","program_name","filename","rom_data","VME","4QTdZrc","onerror","get","70377ltDHHT","++id, rom_data, hash","storeFile","transaction","9260671MqDmBW","timestamp","blob","++id, save_data","Save state or program data is missing.","Failed to save state:","6NAUlkH","++id, platform_id, program_name, save_data_id, rom_data_id, timestamp","setItem","saveMeta","romData","saveData","length","blobToBase64","1320376vFFjTn","VME_INTERNAL.","map","modify","readAsArrayBuffer","where","getCollectionItems","stores","++id, rom_data, hash, data_type","collection_image","equals","platform_id","Failed to delete collections:","toString","title","key","base64ToBlob","first","data_type","save_data_id","error","create","charCodeAt","getValue","files","SHA256","getAllSaveMeta","push","screenshot","target","version","Failed to save collection:","add","getSaveData","collectionMeta","1YBogWc","toArray","++id, collection_unique_name, collection_title, collection_image","Failed to delete entries with id ","collection_id","count","deleteAllCollections","collection_name","save_data",".software","collectionItemData","put","clearValue","dependencies","getCollections","storeValue","name","description","split","file","delete","base64","lib","10125900tbyOZG"];return _0x1d0f=function(){return lr},_0x1d0f()}const _0x2b7b6f=_0x1071;function _0x1071(lr,cr){const ar=_0x41fd();return _0x1071=function(or,ur){return or=or-379,ar[or]},_0x1071(lr,cr)}(function(lr,cr){const ar=_0x1071,or=lr();for(;[];)try{if(-parseInt(ar(401))/1*(-parseInt(ar(386))/2)+-parseInt(ar(397))/3*(-parseInt(ar(384))/4)+-parseInt(ar(379))/5*(-parseInt(ar(411))/6)+-parseInt(ar(413))/7*(parseInt(ar(412))/8)+-parseInt(ar(392))/9*(parseInt(ar(387))/10)+-parseInt(ar(395))/11+parseInt(ar(394))/12===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x41fd,451821);function _0x41fd(){const lr=["createElement","12882AJlohY","set_cli","get_keywords","classList","12249hykmBI","innerHTML","is_selection_enabled","set_selection_mode","span","cli","length","update","addEventListener","getValue","108828NBOlGh","56288ZZbXdK","420ZmnTUa","process_input","add","225aqhvlI","selection_changed","setAttribute","process_selection","data","164RLSLGD","#cors_results","70dhiohj","8850JlWkLx","corsrow","click","install","show_results","1746eLFwNY","label","811404AIFXnI","4872175DWINSM"];return _0x41fd=function(){return lr},_0x41fd()}var xc,Ql;const Mu=class Mu{constructor(){yi(this,xc);if(new.target===Mu)throw new Error}[_0x2b7b6f(399)](){throw new Error}get_help(){throw new Error}[_0x2b7b6f(414)](cr,ar){throw new Error}[_0x2b7b6f(390)](){}uninstall(){}[_0x2b7b6f(403)](){return![]}is_enter_required(){return![]}exit_selection(){return![]}[_0x2b7b6f(382)](cr){return![]}[_0x2b7b6f(398)](cr){this.cli=cr}[_0x2b7b6f(391)](cr,ar){cr!=[]&&Pi(this,xc,Ql).call(this,cr,ar)}[_0x2b7b6f(380)](cr){}};xc=new WeakSet,Ql=function(cr,ar){const or=_0x2b7b6f,ur=s$1(or(385));ur[or(402)]="",cr.forEach(fr=>{const xr=or,pr=document[xr(396)]("p");pr[xr(381)]("data-value",fr[xr(383)]),pr[xr(400)].add(xr(388));const br=document[xr(396)](xr(405));StorageManager[xr(410)]("LINES")!="single"||br[xr(400)][xr(415)]("singleline"),br[xr(402)]=fr[xr(393)],pr.append(br),pr[xr(409)](xr(389),gr=>{this.process_selection(fr)}),ur.append(pr)}),cr[or(407)]>0&&ar&&(this[or(406)][or(404)](!![]),this.cli[or(408)]())};let CommandBase=Mu;const _0x330e01=_0x5db6;function _0x5db6(lr,cr){const ar=_0x1ca9();return _0x5db6=function(or,ur){return or=or-304,ar[or]},_0x5db6(lr,cr)}(function(lr,cr){const ar=_0x5db6,or=lr();for(;[];)try{if(-parseInt(ar(306))/1+parseInt(ar(315))/2+-parseInt(ar(308))/3+-parseInt(ar(309))/4+parseInt(ar(305))/5*(parseInt(ar(310))/6)+-parseInt(ar(311))/7+parseInt(ar(314))/8===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x1ca9,145572);const QJ_IDLE_COLOR="#88888844",QJ_ACTIVE_COLOR=_0x330e01(304),QJ_LABEL_COLOR="#88888888",BOOT_TO=_0x330e01(307);function _0x1ca9(){const lr=["COMPILATIONS","4507664JkcHXp","112670DFEteS","COLLECTION_BROWSER_ITEM_INDEX","#88888866","20IYdyqk","186602oqtFCx","BOOT_TO","766656cNnWGj","820796vfFgaW","355860ByhZjq","448756vzZZmL","COLLECTION_BROWSER_COLLECTION_INDEX"];return _0x1ca9=function(){return lr},_0x1ca9()}const COLLECTION_BROWSER_COLLECTION_INDEX=_0x330e01(312),COLLECTION_BROWSER_ITEM_INDEX=_0x330e01(316),BOOT_TO_COLLECTION_BROWSER=_0x330e01(313),JOYSTICK_TOUCH_MODE={QUICKJOY_PRIMARY:100,QUICKSHOT_DYNAMIC:200,HIDEAWAY:1e3};var _0x74ba36=_0x2b17;(function(lr,cr){for(var ar=_0x2b17,or=lr();[];)try{var ur=-parseInt(ar(470))/1*(-parseInt(ar(461))/2)+-parseInt(ar(451))/3+parseInt(ar(453))/4*(-parseInt(ar(443))/5)+-parseInt(ar(446))/6+parseInt(ar(441))/7*(parseInt(ar(436))/8)+parseInt(ar(472))/9*(parseInt(ar(476))/10)+parseInt(ar(447))/11;if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x2c26,564928);function _0x2b17(lr,cr){var ar=_0x2c26();return _0x2b17=function(or,ur){or=or-435;var fr=ar[or];return fr},_0x2b17(lr,cr)}var pc,Zl;class SingleTouchButton{constructor(cr,ar,or,ur,fr,xr="12px"){yi(this,pc);var pr=_0x2b17,br=Pi(this,pc,Zl).call(this,ar,or,ur,xr);cr[pr(474)](br),this.el=br,this.el[pr(458)][pr(444)]=QJ_LABEL_COLOR,this.state=![],this.elListener=fr;var gr=this;br[pr(469)]("touchstart",function(mr){var _r=pr;gr[_r(449)](mr,!![])}),br[pr(469)](pr(448),function(mr){var _r=pr;gr[_r(449)](mr,!![])}),br[pr(469)](pr(438),function(mr){var _r=pr;mr[_r(463)](),gr[_r(449)](mr,![])})}touch(cr,ar){var or=_0x2b17,ur=![];ar&&(ur=!![]),ur!=this[or(457)]&&(this[or(457)]=ur,this[or(467)][or(465)](this[or(457)]),this.el[or(458)][or(440)]=this[or(457)]?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR)}}pc=new WeakSet,Zl=function(cr,ar,or,ur=_0x74ba36(459)){var fr=_0x74ba36,xr=document[fr(475)](fr(454));return xr[fr(437)][fr(442)](fr(464)),xr[fr(445)]=cr,ar!=null&&(xr[fr(458)][fr(468)]=ar),or!=null&&(xr.id=or),xr.style[fr(450)]=QJ_IDLE_COLOR,xr[fr(458)][fr(466)]=ur,xr[fr(458)][fr(471)]=fr(435),xr.style[fr(473)]=fr(455),xr[fr(458)][fr(444)]=fr(462),xr[fr(458)][fr(452)]=fr(460),xr[fr(458)][fr(439)]=fr(455),xr[fr(458)][fr(456)]="auto",xr};function _0x2c26(){var lr=["106504vzZzUA","white","preventDefault","fast-button","trigger","borderRadius","elListener","gridArea","addEventListener","17kCsyue","display","1926PEdwKJ","alignItems","appendChild","createElement","6310NqfvNT","flex","16808dKmqhv","classList","touchend","justifyContent","background","2072zcwqfA","add","1889435wkMxqP","color","innerHTML","5792814opjIhQ","7824036eJVTPX","touchmove","touch","backgroundColor","1395618wTTVsV","fontWeight","4jRChVv","div","center","pointerEvents","state","style","12px","bold"];return _0x2c26=function(){return lr},_0x2c26()}var _0x5edcc3=_0xcd5c;(function(lr,cr){for(var ar=_0xcd5c,or=lr();[];)try{var ur=parseInt(ar(446))/1*(parseInt(ar(454))/2)+-parseInt(ar(450))/3*(-parseInt(ar(455))/4)+parseInt(ar(445))/5+-parseInt(ar(451))/6*(-parseInt(ar(452))/7)+parseInt(ar(453))/8*(parseInt(ar(448))/9)+-parseInt(ar(444))/10*(parseInt(ar(449))/11)+-parseInt(ar(443))/12;if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x2a3f,452748);function _0xcd5c(lr,cr){var ar=_0x2a3f();return _0xcd5c=function(or,ur){or=or-443;var fr=ar[or];return fr},_0xcd5c(lr,cr)}class TouchButtonListener{[_0x5edcc3(447)](cr){}}function _0x2a3f(){var lr=["trigger","36SQLGIl","495TmGSBv","921azJYiw","6rKLpjd","3244409Fcddrr","390224BlZauk","2kXqBun","7144cHBFgN","17658540XaCHZh","171750wcRyyV","3948535AwjmLr","700560ALMGdr"];return _0x2a3f=function(){return lr},_0x2a3f()}function _0x1ea0(lr,cr){var ar=_0x3084();return _0x1ea0=function(or,ur){or=or-316;var fr=ar[or];return fr},_0x1ea0(lr,cr)}var _0x23166c=_0x1ea0;function _0x3084(){var lr=["306320TSEqbt","bind","9WTdvbf","2473150TLQFHT","10eWKjLW","pressDown","trigger","input","1193860DXJvPE","16Zemall","1532UnfOfH","1403227pxchcl","249tKbQxI","52134XAXwYl","12PSqJjb","5523991IgOGKw"];return _0x3084=function(){return lr},_0x3084()}(function(lr,cr){for(var ar=_0x1ea0,or=lr();[];)try{var ur=-parseInt(ar(321))/1+parseInt(ar(331))/2*(parseInt(ar(317))/3)+-parseInt(ar(329))/4*(parseInt(ar(325))/5)+-parseInt(ar(318))/6+-parseInt(ar(316))/7*(-parseInt(ar(330))/8)+parseInt(ar(323))/9*(parseInt(ar(324))/10)+parseInt(ar(320))/11*(parseInt(ar(319))/12);if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x3084,302057);var Os;class SingleTouchButtonJoyListener extends TouchButtonListener{constructor(ar,or){var ur=_0x1ea0;super();yi(this,Os,void 0);Oi(this,Os,ar),this[ur(328)]=or,this[ur(327)]=this[ur(327)][ur(322)](this)}[_0x23166c(327)](ar){var or=_0x23166c;ar?Vr(this,Os)[or(326)](this.input):Vr(this,Os).pressUp(this[or(328)])}}Os=new WeakMap;function _0x1d14(lr,cr){const ar=_0x3fe8();return _0x1d14=function(or,ur){return or=or-492,ar[or]},_0x1d14(lr,cr)}const _0x3f69af=_0x1d14;(function(lr,cr){const ar=_0x1d14,or=lr();for(;[];)try{if(parseInt(ar(500))/1*(-parseInt(ar(493))/2)+parseInt(ar(498))/3+-parseInt(ar(497))/4*(parseInt(ar(492))/5)+-parseInt(ar(502))/6*(-parseInt(ar(499))/7)+parseInt(ar(506))/8+parseInt(ar(504))/9*(parseInt(ar(505))/10)+-parseInt(ar(507))/11===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x3fe8,390260);function _0x3fe8(){const lr=["2145207wTwiKC","146629ZrGyMP","2dQBtRF","key","198elgBKF","code","170748NifGUE","110yNCIFb","4439920ttecga","10872037sOiGKe","bind","keyCode","keydown","155RPYxyL","276868yQOvXd","keyup","dispatchEvent","trigger","66388xXxtgq"];return _0x3fe8=function(){return lr},_0x3fe8()}var _c,Jl,vc,ef;class SingleTouchButtonKbListener extends TouchButtonListener{constructor(ar,or,ur){const fr=_0x1d14;super();yi(this,_c);yi(this,vc);this.key=ar,this[fr(503)]=or,this[fr(509)]=ur,this[fr(496)]=this[fr(496)][fr(508)](this)}[_0x3f69af(496)](ar){ar?Pi(this,_c,Jl).call(this):Pi(this,vc,ef).call(this)}}_c=new WeakSet,Jl=function(){const ar=_0x3f69af;let or=new KeyboardEvent(ar(510),{key:this[ar(501)],code:this[ar(503)],keyCode:this[ar(509)],charCode:this.keyCode,bubbles:!![],cancelable:!![]});document[ar(495)](or)},vc=new WeakSet,ef=function(){const ar=_0x3f69af;let or=new KeyboardEvent(ar(494),{key:this[ar(501)],code:this.code,keyCode:this[ar(509)],charCode:this.keyCode,bubbles:!![],cancelable:!![]});document[ar(495)](or)};function _0x53a0(){var lr=["1294450edPwwm","justifyContent","alignItems","offsetWidth","width","pointerEvents","appendChild","120256eCwdSi","flex","simultaneousTimeout","bold","73266qrMUSo","flexDirection","changedTouches","1911644rUJeSz","addEventListener","allowSimultaneous","gridArea","state","getBoundingClientRect","fontWeight","6QxyUyf","div","offsetHeight","touch","2px","79101ZeeCZR","isHorizontal","borderRadius","color","430bbkLYn","display","12px","auto","style","touchend","el1","3TaUmJo","textContent","background","add","clientY","container","elListener","clientX","backgroundColor","332104VoJwzY","height","touchmove","el2","622940ARIFdS","createElement","top","center","fast-button","100%","trigger","left"];return _0x53a0=function(){return lr},_0x53a0()}var _0x3282b8=_0x30c2;(function(lr,cr){for(var ar=_0x30c2,or=lr();[];)try{var ur=parseInt(ar(195))/1+parseInt(ar(176))/2+-parseInt(ar(221))/3*(parseInt(ar(172))/4)+-parseInt(ar(184))/5+-parseInt(ar(205))/6*(parseInt(ar(198))/7)+parseInt(ar(191))/8+parseInt(ar(210))/9*(parseInt(ar(214))/10);if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x53a0,162687);function _0x30c2(lr,cr){var ar=_0x53a0();return _0x30c2=function(or,ur){or=or-164;var fr=ar[or];return fr},_0x30c2(lr,cr)}class DualTouchButton{constructor(cr,ar,or,ur,fr,xr,pr,br=_0x3282b8(216),gr=![]){var mr=_0x3282b8,_r=document[mr(177)](mr(206));_r.classList[mr(166)](mr(180)),fr!=null&&(_r.style[mr(201)]=fr),xr!=null&&(_r.id=xr),_r[mr(218)][mr(215)]="flex",!ar&&(_r.style[mr(196)]="column"),_r[mr(218)].alignItems=mr(179),_r[mr(218)][mr(204)]=mr(194),_r[mr(218)].justifyContent=mr(179),_r.style.gap=mr(209);var Sr=document[mr(177)](mr(206)),yr=document.createElement(mr(206));Sr[mr(218)][mr(212)]=br,yr[mr(218)][mr(212)]=br,Sr[mr(218)][mr(189)]="auto",yr[mr(218)][mr(189)]=mr(217),Sr[mr(218)][mr(213)]=QJ_LABEL_COLOR,yr.style[mr(213)]=QJ_LABEL_COLOR,Sr[mr(218)].backgroundColor=QJ_IDLE_COLOR,yr.style[mr(171)]=QJ_IDLE_COLOR,Sr[mr(218)][mr(188)]=mr(181),yr[mr(218)][mr(188)]=mr(181),Sr[mr(218)].height=mr(181),yr[mr(218)][mr(173)]=mr(181),Sr[mr(218)].display=mr(192),Sr[mr(218)][mr(185)]=mr(179),Sr[mr(218)].alignItems=mr(179),yr.style.display="flex",yr[mr(218)][mr(185)]="center",yr[mr(218)][mr(186)]=mr(179),this.el1=Sr,this[mr(175)]=yr,cr[mr(190)](_r),_r[mr(190)](Sr),_r[mr(190)](yr),this.container=_r,this[mr(211)]=ar,this[mr(169)]=pr,this[mr(202)]=0,this[mr(200)]=gr,this[mr(193)]=null;var Cr=this;this.el1!=null&&(this[mr(220)][mr(164)]=or),this.el2!=null&&(this[mr(175)][mr(164)]=ur),this[mr(168)][mr(199)]("touchstart",function(Ar){var kr=mr;Cr[kr(208)](Ar,!![])}),this[mr(168)][mr(199)](mr(174),function(Ar){var kr=mr;Cr[kr(208)](Ar,!![])}),this[mr(168)][mr(199)](mr(219),function(Ar){var kr=mr;Ar.preventDefault(),Cr[kr(208)](Ar,![])})}[_0x3282b8(208)](cr,ar){var or=_0x3282b8,ur=0;if(ar){if(this[or(211)])var fr=this.container[or(187)],xr=cr[or(197)][0][or(170)]-this[or(168)][or(203)]()[or(183)];else var fr=this.container[or(207)],xr=cr[or(197)][0][or(167)]-this[or(168)][or(203)]()[or(178)];xr<fr/2?ur=1:ur=2}else ur=0;ur!=this[or(202)]&&(this.state=ur,this[or(169)][or(182)](this[or(202)]),this[or(220)][or(218)].background=this[or(202)]==1?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this.el2[or(218)][or(165)]=this[or(202)]==2?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR)}}var _0x4c3057=_0x3391;(function(lr,cr){for(var ar=_0x3391,or=lr();[];)try{var ur=parseInt(ar(458))/1*(-parseInt(ar(461))/2)+-parseInt(ar(459))/3*(parseInt(ar(462))/4)+parseInt(ar(464))/5+parseInt(ar(456))/6+parseInt(ar(454))/7+parseInt(ar(457))/8+-parseInt(ar(465))/9;if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x264d,705416);function _0x3391(lr,cr){var ar=_0x264d();return _0x3391=function(or,ur){or=or-453;var fr=ar[or];return fr},_0x3391(lr,cr)}var Ts;class DualTouchButtonJoyListener extends TouchButtonListener{constructor(ar,or,ur){var fr=_0x3391;super();yi(this,Ts,void 0);Oi(this,Ts,ar),this[fr(460)]=or,this[fr(453)]=ur,this[fr(455)]=0,this[fr(466)]=this[fr(466)].bind(this)}[_0x4c3057(466)](ar){var or=_0x4c3057;ar>0&&Vr(this,Ts)[or(463)](ar==1?this[or(460)]:this[or(453)]),this[or(455)]>0&&Vr(this,Ts).pressUp(this[or(455)]==1?this[or(460)]:this[or(453)]),this[or(455)]=ar}}Ts=new WeakMap;function _0x264d(){var lr=["1906224PZHAYJ","228083rvVofq","291444XNDJCZ","input1","2XLZQel","8nsznZy","pressDown","5990125xNQVRl","13018599vSBXYv","trigger","input2","1995840PFviOa","previous","5117298tbvwGy"];return _0x264d=function(){return lr},_0x264d()}var _0x847785=_0x5e19;(function(lr,cr){for(var ar=_0x5e19,or=lr();[];)try{var ur=-parseInt(ar(520))/1+-parseInt(ar(505))/2+-parseInt(ar(490))/3+parseInt(ar(522))/4*(parseInt(ar(486))/5)+parseInt(ar(514))/6+-parseInt(ar(512))/7+parseInt(ar(504))/8*(parseInt(ar(483))/9);if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x5c8d,379160);function _0x5e19(lr,cr){var ar=_0x5c8d();return _0x5e19=function(or,ur){or=or-482;var fr=ar[or];return fr},_0x5e19(lr,cr)}function _0x5c8d(){var lr=["Helvetica, Arial, sans-serif !important","qjab","textAlign","createElement","619390FcDnIs","qjud1","2320516csMPPT","center","display","right","classList","325719kEYQdY","mode","body","5yAiRuh","zIndex","gridTemplateRows","none","928503oVybsQ","secondary","justifyContent","fontFamily","show","height","style","pointerEvents","fixed","100%","grid","quickjoys","#quickjoys","width","312FKuWOu","636258tVVmeV","qja","getNostalgist","repeat(50, 1fr)","gridTemplateColumns","getSelectedPlatform","left","3020395WKsQLs","hide","396522THYdBQ","toggle"];return _0x5c8d=function(){return lr},_0x5c8d()}var Eo,mc,tf;class QuickJoy{constructor(cr){yi(this,mc);yi(this,Eo,void 0);Oi(this,Eo,cr),Pi(this,mc,tf).call(this)}[_0x847785(494)](){var cr=_0x847785;show("#quickjoys",cr(500))}[_0x847785(513)](){var cr=_0x847785;hide("#quickjoy"),hide(cr(502))}[_0x847785(484)](cr){var ar=_0x847785;const or=s$1(ar(502));or[ar(482)][ar(515)]("primary"),or[ar(482)].toggle(ar(491))}}Eo=new WeakMap,mc=new WeakSet,tf=function(){var cr=_0x5e19,ar=document[cr(519)]("div");ar.id=cr(501),ar[cr(482)].add("secondary"),ar[cr(496)].position=cr(498),ar.style[cr(525)]="0",ar.style.bottom="0",ar[cr(496)][cr(503)]=cr(499),ar[cr(496)][cr(495)]=cr(499),ar.style[cr(524)]=cr(500),ar[cr(496)].gap="2px",ar[cr(496)][cr(487)]="7777",ar[cr(496)][cr(518)]=cr(523),ar[cr(496)][cr(493)]=cr(516),ar.style[cr(492)]=cr(523),ar[cr(496)][cr(509)]="repeat(50, 1fr)",ar[cr(496)][cr(488)]=cr(508),ar.style[cr(497)]=cr(489),new DualTouchButton(ar,!![],"⇦","⇨",void 0,"qjlr",new DualTouchButtonJoyListener(Vr(this,Eo)[cr(507)](),cr(511),"right"));let or=Vr(this,Eo)[cr(510)]().fire_buttons;or==1?(new DualTouchButton(ar,![],"⇧","⇩",void 0,cr(521),new DualTouchButtonJoyListener(Vr(this,Eo)[cr(507)](),"up","down")),new SingleTouchButton(ar,"FIRE",void 0,cr(506),new SingleTouchButtonJoyListener(Vr(this,Eo)[cr(507)](),"b"))):or==2&&(new DualTouchButton(ar,![],"⇧","⇩",void 0,"qjud2",new DualTouchButtonJoyListener(Vr(this,Eo)[cr(507)](),"up","down")),new DualTouchButton(ar,!![],"B","A",void 0,cr(517),new DualTouchButtonJoyListener(Vr(this,Eo)[cr(507)](),"b","a"))),ar[cr(496)][cr(524)]=cr(489),document[cr(485)].appendChild(ar)};function _0x18f5(lr,cr){var ar=_0x58f5();return _0x18f5=function(or,ur){or=or-383;var fr=ar[or];return fr},_0x18f5(lr,cr)}var _0x3c5fd1=_0x18f5;(function(lr,cr){for(var ar=_0x18f5,or=lr();[];)try{var ur=-parseInt(ar(388))/1+parseInt(ar(432))/2+parseInt(ar(399))/3*(-parseInt(ar(394))/4)+-parseInt(ar(411))/5*(parseInt(ar(414))/6)+-parseInt(ar(416))/7*(parseInt(ar(421))/8)+parseInt(ar(384))/9*(parseInt(ar(425))/10)+parseInt(ar(419))/11;if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x58f5,987849);class TripleTouchButton{constructor(cr,ar,or,ur,fr,xr,pr,br,gr=_0x3c5fd1(400),mr=![]){var _r=_0x3c5fd1,Sr=document.createElement("div");Sr[_r(437)][_r(445)](_r(398)),xr!=null&&(Sr[_r(409)][_r(392)]=xr),pr!=null&&(Sr.id=pr),Sr[_r(409)].display=_r(405),Sr[_r(409)][_r(385)]=_r(ar?428:443),Sr[_r(409)].alignItems=_r(413),Sr.style[_r(444)]="center",Sr[_r(409)][_r(439)]=_r(410);var yr=document[_r(386)]("div"),Cr=document[_r(386)](_r(387)),Ar=document[_r(386)]("div");yr[_r(409)].borderRadius=gr,Cr[_r(409)][_r(442)]=gr,Ar.style.borderRadius=gr,yr[_r(409)].pointerEvents=_r(438),Cr.style.pointerEvents=_r(438),Ar[_r(409)].pointerEvents=_r(438),yr.style[_r(427)]=QJ_LABEL_COLOR,Cr[_r(409)][_r(427)]=QJ_LABEL_COLOR,Ar.style[_r(427)]=QJ_LABEL_COLOR,yr[_r(409)].backgroundColor=QJ_IDLE_COLOR,Cr[_r(409)].backgroundColor=QJ_IDLE_COLOR,Ar[_r(409)][_r(393)]=QJ_IDLE_COLOR,yr.style[_r(402)]=_r(383),Cr[_r(409)].width=_r(383),Ar[_r(409)][_r(402)]=_r(383),yr.style[_r(417)]="100%",Cr[_r(409)][_r(417)]=_r(383),Ar.style.height=_r(383),ar&&(yr[_r(409)][_r(404)]=_r(431),Cr[_r(409)][_r(404)]="translateY(25px)",Ar[_r(409)][_r(404)]=_r(401)),[yr,Cr,Ar][_r(430)](kr=>{var Or=_r;kr.style[Or(391)]=Or(405),kr.style.justifyContent=Or(413),kr[Or(409)][Or(429)]=Or(413),kr[Or(409)].height=Or(383)}),cr.appendChild(Sr),Sr[_r(389)](yr),Sr.appendChild(Cr),Sr.appendChild(Ar),this[_r(397)]=Sr,this[_r(403)]=ar,this[_r(418)]=br,this[_r(408)]=0,this[_r(435)]=mr,this[_r(406)]=null,this[_r(407)]=yr,this.el2=Cr,this.el3=Ar,yr.textContent=or,Cr[_r(424)]=ur,Ar[_r(424)]=fr,Sr.addEventListener(_r(440),kr=>this[_r(412)](kr,!![])),Sr[_r(441)](_r(434),kr=>this.touch(kr,!![])),Sr[_r(441)]("touchend",kr=>{var Or=_r;kr[Or(420)](),this[Or(412)](kr,![])})}[_0x3c5fd1(412)](cr,ar){var or=_0x3c5fd1,ur=0,fr,xr;if(ar){this.isHorizontal?(fr=this.container[or(396)],xr=cr[or(426)][0].clientX-this[or(397)][or(423)]()[or(415)]):(fr=this.container[or(390)],xr=cr[or(426)][0].clientY-this[or(397)].getBoundingClientRect()[or(436)]);const pr=fr/3;xr<pr?ur=1:xr<pr*2?ur=2:ur=3}else ur=0;ur!==this[or(408)]&&(this[or(408)]=ur,this[or(418)][or(422)](this[or(408)]),this[or(407)].style[or(395)]=this[or(408)]===1?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this[or(433)].style[or(395)]=this[or(408)]===2?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this.el3.style[or(395)]=this[or(408)]===3?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR)}}function _0x58f5(){var lr=["display","gridArea","backgroundColor","8eWrWMT","background","offsetWidth","container","fast-button","2116302vmNxin","12px","translateY(0px)","width","isHorizontal","transform","flex","simultaneousTimeout","el1","state","style","8px","130JRQXdo","touch","center","137568lgpyAh","left","4683TsWlFM","height","elListener","30932099DzsaFH","preventDefault","9904ndigjj","trigger","getBoundingClientRect","textContent","100QOYsLR","changedTouches","color","row","alignItems","forEach","translateY(50px)","1812068ORupVl","el2","touchmove","allowSimultaneous","top","classList","auto","gap","touchstart","addEventListener","borderRadius","column","justifyContent","add","100%","951993lFWUEK","flexDirection","createElement","div","952746khDDYM","appendChild","offsetHeight"];return _0x58f5=function(){return lr},_0x58f5()}var _0x47a78a=_0x5ba2;(function(lr,cr){for(var ar=_0x5ba2,or=lr();[];)try{var ur=-parseInt(ar(224))/1*(-parseInt(ar(225))/2)+-parseInt(ar(222))/3*(-parseInt(ar(228))/4)+parseInt(ar(230))/5+parseInt(ar(232))/6+-parseInt(ar(231))/7*(-parseInt(ar(221))/8)+-parseInt(ar(217))/9*(parseInt(ar(226))/10)+-parseInt(ar(218))/11*(parseInt(ar(223))/12);if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x4023,560591);function _0x5ba2(lr,cr){var ar=_0x4023();return _0x5ba2=function(or,ur){or=or-216;var fr=ar[or];return fr},_0x5ba2(lr,cr)}function _0x4023(){var lr=["trigger","2230640DbvWuH","101801TBOVsq","5917848NsmjMn","input1","input3","9IVYxTM","3104662gSjvtv","input2","previous","40MCkgQR","15QoKTTq","24gxMqWh","22fnPAqq","21662TfpITv","9146630SFDvCF","pressUp","237044PxLgGO"];return _0x4023=function(){return lr},_0x4023()}var Ds;class TripleTouchButtonJoyListener extends TouchButtonListener{constructor(ar,or,ur,fr){var xr=_0x5ba2;super();yi(this,Ds,void 0);Oi(this,Ds,ar),this.input1=or,this.input2=ur,this[xr(216)]=fr,this[xr(220)]=0,this.trigger=this[xr(229)].bind(this)}[_0x47a78a(229)](ar){var or=_0x47a78a;ar>0&&Vr(this,Ds).pressDown(ar===1?this[or(233)]:ar===2?this[or(219)]:this[or(216)]),this[or(220)]>0&&Vr(this,Ds)[or(227)](this[or(220)]===1?this.input1:this[or(220)]===2?this.input2:this[or(216)]),this[or(220)]=ar}}Ds=new WeakMap;var _0x5cda77=_0x21a0;(function(lr,cr){for(var ar=_0x21a0,or=lr();[];)try{var ur=parseInt(ar(163))/1*(-parseInt(ar(181))/2)+-parseInt(ar(165))/3+-parseInt(ar(192))/4*(-parseInt(ar(197))/5)+parseInt(ar(169))/6*(parseInt(ar(186))/7)+-parseInt(ar(156))/8*(parseInt(ar(174))/9)+parseInt(ar(189))/10*(parseInt(ar(204))/11)+-parseInt(ar(167))/12;if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x4f1f,843387);function _0x21a0(lr,cr){var ar=_0x4f1f();return _0x21a0=function(or,ur){or=or-155;var fr=ar[or];return fr},_0x21a0(lr,cr)}function _0x4f1f(){var lr=["140hNCgXb","justifyContent","touchstart","2117588cdjsvc","left","color","appendChild","textContent","10ofrzvx","changedTouches","container","allowSimultaneous","touchmove","gap","state","685289Lotacn","createElement","backgroundColor","alignItems","el2","clientY","8px","height","touch","offsetWidth","top","720760BXVcoP","pointerEvents","flex","gridArea","auto","el4","grid","55563gdYEkM","width","2901156BBQRiP","offsetHeight","11898792CEfxmv","style","906PchjdU","el1","classList","el3","12px","9cBUZBk","borderRadius","div","fast-button","trigger","getBoundingClientRect","100%","2FjCGtK","center","addEventListener","display","background","47131tksfBf","elListener","gridTemplateColumns"];return _0x4f1f=function(){return lr},_0x4f1f()}class QuadrupleTouchButton{constructor(cr,ar,or,ur,fr,xr,pr,br,gr=_0x5cda77(173),mr=![]){var _r=_0x5cda77,Sr=document[_r(205)](_r(176));Sr[_r(171)].add(_r(177)),xr!=null&&(Sr.style[_r(159)]=xr),pr!=null&&(Sr.id=pr),Sr.style.display=_r(162),Sr[_r(168)][_r(188)]="1fr 1fr",Sr.style.gridTemplateRows="1fr 3fr",Sr[_r(168)][_r(202)]=_r(210);var yr=document.createElement(_r(176)),Cr=document[_r(205)](_r(176)),Ar=document.createElement(_r(176)),kr=document.createElement("div");yr[_r(168)].borderRadius=gr,Cr[_r(168)][_r(175)]=gr,Ar[_r(168)].borderRadius=gr,kr[_r(168)][_r(175)]=gr,yr[_r(168)][_r(157)]="auto",Cr[_r(168)][_r(157)]=_r(160),Ar[_r(168)][_r(157)]=_r(160),kr[_r(168)][_r(157)]=_r(160),yr[_r(168)][_r(194)]=QJ_LABEL_COLOR,Cr[_r(168)].color=QJ_LABEL_COLOR,Ar[_r(168)].color=QJ_LABEL_COLOR,kr.style.color=QJ_LABEL_COLOR,yr[_r(168)][_r(206)]=QJ_IDLE_COLOR,Cr[_r(168)][_r(206)]=QJ_IDLE_COLOR,Ar.style[_r(206)]=QJ_IDLE_COLOR,kr[_r(168)][_r(206)]=QJ_IDLE_COLOR;const Or=_r(180);yr.style.width=Or,Cr[_r(168)][_r(164)]=Or,Ar[_r(168)][_r(164)]=Or,kr[_r(168)][_r(164)]=Or,yr[_r(168)].height=Or,Cr[_r(168)].height=Or,Ar[_r(168)][_r(211)]=Or,kr[_r(168)][_r(211)]=Or,[yr,Cr,Ar,kr].forEach(Dr=>{var Rr=_r;Dr[Rr(168)][Rr(184)]=Rr(158),Dr[Rr(168)][Rr(190)]=Rr(182),Dr[Rr(168)][Rr(207)]=Rr(182)}),cr.appendChild(Sr),Sr[_r(195)](yr),Sr.appendChild(Cr),Sr[_r(195)](Ar),Sr[_r(195)](kr),this[_r(199)]=Sr,this.elListener=br,this.state=0,this[_r(200)]=mr,this.simultaneousTimeout=null,this[_r(170)]=yr,this[_r(208)]=Cr,this[_r(172)]=Ar,this[_r(161)]=kr,yr[_r(196)]=ar,Cr[_r(196)]=or,Ar[_r(196)]=ur,kr[_r(196)]=fr,Sr[_r(183)](_r(191),Dr=>this[_r(212)](Dr,!![])),Sr.addEventListener(_r(201),Dr=>this[_r(212)](Dr,!![])),Sr.addEventListener("touchend",Dr=>{var Rr=_r;Dr.preventDefault(),this[Rr(212)](Dr,![])})}[_0x5cda77(212)](cr,ar){var or=_0x5cda77,ur=0,fr;if(ar){fr=this[or(199)][or(213)];var xr=this[or(199)][or(166)],pr=cr[or(198)][0].clientX-this[or(199)][or(179)]()[or(193)],br=cr[or(198)][0][or(209)]-this[or(199)].getBoundingClientRect()[or(155)];pr<fr/2&&br<xr/4?ur=1:pr>=fr/2&&br<xr/4?ur=2:pr<fr/2&&br>=xr/4?ur=3:ur=4}else ur=0;ur!==this[or(203)]&&(this[or(203)]=ur,this[or(187)][or(178)](this.state),this[or(170)][or(168)][or(185)]=this[or(203)]===1?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this[or(208)][or(168)][or(185)]=this[or(203)]===2?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this[or(172)].style.background=this[or(203)]===3?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this[or(161)][or(168)][or(185)]=this.state===4?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR)}}var _0x426d5c=_0x3903;(function(lr,cr){for(var ar=_0x3903,or=lr();[];)try{var ur=parseInt(ar(302))/1*(parseInt(ar(300))/2)+parseInt(ar(297))/3+parseInt(ar(301))/4*(-parseInt(ar(305))/5)+parseInt(ar(298))/6+-parseInt(ar(291))/7*(-parseInt(ar(303))/8)+parseInt(ar(306))/9+-parseInt(ar(295))/10;if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x25ef,352870);function _0x3903(lr,cr){var ar=_0x25ef();return _0x3903=function(or,ur){or=or-289;var fr=ar[or];return fr},_0x3903(lr,cr)}function _0x25ef(){var lr=["66sFXVRC","16hLgJkc","17564gNDvIo","8zYtgbN","input2","803990eozHvF","2222136xjzvyB","input4","bind","input1","2540657uFXCiy","pressUp","input3","pressDown","8443990ZWjGJg","trigger","953592qdrarn","1998780nbdvwn","previous"];return _0x25ef=function(){return lr},_0x25ef()}var Rs;class QuadrupleTouchButtonJoyListener extends TouchButtonListener{constructor(ar,or,ur,fr,xr){var pr=_0x3903;super();yi(this,Rs,void 0);Oi(this,Rs,ar),this[pr(290)]=or,this.input2=ur,this.input3=fr,this[pr(307)]=xr,this[pr(299)]=0,this[pr(296)]=this[pr(296)][pr(289)](this)}[_0x426d5c(296)](ar){var or=_0x426d5c;ar>0&&Vr(this,Rs)[or(294)](ar===1?this[or(290)]:ar===2?this.input2:ar===3?this[or(293)]:this[or(307)]),this.previous>0&&Vr(this,Rs)[or(292)](this[or(299)]===1?this[or(290)]:this[or(299)]===2?this[or(304)]:this[or(299)]===3?this[or(293)]:this.input4),this.previous=ar}}Rs=new WeakMap;const _0x5974bd=_0x4675;(function(lr,cr){const ar=_0x4675,or=lr();for(;[];)try{if(parseInt(ar(172))/1*(-parseInt(ar(150))/2)+parseInt(ar(190))/3*(-parseInt(ar(159))/4)+parseInt(ar(161))/5*(-parseInt(ar(165))/6)+parseInt(ar(176))/7+parseInt(ar(173))/8*(-parseInt(ar(167))/9)+parseInt(ar(160))/10+-parseInt(ar(205))/11*(-parseInt(ar(163))/12)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x3c0a,432574);function _0x3c0a(){const lr=["block","touchcancel","100%","down","joystick-thumb","grid","forEach","touchmove","textAlign","left","atan2","top","508908vISZsa","appendChild","none","fontFamily","preventDefault","addEventListener","gridTemplateColumns","getSelectedPlatform","createElement","identifier","div","12px","zIndex","has","qsab","66qdTmHX","joystick-base","pageY","Helvetica, Arial, sans-serif !important","pageX","fire_buttons","qs4","target","touches","cos","height","getNostalgist","width","right","filter","#quickshot","gridTemplateRows","2ZRuBCR","show","fixed","remove","style","qsa","non","2px","sqrt","4gyIhDZ","7353220OBnNMA","1050ZXXvFJ","bottom","1834044yEpNsk","center","21588jyAYOV","add","10053KEFTZA","display","absolute","touchstart","#quickshots","565294fwiizf","1576bgCPZm","qsabc3","body","3435523dvXFlw","changedTouches"];return _0x3c0a=function(){return lr},_0x3c0a()}function _0x4675(lr,cr){const ar=_0x3c0a();return _0x4675=function(or,ur){return or=or-150,ar[or]},_0x4675(lr,cr)}var gc,v0,wo,Ja,ao,ka,Vo,jo,yc,rf,bc,nf,Ec,af,wc,of,m0,Sc,Ac,Fs,fc,Ic,sf,Cc,cf;const kc=class kc{constructor(cr){yi(this,yc);yi(this,bc);yi(this,Ec);yi(this,wc);yi(this,Fs);yi(this,Ic);yi(this,Cc);yi(this,v0,void 0);yi(this,wo,void 0);yi(this,Ja,void 0);yi(this,ao,void 0);yi(this,ka,void 0);yi(this,Vo,null);yi(this,jo,new Set);yi(this,m0,cr=>{const ar=_0x5974bd;cr.preventDefault();for(let or of cr[ar(177)])or.identifier===Vr(this,Vo)&&(Pi(this,Fs,fc).call(this,[]),Vr(this,Ja)&&Vr(this,ao)&&(Vr(this,Ja)[ar(153)](),Vr(this,ao)[ar(153)]()),Oi(this,Vo,null))});yi(this,Sc,cr=>{const ar=_0x5974bd;if(cr[ar(194)](),Vr(this,Vo)===null){for(let or of cr[ar(213)])if(or[ar(212)].id==="quickshot"){Oi(this,Vo,or[ar(199)]),Pi(this,wc,of).call(this,or);break}}});yi(this,Ac,cr=>{const ar=_0x5974bd;cr[ar(194)]();for(let or of cr[ar(213)])if(or[ar(199)]===Vr(this,Vo)){let ur=Vr(this,Ja).getBoundingClientRect(),fr={x:ur[ar(187)]+ur.width/2,y:ur[ar(189)]+ur[ar(215)]/2},xr=Pi(this,bc,nf).call(this,fr,{x:or[ar(209)],y:or.pageY});if(xr>ur.width/2){let gr=Math.atan2(or[ar(207)]-fr.y,or.pageX-fr.x);Vr(this,Ja)[ar(154)][ar(187)]=or[ar(209)]-ur.width/2-Math[ar(214)](gr)*ur[ar(217)]/2+"px",Vr(this,Ja)[ar(154)][ar(189)]=or[ar(207)]-ur[ar(215)]/2-Math.sin(gr)*ur[ar(215)]/2+"px"}Vr(this,ao)[ar(154)][ar(187)]=or[ar(209)]-25+"px",Vr(this,ao)[ar(154)][ar(189)]=or[ar(207)]-25+"px";let pr=Math[ar(188)](or[ar(207)]-fr.y,or[ar(209)]-fr.x),br=pr*(180/Math.PI);if(br<0&&(br+=360),xr>Vr(kc,gc)){let gr=Pi(this,Ec,af).call(this,br);Pi(this,Fs,fc).call(this,gr)}else Pi(this,Fs,fc).call(this,[])}});const ar=_0x4675;Oi(this,v0,cr),Oi(this,wo,cr[ar(216)]()),Pi(this,yc,rf).call(this),Oi(this,jo,new Set)}[_0x5974bd(151)](){const cr=_0x5974bd;show(cr(171),cr(183)),show(cr(220),cr(178))}hide(){hide(_0x5974bd(220)),hide("#quickshots")}};gc=new WeakMap,v0=new WeakMap,wo=new WeakMap,Ja=new WeakMap,ao=new WeakMap,ka=new WeakMap,Vo=new WeakMap,jo=new WeakMap,yc=new WeakSet,rf=function(){const cr=_0x4675;var ar=document[cr(198)](cr(200));ar.id="quickshots",ar[cr(154)][cr(168)]="none",ar.style.position=cr(152),ar[cr(154)].right="0",ar[cr(154)][cr(162)]="0",ar.style[cr(217)]=cr(180),ar[cr(154)][cr(215)]=cr(180),ar[cr(154)][cr(168)]=cr(192),ar[cr(154)].gap=cr(157),ar[cr(154)][cr(202)]="7777",ar[cr(154)][cr(186)]=cr(164),ar[cr(154)][cr(193)]=cr(208),ar[cr(154)].justifyContent=cr(164),ar.style[cr(196)]="repeat(23, 1fr)",ar[cr(154)][cr(221)]="repeat(10, 1fr)",ar[cr(154)].pointerEvents=cr(192);let or=Vr(this,v0)[cr(197)]()[cr(210)];or==2?new DualTouchButton(ar,!![],"B","A",void 0,cr(204),new DualTouchButtonJoyListener(Vr(this,wo),"b","a"),cr(201)):or==1?new SingleTouchButton(ar,"A",void 0,cr(155),new SingleTouchButtonJoyListener(Vr(this,wo),"b")):or==3?new TripleTouchButton(ar,!![],"A","B","C",void 0,cr(174),new TripleTouchButtonJoyListener(Vr(this,wo),"y","b","a")):or==4&&new QuadrupleTouchButton(ar,"L","R","B","A",void 0,cr(211),new QuadrupleTouchButtonJoyListener(Vr(this,wo),"l","r","b","a")),document[cr(175)][cr(191)](ar),Oi(this,ka,document[cr(198)](cr(200))),Vr(this,ka).style.display=cr(156),Vr(this,ka).id="quickshot",Vr(this,ka)[cr(154)].position=cr(169),Vr(this,ka)[cr(154)][cr(218)]="0",Vr(this,ka).style.bottom="0",Vr(this,ka)[cr(154)][cr(217)]=cr(180),Vr(this,ka)[cr(154)][cr(215)]=cr(180),Vr(this,ka).style[cr(215)]="375px !important",Vr(this,ka)[cr(154)][cr(202)]="666",Vr(this,ka)[cr(154)][cr(168)]=cr(192),document.body[cr(191)](Vr(this,ka)),Vr(this,ka)[cr(195)](cr(170),Vr(this,Sc)),Vr(this,ka)[cr(195)](cr(185),Vr(this,Ac)),Vr(this,ka)[cr(195)]("touchend",Vr(this,m0)),Vr(this,ka)[cr(195)](cr(179),Vr(this,m0))},bc=new WeakSet,nf=function(cr,ar){const or=_0x5974bd;let ur=ar.x-cr.x,fr=ar.y-cr.y;return Math[or(158)](ur*ur+fr*fr)},Ec=new WeakSet,af=function(cr){const ar=_0x5974bd;return cr>=337.5||cr<22.5?[ar(218)]:cr>=22.5&&cr<67.5?[ar(218),"down"]:cr>=67.5&&cr<112.5?[ar(181)]:cr>=112.5&&cr<157.5?[ar(181),ar(187)]:cr>=157.5&&cr<202.5?[ar(187)]:cr>=202.5&&cr<247.5?["left","up"]:cr>=247.5&&cr<292.5?["up"]:["up",ar(218)]},wc=new WeakSet,of=function(cr){const ar=_0x5974bd;Oi(this,Ja,document[ar(198)](ar(200))),Vr(this,Ja).classList[ar(166)](ar(206)),Vr(this,Ja)[ar(154)][ar(187)]=cr[ar(209)]-50+"px",Vr(this,Ja)[ar(154)][ar(189)]=cr.pageY-50+"px",Vr(this,ka).appendChild(Vr(this,Ja)),Oi(this,ao,document.createElement(ar(200))),Vr(this,ao).classList.add(ar(182)),Vr(this,ao)[ar(154)].left=cr[ar(209)]-25+"px",Vr(this,ao)[ar(154)].top=cr.pageY-25+"px",Vr(this,ka).appendChild(Vr(this,ao))},m0=new WeakMap,Sc=new WeakMap,Ac=new WeakMap,Fs=new WeakSet,fc=function(cr){const ar=_0x5974bd,or=new Set(cr),ur=new Set([...Vr(this,jo)].filter(xr=>!or.has(xr))),fr=new Set([...or][ar(219)](xr=>!Vr(this,jo)[ar(203)](xr)));ur[ar(184)](xr=>{Pi(this,Cc,cf).call(this,xr),Vr(this,jo).delete(xr)}),fr[ar(184)](xr=>{Pi(this,Ic,sf).call(this,xr),Vr(this,jo).add(xr)})},Ic=new WeakSet,sf=function(cr){Vr(this,wo).pressDown(cr)},Cc=new WeakSet,cf=function(cr){Vr(this,wo).pressUp(cr)},yi(kc,gc,30);let QuickShot=kc;var _0x21e847=_0x1e21;(function(lr,cr){for(var ar=_0x1e21,or=lr();[];)try{var ur=-parseInt(ar(241))/1*(-parseInt(ar(236))/2)+-parseInt(ar(229))/3*(-parseInt(ar(245))/4)+-parseInt(ar(242))/5*(-parseInt(ar(228))/6)+parseInt(ar(246))/7+-parseInt(ar(230))/8*(-parseInt(ar(247))/9)+-parseInt(ar(231))/10+-parseInt(ar(243))/11;if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x4482,458601);var jh,rs,d0;const ts=class ts{constructor(){yi(this,rs)}show(){var cr=_0x21e847;hide("#fastui"),document[cr(240)](cr(234),Pi(this,rs,d0)),document.addEventListener(cr(238),Pi(this,rs,d0)),clearTimeout(ts.timeoutId)}[(jh=_0x21e847(233),_0x21e847(237))](){var cr=_0x21e847;clearTimeout(ts[cr(233)]),document[cr(235)](cr(234),Pi(this,rs,d0)),document[cr(235)](cr(238),Pi(this,rs,d0)),show("#fastui","grid")}};rs=new WeakSet,d0=function(cr){var ar=_0x21e847;cr[ar(232)](),clearTimeout(ts[ar(233)]),show("#fastui",ar(244)),ts[ar(233)]=setTimeout(()=>{var or=ar;hide(or(239))},2e3)},Pa(ts,jh);let Hideaway=ts;function _0x1e21(lr,cr){var ar=_0x4482();return _0x1e21=function(or,ur){or=or-228;var fr=ar[or];return fr},_0x1e21(lr,cr)}function _0x4482(){var lr=["click","removeEventListener","667868ZAfhTT","hide","touchstart","#fastui","addEventListener","1UvlqNh","10eQHokw","15855136LuBnGb","grid","212GFQTEj","1570765bCTrSx","34956WdnCWA","1426182kBGOFE","41319TDucRW","1360UvwRKH","5239950oobHlY","preventDefault","timeoutId"];return _0x4482=function(){return lr},_0x4482()}const _0x4f876a=_0x36f3;(function(lr,cr){const ar=_0x36f3,or=lr();for(;[];)try{if(parseInt(ar(328))/1+parseInt(ar(340))/2*(parseInt(ar(359))/3)+-parseInt(ar(393))/4*(parseInt(ar(363))/5)+parseInt(ar(333))/6+-parseInt(ar(338))/7*(parseInt(ar(326))/8)+parseInt(ar(392))/9+-parseInt(ar(414))/10===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x2744,301812);var ya,g0,Uo,ns,zo,Uh,Oc,uf;const ta=class ta{constructor(cr,ar){yi(this,Oc);yi(this,ya,void 0);yi(this,g0,void 0);Oi(this,ya,cr),Oi(this,g0,ar)}[(Uh=_0x4f876a(373),_0x4f876a(356))](){const cr=_0x4f876a;var ar=document[cr(360)](cr(362));ar.id=cr(372),ar.style.display=cr(347),new SingleTouchButton(ar,cr(329),void 0,cr(334),new RewindButtonListener(Vr(this,ya)[cr(324)]())),new SingleTouchButton(ar,'<span style="font-size: 50%;">FFD</span>',void 0,cr(385),new CommandButtonListener(cr(397),Vr(this,ya)[cr(324)](),cr(383))),new SingleTouchButton(ar,cr(357),void 0,cr(337),new ResetButtonListener),!Vr(this,ya).getSelectedPlatform()[cr(346)]&&new SingleTouchButton(ar,cr(320),void 0,cr(415),new SaveButtonListener(Vr(this,ya))),Vr(this,ya).getSelectedPlatform()[cr(401)]&&new SingleTouchButton(ar,cr(369),void 0,cr(325),new KbListener(Vr(this,g0))),Pi(this,Oc,uf).call(this,ar);var or=document[cr(360)](cr(362));or.id=cr(336),or[cr(403)][cr(321)]=cr(347),ar[cr(399)](or),document[cr(332)][cr(399)](ar)}[_0x4f876a(384)](){const cr=_0x4f876a,ar=document[cr(376)](cr(352));Vr(this,ya).getSelectedPlatform().savestates_disabled&&(document[cr(376)]("desktopUiSave")[cr(403)][cr(321)]=cr(347));let or;function ur(gr){const mr=cr;ar.addEventListener("mousemove",function(){const _r=_0x36f3;ar[_r(345)][_r(389)](_r(410)),clearTimeout(or)}),ar[mr(412)](mr(417),function(){or=setTimeout(function(){const _r=_0x36f3;ar[_r(345)][_r(358)](_r(410))},1e3)})}function fr(gr,mr){const _r=cr;return gr.nodeName==="CANVAS"?(ur(),!![]):gr.querySelector&&gr[_r(349)](_r(382))?(ur(),!![]):![]}new MutationObserver(function(gr){const mr=cr;for(const _r of gr)if(_r[mr(331)]&&_r.addedNodes[mr(407)]>0){for(const Sr of _r.addedNodes)if(fr(Sr))return}})[cr(343)](document[cr(332)],{childList:!![],subtree:!![]}),ur();let pr=null,br=this;addButtonEventListeners(s$1(cr(396)),gr=>{const mr=cr;gr?Vr(this,ya)[mr(322)]()[mr(350)](Sr=>{console[mr(411)](Sr)}).catch(Sr=>{console[mr(327)]("Error resolving state:",Sr)}):clearInterval(pr)}),addButtonEventListeners(s$1(cr(418)),gr=>{const mr=cr;gr?(Vr(br,ya)[mr(324)]().sendCommand(mr(368)),pr=setInterval(()=>{const _r=mr;Vr(br,ya).getNostalgist()[_r(323)](_r(368))},5)):clearInterval(pr)}),addButtonEventListeners(s$1(cr(339)),gr=>{const mr=cr;Vr(br,ya)[mr(324)]()[mr(323)](mr(397))}),addButtonEventListeners(s$1(cr(387)),gr=>{location[cr(394)]()})}[_0x4f876a(355)](){const cr=_0x4f876a;let ar=Vr(this,ya)[cr(374)]()[cr(318)];new SingleTouchButton(s$1("#fastui"),cr(400),void 0,cr(386),new class extends TouchButtonListener{constructor(){super()}[cr(395)](or){const ur=cr;or&&(ta[ur(373)]?(ta[ur(375)](),ta[ur(361)]()):ta[ur(377)]==JOYSTICK_TOUCH_MODE[ur(342)]?ta[ur(365)](JOYSTICK_TOUCH_MODE[ur(388)]):ta[ur(377)]==JOYSTICK_TOUCH_MODE[ur(388)]?ta[ur(365)](JOYSTICK_TOUCH_MODE.HIDEAWAY):ta.currentJoyTouchMode==JOYSTICK_TOUCH_MODE[ur(408)]&&(ar==3?ta[ur(365)](JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC):ta[ur(365)](JOYSTICK_TOUCH_MODE[ur(342)])))}})}initQuickJoy(){Oi(ta,Uo,new QuickJoy(Vr(this,ya)))}[_0x4f876a(391)](){Oi(ta,ns,new QuickShot(Vr(this,ya)))}initHideaway(){Oi(ta,zo,new Hideaway)}static[_0x4f876a(404)](){const cr=_0x4f876a;ta.currentJoyTouchMode==JOYSTICK_TOUCH_MODE[cr(408)]&&Vr(this,zo).hide(),s$1(cr(366))[cr(403)][cr(321)]="none",s$1(cr(413))[cr(403)][cr(321)]=cr(347)}static showJoystick(){const cr=_0x4f876a;ta.currentJoyTouchMode==JOYSTICK_TOUCH_MODE[cr(388)]?s$1(cr(366))[cr(403)][cr(321)]=cr(348):ta[cr(377)]==JOYSTICK_TOUCH_MODE.QUICKJOY_PRIMARY?s$1(cr(413))[cr(403)].display=cr(348):ta.currentJoyTouchMode==JOYSTICK_TOUCH_MODE[cr(408)]}static[_0x4f876a(375)](){const cr=_0x4f876a;ta[cr(373)]=![],s$1(cr(351))[cr(403)][cr(321)]=cr(347)}static[_0x4f876a(364)](){const cr=_0x4f876a;s$1(cr(351))[cr(403)][cr(321)]="block"}static osdMessage(cr,ar=null){const or=_0x4f876a,ur=document.getElementById(or(336));function fr(){const xr=or;ur[xr(403)][xr(330)]="0",setTimeout(()=>ur[xr(403)].display="none",250)}if(ur.fadeOutTimeout&&(clearTimeout(ur[or(405)]),ur[or(405)]=null),cr===null){fr();return}ur[or(379)]=cr,ur[or(403)][or(321)]=or(348),setTimeout(()=>ur[or(403)].opacity="1",0),ar!==null&&(ur.fadeOutTimeout=setTimeout(()=>{const xr=or;fr(),ur[xr(405)]=null},ar))}};ya=new WeakMap,g0=new WeakMap,Uo=new WeakMap,ns=new WeakMap,zo=new WeakMap,Oc=new WeakSet,uf=function(cr){const ar=_0x4f876a;let or=1,ur=Object[ar(409)](Vr(this,ya)[ar(374)]()[ar(341)]);ur.reverse();for(let fr=0;fr<ur[ar(407)];fr++){let xr=ur[fr],pr=Vr(this,ya)[ar(374)]()[ar(341)][xr][ar(402)],br=Vr(this,ya)[ar(374)]()[ar(341)][xr][ar(378)],gr=Vr(this,ya)[ar(374)]()[ar(341)][xr][ar(371)],mr;gr?mr=new SingleTouchButtonKbListener(gr[ar(371)],gr[ar(416)],gr[ar(378)]):mr=new SingleTouchButtonJoyListener(Vr(this,ya)[ar(324)](),br),new SingleTouchButton(cr,ar(367)+pr+ar(319),void 0,ar(390)+or,mr),or+=1}},yi(ta,Uo,void 0),yi(ta,ns,void 0),yi(ta,zo,void 0),Pa(ta,"currentJoyTouchMode"),Pa(ta,Uh),Pa(ta,"toggleJoystick",cr=>{const ar=_0x4f876a;if(!(EnvironmentManager[ar(380)]()||EnvironmentManager[ar(335)]()))switch(cr){case JOYSTICK_TOUCH_MODE[ar(342)]:ta.currentJoyTouchMode=JOYSTICK_TOUCH_MODE[ar(342)],ta.osdMessage(ar(370),1e3),Vr(ta,zo)[ar(344)](),Vr(ta,ns)[ar(344)](),Vr(ta,Uo)[ar(398)](1),Vr(ta,Uo)[ar(354)]();break;case JOYSTICK_TOUCH_MODE[ar(388)]:ta[ar(377)]=JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC,ta[ar(381)](ar(353),1e3),Vr(ta,Uo)[ar(344)](),Vr(ta,zo)[ar(344)](),Vr(ta,ns).show();break;case JOYSTICK_TOUCH_MODE[ar(408)]:ta[ar(377)]=JOYSTICK_TOUCH_MODE.HIDEAWAY,ta[ar(381)](ar(406),1e3),Vr(ta,Uo)[ar(344)](),Vr(ta,ns)[ar(344)](),Vr(ta,zo)[ar(354)]();break}});let UiManager=ta;function _0x36f3(lr,cr){const ar=_0x2744();return _0x36f3=function(or,ur){return or=or-318,ar[or]},_0x36f3(lr,cr)}var Ps,y0,b0;const p0=class p0 extends TouchButtonListener{constructor(ar){super();yi(this,Ps,void 0);yi(this,y0,void 0);Oi(this,Ps,ar)}[_0x4f876a(395)](ar){const or=_0x4f876a;ar?(Vr(this,Ps)[or(323)](Vr(p0,b0)),Oi(this,y0,setInterval(()=>{const ur=or;Vr(this,Ps)[ur(323)](Vr(p0,b0))},5))):clearInterval(Vr(this,y0))}};Ps=new WeakMap,y0=new WeakMap,b0=new WeakMap,yi(p0,b0,_0x4f876a(368));let RewindButtonListener=p0;function _0x2744(){const lr=["grid","querySelector","then","#keyboardContainer","desktopUi","QuickShot","show","initControllerMenu","initFastUI",'<span style="font-size: 50%;">QUIT</span>',"remove","264krQPKR","createElement","showJoystick","div","1630695PaBZCU","showKeyboard","toggleJoystick","#quickshots",'<span style="font-size: 50%;">',"REWIND",'<span style="font-size: 50%;">KB</span>',"QuickJoy","key","fastui","keyboardVisible","getSelectedPlatform","hideKeyboard","getElementById","currentJoyTouchMode","keyCode","textContent","isDesktop","osdMessage","canvas","Fast Forward","initDesktopUI","fastffd","fastjoy","#desktopUiBack","QUICKSHOT_DYNAMIC","add","fast","initQuickshot","1164708aVmtnI","4FVZfPX","reload","trigger","#desktopUiSave","FAST_FORWARD","mode","appendChild",'<span style="font-size: 50%;">JOY</span>',"keyboard","label","style","hideJoystick","fadeOutTimeout","Auto Hide","length","HIDEAWAY","keys","visible","log","addEventListener","#quickjoys","3588780yUxGTO","fastsave","code","mouseleave","#desktopUiRewind","fire_buttons","</span>",'<span style="font-size: 50%;">SAVE</span>',"display","saveState","sendCommand","getNostalgist","fastkb","247256OaXfMB","error","568870zxqXhX",'<span style="font-size: 50%;">REWIND</span>',"opacity","addedNodes","body","1597284djwjPc","fastrewind","isQuest","fastui-msg","fastmenu","7KxEVKV","#desktopUiFfd","1210gkttNP","additional_buttons","QUICKJOY_PRIMARY","observe","hide","classList","savestates_disabled","none"];return _0x2744=function(){return lr},_0x2744()}var E0,w0;class CommandButtonListener extends TouchButtonListener{constructor(ar,or,ur){super();yi(this,E0,void 0);yi(this,w0,void 0);Oi(this,E0,ar),Oi(this,w0,or),this.message=ur}[_0x4f876a(395)](ar){const or=_0x4f876a;Vr(this,w0)[or(323)](Vr(this,E0))}}E0=new WeakMap,w0=new WeakMap;var S0;class SaveButtonListener extends TouchButtonListener{constructor(ar){super();yi(this,S0,void 0);Oi(this,S0,ar)}async[_0x4f876a(395)](ar){ar&&Vr(this,S0).saveState()}}S0=new WeakMap;var A0;class KbListener extends TouchButtonListener{constructor(ar){super();yi(this,A0,void 0);Oi(this,A0,ar)}[_0x4f876a(395)](ar){const or=_0x4f876a;ar&&(UiManager.keyboardVisible=!![],UiManager[or(404)](),UiManager[or(364)](),Vr(this,A0).showTouchKeyboard())}}A0=new WeakMap;class ResetButtonListener extends TouchButtonListener{constructor(){super()}[_0x4f876a(395)](cr){cr&&location[_0x4f876a(394)]()}}var lib={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z=Symbol.iterator;function A(lr){return lr===null||typeof lr!="object"?null:(lr=z&&lr[z]||lr["@@iterator"],typeof lr=="function"?lr:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,D$1={};function E(lr,cr,ar){this.props=lr,this.context=cr,this.refs=D$1,this.updater=ar||B}E.prototype.isReactComponent={};E.prototype.setState=function(lr,cr){if(typeof lr!="object"&&typeof lr!="function"&&lr!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,lr,cr,"setState")};E.prototype.forceUpdate=function(lr){this.updater.enqueueForceUpdate(this,lr,"forceUpdate")};function F$1(){}F$1.prototype=E.prototype;function G$1(lr,cr,ar){this.props=lr,this.context=cr,this.refs=D$1,this.updater=ar||B}var H=G$1.prototype=new F$1;H.constructor=G$1;C(H,E.prototype);H.isPureReactComponent=!0;var I$1=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M(lr,cr,ar){var or,ur={},fr=null,xr=null;if(cr!=null)for(or in cr.ref!==void 0&&(xr=cr.ref),cr.key!==void 0&&(fr=""+cr.key),cr)J$1.call(cr,or)&&!L$1.hasOwnProperty(or)&&(ur[or]=cr[or]);var pr=arguments.length-2;if(pr===1)ur.children=ar;else if(1<pr){for(var br=Array(pr),gr=0;gr<pr;gr++)br[gr]=arguments[gr+2];ur.children=br}if(lr&&lr.defaultProps)for(or in pr=lr.defaultProps,pr)ur[or]===void 0&&(ur[or]=pr[or]);return{$$typeof:l$1,type:lr,key:fr,ref:xr,props:ur,_owner:K$1.current}}function N$1(lr,cr){return{$$typeof:l$1,type:lr.type,key:cr,ref:lr.ref,props:lr.props,_owner:lr._owner}}function O$1(lr){return typeof lr=="object"&&lr!==null&&lr.$$typeof===l$1}function escape$1(lr){var cr={"=":"=0",":":"=2"};return"$"+lr.replace(/[=:]/g,function(ar){return cr[ar]})}var P=/\/+/g;function Q$1(lr,cr){return typeof lr=="object"&&lr!==null&&lr.key!=null?escape$1(""+lr.key):cr.toString(36)}function R$1(lr,cr,ar,or,ur){var fr=typeof lr;(fr==="undefined"||fr==="boolean")&&(lr=null);var xr=!1;if(lr===null)xr=!0;else switch(fr){case"string":case"number":xr=!0;break;case"object":switch(lr.$$typeof){case l$1:case n:xr=!0}}if(xr)return xr=lr,ur=ur(xr),lr=or===""?"."+Q$1(xr,0):or,I$1(ur)?(ar="",lr!=null&&(ar=lr.replace(P,"$&/")+"/"),R$1(ur,cr,ar,"",function(gr){return gr})):ur!=null&&(O$1(ur)&&(ur=N$1(ur,ar+(!ur.key||xr&&xr.key===ur.key?"":(""+ur.key).replace(P,"$&/")+"/")+lr)),cr.push(ur)),1;if(xr=0,or=or===""?".":or+":",I$1(lr))for(var pr=0;pr<lr.length;pr++){fr=lr[pr];var br=or+Q$1(fr,pr);xr+=R$1(fr,cr,ar,br,ur)}else if(br=A(lr),typeof br=="function")for(lr=br.call(lr),pr=0;!(fr=lr.next()).done;)fr=fr.value,br=or+Q$1(fr,pr++),xr+=R$1(fr,cr,ar,br,ur);else if(fr==="object")throw cr=String(lr),Error("Objects are not valid as a React child (found: "+(cr==="[object Object]"?"object with keys {"+Object.keys(lr).join(", ")+"}":cr)+"). If you meant to render a collection of children, use an array instead.");return xr}function S(lr,cr,ar){if(lr==null)return lr;var or=[],ur=0;return R$1(lr,or,"","",function(fr){return cr.call(ar,fr,ur++)}),or}function T(lr){if(lr._status===-1){var cr=lr._result;cr=cr(),cr.then(function(ar){(lr._status===0||lr._status===-1)&&(lr._status=1,lr._result=ar)},function(ar){(lr._status===0||lr._status===-1)&&(lr._status=2,lr._result=ar)}),lr._status===-1&&(lr._status=0,lr._result=cr)}if(lr._status===1)return lr._result.default;throw lr._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S,forEach:function(lr,cr,ar){S(lr,function(){cr.apply(this,arguments)},ar)},count:function(lr){var cr=0;return S(lr,function(){cr++}),cr},toArray:function(lr){return S(lr,function(cr){return cr})||[]},only:function(lr){if(!O$1(lr))throw Error("React.Children.only expected to receive a single React element child.");return lr}};react_production_min.Component=E;react_production_min.Fragment=p;react_production_min.Profiler=r;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$1;react_production_min.cloneElement=function(lr,cr,ar){if(lr==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+lr+".");var or=C({},lr.props),ur=lr.key,fr=lr.ref,xr=lr._owner;if(cr!=null){if(cr.ref!==void 0&&(fr=cr.ref,xr=K$1.current),cr.key!==void 0&&(ur=""+cr.key),lr.type&&lr.type.defaultProps)var pr=lr.type.defaultProps;for(br in cr)J$1.call(cr,br)&&!L$1.hasOwnProperty(br)&&(or[br]=cr[br]===void 0&&pr!==void 0?pr[br]:cr[br])}var br=arguments.length-2;if(br===1)or.children=ar;else if(1<br){pr=Array(br);for(var gr=0;gr<br;gr++)pr[gr]=arguments[gr+2];or.children=pr}return{$$typeof:l$1,type:lr.type,key:ur,ref:fr,props:or,_owner:xr}};react_production_min.createContext=function(lr){return lr={$$typeof:u,_currentValue:lr,_currentValue2:lr,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},lr.Provider={$$typeof:t,_context:lr},lr.Consumer=lr};react_production_min.createElement=M;react_production_min.createFactory=function(lr){var cr=M.bind(null,lr);return cr.type=lr,cr};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(lr){return{$$typeof:v,render:lr}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(lr){return{$$typeof:y,_payload:{_status:-1,_result:lr},_init:T}};react_production_min.memo=function(lr,cr){return{$$typeof:x,type:lr,compare:cr===void 0?null:cr}};react_production_min.startTransition=function(lr){var cr=V$1.transition;V$1.transition={};try{lr()}finally{V$1.transition=cr}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(lr,cr){return U$1.current.useCallback(lr,cr)};react_production_min.useContext=function(lr){return U$1.current.useContext(lr)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(lr){return U$1.current.useDeferredValue(lr)};react_production_min.useEffect=function(lr,cr){return U$1.current.useEffect(lr,cr)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(lr,cr,ar){return U$1.current.useImperativeHandle(lr,cr,ar)};react_production_min.useInsertionEffect=function(lr,cr){return U$1.current.useInsertionEffect(lr,cr)};react_production_min.useLayoutEffect=function(lr,cr){return U$1.current.useLayoutEffect(lr,cr)};react_production_min.useMemo=function(lr,cr){return U$1.current.useMemo(lr,cr)};react_production_min.useReducer=function(lr,cr,ar){return U$1.current.useReducer(lr,cr,ar)};react_production_min.useRef=function(lr){return U$1.current.useRef(lr)};react_production_min.useState=function(lr){return U$1.current.useState(lr)};react_production_min.useSyncExternalStore=function(lr,cr,ar){return U$1.current.useSyncExternalStore(lr,cr,ar)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports,uaParser_min={exports:{}};(function(lr,cr){(function(ar,or){var ur="1.0.38",fr="",xr="?",pr="function",br="undefined",gr="object",mr="string",_r="major",Sr="model",yr="name",Cr="type",Ar="vendor",kr="version",Or="architecture",Dr="console",Rr="mobile",Fr="tablet",Nr="smarttv",Hr="wearable",jr="embedded",Jr=500,Yr="Amazon",Ur="Apple",Zr="ASUS",Wr="BlackBerry",ni="Browser",Lr="Chrome",hi="Edge",Ei="Firefox",_i="Google",Fi="Huawei",si="LG",ci="Microsoft",$r="Motorola",ei="Opera",pi="Samsung",ui="Sharp",bi="Sony",qi="Xiaomi",Ki="Zebra",Ti="Facebook",ii="Chromium OS",oi="Mac OS",Si=function(ai,fi){var vi={};for(var Ri in ai)fi[Ri]&&fi[Ri].length%2===0?vi[Ri]=fi[Ri].concat(ai[Ri]):vi[Ri]=ai[Ri];return vi},Di=function(ai){for(var fi={},vi=0;vi<ai.length;vi++)fi[ai[vi].toUpperCase()]=ai[vi];return fi},Mi=function(ai,fi){return typeof ai===mr?Mr(fi).indexOf(Mr(ai))!==-1:!1},Mr=function(ai){return ai.toLowerCase()},di=function(ai){return typeof ai===mr?ai.replace(/[^\d\.]/g,fr).split(".")[0]:or},gi=function(ai,fi){if(typeof ai===mr)return ai=ai.replace(/^\s\s*/,fr),typeof fi===br?ai:ai.substring(0,Jr)},ti=function(ai,fi){for(var vi=0,Ri,Yi,Xi,Ui,Bi,Zi;vi<fi.length&&!Bi;){var Sa=fi[vi],Ta=fi[vi+1];for(Ri=Yi=0;Ri<Sa.length&&!Bi&&Sa[Ri];)if(Bi=Sa[Ri++].exec(ai),Bi)for(Xi=0;Xi<Ta.length;Xi++)Zi=Bi[++Yi],Ui=Ta[Xi],typeof Ui===gr&&Ui.length>0?Ui.length===2?typeof Ui[1]==pr?this[Ui[0]]=Ui[1].call(this,Zi):this[Ui[0]]=Ui[1]:Ui.length===3?typeof Ui[1]===pr&&!(Ui[1].exec&&Ui[1].test)?this[Ui[0]]=Zi?Ui[1].call(this,Zi,Ui[2]):or:this[Ui[0]]=Zi?Zi.replace(Ui[1],Ui[2]):or:Ui.length===4&&(this[Ui[0]]=Zi?Ui[3].call(this,Zi.replace(Ui[1],Ui[2])):or):this[Ui]=Zi||or;vi+=2}},ri=function(ai,fi){for(var vi in fi)if(typeof fi[vi]===gr&&fi[vi].length>0){for(var Ri=0;Ri<fi[vi].length;Ri++)if(Mi(fi[vi][Ri],ai))return vi===xr?or:vi}else if(Mi(fi[vi],ai))return vi===xr?or:vi;return ai},xi={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Ai={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Kr={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[kr,[yr,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[kr,[yr,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[yr,kr],[/opios[\/ ]+([\w\.]+)/i],[kr,[yr,ei+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[kr,[yr,ei+" GX"]],[/\bopr\/([\w\.]+)/i],[kr,[yr,ei]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[kr,[yr,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[yr,kr],[/\bddg\/([\w\.]+)/i],[kr,[yr,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[kr,[yr,"UC"+ni]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[kr,[yr,"WeChat"]],[/konqueror\/([\w\.]+)/i],[kr,[yr,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[kr,[yr,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[kr,[yr,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[kr,[yr,"Smart Lenovo "+ni]],[/(avast|avg)\/([\w\.]+)/i],[[yr,/(.+)/,"$1 Secure "+ni],kr],[/\bfocus\/([\w\.]+)/i],[kr,[yr,Ei+" Focus"]],[/\bopt\/([\w\.]+)/i],[kr,[yr,ei+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[kr,[yr,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[kr,[yr,"Dolphin"]],[/coast\/([\w\.]+)/i],[kr,[yr,ei+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[kr,[yr,"MIUI "+ni]],[/fxios\/([-\w\.]+)/i],[kr,[yr,Ei]],[/\bqihu|(qi?ho?o?|360)browser/i],[[yr,"360 "+ni]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[yr,/(.+)/,"$1 "+ni],kr],[/samsungbrowser\/([\w\.]+)/i],[kr,[yr,pi+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[yr,/_/g," "],kr],[/metasr[\/ ]?([\d\.]+)/i],[kr,[yr,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[yr,"Sogou Mobile"],kr],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[yr,kr],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[yr],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[yr,Ti],kr],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[yr,kr],[/\bgsa\/([\w\.]+) .*safari\//i],[kr,[yr,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[kr,[yr,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[kr,[yr,Lr+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[yr,Lr+" WebView"],kr],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[kr,[yr,"Android "+ni]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[yr,kr],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[kr,[yr,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[kr,yr],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[yr,[kr,ri,xi]],[/(webkit|khtml)\/([\w\.]+)/i],[yr,kr],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[yr,"Netscape"],kr],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[kr,[yr,Ei+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[yr,kr],[/(cobalt)\/([\w\.]+)/i],[yr,[kr,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[Or,"amd64"]],[/(ia32(?=;))/i],[[Or,Mr]],[/((?:i[346]|x)86)[;\)]/i],[[Or,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[Or,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[Or,"armhf"]],[/windows (ce|mobile); ppc;/i],[[Or,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[Or,/ower/,fr,Mr]],[/(sun4\w)[;\)]/i],[[Or,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[Or,Mr]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[Sr,[Ar,pi],[Cr,Fr]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[Sr,[Ar,pi],[Cr,Rr]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[Sr,[Ar,Ur],[Cr,Rr]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[Sr,[Ar,Ur],[Cr,Fr]],[/(macintosh);/i],[Sr,[Ar,Ur]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[Sr,[Ar,ui],[Cr,Rr]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[Sr,[Ar,Fi],[Cr,Fr]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[Sr,[Ar,Fi],[Cr,Rr]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[Sr,/_/g," "],[Ar,qi],[Cr,Rr]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[Sr,/_/g," "],[Ar,qi],[Cr,Fr]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[Sr,[Ar,"OPPO"],[Cr,Rr]],[/\b(opd2\d{3}a?) bui/i],[Sr,[Ar,"OPPO"],[Cr,Fr]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[Sr,[Ar,"Vivo"],[Cr,Rr]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[Sr,[Ar,"Realme"],[Cr,Rr]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[Sr,[Ar,$r],[Cr,Rr]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[Sr,[Ar,$r],[Cr,Fr]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[Sr,[Ar,si],[Cr,Fr]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[Sr,[Ar,si],[Cr,Rr]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[Sr,[Ar,"Lenovo"],[Cr,Fr]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[Sr,/_/g," "],[Ar,"Nokia"],[Cr,Rr]],[/(pixel c)\b/i],[Sr,[Ar,_i],[Cr,Fr]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[Sr,[Ar,_i],[Cr,Rr]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[Sr,[Ar,bi],[Cr,Rr]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[Sr,"Xperia Tablet"],[Ar,bi],[Cr,Fr]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[Sr,[Ar,"OnePlus"],[Cr,Rr]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[Sr,[Ar,Yr],[Cr,Fr]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[Sr,/(.+)/g,"Fire Phone $1"],[Ar,Yr],[Cr,Rr]],[/(playbook);[-\w\),; ]+(rim)/i],[Sr,Ar,[Cr,Fr]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[Sr,[Ar,Wr],[Cr,Rr]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[Sr,[Ar,Zr],[Cr,Fr]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[Sr,[Ar,Zr],[Cr,Rr]],[/(nexus 9)/i],[Sr,[Ar,"HTC"],[Cr,Fr]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[Ar,[Sr,/_/g," "],[Cr,Rr]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[Sr,[Ar,"Acer"],[Cr,Fr]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[Sr,[Ar,"Meizu"],[Cr,Rr]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[Sr,[Ar,"Ulefone"],[Cr,Rr]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[Ar,Sr,[Cr,Rr]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[Ar,Sr,[Cr,Fr]],[/(surface duo)/i],[Sr,[Ar,ci],[Cr,Fr]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[Sr,[Ar,"Fairphone"],[Cr,Rr]],[/(u304aa)/i],[Sr,[Ar,"AT&T"],[Cr,Rr]],[/\bsie-(\w*)/i],[Sr,[Ar,"Siemens"],[Cr,Rr]],[/\b(rct\w+) b/i],[Sr,[Ar,"RCA"],[Cr,Fr]],[/\b(venue[\d ]{2,7}) b/i],[Sr,[Ar,"Dell"],[Cr,Fr]],[/\b(q(?:mv|ta)\w+) b/i],[Sr,[Ar,"Verizon"],[Cr,Fr]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[Sr,[Ar,"Barnes & Noble"],[Cr,Fr]],[/\b(tm\d{3}\w+) b/i],[Sr,[Ar,"NuVision"],[Cr,Fr]],[/\b(k88) b/i],[Sr,[Ar,"ZTE"],[Cr,Fr]],[/\b(nx\d{3}j) b/i],[Sr,[Ar,"ZTE"],[Cr,Rr]],[/\b(gen\d{3}) b.+49h/i],[Sr,[Ar,"Swiss"],[Cr,Rr]],[/\b(zur\d{3}) b/i],[Sr,[Ar,"Swiss"],[Cr,Fr]],[/\b((zeki)?tb.*\b) b/i],[Sr,[Ar,"Zeki"],[Cr,Fr]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[Ar,"Dragon Touch"],Sr,[Cr,Fr]],[/\b(ns-?\w{0,9}) b/i],[Sr,[Ar,"Insignia"],[Cr,Fr]],[/\b((nxa|next)-?\w{0,9}) b/i],[Sr,[Ar,"NextBook"],[Cr,Fr]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[Ar,"Voice"],Sr,[Cr,Rr]],[/\b(lvtel\-)?(v1[12]) b/i],[[Ar,"LvTel"],Sr,[Cr,Rr]],[/\b(ph-1) /i],[Sr,[Ar,"Essential"],[Cr,Rr]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[Sr,[Ar,"Envizen"],[Cr,Fr]],[/\b(trio[-\w\. ]+) b/i],[Sr,[Ar,"MachSpeed"],[Cr,Fr]],[/\btu_(1491) b/i],[Sr,[Ar,"Rotor"],[Cr,Fr]],[/(shield[\w ]+) b/i],[Sr,[Ar,"Nvidia"],[Cr,Fr]],[/(sprint) (\w+)/i],[Ar,Sr,[Cr,Rr]],[/(kin\.[onetw]{3})/i],[[Sr,/\./g," "],[Ar,ci],[Cr,Rr]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[Sr,[Ar,Ki],[Cr,Fr]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[Sr,[Ar,Ki],[Cr,Rr]],[/smart-tv.+(samsung)/i],[Ar,[Cr,Nr]],[/hbbtv.+maple;(\d+)/i],[[Sr,/^/,"SmartTV"],[Ar,pi],[Cr,Nr]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[Ar,si],[Cr,Nr]],[/(apple) ?tv/i],[Ar,[Sr,Ur+" TV"],[Cr,Nr]],[/crkey/i],[[Sr,Lr+"cast"],[Ar,_i],[Cr,Nr]],[/droid.+aft(\w+)( bui|\))/i],[Sr,[Ar,Yr],[Cr,Nr]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[Sr,[Ar,ui],[Cr,Nr]],[/(bravia[\w ]+)( bui|\))/i],[Sr,[Ar,bi],[Cr,Nr]],[/(mitv-\w{5}) bui/i],[Sr,[Ar,qi],[Cr,Nr]],[/Hbbtv.*(technisat) (.*);/i],[Ar,Sr,[Cr,Nr]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[Ar,gi],[Sr,gi],[Cr,Nr]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[Cr,Nr]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[Ar,Sr,[Cr,Dr]],[/droid.+; (shield) bui/i],[Sr,[Ar,"Nvidia"],[Cr,Dr]],[/(playstation [345portablevi]+)/i],[Sr,[Ar,bi],[Cr,Dr]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[Sr,[Ar,ci],[Cr,Dr]],[/((pebble))app/i],[Ar,Sr,[Cr,Hr]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[Sr,[Ar,Ur],[Cr,Hr]],[/droid.+; (glass) \d/i],[Sr,[Ar,_i],[Cr,Hr]],[/droid.+; (wt63?0{2,3})\)/i],[Sr,[Ar,Ki],[Cr,Hr]],[/(quest( \d| pro)?)/i],[Sr,[Ar,Ti],[Cr,Hr]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[Ar,[Cr,jr]],[/(aeobc)\b/i],[Sr,[Ar,Yr],[Cr,jr]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[Sr,[Cr,Rr]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[Sr,[Cr,Fr]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[Cr,Fr]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[Cr,Rr]],[/(android[-\w\. ]{0,9});.+buil/i],[Sr,[Ar,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[kr,[yr,hi+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[kr,[yr,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[yr,kr],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[kr,yr]],os:[[/microsoft (windows) (vista|xp)/i],[yr,kr],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[yr,[kr,ri,Ai]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[kr,ri,Ai],[yr,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[kr,/_/g,"."],[yr,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[yr,oi],[kr,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[kr,yr],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[yr,kr],[/\(bb(10);/i],[kr,[yr,Wr]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[kr,[yr,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[kr,[yr,Ei+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[kr,[yr,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[kr,[yr,"watchOS"]],[/crkey\/([\d\.]+)/i],[kr,[yr,Lr+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[yr,ii],kr],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[yr,kr],[/(sunos) ?([\w\.\d]*)/i],[[yr,"Solaris"],kr],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[yr,kr]]},Pr=function(ai,fi){if(typeof ai===gr&&(fi=ai,ai=or),!(this instanceof Pr))return new Pr(ai,fi).getResult();var vi=typeof ar!==br&&ar.navigator?ar.navigator:or,Ri=ai||(vi&&vi.userAgent?vi.userAgent:fr),Yi=vi&&vi.userAgentData?vi.userAgentData:or,Xi=fi?Si(Kr,fi):Kr,Ui=vi&&vi.userAgent==Ri;return this.getBrowser=function(){var Bi={};return Bi[yr]=or,Bi[kr]=or,ti.call(Bi,Ri,Xi.browser),Bi[_r]=di(Bi[kr]),Ui&&vi&&vi.brave&&typeof vi.brave.isBrave==pr&&(Bi[yr]="Brave"),Bi},this.getCPU=function(){var Bi={};return Bi[Or]=or,ti.call(Bi,Ri,Xi.cpu),Bi},this.getDevice=function(){var Bi={};return Bi[Ar]=or,Bi[Sr]=or,Bi[Cr]=or,ti.call(Bi,Ri,Xi.device),Ui&&!Bi[Cr]&&Yi&&Yi.mobile&&(Bi[Cr]=Rr),Ui&&Bi[Sr]=="Macintosh"&&vi&&typeof vi.standalone!==br&&vi.maxTouchPoints&&vi.maxTouchPoints>2&&(Bi[Sr]="iPad",Bi[Cr]=Fr),Bi},this.getEngine=function(){var Bi={};return Bi[yr]=or,Bi[kr]=or,ti.call(Bi,Ri,Xi.engine),Bi},this.getOS=function(){var Bi={};return Bi[yr]=or,Bi[kr]=or,ti.call(Bi,Ri,Xi.os),Ui&&!Bi[yr]&&Yi&&Yi.platform&&Yi.platform!="Unknown"&&(Bi[yr]=Yi.platform.replace(/chrome os/i,ii).replace(/macos/i,oi)),Bi},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Ri},this.setUA=function(Bi){return Ri=typeof Bi===mr&&Bi.length>Jr?gi(Bi,Jr):Bi,this},this.setUA(Ri),this};Pr.VERSION=ur,Pr.BROWSER=Di([yr,kr,_r]),Pr.CPU=Di([Or]),Pr.DEVICE=Di([Sr,Ar,Cr,Dr,Rr,Nr,Fr,Hr,jr]),Pr.ENGINE=Pr.OS=Di([yr,kr]),lr.exports&&(cr=lr.exports=Pr),cr.UAParser=Pr;var qr=typeof ar!==br&&(ar.jQuery||ar.Zepto);if(qr&&!qr.ua){var Qr=new Pr;qr.ua=Qr.getResult(),qr.ua.get=function(){return Qr.getUA()},qr.ua.set=function(ai){Qr.setUA(ai);var fi=Qr.getResult();for(var vi in fi)qr.ua[vi]=fi[vi]}}})(typeof window=="object"?window:commonjsGlobal$1)})(uaParser_min,uaParser_min.exports);var uaParser_minExports=uaParser_min.exports;Object.defineProperty(lib,"__esModule",{value:!0});function _interopDefault(lr){return lr&&typeof lr=="object"&&"default"in lr?lr.default:lr}var React=reactExports,React__default=_interopDefault(React),UAParser=uaParser_minExports,ClientUAInstance=new UAParser,browser=ClientUAInstance.getBrowser(),cpu=ClientUAInstance.getCPU(),device=ClientUAInstance.getDevice(),engine=ClientUAInstance.getEngine(),os=ClientUAInstance.getOS(),ua$1=ClientUAInstance.getUA(),setUa=function(cr){return ClientUAInstance.setUA(cr)},parseUserAgent=function(cr){if(!cr){console.error("No userAgent string was provided");return}var ar=new UAParser(cr);return{UA:ar,browser:ar.getBrowser(),cpu:ar.getCPU(),device:ar.getDevice(),engine:ar.getEngine(),os:ar.getOS(),ua:ar.getUA(),setUserAgent:function(ur){return ar.setUA(ur)}}},UAHelper=Object.freeze({ClientUAInstance,browser,cpu,device,engine,os,ua:ua$1,setUa,parseUserAgent});function ownKeys(lr,cr){var ar=Object.keys(lr);if(Object.getOwnPropertySymbols){var or=Object.getOwnPropertySymbols(lr);cr&&(or=or.filter(function(ur){return Object.getOwnPropertyDescriptor(lr,ur).enumerable})),ar.push.apply(ar,or)}return ar}function _objectSpread2(lr){for(var cr=1;cr<arguments.length;cr++){var ar=arguments[cr]!=null?arguments[cr]:{};cr%2?ownKeys(Object(ar),!0).forEach(function(or){_defineProperty(lr,or,ar[or])}):Object.getOwnPropertyDescriptors?Object.defineProperties(lr,Object.getOwnPropertyDescriptors(ar)):ownKeys(Object(ar)).forEach(function(or){Object.defineProperty(lr,or,Object.getOwnPropertyDescriptor(ar,or))})}return lr}function _typeof(lr){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(cr){return typeof cr}:_typeof=function(cr){return cr&&typeof Symbol=="function"&&cr.constructor===Symbol&&cr!==Symbol.prototype?"symbol":typeof cr},_typeof(lr)}function _classCallCheck(lr,cr){if(!(lr instanceof cr))throw new TypeError("Cannot call a class as a function")}function _defineProperties(lr,cr){for(var ar=0;ar<cr.length;ar++){var or=cr[ar];or.enumerable=or.enumerable||!1,or.configurable=!0,"value"in or&&(or.writable=!0),Object.defineProperty(lr,or.key,or)}}function _createClass(lr,cr,ar){return cr&&_defineProperties(lr.prototype,cr),ar&&_defineProperties(lr,ar),lr}function _defineProperty(lr,cr,ar){return cr in lr?Object.defineProperty(lr,cr,{value:ar,enumerable:!0,configurable:!0,writable:!0}):lr[cr]=ar,lr}function _extends(){return _extends=Object.assign||function(lr){for(var cr=1;cr<arguments.length;cr++){var ar=arguments[cr];for(var or in ar)Object.prototype.hasOwnProperty.call(ar,or)&&(lr[or]=ar[or])}return lr},_extends.apply(this,arguments)}function _inherits(lr,cr){if(typeof cr!="function"&&cr!==null)throw new TypeError("Super expression must either be null or a function");lr.prototype=Object.create(cr&&cr.prototype,{constructor:{value:lr,writable:!0,configurable:!0}}),cr&&_setPrototypeOf(lr,cr)}function _getPrototypeOf(lr){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(ar){return ar.__proto__||Object.getPrototypeOf(ar)},_getPrototypeOf(lr)}function _setPrototypeOf(lr,cr){return _setPrototypeOf=Object.setPrototypeOf||function(or,ur){return or.__proto__=ur,or},_setPrototypeOf(lr,cr)}function _objectWithoutPropertiesLoose(lr,cr){if(lr==null)return{};var ar={},or=Object.keys(lr),ur,fr;for(fr=0;fr<or.length;fr++)ur=or[fr],!(cr.indexOf(ur)>=0)&&(ar[ur]=lr[ur]);return ar}function _objectWithoutProperties(lr,cr){if(lr==null)return{};var ar=_objectWithoutPropertiesLoose(lr,cr),or,ur;if(Object.getOwnPropertySymbols){var fr=Object.getOwnPropertySymbols(lr);for(ur=0;ur<fr.length;ur++)or=fr[ur],!(cr.indexOf(or)>=0)&&Object.prototype.propertyIsEnumerable.call(lr,or)&&(ar[or]=lr[or])}return ar}function _assertThisInitialized(lr){if(lr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return lr}function _possibleConstructorReturn(lr,cr){if(cr&&(typeof cr=="object"||typeof cr=="function"))return cr;if(cr!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(lr)}function _slicedToArray(lr,cr){return _arrayWithHoles(lr)||_iterableToArrayLimit(lr,cr)||_unsupportedIterableToArray(lr,cr)||_nonIterableRest()}function _arrayWithHoles(lr){if(Array.isArray(lr))return lr}function _iterableToArrayLimit(lr,cr){var ar=lr==null?null:typeof Symbol<"u"&&lr[Symbol.iterator]||lr["@@iterator"];if(ar!=null){var or=[],ur=!0,fr=!1,xr,pr;try{for(ar=ar.call(lr);!(ur=(xr=ar.next()).done)&&(or.push(xr.value),!(cr&&or.length===cr));ur=!0);}catch(br){fr=!0,pr=br}finally{try{!ur&&ar.return!=null&&ar.return()}finally{if(fr)throw pr}}return or}}function _unsupportedIterableToArray(lr,cr){if(lr){if(typeof lr=="string")return _arrayLikeToArray(lr,cr);var ar=Object.prototype.toString.call(lr).slice(8,-1);if(ar==="Object"&&lr.constructor&&(ar=lr.constructor.name),ar==="Map"||ar==="Set")return Array.from(lr);if(ar==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ar))return _arrayLikeToArray(lr,cr)}}function _arrayLikeToArray(lr,cr){(cr==null||cr>lr.length)&&(cr=lr.length);for(var ar=0,or=new Array(cr);ar<cr;ar++)or[ar]=lr[ar];return or}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var DeviceTypes={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},BrowserTypes={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},OsTypes={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},InitialDeviceTypes={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},checkDeviceType=function(cr){switch(cr){case DeviceTypes.Mobile:return{isMobile:!0};case DeviceTypes.Tablet:return{isTablet:!0};case DeviceTypes.SmartTv:return{isSmartTV:!0};case DeviceTypes.Console:return{isConsole:!0};case DeviceTypes.Wearable:return{isWearable:!0};case DeviceTypes.Browser:return{isBrowser:!0};case DeviceTypes.Embedded:return{isEmbedded:!0};default:return InitialDeviceTypes}},setUserAgent=function(cr){return setUa(cr)},setDefaults=function(cr){var ar=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return cr||ar},getNavigatorInstance=function(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},isIOS13Check=function(cr){var ar=getNavigatorInstance();return ar&&ar.platform&&(ar.platform.indexOf(cr)!==-1||ar.platform==="MacIntel"&&ar.maxTouchPoints>1&&!window.MSStream)},browserPayload=function(cr,ar,or,ur,fr){return{isBrowser:cr,browserMajorVersion:setDefaults(ar.major),browserFullVersion:setDefaults(ar.version),browserName:setDefaults(ar.name),engineName:setDefaults(or.name),engineVersion:setDefaults(or.version),osName:setDefaults(ur.name),osVersion:setDefaults(ur.version),userAgent:setDefaults(fr)}},mobilePayload=function(cr,ar,or,ur){return _objectSpread2({},cr,{vendor:setDefaults(ar.vendor),model:setDefaults(ar.model),os:setDefaults(or.name),osVersion:setDefaults(or.version),ua:setDefaults(ur)})},smartTvPayload=function(cr,ar,or,ur){return{isSmartTV:cr,engineName:setDefaults(ar.name),engineVersion:setDefaults(ar.version),osName:setDefaults(or.name),osVersion:setDefaults(or.version),userAgent:setDefaults(ur)}},consolePayload=function(cr,ar,or,ur){return{isConsole:cr,engineName:setDefaults(ar.name),engineVersion:setDefaults(ar.version),osName:setDefaults(or.name),osVersion:setDefaults(or.version),userAgent:setDefaults(ur)}},wearablePayload=function(cr,ar,or,ur){return{isWearable:cr,engineName:setDefaults(ar.name),engineVersion:setDefaults(ar.version),osName:setDefaults(or.name),osVersion:setDefaults(or.version),userAgent:setDefaults(ur)}},embeddedPayload=function(cr,ar,or,ur,fr){return{isEmbedded:cr,vendor:setDefaults(ar.vendor),model:setDefaults(ar.model),engineName:setDefaults(or.name),engineVersion:setDefaults(or.version),osName:setDefaults(ur.name),osVersion:setDefaults(ur.version),userAgent:setDefaults(fr)}};function deviceDetect(lr){var cr=lr?parseUserAgent(lr):UAHelper,ar=cr.device,or=cr.browser,ur=cr.engine,fr=cr.os,xr=cr.ua,pr=checkDeviceType(ar.type),br=pr.isBrowser,gr=pr.isMobile,mr=pr.isTablet,_r=pr.isSmartTV,Sr=pr.isConsole,yr=pr.isWearable,Cr=pr.isEmbedded;if(br)return browserPayload(br,or,ur,fr,xr);if(_r)return smartTvPayload(_r,ur,fr,xr);if(Sr)return consolePayload(Sr,ur,fr,xr);if(gr||mr)return mobilePayload(pr,ar,fr,xr);if(yr)return wearablePayload(yr,ur,fr,xr);if(Cr)return embeddedPayload(Cr,ar,ur,fr,xr)}var isMobileType=function(cr){var ar=cr.type;return ar===DeviceTypes.Mobile},isTabletType=function(cr){var ar=cr.type;return ar===DeviceTypes.Tablet},isMobileAndTabletType=function(cr){var ar=cr.type;return ar===DeviceTypes.Mobile||ar===DeviceTypes.Tablet},isSmartTVType=function(cr){var ar=cr.type;return ar===DeviceTypes.SmartTv},isBrowserType=function(cr){var ar=cr.type;return ar===DeviceTypes.Browser},isWearableType=function(cr){var ar=cr.type;return ar===DeviceTypes.Wearable},isConsoleType=function(cr){var ar=cr.type;return ar===DeviceTypes.Console},isEmbeddedType=function(cr){var ar=cr.type;return ar===DeviceTypes.Embedded},getMobileVendor=function(cr){var ar=cr.vendor;return setDefaults(ar)},getMobileModel=function(cr){var ar=cr.model;return setDefaults(ar)},getDeviceType=function(cr){var ar=cr.type;return setDefaults(ar,"browser")},isAndroidType=function(cr){var ar=cr.name;return ar===OsTypes.Android},isWindowsType=function(cr){var ar=cr.name;return ar===OsTypes.Windows},isMacOsType=function(cr){var ar=cr.name;return ar===OsTypes.MAC_OS},isWinPhoneType=function(cr){var ar=cr.name;return ar===OsTypes.WindowsPhone},isIOSType=function(cr){var ar=cr.name;return ar===OsTypes.IOS},getOsVersion=function(cr){var ar=cr.version;return setDefaults(ar)},getOsName=function(cr){var ar=cr.name;return setDefaults(ar)},isChromeType=function(cr){var ar=cr.name;return ar===BrowserTypes.Chrome},isFirefoxType=function(cr){var ar=cr.name;return ar===BrowserTypes.Firefox},isChromiumType=function(cr){var ar=cr.name;return ar===BrowserTypes.Chromium},isEdgeType=function(cr){var ar=cr.name;return ar===BrowserTypes.Edge},isYandexType=function(cr){var ar=cr.name;return ar===BrowserTypes.Yandex},isSafariType=function(cr){var ar=cr.name;return ar===BrowserTypes.Safari||ar===BrowserTypes.MobileSafari},isMobileSafariType=function(cr){var ar=cr.name;return ar===BrowserTypes.MobileSafari},isOperaType=function(cr){var ar=cr.name;return ar===BrowserTypes.Opera},isIEType=function(cr){var ar=cr.name;return ar===BrowserTypes.InternetExplorer||ar===BrowserTypes.Ie},isMIUIType=function(cr){var ar=cr.name;return ar===BrowserTypes.MIUI},isSamsungBrowserType=function(cr){var ar=cr.name;return ar===BrowserTypes.SamsungBrowser},getBrowserFullVersion=function(cr){var ar=cr.version;return setDefaults(ar)},getBrowserVersion=function(cr){var ar=cr.major;return setDefaults(ar)},getBrowserName=function(cr){var ar=cr.name;return setDefaults(ar)},getEngineName=function(cr){var ar=cr.name;return setDefaults(ar)},getEngineVersion=function(cr){var ar=cr.version;return setDefaults(ar)},isElectronType=function(){var cr=getNavigatorInstance(),ar=cr&&cr.userAgent&&cr.userAgent.toLowerCase();return typeof ar=="string"?/electron/.test(ar):!1},isEdgeChromiumType=function(cr){return typeof cr=="string"&&cr.indexOf("Edg/")!==-1},getIOS13=function(){var cr=getNavigatorInstance();return cr&&(/iPad|iPhone|iPod/.test(cr.platform)||cr.platform==="MacIntel"&&cr.maxTouchPoints>1)&&!window.MSStream},getIPad13=function(){return isIOS13Check("iPad")},getIphone13=function(){return isIOS13Check("iPhone")},getIPod13=function(){return isIOS13Check("iPod")},getUseragent=function(cr){return setDefaults(cr)};function buildSelectorsObject(lr){var cr=lr||UAHelper,ar=cr.device,or=cr.browser,ur=cr.os,fr=cr.engine,xr=cr.ua;return{isSmartTV:isSmartTVType(ar),isConsole:isConsoleType(ar),isWearable:isWearableType(ar),isEmbedded:isEmbeddedType(ar),isMobileSafari:isMobileSafariType(or)||getIPad13(),isChromium:isChromiumType(or),isMobile:isMobileAndTabletType(ar)||getIPad13(),isMobileOnly:isMobileType(ar),isTablet:isTabletType(ar)||getIPad13(),isBrowser:isBrowserType(ar),isDesktop:isBrowserType(ar),isAndroid:isAndroidType(ur),isWinPhone:isWinPhoneType(ur),isIOS:isIOSType(ur)||getIPad13(),isChrome:isChromeType(or),isFirefox:isFirefoxType(or),isSafari:isSafariType(or),isOpera:isOperaType(or),isIE:isIEType(or),osVersion:getOsVersion(ur),osName:getOsName(ur),fullBrowserVersion:getBrowserFullVersion(or),browserVersion:getBrowserVersion(or),browserName:getBrowserName(or),mobileVendor:getMobileVendor(ar),mobileModel:getMobileModel(ar),engineName:getEngineName(fr),engineVersion:getEngineVersion(fr),getUA:getUseragent(xr),isEdge:isEdgeType(or)||isEdgeChromiumType(xr),isYandex:isYandexType(or),deviceType:getDeviceType(ar),isIOS13:getIOS13(),isIPad13:getIPad13(),isIPhone13:getIphone13(),isIPod13:getIPod13(),isElectron:isElectronType(),isEdgeChromium:isEdgeChromiumType(xr),isLegacyEdge:isEdgeType(or)&&!isEdgeChromiumType(xr),isWindows:isWindowsType(ur),isMacOs:isMacOsType(ur),isMIUI:isMIUIType(or),isSamsungBrowser:isSamsungBrowserType(or)}}var isSmartTV=isSmartTVType(device),isConsole=isConsoleType(device),isWearable=isWearableType(device),isEmbedded=isEmbeddedType(device),isMobileSafari=isMobileSafariType(browser)||getIPad13(),isChromium=isChromiumType(browser),isMobile=isMobileAndTabletType(device)||getIPad13(),isMobileOnly=isMobileType(device),isTablet=isTabletType(device)||getIPad13(),isBrowser=isBrowserType(device),isDesktop=isBrowserType(device),isAndroid=isAndroidType(os),isWinPhone=isWinPhoneType(os),isIOS=isIOSType(os)||getIPad13(),isChrome=isChromeType(browser),isFirefox=isFirefoxType(browser),isSafari=isSafariType(browser),isOpera=isOperaType(browser),isIE=isIEType(browser),osVersion=getOsVersion(os),osName=getOsName(os),fullBrowserVersion=getBrowserFullVersion(browser),browserVersion=getBrowserVersion(browser),browserName=getBrowserName(browser),mobileVendor=getMobileVendor(device),mobileModel=getMobileModel(device),engineName=getEngineName(engine),engineVersion=getEngineVersion(engine),getUA=getUseragent(ua$1),isEdge=isEdgeType(browser)||isEdgeChromiumType(ua$1),isYandex=isYandexType(browser),deviceType=getDeviceType(device),isIOS13=getIOS13(),isIPad13=getIPad13(),isIPhone13=getIphone13(),isIPod13=getIPod13(),isElectron=isElectronType(),isEdgeChromium=isEdgeChromiumType(ua$1),isLegacyEdge=isEdgeType(browser)&&!isEdgeChromiumType(ua$1),isWindows=isWindowsType(os),isMacOs=isMacOsType(os),isMIUI=isMIUIType(browser),isSamsungBrowser=isSamsungBrowserType(browser),getSelectorsByUserAgent=function(cr){if(!cr||typeof cr!="string"){console.error("No valid user agent string was provided");return}var ar=parseUserAgent(cr),or=ar.device,ur=ar.browser,fr=ar.os,xr=ar.engine,pr=ar.ua;return buildSelectorsObject({device:or,browser:ur,os:fr,engine:xr,ua:pr})},AndroidView=function(cr){var ar=cr.renderWithFragment,or=cr.children,ur=_objectWithoutProperties(cr,["renderWithFragment","children"]);return isAndroid?ar?React__default.createElement(React.Fragment,null,or):React__default.createElement("div",ur,or):null},BrowserView=function(cr){var ar=cr.renderWithFragment,or=cr.children,ur=_objectWithoutProperties(cr,["renderWithFragment","children"]);return isBrowser?ar?React__default.createElement(React.Fragment,null,or):React__default.createElement("div",ur,or):null},IEView=function(cr){var ar=cr.renderWithFragment,or=cr.children,ur=_objectWithoutProperties(cr,["renderWithFragment","children"]);return isIE?ar?React__default.createElement(React.Fragment,null,or):React__default.createElement("div",ur,or):null},IOSView=function(cr){var ar=cr.renderWithFragment,or=cr.children,ur=_objectWithoutProperties(cr,["renderWithFragment","children"]);return isIOS?ar?React__default.createElement(React.Fragment,null,or):React__default.createElement("div",ur,or):null},MobileView=function(cr){var ar=cr.renderWithFragment,or=cr.children,ur=_objectWithoutProperties(cr,["renderWithFragment","children"]);return isMobile?ar?React__default.createElement(React.Fragment,null,or):React__default.createElement("div",ur,or):null},TabletView=function(cr){var ar=cr.renderWithFragment,or=cr.children,ur=_objectWithoutProperties(cr,["renderWithFragment","children"]);return isTablet?ar?React__default.createElement(React.Fragment,null,or):React__default.createElement("div",ur,or):null},WinPhoneView=function(cr){var ar=cr.renderWithFragment,or=cr.children,ur=_objectWithoutProperties(cr,["renderWithFragment","children"]);return isWinPhone?ar?React__default.createElement(React.Fragment,null,or):React__default.createElement("div",ur,or):null},MobileOnlyView=function(cr){var ar=cr.renderWithFragment,or=cr.children;cr.viewClassName,cr.style;var ur=_objectWithoutProperties(cr,["renderWithFragment","children","viewClassName","style"]);return isMobileOnly?ar?React__default.createElement(React.Fragment,null,or):React__default.createElement("div",ur,or):null},SmartTVView=function(cr){var ar=cr.renderWithFragment,or=cr.children,ur=_objectWithoutProperties(cr,["renderWithFragment","children"]);return isSmartTV?ar?React__default.createElement(React.Fragment,null,or):React__default.createElement("div",ur,or):null},ConsoleView=function(cr){var ar=cr.renderWithFragment,or=cr.children,ur=_objectWithoutProperties(cr,["renderWithFragment","children"]);return isConsole?ar?React__default.createElement(React.Fragment,null,or):React__default.createElement("div",ur,or):null},WearableView=function(cr){var ar=cr.renderWithFragment,or=cr.children,ur=_objectWithoutProperties(cr,["renderWithFragment","children"]);return isWearable?ar?React__default.createElement(React.Fragment,null,or):React__default.createElement("div",ur,or):null},CustomView=function(cr){var ar=cr.renderWithFragment,or=cr.children;cr.viewClassName,cr.style;var ur=cr.condition,fr=_objectWithoutProperties(cr,["renderWithFragment","children","viewClassName","style","condition"]);return ur?ar?React__default.createElement(React.Fragment,null,or):React__default.createElement("div",fr,or):null};function withOrientationChange(lr){return function(cr){_inherits(ar,cr);function ar(or){var ur;return _classCallCheck(this,ar),ur=_possibleConstructorReturn(this,_getPrototypeOf(ar).call(this,or)),ur.isEventListenerAdded=!1,ur.handleOrientationChange=ur.handleOrientationChange.bind(_assertThisInitialized(ur)),ur.onOrientationChange=ur.onOrientationChange.bind(_assertThisInitialized(ur)),ur.onPageLoad=ur.onPageLoad.bind(_assertThisInitialized(ur)),ur.state={isLandscape:!1,isPortrait:!1},ur}return _createClass(ar,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var ur=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:ur===0,isLandscape:ur===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":_typeof(window))!==void 0&&isMobile&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return React__default.createElement(lr,_extends({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),ar}(React__default.Component)}function useMobileOrientation(){var lr=React.useState(function(){var fr=window.innerWidth>window.innerHeight?90:0;return{isPortrait:fr===0,isLandscape:fr===90,orientation:fr===0?"portrait":"landscape"}}),cr=_slicedToArray(lr,2),ar=cr[0],or=cr[1],ur=React.useCallback(function(){var fr=window.innerWidth>window.innerHeight?90:0,xr={isPortrait:fr===0,isLandscape:fr===90,orientation:fr===0?"portrait":"landscape"};ar.orientation!==xr.orientation&&or(xr)},[ar.orientation]);return React.useEffect(function(){return(typeof window>"u"?"undefined":_typeof(window))!==void 0&&isMobile&&(ur(),window.addEventListener("load",ur,!1),window.addEventListener("resize",ur,!1)),function(){window.removeEventListener("resize",ur,!1),window.removeEventListener("load",ur,!1)}},[ur]),ar}function useDeviceData(lr){var cr=lr||window.navigator.userAgent;return parseUserAgent(cr)}function useDeviceSelectors(lr){var cr=lr||window.navigator.userAgent,ar=useDeviceData(cr),or=buildSelectorsObject(ar);return[or,ar]}lib.AndroidView=AndroidView;lib.BrowserTypes=BrowserTypes;lib.BrowserView=BrowserView;lib.ConsoleView=ConsoleView;lib.CustomView=CustomView;lib.IEView=IEView;lib.IOSView=IOSView;lib.MobileOnlyView=MobileOnlyView;lib.MobileView=MobileView;lib.OsTypes=OsTypes;lib.SmartTVView=SmartTVView;lib.TabletView=TabletView;lib.WearableView=WearableView;lib.WinPhoneView=WinPhoneView;lib.browserName=browserName;lib.browserVersion=browserVersion;lib.deviceDetect=deviceDetect;lib.deviceType=deviceType;lib.engineName=engineName;lib.engineVersion=engineVersion;lib.fullBrowserVersion=fullBrowserVersion;lib.getSelectorsByUserAgent=getSelectorsByUserAgent;lib.getUA=getUA;lib.isAndroid=isAndroid;lib.isBrowser=isBrowser;lib.isChrome=isChrome;lib.isChromium=isChromium;lib.isConsole=isConsole;lib.isDesktop=isDesktop;lib.isEdge=isEdge;lib.isEdgeChromium=isEdgeChromium;lib.isElectron=isElectron;lib.isEmbedded=isEmbedded;lib.isFirefox=isFirefox;lib.isIE=isIE;lib.isIOS=isIOS;lib.isIOS13=isIOS13;lib.isIPad13=isIPad13;lib.isIPhone13=isIPhone13;lib.isIPod13=isIPod13;lib.isLegacyEdge=isLegacyEdge;lib.isMIUI=isMIUI;lib.isMacOs=isMacOs;var isMobile_1=lib.isMobile=isMobile;lib.isMobileOnly=isMobileOnly;lib.isMobileSafari=isMobileSafari;lib.isOpera=isOpera;lib.isSafari=isSafari;lib.isSamsungBrowser=isSamsungBrowser;lib.isSmartTV=isSmartTV;var isTablet_1=lib.isTablet=isTablet;lib.isWearable=isWearable;lib.isWinPhone=isWinPhone;lib.isWindows=isWindows;lib.isYandex=isYandex;lib.mobileModel=mobileModel;lib.mobileVendor=mobileVendor;lib.osName=osName;lib.osVersion=osVersion;lib.parseUserAgent=parseUserAgent;lib.setUserAgent=setUserAgent;lib.useDeviceData=useDeviceData;lib.useDeviceSelectors=useDeviceSelectors;lib.useMobileOrientation=useMobileOrientation;lib.withOrientationChange=withOrientationChange;const _0x3196e3=_0x2352;(function(lr,cr){const ar=_0x2352,or=lr();for(;[];)try{if(-parseInt(ar(263))/1*(parseInt(ar(273))/2)+parseInt(ar(236))/3*(-parseInt(ar(268))/4)+parseInt(ar(237))/5*(-parseInt(ar(254))/6)+-parseInt(ar(270))/7+parseInt(ar(227))/8+-parseInt(ar(245))/9+parseInt(ar(225))/10*(parseInt(ar(250))/11)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x195c,975249);function _0x2352(lr,cr){const ar=_0x195c();return _0x2352=function(or,ur){return or=or-225,ar[or]},_0x2352(lr,cr)}function _0x195c(){const lr=["isTablet","43846dqitKc","flex","log","#desktopUi","467430MVDSYU","gamepad","forceTouch","some","(display-mode: standalone)","hasTouch","forceDesktop","innerWidth","Quest","109498SzufLO","matches","includes","resizeCanvas","ontouchstart","172XZZeHo","touch","1691774ZPEhzX","getGamepads","has","6ntSHTC","#toggle-keyboard","onkeydown","hasGamepad","11640iDbHji","toggleJoystick","7972408QApwKQ","from","keyboard","isSmartphone","isStandalone","detectDevice","isNotPortrait","standalone","isDesktop","131901cTonOT","125pmqqNG","resize","isQuest","isMobile","innerHeight","desktop","add","userAgent","2273616hMscRz","updateDeviceType","#fastui","show tk"];return _0x195c=function(){return lr},_0x195c()}var lo,zh;const Ea=class Ea{constructor(){Ea[_0x2352(232)](),Ea.updateDeviceType()}static[_0x3196e3(246)](){const cr=_0x3196e3;Ea[cr(235)]()||Ea[cr(239)]()?Ea[cr(260)]():Ea[cr(259)]()&&Ea[cr(256)]()}static isDesktop(){const cr=_0x3196e3;return Vr(Ea,lo)[cr(272)](cr(242))&&Vr(Ea,lo)[cr(272)]("keyboard")&&!Vr(Ea,lo)[cr(272)](cr(269))}static[_0x3196e3(233)](){return window[_0x3196e3(261)]>window.innerHeight}static[_0x3196e3(276)](){const cr=_0x3196e3;return navigator.getGamepads?Array[cr(228)](navigator[cr(271)]())[cr(257)](ar=>ar!==null):![]}static[_0x3196e3(240)](){return isMobile_1}static[_0x3196e3(230)](){return isMobile_1&&!isTablet_1}static[_0x3196e3(249)](){return isTablet_1}static[_0x3196e3(231)](){const cr=_0x3196e3;return window.navigator[cr(234)]||window.matchMedia(cr(258))[cr(264)]}static[_0x3196e3(239)](){const cr=_0x3196e3;var ar=navigator[cr(244)];return ar[cr(265)]("OculusBrowser")||ar[cr(265)](cr(262))?!![]:![]}static[_0x3196e3(259)](){const cr=_0x3196e3;return Vr(Ea,lo)[cr(272)](cr(269))}static[_0x3196e3(256)](){const cr=_0x3196e3;hide(cr(253)),show(cr(247),"grid"),UiManager.toggleJoystick()}static[_0x3196e3(260)](){const cr=_0x3196e3;hide(cr(247)),show(cr(253),cr(251)),UiManager[cr(226)](),Ea.isDesktop()?hide(cr(274)):(console[cr(252)](cr(248)),show("#toggle-keyboard"))}static isGamepadConnected(){const cr=_0x3196e3,ar=navigator[cr(271)]();for(const or of ar)if(or)return!![];return![]}static[_0x3196e3(232)](){const cr=_0x3196e3;cr(267)in window?Vr(Ea,lo).add(cr(269)):Vr(Ea,lo).add(cr(242)),cr(275)in window&&Vr(Ea,lo)[cr(243)](cr(229)),Ea.isGamepadConnected()&&Vr(Ea,lo)[cr(243)](cr(255)),Ea.updateDeviceType()}};zh=_0x3196e3(266),lo=new WeakMap,yi(Ea,lo,new Set),Pa(Ea,zh,cr=>{const ar=_0x3196e3;if(cr==null)return;let or=window.innerWidth,ur=window[ar(241)];or<ur&&(ur=ur/2),cr[ar(238)]({width:or,height:ur})});let EnvironmentManager=Ea;function _0x40ae(){const lr=["menu-button-strip","appendChild","elementFromPoint","getElementById","classList","&nbsp;","true","pointercancel","7CaINIg","pointerdown","remove","setAttribute","guiBtn-pressed","1404495KQbCUY","pointerup","false","dataset","3oUZmjm","createElement","1630302RNsmTZ","349142tGHvgB","isSelected","contains","1375592JcRwdP","187712cRyvdM","addEventListener","data-shortcut","innerHTML","5811320QnoAcW","5pQzCnQ","add","319404PxwNFe","disabled","preventDefault","clabel"];return _0x40ae=function(){return lr},_0x40ae()}const _0x61787=_0x3350;(function(lr,cr){const ar=_0x3350,or=lr();for(;[];)try{if(parseInt(ar(345))/1+-parseInt(ar(341))/2*(-parseInt(ar(338))/3)+parseInt(ar(352))/4*(parseInt(ar(350))/5)+parseInt(ar(340))/6+parseInt(ar(364))/7*(parseInt(ar(344))/8)+-parseInt(ar(334))/9+-parseInt(ar(349))/10===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x40ae,148613);function createGuiButton(lr,cr,ar,or,ur=!![],fr,xr=_0x61787(356)){const pr=_0x61787,br=createButtonElement(lr,cr,ar),gr=fr||pr(333);addButtonToContainer(br,xr),setupButtonInteractions(br,or,ur,gr)}function createButtonElement(lr,cr,ar){const or=_0x61787,ur=document[or(339)]("span");return ur.id=lr,ur[or(348)]=or(361)+cr+"&nbsp;",ur[or(367)](or(347),ar),ur[or(337)].originalText=or(361)+cr+or(361),ur.classList[or(351)](or(355)),ur}function addButtonToContainer(lr,cr){const ar=_0x61787;document[ar(359)](cr)[ar(357)](lr)}function _0x3350(lr,cr){const ar=_0x40ae();return _0x3350=function(or,ur){return or=or-333,ar[or]},_0x3350(lr,cr)}function setupButtonInteractions(lr,cr,ar,or){const ur=_0x61787;lr.dataset[ur(342)]=ur(336);function fr(){const xr=ur;return!lr[xr(360)][xr(343)](xr(353))}lr[ur(346)](ur(365),xr=>handlePointerDown(xr,lr,fr,ar,or)),lr.addEventListener("pointermove",xr=>handlePointerMove(xr,lr,fr,ar,or)),lr[ur(346)](ur(363),xr=>handlePointerCancel(xr,lr,fr,ar,or)),lr[ur(346)](ur(335),xr=>handlePointerUp(xr,lr,fr,cr,ar,or))}function handlePointerDown(lr,cr,ar,or,ur){const fr=_0x61787;lr[fr(354)](),ar()&&(cr.dataset[fr(342)]=fr(362),or&&cr[fr(360)][fr(351)](ur))}function handlePointerMove(lr,cr,ar,or,ur){const fr=_0x61787;if(lr[fr(354)](),ar()){const xr=document[fr(358)](lr.clientX,lr.clientY);updateSelectionOnMove(xr,lr.target,cr,or,ur)}}function handlePointerCancel(lr,cr,ar,or,ur){const fr=_0x61787;lr.preventDefault(),ar()&&(cr[fr(337)].isSelected=fr(336),or&&cr[fr(360)][fr(366)](ur))}function handlePointerUp(lr,cr,ar,or,ur,fr){const xr=_0x61787;lr[xr(354)](),ar()&&cr[xr(337)][xr(342)]==="true"&&(or(),ur&&cr[xr(360)][xr(366)](fr)),cr[xr(337)].isSelected=xr(336)}function updateSelectionOnMove(lr,cr,ar,or,ur){const fr=_0x61787;lr!==cr?ar.dataset[fr(342)]===fr(362)&&(ar[fr(337)].isSelected=fr(336),or&&ar.classList.remove(ur)):ar[fr(337)][fr(342)]===fr(336)&&(ar[fr(337)][fr(342)]=fr(362),or&&ar[fr(360)][fr(351)](ur))}const _0x4d18fa=_0x59cc;function _0x59cc(lr,cr){const ar=_0x3ee4();return _0x59cc=function(or,ur){return or=or-346,ar[or]},_0x59cc(lr,cr)}(function(lr,cr){const ar=_0x59cc,or=lr();for(;[];)try{if(-parseInt(ar(365))/1+parseInt(ar(426))/2*(parseInt(ar(442))/3)+-parseInt(ar(387))/4+-parseInt(ar(420))/5*(parseInt(ar(355))/6)+parseInt(ar(446))/7+parseInt(ar(412))/8+-parseInt(ar(378))/9*(parseInt(ar(384))/10)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x3ee4,229992);function _0x3ee4(){const lr=["corsrow","285330BtSkfs","enter","off","auto","CLI commands:","forEach","15034WXVPdz","includes","update","dispatchEvent","get_keywords","</p>","#cors_query_prefix","add","addEventListener","createElement","offsetHeight","#progress_line","keydown","is_selection_enabled","get_help","#cursor","93pcGcWu","set_article_mode","textContent","blinking","1626597vDEZQO","toUpperCase","commands","scrollTop","removeEventListener","reset","classList","getElementById","Press any key to continue.","process_input","escape","remove","message","soft_msg","is_loading","36XhWpTY","slice","is_enter_required","ctrlKey","cursorShowing","print","div","click","appendChild","filter","179041Iwlppx","selected_command","<p style='margin-left: 1ch;'>","display","push","getBoundingClientRect","redraw","append","altKey","default_command_name","start","Enter","trim","99OBQLJa","children","directMode","querySelector","style","top","61010PFBSYm","bind","#cors_results","336084LyXJVT","right","register_default","backspace","length","scrollIntoView","Escape","span","parse_input","parse_hidden_input","&nbsp;","offsetWidth","set_loading","left","set_default_handler","innerHTML","set_selection_mode","clear","reload","highlight","Backspace","open","selection_changed","print_progress","print_help","3497304sIffes","none","progress_line","register_command","key","is_command_selectable","ArrowUp"];return _0x3ee4=function(){return lr},_0x3ee4()}var Bs,qs,Ns,oa,ja,eo,So,I0,Ou,C0,Tu,Tc,lf,Dc,ff,Rc,df,k0,Du,Fc,hf,Pc,xf,Bc,pf;const Qa=class Qa{constructor(){yi(this,I0);yi(this,C0);yi(this,Tc);yi(this,Dc);yi(this,Rc);yi(this,k0);yi(this,Fc);yi(this,Pc);yi(this,Bc);yi(this,Bs,void 0);yi(this,qs,void 0);yi(this,Ns,void 0);yi(this,oa,void 0);yi(this,ja,[]);yi(this,So,void 0);const cr=_0x4d18fa;Oi(this,oa,-1),Oi(this,So,![]),this[cr(359)]=![],this[cr(380)]=![],this[cr(448)]=[],this[cr(374)]=null,this[cr(417)]=![],this[cr(357)]=![],Oi(this,Bs,Pi(this,Tc,lf)[cr(385)](this)),this[cr(399)](![])}[_0x4d18fa(403)](cr){const ar=_0x4d18fa;cr?Pi(this,C0,Tu).call(this):(Pi(this,I0,Ou).call(this),this[ar(366)]&&this[ar(366)][ar(409)]())}[_0x4d18fa(354)](){return Vr(this,qs)}[_0x4d18fa(399)](cr){Oi(this,qs,cr),cr?Pi(this,C0,Tu).call(this):Pi(this,I0,Ou).call(this)}[_0x4d18fa(443)](cr){Oi(this,So,cr)}on(){const cr=_0x4d18fa;document[cr(434)](cr(438),Vr(this,Bs))}[_0x4d18fa(422)](){const cr=_0x4d18fa;document[cr(450)](cr(438),Vr(this,Bs))}update(){const cr=_0x4d18fa;if(this[cr(417)]){const ar=s$1(cr(386));let or=[...ar.children];if(or=or[cr(364)](ur=>ur[cr(346)].contains(cr(419))),or.length==0)return;or[cr(425)](ur=>ur.querySelector(cr(394))[cr(346)][cr(351)](cr(406))),Vr(this,oa)>=0&&(Pi(this,Dc,ff).call(this,or[Vr(this,oa)][cr(381)](cr(394))),this[cr(366)][cr(409)](or[Vr(this,oa)])),Vr(this,oa)!=-1&&!Pi(this,Pc,xf).call(this,or[Vr(this,oa)][cr(381)](cr(394)),ar)&&or[Vr(this,oa)][cr(392)]({behavior:cr(423),block:"start",inline:cr(375)})}}[_0x4d18fa(349)](cr){const ar=_0x4d18fa;let or=![];if(cr[ar(391)]===1)Vr(this,oa)==-1&&(Vr(Qa,eo)[ar(444)]+=cr);else if(cr===ar(407)||cr===ar(390))Vr(this,oa)==-1&&(Vr(Qa,eo)[ar(444)]=Vr(Qa,eo)[ar(444)][ar(356)](0,-1));else if(cr===" "||cr==="space")Vr(this,oa)==-1&&(Vr(Qa,eo)[ar(444)]+=" ");else if(cr==="clear")Vr(this,oa)==-1&&(Vr(Qa,eo)[ar(444)]=""),Vr(this,Ns)instanceof Function&&Vr(this,Ns).call(this);else if(cr=="escape")Oi(this,So,![]),Vr(this,oa)>=0?(Oi(this,oa,-1),this[ar(403)](![])):Vr(this,oa)==-1&&(this[ar(349)](ar(404)),this[ar(403)](![]));else if(cr==ar(421)){if(Vr(this,So))return;or=!![];let ur=s$1(ar(386))[ar(379)];if(this[ar(357)]&&Vr(this,oa)==-1)or=!![];else if(this.is_command_selectable&&Vr(this,oa)==-1)ur[ar(391)]>0&&lc(this,oa)._++,this.set_selection_mode(!![]);else if(Vr(this,oa)>=0){Pi(this,Bc,pf).call(this,ur[Vr(this,oa)]),this[ar(366)].selection_changed();return}}this[ar(395)](Vr(Qa,eo)[ar(444)],or)}[_0x4d18fa(415)](cr){const ar=_0x4d18fa;if(cr instanceof CommandBase)this.commands[ar(369)](cr),cr.set_cli(this);else throw new Error("Invalid command")}[_0x4d18fa(389)](cr){const ar=_0x4d18fa;this[ar(374)]=cr}[_0x4d18fa(396)](){const cr=_0x4d18fa;let ar=Vr(Qa,eo)[cr(444)];this[cr(395)](Vr(Qa,eo).textContent,ar==cr(408))}inject(cr,ar){const or=_0x4d18fa;this[or(354)]()||(Vr(Qa,eo)[or(444)]=cr,this[or(395)](cr,ar))}parse_input(cr,ar){const or=_0x4d18fa;cr=cr[or(377)]().toLowerCase();const ur=cr.split(/\s+/),[fr,...xr]=ur;Pi(this,k0,Du).call(this),Pi(this,Rc,df).call(this);let pr=null,br=null;for(let gr of this[or(448)])if(gr[or(430)]().includes(fr)){pr=gr,br=xr;break}if(pr==null&&this[or(374)]&&cr[or(391)]>3){for(let gr of this[or(448)])if(gr[or(430)]()[or(427)](this.default_command_name)){pr=gr,br=ur,Pi(this,Fc,hf).call(this,this[or(374)]);break}}pr!=null?(this.is_command_selectable=pr[or(439)](),this[or(366)]=pr,pr[or(349)](br,ar)):this[or(366)]=null}[_0x4d18fa(411)](){const cr=_0x4d18fa;this[cr(404)](),Vr(this,ja)[cr(369)](cr(424)),this[cr(448)][cr(425)](or=>{const ur=cr;Vr(this,ja)[ur(369)](ur(397)),Vr(this,ja)[ur(369)](ur(367)+or.get_help()[0][ur(447)]()+ur(431)),Vr(this,ja)[ur(369)]("<p style='margin-left: 3ch;'>"+or[ur(440)]()[1]+ur(431))});var ar=s$1(cr(386));ar[cr(402)]="",Vr(this,ja).forEach(or=>{const ur=cr;var fr=document[ur(435)](ur(361)),xr=document.createElement("p");xr[ur(402)]=or,fr[ur(363)](xr),ar[ur(372)](fr)})}[_0x4d18fa(371)](){const cr=_0x4d18fa;var ar=s$1(cr(386));ar[cr(402)]="",Vr(this,ja).forEach(or=>{const ur=cr;var fr=document[ur(435)](ur(361)),xr=document.createElement("p");xr.innerHTML=or,fr.appendChild(xr),ar.append(fr)})}[_0x4d18fa(404)](){const cr=_0x4d18fa;Oi(this,ja,[]);var ar=s$1(cr(386));ar[cr(402)]=""}[_0x4d18fa(451)](){const cr=_0x4d18fa;Oi(this,oa,-1),Oi(this,So,![]),Vr(Qa,eo)[cr(444)]="",Pi(this,k0,Du).call(this),this[cr(403)](![]),this[cr(399)](![]),this[cr(404)]()}message_clear(...cr){this[_0x4d18fa(404)](),this.message(cr)}[_0x4d18fa(352)](...cr){const ar=_0x4d18fa;cr[ar(425)](or=>Vr(this,ja)[ar(369)](or)),Vr(this,ja)[ar(369)]("&nbsp;"),Vr(this,ja)[ar(369)](ar(348)),this[ar(371)](),document[ar(434)](ar(362),function(){setTimeout(function(){location[_0x59cc(405)]()},120)}),document.addEventListener(ar(438),function(){setTimeout(function(){location[_0x59cc(405)]()},120)})}[_0x4d18fa(410)](cr){const ar=_0x4d18fa;let or=s$1(ar(437));if(or==null){const ur=s$1(ar(386)),fr=document[ar(435)]("div");or=document.createElement("p"),or.id=ar(414),fr[ar(363)](or),ur[ar(372)](fr)}or[ar(402)]=cr}[_0x4d18fa(360)](cr){const ar=_0x4d18fa;Vr(this,ja)[ar(369)](cr),this[ar(371)]()}[_0x4d18fa(353)](cr){const ar=_0x4d18fa;this.clear(),Vr(this,ja)[ar(369)](cr),this[ar(371)]()}[_0x4d18fa(401)](cr){Oi(this,Ns,cr)}};Bs=new WeakMap,qs=new WeakMap,Ns=new WeakMap,oa=new WeakMap,ja=new WeakMap,eo=new WeakMap,So=new WeakMap,I0=new WeakSet,Ou=function(){const cr=_0x4d18fa;s$1("#cursor")[cr(346)][cr(433)](cr(445))},C0=new WeakSet,Tu=function(){const cr=_0x4d18fa;s$1(cr(441))[cr(346)].remove(cr(445))},Tc=new WeakSet,lf=function(cr){const ar=_0x4d18fa;if(cr.preventDefault(),!Vr(this,qs)){if(cr.key[ar(391)]===1&&!cr[ar(358)]&&!cr.metaKey&&!cr[ar(373)])this[ar(349)](cr[ar(416)]);else if(cr[ar(416)]==="Backspace")this[ar(349)]("backspace");else if(cr.key==ar(376))this.process_input("enter");else if(cr.key===ar(393))this.process_input(ar(350));else if(cr[ar(416)]==="ArrowDown"){if(Vr(this,So)){let or=s$1(ar(386));or[ar(449)]+=or[ar(436)]}else if(Vr(this,oa)!=-1){let or=s$1(ar(386))[ar(379)];Vr(this,oa)<or[ar(391)]-1?lc(this,oa)._++:Vr(this,oa)==or[ar(391)]-1&&Oi(this,oa,0)}else if(!this.is_command_selectable){let or=s$1(ar(386));or[ar(449)]+=or[ar(436)]}}else if(cr[ar(416)]===ar(418)){if(Vr(this,So)){let or=s$1("#cors_results");or.scrollTop-=or[ar(436)]}else if(Vr(this,oa)!=-1){let or=s$1(ar(386))[ar(379)];Vr(this,oa)>0?lc(this,oa)._--:Vr(this,oa)==0&&Oi(this,oa,or[ar(391)]-1)}else if(!this[ar(417)]){let or=s$1(ar(386));or.scrollTop-=or[ar(436)]}}this[ar(428)]()}},Dc=new WeakSet,ff=function(cr){const ar=_0x4d18fa;cr[ar(346)][ar(351)](ar(406)),cr[ar(398)],cr[ar(346)].add(ar(406))},Rc=new WeakSet,df=function(){this[_0x4d18fa(404)]()},k0=new WeakSet,Du=function(){const cr=_0x4d18fa;s$1(cr(432))[cr(382)][cr(368)]=cr(413),s$1("#cors_query_prefix")[cr(402)]=""},Fc=new WeakSet,hf=function(cr){const ar=_0x4d18fa;s$1("#cors_query_prefix")[ar(382)][ar(368)]="inline",s$1(ar(432))[ar(402)]=cr+" "},Pc=new WeakSet,xf=function(cr,ar){const or=_0x4d18fa,ur=cr.getBoundingClientRect(),fr=ar[or(370)]();return ur[or(383)]>=fr[or(383)]&&ur.left>=fr[or(400)]&&ur.bottom<=fr.bottom&&ur[or(388)]<=fr[or(388)]},Bc=new WeakSet,pf=function(cr){const ar=_0x4d18fa;if(cr!=null){var or=new MouseEvent(ar(362),{bubbles:!![],cancelable:!![],view:window});cr[ar(429)](or)}},yi(Qa,eo,document[_0x4d18fa(347)]("cors_query"));let CLI=Qa;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function __values$1(lr){var cr=typeof Symbol=="function"&&Symbol.iterator,ar=cr&&lr[cr],or=0;if(ar)return ar.call(lr);if(lr&&typeof lr.length=="number")return{next:function(){return lr&&or>=lr.length&&(lr=void 0),{value:lr&&lr[or++],done:!lr}}};throw new TypeError(cr?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read$1(lr,cr){var ar=typeof Symbol=="function"&&lr[Symbol.iterator];if(!ar)return lr;var or=ar.call(lr),ur,fr=[],xr;try{for(;(cr===void 0||cr-- >0)&&!(ur=or.next()).done;)fr.push(ur.value)}catch(pr){xr={error:pr}}finally{try{ur&&!ur.done&&(ar=or.return)&&ar.call(or)}finally{if(xr)throw xr.error}}return fr}function __spread$1(){for(var lr=[],cr=0;cr<arguments.length;cr++)lr=lr.concat(__read$1(arguments[cr]));return lr}var isUndefined=function(lr){return typeof lr>"u"},ComponentEvent=function(){function lr(ar,or){var ur,fr;if(this._canceled=!1,or)try{for(var xr=__values$1(Object.keys(or)),pr=xr.next();!pr.done;pr=xr.next()){var br=pr.value;this[br]=or[br]}}catch(gr){ur={error:gr}}finally{try{pr&&!pr.done&&(fr=xr.return)&&fr.call(xr)}finally{if(ur)throw ur.error}}this.eventType=ar}var cr=lr.prototype;return cr.stop=function(){this._canceled=!0},cr.isCanceled=function(){return this._canceled},lr}(),Component=function(){function lr(){this._eventHandler={}}var cr=lr.prototype;return cr.trigger=function(ar){for(var or=[],ur=1;ur<arguments.length;ur++)or[ur-1]=arguments[ur];var fr=ar instanceof ComponentEvent?ar.eventType:ar,xr=__spread$1(this._eventHandler[fr]||[]);return xr.length<=0?this:(ar instanceof ComponentEvent?(ar.currentTarget=this,xr.forEach(function(pr){pr(ar)})):xr.forEach(function(pr){pr.apply(void 0,__spread$1(or))}),this)},cr.once=function(ar,or){var ur=this;if(typeof ar=="object"&&isUndefined(or)){var fr=ar;for(var xr in fr)this.once(xr,fr[xr]);return this}else if(typeof ar=="string"&&typeof or=="function"){var pr=function(){for(var br=[],gr=0;gr<arguments.length;gr++)br[gr]=arguments[gr];or.apply(void 0,__spread$1(br)),ur.off(ar,pr)};this.on(ar,pr)}return this},cr.hasOn=function(ar){return!!this._eventHandler[ar]},cr.on=function(ar,or){if(typeof ar=="object"&&isUndefined(or)){var ur=ar;for(var fr in ur)this.on(fr,ur[fr]);return this}else if(typeof ar=="string"&&typeof or=="function"){var xr=this._eventHandler[ar];isUndefined(xr)&&(this._eventHandler[ar]=[],xr=this._eventHandler[ar]),xr.push(or)}return this},cr.off=function(ar,or){if(isUndefined(ar))return this._eventHandler={},this;if(isUndefined(or)){if(typeof ar=="string")return delete this._eventHandler[ar],this;var ur=ar;for(var fr in ur)this.off(fr,ur[fr]);return this}var xr=this._eventHandler[ar];if(xr){for(var pr=xr.length,br=0;br<pr;++br)if(xr[br]===or){xr.splice(br,1),pr<=1&&delete this._eventHandler[ar];break}}return this},lr.VERSION="3.0.5",lr}(),ComponentEvent$1=ComponentEvent;function some(lr,cr){for(var ar=lr.length,or=0;or<ar;++or)if(cr(lr[or],or))return!0;return!1}function find$1(lr,cr){for(var ar=lr.length,or=0;or<ar;++or)if(cr(lr[or],or))return lr[or];return null}function getUserAgentString(lr){var cr=lr;if(typeof cr>"u"){if(typeof navigator>"u"||!navigator)return"";cr=navigator.userAgent||""}return cr.toLowerCase()}function execRegExp(lr,cr){try{return new RegExp(lr,"g").exec(cr)}catch{return null}}function hasUserAgentData(){if(typeof navigator>"u"||!navigator||!navigator.userAgentData)return!1;var lr=navigator.userAgentData,cr=lr.brands||lr.uaList;return!!(cr&&cr.length)}function findVersion(lr,cr){var ar=execRegExp("("+lr+")((?:\\/|\\s|:)([0-9|\\.|_]+))",cr);return ar?ar[3]:""}function convertVersion(lr){return lr.replace(/_/g,".")}function findPreset(lr,cr){var ar=null,or="-1";return some(lr,function(ur){var fr=execRegExp("("+ur.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",cr);return!fr||ur.brand?!1:(ar=ur,or=fr[3]||"-1",ur.versionAlias?or=ur.versionAlias:ur.versionTest&&(or=findVersion(ur.versionTest.toLowerCase(),cr)||or),or=convertVersion(or),!0)}),{preset:ar,version:or}}function findPresetBrand(lr,cr){var ar={brand:"",version:"-1"};return some(lr,function(or){var ur=findBrand(cr,or);return ur?(ar.brand=or.id,ar.version=or.versionAlias||ur.version,ar.version!=="-1"):!1}),ar}function findBrand(lr,cr){return find$1(lr,function(ar){var or=ar.brand;return execRegExp(""+cr.test,or.toLowerCase())})}var BROWSER_PRESETS=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],CHROMIUM_PRESETS=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],WEBKIT_PRESETS=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],WEBVIEW_PRESETS=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],OS_PRESETS=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function isWebView(lr){return!!findPreset(WEBVIEW_PRESETS,lr).preset}function getLegacyAgent(lr){var cr=getUserAgentString(lr),ar=!!/mobi/g.exec(cr),or={name:"unknown",version:"-1",majorVersion:-1,webview:isWebView(cr),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},ur={name:"unknown",version:"-1",majorVersion:-1},fr=findPreset(BROWSER_PRESETS,cr),xr=fr.preset,pr=fr.version,br=findPreset(OS_PRESETS,cr),gr=br.preset,mr=br.version,_r=findPreset(CHROMIUM_PRESETS,cr);if(or.chromium=!!_r.preset,or.chromiumVersion=_r.version,!or.chromium){var Sr=findPreset(WEBKIT_PRESETS,cr);or.webkit=!!Sr.preset,or.webkitVersion=Sr.version}return gr&&(ur.name=gr.id,ur.version=mr,ur.majorVersion=parseInt(mr,10)),xr&&(or.name=xr.id,or.version=pr,or.webview&&ur.name==="ios"&&or.name!=="safari"&&(or.webview=!1)),or.majorVersion=parseInt(or.version,10),{browser:or,os:ur,isMobile:ar,isHints:!1}}function getClientHintsAgent(lr){var cr=navigator.userAgentData,ar=(cr.uaList||cr.brands).slice(),or=lr&&lr.fullVersionList,ur=cr.mobile||!1,fr=ar[0],xr=(lr&&lr.platform||cr.platform||navigator.platform).toLowerCase(),pr={name:fr.brand,version:fr.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!findPresetBrand(WEBVIEW_PRESETS,ar).brand||isWebView(getUserAgentString())},br={name:"unknown",version:"-1",majorVersion:-1};pr.webkit=!pr.chromium&&some(WEBKIT_PRESETS,function(Cr){return findBrand(ar,Cr)});var gr=findPresetBrand(CHROMIUM_PRESETS,ar);if(pr.chromium=!!gr.brand,pr.chromiumVersion=gr.version,!pr.chromium){var mr=findPresetBrand(WEBKIT_PRESETS,ar);pr.webkit=!!mr.brand,pr.webkitVersion=mr.version}var _r=find$1(OS_PRESETS,function(Cr){return new RegExp(""+Cr.test,"g").exec(xr)});if(br.name=_r?_r.id:"",lr&&(br.version=lr.platformVersion),or&&or.length){var Sr=findPresetBrand(BROWSER_PRESETS,or);pr.name=Sr.brand||pr.name,pr.version=Sr.version||pr.version}else{var yr=findPresetBrand(BROWSER_PRESETS,ar);pr.name=yr.brand||pr.name,pr.version=yr.brand&&lr?lr.uaFullVersion:yr.version}return pr.webkit&&(br.name=ur?"ios":"mac"),br.name==="ios"&&pr.webview&&(pr.version="-1"),br.version=convertVersion(br.version),pr.version=convertVersion(pr.version),br.majorVersion=parseInt(br.version,10),pr.majorVersion=parseInt(pr.version,10),{browser:pr,os:br,isMobile:ur,isHints:!0}}function agent(lr){return typeof lr>"u"&&hasUserAgentData()?getClientHintsAgent():getLegacyAgent(lr)}function keys(lr){return Object.keys(lr)}var OBSERVERS_PATH="__observers__",COMPUTED_PATH="__computed__",CFCS_DETECTED_DEPENDENCIES_VERSION=1,CFCS_DETECTED_DEPENDENCIES="__CFCS_DETECTED_DEPENDENCIES__",extendStatics$3=function(lr,cr){return extendStatics$3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ar,or){ar.__proto__=or}||function(ar,or){for(var ur in or)Object.prototype.hasOwnProperty.call(or,ur)&&(ar[ur]=or[ur])},extendStatics$3(lr,cr)};function __extends$3(lr,cr){if(typeof cr!="function"&&cr!==null)throw new TypeError("Class extends value "+String(cr)+" is not a constructor or null");extendStatics$3(lr,cr);function ar(){this.constructor=lr}lr.prototype=cr===null?Object.create(cr):(ar.prototype=cr.prototype,new ar)}function getDetectedStack(){Object[CFCS_DETECTED_DEPENDENCIES]=Object[CFCS_DETECTED_DEPENDENCIES]||{};var lr=Object[CFCS_DETECTED_DEPENDENCIES];return lr[CFCS_DETECTED_DEPENDENCIES_VERSION]=lr[CFCS_DETECTED_DEPENDENCIES_VERSION]||[],lr[CFCS_DETECTED_DEPENDENCIES_VERSION]}function getCurrentDetected(){var lr=getDetectedStack();return lr[lr.length-1]}function detectDependencies(lr){var cr=getDetectedStack(),ar=[],or={host:lr,observers:ar,push:function(ur){lr!==ur&&ar.indexOf(ur)===-1&&ar.push(ur)}};return cr.push(or),or}function endDetectDependencies(){var lr=getDetectedStack();return lr.pop()}var Observer=function(){function lr(ar){this._emitter=new Component,this._current=ar}var cr=lr.prototype;return Object.defineProperty(cr,"current",{get:function(){var ar=getCurrentDetected();return ar==null||ar.push(this),this._current},set:function(ar){this._setCurrent(ar)},enumerable:!1,configurable:!0}),cr.subscribe=function(ar){return this.current,this._emitter.on("update",ar),this},cr.unsubscribe=function(ar){return this._emitter.off("update",ar),this},cr._setCurrent=function(ar){var or=this._current,ur=ar!==or;this._current=ar,ur&&this._emitter.trigger("update",ar,or)},cr.toString=function(){return"".concat(this.current)},cr.valueOf=function(){return this.current},lr}(),ComputedObserver=function(lr){__extends$3(cr,lr);function cr(or){var ur=lr.call(this)||this;return ur._computedCallback=or,ur._registered=[],ur._onCheckUpdate=function(){ur._setCurrent(ur.current)},ur._current=ur.current,ur}var ar=cr.prototype;return Object.defineProperty(ar,"current",{get:function(){var or=this;detectDependencies(this);var ur=this._computedCallback(),fr=endDetectDependencies();return this._registered.forEach(function(xr){xr.unsubscribe(or._onCheckUpdate)}),fr.observers.forEach(function(xr){xr.subscribe(or._onCheckUpdate)}),this._registered=fr.observers,ur},enumerable:!1,configurable:!0}),cr}(Observer);function injectObserve(lr,cr,ar){ar===void 0&&(ar=cr);var or={configurable:!0,get:function(){return getObserver(this,ar).current},set:function(ur){getObserver(this,ar,ur).current=ur}};Object.defineProperty(lr,cr,or),ar!==cr&&Object.defineProperty(lr,ar,{configurable:!0,get:function(){return getObserver(this,ar).current}})}function Observe(){for(var lr=[],cr=0;cr<arguments.length;cr++)lr[cr]=arguments[cr];return lr.length>1?injectObserve(lr[0],lr[1]):function(ar,or){return injectObserve(ar,or,lr[0])}}function injectReactiveSubscribe(lr){lr.subscribe=function(cr,ar){this[cr],getObserver(this,cr).subscribe(ar)},lr.unsubscribe=function(cr,ar){var or=this;if(!cr){keys(getObservers(this)).forEach(function(ur){or.unsubscribe(ur)});return}cr in this&&getObserver(this,cr).unsubscribe(ar)}}function ReactiveSubscribe(lr){var cr=lr.prototype;injectReactiveSubscribe(cr)}function observe(lr){return new Observer(lr)}function computed(lr){return new ComputedObserver(lr)}function defineObservers(lr){var cr={};return Object.defineProperty(lr,OBSERVERS_PATH,{get:function(){return cr}}),cr}function getObservers(lr,cr){var ar,or;lr[OBSERVERS_PATH]||defineObservers(lr);var ur=lr[OBSERVERS_PATH];if(!cr){var fr=(or=(ar=lr==null?void 0:lr.constructor)===null||ar===void 0?void 0:ar.prototype)===null||or===void 0?void 0:or[COMPUTED_PATH];fr&&fr.forEach(function(xr){!(xr in ur)&&xr in lr&&lr[xr]})}return ur}function getObserver(lr,cr,ar){var or=getObservers(lr);return or[cr]||(or[cr]=observe(ar)),or[cr]}function Computed(lr,cr,ar){var or=ar.get;function ur(){var pr=getObservers(this,!0);return cr in pr||(pr[cr]=computed(or.bind(this))),getObserver(this,cr).current}var fr={configurable:!0,get:ur};lr[COMPUTED_PATH]||(lr[COMPUTED_PATH]=[]);var xr=lr[COMPUTED_PATH];return xr.indexOf(cr)===-1&&xr.push(cr),Object.defineProperty(lr,cr,fr),fr}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$2=function(lr,cr){return extendStatics$2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ar,or){ar.__proto__=or}||function(ar,or){for(var ur in or)or.hasOwnProperty(ur)&&(ar[ur]=or[ur])},extendStatics$2(lr,cr)};function __extends$2(lr,cr){extendStatics$2(lr,cr);function ar(){this.constructor=lr}lr.prototype=cr===null?Object.create(cr):(ar.prototype=cr.prototype,new ar)}var __assign$2=function(){return __assign$2=Object.assign||function(cr){for(var ar,or=1,ur=arguments.length;or<ur;or++){ar=arguments[or];for(var fr in ar)Object.prototype.hasOwnProperty.call(ar,fr)&&(cr[fr]=ar[fr])}return cr},__assign$2.apply(this,arguments)};function __decorate(lr,cr,ar,or){var ur=arguments.length,fr=ur<3?cr:or===null?or=Object.getOwnPropertyDescriptor(cr,ar):or,xr;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")fr=Reflect.decorate(lr,cr,ar,or);else for(var pr=lr.length-1;pr>=0;pr--)(xr=lr[pr])&&(fr=(ur<3?xr(fr):ur>3?xr(cr,ar,fr):xr(cr,ar))||fr);return ur>3&&fr&&Object.defineProperty(cr,ar,fr),fr}var win;typeof window>"u"?win={navigator:{userAgent:""}}:win=window;var DIRECTION_NONE=1,DIRECTION_LEFT=2,DIRECTION_RIGHT=4,DIRECTION_HORIZONTAL=6,DIRECTION_UP=8,DIRECTION_DOWN=16,DIRECTION_VERTICAL=24,DIRECTION_ALL=30,MOUSE_LEFT="left",MOUSE_RIGHT="right",MOUSE_MIDDLE="middle",MOUSE_BUTTON_CODE_MAP={1:MOUSE_LEFT,2:MOUSE_MIDDLE,3:MOUSE_RIGHT},ANY="any",NONE="none",SHIFT="shift",CTRL="ctrl",ALT="alt",META="meta",VELOCITY_INTERVAL=16,IOS_EDGE_THRESHOLD=30,IS_IOS_SAFARI="ontouchstart"in win&&agent().browser.name==="safari",TRANSFORM=function(){if(typeof document>"u")return"";for(var lr=(document.head||document.getElementsByTagName("head")[0]).style,cr=["transform","webkitTransform","msTransform","mozTransform"],ar=0,or=cr.length;ar<or;ar++)if(cr[ar]in lr)return cr[ar];return""}(),PREVENT_DRAG_CSSPROPS={"-webkit-user-select":"none","-ms-user-select":"none","-moz-user-select":"none","user-select":"none","-webkit-user-drag":"none"},toArray$2=function(lr){for(var cr=[],ar=0,or=lr.length;ar<or;ar++)cr.push(lr[ar]);return cr},$=function(lr,cr){cr===void 0&&(cr=!1);var ar;if(typeof lr=="string"){var or=lr.match(/^<([a-z]+)\s*([^>]*)>/);if(or){var ur=document.createElement("div");ur.innerHTML=lr,ar=toArray$2(ur.childNodes)}else ar=toArray$2(document.querySelectorAll(lr));cr||(ar=ar.length>=1?ar[0]:void 0)}else lr===win?ar=lr:"value"in lr||"current"in lr?ar=lr.value||lr.current:lr.nodeName&&(lr.nodeType===1||lr.nodeType===9)?ar=lr:"jQuery"in win&&lr instanceof jQuery||lr.constructor.prototype.jquery?ar=cr?lr.toArray():lr.get(0):Array.isArray(lr)&&(ar=lr.map(function(fr){return $(fr)}),cr||(ar=ar.length>=1?ar[0]:void 0));return ar},raf=win.requestAnimationFrame||win.webkitRequestAnimationFrame,caf=win.cancelAnimationFrame||win.webkitCancelAnimationFrame;if(raf&&!caf){var keyInfo_1={},oldraf_1=raf;raf=function(lr){var cr=function(or){keyInfo_1[ar]&&lr(or)},ar=oldraf_1(cr);return keyInfo_1[ar]=!0,ar},caf=function(lr){delete keyInfo_1[lr]}}else raf&&caf||(raf=function(lr){return win.setTimeout(function(){lr(win.performance&&win.performance.now&&win.performance.now()||new Date().getTime())},16)},caf=win.clearTimeout);var requestAnimationFrame=function(lr){return raf(lr)},cancelAnimationFrame=function(lr){caf(lr)},map=function(lr,cr){var ar={};for(var or in lr)or&&(ar[or]=cr(lr[or],or));return ar},filter=function(lr,cr){var ar={};for(var or in lr)or&&cr(lr[or],or)&&(ar[or]=lr[or]);return ar},every=function(lr,cr){for(var ar in lr)if(ar&&!cr(lr[ar],ar))return!1;return!0},equal=function(lr,cr){return every(lr,function(ar,or){return ar===cr[or]})},roundNumFunc={},roundNumber=function(lr,cr){return roundNumFunc[cr]||(roundNumFunc[cr]=getRoundFunc(cr)),roundNumFunc[cr](lr)},roundNumbers=function(lr,cr){return!lr||!cr?lr:map(lr,function(ar,or){return roundNumber(ar,typeof cr=="number"?cr:cr[or])})},getDecimalPlace=function(lr){if(!isFinite(lr))return 0;var cr="".concat(lr);if(cr.indexOf("e")>=0){for(var ar=0,or=1;Math.round(lr*or)/or!==lr;)or*=10,ar++;return ar}return cr.indexOf(".")>=0?cr.length-cr.indexOf(".")-1:0},inversePow=function(lr){return 1/Math.pow(10,lr)},getRoundFunc=function(lr){var cr=lr<1?Math.pow(10,getDecimalPlace(lr)):1;return function(ar){return lr===0?0:Math.round(Math.round(ar/lr)*lr*cr)/cr}},getAngle=function(lr,cr){return Math.atan2(cr,lr)*180/Math.PI},isCssPropsFromAxes=function(lr){var cr=!0;return Object.keys(PREVENT_DRAG_CSSPROPS).forEach(function(ar){(!lr||lr[ar]!==PREVENT_DRAG_CSSPROPS[ar])&&(cr=!1)}),cr},getDirection$1=function(lr,cr){return lr&&cr?DIRECTION_ALL:lr?DIRECTION_HORIZONTAL:cr?DIRECTION_VERTICAL:DIRECTION_NONE},useDirection=function(lr,cr,ar){return ar?!!(cr===DIRECTION_ALL||cr&lr&&ar&lr):!!(cr&lr)},setCssProps=function(lr,cr,ar){var or,ur=(or={},or[DIRECTION_NONE]="auto",or[DIRECTION_ALL]="none",or[DIRECTION_VERTICAL]="pan-x",or[DIRECTION_HORIZONTAL]="pan-y",or),fr={};if(lr&&lr.style){var xr=cr.touchAction?cr.touchAction:ur[ar],pr=__assign$2(__assign$2({},PREVENT_DRAG_CSSPROPS),{"touch-action":lr.style["touch-action"]==="none"?"none":xr});Object.keys(pr).forEach(function(br){fr[br]=lr.style[br]}),Object.keys(pr).forEach(function(br){lr.style[br]=pr[br]})}return fr},revertCssProps=function(lr,cr){lr&&lr.style&&cr&&Object.keys(cr).forEach(function(ar){lr.style[ar]=cr[ar]})},EventManager=function(){function lr(ar){this._axes=ar,this.holdingCount=0}var cr=lr.prototype;return cr.hold=function(ar,or){var ur=this._getRoundPos(ar).roundPos;this._axes.trigger(new ComponentEvent$1("hold",{pos:ur,input:or.input||null,inputEvent:or.event||null,isTrusted:!0}))},cr.triggerRelease=function(ar){var or=this._getRoundPos(ar.destPos,ar.depaPos),ur=or.roundPos,fr=or.roundDepa;ar.destPos=ur,ar.depaPos=fr,ar.setTo=this._createUserControll(ar.destPos,ar.duration),this._axes.trigger(new ComponentEvent$1("release",__assign$2(__assign$2({},ar),{bounceRatio:this._getBounceRatio(ur)})))},cr.triggerChange=function(ar,or,ur,fr){var xr=this;fr===void 0&&(fr=!1);var pr=this.animationManager,br=pr.axisManager,gr=pr.getEventInfo(),mr=this._getRoundPos(ar,or),_r=mr.roundPos,Sr=mr.roundDepa,yr=br.moveTo(_r,Sr),Cr=(ur==null?void 0:ur.event)||(gr==null?void 0:gr.event)||null,Ar={pos:yr.pos,delta:yr.delta,bounceRatio:this._getBounceRatio(yr.pos),holding:fr,inputEvent:Cr,isTrusted:!!Cr,input:(ur==null?void 0:ur.input)||(gr==null?void 0:gr.input)||null,set:Cr?this._createUserControll(yr.pos):function(){}},kr=new ComponentEvent$1("change",Ar);return this._axes.trigger(kr),Object.keys(yr.pos).forEach(function(Or){var Dr=yr.pos[Or];getObserver(xr._axes,Or,Dr).current=Dr}),Cr&&br.set(Ar.set().destPos),!kr.isCanceled()},cr.triggerAnimationStart=function(ar){var or=this._getRoundPos(ar.destPos,ar.depaPos),ur=or.roundPos,fr=or.roundDepa;ar.destPos=ur,ar.depaPos=fr,ar.setTo=this._createUserControll(ar.destPos,ar.duration);var xr=new ComponentEvent$1("animationStart",ar);return this._axes.trigger(xr),!xr.isCanceled()},cr.triggerAnimationEnd=function(ar){ar===void 0&&(ar=!1),this._axes.trigger(new ComponentEvent$1("animationEnd",{isTrusted:ar}))},cr.triggerFinish=function(ar){ar===void 0&&(ar=!1),this._axes.trigger(new ComponentEvent$1("finish",{isTrusted:ar}))},cr.setAnimationManager=function(ar){this.animationManager=ar},cr.destroy=function(){this._axes.off()},cr._createUserControll=function(ar,or){or===void 0&&(or=0);var ur={destPos:__assign$2({},ar),duration:or};return function(fr,xr){return fr&&(ur.destPos=__assign$2({},fr)),xr!==void 0&&(ur.duration=xr),ur}},cr._getRoundPos=function(ar,or){var ur=this._axes.options.round;return{roundPos:roundNumbers(ar,ur),roundDepa:roundNumbers(or,ur)}},cr._getBounceRatio=function(ar){return this._axes.axisManager.map(ar,function(or,ur){return or<ur.range[0]&&ur.bounce[0]!==0?(ur.range[0]-or)/ur.bounce[0]:or>ur.range[1]&&ur.bounce[1]!==0?(or-ur.range[1])/ur.bounce[1]:0})},__decorate([Observe],lr.prototype,"holdingCount",void 0),lr}(),InterruptManager=function(){function lr(ar){this._options=ar,this._prevented=!1}var cr=lr.prototype;return cr.isInterrupting=function(){return this._options.interruptable||this._prevented},cr.isInterrupted=function(){return!this._options.interruptable&&this._prevented},cr.setInterrupt=function(ar){this._options.interruptable||(this._prevented=ar)},lr}(),getInsidePosition=function(lr,cr,ar,or){var ur=lr,fr=[ar[0]?cr[0]:or?cr[0]-or[0]:cr[0],ar[1]?cr[1]:or?cr[1]+or[1]:cr[1]];return ur=Math.max(fr[0],ur),ur=Math.min(fr[1],ur),ur},isOutside=function(lr,cr){return lr<cr[0]||lr>cr[1]},isEndofBounce=function(lr,cr,ar,or){return!or[0]&&lr===cr[0]-ar[0]||!or[1]&&lr===cr[1]+ar[1]},getDuration=function(lr,cr){var ar=Math.sqrt(lr/cr*2);return ar<100?0:ar},isCircularable=function(lr,cr,ar){return ar[1]&&lr>cr[1]||ar[0]&&lr<cr[0]},getCirculatedPos=function(lr,cr,ar){var or=lr,ur=cr[0],fr=cr[1],xr=fr-ur;return ar[1]&&lr>fr&&(or=(or-fr)%xr+ur),ar[0]&&lr<ur&&(or=(or-ur)%xr+fr),or},AxisManager=function(){function lr(ar){var or=this;this._axis=ar,this._complementOptions(),this._pos=Object.keys(this._axis).reduce(function(ur,fr){return ur[fr]=or._axis[fr].startPos,ur},{})}var cr=lr.prototype;return cr.getDelta=function(ar,or){var ur=this.get(ar);return map(this.get(or),function(fr,xr){return fr-ur[xr]})},cr.get=function(ar){var or=this;return ar&&Array.isArray(ar)?ar.reduce(function(ur,fr){return fr&&fr in or._pos&&(ur[fr]=or._pos[fr]),ur},{}):__assign$2(__assign$2({},this._pos),ar||{})},cr.moveTo=function(ar,or){or===void 0&&(or=this._pos);var ur=map(this._pos,function(fr,xr){return xr in ar&&xr in or?ar[xr]-or[xr]:0});return this.set(this.map(ar,function(fr,xr){return xr?getCirculatedPos(fr,xr.range,xr.circular):0})),{pos:__assign$2({},this._pos),delta:ur}},cr.set=function(ar){for(var or in ar)or&&or in this._pos&&(this._pos[or]=ar[or])},cr.every=function(ar,or){var ur=this._axis;return every(ar,function(fr,xr){return or(fr,ur[xr],xr)})},cr.filter=function(ar,or){var ur=this._axis;return filter(ar,function(fr,xr){return or(fr,ur[xr],xr)})},cr.map=function(ar,or){var ur=this._axis;return map(ar,function(fr,xr){return or(fr,ur[xr],xr)})},cr.isOutside=function(ar){return!this.every(ar?this.get(ar):this._pos,function(or,ur){return!isOutside(or,ur.range)})},cr.getAxisOptions=function(ar){return this._axis[ar]},cr.setAxis=function(ar){var or=this;Object.keys(ar).forEach(function(ur){if(!or._axis[ur])throw new Error("Axis ".concat(ur," does not exist in Axes instance"));or._axis[ur]=__assign$2(__assign$2({},or._axis[ur]),ar[ur])}),this._complementOptions()},cr._complementOptions=function(){var ar=this;Object.keys(this._axis).forEach(function(or){ar._axis[or]=__assign$2({range:[0,100],startPos:ar._axis[or].range[0],bounce:[0,0],circular:[!1,!1]},ar._axis[or]),["bounce","circular"].forEach(function(ur){var fr=ar._axis,xr=fr[or][ur];/string|number|boolean/.test(typeof xr)&&(fr[or][ur]=[xr,xr])})})},lr}(),SUPPORT_TOUCH="ontouchstart"in win,SUPPORT_POINTER="PointerEvent"in win,SUPPORT_MSPOINTER="MSPointerEvent"in win,SUPPORT_POINTER_EVENTS=SUPPORT_POINTER||SUPPORT_MSPOINTER,isValidKey=function(lr,cr){return!!(!cr||cr.indexOf(ANY)>-1||cr.indexOf(NONE)>-1&&!lr.shiftKey&&!lr.ctrlKey&&!lr.altKey&&!lr.metaKey||cr.indexOf(SHIFT)>-1&&lr.shiftKey||cr.indexOf(CTRL)>-1&&lr.ctrlKey||cr.indexOf(ALT)>-1&&lr.altKey||cr.indexOf(META)>-1&&lr.metaKey)},EventInput=function(){function lr(){var ar=this;this._stopContextMenu=function(or){or.preventDefault(),win.removeEventListener("contextmenu",ar._stopContextMenu)}}var cr=lr.prototype;return cr.extendEvent=function(ar){var or,ur=this.prevEvent,fr=this._getCenter(ar),xr=ur?this._getMovement(ar):{x:0,y:0},pr=ur?this._getScale(ar):1,br=ur?getAngle(fr.x-ur.center.x,fr.y-ur.center.y):0,gr=ur?ur.deltaX+xr.x:xr.x,mr=ur?ur.deltaY+xr.y:xr.y,_r=xr.x,Sr=xr.y,yr=this._latestInterval,Cr=Date.now(),Ar=yr?Cr-yr.timestamp:0,kr=ur?ur.velocityX:0,Or=ur?ur.velocityY:0;return(!yr||Ar>=VELOCITY_INTERVAL)&&(yr&&(or=[(gr-yr.deltaX)/Ar,(mr-yr.deltaY)/Ar],kr=or[0],Or=or[1]),this._latestInterval={timestamp:Cr,deltaX:gr,deltaY:mr}),{srcEvent:ar,scale:pr,angle:br,center:fr,deltaX:gr,deltaY:mr,offsetX:_r,offsetY:Sr,velocityX:kr,velocityY:Or,preventSystemEvent:!0}},cr._getDistance=function(ar,or){var ur=or.clientX-ar.clientX,fr=or.clientY-ar.clientY;return Math.sqrt(ur*ur+fr*fr)},cr._getButton=function(ar){var or={1:MOUSE_LEFT,2:MOUSE_RIGHT,4:MOUSE_MIDDLE},ur=this._isTouchEvent(ar)?MOUSE_LEFT:or[ar.buttons];return ur||null},cr._isTouchEvent=function(ar){return ar.type&&ar.type.indexOf("touch")>-1},cr._isValidButton=function(ar,or){return or.indexOf(ar)>-1},cr._isValidEvent=function(ar,or,ur){return(!or||isValidKey(ar,or))&&(!ur||this._isValidButton(this._getButton(ar),ur))},cr._preventMouseButton=function(ar,or){or===MOUSE_RIGHT?win.addEventListener("contextmenu",this._stopContextMenu):or===MOUSE_MIDDLE&&ar.preventDefault()},lr}(),MouseEventInput=function(lr){__extends$2(cr,lr);function cr(){var or=lr!==null&&lr.apply(this,arguments)||this;return or.start=["mousedown"],or.move=["mousemove"],or.end=["mouseup"],or}var ar=cr.prototype;return ar.onEventStart=function(or,ur,fr){var xr=this._getButton(or);return this._isValidEvent(or,ur,fr)?(this._preventMouseButton(or,xr),this.extendEvent(or)):null},ar.onEventMove=function(or,ur,fr){return this._isValidEvent(or,ur,fr)?this.extendEvent(or):null},ar.onEventEnd=function(){},ar.onRelease=function(){this.prevEvent=null},ar.getTouches=function(or,ur){return ur&&this._isValidButton(MOUSE_BUTTON_CODE_MAP[or.which],ur)&&this.end.indexOf(or.type)===-1?1:0},ar._getScale=function(){return 1},ar._getCenter=function(or){return{x:or.clientX,y:or.clientY}},ar._getMovement=function(or){var ur=this.prevEvent.srcEvent;return{x:or.clientX-ur.clientX,y:or.clientY-ur.clientY}},cr}(EventInput),TouchEventInput=function(lr){__extends$2(cr,lr);function cr(){var or=lr!==null&&lr.apply(this,arguments)||this;return or.start=["touchstart"],or.move=["touchmove"],or.end=["touchend","touchcancel"],or}var ar=cr.prototype;return ar.onEventStart=function(or,ur){return this._baseTouches=or.touches,this._isValidEvent(or,ur)?this.extendEvent(or):null},ar.onEventMove=function(or,ur){return this._isValidEvent(or,ur)?this.extendEvent(or):null},ar.onEventEnd=function(or){this._baseTouches=or.touches},ar.onRelease=function(){this.prevEvent=null,this._baseTouches=null},ar.getTouches=function(or){return or.touches.length},ar._getScale=function(or){return or.touches.length!==2||this._baseTouches.length<2?null:this._getDistance(or.touches[0],or.touches[1])/this._getDistance(this._baseTouches[0],this._baseTouches[1])},ar._getCenter=function(or){return{x:or.touches[0].clientX,y:or.touches[0].clientY}},ar._getMovement=function(or){var ur=this.prevEvent.srcEvent;return or.touches[0].identifier!==ur.touches[0].identifier?{x:0,y:0}:{x:or.touches[0].clientX-ur.touches[0].clientX,y:or.touches[0].clientY-ur.touches[0].clientY}},cr}(EventInput),PointerEventInput=function(lr){__extends$2(cr,lr);function cr(){var or=lr!==null&&lr.apply(this,arguments)||this;return or.start=SUPPORT_POINTER?["pointerdown"]:["MSPointerDown"],or.move=SUPPORT_POINTER?["pointermove"]:["MSPointerMove"],or.end=SUPPORT_POINTER?["pointerup","pointercancel"]:["MSPointerUp","MSPointerCancel"],or._firstInputs=[],or._recentInputs=[],or}var ar=cr.prototype;return ar.onEventStart=function(or,ur,fr){var xr=this._getButton(or);return this._isValidEvent(or,ur,fr)?(this._preventMouseButton(or,xr),this._updatePointerEvent(or),this.extendEvent(or)):null},ar.onEventMove=function(or,ur,fr){return this._isValidEvent(or,ur,fr)?(this._updatePointerEvent(or),this.extendEvent(or)):null},ar.onEventEnd=function(or){this._removePointerEvent(or)},ar.onRelease=function(){this.prevEvent=null,this._firstInputs=[],this._recentInputs=[]},ar.getTouches=function(){return this._recentInputs.length},ar._getScale=function(){return this._recentInputs.length!==2?null:this._getDistance(this._recentInputs[0],this._recentInputs[1])/this._getDistance(this._firstInputs[0],this._firstInputs[1])},ar._getCenter=function(or){return{x:or.clientX,y:or.clientY}},ar._getMovement=function(or){var ur=this.prevEvent.srcEvent;return or.pointerId!==ur.pointerId?{x:0,y:0}:{x:or.clientX-ur.clientX,y:or.clientY-ur.clientY}},ar._updatePointerEvent=function(or){var ur=this,fr=!1;this._recentInputs.forEach(function(xr,pr){xr.pointerId===or.pointerId&&(fr=!0,ur._recentInputs[pr]=or)}),fr||(this._firstInputs.push(or),this._recentInputs.push(or))},ar._removePointerEvent=function(or){this._firstInputs=this._firstInputs.filter(function(ur){return ur.pointerId!==or.pointerId}),this._recentInputs=this._recentInputs.filter(function(ur){return ur.pointerId!==or.pointerId})},cr}(EventInput),TouchMouseEventInput=function(lr){__extends$2(cr,lr);function cr(){var or=lr!==null&&lr.apply(this,arguments)||this;return or.start=["mousedown","touchstart"],or.move=["mousemove","touchmove"],or.end=["mouseup","touchend","touchcancel"],or}var ar=cr.prototype;return ar.onEventStart=function(or,ur,fr){var xr=this._getButton(or);return this._isTouchEvent(or)&&(this._baseTouches=or.touches),this._isValidEvent(or,ur,fr)?(this._preventMouseButton(or,xr),this.extendEvent(or)):null},ar.onEventMove=function(or,ur,fr){return this._isValidEvent(or,ur,fr)?this.extendEvent(or):null},ar.onEventEnd=function(or){this._isTouchEvent(or)&&(this._baseTouches=or.touches)},ar.onRelease=function(){this.prevEvent=null,this._baseTouches=null},ar.getTouches=function(or,ur){return this._isTouchEvent(or)?or.touches.length:this._isValidButton(MOUSE_BUTTON_CODE_MAP[or.which],ur)&&this.end.indexOf(or.type)===-1?1:0},ar._getScale=function(or){return this._isTouchEvent(or)?or.touches.length!==2||this._baseTouches.length<2?1:this._getDistance(or.touches[0],or.touches[1])/this._getDistance(this._baseTouches[0],this._baseTouches[1]):this.prevEvent.scale},ar._getCenter=function(or){return this._isTouchEvent(or)?{x:or.touches[0].clientX,y:or.touches[0].clientY}:{x:or.clientX,y:or.clientY}},ar._getMovement=function(or){var ur=this,fr=this.prevEvent.srcEvent,xr=[or,fr].map(function(gr){return ur._isTouchEvent(gr)?{id:gr.touches[0].identifier,x:gr.touches[0].clientX,y:gr.touches[0].clientY}:{id:null,x:gr.clientX,y:gr.clientY}}),pr=xr[0],br=xr[1];return pr.id===br.id?{x:pr.x-br.x,y:pr.y-br.y}:{x:0,y:0}},cr}(EventInput),toAxis=function(lr,cr){return cr.reduce(function(ar,or,ur){return lr[ur]&&(ar[lr[ur]]=or),ar},{})},convertInputType=function(lr){lr===void 0&&(lr=[]);var cr=!1,ar=!1,or=!1;return lr.forEach(function(ur){switch(ur){case"mouse":ar=!0;break;case"touch":cr=SUPPORT_TOUCH;break;case"pointer":or=SUPPORT_POINTER_EVENTS}}),or?new PointerEventInput:cr&&ar?new TouchMouseEventInput:cr?new TouchEventInput:ar?new MouseEventInput:null};function getAddEventOptions(lr){return lr.indexOf("touch")>-1?{passive:!1}:!1}var InputObserver=function(){function lr(ar){var or=ar.options,ur=ar.interruptManager,fr=ar.eventManager,xr=ar.axisManager,pr=ar.animationManager;this._isOutside=!1,this._moveDistance=null,this._isStopped=!1,this.options=or,this._interruptManager=ur,this._eventManager=fr,this._axisManager=xr,this._animationManager=pr}var cr=lr.prototype;return cr.get=function(ar){return this._axisManager.get(ar.axes)},cr.hold=function(ar,or){if(!(this._interruptManager.isInterrupted()||!ar.axes.length)){var ur={input:ar,event:or};this._isStopped=!1,this._interruptManager.setInterrupt(!0),this._animationManager.stopAnimation(ur),++this._eventManager.holdingCount,this._moveDistance||this._eventManager.hold(this._axisManager.get(),ur),this._isOutside=this._axisManager.isOutside(ar.axes),this._moveDistance=this._axisManager.get(ar.axes)}},cr.change=function(ar,or,ur,fr){if(!(this._isStopped||!this._interruptManager.isInterrupting()||this._axisManager.every(ur,function(Sr){return Sr===0}))){var xr=or.srcEvent?or.srcEvent:or;if(!xr.__childrenAxesAlreadyChanged){var pr=this._moveDistance||this._axisManager.get(ar.axes),br;br=map(pr,function(Sr,yr){return Sr+(ur[yr]||0)}),this._moveDistance&&(this._moveDistance=this._axisManager.map(br,function(Sr,yr){var Cr=yr.circular,Ar=yr.range;return Cr&&(Cr[0]||Cr[1])?getCirculatedPos(Sr,Ar,Cr):Sr})),this._isOutside&&this._axisManager.every(pr,function(Sr,yr){return!isOutside(Sr,yr.range)})&&(this._isOutside=!1),pr=this._atOutside(pr),br=this._atOutside(br),(!this.options.nested||!this._isEndofAxis(ur,pr,br))&&(xr.__childrenAxesAlreadyChanged=!0);var gr={input:ar,event:or};if(fr){var mr=this._animationManager.getDuration(br,pr);this._animationManager.animateTo(br,mr,gr)}else{var _r=!this._eventManager.triggerChange(br,pr,gr,!0);_r&&(this._isStopped=!0,this._moveDistance=null,this._animationManager.finish(!1))}}}},cr.release=function(ar,or,ur,fr){if(!(this._isStopped||!this._interruptManager.isInterrupting()||!this._moveDistance)){var xr=or.srcEvent?or.srcEvent:or;xr.__childrenAxesAlreadyReleased&&(ur=ur.map(function(){return 0}));var pr=this._axisManager.get(ar.axes),br=this._axisManager.get(),gr=this._animationManager.getDisplacement(ur),mr=toAxis(ar.axes,gr),_r=this._axisManager.get(this._axisManager.map(mr,function(Or,Dr,Rr){return Dr.circular&&(Dr.circular[0]||Dr.circular[1])?pr[Rr]+Or:getInsidePosition(pr[Rr]+Or,Dr.range,Dr.circular,Dr.bounce)}));xr.__childrenAxesAlreadyReleased=!0;var Sr=this._animationManager.getDuration(_r,pr,fr);Sr===0&&(_r=__assign$2({},br));var yr={depaPos:br,destPos:_r,duration:Sr,delta:this._axisManager.getDelta(br,_r),inputEvent:or,input:ar,isTrusted:!0};--this._eventManager.holdingCount,this._eventManager.triggerRelease(yr),this._eventManager.holdingCount===0&&(this._moveDistance=null);var Cr=this._animationManager.getUserControl(yr),Ar=equal(Cr.destPos,br),kr={input:ar,event:or};Ar||Cr.duration===0?(Ar||this._eventManager.triggerChange(Cr.destPos,br,kr,!0),this._interruptManager.setInterrupt(!1),this._axisManager.isOutside()?this._animationManager.restore(kr):this._eventManager.triggerFinish(!0)):this._animationManager.animateTo(Cr.destPos,Cr.duration,kr)}},cr._atOutside=function(ar){var or=this;return this._isOutside?this._axisManager.map(ar,function(ur,fr){var xr=fr.range[0]-fr.bounce[0],pr=fr.range[1]+fr.bounce[1];return ur>pr?pr:ur<xr?xr:ur}):this._axisManager.map(ar,function(ur,fr){var xr=fr.range[0],pr=fr.range[1],br=fr.bounce,gr=fr.circular;return gr[0]&&ur<xr||gr[1]&&ur>pr?ur:ur<xr?xr-or._animationManager.interpolate(xr-ur,br[0]):ur>pr?pr+or._animationManager.interpolate(ur-pr,br[1]):ur})},cr._isEndofAxis=function(ar,or,ur){return this._axisManager.every(or,function(fr,xr,pr){return ar[pr]===0||or[pr]===ur[pr]&&isEndofBounce(fr,xr.range,xr.bounce,xr.circular)})},lr}(),clamp$1=function(lr,cr,ar){return Math.max(Math.min(lr,ar),cr)},AnimationManager=function(){function lr(ar){var or=ar.options,ur=ar.interruptManager,fr=ar.eventManager,xr=ar.axisManager;this._options=or,this.interruptManager=ur,this.eventManager=fr,this.axisManager=xr,this.animationEnd=this.animationEnd.bind(this)}var cr=lr.prototype;return cr.getDuration=function(ar,or,ur){var fr=this,xr;if(typeof ur<"u")xr=ur;else{var pr=map(or,function(br,gr){return getDuration(Math.abs(br-ar[gr]),fr._options.deceleration)});xr=Object.keys(pr).reduce(function(br,gr){return Math.max(br,pr[gr])},-1/0)}return clamp$1(xr,this._options.minimumDuration,this._options.maximumDuration)},cr.getDisplacement=function(ar){var or=Math.pow(ar.reduce(function(fr,xr){return fr+xr*xr},0),1/ar.length),ur=Math.abs(or/-this._options.deceleration);return ar.map(function(fr){return fr/2*ur})},cr.stopAnimation=function(ar){if(this._animateParam){var or=this.axisManager.get(),ur=this.axisManager.map(or,function(fr,xr){return getCirculatedPos(fr,xr.range,xr.circular)});every(ur,function(fr,xr){return or[xr]===fr})||this.eventManager.triggerChange(ur,or,ar,!!ar),this._animateParam=null,this._raf&&cancelAnimationFrame(this._raf),this._raf=null,this.eventManager.triggerAnimationEnd(!!(ar!=null&&ar.event))}},cr.getEventInfo=function(){return this._animateParam&&this._animateParam.input&&this._animateParam.inputEvent?{input:this._animateParam.input,event:this._animateParam.inputEvent}:null},cr.restore=function(ar){var or=this.axisManager.get(),ur=this.axisManager.map(or,function(fr,xr){return Math.min(xr.range[1],Math.max(xr.range[0],fr))});this.stopAnimation(),this.animateTo(ur,this.getDuration(or,ur),ar)},cr.animationEnd=function(){var ar=this.getEventInfo();this._animateParam=null;var or=this.axisManager.filter(this.axisManager.get(),function(ur,fr){return isCircularable(ur,fr.range,fr.circular)});Object.keys(or).length>0&&this.setTo(this.axisManager.map(or,function(ur,fr){return getCirculatedPos(ur,fr.range,fr.circular)})),this.interruptManager.setInterrupt(!1),this.eventManager.triggerAnimationEnd(!!ar),this.axisManager.isOutside()?this.restore(ar):this.finish(!!ar)},cr.finish=function(ar){this._animateParam=null,this.interruptManager.setInterrupt(!1),this.eventManager.triggerFinish(ar)},cr.getUserControl=function(ar){var or=ar.setTo();return or.destPos=this.axisManager.get(or.destPos),or.duration=clamp$1(or.duration,this._options.minimumDuration,this._options.maximumDuration),or},cr.animateTo=function(ar,or,ur){var fr=this;this.stopAnimation();var xr=this._createAnimationParam(ar,or,ur),pr=__assign$2({},xr.depaPos),br=this.eventManager.triggerAnimationStart(xr),gr=this.getUserControl(xr);if(!br&&this.axisManager.every(gr.destPos,function(_r,Sr){return isCircularable(_r,Sr.range,Sr.circular)})&&console.warn("You can't stop the 'animation' event when 'circular' is true."),br&&!equal(gr.destPos,pr)){var mr=(ur==null?void 0:ur.event)||null;this._animateLoop({depaPos:pr,destPos:gr.destPos,duration:gr.duration,delta:this.axisManager.getDelta(pr,gr.destPos),isTrusted:!!mr,inputEvent:mr,input:(ur==null?void 0:ur.input)||null},function(){return fr.animationEnd()})}},cr.setTo=function(ar,or){or===void 0&&(or=0);var ur=Object.keys(ar),fr=this.axisManager.get(ur);if(equal(ar,fr))return this;this.interruptManager.setInterrupt(!0);var xr=filter(ar,function(pr,br){return fr[br]!==pr});return Object.keys(xr).length?(xr=this.axisManager.map(xr,function(pr,br){var gr=br.range,mr=br.circular;return mr&&(mr[0]||mr[1])?pr:getInsidePosition(pr,gr,mr)}),equal(xr,fr)?this:(or>0?this.animateTo(xr,or):(this.stopAnimation(),this.eventManager.triggerChange(xr),this.finish(!1)),this)):this},cr.setBy=function(ar,or){return or===void 0&&(or=0),this.setTo(map(this.axisManager.get(Object.keys(ar)),function(ur,fr){return ur+ar[fr]}),or)},cr.setOptions=function(ar){this._options=__assign$2(__assign$2({},this._options),ar)},cr._createAnimationParam=function(ar,or,ur){var fr=this.axisManager.get(),xr=ar,pr=(ur==null?void 0:ur.event)||null;return{depaPos:fr,destPos:xr,duration:clamp$1(or,this._options.minimumDuration,this._options.maximumDuration),delta:this.axisManager.getDelta(fr,xr),inputEvent:pr,input:(ur==null?void 0:ur.input)||null,isTrusted:!!pr,done:this.animationEnd}},cr._animateLoop=function(ar,or){var ur=this;if(ar.duration){this._animateParam=__assign$2(__assign$2({},ar),{startTime:new Date().getTime()});var fr=map(ar.destPos,function(br){return br}),xr=this._initState(this._animateParam),pr=function(){ur._raf=null;var br=ur._animateParam,gr=ur._getNextState(xr),mr=!ur.eventManager.triggerChange(gr.pos,xr.pos);if(xr=gr,gr.finished){br.destPos=ur._getFinalPos(br.destPos,fr),equal(br.destPos,ur.axisManager.get(Object.keys(br.destPos)))||ur.eventManager.triggerChange(br.destPos,gr.pos),or();return}else mr?ur.finish(!1):ur._raf=requestAnimationFrame(pr)};pr()}else this.eventManager.triggerChange(ar.destPos),or()},cr._getFinalPos=function(ar,or){var ur=this,fr=1e-6,xr=map(ar,function(pr,br){if(pr>=or[br]-fr&&pr<=or[br]+fr)return or[br];var gr=ur._getRoundUnit(pr,br),mr=roundNumber(pr,gr);return mr});return xr},cr._getRoundUnit=function(ar,or){var ur=this._options.round,fr=null;if(!ur){var xr=this.axisManager.getAxisOptions(or);fr=inversePow(Math.max(getDecimalPlace(xr.range[0]),getDecimalPlace(xr.range[1]),getDecimalPlace(ar)))}return fr||ur},lr}(),EasingManager=function(lr){__extends$2(cr,lr);function cr(){var or=lr!==null&&lr.apply(this,arguments)||this;return or._useDuration=!0,or}var ar=cr.prototype;return ar.interpolate=function(or,ur){var fr=this._easing(1e-5)/1e-5;return this._easing(or/(ur*fr))*ur},ar.updateAnimation=function(or){var ur,fr=this._animateParam;if(fr){var xr=new Date().getTime()-fr.startTime,pr=(or==null?void 0:or.destPos)||fr.destPos,br=(ur=or==null?void 0:or.duration)!==null&&ur!==void 0?ur:fr.duration;if(or!=null&&or.restart||br<=xr){this.setTo(pr,br-xr);return}if(or!=null&&or.destPos){var gr=this.axisManager.get();this._initialEasingPer=this._prevEasingPer,fr.delta=this.axisManager.getDelta(gr,pr),fr.destPos=pr}if(or!=null&&or.duration){var mr=(xr+this._durationOffset)/fr.duration;this._durationOffset=mr*br-xr,fr.duration=br}}},ar._initState=function(or){return this._initialEasingPer=0,this._prevEasingPer=0,this._durationOffset=0,{pos:or.depaPos,easingPer:0,finished:!1}},ar._getNextState=function(or){var ur=this,fr=this._animateParam,xr=or.pos,pr=fr.destPos,br=map(xr,function(yr,Cr){return yr<=pr[Cr]?1:-1}),gr=new Date().getTime()-fr.startTime,mr=(gr+this._durationOffset)/fr.duration,_r=this._easing(mr),Sr=this.axisManager.map(xr,function(yr,Cr,Ar){var kr=mr>=1?pr[Ar]:yr+fr.delta[Ar]*(_r-ur._prevEasingPer)/(1-ur._initialEasingPer),Or=getCirculatedPos(kr,Cr.range,Cr.circular);if(kr!==Or){var Dr=br[Ar]*(Cr.range[1]-Cr.range[0]);pr[Ar]-=Dr,xr[Ar]-=Dr}return Or});return this._prevEasingPer=_r,{pos:Sr,easingPer:_r,finished:_r>=1}},ar._easing=function(or){return or>1?1:this._options.easing(or)},cr}(AnimationManager),Axes=function(lr){__extends$2(cr,lr);function cr(or,ur,fr){or===void 0&&(or={}),ur===void 0&&(ur={}),fr===void 0&&(fr={});var xr=lr.call(this)||this;return xr.axis=or,xr._inputs=[],xr.options=__assign$2({easing:function(pr){return 1-Math.pow(1-pr,3)},interruptable:!0,maximumDuration:1/0,minimumDuration:0,deceleration:6e-4,round:null,nested:!1},ur),Object.keys(fr).forEach(function(pr){xr.axis[pr].startPos=fr[pr]}),xr.interruptManager=new InterruptManager(xr.options),xr.axisManager=new AxisManager(xr.axis),xr.eventManager=new EventManager(xr),xr.animationManager=new EasingManager(xr),xr.inputObserver=new InputObserver(xr),xr.eventManager.setAnimationManager(xr.animationManager),xr.eventManager.triggerChange(xr.axisManager.get()),xr}var ar=cr.prototype;return Object.defineProperty(ar,"holding",{get:function(){return this.eventManager.holdingCount>0},enumerable:!1,configurable:!0}),ar.connect=function(or,ur){var fr;return typeof or=="string"?fr=or.split(" "):fr=or.concat(),~this._inputs.indexOf(ur)&&this.disconnect(ur),ur.mapAxes(fr),ur.connect(this.inputObserver),this._inputs.push(ur),this},ar.disconnect=function(or){if(or){var ur=this._inputs.indexOf(or);ur>=0&&(this._inputs[ur].disconnect(),this._inputs.splice(ur,1))}else this._inputs.forEach(function(fr){return fr.disconnect()}),this._inputs=[];return this},ar.get=function(or){return this.axisManager.get(or)},ar.setTo=function(or,ur){return ur===void 0&&(ur=0),this.animationManager.setTo(or,ur),this},ar.setBy=function(or,ur){return ur===void 0&&(ur=0),this.animationManager.setBy(or,ur),this},ar.setOptions=function(or){return this.options=__assign$2(__assign$2({},this.options),or),this.animationManager.setOptions(or),this},ar.setAxis=function(or){return this.axisManager.setAxis(or),this},ar.stopAnimation=function(){return this.animationManager.stopAnimation(),this.animationManager.finish(!1),this},ar.updateAnimation=function(or){return this.animationManager.updateAnimation(or),this},ar.isBounceArea=function(or){return this.axisManager.isOutside(or)},ar.destroy=function(){this.disconnect(),this.eventManager.destroy()},cr.VERSION="3.9.1",cr.TRANSFORM=TRANSFORM,cr.DIRECTION_NONE=DIRECTION_NONE,cr.DIRECTION_LEFT=DIRECTION_LEFT,cr.DIRECTION_RIGHT=DIRECTION_RIGHT,cr.DIRECTION_UP=DIRECTION_UP,cr.DIRECTION_DOWN=DIRECTION_DOWN,cr.DIRECTION_HORIZONTAL=DIRECTION_HORIZONTAL,cr.DIRECTION_VERTICAL=DIRECTION_VERTICAL,cr.DIRECTION_ALL=DIRECTION_ALL,__decorate([Computed],cr.prototype,"holding",null),cr=__decorate([ReactiveSubscribe],cr),cr}(Component),getDirectionByAngle=function(lr,cr){if(cr<0||cr>90)return DIRECTION_NONE;var ar=Math.abs(lr);return ar>cr&&ar<180-cr?DIRECTION_VERTICAL:DIRECTION_HORIZONTAL},PanInput=function(){function lr(ar,or){var ur=this;this.axes=[],this.element=null,this._enabled=!1,this._activeEvent=null,this._atRightEdge=!1,this._rightEdgeTimer=0,this._dragged=!1,this._isOverThreshold=!1,this._preventClickWhenDragged=function(fr){ur._dragged&&(fr.preventDefault(),fr.stopPropagation()),ur._dragged=!1},this._voidFunction=function(){},this.element=$(ar),this.options=__assign$2({inputType:["touch","mouse","pointer"],inputKey:[ANY],inputButton:[MOUSE_LEFT],scale:[1,1],thresholdAngle:45,threshold:0,preventClickOnDrag:!1,preventDefaultOnDrag:!1,iOSEdgeSwipeThreshold:IOS_EDGE_THRESHOLD,releaseOnScroll:!1,touchAction:null},or),this._onPanstart=this._onPanstart.bind(this),this._onPanmove=this._onPanmove.bind(this),this._onPanend=this._onPanend.bind(this)}var cr=lr.prototype;return cr.mapAxes=function(ar){this._direction=getDirection$1(!!ar[0],!!ar[1]),this.axes=ar},cr.connect=function(ar){return this._activeEvent&&(this._detachElementEvent(),this._detachWindowEvent(this._activeEvent)),this._attachElementEvent(ar),this},cr.disconnect=function(){return this._detachElementEvent(),this._detachWindowEvent(this._activeEvent),this._direction=DIRECTION_NONE,this},cr.destroy=function(){this.disconnect(),this.element=null},cr.enable=function(){return this._enabled||(this._enabled=!0,this._originalCssProps=setCssProps(this.element,this.options,this._direction)),this},cr.disable=function(){return this._enabled&&(this._enabled=!1,isCssPropsFromAxes(this._originalCssProps)||revertCssProps(this.element,this._originalCssProps)),this},cr.isEnabled=function(){return this._enabled},cr.release=function(){var ar=this._activeEvent,or=ar.prevEvent;return ar.onRelease(),this._observer.release(this,or,[0,0]),this._detachWindowEvent(ar),this},cr._onPanstart=function(ar){var or=this.options,ur=or.inputKey,fr=or.inputButton,xr=or.preventDefaultOnDrag,pr=this._activeEvent,br=pr.onEventStart(ar,ur,fr);if(!(!br||!this._enabled||pr.getTouches(ar,fr)>1)&&br.srcEvent.cancelable!==!1){var gr=this.options.iOSEdgeSwipeThreshold;this._dragged=!1,this._isOverThreshold=!1,this._observer.hold(this,br),this._atRightEdge=IS_IOS_SAFARI&&br.center.x>window.innerWidth-gr,this._attachWindowEvent(pr),xr&&br.srcEvent.type!=="touchstart"&&br.srcEvent.preventDefault(),pr.prevEvent=br}},cr._onPanmove=function(ar){var or=this,ur=this.options,fr=ur.iOSEdgeSwipeThreshold,xr=ur.preventClickOnDrag,pr=ur.releaseOnScroll,br=ur.inputKey,gr=ur.inputButton,mr=ur.threshold,_r=ur.thresholdAngle,Sr=this._activeEvent,yr=Sr.onEventMove(ar,br,gr),Cr=Sr.getTouches(ar,gr);if(Cr===0||pr&&yr&&!yr.srcEvent.cancelable){this._onPanend(ar);return}if(!(!yr||!this._enabled||Cr>1)){var Ar=getDirectionByAngle(yr.angle,_r),kr=useDirection(DIRECTION_HORIZONTAL,this._direction,Ar),Or=useDirection(DIRECTION_VERTICAL,this._direction,Ar);if(Sr.prevEvent&&IS_IOS_SAFARI){var Dr=yr.center.x<0;if(Dr){this.release();return}else if(this._atRightEdge){clearTimeout(this._rightEdgeTimer);var Rr=yr.deltaX<-fr;Rr?this._atRightEdge=!1:this._rightEdgeTimer=window.setTimeout(function(){return or.release()},100)}}var Fr=this._getDistance([yr.deltaX,yr.deltaY],[kr,Or]),Nr=this._getOffset([yr.offsetX,yr.offsetY],[kr,Or]),Hr=Nr.some(function(jr){return jr!==0});Hr&&(yr.srcEvent.cancelable!==!1&&yr.srcEvent.preventDefault(),yr.srcEvent.stopPropagation()),yr.preventSystemEvent=Hr,Hr&&(this._isOverThreshold||Fr>=mr)&&(this._dragged=xr,this._isOverThreshold=!0,this._observer.change(this,yr,toAxis(this.axes,Nr))),Sr.prevEvent=yr}},cr._onPanend=function(ar){var or=this.options.inputButton,ur=this._activeEvent;if(ur.onEventEnd(ar),!(!this._enabled||ur.getTouches(ar,or)!==0)){this._detachWindowEvent(ur),clearTimeout(this._rightEdgeTimer);var fr=ur.prevEvent,xr=this._isOverThreshold?this._getOffset([Math.abs(fr.velocityX)*(fr.offsetX<0?-1:1),Math.abs(fr.velocityY)*(fr.offsetY<0?-1:1)],[useDirection(DIRECTION_HORIZONTAL,this._direction),useDirection(DIRECTION_VERTICAL,this._direction)]):[0,0];ur.onRelease(),this._observer.release(this,fr,xr)}},cr._attachWindowEvent=function(ar){var or=this;ar==null||ar.move.forEach(function(ur){window.addEventListener(ur,or._onPanmove,getAddEventOptions(ur))}),ar==null||ar.end.forEach(function(ur){window.addEventListener(ur,or._onPanend,getAddEventOptions(ur))})},cr._detachWindowEvent=function(ar){var or=this;ar==null||ar.move.forEach(function(ur){window.removeEventListener(ur,or._onPanmove)}),ar==null||ar.end.forEach(function(ur){window.removeEventListener(ur,or._onPanend)})},cr._getOffset=function(ar,or){var ur=this.options.scale;return[or[0]?ar[0]*ur[0]:0,or[1]?ar[1]*ur[1]:0]},cr._getDistance=function(ar,or){return Math.sqrt(Number(or[0])*Math.pow(ar[0],2)+Number(or[1])*Math.pow(ar[1],2))},cr._attachElementEvent=function(ar){var or=this,ur=convertInputType(this.options.inputType),fr=this.element;if(ur){if(!fr)throw new Error("Element to connect input does not exist.");this._observer=ar,this.enable(),this._activeEvent=ur,fr.addEventListener("click",this._preventClickWhenDragged,!0),ur.start.forEach(function(xr){fr.addEventListener(xr,or._onPanstart)}),ur.move.forEach(function(xr){fr.addEventListener(xr,or._voidFunction)})}},cr._detachElementEvent=function(){var ar=this,or=this._activeEvent,ur=this.element;ur&&(ur.removeEventListener("click",this._preventClickWhenDragged,!0),or==null||or.start.forEach(function(fr){ur.removeEventListener(fr,ar._onPanstart)}),or==null||or.move.forEach(function(fr){ur.removeEventListener(fr,ar._voidFunction)})),this.disable(),this._observer=null},lr}();const Axes$1=Axes;var extendStatics$1=function(lr,cr){return extendStatics$1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ar,or){ar.__proto__=or}||function(ar,or){for(var ur in or)Object.prototype.hasOwnProperty.call(or,ur)&&(ar[ur]=or[ur])},extendStatics$1(lr,cr)};function __extends$1(lr,cr){if(typeof cr!="function"&&cr!==null)throw new TypeError("Class extends value "+String(cr)+" is not a constructor or null");extendStatics$1(lr,cr);function ar(){this.constructor=lr}lr.prototype=cr===null?Object.create(cr):(ar.prototype=cr.prototype,new ar)}var __assign$1=function(){return __assign$1=Object.assign||function(cr){for(var ar,or=1,ur=arguments.length;or<ur;or++){ar=arguments[or];for(var fr in ar)Object.prototype.hasOwnProperty.call(ar,fr)&&(cr[fr]=ar[fr])}return cr},__assign$1.apply(this,arguments)};function __spreadArrays(){for(var lr=0,cr=0,ar=arguments.length;cr<ar;cr++)lr+=arguments[cr].length;for(var or=Array(lr),ur=0,cr=0;cr<ar;cr++)for(var fr=arguments[cr],xr=0,pr=fr.length;xr<pr;xr++,ur++)or[ur]=fr[xr];return or}var isWindow=typeof window<"u",ua=isWindow?window.navigator.userAgent:"",SUPPORT_COMPUTEDSTYLE=isWindow?"getComputedStyle"in window:!1,IS_IE=/MSIE|Trident|Windows Phone|Edge/.test(ua),SUPPORT_ADDEVENTLISTENER=isWindow?"addEventListener"in document:!1,WIDTH="width",HEIGHT="height";function getAttribute(lr,cr){return lr.getAttribute(cr)||""}function toArray$1(lr){return[].slice.call(lr)}function hasSizeAttribute(lr,cr){return cr===void 0&&(cr="data-"),!!lr.getAttribute(cr+"width")}function hasLoadingAttribute(lr,cr){return cr===void 0&&(cr="data-"),"loading"in lr&&lr.getAttribute("loading")==="lazy"||!!lr.getAttribute(cr+"lazy")}function hasSkipAttribute(lr,cr){return cr===void 0&&(cr="data-"),!!lr.getAttribute(cr+"skip")}function addEvent(lr,cr,ar){SUPPORT_ADDEVENTLISTENER?lr.addEventListener(cr,ar,!1):lr.attachEvent?lr.attachEvent("on"+cr,ar):lr["on"+cr]=ar}function removeEvent(lr,cr,ar){lr.removeEventListener?lr.removeEventListener(cr,ar,!1):lr.detachEvent?lr.detachEvent("on"+cr,ar):lr["on"+cr]=null}function innerWidth(lr){return getSize(lr,"Width")}function innerHeight(lr){return getSize(lr,"Height")}function getStyles(lr){return(SUPPORT_COMPUTEDSTYLE?window.getComputedStyle(lr):lr.currentStyle)||{}}function getSize(lr,cr){var ar=lr["client"+cr]||lr["offset"+cr];return parseFloat(ar||getStyles(lr)[cr.toLowerCase()])||0}function getContentElements(lr,cr,ar){var or=toArray$1(lr.querySelectorAll(__spreadArrays(["["+ar+"skip] ["+ar+"width]"],cr.map(function(ur){return["["+ar+"skip] "+ur,ur+"["+ar+"skip]","["+ar+"width] "+ur].join(", ")})).join(", ")));return toArray$1(lr.querySelectorAll("["+ar+"width], "+cr.join(", "))).filter(function(ur){return or.indexOf(ur)===-1})}var elements=[];function addAutoSizer(lr,cr){!elements.length&&addEvent(window,"resize",resizeAllAutoSizers),lr.__PREFIX__=cr,elements.push(lr),resize(lr)}function removeAutoSizer(lr,cr){var ar=elements.indexOf(lr);if(!(ar<0)){var or=getAttribute(lr,cr+"fixed");delete lr.__PREFIX__,lr.style[or===HEIGHT?WIDTH:HEIGHT]="",elements.splice(ar,1),!elements.length&&removeEvent(window,"resize",resizeAllAutoSizers)}}function resize(lr,cr){cr===void 0&&(cr="data-");var ar=lr.__PREFIX__||cr,or=parseInt(getAttribute(lr,""+ar+WIDTH),10)||0,ur=parseInt(getAttribute(lr,""+ar+HEIGHT),10)||0,fr=getAttribute(lr,ar+"fixed");if(fr===HEIGHT){var xr=innerHeight(lr)||ur;lr.style[WIDTH]=or/ur*xr+"px"}else{var xr=innerWidth(lr)||or;lr.style[HEIGHT]=ur/or*xr+"px"}}function resizeAllAutoSizers(){elements.forEach(function(lr){resize(lr)})}var Loader=function(lr){__extends$1(cr,lr);function cr(or,ur){ur===void 0&&(ur={});var fr=lr.call(this)||this;fr.isReady=!1,fr.isPreReady=!1,fr.hasDataSize=!1,fr.hasLoading=!1,fr.isSkip=!1,fr.onCheck=function(pr){if(fr.clear(),pr&&pr.type==="error"&&fr.onError(fr.element),!(fr.hasLoading&&fr.checkElement())){var br=!fr.hasDataSize&&!fr.hasLoading;fr.onReady(br)}},fr.options=__assign$1({prefix:"data-"},ur),fr.element=or;var xr=fr.options.prefix;return fr.hasDataSize=hasSizeAttribute(or,xr),fr.isSkip=hasSkipAttribute(or,xr),fr.hasLoading=hasLoadingAttribute(or,xr),fr}var ar=cr.prototype;return ar.check=function(){return this.isSkip||!this.checkElement()?(this.onAlreadyReady(!0),!1):(this.hasDataSize&&addAutoSizer(this.element,this.options.prefix),(this.hasDataSize||this.hasLoading)&&this.onAlreadyPreReady(),!0)},ar.addEvents=function(){var or=this,ur=this.element;this.constructor.EVENTS.forEach(function(fr){addEvent(ur,fr,or.onCheck)})},ar.clear=function(){var or=this,ur=this.element;this.constructor.EVENTS.forEach(function(fr){removeEvent(ur,fr,or.onCheck)}),this.removeAutoSizer()},ar.destroy=function(){this.clear(),this.off()},ar.removeAutoSizer=function(){if(this.hasDataSize){var or=this.options.prefix;removeAutoSizer(this.element,or)}},ar.onError=function(or){this.trigger("error",{element:this.element,target:or})},ar.onPreReady=function(){this.isPreReady||(this.isPreReady=!0,this.trigger("preReady",{element:this.element,hasLoading:this.hasLoading,isSkip:this.isSkip}))},ar.onReady=function(or){this.isReady||(or=!this.isPreReady&&or,or&&(this.isPreReady=!0),this.removeAutoSizer(),this.isReady=!0,this.trigger("ready",{element:this.element,withPreReady:or,hasLoading:this.hasLoading,isSkip:this.isSkip}))},ar.onAlreadyError=function(or){var ur=this;setTimeout(function(){ur.onError(or)})},ar.onAlreadyPreReady=function(){var or=this;setTimeout(function(){or.onPreReady()})},ar.onAlreadyReady=function(or){var ur=this;setTimeout(function(){ur.onReady(or)})},cr.EVENTS=[],cr}(Component),ElementLoader=function(lr){__extends$1(cr,lr);function cr(){return lr!==null&&lr.apply(this,arguments)||this}var ar=cr.prototype;return ar.setHasLoading=function(or){this.hasLoading=or},ar.check=function(){return this.isSkip?(this.onAlreadyReady(!0),!1):(this.hasDataSize?(addAutoSizer(this.element,this.options.prefix),this.onAlreadyPreReady()):this.trigger("requestChildren"),!0)},ar.checkElement=function(){return!0},ar.destroy=function(){this.clear(),this.trigger("requestDestroy"),this.off()},ar.onAlreadyPreReady=function(){lr.prototype.onAlreadyPreReady.call(this),this.trigger("reqeustReadyChildren")},cr.EVENTS=[],cr}(Loader),ImReadyManager=function(lr){__extends$1(cr,lr);function cr(or){or===void 0&&(or={});var ur=lr.call(this)||this;return ur.readyCount=0,ur.preReadyCount=0,ur.totalCount=0,ur.totalErrorCount=0,ur.isPreReadyOver=!0,ur.elementInfos=[],ur.options=__assign$1({loaders:{},prefix:"data-"},or),ur}var ar=cr.prototype;return ar.check=function(or){var ur=this,fr=this.options.prefix;this.clear(),this.elementInfos=toArray$1(or).map(function(pr,br){var gr=ur.getLoader(pr,{prefix:fr});return gr.check(),gr.on("error",function(mr){ur.onError(br,mr.target)}).on("preReady",function(mr){var _r=ur.elementInfos[br];_r.hasLoading=mr.hasLoading,_r.isSkip=mr.isSkip;var Sr=ur.checkPreReady(br);ur.onPreReadyElement(br),Sr&&ur.onPreReady()}).on("ready",function(mr){var _r=mr.withPreReady,Sr=mr.hasLoading,yr=mr.isSkip,Cr=ur.elementInfos[br];Cr.hasLoading=Sr,Cr.isSkip=yr;var Ar=_r&&ur.checkPreReady(br),kr=ur.checkReady(br);_r&&ur.onPreReadyElement(br),ur.onReadyElement(br),Ar&&ur.onPreReady(),kr&&ur.onReady()}),{loader:gr,element:pr,hasLoading:!1,hasError:!1,isPreReady:!1,isReady:!1,isSkip:!1}});var xr=this.elementInfos.length;return this.totalCount=xr,xr||setTimeout(function(){ur.onPreReady(),ur.onReady()}),this},ar.getTotalCount=function(){return this.totalCount},ar.isPreReady=function(){return this.elementInfos.every(function(or){return or.isPreReady})},ar.isReady=function(){return this.elementInfos.every(function(or){return or.isReady})},ar.hasError=function(){return this.totalErrorCount>0},ar.clear=function(){this.isPreReadyOver=!1,this.totalCount=0,this.preReadyCount=0,this.readyCount=0,this.totalErrorCount=0,this.elementInfos.forEach(function(or){or.loader&&or.loader.destroy()}),this.elementInfos=[]},ar.destroy=function(){this.clear(),this.off()},ar.getLoader=function(or,ur){var fr=this,xr=or.tagName.toLowerCase(),pr=this.options.loaders,br=ur.prefix,gr=Object.keys(pr);if(pr[xr])return new pr[xr](or,ur);var mr=new ElementLoader(or,ur),_r=toArray$1(or.querySelectorAll(gr.join(", ")));mr.setHasLoading(_r.some(function(Cr){return hasLoadingAttribute(Cr,br)}));var Sr=!1,yr=this.clone().on("error",function(Cr){mr.onError(Cr.target)}).on("ready",function(){mr.onReady(Sr)});return mr.on("requestChildren",function(){var Cr=getContentElements(or,gr,fr.options.prefix);yr.check(Cr).on("preReady",function(Ar){Sr=Ar.isReady,Sr||mr.onPreReady()})}).on("reqeustReadyChildren",function(){yr.check(_r)}).on("requestDestroy",function(){yr.destroy()}),mr},ar.clone=function(){return new cr(__assign$1({},this.options))},ar.checkPreReady=function(or){return this.elementInfos[or].isPreReady=!0,++this.preReadyCount,!(this.preReadyCount<this.totalCount)},ar.checkReady=function(or){return this.elementInfos[or].isReady=!0,++this.readyCount,!(this.readyCount<this.totalCount)},ar.onError=function(or,ur){var fr=this.elementInfos[or];fr.hasError=!0,this.trigger(new ComponentEvent$1("error",{element:fr.element,index:or,target:ur,errorCount:this.getErrorCount(),totalErrorCount:++this.totalErrorCount}))},ar.onPreReadyElement=function(or){var ur=this.elementInfos[or];this.trigger(new ComponentEvent$1("preReadyElement",{element:ur.element,index:or,preReadyCount:this.preReadyCount,readyCount:this.readyCount,totalCount:this.totalCount,isPreReady:this.isPreReady(),isReady:this.isReady(),hasLoading:ur.hasLoading,isSkip:ur.isSkip}))},ar.onPreReady=function(){this.isPreReadyOver=!0,this.trigger(new ComponentEvent$1("preReady",{readyCount:this.readyCount,totalCount:this.totalCount,isReady:this.isReady(),hasLoading:this.hasLoading()}))},ar.onReadyElement=function(or){var ur=this.elementInfos[or];this.trigger(new ComponentEvent$1("readyElement",{index:or,element:ur.element,hasError:ur.hasError,errorCount:this.getErrorCount(),totalErrorCount:this.totalErrorCount,preReadyCount:this.preReadyCount,readyCount:this.readyCount,totalCount:this.totalCount,isPreReady:this.isPreReady(),isReady:this.isReady(),hasLoading:ur.hasLoading,isPreReadyOver:this.isPreReadyOver,isSkip:ur.isSkip}))},ar.onReady=function(){this.trigger(new ComponentEvent$1("ready",{errorCount:this.getErrorCount(),totalErrorCount:this.totalErrorCount,totalCount:this.totalCount}))},ar.getErrorCount=function(){return this.elementInfos.filter(function(or){return or.hasError}).length},ar.hasLoading=function(){return this.elementInfos.some(function(or){return or.hasLoading})},cr}(Component),ImageLoader=function(lr){__extends$1(cr,lr);function cr(){return lr!==null&&lr.apply(this,arguments)||this}var ar=cr.prototype;return ar.checkElement=function(){var or=this.element,ur=or.getAttribute("src");if(or.complete){if(ur)return or.naturalWidth||this.onAlreadyError(or),!1;this.onAlreadyPreReady()}return this.addEvents(),IS_IE&&or.setAttribute("src",ur),!0},cr.EVENTS=["load","error"],cr}(Loader),VideoLoader=function(lr){__extends$1(cr,lr);function cr(){return lr!==null&&lr.apply(this,arguments)||this}var ar=cr.prototype;return ar.checkElement=function(){var or=this.element;return or.readyState>=1?!1:or.error?(this.onAlreadyError(or),!1):(this.addEvents(),!0)},cr.EVENTS=["loadedmetadata","error"],cr}(Loader),ImReady=function(lr){__extends$1(cr,lr);function cr(ar){return ar===void 0&&(ar={}),lr.call(this,__assign$1({loaders:{img:ImageLoader,video:VideoLoader}},ar))||this}return cr}(ImReadyManager);const ImReady$1=ImReady;var extendStatics=function(lr,cr){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ar,or){ar.__proto__=or}||function(ar,or){for(var ur in or)Object.prototype.hasOwnProperty.call(or,ur)&&(ar[ur]=or[ur])},extendStatics(lr,cr)};function __extends(lr,cr){if(typeof cr!="function"&&cr!==null)throw new TypeError("Class extends value "+String(cr)+" is not a constructor or null");extendStatics(lr,cr);function ar(){this.constructor=lr}lr.prototype=cr===null?Object.create(cr):(ar.prototype=cr.prototype,new ar)}var __assign=function(){return __assign=Object.assign||function(cr){for(var ar,or=1,ur=arguments.length;or<ur;or++){ar=arguments[or];for(var fr in ar)Object.prototype.hasOwnProperty.call(ar,fr)&&(cr[fr]=ar[fr])}return cr},__assign.apply(this,arguments)};function __awaiter(lr,cr,ar,or){function ur(fr){return fr instanceof ar?fr:new ar(function(xr){xr(fr)})}return new(ar||(ar=Promise))(function(fr,xr){function pr(mr){try{gr(or.next(mr))}catch(_r){xr(_r)}}function br(mr){try{gr(or.throw(mr))}catch(_r){xr(_r)}}function gr(mr){mr.done?fr(mr.value):ur(mr.value).then(pr,br)}gr((or=or.apply(lr,cr||[])).next())})}function __generator(lr,cr){var ar={label:0,sent:function(){if(fr[0]&1)throw fr[1];return fr[1]},trys:[],ops:[]},or,ur,fr,xr;return xr={next:pr(0),throw:pr(1),return:pr(2)},typeof Symbol=="function"&&(xr[Symbol.iterator]=function(){return this}),xr;function pr(gr){return function(mr){return br([gr,mr])}}function br(gr){if(or)throw new TypeError("Generator is already executing.");for(;xr&&(xr=0,gr[0]&&(ar=0)),ar;)try{if(or=1,ur&&(fr=gr[0]&2?ur.return:gr[0]?ur.throw||((fr=ur.return)&&fr.call(ur),0):ur.next)&&!(fr=fr.call(ur,gr[1])).done)return fr;switch(ur=0,fr&&(gr=[gr[0]&2,fr.value]),gr[0]){case 0:case 1:fr=gr;break;case 4:return ar.label++,{value:gr[1],done:!1};case 5:ar.label++,ur=gr[1],gr=[0];continue;case 7:gr=ar.ops.pop(),ar.trys.pop();continue;default:if(fr=ar.trys,!(fr=fr.length>0&&fr[fr.length-1])&&(gr[0]===6||gr[0]===2)){ar=0;continue}if(gr[0]===3&&(!fr||gr[1]>fr[0]&&gr[1]<fr[3])){ar.label=gr[1];break}if(gr[0]===6&&ar.label<fr[1]){ar.label=fr[1],fr=gr;break}if(fr&&ar.label<fr[2]){ar.label=fr[2],ar.ops.push(gr);break}fr[2]&&ar.ops.pop(),ar.trys.pop();continue}gr=cr.call(lr,ar)}catch(mr){gr=[6,mr],ur=0}finally{or=fr=0}if(gr[0]&5)throw gr[1];return{value:gr[0]?gr[1]:void 0,done:!0}}}function __values(lr){var cr=typeof Symbol=="function"&&Symbol.iterator,ar=cr&&lr[cr],or=0;if(ar)return ar.call(lr);if(lr&&typeof lr.length=="number")return{next:function(){return lr&&or>=lr.length&&(lr=void 0),{value:lr&&lr[or++],done:!lr}}};throw new TypeError(cr?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(lr,cr){var ar=typeof Symbol=="function"&&lr[Symbol.iterator];if(!ar)return lr;var or=ar.call(lr),ur,fr=[],xr;try{for(;(cr===void 0||cr-- >0)&&!(ur=or.next()).done;)fr.push(ur.value)}catch(pr){xr={error:pr}}finally{try{ur&&!ur.done&&(ar=or.return)&&ar.call(or)}finally{if(xr)throw xr.error}}return fr}function __spread(){for(var lr=[],cr=0;cr<arguments.length;cr++)lr=lr.concat(__read(arguments[cr]));return lr}typeof SuppressedError=="function"&&SuppressedError;var CODE={WRONG_TYPE:0,ELEMENT_NOT_FOUND:1,VAL_MUST_NOT_NULL:2,NOT_ATTACHED_TO_FLICKING:3,WRONG_OPTION:4,INDEX_OUT_OF_RANGE:5,POSITION_NOT_REACHABLE:6,TRANSFORM_NOT_SUPPORTED:7,STOP_CALLED_BY_USER:8,ANIMATION_INTERRUPTED:9,ANIMATION_ALREADY_PLAYING:10,NOT_ALLOWED_IN_FRAMEWORK:11,NOT_INITIALIZED:12,NO_ACTIVE:13,NOT_ALLOWED_IN_VIRTUAL:14},MESSAGE={WRONG_TYPE:function(lr,cr){return lr+"("+typeof lr+") is not a "+cr.map(function(ar){return'"'+ar+'"'}).join(" or ")+"."},ELEMENT_NOT_FOUND:function(lr){return'Element with selector "'+lr+'" not found.'},VAL_MUST_NOT_NULL:function(lr,cr){return cr+" should be provided. Given: "+lr},NOT_ATTACHED_TO_FLICKING:'This module is not attached to the Flicking instance. "init()" should be called first.',WRONG_OPTION:function(lr,cr){return'Option "'+lr+'" is not in correct format, given: '+cr},INDEX_OUT_OF_RANGE:function(lr,cr,ar){return'Index "'+lr+'" is out of range: should be between '+cr+" and "+ar+"."},POSITION_NOT_REACHABLE:function(lr){return'Position "'+lr+'" is not reachable.'},TRANSFORM_NOT_SUPPORTED:"Browser does not support CSS transform.",STOP_CALLED_BY_USER:"Event stop() is called by user.",ANIMATION_INTERRUPTED:"Animation is interrupted by user input.",ANIMATION_ALREADY_PLAYING:"Animation is already playing.",NOT_ALLOWED_IN_FRAMEWORK:"This behavior is not allowed in the frameworks like React, Vue, or Angular.",NOT_INITIALIZED:"Flicking is not initialized yet, call init() first.",NO_ACTIVE:"There's no active panel that Flicking has selected. This may be due to the absence of any panels.",NOT_ALLOWED_IN_VIRTUAL:"This behavior is not allowed when the virtual option is enabled"},EVENTS={READY:"ready",BEFORE_RESIZE:"beforeResize",AFTER_RESIZE:"afterResize",HOLD_START:"holdStart",HOLD_END:"holdEnd",MOVE_START:"moveStart",MOVE:"move",MOVE_END:"moveEnd",WILL_CHANGE:"willChange",CHANGED:"changed",WILL_RESTORE:"willRestore",RESTORED:"restored",SELECT:"select",NEED_PANEL:"needPanel",VISIBLE_CHANGE:"visibleChange",REACH_EDGE:"reachEdge",PANEL_CHANGE:"panelChange"},ALIGN={PREV:"prev",CENTER:"center",NEXT:"next"},DIRECTION={PREV:"PREV",NEXT:"NEXT",NONE:null},MOVE_TYPE={SNAP:"snap",FREE_SCROLL:"freeScroll",STRICT:"strict"},CLASS={VERTICAL:"vertical",HIDDEN:"flicking-hidden",DEFAULT_VIRTUAL:"flicking-panel"},CIRCULAR_FALLBACK={LINEAR:"linear",BOUND:"bound"},ORDER={LTR:"ltr",RTL:"rtl"},getElement=function(lr,cr){var ar=null;if(isString(lr)){var or=cr||document,ur=or.querySelector(lr);if(!ur)throw new FlickingError(MESSAGE.ELEMENT_NOT_FOUND(lr),CODE.ELEMENT_NOT_FOUND);ar=ur}else lr&&lr.nodeType===Node.ELEMENT_NODE&&(ar=lr);if(!ar)throw new FlickingError(MESSAGE.WRONG_TYPE(lr,["HTMLElement","string"]),CODE.WRONG_TYPE);return ar},checkExistence=function(lr,cr){if(lr==null)throw new FlickingError(MESSAGE.VAL_MUST_NOT_NULL(lr,cr),CODE.VAL_MUST_NOT_NULL)},clamp=function(lr,cr,ar){return Math.max(Math.min(lr,ar),cr)},getFlickingAttached=function(lr){if(!lr)throw new FlickingError(MESSAGE.NOT_ATTACHED_TO_FLICKING,CODE.NOT_ATTACHED_TO_FLICKING);return lr},toArray=function(lr){return[].slice.call(lr)},parseAlign$1=function(lr,cr){var ar;if(isString(lr))switch(lr){case ALIGN.PREV:ar=0;break;case ALIGN.CENTER:ar=.5*cr;break;case ALIGN.NEXT:ar=cr;break;default:if(ar=parseArithmeticSize(lr,cr),ar==null)throw new FlickingError(MESSAGE.WRONG_OPTION("align",lr),CODE.WRONG_OPTION)}else ar=lr;return ar},parseBounce=function(lr,cr){var ar;if(Array.isArray(lr))ar=lr.map(function(ur){return parseArithmeticSize(ur,cr)});else{var or=parseArithmeticSize(lr,cr);ar=[or,or]}return ar.map(function(ur){if(ur==null)throw new FlickingError(MESSAGE.WRONG_OPTION("bounce",lr),CODE.WRONG_OPTION);return ur})},parseArithmeticSize=function(lr,cr){var ar=parseArithmeticExpression(lr);return ar==null?null:ar.percentage*cr+ar.absolute},parseArithmeticExpression=function(lr){var cr=/(?:(\+|\-)\s*)?(\d+(?:\.\d+)?(%|px)?)/g;if(typeof lr=="number")return{percentage:0,absolute:lr};for(var ar={percentage:0,absolute:0},or=0,ur=cr.exec(lr);ur!=null;){var fr=ur[1],xr=ur[2],pr=ur[3],br=parseFloat(xr);if(or<=0&&(fr=fr||"+"),!fr)return null;var gr=fr==="+"?1:-1;pr==="%"?ar.percentage+=gr*(br/100):ar.absolute+=gr*br,++or,ur=cr.exec(lr)}return or===0?null:ar},parsePanelAlign=function(lr){return typeof lr=="object"?lr.panel:lr},getDirection=function(lr,cr){return lr===cr?DIRECTION.NONE:lr<cr?DIRECTION.NEXT:DIRECTION.PREV},parseElement=function(lr){Array.isArray(lr)||(lr=[lr]);var cr=[];return lr.forEach(function(ar){if(isString(ar)){var or=document.createElement("div");for(or.innerHTML=ar,cr.push.apply(cr,__spread(toArray(or.children)));or.firstChild;)or.removeChild(or.firstChild)}else if(ar&&ar.nodeType===Node.ELEMENT_NODE)cr.push(ar);else throw new FlickingError(MESSAGE.WRONG_TYPE(ar,["HTMLElement","string"]),CODE.WRONG_TYPE)}),cr},getMinusCompensatedIndex=function(lr,cr){return lr<0?clamp(lr+cr,0,cr):clamp(lr,0,cr)},includes=function(lr,cr){var ar,or;try{for(var ur=__values(lr),fr=ur.next();!fr.done;fr=ur.next()){var xr=fr.value;if(xr===cr)return!0}}catch(pr){ar={error:pr}}finally{try{fr&&!fr.done&&(or=ur.return)&&or.call(ur)}finally{if(ar)throw ar.error}}return!1},isString=function(lr){return typeof lr=="string"},circulatePosition=function(lr,cr,ar){var or=ar-cr;if(lr<cr){var ur=(cr-lr)%or;lr=ar-ur}else if(lr>ar){var ur=(lr-ar)%or;lr=cr+ur}return lr},find=function(lr,cr){var ar,or;try{for(var ur=__values(lr),fr=ur.next();!fr.done;fr=ur.next()){var xr=fr.value;if(cr(xr))return xr}}catch(pr){ar={error:pr}}finally{try{fr&&!fr.done&&(or=ur.return)&&or.call(ur)}finally{if(ar)throw ar.error}}return null},findIndex=function(lr,cr){for(var ar=0;ar<lr.length;ar++)if(cr(lr[ar]))return ar;return-1},getProgress=function(lr,cr,ar){return(lr-cr)/(ar-cr)},getStyle=function(lr){return window.getComputedStyle(lr)||lr.currentStyle},setSize=function(lr,cr){var ar=cr.width,or=cr.height;ar!=null&&(isString(ar)?lr.style.width=ar:lr.style.width=ar+"px"),or!=null&&(isString(or)?lr.style.height=or:lr.style.height=or+"px")},isBetween=function(lr,cr,ar){return lr>=cr&&lr<=ar},circulateIndex=function(lr,cr){return lr>=cr?lr%cr:lr<0?getMinusCompensatedIndex((lr+1)%cr-1,cr):lr},range=function(lr){for(var cr=new Array(lr),ar=0;ar<lr;ar++)cr[ar]=ar;return cr},getElementSize=function(lr){var cr=lr.el,ar=lr.horizontal,or=lr.useFractionalSize,ur=lr.useOffset,fr=lr.style,xr=0;if(or){var pr=parseFloat(ar?fr.width:fr.height)||0,br=fr.boxSizing==="border-box",gr=ar?parseFloat(fr.borderLeftWidth||"0")+parseFloat(fr.borderRightWidth||"0"):parseFloat(fr.borderTopWidth||"0")+parseFloat(fr.borderBottomWidth||"0");if(br)xr=ur?pr:pr-gr;else{var mr=ar?parseFloat(fr.paddingLeft||"0")+parseFloat(fr.paddingRight||"0"):parseFloat(fr.paddingTop||"0")+parseFloat(fr.paddingBottom||"0");xr=ur?pr+mr+gr:pr+mr}}else{var _r=ar?"Width":"Height";xr=ur?cr["offset"+_r]:cr["client"+_r]}return Math.max(xr,0)},setPrototypeOf=Object.setPrototypeOf||function(lr,cr){return lr.__proto__=cr,lr},FlickingError=function(lr){__extends(cr,lr);function cr(ar,or){var ur=lr.call(this,ar)||this;return setPrototypeOf(ur,cr.prototype),ur.name="FlickingError",ur.code=or,ur}return cr}(Error),Viewport=function(){function lr(ar,or){this._flicking=ar,this._el=or,this._width=0,this._height=0,this._padding={left:0,right:0,top:0,bottom:0},this._isBorderBoxSizing=!1}var cr=lr.prototype;return Object.defineProperty(cr,"element",{get:function(){return this._el},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"width",{get:function(){return this._width-this._padding.left-this._padding.right},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"height",{get:function(){return this._height-this._padding.top-this._padding.bottom},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"padding",{get:function(){return this._padding},enumerable:!1,configurable:!0}),cr.setSize=function(ar){var or=ar.width,ur=ar.height,fr=this._el,xr=this._padding,pr=this._isBorderBoxSizing;if(or!=null)if(isString(or))fr.style.width=or;else{var br=pr?or+xr.left+xr.right:or;fr.style.width=br+"px"}if(ur!=null)if(isString(ur))fr.style.height=ur;else{var gr=pr?ur+xr.top+xr.bottom:ur;fr.style.height=gr+"px"}this.resize()},cr.resize=function(){var ar=this._el,or=getStyle(ar),ur=this._flicking.useFractionalSize;this._width=getElementSize({el:ar,horizontal:!0,useFractionalSize:ur,useOffset:!1,style:or}),this._height=getElementSize({el:ar,horizontal:!1,useFractionalSize:ur,useOffset:!1,style:or}),this._padding={left:or.paddingLeft?parseFloat(or.paddingLeft):0,right:or.paddingRight?parseFloat(or.paddingRight):0,top:or.paddingTop?parseFloat(or.paddingTop):0,bottom:or.paddingBottom?parseFloat(or.paddingBottom):0},this._isBorderBoxSizing=or.boxSizing==="border-box"},lr}(),AutoResizer=function(){function lr(ar){var or=this;this._onResize=function(){var ur=or._flicking,fr=ur.resizeDebounce,xr=ur.maxResizeDebounce;fr<=0?ur.resize():(or._maxResizeDebounceTimer<=0&&xr>0&&xr>=fr&&(or._maxResizeDebounceTimer=window.setTimeout(or._doScheduledResize,xr)),or._resizeTimer>0&&(clearTimeout(or._resizeTimer),or._resizeTimer=0),or._resizeTimer=window.setTimeout(or._doScheduledResize,fr))},this._doScheduledResize=function(){clearTimeout(or._resizeTimer),clearTimeout(or._maxResizeDebounceTimer),or._maxResizeDebounceTimer=-1,or._resizeTimer=-1,or._flicking.resize()},this._skipFirstResize=function(){var ur=!0;return function(){if(ur){ur=!1;return}or._onResize()}}(),this._flicking=ar,this._enabled=!1,this._resizeObserver=null,this._resizeTimer=-1,this._maxResizeDebounceTimer=-1}var cr=lr.prototype;return Object.defineProperty(cr,"enabled",{get:function(){return this._enabled},enumerable:!1,configurable:!0}),cr.enable=function(){var ar=this._flicking,or=ar.viewport;if(this._enabled&&this.disable(),ar.useResizeObserver&&window.ResizeObserver){var ur=or.width!==0||or.height!==0,fr=ur?new ResizeObserver(this._skipFirstResize):new ResizeObserver(this._onResize);fr.observe(ar.viewport.element),this._resizeObserver=fr}else window.addEventListener("resize",this._onResize);return this._enabled=!0,this},cr.disable=function(){if(!this._enabled)return this;var ar=this._resizeObserver;return ar?(ar.disconnect(),this._resizeObserver=null):window.removeEventListener("resize",this._onResize),this._enabled=!1,this},lr}(),VanillaElementProvider=function(){function lr(ar){this._element=ar,this._rendered=!0}var cr=lr.prototype;return Object.defineProperty(cr,"element",{get:function(){return this._element},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"rendered",{get:function(){return this._rendered},enumerable:!1,configurable:!0}),cr.show=function(ar){var or=this.element,ur=ar.camera.element;or.parentElement!==ur&&(ur.appendChild(or),this._rendered=!0)},cr.hide=function(ar){var or=this.element,ur=ar.camera.element;or.parentElement===ur&&(ur.removeChild(or),this._rendered=!1)},lr}(),VirtualElementProvider=function(){function lr(ar){this._flicking=ar}var cr=lr.prototype;return Object.defineProperty(cr,"element",{get:function(){return this._virtualElement.nativeElement},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"rendered",{get:function(){return this._virtualElement.visible},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"_virtualElement",{get:function(){var ar=this._flicking,or=this._panel.elementIndex,ur=ar.virtual.elements;return ur[or]},enumerable:!1,configurable:!0}),cr.init=function(ar){this._panel=ar},cr.show=function(){},cr.hide=function(){},lr}(),VirtualManager=function(){function lr(ar,or){var ur,fr,xr,pr;this._flicking=ar,this._renderPanel=(ur=or==null?void 0:or.renderPanel)!==null&&ur!==void 0?ur:function(){return""},this._initialPanelCount=(fr=or==null?void 0:or.initialPanelCount)!==null&&fr!==void 0?fr:-1,this._cache=(xr=or==null?void 0:or.cache)!==null&&xr!==void 0?xr:!1,this._panelClass=(pr=or==null?void 0:or.panelClass)!==null&&pr!==void 0?pr:CLASS.DEFAULT_VIRTUAL,this._elements=[]}var cr=lr.prototype;return Object.defineProperty(cr,"elements",{get:function(){return this._elements},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"renderPanel",{get:function(){return this._renderPanel},set:function(ar){this._renderPanel=ar,this._flicking.renderer.panels.forEach(function(or){return or.uncacheRenderResult()})},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"initialPanelCount",{get:function(){return this._initialPanelCount},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"cache",{get:function(){return this._cache},set:function(ar){this._cache=ar},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"panelClass",{get:function(){return this._panelClass},set:function(ar){this._panelClass=ar},enumerable:!1,configurable:!0}),cr.init=function(){var ar=this._flicking;if(ar.virtualEnabled){!ar.externalRenderer&&!ar.renderExternal&&this._initVirtualElements();var or=ar.camera.children;this._elements=or.map(function(ur){return{nativeElement:ur,visible:!0}})}},cr.show=function(ar){var or=this._elements[ar],ur=or.nativeElement;or.visible=!0,ur.style.display&&(ur.style.display="")},cr.hide=function(ar){var or=this._elements[ar],ur=or.nativeElement;or.visible=!1,ur.style.display="none"},cr.append=function(ar){ar===void 0&&(ar=1);var or=this._flicking;return this.insert(or.panels.length,ar)},cr.prepend=function(ar){return ar===void 0&&(ar=1),this.insert(0,ar)},cr.insert=function(ar,or){if(or===void 0&&(or=1),or<=0)return[];var ur=this._flicking;return ur.renderer.batchInsert({index:ar,elements:range(or),hasDOMInElements:!1})},cr.remove=function(ar,or){if(or<=0)return[];var ur=this._flicking;return ur.renderer.batchRemove({index:ar,deleteCount:or,hasDOMInElements:!1})},cr._initVirtualElements=function(){var ar=this,or=this._flicking,ur=or.camera.element,fr=or.panelsPerView,xr=document.createDocumentFragment(),pr=range(fr+1).map(function(br){var gr=document.createElement("div");return gr.className=ar._panelClass,gr.dataset.elementIndex=br.toString(),gr});pr.forEach(function(br){xr.appendChild(br)}),ur.appendChild(xr)},lr}(),EVENT={HOLD:"hold",CHANGE:"change",RELEASE:"release",ANIMATION_END:"animationEnd",FINISH:"finish"},POSITION_KEY="flick",STATE_TYPE;(function(lr){lr[lr.IDLE=0]="IDLE",lr[lr.HOLDING=1]="HOLDING",lr[lr.DRAGGING=2]="DRAGGING",lr[lr.ANIMATING=3]="ANIMATING",lr[lr.DISABLED=4]="DISABLED"})(STATE_TYPE||(STATE_TYPE={}));var State=function(){function lr(){this._delta=0,this._targetPanel=null}var cr=lr.prototype;return Object.defineProperty(cr,"delta",{get:function(){return this._delta},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"targetPanel",{get:function(){return this._targetPanel},set:function(ar){this._targetPanel=ar},enumerable:!1,configurable:!0}),cr.onEnter=function(ar){this._delta=ar._delta,this._targetPanel=ar._targetPanel},cr.onHold=function(ar){},cr.onChange=function(ar){},cr.onRelease=function(ar){},cr.onAnimationEnd=function(ar){},cr.onFinish=function(ar){},cr._moveToChangedPosition=function(ar){var or=ar.flicking,ur=ar.axesEvent,fr=ar.transitTo,xr=ur.delta[POSITION_KEY];if(xr){this._delta+=xr;var pr=or.camera,br=pr.position,gr=ur.pos[POSITION_KEY],mr=or.circularEnabled?circulatePosition(gr,pr.range.min,pr.range.max):gr;pr.lookAt(mr);var _r=new ComponentEvent$1(EVENTS.MOVE,{isTrusted:ur.isTrusted,holding:this.holding,direction:getDirection(0,ur.delta[POSITION_KEY]),axesEvent:ur});or.trigger(_r),_r.isCanceled()&&(pr.lookAt(br),fr(STATE_TYPE.DISABLED))}},lr}(),IdleState=function(lr){__extends(cr,lr);function cr(){var or=lr!==null&&lr.apply(this,arguments)||this;return or.holding=!1,or.animating=!1,or}var ar=cr.prototype;return ar.onEnter=function(){this._delta=0,this._targetPanel=null},ar.onHold=function(or){var ur=or.flicking,fr=or.axesEvent,xr=or.transitTo;if(ur.renderer.panelCount<=0){xr(STATE_TYPE.DISABLED);return}var pr=new ComponentEvent$1(EVENTS.HOLD_START,{axesEvent:fr});ur.trigger(pr),pr.isCanceled()?xr(STATE_TYPE.DISABLED):xr(STATE_TYPE.HOLDING)},ar.onChange=function(or){var ur=or.flicking,fr=or.axesEvent,xr=or.transitTo,pr=ur.control.controller,br=pr.animatingContext,gr=new ComponentEvent$1(EVENTS.MOVE_START,{isTrusted:fr.isTrusted,holding:this.holding,direction:getDirection(br.start,br.end),axesEvent:fr});ur.trigger(gr),gr.isCanceled()?xr(STATE_TYPE.DISABLED):xr(STATE_TYPE.ANIMATING).onChange(or)},cr}(State),HoldingState=function(lr){__extends(cr,lr);function cr(){var or=lr!==null&&lr.apply(this,arguments)||this;return or.holding=!0,or.animating=!1,or._releaseEvent=null,or}var ar=cr.prototype;return ar.onChange=function(or){var ur=or.flicking,fr=or.axesEvent,xr=or.transitTo,pr=fr.inputEvent,br=ur.horizontal?pr.offsetX:pr.offsetY,gr=new ComponentEvent$1(EVENTS.MOVE_START,{isTrusted:fr.isTrusted,holding:this.holding,direction:getDirection(0,-br),axesEvent:fr});ur.trigger(gr),gr.isCanceled()?xr(STATE_TYPE.DISABLED):xr(STATE_TYPE.DRAGGING).onChange(or)},ar.onRelease=function(or){var ur=or.flicking,fr=or.axesEvent,xr=or.transitTo;if(ur.trigger(new ComponentEvent$1(EVENTS.HOLD_END,{axesEvent:fr})),fr.delta.flick!==0){fr.setTo({flick:ur.camera.position},0),xr(STATE_TYPE.IDLE);return}this._releaseEvent=fr},ar.onFinish=function(or){var ur,fr,xr=or.flicking,pr=or.transitTo;if(pr(STATE_TYPE.IDLE),!!this._releaseEvent){var br=this._releaseEvent,gr=br.inputEvent.srcEvent,mr;if(gr.type==="touchend"){var _r=gr,Sr=_r.changedTouches[0];mr=document.elementFromPoint(Sr.clientX,Sr.clientY)}else mr=gr.target;var yr=xr.renderer.panels,Cr=null;try{for(var Ar=__values(yr),kr=Ar.next();!kr.done;kr=Ar.next()){var Or=kr.value;if(Or.contains(mr)){Cr=Or;break}}}catch(Fr){ur={error:Fr}}finally{try{kr&&!kr.done&&(fr=Ar.return)&&fr.call(Ar)}finally{if(ur)throw ur.error}}if(Cr){var Dr=xr.camera.position,Rr=Cr.position;xr.trigger(new ComponentEvent$1(EVENTS.SELECT,{index:Cr.index,panel:Cr,direction:getDirection(Dr,Rr)}))}}},cr}(State),DraggingState=function(lr){__extends(cr,lr);function cr(){var or=lr!==null&&lr.apply(this,arguments)||this;return or.holding=!0,or.animating=!0,or}var ar=cr.prototype;return ar.onChange=function(or){this._moveToChangedPosition(or)},ar.onRelease=function(or){var ur,fr=or.flicking,xr=or.axesEvent,pr=or.transitTo;if(fr.trigger(new ComponentEvent$1(EVENTS.HOLD_END,{axesEvent:xr})),fr.renderer.panelCount<=0){pr(STATE_TYPE.IDLE);return}pr(STATE_TYPE.ANIMATING);var br=fr.control,gr=xr.destPos[POSITION_KEY],mr=Math.max(xr.duration,fr.duration);try{br.moveToPosition(gr,mr,xr)}catch{pr(STATE_TYPE.IDLE),xr.setTo((ur={},ur[POSITION_KEY]=fr.camera.position,ur),0)}},cr}(State),AnimatingState=function(lr){__extends(cr,lr);function cr(){var or=lr!==null&&lr.apply(this,arguments)||this;return or.holding=!1,or.animating=!0,or}var ar=cr.prototype;return ar.onHold=function(or){var ur=or.flicking,fr=or.axesEvent,xr=or.transitTo,pr=this._targetPanel,br=ur.control;this._delta=0,ur.control.updateInput(),ur.changeOnHold&&pr&&br.setActive(pr,br.activePanel,fr.isTrusted);var gr=new ComponentEvent$1(EVENTS.HOLD_START,{axesEvent:fr});ur.trigger(gr),gr.isCanceled()?xr(STATE_TYPE.DISABLED):xr(STATE_TYPE.DRAGGING)},ar.onChange=function(or){this._moveToChangedPosition(or)},ar.onFinish=function(or){var ur=or.flicking,fr=or.axesEvent,xr=or.transitTo,pr=ur.control,br=pr.controller,gr=br.animatingContext;xr(STATE_TYPE.IDLE),ur.trigger(new ComponentEvent$1(EVENTS.MOVE_END,{isTrusted:fr.isTrusted,direction:getDirection(gr.start,gr.end),axesEvent:fr}));var mr=this._targetPanel;mr&&pr.setActive(mr,pr.activePanel,fr.isTrusted)},cr}(State),DisabledState=function(lr){__extends(cr,lr);function cr(){var or=lr!==null&&lr.apply(this,arguments)||this;return or.holding=!1,or.animating=!0,or}var ar=cr.prototype;return ar.onAnimationEnd=function(or){var ur=or.transitTo;ur(STATE_TYPE.IDLE)},ar.onChange=function(or){var ur=or.axesEvent,fr=or.transitTo;ur.stop(),fr(STATE_TYPE.IDLE)},ar.onRelease=function(or){var ur=or.axesEvent,fr=or.transitTo;ur.delta.flick===0&&fr(STATE_TYPE.IDLE)},cr}(State),StateMachine=function(){function lr(){var ar=this;this.transitTo=function(or){var ur;switch(or){case STATE_TYPE.IDLE:ur=new IdleState;break;case STATE_TYPE.HOLDING:ur=new HoldingState;break;case STATE_TYPE.DRAGGING:ur=new DraggingState;break;case STATE_TYPE.ANIMATING:ur=new AnimatingState;break;case STATE_TYPE.DISABLED:ur=new DisabledState;break}return ur.onEnter(ar._state),ar._state=ur,ar._state},this._state=new IdleState}var cr=lr.prototype;return Object.defineProperty(cr,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),cr.fire=function(ar,or){var ur=this._state,fr=__assign(__assign({},or),{transitTo:this.transitTo});switch(ar){case EVENT.HOLD:ur.onHold(fr);break;case EVENT.CHANGE:ur.onChange(fr);break;case EVENT.RELEASE:ur.onRelease(fr);break;case EVENT.ANIMATION_END:ur.onAnimationEnd(fr);break;case EVENT.FINISH:ur.onFinish(fr);break}},lr}(),AxesController=function(){function lr(){var ar=this;this._onAxesHold=function(){ar._dragged=!1},this._onAxesChange=function(){var or;ar._dragged=!!(!((or=ar._panInput)===null||or===void 0)&&or.isEnabled())},this._preventClickWhenDragged=function(or){ar._dragged&&(or.preventDefault(),or.stopPropagation()),ar._dragged=!1},this._resetInternalValues(),this._stateMachine=new StateMachine}var cr=lr.prototype;return Object.defineProperty(cr,"axes",{get:function(){return this._axes},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"panInput",{get:function(){return this._panInput},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"stateMachine",{get:function(){return this._stateMachine},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"state",{get:function(){return this._stateMachine.state},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"animatingContext",{get:function(){return this._animatingContext},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"controlParams",{get:function(){var ar=this._axes;if(!ar)return{range:{min:0,max:0},position:0,circular:!1};var or=ar.axis[POSITION_KEY];return{range:{min:or.range[0],max:or.range[1]},circular:or.circular[0],position:this.position}},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"enabled",{get:function(){var ar,or;return(or=(ar=this._panInput)===null||ar===void 0?void 0:ar.isEnabled())!==null&&or!==void 0?or:!1},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"position",{get:function(){var ar,or;return(or=(ar=this._axes)===null||ar===void 0?void 0:ar.get([POSITION_KEY])[POSITION_KEY])!==null&&or!==void 0?or:0},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"range",{get:function(){var ar,or;return(or=(ar=this._axes)===null||ar===void 0?void 0:ar.axis[POSITION_KEY].range)!==null&&or!==void 0?or:[0,0]},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"bounce",{get:function(){var ar;return(ar=this._axes)===null||ar===void 0?void 0:ar.axis[POSITION_KEY].bounce},enumerable:!1,configurable:!0}),cr.init=function(ar){var or,ur=this;this._flicking=ar,this._axes=new Axes$1((or={},or[POSITION_KEY]={range:[0,0],circular:!1,bounce:[0,0]},or),{deceleration:ar.deceleration,interruptable:ar.interruptable,nested:ar.nested,easing:ar.easing}),this._panInput=new PanInput(ar.viewport.element,{inputType:ar.inputType,threshold:1,iOSEdgeSwipeThreshold:ar.iOSEdgeSwipeThreshold,preventDefaultOnDrag:ar.preventDefaultOnDrag,scale:ar.horizontal?[ar.camera.panelOrder===ORDER.RTL?1:-1,0]:[0,-1],releaseOnScroll:!0});var fr=this._axes;fr.connect(ar.horizontal?[POSITION_KEY,""]:["",POSITION_KEY],this._panInput);var xr=function(br){var gr=EVENT[br];fr.on(gr,function(mr){ur._stateMachine.fire(gr,{flicking:ar,axesEvent:mr})})};for(var pr in EVENT)xr(pr);return this},cr.destroy=function(){var ar;this._axes&&(this.removePreventClickHandler(),this._axes.destroy()),(ar=this._panInput)===null||ar===void 0||ar.destroy(),this._resetInternalValues()},cr.enable=function(){var ar;return(ar=this._panInput)===null||ar===void 0||ar.enable(),this},cr.disable=function(){var ar;return(ar=this._panInput)===null||ar===void 0||ar.disable(),this},cr.release=function(){var ar;return(ar=this._panInput)===null||ar===void 0||ar.release(),this},cr.updateAnimation=function(ar,or){var ur,fr;return this._animatingContext=__assign(__assign({},this._animatingContext),{end:ar}),(fr=this._axes)===null||fr===void 0||fr.updateAnimation({destPos:(ur={},ur[POSITION_KEY]=ar,ur),duration:or}),this},cr.stopAnimation=function(){var ar;return(ar=this._axes)===null||ar===void 0||ar.stopAnimation(),this},cr.update=function(ar){var or,ur=getFlickingAttached(this._flicking),fr=ur.camera,xr=this._axes,pr=xr.axis[POSITION_KEY];return pr.circular=[ar.circular,ar.circular],pr.range=[ar.range.min,ar.range.max],pr.bounce=parseBounce(ur.bounce,fr.size),xr.axisManager.set((or={},or[POSITION_KEY]=ar.position,or)),this},cr.addPreventClickHandler=function(){var ar=getFlickingAttached(this._flicking),or=this._axes,ur=ar.camera.element;return or.on(EVENT.HOLD,this._onAxesHold),or.on(EVENT.CHANGE,this._onAxesChange),ur.addEventListener("click",this._preventClickWhenDragged,!0),this},cr.removePreventClickHandler=function(){var ar=getFlickingAttached(this._flicking),or=this._axes,ur=ar.camera.element;return or.off(EVENT.HOLD,this._onAxesHold),or.off(EVENT.CHANGE,this._onAxesChange),ur.removeEventListener("click",this._preventClickWhenDragged,!0),this},cr.animateTo=function(ar,or,ur){var fr=this,xr,pr=this._axes,br=this._stateMachine.state;if(!pr)return Promise.reject(new FlickingError(MESSAGE.NOT_ATTACHED_TO_FLICKING,CODE.NOT_ATTACHED_TO_FLICKING));var gr=pr.get([POSITION_KEY])[POSITION_KEY];if(gr===ar){var mr=getFlickingAttached(this._flicking);return mr.camera.lookAt(ar),br.targetPanel&&mr.control.setActive(br.targetPanel,mr.control.activePanel,(xr=ur==null?void 0:ur.isTrusted)!==null&&xr!==void 0?xr:!1),Promise.resolve()}this._animatingContext={start:gr,end:ar,offset:0};var _r=function(){var Sr,yr,Cr=function(){fr._animatingContext={start:0,end:0,offset:0}};pr.once(EVENT.FINISH,Cr),ur?ur.setTo((Sr={},Sr[POSITION_KEY]=ar,Sr),or):pr.setTo((yr={},yr[POSITION_KEY]=ar,yr),or)};return new Promise(function(Sr,yr){var Cr=function(){pr.off(EVENT.HOLD,Ar),Sr()},Ar=function(){pr.off(EVENT.FINISH,Cr),yr(new FlickingError(MESSAGE.ANIMATION_INTERRUPTED,CODE.ANIMATION_INTERRUPTED))};pr.once(EVENT.FINISH,Cr),pr.once(EVENT.HOLD,Ar),_r()})},cr.updateDirection=function(){var ar=getFlickingAttached(this._flicking),or=this._axes,ur=this._panInput;or.disconnect(ur),or.connect(ar.horizontal?[POSITION_KEY,""]:["",POSITION_KEY],ur),ur.options.scale=ar.horizontal?[ar.camera.panelOrder===ORDER.RTL?1:-1,0]:[0,-1]},cr._resetInternalValues=function(){this._flicking=null,this._axes=null,this._panInput=null,this._animatingContext={start:0,end:0,offset:0},this._dragged=!1},lr}(),Control=function(){function lr(){this._flicking=null,this._controller=new AxesController,this._activePanel=null}var cr=lr.prototype;return Object.defineProperty(cr,"controller",{get:function(){return this._controller},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"activeIndex",{get:function(){var ar,or;return(or=(ar=this._activePanel)===null||ar===void 0?void 0:ar.index)!==null&&or!==void 0?or:-1},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"activePanel",{get:function(){return this._activePanel},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"animating",{get:function(){return this._controller.state.animating},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"holding",{get:function(){return this._controller.state.holding},enumerable:!1,configurable:!0}),cr.init=function(ar){return this._flicking=ar,this._controller.init(ar),this},cr.destroy=function(){this._controller.destroy(),this._flicking=null,this._activePanel=null},cr.enable=function(){return this._controller.enable(),this},cr.disable=function(){return this._controller.disable(),this},cr.release=function(){return this._controller.release(),this},cr.updateAnimation=function(ar,or,ur){var fr=this._controller.state,xr=this._getPosition(ar,ur??DIRECTION.NONE);return fr.targetPanel=ar,this._controller.updateAnimation(xr,or),this},cr.stopAnimation=function(){var ar=this._controller.state;return ar.targetPanel=null,this._controller.stopAnimation(),this},cr.updatePosition=function(ar){var or=getFlickingAttached(this._flicking),ur=or.camera,fr=this._activePanel;fr&&ur.lookAt(ur.clampToReachablePosition(fr.position))},cr.updateInput=function(){var ar=getFlickingAttached(this._flicking),or=ar.camera;return this._controller.update(or.controlParams),this},cr.resetActive=function(){return this._activePanel=null,this},cr.moveToPanel=function(ar,or){var ur=or.duration,fr=or.direction,xr=fr===void 0?DIRECTION.NONE:fr,pr=or.axesEvent;return __awaiter(this,void 0,void 0,function(){var br;return __generator(this,function(gr){return br=this._getPosition(ar,xr),this._triggerIndexChangeEvent(ar,ar.position,pr,xr),[2,this._animateToPosition({position:br,duration:ur,newActivePanel:ar,axesEvent:pr})]})})},cr.setActive=function(ar,or,ur){var fr,xr=getFlickingAttached(this._flicking);this._activePanel=ar,this._nextPanel=null,xr.camera.updateAdaptiveHeight(),ar!==or?xr.trigger(new ComponentEvent$1(EVENTS.CHANGED,{index:ar.index,panel:ar,prevIndex:(fr=or==null?void 0:or.index)!==null&&fr!==void 0?fr:-1,prevPanel:or,isTrusted:ur,direction:or?getDirection(or.position,ar.position):DIRECTION.NONE})):xr.trigger(new ComponentEvent$1(EVENTS.RESTORED,{isTrusted:ur}))},cr.copy=function(ar){this._flicking=ar._flicking,this._activePanel=ar._activePanel,this._controller=ar._controller},cr._triggerIndexChangeEvent=function(ar,or,ur,fr){var xr,pr=getFlickingAttached(this._flicking),br=ar!==this._activePanel?EVENTS.WILL_CHANGE:EVENTS.WILL_RESTORE,gr=pr.camera,mr=this._activePanel,_r=new ComponentEvent$1(br,{index:ar.index,panel:ar,isTrusted:(ur==null?void 0:ur.isTrusted)||!1,direction:fr??getDirection((xr=mr==null?void 0:mr.position)!==null&&xr!==void 0?xr:gr.position,or)});if(this._nextPanel=ar,pr.trigger(_r),_r.isCanceled())throw new FlickingError(MESSAGE.STOP_CALLED_BY_USER,CODE.STOP_CALLED_BY_USER)},cr._animateToPosition=function(ar){var or=ar.position,ur=ar.duration,fr=ar.newActivePanel,xr=ar.axesEvent;return __awaiter(this,void 0,void 0,function(){var pr,br,gr,mr=this;return __generator(this,function(_r){return pr=getFlickingAttached(this._flicking),br=function(){return mr._controller.animateTo(or,ur,xr)},gr=this._controller.state,gr.targetPanel=fr,ur<=0?[2,br()]:[2,br().then(function(){return __awaiter(mr,void 0,void 0,function(){return __generator(this,function(Sr){switch(Sr.label){case 0:return[4,pr.renderer.render()];case 1:return Sr.sent(),[2]}})})}).catch(function(Sr){if(!(xr&&Sr instanceof FlickingError&&Sr.code===CODE.ANIMATION_INTERRUPTED))throw Sr})]})})},cr._getPosition=function(ar,or){or===void 0&&(or=DIRECTION.NONE);var ur=getFlickingAttached(this._flicking),fr=ur.camera,xr=ar.position,pr=fr.findNearestAnchor(xr);if(ar.removed||!pr)throw new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(ar.position),CODE.POSITION_NOT_REACHABLE);if(!fr.canReach(ar))xr=pr.position,ar=pr.panel;else if(ur.circularEnabled){var br=this._controller.position,gr=fr.rangeDiff,mr=[xr,xr+gr,xr-gr].filter(function(_r){return or===DIRECTION.NONE?!0:or===DIRECTION.PREV?_r<=br:_r>=br});xr=mr.reduce(function(_r,Sr){return Math.abs(br-Sr)<Math.abs(br-_r)?Sr:_r},1/0)}return xr},lr}(),AnchorPoint=function(){function lr(ar){var or=ar.index,ur=ar.position,fr=ar.panel;this._index=or,this._pos=ur,this._panel=fr}var cr=lr.prototype;return Object.defineProperty(cr,"index",{get:function(){return this._index},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"position",{get:function(){return this._pos},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"panel",{get:function(){return this._panel},enumerable:!1,configurable:!0}),lr}(),SnapControl=function(lr){__extends(cr,lr);function cr(or){var ur=(or===void 0?{}:or).count,fr=ur===void 0?1/0:ur,xr=lr.call(this)||this;return xr._count=fr,xr}var ar=cr.prototype;return Object.defineProperty(ar,"count",{get:function(){return this._count},set:function(or){this._count=or},enumerable:!1,configurable:!0}),ar.moveToPosition=function(or,ur,fr){var xr=getFlickingAttached(this._flicking),pr=xr.camera,br=pr.findActiveAnchor(),gr=pr.findNearestAnchor(pr.position),mr=this._controller.state;if(!br||!gr)return Promise.reject(new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(or),CODE.POSITION_NOT_REACHABLE));var _r=this._calcSnapThreshold(xr.threshold,or,br),Sr=xr.animating?mr.delta:or-pr.position,yr=Math.abs(Sr),Cr=fr&&fr.delta[POSITION_KEY]!==0?Math.abs(fr.delta[POSITION_KEY]):yr,Ar;if(Cr>=_r&&Cr>0)Ar=this._findSnappedAnchor(or,gr);else if(yr>=xr.threshold&&yr>0)Ar=this._findAdjacentAnchor(or,Sr,gr);else return this.moveToPanel(gr.panel,{duration:ur,axesEvent:fr});return this._triggerIndexChangeEvent(Ar.panel,or,fr),this._animateToPosition({position:pr.clampToReachablePosition(Ar.position),duration:ur,newActivePanel:Ar.panel,axesEvent:fr})},ar._findSnappedAnchor=function(or,ur){var fr=getFlickingAttached(this._flicking),xr=fr.camera,pr=this._count,br=xr.position,gr=xr.clampToReachablePosition(or),mr=xr.findAnchorIncludePosition(gr);if(!ur||!mr)throw new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(or),CODE.POSITION_NOT_REACHABLE);if(!isFinite(pr))return mr;var _r=fr.panelCount,Sr=xr.anchorPoints,yr=Math.sign(or-br)*Math.floor(Math.abs(or-br)/xr.rangeDiff);or>br&&mr.index<ur.index||mr.position>ur.position&&mr.index===ur.index?yr+=1:(or<br&&mr.index>ur.index||mr.position<ur.position&&mr.index===ur.index)&&(yr-=1);var Cr=yr*_r,Ar=mr.index+Cr;if(Math.abs(Ar-ur.index)<=pr){var kr=Sr[mr.index];return new AnchorPoint({index:kr.index,position:kr.position+yr*xr.rangeDiff,panel:kr.panel})}if(fr.circularEnabled){var Or=Sr[circulateIndex(ur.index+Math.sign(or-br)*pr,_r)],Dr=Math.floor(pr/_r);return or>br&&Or.index<ur.index?Dr+=1:or<br&&Or.index>ur.index&&(Dr-=1),new AnchorPoint({index:Or.index,position:Or.position+Dr*xr.rangeDiff,panel:Or.panel})}else return Sr[clamp(ur.index+Math.sign(or-br)*pr,0,Sr.length-1)]},ar._findAdjacentAnchor=function(or,ur,fr){var xr,pr=getFlickingAttached(this._flicking),br=pr.camera;if(br.circularEnabled){var gr=br.findAnchorIncludePosition(or);if(gr&&gr.position!==fr.position)return gr}var mr=(xr=ur>0?br.getNextAnchor(fr):br.getPrevAnchor(fr))!==null&&xr!==void 0?xr:fr;return mr},ar._calcSnapThreshold=function(or,ur,fr){var xr=ur>fr.position,pr=fr.panel,br=pr.size,gr=pr.alignPosition;return Math.max(or,xr?br-gr+pr.margin.next:gr+pr.margin.prev)},cr}(Control),FreeControl=function(lr){__extends(cr,lr);function cr(or){var ur=(or===void 0?{}:or).stopAtEdge,fr=ur===void 0?!0:ur,xr=lr.call(this)||this;return xr._stopAtEdge=fr,xr}var ar=cr.prototype;return Object.defineProperty(ar,"stopAtEdge",{get:function(){return this._stopAtEdge},set:function(or){this._stopAtEdge=or},enumerable:!1,configurable:!0}),ar.updatePosition=function(or){var ur=getFlickingAttached(this._flicking),fr=ur.camera,xr=this._activePanel;if(xr){var pr=xr.range,br=pr.min+(pr.max-pr.min)*or;fr.lookAt(fr.clampToReachablePosition(br))}},ar.moveToPosition=function(or,ur,fr){var xr=getFlickingAttached(this._flicking),pr=xr.camera,br=pr.clampToReachablePosition(or),gr=pr.findAnchorIncludePosition(br);if(!gr)return Promise.reject(new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(or),CODE.POSITION_NOT_REACHABLE));var mr=gr.panel;return mr!==this._activePanel&&this._triggerIndexChangeEvent(mr,or,fr),this._animateToPosition({position:this._stopAtEdge?br:or,duration:ur,newActivePanel:mr,axesEvent:fr})},cr}(Control),StrictControl=function(lr){__extends(cr,lr);function cr(or){var ur=(or===void 0?{}:or).count,fr=ur===void 0?1:ur,xr=lr.call(this)||this;return xr.setActive=function(pr,br,gr){lr.prototype.setActive.call(xr,pr,br,gr),xr.updateInput()},xr._count=fr,xr._resetIndexRange(),xr}var ar=cr.prototype;return Object.defineProperty(ar,"count",{get:function(){return this._count},set:function(or){this._count=or},enumerable:!1,configurable:!0}),ar.destroy=function(){lr.prototype.destroy.call(this),this._resetIndexRange()},ar.updateInput=function(){var or,ur=getFlickingAttached(this._flicking),fr=ur.camera,xr=ur.renderer,pr=this._controller,br=fr.controlParams,gr=this._count,mr=pr.state.animating?(or=fr.findNearestAnchor(fr.position))===null||or===void 0?void 0:or.panel:this._activePanel;if(!mr)return pr.update(br),this._resetIndexRange(),this;var _r=br.range,Sr=mr.position,yr=mr.index,Cr=xr.panelCount,Ar=yr-gr,kr=yr+gr;Ar<0&&(Ar=ur.circularEnabled?getMinusCompensatedIndex((Ar+1)%Cr-1,Cr):clamp(Ar,0,Cr-1)),kr>=Cr&&(kr=ur.circularEnabled?kr%Cr:clamp(kr,0,Cr-1));var Or=xr.panels[Ar],Dr=xr.panels[kr],Rr=Math.max(Or.position,_r.min),Fr=Math.min(Dr.position,_r.max);return Rr>Sr&&(Rr-=fr.rangeDiff),Fr<Sr&&(Fr+=fr.rangeDiff),br.range={min:Rr,max:Fr},br.circular&&(br.position<Rr&&(br.position+=fr.rangeDiff),br.position>Fr&&(br.position-=fr.rangeDiff)),br.circular=!1,pr.update(br),this._indexRange={min:Or.index,max:Dr.index},this},ar.moveToPanel=function(or,ur){return __awaiter(this,void 0,void 0,function(){var fr,xr,pr;return __generator(this,function(br){return fr=getFlickingAttached(this._flicking),xr=fr.camera,pr=this._controller,pr.update(xr.controlParams),[2,lr.prototype.moveToPanel.call(this,or,ur)]})})},ar.moveToPosition=function(or,ur,fr){var xr,pr=getFlickingAttached(this._flicking),br=pr.camera,gr=(xr=this._nextPanel)!==null&&xr!==void 0?xr:this._activePanel,mr=this._controller.range,_r=this._indexRange,Sr=br.range,yr=this._controller.state,Cr=clamp(br.clampToReachablePosition(or),mr[0],mr[1]),Ar=br.findAnchorIncludePosition(Cr);if(!Ar||!gr)return Promise.reject(new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(or),CODE.POSITION_NOT_REACHABLE));var kr=gr.position,Or=pr.animating?yr.delta:or-br.position,Dr=Math.abs(Or)>=pr.threshold,Rr=or>kr?br.getNextAnchor(Ar):br.getPrevAnchor(Ar),Fr,Nr,Hr=br.anchorPoints,jr=Hr[0],Jr=Hr[Hr.length-1],Yr=or<=Sr.min&&isBetween(jr.panel.index,_r.min,_r.max),Ur=or>=Sr.max&&isBetween(Jr.panel.index,_r.min,_r.max),Zr=Rr&&(_r.min<=_r.max?isBetween(Rr.index,_r.min,_r.max):Rr.index>=_r.min||Rr.index<=_r.max);if(Yr||Ur){var Wr=or<Sr.min?jr:Jr;Nr=Wr.panel,Fr=Wr.position}else if(Dr&&Ar.position!==gr.position)Nr=Ar.panel,Fr=Ar.position;else if(Dr&&Zr)Nr=Rr.panel,Fr=Rr.position;else{var ni=br.findNearestAnchor(br.position);return ni?this.moveToPanel(ni.panel,{duration:ur,axesEvent:fr}):Promise.reject(new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(or),CODE.POSITION_NOT_REACHABLE))}return this._triggerIndexChangeEvent(Nr,or,fr),this._animateToPosition({position:Fr,duration:ur,newActivePanel:Nr,axesEvent:fr})},ar._resetIndexRange=function(){this._indexRange={min:0,max:0}},cr}(Control),CameraMode=function(){function lr(ar){this._flicking=ar}var cr=lr.prototype;return cr.getAnchors=function(){var ar=this._flicking.renderer.panels;return ar.map(function(or,ur){return new AnchorPoint({index:ur,position:or.position,panel:or})})},cr.findAnchorIncludePosition=function(ar){var or=this._flicking.camera.anchorPoints,ur=or.filter(function(fr){return fr.panel.includePosition(ar,!0)});return ur.reduce(function(fr,xr){return fr&&Math.abs(fr.position-ar)<Math.abs(xr.position-ar)?fr:xr},null)},cr.findNearestAnchor=function(ar){var or=this._flicking.camera.anchorPoints;if(or.length<=0)return null;for(var ur=1/0,fr=0;fr<or.length;fr++){var xr=or[fr],pr=Math.abs(xr.position-ar);if(pr>ur)return or[fr-1];ur=pr}return or[or.length-1]},cr.clampToReachablePosition=function(ar){var or=this._flicking.camera,ur=or.range;return clamp(ar,ur.min,ur.max)},cr.getCircularOffset=function(){return 0},cr.canReach=function(ar){var or=this._flicking.camera,ur=or.range;if(ar.removed)return!1;var fr=ar.position;return fr>=ur.min&&fr<=ur.max},cr.canSee=function(ar){var or=this._flicking.camera,ur=or.visibleRange;return ar.isVisibleOnRange(ur.min,ur.max)},lr}(),LinearCameraMode=function(lr){__extends(cr,lr);function cr(){return lr!==null&&lr.apply(this,arguments)||this}var ar=cr.prototype;return ar.checkAvailability=function(){return!0},ar.getRange=function(){var or,ur,fr=this._flicking.renderer,xr=fr.getPanel(0),pr=fr.getPanel(fr.panelCount-1);return{min:(or=xr==null?void 0:xr.position)!==null&&or!==void 0?or:0,max:(ur=pr==null?void 0:pr.position)!==null&&ur!==void 0?ur:0}},cr}(CameraMode),CircularCameraMode=function(lr){__extends(cr,lr);function cr(){return lr!==null&&lr.apply(this,arguments)||this}var ar=cr.prototype;return ar.checkAvailability=function(){var or=this._flicking,ur=or.renderer,fr=ur.panels;if(fr.length<=0)return!1;var xr=fr[0],pr=fr[fr.length-1],br=xr.range.min-xr.margin.prev,gr=pr.range.max+pr.margin.next,mr=or.camera.size,_r=gr-br,Sr=fr.every(function(yr){return _r-yr.size>=mr});return Sr},ar.getRange=function(){var or=this._flicking,ur=or.renderer.panels;if(ur.length<=0)return{min:0,max:0};var fr=ur[0],xr=ur[ur.length-1],pr=fr.range.min-fr.margin.prev,br=xr.range.max+xr.margin.next;return{min:pr,max:br}},ar.getAnchors=function(){var or=this._flicking,ur=or.renderer.panels;return ur.map(function(fr,xr){return new AnchorPoint({index:xr,position:fr.position,panel:fr})})},ar.findNearestAnchor=function(or){var ur=this._flicking.camera,fr=ur.anchorPoints;if(fr.length<=0)return null;for(var xr=ur.range,pr=1/0,br=-1,gr=0;gr<fr.length;gr++){var mr=fr[gr],_r=Math.min(Math.abs(mr.position-or),Math.abs(mr.position-xr.min+xr.max-or),Math.abs(or-xr.min+xr.max-mr.position));_r<pr&&(pr=_r,br=gr)}return fr[br]},ar.findAnchorIncludePosition=function(or){var ur=this._flicking.camera,fr=ur.range,xr=ur.anchorPoints,pr=ur.rangeDiff,br=xr.length,gr=circulatePosition(or,fr.min,fr.max),mr=lr.prototype.findAnchorIncludePosition.call(this,gr);if(br>0&&(or===fr.min||or===fr.max)){var _r=[mr,new AnchorPoint({index:0,position:xr[0].position+pr,panel:xr[0].panel}),new AnchorPoint({index:br-1,position:xr[br-1].position-pr,panel:xr[br-1].panel})].filter(function(yr){return!!yr});mr=_r.reduce(function(yr,Cr){return yr&&Math.abs(yr.position-or)<Math.abs(Cr.position-or)?yr:Cr},null)}if(!mr)return null;if(or<fr.min){var Sr=-Math.floor((fr.min-or)/pr)-1;return new AnchorPoint({index:mr.index,position:mr.position+pr*Sr,panel:mr.panel})}else if(or>fr.max){var Sr=Math.floor((or-fr.max)/pr)+1;return new AnchorPoint({index:mr.index,position:mr.position+pr*Sr,panel:mr.panel})}return mr},ar.getCircularOffset=function(){var or=this._flicking,ur=or.camera;if(!ur.circularEnabled)return 0;var fr=or.panels.filter(function(br){return br.toggled}),xr=fr.filter(function(br){return br.toggleDirection===DIRECTION.PREV}),pr=fr.filter(function(br){return br.toggleDirection===DIRECTION.NEXT});return this._calcPanelAreaSum(xr)-this._calcPanelAreaSum(pr)},ar.clampToReachablePosition=function(or){return or},ar.canReach=function(or){return!or.removed},ar.canSee=function(or){var ur=this._flicking.camera,fr=ur.range,xr=ur.rangeDiff,pr=ur.visibleRange,br=lr.prototype.canSee.call(this,or);return pr.min<fr.min?br||or.isVisibleOnRange(pr.min+xr,pr.max+xr):pr.max>fr.max?br||or.isVisibleOnRange(pr.min-xr,pr.max-xr):br},ar._calcPanelAreaSum=function(or){return or.reduce(function(ur,fr){return ur+fr.sizeIncludingMargin},0)},cr}(CameraMode),BoundCameraMode=function(lr){__extends(cr,lr);function cr(){return lr!==null&&lr.apply(this,arguments)||this}var ar=cr.prototype;return ar.checkAvailability=function(){var or=this._flicking,ur=or.renderer,fr=ur.getPanel(0),xr=ur.getPanel(ur.panelCount-1);if(!fr||!xr)return!1;var pr=or.camera.size,br=fr.range.min,gr=xr.range.max,mr=gr-br,_r=pr<mr;return _r},ar.getRange=function(){var or=this._flicking,ur=or.renderer,fr=or.camera.alignPosition,xr=ur.getPanel(0),pr=ur.getPanel(ur.panelCount-1);if(!xr||!pr)return{min:0,max:0};var br=or.camera.size,gr=xr.range.min,mr=pr.range.max,_r=mr-gr,Sr=br<_r,yr=gr+fr,Cr=mr-br+fr;if(Sr)return{min:yr,max:Cr};var Ar=or.camera.align,kr=typeof Ar=="object"?Ar.camera:Ar,Or=yr+parseAlign$1(kr,Cr-yr);return{min:Or,max:Or}},ar.getAnchors=function(){var or=this._flicking,ur=or.camera,fr=or.renderer.panels;if(fr.length<=0)return[];var xr=or.camera.range,pr=fr.filter(function(Ar){return ur.canReach(Ar)});if(pr.length>0){var br=pr[0].position!==xr.min,gr=pr[pr.length-1].position!==xr.max,mr=br?1:0,_r=pr.map(function(Ar,kr){return new AnchorPoint({index:kr+mr,position:Ar.position,panel:Ar})});return br&&_r.splice(0,0,new AnchorPoint({index:0,position:xr.min,panel:fr[pr[0].index-1]})),gr&&_r.push(new AnchorPoint({index:_r.length,position:xr.max,panel:fr[pr[pr.length-1].index+1]})),_r}else if(xr.min!==xr.max){var Sr=this._findNearestPanel(xr.min,fr),yr=Sr.index===fr.length-1?Sr.prev():Sr,Cr=yr.next();return[new AnchorPoint({index:0,position:xr.min,panel:yr}),new AnchorPoint({index:1,position:xr.max,panel:Cr})]}else return[new AnchorPoint({index:0,position:xr.min,panel:this._findNearestPanel(xr.min,fr)})]},ar.findAnchorIncludePosition=function(or){var ur=this._flicking.camera,fr=ur.range,xr=ur.anchorPoints;return xr.length<=0?null:or<=fr.min?xr[0]:or>=fr.max?xr[xr.length-1]:lr.prototype.findAnchorIncludePosition.call(this,or)},ar._findNearestPanel=function(or,ur){for(var fr=1/0,xr=0;xr<ur.length;xr++){var pr=ur[xr],br=Math.abs(pr.position-or);if(br>fr)return ur[xr-1];fr=br}return ur[ur.length-1]},cr}(CameraMode),Camera=function(){function lr(ar,or){var ur=this,fr=(or===void 0?{}:or).align,xr=fr===void 0?ALIGN.CENTER:fr;this._checkTranslateSupport=function(){var pr,br,gr=["webkitTransform","msTransform","MozTransform","OTransform","transform"],mr=document.documentElement.style,_r="";try{for(var Sr=__values(gr),yr=Sr.next();!yr.done;yr=Sr.next()){var Cr=yr.value;Cr in mr&&(_r=Cr)}}catch(Ar){pr={error:Ar}}finally{try{yr&&!yr.done&&(br=Sr.return)&&br.call(Sr)}finally{if(pr)throw pr.error}}if(!_r)throw new FlickingError(MESSAGE.TRANSFORM_NOT_SUPPORTED,CODE.TRANSFORM_NOT_SUPPORTED);ur._transform=_r},this._flicking=ar,this._resetInternalValues(),this._align=xr}var cr=lr.prototype;return Object.defineProperty(cr,"element",{get:function(){return this._el},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"children",{get:function(){return toArray(this._el.children)},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"position",{get:function(){return this._position},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"alignPosition",{get:function(){return this._alignPos},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"offset",{get:function(){return this._offset-this._circularOffset},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"circularEnabled",{get:function(){return this._circularEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"mode",{get:function(){return this._mode},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"range",{get:function(){return this._range},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"rangeDiff",{get:function(){return this._range.max-this._range.min},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"visiblePanels",{get:function(){return this._visiblePanels},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"visibleRange",{get:function(){return{min:this._position-this._alignPos,max:this._position-this._alignPos+this.size}},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"anchorPoints",{get:function(){return this._anchors},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"controlParams",{get:function(){return{range:this._range,position:this._position,circular:this._circularEnabled}},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"atEdge",{get:function(){return this._position<=this._range.min||this._position>=this._range.max},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"size",{get:function(){var ar=this._flicking;return ar?ar.horizontal?ar.viewport.width:ar.viewport.height:0},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"progress",{get:function(){var ar=this._flicking,or=this._position+this._offset,ur=this.findNearestAnchor(this._position);if(!ar||!ur)return NaN;var fr=ur.panel,xr=fr.position+fr.offset,pr=ar.control.controller.bounce,br=this.range,gr=br.min,mr=br.max,_r=this.rangeDiff;if(or===xr)return fr.index;if(or<xr){var Sr=fr.prev(),yr=Sr?Sr.position+Sr.offset:gr-pr[0];return yr>xr&&(yr-=_r),fr.index-1+getProgress(or,yr,xr)}else{var Cr=fr.next(),Ar=Cr?Cr.position+Cr.offset:mr+pr[1];return Ar<xr&&(Ar+=_r),fr.index+getProgress(or,xr,Ar)}},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"panelOrder",{get:function(){return this._panelOrder},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"align",{get:function(){return this._align},set:function(ar){this._align=ar},enumerable:!1,configurable:!0}),cr.init=function(){var ar=this._flicking.viewport.element;return checkExistence(ar.firstElementChild,"First element child of the viewport element"),this._el=ar.firstElementChild,this._checkTranslateSupport(),this._updateMode(),this.updatePanelOrder(),this},cr.destroy=function(){return this._resetInternalValues(),this},cr.lookAt=function(ar){var or=this,ur=getFlickingAttached(this._flicking),fr=this._position;this._position=ar;var xr=this._togglePanels(fr,ar);this._refreshVisiblePanels(),this._checkNeedPanel(),this._checkReachEnd(fr,ar),xr?ur.renderer.render().then(function(){or.updateOffset()}):this.applyTransform()},cr.getPrevAnchor=function(ar){if(!this._circularEnabled||ar.index!==0)return this._anchors[ar.index-1]||null;var or=this._anchors,ur=this.rangeDiff,fr=or[or.length-1];return new AnchorPoint({index:fr.index,position:fr.position-ur,panel:fr.panel})},cr.getNextAnchor=function(ar){var or=this._anchors;if(!this._circularEnabled||ar.index!==or.length-1)return or[ar.index+1]||null;var ur=this.rangeDiff,fr=or[0];return new AnchorPoint({index:fr.index,position:fr.position+ur,panel:fr.panel})},cr.getProgressInPanel=function(ar){var or=ar.range;return(this._position-or.min)/(or.max-or.min)},cr.findAnchorIncludePosition=function(ar){return this._mode.findAnchorIncludePosition(ar)},cr.findNearestAnchor=function(ar){return this._mode.findNearestAnchor(ar)},cr.findActiveAnchor=function(){var ar,or=getFlickingAttached(this._flicking),ur=or.control.activePanel;return ur?(ar=find(this._anchors,function(fr){return fr.panel.index===ur.index}))!==null&&ar!==void 0?ar:this.findNearestAnchor(ur.position):null},cr.clampToReachablePosition=function(ar){return this._mode.clampToReachablePosition(ar)},cr.canReach=function(ar){return this._mode.canReach(ar)},cr.canSee=function(ar){return this._mode.canSee(ar)},cr.updateRange=function(){var ar=getFlickingAttached(this._flicking),or=ar.renderer,ur=or.panels;return this._updateMode(),this._range=this._mode.getRange(),ur.forEach(function(fr){return fr.updateCircularToggleDirection()}),this},cr.updateAlignPos=function(){var ar=this._align,or=typeof ar=="object"?ar.camera:ar;return this._alignPos=parseAlign$1(or,this.size),this},cr.updateAnchors=function(){return this._anchors=this._mode.getAnchors(),this},cr.updateAdaptiveHeight=function(){var ar=getFlickingAttached(this._flicking),or=ar.control.activePanel;!ar.horizontal||!ar.adaptive||!or||ar.viewport.setSize({height:or.height})},cr.updateOffset=function(){var ar=getFlickingAttached(this._flicking),or=this._position,ur=ar.panels.filter(function(fr){return!fr.rendered});return this._offset=ur.filter(function(fr){return fr.position+fr.offset<or}).reduce(function(fr,xr){return fr+xr.sizeIncludingMargin},0),this._circularOffset=this._mode.getCircularOffset(),this.applyTransform(),this},cr.updatePanelOrder=function(){var ar=getFlickingAttached(this._flicking);if(!ar.horizontal)return this;var or=this._el,ur=getStyle(or).direction;return ur!==this._panelOrder&&(this._panelOrder=ur===ORDER.RTL?ORDER.RTL:ORDER.LTR,ar.initialized&&ar.control.controller.updateDirection()),this},cr.resetNeedPanelHistory=function(){return this._needPanelTriggered={prev:!1,next:!1},this},cr.applyTransform=function(){var ar=this._el,or=getFlickingAttached(this._flicking),ur=or.renderer;if(ur.rendering||!or.initialized)return this;var fr=this._position-this._alignPos-this._offset+this._circularOffset;return ar.style[this._transform]=or.horizontal?"translate("+(this._panelOrder===ORDER.RTL?fr:-fr)+"px)":"translate(0, "+-fr+"px)",this},cr._resetInternalValues=function(){this._position=0,this._alignPos=0,this._offset=0,this._circularOffset=0,this._circularEnabled=!1,this._range={min:0,max:0},this._visiblePanels=[],this._anchors=[],this._needPanelTriggered={prev:!1,next:!1}},cr._refreshVisiblePanels=function(){var ar=this,or=getFlickingAttached(this._flicking),ur=or.renderer.panels,fr=ur.filter(function(gr){return ar.canSee(gr)}),xr=this._visiblePanels;this._visiblePanels=fr;var pr=fr.filter(function(gr){return!includes(xr,gr)}),br=xr.filter(function(gr){return!includes(fr,gr)});(pr.length>0||br.length>0)&&or.renderer.render().then(function(){or.trigger(new ComponentEvent$1(EVENTS.VISIBLE_CHANGE,{added:pr,removed:br,visiblePanels:fr}))})},cr._checkNeedPanel=function(){var ar=this._needPanelTriggered;if(!(ar.prev&&ar.next)){var or=getFlickingAttached(this._flicking),ur=or.renderer.panels;if(ur.length<=0){ar.prev||(or.trigger(new ComponentEvent$1(EVENTS.NEED_PANEL,{direction:DIRECTION.PREV})),ar.prev=!0),ar.next||(or.trigger(new ComponentEvent$1(EVENTS.NEED_PANEL,{direction:DIRECTION.NEXT})),ar.next=!0);return}var fr=this._position,xr=this.size,pr=this._range,br=or.needPanelThreshold,gr=fr-this._alignPos,mr=gr+xr,_r=ur[0],Sr=ur[ur.length-1];if(!ar.prev){var yr=_r.range.min;(gr<=yr+br||fr<=pr.min+br)&&(or.trigger(new ComponentEvent$1(EVENTS.NEED_PANEL,{direction:DIRECTION.PREV})),ar.prev=!0)}if(!ar.next){var Cr=Sr.range.max;(mr>=Cr-br||fr>=pr.max-br)&&(or.trigger(new ComponentEvent$1(EVENTS.NEED_PANEL,{direction:DIRECTION.NEXT})),ar.next=!0)}}},cr._checkReachEnd=function(ar,or){var ur=getFlickingAttached(this._flicking),fr=this._range,xr=ar>fr.min&&ar<fr.max,pr=or>fr.min&&or<fr.max;if(!(!xr||pr)){var br=or<=fr.min?DIRECTION.PREV:DIRECTION.NEXT;ur.trigger(new ComponentEvent$1(EVENTS.REACH_EDGE,{direction:br}))}},cr._updateMode=function(){var ar=getFlickingAttached(this._flicking);if(ar.circular){var or=new CircularCameraMode(ar),ur=or.checkAvailability();if(ur)this._mode=or;else{var fr=ar.circularFallback;this._mode=fr===CIRCULAR_FALLBACK.BOUND?new BoundCameraMode(ar):new LinearCameraMode(ar)}this._circularEnabled=ur}else this._mode=ar.bound?new BoundCameraMode(ar):new LinearCameraMode(ar),this._circularEnabled=!1},cr._togglePanels=function(ar,or){if(or===ar)return!1;var ur=getFlickingAttached(this._flicking),fr=ur.renderer.panels,xr=fr.map(function(pr){return pr.toggle(ar,or)});return xr.some(function(pr){return pr})},lr}(),Renderer=function(){function lr(ar){var or=ar.align,ur=or===void 0?ALIGN.CENTER:or,fr=ar.strategy;this._flicking=null,this._panels=[],this._rendering=!1,this._align=ur,this._strategy=fr}var cr=lr.prototype;return Object.defineProperty(cr,"panels",{get:function(){return this._panels},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"rendering",{get:function(){return this._rendering},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"panelCount",{get:function(){return this._panels.length},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"strategy",{get:function(){return this._strategy},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"align",{get:function(){return this._align},set:function(ar){this._align=ar;var or=parsePanelAlign(ar);this._panels.forEach(function(ur){ur.align=or})},enumerable:!1,configurable:!0}),cr.init=function(ar){return this._flicking=ar,this._collectPanels(),this},cr.destroy=function(){this._flicking=null,this._panels=[]},cr.getPanel=function(ar){return this._panels[ar]||null},cr.forceRenderAllPanels=function(){return this._panels.forEach(function(ar){return ar.markForShow()}),Promise.resolve()},cr.updatePanelSize=function(){var ar=getFlickingAttached(this._flicking),or=this._panels;if(or.length<=0)return this;if(ar.panelsPerView>0){var ur=or[0];ur.resize(),this._updatePanelSizeByGrid(ur,or)}else ar.panels.forEach(function(fr){return fr.resize()});return this},cr.batchInsert=function(){for(var ar=[],or=0;or<arguments.length;or++)ar[or]=arguments[or];var ur=this.batchInsertDefer.apply(this,__spread(ar));return ur.length<=0?[]:(this.updateAfterPanelChange(ur,[]),ur)},cr.batchInsertDefer=function(){for(var ar=this,or=[],ur=0;ur<arguments.length;ur++)or[ur]=arguments[ur];var fr=this._panels,xr=getFlickingAttached(this._flicking),pr=fr[0],br=parsePanelAlign(this._align),gr=or.reduce(function(mr,_r){var Sr,yr=getMinusCompensatedIndex(_r.index,fr.length),Cr=fr.slice(yr),Ar=_r.elements.map(function(Or,Dr){return ar._createPanel(Or,{index:yr+Dr,align:br,flicking:xr})});if(fr.splice.apply(fr,__spread([yr,0],Ar)),_r.hasDOMInElements&&ar._insertPanelElements(Ar,(Sr=Cr[0])!==null&&Sr!==void 0?Sr:null),xr.panelsPerView>0){var kr=pr||Ar[0].resize();ar._updatePanelSizeByGrid(kr,Ar)}else Ar.forEach(function(Or){return Or.resize()});return Cr.forEach(function(Or){Or.increaseIndex(Ar.length),Or.updatePosition()}),__spread(mr,Ar)},[]);return gr},cr.batchRemove=function(){for(var ar=[],or=0;or<arguments.length;or++)ar[or]=arguments[or];var ur=this.batchRemoveDefer.apply(this,__spread(ar));return ur.length<=0?[]:(this.updateAfterPanelChange([],ur),ur)},cr.batchRemoveDefer=function(){for(var ar=this,or=[],ur=0;ur<arguments.length;ur++)or[ur]=arguments[ur];var fr=this._panels,xr=getFlickingAttached(this._flicking),pr=xr.control,br=pr.activePanel,gr=or.reduce(function(mr,_r){var Sr=_r.index,yr=_r.deleteCount,Cr=getMinusCompensatedIndex(Sr,fr.length),Ar=fr.slice(Cr+yr),kr=fr.splice(Cr,yr);return kr.length<=0?[]:(Ar.forEach(function(Or){Or.decreaseIndex(kr.length),Or.updatePosition()}),_r.hasDOMInElements&&ar._removePanelElements(kr),kr.forEach(function(Or){return Or.destroy()}),includes(kr,br)&&pr.resetActive(),__spread(mr,kr))},[]);return gr},cr.updateAfterPanelChange=function(ar,or){var ur,fr=getFlickingAttached(this._flicking),xr=fr.camera,pr=fr.control,br=this._panels,gr=pr.activePanel;if(this._updateCameraAndControl(),this.render(),!fr.animating)if(!gr||gr.removed)if(br.length<=0)xr.lookAt(0);else{var mr=(ur=gr==null?void 0:gr.index)!==null&&ur!==void 0?ur:0;mr>br.length-1&&(mr=br.length-1),pr.moveToPanel(br[mr],{duration:0}).catch(function(){})}else pr.moveToPanel(gr,{duration:0}).catch(function(){});fr.camera.updateOffset(),(ar.length>0||or.length>0)&&(fr.trigger(new ComponentEvent$1(EVENTS.PANEL_CHANGE,{added:ar,removed:or})),this.checkPanelContentsReady(__spread(ar,or)))},cr.checkPanelContentsReady=function(ar){var or=this,ur=getFlickingAttached(this._flicking),fr=ur.resizeOnContentsReady,xr=this._panels;if(!(!fr||ur.virtualEnabled)){var pr=function(gr){return gr.element&&!!gr.element.querySelector("img, video")};if(ar=ar.filter(function(gr){return pr(gr)}),!(ar.length<=0)){var br=new ImReady$1;ar.forEach(function(gr){gr.loading=!0}),br.on("readyElement",function(gr){if(!or._flicking){br.destroy();return}var mr=ar[gr.index],_r=ur.camera,Sr=ur.control,yr=Sr.activePanel?_r.getProgressInPanel(Sr.activePanel):0;mr.loading=!1,mr.resize(),xr.slice(mr.index+1).forEach(function(Cr){return Cr.updatePosition()}),ur.initialized&&(_r.updateRange(),_r.updateOffset(),_r.updateAnchors(),Sr.animating||(Sr.updatePosition(yr),Sr.updateInput()))}),br.on("preReady",function(gr){or._flicking&&or.render(),gr.readyCount===gr.totalCount&&br.destroy()}),br.on("ready",function(){or._flicking&&or.render(),br.destroy()}),br.check(ar.map(function(gr){return gr.element}))}}},cr._updateCameraAndControl=function(){var ar=getFlickingAttached(this._flicking),or=ar.camera,ur=ar.control;or.updateRange(),or.updateOffset(),or.updateAnchors(),or.resetNeedPanelHistory(),ur.updateInput()},cr._showOnlyVisiblePanels=function(ar){var or=ar.renderer.panels,ur=ar.camera,fr=ur.visiblePanels.reduce(function(xr,pr){return xr[pr.index]=!0,xr},{});or.forEach(function(xr){xr.index in fr||xr.loading?xr.markForShow():ar.holding||xr.markForHide()})},cr._updatePanelSizeByGrid=function(ar,or){var ur=getFlickingAttached(this._flicking),fr=ur.panelsPerView;if(fr<=0)throw new FlickingError(MESSAGE.WRONG_OPTION("panelsPerView",fr),CODE.WRONG_OPTION);if(!(or.length<=0)){var xr=ur.camera.size,pr=ar.margin.prev+ar.margin.next,br=(xr-pr*(fr-1))/fr,gr=ur.horizontal?{width:br}:{height:br},mr=__assign({size:br,margin:ar.margin},!ur.horizontal&&{height:ar.height});ur.noPanelStyleOverride||this._strategy.updatePanelSizes(ur,gr),ur.panels.forEach(function(_r){return _r.resize(mr)})}},cr._removeAllChildsFromCamera=function(){for(var ar=getFlickingAttached(this._flicking),or=ar.camera.element;or.firstChild;)or.removeChild(or.firstChild)},cr._insertPanelElements=function(ar,or){or===void 0&&(or=null);var ur=getFlickingAttached(this._flicking),fr=ur.camera,xr=fr.element,pr=(or==null?void 0:or.element)||null,br=document.createDocumentFragment();ar.forEach(function(gr){return br.appendChild(gr.element)}),xr.insertBefore(br,pr)},cr._removePanelElements=function(ar){var or=getFlickingAttached(this._flicking),ur=or.camera.element;ar.forEach(function(fr){ur.removeChild(fr.element)})},cr._afterRender=function(){var ar=getFlickingAttached(this._flicking);ar.camera.applyTransform()},lr}(),VanillaRenderer=function(lr){__extends(cr,lr);function cr(){return lr!==null&&lr.apply(this,arguments)||this}var ar=cr.prototype;return ar.render=function(){return __awaiter(this,void 0,void 0,function(){var or,ur;return __generator(this,function(fr){return or=getFlickingAttached(this._flicking),ur=this._strategy,ur.updateRenderingPanels(or),ur.renderPanels(or),this._resetPanelElementOrder(),this._afterRender(),[2]})})},ar._collectPanels=function(){var or=getFlickingAttached(this._flicking),ur=or.camera;this._removeAllTextNodes(),this._panels=this._strategy.collectPanels(or,ur.children)},ar._createPanel=function(or,ur){return this._strategy.createPanel(or,ur)},ar._resetPanelElementOrder=function(){var or=getFlickingAttached(this._flicking),ur=or.camera.element,fr=this._strategy.getRenderingElementsByOrder(or).reverse();fr.forEach(function(xr,pr){var br=fr[pr-1]?fr[pr-1]:null;xr.nextElementSibling!==br&&ur.insertBefore(xr,br)})},ar._removeAllTextNodes=function(){var or=getFlickingAttached(this._flicking),ur=or.camera.element;toArray(ur.childNodes).forEach(function(fr){fr.nodeType===Node.TEXT_NODE&&ur.removeChild(fr)})},cr}(Renderer),Panel=function(){function lr(ar){var or=ar.index,ur=ar.align,fr=ar.flicking,xr=ar.elementProvider;this._index=or,this._flicking=fr,this._elProvider=xr,this._align=ur,this._removed=!1,this._rendered=!0,this._loading=!1,this._resetInternalStates()}var cr=lr.prototype;return Object.defineProperty(cr,"element",{get:function(){return this._elProvider.element},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"elementProvider",{get:function(){return this._elProvider},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"index",{get:function(){return this._index},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"position",{get:function(){return this._pos+this._alignPos},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"sizeIncludingMargin",{get:function(){return this._size+this._margin.prev+this._margin.next},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"margin",{get:function(){return this._margin},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"alignPosition",{get:function(){return this._alignPos},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"removed",{get:function(){return this._removed},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"rendered",{get:function(){return this._rendered},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"loading",{get:function(){return this._loading},set:function(ar){this._loading=ar},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"range",{get:function(){return{min:this._pos,max:this._pos+this._size}},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"toggled",{get:function(){return this._toggled},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"toggleDirection",{get:function(){return this._toggleDirection},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"offset",{get:function(){var ar=this._toggleDirection,or=this._flicking.camera.rangeDiff;return ar===DIRECTION.NONE||!this._toggled?0:ar===DIRECTION.PREV?-or:or},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"progress",{get:function(){var ar=this._flicking;return this.index-ar.camera.progress},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"outsetProgress",{get:function(){var ar=this.position+this.offset,or=this._alignPos,ur=this._flicking.camera,fr=ur.position;if(fr===ar)return 0;if(fr<ar){var xr=ar+(ur.size-ur.alignPosition)+or;return-getProgress(fr,ar,xr)}else{var pr=ar-(ur.alignPosition+this._size-or);return 1-getProgress(fr,pr,ar)}},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"visibleRatio",{get:function(){var ar=this.range,or=this._size,ur=this.offset,fr=this._flicking.camera.visibleRange,xr={min:ar.min+ur,max:ar.max+ur};if(xr.max<=fr.min||xr.min>=fr.max)return 0;var pr=or;return fr.min>xr.min&&(pr-=fr.min-xr.min),fr.max<xr.max&&(pr-=xr.max-fr.max),pr/or},enumerable:!1,configurable:!0}),Object.defineProperty(cr,"align",{get:function(){return this._align},set:function(ar){this._align=ar,this._updateAlignPos()},enumerable:!1,configurable:!0}),cr.markForShow=function(){this._rendered=!0,this._elProvider.show(this._flicking)},cr.markForHide=function(){this._rendered=!1,this._elProvider.hide(this._flicking)},cr.resize=function(ar){var or,ur=this.element,fr=this._flicking,xr=fr.horizontal,pr=fr.useFractionalSize;if(ar)this._size=ar.size,this._margin=__assign({},ar.margin),this._height=(or=ar.height)!==null&&or!==void 0?or:getElementSize({el:ur,horizontal:!1,useFractionalSize:pr,useOffset:!0,style:getStyle(ur)});else{var br=getStyle(ur);this._size=getElementSize({el:ur,horizontal:xr,useFractionalSize:pr,useOffset:!0,style:br}),this._margin=xr?{prev:parseFloat(br.marginLeft||"0"),next:parseFloat(br.marginRight||"0")}:{prev:parseFloat(br.marginTop||"0"),next:parseFloat(br.marginBottom||"0")},this._height=xr?getElementSize({el:ur,horizontal:!1,useFractionalSize:pr,useOffset:!0,style:br}):this._size}return this.updatePosition(),this._updateAlignPos(),this},cr.setSize=function(ar){return setSize(this.element,ar),this},cr.contains=function(ar){var or;return!!(!((or=this.element)===null||or===void 0)&&or.contains(ar))},cr.destroy=function(){this._resetInternalStates(),this._removed=!0},cr.includePosition=function(ar,or){return or===void 0&&(or=!1),this.includeRange(ar,ar,or)},cr.includeRange=function(ar,or,ur){ur===void 0&&(ur=!1);var fr=this._margin,xr=this.range;return ur&&(xr.min-=fr.prev,xr.max+=fr.next),or>=xr.min&&ar<=xr.max},cr.isVisibleOnRange=function(ar,or){var ur=this.range;return or>ur.min&&ar<ur.max},cr.focus=function(ar){return this._flicking.moveTo(this._index,ar)},cr.prev=function(){var ar=this._index,or=this._flicking,ur=or.renderer,fr=ur.panelCount;return fr===1?null:or.circularEnabled?ur.getPanel(ar===0?fr-1:ar-1):ur.getPanel(ar-1)},cr.next=function(){var ar=this._index,or=this._flicking,ur=or.renderer,fr=ur.panelCount;return fr===1?null:or.circularEnabled?ur.getPanel(ar===fr-1?0:ar+1):ur.getPanel(ar+1)},cr.increaseIndex=function(ar){return this._index+=Math.max(ar,0),this},cr.decreaseIndex=function(ar){return this._index-=Math.max(ar,0),this},cr.updatePosition=function(){var ar=this._flicking.renderer.panels[this._index-1];return this._pos=ar?ar.range.max+ar.margin.next+this._margin.prev:this._margin.prev,this},cr.toggle=function(ar,or){var ur=this._toggleDirection,fr=this._togglePosition;if(ur===DIRECTION.NONE||or===ar)return!1;var xr=this._toggled;return or>ar?fr>=ar&&fr<=or&&(this._toggled=ur===DIRECTION.NEXT):fr<=ar&&fr>=or&&(this._toggled=ur!==DIRECTION.NEXT),xr!==this._toggled},cr.updateCircularToggleDirection=function(){var ar=this._flicking;if(!ar.circularEnabled)return this._toggleDirection=DIRECTION.NONE,this._togglePosition=0,this._toggled=!1,this;var or=ar.camera,ur=or.range,fr=or.alignPosition,xr=or.visibleRange,pr=xr.max-xr.min,br=ur.min-fr,gr=ur.max-fr+pr,mr=this.includeRange(gr-pr,gr,!1),_r=this.includeRange(br,br+pr,!1);return this._toggled=!1,mr?(this._toggleDirection=DIRECTION.PREV,this._togglePosition=this.range.max+ur.min-ur.max+fr,this.toggle(1/0,or.position)):_r?(this._toggleDirection=DIRECTION.NEXT,this._togglePosition=this.range.min+ur.max-pr+fr,this.toggle(-1/0,or.position)):(this._toggleDirection=DIRECTION.NONE,this._togglePosition=0),this},cr._updateAlignPos=function(){this._alignPos=parseAlign$1(this._align,this._size)},cr._resetInternalStates=function(){this._size=0,this._pos=0,this._margin={prev:0,next:0},this._height=0,this._alignPos=0,this._toggled=!1,this._togglePosition=0,this._toggleDirection=DIRECTION.NONE},lr}(),NormalRenderingStrategy=function(){function lr(ar){var or=ar.providerCtor;this._providerCtor=or}var cr=lr.prototype;return cr.renderPanels=function(){},cr.getRenderingIndexesByOrder=function(ar){var or=ar.renderer.panels.filter(function(pr){return pr.rendered}),ur=or.filter(function(pr){return pr.toggled&&pr.toggleDirection===DIRECTION.PREV}),fr=or.filter(function(pr){return pr.toggled&&pr.toggleDirection===DIRECTION.NEXT}),xr=or.filter(function(pr){return!pr.toggled});return __spread(ur,xr,fr).map(function(pr){return pr.index})},cr.getRenderingElementsByOrder=function(ar){var or=ar.panels;return this.getRenderingIndexesByOrder(ar).map(function(ur){return or[ur].element})},cr.updateRenderingPanels=function(ar){ar.renderOnlyVisible?this._showOnlyVisiblePanels(ar):ar.panels.forEach(function(or){return or.markForShow()})},cr.collectPanels=function(ar,or){var ur=this,fr=parsePanelAlign(ar.renderer.align);return or.map(function(xr,pr){return new Panel({index:pr,elementProvider:new ur._providerCtor(xr),align:fr,flicking:ar})})},cr.createPanel=function(ar,or){return new Panel(__assign(__assign({},or),{elementProvider:new this._providerCtor(ar)}))},cr.updatePanelSizes=function(ar,or){ar.panels.forEach(function(ur){return ur.setSize(or)})},cr._showOnlyVisiblePanels=function(ar){var or=ar.renderer.panels,ur=ar.camera,fr=ur.visiblePanels.reduce(function(xr,pr){return xr[pr.index]=!0,xr},{});or.forEach(function(xr){xr.index in fr||xr.loading?xr.markForShow():ar.holding||xr.markForHide()}),ur.updateOffset()},lr}(),VirtualPanel=function(lr){__extends(cr,lr);function cr(or){var ur=lr.call(this,or)||this;return or.elementProvider.init(ur),ur._elProvider=or.elementProvider,ur._cachedInnerHTML=null,ur}var ar=cr.prototype;return Object.defineProperty(ar,"element",{get:function(){return this._elProvider.element},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"cachedInnerHTML",{get:function(){return this._cachedInnerHTML},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"elementIndex",{get:function(){var or=this._flicking,ur=or.panelsPerView+1,fr=or.panelCount,xr=this._index;return this._toggled&&(xr=this._toggleDirection===DIRECTION.NEXT?xr+fr:xr-fr),circulateIndex(xr,ur)},enumerable:!1,configurable:!0}),ar.cacheRenderResult=function(or){this._cachedInnerHTML=or},ar.uncacheRenderResult=function(){this._cachedInnerHTML=null},ar.render=function(){var or=this._flicking,ur=or.virtual,fr=ur.renderPanel,xr=ur.cache,pr=this._elProvider.element,br=this._cachedInnerHTML||fr(this,this._index);br!==pr.innerHTML&&(pr.innerHTML=br,xr&&this.cacheRenderResult(br))},ar.increaseIndex=function(or){return this.uncacheRenderResult(),lr.prototype.increaseIndex.call(this,or)},ar.decreaseIndex=function(or){return this.uncacheRenderResult(),lr.prototype.decreaseIndex.call(this,or)},cr}(Panel),VirtualRenderingStrategy=function(){function lr(){}var cr=lr.prototype;return cr.renderPanels=function(ar){var or=ar.virtual,ur=ar.visiblePanels,fr=range(ar.panelsPerView+1);ur.forEach(function(xr){var pr=xr.elementIndex;xr.render(),or.show(pr),fr[pr]=-1}),fr.filter(function(xr){return xr>=0}).forEach(function(xr){or.hide(xr)})},cr.getRenderingIndexesByOrder=function(ar){var or=ar.virtual,ur=__spread(ar.visiblePanels).filter(function(pr){return pr.rendered}).sort(function(pr,br){return pr.position+pr.offset-(br.position+br.offset)});if(ur.length<=0)return or.elements.map(function(pr,br){return br});var fr=ur.map(function(pr){return pr.elementIndex}),xr=or.elements.map(function(pr,br){return __assign(__assign({},pr),{idx:br})}).filter(function(pr){return!pr.visible}).map(function(pr){return pr.idx});return __spread(fr,xr)},cr.getRenderingElementsByOrder=function(ar){var or=ar.virtual,ur=or.elements;return this.getRenderingIndexesByOrder(ar).map(function(fr){return ur[fr].nativeElement})},cr.updateRenderingPanels=function(ar){var or=ar.renderer.panels,ur=ar.camera,fr=ur.visiblePanels.reduce(function(xr,pr){return xr[pr.index]=!0,xr},{});or.forEach(function(xr){xr.index in fr||xr.loading?xr.markForShow():xr.markForHide()}),ur.updateOffset()},cr.collectPanels=function(ar){var or=parsePanelAlign(ar.renderer.align);return range(ar.virtual.initialPanelCount).map(function(ur){return new VirtualPanel({index:ur,elementProvider:new VirtualElementProvider(ar),align:or,flicking:ar})})},cr.createPanel=function(ar,or){return new VirtualPanel(__assign(__assign({},or),{elementProvider:new VirtualElementProvider(or.flicking)}))},cr.updatePanelSizes=function(ar,or){ar.virtual.elements.forEach(function(ur){setSize(ur.nativeElement,or)}),ar.panels.forEach(function(ur){return ur.setSize(or)})},lr}(),Flicking=function(lr){__extends(cr,lr);function cr(or,ur){var fr=ur===void 0?{}:ur,xr=fr.align,pr=xr===void 0?ALIGN.CENTER:xr,br=fr.defaultIndex,gr=br===void 0?0:br,mr=fr.horizontal,_r=mr===void 0?!0:mr,Sr=fr.circular,yr=Sr===void 0?!1:Sr,Cr=fr.circularFallback,Ar=Cr===void 0?CIRCULAR_FALLBACK.LINEAR:Cr,kr=fr.bound,Or=kr===void 0?!1:kr,Dr=fr.adaptive,Rr=Dr===void 0?!1:Dr,Fr=fr.panelsPerView,Nr=Fr===void 0?-1:Fr,Hr=fr.noPanelStyleOverride,jr=Hr===void 0?!1:Hr,Jr=fr.resizeOnContentsReady,Yr=Jr===void 0?!1:Jr,Ur=fr.nested,Zr=Ur===void 0?!1:Ur,Wr=fr.needPanelThreshold,ni=Wr===void 0?0:Wr,Lr=fr.preventEventsBeforeInit,hi=Lr===void 0?!0:Lr,Ei=fr.deceleration,_i=Ei===void 0?.0075:Ei,Fi=fr.duration,si=Fi===void 0?500:Fi,ci=fr.easing,$r=ci===void 0?function(zi){return 1-Math.pow(1-zi,3)}:ci,ei=fr.inputType,pi=ei===void 0?["mouse","touch"]:ei,ui=fr.moveType,bi=ui===void 0?"snap":ui,qi=fr.threshold,Ki=qi===void 0?40:qi,Ti=fr.interruptable,ii=Ti===void 0?!0:Ti,oi=fr.bounce,Si=oi===void 0?"20%":oi,Di=fr.iOSEdgeSwipeThreshold,Mi=Di===void 0?30:Di,Mr=fr.preventClickOnDrag,di=Mr===void 0?!0:Mr,gi=fr.preventDefaultOnDrag,ti=gi===void 0?!1:gi,ri=fr.disableOnInit,xi=ri===void 0?!1:ri,Ai=fr.changeOnHold,Kr=Ai===void 0?!1:Ai,Pr=fr.renderOnlyVisible,qr=Pr===void 0?!1:Pr,Qr=fr.virtual,ai=Qr===void 0?null:Qr,fi=fr.autoInit,vi=fi===void 0?!0:fi,Ri=fr.autoResize,Yi=Ri===void 0?!0:Ri,Xi=fr.useResizeObserver,Ui=Xi===void 0?!0:Xi,Bi=fr.resizeDebounce,Zi=Bi===void 0?0:Bi,Sa=fr.maxResizeDebounce,Ta=Sa===void 0?100:Sa,ba=fr.useFractionalSize,po=ba===void 0?!1:ba,so=fr.externalRenderer,Co=so===void 0?null:so,wi=fr.renderExternal,Vi=wi===void 0?null:wi,Gr=lr.call(this)||this;return Gr._initialized=!1,Gr._plugins=[],Gr._align=pr,Gr._defaultIndex=gr,Gr._horizontal=_r,Gr._circular=yr,Gr._circularFallback=Ar,Gr._bound=Or,Gr._adaptive=Rr,Gr._panelsPerView=Nr,Gr._noPanelStyleOverride=jr,Gr._resizeOnContentsReady=Yr,Gr._nested=Zr,Gr._virtual=ai,Gr._needPanelThreshold=ni,Gr._preventEventsBeforeInit=hi,Gr._deceleration=_i,Gr._duration=si,Gr._easing=$r,Gr._inputType=pi,Gr._moveType=bi,Gr._threshold=Ki,Gr._interruptable=ii,Gr._bounce=Si,Gr._iOSEdgeSwipeThreshold=Mi,Gr._preventClickOnDrag=di,Gr._preventDefaultOnDrag=ti,Gr._disableOnInit=xi,Gr._changeOnHold=Kr,Gr._renderOnlyVisible=qr,Gr._autoInit=vi,Gr._autoResize=Yi,Gr._useResizeObserver=Ui,Gr._resizeDebounce=Zi,Gr._maxResizeDebounce=Ta,Gr._useFractionalSize=po,Gr._externalRenderer=Co,Gr._renderExternal=Vi,Gr._viewport=new Viewport(Gr,getElement(or)),Gr._autoResizer=new AutoResizer(Gr),Gr._renderer=Gr._createRenderer(),Gr._camera=Gr._createCamera(),Gr._control=Gr._createControl(),Gr._virtualManager=new VirtualManager(Gr,ai),Gr._autoInit&&Gr.init(),Gr}var ar=cr.prototype;return Object.defineProperty(ar,"control",{get:function(){return this._control},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"camera",{get:function(){return this._camera},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"renderer",{get:function(){return this._renderer},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"viewport",{get:function(){return this._viewport},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"initialized",{get:function(){return this._initialized},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"circularEnabled",{get:function(){return this._camera.circularEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"virtualEnabled",{get:function(){return this._panelsPerView>0&&this._virtual!=null},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"index",{get:function(){return this._control.activeIndex},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"element",{get:function(){return this._viewport.element},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"currentPanel",{get:function(){return this._control.activePanel},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"panels",{get:function(){return this._renderer.panels},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"panelCount",{get:function(){return this._renderer.panelCount},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"visiblePanels",{get:function(){return this._camera.visiblePanels},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"animating",{get:function(){return this._control.animating},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"holding",{get:function(){return this._control.holding},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"activePlugins",{get:function(){return this._plugins},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"align",{get:function(){return this._align},set:function(or){this._align=or,this._renderer.align=or,this._camera.align=or,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"defaultIndex",{get:function(){return this._defaultIndex},set:function(or){this._defaultIndex=or},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"horizontal",{get:function(){return this._horizontal},set:function(or){this._horizontal=or,this._control.controller.updateDirection(),this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"circular",{get:function(){return this._circular},set:function(or){this._circular=or,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"circularFallback",{get:function(){return this._circularFallback},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"bound",{get:function(){return this._bound},set:function(or){this._bound=or,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"adaptive",{get:function(){return this._adaptive},set:function(or){this._adaptive=or,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"panelsPerView",{get:function(){return this._panelsPerView},set:function(or){this._panelsPerView=or,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"noPanelStyleOverride",{get:function(){return this._noPanelStyleOverride},set:function(or){this._noPanelStyleOverride=or,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"resizeOnContentsReady",{get:function(){return this._resizeOnContentsReady},set:function(or){this._resizeOnContentsReady=or,or&&this._renderer.checkPanelContentsReady(this._renderer.panels)},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"nested",{get:function(){return this._nested},set:function(or){this._nested=or;var ur=this._control.controller.axes;ur&&(ur.options.nested=or)},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"needPanelThreshold",{get:function(){return this._needPanelThreshold},set:function(or){this._needPanelThreshold=or},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"preventEventsBeforeInit",{get:function(){return this._preventEventsBeforeInit},set:function(or){this._preventEventsBeforeInit=or},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"deceleration",{get:function(){return this._deceleration},set:function(or){this._deceleration=or;var ur=this._control.controller.axes;ur&&(ur.options.deceleration=or)},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"easing",{get:function(){return this._easing},set:function(or){this._easing=or;var ur=this._control.controller.axes;ur&&(ur.options.easing=or)},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"duration",{get:function(){return this._duration},set:function(or){this._duration=or},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"inputType",{get:function(){return this._inputType},set:function(or){this._inputType=or;var ur=this._control.controller.panInput;ur&&(ur.options.inputType=or)},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"moveType",{get:function(){return this._moveType},set:function(or){this._moveType=or;var ur=this._control,fr=this._createControl(),xr=ur.activePanel;fr.copy(ur);var pr=xr?this._camera.getProgressInPanel(xr):0;this._control=fr,this._control.updatePosition(pr),this._control.updateInput()},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"threshold",{get:function(){return this._threshold},set:function(or){this._threshold=or},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"interruptable",{get:function(){return this._interruptable},set:function(or){this._interruptable=or;var ur=this._control.controller.axes;ur&&(ur.options.interruptable=or)},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"bounce",{get:function(){return this._bounce},set:function(or){this._bounce=or,this._control.updateInput()},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"iOSEdgeSwipeThreshold",{get:function(){return this._iOSEdgeSwipeThreshold},set:function(or){this._iOSEdgeSwipeThreshold=or;var ur=this._control.controller.panInput;ur&&(ur.options.iOSEdgeSwipeThreshold=or)},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"preventClickOnDrag",{get:function(){return this._preventClickOnDrag},set:function(or){var ur=this._preventClickOnDrag;if(or!==ur){var fr=this._control.controller;or?fr.addPreventClickHandler():fr.removePreventClickHandler(),this._preventClickOnDrag=or}},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"preventDefaultOnDrag",{get:function(){return this._preventDefaultOnDrag},set:function(or){this._preventDefaultOnDrag=or;var ur=this._control.controller.panInput;ur&&(ur.options.preventDefaultOnDrag=or)},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"disableOnInit",{get:function(){return this._disableOnInit},set:function(or){this._disableOnInit=or},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"changeOnHold",{get:function(){return this._changeOnHold},set:function(or){this._changeOnHold=or},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"renderOnlyVisible",{get:function(){return this._renderOnlyVisible},set:function(or){this._renderOnlyVisible=or,this._renderer.render()},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"virtual",{get:function(){return this._virtualManager},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"autoInit",{get:function(){return this._autoInit},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"autoResize",{get:function(){return this._autoResize},set:function(or){this._autoResize=or,or?this._autoResizer.enable():this._autoResizer.disable()},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"useResizeObserver",{get:function(){return this._useResizeObserver},set:function(or){this._useResizeObserver=or,this._autoResize&&this._autoResizer.enable()},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"resizeDebounce",{get:function(){return this._resizeDebounce},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"maxResizeDebounce",{get:function(){return this._maxResizeDebounce},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"useFractionalSize",{get:function(){return this._useFractionalSize},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"externalRenderer",{get:function(){return this._externalRenderer},enumerable:!1,configurable:!0}),Object.defineProperty(ar,"renderExternal",{get:function(){return this._renderExternal},enumerable:!1,configurable:!0}),ar.init=function(){var or=this;if(this._initialized)return Promise.resolve();var ur=this._camera,fr=this._renderer,xr=this._control,pr=this._virtualManager,br=this.trigger,gr=this._preventEventsBeforeInit;return ur.init(),pr.init(),fr.init(this),xr.init(this),gr&&(this.trigger=function(){return or}),this._initialResize(),this._moveToInitialPanel(),this._autoResize&&this._autoResizer.enable(),this._preventClickOnDrag&&xr.controller.addPreventClickHandler(),this._disableOnInit&&this.disableInput(),fr.checkPanelContentsReady(fr.panels),this._initialized=!0,fr.render().then(function(){or._plugins.forEach(function(mr){return mr.init(or)}),gr&&(or.trigger=br),or.trigger(new ComponentEvent$1(EVENTS.READY))})},ar.destroy=function(){this.off(),this._autoResizer.disable(),this._control.destroy(),this._camera.destroy(),this._renderer.destroy(),this._plugins.forEach(function(or){return or.destroy()}),this._initialized=!1},ar.prev=function(or){var ur,fr,xr;return or===void 0&&(or=this._duration),this.moveTo((xr=(fr=(ur=this._control.activePanel)===null||ur===void 0?void 0:ur.prev())===null||fr===void 0?void 0:fr.index)!==null&&xr!==void 0?xr:-1,or,DIRECTION.PREV)},ar.next=function(or){var ur,fr,xr;return or===void 0&&(or=this._duration),this.moveTo((xr=(fr=(ur=this._control.activePanel)===null||ur===void 0?void 0:ur.next())===null||fr===void 0?void 0:fr.index)!==null&&xr!==void 0?xr:this._renderer.panelCount,or,DIRECTION.NEXT)},ar.moveTo=function(or,ur,fr){ur===void 0&&(ur=this._duration),fr===void 0&&(fr=DIRECTION.NONE);var xr=this._renderer,pr=xr.panelCount,br=xr.getPanel(or);return br?this._control.animating?Promise.reject(new FlickingError(MESSAGE.ANIMATION_ALREADY_PLAYING,CODE.ANIMATION_ALREADY_PLAYING)):(this._control.holding&&this._control.controller.release(),this._control.moveToPanel(br,{duration:ur,direction:fr})):Promise.reject(new FlickingError(MESSAGE.INDEX_OUT_OF_RANGE(or,0,pr-1),CODE.INDEX_OUT_OF_RANGE))},ar.updateAnimation=function(or,ur,fr){if(this._control.animating){var xr=this._renderer,pr=xr.panelCount,br=xr.getPanel(or);if(!br)throw new FlickingError(MESSAGE.INDEX_OUT_OF_RANGE(or,0,pr-1),CODE.INDEX_OUT_OF_RANGE);this._control.updateAnimation(br,ur,fr)}},ar.stopAnimation=function(){this._control.animating&&this._control.stopAnimation()},ar.getPanel=function(or){return this._renderer.getPanel(or)},ar.enableInput=function(){return this._control.enable(),this},ar.disableInput=function(){return this._control.disable(),this},ar.getStatus=function(or){var ur,fr,xr=or===void 0?{}:or,pr=xr.index,br=pr===void 0?!0:pr,gr=xr.position,mr=gr===void 0?!0:gr,_r=xr.includePanelHTML,Sr=_r===void 0?!1:_r,yr=xr.visiblePanelsOnly,Cr=yr===void 0?!1:yr,Ar=this._camera,kr=Cr?this.visiblePanels:this.panels,Or={panels:kr.map(function(Fr){var Nr={index:Fr.index};return Sr&&(Nr.html=Fr.element.outerHTML),Nr})};if(br&&(Or.index=this.index),mr){var Dr=Ar.findNearestAnchor(Ar.position);Dr&&(Or.position={panel:Dr.panel.index,progressInPanel:Ar.getProgressInPanel(Dr.panel)})}if(Cr){var Rr=this.visiblePanels;Or.visibleOffset=(fr=(ur=Rr[0])===null||ur===void 0?void 0:ur.index)!==null&&fr!==void 0?fr:0}return Or},ar.setStatus=function(or){var ur;if(!this._initialized)throw new FlickingError(MESSAGE.NOT_INITIALIZED,CODE.NOT_INITIALIZED);var fr=or.index,xr=or.position,pr=or.visibleOffset,br=or.panels,gr=this._renderer,mr=this._control;if(!((ur=br[0])===null||ur===void 0)&&ur.html&&!this._renderExternal&&(gr.batchRemove({index:0,deleteCount:this.panels.length,hasDOMInElements:!0}),gr.batchInsert({index:0,elements:parseElement(br.map(function(kr){return kr.html})),hasDOMInElements:!0})),fr!=null){var _r=pr?fr-pr:fr;this.moveTo(_r,0).catch(function(){})}if(xr&&this._moveType===MOVE_TYPE.FREE_SCROLL){var Sr=xr.panel,yr=xr.progressInPanel,_r=pr?Sr-pr:Sr,Cr=gr.panels[_r].range,Ar=Cr.min+(Cr.max-Cr.min)*yr;mr.moveToPosition(Ar,0).catch(function(){})}},ar.addPlugins=function(){for(var or,ur=this,fr=[],xr=0;xr<arguments.length;xr++)fr[xr]=arguments[xr];return this._initialized&&fr.forEach(function(pr){return pr.init(ur)}),(or=this._plugins).push.apply(or,__spread(fr)),this},ar.removePlugins=function(){for(var or=this,ur=[],fr=0;fr<arguments.length;fr++)ur[fr]=arguments[fr];return ur.forEach(function(xr){var pr=findIndex(or._plugins,function(br){return br===xr});pr>=0&&(xr.destroy(),or._plugins.splice(pr,1))}),this},ar.resize=function(){return __awaiter(this,void 0,void 0,function(){var or,ur,fr,xr,pr,br,gr,mr,_r,Sr,yr;return __generator(this,function(Cr){switch(Cr.label){case 0:return or=this._viewport,ur=this._renderer,fr=this._camera,xr=this._control,pr=xr.activePanel,br=or.width,gr=or.height,mr=pr?fr.getProgressInPanel(pr):0,this.trigger(new ComponentEvent$1(EVENTS.BEFORE_RESIZE,{width:br,height:gr,element:or.element})),or.resize(),[4,ur.forceRenderAllPanels()];case 1:return Cr.sent(),this._initialized?(ur.updatePanelSize(),fr.updateAlignPos(),fr.updateRange(),fr.updateAnchors(),fr.updateAdaptiveHeight(),fr.updatePanelOrder(),fr.updateOffset(),[4,ur.render()]):[2];case 2:return Cr.sent(),this._initialized?(xr.animating||(xr.updatePosition(mr),xr.updateInput()),_r=or.width,Sr=or.height,yr=_r!==br||Sr!==gr,this.trigger(new ComponentEvent$1(EVENTS.AFTER_RESIZE,{width:or.width,height:or.height,prev:{width:br,height:gr},sizeChanged:yr,element:or.element})),[2]):[2]}})})},ar.append=function(or){return this.insert(this._renderer.panelCount,or)},ar.prepend=function(or){return this.insert(0,or)},ar.insert=function(or,ur){if(this._renderExternal)throw new FlickingError(MESSAGE.NOT_ALLOWED_IN_FRAMEWORK,CODE.NOT_ALLOWED_IN_FRAMEWORK);return this._renderer.batchInsert({index:or,elements:parseElement(ur),hasDOMInElements:!0})},ar.remove=function(or,ur){if(ur===void 0&&(ur=1),this._renderExternal)throw new FlickingError(MESSAGE.NOT_ALLOWED_IN_FRAMEWORK,CODE.NOT_ALLOWED_IN_FRAMEWORK);return this._renderer.batchRemove({index:or,deleteCount:ur,hasDOMInElements:!0})},ar._createControl=function(){var or,ur=this._moveType,fr=Object.keys(MOVE_TYPE).map(function(br){return MOVE_TYPE[br]}),xr=Array.isArray(ur)?ur[0]:ur,pr=Array.isArray(ur)?(or=ur[1])!==null&&or!==void 0?or:{}:{};if(!includes(fr,xr))throw new FlickingError(MESSAGE.WRONG_OPTION("moveType",JSON.stringify(ur)),CODE.WRONG_OPTION);switch(xr){case MOVE_TYPE.SNAP:return new SnapControl(pr);case MOVE_TYPE.FREE_SCROLL:return new FreeControl(pr);case MOVE_TYPE.STRICT:return new StrictControl(pr)}},ar._createCamera=function(){return this._circular&&this._bound&&console.warn('"circular" and "bound" option cannot be used together, ignoring bound.'),new Camera(this,{align:this._align})},ar._createRenderer=function(){var or=this._externalRenderer;return this._virtual&&this._panelsPerView<=0&&console.warn('"virtual" and "panelsPerView" option should be used together, ignoring virtual.'),or||(this._renderExternal?this._createExternalRenderer():this._createVanillaRenderer())},ar._createExternalRenderer=function(){var or=this._renderExternal,ur=or.renderer,fr=or.rendererOptions;return new ur(__assign({align:this._align},fr))},ar._createVanillaRenderer=function(){var or=this.virtualEnabled;return new VanillaRenderer({align:this._align,strategy:or?new VirtualRenderingStrategy:new NormalRenderingStrategy({providerCtor:VanillaElementProvider})})},ar._moveToInitialPanel=function(){var or=this._renderer,ur=this._control,fr=this._camera,xr=or.getPanel(this._defaultIndex)||or.getPanel(0);if(xr){var pr=fr.findNearestAnchor(xr.position),br=pr&&xr.index!==pr.panel.index?pr.panel:xr;if(ur.setActive(br,null,!1),!pr)throw new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(br.position),CODE.POSITION_NOT_REACHABLE);var gr=br.position;fr.canReach(br)||(gr=pr.position),fr.lookAt(gr),ur.updateInput(),fr.updateOffset()}},ar._initialResize=function(){var or=this._viewport,ur=this._renderer,fr=this._camera,xr=this._control;this.trigger(new ComponentEvent$1(EVENTS.BEFORE_RESIZE,{width:0,height:0,element:or.element})),or.resize(),ur.updatePanelSize(),fr.updateAlignPos(),fr.updateRange(),fr.updateAnchors(),fr.updateOffset(),xr.updateInput();var pr=or.width,br=or.height,gr=pr!==0||br!==0;this.trigger(new ComponentEvent$1(EVENTS.AFTER_RESIZE,{width:or.width,height:or.height,prev:{width:0,height:0},sizeChanged:gr,element:or.element}))},cr.VERSION="4.11.4",cr}(Component);const flicking="",scriptRel="modulepreload",assetsURL=function(lr){return"/vme/"+lr},seen={},__vitePreload=function(cr,ar,or){if(!ar||ar.length===0)return cr();const ur=document.getElementsByTagName("link");return Promise.all(ar.map(fr=>{if(fr=assetsURL(fr),fr in seen)return;seen[fr]=!0;const xr=fr.endsWith(".css"),pr=xr?'[rel="stylesheet"]':"";if(!!or)for(let mr=ur.length-1;mr>=0;mr--){const _r=ur[mr];if(_r.href===fr&&(!xr||_r.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${fr}"]${pr}`))return;const gr=document.createElement("link");if(gr.rel=xr?"stylesheet":scriptRel,xr||(gr.as="script",gr.crossOrigin=""),gr.href=fr,document.head.appendChild(gr),xr)return new Promise((mr,_r)=>{gr.addEventListener("load",mr),gr.addEventListener("error",()=>_r(new Error(`Unable to preload CSS for ${fr}`)))})})).then(()=>cr()).catch(fr=>{const xr=new Event("vite:preloadError",{cancelable:!0});if(xr.payload=fr,window.dispatchEvent(xr),!xr.defaultPrevented)throw fr})};var __defProp=Object.defineProperty,__defNormalProp=(lr,cr,ar)=>cr in lr?__defProp(lr,cr,{enumerable:!0,configurable:!0,writable:!0,value:ar}):lr[cr]=ar,__publicField=(lr,cr,ar)=>(__defNormalProp(lr,typeof cr!="symbol"?cr+"":cr,ar),ar);function _mergeNamespaces(lr,cr){for(var ar=0;ar<cr.length;ar++){const or=cr[ar];if(typeof or!="string"&&!Array.isArray(or)){for(const ur in or)if(ur!=="default"&&!(ur in lr)){const fr=Object.getOwnPropertyDescriptor(or,ur);fr&&Object.defineProperty(lr,ur,fr.get?fr:{enumerable:!0,get:()=>or[ur]})}}}return Object.freeze(Object.defineProperty(lr,Symbol.toStringTag,{value:"Module"}))}const systemCoreMap={gb:"mgba",gba:"mgba",gbc:"mgba",megadrive:"genesis_plus_gx",nes:"fceumm",snes:"snes9x"};var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(lr){return lr&&lr.__esModule&&Object.prototype.hasOwnProperty.call(lr,"default")?lr.default:lr}const{hasOwnProperty}=Object.prototype,encode=(lr,cr={})=>{typeof cr=="string"&&(cr={section:cr}),cr.align=cr.align===!0,cr.newline=cr.newline===!0,cr.sort=cr.sort===!0,cr.whitespace=cr.whitespace===!0||cr.align===!0,cr.platform=cr.platform||typeof process<"u"&&process.platform,cr.bracketedArray=cr.bracketedArray!==!1;const ar=cr.platform==="win32"?`\r
`:`
`,or=cr.whitespace?" = ":"=",ur=[],fr=cr.sort?Object.keys(lr).sort():Object.keys(lr);let xr=0;cr.align&&(xr=safe(fr.filter(gr=>lr[gr]===null||Array.isArray(lr[gr])||typeof lr[gr]!="object").map(gr=>Array.isArray(lr[gr])?`${gr}[]`:gr).concat([""]).reduce((gr,mr)=>safe(gr).length>=safe(mr).length?gr:mr)).length);let pr="";const br=cr.bracketedArray?"[]":"";for(const gr of fr){const mr=lr[gr];if(mr&&Array.isArray(mr))for(const _r of mr)pr+=safe(`${gr}${br}`).padEnd(xr," ")+or+safe(_r)+ar;else mr&&typeof mr=="object"?ur.push(gr):pr+=safe(gr).padEnd(xr," ")+or+safe(mr)+ar}cr.section&&pr.length&&(pr="["+safe(cr.section)+"]"+(cr.newline?ar+ar:ar)+pr);for(const gr of ur){const mr=splitSections(gr,".").join("\\."),_r=(cr.section?cr.section+".":"")+mr,Sr=encode(lr[gr],{...cr,section:_r});pr.length&&Sr.length&&(pr+=ar),pr+=Sr}return pr};function splitSections(lr,cr){var ar=0,or=0,ur=0,fr=[];do if(ur=lr.indexOf(cr,ar),ur!==-1){if(ar=ur+cr.length,ur>0&&lr[ur-1]==="\\")continue;fr.push(lr.slice(or,ur)),or=ur+cr.length}while(ur!==-1);return fr.push(lr.slice(or)),fr}const decode=(lr,cr={})=>{cr.bracketedArray=cr.bracketedArray!==!1;const ar=Object.create(null);let or=ar,ur=null;const fr=/^\[([^\]]*)\]\s*$|^([^=]+)(=(.*))?$/i,xr=lr.split(/[\r\n]+/g),pr={};for(const gr of xr){if(!gr||gr.match(/^\s*[;#]/)||gr.match(/^\s*$/))continue;const mr=gr.match(fr);if(!mr)continue;if(mr[1]!==void 0){if(ur=unsafe(mr[1]),ur==="__proto__"){or=Object.create(null);continue}or=ar[ur]=ar[ur]||Object.create(null);continue}const _r=unsafe(mr[2]);let Sr;cr.bracketedArray?Sr=_r.length>2&&_r.slice(-2)==="[]":(pr[_r]=((pr==null?void 0:pr[_r])||0)+1,Sr=pr[_r]>1);const yr=Sr?_r.slice(0,-2):_r;if(yr==="__proto__")continue;const Cr=mr[3]?unsafe(mr[4]):!0,Ar=Cr==="true"||Cr==="false"||Cr==="null"?JSON.parse(Cr):Cr;Sr&&(hasOwnProperty.call(or,yr)?Array.isArray(or[yr])||(or[yr]=[or[yr]]):or[yr]=[]),Array.isArray(or[yr])?or[yr].push(Ar):or[yr]=Ar}const br=[];for(const gr of Object.keys(ar)){if(!hasOwnProperty.call(ar,gr)||typeof ar[gr]!="object"||Array.isArray(ar[gr]))continue;const mr=splitSections(gr,".");or=ar;const _r=mr.pop(),Sr=_r.replace(/\\\./g,".");for(const yr of mr)yr!=="__proto__"&&((!hasOwnProperty.call(or,yr)||typeof or[yr]!="object")&&(or[yr]=Object.create(null)),or=or[yr]);or===ar&&Sr===_r||(or[Sr]=ar[gr],br.push(gr))}for(const gr of br)delete ar[gr];return ar},isQuoted=lr=>lr.startsWith('"')&&lr.endsWith('"')||lr.startsWith("'")&&lr.endsWith("'"),safe=lr=>typeof lr!="string"||lr.match(/[=\r\n]/)||lr.match(/^\[/)||lr.length>1&&isQuoted(lr)||lr!==lr.trim()?JSON.stringify(lr):lr.split(";").join("\\;").split("#").join("\\#"),unsafe=lr=>{if(lr=(lr||"").trim(),isQuoted(lr)){lr.charAt(0)==="'"&&(lr=lr.slice(1,-1));try{lr=JSON.parse(lr)}catch{}}else{let cr=!1,ar="";for(let or=0,ur=lr.length;or<ur;or++){const fr=lr.charAt(or);if(cr)"\\;#".indexOf(fr)!==-1?ar+=fr:ar+="\\"+fr,cr=!1;else{if(";#".indexOf(fr)!==-1)break;fr==="\\"?cr=!0:ar+=fr}}return cr&&(ar+="\\"),ar.trim()}return lr};var ini={parse:decode,decode,stringify:encode,encode,safe,unsafe};const ini$1=getDefaultExportFromCjs(ini),coreInfoMap={81:{corename:"81",savestate:!0},2048:{corename:"2048",savestate:!0,supportsNoGame:!0},"3dengine":{corename:"3DEngine"},"4do":{corename:"4DO",savestate:!0},a5200:{corename:"a5200",savestate:!0},advanced_tests:{corename:"Advanced Test",supportsNoGame:!0},ardens:{corename:"Ardens",savestate:!0},arduous:{corename:"Arduous"},atari800:{corename:"Atari800",savestate:!0},bk:{corename:"bk",savestate:!0},blastem:{corename:"BlastEm",savestate:!0},bluemsx:{corename:"blueMSX",savestate:!0},bnes:{corename:"bnes/higan",savestate:!0},boom3:{corename:"boom3"},boom3_xp:{corename:"boom3_xp"},bsnes_cplusplus98:{cheats:!0,corename:"bsnes C++98 (v085)",savestate:!0},bsnes_hd_beta:{corename:"bsnes-hd beta",savestate:!0},bsnes:{corename:"bsnes",savestate:!0},bsnes_mercury_accuracy:{cheats:!0,corename:"bsnes-mercury Accuracy",savestate:!0},bsnes_mercury_balanced:{cheats:!0,corename:"bsnes-mercury Balanced",savestate:!0},bsnes_mercury_performance:{cheats:!0,corename:"bsnes-mercury Performance",savestate:!0},bsnes2014_accuracy:{cheats:!0,corename:"bsnes 2014 Accuracy",savestate:!0},bsnes2014_balanced:{cheats:!0,corename:"bsnes 2014 Balanced",savestate:!0},bsnes2014_performance:{cheats:!0,corename:"bsnes 2014 Performance",savestate:!0},cannonball:{corename:"Cannonball",supportsNoGame:!0},cap32:{corename:"Caprice32",savestate:!0,supportsNoGame:!0},cdi2015:{corename:"Philips CDi 2015"},chailove:{cheats:!0,corename:"ChaiLove",savestate:!0},chimerasnes:{cheats:!0,corename:"ChimeraSNES",savestate:!0},citra_canary:{corename:"Citra Canary/Experimental"},citra:{corename:"Citra",savestate:!0},citra2018:{corename:"Citra 2018"},craft:{corename:"Craft",supportsNoGame:!0},crocods:{corename:"CrocoDS",savestate:!0},cruzes:{corename:"Cruzes",supportsNoGame:!0},daphne:{corename:"Daphne"},desmume:{cheats:!0,corename:"DeSmuME",savestate:!0},desmume2015:{cheats:!0,corename:"DeSmuME 2015",savestate:!0},dinothawr:{corename:"Dinothawr",supportsNoGame:!0},directxbox:{corename:"DirectXBox"},dirksimple:{corename:"DirkSimple",savestate:!0},dolphin_launcher:{corename:"Dolphin Launcher",supportsNoGame:!0},dolphin:{corename:"Dolphin",savestate:!0},dosbox_core:{corename:"DOSBox-core",supportsNoGame:!0},dosbox:{corename:"DOSBox",supportsNoGame:!0},dosbox_pure:{cheats:!0,corename:"DOSBox-pure",savestate:!0,supportsNoGame:!0},dosbox_svn_ce:{corename:"DOSBox-SVN CE",supportsNoGame:!0},dosbox_svn:{corename:"DOSBox-SVN",supportsNoGame:!0},duckstation:{corename:"DuckStation",savestate:!0},easyrpg:{corename:"EasyRPG Player"},ecwolf:{corename:"ECWolf",savestate:!0},emuscv:{corename:"EmuSCV",supportsNoGame:!0},emux_chip8:{corename:"Emux CHIP-8"},emux_gb:{corename:"Emux GB"},emux_nes:{corename:"Emux NES"},emux_sms:{corename:"Emux SMS"},ep128emu_core:{cheats:!0,corename:"ep128emu-core",savestate:!0,supportsNoGame:!0},fake08:{corename:"FAKE-08",savestate:!0},fbalpha2012_cps1:{corename:"FB Alpha 2012 CPS-1",savestate:!0},fbalpha2012_cps2:{corename:"FB Alpha 2012 CPS-2",savestate:!0},fbalpha2012_cps3:{corename:"FB Alpha 2012 CPS-3",savestate:!0},fbalpha2012:{corename:"FB Alpha 2012",savestate:!0},fbalpha2012_neogeo:{corename:"FB Alpha 2012 Neo Geo",savestate:!0},fbneo:{cheats:!0,corename:"FinalBurn Neo",savestate:!0},fceumm:{cheats:!0,corename:"FCEUmm",savestate:!0},ffmpeg:{corename:"FFmpeg"},fixgb:{corename:"fixGB"},fixnes:{corename:"fixNES"},flycast_gles2:{corename:"Flycast GLES2",savestate:!0},flycast:{corename:"Flycast",savestate:!0},fmsx:{corename:"fMSX"},freechaf:{corename:"FreeChaF"},freeintv:{corename:"FreeIntv"},freej2me:{corename:"FreeJ2ME"},frodo:{corename:"Frodo"},fsuae:{corename:"FS-UAE"},fuse:{corename:"Fuse"},galaksija:{corename:"galaksija",supportsNoGame:!0},gambatte:{corename:"Gambatte",savestate:!0},gearboy:{corename:"Gearboy"},gearcoleco:{corename:"Gearcoleco"},gearsystem:{corename:"Gearsystem"},genesis_plus_gx:{cheats:!0,corename:"Genesis Plus GX",savestate:!0},genesis_plus_gx_wide:{cheats:!0,corename:"Genesis Plus GX Wide",savestate:!0},gme:{corename:"Game Music Emu"},gong:{corename:"Gong",savestate:!0,supportsNoGame:!0},gpsp:{corename:"gpSP",savestate:!0},gw:{corename:"GW"},handy:{corename:"Handy",savestate:!0},hatari:{corename:"Hatari",savestate:!0},hbmame:{corename:"HBMAME (Git)"},higan_sfc_balanced:{corename:"nSide (Super Famicom Balanced)",savestate:!0},higan_sfc:{corename:"nSide (Super Famicom Accuracy)",savestate:!0},imageviewer:{corename:"Imageviewer"},ishiiruka:{corename:"Ishiiruka",savestate:!0},jaxe:{corename:"JAXE"},jumpnbump:{corename:"jumpnbump"},kronos:{cheats:!0,corename:"Kronos",savestate:!0},lowresnx:{corename:"lowresnx"},lutro:{corename:"Lutro"},mame:{corename:"MAME",savestate:!0},mame2000:{corename:"MAME 2000 (0.37b5)",savestate:!0},mame2003:{corename:"MAME 2003 (0.78)",savestate:!0},mame2003_midway:{corename:"MAME 2003 Midway (0.78)",savestate:!0},mame2003_plus:{corename:"MAME 2003-Plus",savestate:!0},mame2009:{corename:"MAME 2009 (0.135u4)"},mame2010:{corename:"MAME 2010 (0.139)"},mame2015:{corename:"MAME 2015 (0.160)"},mame2016:{corename:"MAME 2016 (0.174)"},mamearcade:{corename:"MAME (Git)"},mamemess:{corename:"MESS (Git)",savestate:!0},mednafen_gba:{corename:"Beetle GBA"},mednafen_lynx:{corename:"Beetle Lynx"},mednafen_ngp:{corename:"Beetle NeoPop",savestate:!0},mednafen_pce_fast:{corename:"Beetle PCE Fast",savestate:!0},mednafen_pce:{corename:"Beetle PCE",savestate:!0},mednafen_pcfx:{corename:"Beetle PC-FX"},mednafen_psx_hw:{cheats:!0,corename:"Beetle PSX HW",savestate:!0},mednafen_psx:{cheats:!0,corename:"Beetle PSX",savestate:!0},mednafen_saturn:{cheats:!0,corename:"Beetle Saturn",savestate:!0},mednafen_snes:{corename:"Beetle bsnes",savestate:!0},mednafen_supafaust:{cheats:!0,corename:"Beetle Supafaust",savestate:!0},mednafen_supergrafx:{cheats:!0,corename:"Beetle SuperGrafx",savestate:!0},mednafen_vb:{corename:"Beetle VB"},mednafen_wswan:{corename:"Beetle WonderSwan",savestate:!0},melonds:{corename:"melonDS"},mesen:{cheats:!0,corename:"Mesen",savestate:!0},"mesen-s":{corename:"Mesen-S"},mess2015:{corename:"MESS 2015 (0.160)"},meteor:{corename:"Meteor"},mgba:{cheats:!0,corename:"mGBA",savestate:!0},minivmac:{corename:"MinivmacII"},mojozork:{corename:"mojozork",savestate:!0},moonlight:{corename:"Moonlight",supportsNoGame:!0},mpv:{corename:"MPV"},mrboom:{corename:"Mr.Boom",savestate:!0,supportsNoGame:!0},mu:{corename:"Mu",supportsNoGame:!0},mupen64plus_next_develop:{cheats:!0,corename:"Mupen64Plus-Next",savestate:!0},mupen64plus_next_gles2:{cheats:!0,corename:"Mupen64Plus-Next",savestate:!0},mupen64plus_next_gles3:{cheats:!0,corename:"Mupen64Plus-Next",savestate:!0},mupen64plus_next:{cheats:!0,corename:"Mupen64Plus-Next",savestate:!0},nekop2:{corename:"Neko Project II",savestate:!0},neocd:{corename:"NeoCD"},nes:{corename:"nes",savestate:!0},nestopia:{cheats:!0,corename:"Nestopia",savestate:!0},np2kai:{corename:"Neko Project II Kai",savestate:!0},numero:{corename:"Numero",savestate:!0,supportsNoGame:!0},nxengine:{corename:"NXEngine",supportsNoGame:!0},o2em:{corename:"O2EM",savestate:!0},oberon:{corename:"Oberon"},openlara:{corename:"OpenLara"},opentyrian:{corename:"OpenTyrian",supportsNoGame:!0},opera:{corename:"Opera",savestate:!0,supportsNoGame:!0},parallel_n64_debug:{corename:"ParaLLEl (Debug)",savestate:!0},parallel_n64:{corename:"ParaLLEl N64",savestate:!0},pascal_pong:{corename:"PascalPong",supportsNoGame:!0},pcem:{corename:"PCem",supportsNoGame:!0},pcsx_rearmed_interpreter:{cheats:!0,corename:"PCSX ReARMed [Interpreter]",savestate:!0},pcsx_rearmed:{cheats:!0,corename:"PCSX-ReARMed",savestate:!0},pcsx_rearmed_neon:{cheats:!0,corename:"PCSX ReARMed [NEON]",savestate:!0},pcsx1:{corename:"PCSX1"},pcsx2:{corename:"LRPS2",savestate:!0},picodrive:{cheats:!0,corename:"PicoDrive",savestate:!0},play:{corename:"Play!",savestate:!0},pocketcdg:{corename:"PocketCDG"},pokemini:{corename:"PokeMini",savestate:!0},potator:{corename:"Potator",savestate:!0},ppsspp:{corename:"PPSSPP",savestate:!0},prboom:{cheats:!0,corename:"PrBoom",savestate:!0},prosystem:{corename:"ProSystem",savestate:!0},puae:{cheats:!0,corename:"PUAE",savestate:!0,supportsNoGame:!0},puae2021:{cheats:!0,corename:"PUAE 2021",savestate:!0,supportsNoGame:!0},puzzlescript:{corename:"puzzlescript",savestate:!0},px68k:{corename:"PX68k",supportsNoGame:!0},quasi88:{cheats:!0,corename:"QUASI88",savestate:!0,supportsNoGame:!0},quicknes:{corename:"QuickNES",savestate:!0},race:{corename:"RACE",savestate:!0},redbook:{corename:"Redbook"},reminiscence:{corename:"REminiscence",savestate:!0},remotejoy:{corename:"RemoteJoy",supportsNoGame:!0},retro8:{corename:"Retro8"},retrodream:{corename:"RetroDream"},rustation:{corename:"Rustation"},same_cdi:{corename:"SAME CDi (Git)"},sameboy:{corename:"SameBoy"},sameduck:{corename:"SameDuck",savestate:!0},scummvm:{corename:"ScummVM",supportsNoGame:!0},simcp:{corename:"SimCoupe"},smsplus:{corename:"SMS Plus GX"},snes9x:{cheats:!0,corename:"Snes9x",savestate:!0},snes9x2002:{cheats:!0,corename:"Snes9x 2002",savestate:!0},snes9x2005:{cheats:!0,corename:"Snes9x 2005",savestate:!0},snes9x2005_plus:{cheats:!0,corename:"Snes9x 2005 Plus",savestate:!0},snes9x2010:{cheats:!0,corename:"Snes9x 2010",savestate:!0},squirreljme:{corename:"SquirrelJME",supportsNoGame:!0},stella:{corename:"Stella",savestate:!0},stella2014:{corename:"Stella 2014",savestate:!0},stonesoup:{corename:"Dungeon Crawl Stone Soup"},superbroswar:{corename:"superbroswar"},swanstation:{corename:"SwanStation",savestate:!0},tempgba:{corename:"TempGBA"},test:{corename:"Test",supportsNoGame:!0},test_netplay:{corename:"netplay-test",supportsNoGame:!0},testaudio_callback:{corename:"TestAudio Callback",supportsNoGame:!0},testaudio_no_callback:{corename:"TestAudio NoCallback",supportsNoGame:!0},testaudio_playback_wav:{corename:"TestAudio Playback Wav",supportsNoGame:!0},testgl_compute_shaders:{corename:"TestGL ComputeShaders",supportsNoGame:!0},testgl_ff:{corename:"TestGL (FF)",supportsNoGame:!0},testgl:{corename:"TestGL",supportsNoGame:!0},testinput_buttontest:{corename:"Button Test",supportsNoGame:!0},testretroluxury:{corename:"Test RetroLuxury",supportsNoGame:!0},testsw:{corename:"TestSW",supportsNoGame:!0},testsw_vram:{corename:"TestSW VRAM",supportsNoGame:!0},testvulkan_async_compute:{corename:"TestVulkan AsyncCompute",supportsNoGame:!0},testvulkan:{corename:"TestVulkan",supportsNoGame:!0},tgbdual:{corename:"TGB Dual",savestate:!0},theodore:{corename:"theodore",savestate:!0,supportsNoGame:!0},thepowdertoy:{corename:"ThePowderToy",savestate:!0,supportsNoGame:!0},tic80:{cheats:!0,corename:"TIC-80",savestate:!0},tyrquake:{cheats:!0,corename:"TyrQuake"},uae4arm:{corename:"UAE4ARM",savestate:!0},ume2015:{corename:"UME 2015 (0.160)"},uw8:{corename:"MicroW8",savestate:!0},uzem:{corename:"uzem",savestate:!0},vaporspec:{corename:"VaporSpec",savestate:!0},vba_next:{corename:"VBA Next",savestate:!0},vbam:{cheats:!0,corename:"VBA-M",savestate:!0},vecx:{corename:"vecx",savestate:!0},vemulator:{corename:"VeMUlator"},vice_x128:{cheats:!0,corename:"VICE x128",savestate:!0,supportsNoGame:!0},vice_x64:{cheats:!0,corename:"VICE x64",savestate:!0,supportsNoGame:!0},vice_x64dtv:{cheats:!0,corename:"VICE x64dtv",savestate:!0,supportsNoGame:!0},vice_x64sc:{cheats:!0,corename:"VICE x64sc",savestate:!0,supportsNoGame:!0},vice_xcbm2:{cheats:!0,corename:"VICE xcbm2",savestate:!0,supportsNoGame:!0},vice_xcbm5x0:{cheats:!0,corename:"VICE xcbm5x0",savestate:!0,supportsNoGame:!0},vice_xpet:{cheats:!0,corename:"VICE xpet",savestate:!0,supportsNoGame:!0},vice_xplus4:{cheats:!0,corename:"VICE xplus4",savestate:!0,supportsNoGame:!0},vice_xscpu64:{cheats:!0,corename:"VICE xscpu64",savestate:!0,supportsNoGame:!0},vice_xvic:{cheats:!0,corename:"VICE xvic",savestate:!0,supportsNoGame:!0},vircon32:{corename:"Vircon32",supportsNoGame:!0},virtualjaguar:{corename:"Virtual Jaguar"},virtualxt:{corename:"virtualxt"},vitaquake2:{corename:"vitaQuake 2"},"vitaquake2-rogue":{corename:"vitaQuake 2 [Rogue]"},"vitaquake2-xatrix":{corename:"vitaQuake 2 [Xatrix]"},"vitaquake2-zaero":{corename:"vitaQuake 2 [Zaero]"},vitaquake3:{corename:"vitaQuake 3"},vitavoyager:{corename:"vitaVoyager"},wasm4:{corename:"WASM-4",savestate:!0},x1:{corename:"x1"},x64sdl:{corename:"VICE SDL"},xrick:{corename:"XRick",supportsNoGame:!0},yabasanshiro:{cheats:!0,corename:"YabaSanshiro",savestate:!0},yabause:{cheats:!0,corename:"Yabause",savestate:!0}},keyboardCodeMap={left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown",enter:"Enter",kp_enter:"NumpadEnter",tab:"Tab",insert:"Insert",del:"Delete",end:"End",home:"Home",shift:"ShiftLeft",rshift:"ShiftRight",ctrl:"ControlLeft",alt:"AltLeft",space:"Space",escape:"Escape",add:"NumpadAdd",subtract:"NumpadSubtract",kp_plus:"NumpadAdd",kp_minus:"NumpadSubtract",pageup:"PageUp",pagedown:"PageDown",period:"Period",capslock:"CapsLock",numlock:"NumLock",backspace:"Backspace",multiply:"NumpadMultiply",divide:"NumpadDivide",print_screen:"PrintScreen",scroll_lock:"ScrollLock",tilde:"",backquote:"Backquote",pause:"Pause",quote:"Quote",comma:"Comma",minus:"Minus",slash:"Slash",semicolon:"Semicolon",equals:"Equal",leftbracket:"BracketLeft",backslash:"",rightbracket:"BracketRight",kp_period:"NumpadDecimal",kp_equals:"NumpadEquals",rctrl:"ControlRight",ralt:"AltRight"};var browserfs$2={exports:{}};(function(lr,cr){(function(or,ur){lr.exports=ur()})(commonjsGlobal,function(){return function(ar){var or={};function ur(fr){if(or[fr])return or[fr].exports;var xr=or[fr]={exports:{},id:fr,loaded:!1};return ar[fr].call(xr.exports,xr,xr.exports,ur),xr.loaded=!0,xr.exports}return ur.m=ar,ur.c=or,ur.p="",ur(0)}([function(ar,or,ur){(function(fr,xr,pr,br){Object.defineProperty(or,"__esModule",{value:!0});var gr=ur(2),mr=ur(9),_r;(function(Er){Er[Er.EPERM=1]="EPERM",Er[Er.ENOENT=2]="ENOENT",Er[Er.EIO=5]="EIO",Er[Er.EBADF=9]="EBADF",Er[Er.EACCES=13]="EACCES",Er[Er.EBUSY=16]="EBUSY",Er[Er.EEXIST=17]="EEXIST",Er[Er.ENOTDIR=20]="ENOTDIR",Er[Er.EISDIR=21]="EISDIR",Er[Er.EINVAL=22]="EINVAL",Er[Er.EFBIG=27]="EFBIG",Er[Er.ENOSPC=28]="ENOSPC",Er[Er.EROFS=30]="EROFS",Er[Er.ENOTEMPTY=39]="ENOTEMPTY",Er[Er.ENOTSUP=95]="ENOTSUP"})(_r||(_r={}));var Sr={};Sr[_r.EPERM]="Operation not permitted.",Sr[_r.ENOENT]="No such file or directory.",Sr[_r.EIO]="Input/output error.",Sr[_r.EBADF]="Bad file descriptor.",Sr[_r.EACCES]="Permission denied.",Sr[_r.EBUSY]="Resource busy or locked.",Sr[_r.EEXIST]="File exists.",Sr[_r.ENOTDIR]="File is not a directory.",Sr[_r.EISDIR]="File is a directory.",Sr[_r.EINVAL]="Invalid argument.",Sr[_r.EFBIG]="File is too big.",Sr[_r.ENOSPC]="No space left on disk.",Sr[_r.EROFS]="Cannot modify a read-only file system.",Sr[_r.ENOTEMPTY]="Directory is not empty.",Sr[_r.ENOTSUP]="Operation is not supported.";var yr=function(Er){function dr(vr,hr,wr){hr===void 0&&(hr=Sr[vr]),Er.call(this,hr),this.syscall="",this.errno=vr,this.code=_r[vr],this.path=wr,this.stack=new Er().stack,this.message="Error: "+this.code+": "+hr+(this.path?", '"+this.path+"'":"")}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.fromJSON=function(hr){var wr=new dr(0);return wr.errno=hr.errno,wr.code=hr.code,wr.path=hr.path,wr.stack=hr.stack,wr.message=hr.message,wr},dr.fromBuffer=function(hr,wr){return wr===void 0&&(wr=0),dr.fromJSON(JSON.parse(hr.toString("utf8",wr+4,wr+4+hr.readUInt32LE(wr))))},dr.FileError=function(hr,wr){return new dr(hr,Sr[hr],wr)},dr.ENOENT=function(hr){return this.FileError(_r.ENOENT,hr)},dr.EEXIST=function(hr){return this.FileError(_r.EEXIST,hr)},dr.EISDIR=function(hr){return this.FileError(_r.EISDIR,hr)},dr.ENOTDIR=function(hr){return this.FileError(_r.ENOTDIR,hr)},dr.EPERM=function(hr){return this.FileError(_r.EPERM,hr)},dr.ENOTEMPTY=function(hr){return this.FileError(_r.ENOTEMPTY,hr)},dr.prototype.toString=function(){return this.message},dr.prototype.toJSON=function(){return{errno:this.errno,code:this.code,path:this.path,stack:this.stack,message:this.message}},dr.prototype.writeToBuffer=function(hr,wr){hr===void 0&&(hr=fr.alloc(this.bufferSize())),wr===void 0&&(wr=0);var Ir=hr.write(JSON.stringify(this.toJSON()),wr+4);return hr.writeUInt32LE(Ir,wr),hr},dr.prototype.bufferSize=function(){return 4+fr.byteLength(JSON.stringify(this.toJSON()))},dr}(Error),Cr=Object.freeze({get ErrorCode(){return _r},ErrorStrings:Sr,ApiError:yr}),Ar;(function(Er){Er[Er.NOP=0]="NOP",Er[Er.THROW_EXCEPTION=1]="THROW_EXCEPTION",Er[Er.TRUNCATE_FILE=2]="TRUNCATE_FILE",Er[Er.CREATE_FILE=3]="CREATE_FILE"})(Ar||(Ar={}));var kr=function Er(dr){if(this.flagStr=dr,Er.validFlagStrs.indexOf(dr)<0)throw new yr(_r.EINVAL,"Invalid flag: "+dr)};kr.getFileFlag=function(dr){return kr.flagCache.hasOwnProperty(dr)?kr.flagCache[dr]:kr.flagCache[dr]=new kr(dr)},kr.prototype.getFlagString=function(){return this.flagStr},kr.prototype.isReadable=function(){return this.flagStr.indexOf("r")!==-1||this.flagStr.indexOf("+")!==-1},kr.prototype.isWriteable=function(){return this.flagStr.indexOf("w")!==-1||this.flagStr.indexOf("a")!==-1||this.flagStr.indexOf("+")!==-1},kr.prototype.isTruncating=function(){return this.flagStr.indexOf("w")!==-1},kr.prototype.isAppendable=function(){return this.flagStr.indexOf("a")!==-1},kr.prototype.isSynchronous=function(){return this.flagStr.indexOf("s")!==-1},kr.prototype.isExclusive=function(){return this.flagStr.indexOf("x")!==-1},kr.prototype.pathExistsAction=function(){return this.isExclusive()?Ar.THROW_EXCEPTION:this.isTruncating()?Ar.TRUNCATE_FILE:Ar.NOP},kr.prototype.pathNotExistsAction=function(){return(this.isWriteable()||this.isAppendable())&&this.flagStr!=="r+"?Ar.CREATE_FILE:Ar.THROW_EXCEPTION},kr.flagCache={},kr.validFlagStrs=["r","r+","rs","rs+","w","wx","w+","wx+","a","ax","a+","ax+"];var Or;(function(Er){Er[Er.FILE=32768]="FILE",Er[Er.DIRECTORY=16384]="DIRECTORY",Er[Er.SYMLINK=40960]="SYMLINK"})(Or||(Or={}));var Dr=function(dr,vr,hr,wr,Ir,Tr){if(wr===void 0&&(wr=new Date),Ir===void 0&&(Ir=new Date),Tr===void 0&&(Tr=new Date),this.size=vr,this.atime=wr,this.mtime=Ir,this.ctime=Tr,this.dev=0,this.ino=0,this.rdev=0,this.nlink=1,this.blksize=4096,this.uid=0,this.gid=0,this.birthtime=new Date(0),this.fileData=null,hr)this.mode=hr;else switch(dr){case Or.FILE:this.mode=420;break;case Or.DIRECTORY:default:this.mode=511}this.blocks=Math.ceil(vr/512),this.mode<4096&&(this.mode|=dr)};Dr.fromBuffer=function(dr){var vr=dr.readUInt32LE(0),hr=dr.readUInt32LE(4),wr=dr.readDoubleLE(8),Ir=dr.readDoubleLE(16),Tr=dr.readDoubleLE(24);return new Dr(hr&61440,vr,hr&4095,new Date(wr),new Date(Ir),new Date(Tr))},Dr.prototype.toBuffer=function(){var dr=fr.alloc(32);return dr.writeUInt32LE(this.size,0),dr.writeUInt32LE(this.mode,4),dr.writeDoubleLE(this.atime.getTime(),8),dr.writeDoubleLE(this.mtime.getTime(),16),dr.writeDoubleLE(this.ctime.getTime(),24),dr},Dr.prototype.clone=function(){return new Dr(this.mode&61440,this.size,this.mode&4095,this.atime,this.mtime,this.ctime)},Dr.prototype.isFile=function(){return(this.mode&61440)===Or.FILE},Dr.prototype.isDirectory=function(){return(this.mode&61440)===Or.DIRECTORY},Dr.prototype.isSymbolicLink=function(){return(this.mode&61440)===Or.SYMLINK},Dr.prototype.chmod=function(dr){this.mode=this.mode&61440|dr},Dr.prototype.isSocket=function(){return!1},Dr.prototype.isBlockDevice=function(){return!1},Dr.prototype.isCharacterDevice=function(){return!1},Dr.prototype.isFIFO=function(){return!1};var Rr=function(Er,dr){return Er};function Fr(Er){if(Er)return Er;throw new yr(_r.EIO,"Initialize BrowserFS with a file system using BrowserFS.initialize(filesystem)")}function Nr(Er,dr){switch(typeof Er){case"number":return Er;case"string":var vr=parseInt(Er,8);return isNaN(vr)?dr:vr;default:return dr}}function Hr(Er){if(Er instanceof Date)return Er;if(typeof Er=="number")return new Date(Er*1e3);throw new yr(_r.EINVAL,"Invalid time.")}function jr(Er){if(Er.indexOf("\0")>=0)throw new yr(_r.EINVAL,"Path must be a string without null bytes.");if(Er==="")throw new yr(_r.EINVAL,"Path must not be empty.");return mr.resolve(Er)}function Jr(Er,dr,vr,hr){switch(typeof Er){case"object":return{encoding:typeof Er.encoding<"u"?Er.encoding:dr,flag:typeof Er.flag<"u"?Er.flag:vr,mode:Nr(Er.mode,hr)};case"string":return{encoding:Er,flag:vr,mode:hr};default:return{encoding:dr,flag:vr,mode:hr}}}function Yr(){}var Ur=function(){this.F_OK=0,this.R_OK=4,this.W_OK=2,this.X_OK=1,this.root=null,this.fdMap={},this.nextFd=100};Ur.prototype.initialize=function(dr){if(!dr.constructor.isAvailable())throw new yr(_r.EINVAL,"Tried to instantiate BrowserFS with an unavailable file system.");return this.root=dr},Ur.prototype._toUnixTimestamp=function(dr){if(typeof dr=="number")return dr;if(dr instanceof Date)return dr.getTime()/1e3;throw new Error("Cannot parse time: "+dr)},Ur.prototype.getRootFS=function(){return this.root?this.root:null},Ur.prototype.rename=function(dr,vr,hr){hr===void 0&&(hr=Yr);var wr=Rr(hr,1);try{Fr(this.root).rename(jr(dr),jr(vr),wr)}catch(Ir){wr(Ir)}},Ur.prototype.renameSync=function(dr,vr){Fr(this.root).renameSync(jr(dr),jr(vr))},Ur.prototype.exists=function(dr,vr){vr===void 0&&(vr=Yr);var hr=Rr(vr,1);try{return Fr(this.root).exists(jr(dr),hr)}catch{return hr(!1)}},Ur.prototype.existsSync=function(dr){try{return Fr(this.root).existsSync(jr(dr))}catch{return!1}},Ur.prototype.stat=function(dr,vr){vr===void 0&&(vr=Yr);var hr=Rr(vr,2);try{return Fr(this.root).stat(jr(dr),!1,hr)}catch(wr){return hr(wr)}},Ur.prototype.statSync=function(dr){return Fr(this.root).statSync(jr(dr),!1)},Ur.prototype.lstat=function(dr,vr){vr===void 0&&(vr=Yr);var hr=Rr(vr,2);try{return Fr(this.root).stat(jr(dr),!0,hr)}catch(wr){return hr(wr)}},Ur.prototype.lstatSync=function(dr){return Fr(this.root).statSync(jr(dr),!0)},Ur.prototype.truncate=function(dr,vr,hr){vr===void 0&&(vr=0),hr===void 0&&(hr=Yr);var wr=0;typeof vr=="function"?hr=vr:typeof vr=="number"&&(wr=vr);var Ir=Rr(hr,1);try{if(wr<0)throw new yr(_r.EINVAL);return Fr(this.root).truncate(jr(dr),wr,Ir)}catch(Tr){return Ir(Tr)}},Ur.prototype.truncateSync=function(dr,vr){if(vr===void 0&&(vr=0),vr<0)throw new yr(_r.EINVAL);return Fr(this.root).truncateSync(jr(dr),vr)},Ur.prototype.unlink=function(dr,vr){vr===void 0&&(vr=Yr);var hr=Rr(vr,1);try{return Fr(this.root).unlink(jr(dr),hr)}catch(wr){return hr(wr)}},Ur.prototype.unlinkSync=function(dr){return Fr(this.root).unlinkSync(jr(dr))},Ur.prototype.open=function(dr,vr,hr,wr){var Ir=this;wr===void 0&&(wr=Yr);var Tr=Nr(hr,420);wr=typeof hr=="function"?hr:wr;var Br=Rr(wr,2);try{Fr(this.root).open(jr(dr),kr.getFileFlag(vr),Tr,function(zr,Xr){Xr?Br(zr,Ir.getFdForFile(Xr)):Br(zr)})}catch(zr){Br(zr)}},Ur.prototype.openSync=function(dr,vr,hr){return hr===void 0&&(hr=420),this.getFdForFile(Fr(this.root).openSync(jr(dr),kr.getFileFlag(vr),Nr(hr,420)))},Ur.prototype.readFile=function(dr,vr,hr){vr===void 0&&(vr={}),hr===void 0&&(hr=Yr);var wr=Jr(vr,null,"r",null);hr=typeof vr=="function"?vr:hr;var Ir=Rr(hr,2);try{var Tr=kr.getFileFlag(wr.flag);return Tr.isReadable()?Fr(this.root).readFile(jr(dr),wr.encoding,Tr,Ir):Ir(new yr(_r.EINVAL,"Flag passed to readFile must allow for reading."))}catch(Br){return Ir(Br)}},Ur.prototype.readFileSync=function(dr,vr){vr===void 0&&(vr={});var hr=Jr(vr,null,"r",null),wr=kr.getFileFlag(hr.flag);if(!wr.isReadable())throw new yr(_r.EINVAL,"Flag passed to readFile must allow for reading.");return Fr(this.root).readFileSync(jr(dr),hr.encoding,wr)},Ur.prototype.writeFile=function(dr,vr,hr,wr){hr===void 0&&(hr={}),wr===void 0&&(wr=Yr);var Ir=Jr(hr,"utf8","w",420);wr=typeof hr=="function"?hr:wr;var Tr=Rr(wr,1);try{var Br=kr.getFileFlag(Ir.flag);return Br.isWriteable()?Fr(this.root).writeFile(jr(dr),vr,Ir.encoding,Br,Ir.mode,Tr):Tr(new yr(_r.EINVAL,"Flag passed to writeFile must allow for writing."))}catch(zr){return Tr(zr)}},Ur.prototype.writeFileSync=function(dr,vr,hr){var wr=Jr(hr,"utf8","w",420),Ir=kr.getFileFlag(wr.flag);if(!Ir.isWriteable())throw new yr(_r.EINVAL,"Flag passed to writeFile must allow for writing.");return Fr(this.root).writeFileSync(jr(dr),vr,wr.encoding,Ir,wr.mode)},Ur.prototype.appendFile=function(dr,vr,hr,wr){wr===void 0&&(wr=Yr);var Ir=Jr(hr,"utf8","a",420);wr=typeof hr=="function"?hr:wr;var Tr=Rr(wr,1);try{var Br=kr.getFileFlag(Ir.flag);if(!Br.isAppendable())return Tr(new yr(_r.EINVAL,"Flag passed to appendFile must allow for appending."));Fr(this.root).appendFile(jr(dr),vr,Ir.encoding,Br,Ir.mode,Tr)}catch(zr){Tr(zr)}},Ur.prototype.appendFileSync=function(dr,vr,hr){var wr=Jr(hr,"utf8","a",420),Ir=kr.getFileFlag(wr.flag);if(!Ir.isAppendable())throw new yr(_r.EINVAL,"Flag passed to appendFile must allow for appending.");return Fr(this.root).appendFileSync(jr(dr),vr,wr.encoding,Ir,wr.mode)},Ur.prototype.fstat=function(dr,vr){vr===void 0&&(vr=Yr);var hr=Rr(vr,2);try{var wr=this.fd2file(dr);wr.stat(hr)}catch(Ir){hr(Ir)}},Ur.prototype.fstatSync=function(dr){return this.fd2file(dr).statSync()},Ur.prototype.close=function(dr,vr){var hr=this;vr===void 0&&(vr=Yr);var wr=Rr(vr,1);try{this.fd2file(dr).close(function(Ir){Ir||hr.closeFd(dr),wr(Ir)})}catch(Ir){wr(Ir)}},Ur.prototype.closeSync=function(dr){this.fd2file(dr).closeSync(),this.closeFd(dr)},Ur.prototype.ftruncate=function(dr,vr,hr){hr===void 0&&(hr=Yr);var wr=typeof vr=="number"?vr:0;hr=typeof vr=="function"?vr:hr;var Ir=Rr(hr,1);try{var Tr=this.fd2file(dr);if(wr<0)throw new yr(_r.EINVAL);Tr.truncate(wr,Ir)}catch(Br){Ir(Br)}},Ur.prototype.ftruncateSync=function(dr,vr){vr===void 0&&(vr=0);var hr=this.fd2file(dr);if(vr<0)throw new yr(_r.EINVAL);hr.truncateSync(vr)},Ur.prototype.fsync=function(dr,vr){vr===void 0&&(vr=Yr);var hr=Rr(vr,1);try{this.fd2file(dr).sync(hr)}catch(wr){hr(wr)}},Ur.prototype.fsyncSync=function(dr){this.fd2file(dr).syncSync()},Ur.prototype.fdatasync=function(dr,vr){vr===void 0&&(vr=Yr);var hr=Rr(vr,1);try{this.fd2file(dr).datasync(hr)}catch(wr){hr(wr)}},Ur.prototype.fdatasyncSync=function(dr){this.fd2file(dr).datasyncSync()},Ur.prototype.write=function(dr,vr,hr,wr,Ir,Tr){Tr===void 0&&(Tr=Yr);var Br,zr,Xr,li=null;if(typeof vr=="string"){var mi="utf8";switch(typeof hr){case"function":Tr=hr;break;case"number":li=hr,mi=typeof wr=="string"?wr:"utf8",Tr=typeof Ir=="function"?Ir:Tr;break;default:return Tr=typeof wr=="function"?wr:typeof Ir=="function"?Ir:Tr,Tr(new yr(_r.EINVAL,"Invalid arguments."))}Br=fr.from(vr,mi),zr=0,Xr=Br.length}else Br=vr,zr=hr,Xr=wr,li=typeof Ir=="number"?Ir:null,Tr=typeof Ir=="function"?Ir:Tr;var Ii=Rr(Tr,3);try{var Ni=this.fd2file(dr);li==null&&(li=Ni.getPos()),Ni.write(Br,zr,Xr,li,Ii)}catch(Li){Ii(Li)}},Ur.prototype.writeSync=function(dr,vr,hr,wr,Ir){var Tr,Br=0,zr,Xr;if(typeof vr=="string"){Xr=typeof hr=="number"?hr:null;var li=typeof wr=="string"?wr:"utf8";Br=0,Tr=fr.from(vr,li),zr=Tr.length}else Tr=vr,Br=hr,zr=wr,Xr=typeof Ir=="number"?Ir:null;var mi=this.fd2file(dr);return Xr==null&&(Xr=mi.getPos()),mi.writeSync(Tr,Br,zr,Xr)},Ur.prototype.read=function(dr,vr,hr,wr,Ir,Tr){Tr===void 0&&(Tr=Yr);var Br,zr,Xr,li,mi;if(typeof vr=="number"){Xr=vr,Br=hr;var Ii=wr;Tr=typeof Ir=="function"?Ir:Tr,zr=0,li=fr.alloc(Xr),mi=Rr(function(Li,Gi,Qi){if(Li)return Tr(Li);Tr(Li,Qi.toString(Ii),Gi)},3)}else li=vr,zr=hr,Xr=wr,Br=Ir,mi=Rr(Tr,3);try{var Ni=this.fd2file(dr);Br==null&&(Br=Ni.getPos()),Ni.read(li,zr,Xr,Br,mi)}catch(Li){mi(Li)}},Ur.prototype.readSync=function(dr,vr,hr,wr,Ir){var Tr=!1,Br,zr,Xr,li,mi="utf8";typeof vr=="number"?(Xr=vr,li=hr,mi=wr,zr=0,Br=fr.alloc(Xr),Tr=!0):(Br=vr,zr=hr,Xr=wr,li=Ir);var Ii=this.fd2file(dr);li==null&&(li=Ii.getPos());var Ni=Ii.readSync(Br,zr,Xr,li);return Tr?[Br.toString(mi),Ni]:Ni},Ur.prototype.fchown=function(dr,vr,hr,wr){wr===void 0&&(wr=Yr);var Ir=Rr(wr,1);try{this.fd2file(dr).chown(vr,hr,Ir)}catch(Tr){Ir(Tr)}},Ur.prototype.fchownSync=function(dr,vr,hr){this.fd2file(dr).chownSync(vr,hr)},Ur.prototype.fchmod=function(dr,vr,hr){var wr=Rr(hr,1);try{var Ir=typeof vr=="string"?parseInt(vr,8):vr;this.fd2file(dr).chmod(Ir,wr)}catch(Tr){wr(Tr)}},Ur.prototype.fchmodSync=function(dr,vr){var hr=typeof vr=="string"?parseInt(vr,8):vr;this.fd2file(dr).chmodSync(hr)},Ur.prototype.futimes=function(dr,vr,hr,wr){wr===void 0&&(wr=Yr);var Ir=Rr(wr,1);try{var Tr=this.fd2file(dr);typeof vr=="number"&&(vr=new Date(vr*1e3)),typeof hr=="number"&&(hr=new Date(hr*1e3)),Tr.utimes(vr,hr,Ir)}catch(Br){Ir(Br)}},Ur.prototype.futimesSync=function(dr,vr,hr){this.fd2file(dr).utimesSync(Hr(vr),Hr(hr))},Ur.prototype.rmdir=function(dr,vr){vr===void 0&&(vr=Yr);var hr=Rr(vr,1);try{dr=jr(dr),Fr(this.root).rmdir(dr,hr)}catch(wr){hr(wr)}},Ur.prototype.rmdirSync=function(dr){return dr=jr(dr),Fr(this.root).rmdirSync(dr)},Ur.prototype.mkdir=function(dr,vr,hr){hr===void 0&&(hr=Yr),typeof vr=="function"&&(hr=vr,vr=511);var wr=Rr(hr,1);try{dr=jr(dr),Fr(this.root).mkdir(dr,vr,wr)}catch(Ir){wr(Ir)}},Ur.prototype.mkdirSync=function(dr,vr){Fr(this.root).mkdirSync(jr(dr),Nr(vr,511))},Ur.prototype.readdir=function(dr,vr){vr===void 0&&(vr=Yr);var hr=Rr(vr,2);try{dr=jr(dr),Fr(this.root).readdir(dr,hr)}catch(wr){hr(wr)}},Ur.prototype.readdirSync=function(dr){return dr=jr(dr),Fr(this.root).readdirSync(dr)},Ur.prototype.link=function(dr,vr,hr){hr===void 0&&(hr=Yr);var wr=Rr(hr,1);try{dr=jr(dr),vr=jr(vr),Fr(this.root).link(dr,vr,wr)}catch(Ir){wr(Ir)}},Ur.prototype.linkSync=function(dr,vr){return dr=jr(dr),vr=jr(vr),Fr(this.root).linkSync(dr,vr)},Ur.prototype.symlink=function(dr,vr,hr,wr){wr===void 0&&(wr=Yr);var Ir=typeof hr=="string"?hr:"file";wr=typeof hr=="function"?hr:wr;var Tr=Rr(wr,1);try{if(Ir!=="file"&&Ir!=="dir")return Tr(new yr(_r.EINVAL,"Invalid type: "+Ir));dr=jr(dr),vr=jr(vr),Fr(this.root).symlink(dr,vr,Ir,Tr)}catch(Br){Tr(Br)}},Ur.prototype.symlinkSync=function(dr,vr,hr){if(!hr)hr="file";else if(hr!=="file"&&hr!=="dir")throw new yr(_r.EINVAL,"Invalid type: "+hr);return dr=jr(dr),vr=jr(vr),Fr(this.root).symlinkSync(dr,vr,hr)},Ur.prototype.readlink=function(dr,vr){vr===void 0&&(vr=Yr);var hr=Rr(vr,2);try{dr=jr(dr),Fr(this.root).readlink(dr,hr)}catch(wr){hr(wr)}},Ur.prototype.readlinkSync=function(dr){return dr=jr(dr),Fr(this.root).readlinkSync(dr)},Ur.prototype.chown=function(dr,vr,hr,wr){wr===void 0&&(wr=Yr);var Ir=Rr(wr,1);try{dr=jr(dr),Fr(this.root).chown(dr,!1,vr,hr,Ir)}catch(Tr){Ir(Tr)}},Ur.prototype.chownSync=function(dr,vr,hr){dr=jr(dr),Fr(this.root).chownSync(dr,!1,vr,hr)},Ur.prototype.lchown=function(dr,vr,hr,wr){wr===void 0&&(wr=Yr);var Ir=Rr(wr,1);try{dr=jr(dr),Fr(this.root).chown(dr,!0,vr,hr,Ir)}catch(Tr){Ir(Tr)}},Ur.prototype.lchownSync=function(dr,vr,hr){dr=jr(dr),Fr(this.root).chownSync(dr,!0,vr,hr)},Ur.prototype.chmod=function(dr,vr,hr){hr===void 0&&(hr=Yr);var wr=Rr(hr,1);try{var Ir=Nr(vr,-1);if(Ir<0)throw new yr(_r.EINVAL,"Invalid mode.");Fr(this.root).chmod(jr(dr),!1,Ir,wr)}catch(Tr){wr(Tr)}},Ur.prototype.chmodSync=function(dr,vr){var hr=Nr(vr,-1);if(hr<0)throw new yr(_r.EINVAL,"Invalid mode.");dr=jr(dr),Fr(this.root).chmodSync(dr,!1,hr)},Ur.prototype.lchmod=function(dr,vr,hr){hr===void 0&&(hr=Yr);var wr=Rr(hr,1);try{var Ir=Nr(vr,-1);if(Ir<0)throw new yr(_r.EINVAL,"Invalid mode.");Fr(this.root).chmod(jr(dr),!0,Ir,wr)}catch(Tr){wr(Tr)}},Ur.prototype.lchmodSync=function(dr,vr){var hr=Nr(vr,-1);if(hr<1)throw new yr(_r.EINVAL,"Invalid mode.");Fr(this.root).chmodSync(jr(dr),!0,hr)},Ur.prototype.utimes=function(dr,vr,hr,wr){wr===void 0&&(wr=Yr);var Ir=Rr(wr,1);try{Fr(this.root).utimes(jr(dr),Hr(vr),Hr(hr),Ir)}catch(Tr){Ir(Tr)}},Ur.prototype.utimesSync=function(dr,vr,hr){Fr(this.root).utimesSync(jr(dr),Hr(vr),Hr(hr))},Ur.prototype.realpath=function(dr,vr,hr){hr===void 0&&(hr=Yr);var wr=typeof vr=="object"?vr:{};hr=typeof vr=="function"?vr:Yr;var Ir=Rr(hr,2);try{dr=jr(dr),Fr(this.root).realpath(dr,wr,Ir)}catch(Tr){Ir(Tr)}},Ur.prototype.realpathSync=function(dr,vr){return vr===void 0&&(vr={}),dr=jr(dr),Fr(this.root).realpathSync(dr,vr)},Ur.prototype.watchFile=function(dr,vr,hr){throw new yr(_r.ENOTSUP)},Ur.prototype.unwatchFile=function(dr,vr){throw new yr(_r.ENOTSUP)},Ur.prototype.watch=function(dr,vr,hr){throw new yr(_r.ENOTSUP)},Ur.prototype.access=function(dr,vr,hr){throw new yr(_r.ENOTSUP)},Ur.prototype.accessSync=function(dr,vr){throw new yr(_r.ENOTSUP)},Ur.prototype.createReadStream=function(dr,vr){throw new yr(_r.ENOTSUP)},Ur.prototype.createWriteStream=function(dr,vr){throw new yr(_r.ENOTSUP)},Ur.prototype.wrapCallbacks=function(dr){Rr=dr},Ur.prototype.getFdForFile=function(dr){var vr=this.nextFd++;return this.fdMap[vr]=dr,vr},Ur.prototype.fd2file=function(dr){var vr=this.fdMap[dr];if(vr)return vr;throw new yr(_r.EBADF,"Invalid file descriptor.")},Ur.prototype.closeFd=function(dr){delete this.fdMap[dr]},Ur.Stats=Dr;var Zr=new Ur,Wr={},ni=Ur.prototype;Object.keys(ni).forEach(function(Er){typeof Zr[Er]=="function"?Wr[Er]=function(){return Zr[Er].apply(Zr,arguments)}:Wr[Er]=Zr[Er]}),Wr.changeFSModule=function(Er){Zr=Er},Wr.getFSModule=function(){return Zr},Wr.FS=Ur;function Lr(Er,dr,vr,hr,wr){return Er<dr||vr<dr?Er>vr?vr+1:Er+1:hr===wr?dr:dr+1}function hi(Er,dr){if(Er===dr)return 0;if(Er.length>dr.length){var vr=Er;Er=dr,dr=vr}for(var hr=Er.length,wr=dr.length;hr>0&&Er.charCodeAt(hr-1)===dr.charCodeAt(wr-1);)hr--,wr--;for(var Ir=0;Ir<hr&&Er.charCodeAt(Ir)===dr.charCodeAt(Ir);)Ir++;if(hr-=Ir,wr-=Ir,hr===0||wr===1)return wr;for(var Tr=new Array(hr<<1),Br=0;Br<hr;)Tr[hr+Br]=Er.charCodeAt(Ir+Br),Tr[Br]=++Br;var zr,Xr,li,mi,Ii;for(zr=0;zr+3<wr;)for(var Ni=dr.charCodeAt(Ir+(Xr=zr)),Li=dr.charCodeAt(Ir+(li=zr+1)),Gi=dr.charCodeAt(Ir+(mi=zr+2)),Qi=dr.charCodeAt(Ir+(Ii=zr+3)),ea=zr+=4,_a=0;_a<hr;){var Na=Tr[hr+_a],yo=Tr[_a];Xr=Lr(yo,Xr,li,Ni,Na),li=Lr(Xr,li,mi,Li,Na),mi=Lr(li,mi,Ii,Gi,Na),ea=Lr(mi,Ii,ea,Qi,Na),Tr[_a++]=ea,Ii=mi,mi=li,li=Xr,Xr=yo}for(var bo=0;zr<wr;){var As=dr.charCodeAt(Ir+(Xr=zr));bo=++zr;for(var Ro=0;Ro<hr;Ro++){var Fo=Tr[Ro];Tr[Ro]=bo=Fo<Xr||bo<Xr?Fo>bo?bo+1:Fo+1:As===Tr[hr+Ro]?Xr:Xr+1,Xr=Fo}}return bo}function Ei(Er,dr,vr){Er&&console.warn("["+dr+"] Direct file system constructor usage is deprecated for this file system, and will be removed in the next major version. Please use the '"+dr+".Create("+JSON.stringify(vr)+", callback)' method instead. See https://github.com/jvilk/BrowserFS/issues/176 for more details.")}var _i=typeof navigator<"u"&&!!(/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||navigator.userAgent.indexOf("Trident")!==-1),Fi=typeof window>"u";function si(){throw new Error("BFS has reached an impossible code path; please file a bug.")}function ci(Er,dr,vr){vr.existsSync(Er)||(ci(mr.dirname(Er),dr,vr),vr.mkdirSync(Er,dr))}function $r(Er){var dr=ei(Er),vr=dr.byteOffset,hr=dr.byteLength;return vr===0&&hr===dr.buffer.byteLength?dr.buffer:dr.buffer.slice(vr,vr+hr)}function ei(Er){return Er instanceof Uint8Array?Er:new Uint8Array(Er)}function pi(Er){return Er instanceof fr?Er:Er instanceof Uint8Array?ui(Er):fr.from(Er)}function ui(Er){return Er instanceof fr?Er:Er.byteOffset===0&&Er.byteLength===Er.buffer.byteLength?bi(Er.buffer):fr.from(Er.buffer,Er.byteOffset,Er.byteLength)}function bi(Er){return fr.from(Er)}function qi(Er,dr,vr){if(dr===void 0&&(dr=0),vr===void 0&&(vr=Er.length),dr<0||vr<0||vr>Er.length||dr>vr)throw new TypeError("Invalid slice bounds on buffer of length "+Er.length+": ["+dr+", "+vr+"]");if(Er.length===0)return Ti();var hr=ei(Er),wr=Er[0],Ir=(wr+1)%255;return Er[0]=Ir,hr[0]===Ir?(hr[0]=wr,ui(hr.slice(dr,vr))):(Er[0]=wr,ui(hr.subarray(dr,vr)))}var Ki=null;function Ti(){return Ki||(Ki=fr.alloc(0))}function ii(Er,dr){fr.isBuffer(Er)?dr():dr(new yr(_r.EINVAL,"option must be a Buffer."))}function oi(Er,dr,vr){var hr=Er.Options,wr=Er.Name,Ir=0,Tr=!1,Br=!1;function zr(Ii){Tr||(Ii&&(Tr=!0,vr(Ii)),Ir--,Ir===0&&Br&&vr())}var Xr=function(Ii){if(hr.hasOwnProperty(Ii)){var Ni=hr[Ii],Li=dr[Ii];if(Li==null){if(!Ni.optional){var Gi=Object.keys(dr).filter(function(ea){return!(ea in hr)}).map(function(ea){return{str:ea,distance:hi(Ii,ea)}}).filter(function(ea){return ea.distance<5}).sort(function(ea,_a){return ea.distance-_a.distance});return Tr?{}:(Tr=!0,{v:vr(new yr(_r.EINVAL,"["+wr+"] Required option '"+Ii+"' not provided."+(Gi.length>0?" You provided unrecognized option '"+Gi[0].str+"'; perhaps you meant to type '"+Ii+"'.":"")+`
Option description: `+Ni.description))})}}else{var Qi=!1;if(Array.isArray(Ni.type)?Qi=Ni.type.indexOf(typeof Li)!==-1:Qi=typeof Li===Ni.type,Qi)Ni.validator&&(Ir++,Ni.validator(Li,zr));else return Tr?{}:(Tr=!0,{v:vr(new yr(_r.EINVAL,"["+wr+"] Value provided for option "+Ii+" is not the proper type. Expected "+(Array.isArray(Ni.type)?"one of {"+Ni.type.join(", ")+"}":Ni.type)+", but received "+typeof Li+`
Option description: `+Ni.description))})}}};for(var li in hr){var mi=Xr(li);if(mi)return mi.v}Br=!0,Ir===0&&!Tr&&vr()}var Si=Object.freeze({deprecationMessage:Ei,isIE:_i,isWebWorker:Fi,fail:si,mkdirpSync:ci,buffer2ArrayBuffer:$r,buffer2Uint8array:ei,arrayish2Buffer:pi,uint8Array2Buffer:ui,arrayBuffer2Buffer:bi,copyingSlice:qi,emptyBuffer:Ti,bufferValidator:ii,checkOptions:oi}),Di=function(dr){this.fs=dr,this.nodefs=dr.getNodeFS(),this.FS=dr.getFS(),this.PATH=dr.getPATH(),this.ERRNO_CODES=dr.getERRNO_CODES()};Di.prototype.open=function(dr){var vr=this.fs.realPath(dr.node),hr=this.FS;try{hr.isFile(dr.node.mode)&&(dr.nfd=this.nodefs.openSync(vr,this.fs.flagsToPermissionString(dr.flags)))}catch(wr){throw wr.code?new hr.ErrnoError(this.ERRNO_CODES[wr.code]):wr}},Di.prototype.close=function(dr){var vr=this.FS;try{vr.isFile(dr.node.mode)&&dr.nfd&&this.nodefs.closeSync(dr.nfd)}catch(hr){throw hr.code?new vr.ErrnoError(this.ERRNO_CODES[hr.code]):hr}},Di.prototype.read=function(dr,vr,hr,wr,Ir){try{return this.nodefs.readSync(dr.nfd,ui(vr),hr,wr,Ir)}catch(Tr){throw new this.FS.ErrnoError(this.ERRNO_CODES[Tr.code])}},Di.prototype.write=function(dr,vr,hr,wr,Ir){try{return this.nodefs.writeSync(dr.nfd,ui(vr),hr,wr,Ir)}catch(Tr){throw new this.FS.ErrnoError(this.ERRNO_CODES[Tr.code])}},Di.prototype.llseek=function(dr,vr,hr){var wr=vr;if(hr===1)wr+=dr.position;else if(hr===2&&this.FS.isFile(dr.node.mode))try{var Ir=this.nodefs.fstatSync(dr.nfd);wr+=Ir.size}catch(Tr){throw new this.FS.ErrnoError(this.ERRNO_CODES[Tr.code])}if(wr<0)throw new this.FS.ErrnoError(this.ERRNO_CODES.EINVAL);return dr.position=wr,wr};var Mi=function(dr){this.fs=dr,this.nodefs=dr.getNodeFS(),this.FS=dr.getFS(),this.PATH=dr.getPATH(),this.ERRNO_CODES=dr.getERRNO_CODES()};Mi.prototype.getattr=function(dr){var vr=this.fs.realPath(dr),hr;try{hr=this.nodefs.lstatSync(vr)}catch(wr){throw wr.code?new this.FS.ErrnoError(this.ERRNO_CODES[wr.code]):wr}return{dev:hr.dev,ino:hr.ino,mode:hr.mode,nlink:hr.nlink,uid:hr.uid,gid:hr.gid,rdev:hr.rdev,size:hr.size,atime:hr.atime,mtime:hr.mtime,ctime:hr.ctime,blksize:hr.blksize,blocks:hr.blocks}},Mi.prototype.setattr=function(dr,vr){var hr=this.fs.realPath(dr);try{if(vr.mode!==void 0&&(this.nodefs.chmodSync(hr,vr.mode),dr.mode=vr.mode),vr.timestamp!==void 0){var wr=new Date(vr.timestamp);this.nodefs.utimesSync(hr,wr,wr)}}catch(Ir){if(!Ir.code)throw Ir;if(Ir.code!=="ENOTSUP")throw new this.FS.ErrnoError(this.ERRNO_CODES[Ir.code])}if(vr.size!==void 0)try{this.nodefs.truncateSync(hr,vr.size)}catch(Ir){throw Ir.code?new this.FS.ErrnoError(this.ERRNO_CODES[Ir.code]):Ir}},Mi.prototype.lookup=function(dr,vr){var hr=this.PATH.join2(this.fs.realPath(dr),vr),wr=this.fs.getMode(hr);return this.fs.createNode(dr,vr,wr)},Mi.prototype.mknod=function(dr,vr,hr,wr){var Ir=this.fs.createNode(dr,vr,hr,wr),Tr=this.fs.realPath(Ir);try{this.FS.isDir(Ir.mode)?this.nodefs.mkdirSync(Tr,Ir.mode):this.nodefs.writeFileSync(Tr,"",{mode:Ir.mode})}catch(Br){throw Br.code?new this.FS.ErrnoError(this.ERRNO_CODES[Br.code]):Br}return Ir},Mi.prototype.rename=function(dr,vr,hr){var wr=this.fs.realPath(dr),Ir=this.PATH.join2(this.fs.realPath(vr),hr);try{this.nodefs.renameSync(wr,Ir),dr.name=hr,dr.parent=vr}catch(Tr){throw Tr.code?new this.FS.ErrnoError(this.ERRNO_CODES[Tr.code]):Tr}},Mi.prototype.unlink=function(dr,vr){var hr=this.PATH.join2(this.fs.realPath(dr),vr);try{this.nodefs.unlinkSync(hr)}catch(wr){throw wr.code?new this.FS.ErrnoError(this.ERRNO_CODES[wr.code]):wr}},Mi.prototype.rmdir=function(dr,vr){var hr=this.PATH.join2(this.fs.realPath(dr),vr);try{this.nodefs.rmdirSync(hr)}catch(wr){throw wr.code?new this.FS.ErrnoError(this.ERRNO_CODES[wr.code]):wr}},Mi.prototype.readdir=function(dr){var vr=this.fs.realPath(dr);try{var hr=this.nodefs.readdirSync(vr);return hr.push(".",".."),hr}catch(wr){throw wr.code?new this.FS.ErrnoError(this.ERRNO_CODES[wr.code]):wr}},Mi.prototype.symlink=function(dr,vr,hr){var wr=this.PATH.join2(this.fs.realPath(dr),vr);try{this.nodefs.symlinkSync(hr,wr)}catch(Ir){throw Ir.code?new this.FS.ErrnoError(this.ERRNO_CODES[Ir.code]):Ir}},Mi.prototype.readlink=function(dr){var vr=this.fs.realPath(dr);try{return this.nodefs.readlinkSync(vr)}catch(hr){throw hr.code?new this.FS.ErrnoError(this.ERRNO_CODES[hr.code]):hr}};var Mr=function(dr,vr,hr,wr){dr===void 0&&(dr=self.FS),vr===void 0&&(vr=self.PATH),hr===void 0&&(hr=self.ERRNO_CODES),wr===void 0&&(wr=Wr),this.flagsToPermissionStringMap={0:"r",1:"r+",2:"r+",64:"r",65:"r+",66:"r+",129:"rx+",193:"rx+",514:"w+",577:"w",578:"w+",705:"wx",706:"wx+",1024:"a",1025:"a",1026:"a+",1089:"a",1090:"a+",1153:"ax",1154:"ax+",1217:"ax",1218:"ax+",4096:"rs",4098:"rs+"},this.nodefs=wr,this.FS=dr,this.PATH=vr,this.ERRNO_CODES=hr,this.node_ops=new Mi(this),this.stream_ops=new Di(this)};Mr.prototype.mount=function(dr){return this.createNode(null,"/",this.getMode(dr.opts.root),0)},Mr.prototype.createNode=function(dr,vr,hr,wr){var Ir=this.FS;if(!Ir.isDir(hr)&&!Ir.isFile(hr)&&!Ir.isLink(hr))throw new Ir.ErrnoError(this.ERRNO_CODES.EINVAL);var Tr=Ir.createNode(dr,vr,hr);return Tr.node_ops=this.node_ops,Tr.stream_ops=this.stream_ops,Tr},Mr.prototype.getMode=function(dr){var vr;try{vr=this.nodefs.lstatSync(dr)}catch(hr){throw hr.code?new this.FS.ErrnoError(this.ERRNO_CODES[hr.code]):hr}return vr.mode},Mr.prototype.realPath=function(dr){for(var vr=[];dr.parent!==dr;)vr.push(dr.name),dr=dr.parent;return vr.push(dr.mount.opts.root),vr.reverse(),this.PATH.join.apply(null,vr)},Mr.prototype.flagsToPermissionString=function(dr){var vr=typeof dr=="string"?parseInt(dr,10):dr;return vr&=8191,vr in this.flagsToPermissionStringMap?this.flagsToPermissionStringMap[vr]:dr},Mr.prototype.getNodeFS=function(){return this.nodefs},Mr.prototype.getFS=function(){return this.FS},Mr.prototype.getPATH=function(){return this.PATH},Mr.prototype.getERRNO_CODES=function(){return this.ERRNO_CODES};var di=function(){};di.prototype.supportsLinks=function(){return!1},di.prototype.diskSpace=function(dr,vr){vr(0,0)},di.prototype.openFile=function(dr,vr,hr){throw new yr(_r.ENOTSUP)},di.prototype.createFile=function(dr,vr,hr,wr){throw new yr(_r.ENOTSUP)},di.prototype.open=function(dr,vr,hr,wr){var Ir=this,Tr=function(Br,zr){if(Br)switch(vr.pathNotExistsAction()){case Ar.CREATE_FILE:return Ir.stat(mr.dirname(dr),!1,function(Xr,li){Xr?wr(Xr):li&&!li.isDirectory()?wr(yr.ENOTDIR(mr.dirname(dr))):Ir.createFile(dr,vr,hr,wr)});case Ar.THROW_EXCEPTION:return wr(yr.ENOENT(dr));default:return wr(new yr(_r.EINVAL,"Invalid FileFlag object."))}else{if(zr&&zr.isDirectory())return wr(yr.EISDIR(dr));switch(vr.pathExistsAction()){case Ar.THROW_EXCEPTION:return wr(yr.EEXIST(dr));case Ar.TRUNCATE_FILE:return Ir.openFile(dr,vr,function(Xr,li){Xr?wr(Xr):li?li.truncate(0,function(){li.sync(function(){wr(null,li)})}):si()});case Ar.NOP:return Ir.openFile(dr,vr,wr);default:return wr(new yr(_r.EINVAL,"Invalid FileFlag object."))}}};this.stat(dr,!1,Tr)},di.prototype.rename=function(dr,vr,hr){hr(new yr(_r.ENOTSUP))},di.prototype.renameSync=function(dr,vr){throw new yr(_r.ENOTSUP)},di.prototype.stat=function(dr,vr,hr){hr(new yr(_r.ENOTSUP))},di.prototype.statSync=function(dr,vr){throw new yr(_r.ENOTSUP)},di.prototype.openFileSync=function(dr,vr,hr){throw new yr(_r.ENOTSUP)},di.prototype.createFileSync=function(dr,vr,hr){throw new yr(_r.ENOTSUP)},di.prototype.openSync=function(dr,vr,hr){var wr;try{wr=this.statSync(dr,!1)}catch{switch(vr.pathNotExistsAction()){case Ar.CREATE_FILE:var Ir=this.statSync(mr.dirname(dr),!1);if(!Ir.isDirectory())throw yr.ENOTDIR(mr.dirname(dr));return this.createFileSync(dr,vr,hr);case Ar.THROW_EXCEPTION:throw yr.ENOENT(dr);default:throw new yr(_r.EINVAL,"Invalid FileFlag object.")}}if(wr.isDirectory())throw yr.EISDIR(dr);switch(vr.pathExistsAction()){case Ar.THROW_EXCEPTION:throw yr.EEXIST(dr);case Ar.TRUNCATE_FILE:return this.unlinkSync(dr),this.createFileSync(dr,vr,wr.mode);case Ar.NOP:return this.openFileSync(dr,vr,hr);default:throw new yr(_r.EINVAL,"Invalid FileFlag object.")}},di.prototype.unlink=function(dr,vr){vr(new yr(_r.ENOTSUP))},di.prototype.unlinkSync=function(dr){throw new yr(_r.ENOTSUP)},di.prototype.rmdir=function(dr,vr){vr(new yr(_r.ENOTSUP))},di.prototype.rmdirSync=function(dr){throw new yr(_r.ENOTSUP)},di.prototype.mkdir=function(dr,vr,hr){hr(new yr(_r.ENOTSUP))},di.prototype.mkdirSync=function(dr,vr){throw new yr(_r.ENOTSUP)},di.prototype.readdir=function(dr,vr){vr(new yr(_r.ENOTSUP))},di.prototype.readdirSync=function(dr){throw new yr(_r.ENOTSUP)},di.prototype.exists=function(dr,vr){this.stat(dr,null,function(hr){vr(!hr)})},di.prototype.existsSync=function(dr){try{return this.statSync(dr,!0),!0}catch{return!1}},di.prototype.realpath=function(dr,vr,hr){if(this.supportsLinks())for(var wr=dr.split(mr.sep),Ir=0;Ir<wr.length;Ir++){var Tr=wr.slice(0,Ir+1);wr[Ir]=mr.join.apply(null,Tr)}else this.exists(dr,function(Br){Br?hr(null,dr):hr(yr.ENOENT(dr))})},di.prototype.realpathSync=function(dr,vr){if(this.supportsLinks()){for(var hr=dr.split(mr.sep),wr=0;wr<hr.length;wr++){var Ir=hr.slice(0,wr+1);hr[wr]=mr.join.apply(mr,Ir)}return hr.join(mr.sep)}else{if(this.existsSync(dr))return dr;throw yr.ENOENT(dr)}},di.prototype.truncate=function(dr,vr,hr){this.open(dr,kr.getFileFlag("r+"),420,function(wr,Ir){if(wr)return hr(wr);Ir.truncate(vr,function(Tr){Ir.close(function(Br){hr(Tr||Br)})})})},di.prototype.truncateSync=function(dr,vr){var hr=this.openSync(dr,kr.getFileFlag("r+"),420);try{hr.truncateSync(vr)}catch(wr){throw wr}finally{hr.closeSync()}},di.prototype.readFile=function(dr,vr,hr,wr){var Ir=wr;this.open(dr,hr,420,function(Tr,Br){if(Tr)return wr(Tr);wr=function(zr,Xr){Br.close(function(li){return zr||(zr=li),Ir(zr,Xr)})},Br.stat(function(zr,Xr){if(zr)return wr(zr);var li=fr.alloc(Xr.size);Br.read(li,0,Xr.size,0,function(mi){if(mi)return wr(mi);if(vr===null)return wr(mi,li);try{wr(null,li.toString(vr))}catch(Ii){wr(Ii)}})})})},di.prototype.readFileSync=function(dr,vr,hr){var wr=this.openSync(dr,hr,420);try{var Ir=wr.statSync(),Tr=fr.alloc(Ir.size);return wr.readSync(Tr,0,Ir.size,0),wr.closeSync(),vr===null?Tr:Tr.toString(vr)}finally{wr.closeSync()}},di.prototype.writeFile=function(dr,vr,hr,wr,Ir,Tr){var Br=Tr;this.open(dr,wr,420,function(zr,Xr){if(zr)return Tr(zr);Tr=function(li){Xr.close(function(mi){Br(li||mi)})};try{typeof vr=="string"&&(vr=fr.from(vr,hr))}catch(li){return Tr(li)}Xr.write(vr,0,vr.length,0,Tr)})},di.prototype.writeFileSync=function(dr,vr,hr,wr,Ir){var Tr=this.openSync(dr,wr,Ir);try{typeof vr=="string"&&(vr=fr.from(vr,hr)),Tr.writeSync(vr,0,vr.length,0)}finally{Tr.closeSync()}},di.prototype.appendFile=function(dr,vr,hr,wr,Ir,Tr){var Br=Tr;this.open(dr,wr,Ir,function(zr,Xr){if(zr)return Tr(zr);Tr=function(li){Xr.close(function(mi){Br(li||mi)})},typeof vr=="string"&&(vr=fr.from(vr,hr)),Xr.write(vr,0,vr.length,null,Tr)})},di.prototype.appendFileSync=function(dr,vr,hr,wr,Ir){var Tr=this.openSync(dr,wr,Ir);try{typeof vr=="string"&&(vr=fr.from(vr,hr)),Tr.writeSync(vr,0,vr.length,null)}finally{Tr.closeSync()}},di.prototype.chmod=function(dr,vr,hr,wr){wr(new yr(_r.ENOTSUP))},di.prototype.chmodSync=function(dr,vr,hr){throw new yr(_r.ENOTSUP)},di.prototype.chown=function(dr,vr,hr,wr,Ir){Ir(new yr(_r.ENOTSUP))},di.prototype.chownSync=function(dr,vr,hr,wr){throw new yr(_r.ENOTSUP)},di.prototype.utimes=function(dr,vr,hr,wr){wr(new yr(_r.ENOTSUP))},di.prototype.utimesSync=function(dr,vr,hr){throw new yr(_r.ENOTSUP)},di.prototype.link=function(dr,vr,hr){hr(new yr(_r.ENOTSUP))},di.prototype.linkSync=function(dr,vr){throw new yr(_r.ENOTSUP)},di.prototype.symlink=function(dr,vr,hr,wr){wr(new yr(_r.ENOTSUP))},di.prototype.symlinkSync=function(dr,vr,hr){throw new yr(_r.ENOTSUP)},di.prototype.readlink=function(dr,vr){vr(new yr(_r.ENOTSUP))},di.prototype.readlinkSync=function(dr){throw new yr(_r.ENOTSUP)};var gi=function(Er){function dr(){Er.apply(this,arguments)}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.prototype.supportsSynch=function(){return!0},dr.prototype.rename=function(hr,wr,Ir){try{this.renameSync(hr,wr),Ir()}catch(Tr){Ir(Tr)}},dr.prototype.stat=function(hr,wr,Ir){try{Ir(null,this.statSync(hr,wr))}catch(Tr){Ir(Tr)}},dr.prototype.open=function(hr,wr,Ir,Tr){try{Tr(null,this.openSync(hr,wr,Ir))}catch(Br){Tr(Br)}},dr.prototype.unlink=function(hr,wr){try{this.unlinkSync(hr),wr()}catch(Ir){wr(Ir)}},dr.prototype.rmdir=function(hr,wr){try{this.rmdirSync(hr),wr()}catch(Ir){wr(Ir)}},dr.prototype.mkdir=function(hr,wr,Ir){try{this.mkdirSync(hr,wr),Ir()}catch(Tr){Ir(Tr)}},dr.prototype.readdir=function(hr,wr){try{wr(null,this.readdirSync(hr))}catch(Ir){wr(Ir)}},dr.prototype.chmod=function(hr,wr,Ir,Tr){try{this.chmodSync(hr,wr,Ir),Tr()}catch(Br){Tr(Br)}},dr.prototype.chown=function(hr,wr,Ir,Tr,Br){try{this.chownSync(hr,wr,Ir,Tr),Br()}catch(zr){Br(zr)}},dr.prototype.utimes=function(hr,wr,Ir,Tr){try{this.utimesSync(hr,wr,Ir),Tr()}catch(Br){Tr(Br)}},dr.prototype.link=function(hr,wr,Ir){try{this.linkSync(hr,wr),Ir()}catch(Tr){Ir(Tr)}},dr.prototype.symlink=function(hr,wr,Ir,Tr){try{this.symlinkSync(hr,wr,Ir),Tr()}catch(Br){Tr(Br)}},dr.prototype.readlink=function(hr,wr){try{wr(null,this.readlinkSync(hr))}catch(Ir){wr(Ir)}},dr}(di),ti=function(){};ti.prototype.sync=function(dr){dr(new yr(_r.ENOTSUP))},ti.prototype.syncSync=function(){throw new yr(_r.ENOTSUP)},ti.prototype.datasync=function(dr){this.sync(dr)},ti.prototype.datasyncSync=function(){return this.syncSync()},ti.prototype.chown=function(dr,vr,hr){hr(new yr(_r.ENOTSUP))},ti.prototype.chownSync=function(dr,vr){throw new yr(_r.ENOTSUP)},ti.prototype.chmod=function(dr,vr){vr(new yr(_r.ENOTSUP))},ti.prototype.chmodSync=function(dr){throw new yr(_r.ENOTSUP)},ti.prototype.utimes=function(dr,vr,hr){hr(new yr(_r.ENOTSUP))},ti.prototype.utimesSync=function(dr,vr){throw new yr(_r.ENOTSUP)};var ri=function(Er){function dr(vr,hr,wr,Ir,Tr){if(Er.call(this),this._pos=0,this._dirty=!1,this._fs=vr,this._path=hr,this._flag=wr,this._stat=Ir,Tr?this._buffer=Tr:this._buffer=Ti(),this._stat.size!==this._buffer.length&&this._flag.isReadable())throw new Error("Invalid buffer: Buffer is "+this._buffer.length+" long, yet Stats object specifies that file is "+this._stat.size+" long.")}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.prototype.getBuffer=function(){return this._buffer},dr.prototype.getStats=function(){return this._stat},dr.prototype.getFlag=function(){return this._flag},dr.prototype.getPath=function(){return this._path},dr.prototype.getPos=function(){return this._flag.isAppendable()?this._stat.size:this._pos},dr.prototype.advancePos=function(hr){return this._pos+=hr},dr.prototype.setPos=function(hr){return this._pos=hr},dr.prototype.sync=function(hr){try{this.syncSync(),hr()}catch(wr){hr(wr)}},dr.prototype.syncSync=function(){throw new yr(_r.ENOTSUP)},dr.prototype.close=function(hr){try{this.closeSync(),hr()}catch(wr){hr(wr)}},dr.prototype.closeSync=function(){throw new yr(_r.ENOTSUP)},dr.prototype.stat=function(hr){try{hr(null,this._stat.clone())}catch(wr){hr(wr)}},dr.prototype.statSync=function(){return this._stat.clone()},dr.prototype.truncate=function(hr,wr){try{this.truncateSync(hr),this._flag.isSynchronous()&&!Wr.getRootFS().supportsSynch()&&this.sync(wr),wr()}catch(Ir){return wr(Ir)}},dr.prototype.truncateSync=function(hr){if(this._dirty=!0,!this._flag.isWriteable())throw new yr(_r.EPERM,"File not opened with a writeable mode.");if(this._stat.mtime=new Date,hr>this._buffer.length){var wr=fr.alloc(hr-this._buffer.length,0);this.writeSync(wr,0,wr.length,this._buffer.length),this._flag.isSynchronous()&&Wr.getRootFS().supportsSynch()&&this.syncSync();return}this._stat.size=hr;var Ir=fr.alloc(hr);this._buffer.copy(Ir,0,0,hr),this._buffer=Ir,this._flag.isSynchronous()&&Wr.getRootFS().supportsSynch()&&this.syncSync()},dr.prototype.write=function(hr,wr,Ir,Tr,Br){try{Br(null,this.writeSync(hr,wr,Ir,Tr),hr)}catch(zr){Br(zr)}},dr.prototype.writeSync=function(hr,wr,Ir,Tr){if(this._dirty=!0,Tr==null&&(Tr=this.getPos()),!this._flag.isWriteable())throw new yr(_r.EPERM,"File not opened with a writeable mode.");var Br=Tr+Ir;if(Br>this._stat.size&&(this._stat.size=Br,Br>this._buffer.length)){var zr=fr.alloc(Br);this._buffer.copy(zr),this._buffer=zr}var Xr=hr.copy(this._buffer,Tr,wr,wr+Ir);return this._stat.mtime=new Date,this._flag.isSynchronous()?(this.syncSync(),Xr):(this.setPos(Tr+Xr),Xr)},dr.prototype.read=function(hr,wr,Ir,Tr,Br){try{Br(null,this.readSync(hr,wr,Ir,Tr),hr)}catch(zr){Br(zr)}},dr.prototype.readSync=function(hr,wr,Ir,Tr){if(!this._flag.isReadable())throw new yr(_r.EPERM,"File not opened with a readable mode.");Tr==null&&(Tr=this.getPos());var Br=Tr+Ir;Br>this._stat.size&&(Ir=this._stat.size-Tr);var zr=this._buffer.copy(hr,wr,Tr,Tr+Ir);return this._stat.atime=new Date,this._pos=Tr+Ir,zr},dr.prototype.chmod=function(hr,wr){try{this.chmodSync(hr),wr()}catch(Ir){wr(Ir)}},dr.prototype.chmodSync=function(hr){if(!this._fs.supportsProps())throw new yr(_r.ENOTSUP);this._dirty=!0,this._stat.chmod(hr),this.syncSync()},dr.prototype.isDirty=function(){return this._dirty},dr.prototype.resetDirty=function(){this._dirty=!1},dr}(ti),xi=function(Er){function dr(vr,hr,wr,Ir,Tr){Er.call(this,vr,hr,wr,Ir,Tr)}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.prototype.sync=function(hr){hr()},dr.prototype.syncSync=function(){},dr.prototype.close=function(hr){hr()},dr.prototype.closeSync=function(){},dr}(ri),Ai=function(Er){function dr(vr,hr,wr,Ir,Tr){Er.call(this,vr,hr,wr,Ir,Tr)}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},dr.prototype.closeSync=function(){this.syncSync()},dr}(ri),Kr=function(Er){function dr(vr,hr,wr){if(wr===void 0&&(wr=!0),Er.call(this),this._queue=[],this._queueRunning=!1,this._isInitialized=!1,this._initializeCallbacks=[],this._sync=vr,this._async=hr,!vr.supportsSynch())throw new Error("The first argument to AsyncMirror needs to be a synchronous file system.");Ei(wr,dr.Name,{sync:"sync file system instance",async:"async file system instance"})}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.Create=function(hr,wr){try{var Ir=new dr(hr.sync,hr.async,!1);Ir.initialize(function(Tr){Tr?wr(Tr):wr(null,Ir)},!1)}catch(Tr){wr(Tr)}},dr.isAvailable=function(){return!0},dr.prototype.getName=function(){return dr.Name},dr.prototype._syncSync=function(hr){this._sync.writeFileSync(hr.getPath(),hr.getBuffer(),null,kr.getFileFlag("w"),hr.getStats().mode),this.enqueueOp({apiMethod:"writeFile",arguments:[hr.getPath(),hr.getBuffer(),null,hr.getFlag(),hr.getStats().mode]})},dr.prototype.initialize=function(hr,wr){var Ir=this;wr===void 0&&(wr=!0),wr&&console.warn("[AsyncMirror] AsyncMirror.initialize() is deprecated and will be removed in the next major version. Please use 'AsyncMirror.Create({ sync: (sync file system instance), async: (async file system instance)}, cb)' to create and initialize AsyncMirror instances.");var Tr=this._initializeCallbacks,Br=function(mi){Ir._isInitialized=!mi,Ir._initializeCallbacks=[],Tr.forEach(function(Ii){return Ii(mi)})};if(this._isInitialized)hr();else if(Tr.push(hr)===1){var zr=function(mi,Ii,Ni){mi!=="/"&&Ir._sync.mkdirSync(mi,Ii),Ir._async.readdir(mi,function(Li,Gi){var Qi=0;function ea(_a){_a?Ni(_a):Qi<Gi.length?(li(mr.join(mi,Gi[Qi]),ea),Qi++):Ni()}Li?Ni(Li):ea()})},Xr=function(mi,Ii,Ni){Ir._async.readFile(mi,null,kr.getFileFlag("r"),function(Li,Gi){if(Li)Ni(Li);else try{Ir._sync.writeFileSync(mi,Gi,null,kr.getFileFlag("w"),Ii)}catch(Qi){Li=Qi}finally{Ni(Li)}})},li=function(mi,Ii){Ir._async.stat(mi,!1,function(Ni,Li){Ni?Ii(Ni):Li.isDirectory()?zr(mi,Li.mode,Ii):Xr(mi,Li.mode,Ii)})};zr("/",0,Br)}},dr.prototype.isReadOnly=function(){return!1},dr.prototype.supportsSynch=function(){return!0},dr.prototype.supportsLinks=function(){return!1},dr.prototype.supportsProps=function(){return this._sync.supportsProps()&&this._async.supportsProps()},dr.prototype.renameSync=function(hr,wr){this.checkInitialized(),this._sync.renameSync(hr,wr),this.enqueueOp({apiMethod:"rename",arguments:[hr,wr]})},dr.prototype.statSync=function(hr,wr){return this.checkInitialized(),this._sync.statSync(hr,wr)},dr.prototype.openSync=function(hr,wr,Ir){this.checkInitialized();var Tr=this._sync.openSync(hr,wr,Ir);return Tr.closeSync(),new Ai(this,hr,wr,this._sync.statSync(hr,!1),this._sync.readFileSync(hr,null,kr.getFileFlag("r")))},dr.prototype.unlinkSync=function(hr){this.checkInitialized(),this._sync.unlinkSync(hr),this.enqueueOp({apiMethod:"unlink",arguments:[hr]})},dr.prototype.rmdirSync=function(hr){this.checkInitialized(),this._sync.rmdirSync(hr),this.enqueueOp({apiMethod:"rmdir",arguments:[hr]})},dr.prototype.mkdirSync=function(hr,wr){this.checkInitialized(),this._sync.mkdirSync(hr,wr),this.enqueueOp({apiMethod:"mkdir",arguments:[hr,wr]})},dr.prototype.readdirSync=function(hr){return this.checkInitialized(),this._sync.readdirSync(hr)},dr.prototype.existsSync=function(hr){return this.checkInitialized(),this._sync.existsSync(hr)},dr.prototype.chmodSync=function(hr,wr,Ir){this.checkInitialized(),this._sync.chmodSync(hr,wr,Ir),this.enqueueOp({apiMethod:"chmod",arguments:[hr,wr,Ir]})},dr.prototype.chownSync=function(hr,wr,Ir,Tr){this.checkInitialized(),this._sync.chownSync(hr,wr,Ir,Tr),this.enqueueOp({apiMethod:"chown",arguments:[hr,wr,Ir,Tr]})},dr.prototype.utimesSync=function(hr,wr,Ir){this.checkInitialized(),this._sync.utimesSync(hr,wr,Ir),this.enqueueOp({apiMethod:"utimes",arguments:[hr,wr,Ir]})},dr.prototype.checkInitialized=function(){if(!this._isInitialized)throw new yr(_r.EPERM,"AsyncMirrorFS is not initialized. Please initialize AsyncMirrorFS using its initialize() method before using it.")},dr.prototype.enqueueOp=function(hr){var wr=this;if(this._queue.push(hr),!this._queueRunning){this._queueRunning=!0;var Ir=function(Tr){if(Tr&&console.error("WARNING: File system has desynchronized. Received following error: "+Tr+`
$`),wr._queue.length>0){var Br=wr._queue.shift(),zr=Br.arguments;zr.push(Ir),wr._async[Br.apiMethod].apply(wr._async,zr)}else wr._queueRunning=!1};Ir()}},dr}(gi);Kr.Name="AsyncMirror",Kr.Options={sync:{type:"object",description:"The synchronous file system to mirror the asynchronous file system to."},async:{type:"object",description:"The asynchronous file system to mirror."}};function Pr(Er,dr,vr){switch(vr.length){case 0:return Er.call(dr);case 1:return Er.call(dr,vr[0]);case 2:return Er.call(dr,vr[0],vr[1]);case 3:return Er.call(dr,vr[0],vr[1],vr[2])}return Er.apply(dr,vr)}var qr=Math.max;function Qr(Er,dr,vr){return dr=qr(dr===void 0?Er.length-1:dr,0),function(){for(var hr=arguments,wr=-1,Ir=qr(hr.length-dr,0),Tr=Array(Ir);++wr<Ir;)Tr[wr]=hr[dr+wr];wr=-1;for(var Br=Array(dr+1);++wr<dr;)Br[wr]=hr[wr];return Br[dr]=vr(Tr),Pr(Er,this,Br)}}function ai(Er){return Er}function fi(Er,dr){return Qr(Er,dr,ai)}var vi=function(Er){return fi(function(dr){var vr=dr.pop();Er.call(this,dr,vr)})};function Ri(Er){return fi(function(dr,vr){var hr=vi(function(wr,Ir){var Tr=this;return Er(dr,function(Br,zr){Br.apply(Tr,wr.concat(zr))},Ir)});return vr.length?hr.apply(this,vr):hr})}var Yi=typeof xr=="object"&&xr&&xr.Object===Object&&xr,Xi=typeof self=="object"&&self&&self.Object===Object&&self,Ui=Yi||Xi||Function("return this")(),Bi=Ui.Symbol,Zi=Object.prototype,Sa=Zi.hasOwnProperty,Ta=Zi.toString,ba=Bi?Bi.toStringTag:void 0;function po(Er){var dr=Sa.call(Er,ba),vr=Er[ba];try{Er[ba]=void 0;var hr=!0}catch{}var wr=Ta.call(Er);return hr&&(dr?Er[ba]=vr:delete Er[ba]),wr}var so=Object.prototype,Co=so.toString;function wi(Er){return Co.call(Er)}var Vi="[object Null]",Gr="[object Undefined]",zi=Bi?Bi.toStringTag:void 0;function ca(Er){return Er==null?Er===void 0?Gr:Vi:zi&&zi in Object(Er)?po(Er):wi(Er)}function ji(Er){var dr=typeof Er;return Er!=null&&(dr=="object"||dr=="function")}var Ba="[object AsyncFunction]",Hi="[object Function]",va="[object GeneratorFunction]",Ci="[object Proxy]";function ki(Er){if(!ji(Er))return!1;var dr=ca(Er);return dr==Hi||dr==va||dr==Ba||dr==Ci}var ko=9007199254740991;function na(Er){return typeof Er=="number"&&Er>-1&&Er%1==0&&Er<=ko}function Wi(Er){return Er!=null&&na(Er.length)&&!ki(Er)}var _o={};function co(){}function xa(Er){return function(){if(Er!==null){var dr=Er;Er=null,dr.apply(this,arguments)}}}var ia=typeof Symbol=="function"&&Symbol.iterator,Ra=function(Er){return ia&&Er[ia]&&Er[ia]()};function Ma(Er,dr){for(var vr=-1,hr=Array(Er);++vr<Er;)hr[vr]=dr(vr);return hr}function Fa(Er){return Er!=null&&typeof Er=="object"}var vs="[object Arguments]";function Go(Er){return Fa(Er)&&ca(Er)==vs}var ma=Object.prototype,Ua=ma.hasOwnProperty,Da=ma.propertyIsEnumerable,uo=Go(function(){return arguments}())?Go:function(Er){return Fa(Er)&&Ua.call(Er,"callee")&&!Da.call(Er,"callee")},ro=Array.isArray;function G0(){return!1}var Vu=typeof or=="object"&&or&&!or.nodeType&&or,ju=Vu&&typeof pr=="object"&&pr&&!pr.nodeType&&pr,Wf=ju&&ju.exports===Vu,Uu=Wf?Ui.Buffer:void 0,Kf=Uu?Uu.isBuffer:void 0,Gf=Kf||G0,Yf=9007199254740991,$f=/^(?:0|[1-9]\d*)$/;function Xf(Er,dr){return dr=dr??Yf,!!dr&&(typeof Er=="number"||$f.test(Er))&&Er>-1&&Er%1==0&&Er<dr}var Qf="[object Arguments]",Zf="[object Array]",Jf="[object Boolean]",ed="[object Date]",td="[object Error]",rd="[object Function]",nd="[object Map]",id="[object Number]",ad="[object Object]",od="[object RegExp]",sd="[object Set]",cd="[object String]",ud="[object WeakMap]",ld="[object ArrayBuffer]",fd="[object DataView]",dd="[object Float32Array]",hd="[object Float64Array]",xd="[object Int8Array]",pd="[object Int16Array]",_d="[object Int32Array]",vd="[object Uint8Array]",md="[object Uint8ClampedArray]",gd="[object Uint16Array]",yd="[object Uint32Array]",fa={};fa[dd]=fa[hd]=fa[xd]=fa[pd]=fa[_d]=fa[vd]=fa[md]=fa[gd]=fa[yd]=!0,fa[Qf]=fa[Zf]=fa[ld]=fa[Jf]=fa[fd]=fa[ed]=fa[td]=fa[rd]=fa[nd]=fa[id]=fa[ad]=fa[od]=fa[sd]=fa[cd]=fa[ud]=!1;function bd(Er){return Fa(Er)&&na(Er.length)&&!!fa[ca(Er)]}function Ed(Er){return function(dr){return Er(dr)}}var zu=typeof or=="object"&&or&&!or.nodeType&&or,Hu=zu&&typeof pr=="object"&&pr&&!pr.nodeType&&pr,wd=Hu&&Hu.exports===zu,du=wd&&Yi.process,Wu=function(){try{return du&&du.binding&&du.binding("util")}catch{}}(),Ku=Wu&&Wu.isTypedArray,Sd=Ku?Ed(Ku):bd,Ad=Object.prototype,Id=Ad.hasOwnProperty;function Cd(Er,dr){var vr=ro(Er),hr=!vr&&uo(Er),wr=!vr&&!hr&&Gf(Er),Ir=!vr&&!hr&&!wr&&Sd(Er),Tr=vr||hr||wr||Ir,Br=Tr?Ma(Er.length,String):[],zr=Br.length;for(var Xr in Er)(dr||Id.call(Er,Xr))&&!(Tr&&(Xr=="length"||wr&&(Xr=="offset"||Xr=="parent")||Ir&&(Xr=="buffer"||Xr=="byteLength"||Xr=="byteOffset")||Xf(Xr,zr)))&&Br.push(Xr);return Br}var kd=Object.prototype;function Od(Er){var dr=Er&&Er.constructor,vr=typeof dr=="function"&&dr.prototype||kd;return Er===vr}function Td(Er,dr){return function(vr){return Er(dr(vr))}}var Dd=Td(Object.keys,Object),Rd=Object.prototype,Fd=Rd.hasOwnProperty;function Pd(Er){if(!Od(Er))return Dd(Er);var dr=[];for(var vr in Object(Er))Fd.call(Er,vr)&&vr!="constructor"&&dr.push(vr);return dr}function Bd(Er){return Wi(Er)?Cd(Er):Pd(Er)}function qd(Er){var dr=-1,vr=Er.length;return function(){return++dr<vr?{value:Er[dr],key:dr}:null}}function Nd(Er){var dr=-1;return function(){var hr=Er.next();return hr.done?null:(dr++,{value:hr.value,key:dr})}}function Ld(Er){var dr=Bd(Er),vr=-1,hr=dr.length;return function(){var Ir=dr[++vr];return vr<hr?{value:Er[Ir],key:Ir}:null}}function Md(Er){if(Wi(Er))return qd(Er);var dr=Ra(Er);return dr?Nd(dr):Ld(Er)}function Gu(Er){return function(){if(Er===null)throw new Error("Callback was already called.");var dr=Er;Er=null,dr.apply(this,arguments)}}function Yu(Er){return function(dr,vr,hr){if(hr=xa(hr||co),Er<=0||!dr)return hr(null);var wr=Md(dr),Ir=!1,Tr=0;function Br(Xr,li){if(Tr-=1,Xr)Ir=!0,hr(Xr);else{if(li===_o||Ir&&Tr<=0)return Ir=!0,hr(null);zr()}}function zr(){for(;Tr<Er&&!Ir;){var Xr=wr();if(Xr===null){Ir=!0,Tr<=0&&hr(null);return}Tr+=1,vr(Xr.value,Xr.key,Gu(Br))}}zr()}}function $u(Er,dr,vr,hr){Yu(dr)(Er,vr,hr)}function hu(Er,dr){return function(vr,hr,wr){return Er(vr,dr,hr,wr)}}function Vd(Er,dr,vr){vr=xa(vr||co);var hr=0,wr=0,Ir=Er.length;Ir===0&&vr(null);function Tr(Br,zr){Br?vr(Br):(++wr===Ir||zr===_o)&&vr(null)}for(;hr<Ir;hr++)dr(Er[hr],hr,Gu(Tr))}var jd=hu($u,1/0),Xu=function(Er,dr,vr){var hr=Wi(Er)?Vd:jd;hr(Er,dr,vr)};function Ud(Er){return function(dr,vr,hr){return Er(Xu,dr,vr,hr)}}function Qu(Er,dr,vr,hr){hr=hr||co,dr=dr||[];var wr=[],Ir=0;Er(dr,function(Tr,Br,zr){var Xr=Ir++;vr(Tr,function(li,mi){wr[Xr]=mi,zr(li)})},function(Tr){hr(Tr,wr)})}var zd=Ud(Qu);Ri(zd);function Hd(Er){return function(dr,vr,hr,wr){return Er(Yu(vr),dr,hr,wr)}}var Wd=Hd(Qu),Kd=hu(Wd,1);Ri(Kd),fi(function(Er,dr){return fi(function(vr){return Er.apply(null,dr.concat(vr))})});function Gd(Er,dr){for(var vr=-1,hr=Er==null?0:Er.length;++vr<hr&&dr(Er[vr],vr,Er)!==!1;);return Er}var Zu=typeof setImmediate=="function"&&setImmediate,Ju=typeof br=="object"&&typeof br.nextTick=="function";function el(Er){setTimeout(Er,0)}function tl(Er){return fi(function(dr,vr){Er(function(){dr.apply(null,vr)})})}var Y0;Zu?Y0=setImmediate:Ju?Y0=br.nextTick:Y0=el,tl(Y0);var Yd=hu($u,1);function $d(Er,dr,vr,hr){hr=xa(hr||co),Yd(Er,function(wr,Ir,Tr){vr(dr,wr,function(Br,zr){dr=zr,Tr(Br)})},function(wr){hr(wr,dr)})}var Xd=fi(function(dr){return fi(function(vr){var hr=this,wr=vr[vr.length-1];typeof wr=="function"?vr.pop():wr=co,$d(dr,vr,function(Ir,Tr,Br){Tr.apply(hr,Ir.concat(fi(function(zr,Xr){Br(zr,Xr)})))},function(Ir,Tr){wr.apply(hr,[Ir].concat(Tr))})})});fi(function(Er){return Xd.apply(null,Er.reverse())}),fi(function(Er){var dr=[null].concat(Er);return vi(function(vr,hr){return hr.apply(this,dr)})});function rl(Er){return fi(function(dr,vr){dr.apply(null,vr.concat(fi(function(hr,wr){typeof console=="object"&&(hr?console.error&&console.error(hr):console[Er]&&Gd(wr,function(Ir){console[Er](Ir)}))})))})}rl("dir");function Qd(Er){return function(dr,vr,hr){return Er(dr,hr)}}function nl(Er,dr,vr){Xu(Er,Qd(dr),vr)}rl("log");var $0;Ju?$0=br.nextTick:Zu?$0=setImmediate:$0=el,tl($0);var za;function Zd(){za||(za={},za[Dropbox.ApiError.NETWORK_ERROR]=_r.EIO,za[Dropbox.ApiError.INVALID_PARAM]=_r.EINVAL,za[Dropbox.ApiError.INVALID_TOKEN]=_r.EPERM,za[Dropbox.ApiError.OAUTH_ERROR]=_r.EPERM,za[Dropbox.ApiError.NOT_FOUND]=_r.ENOENT,za[Dropbox.ApiError.INVALID_METHOD]=_r.EINVAL,za[Dropbox.ApiError.NOT_ACCEPTABLE]=_r.EINVAL,za[Dropbox.ApiError.CONFLICT]=_r.EINVAL,za[Dropbox.ApiError.RATE_LIMITED]=_r.EBUSY,za[Dropbox.ApiError.SERVER_ERROR]=_r.EBUSY,za[Dropbox.ApiError.OVER_QUOTA]=_r.ENOSPC)}function Jd(Er){return Er&&Er.stat.isFile}function eh(Er){return Er&&Er.stat.isFolder}function th(Er){return Er==null||typeof Er=="object"&&typeof Er.byteLength=="number"}var qa=function(dr){this._cache={},this._client=dr};qa.prototype.readdir=function(dr,vr){var hr=this,wr=this.getCachedDirInfo(dr);this._wrap(function(Ir){wr!==null&&wr.contents?hr._client.readdir(dr,{contentHash:wr.stat.contentHash},Ir):hr._client.readdir(dr,Ir)},function(Ir,Tr,Br,zr){Ir?Ir.status===Dropbox.ApiError.NO_CONTENT&&wr!==null?vr(null,wr.contents.slice(0)):vr(Ir):(hr.updateCachedDirInfo(dr,Br,Tr.slice(0)),zr.forEach(function(Xr){hr.updateCachedInfo(mr.join(dr,Xr.name),Xr)}),vr(null,Tr))})},qa.prototype.remove=function(dr,vr){var hr=this;this._wrap(function(wr){hr._client.remove(dr,wr)},function(wr,Ir){wr||hr.updateCachedInfo(dr,Ir),vr(wr)})},qa.prototype.move=function(dr,vr,hr){var wr=this;this._wrap(function(Ir){wr._client.move(dr,vr,Ir)},function(Ir,Tr){Ir||(wr.deleteCachedInfo(dr),wr.updateCachedInfo(vr,Tr)),hr(Ir)})},qa.prototype.stat=function(dr,vr){var hr=this;this._wrap(function(wr){hr._client.stat(dr,wr)},function(wr,Ir){wr||hr.updateCachedInfo(dr,Ir),vr(wr,Ir)})},qa.prototype.readFile=function(dr,vr){var hr=this,wr=this.getCachedFileInfo(dr);wr!==null&&wr.contents!==null?this.stat(dr,function(Ir,Tr){Ir?vr(Ir):Tr.contentHash===wr.stat.contentHash?vr(Ir,wr.contents.slice(0),wr.stat):hr.readFile(dr,vr)}):this._wrap(function(Ir){hr._client.readFile(dr,{arrayBuffer:!0},Ir)},function(Ir,Tr,Br){Ir||hr.updateCachedInfo(dr,Br,Tr.slice(0)),vr(Ir,Tr,Br)})},qa.prototype.writeFile=function(dr,vr,hr){var wr=this;this._wrap(function(Ir){wr._client.writeFile(dr,vr,Ir)},function(Ir,Tr){Ir||wr.updateCachedInfo(dr,Tr,vr.slice(0)),hr(Ir,Tr)})},qa.prototype.mkdir=function(dr,vr){var hr=this;this._wrap(function(wr){hr._client.mkdir(dr,wr)},function(wr,Ir){wr||hr.updateCachedInfo(dr,Ir,[]),vr(wr)})},qa.prototype._wrap=function(dr,vr){var hr=0,wr=function(Ir){var Tr=2;if(Ir&&3>++hr)switch(Ir.status){case Dropbox.ApiError.SERVER_ERROR:case Dropbox.ApiError.NETWORK_ERROR:case Dropbox.ApiError.RATE_LIMITED:setTimeout(function(){dr(wr)},Tr*1e3);break;default:vr.apply(null,arguments);break}else vr.apply(null,arguments)};dr(wr)},qa.prototype.getCachedInfo=function(dr){return this._cache[dr.toLowerCase()]},qa.prototype.putCachedInfo=function(dr,vr){this._cache[dr.toLowerCase()]=vr},qa.prototype.deleteCachedInfo=function(dr){delete this._cache[dr.toLowerCase()]},qa.prototype.getCachedDirInfo=function(dr){var vr=this.getCachedInfo(dr);return eh(vr)?vr:null},qa.prototype.getCachedFileInfo=function(dr){var vr=this.getCachedInfo(dr);return Jd(vr)?vr:null},qa.prototype.updateCachedDirInfo=function(dr,vr,hr){hr===void 0&&(hr=null);var wr=this.getCachedInfo(dr);vr.contentHash!==null&&(wr===void 0||wr.stat.contentHash!==vr.contentHash)&&this.putCachedInfo(dr,{stat:vr,contents:hr})},qa.prototype.updateCachedFileInfo=function(dr,vr,hr){hr===void 0&&(hr=null);var wr=this.getCachedInfo(dr);vr.versionTag!==null&&(wr===void 0||wr.stat.versionTag!==vr.versionTag)&&this.putCachedInfo(dr,{stat:vr,contents:hr})},qa.prototype.updateCachedInfo=function(dr,vr,hr){hr===void 0&&(hr=null),vr.isFile&&th(hr)?this.updateCachedFileInfo(dr,vr,hr):vr.isFolder&&Array.isArray(hr)&&this.updateCachedDirInfo(dr,vr,hr)};var rh=function(Er){function dr(vr,hr,wr,Ir,Tr){Er.call(this,vr,hr,wr,Ir,Tr)}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.prototype.sync=function(hr){var wr=this;if(this.isDirty()){var Ir=this.getBuffer(),Tr=$r(Ir);this._fs._writeFileStrict(this.getPath(),Tr,function(Br){Br||wr.resetDirty(),hr(Br)})}else hr()},dr.prototype.close=function(hr){this.sync(hr)},dr}(ri),X0=function(Er){function dr(vr,hr){hr===void 0&&(hr=!0),Er.call(this),this._client=new qa(vr),Ei(hr,dr.Name,{client:"authenticated dropbox client instance"}),Zd()}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.Create=function(hr,wr){wr(null,new dr(hr.client,!1))},dr.isAvailable=function(){return typeof Dropbox<"u"},dr.prototype.getName=function(){return dr.Name},dr.prototype.isReadOnly=function(){return!1},dr.prototype.supportsSymlinks=function(){return!1},dr.prototype.supportsProps=function(){return!1},dr.prototype.supportsSynch=function(){return!1},dr.prototype.empty=function(hr){var wr=this;this._client.readdir("/",function(Ir,Tr){if(Ir)hr(wr.convert(Ir,"/"));else{var Br=function(Xr,li){var mi=mr.join("/",Xr);wr._client.remove(mi,function(Ii){li(Ii?wr.convert(Ii,mi):null)})},zr=function(Xr){Xr?hr(Xr):hr()};nl(Tr,Br,zr)}})},dr.prototype.rename=function(hr,wr,Ir){var Tr=this;this._client.move(hr,wr,function(Br){Br?Tr._client.stat(wr,function(zr,Xr){if(zr||Xr.isFolder){var li=Br.response.error.indexOf(hr)>-1?hr:wr;Ir(Tr.convert(Br,li))}else Tr._client.remove(wr,function(mi){mi?Ir(Tr.convert(mi,wr)):Tr.rename(hr,wr,Ir)})}):Ir()})},dr.prototype.stat=function(hr,wr,Ir){var Tr=this;this._client.stat(hr,function(Br,zr){if(Br)Ir(Tr.convert(Br,hr));else if(zr&&zr.isRemoved)Ir(yr.FileError(_r.ENOENT,hr));else{var Xr=new Dr(Tr._statType(zr),zr.size);return Ir(null,Xr)}})},dr.prototype.open=function(hr,wr,Ir,Tr){var Br=this;this._client.readFile(hr,function(zr,Xr,li){if(zr)if(wr.isReadable())Tr(Br.convert(zr,hr));else switch(zr.status){case Dropbox.ApiError.NOT_FOUND:var mi=new ArrayBuffer(0);return Br._writeFileStrict(hr,mi,function(Li,Gi){if(Li)Tr(Li);else{var Qi=Br._makeFile(hr,wr,Gi,bi(mi));Tr(null,Qi)}});default:return Tr(Br.convert(zr,hr))}else{var Ii;Xr===null?Ii=Ti():Ii=bi(Xr);var Ni=Br._makeFile(hr,wr,li,Ii);return Tr(null,Ni)}})},dr.prototype._writeFileStrict=function(hr,wr,Ir){var Tr=this,Br=mr.dirname(hr);this.stat(Br,!1,function(zr,Xr){zr?Ir(yr.FileError(_r.ENOENT,Br)):Tr._client.writeFile(hr,wr,function(li,mi){li?Ir(Tr.convert(li,hr)):Ir(null,mi)})})},dr.prototype._statType=function(hr){return hr.isFile?Or.FILE:Or.DIRECTORY},dr.prototype._makeFile=function(hr,wr,Ir,Tr){var Br=this._statType(Ir),zr=new Dr(Br,Ir.size);return new rh(this,hr,wr,zr,Tr)},dr.prototype._remove=function(hr,wr,Ir){var Tr=this;this._client.stat(hr,function(Br,zr){Br?wr(Tr.convert(Br,hr)):zr.isFile&&!Ir?wr(yr.FileError(_r.ENOTDIR,hr)):!zr.isFile&&Ir?wr(yr.FileError(_r.EISDIR,hr)):Tr._client.remove(hr,function(Xr){wr(Xr?Tr.convert(Xr,hr):null)})})},dr.prototype.unlink=function(hr,wr){this._remove(hr,wr,!0)},dr.prototype.rmdir=function(hr,wr){this._remove(hr,wr,!1)},dr.prototype.mkdir=function(hr,wr,Ir){var Tr=this,Br=mr.dirname(hr);this._client.stat(Br,function(zr,Xr){zr?Ir(Tr.convert(zr,Br)):Tr._client.mkdir(hr,function(li){Ir(li?yr.FileError(_r.EEXIST,hr):null)})})},dr.prototype.readdir=function(hr,wr){var Ir=this;this._client.readdir(hr,function(Tr,Br){return Tr?wr(Ir.convert(Tr)):wr(null,Br)})},dr.prototype.convert=function(hr,wr){wr===void 0&&(wr=null);var Ir=za[hr.status];return Ir===void 0&&(Ir=_r.EIO),wr?yr.FileError(Ir,wr):new yr(Ir)},dr}(di);X0.Name="Dropbox",X0.Options={client:{type:"object",description:"An *authenticated* Dropbox client. Must be from the 0.10 JS SDK.",validator:function(Er,dr){Er.isAuthenticated&&Er.isAuthenticated()?dr():dr(new yr(_r.EINVAL,"'client' option must be an authenticated Dropbox client from the v0.10 JS SDK."))}}};function ga(Er,dr){dr===void 0&&(dr="");for(var vr=Er.errno,hr=Er.node,wr=[];hr&&(wr.unshift(hr.name),hr!==hr.parent);)hr=hr.parent;return new yr(vr,Sr[vr],wr.length>0?"/"+wr.join("/"):dr)}var nh=function(Er){function dr(vr,hr,wr,Ir){Er.call(this),this._fs=vr,this._FS=hr,this._path=wr,this._stream=Ir}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.prototype.getPos=function(){},dr.prototype.close=function(hr){var wr=null;try{this.closeSync()}catch(Ir){wr=Ir}finally{hr(wr)}},dr.prototype.closeSync=function(){try{this._FS.close(this._stream)}catch(hr){throw ga(hr,this._path)}},dr.prototype.stat=function(hr){try{hr(null,this.statSync())}catch(wr){hr(wr)}},dr.prototype.statSync=function(){try{return this._fs.statSync(this._path,!1)}catch(hr){throw ga(hr,this._path)}},dr.prototype.truncate=function(hr,wr){var Ir=null;try{this.truncateSync(hr)}catch(Tr){Ir=Tr}finally{wr(Ir)}},dr.prototype.truncateSync=function(hr){try{this._FS.ftruncate(this._stream.fd,hr)}catch(wr){throw ga(wr,this._path)}},dr.prototype.write=function(hr,wr,Ir,Tr,Br){try{Br(null,this.writeSync(hr,wr,Ir,Tr),hr)}catch(zr){Br(zr)}},dr.prototype.writeSync=function(hr,wr,Ir,Tr){try{var Br=ei(hr),zr=Tr===null?void 0:Tr;return this._FS.write(this._stream,Br,wr,Ir,zr)}catch(Xr){throw ga(Xr,this._path)}},dr.prototype.read=function(hr,wr,Ir,Tr,Br){try{Br(null,this.readSync(hr,wr,Ir,Tr),hr)}catch(zr){Br(zr)}},dr.prototype.readSync=function(hr,wr,Ir,Tr){try{var Br=ei(hr),zr=Tr===null?void 0:Tr;return this._FS.read(this._stream,Br,wr,Ir,zr)}catch(Xr){throw ga(Xr,this._path)}},dr.prototype.sync=function(hr){hr()},dr.prototype.syncSync=function(){},dr.prototype.chown=function(hr,wr,Ir){var Tr=null;try{this.chownSync(hr,wr)}catch(Br){Tr=Br}finally{Ir(Tr)}},dr.prototype.chownSync=function(hr,wr){try{this._FS.fchown(this._stream.fd,hr,wr)}catch(Ir){throw ga(Ir,this._path)}},dr.prototype.chmod=function(hr,wr){var Ir=null;try{this.chmodSync(hr)}catch(Tr){Ir=Tr}finally{wr(Ir)}},dr.prototype.chmodSync=function(hr){try{this._FS.fchmod(this._stream.fd,hr)}catch(wr){throw ga(wr,this._path)}},dr.prototype.utimes=function(hr,wr,Ir){var Tr=null;try{this.utimesSync(hr,wr)}catch(Br){Tr=Br}finally{Ir(Tr)}},dr.prototype.utimesSync=function(hr,wr){this._fs.utimesSync(this._path,hr,wr)},dr}(ti),Q0=function(Er){function dr(vr){Er.call(this),this._FS=vr}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.Create=function(hr,wr){wr(null,new dr(hr.FS))},dr.isAvailable=function(){return!0},dr.prototype.getName=function(){return this._FS.DB_NAME()},dr.prototype.isReadOnly=function(){return!1},dr.prototype.supportsLinks=function(){return!0},dr.prototype.supportsProps=function(){return!0},dr.prototype.supportsSynch=function(){return!0},dr.prototype.renameSync=function(hr,wr){try{this._FS.rename(hr,wr)}catch(Ir){throw Ir.errno===_r.ENOENT?ga(Ir,this.existsSync(hr)?wr:hr):ga(Ir)}},dr.prototype.statSync=function(hr,wr){try{var Ir=wr?this._FS.lstat(hr):this._FS.stat(hr),Tr=this.modeToFileType(Ir.mode);return new Dr(Tr,Ir.size,Ir.mode,Ir.atime,Ir.mtime,Ir.ctime)}catch(Br){throw ga(Br,hr)}},dr.prototype.openSync=function(hr,wr,Ir){try{var Tr=this._FS.open(hr,wr.getFlagString(),Ir);if(this._FS.isDir(Tr.node.mode))throw this._FS.close(Tr),yr.EISDIR(hr);return new nh(this,this._FS,hr,Tr)}catch(Br){throw ga(Br,hr)}},dr.prototype.unlinkSync=function(hr){try{this._FS.unlink(hr)}catch(wr){throw ga(wr,hr)}},dr.prototype.rmdirSync=function(hr){try{this._FS.rmdir(hr)}catch(wr){throw ga(wr,hr)}},dr.prototype.mkdirSync=function(hr,wr){try{this._FS.mkdir(hr,wr)}catch(Ir){throw ga(Ir,hr)}},dr.prototype.readdirSync=function(hr){try{return this._FS.readdir(hr).filter(function(wr){return wr!=="."&&wr!==".."})}catch(wr){throw ga(wr,hr)}},dr.prototype.truncateSync=function(hr,wr){try{this._FS.truncate(hr,wr)}catch(Ir){throw ga(Ir,hr)}},dr.prototype.readFileSync=function(hr,wr,Ir){try{var Tr=this._FS.readFile(hr,{flags:Ir.getFlagString()}),Br=ui(Tr);return wr?Br.toString(wr):Br}catch(zr){throw ga(zr,hr)}},dr.prototype.writeFileSync=function(hr,wr,Ir,Tr,Br){try{Ir&&(wr=fr.from(wr,Ir));var zr=ei(wr);this._FS.writeFile(hr,zr,{flags:Tr.getFlagString(),encoding:"binary"}),this._FS.chmod(hr,Br)}catch(Xr){throw ga(Xr,hr)}},dr.prototype.chmodSync=function(hr,wr,Ir){try{wr?this._FS.lchmod(hr,Ir):this._FS.chmod(hr,Ir)}catch(Tr){throw ga(Tr,hr)}},dr.prototype.chownSync=function(hr,wr,Ir,Tr){try{wr?this._FS.lchown(hr,Ir,Tr):this._FS.chown(hr,Ir,Tr)}catch(Br){throw ga(Br,hr)}},dr.prototype.symlinkSync=function(hr,wr,Ir){try{this._FS.symlink(hr,wr)}catch(Tr){throw ga(Tr)}},dr.prototype.readlinkSync=function(hr){try{return this._FS.readlink(hr)}catch(wr){throw ga(wr,hr)}},dr.prototype.utimesSync=function(hr,wr,Ir){try{this._FS.utime(hr,wr.getTime(),Ir.getTime())}catch(Tr){throw ga(Tr,hr)}},dr.prototype.modeToFileType=function(hr){if(this._FS.isDir(hr))return Or.DIRECTORY;if(this._FS.isFile(hr))return Or.FILE;if(this._FS.isLink(hr))return Or.SYMLINK;throw yr.EPERM("Invalid mode: "+hr)},dr}(gi);Q0.Name="EmscriptenFileSystem",Q0.Options={FS:{type:"object",description:"The Emscripten file system to use (the `FS` variable)"}};var ms=function(Er){function dr(vr,hr){Er.call(this),this._folder=vr,this._wrapped=hr}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.Create=function(hr,wr){wr(null,new dr(hr.folder,hr.wrapped))},dr.isAvailable=function(){return!0},dr.prototype.initialize=function(hr){var wr=this;this._wrapped.exists(this._folder,function(Ir){Ir?hr():wr._wrapped.isReadOnly()?hr(yr.ENOENT(wr._folder)):wr._wrapped.mkdir(wr._folder,511,hr)})},dr.prototype.getName=function(){return this._wrapped.getName()},dr.prototype.isReadOnly=function(){return this._wrapped.isReadOnly()},dr.prototype.supportsProps=function(){return this._wrapped.supportsProps()},dr.prototype.supportsSynch=function(){return this._wrapped.supportsSynch()},dr.prototype.supportsLinks=function(){return!1},dr}(di);ms.Name="FolderAdapter",ms.Options={folder:{type:"string",description:"The folder to use as the root directory"},wrapped:{type:"object",description:"The file system to wrap"}};function il(Er,dr){if(dr!==null&&typeof dr=="object"){var vr=dr,hr=vr.path;hr&&(hr="/"+mr.relative(Er,hr),vr.message=vr.message.replace(vr.path,hr),vr.path=hr)}return dr}function ih(Er,dr){return typeof dr=="function"?function(vr){arguments.length>0&&(arguments[0]=il(Er,vr)),dr.apply(null,arguments)}:dr}function al(Er,dr,vr){return Er.slice(Er.length-4)!=="Sync"?function(){return arguments.length>0&&(dr&&(arguments[0]=mr.join(this._folder,arguments[0])),vr&&(arguments[1]=mr.join(this._folder,arguments[1])),arguments[arguments.length-1]=ih(this._folder,arguments[arguments.length-1])),this._wrapped[Er].apply(this._wrapped,arguments)}:function(){try{return dr&&(arguments[0]=mr.join(this._folder,arguments[0])),vr&&(arguments[1]=mr.join(this._folder,arguments[1])),this._wrapped[Er].apply(this._wrapped,arguments)}catch(hr){throw il(this._folder,hr)}}}["diskSpace","stat","statSync","open","openSync","unlink","unlinkSync","rmdir","rmdirSync","mkdir","mkdirSync","readdir","readdirSync","exists","existsSync","realpath","realpathSync","truncate","truncateSync","readFile","readFileSync","writeFile","writeFileSync","appendFile","appendFileSync","chmod","chmodSync","chown","chownSync","utimes","utimesSync","readlink","readlinkSync"].forEach(function(Er){ms.prototype[Er]=al(Er,!0,!1)}),["rename","renameSync","link","linkSync","symlink","symlinkSync"].forEach(function(Er){ms.prototype[Er]=al(Er,!0,!0)});var Z0;typeof window<"u"?Z0=window:typeof self<"u"?Z0=self:Z0=xr;var Aa=Z0;function ah(Er){return Er.isDirectory}var xu=Aa.webkitRequestFileSystem||Aa.requestFileSystem||null;function oh(Er,dr,vr,hr){if(typeof navigator.webkitPersistentStorage<"u")switch(Er){case Aa.PERSISTENT:navigator.webkitPersistentStorage.requestQuota(dr,vr,hr);break;case Aa.TEMPORARY:navigator.webkitTemporaryStorage.requestQuota(dr,vr,hr);break;default:hr(new TypeError("Invalid storage type: "+Er));break}else Aa.webkitStorageInfo.requestQuota(Er,dr,vr,hr)}function sh(Er){return Array.prototype.slice.call(Er||[],0)}function vo(Er,dr,vr){switch(Er.name){case"PathExistsError":return yr.EEXIST(dr);case"QuotaExceededError":return yr.FileError(_r.ENOSPC,dr);case"NotFoundError":return yr.ENOENT(dr);case"SecurityError":return yr.FileError(_r.EACCES,dr);case"InvalidModificationError":return yr.FileError(_r.EPERM,dr);case"TypeMismatchError":return yr.FileError(vr?_r.ENOTDIR:_r.EISDIR,dr);case"EncodingError":case"InvalidStateError":case"NoModificationAllowedError":default:return yr.FileError(_r.EINVAL,dr)}}var ch=function(Er){function dr(vr,hr,wr,Ir,Tr,Br){Er.call(this,vr,wr,Ir,Tr,Br),this._entry=hr}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.prototype.sync=function(hr){var wr=this;if(!this.isDirty())return hr();this._entry.createWriter(function(Ir){var Tr=wr.getBuffer(),Br=new Blob([$r(Tr)]),zr=Br.size;Ir.onwriteend=function(Xr){Ir.onwriteend=null,Ir.onerror=null,Ir.truncate(zr),wr.resetDirty(),hr()},Ir.onerror=function(Xr){hr(vo(Xr,wr.getPath(),!1))},Ir.write(Br)})},dr.prototype.close=function(hr){this.sync(hr)},dr}(ri),J0=function(Er){function dr(vr,hr,wr){vr===void 0&&(vr=5),hr===void 0&&(hr=Aa.PERSISTENT),wr===void 0&&(wr=!0),Er.call(this),this.size=1024*1024*vr,this.type=hr,Ei(wr,dr.Name,{size:vr,type:hr})}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.Create=function(hr,wr){var Ir=new dr(hr.size,hr.type,!1);Ir.allocate(function(Tr){return Tr?wr(Tr):wr(null,Ir)},!1)},dr.isAvailable=function(){return!!xu},dr.prototype.getName=function(){return dr.Name},dr.prototype.isReadOnly=function(){return!1},dr.prototype.supportsSymlinks=function(){return!1},dr.prototype.supportsProps=function(){return!1},dr.prototype.supportsSynch=function(){return!1},dr.prototype.allocate=function(hr,wr){var Ir=this;hr===void 0&&(hr=function(){}),wr===void 0&&(wr=!0),wr&&console.warn("[HTML5FS] HTML5FS.allocate() is deprecated and will be removed in the next major release. Please use 'HTML5FS.Create({type: "+this.type+", size: "+this.size+"}, cb)' to create and allocate HTML5FS instances.");var Tr=function(zr){Ir.fs=zr,hr()},Br=function(zr){hr(vo(zr,"/",!0))};this.type===Aa.PERSISTENT?oh(this.type,this.size,function(zr){xu(Ir.type,zr,Tr,Br)},Br):xu(this.type,this.size,Tr,Br)},dr.prototype.empty=function(hr){this._readdir("/",function(wr,Ir){if(wr)console.error("Failed to empty FS"),hr(wr);else{var Tr=function(zr){wr?(console.error("Failed to empty FS"),hr(wr)):hr()},Br=function(zr,Xr){var li=function(){Xr()},mi=function(Ii){Xr(vo(Ii,zr.fullPath,!zr.isDirectory))};ah(zr)?zr.removeRecursively(li,mi):zr.remove(li,mi)};nl(Ir,Br,Tr)}})},dr.prototype.rename=function(hr,wr,Ir){var Tr=this,Br=2,zr=0,Xr=this.fs.root,li=hr,mi=function(Ni){--Br<=0&&Ir(vo(Ni,li,!1))},Ii=function(Ni){if(++zr===2)return Ir(new yr(_r.EINVAL,"Something was identified as both a file and a directory. This should never happen."));if(hr===wr)return Ir();li=mr.dirname(wr),Xr.getDirectory(li,{},function(Li){li=mr.basename(wr),Ni.moveTo(Li,li,function(Gi){Ir()},function(Gi){Ni.isDirectory?(li=wr,Tr.unlink(wr,function(Qi){Qi?mi(Gi):Tr.rename(hr,wr,Ir)})):mi(Gi)})},mi)};Xr.getFile(hr,{},Ii,mi),Xr.getDirectory(hr,{},Ii,mi)},dr.prototype.stat=function(hr,wr,Ir){var Tr=this,Br={create:!1},zr=function(Ii){var Ni=function(Li){var Gi=new Dr(Or.FILE,Li.size);Ir(null,Gi)};Ii.file(Ni,li)},Xr=function(Ii){var Ni=4096,Li=new Dr(Or.DIRECTORY,Ni);Ir(null,Li)},li=function(Ii){Ir(vo(Ii,hr,!1))},mi=function(){Tr.fs.root.getDirectory(hr,Br,Xr,li)};this.fs.root.getFile(hr,Br,zr,mi)},dr.prototype.open=function(hr,wr,Ir,Tr){var Br=this,zr=function(Xr){Xr.name==="InvalidModificationError"&&wr.isExclusive()?Tr(yr.EEXIST(hr)):Tr(vo(Xr,hr,!1))};this.fs.root.getFile(hr,{create:wr.pathNotExistsAction()===Ar.CREATE_FILE,exclusive:wr.isExclusive()},function(Xr){Xr.file(function(li){var mi=new FileReader;mi.onloadend=function(Ii){var Ni=Br._makeFile(hr,Xr,wr,li,mi.result);Tr(null,Ni)},mi.onerror=function(Ii){zr(mi.error)},mi.readAsArrayBuffer(li)},zr)},zr)},dr.prototype.unlink=function(hr,wr){this._remove(hr,wr,!0)},dr.prototype.rmdir=function(hr,wr){var Ir=this;this.readdir(hr,function(Tr,Br){Tr?wr(Tr):Br.length>0?wr(yr.ENOTEMPTY(hr)):Ir._remove(hr,wr,!1)})},dr.prototype.mkdir=function(hr,wr,Ir){var Tr={create:!0,exclusive:!0},Br=function(Xr){Ir()},zr=function(Xr){Ir(vo(Xr,hr,!0))};this.fs.root.getDirectory(hr,Tr,Br,zr)},dr.prototype.readdir=function(hr,wr){this._readdir(hr,function(Ir,Tr){if(Tr){for(var Br=[],zr=0,Xr=Tr;zr<Xr.length;zr+=1){var li=Xr[zr];Br.push(li.name)}wr(null,Br)}else return wr(Ir)})},dr.prototype._makeFile=function(hr,wr,Ir,Tr,Br){Br===void 0&&(Br=new ArrayBuffer(0));var zr=new Dr(Or.FILE,Tr.size),Xr=bi(Br);return new ch(this,wr,hr,Ir,zr,Xr)},dr.prototype._readdir=function(hr,wr){var Ir=function(Tr){wr(vo(Tr,hr,!0))};this.fs.root.getDirectory(hr,{create:!1},function(Tr){var Br=Tr.createReader(),zr=[],Xr=function(){Br.readEntries(function(li){li.length?(zr=zr.concat(sh(li)),Xr()):wr(null,zr)},Ir)};Xr()},Ir)},dr.prototype._remove=function(hr,wr,Ir){var Tr=function(Xr){var li=function(){wr()},mi=function(Ii){wr(vo(Ii,hr,!Ir))};Xr.remove(li,mi)},Br=function(Xr){wr(vo(Xr,hr,!Ir))},zr={create:!1};Ir?this.fs.root.getFile(hr,zr,Tr,Br):this.fs.root.getDirectory(hr,zr,Tr,Br)},dr}(di);J0.Name="HTML5FS",J0.Options={size:{type:"number",optional:!0,description:"Storage quota to request, in megabytes. Allocated value may be less. Defaults to 5."},type:{type:"number",optional:!0,description:"window.PERSISTENT or window.TEMPORARY. Defaults to PERSISTENT."}};var Ha=function(dr,vr,hr,wr,Ir,Tr){this.id=dr,this.size=vr,this.mode=hr,this.atime=wr,this.mtime=Ir,this.ctime=Tr};Ha.fromBuffer=function(dr){if(dr===void 0)throw new Error("NO");return new Ha(dr.toString("ascii",30),dr.readUInt32LE(0),dr.readUInt16LE(4),dr.readDoubleLE(6),dr.readDoubleLE(14),dr.readDoubleLE(22))},Ha.prototype.toStats=function(){return new Dr((this.mode&61440)===Or.DIRECTORY?Or.DIRECTORY:Or.FILE,this.size,this.mode,new Date(this.atime),new Date(this.mtime),new Date(this.ctime))},Ha.prototype.getSize=function(){return 30+this.id.length},Ha.prototype.toBuffer=function(dr){return dr===void 0&&(dr=fr.alloc(this.getSize())),dr.writeUInt32LE(this.size,0),dr.writeUInt16LE(this.mode,4),dr.writeDoubleLE(this.atime,6),dr.writeDoubleLE(this.mtime,14),dr.writeDoubleLE(this.ctime,22),dr.write(this.id,30,this.id.length,"ascii"),dr},Ha.prototype.update=function(dr){var vr=!1;this.size!==dr.size&&(this.size=dr.size,vr=!0),this.mode!==dr.mode&&(this.mode=dr.mode,vr=!0);var hr=dr.atime.getTime();this.atime!==hr&&(this.atime=hr,vr=!0);var wr=dr.mtime.getTime();this.mtime!==wr&&(this.mtime=wr,vr=!0);var Ir=dr.ctime.getTime();return this.ctime!==Ir&&(this.ctime=Ir,vr=!0),vr},Ha.prototype.isFile=function(){return(this.mode&61440)===Or.FILE},Ha.prototype.isDirectory=function(){return(this.mode&61440)===Or.DIRECTORY};var No="/",pu=null;function ol(){return pu||(pu=fr.from("{}"))}function ec(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(Er){var dr=Math.random()*16|0,vr=Er==="x"?dr:dr&3|8;return vr.toString(16)})}function Ya(Er,dr){return Er?(dr(Er),!1):!0}function Oa(Er,dr,vr){return Er?(dr.abort(function(){vr(Er)}),!1):!0}var Oo=function(dr){this.store=dr,this.originalData={},this.modifiedKeys=[]};Oo.prototype.get=function(dr){var vr=this.store.get(dr);return this.stashOldValue(dr,vr),vr},Oo.prototype.put=function(dr,vr,hr){return this.markModified(dr),this.store.put(dr,vr,hr)},Oo.prototype.del=function(dr){this.markModified(dr),this.store.del(dr)},Oo.prototype.commit=function(){},Oo.prototype.abort=function(){for(var dr=this,vr=0,hr=dr.modifiedKeys;vr<hr.length;vr+=1){var wr=hr[vr],Ir=dr.originalData[wr];Ir?dr.store.put(wr,Ir,!0):dr.store.del(wr)}},Oo.prototype.stashOldValue=function(dr,vr){this.originalData.hasOwnProperty(dr)||(this.originalData[dr]=vr)},Oo.prototype.markModified=function(dr){this.modifiedKeys.indexOf(dr)===-1&&(this.modifiedKeys.push(dr),this.originalData.hasOwnProperty(dr)||(this.originalData[dr]=this.store.get(dr)))};var sl=function(Er){function dr(vr,hr,wr,Ir,Tr){Er.call(this,vr,hr,wr,Ir,Tr)}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this.getPath(),this.getBuffer(),this.getStats()),this.resetDirty())},dr.prototype.closeSync=function(){this.syncSync()},dr}(ri),cl=function(Er){function dr(vr){Er.call(this),this.store=vr.store,this.makeRootDirectory()}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.isAvailable=function(){return!0},dr.prototype.getName=function(){return this.store.name()},dr.prototype.isReadOnly=function(){return!1},dr.prototype.supportsSymlinks=function(){return!1},dr.prototype.supportsProps=function(){return!1},dr.prototype.supportsSynch=function(){return!0},dr.prototype.empty=function(){this.store.clear(),this.makeRootDirectory()},dr.prototype.renameSync=function(hr,wr){var Ir=this.store.beginTransaction("readwrite"),Tr=mr.dirname(hr),Br=mr.basename(hr),zr=mr.dirname(wr),Xr=mr.basename(wr),li=this.findINode(Ir,Tr),mi=this.getDirListing(Ir,Tr,li);if(!mi[Br])throw yr.ENOENT(hr);var Ii=mi[Br];if(delete mi[Br],(zr+"/").indexOf(hr+"/")===0)throw new yr(_r.EBUSY,Tr);var Ni,Li;if(zr===Tr?(Ni=li,Li=mi):(Ni=this.findINode(Ir,zr),Li=this.getDirListing(Ir,zr,Ni)),Li[Xr]){var Gi=this.getINode(Ir,wr,Li[Xr]);if(Gi.isFile())try{Ir.del(Gi.id),Ir.del(Li[Xr])}catch(Qi){throw Ir.abort(),Qi}else throw yr.EPERM(wr)}Li[Xr]=Ii;try{Ir.put(li.id,fr.from(JSON.stringify(mi)),!0),Ir.put(Ni.id,fr.from(JSON.stringify(Li)),!0)}catch(Qi){throw Ir.abort(),Qi}Ir.commit()},dr.prototype.statSync=function(hr,wr){return this.findINode(this.store.beginTransaction("readonly"),hr).toStats()},dr.prototype.createFileSync=function(hr,wr,Ir){var Tr=this.store.beginTransaction("readwrite"),Br=Ti(),zr=this.commitNewFile(Tr,hr,Or.FILE,Ir,Br);return new sl(this,hr,wr,zr.toStats(),Br)},dr.prototype.openFileSync=function(hr,wr){var Ir=this.store.beginTransaction("readonly"),Tr=this.findINode(Ir,hr),Br=Ir.get(Tr.id);if(Br===void 0)throw yr.ENOENT(hr);return new sl(this,hr,wr,Tr.toStats(),Br)},dr.prototype.unlinkSync=function(hr){this.removeEntry(hr,!1)},dr.prototype.rmdirSync=function(hr){if(this.readdirSync(hr).length>0)throw yr.ENOTEMPTY(hr);this.removeEntry(hr,!0)},dr.prototype.mkdirSync=function(hr,wr){var Ir=this.store.beginTransaction("readwrite"),Tr=fr.from("{}");this.commitNewFile(Ir,hr,Or.DIRECTORY,wr,Tr)},dr.prototype.readdirSync=function(hr){var wr=this.store.beginTransaction("readonly");return Object.keys(this.getDirListing(wr,hr,this.findINode(wr,hr)))},dr.prototype._syncSync=function(hr,wr,Ir){var Tr=this.store.beginTransaction("readwrite"),Br=this._findINode(Tr,mr.dirname(hr),mr.basename(hr)),zr=this.getINode(Tr,hr,Br),Xr=zr.update(Ir);try{Tr.put(zr.id,wr,!0),Xr&&Tr.put(Br,zr.toBuffer(),!0)}catch(li){throw Tr.abort(),li}Tr.commit()},dr.prototype.makeRootDirectory=function(){var hr=this.store.beginTransaction("readwrite");if(hr.get(No)===void 0){var wr=new Date().getTime(),Ir=new Ha(ec(),4096,511|Or.DIRECTORY,wr,wr,wr);hr.put(Ir.id,ol(),!1),hr.put(No,Ir.toBuffer(),!1),hr.commit()}},dr.prototype._findINode=function(hr,wr,Ir){var Tr=this,Br=function(zr){var Xr=Tr.getDirListing(hr,wr,zr);if(Xr[Ir])return Xr[Ir];throw yr.ENOENT(mr.resolve(wr,Ir))};return wr==="/"?Ir===""?No:Br(this.getINode(hr,wr,No)):Br(this.getINode(hr,wr+mr.sep+Ir,this._findINode(hr,mr.dirname(wr),mr.basename(wr))))},dr.prototype.findINode=function(hr,wr){return this.getINode(hr,wr,this._findINode(hr,mr.dirname(wr),mr.basename(wr)))},dr.prototype.getINode=function(hr,wr,Ir){var Tr=hr.get(Ir);if(Tr===void 0)throw yr.ENOENT(wr);return Ha.fromBuffer(Tr)},dr.prototype.getDirListing=function(hr,wr,Ir){if(!Ir.isDirectory())throw yr.ENOTDIR(wr);var Tr=hr.get(Ir.id);if(Tr===void 0)throw yr.ENOENT(wr);return JSON.parse(Tr.toString())},dr.prototype.addNewNode=function(hr,wr){for(var Ir=0,Tr;Ir<5;)try{return Tr=ec(),hr.put(Tr,wr,!1),Tr}catch{}throw new yr(_r.EIO,"Unable to commit data to key-value store.")},dr.prototype.commitNewFile=function(hr,wr,Ir,Tr,Br){var zr=mr.dirname(wr),Xr=mr.basename(wr),li=this.findINode(hr,zr),mi=this.getDirListing(hr,zr,li),Ii=new Date().getTime();if(wr==="/"||mi[Xr])throw yr.EEXIST(wr);var Ni;try{var Li=this.addNewNode(hr,Br);Ni=new Ha(Li,Br.length,Tr|Ir,Ii,Ii,Ii);var Gi=this.addNewNode(hr,Ni.toBuffer());mi[Xr]=Gi,hr.put(li.id,fr.from(JSON.stringify(mi)),!0)}catch(Qi){throw hr.abort(),Qi}return hr.commit(),Ni},dr.prototype.removeEntry=function(hr,wr){var Ir=this.store.beginTransaction("readwrite"),Tr=mr.dirname(hr),Br=this.findINode(Ir,Tr),zr=this.getDirListing(Ir,Tr,Br),Xr=mr.basename(hr);if(!zr[Xr])throw yr.ENOENT(hr);var li=zr[Xr];delete zr[Xr];var mi=this.getINode(Ir,hr,li);if(!wr&&mi.isDirectory())throw yr.EISDIR(hr);if(wr&&!mi.isDirectory())throw yr.ENOTDIR(hr);try{Ir.del(mi.id),Ir.del(li),Ir.put(Br.id,fr.from(JSON.stringify(zr)),!0)}catch(Ii){throw Ir.abort(),Ii}Ir.commit()},dr}(gi),ul=function(Er){function dr(vr,hr,wr,Ir,Tr){Er.call(this,vr,hr,wr,Ir,Tr)}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.prototype.sync=function(hr){var wr=this;this.isDirty()?this._fs._sync(this.getPath(),this.getBuffer(),this.getStats(),function(Ir){Ir||wr.resetDirty(),hr(Ir)}):hr()},dr.prototype.close=function(hr){this.sync(hr)},dr}(ri),uh=function(Er){function dr(){Er.apply(this,arguments)}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.isAvailable=function(){return!0},dr.prototype.init=function(hr,wr){this.store=hr,this.makeRootDirectory(wr)},dr.prototype.getName=function(){return this.store.name()},dr.prototype.isReadOnly=function(){return!1},dr.prototype.supportsSymlinks=function(){return!1},dr.prototype.supportsProps=function(){return!1},dr.prototype.supportsSynch=function(){return!1},dr.prototype.empty=function(hr){var wr=this;this.store.clear(function(Ir){Ya(Ir,hr)&&wr.makeRootDirectory(hr)})},dr.prototype.rename=function(hr,wr,Ir){var Tr=this,Br=this.store.beginTransaction("readwrite"),zr=mr.dirname(hr),Xr=mr.basename(hr),li=mr.dirname(wr),mi=mr.basename(wr),Ii={},Ni={},Li=!1;if((li+"/").indexOf(hr+"/")===0)return Ir(new yr(_r.EBUSY,zr));var Gi=function(){if(!(Li||!Ni.hasOwnProperty(zr)||!Ni.hasOwnProperty(li))){var ea=Ni[zr],_a=Ii[zr],Na=Ni[li],yo=Ii[li];if(!ea[Xr])Ir(yr.ENOENT(hr));else{var bo=ea[Xr];delete ea[Xr];var As=function(){Na[mi]=bo,Br.put(_a.id,fr.from(JSON.stringify(ea)),!0,function(Ro){Oa(Ro,Br,Ir)&&(zr===li?Br.commit(Ir):Br.put(yo.id,fr.from(JSON.stringify(Na)),!0,function(Fo){Oa(Fo,Br,Ir)&&Br.commit(Ir)}))})};Na[mi]?Tr.getINode(Br,wr,Na[mi],function(Ro,Fo){Oa(Ro,Br,Ir)&&(Fo.isFile()?Br.del(Fo.id,function(Xl){Oa(Xl,Br,Ir)&&Br.del(Na[mi],function(Nh){Oa(Nh,Br,Ir)&&As()})}):Br.abort(function(Xl){Ir(yr.EPERM(wr))}))}):As()}}},Qi=function(ea){Tr.findINodeAndDirListing(Br,ea,function(_a,Na,yo){_a?Li||(Li=!0,Br.abort(function(){Ir(_a)})):(Ii[ea]=Na,Ni[ea]=yo,Gi())})};Qi(zr),zr!==li&&Qi(li)},dr.prototype.stat=function(hr,wr,Ir){var Tr=this.store.beginTransaction("readonly");this.findINode(Tr,hr,function(Br,zr){Ya(Br,Ir)&&Ir(null,zr.toStats())})},dr.prototype.createFile=function(hr,wr,Ir,Tr){var Br=this,zr=this.store.beginTransaction("readwrite"),Xr=Ti();this.commitNewFile(zr,hr,Or.FILE,Ir,Xr,function(li,mi){Ya(li,Tr)&&Tr(null,new ul(Br,hr,wr,mi.toStats(),Xr))})},dr.prototype.openFile=function(hr,wr,Ir){var Tr=this,Br=this.store.beginTransaction("readonly");this.findINode(Br,hr,function(zr,Xr){Ya(zr,Ir)&&Br.get(Xr.id,function(li,mi){Ya(li,Ir)&&(mi===void 0?Ir(yr.ENOENT(hr)):Ir(null,new ul(Tr,hr,wr,Xr.toStats(),mi)))})})},dr.prototype.unlink=function(hr,wr){this.removeEntry(hr,!1,wr)},dr.prototype.rmdir=function(hr,wr){var Ir=this;this.readdir(hr,function(Tr,Br){Tr?wr(Tr):Br.length>0?wr(yr.ENOTEMPTY(hr)):Ir.removeEntry(hr,!0,wr)})},dr.prototype.mkdir=function(hr,wr,Ir){var Tr=this.store.beginTransaction("readwrite"),Br=fr.from("{}");this.commitNewFile(Tr,hr,Or.DIRECTORY,wr,Br,Ir)},dr.prototype.readdir=function(hr,wr){var Ir=this,Tr=this.store.beginTransaction("readonly");this.findINode(Tr,hr,function(Br,zr){Ya(Br,wr)&&Ir.getDirListing(Tr,hr,zr,function(Xr,li){Ya(Xr,wr)&&wr(null,Object.keys(li))})})},dr.prototype._sync=function(hr,wr,Ir,Tr){var Br=this,zr=this.store.beginTransaction("readwrite");this._findINode(zr,mr.dirname(hr),mr.basename(hr),function(Xr,li){Oa(Xr,zr,Tr)&&Br.getINode(zr,hr,li,function(mi,Ii){if(Oa(mi,zr,Tr)){var Ni=Ii.update(Ir);zr.put(Ii.id,wr,!0,function(Li){Oa(Li,zr,Tr)&&(Ni?zr.put(li,Ii.toBuffer(),!0,function(Gi){Oa(Gi,zr,Tr)&&zr.commit(Tr)}):zr.commit(Tr))})}})})},dr.prototype.makeRootDirectory=function(hr){var wr=this.store.beginTransaction("readwrite");wr.get(No,function(Ir,Tr){if(Ir||Tr===void 0){var Br=new Date().getTime(),zr=new Ha(ec(),4096,511|Or.DIRECTORY,Br,Br,Br);wr.put(zr.id,ol(),!1,function(Xr){Oa(Xr,wr,hr)&&wr.put(No,zr.toBuffer(),!1,function(li){li?wr.abort(function(){hr(li)}):wr.commit(hr)})})}else wr.commit(hr)})},dr.prototype._findINode=function(hr,wr,Ir,Tr){var Br=this,zr=function(Xr,li,mi){Xr?Tr(Xr):mi[Ir]?Tr(null,mi[Ir]):Tr(yr.ENOENT(mr.resolve(wr,Ir)))};wr==="/"?Ir===""?Tr(null,No):this.getINode(hr,wr,No,function(Xr,li){Ya(Xr,Tr)&&Br.getDirListing(hr,wr,li,function(mi,Ii){zr(mi,li,Ii)})}):this.findINodeAndDirListing(hr,wr,zr)},dr.prototype.findINode=function(hr,wr,Ir){var Tr=this;this._findINode(hr,mr.dirname(wr),mr.basename(wr),function(Br,zr){Ya(Br,Ir)&&Tr.getINode(hr,wr,zr,Ir)})},dr.prototype.getINode=function(hr,wr,Ir,Tr){hr.get(Ir,function(Br,zr){Ya(Br,Tr)&&(zr===void 0?Tr(yr.ENOENT(wr)):Tr(null,Ha.fromBuffer(zr)))})},dr.prototype.getDirListing=function(hr,wr,Ir,Tr){Ir.isDirectory()?hr.get(Ir.id,function(Br,zr){if(Ya(Br,Tr))try{Tr(null,JSON.parse(zr.toString()))}catch{Tr(yr.ENOENT(wr))}}):Tr(yr.ENOTDIR(wr))},dr.prototype.findINodeAndDirListing=function(hr,wr,Ir){var Tr=this;this.findINode(hr,wr,function(Br,zr){Ya(Br,Ir)&&Tr.getDirListing(hr,wr,zr,function(Xr,li){Ya(Xr,Ir)&&Ir(null,zr,li)})})},dr.prototype.addNewNode=function(hr,wr,Ir){var Tr=0,Br,zr=function(){++Tr===5?Ir(new yr(_r.EIO,"Unable to commit data to key-value store.")):(Br=ec(),hr.put(Br,wr,!1,function(Xr,li){Xr||!li?zr():Ir(null,Br)}))};zr()},dr.prototype.commitNewFile=function(hr,wr,Ir,Tr,Br,zr){var Xr=this,li=mr.dirname(wr),mi=mr.basename(wr),Ii=new Date().getTime();if(wr==="/")return zr(yr.EEXIST(wr));this.findINodeAndDirListing(hr,li,function(Ni,Li,Gi){Oa(Ni,hr,zr)&&(Gi[mi]?hr.abort(function(){zr(yr.EEXIST(wr))}):Xr.addNewNode(hr,Br,function(Qi,ea){if(Oa(Qi,hr,zr)){var _a=new Ha(ea,Br.length,Tr|Ir,Ii,Ii,Ii);Xr.addNewNode(hr,_a.toBuffer(),function(Na,yo){Oa(Na,hr,zr)&&(Gi[mi]=yo,hr.put(Li.id,fr.from(JSON.stringify(Gi)),!0,function(bo){Oa(bo,hr,zr)&&hr.commit(function(As){Oa(As,hr,zr)&&zr(null,_a)})}))})}}))})},dr.prototype.removeEntry=function(hr,wr,Ir){var Tr=this,Br=this.store.beginTransaction("readwrite"),zr=mr.dirname(hr),Xr=mr.basename(hr);this.findINodeAndDirListing(Br,zr,function(li,mi,Ii){if(Oa(li,Br,Ir))if(!Ii[Xr])Br.abort(function(){Ir(yr.ENOENT(hr))});else{var Ni=Ii[Xr];delete Ii[Xr],Tr.getINode(Br,hr,Ni,function(Li,Gi){Oa(Li,Br,Ir)&&(!wr&&Gi.isDirectory()?Br.abort(function(){Ir(yr.EISDIR(hr))}):wr&&!Gi.isDirectory()?Br.abort(function(){Ir(yr.ENOTDIR(hr))}):Br.del(Gi.id,function(Qi){Oa(Qi,Br,Ir)&&Br.del(Ni,function(ea){Oa(ea,Br,Ir)&&Br.put(mi.id,fr.from(JSON.stringify(Ii)),!0,function(_a){Oa(_a,Br,Ir)&&Br.commit(Ir)})})}))})}})},dr}(di),Yo=function(){this.store={}};Yo.prototype.name=function(){return gs.Name},Yo.prototype.clear=function(){this.store={}},Yo.prototype.beginTransaction=function(dr){return new Oo(this)},Yo.prototype.get=function(dr){return this.store[dr]},Yo.prototype.put=function(dr,vr,hr){return!hr&&this.store.hasOwnProperty(dr)?!1:(this.store[dr]=vr,!0)},Yo.prototype.del=function(dr){delete this.store[dr]};var gs=function(Er){function dr(){Er.call(this,{store:new Yo})}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.Create=function(hr,wr){wr(null,new dr)},dr}(cl);gs.Name="InMemory",gs.Options={};var _u=Aa.indexedDB||Aa.mozIndexedDB||Aa.webkitIndexedDB||Aa.msIndexedDB;function t0(Er,dr){switch(dr===void 0&&(dr=Er.toString()),Er.name){case"NotFoundError":return new yr(_r.ENOENT,dr);case"QuotaExceededError":return new yr(_r.ENOSPC,dr);default:return new yr(_r.EIO,dr)}}function r0(Er,dr,vr){return dr===void 0&&(dr=_r.EIO),vr===void 0&&(vr=null),function(hr){hr.preventDefault(),Er(new yr(dr,vr!==null?vr:void 0))}}var vu=function(dr,vr){this.tx=dr,this.store=vr};vu.prototype.get=function(dr,vr){try{var hr=this.store.get(dr);hr.onerror=r0(vr),hr.onsuccess=function(wr){var Ir=wr.target.result;Ir===void 0?vr(null,Ir):vr(null,bi(Ir))}}catch(wr){vr(t0(wr))}};var lh=function(Er){function dr(vr,hr){Er.call(this,vr,hr)}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.prototype.put=function(hr,wr,Ir,Tr){try{var Br=$r(wr),zr;Ir?zr=this.store.put(Br,hr):zr=this.store.add(Br,hr),zr.onerror=r0(Tr),zr.onsuccess=function(Xr){Tr(null,!0)}}catch(Xr){Tr(t0(Xr))}},dr.prototype.del=function(hr,wr){try{var Ir=this.store.delete(hr);Ir.onerror=r0(wr),Ir.onsuccess=function(Tr){wr()}}catch(Tr){wr(t0(Tr))}},dr.prototype.commit=function(hr){setTimeout(hr,0)},dr.prototype.abort=function(hr){var wr=null;try{this.tx.abort()}catch(Ir){wr=t0(Ir)}finally{hr(wr)}},dr}(vu),tc=function(dr,vr){var hr=this;vr===void 0&&(vr="browserfs"),this.storeName=vr;var wr=_u.open(this.storeName,1);wr.onupgradeneeded=function(Ir){var Tr=Ir.target.result;Tr.objectStoreNames.contains(hr.storeName)&&Tr.deleteObjectStore(hr.storeName),Tr.createObjectStore(hr.storeName)},wr.onsuccess=function(Ir){hr.db=Ir.target.result,dr(null,hr)},wr.onerror=r0(dr,_r.EACCES)};tc.prototype.name=function(){return n0.Name+" - "+this.storeName},tc.prototype.clear=function(dr){try{var vr=this.db.transaction(this.storeName,"readwrite"),hr=vr.objectStore(this.storeName),wr=hr.clear();wr.onsuccess=function(Ir){setTimeout(dr,0)},wr.onerror=r0(dr)}catch(Ir){dr(t0(Ir))}},tc.prototype.beginTransaction=function(dr){dr===void 0&&(dr="readonly");var vr=this.db.transaction(this.storeName,dr),hr=vr.objectStore(this.storeName);if(dr==="readwrite")return new lh(vr,hr);if(dr==="readonly")return new vu(vr,hr);throw new yr(_r.EINVAL,"Invalid transaction type.")};var n0=function(Er){function dr(vr,hr,wr){var Ir=this;wr===void 0&&(wr=!0),Er.call(this),this.store=new tc(function(Tr){Tr?vr(Tr):Ir.init(Ir.store,function(Br){vr(Br,Ir)})},hr),Ei(wr,dr.Name,{storeName:hr})}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.Create=function(hr,wr){new dr(wr,hr.storeName,!1)},dr.isAvailable=function(){try{return typeof _u<"u"&&_u.open("__browserfs_test__")!==null}catch{return!1}},dr}(uh);n0.Name="IndexedDB",n0.Options={storeName:{type:"string",optional:!0,description:"The name of this file system. You can have multiple IndexedDB file systems operating at once, but each must have a different name."}};var mu=!1,i0;try{Aa.localStorage.setItem("__test__",String.fromCharCode(55296)),mu=Aa.localStorage.getItem("__test__")===String.fromCharCode(55296)}catch{mu=!1}i0=mu?"binary_string":"binary_string_ie",fr.isEncoding(i0)||(i0="base64");var $o=function(){};$o.prototype.name=function(){return a0.Name},$o.prototype.clear=function(){Aa.localStorage.clear()},$o.prototype.beginTransaction=function(dr){return new Oo(this)},$o.prototype.get=function(dr){try{var vr=Aa.localStorage.getItem(dr);if(vr!==null)return fr.from(vr,i0)}catch{}},$o.prototype.put=function(dr,vr,hr){try{return!hr&&Aa.localStorage.getItem(dr)!==null?!1:(Aa.localStorage.setItem(dr,vr.toString(i0)),!0)}catch{throw new yr(_r.ENOSPC,"LocalStorage is full.")}},$o.prototype.del=function(dr){try{Aa.localStorage.removeItem(dr)}catch(vr){throw new yr(_r.EIO,"Unable to delete key "+dr+": "+vr)}};var a0=function(Er){function dr(){Er.call(this,{store:new $o})}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.Create=function(hr,wr){wr(null,new dr)},dr.isAvailable=function(){return typeof Aa.localStorage<"u"},dr}(cl);a0.Name="LocalStorage",a0.Options={};var ys=function(Er){function dr(){Er.call(this),this.mountList=[],this.mntMap={},this.rootFs=new gs}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.Create=function(hr,wr){var Ir=new dr;Object.keys(hr).forEach(function(Tr){Ir.mount(Tr,hr[Tr])}),wr(null,Ir)},dr.isAvailable=function(){return!0},dr.prototype.mount=function(hr,wr){if(hr[0]!=="/"&&(hr="/"+hr),hr=mr.resolve(hr),this.mntMap[hr])throw new yr(_r.EINVAL,"Mount point "+hr+" is already taken.");ci(hr,511,this.rootFs),this.mntMap[hr]=wr,this.mountList.push(hr),this.mountList=this.mountList.sort(function(Ir,Tr){return Tr.length-Ir.length})},dr.prototype.umount=function(hr){var wr=this;if(hr[0]!=="/"&&(hr="/"+hr),hr=mr.resolve(hr),!this.mntMap[hr])throw new yr(_r.EINVAL,"Mount point "+hr+" is already unmounted.");for(delete this.mntMap[hr],this.mountList.splice(this.mountList.indexOf(hr),1);hr!=="/"&&wr.rootFs.readdirSync(hr).length===0;)wr.rootFs.rmdirSync(hr),hr=mr.dirname(hr)},dr.prototype._getFs=function(hr){for(var wr=this,Ir=this.mountList,Tr=Ir.length,Br=0;Br<Tr;Br++){var zr=Ir[Br];if(zr.length<=hr.length&&hr.indexOf(zr)===0)return hr=hr.substr(zr.length>1?zr.length:0),hr===""&&(hr="/"),{fs:wr.mntMap[zr],path:hr}}return{fs:this.rootFs,path:hr}},dr.prototype.getName=function(){return dr.Name},dr.prototype.diskSpace=function(hr,wr){wr(0,0)},dr.prototype.isReadOnly=function(){return!1},dr.prototype.supportsLinks=function(){return!1},dr.prototype.supportsProps=function(){return!1},dr.prototype.supportsSynch=function(){return!0},dr.prototype.standardizeError=function(hr,wr,Ir){var Tr=hr.message.indexOf(wr);return Tr!==-1&&(hr.message=hr.message.substr(0,Tr)+Ir+hr.message.substr(Tr+wr.length),hr.path=Ir),hr},dr.prototype.rename=function(hr,wr,Ir){var Tr=this,Br=this._getFs(hr),zr=this._getFs(wr);return Br.fs===zr.fs?Br.fs.rename(Br.path,zr.path,function(Xr){Xr&&Tr.standardizeError(Tr.standardizeError(Xr,Br.path,hr),zr.path,wr),Ir(Xr)}):Wr.readFile(hr,function(Xr,li){if(Xr)return Ir(Xr);Wr.writeFile(wr,li,function(mi){if(mi)return Ir(mi);Wr.unlink(hr,Ir)})})},dr.prototype.renameSync=function(hr,wr){var Ir=this._getFs(hr),Tr=this._getFs(wr);if(Ir.fs===Tr.fs)try{return Ir.fs.renameSync(Ir.path,Tr.path)}catch(zr){throw this.standardizeError(this.standardizeError(zr,Ir.path,hr),Tr.path,wr),zr}var Br=Wr.readFileSync(hr);return Wr.writeFileSync(wr,Br),Wr.unlinkSync(hr)},dr.prototype.readdirSync=function(hr){var wr=this._getFs(hr),Ir=null;if(wr.fs!==this.rootFs)try{Ir=this.rootFs.readdirSync(hr)}catch{}try{var Tr=wr.fs.readdirSync(wr.path);return Ir===null?Tr:Tr.concat(Ir.filter(function(Br){return Tr.indexOf(Br)===-1}))}catch(Br){if(Ir===null)throw this.standardizeError(Br,wr.path,hr);return Ir}},dr.prototype.readdir=function(hr,wr){var Ir=this,Tr=this._getFs(hr);Tr.fs.readdir(Tr.path,function(Br,zr){if(Tr.fs!==Ir.rootFs)try{var Xr=Ir.rootFs.readdirSync(hr);zr?zr=zr.concat(Xr.filter(function(li){return zr.indexOf(li)===-1})):zr=Xr}catch{if(Br)return wr(Ir.standardizeError(Br,Tr.path,hr))}else if(Br)return wr(Ir.standardizeError(Br,Tr.path,hr));wr(null,zr)})},dr.prototype.rmdirSync=function(hr){var wr=this._getFs(hr);if(this._containsMountPt(hr))throw yr.ENOTEMPTY(hr);try{wr.fs.rmdirSync(wr.path)}catch(Ir){throw this.standardizeError(Ir,wr.path,hr)}},dr.prototype.rmdir=function(hr,wr){var Ir=this,Tr=this._getFs(hr);this._containsMountPt(hr)?wr(yr.ENOTEMPTY(hr)):Tr.fs.rmdir(Tr.path,function(Br){wr(Br?Ir.standardizeError(Br,Tr.path,hr):null)})},dr.prototype._containsMountPt=function(hr){for(var wr=this.mountList,Ir=wr.length,Tr=0;Tr<Ir;Tr++){var Br=wr[Tr];if(Br.length>=hr.length&&Br.slice(0,hr.length)===hr)return!0}return!1},dr}(di);ys.Name="MountableFileSystem",ys.Options={};function ll(Er,dr,vr){return dr?function(){for(var hr=[],wr=arguments.length;wr--;)hr[wr]=arguments[wr];var Ir=hr[0],Tr=this._getFs(Ir);hr[0]=Tr.path;try{return Tr.fs[Er].apply(Tr.fs,hr)}catch(Br){throw this.standardizeError(Br,Tr.path,Ir),Br}}:function(){for(var hr=this,wr=[],Ir=arguments.length;Ir--;)wr[Ir]=arguments[Ir];var Tr=wr[0],Br=this._getFs(Tr);if(wr[0]=Br.path,typeof wr[wr.length-1]=="function"){var zr=wr[wr.length-1];wr[wr.length-1]=function(){for(var Xr=[],li=arguments.length;li--;)Xr[li]=arguments[li];Xr.length>0&&Xr[0]instanceof yr&&hr.standardizeError(Xr[0],Br.path,Tr),zr.apply(null,Xr)}}return Br.fs[Er].apply(Br.fs,wr)}}for(var fl=[["exists","unlink","readlink"],["stat","mkdir","realpath","truncate"],["open","readFile","chmod","utimes"],["chown"],["writeFile","appendFile"]],gu=0;gu<fl.length;gu++)for(var fh=fl[gu],yu=0,dl=fh;yu<dl.length;yu+=1){var rc=dl[yu];ys.prototype[rc]=ll(rc,!1),ys.prototype[rc+"Sync"]=ll(rc+"Sync",!0)}var o0;if(typeof setImmediate<"u")o0=setImmediate;else{var no=Aa,bs=[],hl="zero-timeout-message",dh=function(){if(typeof no.importScripts<"u"||!no.postMessage)return!1;var Er=!0,dr=no.onmessage;return no.onmessage=function(){Er=!1},no.postMessage("","*"),no.onmessage=dr,Er};if(dh()){o0=function(Er){bs.push(Er),no.postMessage(hl,"*")};var xl=function(Er){if(Er.source===self&&Er.data===hl&&(Er.stopPropagation?Er.stopPropagation():Er.cancelBubble=!0,bs.length>0)){var dr=bs.shift();return dr()}};no.addEventListener?no.addEventListener("message",xl,!0):no.attachEvent("onmessage",xl)}else if(no.MessageChannel){var pl=new no.MessageChannel;pl.port1.onmessage=function(Er){if(bs.length>0)return bs.shift()()},o0=function(Er){bs.push(Er),pl.port2.postMessage("")}}else o0=function(Er){return setTimeout(Er,0)}}var bu=o0,s0=function(){this._locked=!1,this._waiters=[]};s0.prototype.lock=function(dr){if(this._locked){this._waiters.push(dr);return}this._locked=!0,dr()},s0.prototype.unlock=function(){if(!this._locked)throw new Error("unlock of a non-locked mutex");var dr=this._waiters.shift();if(dr){bu(dr);return}this._locked=!1},s0.prototype.tryLock=function(){return this._locked?!1:(this._locked=!0,!0)},s0.prototype.isLocked=function(){return this._locked};var Ji=function(dr){this._fs=dr,this._mu=new s0};Ji.prototype.getName=function(){return"LockedFS<"+this._fs.getName()+">"},Ji.prototype.getFSUnlocked=function(){return this._fs},Ji.prototype.initialize=function(dr){this._fs.initialize(dr)},Ji.prototype.diskSpace=function(dr,vr){this._fs.diskSpace(dr,vr)},Ji.prototype.isReadOnly=function(){return this._fs.isReadOnly()},Ji.prototype.supportsLinks=function(){return this._fs.supportsLinks()},Ji.prototype.supportsProps=function(){return this._fs.supportsProps()},Ji.prototype.supportsSynch=function(){return this._fs.supportsSynch()},Ji.prototype.rename=function(dr,vr,hr){var wr=this;this._mu.lock(function(){wr._fs.rename(dr,vr,function(Ir){wr._mu.unlock(),hr(Ir)})})},Ji.prototype.renameSync=function(dr,vr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.renameSync(dr,vr)},Ji.prototype.stat=function(dr,vr,hr){var wr=this;this._mu.lock(function(){wr._fs.stat(dr,vr,function(Ir,Tr){wr._mu.unlock(),hr(Ir,Tr)})})},Ji.prototype.statSync=function(dr,vr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.statSync(dr,vr)},Ji.prototype.open=function(dr,vr,hr,wr){var Ir=this;this._mu.lock(function(){Ir._fs.open(dr,vr,hr,function(Tr,Br){Ir._mu.unlock(),wr(Tr,Br)})})},Ji.prototype.openSync=function(dr,vr,hr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.openSync(dr,vr,hr)},Ji.prototype.unlink=function(dr,vr){var hr=this;this._mu.lock(function(){hr._fs.unlink(dr,function(wr){hr._mu.unlock(),vr(wr)})})},Ji.prototype.unlinkSync=function(dr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.unlinkSync(dr)},Ji.prototype.rmdir=function(dr,vr){var hr=this;this._mu.lock(function(){hr._fs.rmdir(dr,function(wr){hr._mu.unlock(),vr(wr)})})},Ji.prototype.rmdirSync=function(dr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.rmdirSync(dr)},Ji.prototype.mkdir=function(dr,vr,hr){var wr=this;this._mu.lock(function(){wr._fs.mkdir(dr,vr,function(Ir){wr._mu.unlock(),hr(Ir)})})},Ji.prototype.mkdirSync=function(dr,vr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.mkdirSync(dr,vr)},Ji.prototype.readdir=function(dr,vr){var hr=this;this._mu.lock(function(){hr._fs.readdir(dr,function(wr,Ir){hr._mu.unlock(),vr(wr,Ir)})})},Ji.prototype.readdirSync=function(dr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readdirSync(dr)},Ji.prototype.exists=function(dr,vr){var hr=this;this._mu.lock(function(){hr._fs.exists(dr,function(wr){hr._mu.unlock(),vr(wr)})})},Ji.prototype.existsSync=function(dr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.existsSync(dr)},Ji.prototype.realpath=function(dr,vr,hr){var wr=this;this._mu.lock(function(){wr._fs.realpath(dr,vr,function(Ir,Tr){wr._mu.unlock(),hr(Ir,Tr)})})},Ji.prototype.realpathSync=function(dr,vr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.realpathSync(dr,vr)},Ji.prototype.truncate=function(dr,vr,hr){var wr=this;this._mu.lock(function(){wr._fs.truncate(dr,vr,function(Ir){wr._mu.unlock(),hr(Ir)})})},Ji.prototype.truncateSync=function(dr,vr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.truncateSync(dr,vr)},Ji.prototype.readFile=function(dr,vr,hr,wr){var Ir=this;this._mu.lock(function(){Ir._fs.readFile(dr,vr,hr,function(Tr,Br){Ir._mu.unlock(),wr(Tr,Br)})})},Ji.prototype.readFileSync=function(dr,vr,hr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readFileSync(dr,vr,hr)},Ji.prototype.writeFile=function(dr,vr,hr,wr,Ir,Tr){var Br=this;this._mu.lock(function(){Br._fs.writeFile(dr,vr,hr,wr,Ir,function(zr){Br._mu.unlock(),Tr(zr)})})},Ji.prototype.writeFileSync=function(dr,vr,hr,wr,Ir){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.writeFileSync(dr,vr,hr,wr,Ir)},Ji.prototype.appendFile=function(dr,vr,hr,wr,Ir,Tr){var Br=this;this._mu.lock(function(){Br._fs.appendFile(dr,vr,hr,wr,Ir,function(zr){Br._mu.unlock(),Tr(zr)})})},Ji.prototype.appendFileSync=function(dr,vr,hr,wr,Ir){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.appendFileSync(dr,vr,hr,wr,Ir)},Ji.prototype.chmod=function(dr,vr,hr,wr){var Ir=this;this._mu.lock(function(){Ir._fs.chmod(dr,vr,hr,function(Tr){Ir._mu.unlock(),wr(Tr)})})},Ji.prototype.chmodSync=function(dr,vr,hr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chmodSync(dr,vr,hr)},Ji.prototype.chown=function(dr,vr,hr,wr,Ir){var Tr=this;this._mu.lock(function(){Tr._fs.chown(dr,vr,hr,wr,function(Br){Tr._mu.unlock(),Ir(Br)})})},Ji.prototype.chownSync=function(dr,vr,hr,wr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chownSync(dr,vr,hr,wr)},Ji.prototype.utimes=function(dr,vr,hr,wr){var Ir=this;this._mu.lock(function(){Ir._fs.utimes(dr,vr,hr,function(Tr){Ir._mu.unlock(),wr(Tr)})})},Ji.prototype.utimesSync=function(dr,vr,hr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.utimesSync(dr,vr,hr)},Ji.prototype.link=function(dr,vr,hr){var wr=this;this._mu.lock(function(){wr._fs.link(dr,vr,function(Ir){wr._mu.unlock(),hr(Ir)})})},Ji.prototype.linkSync=function(dr,vr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.linkSync(dr,vr)},Ji.prototype.symlink=function(dr,vr,hr,wr){var Ir=this;this._mu.lock(function(){Ir._fs.symlink(dr,vr,hr,function(Tr){Ir._mu.unlock(),wr(Tr)})})},Ji.prototype.symlinkSync=function(dr,vr,hr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.symlinkSync(dr,vr,hr)},Ji.prototype.readlink=function(dr,vr){var hr=this;this._mu.lock(function(){hr._fs.readlink(dr,function(wr,Ir){hr._mu.unlock(),vr(wr,Ir)})})},Ji.prototype.readlinkSync=function(dr){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readlinkSync(dr)};var To="/.deletedFiles.log";function _l(Er){return 146|Er}function $a(Er){return kr.getFileFlag(Er)}var vl=function(Er){function dr(vr,hr,wr,Ir,Tr){Er.call(this,vr,hr,wr,Ir,Tr)}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.prototype.sync=function(hr){var wr=this;if(!this.isDirty()){hr(null);return}this._fs._syncAsync(this,function(Ir){wr.resetDirty(),hr(Ir)})},dr.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},dr.prototype.close=function(hr){this.sync(hr)},dr.prototype.closeSync=function(){this.syncSync()},dr}(ri),ml=function(Er){function dr(vr,hr){if(Er.call(this),this._isInitialized=!1,this._initializeCallbacks=[],this._deletedFiles={},this._deleteLog="",this._deleteLogUpdatePending=!1,this._deleteLogUpdateNeeded=!1,this._deleteLogError=null,this._writable=vr,this._readable=hr,this._writable.isReadOnly())throw new yr(_r.EINVAL,"Writable file system must be writable.")}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.isAvailable=function(){return!0},dr.prototype.getOverlayedFileSystems=function(){return{readable:this._readable,writable:this._writable}},dr.prototype._syncAsync=function(hr,wr){var Ir=this;this.createParentDirectoriesAsync(hr.getPath(),function(Tr){if(Tr)return wr(Tr);Ir._writable.writeFile(hr.getPath(),hr.getBuffer(),null,$a("w"),hr.getStats().mode,wr)})},dr.prototype._syncSync=function(hr){this.createParentDirectories(hr.getPath()),this._writable.writeFileSync(hr.getPath(),hr.getBuffer(),null,$a("w"),hr.getStats().mode)},dr.prototype.getName=function(){return c0.Name},dr.prototype.initialize=function(hr){var wr=this,Ir=this._initializeCallbacks,Tr=function(Br){wr._isInitialized=!Br,wr._initializeCallbacks=[],Ir.forEach(function(zr){return zr(Br)})};if(this._isInitialized)return hr();Ir.push(hr),Ir.length===1&&this._writable.readFile(To,"utf8",$a("r"),function(Br,zr){if(Br){if(Br.errno!==_r.ENOENT)return Tr(Br)}else wr._deleteLog=zr;wr._reparseDeletionLog(),Tr()})},dr.prototype.isReadOnly=function(){return!1},dr.prototype.supportsSynch=function(){return this._readable.supportsSynch()&&this._writable.supportsSynch()},dr.prototype.supportsLinks=function(){return!1},dr.prototype.supportsProps=function(){return this._readable.supportsProps()&&this._writable.supportsProps()},dr.prototype.getDeletionLog=function(){return this._deleteLog},dr.prototype.restoreDeletionLog=function(hr){this._deleteLog=hr,this._reparseDeletionLog(),this.updateLog("")},dr.prototype.rename=function(hr,wr,Ir){var Tr=this;if(!(!this.checkInitAsync(Ir)||this.checkPathAsync(hr,Ir)||this.checkPathAsync(wr,Ir))){if(hr===To||wr===To)return Ir(yr.EPERM("Cannot rename deletion log."));if(hr===wr)return Ir();this.stat(hr,!1,function(Br,zr){return Br?Ir(Br):Tr.stat(wr,!1,function(Xr,li){var mi=Tr;function Ii(Li){var Gi=Li.shift();if(!Gi)return Ir();var Qi=mr.resolve(hr,Gi),ea=mr.resolve(wr,Gi);mi.rename(Qi,ea,function(_a){if(_a)return Ir(_a);Ii(Li)})}var Ni=511;if(zr.isDirectory()){if(Xr)return Xr.errno!==_r.ENOENT?Ir(Xr):Tr._writable.exists(hr,function(Li){if(Li)return Tr._writable.rename(hr,wr,Ir);Tr._writable.mkdir(wr,Ni,function(Gi){if(Gi)return Ir(Gi);Tr._readable.readdir(hr,function(Qi,ea){if(Qi)return Ir();Ii(ea)})})});if(Ni=li.mode,!li.isDirectory())return Ir(yr.ENOTDIR(wr));Tr.readdir(wr,function(Li,Gi){if(Gi&&Gi.length)return Ir(yr.ENOTEMPTY(wr));Tr._readable.readdir(hr,function(Qi,ea){if(Qi)return Ir();Ii(ea)})})}if(li&&li.isDirectory())return Ir(yr.EISDIR(wr));Tr.readFile(hr,null,$a("r"),function(Li,Gi){return Li?Ir(Li):Tr.writeFile(wr,Gi,null,$a("w"),zr.mode,function(Qi){return Qi?Ir(Qi):Tr.unlink(hr,Ir)})})})})}},dr.prototype.renameSync=function(hr,wr){var Ir=this;if(this.checkInitialized(),this.checkPath(hr),this.checkPath(wr),hr===To||wr===To)throw yr.EPERM("Cannot rename deletion log.");var Tr=this.statSync(hr,!1);if(Tr.isDirectory()){if(hr===wr)return;var Br=511;if(this.existsSync(wr)){var zr=this.statSync(wr,!1);if(Br=zr.mode,zr.isDirectory()){if(this.readdirSync(wr).length>0)throw yr.ENOTEMPTY(wr)}else throw yr.ENOTDIR(wr)}this._writable.existsSync(hr)?this._writable.renameSync(hr,wr):this._writable.existsSync(wr)||this._writable.mkdirSync(wr,Br),this._readable.existsSync(hr)&&this._readable.readdirSync(hr).forEach(function(Xr){Ir.renameSync(mr.resolve(hr,Xr),mr.resolve(wr,Xr))})}else{if(this.existsSync(wr)&&this.statSync(wr,!1).isDirectory())throw yr.EISDIR(wr);this.writeFileSync(wr,this.readFileSync(hr,null,$a("r")),null,$a("w"),Tr.mode)}hr!==wr&&this.existsSync(hr)&&this.unlinkSync(hr)},dr.prototype.stat=function(hr,wr,Ir){var Tr=this;this.checkInitAsync(Ir)&&this._writable.stat(hr,wr,function(Br,zr){Br&&Br.errno===_r.ENOENT?(Tr._deletedFiles[hr]&&Ir(yr.ENOENT(hr)),Tr._readable.stat(hr,wr,function(Xr,li){li&&(li=li.clone(),li.mode=_l(li.mode)),Ir(Xr,li)})):Ir(Br,zr)})},dr.prototype.statSync=function(hr,wr){this.checkInitialized();try{return this._writable.statSync(hr,wr)}catch{if(this._deletedFiles[hr])throw yr.ENOENT(hr);var Ir=this._readable.statSync(hr,wr).clone();return Ir.mode=_l(Ir.mode),Ir}},dr.prototype.open=function(hr,wr,Ir,Tr){var Br=this;!this.checkInitAsync(Tr)||this.checkPathAsync(hr,Tr)||this.stat(hr,!1,function(zr,Xr){if(Xr)switch(wr.pathExistsAction()){case Ar.TRUNCATE_FILE:return Br.createParentDirectoriesAsync(hr,function(li){if(li)return Tr(li);Br._writable.open(hr,wr,Ir,Tr)});case Ar.NOP:return Br._writable.exists(hr,function(li){li?Br._writable.open(hr,wr,Ir,Tr):(Xr=Xr.clone(),Xr.mode=Ir,Br._readable.readFile(hr,null,$a("r"),function(mi,Ii){if(mi)return Tr(mi);Xr.size===-1&&(Xr.size=Ii.length);var Ni=new vl(Br,hr,wr,Xr,Ii);Tr(null,Ni)}))});default:return Tr(yr.EEXIST(hr))}else switch(wr.pathNotExistsAction()){case Ar.CREATE_FILE:return Br.createParentDirectoriesAsync(hr,function(li){return li?Tr(li):Br._writable.open(hr,wr,Ir,Tr)});default:return Tr(yr.ENOENT(hr))}})},dr.prototype.openSync=function(hr,wr,Ir){if(this.checkInitialized(),this.checkPath(hr),hr===To)throw yr.EPERM("Cannot open deletion log.");if(this.existsSync(hr))switch(wr.pathExistsAction()){case Ar.TRUNCATE_FILE:return this.createParentDirectories(hr),this._writable.openSync(hr,wr,Ir);case Ar.NOP:if(this._writable.existsSync(hr))return this._writable.openSync(hr,wr,Ir);var Tr=this._readable.readFileSync(hr,null,$a("r")),Br=this._readable.statSync(hr,!1).clone();return Br.mode=Ir,new vl(this,hr,wr,Br,Tr);default:throw yr.EEXIST(hr)}else switch(wr.pathNotExistsAction()){case Ar.CREATE_FILE:return this.createParentDirectories(hr),this._writable.openSync(hr,wr,Ir);default:throw yr.ENOENT(hr)}},dr.prototype.unlink=function(hr,wr){var Ir=this;!this.checkInitAsync(wr)||this.checkPathAsync(hr,wr)||this.exists(hr,function(Tr){if(!Tr)return wr(yr.ENOENT(hr));Ir._writable.exists(hr,function(Br){if(Br)return Ir._writable.unlink(hr,function(zr){if(zr)return wr(zr);Ir.exists(hr,function(Xr){Xr&&Ir.deletePath(hr),wr(null)})});Ir.deletePath(hr),wr(null)})})},dr.prototype.unlinkSync=function(hr){if(this.checkInitialized(),this.checkPath(hr),this.existsSync(hr))this._writable.existsSync(hr)&&this._writable.unlinkSync(hr),this.existsSync(hr)&&this.deletePath(hr);else throw yr.ENOENT(hr)},dr.prototype.rmdir=function(hr,wr){var Ir=this;if(this.checkInitAsync(wr)){var Tr=function(){Ir.readdir(hr,function(Br,zr){if(Br)return wr(Br);if(zr.length)return wr(yr.ENOTEMPTY(hr));Ir.deletePath(hr),wr(null)})};this.exists(hr,function(Br){if(!Br)return wr(yr.ENOENT(hr));Ir._writable.exists(hr,function(zr){zr?Ir._writable.rmdir(hr,function(Xr){if(Xr)return wr(Xr);Ir._readable.exists(hr,function(li){li?Tr():wr()})}):Tr()})})}},dr.prototype.rmdirSync=function(hr){if(this.checkInitialized(),this.existsSync(hr)){if(this._writable.existsSync(hr)&&this._writable.rmdirSync(hr),this.existsSync(hr)){if(this.readdirSync(hr).length>0)throw yr.ENOTEMPTY(hr);this.deletePath(hr)}}else throw yr.ENOENT(hr)},dr.prototype.mkdir=function(hr,wr,Ir){var Tr=this;this.checkInitAsync(Ir)&&this.exists(hr,function(Br){if(Br)return Ir(yr.EEXIST(hr));Tr.createParentDirectoriesAsync(hr,function(zr){if(zr)return Ir(zr);Tr._writable.mkdir(hr,wr,Ir)})})},dr.prototype.mkdirSync=function(hr,wr){if(this.checkInitialized(),this.existsSync(hr))throw yr.EEXIST(hr);this.createParentDirectories(hr),this._writable.mkdirSync(hr,wr)},dr.prototype.readdir=function(hr,wr){var Ir=this;this.checkInitAsync(wr)&&this.stat(hr,!1,function(Tr,Br){if(Tr)return wr(Tr);if(!Br.isDirectory())return wr(yr.ENOTDIR(hr));Ir._writable.readdir(hr,function(zr,Xr){if(zr&&zr.code!=="ENOENT")return wr(zr);(zr||!Xr)&&(Xr=[]),Ir._readable.readdir(hr,function(li,mi){(li||!mi)&&(mi=[]);var Ii={},Ni=Xr.concat(mi.filter(function(Li){return!Ir._deletedFiles[hr+"/"+Li]})).filter(function(Li){var Gi=!Ii[Li];return Ii[Li]=!0,Gi});wr(null,Ni)})})})},dr.prototype.readdirSync=function(hr){var wr=this;this.checkInitialized();var Ir=this.statSync(hr,!1);if(!Ir.isDirectory())throw yr.ENOTDIR(hr);var Tr=[];try{Tr=Tr.concat(this._writable.readdirSync(hr))}catch{}try{Tr=Tr.concat(this._readable.readdirSync(hr).filter(function(zr){return!wr._deletedFiles[hr+"/"+zr]}))}catch{}var Br={};return Tr.filter(function(zr){var Xr=!Br[zr];return Br[zr]=!0,Xr})},dr.prototype.exists=function(hr,wr){var Ir=this;this.checkInitialized(),this._writable.exists(hr,function(Tr){if(Tr)return wr(!0);Ir._readable.exists(hr,function(Br){wr(Br&&Ir._deletedFiles[hr]!==!0)})})},dr.prototype.existsSync=function(hr){return this.checkInitialized(),this._writable.existsSync(hr)||this._readable.existsSync(hr)&&this._deletedFiles[hr]!==!0},dr.prototype.chmod=function(hr,wr,Ir,Tr){var Br=this;this.checkInitAsync(Tr)&&this.operateOnWritableAsync(hr,function(zr){if(zr)return Tr(zr);Br._writable.chmod(hr,wr,Ir,Tr)})},dr.prototype.chmodSync=function(hr,wr,Ir){var Tr=this;this.checkInitialized(),this.operateOnWritable(hr,function(){Tr._writable.chmodSync(hr,wr,Ir)})},dr.prototype.chown=function(hr,wr,Ir,Tr,Br){var zr=this;this.checkInitAsync(Br)&&this.operateOnWritableAsync(hr,function(Xr){if(Xr)return Br(Xr);zr._writable.chown(hr,wr,Ir,Tr,Br)})},dr.prototype.chownSync=function(hr,wr,Ir,Tr){var Br=this;this.checkInitialized(),this.operateOnWritable(hr,function(){Br._writable.chownSync(hr,wr,Ir,Tr)})},dr.prototype.utimes=function(hr,wr,Ir,Tr){var Br=this;this.checkInitAsync(Tr)&&this.operateOnWritableAsync(hr,function(zr){if(zr)return Tr(zr);Br._writable.utimes(hr,wr,Ir,Tr)})},dr.prototype.utimesSync=function(hr,wr,Ir){var Tr=this;this.checkInitialized(),this.operateOnWritable(hr,function(){Tr._writable.utimesSync(hr,wr,Ir)})},dr.prototype.deletePath=function(hr){this._deletedFiles[hr]=!0,this.updateLog("d"+hr+`
`)},dr.prototype.updateLog=function(hr){var wr=this;this._deleteLog+=hr,this._deleteLogUpdatePending?this._deleteLogUpdateNeeded=!0:(this._deleteLogUpdatePending=!0,this._writable.writeFile(To,this._deleteLog,"utf8",kr.getFileFlag("w"),420,function(Ir){wr._deleteLogUpdatePending=!1,Ir?wr._deleteLogError=Ir:wr._deleteLogUpdateNeeded&&(wr._deleteLogUpdateNeeded=!1,wr.updateLog(""))}))},dr.prototype._reparseDeletionLog=function(){var hr=this;this._deletedFiles={},this._deleteLog.split(`
`).forEach(function(wr){hr._deletedFiles[wr.slice(1)]=wr.slice(0,1)==="d"})},dr.prototype.checkInitialized=function(){if(this._isInitialized){if(this._deleteLogError!==null){var hr=this._deleteLogError;throw this._deleteLogError=null,hr}}else throw new yr(_r.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.")},dr.prototype.checkInitAsync=function(hr){if(this._isInitialized){if(this._deleteLogError!==null){var wr=this._deleteLogError;return this._deleteLogError=null,hr(wr),!1}}else return hr(new yr(_r.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.")),!1;return!0},dr.prototype.checkPath=function(hr){if(hr===To)throw yr.EPERM(hr)},dr.prototype.checkPathAsync=function(hr,wr){return hr===To?(wr(yr.EPERM(hr)),!0):!1},dr.prototype.createParentDirectoriesAsync=function(hr,wr){var Ir=mr.dirname(hr),Tr=[],Br=this;this._writable.stat(Ir,!1,zr);function zr(li,mi){li?(Tr.push(Ir),Ir=mr.dirname(Ir),Br._writable.stat(Ir,!1,zr)):Xr()}function Xr(){if(!Tr.length)return wr();var li=Tr.pop();Br._readable.stat(li,!1,function(mi,Ii){if(!Ii)return wr();Br._writable.mkdir(li,Ii.mode,function(Ni){if(Ni)return wr(Ni);Xr()})})}},dr.prototype.createParentDirectories=function(hr){for(var wr=this,Ir=mr.dirname(hr),Tr=[];!this._writable.existsSync(Ir);)Tr.push(Ir),Ir=mr.dirname(Ir);Tr=Tr.reverse(),Tr.forEach(function(Br){wr._writable.mkdirSync(Br,wr.statSync(Br,!1).mode)})},dr.prototype.operateOnWritable=function(hr,wr){if(this.existsSync(hr))this._writable.existsSync(hr)||this.copyToWritable(hr),wr();else throw yr.ENOENT(hr)},dr.prototype.operateOnWritableAsync=function(hr,wr){var Ir=this;this.exists(hr,function(Tr){if(!Tr)return wr(yr.ENOENT(hr));Ir._writable.exists(hr,function(Br){if(Br)wr();else return Ir.copyToWritableAsync(hr,wr)})})},dr.prototype.copyToWritable=function(hr){var wr=this.statSync(hr,!1);wr.isDirectory()?this._writable.mkdirSync(hr,wr.mode):this.writeFileSync(hr,this._readable.readFileSync(hr,null,$a("r")),null,$a("w"),this.statSync(hr,!1).mode)},dr.prototype.copyToWritableAsync=function(hr,wr){var Ir=this;this.stat(hr,!1,function(Tr,Br){if(Tr)return wr(Tr);if(Br.isDirectory())return Ir._writable.mkdir(hr,Br.mode,wr);Ir._readable.readFile(hr,null,$a("r"),function(zr,Xr){if(zr)return wr(zr);Ir.writeFile(hr,Xr,null,$a("w"),Br.mode,wr)})})},dr}(di),c0=function(Er){function dr(vr,hr,wr){wr===void 0&&(wr=!0),Er.call(this,new ml(vr,hr)),Ei(wr,dr.Name,{readable:"readable file system",writable:"writable file system"})}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.Create=function(hr,wr){try{var Ir=new dr(hr.writable,hr.readable,!1);Ir.initialize(function(Tr){wr(Tr,Ir)},!1)}catch(Tr){wr(Tr)}},dr.isAvailable=function(){return ml.isAvailable()},dr.prototype.initialize=function(hr,wr){wr===void 0&&(wr=!0),wr&&console.warn("[OverlayFS] OverlayFS.initialize() is deprecated and will be removed in the next major release. Please use 'OverlayFS.Create({readable: readable file system instance, writable: writable file system instance}, cb)' to create and initialize OverlayFS instances."),Er.prototype.initialize.call(this,hr)},dr.prototype.getOverlayedFileSystems=function(){return Er.prototype.getFSUnlocked.call(this).getOverlayedFileSystems()},dr.prototype.unwrap=function(){return Er.prototype.getFSUnlocked.call(this)},dr}(Ji);c0.Name="OverlayFS",c0.Options={writable:{type:"object",description:"The file system to write modified files to."},readable:{type:"object",description:"The file system that initially populates this file system."}};var pa;(function(Er){Er[Er.CB=0]="CB",Er[Er.FD=1]="FD",Er[Er.API_ERROR=2]="API_ERROR",Er[Er.STATS=3]="STATS",Er[Er.PROBE=4]="PROBE",Er[Er.FILEFLAG=5]="FILEFLAG",Er[Er.BUFFER=6]="BUFFER",Er[Er.ERROR=7]="ERROR"})(pa||(pa={}));var Eu=function(){this._callbacks={},this._nextId=0};Eu.prototype.toRemoteArg=function(dr){var vr=this._nextId++;return this._callbacks[vr]=dr,{type:pa.CB,id:vr}},Eu.prototype.toLocalArg=function(dr){var vr=this._callbacks[dr];return delete this._callbacks[dr],vr};var nc=function(){this._fileDescriptors={},this._nextId=0};nc.prototype.toRemoteArg=function(dr,vr,hr,wr){var Ir=this._nextId++,Tr,Br;this._fileDescriptors[Ir]=dr,dr.stat(function(zr,Xr){zr?wr(zr):(Br=Xo(Xr.toBuffer()),hr.isReadable()?dr.read(fr.alloc(Xr.size),0,Xr.size,0,function(li,mi,Ii){li?wr(li):(Tr=Xo(Ii),wr(null,{type:pa.FD,id:Ir,data:Tr,stat:Br,path:vr,flag:hr.getFlagString()}))}):wr(null,{type:pa.FD,id:Ir,data:new ArrayBuffer(0),stat:Br,path:vr,flag:hr.getFlagString()}))})},nc.prototype.applyFdAPIRequest=function(dr,vr){var hr=this,wr=dr.args[0];this._applyFdChanges(wr,function(Ir,Tr){Ir?vr(Ir):Tr[dr.method](function(Br){dr.method==="close"&&delete hr._fileDescriptors[wr.id],vr(Br)})})},nc.prototype._applyFdChanges=function(dr,vr){var hr=this._fileDescriptors[dr.id],wr=Qo(dr.data),Ir=Dr.fromBuffer(Qo(dr.stat)),Tr=kr.getFileFlag(dr.flag);Tr.isWriteable()?hr.write(wr,0,wr.length,Tr.isAppendable()?hr.getPos():0,function(Br){function zr(){hr.stat(function(Xr,li){Xr?vr(Xr):li.mode!==Ir.mode?hr.chmod(Ir.mode,function(mi){vr(mi,hr)}):vr(Xr,hr)})}Br?vr(Br):Tr.isAppendable()?zr():hr.truncate(wr.length,function(){zr()})}):vr(null,hr)};function ic(Er){return{type:pa.API_ERROR,errorData:Xo(Er.writeToBuffer())}}function gl(Er){return yr.fromBuffer(Qo(Er.errorData))}function yl(Er){return{type:pa.ERROR,name:Er.name,message:Er.message,stack:Er.stack}}function bl(Er){var dr=Aa[Er.name];typeof dr!="function"&&(dr=Error);var vr=new dr(Er.message);return vr.stack=Er.stack,vr}function El(Er){return{type:pa.STATS,statsData:Xo(Er.toBuffer())}}function wl(Er){return Dr.fromBuffer(Qo(Er.statsData))}function Sl(Er){return{type:pa.FILEFLAG,flagStr:Er.getFlagString()}}function Al(Er){return kr.getFileFlag(Er.flagStr)}function Xo(Er){return $r(Er)}function Qo(Er){return bi(Er)}function Il(Er){return{type:pa.BUFFER,data:Xo(Er)}}function Cl(Er){return Qo(Er.data)}function hh(Er){return Er&&typeof Er=="object"&&Er.hasOwnProperty("browserfsMessage")&&Er.browserfsMessage}function xh(Er){return Er&&typeof Er=="object"&&Er.hasOwnProperty("browserfsMessage")&&Er.browserfsMessage}var kl=function(Er){function dr(vr,hr,wr,Ir,Tr,Br){Er.call(this,vr,hr,wr,Ir,Br),this._remoteFdId=Tr}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.prototype.getRemoteFdId=function(){return this._remoteFdId},dr.prototype.toRemoteArg=function(){return{type:pa.FD,id:this._remoteFdId,data:Xo(this.getBuffer()),stat:Xo(this.getStats().toBuffer()),path:this.getPath(),flag:this.getFlag().getFlagString()}},dr.prototype.sync=function(hr){this._syncClose("sync",hr)},dr.prototype.close=function(hr){this._syncClose("close",hr)},dr.prototype._syncClose=function(hr,wr){var Ir=this;this.isDirty()?this._fs.syncClose(hr,this,function(Tr){Tr||Ir.resetDirty(),wr(Tr)}):wr()},dr}(ri),ac=function(Er){function dr(vr,hr){var wr=this;hr===void 0&&(hr=!0),Er.call(this),this._callbackConverter=new Eu,this._isInitialized=!1,this._isReadOnly=!1,this._supportLinks=!1,this._supportProps=!1,this._worker=vr,Ei(hr,dr.Name,{worker:"Web Worker instance"}),this._worker.addEventListener("message",function(Ir){var Tr=Ir.data;if(xh(Tr)){var Br,zr=Tr.args,Xr=new Array(zr.length);for(Br=0;Br<Xr.length;Br++)Xr[Br]=wr._argRemote2Local(zr[Br]);wr._callbackConverter.toLocalArg(Tr.cbId).apply(null,Xr)}})}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.Create=function(hr,wr){var Ir=new dr(hr.worker,!1);Ir.initialize(function(){wr(null,Ir)})},dr.isAvailable=function(){return typeof importScripts<"u"||typeof Worker<"u"},dr.attachRemoteListener=function(hr){var wr=new nc;function Ir(Br,zr,Xr){switch(typeof Br){case"object":Br instanceof Dr?Xr(null,El(Br)):Br instanceof yr?Xr(null,ic(Br)):Br instanceof ti?Xr(null,wr.toRemoteArg(Br,zr[0],zr[1],Xr)):Br instanceof kr?Xr(null,Sl(Br)):Br instanceof fr?Xr(null,Il(Br)):Br instanceof Error?Xr(null,yl(Br)):Xr(null,Br);break;default:Xr(null,Br);break}}function Tr(Br,zr){if(!Br)return Br;switch(typeof Br){case"object":if(typeof Br.type=="number"){var Xr=Br;switch(Xr.type){case pa.CB:var li=Br.id;return function(){var mi=arguments,Ii,Ni=new Array(arguments.length),Li,Gi=arguments.length;function Qi(ea){Gi>0&&(Gi=-1,Li={browserfsMessage:!0,cbId:li,args:[ic(ea)]},hr.postMessage(Li))}for(Ii=0;Ii<arguments.length;Ii++)(function(ea,_a){Ir(_a,zr,function(Na,yo){Ni[ea]=yo,Na?Qi(Na):--Gi===0&&(Li={browserfsMessage:!0,cbId:li,args:Ni},hr.postMessage(Li))})})(Ii,mi[Ii]);arguments.length===0&&(Li={browserfsMessage:!0,cbId:li,args:Ni},hr.postMessage(Li))};case pa.API_ERROR:return gl(Xr);case pa.STATS:return wl(Xr);case pa.FILEFLAG:return Al(Xr);case pa.BUFFER:return Cl(Xr);case pa.ERROR:return bl(Xr);default:return Br}}else return Br;default:return Br}}hr.addEventListener("message",function(Br){var zr=Br.data;if(hh(zr)){var Xr=zr.args,li=new Array(Xr.length);switch(zr.method){case"close":case"sync":(function(){var Ni=Xr[1];wr.applyFdAPIRequest(zr,function(Li){var Gi={browserfsMessage:!0,cbId:Ni.id,args:Li?[ic(Li)]:[]};hr.postMessage(Gi)})})();break;case"probe":(function(){var Ni=Wr.getRootFS(),Li=Xr[1],Gi={type:pa.PROBE,isReadOnly:Ni.isReadOnly(),supportsLinks:Ni.supportsLinks(),supportsProps:Ni.supportsProps()},Qi={browserfsMessage:!0,cbId:Li.id,args:[Gi]};hr.postMessage(Qi)})();break;default:for(var mi=0;mi<Xr.length;mi++)li[mi]=Tr(Xr[mi],li);var Ii=Wr.getRootFS();Ii[zr.method].apply(Ii,li);break}}})},dr.prototype.getName=function(){return dr.Name},dr.prototype.initialize=function(hr){var wr=this;if(this._isInitialized)hr();else{var Ir={browserfsMessage:!0,method:"probe",args:[this._argLocal2Remote(Ti()),this._callbackConverter.toRemoteArg(function(Tr){wr._isInitialized=!0,wr._isReadOnly=Tr.isReadOnly,wr._supportLinks=Tr.supportsLinks,wr._supportProps=Tr.supportsProps,hr()})]};this._worker.postMessage(Ir)}},dr.prototype.isReadOnly=function(){return this._isReadOnly},dr.prototype.supportsSynch=function(){return!1},dr.prototype.supportsLinks=function(){return this._supportLinks},dr.prototype.supportsProps=function(){return this._supportProps},dr.prototype.rename=function(hr,wr,Ir){this._rpc("rename",arguments)},dr.prototype.stat=function(hr,wr,Ir){this._rpc("stat",arguments)},dr.prototype.open=function(hr,wr,Ir,Tr){this._rpc("open",arguments)},dr.prototype.unlink=function(hr,wr){this._rpc("unlink",arguments)},dr.prototype.rmdir=function(hr,wr){this._rpc("rmdir",arguments)},dr.prototype.mkdir=function(hr,wr,Ir){this._rpc("mkdir",arguments)},dr.prototype.readdir=function(hr,wr){this._rpc("readdir",arguments)},dr.prototype.exists=function(hr,wr){this._rpc("exists",arguments)},dr.prototype.realpath=function(hr,wr,Ir){this._rpc("realpath",arguments)},dr.prototype.truncate=function(hr,wr,Ir){this._rpc("truncate",arguments)},dr.prototype.readFile=function(hr,wr,Ir,Tr){this._rpc("readFile",arguments)},dr.prototype.writeFile=function(hr,wr,Ir,Tr,Br,zr){this._rpc("writeFile",arguments)},dr.prototype.appendFile=function(hr,wr,Ir,Tr,Br,zr){this._rpc("appendFile",arguments)},dr.prototype.chmod=function(hr,wr,Ir,Tr){this._rpc("chmod",arguments)},dr.prototype.chown=function(hr,wr,Ir,Tr,Br){this._rpc("chown",arguments)},dr.prototype.utimes=function(hr,wr,Ir,Tr){this._rpc("utimes",arguments)},dr.prototype.link=function(hr,wr,Ir){this._rpc("link",arguments)},dr.prototype.symlink=function(hr,wr,Ir,Tr){this._rpc("symlink",arguments)},dr.prototype.readlink=function(hr,wr){this._rpc("readlink",arguments)},dr.prototype.syncClose=function(hr,wr,Ir){this._worker.postMessage({browserfsMessage:!0,method:hr,args:[wr.toRemoteArg(),this._callbackConverter.toRemoteArg(Ir)]})},dr.prototype._argRemote2Local=function(hr){if(!hr)return hr;switch(typeof hr){case"object":if(typeof hr.type=="number"){var wr=hr;switch(wr.type){case pa.API_ERROR:return gl(wr);case pa.FD:var Ir=wr;return new kl(this,Ir.path,kr.getFileFlag(Ir.flag),Dr.fromBuffer(Qo(Ir.stat)),Ir.id,Qo(Ir.data));case pa.STATS:return wl(wr);case pa.FILEFLAG:return Al(wr);case pa.BUFFER:return Cl(wr);case pa.ERROR:return bl(wr);default:return hr}}else return hr;default:return hr}},dr.prototype._rpc=function(hr,wr){for(var Ir=this,Tr=new Array(wr.length),Br=0;Br<wr.length;Br++)Tr[Br]=Ir._argLocal2Remote(wr[Br]);var zr={browserfsMessage:!0,method:hr,args:Tr};this._worker.postMessage(zr)},dr.prototype._argLocal2Remote=function(hr){if(!hr)return hr;switch(typeof hr){case"object":return hr instanceof Dr?El(hr):hr instanceof yr?ic(hr):hr instanceof kl?hr.toRemoteArg():hr instanceof kr?Sl(hr):hr instanceof fr?Il(hr):hr instanceof Error?yl(hr):"Unknown argument";case"function":return this._callbackConverter.toRemoteArg(hr);default:return hr}},dr}(di);ac.Name="WorkerFS",ac.Options={worker:{type:"object",description:"The target worker that you want to connect to, or the current worker if in a worker context.",validator:function(Er,dr){Er.postMessage?dr():dr(new yr(_r.EINVAL,"option must be a Web Worker instance."))}}};function ph(Er,dr,vr){var hr=new XMLHttpRequest;hr.open("GET",Er,!0);var wr=!0;switch(dr){case"buffer":hr.responseType="arraybuffer";break;case"json":try{hr.responseType="json",wr=hr.responseType==="json"}catch{wr=!1}break;default:return vr(new yr(_r.EINVAL,"Invalid download type: "+dr))}hr.onreadystatechange=function(Ir){if(hr.readyState===4)if(hr.status===200)switch(dr){case"buffer":return vr(null,hr.response?fr.from(hr.response):Ti());case"json":return wr?vr(null,hr.response):vr(null,JSON.parse(hr.responseText))}else return vr(new yr(hr.status,"XHR error."))},hr.send()}function _h(Er,dr){var vr=new XMLHttpRequest;vr.open("GET",Er,!1);var hr=null,wr=null;if(vr.overrideMimeType("text/plain; charset=x-user-defined"),vr.onreadystatechange=function(Ir){if(vr.readyState===4)if(vr.status===200)switch(dr){case"buffer":var Tr=vr.responseText;hr=fr.alloc(Tr.length);for(var Br=0;Br<Tr.length;Br++)hr[Br]=Tr.charCodeAt(Br);return;case"json":hr=JSON.parse(vr.responseText);return}else{wr=new yr(vr.status,"XHR error.");return}},vr.send(),wr)throw wr;return hr}function vh(Er,dr){var vr=new XMLHttpRequest;switch(vr.open("GET",Er,!1),dr){case"buffer":vr.responseType="arraybuffer";break;case"json":break;default:throw new yr(_r.EINVAL,"Invalid download type: "+dr)}var hr,wr;if(vr.onreadystatechange=function(Ir){if(vr.readyState===4)if(vr.status===200)switch(dr){case"buffer":hr=fr.from(vr.response);break;case"json":hr=JSON.parse(vr.response);break}else wr=new yr(vr.status,"XHR error.")},vr.send(),wr)throw wr;return hr}function Ol(Er,dr,vr){var hr=new XMLHttpRequest;hr.open("HEAD",dr,Er),hr.onreadystatechange=function(wr){if(hr.readyState===4)if(hr.status===200)try{return vr(null,parseInt(hr.getResponseHeader("Content-Length")||"-1",10))}catch{return vr(new yr(_r.EIO,"XHR HEAD error: Could not read content-length."))}else return vr(new yr(hr.status,"XHR HEAD error."))},hr.send()}var Tl=ph,mh=_i&&typeof Blob<"u"?vh:_h;function gh(Er){var dr=-1;return Ol(!1,Er,function(vr,hr){if(vr)throw vr;dr=hr}),dr}function yh(Er,dr){Ol(!0,Er,dr)}var io=function(){this._index={},this.addPath("/",new Wa)};io.fromListing=function(dr){var vr=new io,hr=new Wa;vr._index["/"]=hr;for(var wr=[["",dr,hr]];wr.length>0;){var Ir=void 0,Tr=wr.pop(),Br=Tr[0],zr=Tr[1],Xr=Tr[2];for(var li in zr)if(zr.hasOwnProperty(li)){var mi=zr[li],Ii=Br+"/"+li;mi?(vr._index[Ii]=Ir=new Wa,wr.push([Ii,mi,Ir])):Ir=new Es(new Dr(Or.FILE,-1,365)),Xr&&(Xr._ls[li]=Ir)}}return vr},io.prototype.fileIterator=function(dr){var vr=this;for(var hr in vr._index)if(vr._index.hasOwnProperty(hr))for(var wr=vr._index[hr],Ir=wr.getListing(),Tr=0,Br=Ir;Tr<Br.length;Tr+=1){var zr=Br[Tr],Xr=wr.getItem(zr);Do(Xr)&&dr(Xr.getData())}},io.prototype.addPath=function(dr,vr){if(!vr)throw new Error("Inode must be specified");if(dr[0]!=="/")throw new Error("Path must be absolute, got: "+dr);if(this._index.hasOwnProperty(dr))return this._index[dr]===vr;var hr=this._split_path(dr),wr=hr[0],Ir=hr[1],Tr=this._index[wr];return Tr===void 0&&dr!=="/"&&(Tr=new Wa,!this.addPath(wr,Tr))||dr!=="/"&&!Tr.addItem(Ir,vr)?!1:(Lo(vr)&&(this._index[dr]=vr),!0)},io.prototype.addPathFast=function(dr,vr){var hr=dr.lastIndexOf("/"),wr=hr===0?"/":dr.substring(0,hr),Ir=dr.substring(hr+1),Tr=this._index[wr];return Tr===void 0&&(Tr=new Wa,this.addPathFast(wr,Tr)),Tr.addItem(Ir,vr)?(vr.isDir()&&(this._index[dr]=vr),!0):!1},io.prototype.removePath=function(dr){var vr=this,hr=this._split_path(dr),wr=hr[0],Ir=hr[1],Tr=this._index[wr];if(Tr===void 0)return null;var Br=Tr.remItem(Ir);if(Br===null)return null;if(Lo(Br)){for(var zr=Br.getListing(),Xr=0,li=zr;Xr<li.length;Xr+=1){var mi=li[Xr];vr.removePath(dr+"/"+mi)}dr!=="/"&&delete this._index[dr]}return Br},io.prototype.ls=function(dr){var vr=this._index[dr];return vr===void 0?null:vr.getListing()},io.prototype.getInode=function(dr){var vr=this._split_path(dr),hr=vr[0],wr=vr[1],Ir=this._index[hr];return Ir===void 0?null:hr===dr?Ir:Ir.getItem(wr)},io.prototype._split_path=function(dr){var vr=mr.dirname(dr),hr=dr.substr(vr.length+(vr==="/"?0:1));return[vr,hr]};var Es=function(dr){this.data=dr};Es.prototype.isFile=function(){return!0},Es.prototype.isDir=function(){return!1},Es.prototype.getData=function(){return this.data},Es.prototype.setData=function(dr){this.data=dr};var Wa=function(dr){dr===void 0&&(dr=null),this.data=dr,this._ls={}};Wa.prototype.isFile=function(){return!1},Wa.prototype.isDir=function(){return!0},Wa.prototype.getData=function(){return this.data},Wa.prototype.getStats=function(){return new Dr(Or.DIRECTORY,4096,365)},Wa.prototype.getListing=function(){return Object.keys(this._ls)},Wa.prototype.getItem=function(dr){var vr=this._ls[dr];return vr||null},Wa.prototype.addItem=function(dr,vr){return dr in this._ls?!1:(this._ls[dr]=vr,!0)},Wa.prototype.remItem=function(dr){var vr=this._ls[dr];return vr===void 0?null:(delete this._ls[dr],vr)};function Do(Er){return!!Er&&Er.isFile()}function Lo(Er){return!!Er&&Er.isDir()}function bh(Er,dr,vr){try{vr(null,Er.toString(dr))}catch(hr){vr(hr)}}var oc=function(Er){function dr(vr,hr,wr){hr===void 0&&(hr=""),wr===void 0&&(wr=!0),Er.call(this),vr||(vr="index.json"),hr.length>0&&hr.charAt(hr.length-1)!=="/"&&(hr=hr+"/"),this.prefixUrl=hr;var Ir=null;if(typeof vr=="string"){if(Ir=this._requestFileSync(vr,"json"),!Ir)throw new Error("Unable to find listing at URL: ${listingUrlOrObj}")}else Ir=vr;Ei(wr,dr.Name,{index:typeof vr=="string"?vr:"file index as an object",baseUrl:hr}),this._index=io.fromListing(Ir)}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.Create=function(hr,wr){hr.index===void 0&&(hr.index="index.json"),typeof hr.index=="string"?dr.FromURL(hr.index,wr,hr.baseUrl,!1):wr(null,new dr(hr.index,hr.baseUrl,!1))},dr.isAvailable=function(){return typeof XMLHttpRequest<"u"&&XMLHttpRequest!==null},dr.FromURL=function(hr,wr,Ir,Tr){Ir===void 0&&(Ir=hr.slice(0,hr.lastIndexOf("/")+1)),Tr===void 0&&(Tr=!0),Tr&&console.warn(`[XmlHttpRequest] XmlHttpRequest.FromURL() is deprecated and will be removed in the next major release. Please use 'XmlHttpRequest.Create({ index: "`+hr+'", baseUrl: "'+Ir+`" }, cb)' instead.`),Tl(hr,"json",function(Br,zr){Br?wr(Br):wr(null,new dr(zr,Ir,!1))})},dr.prototype.empty=function(){this._index.fileIterator(function(hr){hr.fileData=null})},dr.prototype.getName=function(){return dr.Name},dr.prototype.diskSpace=function(hr,wr){wr(0,0)},dr.prototype.isReadOnly=function(){return!0},dr.prototype.supportsLinks=function(){return!1},dr.prototype.supportsProps=function(){return!1},dr.prototype.supportsSynch=function(){return!0},dr.prototype.preloadFile=function(hr,wr){var Ir=this._index.getInode(hr);if(Do(Ir)){if(Ir===null)throw yr.ENOENT(hr);var Tr=Ir.getData();Tr.size=wr.length,Tr.fileData=wr}else throw yr.EISDIR(hr)},dr.prototype.stat=function(hr,wr,Ir){var Tr=this._index.getInode(hr);if(Tr===null)return Ir(yr.ENOENT(hr));var Br;Do(Tr)?(Br=Tr.getData(),Br.size<0?this._requestFileSizeAsync(hr,function(zr,Xr){if(zr)return Ir(zr);Br.size=Xr,Ir(null,Br.clone())}):Ir(null,Br.clone())):Lo(Tr)?(Br=Tr.getStats(),Ir(null,Br)):Ir(yr.FileError(_r.EINVAL,hr))},dr.prototype.statSync=function(hr,wr){var Ir=this._index.getInode(hr);if(Ir===null)throw yr.ENOENT(hr);var Tr;if(Do(Ir))Tr=Ir.getData(),Tr.size<0&&(Tr.size=this._requestFileSizeSync(hr));else if(Lo(Ir))Tr=Ir.getStats();else throw yr.FileError(_r.EINVAL,hr);return Tr},dr.prototype.open=function(hr,wr,Ir,Tr){if(wr.isWriteable())return Tr(new yr(_r.EPERM,hr));var Br=this,zr=this._index.getInode(hr);if(zr===null)return Tr(yr.ENOENT(hr));if(Do(zr)){var Xr=zr.getData();switch(wr.pathExistsAction()){case Ar.THROW_EXCEPTION:case Ar.TRUNCATE_FILE:return Tr(yr.EEXIST(hr));case Ar.NOP:if(Xr.fileData)return Tr(null,new xi(Br,hr,wr,Xr.clone(),Xr.fileData));this._requestFileAsync(hr,"buffer",function(li,mi){return li?Tr(li):(Xr.size=mi.length,Xr.fileData=mi,Tr(null,new xi(Br,hr,wr,Xr.clone(),mi)))});break;default:return Tr(new yr(_r.EINVAL,"Invalid FileMode object."))}}else return Tr(yr.EISDIR(hr))},dr.prototype.openSync=function(hr,wr,Ir){if(wr.isWriteable())throw new yr(_r.EPERM,hr);var Tr=this._index.getInode(hr);if(Tr===null)throw yr.ENOENT(hr);if(Do(Tr)){var Br=Tr.getData();switch(wr.pathExistsAction()){case Ar.THROW_EXCEPTION:case Ar.TRUNCATE_FILE:throw yr.EEXIST(hr);case Ar.NOP:if(Br.fileData)return new xi(this,hr,wr,Br.clone(),Br.fileData);var zr=this._requestFileSync(hr,"buffer");return Br.size=zr.length,Br.fileData=zr,new xi(this,hr,wr,Br.clone(),zr);default:throw new yr(_r.EINVAL,"Invalid FileMode object.")}}else throw yr.EISDIR(hr)},dr.prototype.readdir=function(hr,wr){try{wr(null,this.readdirSync(hr))}catch(Ir){wr(Ir)}},dr.prototype.readdirSync=function(hr){var wr=this._index.getInode(hr);if(wr===null)throw yr.ENOENT(hr);if(Lo(wr))return wr.getListing();throw yr.ENOTDIR(hr)},dr.prototype.readFile=function(hr,wr,Ir,Tr){var Br=Tr;this.open(hr,Ir,420,function(zr,Xr){if(zr)return Tr(zr);Tr=function(Ii,Ni){Xr.close(function(Li){return Ii||(Ii=Li),Br(Ii,Ni)})};var li=Xr,mi=li.getBuffer();wr===null?Tr(zr,qi(mi)):bh(mi,wr,Tr)})},dr.prototype.readFileSync=function(hr,wr,Ir){var Tr=this.openSync(hr,Ir,420);try{var Br=Tr,zr=Br.getBuffer();return wr===null?qi(zr):zr.toString(wr)}finally{Tr.closeSync()}},dr.prototype.getXhrPath=function(hr){return hr.charAt(0)==="/"&&(hr=hr.slice(1)),this.prefixUrl+hr},dr.prototype._requestFileAsync=function(hr,wr,Ir){Tl(this.getXhrPath(hr),wr,Ir)},dr.prototype._requestFileSync=function(hr,wr){return mh(this.getXhrPath(hr),wr)},dr.prototype._requestFileSizeAsync=function(hr,wr){yh(this.getXhrPath(hr),wr)},dr.prototype._requestFileSizeSync=function(hr){return gh(this.getXhrPath(hr))},dr}(di);oc.Name="XmlHttpRequest",oc.Options={index:{type:["string","object"],optional:!0,description:"URL to a file index as a JSON file or the file index object itself, generated with the make_xhrfs_index script. Defaults to `index.json`."},baseUrl:{type:"string",optional:!0,description:"Used as the URL prefix for fetched files. Default: Fetch files relative to the index."}};var Zo=function(){};Zo.str2byte=function(dr,vr){for(var hr=dr.length>vr.length?vr.length:dr.length,wr=0;wr<hr;wr++){var Ir=dr.charCodeAt(wr);if(Ir>127){var Tr=Zo.extendedChars.indexOf(dr.charAt(wr));Tr>-1&&(Ir=Tr+128)}vr[Ir]=wr}return hr},Zo.byte2str=function(dr){for(var vr=new Array(dr.length),hr=0;hr<dr.length;hr++){var wr=dr[hr];wr>127?vr[hr]=Zo.extendedChars[wr-128]:vr[hr]=String.fromCharCode(wr)}return vr.join("")},Zo.byteLength=function(dr){return dr.length},Zo.extendedChars=["Ç","ü","é","â","ä","à","å","ç","ê","ë","è","ï","î","ì","Ä","Å","É","æ","Æ","ô","ö","ò","û","ù","ÿ","Ö","Ü","ø","£","Ø","×","ƒ","á","í","ó","ú","ñ","Ñ","ª","º","¿","®","¬","½","¼","¡","«","»","_","_","_","¦","¦","Á","Â","À","©","¦","¦","+","+","¢","¥","+","+","-","-","+","-","+","ã","Ã","+","+","-","-","¦","-","+","¤","ð","Ð","Ê","Ë","È","i","Í","Î","Ï","+","+","_","_","¦","Ì","_","Ó","ß","Ô","Ò","õ","Õ","µ","þ","Þ","Ú","Û","Ù","ý","Ý","¯","´","­","±","_","¾","¶","§","÷","¸","°","¨","·","¹","³","²","_"," "];var Eh=ur(31).inflateRaw,Dl={},Rl;(function(Er){Er[Er.MSDOS=0]="MSDOS",Er[Er.AMIGA=1]="AMIGA",Er[Er.OPENVMS=2]="OPENVMS",Er[Er.UNIX=3]="UNIX",Er[Er.VM_CMS=4]="VM_CMS",Er[Er.ATARI_ST=5]="ATARI_ST",Er[Er.OS2_HPFS=6]="OS2_HPFS",Er[Er.MAC=7]="MAC",Er[Er.Z_SYSTEM=8]="Z_SYSTEM",Er[Er.CP_M=9]="CP_M",Er[Er.NTFS=10]="NTFS",Er[Er.MVS=11]="MVS",Er[Er.VSE=12]="VSE",Er[Er.ACORN_RISC=13]="ACORN_RISC",Er[Er.VFAT=14]="VFAT",Er[Er.ALT_MVS=15]="ALT_MVS",Er[Er.BEOS=16]="BEOS",Er[Er.TANDEM=17]="TANDEM",Er[Er.OS_400=18]="OS_400",Er[Er.OSX=19]="OSX"})(Rl||(Rl={}));var ws;(function(Er){Er[Er.STORED=0]="STORED",Er[Er.SHRUNK=1]="SHRUNK",Er[Er.REDUCED_1=2]="REDUCED_1",Er[Er.REDUCED_2=3]="REDUCED_2",Er[Er.REDUCED_3=4]="REDUCED_3",Er[Er.REDUCED_4=5]="REDUCED_4",Er[Er.IMPLODE=6]="IMPLODE",Er[Er.DEFLATE=8]="DEFLATE",Er[Er.DEFLATE64=9]="DEFLATE64",Er[Er.TERSE_OLD=10]="TERSE_OLD",Er[Er.BZIP2=12]="BZIP2",Er[Er.LZMA=14]="LZMA",Er[Er.TERSE_NEW=18]="TERSE_NEW",Er[Er.LZ77=19]="LZ77",Er[Er.WAVPACK=97]="WAVPACK",Er[Er.PPMD=98]="PPMD"})(ws||(ws={}));function Fl(Er,dr){var vr=dr&31,hr=(dr>>5&15)-1,wr=(dr>>9)+1980,Ir=Er&31,Tr=Er>>5&63,Br=Er>>11;return new Date(wr,hr,vr,Br,Tr,Ir)}function sc(Er,dr,vr,hr){return hr===0?"":dr?Er.toString("utf8",vr,vr+hr):Zo.byte2str(Er.slice(vr,vr+hr))}var Xa=function(dr){if(this.data=dr,dr.readUInt32LE(0)!==67324752)throw new yr(_r.EINVAL,"Invalid Zip file: Local file header has invalid signature: "+this.data.readUInt32LE(0))};Xa.prototype.versionNeeded=function(){return this.data.readUInt16LE(4)},Xa.prototype.flags=function(){return this.data.readUInt16LE(6)},Xa.prototype.compressionMethod=function(){return this.data.readUInt16LE(8)},Xa.prototype.lastModFileTime=function(){return Fl(this.data.readUInt16LE(10),this.data.readUInt16LE(12))},Xa.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(10)},Xa.prototype.crc32=function(){return this.data.readUInt32LE(14)},Xa.prototype.fileNameLength=function(){return this.data.readUInt16LE(26)},Xa.prototype.extraFieldLength=function(){return this.data.readUInt16LE(28)},Xa.prototype.fileName=function(){return sc(this.data,this.useUTF8(),30,this.fileNameLength())},Xa.prototype.extraField=function(){var dr=30+this.fileNameLength();return this.data.slice(dr,dr+this.extraFieldLength())},Xa.prototype.totalSize=function(){return 30+this.fileNameLength()+this.extraFieldLength()},Xa.prototype.useUTF8=function(){return(this.flags()&2048)===2048};var u0=function(dr,vr,hr){this.header=dr,this.record=vr,this.data=hr};u0.prototype.decompress=function(){var dr=this.header.compressionMethod(),vr=Dl[dr];if(vr)return vr(this.data,this.record.compressedSize(),this.record.uncompressedSize(),this.record.flag());var hr=ws[dr];throw hr||(hr="Unknown: "+dr),new yr(_r.EINVAL,"Invalid compression method on file '"+this.header.fileName()+"': "+hr)},u0.prototype.getHeader=function(){return this.header},u0.prototype.getRecord=function(){return this.record},u0.prototype.getRawData=function(){return this.data};var aa=function(dr,vr){if(this.zipData=dr,this.data=vr,this.data.readUInt32LE(0)!==33639248)throw new yr(_r.EINVAL,"Invalid Zip file: Central directory record has invalid signature: "+this.data.readUInt32LE(0));this._filename=this.produceFilename()};aa.prototype.versionMadeBy=function(){return this.data.readUInt16LE(4)},aa.prototype.versionNeeded=function(){return this.data.readUInt16LE(6)},aa.prototype.flag=function(){return this.data.readUInt16LE(8)},aa.prototype.compressionMethod=function(){return this.data.readUInt16LE(10)},aa.prototype.lastModFileTime=function(){return Fl(this.data.readUInt16LE(12),this.data.readUInt16LE(14))},aa.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(12)},aa.prototype.crc32=function(){return this.data.readUInt32LE(16)},aa.prototype.compressedSize=function(){return this.data.readUInt32LE(20)},aa.prototype.uncompressedSize=function(){return this.data.readUInt32LE(24)},aa.prototype.fileNameLength=function(){return this.data.readUInt16LE(28)},aa.prototype.extraFieldLength=function(){return this.data.readUInt16LE(30)},aa.prototype.fileCommentLength=function(){return this.data.readUInt16LE(32)},aa.prototype.diskNumberStart=function(){return this.data.readUInt16LE(34)},aa.prototype.internalAttributes=function(){return this.data.readUInt16LE(36)},aa.prototype.externalAttributes=function(){return this.data.readUInt32LE(38)},aa.prototype.headerRelativeOffset=function(){return this.data.readUInt32LE(42)},aa.prototype.produceFilename=function(){var dr=sc(this.data,this.useUTF8(),46,this.fileNameLength());return dr.replace(/\\/g,"/")},aa.prototype.fileName=function(){return this._filename},aa.prototype.rawFileName=function(){return this.data.slice(46,46+this.fileNameLength())},aa.prototype.extraField=function(){var dr=44+this.fileNameLength();return this.data.slice(dr,dr+this.extraFieldLength())},aa.prototype.fileComment=function(){var dr=46+this.fileNameLength()+this.extraFieldLength();return sc(this.data,this.useUTF8(),dr,this.fileCommentLength())},aa.prototype.rawFileComment=function(){var dr=46+this.fileNameLength()+this.extraFieldLength();return this.data.slice(dr,dr+this.fileCommentLength())},aa.prototype.totalSize=function(){return 46+this.fileNameLength()+this.extraFieldLength()+this.fileCommentLength()},aa.prototype.isDirectory=function(){var dr=this.fileName();return!!(this.externalAttributes()&16)||dr.charAt(dr.length-1)==="/"},aa.prototype.isFile=function(){return!this.isDirectory()},aa.prototype.useUTF8=function(){return(this.flag()&2048)===2048},aa.prototype.isEncrypted=function(){return(this.flag()&1)===1},aa.prototype.getFileData=function(){var dr=this.headerRelativeOffset(),vr=new Xa(this.zipData.slice(dr));return new u0(vr,this,this.zipData.slice(dr+vr.totalSize()))},aa.prototype.getData=function(){return this.getFileData().decompress()},aa.prototype.getRawData=function(){return this.getFileData().getRawData()},aa.prototype.getStats=function(){return new Dr(Or.FILE,this.uncompressedSize(),365,new Date,this.lastModFileTime())};var mo=function(dr){if(this.data=dr,this.data.readUInt32LE(0)!==101010256)throw new yr(_r.EINVAL,"Invalid Zip file: End of central directory record has invalid signature: "+this.data.readUInt32LE(0))};mo.prototype.diskNumber=function(){return this.data.readUInt16LE(4)},mo.prototype.cdDiskNumber=function(){return this.data.readUInt16LE(6)},mo.prototype.cdDiskEntryCount=function(){return this.data.readUInt16LE(8)},mo.prototype.cdTotalEntryCount=function(){return this.data.readUInt16LE(10)},mo.prototype.cdSize=function(){return this.data.readUInt32LE(12)},mo.prototype.cdOffset=function(){return this.data.readUInt32LE(16)},mo.prototype.cdZipCommentLength=function(){return this.data.readUInt16LE(20)},mo.prototype.cdZipComment=function(){return sc(this.data,!0,22,this.cdZipCommentLength())},mo.prototype.rawCdZipComment=function(){return this.data.slice(22,22+this.cdZipCommentLength())};var Pl=function(dr,vr,hr,wr){this.index=dr,this.directoryEntries=vr,this.eocd=hr,this.data=wr},Jo=function(Er){function dr(vr,hr,wr){hr===void 0&&(hr=""),wr===void 0&&(wr=!0),Er.call(this),this.name=hr,this._index=new io,this._directoryEntries=[],this._eocd=null,Ei(wr,dr.Name,{zipData:"zip data as a Buffer",name:hr}),vr instanceof Pl?(this._index=vr.index,this._directoryEntries=vr.directoryEntries,this._eocd=vr.eocd,this.data=vr.data):(this.data=vr,this.populateIndex())}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.Create=function(hr,wr){try{dr.computeIndex(hr.zipData,function(Ir){var Tr=new dr(Ir,hr.name,!1);wr(null,Tr)},!1)}catch(Ir){wr(Ir)}},dr.isAvailable=function(){return!0},dr.RegisterDecompressionMethod=function(hr,wr){Dl[hr]=wr},dr.computeIndex=function(hr,wr,Ir){Ir===void 0&&(Ir=!0),Ir&&console.warn("[ZipFS] ZipFS.computeIndex is now deprecated, and will be removed in the next major release. Please update your code to use 'ZipFS.Create({ zipData: zip file as a Buffer}, cb)' instead.");var Tr=new io,Br=dr.getEOCD(hr);if(Br.diskNumber()!==Br.cdDiskNumber())throw new yr(_r.EINVAL,"ZipFS does not support spanned zip files.");var zr=Br.cdOffset();if(zr===4294967295)throw new yr(_r.EINVAL,"ZipFS does not support Zip64.");var Xr=zr+Br.cdSize();dr.computeIndexResponsive(hr,Tr,zr,Xr,wr,[],Br)},dr.getEOCD=function(hr){for(var wr=22,Ir=Math.min(wr+65535,hr.length-1),Tr=wr;Tr<Ir;Tr++)if(hr.readUInt32LE(hr.length-Tr)===101010256)return new mo(hr.slice(hr.length-Tr));throw new yr(_r.EINVAL,"Invalid ZIP file: Could not locate End of Central Directory signature.")},dr.addToIndex=function(hr,wr){var Ir=hr.fileName();if(Ir.charAt(0)==="/")throw new Error("WHY IS THIS ABSOLUTE");Ir.charAt(Ir.length-1)==="/"&&(Ir=Ir.substr(0,Ir.length-1)),hr.isDirectory()?wr.addPathFast("/"+Ir,new Wa(hr)):wr.addPathFast("/"+Ir,new Es(hr))},dr.computeIndexResponsive=function(hr,wr,Ir,Tr,Br,zr,Xr){if(Ir<Tr){for(var li=0;li++<200&&Ir<Tr;){var mi=new aa(hr,hr.slice(Ir));dr.addToIndex(mi,wr),Ir+=mi.totalSize(),zr.push(mi)}bu(function(){dr.computeIndexResponsive(hr,wr,Ir,Tr,Br,zr,Xr)})}else Br(new Pl(wr,zr,Xr,hr))},dr.prototype.getName=function(){return dr.Name+(this.name!==""?" "+this.name:"")},dr.prototype.getCentralDirectoryEntry=function(hr){var wr=this._index.getInode(hr);if(wr===null)throw yr.ENOENT(hr);if(Do(wr))return wr.getData();if(Lo(wr))return wr.getData();throw yr.EPERM("Invalid inode: "+wr)},dr.prototype.getCentralDirectoryEntryAt=function(hr){var wr=this._directoryEntries[hr];if(!wr)throw new RangeError("Invalid directory index: "+hr+".");return wr},dr.prototype.getNumberOfCentralDirectoryEntries=function(){return this._directoryEntries.length},dr.prototype.getEndOfCentralDirectory=function(){return this._eocd},dr.prototype.diskSpace=function(hr,wr){wr(this.data.length,0)},dr.prototype.isReadOnly=function(){return!0},dr.prototype.supportsLinks=function(){return!1},dr.prototype.supportsProps=function(){return!1},dr.prototype.supportsSynch=function(){return!0},dr.prototype.statSync=function(hr,wr){var Ir=this._index.getInode(hr);if(Ir===null)throw yr.ENOENT(hr);var Tr;if(Do(Ir))Tr=Ir.getData().getStats();else if(Lo(Ir))Tr=Ir.getStats();else throw new yr(_r.EINVAL,"Invalid inode.");return Tr},dr.prototype.openSync=function(hr,wr,Ir){if(wr.isWriteable())throw new yr(_r.EPERM,hr);var Tr=this._index.getInode(hr);if(Tr)if(Do(Tr)){var Br=Tr.getData(),zr=Br.getStats();switch(wr.pathExistsAction()){case Ar.THROW_EXCEPTION:case Ar.TRUNCATE_FILE:throw yr.EEXIST(hr);case Ar.NOP:return new xi(this,hr,wr,zr,Br.getData());default:throw new yr(_r.EINVAL,"Invalid FileMode object.")}}else throw yr.EISDIR(hr);else throw yr.ENOENT(hr)},dr.prototype.readdirSync=function(hr){var wr=this._index.getInode(hr);if(wr){if(Lo(wr))return wr.getListing();throw yr.ENOTDIR(hr)}else throw yr.ENOENT(hr)},dr.prototype.readFileSync=function(hr,wr,Ir){var Tr=this.openSync(hr,Ir,420);try{var Br=Tr,zr=Br.getBuffer();return wr===null?qi(zr):zr.toString(wr)}finally{Tr.closeSync()}},dr.prototype.populateIndex=function(){var hr=this,wr=this._eocd=dr.getEOCD(this.data);if(wr.diskNumber()!==wr.cdDiskNumber())throw new yr(_r.EINVAL,"ZipFS does not support spanned zip files.");var Ir=wr.cdOffset();if(Ir===4294967295)throw new yr(_r.EINVAL,"ZipFS does not support Zip64.");for(var Tr=Ir+wr.cdSize();Ir<Tr;){var Br=new aa(hr.data,hr.data.slice(Ir));Ir+=Br.totalSize(),dr.addToIndex(Br,hr._index),hr._directoryEntries.push(Br)}},dr}(gi);Jo.Name="ZipFS",Jo.Options={zipData:{type:"object",description:"The zip file as a Buffer object.",validator:ii},name:{type:"string",optional:!0,description:"The name of the zip file (optional)."}},Jo.CompressionMethod=ws,Jo.RegisterDecompressionMethod(ws.DEFLATE,function(Er,dr,vr){return pi(Eh(Er.slice(0,dr),{chunkSize:vr}))}),Jo.RegisterDecompressionMethod(ws.STORED,function(Er,dr,vr){return qi(Er,0,vr)});var wh="IEEE_P1282";function Ka(Er,dr,vr){return Er.toString("ascii",dr,dr+vr).trim()}function wu(Er,dr,vr){if(vr===1)return String.fromCharCode(Er[dr]);for(var hr=Math.floor(vr/2),wr=new Array(hr),Ir=0;Ir<hr;Ir++){var Tr=dr+(Ir<<1);wr[Ir]=String.fromCharCode(Er[Tr+1]|Er[Tr]<<8)}return wr.join("")}function go(Er,dr){var vr=parseInt(Ka(Er,dr,4),10),hr=parseInt(Ka(Er,dr+4,2),10),wr=parseInt(Ka(Er,dr+6,2),10),Ir=parseInt(Ka(Er,dr+8,2),10),Tr=parseInt(Ka(Er,dr+10,2),10),Br=parseInt(Ka(Er,dr+12,2),10),zr=parseInt(Ka(Er,dr+14,2),10);return new Date(vr,hr,wr,Ir,Tr,Br,zr*100)}function es(Er,dr){var vr=Er[dr],hr=Er[dr+1],wr=Er[dr+2],Ir=Er[dr+3],Tr=Er[dr+4],Br=Er[dr+5];return new Date(vr,hr-1,wr,Ir,Tr,Br)}function Sh(Er,dr){var vr=Er.slice(dr),hr=new Ia(vr);switch(hr.signatureWord()){case 17221:return new Ml(vr);case 20548:return new Ch(vr);case 21328:return new Vl(vr);case 21332:return new jl(vr);case 17746:return new Ul(vr);case 17747:return new kh(vr);case 20568:return new Hl(vr);case 20558:return new Oh(vr);case 21324:return new Su(vr);case 20045:return new Wl(vr);case 17228:return new Au(vr);case 20556:return new Th(vr);case 21061:return new Kl(vr);case 21574:return new Gl(vr);case 21318:return new Dh(vr);case 21074:return new zl(vr);default:return hr}}function Bl(Er,dr,vr,hr){vr=vr-4;for(var wr=new Array;dr<vr;){var Ir=Sh(Er,dr),Tr=Ir.length();if(Tr===0)return wr;if(dr+=Tr,Ir instanceof jl)break;Ir instanceof Ml?wr=wr.concat(Ir.getEntries(hr)):wr.push(Ir)}return wr}var Ss=function(dr){this._data=dr};Ss.prototype.type=function(){return this._data[0]},Ss.prototype.standardIdentifier=function(){return Ka(this._data,1,5)},Ss.prototype.version=function(){return this._data[6]},Ss.prototype.data=function(){return this._data.slice(7,2048)};var ql=function(Er){function dr(vr){Er.call(this,vr),this._root=null}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.prototype.systemIdentifier=function(){return this._getString32(8)},dr.prototype.volumeIdentifier=function(){return this._getString32(40)},dr.prototype.volumeSpaceSize=function(){return this._data.readUInt32LE(80)},dr.prototype.volumeSetSize=function(){return this._data.readUInt16LE(120)},dr.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(124)},dr.prototype.logicalBlockSize=function(){return this._data.readUInt16LE(128)},dr.prototype.pathTableSize=function(){return this._data.readUInt32LE(132)},dr.prototype.locationOfTypeLPathTable=function(){return this._data.readUInt32LE(140)},dr.prototype.locationOfOptionalTypeLPathTable=function(){return this._data.readUInt32LE(144)},dr.prototype.locationOfTypeMPathTable=function(){return this._data.readUInt32BE(148)},dr.prototype.locationOfOptionalTypeMPathTable=function(){return this._data.readUInt32BE(152)},dr.prototype.rootDirectoryEntry=function(hr){return this._root===null&&(this._root=this._constructRootDirectoryRecord(this._data.slice(156)),this._root.rootCheckForRockRidge(hr)),this._root},dr.prototype.volumeSetIdentifier=function(){return this._getString(190,128)},dr.prototype.publisherIdentifier=function(){return this._getString(318,128)},dr.prototype.dataPreparerIdentifier=function(){return this._getString(446,128)},dr.prototype.applicationIdentifier=function(){return this._getString(574,128)},dr.prototype.copyrightFileIdentifier=function(){return this._getString(702,38)},dr.prototype.abstractFileIdentifier=function(){return this._getString(740,36)},dr.prototype.bibliographicFileIdentifier=function(){return this._getString(776,37)},dr.prototype.volumeCreationDate=function(){return go(this._data,813)},dr.prototype.volumeModificationDate=function(){return go(this._data,830)},dr.prototype.volumeExpirationDate=function(){return go(this._data,847)},dr.prototype.volumeEffectiveDate=function(){return go(this._data,864)},dr.prototype.fileStructureVersion=function(){return this._data[881]},dr.prototype.applicationUsed=function(){return this._data.slice(883,883+512)},dr.prototype.reserved=function(){return this._data.slice(1395,1395+653)},dr.prototype._getString32=function(hr){return this._getString(hr,32)},dr}(Ss),Ah=function(Er){function dr(vr){if(Er.call(this,vr),this.type()!==1)throw new yr(_r.EIO,"Invalid primary volume descriptor.")}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.prototype.name=function(){return"ISO9660"},dr.prototype._constructRootDirectoryRecord=function(hr){return new Nl(hr,-1)},dr.prototype._getString=function(hr,wr){return this._getString(hr,wr)},dr}(ql),Ih=function(Er){function dr(vr){if(Er.call(this,vr),this.type()!==2)throw new yr(_r.EIO,"Invalid supplementary volume descriptor.");var hr=this.escapeSequence(),wr=hr[2];if(hr[0]!==37||hr[1]!==47||wr!==64&&wr!==67&&wr!==69)throw new yr(_r.EIO,"Unrecognized escape sequence for SupplementaryVolumeDescriptor: "+hr.toString())}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.prototype.name=function(){return"Joliet"},dr.prototype.escapeSequence=function(){return this._data.slice(88,120)},dr.prototype._constructRootDirectoryRecord=function(hr){return new Ll(hr,-1)},dr.prototype._getString=function(hr,wr){return wu(this._data,hr,wr)},dr}(ql),da=function(dr,vr){this._suEntries=null,this._fileOrDir=null,this._data=dr,this._rockRidgeOffset=vr};da.prototype.hasRockRidge=function(){return this._rockRidgeOffset>-1},da.prototype.getRockRidgeOffset=function(){return this._rockRidgeOffset},da.prototype.rootCheckForRockRidge=function(dr){var vr=this.getDirectory(dr);this._rockRidgeOffset=vr.getDotEntry(dr)._getRockRidgeOffset(dr),this._rockRidgeOffset>-1&&(this._fileOrDir=null)},da.prototype.length=function(){return this._data[0]},da.prototype.extendedAttributeRecordLength=function(){return this._data[1]},da.prototype.lba=function(){return this._data.readUInt32LE(2)*2048},da.prototype.dataLength=function(){return this._data.readUInt32LE(10)},da.prototype.recordingDate=function(){return es(this._data,18)},da.prototype.fileFlags=function(){return this._data[25]},da.prototype.fileUnitSize=function(){return this._data[26]},da.prototype.interleaveGapSize=function(){return this._data[27]},da.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(28)},da.prototype.identifier=function(){return this._getString(33,this._data[32])},da.prototype.fileName=function(dr){if(this.hasRockRidge()){var vr=this._rockRidgeFilename(dr);if(vr!==null)return vr}var hr=this.identifier();if(this.isDirectory(dr))return hr;var wr=hr.indexOf(";");return wr===-1?hr:hr[wr-1]==="."?hr.slice(0,wr-1):hr.slice(0,wr)},da.prototype.isDirectory=function(dr){var vr=!!(this.fileFlags()&2);return!vr&&this.hasRockRidge()&&(vr=this.getSUEntries(dr).filter(function(hr){return hr instanceof Au}).length>0),vr},da.prototype.isSymlink=function(dr){return this.hasRockRidge()&&this.getSUEntries(dr).filter(function(vr){return vr instanceof Su}).length>0},da.prototype.getSymlinkPath=function(dr){for(var vr="",hr=this.getSUEntries(dr),wr=this._getGetString(),Ir=0,Tr=hr;Ir<Tr.length;Ir+=1){var Br=Tr[Ir];if(Br instanceof Su){for(var zr=Br.componentRecords(),Xr=0,li=zr;Xr<li.length;Xr+=1){var mi=li[Xr],Ii=mi.flags();Ii&2?vr+="./":Ii&4?vr+="../":Ii&8?vr+="/":(vr+=mi.content(wr),Ii&1||(vr+="/"))}if(!Br.continueFlag())break}}return vr.length>1&&vr[vr.length-1]==="/"?vr.slice(0,vr.length-1):vr},da.prototype.getFile=function(dr){if(this.isDirectory(dr))throw new Error("Tried to get a File from a directory.");return this._fileOrDir===null&&(this._fileOrDir=dr.slice(this.lba(),this.lba()+this.dataLength())),this._fileOrDir},da.prototype.getDirectory=function(dr){if(!this.isDirectory(dr))throw new Error("Tried to get a Directory from a file.");return this._fileOrDir===null&&(this._fileOrDir=this._constructDirectory(dr)),this._fileOrDir},da.prototype.getSUEntries=function(dr){return this._suEntries||this._constructSUEntries(dr),this._suEntries},da.prototype._rockRidgeFilename=function(dr){var vr=this.getSUEntries(dr).filter(function(zr){return zr instanceof Wl});if(vr.length===0||vr[0].flags()&6)return null;for(var hr="",wr=this._getGetString(),Ir=0,Tr=vr;Ir<Tr.length;Ir+=1){var Br=Tr[Ir];if(hr+=Br.name(wr),!(Br.flags()&1))break}return hr},da.prototype._constructSUEntries=function(dr){var vr=33+this._data[32];vr%2===1&&vr++,vr+=this._rockRidgeOffset,this._suEntries=Bl(this._data,vr,this.length(),dr)},da.prototype._getRockRidgeOffset=function(dr){this._rockRidgeOffset=0;var vr=this.getSUEntries(dr);if(vr.length>0){var hr=vr[0];if(hr instanceof Vl&&hr.checkBytesPass())for(var wr=1;wr<vr.length;wr++){var Ir=vr[wr];if(Ir instanceof zl||Ir instanceof Ul&&Ir.extensionIdentifier()===wh)return hr.bytesSkipped()}}return this._rockRidgeOffset=-1,-1};var Nl=function(Er){function dr(vr,hr){Er.call(this,vr,hr)}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.prototype._getString=function(hr,wr){return Ka(this._data,hr,wr)},dr.prototype._constructDirectory=function(hr){return new Rh(this,hr)},dr.prototype._getGetString=function(){return Ka},dr}(da),Ll=function(Er){function dr(vr,hr){Er.call(this,vr,hr)}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.prototype._getString=function(hr,wr){return wu(this._data,hr,wr)},dr.prototype._constructDirectory=function(hr){return new Fh(this,hr)},dr.prototype._getGetString=function(){return wu},dr}(da),Ia=function(dr){this._data=dr};Ia.prototype.signatureWord=function(){return this._data.readUInt16BE(0)},Ia.prototype.signatureWordString=function(){return Ka(this._data,0,2)},Ia.prototype.length=function(){return this._data[2]},Ia.prototype.suVersion=function(){return this._data[3]};var Ml=function(Er){function dr(vr){Er.call(this,vr),this._entries=null}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.prototype.continuationLba=function(){return this._data.readUInt32LE(4)},dr.prototype.continuationLbaOffset=function(){return this._data.readUInt32LE(12)},dr.prototype.continuationLength=function(){return this._data.readUInt32LE(20)},dr.prototype.getEntries=function(hr){if(!this._entries){var wr=this.continuationLba()*2048+this.continuationLbaOffset();this._entries=Bl(hr,wr,this.continuationLength(),hr)}return this._entries},dr}(Ia),Ch=function(Er){function dr(vr){Er.call(this,vr)}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr}(Ia),Vl=function(Er){function dr(vr){Er.call(this,vr)}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.prototype.checkBytesPass=function(){return this._data[4]===190&&this._data[5]===239},dr.prototype.bytesSkipped=function(){return this._data[6]},dr}(Ia),jl=function(Er){function dr(vr){Er.call(this,vr)}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr}(Ia),Ul=function(Er){function dr(vr){Er.call(this,vr)}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.prototype.identifierLength=function(){return this._data[4]},dr.prototype.descriptorLength=function(){return this._data[5]},dr.prototype.sourceLength=function(){return this._data[6]},dr.prototype.extensionVersion=function(){return this._data[7]},dr.prototype.extensionIdentifier=function(){return Ka(this._data,8,this.identifierLength())},dr.prototype.extensionDescriptor=function(){return Ka(this._data,8+this.identifierLength(),this.descriptorLength())},dr.prototype.extensionSource=function(){return Ka(this._data,8+this.identifierLength()+this.descriptorLength(),this.sourceLength())},dr}(Ia),kh=function(Er){function dr(vr){Er.call(this,vr)}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.prototype.extensionSequence=function(){return this._data[4]},dr}(Ia),zl=function(Er){function dr(vr){Er.call(this,vr)}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr}(Ia),Hl=function(Er){function dr(vr){Er.call(this,vr)}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.prototype.mode=function(){return this._data.readUInt32LE(4)},dr.prototype.fileLinks=function(){return this._data.readUInt32LE(12)},dr.prototype.uid=function(){return this._data.readUInt32LE(20)},dr.prototype.gid=function(){return this._data.readUInt32LE(28)},dr.prototype.inode=function(){return this._data.readUInt32LE(36)},dr}(Ia),Oh=function(Er){function dr(vr){Er.call(this,vr)}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.prototype.devTHigh=function(){return this._data.readUInt32LE(4)},dr.prototype.devTLow=function(){return this._data.readUInt32LE(12)},dr}(Ia),Su=function(Er){function dr(vr){Er.call(this,vr)}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.prototype.flags=function(){return this._data[4]},dr.prototype.continueFlag=function(){return this.flags()&1},dr.prototype.componentRecords=function(){for(var hr=this,wr=new Array,Ir=5;Ir<this.length();){var Tr=new l0(hr._data.slice(Ir));wr.push(Tr),Ir+=Tr.length()}return wr},dr}(Ia),l0=function(dr){this._data=dr};l0.prototype.flags=function(){return this._data[0]},l0.prototype.length=function(){return 2+this.componentLength()},l0.prototype.componentLength=function(){return this._data[1]},l0.prototype.content=function(dr){return dr(this._data,2,this.componentLength())};var Wl=function(Er){function dr(vr){Er.call(this,vr)}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.prototype.flags=function(){return this._data[4]},dr.prototype.name=function(hr){return hr(this._data,5,this.length()-5)},dr}(Ia),Au=function(Er){function dr(vr){Er.call(this,vr)}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.prototype.childDirectoryLba=function(){return this._data.readUInt32LE(4)},dr}(Ia),Th=function(Er){function dr(vr){Er.call(this,vr)}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.prototype.parentDirectoryLba=function(){return this._data.readUInt32LE(4)},dr}(Ia),Kl=function(Er){function dr(vr){Er.call(this,vr)}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr}(Ia),Gl=function(Er){function dr(vr){Er.call(this,vr)}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.prototype.flags=function(){return this._data[4]},dr.prototype.creation=function(){return this.flags()&1?this._longFormDates()?go(this._data,5):es(this._data,5):null},dr.prototype.modify=function(){if(this.flags()&2){var hr=this.flags()&1?1:0;return this._longFormDates?go(this._data,5+hr*17):es(this._data,5+hr*7)}else return null},dr.prototype.access=function(){if(this.flags()&4){var hr=this.flags()&1?1:0;return hr+=this.flags()&2?1:0,this._longFormDates?go(this._data,5+hr*17):es(this._data,5+hr*7)}else return null},dr.prototype.backup=function(){if(this.flags()&16){var hr=this.flags()&1?1:0;return hr+=this.flags()&2?1:0,hr+=this.flags()&4?1:0,this._longFormDates?go(this._data,5+hr*17):es(this._data,5+hr*7)}else return null},dr.prototype.expiration=function(){if(this.flags()&32){var hr=this.flags()&1?1:0;return hr+=this.flags()&2?1:0,hr+=this.flags()&4?1:0,hr+=this.flags()&16?1:0,this._longFormDates?go(this._data,5+hr*17):es(this._data,5+hr*7)}else return null},dr.prototype.effective=function(){if(this.flags()&64){var hr=this.flags()&1?1:0;return hr+=this.flags()&2?1:0,hr+=this.flags()&4?1:0,hr+=this.flags()&16?1:0,hr+=this.flags()&32?1:0,this._longFormDates?go(this._data,5+hr*17):es(this._data,5+hr*7)}else return null},dr.prototype._longFormDates=function(){return!!this.flags()},dr}(Ia),Dh=function(Er){function dr(vr){Er.call(this,vr)}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.prototype.virtualSizeHigh=function(){return this._data.readUInt32LE(4)},dr.prototype.virtualSizeLow=function(){return this._data.readUInt32LE(12)},dr.prototype.tableDepth=function(){return this._data[20]},dr}(Ia),f0=function(dr,vr){var hr=this;this._fileList=[],this._fileMap={},this._record=dr;var wr=dr.lba(),Ir=wr+dr.dataLength();if(!(dr.fileFlags()&2)){var Tr=dr.getSUEntries(vr).filter(function(li){return li instanceof Au})[0];wr=Tr.childDirectoryLba()*2048,Ir=1/0}for(;wr<Ir;){var Br=vr[wr];if(Br===0){wr++;continue}var zr=hr._constructDirectoryRecord(vr.slice(wr)),Xr=zr.fileName(vr);Xr!=="\0"&&Xr!==""?(!zr.hasRockRidge()||zr.getSUEntries(vr).filter(function(li){return li instanceof Kl}).length===0)&&(hr._fileMap[Xr]=zr,hr._fileList.push(Xr)):Ir===1/0&&(Ir=wr+zr.dataLength()),wr+=zr.length()}};f0.prototype.getRecord=function(dr){return this._fileMap[dr]},f0.prototype.getFileList=function(){return this._fileList},f0.prototype.getDotEntry=function(dr){return this._constructDirectoryRecord(dr.slice(this._record.lba()))};var Rh=function(Er){function dr(vr,hr){Er.call(this,vr,hr)}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.prototype._constructDirectoryRecord=function(hr){return new Nl(hr,this._record.getRockRidgeOffset())},dr}(f0),Fh=function(Er){function dr(vr,hr){Er.call(this,vr,hr)}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.prototype._constructDirectoryRecord=function(hr){return new Ll(hr,this._record.getRockRidgeOffset())},dr}(f0),cc=function(Er){function dr(vr,hr,wr){var Ir=this;hr===void 0&&(hr=""),wr===void 0&&(wr=!0),Er.call(this),this._data=vr,Ei(wr,dr.Name,{data:"ISO data as a Buffer",name:hr});for(var Tr=!1,Br=16*2048,zr=new Array;!Tr;){var Xr=vr.slice(Br),li=new Ss(Xr);switch(li.type()){case 1:zr.push(new Ah(Xr));break;case 2:zr.push(new Ih(Xr));break;case 255:Tr=!0;break}Br+=2048}if(zr.length===0)throw new yr(_r.EIO,"Unable to find a suitable volume descriptor.");zr.forEach(function(mi){(!Ir._pvd||Ir._pvd.type()!==2)&&(Ir._pvd=mi)}),this._root=this._pvd.rootDirectoryEntry(vr),this._name=hr}return Er&&(dr.__proto__=Er),dr.prototype=Object.create(Er&&Er.prototype),dr.prototype.constructor=dr,dr.Create=function(hr,wr){var Ir,Tr;try{Ir=new dr(hr.data,hr.name,!1)}catch(Br){Br=Br}finally{wr(Tr,Ir)}},dr.isAvailable=function(){return!0},dr.prototype.getName=function(){var hr="IsoFS"+this._name+(this._pvd?"-"+this._pvd.name():"");return this._root&&this._root.hasRockRidge()&&(hr+="-RockRidge"),hr},dr.prototype.diskSpace=function(hr,wr){wr(this._data.length,0)},dr.prototype.isReadOnly=function(){return!0},dr.prototype.supportsLinks=function(){return!1},dr.prototype.supportsProps=function(){return!1},dr.prototype.supportsSynch=function(){return!0},dr.prototype.statSync=function(hr,wr){var Ir=this._getDirectoryRecord(hr);if(Ir===null)throw yr.ENOENT(hr);return this._getStats(hr,Ir)},dr.prototype.openSync=function(hr,wr,Ir){if(wr.isWriteable())throw new yr(_r.EPERM,hr);var Tr=this._getDirectoryRecord(hr);if(Tr){if(Tr.isSymlink(this._data))return this.openSync(mr.resolve(hr,Tr.getSymlinkPath(this._data)),wr,Ir);if(Tr.isDirectory(this._data))throw yr.EISDIR(hr);var Br=Tr.getFile(this._data),zr=this._getStats(hr,Tr);switch(wr.pathExistsAction()){case Ar.THROW_EXCEPTION:case Ar.TRUNCATE_FILE:throw yr.EEXIST(hr);case Ar.NOP:return new xi(this,hr,wr,zr,Br);default:throw new yr(_r.EINVAL,"Invalid FileMode object.")}}else throw yr.ENOENT(hr)},dr.prototype.readdirSync=function(hr){var wr=this._getDirectoryRecord(hr);if(wr){if(wr.isDirectory(this._data))return wr.getDirectory(this._data).getFileList().slice(0);throw yr.ENOTDIR(hr)}else throw yr.ENOENT(hr)},dr.prototype.readFileSync=function(hr,wr,Ir){var Tr=this.openSync(hr,Ir,420);try{var Br=Tr,zr=Br.getBuffer();return wr===null?qi(zr):zr.toString(wr)}finally{Tr.closeSync()}},dr.prototype._getDirectoryRecord=function(hr){var wr=this;if(hr==="/")return this._root;for(var Ir=hr.split("/").slice(1),Tr=this._root,Br=0,zr=Ir;Br<zr.length;Br+=1){var Xr=zr[Br];if(Tr.isDirectory(wr._data)){if(Tr=Tr.getDirectory(wr._data).getRecord(Xr),!Tr)return null}else return null}return Tr},dr.prototype._getStats=function(hr,wr){if(wr.isSymlink(this._data)){var Ir=mr.resolve(hr,wr.getSymlinkPath(this._data)),Tr=this._getDirectoryRecord(Ir);return Tr?this._getStats(Ir,Tr):null}else{var Br=wr.dataLength(),zr=365,Xr=wr.recordingDate(),li=Xr,mi=Xr,Ii=Xr;if(wr.hasRockRidge())for(var Ni=wr.getSUEntries(this._data),Li=0,Gi=Ni;Li<Gi.length;Li+=1){var Qi=Gi[Li];if(Qi instanceof Hl)zr=Qi.mode();else if(Qi instanceof Gl){var ea=Qi.flags();ea&4&&(li=Qi.access()),ea&2&&(mi=Qi.modify()),ea&1&&(Ii=Qi.creation())}}return zr=zr&365,new Dr(wr.isDirectory(this._data)?Or.DIRECTORY:Or.FILE,Br,zr,li,mi,Ii)}},dr}(gi);cc.Name="IsoFS",cc.Options={data:{type:"object",description:"The ISO file in a buffer",validator:ii}},[Kr,X0,Q0,ms,J0,gs,n0,cc,a0,ys,c0,ac,oc,Jo].forEach(function(Er){var dr=Er.Create;Er.Create=function(vr,hr){var wr=typeof vr=="function",Ir=wr?vr:hr,Tr=wr?{}:vr;function Br(zr){zr?Ir(zr):dr.call(Er,Tr,Ir)}oi(Er,Tr,Br)}});var uc={AsyncMirror:Kr,Dropbox:X0,Emscripten:Q0,FolderAdapter:ms,HTML5FS:J0,InMemory:gs,IndexedDB:n0,IsoFS:cc,LocalStorage:a0,MountableFileSystem:ys,OverlayFS:c0,WorkerFS:ac,XmlHttpRequest:oc,ZipFS:Jo};br.initializeTTYs&&br.initializeTTYs();function Ph(Er){Er.Buffer=fr,Er.process=br;var dr=Er.require?Er.require:null;Er.require=function(vr){var hr=Yl(vr);return hr||dr.apply(null,Array.prototype.slice.call(arguments,0))}}function Bh(Er,dr){uc[Er]=dr}function Yl(Er){switch(Er){case"fs":return Wr;case"path":return mr;case"buffer":return gr;case"process":return br;case"bfs_utils":return Si;default:return uc[Er]}}function $l(Er){return Wr.initialize(Er)}function qh(Er,dr){Iu(Er,function(vr,hr){hr?($l(hr),dr()):dr(vr)})}function Iu(Er,dr){var vr=Er.fs;if(!vr)return dr(new yr(_r.EPERM,'Missing "fs" property on configuration object.'));var hr=Er.options,wr=0,Ir=!1;function Tr(){if(!Ir){Ir=!0;var Xr=uc[vr];Xr?Xr.Create(hr,dr):dr(new yr(_r.EPERM,"File system "+vr+" is not available in BrowserFS."))}}if(hr!==null&&typeof hr=="object"){var Br=!1,zr=Object.keys(hr).filter(function(Xr){return Xr!=="fs"});zr.forEach(function(Xr){var li=hr[Xr];li!==null&&typeof li=="object"&&li.fs&&(wr++,Iu(li,function(mi,Ii){if(wr--,mi){if(Ir)return;Ir=!0,dr(mi)}else hr[Xr]=Ii,wr===0&&Br&&Tr()}))}),Br=!0}wr===0&&Tr()}"ab".substr(-1)!=="b"&&(String.prototype.substr=function(Er){return function(dr,vr){return dr<0&&(dr=this.length+dr),Er.call(this,dr,vr)}}(String.prototype.substr)),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&(Uint8Array.prototype.slice||(Uint8Array.prototype.slice=function(Er,dr){Er===void 0&&(Er=0),dr===void 0&&(dr=this.length);var vr=this;return Er<0&&(Er=this.length+Er,Er<0&&(Er=0)),dr<0&&(dr=this.length+dr,dr<0&&(dr=0)),dr<Er&&(dr=Er),new Uint8Array(vr.buffer,vr.byteOffset+Er,dr-Er)})),or.install=Ph,or.registerFileSystem=Bh,or.BFSRequire=Yl,or.initialize=$l,or.configure=qh,or.getFileSystem=Iu,or.EmscriptenFS=Mr,or.FileSystem=uc,or.Errors=Cr,or.setImmediate=bu}).call(or,ur(1),function(){return this}(),ur(5)(ar),ur(6))},function(ar,or,ur){ar.exports=ur(2).Buffer},function(ar,or,ur){(function(_r){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
* @license  MIT
*/var xr=ur(3),pr=ur(4);or.Buffer=_r,or.SlowBuffer=Nr,or.INSPECT_MAX_BYTES=50;var br=2147483647;or.kMaxLength=br,_r.TYPED_ARRAY_SUPPORT=gr(),!_r.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function gr(){try{var Kr=new Uint8Array(1);return Kr.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},Kr.foo()===42}catch{return!1}}function mr(Kr){if(Kr>br)throw new RangeError("Invalid typed array length");var Pr=new Uint8Array(Kr);return Pr.__proto__=_r.prototype,Pr}function _r(Kr,Pr,qr){if(typeof Kr=="number"){if(typeof Pr=="string")throw new Error("If encoding is specified then the first argument must be a string");return Ar(Kr)}return Sr(Kr,Pr,qr)}typeof Symbol<"u"&&Symbol.species&&_r[Symbol.species]===_r&&Object.defineProperty(_r,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),_r.poolSize=8192;function Sr(Kr,Pr,qr){if(typeof Kr=="number")throw new TypeError('"value" argument must not be a number');return ri(Kr)?Dr(Kr,Pr,qr):typeof Kr=="string"?kr(Kr,Pr):Rr(Kr)}_r.from=function(Kr,Pr,qr){return Sr(Kr,Pr,qr)},_r.prototype.__proto__=Uint8Array.prototype,_r.__proto__=Uint8Array;function yr(Kr){if(typeof Kr!="number")throw new TypeError('"size" argument must be a number');if(Kr<0)throw new RangeError('"size" argument must not be negative')}function Cr(Kr,Pr,qr){return yr(Kr),Kr<=0?mr(Kr):Pr!==void 0?typeof qr=="string"?mr(Kr).fill(Pr,qr):mr(Kr).fill(Pr):mr(Kr)}_r.alloc=function(Kr,Pr,qr){return Cr(Kr,Pr,qr)};function Ar(Kr){return yr(Kr),mr(Kr<0?0:Fr(Kr)|0)}_r.allocUnsafe=function(Kr){return Ar(Kr)},_r.allocUnsafeSlow=function(Kr){return Ar(Kr)};function kr(Kr,Pr){if((typeof Pr!="string"||Pr==="")&&(Pr="utf8"),!_r.isEncoding(Pr))throw new TypeError('"encoding" must be a valid string encoding');var qr=Hr(Kr,Pr)|0,Qr=mr(qr),ai=Qr.write(Kr,Pr);return ai!==qr&&(Qr=Qr.slice(0,ai)),Qr}function Or(Kr){for(var Pr=Kr.length<0?0:Fr(Kr.length)|0,qr=mr(Pr),Qr=0;Qr<Pr;Qr+=1)qr[Qr]=Kr[Qr]&255;return qr}function Dr(Kr,Pr,qr){if(Pr<0||Kr.byteLength<Pr)throw new RangeError("'offset' is out of bounds");if(Kr.byteLength<Pr+(qr||0))throw new RangeError("'length' is out of bounds");var Qr;return Pr===void 0&&qr===void 0?Qr=new Uint8Array(Kr):qr===void 0?Qr=new Uint8Array(Kr,Pr):Qr=new Uint8Array(Kr,Pr,qr),Qr.__proto__=_r.prototype,Qr}function Rr(Kr){if(_r.isBuffer(Kr)){var Pr=Fr(Kr.length)|0,qr=mr(Pr);return qr.length===0||Kr.copy(qr,0,0,Pr),qr}if(Kr){if(xi(Kr)||"length"in Kr)return typeof Kr.length!="number"||Ai(Kr.length)?mr(0):Or(Kr);if(Kr.type==="Buffer"&&Array.isArray(Kr.data))return Or(Kr.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function Fr(Kr){if(Kr>=br)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+br.toString(16)+" bytes");return Kr|0}function Nr(Kr){return+Kr!=Kr&&(Kr=0),_r.alloc(+Kr)}_r.isBuffer=function(Pr){return Pr!=null&&Pr._isBuffer===!0},_r.compare=function(Pr,qr){if(!_r.isBuffer(Pr)||!_r.isBuffer(qr))throw new TypeError("Arguments must be Buffers");if(Pr===qr)return 0;for(var Qr=Pr.length,ai=qr.length,fi=0,vi=Math.min(Qr,ai);fi<vi;++fi)if(Pr[fi]!==qr[fi]){Qr=Pr[fi],ai=qr[fi];break}return Qr<ai?-1:ai<Qr?1:0},_r.isEncoding=function(Pr){switch(String(Pr).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},_r.concat=function(Pr,qr){if(!Array.isArray(Pr))throw new TypeError('"list" argument must be an Array of Buffers');if(Pr.length===0)return _r.alloc(0);var Qr;if(qr===void 0)for(qr=0,Qr=0;Qr<Pr.length;++Qr)qr+=Pr[Qr].length;var ai=_r.allocUnsafe(qr),fi=0;for(Qr=0;Qr<Pr.length;++Qr){var vi=Pr[Qr];if(!_r.isBuffer(vi))throw new TypeError('"list" argument must be an Array of Buffers');vi.copy(ai,fi),fi+=vi.length}return ai};function Hr(Kr,Pr){if(_r.isBuffer(Kr))return Kr.length;if(xi(Kr)||ri(Kr))return Kr.byteLength;typeof Kr!="string"&&(Kr=""+Kr);var qr=Kr.length;if(qr===0)return 0;for(var Qr=!1;;)switch(Pr){case"ascii":case"latin1":case"binary":return qr;case"utf8":case"utf-8":case void 0:return Mi(Kr).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return qr*2;case"hex":return qr>>>1;case"base64":return gi(Kr).length;default:if(Qr)return Mi(Kr).length;Pr=(""+Pr).toLowerCase(),Qr=!0}}_r.byteLength=Hr;function jr(Kr,Pr,qr){var Qr=!1;if((Pr===void 0||Pr<0)&&(Pr=0),Pr>this.length||((qr===void 0||qr>this.length)&&(qr=this.length),qr<=0)||(qr>>>=0,Pr>>>=0,qr<=Pr))return"";for(Kr||(Kr="utf8");;)switch(Kr){case"hex":return pi(this,Pr,qr);case"utf8":case"utf-8":return Fi(this,Pr,qr);case"ascii":return $r(this,Pr,qr);case"latin1":case"binary":return ei(this,Pr,qr);case"base64":return _i(this,Pr,qr);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ui(this,Pr,qr);default:if(Qr)throw new TypeError("Unknown encoding: "+Kr);Kr=(Kr+"").toLowerCase(),Qr=!0}}_r.prototype._isBuffer=!0;function Jr(Kr,Pr,qr){var Qr=Kr[Pr];Kr[Pr]=Kr[qr],Kr[qr]=Qr}_r.prototype.swap16=function(){var Pr=this.length;if(Pr%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var qr=0;qr<Pr;qr+=2)Jr(this,qr,qr+1);return this},_r.prototype.swap32=function(){var Pr=this.length;if(Pr%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var qr=0;qr<Pr;qr+=4)Jr(this,qr,qr+3),Jr(this,qr+1,qr+2);return this},_r.prototype.swap64=function(){var Pr=this.length;if(Pr%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var qr=0;qr<Pr;qr+=8)Jr(this,qr,qr+7),Jr(this,qr+1,qr+6),Jr(this,qr+2,qr+5),Jr(this,qr+3,qr+4);return this},_r.prototype.toString=function(){var Pr=this.length;return Pr===0?"":arguments.length===0?Fi(this,0,Pr):jr.apply(this,arguments)},_r.prototype.equals=function(Pr){if(!_r.isBuffer(Pr))throw new TypeError("Argument must be a Buffer");return this===Pr?!0:_r.compare(this,Pr)===0},_r.prototype.inspect=function(){var Pr="",qr=or.INSPECT_MAX_BYTES;return this.length>0&&(Pr=this.toString("hex",0,qr).match(/.{2}/g).join(" "),this.length>qr&&(Pr+=" ... ")),"<Buffer "+Pr+">"},_r.prototype.compare=function(Pr,qr,Qr,ai,fi){if(!_r.isBuffer(Pr))throw new TypeError("Argument must be a Buffer");if(qr===void 0&&(qr=0),Qr===void 0&&(Qr=Pr?Pr.length:0),ai===void 0&&(ai=0),fi===void 0&&(fi=this.length),qr<0||Qr>Pr.length||ai<0||fi>this.length)throw new RangeError("out of range index");if(ai>=fi&&qr>=Qr)return 0;if(ai>=fi)return-1;if(qr>=Qr)return 1;if(qr>>>=0,Qr>>>=0,ai>>>=0,fi>>>=0,this===Pr)return 0;for(var vi=fi-ai,Ri=Qr-qr,Yi=Math.min(vi,Ri),Xi=this.slice(ai,fi),Ui=Pr.slice(qr,Qr),Bi=0;Bi<Yi;++Bi)if(Xi[Bi]!==Ui[Bi]){vi=Xi[Bi],Ri=Ui[Bi];break}return vi<Ri?-1:Ri<vi?1:0};function Yr(Kr,Pr,qr,Qr,ai){if(Kr.length===0)return-1;if(typeof qr=="string"?(Qr=qr,qr=0):qr>2147483647?qr=2147483647:qr<-2147483648&&(qr=-2147483648),qr=+qr,Ai(qr)&&(qr=ai?0:Kr.length-1),qr<0&&(qr=Kr.length+qr),qr>=Kr.length){if(ai)return-1;qr=Kr.length-1}else if(qr<0)if(ai)qr=0;else return-1;if(typeof Pr=="string"&&(Pr=_r.from(Pr,Qr)),_r.isBuffer(Pr))return Pr.length===0?-1:Ur(Kr,Pr,qr,Qr,ai);if(typeof Pr=="number")return Pr=Pr&255,typeof Uint8Array.prototype.indexOf=="function"?ai?Uint8Array.prototype.indexOf.call(Kr,Pr,qr):Uint8Array.prototype.lastIndexOf.call(Kr,Pr,qr):Ur(Kr,[Pr],qr,Qr,ai);throw new TypeError("val must be string, number or Buffer")}function Ur(Kr,Pr,qr,Qr,ai){var fi=1,vi=Kr.length,Ri=Pr.length;if(Qr!==void 0&&(Qr=String(Qr).toLowerCase(),Qr==="ucs2"||Qr==="ucs-2"||Qr==="utf16le"||Qr==="utf-16le")){if(Kr.length<2||Pr.length<2)return-1;fi=2,vi/=2,Ri/=2,qr/=2}function Yi(Sa,Ta){return fi===1?Sa[Ta]:Sa.readUInt16BE(Ta*fi)}var Xi;if(ai){var Ui=-1;for(Xi=qr;Xi<vi;Xi++)if(Yi(Kr,Xi)===Yi(Pr,Ui===-1?0:Xi-Ui)){if(Ui===-1&&(Ui=Xi),Xi-Ui+1===Ri)return Ui*fi}else Ui!==-1&&(Xi-=Xi-Ui),Ui=-1}else for(qr+Ri>vi&&(qr=vi-Ri),Xi=qr;Xi>=0;Xi--){for(var Bi=!0,Zi=0;Zi<Ri;Zi++)if(Yi(Kr,Xi+Zi)!==Yi(Pr,Zi)){Bi=!1;break}if(Bi)return Xi}return-1}_r.prototype.includes=function(Pr,qr,Qr){return this.indexOf(Pr,qr,Qr)!==-1},_r.prototype.indexOf=function(Pr,qr,Qr){return Yr(this,Pr,qr,Qr,!0)},_r.prototype.lastIndexOf=function(Pr,qr,Qr){return Yr(this,Pr,qr,Qr,!1)};function Zr(Kr,Pr,qr,Qr){qr=Number(qr)||0;var ai=Kr.length-qr;Qr?(Qr=Number(Qr),Qr>ai&&(Qr=ai)):Qr=ai;var fi=Pr.length;if(fi%2!==0)throw new TypeError("Invalid hex string");Qr>fi/2&&(Qr=fi/2);for(var vi=0;vi<Qr;++vi){var Ri=parseInt(Pr.substr(vi*2,2),16);if(Ai(Ri))return vi;Kr[qr+vi]=Ri}return vi}function Wr(Kr,Pr,qr,Qr){return ti(Mi(Pr,Kr.length-qr),Kr,qr,Qr)}function ni(Kr,Pr,qr,Qr){return ti(Mr(Pr),Kr,qr,Qr)}function Lr(Kr,Pr,qr,Qr){return ni(Kr,Pr,qr,Qr)}function hi(Kr,Pr,qr,Qr){return ti(gi(Pr),Kr,qr,Qr)}function Ei(Kr,Pr,qr,Qr){return ti(di(Pr,Kr.length-qr),Kr,qr,Qr)}_r.prototype.write=function(Pr,qr,Qr,ai){if(qr===void 0)ai="utf8",Qr=this.length,qr=0;else if(Qr===void 0&&typeof qr=="string")ai=qr,Qr=this.length,qr=0;else if(isFinite(qr))qr=qr>>>0,isFinite(Qr)?(Qr=Qr>>>0,ai===void 0&&(ai="utf8")):(ai=Qr,Qr=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var fi=this.length-qr;if((Qr===void 0||Qr>fi)&&(Qr=fi),Pr.length>0&&(Qr<0||qr<0)||qr>this.length)throw new RangeError("Attempt to write outside buffer bounds");ai||(ai="utf8");for(var vi=!1;;)switch(ai){case"hex":return Zr(this,Pr,qr,Qr);case"utf8":case"utf-8":return Wr(this,Pr,qr,Qr);case"ascii":return ni(this,Pr,qr,Qr);case"latin1":case"binary":return Lr(this,Pr,qr,Qr);case"base64":return hi(this,Pr,qr,Qr);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ei(this,Pr,qr,Qr);default:if(vi)throw new TypeError("Unknown encoding: "+ai);ai=(""+ai).toLowerCase(),vi=!0}},_r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function _i(Kr,Pr,qr){return Pr===0&&qr===Kr.length?xr.fromByteArray(Kr):xr.fromByteArray(Kr.slice(Pr,qr))}function Fi(Kr,Pr,qr){qr=Math.min(Kr.length,qr);for(var Qr=[],ai=Pr;ai<qr;){var fi=Kr[ai],vi=null,Ri=fi>239?4:fi>223?3:fi>191?2:1;if(ai+Ri<=qr){var Yi,Xi,Ui,Bi;switch(Ri){case 1:fi<128&&(vi=fi);break;case 2:Yi=Kr[ai+1],(Yi&192)===128&&(Bi=(fi&31)<<6|Yi&63,Bi>127&&(vi=Bi));break;case 3:Yi=Kr[ai+1],Xi=Kr[ai+2],(Yi&192)===128&&(Xi&192)===128&&(Bi=(fi&15)<<12|(Yi&63)<<6|Xi&63,Bi>2047&&(Bi<55296||Bi>57343)&&(vi=Bi));break;case 4:Yi=Kr[ai+1],Xi=Kr[ai+2],Ui=Kr[ai+3],(Yi&192)===128&&(Xi&192)===128&&(Ui&192)===128&&(Bi=(fi&15)<<18|(Yi&63)<<12|(Xi&63)<<6|Ui&63,Bi>65535&&Bi<1114112&&(vi=Bi))}}vi===null?(vi=65533,Ri=1):vi>65535&&(vi-=65536,Qr.push(vi>>>10&1023|55296),vi=56320|vi&1023),Qr.push(vi),ai+=Ri}return ci(Qr)}var si=4096;function ci(Kr){var Pr=Kr.length;if(Pr<=si)return String.fromCharCode.apply(String,Kr);for(var qr="",Qr=0;Qr<Pr;)qr+=String.fromCharCode.apply(String,Kr.slice(Qr,Qr+=si));return qr}function $r(Kr,Pr,qr){var Qr="";qr=Math.min(Kr.length,qr);for(var ai=Pr;ai<qr;++ai)Qr+=String.fromCharCode(Kr[ai]&127);return Qr}function ei(Kr,Pr,qr){var Qr="";qr=Math.min(Kr.length,qr);for(var ai=Pr;ai<qr;++ai)Qr+=String.fromCharCode(Kr[ai]);return Qr}function pi(Kr,Pr,qr){var Qr=Kr.length;(!Pr||Pr<0)&&(Pr=0),(!qr||qr<0||qr>Qr)&&(qr=Qr);for(var ai="",fi=Pr;fi<qr;++fi)ai+=Di(Kr[fi]);return ai}function ui(Kr,Pr,qr){for(var Qr=Kr.slice(Pr,qr),ai="",fi=0;fi<Qr.length;fi+=2)ai+=String.fromCharCode(Qr[fi]+Qr[fi+1]*256);return ai}_r.prototype.slice=function(Pr,qr){var Qr=this.length;Pr=~~Pr,qr=qr===void 0?Qr:~~qr,Pr<0?(Pr+=Qr,Pr<0&&(Pr=0)):Pr>Qr&&(Pr=Qr),qr<0?(qr+=Qr,qr<0&&(qr=0)):qr>Qr&&(qr=Qr),qr<Pr&&(qr=Pr);var ai=this.subarray(Pr,qr);return ai.__proto__=_r.prototype,ai};function bi(Kr,Pr,qr){if(Kr%1!==0||Kr<0)throw new RangeError("offset is not uint");if(Kr+Pr>qr)throw new RangeError("Trying to access beyond buffer length")}_r.prototype.readUIntLE=function(Pr,qr,Qr){Pr=Pr>>>0,qr=qr>>>0,Qr||bi(Pr,qr,this.length);for(var ai=this[Pr],fi=1,vi=0;++vi<qr&&(fi*=256);)ai+=this[Pr+vi]*fi;return ai},_r.prototype.readUIntBE=function(Pr,qr,Qr){Pr=Pr>>>0,qr=qr>>>0,Qr||bi(Pr,qr,this.length);for(var ai=this[Pr+--qr],fi=1;qr>0&&(fi*=256);)ai+=this[Pr+--qr]*fi;return ai},_r.prototype.readUInt8=function(Pr,qr){return Pr=Pr>>>0,qr||bi(Pr,1,this.length),this[Pr]},_r.prototype.readUInt16LE=function(Pr,qr){return Pr=Pr>>>0,qr||bi(Pr,2,this.length),this[Pr]|this[Pr+1]<<8},_r.prototype.readUInt16BE=function(Pr,qr){return Pr=Pr>>>0,qr||bi(Pr,2,this.length),this[Pr]<<8|this[Pr+1]},_r.prototype.readUInt32LE=function(Pr,qr){return Pr=Pr>>>0,qr||bi(Pr,4,this.length),(this[Pr]|this[Pr+1]<<8|this[Pr+2]<<16)+this[Pr+3]*16777216},_r.prototype.readUInt32BE=function(Pr,qr){return Pr=Pr>>>0,qr||bi(Pr,4,this.length),this[Pr]*16777216+(this[Pr+1]<<16|this[Pr+2]<<8|this[Pr+3])},_r.prototype.readIntLE=function(Pr,qr,Qr){Pr=Pr>>>0,qr=qr>>>0,Qr||bi(Pr,qr,this.length);for(var ai=this[Pr],fi=1,vi=0;++vi<qr&&(fi*=256);)ai+=this[Pr+vi]*fi;return fi*=128,ai>=fi&&(ai-=Math.pow(2,8*qr)),ai},_r.prototype.readIntBE=function(Pr,qr,Qr){Pr=Pr>>>0,qr=qr>>>0,Qr||bi(Pr,qr,this.length);for(var ai=qr,fi=1,vi=this[Pr+--ai];ai>0&&(fi*=256);)vi+=this[Pr+--ai]*fi;return fi*=128,vi>=fi&&(vi-=Math.pow(2,8*qr)),vi},_r.prototype.readInt8=function(Pr,qr){return Pr=Pr>>>0,qr||bi(Pr,1,this.length),this[Pr]&128?(255-this[Pr]+1)*-1:this[Pr]},_r.prototype.readInt16LE=function(Pr,qr){Pr=Pr>>>0,qr||bi(Pr,2,this.length);var Qr=this[Pr]|this[Pr+1]<<8;return Qr&32768?Qr|4294901760:Qr},_r.prototype.readInt16BE=function(Pr,qr){Pr=Pr>>>0,qr||bi(Pr,2,this.length);var Qr=this[Pr+1]|this[Pr]<<8;return Qr&32768?Qr|4294901760:Qr},_r.prototype.readInt32LE=function(Pr,qr){return Pr=Pr>>>0,qr||bi(Pr,4,this.length),this[Pr]|this[Pr+1]<<8|this[Pr+2]<<16|this[Pr+3]<<24},_r.prototype.readInt32BE=function(Pr,qr){return Pr=Pr>>>0,qr||bi(Pr,4,this.length),this[Pr]<<24|this[Pr+1]<<16|this[Pr+2]<<8|this[Pr+3]},_r.prototype.readFloatLE=function(Pr,qr){return Pr=Pr>>>0,qr||bi(Pr,4,this.length),pr.read(this,Pr,!0,23,4)},_r.prototype.readFloatBE=function(Pr,qr){return Pr=Pr>>>0,qr||bi(Pr,4,this.length),pr.read(this,Pr,!1,23,4)},_r.prototype.readDoubleLE=function(Pr,qr){return Pr=Pr>>>0,qr||bi(Pr,8,this.length),pr.read(this,Pr,!0,52,8)},_r.prototype.readDoubleBE=function(Pr,qr){return Pr=Pr>>>0,qr||bi(Pr,8,this.length),pr.read(this,Pr,!1,52,8)};function qi(Kr,Pr,qr,Qr,ai,fi){if(!_r.isBuffer(Kr))throw new TypeError('"buffer" argument must be a Buffer instance');if(Pr>ai||Pr<fi)throw new RangeError('"value" argument is out of bounds');if(qr+Qr>Kr.length)throw new RangeError("Index out of range")}_r.prototype.writeUIntLE=function(Pr,qr,Qr,ai){if(Pr=+Pr,qr=qr>>>0,Qr=Qr>>>0,!ai){var fi=Math.pow(2,8*Qr)-1;qi(this,Pr,qr,Qr,fi,0)}var vi=1,Ri=0;for(this[qr]=Pr&255;++Ri<Qr&&(vi*=256);)this[qr+Ri]=Pr/vi&255;return qr+Qr},_r.prototype.writeUIntBE=function(Pr,qr,Qr,ai){if(Pr=+Pr,qr=qr>>>0,Qr=Qr>>>0,!ai){var fi=Math.pow(2,8*Qr)-1;qi(this,Pr,qr,Qr,fi,0)}var vi=Qr-1,Ri=1;for(this[qr+vi]=Pr&255;--vi>=0&&(Ri*=256);)this[qr+vi]=Pr/Ri&255;return qr+Qr},_r.prototype.writeUInt8=function(Pr,qr,Qr){return Pr=+Pr,qr=qr>>>0,Qr||qi(this,Pr,qr,1,255,0),this[qr]=Pr&255,qr+1},_r.prototype.writeUInt16LE=function(Pr,qr,Qr){return Pr=+Pr,qr=qr>>>0,Qr||qi(this,Pr,qr,2,65535,0),this[qr]=Pr&255,this[qr+1]=Pr>>>8,qr+2},_r.prototype.writeUInt16BE=function(Pr,qr,Qr){return Pr=+Pr,qr=qr>>>0,Qr||qi(this,Pr,qr,2,65535,0),this[qr]=Pr>>>8,this[qr+1]=Pr&255,qr+2},_r.prototype.writeUInt32LE=function(Pr,qr,Qr){return Pr=+Pr,qr=qr>>>0,Qr||qi(this,Pr,qr,4,4294967295,0),this[qr+3]=Pr>>>24,this[qr+2]=Pr>>>16,this[qr+1]=Pr>>>8,this[qr]=Pr&255,qr+4},_r.prototype.writeUInt32BE=function(Pr,qr,Qr){return Pr=+Pr,qr=qr>>>0,Qr||qi(this,Pr,qr,4,4294967295,0),this[qr]=Pr>>>24,this[qr+1]=Pr>>>16,this[qr+2]=Pr>>>8,this[qr+3]=Pr&255,qr+4},_r.prototype.writeIntLE=function(Pr,qr,Qr,ai){if(Pr=+Pr,qr=qr>>>0,!ai){var fi=Math.pow(2,8*Qr-1);qi(this,Pr,qr,Qr,fi-1,-fi)}var vi=0,Ri=1,Yi=0;for(this[qr]=Pr&255;++vi<Qr&&(Ri*=256);)Pr<0&&Yi===0&&this[qr+vi-1]!==0&&(Yi=1),this[qr+vi]=(Pr/Ri>>0)-Yi&255;return qr+Qr},_r.prototype.writeIntBE=function(Pr,qr,Qr,ai){if(Pr=+Pr,qr=qr>>>0,!ai){var fi=Math.pow(2,8*Qr-1);qi(this,Pr,qr,Qr,fi-1,-fi)}var vi=Qr-1,Ri=1,Yi=0;for(this[qr+vi]=Pr&255;--vi>=0&&(Ri*=256);)Pr<0&&Yi===0&&this[qr+vi+1]!==0&&(Yi=1),this[qr+vi]=(Pr/Ri>>0)-Yi&255;return qr+Qr},_r.prototype.writeInt8=function(Pr,qr,Qr){return Pr=+Pr,qr=qr>>>0,Qr||qi(this,Pr,qr,1,127,-128),Pr<0&&(Pr=255+Pr+1),this[qr]=Pr&255,qr+1},_r.prototype.writeInt16LE=function(Pr,qr,Qr){return Pr=+Pr,qr=qr>>>0,Qr||qi(this,Pr,qr,2,32767,-32768),this[qr]=Pr&255,this[qr+1]=Pr>>>8,qr+2},_r.prototype.writeInt16BE=function(Pr,qr,Qr){return Pr=+Pr,qr=qr>>>0,Qr||qi(this,Pr,qr,2,32767,-32768),this[qr]=Pr>>>8,this[qr+1]=Pr&255,qr+2},_r.prototype.writeInt32LE=function(Pr,qr,Qr){return Pr=+Pr,qr=qr>>>0,Qr||qi(this,Pr,qr,4,2147483647,-2147483648),this[qr]=Pr&255,this[qr+1]=Pr>>>8,this[qr+2]=Pr>>>16,this[qr+3]=Pr>>>24,qr+4},_r.prototype.writeInt32BE=function(Pr,qr,Qr){return Pr=+Pr,qr=qr>>>0,Qr||qi(this,Pr,qr,4,2147483647,-2147483648),Pr<0&&(Pr=4294967295+Pr+1),this[qr]=Pr>>>24,this[qr+1]=Pr>>>16,this[qr+2]=Pr>>>8,this[qr+3]=Pr&255,qr+4};function Ki(Kr,Pr,qr,Qr,ai,fi){if(qr+Qr>Kr.length)throw new RangeError("Index out of range");if(qr<0)throw new RangeError("Index out of range")}function Ti(Kr,Pr,qr,Qr,ai){return Pr=+Pr,qr=qr>>>0,ai||Ki(Kr,Pr,qr,4),pr.write(Kr,Pr,qr,Qr,23,4),qr+4}_r.prototype.writeFloatLE=function(Pr,qr,Qr){return Ti(this,Pr,qr,!0,Qr)},_r.prototype.writeFloatBE=function(Pr,qr,Qr){return Ti(this,Pr,qr,!1,Qr)};function ii(Kr,Pr,qr,Qr,ai){return Pr=+Pr,qr=qr>>>0,ai||Ki(Kr,Pr,qr,8),pr.write(Kr,Pr,qr,Qr,52,8),qr+8}_r.prototype.writeDoubleLE=function(Pr,qr,Qr){return ii(this,Pr,qr,!0,Qr)},_r.prototype.writeDoubleBE=function(Pr,qr,Qr){return ii(this,Pr,qr,!1,Qr)},_r.prototype.copy=function(Pr,qr,Qr,ai){if(Qr||(Qr=0),!ai&&ai!==0&&(ai=this.length),qr>=Pr.length&&(qr=Pr.length),qr||(qr=0),ai>0&&ai<Qr&&(ai=Qr),ai===Qr||Pr.length===0||this.length===0)return 0;if(qr<0)throw new RangeError("targetStart out of bounds");if(Qr<0||Qr>=this.length)throw new RangeError("sourceStart out of bounds");if(ai<0)throw new RangeError("sourceEnd out of bounds");ai>this.length&&(ai=this.length),Pr.length-qr<ai-Qr&&(ai=Pr.length-qr+Qr);var fi=ai-Qr,vi;if(this===Pr&&Qr<qr&&qr<ai)for(vi=fi-1;vi>=0;--vi)Pr[vi+qr]=this[vi+Qr];else if(fi<1e3)for(vi=0;vi<fi;++vi)Pr[vi+qr]=this[vi+Qr];else Uint8Array.prototype.set.call(Pr,this.subarray(Qr,Qr+fi),qr);return fi},_r.prototype.fill=function(Pr,qr,Qr,ai){if(typeof Pr=="string"){if(typeof qr=="string"?(ai=qr,qr=0,Qr=this.length):typeof Qr=="string"&&(ai=Qr,Qr=this.length),Pr.length===1){var fi=Pr.charCodeAt(0);fi<256&&(Pr=fi)}if(ai!==void 0&&typeof ai!="string")throw new TypeError("encoding must be a string");if(typeof ai=="string"&&!_r.isEncoding(ai))throw new TypeError("Unknown encoding: "+ai)}else typeof Pr=="number"&&(Pr=Pr&255);if(qr<0||this.length<qr||this.length<Qr)throw new RangeError("Out of range index");if(Qr<=qr)return this;qr=qr>>>0,Qr=Qr===void 0?this.length:Qr>>>0,Pr||(Pr=0);var vi;if(typeof Pr=="number")for(vi=qr;vi<Qr;++vi)this[vi]=Pr;else{var Ri=_r.isBuffer(Pr)?Pr:new _r(Pr,ai),Yi=Ri.length;for(vi=0;vi<Qr-qr;++vi)this[vi+qr]=Ri[vi%Yi]}return this};var oi=/[^+/0-9A-Za-z-_]/g;function Si(Kr){if(Kr=Kr.trim().replace(oi,""),Kr.length<2)return"";for(;Kr.length%4!==0;)Kr=Kr+"=";return Kr}function Di(Kr){return Kr<16?"0"+Kr.toString(16):Kr.toString(16)}function Mi(Kr,Pr){Pr=Pr||1/0;for(var qr,Qr=Kr.length,ai=null,fi=[],vi=0;vi<Qr;++vi){if(qr=Kr.charCodeAt(vi),qr>55295&&qr<57344){if(!ai){if(qr>56319){(Pr-=3)>-1&&fi.push(239,191,189);continue}else if(vi+1===Qr){(Pr-=3)>-1&&fi.push(239,191,189);continue}ai=qr;continue}if(qr<56320){(Pr-=3)>-1&&fi.push(239,191,189),ai=qr;continue}qr=(ai-55296<<10|qr-56320)+65536}else ai&&(Pr-=3)>-1&&fi.push(239,191,189);if(ai=null,qr<128){if((Pr-=1)<0)break;fi.push(qr)}else if(qr<2048){if((Pr-=2)<0)break;fi.push(qr>>6|192,qr&63|128)}else if(qr<65536){if((Pr-=3)<0)break;fi.push(qr>>12|224,qr>>6&63|128,qr&63|128)}else if(qr<1114112){if((Pr-=4)<0)break;fi.push(qr>>18|240,qr>>12&63|128,qr>>6&63|128,qr&63|128)}else throw new Error("Invalid code point")}return fi}function Mr(Kr){for(var Pr=[],qr=0;qr<Kr.length;++qr)Pr.push(Kr.charCodeAt(qr)&255);return Pr}function di(Kr,Pr){for(var qr,Qr,ai,fi=[],vi=0;vi<Kr.length&&!((Pr-=2)<0);++vi)qr=Kr.charCodeAt(vi),Qr=qr>>8,ai=qr%256,fi.push(ai),fi.push(Qr);return fi}function gi(Kr){return xr.toByteArray(Si(Kr))}function ti(Kr,Pr,qr,Qr){for(var ai=0;ai<Qr&&!(ai+qr>=Pr.length||ai>=Kr.length);++ai)Pr[ai+qr]=Kr[ai];return ai}function ri(Kr){return Kr instanceof ArrayBuffer||Kr!=null&&Kr.constructor!=null&&Kr.constructor.name==="ArrayBuffer"&&typeof Kr.byteLength=="number"}function xi(Kr){return typeof ArrayBuffer.isView=="function"&&ArrayBuffer.isView(Kr)}function Ai(Kr){return Kr!==Kr}}).call(or,ur(1))},function(ar,or){or.byteLength=_r,or.toByteArray=Sr,or.fromByteArray=Ar;for(var ur=[],fr=[],xr=typeof Uint8Array<"u"?Uint8Array:Array,pr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",br=0,gr=pr.length;br<gr;++br)ur[br]=pr[br],fr[pr.charCodeAt(br)]=br;fr["-".charCodeAt(0)]=62,fr["_".charCodeAt(0)]=63;function mr(kr){var Or=kr.length;if(Or%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return kr[Or-2]==="="?2:kr[Or-1]==="="?1:0}function _r(kr){return kr.length*3/4-mr(kr)}function Sr(kr){var Or,Dr,Rr,Fr,Nr,Hr,jr=kr.length;Nr=mr(kr),Hr=new xr(jr*3/4-Nr),Rr=Nr>0?jr-4:jr;var Jr=0;for(Or=0,Dr=0;Or<Rr;Or+=4,Dr+=3)Fr=fr[kr.charCodeAt(Or)]<<18|fr[kr.charCodeAt(Or+1)]<<12|fr[kr.charCodeAt(Or+2)]<<6|fr[kr.charCodeAt(Or+3)],Hr[Jr++]=Fr>>16&255,Hr[Jr++]=Fr>>8&255,Hr[Jr++]=Fr&255;return Nr===2?(Fr=fr[kr.charCodeAt(Or)]<<2|fr[kr.charCodeAt(Or+1)]>>4,Hr[Jr++]=Fr&255):Nr===1&&(Fr=fr[kr.charCodeAt(Or)]<<10|fr[kr.charCodeAt(Or+1)]<<4|fr[kr.charCodeAt(Or+2)]>>2,Hr[Jr++]=Fr>>8&255,Hr[Jr++]=Fr&255),Hr}function yr(kr){return ur[kr>>18&63]+ur[kr>>12&63]+ur[kr>>6&63]+ur[kr&63]}function Cr(kr,Or,Dr){for(var Rr,Fr=[],Nr=Or;Nr<Dr;Nr+=3)Rr=(kr[Nr]<<16)+(kr[Nr+1]<<8)+kr[Nr+2],Fr.push(yr(Rr));return Fr.join("")}function Ar(kr){for(var Or,Dr=kr.length,Rr=Dr%3,Fr="",Nr=[],Hr=16383,jr=0,Jr=Dr-Rr;jr<Jr;jr+=Hr)Nr.push(Cr(kr,jr,jr+Hr>Jr?Jr:jr+Hr));return Rr===1?(Or=kr[Dr-1],Fr+=ur[Or>>2],Fr+=ur[Or<<4&63],Fr+="=="):Rr===2&&(Or=(kr[Dr-2]<<8)+kr[Dr-1],Fr+=ur[Or>>10],Fr+=ur[Or>>4&63],Fr+=ur[Or<<2&63],Fr+="="),Nr.push(Fr),Nr.join("")}},function(ar,or){or.read=function(ur,fr,xr,pr,br){var gr,mr,_r=br*8-pr-1,Sr=(1<<_r)-1,yr=Sr>>1,Cr=-7,Ar=xr?br-1:0,kr=xr?-1:1,Or=ur[fr+Ar];for(Ar+=kr,gr=Or&(1<<-Cr)-1,Or>>=-Cr,Cr+=_r;Cr>0;gr=gr*256+ur[fr+Ar],Ar+=kr,Cr-=8);for(mr=gr&(1<<-Cr)-1,gr>>=-Cr,Cr+=pr;Cr>0;mr=mr*256+ur[fr+Ar],Ar+=kr,Cr-=8);if(gr===0)gr=1-yr;else{if(gr===Sr)return mr?NaN:(Or?-1:1)*(1/0);mr=mr+Math.pow(2,pr),gr=gr-yr}return(Or?-1:1)*mr*Math.pow(2,gr-pr)},or.write=function(ur,fr,xr,pr,br,gr){var mr,_r,Sr,yr=gr*8-br-1,Cr=(1<<yr)-1,Ar=Cr>>1,kr=br===23?Math.pow(2,-24)-Math.pow(2,-77):0,Or=pr?0:gr-1,Dr=pr?1:-1,Rr=fr<0||fr===0&&1/fr<0?1:0;for(fr=Math.abs(fr),isNaN(fr)||fr===1/0?(_r=isNaN(fr)?1:0,mr=Cr):(mr=Math.floor(Math.log(fr)/Math.LN2),fr*(Sr=Math.pow(2,-mr))<1&&(mr--,Sr*=2),mr+Ar>=1?fr+=kr/Sr:fr+=kr*Math.pow(2,1-Ar),fr*Sr>=2&&(mr++,Sr/=2),mr+Ar>=Cr?(_r=0,mr=Cr):mr+Ar>=1?(_r=(fr*Sr-1)*Math.pow(2,br),mr=mr+Ar):(_r=fr*Math.pow(2,Ar-1)*Math.pow(2,br),mr=0));br>=8;ur[xr+Or]=_r&255,Or+=Dr,_r/=256,br-=8);for(mr=mr<<br|_r,yr+=br;yr>0;ur[xr+Or]=mr&255,Or+=Dr,mr/=256,yr-=8);ur[xr+Or-Dr]|=Rr*128}},function(ar,or){ar.exports=function(ur){return ur.webpackPolyfill||(ur.deprecate=function(){},ur.paths=[],ur.children=[],ur.webpackPolyfill=1),ur}},function(ar,or,ur){var fr=ur(7),xr=new fr,pr={};function br(mr){pr[mr]||(typeof xr[mr]=="function"?pr[mr]=function(){return xr[mr].apply(xr,arguments)}:pr[mr]=xr[mr])}for(var gr in xr)br(gr);pr.initializeTTYs=function(){xr.stdin===null&&(xr.initializeTTYs(),pr.stdin=xr.stdin,pr.stdout=xr.stdout,pr.stderr=xr.stderr)},xr.nextTick(function(){pr.initializeTTYs()}),ar.exports=pr},function(ar,or,ur){(function(fr){var xr=this&&this.__extends||function(Sr,yr){for(var Cr in yr)yr.hasOwnProperty(Cr)&&(Sr[Cr]=yr[Cr]);function Ar(){this.constructor=Sr}Sr.prototype=yr===null?Object.create(yr):(Ar.prototype=yr.prototype,new Ar)},pr=ur(8),br=null,gr=function(){function Sr(yr,Cr){this.fun=yr,this.array=Cr}return Sr.prototype.run=function(){this.fun.apply(null,this.array)},Sr}(),mr=function(){function Sr(){this._queue=[],this._draining=!1,this._currentQueue=null,this._queueIndex=-1}return Sr.prototype.push=function(yr){var Cr=this;this._queue.push(yr)===1&&!this._draining&&setTimeout(function(){return Cr._drainQueue()},0)},Sr.prototype._cleanUpNextTick=function(){this._draining=!1,this._currentQueue&&this._currentQueue.length?this._queue=this._currentQueue.concat(this._queue):this._queueIndex=-1,this._queue.length&&this._drainQueue()},Sr.prototype._drainQueue=function(){var yr=this;if(!this._draining){var Cr=setTimeout(function(){return yr._cleanUpNextTick()});this._draining=!0;for(var Ar=this._queue.length;Ar;){for(this._currentQueue=this._queue,this._queue=[];++this._queueIndex<Ar;)this._currentQueue&&this._currentQueue[this._queueIndex].run();this._queueIndex=-1,Ar=this._queue.length}this._currentQueue=null,this._draining=!1,clearTimeout(Cr)}},Sr}(),_r=function(Sr){xr(yr,Sr);function yr(){Sr.apply(this,arguments),this.startTime=Date.now(),this._cwd="/",this.platform="browser",this.argv=[],this.execArgv=[],this.stdout=null,this.stderr=null,this.stdin=null,this.domain=null,this._queue=new mr,this.execPath=fr,this.env={},this.exitCode=0,this._gid=1,this._uid=1,this.version="v5.0",this.versions={http_parser:"0.0",node:"5.0",v8:"0.0",uv:"0.0",zlib:"0.0",ares:"0.0",icu:"0.0",modules:"0",openssl:"0.0"},this.config={target_defaults:{cflags:[],default_configuration:"Release",defines:[],include_dirs:[],libraries:[]},variables:{clang:0,host_arch:"x32",node_install_npm:!1,node_install_waf:!1,node_prefix:"",node_shared_cares:!1,node_shared_http_parser:!1,node_shared_libuv:!1,node_shared_zlib:!1,node_shared_v8:!1,node_use_dtrace:!1,node_use_etw:!1,node_use_openssl:!1,node_shared_openssl:!1,strict_aliasing:!1,target_arch:"x32",v8_use_snapshot:!1,v8_no_strict_aliasing:0,visibility:""}},this.pid=Math.random()*1e3|0,this.title="node",this.arch="x32",this._mask=18,this.connected=void 0}return yr.prototype.chdir=function(Cr){br===null&&(br=ur(9)),this._cwd=br.resolve(Cr)},yr.prototype.cwd=function(){return this._cwd},yr.prototype.uptime=function(){return(Date.now()-this.startTime)/1e3|0},yr.prototype.nextTick=function(Cr){for(var Ar=[],kr=1;kr<arguments.length;kr++)Ar[kr-1]=arguments[kr];this._queue.push(new gr(Cr,Ar))},yr.prototype.abort=function(){this.emit("abort")},yr.prototype.exit=function(Cr){this.exitCode=Cr,this.emit("exit",[Cr])},yr.prototype.getgid=function(){return this._gid},yr.prototype.setgid=function(Cr){typeof Cr=="number"?this._gid=Cr:this._gid=1},yr.prototype.getuid=function(){return this._uid},yr.prototype.setuid=function(Cr){typeof Cr=="number"?this._uid=Cr:this._uid=1},yr.prototype.kill=function(Cr,Ar){this.emit("kill",[Cr,Ar])},yr.prototype.memoryUsage=function(){return{rss:0,heapTotal:0,heapUsed:0}},yr.prototype.umask=function(Cr){Cr===void 0&&(Cr=this._mask);var Ar=this._mask;return this._mask=Cr,this.emit("umask",[Cr]),Ar},yr.prototype.hrtime=function(){var Cr;typeof performance<"u"?Cr=performance.now():Date.now?Cr=Date.now():Cr=new Date().getTime();var Ar=Cr/1e3|0;return Cr-=Ar*1e3,Cr=Cr*1e6|0,[Ar,Cr]},yr.prototype.initializeTTYs=function(){if(this.stdout===null){var Cr=ur(10);this.stdout=new Cr,this.stderr=new Cr,this.stdin=new Cr}},yr.prototype.disconnect=function(){},yr}(pr.EventEmitter);ar.exports=_r}).call(or,"/")},function(ar,or){function ur(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}ar.exports=ur,ur.EventEmitter=ur,ur.prototype._events=void 0,ur.prototype._maxListeners=void 0,ur.defaultMaxListeners=10,ur.prototype.setMaxListeners=function(gr){if(!xr(gr)||gr<0||isNaN(gr))throw TypeError("n must be a positive number");return this._maxListeners=gr,this},ur.prototype.emit=function(gr){var mr,_r,Sr,yr,Cr,Ar;if(this._events||(this._events={}),gr==="error"&&(!this._events.error||pr(this._events.error)&&!this._events.error.length)){if(mr=arguments[1],mr instanceof Error)throw mr;var kr=new Error('Uncaught, unspecified "error" event. ('+mr+")");throw kr.context=mr,kr}if(_r=this._events[gr],br(_r))return!1;if(fr(_r))switch(arguments.length){case 1:_r.call(this);break;case 2:_r.call(this,arguments[1]);break;case 3:_r.call(this,arguments[1],arguments[2]);break;default:yr=Array.prototype.slice.call(arguments,1),_r.apply(this,yr)}else if(pr(_r))for(yr=Array.prototype.slice.call(arguments,1),Ar=_r.slice(),Sr=Ar.length,Cr=0;Cr<Sr;Cr++)Ar[Cr].apply(this,yr);return!0},ur.prototype.addListener=function(gr,mr){var _r;if(!fr(mr))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",gr,fr(mr.listener)?mr.listener:mr),this._events[gr]?pr(this._events[gr])?this._events[gr].push(mr):this._events[gr]=[this._events[gr],mr]:this._events[gr]=mr,pr(this._events[gr])&&!this._events[gr].warned&&(br(this._maxListeners)?_r=ur.defaultMaxListeners:_r=this._maxListeners,_r&&_r>0&&this._events[gr].length>_r&&(this._events[gr].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[gr].length),typeof console.trace=="function"&&console.trace())),this},ur.prototype.on=ur.prototype.addListener,ur.prototype.once=function(gr,mr){if(!fr(mr))throw TypeError("listener must be a function");var _r=!1;function Sr(){this.removeListener(gr,Sr),_r||(_r=!0,mr.apply(this,arguments))}return Sr.listener=mr,this.on(gr,Sr),this},ur.prototype.removeListener=function(gr,mr){var _r,Sr,yr,Cr;if(!fr(mr))throw TypeError("listener must be a function");if(!this._events||!this._events[gr])return this;if(_r=this._events[gr],yr=_r.length,Sr=-1,_r===mr||fr(_r.listener)&&_r.listener===mr)delete this._events[gr],this._events.removeListener&&this.emit("removeListener",gr,mr);else if(pr(_r)){for(Cr=yr;Cr-- >0;)if(_r[Cr]===mr||_r[Cr].listener&&_r[Cr].listener===mr){Sr=Cr;break}if(Sr<0)return this;_r.length===1?(_r.length=0,delete this._events[gr]):_r.splice(Sr,1),this._events.removeListener&&this.emit("removeListener",gr,mr)}return this},ur.prototype.removeAllListeners=function(gr){var mr,_r;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[gr]&&delete this._events[gr],this;if(arguments.length===0){for(mr in this._events)mr!=="removeListener"&&this.removeAllListeners(mr);return this.removeAllListeners("removeListener"),this._events={},this}if(_r=this._events[gr],fr(_r))this.removeListener(gr,_r);else if(_r)for(;_r.length;)this.removeListener(gr,_r[_r.length-1]);return delete this._events[gr],this},ur.prototype.listeners=function(gr){var mr;return!this._events||!this._events[gr]?mr=[]:fr(this._events[gr])?mr=[this._events[gr]]:mr=this._events[gr].slice(),mr},ur.prototype.listenerCount=function(gr){if(this._events){var mr=this._events[gr];if(fr(mr))return 1;if(mr)return mr.length}return 0},ur.listenerCount=function(gr,mr){return gr.listenerCount(mr)};function fr(gr){return typeof gr=="function"}function xr(gr){return typeof gr=="number"}function pr(gr){return typeof gr=="object"&&gr!==null}function br(gr){return gr===void 0}},function(ar,or,ur){(function(fr){var xr=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;function pr(gr){var mr=xr.exec(gr);return mr.shift(),mr}var br=function(){function gr(){}return gr.normalize=function(mr){mr===""&&(mr=".");var _r=mr.charAt(0)===gr.sep;mr=gr._removeDuplicateSeps(mr);for(var Sr=mr.split(gr.sep),yr=[],Cr=0;Cr<Sr.length;Cr++){var Ar=Sr[Cr];Ar!=="."&&(Ar===".."&&(_r||!_r&&yr.length>0&&yr[0]!=="..")?yr.pop():yr.push(Ar))}if(!_r&&yr.length<2)switch(yr.length){case 1:yr[0]===""&&yr.unshift(".");break;default:yr.push(".")}return mr=yr.join(gr.sep),_r&&mr.charAt(0)!==gr.sep&&(mr=gr.sep+mr),mr},gr.join=function(){for(var mr=[],_r=0;_r<arguments.length;_r++)mr[_r-0]=arguments[_r];for(var Sr=[],yr=0;yr<mr.length;yr++){var Cr=mr[yr];if(typeof Cr!="string")throw new TypeError("Invalid argument type to path.join: "+typeof Cr);Cr!==""&&Sr.push(Cr)}return gr.normalize(Sr.join(gr.sep))},gr.resolve=function(){for(var mr=[],_r=0;_r<arguments.length;_r++)mr[_r-0]=arguments[_r];for(var Sr=[],yr=0;yr<mr.length;yr++){var Cr=mr[yr];if(typeof Cr!="string")throw new TypeError("Invalid argument type to path.join: "+typeof Cr);Cr!==""&&(Cr.charAt(0)===gr.sep&&(Sr=[]),Sr.push(Cr))}var Ar=gr.normalize(Sr.join(gr.sep));if(Ar.length>1&&Ar.charAt(Ar.length-1)===gr.sep)return Ar.substr(0,Ar.length-1);if(Ar.charAt(0)!==gr.sep){Ar.charAt(0)==="."&&(Ar.length===1||Ar.charAt(1)===gr.sep)&&(Ar=Ar.length===1?"":Ar.substr(2));var kr=fr.cwd();Ar!==""?Ar=this.normalize(kr+(kr!=="/"?gr.sep:"")+Ar):Ar=kr}return Ar},gr.relative=function(mr,_r){var Sr;mr=gr.resolve(mr),_r=gr.resolve(_r);var yr=mr.split(gr.sep),Cr=_r.split(gr.sep);Cr.shift(),yr.shift();var Ar=0,kr=[];for(Sr=0;Sr<yr.length;Sr++){var Or=yr[Sr];if(Or!==Cr[Sr]){Ar=yr.length-Sr;break}}kr=Cr.slice(Sr),yr.length===1&&yr[0]===""&&(Ar=0),Ar>yr.length&&(Ar=yr.length);var Dr="";for(Sr=0;Sr<Ar;Sr++)Dr+="../";return Dr+=kr.join(gr.sep),Dr.length>1&&Dr.charAt(Dr.length-1)===gr.sep&&(Dr=Dr.substr(0,Dr.length-1)),Dr},gr.dirname=function(mr){mr=gr._removeDuplicateSeps(mr);var _r=mr.charAt(0)===gr.sep,Sr=mr.split(gr.sep);return Sr.pop()===""&&Sr.length>0&&Sr.pop(),Sr.length>1||Sr.length===1&&!_r?Sr.join(gr.sep):_r?gr.sep:"."},gr.basename=function(mr,_r){if(_r===void 0&&(_r=""),mr==="")return mr;mr=gr.normalize(mr);var Sr=mr.split(gr.sep),yr=Sr[Sr.length-1];if(yr===""&&Sr.length>1)return Sr[Sr.length-2];if(_r.length>0){var Cr=yr.substr(yr.length-_r.length);if(Cr===_r)return yr.substr(0,yr.length-_r.length)}return yr},gr.extname=function(mr){mr=gr.normalize(mr);var _r=mr.split(gr.sep);if(mr=_r.pop(),mr===""&&_r.length>0&&(mr=_r.pop()),mr==="..")return"";var Sr=mr.lastIndexOf(".");return Sr===-1||Sr===0?"":mr.substr(Sr)},gr.isAbsolute=function(mr){return mr.length>0&&mr.charAt(0)===gr.sep},gr._makeLong=function(mr){return mr},gr.parse=function(mr){var _r=pr(mr);return{root:_r[0],dir:_r[0]+_r[1].slice(0,-1),base:_r[2],ext:_r[3],name:_r[2].slice(0,_r[2].length-_r[3].length)}},gr.format=function(mr){if(mr===null||typeof mr!="object")throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof mr);var _r=mr.root||"";if(typeof _r!="string")throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof mr.root);var Sr=mr.dir?mr.dir+gr.sep:"",yr=mr.base||"";return Sr+yr},gr._removeDuplicateSeps=function(mr){return mr=mr.replace(this._replaceRegex,this.sep),mr},gr.sep="/",gr._replaceRegex=new RegExp("//+","g"),gr.delimiter=":",gr.posix=gr,gr.win32=gr,gr}();ar.exports=br}).call(or,ur(6))},function(ar,or,ur){(function(fr){var xr=this&&this.__extends||function(gr,mr){for(var _r in mr)mr.hasOwnProperty(_r)&&(gr[_r]=mr[_r]);function Sr(){this.constructor=gr}gr.prototype=mr===null?Object.create(mr):(Sr.prototype=mr.prototype,new Sr)},pr=ur(11),br=function(gr){xr(mr,gr);function mr(){gr.call(this),this.isRaw=!1,this.columns=80,this.rows=120,this.isTTY=!0,this._bufferedWrites=[],this._waitingForWrites=!1}return mr.prototype.setRawMode=function(_r){this.isRaw!==_r&&(this.isRaw=_r,this.emit("modeChange"))},mr.prototype.changeColumns=function(_r){_r!==this.columns&&(this.columns=_r,this.emit("resize"))},mr.prototype.changeRows=function(_r){_r!==this.rows&&(this.rows=_r,this.emit("resize"))},mr.isatty=function(_r){return _r&&_r instanceof mr},mr.prototype._write=function(_r,Sr,yr){var Cr;try{var Ar;typeof _r=="string"?Ar=new fr(_r,Sr):Ar=_r,this._bufferedWrites.push(Ar),this._waitingForWrites&&this._read(1024)}catch(kr){Cr=kr}finally{yr(Cr)}},mr.prototype._read=function(_r){if(this._bufferedWrites.length===0)this._waitingForWrites=!0;else for(;this._bufferedWrites.length>0&&(this._waitingForWrites=this.push(this._bufferedWrites.shift()),!!this._waitingForWrites););},mr}(pr.Duplex);ar.exports=br}).call(or,ur(1))},function(ar,or,ur){ar.exports=pr;var fr=ur(8).EventEmitter,xr=ur(12);xr(pr,fr),pr.Readable=ur(13),pr.Writable=ur(27),pr.Duplex=ur(28),pr.Transform=ur(29),pr.PassThrough=ur(30),pr.Stream=pr;function pr(){fr.call(this)}pr.prototype.pipe=function(br,gr){var mr=this;function _r(Dr){br.writable&&br.write(Dr)===!1&&mr.pause&&mr.pause()}mr.on("data",_r);function Sr(){mr.readable&&mr.resume&&mr.resume()}br.on("drain",Sr),!br._isStdio&&(!gr||gr.end!==!1)&&(mr.on("end",Cr),mr.on("close",Ar));var yr=!1;function Cr(){yr||(yr=!0,br.end())}function Ar(){yr||(yr=!0,typeof br.destroy=="function"&&br.destroy())}function kr(Dr){if(Or(),fr.listenerCount(this,"error")===0)throw Dr}mr.on("error",kr),br.on("error",kr);function Or(){mr.removeListener("data",_r),br.removeListener("drain",Sr),mr.removeListener("end",Cr),mr.removeListener("close",Ar),mr.removeListener("error",kr),br.removeListener("error",kr),mr.removeListener("end",Or),mr.removeListener("close",Or),br.removeListener("close",Or)}return mr.on("end",Or),mr.on("close",Or),br.on("close",Or),br.emit("pipe",mr),br}},function(ar,or){typeof Object.create=="function"?ar.exports=function(fr,xr){fr.super_=xr,fr.prototype=Object.create(xr.prototype,{constructor:{value:fr,enumerable:!1,writable:!0,configurable:!0}})}:ar.exports=function(fr,xr){fr.super_=xr;var pr=function(){};pr.prototype=xr.prototype,fr.prototype=new pr,fr.prototype.constructor=fr}},function(ar,or,ur){(function(fr){var xr=function(){try{return ur(11)}catch{}}();or=ar.exports=ur(14),or.Stream=xr||or,or.Readable=or,or.Writable=ur(22),or.Duplex=ur(21),or.Transform=ur(25),or.PassThrough=ur(26),!fr.browser&&fr.env.READABLE_STREAM==="disable"&&xr&&(ar.exports=xr)}).call(or,ur(6))},function(ar,or,ur){(function(fr){ar.exports=Fr;var xr=ur(15),pr=ur(16),br;Fr.ReadableState=Rr,ur(8).EventEmitter;var gr=function(ii,oi){return ii.listeners(oi).length},mr;(function(){try{mr=ur(11)}catch{}finally{mr||(mr=ur(8).EventEmitter)}})();var _r=ur(2).Buffer,Sr=ur(17),yr=ur(18);yr.inherits=ur(12);var Cr=ur(19),Ar=void 0;Cr&&Cr.debuglog?Ar=Cr.debuglog("stream"):Ar=function(){};var kr=ur(20),Or;yr.inherits(Fr,mr);function Dr(ii,oi,Si){if(typeof ii.prependListener=="function")return ii.prependListener(oi,Si);!ii._events||!ii._events[oi]?ii.on(oi,Si):pr(ii._events[oi])?ii._events[oi].unshift(Si):ii._events[oi]=[Si,ii._events[oi]]}function Rr(ii,oi){br=br||ur(21),ii=ii||{},this.objectMode=!!ii.objectMode,oi instanceof br&&(this.objectMode=this.objectMode||!!ii.readableObjectMode);var Si=ii.highWaterMark,Di=this.objectMode?16:16*1024;this.highWaterMark=Si||Si===0?Si:Di,this.highWaterMark=~~this.highWaterMark,this.buffer=new kr,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=ii.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,ii.encoding&&(Or||(Or=ur(24).StringDecoder),this.decoder=new Or(ii.encoding),this.encoding=ii.encoding)}function Fr(ii){if(br=br||ur(21),!(this instanceof Fr))return new Fr(ii);this._readableState=new Rr(ii,this),this.readable=!0,ii&&typeof ii.read=="function"&&(this._read=ii.read),mr.call(this)}Fr.prototype.push=function(ii,oi){var Si=this._readableState;return!Si.objectMode&&typeof ii=="string"&&(oi=oi||Si.defaultEncoding,oi!==Si.encoding&&(ii=Sr.from(ii,oi),oi="")),Nr(this,Si,ii,oi,!1)},Fr.prototype.unshift=function(ii){var oi=this._readableState;return Nr(this,oi,ii,"",!0)},Fr.prototype.isPaused=function(){return this._readableState.flowing===!1};function Nr(ii,oi,Si,Di,Mi){var Mr=Ur(oi,Si);if(Mr)ii.emit("error",Mr);else if(Si===null)oi.reading=!1,Zr(ii,oi);else if(oi.objectMode||Si&&Si.length>0)if(oi.ended&&!Mi){var di=new Error("stream.push() after EOF");ii.emit("error",di)}else if(oi.endEmitted&&Mi){var gi=new Error("stream.unshift() after end event");ii.emit("error",gi)}else{var ti;oi.decoder&&!Mi&&!Di&&(Si=oi.decoder.write(Si),ti=!oi.objectMode&&Si.length===0),Mi||(oi.reading=!1),ti||(oi.flowing&&oi.length===0&&!oi.sync?(ii.emit("data",Si),ii.read(0)):(oi.length+=oi.objectMode?1:Si.length,Mi?oi.buffer.unshift(Si):oi.buffer.push(Si),oi.needReadable&&Wr(ii))),Lr(ii,oi)}else Mi||(oi.reading=!1);return Hr(oi)}function Hr(ii){return!ii.ended&&(ii.needReadable||ii.length<ii.highWaterMark||ii.length===0)}Fr.prototype.setEncoding=function(ii){return Or||(Or=ur(24).StringDecoder),this._readableState.decoder=new Or(ii),this._readableState.encoding=ii,this};var jr=8388608;function Jr(ii){return ii>=jr?ii=jr:(ii--,ii|=ii>>>1,ii|=ii>>>2,ii|=ii>>>4,ii|=ii>>>8,ii|=ii>>>16,ii++),ii}function Yr(ii,oi){return ii<=0||oi.length===0&&oi.ended?0:oi.objectMode?1:ii!==ii?oi.flowing&&oi.length?oi.buffer.head.data.length:oi.length:(ii>oi.highWaterMark&&(oi.highWaterMark=Jr(ii)),ii<=oi.length?ii:oi.ended?oi.length:(oi.needReadable=!0,0))}Fr.prototype.read=function(ii){Ar("read",ii),ii=parseInt(ii,10);var oi=this._readableState,Si=ii;if(ii!==0&&(oi.emittedReadable=!1),ii===0&&oi.needReadable&&(oi.length>=oi.highWaterMark||oi.ended))return Ar("read: emitReadable",oi.length,oi.ended),oi.length===0&&oi.ended?bi(this):Wr(this),null;if(ii=Yr(ii,oi),ii===0&&oi.ended)return oi.length===0&&bi(this),null;var Di=oi.needReadable;Ar("need readable",Di),(oi.length===0||oi.length-ii<oi.highWaterMark)&&(Di=!0,Ar("length less than watermark",Di)),oi.ended||oi.reading?(Di=!1,Ar("reading or ended",Di)):Di&&(Ar("do read"),oi.reading=!0,oi.sync=!0,oi.length===0&&(oi.needReadable=!0),this._read(oi.highWaterMark),oi.sync=!1,oi.reading||(ii=Yr(Si,oi)));var Mi;return ii>0?Mi=$r(ii,oi):Mi=null,Mi===null?(oi.needReadable=!0,ii=0):oi.length-=ii,oi.length===0&&(oi.ended||(oi.needReadable=!0),Si!==ii&&oi.ended&&bi(this)),Mi!==null&&this.emit("data",Mi),Mi};function Ur(ii,oi){var Si=null;return!_r.isBuffer(oi)&&typeof oi!="string"&&oi!==null&&oi!==void 0&&!ii.objectMode&&(Si=new TypeError("Invalid non-string/buffer chunk")),Si}function Zr(ii,oi){if(!oi.ended){if(oi.decoder){var Si=oi.decoder.end();Si&&Si.length&&(oi.buffer.push(Si),oi.length+=oi.objectMode?1:Si.length)}oi.ended=!0,Wr(ii)}}function Wr(ii){var oi=ii._readableState;oi.needReadable=!1,oi.emittedReadable||(Ar("emitReadable",oi.flowing),oi.emittedReadable=!0,oi.sync?xr(ni,ii):ni(ii))}function ni(ii){Ar("emit readable"),ii.emit("readable"),ci(ii)}function Lr(ii,oi){oi.readingMore||(oi.readingMore=!0,xr(hi,ii,oi))}function hi(ii,oi){for(var Si=oi.length;!oi.reading&&!oi.flowing&&!oi.ended&&oi.length<oi.highWaterMark&&(Ar("maybeReadMore read 0"),ii.read(0),Si!==oi.length);)Si=oi.length;oi.readingMore=!1}Fr.prototype._read=function(ii){this.emit("error",new Error("_read() is not implemented"))},Fr.prototype.pipe=function(ii,oi){var Si=this,Di=this._readableState;switch(Di.pipesCount){case 0:Di.pipes=ii;break;case 1:Di.pipes=[Di.pipes,ii];break;default:Di.pipes.push(ii);break}Di.pipesCount+=1,Ar("pipe count=%d opts=%j",Di.pipesCount,oi);var Mi=(!oi||oi.end!==!1)&&ii!==fr.stdout&&ii!==fr.stderr,Mr=Mi?gi:xi;Di.endEmitted?xr(Mr):Si.once("end",Mr),ii.on("unpipe",di);function di(fi){Ar("onunpipe"),fi===Si&&xi()}function gi(){Ar("onend"),ii.end()}var ti=Ei(Si);ii.on("drain",ti);var ri=!1;function xi(){Ar("cleanup"),ii.removeListener("close",qr),ii.removeListener("finish",Qr),ii.removeListener("drain",ti),ii.removeListener("error",Pr),ii.removeListener("unpipe",di),Si.removeListener("end",gi),Si.removeListener("end",xi),Si.removeListener("data",Kr),ri=!0,Di.awaitDrain&&(!ii._writableState||ii._writableState.needDrain)&&ti()}var Ai=!1;Si.on("data",Kr);function Kr(fi){Ar("ondata"),Ai=!1;var vi=ii.write(fi);vi===!1&&!Ai&&((Di.pipesCount===1&&Di.pipes===ii||Di.pipesCount>1&&Ti(Di.pipes,ii)!==-1)&&!ri&&(Ar("false write response, pause",Si._readableState.awaitDrain),Si._readableState.awaitDrain++,Ai=!0),Si.pause())}function Pr(fi){Ar("onerror",fi),ai(),ii.removeListener("error",Pr),gr(ii,"error")===0&&ii.emit("error",fi)}Dr(ii,"error",Pr);function qr(){ii.removeListener("finish",Qr),ai()}ii.once("close",qr);function Qr(){Ar("onfinish"),ii.removeListener("close",qr),ai()}ii.once("finish",Qr);function ai(){Ar("unpipe"),Si.unpipe(ii)}return ii.emit("pipe",Si),Di.flowing||(Ar("pipe resume"),Si.resume()),ii};function Ei(ii){return function(){var oi=ii._readableState;Ar("pipeOnDrain",oi.awaitDrain),oi.awaitDrain&&oi.awaitDrain--,oi.awaitDrain===0&&gr(ii,"data")&&(oi.flowing=!0,ci(ii))}}Fr.prototype.unpipe=function(ii){var oi=this._readableState;if(oi.pipesCount===0)return this;if(oi.pipesCount===1)return ii&&ii!==oi.pipes?this:(ii||(ii=oi.pipes),oi.pipes=null,oi.pipesCount=0,oi.flowing=!1,ii&&ii.emit("unpipe",this),this);if(!ii){var Si=oi.pipes,Di=oi.pipesCount;oi.pipes=null,oi.pipesCount=0,oi.flowing=!1;for(var Mi=0;Mi<Di;Mi++)Si[Mi].emit("unpipe",this);return this}var Mr=Ti(oi.pipes,ii);return Mr===-1?this:(oi.pipes.splice(Mr,1),oi.pipesCount-=1,oi.pipesCount===1&&(oi.pipes=oi.pipes[0]),ii.emit("unpipe",this),this)},Fr.prototype.on=function(ii,oi){var Si=mr.prototype.on.call(this,ii,oi);if(ii==="data")this._readableState.flowing!==!1&&this.resume();else if(ii==="readable"){var Di=this._readableState;!Di.endEmitted&&!Di.readableListening&&(Di.readableListening=Di.needReadable=!0,Di.emittedReadable=!1,Di.reading?Di.length&&Wr(this):xr(_i,this))}return Si},Fr.prototype.addListener=Fr.prototype.on;function _i(ii){Ar("readable nexttick read 0"),ii.read(0)}Fr.prototype.resume=function(){var ii=this._readableState;return ii.flowing||(Ar("resume"),ii.flowing=!0,Fi(this,ii)),this};function Fi(ii,oi){oi.resumeScheduled||(oi.resumeScheduled=!0,xr(si,ii,oi))}function si(ii,oi){oi.reading||(Ar("resume read 0"),ii.read(0)),oi.resumeScheduled=!1,oi.awaitDrain=0,ii.emit("resume"),ci(ii),oi.flowing&&!oi.reading&&ii.read(0)}Fr.prototype.pause=function(){return Ar("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Ar("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function ci(ii){var oi=ii._readableState;for(Ar("flow",oi.flowing);oi.flowing&&ii.read()!==null;);}Fr.prototype.wrap=function(ii){var oi=this._readableState,Si=!1,Di=this;ii.on("end",function(){if(Ar("wrapped end"),oi.decoder&&!oi.ended){var di=oi.decoder.end();di&&di.length&&Di.push(di)}Di.push(null)}),ii.on("data",function(di){if(Ar("wrapped data"),oi.decoder&&(di=oi.decoder.write(di)),!(oi.objectMode&&di==null)&&!(!oi.objectMode&&(!di||!di.length))){var gi=Di.push(di);gi||(Si=!0,ii.pause())}});for(var Mi in ii)this[Mi]===void 0&&typeof ii[Mi]=="function"&&(this[Mi]=function(di){return function(){return ii[di].apply(ii,arguments)}}(Mi));var Mr=["error","close","destroy","pause","resume"];return Ki(Mr,function(di){ii.on(di,Di.emit.bind(Di,di))}),Di._read=function(di){Ar("wrapped _read",di),Si&&(Si=!1,ii.resume())},Di},Fr._fromList=$r;function $r(ii,oi){if(oi.length===0)return null;var Si;return oi.objectMode?Si=oi.buffer.shift():!ii||ii>=oi.length?(oi.decoder?Si=oi.buffer.join(""):oi.buffer.length===1?Si=oi.buffer.head.data:Si=oi.buffer.concat(oi.length),oi.buffer.clear()):Si=ei(ii,oi.buffer,oi.decoder),Si}function ei(ii,oi,Si){var Di;return ii<oi.head.data.length?(Di=oi.head.data.slice(0,ii),oi.head.data=oi.head.data.slice(ii)):ii===oi.head.data.length?Di=oi.shift():Di=Si?pi(ii,oi):ui(ii,oi),Di}function pi(ii,oi){var Si=oi.head,Di=1,Mi=Si.data;for(ii-=Mi.length;Si=Si.next;){var Mr=Si.data,di=ii>Mr.length?Mr.length:ii;if(di===Mr.length?Mi+=Mr:Mi+=Mr.slice(0,ii),ii-=di,ii===0){di===Mr.length?(++Di,Si.next?oi.head=Si.next:oi.head=oi.tail=null):(oi.head=Si,Si.data=Mr.slice(di));break}++Di}return oi.length-=Di,Mi}function ui(ii,oi){var Si=Sr.allocUnsafe(ii),Di=oi.head,Mi=1;for(Di.data.copy(Si),ii-=Di.data.length;Di=Di.next;){var Mr=Di.data,di=ii>Mr.length?Mr.length:ii;if(Mr.copy(Si,Si.length-ii,0,di),ii-=di,ii===0){di===Mr.length?(++Mi,Di.next?oi.head=Di.next:oi.head=oi.tail=null):(oi.head=Di,Di.data=Mr.slice(di));break}++Mi}return oi.length-=Mi,Si}function bi(ii){var oi=ii._readableState;if(oi.length>0)throw new Error('"endReadable()" called on non-empty stream');oi.endEmitted||(oi.ended=!0,xr(qi,oi,ii))}function qi(ii,oi){!ii.endEmitted&&ii.length===0&&(ii.endEmitted=!0,oi.readable=!1,oi.emit("end"))}function Ki(ii,oi){for(var Si=0,Di=ii.length;Si<Di;Si++)oi(ii[Si],Si)}function Ti(ii,oi){for(var Si=0,Di=ii.length;Si<Di;Si++)if(ii[Si]===oi)return Si;return-1}}).call(or,ur(6))},function(ar,or,ur){(function(fr){!fr.version||fr.version.indexOf("v0.")===0||fr.version.indexOf("v1.")===0&&fr.version.indexOf("v1.8.")!==0?ar.exports=xr:ar.exports=fr.nextTick;function xr(pr,br,gr,mr){if(typeof pr!="function")throw new TypeError('"callback" argument must be a function');var _r=arguments.length,Sr,yr;switch(_r){case 0:case 1:return fr.nextTick(pr);case 2:return fr.nextTick(function(){pr.call(null,br)});case 3:return fr.nextTick(function(){pr.call(null,br,gr)});case 4:return fr.nextTick(function(){pr.call(null,br,gr,mr)});default:for(Sr=new Array(_r-1),yr=0;yr<Sr.length;)Sr[yr++]=arguments[yr];return fr.nextTick(function(){pr.apply(null,Sr)})}}}).call(or,ur(6))},function(ar,or){var ur={}.toString;ar.exports=Array.isArray||function(fr){return ur.call(fr)=="[object Array]"}},function(ar,or,ur){(function(fr){var xr=ur(2),pr=xr.Buffer,br=xr.SlowBuffer,gr=xr.kMaxLength||2147483647;or.alloc=function(_r,Sr,yr){if(typeof pr.alloc=="function")return pr.alloc(_r,Sr,yr);if(typeof yr=="number")throw new TypeError("encoding must not be number");if(typeof _r!="number")throw new TypeError("size must be a number");if(_r>gr)throw new RangeError("size is too large");var Cr=yr,Ar=Sr;Ar===void 0&&(Cr=void 0,Ar=0);var kr=new pr(_r);if(typeof Ar=="string")for(var Or=new pr(Ar,Cr),Dr=Or.length,Rr=-1;++Rr<_r;)kr[Rr]=Or[Rr%Dr];else kr.fill(Ar);return kr},or.allocUnsafe=function(_r){if(typeof pr.allocUnsafe=="function")return pr.allocUnsafe(_r);if(typeof _r!="number")throw new TypeError("size must be a number");if(_r>gr)throw new RangeError("size is too large");return new pr(_r)},or.from=function(_r,Sr,yr){if(typeof pr.from=="function"&&(!fr.Uint8Array||Uint8Array.from!==pr.from))return pr.from(_r,Sr,yr);if(typeof _r=="number")throw new TypeError('"value" argument must not be a number');if(typeof _r=="string")return new pr(_r,Sr);if(typeof ArrayBuffer<"u"&&_r instanceof ArrayBuffer){var Cr=Sr;if(arguments.length===1)return new pr(_r);typeof Cr>"u"&&(Cr=0);var Ar=yr;if(typeof Ar>"u"&&(Ar=_r.byteLength-Cr),Cr>=_r.byteLength)throw new RangeError("'offset' is out of bounds");if(Ar>_r.byteLength-Cr)throw new RangeError("'length' is out of bounds");return new pr(_r.slice(Cr,Cr+Ar))}if(pr.isBuffer(_r)){var kr=new pr(_r.length);return _r.copy(kr,0,0,_r.length),kr}if(_r){if(Array.isArray(_r)||typeof ArrayBuffer<"u"&&_r.buffer instanceof ArrayBuffer||"length"in _r)return new pr(_r);if(_r.type==="Buffer"&&Array.isArray(_r.data))return new pr(_r.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},or.allocUnsafeSlow=function(_r){if(typeof pr.allocUnsafeSlow=="function")return pr.allocUnsafeSlow(_r);if(typeof _r!="number")throw new TypeError("size must be a number");if(_r>=gr)throw new RangeError("size is too large");return new br(_r)}}).call(or,function(){return this}())},function(ar,or,ur){(function(fr){function xr(Nr){return Array.isArray?Array.isArray(Nr):Fr(Nr)==="[object Array]"}or.isArray=xr;function pr(Nr){return typeof Nr=="boolean"}or.isBoolean=pr;function br(Nr){return Nr===null}or.isNull=br;function gr(Nr){return Nr==null}or.isNullOrUndefined=gr;function mr(Nr){return typeof Nr=="number"}or.isNumber=mr;function _r(Nr){return typeof Nr=="string"}or.isString=_r;function Sr(Nr){return typeof Nr=="symbol"}or.isSymbol=Sr;function yr(Nr){return Nr===void 0}or.isUndefined=yr;function Cr(Nr){return Fr(Nr)==="[object RegExp]"}or.isRegExp=Cr;function Ar(Nr){return typeof Nr=="object"&&Nr!==null}or.isObject=Ar;function kr(Nr){return Fr(Nr)==="[object Date]"}or.isDate=kr;function Or(Nr){return Fr(Nr)==="[object Error]"||Nr instanceof Error}or.isError=Or;function Dr(Nr){return typeof Nr=="function"}or.isFunction=Dr;function Rr(Nr){return Nr===null||typeof Nr=="boolean"||typeof Nr=="number"||typeof Nr=="string"||typeof Nr=="symbol"||typeof Nr>"u"}or.isPrimitive=Rr,or.isBuffer=fr.isBuffer;function Fr(Nr){return Object.prototype.toString.call(Nr)}}).call(or,ur(1))},function(ar,or){},function(ar,or,ur){ur(2).Buffer;var fr=ur(17);ar.exports=xr;function xr(){this.head=null,this.tail=null,this.length=0}xr.prototype.push=function(pr){var br={data:pr,next:null};this.length>0?this.tail.next=br:this.head=br,this.tail=br,++this.length},xr.prototype.unshift=function(pr){var br={data:pr,next:this.head};this.length===0&&(this.tail=br),this.head=br,++this.length},xr.prototype.shift=function(){if(this.length!==0){var pr=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,pr}},xr.prototype.clear=function(){this.head=this.tail=null,this.length=0},xr.prototype.join=function(pr){if(this.length===0)return"";for(var br=this.head,gr=""+br.data;br=br.next;)gr+=pr+br.data;return gr},xr.prototype.concat=function(pr){if(this.length===0)return fr.alloc(0);if(this.length===1)return this.head.data;for(var br=fr.allocUnsafe(pr>>>0),gr=this.head,mr=0;gr;)gr.data.copy(br,mr),mr+=gr.data.length,gr=gr.next;return br}},function(ar,or,ur){var fr=Object.keys||function(kr){var Or=[];for(var Dr in kr)Or.push(Dr);return Or};ar.exports=yr;var xr=ur(15),pr=ur(18);pr.inherits=ur(12);var br=ur(14),gr=ur(22);pr.inherits(yr,br);for(var mr=fr(gr.prototype),_r=0;_r<mr.length;_r++){var Sr=mr[_r];yr.prototype[Sr]||(yr.prototype[Sr]=gr.prototype[Sr])}function yr(kr){if(!(this instanceof yr))return new yr(kr);br.call(this,kr),gr.call(this,kr),kr&&kr.readable===!1&&(this.readable=!1),kr&&kr.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,kr&&kr.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",Cr)}function Cr(){this.allowHalfOpen||this._writableState.ended||xr(Ar,this)}function Ar(kr){kr.end()}},function(ar,or,ur){(function(fr){ar.exports=Dr;var xr=ur(15),pr=!fr.browser&&["v0.10","v0.9."].indexOf(fr.version.slice(0,5))>-1?setImmediate:xr,br;Dr.WritableState=kr;var gr=ur(18);gr.inherits=ur(12);var mr={deprecate:ur(23)},_r;(function(){try{_r=ur(11)}catch{}finally{_r||(_r=ur(8).EventEmitter)}})();var Sr=ur(2).Buffer,yr=ur(17);gr.inherits(Dr,_r);function Cr(){}function Ar(si,ci,$r){this.chunk=si,this.encoding=ci,this.callback=$r,this.next=null}function kr(si,ci){br=br||ur(21),si=si||{},this.objectMode=!!si.objectMode,ci instanceof br&&(this.objectMode=this.objectMode||!!si.writableObjectMode);var $r=si.highWaterMark,ei=this.objectMode?16:16*1024;this.highWaterMark=$r||$r===0?$r:ei,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var pi=si.decodeStrings===!1;this.decodeStrings=!pi,this.defaultEncoding=si.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ui){Ur(ci,ui)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new Fi(this)}kr.prototype.getBuffer=function(){for(var ci=this.bufferedRequest,$r=[];ci;)$r.push(ci),ci=ci.next;return $r},function(){try{Object.defineProperty(kr.prototype,"buffer",{get:mr.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch{}}();var Or;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Or=Function.prototype[Symbol.hasInstance],Object.defineProperty(Dr,Symbol.hasInstance,{value:function(si){return Or.call(this,si)?!0:si&&si._writableState instanceof kr}})):Or=function(si){return si instanceof this};function Dr(si){if(br=br||ur(21),!Or.call(Dr,this)&&!(this instanceof br))return new Dr(si);this._writableState=new kr(si,this),this.writable=!0,si&&(typeof si.write=="function"&&(this._write=si.write),typeof si.writev=="function"&&(this._writev=si.writev)),_r.call(this)}Dr.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function Rr(si,ci){var $r=new Error("write after end");si.emit("error",$r),xr(ci,$r)}function Fr(si,ci,$r,ei){var pi=!0,ui=!1;return $r===null?ui=new TypeError("May not write null values to stream"):typeof $r!="string"&&$r!==void 0&&!ci.objectMode&&(ui=new TypeError("Invalid non-string/buffer chunk")),ui&&(si.emit("error",ui),xr(ei,ui),pi=!1),pi}Dr.prototype.write=function(si,ci,$r){var ei=this._writableState,pi=!1,ui=Sr.isBuffer(si);return typeof ci=="function"&&($r=ci,ci=null),ui?ci="buffer":ci||(ci=ei.defaultEncoding),typeof $r!="function"&&($r=Cr),ei.ended?Rr(this,$r):(ui||Fr(this,ei,si,$r))&&(ei.pendingcb++,pi=Hr(this,ei,ui,si,ci,$r)),pi},Dr.prototype.cork=function(){var si=this._writableState;si.corked++},Dr.prototype.uncork=function(){var si=this._writableState;si.corked&&(si.corked--,!si.writing&&!si.corked&&!si.finished&&!si.bufferProcessing&&si.bufferedRequest&&ni(this,si))},Dr.prototype.setDefaultEncoding=function(ci){if(typeof ci=="string"&&(ci=ci.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ci+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+ci);return this._writableState.defaultEncoding=ci,this};function Nr(si,ci,$r){return!si.objectMode&&si.decodeStrings!==!1&&typeof ci=="string"&&(ci=yr.from(ci,$r)),ci}function Hr(si,ci,$r,ei,pi,ui){$r||(ei=Nr(ci,ei,pi),Sr.isBuffer(ei)&&(pi="buffer"));var bi=ci.objectMode?1:ei.length;ci.length+=bi;var qi=ci.length<ci.highWaterMark;if(qi||(ci.needDrain=!0),ci.writing||ci.corked){var Ki=ci.lastBufferedRequest;ci.lastBufferedRequest=new Ar(ei,pi,ui),Ki?Ki.next=ci.lastBufferedRequest:ci.bufferedRequest=ci.lastBufferedRequest,ci.bufferedRequestCount+=1}else jr(si,ci,!1,bi,ei,pi,ui);return qi}function jr(si,ci,$r,ei,pi,ui,bi){ci.writelen=ei,ci.writecb=bi,ci.writing=!0,ci.sync=!0,$r?si._writev(pi,ci.onwrite):si._write(pi,ui,ci.onwrite),ci.sync=!1}function Jr(si,ci,$r,ei,pi){--ci.pendingcb,$r?xr(pi,ei):pi(ei),si._writableState.errorEmitted=!0,si.emit("error",ei)}function Yr(si){si.writing=!1,si.writecb=null,si.length-=si.writelen,si.writelen=0}function Ur(si,ci){var $r=si._writableState,ei=$r.sync,pi=$r.writecb;if(Yr($r),ci)Jr(si,$r,ei,ci,pi);else{var ui=Lr($r);!ui&&!$r.corked&&!$r.bufferProcessing&&$r.bufferedRequest&&ni(si,$r),ei?pr(Zr,si,$r,ui,pi):Zr(si,$r,ui,pi)}}function Zr(si,ci,$r,ei){$r||Wr(si,ci),ci.pendingcb--,ei(),Ei(si,ci)}function Wr(si,ci){ci.length===0&&ci.needDrain&&(ci.needDrain=!1,si.emit("drain"))}function ni(si,ci){ci.bufferProcessing=!0;var $r=ci.bufferedRequest;if(si._writev&&$r&&$r.next){var ei=ci.bufferedRequestCount,pi=new Array(ei),ui=ci.corkedRequestsFree;ui.entry=$r;for(var bi=0;$r;)pi[bi]=$r,$r=$r.next,bi+=1;jr(si,ci,!0,ci.length,pi,"",ui.finish),ci.pendingcb++,ci.lastBufferedRequest=null,ui.next?(ci.corkedRequestsFree=ui.next,ui.next=null):ci.corkedRequestsFree=new Fi(ci)}else{for(;$r;){var qi=$r.chunk,Ki=$r.encoding,Ti=$r.callback,ii=ci.objectMode?1:qi.length;if(jr(si,ci,!1,ii,qi,Ki,Ti),$r=$r.next,ci.writing)break}$r===null&&(ci.lastBufferedRequest=null)}ci.bufferedRequestCount=0,ci.bufferedRequest=$r,ci.bufferProcessing=!1}Dr.prototype._write=function(si,ci,$r){$r(new Error("_write() is not implemented"))},Dr.prototype._writev=null,Dr.prototype.end=function(si,ci,$r){var ei=this._writableState;typeof si=="function"?($r=si,si=null,ci=null):typeof ci=="function"&&($r=ci,ci=null),si!=null&&this.write(si,ci),ei.corked&&(ei.corked=1,this.uncork()),!ei.ending&&!ei.finished&&_i(this,ei,$r)};function Lr(si){return si.ending&&si.length===0&&si.bufferedRequest===null&&!si.finished&&!si.writing}function hi(si,ci){ci.prefinished||(ci.prefinished=!0,si.emit("prefinish"))}function Ei(si,ci){var $r=Lr(ci);return $r&&(ci.pendingcb===0?(hi(si,ci),ci.finished=!0,si.emit("finish")):hi(si,ci)),$r}function _i(si,ci,$r){ci.ending=!0,Ei(si,ci),$r&&(ci.finished?xr($r):si.once("finish",$r)),ci.ended=!0,si.writable=!1}function Fi(si){var ci=this;this.next=null,this.entry=null,this.finish=function($r){var ei=ci.entry;for(ci.entry=null;ei;){var pi=ei.callback;si.pendingcb--,pi($r),ei=ei.next}si.corkedRequestsFree?si.corkedRequestsFree.next=ci:si.corkedRequestsFree=ci}}}).call(or,ur(6))},function(ar,or){(function(ur){ar.exports=fr;function fr(pr,br){if(xr("noDeprecation"))return pr;var gr=!1;function mr(){if(!gr){if(xr("throwDeprecation"))throw new Error(br);xr("traceDeprecation")?console.trace(br):console.warn(br),gr=!0}return pr.apply(this,arguments)}return mr}function xr(pr){try{if(!ur.localStorage)return!1}catch{return!1}var br=ur.localStorage[pr];return br==null?!1:String(br).toLowerCase()==="true"}}).call(or,function(){return this}())},function(ar,or,ur){var fr=ur(2).Buffer,xr=fr.isEncoding||function(Sr){switch(Sr&&Sr.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function pr(Sr){if(Sr&&!xr(Sr))throw new Error("Unknown encoding: "+Sr)}var br=or.StringDecoder=function(Sr){switch(this.encoding=(Sr||"utf8").toLowerCase().replace(/[-_]/,""),pr(Sr),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=mr;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=_r;break;default:this.write=gr;return}this.charBuffer=new fr(6),this.charReceived=0,this.charLength=0};br.prototype.write=function(Sr){for(var yr="";this.charLength;){var Cr=Sr.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:Sr.length;if(Sr.copy(this.charBuffer,this.charReceived,0,Cr),this.charReceived+=Cr,this.charReceived<this.charLength)return"";Sr=Sr.slice(Cr,Sr.length),yr=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var kr=yr.charCodeAt(yr.length-1);if(kr>=55296&&kr<=56319){this.charLength+=this.surrogateSize,yr="";continue}if(this.charReceived=this.charLength=0,Sr.length===0)return yr;break}this.detectIncompleteChar(Sr);var Ar=Sr.length;this.charLength&&(Sr.copy(this.charBuffer,0,Sr.length-this.charReceived,Ar),Ar-=this.charReceived),yr+=Sr.toString(this.encoding,0,Ar);var Ar=yr.length-1,kr=yr.charCodeAt(Ar);if(kr>=55296&&kr<=56319){var Or=this.surrogateSize;return this.charLength+=Or,this.charReceived+=Or,this.charBuffer.copy(this.charBuffer,Or,0,Or),Sr.copy(this.charBuffer,0,0,Or),yr.substring(0,Ar)}return yr},br.prototype.detectIncompleteChar=function(Sr){for(var yr=Sr.length>=3?3:Sr.length;yr>0;yr--){var Cr=Sr[Sr.length-yr];if(yr==1&&Cr>>5==6){this.charLength=2;break}if(yr<=2&&Cr>>4==14){this.charLength=3;break}if(yr<=3&&Cr>>3==30){this.charLength=4;break}}this.charReceived=yr},br.prototype.end=function(Sr){var yr="";if(Sr&&Sr.length&&(yr=this.write(Sr)),this.charReceived){var Cr=this.charReceived,Ar=this.charBuffer,kr=this.encoding;yr+=Ar.slice(0,Cr).toString(kr)}return yr};function gr(Sr){return Sr.toString(this.encoding)}function mr(Sr){this.charReceived=Sr.length%2,this.charLength=this.charReceived?2:0}function _r(Sr){this.charReceived=Sr.length%3,this.charLength=this.charReceived?3:0}},function(ar,or,ur){ar.exports=gr;var fr=ur(21),xr=ur(18);xr.inherits=ur(12),xr.inherits(gr,fr);function pr(_r){this.afterTransform=function(Sr,yr){return br(_r,Sr,yr)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function br(_r,Sr,yr){var Cr=_r._transformState;Cr.transforming=!1;var Ar=Cr.writecb;if(!Ar)return _r.emit("error",new Error("no writecb in Transform class"));Cr.writechunk=null,Cr.writecb=null,yr!=null&&_r.push(yr),Ar(Sr);var kr=_r._readableState;kr.reading=!1,(kr.needReadable||kr.length<kr.highWaterMark)&&_r._read(kr.highWaterMark)}function gr(_r){if(!(this instanceof gr))return new gr(_r);fr.call(this,_r),this._transformState=new pr(this);var Sr=this;this._readableState.needReadable=!0,this._readableState.sync=!1,_r&&(typeof _r.transform=="function"&&(this._transform=_r.transform),typeof _r.flush=="function"&&(this._flush=_r.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(yr,Cr){mr(Sr,yr,Cr)}):mr(Sr)})}gr.prototype.push=function(_r,Sr){return this._transformState.needTransform=!1,fr.prototype.push.call(this,_r,Sr)},gr.prototype._transform=function(_r,Sr,yr){throw new Error("_transform() is not implemented")},gr.prototype._write=function(_r,Sr,yr){var Cr=this._transformState;if(Cr.writecb=yr,Cr.writechunk=_r,Cr.writeencoding=Sr,!Cr.transforming){var Ar=this._readableState;(Cr.needTransform||Ar.needReadable||Ar.length<Ar.highWaterMark)&&this._read(Ar.highWaterMark)}},gr.prototype._read=function(_r){var Sr=this._transformState;Sr.writechunk!==null&&Sr.writecb&&!Sr.transforming?(Sr.transforming=!0,this._transform(Sr.writechunk,Sr.writeencoding,Sr.afterTransform)):Sr.needTransform=!0};function mr(_r,Sr,yr){if(Sr)return _r.emit("error",Sr);yr!=null&&_r.push(yr);var Cr=_r._writableState,Ar=_r._transformState;if(Cr.length)throw new Error("Calling transform done when ws.length != 0");if(Ar.transforming)throw new Error("Calling transform done when still transforming");return _r.push(null)}},function(ar,or,ur){ar.exports=pr;var fr=ur(25),xr=ur(18);xr.inherits=ur(12),xr.inherits(pr,fr);function pr(br){if(!(this instanceof pr))return new pr(br);fr.call(this,br)}pr.prototype._transform=function(br,gr,mr){mr(null,br)}},function(ar,or,ur){ar.exports=ur(22)},function(ar,or,ur){ar.exports=ur(21)},function(ar,or,ur){ar.exports=ur(25)},function(ar,or,ur){ar.exports=ur(26)},function(ar,or,ur){var fr=ur(32),xr=ur(33),pr=ur(38),br=ur(39),gr=ur(40),mr=ur(41),_r=ur(42),Sr=Object.prototype.toString;function yr(kr){if(!(this instanceof yr))return new yr(kr);this.options=xr.assign({chunkSize:16384,windowBits:0,to:""},kr||{});var Or=this.options;Or.raw&&Or.windowBits>=0&&Or.windowBits<16&&(Or.windowBits=-Or.windowBits,Or.windowBits===0&&(Or.windowBits=-15)),Or.windowBits>=0&&Or.windowBits<16&&!(kr&&kr.windowBits)&&(Or.windowBits+=32),Or.windowBits>15&&Or.windowBits<48&&(Or.windowBits&15||(Or.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new mr,this.strm.avail_out=0;var Dr=fr.inflateInit2(this.strm,Or.windowBits);if(Dr!==br.Z_OK)throw new Error(gr[Dr]);this.header=new _r,fr.inflateGetHeader(this.strm,this.header)}yr.prototype.push=function(kr,Or){var Dr=this.strm,Rr=this.options.chunkSize,Fr=this.options.dictionary,Nr,Hr,jr,Jr,Yr,Ur,Zr=!1;if(this.ended)return!1;Hr=Or===~~Or?Or:Or===!0?br.Z_FINISH:br.Z_NO_FLUSH,typeof kr=="string"?Dr.input=pr.binstring2buf(kr):Sr.call(kr)==="[object ArrayBuffer]"?Dr.input=new Uint8Array(kr):Dr.input=kr,Dr.next_in=0,Dr.avail_in=Dr.input.length;do{if(Dr.avail_out===0&&(Dr.output=new xr.Buf8(Rr),Dr.next_out=0,Dr.avail_out=Rr),Nr=fr.inflate(Dr,br.Z_NO_FLUSH),Nr===br.Z_NEED_DICT&&Fr&&(typeof Fr=="string"?Ur=pr.string2buf(Fr):Sr.call(Fr)==="[object ArrayBuffer]"?Ur=new Uint8Array(Fr):Ur=Fr,Nr=fr.inflateSetDictionary(this.strm,Ur)),Nr===br.Z_BUF_ERROR&&Zr===!0&&(Nr=br.Z_OK,Zr=!1),Nr!==br.Z_STREAM_END&&Nr!==br.Z_OK)return this.onEnd(Nr),this.ended=!0,!1;Dr.next_out&&(Dr.avail_out===0||Nr===br.Z_STREAM_END||Dr.avail_in===0&&(Hr===br.Z_FINISH||Hr===br.Z_SYNC_FLUSH))&&(this.options.to==="string"?(jr=pr.utf8border(Dr.output,Dr.next_out),Jr=Dr.next_out-jr,Yr=pr.buf2string(Dr.output,jr),Dr.next_out=Jr,Dr.avail_out=Rr-Jr,Jr&&xr.arraySet(Dr.output,Dr.output,jr,Jr,0),this.onData(Yr)):this.onData(xr.shrinkBuf(Dr.output,Dr.next_out))),Dr.avail_in===0&&Dr.avail_out===0&&(Zr=!0)}while((Dr.avail_in>0||Dr.avail_out===0)&&Nr!==br.Z_STREAM_END);return Nr===br.Z_STREAM_END&&(Hr=br.Z_FINISH),Hr===br.Z_FINISH?(Nr=fr.inflateEnd(this.strm),this.onEnd(Nr),this.ended=!0,Nr===br.Z_OK):(Hr===br.Z_SYNC_FLUSH&&(this.onEnd(br.Z_OK),Dr.avail_out=0),!0)},yr.prototype.onData=function(kr){this.chunks.push(kr)},yr.prototype.onEnd=function(kr){kr===br.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=xr.flattenChunks(this.chunks)),this.chunks=[],this.err=kr,this.msg=this.strm.msg};function Cr(kr,Or){var Dr=new yr(Or);if(Dr.push(kr,!0),Dr.err)throw Dr.msg||gr[Dr.err];return Dr.result}function Ar(kr,Or){return Or=Or||{},Or.raw=!0,Cr(kr,Or)}or.Inflate=yr,or.inflate=Cr,or.inflateRaw=Ar,or.ungzip=Cr},function(ar,or,ur){var fr=ur(33),xr=ur(34),pr=ur(35),br=ur(36),gr=ur(37),mr=0,_r=1,Sr=2,yr=4,Cr=5,Ar=6,kr=0,Or=1,Dr=2,Rr=-2,Fr=-3,Nr=-4,Hr=-5,jr=8,Jr=1,Yr=2,Ur=3,Zr=4,Wr=5,ni=6,Lr=7,hi=8,Ei=9,_i=10,Fi=11,si=12,ci=13,$r=14,ei=15,pi=16,ui=17,bi=18,qi=19,Ki=20,Ti=21,ii=22,oi=23,Si=24,Di=25,Mi=26,Mr=27,di=28,gi=29,ti=30,ri=31,xi=32,Ai=852,Kr=592,Pr=15,qr=Pr;function Qr(wi){return(wi>>>24&255)+(wi>>>8&65280)+((wi&65280)<<8)+((wi&255)<<24)}function ai(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new fr.Buf16(320),this.work=new fr.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function fi(wi){var Vi;return!wi||!wi.state?Rr:(Vi=wi.state,wi.total_in=wi.total_out=Vi.total=0,wi.msg="",Vi.wrap&&(wi.adler=Vi.wrap&1),Vi.mode=Jr,Vi.last=0,Vi.havedict=0,Vi.dmax=32768,Vi.head=null,Vi.hold=0,Vi.bits=0,Vi.lencode=Vi.lendyn=new fr.Buf32(Ai),Vi.distcode=Vi.distdyn=new fr.Buf32(Kr),Vi.sane=1,Vi.back=-1,kr)}function vi(wi){var Vi;return!wi||!wi.state?Rr:(Vi=wi.state,Vi.wsize=0,Vi.whave=0,Vi.wnext=0,fi(wi))}function Ri(wi,Vi){var Gr,zi;return!wi||!wi.state||(zi=wi.state,Vi<0?(Gr=0,Vi=-Vi):(Gr=(Vi>>4)+1,Vi<48&&(Vi&=15)),Vi&&(Vi<8||Vi>15))?Rr:(zi.window!==null&&zi.wbits!==Vi&&(zi.window=null),zi.wrap=Gr,zi.wbits=Vi,vi(wi))}function Yi(wi,Vi){var Gr,zi;return wi?(zi=new ai,wi.state=zi,zi.window=null,Gr=Ri(wi,Vi),Gr!==kr&&(wi.state=null),Gr):Rr}function Xi(wi){return Yi(wi,qr)}var Ui=!0,Bi,Zi;function Sa(wi){if(Ui){var Vi;for(Bi=new fr.Buf32(512),Zi=new fr.Buf32(32),Vi=0;Vi<144;)wi.lens[Vi++]=8;for(;Vi<256;)wi.lens[Vi++]=9;for(;Vi<280;)wi.lens[Vi++]=7;for(;Vi<288;)wi.lens[Vi++]=8;for(gr(_r,wi.lens,0,288,Bi,0,wi.work,{bits:9}),Vi=0;Vi<32;)wi.lens[Vi++]=5;gr(Sr,wi.lens,0,32,Zi,0,wi.work,{bits:5}),Ui=!1}wi.lencode=Bi,wi.lenbits=9,wi.distcode=Zi,wi.distbits=5}function Ta(wi,Vi,Gr,zi){var ca,ji=wi.state;return ji.window===null&&(ji.wsize=1<<ji.wbits,ji.wnext=0,ji.whave=0,ji.window=new fr.Buf8(ji.wsize)),zi>=ji.wsize?(fr.arraySet(ji.window,Vi,Gr-ji.wsize,ji.wsize,0),ji.wnext=0,ji.whave=ji.wsize):(ca=ji.wsize-ji.wnext,ca>zi&&(ca=zi),fr.arraySet(ji.window,Vi,Gr-zi,ca,ji.wnext),zi-=ca,zi?(fr.arraySet(ji.window,Vi,Gr-zi,zi,0),ji.wnext=zi,ji.whave=ji.wsize):(ji.wnext+=ca,ji.wnext===ji.wsize&&(ji.wnext=0),ji.whave<ji.wsize&&(ji.whave+=ca))),0}function ba(wi,Vi){var Gr,zi,ca,ji,Ba,Hi,va,Ci,ki,ko,na,Wi,_o,co,xa=0,ia,Ra,Ma,Fa,vs,Go,ma,Ua,Da=new fr.Buf8(4),uo,ro,G0=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!wi||!wi.state||!wi.output||!wi.input&&wi.avail_in!==0)return Rr;Gr=wi.state,Gr.mode===si&&(Gr.mode=ci),Ba=wi.next_out,ca=wi.output,va=wi.avail_out,ji=wi.next_in,zi=wi.input,Hi=wi.avail_in,Ci=Gr.hold,ki=Gr.bits,ko=Hi,na=va,Ua=kr;e:for(;;)switch(Gr.mode){case Jr:if(Gr.wrap===0){Gr.mode=ci;break}for(;ki<16;){if(Hi===0)break e;Hi--,Ci+=zi[ji++]<<ki,ki+=8}if(Gr.wrap&2&&Ci===35615){Gr.check=0,Da[0]=Ci&255,Da[1]=Ci>>>8&255,Gr.check=pr(Gr.check,Da,2,0),Ci=0,ki=0,Gr.mode=Yr;break}if(Gr.flags=0,Gr.head&&(Gr.head.done=!1),!(Gr.wrap&1)||(((Ci&255)<<8)+(Ci>>8))%31){wi.msg="incorrect header check",Gr.mode=ti;break}if((Ci&15)!==jr){wi.msg="unknown compression method",Gr.mode=ti;break}if(Ci>>>=4,ki-=4,ma=(Ci&15)+8,Gr.wbits===0)Gr.wbits=ma;else if(ma>Gr.wbits){wi.msg="invalid window size",Gr.mode=ti;break}Gr.dmax=1<<ma,wi.adler=Gr.check=1,Gr.mode=Ci&512?_i:si,Ci=0,ki=0;break;case Yr:for(;ki<16;){if(Hi===0)break e;Hi--,Ci+=zi[ji++]<<ki,ki+=8}if(Gr.flags=Ci,(Gr.flags&255)!==jr){wi.msg="unknown compression method",Gr.mode=ti;break}if(Gr.flags&57344){wi.msg="unknown header flags set",Gr.mode=ti;break}Gr.head&&(Gr.head.text=Ci>>8&1),Gr.flags&512&&(Da[0]=Ci&255,Da[1]=Ci>>>8&255,Gr.check=pr(Gr.check,Da,2,0)),Ci=0,ki=0,Gr.mode=Ur;case Ur:for(;ki<32;){if(Hi===0)break e;Hi--,Ci+=zi[ji++]<<ki,ki+=8}Gr.head&&(Gr.head.time=Ci),Gr.flags&512&&(Da[0]=Ci&255,Da[1]=Ci>>>8&255,Da[2]=Ci>>>16&255,Da[3]=Ci>>>24&255,Gr.check=pr(Gr.check,Da,4,0)),Ci=0,ki=0,Gr.mode=Zr;case Zr:for(;ki<16;){if(Hi===0)break e;Hi--,Ci+=zi[ji++]<<ki,ki+=8}Gr.head&&(Gr.head.xflags=Ci&255,Gr.head.os=Ci>>8),Gr.flags&512&&(Da[0]=Ci&255,Da[1]=Ci>>>8&255,Gr.check=pr(Gr.check,Da,2,0)),Ci=0,ki=0,Gr.mode=Wr;case Wr:if(Gr.flags&1024){for(;ki<16;){if(Hi===0)break e;Hi--,Ci+=zi[ji++]<<ki,ki+=8}Gr.length=Ci,Gr.head&&(Gr.head.extra_len=Ci),Gr.flags&512&&(Da[0]=Ci&255,Da[1]=Ci>>>8&255,Gr.check=pr(Gr.check,Da,2,0)),Ci=0,ki=0}else Gr.head&&(Gr.head.extra=null);Gr.mode=ni;case ni:if(Gr.flags&1024&&(Wi=Gr.length,Wi>Hi&&(Wi=Hi),Wi&&(Gr.head&&(ma=Gr.head.extra_len-Gr.length,Gr.head.extra||(Gr.head.extra=new Array(Gr.head.extra_len)),fr.arraySet(Gr.head.extra,zi,ji,Wi,ma)),Gr.flags&512&&(Gr.check=pr(Gr.check,zi,Wi,ji)),Hi-=Wi,ji+=Wi,Gr.length-=Wi),Gr.length))break e;Gr.length=0,Gr.mode=Lr;case Lr:if(Gr.flags&2048){if(Hi===0)break e;Wi=0;do ma=zi[ji+Wi++],Gr.head&&ma&&Gr.length<65536&&(Gr.head.name+=String.fromCharCode(ma));while(ma&&Wi<Hi);if(Gr.flags&512&&(Gr.check=pr(Gr.check,zi,Wi,ji)),Hi-=Wi,ji+=Wi,ma)break e}else Gr.head&&(Gr.head.name=null);Gr.length=0,Gr.mode=hi;case hi:if(Gr.flags&4096){if(Hi===0)break e;Wi=0;do ma=zi[ji+Wi++],Gr.head&&ma&&Gr.length<65536&&(Gr.head.comment+=String.fromCharCode(ma));while(ma&&Wi<Hi);if(Gr.flags&512&&(Gr.check=pr(Gr.check,zi,Wi,ji)),Hi-=Wi,ji+=Wi,ma)break e}else Gr.head&&(Gr.head.comment=null);Gr.mode=Ei;case Ei:if(Gr.flags&512){for(;ki<16;){if(Hi===0)break e;Hi--,Ci+=zi[ji++]<<ki,ki+=8}if(Ci!==(Gr.check&65535)){wi.msg="header crc mismatch",Gr.mode=ti;break}Ci=0,ki=0}Gr.head&&(Gr.head.hcrc=Gr.flags>>9&1,Gr.head.done=!0),wi.adler=Gr.check=0,Gr.mode=si;break;case _i:for(;ki<32;){if(Hi===0)break e;Hi--,Ci+=zi[ji++]<<ki,ki+=8}wi.adler=Gr.check=Qr(Ci),Ci=0,ki=0,Gr.mode=Fi;case Fi:if(Gr.havedict===0)return wi.next_out=Ba,wi.avail_out=va,wi.next_in=ji,wi.avail_in=Hi,Gr.hold=Ci,Gr.bits=ki,Dr;wi.adler=Gr.check=1,Gr.mode=si;case si:if(Vi===Cr||Vi===Ar)break e;case ci:if(Gr.last){Ci>>>=ki&7,ki-=ki&7,Gr.mode=Mr;break}for(;ki<3;){if(Hi===0)break e;Hi--,Ci+=zi[ji++]<<ki,ki+=8}switch(Gr.last=Ci&1,Ci>>>=1,ki-=1,Ci&3){case 0:Gr.mode=$r;break;case 1:if(Sa(Gr),Gr.mode=Ki,Vi===Ar){Ci>>>=2,ki-=2;break e}break;case 2:Gr.mode=ui;break;case 3:wi.msg="invalid block type",Gr.mode=ti}Ci>>>=2,ki-=2;break;case $r:for(Ci>>>=ki&7,ki-=ki&7;ki<32;){if(Hi===0)break e;Hi--,Ci+=zi[ji++]<<ki,ki+=8}if((Ci&65535)!==(Ci>>>16^65535)){wi.msg="invalid stored block lengths",Gr.mode=ti;break}if(Gr.length=Ci&65535,Ci=0,ki=0,Gr.mode=ei,Vi===Ar)break e;case ei:Gr.mode=pi;case pi:if(Wi=Gr.length,Wi){if(Wi>Hi&&(Wi=Hi),Wi>va&&(Wi=va),Wi===0)break e;fr.arraySet(ca,zi,ji,Wi,Ba),Hi-=Wi,ji+=Wi,va-=Wi,Ba+=Wi,Gr.length-=Wi;break}Gr.mode=si;break;case ui:for(;ki<14;){if(Hi===0)break e;Hi--,Ci+=zi[ji++]<<ki,ki+=8}if(Gr.nlen=(Ci&31)+257,Ci>>>=5,ki-=5,Gr.ndist=(Ci&31)+1,Ci>>>=5,ki-=5,Gr.ncode=(Ci&15)+4,Ci>>>=4,ki-=4,Gr.nlen>286||Gr.ndist>30){wi.msg="too many length or distance symbols",Gr.mode=ti;break}Gr.have=0,Gr.mode=bi;case bi:for(;Gr.have<Gr.ncode;){for(;ki<3;){if(Hi===0)break e;Hi--,Ci+=zi[ji++]<<ki,ki+=8}Gr.lens[G0[Gr.have++]]=Ci&7,Ci>>>=3,ki-=3}for(;Gr.have<19;)Gr.lens[G0[Gr.have++]]=0;if(Gr.lencode=Gr.lendyn,Gr.lenbits=7,uo={bits:Gr.lenbits},Ua=gr(mr,Gr.lens,0,19,Gr.lencode,0,Gr.work,uo),Gr.lenbits=uo.bits,Ua){wi.msg="invalid code lengths set",Gr.mode=ti;break}Gr.have=0,Gr.mode=qi;case qi:for(;Gr.have<Gr.nlen+Gr.ndist;){for(;xa=Gr.lencode[Ci&(1<<Gr.lenbits)-1],ia=xa>>>24,Ra=xa>>>16&255,Ma=xa&65535,!(ia<=ki);){if(Hi===0)break e;Hi--,Ci+=zi[ji++]<<ki,ki+=8}if(Ma<16)Ci>>>=ia,ki-=ia,Gr.lens[Gr.have++]=Ma;else{if(Ma===16){for(ro=ia+2;ki<ro;){if(Hi===0)break e;Hi--,Ci+=zi[ji++]<<ki,ki+=8}if(Ci>>>=ia,ki-=ia,Gr.have===0){wi.msg="invalid bit length repeat",Gr.mode=ti;break}ma=Gr.lens[Gr.have-1],Wi=3+(Ci&3),Ci>>>=2,ki-=2}else if(Ma===17){for(ro=ia+3;ki<ro;){if(Hi===0)break e;Hi--,Ci+=zi[ji++]<<ki,ki+=8}Ci>>>=ia,ki-=ia,ma=0,Wi=3+(Ci&7),Ci>>>=3,ki-=3}else{for(ro=ia+7;ki<ro;){if(Hi===0)break e;Hi--,Ci+=zi[ji++]<<ki,ki+=8}Ci>>>=ia,ki-=ia,ma=0,Wi=11+(Ci&127),Ci>>>=7,ki-=7}if(Gr.have+Wi>Gr.nlen+Gr.ndist){wi.msg="invalid bit length repeat",Gr.mode=ti;break}for(;Wi--;)Gr.lens[Gr.have++]=ma}}if(Gr.mode===ti)break;if(Gr.lens[256]===0){wi.msg="invalid code -- missing end-of-block",Gr.mode=ti;break}if(Gr.lenbits=9,uo={bits:Gr.lenbits},Ua=gr(_r,Gr.lens,0,Gr.nlen,Gr.lencode,0,Gr.work,uo),Gr.lenbits=uo.bits,Ua){wi.msg="invalid literal/lengths set",Gr.mode=ti;break}if(Gr.distbits=6,Gr.distcode=Gr.distdyn,uo={bits:Gr.distbits},Ua=gr(Sr,Gr.lens,Gr.nlen,Gr.ndist,Gr.distcode,0,Gr.work,uo),Gr.distbits=uo.bits,Ua){wi.msg="invalid distances set",Gr.mode=ti;break}if(Gr.mode=Ki,Vi===Ar)break e;case Ki:Gr.mode=Ti;case Ti:if(Hi>=6&&va>=258){wi.next_out=Ba,wi.avail_out=va,wi.next_in=ji,wi.avail_in=Hi,Gr.hold=Ci,Gr.bits=ki,br(wi,na),Ba=wi.next_out,ca=wi.output,va=wi.avail_out,ji=wi.next_in,zi=wi.input,Hi=wi.avail_in,Ci=Gr.hold,ki=Gr.bits,Gr.mode===si&&(Gr.back=-1);break}for(Gr.back=0;xa=Gr.lencode[Ci&(1<<Gr.lenbits)-1],ia=xa>>>24,Ra=xa>>>16&255,Ma=xa&65535,!(ia<=ki);){if(Hi===0)break e;Hi--,Ci+=zi[ji++]<<ki,ki+=8}if(Ra&&!(Ra&240)){for(Fa=ia,vs=Ra,Go=Ma;xa=Gr.lencode[Go+((Ci&(1<<Fa+vs)-1)>>Fa)],ia=xa>>>24,Ra=xa>>>16&255,Ma=xa&65535,!(Fa+ia<=ki);){if(Hi===0)break e;Hi--,Ci+=zi[ji++]<<ki,ki+=8}Ci>>>=Fa,ki-=Fa,Gr.back+=Fa}if(Ci>>>=ia,ki-=ia,Gr.back+=ia,Gr.length=Ma,Ra===0){Gr.mode=Mi;break}if(Ra&32){Gr.back=-1,Gr.mode=si;break}if(Ra&64){wi.msg="invalid literal/length code",Gr.mode=ti;break}Gr.extra=Ra&15,Gr.mode=ii;case ii:if(Gr.extra){for(ro=Gr.extra;ki<ro;){if(Hi===0)break e;Hi--,Ci+=zi[ji++]<<ki,ki+=8}Gr.length+=Ci&(1<<Gr.extra)-1,Ci>>>=Gr.extra,ki-=Gr.extra,Gr.back+=Gr.extra}Gr.was=Gr.length,Gr.mode=oi;case oi:for(;xa=Gr.distcode[Ci&(1<<Gr.distbits)-1],ia=xa>>>24,Ra=xa>>>16&255,Ma=xa&65535,!(ia<=ki);){if(Hi===0)break e;Hi--,Ci+=zi[ji++]<<ki,ki+=8}if(!(Ra&240)){for(Fa=ia,vs=Ra,Go=Ma;xa=Gr.distcode[Go+((Ci&(1<<Fa+vs)-1)>>Fa)],ia=xa>>>24,Ra=xa>>>16&255,Ma=xa&65535,!(Fa+ia<=ki);){if(Hi===0)break e;Hi--,Ci+=zi[ji++]<<ki,ki+=8}Ci>>>=Fa,ki-=Fa,Gr.back+=Fa}if(Ci>>>=ia,ki-=ia,Gr.back+=ia,Ra&64){wi.msg="invalid distance code",Gr.mode=ti;break}Gr.offset=Ma,Gr.extra=Ra&15,Gr.mode=Si;case Si:if(Gr.extra){for(ro=Gr.extra;ki<ro;){if(Hi===0)break e;Hi--,Ci+=zi[ji++]<<ki,ki+=8}Gr.offset+=Ci&(1<<Gr.extra)-1,Ci>>>=Gr.extra,ki-=Gr.extra,Gr.back+=Gr.extra}if(Gr.offset>Gr.dmax){wi.msg="invalid distance too far back",Gr.mode=ti;break}Gr.mode=Di;case Di:if(va===0)break e;if(Wi=na-va,Gr.offset>Wi){if(Wi=Gr.offset-Wi,Wi>Gr.whave&&Gr.sane){wi.msg="invalid distance too far back",Gr.mode=ti;break}Wi>Gr.wnext?(Wi-=Gr.wnext,_o=Gr.wsize-Wi):_o=Gr.wnext-Wi,Wi>Gr.length&&(Wi=Gr.length),co=Gr.window}else co=ca,_o=Ba-Gr.offset,Wi=Gr.length;Wi>va&&(Wi=va),va-=Wi,Gr.length-=Wi;do ca[Ba++]=co[_o++];while(--Wi);Gr.length===0&&(Gr.mode=Ti);break;case Mi:if(va===0)break e;ca[Ba++]=Gr.length,va--,Gr.mode=Ti;break;case Mr:if(Gr.wrap){for(;ki<32;){if(Hi===0)break e;Hi--,Ci|=zi[ji++]<<ki,ki+=8}if(na-=va,wi.total_out+=na,Gr.total+=na,na&&(wi.adler=Gr.check=Gr.flags?pr(Gr.check,ca,na,Ba-na):xr(Gr.check,ca,na,Ba-na)),na=va,(Gr.flags?Ci:Qr(Ci))!==Gr.check){wi.msg="incorrect data check",Gr.mode=ti;break}Ci=0,ki=0}Gr.mode=di;case di:if(Gr.wrap&&Gr.flags){for(;ki<32;){if(Hi===0)break e;Hi--,Ci+=zi[ji++]<<ki,ki+=8}if(Ci!==(Gr.total&4294967295)){wi.msg="incorrect length check",Gr.mode=ti;break}Ci=0,ki=0}Gr.mode=gi;case gi:Ua=Or;break e;case ti:Ua=Fr;break e;case ri:return Nr;case xi:default:return Rr}return wi.next_out=Ba,wi.avail_out=va,wi.next_in=ji,wi.avail_in=Hi,Gr.hold=Ci,Gr.bits=ki,(Gr.wsize||na!==wi.avail_out&&Gr.mode<ti&&(Gr.mode<Mr||Vi!==yr))&&Ta(wi,wi.output,wi.next_out,na-wi.avail_out),ko-=wi.avail_in,na-=wi.avail_out,wi.total_in+=ko,wi.total_out+=na,Gr.total+=na,Gr.wrap&&na&&(wi.adler=Gr.check=Gr.flags?pr(Gr.check,ca,na,wi.next_out-na):xr(Gr.check,ca,na,wi.next_out-na)),wi.data_type=Gr.bits+(Gr.last?64:0)+(Gr.mode===si?128:0)+(Gr.mode===Ki||Gr.mode===ei?256:0),(ko===0&&na===0||Vi===yr)&&Ua===kr&&(Ua=Hr),Ua}function po(wi){if(!wi||!wi.state)return Rr;var Vi=wi.state;return Vi.window&&(Vi.window=null),wi.state=null,kr}function so(wi,Vi){var Gr;return!wi||!wi.state||(Gr=wi.state,!(Gr.wrap&2))?Rr:(Gr.head=Vi,Vi.done=!1,kr)}function Co(wi,Vi){var Gr=Vi.length,zi,ca,ji;return!wi||!wi.state||(zi=wi.state,zi.wrap!==0&&zi.mode!==Fi)?Rr:zi.mode===Fi&&(ca=1,ca=xr(ca,Vi,Gr,0),ca!==zi.check)?Fr:(ji=Ta(wi,Vi,Gr,Gr),ji?(zi.mode=ri,Nr):(zi.havedict=1,kr))}or.inflateReset=vi,or.inflateReset2=Ri,or.inflateResetKeep=fi,or.inflateInit=Xi,or.inflateInit2=Yi,or.inflate=ba,or.inflateEnd=po,or.inflateGetHeader=so,or.inflateSetDictionary=Co,or.inflateInfo="pako inflate (from Nodeca project)"},function(ar,or){var ur=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";or.assign=function(pr){for(var br=Array.prototype.slice.call(arguments,1);br.length;){var gr=br.shift();if(gr){if(typeof gr!="object")throw new TypeError(gr+"must be non-object");for(var mr in gr)gr.hasOwnProperty(mr)&&(pr[mr]=gr[mr])}}return pr},or.shrinkBuf=function(pr,br){return pr.length===br?pr:pr.subarray?pr.subarray(0,br):(pr.length=br,pr)};var fr={arraySet:function(pr,br,gr,mr,_r){if(br.subarray&&pr.subarray){pr.set(br.subarray(gr,gr+mr),_r);return}for(var Sr=0;Sr<mr;Sr++)pr[_r+Sr]=br[gr+Sr]},flattenChunks:function(pr){var br,gr,mr,_r,Sr,yr;for(mr=0,br=0,gr=pr.length;br<gr;br++)mr+=pr[br].length;for(yr=new Uint8Array(mr),_r=0,br=0,gr=pr.length;br<gr;br++)Sr=pr[br],yr.set(Sr,_r),_r+=Sr.length;return yr}},xr={arraySet:function(pr,br,gr,mr,_r){for(var Sr=0;Sr<mr;Sr++)pr[_r+Sr]=br[gr+Sr]},flattenChunks:function(pr){return[].concat.apply([],pr)}};or.setTyped=function(pr){pr?(or.Buf8=Uint8Array,or.Buf16=Uint16Array,or.Buf32=Int32Array,or.assign(or,fr)):(or.Buf8=Array,or.Buf16=Array,or.Buf32=Array,or.assign(or,xr))},or.setTyped(ur)},function(ar,or){function ur(fr,xr,pr,br){for(var gr=fr&65535|0,mr=fr>>>16&65535|0,_r=0;pr!==0;){_r=pr>2e3?2e3:pr,pr-=_r;do gr=gr+xr[br++]|0,mr=mr+gr|0;while(--_r);gr%=65521,mr%=65521}return gr|mr<<16|0}ar.exports=ur},function(ar,or){function ur(){for(var pr,br=[],gr=0;gr<256;gr++){pr=gr;for(var mr=0;mr<8;mr++)pr=pr&1?3988292384^pr>>>1:pr>>>1;br[gr]=pr}return br}var fr=ur();function xr(pr,br,gr,mr){var _r=fr,Sr=mr+gr;pr^=-1;for(var yr=mr;yr<Sr;yr++)pr=pr>>>8^_r[(pr^br[yr])&255];return pr^-1}ar.exports=xr},function(ar,or){var ur=30,fr=12;ar.exports=function(pr,br){var gr,mr,_r,Sr,yr,Cr,Ar,kr,Or,Dr,Rr,Fr,Nr,Hr,jr,Jr,Yr,Ur,Zr,Wr,ni,Lr,hi,Ei,_i;gr=pr.state,mr=pr.next_in,Ei=pr.input,_r=mr+(pr.avail_in-5),Sr=pr.next_out,_i=pr.output,yr=Sr-(br-pr.avail_out),Cr=Sr+(pr.avail_out-257),Ar=gr.dmax,kr=gr.wsize,Or=gr.whave,Dr=gr.wnext,Rr=gr.window,Fr=gr.hold,Nr=gr.bits,Hr=gr.lencode,jr=gr.distcode,Jr=(1<<gr.lenbits)-1,Yr=(1<<gr.distbits)-1;e:do{Nr<15&&(Fr+=Ei[mr++]<<Nr,Nr+=8,Fr+=Ei[mr++]<<Nr,Nr+=8),Ur=Hr[Fr&Jr];t:for(;;){if(Zr=Ur>>>24,Fr>>>=Zr,Nr-=Zr,Zr=Ur>>>16&255,Zr===0)_i[Sr++]=Ur&65535;else if(Zr&16){Wr=Ur&65535,Zr&=15,Zr&&(Nr<Zr&&(Fr+=Ei[mr++]<<Nr,Nr+=8),Wr+=Fr&(1<<Zr)-1,Fr>>>=Zr,Nr-=Zr),Nr<15&&(Fr+=Ei[mr++]<<Nr,Nr+=8,Fr+=Ei[mr++]<<Nr,Nr+=8),Ur=jr[Fr&Yr];r:for(;;){if(Zr=Ur>>>24,Fr>>>=Zr,Nr-=Zr,Zr=Ur>>>16&255,Zr&16){if(ni=Ur&65535,Zr&=15,Nr<Zr&&(Fr+=Ei[mr++]<<Nr,Nr+=8,Nr<Zr&&(Fr+=Ei[mr++]<<Nr,Nr+=8)),ni+=Fr&(1<<Zr)-1,ni>Ar){pr.msg="invalid distance too far back",gr.mode=ur;break e}if(Fr>>>=Zr,Nr-=Zr,Zr=Sr-yr,ni>Zr){if(Zr=ni-Zr,Zr>Or&&gr.sane){pr.msg="invalid distance too far back",gr.mode=ur;break e}if(Lr=0,hi=Rr,Dr===0){if(Lr+=kr-Zr,Zr<Wr){Wr-=Zr;do _i[Sr++]=Rr[Lr++];while(--Zr);Lr=Sr-ni,hi=_i}}else if(Dr<Zr){if(Lr+=kr+Dr-Zr,Zr-=Dr,Zr<Wr){Wr-=Zr;do _i[Sr++]=Rr[Lr++];while(--Zr);if(Lr=0,Dr<Wr){Zr=Dr,Wr-=Zr;do _i[Sr++]=Rr[Lr++];while(--Zr);Lr=Sr-ni,hi=_i}}}else if(Lr+=Dr-Zr,Zr<Wr){Wr-=Zr;do _i[Sr++]=Rr[Lr++];while(--Zr);Lr=Sr-ni,hi=_i}for(;Wr>2;)_i[Sr++]=hi[Lr++],_i[Sr++]=hi[Lr++],_i[Sr++]=hi[Lr++],Wr-=3;Wr&&(_i[Sr++]=hi[Lr++],Wr>1&&(_i[Sr++]=hi[Lr++]))}else{Lr=Sr-ni;do _i[Sr++]=_i[Lr++],_i[Sr++]=_i[Lr++],_i[Sr++]=_i[Lr++],Wr-=3;while(Wr>2);Wr&&(_i[Sr++]=_i[Lr++],Wr>1&&(_i[Sr++]=_i[Lr++]))}}else if(Zr&64){pr.msg="invalid distance code",gr.mode=ur;break e}else{Ur=jr[(Ur&65535)+(Fr&(1<<Zr)-1)];continue r}break}}else if(Zr&64)if(Zr&32){gr.mode=fr;break e}else{pr.msg="invalid literal/length code",gr.mode=ur;break e}else{Ur=Hr[(Ur&65535)+(Fr&(1<<Zr)-1)];continue t}break}}while(mr<_r&&Sr<Cr);Wr=Nr>>3,mr-=Wr,Nr-=Wr<<3,Fr&=(1<<Nr)-1,pr.next_in=mr,pr.next_out=Sr,pr.avail_in=mr<_r?5+(_r-mr):5-(mr-_r),pr.avail_out=Sr<Cr?257+(Cr-Sr):257-(Sr-Cr),gr.hold=Fr,gr.bits=Nr}},function(ar,or,ur){var fr=ur(33),xr=15,pr=852,br=592,gr=0,mr=1,_r=2,Sr=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],yr=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Cr=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Ar=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];ar.exports=function(Or,Dr,Rr,Fr,Nr,Hr,jr,Jr){var Yr=Jr.bits,Ur=0,Zr=0,Wr=0,ni=0,Lr=0,hi=0,Ei=0,_i=0,Fi=0,si=0,ci,$r,ei,pi,ui,bi=null,qi=0,Ki,Ti=new fr.Buf16(xr+1),ii=new fr.Buf16(xr+1),oi=null,Si=0,Di,Mi,Mr;for(Ur=0;Ur<=xr;Ur++)Ti[Ur]=0;for(Zr=0;Zr<Fr;Zr++)Ti[Dr[Rr+Zr]]++;for(Lr=Yr,ni=xr;ni>=1&&Ti[ni]===0;ni--);if(Lr>ni&&(Lr=ni),ni===0)return Nr[Hr++]=1<<24|64<<16|0,Nr[Hr++]=1<<24|64<<16|0,Jr.bits=1,0;for(Wr=1;Wr<ni&&Ti[Wr]===0;Wr++);for(Lr<Wr&&(Lr=Wr),_i=1,Ur=1;Ur<=xr;Ur++)if(_i<<=1,_i-=Ti[Ur],_i<0)return-1;if(_i>0&&(Or===gr||ni!==1))return-1;for(ii[1]=0,Ur=1;Ur<xr;Ur++)ii[Ur+1]=ii[Ur]+Ti[Ur];for(Zr=0;Zr<Fr;Zr++)Dr[Rr+Zr]!==0&&(jr[ii[Dr[Rr+Zr]]++]=Zr);if(Or===gr?(bi=oi=jr,Ki=19):Or===mr?(bi=Sr,qi-=257,oi=yr,Si-=257,Ki=256):(bi=Cr,oi=Ar,Ki=-1),si=0,Zr=0,Ur=Wr,ui=Hr,hi=Lr,Ei=0,ei=-1,Fi=1<<Lr,pi=Fi-1,Or===mr&&Fi>pr||Or===_r&&Fi>br)return 1;for(;;){Di=Ur-Ei,jr[Zr]<Ki?(Mi=0,Mr=jr[Zr]):jr[Zr]>Ki?(Mi=oi[Si+jr[Zr]],Mr=bi[qi+jr[Zr]]):(Mi=32+64,Mr=0),ci=1<<Ur-Ei,$r=1<<hi,Wr=$r;do $r-=ci,Nr[ui+(si>>Ei)+$r]=Di<<24|Mi<<16|Mr|0;while($r!==0);for(ci=1<<Ur-1;si&ci;)ci>>=1;if(ci!==0?(si&=ci-1,si+=ci):si=0,Zr++,--Ti[Ur]===0){if(Ur===ni)break;Ur=Dr[Rr+jr[Zr]]}if(Ur>Lr&&(si&pi)!==ei){for(Ei===0&&(Ei=Lr),ui+=Wr,hi=Ur-Ei,_i=1<<hi;hi+Ei<ni&&(_i-=Ti[hi+Ei],!(_i<=0));)hi++,_i<<=1;if(Fi+=1<<hi,Or===mr&&Fi>pr||Or===_r&&Fi>br)return 1;ei=si&pi,Nr[ei]=Lr<<24|hi<<16|ui-Hr|0}}return si!==0&&(Nr[ui+si]=Ur-Ei<<24|64<<16|0),Jr.bits=Lr,0}},function(ar,or,ur){var fr=ur(33),xr=!0,pr=!0;try{String.fromCharCode.apply(null,[0])}catch{xr=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{pr=!1}for(var br=new fr.Buf8(256),gr=0;gr<256;gr++)br[gr]=gr>=252?6:gr>=248?5:gr>=240?4:gr>=224?3:gr>=192?2:1;br[254]=br[254]=1,or.string2buf=function(_r){var Sr,yr,Cr,Ar,kr,Or=_r.length,Dr=0;for(Ar=0;Ar<Or;Ar++)yr=_r.charCodeAt(Ar),(yr&64512)===55296&&Ar+1<Or&&(Cr=_r.charCodeAt(Ar+1),(Cr&64512)===56320&&(yr=65536+(yr-55296<<10)+(Cr-56320),Ar++)),Dr+=yr<128?1:yr<2048?2:yr<65536?3:4;for(Sr=new fr.Buf8(Dr),kr=0,Ar=0;kr<Dr;Ar++)yr=_r.charCodeAt(Ar),(yr&64512)===55296&&Ar+1<Or&&(Cr=_r.charCodeAt(Ar+1),(Cr&64512)===56320&&(yr=65536+(yr-55296<<10)+(Cr-56320),Ar++)),yr<128?Sr[kr++]=yr:yr<2048?(Sr[kr++]=192|yr>>>6,Sr[kr++]=128|yr&63):yr<65536?(Sr[kr++]=224|yr>>>12,Sr[kr++]=128|yr>>>6&63,Sr[kr++]=128|yr&63):(Sr[kr++]=240|yr>>>18,Sr[kr++]=128|yr>>>12&63,Sr[kr++]=128|yr>>>6&63,Sr[kr++]=128|yr&63);return Sr};function mr(_r,Sr){if(Sr<65537&&(_r.subarray&&pr||!_r.subarray&&xr))return String.fromCharCode.apply(null,fr.shrinkBuf(_r,Sr));for(var yr="",Cr=0;Cr<Sr;Cr++)yr+=String.fromCharCode(_r[Cr]);return yr}or.buf2binstring=function(_r){return mr(_r,_r.length)},or.binstring2buf=function(_r){for(var Sr=new fr.Buf8(_r.length),yr=0,Cr=Sr.length;yr<Cr;yr++)Sr[yr]=_r.charCodeAt(yr);return Sr},or.buf2string=function(_r,Sr){var yr,Cr,Ar,kr,Or=Sr||_r.length,Dr=new Array(Or*2);for(Cr=0,yr=0;yr<Or;){if(Ar=_r[yr++],Ar<128){Dr[Cr++]=Ar;continue}if(kr=br[Ar],kr>4){Dr[Cr++]=65533,yr+=kr-1;continue}for(Ar&=kr===2?31:kr===3?15:7;kr>1&&yr<Or;)Ar=Ar<<6|_r[yr++]&63,kr--;if(kr>1){Dr[Cr++]=65533;continue}Ar<65536?Dr[Cr++]=Ar:(Ar-=65536,Dr[Cr++]=55296|Ar>>10&1023,Dr[Cr++]=56320|Ar&1023)}return mr(Dr,Cr)},or.utf8border=function(_r,Sr){var yr;for(Sr=Sr||_r.length,Sr>_r.length&&(Sr=_r.length),yr=Sr-1;yr>=0&&(_r[yr]&192)===128;)yr--;return yr<0||yr===0?Sr:yr+br[_r[yr]]>Sr?yr:Sr}},function(ar,or){ar.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(ar,or){ar.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(ar,or){function ur(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}ar.exports=ur},function(ar,or){function ur(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}ar.exports=ur}])})})(browserfs$2);var browserfsExports=browserfs$2.exports;const browserfs=getDefaultExportFromCjs(browserfsExports),browserfs$1=_mergeNamespaces({__proto__:null,default:browserfs},[browserfsExports]),raUserdataDir$1="/home/web_user/retroarch/userdata";function createEmscriptenFS({FS:lr,PATH:cr,ERRNO_CODES:ar}){const or=new browserfsExports.FileSystem.InMemory,ur=new browserfsExports.FileSystem.MountableFileSystem;try{ur.umount(raUserdataDir$1)}catch{}return ur.mount(raUserdataDir$1,or),browserfsExports.initialize(ur),new browserfsExports.EmscriptenFS(lr,cr,ar)}function getEmscriptenModuleOverrides(lr){let cr;const ar=new Promise(ur=>{cr=ur});return{noInitialRun:!0,noExitRuntime:!1,locateFile(ur){return ur},print(...ur){console.info(...ur)},printErr(...ur){console.error(...ur)},quit(ur,fr){ur&&console.info(ur,fr)},async monitorRunDependencies(ur){return ur===0&&cr(),await ar},...lr}}const{Buffer:Buffer$1}=browserfsExports.BFSRequire("buffer"),path=browserfsExports.BFSRequire("path"),{basename,extname,dirname,join,relative}=path;function urlBaseName(lr){let cr=lr;try{cr=new URL(lr).pathname}catch{}const ar=basename(cr);try{return decodeURIComponent(ar)}catch{return ar}}function isAbsoluteUrl(lr){return!lr||typeof lr!="string"?!1:["http://","https://","//","data:","blob:"].some(ar=>lr.startsWith(ar))}async function blobToBuffer(lr){const cr=await lr.arrayBuffer();return Buffer$1.from(cr)}function stringToBuffer(lr){return Buffer$1.from(lr,"utf8")}function updateStyle(lr,cr){if(lr)for(const ar in cr){const or=cr[ar];lr.style[ar]=or||null}}function delay(lr){return new Promise(cr=>{setTimeout(cr,lr)})}function isGlobalScript(lr){return lr.startsWith("var Module")}function isEsmScript(lr){return lr.includes("import.meta.url")}function patchCoreJs({name:lr,js:cr}){let ar=cr;return isGlobalScript(cr)?ar=`export function getEmscripten({ Module }) {
        ${cr};
        Module.FS = FS;
        Module.PATH = PATH;
        Module.ERRNO_CODES = ERRNO_CODES;
        return { JSEvents, Module, exit: _emscripten_force_exit }
      }`:isEsmScript(cr)&&(ar=`${cr.replace("readyPromiseResolve(Module)","readyPromiseResolve({ JSEvents, Module, exit: _emscripten_force_exit })")};
      export function getEmscripten({ Module }) {
        return (libretro_${lr} || ${lr})(Module)
      }
    `),ar}async function importCoreJsAsESM({name,js}){const jsContent=patchCoreJs({name,js}),jsBlob=new Blob([jsContent],{type:"application/javascript"}),jsBlobUrl=URL.createObjectURL(jsBlob);if(!jsBlobUrl)throw new Error("invalid jsBlob");try{return await __vitePreload(()=>import(jsBlobUrl),[])}catch{return await eval("import(jsBlobUrl)")}finally{URL.revokeObjectURL(jsBlobUrl)}}function isNil(lr){return lr==null}function isPlainObject(lr){if(isNil(lr))return!1;const{constructor:cr}=lr;return cr===Object||!cr}function mergeSourceToTarget(lr,cr){for(const ar in cr)if(Object.prototype.hasOwnProperty.call(cr,ar)){const or=lr[ar],ur=cr[ar];isNil(or)?lr[ar]=ur:Array.isArray(or)&&Array.isArray(ur)?lr[ar]=[...or,...ur]:isPlainObject(or)&&isPlainObject(ur)?(lr[ar]=isPlainObject(or)?lr[ar]:{},mergeSourceToTarget(lr[ar],ur)):lr[ar]=ur}}function merge(lr,...cr){for(const ar of cr)mergeSourceToTarget(lr,ar)}const encoder=new TextEncoder,raUserdataDir="/home/web_user/retroarch/userdata",raBundleDir="/home/web_user/retroarch/bundle",raContentDir=join(raUserdataDir,"content"),raSystemDir=join(raUserdataDir,"system"),raConfigDir=join(raUserdataDir,"config"),raShaderDir=join(raBundleDir,"shaders","shaders_glsl"),raConfigPath=join(raUserdataDir,"retroarch.cfg"),raCoreConfigPath=join(raUserdataDir,"retroarch-core-options.cfg");class Emulator{constructor(cr){__publicField(this,"emscripten"),__publicField(this,"browserFS"),__publicField(this,"options"),__publicField(this,"messageQueue",[]),__publicField(this,"gameStatus","initial"),__publicField(this,"canvasInitialSize",{width:0,height:0}),this.options=cr}get romBaseName(){const{rom:[{fileName:cr}]}=this.options;return cr.slice(0,cr.lastIndexOf("."))}get stateFileDirectory(){const{core:cr}=this.options,ar=coreInfoMap[cr.name].corename;if(!ar)throw new Error(`invalid core name: ${cr.name}`);return join(raUserdataDir,"states",ar)}get stateFileName(){return join(this.stateFileDirectory,`${this.romBaseName}.state`)}get stateThumbnailFileName(){return`${this.stateFileName}.png`}getOptions(){return this.options}async launch(){await this.setupEmscripten(),this.checkIsAborted(),await this.setupRaConfigFile(),this.checkIsAborted();const{element:cr,style:ar,respondToGlobalEvents:or,waitForInteraction:ur,signal:fr}=this.options;if(updateStyle(cr,ar),cr.isConnected||(document.body.append(cr),fr==null||fr.addEventListener("abort",()=>{cr==null||cr.remove()})),this.canvasInitialSize=this.getElementSize(),or===!1){(!cr.tabIndex||cr.tabIndex===-1)&&(cr.tabIndex=0);const{activeElement:mr}=document;cr.focus(),fr==null||fr.addEventListener("abort",()=>{mr instanceof HTMLElement&&mr.focus()})}const{nostalgist:xr,beforeLaunch:pr,onLaunch:br}=this.options;pr&&await pr(xr);const gr=async()=>{this.runMain(),br&&await br(xr)};ur?ur({done:gr}):gr()}sendCommand(cr){const ar=encoder.encode(`${cr}
`);this.messageQueue.push([ar,0])}resume(){this.gameStatus==="paused"&&this.sendCommand("PAUSE_TOGGLE"),this.gameStatus="running"}restart(){this.sendCommand("RESET"),this.resume()}pause(){this.gameStatus==="running"&&this.sendCommand("PAUSE_TOGGLE"),this.gameStatus="paused"}getEmscripten(){if(!this.emscripten)throw new Error("emulator is not ready");return this.emscripten}async saveState(){this.clearStateFile(),this.sendCommand("SAVE_STATE");const cr=this.options.retroarchConfig.savestate_thumbnail_enable;let ar,or;cr?[ar,or]=await Promise.all([this.waitForEmscriptenFile(this.stateFileName),this.waitForEmscriptenFile(this.stateThumbnailFileName)]):ar=await this.waitForEmscriptenFile(this.stateFileName),this.clearStateFile();const ur=new Blob([ar],{type:"application/octet-stream"}),fr=or?new Blob([or],{type:"image/png"}):void 0;return{state:ur,thumbnail:fr}}async loadState(cr){this.clearStateFile();const{Module:ar}=this.getEmscripten(),{FS:or}=ar,ur=await blobToBuffer(cr);or.writeFile(this.stateFileName,ur),await this.waitForEmscriptenFile(this.stateFileName),this.sendCommand("LOAD_STATE")}exit(cr=0){const{emscripten:ar}=this;if(ar){const{Module:or,exit:ur,JSEvents:fr}=this.getEmscripten(),{FS:xr}=or;ur(cr),xr.unmount("/home"),fr.removeAllEventListeners()}}resize({width:cr,height:ar}){const{Module:or}=this.getEmscripten();typeof cr=="number"&&typeof ar=="number"&&or.setCanvasSize(cr,ar)}pressDown(cr,ar=1){const or=this.getKeyboardCode(cr,ar);or&&this.keyboardDown(or)}pressUp(cr,ar=1){const or=this.getKeyboardCode(cr,ar);or&&this.keyboardUp(or)}async press(cr,ar=1,or=100){const ur=this.getKeyboardCode(cr,ar);ur&&await this.keyboardPress(ur,or)}async screenshot(){this.sendCommand("SCREENSHOT");const cr=join(raUserdataDir,"screenshots"),ar=this.guessScreenshotFileName(),or=join(cr,ar),ur=await this.waitForEmscriptenFile(or),{Module:fr}=this.getEmscripten(),{FS:xr}=fr;xr.unlink(or);const pr={type:"image/png"};return new Blob([ur],pr)}getElementSize(){const{element:cr,size:ar}=this.options;return!ar||ar==="auto"?{width:cr.offsetWidth,height:cr.offsetHeight}:ar}async writeBlobToDirectory({fileName:cr,fileContent:ar,directory:or}){const{Module:ur}=this.getEmscripten(),{FS:fr}=ur,xr=await blobToBuffer(ar);fr.createDataFile("/",cr,xr,!0,!1);const pr="binary",br=fr.readFile(cr,{encoding:pr});fr.mkdirTree(or),fr.writeFile(join(or,cr),br,{encoding:pr}),fr.unlink(cr)}writeTextToDirectory({fileName:cr,fileContent:ar,directory:or}){const{Module:ur}=this.getEmscripten(),{FS:fr}=ur,xr=stringToBuffer(ar);fr.createDataFile("/",cr,xr,!0,!1);const pr="binary",br=fr.readFile(cr,{encoding:pr});fr.mkdirTree(or),fr.writeFile(join(or,cr),br,{encoding:pr}),fr.unlink(cr)}async setupFileSystem(){const{Module:cr}=this.getEmscripten(),{FS:ar,PATH:or,ERRNO_CODES:ur}=cr,{rom:fr,bios:xr,state:pr}=this.options,br=createEmscriptenFS({FS:ar,PATH:or,ERRNO_CODES:ur});this.browserFS=br,ar.mount(br,{root:"/home"},"/home"),fr.length>0&&ar.mkdirTree(raContentDir),xr.length>0&&ar.mkdirTree(raSystemDir),pr&&ar.mkdirTree(this.stateFileDirectory);const gr=100;let mr=0;for(;!cr.asm&&mr<gr;)await delay(10),this.checkIsAborted(),mr+=5;const _r=[];if(_r.push(...fr.map(Sr=>this.writeBlobToDirectory({...Sr,directory:raContentDir})),...xr.map(Sr=>this.writeBlobToDirectory({...Sr,directory:raSystemDir}))),pr){const Sr=this.writeBlobToDirectory({fileName:`${this.romBaseName}.state.auto`,fileContent:pr,directory:this.stateFileDirectory});_r.push(Sr)}await Promise.all(_r),this.checkIsAborted()}async setupEmscripten(){var cr;typeof window=="object"&&(window.setImmediate??(window.setImmediate=window.setTimeout));const{element:ar,core:or,emscriptenModule:ur}=this.options,{wasm:fr}=or,xr={wasmBinary:fr,canvas:ar,preRun:[],...ur},pr=getEmscriptenModuleOverrides(xr);(cr=pr.preRun)==null||cr.push(()=>pr.FS.init(()=>this.stdin()));const{getEmscripten:br}=await importCoreJsAsESM(or),gr=await br({Module:pr});this.emscripten=gr;const{Module:mr}=gr;await mr.monitorRunDependencies(),this.checkIsAborted(),await this.setupFileSystem()}stdin(){const{messageQueue:cr}=this;for(;cr.length>0;){const ar=cr[0][0],or=cr[0][1];if(or>=ar.length)cr.shift();else return cr[0][1]=or+1,ar[or]}return null}writeConfigFile({path:cr,config:ar}){const{Module:or}=this.getEmscripten(),{FS:ur}=or,fr=cr.slice(0,cr.lastIndexOf("/"));ur.mkdirTree(fr);for(const gr in ar)ar[gr]=`__${ar[gr]}__`;let xr=ini$1.stringify(ar,{whitespace:!0,platform:"linux"});xr=xr.replaceAll("__",'"');const pr=basename(cr),br=dirname(cr);this.writeTextToDirectory({fileContent:xr,fileName:pr,directory:br})}async setupRaConfigFile(){this.writeConfigFile({path:raConfigPath,config:this.options.retroarchConfig}),this.writeConfigFile({path:raCoreConfigPath,config:this.options.retroarchCoreConfig}),await this.setupRaShaderFile()}async setupRaShaderFile(){const{shader:cr}=this.options;if(cr.length===0)return;const ar=cr.filter(ur=>ur.fileName.endsWith(".glslp"));if(ar.length===0)return;const or=ar.map(ur=>`#reference "${join(raShaderDir,ur.fileName)}"`).join(`
`);this.writeTextToDirectory({fileName:"global.glslp",fileContent:or,directory:raConfigDir}),await Promise.all(cr.map(async({fileName:ur,fileContent:fr})=>{const xr=ur.endsWith(".glslp")?raShaderDir:join(raShaderDir,"shaders");await this.writeBlobToDirectory({fileName:ur,fileContent:fr,directory:xr})}))}runMain(){this.checkIsAborted();const{Module:cr}=this.getEmscripten(),{arguments:ar=[]}=cr,{rom:or,signal:ur}=this.options;if(!cr.arguments&&or.length>0){const[{fileName:fr}]=or;ar.push(join(raContentDir,fr))}cr.callMain(ar),ur==null||ur.addEventListener("abort",()=>{this.exit()}),this.gameStatus="running",this.postRun()}postRun(){this.resize(this.canvasInitialSize),this.fireGamepadEvents(),this.updateKeyboardEventHandlers()}fireGamepadEvents(){var cr;for(const ar of((cr=navigator.getGamepads)==null?void 0:cr.call(navigator))??[])ar&&window.dispatchEvent(new GamepadEvent("gamepadconnected",{gamepad:ar}))}updateKeyboardEventHandlers(){const{JSEvents:cr}=this.getEmscripten(),{respondToGlobalEvents:ar,element:or}=this.options;ar||(or.getAttribute("tabindex")||(or.tabIndex=-1),or.focus(),or.addEventListener("click",()=>{or.focus()}));const ur=new Set(["keyup","keydown","keypress"]),fr=cr.eventHandlers.filter(({eventTypeString:xr,target:pr})=>ur.has(xr)&&(pr===document||pr===or));for(const xr of fr){const{eventTypeString:pr,target:br,handlerFunc:gr}=xr;cr.registerOrRemoveHandler({eventTypeString:pr,target:br}),cr.registerOrRemoveHandler({...xr,target:ar?document:or,handlerFunc:(...mr)=>{const[_r]=mr;(ar||(_r==null?void 0:_r.target)===or)&&gr(...mr)}})}}async waitForEmscriptenFile(cr){const{Module:ar}=this.getEmscripten(),{FS:or}=ar,ur=30;let fr,xr=!1,pr=0;for(;pr<=ur&&!xr;){const br=Math.min(100*2**pr,1e3);await delay(br);try{const gr=or.readFile(cr).buffer;xr=(fr==null?void 0:fr.byteLength)>0&&(fr==null?void 0:fr.byteLength)===gr.byteLength,fr=gr}catch(gr){console.warn(gr)}pr+=1}if(!xr)throw new Error("fs timeout");return fr}clearStateFile(){const{Module:cr}=this.getEmscripten(),{FS:ar}=cr;try{ar.unlink(this.stateFileName),ar.unlink(this.stateThumbnailFileName)}catch{}}getCurrentRetroarchConfig(){const{Module:cr}=this.getEmscripten(),{FS:ar}=cr,or=ar.readFile(raConfigPath,{encoding:"utf8"});return ini$1.parse(or)}fireKeyboardEvent(cr,ar){const{JSEvents:or}=this.getEmscripten();for(const{eventTypeString:ur,eventListenerFunc:fr}of or.eventHandlers)if(ur===cr)try{fr({code:ar,target:this.options.element})}catch{}}getKeyboardCode(cr,ar=1){const or=this.getCurrentRetroarchConfig(),ur=`input_player${ar}_${cr}`,fr=or[ur];if(!fr||fr==="nul")return;const{length:xr}=fr;return xr===1?`Key${fr.toUpperCase()}`:fr[0]==="f"&&(xr===2||xr===3)?fr.toUpperCase():xr===4&&fr.startsWith("num")?`Numpad${fr.at(-1)}`:xr===7&&fr.startsWith("keypad")?`Digit${fr.at(-1)}`:keyboardCodeMap[fr]||""}keyboardUp(cr){this.fireKeyboardEvent("keyup",cr)}keyboardDown(cr){this.fireKeyboardEvent("keydown",cr)}async keyboardPress(cr,ar=100){this.keyboardDown(cr),await delay(ar),this.keyboardUp(cr)}guessScreenshotFileName(){const cr=new Date,ar=cr.getFullYear()%1e3,or=padZero(cr.getMonth()+1),ur=padZero(cr.getDate()),fr=padZero(cr.getHours()),xr=padZero(cr.getMinutes()),pr=padZero(cr.getSeconds()),br=`${ar}${or}${ur}-${fr}${xr}${pr}`;return`${this.romBaseName}-${br}.png`}checkIsAborted(){var cr;if((cr=this.options.signal)!=null&&cr.aborted)throw new Error("Launch aborted")}}function padZero(lr){return(lr<10?"0":"")+lr}const defaultRetroarchConfig={menu_driver:"rgui",notification_show_when_menu_is_alive:!0,savestate_auto_load:!0,savestate_thumbnail_enable:!0,stdin_cmd_enable:!0,video_shader_enable:!0,input_audio_mute:"nul",input_cheat_index_minus:"nul",input_cheat_index_plus:"nul",input_cheat_toggle:"nul",input_desktop_menu_toggle:"nul",input_exit_emulator:"nul",input_fps_toggle:"nul",input_frame_advance:"nul",input_game_focus_toggle:"nul",input_grab_mouse_toggle:"nul",input_hold_fast_forward:"nul",input_hold_slowmotion:"nul",input_load_state:"nul",input_netplay_game_watch:"nul",input_netplay_player_chat:"nul",input_pause_toggle:"nul",input_reset:"nul",input_rewind:"nul",input_save_state:"nul",input_screenshot:"nul",input_shader_next:"nul",input_shader_prev:"nul",input_shader_toggle:"nul",input_state_slot_decrease:"nul",input_state_slot_increase:"nul",input_toggle_fast_forward:"nul",input_toggle_fullscreen:"nul",input_volume_down:"nul",input_volume_up:"nul",input_player1_analog_dpad_mode:1,input_player2_analog_dpad_mode:1,input_player3_analog_dpad_mode:1,input_player4_analog_dpad_mode:1},cdnBaseUrl="https://cdn.jsdelivr.net/gh",coreRepo="arianrhodsandlot/retroarch-emscripten-build",coreVersion="v1.17.0",coreDirectory="retroarch",shaderRepo="libretro/glsl-shaders",shaderVersion="bc8df9";function getDefaultOptions(){return{element:"",runEmulatorManually:!1,retroarchConfig:defaultRetroarchConfig,retroarchCoreConfig:{},resolveCoreJs(cr){return`${cdnBaseUrl}/${coreRepo}@${coreVersion}/${coreDirectory}/${cr}_libretro.js`},resolveCoreWasm(cr){return`${cdnBaseUrl}/${coreRepo}@${coreVersion}/${coreDirectory}/${cr}_libretro.wasm`},resolveRom(cr){if(typeof cr!="string")return cr||[];if(isAbsoluteUrl(cr))return cr;let ar="";if(cr.endsWith(".nes")?ar="retrobrews/nes-games":cr.endsWith(".sfc")?ar="retrobrews/snes-games":cr.endsWith(".gb")||cr.endsWith(".gbc")?ar="retrobrews/gbc-games":cr.endsWith(".gba")?ar="retrobrews/gba-games":cr.endsWith(".sms")?ar="retrobrews/sms-games":(cr.endsWith(".md")||cr.endsWith(".bin"))&&(ar="retrobrews/md-games"),ar){const or=encodeURIComponent(cr);return`${cdnBaseUrl}/${ar}@master/${or}`}return cr||[]},resolveBios(cr){return cr||[]},resolveShader(cr){if(!cr)return[];const ar=`${cdnBaseUrl}/${shaderRepo}@${shaderVersion}/${cr}.glslp`,or=cr.split(path.sep);or.splice(-1,0,"shaders");const ur=`${cdnBaseUrl}/${shaderRepo}@${shaderVersion}/${or.join(path.sep)}.glsl`;return[ar,ur]}}}const vendors={ini:ini$1,browserfs:browserfs$1},_Nostalgist=class Va{constructor(cr){__publicField(this,"options"),__publicField(this,"emulatorOptions"),__publicField(this,"emulator");const ar={...Va.globalOptions},or={...cr},ur={};merge(ur,ar,or),this.options=ur}static resetToDefault(){Va.configure(getDefaultOptions())}static configure(cr){merge(Va.globalOptions,cr)}static async launch(cr){const ar=new Va(cr);return await ar.launch(),ar}static async gb(cr){return await Va.launchSystem("gb",cr)}static async gba(cr){return await Va.launchSystem("gba",cr)}static async gbc(cr){return await Va.launchSystem("gbc",cr)}static async megadrive(cr){return await Va.launchSystem("megadrive",cr)}static async nes(cr){return await Va.launchSystem("nes",cr)}static async snes(cr){return await Va.launchSystem("snes",cr)}static getCoreForSystem(cr){return systemCoreMap[cr]}static async launchSystem(cr,ar){const or=typeof ar=="string"||ar instanceof File||"fileName"in ar&&"fileContent"in ar?{rom:ar}:ar,ur=Va.getCoreForSystem(cr);return await Va.launch({...or,core:ur})}getEmulator(){const{emulator:cr}=this;if(!cr)throw new Error("emulator is not ready");return cr}getEmulatorOptions(){if(!this.emulatorOptions)throw new Error("emulator options are not ready");return this.emulatorOptions}getCanvas(){return this.getEmulatorOptions().element}async launchEmulator(){return await this.getEmulator().launch()}getEmscriptenModule(){return this.getEmulator().getEmscripten().Module}getEmscriptenFS(){return this.getEmulator().getEmscripten().Module.FS}getBrowserFS(){return this.getEmulator().browserFS}getOptions(){return this.options}async saveState(){return await this.getEmulator().saveState()}async loadState(cr){await this.getEmulator().loadState(cr)}resume(){this.getEmulator().resume()}pause(){this.getEmulator().pause()}restart(){this.getEmulator().restart()}exit({removeCanvas:cr=!0}={}){this.getEmulator().exit(),cr&&this.getCanvas().remove()}resize(cr){return this.getEmulator().resize(cr)}pressDown(cr){const ar=this.getEmulator();return typeof cr=="string"?ar.pressDown(cr):ar.pressDown(cr.button,cr.player)}pressUp(cr){const ar=this.getEmulator();return typeof cr=="string"?ar.pressUp(cr):ar.pressUp(cr.button,cr.player)}async press(cr){const ar=this.getEmulator();await(typeof cr=="string"?ar.press(cr):ar.press(cr.button,cr.player,cr.time))}async screenshot(){return await this.getEmulator().screenshot()}sendCommand(cr){return this.getEmulator().sendCommand(cr)}async launch(){await this.loadEmulatorOptions(),this.checkIsAborted(),this.loadEmulator(),this.options.runEmulatorManually||await this.launchEmulator()}async loadEmulatorOptions(){const{size:cr="auto",respondToGlobalEvents:ar=!0,state:or,waitForInteraction:ur,signal:fr,beforeLaunch:xr,onLaunch:pr,emscriptenModule:br={}}=this.options,gr=this.getElementOption(),mr=this.getStyleOption(),_r=this.getRetroarchOption(),Sr=this.getRetroarchCoreOption(),[yr,Cr,Ar,kr]=await Promise.all([this.getCoreOption(),this.getRomOption(),this.getBiosOption(),this.getShaderOption()]);this.checkIsAborted();const Or={element:gr,style:mr,size:cr,core:yr,rom:Cr,bios:Ar,shader:kr,state:or,respondToGlobalEvents:ar,retroarchConfig:_r,retroarchCoreConfig:Sr,waitForInteraction:ur,emscriptenModule:br,signal:fr,beforeLaunch:xr,onLaunch:pr,nostalgist:this};this.emulatorOptions=Or}getElementOption(){if(typeof document!="object")throw new TypeError("document must be an object");let{element:cr}=this.options;if(typeof cr=="string"&&cr){const ar=document.body.querySelector(cr);if(!ar)throw new Error(`can not find element "${cr}"`);if(!(ar instanceof HTMLCanvasElement))throw new TypeError(`element "${cr}" is not a canvas element`);cr=ar}if(cr||(cr=document.createElement("canvas")),cr instanceof HTMLCanvasElement)return cr.id="canvas",cr;throw new TypeError("invalid element")}getStyleOption(){const{element:cr,style:ar}=this.options,or={backgroundColor:"black",imageRendering:"pixelated"};if(cr)return merge(or,ar),or;const ur={position:"fixed",top:"0",left:"0",width:"100%",height:"100%",zIndex:"1"};return merge(ur,or,ar),ur}async getCoreOption(){const{core:cr,resolveCoreJs:ar,resolveCoreWasm:or}=this.options;let ur;if(typeof cr=="string"){const[gr,mr]=await Promise.all([ar(cr,this.options),or(cr,this.options)]);ur={name:cr,js:gr,wasm:mr}}else ur=cr;let{name:fr,js:xr,wasm:pr}=ur;const br=[];return typeof xr=="string"&&br.push((async()=>{xr=await(await this.fetch(xr)).text()})()),typeof pr=="string"&&br.push((async()=>{pr=await(await this.fetch(pr)).arrayBuffer()})()),br.length>0&&await Promise.all(br),{name:fr,js:xr,wasm:pr}}async resolveStringFile(cr,ar){let or=urlBaseName(cr),ur;const fr=ar?await ar(cr,this.options):cr;if(fr)fr instanceof Blob?ur=fr:typeof fr=="string"&&(or=urlBaseName(fr),ur=await(await this.fetch(fr)).blob());else throw new Error("file is invalid");return{fileName:or,fileContent:ur}}async resolveFile(cr,ar){let or="",ur;if(cr instanceof File)ur=cr,or=cr.name;else if(cr instanceof Blob)ur=cr,or="rom.bin";else if(typeof cr=="string"){const fr=await this.resolveStringFile(cr,ar);or=fr.fileName,ur=fr.fileContent}else typeof cr.fileName=="string"&&(or=cr.fileName),cr.fileContent instanceof Blob&&(ur=cr.fileContent);if(!ur)throw new TypeError("file content is invalid");return or=or?or.replaceAll(/["%*/:<>?\\|]/g,"-"):"rom.bin",{fileName:or,fileContent:ur}}async getRomOption(){const{rom:cr,resolveRom:ar}=this.options;if(!cr)return[];const or=Array.isArray(cr)?cr:[cr];return await Promise.all(or.map(ur=>this.resolveFile(ur,ar)))}async getBiosOption(){const{bios:cr,resolveBios:ar}=this.options;if(!cr)return[];const or=Array.isArray(cr)?cr:[cr];return await Promise.all(or.map(ur=>this.resolveFile(ur,ar)))}async getShaderOption(){const{shader:cr,resolveShader:ar}=this.options;if(!cr)return[];const or=await ar(cr,this.options);return Array.isArray(or)?or.length>0?await Promise.all(or.map(ur=>this.resolveFile(ur))):[]:or?[await this.resolveFile(or)]:[]}getRetroarchOption(){const cr={};return merge(cr,Va.globalOptions.retroarchConfig,this.options.retroarchConfig),cr}getRetroarchCoreOption(){const cr={};return merge(cr,Va.globalOptions.retroarchCoreConfig,this.options.retroarchCoreConfig),cr}loadEmulator(){const cr=this.getEmulatorOptions(),ar=new Emulator(cr);this.emulator=ar}async fetch(cr){const{signal:ar=null}=this.options;return await fetch(cr,{signal:ar})}checkIsAborted(){var cr;if((cr=this.options.signal)!=null&&cr.aborted)throw new Error("Launch aborted")}};__publicField(_Nostalgist,"Nostalgist",_Nostalgist);__publicField(_Nostalgist,"vendors",vendors);__publicField(_Nostalgist,"globalOptions",getDefaultOptions());let Nostalgist=_Nostalgist;function _0x518a(lr,cr){var ar=_0x140a();return _0x518a=function(or,ur){or=or-492;var fr=ar[or];return fr},_0x518a(lr,cr)}function _0x140a(){var lr=["2397804chqUTa","16434360JIdKoX","76Ebnfbe","1310195BOASjB","31989oDDcHG","1320130woeoKI","237196bDAPrP","962318MzviAl"];return _0x140a=function(){return lr},_0x140a()}(function(lr,cr){for(var ar=_0x518a,or=lr();[];)try{var ur=-parseInt(ar(496))/1+-parseInt(ar(497))/2+parseInt(ar(494))/3*(-parseInt(ar(492))/4)+-parseInt(ar(493))/5+-parseInt(ar(498))/6+-parseInt(ar(495))/7+parseInt(ar(499))/8;if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x140a,283080);const _0x27cd76={platform_id:"",core:"",platform_name:"",short_name:"",theme:{},dependencies:"",fire_buttons:0,additional_buttons:{}},_0xf1438b=_0x781d;(function(lr,cr){const ar=_0x781d,or=lr();for(;[];)try{if(-parseInt(ar(502))/1+-parseInt(ar(518))/2+parseInt(ar(511))/3*(-parseInt(ar(505))/4)+-parseInt(ar(514))/5+-parseInt(ar(519))/6+parseInt(ar(516))/7*(parseInt(ar(506))/8)+parseInt(ar(509))/9===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x2a14,644537);function _0x781d(lr,cr){const ar=_0x2a14();return _0x781d=function(or,ur){return or=or-500,ar[or]},_0x781d(lr,cr)}function _0x2a14(){const lr=["2944848OyIyHO","NES","fceumm","uppercase","assets/shaders/crt/crt-geom.glslp","1198913YUMhGX","QUICKSHOT_DYNAMIC","1em","2396WWDQSi","2008Focrbq","assets/shaders/crt/shaders/crt-geom.glsl","#f0d0b0","28432044DZUzTp","start","393MLvwli","select","#e45c10","3753785qSdVoY","SELECT","14273oLtSqe","#000000","1014842UZoLAh"];return _0x2a14=function(){return lr},_0x2a14()}const NES={..._0x27cd76,platform_id:"nes",core:_0xf1438b(521),platform_name:"Nintendo Entertainment System",short_name:_0xf1438b(520),theme:{"--color0":_0xf1438b(517),"--color1":"#eeeeee","--color2":_0xf1438b(513),"--color3":_0xf1438b(508),"--font":_0xf1438b(520),"--cursorwidth":_0xf1438b(504),"--transform":_0xf1438b(500)},shader:[_0xf1438b(501),_0xf1438b(507)],default_touch_controller:JOYSTICK_TOUCH_MODE[_0xf1438b(503)],fire_buttons:2,additional_buttons:{1:{label:_0xf1438b(515),keyCode:_0xf1438b(512)},2:{label:"START",keyCode:_0xf1438b(510)}}},_0x347e63=_0x5e2a;(function(lr,cr){const ar=_0x5e2a,or=lr();for(;[];)try{if(parseInt(ar(229))/1*(parseInt(ar(224))/2)+-parseInt(ar(228))/3*(-parseInt(ar(231))/4)+-parseInt(ar(232))/5*(parseInt(ar(243))/6)+parseInt(ar(220))/7*(-parseInt(ar(208))/8)+-parseInt(ar(226))/9+parseInt(ar(209))/10+parseInt(ar(207))/11===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x1f3e,775938);function _0x1f3e(){const lr=["assets/shaders/handheld/gameboy/resources/palette.png","2685843bPlQjh","start","9FFWjXg","13883iGrpai","1em","26176QuJmvq","10udUWrW","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files/gb-pass0.glsl","SELECT","mkdirTree","writeFile","arrayBuffer","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files/gb-pass3.glsl","text","START","#reference /home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/gameboy.glslp","blob","3417144PNvihi","/home/web_user/retroarch/userdata/config/global.glslp","assets/shaders/handheld/gameboy/shader-files/gb-pass3.glsl","/home/web_user/retroarch/userdata/config/","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files/gb-pass4.glsl","select","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/resources/palette.png","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/gameboy.glslp","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/resources/background.png","19805456TPfSTS","694360OuUzHf","289350aDTpJD","assets/shaders/handheld/gameboy/shader-files/gb-pass2.glsl","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files/gb-pass2.glsl","getEmscriptenFS","#374e79","assets/shaders/handheld/gameboy/shader-files/gb-pass0.glsl","#828329","assets/shaders/handheld/gameboy/resources/background.png","assets/shaders/handheld/gameboy/shader-files/gb-pass1.glsl","assets/shaders/handheld/gameboy.glslp","Nintendo Game Boy","21sRrohX","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/resources","QUICKSHOT_DYNAMIC","assets/shaders/handheld/gameboy/shader-files/gb-pass4.glsl","90eRZRHp"];return _0x1f3e=function(){return lr},_0x1f3e()}function _0x5e2a(lr,cr){const ar=_0x1f3e();return _0x5e2a=function(or,ur){return or=or-205,ar[or]},_0x5e2a(lr,cr)}const GB={..._0x27cd76,platform_id:"gb",core:"gambatte",platform_name:_0x347e63(219),short_name:"GB",theme:{"--color0":_0x347e63(215),"--color1":_0x347e63(213),"--font":"GB","--cursorwidth":_0x347e63(230)},shader:async function(lr){const cr=_0x347e63,ar=lr[cr(212)](),or=await fetch(cr(218)),ur=await fetch(cr(216)),fr=await ur[cr(242)](),xr=await fr[cr(237)](),pr=await fetch(cr(225)),br=await pr.blob(),gr=await br[cr(237)](),mr=await fetch(cr(214)),_r=await fetch(cr(217)),Sr=await fetch(cr(210)),yr=await fetch(cr(245)),Cr=await fetch(cr(223));ar.mkdirTree(cr(221)),ar[cr(235)]("/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files"),ar[cr(236)](cr(205),await or[cr(239)]()),ar[cr(236)](cr(249),new Uint8Array(gr)),ar[cr(236)](cr(206),new Uint8Array(xr)),ar[cr(236)](cr(233),await mr[cr(239)]()),ar[cr(236)]("/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files/gb-pass1.glsl",await _r.text()),ar.writeFile(cr(211),await Sr[cr(239)]()),ar[cr(236)](cr(238),await yr[cr(239)]()),ar[cr(236)](cr(247),await Cr[cr(239)]()),ar[cr(235)](cr(246)),ar.writeFile(cr(244),cr(241))},force_scale:!![],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x347e63(222)],fire_buttons:2,additional_buttons:{1:{label:_0x347e63(234),keyCode:_0x347e63(248)},2:{label:_0x347e63(240),keyCode:_0x347e63(227)}}},_0x4b2ac1=_0x2093;function _0x2093(lr,cr){const ar=_0x1a75();return _0x2093=function(or,ur){return or=or-415,ar[or]},_0x2093(lr,cr)}(function(lr,cr){const ar=_0x2093,or=lr();for(;[];)try{if(parseInt(ar(434))/1+-parseInt(ar(417))/2*(-parseInt(ar(423))/3)+parseInt(ar(439))/4+-parseInt(ar(420))/5*(-parseInt(ar(425))/6)+parseInt(ar(433))/7*(-parseInt(ar(422))/8)+parseInt(ar(428))/9+-parseInt(ar(430))/10*(parseInt(ar(426))/11)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x1a75,572070);function _0x1a75(){const lr=["gambatte","110sYXQZu","SELECT","56cyEFli","63SvdOVW","#ffffff","170124cUunON","11IjFomY","assets/shaders/handheld/shaders/sameboy-lcd.glsl","6467427mIDvDB","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp","31875390eCApkt","mkdirTree","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/sameboy-lcd.glsl","278831hITjXF","1073078PYEcmb","/home/web_user/retroarch/userdata/config/","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders","writeFile","/home/web_user/retroarch/userdata/config/global.glslp","2717008KUktcM","START","select","text","start","89878iOodVE","#4e93f1"];return _0x1a75=function(){return lr},_0x1a75()}const GBC={..._0x27cd76,platform_id:"gbc",core:_0x4b2ac1(419),platform_name:"Nintendo Game Boy Color",short_name:"GBC",theme:{"--color0":_0x4b2ac1(424),"--color1":_0x4b2ac1(418),"--color2":_0x4b2ac1(424),"--color3":"#c95340","--font":"GB","--cursorwidth":"1em"},shader:async function(lr){const cr=_0x4b2ac1,ar=lr.getEmscriptenFS(),or=await fetch("assets/shaders/handheld/sameboy-lcd.glslp"),ur=await fetch(cr(427));ar[cr(431)](cr(436)),ar[cr(437)](cr(429),await or[cr(415)]()),ar.writeFile(cr(432),await ur[cr(415)]()),ar[cr(431)](cr(435)),ar[cr(437)](cr(438),"#reference /home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp")},force_scale:!![],default_touch_controller:JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC,fire_buttons:2,additional_buttons:{1:{label:_0x4b2ac1(421),keyCode:_0x4b2ac1(441)},2:{label:_0x4b2ac1(440),keyCode:_0x4b2ac1(416)}}};function _0x5902(){const lr=["Sega Master System","4794822iXPxNe","250869vPYPji","Emulogic","32vgnYtm","12388056PUFKqo","assets/shaders/crt/crt-geom.glslp","assets/shaders/crt/shaders/crt-geom.glsl","45tivAaP","SELECT","QUICKSHOT_DYNAMIC","SMS","16RFgSPz","102lBfMJR","select","200945RYJucU","15698fYJKvb","110wSLQht","#000000","715704kPzgsl","7181160iuhWWT","#ffffff","START"];return _0x5902=function(){return lr},_0x5902()}const _0xe63798=_0x56cb;(function(lr,cr){const ar=_0x56cb,or=lr();for(;[];)try{if(-parseInt(ar(327))/1*(parseInt(ar(312))/2)+parseInt(ar(321))/3*(parseInt(ar(323))/4)+parseInt(ar(311))/5*(parseInt(ar(309))/6)+-parseInt(ar(316))/7+-parseInt(ar(308))/8*(parseInt(ar(320))/9)+-parseInt(ar(313))/10*(-parseInt(ar(315))/11)+parseInt(ar(324))/12===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x5902,655638);function _0x56cb(lr,cr){const ar=_0x5902();return _0x56cb=function(or,ur){return or=or-306,ar[or]},_0x56cb(lr,cr)}const SMS={..._0x27cd76,platform_id:"sms",core:"gearsystem",platform_name:_0xe63798(319),short_name:_0xe63798(307),theme:{"--color0":_0xe63798(314),"--color1":_0xe63798(317),"--font":_0xe63798(322),"--cursorwidth":"1em"},shader:[_0xe63798(325),_0xe63798(326)],default_touch_controller:JOYSTICK_TOUCH_MODE[_0xe63798(306)],fire_buttons:2,additional_buttons:{1:{label:_0xe63798(328),keyCode:_0xe63798(310)},2:{label:_0xe63798(318),keyCode:"start"}}},_0x4de4bd=_0x4fbc;(function(lr,cr){const ar=_0x4fbc,or=lr();for(;[];)try{if(-parseInt(ar(442))/1+-parseInt(ar(457))/2+parseInt(ar(449))/3+parseInt(ar(452))/4+-parseInt(ar(451))/5+parseInt(ar(461))/6*(-parseInt(ar(454))/7)+parseInt(ar(441))/8===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x21f0,598279);function _0x21f0(){const lr=["1em","vice_x64","#68a941","#b19efe","assets/shaders/crt/crt-geom.glslp","19321376ovtoam","875611UfCAdD","true","Escape","Space","RUN/STOP","C64 support is under development and mostly broken or non-functional.","enabled","2017689sDcHkS","Commodore 64","4978755FdIvqd","1660792MKPLAe","kp_minus","54229KNVAqG","assets/shaders/crt/shaders/crt-geom.glsl","nul","1710222TCHqHU","F14","F11","F15","138ScYDQh","C64","#6a53f5"];return _0x21f0=function(){return lr},_0x21f0()}function _0x4fbc(lr,cr){const ar=_0x21f0();return _0x4fbc=function(or,ur){return or=or-440,ar[or]},_0x4fbc(lr,cr)}const C64={..._0x27cd76,platform_id:"c64",core:_0x4de4bd(465),platform_name:_0x4de4bd(450),short_name:_0x4de4bd(462),theme:{"--color0":_0x4de4bd(463),"--color1":_0x4de4bd(467),"--color2":_0x4de4bd(466),"--color3":"#d0dc71","--font":"PetMe64","--cursorwidth":_0x4de4bd(464)},guessConfig:lr=>{const cr=_0x4de4bd;return{vice_drive_true_emulation:cr(443),vice_warp_boost:cr(448),vice_autostart:"enabled",vice_autoloadwarp:cr(448)}},shader:[_0x4de4bd(440),_0x4de4bd(455)],touch_controller_mapping:{input_player1_up:"F13",input_player1_left:_0x4de4bd(458),input_player1_down:_0x4de4bd(460),input_player1_right:_0x4de4bd(459),input_player1_b:_0x4de4bd(453),input_player1_a:"nul",input_player1_y:"nul",input_player1_x:_0x4de4bd(456),input_player1_start:_0x4de4bd(456),input_player1_select:"nul",input_player1_l:_0x4de4bd(456),input_player1_r:_0x4de4bd(456)},fire_buttons:1,keyboard:{shiftKey:1,overrides:{}},additional_buttons:{1:{label:"SPACE",key:{key:_0x4de4bd(445),code:_0x4de4bd(445)}},2:{label:_0x4de4bd(446),key:{key:_0x4de4bd(444),code:_0x4de4bd(444)}},3:{label:"F1",key:{key:"F1",code:"F1"}}},message:[_0x4de4bd(447)]};function _0x40f5(){const lr=["8MYBOyu","6mosJVg","4254148XFXloK","#b9e893","#555555","assets/shaders/crt/shaders/crt-geom.glsl","143RcUWFA","5303858mYIhwm","vice_x128","6196968VyNIcD","PetMe1282Y","c128","4265585hiBcHj","C128 support is under development and mostly broken or non-functional.","assets/shaders/crt/crt-geom.glslp","10511DLTwda","214YnMIdo","C128","272690iDnhAd","0.5em","2255469VZBeUL"];return _0x40f5=function(){return lr},_0x40f5()}const _0x505b54=_0x2f49;(function(lr,cr){const ar=_0x2f49,or=lr();for(;[];)try{if(-parseInt(ar(374))/1*(-parseInt(ar(375))/2)+-parseInt(ar(358))/3+-parseInt(ar(361))/4+parseInt(ar(371))/5+parseInt(ar(360))/6*(parseInt(ar(366))/7)+-parseInt(ar(359))/8*(parseInt(ar(368))/9)+parseInt(ar(377))/10*(parseInt(ar(365))/11)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x40f5,586073);function _0x2f49(lr,cr){const ar=_0x40f5();return _0x2f49=function(or,ur){return or=or-358,ar[or]},_0x2f49(lr,cr)}const C128={..._0x27cd76,platform_id:_0x505b54(370),core:_0x505b54(367),platform_name:"Commodore 128",short_name:_0x505b54(376),theme:{"--color0":_0x505b54(362),"--color1":_0x505b54(363),"--color2":_0x505b54(363),"--color3":_0x505b54(362),"--font":_0x505b54(369),"--cursorwidth":_0x505b54(378)},shader:[_0x505b54(373),_0x505b54(364)],fire_buttons:1,additional_buttons:{},message:[_0x505b54(372)]},_0x48ce38=_0x571b;function _0x9ec0(){const lr=["Escape","#c6b4fa","Space","assets/shaders/crt/shaders/crt-geom.glsl","RUN/STOP","3851000CVPTmQ","nul","vice_xplus4","assets/shaders/crt/crt-geom.glslp","F15","574365AjcEYI","Petme64","8wECuen","56592NgahdS","#ffffff","261876XteRfE","78BHNMMf","#000000","c264","11853275epJsVE","Commodore C16, C116 & Plus/4","221710VEnRFw","5489586UmkNnH","1em"];return _0x9ec0=function(){return lr},_0x9ec0()}(function(lr,cr){const ar=_0x571b,or=lr();for(;[];)try{if(-parseInt(ar(148))/1+parseInt(ar(150))/2+parseInt(ar(145))/3*(-parseInt(ar(147))/4)+-parseInt(ar(156))/5*(-parseInt(ar(151))/6)+parseInt(ar(154))/7+-parseInt(ar(140))/8+-parseInt(ar(133))/9===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x9ec0,869878);function _0x571b(lr,cr){const ar=_0x9ec0();return _0x571b=function(or,ur){return or=or-133,ar[or]},_0x571b(lr,cr)}const C264={..._0x27cd76,platform_id:_0x48ce38(153),core:_0x48ce38(142),platform_name:_0x48ce38(155),short_name:"C264",theme:{"--color1":_0x48ce38(152),"--color2":_0x48ce38(149),"--color0":_0x48ce38(136),"--color3":"#000000","--font":_0x48ce38(146),"--cursorwidth":_0x48ce38(134)},shader:[_0x48ce38(143),_0x48ce38(138)],touch_controller_mapping:{input_player1_up:"F13",input_player1_left:"F14",input_player1_down:_0x48ce38(144),input_player1_right:"F11",input_player1_b:"kp_minus",input_player1_a:_0x48ce38(141),input_player1_y:_0x48ce38(141),input_player1_x:"nul",input_player1_start:_0x48ce38(141),input_player1_select:"nul",input_player1_l:_0x48ce38(141),input_player1_r:_0x48ce38(141)},fire_buttons:1,keyboard:{shiftKey:1,overrides:{}},additional_buttons:{1:{label:"SPACE",key:{key:_0x48ce38(137),code:_0x48ce38(137)}},2:{label:_0x48ce38(139),key:{key:_0x48ce38(135),code:_0x48ce38(135)}},3:{label:"F1",key:{key:"F1",code:"F1"}}}},_0x50a8c0=_0x31f0;function _0x31f0(lr,cr){const ar=_0x1ab0();return _0x31f0=function(or,ur){return or=or-218,ar[or]},_0x31f0(lr,cr)}function _0x1ab0(){const lr=["A2600","6kZjdUU","PetMe2X","848320xodNDX","126058YQFCJe","#ffffff","1259790sBlvEw","1975280IqyLzz","assets/shaders/crt/crt-geom.glslp","0.5em","uppercase","4975552MigyIk","SELECT","stella2014","#000000","363426XPOBZG","1727568Ozrpas","atari2600","Atari 2600 / VCS","START","select","assets/shaders/crt/shaders/crt-geom.glsl","#a984ec","start"];return _0x1ab0=function(){return lr},_0x1ab0()}(function(lr,cr){const ar=_0x31f0,or=lr();for(;[];)try{if(-parseInt(ar(237))/1+parseInt(ar(226))/2*(parseInt(ar(223))/3)+-parseInt(ar(225))/4+-parseInt(ar(229))/5+parseInt(ar(238))/6+parseInt(ar(228))/7+parseInt(ar(233))/8===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x1ab0,245338);const A2600={..._0x27cd76,platform_id:_0x50a8c0(239),core:_0x50a8c0(235),platform_name:_0x50a8c0(240),short_name:_0x50a8c0(222),theme:{"--color0":_0x50a8c0(236),"--color1":_0x50a8c0(220),"--color2":_0x50a8c0(227),"--color3":_0x50a8c0(220),"--font":_0x50a8c0(224),"--cursorwidth":_0x50a8c0(231),"--transform":_0x50a8c0(232)},shader:[_0x50a8c0(230),_0x50a8c0(219)],fire_buttons:1,additional_buttons:{1:{label:_0x50a8c0(234),keyCode:_0x50a8c0(218)},2:{label:_0x50a8c0(241),keyCode:_0x50a8c0(221)}}},_0x11bbee=_0x582a;(function(lr,cr){const ar=_0x582a,or=lr();for(;[];)try{if(-parseInt(ar(187))/1+-parseInt(ar(186))/2+parseInt(ar(182))/3+parseInt(ar(188))/4+parseInt(ar(191))/5*(-parseInt(ar(198))/6)+-parseInt(ar(189))/7+parseInt(ar(180))/8*(parseInt(ar(185))/9)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x2cae,831674);function _0x582a(lr,cr){const ar=_0x2cae();return _0x582a=function(or,ur){return or=or-179,ar[or]},_0x582a(lr,cr)}const A5200={..._0x27cd76,platform_id:"atari5200",core:_0x11bbee(181),platform_name:_0x11bbee(179),short_name:_0x11bbee(184),theme:{"--color0":_0x11bbee(196),"--color1":_0x11bbee(190),"--font":_0x11bbee(183),"--transform":_0x11bbee(194),"--cursorwidth":_0x11bbee(193)},shader:["assets/shaders/crt/crt-geom.glslp","assets/shaders/crt/shaders/crt-geom.glsl"],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x11bbee(192)],fire_buttons:2,additional_buttons:{1:{label:"PAUSE",keyCode:_0x11bbee(195)},2:{label:_0x11bbee(197),keyCode:"start"}}};function _0x2cae(){const lr=["#ffffff","10VqCldt","QUICKSHOT_DYNAMIC","1em","uppercase","pause","#000000","START","1930350lZkoCs","Atari 5200","24AQDzaZ","a5200","1074708nsqKQC","Atascii","A5200","9574839AyWsvp","1800246BqKcyB","558045BhiDlz","257812GdzZKm","4767070UuliwB"];return _0x2cae=function(){return lr},_0x2cae()}const _0xef8fcd=_0x2b5d;(function(lr,cr){const ar=_0x2b5d,or=lr();for(;[];)try{if(parseInt(ar(365))/1*(-parseInt(ar(361))/2)+-parseInt(ar(369))/3*(-parseInt(ar(331))/4)+parseInt(ar(340))/5+-parseInt(ar(360))/6+parseInt(ar(367))/7+-parseInt(ar(330))/8*(parseInt(ar(338))/9)+parseInt(ar(326))/10*(parseInt(ar(362))/11)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x6052,430645);function _0x2b5d(lr,cr){const ar=_0x6052();return _0x2b5d=function(or,ur){return or=or-324,ar[or]},_0x2b5d(lr,cr)}const A800={..._0x27cd76,platform_id:_0xef8fcd(350),core:_0xef8fcd(350),bios:[_0xef8fcd(358),_0xef8fcd(364)],platform_name:"Atari 800 / XE / XL",short_name:_0xef8fcd(336),theme:{"--color0":_0xef8fcd(356),"--color1":_0xef8fcd(366),"--color3":_0xef8fcd(356),"--color2":"#60b7e7","--font":_0xef8fcd(349),"--cursorwidth":_0xef8fcd(325)},shader:[_0xef8fcd(329),_0xef8fcd(328)],guessConfig:lr=>{const cr=_0xef8fcd,ar={"[BASIC]":{atari800_cassboot:cr(343),atari800_internalbasic:cr(343)},"(130XE)":{atari800_system:"130XE (128K)"},"[128K]":{atari800_system:cr(352)},"[192K]":{atari800_system:cr(354)},"[256K]":{atari800_system:cr(354)},"[320K]":{atari800_system:cr(354)},"[1MB]":{atari800_system:"Modern XL/XE(1088K)"},"[400-800]":{atari800_system:cr(341)},"[REQ OSA]":{atari800_system:cr(341)},"[REQ OSB]":{atari800_system:"400/800 (OS B)"},"[STEREO]":{}};let ur={...{atari800_ntscpal:cr(335),atari800_resolution:cr(342),atari800_system:cr(351)}};return Object[cr(333)](ar)[cr(355)](fr=>{const xr=cr;lr[xr(368)]()[xr(357)](fr)&&Object[xr(346)](ur,ar[fr])}),ur},dependencies:[{key:"ATARIXL.ROM",type:_0xef8fcd(337),required:!![],accepted:["06daac977823773a3eea3422fd26a703"]},{key:_0xef8fcd(364),type:"BASIC interpreter ROM",required:!![],accepted:[_0xef8fcd(353)]},{key:"ATARIOSA.ROM",type:_0xef8fcd(327),required:!![],accepted:[_0xef8fcd(344)]},{key:_0xef8fcd(324),type:"Atari 400/800 NTSC ROM",required:!![],accepted:[_0xef8fcd(359)]}],touch_controller_mapping:{input_player1_up:_0xef8fcd(363),input_player1_left:_0xef8fcd(332),input_player1_down:_0xef8fcd(348),input_player1_right:"F11",input_player1_b:_0xef8fcd(345)},fire_buttons:1,keyboard:{shiftKey:2,overrides:{}},additional_buttons:{1:{label:_0xef8fcd(334),key:{key:"F2",code:"F2"}},2:{label:_0xef8fcd(347),keyCode:"select"},3:{label:_0xef8fcd(339),key:{key:"F4",code:"F4"}}}};function _0x6052(){const lr=["enabled","eb1f32f5d9f382db1bbfb8d7f9cb343a","kp_minus","assign","SELECT","F15","Atascii","atari800","800XL (64K)","130XE (128K)","0bac0c6a50104045d902df4503a4c30b","Modern XL/XE(320K CS)","forEach","#005181","includes","ATARIXL.ROM","a3e8d617c95d08031fe1b20d541434b2","3332976LtqSXF","639698Zhlbtw","253AsutxO","F13","ATARIBAS.ROM","1oRSjTu","#60b7e7","2317469rQPlSu","toUpperCase","381jGvIRK","ATARIOSB.ROM","1em","278930gZSwHI","Atari 400/800 PAL ROM","assets/shaders/crt/shaders/crt-geom.glsl","assets/shaders/crt/crt-geom.glslp","1913848kQgzQH","10376isjJix","F14","keys","OPTION","PAL","A800","Atari XL/XE OS ROM","9EsGeSF","START","1215885IXXKcA","400/800 (OS B)","336x240"];return _0x6052=function(){return lr},_0x6052()}const _0x33856d=_0x5e32;function _0x5e32(lr,cr){const ar=_0x3f9d();return _0x5e32=function(or,ur){return or=or-461,ar[or]},_0x5e32(lr,cr)}(function(lr,cr){const ar=_0x5e32,or=lr();for(;[];)try{if(parseInt(ar(469))/1*(parseInt(ar(473))/2)+parseInt(ar(466))/3*(parseInt(ar(467))/4)+parseInt(ar(481))/5+-parseInt(ar(463))/6+-parseInt(ar(474))/7*(parseInt(ar(461))/8)+parseInt(ar(478))/9*(parseInt(ar(475))/10)+-parseInt(ar(477))/11===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x3f9d,504121);function _0x3f9d(){const lr=["19046555doXkrq","7648902XYEWFi","AmstradCPC","Amstrad CPC","3580260eGMQMa","2344GISmEJ","#d6e121","1668912feUAqL","assets/shaders/crt/shaders/crt-geom.glsl","#ea3323","3YUEvoQ","3507964pfdGpb","CPC","28001GojlWX","cpc","#000060","1em","10jPRRWT","1652SnEWOt","10XnbkJZ","assets/shaders/crt/crt-geom.glslp"];return _0x3f9d=function(){return lr},_0x3f9d()}const CPC={..._0x27cd76,platform_id:_0x33856d(470),core:"crocods",platform_name:_0x33856d(480),short_name:_0x33856d(468),theme:{"--color0":_0x33856d(471),"--color1":_0x33856d(462),"--color2":"#000000","--color3":_0x33856d(465),"--font":_0x33856d(479),"--cursorwidth":_0x33856d(472)},savestates_disabled:!![],shader:[_0x33856d(476),_0x33856d(464)],fire_buttons:1,additional_buttons:{},message:["CPC support is under development and mostly broken or non-functional."]},_0x1a5c0a=_0xc4e1;function _0xc4e1(lr,cr){const ar=_0x33ed();return _0xc4e1=function(or,ur){return or=or-335,ar[or]},_0xc4e1(lr,cr)}(function(lr,cr){const ar=_0xc4e1,or=lr();for(;[];)try{if(-parseInt(ar(338))/1*(parseInt(ar(358))/2)+-parseInt(ar(336))/3*(-parseInt(ar(366))/4)+-parseInt(ar(342))/5*(-parseInt(ar(357))/6)+-parseInt(ar(344))/7*(-parseInt(ar(346))/8)+-parseInt(ar(343))/9+-parseInt(ar(341))/10*(-parseInt(ar(340))/11)+-parseInt(ar(367))/12===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x33ed,607909);function _0x33ed(){const lr=["9771696HjElEh","F14","162693aSyzaY","vic20","2AoUKYF","VIC20","11xCNBNz","5956040yzUSnB","2476195IICkBH","10938573cBoYWO","3623914JoCVUt","vice_xvic","16FuDDAl","assets/shaders/crt/shaders/crt-geom.glsl","Commodore VIC-20","kp_minus","F11","RUN/STOP","#250ec5","Escape","uppercase","Space","#6ebdcb","6OpHhkj","85174yzWYZZ","#ffffff","2em","SPACE","assets/shaders/crt/crt-geom.glslp","F13","nul","PetMe2X","44Mngmtq"];return _0x33ed=function(){return lr},_0x33ed()}const VIC20={..._0x27cd76,platform_id:_0x1a5c0a(337),core:_0x1a5c0a(345),platform_name:_0x1a5c0a(348),short_name:_0x1a5c0a(339),theme:{"--color0":_0x1a5c0a(359),"--color1":_0x1a5c0a(352),"--color2":_0x1a5c0a(352),"--color3":_0x1a5c0a(356),"--font":_0x1a5c0a(365),"--cursorwidth":_0x1a5c0a(360),"--transform":_0x1a5c0a(354)},shader:[_0x1a5c0a(362),_0x1a5c0a(347)],touch_controller_mapping:{input_player1_up:_0x1a5c0a(363),input_player1_left:_0x1a5c0a(335),input_player1_down:"F15",input_player1_right:_0x1a5c0a(350),input_player1_b:_0x1a5c0a(349),input_player1_a:"nul",input_player1_y:_0x1a5c0a(364),input_player1_x:_0x1a5c0a(364),input_player1_start:_0x1a5c0a(364),input_player1_select:"nul",input_player1_l:"nul",input_player1_r:_0x1a5c0a(364)},fire_buttons:1,keyboard:{shiftKey:1,overrides:{}},additional_buttons:{1:{label:_0x1a5c0a(361),key:{key:_0x1a5c0a(355),code:_0x1a5c0a(355)}},2:{label:_0x1a5c0a(351),key:{key:_0x1a5c0a(353),code:"Escape"}},3:{label:"F1",key:{key:"F1",code:"F1"}}}},_0x3e59cd=_0x28f9;(function(lr,cr){const ar=_0x28f9,or=lr();for(;[];)try{if(parseInt(ar(444))/1*(-parseInt(ar(449))/2)+-parseInt(ar(439))/3+parseInt(ar(447))/4*(parseInt(ar(441))/5)+parseInt(ar(442))/6*(-parseInt(ar(448))/7)+-parseInt(ar(440))/8+-parseInt(ar(436))/9+-parseInt(ar(445))/10*(-parseInt(ar(443))/11)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x17a4,846493);function _0x17a4(){const lr=["3754387dwElLj","26pXZzdQ","assets/shaders/crt/shaders/crt-geom.glsl","#000000","assets/shaders/crt/crt-geom.glslp","1em","12973590eWJdTo","Sinclair ZX80 / ZX81","#ffffff","4536264OJFxAa","9365048MCmbnm","5DvCMGW","6BTErRp","24607SozwBU","23841HLGxmv","21260ibIJwB","uppercase","4244536vPHSVb"];return _0x17a4=function(){return lr},_0x17a4()}function _0x28f9(lr,cr){const ar=_0x17a4();return _0x28f9=function(or,ur){return or=or-433,ar[or]},_0x28f9(lr,cr)}const ZX80={..._0x27cd76,platform_id:"zx80",core:"81",platform_name:_0x3e59cd(437),short_name:"ZX80",theme:{"--color0":_0x3e59cd(438),"--color1":_0x3e59cd(433),"--color2":_0x3e59cd(433),"--color3":"#ffffff","--font":"ZXSpectrum","--cursorwidth":_0x3e59cd(435),"--transform":_0x3e59cd(446)},shader:[_0x3e59cd(434),_0x3e59cd(450)],fire_buttons:1,additional_buttons:{}},_0x3048d7=_0x506f;(function(lr,cr){const ar=_0x506f,or=lr();for(;[];)try{if(parseInt(ar(252))/1*(parseInt(ar(278))/2)+parseInt(ar(260))/3*(-parseInt(ar(254))/4)+parseInt(ar(258))/5*(parseInt(ar(266))/6)+parseInt(ar(271))/7*(parseInt(ar(273))/8)+parseInt(ar(281))/9+parseInt(ar(262))/10*(parseInt(ar(283))/11)+-parseInt(ar(265))/12===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0xcdcd,179604);const Spectrum={..._0x27cd76,platform_id:_0x3048d7(261),core:_0x3048d7(256),platform_name:_0x3048d7(269),short_name:"Spectrum",theme:{"--color0":_0x3048d7(279),"--color1":_0x3048d7(276),"--color3":_0x3048d7(285),"--color2":_0x3048d7(267),"--font":_0x3048d7(264),"--cursorwidth":_0x3048d7(263)},savestates_disabled:!![],shader:[_0x3048d7(280),"assets/shaders/crt/shaders/crt-geom.glsl"],guessConfig:lr=>{const cr=_0x3048d7,ar={};let ur={...{input_libretro_device_p1:cr(274),input_libretro_device_p2:"0",input_libretro_device_p3:cr(272),input_libretro_device_p4:"1",input_libretro_device_p5:"1"}};return Object[cr(275)](ar)[cr(257)](fr=>{const xr=cr;lr[xr(268)]()[xr(277)](fr)&&Object[xr(270)](ur,ar[fr])}),ur},touch_controller_mapping:{input_player1_up:_0x3048d7(259),input_player1_left:_0x3048d7(282),input_player1_down:"F15",input_player1_right:_0x3048d7(255),input_player1_b:_0x3048d7(284)},fire_buttons:1,keyboard:{shiftKey:1,overrides:{}},additional_buttons:{},message:[_0x3048d7(253)]};function _0x506f(lr,cr){const ar=_0xcdcd();return _0x506f=function(or,ur){return or=or-252,ar[or]},_0x506f(lr,cr)}function _0xcdcd(){const lr=["F11","fuse","forEach","473640MmvRGg","F13","862119vWrVuv","spectrum","66090JHdTzT","1em","ZXSpectrum","3906648PVJmSl","6ojlizk","#ffffff","toUpperCase","Sinclair ZX Spectrum","assign","99043PjMMXo","259","192fmCmKF","513","keys","#0000c0","includes","134166UZDZsb","#c0c000","assets/shaders/crt/crt-geom.glslp","749574EFmKpX","F14","11tjtIGe","kp_minus","#be2ec8","4sXKssS","ZX Spectrum support is under development and mostly broken or non-functional.","4tJsdVX"];return _0xcdcd=function(){return lr},_0xcdcd()}const _0x12a280=_0x1ce8;(function(lr,cr){const ar=_0x1ce8,or=lr();for(;[];)try{if(parseInt(ar(312))/1+parseInt(ar(296))/2+parseInt(ar(314))/3*(parseInt(ar(309))/4)+parseInt(ar(305))/5*(parseInt(ar(293))/6)+-parseInt(ar(295))/7+parseInt(ar(297))/8*(-parseInt(ar(310))/9)+-parseInt(ar(299))/10===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x1cc8,289400);function _0x1ce8(lr,cr){const ar=_0x1cc8();return _0x1ce8=function(or,ur){return or=or-293,ar[or]},_0x1ce8(lr,cr)}function _0x1cc8(){const lr=["665092tOdgQe","56iJucgc","PCE","540310pWpIZm","#f0f0f0","assets/shaders/crt/shaders/crt-geom.glsl","pce","RUN","SELECT","75DCpHOR","assets/shaders/crt/crt-geom.glslp","start","Shockman","8SuOjpo","600462qtmVit","PC Engine","539755sftwHv","mednafen_pce_fast","589752ITJAzK","select","38526pEHZqT","#000000","3859289Gjhlgd"];return _0x1cc8=function(){return lr},_0x1cc8()}const PCE={..._0x27cd76,platform_id:_0x12a280(302),core:_0x12a280(313),platform_name:_0x12a280(311),short_name:_0x12a280(298),theme:{"--color0":_0x12a280(294),"--color1":_0x12a280(300),"--font":_0x12a280(308),"--cursorwidth":"0.5em","--transform":"uppercase"},shader:[_0x12a280(306),_0x12a280(301)],default_touch_controller:JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC,fire_buttons:2,additional_buttons:{1:{label:_0x12a280(304),keyCode:_0x12a280(315)},2:{label:_0x12a280(303),keyCode:_0x12a280(307)}}},_0x310b0f=_0x12fd;(function(lr,cr){const ar=_0x12fd,or=lr();for(;[];)try{if(parseInt(ar(493))/1*(-parseInt(ar(501))/2)+parseInt(ar(496))/3+parseInt(ar(490))/4*(-parseInt(ar(499))/5)+parseInt(ar(502))/6*(parseInt(ar(498))/7)+parseInt(ar(508))/8*(-parseInt(ar(492))/9)+-parseInt(ar(491))/10+parseInt(ar(494))/11===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x4c58,277885);function _0x4c58(){const lr=["16834YJwejr","6fAelvT","genesis_plus_gx","none","SMD","assets/shaders/crt/crt-geom.glslp","#00009B","209432itqmCs","8352uYbmQY","2999260ExbFEy","99XEJeOY","65qpqRab","8063726AYhtiq","start","640908JbBmwB","Sega Mega Drive","3307129vJyvPV","15SGpDXt","START"];return _0x4c58=function(){return lr},_0x4c58()}function _0x12fd(lr,cr){const ar=_0x4c58();return _0x12fd=function(or,ur){return or=or-490,ar[or]},_0x12fd(lr,cr)}const MD={..._0x27cd76,platform_id:"smd",core:_0x310b0f(503),platform_name:_0x310b0f(497),short_name:_0x310b0f(505),theme:{"--color0":_0x310b0f(507),"--color1":"#eeeeee","--color3":"#66de42","--color2":"#ce2c1e","--font":"MD","--cursorwidth":"1em","--transform":_0x310b0f(504)},shader:[_0x310b0f(506),"assets/shaders/crt/shaders/crt-geom.glsl"],guessConfig:lr=>({input_libretro_device_p1:"0"}),default_touch_controller:JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC,fire_buttons:3,additional_buttons:{1:{label:_0x310b0f(500),keyCode:_0x310b0f(495)}}};function _0x3672(lr,cr){const ar=_0x9608();return _0x3672=function(or,ur){return or=or-307,ar[or]},_0x3672(lr,cr)}const _0x1a4062=_0x3672;(function(lr,cr){const ar=_0x3672,or=lr();for(;[];)try{if(-parseInt(ar(337))/1*(parseInt(ar(323))/2)+parseInt(ar(335))/3*(-parseInt(ar(319))/4)+-parseInt(ar(321))/5+-parseInt(ar(310))/6+-parseInt(ar(313))/7+-parseInt(ar(332))/8+-parseInt(ar(312))/9*(-parseInt(ar(317))/10)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x9608,369507);function _0x9608(){const lr=["Atari Lynx","590770JWRuNp","text","4nPCBuR","0.75em","1803815fAInjF","lynx","2690imubjp","#579342","/home/web_user/retroarch/userdata/config/global.glslp","QUICKSHOT_DYNAMIC","assets/shaders/handheld/sameboy-lcd.glslp","#reference /home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/sameboy-lcd.glsl","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders","mkdirTree","4662856hVtDBL","Lynx","#ebe4b2","1263162IgNJHv","#985495","82pCfNOS","getEmscriptenFS","start","writeFile","1911660nuMHra","assets/shaders/handheld/shaders/sameboy-lcd.glsl","333BhPqzx","159376XysqRb","/home/web_user/retroarch/userdata/config/","uppercase"];return _0x9608=function(){return lr},_0x9608()}const Lynx={..._0x27cd76,platform_id:_0x1a4062(322),core:"handy",platform_name:_0x1a4062(316),short_name:_0x1a4062(333),theme:{"--color0":_0x1a4062(324),"--color1":_0x1a4062(334),"--color3":_0x1a4062(336),"--font":_0x1a4062(333),"--transform":_0x1a4062(315),"--cursorwidth":_0x1a4062(320)},shader:async function(lr){const cr=_0x1a4062,ar=lr[cr(307)](),or=await fetch(cr(327)),ur=await fetch(cr(311));ar[cr(331)](cr(330)),ar[cr(309)]("/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp",await or[cr(318)]()),ar[cr(309)](cr(329),await ur[cr(318)]()),ar[cr(331)](cr(314)),ar.writeFile(cr(325),cr(328))},default_touch_controller:JOYSTICK_TOUCH_MODE[_0x1a4062(326)],fire_buttons:2,additional_buttons:{1:{label:"2",keyCode:"r"},2:{label:"START",keyCode:_0x1a4062(308)},3:{label:"1",keyCode:"l"}}},_0x39b640=_0x218c;function _0x218c(lr,cr){const ar=_0x22a9();return _0x218c=function(or,ur){return or=or-391,ar[or]},_0x218c(lr,cr)}(function(lr,cr){const ar=_0x218c,or=lr();for(;[];)try{if(-parseInt(ar(404))/1+parseInt(ar(411))/2+parseInt(ar(409))/3+-parseInt(ar(398))/4+-parseInt(ar(408))/5*(parseInt(ar(410))/6)+-parseInt(ar(395))/7*(-parseInt(ar(392))/8)+parseInt(ar(418))/9===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x22a9,547057);function _0x22a9(){const lr=["text","assets/shaders/handheld/shaders/sameboy-lcd.glsl","#reference /home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp","/home/web_user/retroarch/userdata/config/","1em","9207090nbYHqA","gba","a860e8c0b6d573d191e4ec7db1b1e4f6","start","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp","none","GBA","#222222","225664sQMmqz","getEmscriptenFS","PublicPixel","119fJtdgV","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/sameboy-lcd.glsl","3843732jYWUgO","mgba","START","SELECT","QUICKSHOT_DYNAMIC","/home/web_user/retroarch/userdata/config/global.glslp","1080204trNBkq","#8abac2","Nintendo Game Boy Advance","writeFile","3390obwgRU","3108726RSlRYw","3666blfJmY","927328UHiPZj","select"];return _0x22a9=function(){return lr},_0x22a9()}const GBA={..._0x27cd76,platform_id:_0x39b640(419),core:_0x39b640(399),platform_name:_0x39b640(406),short_name:_0x39b640(424),theme:{"--color0":"#222222","--color1":"#dddddd","--color3":_0x39b640(391),"--color2":_0x39b640(405),"--font":_0x39b640(394),"--cursorwidth":_0x39b640(417),"--transform":_0x39b640(423)},shader:async function(lr){const cr=_0x39b640,ar=lr[cr(393)](),or=await fetch("assets/shaders/handheld/sameboy-lcd.glslp"),ur=await fetch(cr(414));ar.mkdirTree(cr(396)),ar[cr(407)](cr(422),await or[cr(413)]()),ar[cr(407)](cr(397),await ur[cr(413)]()),ar.mkdirTree(cr(416)),ar[cr(407)](cr(403),cr(415))},guessConfig:lr=>({}),dependencies:[{key:"gba_bios.bin",type:"GBA BIOS",required:![],accepted:[_0x39b640(420)]}],force_scale:!![],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x39b640(402)],fire_buttons:4,additional_buttons:{1:{label:_0x39b640(401),keyCode:_0x39b640(412)},2:{label:_0x39b640(400),keyCode:_0x39b640(421)}}};var jszip_min={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(lr,cr){(function(ar){lr.exports=ar()})(function(){return function ar(or,ur,fr){function xr(gr,mr){if(!ur[gr]){if(!or[gr]){var _r=typeof commonjsRequire=="function"&&commonjsRequire;if(!mr&&_r)return _r(gr,!0);if(pr)return pr(gr,!0);var Sr=new Error("Cannot find module '"+gr+"'");throw Sr.code="MODULE_NOT_FOUND",Sr}var yr=ur[gr]={exports:{}};or[gr][0].call(yr.exports,function(Cr){var Ar=or[gr][1][Cr];return xr(Ar||Cr)},yr,yr.exports,ar,or,ur,fr)}return ur[gr].exports}for(var pr=typeof commonjsRequire=="function"&&commonjsRequire,br=0;br<fr.length;br++)xr(fr[br]);return xr}({1:[function(ar,or,ur){var fr=ar("./utils"),xr=ar("./support"),pr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";ur.encode=function(br){for(var gr,mr,_r,Sr,yr,Cr,Ar,kr=[],Or=0,Dr=br.length,Rr=Dr,Fr=fr.getTypeOf(br)!=="string";Or<br.length;)Rr=Dr-Or,_r=Fr?(gr=br[Or++],mr=Or<Dr?br[Or++]:0,Or<Dr?br[Or++]:0):(gr=br.charCodeAt(Or++),mr=Or<Dr?br.charCodeAt(Or++):0,Or<Dr?br.charCodeAt(Or++):0),Sr=gr>>2,yr=(3&gr)<<4|mr>>4,Cr=1<Rr?(15&mr)<<2|_r>>6:64,Ar=2<Rr?63&_r:64,kr.push(pr.charAt(Sr)+pr.charAt(yr)+pr.charAt(Cr)+pr.charAt(Ar));return kr.join("")},ur.decode=function(br){var gr,mr,_r,Sr,yr,Cr,Ar=0,kr=0,Or="data:";if(br.substr(0,Or.length)===Or)throw new Error("Invalid base64 input, it looks like a data url.");var Dr,Rr=3*(br=br.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(br.charAt(br.length-1)===pr.charAt(64)&&Rr--,br.charAt(br.length-2)===pr.charAt(64)&&Rr--,Rr%1!=0)throw new Error("Invalid base64 input, bad content length.");for(Dr=xr.uint8array?new Uint8Array(0|Rr):new Array(0|Rr);Ar<br.length;)gr=pr.indexOf(br.charAt(Ar++))<<2|(Sr=pr.indexOf(br.charAt(Ar++)))>>4,mr=(15&Sr)<<4|(yr=pr.indexOf(br.charAt(Ar++)))>>2,_r=(3&yr)<<6|(Cr=pr.indexOf(br.charAt(Ar++))),Dr[kr++]=gr,yr!==64&&(Dr[kr++]=mr),Cr!==64&&(Dr[kr++]=_r);return Dr}},{"./support":30,"./utils":32}],2:[function(ar,or,ur){var fr=ar("./external"),xr=ar("./stream/DataWorker"),pr=ar("./stream/Crc32Probe"),br=ar("./stream/DataLengthProbe");function gr(mr,_r,Sr,yr,Cr){this.compressedSize=mr,this.uncompressedSize=_r,this.crc32=Sr,this.compression=yr,this.compressedContent=Cr}gr.prototype={getContentWorker:function(){var mr=new xr(fr.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new br("data_length")),_r=this;return mr.on("end",function(){if(this.streamInfo.data_length!==_r.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),mr},getCompressedWorker:function(){return new xr(fr.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},gr.createWorkerFrom=function(mr,_r,Sr){return mr.pipe(new pr).pipe(new br("uncompressedSize")).pipe(_r.compressWorker(Sr)).pipe(new br("compressedSize")).withStreamInfo("compression",_r)},or.exports=gr},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(ar,or,ur){var fr=ar("./stream/GenericWorker");ur.STORE={magic:"\0\0",compressWorker:function(){return new fr("STORE compression")},uncompressWorker:function(){return new fr("STORE decompression")}},ur.DEFLATE=ar("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(ar,or,ur){var fr=ar("./utils"),xr=function(){for(var pr,br=[],gr=0;gr<256;gr++){pr=gr;for(var mr=0;mr<8;mr++)pr=1&pr?3988292384^pr>>>1:pr>>>1;br[gr]=pr}return br}();or.exports=function(pr,br){return pr!==void 0&&pr.length?fr.getTypeOf(pr)!=="string"?function(gr,mr,_r,Sr){var yr=xr,Cr=Sr+_r;gr^=-1;for(var Ar=Sr;Ar<Cr;Ar++)gr=gr>>>8^yr[255&(gr^mr[Ar])];return-1^gr}(0|br,pr,pr.length,0):function(gr,mr,_r,Sr){var yr=xr,Cr=Sr+_r;gr^=-1;for(var Ar=Sr;Ar<Cr;Ar++)gr=gr>>>8^yr[255&(gr^mr.charCodeAt(Ar))];return-1^gr}(0|br,pr,pr.length,0):0}},{"./utils":32}],5:[function(ar,or,ur){ur.base64=!1,ur.binary=!1,ur.dir=!1,ur.createFolders=!0,ur.date=null,ur.compression=null,ur.compressionOptions=null,ur.comment=null,ur.unixPermissions=null,ur.dosPermissions=null},{}],6:[function(ar,or,ur){var fr=null;fr=typeof Promise<"u"?Promise:ar("lie"),or.exports={Promise:fr}},{lie:37}],7:[function(ar,or,ur){var fr=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",xr=ar("pako"),pr=ar("./utils"),br=ar("./stream/GenericWorker"),gr=fr?"uint8array":"array";function mr(_r,Sr){br.call(this,"FlateWorker/"+_r),this._pako=null,this._pakoAction=_r,this._pakoOptions=Sr,this.meta={}}ur.magic="\b\0",pr.inherits(mr,br),mr.prototype.processChunk=function(_r){this.meta=_r.meta,this._pako===null&&this._createPako(),this._pako.push(pr.transformTo(gr,_r.data),!1)},mr.prototype.flush=function(){br.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},mr.prototype.cleanUp=function(){br.prototype.cleanUp.call(this),this._pako=null},mr.prototype._createPako=function(){this._pako=new xr[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var _r=this;this._pako.onData=function(Sr){_r.push({data:Sr,meta:_r.meta})}},ur.compressWorker=function(_r){return new mr("Deflate",_r)},ur.uncompressWorker=function(){return new mr("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(ar,or,ur){function fr(yr,Cr){var Ar,kr="";for(Ar=0;Ar<Cr;Ar++)kr+=String.fromCharCode(255&yr),yr>>>=8;return kr}function xr(yr,Cr,Ar,kr,Or,Dr){var Rr,Fr,Nr=yr.file,Hr=yr.compression,jr=Dr!==gr.utf8encode,Jr=pr.transformTo("string",Dr(Nr.name)),Yr=pr.transformTo("string",gr.utf8encode(Nr.name)),Ur=Nr.comment,Zr=pr.transformTo("string",Dr(Ur)),Wr=pr.transformTo("string",gr.utf8encode(Ur)),ni=Yr.length!==Nr.name.length,Lr=Wr.length!==Ur.length,hi="",Ei="",_i="",Fi=Nr.dir,si=Nr.date,ci={crc32:0,compressedSize:0,uncompressedSize:0};Cr&&!Ar||(ci.crc32=yr.crc32,ci.compressedSize=yr.compressedSize,ci.uncompressedSize=yr.uncompressedSize);var $r=0;Cr&&($r|=8),jr||!ni&&!Lr||($r|=2048);var ei=0,pi=0;Fi&&(ei|=16),Or==="UNIX"?(pi=798,ei|=function(bi,qi){var Ki=bi;return bi||(Ki=qi?16893:33204),(65535&Ki)<<16}(Nr.unixPermissions,Fi)):(pi=20,ei|=function(bi){return 63&(bi||0)}(Nr.dosPermissions)),Rr=si.getUTCHours(),Rr<<=6,Rr|=si.getUTCMinutes(),Rr<<=5,Rr|=si.getUTCSeconds()/2,Fr=si.getUTCFullYear()-1980,Fr<<=4,Fr|=si.getUTCMonth()+1,Fr<<=5,Fr|=si.getUTCDate(),ni&&(Ei=fr(1,1)+fr(mr(Jr),4)+Yr,hi+="up"+fr(Ei.length,2)+Ei),Lr&&(_i=fr(1,1)+fr(mr(Zr),4)+Wr,hi+="uc"+fr(_i.length,2)+_i);var ui="";return ui+=`
\0`,ui+=fr($r,2),ui+=Hr.magic,ui+=fr(Rr,2),ui+=fr(Fr,2),ui+=fr(ci.crc32,4),ui+=fr(ci.compressedSize,4),ui+=fr(ci.uncompressedSize,4),ui+=fr(Jr.length,2),ui+=fr(hi.length,2),{fileRecord:_r.LOCAL_FILE_HEADER+ui+Jr+hi,dirRecord:_r.CENTRAL_FILE_HEADER+fr(pi,2)+ui+fr(Zr.length,2)+"\0\0\0\0"+fr(ei,4)+fr(kr,4)+Jr+hi+Zr}}var pr=ar("../utils"),br=ar("../stream/GenericWorker"),gr=ar("../utf8"),mr=ar("../crc32"),_r=ar("../signature");function Sr(yr,Cr,Ar,kr){br.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=Cr,this.zipPlatform=Ar,this.encodeFileName=kr,this.streamFiles=yr,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}pr.inherits(Sr,br),Sr.prototype.push=function(yr){var Cr=yr.meta.percent||0,Ar=this.entriesCount,kr=this._sources.length;this.accumulate?this.contentBuffer.push(yr):(this.bytesWritten+=yr.data.length,br.prototype.push.call(this,{data:yr.data,meta:{currentFile:this.currentFile,percent:Ar?(Cr+100*(Ar-kr-1))/Ar:100}}))},Sr.prototype.openedSource=function(yr){this.currentSourceOffset=this.bytesWritten,this.currentFile=yr.file.name;var Cr=this.streamFiles&&!yr.file.dir;if(Cr){var Ar=xr(yr,Cr,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:Ar.fileRecord,meta:{percent:0}})}else this.accumulate=!0},Sr.prototype.closedSource=function(yr){this.accumulate=!1;var Cr=this.streamFiles&&!yr.file.dir,Ar=xr(yr,Cr,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(Ar.dirRecord),Cr)this.push({data:function(kr){return _r.DATA_DESCRIPTOR+fr(kr.crc32,4)+fr(kr.compressedSize,4)+fr(kr.uncompressedSize,4)}(yr),meta:{percent:100}});else for(this.push({data:Ar.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},Sr.prototype.flush=function(){for(var yr=this.bytesWritten,Cr=0;Cr<this.dirRecords.length;Cr++)this.push({data:this.dirRecords[Cr],meta:{percent:100}});var Ar=this.bytesWritten-yr,kr=function(Or,Dr,Rr,Fr,Nr){var Hr=pr.transformTo("string",Nr(Fr));return _r.CENTRAL_DIRECTORY_END+"\0\0\0\0"+fr(Or,2)+fr(Or,2)+fr(Dr,4)+fr(Rr,4)+fr(Hr.length,2)+Hr}(this.dirRecords.length,Ar,yr,this.zipComment,this.encodeFileName);this.push({data:kr,meta:{percent:100}})},Sr.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},Sr.prototype.registerPrevious=function(yr){this._sources.push(yr);var Cr=this;return yr.on("data",function(Ar){Cr.processChunk(Ar)}),yr.on("end",function(){Cr.closedSource(Cr.previous.streamInfo),Cr._sources.length?Cr.prepareNextSource():Cr.end()}),yr.on("error",function(Ar){Cr.error(Ar)}),this},Sr.prototype.resume=function(){return!!br.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},Sr.prototype.error=function(yr){var Cr=this._sources;if(!br.prototype.error.call(this,yr))return!1;for(var Ar=0;Ar<Cr.length;Ar++)try{Cr[Ar].error(yr)}catch{}return!0},Sr.prototype.lock=function(){br.prototype.lock.call(this);for(var yr=this._sources,Cr=0;Cr<yr.length;Cr++)yr[Cr].lock()},or.exports=Sr},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(ar,or,ur){var fr=ar("../compressions"),xr=ar("./ZipFileWorker");ur.generateWorker=function(pr,br,gr){var mr=new xr(br.streamFiles,gr,br.platform,br.encodeFileName),_r=0;try{pr.forEach(function(Sr,yr){_r++;var Cr=function(Dr,Rr){var Fr=Dr||Rr,Nr=fr[Fr];if(!Nr)throw new Error(Fr+" is not a valid compression method !");return Nr}(yr.options.compression,br.compression),Ar=yr.options.compressionOptions||br.compressionOptions||{},kr=yr.dir,Or=yr.date;yr._compressWorker(Cr,Ar).withStreamInfo("file",{name:Sr,dir:kr,date:Or,comment:yr.comment||"",unixPermissions:yr.unixPermissions,dosPermissions:yr.dosPermissions}).pipe(mr)}),mr.entriesCount=_r}catch(Sr){mr.error(Sr)}return mr}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(ar,or,ur){function fr(){if(!(this instanceof fr))return new fr;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var xr=new fr;for(var pr in this)typeof this[pr]!="function"&&(xr[pr]=this[pr]);return xr}}(fr.prototype=ar("./object")).loadAsync=ar("./load"),fr.support=ar("./support"),fr.defaults=ar("./defaults"),fr.version="3.10.1",fr.loadAsync=function(xr,pr){return new fr().loadAsync(xr,pr)},fr.external=ar("./external"),or.exports=fr},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(ar,or,ur){var fr=ar("./utils"),xr=ar("./external"),pr=ar("./utf8"),br=ar("./zipEntries"),gr=ar("./stream/Crc32Probe"),mr=ar("./nodejsUtils");function _r(Sr){return new xr.Promise(function(yr,Cr){var Ar=Sr.decompressed.getContentWorker().pipe(new gr);Ar.on("error",function(kr){Cr(kr)}).on("end",function(){Ar.streamInfo.crc32!==Sr.decompressed.crc32?Cr(new Error("Corrupted zip : CRC32 mismatch")):yr()}).resume()})}or.exports=function(Sr,yr){var Cr=this;return yr=fr.extend(yr||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:pr.utf8decode}),mr.isNode&&mr.isStream(Sr)?xr.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):fr.prepareContent("the loaded zip file",Sr,!0,yr.optimizedBinaryString,yr.base64).then(function(Ar){var kr=new br(yr);return kr.load(Ar),kr}).then(function(Ar){var kr=[xr.Promise.resolve(Ar)],Or=Ar.files;if(yr.checkCRC32)for(var Dr=0;Dr<Or.length;Dr++)kr.push(_r(Or[Dr]));return xr.Promise.all(kr)}).then(function(Ar){for(var kr=Ar.shift(),Or=kr.files,Dr=0;Dr<Or.length;Dr++){var Rr=Or[Dr],Fr=Rr.fileNameStr,Nr=fr.resolve(Rr.fileNameStr);Cr.file(Nr,Rr.decompressed,{binary:!0,optimizedBinaryString:!0,date:Rr.date,dir:Rr.dir,comment:Rr.fileCommentStr.length?Rr.fileCommentStr:null,unixPermissions:Rr.unixPermissions,dosPermissions:Rr.dosPermissions,createFolders:yr.createFolders}),Rr.dir||(Cr.file(Nr).unsafeOriginalName=Fr)}return kr.zipComment.length&&(Cr.comment=kr.zipComment),Cr})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(ar,or,ur){var fr=ar("../utils"),xr=ar("../stream/GenericWorker");function pr(br,gr){xr.call(this,"Nodejs stream input adapter for "+br),this._upstreamEnded=!1,this._bindStream(gr)}fr.inherits(pr,xr),pr.prototype._bindStream=function(br){var gr=this;(this._stream=br).pause(),br.on("data",function(mr){gr.push({data:mr,meta:{percent:0}})}).on("error",function(mr){gr.isPaused?this.generatedError=mr:gr.error(mr)}).on("end",function(){gr.isPaused?gr._upstreamEnded=!0:gr.end()})},pr.prototype.pause=function(){return!!xr.prototype.pause.call(this)&&(this._stream.pause(),!0)},pr.prototype.resume=function(){return!!xr.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},or.exports=pr},{"../stream/GenericWorker":28,"../utils":32}],13:[function(ar,or,ur){var fr=ar("readable-stream").Readable;function xr(pr,br,gr){fr.call(this,br),this._helper=pr;var mr=this;pr.on("data",function(_r,Sr){mr.push(_r)||mr._helper.pause(),gr&&gr(Sr)}).on("error",function(_r){mr.emit("error",_r)}).on("end",function(){mr.push(null)})}ar("../utils").inherits(xr,fr),xr.prototype._read=function(){this._helper.resume()},or.exports=xr},{"../utils":32,"readable-stream":16}],14:[function(ar,or,ur){or.exports={isNode:typeof Buffer<"u",newBufferFrom:function(fr,xr){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(fr,xr);if(typeof fr=="number")throw new Error('The "data" argument must not be a number');return new Buffer(fr,xr)},allocBuffer:function(fr){if(Buffer.alloc)return Buffer.alloc(fr);var xr=new Buffer(fr);return xr.fill(0),xr},isBuffer:function(fr){return Buffer.isBuffer(fr)},isStream:function(fr){return fr&&typeof fr.on=="function"&&typeof fr.pause=="function"&&typeof fr.resume=="function"}}},{}],15:[function(ar,or,ur){function fr(Nr,Hr,jr){var Jr,Yr=pr.getTypeOf(Hr),Ur=pr.extend(jr||{},mr);Ur.date=Ur.date||new Date,Ur.compression!==null&&(Ur.compression=Ur.compression.toUpperCase()),typeof Ur.unixPermissions=="string"&&(Ur.unixPermissions=parseInt(Ur.unixPermissions,8)),Ur.unixPermissions&&16384&Ur.unixPermissions&&(Ur.dir=!0),Ur.dosPermissions&&16&Ur.dosPermissions&&(Ur.dir=!0),Ur.dir&&(Nr=Or(Nr)),Ur.createFolders&&(Jr=kr(Nr))&&Dr.call(this,Jr,!0);var Zr=Yr==="string"&&Ur.binary===!1&&Ur.base64===!1;jr&&jr.binary!==void 0||(Ur.binary=!Zr),(Hr instanceof _r&&Hr.uncompressedSize===0||Ur.dir||!Hr||Hr.length===0)&&(Ur.base64=!1,Ur.binary=!0,Hr="",Ur.compression="STORE",Yr="string");var Wr=null;Wr=Hr instanceof _r||Hr instanceof br?Hr:Cr.isNode&&Cr.isStream(Hr)?new Ar(Nr,Hr):pr.prepareContent(Nr,Hr,Ur.binary,Ur.optimizedBinaryString,Ur.base64);var ni=new Sr(Nr,Wr,Ur);this.files[Nr]=ni}var xr=ar("./utf8"),pr=ar("./utils"),br=ar("./stream/GenericWorker"),gr=ar("./stream/StreamHelper"),mr=ar("./defaults"),_r=ar("./compressedObject"),Sr=ar("./zipObject"),yr=ar("./generate"),Cr=ar("./nodejsUtils"),Ar=ar("./nodejs/NodejsStreamInputAdapter"),kr=function(Nr){Nr.slice(-1)==="/"&&(Nr=Nr.substring(0,Nr.length-1));var Hr=Nr.lastIndexOf("/");return 0<Hr?Nr.substring(0,Hr):""},Or=function(Nr){return Nr.slice(-1)!=="/"&&(Nr+="/"),Nr},Dr=function(Nr,Hr){return Hr=Hr!==void 0?Hr:mr.createFolders,Nr=Or(Nr),this.files[Nr]||fr.call(this,Nr,null,{dir:!0,createFolders:Hr}),this.files[Nr]};function Rr(Nr){return Object.prototype.toString.call(Nr)==="[object RegExp]"}var Fr={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(Nr){var Hr,jr,Jr;for(Hr in this.files)Jr=this.files[Hr],(jr=Hr.slice(this.root.length,Hr.length))&&Hr.slice(0,this.root.length)===this.root&&Nr(jr,Jr)},filter:function(Nr){var Hr=[];return this.forEach(function(jr,Jr){Nr(jr,Jr)&&Hr.push(Jr)}),Hr},file:function(Nr,Hr,jr){if(arguments.length!==1)return Nr=this.root+Nr,fr.call(this,Nr,Hr,jr),this;if(Rr(Nr)){var Jr=Nr;return this.filter(function(Ur,Zr){return!Zr.dir&&Jr.test(Ur)})}var Yr=this.files[this.root+Nr];return Yr&&!Yr.dir?Yr:null},folder:function(Nr){if(!Nr)return this;if(Rr(Nr))return this.filter(function(Yr,Ur){return Ur.dir&&Nr.test(Yr)});var Hr=this.root+Nr,jr=Dr.call(this,Hr),Jr=this.clone();return Jr.root=jr.name,Jr},remove:function(Nr){Nr=this.root+Nr;var Hr=this.files[Nr];if(Hr||(Nr.slice(-1)!=="/"&&(Nr+="/"),Hr=this.files[Nr]),Hr&&!Hr.dir)delete this.files[Nr];else for(var jr=this.filter(function(Yr,Ur){return Ur.name.slice(0,Nr.length)===Nr}),Jr=0;Jr<jr.length;Jr++)delete this.files[jr[Jr].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(Nr){var Hr,jr={};try{if((jr=pr.extend(Nr||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:xr.utf8encode})).type=jr.type.toLowerCase(),jr.compression=jr.compression.toUpperCase(),jr.type==="binarystring"&&(jr.type="string"),!jr.type)throw new Error("No output type specified.");pr.checkSupport(jr.type),jr.platform!=="darwin"&&jr.platform!=="freebsd"&&jr.platform!=="linux"&&jr.platform!=="sunos"||(jr.platform="UNIX"),jr.platform==="win32"&&(jr.platform="DOS");var Jr=jr.comment||this.comment||"";Hr=yr.generateWorker(this,jr,Jr)}catch(Yr){(Hr=new br("error")).error(Yr)}return new gr(Hr,jr.type||"string",jr.mimeType)},generateAsync:function(Nr,Hr){return this.generateInternalStream(Nr).accumulate(Hr)},generateNodeStream:function(Nr,Hr){return(Nr=Nr||{}).type||(Nr.type="nodebuffer"),this.generateInternalStream(Nr).toNodejsStream(Hr)}};or.exports=Fr},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(ar,or,ur){or.exports=ar("stream")},{stream:void 0}],17:[function(ar,or,ur){var fr=ar("./DataReader");function xr(pr){fr.call(this,pr);for(var br=0;br<this.data.length;br++)pr[br]=255&pr[br]}ar("../utils").inherits(xr,fr),xr.prototype.byteAt=function(pr){return this.data[this.zero+pr]},xr.prototype.lastIndexOfSignature=function(pr){for(var br=pr.charCodeAt(0),gr=pr.charCodeAt(1),mr=pr.charCodeAt(2),_r=pr.charCodeAt(3),Sr=this.length-4;0<=Sr;--Sr)if(this.data[Sr]===br&&this.data[Sr+1]===gr&&this.data[Sr+2]===mr&&this.data[Sr+3]===_r)return Sr-this.zero;return-1},xr.prototype.readAndCheckSignature=function(pr){var br=pr.charCodeAt(0),gr=pr.charCodeAt(1),mr=pr.charCodeAt(2),_r=pr.charCodeAt(3),Sr=this.readData(4);return br===Sr[0]&&gr===Sr[1]&&mr===Sr[2]&&_r===Sr[3]},xr.prototype.readData=function(pr){if(this.checkOffset(pr),pr===0)return[];var br=this.data.slice(this.zero+this.index,this.zero+this.index+pr);return this.index+=pr,br},or.exports=xr},{"../utils":32,"./DataReader":18}],18:[function(ar,or,ur){var fr=ar("../utils");function xr(pr){this.data=pr,this.length=pr.length,this.index=0,this.zero=0}xr.prototype={checkOffset:function(pr){this.checkIndex(this.index+pr)},checkIndex:function(pr){if(this.length<this.zero+pr||pr<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+pr+"). Corrupted zip ?")},setIndex:function(pr){this.checkIndex(pr),this.index=pr},skip:function(pr){this.setIndex(this.index+pr)},byteAt:function(){},readInt:function(pr){var br,gr=0;for(this.checkOffset(pr),br=this.index+pr-1;br>=this.index;br--)gr=(gr<<8)+this.byteAt(br);return this.index+=pr,gr},readString:function(pr){return fr.transformTo("string",this.readData(pr))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var pr=this.readInt(4);return new Date(Date.UTC(1980+(pr>>25&127),(pr>>21&15)-1,pr>>16&31,pr>>11&31,pr>>5&63,(31&pr)<<1))}},or.exports=xr},{"../utils":32}],19:[function(ar,or,ur){var fr=ar("./Uint8ArrayReader");function xr(pr){fr.call(this,pr)}ar("../utils").inherits(xr,fr),xr.prototype.readData=function(pr){this.checkOffset(pr);var br=this.data.slice(this.zero+this.index,this.zero+this.index+pr);return this.index+=pr,br},or.exports=xr},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(ar,or,ur){var fr=ar("./DataReader");function xr(pr){fr.call(this,pr)}ar("../utils").inherits(xr,fr),xr.prototype.byteAt=function(pr){return this.data.charCodeAt(this.zero+pr)},xr.prototype.lastIndexOfSignature=function(pr){return this.data.lastIndexOf(pr)-this.zero},xr.prototype.readAndCheckSignature=function(pr){return pr===this.readData(4)},xr.prototype.readData=function(pr){this.checkOffset(pr);var br=this.data.slice(this.zero+this.index,this.zero+this.index+pr);return this.index+=pr,br},or.exports=xr},{"../utils":32,"./DataReader":18}],21:[function(ar,or,ur){var fr=ar("./ArrayReader");function xr(pr){fr.call(this,pr)}ar("../utils").inherits(xr,fr),xr.prototype.readData=function(pr){if(this.checkOffset(pr),pr===0)return new Uint8Array(0);var br=this.data.subarray(this.zero+this.index,this.zero+this.index+pr);return this.index+=pr,br},or.exports=xr},{"../utils":32,"./ArrayReader":17}],22:[function(ar,or,ur){var fr=ar("../utils"),xr=ar("../support"),pr=ar("./ArrayReader"),br=ar("./StringReader"),gr=ar("./NodeBufferReader"),mr=ar("./Uint8ArrayReader");or.exports=function(_r){var Sr=fr.getTypeOf(_r);return fr.checkSupport(Sr),Sr!=="string"||xr.uint8array?Sr==="nodebuffer"?new gr(_r):xr.uint8array?new mr(fr.transformTo("uint8array",_r)):new pr(fr.transformTo("array",_r)):new br(_r)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(ar,or,ur){ur.LOCAL_FILE_HEADER="PK",ur.CENTRAL_FILE_HEADER="PK",ur.CENTRAL_DIRECTORY_END="PK",ur.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",ur.ZIP64_CENTRAL_DIRECTORY_END="PK",ur.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(ar,or,ur){var fr=ar("./GenericWorker"),xr=ar("../utils");function pr(br){fr.call(this,"ConvertWorker to "+br),this.destType=br}xr.inherits(pr,fr),pr.prototype.processChunk=function(br){this.push({data:xr.transformTo(this.destType,br.data),meta:br.meta})},or.exports=pr},{"../utils":32,"./GenericWorker":28}],25:[function(ar,or,ur){var fr=ar("./GenericWorker"),xr=ar("../crc32");function pr(){fr.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}ar("../utils").inherits(pr,fr),pr.prototype.processChunk=function(br){this.streamInfo.crc32=xr(br.data,this.streamInfo.crc32||0),this.push(br)},or.exports=pr},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(ar,or,ur){var fr=ar("../utils"),xr=ar("./GenericWorker");function pr(br){xr.call(this,"DataLengthProbe for "+br),this.propName=br,this.withStreamInfo(br,0)}fr.inherits(pr,xr),pr.prototype.processChunk=function(br){if(br){var gr=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=gr+br.data.length}xr.prototype.processChunk.call(this,br)},or.exports=pr},{"../utils":32,"./GenericWorker":28}],27:[function(ar,or,ur){var fr=ar("../utils"),xr=ar("./GenericWorker");function pr(br){xr.call(this,"DataWorker");var gr=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,br.then(function(mr){gr.dataIsReady=!0,gr.data=mr,gr.max=mr&&mr.length||0,gr.type=fr.getTypeOf(mr),gr.isPaused||gr._tickAndRepeat()},function(mr){gr.error(mr)})}fr.inherits(pr,xr),pr.prototype.cleanUp=function(){xr.prototype.cleanUp.call(this),this.data=null},pr.prototype.resume=function(){return!!xr.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,fr.delay(this._tickAndRepeat,[],this)),!0)},pr.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(fr.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},pr.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var br=null,gr=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":br=this.data.substring(this.index,gr);break;case"uint8array":br=this.data.subarray(this.index,gr);break;case"array":case"nodebuffer":br=this.data.slice(this.index,gr)}return this.index=gr,this.push({data:br,meta:{percent:this.max?this.index/this.max*100:0}})},or.exports=pr},{"../utils":32,"./GenericWorker":28}],28:[function(ar,or,ur){function fr(xr){this.name=xr||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}fr.prototype={push:function(xr){this.emit("data",xr)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(xr){this.emit("error",xr)}return!0},error:function(xr){return!this.isFinished&&(this.isPaused?this.generatedError=xr:(this.isFinished=!0,this.emit("error",xr),this.previous&&this.previous.error(xr),this.cleanUp()),!0)},on:function(xr,pr){return this._listeners[xr].push(pr),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(xr,pr){if(this._listeners[xr])for(var br=0;br<this._listeners[xr].length;br++)this._listeners[xr][br].call(this,pr)},pipe:function(xr){return xr.registerPrevious(this)},registerPrevious:function(xr){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=xr.streamInfo,this.mergeStreamInfo(),this.previous=xr;var pr=this;return xr.on("data",function(br){pr.processChunk(br)}),xr.on("end",function(){pr.end()}),xr.on("error",function(br){pr.error(br)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var xr=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),xr=!0),this.previous&&this.previous.resume(),!xr},flush:function(){},processChunk:function(xr){this.push(xr)},withStreamInfo:function(xr,pr){return this.extraStreamInfo[xr]=pr,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var xr in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,xr)&&(this.streamInfo[xr]=this.extraStreamInfo[xr])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var xr="Worker "+this.name;return this.previous?this.previous+" -> "+xr:xr}},or.exports=fr},{}],29:[function(ar,or,ur){var fr=ar("../utils"),xr=ar("./ConvertWorker"),pr=ar("./GenericWorker"),br=ar("../base64"),gr=ar("../support"),mr=ar("../external"),_r=null;if(gr.nodestream)try{_r=ar("../nodejs/NodejsStreamOutputAdapter")}catch{}function Sr(Cr,Ar){return new mr.Promise(function(kr,Or){var Dr=[],Rr=Cr._internalType,Fr=Cr._outputType,Nr=Cr._mimeType;Cr.on("data",function(Hr,jr){Dr.push(Hr),Ar&&Ar(jr)}).on("error",function(Hr){Dr=[],Or(Hr)}).on("end",function(){try{var Hr=function(jr,Jr,Yr){switch(jr){case"blob":return fr.newBlob(fr.transformTo("arraybuffer",Jr),Yr);case"base64":return br.encode(Jr);default:return fr.transformTo(jr,Jr)}}(Fr,function(jr,Jr){var Yr,Ur=0,Zr=null,Wr=0;for(Yr=0;Yr<Jr.length;Yr++)Wr+=Jr[Yr].length;switch(jr){case"string":return Jr.join("");case"array":return Array.prototype.concat.apply([],Jr);case"uint8array":for(Zr=new Uint8Array(Wr),Yr=0;Yr<Jr.length;Yr++)Zr.set(Jr[Yr],Ur),Ur+=Jr[Yr].length;return Zr;case"nodebuffer":return Buffer.concat(Jr);default:throw new Error("concat : unsupported type '"+jr+"'")}}(Rr,Dr),Nr);kr(Hr)}catch(jr){Or(jr)}Dr=[]}).resume()})}function yr(Cr,Ar,kr){var Or=Ar;switch(Ar){case"blob":case"arraybuffer":Or="uint8array";break;case"base64":Or="string"}try{this._internalType=Or,this._outputType=Ar,this._mimeType=kr,fr.checkSupport(Or),this._worker=Cr.pipe(new xr(Or)),Cr.lock()}catch(Dr){this._worker=new pr("error"),this._worker.error(Dr)}}yr.prototype={accumulate:function(Cr){return Sr(this,Cr)},on:function(Cr,Ar){var kr=this;return Cr==="data"?this._worker.on(Cr,function(Or){Ar.call(kr,Or.data,Or.meta)}):this._worker.on(Cr,function(){fr.delay(Ar,arguments,kr)}),this},resume:function(){return fr.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(Cr){if(fr.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new _r(this,{objectMode:this._outputType!=="nodebuffer"},Cr)}},or.exports=yr},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(ar,or,ur){if(ur.base64=!0,ur.array=!0,ur.string=!0,ur.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",ur.nodebuffer=typeof Buffer<"u",ur.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")ur.blob=!1;else{var fr=new ArrayBuffer(0);try{ur.blob=new Blob([fr],{type:"application/zip"}).size===0}catch{try{var xr=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);xr.append(fr),ur.blob=xr.getBlob("application/zip").size===0}catch{ur.blob=!1}}}try{ur.nodestream=!!ar("readable-stream").Readable}catch{ur.nodestream=!1}},{"readable-stream":16}],31:[function(ar,or,ur){for(var fr=ar("./utils"),xr=ar("./support"),pr=ar("./nodejsUtils"),br=ar("./stream/GenericWorker"),gr=new Array(256),mr=0;mr<256;mr++)gr[mr]=252<=mr?6:248<=mr?5:240<=mr?4:224<=mr?3:192<=mr?2:1;gr[254]=gr[254]=1;function _r(){br.call(this,"utf-8 decode"),this.leftOver=null}function Sr(){br.call(this,"utf-8 encode")}ur.utf8encode=function(yr){return xr.nodebuffer?pr.newBufferFrom(yr,"utf-8"):function(Cr){var Ar,kr,Or,Dr,Rr,Fr=Cr.length,Nr=0;for(Dr=0;Dr<Fr;Dr++)(64512&(kr=Cr.charCodeAt(Dr)))==55296&&Dr+1<Fr&&(64512&(Or=Cr.charCodeAt(Dr+1)))==56320&&(kr=65536+(kr-55296<<10)+(Or-56320),Dr++),Nr+=kr<128?1:kr<2048?2:kr<65536?3:4;for(Ar=xr.uint8array?new Uint8Array(Nr):new Array(Nr),Dr=Rr=0;Rr<Nr;Dr++)(64512&(kr=Cr.charCodeAt(Dr)))==55296&&Dr+1<Fr&&(64512&(Or=Cr.charCodeAt(Dr+1)))==56320&&(kr=65536+(kr-55296<<10)+(Or-56320),Dr++),kr<128?Ar[Rr++]=kr:(kr<2048?Ar[Rr++]=192|kr>>>6:(kr<65536?Ar[Rr++]=224|kr>>>12:(Ar[Rr++]=240|kr>>>18,Ar[Rr++]=128|kr>>>12&63),Ar[Rr++]=128|kr>>>6&63),Ar[Rr++]=128|63&kr);return Ar}(yr)},ur.utf8decode=function(yr){return xr.nodebuffer?fr.transformTo("nodebuffer",yr).toString("utf-8"):function(Cr){var Ar,kr,Or,Dr,Rr=Cr.length,Fr=new Array(2*Rr);for(Ar=kr=0;Ar<Rr;)if((Or=Cr[Ar++])<128)Fr[kr++]=Or;else if(4<(Dr=gr[Or]))Fr[kr++]=65533,Ar+=Dr-1;else{for(Or&=Dr===2?31:Dr===3?15:7;1<Dr&&Ar<Rr;)Or=Or<<6|63&Cr[Ar++],Dr--;1<Dr?Fr[kr++]=65533:Or<65536?Fr[kr++]=Or:(Or-=65536,Fr[kr++]=55296|Or>>10&1023,Fr[kr++]=56320|1023&Or)}return Fr.length!==kr&&(Fr.subarray?Fr=Fr.subarray(0,kr):Fr.length=kr),fr.applyFromCharCode(Fr)}(yr=fr.transformTo(xr.uint8array?"uint8array":"array",yr))},fr.inherits(_r,br),_r.prototype.processChunk=function(yr){var Cr=fr.transformTo(xr.uint8array?"uint8array":"array",yr.data);if(this.leftOver&&this.leftOver.length){if(xr.uint8array){var Ar=Cr;(Cr=new Uint8Array(Ar.length+this.leftOver.length)).set(this.leftOver,0),Cr.set(Ar,this.leftOver.length)}else Cr=this.leftOver.concat(Cr);this.leftOver=null}var kr=function(Dr,Rr){var Fr;for((Rr=Rr||Dr.length)>Dr.length&&(Rr=Dr.length),Fr=Rr-1;0<=Fr&&(192&Dr[Fr])==128;)Fr--;return Fr<0||Fr===0?Rr:Fr+gr[Dr[Fr]]>Rr?Fr:Rr}(Cr),Or=Cr;kr!==Cr.length&&(xr.uint8array?(Or=Cr.subarray(0,kr),this.leftOver=Cr.subarray(kr,Cr.length)):(Or=Cr.slice(0,kr),this.leftOver=Cr.slice(kr,Cr.length))),this.push({data:ur.utf8decode(Or),meta:yr.meta})},_r.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:ur.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},ur.Utf8DecodeWorker=_r,fr.inherits(Sr,br),Sr.prototype.processChunk=function(yr){this.push({data:ur.utf8encode(yr.data),meta:yr.meta})},ur.Utf8EncodeWorker=Sr},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(ar,or,ur){var fr=ar("./support"),xr=ar("./base64"),pr=ar("./nodejsUtils"),br=ar("./external");function gr(Ar){return Ar}function mr(Ar,kr){for(var Or=0;Or<Ar.length;++Or)kr[Or]=255&Ar.charCodeAt(Or);return kr}ar("setimmediate"),ur.newBlob=function(Ar,kr){ur.checkSupport("blob");try{return new Blob([Ar],{type:kr})}catch{try{var Or=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return Or.append(Ar),Or.getBlob(kr)}catch{throw new Error("Bug : can't construct the Blob.")}}};var _r={stringifyByChunk:function(Ar,kr,Or){var Dr=[],Rr=0,Fr=Ar.length;if(Fr<=Or)return String.fromCharCode.apply(null,Ar);for(;Rr<Fr;)kr==="array"||kr==="nodebuffer"?Dr.push(String.fromCharCode.apply(null,Ar.slice(Rr,Math.min(Rr+Or,Fr)))):Dr.push(String.fromCharCode.apply(null,Ar.subarray(Rr,Math.min(Rr+Or,Fr)))),Rr+=Or;return Dr.join("")},stringifyByChar:function(Ar){for(var kr="",Or=0;Or<Ar.length;Or++)kr+=String.fromCharCode(Ar[Or]);return kr},applyCanBeUsed:{uint8array:function(){try{return fr.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return fr.nodebuffer&&String.fromCharCode.apply(null,pr.allocBuffer(1)).length===1}catch{return!1}}()}};function Sr(Ar){var kr=65536,Or=ur.getTypeOf(Ar),Dr=!0;if(Or==="uint8array"?Dr=_r.applyCanBeUsed.uint8array:Or==="nodebuffer"&&(Dr=_r.applyCanBeUsed.nodebuffer),Dr)for(;1<kr;)try{return _r.stringifyByChunk(Ar,Or,kr)}catch{kr=Math.floor(kr/2)}return _r.stringifyByChar(Ar)}function yr(Ar,kr){for(var Or=0;Or<Ar.length;Or++)kr[Or]=Ar[Or];return kr}ur.applyFromCharCode=Sr;var Cr={};Cr.string={string:gr,array:function(Ar){return mr(Ar,new Array(Ar.length))},arraybuffer:function(Ar){return Cr.string.uint8array(Ar).buffer},uint8array:function(Ar){return mr(Ar,new Uint8Array(Ar.length))},nodebuffer:function(Ar){return mr(Ar,pr.allocBuffer(Ar.length))}},Cr.array={string:Sr,array:gr,arraybuffer:function(Ar){return new Uint8Array(Ar).buffer},uint8array:function(Ar){return new Uint8Array(Ar)},nodebuffer:function(Ar){return pr.newBufferFrom(Ar)}},Cr.arraybuffer={string:function(Ar){return Sr(new Uint8Array(Ar))},array:function(Ar){return yr(new Uint8Array(Ar),new Array(Ar.byteLength))},arraybuffer:gr,uint8array:function(Ar){return new Uint8Array(Ar)},nodebuffer:function(Ar){return pr.newBufferFrom(new Uint8Array(Ar))}},Cr.uint8array={string:Sr,array:function(Ar){return yr(Ar,new Array(Ar.length))},arraybuffer:function(Ar){return Ar.buffer},uint8array:gr,nodebuffer:function(Ar){return pr.newBufferFrom(Ar)}},Cr.nodebuffer={string:Sr,array:function(Ar){return yr(Ar,new Array(Ar.length))},arraybuffer:function(Ar){return Cr.nodebuffer.uint8array(Ar).buffer},uint8array:function(Ar){return yr(Ar,new Uint8Array(Ar.length))},nodebuffer:gr},ur.transformTo=function(Ar,kr){if(kr=kr||"",!Ar)return kr;ur.checkSupport(Ar);var Or=ur.getTypeOf(kr);return Cr[Or][Ar](kr)},ur.resolve=function(Ar){for(var kr=Ar.split("/"),Or=[],Dr=0;Dr<kr.length;Dr++){var Rr=kr[Dr];Rr==="."||Rr===""&&Dr!==0&&Dr!==kr.length-1||(Rr===".."?Or.pop():Or.push(Rr))}return Or.join("/")},ur.getTypeOf=function(Ar){return typeof Ar=="string"?"string":Object.prototype.toString.call(Ar)==="[object Array]"?"array":fr.nodebuffer&&pr.isBuffer(Ar)?"nodebuffer":fr.uint8array&&Ar instanceof Uint8Array?"uint8array":fr.arraybuffer&&Ar instanceof ArrayBuffer?"arraybuffer":void 0},ur.checkSupport=function(Ar){if(!fr[Ar.toLowerCase()])throw new Error(Ar+" is not supported by this platform")},ur.MAX_VALUE_16BITS=65535,ur.MAX_VALUE_32BITS=-1,ur.pretty=function(Ar){var kr,Or,Dr="";for(Or=0;Or<(Ar||"").length;Or++)Dr+="\\x"+((kr=Ar.charCodeAt(Or))<16?"0":"")+kr.toString(16).toUpperCase();return Dr},ur.delay=function(Ar,kr,Or){setImmediate(function(){Ar.apply(Or||null,kr||[])})},ur.inherits=function(Ar,kr){function Or(){}Or.prototype=kr.prototype,Ar.prototype=new Or},ur.extend=function(){var Ar,kr,Or={};for(Ar=0;Ar<arguments.length;Ar++)for(kr in arguments[Ar])Object.prototype.hasOwnProperty.call(arguments[Ar],kr)&&Or[kr]===void 0&&(Or[kr]=arguments[Ar][kr]);return Or},ur.prepareContent=function(Ar,kr,Or,Dr,Rr){return br.Promise.resolve(kr).then(function(Fr){return fr.blob&&(Fr instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(Fr))!==-1)&&typeof FileReader<"u"?new br.Promise(function(Nr,Hr){var jr=new FileReader;jr.onload=function(Jr){Nr(Jr.target.result)},jr.onerror=function(Jr){Hr(Jr.target.error)},jr.readAsArrayBuffer(Fr)}):Fr}).then(function(Fr){var Nr=ur.getTypeOf(Fr);return Nr?(Nr==="arraybuffer"?Fr=ur.transformTo("uint8array",Fr):Nr==="string"&&(Rr?Fr=xr.decode(Fr):Or&&Dr!==!0&&(Fr=function(Hr){return mr(Hr,fr.uint8array?new Uint8Array(Hr.length):new Array(Hr.length))}(Fr))),Fr):br.Promise.reject(new Error("Can't read the data of '"+Ar+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(ar,or,ur){var fr=ar("./reader/readerFor"),xr=ar("./utils"),pr=ar("./signature"),br=ar("./zipEntry"),gr=ar("./support");function mr(_r){this.files=[],this.loadOptions=_r}mr.prototype={checkSignature:function(_r){if(!this.reader.readAndCheckSignature(_r)){this.reader.index-=4;var Sr=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+xr.pretty(Sr)+", expected "+xr.pretty(_r)+")")}},isSignature:function(_r,Sr){var yr=this.reader.index;this.reader.setIndex(_r);var Cr=this.reader.readString(4)===Sr;return this.reader.setIndex(yr),Cr},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var _r=this.reader.readData(this.zipCommentLength),Sr=gr.uint8array?"uint8array":"array",yr=xr.transformTo(Sr,_r);this.zipComment=this.loadOptions.decodeFileName(yr)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var _r,Sr,yr,Cr=this.zip64EndOfCentralSize-44;0<Cr;)_r=this.reader.readInt(2),Sr=this.reader.readInt(4),yr=this.reader.readData(Sr),this.zip64ExtensibleData[_r]={id:_r,length:Sr,value:yr}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var _r,Sr;for(_r=0;_r<this.files.length;_r++)Sr=this.files[_r],this.reader.setIndex(Sr.localHeaderOffset),this.checkSignature(pr.LOCAL_FILE_HEADER),Sr.readLocalPart(this.reader),Sr.handleUTF8(),Sr.processAttributes()},readCentralDir:function(){var _r;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(pr.CENTRAL_FILE_HEADER);)(_r=new br({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(_r);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var _r=this.reader.lastIndexOfSignature(pr.CENTRAL_DIRECTORY_END);if(_r<0)throw this.isSignature(0,pr.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(_r);var Sr=_r;if(this.checkSignature(pr.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===xr.MAX_VALUE_16BITS||this.diskWithCentralDirStart===xr.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===xr.MAX_VALUE_16BITS||this.centralDirRecords===xr.MAX_VALUE_16BITS||this.centralDirSize===xr.MAX_VALUE_32BITS||this.centralDirOffset===xr.MAX_VALUE_32BITS){if(this.zip64=!0,(_r=this.reader.lastIndexOfSignature(pr.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(_r),this.checkSignature(pr.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,pr.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(pr.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(pr.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var yr=this.centralDirOffset+this.centralDirSize;this.zip64&&(yr+=20,yr+=12+this.zip64EndOfCentralSize);var Cr=Sr-yr;if(0<Cr)this.isSignature(Sr,pr.CENTRAL_FILE_HEADER)||(this.reader.zero=Cr);else if(Cr<0)throw new Error("Corrupted zip: missing "+Math.abs(Cr)+" bytes.")},prepareReader:function(_r){this.reader=fr(_r)},load:function(_r){this.prepareReader(_r),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},or.exports=mr},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(ar,or,ur){var fr=ar("./reader/readerFor"),xr=ar("./utils"),pr=ar("./compressedObject"),br=ar("./crc32"),gr=ar("./utf8"),mr=ar("./compressions"),_r=ar("./support");function Sr(yr,Cr){this.options=yr,this.loadOptions=Cr}Sr.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(yr){var Cr,Ar;if(yr.skip(22),this.fileNameLength=yr.readInt(2),Ar=yr.readInt(2),this.fileName=yr.readData(this.fileNameLength),yr.skip(Ar),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((Cr=function(kr){for(var Or in mr)if(Object.prototype.hasOwnProperty.call(mr,Or)&&mr[Or].magic===kr)return mr[Or];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+xr.pretty(this.compressionMethod)+" unknown (inner file : "+xr.transformTo("string",this.fileName)+")");this.decompressed=new pr(this.compressedSize,this.uncompressedSize,this.crc32,Cr,yr.readData(this.compressedSize))},readCentralPart:function(yr){this.versionMadeBy=yr.readInt(2),yr.skip(2),this.bitFlag=yr.readInt(2),this.compressionMethod=yr.readString(2),this.date=yr.readDate(),this.crc32=yr.readInt(4),this.compressedSize=yr.readInt(4),this.uncompressedSize=yr.readInt(4);var Cr=yr.readInt(2);if(this.extraFieldsLength=yr.readInt(2),this.fileCommentLength=yr.readInt(2),this.diskNumberStart=yr.readInt(2),this.internalFileAttributes=yr.readInt(2),this.externalFileAttributes=yr.readInt(4),this.localHeaderOffset=yr.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");yr.skip(Cr),this.readExtraFields(yr),this.parseZIP64ExtraField(yr),this.fileComment=yr.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var yr=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),yr==0&&(this.dosPermissions=63&this.externalFileAttributes),yr==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var yr=fr(this.extraFields[1].value);this.uncompressedSize===xr.MAX_VALUE_32BITS&&(this.uncompressedSize=yr.readInt(8)),this.compressedSize===xr.MAX_VALUE_32BITS&&(this.compressedSize=yr.readInt(8)),this.localHeaderOffset===xr.MAX_VALUE_32BITS&&(this.localHeaderOffset=yr.readInt(8)),this.diskNumberStart===xr.MAX_VALUE_32BITS&&(this.diskNumberStart=yr.readInt(4))}},readExtraFields:function(yr){var Cr,Ar,kr,Or=yr.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});yr.index+4<Or;)Cr=yr.readInt(2),Ar=yr.readInt(2),kr=yr.readData(Ar),this.extraFields[Cr]={id:Cr,length:Ar,value:kr};yr.setIndex(Or)},handleUTF8:function(){var yr=_r.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=gr.utf8decode(this.fileName),this.fileCommentStr=gr.utf8decode(this.fileComment);else{var Cr=this.findExtraFieldUnicodePath();if(Cr!==null)this.fileNameStr=Cr;else{var Ar=xr.transformTo(yr,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(Ar)}var kr=this.findExtraFieldUnicodeComment();if(kr!==null)this.fileCommentStr=kr;else{var Or=xr.transformTo(yr,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(Or)}}},findExtraFieldUnicodePath:function(){var yr=this.extraFields[28789];if(yr){var Cr=fr(yr.value);return Cr.readInt(1)!==1||br(this.fileName)!==Cr.readInt(4)?null:gr.utf8decode(Cr.readData(yr.length-5))}return null},findExtraFieldUnicodeComment:function(){var yr=this.extraFields[25461];if(yr){var Cr=fr(yr.value);return Cr.readInt(1)!==1||br(this.fileComment)!==Cr.readInt(4)?null:gr.utf8decode(Cr.readData(yr.length-5))}return null}},or.exports=Sr},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(ar,or,ur){function fr(Cr,Ar,kr){this.name=Cr,this.dir=kr.dir,this.date=kr.date,this.comment=kr.comment,this.unixPermissions=kr.unixPermissions,this.dosPermissions=kr.dosPermissions,this._data=Ar,this._dataBinary=kr.binary,this.options={compression:kr.compression,compressionOptions:kr.compressionOptions}}var xr=ar("./stream/StreamHelper"),pr=ar("./stream/DataWorker"),br=ar("./utf8"),gr=ar("./compressedObject"),mr=ar("./stream/GenericWorker");fr.prototype={internalStream:function(Cr){var Ar=null,kr="string";try{if(!Cr)throw new Error("No output type specified.");var Or=(kr=Cr.toLowerCase())==="string"||kr==="text";kr!=="binarystring"&&kr!=="text"||(kr="string"),Ar=this._decompressWorker();var Dr=!this._dataBinary;Dr&&!Or&&(Ar=Ar.pipe(new br.Utf8EncodeWorker)),!Dr&&Or&&(Ar=Ar.pipe(new br.Utf8DecodeWorker))}catch(Rr){(Ar=new mr("error")).error(Rr)}return new xr(Ar,kr,"")},async:function(Cr,Ar){return this.internalStream(Cr).accumulate(Ar)},nodeStream:function(Cr,Ar){return this.internalStream(Cr||"nodebuffer").toNodejsStream(Ar)},_compressWorker:function(Cr,Ar){if(this._data instanceof gr&&this._data.compression.magic===Cr.magic)return this._data.getCompressedWorker();var kr=this._decompressWorker();return this._dataBinary||(kr=kr.pipe(new br.Utf8EncodeWorker)),gr.createWorkerFrom(kr,Cr,Ar)},_decompressWorker:function(){return this._data instanceof gr?this._data.getContentWorker():this._data instanceof mr?this._data:new pr(this._data)}};for(var _r=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],Sr=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},yr=0;yr<_r.length;yr++)fr.prototype[_r[yr]]=Sr;or.exports=fr},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(ar,or,ur){(function(fr){var xr,pr,br=fr.MutationObserver||fr.WebKitMutationObserver;if(br){var gr=0,mr=new br(Cr),_r=fr.document.createTextNode("");mr.observe(_r,{characterData:!0}),xr=function(){_r.data=gr=++gr%2}}else if(fr.setImmediate||fr.MessageChannel===void 0)xr="document"in fr&&"onreadystatechange"in fr.document.createElement("script")?function(){var Ar=fr.document.createElement("script");Ar.onreadystatechange=function(){Cr(),Ar.onreadystatechange=null,Ar.parentNode.removeChild(Ar),Ar=null},fr.document.documentElement.appendChild(Ar)}:function(){setTimeout(Cr,0)};else{var Sr=new fr.MessageChannel;Sr.port1.onmessage=Cr,xr=function(){Sr.port2.postMessage(0)}}var yr=[];function Cr(){var Ar,kr;pr=!0;for(var Or=yr.length;Or;){for(kr=yr,yr=[],Ar=-1;++Ar<Or;)kr[Ar]();Or=yr.length}pr=!1}or.exports=function(Ar){yr.push(Ar)!==1||pr||xr()}}).call(this,typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(ar,or,ur){var fr=ar("immediate");function xr(){}var pr={},br=["REJECTED"],gr=["FULFILLED"],mr=["PENDING"];function _r(Or){if(typeof Or!="function")throw new TypeError("resolver must be a function");this.state=mr,this.queue=[],this.outcome=void 0,Or!==xr&&Ar(this,Or)}function Sr(Or,Dr,Rr){this.promise=Or,typeof Dr=="function"&&(this.onFulfilled=Dr,this.callFulfilled=this.otherCallFulfilled),typeof Rr=="function"&&(this.onRejected=Rr,this.callRejected=this.otherCallRejected)}function yr(Or,Dr,Rr){fr(function(){var Fr;try{Fr=Dr(Rr)}catch(Nr){return pr.reject(Or,Nr)}Fr===Or?pr.reject(Or,new TypeError("Cannot resolve promise with itself")):pr.resolve(Or,Fr)})}function Cr(Or){var Dr=Or&&Or.then;if(Or&&(typeof Or=="object"||typeof Or=="function")&&typeof Dr=="function")return function(){Dr.apply(Or,arguments)}}function Ar(Or,Dr){var Rr=!1;function Fr(jr){Rr||(Rr=!0,pr.reject(Or,jr))}function Nr(jr){Rr||(Rr=!0,pr.resolve(Or,jr))}var Hr=kr(function(){Dr(Nr,Fr)});Hr.status==="error"&&Fr(Hr.value)}function kr(Or,Dr){var Rr={};try{Rr.value=Or(Dr),Rr.status="success"}catch(Fr){Rr.status="error",Rr.value=Fr}return Rr}(or.exports=_r).prototype.finally=function(Or){if(typeof Or!="function")return this;var Dr=this.constructor;return this.then(function(Rr){return Dr.resolve(Or()).then(function(){return Rr})},function(Rr){return Dr.resolve(Or()).then(function(){throw Rr})})},_r.prototype.catch=function(Or){return this.then(null,Or)},_r.prototype.then=function(Or,Dr){if(typeof Or!="function"&&this.state===gr||typeof Dr!="function"&&this.state===br)return this;var Rr=new this.constructor(xr);return this.state!==mr?yr(Rr,this.state===gr?Or:Dr,this.outcome):this.queue.push(new Sr(Rr,Or,Dr)),Rr},Sr.prototype.callFulfilled=function(Or){pr.resolve(this.promise,Or)},Sr.prototype.otherCallFulfilled=function(Or){yr(this.promise,this.onFulfilled,Or)},Sr.prototype.callRejected=function(Or){pr.reject(this.promise,Or)},Sr.prototype.otherCallRejected=function(Or){yr(this.promise,this.onRejected,Or)},pr.resolve=function(Or,Dr){var Rr=kr(Cr,Dr);if(Rr.status==="error")return pr.reject(Or,Rr.value);var Fr=Rr.value;if(Fr)Ar(Or,Fr);else{Or.state=gr,Or.outcome=Dr;for(var Nr=-1,Hr=Or.queue.length;++Nr<Hr;)Or.queue[Nr].callFulfilled(Dr)}return Or},pr.reject=function(Or,Dr){Or.state=br,Or.outcome=Dr;for(var Rr=-1,Fr=Or.queue.length;++Rr<Fr;)Or.queue[Rr].callRejected(Dr);return Or},_r.resolve=function(Or){return Or instanceof this?Or:pr.resolve(new this(xr),Or)},_r.reject=function(Or){var Dr=new this(xr);return pr.reject(Dr,Or)},_r.all=function(Or){var Dr=this;if(Object.prototype.toString.call(Or)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Rr=Or.length,Fr=!1;if(!Rr)return this.resolve([]);for(var Nr=new Array(Rr),Hr=0,jr=-1,Jr=new this(xr);++jr<Rr;)Yr(Or[jr],jr);return Jr;function Yr(Ur,Zr){Dr.resolve(Ur).then(function(Wr){Nr[Zr]=Wr,++Hr!==Rr||Fr||(Fr=!0,pr.resolve(Jr,Nr))},function(Wr){Fr||(Fr=!0,pr.reject(Jr,Wr))})}},_r.race=function(Or){var Dr=this;if(Object.prototype.toString.call(Or)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Rr=Or.length,Fr=!1;if(!Rr)return this.resolve([]);for(var Nr=-1,Hr=new this(xr);++Nr<Rr;)jr=Or[Nr],Dr.resolve(jr).then(function(Jr){Fr||(Fr=!0,pr.resolve(Hr,Jr))},function(Jr){Fr||(Fr=!0,pr.reject(Hr,Jr))});var jr;return Hr}},{immediate:36}],38:[function(ar,or,ur){var fr={};(0,ar("./lib/utils/common").assign)(fr,ar("./lib/deflate"),ar("./lib/inflate"),ar("./lib/zlib/constants")),or.exports=fr},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(ar,or,ur){var fr=ar("./zlib/deflate"),xr=ar("./utils/common"),pr=ar("./utils/strings"),br=ar("./zlib/messages"),gr=ar("./zlib/zstream"),mr=Object.prototype.toString,_r=0,Sr=-1,yr=0,Cr=8;function Ar(Or){if(!(this instanceof Ar))return new Ar(Or);this.options=xr.assign({level:Sr,method:Cr,chunkSize:16384,windowBits:15,memLevel:8,strategy:yr,to:""},Or||{});var Dr=this.options;Dr.raw&&0<Dr.windowBits?Dr.windowBits=-Dr.windowBits:Dr.gzip&&0<Dr.windowBits&&Dr.windowBits<16&&(Dr.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new gr,this.strm.avail_out=0;var Rr=fr.deflateInit2(this.strm,Dr.level,Dr.method,Dr.windowBits,Dr.memLevel,Dr.strategy);if(Rr!==_r)throw new Error(br[Rr]);if(Dr.header&&fr.deflateSetHeader(this.strm,Dr.header),Dr.dictionary){var Fr;if(Fr=typeof Dr.dictionary=="string"?pr.string2buf(Dr.dictionary):mr.call(Dr.dictionary)==="[object ArrayBuffer]"?new Uint8Array(Dr.dictionary):Dr.dictionary,(Rr=fr.deflateSetDictionary(this.strm,Fr))!==_r)throw new Error(br[Rr]);this._dict_set=!0}}function kr(Or,Dr){var Rr=new Ar(Dr);if(Rr.push(Or,!0),Rr.err)throw Rr.msg||br[Rr.err];return Rr.result}Ar.prototype.push=function(Or,Dr){var Rr,Fr,Nr=this.strm,Hr=this.options.chunkSize;if(this.ended)return!1;Fr=Dr===~~Dr?Dr:Dr===!0?4:0,typeof Or=="string"?Nr.input=pr.string2buf(Or):mr.call(Or)==="[object ArrayBuffer]"?Nr.input=new Uint8Array(Or):Nr.input=Or,Nr.next_in=0,Nr.avail_in=Nr.input.length;do{if(Nr.avail_out===0&&(Nr.output=new xr.Buf8(Hr),Nr.next_out=0,Nr.avail_out=Hr),(Rr=fr.deflate(Nr,Fr))!==1&&Rr!==_r)return this.onEnd(Rr),!(this.ended=!0);Nr.avail_out!==0&&(Nr.avail_in!==0||Fr!==4&&Fr!==2)||(this.options.to==="string"?this.onData(pr.buf2binstring(xr.shrinkBuf(Nr.output,Nr.next_out))):this.onData(xr.shrinkBuf(Nr.output,Nr.next_out)))}while((0<Nr.avail_in||Nr.avail_out===0)&&Rr!==1);return Fr===4?(Rr=fr.deflateEnd(this.strm),this.onEnd(Rr),this.ended=!0,Rr===_r):Fr!==2||(this.onEnd(_r),!(Nr.avail_out=0))},Ar.prototype.onData=function(Or){this.chunks.push(Or)},Ar.prototype.onEnd=function(Or){Or===_r&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=xr.flattenChunks(this.chunks)),this.chunks=[],this.err=Or,this.msg=this.strm.msg},ur.Deflate=Ar,ur.deflate=kr,ur.deflateRaw=function(Or,Dr){return(Dr=Dr||{}).raw=!0,kr(Or,Dr)},ur.gzip=function(Or,Dr){return(Dr=Dr||{}).gzip=!0,kr(Or,Dr)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(ar,or,ur){var fr=ar("./zlib/inflate"),xr=ar("./utils/common"),pr=ar("./utils/strings"),br=ar("./zlib/constants"),gr=ar("./zlib/messages"),mr=ar("./zlib/zstream"),_r=ar("./zlib/gzheader"),Sr=Object.prototype.toString;function yr(Ar){if(!(this instanceof yr))return new yr(Ar);this.options=xr.assign({chunkSize:16384,windowBits:0,to:""},Ar||{});var kr=this.options;kr.raw&&0<=kr.windowBits&&kr.windowBits<16&&(kr.windowBits=-kr.windowBits,kr.windowBits===0&&(kr.windowBits=-15)),!(0<=kr.windowBits&&kr.windowBits<16)||Ar&&Ar.windowBits||(kr.windowBits+=32),15<kr.windowBits&&kr.windowBits<48&&!(15&kr.windowBits)&&(kr.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new mr,this.strm.avail_out=0;var Or=fr.inflateInit2(this.strm,kr.windowBits);if(Or!==br.Z_OK)throw new Error(gr[Or]);this.header=new _r,fr.inflateGetHeader(this.strm,this.header)}function Cr(Ar,kr){var Or=new yr(kr);if(Or.push(Ar,!0),Or.err)throw Or.msg||gr[Or.err];return Or.result}yr.prototype.push=function(Ar,kr){var Or,Dr,Rr,Fr,Nr,Hr,jr=this.strm,Jr=this.options.chunkSize,Yr=this.options.dictionary,Ur=!1;if(this.ended)return!1;Dr=kr===~~kr?kr:kr===!0?br.Z_FINISH:br.Z_NO_FLUSH,typeof Ar=="string"?jr.input=pr.binstring2buf(Ar):Sr.call(Ar)==="[object ArrayBuffer]"?jr.input=new Uint8Array(Ar):jr.input=Ar,jr.next_in=0,jr.avail_in=jr.input.length;do{if(jr.avail_out===0&&(jr.output=new xr.Buf8(Jr),jr.next_out=0,jr.avail_out=Jr),(Or=fr.inflate(jr,br.Z_NO_FLUSH))===br.Z_NEED_DICT&&Yr&&(Hr=typeof Yr=="string"?pr.string2buf(Yr):Sr.call(Yr)==="[object ArrayBuffer]"?new Uint8Array(Yr):Yr,Or=fr.inflateSetDictionary(this.strm,Hr)),Or===br.Z_BUF_ERROR&&Ur===!0&&(Or=br.Z_OK,Ur=!1),Or!==br.Z_STREAM_END&&Or!==br.Z_OK)return this.onEnd(Or),!(this.ended=!0);jr.next_out&&(jr.avail_out!==0&&Or!==br.Z_STREAM_END&&(jr.avail_in!==0||Dr!==br.Z_FINISH&&Dr!==br.Z_SYNC_FLUSH)||(this.options.to==="string"?(Rr=pr.utf8border(jr.output,jr.next_out),Fr=jr.next_out-Rr,Nr=pr.buf2string(jr.output,Rr),jr.next_out=Fr,jr.avail_out=Jr-Fr,Fr&&xr.arraySet(jr.output,jr.output,Rr,Fr,0),this.onData(Nr)):this.onData(xr.shrinkBuf(jr.output,jr.next_out)))),jr.avail_in===0&&jr.avail_out===0&&(Ur=!0)}while((0<jr.avail_in||jr.avail_out===0)&&Or!==br.Z_STREAM_END);return Or===br.Z_STREAM_END&&(Dr=br.Z_FINISH),Dr===br.Z_FINISH?(Or=fr.inflateEnd(this.strm),this.onEnd(Or),this.ended=!0,Or===br.Z_OK):Dr!==br.Z_SYNC_FLUSH||(this.onEnd(br.Z_OK),!(jr.avail_out=0))},yr.prototype.onData=function(Ar){this.chunks.push(Ar)},yr.prototype.onEnd=function(Ar){Ar===br.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=xr.flattenChunks(this.chunks)),this.chunks=[],this.err=Ar,this.msg=this.strm.msg},ur.Inflate=yr,ur.inflate=Cr,ur.inflateRaw=function(Ar,kr){return(kr=kr||{}).raw=!0,Cr(Ar,kr)},ur.ungzip=Cr},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(ar,or,ur){var fr=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";ur.assign=function(br){for(var gr=Array.prototype.slice.call(arguments,1);gr.length;){var mr=gr.shift();if(mr){if(typeof mr!="object")throw new TypeError(mr+"must be non-object");for(var _r in mr)mr.hasOwnProperty(_r)&&(br[_r]=mr[_r])}}return br},ur.shrinkBuf=function(br,gr){return br.length===gr?br:br.subarray?br.subarray(0,gr):(br.length=gr,br)};var xr={arraySet:function(br,gr,mr,_r,Sr){if(gr.subarray&&br.subarray)br.set(gr.subarray(mr,mr+_r),Sr);else for(var yr=0;yr<_r;yr++)br[Sr+yr]=gr[mr+yr]},flattenChunks:function(br){var gr,mr,_r,Sr,yr,Cr;for(gr=_r=0,mr=br.length;gr<mr;gr++)_r+=br[gr].length;for(Cr=new Uint8Array(_r),gr=Sr=0,mr=br.length;gr<mr;gr++)yr=br[gr],Cr.set(yr,Sr),Sr+=yr.length;return Cr}},pr={arraySet:function(br,gr,mr,_r,Sr){for(var yr=0;yr<_r;yr++)br[Sr+yr]=gr[mr+yr]},flattenChunks:function(br){return[].concat.apply([],br)}};ur.setTyped=function(br){br?(ur.Buf8=Uint8Array,ur.Buf16=Uint16Array,ur.Buf32=Int32Array,ur.assign(ur,xr)):(ur.Buf8=Array,ur.Buf16=Array,ur.Buf32=Array,ur.assign(ur,pr))},ur.setTyped(fr)},{}],42:[function(ar,or,ur){var fr=ar("./common"),xr=!0,pr=!0;try{String.fromCharCode.apply(null,[0])}catch{xr=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{pr=!1}for(var br=new fr.Buf8(256),gr=0;gr<256;gr++)br[gr]=252<=gr?6:248<=gr?5:240<=gr?4:224<=gr?3:192<=gr?2:1;function mr(_r,Sr){if(Sr<65537&&(_r.subarray&&pr||!_r.subarray&&xr))return String.fromCharCode.apply(null,fr.shrinkBuf(_r,Sr));for(var yr="",Cr=0;Cr<Sr;Cr++)yr+=String.fromCharCode(_r[Cr]);return yr}br[254]=br[254]=1,ur.string2buf=function(_r){var Sr,yr,Cr,Ar,kr,Or=_r.length,Dr=0;for(Ar=0;Ar<Or;Ar++)(64512&(yr=_r.charCodeAt(Ar)))==55296&&Ar+1<Or&&(64512&(Cr=_r.charCodeAt(Ar+1)))==56320&&(yr=65536+(yr-55296<<10)+(Cr-56320),Ar++),Dr+=yr<128?1:yr<2048?2:yr<65536?3:4;for(Sr=new fr.Buf8(Dr),Ar=kr=0;kr<Dr;Ar++)(64512&(yr=_r.charCodeAt(Ar)))==55296&&Ar+1<Or&&(64512&(Cr=_r.charCodeAt(Ar+1)))==56320&&(yr=65536+(yr-55296<<10)+(Cr-56320),Ar++),yr<128?Sr[kr++]=yr:(yr<2048?Sr[kr++]=192|yr>>>6:(yr<65536?Sr[kr++]=224|yr>>>12:(Sr[kr++]=240|yr>>>18,Sr[kr++]=128|yr>>>12&63),Sr[kr++]=128|yr>>>6&63),Sr[kr++]=128|63&yr);return Sr},ur.buf2binstring=function(_r){return mr(_r,_r.length)},ur.binstring2buf=function(_r){for(var Sr=new fr.Buf8(_r.length),yr=0,Cr=Sr.length;yr<Cr;yr++)Sr[yr]=_r.charCodeAt(yr);return Sr},ur.buf2string=function(_r,Sr){var yr,Cr,Ar,kr,Or=Sr||_r.length,Dr=new Array(2*Or);for(yr=Cr=0;yr<Or;)if((Ar=_r[yr++])<128)Dr[Cr++]=Ar;else if(4<(kr=br[Ar]))Dr[Cr++]=65533,yr+=kr-1;else{for(Ar&=kr===2?31:kr===3?15:7;1<kr&&yr<Or;)Ar=Ar<<6|63&_r[yr++],kr--;1<kr?Dr[Cr++]=65533:Ar<65536?Dr[Cr++]=Ar:(Ar-=65536,Dr[Cr++]=55296|Ar>>10&1023,Dr[Cr++]=56320|1023&Ar)}return mr(Dr,Cr)},ur.utf8border=function(_r,Sr){var yr;for((Sr=Sr||_r.length)>_r.length&&(Sr=_r.length),yr=Sr-1;0<=yr&&(192&_r[yr])==128;)yr--;return yr<0||yr===0?Sr:yr+br[_r[yr]]>Sr?yr:Sr}},{"./common":41}],43:[function(ar,or,ur){or.exports=function(fr,xr,pr,br){for(var gr=65535&fr|0,mr=fr>>>16&65535|0,_r=0;pr!==0;){for(pr-=_r=2e3<pr?2e3:pr;mr=mr+(gr=gr+xr[br++]|0)|0,--_r;);gr%=65521,mr%=65521}return gr|mr<<16|0}},{}],44:[function(ar,or,ur){or.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(ar,or,ur){var fr=function(){for(var xr,pr=[],br=0;br<256;br++){xr=br;for(var gr=0;gr<8;gr++)xr=1&xr?3988292384^xr>>>1:xr>>>1;pr[br]=xr}return pr}();or.exports=function(xr,pr,br,gr){var mr=fr,_r=gr+br;xr^=-1;for(var Sr=gr;Sr<_r;Sr++)xr=xr>>>8^mr[255&(xr^pr[Sr])];return-1^xr}},{}],46:[function(ar,or,ur){var fr,xr=ar("../utils/common"),pr=ar("./trees"),br=ar("./adler32"),gr=ar("./crc32"),mr=ar("./messages"),_r=0,Sr=4,yr=0,Cr=-2,Ar=-1,kr=4,Or=2,Dr=8,Rr=9,Fr=286,Nr=30,Hr=19,jr=2*Fr+1,Jr=15,Yr=3,Ur=258,Zr=Ur+Yr+1,Wr=42,ni=113,Lr=1,hi=2,Ei=3,_i=4;function Fi(Mr,di){return Mr.msg=mr[di],di}function si(Mr){return(Mr<<1)-(4<Mr?9:0)}function ci(Mr){for(var di=Mr.length;0<=--di;)Mr[di]=0}function $r(Mr){var di=Mr.state,gi=di.pending;gi>Mr.avail_out&&(gi=Mr.avail_out),gi!==0&&(xr.arraySet(Mr.output,di.pending_buf,di.pending_out,gi,Mr.next_out),Mr.next_out+=gi,di.pending_out+=gi,Mr.total_out+=gi,Mr.avail_out-=gi,di.pending-=gi,di.pending===0&&(di.pending_out=0))}function ei(Mr,di){pr._tr_flush_block(Mr,0<=Mr.block_start?Mr.block_start:-1,Mr.strstart-Mr.block_start,di),Mr.block_start=Mr.strstart,$r(Mr.strm)}function pi(Mr,di){Mr.pending_buf[Mr.pending++]=di}function ui(Mr,di){Mr.pending_buf[Mr.pending++]=di>>>8&255,Mr.pending_buf[Mr.pending++]=255&di}function bi(Mr,di){var gi,ti,ri=Mr.max_chain_length,xi=Mr.strstart,Ai=Mr.prev_length,Kr=Mr.nice_match,Pr=Mr.strstart>Mr.w_size-Zr?Mr.strstart-(Mr.w_size-Zr):0,qr=Mr.window,Qr=Mr.w_mask,ai=Mr.prev,fi=Mr.strstart+Ur,vi=qr[xi+Ai-1],Ri=qr[xi+Ai];Mr.prev_length>=Mr.good_match&&(ri>>=2),Kr>Mr.lookahead&&(Kr=Mr.lookahead);do if(qr[(gi=di)+Ai]===Ri&&qr[gi+Ai-1]===vi&&qr[gi]===qr[xi]&&qr[++gi]===qr[xi+1]){xi+=2,gi++;do;while(qr[++xi]===qr[++gi]&&qr[++xi]===qr[++gi]&&qr[++xi]===qr[++gi]&&qr[++xi]===qr[++gi]&&qr[++xi]===qr[++gi]&&qr[++xi]===qr[++gi]&&qr[++xi]===qr[++gi]&&qr[++xi]===qr[++gi]&&xi<fi);if(ti=Ur-(fi-xi),xi=fi-Ur,Ai<ti){if(Mr.match_start=di,Kr<=(Ai=ti))break;vi=qr[xi+Ai-1],Ri=qr[xi+Ai]}}while((di=ai[di&Qr])>Pr&&--ri!=0);return Ai<=Mr.lookahead?Ai:Mr.lookahead}function qi(Mr){var di,gi,ti,ri,xi,Ai,Kr,Pr,qr,Qr,ai=Mr.w_size;do{if(ri=Mr.window_size-Mr.lookahead-Mr.strstart,Mr.strstart>=ai+(ai-Zr)){for(xr.arraySet(Mr.window,Mr.window,ai,ai,0),Mr.match_start-=ai,Mr.strstart-=ai,Mr.block_start-=ai,di=gi=Mr.hash_size;ti=Mr.head[--di],Mr.head[di]=ai<=ti?ti-ai:0,--gi;);for(di=gi=ai;ti=Mr.prev[--di],Mr.prev[di]=ai<=ti?ti-ai:0,--gi;);ri+=ai}if(Mr.strm.avail_in===0)break;if(Ai=Mr.strm,Kr=Mr.window,Pr=Mr.strstart+Mr.lookahead,qr=ri,Qr=void 0,Qr=Ai.avail_in,qr<Qr&&(Qr=qr),gi=Qr===0?0:(Ai.avail_in-=Qr,xr.arraySet(Kr,Ai.input,Ai.next_in,Qr,Pr),Ai.state.wrap===1?Ai.adler=br(Ai.adler,Kr,Qr,Pr):Ai.state.wrap===2&&(Ai.adler=gr(Ai.adler,Kr,Qr,Pr)),Ai.next_in+=Qr,Ai.total_in+=Qr,Qr),Mr.lookahead+=gi,Mr.lookahead+Mr.insert>=Yr)for(xi=Mr.strstart-Mr.insert,Mr.ins_h=Mr.window[xi],Mr.ins_h=(Mr.ins_h<<Mr.hash_shift^Mr.window[xi+1])&Mr.hash_mask;Mr.insert&&(Mr.ins_h=(Mr.ins_h<<Mr.hash_shift^Mr.window[xi+Yr-1])&Mr.hash_mask,Mr.prev[xi&Mr.w_mask]=Mr.head[Mr.ins_h],Mr.head[Mr.ins_h]=xi,xi++,Mr.insert--,!(Mr.lookahead+Mr.insert<Yr)););}while(Mr.lookahead<Zr&&Mr.strm.avail_in!==0)}function Ki(Mr,di){for(var gi,ti;;){if(Mr.lookahead<Zr){if(qi(Mr),Mr.lookahead<Zr&&di===_r)return Lr;if(Mr.lookahead===0)break}if(gi=0,Mr.lookahead>=Yr&&(Mr.ins_h=(Mr.ins_h<<Mr.hash_shift^Mr.window[Mr.strstart+Yr-1])&Mr.hash_mask,gi=Mr.prev[Mr.strstart&Mr.w_mask]=Mr.head[Mr.ins_h],Mr.head[Mr.ins_h]=Mr.strstart),gi!==0&&Mr.strstart-gi<=Mr.w_size-Zr&&(Mr.match_length=bi(Mr,gi)),Mr.match_length>=Yr)if(ti=pr._tr_tally(Mr,Mr.strstart-Mr.match_start,Mr.match_length-Yr),Mr.lookahead-=Mr.match_length,Mr.match_length<=Mr.max_lazy_match&&Mr.lookahead>=Yr){for(Mr.match_length--;Mr.strstart++,Mr.ins_h=(Mr.ins_h<<Mr.hash_shift^Mr.window[Mr.strstart+Yr-1])&Mr.hash_mask,gi=Mr.prev[Mr.strstart&Mr.w_mask]=Mr.head[Mr.ins_h],Mr.head[Mr.ins_h]=Mr.strstart,--Mr.match_length!=0;);Mr.strstart++}else Mr.strstart+=Mr.match_length,Mr.match_length=0,Mr.ins_h=Mr.window[Mr.strstart],Mr.ins_h=(Mr.ins_h<<Mr.hash_shift^Mr.window[Mr.strstart+1])&Mr.hash_mask;else ti=pr._tr_tally(Mr,0,Mr.window[Mr.strstart]),Mr.lookahead--,Mr.strstart++;if(ti&&(ei(Mr,!1),Mr.strm.avail_out===0))return Lr}return Mr.insert=Mr.strstart<Yr-1?Mr.strstart:Yr-1,di===Sr?(ei(Mr,!0),Mr.strm.avail_out===0?Ei:_i):Mr.last_lit&&(ei(Mr,!1),Mr.strm.avail_out===0)?Lr:hi}function Ti(Mr,di){for(var gi,ti,ri;;){if(Mr.lookahead<Zr){if(qi(Mr),Mr.lookahead<Zr&&di===_r)return Lr;if(Mr.lookahead===0)break}if(gi=0,Mr.lookahead>=Yr&&(Mr.ins_h=(Mr.ins_h<<Mr.hash_shift^Mr.window[Mr.strstart+Yr-1])&Mr.hash_mask,gi=Mr.prev[Mr.strstart&Mr.w_mask]=Mr.head[Mr.ins_h],Mr.head[Mr.ins_h]=Mr.strstart),Mr.prev_length=Mr.match_length,Mr.prev_match=Mr.match_start,Mr.match_length=Yr-1,gi!==0&&Mr.prev_length<Mr.max_lazy_match&&Mr.strstart-gi<=Mr.w_size-Zr&&(Mr.match_length=bi(Mr,gi),Mr.match_length<=5&&(Mr.strategy===1||Mr.match_length===Yr&&4096<Mr.strstart-Mr.match_start)&&(Mr.match_length=Yr-1)),Mr.prev_length>=Yr&&Mr.match_length<=Mr.prev_length){for(ri=Mr.strstart+Mr.lookahead-Yr,ti=pr._tr_tally(Mr,Mr.strstart-1-Mr.prev_match,Mr.prev_length-Yr),Mr.lookahead-=Mr.prev_length-1,Mr.prev_length-=2;++Mr.strstart<=ri&&(Mr.ins_h=(Mr.ins_h<<Mr.hash_shift^Mr.window[Mr.strstart+Yr-1])&Mr.hash_mask,gi=Mr.prev[Mr.strstart&Mr.w_mask]=Mr.head[Mr.ins_h],Mr.head[Mr.ins_h]=Mr.strstart),--Mr.prev_length!=0;);if(Mr.match_available=0,Mr.match_length=Yr-1,Mr.strstart++,ti&&(ei(Mr,!1),Mr.strm.avail_out===0))return Lr}else if(Mr.match_available){if((ti=pr._tr_tally(Mr,0,Mr.window[Mr.strstart-1]))&&ei(Mr,!1),Mr.strstart++,Mr.lookahead--,Mr.strm.avail_out===0)return Lr}else Mr.match_available=1,Mr.strstart++,Mr.lookahead--}return Mr.match_available&&(ti=pr._tr_tally(Mr,0,Mr.window[Mr.strstart-1]),Mr.match_available=0),Mr.insert=Mr.strstart<Yr-1?Mr.strstart:Yr-1,di===Sr?(ei(Mr,!0),Mr.strm.avail_out===0?Ei:_i):Mr.last_lit&&(ei(Mr,!1),Mr.strm.avail_out===0)?Lr:hi}function ii(Mr,di,gi,ti,ri){this.good_length=Mr,this.max_lazy=di,this.nice_length=gi,this.max_chain=ti,this.func=ri}function oi(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Dr,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new xr.Buf16(2*jr),this.dyn_dtree=new xr.Buf16(2*(2*Nr+1)),this.bl_tree=new xr.Buf16(2*(2*Hr+1)),ci(this.dyn_ltree),ci(this.dyn_dtree),ci(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new xr.Buf16(Jr+1),this.heap=new xr.Buf16(2*Fr+1),ci(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new xr.Buf16(2*Fr+1),ci(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Si(Mr){var di;return Mr&&Mr.state?(Mr.total_in=Mr.total_out=0,Mr.data_type=Or,(di=Mr.state).pending=0,di.pending_out=0,di.wrap<0&&(di.wrap=-di.wrap),di.status=di.wrap?Wr:ni,Mr.adler=di.wrap===2?0:1,di.last_flush=_r,pr._tr_init(di),yr):Fi(Mr,Cr)}function Di(Mr){var di=Si(Mr);return di===yr&&function(gi){gi.window_size=2*gi.w_size,ci(gi.head),gi.max_lazy_match=fr[gi.level].max_lazy,gi.good_match=fr[gi.level].good_length,gi.nice_match=fr[gi.level].nice_length,gi.max_chain_length=fr[gi.level].max_chain,gi.strstart=0,gi.block_start=0,gi.lookahead=0,gi.insert=0,gi.match_length=gi.prev_length=Yr-1,gi.match_available=0,gi.ins_h=0}(Mr.state),di}function Mi(Mr,di,gi,ti,ri,xi){if(!Mr)return Cr;var Ai=1;if(di===Ar&&(di=6),ti<0?(Ai=0,ti=-ti):15<ti&&(Ai=2,ti-=16),ri<1||Rr<ri||gi!==Dr||ti<8||15<ti||di<0||9<di||xi<0||kr<xi)return Fi(Mr,Cr);ti===8&&(ti=9);var Kr=new oi;return(Mr.state=Kr).strm=Mr,Kr.wrap=Ai,Kr.gzhead=null,Kr.w_bits=ti,Kr.w_size=1<<Kr.w_bits,Kr.w_mask=Kr.w_size-1,Kr.hash_bits=ri+7,Kr.hash_size=1<<Kr.hash_bits,Kr.hash_mask=Kr.hash_size-1,Kr.hash_shift=~~((Kr.hash_bits+Yr-1)/Yr),Kr.window=new xr.Buf8(2*Kr.w_size),Kr.head=new xr.Buf16(Kr.hash_size),Kr.prev=new xr.Buf16(Kr.w_size),Kr.lit_bufsize=1<<ri+6,Kr.pending_buf_size=4*Kr.lit_bufsize,Kr.pending_buf=new xr.Buf8(Kr.pending_buf_size),Kr.d_buf=1*Kr.lit_bufsize,Kr.l_buf=3*Kr.lit_bufsize,Kr.level=di,Kr.strategy=xi,Kr.method=gi,Di(Mr)}fr=[new ii(0,0,0,0,function(Mr,di){var gi=65535;for(gi>Mr.pending_buf_size-5&&(gi=Mr.pending_buf_size-5);;){if(Mr.lookahead<=1){if(qi(Mr),Mr.lookahead===0&&di===_r)return Lr;if(Mr.lookahead===0)break}Mr.strstart+=Mr.lookahead,Mr.lookahead=0;var ti=Mr.block_start+gi;if((Mr.strstart===0||Mr.strstart>=ti)&&(Mr.lookahead=Mr.strstart-ti,Mr.strstart=ti,ei(Mr,!1),Mr.strm.avail_out===0)||Mr.strstart-Mr.block_start>=Mr.w_size-Zr&&(ei(Mr,!1),Mr.strm.avail_out===0))return Lr}return Mr.insert=0,di===Sr?(ei(Mr,!0),Mr.strm.avail_out===0?Ei:_i):(Mr.strstart>Mr.block_start&&(ei(Mr,!1),Mr.strm.avail_out),Lr)}),new ii(4,4,8,4,Ki),new ii(4,5,16,8,Ki),new ii(4,6,32,32,Ki),new ii(4,4,16,16,Ti),new ii(8,16,32,32,Ti),new ii(8,16,128,128,Ti),new ii(8,32,128,256,Ti),new ii(32,128,258,1024,Ti),new ii(32,258,258,4096,Ti)],ur.deflateInit=function(Mr,di){return Mi(Mr,di,Dr,15,8,0)},ur.deflateInit2=Mi,ur.deflateReset=Di,ur.deflateResetKeep=Si,ur.deflateSetHeader=function(Mr,di){return Mr&&Mr.state?Mr.state.wrap!==2?Cr:(Mr.state.gzhead=di,yr):Cr},ur.deflate=function(Mr,di){var gi,ti,ri,xi;if(!Mr||!Mr.state||5<di||di<0)return Mr?Fi(Mr,Cr):Cr;if(ti=Mr.state,!Mr.output||!Mr.input&&Mr.avail_in!==0||ti.status===666&&di!==Sr)return Fi(Mr,Mr.avail_out===0?-5:Cr);if(ti.strm=Mr,gi=ti.last_flush,ti.last_flush=di,ti.status===Wr)if(ti.wrap===2)Mr.adler=0,pi(ti,31),pi(ti,139),pi(ti,8),ti.gzhead?(pi(ti,(ti.gzhead.text?1:0)+(ti.gzhead.hcrc?2:0)+(ti.gzhead.extra?4:0)+(ti.gzhead.name?8:0)+(ti.gzhead.comment?16:0)),pi(ti,255&ti.gzhead.time),pi(ti,ti.gzhead.time>>8&255),pi(ti,ti.gzhead.time>>16&255),pi(ti,ti.gzhead.time>>24&255),pi(ti,ti.level===9?2:2<=ti.strategy||ti.level<2?4:0),pi(ti,255&ti.gzhead.os),ti.gzhead.extra&&ti.gzhead.extra.length&&(pi(ti,255&ti.gzhead.extra.length),pi(ti,ti.gzhead.extra.length>>8&255)),ti.gzhead.hcrc&&(Mr.adler=gr(Mr.adler,ti.pending_buf,ti.pending,0)),ti.gzindex=0,ti.status=69):(pi(ti,0),pi(ti,0),pi(ti,0),pi(ti,0),pi(ti,0),pi(ti,ti.level===9?2:2<=ti.strategy||ti.level<2?4:0),pi(ti,3),ti.status=ni);else{var Ai=Dr+(ti.w_bits-8<<4)<<8;Ai|=(2<=ti.strategy||ti.level<2?0:ti.level<6?1:ti.level===6?2:3)<<6,ti.strstart!==0&&(Ai|=32),Ai+=31-Ai%31,ti.status=ni,ui(ti,Ai),ti.strstart!==0&&(ui(ti,Mr.adler>>>16),ui(ti,65535&Mr.adler)),Mr.adler=1}if(ti.status===69)if(ti.gzhead.extra){for(ri=ti.pending;ti.gzindex<(65535&ti.gzhead.extra.length)&&(ti.pending!==ti.pending_buf_size||(ti.gzhead.hcrc&&ti.pending>ri&&(Mr.adler=gr(Mr.adler,ti.pending_buf,ti.pending-ri,ri)),$r(Mr),ri=ti.pending,ti.pending!==ti.pending_buf_size));)pi(ti,255&ti.gzhead.extra[ti.gzindex]),ti.gzindex++;ti.gzhead.hcrc&&ti.pending>ri&&(Mr.adler=gr(Mr.adler,ti.pending_buf,ti.pending-ri,ri)),ti.gzindex===ti.gzhead.extra.length&&(ti.gzindex=0,ti.status=73)}else ti.status=73;if(ti.status===73)if(ti.gzhead.name){ri=ti.pending;do{if(ti.pending===ti.pending_buf_size&&(ti.gzhead.hcrc&&ti.pending>ri&&(Mr.adler=gr(Mr.adler,ti.pending_buf,ti.pending-ri,ri)),$r(Mr),ri=ti.pending,ti.pending===ti.pending_buf_size)){xi=1;break}xi=ti.gzindex<ti.gzhead.name.length?255&ti.gzhead.name.charCodeAt(ti.gzindex++):0,pi(ti,xi)}while(xi!==0);ti.gzhead.hcrc&&ti.pending>ri&&(Mr.adler=gr(Mr.adler,ti.pending_buf,ti.pending-ri,ri)),xi===0&&(ti.gzindex=0,ti.status=91)}else ti.status=91;if(ti.status===91)if(ti.gzhead.comment){ri=ti.pending;do{if(ti.pending===ti.pending_buf_size&&(ti.gzhead.hcrc&&ti.pending>ri&&(Mr.adler=gr(Mr.adler,ti.pending_buf,ti.pending-ri,ri)),$r(Mr),ri=ti.pending,ti.pending===ti.pending_buf_size)){xi=1;break}xi=ti.gzindex<ti.gzhead.comment.length?255&ti.gzhead.comment.charCodeAt(ti.gzindex++):0,pi(ti,xi)}while(xi!==0);ti.gzhead.hcrc&&ti.pending>ri&&(Mr.adler=gr(Mr.adler,ti.pending_buf,ti.pending-ri,ri)),xi===0&&(ti.status=103)}else ti.status=103;if(ti.status===103&&(ti.gzhead.hcrc?(ti.pending+2>ti.pending_buf_size&&$r(Mr),ti.pending+2<=ti.pending_buf_size&&(pi(ti,255&Mr.adler),pi(ti,Mr.adler>>8&255),Mr.adler=0,ti.status=ni)):ti.status=ni),ti.pending!==0){if($r(Mr),Mr.avail_out===0)return ti.last_flush=-1,yr}else if(Mr.avail_in===0&&si(di)<=si(gi)&&di!==Sr)return Fi(Mr,-5);if(ti.status===666&&Mr.avail_in!==0)return Fi(Mr,-5);if(Mr.avail_in!==0||ti.lookahead!==0||di!==_r&&ti.status!==666){var Kr=ti.strategy===2?function(Pr,qr){for(var Qr;;){if(Pr.lookahead===0&&(qi(Pr),Pr.lookahead===0)){if(qr===_r)return Lr;break}if(Pr.match_length=0,Qr=pr._tr_tally(Pr,0,Pr.window[Pr.strstart]),Pr.lookahead--,Pr.strstart++,Qr&&(ei(Pr,!1),Pr.strm.avail_out===0))return Lr}return Pr.insert=0,qr===Sr?(ei(Pr,!0),Pr.strm.avail_out===0?Ei:_i):Pr.last_lit&&(ei(Pr,!1),Pr.strm.avail_out===0)?Lr:hi}(ti,di):ti.strategy===3?function(Pr,qr){for(var Qr,ai,fi,vi,Ri=Pr.window;;){if(Pr.lookahead<=Ur){if(qi(Pr),Pr.lookahead<=Ur&&qr===_r)return Lr;if(Pr.lookahead===0)break}if(Pr.match_length=0,Pr.lookahead>=Yr&&0<Pr.strstart&&(ai=Ri[fi=Pr.strstart-1])===Ri[++fi]&&ai===Ri[++fi]&&ai===Ri[++fi]){vi=Pr.strstart+Ur;do;while(ai===Ri[++fi]&&ai===Ri[++fi]&&ai===Ri[++fi]&&ai===Ri[++fi]&&ai===Ri[++fi]&&ai===Ri[++fi]&&ai===Ri[++fi]&&ai===Ri[++fi]&&fi<vi);Pr.match_length=Ur-(vi-fi),Pr.match_length>Pr.lookahead&&(Pr.match_length=Pr.lookahead)}if(Pr.match_length>=Yr?(Qr=pr._tr_tally(Pr,1,Pr.match_length-Yr),Pr.lookahead-=Pr.match_length,Pr.strstart+=Pr.match_length,Pr.match_length=0):(Qr=pr._tr_tally(Pr,0,Pr.window[Pr.strstart]),Pr.lookahead--,Pr.strstart++),Qr&&(ei(Pr,!1),Pr.strm.avail_out===0))return Lr}return Pr.insert=0,qr===Sr?(ei(Pr,!0),Pr.strm.avail_out===0?Ei:_i):Pr.last_lit&&(ei(Pr,!1),Pr.strm.avail_out===0)?Lr:hi}(ti,di):fr[ti.level].func(ti,di);if(Kr!==Ei&&Kr!==_i||(ti.status=666),Kr===Lr||Kr===Ei)return Mr.avail_out===0&&(ti.last_flush=-1),yr;if(Kr===hi&&(di===1?pr._tr_align(ti):di!==5&&(pr._tr_stored_block(ti,0,0,!1),di===3&&(ci(ti.head),ti.lookahead===0&&(ti.strstart=0,ti.block_start=0,ti.insert=0))),$r(Mr),Mr.avail_out===0))return ti.last_flush=-1,yr}return di!==Sr?yr:ti.wrap<=0?1:(ti.wrap===2?(pi(ti,255&Mr.adler),pi(ti,Mr.adler>>8&255),pi(ti,Mr.adler>>16&255),pi(ti,Mr.adler>>24&255),pi(ti,255&Mr.total_in),pi(ti,Mr.total_in>>8&255),pi(ti,Mr.total_in>>16&255),pi(ti,Mr.total_in>>24&255)):(ui(ti,Mr.adler>>>16),ui(ti,65535&Mr.adler)),$r(Mr),0<ti.wrap&&(ti.wrap=-ti.wrap),ti.pending!==0?yr:1)},ur.deflateEnd=function(Mr){var di;return Mr&&Mr.state?(di=Mr.state.status)!==Wr&&di!==69&&di!==73&&di!==91&&di!==103&&di!==ni&&di!==666?Fi(Mr,Cr):(Mr.state=null,di===ni?Fi(Mr,-3):yr):Cr},ur.deflateSetDictionary=function(Mr,di){var gi,ti,ri,xi,Ai,Kr,Pr,qr,Qr=di.length;if(!Mr||!Mr.state||(xi=(gi=Mr.state).wrap)===2||xi===1&&gi.status!==Wr||gi.lookahead)return Cr;for(xi===1&&(Mr.adler=br(Mr.adler,di,Qr,0)),gi.wrap=0,Qr>=gi.w_size&&(xi===0&&(ci(gi.head),gi.strstart=0,gi.block_start=0,gi.insert=0),qr=new xr.Buf8(gi.w_size),xr.arraySet(qr,di,Qr-gi.w_size,gi.w_size,0),di=qr,Qr=gi.w_size),Ai=Mr.avail_in,Kr=Mr.next_in,Pr=Mr.input,Mr.avail_in=Qr,Mr.next_in=0,Mr.input=di,qi(gi);gi.lookahead>=Yr;){for(ti=gi.strstart,ri=gi.lookahead-(Yr-1);gi.ins_h=(gi.ins_h<<gi.hash_shift^gi.window[ti+Yr-1])&gi.hash_mask,gi.prev[ti&gi.w_mask]=gi.head[gi.ins_h],gi.head[gi.ins_h]=ti,ti++,--ri;);gi.strstart=ti,gi.lookahead=Yr-1,qi(gi)}return gi.strstart+=gi.lookahead,gi.block_start=gi.strstart,gi.insert=gi.lookahead,gi.lookahead=0,gi.match_length=gi.prev_length=Yr-1,gi.match_available=0,Mr.next_in=Kr,Mr.input=Pr,Mr.avail_in=Ai,gi.wrap=xi,yr},ur.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(ar,or,ur){or.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(ar,or,ur){or.exports=function(fr,xr){var pr,br,gr,mr,_r,Sr,yr,Cr,Ar,kr,Or,Dr,Rr,Fr,Nr,Hr,jr,Jr,Yr,Ur,Zr,Wr,ni,Lr,hi;pr=fr.state,br=fr.next_in,Lr=fr.input,gr=br+(fr.avail_in-5),mr=fr.next_out,hi=fr.output,_r=mr-(xr-fr.avail_out),Sr=mr+(fr.avail_out-257),yr=pr.dmax,Cr=pr.wsize,Ar=pr.whave,kr=pr.wnext,Or=pr.window,Dr=pr.hold,Rr=pr.bits,Fr=pr.lencode,Nr=pr.distcode,Hr=(1<<pr.lenbits)-1,jr=(1<<pr.distbits)-1;e:do{Rr<15&&(Dr+=Lr[br++]<<Rr,Rr+=8,Dr+=Lr[br++]<<Rr,Rr+=8),Jr=Fr[Dr&Hr];t:for(;;){if(Dr>>>=Yr=Jr>>>24,Rr-=Yr,(Yr=Jr>>>16&255)===0)hi[mr++]=65535&Jr;else{if(!(16&Yr)){if(!(64&Yr)){Jr=Fr[(65535&Jr)+(Dr&(1<<Yr)-1)];continue t}if(32&Yr){pr.mode=12;break e}fr.msg="invalid literal/length code",pr.mode=30;break e}Ur=65535&Jr,(Yr&=15)&&(Rr<Yr&&(Dr+=Lr[br++]<<Rr,Rr+=8),Ur+=Dr&(1<<Yr)-1,Dr>>>=Yr,Rr-=Yr),Rr<15&&(Dr+=Lr[br++]<<Rr,Rr+=8,Dr+=Lr[br++]<<Rr,Rr+=8),Jr=Nr[Dr&jr];r:for(;;){if(Dr>>>=Yr=Jr>>>24,Rr-=Yr,!(16&(Yr=Jr>>>16&255))){if(!(64&Yr)){Jr=Nr[(65535&Jr)+(Dr&(1<<Yr)-1)];continue r}fr.msg="invalid distance code",pr.mode=30;break e}if(Zr=65535&Jr,Rr<(Yr&=15)&&(Dr+=Lr[br++]<<Rr,(Rr+=8)<Yr&&(Dr+=Lr[br++]<<Rr,Rr+=8)),yr<(Zr+=Dr&(1<<Yr)-1)){fr.msg="invalid distance too far back",pr.mode=30;break e}if(Dr>>>=Yr,Rr-=Yr,(Yr=mr-_r)<Zr){if(Ar<(Yr=Zr-Yr)&&pr.sane){fr.msg="invalid distance too far back",pr.mode=30;break e}if(ni=Or,(Wr=0)===kr){if(Wr+=Cr-Yr,Yr<Ur){for(Ur-=Yr;hi[mr++]=Or[Wr++],--Yr;);Wr=mr-Zr,ni=hi}}else if(kr<Yr){if(Wr+=Cr+kr-Yr,(Yr-=kr)<Ur){for(Ur-=Yr;hi[mr++]=Or[Wr++],--Yr;);if(Wr=0,kr<Ur){for(Ur-=Yr=kr;hi[mr++]=Or[Wr++],--Yr;);Wr=mr-Zr,ni=hi}}}else if(Wr+=kr-Yr,Yr<Ur){for(Ur-=Yr;hi[mr++]=Or[Wr++],--Yr;);Wr=mr-Zr,ni=hi}for(;2<Ur;)hi[mr++]=ni[Wr++],hi[mr++]=ni[Wr++],hi[mr++]=ni[Wr++],Ur-=3;Ur&&(hi[mr++]=ni[Wr++],1<Ur&&(hi[mr++]=ni[Wr++]))}else{for(Wr=mr-Zr;hi[mr++]=hi[Wr++],hi[mr++]=hi[Wr++],hi[mr++]=hi[Wr++],2<(Ur-=3););Ur&&(hi[mr++]=hi[Wr++],1<Ur&&(hi[mr++]=hi[Wr++]))}break}}break}}while(br<gr&&mr<Sr);br-=Ur=Rr>>3,Dr&=(1<<(Rr-=Ur<<3))-1,fr.next_in=br,fr.next_out=mr,fr.avail_in=br<gr?gr-br+5:5-(br-gr),fr.avail_out=mr<Sr?Sr-mr+257:257-(mr-Sr),pr.hold=Dr,pr.bits=Rr}},{}],49:[function(ar,or,ur){var fr=ar("../utils/common"),xr=ar("./adler32"),pr=ar("./crc32"),br=ar("./inffast"),gr=ar("./inftrees"),mr=1,_r=2,Sr=0,yr=-2,Cr=1,Ar=852,kr=592;function Or(Wr){return(Wr>>>24&255)+(Wr>>>8&65280)+((65280&Wr)<<8)+((255&Wr)<<24)}function Dr(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new fr.Buf16(320),this.work=new fr.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Rr(Wr){var ni;return Wr&&Wr.state?(ni=Wr.state,Wr.total_in=Wr.total_out=ni.total=0,Wr.msg="",ni.wrap&&(Wr.adler=1&ni.wrap),ni.mode=Cr,ni.last=0,ni.havedict=0,ni.dmax=32768,ni.head=null,ni.hold=0,ni.bits=0,ni.lencode=ni.lendyn=new fr.Buf32(Ar),ni.distcode=ni.distdyn=new fr.Buf32(kr),ni.sane=1,ni.back=-1,Sr):yr}function Fr(Wr){var ni;return Wr&&Wr.state?((ni=Wr.state).wsize=0,ni.whave=0,ni.wnext=0,Rr(Wr)):yr}function Nr(Wr,ni){var Lr,hi;return Wr&&Wr.state?(hi=Wr.state,ni<0?(Lr=0,ni=-ni):(Lr=1+(ni>>4),ni<48&&(ni&=15)),ni&&(ni<8||15<ni)?yr:(hi.window!==null&&hi.wbits!==ni&&(hi.window=null),hi.wrap=Lr,hi.wbits=ni,Fr(Wr))):yr}function Hr(Wr,ni){var Lr,hi;return Wr?(hi=new Dr,(Wr.state=hi).window=null,(Lr=Nr(Wr,ni))!==Sr&&(Wr.state=null),Lr):yr}var jr,Jr,Yr=!0;function Ur(Wr){if(Yr){var ni;for(jr=new fr.Buf32(512),Jr=new fr.Buf32(32),ni=0;ni<144;)Wr.lens[ni++]=8;for(;ni<256;)Wr.lens[ni++]=9;for(;ni<280;)Wr.lens[ni++]=7;for(;ni<288;)Wr.lens[ni++]=8;for(gr(mr,Wr.lens,0,288,jr,0,Wr.work,{bits:9}),ni=0;ni<32;)Wr.lens[ni++]=5;gr(_r,Wr.lens,0,32,Jr,0,Wr.work,{bits:5}),Yr=!1}Wr.lencode=jr,Wr.lenbits=9,Wr.distcode=Jr,Wr.distbits=5}function Zr(Wr,ni,Lr,hi){var Ei,_i=Wr.state;return _i.window===null&&(_i.wsize=1<<_i.wbits,_i.wnext=0,_i.whave=0,_i.window=new fr.Buf8(_i.wsize)),hi>=_i.wsize?(fr.arraySet(_i.window,ni,Lr-_i.wsize,_i.wsize,0),_i.wnext=0,_i.whave=_i.wsize):(hi<(Ei=_i.wsize-_i.wnext)&&(Ei=hi),fr.arraySet(_i.window,ni,Lr-hi,Ei,_i.wnext),(hi-=Ei)?(fr.arraySet(_i.window,ni,Lr-hi,hi,0),_i.wnext=hi,_i.whave=_i.wsize):(_i.wnext+=Ei,_i.wnext===_i.wsize&&(_i.wnext=0),_i.whave<_i.wsize&&(_i.whave+=Ei))),0}ur.inflateReset=Fr,ur.inflateReset2=Nr,ur.inflateResetKeep=Rr,ur.inflateInit=function(Wr){return Hr(Wr,15)},ur.inflateInit2=Hr,ur.inflate=function(Wr,ni){var Lr,hi,Ei,_i,Fi,si,ci,$r,ei,pi,ui,bi,qi,Ki,Ti,ii,oi,Si,Di,Mi,Mr,di,gi,ti,ri=0,xi=new fr.Buf8(4),Ai=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Wr||!Wr.state||!Wr.output||!Wr.input&&Wr.avail_in!==0)return yr;(Lr=Wr.state).mode===12&&(Lr.mode=13),Fi=Wr.next_out,Ei=Wr.output,ci=Wr.avail_out,_i=Wr.next_in,hi=Wr.input,si=Wr.avail_in,$r=Lr.hold,ei=Lr.bits,pi=si,ui=ci,di=Sr;e:for(;;)switch(Lr.mode){case Cr:if(Lr.wrap===0){Lr.mode=13;break}for(;ei<16;){if(si===0)break e;si--,$r+=hi[_i++]<<ei,ei+=8}if(2&Lr.wrap&&$r===35615){xi[Lr.check=0]=255&$r,xi[1]=$r>>>8&255,Lr.check=pr(Lr.check,xi,2,0),ei=$r=0,Lr.mode=2;break}if(Lr.flags=0,Lr.head&&(Lr.head.done=!1),!(1&Lr.wrap)||(((255&$r)<<8)+($r>>8))%31){Wr.msg="incorrect header check",Lr.mode=30;break}if((15&$r)!=8){Wr.msg="unknown compression method",Lr.mode=30;break}if(ei-=4,Mr=8+(15&($r>>>=4)),Lr.wbits===0)Lr.wbits=Mr;else if(Mr>Lr.wbits){Wr.msg="invalid window size",Lr.mode=30;break}Lr.dmax=1<<Mr,Wr.adler=Lr.check=1,Lr.mode=512&$r?10:12,ei=$r=0;break;case 2:for(;ei<16;){if(si===0)break e;si--,$r+=hi[_i++]<<ei,ei+=8}if(Lr.flags=$r,(255&Lr.flags)!=8){Wr.msg="unknown compression method",Lr.mode=30;break}if(57344&Lr.flags){Wr.msg="unknown header flags set",Lr.mode=30;break}Lr.head&&(Lr.head.text=$r>>8&1),512&Lr.flags&&(xi[0]=255&$r,xi[1]=$r>>>8&255,Lr.check=pr(Lr.check,xi,2,0)),ei=$r=0,Lr.mode=3;case 3:for(;ei<32;){if(si===0)break e;si--,$r+=hi[_i++]<<ei,ei+=8}Lr.head&&(Lr.head.time=$r),512&Lr.flags&&(xi[0]=255&$r,xi[1]=$r>>>8&255,xi[2]=$r>>>16&255,xi[3]=$r>>>24&255,Lr.check=pr(Lr.check,xi,4,0)),ei=$r=0,Lr.mode=4;case 4:for(;ei<16;){if(si===0)break e;si--,$r+=hi[_i++]<<ei,ei+=8}Lr.head&&(Lr.head.xflags=255&$r,Lr.head.os=$r>>8),512&Lr.flags&&(xi[0]=255&$r,xi[1]=$r>>>8&255,Lr.check=pr(Lr.check,xi,2,0)),ei=$r=0,Lr.mode=5;case 5:if(1024&Lr.flags){for(;ei<16;){if(si===0)break e;si--,$r+=hi[_i++]<<ei,ei+=8}Lr.length=$r,Lr.head&&(Lr.head.extra_len=$r),512&Lr.flags&&(xi[0]=255&$r,xi[1]=$r>>>8&255,Lr.check=pr(Lr.check,xi,2,0)),ei=$r=0}else Lr.head&&(Lr.head.extra=null);Lr.mode=6;case 6:if(1024&Lr.flags&&(si<(bi=Lr.length)&&(bi=si),bi&&(Lr.head&&(Mr=Lr.head.extra_len-Lr.length,Lr.head.extra||(Lr.head.extra=new Array(Lr.head.extra_len)),fr.arraySet(Lr.head.extra,hi,_i,bi,Mr)),512&Lr.flags&&(Lr.check=pr(Lr.check,hi,bi,_i)),si-=bi,_i+=bi,Lr.length-=bi),Lr.length))break e;Lr.length=0,Lr.mode=7;case 7:if(2048&Lr.flags){if(si===0)break e;for(bi=0;Mr=hi[_i+bi++],Lr.head&&Mr&&Lr.length<65536&&(Lr.head.name+=String.fromCharCode(Mr)),Mr&&bi<si;);if(512&Lr.flags&&(Lr.check=pr(Lr.check,hi,bi,_i)),si-=bi,_i+=bi,Mr)break e}else Lr.head&&(Lr.head.name=null);Lr.length=0,Lr.mode=8;case 8:if(4096&Lr.flags){if(si===0)break e;for(bi=0;Mr=hi[_i+bi++],Lr.head&&Mr&&Lr.length<65536&&(Lr.head.comment+=String.fromCharCode(Mr)),Mr&&bi<si;);if(512&Lr.flags&&(Lr.check=pr(Lr.check,hi,bi,_i)),si-=bi,_i+=bi,Mr)break e}else Lr.head&&(Lr.head.comment=null);Lr.mode=9;case 9:if(512&Lr.flags){for(;ei<16;){if(si===0)break e;si--,$r+=hi[_i++]<<ei,ei+=8}if($r!==(65535&Lr.check)){Wr.msg="header crc mismatch",Lr.mode=30;break}ei=$r=0}Lr.head&&(Lr.head.hcrc=Lr.flags>>9&1,Lr.head.done=!0),Wr.adler=Lr.check=0,Lr.mode=12;break;case 10:for(;ei<32;){if(si===0)break e;si--,$r+=hi[_i++]<<ei,ei+=8}Wr.adler=Lr.check=Or($r),ei=$r=0,Lr.mode=11;case 11:if(Lr.havedict===0)return Wr.next_out=Fi,Wr.avail_out=ci,Wr.next_in=_i,Wr.avail_in=si,Lr.hold=$r,Lr.bits=ei,2;Wr.adler=Lr.check=1,Lr.mode=12;case 12:if(ni===5||ni===6)break e;case 13:if(Lr.last){$r>>>=7&ei,ei-=7&ei,Lr.mode=27;break}for(;ei<3;){if(si===0)break e;si--,$r+=hi[_i++]<<ei,ei+=8}switch(Lr.last=1&$r,ei-=1,3&($r>>>=1)){case 0:Lr.mode=14;break;case 1:if(Ur(Lr),Lr.mode=20,ni!==6)break;$r>>>=2,ei-=2;break e;case 2:Lr.mode=17;break;case 3:Wr.msg="invalid block type",Lr.mode=30}$r>>>=2,ei-=2;break;case 14:for($r>>>=7&ei,ei-=7&ei;ei<32;){if(si===0)break e;si--,$r+=hi[_i++]<<ei,ei+=8}if((65535&$r)!=($r>>>16^65535)){Wr.msg="invalid stored block lengths",Lr.mode=30;break}if(Lr.length=65535&$r,ei=$r=0,Lr.mode=15,ni===6)break e;case 15:Lr.mode=16;case 16:if(bi=Lr.length){if(si<bi&&(bi=si),ci<bi&&(bi=ci),bi===0)break e;fr.arraySet(Ei,hi,_i,bi,Fi),si-=bi,_i+=bi,ci-=bi,Fi+=bi,Lr.length-=bi;break}Lr.mode=12;break;case 17:for(;ei<14;){if(si===0)break e;si--,$r+=hi[_i++]<<ei,ei+=8}if(Lr.nlen=257+(31&$r),$r>>>=5,ei-=5,Lr.ndist=1+(31&$r),$r>>>=5,ei-=5,Lr.ncode=4+(15&$r),$r>>>=4,ei-=4,286<Lr.nlen||30<Lr.ndist){Wr.msg="too many length or distance symbols",Lr.mode=30;break}Lr.have=0,Lr.mode=18;case 18:for(;Lr.have<Lr.ncode;){for(;ei<3;){if(si===0)break e;si--,$r+=hi[_i++]<<ei,ei+=8}Lr.lens[Ai[Lr.have++]]=7&$r,$r>>>=3,ei-=3}for(;Lr.have<19;)Lr.lens[Ai[Lr.have++]]=0;if(Lr.lencode=Lr.lendyn,Lr.lenbits=7,gi={bits:Lr.lenbits},di=gr(0,Lr.lens,0,19,Lr.lencode,0,Lr.work,gi),Lr.lenbits=gi.bits,di){Wr.msg="invalid code lengths set",Lr.mode=30;break}Lr.have=0,Lr.mode=19;case 19:for(;Lr.have<Lr.nlen+Lr.ndist;){for(;ii=(ri=Lr.lencode[$r&(1<<Lr.lenbits)-1])>>>16&255,oi=65535&ri,!((Ti=ri>>>24)<=ei);){if(si===0)break e;si--,$r+=hi[_i++]<<ei,ei+=8}if(oi<16)$r>>>=Ti,ei-=Ti,Lr.lens[Lr.have++]=oi;else{if(oi===16){for(ti=Ti+2;ei<ti;){if(si===0)break e;si--,$r+=hi[_i++]<<ei,ei+=8}if($r>>>=Ti,ei-=Ti,Lr.have===0){Wr.msg="invalid bit length repeat",Lr.mode=30;break}Mr=Lr.lens[Lr.have-1],bi=3+(3&$r),$r>>>=2,ei-=2}else if(oi===17){for(ti=Ti+3;ei<ti;){if(si===0)break e;si--,$r+=hi[_i++]<<ei,ei+=8}ei-=Ti,Mr=0,bi=3+(7&($r>>>=Ti)),$r>>>=3,ei-=3}else{for(ti=Ti+7;ei<ti;){if(si===0)break e;si--,$r+=hi[_i++]<<ei,ei+=8}ei-=Ti,Mr=0,bi=11+(127&($r>>>=Ti)),$r>>>=7,ei-=7}if(Lr.have+bi>Lr.nlen+Lr.ndist){Wr.msg="invalid bit length repeat",Lr.mode=30;break}for(;bi--;)Lr.lens[Lr.have++]=Mr}}if(Lr.mode===30)break;if(Lr.lens[256]===0){Wr.msg="invalid code -- missing end-of-block",Lr.mode=30;break}if(Lr.lenbits=9,gi={bits:Lr.lenbits},di=gr(mr,Lr.lens,0,Lr.nlen,Lr.lencode,0,Lr.work,gi),Lr.lenbits=gi.bits,di){Wr.msg="invalid literal/lengths set",Lr.mode=30;break}if(Lr.distbits=6,Lr.distcode=Lr.distdyn,gi={bits:Lr.distbits},di=gr(_r,Lr.lens,Lr.nlen,Lr.ndist,Lr.distcode,0,Lr.work,gi),Lr.distbits=gi.bits,di){Wr.msg="invalid distances set",Lr.mode=30;break}if(Lr.mode=20,ni===6)break e;case 20:Lr.mode=21;case 21:if(6<=si&&258<=ci){Wr.next_out=Fi,Wr.avail_out=ci,Wr.next_in=_i,Wr.avail_in=si,Lr.hold=$r,Lr.bits=ei,br(Wr,ui),Fi=Wr.next_out,Ei=Wr.output,ci=Wr.avail_out,_i=Wr.next_in,hi=Wr.input,si=Wr.avail_in,$r=Lr.hold,ei=Lr.bits,Lr.mode===12&&(Lr.back=-1);break}for(Lr.back=0;ii=(ri=Lr.lencode[$r&(1<<Lr.lenbits)-1])>>>16&255,oi=65535&ri,!((Ti=ri>>>24)<=ei);){if(si===0)break e;si--,$r+=hi[_i++]<<ei,ei+=8}if(ii&&!(240&ii)){for(Si=Ti,Di=ii,Mi=oi;ii=(ri=Lr.lencode[Mi+(($r&(1<<Si+Di)-1)>>Si)])>>>16&255,oi=65535&ri,!(Si+(Ti=ri>>>24)<=ei);){if(si===0)break e;si--,$r+=hi[_i++]<<ei,ei+=8}$r>>>=Si,ei-=Si,Lr.back+=Si}if($r>>>=Ti,ei-=Ti,Lr.back+=Ti,Lr.length=oi,ii===0){Lr.mode=26;break}if(32&ii){Lr.back=-1,Lr.mode=12;break}if(64&ii){Wr.msg="invalid literal/length code",Lr.mode=30;break}Lr.extra=15&ii,Lr.mode=22;case 22:if(Lr.extra){for(ti=Lr.extra;ei<ti;){if(si===0)break e;si--,$r+=hi[_i++]<<ei,ei+=8}Lr.length+=$r&(1<<Lr.extra)-1,$r>>>=Lr.extra,ei-=Lr.extra,Lr.back+=Lr.extra}Lr.was=Lr.length,Lr.mode=23;case 23:for(;ii=(ri=Lr.distcode[$r&(1<<Lr.distbits)-1])>>>16&255,oi=65535&ri,!((Ti=ri>>>24)<=ei);){if(si===0)break e;si--,$r+=hi[_i++]<<ei,ei+=8}if(!(240&ii)){for(Si=Ti,Di=ii,Mi=oi;ii=(ri=Lr.distcode[Mi+(($r&(1<<Si+Di)-1)>>Si)])>>>16&255,oi=65535&ri,!(Si+(Ti=ri>>>24)<=ei);){if(si===0)break e;si--,$r+=hi[_i++]<<ei,ei+=8}$r>>>=Si,ei-=Si,Lr.back+=Si}if($r>>>=Ti,ei-=Ti,Lr.back+=Ti,64&ii){Wr.msg="invalid distance code",Lr.mode=30;break}Lr.offset=oi,Lr.extra=15&ii,Lr.mode=24;case 24:if(Lr.extra){for(ti=Lr.extra;ei<ti;){if(si===0)break e;si--,$r+=hi[_i++]<<ei,ei+=8}Lr.offset+=$r&(1<<Lr.extra)-1,$r>>>=Lr.extra,ei-=Lr.extra,Lr.back+=Lr.extra}if(Lr.offset>Lr.dmax){Wr.msg="invalid distance too far back",Lr.mode=30;break}Lr.mode=25;case 25:if(ci===0)break e;if(bi=ui-ci,Lr.offset>bi){if((bi=Lr.offset-bi)>Lr.whave&&Lr.sane){Wr.msg="invalid distance too far back",Lr.mode=30;break}qi=bi>Lr.wnext?(bi-=Lr.wnext,Lr.wsize-bi):Lr.wnext-bi,bi>Lr.length&&(bi=Lr.length),Ki=Lr.window}else Ki=Ei,qi=Fi-Lr.offset,bi=Lr.length;for(ci<bi&&(bi=ci),ci-=bi,Lr.length-=bi;Ei[Fi++]=Ki[qi++],--bi;);Lr.length===0&&(Lr.mode=21);break;case 26:if(ci===0)break e;Ei[Fi++]=Lr.length,ci--,Lr.mode=21;break;case 27:if(Lr.wrap){for(;ei<32;){if(si===0)break e;si--,$r|=hi[_i++]<<ei,ei+=8}if(ui-=ci,Wr.total_out+=ui,Lr.total+=ui,ui&&(Wr.adler=Lr.check=Lr.flags?pr(Lr.check,Ei,ui,Fi-ui):xr(Lr.check,Ei,ui,Fi-ui)),ui=ci,(Lr.flags?$r:Or($r))!==Lr.check){Wr.msg="incorrect data check",Lr.mode=30;break}ei=$r=0}Lr.mode=28;case 28:if(Lr.wrap&&Lr.flags){for(;ei<32;){if(si===0)break e;si--,$r+=hi[_i++]<<ei,ei+=8}if($r!==(4294967295&Lr.total)){Wr.msg="incorrect length check",Lr.mode=30;break}ei=$r=0}Lr.mode=29;case 29:di=1;break e;case 30:di=-3;break e;case 31:return-4;case 32:default:return yr}return Wr.next_out=Fi,Wr.avail_out=ci,Wr.next_in=_i,Wr.avail_in=si,Lr.hold=$r,Lr.bits=ei,(Lr.wsize||ui!==Wr.avail_out&&Lr.mode<30&&(Lr.mode<27||ni!==4))&&Zr(Wr,Wr.output,Wr.next_out,ui-Wr.avail_out)?(Lr.mode=31,-4):(pi-=Wr.avail_in,ui-=Wr.avail_out,Wr.total_in+=pi,Wr.total_out+=ui,Lr.total+=ui,Lr.wrap&&ui&&(Wr.adler=Lr.check=Lr.flags?pr(Lr.check,Ei,ui,Wr.next_out-ui):xr(Lr.check,Ei,ui,Wr.next_out-ui)),Wr.data_type=Lr.bits+(Lr.last?64:0)+(Lr.mode===12?128:0)+(Lr.mode===20||Lr.mode===15?256:0),(pi==0&&ui===0||ni===4)&&di===Sr&&(di=-5),di)},ur.inflateEnd=function(Wr){if(!Wr||!Wr.state)return yr;var ni=Wr.state;return ni.window&&(ni.window=null),Wr.state=null,Sr},ur.inflateGetHeader=function(Wr,ni){var Lr;return Wr&&Wr.state&&2&(Lr=Wr.state).wrap?((Lr.head=ni).done=!1,Sr):yr},ur.inflateSetDictionary=function(Wr,ni){var Lr,hi=ni.length;return Wr&&Wr.state?(Lr=Wr.state).wrap!==0&&Lr.mode!==11?yr:Lr.mode===11&&xr(1,ni,hi,0)!==Lr.check?-3:Zr(Wr,ni,hi,hi)?(Lr.mode=31,-4):(Lr.havedict=1,Sr):yr},ur.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(ar,or,ur){var fr=ar("../utils/common"),xr=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],pr=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],br=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],gr=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];or.exports=function(mr,_r,Sr,yr,Cr,Ar,kr,Or){var Dr,Rr,Fr,Nr,Hr,jr,Jr,Yr,Ur,Zr=Or.bits,Wr=0,ni=0,Lr=0,hi=0,Ei=0,_i=0,Fi=0,si=0,ci=0,$r=0,ei=null,pi=0,ui=new fr.Buf16(16),bi=new fr.Buf16(16),qi=null,Ki=0;for(Wr=0;Wr<=15;Wr++)ui[Wr]=0;for(ni=0;ni<yr;ni++)ui[_r[Sr+ni]]++;for(Ei=Zr,hi=15;1<=hi&&ui[hi]===0;hi--);if(hi<Ei&&(Ei=hi),hi===0)return Cr[Ar++]=20971520,Cr[Ar++]=20971520,Or.bits=1,0;for(Lr=1;Lr<hi&&ui[Lr]===0;Lr++);for(Ei<Lr&&(Ei=Lr),Wr=si=1;Wr<=15;Wr++)if(si<<=1,(si-=ui[Wr])<0)return-1;if(0<si&&(mr===0||hi!==1))return-1;for(bi[1]=0,Wr=1;Wr<15;Wr++)bi[Wr+1]=bi[Wr]+ui[Wr];for(ni=0;ni<yr;ni++)_r[Sr+ni]!==0&&(kr[bi[_r[Sr+ni]]++]=ni);if(jr=mr===0?(ei=qi=kr,19):mr===1?(ei=xr,pi-=257,qi=pr,Ki-=257,256):(ei=br,qi=gr,-1),Wr=Lr,Hr=Ar,Fi=ni=$r=0,Fr=-1,Nr=(ci=1<<(_i=Ei))-1,mr===1&&852<ci||mr===2&&592<ci)return 1;for(;;){for(Jr=Wr-Fi,Ur=kr[ni]<jr?(Yr=0,kr[ni]):kr[ni]>jr?(Yr=qi[Ki+kr[ni]],ei[pi+kr[ni]]):(Yr=96,0),Dr=1<<Wr-Fi,Lr=Rr=1<<_i;Cr[Hr+($r>>Fi)+(Rr-=Dr)]=Jr<<24|Yr<<16|Ur|0,Rr!==0;);for(Dr=1<<Wr-1;$r&Dr;)Dr>>=1;if(Dr!==0?($r&=Dr-1,$r+=Dr):$r=0,ni++,--ui[Wr]==0){if(Wr===hi)break;Wr=_r[Sr+kr[ni]]}if(Ei<Wr&&($r&Nr)!==Fr){for(Fi===0&&(Fi=Ei),Hr+=Lr,si=1<<(_i=Wr-Fi);_i+Fi<hi&&!((si-=ui[_i+Fi])<=0);)_i++,si<<=1;if(ci+=1<<_i,mr===1&&852<ci||mr===2&&592<ci)return 1;Cr[Fr=$r&Nr]=Ei<<24|_i<<16|Hr-Ar|0}}return $r!==0&&(Cr[Hr+$r]=Wr-Fi<<24|64<<16|0),Or.bits=Ei,0}},{"../utils/common":41}],51:[function(ar,or,ur){or.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(ar,or,ur){var fr=ar("../utils/common"),xr=0,pr=1;function br(ri){for(var xi=ri.length;0<=--xi;)ri[xi]=0}var gr=0,mr=29,_r=256,Sr=_r+1+mr,yr=30,Cr=19,Ar=2*Sr+1,kr=15,Or=16,Dr=7,Rr=256,Fr=16,Nr=17,Hr=18,jr=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Jr=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Yr=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Ur=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Zr=new Array(2*(Sr+2));br(Zr);var Wr=new Array(2*yr);br(Wr);var ni=new Array(512);br(ni);var Lr=new Array(256);br(Lr);var hi=new Array(mr);br(hi);var Ei,_i,Fi,si=new Array(yr);function ci(ri,xi,Ai,Kr,Pr){this.static_tree=ri,this.extra_bits=xi,this.extra_base=Ai,this.elems=Kr,this.max_length=Pr,this.has_stree=ri&&ri.length}function $r(ri,xi){this.dyn_tree=ri,this.max_code=0,this.stat_desc=xi}function ei(ri){return ri<256?ni[ri]:ni[256+(ri>>>7)]}function pi(ri,xi){ri.pending_buf[ri.pending++]=255&xi,ri.pending_buf[ri.pending++]=xi>>>8&255}function ui(ri,xi,Ai){ri.bi_valid>Or-Ai?(ri.bi_buf|=xi<<ri.bi_valid&65535,pi(ri,ri.bi_buf),ri.bi_buf=xi>>Or-ri.bi_valid,ri.bi_valid+=Ai-Or):(ri.bi_buf|=xi<<ri.bi_valid&65535,ri.bi_valid+=Ai)}function bi(ri,xi,Ai){ui(ri,Ai[2*xi],Ai[2*xi+1])}function qi(ri,xi){for(var Ai=0;Ai|=1&ri,ri>>>=1,Ai<<=1,0<--xi;);return Ai>>>1}function Ki(ri,xi,Ai){var Kr,Pr,qr=new Array(kr+1),Qr=0;for(Kr=1;Kr<=kr;Kr++)qr[Kr]=Qr=Qr+Ai[Kr-1]<<1;for(Pr=0;Pr<=xi;Pr++){var ai=ri[2*Pr+1];ai!==0&&(ri[2*Pr]=qi(qr[ai]++,ai))}}function Ti(ri){var xi;for(xi=0;xi<Sr;xi++)ri.dyn_ltree[2*xi]=0;for(xi=0;xi<yr;xi++)ri.dyn_dtree[2*xi]=0;for(xi=0;xi<Cr;xi++)ri.bl_tree[2*xi]=0;ri.dyn_ltree[2*Rr]=1,ri.opt_len=ri.static_len=0,ri.last_lit=ri.matches=0}function ii(ri){8<ri.bi_valid?pi(ri,ri.bi_buf):0<ri.bi_valid&&(ri.pending_buf[ri.pending++]=ri.bi_buf),ri.bi_buf=0,ri.bi_valid=0}function oi(ri,xi,Ai,Kr){var Pr=2*xi,qr=2*Ai;return ri[Pr]<ri[qr]||ri[Pr]===ri[qr]&&Kr[xi]<=Kr[Ai]}function Si(ri,xi,Ai){for(var Kr=ri.heap[Ai],Pr=Ai<<1;Pr<=ri.heap_len&&(Pr<ri.heap_len&&oi(xi,ri.heap[Pr+1],ri.heap[Pr],ri.depth)&&Pr++,!oi(xi,Kr,ri.heap[Pr],ri.depth));)ri.heap[Ai]=ri.heap[Pr],Ai=Pr,Pr<<=1;ri.heap[Ai]=Kr}function Di(ri,xi,Ai){var Kr,Pr,qr,Qr,ai=0;if(ri.last_lit!==0)for(;Kr=ri.pending_buf[ri.d_buf+2*ai]<<8|ri.pending_buf[ri.d_buf+2*ai+1],Pr=ri.pending_buf[ri.l_buf+ai],ai++,Kr===0?bi(ri,Pr,xi):(bi(ri,(qr=Lr[Pr])+_r+1,xi),(Qr=jr[qr])!==0&&ui(ri,Pr-=hi[qr],Qr),bi(ri,qr=ei(--Kr),Ai),(Qr=Jr[qr])!==0&&ui(ri,Kr-=si[qr],Qr)),ai<ri.last_lit;);bi(ri,Rr,xi)}function Mi(ri,xi){var Ai,Kr,Pr,qr=xi.dyn_tree,Qr=xi.stat_desc.static_tree,ai=xi.stat_desc.has_stree,fi=xi.stat_desc.elems,vi=-1;for(ri.heap_len=0,ri.heap_max=Ar,Ai=0;Ai<fi;Ai++)qr[2*Ai]!==0?(ri.heap[++ri.heap_len]=vi=Ai,ri.depth[Ai]=0):qr[2*Ai+1]=0;for(;ri.heap_len<2;)qr[2*(Pr=ri.heap[++ri.heap_len]=vi<2?++vi:0)]=1,ri.depth[Pr]=0,ri.opt_len--,ai&&(ri.static_len-=Qr[2*Pr+1]);for(xi.max_code=vi,Ai=ri.heap_len>>1;1<=Ai;Ai--)Si(ri,qr,Ai);for(Pr=fi;Ai=ri.heap[1],ri.heap[1]=ri.heap[ri.heap_len--],Si(ri,qr,1),Kr=ri.heap[1],ri.heap[--ri.heap_max]=Ai,ri.heap[--ri.heap_max]=Kr,qr[2*Pr]=qr[2*Ai]+qr[2*Kr],ri.depth[Pr]=(ri.depth[Ai]>=ri.depth[Kr]?ri.depth[Ai]:ri.depth[Kr])+1,qr[2*Ai+1]=qr[2*Kr+1]=Pr,ri.heap[1]=Pr++,Si(ri,qr,1),2<=ri.heap_len;);ri.heap[--ri.heap_max]=ri.heap[1],function(Ri,Yi){var Xi,Ui,Bi,Zi,Sa,Ta,ba=Yi.dyn_tree,po=Yi.max_code,so=Yi.stat_desc.static_tree,Co=Yi.stat_desc.has_stree,wi=Yi.stat_desc.extra_bits,Vi=Yi.stat_desc.extra_base,Gr=Yi.stat_desc.max_length,zi=0;for(Zi=0;Zi<=kr;Zi++)Ri.bl_count[Zi]=0;for(ba[2*Ri.heap[Ri.heap_max]+1]=0,Xi=Ri.heap_max+1;Xi<Ar;Xi++)Gr<(Zi=ba[2*ba[2*(Ui=Ri.heap[Xi])+1]+1]+1)&&(Zi=Gr,zi++),ba[2*Ui+1]=Zi,po<Ui||(Ri.bl_count[Zi]++,Sa=0,Vi<=Ui&&(Sa=wi[Ui-Vi]),Ta=ba[2*Ui],Ri.opt_len+=Ta*(Zi+Sa),Co&&(Ri.static_len+=Ta*(so[2*Ui+1]+Sa)));if(zi!==0){do{for(Zi=Gr-1;Ri.bl_count[Zi]===0;)Zi--;Ri.bl_count[Zi]--,Ri.bl_count[Zi+1]+=2,Ri.bl_count[Gr]--,zi-=2}while(0<zi);for(Zi=Gr;Zi!==0;Zi--)for(Ui=Ri.bl_count[Zi];Ui!==0;)po<(Bi=Ri.heap[--Xi])||(ba[2*Bi+1]!==Zi&&(Ri.opt_len+=(Zi-ba[2*Bi+1])*ba[2*Bi],ba[2*Bi+1]=Zi),Ui--)}}(ri,xi),Ki(qr,vi,ri.bl_count)}function Mr(ri,xi,Ai){var Kr,Pr,qr=-1,Qr=xi[1],ai=0,fi=7,vi=4;for(Qr===0&&(fi=138,vi=3),xi[2*(Ai+1)+1]=65535,Kr=0;Kr<=Ai;Kr++)Pr=Qr,Qr=xi[2*(Kr+1)+1],++ai<fi&&Pr===Qr||(ai<vi?ri.bl_tree[2*Pr]+=ai:Pr!==0?(Pr!==qr&&ri.bl_tree[2*Pr]++,ri.bl_tree[2*Fr]++):ai<=10?ri.bl_tree[2*Nr]++:ri.bl_tree[2*Hr]++,qr=Pr,vi=(ai=0)===Qr?(fi=138,3):Pr===Qr?(fi=6,3):(fi=7,4))}function di(ri,xi,Ai){var Kr,Pr,qr=-1,Qr=xi[1],ai=0,fi=7,vi=4;for(Qr===0&&(fi=138,vi=3),Kr=0;Kr<=Ai;Kr++)if(Pr=Qr,Qr=xi[2*(Kr+1)+1],!(++ai<fi&&Pr===Qr)){if(ai<vi)for(;bi(ri,Pr,ri.bl_tree),--ai!=0;);else Pr!==0?(Pr!==qr&&(bi(ri,Pr,ri.bl_tree),ai--),bi(ri,Fr,ri.bl_tree),ui(ri,ai-3,2)):ai<=10?(bi(ri,Nr,ri.bl_tree),ui(ri,ai-3,3)):(bi(ri,Hr,ri.bl_tree),ui(ri,ai-11,7));qr=Pr,vi=(ai=0)===Qr?(fi=138,3):Pr===Qr?(fi=6,3):(fi=7,4)}}br(si);var gi=!1;function ti(ri,xi,Ai,Kr){ui(ri,(gr<<1)+(Kr?1:0),3),function(Pr,qr,Qr,ai){ii(Pr),ai&&(pi(Pr,Qr),pi(Pr,~Qr)),fr.arraySet(Pr.pending_buf,Pr.window,qr,Qr,Pr.pending),Pr.pending+=Qr}(ri,xi,Ai,!0)}ur._tr_init=function(ri){gi||(function(){var xi,Ai,Kr,Pr,qr,Qr=new Array(kr+1);for(Pr=Kr=0;Pr<mr-1;Pr++)for(hi[Pr]=Kr,xi=0;xi<1<<jr[Pr];xi++)Lr[Kr++]=Pr;for(Lr[Kr-1]=Pr,Pr=qr=0;Pr<16;Pr++)for(si[Pr]=qr,xi=0;xi<1<<Jr[Pr];xi++)ni[qr++]=Pr;for(qr>>=7;Pr<yr;Pr++)for(si[Pr]=qr<<7,xi=0;xi<1<<Jr[Pr]-7;xi++)ni[256+qr++]=Pr;for(Ai=0;Ai<=kr;Ai++)Qr[Ai]=0;for(xi=0;xi<=143;)Zr[2*xi+1]=8,xi++,Qr[8]++;for(;xi<=255;)Zr[2*xi+1]=9,xi++,Qr[9]++;for(;xi<=279;)Zr[2*xi+1]=7,xi++,Qr[7]++;for(;xi<=287;)Zr[2*xi+1]=8,xi++,Qr[8]++;for(Ki(Zr,Sr+1,Qr),xi=0;xi<yr;xi++)Wr[2*xi+1]=5,Wr[2*xi]=qi(xi,5);Ei=new ci(Zr,jr,_r+1,Sr,kr),_i=new ci(Wr,Jr,0,yr,kr),Fi=new ci(new Array(0),Yr,0,Cr,Dr)}(),gi=!0),ri.l_desc=new $r(ri.dyn_ltree,Ei),ri.d_desc=new $r(ri.dyn_dtree,_i),ri.bl_desc=new $r(ri.bl_tree,Fi),ri.bi_buf=0,ri.bi_valid=0,Ti(ri)},ur._tr_stored_block=ti,ur._tr_flush_block=function(ri,xi,Ai,Kr){var Pr,qr,Qr=0;0<ri.level?(ri.strm.data_type===2&&(ri.strm.data_type=function(ai){var fi,vi=4093624447;for(fi=0;fi<=31;fi++,vi>>>=1)if(1&vi&&ai.dyn_ltree[2*fi]!==0)return xr;if(ai.dyn_ltree[18]!==0||ai.dyn_ltree[20]!==0||ai.dyn_ltree[26]!==0)return pr;for(fi=32;fi<_r;fi++)if(ai.dyn_ltree[2*fi]!==0)return pr;return xr}(ri)),Mi(ri,ri.l_desc),Mi(ri,ri.d_desc),Qr=function(ai){var fi;for(Mr(ai,ai.dyn_ltree,ai.l_desc.max_code),Mr(ai,ai.dyn_dtree,ai.d_desc.max_code),Mi(ai,ai.bl_desc),fi=Cr-1;3<=fi&&ai.bl_tree[2*Ur[fi]+1]===0;fi--);return ai.opt_len+=3*(fi+1)+5+5+4,fi}(ri),Pr=ri.opt_len+3+7>>>3,(qr=ri.static_len+3+7>>>3)<=Pr&&(Pr=qr)):Pr=qr=Ai+5,Ai+4<=Pr&&xi!==-1?ti(ri,xi,Ai,Kr):ri.strategy===4||qr===Pr?(ui(ri,2+(Kr?1:0),3),Di(ri,Zr,Wr)):(ui(ri,4+(Kr?1:0),3),function(ai,fi,vi,Ri){var Yi;for(ui(ai,fi-257,5),ui(ai,vi-1,5),ui(ai,Ri-4,4),Yi=0;Yi<Ri;Yi++)ui(ai,ai.bl_tree[2*Ur[Yi]+1],3);di(ai,ai.dyn_ltree,fi-1),di(ai,ai.dyn_dtree,vi-1)}(ri,ri.l_desc.max_code+1,ri.d_desc.max_code+1,Qr+1),Di(ri,ri.dyn_ltree,ri.dyn_dtree)),Ti(ri),Kr&&ii(ri)},ur._tr_tally=function(ri,xi,Ai){return ri.pending_buf[ri.d_buf+2*ri.last_lit]=xi>>>8&255,ri.pending_buf[ri.d_buf+2*ri.last_lit+1]=255&xi,ri.pending_buf[ri.l_buf+ri.last_lit]=255&Ai,ri.last_lit++,xi===0?ri.dyn_ltree[2*Ai]++:(ri.matches++,xi--,ri.dyn_ltree[2*(Lr[Ai]+_r+1)]++,ri.dyn_dtree[2*ei(xi)]++),ri.last_lit===ri.lit_bufsize-1},ur._tr_align=function(ri){ui(ri,2,3),bi(ri,Rr,Zr),function(xi){xi.bi_valid===16?(pi(xi,xi.bi_buf),xi.bi_buf=0,xi.bi_valid=0):8<=xi.bi_valid&&(xi.pending_buf[xi.pending++]=255&xi.bi_buf,xi.bi_buf>>=8,xi.bi_valid-=8)}(ri)}},{"../utils/common":41}],53:[function(ar,or,ur){or.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(ar,or,ur){(function(fr){(function(xr,pr){if(!xr.setImmediate){var br,gr,mr,_r,Sr=1,yr={},Cr=!1,Ar=xr.document,kr=Object.getPrototypeOf&&Object.getPrototypeOf(xr);kr=kr&&kr.setTimeout?kr:xr,br={}.toString.call(xr.process)==="[object process]"?function(Fr){process.nextTick(function(){Dr(Fr)})}:function(){if(xr.postMessage&&!xr.importScripts){var Fr=!0,Nr=xr.onmessage;return xr.onmessage=function(){Fr=!1},xr.postMessage("","*"),xr.onmessage=Nr,Fr}}()?(_r="setImmediate$"+Math.random()+"$",xr.addEventListener?xr.addEventListener("message",Rr,!1):xr.attachEvent("onmessage",Rr),function(Fr){xr.postMessage(_r+Fr,"*")}):xr.MessageChannel?((mr=new MessageChannel).port1.onmessage=function(Fr){Dr(Fr.data)},function(Fr){mr.port2.postMessage(Fr)}):Ar&&"onreadystatechange"in Ar.createElement("script")?(gr=Ar.documentElement,function(Fr){var Nr=Ar.createElement("script");Nr.onreadystatechange=function(){Dr(Fr),Nr.onreadystatechange=null,gr.removeChild(Nr),Nr=null},gr.appendChild(Nr)}):function(Fr){setTimeout(Dr,0,Fr)},kr.setImmediate=function(Fr){typeof Fr!="function"&&(Fr=new Function(""+Fr));for(var Nr=new Array(arguments.length-1),Hr=0;Hr<Nr.length;Hr++)Nr[Hr]=arguments[Hr+1];var jr={callback:Fr,args:Nr};return yr[Sr]=jr,br(Sr),Sr++},kr.clearImmediate=Or}function Or(Fr){delete yr[Fr]}function Dr(Fr){if(Cr)setTimeout(Dr,0,Fr);else{var Nr=yr[Fr];if(Nr){Cr=!0;try{(function(Hr){var jr=Hr.callback,Jr=Hr.args;switch(Jr.length){case 0:jr();break;case 1:jr(Jr[0]);break;case 2:jr(Jr[0],Jr[1]);break;case 3:jr(Jr[0],Jr[1],Jr[2]);break;default:jr.apply(pr,Jr)}})(Nr)}finally{Or(Fr),Cr=!1}}}}function Rr(Fr){Fr.source===xr&&typeof Fr.data=="string"&&Fr.data.indexOf(_r)===0&&Dr(+Fr.data.slice(_r.length))}})(typeof self>"u"?fr===void 0?this:fr:self)}).call(this,typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(jszip_min);var jszip_minExports=jszip_min.exports;const _0x3a07e6=getDefaultExportFromCjs$1(jszip_minExports),_0x39b409=_0x2abb;(function(lr,cr){const ar=_0x2abb,or=lr();for(;[];)try{if(parseInt(ar(245))/1+-parseInt(ar(326))/2+parseInt(ar(373))/3+-parseInt(ar(398))/4+parseInt(ar(370))/5*(-parseInt(ar(372))/6)+parseInt(ar(263))/7*(parseInt(ar(356))/8)+parseInt(ar(232))/9*(parseInt(ar(333))/10)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x5e26,409842);function _0x2abb(lr,cr){const ar=_0x5e26();return _0x2abb=function(or,ur){return or=or-214,ar[or]},_0x2abb(lr,cr)}function _0x5e26(){const lr=["loadCorsFile","short_name","VME_CFG_CURRENT_PLATFORM","txt","#platformLabel","SHADER","startEmulation","get_software_dir","message"," requirements.",".LAST_FILE","add","smd","background","storeCollection","Importing ... (","keys","application/octet-stream","tagName","configure","documentElement","./libretro/","description","files","checkFiles","loadRomFileFromUrl","importCorsFile","_libretro.wasm","guessConfig","storeValue","repeat","async","arraybuffer","set_default_handler","getActiveTheme","log","dynamicImg","</span>","state","--fontsize","file","html","blob","</p>","loadVmeImportFile","create","platforms","then","A new collection have been successfully imported.","NES","list","textContent","--transform","An error occurred:","1em","style","1391322ZDEIdz","sleep","Please import the missing file(s).","nul","Error loading file."," core.","getItem","7370oVZBLe","contains",".software","loadCollectionFile","Unsupported platform found.","software","print","vme_import.json not found in the ZIP file.","setSelectedPlatform","_libretro.js","none","--color3","push","items","dependencies",".png","Type HELP for info.","Saved ","Files have been successfully imported.","dynamic-image","function","values","shader","27912oKFSfN","title","checkDependencies","not_ready","innerHTML","loadRomFile","setProperty","#000000","bios","length","trim",`",
            "credits": "",
            "platform_id": "`,"error","loadAsync","363445fFObGg","double","18mfDcMc","128145cjkvHy","target","--color0","string","Error processing zip.","className","] Software dir.","url","showThumbnail","core","updatePlatform","Error importing VME Collection archive.","body","remove","Importing ..."," not found in the ZIP file.","vme_collection.json not found in the ZIP file.","find","force_scale","touch_controller_mapping","loadRomFromCollection","mouseover","thumbnail_dir","thumbnail","print_progress","1871664TViCTO","Error loading VME Import archive."," not found.","&nbsp;",'load "',"classList","importFile","credits","#cors_query_prefix","#cors_results","emulationStarted","SOFTWARE_DIR_KEY","addEventListener","src","parentNode",`",
            "image": "",
            "filename": "`,"--width"," files available.","theme","filename","vme_import.json","getSelectedPlatform","11241ubteSA","<span class='blinking2'>","getNostalgist","forEach","vme_collection.json","platform_id","bases","createElement","#cors_query","You are missing ",`",
            "url": "`,"hasTouch","Error loading ","667764mzsrAx","appendChild","storeFile","stringify","#settings","name","getElementById","saveState","redraw","SPAN","parse","] Ready","The image file is invalid: ","Please refer to the VM/E Manual for instructions.","image","getValue","/Named_Snaps/","platform_name","322FpSjCZ","display","block","&nbsp;[",`

        {
            "title": "`,"setItem","<p class='only-landscape'>"];return _0x5e26=function(){return lr},_0x5e26()}const SelectedPlatforms={NES,GB,GBC,GBA,SMS,PCE,MD,C64,C128,C264,A2600,A5200,A800,Lynx,CPC,VIC20,ZX80,Spectrum};var sa,Ho,to,O0,Ls,T0,ra,Ms,D0,Vs,R0,Hh,Wh,F0,Ru,qc,_f,Nc,vf,Lc,mf,Mc,gf,P0,Fu,B0,Pu,Lu,Vh;const Cs=class Cs{constructor(cr,ar,or){yi(this,F0);yi(this,qc);yi(this,Nc);yi(this,Lc);yi(this,Mc);yi(this,P0);yi(this,B0);yi(this,Lu);yi(this,sa,void 0);yi(this,Ho,void 0);yi(this,to,void 0);yi(this,O0,void 0);yi(this,Ls,void 0);yi(this,T0,void 0);yi(this,ra,void 0);yi(this,Ms,void 0);yi(this,D0,void 0);yi(this,Vs,void 0);yi(this,R0,void 0);const ur=_0x39b409;Oi(this,T0,cr),Oi(this,ra,ar),Oi(this,to,or);let fr=localStorage[ur(332)](Cs[ur(272)]);Oi(this,sa,Object[ur(354)](SelectedPlatforms)[ur(390)](xr=>xr.platform_id===fr)||SelectedPlatforms[ur(319)]),this.updatePlatform(),Vr(this,ra)[ur(303)](()=>{this[ur(383)]()})}async[(Hh=_0x39b409(272),Wh=_0x39b409(221),_0x39b409(295))](cr,ar){const or=_0x39b409;console[or(305)](or(267)+ar+or(367)+Vr(this,sa)[or(237)]+or(225)+ar+or(242)+cr+`"
        }

        `);try{Pi(this,F0,Ru).call(this,ar);const ur=await fetch(cr),fr=await ur[or(312)]();Pi(this,qc,_f).call(this,cr,ar),this[or(276)](fr,ar)}catch{throw new Error(or(330))}}async loadRomFile(cr,ar){const or=_0x39b409;Pi(this,F0,Ru).call(this,ar),this[or(276)](cr,ar)}async[_0x39b409(393)](cr,ar,or,ur){const fr=_0x39b409;cr=="md"&&(cr=fr(282));let xr=Object[fr(354)](SelectedPlatforms)[fr(390)](pr=>pr.platform_id===cr);Vr(this,to).checkFiles(xr)[fr(317)](([pr,br,gr])=>{const mr=fr;Oi(this,Ms,pr);let _r=Object[mr(354)](SelectedPlatforms).find(Sr=>Sr[mr(237)]===cr);this[mr(341)](_r),Oi(this,Vs,ur),this.loadRomFile(ar,or)})}async[_0x39b409(276)](cr,ar){const or=_0x39b409;let ur=this;Oi(this,R0,cr);let fr=Vr(this,sa),xr=Vr(this,sa)[or(382)];Oi(this,Ho,{});try{Oi(this,Ls,await Nostalgist.launch({core:xr,rom:{fileName:ar,fileContent:cr},async beforeLaunch(pr){const br=or;StorageManager[br(260)](br(275))!="0"&&typeof fr[br(355)]===br(353)&&await fr[br(355)](pr)},state:Vr(ur,Vs),onLaunch(pr){Oi(ur,D0,ar)},shader:StorageManager[or(260)](or(275))=="0"||typeof fr[or(355)]=="function"?void 0:"1",resolveCoreJs(pr){const br=or;return br(291)+xr+br(342)},resolveCoreWasm(pr){const br=or;return"./libretro/"+xr+br(297)},resolveRom(pr){return""+pr},resolveShader(pr){const br=or;return StorageManager[br(260)](br(275))=="0"?[]:Vr(ur,sa)[br(355)]}}))}catch(pr){console[or(368)]("Error importing Nostalgist:",pr);return}finally{Pi(this,P0,Fu).call(this,or(363),![]),Vr(this,T0)[or(220)]()}}[_0x39b409(234)](){return Vr(this,Ls)}[_0x39b409(277)](){return Vr(this,Ho)}[_0x39b409(341)](cr){const ar=_0x39b409;Oi(this,sa,cr),localStorage[ar(268)](Cs[ar(272)],Vr(this,sa).platform_id)}[_0x39b409(231)](){return Vr(this,sa)}[_0x39b409(304)](){return Vr(this,O0)}updatePlatform(){const cr=_0x39b409;s$1(cr(274))[cr(360)]="("+Vr(this,sa)[cr(271)]+")",this[cr(228)](Vr(this,sa).theme),Pi(this,Mc,gf).call(this)}[_0x39b409(358)](){Pi(this,Lc,mf).call(this)}[_0x39b409(228)](cr){const ar=_0x39b409;s$1("html").style[ar(264)]=ar(265),document[ar(290)][ar(325)][ar(362)](ar(322),"none"),document.documentElement[ar(325)][ar(362)]("--color2",""),document.documentElement[ar(325)][ar(362)](ar(344),""),document[ar(290)].style[ar(362)](ar(309),ar(324)),cr[ar(226)]==ar(371)?s$1(ar(249))[ar(215)][ar(281)]("doubleWidth"):s$1(ar(249)).classList[ar(386)]("doubleWidth"),Oi(this,O0,cr),Object[ar(286)](cr)[ar(235)](or=>{document.documentElement.style.setProperty(or,cr[or])}),Pi(this,P0,Fu).call(this,cr[ar(375)],![])}[_0x39b409(216)](cr,ar){const or=_0x39b409;Vr(this,to)[or(247)](Vr(this,sa)[or(237)]+"."+cr,ar)}[_0x39b409(270)](cr){const ar=_0x39b409;try{var or=[];cr[ar(346)][ar(235)](ur=>{const fr=ar;var xr={};xr.txt=String[ur[0]],xr[fr(380)]=cr.root+cr[fr(238)][ur[1]]+ur[2],or[fr(345)](xr)}),Oi(this,Ho,cr)}catch(ur){Vr(this,ra).message(ar(330)),console[ar(305)](ar(368),ur)}}importCorsFile(cr,ar){const or=_0x39b409;try{var ur=[];ar[or(346)][or(235)](fr=>{const xr=or;var pr={};pr[xr(273)]=String[fr[0]],pr[xr(380)]=ar.root+ar[xr(238)][fr[1]]+fr[2],ur[xr(345)](pr)}),Oi(this,Ho,ar),Vr(this,to)[or(247)](cr,ar)}catch(fr){Vr(this,ra)[or(278)](or(330)),console[or(305)]("error",fr)}}async[_0x39b409(336)](cr){const ar=_0x39b409,or=new _0x3a07e6;let ur=[];try{const fr=await or[ar(369)](cr);if(fr[ar(293)]["vme_collection.json"]){const xr=await fr[ar(310)](ar(236)).async("string"),pr=JSON[ar(255)](xr);Vr(this,ra)[ar(339)](ar(401)),Vr(this,ra).print_progress(ar(387));let br=pr[ar(320)].length,gr=0,mr=pr.id,_r=pr[ar(250)];const Sr=or[ar(310)](pr[ar(259)]);let yr=null;if(Sr)yr=await Sr[ar(301)](ar(312));else throw new Error(ar(257)+item[ar(259)]);for(const Ar of pr[ar(320)]){gr++,Vr(this,ra)[ar(397)](ar(285)+gr+"/"+br+")");const kr=Object[ar(354)](SelectedPlatforms)[ar(390)](jr=>jr[ar(237)]===Ar[ar(237)]);if(kr==null)throw new Error(ar(337));const[Or,Dr,Rr]=await Vr(this,to).checkFiles(kr);if(Dr[ar(365)]>0)throw new Error(ar(241)+Ar[ar(237)]+ar(279));const Fr=or[ar(310)](Ar[ar(259)]);let Nr=null;if(Fr)Nr=await Fr[ar(301)](ar(312));else throw new Error(ar(257)+Ar.image);let Hr=null;if(Ar[ar(380)])Hr=await(await fetch(Ar[ar(380)]))[ar(312)]();else throw new Error("The rom file is invalid: "+Ar[ar(380)]);ur[ar(345)]({title:Ar[ar(357)]!=null?Ar[ar(357)]:"",credits:Ar[ar(217)]!=null?Ar[ar(217)]:"",description:Ar.description!=null?Ar[ar(292)]:"",platform_id:Ar.platform_id,file:Hr,data_type:ar(312),filename:Ar[ar(229)],image:Nr})}if(await Vr(this,to)[ar(284)](mr,_r,yr,ur))Vr(this,ra)[ar(278)](ar(318));else throw new Error}else{Vr(this,ra)[ar(278)](ar(401),ar(384),ar(389));return}}catch(fr){console[ar(368)](ar(323),fr),Vr(this,ra)[ar(278)]("&nbsp;",ar(384));return}}async[_0x39b409(314)](cr){const ar=_0x39b409,or=new _0x3a07e6;let ur=!![];try{const fr=await or[ar(369)](cr);if(fr[ar(293)][ar(230)]){const xr=await fr.file(ar(230))[ar(301)]("string"),pr=JSON[ar(255)](xr);Vr(this,ra).print(ar(401));let br=1,gr=Object[ar(286)](pr.platforms)[ar(365)];for(const mr in pr[ar(316)]){Vr(this,ra)[ar(397)](ar(285)+br+++"/"+gr+")");const _r=pr[ar(316)][mr];if(!await Pi(this,B0,Pu).call(this,_r[ar(338)],mr+".software",fr))return;if(_r[ar(347)])for(const yr in _r[ar(347)]){const Cr=_r[ar(347)][yr];if(!await Pi(this,B0,Pu).call(this,Cr,mr+"."+yr,fr))throw new Error(ar(377))}}}else{Vr(this,ra)[ar(278)]("&nbsp;","Error loading VME Import archive.",ar(340)),ur=![];return}}catch(fr){console.error(ar(323),fr),Vr(this,ra)[ar(278)](ar(401),ar(399)),ur=![];return}ur&&Vr(this,ra)[ar(278)](ar(351))}showThumbnail(cr){const ar=_0x39b409;let or=this[ar(231)]()[ar(395)],ur="http://thumbnails.libretro.com/"+or+ar(261)+cr.replace(".zip",ar(348));this[ar(306)]&&(this[ar(306)][ar(223)]=ur,this[ar(306)].style.display=ar(265))}hideThumbnail(){const cr=_0x39b409;this[cr(306)]&&(this[cr(306)][cr(325)][cr(264)]=cr(343))}[_0x39b409(327)](cr){return new Promise(ar=>setTimeout(ar,cr))}async loadState(cr,ar,or,ur){const fr=_0x39b409;if(cr=="md"&&(cr=fr(282)),cr!=Vr(this,sa)[fr(237)]){let xr=Object[fr(354)](SelectedPlatforms)[fr(390)](pr=>pr[fr(237)]===cr);this[fr(341)](xr),this[fr(383)]()}Oi(this,Vs,ar),await this[fr(361)](or,ur)}async saveState(){const cr=_0x39b409;let ar=await Vr(this,Ls)[cr(252)]();const or=ar[cr(308)],ur=ar[cr(396)],fr=Vr(this,sa)[cr(237)],xr=Vr(this,D0),pr=Vr(this,R0);Vr(this,to).storeState(or,pr,ur,fr,xr)}};sa=new WeakMap,Ho=new WeakMap,to=new WeakMap,O0=new WeakMap,Ls=new WeakMap,T0=new WeakMap,ra=new WeakMap,Ms=new WeakMap,D0=new WeakMap,Vs=new WeakMap,R0=new WeakMap,F0=new WeakSet,Ru=async function(cr){const ar=_0x39b409;s$1(ar(218))[ar(325)][ar(264)]=ar(343),s$1(ar(218))[ar(360)]="",s$1(ar(240))[ar(360)]=ar(214)+cr+'"',s$1(ar(219))[ar(360)]="LOADING...";const or=this;let ur={};EnvironmentManager[ar(243)]()&&Vr(this,sa)[ar(392)]!=null?ur={...Vr(this,sa)[ar(392)]}:EnvironmentManager.hasGamepad()&&(ur={input_player1_up:ar(329),input_player1_left:"nul",input_player1_down:ar(329),input_player1_right:ar(329),input_player1_b:ar(329),input_player1_a:ar(329),input_player1_c:ar(329)}),Nostalgist[ar(289)]({bios:Vr(this,sa)[ar(364)],retroarchConfig:{rewind_enable:!![],rewind_buffer_size:20,rewind_granularity:5,fastforward_ratio:10,input_pause_toggle:![],video_scale_integer:Vr(this,sa).force_scale===void 0?![]:Vr(this,sa)[ar(391)],video_smooth:!![],savestate_thumbnail_enable:!![],video_font_enable:![],input_menu_toggle:ar(329),...ur},retroarchCoreConfig:typeof Vr(this,sa)[ar(298)]===ar(353)?Vr(this,sa)[ar(298)](cr):{},resolveBios(fr){const xr=ar;let pr=Vr(or,sa).platform_id+"."+fr,br=Vr(or,Ms)[pr];return new Blob([br],{type:xr(287)})}})},qc=new WeakSet,_f=function(cr,ar){const or=_0x39b409,ur={filename:cr,caption:ar},fr=JSON[or(248)](ur);StorageManager[or(299)](Vr(this,sa)[or(237)]+or(280),fr)},Nc=new WeakSet,vf=function(cr,ar,or){const ur=_0x39b409;Vr(this,ra).print(cr),Vr(this,ra).print(ur(266)+(ar?"x":" ")+ur(256)),Vr(this,ra)[ur(339)](ur(266)+(or?"x":" ")+ur(379)),Vr(this,ra).print(ur(401))},Lc=new WeakSet,mf=async function(){const cr=_0x39b409;for(const ar in SelectedPlatforms){const or=SelectedPlatforms[ar],[ur,fr,xr]=await Vr(this,to)[cr(294)](or),pr=fr[cr(365)]===0;Pi(this,Nc,vf).call(this,or.platform_name,pr&&!or[cr(359)],xr!==null)}},Mc=new WeakSet,gf=function(){const cr=_0x39b409;Vr(this,to)[cr(294)](Vr(this,sa))[cr(317)](([ar,or,ur])=>{const fr=cr;Oi(this,Ms,ar);let xr=!![];Vr(this,ra)[fr(339)](Vr(this,sa)[fr(262)]),Vr(this,ra)[fr(339)](fr(269)+"="[fr(300)](Vr(this,sa)[fr(262)][fr(365)])+fr(313)),or[fr(365)]>0&&(xr=![],Vr(this,ra)[fr(339)](fr(401)),Vr(this,ra).print("REQUIRED FILES missing:"),or[fr(235)](pr=>{const br=fr;Vr(this,ra)[br(339)]("- "+pr)})),ur==null?(Vr(this,ra)[fr(339)](fr(401)),xr=![],Vr(this,ra)[fr(339)]("SOFTWARE DIRECTORY missing!"),Oi(this,Ho,void 0)):this[fr(270)](ur),Vr(this,ra)[fr(339)]("&nbsp;"),Vr(this,sa).message?(Vr(this,ra)[fr(339)](fr(233)+Vr(this,sa)[fr(278)]+fr(307)),Vr(this,ra)[fr(339)](fr(401)),Vr(this,ra)[fr(339)]("Type HELP for info.")):xr?(Vr(this,ra)[fr(339)](ur[fr(346)].length+fr(227)),Vr(this,ra).print(fr(401)),Vr(this,ra)[fr(339)](fr(349))):(Vr(this,ra)[fr(339)](fr(328)),Vr(this,ra).print(fr(401)),Vr(this,ra)[fr(339)](fr(258)))}).catch(ar=>{const or=cr;console.log(ar.stack),Vr(this,ra).print(or(244)+Vr(this,sa)[or(262)]+or(331))}).finally(()=>{const ar=cr;Vr(this,ra)[ar(253)]()})},P0=new WeakSet,Fu=function(cr){const ar=_0x39b409;s$1(ar(249)).style[ar(283)]=cr,s$1(ar(385))[ar(325)][ar(283)]=cr,s$1(ar(311))[ar(325)][ar(283)]=cr},B0=new WeakSet,Pu=async function(cr,ar,or){const ur=_0x39b409;if(or[ur(293)][cr]){let xr;if(cr.endsWith(".json")){xr=await or[ur(310)](cr)[ur(301)](ur(376));let pr=JSON[ur(255)](xr);this[ur(296)](ar,pr)}else{xr=await or[ur(310)](cr)[ur(301)](ur(302));var fr=cryptoJsExports.lib.WordArray[ur(315)](xr);cryptoJsExports.MD5(fr).toString(),await Vr(this,to)[ur(247)](ar,xr)}return console[ur(305)](ur(350)+ar),!![]}else return console.error(cr+ur(388)),Vr(this,ra)[ur(278)](ur(401),ur(399),""+cr+ur(400)),![]},Lu=new WeakSet,Vh=function(){const cr=_0x39b409;this[cr(306)]=document[cr(239)]("img"),this[cr(306)][cr(378)]=cr(352),this[cr(306)][cr(325)][cr(264)]=cr(343),document[cr(385)][cr(246)](this[cr(306)]),this.dynamicImg[cr(222)](cr(368),()=>{this.hideThumbnail()});const ar=document[cr(251)]("cors_results");ar.addEventListener(cr(394),or=>{const ur=cr;if(or[ur(374)][ur(288)]==="SPAN"&&or[ur(374)][ur(224)][ur(215)][ur(334)]("corsrow")){let fr=or[ur(374)][ur(321)][ur(366)]();this[ur(381)](fr)}}),ar[cr(222)]("mouseout",or=>{const ur=cr;or[ur(374)][ur(288)]===ur(254)&&or[ur(374)].parentNode[ur(215)][ur(334)]("corsrow")&&this.hideThumbnail()})},Pa(Cs,Hh,"VME_CFG.CURRENT_PLATFORM"),Pa(Cs,Wh,_0x39b409(335));let PlatformManager=Cs;const _0x58678c=_0x2128;(function(lr,cr){const ar=_0x2128,or=lr();for(;[];)try{if(parseInt(ar(213))/1*(-parseInt(ar(182))/2)+-parseInt(ar(239))/3*(-parseInt(ar(255))/4)+-parseInt(ar(222))/5+-parseInt(ar(244))/6+parseInt(ar(221))/7+-parseInt(ar(245))/8*(-parseInt(ar(219))/9)+parseInt(ar(209))/10===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0xc8f6,436340);function _0xc8f6(){const lr=["next","99kvQwsl","show","88165Pgrnoj","2432670UIIISF","style","screenshot","reset","currentPanel","position","scale(12)","replace","camera",`deg)">
            <div class="flicking-title flicking-title-name">`,"getSaveData","getAttribute","getElementById","Escape","clientWidth","find","active","83037MwbbEZ","forEach","click","changed","classList","853278qHOcgy","415432lhhfiD","querySelectorAll","saveBrowserUiDelete","updatePlatform","getAllSaveMeta","img","ArrowRight","values","move","#saveBrowserUiBack","20ZLrAnY","transform","platform_id","smd","disabled","key",".flicking-panel","element","toggleScreen",`)</div>
        </div>
        `,"touchstart","catch","program_name","moveStart","prev","display","destroy","add","index","2BMSSYT","loadState","querySelector","animating","background","append","keydown","deleteSave","Enter","CURRENT_SCREEN","then","saveBrowserUiLoad","translateX(","MENU",`
        <div class="flicking-panel" data-id="`,"moveEnd","addEventListener","createObjectURL","%) scale(12)","close","#save-browser","No save states found.","remove","url(",".flicking-background",'" style="transform: rotate(',"snap","9356410tbMFIi","data-id","panelCount","saveBrowserEmpty","592763QRiMNe","#saveBrowserUiDelete","short_name","none","removeEventListener"];return _0xc8f6=function(){return lr},_0xc8f6()}function _0x2128(lr,cr){const ar=_0xc8f6();return _0x2128=function(or,ur){return or=or-180,ar[or]},_0x2128(lr,cr)}var is,Us,as,q0,la,ss,zs,Hs,Vc,yf,Ws,dc,jc,bf,Wo,Is,N0,Bu,Uc,Ef,zc,wf,Hc,Sf;class SaveBrowser{constructor(cr,ar,or,ur){yi(this,Vc);yi(this,Ws);yi(this,jc);yi(this,Wo);yi(this,N0);yi(this,Uc);yi(this,zc);yi(this,Hc);yi(this,is,void 0);yi(this,Us,void 0);yi(this,as,void 0);yi(this,q0,void 0);yi(this,la,void 0);yi(this,ss,void 0);yi(this,zs,void 0);yi(this,Hs,void 0);const fr=_0x2128;Oi(this,is,cr),Oi(this,Us,ar),Oi(this,as,or),Oi(this,q0,ur),Oi(this,Hs,Pi(this,zc,wf).bind(this)),addButtonEventListeners(s$1(fr(254)),xr=>{const pr=fr;xr&&(this[pr(201)](),Vr(this,is).toggleScreen(VME[pr(191)].MENU))})}open(){const cr=_0x2128;let ar=document[cr(184)](cr(202));ar[cr(243)][cr(180)](cr(220)),ar[cr(223)].opacity=1,Pi(this,Uc,Ef).call(this),Oi(this,la,new Flicking("#flicking",{circular:!![],moveType:cr(208),preventClickOnDrag:!![],autoResize:!![]}));let or=this,ur=![];const fr=xr=>{const pr=cr;ur||(ur=!![],Vr(this,la).moveTo(xr)[pr(192)](()=>{ur=![]})[pr(266)](()=>{ur=![]}))};Vr(this,as)[cr(249)]()[cr(192)](xr=>{var br,gr,mr,_r;const pr=cr;xr.length==0?(Pi(br=or,Wo,Is).call(br),Pi(gr=or,Ws,dc).call(gr)):(xr.forEach(yr=>{var kr;const Cr=_0x2128,Ar=Pi(kr=or,Vc,yf).call(kr,yr);Vr(or,la)[Cr(187)](Ar)}),document.querySelectorAll(pr(261))[pr(240)]((yr,Cr)=>{const Ar=pr;yr[Ar(198)](Ar(241),()=>fr(Cr)),yr.addEventListener(Ar(265),()=>fr(Cr))}),Vr(or,la).on(pr(242),yr=>{var Cr,Ar;Pi(Cr=or,Ws,dc).call(Cr),Pi(Ar=or,Wo,Is).call(Ar)}),Vr(or,la).on(pr(253),yr=>{var Cr;Pi(Cr=or,jc,bf).call(Cr)}),Vr(or,la).on(pr(197),yr=>{var Cr;Pi(Cr=or,Wo,Is).call(Cr)}),Vr(or,la).on(pr(268),yr=>{const Cr=pr;document.querySelectorAll(Cr(261)).forEach(kr=>kr[Cr(243)][Cr(204)](Cr(238))),document[Cr(234)](Cr(193))[Cr(243)][Cr(180)](Cr(259)),document.getElementById(Cr(247))[Cr(243)].add("disabled"),Oi(this,ss,![])}),Pi(mr=or,Wo,Is).call(mr),Pi(_r=or,Ws,dc).call(_r),Oi(this,zs,![]))}),document[cr(198)](cr(188),Vr(this,Hs)),addButtonEventListeners(s$1(cr(214)),xr=>{const pr=cr;if(xr&&Vr(this,ss)){const br=Vr(this,la)[pr(226)];if(br!=null){const gr=br[pr(262)].getAttribute(pr(210)),mr=parseInt(gr,10),_r=Vr(or,la)[pr(211)]-1;Vr(or,as)[pr(189)](mr).then(()=>{var Cr;const Sr=pr;Vr(or,la).remove(br.index);let yr=br[Sr(181)];yr>=_r&&(yr=_r-1),Vr(or,la)[Sr(211)]>0&&Vr(or,la).moveTo(yr,0),Pi(Cr=or,Wo,Is).call(Cr)})}}}),addButtonEventListeners(s$1("#saveBrowserUiLoad"),xr=>{xr&&Pi(this,N0,Bu).call(this)}),Vr(this,is)[cr(263)](VME.CURRENT_SCREEN.SAVE_BROWSER)}[_0x58678c(201)](){const cr=_0x58678c;document[cr(217)]("keydown",Vr(this,Hs)),Vr(this,q0)[cr(225)](),Vr(this,Us)[cr(248)]()}}is=new WeakMap,Us=new WeakMap,as=new WeakMap,q0=new WeakMap,la=new WeakMap,ss=new WeakMap,zs=new WeakMap,Hs=new WeakMap,Vc=new WeakSet,yf=function(cr){const ar=_0x2128;cr[ar(257)]=="md"&&(cr.platform_id=ar(258));const or=Object[ar(252)](SelectedPlatforms)[ar(237)](pr=>pr.platform_id===cr.platform_id);let ur=new Blob([cr[ar(224)]],{type:"image/png"});const fr=URL[ar(199)](ur),xr=Math.random()*20-10;return ar(196)+cr.id+`">
            <img src="`+fr+'" alt='+cr[ar(267)]+ar(207)+xr+ar(231)+Pi(this,Hc,Sf).call(this,cr[ar(267)])+" ("+or[ar(215)]+ar(264)},Ws=new WeakSet,dc=function(){const cr=_0x2128;var ar=Vr(this,la)[cr(226)];if(ar!=null){var or=ar[cr(262)][cr(184)](cr(250)).src;document[cr(184)](cr(206)).style[cr(186)]=or,document.querySelector(cr(206))[cr(223)][cr(186)]=cr(205)+or+")",document.querySelector(cr(206)).style[cr(256)]=cr(228)}},jc=new WeakSet,bf=function(){const cr=_0x2128;var ar=Vr(this,la)[cr(262)][cr(236)],or=Vr(this,la)[cr(230)][cr(227)]/ar,ur=document[cr(184)](".flicking-background");ur[cr(223)][cr(256)]=cr(194)+or*50+cr(200)},Wo=new WeakSet,Is=function(){const cr=_0x2128,ar=Vr(this,la).currentPanel;ar!=null?(document.getElementById(cr(212))[cr(223)].display=cr(216),document.getElementById(cr(193))[cr(243)][cr(180)](cr(259)),document[cr(234)]("saveBrowserUiDelete")[cr(243)].add("disabled"),document[cr(246)](".flicking-panel")[cr(240)](ur=>ur[cr(243)][cr(204)](cr(238))),ar[cr(262)][cr(243)][cr(180)](cr(238)),document.getElementById(cr(193)).classList.remove(cr(259)),document[cr(234)](cr(247))[cr(243)][cr(204)](cr(259)),Oi(this,ss,!![])):(document[cr(234)](cr(212))[cr(223)][cr(270)]="block",document[cr(234)]("saveBrowserEmpty").innerHTML=cr(203),document.getElementById(cr(193))[cr(243)][cr(180)](cr(259)),document[cr(234)](cr(247))[cr(243)][cr(180)](cr(259)))},N0=new WeakSet,Bu=function(){const cr=_0x58678c;if(this[cr(201)](),Vr(this,ss)&&!Vr(this,zs)){Oi(this,zs,!![]);const ar=Vr(this,la)[cr(226)];if(ar!=null){const or=ar[cr(262)][cr(233)](cr(210)),ur=parseInt(or,10);Vr(this,as)[cr(232)](ur)[cr(192)](fr=>{const xr=cr;Vr(this,Us)[xr(183)](fr[xr(257)],fr.save_data,fr.rom_data,fr[xr(267)])})}}},Uc=new WeakSet,Ef=function(){const cr=_0x58678c;if(Vr(this,la)){const ar=Vr(this,la)[cr(211)];for(let or=ar-1;or>=0;or--)Vr(this,la).remove(or);Vr(this,la)[cr(271)]()}},zc=new WeakSet,wf=function(cr){const ar=_0x58678c;!Vr(this,la)||Vr(this,la)[ar(185)]||(cr.key===ar(251)?Vr(this,la)[ar(218)]()[ar(266)](()=>{}):cr.key==="ArrowLeft"?Vr(this,la)[ar(269)]()[ar(266)](()=>{}):cr[ar(260)]===ar(190)?Pi(this,N0,Bu).call(this):cr.key===ar(235)&&(this[ar(201)](),Vr(this,is)[ar(263)](VME[ar(191)][ar(195)])))},Hc=new WeakSet,Sf=function(cr){const ar=_0x58678c;return cr=cr[ar(229)](/\.[^/.]+$/,""),cr=cr[ar(229)](/[\[\(][^\[\]\(\)]+[\]\)]/g,"").trim(),cr};const _0x411e58=_0x13db;(function(lr,cr){const ar=_0x13db,or=lr();for(;[];)try{if(-parseInt(ar(428))/1+parseInt(ar(416))/2*(parseInt(ar(408))/3)+-parseInt(ar(382))/4*(-parseInt(ar(352))/5)+-parseInt(ar(386))/6*(parseInt(ar(360))/7)+parseInt(ar(364))/8*(parseInt(ar(427))/9)+-parseInt(ar(420))/10+-parseInt(ar(377))/11*(-parseInt(ar(436))/12)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x2fd3,444793);function _0x13db(lr,cr){const ar=_0x2fd3();return _0x13db=function(or,ur){return or=or-341,ar[or]},_0x13db(lr,cr)}function _0x2fd3(){const lr=["#collection-browser","save_data_id","platform_name","timestamp","417708UBUiLD","297907wVzcRt","currentPanel","length","getAllSaveMeta","save","data-id","rom_data",".flicking-panel","467256sGKujc","Cannot load selected program.","addEventListener","forEach",'" alt=',`)</span>
            <br/>
            <span class="flicking-secondary-label">`,"add","snap","collectionBrowserUiLoad","loadRomFromCollection",`</span>
            </div>
        </div>
        `,"panelCount","sort","dataset","platform_id","rom_data_id","MENU","3685DroMKj","#collectionBrowserUiBack","CURRENT_SCREEN","catch","close","next","open","block","8617OjICbN","innerHTML","COLLECTION_BROWSER","prev","32xCODYn","changed","touchstart","push","destroy","clearValue","getRomData","element",`</span>
            <br/>
            <span class="flicking-secondary-label">(`,"getAttribute",`deg)">
            <div class="flicking-title flicking-title-name">
            <span class="flicking-primary-label">`,"random","collectionBrowserUiRestore","121HuMStE","#collectionBrowserUiRestore","#collection-flicking","save_data","remove","1244naXZrT","storeValue","active","No collection found.","2634RfQGLS","getCollectionItems","#collectionBrowserUiLoad","key","then","classList","keydown","none","querySelector","values","rom_name","title","querySelectorAll","collectionBrowserEmpty","image","getSaveData","removeEventListener","show","toggleScreen","find",`">
            <img src="`,"findIndex","12aDlCMM","disabled","animating",`
        <div class="flicking-panel" data-id="`,"contains","filter","style","credits","306226oqKIAt","smd","ArrowRight","Escape","1725160HslJYf","panels","getElementById"];return _0x2fd3=function(){return lr},_0x2fd3()}var cs,Ks,Bo,L0,wa,us,Gs,ls,Ys,Wc,Af,fs,h0,Kc,If,M0,qu,Gc,Cf,Yc,kf;class CollectionBrowser{constructor(cr,ar,or,ur){yi(this,Wc);yi(this,fs);yi(this,Kc);yi(this,M0);yi(this,Gc);yi(this,Yc);yi(this,cs,void 0);yi(this,Ks,void 0);yi(this,Bo,void 0);yi(this,L0,void 0);yi(this,wa,void 0);yi(this,us,void 0);yi(this,Gs,void 0);yi(this,ls,void 0);yi(this,Ys,void 0);const fr=_0x13db;Oi(this,cs,cr),Oi(this,Ks,ar),Oi(this,Bo,or),Oi(this,L0,ur),Oi(this,Ys,Pi(this,Yc,kf).bind(this)),addButtonEventListeners(s$1(fr(353)),xr=>{const pr=fr;xr&&(StorageManager.clearValue(BOOT_TO),StorageManager[pr(369)](COLLECTION_BROWSER_COLLECTION_INDEX),StorageManager.clearValue(COLLECTION_BROWSER_ITEM_INDEX),this.close(),Vr(this,cs).toggleScreen(VME[pr(354)][pr(351)]))})}async[_0x411e58(358)](cr=1,ar=1){const or=_0x411e58;let ur=document[or(394)](or(423));ur[or(391)][or(341)](or(403)),ur[or(414)].opacity=1,Pi(this,Gc,Cf).call(this),Oi(this,wa,new Flicking(or(379),{circular:![],moveType:or(342),preventClickOnDrag:!![],autoResize:!![]}));let fr=this,xr=![];const pr=gr=>{const mr=or;xr||(xr=!![],Vr(this,wa).moveTo(gr)[mr(390)](()=>{xr=![]}).catch(()=>{xr=![]}))};Oi(this,us,[]);const br=await Vr(this,Bo)[or(431)]();Vr(this,Bo)[or(387)]()[or(390)](gr=>{var _r,Sr;const mr=or;if(gr[mr(430)]==0)Pi(_r=fr,fs,h0).call(_r);else{gr[mr(439)](Ar=>{var Rr;const kr=mr,Or=br[kr(413)](Fr=>Fr[kr(349)]==Ar[kr(349)]&&Fr[kr(350)]==Ar[kr(350)])[kr(347)]((Fr,Nr)=>Nr[kr(426)]-Fr[kr(426)])[0];Or!=null&&(Ar[kr(424)]=Or[kr(424)]);const Dr=Pi(Rr=fr,Wc,Af).call(Rr,Ar);Vr(fr,wa).append(Dr),Vr(this,us)[kr(367)](Ar)}),document[mr(398)](mr(435)).forEach((Ar,kr)=>{const Or=mr;Ar.addEventListener("click",()=>pr(kr)),Ar[Or(438)](Or(366),()=>pr(kr))}),Vr(fr,wa).on(mr(365),Ar=>{var kr;Pi(kr=fr,fs,h0).call(kr)}),Vr(fr,wa).on("moveEnd",Ar=>{var kr;Pi(kr=fr,fs,h0).call(kr)}),Vr(fr,wa).on("moveStart",Ar=>{const kr=mr;document[kr(398)](".flicking-panel")[kr(439)](Dr=>Dr[kr(391)].remove(kr(384))),document.getElementById(kr(343))[kr(391)].add("disabled"),document[kr(422)](kr(376))[kr(391)][kr(341)](kr(409)),Oi(this,Gs,![])});const Cr=Vr(fr,wa)[mr(421)][mr(407)](Ar=>Ar[mr(371)][mr(348)].id===String(ar));Cr>=0&&Vr(fr,wa).moveTo(Cr,0),Pi(Sr=fr,fs,h0).call(Sr),Oi(this,ls,![])}}),document.addEventListener(or(392),Vr(this,Ys)),addButtonEventListeners(s$1(or(388)),gr=>{gr&&Pi(this,M0,qu).call(this)}),addButtonEventListeners(s$1(or(378)),gr=>{gr&&Pi(this,Kc,If).call(this)}),StorageManager.storeValue(BOOT_TO,BOOT_TO_COLLECTION_BROWSER),Vr(this,cs).toggleScreen(VME[or(354)][or(362)])}[_0x411e58(356)](){const cr=_0x411e58;document[cr(402)](cr(392),Vr(this,Ys)),Vr(this,L0).reset()}}cs=new WeakMap,Ks=new WeakMap,Bo=new WeakMap,L0=new WeakMap,wa=new WeakMap,us=new WeakMap,Gs=new WeakMap,ls=new WeakMap,Ys=new WeakMap,Wc=new WeakSet,Af=function(cr){const ar=_0x13db;cr[ar(349)]=="md"&&(cr[ar(349)]=ar(417));const or=Object[ar(395)](SelectedPlatforms)[ar(405)](fr=>fr[ar(349)]===cr[ar(349)]),ur=Math[ar(375)]()*20-10;return ar(411)+cr.id+'" data-save="'+cr[ar(424)]+ar(406)+cr[ar(400)]+ar(440)+cr[ar(397)]+'" style="transform: rotate('+ur+ar(374)+cr[ar(397)]+ar(372)+cr[ar(415)]+ar(441)+or[ar(425)]+ar(345)},fs=new WeakSet,h0=function(){const cr=_0x13db,ar=Vr(this,wa)[cr(429)];ar!=null?(document.getElementById("collectionBrowserEmpty")[cr(414)].display=cr(393),document[cr(398)](cr(435))[cr(439)](ur=>ur[cr(391)][cr(381)]("active")),ar[cr(371)][cr(391)][cr(341)](cr(384)),document[cr(422)]("collectionBrowserUiLoad").classList[cr(381)](cr(409)),ar.element[cr(348)][cr(432)]!="undefined"?document.getElementById(cr(376))[cr(391)][cr(381)](cr(409)):document[cr(422)](cr(376))[cr(391)].add(cr(409)),Oi(this,Gs,!![])):(document[cr(422)]("collectionBrowserEmpty")[cr(414)].display=cr(359),document[cr(422)](cr(399))[cr(361)]=cr(385),document[cr(422)](cr(376))[cr(391)].add(cr(409)),document[cr(422)]("collectionBrowserUiLoad")[cr(391)][cr(341)](cr(409)))},Kc=new WeakSet,If=async function(){const cr=_0x411e58,ar=Vr(this,wa)[cr(429)];if(ar!=null){if(document[cr(422)](cr(376))[cr(391)][cr(412)](cr(409)))return;Oi(this,ls,!![]);const or=ar[cr(371)][cr(373)](cr(433)),ur=parseInt(or,10);StorageManager[cr(383)](COLLECTION_BROWSER_COLLECTION_INDEX,1),StorageManager.storeValue(COLLECTION_BROWSER_ITEM_INDEX,ur);const fr=Vr(this,us)[cr(413)](xr=>xr.id===ur);if(fr.length>0){const xr=ar.element[cr(348)][cr(432)],pr=parseInt(xr,10),br=await Vr(this,Bo)[cr(401)](pr),gr=fr[0],mr=await Vr(this,Bo)[cr(370)](gr[cr(350)]);Vr(this,Ks)[cr(344)](gr[cr(349)],mr[cr(434)],gr.rom_name,br[cr(380)]),this[cr(356)]()}else throw new Exception(cr(437))}},M0=new WeakSet,qu=async function(){const cr=_0x411e58;if(Vr(this,Gs)&&!Vr(this,ls)){Oi(this,ls,!![]);const ar=Vr(this,wa)[cr(429)];if(ar!=null){const or=ar[cr(371)][cr(373)](cr(433)),ur=parseInt(or,10);StorageManager[cr(383)](COLLECTION_BROWSER_COLLECTION_INDEX,1),StorageManager[cr(383)](COLLECTION_BROWSER_ITEM_INDEX,ur);const fr=Vr(this,us).filter(xr=>xr.id===ur);if(fr[cr(430)]>0){const xr=fr[0],pr=await Vr(this,Bo)[cr(370)](xr[cr(350)]);Vr(this,Ks)[cr(344)](xr[cr(349)],pr[cr(434)],xr[cr(396)]),this.close()}else throw new Exception(cr(437))}}},Gc=new WeakSet,Cf=function(){const cr=_0x411e58;if(Vr(this,wa)){const ar=Vr(this,wa)[cr(346)];for(let or=ar-1;or>=0;or--)Vr(this,wa)[cr(381)](or);Vr(this,wa)[cr(368)]()}},Yc=new WeakSet,kf=async function(cr){const ar=_0x411e58;!Vr(this,wa)||Vr(this,wa)[ar(410)]||(cr[ar(389)]===ar(418)?Vr(this,wa)[ar(357)]()[ar(355)](()=>{}):cr[ar(389)]==="ArrowLeft"?Vr(this,wa)[ar(363)]()[ar(355)](()=>{}):cr[ar(389)]==="Enter"?Pi(this,M0,qu).call(this):cr[ar(389)]===ar(419)&&(this.close(),Vr(this,cs)[ar(404)](VME.CURRENT_SCREEN[ar(351)])))};const _0x14ed31="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAKUPMvFBQAAXaWbT8YkAAYBgAA4x/4xj/5d3vd3d34QXFxc+A4BoKDQUAKAKAsBoKU4uDQGgpTu7ule7u9/u7vf/8u91/Lu7pW5Yue7mKHYKwFwFw/YOAFwFwbngQEDPg++olnOqSYV1ZhCJNKWMAJgBxgjIjV2XFoAfl2GMKBQaWUJESywrggJFVDq0RDyAKF3Qsh9IhUCDrdh4Ut+DWznv8/OfjNJHWVqf++9/8oq0IHZaXDLJAgSKZb+DDutKr/3of+h3UXrrUA//tSxAUAC3EBUrjFgAF8HGuDEvAAS4ZECEdUqFxQ1ghPPPIM4OhYgkiUfOnjyJLYoYqSudPmA6hKEidLT1/SkO7fG2my+Lnpjnuc2Ld3bI631P7d0SgaxWyfg9Md55705ps6Jr3e5KxAYEAPPTAsZEzWWbUNms3nYISopCeKBgbWp8+vNeG5ORyN+runVKzx8FGRQNwUomiJISeK7VPp9fqN0wZWI/zAfWt///3kje5w4UTH3BzXH/zP8/2pd7cUKVf4g+IqHiuAoHBC0nccSXP/+1LEBYALcNVMGYSAAX2UqMMykADLONBirVnei9LAkgBYNKqsCoQEhpESztHo+yqFYUULJahEIPA1Fh7SKCOXmru+Lo7cZQqEM+V99Vcff97/WVv///8kUXRjkoMHSVMtZ/bnIiECrFQCe/5whX3mfxrEqeyGmzs5lEjmbgyBlAye0LCUiaM2rmkYiRE1L9BkF2FTJ8mYjSJRpRTqL5JiO25KW1ru/M9xx8LUwHlh4GDpNRcmMaxj4bIHaz6JG3mmyS//1y6IYQdsalponDrbnP/7UsQGAAvk51IY94ABc6WpwxiwASEXxGFMgFFM/fNDT7TZgSQa1+Zo5+HBqr4SHftOTs01XMxs1U6xTxa5/Z5mNnZM7xGs+hf//V3mvTXjYtC+df//948ph5Ef3+ISeYVa94ls5/vKhorEpW0ZwmjhQH8fDJFfjdWaGpph4OG70m003Bg3YhNO7T0CkltjqWPezH0ah2AmK7u23/zB8nuOez39s+GfvTP5z+JfW7+eJv9BA0Mx4Hwnwctl///3//+Os3HbkttbkZcTYAFqYrDQ//tSxAYADATvZ7iUAAF1oCsDEvAAoAPIlkQIrETAiRMKESJZDi5IBg7aSyQaiFCSego4sE4/vFaFxc8RwBAEyUVGnSd7EYRkEo1aX+nFEp+tjVi///kXHigoZ8LUytf//nuBHYa/65QBzszi7ieabcYrhskOx1AoQ+cNvldF2p4U+d9hXM4hUsZle69KmeRz9yiNsWDXxJs01D97R4vtjP19Zz/F3iE/gw//65rreKX/xueLNmlJcb9rW9rf/5//gQEkeIvU5VGNJWoQSAwAVUT/+1LEBQALpRtiGJQAAWMR6reYgAAsLmRoyYLywmD2x1UQSwfcuYNo5ygOWVU5WNDuhY46Uibk+hez0ZZD0mv2+SxHMH1zyqipX/Hno5toQNPqxKHRYyauLn5+T+Ve36vs4Rclw1859VWSBTgQMcluBEZKxpGoyA8cD0qLSJKa4ZsGQAWbNBQUIIc1JqoLCwszN/qpNNGqyvC1OtNEfbdSSG8SiV07OoQtxIFTCciOeWNqtMBQ9/R8SpZpCZyn63/Qjc1QApttwfJpLRrkqS6MT//7UsQIAAwkM0lHsSYJYounYPYkyZkHYVEoQHyBoRIhLI8TDiMy1jjgkrplWmqE0xkonLc3gvYUyw6aoxLMt+9jieUOHxsWKcqW5j7Y3tKA34fu1lcktrenov92nHdpYsbpv////QjAgAMNUmYrx5mk6NY0mQRbAtZoEA2QCAMEYUOGjAfWc5Gky9BsnZNJOs3GXv2DWE2gsF5n6rmuCiHy/MKf/zP2/z4MRb7fzLpW4r9gPKnPXurDN//ch8pqYsqkIITjbcAAokABGAbCoOCs//tSxAkACjx7QaWwaMFGqGaw8Iq4Mgk+MBpPQ8HtEIDEUabFxbXS1M5pWuaP3XNTzliDoKB8weLDkwsXJuHSG8BiZjRzLC0klgtqpVItEu5aBSOVHEORIglVpsVhNzuLybx6l6XRksDRCNt4rFfpqvJVvpp7H3P4mxgANmyRiQWTSjhadZEcy5BxhmYObe9TIjl9f+nXDRXwsofDe1maiUVmu4lSUIoBRJIgDSqBBhGlor0Kgh+neaUyOS8VASAWdJDsUiiutYzrMNckwutPLNX/+1LEFQAJ7IMph6RswQ2Mo9j3mADNU6qfAx5l2B3FWvfJDIuhBsehNFais9S5jNEqR0N+Bvss93/yIF/2WQV5HogcSygpI0lZEJKCtNIuRRYBbMtLHU5HDqokkai1aRo1Fjh4xlZ0s9AVO6zp4RLnst8j+Wh3/Ge2S0f//74AA2VmRI7t/+lJHnEnrSEq0jLK0/Y/liX69jmyP4U1IQRqb/20J//td//lqkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqv/7UsQpg8VoARPgjEAgAAA0gAAABKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",_0x1eab56="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAIhHErNDGAAbGs7fcSgAGUACAADbd3d+IBgbnoicL/03c/0RAMDFu7nEAwMDfiE4AAHAfD4jPlAQWCCwfPlz//E5//wffiMP6wQDH/y4f//BA5D/s0e/9fr7VJgCJ6QKCOVMjTI4T0nChxvk0EE63caf3VhEKkT2emwdhsIClcmnd0HmIIRvyxXV0knjomxwtx/d/+MEYcnes02tf/9XzdkUjp3zXHf///o9Lb8uNZv+fWV/////k0PxQoD0uRJcVOHUIMYwuxdgD5//tSxAUACyy/Uhj0gAF+IuxnGIAALApj/XbIsImGyYbA0TWwTaaNdrc6c+6akt78xAw5sq0hz1nn/CAhlKvGOX6v/0j2Ecr/IITbENzNbVEQFUoWa5S2KeKBxvnVRZZd87/5EwAr/z/zqhx5+AYEgtjYQT3T8Go7xg0lx6hXIKoFDBQPqQWMebG0wxeYoXkWNv4mxe0IFAXS1FfszGIrjRcWvnaF4/D8ckI6C0TX///cWm03Bhf/Ps0f//4iOEHAm+OdIjAIIAhRLqCpnBpG4tP/+1LEBoAL5ING/YSAAXCU6PDEjZgXdD5ABB1vVboGca20qNP8KSUZGGjT2I1Wyi12cdlqb8QoZSWxCoinLfLylLbk08XUFTC1iU3KmHKfDS3JqAwNeE3U0zbOcY1RNyQlGsahv//IQVBIkEAK9KwKk0oBKSiqSQ7Py6YFoQyYPMpnUsLM0iXMEKCfLTVguwc2y2iFvXTG7Q4GLEe9OyOUJIxEgJYbAtCAfaF1JKkB5Ne8ACoOBgXQY1Kc6LquW31f/+QqihsQAAYDQ0TMxVOWFP/7UsQGgIvwjT0nsMbBcRhnQp6QANL4FDGhHMhhw/nBfhOQD2ErVr6g/i0ph1qAJoKb5zdOrTzkiRIGOtiWVSXwmwJoXARARktx6KtCAdFzwfS96hYcDV7noUpzIde1IbWKi56n//6iwB1oghtE8nVIJmVw9JbkCq6PojMNEMpHi5aSGWEwyQI1UkAYHx0NKkomFJAw9DkvJmUE6gtpnYul2DUWFoqu2eJdh61uldeTF1KKVKgkPIzVui1ha/+zo////kauNi1WKkUhoNiNWIOA//tSxAaADB0tWbj0AAFnoq63DDAAAjmHTGrWWrhHfvnOeGz4XjkiQDiQoAMjOYQYIYNg9+boPJcVJEWI7WE5ML1okVHx809y/Ytnpw3/78vN2lCp2jR////GkvftzKx///6f//7mzpUjqs3ttLtKxG2Q2Mxoc0f1lBB31ALIhfOHsaEho8G08ormRI/m7kjoxe/ENMqFSH/kiF5K2V8yI0dTR9C45ro5EafX/p1/n/S///yMXAiKCBZapTf5R31wCy2uRmCbSIAAFABIHLqQAxb/+1LEBwAL/KNjnMMAAXIPK/KYYAATDkkDsYHRyUV5wiGkw7pZDQ/zNjd3fFGNDevn/+ZcE1Joff9vT2Tyvf9PlIhIOCMuLQyAhIXB0ffSZa5gQACighIuD5/f7iaaOgTCyK+1/vqUUZKkowQEuwSgNLGhyFJkXgajUExkTrHJZZBgEl55s1mY3b5O+jTSJHGlHx/PztVHUHBYKHoKhQuiKLW8kQQ0aAiK3r97KEpAxu5t8iFDwU0Klgax4K2t9vmDABMVV2V2aoaGeoV2gr1gsP/7UsQGgAwNM5X4kRBRRRSqt55gAGg2GRHpuPoDyDBYoJdbNigJHgQRnMUUIQEoECAAjgRjI1Q4Mc5qhl+zqJFspW3+QUUyUKVi/84VF+lJv/qkQt2FzP///dTAlWKg4DILR6F2/xRtSmpmrcJILQVnLMelIl9WSEM+U7CWjwRzArWF6pQ8ikbCSE0kjUs8ricyfPf5+/eq++Zwi+9+7P/9+/vPOEwTkCbpLqTyR1+ur/6CTau32E3LQjIjU2kCQUlAjRPEYWIUoA+FkTTgnGKc//tSxAuACkx9R6ewY4FKn2k48wl0smItLayitRaJbXY29aoVddmi3/0tC/IUAtBQDS7gK0LC4InBx0TgAHschjpoUeRazuVf70CJqyKTM0KgcwjKSMjUIxMXU91Q9CrGGtKdUqdPLFAEJCErPIbRro1OepftWZuU+bu5rFmZjUThxDyXR7dNTLcromXyn7TL0WXppR4J0uAUiLA1qURXCCj1Ky77dLI6k0SwwmYdSzFRJ8ilQTeFxY+NGSF5ZgLDozUlVm7ALgoQAMcNv7eHc6T/+1LEFwAJ3J1Jp6RooUePqLj2DHxwGS5dGc+mSqE2hMa4QmEnGHXJyff5yeZzGx7ypaAnZdArDKrIyHXs2MRBSan+mAiuHc4IpklElUZOlTDpOtc9mj1MiYia3Kft6lfkOLubsLEGiRoXLJbuFUjknFIDKWQFShHYRHkjJiZnjJKok70PnRE+AgJRIABC1DIFyNtCm5gQ56pTgUx0kHzpEuwScTRo+EqdGiwEChZpoiGnBkaReBrhV45QlJBeqd3AKaCt6WL71unUcS2g01SnHv/7UsQkgApIQTNnpMpBPRQn8PYMfA3c6phSn//ZU9T66SQtPTEMf5JVYZFkfyqDwcF9Qbnp8ctGKdz3XlrTcIyaxydllz2v3n1bD7wz/4GszGhxqKPqkhiRglNG6AboPK7PYKDVMVVGhy4XfC7Kb3+1rakbjbGhuLlAMvJIJDiPJacMj1UYrlq1dV5WrWzlllrPH7Dcv11PzrVMrYZHMoudl9T5utsDUuhcPCjycVUtEnUsOVysmTMtcsa/UYUKrV3+21brbiaApAuCgHViMrBe//tSxDGACji7QaewZWFQimf0xI0dDyUgC5QuNEKIwSI0C7KwlzllYjJHBA0JZ6+qq+rxB8mtRItm+VGUsht5SvQxXejvszptZ0LNy/C1Yi/Pta/xiXf/+WrbbLHf0qDyCAHDcjmByVAhLI1mRqIZIcLCAIFTEPSFsMnCgsaPhsEzYBQFhI9AuJxEGY4WKuScIOFQI8cOGrfXfFk7pC/kA9LMF3yIzs1g91IMLKE5E1E/LE3Y8EUjnYvHQ/Vkg5MyQuOG32GX2CSmivCejnAITDL/+1LEPIAJ7DVJhjDE8UuJpaT2DHgJjhMIXWpImRI6NIJWPQ1aikBxKOA4qpVpVzWL2jd829ljnv9lH//r+9UABJJwIvKBdRcVS9xU4aBEZBE8FkbNPAKRmHsqqNksjKTVBRMNHgFQsBEgZLVjQKJQagyGg6Ehx1UNEAKGSIlv1PpKwK6eRRhI9Wd////8NABAIFKTQWiSBRQEfFigg6E1QyOyWX5ZKhkf/+RqGCg2dno0UJEmHgmZFRY1Coo2oWFf/qF2atYqKN1CusUaaeKtxf/7UsRJAAn8RyWHpGPBKpCdlGGZeIXZMizP/rFBZUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",_0x4f14ee="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAJxN0tFBGAAY4s7v8SUAEQwEAAzH4B+ACoX130A30Ku8FmEAABKHAwAQQcDAxZ7u4G78R3OIno7nohcfQAEJu4hE3cW+7u7uegG59RzBDWD58QAnKAhEH4If+CBzRNJLpTpcLCsxF2qlkgxUWwgiAddS5twfMnkwrr4MggouxBAsWBVDgk4vIhCB80xhQljirscBPR3RiRQUOd2D39ydxEWHNYuT/9srsxm/7K759GLQyvc49v9f3/9mERY2ZUADIacnqGJoP8el4q//tSxASACuDFWhj1gAGOm2tzHtAAlcT5vYltpiNpcEMPNP2DacvidpuPks0jHrXXHeT0XviEnWpeO9djjQ8yWxxcT9G580SBAXY6I+HN/kfIrYsu/9YEeXECn+nyBf//9MuaJIAAOrrQBFqWTwAHSYIteGhyIIN4bCFIqGuhHjpgxoABGATpMHGbIheiTMColSSUg6RUUhVdKd2OiNOXlOZsmYu28lTE1MTJJI2TRTa+zGxixORb1PpP+1T1qMvk/ColDQNA1TMACSQgSE1AYAP/+1LEBQALoK9HvPMAAW2aqTaeUAH4K4XFIEhSpkoUtQDsRKlixEOhHhJAsSZuHS/6SVR/sU7+6x5mvvntd7KW01u3/+7Hj598WdiMjQMDC2rjA8NpMnQ4ApLS7ZcQLpFRoIpjCqj6a0fBHE0i0VLQLakCepQwESjT+NjSAdrg6dLhpVQRGso0VKzO58yqqIaqFmIRqOyTNZXKY8zvrMVKOnOzXeti5HazyoUYXaM02LarmSj4aIcMZymoEb9h/6hb5b+qIKAYViyaKjhTSSRAAP/7UsQGgAu8vUW49gAJg5mpJx7AAACMwCfYRk06tXB0E+gwmFzYmFjBwKnF6KQ+Uli92LrNgiYh/Yl7y+hxEqs5KuJqCp6/WL7T25L1s/5WbrLFXpv9LbTv6fjl9pVFR8/9m1rV9oSKNLSCgzUAAFCaZ8IWyLZUGOT05ly2p5GLUY1Wcn6LnVMK8VhXClgmYRIKQvO1odE7+TH1sovPIT9qPO+tYcJ7LVXX52nXzPnq8YIVVcbjcX5XZmt7T+7CvoOJCAqGv656SSCAAyjNU4Ti//tSxAUAC8C/TrjHgAFmpitDGHAADqc/JgiAYTNnlg5AvFwhhyHw15rRwJwQgM0L46f9ZWFIThYE1BlEjJz/nFonyr1ffqaKpP//93v6aUUHerzf6//9/q9/u0J5H8H3k0CERAqz5z4ahlf520mTZh2FC4p2hRNHoWcbk1ac5xg4xccOXZjxu5kxqZuNxLOFw0Y/mG9JYA8IAwDgz0/4kAsFollRu///8cLD5zMI7///+XGjCRGq//6aBO6Hyn////yFBekwlhQABiNZts7esfP/+1LEBwAL1QNkGGMAAXqVcHceYAL+5X7f0wMYdl4drsXlUKNb95n82yznlsVh+1zv6arpIwJateCs3m98mvLdtaSj27f/9+/+/ZZkzTUYJQMMcOZPISNrColYMO931Nb+d////27Xyff2/e222yRiwSCwEgH9BZD21ZRPnJu3CPFjuoWQJCqaeias+kdaCwSyAkGB1O3pbphHR12Ohu8Q0Q0Sxy/Ff/+m8Uh3xK7tUcD9dwNelwPh6ge6LHvwSuKTmVOjlbbZf/7f/rbbrbBoLf/7UsQGAAvY2YG4xYARcxao85hgABAGlCUktaWmzpQKjUr1XGsjMln0Lv1CQTjjG0ooLyDKYVhDe+68+eRbUkE/2RZfDScfJ7HK3u2d87reia+2v//9DpO7NWHOt3jBGfSfC0SwVT+pSgLFRAiLJkFA0isAoQBMIzgih24fi0lNHDZFHTa/glzcmvTHAqkqokdVF/1Vfzrlmmoo///9v7/8/1pu0zb6OpgBJWojQVY5Y2VMFQVKqBrubWhtoNHutYKu//61LBVgAAYO8NIdKVLa//tSxAYACnx7PyeYbgFFEeek9gx4ojos+MV2/YE+0NMBHSKJ8B8WhUiZYRfSsMu+yG93dQpgLCZ4UF3HzLHonS8qXEczYWj2p0rrOtXnnLlwm1qSoswCVGGL//8kWh7ipJQlRiKExSGIpNKhOBiWXAlVlglnC1S+xrXPsVTjwnI9pYuTm0yz1yzPCHWJtoYwVQPGiJoMveSIEyS3Rd37TV0FUD1JWpfQyaqs///JKiOWR3VXSRspFg6zLPp+xkiU6RP5QqA6UecCyHRCQQ88w1L/+1LEEQAKVINH55hsoUWPaHT0jSwx3eE6JYUxRFlT/utUFTHnnqYkcwUfSyISzo8oB3IYaCjTSk0X2uF9nFMZBlay15t039v08cbaSQHa2KoJUnWBLH8sqZ5smDBkvMFElk9Syb83M3Q7DhPkrqc+8qn91GEoGECAXXDoDcLJDj0uTalD1LvZVHqryKxkJKIrWoI0jhXqASnhKCYgDkD6yu4SgSAGQBKOwarBKfJKkxceOXbeySkxrG1ybUqoU1KVerSPpdAaJJjgE6//Dv3Ug//7UsQdAAlosSUHsGPBNRkdgGCM4DSQNPkwVIkYaEoClfy3/qfltCQYDIJq0iYSf52VBQWkfYf8/llUMDQ1a/kyw/svkatHIy/+wyZWB1D81DAwYZc7RWKN/WKPoBkSGgKKijf/SEhX2DGjxZAFCoo9ICFqTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",_0x12dda7="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAKDKUzNFSAAXsSq28ewAAgABQACTeQhCMSsQAAAAIooFCCGf//+c5zmjQIMXIxWK0ero29UQChxGAAEDFo29UFAJgmK26QIEDE5znOe1BGD8HxwPvEDgTP8Hz/93//w/a4wEAAAAAEhwySJSIrYENxVC3IuJILmM5InsAw8HNEwJ7kC1FzIxLNz9DM7JTw0i5KemK+0O0Xx3YYKx8uZr/5szEvvelKtA09AWeo2LCC8BFPA79ZYlqMoD8oz0HUqnakigCQCklKLILg//tSxAWAC7Spb7zxgBF6lKw09I1aL0ph0iNpxdreIdKUVj27+ggBwMMIFuQ4gOxOkYRf66RWLy3IDiUWAV6aELCJTYAouCA4tGEZMBscoaFhjgHBP9Rcgoz382itZ8FhJFnDpcMH/1GOAogAgApKQvRSl/R8UcqMELVvX1YQmBUAw8UjELAkfxZqmuYVVUljbMyl//sbGsZSampSkzMsakGFUgoCHrCRk6DRIOXhoj/PBI6HQ0sN+VGQ6CxKSDpIRWNCT//6qkORIiEAAAAl3UX/+1LEBQALXG1R57DDwX2M6nz0mRgs3jKR4HTGxLQhDFbZVVFxDJzyPmGEFbdffbx9uz0FGYGQhiB94nt3ayhiJwcIKaXUGDqQsQGTjWtkQuPJt76+kDFxOaqocwB460+zq9fu+p41ZiJEAiACXN2TWUKgM4SdQQD+IUwDJgegaC3IiHCEWJWRUSeNakm9GkZE4aiaRJHDqSqTCgZio4sKNUBmMIguYGijAXsShMWCREKNyJs28AkgCNfgN41b1irtOa//+moLsBUAAATw8RYFSv/7UsQFgAu4p0eHmRKBeqSqtpiAAQC+mUq1Gwl+lOl+jUywrzjDW3M00LnvBGXFlcmQSY9A7CKqQQNCeoikRNKiJqXrpFeeLLGlli4ueeYgIKBd63hdaggxAMHggKfKK/r6TPrp//+kWwpxoAAhSsD4VzA9XnY5k8+QnFBgeVFAGNAeBIEXDoPx7Rb9T9XfXFsUcXI15fv37d7e4SP/0SEhOO3sYkIiTL833G4wa098y/N73pSRFy9ChhAogogpcxRBhBtlvnVRFIAAGREm1oFt//tSxAUAC3k1YZj0AAF5j+kznoAE8CPDEzY1ddYb6MV1c1TRvVaDg849xwQPQfqgkOi2FTlPHzcHHHJeoxMwUklWuNvtL4+ir9UXXa2/r49V1Yb9/9JV/+11Nfz/6x//wkf+3XjXrDqYcAIyqOQV+cCCSJ0Js3jZTkQ0VerSQgfDBOl8Apgey0iKfSf2qvbdDLZpGxKqNGm1MzKqT0KNgVSnmAqfMPkZhqxMKPxiIvtJ0aUColDaJfQaHpQuwwQLogTRT8kqCiAIAAHAihjDLIT/+1LEBYALkHs5Z5hygV+OZqz2DZAfpPjrajyanNL2QbCMFKKZFyuUZwiUWAnBqijqsW+kfQHVqVapzBUaIfkPSTOgEYCooxaF6S5gUMTpgmM3KsLLaclgvZaBqDRJVRI2JXkv//kgJAESQGAuYuUpipQtqoJ6lGfmCaKlULpJD0+XwryGh+vFDCOBmh5ggLYiTHtcjjwHig2FGnjoLkYBKBUOhItDA0UhYOpfz3dDtKrbeTPRgG4sxRJn6f0dFZP/JHYUo0UgKMfKAY2InxpIkP/7UsQJAArofz+nsGdpWJSlsPYMuEhaaqDERT0sul1M0ugYic4kjBmkjWrmpF23vuUJFtUY7EIJA3La/Nf+/cqrdzOH7ff7jcH3Hve/vcrBQji6+VL+7O+dBwCQtEAIqyjOS4v5jPyQgdDkRUEbkwYlksj6VRxgaXNtss1deetYNEQGEnGM2Om7qZNmVKr6+kz7fzONGCkrkkCobm9iJsypfoTpm3qqvnBpWzaz/2+pyjLrNGylImSQQlxIewMHQTDUfioSicHw+iKYuQwpVq2J//tSxBAACky/NaewY+EyDiV09Ix4hp4yZmDdtPqlmKYTXNmkXjM1VUPUvvCLjGfzY73IssGyiRRI1x0qUm7353vrY5Cn2FnhJtuFBKRtpBGwhwmqpMUko0IQJMAkDQ2CIpBIhZSRPVQwikzRQqhlKMdUtS2DGqxRKgaWsFTorZUPSVpANblnXgrZXev+j1/6H///1RZAUYApVJdQmOhpohUAMTilgmwLEyZEoKLAJZGCWm4drNV2qkFEkRKIkCUY+1uzr7cs9XkP/+es/0FfsZ7/+1LEHoAISF8UJJhwgJ8AILAAjATsj4ircgBEEKKMyiS3LMtMtKsirttfahmmR//b3fUvq6tin9K//UzrAX/+MQpMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7UsRHg8AAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",_0xbdaff5="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAKQN0s1BSAAWGXrrcSgAIAQABAOQAAX4xjgRt74QhDzXI0ekAoMFwAAAAwKHLisVk7CBAwmKwTJ5BcExWTo57UEaOe1CEM85znvhBG3P+EIQnv9Qh//CEIQ80CAEIf+CAYttttdjkiJaEjabbkgAY3JkEmFyJRgjbpQ2dC9uNOBEdjiAlNKBMPw7kfXsMNddBht+oglTwKV93BlWdDN2x78J/u//CxdGAMTm/J6soZn8xngm2RD8Hz8+rXRpEEgAkkqGokAEmwFDkH//tSxAgADCiBZ72kgBGAhm309hgyODHrS14oAQUafm6MAzN6HZTJZIiIibnaREqRiMjvahn9IGHd8sPEqqsbv7OfggQIEE5ATg+GHNQUcwPg+51PUkmD4Pg+Hv/WL1t8pxBcUBCH3Y3IiQiCkpMTYhQGgJHxkF4IhKjCUPStUcjKxVqjgEcSJBUGg7gyCuVUDT8FQViIFXSOVBUFQaAwNA1BoGgaBqdWCp34NB3xKJREeWCp1YKuVqBo9EQNA0EgaDs77NdlNSpDnUDCG3d8DcT/+1LEBQALzZtVtMOAAXifLbcegAJIigOgjA8lHE+WBPUpGB6fpChxcA0jRjUVDXLTJShqHvdXd6UqPFTFurzp7VroYeezr/Wmvd7Hnu6a90/q6TDzKU/r7GGMZ+ul/ajonX/3Zva36pLtxtxtpSONtKRSOCAQAQ3qM0P3a5e3gP2Se016LMkjT1F+ZEC6BvVotjeVxQCYuDecn46rEwA4Bw0Lqw5NXjtM8ysXv1+f708UGGOp8fN////+IwcGZZ9H//uAYfAY9T2hBuuU6uiOZ//7UsQEgAuIzUoY94ABeZwqP5hgAHqxcrRPy+7mnZziHi3SYVZcCQikqZE4jMUZoYhZQ6axrMUFibtImY7VMfenlNUhT6t1mZiY+269vnWf8628e43uC9t///r4+/muoTBZ/29p0S/6SWFNSIiAkAKSwAUdAJmAHDIeSENYhnZ0oqjO3xIJSYTgei73CaGtnu8uYrY16en/7u15r/cnvjPlS8bLf9qltzZb/t//jY1mWpIiSOLM0y1IwkDKZHHI6XJx8z///1o1eFRBIBYCAV+F//tSxAUACwEjUfTCgAGEJe03HoACgYl4PTguj8JRffPBYYSI52dxjQ+YAAIKDTupzqdaEH8+QhzMSejOjX2pO//yEyNO6Eb/f53seRv5N//tSjMmJFDIq6PHqAFtNrKej2YkblrbTYkbkjkbbMhAYAZ6zxxVGW1vGqNc07sPc1ezmCcaLGUETx0ovvcKOREIPADni4cB365bRkILh4KX/X+/PCUH5BVT/3W39P0e792//1/f9Fi54eVaV///////6CiH6GwAAAAAAQHI3zmIW6b/+1LEBoAL6NtWmPaAAW4bafeYUATxAzoIwpjmVprqGKgoccN0CnLpJGg9h6D4SwnJANq3DlF0TwLU7pGS9QgI2lBqRKvdFukmak5FHZ/8u6ZsXS7Utf/nTArMTg9nQMlla/oCoGEKFkA20Wi42U0FCGIoNrgqDrohF45LtB1VozojihRULUOlMPI6rOdVXIdFehDvM5GYxCEu53ZJk6EJQlk2faxivVEas9p1i5W4vDgtfbHxS2QODTIsOCUuPTf//6ICAAIADEOk8g/SGHSN0v/7UsQHAAus2T1nmG8Bbpum7PMN4HRbyck/QB9HCbrCtJZTAZvBQCEVCShpE0t11UoyU8bzkI4qqWxq6ItsjGT2rfhkSrNm8/M+aFmhlgj6FPssIXnbnfcwWNhtoRpcuYAX//1FUgpAASiWJw3AlJ2IW0pBXn8jk++cUNfH8zOREAxPiQkFSdEjLEiTc6jtLlHIwVSDM1hmZlKF17+zFmc9V9V29r/0u2rnPpiB7kMFwmGl9NQ7YLFgap56wl//6gQYAAYADmfpghSOunVwLcXE//tSxAiAClRbJyekyAD2Bx0ExJgakDVkQCoGAUEknIwDJFkkpIyyTkac2fzUZEqjwlOqBoGjxWDUQgrJLQIj1ZY8V4lARARRL6WiLlXNkJZcRP///+DQjhKQiNA3SoiB0ZBCaCakpOa4vNk40sEwTAQSYthkX0iyxUiAhfizMYLkcWFf4sK/qFiPWx31C7MVb1/1C9VMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=",_0xeae07a="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAKgN04tDWACWsgrrcYcAMAIAPoibmgGLNET0Nzd+xjGV/wxkksPBMabm9saN4CAIhMVJZPN7h7+K5ve++Xvv9lb3vg3Pv2MZTzRm973v2MZUpm5+Dc+kMH5j/AOgDo5+b//w/aRutxL3EpNpxkNCQAALCqUFBVusIxITFIWjoeICWi8JBLFRcfcAwSDlEoJx8dClyA3tXU0R0fHGNpfmIzvRk52rqj6s/0X+NhaTOW+hqLOnf+zIUJW/IFmsppgouSVClK+JCbIxj9//tSxAYACzD3TBj0AAGLE693GJACONRjyhTnC4A1BwUEMg5nlJp4u4kZTCkMSPaBPXaJBlHnB7Bj2b/UD7odcim50RfzwlclWiGHy5yzukpU08j6VC7Ja6kRiDreXWngYPaJW4tXs9ZKYzUnE2pEJB3ZLAsPBTzyZYoW11YYIxHJpikgMedyRkYHGlyap1uA5Ex5M3fnvEiZsnbbMrZK6vLvzrM8knqsz0pDhhoJEkWc/YxVkWsOYnJlwfD4esGHT3+j8qVVUAXShNhIRaZKolL/+1LEBYALmNNOGYeAAXAeKpcesADGJQt1FPvOzeCZQ/kOgOxPk6cbnBc4KGyw5q7qkmWIibfdv86SKGEGfPq+2dVz7/bFdsgP4X9rY+vj/EK24UJ9/rH////+I1sPpwKzXf1PigqgD/FDBhQqtNrRTM9WlibHygbmJzfsirIpmbWuzZVnjvP1dPiz1PMT6z2dnda3DYA8BMIc01ndW+ou8sMAIA0DdDvt8VPH+TD7Di6BMv/7///8dZ/E5cP/q8Hw9mXUAADsEEAABcAIk6Y9WP/7UsQHAAwQz1E5hIABe6Kpwx6wAIrZkTD3YeOD70hgFwI/CeYgMBT0SdgkCSnoy+q0qGfdK7L5YieREIZ3auOQj7BYBRzbAXxuPr78zoAVDLKrKHa//////sUimRoAnf+0sFajPqjSijiEsprzPMn4bnVD6EhqjULI+ihUPA64WeHsgzQpKh3PhnZRtG6zVSvvEgBYEA2QO4dTka/q84O0fmoExjZiHd1/LWJstNjoub6Y/uKqdEdi6R9reeHZ7j4///1Wckq6bbbW66avabTW//tSxAUAC6k3fbj1ABF7JWwnEoAAaPNgQtNICK9y2qGPEa1C6u44ZV8icwwQg4qywhB+LwFy557EcnMMdidt2kjqphISHofMo7sPPVrGL2trnn0q9P1b/fS1Lou/2zP97mpsVARH//tplqZEAEYAUACItAJaq+IbbJ0bM52jXkxzAndCrOOihicCohNCuYIAigByRixmPTYOgTSDGhY2vqPqYoXPuV+v//QgyVHpr81///7CiwcZolLX/H6///+eD5cHHI//6aqqkUEAAAAEJEv/+1LEBQALeQtpOMOAAYEzaauYUABEGODHwQPky5MrJz7H0AkGjR400gLAqNh1kSXEsHwwgpGrePCoaDh6UNX5rjxIdc3/5E0SyhMsRSo6rf6DZTj1elv0/5g1UwbjQ4aIqgd/yX5abgACA0XJAY8DU0HYFx4JhIJa0OA/ZoVjeIzAIZDCweMHSxoi91c5BQzlaQqHv0Ew4Q70FEZc7VbZG+keo91fX6o0733VbaLZ00O26M6STmIjm0T15P221f/1rr3/2rjUZKcICAA1acwzmP/7UsQFAAuct0eHmG1BYjNocMGKcIxbl9Qllem6jU8onrIDHAQkSPRTWXR6VEl7uvfA0X5rZRHJ+0VROfPy8zVeaN5mgzrKeGAXApsBmXpSDaixoaARS1g7kSwSKIGjVDVqX6Vf/+4klY4qkAIf0XioijqSgLMgSEo1TFk5UnjJUmydLqKtXSdsUbG5sui9Xvxo32NDMqeXnt/qvMotRyuQt/PvXKiP1rmXsjimP6+y6u+zV/ZE6y0+VUX/////qNUmZWIAgqtheCcAwZrwlBFK//tSxAgACmCzO4YMUUFIlab09gx8TbC9DjLB6erTlpc1goMz2NmcOBiyUkbyRvWNUzNjNoq+/uaz2YrqNeYM1CV9GHfOjXCwVm8S0liSXhZMLRa4Wf//6HLr/IiEYSSQqzbL4KUfAWFwhBMeBMVzIRvZMSSZP01a71mVSjM3ZmeWtPJf43cbMyfpfxj2jH1S7hmAqjqZGoixpUsVEU8dKhKR5WR5EqVXqRSqAMlKLJQRAipvQFApQ41UqFAYBCjCrquwoy4aiSBoqBXHSQmeREv/+1LEEwIItFMaxiBgQQWnGMhQD4g8WXqPRLaHflckR/iWyt1k7zsKv513ki2zeSnSPATxEAA1AMNEDkOioip/+qKqf//+qKqf/n+ysFBAg6GWygpUMvWSoZMstQ/1a2X2ChgYMEHBMaKizTQVFG4sK4qKC38XTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==",_0x245828="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAKaQEcFBQAAVYkMHcMcAL/AMbgABGKJzwiaJ8EChkigpU3oQKB+L2goKCiVy7wHANA8LAUBZRbkBwYWAICwxxd/kUMTcsXeBc+ETd4Fxe4RERHe9EMTSv0RJFDBoP+Xh//B8aer+/TNRis1GtBoMCD8LkEbxA8gv2WBYHJjgHEROezGHiQI6XsfG4rEcubaehlBEEhRIK0OQ62snHDEXp+hkmYjHDRlod/+yvW2v///seYXAYb//hlkYAiAABSBdBhSMDWnRRCAX6U//tSxAkADNExU72CgAlZDGpxh5hgqTWpna7PQZHo1HLwkYPAMLjVQJAKcw4cBAIUCh4pQ6KOxEFURhEoiNdzuZDJupVKWgl0cyE+T21VTui59/PKNPM58c7O+ifshEJ3kYtxdJ0zqw5RlYAFgEAAD4UIXIM0Bqc5UshPiBptXsqbYUiGD5JiKs0iipzcNIugcUqGJeklzVuULhh44XPsDB9BBrNAlQ1ArkmLbF3VQaKBOqfXV0JYYLDW2Qgn//+hMSSZSIIABSgqwwhYGJKiL6z/+1LECIAMmZtPtYKAAWofqcMwsABB7nejMrjr/TMolk/UACGB0YHjkKUXFVjWOjRchimRFOQcWRnmq6sQXHLajHdyMd2e1G2akl7NOr27exckium26XTS3f5b2bf8rq//2/tbZFXf/jkcrQ0uEqKN5K6Oltx5l+Vu1yRyM3YT4aS7qt6adEjyx1UeeQpMD2G8srpZ8VZMDwsWDe1sRM3X9Ga4IA+Ewr////9dcbDgIhiCf//z///mq5pDSedPstKf71oVgwQA8wAAAA0AA1XkW//7UsQGgAwo51c5hYABbouom7CQAPbZZSRqKuS6NJnKYvZilDIQyM9meYikeafiVSVJML1+ZUJJgmokbJHopp3hrJqfUWND0tNYl26fqoUXXVJLj1uh0dR/H0xa2Vy1x4xJQF8uYexKo5iAII8kYKlhllt1lVO6zhWmeNu+r9MtkEFz4+TgcRG29Y1RV9sRjP5iqr6YljwZAYNPBuRfPkBO0Ai6CbACbEIndE4o2kci2wwtpGz16yWsHkuGUn1oDn+r8sfaS2dRRQESScYngnxe//tSxAYAC4BrS6ewZwGJnml+nlAAynKM8BJBvkNAMA7O1BcQka/mzO4aVRyN6nbasymxAaiY7mFIqA6ISAoYOoaFG1ihASrPmTdaCyxKLhAKFQYcGD4rGpZoVANI+5ymv2V//5EUlkREIzIjZFxP0IknBKjROFDh9JRtjKqElVRAVzOEBRhomPFjM7nYiIcTISpzmscogMIS7nad0IhhxplpY1mu6/ftsRp/7v/7ucNGig0FiSgQm0PIDBcWFllHsGIWAnf//TX+v/v8BdUEDsD/+1LEBIALSStdOMQACYCgr/cecAIhrXVoe01en5EJ2xq7udDwJ2BY8CJaF5QNBcO2rUVWjBt0PTub/BeLMe/y9x/92kni7UlfMN/+kXyWPh4iYv7/jf25tpPjn///r6+PrM9WcQIsllttktrkksgbDAtEAFAm1upxSnQcEFxKujmoGnS06EwiiASzheJAPhSg2GxY0sawwLjyhMdOTFxovHjdfeceXEULGEjXMT/Y1DBqcnT/0dEohdv//xacaNQyom4DK/0qAZg4QlmkDtBxaP/7UsQFAAtobUA9hIABVY8n4PeYMPDaE1Jp80JSgysUWdWHMG7FDI6TBAqSpVGDFtWnKknomqR3G689cnRMJGw2EcJzQ+wu2WyzltfGWoWYGGA2MF6RWeKXF4qKmoleBSZxQX//+sH2QIWBQl7KM4mIM413iKCUMJuluR90YvMtEAqF3Y0iFEt8omvNzKHmWbJd5OpErJKs3kQmdEUieSWxwhaPPDAZdKuQva5SmABr8YqVtHNCTehyWzNdMbrlaKsoIDMDAeBIwDUlDyLB/Xk0//tSxAqACdxTRYYYbmFFk+hw8w2kKTlfBUSRSQGCkYhNmZtVeRUYUZIa46CTGirqVRtEsFLyUuwKDys6l+dMi2KFTHTI4iigGDxQZ3rbGBfO6Nvr4YSIxVSVhdU4cJ7I9mOpPnCsHUSsAsRkCJOiqkfVEZOKkowaxjXSxj6UXPql+zayWt0TR8qtTydORTnsjvYsSVxdOdUkil4YKiZdepUH1RwlNbLAcgaKJyIpVBIrgyuDAnTDMg0dQqQZ1CM4kUFCipMEbhJX76UTY/qVqL//+1LEGAAKODc/hiRm6UWHJnD2GNnye55tTaLvsNoBySlSzneLWtvj//99+7PzuWv85o19rW5sCJRIgA13AGElAQ4UafqiTkDJMF5ijJsR8STgiDHhjrVR6ySWUkxMci+ov4Irej8vswk4l2aUSyzJRx0LH/77bfPO17qZdk/qja8KZ/8j/t/qKgHC2iAF1QBCQiQXppI5ZA8SxaWQqEEkJyLGTToweRJSYtS6BEpUSVlRVL1Rcexc6GF8Fv2dtFprh3ZfxJ1pt/5xOW/ZP8n53//7UsQkAAmkOS+HsMUJSo8kpYYYaPj+n+/+BLUADygDCS0QtNZhNKiGYDI/EgtkU3WC49PiRpQGUepcKXmzUs7w+bm5rS27KtzLRotgdOnTow0LgsLFhLY4ysaLzCEJuQmJ+5C//op98r//1DoBVpCrgRGuQk0GWtqBMYoSVKSIUgmmGTIEyrKUmVlMjInQdKV5YTKatrkZZeVLI03lwZwfOpCLq7v+f/T+ma9X///SAYqJEFAdGjS+jF2UOgmo5SZjpRZ5SKSBZ0m6VldLDI4F//tSxDIACFybIywYY8EIjeOdgwx48eakM4JaHCPQMgB8aTGEQI9lHb/s1p+jNPu6Otlbf//pI0mYuQAqDqaImZjUgx6ZA/QgtHRRdmYlAMBYBkAugWAcEykKiJm5u9Z12eb7aForiFE4nufci5GrVZzFniXsF0Jd5OSAAWC2hqQkKUzjyGAxF2IDrIEkC5Ol0o6GbiDyZxrwXEgESYJQ0heNdO3a6d+tiMry38NdbpIRVjXcNLDXyv2V1MYNMIqE9ASA0mkkSSyVACEhJ1kVAyD/+1LETYMIiDcSJ6TCgREJIQj0mEhI0adaOEoJFjTnRxmJWo7UREkSrDTxKCqzKw0JXNvLB0SmTpt4aH1yP//////3BPJFRo86GiTQdWAhkACSoABCSLoq3QASLVYzMyr+zMGXUm4zVVVVL/Veqqsx7Nk0bKf/+vQp0RPDoKqBo3Dankf/////+Gg77Cp0FQ0C2JQVDtUIAAAJM7cbQOmILSmuPHFFGIGkgBSbzVo7EJFDJAKBUyMEi0SVovJ1o08qROhUBESR5ykEQkPQnCacJf/7UsRnAQlwVvYGGMcBGpQcqJMMGFsin9jf/////9VZF1bIqkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq//tSxHuDyTRCmwzowwAAADSAAAAEqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqo=",_0x331e3a="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAI9HMsdBMAAaQdrrcY8AIAAAC2MbgAADkAAAQXe/3d3GezyZNNgcLJk77RBO9ggQIIOQIIHN4gBB0hz5QEHYIAgGHiAEAwJAQ4IAg7/y7/5c////BBwIfXVZKN2RMtmNtFIwQAAwHonl5QsUAbBuCTYkGb77ixE2Mi6hwFuZPq+1UO3Hv4b+PCevhTsTvIj+94mlapXG+nld3+rZ+Nfda4jZ/+/77+8Uhf2/z/ffpfN70p9/wcVxbGv5gsKvn//Jr/pOTIuSgJuW4A//tSxAUAC8zTX7mFgAF1JG43EoAAICAABkNDTMzZs/JIctA1l3m6OInGr1S6WM3ZuH4J9zQ7RFHcbDdBoitA7Sweoh31vA8uV2apIxN8u8bUumnWxfMMi74mLbBsbf///+Si5sJSx3/ALgkUikDgiDYUCYDAZAEskwoskyciHnfTYkKDquBoAexF7QLoLjFG1N1QiuDc0lGq0pwBwcBWHZhTr/f+wgForPcT//f5BrQffrE03//7HyW/cTG23////8LfoY5vReqwwAACAm9wSjf/+1LEBQALuGNZvYSACXsSavT0jSiS6/cHvDkw5wpmQO9LqZ3oGl0aFKFkKmE1DUotS2mltV33GMPu1JFL0IMv/4pQUFNkcu2Cjf+9/+EdCCgp/9d+Xwkv/l/guIqEFPhBS7/KHZfz4ur/+4S3CE5N6F3su6FocQs7VCWxFIAkNmTIkklmrlRynQkrqjg5srhKekr5Z36cMpTN3jwnA4IoGoWGn4GEBMEBp9YsVCIWDBMzDGw+GGsdQNGUgQkXAhcECG8If//5NVrLECCAACpAFf/7UsQEgAuQcU2npMqJbyVqPPCKuCTYY6ycRinSjDTO45UaVDKzIc2LYHkMSvRqJ/dntDI21PfY3UoLSIE6nUpfA1VaVCpxKnXn5dsJNO0lmaWx/nylCiJLrnzmeU4jAkWNq8fu//+llVmERzIyILad0RZ6RiaoeYZ0JM/EMlYVBZTpNUXjRnjW+1TE9sxtk0IPCRk0QgCkIyjUQwzO/UoToUifu0dhJoQBHGEvYVTOqISZwkancB+LGdBLxZT4C3mf//tVAcKgIACg4KQTIhm2//tSxAYAC0ifQYYYcQGBm+finoAAIAjB0jFJUVg0O4YyK2rPXiwDqKJ6xtWU8+DNZP7f03R6Vy8dozG8+NeVV2YypC2oeRJ3mhRgWFQoFSKXq7RqB52fF9wHCF2lqZxTv//kg6xQEIwQ3ohrMx/rylR8c/Vt65aaWhjEOJDwAOMQqSYei2HC8HUrkIilHCUohlHqMouL7q1iIaITSd494lbq445VFnRWUaUWwraj0UqkGg4A7IxxyceOqUXPgRGR///8knFYbVSLCwKRWIAgAgD/+1LEBoAMMOVhuJWAAWGNKj+ekAAHark7uTZI8Y3BQSElzY2AmFR2GWiAwWHj7I3s2D2CfKVjy9dy7BFGsdhccgvWa3r+HvvPHKdMbuuet5oyWvNIpzuYv/69ImJon2PvX/LgUBgkA1GUWFMBQAAABATBqDTLkTRChbCWFzJkmVM0JGJVdy3kisLGSZEhTatbrb5SyaHoVipRGjMtEtJsAUJEn9T6aJ7FhZQsHgKKGgZCqfoKxEIgaf0LnmEYkGXqLw84HAAD9WEsK4yk0FYlB//7UsQHgApknUWHsGPBUAwodMMNyUIwisFgKrkxcS1xUq4W3WHz46MOAO6jGaZSyKwJYbMq/kzkk0y2u5JcHQhH3MHOACibNJZKFJuV6rLdCQ6pkmoQuFLFEytOEJANtOAAqh4Iz4QQOl9IEp8ThOgPyueFTWGiXXSDCYLyRQ97xbmxDU22/t6U4o3gbt5k/2Zdq0fXva11z/1Q/edmmv18H7c56zKo7jdFNjezKmdW40QE421AxCxrgmwhkIVOlhQeC0fS2H5LlEh/RpYc94uG//tSxBGAClSnP6ewY8FEGOf0ww3c9Ip3QLTlUsRXezErwrFhv4ZzszPSHNlByqwrF6xi3oQWF/Wq7R1QYB1ISF54di9Se8riaRcKJIA2OwHyQfjSE49xjEwTmxujEtDZcDLPCj0jZWnszBhjachEXoTXIH214/UR7JJlS/jG/r2ufT3MvYMuSHvhO/Ef3oXanbqPBS5FitrcbffSoAYRTEiRFwPB8H0ZnzRo+jEYfEJxLWMCVTKRfyUUYpr/NNLAWMR3mNd9c+wkrmv8L0ls9/v/+1LEHYAKSEdLhiTI+TwUJnDEjV2+jFzj+Kct7tNfOpNzJP99Xc7f8fy//sN26xEN+iAlK4RBcXrnh2GAii15UDwqXD6yKSzWtNMqqoCFVVgJpIxsJEjJtGYTCIlLLc9VJO51jgo6+72r2C1/CKf7rfjqs02NG+bWs97VAVpFJ6AH4dh2DO7piesMrR1HUmk09goFBQUFIjZxpRIkSJpv920iItHGlV6WZ5mZ7bSSs6LTwIDSQQExsktyoKnXD1LWLKNo39Fmvq1tX///WABKgf/7UsQqgAo0nSUmGG0BKZAjpMMOQGoAA0piQWsTLrNnx8uQx1EF2ToqrWDoyXNshKWyaAqcYuMxkqyqt/aKRysoNiLUKGnSwdUbWE+Ik32nUfrd5DV/YqnZ/R/rGEaw3S8pNFRSgJYEQamS4DBWHErBQliSVEtNRYGhMFQ0DWCsOhtZ0lBoS1hu7WdYhfQJS2dz0q4sJXWiLiI9WCuDUO2W/3/p4lJERG2VkQqRBZhERNUifzCu1VXZvCiQEBQFLVPBXSddDS4KlQV0aMFXZLnq//tSxDqDSTBDDgekwwEWiZ4EkI2QgaBp6hEeO2509BVYKyrqtbt3Ep3f7DpENw6qTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr/+1LEUIPAAAGkAAAAIAAANIAAAASqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==",_0x8b2115=_0x3db9;(function(lr,cr){const ar=_0x3db9,or=lr();for(;[];)try{if(-parseInt(ar(318))/1*(-parseInt(ar(365))/2)+-parseInt(ar(425))/3*(parseInt(ar(376))/4)+parseInt(ar(321))/5*(parseInt(ar(379))/6)+-parseInt(ar(339))/7*(parseInt(ar(328))/8)+parseInt(ar(377))/9*(-parseInt(ar(420))/10)+parseInt(ar(395))/11*(-parseInt(ar(371))/12)+parseInt(ar(418))/13===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x4840,120347);function _0x4840(){const lr=["keydownHandler","#kbCtrlCross","7284AlLXyf","CAPS","map","Failed to initialize AudioContext:",".key","isDesktop","clicks_on","webkitAudioContext","keyboardStrip","clicks_off","createBufferSource","gui_type8","add","start","State","forEach","bind","type","arrayBuffer","ShiftRight","Layer","playSoundHelper","value","gui_type1","AudioContext is not initialized.","keyup","removeEventListener",".kbCtrl","input","initButtons","destination","target","144731vNLEBy","Shift","keydownHandlerBound","1420ZZtWpJ","remove","audioContext","then","gui_type4","loadAllAudioFiles","hidden","262328IRXKRa","initAudioContext","#toggle-keyboard","which","keyboardVisible","audioBuffers","touchend","#kbCtrlArrow",".layerA","MENU","showTouchKeyboard","49qbyzKc","toggle-keyboard","gui_type2","is_loading","getElementById","#keyboardContainer","style","QWERTY","state","active","Show Keyboard","data-value","6px","catch","getValue","focus","keydown","reset","gui_type7","playSound","getAttribute","div#keyboardContainer","#keyboard","CURRENT_SCREEN","keysDown","toggleTouchKeyboard","2BgBvly",".layerB","audioFiles","touchstart","#keyToggle","keyboardQwerty","1146924HoSRXu","visibility","shiftKey","innerHTML","click","172KPUNms","12114SIhbIv","classList","3462yBfNfm","gui_type6","gui_type5","dispatchEvent","paddingTop","&#x25BD;","data-code","Escape","suspended","code","&#x25B3;","visible","querySelector","showJoystick","key","none","22QOAvKe","parse_hidden_input","hideTouchKeyboard","textContent","gui_type3","0px","querySelectorAll","touchcancel","#keyShift","data-shift","display","Error resuming AudioContext:","charCodeAt","audioMap","keyupHandler","#kbCtrlClear",".layerC","keyupHandlerBound","cors_query","connect","addEventListener","updateMode","contains","6041269gkLzsX","settings","950ZsTxaQ","error","Mode"];return _0x4840=function(){return lr},_0x4840()}function _0x3db9(lr,cr){const ar=_0x4840();return _0x3db9=function(or,ur){return or=or-301,ar[or]},_0x3db9(lr,cr)}var Ko,Ga,qo,V0,$s,Kh,Gh,Xs,Qs,Zs,Yh,$h,Xh,$c,Of,Xc,Tf,Qc,Df,Zc,Rf,Jc,Ff,fo,Po;const Ca=class Ca{constructor(cr){yi(this,$c);yi(this,Xc);yi(this,Qc);yi(this,Zc);yi(this,Jc);yi(this,fo);yi(this,Ko,void 0);yi(this,Ga,void 0);yi(this,qo,void 0);yi(this,V0,![]);yi(this,$s,void 0);Pa(this,Kh);Pa(this,Gh,{});yi(this,Xs,void 0);yi(this,Qs,void 0);yi(this,Zs,void 0);const ar=_0x8b2115;Oi(this,qo,cr),this[ar(363)]={},this[ar(367)]={gui_type1:_0x14ed31,gui_type2:_0x1eab56,gui_type3:_0x4f14ee,gui_type4:_0x12dda7,gui_type5:_0xbdaff5,gui_type6:_0xeae07a,gui_type7:_0x245828,gui_type8:_0x331e3a},this[ar(408)]={Digit1:"gui_type4",Digit2:ar(381),Digit3:ar(380),Digit4:ar(357),Digit5:ar(436),Digit6:ar(309),Digit7:"gui_type4",Digit8:ar(381),Digit9:"gui_type6",Digit0:ar(357),KeyA:ar(309),KeyB:ar(380),KeyC:"gui_type4",KeyD:"gui_type5",KeyE:ar(381),KeyF:"gui_type6",KeyG:ar(357),KeyH:ar(436),KeyI:"gui_type4",KeyJ:ar(309),KeyK:"gui_type4",KeyL:ar(381),KeyM:ar(436),KeyN:ar(357),KeyO:ar(381),KeyP:ar(380),KeyQ:ar(309),KeyR:ar(380),KeyS:"gui_type4",KeyT:ar(357),KeyU:"gui_type1",KeyW:ar(325),KeyV:ar(381),KeyX:"gui_type1",KeyY:ar(436),KeyZ:ar(436),Space:"gui_type1",Enter:"gui_type3",Escape:"gui_type2",Backquote:ar(309),Minus:"gui_type1",Equal:ar(325),Backspace:ar(341),Tab:ar(341),CapsLock:ar(399),BracketLeft:"gui_type7",BracketRight:"gui_type8",Backslash:ar(309),Semicolon:"gui_type6",Quote:ar(357),Comma:ar(309),Period:ar(325),Slash:ar(381),ArrowUp:ar(309),ArrowLeft:ar(325),ArrowRight:ar(380),ArrowDown:"gui_type5",Shift:ar(399)},this[ar(329)](),Oi(this,Ko,Ca[ar(422)][ar(346)]),this.keydownHandlerBound=this.keydownHandler[ar(302)](this),this[ar(412)]=this[ar(409)][ar(302)](this),Oi(this,Xs,Pi(this,Xc,Tf)[ar(302)](this)),Oi(this,Qs,Pi(this,Zc,Rf).bind(this)),Oi(this,Zs,Pi(this,Qc,Df)[ar(302)](this)),Pi(this,$c,Of).call(this),Pi(this,Jc,Ff).call(this),document[ar(401)](ar(313))[ar(301)](ur=>{const fr=ar;ur[fr(345)].paddingTop=fr(400)})}[(Kh=_0x8b2115(323),Gh=_0x8b2115(333),Yh=_0x8b2115(439),$h=_0x8b2115(422),Xh=_0x8b2115(306),_0x8b2115(315))](){const cr=_0x8b2115;createGuiButton(cr(340),cr(349),"Kb",()=>{this.initAudioContext(),setTimeout(()=>{this[_0x3db9(338)]()},50)},!![],".xx",cr(419))}[_0x8b2115(431)](){const cr=_0x8b2115;document[cr(415)](cr(355),this[cr(320)]),document[cr(415)](cr(311),this.keyupHandlerBound)}[_0x8b2115(434)](){const cr=_0x8b2115;document[cr(312)]("keydown",this[cr(320)]),document[cr(312)]("keyup",this[cr(412)])}[_0x8b2115(329)](){const cr=_0x8b2115;if(!Vr(this,V0))try{this[cr(323)]=new(window.AudioContext||window[cr(432)]),this[cr(326)](),Oi(this,V0,!![])}catch(ar){console[cr(421)](cr(428),ar)}}async loadAllAudioFiles(){const cr=_0x8b2115,ar=Object.entries(this[cr(367)])[cr(427)](([or,ur])=>fetch(ur)[cr(324)](fr=>fr[cr(304)]())[cr(324)](fr=>this.audioContext.decodeAudioData(fr))[cr(324)](fr=>{const xr=cr;this[xr(333)][or]=fr}).catch(fr=>console[cr(421)]("Error loading audio file "+or+":",fr)));await Promise.all(ar)}[_0x8b2115(358)](cr){const ar=_0x8b2115;if(!Vr(this,$s)){if(!this[ar(323)]){console[ar(421)](ar(310));return}this.audioContext[ar(347)]===ar(387)?this[ar(323)].resume().then(()=>{this[ar(307)](cr)})[ar(352)](or=>{const ur=ar;console[ur(421)](ur(406),or)}):this[ar(307)](cr)}}playSoundHelper(cr){const ar=_0x8b2115,or=this[ar(408)][cr],ur=this[ar(333)][or];if(ur){const fr=this[ar(323)][ar(435)]();fr.buffer=ur,fr[ar(414)](this[ar(323)][ar(316)]),fr[ar(438)](0)}}[_0x8b2115(423)](cr){const ar=_0x8b2115;EnvironmentManager[ar(430)]()&&(s$1(ar(360)).style[ar(405)]=ar(394)),!this[ar(363)][cr[ar(388)]]&&(this[ar(363)][cr[ar(388)]]=!![],this.playSound(cr[ar(388)]))}[_0x8b2115(409)](cr){const ar=_0x8b2115;this[ar(363)][cr[ar(388)]]=![]}[_0x8b2115(416)](cr){const ar=_0x8b2115;switch(cr){case VME[ar(362)][ar(337)]:Oi(this,$s,![]),document[ar(391)](ar(361))[ar(415)](ar(375),Vr(this,Xs));break;case VME[ar(362)].EMULATION:Oi(this,$s,!![]),document[ar(391)]("#keyboard")[ar(312)](ar(375),Vr(this,Xs)),document[ar(391)](ar(361))[ar(415)]("touchstart",Vr(this,Qs)),document[ar(391)](ar(361)).addEventListener(ar(334),Vr(this,Qs)),document[ar(391)](ar(410))[ar(415)](ar(368),Vr(this,Zs)),document[ar(391)]("#kbCtrlClear").addEventListener(ar(334),Vr(this,Zs));break}}[_0x8b2115(364)](){const cr=_0x8b2115;s$1(cr(344)).classList[cr(417)](cr(390))?this[cr(397)]():StorageManager[cr(353)]("SYSKB")=="1"||EnvironmentManager.isQuest()?document[cr(343)]("cors_hidden_input")[cr(354)]():this[cr(338)]()}[_0x8b2115(338)](){const cr=_0x8b2115,ar=document[cr(391)]("#toggle-keyboard");ar.style[cr(372)]="hidden",document[cr(401)](cr(313))[cr(301)](ur=>{const fr=cr;ur.style[fr(383)]=fr(351)}),s$1("#keyboardContainer")[cr(378)][cr(437)](cr(390))}[_0x8b2115(397)](){const cr=_0x8b2115;UiManager[cr(332)]=![],UiManager[cr(392)](),document.querySelectorAll(cr(313))[cr(301)](ur=>{const fr=cr;ur[fr(345)][fr(383)]=fr(400)}),s$1("#keyboardContainer")[cr(378)][cr(322)](cr(390));const or=document.querySelector(cr(330));or[cr(345)][cr(372)]=cr(390)}};Ko=new WeakMap,Ga=new WeakMap,qo=new WeakMap,V0=new WeakMap,$s=new WeakMap,Xs=new WeakMap,Qs=new WeakMap,Zs=new WeakMap,$c=new WeakSet,Of=function(){const cr=_0x8b2115;Oi(this,Ga,Ca.Layer.A),document[cr(391)](cr(335))[cr(415)](cr(375),ar=>{const or=cr;Vr(this,Ko)==Ca[or(422)][or(346)]?(Oi(this,Ko,Ca[or(422)].STRIP),s$1(or(361)).classList[or(322)](or(370)),s$1(or(361))[or(378)][or(437)](or(433)),s$1("#kbCtrlArrow")[or(374)]=or(389),document.querySelectorAll(or(336))[or(301)](function(ur){const fr=or;ur.style[fr(372)]=fr(390)}),document[or(401)](or(366))[or(301)](function(ur){const fr=or;ur[fr(345)].visibility=fr(390)}),document[or(401)](or(411))[or(301)](function(ur){const fr=or;ur[fr(345)][fr(372)]=fr(390)}),document.querySelectorAll(".nostrip")[or(301)](function(ur){const fr=or;ur[fr(345)].display=fr(394)})):Vr(this,Ko)==Ca.Mode.STRIP&&(Oi(this,Ko,Ca[or(422)][or(346)]),s$1(or(361))[or(378)][or(322)]("keyboardStrip"),s$1(or(361))[or(378)][or(437)](or(370)),s$1(or(335))[or(374)]=or(384),Oi(this,Ga,Ca[or(306)].A),document[or(401)](".layerB")[or(301)](function(ur){const fr=or;ur[fr(345)][fr(372)]="hidden"}),document[or(401)](or(411)).forEach(function(ur){const fr=or;ur[fr(345)].visibility=fr(327)}),document[or(401)](".layerA")[or(301)](function(ur){const fr=or;ur[fr(345)][fr(372)]=fr(390)}),document[or(401)](".nostrip")[or(301)](function(ur){const fr=or;ur[fr(345)][fr(405)]="block"}))}),document[cr(391)](cr(410))[cr(415)](cr(375),ar=>{const or=cr;!Vr(this,qo)[or(342)]()&&Vr(this,qo)[or(356)]()}),document[cr(391)](cr(424))[cr(415)](cr(375),ar=>{this[cr(397)]()}),document[cr(391)]("#keyShift")[cr(415)](cr(375),ar=>{const or=cr;Vr(this,Ga)==Ca.Layer.A||(Vr(this,Ga)==Ca[or(306)].B?(Oi(this,Ga,Ca[or(306)].C),document[or(401)](".layerB").forEach(function(ur){const fr=or;ur.style[fr(372)]=fr(327)}),document[or(401)](or(411))[or(301)](function(ur){const fr=or;ur[fr(345)][fr(372)]=fr(390)})):Vr(this,Ga)==Ca.Layer.C&&(Oi(this,Ga,Ca.Layer.B),document[or(401)](or(411))[or(301)](function(ur){const fr=or;ur[fr(345)][fr(372)]="hidden"}),document[or(401)](or(366))[or(301)](function(ur){const fr=or;ur[fr(345)][fr(372)]=fr(390)})))}),document[cr(391)](cr(369))[cr(415)](cr(375),ar=>{const or=cr;Vr(this,Ga)==Ca[or(306)].A?(document[or(391)](or(403))[or(374)]="MORE",Oi(this,Ga,Ca[or(306)].B),document[or(401)](".layerA").forEach(function(ur){const fr=or;ur[fr(345)].visibility="hidden"}),document[or(401)](or(411))[or(301)](function(ur){const fr=or;ur[fr(345)].visibility="hidden"}),document[or(401)](or(366))[or(301)](function(ur){const fr=or;ur.style.visibility=fr(390)})):Vr(this,Ga)==Ca[or(306)].B&&(Oi(this,Ga,Ca[or(306)].A),document[or(391)]("#keyShift")[or(374)]=or(426),document[or(401)](or(366))[or(301)](function(ur){const fr=or;ur.style[fr(372)]=fr(327)}),document[or(401)](".layerC").forEach(function(ur){const fr=or;ur.style[fr(372)]=fr(327)}),document[or(401)](".layerA")[or(301)](function(ur){const fr=or;ur[fr(345)].visibility=fr(390)}))}),document[cr(401)](cr(429))[cr(301)](function(ar){const or=cr;ar[or(415)]("touchstart",function(){const ur=or;ar[ur(378)][ur(437)]("active")}),ar.addEventListener(or(334),function(){const ur=or;ar.classList[ur(322)]("active")}),ar[or(415)](or(402),function(){const ur=or;ar[ur(378)][ur(322)](ur(348))})})},Xc=new WeakSet,Tf=function(cr){const ar=_0x8b2115,or=cr[ar(317)];if(or[ar(378)].contains(ar(393))){const ur=or[ar(359)](ar(350)),fr=or.getAttribute(ar(385));this[ar(358)](fr),!Vr(this,qo)[ar(342)]()&&Vr(this,qo).process_input(ur)}},Qc=new WeakSet,Df=function(cr){const ar=_0x8b2115,or=cr[ar(303)];or=="touchstart"?Pi(this,fo,Po).call(this,ar(386),ar(386),ar(355)):or==ar(334)&&Pi(this,fo,Po).call(this,ar(386),ar(386),ar(311))},Zc=new WeakSet,Rf=function(cr){const ar=_0x8b2115,or=cr.type,ur=cr[ar(317)],fr=ur[ar(359)](ar(350)),xr=ur[ar(359)](ar(385));ur[ar(359)](ar(404))?or==ar(368)?(Pi(this,fo,Po).call(this,ar(319),"ShiftRight","keydown",{keyCode:16,which:16,shiftKey:!![],location:2}),Pi(this,fo,Po).call(this,fr,xr,"keydown",{shiftKey:!![],location:2})):or==ar(334)&&(Pi(this,fo,Po).call(this,ar(319),ar(305),ar(311),{keyCode:16,which:16,shiftKey:!![],location:2}),Pi(this,fo,Po).call(this,fr,xr,ar(311),{shiftKey:!![],location:2})):or=="touchstart"?Pi(this,fo,Po).call(this,fr,xr,ar(355)):or=="touchend"&&Pi(this,fo,Po).call(this,fr,xr,ar(311))},Jc=new WeakSet,Ff=function(){const cr=_0x8b2115;let ar=this;document[cr(343)]("cors_hidden_input")[cr(415)](cr(314),function(or){const ur=cr;var fr=document.getElementById(ur(413));fr[ur(398)]=this[ur(308)],Vr(ar,qo)[ur(396)]()})},fo=new WeakSet,Po=function(cr,ar,or,ur={}){const fr=_0x8b2115,xr=new KeyboardEvent(or,{key:cr,code:ar,keyCode:ur.keyCode||cr[fr(407)](0),which:ur[fr(331)]||cr[fr(407)](0),shiftKey:ur[fr(373)]||![],location:ur.location||0,bubbles:!![],cancelable:!![]});document[fr(382)](xr)},Pa(Ca,Yh,{OFF:0,ON:1}),Pa(Ca,$h,{STRIP:0,QWERTY:1}),Pa(Ca,Xh,{A:0,B:1,C:2});let KeyboardManager=Ca;var _0x2a10e7=_0x579d;(function(lr,cr){for(var ar=_0x579d,or=lr();[];)try{var ur=parseInt(ar(395))/1+-parseInt(ar(399))/2+parseInt(ar(405))/3+-parseInt(ar(408))/4*(parseInt(ar(398))/5)+-parseInt(ar(400))/6+-parseInt(ar(402))/7*(parseInt(ar(403))/8)+parseInt(ar(397))/9;if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x5096,559286);function _0x579d(lr,cr){var ar=_0x5096();return _0x579d=function(or,ur){or=or-394;var fr=ar[or];return fr},_0x579d(lr,cr)}function _0x5096(){var lr=["7676667XjzHyE","192575QvTCFE","421672nZkKeR","3738858NanDgk","get_keywords","133zhoMRX","17608KiWeMJ","print_help","2808252fBLyRJ","get_help","process_input","88cuGVCY","cli","show available commands","493367HDjdWc","help"];return _0x5096=function(){return lr},_0x5096()}class HelpCommand extends CommandBase{[_0x2a10e7(401)](){var cr=_0x2a10e7;return[cr(396)]}[_0x2a10e7(406)](){var cr=_0x2a10e7;return[cr(396),cr(394)]}[_0x2a10e7(407)](cr){var ar=_0x2a10e7;this[ar(409)][ar(404)]()}}const _0x39be7f=_0x46ae;(function(lr,cr){const ar=_0x46ae,or=lr();for(;[];)try{if(parseInt(ar(231))/1*(-parseInt(ar(222))/2)+-parseInt(ar(229))/3+parseInt(ar(223))/4+parseInt(ar(235))/5*(-parseInt(ar(234))/6)+-parseInt(ar(225))/7+-parseInt(ar(248))/8+parseInt(ar(220))/9===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x4f18,746717);function _0x46ae(lr,cr){const ar=_0x4f18();return _0x46ae=function(or,ur){return or=or-218,ar[or]},_0x46ae(lr,cr)}function _0x4f18(){const lr=["3099754wiDszZ","sort","entries","process_input","4273866GBDXgY","localeCompare","370676oovhYY","setSelectedPlatform","length","61548NjvNCp","35WWQUnL","includes","map","platform_name","platform_id","updatePlatform","show_results","toLowerCase","short_name","find","sys","reset","set_loading","834600ggaRqi","cli","get_help","sys [FILTER]","31081104NYuIMq","is_selection_enabled","4wpgNZJ","312752nkSjtu","filter"];return _0x4f18=function(){return lr},_0x4f18()}var Js;class SystemCommand extends CommandBase{constructor(ar){super();yi(this,Js,void 0);Oi(this,Js,ar)}get_keywords(){return[_0x46ae(245)]}[_0x39be7f(218)](){return[_0x39be7f(219),"switch to system [FILTER]"]}[_0x39be7f(228)](ar){const or=_0x39be7f;let ur=[];var fr=ar[or(224)](Boolean);fr[or(233)]==0?ur=Object[or(227)](SelectedPlatforms):ur=Object[or(227)](SelectedPlatforms)[or(224)](pr=>{const br=or;return pr[0][br(242)]()[br(236)](fr[0][br(242)]())||pr[1][br(238)][br(242)]()[br(236)](fr[0][br(242)]())}),ur[or(226)]((pr,br)=>pr[1][or(238)][or(230)](br[1][or(238)]));let xr=ur[or(237)](pr=>{const br=or;return{id:pr[1].platform_id,label:pr[1][br(243)]+" - "+pr[1].platform_name,data:pr[1][br(239)]}});this[or(241)](xr)}[_0x39be7f(221)](){return!![]}process_selection(ar){const or=_0x39be7f;this[or(249)][or(247)](!![]);let ur=Object.values(SelectedPlatforms)[or(244)](fr=>fr[or(239)]===ar.id);Vr(this,Js)[or(232)](ur),this.cli[or(246)](),Vr(this,Js)[or(240)]()}}Js=new WeakMap;const _0x365208=_0x31d1;(function(lr,cr){const ar=_0x31d1,or=lr();for(;[];)try{if(-parseInt(ar(245))/1*(-parseInt(ar(257))/2)+parseInt(ar(251))/3+-parseInt(ar(268))/4+-parseInt(ar(235))/5+-parseInt(ar(243))/6*(parseInt(ar(263))/7)+-parseInt(ar(267))/8*(-parseInt(ar(244))/9)+parseInt(ar(252))/10===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x30d3,230581);function _0x31d1(lr,cr){const ar=_0x30d3();return _0x31d1=function(or,ur){return or=or-230,ar[or]},_0x31d1(lr,cr)}var ds;class ListCommand extends CommandBase{constructor(ar){super();yi(this,ds,void 0);Oi(this,ds,ar)}[_0x365208(234)](){return[_0x365208(237)]}[_0x365208(236)](){return["list [FILTER]",_0x365208(232)]}[_0x365208(265)](ar){const or=_0x365208;if(Vr(this,ds)[or(241)]()==null){this[or(240)][or(249)](or(242));return}let ur=Vr(this,ds).get_software_dir(),fr=[];var xr=ar[or(250)](Boolean);if(xr==0)return;xr[or(258)]>0&&(fr=ur[or(254)][or(250)](br=>{const gr=or;return br[0][gr(255)]()[gr(266)](xr[0][gr(255)]())})),fr[or(253)]((br,gr)=>br[0]>gr[0]?1:-1);let pr=fr.map(br=>{const gr=or;return{id:ur[gr(230)]+ur[gr(248)][br[1]]+br[2],label:br[0],data:ur[gr(230)]+ur[gr(248)][br[1]]+br[2]}});this[or(247)](pr)}[_0x365208(261)](){return!![]}[_0x365208(256)](){return!![]}async[_0x365208(260)](ar){const or=_0x365208;this[or(240)][or(264)](!![]);try{await Vr(this,ds)[or(259)](ar[or(238)],ar[or(239)])}catch{this.cli[or(231)](or(262),or(233),or(246))}}selection_changed(ar){}}ds=new WeakMap;function _0x30d3(){const lr=["get_keywords","509770PAbFHG","get_help","list","data","label","cli","get_software_dir","To use LIST command please import SOFTWARE DIRECTORY first.","726jngPRw","4608mZBqsf","113qxmyBC","Error loading file.","show_results","bases","soft_msg","filter","1030440vtausR","875700UdoLpp","sort","items","toLowerCase","exit_selection","7574MUomFg","length","loadRomFileFromUrl","process_selection","is_selection_enabled","LOADING...","24731TkefNT","set_loading","process_input","startsWith","2008BTLnmq","909860hcqiVP","root","message","list files starting with text","&nbsp;"];return _0x30d3=function(){return lr},_0x30d3()}var _0x538903=_0x450e;function _0x450e(lr,cr){var ar=_0x2e97();return _0x450e=function(or,ur){or=or-492;var fr=ar[or];return fr},_0x450e(lr,cr)}function _0x2e97(){var lr=["bases","get_keywords","find","5HQVzln","exit_selection","test","LOADING...","data","is_selection_enabled","381492tPKvKT","8nOmKMH","set_loading","685699wtmwYK","join","sort","119750UajRHK","find [FILTER]","cli","soft_msg","902628XjDrgv","map","To use FIND command please import SOFTWARE DIRECTORY first.","3057438ebecYf","8zAryJs","2596239CXYzQl","message","get_help","get_software_dir","filter","root","selection_changed","146836lTbSrZ","show_results"];return _0x2e97=function(){return lr},_0x2e97()}(function(lr,cr){for(var ar=_0x450e,or=lr();[];)try{var ur=parseInt(ar(497))/1*(parseInt(ar(518))/2)+parseInt(ar(506))/3+parseInt(ar(496))/4+parseInt(ar(523))/5*(-parseInt(ar(509))/6)+-parseInt(ar(499))/7*(-parseInt(ar(510))/8)+-parseInt(ar(511))/9+parseInt(ar(502))/10;if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x2e97,295481);var ho;class FindCommand extends CommandBase{constructor(ar){super();yi(this,ho,void 0);Oi(this,ho,ar)}[_0x538903(521)](){var ar=_0x538903;return[ar(522)]}[_0x538903(513)](){var ar=_0x538903;return[ar(503),"list filenames containing text"]}process_input(ar){var or=_0x538903;if(Vr(this,ho).get_software_dir()==null){this.cli[or(505)](or(508));return}let ur=[];var fr=ar.filter(Boolean);if(fr.length>0){var xr=fr[or(500)](".*");if(xr.length<3)return;var pr=new RegExp(xr,"i");ur=Vr(this,ho)[or(514)]().items[or(515)](gr=>{var mr=or;return pr[mr(492)](gr[0])})}ur[or(501)]((gr,mr)=>gr[0]>mr[0]?1:-1);let br=ur[or(507)](gr=>{var mr=or;return{id:Vr(this,ho)[mr(514)]()[mr(516)]+Vr(this,ho)[mr(514)]()[mr(520)][gr[1]]+gr[2],label:gr[0],data:Vr(this,ho)[mr(514)]().root+Vr(this,ho)[mr(514)]()[mr(520)][gr[1]]+gr[2]}});this[or(519)](br)}[_0x538903(495)](){return!![]}[_0x538903(524)](){return!![]}async process_selection(ar){var or=_0x538903;this[or(504)][or(498)](!![]);try{await Vr(this,ho).loadRomFileFromUrl(ar[or(494)],ar.label)}catch{this.cli[or(512)](or(493),"&nbsp;","Error loading file.")}}[_0x538903(517)](ar){}}ho=new WeakMap;function _0x2ebe(){const lr=["join","print","SINGLE","set","forEach","clearValue","Configure system parameter:","<p style='margin-left: 1ch;'>","clear","length","process_input","is_selection_enabled","single or multi line results","&nbsp;","includes","131687LDstiA","Invalid parameter.","Invalid value.","localeCompare","1455984RycdfH","DEFAULT","description","is_enter_required","45jFzDpY","cli","entries","Enter DEFAULT as a value to reset.","get_help","</p>","Configuration has been saved.","toUpperCase","687085YlQEJT","configure system parameter","405180noIVfv","108946FwdiyB","validValues","set [PARAM] [VALUE]","&nbsp;=&nbsp;","&nbsp;)","38871sQMRHw","sort","Default value restored.","MULTI","use system touchscreen keyboard","19824gwRkIe","Enter new value and press ENTER.","hasOwnProperty","storeValue"];return _0x2ebe=function(){return lr},_0x2ebe()}const _0x446203=_0x4bd3;(function(lr,cr){const ar=_0x4bd3,or=lr();for(;[];)try{if(parseInt(ar(455))/1+parseInt(ar(474))/2+parseInt(ar(463))/3*(-parseInt(ar(436))/4)+parseInt(ar(471))/5+parseInt(ar(473))/6+parseInt(ar(431))/7+-parseInt(ar(459))/8===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x2ebe,140322);function _0x4bd3(lr,cr){const ar=_0x2ebe();return _0x4bd3=function(or,ur){return or=or-428,ar[or]},_0x4bd3(lr,cr)}var hs,xs,x0;class SetCommand extends CommandBase{constructor(){super(...arguments);yi(this,xs);yi(this,hs,{SHADER:{validValues:["0","1"],description:"enable CRT/LCD screen effect"},LINES:{validValues:[_0x446203(442),_0x446203(434)],description:_0x446203(452)},SYSKB:{validValues:["0","1"],description:_0x446203(435)}})}get_keywords(){return[_0x446203(443)]}[_0x446203(467)](){const ar=_0x446203;return[ar(428),ar(472)]}[_0x446203(450)](ar,or){const ur=_0x446203;if(!ar[ur(449)]){this.cli.print(ur(446)),this[ur(464)][ur(441)](ur(453)),Object[ur(465)](Vr(this,hs))[ur(432)](([br],[gr])=>br[ur(458)](gr))[ur(444)](([br,gr])=>{Pi(this,xs,x0).call(this,br,gr)});return}const fr=ar[0][ur(470)](),xr=Vr(this,hs)[fr],pr=ar[1];if(xr!=null&&(Pi(this,xs,x0).call(this,fr,xr),this.cli.print(ur(437)),this[ur(464)][ur(441)](ur(466))),or&&ar.length==2)if(Vr(this,hs)[ur(438)](fr)){const br=Vr(this,hs)[fr];pr.toUpperCase()==ur(460)?(StorageManager[ur(445)](fr,pr),this[ur(464)][ur(448)](),Pi(this,xs,x0).call(this,fr,xr),this.cli[ur(441)](ur(433))):br[ur(475)][ur(454)](pr[ur(470)]())?(StorageManager[ur(439)](fr,pr),this.cli[ur(448)](),Pi(this,xs,x0).call(this,fr,xr),this[ur(464)][ur(441)](ur(469))):(this[ur(464)][ur(441)](ur(453)),this[ur(464)][ur(441)](ur(457)))}else this[ur(464)].print(ur(453)),this[ur(464)][ur(441)](ur(456))}[_0x446203(451)](){return![]}[_0x446203(462)](){return![]}}hs=new WeakMap,xs=new WeakSet,x0=function(ar,or){const ur=_0x446203;let fr=StorageManager.getValue(ar[ur(470)]()),xr="";fr!=null&&(xr=ur(429)+fr[ur(470)]()),this[ur(464)][ur(441)](ur(447)+ar[ur(470)]()+xr+ur(468)),this.cli[ur(441)]("<p style='margin-left: 2ch;'>"+or[ur(461)]+ur(468)),this[ur(464)][ur(441)]("<p style='margin-left: 2ch;'>(&nbsp;"+or.validValues[ur(440)](" | ")+ur(430)+ur(468)),this[ur(464)][ur(441)](ur(453))};const _0x27aafd=_0x3951;(function(lr,cr){const ar=_0x3951,or=lr();for(;[];)try{if(-parseInt(ar(360))/1*(-parseInt(ar(367))/2)+-parseInt(ar(398))/3*(-parseInt(ar(346))/4)+-parseInt(ar(341))/5+parseInt(ar(363))/6+parseInt(ar(384))/7+parseInt(ar(359))/8+parseInt(ar(369))/9*(-parseInt(ar(372))/10)===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x5a55,627982);function _0x5a55(){const lr=["settings","soft_msg","remove","platform_id","open","appendChild","parse","importCorsFile","onerror","drop","2226014ljKgUi","readAsArrayBuffer","vme-file-input","name","key","target","<span class='blinking2'>Drop the file to open it.</span>","result","forEach","Loading ","display","type","click","loadCollectionFile","143133XRLxix","file","toString","importFile","getElementById","addEventListener","get_help","WordArray","redraw","message","files","bind","dragleave","onload","Not a valid software directory file.","accepted","loadRomFile","5444765gZzdJc","process_input","dependencies","Successfully imported software directory.","add","84rVdwEO","print","error","endsWith","includes","set_loading","getSelectedPlatform","cli","is_enter_required","Failed to read file.","createElement"," ...","&nbsp;","5756168mzWBlr","222601ECjvLS","dragenter","input","4975368xppFYT","clear","body","classList","2LEQzqh","dragging","60633cSrqmT",".json","style","2040kHFtAV","readAsText"];return _0x5a55=function(){return lr},_0x5a55()}function _0x3951(lr,cr){const ar=_0x5a55();return _0x3951=function(or,ur){return or=or-339,ar[or]},_0x3951(lr,cr)}var xo,eu,Pf,tu,Bf,ru,qf,j0,Nu,nu,Nf;class OpenCommand extends CommandBase{constructor(ar){super();yi(this,eu);yi(this,tu);yi(this,ru);yi(this,j0);yi(this,nu);yi(this,xo,void 0);Oi(this,xo,ar),Pi(this,eu,Pf).call(this)}get_keywords(){return[_0x3951(378)]}[_0x27aafd(404)](){return["open","import/open local file"]}[_0x27aafd(342)](ar,or){const ur=_0x27aafd;if(!or){this[ur(353)][ur(364)](),this[ur(353)][ur(347)]("Press ENTER to open local file."),this.cli[ur(406)]();return}Pi(this,nu,Nf).call(this)}is_selection_enabled(){return![]}[_0x27aafd(354)](){return!![]}}xo=new WeakMap,eu=new WeakSet,Pf=function(){const ar=_0x3951,or=document[ar(402)](ar(374));let ur=![];[ar(361),"dragover","dragleave","drop"][ar(392)](gr=>{const mr=ar;or[mr(403)](gr,fr,![]),document.body[mr(403)](gr,fr,![])}),[ar(361),"dragover"][ar(392)](gr=>{const mr=ar;or.addEventListener(gr,xr[mr(409)](this),![])}),[ar(410),ar(383)][ar(392)](gr=>{const mr=ar;or[mr(403)](gr,pr[mr(409)](this),![])}),or.addEventListener(ar(383),br[ar(409)](this),![]);function fr(gr){gr.preventDefault(),gr.stopPropagation()}function xr(gr){const mr=ar;or[mr(366)][mr(345)]("dragging"),!ur&&(ur=!![],this.cli.clear(),this[mr(353)][mr(375)](mr(390)))}function pr(gr){const mr=ar;ur=![],this[mr(353)].clear(),or[mr(366)][mr(376)](mr(368))}function br(gr){const mr=ar,_r=gr.dataTransfer,Sr=_r[mr(408)];Sr.length>0&&Pi(this,tu,Bf).call(this,Sr[0])}},tu=new WeakSet,Bf=function(ar){const or=_0x3951;Pi(this,j0,Nu).call(this,ar,ar[or(387)])},ru=new WeakSet,qf=function(ar){const or=_0x27aafd;let ur=Vr(this,xo)[or(352)]();for(const fr of ur[or(343)])if(fr[or(339)].includes(ar))return fr},j0=new WeakSet,Nu=function(ar,or){const ur=_0x27aafd;this.cli.set_loading(!![]);const fr=this;if(or[ur(349)](ur(370))){const pr=new FileReader;pr[ur(411)]=function(br){const gr=ur,mr=br[gr(389)][gr(391)];let _r=""+Vr(fr,xo)[gr(352)]()[gr(377)]+".software";try{let Sr=JSON[gr(380)](mr);Vr(fr,xo)[gr(381)](_r,Sr),fr[gr(353)].message(gr(358),gr(344))}catch{fr[gr(353)][gr(407)]("&nbsp;",gr(355),gr(412));return}},pr[ur(382)]=function(br){console[ur(348)]("Failed to read file!",br)},pr[ur(373)](ar)}else if(or[ur(350)]("vme_import"))Vr(fr,xo).loadVmeImportFile(ar);else if(or[ur(350)]("vme_collection"))Vr(fr,xo)[ur(397)](ar);else{var xr=new FileReader;xr[ur(411)]=function(pr){var Sr;const br=ur;var gr=cryptoJsExports.lib[br(405)].create(pr[br(389)][br(391)]),mr=cryptoJsExports.MD5(gr)[br(400)]();let _r=Pi(Sr=fr,ru,qf).call(Sr,mr);if(_r!=null)Vr(fr,xo)[br(401)](_r[br(388)],ar),fr[br(353)][br(407)](br(358),"Successfully imported "+_r.type);else{const yr=new Blob([pr[br(389)][br(391)]],{type:ar[br(395)]});Vr(fr,xo)[br(340)](yr,or)}},xr[ur(385)](ar)}},nu=new WeakSet,Nf=function(){const ar=_0x27aafd,or=this;var ur=document[ar(356)](ar(362));ur[ar(395)]=ar(399),ur.id=ar(386),ur[ar(371)][ar(394)]="none",document[ar(365)][ar(379)](ur),document.getElementById(ar(386))[ar(396)](),document.getElementById(ar(386))[ar(403)]("change",function(fr){var gr;const xr=ar;or.cli[xr(351)](!![]);var pr=fr[xr(389)][xr(408)][0],br=pr[xr(387)];or[xr(353)][xr(364)](),or[xr(353)][xr(347)](xr(393)+br+xr(357)),Pi(gr=or,j0,Nu).call(gr,pr,br)})};const _0x236670=_0x38cc;function _0x38cc(lr,cr){const ar=_0x489e();return _0x38cc=function(or,ur){return or=or-236,ar[or]},_0x38cc(lr,cr)}(function(lr,cr){const ar=_0x38cc,or=lr();for(;[];)try{if(-parseInt(ar(271))/1*(-parseInt(ar(243))/2)+parseInt(ar(248))/3+-parseInt(ar(263))/4*(parseInt(ar(256))/5)+-parseInt(ar(261))/6+-parseInt(ar(262))/7*(parseInt(ar(269))/8)+parseInt(ar(240))/9*(parseInt(ar(239))/10)+parseInt(ar(246))/11===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x489e,514449);function _0x489e(){const lr=["Developed by Michal Galinski","Built using Nostalgist.js and Libretro.","isSmartphone","about","] Smartphone",'Click to <a href="https://github.com/gitGalu/VME">Visit Project Website</a>',"get_help","136175kzumKP","] Meta Quest Browser","&nbsp;",'<div id="flip-image-outer"><div id="flip-image-container"></div></div>',"process_input","2344278oJvaKo","35rhnPpr","28hWdoMX","isQuest","checkDependencies","---------------","get_keywords","isStandalone","1218920klfKhC","Emulated systems","683483QruZQE",'Click to <a href="https://github.com/gitGalu/vme/blob/main/CHANGES.md">View Changelog</a>',"Environment","print","hasGamepad","59110sZncuD","558onexZv","Virtual Machine / Emulator","show VM/E information","2vZUwok","Prerelease","&nbsp;[","5076599nBWQjq","cli","1038474hHLMXe"];return _0x489e=function(){return lr},_0x489e()}var U0,iu,Lf,au,Mf;class AboutCommand extends CommandBase{constructor(ar){super();yi(this,iu);yi(this,au);yi(this,U0,void 0);Oi(this,U0,ar)}[_0x236670(267)](){return["about"]}[_0x236670(255)](){const ar=_0x236670;return[ar(252),ar(242)]}[_0x236670(260)](ar){Pi(this,au,Mf).call(this)}}U0=new WeakMap,iu=new WeakSet,Lf=function(ar,or){const ur=_0x236670;this[ur(247)].print(ur(258)),this[ur(247)][ur(237)](ur(236)),this[ur(247)][ur(237)]("------------");let fr=EnvironmentManager[ur(251)](),xr=EnvironmentManager.isTablet(),pr=EnvironmentManager[ur(264)](),br=EnvironmentManager[ur(238)](),gr=EnvironmentManager[ur(268)]();this[ur(247)][ur(237)]("&nbsp;["+(gr?"x":" ")+"] Installed"),this[ur(247)][ur(237)]("&nbsp;["+(fr?"x":" ")+ur(253)),this[ur(247)][ur(237)](ur(245)+(xr?"x":" ")+"] Tablet"),this.cli[ur(237)](ur(245)+(pr?"x":" ")+ur(257)),this.cli[ur(237)]("&nbsp;["+(br?"x":" ")+"] Gamepad / Joystick"),this[ur(247)][ur(237)]("&nbsp;"),this[ur(247)].print(ur(270)),this[ur(247)].print(ur(266)),Vr(this,U0)[ur(265)](),this[ur(247)].redraw()},au=new WeakSet,Mf=function(){const ar=_0x236670;this[ar(247)][ar(237)](ar(241)),this[ar(247)][ar(237)](ar(244)),this[ar(247)].print(ar(259)),this.cli[ar(237)](ar(249)),this[ar(247)][ar(237)](ar(258)),this.cli[ar(237)](ar(250)),this[ar(247)].print(ar(258)),this.cli[ar(237)](ar(254)),this[ar(247)][ar(237)](ar(258)),this[ar(247)][ar(237)](ar(272)),this[ar(247)].print("&nbsp;"),Pi(this,iu,Lf).call(this)};const _0x2e1468=_0x16b7;(function(lr,cr){const ar=_0x16b7,or=lr();for(;[];)try{if(-parseInt(ar(447))/1+parseInt(ar(450))/2+parseInt(ar(445))/3*(-parseInt(ar(434))/4)+-parseInt(ar(437))/5*(parseInt(ar(448))/6)+parseInt(ar(431))/7*(parseInt(ar(433))/8)+parseInt(ar(432))/9+parseInt(ar(439))/10===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x3bd1,949875);function _0x16b7(lr,cr){const ar=_0x3bd1();return _0x16b7=function(or,ur){return or=or-429,ar[or]},_0x16b7(lr,cr)}function _0x3bd1(){const lr=["2331428bUJXhV","Press ENTER to load:","get_help","148735phsGiY","loadRomFileFromUrl","8368320nCuHup","print","<p style='margin-left: 1ch;'>","Error loading file.","get_keywords","getValue","3rfyHNv","cli","267707YpLbrr","282yauebE","re-launch last program for the selected platform","3489516HGAULc","set_loading","&nbsp;","caption","platform_id","getSelectedPlatform","filename","28kTkOVI","4539510fcQhGo","225136AtqiUg"];return _0x3bd1=function(){return lr},_0x3bd1()}var e0,ou,Vf;class LastCommand extends CommandBase{constructor(ar){super();yi(this,ou);yi(this,e0,void 0);Oi(this,e0,ar)}[_0x2e1468(443)](){return["l"]}[_0x2e1468(436)](){return["l",_0x2e1468(449)]}process_input(ar,or){const ur=_0x2e1468;let fr=StorageManager[ur(444)](Vr(this,e0)[ur(429)]()[ur(454)]+".LAST_FILE",void 0);if(fr!=null){const xr=JSON.parse(fr);if(this.cli[ur(440)](ur(435)),this.cli[ur(440)](ur(452)),this.cli[ur(440)](ur(441)+xr[ur(453)]),!or)return;Pi(this,ou,Vf).call(this,xr[ur(430)],xr[ur(453)])}}}e0=new WeakMap,ou=new WeakSet,Vf=async function(ar,or){const ur=_0x2e1468;this[ur(446)][ur(451)](!![]);try{await Vr(this,e0)[ur(438)](ar,or)}catch{this[ur(446)].message_clear(ur(442))}};const _0x443c10=_0x1fa4;(function(lr,cr){const ar=_0x1fa4,or=lr();for(;[];)try{if(-parseInt(ar(459))/1+-parseInt(ar(431))/2*(-parseInt(ar(430))/3)+-parseInt(ar(452))/4+-parseInt(ar(428))/5*(-parseInt(ar(413))/6)+parseInt(ar(439))/7*(-parseInt(ar(451))/8)+parseInt(ar(422))/9*(-parseInt(ar(449))/10)+parseInt(ar(446))/11===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x3864,316249);function _0x3864(){const lr=["head","10aIgcHX","is_selection_enabled","8YiTlTG","1416396eucVan","#cors_results","process_input","redraw","NFD","cli","&limit=20&namespace=0&format=json&origin=*","503029WTKvdi","error","innerHTML","Query + enter to search WikiPedia(tm)","18IDhucT","print",".wikipedia.org/w/api.php?action=opensearch&search=","get_wiki_results","wiki","then","length","clear","get_wiki_article","2075652CsfKeV","createElement","find and read WikiPedia(tm) articles","keys","exit_selection","extract","322035KdfChu","replace","7962QMtGQa","408cBTphf","process_selection","label",".wikipedia.org/w/api.php?action=query&titles=","currentIndex","Connecting to WikiPedia(tm)...","get_help","getElementById","1546958vbQMra","style",`
                #wiki img {
                    display: none;
                }
                #wiki .image, 
                #wiki .caption {
                    display: none;
                }
                #wiki {
                    line-height: 200%;
                }
                #wiki h1, h2, h3, h4, h5, h6 {
                }
            `,"append","wiki-style","is_enter_required","set_article_mode","9793982mavLwr","show_results"];return _0x3864=function(){return lr},_0x3864()}function _0x1fa4(lr,cr){const ar=_0x3864();return _0x1fa4=function(or,ur){return or=or-411,ar[or]},_0x1fa4(lr,cr)}var z0,su,jf,cu,Uf;class WikiCommand extends CommandBase{constructor(){super(...arguments);yi(this,su);yi(this,cu);yi(this,z0,"en")}get_keywords(){return[_0x1fa4(417)]}[_0x443c10(437)](){return["wiki [QUERY]",_0x443c10(424)]}[_0x443c10(454)](ar,or){const ur=_0x443c10;if(or)this[ur(457)].clear(),this[ur(457)][ur(414)](ur(436)),this[ur(457)][ur(455)](),this[ur(416)](ar.join(" "))[ur(418)](fr=>{const xr=ur;fr[xr(419)]>0?(this[xr(435)]=0,this[xr(447)](fr,!![])):this.show_results([])});else{this[ur(457)].clear(),this[ur(457)][ur(414)](ur(412)),this.cli[ur(455)]();return}}[_0x443c10(426)](){return!![]}[_0x443c10(432)](ar){const or=_0x443c10;this[or(435)]=-1,this[or(457)][or(445)](!![]),this[or(421)](ar[or(433)])[or(418)](ur=>{const fr=or;this[fr(457)][fr(420)]();var xr=s$1(fr(453));xr.innerHTML="",Pi(this,su,jf).call(this);var pr=document[fr(423)]("div");pr.id=fr(417),pr[fr(411)]=ur,xr[fr(442)](pr)})}[_0x443c10(450)](){return!![]}[_0x443c10(444)](){return!![]}async[_0x443c10(416)](ar){const or=_0x443c10;try{const ur=await fetch("https://"+Vr(this,z0)+or(415)+ar+or(458)),fr=await ur.json();let xr=[];return fr[1].forEach((pr,br)=>{let gr={label:fr[1][br],url:fr[3][br]};xr.push(gr)}),xr}catch(ur){return console[or(460)]("Error fetching Wikipedia(tm) results:",ur),[]}}async get_wiki_article(ar){const or=_0x443c10;try{const ur=await fetch("https://"+Vr(this,z0)+or(434)+ar+"&prop=extracts&format=json&origin=*"),fr=await ur.json(),xr=fr.query.pages;let pr=xr[Object[or(425)](xr)[0]][or(427)];return pr=Pi(this,cu,Uf).call(this,pr),pr}catch(ur){console[or(460)]("Error fetching Wikipedia(tm) article:",ur)}}}z0=new WeakMap,su=new WeakSet,jf=function(){const ar=_0x443c10;var or=ar(443);if(!document[ar(438)](or)){var ur=document[ar(423)](ar(440));ur.id=or,ur[ar(411)]=ar(441),document[ar(448)].appendChild(ur)}},cu=new WeakSet,Uf=function(ar){const or=_0x443c10;return ar.normalize(or(456))[or(429)](/[\u0300-\u036f]/g,"")};function _0x1ad0(){var lr=["Press ENTER to open Save Browser.","12APAJeR","57054fSTXcN","process_input","186xTPZYZ","print","21474bTYHBB","4456eWEhrL","open","110708zONhSO","6614993anojxB","24125842LSjIia","20vVDqcK","230DAMQfk","135331WxbFuL","clear","cli","50CgJIPA","get_help","1366957eoFOyS"];return _0x1ad0=function(){return lr},_0x1ad0()}var _0x276c8a=_0x3d6d;function _0x3d6d(lr,cr){var ar=_0x1ad0();return _0x3d6d=function(or,ur){or=or-364;var fr=ar[or];return fr},_0x3d6d(lr,cr)}(function(lr,cr){for(var ar=_0x3d6d,or=lr();[];)try{var ur=-parseInt(ar(375))/1+parseInt(ar(373))/2*(-parseInt(ar(378))/3)+-parseInt(ar(365))/4*(-parseInt(ar(369))/5)+-parseInt(ar(380))/6*(-parseInt(ar(370))/7)+-parseInt(ar(383))/8*(-parseInt(ar(382))/9)+parseInt(ar(368))/10*(parseInt(ar(366))/11)+parseInt(ar(377))/12*(-parseInt(ar(367))/13);if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x1ad0,705952);var H0;class RestoreCommand extends CommandBase{constructor(ar){super();yi(this,H0,void 0);Oi(this,H0,ar)}get_keywords(){return["r"]}[_0x276c8a(374)](){return["r","open save browser"]}[_0x276c8a(379)](ar,or){var ur=_0x276c8a;if(this.cli[ur(371)](),this[ur(372)][ur(381)](ur(376)),or)Vr(this,H0)[ur(364)]();else return}}H0=new WeakMap;var _0x4e0aeb=_0x54cf;(function(lr,cr){for(var ar=_0x54cf,or=lr();[];)try{var ur=parseInt(ar(493))/1*(-parseInt(ar(480))/2)+parseInt(ar(484))/3*(parseInt(ar(491))/4)+-parseInt(ar(494))/5*(parseInt(ar(492))/6)+-parseInt(ar(483))/7+parseInt(ar(487))/8+-parseInt(ar(489))/9+parseInt(ar(488))/10;if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x4d65,269105);function _0x54cf(lr,cr){var ar=_0x4d65();return _0x54cf=function(or,ur){or=or-478;var fr=ar[or];return fr},_0x54cf(lr,cr)}var W0;class BrowseCommand extends CommandBase{constructor(ar){super();yi(this,W0,void 0);Oi(this,W0,ar)}[_0x4e0aeb(478)](){return["c"]}[_0x4e0aeb(482)](){var ar=_0x4e0aeb;return["c",ar(485)]}process_input(ar,or){var ur=_0x4e0aeb;if(this[ur(486)][ur(481)](),this[ur(486)][ur(490)]("Press ENTER to open Compilations Browser."),or)Vr(this,W0)[ur(479)]();else return}}W0=new WeakMap;function _0x4d65(){var lr=["264310TLiFLL","get_keywords","open","18HCKOzK","clear","get_help","1565564CYNMtx","33zzpmxH","open compilations browser","cli","1756920RZHsbC","10116880zmGbeB","1746774ptSeiT","print","38292YqjaCB","42ICAuxE","31081lsxurJ"];return _0x4d65=function(){return lr},_0x4d65()}let F={};function D(lr={}){F={animate:!0,allowClose:!0,overlayOpacity:.7,smoothScroll:!1,disableActiveInteraction:!1,showProgress:!1,stagePadding:10,stageRadius:5,popoverOffset:10,showButtons:["next","previous","close"],disableButtons:[],overlayColor:"#000",...lr}}function a(lr){return lr?F[lr]:F}function W(lr,cr,ar,or){return(lr/=or/2)<1?ar/2*lr*lr+cr:-ar/2*(--lr*(lr-2)-1)+cr}function Q(lr){const cr='a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])';return lr.flatMap(ar=>{const or=ar.matches(cr),ur=Array.from(ar.querySelectorAll(cr));return[...or?[ar]:[],...ur]}).filter(ar=>getComputedStyle(ar).pointerEvents!=="none"&&ae(ar))}function Z(lr){if(!lr||se(lr))return;const cr=a("smoothScroll");lr.scrollIntoView({behavior:!cr||re(lr)?"auto":"smooth",inline:"center",block:"center"})}function re(lr){if(!lr||!lr.parentElement)return;const cr=lr.parentElement;return cr.scrollHeight>cr.clientHeight}function se(lr){const cr=lr.getBoundingClientRect();return cr.top>=0&&cr.left>=0&&cr.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&cr.right<=(window.innerWidth||document.documentElement.clientWidth)}function ae(lr){return!!(lr.offsetWidth||lr.offsetHeight||lr.getClientRects().length)}let O={};function b(lr,cr){O[lr]=cr}function l(lr){return lr?O[lr]:O}function V(){O={}}let R={};function N(lr,cr){R[lr]=cr}function L(lr){var cr;(cr=R[lr])==null||cr.call(R)}function ce(){R={}}function le(lr,cr,ar,or){let ur=l("__activeStagePosition");const fr=ur||ar.getBoundingClientRect(),xr=or.getBoundingClientRect(),pr=W(lr,fr.x,xr.x-fr.x,cr),br=W(lr,fr.y,xr.y-fr.y,cr),gr=W(lr,fr.width,xr.width-fr.width,cr),mr=W(lr,fr.height,xr.height-fr.height,cr);ur={x:pr,y:br,width:gr,height:mr},J(ur),b("__activeStagePosition",ur)}function G(lr){if(!lr)return;const cr=lr.getBoundingClientRect(),ar={x:cr.x,y:cr.y,width:cr.width,height:cr.height};b("__activeStagePosition",ar),J(ar)}function de(){const lr=l("__activeStagePosition"),cr=l("__overlaySvg");if(!lr)return;if(!cr){console.warn("No stage svg found.");return}const ar=window.innerWidth,or=window.innerHeight;cr.setAttribute("viewBox",`0 0 ${ar} ${or}`)}function pe(lr){const cr=ue(lr);document.body.appendChild(cr),te(cr,ar=>{ar.target.tagName==="path"&&L("overlayClick")}),b("__overlaySvg",cr)}function J(lr){const cr=l("__overlaySvg");if(!cr){pe(lr);return}const ar=cr.firstElementChild;if((ar==null?void 0:ar.tagName)!=="path")throw new Error("no path element found in stage svg");ar.setAttribute("d",U(lr))}function ue(lr){const cr=window.innerWidth,ar=window.innerHeight,or=document.createElementNS("http://www.w3.org/2000/svg","svg");or.classList.add("driver-overlay","driver-overlay-animated"),or.setAttribute("viewBox",`0 0 ${cr} ${ar}`),or.setAttribute("xmlSpace","preserve"),or.setAttribute("xmlnsXlink","http://www.w3.org/1999/xlink"),or.setAttribute("version","1.1"),or.setAttribute("preserveAspectRatio","xMinYMin slice"),or.style.fillRule="evenodd",or.style.clipRule="evenodd",or.style.strokeLinejoin="round",or.style.strokeMiterlimit="2",or.style.zIndex="10000",or.style.position="fixed",or.style.top="0",or.style.left="0",or.style.width="100%",or.style.height="100%";const ur=document.createElementNS("http://www.w3.org/2000/svg","path");return ur.setAttribute("d",U(lr)),ur.style.fill=a("overlayColor")||"rgb(0,0,0)",ur.style.opacity=`${a("overlayOpacity")}`,ur.style.pointerEvents="auto",ur.style.cursor="auto",or.appendChild(ur),or}function U(lr){const cr=window.innerWidth,ar=window.innerHeight,or=a("stagePadding")||0,ur=a("stageRadius")||0,fr=lr.width+or*2,xr=lr.height+or*2,pr=Math.min(ur,fr/2,xr/2),br=Math.floor(Math.max(pr,0)),gr=lr.x-or+br,mr=lr.y-or,_r=fr-br*2,Sr=xr-br*2;return`M${cr},0L0,0L0,${ar}L${cr},${ar}L${cr},0Z
    M${gr},${mr} h${_r} a${br},${br} 0 0 1 ${br},${br} v${Sr} a${br},${br} 0 0 1 -${br},${br} h-${_r} a${br},${br} 0 0 1 -${br},-${br} v-${Sr} a${br},${br} 0 0 1 ${br},-${br} z`}function ve(){const lr=l("__overlaySvg");lr&&lr.remove()}function fe(){const lr=document.getElementById("driver-dummy-element");if(lr)return lr;let cr=document.createElement("div");return cr.id="driver-dummy-element",cr.style.width="0",cr.style.height="0",cr.style.pointerEvents="none",cr.style.opacity="0",cr.style.position="fixed",cr.style.top="50%",cr.style.left="50%",document.body.appendChild(cr),cr}function K(lr){const{element:cr}=lr;let ar=typeof cr=="string"?document.querySelector(cr):cr;ar||(ar=fe()),ge(ar,lr)}function he(){const lr=l("__activeElement"),cr=l("__activeStep");lr&&(G(lr),de(),ie(lr,cr))}function ge(lr,cr){const ar=Date.now(),or=l("__activeStep"),ur=l("__activeElement")||lr,fr=!ur||ur===lr,xr=lr.id==="driver-dummy-element",pr=ur.id==="driver-dummy-element",br=a("animate"),gr=cr.onHighlightStarted||a("onHighlightStarted"),mr=(cr==null?void 0:cr.onHighlighted)||a("onHighlighted"),_r=(or==null?void 0:or.onDeselected)||a("onDeselected"),Sr=a(),yr=l();!fr&&_r&&_r(pr?void 0:ur,or,{config:Sr,state:yr}),gr&&gr(xr?void 0:lr,cr,{config:Sr,state:yr});const Cr=!fr&&br;let Ar=!1;xe(),b("previousStep",or),b("previousElement",ur),b("activeStep",cr),b("activeElement",lr);const kr=()=>{if(l("__transitionCallback")!==kr)return;const Or=Date.now()-ar,Dr=400-Or<=400/2;cr.popover&&Dr&&!Ar&&Cr&&(X(lr,cr),Ar=!0),a("animate")&&Or<400?le(Or,400,ur,lr):(G(lr),mr&&mr(xr?void 0:lr,cr,{config:a(),state:l()}),b("__transitionCallback",void 0),b("__previousStep",or),b("__previousElement",ur),b("__activeStep",cr),b("__activeElement",lr)),window.requestAnimationFrame(kr)};b("__transitionCallback",kr),window.requestAnimationFrame(kr),Z(lr),!Cr&&cr.popover&&X(lr,cr),ur.classList.remove("driver-active-element","driver-no-interaction"),ur.removeAttribute("aria-haspopup"),ur.removeAttribute("aria-expanded"),ur.removeAttribute("aria-controls"),a("disableActiveInteraction")&&lr.classList.add("driver-no-interaction"),lr.classList.add("driver-active-element"),lr.setAttribute("aria-haspopup","dialog"),lr.setAttribute("aria-expanded","true"),lr.setAttribute("aria-controls","driver-popover-content")}function we(){var lr;(lr=document.getElementById("driver-dummy-element"))==null||lr.remove(),document.querySelectorAll(".driver-active-element").forEach(cr=>{cr.classList.remove("driver-active-element","driver-no-interaction"),cr.removeAttribute("aria-haspopup"),cr.removeAttribute("aria-expanded"),cr.removeAttribute("aria-controls")})}function I(){const lr=l("__resizeTimeout");lr&&window.cancelAnimationFrame(lr),b("__resizeTimeout",window.requestAnimationFrame(he))}function me(lr){var cr;if(!l("isInitialized")||!(lr.key==="Tab"||lr.keyCode===9))return;const ar=l("__activeElement"),or=(cr=l("popover"))==null?void 0:cr.wrapper,ur=Q([...or?[or]:[],...ar?[ar]:[]]),fr=ur[0],xr=ur[ur.length-1];if(lr.preventDefault(),lr.shiftKey){const pr=ur[ur.indexOf(document.activeElement)-1]||xr;pr==null||pr.focus()}else{const pr=ur[ur.indexOf(document.activeElement)+1]||fr;pr==null||pr.focus()}}function ee(lr){var cr;((cr=a("allowKeyboardControl"))==null||cr)&&(lr.key==="Escape"?L("escapePress"):lr.key==="ArrowRight"?L("arrowRightPress"):lr.key==="ArrowLeft"&&L("arrowLeftPress"))}function te(lr,cr,ar){const or=(ur,fr)=>{const xr=ur.target;lr.contains(xr)&&((!ar||ar(xr))&&(ur.preventDefault(),ur.stopPropagation(),ur.stopImmediatePropagation()),fr==null||fr(ur))};document.addEventListener("pointerdown",or,!0),document.addEventListener("mousedown",or,!0),document.addEventListener("pointerup",or,!0),document.addEventListener("mouseup",or,!0),document.addEventListener("click",ur=>{or(ur,cr)},!0)}function ye(){window.addEventListener("keyup",ee,!1),window.addEventListener("keydown",me,!1),window.addEventListener("resize",I),window.addEventListener("scroll",I)}function be(){window.removeEventListener("keyup",ee),window.removeEventListener("resize",I),window.removeEventListener("scroll",I)}function xe(){const lr=l("popover");lr&&(lr.wrapper.style.display="none")}function X(lr,cr){var ar,or;let ur=l("popover");ur&&document.body.removeChild(ur.wrapper),ur=Pe(),document.body.appendChild(ur.wrapper);const{title:fr,description:xr,showButtons:pr,disableButtons:br,showProgress:gr,nextBtnText:mr=a("nextBtnText")||"Next &rarr;",prevBtnText:_r=a("prevBtnText")||"&larr; Previous",progressText:Sr=a("progressText")||"{current} of {total}"}=cr.popover||{};ur.nextButton.innerHTML=mr,ur.previousButton.innerHTML=_r,ur.progress.innerHTML=Sr,fr?(ur.title.innerHTML=fr,ur.title.style.display="block"):ur.title.style.display="none",xr?(ur.description.innerHTML=xr,ur.description.style.display="block"):ur.description.style.display="none";const yr=pr||a("showButtons"),Cr=gr||a("showProgress")||!1,Ar=(yr==null?void 0:yr.includes("next"))||(yr==null?void 0:yr.includes("previous"))||Cr;ur.closeButton.style.display=yr.includes("close")?"block":"none",Ar?(ur.footer.style.display="flex",ur.progress.style.display=Cr?"block":"none",ur.nextButton.style.display=yr.includes("next")?"block":"none",ur.previousButton.style.display=yr.includes("previous")?"block":"none"):ur.footer.style.display="none";const kr=br||a("disableButtons")||[];kr!=null&&kr.includes("next")&&(ur.nextButton.disabled=!0,ur.nextButton.classList.add("driver-popover-btn-disabled")),kr!=null&&kr.includes("previous")&&(ur.previousButton.disabled=!0,ur.previousButton.classList.add("driver-popover-btn-disabled")),kr!=null&&kr.includes("close")&&(ur.closeButton.disabled=!0,ur.closeButton.classList.add("driver-popover-btn-disabled"));const Or=ur.wrapper;Or.style.display="block",Or.style.left="",Or.style.top="",Or.style.bottom="",Or.style.right="",Or.id="driver-popover-content",Or.setAttribute("role","dialog"),Or.setAttribute("aria-labelledby","driver-popover-title"),Or.setAttribute("aria-describedby","driver-popover-description");const Dr=ur.arrow;Dr.className="driver-popover-arrow";const Rr=((ar=cr.popover)==null?void 0:ar.popoverClass)||a("popoverClass")||"";Or.className=`driver-popover ${Rr}`.trim(),te(ur.wrapper,jr=>{var Jr,Yr,Ur;const Zr=jr.target,Wr=((Jr=cr.popover)==null?void 0:Jr.onNextClick)||a("onNextClick"),ni=((Yr=cr.popover)==null?void 0:Yr.onPrevClick)||a("onPrevClick"),Lr=((Ur=cr.popover)==null?void 0:Ur.onCloseClick)||a("onCloseClick");if(Zr.classList.contains("driver-popover-next-btn"))return Wr?Wr(lr,cr,{config:a(),state:l()}):L("nextClick");if(Zr.classList.contains("driver-popover-prev-btn"))return ni?ni(lr,cr,{config:a(),state:l()}):L("prevClick");if(Zr.classList.contains("driver-popover-close-btn"))return Lr?Lr(lr,cr,{config:a(),state:l()}):L("closeClick")},jr=>!(ur!=null&&ur.description.contains(jr))&&!(ur!=null&&ur.title.contains(jr))&&typeof jr.className=="string"&&jr.className.includes("driver-popover")),b("popover",ur);const Fr=((or=cr.popover)==null?void 0:or.onPopoverRender)||a("onPopoverRender");Fr&&Fr(ur,{config:a(),state:l()}),ie(lr,cr),Z(Or);const Nr=lr.classList.contains("driver-dummy-element"),Hr=Q([Or,...Nr?[]:[lr]]);Hr.length>0&&Hr[0].focus()}function oe(){const lr=l("popover");if(!(lr!=null&&lr.wrapper))return;const cr=lr.wrapper.getBoundingClientRect(),ar=a("stagePadding")||0,or=a("popoverOffset")||0;return{width:cr.width+ar+or,height:cr.height+ar+or,realWidth:cr.width,realHeight:cr.height}}function Y(lr,cr){const{elementDimensions:ar,popoverDimensions:or,popoverPadding:ur,popoverArrowDimensions:fr}=cr;return lr==="start"?Math.max(Math.min(ar.top-ur,window.innerHeight-or.realHeight-fr.width),fr.width):lr==="end"?Math.max(Math.min(ar.top-(or==null?void 0:or.realHeight)+ar.height+ur,window.innerHeight-(or==null?void 0:or.realHeight)-fr.width),fr.width):lr==="center"?Math.max(Math.min(ar.top+ar.height/2-(or==null?void 0:or.realHeight)/2,window.innerHeight-(or==null?void 0:or.realHeight)-fr.width),fr.width):0}function j(lr,cr){const{elementDimensions:ar,popoverDimensions:or,popoverPadding:ur,popoverArrowDimensions:fr}=cr;return lr==="start"?Math.max(Math.min(ar.left-ur,window.innerWidth-or.realWidth-fr.width),fr.width):lr==="end"?Math.max(Math.min(ar.left-(or==null?void 0:or.realWidth)+ar.width+ur,window.innerWidth-(or==null?void 0:or.realWidth)-fr.width),fr.width):lr==="center"?Math.max(Math.min(ar.left+ar.width/2-(or==null?void 0:or.realWidth)/2,window.innerWidth-(or==null?void 0:or.realWidth)-fr.width),fr.width):0}function ie(lr,cr){const ar=l("popover");if(!ar)return;const{align:or="start",side:ur="left"}=(cr==null?void 0:cr.popover)||{},fr=or,xr=lr.id==="driver-dummy-element"?"over":ur,pr=a("stagePadding")||0,br=oe(),gr=ar.arrow.getBoundingClientRect(),mr=lr.getBoundingClientRect(),_r=mr.top-br.height;let Sr=_r>=0;const yr=window.innerHeight-(mr.bottom+br.height);let Cr=yr>=0;const Ar=mr.left-br.width;let kr=Ar>=0;const Or=window.innerWidth-(mr.right+br.width);let Dr=Or>=0;const Rr=!Sr&&!Cr&&!kr&&!Dr;let Fr=xr;if(xr==="top"&&Sr?Dr=kr=Cr=!1:xr==="bottom"&&Cr?Dr=kr=Sr=!1:xr==="left"&&kr?Dr=Sr=Cr=!1:xr==="right"&&Dr&&(kr=Sr=Cr=!1),xr==="over"){const Nr=window.innerWidth/2-br.realWidth/2,Hr=window.innerHeight/2-br.realHeight/2;ar.wrapper.style.left=`${Nr}px`,ar.wrapper.style.right="auto",ar.wrapper.style.top=`${Hr}px`,ar.wrapper.style.bottom="auto"}else if(Rr){const Nr=window.innerWidth/2-(br==null?void 0:br.realWidth)/2,Hr=10;ar.wrapper.style.left=`${Nr}px`,ar.wrapper.style.right="auto",ar.wrapper.style.bottom=`${Hr}px`,ar.wrapper.style.top="auto"}else if(kr){const Nr=Math.min(Ar,window.innerWidth-(br==null?void 0:br.realWidth)-gr.width),Hr=Y(fr,{elementDimensions:mr,popoverDimensions:br,popoverPadding:pr,popoverArrowDimensions:gr});ar.wrapper.style.left=`${Nr}px`,ar.wrapper.style.top=`${Hr}px`,ar.wrapper.style.bottom="auto",ar.wrapper.style.right="auto",Fr="left"}else if(Dr){const Nr=Math.min(Or,window.innerWidth-(br==null?void 0:br.realWidth)-gr.width),Hr=Y(fr,{elementDimensions:mr,popoverDimensions:br,popoverPadding:pr,popoverArrowDimensions:gr});ar.wrapper.style.right=`${Nr}px`,ar.wrapper.style.top=`${Hr}px`,ar.wrapper.style.bottom="auto",ar.wrapper.style.left="auto",Fr="right"}else if(Sr){const Nr=Math.min(_r,window.innerHeight-br.realHeight-gr.width);let Hr=j(fr,{elementDimensions:mr,popoverDimensions:br,popoverPadding:pr,popoverArrowDimensions:gr});ar.wrapper.style.top=`${Nr}px`,ar.wrapper.style.left=`${Hr}px`,ar.wrapper.style.bottom="auto",ar.wrapper.style.right="auto",Fr="top"}else if(Cr){const Nr=Math.min(yr,window.innerHeight-(br==null?void 0:br.realHeight)-gr.width);let Hr=j(fr,{elementDimensions:mr,popoverDimensions:br,popoverPadding:pr,popoverArrowDimensions:gr});ar.wrapper.style.left=`${Hr}px`,ar.wrapper.style.bottom=`${Nr}px`,ar.wrapper.style.top="auto",ar.wrapper.style.right="auto",Fr="bottom"}Rr?ar.arrow.classList.add("driver-popover-arrow-none"):Ce(fr,Fr,lr)}function Ce(lr,cr,ar){const or=l("popover");if(!or)return;const ur=ar.getBoundingClientRect(),fr=oe(),xr=or.arrow,pr=fr.width,br=window.innerWidth,gr=ur.width,mr=ur.left,_r=fr.height,Sr=window.innerHeight,yr=ur.top,Cr=ur.height;xr.className="driver-popover-arrow";let Ar=cr,kr=lr;cr==="top"?(mr+gr<=0?(Ar="right",kr="end"):mr+gr-pr<=0&&(Ar="top",kr="start"),mr>=br?(Ar="left",kr="end"):mr+pr>=br&&(Ar="top",kr="end")):cr==="bottom"?(mr+gr<=0?(Ar="right",kr="start"):mr+gr-pr<=0&&(Ar="bottom",kr="start"),mr>=br?(Ar="left",kr="start"):mr+pr>=br&&(Ar="bottom",kr="end")):cr==="left"?(yr+Cr<=0?(Ar="bottom",kr="end"):yr+Cr-_r<=0&&(Ar="left",kr="start"),yr>=Sr?(Ar="top",kr="end"):yr+_r>=Sr&&(Ar="left",kr="end")):cr==="right"&&(yr+Cr<=0?(Ar="bottom",kr="start"):yr+Cr-_r<=0&&(Ar="right",kr="start"),yr>=Sr?(Ar="top",kr="start"):yr+_r>=Sr&&(Ar="right",kr="end")),Ar?(xr.classList.add(`driver-popover-arrow-side-${Ar}`),xr.classList.add(`driver-popover-arrow-align-${kr}`)):xr.classList.add("driver-popover-arrow-none")}function Pe(){const lr=document.createElement("div");lr.classList.add("driver-popover");const cr=document.createElement("div");cr.classList.add("driver-popover-arrow");const ar=document.createElement("header");ar.id="driver-popover-title",ar.classList.add("driver-popover-title"),ar.style.display="none",ar.innerText="Popover Title";const or=document.createElement("div");or.id="driver-popover-description",or.classList.add("driver-popover-description"),or.style.display="none",or.innerText="Popover description is here";const ur=document.createElement("button");ur.type="button",ur.classList.add("driver-popover-close-btn"),ur.setAttribute("aria-label","Close"),ur.innerHTML="&times;";const fr=document.createElement("footer");fr.classList.add("driver-popover-footer");const xr=document.createElement("span");xr.classList.add("driver-popover-progress-text"),xr.innerText="";const pr=document.createElement("span");pr.classList.add("driver-popover-navigation-btns");const br=document.createElement("button");br.type="button",br.classList.add("driver-popover-prev-btn"),br.innerHTML="&larr; Previous";const gr=document.createElement("button");return gr.type="button",gr.classList.add("driver-popover-next-btn"),gr.innerHTML="Next &rarr;",pr.appendChild(br),pr.appendChild(gr),fr.appendChild(xr),fr.appendChild(pr),lr.appendChild(ur),lr.appendChild(cr),lr.appendChild(ar),lr.appendChild(or),lr.appendChild(fr),{wrapper:lr,arrow:cr,title:ar,description:or,footer:fr,previousButton:br,nextButton:gr,closeButton:ur,footerButtons:pr,progress:xr}}function Se(){var lr;const cr=l("popover");cr&&((lr=cr.wrapper.parentElement)==null||lr.removeChild(cr.wrapper))}function ke(lr={}){D(lr);function cr(){a("allowClose")&&gr()}function ar(){const mr=l("activeIndex"),_r=a("steps")||[];if(typeof mr>"u")return;const Sr=mr+1;_r[Sr]?br(Sr):gr()}function or(){const mr=l("activeIndex"),_r=a("steps")||[];if(typeof mr>"u")return;const Sr=mr-1;_r[Sr]?br(Sr):gr()}function ur(mr){(a("steps")||[])[mr]?br(mr):gr()}function fr(){var mr;if(l("__transitionCallback"))return;const _r=l("activeIndex"),Sr=l("__activeStep"),yr=l("__activeElement");if(typeof _r>"u"||typeof Sr>"u"||typeof l("activeIndex")>"u")return;const Cr=((mr=Sr.popover)==null?void 0:mr.onPrevClick)||a("onPrevClick");if(Cr)return Cr(yr,Sr,{config:a(),state:l()});or()}function xr(){var mr;if(l("__transitionCallback"))return;const _r=l("activeIndex"),Sr=l("__activeStep"),yr=l("__activeElement");if(typeof _r>"u"||typeof Sr>"u")return;const Cr=((mr=Sr.popover)==null?void 0:mr.onNextClick)||a("onNextClick");if(Cr)return Cr(yr,Sr,{config:a(),state:l()});ar()}function pr(){l("isInitialized")||(b("isInitialized",!0),document.body.classList.add("driver-active",a("animate")?"driver-fade":"driver-simple"),ye(),N("overlayClick",cr),N("escapePress",cr),N("arrowLeftPress",fr),N("arrowRightPress",xr))}function br(mr=0){var _r,Sr,yr,Cr,Ar,kr,Or,Dr;const Rr=a("steps");if(!Rr){console.error("No steps to drive through"),gr();return}if(!Rr[mr]){gr();return}b("__activeOnDestroyed",document.activeElement),b("activeIndex",mr);const Fr=Rr[mr],Nr=Rr[mr+1],Hr=Rr[mr-1],jr=((_r=Fr.popover)==null?void 0:_r.doneBtnText)||a("doneBtnText")||"Done",Jr=a("allowClose"),Yr=typeof((Sr=Fr.popover)==null?void 0:Sr.showProgress)<"u"?(yr=Fr.popover)==null?void 0:yr.showProgress:a("showProgress"),Ur=(((Cr=Fr.popover)==null?void 0:Cr.progressText)||a("progressText")||"{{current}} of {{total}}").replace("{{current}}",`${mr+1}`).replace("{{total}}",`${Rr.length}`),Zr=((Ar=Fr.popover)==null?void 0:Ar.showButtons)||a("showButtons"),Wr=["next","previous",...Jr?["close"]:[]].filter(Ei=>!(Zr!=null&&Zr.length)||Zr.includes(Ei)),ni=((kr=Fr.popover)==null?void 0:kr.onNextClick)||a("onNextClick"),Lr=((Or=Fr.popover)==null?void 0:Or.onPrevClick)||a("onPrevClick"),hi=((Dr=Fr.popover)==null?void 0:Dr.onCloseClick)||a("onCloseClick");K({...Fr,popover:{showButtons:Wr,nextBtnText:Nr?void 0:jr,disableButtons:[...Hr?[]:["previous"]],showProgress:Yr,progressText:Ur,onNextClick:ni||(()=>{Nr?br(mr+1):gr()}),onPrevClick:Lr||(()=>{br(mr-1)}),onCloseClick:hi||(()=>{gr()}),...(Fr==null?void 0:Fr.popover)||{}}})}function gr(mr=!0){const _r=l("__activeElement"),Sr=l("__activeStep"),yr=l("__activeOnDestroyed"),Cr=a("onDestroyStarted");if(mr&&Cr){const Or=!_r||(_r==null?void 0:_r.id)==="driver-dummy-element";Cr(Or?void 0:_r,Sr,{config:a(),state:l()});return}const Ar=(Sr==null?void 0:Sr.onDeselected)||a("onDeselected"),kr=a("onDestroyed");if(document.body.classList.remove("driver-active","driver-fade","driver-simple"),be(),Se(),we(),ve(),ce(),V(),_r&&Sr){const Or=_r.id==="driver-dummy-element";Ar&&Ar(Or?void 0:_r,Sr,{config:a(),state:l()}),kr&&kr(Or?void 0:_r,Sr,{config:a(),state:l()})}yr&&yr.focus()}return{isActive:()=>l("isInitialized")||!1,refresh:I,drive:(mr=0)=>{pr(),br(mr)},setConfig:D,setSteps:mr=>{V(),D({...a(),steps:mr})},getConfig:a,getState:l,getActiveIndex:()=>l("activeIndex"),isFirstStep:()=>l("activeIndex")===0,isLastStep:()=>{const mr=a("steps")||[],_r=l("activeIndex");return _r!==void 0&&_r===mr.length-1},getActiveStep:()=>l("activeStep"),getActiveElement:()=>l("activeElement"),getPreviousElement:()=>l("previousElement"),getPreviousStep:()=>l("previousStep"),moveNext:ar,movePrevious:or,moveTo:ur,hasNextStep:()=>{const mr=a("steps")||[],_r=l("activeIndex");return _r!==void 0&&mr[_r+1]},hasPreviousStep:()=>{const mr=a("steps")||[],_r=l("activeIndex");return _r!==void 0&&mr[_r-1]},highlight:mr=>{pr(),K({...mr,popover:mr.popover?{showButtons:[],showProgress:!1,progressText:"",...mr.popover}:void 0})},destroy:()=>{gr(!1)}}}const driver="",_0x566cb2=_0x345a;(function(lr,cr){const ar=_0x345a,or=lr();for(;[];)try{if(-parseInt(ar(417))/1+parseInt(ar(425))/2*(parseInt(ar(427))/3)+parseInt(ar(388))/4*(-parseInt(ar(421))/5)+parseInt(ar(433))/6+-parseInt(ar(383))/7*(-parseInt(ar(398))/8)+parseInt(ar(410))/9+-parseInt(ar(397))/10===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x2ddf,564334);function _0x345a(lr,cr){const ar=_0x2ddf();return _0x345a=function(or,ur){return or=or-376,ar[or]},_0x345a(lr,cr)}function _0x2ddf(){const lr=["<p>Click here to browse and load save states.</p>","isQuest","4FCTlMi","addFsButton","querySelector","menu-item-about","drive","addCollectionButton","#menu-item-open","Toggle fullscreen","<p>Click here to show the list of available CLI commands.</p><p>Some commands require confirmation by pressing ENTER, while others update the results automatically as you type.</p>","900730yvKCFL","22712jWjvnO","addSaveBrowserButton","0.66","msRequestFullscreen","menu-item-help","Fullscreen","#menu-item-savestates","#menu-item-help","msFullscreenElement",'<p>Click here to display the "About VM/E" information, including credits and licensing details.</p>',"push","mozRequestFullScreen","6857091IubbMI","fullscreenElement","menu-item-open","addOpenButton","start","addSystemButton","Open Compilations Browser","900287gTBsTq","addTourButton","inject","#full-screen","1316785IsHoqZ","menu-item-tour","Import file","mozCancelFullScreen","1885288CAnecO","<p>Click here to toggle fullscreen mode on and off.</p>","3NdsKRp","#menu-item-about","#menu-item-system","documentElement","right","msExitFullscreen","289266hAnwgf","menu-item-system","requestFullscreen","help","About VM/E","#menu-item-compilations","menu-item-compilations","full-screen","webkitExitFullscreen","menu-item-savestates","webkitFullscreenElement","<p>Click here to display the list of available emulated platforms.</p>","161msvgkV","<p>Click here to show the on-screen keyboard.</p>","webkitRequestFullscreen"];return _0x2ddf=function(){return lr},_0x2ddf()}var Ao;class ButtonManager{constructor(cr){yi(this,Ao,void 0);Oi(this,Ao,cr)}addButtons(){const cr=_0x345a;this[cr(415)](),this.addHelpButton(),this[cr(399)](),this[cr(393)](),this[cr(413)](),this[cr(389)](),this.addAboutButton(),this[cr(418)]()}[_0x566cb2(415)](){const cr=_0x566cb2;createGuiButton(cr(434),"S","S",()=>{const ar=cr;Vr(this,Ao)[ar(419)]("sys ")})}addHelpButton(){const cr=_0x566cb2;createGuiButton(cr(402),"H","H",()=>{const ar=cr;Vr(this,Ao)[ar(419)](ar(436))})}[_0x566cb2(399)](){const cr=_0x566cb2;createGuiButton(cr(380),"R","R",()=>{const ar=cr;Vr(this,Ao)[ar(419)]("r",!![])})}[_0x566cb2(393)](){createGuiButton(_0x566cb2(377),"C","C",()=>{Vr(this,Ao).inject("c",!![])})}[_0x566cb2(413)](){const cr=_0x566cb2;createGuiButton(cr(412),"O","O",()=>{const ar=cr;Vr(this,Ao)[ar(419)]("open",!![])})}addAboutButton(){const cr=_0x566cb2;createGuiButton(cr(391),"A","A",()=>{const ar=cr;Vr(this,Ao)[ar(419)]("about")})}[_0x566cb2(389)](){const cr=_0x566cb2;EnvironmentManager[cr(387)]()&&createGuiButton(cr(378),cr(403),"Fs",()=>{const ar=cr;let or=document[ar(430)];const ur=()=>{const xr=ar;or[xr(435)]?or[xr(435)]():or[xr(409)]?or[xr(409)]():or[xr(385)]?or.webkitRequestFullscreen():or[xr(401)]&&or[xr(401)]()},fr=()=>{const xr=ar;document.exitFullscreen?document.exitFullscreen():document[xr(424)]?document.mozCancelFullScreen():document[xr(379)]?document[xr(379)]():document[xr(432)]&&document[xr(432)]()};!document[ar(411)]&&!document.mozFullScreenElement&&!document[ar(381)]&&!document[ar(406)]?ur():fr()})}[_0x566cb2(418)](){const cr=_0x566cb2;createGuiButton(cr(422),"?","?",()=>{const ar=cr,or=[];or[ar(408)]({element:ar(429),popover:{title:"Switch platforms",description:ar(382),side:ar(431),align:ar(414)}}),or.push({element:ar(405),popover:{title:"List available commands",description:ar(396),side:"right",align:"start"}}),or.push({element:ar(404),popover:{title:"Open Save Browser",description:ar(386),side:"right",align:ar(414)}}),document[ar(390)](ar(420))&&or[ar(408)]({element:ar(420),popover:{title:ar(395),description:ar(426),side:ar(431),align:ar(414)}}),document[ar(390)](ar(420))&&or[ar(408)]({element:"#toggle-keyboard",popover:{title:"Toggle on-screen keyboard",description:ar(384),side:"right",align:ar(414)}}),or.push({element:ar(376),popover:{title:ar(416),description:"<p>Click here to browse software compilations.</p>",side:ar(431),align:ar(414)}}),or[ar(408)]({element:ar(394),popover:{title:ar(423),description:"<p>Click here to open the system file dialog, where you can load a program to run and import programs and VME files.</p><p>You can import *vme_import*.zip files. These files contain a list of software for one or multiple platforms, which you can easily access from the VM/E Shell by typing a few letters of the desired programs`s name.</p>",side:ar(431),align:ar(414)}}),or.push({element:ar(428),popover:{title:ar(437),description:ar(407),side:ar(431),align:ar(414)}}),or[ar(408)]({element:"#cors_interface",popover:{title:"VM/E CLI Shell",description:"<p>Use the VM/E shell by entering CLI commands or performing search queries.</p><p>If you have imported a software list for the current platform, you can start typing the name of the file you are looking for. After entering a few characters, you will see a list of files that match your search query.</p>",side:ar(431),align:ar(414)}}),ke({animate:![],showProgress:![],overlayOpacity:ar(400),stagePadding:10,smoothScroll:![],steps:or})[ar(392)]()})}}Ao=new WeakMap;function _0x5269(){const lr=["&nbsp;","detectDevice","standalone","block","49262bclCqW","getValue","updateDeviceType","SAVE_BROWSER","MENU","77faVTod","6234795vBjiAc","register_command","isDesktop","matchMedia","toggleScreen","clicks_on","initDesktopUI","body","flex","#warningStandalone","16OpPakM","#collection-browser","addButtons","emulationStarted","gamepaddisconnected","#emulator","#quickshots","toggleJoystick","initFastUI","3430536VjjdOD","#settings","updateMode","register_default","48084EtKETQ","924548dmFvJE","377433NxRrRx","html","CURRENT_ENV","off","initButtons","hideTouchKeyboard","resizeCanvas","matches","black","add","#save-browser","CURRENT_SCREEN","orientationchange","COLLECTION_BROWSER","getNostalgist","find","initHideaway","clicks_off","CURRENT_MAIN_MENU","grid","812120xUiZeI","classList","(display-mode: standalone)","QUICKJOY_PRIMARY","#fastui","open","EMULATION","#versionLabel","remove","#quickjoy","#quickshot","whitespace","#quickjoys","initQuickshot","addEventListener","getSelectedPlatform","innerHTML"];return _0x5269=function(){return lr},_0x5269()}const _0x5bf1cb=_0x4ebf;function _0x4ebf(lr,cr){const ar=_0x5269();return _0x4ebf=function(or,ur){return or=or-353,ar[or]},_0x4ebf(lr,cr)}(function(lr,cr){const ar=_0x4ebf,or=lr();for(;[];)try{if(-parseInt(ar(396))/1*(parseInt(ar(412))/2)+parseInt(ar(355))/3+parseInt(ar(354))/4+parseInt(ar(375))/5+parseInt(ar(353))/6*(-parseInt(ar(401))/7)+-parseInt(ar(421))/8+parseInt(ar(402))/9===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x5269,301060);var ha,oo,uu,La,ps,Io,K0,_s,Qh,Zh,Jh,ex,lu,zf,fu,Hf;const Za=class Za{constructor(){yi(this,lu);yi(this,fu);yi(this,ha,void 0);yi(this,oo,void 0);yi(this,uu,void 0);yi(this,La,void 0);yi(this,ps,void 0);yi(this,Io,void 0);yi(this,K0,void 0);yi(this,_s,void 0);const cr=_0x5bf1cb;if(Pi(this,fu,Hf).call(this)){show(cr(411),cr(395)),show(cr(356));return}if(Oi(this,ha,new CLI),Oi(this,oo,new KeyboardManager(Vr(this,ha))),Oi(this,ps,new StorageManager),Oi(this,La,new PlatformManager(this,Vr(this,ha),Vr(this,ps))),Oi(this,uu,new EnvironmentManager(Vr(this,La))),Oi(this,Io,new UiManager(Vr(this,La),Vr(this,oo))),Oi(this,K0,new SaveBrowser(this,Vr(this,La),Vr(this,ps),Vr(this,ha))),Oi(this,_s,new CollectionBrowser(this,Vr(this,La),Vr(this,ps),Vr(this,ha))),Vr(this,oo)[cr(407)](),Vr(this,ha)[cr(403)](new HelpCommand),Vr(this,ha)[cr(403)](new RestoreCommand(Vr(this,K0))),Vr(this,ha)[cr(403)](new BrowseCommand(Vr(this,_s))),Vr(this,ha)[cr(403)](new OpenCommand(Vr(this,La))),Vr(this,ha)[cr(403)](new ListCommand(Vr(this,La))),Vr(this,ha)[cr(403)](new FindCommand(Vr(this,La))),Vr(this,ha)[cr(403)](new SystemCommand(Vr(this,La))),Vr(this,ha)[cr(403)](new SetCommand),Vr(this,ha)[cr(403)](new LastCommand(Vr(this,La))),Vr(this,ha)[cr(403)](new WikiCommand),Vr(this,ha)[cr(424)](cr(370)),Pi(this,lu,zf).call(this),Vr(this,oo)[cr(359)](),Vr(this,ha)[cr(403)](new AboutCommand(Vr(this,La))),new ButtonManager(Vr(this,ha))[cr(414)](),EnvironmentManager[cr(393)](),s$1(cr(382))[cr(391)]="v0.7.2",this[cr(406)](Za[cr(366)][cr(400)]),StorageManager[cr(397)](BOOT_TO)==BOOT_TO_COLLECTION_BROWSER){let or=StorageManager[cr(397)](COLLECTION_BROWSER_COLLECTION_INDEX),ur=StorageManager[cr(397)](COLLECTION_BROWSER_ITEM_INDEX);or&&ur?Vr(this,_s)[cr(380)](or,ur):Vr(this,_s)[cr(380)]()}}[(Qh=_0x5bf1cb(386),Zh=_0x5bf1cb(366),Jh=_0x5bf1cb(357),ex=_0x5bf1cb(373),_0x5bf1cb(415))](){const cr=_0x5bf1cb;Vr(this,Io)[cr(420)](),Vr(this,Io).initQuickJoy(),Vr(this,Io)[cr(388)](),Vr(this,Io)[cr(408)](),Vr(this,Io)[cr(371)](),this.toggleScreen(Za[cr(366)][cr(381)]),EnvironmentManager[cr(398)]();let ar=Vr(this,La)[cr(390)]().default_touch_controller;ar?UiManager[cr(419)](ar):UiManager.toggleJoystick(JOYSTICK_TOUCH_MODE[cr(378)]),Vr(this,Io).initControllerMenu(),EnvironmentManager.resizeCanvas(Vr(this,La)[cr(369)]())}toggleScreen(cr){const ar=_0x5bf1cb;switch(cr){case Za[ar(366)][ar(400)]:hide(ar(411)),hide(ar(365)),hide(ar(413)),hide("#emulator"),hide(ar(387)),hide(ar(379)),hide(ar(385)),show(ar(422),ar(410)),Vr(this,ha).on(),Vr(this,oo).clicks_on(),Vr(this,oo)[ar(423)](cr),document.body[ar(376)][ar(383)](ar(363));break;case Za[ar(366)][ar(381)]:Vr(this,ha).off(),hide(ar(411)),hide(ar(422)),hide(ar(365)),hide(ar(413)),show(ar(417),ar(395)),EnvironmentManager[ar(404)]()||EnvironmentManager.isQuest()?(hide(ar(379),ar(374)),hide(ar(418)),hide(ar(385)),hide(ar(387)),hide(ar(384))):show(ar(379),ar(374)),Vr(this,oo)[ar(360)](),Vr(this,oo)[ar(372)](),Vr(this,oo)[ar(423)](cr),document[ar(409)][ar(376)][ar(364)](ar(363));break;case Za.CURRENT_SCREEN[ar(399)]:Vr(this,ha)[ar(358)](),hide("#warningStandalone"),hide(ar(422)),hide(ar(417)),hide(ar(413)),show("#save-browser",ar(410)),document[ar(409)].classList[ar(364)](ar(363));break;case Za.CURRENT_SCREEN[ar(368)]:Vr(this,ha).off(),hide(ar(411)),hide(ar(365)),hide(ar(417)),hide(ar(422)),hide(ar(387)),hide("#fastui"),hide(ar(385)),show("#collection-browser",ar(410)),document[ar(409)][ar(376)][ar(364)]("black");break}}};ha=new WeakMap,oo=new WeakMap,uu=new WeakMap,La=new WeakMap,ps=new WeakMap,Io=new WeakMap,K0=new WeakMap,_s=new WeakMap,lu=new WeakSet,zf=function(){const cr=_0x5bf1cb;window[cr(389)]("resize",()=>EnvironmentManager[cr(361)](Vr(this,La)[cr(369)]())),window[cr(389)]("resize",()=>EnvironmentManager[cr(393)]()),window[cr(389)](cr(367),()=>EnvironmentManager[cr(393)]()),window[cr(389)](cr(416),()=>EnvironmentManager[cr(393)]()),window[cr(389)]("gamepadconnected",()=>EnvironmentManager[cr(393)]())},fu=new WeakSet,Hf=function(){const cr=_0x5bf1cb;if(isMobile_1&&!(window.navigator[cr(394)]||window[cr(405)](cr(377))[cr(362)]))return!![]},Pa(Za,Qh,_0x5bf1cb(392)),Pa(Za,Zh,{STANDALONE_WARNING:50,MENU:100,EMULATION:200,SAVE_BROWSER:220,COLLECTION_BROWSER:300}),Pa(Za,Jh,{TOUCH_SMALL:100,TOUCH_BIG:200,DESKTOP:300}),Pa(Za,ex,{NONE:10,PLATFORM_SELECT:100,CORS_QUERY:200}),Pa(Za,"SCREEN_SIZE",{SMALLER:100,BIGGER:300});let VME=Za;var _0x4410d0=_0x5403;function _0x5403(lr,cr){var ar=_0x5813();return _0x5403=function(or,ur){or=or-274;var fr=ar[or];return fr},_0x5403(lr,cr)}(function(lr,cr){for(var ar=_0x5403,or=lr();[];)try{var ur=-parseInt(ar(274))/1*(-parseInt(ar(281))/2)+parseInt(ar(278))/3*(-parseInt(ar(277))/4)+parseInt(ar(279))/5+-parseInt(ar(282))/6+parseInt(ar(283))/7+parseInt(ar(275))/8+parseInt(ar(276))/9;if(ur===cr)break;or.push(or.shift())}catch{or.push(or.shift())}})(_0x5813,600782);function _0x5813(){var lr=["6PCenVR","5036130FagJcn","DOMContentLoaded","793656qXTaTn","5664744eCjtRt","155624KQPSqH","3keZJKI","2273432hMRJDF","1202481EFkaxA","2185648CAgpMg"];return _0x5813=function(){return lr},_0x5813()}document.addEventListener(_0x4410d0(280),new VME);
