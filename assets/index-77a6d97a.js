var bf=Object.defineProperty;var Ef=(h,o,e)=>o in h?bf(h,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):h[o]=e;var sn=(h,o,e)=>(Ef(h,typeof o!="symbol"?o+"":o,e),e),ou=(h,o,e)=>{if(!o.has(h))throw TypeError("Cannot "+e)};var Ye=(h,o,e)=>(ou(h,o,"read from private field"),e?e.call(h):o.get(h)),Mt=(h,o,e)=>{if(o.has(h))throw TypeError("Cannot add the same private member more than once");o instanceof WeakSet?o.add(h):o.set(h,e)},nr=(h,o,e,i)=>(ou(h,o,"write to private field"),i?i.call(h,e):o.set(h,e),e);var L0=(h,o,e,i)=>({set _(c){nr(h,o,c,e)},get _(){return Ye(h,o,i)}}),ur=(h,o,e)=>(ou(h,o,"access private method"),e);(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function e(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function i(c){if(c.ep)return;c.ep=!0;const f=e(c);fetch(c.href,f)}})();const vme="";function _0x4879(){var h=["string","2109886HSXvoS","none","getComputedStyle","23648337MIOVDx","querySelector","1158777xWXBDi","addEventListener","mouseleave","1361675gnehjZ","mouseup","4362508dnhJGk","style","display","block","3DPMdxf","8ZPyvOq","1619274VjXoeq","7343847aGfftX","beforeend","mousedown"];return _0x4879=function(){return h},_0x4879()}(function(h,o){for(var e=_0x485d,i=h();[];)try{var c=parseInt(e(364))/1+-parseInt(e(359))/2+-parseInt(e(352))/3*(parseInt(e(369))/4)+parseInt(e(367))/5+-parseInt(e(354))/6+-parseInt(e(355))/7+parseInt(e(353))/8*(parseInt(e(362))/9);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x4879,594135);function s(h){var o=_0x485d;return document[o(363)](h)}function show(h,o){var e=_0x485d,i=s(h);i!=null&&(o==null&&(o=e(351)),i.style[e(350)]=o)}function _0x485d(h,o){var e=_0x4879();return _0x485d=function(i,c){i=i-350;var f=e[i];return f},_0x485d(h,o)}function hide(h){var o=_0x485d,e=s(h);e!=null&&(e[o(370)].display="none")}function addButtonEventListeners(h,o){var e=_0x485d;let i=![];const c=f=>{o(f)};h.addEventListener(e(357),()=>{i=!![],c(!![])}),h[e(365)](e(368),()=>{i&&(c(![]),i=![])}),h[e(365)](e(366),()=>{i&&(c(![]),i=![])})}var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$1(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}function getAugmentedNamespace(h){if(h.__esModule)return h;var o=h.default;if(typeof o=="function"){var e=function i(){return this instanceof i?Reflect.construct(o,arguments,this.constructor):o.apply(this,arguments)};e.prototype=o.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(h).forEach(function(i){var c=Object.getOwnPropertyDescriptor(h,i);Object.defineProperty(e,i,c.get?c:{enumerable:!0,get:function(){return h[i]}})}),e}var dexie_min={exports:{}};(function(h,o){(function(e,i){h.exports=i()})(commonjsGlobal$1,function(){var e=function(Re,Le){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ze,Qe){ze.__proto__=Qe}||function(ze,Qe){for(var $e in Qe)Object.prototype.hasOwnProperty.call(Qe,$e)&&(ze[$e]=Qe[$e])})(Re,Le)},i=function(){return(i=Object.assign||function(Re){for(var Le,ze=1,Qe=arguments.length;ze<Qe;ze++)for(var $e in Le=arguments[ze])Object.prototype.hasOwnProperty.call(Le,$e)&&(Re[$e]=Le[$e]);return Re}).apply(this,arguments)};function c(Re,Le,ze){if(ze||arguments.length===2)for(var Qe,$e=0,st=Le.length;$e<st;$e++)!Qe&&$e in Le||((Qe=Qe||Array.prototype.slice.call(Le,0,$e))[$e]=Le[$e]);return Re.concat(Qe||Array.prototype.slice.call(Le))}var f=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:commonjsGlobal$1,m=Object.keys,g=Array.isArray;function Te(Re,Le){return typeof Le!="object"||m(Le).forEach(function(ze){Re[ze]=Le[ze]}),Re}typeof Promise>"u"||f.Promise||(f.Promise=Promise);var Ie=Object.getPrototypeOf,Oe={}.hasOwnProperty;function ne(Re,Le){return Oe.call(Re,Le)}function De(Re,Le){typeof Le=="function"&&(Le=Le(Ie(Re))),(typeof Reflect>"u"?m:Reflect.ownKeys)(Le).forEach(function(ze){Be(Re,ze,Le[ze])})}var Ee=Object.defineProperty;function Be(Re,Le,ze,Qe){Ee(Re,Le,Te(ze&&ne(ze,"get")&&typeof ze.get=="function"?{get:ze.get,set:ze.set,configurable:!0}:{value:ze,configurable:!0,writable:!0},Qe))}function Fe(Re){return{from:function(Le){return Re.prototype=Object.create(Le.prototype),Be(Re.prototype,"constructor",Re),{extend:De.bind(null,Re.prototype)}}}}var Ne=Object.getOwnPropertyDescriptor,Ve=[].slice;function Ue(Re,Le,ze){return Ve.call(Re,Le,ze)}function We(Re,Le){return Le(Re)}function He(Re){if(!Re)throw new Error("Assertion Failed")}function Xe(Re){f.setImmediate?setImmediate(Re):setTimeout(Re,0)}function ot(Re,Le){if(typeof Le=="string"&&ne(Re,Le))return Re[Le];if(!Le)return Re;if(typeof Le!="string"){for(var ze=[],Qe=0,$e=Le.length;Qe<$e;++Qe){var st=ot(Re,Le[Qe]);ze.push(st)}return ze}var _t=Le.indexOf(".");if(_t!==-1){var wt=Re[Le.substr(0,_t)];return wt==null?void 0:ot(wt,Le.substr(_t+1))}}function tt(Re,Le,ze){if(Re&&Le!==void 0&&!("isFrozen"in Object&&Object.isFrozen(Re)))if(typeof Le!="string"&&"length"in Le){He(typeof ze!="string"&&"length"in ze);for(var Qe=0,$e=Le.length;Qe<$e;++Qe)tt(Re,Le[Qe],ze[Qe])}else{var st,_t,wt=Le.indexOf(".");wt!==-1?(st=Le.substr(0,wt),(_t=Le.substr(wt+1))===""?ze===void 0?g(Re)&&!isNaN(parseInt(st))?Re.splice(st,1):delete Re[st]:Re[st]=ze:tt(wt=!(wt=Re[st])||!ne(Re,st)?Re[st]={}:wt,_t,ze)):ze===void 0?g(Re)&&!isNaN(parseInt(Le))?Re.splice(Le,1):delete Re[Le]:Re[Le]=ze}}function gt(Re){var Le,ze={};for(Le in Re)ne(Re,Le)&&(ze[Le]=Re[Le]);return ze}var vt=[].concat;function rt(Re){return vt.apply([],Re)}var mi="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(rt([8,16,32,64].map(function(Re){return["Int","Uint","Float"].map(function(Le){return Le+Re+"Array"})}))).filter(function(Re){return f[Re]}),ht=new Set(mi.map(function(Re){return f[Re]})),it=null;function mt(Re){return it=new WeakMap,Re=function Le(ze){if(!ze||typeof ze!="object")return ze;var Qe=it.get(ze);if(Qe)return Qe;if(g(ze)){Qe=[],it.set(ze,Qe);for(var $e=0,st=ze.length;$e<st;++$e)Qe.push(Le(ze[$e]))}else if(ht.has(ze.constructor))Qe=ze;else{var _t,wt=Ie(ze);for(_t in Qe=wt===Object.prototype?{}:Object.create(wt),it.set(ze,Qe),ze)ne(ze,_t)&&(Qe[_t]=Le(ze[_t]))}return Qe}(Re),it=null,Re}var Ze={}.toString;function Ft(Re){return Ze.call(Re).slice(8,-1)}var Zt=typeof Symbol<"u"?Symbol.iterator:"@@iterator",jt=typeof Zt=="symbol"?function(Re){var Le;return Re!=null&&(Le=Re[Zt])&&Le.apply(Re)}:function(){return null};function cr(Re,Le){return Le=Re.indexOf(Le),0<=Le&&Re.splice(Le,1),0<=Le}var bt={};function St(Re){var Le,ze,Qe,$e;if(arguments.length===1){if(g(Re))return Re.slice();if(this===bt&&typeof Re=="string")return[Re];if($e=jt(Re)){for(ze=[];!(Qe=$e.next()).done;)ze.push(Qe.value);return ze}if(Re==null)return[Re];if(typeof(Le=Re.length)!="number")return[Re];for(ze=new Array(Le);Le--;)ze[Le]=Re[Le];return ze}for(Le=arguments.length,ze=new Array(Le);Le--;)ze[Le]=arguments[Le];return ze}var ct=typeof Symbol<"u"?function(Re){return Re[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Et=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],tn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Et),dt={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Pt(Re,Le){this.name=Re,this.message=Le}function Ct(Re,Le){return Re+". Errors: "+Object.keys(Le).map(function(ze){return Le[ze].toString()}).filter(function(ze,Qe,$e){return $e.indexOf(ze)===Qe}).join(`
`)}function Kt(Re,Le,ze,Qe){this.failures=Le,this.failedKeys=Qe,this.successCount=ze,this.message=Ct(Re,Le)}function fr(Re,Le){this.name="BulkError",this.failures=Object.keys(Le).map(function(ze){return Le[ze]}),this.failuresByPos=Le,this.message=Ct(Re,this.failures)}Fe(Pt).from(Error).extend({toString:function(){return this.name+": "+this.message}}),Fe(Kt).from(Pt),Fe(fr).from(Pt);var Rr=tn.reduce(function(Re,Le){return Re[Le]=Le+"Error",Re},{}),sr=Pt,lt=tn.reduce(function(Re,Le){var ze=Le+"Error";function Qe($e,st){this.name=ze,$e?typeof $e=="string"?(this.message="".concat($e).concat(st?`
 `+st:""),this.inner=st||null):typeof $e=="object"&&(this.message="".concat($e.name," ").concat($e.message),this.inner=$e):(this.message=dt[Le]||ze,this.inner=null)}return Fe(Qe).from(sr),Re[Le]=Qe,Re},{});lt.Syntax=SyntaxError,lt.Type=TypeError,lt.Range=RangeError;var yt=Et.reduce(function(Re,Le){return Re[Le+"Error"]=lt[Le],Re},{}),Xt=tn.reduce(function(Re,Le){return["Syntax","Type","Range"].indexOf(Le)===-1&&(Re[Le+"Error"]=lt[Le]),Re},{});function $t(){}function dr(Re){return Re}function Je(Re,Le){return Re==null||Re===dr?Le:function(ze){return Le(Re(ze))}}function At(Re,Le){return function(){Re.apply(this,arguments),Le.apply(this,arguments)}}function Wt(Re,Le){return Re===$t?Le:function(){var ze=Re.apply(this,arguments);ze!==void 0&&(arguments[0]=ze);var Qe=this.onsuccess,$e=this.onerror;this.onsuccess=null,this.onerror=null;var st=Le.apply(this,arguments);return Qe&&(this.onsuccess=this.onsuccess?At(Qe,this.onsuccess):Qe),$e&&(this.onerror=this.onerror?At($e,this.onerror):$e),st!==void 0?st:ze}}function xt(Re,Le){return Re===$t?Le:function(){Re.apply(this,arguments);var ze=this.onsuccess,Qe=this.onerror;this.onsuccess=this.onerror=null,Le.apply(this,arguments),ze&&(this.onsuccess=this.onsuccess?At(ze,this.onsuccess):ze),Qe&&(this.onerror=this.onerror?At(Qe,this.onerror):Qe)}}function pt(Re,Le){return Re===$t?Le:function(ze){var Qe=Re.apply(this,arguments);Te(ze,Qe);var $e=this.onsuccess,st=this.onerror;return this.onsuccess=null,this.onerror=null,ze=Le.apply(this,arguments),$e&&(this.onsuccess=this.onsuccess?At($e,this.onsuccess):$e),st&&(this.onerror=this.onerror?At(st,this.onerror):st),Qe===void 0?ze===void 0?void 0:ze:Te(Qe,ze)}}function Dt(Re,Le){return Re===$t?Le:function(){return Le.apply(this,arguments)!==!1&&Re.apply(this,arguments)}}function er(Re,Le){return Re===$t?Le:function(){var ze=Re.apply(this,arguments);if(ze&&typeof ze.then=="function"){for(var Qe=this,$e=arguments.length,st=new Array($e);$e--;)st[$e]=arguments[$e];return ze.then(function(){return Le.apply(Qe,st)})}return Le.apply(this,arguments)}}Xt.ModifyError=Kt,Xt.DexieError=Pt,Xt.BulkError=fr;var nt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function je(Re){nt=Re}var Ke={},ut=100,mi=typeof Promise>"u"?[]:function(){var Re=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[Re,Ie(Re),Re];var Le=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[Le,Ie(Le),Re]}(),Et=mi[0],tn=mi[1],mi=mi[2],tn=tn&&tn.then,It=Et&&Et.constructor,zt=!!mi,tr=function(Re,Le){on.push([Re,Le]),Lr&&(queueMicrotask(Pn),Lr=!1)},Sr=!0,Lr=!0,Br=[],Er=[],gr=dr,Qr={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:$t,pgp:!1,env:{},finalize:$t},Cr=Qr,on=[],Bn=0,Un=[];function wr(Re){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var Le=this._PSD=Cr;if(typeof Re!="function"){if(Re!==Ke)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&at(this,this._value))}this._state=null,this._value=null,++Le.ref,function ze(Qe,$e){try{$e(function(st){if(Qe._state===null){if(st===Qe)throw new TypeError("A promise cannot be resolved with itself.");var _t=Qe._lib&&Tr();st&&typeof st.then=="function"?ze(Qe,function(wt,Rt){st instanceof wr?st._then(wt,Rt):st.then(wt,Rt)}):(Qe._state=!0,Qe._value=st,Or(Qe)),_t&&un()}},at.bind(null,Qe))}catch(st){at(Qe,st)}}(this,Re)}var Jt={get:function(){var Re=Cr,Le=ln;function ze(Qe,$e){var st=this,_t=!Re.global&&(Re!==Cr||Le!==ln),wt=_t&&!xn(),Rt=new wr(function(Tt,Lt){en(st,new yr(Qn(Qe,Re,_t,wt),Qn($e,Re,_t,wt),Tt,Lt,Re))});return this._consoleTask&&(Rt._consoleTask=this._consoleTask),Rt}return ze.prototype=Ke,ze},set:function(Re){Be(this,"then",Re&&Re.prototype===Ke?Jt:{get:function(){return Re},set:Jt.set})}};function yr(Re,Le,ze,Qe,$e){this.onFulfilled=typeof Re=="function"?Re:null,this.onRejected=typeof Le=="function"?Le:null,this.resolve=ze,this.reject=Qe,this.psd=$e}function at(Re,Le){var ze,Qe;Er.push(Le),Re._state===null&&(ze=Re._lib&&Tr(),Le=gr(Le),Re._state=!1,Re._value=Le,Qe=Re,Br.some(function($e){return $e._value===Qe._value})||Br.push(Qe),Or(Re),ze&&un())}function Or(Re){var Le=Re._listeners;Re._listeners=[];for(var ze=0,Qe=Le.length;ze<Qe;++ze)en(Re,Le[ze]);var $e=Re._PSD;--$e.ref||$e.finalize(),Bn===0&&(++Bn,tr(function(){--Bn==0&&or()},[]))}function en(Re,Le){if(Re._state!==null){var ze=Re._state?Le.onFulfilled:Le.onRejected;if(ze===null)return(Re._state?Le.resolve:Le.reject)(Re._value);++Le.psd.ref,++Bn,tr(kr,[ze,Re,Le])}else Re._listeners.push(Le)}function kr(Re,Le,ze){try{var Qe,$e=Le._value;!Le._state&&Er.length&&(Er=[]),Qe=nt&&Le._consoleTask?Le._consoleTask.run(function(){return Re($e)}):Re($e),Le._state||Er.indexOf($e)!==-1||function(st){for(var _t=Br.length;_t;)if(Br[--_t]._value===st._value)return Br.splice(_t,1)}(Le),ze.resolve(Qe)}catch(st){ze.reject(st)}finally{--Bn==0&&or(),--ze.psd.ref||ze.psd.finalize()}}function Pn(){hn(Qr,function(){Tr()&&un()})}function Tr(){var Re=Sr;return Lr=Sr=!1,Re}function un(){var Re,Le,ze;do for(;0<on.length;)for(Re=on,on=[],ze=Re.length,Le=0;Le<ze;++Le){var Qe=Re[Le];Qe[0].apply(null,Qe[1])}while(0<on.length);Lr=Sr=!0}function or(){var Re=Br;Br=[],Re.forEach(function(Qe){Qe._PSD.onunhandled.call(null,Qe._value,Qe)});for(var Le=Un.slice(0),ze=Le.length;ze;)Le[--ze]()}function ar(Re){return new wr(Ke,!1,Re)}function Zr(Re,Le){var ze=Cr;return function(){var Qe=Tr(),$e=Cr;try{return an(ze,!0),Re.apply(this,arguments)}catch(st){Le&&Le(st)}finally{an($e,!1),Qe&&un()}}}De(wr.prototype,{then:Jt,_then:function(Re,Le){en(this,new yr(null,null,Re,Le,Cr))},catch:function(Re){if(arguments.length===1)return this.then(null,Re);var Le=Re,ze=arguments[1];return typeof Le=="function"?this.then(null,function(Qe){return(Qe instanceof Le?ze:ar)(Qe)}):this.then(null,function(Qe){return(Qe&&Qe.name===Le?ze:ar)(Qe)})},finally:function(Re){return this.then(function(Le){return wr.resolve(Re()).then(function(){return Le})},function(Le){return wr.resolve(Re()).then(function(){return ar(Le)})})},timeout:function(Re,Le){var ze=this;return Re<1/0?new wr(function(Qe,$e){var st=setTimeout(function(){return $e(new lt.Timeout(Le))},Re);ze.then(Qe,$e).finally(clearTimeout.bind(null,st))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&Be(wr.prototype,Symbol.toStringTag,"Dexie.Promise"),Qr.env=Ln(),De(wr,{all:function(){var Re=St.apply(null,arguments).map(vi);return new wr(function(Le,ze){Re.length===0&&Le([]);var Qe=Re.length;Re.forEach(function($e,st){return wr.resolve($e).then(function(_t){Re[st]=_t,--Qe||Le(Re)},ze)})})},resolve:function(Re){return Re instanceof wr?Re:Re&&typeof Re.then=="function"?new wr(function(Le,ze){Re.then(Le,ze)}):new wr(Ke,!0,Re)},reject:ar,race:function(){var Re=St.apply(null,arguments).map(vi);return new wr(function(Le,ze){Re.map(function(Qe){return wr.resolve(Qe).then(Le,ze)})})},PSD:{get:function(){return Cr},set:function(Re){return Cr=Re}},totalEchoes:{get:function(){return ln}},newPSD:dn,usePSD:hn,scheduler:{get:function(){return tr},set:function(Re){tr=Re}},rejectionMapper:{get:function(){return gr},set:function(Re){gr=Re}},follow:function(Re,Le){return new wr(function(ze,Qe){return dn(function($e,st){var _t=Cr;_t.unhandleds=[],_t.onunhandled=st,_t.finalize=At(function(){var wt,Rt=this;wt=function(){Rt.unhandleds.length===0?$e():st(Rt.unhandleds[0])},Un.push(function Tt(){wt(),Un.splice(Un.indexOf(Tt),1)}),++Bn,tr(function(){--Bn==0&&or()},[])},_t.finalize),Re()},Le,ze,Qe)})}}),It&&(It.allSettled&&Be(wr,"allSettled",function(){var Re=St.apply(null,arguments).map(vi);return new wr(function(Le){Re.length===0&&Le([]);var ze=Re.length,Qe=new Array(ze);Re.forEach(function($e,st){return wr.resolve($e).then(function(_t){return Qe[st]={status:"fulfilled",value:_t}},function(_t){return Qe[st]={status:"rejected",reason:_t}}).then(function(){return--ze||Le(Qe)})})})}),It.any&&typeof AggregateError<"u"&&Be(wr,"any",function(){var Re=St.apply(null,arguments).map(vi);return new wr(function(Le,ze){Re.length===0&&ze(new AggregateError([]));var Qe=Re.length,$e=new Array(Qe);Re.forEach(function(st,_t){return wr.resolve(st).then(function(wt){return Le(wt)},function(wt){$e[_t]=wt,--Qe||ze(new AggregateError($e))})})})}));var Nr={awaits:0,echoes:0,id:0},Dr=0,Wn=[],jn=0,ln=0,Jr=0;function dn(Re,Le,ze,Qe){var $e=Cr,st=Object.create($e);return st.parent=$e,st.ref=0,st.global=!1,st.id=++Jr,Qr.env,st.env=zt?{Promise:wr,PromiseProp:{value:wr,configurable:!0,writable:!0},all:wr.all,race:wr.race,allSettled:wr.allSettled,any:wr.any,resolve:wr.resolve,reject:wr.reject}:{},Le&&Te(st,Le),++$e.ref,st.finalize=function(){--this.parent.ref||this.parent.finalize()},Qe=hn(st,Re,ze,Qe),st.ref===0&&st.finalize(),Qe}function wn(){return Nr.id||(Nr.id=++Dr),++Nr.awaits,Nr.echoes+=ut,Nr.id}function xn(){return!!Nr.awaits&&(--Nr.awaits==0&&(Nr.id=0),Nr.echoes=Nr.awaits*ut,!0)}function vi(Re){return Nr.echoes&&Re&&Re.constructor===It?(wn(),Re.then(function(Le){return xn(),Le},function(Le){return xn(),vn(Le)})):Re}function Li(){var Re=Wn[Wn.length-1];Wn.pop(),an(Re,!1)}function an(Re,Le){var ze,Qe=Cr;(Le?!Nr.echoes||jn++&&Re===Cr:!jn||--jn&&Re===Cr)||queueMicrotask(Le?(function($e){++ln,Nr.echoes&&--Nr.echoes!=0||(Nr.echoes=Nr.awaits=Nr.id=0),Wn.push(Cr),an($e,!0)}).bind(null,Re):Li),Re!==Cr&&(Cr=Re,Qe===Qr&&(Qr.env=Ln()),zt&&(ze=Qr.env.Promise,Le=Re.env,(Qe.global||Re.global)&&(Object.defineProperty(f,"Promise",Le.PromiseProp),ze.all=Le.all,ze.race=Le.race,ze.resolve=Le.resolve,ze.reject=Le.reject,Le.allSettled&&(ze.allSettled=Le.allSettled),Le.any&&(ze.any=Le.any))))}function Ln(){var Re=f.Promise;return zt?{Promise:Re,PromiseProp:Object.getOwnPropertyDescriptor(f,"Promise"),all:Re.all,race:Re.race,allSettled:Re.allSettled,any:Re.any,resolve:Re.resolve,reject:Re.reject}:{}}function hn(Re,Le,ze,Qe,$e){var st=Cr;try{return an(Re,!0),Le(ze,Qe,$e)}finally{an(st,!1)}}function Qn(Re,Le,ze,Qe){return typeof Re!="function"?Re:function(){var $e=Cr;ze&&wn(),an(Le,!0);try{return Re.apply(this,arguments)}finally{an($e,!1),Qe&&queueMicrotask(xn)}}}function zn(Re){Promise===It&&Nr.echoes===0?jn===0?Re():enqueueNativeMicroTask(Re):setTimeout(Re,0)}(""+tn).indexOf("[native code]")===-1&&(wn=xn=$t);var vn=wr.reject,Ai=String.fromCharCode(65535),li="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",d0="String expected.",Mi=[],Qa="__dbnames",as="readonly",ss="readwrite";function Vi(Re,Le){return Re?Le?function(){return Re.apply(this,arguments)&&Le.apply(this,arguments)}:Re:Le}var x0={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ja(Re){return typeof Re!="string"||/\./.test(Re)?function(Le){return Le}:function(Le){return Le[Re]===void 0&&Re in Le&&delete(Le=mt(Le))[Re],Le}}function h0(){throw lt.Type()}function Xr(Re,Le){try{var ze=p0(Re),Qe=p0(Le);if(ze!==Qe)return ze==="Array"?1:Qe==="Array"?-1:ze==="binary"?1:Qe==="binary"?-1:ze==="string"?1:Qe==="string"?-1:ze==="Date"?1:Qe!=="Date"?NaN:-1;switch(ze){case"number":case"Date":case"string":return Le<Re?1:Re<Le?-1:0;case"binary":return function($e,st){for(var _t=$e.length,wt=st.length,Rt=_t<wt?_t:wt,Tt=0;Tt<Rt;++Tt)if($e[Tt]!==st[Tt])return $e[Tt]<st[Tt]?-1:1;return _t===wt?0:_t<wt?-1:1}(_0(Re),_0(Le));case"Array":return function($e,st){for(var _t=$e.length,wt=st.length,Rt=_t<wt?_t:wt,Tt=0;Tt<Rt;++Tt){var Lt=Xr($e[Tt],st[Tt]);if(Lt!==0)return Lt}return _t===wt?0:_t<wt?-1:1}(Re,Le)}}catch{}return NaN}function p0(Re){var Le=typeof Re;return Le!="object"?Le:ArrayBuffer.isView(Re)?"binary":(Re=Ft(Re),Re==="ArrayBuffer"?"binary":Re)}function _0(Re){return Re instanceof Uint8Array?Re:ArrayBuffer.isView(Re)?new Uint8Array(Re.buffer,Re.byteOffset,Re.byteLength):new Uint8Array(Re)}var v0=(pn.prototype._trans=function(Re,Le,ze){var Qe=this._tx||Cr.trans,$e=this.name,st=nt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(Re==="readonly"?"read":"write"," ").concat(this.name));function _t(Tt,Lt,Ot){if(!Ot.schema[$e])throw new lt.NotFound("Table "+$e+" not part of transaction");return Le(Ot.idbtrans,Ot)}var wt=Tr();try{var Rt=Qe&&Qe.db._novip===this.db._novip?Qe===Cr.trans?Qe._promise(Re,_t,ze):dn(function(){return Qe._promise(Re,_t,ze)},{trans:Qe,transless:Cr.transless||Cr}):function Tt(Lt,Ot,Ut,Bt){if(Lt.idbdb&&(Lt._state.openComplete||Cr.letThrough||Lt._vip)){var Nt=Lt._createTransaction(Ot,Ut,Lt._dbSchema);try{Nt.create(),Lt._state.PR1398_maxLoop=3}catch(Vt){return Vt.name===Rr.InvalidState&&Lt.isOpen()&&0<--Lt._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Lt.close({disableAutoOpen:!1}),Lt.open().then(function(){return Tt(Lt,Ot,Ut,Bt)})):vn(Vt)}return Nt._promise(Ot,function(Vt,qt){return dn(function(){return Cr.trans=Nt,Bt(Vt,qt,Nt)})}).then(function(Vt){if(Ot==="readwrite")try{Nt.idbtrans.commit()}catch{}return Ot==="readonly"?Vt:Nt._completion.then(function(){return Vt})})}if(Lt._state.openComplete)return vn(new lt.DatabaseClosed(Lt._state.dbOpenError));if(!Lt._state.isBeingOpened){if(!Lt._state.autoOpen)return vn(new lt.DatabaseClosed);Lt.open().catch($t)}return Lt._state.dbReadyPromise.then(function(){return Tt(Lt,Ot,Ut,Bt)})}(this.db,Re,[this.name],_t);return st&&(Rt._consoleTask=st,Rt=Rt.catch(function(Tt){return console.trace(Tt),vn(Tt)})),Rt}finally{wt&&un()}},pn.prototype.get=function(Re,Le){var ze=this;return Re&&Re.constructor===Object?this.where(Re).first(Le):Re==null?vn(new lt.Type("Invalid argument to Table.get()")):this._trans("readonly",function(Qe){return ze.core.get({trans:Qe,key:Re}).then(function($e){return ze.hook.reading.fire($e)})}).then(Le)},pn.prototype.where=function(Re){if(typeof Re=="string")return new this.db.WhereClause(this,Re);if(g(Re))return new this.db.WhereClause(this,"[".concat(Re.join("+"),"]"));var Le=m(Re);if(Le.length===1)return this.where(Le[0]).equals(Re[Le[0]]);var ze=this.schema.indexes.concat(this.schema.primKey).filter(function(Rt){if(Rt.compound&&Le.every(function(Lt){return 0<=Rt.keyPath.indexOf(Lt)})){for(var Tt=0;Tt<Le.length;++Tt)if(Le.indexOf(Rt.keyPath[Tt])===-1)return!1;return!0}return!1}).sort(function(Rt,Tt){return Rt.keyPath.length-Tt.keyPath.length})[0];if(ze&&this.db._maxKey!==Ai){var _t=ze.keyPath.slice(0,Le.length);return this.where(_t).equals(_t.map(function(Tt){return Re[Tt]}))}!ze&&nt&&console.warn("The query ".concat(JSON.stringify(Re)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(Le.join("+"),"]"));var Qe=this.schema.idxByName,$e=this.db._deps.indexedDB;function st(Rt,Tt){return $e.cmp(Rt,Tt)===0}var wt=Le.reduce(function(Ut,Tt){var Lt=Ut[0],Ot=Ut[1],Ut=Qe[Tt],Bt=Re[Tt];return[Lt||Ut,Lt||!Ut?Vi(Ot,Ut&&Ut.multi?function(Nt){return Nt=ot(Nt,Tt),g(Nt)&&Nt.some(function(Vt){return st(Bt,Vt)})}:function(Nt){return st(Bt,ot(Nt,Tt))}):Ot]},[null,null]),_t=wt[0],wt=wt[1];return _t?this.where(_t.name).equals(Re[_t.keyPath]).filter(wt):ze?this.filter(wt):this.where(Le).equals("")},pn.prototype.filter=function(Re){return this.toCollection().and(Re)},pn.prototype.count=function(Re){return this.toCollection().count(Re)},pn.prototype.offset=function(Re){return this.toCollection().offset(Re)},pn.prototype.limit=function(Re){return this.toCollection().limit(Re)},pn.prototype.each=function(Re){return this.toCollection().each(Re)},pn.prototype.toArray=function(Re){return this.toCollection().toArray(Re)},pn.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},pn.prototype.orderBy=function(Re){return new this.db.Collection(new this.db.WhereClause(this,g(Re)?"[".concat(Re.join("+"),"]"):Re))},pn.prototype.reverse=function(){return this.toCollection().reverse()},pn.prototype.mapToClass=function(Re){var Le,ze=this.db,Qe=this.name;function $e(){return Le!==null&&Le.apply(this,arguments)||this}(this.schema.mappedClass=Re).prototype instanceof h0&&(function(Rt,Tt){if(typeof Tt!="function"&&Tt!==null)throw new TypeError("Class extends value "+String(Tt)+" is not a constructor or null");function Lt(){this.constructor=Rt}e(Rt,Tt),Rt.prototype=Tt===null?Object.create(Tt):(Lt.prototype=Tt.prototype,new Lt)}($e,Le=Re),Object.defineProperty($e.prototype,"db",{get:function(){return ze},enumerable:!1,configurable:!0}),$e.prototype.table=function(){return Qe},Re=$e);for(var st=new Set,_t=Re.prototype;_t;_t=Ie(_t))Object.getOwnPropertyNames(_t).forEach(function(Rt){return st.add(Rt)});function wt(Rt){if(!Rt)return Rt;var Tt,Lt=Object.create(Re.prototype);for(Tt in Rt)if(!st.has(Tt))try{Lt[Tt]=Rt[Tt]}catch{}return Lt}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=wt,this.hook("reading",wt),Re},pn.prototype.defineClass=function(){return this.mapToClass(function(Re){Te(this,Re)})},pn.prototype.add=function(Re,Le){var ze=this,Qe=this.schema.primKey,$e=Qe.auto,st=Qe.keyPath,_t=Re;return st&&$e&&(_t=Ja(st)(Re)),this._trans("readwrite",function(wt){return ze.core.mutate({trans:wt,type:"add",keys:Le!=null?[Le]:null,values:[_t]})}).then(function(wt){return wt.numFailures?wr.reject(wt.failures[0]):wt.lastResult}).then(function(wt){if(st)try{tt(Re,st,wt)}catch{}return wt})},pn.prototype.update=function(Re,Le){return typeof Re!="object"||g(Re)?this.where(":id").equals(Re).modify(Le):(Re=ot(Re,this.schema.primKey.keyPath),Re===void 0?vn(new lt.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(Re).modify(Le))},pn.prototype.put=function(Re,Le){var ze=this,Qe=this.schema.primKey,$e=Qe.auto,st=Qe.keyPath,_t=Re;return st&&$e&&(_t=Ja(st)(Re)),this._trans("readwrite",function(wt){return ze.core.mutate({trans:wt,type:"put",values:[_t],keys:Le!=null?[Le]:null})}).then(function(wt){return wt.numFailures?wr.reject(wt.failures[0]):wt.lastResult}).then(function(wt){if(st)try{tt(Re,st,wt)}catch{}return wt})},pn.prototype.delete=function(Re){var Le=this;return this._trans("readwrite",function(ze){return Le.core.mutate({trans:ze,type:"delete",keys:[Re]})}).then(function(ze){return ze.numFailures?wr.reject(ze.failures[0]):void 0})},pn.prototype.clear=function(){var Re=this;return this._trans("readwrite",function(Le){return Re.core.mutate({trans:Le,type:"deleteRange",range:x0})}).then(function(Le){return Le.numFailures?wr.reject(Le.failures[0]):void 0})},pn.prototype.bulkGet=function(Re){var Le=this;return this._trans("readonly",function(ze){return Le.core.getMany({keys:Re,trans:ze}).then(function(Qe){return Qe.map(function($e){return Le.hook.reading.fire($e)})})})},pn.prototype.bulkAdd=function(Re,Le,ze){var Qe=this,$e=Array.isArray(Le)?Le:void 0,st=(ze=ze||($e?void 0:Le))?ze.allKeys:void 0;return this._trans("readwrite",function(_t){var Tt=Qe.schema.primKey,wt=Tt.auto,Tt=Tt.keyPath;if(Tt&&$e)throw new lt.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if($e&&$e.length!==Re.length)throw new lt.InvalidArgument("Arguments objects and keys must have the same length");var Rt=Re.length,Tt=Tt&&wt?Re.map(Ja(Tt)):Re;return Qe.core.mutate({trans:_t,type:"add",keys:$e,values:Tt,wantResults:st}).then(function(Nt){var Ot=Nt.numFailures,Ut=Nt.results,Bt=Nt.lastResult,Nt=Nt.failures;if(Ot===0)return st?Ut:Bt;throw new fr("".concat(Qe.name,".bulkAdd(): ").concat(Ot," of ").concat(Rt," operations failed"),Nt)})})},pn.prototype.bulkPut=function(Re,Le,ze){var Qe=this,$e=Array.isArray(Le)?Le:void 0,st=(ze=ze||($e?void 0:Le))?ze.allKeys:void 0;return this._trans("readwrite",function(_t){var Tt=Qe.schema.primKey,wt=Tt.auto,Tt=Tt.keyPath;if(Tt&&$e)throw new lt.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if($e&&$e.length!==Re.length)throw new lt.InvalidArgument("Arguments objects and keys must have the same length");var Rt=Re.length,Tt=Tt&&wt?Re.map(Ja(Tt)):Re;return Qe.core.mutate({trans:_t,type:"put",keys:$e,values:Tt,wantResults:st}).then(function(Nt){var Ot=Nt.numFailures,Ut=Nt.results,Bt=Nt.lastResult,Nt=Nt.failures;if(Ot===0)return st?Ut:Bt;throw new fr("".concat(Qe.name,".bulkPut(): ").concat(Ot," of ").concat(Rt," operations failed"),Nt)})})},pn.prototype.bulkUpdate=function(Re){var Le=this,ze=this.core,Qe=Re.map(function(_t){return _t.key}),$e=Re.map(function(_t){return _t.changes}),st=[];return this._trans("readwrite",function(_t){return ze.getMany({trans:_t,keys:Qe,cache:"clone"}).then(function(wt){var Rt=[],Tt=[];Re.forEach(function(Ot,Ut){var Bt=Ot.key,Nt=Ot.changes,Vt=wt[Ut];if(Vt){for(var qt=0,Yt=Object.keys(Nt);qt<Yt.length;qt++){var Qt=Yt[qt],Gt=Nt[Qt];if(Qt===Le.schema.primKey.keyPath){if(Xr(Gt,Bt)!==0)throw new lt.Constraint("Cannot update primary key in bulkUpdate()")}else tt(Vt,Qt,Gt)}st.push(Ut),Rt.push(Bt),Tt.push(Vt)}});var Lt=Rt.length;return ze.mutate({trans:_t,type:"put",keys:Rt,values:Tt,updates:{keys:Qe,changeSpecs:$e}}).then(function(Ot){var Ut=Ot.numFailures,Bt=Ot.failures;if(Ut===0)return Lt;for(var Nt=0,Vt=Object.keys(Bt);Nt<Vt.length;Nt++){var qt,Yt=Vt[Nt],Qt=st[Number(Yt)];Qt!=null&&(qt=Bt[Yt],delete Bt[Yt],Bt[Qt]=qt)}throw new fr("".concat(Le.name,".bulkUpdate(): ").concat(Ut," of ").concat(Lt," operations failed"),Bt)})})})},pn.prototype.bulkDelete=function(Re){var Le=this,ze=Re.length;return this._trans("readwrite",function(Qe){return Le.core.mutate({trans:Qe,type:"delete",keys:Re})}).then(function(_t){var $e=_t.numFailures,st=_t.lastResult,_t=_t.failures;if($e===0)return st;throw new fr("".concat(Le.name,".bulkDelete(): ").concat($e," of ").concat(ze," operations failed"),_t)})},pn);function pn(){}function _a(Re){function Le(_t,wt){if(wt){for(var Rt=arguments.length,Tt=new Array(Rt-1);--Rt;)Tt[Rt-1]=arguments[Rt];return ze[_t].subscribe.apply(null,Tt),Re}if(typeof _t=="string")return ze[_t]}var ze={};Le.addEventType=st;for(var Qe=1,$e=arguments.length;Qe<$e;++Qe)st(arguments[Qe]);return Le;function st(_t,wt,Rt){if(typeof _t!="object"){var Tt;wt=wt||Dt;var Lt={subscribers:[],fire:Rt=Rt||$t,subscribe:function(Ot){Lt.subscribers.indexOf(Ot)===-1&&(Lt.subscribers.push(Ot),Lt.fire=wt(Lt.fire,Ot))},unsubscribe:function(Ot){Lt.subscribers=Lt.subscribers.filter(function(Ut){return Ut!==Ot}),Lt.fire=Lt.subscribers.reduce(wt,Rt)}};return ze[_t]=Le[_t]=Lt}m(Tt=_t).forEach(function(Ot){var Ut=Tt[Ot];if(g(Ut))st(Ot,Tt[Ot][0],Tt[Ot][1]);else{if(Ut!=="asap")throw new lt.InvalidArgument("Invalid event config");var Bt=st(Ot,dr,function(){for(var Nt=arguments.length,Vt=new Array(Nt);Nt--;)Vt[Nt]=arguments[Nt];Bt.subscribers.forEach(function(qt){Xe(function(){qt.apply(null,Vt)})})})}})}}function va(Re,Le){return Fe(Le).from({prototype:Re}),Le}function Xi(Re,Le){return!(Re.filter||Re.algorithm||Re.or)&&(Le?Re.justLimit:!Re.replayFilter)}function cs(Re,Le){Re.filter=Vi(Re.filter,Le)}function us(Re,Le,ze){var Qe=Re.replayFilter;Re.replayFilter=Qe?function(){return Vi(Qe(),Le())}:Le,Re.justLimit=ze&&!Qe}function Xa(Re,Le){if(Re.isPrimKey)return Le.primaryKey;var ze=Le.getIndexByKeyPath(Re.index);if(!ze)throw new lt.Schema("KeyPath "+Re.index+" on object store "+Le.name+" is not indexed");return ze}function m0(Re,Le,ze){var Qe=Xa(Re,Le.schema);return Le.openCursor({trans:ze,values:!Re.keysOnly,reverse:Re.dir==="prev",unique:!!Re.unique,query:{index:Qe,range:Re.range}})}function Za(Re,Le,ze,Qe){var $e=Re.replayFilter?Vi(Re.filter,Re.replayFilter()):Re.filter;if(Re.or){var st={},_t=function(wt,Rt,Tt){var Lt,Ot;$e&&!$e(Rt,Tt,function(Ut){return Rt.stop(Ut)},function(Ut){return Rt.fail(Ut)})||((Ot=""+(Lt=Rt.primaryKey))=="[object ArrayBuffer]"&&(Ot=""+new Uint8Array(Lt)),ne(st,Ot)||(st[Ot]=!0,Le(wt,Rt,Tt)))};return Promise.all([Re.or._iterate(_t,ze),g0(m0(Re,Qe,ze),Re.algorithm,_t,!Re.keysOnly&&Re.valueMapper)])}return g0(m0(Re,Qe,ze),Vi(Re.algorithm,$e),Le,!Re.keysOnly&&Re.valueMapper)}function g0(Re,Le,ze,Qe){var $e=Zr(Qe?function(st,_t,wt){return ze(Qe(st),_t,wt)}:ze);return Re.then(function(st){if(st)return st.start(function(){var _t=function(){return st.continue()};Le&&!Le(st,function(wt){return _t=wt},function(wt){st.stop(wt),_t=$t},function(wt){st.fail(wt),_t=$t})||$e(st.value,st,function(wt){return _t=wt}),_t()})})}var mi=Symbol(),ma=(y0.prototype.execute=function(Re){if(this.add!==void 0){var Le=this.add;if(g(Le))return c(c([],g(Re)?Re:[],!0),Le,!0).sort();if(typeof Le=="number")return(Number(Re)||0)+Le;if(typeof Le=="bigint")try{return BigInt(Re)+Le}catch{return BigInt(0)+Le}throw new TypeError("Invalid term ".concat(Le))}if(this.remove!==void 0){var ze=this.remove;if(g(ze))return g(Re)?Re.filter(function(Qe){return!ze.includes(Qe)}).sort():[];if(typeof ze=="number")return Number(Re)-ze;if(typeof ze=="bigint")try{return BigInt(Re)-ze}catch{return BigInt(0)-ze}throw new TypeError("Invalid subtrahend ".concat(ze))}return Le=(Le=this.replacePrefix)===null||Le===void 0?void 0:Le[0],Le&&typeof Re=="string"&&Re.startsWith(Le)?this.replacePrefix[1]+Re.substring(Le.length):Re},y0);function y0(Re){Object.assign(this,Re)}var Kc=($r.prototype._read=function(Re,Le){var ze=this._ctx;return ze.error?ze.table._trans(null,vn.bind(null,ze.error)):ze.table._trans("readonly",Re).then(Le)},$r.prototype._write=function(Re){var Le=this._ctx;return Le.error?Le.table._trans(null,vn.bind(null,Le.error)):Le.table._trans("readwrite",Re,"locked")},$r.prototype._addAlgorithm=function(Re){var Le=this._ctx;Le.algorithm=Vi(Le.algorithm,Re)},$r.prototype._iterate=function(Re,Le){return Za(this._ctx,Re,Le,this._ctx.table.core)},$r.prototype.clone=function(Re){var Le=Object.create(this.constructor.prototype),ze=Object.create(this._ctx);return Re&&Te(ze,Re),Le._ctx=ze,Le},$r.prototype.raw=function(){return this._ctx.valueMapper=null,this},$r.prototype.each=function(Re){var Le=this._ctx;return this._read(function(ze){return Za(Le,Re,ze,Le.table.core)})},$r.prototype.count=function(Re){var Le=this;return this._read(function(ze){var Qe=Le._ctx,$e=Qe.table.core;if(Xi(Qe,!0))return $e.count({trans:ze,query:{index:Xa(Qe,$e.schema),range:Qe.range}}).then(function(_t){return Math.min(_t,Qe.limit)});var st=0;return Za(Qe,function(){return++st,!1},ze,$e).then(function(){return st})}).then(Re)},$r.prototype.sortBy=function(Re,Le){var ze=Re.split(".").reverse(),Qe=ze[0],$e=ze.length-1;function st(Rt,Tt){return Tt?st(Rt[ze[Tt]],Tt-1):Rt[Qe]}var _t=this._ctx.dir==="next"?1:-1;function wt(Rt,Tt){return Rt=st(Rt,$e),Tt=st(Tt,$e),Rt<Tt?-_t:Tt<Rt?_t:0}return this.toArray(function(Rt){return Rt.sort(wt)}).then(Le)},$r.prototype.toArray=function(Re){var Le=this;return this._read(function(ze){var Qe=Le._ctx;if(Qe.dir==="next"&&Xi(Qe,!0)&&0<Qe.limit){var $e=Qe.valueMapper,st=Xa(Qe,Qe.table.core.schema);return Qe.table.core.query({trans:ze,limit:Qe.limit,values:!0,query:{index:st,range:Qe.range}}).then(function(wt){return wt=wt.result,$e?wt.map($e):wt})}var _t=[];return Za(Qe,function(wt){return _t.push(wt)},ze,Qe.table.core).then(function(){return _t})},Re)},$r.prototype.offset=function(Re){var Le=this._ctx;return Re<=0||(Le.offset+=Re,Xi(Le)?us(Le,function(){var ze=Re;return function(Qe,$e){return ze===0||(ze===1?--ze:$e(function(){Qe.advance(ze),ze=0}),!1)}}):us(Le,function(){var ze=Re;return function(){return--ze<0}})),this},$r.prototype.limit=function(Re){return this._ctx.limit=Math.min(this._ctx.limit,Re),us(this._ctx,function(){var Le=Re;return function(ze,Qe,$e){return--Le<=0&&Qe($e),0<=Le}},!0),this},$r.prototype.until=function(Re,Le){return cs(this._ctx,function(ze,Qe,$e){return!Re(ze.value)||(Qe($e),Le)}),this},$r.prototype.first=function(Re){return this.limit(1).toArray(function(Le){return Le[0]}).then(Re)},$r.prototype.last=function(Re){return this.reverse().first(Re)},$r.prototype.filter=function(Re){var Le;return cs(this._ctx,function(ze){return Re(ze.value)}),(Le=this._ctx).isMatch=Vi(Le.isMatch,Re),this},$r.prototype.and=function(Re){return this.filter(Re)},$r.prototype.or=function(Re){return new this.db.WhereClause(this._ctx.table,Re,this)},$r.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},$r.prototype.desc=function(){return this.reverse()},$r.prototype.eachKey=function(Re){var Le=this._ctx;return Le.keysOnly=!Le.isMatch,this.each(function(ze,Qe){Re(Qe.key,Qe)})},$r.prototype.eachUniqueKey=function(Re){return this._ctx.unique="unique",this.eachKey(Re)},$r.prototype.eachPrimaryKey=function(Re){var Le=this._ctx;return Le.keysOnly=!Le.isMatch,this.each(function(ze,Qe){Re(Qe.primaryKey,Qe)})},$r.prototype.keys=function(Re){var Le=this._ctx;Le.keysOnly=!Le.isMatch;var ze=[];return this.each(function(Qe,$e){ze.push($e.key)}).then(function(){return ze}).then(Re)},$r.prototype.primaryKeys=function(Re){var Le=this._ctx;if(Le.dir==="next"&&Xi(Le,!0)&&0<Le.limit)return this._read(function(Qe){var $e=Xa(Le,Le.table.core.schema);return Le.table.core.query({trans:Qe,values:!1,limit:Le.limit,query:{index:$e,range:Le.range}})}).then(function(Qe){return Qe.result}).then(Re);Le.keysOnly=!Le.isMatch;var ze=[];return this.each(function(Qe,$e){ze.push($e.primaryKey)}).then(function(){return ze}).then(Re)},$r.prototype.uniqueKeys=function(Re){return this._ctx.unique="unique",this.keys(Re)},$r.prototype.firstKey=function(Re){return this.limit(1).keys(function(Le){return Le[0]}).then(Re)},$r.prototype.lastKey=function(Re){return this.reverse().firstKey(Re)},$r.prototype.distinct=function(){var Re=this._ctx,Re=Re.index&&Re.table.schema.idxByName[Re.index];if(!Re||!Re.multi)return this;var Le={};return cs(this._ctx,function($e){var Qe=$e.primaryKey.toString(),$e=ne(Le,Qe);return Le[Qe]=!0,!$e}),this},$r.prototype.modify=function(Re){var Le=this,ze=this._ctx;return this._write(function(Qe){var $e,st,_t;_t=typeof Re=="function"?Re:($e=m(Re),st=$e.length,function(qt){for(var Yt=!1,Qt=0;Qt<st;++Qt){var Gt=$e[Qt],rr=Re[Gt],xr=ot(qt,Gt);rr instanceof ma?(tt(qt,Gt,rr.execute(xr)),Yt=!0):xr!==rr&&(tt(qt,Gt,rr),Yt=!0)}return Yt});function wt(qt,Gt){var Qt=Gt.failures,Gt=Gt.numFailures;Nt+=qt-Gt;for(var rr=0,xr=m(Qt);rr<xr.length;rr++){var Ir=xr[rr];Bt.push(Qt[Ir])}}var Rt=ze.table.core,Tt=Rt.schema.primaryKey,Lt=Tt.outbound,Ot=Tt.extractKey,Ut=Le.db._options.modifyChunkSize||200,Bt=[],Nt=0,Vt=[];return Le.clone().primaryKeys().then(function(qt){function Yt(Gt){var rr=Math.min(Ut,qt.length-Gt);return Rt.getMany({trans:Qe,keys:qt.slice(Gt,Gt+rr),cache:"immutable"}).then(function(xr){for(var Ir=[],hr=[],br=Lt?[]:null,Ar=[],lr=0;lr<rr;++lr){var pr=xr[lr],Ur={value:mt(pr),primKey:qt[Gt+lr]};_t.call(Ur,Ur.value,Ur)!==!1&&(Ur.value==null?Ar.push(qt[Gt+lr]):Lt||Xr(Ot(pr),Ot(Ur.value))===0?(hr.push(Ur.value),Lt&&br.push(qt[Gt+lr])):(Ar.push(qt[Gt+lr]),Ir.push(Ur.value)))}return Promise.resolve(0<Ir.length&&Rt.mutate({trans:Qe,type:"add",values:Ir}).then(function(Kr){for(var Vr in Kr.failures)Ar.splice(parseInt(Vr),1);wt(Ir.length,Kr)})).then(function(){return(0<hr.length||Qt&&typeof Re=="object")&&Rt.mutate({trans:Qe,type:"put",keys:br,values:hr,criteria:Qt,changeSpec:typeof Re!="function"&&Re,isAdditionalChunk:0<Gt}).then(function(Kr){return wt(hr.length,Kr)})}).then(function(){return(0<Ar.length||Qt&&Re===ls)&&Rt.mutate({trans:Qe,type:"delete",keys:Ar,criteria:Qt,isAdditionalChunk:0<Gt}).then(function(Kr){return wt(Ar.length,Kr)})}).then(function(){return qt.length>Gt+rr&&Yt(Gt+Ut)})})}var Qt=Xi(ze)&&ze.limit===1/0&&(typeof Re!="function"||Re===ls)&&{index:ze.index,range:ze.range};return Yt(0).then(function(){if(0<Bt.length)throw new Kt("Error modifying one or more objects",Bt,Nt,Vt);return qt.length})})})},$r.prototype.delete=function(){var Re=this._ctx,Le=Re.range;return Xi(Re)&&(Re.isPrimKey||Le.type===3)?this._write(function(ze){var Qe=Re.table.core.schema.primaryKey,$e=Le;return Re.table.core.count({trans:ze,query:{index:Qe,range:$e}}).then(function(st){return Re.table.core.mutate({trans:ze,type:"deleteRange",range:$e}).then(function(_t){var wt=_t.failures;if(_t.lastResult,_t.results,_t=_t.numFailures,_t)throw new Kt("Could not delete some values",Object.keys(wt).map(function(Rt){return wt[Rt]}),st-_t);return st-_t})})}):this.modify(ls)},$r);function $r(){}var ls=function(Re,Le){return Le.value=null};function Yc(Re,Le){return Re<Le?-1:Re===Le?0:1}function Gc(Re,Le){return Le<Re?-1:Re===Le?0:1}function Gr(Re,Le,ze){return Re=Re instanceof b0?new Re.Collection(Re):Re,Re._ctx.error=new(ze||TypeError)(Le),Re}function Zi(Re){return new Re.Collection(Re,function(){return fs("")}).limit(0)}function $a(Re,Le,ze,Qe){var $e,st,_t,wt,Rt,Tt,Lt,Ot=ze.length;if(!ze.every(function(Nt){return typeof Nt=="string"}))return Gr(Re,d0);function Ut(Nt){$e=Nt==="next"?function(qt){return qt.toUpperCase()}:function(qt){return qt.toLowerCase()},st=Nt==="next"?function(qt){return qt.toLowerCase()}:function(qt){return qt.toUpperCase()},_t=Nt==="next"?Yc:Gc;var Vt=ze.map(function(qt){return{lower:st(qt),upper:$e(qt)}}).sort(function(qt,Yt){return _t(qt.lower,Yt.lower)});wt=Vt.map(function(qt){return qt.upper}),Rt=Vt.map(function(qt){return qt.lower}),Lt=(Tt=Nt)==="next"?"":Qe}Ut("next"),Re=new Re.Collection(Re,function(){return gi(wt[0],Rt[Ot-1]+Qe)}),Re._ondirectionchange=function(Nt){Ut(Nt)};var Bt=0;return Re._addAlgorithm(function(Nt,Vt,qt){var Yt=Nt.key;if(typeof Yt!="string")return!1;var Qt=st(Yt);if(Le(Qt,Rt,Bt))return!0;for(var Gt=null,rr=Bt;rr<Ot;++rr){var xr=function(Ir,hr,br,Ar,lr,pr){for(var Ur=Math.min(Ir.length,Ar.length),Kr=-1,Vr=0;Vr<Ur;++Vr){var Xn=hr[Vr];if(Xn!==Ar[Vr])return lr(Ir[Vr],br[Vr])<0?Ir.substr(0,Vr)+br[Vr]+br.substr(Vr+1):lr(Ir[Vr],Ar[Vr])<0?Ir.substr(0,Vr)+Ar[Vr]+br.substr(Vr+1):0<=Kr?Ir.substr(0,Kr)+hr[Kr]+br.substr(Kr+1):null;lr(Ir[Vr],Xn)<0&&(Kr=Vr)}return Ur<Ar.length&&pr==="next"?Ir+br.substr(Ir.length):Ur<Ir.length&&pr==="prev"?Ir.substr(0,br.length):Kr<0?null:Ir.substr(0,Kr)+Ar[Kr]+br.substr(Kr+1)}(Yt,Qt,wt[rr],Rt[rr],_t,Tt);xr===null&&Gt===null?Bt=rr+1:(Gt===null||0<_t(Gt,xr))&&(Gt=xr)}return Vt(Gt!==null?function(){Nt.continue(Gt+Lt)}:qt),!1}),Re}function gi(Re,Le,ze,Qe){return{type:2,lower:Re,upper:Le,lowerOpen:ze,upperOpen:Qe}}function fs(Re){return{type:1,lower:Re,upper:Re}}var b0=(Object.defineProperty(Sn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Sn.prototype.between=function(Re,Le,ze,Qe){ze=ze!==!1,Qe=Qe===!0;try{return 0<this._cmp(Re,Le)||this._cmp(Re,Le)===0&&(ze||Qe)&&(!ze||!Qe)?Zi(this):new this.Collection(this,function(){return gi(Re,Le,!ze,!Qe)})}catch{return Gr(this,li)}},Sn.prototype.equals=function(Re){return Re==null?Gr(this,li):new this.Collection(this,function(){return fs(Re)})},Sn.prototype.above=function(Re){return Re==null?Gr(this,li):new this.Collection(this,function(){return gi(Re,void 0,!0)})},Sn.prototype.aboveOrEqual=function(Re){return Re==null?Gr(this,li):new this.Collection(this,function(){return gi(Re,void 0,!1)})},Sn.prototype.below=function(Re){return Re==null?Gr(this,li):new this.Collection(this,function(){return gi(void 0,Re,!1,!0)})},Sn.prototype.belowOrEqual=function(Re){return Re==null?Gr(this,li):new this.Collection(this,function(){return gi(void 0,Re)})},Sn.prototype.startsWith=function(Re){return typeof Re!="string"?Gr(this,d0):this.between(Re,Re+Ai,!0,!0)},Sn.prototype.startsWithIgnoreCase=function(Re){return Re===""?this.startsWith(Re):$a(this,function(Le,ze){return Le.indexOf(ze[0])===0},[Re],Ai)},Sn.prototype.equalsIgnoreCase=function(Re){return $a(this,function(Le,ze){return Le===ze[0]},[Re],"")},Sn.prototype.anyOfIgnoreCase=function(){var Re=St.apply(bt,arguments);return Re.length===0?Zi(this):$a(this,function(Le,ze){return ze.indexOf(Le)!==-1},Re,"")},Sn.prototype.startsWithAnyOfIgnoreCase=function(){var Re=St.apply(bt,arguments);return Re.length===0?Zi(this):$a(this,function(Le,ze){return ze.some(function(Qe){return Le.indexOf(Qe)===0})},Re,Ai)},Sn.prototype.anyOf=function(){var Re=this,Le=St.apply(bt,arguments),ze=this._cmp;try{Le.sort(ze)}catch{return Gr(this,li)}if(Le.length===0)return Zi(this);var Qe=new this.Collection(this,function(){return gi(Le[0],Le[Le.length-1])});Qe._ondirectionchange=function(st){ze=st==="next"?Re._ascending:Re._descending,Le.sort(ze)};var $e=0;return Qe._addAlgorithm(function(st,_t,wt){for(var Rt=st.key;0<ze(Rt,Le[$e]);)if(++$e===Le.length)return _t(wt),!1;return ze(Rt,Le[$e])===0||(_t(function(){st.continue(Le[$e])}),!1)}),Qe},Sn.prototype.notEqual=function(Re){return this.inAnyRange([[-1/0,Re],[Re,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Sn.prototype.noneOf=function(){var Re=St.apply(bt,arguments);if(Re.length===0)return new this.Collection(this);try{Re.sort(this._ascending)}catch{return Gr(this,li)}var Le=Re.reduce(function(ze,Qe){return ze?ze.concat([[ze[ze.length-1][1],Qe]]):[[-1/0,Qe]]},null);return Le.push([Re[Re.length-1],this.db._maxKey]),this.inAnyRange(Le,{includeLowers:!1,includeUppers:!1})},Sn.prototype.inAnyRange=function(Yt,Le){var ze=this,Qe=this._cmp,$e=this._ascending,st=this._descending,_t=this._min,wt=this._max;if(Yt.length===0)return Zi(this);if(!Yt.every(function(Qt){return Qt[0]!==void 0&&Qt[1]!==void 0&&$e(Qt[0],Qt[1])<=0}))return Gr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",lt.InvalidArgument);var Rt=!Le||Le.includeLowers!==!1,Tt=Le&&Le.includeUppers===!0,Lt,Ot=$e;function Ut(Qt,Gt){return Ot(Qt[0],Gt[0])}try{(Lt=Yt.reduce(function(Qt,Gt){for(var rr=0,xr=Qt.length;rr<xr;++rr){var Ir=Qt[rr];if(Qe(Gt[0],Ir[1])<0&&0<Qe(Gt[1],Ir[0])){Ir[0]=_t(Ir[0],Gt[0]),Ir[1]=wt(Ir[1],Gt[1]);break}}return rr===xr&&Qt.push(Gt),Qt},[])).sort(Ut)}catch{return Gr(this,li)}var Bt=0,Nt=Tt?function(Qt){return 0<$e(Qt,Lt[Bt][1])}:function(Qt){return 0<=$e(Qt,Lt[Bt][1])},Vt=Rt?function(Qt){return 0<st(Qt,Lt[Bt][0])}:function(Qt){return 0<=st(Qt,Lt[Bt][0])},qt=Nt,Yt=new this.Collection(this,function(){return gi(Lt[0][0],Lt[Lt.length-1][1],!Rt,!Tt)});return Yt._ondirectionchange=function(Qt){Ot=Qt==="next"?(qt=Nt,$e):(qt=Vt,st),Lt.sort(Ut)},Yt._addAlgorithm(function(Qt,Gt,rr){for(var xr,Ir=Qt.key;qt(Ir);)if(++Bt===Lt.length)return Gt(rr),!1;return!Nt(xr=Ir)&&!Vt(xr)||(ze._cmp(Ir,Lt[Bt][1])===0||ze._cmp(Ir,Lt[Bt][0])===0||Gt(function(){Ot===$e?Qt.continue(Lt[Bt][0]):Qt.continue(Lt[Bt][1])}),!1)}),Yt},Sn.prototype.startsWithAnyOf=function(){var Re=St.apply(bt,arguments);return Re.every(function(Le){return typeof Le=="string"})?Re.length===0?Zi(this):this.inAnyRange(Re.map(function(Le){return[Le,Le+Ai]})):Gr(this,"startsWithAnyOf() only works with strings")},Sn);function Sn(){}function ni(Re){return Zr(function(Le){return $i(Le),Re(Le.target.error),!1})}function $i(Re){Re.stopPropagation&&Re.stopPropagation(),Re.preventDefault&&Re.preventDefault()}var ga="storagemutated",ds="x-storagemutated-1",Ii=_a(null,ga),Qc=(fi.prototype._lock=function(){return He(!Cr.global),++this._reculock,this._reculock!==1||Cr.global||(Cr.lockOwnerFor=this),this},fi.prototype._unlock=function(){if(He(!Cr.global),--this._reculock==0)for(Cr.global||(Cr.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var Re=this._blockedFuncs.shift();try{hn(Re[1],Re[0])}catch{}}return this},fi.prototype._locked=function(){return this._reculock&&Cr.lockOwnerFor!==this},fi.prototype.create=function(Re){var Le=this;if(!this.mode)return this;var ze=this.db.idbdb,Qe=this.db._state.dbOpenError;if(He(!this.idbtrans),!Re&&!ze)switch(Qe&&Qe.name){case"DatabaseClosedError":throw new lt.DatabaseClosed(Qe);case"MissingAPIError":throw new lt.MissingAPI(Qe.message,Qe);default:throw new lt.OpenFailed(Qe)}if(!this.active)throw new lt.TransactionInactive;return He(this._completion._state===null),(Re=this.idbtrans=Re||(this.db.core||ze).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Zr(function($e){$i($e),Le._reject(Re.error)}),Re.onabort=Zr(function($e){$i($e),Le.active&&Le._reject(new lt.Abort(Re.error)),Le.active=!1,Le.on("abort").fire($e)}),Re.oncomplete=Zr(function(){Le.active=!1,Le._resolve(),"mutatedParts"in Re&&Ii.storagemutated.fire(Re.mutatedParts)}),this},fi.prototype._promise=function(Re,Le,ze){var Qe=this;if(Re==="readwrite"&&this.mode!=="readwrite")return vn(new lt.ReadOnly("Transaction is readonly"));if(!this.active)return vn(new lt.TransactionInactive);if(this._locked())return new wr(function(st,_t){Qe._blockedFuncs.push([function(){Qe._promise(Re,Le,ze).then(st,_t)},Cr])});if(ze)return dn(function(){var st=new wr(function(_t,wt){Qe._lock();var Rt=Le(_t,wt,Qe);Rt&&Rt.then&&Rt.then(_t,wt)});return st.finally(function(){return Qe._unlock()}),st._lib=!0,st});var $e=new wr(function(st,_t){var wt=Le(st,_t,Qe);wt&&wt.then&&wt.then(st,_t)});return $e._lib=!0,$e},fi.prototype._root=function(){return this.parent?this.parent._root():this},fi.prototype.waitFor=function(Re){var Le,ze=this._root(),Qe=wr.resolve(Re);ze._waitingFor?ze._waitingFor=ze._waitingFor.then(function(){return Qe}):(ze._waitingFor=Qe,ze._waitingQueue=[],Le=ze.idbtrans.objectStore(ze.storeNames[0]),function st(){for(++ze._spinCount;ze._waitingQueue.length;)ze._waitingQueue.shift()();ze._waitingFor&&(Le.get(-1/0).onsuccess=st)}());var $e=ze._waitingFor;return new wr(function(st,_t){Qe.then(function(wt){return ze._waitingQueue.push(Zr(st.bind(null,wt)))},function(wt){return ze._waitingQueue.push(Zr(_t.bind(null,wt)))}).finally(function(){ze._waitingFor===$e&&(ze._waitingFor=null)})})},fi.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new lt.Abort))},fi.prototype.table=function(Re){var Le=this._memoizedTables||(this._memoizedTables={});if(ne(Le,Re))return Le[Re];var ze=this.schema[Re];if(!ze)throw new lt.NotFound("Table "+Re+" not part of transaction");return ze=new this.db.Table(Re,ze,this),ze.core=this.db.core.table(Re),Le[Re]=ze},fi);function fi(){}function xs(Re,Le,ze,Qe,$e,st,_t){return{name:Re,keyPath:Le,unique:ze,multi:Qe,auto:$e,compound:st,src:(ze&&!_t?"&":"")+(Qe?"*":"")+($e?"++":"")+E0(Le)}}function E0(Re){return typeof Re=="string"?Re:Re?"["+[].join.call(Re,"+")+"]":""}function hs(Re,Le,ze){return{name:Re,primKey:Le,indexes:ze,mappedClass:null,idxByName:(Qe=function($e){return[$e.name,$e]},ze.reduce(function($e,st,_t){return _t=Qe(st,_t),_t&&($e[_t[0]]=_t[1]),$e},{}))};var Qe}var ya=function(Re){try{return Re.only([[]]),ya=function(){return[[]]},[[]]}catch{return ya=function(){return Ai},Ai}};function ps(Re){return Re==null?function(){}:typeof Re=="string"?(Le=Re).split(".").length===1?function(ze){return ze[Le]}:function(ze){return ot(ze,Le)}:function(ze){return ot(ze,Re)};var Le}function w0(Re){return[].slice.call(Re)}var Jc=0;function ba(Re){return Re==null?":id":typeof Re=="string"?Re:"[".concat(Re.join("+"),"]")}function Xc(Re,Le,Rt){function Qe(qt){if(qt.type===3)return null;if(qt.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var Bt=qt.lower,Nt=qt.upper,Vt=qt.lowerOpen,qt=qt.upperOpen;return Bt===void 0?Nt===void 0?null:Le.upperBound(Nt,!!qt):Nt===void 0?Le.lowerBound(Bt,!!Vt):Le.bound(Bt,Nt,!!Vt,!!qt)}function $e(Ut){var Bt,Nt=Ut.name;return{name:Nt,schema:Ut,mutate:function(Vt){var qt=Vt.trans,Yt=Vt.type,Qt=Vt.keys,Gt=Vt.values,rr=Vt.range;return new Promise(function(xr,Ir){xr=Zr(xr);var hr=qt.objectStore(Nt),br=hr.keyPath==null,Ar=Yt==="put"||Yt==="add";if(!Ar&&Yt!=="delete"&&Yt!=="deleteRange")throw new Error("Invalid operation type: "+Yt);var lr,pr=(Qt||Gt||{length:1}).length;if(Qt&&Gt&&Qt.length!==Gt.length)throw new Error("Given keys array must have same length as given values array.");if(pr===0)return xr({numFailures:0,failures:{},results:[],lastResult:void 0});function Ur(Rn){++Xn,$i(Rn)}var Kr=[],Vr=[],Xn=0;if(Yt==="deleteRange"){if(rr.type===4)return xr({numFailures:Xn,failures:Vr,results:[],lastResult:void 0});rr.type===3?Kr.push(lr=hr.clear()):Kr.push(lr=hr.delete(Qe(rr)))}else{var br=Ar?br?[Gt,Qt]:[Gt,null]:[Qt,null],Hr=br[0],An=br[1];if(Ar)for(var Yr=0;Yr<pr;++Yr)Kr.push(lr=An&&An[Yr]!==void 0?hr[Yt](Hr[Yr],An[Yr]):hr[Yt](Hr[Yr])),lr.onerror=Ur;else for(Yr=0;Yr<pr;++Yr)Kr.push(lr=hr[Yt](Hr[Yr])),lr.onerror=Ur}function ta(Rn){Rn=Rn.target.result,Kr.forEach(function(xi,yo){return xi.error!=null&&(Vr[yo]=xi.error)}),xr({numFailures:Xn,failures:Vr,results:Yt==="delete"?Qt:Kr.map(function(xi){return xi.result}),lastResult:Rn})}lr.onerror=function(Rn){Ur(Rn),ta(Rn)},lr.onsuccess=ta})},getMany:function(Vt){var qt=Vt.trans,Yt=Vt.keys;return new Promise(function(Qt,Gt){Qt=Zr(Qt);for(var rr,xr=qt.objectStore(Nt),Ir=Yt.length,hr=new Array(Ir),br=0,Ar=0,lr=function(Kr){Kr=Kr.target,hr[Kr._pos]=Kr.result,++Ar===br&&Qt(hr)},pr=ni(Gt),Ur=0;Ur<Ir;++Ur)Yt[Ur]!=null&&((rr=xr.get(Yt[Ur]))._pos=Ur,rr.onsuccess=lr,rr.onerror=pr,++br);br===0&&Qt(hr)})},get:function(Vt){var qt=Vt.trans,Yt=Vt.key;return new Promise(function(Qt,Gt){Qt=Zr(Qt);var rr=qt.objectStore(Nt).get(Yt);rr.onsuccess=function(xr){return Qt(xr.target.result)},rr.onerror=ni(Gt)})},query:(Bt=Tt,function(Vt){return new Promise(function(qt,Yt){qt=Zr(qt);var Qt,Gt,rr,br=Vt.trans,xr=Vt.values,Ir=Vt.limit,lr=Vt.query,hr=Ir===1/0?void 0:Ir,Ar=lr.index,lr=lr.range,br=br.objectStore(Nt),Ar=Ar.isPrimaryKey?br:br.index(Ar.name),lr=Qe(lr);if(Ir===0)return qt({result:[]});Bt?((hr=xr?Ar.getAll(lr,hr):Ar.getAllKeys(lr,hr)).onsuccess=function(pr){return qt({result:pr.target.result})},hr.onerror=ni(Yt)):(Qt=0,Gt=!xr&&"openKeyCursor"in Ar?Ar.openKeyCursor(lr):Ar.openCursor(lr),rr=[],Gt.onsuccess=function(pr){var Ur=Gt.result;return Ur?(rr.push(xr?Ur.value:Ur.primaryKey),++Qt===Ir?qt({result:rr}):void Ur.continue()):qt({result:rr})},Gt.onerror=ni(Yt))})}),openCursor:function(Vt){var qt=Vt.trans,Yt=Vt.values,Qt=Vt.query,Gt=Vt.reverse,rr=Vt.unique;return new Promise(function(xr,Ir){xr=Zr(xr);var Ar=Qt.index,hr=Qt.range,br=qt.objectStore(Nt),br=Ar.isPrimaryKey?br:br.index(Ar.name),Ar=Gt?rr?"prevunique":"prev":rr?"nextunique":"next",lr=!Yt&&"openKeyCursor"in br?br.openKeyCursor(Qe(hr),Ar):br.openCursor(Qe(hr),Ar);lr.onerror=ni(Ir),lr.onsuccess=Zr(function(pr){var Ur,Kr,Vr,Xn,Hr=lr.result;Hr?(Hr.___id=++Jc,Hr.done=!1,Ur=Hr.continue.bind(Hr),Kr=(Kr=Hr.continuePrimaryKey)&&Kr.bind(Hr),Vr=Hr.advance.bind(Hr),Xn=function(){throw new Error("Cursor not stopped")},Hr.trans=qt,Hr.stop=Hr.continue=Hr.continuePrimaryKey=Hr.advance=function(){throw new Error("Cursor not started")},Hr.fail=Zr(Ir),Hr.next=function(){var An=this,Yr=1;return this.start(function(){return Yr--?An.continue():An.stop()}).then(function(){return An})},Hr.start=function(An){function Yr(){if(lr.result)try{An()}catch(Rn){Hr.fail(Rn)}else Hr.done=!0,Hr.start=function(){throw new Error("Cursor behind last entry")},Hr.stop()}var ta=new Promise(function(Rn,xi){Rn=Zr(Rn),lr.onerror=ni(xi),Hr.fail=xi,Hr.stop=function(yo){Hr.stop=Hr.continue=Hr.continuePrimaryKey=Hr.advance=Xn,Rn(yo)}});return lr.onsuccess=Zr(function(Rn){lr.onsuccess=Yr,Yr()}),Hr.continue=Ur,Hr.continuePrimaryKey=Kr,Hr.advance=Vr,Yr(),ta},xr(Hr)):xr(null)},Ir)})},count:function(Vt){var qt=Vt.query,Yt=Vt.trans,Qt=qt.index,Gt=qt.range;return new Promise(function(rr,xr){var Ir=Yt.objectStore(Nt),hr=Qt.isPrimaryKey?Ir:Ir.index(Qt.name),Ir=Qe(Gt),hr=Ir?hr.count(Ir):hr.count();hr.onsuccess=Zr(function(br){return rr(br.target.result)}),hr.onerror=ni(xr)})}}}var st,_t,wt,Lt=(_t=Rt,wt=w0((st=Re).objectStoreNames),{schema:{name:st.name,tables:wt.map(function(Ut){return _t.objectStore(Ut)}).map(function(Ut){var Bt=Ut.keyPath,qt=Ut.autoIncrement,Nt=g(Bt),Vt={},qt={name:Ut.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:Bt==null,compound:Nt,keyPath:Bt,autoIncrement:qt,unique:!0,extractKey:ps(Bt)},indexes:w0(Ut.indexNames).map(function(Yt){return Ut.index(Yt)}).map(function(rr){var Qt=rr.name,Gt=rr.unique,xr=rr.multiEntry,rr=rr.keyPath,xr={name:Qt,compound:g(rr),keyPath:rr,unique:Gt,multiEntry:xr,extractKey:ps(rr)};return Vt[ba(rr)]=xr}),getIndexByKeyPath:function(Yt){return Vt[ba(Yt)]}};return Vt[":id"]=qt.primaryKey,Bt!=null&&(Vt[ba(Bt)]=qt.primaryKey),qt})},hasGetAll:0<wt.length&&"getAll"in _t.objectStore(wt[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),Rt=Lt.schema,Tt=Lt.hasGetAll,Lt=Rt.tables.map($e),Ot={};return Lt.forEach(function(Ut){return Ot[Ut.name]=Ut}),{stack:"dbcore",transaction:Re.transaction.bind(Re),table:function(Ut){if(!Ot[Ut])throw new Error("Table '".concat(Ut,"' not found"));return Ot[Ut]},MIN_KEY:-1/0,MAX_KEY:ya(Le),schema:Rt}}function Zc(Re,Le,ze,Qe){var $e=ze.IDBKeyRange;return ze.indexedDB,{dbcore:(Qe=Xc(Le,$e,Qe),Re.dbcore.reduce(function(st,_t){return _t=_t.create,i(i({},st),_t(st))},Qe))}}function eo(Re,Qe){var ze=Qe.db,Qe=Zc(Re._middlewares,ze,Re._deps,Qe);Re.core=Qe.dbcore,Re.tables.forEach(function($e){var st=$e.name;Re.core.schema.tables.some(function(_t){return _t.name===st})&&($e.core=Re.core.table(st),Re[st]instanceof Re.Table&&(Re[st].core=$e.core))})}function Ea(Re,Le,ze,Qe){ze.forEach(function($e){var st=Qe[$e];Le.forEach(function(_t){var wt=function Rt(Tt,Lt){return Ne(Tt,Lt)||(Tt=Ie(Tt))&&Rt(Tt,Lt)}(_t,$e);(!wt||"value"in wt&&wt.value===void 0)&&(_t===Re.Transaction.prototype||_t instanceof Re.Transaction?Be(_t,$e,{get:function(){return this.table($e)},set:function(Rt){Ee(this,$e,{value:Rt,writable:!0,configurable:!0,enumerable:!0})}}):_t[$e]=new Re.Table($e,st))})})}function to(Re,Le){Le.forEach(function(ze){for(var Qe in ze)ze[Qe]instanceof Re.Table&&delete ze[Qe]})}function S0(Re,Le){return Re._cfg.version-Le._cfg.version}function _s(Re,Le,ze,Qe){var $e=Re._dbSchema;ze.objectStoreNames.contains("$meta")&&!$e.$meta&&($e.$meta=hs("$meta",I0("")[0],[]),Re._storeNames.push("$meta"));var st=Re._createTransaction("readwrite",Re._storeNames,$e);st.create(ze),st._completion.catch(Qe);var _t=st._reject.bind(st),wt=Cr.transless||Cr;dn(function(){return Cr.trans=st,Cr.transless=wt,Le!==0?(eo(Re,ze),Tt=Le,((Rt=st).storeNames.includes("$meta")?Rt.table("$meta").get("version").then(function(Lt){return Lt??Tt}):wr.resolve(Tt)).then(function(Lt){return Ut=Lt,Bt=st,Nt=ze,Vt=[],Lt=(Ot=Re)._versions,qt=Ot._dbSchema=no(0,Ot.idbdb,Nt),(Lt=Lt.filter(function(Yt){return Yt._cfg.version>=Ut})).length!==0?(Lt.forEach(function(Yt){Vt.push(function(){var Qt=qt,Gt=Yt._cfg.dbschema;io(Ot,Qt,Nt),io(Ot,Gt,Nt),qt=Ot._dbSchema=Gt;var rr=vs(Qt,Gt);rr.add.forEach(function(Ar){ro(Nt,Ar[0],Ar[1].primKey,Ar[1].indexes)}),rr.change.forEach(function(Ar){if(Ar.recreate)throw new lt.Upgrade("Not yet support for changing primary key");var lr=Nt.objectStore(Ar.name);Ar.add.forEach(function(pr){return wa(lr,pr)}),Ar.change.forEach(function(pr){lr.deleteIndex(pr.name),wa(lr,pr)}),Ar.del.forEach(function(pr){return lr.deleteIndex(pr)})});var xr=Yt._cfg.contentUpgrade;if(xr&&Yt._cfg.version>Ut){eo(Ot,Nt),Bt._memoizedTables={};var Ir=gt(Gt);rr.del.forEach(function(Ar){Ir[Ar]=Qt[Ar]}),to(Ot,[Ot.Transaction.prototype]),Ea(Ot,[Ot.Transaction.prototype],m(Ir),Ir),Bt.schema=Ir;var hr,br=ct(xr);return br&&wn(),rr=wr.follow(function(){var Ar;(hr=xr(Bt))&&br&&(Ar=xn.bind(null,null),hr.then(Ar,Ar))}),hr&&typeof hr.then=="function"?wr.resolve(hr):rr.then(function(){return hr})}}),Vt.push(function(Qt){var Gt,rr,xr=Yt._cfg.dbschema;Gt=xr,rr=Qt,[].slice.call(rr.db.objectStoreNames).forEach(function(Ir){return Gt[Ir]==null&&rr.db.deleteObjectStore(Ir)}),to(Ot,[Ot.Transaction.prototype]),Ea(Ot,[Ot.Transaction.prototype],Ot._storeNames,Ot._dbSchema),Bt.schema=Ot._dbSchema}),Vt.push(function(Qt){Ot.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(Ot.idbdb.version/10)===Yt._cfg.version?(Ot.idbdb.deleteObjectStore("$meta"),delete Ot._dbSchema.$meta,Ot._storeNames=Ot._storeNames.filter(function(Gt){return Gt!=="$meta"})):Qt.objectStore("$meta").put(Yt._cfg.version,"version"))})}),function Yt(){return Vt.length?wr.resolve(Vt.shift()(Bt.idbtrans)).then(Yt):wr.resolve()}().then(function(){A0(qt,Nt)})):wr.resolve();var Ot,Ut,Bt,Nt,Vt,qt}).catch(_t)):(m($e).forEach(function(Lt){ro(ze,Lt,$e[Lt].primKey,$e[Lt].indexes)}),eo(Re,ze),void wr.follow(function(){return Re.on.populate.fire(st)}).catch(_t));var Rt,Tt})}function $c(Re,Le){A0(Re._dbSchema,Le),Le.db.version%10!=0||Le.objectStoreNames.contains("$meta")||Le.db.createObjectStore("$meta").add(Math.ceil(Le.db.version/10-1),"version");var ze=no(0,Re.idbdb,Le);io(Re,Re._dbSchema,Le);for(var Qe=0,$e=vs(ze,Re._dbSchema).change;Qe<$e.length;Qe++){var st=function(_t){if(_t.change.length||_t.recreate)return console.warn("Unable to patch indexes of table ".concat(_t.name," because it has changes on the type of index or primary key.")),{value:void 0};var wt=Le.objectStore(_t.name);_t.add.forEach(function(Rt){nt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(_t.name,".").concat(Rt.src)),wa(wt,Rt)})}($e[Qe]);if(typeof st=="object")return st.value}}function vs(Re,Le){var ze,Qe={del:[],add:[],change:[]};for(ze in Re)Le[ze]||Qe.del.push(ze);for(ze in Le){var $e=Re[ze],st=Le[ze];if($e){var _t={name:ze,def:st,recreate:!1,del:[],add:[],change:[]};if(""+($e.primKey.keyPath||"")!=""+(st.primKey.keyPath||"")||$e.primKey.auto!==st.primKey.auto)_t.recreate=!0,Qe.change.push(_t);else{var wt=$e.idxByName,Rt=st.idxByName,Tt=void 0;for(Tt in wt)Rt[Tt]||_t.del.push(Tt);for(Tt in Rt){var Lt=wt[Tt],Ot=Rt[Tt];Lt?Lt.src!==Ot.src&&_t.change.push(Ot):_t.add.push(Ot)}(0<_t.del.length||0<_t.add.length||0<_t.change.length)&&Qe.change.push(_t)}}else Qe.add.push([ze,st])}return Qe}function ro(Re,Le,ze,Qe){var $e=Re.db.createObjectStore(Le,ze.keyPath?{keyPath:ze.keyPath,autoIncrement:ze.auto}:{autoIncrement:ze.auto});return Qe.forEach(function(st){return wa($e,st)}),$e}function A0(Re,Le){m(Re).forEach(function(ze){Le.db.objectStoreNames.contains(ze)||(nt&&console.debug("Dexie: Creating missing table",ze),ro(Le,ze,Re[ze].primKey,Re[ze].indexes))})}function wa(Re,Le){Re.createIndex(Le.name,Le.keyPath,{unique:Le.unique,multiEntry:Le.multi})}function no(Re,Le,ze){var Qe={};return Ue(Le.objectStoreNames,0).forEach(function($e){for(var st=ze.objectStore($e),_t=xs(E0(Tt=st.keyPath),Tt||"",!0,!1,!!st.autoIncrement,Tt&&typeof Tt!="string",!0),wt=[],Rt=0;Rt<st.indexNames.length;++Rt){var Lt=st.index(st.indexNames[Rt]),Tt=Lt.keyPath,Lt=xs(Lt.name,Tt,!!Lt.unique,!!Lt.multiEntry,!1,Tt&&typeof Tt!="string",!1);wt.push(Lt)}Qe[$e]=hs($e,_t,wt)}),Qe}function io(Re,Le,ze){for(var Qe=ze.db.objectStoreNames,$e=0;$e<Qe.length;++$e){var st=Qe[$e],_t=ze.objectStore(st);Re._hasGetAll="getAll"in _t;for(var wt=0;wt<_t.indexNames.length;++wt){var Rt=_t.indexNames[wt],Tt=_t.index(Rt).keyPath,Lt=typeof Tt=="string"?Tt:"["+Ue(Tt).join("+")+"]";!Le[st]||(Tt=Le[st].idxByName[Lt])&&(Tt.name=Rt,delete Le[st].idxByName[Lt],Le[st].idxByName[Rt]=Tt)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&f.WorkerGlobalScope&&f instanceof f.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(Re._hasGetAll=!1)}function I0(Re){return Re.split(",").map(function(Le,ze){var Qe=(Le=Le.trim()).replace(/([&*]|\+\+)/g,""),$e=/^\[/.test(Qe)?Qe.match(/^\[(.*)\]$/)[1].split("+"):Qe;return xs(Qe,$e||null,/\&/.test(Le),/\*/.test(Le),/\+\+/.test(Le),g($e),ze===0)})}var eu=(ao.prototype._parseStoresSpec=function(Re,Le){m(Re).forEach(function(ze){if(Re[ze]!==null){var Qe=I0(Re[ze]),$e=Qe.shift();if($e.unique=!0,$e.multi)throw new lt.Schema("Primary key cannot be multi-valued");Qe.forEach(function(st){if(st.auto)throw new lt.Schema("Only primary key can be marked as autoIncrement (++)");if(!st.keyPath)throw new lt.Schema("Index must have a name and cannot be an empty string")}),Le[ze]=hs(ze,$e,Qe)}})},ao.prototype.stores=function(ze){var Le=this.db;this._cfg.storesSource=this._cfg.storesSource?Te(this._cfg.storesSource,ze):ze;var ze=Le._versions,Qe={},$e={};return ze.forEach(function(st){Te(Qe,st._cfg.storesSource),$e=st._cfg.dbschema={},st._parseStoresSpec(Qe,$e)}),Le._dbSchema=$e,to(Le,[Le._allTables,Le,Le.Transaction.prototype]),Ea(Le,[Le._allTables,Le,Le.Transaction.prototype,this._cfg.tables],m($e),$e),Le._storeNames=m($e),this},ao.prototype.upgrade=function(Re){return this._cfg.contentUpgrade=er(this._cfg.contentUpgrade||$t,Re),this},ao);function ao(){}function oo(Re,Le){var ze=Re._dbNamesDB;return ze||(ze=Re._dbNamesDB=new di(Qa,{addons:[],indexedDB:Re,IDBKeyRange:Le})).version(1).stores({dbnames:"name"}),ze.table("dbnames")}function so(Re){return Re&&typeof Re.databases=="function"}function co(Re){return dn(function(){return Cr.letThrough=!0,Re()})}function uo(Re){return!("from"in Re)}var Dn=function(Re,Le){if(!this){var ze=new Dn;return Re&&"d"in Re&&Te(ze,Re),ze}Te(this,arguments.length?{d:1,from:Re,to:1<arguments.length?Le:Re}:{d:0})};function Sa(Re,Le,ze){var Qe=Xr(Le,ze);if(!isNaN(Qe)){if(0<Qe)throw RangeError();if(uo(Re))return Te(Re,{from:Le,to:ze,d:1});var $e=Re.l,Qe=Re.r;if(Xr(ze,Re.from)<0)return $e?Sa($e,Le,ze):Re.l={from:Le,to:ze,d:1,l:null,r:null},k0(Re);if(0<Xr(Le,Re.to))return Qe?Sa(Qe,Le,ze):Re.r={from:Le,to:ze,d:1,l:null,r:null},k0(Re);Xr(Le,Re.from)<0&&(Re.from=Le,Re.l=null,Re.d=Qe?Qe.d+1:1),0<Xr(ze,Re.to)&&(Re.to=ze,Re.r=null,Re.d=Re.l?Re.l.d+1:1),ze=!Re.r,$e&&!Re.l&&Aa(Re,$e),Qe&&ze&&Aa(Re,Qe)}}function Aa(Re,Le){uo(Le)||function ze(Qe,Rt){var st=Rt.from,_t=Rt.to,wt=Rt.l,Rt=Rt.r;Sa(Qe,st,_t),wt&&ze(Qe,wt),Rt&&ze(Qe,Rt)}(Re,Le)}function C0(Re,Le){var ze=Ia(Le),Qe=ze.next();if(Qe.done)return!1;for(var $e=Qe.value,st=Ia(Re),_t=st.next($e.from),wt=_t.value;!Qe.done&&!_t.done;){if(Xr(wt.from,$e.to)<=0&&0<=Xr(wt.to,$e.from))return!0;Xr($e.from,wt.from)<0?$e=(Qe=ze.next(wt.from)).value:wt=(_t=st.next($e.from)).value}return!1}function Ia(Re){var Le=uo(Re)?null:{s:0,n:Re};return{next:function(ze){for(var Qe=0<arguments.length;Le;)switch(Le.s){case 0:if(Le.s=1,Qe)for(;Le.n.l&&Xr(ze,Le.n.from)<0;)Le={up:Le,n:Le.n.l,s:1};else for(;Le.n.l;)Le={up:Le,n:Le.n.l,s:1};case 1:if(Le.s=2,!Qe||Xr(ze,Le.n.to)<=0)return{value:Le.n,done:!1};case 2:if(Le.n.r){Le.s=3,Le={up:Le,n:Le.n.r,s:0};continue}case 3:Le=Le.up}return{done:!0}}}}function k0(Re){var Le,ze,Qe=(((Le=Re.r)===null||Le===void 0?void 0:Le.d)||0)-(((ze=Re.l)===null||ze===void 0?void 0:ze.d)||0),$e=1<Qe?"r":Qe<-1?"l":"";$e&&(Le=$e=="r"?"l":"r",ze=i({},Re),Qe=Re[$e],Re.from=Qe.from,Re.to=Qe.to,Re[$e]=Qe[$e],ze[$e]=Qe[Le],(Re[Le]=ze).d=ms(ze)),Re.d=ms(Re)}function ms(ze){var Le=ze.r,ze=ze.l;return(Le?ze?Math.max(Le.d,ze.d):Le.d:ze?ze.d:0)+1}function Ui(Re,Le){return m(Le).forEach(function(ze){Re[ze]?Aa(Re[ze],Le[ze]):Re[ze]=function Qe($e){var st,_t,wt={};for(st in $e)ne($e,st)&&(_t=$e[st],wt[st]=!_t||typeof _t!="object"||ht.has(_t.constructor)?_t:Qe(_t));return wt}(Le[ze])}),Re}function qn(Re,Le){return Re.all||Le.all||Object.keys(Re).some(function(ze){return Le[ze]&&C0(Le[ze],Re[ze])})}De(Dn.prototype,((tn={add:function(Re){return Aa(this,Re),this},addKey:function(Re){return Sa(this,Re,Re),this},addKeys:function(Re){var Le=this;return Re.forEach(function(ze){return Sa(Le,ze,ze)}),this},hasKey:function(Re){var Le=Ia(this).next(Re).value;return Le&&Xr(Le.from,Re)<=0&&0<=Xr(Le.to,Re)}})[Zt]=function(){return Ia(this)},tn));var ji={},gs={},ys=!1;function lo(Re){Ui(gs,Re),ys||(ys=!0,setTimeout(function(){ys=!1,kn(gs,!(gs={}))},0))}function kn(Re,Le){Le===void 0&&(Le=!1);var ze=new Set;if(Re.all)for(var Qe=0,$e=Object.values(ji);Qe<$e.length;Qe++)O0(_t=$e[Qe],Re,ze,Le);else for(var st in Re){var _t,wt=/^idb\:\/\/(.*)\/(.*)\//.exec(st);wt&&(st=wt[1],wt=wt[2],(_t=ji["idb://".concat(st,"/").concat(wt)])&&O0(_t,Re,ze,Le))}ze.forEach(function(Rt){return Rt()})}function O0(Re,Le,ze,Qe){for(var $e=[],st=0,_t=Object.entries(Re.queries.query);st<_t.length;st++){for(var wt=_t[st],Rt=wt[0],Tt=[],Lt=0,Ot=wt[1];Lt<Ot.length;Lt++){var Ut=Ot[Lt];qn(Le,Ut.obsSet)?Ut.subscribers.forEach(function(qt){return ze.add(qt)}):Qe&&Tt.push(Ut)}Qe&&$e.push([Rt,Tt])}if(Qe)for(var Bt=0,Nt=$e;Bt<Nt.length;Bt++){var Vt=Nt[Bt],Rt=Vt[0],Tt=Vt[1];Re.queries.query[Rt]=Tt}}function fo(Re){var Le=Re._state,ze=Re._deps.indexedDB;if(Le.isBeingOpened||Re.idbdb)return Le.dbReadyPromise.then(function(){return Le.dbOpenError?vn(Le.dbOpenError):Re});Le.isBeingOpened=!0,Le.dbOpenError=null,Le.openComplete=!1;var Qe=Le.openCanceller,$e=Math.round(10*Re.verno),st=!1;function _t(){if(Le.openCanceller!==Qe)throw new lt.DatabaseClosed("db.open() was cancelled")}function wt(){return new wr(function(Ut,Bt){if(_t(),!ze)throw new lt.MissingAPI;var Nt=Re.name,Vt=Le.autoSchema||!$e?ze.open(Nt):ze.open(Nt,$e);if(!Vt)throw new lt.MissingAPI;Vt.onerror=ni(Bt),Vt.onblocked=Zr(Re._fireOnBlocked),Vt.onupgradeneeded=Zr(function(qt){var Yt;Lt=Vt.transaction,Le.autoSchema&&!Re._options.allowEmptyDB?(Vt.onerror=$i,Lt.abort(),Vt.result.close(),(Yt=ze.deleteDatabase(Nt)).onsuccess=Yt.onerror=Zr(function(){Bt(new lt.NoSuchDatabase("Database ".concat(Nt," doesnt exist")))})):(Lt.onerror=ni(Bt),qt=qt.oldVersion>Math.pow(2,62)?0:qt.oldVersion,Ot=qt<1,Re.idbdb=Vt.result,st&&$c(Re,Lt),_s(Re,qt/10,Lt,Bt))},Bt),Vt.onsuccess=Zr(function(){Lt=null;var qt,Yt,Qt,Gt,rr,xr=Re.idbdb=Vt.result,Ir=Ue(xr.objectStoreNames);if(0<Ir.length)try{var hr=xr.transaction((Gt=Ir).length===1?Gt[0]:Gt,"readonly");if(Le.autoSchema)Yt=xr,Qt=hr,(qt=Re).verno=Yt.version/10,Qt=qt._dbSchema=no(0,Yt,Qt),qt._storeNames=Ue(Yt.objectStoreNames,0),Ea(qt,[qt._allTables],m(Qt),Qt);else if(io(Re,Re._dbSchema,hr),((rr=vs(no(0,(rr=Re).idbdb,hr),rr._dbSchema)).add.length||rr.change.some(function(br){return br.add.length||br.change.length}))&&!st)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),xr.close(),$e=xr.version+1,st=!0,Ut(wt());eo(Re,hr)}catch{}Mi.push(Re),xr.onversionchange=Zr(function(br){Le.vcFired=!0,Re.on("versionchange").fire(br)}),xr.onclose=Zr(function(br){Re.on("close").fire(br)}),Ot&&(rr=Re._deps,hr=Nt,xr=rr.indexedDB,rr=rr.IDBKeyRange,so(xr)||hr===Qa||oo(xr,rr).put({name:hr}).catch($t)),Ut()},Bt)}).catch(function(Ut){switch(Ut==null?void 0:Ut.name){case"UnknownError":if(0<Le.PR1398_maxLoop)return Le.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),wt();break;case"VersionError":if(0<$e)return $e=0,wt()}return wr.reject(Ut)})}var Rt,Tt=Le.dbReadyResolve,Lt=null,Ot=!1;return wr.race([Qe,(typeof navigator>"u"?wr.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Ut){function Bt(){return indexedDB.databases().finally(Ut)}Rt=setInterval(Bt,100),Bt()}).finally(function(){return clearInterval(Rt)}):Promise.resolve()).then(wt)]).then(function(){return _t(),Le.onReadyBeingFired=[],wr.resolve(co(function(){return Re.on.ready.fire(Re.vip)})).then(function Ut(){if(0<Le.onReadyBeingFired.length){var Bt=Le.onReadyBeingFired.reduce(er,$t);return Le.onReadyBeingFired=[],wr.resolve(co(function(){return Bt(Re.vip)})).then(Ut)}})}).finally(function(){Le.openCanceller===Qe&&(Le.onReadyBeingFired=null,Le.isBeingOpened=!1)}).catch(function(Ut){Le.dbOpenError=Ut;try{Lt&&Lt.abort()}catch{}return Qe===Le.openCanceller&&Re._close(),vn(Ut)}).finally(function(){Le.openComplete=!0,Tt()}).then(function(){var Ut;return Ot&&(Ut={},Re.tables.forEach(function(Bt){Bt.schema.indexes.forEach(function(Nt){Nt.name&&(Ut["idb://".concat(Re.name,"/").concat(Bt.name,"/").concat(Nt.name)]=new Dn(-1/0,[[[]]]))}),Ut["idb://".concat(Re.name,"/").concat(Bt.name,"/")]=Ut["idb://".concat(Re.name,"/").concat(Bt.name,"/:dels")]=new Dn(-1/0,[[[]]])}),Ii(ga).fire(Ut),kn(Ut,!0)),Re})}function _n(Re){function Le(st){return Re.next(st)}var ze=$e(Le),Qe=$e(function(st){return Re.throw(st)});function $e(st){return function(Rt){var wt=st(Rt),Rt=wt.value;return wt.done?Rt:Rt&&typeof Rt.then=="function"?Rt.then(ze,Qe):g(Rt)?Promise.all(Rt).then(ze,Qe):ze(Rt)}}return $e(Le)()}function xo(Re,Le,ze){for(var Qe=g(Re)?Re.slice():[Re],$e=0;$e<ze;++$e)Qe.push(Le);return Qe}var ho={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(Re){return i(i({},Re),{table:function(Le){var ze=Re.table(Le),Qe=ze.schema,$e={},st=[];function _t(Ot,Ut,Bt){var Nt=ba(Ot),Vt=$e[Nt]=$e[Nt]||[],qt=Ot==null?0:typeof Ot=="string"?1:Ot.length,Yt=0<Ut,Yt=i(i({},Bt),{name:Yt?"".concat(Nt,"(virtual-from:").concat(Bt.name,")"):Bt.name,lowLevelIndex:Bt,isVirtual:Yt,keyTail:Ut,keyLength:qt,extractKey:ps(Ot),unique:!Yt&&Bt.unique});return Vt.push(Yt),Yt.isPrimaryKey||st.push(Yt),1<qt&&_t(qt===2?Ot[0]:Ot.slice(0,qt-1),Ut+1,Bt),Vt.sort(function(Qt,Gt){return Qt.keyTail-Gt.keyTail}),Yt}Le=_t(Qe.primaryKey.keyPath,0,Qe.primaryKey),$e[":id"]=[Le];for(var wt=0,Rt=Qe.indexes;wt<Rt.length;wt++){var Tt=Rt[wt];_t(Tt.keyPath,0,Tt)}function Lt(Ot){var Ut,Bt=Ot.query.index;return Bt.isVirtual?i(i({},Ot),{query:{index:Bt.lowLevelIndex,range:(Ut=Ot.query.range,Bt=Bt.keyTail,{type:Ut.type===1?2:Ut.type,lower:xo(Ut.lower,Ut.lowerOpen?Re.MAX_KEY:Re.MIN_KEY,Bt),lowerOpen:!0,upper:xo(Ut.upper,Ut.upperOpen?Re.MIN_KEY:Re.MAX_KEY,Bt),upperOpen:!0})}}):Ot}return i(i({},ze),{schema:i(i({},Qe),{primaryKey:Le,indexes:st,getIndexByKeyPath:function(Ot){return(Ot=$e[ba(Ot)])&&Ot[0]}}),count:function(Ot){return ze.count(Lt(Ot))},query:function(Ot){return ze.query(Lt(Ot))},openCursor:function(Ot){var Ut=Ot.query.index,Bt=Ut.keyTail,Nt=Ut.isVirtual,Vt=Ut.keyLength;return Nt?ze.openCursor(Lt(Ot)).then(function(Yt){return Yt&&qt(Yt)}):ze.openCursor(Ot);function qt(Yt){return Object.create(Yt,{continue:{value:function(Qt){Qt!=null?Yt.continue(xo(Qt,Ot.reverse?Re.MAX_KEY:Re.MIN_KEY,Bt)):Ot.unique?Yt.continue(Yt.key.slice(0,Vt).concat(Ot.reverse?Re.MIN_KEY:Re.MAX_KEY,Bt)):Yt.continue()}},continuePrimaryKey:{value:function(Qt,Gt){Yt.continuePrimaryKey(xo(Qt,Re.MAX_KEY,Bt),Gt)}},primaryKey:{get:function(){return Yt.primaryKey}},key:{get:function(){var Qt=Yt.key;return Vt===1?Qt[0]:Qt.slice(0,Vt)}},value:{get:function(){return Yt.value}}})}}})}})}};function Ci(Re,Le,ze,Qe){return ze=ze||{},Qe=Qe||"",m(Re).forEach(function($e){var st,_t,wt;ne(Le,$e)?(st=Re[$e],_t=Le[$e],typeof st=="object"&&typeof _t=="object"&&st&&_t?(wt=Ft(st))!==Ft(_t)?ze[Qe+$e]=Le[$e]:wt==="Object"?Ci(st,_t,ze,Qe+$e+"."):st!==_t&&(ze[Qe+$e]=Le[$e]):st!==_t&&(ze[Qe+$e]=Le[$e])):ze[Qe+$e]=void 0}),m(Le).forEach(function($e){ne(Re,$e)||(ze[Qe+$e]=Le[$e])}),ze}function po(Re,Le){return Le.type==="delete"?Le.keys:Le.keys||Le.values.map(Re.extractKey)}var tu={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(Re){return i(i({},Re),{table:function(Le){var ze=Re.table(Le),Qe=ze.schema.primaryKey;return i(i({},ze),{mutate:function($e){var st=Cr.trans,_t=st.table(Le).hook,wt=_t.deleting,Rt=_t.creating,Tt=_t.updating;switch($e.type){case"add":if(Rt.fire===$t)break;return st._promise("readwrite",function(){return Lt($e)},!0);case"put":if(Rt.fire===$t&&Tt.fire===$t)break;return st._promise("readwrite",function(){return Lt($e)},!0);case"delete":if(wt.fire===$t)break;return st._promise("readwrite",function(){return Lt($e)},!0);case"deleteRange":if(wt.fire===$t)break;return st._promise("readwrite",function(){return function Ot(Ut,Bt,Nt){return ze.query({trans:Ut,values:!1,query:{index:Qe,range:Bt},limit:Nt}).then(function(Vt){var qt=Vt.result;return Lt({type:"delete",keys:qt,trans:Ut}).then(function(Yt){return 0<Yt.numFailures?Promise.reject(Yt.failures[0]):qt.length<Nt?{failures:[],numFailures:0,lastResult:void 0}:Ot(Ut,i(i({},Bt),{lower:qt[qt.length-1],lowerOpen:!0}),Nt)})})}($e.trans,$e.range,1e4)},!0)}return ze.mutate($e);function Lt(Ot){var Ut,Bt,Nt,Vt=Cr.trans,qt=Ot.keys||po(Qe,Ot);if(!qt)throw new Error("Keys missing");return(Ot=Ot.type==="add"||Ot.type==="put"?i(i({},Ot),{keys:qt}):i({},Ot)).type!=="delete"&&(Ot.values=c([],Ot.values,!0)),Ot.keys&&(Ot.keys=c([],Ot.keys,!0)),Ut=ze,Nt=qt,((Bt=Ot).type==="add"?Promise.resolve([]):Ut.getMany({trans:Bt.trans,keys:Nt,cache:"immutable"})).then(function(Yt){var Qt=qt.map(function(Gt,rr){var xr,Ir,hr,br=Yt[rr],Ar={onerror:null,onsuccess:null};return Ot.type==="delete"?wt.fire.call(Ar,Gt,br,Vt):Ot.type==="add"||br===void 0?(xr=Rt.fire.call(Ar,Gt,Ot.values[rr],Vt),Gt==null&&xr!=null&&(Ot.keys[rr]=Gt=xr,Qe.outbound||tt(Ot.values[rr],Qe.keyPath,Gt))):(xr=Ci(br,Ot.values[rr]),(Ir=Tt.fire.call(Ar,xr,Gt,br,Vt))&&(hr=Ot.values[rr],Object.keys(Ir).forEach(function(lr){ne(hr,lr)?hr[lr]=Ir[lr]:tt(hr,lr,Ir[lr])}))),Ar});return ze.mutate(Ot).then(function(Gt){for(var rr=Gt.failures,xr=Gt.results,Ir=Gt.numFailures,Gt=Gt.lastResult,hr=0;hr<qt.length;++hr){var br=(xr||qt)[hr],Ar=Qt[hr];br==null?Ar.onerror&&Ar.onerror(rr[hr]):Ar.onsuccess&&Ar.onsuccess(Ot.type==="put"&&Yt[hr]?Ot.values[hr]:br)}return{failures:rr,results:xr,numFailures:Ir,lastResult:Gt}}).catch(function(Gt){return Qt.forEach(function(rr){return rr.onerror&&rr.onerror(Gt)}),Promise.reject(Gt)})})}}})}})}};function bs(Re,Le,ze){try{if(!Le||Le.keys.length<Re.length)return null;for(var Qe=[],$e=0,st=0;$e<Le.keys.length&&st<Re.length;++$e)Xr(Le.keys[$e],Re[st])===0&&(Qe.push(ze?mt(Le.values[$e]):Le.values[$e]),++st);return Qe.length===Re.length?Qe:null}catch{return null}}var _o={stack:"dbcore",level:-1,create:function(Re){return{table:function(Le){var ze=Re.table(Le);return i(i({},ze),{getMany:function(Qe){if(!Qe.cache)return ze.getMany(Qe);var $e=bs(Qe.keys,Qe.trans._cache,Qe.cache==="clone");return $e?wr.resolve($e):ze.getMany(Qe).then(function(st){return Qe.trans._cache={keys:Qe.keys,values:Qe.cache==="clone"?mt(st):st},st})},mutate:function(Qe){return Qe.type!=="add"&&(Qe.trans._cache=null),ze.mutate(Qe)}})}}}};function bn(Re,Le){return Re.trans.mode==="readonly"&&!!Re.subscr&&!Re.trans.explicit&&Re.trans.db._options.cache!=="disabled"&&!Le.schema.primaryKey.outbound}function T0(Re,Le){switch(Re){case"query":return Le.values&&!Le.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Es={stack:"dbcore",level:0,name:"Observability",create:function(Re){var Le=Re.schema.name,ze=new Dn(Re.MIN_KEY,Re.MAX_KEY);return i(i({},Re),{transaction:function(Qe,$e,st){if(Cr.subscr&&$e!=="readonly")throw new lt.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Cr.querier));return Re.transaction(Qe,$e,st)},table:function(Qe){var $e=Re.table(Qe),st=$e.schema,_t=st.primaryKey,Ot=st.indexes,wt=_t.extractKey,Rt=_t.outbound,Tt=_t.autoIncrement&&Ot.filter(function(Bt){return Bt.compound&&Bt.keyPath.includes(_t.keyPath)}),Lt=i(i({},$e),{mutate:function(Bt){function Nt(lr){return lr="idb://".concat(Le,"/").concat(Qe,"/").concat(lr),Gt[lr]||(Gt[lr]=new Dn)}var Vt,qt,Yt,Qt=Bt.trans,Gt=Bt.mutatedParts||(Bt.mutatedParts={}),rr=Nt(""),xr=Nt(":dels"),Ir=Bt.type,Ar=Bt.type==="deleteRange"?[Bt.range]:Bt.type==="delete"?[Bt.keys]:Bt.values.length<50?[po(_t,Bt).filter(function(lr){return lr}),Bt.values]:[],hr=Ar[0],br=Ar[1],Ar=Bt.trans._cache;return g(hr)?(rr.addKeys(hr),(Ar=Ir==="delete"||hr.length===br.length?bs(hr,Ar):null)||xr.addKeys(hr),(Ar||br)&&(Vt=Nt,qt=Ar,Yt=br,st.indexes.forEach(function(lr){var pr=Vt(lr.name||"");function Ur(Vr){return Vr!=null?lr.extractKey(Vr):null}function Kr(Vr){return lr.multiEntry&&g(Vr)?Vr.forEach(function(Xn){return pr.addKey(Xn)}):pr.addKey(Vr)}(qt||Yt).forEach(function(Vr,An){var Hr=qt&&Ur(qt[An]),An=Yt&&Ur(Yt[An]);Xr(Hr,An)!==0&&(Hr!=null&&Kr(Hr),An!=null&&Kr(An))})}))):hr?(br={from:hr.lower,to:hr.upper},xr.add(br),rr.add(br)):(rr.add(ze),xr.add(ze),st.indexes.forEach(function(lr){return Nt(lr.name).add(ze)})),$e.mutate(Bt).then(function(lr){return!hr||Bt.type!=="add"&&Bt.type!=="put"||(rr.addKeys(lr.results),Tt&&Tt.forEach(function(pr){var Ur=Bt.values.map(function(Vr){return pr.extractKey(Vr)}),Kr=pr.keyPath.findIndex(function(Vr){return Vr===_t.keyPath});lr.results.forEach(function(Vr){return Ur[Kr]=Vr}),Nt(pr.name).addKeys(Ur)})),Qt.mutatedParts=Ui(Qt.mutatedParts||{},Gt),lr})}}),Ot=function(Nt){var Vt=Nt.query,Nt=Vt.index,Vt=Vt.range;return[Nt,new Dn((Nt=Vt.lower)!==null&&Nt!==void 0?Nt:Re.MIN_KEY,(Vt=Vt.upper)!==null&&Vt!==void 0?Vt:Re.MAX_KEY)]},Ut={get:function(Bt){return[_t,new Dn(Bt.key)]},getMany:function(Bt){return[_t,new Dn().addKeys(Bt.keys)]},count:Ot,query:Ot,openCursor:Ot};return m(Ut).forEach(function(Bt){Lt[Bt]=function(Nt){var Vt=Cr.subscr,qt=!!Vt,Yt=bn(Cr,$e)&&T0(Bt,Nt)?Nt.obsSet={}:Vt;if(qt){var Qt=function(br){return br="idb://".concat(Le,"/").concat(Qe,"/").concat(br),Yt[br]||(Yt[br]=new Dn)},Gt=Qt(""),rr=Qt(":dels"),Vt=Ut[Bt](Nt),qt=Vt[0],Vt=Vt[1];if((Bt==="query"&&qt.isPrimaryKey&&!Nt.values?rr:Qt(qt.name||"")).add(Vt),!qt.isPrimaryKey){if(Bt!=="count"){var xr=Bt==="query"&&Rt&&Nt.values&&$e.query(i(i({},Nt),{values:!1}));return $e[Bt].apply(this,arguments).then(function(br){if(Bt==="query"){if(Rt&&Nt.values)return xr.then(function(Ur){return Ur=Ur.result,Gt.addKeys(Ur),br});var Ar=Nt.values?br.result.map(wt):br.result;(Nt.values?Gt:rr).addKeys(Ar)}else if(Bt==="openCursor"){var lr=br,pr=Nt.values;return lr&&Object.create(lr,{key:{get:function(){return rr.addKey(lr.primaryKey),lr.key}},primaryKey:{get:function(){var Ur=lr.primaryKey;return rr.addKey(Ur),Ur}},value:{get:function(){return pr&&Gt.addKey(lr.primaryKey),lr.value}}})}return br})}rr.add(ze)}}return $e[Bt].apply(this,arguments)}}),Lt}})}};function D0(Re,Le,ze){if(ze.numFailures===0)return Le;if(Le.type==="deleteRange")return null;var Qe=Le.keys?Le.keys.length:"values"in Le&&Le.values?Le.values.length:1;return ze.numFailures===Qe?null:(Le=i({},Le),g(Le.keys)&&(Le.keys=Le.keys.filter(function($e,st){return!(st in ze.failures)})),"values"in Le&&g(Le.values)&&(Le.values=Le.values.filter(function($e,st){return!(st in ze.failures)})),Le)}function ws(Re,Le){return ze=Re,((Qe=Le).lower===void 0||(Qe.lowerOpen?0<Xr(ze,Qe.lower):0<=Xr(ze,Qe.lower)))&&(Re=Re,(Le=Le).upper===void 0||(Le.upperOpen?Xr(Re,Le.upper)<0:Xr(Re,Le.upper)<=0));var ze,Qe}function ii(Re,Le,Ut,Qe,$e,st){if(!Ut||Ut.length===0)return Re;var _t=Le.query.index,wt=_t.multiEntry,Rt=Le.query.range,Tt=Qe.schema.primaryKey.extractKey,Lt=_t.extractKey,Ot=(_t.lowLevelIndex||_t).extractKey,Ut=Ut.reduce(function(Bt,Nt){var Vt=Bt,qt=[];if(Nt.type==="add"||Nt.type==="put")for(var Yt=new Dn,Qt=Nt.values.length-1;0<=Qt;--Qt){var Gt,rr=Nt.values[Qt],xr=Tt(rr);Yt.hasKey(xr)||(Gt=Lt(rr),(wt&&g(Gt)?Gt.some(function(Ar){return ws(Ar,Rt)}):ws(Gt,Rt))&&(Yt.addKey(xr),qt.push(rr)))}switch(Nt.type){case"add":Vt=Bt.concat(Le.values?qt:qt.map(function(lr){return Tt(lr)}));break;case"put":var Ir=new Dn().addKeys(Nt.values.map(function(lr){return Tt(lr)})),Vt=Bt.filter(function(lr){return!Ir.hasKey(Le.values?Tt(lr):lr)}).concat(Le.values?qt:qt.map(function(lr){return Tt(lr)}));break;case"delete":var hr=new Dn().addKeys(Nt.keys);Vt=Bt.filter(function(lr){return!hr.hasKey(Le.values?Tt(lr):lr)});break;case"deleteRange":var br=Nt.range;Vt=Bt.filter(function(lr){return!ws(Tt(lr),br)})}return Vt},Re);return Ut===Re?Re:(Ut.sort(function(Bt,Nt){return Xr(Ot(Bt),Ot(Nt))||Xr(Tt(Bt),Tt(Nt))}),Le.limit&&Le.limit<1/0&&(Ut.length>Le.limit?Ut.length=Le.limit:Re.length===Le.limit&&Ut.length<Le.limit&&($e.dirty=!0)),st?Object.freeze(Ut):Ut)}function R0(Re,Le){return Xr(Re.lower,Le.lower)===0&&Xr(Re.upper,Le.upper)===0&&!!Re.lowerOpen==!!Le.lowerOpen&&!!Re.upperOpen==!!Le.upperOpen}function vo(Re,Le){return function(ze,Qe,$e,st){if(ze===void 0)return Qe!==void 0?-1:0;if(Qe===void 0)return 1;if((Qe=Xr(ze,Qe))===0){if($e&&st)return 0;if($e)return 1;if(st)return-1}return Qe}(Re.lower,Le.lower,Re.lowerOpen,Le.lowerOpen)<=0&&0<=function(ze,Qe,$e,st){if(ze===void 0)return Qe!==void 0?1:0;if(Qe===void 0)return-1;if((Qe=Xr(ze,Qe))===0){if($e&&st)return 0;if($e)return-1;if(st)return 1}return Qe}(Re.upper,Le.upper,Re.upperOpen,Le.upperOpen)}function Hn(Re,Le,ze,Qe){Re.subscribers.add(ze),Qe.addEventListener("abort",function(){var $e,st;Re.subscribers.delete(ze),Re.subscribers.size===0&&($e=Re,st=Le,setTimeout(function(){$e.subscribers.size===0&&cr(st,$e)},3e3))})}var ki={stack:"dbcore",level:0,name:"Cache",create:function(Re){var Le=Re.schema.name;return i(i({},Re),{transaction:function(ze,Qe,$e){var st,_t,wt=Re.transaction(ze,Qe,$e);return Qe==="readwrite"&&(_t=(st=new AbortController).signal,$e=function(Rt){return function(){if(st.abort(),Qe==="readwrite"){for(var Tt=new Set,Lt=0,Ot=ze;Lt<Ot.length;Lt++){var Ut=Ot[Lt],Bt=ji["idb://".concat(Le,"/").concat(Ut)];if(Bt){var Nt=Re.table(Ut),Vt=Bt.optimisticOps.filter(function(pr){return pr.trans===wt});if(wt._explicit&&Rt&&wt.mutatedParts)for(var qt=0,Yt=Object.values(Bt.queries.query);qt<Yt.length;qt++)for(var Qt=0,Gt=(Ir=Yt[qt]).slice();Qt<Gt.length;Qt++)qn((hr=Gt[Qt]).obsSet,wt.mutatedParts)&&(cr(Ir,hr),hr.subscribers.forEach(function(pr){return Tt.add(pr)}));else if(0<Vt.length){Bt.optimisticOps=Bt.optimisticOps.filter(function(pr){return pr.trans!==wt});for(var rr=0,xr=Object.values(Bt.queries.query);rr<xr.length;rr++)for(var Ir,hr,br,Ar=0,lr=(Ir=xr[rr]).slice();Ar<lr.length;Ar++)(hr=lr[Ar]).res!=null&&wt.mutatedParts&&(Rt&&!hr.dirty?(br=Object.isFrozen(hr.res),br=ii(hr.res,hr.req,Vt,Nt,hr,br),hr.dirty?(cr(Ir,hr),hr.subscribers.forEach(function(pr){return Tt.add(pr)})):br!==hr.res&&(hr.res=br,hr.promise=wr.resolve({result:br}))):(hr.dirty&&cr(Ir,hr),hr.subscribers.forEach(function(pr){return Tt.add(pr)})))}}}Tt.forEach(function(pr){return pr()})}}},wt.addEventListener("abort",$e(!1),{signal:_t}),wt.addEventListener("error",$e(!1),{signal:_t}),wt.addEventListener("complete",$e(!0),{signal:_t})),wt},table:function(ze){var Qe=Re.table(ze),$e=Qe.schema.primaryKey;return i(i({},Qe),{mutate:function(st){var _t=Cr.trans;if($e.outbound||_t.db._options.cache==="disabled"||_t.explicit)return Qe.mutate(st);var wt=ji["idb://".concat(Le,"/").concat(ze)];return wt?(_t=Qe.mutate(st),st.type!=="add"&&st.type!=="put"||!(50<=st.values.length||po($e,st).some(function(Rt){return Rt==null}))?(wt.optimisticOps.push(st),st.mutatedParts&&lo(st.mutatedParts),_t.then(function(Rt){0<Rt.numFailures&&(cr(wt.optimisticOps,st),(Rt=D0(0,st,Rt))&&wt.optimisticOps.push(Rt),st.mutatedParts&&lo(st.mutatedParts))}),_t.catch(function(){cr(wt.optimisticOps,st),st.mutatedParts&&lo(st.mutatedParts)})):_t.then(function(Rt){var Tt=D0(0,i(i({},st),{values:st.values.map(function(Bt,Ot){var Ut,Bt=(Ut=$e.keyPath)!==null&&Ut!==void 0&&Ut.includes(".")?mt(Bt):i({},Bt);return tt(Bt,$e.keyPath,Rt.results[Ot]),Bt})}),Rt);wt.optimisticOps.push(Tt),queueMicrotask(function(){return st.mutatedParts&&lo(st.mutatedParts)})}),_t):Qe.mutate(st)},query:function(st){if(!bn(Cr,Qe)||!T0("query",st))return Qe.query(st);var _t=((Tt=Cr.trans)===null||Tt===void 0?void 0:Tt.db._options.cache)==="immutable",Ot=Cr,wt=Ot.requery,Rt=Ot.signal,Tt=function(Nt,Vt,qt,Yt){var Qt=ji["idb://".concat(Nt,"/").concat(Vt)];if(!Qt)return[];if(!(Vt=Qt.queries[qt]))return[null,!1,Qt,null];var Gt=Vt[(Yt.query?Yt.query.index.name:null)||""];if(!Gt)return[null,!1,Qt,null];switch(qt){case"query":var rr=Gt.find(function(xr){return xr.req.limit===Yt.limit&&xr.req.values===Yt.values&&R0(xr.req.query.range,Yt.query.range)});return rr?[rr,!0,Qt,Gt]:[Gt.find(function(xr){return("limit"in xr.req?xr.req.limit:1/0)>=Yt.limit&&(!Yt.values||xr.req.values)&&vo(xr.req.query.range,Yt.query.range)}),!1,Qt,Gt];case"count":return rr=Gt.find(function(xr){return R0(xr.req.query.range,Yt.query.range)}),[rr,!!rr,Qt,Gt]}}(Le,ze,"query",st),Lt=Tt[0],Ot=Tt[1],Ut=Tt[2],Bt=Tt[3];return Lt&&Ot?Lt.obsSet=st.obsSet:(Ot=Qe.query(st).then(function(Nt){var Vt=Nt.result;if(Lt&&(Lt.res=Vt),_t){for(var qt=0,Yt=Vt.length;qt<Yt;++qt)Object.freeze(Vt[qt]);Object.freeze(Vt)}else Nt.result=mt(Vt);return Nt}).catch(function(Nt){return Bt&&Lt&&cr(Bt,Lt),Promise.reject(Nt)}),Lt={obsSet:st.obsSet,promise:Ot,subscribers:new Set,type:"query",req:st,dirty:!1},Bt?Bt.push(Lt):(Bt=[Lt],(Ut=Ut||(ji["idb://".concat(Le,"/").concat(ze)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[st.query.index.name||""]=Bt)),Hn(Lt,Bt,wt,Rt),Lt.promise.then(function(Nt){return{result:ii(Nt.result,st,Ut==null?void 0:Ut.optimisticOps,Qe,Lt,_t)}})}})}})}};function ea(Re,Le){return new Proxy(Re,{get:function(ze,Qe,$e){return Qe==="db"?Le:Reflect.get(ze,Qe,$e)}})}var di=(mn.prototype.version=function(Re){if(isNaN(Re)||Re<.1)throw new lt.Type("Given version is not a positive number");if(Re=Math.round(10*Re)/10,this.idbdb||this._state.isBeingOpened)throw new lt.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,Re);var Le=this._versions,ze=Le.filter(function(Qe){return Qe._cfg.version===Re})[0];return ze||(ze=new this.Version(Re),Le.push(ze),Le.sort(S0),ze.stores({}),this._state.autoSchema=!1,ze)},mn.prototype._whenReady=function(Re){var Le=this;return this.idbdb&&(this._state.openComplete||Cr.letThrough||this._vip)?Re():new wr(function(ze,Qe){if(Le._state.openComplete)return Qe(new lt.DatabaseClosed(Le._state.dbOpenError));if(!Le._state.isBeingOpened){if(!Le._state.autoOpen)return void Qe(new lt.DatabaseClosed);Le.open().catch($t)}Le._state.dbReadyPromise.then(ze,Qe)}).then(Re)},mn.prototype.use=function(Re){var Le=Re.stack,ze=Re.create,Qe=Re.level,$e=Re.name;return $e&&this.unuse({stack:Le,name:$e}),Re=this._middlewares[Le]||(this._middlewares[Le]=[]),Re.push({stack:Le,create:ze,level:Qe??10,name:$e}),Re.sort(function(st,_t){return st.level-_t.level}),this},mn.prototype.unuse=function(Re){var Le=Re.stack,ze=Re.name,Qe=Re.create;return Le&&this._middlewares[Le]&&(this._middlewares[Le]=this._middlewares[Le].filter(function($e){return Qe?$e.create!==Qe:!!ze&&$e.name!==ze})),this},mn.prototype.open=function(){var Re=this;return hn(Qr,function(){return fo(Re)})},mn.prototype._close=function(){var Re=this._state,Le=Mi.indexOf(this);if(0<=Le&&Mi.splice(Le,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}Re.isBeingOpened||(Re.dbReadyPromise=new wr(function(ze){Re.dbReadyResolve=ze}),Re.openCanceller=new wr(function(ze,Qe){Re.cancelOpen=Qe}))},mn.prototype.close=function(ze){var Le=(ze===void 0?{disableAutoOpen:!0}:ze).disableAutoOpen,ze=this._state;Le?(ze.isBeingOpened&&ze.cancelOpen(new lt.DatabaseClosed),this._close(),ze.autoOpen=!1,ze.dbOpenError=new lt.DatabaseClosed):(this._close(),ze.autoOpen=this._options.autoOpen||ze.isBeingOpened,ze.openComplete=!1,ze.dbOpenError=null)},mn.prototype.delete=function(Re){var Le=this;Re===void 0&&(Re={disableAutoOpen:!0});var ze=0<arguments.length&&typeof arguments[0]!="object",Qe=this._state;return new wr(function($e,st){function _t(){Le.close(Re);var wt=Le._deps.indexedDB.deleteDatabase(Le.name);wt.onsuccess=Zr(function(){var Rt,Tt,Lt;Rt=Le._deps,Tt=Le.name,Lt=Rt.indexedDB,Rt=Rt.IDBKeyRange,so(Lt)||Tt===Qa||oo(Lt,Rt).delete(Tt).catch($t),$e()}),wt.onerror=ni(st),wt.onblocked=Le._fireOnBlocked}if(ze)throw new lt.InvalidArgument("Invalid closeOptions argument to db.delete()");Qe.isBeingOpened?Qe.dbReadyPromise.then(_t):_t()})},mn.prototype.backendDB=function(){return this.idbdb},mn.prototype.isOpen=function(){return this.idbdb!==null},mn.prototype.hasBeenClosed=function(){var Re=this._state.dbOpenError;return Re&&Re.name==="DatabaseClosed"},mn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},mn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(mn.prototype,"tables",{get:function(){var Re=this;return m(this._allTables).map(function(Le){return Re._allTables[Le]})},enumerable:!1,configurable:!0}),mn.prototype.transaction=function(){var Re=(function(Le,ze,Qe){var $e=arguments.length;if($e<2)throw new lt.InvalidArgument("Too few arguments");for(var st=new Array($e-1);--$e;)st[$e-1]=arguments[$e];return Qe=st.pop(),[Le,rt(st),Qe]}).apply(this,arguments);return this._transaction.apply(this,Re)},mn.prototype._transaction=function(Re,Le,ze){var Qe=this,$e=Cr.trans;$e&&$e.db===this&&Re.indexOf("!")===-1||($e=null);var st,_t,wt=Re.indexOf("?")!==-1;Re=Re.replace("!","").replace("?","");try{if(_t=Le.map(function(Tt){if(Tt=Tt instanceof Qe.Table?Tt.name:Tt,typeof Tt!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Tt}),Re=="r"||Re===as)st=as;else{if(Re!="rw"&&Re!=ss)throw new lt.InvalidArgument("Invalid transaction mode: "+Re);st=ss}if($e){if($e.mode===as&&st===ss){if(!wt)throw new lt.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");$e=null}$e&&_t.forEach(function(Tt){if($e&&$e.storeNames.indexOf(Tt)===-1){if(!wt)throw new lt.SubTransaction("Table "+Tt+" not included in parent transaction.");$e=null}}),wt&&$e&&!$e.active&&($e=null)}}catch(Tt){return $e?$e._promise(null,function(Lt,Ot){Ot(Tt)}):vn(Tt)}var Rt=(function Tt(Lt,Ot,Ut,Bt,Nt){return wr.resolve().then(function(){var Vt=Cr.transless||Cr,qt=Lt._createTransaction(Ot,Ut,Lt._dbSchema,Bt);if(qt.explicit=!0,Vt={trans:qt,transless:Vt},Bt)qt.idbtrans=Bt.idbtrans;else try{qt.create(),qt.idbtrans._explicit=!0,Lt._state.PR1398_maxLoop=3}catch(Gt){return Gt.name===Rr.InvalidState&&Lt.isOpen()&&0<--Lt._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Lt.close({disableAutoOpen:!1}),Lt.open().then(function(){return Tt(Lt,Ot,Ut,null,Nt)})):vn(Gt)}var Yt,Qt=ct(Nt);return Qt&&wn(),Vt=wr.follow(function(){var Gt;(Yt=Nt.call(qt,qt))&&(Qt?(Gt=xn.bind(null,null),Yt.then(Gt,Gt)):typeof Yt.next=="function"&&typeof Yt.throw=="function"&&(Yt=_n(Yt)))},Vt),(Yt&&typeof Yt.then=="function"?wr.resolve(Yt).then(function(Gt){return qt.active?Gt:vn(new lt.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Vt.then(function(){return Yt})).then(function(Gt){return Bt&&qt._resolve(),qt._completion.then(function(){return Gt})}).catch(function(Gt){return qt._reject(Gt),vn(Gt)})})}).bind(null,this,st,_t,$e,ze);return $e?$e._promise(st,Rt,"lock"):Cr.trans?hn(Cr.transless,function(){return Qe._whenReady(Rt)}):this._whenReady(Rt)},mn.prototype.table=function(Re){if(!ne(this._allTables,Re))throw new lt.InvalidTable("Table ".concat(Re," does not exist"));return this._allTables[Re]},mn);function mn(Re,Le){var ze=this;this._middlewares={},this.verno=0;var Qe=mn.dependencies;this._options=Le=i({addons:mn.addons,autoOpen:!0,indexedDB:Qe.indexedDB,IDBKeyRange:Qe.IDBKeyRange,cache:"cloned"},Le),this._deps={indexedDB:Le.indexedDB,IDBKeyRange:Le.IDBKeyRange},Qe=Le.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var $e,st,_t,wt,Rt,Tt={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:$t,dbReadyPromise:null,cancelOpen:$t,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:Le.autoOpen};Tt.dbReadyPromise=new wr(function(Ot){Tt.dbReadyResolve=Ot}),Tt.openCanceller=new wr(function(Ot,Ut){Tt.cancelOpen=Ut}),this._state=Tt,this.name=Re,this.on=_a(this,"populate","blocked","versionchange","close",{ready:[er,$t]}),this.on.ready.subscribe=We(this.on.ready.subscribe,function(Ot){return function(Ut,Bt){mn.vip(function(){var Nt,Vt=ze._state;Vt.openComplete?(Vt.dbOpenError||wr.resolve().then(Ut),Bt&&Ot(Ut)):Vt.onReadyBeingFired?(Vt.onReadyBeingFired.push(Ut),Bt&&Ot(Ut)):(Ot(Ut),Nt=ze,Bt||Ot(function qt(){Nt.on.ready.unsubscribe(Ut),Nt.on.ready.unsubscribe(qt)}))})}}),this.Collection=($e=this,va(Kc.prototype,function(Yt,qt){this.db=$e;var Bt=x0,Nt=null;if(qt)try{Bt=qt()}catch(Qt){Nt=Qt}var Vt=Yt._ctx,qt=Vt.table,Yt=qt.hook.reading.fire;this._ctx={table:qt,index:Vt.index,isPrimKey:!Vt.index||qt.schema.primKey.keyPath&&Vt.index===qt.schema.primKey.name,range:Bt,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Nt,or:Vt.or,valueMapper:Yt!==dr?Yt:null}})),this.Table=(st=this,va(v0.prototype,function(Ot,Ut,Bt){this.db=st,this._tx=Bt,this.name=Ot,this.schema=Ut,this.hook=st._allTables[Ot]?st._allTables[Ot].hook:_a(null,{creating:[Wt,$t],reading:[Je,dr],updating:[pt,$t],deleting:[xt,$t]})})),this.Transaction=(_t=this,va(Qc.prototype,function(Ot,Ut,Bt,Nt,Vt){var qt=this;this.db=_t,this.mode=Ot,this.storeNames=Ut,this.schema=Bt,this.chromeTransactionDurability=Nt,this.idbtrans=null,this.on=_a(this,"complete","error","abort"),this.parent=Vt||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new wr(function(Yt,Qt){qt._resolve=Yt,qt._reject=Qt}),this._completion.then(function(){qt.active=!1,qt.on.complete.fire()},function(Yt){var Qt=qt.active;return qt.active=!1,qt.on.error.fire(Yt),qt.parent?qt.parent._reject(Yt):Qt&&qt.idbtrans&&qt.idbtrans.abort(),vn(Yt)})})),this.Version=(wt=this,va(eu.prototype,function(Ot){this.db=wt,this._cfg={version:Ot,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(Rt=this,va(b0.prototype,function(Ot,Ut,Bt){if(this.db=Rt,this._ctx={table:Ot,index:Ut===":id"?null:Ut,or:Bt},this._cmp=this._ascending=Xr,this._descending=function(Nt,Vt){return Xr(Vt,Nt)},this._max=function(Nt,Vt){return 0<Xr(Nt,Vt)?Nt:Vt},this._min=function(Nt,Vt){return Xr(Nt,Vt)<0?Nt:Vt},this._IDBKeyRange=Rt._deps.IDBKeyRange,!this._IDBKeyRange)throw new lt.MissingAPI})),this.on("versionchange",function(Ot){0<Ot.newVersion?console.warn("Another connection wants to upgrade database '".concat(ze.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(ze.name,"'. Closing db now to resume the delete request.")),ze.close({disableAutoOpen:!1})}),this.on("blocked",function(Ot){!Ot.newVersion||Ot.newVersion<Ot.oldVersion?console.warn("Dexie.delete('".concat(ze.name,"') was blocked")):console.warn("Upgrade '".concat(ze.name,"' blocked by other connection holding version ").concat(Ot.oldVersion/10))}),this._maxKey=ya(Le.IDBKeyRange),this._createTransaction=function(Ot,Ut,Bt,Nt){return new ze.Transaction(Ot,Ut,Bt,ze._options.chromeTransactionDurability,Nt)},this._fireOnBlocked=function(Ot){ze.on("blocked").fire(Ot),Mi.filter(function(Ut){return Ut.name===ze.name&&Ut!==ze&&!Ut._state.vcFired}).map(function(Ut){return Ut.on("versionchange").fire(Ot)})},this.use(_o),this.use(ki),this.use(Es),this.use(ho),this.use(tu);var Lt=new Proxy(this,{get:function(Ot,Ut,Bt){if(Ut==="_vip")return!0;if(Ut==="table")return function(Vt){return ea(ze.table(Vt),Lt)};var Nt=Reflect.get(Ot,Ut,Bt);return Nt instanceof v0?ea(Nt,Lt):Ut==="tables"?Nt.map(function(Vt){return ea(Vt,Lt)}):Ut==="_createTransaction"?function(){return ea(Nt.apply(this,arguments),Lt)}:Nt}});this.vip=Lt,Qe.forEach(function(Ot){return Ot(ze)})}var Nn,tn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",yi=(mo.prototype.subscribe=function(Re,Le,ze){return this._subscribe(Re&&typeof Re!="function"?Re:{next:Re,error:Le,complete:ze})},mo.prototype[tn]=function(){return this},mo);function mo(Re){this._subscribe=Re}try{Nn={indexedDB:f.indexedDB||f.mozIndexedDB||f.webkitIndexedDB||f.msIndexedDB,IDBKeyRange:f.IDBKeyRange||f.webkitIDBKeyRange}}catch{Nn={indexedDB:null,IDBKeyRange:null}}function Ss(Re){var Le,ze=!1,Qe=new yi(function($e){var st=ct(Re),_t,wt=!1,Rt={},Tt={},Lt={get closed(){return wt},unsubscribe:function(){wt||(wt=!0,_t&&_t.abort(),Ot&&Ii.storagemutated.unsubscribe(Bt))}};$e.start&&$e.start(Lt);var Ot=!1,Ut=function(){return zn(Nt)},Bt=function(Vt){Ui(Rt,Vt),qn(Tt,Rt)&&Ut()},Nt=function(){var Vt,qt,Yt;!wt&&Nn.indexedDB&&(Rt={},Vt={},_t&&_t.abort(),_t=new AbortController,Yt=function(Qt){var Gt=Tr();try{st&&wn();var rr=dn(Re,Qt);return rr=st?rr.finally(xn):rr}finally{Gt&&un()}}(qt={subscr:Vt,signal:_t.signal,requery:Ut,querier:Re,trans:null}),Promise.resolve(Yt).then(function(Qt){ze=!0,Le=Qt,wt||qt.signal.aborted||(Rt={},function(Gt){for(var rr in Gt)if(ne(Gt,rr))return;return 1}(Tt=Vt)||Ot||(Ii(ga,Bt),Ot=!0),zn(function(){return!wt&&$e.next&&$e.next(Qt)}))},function(Qt){ze=!1,["DatabaseClosedError","AbortError"].includes(Qt==null?void 0:Qt.name)||wt||zn(function(){wt||$e.error&&$e.error(Qt)})}))};return setTimeout(Ut,0),Lt});return Qe.hasValue=function(){return ze},Qe.getValue=function(){return Le},Qe}var Oi=di;function As(Re){var Le=Kn;try{Kn=!0,Ii.storagemutated.fire(Re),kn(Re,!0)}finally{Kn=Le}}De(Oi,i(i({},Xt),{delete:function(Re){return new Oi(Re,{addons:[]}).delete()},exists:function(Re){return new Oi(Re,{addons:[]}).open().then(function(Le){return Le.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(Re){try{return Le=Oi.dependencies,ze=Le.indexedDB,Le=Le.IDBKeyRange,(so(ze)?Promise.resolve(ze.databases()).then(function(Qe){return Qe.map(function($e){return $e.name}).filter(function($e){return $e!==Qa})}):oo(ze,Le).toCollection().primaryKeys()).then(Re)}catch{return vn(new lt.MissingAPI)}var Le,ze},defineClass:function(){return function(Re){Te(this,Re)}},ignoreTransaction:function(Re){return Cr.trans?hn(Cr.transless,Re):Re()},vip:co,async:function(Re){return function(){try{var Le=_n(Re.apply(this,arguments));return Le&&typeof Le.then=="function"?Le:wr.resolve(Le)}catch(ze){return vn(ze)}}},spawn:function(Re,Le,ze){try{var Qe=_n(Re.apply(ze,Le||[]));return Qe&&typeof Qe.then=="function"?Qe:wr.resolve(Qe)}catch($e){return vn($e)}},currentTransaction:{get:function(){return Cr.trans||null}},waitFor:function(Re,Le){return Le=wr.resolve(typeof Re=="function"?Oi.ignoreTransaction(Re):Re).timeout(Le||6e4),Cr.trans?Cr.trans.waitFor(Le):Le},Promise:wr,debug:{get:function(){return nt},set:function(Re){je(Re)}},derive:Fe,extend:Te,props:De,override:We,Events:_a,on:Ii,liveQuery:Ss,extendObservabilitySet:Ui,getByKeyPath:ot,setByKeyPath:tt,delByKeyPath:function(Re,Le){typeof Le=="string"?tt(Re,Le,void 0):"length"in Le&&[].map.call(Le,function(ze){tt(Re,ze,void 0)})},shallowClone:gt,deepClone:mt,getObjectDiff:Ci,cmp:Xr,asap:Xe,minKey:-1/0,addons:[],connections:Mi,errnames:Rr,dependencies:Nn,cache:ji,semVer:"4.0.8",version:"4.0.8".split(".").map(function(Re){return parseInt(Re)}).reduce(function(Re,Le,ze){return Re+Le/Math.pow(10,2*ze)})})),Oi.maxKey=ya(Oi.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Ii(ga,function(Re){Kn||(Re=new CustomEvent(ds,{detail:Re}),Kn=!0,dispatchEvent(Re),Kn=!1)}),addEventListener(ds,function(Re){Re=Re.detail,Kn||As(Re)}));var Jn,Kn=!1,go=function(){};return typeof BroadcastChannel<"u"&&((go=function(){(Jn=new BroadcastChannel(ds)).onmessage=function(Re){return Re.data&&As(Re.data)}})(),typeof Jn.unref=="function"&&Jn.unref(),Ii(ga,function(Re){Kn||Jn.postMessage(Re)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(Re){if(!di.disableBfCache&&Re.persisted){nt&&console.debug("Dexie: handling persisted pagehide"),Jn!=null&&Jn.close();for(var Le=0,ze=Mi;Le<ze.length;Le++)ze[Le].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(Re){!di.disableBfCache&&Re.persisted&&(nt&&console.debug("Dexie: handling persisted pageshow"),go(),As({all:new Dn(-1/0,[[]])}))})),wr.rejectionMapper=function(Re,Le){return!Re||Re instanceof Pt||Re instanceof TypeError||Re instanceof SyntaxError||!Re.name||!yt[Re.name]?Re:(Le=new yt[Re.name](Le||Re.message,Re),"stack"in Re&&Be(Le,"stack",{get:function(){return this.inner.stack}}),Le)},je(nt),i(di,Object.freeze({__proto__:null,Dexie:di,liveQuery:Ss,Entity:h0,cmp:Xr,PropModSymbol:mi,PropModification:ma,replacePrefix:function(Re,Le){return new ma({replacePrefix:[Re,Le]})},add:function(Re){return new ma({add:Re})},remove:function(Re){return new ma({remove:Re})},default:di,RangeSet:Dn,mergeRanges:Aa,rangesOverlap:C0}),{default:di}),di})})(dexie_min);var dexie_minExports=dexie_min.exports;const _Dexie=getDefaultExportFromCjs$1(dexie_minExports),DexieSymbol=Symbol.for("Dexie"),Dexie=globalThis[DexieSymbol]||(globalThis[DexieSymbol]=_Dexie);if(_Dexie.semVer!==Dexie.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${_Dexie.semVer} and ${Dexie.semVer}`);var cryptoJs={exports:{}};function commonjsRequire(h){throw new Error('Could not dynamically require "'+h+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var core={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredCore;function requireCore(){return hasRequiredCore||(hasRequiredCore=1,function(h,o){(function(e,i){h.exports=i()})(commonjsGlobal$1,function(){var e=e||function(i,c){var f;if(typeof window<"u"&&window.crypto&&(f=window.crypto),typeof self<"u"&&self.crypto&&(f=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(f=globalThis.crypto),!f&&typeof window<"u"&&window.msCrypto&&(f=window.msCrypto),!f&&typeof commonjsGlobal$1<"u"&&commonjsGlobal$1.crypto&&(f=commonjsGlobal$1.crypto),!f&&typeof commonjsRequire=="function")try{f=require$$0}catch{}var m=function(){if(f){if(typeof f.getRandomValues=="function")try{return f.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof f.randomBytes=="function")try{return f.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},g=Object.create||function(){function Ue(){}return function(We){var He;return Ue.prototype=We,He=new Ue,Ue.prototype=null,He}}(),Te={},Ie=Te.lib={},Oe=Ie.Base=function(){return{extend:function(Ue){var We=g(this);return Ue&&We.mixIn(Ue),(!We.hasOwnProperty("init")||this.init===We.init)&&(We.init=function(){We.$super.init.apply(this,arguments)}),We.init.prototype=We,We.$super=this,We},create:function(){var Ue=this.extend();return Ue.init.apply(Ue,arguments),Ue},init:function(){},mixIn:function(Ue){for(var We in Ue)Ue.hasOwnProperty(We)&&(this[We]=Ue[We]);Ue.hasOwnProperty("toString")&&(this.toString=Ue.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),ne=Ie.WordArray=Oe.extend({init:function(Ue,We){Ue=this.words=Ue||[],We!=c?this.sigBytes=We:this.sigBytes=Ue.length*4},toString:function(Ue){return(Ue||Ee).stringify(this)},concat:function(Ue){var We=this.words,He=Ue.words,Xe=this.sigBytes,ot=Ue.sigBytes;if(this.clamp(),Xe%4)for(var tt=0;tt<ot;tt++){var gt=He[tt>>>2]>>>24-tt%4*8&255;We[Xe+tt>>>2]|=gt<<24-(Xe+tt)%4*8}else for(var vt=0;vt<ot;vt+=4)We[Xe+vt>>>2]=He[vt>>>2];return this.sigBytes+=ot,this},clamp:function(){var Ue=this.words,We=this.sigBytes;Ue[We>>>2]&=4294967295<<32-We%4*8,Ue.length=i.ceil(We/4)},clone:function(){var Ue=Oe.clone.call(this);return Ue.words=this.words.slice(0),Ue},random:function(Ue){for(var We=[],He=0;He<Ue;He+=4)We.push(m());return new ne.init(We,Ue)}}),De=Te.enc={},Ee=De.Hex={stringify:function(Ue){for(var We=Ue.words,He=Ue.sigBytes,Xe=[],ot=0;ot<He;ot++){var tt=We[ot>>>2]>>>24-ot%4*8&255;Xe.push((tt>>>4).toString(16)),Xe.push((tt&15).toString(16))}return Xe.join("")},parse:function(Ue){for(var We=Ue.length,He=[],Xe=0;Xe<We;Xe+=2)He[Xe>>>3]|=parseInt(Ue.substr(Xe,2),16)<<24-Xe%8*4;return new ne.init(He,We/2)}},Be=De.Latin1={stringify:function(Ue){for(var We=Ue.words,He=Ue.sigBytes,Xe=[],ot=0;ot<He;ot++){var tt=We[ot>>>2]>>>24-ot%4*8&255;Xe.push(String.fromCharCode(tt))}return Xe.join("")},parse:function(Ue){for(var We=Ue.length,He=[],Xe=0;Xe<We;Xe++)He[Xe>>>2]|=(Ue.charCodeAt(Xe)&255)<<24-Xe%4*8;return new ne.init(He,We)}},Fe=De.Utf8={stringify:function(Ue){try{return decodeURIComponent(escape(Be.stringify(Ue)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(Ue){return Be.parse(unescape(encodeURIComponent(Ue)))}},Ne=Ie.BufferedBlockAlgorithm=Oe.extend({reset:function(){this._data=new ne.init,this._nDataBytes=0},_append:function(Ue){typeof Ue=="string"&&(Ue=Fe.parse(Ue)),this._data.concat(Ue),this._nDataBytes+=Ue.sigBytes},_process:function(Ue){var We,He=this._data,Xe=He.words,ot=He.sigBytes,tt=this.blockSize,gt=tt*4,vt=ot/gt;Ue?vt=i.ceil(vt):vt=i.max((vt|0)-this._minBufferSize,0);var rt=vt*tt,ht=i.min(rt*4,ot);if(rt){for(var it=0;it<rt;it+=tt)this._doProcessBlock(Xe,it);We=Xe.splice(0,rt),He.sigBytes-=ht}return new ne.init(We,ht)},clone:function(){var Ue=Oe.clone.call(this);return Ue._data=this._data.clone(),Ue},_minBufferSize:0});Ie.Hasher=Ne.extend({cfg:Oe.extend(),init:function(Ue){this.cfg=this.cfg.extend(Ue),this.reset()},reset:function(){Ne.reset.call(this),this._doReset()},update:function(Ue){return this._append(Ue),this._process(),this},finalize:function(Ue){Ue&&this._append(Ue);var We=this._doFinalize();return We},blockSize:16,_createHelper:function(Ue){return function(We,He){return new Ue.init(He).finalize(We)}},_createHmacHelper:function(Ue){return function(We,He){return new Ve.HMAC.init(Ue,He).finalize(We)}}});var Ve=Te.algo={};return Te}(Math);return e})}(core)),core.exports}var x64Core={exports:{}},hasRequiredX64Core;function requireX64Core(){return hasRequiredX64Core||(hasRequiredX64Core=1,function(h,o){(function(e,i){h.exports=i(requireCore())})(commonjsGlobal$1,function(e){return function(i){var c=e,f=c.lib,m=f.Base,g=f.WordArray,Te=c.x64={};Te.Word=m.extend({init:function(Ie,Oe){this.high=Ie,this.low=Oe}}),Te.WordArray=m.extend({init:function(Ie,Oe){Ie=this.words=Ie||[],Oe!=i?this.sigBytes=Oe:this.sigBytes=Ie.length*8},toX32:function(){for(var Ie=this.words,Oe=Ie.length,ne=[],De=0;De<Oe;De++){var Ee=Ie[De];ne.push(Ee.high),ne.push(Ee.low)}return g.create(ne,this.sigBytes)},clone:function(){for(var Ie=m.clone.call(this),Oe=Ie.words=this.words.slice(0),ne=Oe.length,De=0;De<ne;De++)Oe[De]=Oe[De].clone();return Ie}})}(),e})}(x64Core)),x64Core.exports}var libTypedarrays={exports:{}},hasRequiredLibTypedarrays;function requireLibTypedarrays(){return hasRequiredLibTypedarrays||(hasRequiredLibTypedarrays=1,function(h,o){(function(e,i){h.exports=i(requireCore())})(commonjsGlobal$1,function(e){return function(){if(typeof ArrayBuffer=="function"){var i=e,c=i.lib,f=c.WordArray,m=f.init,g=f.init=function(Te){if(Te instanceof ArrayBuffer&&(Te=new Uint8Array(Te)),(Te instanceof Int8Array||typeof Uint8ClampedArray<"u"&&Te instanceof Uint8ClampedArray||Te instanceof Int16Array||Te instanceof Uint16Array||Te instanceof Int32Array||Te instanceof Uint32Array||Te instanceof Float32Array||Te instanceof Float64Array)&&(Te=new Uint8Array(Te.buffer,Te.byteOffset,Te.byteLength)),Te instanceof Uint8Array){for(var Ie=Te.byteLength,Oe=[],ne=0;ne<Ie;ne++)Oe[ne>>>2]|=Te[ne]<<24-ne%4*8;m.call(this,Oe,Ie)}else m.apply(this,arguments)};g.prototype=f}}(),e.lib.WordArray})}(libTypedarrays)),libTypedarrays.exports}var encUtf16={exports:{}},hasRequiredEncUtf16;function requireEncUtf16(){return hasRequiredEncUtf16||(hasRequiredEncUtf16=1,function(h,o){(function(e,i){h.exports=i(requireCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.WordArray,m=i.enc;m.Utf16=m.Utf16BE={stringify:function(Te){for(var Ie=Te.words,Oe=Te.sigBytes,ne=[],De=0;De<Oe;De+=2){var Ee=Ie[De>>>2]>>>16-De%4*8&65535;ne.push(String.fromCharCode(Ee))}return ne.join("")},parse:function(Te){for(var Ie=Te.length,Oe=[],ne=0;ne<Ie;ne++)Oe[ne>>>1]|=Te.charCodeAt(ne)<<16-ne%2*16;return f.create(Oe,Ie*2)}},m.Utf16LE={stringify:function(Te){for(var Ie=Te.words,Oe=Te.sigBytes,ne=[],De=0;De<Oe;De+=2){var Ee=g(Ie[De>>>2]>>>16-De%4*8&65535);ne.push(String.fromCharCode(Ee))}return ne.join("")},parse:function(Te){for(var Ie=Te.length,Oe=[],ne=0;ne<Ie;ne++)Oe[ne>>>1]|=g(Te.charCodeAt(ne)<<16-ne%2*16);return f.create(Oe,Ie*2)}};function g(Te){return Te<<8&4278255360|Te>>>8&16711935}}(),e.enc.Utf16})}(encUtf16)),encUtf16.exports}var encBase64={exports:{}},hasRequiredEncBase64;function requireEncBase64(){return hasRequiredEncBase64||(hasRequiredEncBase64=1,function(h,o){(function(e,i){h.exports=i(requireCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.WordArray,m=i.enc;m.Base64={stringify:function(Te){var Ie=Te.words,Oe=Te.sigBytes,ne=this._map;Te.clamp();for(var De=[],Ee=0;Ee<Oe;Ee+=3)for(var Be=Ie[Ee>>>2]>>>24-Ee%4*8&255,Fe=Ie[Ee+1>>>2]>>>24-(Ee+1)%4*8&255,Ne=Ie[Ee+2>>>2]>>>24-(Ee+2)%4*8&255,Ve=Be<<16|Fe<<8|Ne,Ue=0;Ue<4&&Ee+Ue*.75<Oe;Ue++)De.push(ne.charAt(Ve>>>6*(3-Ue)&63));var We=ne.charAt(64);if(We)for(;De.length%4;)De.push(We);return De.join("")},parse:function(Te){var Ie=Te.length,Oe=this._map,ne=this._reverseMap;if(!ne){ne=this._reverseMap=[];for(var De=0;De<Oe.length;De++)ne[Oe.charCodeAt(De)]=De}var Ee=Oe.charAt(64);if(Ee){var Be=Te.indexOf(Ee);Be!==-1&&(Ie=Be)}return g(Te,Ie,ne)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function g(Te,Ie,Oe){for(var ne=[],De=0,Ee=0;Ee<Ie;Ee++)if(Ee%4){var Be=Oe[Te.charCodeAt(Ee-1)]<<Ee%4*2,Fe=Oe[Te.charCodeAt(Ee)]>>>6-Ee%4*2,Ne=Be|Fe;ne[De>>>2]|=Ne<<24-De%4*8,De++}return f.create(ne,De)}}(),e.enc.Base64})}(encBase64)),encBase64.exports}var encBase64url={exports:{}},hasRequiredEncBase64url;function requireEncBase64url(){return hasRequiredEncBase64url||(hasRequiredEncBase64url=1,function(h,o){(function(e,i){h.exports=i(requireCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.WordArray,m=i.enc;m.Base64url={stringify:function(Te,Ie){Ie===void 0&&(Ie=!0);var Oe=Te.words,ne=Te.sigBytes,De=Ie?this._safe_map:this._map;Te.clamp();for(var Ee=[],Be=0;Be<ne;Be+=3)for(var Fe=Oe[Be>>>2]>>>24-Be%4*8&255,Ne=Oe[Be+1>>>2]>>>24-(Be+1)%4*8&255,Ve=Oe[Be+2>>>2]>>>24-(Be+2)%4*8&255,Ue=Fe<<16|Ne<<8|Ve,We=0;We<4&&Be+We*.75<ne;We++)Ee.push(De.charAt(Ue>>>6*(3-We)&63));var He=De.charAt(64);if(He)for(;Ee.length%4;)Ee.push(He);return Ee.join("")},parse:function(Te,Ie){Ie===void 0&&(Ie=!0);var Oe=Te.length,ne=Ie?this._safe_map:this._map,De=this._reverseMap;if(!De){De=this._reverseMap=[];for(var Ee=0;Ee<ne.length;Ee++)De[ne.charCodeAt(Ee)]=Ee}var Be=ne.charAt(64);if(Be){var Fe=Te.indexOf(Be);Fe!==-1&&(Oe=Fe)}return g(Te,Oe,De)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function g(Te,Ie,Oe){for(var ne=[],De=0,Ee=0;Ee<Ie;Ee++)if(Ee%4){var Be=Oe[Te.charCodeAt(Ee-1)]<<Ee%4*2,Fe=Oe[Te.charCodeAt(Ee)]>>>6-Ee%4*2,Ne=Be|Fe;ne[De>>>2]|=Ne<<24-De%4*8,De++}return f.create(ne,De)}}(),e.enc.Base64url})}(encBase64url)),encBase64url.exports}var md5={exports:{}},hasRequiredMd5;function requireMd5(){return hasRequiredMd5||(hasRequiredMd5=1,function(h,o){(function(e,i){h.exports=i(requireCore())})(commonjsGlobal$1,function(e){return function(i){var c=e,f=c.lib,m=f.WordArray,g=f.Hasher,Te=c.algo,Ie=[];(function(){for(var Fe=0;Fe<64;Fe++)Ie[Fe]=i.abs(i.sin(Fe+1))*4294967296|0})();var Oe=Te.MD5=g.extend({_doReset:function(){this._hash=new m.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(Fe,Ne){for(var Ve=0;Ve<16;Ve++){var Ue=Ne+Ve,We=Fe[Ue];Fe[Ue]=(We<<8|We>>>24)&16711935|(We<<24|We>>>8)&4278255360}var He=this._hash.words,Xe=Fe[Ne+0],ot=Fe[Ne+1],tt=Fe[Ne+2],gt=Fe[Ne+3],vt=Fe[Ne+4],rt=Fe[Ne+5],ht=Fe[Ne+6],it=Fe[Ne+7],mt=Fe[Ne+8],Ze=Fe[Ne+9],Ft=Fe[Ne+10],Zt=Fe[Ne+11],jt=Fe[Ne+12],cr=Fe[Ne+13],bt=Fe[Ne+14],St=Fe[Ne+15],ct=He[0],dt=He[1],Pt=He[2],Ct=He[3];ct=ne(ct,dt,Pt,Ct,Xe,7,Ie[0]),Ct=ne(Ct,ct,dt,Pt,ot,12,Ie[1]),Pt=ne(Pt,Ct,ct,dt,tt,17,Ie[2]),dt=ne(dt,Pt,Ct,ct,gt,22,Ie[3]),ct=ne(ct,dt,Pt,Ct,vt,7,Ie[4]),Ct=ne(Ct,ct,dt,Pt,rt,12,Ie[5]),Pt=ne(Pt,Ct,ct,dt,ht,17,Ie[6]),dt=ne(dt,Pt,Ct,ct,it,22,Ie[7]),ct=ne(ct,dt,Pt,Ct,mt,7,Ie[8]),Ct=ne(Ct,ct,dt,Pt,Ze,12,Ie[9]),Pt=ne(Pt,Ct,ct,dt,Ft,17,Ie[10]),dt=ne(dt,Pt,Ct,ct,Zt,22,Ie[11]),ct=ne(ct,dt,Pt,Ct,jt,7,Ie[12]),Ct=ne(Ct,ct,dt,Pt,cr,12,Ie[13]),Pt=ne(Pt,Ct,ct,dt,bt,17,Ie[14]),dt=ne(dt,Pt,Ct,ct,St,22,Ie[15]),ct=De(ct,dt,Pt,Ct,ot,5,Ie[16]),Ct=De(Ct,ct,dt,Pt,ht,9,Ie[17]),Pt=De(Pt,Ct,ct,dt,Zt,14,Ie[18]),dt=De(dt,Pt,Ct,ct,Xe,20,Ie[19]),ct=De(ct,dt,Pt,Ct,rt,5,Ie[20]),Ct=De(Ct,ct,dt,Pt,Ft,9,Ie[21]),Pt=De(Pt,Ct,ct,dt,St,14,Ie[22]),dt=De(dt,Pt,Ct,ct,vt,20,Ie[23]),ct=De(ct,dt,Pt,Ct,Ze,5,Ie[24]),Ct=De(Ct,ct,dt,Pt,bt,9,Ie[25]),Pt=De(Pt,Ct,ct,dt,gt,14,Ie[26]),dt=De(dt,Pt,Ct,ct,mt,20,Ie[27]),ct=De(ct,dt,Pt,Ct,cr,5,Ie[28]),Ct=De(Ct,ct,dt,Pt,tt,9,Ie[29]),Pt=De(Pt,Ct,ct,dt,it,14,Ie[30]),dt=De(dt,Pt,Ct,ct,jt,20,Ie[31]),ct=Ee(ct,dt,Pt,Ct,rt,4,Ie[32]),Ct=Ee(Ct,ct,dt,Pt,mt,11,Ie[33]),Pt=Ee(Pt,Ct,ct,dt,Zt,16,Ie[34]),dt=Ee(dt,Pt,Ct,ct,bt,23,Ie[35]),ct=Ee(ct,dt,Pt,Ct,ot,4,Ie[36]),Ct=Ee(Ct,ct,dt,Pt,vt,11,Ie[37]),Pt=Ee(Pt,Ct,ct,dt,it,16,Ie[38]),dt=Ee(dt,Pt,Ct,ct,Ft,23,Ie[39]),ct=Ee(ct,dt,Pt,Ct,cr,4,Ie[40]),Ct=Ee(Ct,ct,dt,Pt,Xe,11,Ie[41]),Pt=Ee(Pt,Ct,ct,dt,gt,16,Ie[42]),dt=Ee(dt,Pt,Ct,ct,ht,23,Ie[43]),ct=Ee(ct,dt,Pt,Ct,Ze,4,Ie[44]),Ct=Ee(Ct,ct,dt,Pt,jt,11,Ie[45]),Pt=Ee(Pt,Ct,ct,dt,St,16,Ie[46]),dt=Ee(dt,Pt,Ct,ct,tt,23,Ie[47]),ct=Be(ct,dt,Pt,Ct,Xe,6,Ie[48]),Ct=Be(Ct,ct,dt,Pt,it,10,Ie[49]),Pt=Be(Pt,Ct,ct,dt,bt,15,Ie[50]),dt=Be(dt,Pt,Ct,ct,rt,21,Ie[51]),ct=Be(ct,dt,Pt,Ct,jt,6,Ie[52]),Ct=Be(Ct,ct,dt,Pt,gt,10,Ie[53]),Pt=Be(Pt,Ct,ct,dt,Ft,15,Ie[54]),dt=Be(dt,Pt,Ct,ct,ot,21,Ie[55]),ct=Be(ct,dt,Pt,Ct,mt,6,Ie[56]),Ct=Be(Ct,ct,dt,Pt,St,10,Ie[57]),Pt=Be(Pt,Ct,ct,dt,ht,15,Ie[58]),dt=Be(dt,Pt,Ct,ct,cr,21,Ie[59]),ct=Be(ct,dt,Pt,Ct,vt,6,Ie[60]),Ct=Be(Ct,ct,dt,Pt,Zt,10,Ie[61]),Pt=Be(Pt,Ct,ct,dt,tt,15,Ie[62]),dt=Be(dt,Pt,Ct,ct,Ze,21,Ie[63]),He[0]=He[0]+ct|0,He[1]=He[1]+dt|0,He[2]=He[2]+Pt|0,He[3]=He[3]+Ct|0},_doFinalize:function(){var Fe=this._data,Ne=Fe.words,Ve=this._nDataBytes*8,Ue=Fe.sigBytes*8;Ne[Ue>>>5]|=128<<24-Ue%32;var We=i.floor(Ve/4294967296),He=Ve;Ne[(Ue+64>>>9<<4)+15]=(We<<8|We>>>24)&16711935|(We<<24|We>>>8)&4278255360,Ne[(Ue+64>>>9<<4)+14]=(He<<8|He>>>24)&16711935|(He<<24|He>>>8)&4278255360,Fe.sigBytes=(Ne.length+1)*4,this._process();for(var Xe=this._hash,ot=Xe.words,tt=0;tt<4;tt++){var gt=ot[tt];ot[tt]=(gt<<8|gt>>>24)&16711935|(gt<<24|gt>>>8)&4278255360}return Xe},clone:function(){var Fe=g.clone.call(this);return Fe._hash=this._hash.clone(),Fe}});function ne(Fe,Ne,Ve,Ue,We,He,Xe){var ot=Fe+(Ne&Ve|~Ne&Ue)+We+Xe;return(ot<<He|ot>>>32-He)+Ne}function De(Fe,Ne,Ve,Ue,We,He,Xe){var ot=Fe+(Ne&Ue|Ve&~Ue)+We+Xe;return(ot<<He|ot>>>32-He)+Ne}function Ee(Fe,Ne,Ve,Ue,We,He,Xe){var ot=Fe+(Ne^Ve^Ue)+We+Xe;return(ot<<He|ot>>>32-He)+Ne}function Be(Fe,Ne,Ve,Ue,We,He,Xe){var ot=Fe+(Ve^(Ne|~Ue))+We+Xe;return(ot<<He|ot>>>32-He)+Ne}c.MD5=g._createHelper(Oe),c.HmacMD5=g._createHmacHelper(Oe)}(Math),e.MD5})}(md5)),md5.exports}var sha1={exports:{}},hasRequiredSha1;function requireSha1(){return hasRequiredSha1||(hasRequiredSha1=1,function(h,o){(function(e,i){h.exports=i(requireCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.WordArray,m=c.Hasher,g=i.algo,Te=[],Ie=g.SHA1=m.extend({_doReset:function(){this._hash=new f.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(Oe,ne){for(var De=this._hash.words,Ee=De[0],Be=De[1],Fe=De[2],Ne=De[3],Ve=De[4],Ue=0;Ue<80;Ue++){if(Ue<16)Te[Ue]=Oe[ne+Ue]|0;else{var We=Te[Ue-3]^Te[Ue-8]^Te[Ue-14]^Te[Ue-16];Te[Ue]=We<<1|We>>>31}var He=(Ee<<5|Ee>>>27)+Ve+Te[Ue];Ue<20?He+=(Be&Fe|~Be&Ne)+1518500249:Ue<40?He+=(Be^Fe^Ne)+1859775393:Ue<60?He+=(Be&Fe|Be&Ne|Fe&Ne)-1894007588:He+=(Be^Fe^Ne)-899497514,Ve=Ne,Ne=Fe,Fe=Be<<30|Be>>>2,Be=Ee,Ee=He}De[0]=De[0]+Ee|0,De[1]=De[1]+Be|0,De[2]=De[2]+Fe|0,De[3]=De[3]+Ne|0,De[4]=De[4]+Ve|0},_doFinalize:function(){var Oe=this._data,ne=Oe.words,De=this._nDataBytes*8,Ee=Oe.sigBytes*8;return ne[Ee>>>5]|=128<<24-Ee%32,ne[(Ee+64>>>9<<4)+14]=Math.floor(De/4294967296),ne[(Ee+64>>>9<<4)+15]=De,Oe.sigBytes=ne.length*4,this._process(),this._hash},clone:function(){var Oe=m.clone.call(this);return Oe._hash=this._hash.clone(),Oe}});i.SHA1=m._createHelper(Ie),i.HmacSHA1=m._createHmacHelper(Ie)}(),e.SHA1})}(sha1)),sha1.exports}var sha256={exports:{}},hasRequiredSha256;function requireSha256(){return hasRequiredSha256||(hasRequiredSha256=1,function(h,o){(function(e,i){h.exports=i(requireCore())})(commonjsGlobal$1,function(e){return function(i){var c=e,f=c.lib,m=f.WordArray,g=f.Hasher,Te=c.algo,Ie=[],Oe=[];(function(){function Ee(Ve){for(var Ue=i.sqrt(Ve),We=2;We<=Ue;We++)if(!(Ve%We))return!1;return!0}function Be(Ve){return(Ve-(Ve|0))*4294967296|0}for(var Fe=2,Ne=0;Ne<64;)Ee(Fe)&&(Ne<8&&(Ie[Ne]=Be(i.pow(Fe,1/2))),Oe[Ne]=Be(i.pow(Fe,1/3)),Ne++),Fe++})();var ne=[],De=Te.SHA256=g.extend({_doReset:function(){this._hash=new m.init(Ie.slice(0))},_doProcessBlock:function(Ee,Be){for(var Fe=this._hash.words,Ne=Fe[0],Ve=Fe[1],Ue=Fe[2],We=Fe[3],He=Fe[4],Xe=Fe[5],ot=Fe[6],tt=Fe[7],gt=0;gt<64;gt++){if(gt<16)ne[gt]=Ee[Be+gt]|0;else{var vt=ne[gt-15],rt=(vt<<25|vt>>>7)^(vt<<14|vt>>>18)^vt>>>3,ht=ne[gt-2],it=(ht<<15|ht>>>17)^(ht<<13|ht>>>19)^ht>>>10;ne[gt]=rt+ne[gt-7]+it+ne[gt-16]}var mt=He&Xe^~He&ot,Ze=Ne&Ve^Ne&Ue^Ve&Ue,Ft=(Ne<<30|Ne>>>2)^(Ne<<19|Ne>>>13)^(Ne<<10|Ne>>>22),Zt=(He<<26|He>>>6)^(He<<21|He>>>11)^(He<<7|He>>>25),jt=tt+Zt+mt+Oe[gt]+ne[gt],cr=Ft+Ze;tt=ot,ot=Xe,Xe=He,He=We+jt|0,We=Ue,Ue=Ve,Ve=Ne,Ne=jt+cr|0}Fe[0]=Fe[0]+Ne|0,Fe[1]=Fe[1]+Ve|0,Fe[2]=Fe[2]+Ue|0,Fe[3]=Fe[3]+We|0,Fe[4]=Fe[4]+He|0,Fe[5]=Fe[5]+Xe|0,Fe[6]=Fe[6]+ot|0,Fe[7]=Fe[7]+tt|0},_doFinalize:function(){var Ee=this._data,Be=Ee.words,Fe=this._nDataBytes*8,Ne=Ee.sigBytes*8;return Be[Ne>>>5]|=128<<24-Ne%32,Be[(Ne+64>>>9<<4)+14]=i.floor(Fe/4294967296),Be[(Ne+64>>>9<<4)+15]=Fe,Ee.sigBytes=Be.length*4,this._process(),this._hash},clone:function(){var Ee=g.clone.call(this);return Ee._hash=this._hash.clone(),Ee}});c.SHA256=g._createHelper(De),c.HmacSHA256=g._createHmacHelper(De)}(Math),e.SHA256})}(sha256)),sha256.exports}var sha224={exports:{}},hasRequiredSha224;function requireSha224(){return hasRequiredSha224||(hasRequiredSha224=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireSha256())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.WordArray,m=i.algo,g=m.SHA256,Te=m.SHA224=g.extend({_doReset:function(){this._hash=new f.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var Ie=g._doFinalize.call(this);return Ie.sigBytes-=4,Ie}});i.SHA224=g._createHelper(Te),i.HmacSHA224=g._createHmacHelper(Te)}(),e.SHA224})}(sha224)),sha224.exports}var sha512={exports:{}},hasRequiredSha512;function requireSha512(){return hasRequiredSha512||(hasRequiredSha512=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireX64Core())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.Hasher,m=i.x64,g=m.Word,Te=m.WordArray,Ie=i.algo;function Oe(){return g.create.apply(g,arguments)}var ne=[Oe(1116352408,3609767458),Oe(1899447441,602891725),Oe(3049323471,3964484399),Oe(3921009573,2173295548),Oe(961987163,4081628472),Oe(1508970993,3053834265),Oe(2453635748,2937671579),Oe(2870763221,3664609560),Oe(3624381080,2734883394),Oe(310598401,1164996542),Oe(607225278,1323610764),Oe(1426881987,3590304994),Oe(1925078388,4068182383),Oe(2162078206,991336113),Oe(2614888103,633803317),Oe(3248222580,3479774868),Oe(3835390401,2666613458),Oe(4022224774,944711139),Oe(264347078,2341262773),Oe(604807628,2007800933),Oe(770255983,1495990901),Oe(1249150122,1856431235),Oe(1555081692,3175218132),Oe(1996064986,2198950837),Oe(2554220882,3999719339),Oe(2821834349,766784016),Oe(2952996808,2566594879),Oe(3210313671,3203337956),Oe(3336571891,1034457026),Oe(3584528711,2466948901),Oe(113926993,3758326383),Oe(338241895,168717936),Oe(666307205,1188179964),Oe(773529912,1546045734),Oe(1294757372,1522805485),Oe(1396182291,2643833823),Oe(1695183700,2343527390),Oe(1986661051,1014477480),Oe(2177026350,1206759142),Oe(2456956037,344077627),Oe(2730485921,1290863460),Oe(2820302411,3158454273),Oe(3259730800,3505952657),Oe(3345764771,106217008),Oe(3516065817,3606008344),Oe(3600352804,1432725776),Oe(4094571909,1467031594),Oe(275423344,851169720),Oe(430227734,3100823752),Oe(506948616,1363258195),Oe(659060556,3750685593),Oe(883997877,3785050280),Oe(958139571,3318307427),Oe(1322822218,3812723403),Oe(1537002063,2003034995),Oe(1747873779,3602036899),Oe(1955562222,1575990012),Oe(2024104815,1125592928),Oe(2227730452,2716904306),Oe(2361852424,442776044),Oe(2428436474,593698344),Oe(2756734187,3733110249),Oe(3204031479,2999351573),Oe(3329325298,3815920427),Oe(3391569614,3928383900),Oe(3515267271,566280711),Oe(3940187606,3454069534),Oe(4118630271,4000239992),Oe(116418474,1914138554),Oe(174292421,2731055270),Oe(289380356,3203993006),Oe(460393269,320620315),Oe(685471733,587496836),Oe(852142971,1086792851),Oe(1017036298,365543100),Oe(1126000580,2618297676),Oe(1288033470,3409855158),Oe(1501505948,4234509866),Oe(1607167915,987167468),Oe(1816402316,1246189591)],De=[];(function(){for(var Be=0;Be<80;Be++)De[Be]=Oe()})();var Ee=Ie.SHA512=f.extend({_doReset:function(){this._hash=new Te.init([new g.init(1779033703,4089235720),new g.init(3144134277,2227873595),new g.init(1013904242,4271175723),new g.init(2773480762,1595750129),new g.init(1359893119,2917565137),new g.init(2600822924,725511199),new g.init(528734635,4215389547),new g.init(1541459225,327033209)])},_doProcessBlock:function(Be,Fe){for(var Ne=this._hash.words,Ve=Ne[0],Ue=Ne[1],We=Ne[2],He=Ne[3],Xe=Ne[4],ot=Ne[5],tt=Ne[6],gt=Ne[7],vt=Ve.high,rt=Ve.low,ht=Ue.high,it=Ue.low,mt=We.high,Ze=We.low,Ft=He.high,Zt=He.low,jt=Xe.high,cr=Xe.low,bt=ot.high,St=ot.low,ct=tt.high,dt=tt.low,Pt=gt.high,Ct=gt.low,Kt=vt,fr=rt,Rr=ht,sr=it,lt=mt,yt=Ze,Xt=Ft,$t=Zt,dr=jt,Je=cr,At=bt,Wt=St,xt=ct,pt=dt,Dt=Pt,er=Ct,nt=0;nt<80;nt++){var je,Ke,ut=De[nt];if(nt<16)Ke=ut.high=Be[Fe+nt*2]|0,je=ut.low=Be[Fe+nt*2+1]|0;else{var Et=De[nt-15],It=Et.high,zt=Et.low,tr=(It>>>1|zt<<31)^(It>>>8|zt<<24)^It>>>7,Sr=(zt>>>1|It<<31)^(zt>>>8|It<<24)^(zt>>>7|It<<25),Lr=De[nt-2],Br=Lr.high,Er=Lr.low,gr=(Br>>>19|Er<<13)^(Br<<3|Er>>>29)^Br>>>6,Qr=(Er>>>19|Br<<13)^(Er<<3|Br>>>29)^(Er>>>6|Br<<26),Cr=De[nt-7],on=Cr.high,Bn=Cr.low,Un=De[nt-16],wr=Un.high,Jt=Un.low;je=Sr+Bn,Ke=tr+on+(je>>>0<Sr>>>0?1:0),je=je+Qr,Ke=Ke+gr+(je>>>0<Qr>>>0?1:0),je=je+Jt,Ke=Ke+wr+(je>>>0<Jt>>>0?1:0),ut.high=Ke,ut.low=je}var yr=dr&At^~dr&xt,at=Je&Wt^~Je&pt,Or=Kt&Rr^Kt&lt^Rr&lt,en=fr&sr^fr&yt^sr&yt,kr=(Kt>>>28|fr<<4)^(Kt<<30|fr>>>2)^(Kt<<25|fr>>>7),Pn=(fr>>>28|Kt<<4)^(fr<<30|Kt>>>2)^(fr<<25|Kt>>>7),Tr=(dr>>>14|Je<<18)^(dr>>>18|Je<<14)^(dr<<23|Je>>>9),un=(Je>>>14|dr<<18)^(Je>>>18|dr<<14)^(Je<<23|dr>>>9),or=ne[nt],ar=or.high,Zr=or.low,Nr=er+un,Dr=Dt+Tr+(Nr>>>0<er>>>0?1:0),Nr=Nr+at,Dr=Dr+yr+(Nr>>>0<at>>>0?1:0),Nr=Nr+Zr,Dr=Dr+ar+(Nr>>>0<Zr>>>0?1:0),Nr=Nr+je,Dr=Dr+Ke+(Nr>>>0<je>>>0?1:0),Wn=Pn+en,jn=kr+Or+(Wn>>>0<Pn>>>0?1:0);Dt=xt,er=pt,xt=At,pt=Wt,At=dr,Wt=Je,Je=$t+Nr|0,dr=Xt+Dr+(Je>>>0<$t>>>0?1:0)|0,Xt=lt,$t=yt,lt=Rr,yt=sr,Rr=Kt,sr=fr,fr=Nr+Wn|0,Kt=Dr+jn+(fr>>>0<Nr>>>0?1:0)|0}rt=Ve.low=rt+fr,Ve.high=vt+Kt+(rt>>>0<fr>>>0?1:0),it=Ue.low=it+sr,Ue.high=ht+Rr+(it>>>0<sr>>>0?1:0),Ze=We.low=Ze+yt,We.high=mt+lt+(Ze>>>0<yt>>>0?1:0),Zt=He.low=Zt+$t,He.high=Ft+Xt+(Zt>>>0<$t>>>0?1:0),cr=Xe.low=cr+Je,Xe.high=jt+dr+(cr>>>0<Je>>>0?1:0),St=ot.low=St+Wt,ot.high=bt+At+(St>>>0<Wt>>>0?1:0),dt=tt.low=dt+pt,tt.high=ct+xt+(dt>>>0<pt>>>0?1:0),Ct=gt.low=Ct+er,gt.high=Pt+Dt+(Ct>>>0<er>>>0?1:0)},_doFinalize:function(){var Be=this._data,Fe=Be.words,Ne=this._nDataBytes*8,Ve=Be.sigBytes*8;Fe[Ve>>>5]|=128<<24-Ve%32,Fe[(Ve+128>>>10<<5)+30]=Math.floor(Ne/4294967296),Fe[(Ve+128>>>10<<5)+31]=Ne,Be.sigBytes=Fe.length*4,this._process();var Ue=this._hash.toX32();return Ue},clone:function(){var Be=f.clone.call(this);return Be._hash=this._hash.clone(),Be},blockSize:1024/32});i.SHA512=f._createHelper(Ee),i.HmacSHA512=f._createHmacHelper(Ee)}(),e.SHA512})}(sha512)),sha512.exports}var sha384={exports:{}},hasRequiredSha384;function requireSha384(){return hasRequiredSha384||(hasRequiredSha384=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireX64Core(),requireSha512())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.x64,f=c.Word,m=c.WordArray,g=i.algo,Te=g.SHA512,Ie=g.SHA384=Te.extend({_doReset:function(){this._hash=new m.init([new f.init(3418070365,3238371032),new f.init(1654270250,914150663),new f.init(2438529370,812702999),new f.init(355462360,4144912697),new f.init(1731405415,4290775857),new f.init(2394180231,1750603025),new f.init(3675008525,1694076839),new f.init(1203062813,3204075428)])},_doFinalize:function(){var Oe=Te._doFinalize.call(this);return Oe.sigBytes-=16,Oe}});i.SHA384=Te._createHelper(Ie),i.HmacSHA384=Te._createHmacHelper(Ie)}(),e.SHA384})}(sha384)),sha384.exports}var sha3={exports:{}},hasRequiredSha3;function requireSha3(){return hasRequiredSha3||(hasRequiredSha3=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireX64Core())})(commonjsGlobal$1,function(e){return function(i){var c=e,f=c.lib,m=f.WordArray,g=f.Hasher,Te=c.x64,Ie=Te.Word,Oe=c.algo,ne=[],De=[],Ee=[];(function(){for(var Ne=1,Ve=0,Ue=0;Ue<24;Ue++){ne[Ne+5*Ve]=(Ue+1)*(Ue+2)/2%64;var We=Ve%5,He=(2*Ne+3*Ve)%5;Ne=We,Ve=He}for(var Ne=0;Ne<5;Ne++)for(var Ve=0;Ve<5;Ve++)De[Ne+5*Ve]=Ve+(2*Ne+3*Ve)%5*5;for(var Xe=1,ot=0;ot<24;ot++){for(var tt=0,gt=0,vt=0;vt<7;vt++){if(Xe&1){var rt=(1<<vt)-1;rt<32?gt^=1<<rt:tt^=1<<rt-32}Xe&128?Xe=Xe<<1^113:Xe<<=1}Ee[ot]=Ie.create(tt,gt)}})();var Be=[];(function(){for(var Ne=0;Ne<25;Ne++)Be[Ne]=Ie.create()})();var Fe=Oe.SHA3=g.extend({cfg:g.cfg.extend({outputLength:512}),_doReset:function(){for(var Ne=this._state=[],Ve=0;Ve<25;Ve++)Ne[Ve]=new Ie.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(Ne,Ve){for(var Ue=this._state,We=this.blockSize/2,He=0;He<We;He++){var Xe=Ne[Ve+2*He],ot=Ne[Ve+2*He+1];Xe=(Xe<<8|Xe>>>24)&16711935|(Xe<<24|Xe>>>8)&4278255360,ot=(ot<<8|ot>>>24)&16711935|(ot<<24|ot>>>8)&4278255360;var tt=Ue[He];tt.high^=ot,tt.low^=Xe}for(var gt=0;gt<24;gt++){for(var vt=0;vt<5;vt++){for(var rt=0,ht=0,it=0;it<5;it++){var tt=Ue[vt+5*it];rt^=tt.high,ht^=tt.low}var mt=Be[vt];mt.high=rt,mt.low=ht}for(var vt=0;vt<5;vt++)for(var Ze=Be[(vt+4)%5],Ft=Be[(vt+1)%5],Zt=Ft.high,jt=Ft.low,rt=Ze.high^(Zt<<1|jt>>>31),ht=Ze.low^(jt<<1|Zt>>>31),it=0;it<5;it++){var tt=Ue[vt+5*it];tt.high^=rt,tt.low^=ht}for(var cr=1;cr<25;cr++){var rt,ht,tt=Ue[cr],bt=tt.high,St=tt.low,ct=ne[cr];ct<32?(rt=bt<<ct|St>>>32-ct,ht=St<<ct|bt>>>32-ct):(rt=St<<ct-32|bt>>>64-ct,ht=bt<<ct-32|St>>>64-ct);var dt=Be[De[cr]];dt.high=rt,dt.low=ht}var Pt=Be[0],Ct=Ue[0];Pt.high=Ct.high,Pt.low=Ct.low;for(var vt=0;vt<5;vt++)for(var it=0;it<5;it++){var cr=vt+5*it,tt=Ue[cr],Kt=Be[cr],fr=Be[(vt+1)%5+5*it],Rr=Be[(vt+2)%5+5*it];tt.high=Kt.high^~fr.high&Rr.high,tt.low=Kt.low^~fr.low&Rr.low}var tt=Ue[0],sr=Ee[gt];tt.high^=sr.high,tt.low^=sr.low}},_doFinalize:function(){var Ne=this._data,Ve=Ne.words;this._nDataBytes*8;var Ue=Ne.sigBytes*8,We=this.blockSize*32;Ve[Ue>>>5]|=1<<24-Ue%32,Ve[(i.ceil((Ue+1)/We)*We>>>5)-1]|=128,Ne.sigBytes=Ve.length*4,this._process();for(var He=this._state,Xe=this.cfg.outputLength/8,ot=Xe/8,tt=[],gt=0;gt<ot;gt++){var vt=He[gt],rt=vt.high,ht=vt.low;rt=(rt<<8|rt>>>24)&16711935|(rt<<24|rt>>>8)&4278255360,ht=(ht<<8|ht>>>24)&16711935|(ht<<24|ht>>>8)&4278255360,tt.push(ht),tt.push(rt)}return new m.init(tt,Xe)},clone:function(){for(var Ne=g.clone.call(this),Ve=Ne._state=this._state.slice(0),Ue=0;Ue<25;Ue++)Ve[Ue]=Ve[Ue].clone();return Ne}});c.SHA3=g._createHelper(Fe),c.HmacSHA3=g._createHmacHelper(Fe)}(Math),e.SHA3})}(sha3)),sha3.exports}var ripemd160={exports:{}},hasRequiredRipemd160;function requireRipemd160(){return hasRequiredRipemd160||(hasRequiredRipemd160=1,function(h,o){(function(e,i){h.exports=i(requireCore())})(commonjsGlobal$1,function(e){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(i){var c=e,f=c.lib,m=f.WordArray,g=f.Hasher,Te=c.algo,Ie=m.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),Oe=m.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),ne=m.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),De=m.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),Ee=m.create([0,1518500249,1859775393,2400959708,2840853838]),Be=m.create([1352829926,1548603684,1836072691,2053994217,0]),Fe=Te.RIPEMD160=g.extend({_doReset:function(){this._hash=m.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(ot,tt){for(var gt=0;gt<16;gt++){var vt=tt+gt,rt=ot[vt];ot[vt]=(rt<<8|rt>>>24)&16711935|(rt<<24|rt>>>8)&4278255360}var ht=this._hash.words,it=Ee.words,mt=Be.words,Ze=Ie.words,Ft=Oe.words,Zt=ne.words,jt=De.words,cr,bt,St,ct,dt,Pt,Ct,Kt,fr,Rr;Pt=cr=ht[0],Ct=bt=ht[1],Kt=St=ht[2],fr=ct=ht[3],Rr=dt=ht[4];for(var sr,gt=0;gt<80;gt+=1)sr=cr+ot[tt+Ze[gt]]|0,gt<16?sr+=Ne(bt,St,ct)+it[0]:gt<32?sr+=Ve(bt,St,ct)+it[1]:gt<48?sr+=Ue(bt,St,ct)+it[2]:gt<64?sr+=We(bt,St,ct)+it[3]:sr+=He(bt,St,ct)+it[4],sr=sr|0,sr=Xe(sr,Zt[gt]),sr=sr+dt|0,cr=dt,dt=ct,ct=Xe(St,10),St=bt,bt=sr,sr=Pt+ot[tt+Ft[gt]]|0,gt<16?sr+=He(Ct,Kt,fr)+mt[0]:gt<32?sr+=We(Ct,Kt,fr)+mt[1]:gt<48?sr+=Ue(Ct,Kt,fr)+mt[2]:gt<64?sr+=Ve(Ct,Kt,fr)+mt[3]:sr+=Ne(Ct,Kt,fr)+mt[4],sr=sr|0,sr=Xe(sr,jt[gt]),sr=sr+Rr|0,Pt=Rr,Rr=fr,fr=Xe(Kt,10),Kt=Ct,Ct=sr;sr=ht[1]+St+fr|0,ht[1]=ht[2]+ct+Rr|0,ht[2]=ht[3]+dt+Pt|0,ht[3]=ht[4]+cr+Ct|0,ht[4]=ht[0]+bt+Kt|0,ht[0]=sr},_doFinalize:function(){var ot=this._data,tt=ot.words,gt=this._nDataBytes*8,vt=ot.sigBytes*8;tt[vt>>>5]|=128<<24-vt%32,tt[(vt+64>>>9<<4)+14]=(gt<<8|gt>>>24)&16711935|(gt<<24|gt>>>8)&4278255360,ot.sigBytes=(tt.length+1)*4,this._process();for(var rt=this._hash,ht=rt.words,it=0;it<5;it++){var mt=ht[it];ht[it]=(mt<<8|mt>>>24)&16711935|(mt<<24|mt>>>8)&4278255360}return rt},clone:function(){var ot=g.clone.call(this);return ot._hash=this._hash.clone(),ot}});function Ne(ot,tt,gt){return ot^tt^gt}function Ve(ot,tt,gt){return ot&tt|~ot&gt}function Ue(ot,tt,gt){return(ot|~tt)^gt}function We(ot,tt,gt){return ot&gt|tt&~gt}function He(ot,tt,gt){return ot^(tt|~gt)}function Xe(ot,tt){return ot<<tt|ot>>>32-tt}c.RIPEMD160=g._createHelper(Fe),c.HmacRIPEMD160=g._createHmacHelper(Fe)}(),e.RIPEMD160})}(ripemd160)),ripemd160.exports}var hmac={exports:{}},hasRequiredHmac;function requireHmac(){return hasRequiredHmac||(hasRequiredHmac=1,function(h,o){(function(e,i){h.exports=i(requireCore())})(commonjsGlobal$1,function(e){(function(){var i=e,c=i.lib,f=c.Base,m=i.enc,g=m.Utf8,Te=i.algo;Te.HMAC=f.extend({init:function(Ie,Oe){Ie=this._hasher=new Ie.init,typeof Oe=="string"&&(Oe=g.parse(Oe));var ne=Ie.blockSize,De=ne*4;Oe.sigBytes>De&&(Oe=Ie.finalize(Oe)),Oe.clamp();for(var Ee=this._oKey=Oe.clone(),Be=this._iKey=Oe.clone(),Fe=Ee.words,Ne=Be.words,Ve=0;Ve<ne;Ve++)Fe[Ve]^=1549556828,Ne[Ve]^=909522486;Ee.sigBytes=Be.sigBytes=De,this.reset()},reset:function(){var Ie=this._hasher;Ie.reset(),Ie.update(this._iKey)},update:function(Ie){return this._hasher.update(Ie),this},finalize:function(Ie){var Oe=this._hasher,ne=Oe.finalize(Ie);Oe.reset();var De=Oe.finalize(this._oKey.clone().concat(ne));return De}})})()})}(hmac)),hmac.exports}var pbkdf2={exports:{}},hasRequiredPbkdf2;function requirePbkdf2(){return hasRequiredPbkdf2||(hasRequiredPbkdf2=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireSha256(),requireHmac())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.Base,m=c.WordArray,g=i.algo,Te=g.SHA256,Ie=g.HMAC,Oe=g.PBKDF2=f.extend({cfg:f.extend({keySize:128/32,hasher:Te,iterations:25e4}),init:function(ne){this.cfg=this.cfg.extend(ne)},compute:function(ne,De){for(var Ee=this.cfg,Be=Ie.create(Ee.hasher,ne),Fe=m.create(),Ne=m.create([1]),Ve=Fe.words,Ue=Ne.words,We=Ee.keySize,He=Ee.iterations;Ve.length<We;){var Xe=Be.update(De).finalize(Ne);Be.reset();for(var ot=Xe.words,tt=ot.length,gt=Xe,vt=1;vt<He;vt++){gt=Be.finalize(gt),Be.reset();for(var rt=gt.words,ht=0;ht<tt;ht++)ot[ht]^=rt[ht]}Fe.concat(Xe),Ue[0]++}return Fe.sigBytes=We*4,Fe}});i.PBKDF2=function(ne,De,Ee){return Oe.create(Ee).compute(ne,De)}}(),e.PBKDF2})}(pbkdf2)),pbkdf2.exports}var evpkdf={exports:{}},hasRequiredEvpkdf;function requireEvpkdf(){return hasRequiredEvpkdf||(hasRequiredEvpkdf=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireSha1(),requireHmac())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.Base,m=c.WordArray,g=i.algo,Te=g.MD5,Ie=g.EvpKDF=f.extend({cfg:f.extend({keySize:128/32,hasher:Te,iterations:1}),init:function(Oe){this.cfg=this.cfg.extend(Oe)},compute:function(Oe,ne){for(var De,Ee=this.cfg,Be=Ee.hasher.create(),Fe=m.create(),Ne=Fe.words,Ve=Ee.keySize,Ue=Ee.iterations;Ne.length<Ve;){De&&Be.update(De),De=Be.update(Oe).finalize(ne),Be.reset();for(var We=1;We<Ue;We++)De=Be.finalize(De),Be.reset();Fe.concat(De)}return Fe.sigBytes=Ve*4,Fe}});i.EvpKDF=function(Oe,ne,De){return Ie.create(De).compute(Oe,ne)}}(),e.EvpKDF})}(evpkdf)),evpkdf.exports}var cipherCore={exports:{}},hasRequiredCipherCore;function requireCipherCore(){return hasRequiredCipherCore||(hasRequiredCipherCore=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireEvpkdf())})(commonjsGlobal$1,function(e){e.lib.Cipher||function(i){var c=e,f=c.lib,m=f.Base,g=f.WordArray,Te=f.BufferedBlockAlgorithm,Ie=c.enc;Ie.Utf8;var Oe=Ie.Base64,ne=c.algo,De=ne.EvpKDF,Ee=f.Cipher=Te.extend({cfg:m.extend(),createEncryptor:function(rt,ht){return this.create(this._ENC_XFORM_MODE,rt,ht)},createDecryptor:function(rt,ht){return this.create(this._DEC_XFORM_MODE,rt,ht)},init:function(rt,ht,it){this.cfg=this.cfg.extend(it),this._xformMode=rt,this._key=ht,this.reset()},reset:function(){Te.reset.call(this),this._doReset()},process:function(rt){return this._append(rt),this._process()},finalize:function(rt){rt&&this._append(rt);var ht=this._doFinalize();return ht},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function rt(ht){return typeof ht=="string"?vt:ot}return function(ht){return{encrypt:function(it,mt,Ze){return rt(mt).encrypt(ht,it,mt,Ze)},decrypt:function(it,mt,Ze){return rt(mt).decrypt(ht,it,mt,Ze)}}}}()});f.StreamCipher=Ee.extend({_doFinalize:function(){var rt=this._process(!0);return rt},blockSize:1});var Be=c.mode={},Fe=f.BlockCipherMode=m.extend({createEncryptor:function(rt,ht){return this.Encryptor.create(rt,ht)},createDecryptor:function(rt,ht){return this.Decryptor.create(rt,ht)},init:function(rt,ht){this._cipher=rt,this._iv=ht}}),Ne=Be.CBC=function(){var rt=Fe.extend();rt.Encryptor=rt.extend({processBlock:function(it,mt){var Ze=this._cipher,Ft=Ze.blockSize;ht.call(this,it,mt,Ft),Ze.encryptBlock(it,mt),this._prevBlock=it.slice(mt,mt+Ft)}}),rt.Decryptor=rt.extend({processBlock:function(it,mt){var Ze=this._cipher,Ft=Ze.blockSize,Zt=it.slice(mt,mt+Ft);Ze.decryptBlock(it,mt),ht.call(this,it,mt,Ft),this._prevBlock=Zt}});function ht(it,mt,Ze){var Ft,Zt=this._iv;Zt?(Ft=Zt,this._iv=i):Ft=this._prevBlock;for(var jt=0;jt<Ze;jt++)it[mt+jt]^=Ft[jt]}return rt}(),Ve=c.pad={},Ue=Ve.Pkcs7={pad:function(rt,ht){for(var it=ht*4,mt=it-rt.sigBytes%it,Ze=mt<<24|mt<<16|mt<<8|mt,Ft=[],Zt=0;Zt<mt;Zt+=4)Ft.push(Ze);var jt=g.create(Ft,mt);rt.concat(jt)},unpad:function(rt){var ht=rt.words[rt.sigBytes-1>>>2]&255;rt.sigBytes-=ht}};f.BlockCipher=Ee.extend({cfg:Ee.cfg.extend({mode:Ne,padding:Ue}),reset:function(){var rt;Ee.reset.call(this);var ht=this.cfg,it=ht.iv,mt=ht.mode;this._xformMode==this._ENC_XFORM_MODE?rt=mt.createEncryptor:(rt=mt.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==rt?this._mode.init(this,it&&it.words):(this._mode=rt.call(mt,this,it&&it.words),this._mode.__creator=rt)},_doProcessBlock:function(rt,ht){this._mode.processBlock(rt,ht)},_doFinalize:function(){var rt,ht=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(ht.pad(this._data,this.blockSize),rt=this._process(!0)):(rt=this._process(!0),ht.unpad(rt)),rt},blockSize:128/32});var We=f.CipherParams=m.extend({init:function(rt){this.mixIn(rt)},toString:function(rt){return(rt||this.formatter).stringify(this)}}),He=c.format={},Xe=He.OpenSSL={stringify:function(rt){var ht,it=rt.ciphertext,mt=rt.salt;return mt?ht=g.create([1398893684,1701076831]).concat(mt).concat(it):ht=it,ht.toString(Oe)},parse:function(rt){var ht,it=Oe.parse(rt),mt=it.words;return mt[0]==1398893684&&mt[1]==1701076831&&(ht=g.create(mt.slice(2,4)),mt.splice(0,4),it.sigBytes-=16),We.create({ciphertext:it,salt:ht})}},ot=f.SerializableCipher=m.extend({cfg:m.extend({format:Xe}),encrypt:function(rt,ht,it,mt){mt=this.cfg.extend(mt);var Ze=rt.createEncryptor(it,mt),Ft=Ze.finalize(ht),Zt=Ze.cfg;return We.create({ciphertext:Ft,key:it,iv:Zt.iv,algorithm:rt,mode:Zt.mode,padding:Zt.padding,blockSize:rt.blockSize,formatter:mt.format})},decrypt:function(rt,ht,it,mt){mt=this.cfg.extend(mt),ht=this._parse(ht,mt.format);var Ze=rt.createDecryptor(it,mt).finalize(ht.ciphertext);return Ze},_parse:function(rt,ht){return typeof rt=="string"?ht.parse(rt,this):rt}}),tt=c.kdf={},gt=tt.OpenSSL={execute:function(rt,ht,it,mt,Ze){if(mt||(mt=g.random(64/8)),Ze)var Ft=De.create({keySize:ht+it,hasher:Ze}).compute(rt,mt);else var Ft=De.create({keySize:ht+it}).compute(rt,mt);var Zt=g.create(Ft.words.slice(ht),it*4);return Ft.sigBytes=ht*4,We.create({key:Ft,iv:Zt,salt:mt})}},vt=f.PasswordBasedCipher=ot.extend({cfg:ot.cfg.extend({kdf:gt}),encrypt:function(rt,ht,it,mt){mt=this.cfg.extend(mt);var Ze=mt.kdf.execute(it,rt.keySize,rt.ivSize,mt.salt,mt.hasher);mt.iv=Ze.iv;var Ft=ot.encrypt.call(this,rt,ht,Ze.key,mt);return Ft.mixIn(Ze),Ft},decrypt:function(rt,ht,it,mt){mt=this.cfg.extend(mt),ht=this._parse(ht,mt.format);var Ze=mt.kdf.execute(it,rt.keySize,rt.ivSize,ht.salt,mt.hasher);mt.iv=Ze.iv;var Ft=ot.decrypt.call(this,rt,ht,Ze.key,mt);return Ft}})}()})}(cipherCore)),cipherCore.exports}var modeCfb={exports:{}},hasRequiredModeCfb;function requireModeCfb(){return hasRequiredModeCfb||(hasRequiredModeCfb=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return e.mode.CFB=function(){var i=e.lib.BlockCipherMode.extend();i.Encryptor=i.extend({processBlock:function(f,m){var g=this._cipher,Te=g.blockSize;c.call(this,f,m,Te,g),this._prevBlock=f.slice(m,m+Te)}}),i.Decryptor=i.extend({processBlock:function(f,m){var g=this._cipher,Te=g.blockSize,Ie=f.slice(m,m+Te);c.call(this,f,m,Te,g),this._prevBlock=Ie}});function c(f,m,g,Te){var Ie,Oe=this._iv;Oe?(Ie=Oe.slice(0),this._iv=void 0):Ie=this._prevBlock,Te.encryptBlock(Ie,0);for(var ne=0;ne<g;ne++)f[m+ne]^=Ie[ne]}return i}(),e.mode.CFB})}(modeCfb)),modeCfb.exports}var modeCtr={exports:{}},hasRequiredModeCtr;function requireModeCtr(){return hasRequiredModeCtr||(hasRequiredModeCtr=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return e.mode.CTR=function(){var i=e.lib.BlockCipherMode.extend(),c=i.Encryptor=i.extend({processBlock:function(f,m){var g=this._cipher,Te=g.blockSize,Ie=this._iv,Oe=this._counter;Ie&&(Oe=this._counter=Ie.slice(0),this._iv=void 0);var ne=Oe.slice(0);g.encryptBlock(ne,0),Oe[Te-1]=Oe[Te-1]+1|0;for(var De=0;De<Te;De++)f[m+De]^=ne[De]}});return i.Decryptor=c,i}(),e.mode.CTR})}(modeCtr)),modeCtr.exports}var modeCtrGladman={exports:{}},hasRequiredModeCtrGladman;function requireModeCtrGladman(){return hasRequiredModeCtrGladman||(hasRequiredModeCtrGladman=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return e.mode.CTRGladman=function(){var i=e.lib.BlockCipherMode.extend();function c(g){if((g>>24&255)===255){var Te=g>>16&255,Ie=g>>8&255,Oe=g&255;Te===255?(Te=0,Ie===255?(Ie=0,Oe===255?Oe=0:++Oe):++Ie):++Te,g=0,g+=Te<<16,g+=Ie<<8,g+=Oe}else g+=1<<24;return g}function f(g){return(g[0]=c(g[0]))===0&&(g[1]=c(g[1])),g}var m=i.Encryptor=i.extend({processBlock:function(g,Te){var Ie=this._cipher,Oe=Ie.blockSize,ne=this._iv,De=this._counter;ne&&(De=this._counter=ne.slice(0),this._iv=void 0),f(De);var Ee=De.slice(0);Ie.encryptBlock(Ee,0);for(var Be=0;Be<Oe;Be++)g[Te+Be]^=Ee[Be]}});return i.Decryptor=m,i}(),e.mode.CTRGladman})}(modeCtrGladman)),modeCtrGladman.exports}var modeOfb={exports:{}},hasRequiredModeOfb;function requireModeOfb(){return hasRequiredModeOfb||(hasRequiredModeOfb=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return e.mode.OFB=function(){var i=e.lib.BlockCipherMode.extend(),c=i.Encryptor=i.extend({processBlock:function(f,m){var g=this._cipher,Te=g.blockSize,Ie=this._iv,Oe=this._keystream;Ie&&(Oe=this._keystream=Ie.slice(0),this._iv=void 0),g.encryptBlock(Oe,0);for(var ne=0;ne<Te;ne++)f[m+ne]^=Oe[ne]}});return i.Decryptor=c,i}(),e.mode.OFB})}(modeOfb)),modeOfb.exports}var modeEcb={exports:{}},hasRequiredModeEcb;function requireModeEcb(){return hasRequiredModeEcb||(hasRequiredModeEcb=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return e.mode.ECB=function(){var i=e.lib.BlockCipherMode.extend();return i.Encryptor=i.extend({processBlock:function(c,f){this._cipher.encryptBlock(c,f)}}),i.Decryptor=i.extend({processBlock:function(c,f){this._cipher.decryptBlock(c,f)}}),i}(),e.mode.ECB})}(modeEcb)),modeEcb.exports}var padAnsix923={exports:{}},hasRequiredPadAnsix923;function requirePadAnsix923(){return hasRequiredPadAnsix923||(hasRequiredPadAnsix923=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return e.pad.AnsiX923={pad:function(i,c){var f=i.sigBytes,m=c*4,g=m-f%m,Te=f+g-1;i.clamp(),i.words[Te>>>2]|=g<<24-Te%4*8,i.sigBytes+=g},unpad:function(i){var c=i.words[i.sigBytes-1>>>2]&255;i.sigBytes-=c}},e.pad.Ansix923})}(padAnsix923)),padAnsix923.exports}var padIso10126={exports:{}},hasRequiredPadIso10126;function requirePadIso10126(){return hasRequiredPadIso10126||(hasRequiredPadIso10126=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return e.pad.Iso10126={pad:function(i,c){var f=c*4,m=f-i.sigBytes%f;i.concat(e.lib.WordArray.random(m-1)).concat(e.lib.WordArray.create([m<<24],1))},unpad:function(i){var c=i.words[i.sigBytes-1>>>2]&255;i.sigBytes-=c}},e.pad.Iso10126})}(padIso10126)),padIso10126.exports}var padIso97971={exports:{}},hasRequiredPadIso97971;function requirePadIso97971(){return hasRequiredPadIso97971||(hasRequiredPadIso97971=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return e.pad.Iso97971={pad:function(i,c){i.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(i,c)},unpad:function(i){e.pad.ZeroPadding.unpad(i),i.sigBytes--}},e.pad.Iso97971})}(padIso97971)),padIso97971.exports}var padZeropadding={exports:{}},hasRequiredPadZeropadding;function requirePadZeropadding(){return hasRequiredPadZeropadding||(hasRequiredPadZeropadding=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return e.pad.ZeroPadding={pad:function(i,c){var f=c*4;i.clamp(),i.sigBytes+=f-(i.sigBytes%f||f)},unpad:function(i){for(var c=i.words,f=i.sigBytes-1,f=i.sigBytes-1;f>=0;f--)if(c[f>>>2]>>>24-f%4*8&255){i.sigBytes=f+1;break}}},e.pad.ZeroPadding})}(padZeropadding)),padZeropadding.exports}var padNopadding={exports:{}},hasRequiredPadNopadding;function requirePadNopadding(){return hasRequiredPadNopadding||(hasRequiredPadNopadding=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding})}(padNopadding)),padNopadding.exports}var formatHex={exports:{}},hasRequiredFormatHex;function requireFormatHex(){return hasRequiredFormatHex||(hasRequiredFormatHex=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(e){return function(i){var c=e,f=c.lib,m=f.CipherParams,g=c.enc,Te=g.Hex,Ie=c.format;Ie.Hex={stringify:function(Oe){return Oe.ciphertext.toString(Te)},parse:function(Oe){var ne=Te.parse(Oe);return m.create({ciphertext:ne})}}}(),e.format.Hex})}(formatHex)),formatHex.exports}var aes={exports:{}},hasRequiredAes;function requireAes(){return hasRequiredAes||(hasRequiredAes=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.BlockCipher,m=i.algo,g=[],Te=[],Ie=[],Oe=[],ne=[],De=[],Ee=[],Be=[],Fe=[],Ne=[];(function(){for(var We=[],He=0;He<256;He++)He<128?We[He]=He<<1:We[He]=He<<1^283;for(var Xe=0,ot=0,He=0;He<256;He++){var tt=ot^ot<<1^ot<<2^ot<<3^ot<<4;tt=tt>>>8^tt&255^99,g[Xe]=tt,Te[tt]=Xe;var gt=We[Xe],vt=We[gt],rt=We[vt],ht=We[tt]*257^tt*16843008;Ie[Xe]=ht<<24|ht>>>8,Oe[Xe]=ht<<16|ht>>>16,ne[Xe]=ht<<8|ht>>>24,De[Xe]=ht;var ht=rt*16843009^vt*65537^gt*257^Xe*16843008;Ee[tt]=ht<<24|ht>>>8,Be[tt]=ht<<16|ht>>>16,Fe[tt]=ht<<8|ht>>>24,Ne[tt]=ht,Xe?(Xe=gt^We[We[We[rt^gt]]],ot^=We[We[ot]]):Xe=ot=1}})();var Ve=[0,1,2,4,8,16,32,64,128,27,54],Ue=m.AES=f.extend({_doReset:function(){var We;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var He=this._keyPriorReset=this._key,Xe=He.words,ot=He.sigBytes/4,tt=this._nRounds=ot+6,gt=(tt+1)*4,vt=this._keySchedule=[],rt=0;rt<gt;rt++)rt<ot?vt[rt]=Xe[rt]:(We=vt[rt-1],rt%ot?ot>6&&rt%ot==4&&(We=g[We>>>24]<<24|g[We>>>16&255]<<16|g[We>>>8&255]<<8|g[We&255]):(We=We<<8|We>>>24,We=g[We>>>24]<<24|g[We>>>16&255]<<16|g[We>>>8&255]<<8|g[We&255],We^=Ve[rt/ot|0]<<24),vt[rt]=vt[rt-ot]^We);for(var ht=this._invKeySchedule=[],it=0;it<gt;it++){var rt=gt-it;if(it%4)var We=vt[rt];else var We=vt[rt-4];it<4||rt<=4?ht[it]=We:ht[it]=Ee[g[We>>>24]]^Be[g[We>>>16&255]]^Fe[g[We>>>8&255]]^Ne[g[We&255]]}}},encryptBlock:function(We,He){this._doCryptBlock(We,He,this._keySchedule,Ie,Oe,ne,De,g)},decryptBlock:function(We,He){var Xe=We[He+1];We[He+1]=We[He+3],We[He+3]=Xe,this._doCryptBlock(We,He,this._invKeySchedule,Ee,Be,Fe,Ne,Te);var Xe=We[He+1];We[He+1]=We[He+3],We[He+3]=Xe},_doCryptBlock:function(We,He,Xe,ot,tt,gt,vt,rt){for(var ht=this._nRounds,it=We[He]^Xe[0],mt=We[He+1]^Xe[1],Ze=We[He+2]^Xe[2],Ft=We[He+3]^Xe[3],Zt=4,jt=1;jt<ht;jt++){var cr=ot[it>>>24]^tt[mt>>>16&255]^gt[Ze>>>8&255]^vt[Ft&255]^Xe[Zt++],bt=ot[mt>>>24]^tt[Ze>>>16&255]^gt[Ft>>>8&255]^vt[it&255]^Xe[Zt++],St=ot[Ze>>>24]^tt[Ft>>>16&255]^gt[it>>>8&255]^vt[mt&255]^Xe[Zt++],ct=ot[Ft>>>24]^tt[it>>>16&255]^gt[mt>>>8&255]^vt[Ze&255]^Xe[Zt++];it=cr,mt=bt,Ze=St,Ft=ct}var cr=(rt[it>>>24]<<24|rt[mt>>>16&255]<<16|rt[Ze>>>8&255]<<8|rt[Ft&255])^Xe[Zt++],bt=(rt[mt>>>24]<<24|rt[Ze>>>16&255]<<16|rt[Ft>>>8&255]<<8|rt[it&255])^Xe[Zt++],St=(rt[Ze>>>24]<<24|rt[Ft>>>16&255]<<16|rt[it>>>8&255]<<8|rt[mt&255])^Xe[Zt++],ct=(rt[Ft>>>24]<<24|rt[it>>>16&255]<<16|rt[mt>>>8&255]<<8|rt[Ze&255])^Xe[Zt++];We[He]=cr,We[He+1]=bt,We[He+2]=St,We[He+3]=ct},keySize:256/32});i.AES=f._createHelper(Ue)}(),e.AES})}(aes)),aes.exports}var tripledes={exports:{}},hasRequiredTripledes;function requireTripledes(){return hasRequiredTripledes||(hasRequiredTripledes=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.WordArray,m=c.BlockCipher,g=i.algo,Te=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],Ie=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],Oe=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],ne=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],De=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],Ee=g.DES=m.extend({_doReset:function(){for(var Ve=this._key,Ue=Ve.words,We=[],He=0;He<56;He++){var Xe=Te[He]-1;We[He]=Ue[Xe>>>5]>>>31-Xe%32&1}for(var ot=this._subKeys=[],tt=0;tt<16;tt++){for(var gt=ot[tt]=[],vt=Oe[tt],He=0;He<24;He++)gt[He/6|0]|=We[(Ie[He]-1+vt)%28]<<31-He%6,gt[4+(He/6|0)]|=We[28+(Ie[He+24]-1+vt)%28]<<31-He%6;gt[0]=gt[0]<<1|gt[0]>>>31;for(var He=1;He<7;He++)gt[He]=gt[He]>>>(He-1)*4+3;gt[7]=gt[7]<<5|gt[7]>>>27}for(var rt=this._invSubKeys=[],He=0;He<16;He++)rt[He]=ot[15-He]},encryptBlock:function(Ve,Ue){this._doCryptBlock(Ve,Ue,this._subKeys)},decryptBlock:function(Ve,Ue){this._doCryptBlock(Ve,Ue,this._invSubKeys)},_doCryptBlock:function(Ve,Ue,We){this._lBlock=Ve[Ue],this._rBlock=Ve[Ue+1],Be.call(this,4,252645135),Be.call(this,16,65535),Fe.call(this,2,858993459),Fe.call(this,8,16711935),Be.call(this,1,1431655765);for(var He=0;He<16;He++){for(var Xe=We[He],ot=this._lBlock,tt=this._rBlock,gt=0,vt=0;vt<8;vt++)gt|=ne[vt][((tt^Xe[vt])&De[vt])>>>0];this._lBlock=tt,this._rBlock=ot^gt}var rt=this._lBlock;this._lBlock=this._rBlock,this._rBlock=rt,Be.call(this,1,1431655765),Fe.call(this,8,16711935),Fe.call(this,2,858993459),Be.call(this,16,65535),Be.call(this,4,252645135),Ve[Ue]=this._lBlock,Ve[Ue+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function Be(Ve,Ue){var We=(this._lBlock>>>Ve^this._rBlock)&Ue;this._rBlock^=We,this._lBlock^=We<<Ve}function Fe(Ve,Ue){var We=(this._rBlock>>>Ve^this._lBlock)&Ue;this._lBlock^=We,this._rBlock^=We<<Ve}i.DES=m._createHelper(Ee);var Ne=g.TripleDES=m.extend({_doReset:function(){var Ve=this._key,Ue=Ve.words;if(Ue.length!==2&&Ue.length!==4&&Ue.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var We=Ue.slice(0,2),He=Ue.length<4?Ue.slice(0,2):Ue.slice(2,4),Xe=Ue.length<6?Ue.slice(0,2):Ue.slice(4,6);this._des1=Ee.createEncryptor(f.create(We)),this._des2=Ee.createEncryptor(f.create(He)),this._des3=Ee.createEncryptor(f.create(Xe))},encryptBlock:function(Ve,Ue){this._des1.encryptBlock(Ve,Ue),this._des2.decryptBlock(Ve,Ue),this._des3.encryptBlock(Ve,Ue)},decryptBlock:function(Ve,Ue){this._des3.decryptBlock(Ve,Ue),this._des2.encryptBlock(Ve,Ue),this._des1.decryptBlock(Ve,Ue)},keySize:192/32,ivSize:64/32,blockSize:64/32});i.TripleDES=m._createHelper(Ne)}(),e.TripleDES})}(tripledes)),tripledes.exports}var rc4={exports:{}},hasRequiredRc4;function requireRc4(){return hasRequiredRc4||(hasRequiredRc4=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.StreamCipher,m=i.algo,g=m.RC4=f.extend({_doReset:function(){for(var Oe=this._key,ne=Oe.words,De=Oe.sigBytes,Ee=this._S=[],Be=0;Be<256;Be++)Ee[Be]=Be;for(var Be=0,Fe=0;Be<256;Be++){var Ne=Be%De,Ve=ne[Ne>>>2]>>>24-Ne%4*8&255;Fe=(Fe+Ee[Be]+Ve)%256;var Ue=Ee[Be];Ee[Be]=Ee[Fe],Ee[Fe]=Ue}this._i=this._j=0},_doProcessBlock:function(Oe,ne){Oe[ne]^=Te.call(this)},keySize:256/32,ivSize:0});function Te(){for(var Oe=this._S,ne=this._i,De=this._j,Ee=0,Be=0;Be<4;Be++){ne=(ne+1)%256,De=(De+Oe[ne])%256;var Fe=Oe[ne];Oe[ne]=Oe[De],Oe[De]=Fe,Ee|=Oe[(Oe[ne]+Oe[De])%256]<<24-Be*8}return this._i=ne,this._j=De,Ee}i.RC4=f._createHelper(g);var Ie=m.RC4Drop=g.extend({cfg:g.cfg.extend({drop:192}),_doReset:function(){g._doReset.call(this);for(var Oe=this.cfg.drop;Oe>0;Oe--)Te.call(this)}});i.RC4Drop=f._createHelper(Ie)}(),e.RC4})}(rc4)),rc4.exports}var rabbit={exports:{}},hasRequiredRabbit;function requireRabbit(){return hasRequiredRabbit||(hasRequiredRabbit=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.StreamCipher,m=i.algo,g=[],Te=[],Ie=[],Oe=m.Rabbit=f.extend({_doReset:function(){for(var De=this._key.words,Ee=this.cfg.iv,Be=0;Be<4;Be++)De[Be]=(De[Be]<<8|De[Be]>>>24)&16711935|(De[Be]<<24|De[Be]>>>8)&4278255360;var Fe=this._X=[De[0],De[3]<<16|De[2]>>>16,De[1],De[0]<<16|De[3]>>>16,De[2],De[1]<<16|De[0]>>>16,De[3],De[2]<<16|De[1]>>>16],Ne=this._C=[De[2]<<16|De[2]>>>16,De[0]&4294901760|De[1]&65535,De[3]<<16|De[3]>>>16,De[1]&4294901760|De[2]&65535,De[0]<<16|De[0]>>>16,De[2]&4294901760|De[3]&65535,De[1]<<16|De[1]>>>16,De[3]&4294901760|De[0]&65535];this._b=0;for(var Be=0;Be<4;Be++)ne.call(this);for(var Be=0;Be<8;Be++)Ne[Be]^=Fe[Be+4&7];if(Ee){var Ve=Ee.words,Ue=Ve[0],We=Ve[1],He=(Ue<<8|Ue>>>24)&16711935|(Ue<<24|Ue>>>8)&4278255360,Xe=(We<<8|We>>>24)&16711935|(We<<24|We>>>8)&4278255360,ot=He>>>16|Xe&4294901760,tt=Xe<<16|He&65535;Ne[0]^=He,Ne[1]^=ot,Ne[2]^=Xe,Ne[3]^=tt,Ne[4]^=He,Ne[5]^=ot,Ne[6]^=Xe,Ne[7]^=tt;for(var Be=0;Be<4;Be++)ne.call(this)}},_doProcessBlock:function(De,Ee){var Be=this._X;ne.call(this),g[0]=Be[0]^Be[5]>>>16^Be[3]<<16,g[1]=Be[2]^Be[7]>>>16^Be[5]<<16,g[2]=Be[4]^Be[1]>>>16^Be[7]<<16,g[3]=Be[6]^Be[3]>>>16^Be[1]<<16;for(var Fe=0;Fe<4;Fe++)g[Fe]=(g[Fe]<<8|g[Fe]>>>24)&16711935|(g[Fe]<<24|g[Fe]>>>8)&4278255360,De[Ee+Fe]^=g[Fe]},blockSize:128/32,ivSize:64/32});function ne(){for(var De=this._X,Ee=this._C,Be=0;Be<8;Be++)Te[Be]=Ee[Be];Ee[0]=Ee[0]+1295307597+this._b|0,Ee[1]=Ee[1]+3545052371+(Ee[0]>>>0<Te[0]>>>0?1:0)|0,Ee[2]=Ee[2]+886263092+(Ee[1]>>>0<Te[1]>>>0?1:0)|0,Ee[3]=Ee[3]+1295307597+(Ee[2]>>>0<Te[2]>>>0?1:0)|0,Ee[4]=Ee[4]+3545052371+(Ee[3]>>>0<Te[3]>>>0?1:0)|0,Ee[5]=Ee[5]+886263092+(Ee[4]>>>0<Te[4]>>>0?1:0)|0,Ee[6]=Ee[6]+1295307597+(Ee[5]>>>0<Te[5]>>>0?1:0)|0,Ee[7]=Ee[7]+3545052371+(Ee[6]>>>0<Te[6]>>>0?1:0)|0,this._b=Ee[7]>>>0<Te[7]>>>0?1:0;for(var Be=0;Be<8;Be++){var Fe=De[Be]+Ee[Be],Ne=Fe&65535,Ve=Fe>>>16,Ue=((Ne*Ne>>>17)+Ne*Ve>>>15)+Ve*Ve,We=((Fe&4294901760)*Fe|0)+((Fe&65535)*Fe|0);Ie[Be]=Ue^We}De[0]=Ie[0]+(Ie[7]<<16|Ie[7]>>>16)+(Ie[6]<<16|Ie[6]>>>16)|0,De[1]=Ie[1]+(Ie[0]<<8|Ie[0]>>>24)+Ie[7]|0,De[2]=Ie[2]+(Ie[1]<<16|Ie[1]>>>16)+(Ie[0]<<16|Ie[0]>>>16)|0,De[3]=Ie[3]+(Ie[2]<<8|Ie[2]>>>24)+Ie[1]|0,De[4]=Ie[4]+(Ie[3]<<16|Ie[3]>>>16)+(Ie[2]<<16|Ie[2]>>>16)|0,De[5]=Ie[5]+(Ie[4]<<8|Ie[4]>>>24)+Ie[3]|0,De[6]=Ie[6]+(Ie[5]<<16|Ie[5]>>>16)+(Ie[4]<<16|Ie[4]>>>16)|0,De[7]=Ie[7]+(Ie[6]<<8|Ie[6]>>>24)+Ie[5]|0}i.Rabbit=f._createHelper(Oe)}(),e.Rabbit})}(rabbit)),rabbit.exports}var rabbitLegacy={exports:{}},hasRequiredRabbitLegacy;function requireRabbitLegacy(){return hasRequiredRabbitLegacy||(hasRequiredRabbitLegacy=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.StreamCipher,m=i.algo,g=[],Te=[],Ie=[],Oe=m.RabbitLegacy=f.extend({_doReset:function(){var De=this._key.words,Ee=this.cfg.iv,Be=this._X=[De[0],De[3]<<16|De[2]>>>16,De[1],De[0]<<16|De[3]>>>16,De[2],De[1]<<16|De[0]>>>16,De[3],De[2]<<16|De[1]>>>16],Fe=this._C=[De[2]<<16|De[2]>>>16,De[0]&4294901760|De[1]&65535,De[3]<<16|De[3]>>>16,De[1]&4294901760|De[2]&65535,De[0]<<16|De[0]>>>16,De[2]&4294901760|De[3]&65535,De[1]<<16|De[1]>>>16,De[3]&4294901760|De[0]&65535];this._b=0;for(var Ne=0;Ne<4;Ne++)ne.call(this);for(var Ne=0;Ne<8;Ne++)Fe[Ne]^=Be[Ne+4&7];if(Ee){var Ve=Ee.words,Ue=Ve[0],We=Ve[1],He=(Ue<<8|Ue>>>24)&16711935|(Ue<<24|Ue>>>8)&4278255360,Xe=(We<<8|We>>>24)&16711935|(We<<24|We>>>8)&4278255360,ot=He>>>16|Xe&4294901760,tt=Xe<<16|He&65535;Fe[0]^=He,Fe[1]^=ot,Fe[2]^=Xe,Fe[3]^=tt,Fe[4]^=He,Fe[5]^=ot,Fe[6]^=Xe,Fe[7]^=tt;for(var Ne=0;Ne<4;Ne++)ne.call(this)}},_doProcessBlock:function(De,Ee){var Be=this._X;ne.call(this),g[0]=Be[0]^Be[5]>>>16^Be[3]<<16,g[1]=Be[2]^Be[7]>>>16^Be[5]<<16,g[2]=Be[4]^Be[1]>>>16^Be[7]<<16,g[3]=Be[6]^Be[3]>>>16^Be[1]<<16;for(var Fe=0;Fe<4;Fe++)g[Fe]=(g[Fe]<<8|g[Fe]>>>24)&16711935|(g[Fe]<<24|g[Fe]>>>8)&4278255360,De[Ee+Fe]^=g[Fe]},blockSize:128/32,ivSize:64/32});function ne(){for(var De=this._X,Ee=this._C,Be=0;Be<8;Be++)Te[Be]=Ee[Be];Ee[0]=Ee[0]+1295307597+this._b|0,Ee[1]=Ee[1]+3545052371+(Ee[0]>>>0<Te[0]>>>0?1:0)|0,Ee[2]=Ee[2]+886263092+(Ee[1]>>>0<Te[1]>>>0?1:0)|0,Ee[3]=Ee[3]+1295307597+(Ee[2]>>>0<Te[2]>>>0?1:0)|0,Ee[4]=Ee[4]+3545052371+(Ee[3]>>>0<Te[3]>>>0?1:0)|0,Ee[5]=Ee[5]+886263092+(Ee[4]>>>0<Te[4]>>>0?1:0)|0,Ee[6]=Ee[6]+1295307597+(Ee[5]>>>0<Te[5]>>>0?1:0)|0,Ee[7]=Ee[7]+3545052371+(Ee[6]>>>0<Te[6]>>>0?1:0)|0,this._b=Ee[7]>>>0<Te[7]>>>0?1:0;for(var Be=0;Be<8;Be++){var Fe=De[Be]+Ee[Be],Ne=Fe&65535,Ve=Fe>>>16,Ue=((Ne*Ne>>>17)+Ne*Ve>>>15)+Ve*Ve,We=((Fe&4294901760)*Fe|0)+((Fe&65535)*Fe|0);Ie[Be]=Ue^We}De[0]=Ie[0]+(Ie[7]<<16|Ie[7]>>>16)+(Ie[6]<<16|Ie[6]>>>16)|0,De[1]=Ie[1]+(Ie[0]<<8|Ie[0]>>>24)+Ie[7]|0,De[2]=Ie[2]+(Ie[1]<<16|Ie[1]>>>16)+(Ie[0]<<16|Ie[0]>>>16)|0,De[3]=Ie[3]+(Ie[2]<<8|Ie[2]>>>24)+Ie[1]|0,De[4]=Ie[4]+(Ie[3]<<16|Ie[3]>>>16)+(Ie[2]<<16|Ie[2]>>>16)|0,De[5]=Ie[5]+(Ie[4]<<8|Ie[4]>>>24)+Ie[3]|0,De[6]=Ie[6]+(Ie[5]<<16|Ie[5]>>>16)+(Ie[4]<<16|Ie[4]>>>16)|0,De[7]=Ie[7]+(Ie[6]<<8|Ie[6]>>>24)+Ie[5]|0}i.RabbitLegacy=f._createHelper(Oe)}(),e.RabbitLegacy})}(rabbitLegacy)),rabbitLegacy.exports}var blowfish={exports:{}},hasRequiredBlowfish;function requireBlowfish(){return hasRequiredBlowfish||(hasRequiredBlowfish=1,function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(e){return function(){var i=e,c=i.lib,f=c.BlockCipher,m=i.algo;const g=16,Te=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],Ie=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var Oe={pbox:[],sbox:[]};function ne(Ne,Ve){let Ue=Ve>>24&255,We=Ve>>16&255,He=Ve>>8&255,Xe=Ve&255,ot=Ne.sbox[0][Ue]+Ne.sbox[1][We];return ot=ot^Ne.sbox[2][He],ot=ot+Ne.sbox[3][Xe],ot}function De(Ne,Ve,Ue){let We=Ve,He=Ue,Xe;for(let ot=0;ot<g;++ot)We=We^Ne.pbox[ot],He=ne(Ne,We)^He,Xe=We,We=He,He=Xe;return Xe=We,We=He,He=Xe,He=He^Ne.pbox[g],We=We^Ne.pbox[g+1],{left:We,right:He}}function Ee(Ne,Ve,Ue){let We=Ve,He=Ue,Xe;for(let ot=g+1;ot>1;--ot)We=We^Ne.pbox[ot],He=ne(Ne,We)^He,Xe=We,We=He,He=Xe;return Xe=We,We=He,He=Xe,He=He^Ne.pbox[1],We=We^Ne.pbox[0],{left:We,right:He}}function Be(Ne,Ve,Ue){for(let tt=0;tt<4;tt++){Ne.sbox[tt]=[];for(let gt=0;gt<256;gt++)Ne.sbox[tt][gt]=Ie[tt][gt]}let We=0;for(let tt=0;tt<g+2;tt++)Ne.pbox[tt]=Te[tt]^Ve[We],We++,We>=Ue&&(We=0);let He=0,Xe=0,ot=0;for(let tt=0;tt<g+2;tt+=2)ot=De(Ne,He,Xe),He=ot.left,Xe=ot.right,Ne.pbox[tt]=He,Ne.pbox[tt+1]=Xe;for(let tt=0;tt<4;tt++)for(let gt=0;gt<256;gt+=2)ot=De(Ne,He,Xe),He=ot.left,Xe=ot.right,Ne.sbox[tt][gt]=He,Ne.sbox[tt][gt+1]=Xe;return!0}var Fe=m.Blowfish=f.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var Ne=this._keyPriorReset=this._key,Ve=Ne.words,Ue=Ne.sigBytes/4;Be(Oe,Ve,Ue)}},encryptBlock:function(Ne,Ve){var Ue=De(Oe,Ne[Ve],Ne[Ve+1]);Ne[Ve]=Ue.left,Ne[Ve+1]=Ue.right},decryptBlock:function(Ne,Ve){var Ue=Ee(Oe,Ne[Ve],Ne[Ve+1]);Ne[Ve]=Ue.left,Ne[Ve+1]=Ue.right},blockSize:64/32,keySize:128/32,ivSize:64/32});i.Blowfish=f._createHelper(Fe)}(),e.Blowfish})}(blowfish)),blowfish.exports}(function(h,o){(function(e,i,c){h.exports=i(requireCore(),requireX64Core(),requireLibTypedarrays(),requireEncUtf16(),requireEncBase64(),requireEncBase64url(),requireMd5(),requireSha1(),requireSha256(),requireSha224(),requireSha512(),requireSha384(),requireSha3(),requireRipemd160(),requireHmac(),requirePbkdf2(),requireEvpkdf(),requireCipherCore(),requireModeCfb(),requireModeCtr(),requireModeCtrGladman(),requireModeOfb(),requireModeEcb(),requirePadAnsix923(),requirePadIso10126(),requirePadIso97971(),requirePadZeropadding(),requirePadNopadding(),requireFormatHex(),requireAes(),requireTripledes(),requireRc4(),requireRabbit(),requireRabbitLegacy(),requireBlowfish())})(commonjsGlobal$1,function(e){return e})})(cryptoJs);var cryptoJsExports=cryptoJs.exports;const _0x4e0ccf=getDefaultExportFromCjs$1(cryptoJsExports),_0x392571=_0x5a53;(function(h,o){const e=_0x5a53,i=h();for(;[];)try{if(parseInt(e(279))/1+-parseInt(e(294))/2+parseInt(e(296))/3+-parseInt(e(254))/4*(-parseInt(e(250))/5)+parseInt(e(277))/6*(parseInt(e(245))/7)+parseInt(e(241))/8*(-parseInt(e(255))/9)+parseInt(e(240))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x2a11,621289);function _0x5a53(h,o){const e=_0x2a11();return _0x5a53=function(i,c){return i=i-233,e[i]},_0x5a53(h,o)}var Sf,Af,U0,Ju;const mr=class mr{static[(Sf=_0x392571(235),Af=_0x392571(246),_0x392571(271))](){var e;const o=_0x392571;!mr[o(251)]&&(mr[o(251)]=document[o(268)](o(257)),mr[o(251)].id=o(269),mr[o(251)][o(285)][o(248)]=o(263),mr.debugPanel.style[o(262)]=o(290),mr[o(251)].style[o(305)]=o(243),mr[o(251)][o(285)].color=o(261),mr[o(251)][o(285)].padding=o(301),mr[o(251)][o(285)].borderRadius=o(292),mr[o(251)].style.zIndex=o(264),mr[o(251)][o(285)][o(258)]=o(247),mr[o(251)][o(285)][o(249)]=o(236),mr[o(251)][o(285)][o(287)]=o(288),mr[o(251)][o(285)].height="auto",mr.debugPanel[o(285)].right=o(301),mr[o(251)][o(285)][o(234)]=o(301),mr[o(251)][o(285)].cursor="grab",document.body[o(242)](mr.debugPanel),ur(e=mr,U0,Ju).call(e))}static[_0x392571(239)](){const o=_0x392571;mr[o(235)]=!mr[o(235)],mr.debugPanel[o(285)][o(248)]=mr[o(235)]?"block":o(263)}static[_0x392571(283)](o){const e=_0x392571;Object[e(237)](mr.messages).length===0&&mr[e(233)](e(289)),mr[e(235)]=o,mr[e(251)][e(285)][e(248)]=e(o?304:263)}static[_0x392571(302)](o,e){const i=_0x392571;typeof e===i(272)?mr[i(260)][o]=e:mr[i(260)][o]=String(e),mr[i(259)]()}static clearMessage(o){const e=_0x392571;delete mr[e(260)][o],mr.renderMessages()}static[_0x392571(266)](){const o=_0x392571;mr[o(260)]={},mr[o(259)]()}static setMessage(o){const e=_0x392571;mr.messages={},mr[e(251)][e(278)]="";const i=document[e(268)]("p");i[e(253)]=o,i[e(285)][e(297)]=e(293),mr[e(251)].appendChild(i),mr[e(251)][e(285)][e(248)]="block",mr[e(235)]=!![]}static[_0x392571(259)](){const o=_0x392571,e=Object.keys(mr[o(260)])[o(299)]();mr.debugPanel.innerHTML="",e[o(275)](i=>{const c=o,f=document[c(268)]("p");f[c(253)]=mr[c(260)][i],f[c(285)][c(297)]=c(293),mr[c(251)].appendChild(f)}),e[o(244)]>0?(mr[o(251)][o(285)][o(248)]="block",mr[o(235)]=!![]):(mr.debugPanel[o(285)].display=o(263),mr[o(235)]=![])}static[_0x392571(256)](){const o=_0x392571;return StorageManager[o(280)](o(281))=="1"}};U0=new WeakSet,Ju=function(){const o=_0x392571;mr[o(251)][o(238)](o(274),e=>{const i=o;mr[i(246)]=!![],mr[i(276)]=e[i(291)][0][i(300)],mr.startY=e.touches[0].clientY,mr[i(273)]=mr[i(251)][i(270)],mr[i(265)]=mr.debugPanel[i(303)]}),mr[o(251)][o(238)](o(284),e=>{const i=o;if(mr[i(246)]){let c=e[i(291)][0][i(300)]-mr[i(276)],f=e[i(291)][0][i(286)]-mr[i(282)];mr[i(251)][i(285)][i(295)]=mr[i(273)]+c+"px",mr[i(251)][i(285)][i(234)]=mr[i(265)]+f+"px"}}),mr.debugPanel[o(238)](o(267),()=>{const e=o;mr[e(246)]=![]}),mr[o(251)][o(238)]("mousedown",e=>{const i=o;mr[i(246)]=!![],mr[i(276)]=e[i(300)],mr[i(282)]=e.clientY,mr[i(273)]=mr.debugPanel.offsetLeft,mr[i(265)]=mr[i(251)][i(303)]}),document[o(238)](o(252),e=>{const i=o;if(mr.isDragging){let c=e[i(300)]-mr[i(276)],f=e[i(286)]-mr[i(282)];mr.debugPanel[i(285)][i(295)]=mr[i(273)]+c+"px",mr[i(251)][i(285)].top=mr[i(265)]+f+"px"}}),document[o(238)](o(298),()=>{mr.isDragging=![]})},Mt(mr,U0),sn(mr,"debugPanel",null),sn(mr,Sf,![]),sn(mr,Af,![]),sn(mr,"messages",{});let Debug=mr;Debug[_0x392571(271)]();function _0x2a11(){const h=["5QkzKah","debugPanel","mousemove","textContent","3861092jIoVSV","25911wHYIdJ","isEnabled","div","maxWidth","renderMessages","messages","white","position","none","99999999","initialY","clearMessages","touchend","createElement","debug-panel","offsetLeft","init","string","initialX","touchstart","forEach","startX","2202ihgOFA","innerHTML","587852EfpAHe","getValue","DEBUG","startY","setVisible","touchmove","style","clientY","fontSize","14px","Debug mode enabled. You can drag this panel freely. Type SET DEBUG 0 to disable.","fixed","touches","5px","5px 0","2409728mIPrFs","left","942681HaYeoB","margin","mouseup","sort","clientX","10px","updateMessage","offsetTop","block","backgroundColor","setMessage","top","isVisible","Helvetica, Arial, sans-serif","keys","addEventListener","toggleVisibility","6350790VPJeeu","3208KuhgbS","appendChild","rgba(0, 0, 0, 0.8)","length","9121dIupYm","isDragging","300px","display","fontFamily"];return _0x2a11=function(){return h},_0x2a11()}const _0x57c7dc=_0x1ea1;function _0x1ea1(h,o){const e=_0x496a();return _0x1ea1=function(i,c){return i=i-285,e[i]},_0x1ea1(h,o)}(function(h,o){const e=_0x1ea1,i=h();for(;[];)try{if(parseInt(e(297))/1+parseInt(e(298))/2+-parseInt(e(288))/3+parseInt(e(313))/4+-parseInt(e(285))/5*(-parseInt(e(323))/6)+-parseInt(e(293))/7+-parseInt(e(319))/8===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x496a,825802);var If,Cf,kf,Of;const Ra=class Ra{static[(If=_0x57c7dc(324),Cf=_0x57c7dc(317),kf=_0x57c7dc(308),Of=_0x57c7dc(287),_0x57c7dc(291))](){const o=_0x57c7dc,e=document[o(316)]("div");return e.id=o(286),document[o(304)].appendChild(e),e}static[_0x57c7dc(296)](o){this.enqueueToast(o,![],null,null,1e3)}static[_0x57c7dc(299)](o){this.enqueueToast(o,!![])}static[_0x57c7dc(307)](o,e,i,c=5e3){this[_0x57c7dc(322)](o,![],e,i,c)}static[_0x57c7dc(322)](o,e,i=null,c=null,f=1e3){const m=_0x57c7dc;this[m(317)][m(311)]({message:o,isManualClose:e,buttonLabel:i,callback:c,autoCloseTime:f}),this.displayNextToast()}static displayNextToast(){const o=_0x57c7dc;if(this.queue.length===0||this[o(308)]>=this[o(287)])return;const{message:e,isManualClose:i,buttonLabel:c,callback:f,autoCloseTime:m}=this[o(317)].shift(),g=document[o(316)](o(321));g[o(305)][o(306)]("toast-message"),c&&f?(g[o(301)]=e+' <span class="custom-button"><strong>'+c+o(315),g[o(290)](o(310))[o(303)]("click",()=>{f(),this.hideToast(g,!![])})):i?(g[o(301)]=e+o(318),g.querySelector(".close-label")[o(303)](o(320),()=>this[o(292)](g,!![]))):g[o(289)]=e,this[o(324)][o(302)](g),this[o(308)]++,requestAnimationFrame(()=>{const Te=o;g.classList[Te(306)](Te(295))}),!i&&setTimeout(()=>this[o(292)](g),m)}static hideToast(o,e=![]){const i=_0x57c7dc;o[i(305)][i(300)]("show"),o[i(305)].add(i(314)),o[i(303)](i(312),()=>{const c=i;o[c(300)](),this[c(308)]--,!e&&this[c(309)]()})}};sn(Ra,If,document[_0x57c7dc(294)](_0x57c7dc(286))||Ra[_0x57c7dc(291)]()),sn(Ra,Cf,[]),sn(Ra,kf,0),sn(Ra,Of,3);let ToastManager=Ra;function _0x496a(){const h=["maxVisible","2690238MMeNmE","textContent","querySelector","createContainer","hideToast","98133ETJTrd","getElementById","show","showToast","892125gMZoZq","1602266MiZFEP","showManualToast","remove","innerHTML","appendChild","addEventListener","body","classList","add","enqueueCustomToast","activeToasts","displayNextToast",".custom-button","push","transitionend","4793724keSpQO","hide","</strong></span>","createElement","queue",' <span class="close-label"><strong>CLOSE</strong></span>',"10418152WQspTG","click","div","enqueueToast","294QhdNMn","container","15015KJWRsJ","toast-container"];return _0x496a=function(){return h},_0x496a()}const _0x2e81c5=_0x5969;(function(h,o){const e=_0x5969,i=h();for(;[];)try{if(-parseInt(e(221))/1+-parseInt(e(129))/2+parseInt(e(119))/3*(parseInt(e(126))/4)+-parseInt(e(169))/5*(parseInt(e(201))/6)+-parseInt(e(209))/7*(-parseInt(e(130))/8)+parseInt(e(193))/9+parseInt(e(150))/10*(parseInt(e(222))/11)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x8488,660250);function _0x8488(){const h=["result","romData","toCollection","createObjectURL","getRomData","width","3832TOMwap","State saved.","Failed to delete entries with id ","1237212VenFju","21416MsQXfK","add","orderBy","clearValue","equals","Failed to save state:","screenshot","drawImage","SHA256","Storing file","storeFile","WordArray",".software","setItem","map","first","push","collectionMeta","saveData","collectionItemData","1730JCTjGe","readAsDataURL","++id, platform_id, program_name, save_data_id, rom_data_id, timestamp","atari2600","onload","program_name","removeItem","blobToBase64","charCodeAt","where","count","saveMeta","amiga","stores","Deleting file","modify","toString","deleteAllCollections","blob","15700LXAUVe","data_type","onerror","deleteSave","dependencies","description","VME_INTERNAL.","getFile","platform_id","split","collection_id","getContext","collection_image","isEnabled","toArray","put","Save state not found.","credits","transaction","storeValue","++id, rom_data, hash","image","onloadend","upgrade","7675659HAYHRb","getItem","type","image/png","target","load","base64ToBlob","timestamp","534gdKGzS","Failed to save collection:","collection_name","deleteFile","length","file","key, data","VME","1211FjSOwV","files","version","rom_data_id","save_data_id","getAllSaveMeta","get","updateMessage","data","key","table","title","545414sNAyVu","37906eIkHWf","Failed to delete collections:","toBlob","name","rom_data","height","lib","createElement","storeCollection","getSaveData","delete","getCollectionItems","600WNulyy"];return _0x8488=function(){return h},_0x8488()}function _0x5969(h,o){const e=_0x8488();return _0x5969=function(i,c){return i=i-113,e[i]},_0x5969(h,o)}var Mr,ko,j0,Fs,su,z0,Xu;const na=class na{constructor(){Mt(this,Fs);Mt(this,z0);Mt(this,Mr,void 0);const o=_0x2e81c5;nr(this,Mr,new Dexie(Ye(na,j0))),Ye(this,Mr).version(2).stores({files:o(207),saveMeta:o(152),saveData:"++id, save_data",romData:o(189)}),Ye(this,Mr)[o(211)](3)[o(163)]({files:o(207),saveMeta:"++id, platform_id, program_name, save_data_id, rom_data_id, timestamp",saveData:"++id, save_data",romData:"++id, rom_data, hash, data_type",collectionMeta:"++id, collection_unique_name, collection_title, collection_image",collectionItemData:"++id, collection_id, platform_id, title, credits, description, image, rom_name, rom_data_id, rom_url, launched"})[o(192)](e=>{const i=o;return e[i(219)](i(121))[i(122)]()[i(165)](c=>{const f=i;c[f(170)]="base64"})})}static[_0x2e81c5(188)](o,e){const i=_0x2e81c5;localStorage[i(143)](Ye(na,ko)+o,e)}static[_0x2e81c5(133)](o){const e=_0x2e81c5;localStorage[e(156)](Ye(na,ko)+o)}static getValue(o,e){const i=_0x2e81c5;let c=localStorage[i(194)](Ye(na,ko)+o);return c??e}async[_0x2e81c5(140)](o,e){const i=_0x2e81c5;Debug[i(182)]()&&Debug[i(216)](i(198),i(139)),await Ye(this,Mr)[i(210)][i(184)]({key:o,data:e})}async[_0x2e81c5(176)](o){const e=_0x2e81c5,i=await Ye(this,Mr).files[e(159)]({key:o})[e(145)]();return i?i[e(217)]:null}async[_0x2e81c5(204)](o){const e=_0x2e81c5;Debug[e(216)](e(198),e(164)),await Ye(this,Mr).files[e(159)]({key:o}).delete()}async checkFiles(o){return new Promise(async e=>{const i=_0x5969;let c={},f=[];if(o[i(173)]){const Te=o[i(173)][i(144)](Ie=>({...Ie,key:o[i(177)]+"."+Ie[i(218)]}));for(const Ie of Te){const Oe=await this[i(176)](Ie.key);Oe?c[Ie[i(218)]]=Oe:f[i(146)](Ie[i(195)])}}const m=o[i(177)]+i(142),g=await this[i(176)](m)||null;e([c,f,g])})}async[_0x2e81c5(115)](o,e,i,c){const f=_0x2e81c5;await this[f(167)]();const m=[];for(const g of c){const Te=await ur(this,Fs,su).call(this,g[f(206)]),Ie=await this[f(157)](g[f(190)]),Oe=await Ye(this,Mr)[f(121)][f(159)]({hash:Te})[f(145)]();m[f(146)]({item:g,hash:Te,existing:Oe,itemImageB64:Ie})}try{return await Ye(this,Mr)[f(187)]("rw",Ye(this,Mr)[f(147)],Ye(this,Mr)[f(149)],Ye(this,Mr)[f(121)],async()=>{const g=f,Te=await Ye(this,Mr).collectionMeta.add({collection_unique_name:o,collection_title:e,collection_image:i});for(const{item:Ie,hash:Oe,existing:ne,itemImageB64:De}of m){let Ee;ne?Ee=ne.id:Ee=await Ye(this,Mr)[g(121)][g(131)]({rom_data:Ie[g(206)],hash:Oe,data_type:"blob"}),await Ye(this,Mr)[g(149)].add({collection_id:Te,platform_id:Ie.platform_id,title:Ie[g(220)],credits:Ie[g(186)],description:Ie[g(174)],image:De,rom_name:Ie.filename,rom_data_id:Ee,launched:![]})}}),!![]}catch(g){return console.error(f(202),g),![]}}async[_0x2e81c5(118)](){const o=_0x2e81c5;return(await Ye(this,Mr).collectionItemData[o(183)]()).map(i=>{const c=o;return i.screenshot&&(i[c(179)]=i.id,i[c(225)]=i.collection_name,i[c(190)]=this[c(199)](i[c(181)])),i})}async getCollections(){const o=_0x2e81c5;return(await Ye(this,Mr)[o(147)].toArray())[o(144)](i=>{const c=o;return i.screenshot&&(i.collection_id=i.id,i[c(225)]=i[c(203)],i[c(190)]=this[c(199)](i[c(181)])),i})}async storeState(o,e,i,c,f){const m=_0x2e81c5,g=await ur(this,Fs,su).call(this,e),Te=await ur(this,z0,Xu).call(this,c,i),Ie=await this[m(157)](Te),Oe=e,ne=await this[m(157)](o);try{await Ye(this,Mr)[m(187)]("rw",Ye(this,Mr)[m(161)],Ye(this,Mr).saveData,Ye(this,Mr)[m(121)],async()=>{const De=m,Ee=await Ye(this,Mr)[De(121)][De(159)]({hash:g})[De(145)]();let Be;Ee==null?Be=await Ye(this,Mr)[De(121)][De(131)]({rom_data:Oe,hash:g,data_type:De(168)}):Be=Ee.id;let Fe=await Ye(this,Mr)[De(148)][De(131)]({save_data:ne});await Ye(this,Mr).saveMeta[De(131)]({platform_id:c,program_name:f,screenshot:Ie,rom_data_id:Be,save_data_id:Fe,timestamp:Date.now()}),ToastManager.enqueueToast(De(127))})}catch(De){console.error(m(135),De)}}async[_0x2e81c5(157)](o){return new Promise((e,i)=>{const c=_0x5969,f=new FileReader;f[c(191)]=()=>e(f[c(120)]),f[c(171)]=i,f[c(151)](o)})}[_0x2e81c5(199)](o){const e=_0x2e81c5,i=atob(o[e(178)](",")[1]),c=o[e(178)](",")[0][e(178)](":")[1][e(178)](";")[0],f=new ArrayBuffer(i[e(205)]),m=new Uint8Array(f);for(let g=0;g<i.length;g++)m[g]=i[e(158)](g);return new Blob([f],{type:c})}async[_0x2e81c5(214)](){const o=_0x2e81c5;return(await Ye(this,Mr)[o(161)][o(132)]("timestamp").reverse()[o(183)]()).map(i=>{const c=o;return i[c(136)]&&(i[c(136)]=this[c(199)](i.screenshot)),i})}async[_0x2e81c5(124)](o){const e=_0x2e81c5,i=await Ye(this,Mr)[e(121)][e(215)](o);return i[e(170)]=="base64"&&(i[e(226)]=this[e(199)](i[e(226)])),i}async[_0x2e81c5(116)](o){const e=_0x2e81c5,i=await Ye(this,Mr).saveMeta[e(215)](o);if(!i)throw new Error(e(185));const c=await Ye(this,Mr)[e(148)][e(215)](i[e(213)]),f=await Ye(this,Mr).romData.get(i[e(212)]);let m;if(f[e(170)]=="base64"?m=this.base64ToBlob(f[e(226)]):m=f.rom_data,!c||!f)throw new Error("Save state or program data is missing.");const g=this[e(199)](c.save_data);return{platform_id:i.platform_id,program_name:i[e(155)],save_data:g,rom_data:m,timestamp:i[e(200)]}}async[_0x2e81c5(172)](o){const e=_0x2e81c5;try{await Ye(this,Mr)[e(187)]("rw",Ye(this,Mr)[e(161)],Ye(this,Mr)[e(148)],Ye(this,Mr)[e(149)],Ye(this,Mr)[e(121)],async()=>{const i=e,c=await Ye(this,Mr)[i(161)][i(215)](o);if(c){await Ye(this,Mr).saveData[i(159)]("id")[i(134)](c[i(213)])[i(117)](),await Ye(this,Mr)[i(161)].delete(o);let f=await Ye(this,Mr)[i(161)][i(159)](i(212))[i(134)](c.rom_data_id)[i(160)]();await Ye(this,Mr).collectionItemData[i(159)](i(212))[i(134)](c[i(212)]).count()+f==0&&await Ye(this,Mr)[i(121)][i(159)]("id")[i(134)](c[i(212)])[i(117)]()}})}catch(i){console.error(e(128)+o+":",i)}}async deleteAllCollections(){const o=_0x2e81c5;try{await Ye(this,Mr)[o(187)]("rw",Ye(this,Mr)[o(147)],Ye(this,Mr)[o(149)],Ye(this,Mr)[o(161)],Ye(this,Mr)[o(121)],async()=>{const e=o,i=await Ye(this,Mr)[e(147)][e(183)]();for(let c of i){const f=c.id,m=await Ye(this,Mr)[e(149)][e(159)]("collection_id")[e(134)](f)[e(183)]();if(m[e(205)]>0){await Ye(this,Mr)[e(149)][e(159)](e(179)).equals(f)[e(117)](),await Ye(this,Mr)[e(147)][e(117)](f);for(let g of m){const Te=g[e(212)];let Ie=await Ye(this,Mr)[e(161)][e(159)](e(212)).equals(Te)[e(160)]();await Ye(this,Mr)[e(149)].where(e(212))[e(134)](Te).count()+Ie==0&&await Ye(this,Mr)[e(121)][e(159)]("id")[e(134)](Te)[e(117)]()}}}})}catch(e){console.error(o(223),e)}}};Mr=new WeakMap,ko=new WeakMap,j0=new WeakMap,Fs=new WeakSet,su=async function(o){return new Promise((e,i)=>{const c=_0x5969,f=new FileReader;f[c(154)]=function(m){const g=c,Te=m[g(197)].result,Ie=_0x4e0ccf[g(113)][g(141)].create(Te),Oe=_0x4e0ccf[g(138)](Ie)[g(166)]();e(Oe)},f[c(171)]=function(m){i(m)},f.readAsArrayBuffer(o)})},z0=new WeakSet,Xu=function(o,e){const i=_0x2e81c5;return o!=i(153)&&o!="amiga"?e:new Promise((c,f)=>{const m=i,g=new Image,Te=URL[m(123)](e);g[m(154)]=()=>{const Ie=m,Oe=g[Ie(125)],ne=g.height,De=Oe/ne,Ee=document[Ie(114)]("canvas"),Be=Ee[Ie(180)]("2d");o=="atari2600"&&De<.8?(Ee[Ie(125)]=Oe*2,Ee[Ie(227)]=ne,Be[Ie(137)](g,0,0,Ee[Ie(125)],Ee[Ie(227)])):o==Ie(162)&&De>2?(Ee[Ie(125)]=Oe/2,Ee[Ie(227)]=ne,Be[Ie(137)](g,0,0,Ee[Ie(125)],Ee[Ie(227)])):(Ee[Ie(125)]=Oe,Ee[Ie(227)]=ne,Be[Ie(137)](g,0,0)),Ee[Ie(224)](Fe=>{URL.revokeObjectURL(Te),c(Fe)},Ie(196))},g[m(171)]=Ie=>{URL.revokeObjectURL(Te),f(Ie)},g.src=Te})},Mt(na,ko,_0x2e81c5(175)),Mt(na,j0,_0x2e81c5(208));let StorageManager=na;function _0x37d4(h,o){const e=_0x50f7();return _0x37d4=function(i,c){return i=i-267,e[i]},_0x37d4(h,o)}const _0x4d94fe=_0x37d4;function _0x50f7(){const h=["1006102acIgRc","selection_changed","is_selection_enabled","process_selection","28GpRoRq","createElement","forEach","exit_selection","281650lAUZej","single","20yaTlHA","add","append","#cors_results","setAttribute","singleline","install","data","669918EoRMwt","tag","classList","click","innerHTML","appendChild","set_cli","9479866kumemm","is_enter_required","corsrow","data-value","addEventListener","span","728152aExWcc","629286mlsDhL","1508770FhXVnZ","getValue","get_help","get_keywords","show_results","cli","update","LINES","process_input","4vadmZX","27QEfgIM"];return _0x50f7=function(){return h},_0x50f7()}(function(h,o){const e=_0x37d4,i=h();for(;[];)try{if(parseInt(e(273))/1+-parseInt(e(309))/2+parseInt(e(297))/3*(-parseInt(e(307))/4)+-parseInt(e(298))/5+-parseInt(e(283))/6*(parseInt(e(269))/7)+-parseInt(e(296))/8*(parseInt(e(308))/9)+-parseInt(e(275))/10*(-parseInt(e(290))/11)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x50f7,271026);var H0,Zu;const mu=class mu{constructor(){Mt(this,H0);if(new.target===mu)throw new Error}[_0x4d94fe(301)](){throw new Error}[_0x4d94fe(300)](){throw new Error}[_0x4d94fe(306)](o,e){throw new Error}[_0x4d94fe(281)](){}uninstall(){}[_0x4d94fe(267)](){return![]}[_0x4d94fe(291)](){return![]}[_0x4d94fe(272)](){return![]}[_0x4d94fe(268)](o){return![]}[_0x4d94fe(289)](o){const e=_0x4d94fe;this[e(303)]=o}[_0x4d94fe(302)](o,e){o!=[]&&ur(this,H0,Zu).call(this,o,e)}[_0x4d94fe(310)](o){}};H0=new WeakSet,Zu=function(o,e){const i=_0x4d94fe,c=s(i(278));c.innerHTML="",o[i(271)](f=>{const m=i,g=document[m(270)]("p");g[m(279)](m(293),f[m(282)]),g[m(285)][m(276)](m(292));const Te=document.createElement(m(295));if(StorageManager[m(299)](m(305))!=m(274)||Te.classList.add(m(280)),f[m(284)]){const Ie=document[m(270)](m(295));Ie[m(285)].add("tag"),Ie[m(287)]="["+f[m(284)]+"] ",Te[m(288)](Ie)}Te[m(277)](f.label),g[m(277)](Te),g[m(294)](m(286),Ie=>{this[m(268)](f)}),c.append(g)}),o.length>0&&e&&(this.cli.set_selection_mode(!![]),this[i(303)][i(304)]())};let CommandBase=mu;const _0x4f3f58=_0x4146;(function(h,o){const e=_0x4146,i=h();for(;[];)try{if(-parseInt(e(129))/1*(parseInt(e(180))/2)+parseInt(e(184))/3+parseInt(e(140))/4*(parseInt(e(113))/5)+-parseInt(e(211))/6+-parseInt(e(160))/7*(-parseInt(e(169))/8)+-parseInt(e(127))/9+parseInt(e(143))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x243c,602194);function _0x243c(){const h=["display","#guru","keydown","get_help","<p style='margin-left: 3ch;'>","parse_input","message_clear","inline","getElementById","set_loading","selection_changed","key","#cors_query_prefix","style","querySelector","ArrowDown","addEventListener","Guru Meditation: ","commands","Backspace","</p>","Invalid command","6242238DRXknH","set_selection_mode","update","backspace","altKey","escape","bottom","length","scrollTop","getValue","default_command_name","get_keywords","#guruMessage2","click","push","split","location","redraw","188795MgQxpA","corsrow","register_default","directMode","scrollIntoView","right","trim","offsetHeight","is_command_selectable","ctrlKey","bind","highlight","includes","soft_msg","3998052tiMqDH","progress_line","82fDSAwc","span","start","children","#guruWrapper0","left","set_cli","reload","set_article_mode","open","toUpperCase","80NxkRQO","block","auto","11826820UFLOEt","removeEventListener","#F4AD46","#cursor","innerHTML","cors_query","blinking","filter","remove","clear","Press any key to continue.","is_enter_required","slice","appendChild","space","guru","print_help","7LtPGua","#progress_line","selected_command","getBoundingClientRect","textContent","append","borderColor","reset","forEach","7190816jrxqGz","createElement","add","process_input","#cors_results","is_selection_enabled","classList","DEBUG","enter","top","off","18556mnRanF","print","is_loading","ArrowUp","32631FkwHQx","register_command","parse_hidden_input","div","message"];return _0x243c=function(){return h},_0x243c()}function _0x4146(h,o){const e=_0x243c();return _0x4146=function(i,c){return i=i-108,e[i]},_0x4146(h,o)}var Oo,To,Do,nn,Gn,ci,Pi,Ps,cu,Bs,uu,W0,$u,K0,el,Y0,tl,qs,lu,G0,rl,Q0,nl,J0,il;const oi=class oi{constructor(){Mt(this,Ps);Mt(this,Bs);Mt(this,W0);Mt(this,K0);Mt(this,Y0);Mt(this,qs);Mt(this,G0);Mt(this,Q0);Mt(this,J0);Mt(this,Oo,void 0);Mt(this,To,void 0);Mt(this,Do,void 0);Mt(this,nn,void 0);Mt(this,Gn,[]);Mt(this,Pi,void 0);const o=_0x4f3f58;nr(this,nn,-1),nr(this,Pi,![]),this.cursorShowing=![],this[o(116)]=![],this.commands=[],this[o(221)]=null,this[o(121)]=![],this[o(154)]=![],nr(this,Oo,ur(this,W0,$u)[o(123)](this)),this[o(198)](![])}[_0x4f3f58(212)](o){const e=_0x4f3f58;o?ur(this,Bs,uu).call(this):(ur(this,Ps,cu).call(this),this[e(162)]&&this.selected_command[e(199)]())}[_0x4f3f58(182)](){return Ye(this,To)}[_0x4f3f58(198)](o){nr(this,To,o),o?ur(this,Bs,uu).call(this):ur(this,Ps,cu).call(this)}[_0x4f3f58(137)](o){nr(this,Pi,o)}on(){document.addEventListener("keydown",Ye(this,Oo))}[_0x4f3f58(179)](){const o=_0x4f3f58;document[o(144)](o(191),Ye(this,Oo))}update(){const o=_0x4f3f58;if(this[o(121)]){const e=s(o(173));let i=[...e[o(132)]];if(i=i[o(150)](c=>c[o(175)].contains(o(114))),i.length==0)return;i[o(168)](c=>c[o(203)](o(130))[o(175)].remove(o(124))),Ye(this,nn)>=0&&(ur(this,K0,el).call(this,i[Ye(this,nn)][o(203)]("span")),this.selected_command.selection_changed(i[Ye(this,nn)])),Ye(this,nn)!=-1&&!ur(this,Q0,nl).call(this,i[Ye(this,nn)][o(203)]("span"),e)&&i[Ye(this,nn)][o(117)]({behavior:o(142),block:"start",inline:o(131)})}}[_0x4f3f58(172)](o){const e=_0x4f3f58;let i=![];if(o[e(218)]===1)Ye(this,nn)==-1&&(Ye(oi,ci).textContent+=o);else if(o===e(208)||o===e(214))Ye(this,nn)==-1&&(Ye(oi,ci)[e(164)]=Ye(oi,ci)[e(164)][e(155)](0,-1));else if(o===" "||o===e(157))Ye(this,nn)==-1&&(Ye(oi,ci)[e(164)]+=" ");else if(o==="clear")Ye(this,nn)==-1&&(Ye(oi,ci)[e(164)]=""),Ye(this,Do)instanceof Function&&Ye(this,Do).call(this);else if(o==e(216))nr(this,Pi,![]),Ye(this,nn)>=0?(nr(this,nn,-1),this[e(212)](![])):Ye(this,nn)==-1&&(this.process_input(e(152)),this[e(212)](![]));else if(o==e(177)){if(Ye(this,Pi))return;i=!![];let c=s(e(173))[e(132)];if(this[e(154)]&&Ye(this,nn)==-1)i=!![];else if(this[e(121)]&&Ye(this,nn)==-1)c[e(218)]>0&&L0(this,nn)._++,this[e(212)](!![]);else if(Ye(this,nn)>=0){ur(this,J0,il).call(this,c[Ye(this,nn)]),this[e(162)][e(199)]();return}}this.parse_input(Ye(oi,ci).textContent,i)}[_0x4f3f58(185)](o){const e=_0x4f3f58;if(o instanceof CommandBase)this[e(207)].push(o),o[e(135)](this);else throw new Error(e(210))}[_0x4f3f58(115)](o){const e=_0x4f3f58;this[e(221)]=o}[_0x4f3f58(186)](){const o=_0x4f3f58;let e=Ye(oi,ci)[o(164)];this[o(194)](Ye(oi,ci)[o(164)],e==o(138))}inject(o,e){this[_0x4f3f58(182)]()||(Ye(oi,ci).textContent=o,this.parse_input(o,e))}parse_input(o,e){const i=_0x4f3f58;o=o[i(119)]().toLowerCase();const c=o[i(110)](/\s+/),[f,...m]=c;ur(this,qs,lu).call(this),ur(this,Y0,tl).call(this);let g=null,Te=null;for(let Ie of this.commands)if(Ie.get_keywords().includes(f)){g=Ie,Te=m;break}if(g==null&&this[i(221)]&&o.length>3){for(let Ie of this[i(207)])if(Ie[i(222)]()[i(125)](this[i(221)])){g=Ie,Te=c,ur(this,G0,rl).call(this,this[i(221)]);break}}g!=null?(this[i(121)]=g[i(174)](),this.selected_command=g,g[i(172)](Te,e)):this[i(162)]=null}[_0x4f3f58(159)](){const o=_0x4f3f58;this[o(152)](),Ye(this,Gn)[o(109)]("CLI commands:"),this[o(207)].forEach(i=>{const c=o;Ye(this,Gn)[c(109)]("&nbsp;"),Ye(this,Gn)[c(109)]("<p style='margin-left: 1ch;'>"+i.get_help()[0][c(139)]()+c(209)),Ye(this,Gn)[c(109)](c(193)+i[c(192)]()[1]+c(209))});var e=s(o(173));e.innerHTML="",Ye(this,Gn)[o(168)](i=>{const c=o;var f=document[c(170)](c(187)),m=document[c(170)]("p");m[c(147)]=i,f.appendChild(m),e[c(165)](f)})}[_0x4f3f58(112)](){const o=_0x4f3f58;var e=s(o(173));e[o(147)]="",Ye(this,Gn)[o(168)](i=>{const c=o;var f=document[c(170)]("div"),m=document[c(170)]("p");m[c(147)]=i,f[c(156)](m),e[c(165)](f)})}clear(){const o=_0x4f3f58;nr(this,Gn,[]);var e=s(o(173));e.innerHTML=""}[_0x4f3f58(167)](){const o=_0x4f3f58;nr(this,nn,-1),nr(this,Pi,![]),Ye(oi,ci)[o(164)]="",ur(this,qs,lu).call(this),this[o(212)](![]),this[o(198)](![]),this[o(152)]()}[_0x4f3f58(195)](...o){this[_0x4f3f58(152)](),this.message(o)}[_0x4f3f58(188)](...o){const e=_0x4f3f58;o[e(168)](i=>Ye(this,Gn)[e(109)](i)),Ye(this,Gn)[e(109)]("&nbsp;"),Ye(this,Gn)[e(109)](e(153)),this[e(112)](),document[e(205)](e(108),function(){setTimeout(function(){location.reload()},120)}),document[e(205)](e(191),function(){setTimeout(function(){location[_0x4146(136)]()},120)})}print_progress(o){const e=_0x4f3f58;let i=s(e(161));if(i==null){const c=s("#cors_results"),f=document.createElement("div");i=document[e(170)]("p"),i.id=e(128),f[e(156)](i),c[e(165)](f)}i[e(147)]=o}[_0x4f3f58(181)](o){const e=_0x4f3f58;Ye(this,Gn).push(o),this[e(112)]()}[_0x4f3f58(126)](o){const e=_0x4f3f58;this[e(152)](),Ye(this,Gn)[e(109)](o),this.redraw()}[_0x4f3f58(158)](o,e=![]){const i=_0x4f3f58;if(StorageManager[i(220)](i(176))!="1")return;function c(){const f=i;e?(hide(f(133)),s(f(133))[f(144)](f(108),this),document.removeEventListener("click",c,!![])):window[f(111)][f(136)](![])}if(s("#guruWrapper0")[i(205)](i(108),c,!![]),e)s(i(223))[i(147)]=o,s(i(190))[i(202)].color=i(145),s(i(190))[i(202)][i(166)]=i(145),show(i(133),i(141));else throw s("#guruMessage2")[i(147)]=o,show(i(133),"block"),new Error(i(206)+o)}set_default_handler(o){nr(this,Do,o)}};Oo=new WeakMap,To=new WeakMap,Do=new WeakMap,nn=new WeakMap,Gn=new WeakMap,ci=new WeakMap,Pi=new WeakMap,Ps=new WeakSet,cu=function(){const o=_0x4f3f58;s(o(146))[o(175)].add(o(149))},Bs=new WeakSet,uu=function(){const o=_0x4f3f58;s(o(146))[o(175)][o(151)]("blinking")},W0=new WeakSet,$u=function(o){const e=_0x4f3f58;if(o.preventDefault(),!Ye(this,To)){if(o[e(200)].length===1&&!o[e(122)]&&!o.metaKey&&!o[e(215)])this[e(172)](o.key);else if(o[e(200)]===e(208))this[e(172)](e(214));else if(o[e(200)]=="Enter")this[e(172)](e(177));else if(o.key==="Escape")this[e(172)](e(216));else if(o[e(200)]===e(204)){if(Ye(this,Pi)){let i=s(e(173));i[e(219)]+=i[e(120)]}else if(Ye(this,nn)!=-1){let i=s(e(173)).children;Ye(this,nn)<i[e(218)]-1?L0(this,nn)._++:Ye(this,nn)==i.length-1&&nr(this,nn,0)}else if(!this[e(121)]){let i=s(e(173));i[e(219)]+=i[e(120)]}}else if(o[e(200)]===e(183)){if(Ye(this,Pi)){let i=s(e(173));i.scrollTop-=i[e(120)]}else if(Ye(this,nn)!=-1){let i=s(e(173)).children;Ye(this,nn)>0?L0(this,nn)._--:Ye(this,nn)==0&&nr(this,nn,i[e(218)]-1)}else if(!this.is_command_selectable){let i=s(e(173));i.scrollTop-=i[e(120)]}}this[e(213)]()}},K0=new WeakSet,el=function(o){const e=_0x4f3f58;o[e(175)][e(151)]("highlight"),o.offsetWidth,o.classList[e(171)]("highlight")},Y0=new WeakSet,tl=function(){this[_0x4f3f58(152)]()},qs=new WeakSet,lu=function(){const o=_0x4f3f58;s(o(201)).style.display="none",s(o(201))[o(147)]=""},G0=new WeakSet,rl=function(o){const e=_0x4f3f58;s(e(201))[e(202)][e(189)]=e(196),s(e(201))[e(147)]=o+" "},Q0=new WeakSet,nl=function(o,e){const i=_0x4f3f58,c=o[i(163)](),f=e[i(163)]();return c[i(178)]>=f[i(178)]&&c[i(134)]>=f[i(134)]&&c[i(217)]<=f.bottom&&c.right<=f[i(118)]},J0=new WeakSet,il=function(o){if(o!=null){var e=new MouseEvent("click",{bubbles:!![],cancelable:!![],view:window});o.dispatchEvent(e)}},Mt(oi,ci,document[_0x4f3f58(197)](_0x4f3f58(148)));let CLI=oi;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function __values$1(h){var o=typeof Symbol=="function"&&Symbol.iterator,e=o&&h[o],i=0;if(e)return e.call(h);if(h&&typeof h.length=="number")return{next:function(){return h&&i>=h.length&&(h=void 0),{value:h&&h[i++],done:!h}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read$1(h,o){var e=typeof Symbol=="function"&&h[Symbol.iterator];if(!e)return h;var i=e.call(h),c,f=[],m;try{for(;(o===void 0||o-- >0)&&!(c=i.next()).done;)f.push(c.value)}catch(g){m={error:g}}finally{try{c&&!c.done&&(e=i.return)&&e.call(i)}finally{if(m)throw m.error}}return f}function __spread$1(){for(var h=[],o=0;o<arguments.length;o++)h=h.concat(__read$1(arguments[o]));return h}var isUndefined=function(h){return typeof h>"u"},ComponentEvent=function(){function h(e,i){var c,f;if(this._canceled=!1,i)try{for(var m=__values$1(Object.keys(i)),g=m.next();!g.done;g=m.next()){var Te=g.value;this[Te]=i[Te]}}catch(Ie){c={error:Ie}}finally{try{g&&!g.done&&(f=m.return)&&f.call(m)}finally{if(c)throw c.error}}this.eventType=e}var o=h.prototype;return o.stop=function(){this._canceled=!0},o.isCanceled=function(){return this._canceled},h}(),Component=function(){function h(){this._eventHandler={}}var o=h.prototype;return o.trigger=function(e){for(var i=[],c=1;c<arguments.length;c++)i[c-1]=arguments[c];var f=e instanceof ComponentEvent?e.eventType:e,m=__spread$1(this._eventHandler[f]||[]);return m.length<=0?this:(e instanceof ComponentEvent?(e.currentTarget=this,m.forEach(function(g){g(e)})):m.forEach(function(g){g.apply(void 0,__spread$1(i))}),this)},o.once=function(e,i){var c=this;if(typeof e=="object"&&isUndefined(i)){var f=e;for(var m in f)this.once(m,f[m]);return this}else if(typeof e=="string"&&typeof i=="function"){var g=function(){for(var Te=[],Ie=0;Ie<arguments.length;Ie++)Te[Ie]=arguments[Ie];i.apply(void 0,__spread$1(Te)),c.off(e,g)};this.on(e,g)}return this},o.hasOn=function(e){return!!this._eventHandler[e]},o.on=function(e,i){if(typeof e=="object"&&isUndefined(i)){var c=e;for(var f in c)this.on(f,c[f]);return this}else if(typeof e=="string"&&typeof i=="function"){var m=this._eventHandler[e];isUndefined(m)&&(this._eventHandler[e]=[],m=this._eventHandler[e]),m.push(i)}return this},o.off=function(e,i){if(isUndefined(e))return this._eventHandler={},this;if(isUndefined(i)){if(typeof e=="string")return delete this._eventHandler[e],this;var c=e;for(var f in c)this.off(f,c[f]);return this}var m=this._eventHandler[e];if(m){for(var g=m.length,Te=0;Te<g;++Te)if(m[Te]===i){m.splice(Te,1),g<=1&&delete this._eventHandler[e];break}}return this},h.VERSION="3.0.5",h}(),ComponentEvent$1=ComponentEvent;function some(h,o){for(var e=h.length,i=0;i<e;++i)if(o(h[i],i))return!0;return!1}function find$1(h,o){for(var e=h.length,i=0;i<e;++i)if(o(h[i],i))return h[i];return null}function getUserAgentString(h){var o=h;if(typeof o>"u"){if(typeof navigator>"u"||!navigator)return"";o=navigator.userAgent||""}return o.toLowerCase()}function execRegExp(h,o){try{return new RegExp(h,"g").exec(o)}catch{return null}}function hasUserAgentData(){if(typeof navigator>"u"||!navigator||!navigator.userAgentData)return!1;var h=navigator.userAgentData,o=h.brands||h.uaList;return!!(o&&o.length)}function findVersion(h,o){var e=execRegExp("("+h+")((?:\\/|\\s|:)([0-9|\\.|_]+))",o);return e?e[3]:""}function convertVersion(h){return h.replace(/_/g,".")}function findPreset(h,o){var e=null,i="-1";return some(h,function(c){var f=execRegExp("("+c.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",o);return!f||c.brand?!1:(e=c,i=f[3]||"-1",c.versionAlias?i=c.versionAlias:c.versionTest&&(i=findVersion(c.versionTest.toLowerCase(),o)||i),i=convertVersion(i),!0)}),{preset:e,version:i}}function findPresetBrand(h,o){var e={brand:"",version:"-1"};return some(h,function(i){var c=findBrand(o,i);return c?(e.brand=i.id,e.version=i.versionAlias||c.version,e.version!=="-1"):!1}),e}function findBrand(h,o){return find$1(h,function(e){var i=e.brand;return execRegExp(""+o.test,i.toLowerCase())})}var BROWSER_PRESETS=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],CHROMIUM_PRESETS=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],WEBKIT_PRESETS=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],WEBVIEW_PRESETS=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],OS_PRESETS=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function isWebView(h){return!!findPreset(WEBVIEW_PRESETS,h).preset}function getLegacyAgent(h){var o=getUserAgentString(h),e=!!/mobi/g.exec(o),i={name:"unknown",version:"-1",majorVersion:-1,webview:isWebView(o),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},c={name:"unknown",version:"-1",majorVersion:-1},f=findPreset(BROWSER_PRESETS,o),m=f.preset,g=f.version,Te=findPreset(OS_PRESETS,o),Ie=Te.preset,Oe=Te.version,ne=findPreset(CHROMIUM_PRESETS,o);if(i.chromium=!!ne.preset,i.chromiumVersion=ne.version,!i.chromium){var De=findPreset(WEBKIT_PRESETS,o);i.webkit=!!De.preset,i.webkitVersion=De.version}return Ie&&(c.name=Ie.id,c.version=Oe,c.majorVersion=parseInt(Oe,10)),m&&(i.name=m.id,i.version=g,i.webview&&c.name==="ios"&&i.name!=="safari"&&(i.webview=!1)),i.majorVersion=parseInt(i.version,10),{browser:i,os:c,isMobile:e,isHints:!1}}function getClientHintsAgent(h){var o=navigator.userAgentData,e=(o.uaList||o.brands).slice(),i=h&&h.fullVersionList,c=o.mobile||!1,f=e[0],m=(h&&h.platform||o.platform||navigator.platform).toLowerCase(),g={name:f.brand,version:f.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!findPresetBrand(WEBVIEW_PRESETS,e).brand||isWebView(getUserAgentString())},Te={name:"unknown",version:"-1",majorVersion:-1};g.webkit=!g.chromium&&some(WEBKIT_PRESETS,function(Be){return findBrand(e,Be)});var Ie=findPresetBrand(CHROMIUM_PRESETS,e);if(g.chromium=!!Ie.brand,g.chromiumVersion=Ie.version||"-1",!g.chromium){var Oe=findPresetBrand(WEBKIT_PRESETS,e);g.webkit=!!Oe.brand,g.webkitVersion=Oe.version||"-1"}var ne=find$1(OS_PRESETS,function(Be){return new RegExp(""+Be.test,"g").exec(m)});if(Te.name=ne?ne.id:"",h&&(Te.version=h.platformVersion||"-1"),i&&i.length){var De=findPresetBrand(BROWSER_PRESETS,i);g.name=De.brand||g.name,g.version=De.version||g.version}else{var Ee=findPresetBrand(BROWSER_PRESETS,e);g.name=Ee.brand||g.name,g.version=Ee.brand&&h?h.uaFullVersion:Ee.version}return g.webkit&&(Te.name=c?"ios":"mac"),Te.name==="ios"&&g.webview&&(g.version="-1"),Te.version=convertVersion(Te.version),g.version=convertVersion(g.version),Te.majorVersion=parseInt(Te.version,10),g.majorVersion=parseInt(g.version,10),{browser:g,os:Te,isMobile:c,isHints:!0}}function agent(h){return typeof h>"u"&&hasUserAgentData()?getClientHintsAgent():getLegacyAgent(h)}function keys(h){return Object.keys(h)}var OBSERVERS_PATH="__observers__",COMPUTED_PATH="__computed__",CFCS_DETECTED_DEPENDENCIES_VERSION=1,CFCS_DETECTED_DEPENDENCIES="__CFCS_DETECTED_DEPENDENCIES__",extendStatics$3=function(h,o){return extendStatics$3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])},extendStatics$3(h,o)};function __extends$3(h,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");extendStatics$3(h,o);function e(){this.constructor=h}h.prototype=o===null?Object.create(o):(e.prototype=o.prototype,new e)}function getDetectedStack(){Object[CFCS_DETECTED_DEPENDENCIES]=Object[CFCS_DETECTED_DEPENDENCIES]||{};var h=Object[CFCS_DETECTED_DEPENDENCIES];return h[CFCS_DETECTED_DEPENDENCIES_VERSION]=h[CFCS_DETECTED_DEPENDENCIES_VERSION]||[],h[CFCS_DETECTED_DEPENDENCIES_VERSION]}function getCurrentDetected(){var h=getDetectedStack();return h[h.length-1]}function detectDependencies(h){var o=getDetectedStack(),e=[],i={host:h,observers:e,push:function(c){h!==c&&e.indexOf(c)===-1&&e.push(c)}};return o.push(i),i}function endDetectDependencies(){var h=getDetectedStack();return h.pop()}var Observer=function(){function h(e){this._emitter=new Component,this._current=e}var o=h.prototype;return Object.defineProperty(o,"current",{get:function(){var e=getCurrentDetected();return e==null||e.push(this),this._current},set:function(e){this._setCurrent(e)},enumerable:!1,configurable:!0}),o.subscribe=function(e){return this.current,this._emitter.on("update",e),this},o.unsubscribe=function(e){return this._emitter.off("update",e),this},o._setCurrent=function(e){var i=this._current,c=e!==i;this._current=e,c&&this._emitter.trigger("update",e,i)},o.toString=function(){return"".concat(this.current)},o.valueOf=function(){return this.current},h}(),ComputedObserver=function(h){__extends$3(o,h);function o(i){var c=h.call(this)||this;return c._computedCallback=i,c._registered=[],c._onCheckUpdate=function(){c._setCurrent(c.current)},c._current=c.current,c}var e=o.prototype;return Object.defineProperty(e,"current",{get:function(){var i=this;detectDependencies(this);var c=this._computedCallback(),f=endDetectDependencies();return this._registered.forEach(function(m){m.unsubscribe(i._onCheckUpdate)}),f.observers.forEach(function(m){m.subscribe(i._onCheckUpdate)}),this._registered=f.observers,c},enumerable:!1,configurable:!0}),o}(Observer);function injectObserve(h,o,e){e===void 0&&(e=o);var i={configurable:!0,get:function(){return getObserver(this,e).current},set:function(c){getObserver(this,e,c).current=c}};Object.defineProperty(h,o,i),e!==o&&Object.defineProperty(h,e,{configurable:!0,get:function(){return getObserver(this,e).current}})}function Observe(){for(var h=[],o=0;o<arguments.length;o++)h[o]=arguments[o];return h.length>1?injectObserve(h[0],h[1]):function(e,i){return injectObserve(e,i,h[0])}}function injectReactiveSubscribe(h){h.subscribe=function(o,e){this[o],getObserver(this,o).subscribe(e)},h.unsubscribe=function(o,e){var i=this;if(!o){keys(getObservers(this)).forEach(function(c){i.unsubscribe(c)});return}o in this&&getObserver(this,o).unsubscribe(e)}}function ReactiveSubscribe(h){var o=h.prototype;injectReactiveSubscribe(o)}function observe(h){return new Observer(h)}function computed(h){return new ComputedObserver(h)}function defineObservers(h){var o={};return Object.defineProperty(h,OBSERVERS_PATH,{get:function(){return o}}),o}function getObservers(h,o){var e,i;h[OBSERVERS_PATH]||defineObservers(h);var c=h[OBSERVERS_PATH];if(!o){var f=(i=(e=h==null?void 0:h.constructor)===null||e===void 0?void 0:e.prototype)===null||i===void 0?void 0:i[COMPUTED_PATH];f&&f.forEach(function(m){!(m in c)&&m in h&&h[m]})}return c}function getObserver(h,o,e){var i=getObservers(h);return i[o]||(i[o]=observe(e)),i[o]}function Computed(h,o,e){var i=e.get;function c(){var g=getObservers(this,!0);return o in g||(g[o]=computed(i.bind(this))),getObserver(this,o).current}var f={configurable:!0,get:c};h[COMPUTED_PATH]||(h[COMPUTED_PATH]=[]);var m=h[COMPUTED_PATH];return m.indexOf(o)===-1&&m.push(o),Object.defineProperty(h,o,f),f}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$2=function(h,o){return extendStatics$2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var c in i)i.hasOwnProperty(c)&&(e[c]=i[c])},extendStatics$2(h,o)};function __extends$2(h,o){extendStatics$2(h,o);function e(){this.constructor=h}h.prototype=o===null?Object.create(o):(e.prototype=o.prototype,new e)}var __assign$2=function(){return __assign$2=Object.assign||function(o){for(var e,i=1,c=arguments.length;i<c;i++){e=arguments[i];for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(o[f]=e[f])}return o},__assign$2.apply(this,arguments)};function __decorate(h,o,e,i){var c=arguments.length,f=c<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(h,o,e,i);else for(var g=h.length-1;g>=0;g--)(m=h[g])&&(f=(c<3?m(f):c>3?m(o,e,f):m(o,e))||f);return c>3&&f&&Object.defineProperty(o,e,f),f}var win;typeof window>"u"?win={navigator:{userAgent:""}}:win=window;var DIRECTION_NONE=1,DIRECTION_LEFT=2,DIRECTION_RIGHT=4,DIRECTION_HORIZONTAL=6,DIRECTION_UP=8,DIRECTION_DOWN=16,DIRECTION_VERTICAL=24,DIRECTION_ALL=30,MOUSE_LEFT="left",MOUSE_RIGHT="right",MOUSE_MIDDLE="middle",MOUSE_BUTTON_CODE_MAP={1:MOUSE_LEFT,2:MOUSE_MIDDLE,3:MOUSE_RIGHT},ANY="any",NONE="none",SHIFT="shift",CTRL="ctrl",ALT="alt",META="meta",VELOCITY_INTERVAL=16,IOS_EDGE_THRESHOLD=30,IS_IOS_SAFARI="ontouchstart"in win&&agent().browser.name==="safari",TRANSFORM=function(){if(typeof document>"u")return"";for(var h=(document.head||document.getElementsByTagName("head")[0]).style,o=["transform","webkitTransform","msTransform","mozTransform"],e=0,i=o.length;e<i;e++)if(o[e]in h)return o[e];return""}(),PREVENT_DRAG_CSSPROPS={"-webkit-user-select":"none","-ms-user-select":"none","-moz-user-select":"none","user-select":"none","-webkit-user-drag":"none"},toArray$2=function(h){for(var o=[],e=0,i=h.length;e<i;e++)o.push(h[e]);return o},$=function(h,o){o===void 0&&(o=!1);var e;if(typeof h=="string"){var i=h.match(/^<([a-z]+)\s*([^>]*)>/);if(i){var c=document.createElement("div");c.innerHTML=h,e=toArray$2(c.childNodes)}else e=toArray$2(document.querySelectorAll(h));o||(e=e.length>=1?e[0]:void 0)}else h===win?e=h:"value"in h||"current"in h?e=h.value||h.current:h.nodeName&&(h.nodeType===1||h.nodeType===9)?e=h:"jQuery"in win&&h instanceof jQuery||h.constructor.prototype.jquery?e=o?h.toArray():h.get(0):Array.isArray(h)&&(e=h.map(function(f){return $(f)}),o||(e=e.length>=1?e[0]:void 0));return e},raf=win.requestAnimationFrame||win.webkitRequestAnimationFrame,caf=win.cancelAnimationFrame||win.webkitCancelAnimationFrame;if(raf&&!caf){var keyInfo_1={},oldraf_1=raf;raf=function(h){var o=function(i){keyInfo_1[e]&&h(i)},e=oldraf_1(o);return keyInfo_1[e]=!0,e},caf=function(h){delete keyInfo_1[h]}}else raf&&caf||(raf=function(h){return win.setTimeout(function(){h(win.performance&&win.performance.now&&win.performance.now()||new Date().getTime())},16)},caf=win.clearTimeout);var requestAnimationFrame$1=function(h){return raf(h)},cancelAnimationFrame=function(h){caf(h)},map=function(h,o){var e={};for(var i in h)i&&(e[i]=o(h[i],i));return e},filter=function(h,o){var e={};for(var i in h)i&&o(h[i],i)&&(e[i]=h[i]);return e},every=function(h,o){for(var e in h)if(e&&!o(h[e],e))return!1;return!0},equal=function(h,o){return every(h,function(e,i){return e===o[i]})},roundNumFunc={},roundNumber=function(h,o){return roundNumFunc[o]||(roundNumFunc[o]=getRoundFunc(o)),roundNumFunc[o](h)},roundNumbers=function(h,o){return!h||!o?h:map(h,function(e,i){return roundNumber(e,typeof o=="number"?o:o[i])})},getDecimalPlace=function(h){if(!isFinite(h))return 0;var o="".concat(h);if(o.indexOf("e")>=0){for(var e=0,i=1;Math.round(h*i)/i!==h;)i*=10,e++;return e}return o.indexOf(".")>=0?o.length-o.indexOf(".")-1:0},inversePow=function(h){return 1/Math.pow(10,h)},getRoundFunc=function(h){var o=h<1?Math.pow(10,getDecimalPlace(h)):1;return function(e){return h===0?0:Math.round(Math.round(e/h)*h*o)/o}},getAngle=function(h,o){return Math.atan2(o,h)*180/Math.PI},isCssPropsFromAxes=function(h){var o=!0;return Object.keys(PREVENT_DRAG_CSSPROPS).forEach(function(e){(!h||h[e]!==PREVENT_DRAG_CSSPROPS[e])&&(o=!1)}),o},getDirection$1=function(h,o){return h&&o?DIRECTION_ALL:h?DIRECTION_HORIZONTAL:o?DIRECTION_VERTICAL:DIRECTION_NONE},useDirection=function(h,o,e){return e?!!(o===DIRECTION_ALL||o&h&&e&h):!!(o&h)},setCssProps=function(h,o,e){var i,c=(i={},i[DIRECTION_NONE]="auto",i[DIRECTION_ALL]="none",i[DIRECTION_VERTICAL]="pan-x",i[DIRECTION_HORIZONTAL]="pan-y",i),f={};if(h&&h.style){var m=o.touchAction?o.touchAction:c[e],g=__assign$2(__assign$2({},PREVENT_DRAG_CSSPROPS),{"touch-action":h.style["touch-action"]==="none"?"none":m});Object.keys(g).forEach(function(Te){f[Te]=h.style[Te]}),Object.keys(g).forEach(function(Te){h.style[Te]=g[Te]})}return f},revertCssProps=function(h,o){h&&h.style&&o&&Object.keys(o).forEach(function(e){h.style[e]=o[e]})},EventManager=function(){function h(e){this._axes=e,this.holdingCount=0}var o=h.prototype;return o.hold=function(e,i){var c=this._getRoundPos(e).roundPos;this._axes.trigger(new ComponentEvent$1("hold",{pos:c,input:i.input||null,inputEvent:i.event||null,isTrusted:!0}))},o.triggerRelease=function(e){var i=this._getRoundPos(e.destPos,e.depaPos),c=i.roundPos,f=i.roundDepa;e.destPos=c,e.depaPos=f,e.setTo=this._createUserControll(e.destPos,e.duration),this._axes.trigger(new ComponentEvent$1("release",__assign$2(__assign$2({},e),{bounceRatio:this._getBounceRatio(c)})))},o.triggerChange=function(e,i,c,f){var m=this;f===void 0&&(f=!1);var g=this.animationManager,Te=g.axisManager,Ie=g.getEventInfo(),Oe=this._getRoundPos(e,i),ne=Oe.roundPos,De=Oe.roundDepa,Ee=Te.moveTo(ne,De),Be=(c==null?void 0:c.event)||(Ie==null?void 0:Ie.event)||null,Fe={pos:Ee.pos,delta:Ee.delta,bounceRatio:this._getBounceRatio(Ee.pos),holding:f,inputEvent:Be,isTrusted:!!Be,input:(c==null?void 0:c.input)||(Ie==null?void 0:Ie.input)||null,set:Be?this._createUserControll(Ee.pos):function(){}},Ne=new ComponentEvent$1("change",Fe);return this._axes.trigger(Ne),Object.keys(Ee.pos).forEach(function(Ve){var Ue=Ee.pos[Ve];getObserver(m._axes,Ve,Ue).current=Ue}),Be&&Te.set(Fe.set().destPos),!Ne.isCanceled()},o.triggerAnimationStart=function(e){var i=this._getRoundPos(e.destPos,e.depaPos),c=i.roundPos,f=i.roundDepa;e.destPos=c,e.depaPos=f,e.setTo=this._createUserControll(e.destPos,e.duration);var m=new ComponentEvent$1("animationStart",e);return this._axes.trigger(m),!m.isCanceled()},o.triggerAnimationEnd=function(e){e===void 0&&(e=!1),this._axes.trigger(new ComponentEvent$1("animationEnd",{isTrusted:e}))},o.triggerFinish=function(e){e===void 0&&(e=!1),this._axes.trigger(new ComponentEvent$1("finish",{isTrusted:e}))},o.setAnimationManager=function(e){this.animationManager=e},o.destroy=function(){this._axes.off()},o._createUserControll=function(e,i){i===void 0&&(i=0);var c={destPos:__assign$2({},e),duration:i};return function(f,m){return f&&(c.destPos=__assign$2({},f)),m!==void 0&&(c.duration=m),c}},o._getRoundPos=function(e,i){var c=this._axes.options.round;return{roundPos:roundNumbers(e,c),roundDepa:roundNumbers(i,c)}},o._getBounceRatio=function(e){return this._axes.axisManager.map(e,function(i,c){return i<c.range[0]&&c.bounce[0]!==0?(c.range[0]-i)/c.bounce[0]:i>c.range[1]&&c.bounce[1]!==0?(i-c.range[1])/c.bounce[1]:0})},__decorate([Observe],h.prototype,"holdingCount",void 0),h}(),InterruptManager=function(){function h(e){this._options=e,this._prevented=!1}var o=h.prototype;return o.isInterrupting=function(){return this._options.interruptable||this._prevented},o.isInterrupted=function(){return!this._options.interruptable&&this._prevented},o.setInterrupt=function(e){this._options.interruptable||(this._prevented=e)},h}(),getInsidePosition=function(h,o,e,i){var c=h,f=[e[0]?o[0]:i?o[0]-i[0]:o[0],e[1]?o[1]:i?o[1]+i[1]:o[1]];return c=Math.max(f[0],c),c=Math.min(f[1],c),c},isOutside=function(h,o){return h<o[0]||h>o[1]},isEndofBounce=function(h,o,e,i){return!i[0]&&h===o[0]-e[0]||!i[1]&&h===o[1]+e[1]},getDuration=function(h,o){var e=Math.sqrt(h/o*2);return e<100?0:e},isCircularable=function(h,o,e){return e[1]&&h>o[1]||e[0]&&h<o[0]},getCirculatedPos=function(h,o,e){var i=h,c=o[0],f=o[1],m=f-c;return e[1]&&h>f&&(i=(i-f)%m+c),e[0]&&h<c&&(i=(i-c)%m+f),i},AxisManager=function(){function h(e){var i=this;this._axis=e,this._complementOptions(),this._pos=Object.keys(this._axis).reduce(function(c,f){return c[f]=i._axis[f].startPos,c},{})}var o=h.prototype;return o.getDelta=function(e,i){var c=this.get(e);return map(this.get(i),function(f,m){return f-c[m]})},o.get=function(e){var i=this;return e&&Array.isArray(e)?e.reduce(function(c,f){return f&&f in i._pos&&(c[f]=i._pos[f]),c},{}):__assign$2(__assign$2({},this._pos),e||{})},o.moveTo=function(e,i){i===void 0&&(i=this._pos);var c=map(this._pos,function(f,m){return m in e&&m in i?e[m]-i[m]:0});return this.set(this.map(e,function(f,m){return m?getCirculatedPos(f,m.range,m.circular):0})),{pos:__assign$2({},this._pos),delta:c}},o.set=function(e){for(var i in e)i&&i in this._pos&&(this._pos[i]=e[i])},o.every=function(e,i){var c=this._axis;return every(e,function(f,m){return i(f,c[m],m)})},o.filter=function(e,i){var c=this._axis;return filter(e,function(f,m){return i(f,c[m],m)})},o.map=function(e,i){var c=this._axis;return map(e,function(f,m){return i(f,c[m],m)})},o.isOutside=function(e){return!this.every(e?this.get(e):this._pos,function(i,c){return!isOutside(i,c.range)})},o.getAxisOptions=function(e){return this._axis[e]},o.setAxis=function(e){var i=this;Object.keys(e).forEach(function(c){if(!i._axis[c])throw new Error("Axis ".concat(c," does not exist in Axes instance"));i._axis[c]=__assign$2(__assign$2({},i._axis[c]),e[c])}),this._complementOptions()},o._complementOptions=function(){var e=this;Object.keys(this._axis).forEach(function(i){e._axis[i]=__assign$2({range:[0,100],startPos:e._axis[i].range[0],bounce:[0,0],circular:[!1,!1]},e._axis[i]),["bounce","circular"].forEach(function(c){var f=e._axis,m=f[i][c];/string|number|boolean/.test(typeof m)&&(f[i][c]=[m,m])})})},h}(),SUPPORT_TOUCH="ontouchstart"in win,SUPPORT_POINTER="PointerEvent"in win,SUPPORT_MSPOINTER="MSPointerEvent"in win,SUPPORT_POINTER_EVENTS=SUPPORT_POINTER||SUPPORT_MSPOINTER,isValidKey=function(h,o){return!!(!o||o.indexOf(ANY)>-1||o.indexOf(NONE)>-1&&!h.shiftKey&&!h.ctrlKey&&!h.altKey&&!h.metaKey||o.indexOf(SHIFT)>-1&&h.shiftKey||o.indexOf(CTRL)>-1&&h.ctrlKey||o.indexOf(ALT)>-1&&h.altKey||o.indexOf(META)>-1&&h.metaKey)},EventInput=function(){function h(){var e=this;this._stopContextMenu=function(i){i.preventDefault(),win.removeEventListener("contextmenu",e._stopContextMenu)}}var o=h.prototype;return o.extendEvent=function(e){var i,c=this.prevEvent,f=this._getCenter(e),m=c?this._getMovement(e):{x:0,y:0},g=c?this._getScale(e):1,Te=c?getAngle(f.x-c.center.x,f.y-c.center.y):0,Ie=c?c.deltaX+m.x:m.x,Oe=c?c.deltaY+m.y:m.y,ne=m.x,De=m.y,Ee=this._latestInterval,Be=Date.now(),Fe=Ee?Be-Ee.timestamp:0,Ne=c?c.velocityX:0,Ve=c?c.velocityY:0;return(!Ee||Fe>=VELOCITY_INTERVAL)&&(Ee&&(i=[(Ie-Ee.deltaX)/Fe,(Oe-Ee.deltaY)/Fe],Ne=i[0],Ve=i[1]),this._latestInterval={timestamp:Be,deltaX:Ie,deltaY:Oe}),{srcEvent:e,scale:g,angle:Te,center:f,deltaX:Ie,deltaY:Oe,offsetX:ne,offsetY:De,velocityX:Ne,velocityY:Ve,preventSystemEvent:!0}},o._getDistance=function(e,i){var c=i.clientX-e.clientX,f=i.clientY-e.clientY;return Math.sqrt(c*c+f*f)},o._getButton=function(e){var i={1:MOUSE_LEFT,2:MOUSE_RIGHT,4:MOUSE_MIDDLE},c=this._isTouchEvent(e)?MOUSE_LEFT:i[e.buttons];return c||null},o._isTouchEvent=function(e){return e.type&&e.type.indexOf("touch")>-1},o._isValidButton=function(e,i){return i.indexOf(e)>-1},o._isValidEvent=function(e,i,c){return(!i||isValidKey(e,i))&&(!c||this._isValidButton(this._getButton(e),c))},o._preventMouseButton=function(e,i){i===MOUSE_RIGHT?win.addEventListener("contextmenu",this._stopContextMenu):i===MOUSE_MIDDLE&&e.preventDefault()},h}(),MouseEventInput=function(h){__extends$2(o,h);function o(){var i=h!==null&&h.apply(this,arguments)||this;return i.start=["mousedown"],i.move=["mousemove"],i.end=["mouseup"],i}var e=o.prototype;return e.onEventStart=function(i,c,f){var m=this._getButton(i);return this._isValidEvent(i,c,f)?(this._preventMouseButton(i,m),this.extendEvent(i)):null},e.onEventMove=function(i,c,f){return this._isValidEvent(i,c,f)?this.extendEvent(i):null},e.onEventEnd=function(){},e.onRelease=function(){this.prevEvent=null},e.getTouches=function(i,c){return c&&this._isValidButton(MOUSE_BUTTON_CODE_MAP[i.which],c)&&this.end.indexOf(i.type)===-1?1:0},e._getScale=function(){return 1},e._getCenter=function(i){return{x:i.clientX,y:i.clientY}},e._getMovement=function(i){var c=this.prevEvent.srcEvent;return{x:i.clientX-c.clientX,y:i.clientY-c.clientY}},o}(EventInput),TouchEventInput=function(h){__extends$2(o,h);function o(){var i=h!==null&&h.apply(this,arguments)||this;return i.start=["touchstart"],i.move=["touchmove"],i.end=["touchend","touchcancel"],i}var e=o.prototype;return e.onEventStart=function(i,c){return this._baseTouches=i.touches,this._isValidEvent(i,c)?this.extendEvent(i):null},e.onEventMove=function(i,c){return this._isValidEvent(i,c)?this.extendEvent(i):null},e.onEventEnd=function(i){this._baseTouches=i.touches},e.onRelease=function(){this.prevEvent=null,this._baseTouches=null},e.getTouches=function(i){return i.touches.length},e._getScale=function(i){return i.touches.length!==2||this._baseTouches.length<2?null:this._getDistance(i.touches[0],i.touches[1])/this._getDistance(this._baseTouches[0],this._baseTouches[1])},e._getCenter=function(i){return{x:i.touches[0].clientX,y:i.touches[0].clientY}},e._getMovement=function(i){var c=this.prevEvent.srcEvent;return i.touches[0].identifier!==c.touches[0].identifier?{x:0,y:0}:{x:i.touches[0].clientX-c.touches[0].clientX,y:i.touches[0].clientY-c.touches[0].clientY}},o}(EventInput),PointerEventInput=function(h){__extends$2(o,h);function o(){var i=h!==null&&h.apply(this,arguments)||this;return i.start=SUPPORT_POINTER?["pointerdown"]:["MSPointerDown"],i.move=SUPPORT_POINTER?["pointermove"]:["MSPointerMove"],i.end=SUPPORT_POINTER?["pointerup","pointercancel"]:["MSPointerUp","MSPointerCancel"],i._firstInputs=[],i._recentInputs=[],i}var e=o.prototype;return e.onEventStart=function(i,c,f){var m=this._getButton(i);return this._isValidEvent(i,c,f)?(this._preventMouseButton(i,m),this._updatePointerEvent(i),this.extendEvent(i)):null},e.onEventMove=function(i,c,f){return this._isValidEvent(i,c,f)?(this._updatePointerEvent(i),this.extendEvent(i)):null},e.onEventEnd=function(i){this._removePointerEvent(i)},e.onRelease=function(){this.prevEvent=null,this._firstInputs=[],this._recentInputs=[]},e.getTouches=function(){return this._recentInputs.length},e._getScale=function(){return this._recentInputs.length!==2?null:this._getDistance(this._recentInputs[0],this._recentInputs[1])/this._getDistance(this._firstInputs[0],this._firstInputs[1])},e._getCenter=function(i){return{x:i.clientX,y:i.clientY}},e._getMovement=function(i){var c=this.prevEvent.srcEvent;return i.pointerId!==c.pointerId?{x:0,y:0}:{x:i.clientX-c.clientX,y:i.clientY-c.clientY}},e._updatePointerEvent=function(i){var c=this,f=!1;this._recentInputs.forEach(function(m,g){m.pointerId===i.pointerId&&(f=!0,c._recentInputs[g]=i)}),f||(this._firstInputs.push(i),this._recentInputs.push(i))},e._removePointerEvent=function(i){this._firstInputs=this._firstInputs.filter(function(c){return c.pointerId!==i.pointerId}),this._recentInputs=this._recentInputs.filter(function(c){return c.pointerId!==i.pointerId})},o}(EventInput),TouchMouseEventInput=function(h){__extends$2(o,h);function o(){var i=h!==null&&h.apply(this,arguments)||this;return i.start=["mousedown","touchstart"],i.move=["mousemove","touchmove"],i.end=["mouseup","touchend","touchcancel"],i}var e=o.prototype;return e.onEventStart=function(i,c,f){var m=this._getButton(i);return this._isTouchEvent(i)&&(this._baseTouches=i.touches),this._isValidEvent(i,c,f)?(this._preventMouseButton(i,m),this.extendEvent(i)):null},e.onEventMove=function(i,c,f){return this._isValidEvent(i,c,f)?this.extendEvent(i):null},e.onEventEnd=function(i){this._isTouchEvent(i)&&(this._baseTouches=i.touches)},e.onRelease=function(){this.prevEvent=null,this._baseTouches=null},e.getTouches=function(i,c){return this._isTouchEvent(i)?i.touches.length:this._isValidButton(MOUSE_BUTTON_CODE_MAP[i.which],c)&&this.end.indexOf(i.type)===-1?1:0},e._getScale=function(i){return this._isTouchEvent(i)?i.touches.length!==2||this._baseTouches.length<2?1:this._getDistance(i.touches[0],i.touches[1])/this._getDistance(this._baseTouches[0],this._baseTouches[1]):this.prevEvent.scale},e._getCenter=function(i){return this._isTouchEvent(i)?{x:i.touches[0].clientX,y:i.touches[0].clientY}:{x:i.clientX,y:i.clientY}},e._getMovement=function(i){var c=this,f=this.prevEvent.srcEvent,m=[i,f].map(function(Ie){return c._isTouchEvent(Ie)?{id:Ie.touches[0].identifier,x:Ie.touches[0].clientX,y:Ie.touches[0].clientY}:{id:null,x:Ie.clientX,y:Ie.clientY}}),g=m[0],Te=m[1];return g.id===Te.id?{x:g.x-Te.x,y:g.y-Te.y}:{x:0,y:0}},o}(EventInput),toAxis=function(h,o){return o.reduce(function(e,i,c){return h[c]&&(e[h[c]]=i),e},{})},convertInputType=function(h){h===void 0&&(h=[]);var o=!1,e=!1,i=!1;return h.forEach(function(c){switch(c){case"mouse":e=!0;break;case"touch":o=SUPPORT_TOUCH;break;case"pointer":i=SUPPORT_POINTER_EVENTS}}),i?new PointerEventInput:o&&e?new TouchMouseEventInput:o?new TouchEventInput:e?new MouseEventInput:null};function getAddEventOptions(h){return h.indexOf("touch")>-1?{passive:!1}:!1}var InputObserver=function(){function h(e){var i=e.options,c=e.interruptManager,f=e.eventManager,m=e.axisManager,g=e.animationManager;this._isOutside=!1,this._moveDistance=null,this._isStopped=!1,this.options=i,this._interruptManager=c,this._eventManager=f,this._axisManager=m,this._animationManager=g}var o=h.prototype;return o.get=function(e){return this._axisManager.get(e.axes)},o.hold=function(e,i){if(!(this._interruptManager.isInterrupted()||!e.axes.length)){var c={input:e,event:i};this._isStopped=!1,this._interruptManager.setInterrupt(!0),this._animationManager.stopAnimation(c),++this._eventManager.holdingCount,this._moveDistance||this._eventManager.hold(this._axisManager.get(),c),this._isOutside=this._axisManager.isOutside(e.axes),this._moveDistance=this._axisManager.get(e.axes)}},o.change=function(e,i,c,f){if(!(this._isStopped||!this._interruptManager.isInterrupting()||this._axisManager.every(c,function(De){return De===0}))){var m=i.srcEvent?i.srcEvent:i;if(!m.__childrenAxesAlreadyChanged){var g=this._moveDistance||this._axisManager.get(e.axes),Te;Te=map(g,function(De,Ee){return De+(c[Ee]||0)}),this._moveDistance&&(this._moveDistance=this._axisManager.map(Te,function(De,Ee){var Be=Ee.circular,Fe=Ee.range;return Be&&(Be[0]||Be[1])?getCirculatedPos(De,Fe,Be):De})),this._isOutside&&this._axisManager.every(g,function(De,Ee){return!isOutside(De,Ee.range)})&&(this._isOutside=!1),g=this._atOutside(g),Te=this._atOutside(Te),(!this.options.nested||!this._isEndofAxis(c,g,Te))&&(m.__childrenAxesAlreadyChanged=!0);var Ie={input:e,event:i};if(f){var Oe=this._animationManager.getDuration(Te,g);this._animationManager.animateTo(Te,Oe,Ie)}else{var ne=!this._eventManager.triggerChange(Te,g,Ie,!0);ne&&(this._isStopped=!0,this._moveDistance=null,this._animationManager.finish(!1))}}}},o.release=function(e,i,c,f){if(!(this._isStopped||!this._interruptManager.isInterrupting()||!this._moveDistance)){var m=i.srcEvent?i.srcEvent:i;m.__childrenAxesAlreadyReleased&&(c=c.map(function(){return 0}));var g=this._axisManager.get(e.axes),Te=this._axisManager.get(),Ie=this._animationManager.getDisplacement(c),Oe=toAxis(e.axes,Ie),ne=this._axisManager.get(this._axisManager.map(Oe,function(Ve,Ue,We){return Ue.circular&&(Ue.circular[0]||Ue.circular[1])?g[We]+Ve:getInsidePosition(g[We]+Ve,Ue.range,Ue.circular,Ue.bounce)}));m.__childrenAxesAlreadyReleased=!0;var De=this._animationManager.getDuration(ne,g,f);De===0&&(ne=__assign$2({},Te));var Ee={depaPos:Te,destPos:ne,duration:De,delta:this._axisManager.getDelta(Te,ne),inputEvent:i,input:e,isTrusted:!0};--this._eventManager.holdingCount,this._eventManager.triggerRelease(Ee),this._eventManager.holdingCount===0&&(this._moveDistance=null);var Be=this._animationManager.getUserControl(Ee),Fe=equal(Be.destPos,Te),Ne={input:e,event:i};Fe||Be.duration===0?(Fe||this._eventManager.triggerChange(Be.destPos,Te,Ne,!0),this._interruptManager.setInterrupt(!1),this._axisManager.isOutside()?this._animationManager.restore(Ne):this._eventManager.triggerFinish(!0)):this._animationManager.animateTo(Be.destPos,Be.duration,Ne)}},o._atOutside=function(e){var i=this;return this._isOutside?this._axisManager.map(e,function(c,f){var m=f.range[0]-f.bounce[0],g=f.range[1]+f.bounce[1];return c>g?g:c<m?m:c}):this._axisManager.map(e,function(c,f){var m=f.range[0],g=f.range[1],Te=f.bounce,Ie=f.circular;return Ie[0]&&c<m||Ie[1]&&c>g?c:c<m?m-i._animationManager.interpolate(m-c,Te[0]):c>g?g+i._animationManager.interpolate(c-g,Te[1]):c})},o._isEndofAxis=function(e,i,c){return this._axisManager.every(i,function(f,m,g){return e[g]===0||i[g]===c[g]&&isEndofBounce(f,m.range,m.bounce,m.circular)})},h}(),clamp$1=function(h,o,e){return Math.max(Math.min(h,e),o)},AnimationManager=function(){function h(e){var i=e.options,c=e.interruptManager,f=e.eventManager,m=e.axisManager;this._options=i,this.interruptManager=c,this.eventManager=f,this.axisManager=m,this.animationEnd=this.animationEnd.bind(this)}var o=h.prototype;return o.getDuration=function(e,i,c){var f=this,m;if(typeof c<"u")m=c;else{var g=map(i,function(Te,Ie){return getDuration(Math.abs(Te-e[Ie]),f._options.deceleration)});m=Object.keys(g).reduce(function(Te,Ie){return Math.max(Te,g[Ie])},-1/0)}return clamp$1(m,this._options.minimumDuration,this._options.maximumDuration)},o.getDisplacement=function(e){var i=Math.pow(e.reduce(function(f,m){return f+m*m},0),1/e.length),c=Math.abs(i/-this._options.deceleration);return e.map(function(f){return f/2*c})},o.stopAnimation=function(e){if(this._animateParam){var i=this.axisManager.get(),c=this.axisManager.map(i,function(f,m){return getCirculatedPos(f,m.range,m.circular)});every(c,function(f,m){return i[m]===f})||this.eventManager.triggerChange(c,i,e,!!e),this._animateParam=null,this._raf&&cancelAnimationFrame(this._raf),this._raf=null,this.eventManager.triggerAnimationEnd(!!(e!=null&&e.event))}},o.getEventInfo=function(){return this._animateParam&&this._animateParam.input&&this._animateParam.inputEvent?{input:this._animateParam.input,event:this._animateParam.inputEvent}:null},o.restore=function(e){var i=this.axisManager.get(),c=this.axisManager.map(i,function(f,m){return Math.min(m.range[1],Math.max(m.range[0],f))});this.stopAnimation(),this.animateTo(c,this.getDuration(i,c),e)},o.animationEnd=function(){var e=this.getEventInfo();this._animateParam=null;var i=this.axisManager.filter(this.axisManager.get(),function(c,f){return isCircularable(c,f.range,f.circular)});Object.keys(i).length>0&&this.setTo(this.axisManager.map(i,function(c,f){return getCirculatedPos(c,f.range,f.circular)})),this.interruptManager.setInterrupt(!1),this.eventManager.triggerAnimationEnd(!!e),this.axisManager.isOutside()?this.restore(e):this.finish(!!e)},o.finish=function(e){this._animateParam=null,this.interruptManager.setInterrupt(!1),this.eventManager.triggerFinish(e)},o.getUserControl=function(e){var i=e.setTo();return i.destPos=this.axisManager.get(i.destPos),i.duration=clamp$1(i.duration,this._options.minimumDuration,this._options.maximumDuration),i},o.animateTo=function(e,i,c){var f=this;this.stopAnimation();var m=this._createAnimationParam(e,i,c),g=__assign$2({},m.depaPos),Te=this.eventManager.triggerAnimationStart(m),Ie=this.getUserControl(m);if(!Te&&this.axisManager.every(Ie.destPos,function(ne,De){return isCircularable(ne,De.range,De.circular)})&&console.warn("You can't stop the 'animation' event when 'circular' is true."),Te&&!equal(Ie.destPos,g)){var Oe=(c==null?void 0:c.event)||null;this._animateLoop({depaPos:g,destPos:Ie.destPos,duration:Ie.duration,delta:this.axisManager.getDelta(g,Ie.destPos),isTrusted:!!Oe,inputEvent:Oe,input:(c==null?void 0:c.input)||null},function(){return f.animationEnd()})}},o.setTo=function(e,i){i===void 0&&(i=0);var c=Object.keys(e),f=this.axisManager.get(c);if(equal(e,f))return this;this.interruptManager.setInterrupt(!0);var m=filter(e,function(g,Te){return f[Te]!==g});return Object.keys(m).length?(m=this.axisManager.map(m,function(g,Te){var Ie=Te.range,Oe=Te.circular;return Oe&&(Oe[0]||Oe[1])?g:getInsidePosition(g,Ie,Oe)}),equal(m,f)?this:(i>0?this.animateTo(m,i):(this.stopAnimation(),this.eventManager.triggerChange(m),this.finish(!1)),this)):this},o.setBy=function(e,i){return i===void 0&&(i=0),this.setTo(map(this.axisManager.get(Object.keys(e)),function(c,f){return c+e[f]}),i)},o.setOptions=function(e){this._options=__assign$2(__assign$2({},this._options),e)},o._createAnimationParam=function(e,i,c){var f=this.axisManager.get(),m=e,g=(c==null?void 0:c.event)||null;return{depaPos:f,destPos:m,duration:clamp$1(i,this._options.minimumDuration,this._options.maximumDuration),delta:this.axisManager.getDelta(f,m),inputEvent:g,input:(c==null?void 0:c.input)||null,isTrusted:!!g,done:this.animationEnd}},o._animateLoop=function(e,i){var c=this;if(e.duration){this._animateParam=__assign$2(__assign$2({},e),{startTime:new Date().getTime()});var f=map(e.destPos,function(Te){return Te}),m=this._initState(this._animateParam),g=function(){c._raf=null;var Te=c._animateParam,Ie=c._getNextState(m),Oe=!c.eventManager.triggerChange(Ie.pos,m.pos);if(m=Ie,Ie.finished){Te.destPos=c._getFinalPos(Te.destPos,f),equal(Te.destPos,c.axisManager.get(Object.keys(Te.destPos)))||c.eventManager.triggerChange(Te.destPos,Ie.pos),i();return}else Oe?c.finish(!1):c._raf=requestAnimationFrame$1(g)};g()}else this.eventManager.triggerChange(e.destPos),i()},o._getFinalPos=function(e,i){var c=this,f=1e-6,m=map(e,function(g,Te){if(g>=i[Te]-f&&g<=i[Te]+f)return i[Te];var Ie=c._getRoundUnit(g,Te),Oe=roundNumber(g,Ie);return Oe});return m},o._getRoundUnit=function(e,i){var c=this._options.round,f=null;if(!c){var m=this.axisManager.getAxisOptions(i);f=inversePow(Math.max(getDecimalPlace(m.range[0]),getDecimalPlace(m.range[1]),getDecimalPlace(e)))}return f||c},h}(),EasingManager=function(h){__extends$2(o,h);function o(){var i=h!==null&&h.apply(this,arguments)||this;return i._useDuration=!0,i}var e=o.prototype;return e.interpolate=function(i,c){var f=this._easing(1e-5)/1e-5;return this._easing(i/(c*f))*c},e.updateAnimation=function(i){var c,f=this._animateParam;if(f){var m=new Date().getTime()-f.startTime,g=(i==null?void 0:i.destPos)||f.destPos,Te=(c=i==null?void 0:i.duration)!==null&&c!==void 0?c:f.duration;if(i!=null&&i.restart||Te<=m){this.setTo(g,Te-m);return}if(i!=null&&i.destPos){var Ie=this.axisManager.get();this._initialEasingPer=this._prevEasingPer,f.delta=this.axisManager.getDelta(Ie,g),f.destPos=g}if(i!=null&&i.duration){var Oe=(m+this._durationOffset)/f.duration;this._durationOffset=Oe*Te-m,f.duration=Te}}},e._initState=function(i){return this._initialEasingPer=0,this._prevEasingPer=0,this._durationOffset=0,{pos:i.depaPos,easingPer:0,finished:!1}},e._getNextState=function(i){var c=this,f=this._animateParam,m=i.pos,g=f.destPos,Te=map(m,function(Ee,Be){return Ee<=g[Be]?1:-1}),Ie=new Date().getTime()-f.startTime,Oe=(Ie+this._durationOffset)/f.duration,ne=this._easing(Oe),De=this.axisManager.map(m,function(Ee,Be,Fe){var Ne=Oe>=1?g[Fe]:Ee+f.delta[Fe]*(ne-c._prevEasingPer)/(1-c._initialEasingPer),Ve=getCirculatedPos(Ne,Be.range,Be.circular);if(Ne!==Ve){var Ue=Te[Fe]*(Be.range[1]-Be.range[0]);g[Fe]-=Ue,m[Fe]-=Ue}return Ve});return this._prevEasingPer=ne,{pos:De,easingPer:ne,finished:ne>=1}},e._easing=function(i){return i>1?1:this._options.easing(i)},o}(AnimationManager),Axes=function(h){__extends$2(o,h);function o(i,c,f){i===void 0&&(i={}),c===void 0&&(c={}),f===void 0&&(f={});var m=h.call(this)||this;return m.axis=i,m._inputs=[],m.options=__assign$2({easing:function(g){return 1-Math.pow(1-g,3)},interruptable:!0,maximumDuration:1/0,minimumDuration:0,deceleration:6e-4,round:null,nested:!1},c),Object.keys(f).forEach(function(g){m.axis[g].startPos=f[g]}),m.interruptManager=new InterruptManager(m.options),m.axisManager=new AxisManager(m.axis),m.eventManager=new EventManager(m),m.animationManager=new EasingManager(m),m.inputObserver=new InputObserver(m),m.eventManager.setAnimationManager(m.animationManager),m.eventManager.triggerChange(m.axisManager.get()),m}var e=o.prototype;return Object.defineProperty(e,"holding",{get:function(){return this.eventManager.holdingCount>0},enumerable:!1,configurable:!0}),e.connect=function(i,c){var f;return typeof i=="string"?f=i.split(" "):f=i.concat(),~this._inputs.indexOf(c)&&this.disconnect(c),c.mapAxes(f),c.connect(this.inputObserver),this._inputs.push(c),this},e.disconnect=function(i){if(i){var c=this._inputs.indexOf(i);c>=0&&(this._inputs[c].disconnect(),this._inputs.splice(c,1))}else this._inputs.forEach(function(f){return f.disconnect()}),this._inputs=[];return this},e.get=function(i){return this.axisManager.get(i)},e.setTo=function(i,c){return c===void 0&&(c=0),this.animationManager.setTo(i,c),this},e.setBy=function(i,c){return c===void 0&&(c=0),this.animationManager.setBy(i,c),this},e.setOptions=function(i){return this.options=__assign$2(__assign$2({},this.options),i),this.animationManager.setOptions(i),this},e.setAxis=function(i){return this.axisManager.setAxis(i),this},e.stopAnimation=function(){return this.animationManager.stopAnimation(),this.animationManager.finish(!1),this},e.updateAnimation=function(i){return this.animationManager.updateAnimation(i),this},e.isBounceArea=function(i){return this.axisManager.isOutside(i)},e.destroy=function(){this.disconnect(),this.eventManager.destroy()},o.VERSION="3.9.1",o.TRANSFORM=TRANSFORM,o.DIRECTION_NONE=DIRECTION_NONE,o.DIRECTION_LEFT=DIRECTION_LEFT,o.DIRECTION_RIGHT=DIRECTION_RIGHT,o.DIRECTION_UP=DIRECTION_UP,o.DIRECTION_DOWN=DIRECTION_DOWN,o.DIRECTION_HORIZONTAL=DIRECTION_HORIZONTAL,o.DIRECTION_VERTICAL=DIRECTION_VERTICAL,o.DIRECTION_ALL=DIRECTION_ALL,__decorate([Computed],o.prototype,"holding",null),o=__decorate([ReactiveSubscribe],o),o}(Component),getDirectionByAngle=function(h,o){if(o<0||o>90)return DIRECTION_NONE;var e=Math.abs(h);return e>o&&e<180-o?DIRECTION_VERTICAL:DIRECTION_HORIZONTAL},PanInput=function(){function h(e,i){var c=this;this.axes=[],this.element=null,this._enabled=!1,this._activeEvent=null,this._atRightEdge=!1,this._rightEdgeTimer=0,this._dragged=!1,this._isOverThreshold=!1,this._preventClickWhenDragged=function(f){c._dragged&&(f.preventDefault(),f.stopPropagation()),c._dragged=!1},this._voidFunction=function(){},this.element=$(e),this.options=__assign$2({inputType:["touch","mouse","pointer"],inputKey:[ANY],inputButton:[MOUSE_LEFT],scale:[1,1],thresholdAngle:45,threshold:0,preventClickOnDrag:!1,preventDefaultOnDrag:!1,iOSEdgeSwipeThreshold:IOS_EDGE_THRESHOLD,releaseOnScroll:!1,touchAction:null},i),this._onPanstart=this._onPanstart.bind(this),this._onPanmove=this._onPanmove.bind(this),this._onPanend=this._onPanend.bind(this)}var o=h.prototype;return o.mapAxes=function(e){this._direction=getDirection$1(!!e[0],!!e[1]),this.axes=e},o.connect=function(e){return this._activeEvent&&(this._detachElementEvent(),this._detachWindowEvent(this._activeEvent)),this._attachElementEvent(e),this},o.disconnect=function(){return this._detachElementEvent(),this._detachWindowEvent(this._activeEvent),this._direction=DIRECTION_NONE,this},o.destroy=function(){this.disconnect(),this.element=null},o.enable=function(){return this._enabled||(this._enabled=!0,this._originalCssProps=setCssProps(this.element,this.options,this._direction)),this},o.disable=function(){return this._enabled&&(this._enabled=!1,isCssPropsFromAxes(this._originalCssProps)||revertCssProps(this.element,this._originalCssProps)),this},o.isEnabled=function(){return this._enabled},o.release=function(){var e=this._activeEvent,i=e.prevEvent;return e.onRelease(),this._observer.release(this,i,[0,0]),this._detachWindowEvent(e),this},o._onPanstart=function(e){var i=this.options,c=i.inputKey,f=i.inputButton,m=i.preventDefaultOnDrag,g=this._activeEvent,Te=g.onEventStart(e,c,f);if(!(!Te||!this._enabled||g.getTouches(e,f)>1)&&Te.srcEvent.cancelable!==!1){var Ie=this.options.iOSEdgeSwipeThreshold;this._dragged=!1,this._isOverThreshold=!1,this._observer.hold(this,Te),this._atRightEdge=IS_IOS_SAFARI&&Te.center.x>window.innerWidth-Ie,this._attachWindowEvent(g),m&&Te.srcEvent.type!=="touchstart"&&Te.srcEvent.preventDefault(),g.prevEvent=Te}},o._onPanmove=function(e){var i=this,c=this.options,f=c.iOSEdgeSwipeThreshold,m=c.preventClickOnDrag,g=c.releaseOnScroll,Te=c.inputKey,Ie=c.inputButton,Oe=c.threshold,ne=c.thresholdAngle,De=this._activeEvent,Ee=De.onEventMove(e,Te,Ie),Be=De.getTouches(e,Ie);if(Be===0||g&&Ee&&!Ee.srcEvent.cancelable){this._onPanend(e);return}if(!(!Ee||!this._enabled||Be>1)){var Fe=getDirectionByAngle(Ee.angle,ne),Ne=useDirection(DIRECTION_HORIZONTAL,this._direction,Fe),Ve=useDirection(DIRECTION_VERTICAL,this._direction,Fe);if(De.prevEvent&&IS_IOS_SAFARI){var Ue=Ee.center.x<0;if(Ue){this.release();return}else if(this._atRightEdge){clearTimeout(this._rightEdgeTimer);var We=Ee.deltaX<-f;We?this._atRightEdge=!1:this._rightEdgeTimer=window.setTimeout(function(){return i.release()},100)}}var He=this._getDistance([Ee.deltaX,Ee.deltaY],[Ne,Ve]),Xe=this._getOffset([Ee.offsetX,Ee.offsetY],[Ne,Ve]),ot=Xe.some(function(tt){return tt!==0});ot&&(Ee.srcEvent.cancelable!==!1&&Ee.srcEvent.preventDefault(),Ee.srcEvent.stopPropagation()),Ee.preventSystemEvent=ot,ot&&(this._isOverThreshold||He>=Oe)&&(this._dragged=m,this._isOverThreshold=!0,this._observer.change(this,Ee,toAxis(this.axes,Xe))),De.prevEvent=Ee}},o._onPanend=function(e){var i=this.options.inputButton,c=this._activeEvent;if(c.onEventEnd(e),!(!this._enabled||c.getTouches(e,i)!==0)){this._detachWindowEvent(c),clearTimeout(this._rightEdgeTimer);var f=c.prevEvent,m=this._isOverThreshold?this._getOffset([Math.abs(f.velocityX)*(f.offsetX<0?-1:1),Math.abs(f.velocityY)*(f.offsetY<0?-1:1)],[useDirection(DIRECTION_HORIZONTAL,this._direction),useDirection(DIRECTION_VERTICAL,this._direction)]):[0,0];c.onRelease(),this._observer.release(this,f,m)}},o._attachWindowEvent=function(e){var i=this;e==null||e.move.forEach(function(c){window.addEventListener(c,i._onPanmove,getAddEventOptions(c))}),e==null||e.end.forEach(function(c){window.addEventListener(c,i._onPanend,getAddEventOptions(c))})},o._detachWindowEvent=function(e){var i=this;e==null||e.move.forEach(function(c){window.removeEventListener(c,i._onPanmove)}),e==null||e.end.forEach(function(c){window.removeEventListener(c,i._onPanend)})},o._getOffset=function(e,i){var c=this.options.scale;return[i[0]?e[0]*c[0]:0,i[1]?e[1]*c[1]:0]},o._getDistance=function(e,i){return Math.sqrt(Number(i[0])*Math.pow(e[0],2)+Number(i[1])*Math.pow(e[1],2))},o._attachElementEvent=function(e){var i=this,c=convertInputType(this.options.inputType),f=this.element;if(c){if(!f)throw new Error("Element to connect input does not exist.");this._observer=e,this.enable(),this._activeEvent=c,f.addEventListener("click",this._preventClickWhenDragged,!0),c.start.forEach(function(m){f.addEventListener(m,i._onPanstart)}),c.move.forEach(function(m){f.addEventListener(m,i._voidFunction)})}},o._detachElementEvent=function(){var e=this,i=this._activeEvent,c=this.element;c&&(c.removeEventListener("click",this._preventClickWhenDragged,!0),i==null||i.start.forEach(function(f){c.removeEventListener(f,e._onPanstart)}),i==null||i.move.forEach(function(f){c.removeEventListener(f,e._voidFunction)})),this.disable(),this._observer=null},h}();const Axes$1=Axes;var extendStatics$1=function(h,o){return extendStatics$1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])},extendStatics$1(h,o)};function __extends$1(h,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");extendStatics$1(h,o);function e(){this.constructor=h}h.prototype=o===null?Object.create(o):(e.prototype=o.prototype,new e)}var __assign$1=function(){return __assign$1=Object.assign||function(o){for(var e,i=1,c=arguments.length;i<c;i++){e=arguments[i];for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(o[f]=e[f])}return o},__assign$1.apply(this,arguments)};function __spreadArrays(){for(var h=0,o=0,e=arguments.length;o<e;o++)h+=arguments[o].length;for(var i=Array(h),c=0,o=0;o<e;o++)for(var f=arguments[o],m=0,g=f.length;m<g;m++,c++)i[c]=f[m];return i}var isWindow=typeof window<"u",ua$1=isWindow?window.navigator.userAgent:"",SUPPORT_COMPUTEDSTYLE=isWindow?"getComputedStyle"in window:!1,IS_IE=/MSIE|Trident|Windows Phone|Edge/.test(ua$1),SUPPORT_ADDEVENTLISTENER=isWindow?"addEventListener"in document:!1,WIDTH="width",HEIGHT="height";function getAttribute(h,o){return h.getAttribute(o)||""}function toArray$1(h){return[].slice.call(h)}function hasSizeAttribute(h,o){return o===void 0&&(o="data-"),!!h.getAttribute(o+"width")}function hasLoadingAttribute(h,o){return o===void 0&&(o="data-"),"loading"in h&&h.getAttribute("loading")==="lazy"||!!h.getAttribute(o+"lazy")}function hasSkipAttribute(h,o){return o===void 0&&(o="data-"),!!h.getAttribute(o+"skip")}function addEvent(h,o,e){SUPPORT_ADDEVENTLISTENER?h.addEventListener(o,e,!1):h.attachEvent?h.attachEvent("on"+o,e):h["on"+o]=e}function removeEvent(h,o,e){h.removeEventListener?h.removeEventListener(o,e,!1):h.detachEvent?h.detachEvent("on"+o,e):h["on"+o]=null}function innerWidth(h){return getSize(h,"Width")}function innerHeight(h){return getSize(h,"Height")}function getStyles(h){return(SUPPORT_COMPUTEDSTYLE?window.getComputedStyle(h):h.currentStyle)||{}}function getSize(h,o){var e=h["client"+o]||h["offset"+o];return parseFloat(e||getStyles(h)[o.toLowerCase()])||0}function getContentElements(h,o,e){var i=toArray$1(h.querySelectorAll(__spreadArrays(["["+e+"skip] ["+e+"width]"],o.map(function(c){return["["+e+"skip] "+c,c+"["+e+"skip]","["+e+"width] "+c].join(", ")})).join(", ")));return toArray$1(h.querySelectorAll("["+e+"width], "+o.join(", "))).filter(function(c){return i.indexOf(c)===-1})}var elements=[];function addAutoSizer(h,o){!elements.length&&addEvent(window,"resize",resizeAllAutoSizers),h.__PREFIX__=o,elements.push(h),resize(h)}function removeAutoSizer(h,o){var e=elements.indexOf(h);if(!(e<0)){var i=getAttribute(h,o+"fixed");delete h.__PREFIX__,h.style[i===HEIGHT?WIDTH:HEIGHT]="",elements.splice(e,1),!elements.length&&removeEvent(window,"resize",resizeAllAutoSizers)}}function resize(h,o){o===void 0&&(o="data-");var e=h.__PREFIX__||o,i=parseInt(getAttribute(h,""+e+WIDTH),10)||0,c=parseInt(getAttribute(h,""+e+HEIGHT),10)||0,f=getAttribute(h,e+"fixed");if(f===HEIGHT){var m=innerHeight(h)||c;h.style[WIDTH]=i/c*m+"px"}else{var m=innerWidth(h)||i;h.style[HEIGHT]=c/i*m+"px"}}function resizeAllAutoSizers(){elements.forEach(function(h){resize(h)})}var Loader=function(h){__extends$1(o,h);function o(i,c){c===void 0&&(c={});var f=h.call(this)||this;f.isReady=!1,f.isPreReady=!1,f.hasDataSize=!1,f.hasLoading=!1,f.isSkip=!1,f.onCheck=function(g){if(f.clear(),g&&g.type==="error"&&f.onError(f.element),!(f.hasLoading&&f.checkElement())){var Te=!f.hasDataSize&&!f.hasLoading;f.onReady(Te)}},f.options=__assign$1({prefix:"data-"},c),f.element=i;var m=f.options.prefix;return f.hasDataSize=hasSizeAttribute(i,m),f.isSkip=hasSkipAttribute(i,m),f.hasLoading=hasLoadingAttribute(i,m),f}var e=o.prototype;return e.check=function(){return this.isSkip||!this.checkElement()?(this.onAlreadyReady(!0),!1):(this.hasDataSize&&addAutoSizer(this.element,this.options.prefix),(this.hasDataSize||this.hasLoading)&&this.onAlreadyPreReady(),!0)},e.addEvents=function(){var i=this,c=this.element;this.constructor.EVENTS.forEach(function(f){addEvent(c,f,i.onCheck)})},e.clear=function(){var i=this,c=this.element;this.constructor.EVENTS.forEach(function(f){removeEvent(c,f,i.onCheck)}),this.removeAutoSizer()},e.destroy=function(){this.clear(),this.off()},e.removeAutoSizer=function(){if(this.hasDataSize){var i=this.options.prefix;removeAutoSizer(this.element,i)}},e.onError=function(i){this.trigger("error",{element:this.element,target:i})},e.onPreReady=function(){this.isPreReady||(this.isPreReady=!0,this.trigger("preReady",{element:this.element,hasLoading:this.hasLoading,isSkip:this.isSkip}))},e.onReady=function(i){this.isReady||(i=!this.isPreReady&&i,i&&(this.isPreReady=!0),this.removeAutoSizer(),this.isReady=!0,this.trigger("ready",{element:this.element,withPreReady:i,hasLoading:this.hasLoading,isSkip:this.isSkip}))},e.onAlreadyError=function(i){var c=this;setTimeout(function(){c.onError(i)})},e.onAlreadyPreReady=function(){var i=this;setTimeout(function(){i.onPreReady()})},e.onAlreadyReady=function(i){var c=this;setTimeout(function(){c.onReady(i)})},o.EVENTS=[],o}(Component),ElementLoader=function(h){__extends$1(o,h);function o(){return h!==null&&h.apply(this,arguments)||this}var e=o.prototype;return e.setHasLoading=function(i){this.hasLoading=i},e.check=function(){return this.isSkip?(this.onAlreadyReady(!0),!1):(this.hasDataSize?(addAutoSizer(this.element,this.options.prefix),this.onAlreadyPreReady()):this.trigger("requestChildren"),!0)},e.checkElement=function(){return!0},e.destroy=function(){this.clear(),this.trigger("requestDestroy"),this.off()},e.onAlreadyPreReady=function(){h.prototype.onAlreadyPreReady.call(this),this.trigger("reqeustReadyChildren")},o.EVENTS=[],o}(Loader),ImReadyManager=function(h){__extends$1(o,h);function o(i){i===void 0&&(i={});var c=h.call(this)||this;return c.readyCount=0,c.preReadyCount=0,c.totalCount=0,c.totalErrorCount=0,c.isPreReadyOver=!0,c.elementInfos=[],c.options=__assign$1({loaders:{},prefix:"data-"},i),c}var e=o.prototype;return e.check=function(i){var c=this,f=this.options.prefix;this.clear(),this.elementInfos=toArray$1(i).map(function(g,Te){var Ie=c.getLoader(g,{prefix:f});return Ie.check(),Ie.on("error",function(Oe){c.onError(Te,Oe.target)}).on("preReady",function(Oe){var ne=c.elementInfos[Te];ne.hasLoading=Oe.hasLoading,ne.isSkip=Oe.isSkip;var De=c.checkPreReady(Te);c.onPreReadyElement(Te),De&&c.onPreReady()}).on("ready",function(Oe){var ne=Oe.withPreReady,De=Oe.hasLoading,Ee=Oe.isSkip,Be=c.elementInfos[Te];Be.hasLoading=De,Be.isSkip=Ee;var Fe=ne&&c.checkPreReady(Te),Ne=c.checkReady(Te);ne&&c.onPreReadyElement(Te),c.onReadyElement(Te),Fe&&c.onPreReady(),Ne&&c.onReady()}),{loader:Ie,element:g,hasLoading:!1,hasError:!1,isPreReady:!1,isReady:!1,isSkip:!1}});var m=this.elementInfos.length;return this.totalCount=m,m||setTimeout(function(){c.onPreReady(),c.onReady()}),this},e.getTotalCount=function(){return this.totalCount},e.isPreReady=function(){return this.elementInfos.every(function(i){return i.isPreReady})},e.isReady=function(){return this.elementInfos.every(function(i){return i.isReady})},e.hasError=function(){return this.totalErrorCount>0},e.clear=function(){this.isPreReadyOver=!1,this.totalCount=0,this.preReadyCount=0,this.readyCount=0,this.totalErrorCount=0,this.elementInfos.forEach(function(i){i.loader&&i.loader.destroy()}),this.elementInfos=[]},e.destroy=function(){this.clear(),this.off()},e.getLoader=function(i,c){var f=this,m=i.tagName.toLowerCase(),g=this.options.loaders,Te=c.prefix,Ie=Object.keys(g);if(g[m])return new g[m](i,c);var Oe=new ElementLoader(i,c),ne=toArray$1(i.querySelectorAll(Ie.join(", ")));Oe.setHasLoading(ne.some(function(Be){return hasLoadingAttribute(Be,Te)}));var De=!1,Ee=this.clone().on("error",function(Be){Oe.onError(Be.target)}).on("ready",function(){Oe.onReady(De)});return Oe.on("requestChildren",function(){var Be=getContentElements(i,Ie,f.options.prefix);Ee.check(Be).on("preReady",function(Fe){De=Fe.isReady,De||Oe.onPreReady()})}).on("reqeustReadyChildren",function(){Ee.check(ne)}).on("requestDestroy",function(){Ee.destroy()}),Oe},e.clone=function(){return new o(__assign$1({},this.options))},e.checkPreReady=function(i){return this.elementInfos[i].isPreReady=!0,++this.preReadyCount,!(this.preReadyCount<this.totalCount)},e.checkReady=function(i){return this.elementInfos[i].isReady=!0,++this.readyCount,!(this.readyCount<this.totalCount)},e.onError=function(i,c){var f=this.elementInfos[i];f.hasError=!0,this.trigger(new ComponentEvent$1("error",{element:f.element,index:i,target:c,errorCount:this.getErrorCount(),totalErrorCount:++this.totalErrorCount}))},e.onPreReadyElement=function(i){var c=this.elementInfos[i];this.trigger(new ComponentEvent$1("preReadyElement",{element:c.element,index:i,preReadyCount:this.preReadyCount,readyCount:this.readyCount,totalCount:this.totalCount,isPreReady:this.isPreReady(),isReady:this.isReady(),hasLoading:c.hasLoading,isSkip:c.isSkip}))},e.onPreReady=function(){this.isPreReadyOver=!0,this.trigger(new ComponentEvent$1("preReady",{readyCount:this.readyCount,totalCount:this.totalCount,isReady:this.isReady(),hasLoading:this.hasLoading()}))},e.onReadyElement=function(i){var c=this.elementInfos[i];this.trigger(new ComponentEvent$1("readyElement",{index:i,element:c.element,hasError:c.hasError,errorCount:this.getErrorCount(),totalErrorCount:this.totalErrorCount,preReadyCount:this.preReadyCount,readyCount:this.readyCount,totalCount:this.totalCount,isPreReady:this.isPreReady(),isReady:this.isReady(),hasLoading:c.hasLoading,isPreReadyOver:this.isPreReadyOver,isSkip:c.isSkip}))},e.onReady=function(){this.trigger(new ComponentEvent$1("ready",{errorCount:this.getErrorCount(),totalErrorCount:this.totalErrorCount,totalCount:this.totalCount}))},e.getErrorCount=function(){return this.elementInfos.filter(function(i){return i.hasError}).length},e.hasLoading=function(){return this.elementInfos.some(function(i){return i.hasLoading})},o}(Component),ImageLoader=function(h){__extends$1(o,h);function o(){return h!==null&&h.apply(this,arguments)||this}var e=o.prototype;return e.checkElement=function(){var i=this.element,c=i.getAttribute("src");if(i.complete){if(c)return i.naturalWidth||this.onAlreadyError(i),!1;this.onAlreadyPreReady()}return this.addEvents(),IS_IE&&i.setAttribute("src",c),!0},o.EVENTS=["load","error"],o}(Loader),VideoLoader=function(h){__extends$1(o,h);function o(){return h!==null&&h.apply(this,arguments)||this}var e=o.prototype;return e.checkElement=function(){var i=this.element;return i.readyState>=1?!1:i.error?(this.onAlreadyError(i),!1):(this.addEvents(),!0)},o.EVENTS=["loadedmetadata","error"],o}(Loader),ImReady=function(h){__extends$1(o,h);function o(e){return e===void 0&&(e={}),h.call(this,__assign$1({loaders:{img:ImageLoader,video:VideoLoader}},e))||this}return o}(ImReadyManager);const ImReady$1=ImReady;var extendStatics=function(h,o){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])},extendStatics(h,o)};function __extends(h,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");extendStatics(h,o);function e(){this.constructor=h}h.prototype=o===null?Object.create(o):(e.prototype=o.prototype,new e)}var __assign=function(){return __assign=Object.assign||function(o){for(var e,i=1,c=arguments.length;i<c;i++){e=arguments[i];for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(o[f]=e[f])}return o},__assign.apply(this,arguments)};function __awaiter(h,o,e,i){function c(f){return f instanceof e?f:new e(function(m){m(f)})}return new(e||(e=Promise))(function(f,m){function g(Oe){try{Ie(i.next(Oe))}catch(ne){m(ne)}}function Te(Oe){try{Ie(i.throw(Oe))}catch(ne){m(ne)}}function Ie(Oe){Oe.done?f(Oe.value):c(Oe.value).then(g,Te)}Ie((i=i.apply(h,o||[])).next())})}function __generator(h,o){var e={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},i,c,f,m;return m={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function g(Ie){return function(Oe){return Te([Ie,Oe])}}function Te(Ie){if(i)throw new TypeError("Generator is already executing.");for(;m&&(m=0,Ie[0]&&(e=0)),e;)try{if(i=1,c&&(f=Ie[0]&2?c.return:Ie[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,Ie[1])).done)return f;switch(c=0,f&&(Ie=[Ie[0]&2,f.value]),Ie[0]){case 0:case 1:f=Ie;break;case 4:return e.label++,{value:Ie[1],done:!1};case 5:e.label++,c=Ie[1],Ie=[0];continue;case 7:Ie=e.ops.pop(),e.trys.pop();continue;default:if(f=e.trys,!(f=f.length>0&&f[f.length-1])&&(Ie[0]===6||Ie[0]===2)){e=0;continue}if(Ie[0]===3&&(!f||Ie[1]>f[0]&&Ie[1]<f[3])){e.label=Ie[1];break}if(Ie[0]===6&&e.label<f[1]){e.label=f[1],f=Ie;break}if(f&&e.label<f[2]){e.label=f[2],e.ops.push(Ie);break}f[2]&&e.ops.pop(),e.trys.pop();continue}Ie=o.call(h,e)}catch(Oe){Ie=[6,Oe],c=0}finally{i=f=0}if(Ie[0]&5)throw Ie[1];return{value:Ie[0]?Ie[1]:void 0,done:!0}}}function __values(h){var o=typeof Symbol=="function"&&Symbol.iterator,e=o&&h[o],i=0;if(e)return e.call(h);if(h&&typeof h.length=="number")return{next:function(){return h&&i>=h.length&&(h=void 0),{value:h&&h[i++],done:!h}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(h,o){var e=typeof Symbol=="function"&&h[Symbol.iterator];if(!e)return h;var i=e.call(h),c,f=[],m;try{for(;(o===void 0||o-- >0)&&!(c=i.next()).done;)f.push(c.value)}catch(g){m={error:g}}finally{try{c&&!c.done&&(e=i.return)&&e.call(i)}finally{if(m)throw m.error}}return f}function __spread(){for(var h=[],o=0;o<arguments.length;o++)h=h.concat(__read(arguments[o]));return h}typeof SuppressedError=="function"&&SuppressedError;var CODE={WRONG_TYPE:0,ELEMENT_NOT_FOUND:1,VAL_MUST_NOT_NULL:2,NOT_ATTACHED_TO_FLICKING:3,WRONG_OPTION:4,INDEX_OUT_OF_RANGE:5,POSITION_NOT_REACHABLE:6,TRANSFORM_NOT_SUPPORTED:7,STOP_CALLED_BY_USER:8,ANIMATION_INTERRUPTED:9,ANIMATION_ALREADY_PLAYING:10,NOT_ALLOWED_IN_FRAMEWORK:11,NOT_INITIALIZED:12,NO_ACTIVE:13,NOT_ALLOWED_IN_VIRTUAL:14},MESSAGE={WRONG_TYPE:function(h,o){return h+"("+typeof h+") is not a "+o.map(function(e){return'"'+e+'"'}).join(" or ")+"."},ELEMENT_NOT_FOUND:function(h){return'Element with selector "'+h+'" not found.'},VAL_MUST_NOT_NULL:function(h,o){return o+" should be provided. Given: "+h},NOT_ATTACHED_TO_FLICKING:'This module is not attached to the Flicking instance. "init()" should be called first.',WRONG_OPTION:function(h,o){return'Option "'+h+'" is not in correct format, given: '+o},INDEX_OUT_OF_RANGE:function(h,o,e){return'Index "'+h+'" is out of range: should be between '+o+" and "+e+"."},POSITION_NOT_REACHABLE:function(h){return'Position "'+h+'" is not reachable.'},TRANSFORM_NOT_SUPPORTED:"Browser does not support CSS transform.",STOP_CALLED_BY_USER:"Event stop() is called by user.",ANIMATION_INTERRUPTED:"Animation is interrupted by user input.",ANIMATION_ALREADY_PLAYING:"Animation is already playing.",NOT_ALLOWED_IN_FRAMEWORK:"This behavior is not allowed in the frameworks like React, Vue, or Angular.",NOT_INITIALIZED:"Flicking is not initialized yet, call init() first.",NO_ACTIVE:"There's no active panel that Flicking has selected. This may be due to the absence of any panels.",NOT_ALLOWED_IN_VIRTUAL:"This behavior is not allowed when the virtual option is enabled"},EVENTS={READY:"ready",BEFORE_RESIZE:"beforeResize",AFTER_RESIZE:"afterResize",HOLD_START:"holdStart",HOLD_END:"holdEnd",MOVE_START:"moveStart",MOVE:"move",MOVE_END:"moveEnd",WILL_CHANGE:"willChange",CHANGED:"changed",WILL_RESTORE:"willRestore",RESTORED:"restored",SELECT:"select",NEED_PANEL:"needPanel",VISIBLE_CHANGE:"visibleChange",REACH_EDGE:"reachEdge",PANEL_CHANGE:"panelChange"},ALIGN={PREV:"prev",CENTER:"center",NEXT:"next"},DIRECTION={PREV:"PREV",NEXT:"NEXT",NONE:null},MOVE_TYPE={SNAP:"snap",FREE_SCROLL:"freeScroll",STRICT:"strict"},CLASS={VERTICAL:"vertical",HIDDEN:"flicking-hidden",DEFAULT_VIRTUAL:"flicking-panel"},CIRCULAR_FALLBACK={LINEAR:"linear",BOUND:"bound"},ORDER={LTR:"ltr",RTL:"rtl"},getElement=function(h,o){var e=null;if(isString(h)){var i=o||document,c=i.querySelector(h);if(!c)throw new FlickingError(MESSAGE.ELEMENT_NOT_FOUND(h),CODE.ELEMENT_NOT_FOUND);e=c}else h&&h.nodeType===Node.ELEMENT_NODE&&(e=h);if(!e)throw new FlickingError(MESSAGE.WRONG_TYPE(h,["HTMLElement","string"]),CODE.WRONG_TYPE);return e},checkExistence=function(h,o){if(h==null)throw new FlickingError(MESSAGE.VAL_MUST_NOT_NULL(h,o),CODE.VAL_MUST_NOT_NULL)},clamp=function(h,o,e){return Math.max(Math.min(h,e),o)},getFlickingAttached=function(h){if(!h)throw new FlickingError(MESSAGE.NOT_ATTACHED_TO_FLICKING,CODE.NOT_ATTACHED_TO_FLICKING);return h},toArray=function(h){return[].slice.call(h)},parseAlign$1=function(h,o){var e;if(isString(h))switch(h){case ALIGN.PREV:e=0;break;case ALIGN.CENTER:e=.5*o;break;case ALIGN.NEXT:e=o;break;default:if(e=parseArithmeticSize(h,o),e==null)throw new FlickingError(MESSAGE.WRONG_OPTION("align",h),CODE.WRONG_OPTION)}else e=h;return e},parseBounce=function(h,o){var e;if(Array.isArray(h))e=h.map(function(c){return parseArithmeticSize(c,o)});else{var i=parseArithmeticSize(h,o);e=[i,i]}return e.map(function(c){if(c==null)throw new FlickingError(MESSAGE.WRONG_OPTION("bounce",h),CODE.WRONG_OPTION);return c})},parseArithmeticSize=function(h,o){var e=parseArithmeticExpression(h);return e==null?null:e.percentage*o+e.absolute},parseArithmeticExpression=function(h){var o=/(?:(\+|\-)\s*)?(\d+(?:\.\d+)?(%|px)?)/g;if(typeof h=="number")return{percentage:0,absolute:h};for(var e={percentage:0,absolute:0},i=0,c=o.exec(h);c!=null;){var f=c[1],m=c[2],g=c[3],Te=parseFloat(m);if(i<=0&&(f=f||"+"),!f)return null;var Ie=f==="+"?1:-1;g==="%"?e.percentage+=Ie*(Te/100):e.absolute+=Ie*Te,++i,c=o.exec(h)}return i===0?null:e},parsePanelAlign=function(h){return typeof h=="object"?h.panel:h},getDirection=function(h,o){return h===o?DIRECTION.NONE:h<o?DIRECTION.NEXT:DIRECTION.PREV},parseElement=function(h){Array.isArray(h)||(h=[h]);var o=[];return h.forEach(function(e){if(isString(e)){var i=document.createElement("div");for(i.innerHTML=e,o.push.apply(o,__spread(toArray(i.children)));i.firstChild;)i.removeChild(i.firstChild)}else if(e&&e.nodeType===Node.ELEMENT_NODE)o.push(e);else throw new FlickingError(MESSAGE.WRONG_TYPE(e,["HTMLElement","string"]),CODE.WRONG_TYPE)}),o},getMinusCompensatedIndex=function(h,o){return h<0?clamp(h+o,0,o):clamp(h,0,o)},includes=function(h,o){var e,i;try{for(var c=__values(h),f=c.next();!f.done;f=c.next()){var m=f.value;if(m===o)return!0}}catch(g){e={error:g}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(e)throw e.error}}return!1},isString=function(h){return typeof h=="string"},circulatePosition=function(h,o,e){var i=e-o;if(h<o){var c=(o-h)%i;h=e-c}else if(h>e){var c=(h-e)%i;h=o+c}return h},find=function(h,o){var e,i;try{for(var c=__values(h),f=c.next();!f.done;f=c.next()){var m=f.value;if(o(m))return m}}catch(g){e={error:g}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(e)throw e.error}}return null},findIndex=function(h,o){for(var e=0;e<h.length;e++)if(o(h[e]))return e;return-1},getProgress=function(h,o,e){return(h-o)/(e-o)},getStyle=function(h){return window.getComputedStyle(h)||h.currentStyle},setSize=function(h,o){var e=o.width,i=o.height;e!=null&&(isString(e)?h.style.width=e:h.style.width=e+"px"),i!=null&&(isString(i)?h.style.height=i:h.style.height=i+"px")},isBetween=function(h,o,e){return h>=o&&h<=e},circulateIndex=function(h,o){return h>=o?h%o:h<0?getMinusCompensatedIndex((h+1)%o-1,o):h},range=function(h){for(var o=new Array(h),e=0;e<h;e++)o[e]=e;return o},getElementSize=function(h){var o=h.el,e=h.horizontal,i=h.useFractionalSize,c=h.useOffset,f=h.style,m=0;if(i){var g=parseFloat(e?f.width:f.height)||0,Te=f.boxSizing==="border-box",Ie=e?parseFloat(f.borderLeftWidth||"0")+parseFloat(f.borderRightWidth||"0"):parseFloat(f.borderTopWidth||"0")+parseFloat(f.borderBottomWidth||"0");if(Te)m=c?g:g-Ie;else{var Oe=e?parseFloat(f.paddingLeft||"0")+parseFloat(f.paddingRight||"0"):parseFloat(f.paddingTop||"0")+parseFloat(f.paddingBottom||"0");m=c?g+Oe+Ie:g+Oe}}else{var ne=e?"Width":"Height";m=c?o["offset"+ne]:o["client"+ne]}return Math.max(m,0)},setPrototypeOf=Object.setPrototypeOf||function(h,o){return h.__proto__=o,h},FlickingError=function(h){__extends(o,h);function o(e,i){var c=h.call(this,e)||this;return setPrototypeOf(c,o.prototype),c.name="FlickingError",c.code=i,c}return o}(Error),Viewport=function(){function h(e,i){this._flicking=e,this._el=i,this._width=0,this._height=0,this._padding={left:0,right:0,top:0,bottom:0},this._isBorderBoxSizing=!1}var o=h.prototype;return Object.defineProperty(o,"element",{get:function(){return this._el},enumerable:!1,configurable:!0}),Object.defineProperty(o,"width",{get:function(){return this._width-this._padding.left-this._padding.right},enumerable:!1,configurable:!0}),Object.defineProperty(o,"height",{get:function(){return this._height-this._padding.top-this._padding.bottom},enumerable:!1,configurable:!0}),Object.defineProperty(o,"padding",{get:function(){return this._padding},enumerable:!1,configurable:!0}),o.setSize=function(e){var i=e.width,c=e.height,f=this._el,m=this._padding,g=this._isBorderBoxSizing;if(i!=null)if(isString(i))f.style.width=i;else{var Te=g?i+m.left+m.right:i;f.style.width=Te+"px"}if(c!=null)if(isString(c))f.style.height=c;else{var Ie=g?c+m.top+m.bottom:c;f.style.height=Ie+"px"}this.resize()},o.resize=function(){var e=this._el,i=getStyle(e),c=this._flicking.useFractionalSize;this._width=getElementSize({el:e,horizontal:!0,useFractionalSize:c,useOffset:!1,style:i}),this._height=getElementSize({el:e,horizontal:!1,useFractionalSize:c,useOffset:!1,style:i}),this._padding={left:i.paddingLeft?parseFloat(i.paddingLeft):0,right:i.paddingRight?parseFloat(i.paddingRight):0,top:i.paddingTop?parseFloat(i.paddingTop):0,bottom:i.paddingBottom?parseFloat(i.paddingBottom):0},this._isBorderBoxSizing=i.boxSizing==="border-box"},h}(),AutoResizer=function(){function h(e){var i=this;this._onResize=function(){var c=i._flicking,f=c.resizeDebounce,m=c.maxResizeDebounce;f<=0?c.resize():(i._maxResizeDebounceTimer<=0&&m>0&&m>=f&&(i._maxResizeDebounceTimer=window.setTimeout(i._doScheduledResize,m)),i._resizeTimer>0&&(clearTimeout(i._resizeTimer),i._resizeTimer=0),i._resizeTimer=window.setTimeout(i._doScheduledResize,f))},this._doScheduledResize=function(){clearTimeout(i._resizeTimer),clearTimeout(i._maxResizeDebounceTimer),i._maxResizeDebounceTimer=-1,i._resizeTimer=-1,i._flicking.resize()},this._skipFirstResize=function(){var c=!0;return function(){if(c){c=!1;return}i._onResize()}}(),this._flicking=e,this._enabled=!1,this._resizeObserver=null,this._resizeTimer=-1,this._maxResizeDebounceTimer=-1}var o=h.prototype;return Object.defineProperty(o,"enabled",{get:function(){return this._enabled},enumerable:!1,configurable:!0}),o.enable=function(){var e=this._flicking,i=e.viewport;if(this._enabled&&this.disable(),e.useResizeObserver&&window.ResizeObserver){var c=i.width!==0||i.height!==0,f=c?new ResizeObserver(this._skipFirstResize):new ResizeObserver(this._onResize);f.observe(e.viewport.element),this._resizeObserver=f}else window.addEventListener("resize",this._onResize);return this._enabled=!0,this},o.disable=function(){if(!this._enabled)return this;var e=this._resizeObserver;return e?(e.disconnect(),this._resizeObserver=null):window.removeEventListener("resize",this._onResize),this._enabled=!1,this},h}(),VanillaElementProvider=function(){function h(e){this._element=e,this._rendered=!0}var o=h.prototype;return Object.defineProperty(o,"element",{get:function(){return this._element},enumerable:!1,configurable:!0}),Object.defineProperty(o,"rendered",{get:function(){return this._rendered},enumerable:!1,configurable:!0}),o.show=function(e){var i=this.element,c=e.camera.element;i.parentElement!==c&&(c.appendChild(i),this._rendered=!0)},o.hide=function(e){var i=this.element,c=e.camera.element;i.parentElement===c&&(c.removeChild(i),this._rendered=!1)},h}(),VirtualElementProvider=function(){function h(e){this._flicking=e}var o=h.prototype;return Object.defineProperty(o,"element",{get:function(){return this._virtualElement.nativeElement},enumerable:!1,configurable:!0}),Object.defineProperty(o,"rendered",{get:function(){return this._virtualElement.visible},enumerable:!1,configurable:!0}),Object.defineProperty(o,"_virtualElement",{get:function(){var e=this._flicking,i=this._panel.elementIndex,c=e.virtual.elements;return c[i]},enumerable:!1,configurable:!0}),o.init=function(e){this._panel=e},o.show=function(){},o.hide=function(){},h}(),VirtualManager=function(){function h(e,i){var c,f,m,g;this._flicking=e,this._renderPanel=(c=i==null?void 0:i.renderPanel)!==null&&c!==void 0?c:function(){return""},this._initialPanelCount=(f=i==null?void 0:i.initialPanelCount)!==null&&f!==void 0?f:-1,this._cache=(m=i==null?void 0:i.cache)!==null&&m!==void 0?m:!1,this._panelClass=(g=i==null?void 0:i.panelClass)!==null&&g!==void 0?g:CLASS.DEFAULT_VIRTUAL,this._elements=[]}var o=h.prototype;return Object.defineProperty(o,"elements",{get:function(){return this._elements},enumerable:!1,configurable:!0}),Object.defineProperty(o,"renderPanel",{get:function(){return this._renderPanel},set:function(e){this._renderPanel=e,this._flicking.renderer.panels.forEach(function(i){return i.uncacheRenderResult()})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"initialPanelCount",{get:function(){return this._initialPanelCount},enumerable:!1,configurable:!0}),Object.defineProperty(o,"cache",{get:function(){return this._cache},set:function(e){this._cache=e},enumerable:!1,configurable:!0}),Object.defineProperty(o,"panelClass",{get:function(){return this._panelClass},set:function(e){this._panelClass=e},enumerable:!1,configurable:!0}),o.init=function(){var e=this._flicking;if(e.virtualEnabled){!e.externalRenderer&&!e.renderExternal&&this._initVirtualElements();var i=e.camera.children;this._elements=i.map(function(c){return{nativeElement:c,visible:!0}})}},o.show=function(e){var i=this._elements[e],c=i.nativeElement;i.visible=!0,c.style.display&&(c.style.display="")},o.hide=function(e){var i=this._elements[e],c=i.nativeElement;i.visible=!1,c.style.display="none"},o.append=function(e){e===void 0&&(e=1);var i=this._flicking;return this.insert(i.panels.length,e)},o.prepend=function(e){return e===void 0&&(e=1),this.insert(0,e)},o.insert=function(e,i){if(i===void 0&&(i=1),i<=0)return[];var c=this._flicking;return c.renderer.batchInsert({index:e,elements:range(i),hasDOMInElements:!1})},o.remove=function(e,i){if(i<=0)return[];var c=this._flicking;return c.renderer.batchRemove({index:e,deleteCount:i,hasDOMInElements:!1})},o._initVirtualElements=function(){var e=this,i=this._flicking,c=i.camera.element,f=i.panelsPerView,m=document.createDocumentFragment(),g=range(f+1).map(function(Te){var Ie=document.createElement("div");return Ie.className=e._panelClass,Ie.dataset.elementIndex=Te.toString(),Ie});g.forEach(function(Te){m.appendChild(Te)}),c.appendChild(m)},h}(),EVENT={HOLD:"hold",CHANGE:"change",RELEASE:"release",ANIMATION_END:"animationEnd",FINISH:"finish"},POSITION_KEY="flick",STATE_TYPE;(function(h){h[h.IDLE=0]="IDLE",h[h.HOLDING=1]="HOLDING",h[h.DRAGGING=2]="DRAGGING",h[h.ANIMATING=3]="ANIMATING",h[h.DISABLED=4]="DISABLED"})(STATE_TYPE||(STATE_TYPE={}));var State=function(){function h(){this._delta=0,this._targetPanel=null}var o=h.prototype;return Object.defineProperty(o,"delta",{get:function(){return this._delta},enumerable:!1,configurable:!0}),Object.defineProperty(o,"targetPanel",{get:function(){return this._targetPanel},set:function(e){this._targetPanel=e},enumerable:!1,configurable:!0}),o.onEnter=function(e){this._delta=e._delta,this._targetPanel=e._targetPanel},o.onHold=function(e){},o.onChange=function(e){},o.onRelease=function(e){},o.onAnimationEnd=function(e){},o.onFinish=function(e){},o._moveToChangedPosition=function(e){var i=e.flicking,c=e.axesEvent,f=e.transitTo,m=c.delta[POSITION_KEY];if(m){this._delta+=m;var g=i.camera,Te=g.position,Ie=c.pos[POSITION_KEY],Oe=i.circularEnabled?circulatePosition(Ie,g.range.min,g.range.max):Ie;g.lookAt(Oe);var ne=new ComponentEvent$1(EVENTS.MOVE,{isTrusted:c.isTrusted,holding:this.holding,direction:getDirection(0,c.delta[POSITION_KEY]),axesEvent:c});i.trigger(ne),ne.isCanceled()&&(g.lookAt(Te),f(STATE_TYPE.DISABLED))}},h}(),IdleState=function(h){__extends(o,h);function o(){var i=h!==null&&h.apply(this,arguments)||this;return i.holding=!1,i.animating=!1,i}var e=o.prototype;return e.onEnter=function(){this._delta=0,this._targetPanel=null},e.onHold=function(i){var c=i.flicking,f=i.axesEvent,m=i.transitTo;if(c.renderer.panelCount<=0){m(STATE_TYPE.DISABLED);return}var g=new ComponentEvent$1(EVENTS.HOLD_START,{axesEvent:f});c.trigger(g),g.isCanceled()?m(STATE_TYPE.DISABLED):m(STATE_TYPE.HOLDING)},e.onChange=function(i){var c=i.flicking,f=i.axesEvent,m=i.transitTo,g=c.control.controller,Te=g.animatingContext,Ie=new ComponentEvent$1(EVENTS.MOVE_START,{isTrusted:f.isTrusted,holding:this.holding,direction:getDirection(Te.start,Te.end),axesEvent:f});c.trigger(Ie),Ie.isCanceled()?m(STATE_TYPE.DISABLED):m(STATE_TYPE.ANIMATING).onChange(i)},o}(State),HoldingState=function(h){__extends(o,h);function o(){var i=h!==null&&h.apply(this,arguments)||this;return i.holding=!0,i.animating=!1,i._releaseEvent=null,i}var e=o.prototype;return e.onChange=function(i){var c=i.flicking,f=i.axesEvent,m=i.transitTo,g=f.inputEvent,Te=c.horizontal?g.offsetX:g.offsetY,Ie=new ComponentEvent$1(EVENTS.MOVE_START,{isTrusted:f.isTrusted,holding:this.holding,direction:getDirection(0,-Te),axesEvent:f});c.trigger(Ie),Ie.isCanceled()?m(STATE_TYPE.DISABLED):m(STATE_TYPE.DRAGGING).onChange(i)},e.onRelease=function(i){var c=i.flicking,f=i.axesEvent,m=i.transitTo;if(c.trigger(new ComponentEvent$1(EVENTS.HOLD_END,{axesEvent:f})),f.delta.flick!==0){f.setTo({flick:c.camera.position},0),m(STATE_TYPE.IDLE);return}this._releaseEvent=f},e.onFinish=function(i){var c,f,m=i.flicking,g=i.transitTo;if(g(STATE_TYPE.IDLE),!!this._releaseEvent){var Te=this._releaseEvent,Ie=Te.inputEvent.srcEvent,Oe;if(Ie.type==="touchend"){var ne=Ie,De=ne.changedTouches[0];Oe=document.elementFromPoint(De.clientX,De.clientY)}else Oe=Ie.target;var Ee=m.renderer.panels,Be=null;try{for(var Fe=__values(Ee),Ne=Fe.next();!Ne.done;Ne=Fe.next()){var Ve=Ne.value;if(Ve.contains(Oe)){Be=Ve;break}}}catch(He){c={error:He}}finally{try{Ne&&!Ne.done&&(f=Fe.return)&&f.call(Fe)}finally{if(c)throw c.error}}if(Be){var Ue=m.camera.position,We=Be.position;m.trigger(new ComponentEvent$1(EVENTS.SELECT,{index:Be.index,panel:Be,direction:getDirection(Ue,We)}))}}},o}(State),DraggingState=function(h){__extends(o,h);function o(){var i=h!==null&&h.apply(this,arguments)||this;return i.holding=!0,i.animating=!0,i}var e=o.prototype;return e.onChange=function(i){this._moveToChangedPosition(i)},e.onRelease=function(i){var c,f=i.flicking,m=i.axesEvent,g=i.transitTo;if(f.trigger(new ComponentEvent$1(EVENTS.HOLD_END,{axesEvent:m})),f.renderer.panelCount<=0){g(STATE_TYPE.IDLE);return}g(STATE_TYPE.ANIMATING);var Te=f.control,Ie=m.destPos[POSITION_KEY],Oe=Math.max(m.duration,f.duration);try{Te.moveToPosition(Ie,Oe,m)}catch{g(STATE_TYPE.IDLE),m.setTo((c={},c[POSITION_KEY]=f.camera.position,c),0)}},o}(State),AnimatingState=function(h){__extends(o,h);function o(){var i=h!==null&&h.apply(this,arguments)||this;return i.holding=!1,i.animating=!0,i}var e=o.prototype;return e.onHold=function(i){var c=i.flicking,f=i.axesEvent,m=i.transitTo,g=this._targetPanel,Te=c.control;this._delta=0,c.control.updateInput(),c.changeOnHold&&g&&Te.setActive(g,Te.activePanel,f.isTrusted);var Ie=new ComponentEvent$1(EVENTS.HOLD_START,{axesEvent:f});c.trigger(Ie),Ie.isCanceled()?m(STATE_TYPE.DISABLED):m(STATE_TYPE.DRAGGING)},e.onChange=function(i){this._moveToChangedPosition(i)},e.onFinish=function(i){var c=i.flicking,f=i.axesEvent,m=i.transitTo,g=c.control,Te=g.controller,Ie=Te.animatingContext;m(STATE_TYPE.IDLE),c.trigger(new ComponentEvent$1(EVENTS.MOVE_END,{isTrusted:f.isTrusted,direction:getDirection(Ie.start,Ie.end),axesEvent:f}));var Oe=this._targetPanel;Oe&&g.setActive(Oe,g.activePanel,f.isTrusted)},o}(State),DisabledState=function(h){__extends(o,h);function o(){var i=h!==null&&h.apply(this,arguments)||this;return i.holding=!1,i.animating=!0,i}var e=o.prototype;return e.onAnimationEnd=function(i){var c=i.transitTo;c(STATE_TYPE.IDLE)},e.onChange=function(i){var c=i.axesEvent,f=i.transitTo;c.stop(),f(STATE_TYPE.IDLE)},e.onRelease=function(i){var c=i.axesEvent,f=i.transitTo;c.delta.flick===0&&f(STATE_TYPE.IDLE)},o}(State),StateMachine=function(){function h(){var e=this;this.transitTo=function(i){var c;switch(i){case STATE_TYPE.IDLE:c=new IdleState;break;case STATE_TYPE.HOLDING:c=new HoldingState;break;case STATE_TYPE.DRAGGING:c=new DraggingState;break;case STATE_TYPE.ANIMATING:c=new AnimatingState;break;case STATE_TYPE.DISABLED:c=new DisabledState;break}return c.onEnter(e._state),e._state=c,e._state},this._state=new IdleState}var o=h.prototype;return Object.defineProperty(o,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),o.fire=function(e,i){var c=this._state,f=__assign(__assign({},i),{transitTo:this.transitTo});switch(e){case EVENT.HOLD:c.onHold(f);break;case EVENT.CHANGE:c.onChange(f);break;case EVENT.RELEASE:c.onRelease(f);break;case EVENT.ANIMATION_END:c.onAnimationEnd(f);break;case EVENT.FINISH:c.onFinish(f);break}},h}(),AxesController=function(){function h(){var e=this;this._onAxesHold=function(){e._dragged=!1},this._onAxesChange=function(){var i;e._dragged=!!(!((i=e._panInput)===null||i===void 0)&&i.isEnabled())},this._preventClickWhenDragged=function(i){e._dragged&&(i.preventDefault(),i.stopPropagation()),e._dragged=!1},this._resetInternalValues(),this._stateMachine=new StateMachine}var o=h.prototype;return Object.defineProperty(o,"axes",{get:function(){return this._axes},enumerable:!1,configurable:!0}),Object.defineProperty(o,"panInput",{get:function(){return this._panInput},enumerable:!1,configurable:!0}),Object.defineProperty(o,"stateMachine",{get:function(){return this._stateMachine},enumerable:!1,configurable:!0}),Object.defineProperty(o,"state",{get:function(){return this._stateMachine.state},enumerable:!1,configurable:!0}),Object.defineProperty(o,"animatingContext",{get:function(){return this._animatingContext},enumerable:!1,configurable:!0}),Object.defineProperty(o,"controlParams",{get:function(){var e=this._axes;if(!e)return{range:{min:0,max:0},position:0,circular:!1};var i=e.axis[POSITION_KEY];return{range:{min:i.range[0],max:i.range[1]},circular:i.circular[0],position:this.position}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"enabled",{get:function(){var e,i;return(i=(e=this._panInput)===null||e===void 0?void 0:e.isEnabled())!==null&&i!==void 0?i:!1},enumerable:!1,configurable:!0}),Object.defineProperty(o,"position",{get:function(){var e,i;return(i=(e=this._axes)===null||e===void 0?void 0:e.get([POSITION_KEY])[POSITION_KEY])!==null&&i!==void 0?i:0},enumerable:!1,configurable:!0}),Object.defineProperty(o,"range",{get:function(){var e,i;return(i=(e=this._axes)===null||e===void 0?void 0:e.axis[POSITION_KEY].range)!==null&&i!==void 0?i:[0,0]},enumerable:!1,configurable:!0}),Object.defineProperty(o,"bounce",{get:function(){var e;return(e=this._axes)===null||e===void 0?void 0:e.axis[POSITION_KEY].bounce},enumerable:!1,configurable:!0}),o.init=function(e){var i,c=this;this._flicking=e,this._axes=new Axes$1((i={},i[POSITION_KEY]={range:[0,0],circular:!1,bounce:[0,0]},i),{deceleration:e.deceleration,interruptable:e.interruptable,nested:e.nested,easing:e.easing}),this._panInput=new PanInput(e.viewport.element,{inputType:e.inputType,threshold:1,iOSEdgeSwipeThreshold:e.iOSEdgeSwipeThreshold,preventDefaultOnDrag:e.preventDefaultOnDrag,scale:e.horizontal?[e.camera.panelOrder===ORDER.RTL?1:-1,0]:[0,-1],releaseOnScroll:!0});var f=this._axes;f.connect(e.horizontal?[POSITION_KEY,""]:["",POSITION_KEY],this._panInput);var m=function(Te){var Ie=EVENT[Te];f.on(Ie,function(Oe){c._stateMachine.fire(Ie,{flicking:e,axesEvent:Oe})})};for(var g in EVENT)m(g);return this},o.destroy=function(){var e;this._axes&&(this.removePreventClickHandler(),this._axes.destroy()),(e=this._panInput)===null||e===void 0||e.destroy(),this._resetInternalValues()},o.enable=function(){var e;return(e=this._panInput)===null||e===void 0||e.enable(),this},o.disable=function(){var e;return(e=this._panInput)===null||e===void 0||e.disable(),this},o.release=function(){var e;return(e=this._panInput)===null||e===void 0||e.release(),this},o.updateAnimation=function(e,i){var c,f;return this._animatingContext=__assign(__assign({},this._animatingContext),{end:e}),(f=this._axes)===null||f===void 0||f.updateAnimation({destPos:(c={},c[POSITION_KEY]=e,c),duration:i}),this},o.stopAnimation=function(){var e;return(e=this._axes)===null||e===void 0||e.stopAnimation(),this},o.update=function(e){var i,c=getFlickingAttached(this._flicking),f=c.camera,m=this._axes,g=m.axis[POSITION_KEY];return g.circular=[e.circular,e.circular],g.range=[e.range.min,e.range.max],g.bounce=parseBounce(c.bounce,f.size),m.axisManager.set((i={},i[POSITION_KEY]=e.position,i)),this},o.addPreventClickHandler=function(){var e=getFlickingAttached(this._flicking),i=this._axes,c=e.camera.element;return i.on(EVENT.HOLD,this._onAxesHold),i.on(EVENT.CHANGE,this._onAxesChange),c.addEventListener("click",this._preventClickWhenDragged,!0),this},o.removePreventClickHandler=function(){var e=getFlickingAttached(this._flicking),i=this._axes,c=e.camera.element;return i.off(EVENT.HOLD,this._onAxesHold),i.off(EVENT.CHANGE,this._onAxesChange),c.removeEventListener("click",this._preventClickWhenDragged,!0),this},o.animateTo=function(e,i,c){var f=this,m,g=this._axes,Te=this._stateMachine.state;if(!g)return Promise.reject(new FlickingError(MESSAGE.NOT_ATTACHED_TO_FLICKING,CODE.NOT_ATTACHED_TO_FLICKING));var Ie=g.get([POSITION_KEY])[POSITION_KEY];if(Ie===e){var Oe=getFlickingAttached(this._flicking);return Oe.camera.lookAt(e),Te.targetPanel&&Oe.control.setActive(Te.targetPanel,Oe.control.activePanel,(m=c==null?void 0:c.isTrusted)!==null&&m!==void 0?m:!1),Promise.resolve()}this._animatingContext={start:Ie,end:e,offset:0};var ne=function(){var De,Ee,Be=function(){f._animatingContext={start:0,end:0,offset:0}};g.once(EVENT.FINISH,Be),c?c.setTo((De={},De[POSITION_KEY]=e,De),i):g.setTo((Ee={},Ee[POSITION_KEY]=e,Ee),i)};return new Promise(function(De,Ee){var Be=function(){g.off(EVENT.HOLD,Fe),De()},Fe=function(){g.off(EVENT.FINISH,Be),Ee(new FlickingError(MESSAGE.ANIMATION_INTERRUPTED,CODE.ANIMATION_INTERRUPTED))};g.once(EVENT.FINISH,Be),g.once(EVENT.HOLD,Fe),ne()})},o.updateDirection=function(){var e=getFlickingAttached(this._flicking),i=this._axes,c=this._panInput;i.disconnect(c),i.connect(e.horizontal?[POSITION_KEY,""]:["",POSITION_KEY],c),c.options.scale=e.horizontal?[e.camera.panelOrder===ORDER.RTL?1:-1,0]:[0,-1]},o._resetInternalValues=function(){this._flicking=null,this._axes=null,this._panInput=null,this._animatingContext={start:0,end:0,offset:0},this._dragged=!1},h}(),Control=function(){function h(){this._flicking=null,this._controller=new AxesController,this._activePanel=null}var o=h.prototype;return Object.defineProperty(o,"controller",{get:function(){return this._controller},enumerable:!1,configurable:!0}),Object.defineProperty(o,"activeIndex",{get:function(){var e,i;return(i=(e=this._activePanel)===null||e===void 0?void 0:e.index)!==null&&i!==void 0?i:-1},enumerable:!1,configurable:!0}),Object.defineProperty(o,"activePanel",{get:function(){return this._activePanel},enumerable:!1,configurable:!0}),Object.defineProperty(o,"animating",{get:function(){return this._controller.state.animating},enumerable:!1,configurable:!0}),Object.defineProperty(o,"holding",{get:function(){return this._controller.state.holding},enumerable:!1,configurable:!0}),o.init=function(e){return this._flicking=e,this._controller.init(e),this},o.destroy=function(){this._controller.destroy(),this._flicking=null,this._activePanel=null},o.enable=function(){return this._controller.enable(),this},o.disable=function(){return this._controller.disable(),this},o.release=function(){return this._controller.release(),this},o.updateAnimation=function(e,i,c){var f=this._controller.state,m=this._getPosition(e,c??DIRECTION.NONE);return f.targetPanel=e,this._controller.updateAnimation(m,i),this},o.stopAnimation=function(){var e=this._controller.state;return e.targetPanel=null,this._controller.stopAnimation(),this},o.updatePosition=function(e){var i=getFlickingAttached(this._flicking),c=i.camera,f=this._activePanel;f&&c.lookAt(c.clampToReachablePosition(f.position))},o.updateInput=function(){var e=getFlickingAttached(this._flicking),i=e.camera;return this._controller.update(i.controlParams),this},o.resetActive=function(){return this._activePanel=null,this},o.moveToPanel=function(e,i){var c=i.duration,f=i.direction,m=f===void 0?DIRECTION.NONE:f,g=i.axesEvent;return __awaiter(this,void 0,void 0,function(){var Te;return __generator(this,function(Ie){return Te=this._getPosition(e,m),this._triggerIndexChangeEvent(e,e.position,g,m),[2,this._animateToPosition({position:Te,duration:c,newActivePanel:e,axesEvent:g})]})})},o.setActive=function(e,i,c){var f,m=getFlickingAttached(this._flicking);this._activePanel=e,this._nextPanel=null,m.camera.updateAdaptiveHeight(),e!==i?m.trigger(new ComponentEvent$1(EVENTS.CHANGED,{index:e.index,panel:e,prevIndex:(f=i==null?void 0:i.index)!==null&&f!==void 0?f:-1,prevPanel:i,isTrusted:c,direction:i?getDirection(i.position,e.position):DIRECTION.NONE})):m.trigger(new ComponentEvent$1(EVENTS.RESTORED,{isTrusted:c}))},o.copy=function(e){this._flicking=e._flicking,this._activePanel=e._activePanel,this._controller=e._controller},o._triggerIndexChangeEvent=function(e,i,c,f){var m,g=getFlickingAttached(this._flicking),Te=e!==this._activePanel?EVENTS.WILL_CHANGE:EVENTS.WILL_RESTORE,Ie=g.camera,Oe=this._activePanel,ne=new ComponentEvent$1(Te,{index:e.index,panel:e,isTrusted:(c==null?void 0:c.isTrusted)||!1,direction:f??getDirection((m=Oe==null?void 0:Oe.position)!==null&&m!==void 0?m:Ie.position,i)});if(this._nextPanel=e,g.trigger(ne),ne.isCanceled())throw new FlickingError(MESSAGE.STOP_CALLED_BY_USER,CODE.STOP_CALLED_BY_USER)},o._animateToPosition=function(e){var i=e.position,c=e.duration,f=e.newActivePanel,m=e.axesEvent;return __awaiter(this,void 0,void 0,function(){var g,Te,Ie,Oe=this;return __generator(this,function(ne){return g=getFlickingAttached(this._flicking),Te=function(){return Oe._controller.animateTo(i,c,m)},Ie=this._controller.state,Ie.targetPanel=f,c<=0?[2,Te()]:[2,Te().then(function(){return __awaiter(Oe,void 0,void 0,function(){return __generator(this,function(De){switch(De.label){case 0:return[4,g.renderer.render()];case 1:return De.sent(),[2]}})})}).catch(function(De){if(!(m&&De instanceof FlickingError&&De.code===CODE.ANIMATION_INTERRUPTED))throw De})]})})},o._getPosition=function(e,i){i===void 0&&(i=DIRECTION.NONE);var c=getFlickingAttached(this._flicking),f=c.camera,m=e.position,g=f.findNearestAnchor(m);if(e.removed||!g)throw new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(e.position),CODE.POSITION_NOT_REACHABLE);if(!f.canReach(e))m=g.position,e=g.panel;else if(c.circularEnabled){var Te=this._controller.position,Ie=f.rangeDiff,Oe=[m,m+Ie,m-Ie].filter(function(ne){return i===DIRECTION.NONE?!0:i===DIRECTION.PREV?ne<=Te:ne>=Te});m=Oe.reduce(function(ne,De){return Math.abs(Te-De)<Math.abs(Te-ne)?De:ne},1/0)}return m},h}(),AnchorPoint=function(){function h(e){var i=e.index,c=e.position,f=e.panel;this._index=i,this._pos=c,this._panel=f}var o=h.prototype;return Object.defineProperty(o,"index",{get:function(){return this._index},enumerable:!1,configurable:!0}),Object.defineProperty(o,"position",{get:function(){return this._pos},enumerable:!1,configurable:!0}),Object.defineProperty(o,"panel",{get:function(){return this._panel},enumerable:!1,configurable:!0}),h}(),SnapControl=function(h){__extends(o,h);function o(i){var c=(i===void 0?{}:i).count,f=c===void 0?1/0:c,m=h.call(this)||this;return m._count=f,m}var e=o.prototype;return Object.defineProperty(e,"count",{get:function(){return this._count},set:function(i){this._count=i},enumerable:!1,configurable:!0}),e.moveToPosition=function(i,c,f){var m=getFlickingAttached(this._flicking),g=m.camera,Te=g.findActiveAnchor(),Ie=g.findNearestAnchor(g.position),Oe=this._controller.state;if(!Te||!Ie)return Promise.reject(new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(i),CODE.POSITION_NOT_REACHABLE));var ne=this._calcSnapThreshold(m.threshold,i,Te),De=m.animating?Oe.delta:i-g.position,Ee=Math.abs(De),Be=f&&f.delta[POSITION_KEY]!==0?Math.abs(f.delta[POSITION_KEY]):Ee,Fe;if(Be>=ne&&Be>0)Fe=this._findSnappedAnchor(i,Ie);else if(Ee>=m.threshold&&Ee>0)Fe=this._findAdjacentAnchor(i,De,Ie);else return this.moveToPanel(Ie.panel,{duration:c,axesEvent:f});return this._triggerIndexChangeEvent(Fe.panel,i,f),this._animateToPosition({position:g.clampToReachablePosition(Fe.position),duration:c,newActivePanel:Fe.panel,axesEvent:f})},e._findSnappedAnchor=function(i,c){var f=getFlickingAttached(this._flicking),m=f.camera,g=this._count,Te=m.position,Ie=m.clampToReachablePosition(i),Oe=m.findAnchorIncludePosition(Ie);if(!c||!Oe)throw new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(i),CODE.POSITION_NOT_REACHABLE);if(!isFinite(g))return Oe;var ne=f.panelCount,De=m.anchorPoints,Ee=Math.sign(i-Te)*Math.floor(Math.abs(i-Te)/m.rangeDiff);i>Te&&Oe.index<c.index||Oe.position>c.position&&Oe.index===c.index?Ee+=1:(i<Te&&Oe.index>c.index||Oe.position<c.position&&Oe.index===c.index)&&(Ee-=1);var Be=Ee*ne,Fe=Oe.index+Be;if(Math.abs(Fe-c.index)<=g){var Ne=De[Oe.index];return new AnchorPoint({index:Ne.index,position:Ne.position+Ee*m.rangeDiff,panel:Ne.panel})}if(f.circularEnabled){var Ve=De[circulateIndex(c.index+Math.sign(i-Te)*g,ne)],Ue=Math.floor(g/ne);return i>Te&&Ve.index<c.index?Ue+=1:i<Te&&Ve.index>c.index&&(Ue-=1),new AnchorPoint({index:Ve.index,position:Ve.position+Ue*m.rangeDiff,panel:Ve.panel})}else return De[clamp(c.index+Math.sign(i-Te)*g,0,De.length-1)]},e._findAdjacentAnchor=function(i,c,f){var m,g=getFlickingAttached(this._flicking),Te=g.camera;if(Te.circularEnabled){var Ie=Te.findAnchorIncludePosition(i);if(Ie&&Ie.position!==f.position)return Ie}var Oe=(m=c>0?Te.getNextAnchor(f):Te.getPrevAnchor(f))!==null&&m!==void 0?m:f;return Oe},e._calcSnapThreshold=function(i,c,f){var m=c>f.position,g=f.panel,Te=g.size,Ie=g.alignPosition;return Math.max(i,m?Te-Ie+g.margin.next:Ie+g.margin.prev)},o}(Control),FreeControl=function(h){__extends(o,h);function o(i){var c=(i===void 0?{}:i).stopAtEdge,f=c===void 0?!0:c,m=h.call(this)||this;return m._stopAtEdge=f,m}var e=o.prototype;return Object.defineProperty(e,"stopAtEdge",{get:function(){return this._stopAtEdge},set:function(i){this._stopAtEdge=i},enumerable:!1,configurable:!0}),e.updatePosition=function(i){var c=getFlickingAttached(this._flicking),f=c.camera,m=this._activePanel;if(m){var g=m.range,Te=g.min+(g.max-g.min)*i;f.lookAt(f.clampToReachablePosition(Te))}},e.moveToPosition=function(i,c,f){var m=getFlickingAttached(this._flicking),g=m.camera,Te=g.clampToReachablePosition(i),Ie=g.findAnchorIncludePosition(Te);if(!Ie)return Promise.reject(new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(i),CODE.POSITION_NOT_REACHABLE));var Oe=Ie.panel;return Oe!==this._activePanel&&this._triggerIndexChangeEvent(Oe,i,f),this._animateToPosition({position:this._stopAtEdge?Te:i,duration:c,newActivePanel:Oe,axesEvent:f})},o}(Control),StrictControl=function(h){__extends(o,h);function o(i){var c=(i===void 0?{}:i).count,f=c===void 0?1:c,m=h.call(this)||this;return m.setActive=function(g,Te,Ie){h.prototype.setActive.call(m,g,Te,Ie),m.updateInput()},m._count=f,m._resetIndexRange(),m}var e=o.prototype;return Object.defineProperty(e,"count",{get:function(){return this._count},set:function(i){this._count=i},enumerable:!1,configurable:!0}),e.destroy=function(){h.prototype.destroy.call(this),this._resetIndexRange()},e.updateInput=function(){var i,c=getFlickingAttached(this._flicking),f=c.camera,m=c.renderer,g=this._controller,Te=f.controlParams,Ie=this._count,Oe=g.state.animating?(i=f.findNearestAnchor(f.position))===null||i===void 0?void 0:i.panel:this._activePanel;if(!Oe)return g.update(Te),this._resetIndexRange(),this;var ne=Te.range,De=Oe.position,Ee=Oe.index,Be=m.panelCount,Fe=Ee-Ie,Ne=Ee+Ie;Fe<0&&(Fe=c.circularEnabled?getMinusCompensatedIndex((Fe+1)%Be-1,Be):clamp(Fe,0,Be-1)),Ne>=Be&&(Ne=c.circularEnabled?Ne%Be:clamp(Ne,0,Be-1));var Ve=m.panels[Fe],Ue=m.panels[Ne],We=Math.max(Ve.position,ne.min),He=Math.min(Ue.position,ne.max);return We>De&&(We-=f.rangeDiff),He<De&&(He+=f.rangeDiff),Te.range={min:We,max:He},Te.circular&&(Te.position<We&&(Te.position+=f.rangeDiff),Te.position>He&&(Te.position-=f.rangeDiff)),Te.circular=!1,g.update(Te),this._indexRange={min:Ve.index,max:Ue.index},this},e.moveToPanel=function(i,c){return __awaiter(this,void 0,void 0,function(){var f,m,g;return __generator(this,function(Te){return f=getFlickingAttached(this._flicking),m=f.camera,g=this._controller,g.update(m.controlParams),[2,h.prototype.moveToPanel.call(this,i,c)]})})},e.moveToPosition=function(i,c,f){var m,g=getFlickingAttached(this._flicking),Te=g.camera,Ie=(m=this._nextPanel)!==null&&m!==void 0?m:this._activePanel,Oe=this._controller.range,ne=this._indexRange,De=Te.range,Ee=this._controller.state,Be=clamp(Te.clampToReachablePosition(i),Oe[0],Oe[1]),Fe=Te.findAnchorIncludePosition(Be);if(!Fe||!Ie)return Promise.reject(new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(i),CODE.POSITION_NOT_REACHABLE));var Ne=Ie.position,Ve=g.animating?Ee.delta:i-Te.position,Ue=Math.abs(Ve)>=g.threshold,We=i>Ne?Te.getNextAnchor(Fe):Te.getPrevAnchor(Fe),He,Xe,ot=Te.anchorPoints,tt=ot[0],gt=ot[ot.length-1],vt=i<=De.min&&isBetween(tt.panel.index,ne.min,ne.max),rt=i>=De.max&&isBetween(gt.panel.index,ne.min,ne.max),ht=We&&(ne.min<=ne.max?isBetween(We.index,ne.min,ne.max):We.index>=ne.min||We.index<=ne.max);if(vt||rt){var it=i<De.min?tt:gt;Xe=it.panel,He=it.position}else if(Ue&&Fe.position!==Ie.position)Xe=Fe.panel,He=Fe.position;else if(Ue&&ht)Xe=We.panel,He=We.position;else{var mt=Te.findNearestAnchor(Te.position);return mt?this.moveToPanel(mt.panel,{duration:c,axesEvent:f}):Promise.reject(new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(i),CODE.POSITION_NOT_REACHABLE))}return this._triggerIndexChangeEvent(Xe,i,f),this._animateToPosition({position:He,duration:c,newActivePanel:Xe,axesEvent:f})},e._resetIndexRange=function(){this._indexRange={min:0,max:0}},o}(Control),CameraMode=function(){function h(e){this._flicking=e}var o=h.prototype;return o.getAnchors=function(){var e=this._flicking.renderer.panels;return e.map(function(i,c){return new AnchorPoint({index:c,position:i.position,panel:i})})},o.findAnchorIncludePosition=function(e){var i=this._flicking.camera.anchorPoints,c=i.filter(function(f){return f.panel.includePosition(e,!0)});return c.reduce(function(f,m){return f&&Math.abs(f.position-e)<Math.abs(m.position-e)?f:m},null)},o.findNearestAnchor=function(e){var i=this._flicking.camera.anchorPoints;if(i.length<=0)return null;for(var c=1/0,f=0;f<i.length;f++){var m=i[f],g=Math.abs(m.position-e);if(g>c)return i[f-1];c=g}return i[i.length-1]},o.clampToReachablePosition=function(e){var i=this._flicking.camera,c=i.range;return clamp(e,c.min,c.max)},o.getCircularOffset=function(){return 0},o.canReach=function(e){var i=this._flicking.camera,c=i.range;if(e.removed)return!1;var f=e.position;return f>=c.min&&f<=c.max},o.canSee=function(e){var i=this._flicking.camera,c=i.visibleRange;return e.isVisibleOnRange(c.min,c.max)},h}(),LinearCameraMode=function(h){__extends(o,h);function o(){return h!==null&&h.apply(this,arguments)||this}var e=o.prototype;return e.checkAvailability=function(){return!0},e.getRange=function(){var i,c,f=this._flicking.renderer,m=f.getPanel(0),g=f.getPanel(f.panelCount-1);return{min:(i=m==null?void 0:m.position)!==null&&i!==void 0?i:0,max:(c=g==null?void 0:g.position)!==null&&c!==void 0?c:0}},o}(CameraMode),CircularCameraMode=function(h){__extends(o,h);function o(){return h!==null&&h.apply(this,arguments)||this}var e=o.prototype;return e.checkAvailability=function(){var i=this._flicking,c=i.renderer,f=c.panels;if(f.length<=0)return!1;var m=f[0],g=f[f.length-1],Te=m.range.min-m.margin.prev,Ie=g.range.max+g.margin.next,Oe=i.camera.size,ne=Ie-Te,De=f.every(function(Ee){return ne-Ee.size>=Oe});return De},e.getRange=function(){var i=this._flicking,c=i.renderer.panels;if(c.length<=0)return{min:0,max:0};var f=c[0],m=c[c.length-1],g=f.range.min-f.margin.prev,Te=m.range.max+m.margin.next;return{min:g,max:Te}},e.getAnchors=function(){var i=this._flicking,c=i.renderer.panels;return c.map(function(f,m){return new AnchorPoint({index:m,position:f.position,panel:f})})},e.findNearestAnchor=function(i){var c=this._flicking.camera,f=c.anchorPoints;if(f.length<=0)return null;for(var m=c.range,g=1/0,Te=-1,Ie=0;Ie<f.length;Ie++){var Oe=f[Ie],ne=Math.min(Math.abs(Oe.position-i),Math.abs(Oe.position-m.min+m.max-i),Math.abs(i-m.min+m.max-Oe.position));ne<g&&(g=ne,Te=Ie)}return f[Te]},e.findAnchorIncludePosition=function(i){var c=this._flicking.camera,f=c.range,m=c.anchorPoints,g=c.rangeDiff,Te=m.length,Ie=circulatePosition(i,f.min,f.max),Oe=h.prototype.findAnchorIncludePosition.call(this,Ie);if(Te>0&&(i===f.min||i===f.max)){var ne=[Oe,new AnchorPoint({index:0,position:m[0].position+g,panel:m[0].panel}),new AnchorPoint({index:Te-1,position:m[Te-1].position-g,panel:m[Te-1].panel})].filter(function(Ee){return!!Ee});Oe=ne.reduce(function(Ee,Be){return Ee&&Math.abs(Ee.position-i)<Math.abs(Be.position-i)?Ee:Be},null)}if(!Oe)return null;if(i<f.min){var De=-Math.floor((f.min-i)/g)-1;return new AnchorPoint({index:Oe.index,position:Oe.position+g*De,panel:Oe.panel})}else if(i>f.max){var De=Math.floor((i-f.max)/g)+1;return new AnchorPoint({index:Oe.index,position:Oe.position+g*De,panel:Oe.panel})}return Oe},e.getCircularOffset=function(){var i=this._flicking,c=i.camera;if(!c.circularEnabled)return 0;var f=i.panels.filter(function(Te){return Te.toggled}),m=f.filter(function(Te){return Te.toggleDirection===DIRECTION.PREV}),g=f.filter(function(Te){return Te.toggleDirection===DIRECTION.NEXT});return this._calcPanelAreaSum(m)-this._calcPanelAreaSum(g)},e.clampToReachablePosition=function(i){return i},e.canReach=function(i){return!i.removed},e.canSee=function(i){var c=this._flicking.camera,f=c.range,m=c.rangeDiff,g=c.visibleRange,Te=h.prototype.canSee.call(this,i);return g.min<f.min?Te||i.isVisibleOnRange(g.min+m,g.max+m):g.max>f.max?Te||i.isVisibleOnRange(g.min-m,g.max-m):Te},e._calcPanelAreaSum=function(i){return i.reduce(function(c,f){return c+f.sizeIncludingMargin},0)},o}(CameraMode),BoundCameraMode=function(h){__extends(o,h);function o(){return h!==null&&h.apply(this,arguments)||this}var e=o.prototype;return e.checkAvailability=function(){var i=this._flicking,c=i.renderer,f=c.getPanel(0),m=c.getPanel(c.panelCount-1);if(!f||!m)return!1;var g=i.camera.size,Te=f.range.min,Ie=m.range.max,Oe=Ie-Te,ne=g<Oe;return ne},e.getRange=function(){var i=this._flicking,c=i.renderer,f=i.camera.alignPosition,m=c.getPanel(0),g=c.getPanel(c.panelCount-1);if(!m||!g)return{min:0,max:0};var Te=i.camera.size,Ie=m.range.min,Oe=g.range.max,ne=Oe-Ie,De=Te<ne,Ee=Ie+f,Be=Oe-Te+f;if(De)return{min:Ee,max:Be};var Fe=i.camera.align,Ne=typeof Fe=="object"?Fe.camera:Fe,Ve=Ee+parseAlign$1(Ne,Be-Ee);return{min:Ve,max:Ve}},e.getAnchors=function(){var i=this._flicking,c=i.camera,f=i.renderer.panels;if(f.length<=0)return[];var m=i.camera.range,g=f.filter(function(Fe){return c.canReach(Fe)});if(g.length>0){var Te=g[0].position!==m.min,Ie=g[g.length-1].position!==m.max,Oe=Te?1:0,ne=g.map(function(Fe,Ne){return new AnchorPoint({index:Ne+Oe,position:Fe.position,panel:Fe})});return Te&&ne.splice(0,0,new AnchorPoint({index:0,position:m.min,panel:f[g[0].index-1]})),Ie&&ne.push(new AnchorPoint({index:ne.length,position:m.max,panel:f[g[g.length-1].index+1]})),ne}else if(m.min!==m.max){var De=this._findNearestPanel(m.min,f),Ee=De.index===f.length-1?De.prev():De,Be=Ee.next();return[new AnchorPoint({index:0,position:m.min,panel:Ee}),new AnchorPoint({index:1,position:m.max,panel:Be})]}else return[new AnchorPoint({index:0,position:m.min,panel:this._findNearestPanel(m.min,f)})]},e.findAnchorIncludePosition=function(i){var c=this._flicking.camera,f=c.range,m=c.anchorPoints;return m.length<=0?null:i<=f.min?m[0]:i>=f.max?m[m.length-1]:h.prototype.findAnchorIncludePosition.call(this,i)},e._findNearestPanel=function(i,c){for(var f=1/0,m=0;m<c.length;m++){var g=c[m],Te=Math.abs(g.position-i);if(Te>f)return c[m-1];f=Te}return c[c.length-1]},o}(CameraMode),Camera=function(){function h(e,i){var c=this,f=(i===void 0?{}:i).align,m=f===void 0?ALIGN.CENTER:f;this._checkTranslateSupport=function(){var g,Te,Ie=["webkitTransform","msTransform","MozTransform","OTransform","transform"],Oe=document.documentElement.style,ne="";try{for(var De=__values(Ie),Ee=De.next();!Ee.done;Ee=De.next()){var Be=Ee.value;Be in Oe&&(ne=Be)}}catch(Fe){g={error:Fe}}finally{try{Ee&&!Ee.done&&(Te=De.return)&&Te.call(De)}finally{if(g)throw g.error}}if(!ne)throw new FlickingError(MESSAGE.TRANSFORM_NOT_SUPPORTED,CODE.TRANSFORM_NOT_SUPPORTED);c._transform=ne},this._flicking=e,this._resetInternalValues(),this._align=m}var o=h.prototype;return Object.defineProperty(o,"element",{get:function(){return this._el},enumerable:!1,configurable:!0}),Object.defineProperty(o,"children",{get:function(){return toArray(this._el.children)},enumerable:!1,configurable:!0}),Object.defineProperty(o,"position",{get:function(){return this._position},enumerable:!1,configurable:!0}),Object.defineProperty(o,"alignPosition",{get:function(){return this._alignPos},enumerable:!1,configurable:!0}),Object.defineProperty(o,"offset",{get:function(){return this._offset-this._circularOffset},enumerable:!1,configurable:!0}),Object.defineProperty(o,"circularEnabled",{get:function(){return this._circularEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(o,"mode",{get:function(){return this._mode},enumerable:!1,configurable:!0}),Object.defineProperty(o,"range",{get:function(){return this._range},enumerable:!1,configurable:!0}),Object.defineProperty(o,"rangeDiff",{get:function(){return this._range.max-this._range.min},enumerable:!1,configurable:!0}),Object.defineProperty(o,"visiblePanels",{get:function(){return this._visiblePanels},enumerable:!1,configurable:!0}),Object.defineProperty(o,"visibleRange",{get:function(){return{min:this._position-this._alignPos,max:this._position-this._alignPos+this.size}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"anchorPoints",{get:function(){return this._anchors},enumerable:!1,configurable:!0}),Object.defineProperty(o,"controlParams",{get:function(){return{range:this._range,position:this._position,circular:this._circularEnabled}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"atEdge",{get:function(){return this._position<=this._range.min||this._position>=this._range.max},enumerable:!1,configurable:!0}),Object.defineProperty(o,"size",{get:function(){var e=this._flicking;return e?e.horizontal?e.viewport.width:e.viewport.height:0},enumerable:!1,configurable:!0}),Object.defineProperty(o,"progress",{get:function(){var e=this._flicking,i=this._position+this._offset,c=this.findNearestAnchor(this._position);if(!e||!c)return NaN;var f=c.panel,m=f.position+f.offset,g=e.control.controller.bounce,Te=this.range,Ie=Te.min,Oe=Te.max,ne=this.rangeDiff;if(i===m)return f.index;if(i<m){var De=f.prev(),Ee=De?De.position+De.offset:Ie-g[0];return Ee>m&&(Ee-=ne),f.index-1+getProgress(i,Ee,m)}else{var Be=f.next(),Fe=Be?Be.position+Be.offset:Oe+g[1];return Fe<m&&(Fe+=ne),f.index+getProgress(i,m,Fe)}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"panelOrder",{get:function(){return this._panelOrder},enumerable:!1,configurable:!0}),Object.defineProperty(o,"align",{get:function(){return this._align},set:function(e){this._align=e},enumerable:!1,configurable:!0}),o.init=function(){var e=this._flicking.viewport.element;return checkExistence(e.firstElementChild,"First element child of the viewport element"),this._el=e.firstElementChild,this._checkTranslateSupport(),this._updateMode(),this.updatePanelOrder(),this},o.destroy=function(){return this._resetInternalValues(),this},o.lookAt=function(e){var i=this,c=getFlickingAttached(this._flicking),f=this._position;this._position=e;var m=this._togglePanels(f,e);this._refreshVisiblePanels(),this._checkNeedPanel(),this._checkReachEnd(f,e),m?c.renderer.render().then(function(){i.updateOffset()}):this.applyTransform()},o.getPrevAnchor=function(e){if(!this._circularEnabled||e.index!==0)return this._anchors[e.index-1]||null;var i=this._anchors,c=this.rangeDiff,f=i[i.length-1];return new AnchorPoint({index:f.index,position:f.position-c,panel:f.panel})},o.getNextAnchor=function(e){var i=this._anchors;if(!this._circularEnabled||e.index!==i.length-1)return i[e.index+1]||null;var c=this.rangeDiff,f=i[0];return new AnchorPoint({index:f.index,position:f.position+c,panel:f.panel})},o.getProgressInPanel=function(e){var i=e.range;return(this._position-i.min)/(i.max-i.min)},o.findAnchorIncludePosition=function(e){return this._mode.findAnchorIncludePosition(e)},o.findNearestAnchor=function(e){return this._mode.findNearestAnchor(e)},o.findActiveAnchor=function(){var e,i=getFlickingAttached(this._flicking),c=i.control.activePanel;return c?(e=find(this._anchors,function(f){return f.panel.index===c.index}))!==null&&e!==void 0?e:this.findNearestAnchor(c.position):null},o.clampToReachablePosition=function(e){return this._mode.clampToReachablePosition(e)},o.canReach=function(e){return this._mode.canReach(e)},o.canSee=function(e){return this._mode.canSee(e)},o.updateRange=function(){var e=getFlickingAttached(this._flicking),i=e.renderer,c=i.panels;return this._updateMode(),this._range=this._mode.getRange(),c.forEach(function(f){return f.updateCircularToggleDirection()}),this},o.updateAlignPos=function(){var e=this._align,i=typeof e=="object"?e.camera:e;return this._alignPos=parseAlign$1(i,this.size),this},o.updateAnchors=function(){return this._anchors=this._mode.getAnchors(),this},o.updateAdaptiveHeight=function(){var e=getFlickingAttached(this._flicking),i=e.control.activePanel;!e.horizontal||!e.adaptive||!i||e.viewport.setSize({height:i.height})},o.updateOffset=function(){var e=getFlickingAttached(this._flicking),i=this._position,c=e.panels.filter(function(f){return!f.rendered});return this._offset=c.filter(function(f){return f.position+f.offset<i}).reduce(function(f,m){return f+m.sizeIncludingMargin},0),this._circularOffset=this._mode.getCircularOffset(),this.applyTransform(),this},o.updatePanelOrder=function(){var e=getFlickingAttached(this._flicking);if(!e.horizontal)return this;var i=this._el,c=getStyle(i).direction;return c!==this._panelOrder&&(this._panelOrder=c===ORDER.RTL?ORDER.RTL:ORDER.LTR,e.initialized&&e.control.controller.updateDirection()),this},o.resetNeedPanelHistory=function(){return this._needPanelTriggered={prev:!1,next:!1},this},o.applyTransform=function(){var e=this._el,i=getFlickingAttached(this._flicking),c=i.renderer;if(c.rendering||!i.initialized)return this;var f=this._position-this._alignPos-this._offset+this._circularOffset;return e.style[this._transform]=i.horizontal?"translate("+(this._panelOrder===ORDER.RTL?f:-f)+"px)":"translate(0, "+-f+"px)",this},o._resetInternalValues=function(){this._position=0,this._alignPos=0,this._offset=0,this._circularOffset=0,this._circularEnabled=!1,this._range={min:0,max:0},this._visiblePanels=[],this._anchors=[],this._needPanelTriggered={prev:!1,next:!1}},o._refreshVisiblePanels=function(){var e=this,i=getFlickingAttached(this._flicking),c=i.renderer.panels,f=c.filter(function(Ie){return e.canSee(Ie)}),m=this._visiblePanels;this._visiblePanels=f;var g=f.filter(function(Ie){return!includes(m,Ie)}),Te=m.filter(function(Ie){return!includes(f,Ie)});(g.length>0||Te.length>0)&&i.renderer.render().then(function(){i.trigger(new ComponentEvent$1(EVENTS.VISIBLE_CHANGE,{added:g,removed:Te,visiblePanels:f}))})},o._checkNeedPanel=function(){var e=this._needPanelTriggered;if(!(e.prev&&e.next)){var i=getFlickingAttached(this._flicking),c=i.renderer.panels;if(c.length<=0){e.prev||(i.trigger(new ComponentEvent$1(EVENTS.NEED_PANEL,{direction:DIRECTION.PREV})),e.prev=!0),e.next||(i.trigger(new ComponentEvent$1(EVENTS.NEED_PANEL,{direction:DIRECTION.NEXT})),e.next=!0);return}var f=this._position,m=this.size,g=this._range,Te=i.needPanelThreshold,Ie=f-this._alignPos,Oe=Ie+m,ne=c[0],De=c[c.length-1];if(!e.prev){var Ee=ne.range.min;(Ie<=Ee+Te||f<=g.min+Te)&&(i.trigger(new ComponentEvent$1(EVENTS.NEED_PANEL,{direction:DIRECTION.PREV})),e.prev=!0)}if(!e.next){var Be=De.range.max;(Oe>=Be-Te||f>=g.max-Te)&&(i.trigger(new ComponentEvent$1(EVENTS.NEED_PANEL,{direction:DIRECTION.NEXT})),e.next=!0)}}},o._checkReachEnd=function(e,i){var c=getFlickingAttached(this._flicking),f=this._range,m=e>f.min&&e<f.max,g=i>f.min&&i<f.max;if(!(!m||g)){var Te=i<=f.min?DIRECTION.PREV:DIRECTION.NEXT;c.trigger(new ComponentEvent$1(EVENTS.REACH_EDGE,{direction:Te}))}},o._updateMode=function(){var e=getFlickingAttached(this._flicking);if(e.circular){var i=new CircularCameraMode(e),c=i.checkAvailability();if(c)this._mode=i;else{var f=e.circularFallback;this._mode=f===CIRCULAR_FALLBACK.BOUND?new BoundCameraMode(e):new LinearCameraMode(e)}this._circularEnabled=c}else this._mode=e.bound?new BoundCameraMode(e):new LinearCameraMode(e),this._circularEnabled=!1},o._togglePanels=function(e,i){if(i===e)return!1;var c=getFlickingAttached(this._flicking),f=c.renderer.panels,m=f.map(function(g){return g.toggle(e,i)});return m.some(function(g){return g})},h}(),Renderer=function(){function h(e){var i=e.align,c=i===void 0?ALIGN.CENTER:i,f=e.strategy;this._flicking=null,this._panels=[],this._rendering=!1,this._align=c,this._strategy=f}var o=h.prototype;return Object.defineProperty(o,"panels",{get:function(){return this._panels},enumerable:!1,configurable:!0}),Object.defineProperty(o,"rendering",{get:function(){return this._rendering},enumerable:!1,configurable:!0}),Object.defineProperty(o,"panelCount",{get:function(){return this._panels.length},enumerable:!1,configurable:!0}),Object.defineProperty(o,"strategy",{get:function(){return this._strategy},enumerable:!1,configurable:!0}),Object.defineProperty(o,"align",{get:function(){return this._align},set:function(e){this._align=e;var i=parsePanelAlign(e);this._panels.forEach(function(c){c.align=i})},enumerable:!1,configurable:!0}),o.init=function(e){return this._flicking=e,this._collectPanels(),this},o.destroy=function(){this._flicking=null,this._panels=[]},o.getPanel=function(e){return this._panels[e]||null},o.forceRenderAllPanels=function(){return this._panels.forEach(function(e){return e.markForShow()}),Promise.resolve()},o.updatePanelSize=function(){var e=getFlickingAttached(this._flicking),i=this._panels;if(i.length<=0)return this;if(e.panelsPerView>0){var c=i[0];c.resize(),this._updatePanelSizeByGrid(c,i)}else e.panels.forEach(function(f){return f.resize()});return this},o.batchInsert=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var c=this.batchInsertDefer.apply(this,__spread(e));return c.length<=0?[]:(this.updateAfterPanelChange(c,[]),c)},o.batchInsertDefer=function(){for(var e=this,i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];var f=this._panels,m=getFlickingAttached(this._flicking),g=f[0],Te=parsePanelAlign(this._align),Ie=i.reduce(function(Oe,ne){var De,Ee=getMinusCompensatedIndex(ne.index,f.length),Be=f.slice(Ee),Fe=ne.elements.map(function(Ve,Ue){return e._createPanel(Ve,{index:Ee+Ue,align:Te,flicking:m})});if(f.splice.apply(f,__spread([Ee,0],Fe)),ne.hasDOMInElements&&e._insertPanelElements(Fe,(De=Be[0])!==null&&De!==void 0?De:null),m.panelsPerView>0){var Ne=g||Fe[0].resize();e._updatePanelSizeByGrid(Ne,Fe)}else Fe.forEach(function(Ve){return Ve.resize()});return Be.forEach(function(Ve){Ve.increaseIndex(Fe.length),Ve.updatePosition()}),__spread(Oe,Fe)},[]);return Ie},o.batchRemove=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var c=this.batchRemoveDefer.apply(this,__spread(e));return c.length<=0?[]:(this.updateAfterPanelChange([],c),c)},o.batchRemoveDefer=function(){for(var e=this,i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];var f=this._panels,m=getFlickingAttached(this._flicking),g=m.control,Te=g.activePanel,Ie=i.reduce(function(Oe,ne){var De=ne.index,Ee=ne.deleteCount,Be=getMinusCompensatedIndex(De,f.length),Fe=f.slice(Be+Ee),Ne=f.splice(Be,Ee);return Ne.length<=0?[]:(Fe.forEach(function(Ve){Ve.decreaseIndex(Ne.length),Ve.updatePosition()}),ne.hasDOMInElements&&e._removePanelElements(Ne),Ne.forEach(function(Ve){return Ve.destroy()}),includes(Ne,Te)&&g.resetActive(),__spread(Oe,Ne))},[]);return Ie},o.updateAfterPanelChange=function(e,i){var c,f=getFlickingAttached(this._flicking),m=f.camera,g=f.control,Te=this._panels,Ie=g.activePanel;if(this._updateCameraAndControl(),this.render(),!f.animating)if(!Ie||Ie.removed)if(Te.length<=0)m.lookAt(0);else{var Oe=(c=Ie==null?void 0:Ie.index)!==null&&c!==void 0?c:0;Oe>Te.length-1&&(Oe=Te.length-1),g.moveToPanel(Te[Oe],{duration:0}).catch(function(){})}else g.moveToPanel(Ie,{duration:0}).catch(function(){});f.camera.updateOffset(),(e.length>0||i.length>0)&&(f.trigger(new ComponentEvent$1(EVENTS.PANEL_CHANGE,{added:e,removed:i})),this.checkPanelContentsReady(__spread(e,i)))},o.checkPanelContentsReady=function(e){var i=this,c=getFlickingAttached(this._flicking),f=c.resizeOnContentsReady,m=this._panels;if(!(!f||c.virtualEnabled)){var g=function(Ie){return Ie.element&&!!Ie.element.querySelector("img, video")};if(e=e.filter(function(Ie){return g(Ie)}),!(e.length<=0)){var Te=new ImReady$1;e.forEach(function(Ie){Ie.loading=!0}),Te.on("readyElement",function(Ie){if(!i._flicking){Te.destroy();return}var Oe=e[Ie.index],ne=c.camera,De=c.control,Ee=De.activePanel?ne.getProgressInPanel(De.activePanel):0;Oe.loading=!1,Oe.resize(),m.slice(Oe.index+1).forEach(function(Be){return Be.updatePosition()}),c.initialized&&(ne.updateRange(),ne.updateOffset(),ne.updateAnchors(),De.animating||(De.updatePosition(Ee),De.updateInput()))}),Te.on("preReady",function(Ie){i._flicking&&i.render(),Ie.readyCount===Ie.totalCount&&Te.destroy()}),Te.on("ready",function(){i._flicking&&i.render(),Te.destroy()}),Te.check(e.map(function(Ie){return Ie.element}))}}},o._updateCameraAndControl=function(){var e=getFlickingAttached(this._flicking),i=e.camera,c=e.control;i.updateRange(),i.updateOffset(),i.updateAnchors(),i.resetNeedPanelHistory(),c.updateInput()},o._showOnlyVisiblePanels=function(e){var i=e.renderer.panels,c=e.camera,f=c.visiblePanels.reduce(function(m,g){return m[g.index]=!0,m},{});i.forEach(function(m){m.index in f||m.loading?m.markForShow():e.holding||m.markForHide()})},o._updatePanelSizeByGrid=function(e,i){var c=getFlickingAttached(this._flicking),f=c.panelsPerView;if(f<=0)throw new FlickingError(MESSAGE.WRONG_OPTION("panelsPerView",f),CODE.WRONG_OPTION);if(!(i.length<=0)){var m=c.camera.size,g=e.margin.prev+e.margin.next,Te=(m-g*(f-1))/f,Ie=c.horizontal?{width:Te}:{height:Te},Oe=__assign({size:Te,margin:e.margin},!c.horizontal&&{height:e.height});c.noPanelStyleOverride||this._strategy.updatePanelSizes(c,Ie),c.panels.forEach(function(ne){return ne.resize(Oe)})}},o._removeAllChildsFromCamera=function(){for(var e=getFlickingAttached(this._flicking),i=e.camera.element;i.firstChild;)i.removeChild(i.firstChild)},o._insertPanelElements=function(e,i){i===void 0&&(i=null);var c=getFlickingAttached(this._flicking),f=c.camera,m=f.element,g=(i==null?void 0:i.element)||null,Te=document.createDocumentFragment();e.forEach(function(Ie){return Te.appendChild(Ie.element)}),m.insertBefore(Te,g)},o._removePanelElements=function(e){var i=getFlickingAttached(this._flicking),c=i.camera.element;e.forEach(function(f){c.removeChild(f.element)})},o._afterRender=function(){var e=getFlickingAttached(this._flicking);e.camera.applyTransform()},h}(),VanillaRenderer=function(h){__extends(o,h);function o(){return h!==null&&h.apply(this,arguments)||this}var e=o.prototype;return e.render=function(){return __awaiter(this,void 0,void 0,function(){var i,c;return __generator(this,function(f){return i=getFlickingAttached(this._flicking),c=this._strategy,c.updateRenderingPanels(i),c.renderPanels(i),this._resetPanelElementOrder(),this._afterRender(),[2]})})},e._collectPanels=function(){var i=getFlickingAttached(this._flicking),c=i.camera;this._removeAllTextNodes(),this._panels=this._strategy.collectPanels(i,c.children)},e._createPanel=function(i,c){return this._strategy.createPanel(i,c)},e._resetPanelElementOrder=function(){var i=getFlickingAttached(this._flicking),c=i.camera.element,f=this._strategy.getRenderingElementsByOrder(i).reverse();f.forEach(function(m,g){var Te=f[g-1]?f[g-1]:null;m.nextElementSibling!==Te&&c.insertBefore(m,Te)})},e._removeAllTextNodes=function(){var i=getFlickingAttached(this._flicking),c=i.camera.element;toArray(c.childNodes).forEach(function(f){f.nodeType===Node.TEXT_NODE&&c.removeChild(f)})},o}(Renderer),Panel=function(){function h(e){var i=e.index,c=e.align,f=e.flicking,m=e.elementProvider;this._index=i,this._flicking=f,this._elProvider=m,this._align=c,this._removed=!1,this._rendered=!0,this._loading=!1,this._resetInternalStates()}var o=h.prototype;return Object.defineProperty(o,"element",{get:function(){return this._elProvider.element},enumerable:!1,configurable:!0}),Object.defineProperty(o,"elementProvider",{get:function(){return this._elProvider},enumerable:!1,configurable:!0}),Object.defineProperty(o,"index",{get:function(){return this._index},enumerable:!1,configurable:!0}),Object.defineProperty(o,"position",{get:function(){return this._pos+this._alignPos},enumerable:!1,configurable:!0}),Object.defineProperty(o,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),Object.defineProperty(o,"sizeIncludingMargin",{get:function(){return this._size+this._margin.prev+this._margin.next},enumerable:!1,configurable:!0}),Object.defineProperty(o,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),Object.defineProperty(o,"margin",{get:function(){return this._margin},enumerable:!1,configurable:!0}),Object.defineProperty(o,"alignPosition",{get:function(){return this._alignPos},enumerable:!1,configurable:!0}),Object.defineProperty(o,"removed",{get:function(){return this._removed},enumerable:!1,configurable:!0}),Object.defineProperty(o,"rendered",{get:function(){return this._rendered},enumerable:!1,configurable:!0}),Object.defineProperty(o,"loading",{get:function(){return this._loading},set:function(e){this._loading=e},enumerable:!1,configurable:!0}),Object.defineProperty(o,"range",{get:function(){return{min:this._pos,max:this._pos+this._size}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"toggled",{get:function(){return this._toggled},enumerable:!1,configurable:!0}),Object.defineProperty(o,"toggleDirection",{get:function(){return this._toggleDirection},enumerable:!1,configurable:!0}),Object.defineProperty(o,"offset",{get:function(){var e=this._toggleDirection,i=this._flicking.camera.rangeDiff;return e===DIRECTION.NONE||!this._toggled?0:e===DIRECTION.PREV?-i:i},enumerable:!1,configurable:!0}),Object.defineProperty(o,"progress",{get:function(){var e=this._flicking;return this.index-e.camera.progress},enumerable:!1,configurable:!0}),Object.defineProperty(o,"outsetProgress",{get:function(){var e=this.position+this.offset,i=this._alignPos,c=this._flicking.camera,f=c.position;if(f===e)return 0;if(f<e){var m=e+(c.size-c.alignPosition)+i;return-getProgress(f,e,m)}else{var g=e-(c.alignPosition+this._size-i);return 1-getProgress(f,g,e)}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"visibleRatio",{get:function(){var e=this.range,i=this._size,c=this.offset,f=this._flicking.camera.visibleRange,m={min:e.min+c,max:e.max+c};if(m.max<=f.min||m.min>=f.max)return 0;var g=i;return f.min>m.min&&(g-=f.min-m.min),f.max<m.max&&(g-=m.max-f.max),g/i},enumerable:!1,configurable:!0}),Object.defineProperty(o,"align",{get:function(){return this._align},set:function(e){this._align=e,this._updateAlignPos()},enumerable:!1,configurable:!0}),o.markForShow=function(){this._rendered=!0,this._elProvider.show(this._flicking)},o.markForHide=function(){this._rendered=!1,this._elProvider.hide(this._flicking)},o.resize=function(e){var i,c=this.element,f=this._flicking,m=f.horizontal,g=f.useFractionalSize;if(e)this._size=e.size,this._margin=__assign({},e.margin),this._height=(i=e.height)!==null&&i!==void 0?i:getElementSize({el:c,horizontal:!1,useFractionalSize:g,useOffset:!0,style:getStyle(c)});else{var Te=getStyle(c);this._size=getElementSize({el:c,horizontal:m,useFractionalSize:g,useOffset:!0,style:Te}),this._margin=m?{prev:parseFloat(Te.marginLeft||"0"),next:parseFloat(Te.marginRight||"0")}:{prev:parseFloat(Te.marginTop||"0"),next:parseFloat(Te.marginBottom||"0")},this._height=m?getElementSize({el:c,horizontal:!1,useFractionalSize:g,useOffset:!0,style:Te}):this._size}return this.updatePosition(),this._updateAlignPos(),this},o.setSize=function(e){return setSize(this.element,e),this},o.contains=function(e){var i;return!!(!((i=this.element)===null||i===void 0)&&i.contains(e))},o.destroy=function(){this._resetInternalStates(),this._removed=!0},o.includePosition=function(e,i){return i===void 0&&(i=!1),this.includeRange(e,e,i)},o.includeRange=function(e,i,c){c===void 0&&(c=!1);var f=this._margin,m=this.range;return c&&(m.min-=f.prev,m.max+=f.next),i>=m.min&&e<=m.max},o.isVisibleOnRange=function(e,i){var c=this.range;return i>c.min&&e<c.max},o.focus=function(e){return this._flicking.moveTo(this._index,e)},o.prev=function(){var e=this._index,i=this._flicking,c=i.renderer,f=c.panelCount;return f===1?null:i.circularEnabled?c.getPanel(e===0?f-1:e-1):c.getPanel(e-1)},o.next=function(){var e=this._index,i=this._flicking,c=i.renderer,f=c.panelCount;return f===1?null:i.circularEnabled?c.getPanel(e===f-1?0:e+1):c.getPanel(e+1)},o.increaseIndex=function(e){return this._index+=Math.max(e,0),this},o.decreaseIndex=function(e){return this._index-=Math.max(e,0),this},o.updatePosition=function(){var e=this._flicking.renderer.panels[this._index-1];return this._pos=e?e.range.max+e.margin.next+this._margin.prev:this._margin.prev,this},o.toggle=function(e,i){var c=this._toggleDirection,f=this._togglePosition;if(c===DIRECTION.NONE||i===e)return!1;var m=this._toggled;return i>e?f>=e&&f<=i&&(this._toggled=c===DIRECTION.NEXT):f<=e&&f>=i&&(this._toggled=c!==DIRECTION.NEXT),m!==this._toggled},o.updateCircularToggleDirection=function(){var e=this._flicking;if(!e.circularEnabled)return this._toggleDirection=DIRECTION.NONE,this._togglePosition=0,this._toggled=!1,this;var i=e.camera,c=i.range,f=i.alignPosition,m=i.visibleRange,g=m.max-m.min,Te=c.min-f,Ie=c.max-f+g,Oe=this.includeRange(Ie-g,Ie,!1),ne=this.includeRange(Te,Te+g,!1);return this._toggled=!1,Oe?(this._toggleDirection=DIRECTION.PREV,this._togglePosition=this.range.max+c.min-c.max+f,this.toggle(1/0,i.position)):ne?(this._toggleDirection=DIRECTION.NEXT,this._togglePosition=this.range.min+c.max-g+f,this.toggle(-1/0,i.position)):(this._toggleDirection=DIRECTION.NONE,this._togglePosition=0),this},o._updateAlignPos=function(){this._alignPos=parseAlign$1(this._align,this._size)},o._resetInternalStates=function(){this._size=0,this._pos=0,this._margin={prev:0,next:0},this._height=0,this._alignPos=0,this._toggled=!1,this._togglePosition=0,this._toggleDirection=DIRECTION.NONE},h}(),NormalRenderingStrategy=function(){function h(e){var i=e.providerCtor;this._providerCtor=i}var o=h.prototype;return o.renderPanels=function(){},o.getRenderingIndexesByOrder=function(e){var i=e.renderer.panels.filter(function(g){return g.rendered}),c=i.filter(function(g){return g.toggled&&g.toggleDirection===DIRECTION.PREV}),f=i.filter(function(g){return g.toggled&&g.toggleDirection===DIRECTION.NEXT}),m=i.filter(function(g){return!g.toggled});return __spread(c,m,f).map(function(g){return g.index})},o.getRenderingElementsByOrder=function(e){var i=e.panels;return this.getRenderingIndexesByOrder(e).map(function(c){return i[c].element})},o.updateRenderingPanels=function(e){e.renderOnlyVisible?this._showOnlyVisiblePanels(e):e.panels.forEach(function(i){return i.markForShow()})},o.collectPanels=function(e,i){var c=this,f=parsePanelAlign(e.renderer.align);return i.map(function(m,g){return new Panel({index:g,elementProvider:new c._providerCtor(m),align:f,flicking:e})})},o.createPanel=function(e,i){return new Panel(__assign(__assign({},i),{elementProvider:new this._providerCtor(e)}))},o.updatePanelSizes=function(e,i){e.panels.forEach(function(c){return c.setSize(i)})},o._showOnlyVisiblePanels=function(e){var i=e.renderer.panels,c=e.camera,f=c.visiblePanels.reduce(function(m,g){return m[g.index]=!0,m},{});i.forEach(function(m){m.index in f||m.loading?m.markForShow():e.holding||m.markForHide()}),c.updateOffset()},h}(),VirtualPanel=function(h){__extends(o,h);function o(i){var c=h.call(this,i)||this;return i.elementProvider.init(c),c._elProvider=i.elementProvider,c._cachedInnerHTML=null,c}var e=o.prototype;return Object.defineProperty(e,"element",{get:function(){return this._elProvider.element},enumerable:!1,configurable:!0}),Object.defineProperty(e,"cachedInnerHTML",{get:function(){return this._cachedInnerHTML},enumerable:!1,configurable:!0}),Object.defineProperty(e,"elementIndex",{get:function(){var i=this._flicking,c=i.panelsPerView+1,f=i.panelCount,m=this._index;return this._toggled&&(m=this._toggleDirection===DIRECTION.NEXT?m+f:m-f),circulateIndex(m,c)},enumerable:!1,configurable:!0}),e.cacheRenderResult=function(i){this._cachedInnerHTML=i},e.uncacheRenderResult=function(){this._cachedInnerHTML=null},e.render=function(){var i=this._flicking,c=i.virtual,f=c.renderPanel,m=c.cache,g=this._elProvider.element,Te=this._cachedInnerHTML||f(this,this._index);Te!==g.innerHTML&&(g.innerHTML=Te,m&&this.cacheRenderResult(Te))},e.increaseIndex=function(i){return this.uncacheRenderResult(),h.prototype.increaseIndex.call(this,i)},e.decreaseIndex=function(i){return this.uncacheRenderResult(),h.prototype.decreaseIndex.call(this,i)},o}(Panel),VirtualRenderingStrategy=function(){function h(){}var o=h.prototype;return o.renderPanels=function(e){var i=e.virtual,c=e.visiblePanels,f=range(e.panelsPerView+1);c.forEach(function(m){var g=m.elementIndex;m.render(),i.show(g),f[g]=-1}),f.filter(function(m){return m>=0}).forEach(function(m){i.hide(m)})},o.getRenderingIndexesByOrder=function(e){var i=e.virtual,c=__spread(e.visiblePanels).filter(function(g){return g.rendered}).sort(function(g,Te){return g.position+g.offset-(Te.position+Te.offset)});if(c.length<=0)return i.elements.map(function(g,Te){return Te});var f=c.map(function(g){return g.elementIndex}),m=i.elements.map(function(g,Te){return __assign(__assign({},g),{idx:Te})}).filter(function(g){return!g.visible}).map(function(g){return g.idx});return __spread(f,m)},o.getRenderingElementsByOrder=function(e){var i=e.virtual,c=i.elements;return this.getRenderingIndexesByOrder(e).map(function(f){return c[f].nativeElement})},o.updateRenderingPanels=function(e){var i=e.renderer.panels,c=e.camera,f=c.visiblePanels.reduce(function(m,g){return m[g.index]=!0,m},{});i.forEach(function(m){m.index in f||m.loading?m.markForShow():m.markForHide()}),c.updateOffset()},o.collectPanels=function(e){var i=parsePanelAlign(e.renderer.align);return range(e.virtual.initialPanelCount).map(function(c){return new VirtualPanel({index:c,elementProvider:new VirtualElementProvider(e),align:i,flicking:e})})},o.createPanel=function(e,i){return new VirtualPanel(__assign(__assign({},i),{elementProvider:new VirtualElementProvider(i.flicking)}))},o.updatePanelSizes=function(e,i){e.virtual.elements.forEach(function(c){setSize(c.nativeElement,i)}),e.panels.forEach(function(c){return c.setSize(i)})},h}(),Flicking=function(h){__extends(o,h);function o(i,c){var f=c===void 0?{}:c,m=f.align,g=m===void 0?ALIGN.CENTER:m,Te=f.defaultIndex,Ie=Te===void 0?0:Te,Oe=f.horizontal,ne=Oe===void 0?!0:Oe,De=f.circular,Ee=De===void 0?!1:De,Be=f.circularFallback,Fe=Be===void 0?CIRCULAR_FALLBACK.LINEAR:Be,Ne=f.bound,Ve=Ne===void 0?!1:Ne,Ue=f.adaptive,We=Ue===void 0?!1:Ue,He=f.panelsPerView,Xe=He===void 0?-1:He,ot=f.noPanelStyleOverride,tt=ot===void 0?!1:ot,gt=f.resizeOnContentsReady,vt=gt===void 0?!1:gt,rt=f.nested,ht=rt===void 0?!1:rt,it=f.needPanelThreshold,mt=it===void 0?0:it,Ze=f.preventEventsBeforeInit,Ft=Ze===void 0?!0:Ze,Zt=f.deceleration,jt=Zt===void 0?.0075:Zt,cr=f.duration,bt=cr===void 0?500:cr,St=f.easing,ct=St===void 0?function(Or){return 1-Math.pow(1-Or,3)}:St,dt=f.inputType,Pt=dt===void 0?["mouse","touch"]:dt,Ct=f.moveType,Kt=Ct===void 0?"snap":Ct,fr=f.threshold,Rr=fr===void 0?40:fr,sr=f.interruptable,lt=sr===void 0?!0:sr,yt=f.bounce,Xt=yt===void 0?"20%":yt,$t=f.iOSEdgeSwipeThreshold,dr=$t===void 0?30:$t,Je=f.preventClickOnDrag,At=Je===void 0?!0:Je,Wt=f.preventDefaultOnDrag,xt=Wt===void 0?!1:Wt,pt=f.disableOnInit,Dt=pt===void 0?!1:pt,er=f.changeOnHold,nt=er===void 0?!1:er,je=f.renderOnlyVisible,Ke=je===void 0?!1:je,ut=f.virtual,Et=ut===void 0?null:ut,It=f.autoInit,zt=It===void 0?!0:It,tr=f.autoResize,Sr=tr===void 0?!0:tr,Lr=f.useResizeObserver,Br=Lr===void 0?!0:Lr,Er=f.resizeDebounce,gr=Er===void 0?0:Er,Qr=f.maxResizeDebounce,Cr=Qr===void 0?100:Qr,on=f.useFractionalSize,Bn=on===void 0?!1:on,Un=f.externalRenderer,wr=Un===void 0?null:Un,Jt=f.renderExternal,yr=Jt===void 0?null:Jt,at=h.call(this)||this;return at._initialized=!1,at._plugins=[],at._align=g,at._defaultIndex=Ie,at._horizontal=ne,at._circular=Ee,at._circularFallback=Fe,at._bound=Ve,at._adaptive=We,at._panelsPerView=Xe,at._noPanelStyleOverride=tt,at._resizeOnContentsReady=vt,at._nested=ht,at._virtual=Et,at._needPanelThreshold=mt,at._preventEventsBeforeInit=Ft,at._deceleration=jt,at._duration=bt,at._easing=ct,at._inputType=Pt,at._moveType=Kt,at._threshold=Rr,at._interruptable=lt,at._bounce=Xt,at._iOSEdgeSwipeThreshold=dr,at._preventClickOnDrag=At,at._preventDefaultOnDrag=xt,at._disableOnInit=Dt,at._changeOnHold=nt,at._renderOnlyVisible=Ke,at._autoInit=zt,at._autoResize=Sr,at._useResizeObserver=Br,at._resizeDebounce=gr,at._maxResizeDebounce=Cr,at._useFractionalSize=Bn,at._externalRenderer=wr,at._renderExternal=yr,at._viewport=new Viewport(at,getElement(i)),at._autoResizer=new AutoResizer(at),at._renderer=at._createRenderer(),at._camera=at._createCamera(),at._control=at._createControl(),at._virtualManager=new VirtualManager(at,Et),at._autoInit&&at.init(),at}var e=o.prototype;return Object.defineProperty(e,"control",{get:function(){return this._control},enumerable:!1,configurable:!0}),Object.defineProperty(e,"camera",{get:function(){return this._camera},enumerable:!1,configurable:!0}),Object.defineProperty(e,"renderer",{get:function(){return this._renderer},enumerable:!1,configurable:!0}),Object.defineProperty(e,"viewport",{get:function(){return this._viewport},enumerable:!1,configurable:!0}),Object.defineProperty(e,"initialized",{get:function(){return this._initialized},enumerable:!1,configurable:!0}),Object.defineProperty(e,"circularEnabled",{get:function(){return this._camera.circularEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(e,"virtualEnabled",{get:function(){return this._panelsPerView>0&&this._virtual!=null},enumerable:!1,configurable:!0}),Object.defineProperty(e,"index",{get:function(){return this._control.activeIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e,"element",{get:function(){return this._viewport.element},enumerable:!1,configurable:!0}),Object.defineProperty(e,"currentPanel",{get:function(){return this._control.activePanel},enumerable:!1,configurable:!0}),Object.defineProperty(e,"panels",{get:function(){return this._renderer.panels},enumerable:!1,configurable:!0}),Object.defineProperty(e,"panelCount",{get:function(){return this._renderer.panelCount},enumerable:!1,configurable:!0}),Object.defineProperty(e,"visiblePanels",{get:function(){return this._camera.visiblePanels},enumerable:!1,configurable:!0}),Object.defineProperty(e,"animating",{get:function(){return this._control.animating},enumerable:!1,configurable:!0}),Object.defineProperty(e,"holding",{get:function(){return this._control.holding},enumerable:!1,configurable:!0}),Object.defineProperty(e,"activePlugins",{get:function(){return this._plugins},enumerable:!1,configurable:!0}),Object.defineProperty(e,"align",{get:function(){return this._align},set:function(i){this._align=i,this._renderer.align=i,this._camera.align=i,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultIndex",{get:function(){return this._defaultIndex},set:function(i){this._defaultIndex=i},enumerable:!1,configurable:!0}),Object.defineProperty(e,"horizontal",{get:function(){return this._horizontal},set:function(i){this._horizontal=i,this._control.controller.updateDirection(),this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"circular",{get:function(){return this._circular},set:function(i){this._circular=i,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"circularFallback",{get:function(){return this._circularFallback},enumerable:!1,configurable:!0}),Object.defineProperty(e,"bound",{get:function(){return this._bound},set:function(i){this._bound=i,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"adaptive",{get:function(){return this._adaptive},set:function(i){this._adaptive=i,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"panelsPerView",{get:function(){return this._panelsPerView},set:function(i){this._panelsPerView=i,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"noPanelStyleOverride",{get:function(){return this._noPanelStyleOverride},set:function(i){this._noPanelStyleOverride=i,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"resizeOnContentsReady",{get:function(){return this._resizeOnContentsReady},set:function(i){this._resizeOnContentsReady=i,i&&this._renderer.checkPanelContentsReady(this._renderer.panels)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"nested",{get:function(){return this._nested},set:function(i){this._nested=i;var c=this._control.controller.axes;c&&(c.options.nested=i)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"needPanelThreshold",{get:function(){return this._needPanelThreshold},set:function(i){this._needPanelThreshold=i},enumerable:!1,configurable:!0}),Object.defineProperty(e,"preventEventsBeforeInit",{get:function(){return this._preventEventsBeforeInit},set:function(i){this._preventEventsBeforeInit=i},enumerable:!1,configurable:!0}),Object.defineProperty(e,"deceleration",{get:function(){return this._deceleration},set:function(i){this._deceleration=i;var c=this._control.controller.axes;c&&(c.options.deceleration=i)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"easing",{get:function(){return this._easing},set:function(i){this._easing=i;var c=this._control.controller.axes;c&&(c.options.easing=i)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"duration",{get:function(){return this._duration},set:function(i){this._duration=i},enumerable:!1,configurable:!0}),Object.defineProperty(e,"inputType",{get:function(){return this._inputType},set:function(i){this._inputType=i;var c=this._control.controller.panInput;c&&(c.options.inputType=i)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"moveType",{get:function(){return this._moveType},set:function(i){this._moveType=i;var c=this._control,f=this._createControl(),m=c.activePanel;f.copy(c);var g=m?this._camera.getProgressInPanel(m):0;this._control=f,this._control.updatePosition(g),this._control.updateInput()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"threshold",{get:function(){return this._threshold},set:function(i){this._threshold=i},enumerable:!1,configurable:!0}),Object.defineProperty(e,"interruptable",{get:function(){return this._interruptable},set:function(i){this._interruptable=i;var c=this._control.controller.axes;c&&(c.options.interruptable=i)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"bounce",{get:function(){return this._bounce},set:function(i){this._bounce=i,this._control.updateInput()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"iOSEdgeSwipeThreshold",{get:function(){return this._iOSEdgeSwipeThreshold},set:function(i){this._iOSEdgeSwipeThreshold=i;var c=this._control.controller.panInput;c&&(c.options.iOSEdgeSwipeThreshold=i)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"preventClickOnDrag",{get:function(){return this._preventClickOnDrag},set:function(i){var c=this._preventClickOnDrag;if(i!==c){var f=this._control.controller;i?f.addPreventClickHandler():f.removePreventClickHandler(),this._preventClickOnDrag=i}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"preventDefaultOnDrag",{get:function(){return this._preventDefaultOnDrag},set:function(i){this._preventDefaultOnDrag=i;var c=this._control.controller.panInput;c&&(c.options.preventDefaultOnDrag=i)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"disableOnInit",{get:function(){return this._disableOnInit},set:function(i){this._disableOnInit=i},enumerable:!1,configurable:!0}),Object.defineProperty(e,"changeOnHold",{get:function(){return this._changeOnHold},set:function(i){this._changeOnHold=i},enumerable:!1,configurable:!0}),Object.defineProperty(e,"renderOnlyVisible",{get:function(){return this._renderOnlyVisible},set:function(i){this._renderOnlyVisible=i,this._renderer.render()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"virtual",{get:function(){return this._virtualManager},enumerable:!1,configurable:!0}),Object.defineProperty(e,"autoInit",{get:function(){return this._autoInit},enumerable:!1,configurable:!0}),Object.defineProperty(e,"autoResize",{get:function(){return this._autoResize},set:function(i){this._autoResize=i,i?this._autoResizer.enable():this._autoResizer.disable()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"useResizeObserver",{get:function(){return this._useResizeObserver},set:function(i){this._useResizeObserver=i,this._autoResize&&this._autoResizer.enable()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"resizeDebounce",{get:function(){return this._resizeDebounce},enumerable:!1,configurable:!0}),Object.defineProperty(e,"maxResizeDebounce",{get:function(){return this._maxResizeDebounce},enumerable:!1,configurable:!0}),Object.defineProperty(e,"useFractionalSize",{get:function(){return this._useFractionalSize},enumerable:!1,configurable:!0}),Object.defineProperty(e,"externalRenderer",{get:function(){return this._externalRenderer},enumerable:!1,configurable:!0}),Object.defineProperty(e,"renderExternal",{get:function(){return this._renderExternal},enumerable:!1,configurable:!0}),e.init=function(){var i=this;if(this._initialized)return Promise.resolve();var c=this._camera,f=this._renderer,m=this._control,g=this._virtualManager,Te=this.trigger,Ie=this._preventEventsBeforeInit;return c.init(),g.init(),f.init(this),m.init(this),Ie&&(this.trigger=function(){return i}),this._initialResize(),this._moveToInitialPanel(),this._autoResize&&this._autoResizer.enable(),this._preventClickOnDrag&&m.controller.addPreventClickHandler(),this._disableOnInit&&this.disableInput(),f.checkPanelContentsReady(f.panels),this._initialized=!0,f.render().then(function(){i._plugins.forEach(function(Oe){return Oe.init(i)}),Ie&&(i.trigger=Te),i.trigger(new ComponentEvent$1(EVENTS.READY))})},e.destroy=function(){this.off(),this._autoResizer.disable(),this._control.destroy(),this._camera.destroy(),this._renderer.destroy(),this._plugins.forEach(function(i){return i.destroy()}),this._initialized=!1},e.prev=function(i){var c,f,m;return i===void 0&&(i=this._duration),this.moveTo((m=(f=(c=this._control.activePanel)===null||c===void 0?void 0:c.prev())===null||f===void 0?void 0:f.index)!==null&&m!==void 0?m:-1,i,DIRECTION.PREV)},e.next=function(i){var c,f,m;return i===void 0&&(i=this._duration),this.moveTo((m=(f=(c=this._control.activePanel)===null||c===void 0?void 0:c.next())===null||f===void 0?void 0:f.index)!==null&&m!==void 0?m:this._renderer.panelCount,i,DIRECTION.NEXT)},e.moveTo=function(i,c,f){c===void 0&&(c=this._duration),f===void 0&&(f=DIRECTION.NONE);var m=this._renderer,g=m.panelCount,Te=m.getPanel(i);return Te?this._control.animating?Promise.reject(new FlickingError(MESSAGE.ANIMATION_ALREADY_PLAYING,CODE.ANIMATION_ALREADY_PLAYING)):(this._control.holding&&this._control.controller.release(),this._control.moveToPanel(Te,{duration:c,direction:f})):Promise.reject(new FlickingError(MESSAGE.INDEX_OUT_OF_RANGE(i,0,g-1),CODE.INDEX_OUT_OF_RANGE))},e.updateAnimation=function(i,c,f){if(this._control.animating){var m=this._renderer,g=m.panelCount,Te=m.getPanel(i);if(!Te)throw new FlickingError(MESSAGE.INDEX_OUT_OF_RANGE(i,0,g-1),CODE.INDEX_OUT_OF_RANGE);this._control.updateAnimation(Te,c,f)}},e.stopAnimation=function(){this._control.animating&&this._control.stopAnimation()},e.getPanel=function(i){return this._renderer.getPanel(i)},e.enableInput=function(){return this._control.enable(),this},e.disableInput=function(){return this._control.disable(),this},e.getStatus=function(i){var c,f,m=i===void 0?{}:i,g=m.index,Te=g===void 0?!0:g,Ie=m.position,Oe=Ie===void 0?!0:Ie,ne=m.includePanelHTML,De=ne===void 0?!1:ne,Ee=m.visiblePanelsOnly,Be=Ee===void 0?!1:Ee,Fe=this._camera,Ne=Be?this.visiblePanels:this.panels,Ve={panels:Ne.map(function(He){var Xe={index:He.index};return De&&(Xe.html=He.element.outerHTML),Xe})};if(Te&&(Ve.index=this.index),Oe){var Ue=Fe.findNearestAnchor(Fe.position);Ue&&(Ve.position={panel:Ue.panel.index,progressInPanel:Fe.getProgressInPanel(Ue.panel)})}if(Be){var We=this.visiblePanels;Ve.visibleOffset=(f=(c=We[0])===null||c===void 0?void 0:c.index)!==null&&f!==void 0?f:0}return Ve},e.setStatus=function(i){var c;if(!this._initialized)throw new FlickingError(MESSAGE.NOT_INITIALIZED,CODE.NOT_INITIALIZED);var f=i.index,m=i.position,g=i.visibleOffset,Te=i.panels,Ie=this._renderer,Oe=this._control;if(!((c=Te[0])===null||c===void 0)&&c.html&&!this._renderExternal&&(Ie.batchRemove({index:0,deleteCount:this.panels.length,hasDOMInElements:!0}),Ie.batchInsert({index:0,elements:parseElement(Te.map(function(Ne){return Ne.html})),hasDOMInElements:!0})),f!=null){var ne=g?f-g:f;this.moveTo(ne,0).catch(function(){})}if(m&&this._moveType===MOVE_TYPE.FREE_SCROLL){var De=m.panel,Ee=m.progressInPanel,ne=g?De-g:De,Be=Ie.panels[ne].range,Fe=Be.min+(Be.max-Be.min)*Ee;Oe.moveToPosition(Fe,0).catch(function(){})}},e.addPlugins=function(){for(var i,c=this,f=[],m=0;m<arguments.length;m++)f[m]=arguments[m];return this._initialized&&f.forEach(function(g){return g.init(c)}),(i=this._plugins).push.apply(i,__spread(f)),this},e.removePlugins=function(){for(var i=this,c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];return c.forEach(function(m){var g=findIndex(i._plugins,function(Te){return Te===m});g>=0&&(m.destroy(),i._plugins.splice(g,1))}),this},e.resize=function(){return __awaiter(this,void 0,void 0,function(){var i,c,f,m,g,Te,Ie,Oe,ne,De,Ee;return __generator(this,function(Be){switch(Be.label){case 0:return i=this._viewport,c=this._renderer,f=this._camera,m=this._control,g=m.activePanel,Te=i.width,Ie=i.height,Oe=g?f.getProgressInPanel(g):0,this.trigger(new ComponentEvent$1(EVENTS.BEFORE_RESIZE,{width:Te,height:Ie,element:i.element})),i.resize(),[4,c.forceRenderAllPanels()];case 1:return Be.sent(),this._initialized?(c.updatePanelSize(),f.updateAlignPos(),f.updateRange(),f.updateAnchors(),f.updateAdaptiveHeight(),f.updatePanelOrder(),f.updateOffset(),[4,c.render()]):[2];case 2:return Be.sent(),this._initialized?(m.animating||(m.updatePosition(Oe),m.updateInput()),ne=i.width,De=i.height,Ee=ne!==Te||De!==Ie,this.trigger(new ComponentEvent$1(EVENTS.AFTER_RESIZE,{width:i.width,height:i.height,prev:{width:Te,height:Ie},sizeChanged:Ee,element:i.element})),[2]):[2]}})})},e.append=function(i){return this.insert(this._renderer.panelCount,i)},e.prepend=function(i){return this.insert(0,i)},e.insert=function(i,c){if(this._renderExternal)throw new FlickingError(MESSAGE.NOT_ALLOWED_IN_FRAMEWORK,CODE.NOT_ALLOWED_IN_FRAMEWORK);return this._renderer.batchInsert({index:i,elements:parseElement(c),hasDOMInElements:!0})},e.remove=function(i,c){if(c===void 0&&(c=1),this._renderExternal)throw new FlickingError(MESSAGE.NOT_ALLOWED_IN_FRAMEWORK,CODE.NOT_ALLOWED_IN_FRAMEWORK);return this._renderer.batchRemove({index:i,deleteCount:c,hasDOMInElements:!0})},e._createControl=function(){var i,c=this._moveType,f=Object.keys(MOVE_TYPE).map(function(Te){return MOVE_TYPE[Te]}),m=Array.isArray(c)?c[0]:c,g=Array.isArray(c)?(i=c[1])!==null&&i!==void 0?i:{}:{};if(!includes(f,m))throw new FlickingError(MESSAGE.WRONG_OPTION("moveType",JSON.stringify(c)),CODE.WRONG_OPTION);switch(m){case MOVE_TYPE.SNAP:return new SnapControl(g);case MOVE_TYPE.FREE_SCROLL:return new FreeControl(g);case MOVE_TYPE.STRICT:return new StrictControl(g)}},e._createCamera=function(){return this._circular&&this._bound&&console.warn('"circular" and "bound" option cannot be used together, ignoring bound.'),new Camera(this,{align:this._align})},e._createRenderer=function(){var i=this._externalRenderer;return this._virtual&&this._panelsPerView<=0&&console.warn('"virtual" and "panelsPerView" option should be used together, ignoring virtual.'),i||(this._renderExternal?this._createExternalRenderer():this._createVanillaRenderer())},e._createExternalRenderer=function(){var i=this._renderExternal,c=i.renderer,f=i.rendererOptions;return new c(__assign({align:this._align},f))},e._createVanillaRenderer=function(){var i=this.virtualEnabled;return new VanillaRenderer({align:this._align,strategy:i?new VirtualRenderingStrategy:new NormalRenderingStrategy({providerCtor:VanillaElementProvider})})},e._moveToInitialPanel=function(){var i=this._renderer,c=this._control,f=this._camera,m=i.getPanel(this._defaultIndex)||i.getPanel(0);if(m){var g=f.findNearestAnchor(m.position),Te=g&&m.index!==g.panel.index?g.panel:m;if(c.setActive(Te,null,!1),!g)throw new FlickingError(MESSAGE.POSITION_NOT_REACHABLE(Te.position),CODE.POSITION_NOT_REACHABLE);var Ie=Te.position;f.canReach(Te)||(Ie=g.position),f.lookAt(Ie),c.updateInput(),f.updateOffset()}},e._initialResize=function(){var i=this._viewport,c=this._renderer,f=this._camera,m=this._control;this.trigger(new ComponentEvent$1(EVENTS.BEFORE_RESIZE,{width:0,height:0,element:i.element})),i.resize(),c.updatePanelSize(),f.updateAlignPos(),f.updateRange(),f.updateAnchors(),f.updateOffset(),m.updateInput();var g=i.width,Te=i.height,Ie=g!==0||Te!==0;this.trigger(new ComponentEvent$1(EVENTS.AFTER_RESIZE,{width:i.width,height:i.height,prev:{width:0,height:0},sizeChanged:Ie,element:i.element}))},o.VERSION="4.11.4",o}(Component);const flicking="",scriptRel="modulepreload",assetsURL=function(h){return"/vme/"+h},seen={},__vitePreload=function(o,e,i){if(!e||e.length===0)return o();const c=document.getElementsByTagName("link");return Promise.all(e.map(f=>{if(f=assetsURL(f),f in seen)return;seen[f]=!0;const m=f.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(!!i)for(let Oe=c.length-1;Oe>=0;Oe--){const ne=c[Oe];if(ne.href===f&&(!m||ne.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${f}"]${g}`))return;const Ie=document.createElement("link");if(Ie.rel=m?"stylesheet":scriptRel,m||(Ie.as="script",Ie.crossOrigin=""),Ie.href=f,document.head.appendChild(Ie),m)return new Promise((Oe,ne)=>{Ie.addEventListener("load",Oe),Ie.addEventListener("error",()=>ne(new Error(`Unable to preload CSS for ${f}`)))})})).then(()=>o()).catch(f=>{const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f})};var __defProp=Object.defineProperty,__defNormalProp=(h,o,e)=>o in h?__defProp(h,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):h[o]=e,__publicField=(h,o,e)=>__defNormalProp(h,typeof o!="symbol"?o+"":o,e);function _mergeNamespaces(h,o){for(var e=0;e<o.length;e++){const i=o[e];if(typeof i!="string"&&!Array.isArray(i)){for(const c in i)if(c!=="default"&&!(c in h)){const f=Object.getOwnPropertyDescriptor(i,c);f&&Object.defineProperty(h,c,f.get?f:{enumerable:!0,get:()=>i[c]})}}}return Object.freeze(Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}))}const systemCoreMap={gb:"mgba",gba:"mgba",gbc:"mgba",megadrive:"genesis_plus_gx",nes:"fceumm",snes:"snes9x"};var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}const{hasOwnProperty}=Object.prototype,encode=(h,o={})=>{typeof o=="string"&&(o={section:o}),o.align=o.align===!0,o.newline=o.newline===!0,o.sort=o.sort===!0,o.whitespace=o.whitespace===!0||o.align===!0,o.platform=o.platform||typeof process<"u"&&process.platform,o.bracketedArray=o.bracketedArray!==!1;const e=o.platform==="win32"?`\r
`:`
`,i=o.whitespace?" = ":"=",c=[],f=o.sort?Object.keys(h).sort():Object.keys(h);let m=0;o.align&&(m=safe(f.filter(Ie=>h[Ie]===null||Array.isArray(h[Ie])||typeof h[Ie]!="object").map(Ie=>Array.isArray(h[Ie])?`${Ie}[]`:Ie).concat([""]).reduce((Ie,Oe)=>safe(Ie).length>=safe(Oe).length?Ie:Oe)).length);let g="";const Te=o.bracketedArray?"[]":"";for(const Ie of f){const Oe=h[Ie];if(Oe&&Array.isArray(Oe))for(const ne of Oe)g+=safe(`${Ie}${Te}`).padEnd(m," ")+i+safe(ne)+e;else Oe&&typeof Oe=="object"?c.push(Ie):g+=safe(Ie).padEnd(m," ")+i+safe(Oe)+e}o.section&&g.length&&(g="["+safe(o.section)+"]"+(o.newline?e+e:e)+g);for(const Ie of c){const Oe=splitSections(Ie,".").join("\\."),ne=(o.section?o.section+".":"")+Oe,De=encode(h[Ie],{...o,section:ne});g.length&&De.length&&(g+=e),g+=De}return g};function splitSections(h,o){var e=0,i=0,c=0,f=[];do if(c=h.indexOf(o,e),c!==-1){if(e=c+o.length,c>0&&h[c-1]==="\\")continue;f.push(h.slice(i,c)),i=c+o.length}while(c!==-1);return f.push(h.slice(i)),f}const decode=(h,o={})=>{o.bracketedArray=o.bracketedArray!==!1;const e=Object.create(null);let i=e,c=null;const f=/^\[([^\]]*)\]\s*$|^([^=]+)(=(.*))?$/i,m=h.split(/[\r\n]+/g),g={};for(const Ie of m){if(!Ie||Ie.match(/^\s*[;#]/)||Ie.match(/^\s*$/))continue;const Oe=Ie.match(f);if(!Oe)continue;if(Oe[1]!==void 0){if(c=unsafe(Oe[1]),c==="__proto__"){i=Object.create(null);continue}i=e[c]=e[c]||Object.create(null);continue}const ne=unsafe(Oe[2]);let De;o.bracketedArray?De=ne.length>2&&ne.slice(-2)==="[]":(g[ne]=((g==null?void 0:g[ne])||0)+1,De=g[ne]>1);const Ee=De&&ne.endsWith("[]")?ne.slice(0,-2):ne;if(Ee==="__proto__")continue;const Be=Oe[3]?unsafe(Oe[4]):!0,Fe=Be==="true"||Be==="false"||Be==="null"?JSON.parse(Be):Be;De&&(hasOwnProperty.call(i,Ee)?Array.isArray(i[Ee])||(i[Ee]=[i[Ee]]):i[Ee]=[]),Array.isArray(i[Ee])?i[Ee].push(Fe):i[Ee]=Fe}const Te=[];for(const Ie of Object.keys(e)){if(!hasOwnProperty.call(e,Ie)||typeof e[Ie]!="object"||Array.isArray(e[Ie]))continue;const Oe=splitSections(Ie,".");i=e;const ne=Oe.pop(),De=ne.replace(/\\\./g,".");for(const Ee of Oe)Ee!=="__proto__"&&((!hasOwnProperty.call(i,Ee)||typeof i[Ee]!="object")&&(i[Ee]=Object.create(null)),i=i[Ee]);i===e&&De===ne||(i[De]=e[Ie],Te.push(Ie))}for(const Ie of Te)delete e[Ie];return e},isQuoted=h=>h.startsWith('"')&&h.endsWith('"')||h.startsWith("'")&&h.endsWith("'"),safe=h=>typeof h!="string"||h.match(/[=\r\n]/)||h.match(/^\[/)||h.length>1&&isQuoted(h)||h!==h.trim()?JSON.stringify(h):h.split(";").join("\\;").split("#").join("\\#"),unsafe=h=>{if(h=(h||"").trim(),isQuoted(h)){h.charAt(0)==="'"&&(h=h.slice(1,-1));try{h=JSON.parse(h)}catch{}}else{let o=!1,e="";for(let i=0,c=h.length;i<c;i++){const f=h.charAt(i);if(o)"\\;#".indexOf(f)!==-1?e+=f:e+="\\"+f,o=!1;else{if(";#".indexOf(f)!==-1)break;f==="\\"?o=!0:e+=f}}return o&&(e+="\\"),e.trim()}return h};var ini={parse:decode,decode,stringify:encode,encode,safe,unsafe};const ini$1=getDefaultExportFromCjs(ini),coreInfoMap={2048:{corename:"2048",savestate:!0,supportsNoGame:!0},"3dengine":{corename:"3DEngine"},"4do":{corename:"4DO",savestate:!0},81:{corename:"81",savestate:!0},a5200:{corename:"a5200",savestate:!0},advanced_tests:{corename:"Advanced Test",supportsNoGame:!0},ardens:{corename:"Ardens",savestate:!0},arduous:{corename:"Arduous"},atari800:{corename:"Atari800",savestate:!0},bk:{corename:"bk",savestate:!0},blastem:{corename:"BlastEm",savestate:!0},bluemsx:{corename:"blueMSX",savestate:!0},bnes:{corename:"bnes/higan",savestate:!0},boom3:{corename:"boom3"},boom3_xp:{corename:"boom3_xp"},bsnes:{corename:"bsnes",savestate:!0},bsnes_cplusplus98:{cheats:!0,corename:"bsnes C++98 (v085)",savestate:!0},bsnes_hd_beta:{corename:"bsnes-hd beta",savestate:!0},bsnes_mercury_accuracy:{cheats:!0,corename:"bsnes-mercury Accuracy",savestate:!0},bsnes_mercury_balanced:{cheats:!0,corename:"bsnes-mercury Balanced",savestate:!0},bsnes_mercury_performance:{cheats:!0,corename:"bsnes-mercury Performance",savestate:!0},bsnes2014_accuracy:{cheats:!0,corename:"bsnes 2014 Accuracy",savestate:!0},bsnes2014_balanced:{cheats:!0,corename:"bsnes 2014 Balanced",savestate:!0},bsnes2014_performance:{cheats:!0,corename:"bsnes 2014 Performance",savestate:!0},cannonball:{corename:"Cannonball",supportsNoGame:!0},cap32:{corename:"Caprice32",savestate:!0,supportsNoGame:!0},cdi2015:{corename:"Philips CDi 2015"},chailove:{cheats:!0,corename:"ChaiLove",savestate:!0},chimerasnes:{cheats:!0,corename:"ChimeraSNES",savestate:!0},citra:{corename:"Citra",savestate:!0},citra_canary:{corename:"Citra Canary/Experimental"},citra2018:{corename:"Citra 2018"},craft:{corename:"Craft",supportsNoGame:!0},crocods:{corename:"CrocoDS",savestate:!0},cruzes:{corename:"Cruzes",supportsNoGame:!0},daphne:{corename:"Daphne"},desmume:{cheats:!0,corename:"DeSmuME",savestate:!0},desmume2015:{cheats:!0,corename:"DeSmuME 2015",savestate:!0},dinothawr:{corename:"Dinothawr",supportsNoGame:!0},directxbox:{corename:"DirectXBox"},dirksimple:{corename:"DirkSimple",savestate:!0},dolphin:{corename:"Dolphin",savestate:!0},dolphin_launcher:{corename:"Dolphin Launcher",supportsNoGame:!0},dosbox:{corename:"DOSBox",supportsNoGame:!0},dosbox_core:{corename:"DOSBox-core",supportsNoGame:!0},dosbox_pure:{cheats:!0,corename:"DOSBox-pure",savestate:!0,supportsNoGame:!0},dosbox_svn:{corename:"DOSBox-SVN",supportsNoGame:!0},dosbox_svn_ce:{corename:"DOSBox-SVN CE",supportsNoGame:!0},duckstation:{corename:"DuckStation",savestate:!0},easyrpg:{corename:"EasyRPG Player"},ecwolf:{corename:"ECWolf",savestate:!0},emuscv:{corename:"EmuSCV",supportsNoGame:!0},emux_chip8:{corename:"Emux CHIP-8"},emux_gb:{corename:"Emux GB"},emux_nes:{corename:"Emux NES"},emux_sms:{corename:"Emux SMS"},ep128emu_core:{cheats:!0,corename:"ep128emu-core",savestate:!0,supportsNoGame:!0},fake08:{corename:"FAKE-08",savestate:!0},fbalpha2012:{corename:"FB Alpha 2012",savestate:!0},fbalpha2012_cps1:{corename:"FB Alpha 2012 CPS-1",savestate:!0},fbalpha2012_cps2:{corename:"FB Alpha 2012 CPS-2",savestate:!0},fbalpha2012_cps3:{corename:"FB Alpha 2012 CPS-3",savestate:!0},fbalpha2012_neogeo:{corename:"FB Alpha 2012 Neo Geo",savestate:!0},fbneo:{cheats:!0,corename:"FinalBurn Neo",savestate:!0},fceumm:{cheats:!0,corename:"FCEUmm",savestate:!0},ffmpeg:{corename:"FFmpeg"},fixgb:{corename:"fixGB"},fixnes:{corename:"fixNES"},flycast:{corename:"Flycast",savestate:!0},flycast_gles2:{corename:"Flycast GLES2",savestate:!0},fmsx:{corename:"fMSX"},freechaf:{corename:"FreeChaF"},freeintv:{corename:"FreeIntv"},freej2me:{corename:"FreeJ2ME"},frodo:{corename:"Frodo"},fsuae:{corename:"FS-UAE"},fuse:{corename:"Fuse"},galaksija:{corename:"galaksija",supportsNoGame:!0},gambatte:{corename:"Gambatte",savestate:!0},gearboy:{corename:"Gearboy"},gearcoleco:{corename:"Gearcoleco"},gearsystem:{corename:"Gearsystem"},genesis_plus_gx:{cheats:!0,corename:"Genesis Plus GX",savestate:!0},genesis_plus_gx_wide:{cheats:!0,corename:"Genesis Plus GX Wide",savestate:!0},gme:{corename:"Game Music Emu"},gong:{corename:"Gong",savestate:!0,supportsNoGame:!0},gpsp:{corename:"gpSP",savestate:!0},gw:{corename:"GW"},handy:{corename:"Handy",savestate:!0},hatari:{corename:"Hatari",savestate:!0},hbmame:{corename:"HBMAME (Git)"},higan_sfc:{corename:"nSide (Super Famicom Accuracy)",savestate:!0},higan_sfc_balanced:{corename:"nSide (Super Famicom Balanced)",savestate:!0},imageviewer:{corename:"Imageviewer"},ishiiruka:{corename:"Ishiiruka",savestate:!0},jaxe:{corename:"JAXE"},jumpnbump:{corename:"jumpnbump"},kronos:{cheats:!0,corename:"Kronos",savestate:!0},lowresnx:{corename:"lowresnx"},lutro:{corename:"Lutro"},mame:{corename:"MAME",savestate:!0},mame2000:{corename:"MAME 2000 (0.37b5)",savestate:!0},mame2003:{corename:"MAME 2003 (0.78)",savestate:!0},mame2003_midway:{corename:"MAME 2003 Midway (0.78)",savestate:!0},mame2003_plus:{corename:"MAME 2003-Plus",savestate:!0},mame2009:{corename:"MAME 2009 (0.135u4)"},mame2010:{corename:"MAME 2010 (0.139)"},mame2015:{corename:"MAME 2015 (0.160)"},mame2016:{corename:"MAME 2016 (0.174)"},mamearcade:{corename:"MAME (Git)"},mamemess:{corename:"MESS (Git)",savestate:!0},mednafen_gba:{corename:"Beetle GBA"},mednafen_lynx:{corename:"Beetle Lynx"},mednafen_ngp:{corename:"Beetle NeoPop",savestate:!0},mednafen_pce:{corename:"Beetle PCE",savestate:!0},mednafen_pce_fast:{corename:"Beetle PCE Fast",savestate:!0},mednafen_pcfx:{corename:"Beetle PC-FX"},mednafen_psx:{cheats:!0,corename:"Beetle PSX",savestate:!0},mednafen_psx_hw:{cheats:!0,corename:"Beetle PSX HW",savestate:!0},mednafen_saturn:{cheats:!0,corename:"Beetle Saturn",savestate:!0},mednafen_snes:{corename:"Beetle bsnes",savestate:!0},mednafen_supafaust:{cheats:!0,corename:"Beetle Supafaust",savestate:!0},mednafen_supergrafx:{cheats:!0,corename:"Beetle SuperGrafx",savestate:!0},mednafen_vb:{corename:"Beetle VB"},mednafen_wswan:{corename:"Beetle WonderSwan",savestate:!0},melonds:{corename:"melonDS"},mesen:{cheats:!0,corename:"Mesen",savestate:!0},"mesen-s":{corename:"Mesen-S"},mess2015:{corename:"MESS 2015 (0.160)"},meteor:{corename:"Meteor"},mgba:{cheats:!0,corename:"mGBA",savestate:!0},minivmac:{corename:"MinivmacII"},mojozork:{corename:"mojozork",savestate:!0},moonlight:{corename:"Moonlight",supportsNoGame:!0},mpv:{corename:"MPV"},mrboom:{corename:"Mr.Boom",savestate:!0,supportsNoGame:!0},mu:{corename:"Mu",supportsNoGame:!0},mupen64plus_next:{cheats:!0,corename:"Mupen64Plus-Next",savestate:!0},mupen64plus_next_develop:{cheats:!0,corename:"Mupen64Plus-Next",savestate:!0},mupen64plus_next_gles2:{cheats:!0,corename:"Mupen64Plus-Next",savestate:!0},mupen64plus_next_gles3:{cheats:!0,corename:"Mupen64Plus-Next",savestate:!0},nekop2:{corename:"Neko Project II",savestate:!0},neocd:{corename:"NeoCD"},nes:{corename:"nes",savestate:!0},nestopia:{cheats:!0,corename:"Nestopia",savestate:!0},np2kai:{corename:"Neko Project II Kai",savestate:!0},numero:{corename:"Numero",savestate:!0,supportsNoGame:!0},nxengine:{corename:"NXEngine",supportsNoGame:!0},o2em:{corename:"O2EM",savestate:!0},oberon:{corename:"Oberon"},openlara:{corename:"OpenLara"},opentyrian:{corename:"OpenTyrian",supportsNoGame:!0},opera:{corename:"Opera",savestate:!0,supportsNoGame:!0},parallel_n64:{corename:"ParaLLEl N64",savestate:!0},parallel_n64_debug:{corename:"ParaLLEl (Debug)",savestate:!0},pascal_pong:{corename:"PascalPong",supportsNoGame:!0},pcem:{corename:"PCem",supportsNoGame:!0},pcsx_rearmed:{cheats:!0,corename:"PCSX-ReARMed",savestate:!0},pcsx_rearmed_interpreter:{cheats:!0,corename:"PCSX ReARMed [Interpreter]",savestate:!0},pcsx_rearmed_neon:{cheats:!0,corename:"PCSX ReARMed [NEON]",savestate:!0},pcsx1:{corename:"PCSX1"},pcsx2:{corename:"LRPS2",savestate:!0},picodrive:{cheats:!0,corename:"PicoDrive",savestate:!0},play:{corename:"Play!",savestate:!0},pocketcdg:{corename:"PocketCDG"},pokemini:{corename:"PokeMini",savestate:!0},potator:{corename:"Potator",savestate:!0},ppsspp:{corename:"PPSSPP",savestate:!0},prboom:{cheats:!0,corename:"PrBoom",savestate:!0},prosystem:{corename:"ProSystem",savestate:!0},puae:{cheats:!0,corename:"PUAE",savestate:!0,supportsNoGame:!0},puae2021:{cheats:!0,corename:"PUAE 2021",savestate:!0,supportsNoGame:!0},puzzlescript:{corename:"puzzlescript",savestate:!0},px68k:{corename:"PX68k",supportsNoGame:!0},quasi88:{cheats:!0,corename:"QUASI88",savestate:!0,supportsNoGame:!0},quicknes:{corename:"QuickNES",savestate:!0},race:{corename:"RACE",savestate:!0},redbook:{corename:"Redbook"},reminiscence:{corename:"REminiscence",savestate:!0},remotejoy:{corename:"RemoteJoy",supportsNoGame:!0},retro8:{corename:"Retro8"},retrodream:{corename:"RetroDream"},rustation:{corename:"Rustation"},same_cdi:{corename:"SAME CDi (Git)"},sameboy:{corename:"SameBoy"},sameduck:{corename:"SameDuck",savestate:!0},scummvm:{corename:"ScummVM",supportsNoGame:!0},simcp:{corename:"SimCoupe"},smsplus:{corename:"SMS Plus GX"},snes9x:{cheats:!0,corename:"Snes9x",savestate:!0},snes9x2002:{cheats:!0,corename:"Snes9x 2002",savestate:!0},snes9x2005:{cheats:!0,corename:"Snes9x 2005",savestate:!0},snes9x2005_plus:{cheats:!0,corename:"Snes9x 2005 Plus",savestate:!0},snes9x2010:{cheats:!0,corename:"Snes9x 2010",savestate:!0},squirreljme:{corename:"SquirrelJME",supportsNoGame:!0},stella:{corename:"Stella",savestate:!0},stella2014:{corename:"Stella 2014",savestate:!0},stonesoup:{corename:"Dungeon Crawl Stone Soup"},superbroswar:{corename:"superbroswar"},swanstation:{corename:"SwanStation",savestate:!0},tempgba:{corename:"TempGBA"},test:{corename:"Test",supportsNoGame:!0},test_netplay:{corename:"netplay-test",supportsNoGame:!0},testaudio_callback:{corename:"TestAudio Callback",supportsNoGame:!0},testaudio_no_callback:{corename:"TestAudio NoCallback",supportsNoGame:!0},testaudio_playback_wav:{corename:"TestAudio Playback Wav",supportsNoGame:!0},testgl:{corename:"TestGL",supportsNoGame:!0},testgl_compute_shaders:{corename:"TestGL ComputeShaders",supportsNoGame:!0},testgl_ff:{corename:"TestGL (FF)",supportsNoGame:!0},testinput_buttontest:{corename:"Button Test",supportsNoGame:!0},testretroluxury:{corename:"Test RetroLuxury",supportsNoGame:!0},testsw:{corename:"TestSW",supportsNoGame:!0},testsw_vram:{corename:"TestSW VRAM",supportsNoGame:!0},testvulkan:{corename:"TestVulkan",supportsNoGame:!0},testvulkan_async_compute:{corename:"TestVulkan AsyncCompute",supportsNoGame:!0},tgbdual:{corename:"TGB Dual",savestate:!0},theodore:{corename:"theodore",savestate:!0,supportsNoGame:!0},thepowdertoy:{corename:"ThePowderToy",savestate:!0,supportsNoGame:!0},tic80:{cheats:!0,corename:"TIC-80",savestate:!0},tyrquake:{cheats:!0,corename:"TyrQuake"},uae4arm:{corename:"UAE4ARM",savestate:!0},ume2015:{corename:"UME 2015 (0.160)"},uw8:{corename:"MicroW8",savestate:!0},uzem:{corename:"uzem",savestate:!0},vaporspec:{corename:"VaporSpec",savestate:!0},vba_next:{corename:"VBA Next",savestate:!0},vbam:{cheats:!0,corename:"VBA-M",savestate:!0},vecx:{corename:"vecx",savestate:!0},vemulator:{corename:"VeMUlator"},vice_x128:{cheats:!0,corename:"VICE x128",savestate:!0,supportsNoGame:!0},vice_x64:{cheats:!0,corename:"VICE x64",savestate:!0,supportsNoGame:!0},vice_x64dtv:{cheats:!0,corename:"VICE x64dtv",savestate:!0,supportsNoGame:!0},vice_x64sc:{cheats:!0,corename:"VICE x64sc",savestate:!0,supportsNoGame:!0},vice_xcbm2:{cheats:!0,corename:"VICE xcbm2",savestate:!0,supportsNoGame:!0},vice_xcbm5x0:{cheats:!0,corename:"VICE xcbm5x0",savestate:!0,supportsNoGame:!0},vice_xpet:{cheats:!0,corename:"VICE xpet",savestate:!0,supportsNoGame:!0},vice_xplus4:{cheats:!0,corename:"VICE xplus4",savestate:!0,supportsNoGame:!0},vice_xscpu64:{cheats:!0,corename:"VICE xscpu64",savestate:!0,supportsNoGame:!0},vice_xvic:{cheats:!0,corename:"VICE xvic",savestate:!0,supportsNoGame:!0},vircon32:{corename:"Vircon32",supportsNoGame:!0},virtualjaguar:{corename:"Virtual Jaguar"},virtualxt:{corename:"virtualxt"},vitaquake2:{corename:"vitaQuake 2"},"vitaquake2-rogue":{corename:"vitaQuake 2 [Rogue]"},"vitaquake2-xatrix":{corename:"vitaQuake 2 [Xatrix]"},"vitaquake2-zaero":{corename:"vitaQuake 2 [Zaero]"},vitaquake3:{corename:"vitaQuake 3"},vitavoyager:{corename:"vitaVoyager"},wasm4:{corename:"WASM-4",savestate:!0},x1:{corename:"x1"},x64sdl:{corename:"VICE SDL"},xrick:{corename:"XRick",supportsNoGame:!0},yabasanshiro:{cheats:!0,corename:"YabaSanshiro",savestate:!0},yabause:{cheats:!0,corename:"Yabause",savestate:!0}},keyboardCodeMap={add:"NumpadAdd",alt:"AltLeft",backquote:"Backquote",backslash:"",backspace:"Backspace",capslock:"CapsLock",comma:"Comma",ctrl:"ControlLeft",del:"Delete",divide:"NumpadDivide",down:"ArrowDown",end:"End",enter:"Enter",equals:"Equal",escape:"Escape",home:"Home",insert:"Insert",kp_enter:"NumpadEnter",kp_equals:"NumpadEquals",kp_minus:"NumpadSubtract",kp_period:"NumpadDecimal",kp_plus:"NumpadAdd",left:"ArrowLeft",leftbracket:"BracketLeft",minus:"Minus",multiply:"NumpadMultiply",numlock:"NumLock",pagedown:"PageDown",pageup:"PageUp",pause:"Pause",period:"Period",print_screen:"PrintScreen",quote:"Quote",ralt:"AltRight",rctrl:"ControlRight",right:"ArrowRight",rightbracket:"BracketRight",rshift:"ShiftRight",scroll_lock:"ScrollLock",semicolon:"Semicolon",shift:"ShiftLeft",slash:"Slash",space:"Space",subtract:"NumpadSubtract",tab:"Tab",tilde:"",up:"ArrowUp"};var browserfs$2={exports:{}};(function(h,o){(function(i,c){h.exports=c()})(commonjsGlobal,function(){return function(e){var i={};function c(f){if(i[f])return i[f].exports;var m=i[f]={exports:{},id:f,loaded:!1};return e[f].call(m.exports,m,m.exports,c),m.loaded=!0,m.exports}return c.m=e,c.c=i,c.p="",c(0)}([function(e,i,c){(function(f,m,g,Te){Object.defineProperty(i,"__esModule",{value:!0});var Ie=c(2),Oe=c(9),ne;(function(_e){_e[_e.EPERM=1]="EPERM",_e[_e.ENOENT=2]="ENOENT",_e[_e.EIO=5]="EIO",_e[_e.EBADF=9]="EBADF",_e[_e.EACCES=13]="EACCES",_e[_e.EBUSY=16]="EBUSY",_e[_e.EEXIST=17]="EEXIST",_e[_e.ENOTDIR=20]="ENOTDIR",_e[_e.EISDIR=21]="EISDIR",_e[_e.EINVAL=22]="EINVAL",_e[_e.EFBIG=27]="EFBIG",_e[_e.ENOSPC=28]="ENOSPC",_e[_e.EROFS=30]="EROFS",_e[_e.ENOTEMPTY=39]="ENOTEMPTY",_e[_e.ENOTSUP=95]="ENOTSUP"})(ne||(ne={}));var De={};De[ne.EPERM]="Operation not permitted.",De[ne.ENOENT]="No such file or directory.",De[ne.EIO]="Input/output error.",De[ne.EBADF]="Bad file descriptor.",De[ne.EACCES]="Permission denied.",De[ne.EBUSY]="Resource busy or locked.",De[ne.EEXIST]="File exists.",De[ne.ENOTDIR]="File is not a directory.",De[ne.EISDIR]="File is a directory.",De[ne.EINVAL]="Invalid argument.",De[ne.EFBIG]="File is too big.",De[ne.ENOSPC]="No space left on disk.",De[ne.EROFS]="Cannot modify a read-only file system.",De[ne.ENOTEMPTY]="Directory is not empty.",De[ne.ENOTSUP]="Operation is not supported.";var Ee=function(_e){function d(k,_,Ae){_===void 0&&(_=De[k]),_e.call(this,_),this.syscall="",this.errno=k,this.code=ne[k],this.path=Ae,this.stack=new _e().stack,this.message="Error: "+this.code+": "+_+(this.path?", '"+this.path+"'":"")}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.fromJSON=function(_){var Ae=new d(0);return Ae.errno=_.errno,Ae.code=_.code,Ae.path=_.path,Ae.stack=_.stack,Ae.message=_.message,Ae},d.fromBuffer=function(_,Ae){return Ae===void 0&&(Ae=0),d.fromJSON(JSON.parse(_.toString("utf8",Ae+4,Ae+4+_.readUInt32LE(Ae))))},d.FileError=function(_,Ae){return new d(_,De[_],Ae)},d.ENOENT=function(_){return this.FileError(ne.ENOENT,_)},d.EEXIST=function(_){return this.FileError(ne.EEXIST,_)},d.EISDIR=function(_){return this.FileError(ne.EISDIR,_)},d.ENOTDIR=function(_){return this.FileError(ne.ENOTDIR,_)},d.EPERM=function(_){return this.FileError(ne.EPERM,_)},d.ENOTEMPTY=function(_){return this.FileError(ne.ENOTEMPTY,_)},d.prototype.toString=function(){return this.message},d.prototype.toJSON=function(){return{errno:this.errno,code:this.code,path:this.path,stack:this.stack,message:this.message}},d.prototype.writeToBuffer=function(_,Ae){_===void 0&&(_=f.alloc(this.bufferSize())),Ae===void 0&&(Ae=0);var qe=_.write(JSON.stringify(this.toJSON()),Ae+4);return _.writeUInt32LE(qe,Ae),_},d.prototype.bufferSize=function(){return 4+f.byteLength(JSON.stringify(this.toJSON()))},d}(Error),Be=Object.freeze({get ErrorCode(){return ne},ErrorStrings:De,ApiError:Ee}),Fe;(function(_e){_e[_e.NOP=0]="NOP",_e[_e.THROW_EXCEPTION=1]="THROW_EXCEPTION",_e[_e.TRUNCATE_FILE=2]="TRUNCATE_FILE",_e[_e.CREATE_FILE=3]="CREATE_FILE"})(Fe||(Fe={}));var Ne=function _e(d){if(this.flagStr=d,_e.validFlagStrs.indexOf(d)<0)throw new Ee(ne.EINVAL,"Invalid flag: "+d)};Ne.getFileFlag=function(d){return Ne.flagCache.hasOwnProperty(d)?Ne.flagCache[d]:Ne.flagCache[d]=new Ne(d)},Ne.prototype.getFlagString=function(){return this.flagStr},Ne.prototype.isReadable=function(){return this.flagStr.indexOf("r")!==-1||this.flagStr.indexOf("+")!==-1},Ne.prototype.isWriteable=function(){return this.flagStr.indexOf("w")!==-1||this.flagStr.indexOf("a")!==-1||this.flagStr.indexOf("+")!==-1},Ne.prototype.isTruncating=function(){return this.flagStr.indexOf("w")!==-1},Ne.prototype.isAppendable=function(){return this.flagStr.indexOf("a")!==-1},Ne.prototype.isSynchronous=function(){return this.flagStr.indexOf("s")!==-1},Ne.prototype.isExclusive=function(){return this.flagStr.indexOf("x")!==-1},Ne.prototype.pathExistsAction=function(){return this.isExclusive()?Fe.THROW_EXCEPTION:this.isTruncating()?Fe.TRUNCATE_FILE:Fe.NOP},Ne.prototype.pathNotExistsAction=function(){return(this.isWriteable()||this.isAppendable())&&this.flagStr!=="r+"?Fe.CREATE_FILE:Fe.THROW_EXCEPTION},Ne.flagCache={},Ne.validFlagStrs=["r","r+","rs","rs+","w","wx","w+","wx+","a","ax","a+","ax+"];var Ve;(function(_e){_e[_e.FILE=32768]="FILE",_e[_e.DIRECTORY=16384]="DIRECTORY",_e[_e.SYMLINK=40960]="SYMLINK"})(Ve||(Ve={}));var Ue=function(d,k,_,Ae,qe,Me){if(Ae===void 0&&(Ae=new Date),qe===void 0&&(qe=new Date),Me===void 0&&(Me=new Date),this.size=k,this.atime=Ae,this.mtime=qe,this.ctime=Me,this.dev=0,this.ino=0,this.rdev=0,this.nlink=1,this.blksize=4096,this.uid=0,this.gid=0,this.birthtime=new Date(0),this.fileData=null,_)this.mode=_;else switch(d){case Ve.FILE:this.mode=420;break;case Ve.DIRECTORY:default:this.mode=511}this.blocks=Math.ceil(k/512),this.mode<4096&&(this.mode|=d)};Ue.fromBuffer=function(d){var k=d.readUInt32LE(0),_=d.readUInt32LE(4),Ae=d.readDoubleLE(8),qe=d.readDoubleLE(16),Me=d.readDoubleLE(24);return new Ue(_&61440,k,_&4095,new Date(Ae),new Date(qe),new Date(Me))},Ue.prototype.toBuffer=function(){var d=f.alloc(32);return d.writeUInt32LE(this.size,0),d.writeUInt32LE(this.mode,4),d.writeDoubleLE(this.atime.getTime(),8),d.writeDoubleLE(this.mtime.getTime(),16),d.writeDoubleLE(this.ctime.getTime(),24),d},Ue.prototype.clone=function(){return new Ue(this.mode&61440,this.size,this.mode&4095,this.atime,this.mtime,this.ctime)},Ue.prototype.isFile=function(){return(this.mode&61440)===Ve.FILE},Ue.prototype.isDirectory=function(){return(this.mode&61440)===Ve.DIRECTORY},Ue.prototype.isSymbolicLink=function(){return(this.mode&61440)===Ve.SYMLINK},Ue.prototype.chmod=function(d){this.mode=this.mode&61440|d},Ue.prototype.isSocket=function(){return!1},Ue.prototype.isBlockDevice=function(){return!1},Ue.prototype.isCharacterDevice=function(){return!1},Ue.prototype.isFIFO=function(){return!1};var We=function(_e,d){return _e};function He(_e){if(_e)return _e;throw new Ee(ne.EIO,"Initialize BrowserFS with a file system using BrowserFS.initialize(filesystem)")}function Xe(_e,d){switch(typeof _e){case"number":return _e;case"string":var k=parseInt(_e,8);return isNaN(k)?d:k;default:return d}}function ot(_e){if(_e instanceof Date)return _e;if(typeof _e=="number")return new Date(_e*1e3);throw new Ee(ne.EINVAL,"Invalid time.")}function tt(_e){if(_e.indexOf("\0")>=0)throw new Ee(ne.EINVAL,"Path must be a string without null bytes.");if(_e==="")throw new Ee(ne.EINVAL,"Path must not be empty.");return Oe.resolve(_e)}function gt(_e,d,k,_){switch(typeof _e){case"object":return{encoding:typeof _e.encoding<"u"?_e.encoding:d,flag:typeof _e.flag<"u"?_e.flag:k,mode:Xe(_e.mode,_)};case"string":return{encoding:_e,flag:k,mode:_};default:return{encoding:d,flag:k,mode:_}}}function vt(){}var rt=function(){this.F_OK=0,this.R_OK=4,this.W_OK=2,this.X_OK=1,this.root=null,this.fdMap={},this.nextFd=100};rt.prototype.initialize=function(d){if(!d.constructor.isAvailable())throw new Ee(ne.EINVAL,"Tried to instantiate BrowserFS with an unavailable file system.");return this.root=d},rt.prototype._toUnixTimestamp=function(d){if(typeof d=="number")return d;if(d instanceof Date)return d.getTime()/1e3;throw new Error("Cannot parse time: "+d)},rt.prototype.getRootFS=function(){return this.root?this.root:null},rt.prototype.rename=function(d,k,_){_===void 0&&(_=vt);var Ae=We(_,1);try{He(this.root).rename(tt(d),tt(k),Ae)}catch(qe){Ae(qe)}},rt.prototype.renameSync=function(d,k){He(this.root).renameSync(tt(d),tt(k))},rt.prototype.exists=function(d,k){k===void 0&&(k=vt);var _=We(k,1);try{return He(this.root).exists(tt(d),_)}catch{return _(!1)}},rt.prototype.existsSync=function(d){try{return He(this.root).existsSync(tt(d))}catch{return!1}},rt.prototype.stat=function(d,k){k===void 0&&(k=vt);var _=We(k,2);try{return He(this.root).stat(tt(d),!1,_)}catch(Ae){return _(Ae)}},rt.prototype.statSync=function(d){return He(this.root).statSync(tt(d),!1)},rt.prototype.lstat=function(d,k){k===void 0&&(k=vt);var _=We(k,2);try{return He(this.root).stat(tt(d),!0,_)}catch(Ae){return _(Ae)}},rt.prototype.lstatSync=function(d){return He(this.root).statSync(tt(d),!0)},rt.prototype.truncate=function(d,k,_){k===void 0&&(k=0),_===void 0&&(_=vt);var Ae=0;typeof k=="function"?_=k:typeof k=="number"&&(Ae=k);var qe=We(_,1);try{if(Ae<0)throw new Ee(ne.EINVAL);return He(this.root).truncate(tt(d),Ae,qe)}catch(Me){return qe(Me)}},rt.prototype.truncateSync=function(d,k){if(k===void 0&&(k=0),k<0)throw new Ee(ne.EINVAL);return He(this.root).truncateSync(tt(d),k)},rt.prototype.unlink=function(d,k){k===void 0&&(k=vt);var _=We(k,1);try{return He(this.root).unlink(tt(d),_)}catch(Ae){return _(Ae)}},rt.prototype.unlinkSync=function(d){return He(this.root).unlinkSync(tt(d))},rt.prototype.open=function(d,k,_,Ae){var qe=this;Ae===void 0&&(Ae=vt);var Me=Xe(_,420);Ae=typeof _=="function"?_:Ae;var Ge=We(Ae,2);try{He(this.root).open(tt(d),Ne.getFileFlag(k),Me,function(et,ft){ft?Ge(et,qe.getFdForFile(ft)):Ge(et)})}catch(et){Ge(et)}},rt.prototype.openSync=function(d,k,_){return _===void 0&&(_=420),this.getFdForFile(He(this.root).openSync(tt(d),Ne.getFileFlag(k),Xe(_,420)))},rt.prototype.readFile=function(d,k,_){k===void 0&&(k={}),_===void 0&&(_=vt);var Ae=gt(k,null,"r",null);_=typeof k=="function"?k:_;var qe=We(_,2);try{var Me=Ne.getFileFlag(Ae.flag);return Me.isReadable()?He(this.root).readFile(tt(d),Ae.encoding,Me,qe):qe(new Ee(ne.EINVAL,"Flag passed to readFile must allow for reading."))}catch(Ge){return qe(Ge)}},rt.prototype.readFileSync=function(d,k){k===void 0&&(k={});var _=gt(k,null,"r",null),Ae=Ne.getFileFlag(_.flag);if(!Ae.isReadable())throw new Ee(ne.EINVAL,"Flag passed to readFile must allow for reading.");return He(this.root).readFileSync(tt(d),_.encoding,Ae)},rt.prototype.writeFile=function(d,k,_,Ae){_===void 0&&(_={}),Ae===void 0&&(Ae=vt);var qe=gt(_,"utf8","w",420);Ae=typeof _=="function"?_:Ae;var Me=We(Ae,1);try{var Ge=Ne.getFileFlag(qe.flag);return Ge.isWriteable()?He(this.root).writeFile(tt(d),k,qe.encoding,Ge,qe.mode,Me):Me(new Ee(ne.EINVAL,"Flag passed to writeFile must allow for writing."))}catch(et){return Me(et)}},rt.prototype.writeFileSync=function(d,k,_){var Ae=gt(_,"utf8","w",420),qe=Ne.getFileFlag(Ae.flag);if(!qe.isWriteable())throw new Ee(ne.EINVAL,"Flag passed to writeFile must allow for writing.");return He(this.root).writeFileSync(tt(d),k,Ae.encoding,qe,Ae.mode)},rt.prototype.appendFile=function(d,k,_,Ae){Ae===void 0&&(Ae=vt);var qe=gt(_,"utf8","a",420);Ae=typeof _=="function"?_:Ae;var Me=We(Ae,1);try{var Ge=Ne.getFileFlag(qe.flag);if(!Ge.isAppendable())return Me(new Ee(ne.EINVAL,"Flag passed to appendFile must allow for appending."));He(this.root).appendFile(tt(d),k,qe.encoding,Ge,qe.mode,Me)}catch(et){Me(et)}},rt.prototype.appendFileSync=function(d,k,_){var Ae=gt(_,"utf8","a",420),qe=Ne.getFileFlag(Ae.flag);if(!qe.isAppendable())throw new Ee(ne.EINVAL,"Flag passed to appendFile must allow for appending.");return He(this.root).appendFileSync(tt(d),k,Ae.encoding,qe,Ae.mode)},rt.prototype.fstat=function(d,k){k===void 0&&(k=vt);var _=We(k,2);try{var Ae=this.fd2file(d);Ae.stat(_)}catch(qe){_(qe)}},rt.prototype.fstatSync=function(d){return this.fd2file(d).statSync()},rt.prototype.close=function(d,k){var _=this;k===void 0&&(k=vt);var Ae=We(k,1);try{this.fd2file(d).close(function(qe){qe||_.closeFd(d),Ae(qe)})}catch(qe){Ae(qe)}},rt.prototype.closeSync=function(d){this.fd2file(d).closeSync(),this.closeFd(d)},rt.prototype.ftruncate=function(d,k,_){_===void 0&&(_=vt);var Ae=typeof k=="number"?k:0;_=typeof k=="function"?k:_;var qe=We(_,1);try{var Me=this.fd2file(d);if(Ae<0)throw new Ee(ne.EINVAL);Me.truncate(Ae,qe)}catch(Ge){qe(Ge)}},rt.prototype.ftruncateSync=function(d,k){k===void 0&&(k=0);var _=this.fd2file(d);if(k<0)throw new Ee(ne.EINVAL);_.truncateSync(k)},rt.prototype.fsync=function(d,k){k===void 0&&(k=vt);var _=We(k,1);try{this.fd2file(d).sync(_)}catch(Ae){_(Ae)}},rt.prototype.fsyncSync=function(d){this.fd2file(d).syncSync()},rt.prototype.fdatasync=function(d,k){k===void 0&&(k=vt);var _=We(k,1);try{this.fd2file(d).datasync(_)}catch(Ae){_(Ae)}},rt.prototype.fdatasyncSync=function(d){this.fd2file(d).datasyncSync()},rt.prototype.write=function(d,k,_,Ae,qe,Me){Me===void 0&&(Me=vt);var Ge,et,ft,kt=null;if(typeof k=="string"){var Ht="utf8";switch(typeof _){case"function":Me=_;break;case"number":kt=_,Ht=typeof Ae=="string"?Ae:"utf8",Me=typeof qe=="function"?qe:Me;break;default:return Me=typeof Ae=="function"?Ae:typeof qe=="function"?qe:Me,Me(new Ee(ne.EINVAL,"Invalid arguments."))}Ge=f.from(k,Ht),et=0,ft=Ge.length}else Ge=k,et=_,ft=Ae,kt=typeof qe=="number"?qe:null,Me=typeof qe=="function"?qe:Me;var ir=We(Me,3);try{var _r=this.fd2file(d);kt==null&&(kt=_r.getPos()),_r.write(Ge,et,ft,kt,ir)}catch(vr){ir(vr)}},rt.prototype.writeSync=function(d,k,_,Ae,qe){var Me,Ge=0,et,ft;if(typeof k=="string"){ft=typeof _=="number"?_:null;var kt=typeof Ae=="string"?Ae:"utf8";Ge=0,Me=f.from(k,kt),et=Me.length}else Me=k,Ge=_,et=Ae,ft=typeof qe=="number"?qe:null;var Ht=this.fd2file(d);return ft==null&&(ft=Ht.getPos()),Ht.writeSync(Me,Ge,et,ft)},rt.prototype.read=function(d,k,_,Ae,qe,Me){Me===void 0&&(Me=vt);var Ge,et,ft,kt,Ht;if(typeof k=="number"){ft=k,Ge=_;var ir=Ae;Me=typeof qe=="function"?qe:Me,et=0,kt=f.alloc(ft),Ht=We(function(vr,qr,jr){if(vr)return Me(vr);Me(vr,jr.toString(ir),qr)},3)}else kt=k,et=_,ft=Ae,Ge=qe,Ht=We(Me,3);try{var _r=this.fd2file(d);Ge==null&&(Ge=_r.getPos()),_r.read(kt,et,ft,Ge,Ht)}catch(vr){Ht(vr)}},rt.prototype.readSync=function(d,k,_,Ae,qe){var Me=!1,Ge,et,ft,kt,Ht="utf8";typeof k=="number"?(ft=k,kt=_,Ht=Ae,et=0,Ge=f.alloc(ft),Me=!0):(Ge=k,et=_,ft=Ae,kt=qe);var ir=this.fd2file(d);kt==null&&(kt=ir.getPos());var _r=ir.readSync(Ge,et,ft,kt);return Me?[Ge.toString(Ht),_r]:_r},rt.prototype.fchown=function(d,k,_,Ae){Ae===void 0&&(Ae=vt);var qe=We(Ae,1);try{this.fd2file(d).chown(k,_,qe)}catch(Me){qe(Me)}},rt.prototype.fchownSync=function(d,k,_){this.fd2file(d).chownSync(k,_)},rt.prototype.fchmod=function(d,k,_){var Ae=We(_,1);try{var qe=typeof k=="string"?parseInt(k,8):k;this.fd2file(d).chmod(qe,Ae)}catch(Me){Ae(Me)}},rt.prototype.fchmodSync=function(d,k){var _=typeof k=="string"?parseInt(k,8):k;this.fd2file(d).chmodSync(_)},rt.prototype.futimes=function(d,k,_,Ae){Ae===void 0&&(Ae=vt);var qe=We(Ae,1);try{var Me=this.fd2file(d);typeof k=="number"&&(k=new Date(k*1e3)),typeof _=="number"&&(_=new Date(_*1e3)),Me.utimes(k,_,qe)}catch(Ge){qe(Ge)}},rt.prototype.futimesSync=function(d,k,_){this.fd2file(d).utimesSync(ot(k),ot(_))},rt.prototype.rmdir=function(d,k){k===void 0&&(k=vt);var _=We(k,1);try{d=tt(d),He(this.root).rmdir(d,_)}catch(Ae){_(Ae)}},rt.prototype.rmdirSync=function(d){return d=tt(d),He(this.root).rmdirSync(d)},rt.prototype.mkdir=function(d,k,_){_===void 0&&(_=vt),typeof k=="function"&&(_=k,k=511);var Ae=We(_,1);try{d=tt(d),He(this.root).mkdir(d,k,Ae)}catch(qe){Ae(qe)}},rt.prototype.mkdirSync=function(d,k){He(this.root).mkdirSync(tt(d),Xe(k,511))},rt.prototype.readdir=function(d,k){k===void 0&&(k=vt);var _=We(k,2);try{d=tt(d),He(this.root).readdir(d,_)}catch(Ae){_(Ae)}},rt.prototype.readdirSync=function(d){return d=tt(d),He(this.root).readdirSync(d)},rt.prototype.link=function(d,k,_){_===void 0&&(_=vt);var Ae=We(_,1);try{d=tt(d),k=tt(k),He(this.root).link(d,k,Ae)}catch(qe){Ae(qe)}},rt.prototype.linkSync=function(d,k){return d=tt(d),k=tt(k),He(this.root).linkSync(d,k)},rt.prototype.symlink=function(d,k,_,Ae){Ae===void 0&&(Ae=vt);var qe=typeof _=="string"?_:"file";Ae=typeof _=="function"?_:Ae;var Me=We(Ae,1);try{if(qe!=="file"&&qe!=="dir")return Me(new Ee(ne.EINVAL,"Invalid type: "+qe));d=tt(d),k=tt(k),He(this.root).symlink(d,k,qe,Me)}catch(Ge){Me(Ge)}},rt.prototype.symlinkSync=function(d,k,_){if(!_)_="file";else if(_!=="file"&&_!=="dir")throw new Ee(ne.EINVAL,"Invalid type: "+_);return d=tt(d),k=tt(k),He(this.root).symlinkSync(d,k,_)},rt.prototype.readlink=function(d,k){k===void 0&&(k=vt);var _=We(k,2);try{d=tt(d),He(this.root).readlink(d,_)}catch(Ae){_(Ae)}},rt.prototype.readlinkSync=function(d){return d=tt(d),He(this.root).readlinkSync(d)},rt.prototype.chown=function(d,k,_,Ae){Ae===void 0&&(Ae=vt);var qe=We(Ae,1);try{d=tt(d),He(this.root).chown(d,!1,k,_,qe)}catch(Me){qe(Me)}},rt.prototype.chownSync=function(d,k,_){d=tt(d),He(this.root).chownSync(d,!1,k,_)},rt.prototype.lchown=function(d,k,_,Ae){Ae===void 0&&(Ae=vt);var qe=We(Ae,1);try{d=tt(d),He(this.root).chown(d,!0,k,_,qe)}catch(Me){qe(Me)}},rt.prototype.lchownSync=function(d,k,_){d=tt(d),He(this.root).chownSync(d,!0,k,_)},rt.prototype.chmod=function(d,k,_){_===void 0&&(_=vt);var Ae=We(_,1);try{var qe=Xe(k,-1);if(qe<0)throw new Ee(ne.EINVAL,"Invalid mode.");He(this.root).chmod(tt(d),!1,qe,Ae)}catch(Me){Ae(Me)}},rt.prototype.chmodSync=function(d,k){var _=Xe(k,-1);if(_<0)throw new Ee(ne.EINVAL,"Invalid mode.");d=tt(d),He(this.root).chmodSync(d,!1,_)},rt.prototype.lchmod=function(d,k,_){_===void 0&&(_=vt);var Ae=We(_,1);try{var qe=Xe(k,-1);if(qe<0)throw new Ee(ne.EINVAL,"Invalid mode.");He(this.root).chmod(tt(d),!0,qe,Ae)}catch(Me){Ae(Me)}},rt.prototype.lchmodSync=function(d,k){var _=Xe(k,-1);if(_<1)throw new Ee(ne.EINVAL,"Invalid mode.");He(this.root).chmodSync(tt(d),!0,_)},rt.prototype.utimes=function(d,k,_,Ae){Ae===void 0&&(Ae=vt);var qe=We(Ae,1);try{He(this.root).utimes(tt(d),ot(k),ot(_),qe)}catch(Me){qe(Me)}},rt.prototype.utimesSync=function(d,k,_){He(this.root).utimesSync(tt(d),ot(k),ot(_))},rt.prototype.realpath=function(d,k,_){_===void 0&&(_=vt);var Ae=typeof k=="object"?k:{};_=typeof k=="function"?k:vt;var qe=We(_,2);try{d=tt(d),He(this.root).realpath(d,Ae,qe)}catch(Me){qe(Me)}},rt.prototype.realpathSync=function(d,k){return k===void 0&&(k={}),d=tt(d),He(this.root).realpathSync(d,k)},rt.prototype.watchFile=function(d,k,_){throw new Ee(ne.ENOTSUP)},rt.prototype.unwatchFile=function(d,k){throw new Ee(ne.ENOTSUP)},rt.prototype.watch=function(d,k,_){throw new Ee(ne.ENOTSUP)},rt.prototype.access=function(d,k,_){throw new Ee(ne.ENOTSUP)},rt.prototype.accessSync=function(d,k){throw new Ee(ne.ENOTSUP)},rt.prototype.createReadStream=function(d,k){throw new Ee(ne.ENOTSUP)},rt.prototype.createWriteStream=function(d,k){throw new Ee(ne.ENOTSUP)},rt.prototype.wrapCallbacks=function(d){We=d},rt.prototype.getFdForFile=function(d){var k=this.nextFd++;return this.fdMap[k]=d,k},rt.prototype.fd2file=function(d){var k=this.fdMap[d];if(k)return k;throw new Ee(ne.EBADF,"Invalid file descriptor.")},rt.prototype.closeFd=function(d){delete this.fdMap[d]},rt.Stats=Ue;var ht=new rt,it={},mt=rt.prototype;Object.keys(mt).forEach(function(_e){typeof ht[_e]=="function"?it[_e]=function(){return ht[_e].apply(ht,arguments)}:it[_e]=ht[_e]}),it.changeFSModule=function(_e){ht=_e},it.getFSModule=function(){return ht},it.FS=rt;function Ze(_e,d,k,_,Ae){return _e<d||k<d?_e>k?k+1:_e+1:_===Ae?d:d+1}function Ft(_e,d){if(_e===d)return 0;if(_e.length>d.length){var k=_e;_e=d,d=k}for(var _=_e.length,Ae=d.length;_>0&&_e.charCodeAt(_-1)===d.charCodeAt(Ae-1);)_--,Ae--;for(var qe=0;qe<_&&_e.charCodeAt(qe)===d.charCodeAt(qe);)qe++;if(_-=qe,Ae-=qe,_===0||Ae===1)return Ae;for(var Me=new Array(_<<1),Ge=0;Ge<_;)Me[_+Ge]=_e.charCodeAt(qe+Ge),Me[Ge]=++Ge;var et,ft,kt,Ht,ir;for(et=0;et+3<Ae;)for(var _r=d.charCodeAt(qe+(ft=et)),vr=d.charCodeAt(qe+(kt=et+1)),qr=d.charCodeAt(qe+(Ht=et+2)),jr=d.charCodeAt(qe+(ir=et+3)),Wr=et+=4,En=0;En<_;){var Mn=Me[_+En],Ri=Me[En];ft=Ze(Ri,ft,kt,_r,Mn),kt=Ze(ft,kt,Ht,vr,Mn),Ht=Ze(kt,Ht,ir,qr,Mn),Wr=Ze(Ht,ir,Wr,jr,Mn),Me[En++]=Wr,ir=Ht,Ht=kt,kt=ft,ft=Ri}for(var Fi=0;et<Ae;){var So=d.charCodeAt(qe+(ft=et));Fi=++et;for(var Hi=0;Hi<_;Hi++){var Wi=Me[Hi];Me[Hi]=Fi=Wi<ft||Fi<ft?Wi>Fi?Fi+1:Wi+1:So===Me[_+Hi]?ft:ft+1,ft=Wi}}return Fi}function Zt(_e,d,k){_e&&console.warn("["+d+"] Direct file system constructor usage is deprecated for this file system, and will be removed in the next major version. Please use the '"+d+".Create("+JSON.stringify(k)+", callback)' method instead. See https://github.com/jvilk/BrowserFS/issues/176 for more details.")}var jt=typeof navigator<"u"&&!!(/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||navigator.userAgent.indexOf("Trident")!==-1),cr=typeof window>"u";function bt(){throw new Error("BFS has reached an impossible code path; please file a bug.")}function St(_e,d,k){k.existsSync(_e)||(St(Oe.dirname(_e),d,k),k.mkdirSync(_e,d))}function ct(_e){var d=dt(_e),k=d.byteOffset,_=d.byteLength;return k===0&&_===d.buffer.byteLength?d.buffer:d.buffer.slice(k,k+_)}function dt(_e){return _e instanceof Uint8Array?_e:new Uint8Array(_e)}function Pt(_e){return _e instanceof f?_e:_e instanceof Uint8Array?Ct(_e):f.from(_e)}function Ct(_e){return _e instanceof f?_e:_e.byteOffset===0&&_e.byteLength===_e.buffer.byteLength?Kt(_e.buffer):f.from(_e.buffer,_e.byteOffset,_e.byteLength)}function Kt(_e){return f.from(_e)}function fr(_e,d,k){if(d===void 0&&(d=0),k===void 0&&(k=_e.length),d<0||k<0||k>_e.length||d>k)throw new TypeError("Invalid slice bounds on buffer of length "+_e.length+": ["+d+", "+k+"]");if(_e.length===0)return sr();var _=dt(_e),Ae=_e[0],qe=(Ae+1)%255;return _e[0]=qe,_[0]===qe?(_[0]=Ae,Ct(_.slice(d,k))):(_e[0]=Ae,Ct(_.subarray(d,k)))}var Rr=null;function sr(){return Rr||(Rr=f.alloc(0))}function lt(_e,d){f.isBuffer(_e)?d():d(new Ee(ne.EINVAL,"option must be a Buffer."))}function yt(_e,d,k){var _=_e.Options,Ae=_e.Name,qe=0,Me=!1,Ge=!1;function et(ir){Me||(ir&&(Me=!0,k(ir)),qe--,qe===0&&Ge&&k())}var ft=function(ir){if(_.hasOwnProperty(ir)){var _r=_[ir],vr=d[ir];if(vr==null){if(!_r.optional){var qr=Object.keys(d).filter(function(Wr){return!(Wr in _)}).map(function(Wr){return{str:Wr,distance:Ft(ir,Wr)}}).filter(function(Wr){return Wr.distance<5}).sort(function(Wr,En){return Wr.distance-En.distance});return Me?{}:(Me=!0,{v:k(new Ee(ne.EINVAL,"["+Ae+"] Required option '"+ir+"' not provided."+(qr.length>0?" You provided unrecognized option '"+qr[0].str+"'; perhaps you meant to type '"+ir+"'.":"")+`
Option description: `+_r.description))})}}else{var jr=!1;if(Array.isArray(_r.type)?jr=_r.type.indexOf(typeof vr)!==-1:jr=typeof vr===_r.type,jr)_r.validator&&(qe++,_r.validator(vr,et));else return Me?{}:(Me=!0,{v:k(new Ee(ne.EINVAL,"["+Ae+"] Value provided for option "+ir+" is not the proper type. Expected "+(Array.isArray(_r.type)?"one of {"+_r.type.join(", ")+"}":_r.type)+", but received "+typeof vr+`
Option description: `+_r.description))})}}};for(var kt in _){var Ht=ft(kt);if(Ht)return Ht.v}Ge=!0,qe===0&&!Me&&k()}var Xt=Object.freeze({deprecationMessage:Zt,isIE:jt,isWebWorker:cr,fail:bt,mkdirpSync:St,buffer2ArrayBuffer:ct,buffer2Uint8array:dt,arrayish2Buffer:Pt,uint8Array2Buffer:Ct,arrayBuffer2Buffer:Kt,copyingSlice:fr,emptyBuffer:sr,bufferValidator:lt,checkOptions:yt}),$t=function(d){this.fs=d,this.nodefs=d.getNodeFS(),this.FS=d.getFS(),this.PATH=d.getPATH(),this.ERRNO_CODES=d.getERRNO_CODES()};$t.prototype.open=function(d){var k=this.fs.realPath(d.node),_=this.FS;try{_.isFile(d.node.mode)&&(d.nfd=this.nodefs.openSync(k,this.fs.flagsToPermissionString(d.flags)))}catch(Ae){throw Ae.code?new _.ErrnoError(this.ERRNO_CODES[Ae.code]):Ae}},$t.prototype.close=function(d){var k=this.FS;try{k.isFile(d.node.mode)&&d.nfd&&this.nodefs.closeSync(d.nfd)}catch(_){throw _.code?new k.ErrnoError(this.ERRNO_CODES[_.code]):_}},$t.prototype.read=function(d,k,_,Ae,qe){try{return this.nodefs.readSync(d.nfd,Ct(k),_,Ae,qe)}catch(Me){throw new this.FS.ErrnoError(this.ERRNO_CODES[Me.code])}},$t.prototype.write=function(d,k,_,Ae,qe){try{return this.nodefs.writeSync(d.nfd,Ct(k),_,Ae,qe)}catch(Me){throw new this.FS.ErrnoError(this.ERRNO_CODES[Me.code])}},$t.prototype.llseek=function(d,k,_){var Ae=k;if(_===1)Ae+=d.position;else if(_===2&&this.FS.isFile(d.node.mode))try{var qe=this.nodefs.fstatSync(d.nfd);Ae+=qe.size}catch(Me){throw new this.FS.ErrnoError(this.ERRNO_CODES[Me.code])}if(Ae<0)throw new this.FS.ErrnoError(this.ERRNO_CODES.EINVAL);return d.position=Ae,Ae};var dr=function(d){this.fs=d,this.nodefs=d.getNodeFS(),this.FS=d.getFS(),this.PATH=d.getPATH(),this.ERRNO_CODES=d.getERRNO_CODES()};dr.prototype.getattr=function(d){var k=this.fs.realPath(d),_;try{_=this.nodefs.lstatSync(k)}catch(Ae){throw Ae.code?new this.FS.ErrnoError(this.ERRNO_CODES[Ae.code]):Ae}return{dev:_.dev,ino:_.ino,mode:_.mode,nlink:_.nlink,uid:_.uid,gid:_.gid,rdev:_.rdev,size:_.size,atime:_.atime,mtime:_.mtime,ctime:_.ctime,blksize:_.blksize,blocks:_.blocks}},dr.prototype.setattr=function(d,k){var _=this.fs.realPath(d);try{if(k.mode!==void 0&&(this.nodefs.chmodSync(_,k.mode),d.mode=k.mode),k.timestamp!==void 0){var Ae=new Date(k.timestamp);this.nodefs.utimesSync(_,Ae,Ae)}}catch(qe){if(!qe.code)throw qe;if(qe.code!=="ENOTSUP")throw new this.FS.ErrnoError(this.ERRNO_CODES[qe.code])}if(k.size!==void 0)try{this.nodefs.truncateSync(_,k.size)}catch(qe){throw qe.code?new this.FS.ErrnoError(this.ERRNO_CODES[qe.code]):qe}},dr.prototype.lookup=function(d,k){var _=this.PATH.join2(this.fs.realPath(d),k),Ae=this.fs.getMode(_);return this.fs.createNode(d,k,Ae)},dr.prototype.mknod=function(d,k,_,Ae){var qe=this.fs.createNode(d,k,_,Ae),Me=this.fs.realPath(qe);try{this.FS.isDir(qe.mode)?this.nodefs.mkdirSync(Me,qe.mode):this.nodefs.writeFileSync(Me,"",{mode:qe.mode})}catch(Ge){throw Ge.code?new this.FS.ErrnoError(this.ERRNO_CODES[Ge.code]):Ge}return qe},dr.prototype.rename=function(d,k,_){var Ae=this.fs.realPath(d),qe=this.PATH.join2(this.fs.realPath(k),_);try{this.nodefs.renameSync(Ae,qe),d.name=_,d.parent=k}catch(Me){throw Me.code?new this.FS.ErrnoError(this.ERRNO_CODES[Me.code]):Me}},dr.prototype.unlink=function(d,k){var _=this.PATH.join2(this.fs.realPath(d),k);try{this.nodefs.unlinkSync(_)}catch(Ae){throw Ae.code?new this.FS.ErrnoError(this.ERRNO_CODES[Ae.code]):Ae}},dr.prototype.rmdir=function(d,k){var _=this.PATH.join2(this.fs.realPath(d),k);try{this.nodefs.rmdirSync(_)}catch(Ae){throw Ae.code?new this.FS.ErrnoError(this.ERRNO_CODES[Ae.code]):Ae}},dr.prototype.readdir=function(d){var k=this.fs.realPath(d);try{var _=this.nodefs.readdirSync(k);return _.push(".",".."),_}catch(Ae){throw Ae.code?new this.FS.ErrnoError(this.ERRNO_CODES[Ae.code]):Ae}},dr.prototype.symlink=function(d,k,_){var Ae=this.PATH.join2(this.fs.realPath(d),k);try{this.nodefs.symlinkSync(_,Ae)}catch(qe){throw qe.code?new this.FS.ErrnoError(this.ERRNO_CODES[qe.code]):qe}},dr.prototype.readlink=function(d){var k=this.fs.realPath(d);try{return this.nodefs.readlinkSync(k)}catch(_){throw _.code?new this.FS.ErrnoError(this.ERRNO_CODES[_.code]):_}};var Je=function(d,k,_,Ae){d===void 0&&(d=self.FS),k===void 0&&(k=self.PATH),_===void 0&&(_=self.ERRNO_CODES),Ae===void 0&&(Ae=it),this.flagsToPermissionStringMap={0:"r",1:"r+",2:"r+",64:"r",65:"r+",66:"r+",129:"rx+",193:"rx+",514:"w+",577:"w",578:"w+",705:"wx",706:"wx+",1024:"a",1025:"a",1026:"a+",1089:"a",1090:"a+",1153:"ax",1154:"ax+",1217:"ax",1218:"ax+",4096:"rs",4098:"rs+"},this.nodefs=Ae,this.FS=d,this.PATH=k,this.ERRNO_CODES=_,this.node_ops=new dr(this),this.stream_ops=new $t(this)};Je.prototype.mount=function(d){return this.createNode(null,"/",this.getMode(d.opts.root),0)},Je.prototype.createNode=function(d,k,_,Ae){var qe=this.FS;if(!qe.isDir(_)&&!qe.isFile(_)&&!qe.isLink(_))throw new qe.ErrnoError(this.ERRNO_CODES.EINVAL);var Me=qe.createNode(d,k,_);return Me.node_ops=this.node_ops,Me.stream_ops=this.stream_ops,Me},Je.prototype.getMode=function(d){var k;try{k=this.nodefs.lstatSync(d)}catch(_){throw _.code?new this.FS.ErrnoError(this.ERRNO_CODES[_.code]):_}return k.mode},Je.prototype.realPath=function(d){for(var k=[];d.parent!==d;)k.push(d.name),d=d.parent;return k.push(d.mount.opts.root),k.reverse(),this.PATH.join.apply(null,k)},Je.prototype.flagsToPermissionString=function(d){var k=typeof d=="string"?parseInt(d,10):d;return k&=8191,k in this.flagsToPermissionStringMap?this.flagsToPermissionStringMap[k]:d},Je.prototype.getNodeFS=function(){return this.nodefs},Je.prototype.getFS=function(){return this.FS},Je.prototype.getPATH=function(){return this.PATH},Je.prototype.getERRNO_CODES=function(){return this.ERRNO_CODES};var At=function(){};At.prototype.supportsLinks=function(){return!1},At.prototype.diskSpace=function(d,k){k(0,0)},At.prototype.openFile=function(d,k,_){throw new Ee(ne.ENOTSUP)},At.prototype.createFile=function(d,k,_,Ae){throw new Ee(ne.ENOTSUP)},At.prototype.open=function(d,k,_,Ae){var qe=this,Me=function(Ge,et){if(Ge)switch(k.pathNotExistsAction()){case Fe.CREATE_FILE:return qe.stat(Oe.dirname(d),!1,function(ft,kt){ft?Ae(ft):kt&&!kt.isDirectory()?Ae(Ee.ENOTDIR(Oe.dirname(d))):qe.createFile(d,k,_,Ae)});case Fe.THROW_EXCEPTION:return Ae(Ee.ENOENT(d));default:return Ae(new Ee(ne.EINVAL,"Invalid FileFlag object."))}else{if(et&&et.isDirectory())return Ae(Ee.EISDIR(d));switch(k.pathExistsAction()){case Fe.THROW_EXCEPTION:return Ae(Ee.EEXIST(d));case Fe.TRUNCATE_FILE:return qe.openFile(d,k,function(ft,kt){ft?Ae(ft):kt?kt.truncate(0,function(){kt.sync(function(){Ae(null,kt)})}):bt()});case Fe.NOP:return qe.openFile(d,k,Ae);default:return Ae(new Ee(ne.EINVAL,"Invalid FileFlag object."))}}};this.stat(d,!1,Me)},At.prototype.rename=function(d,k,_){_(new Ee(ne.ENOTSUP))},At.prototype.renameSync=function(d,k){throw new Ee(ne.ENOTSUP)},At.prototype.stat=function(d,k,_){_(new Ee(ne.ENOTSUP))},At.prototype.statSync=function(d,k){throw new Ee(ne.ENOTSUP)},At.prototype.openFileSync=function(d,k,_){throw new Ee(ne.ENOTSUP)},At.prototype.createFileSync=function(d,k,_){throw new Ee(ne.ENOTSUP)},At.prototype.openSync=function(d,k,_){var Ae;try{Ae=this.statSync(d,!1)}catch{switch(k.pathNotExistsAction()){case Fe.CREATE_FILE:var qe=this.statSync(Oe.dirname(d),!1);if(!qe.isDirectory())throw Ee.ENOTDIR(Oe.dirname(d));return this.createFileSync(d,k,_);case Fe.THROW_EXCEPTION:throw Ee.ENOENT(d);default:throw new Ee(ne.EINVAL,"Invalid FileFlag object.")}}if(Ae.isDirectory())throw Ee.EISDIR(d);switch(k.pathExistsAction()){case Fe.THROW_EXCEPTION:throw Ee.EEXIST(d);case Fe.TRUNCATE_FILE:return this.unlinkSync(d),this.createFileSync(d,k,Ae.mode);case Fe.NOP:return this.openFileSync(d,k,_);default:throw new Ee(ne.EINVAL,"Invalid FileFlag object.")}},At.prototype.unlink=function(d,k){k(new Ee(ne.ENOTSUP))},At.prototype.unlinkSync=function(d){throw new Ee(ne.ENOTSUP)},At.prototype.rmdir=function(d,k){k(new Ee(ne.ENOTSUP))},At.prototype.rmdirSync=function(d){throw new Ee(ne.ENOTSUP)},At.prototype.mkdir=function(d,k,_){_(new Ee(ne.ENOTSUP))},At.prototype.mkdirSync=function(d,k){throw new Ee(ne.ENOTSUP)},At.prototype.readdir=function(d,k){k(new Ee(ne.ENOTSUP))},At.prototype.readdirSync=function(d){throw new Ee(ne.ENOTSUP)},At.prototype.exists=function(d,k){this.stat(d,null,function(_){k(!_)})},At.prototype.existsSync=function(d){try{return this.statSync(d,!0),!0}catch{return!1}},At.prototype.realpath=function(d,k,_){if(this.supportsLinks())for(var Ae=d.split(Oe.sep),qe=0;qe<Ae.length;qe++){var Me=Ae.slice(0,qe+1);Ae[qe]=Oe.join.apply(null,Me)}else this.exists(d,function(Ge){Ge?_(null,d):_(Ee.ENOENT(d))})},At.prototype.realpathSync=function(d,k){if(this.supportsLinks()){for(var _=d.split(Oe.sep),Ae=0;Ae<_.length;Ae++){var qe=_.slice(0,Ae+1);_[Ae]=Oe.join.apply(Oe,qe)}return _.join(Oe.sep)}else{if(this.existsSync(d))return d;throw Ee.ENOENT(d)}},At.prototype.truncate=function(d,k,_){this.open(d,Ne.getFileFlag("r+"),420,function(Ae,qe){if(Ae)return _(Ae);qe.truncate(k,function(Me){qe.close(function(Ge){_(Me||Ge)})})})},At.prototype.truncateSync=function(d,k){var _=this.openSync(d,Ne.getFileFlag("r+"),420);try{_.truncateSync(k)}catch(Ae){throw Ae}finally{_.closeSync()}},At.prototype.readFile=function(d,k,_,Ae){var qe=Ae;this.open(d,_,420,function(Me,Ge){if(Me)return Ae(Me);Ae=function(et,ft){Ge.close(function(kt){return et||(et=kt),qe(et,ft)})},Ge.stat(function(et,ft){if(et)return Ae(et);var kt=f.alloc(ft.size);Ge.read(kt,0,ft.size,0,function(Ht){if(Ht)return Ae(Ht);if(k===null)return Ae(Ht,kt);try{Ae(null,kt.toString(k))}catch(ir){Ae(ir)}})})})},At.prototype.readFileSync=function(d,k,_){var Ae=this.openSync(d,_,420);try{var qe=Ae.statSync(),Me=f.alloc(qe.size);return Ae.readSync(Me,0,qe.size,0),Ae.closeSync(),k===null?Me:Me.toString(k)}finally{Ae.closeSync()}},At.prototype.writeFile=function(d,k,_,Ae,qe,Me){var Ge=Me;this.open(d,Ae,420,function(et,ft){if(et)return Me(et);Me=function(kt){ft.close(function(Ht){Ge(kt||Ht)})};try{typeof k=="string"&&(k=f.from(k,_))}catch(kt){return Me(kt)}ft.write(k,0,k.length,0,Me)})},At.prototype.writeFileSync=function(d,k,_,Ae,qe){var Me=this.openSync(d,Ae,qe);try{typeof k=="string"&&(k=f.from(k,_)),Me.writeSync(k,0,k.length,0)}finally{Me.closeSync()}},At.prototype.appendFile=function(d,k,_,Ae,qe,Me){var Ge=Me;this.open(d,Ae,qe,function(et,ft){if(et)return Me(et);Me=function(kt){ft.close(function(Ht){Ge(kt||Ht)})},typeof k=="string"&&(k=f.from(k,_)),ft.write(k,0,k.length,null,Me)})},At.prototype.appendFileSync=function(d,k,_,Ae,qe){var Me=this.openSync(d,Ae,qe);try{typeof k=="string"&&(k=f.from(k,_)),Me.writeSync(k,0,k.length,null)}finally{Me.closeSync()}},At.prototype.chmod=function(d,k,_,Ae){Ae(new Ee(ne.ENOTSUP))},At.prototype.chmodSync=function(d,k,_){throw new Ee(ne.ENOTSUP)},At.prototype.chown=function(d,k,_,Ae,qe){qe(new Ee(ne.ENOTSUP))},At.prototype.chownSync=function(d,k,_,Ae){throw new Ee(ne.ENOTSUP)},At.prototype.utimes=function(d,k,_,Ae){Ae(new Ee(ne.ENOTSUP))},At.prototype.utimesSync=function(d,k,_){throw new Ee(ne.ENOTSUP)},At.prototype.link=function(d,k,_){_(new Ee(ne.ENOTSUP))},At.prototype.linkSync=function(d,k){throw new Ee(ne.ENOTSUP)},At.prototype.symlink=function(d,k,_,Ae){Ae(new Ee(ne.ENOTSUP))},At.prototype.symlinkSync=function(d,k,_){throw new Ee(ne.ENOTSUP)},At.prototype.readlink=function(d,k){k(new Ee(ne.ENOTSUP))},At.prototype.readlinkSync=function(d){throw new Ee(ne.ENOTSUP)};var Wt=function(_e){function d(){_e.apply(this,arguments)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.supportsSynch=function(){return!0},d.prototype.rename=function(_,Ae,qe){try{this.renameSync(_,Ae),qe()}catch(Me){qe(Me)}},d.prototype.stat=function(_,Ae,qe){try{qe(null,this.statSync(_,Ae))}catch(Me){qe(Me)}},d.prototype.open=function(_,Ae,qe,Me){try{Me(null,this.openSync(_,Ae,qe))}catch(Ge){Me(Ge)}},d.prototype.unlink=function(_,Ae){try{this.unlinkSync(_),Ae()}catch(qe){Ae(qe)}},d.prototype.rmdir=function(_,Ae){try{this.rmdirSync(_),Ae()}catch(qe){Ae(qe)}},d.prototype.mkdir=function(_,Ae,qe){try{this.mkdirSync(_,Ae),qe()}catch(Me){qe(Me)}},d.prototype.readdir=function(_,Ae){try{Ae(null,this.readdirSync(_))}catch(qe){Ae(qe)}},d.prototype.chmod=function(_,Ae,qe,Me){try{this.chmodSync(_,Ae,qe),Me()}catch(Ge){Me(Ge)}},d.prototype.chown=function(_,Ae,qe,Me,Ge){try{this.chownSync(_,Ae,qe,Me),Ge()}catch(et){Ge(et)}},d.prototype.utimes=function(_,Ae,qe,Me){try{this.utimesSync(_,Ae,qe),Me()}catch(Ge){Me(Ge)}},d.prototype.link=function(_,Ae,qe){try{this.linkSync(_,Ae),qe()}catch(Me){qe(Me)}},d.prototype.symlink=function(_,Ae,qe,Me){try{this.symlinkSync(_,Ae,qe),Me()}catch(Ge){Me(Ge)}},d.prototype.readlink=function(_,Ae){try{Ae(null,this.readlinkSync(_))}catch(qe){Ae(qe)}},d}(At),xt=function(){};xt.prototype.sync=function(d){d(new Ee(ne.ENOTSUP))},xt.prototype.syncSync=function(){throw new Ee(ne.ENOTSUP)},xt.prototype.datasync=function(d){this.sync(d)},xt.prototype.datasyncSync=function(){return this.syncSync()},xt.prototype.chown=function(d,k,_){_(new Ee(ne.ENOTSUP))},xt.prototype.chownSync=function(d,k){throw new Ee(ne.ENOTSUP)},xt.prototype.chmod=function(d,k){k(new Ee(ne.ENOTSUP))},xt.prototype.chmodSync=function(d){throw new Ee(ne.ENOTSUP)},xt.prototype.utimes=function(d,k,_){_(new Ee(ne.ENOTSUP))},xt.prototype.utimesSync=function(d,k){throw new Ee(ne.ENOTSUP)};var pt=function(_e){function d(k,_,Ae,qe,Me){if(_e.call(this),this._pos=0,this._dirty=!1,this._fs=k,this._path=_,this._flag=Ae,this._stat=qe,Me?this._buffer=Me:this._buffer=sr(),this._stat.size!==this._buffer.length&&this._flag.isReadable())throw new Error("Invalid buffer: Buffer is "+this._buffer.length+" long, yet Stats object specifies that file is "+this._stat.size+" long.")}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.getBuffer=function(){return this._buffer},d.prototype.getStats=function(){return this._stat},d.prototype.getFlag=function(){return this._flag},d.prototype.getPath=function(){return this._path},d.prototype.getPos=function(){return this._flag.isAppendable()?this._stat.size:this._pos},d.prototype.advancePos=function(_){return this._pos+=_},d.prototype.setPos=function(_){return this._pos=_},d.prototype.sync=function(_){try{this.syncSync(),_()}catch(Ae){_(Ae)}},d.prototype.syncSync=function(){throw new Ee(ne.ENOTSUP)},d.prototype.close=function(_){try{this.closeSync(),_()}catch(Ae){_(Ae)}},d.prototype.closeSync=function(){throw new Ee(ne.ENOTSUP)},d.prototype.stat=function(_){try{_(null,this._stat.clone())}catch(Ae){_(Ae)}},d.prototype.statSync=function(){return this._stat.clone()},d.prototype.truncate=function(_,Ae){try{this.truncateSync(_),this._flag.isSynchronous()&&!it.getRootFS().supportsSynch()&&this.sync(Ae),Ae()}catch(qe){return Ae(qe)}},d.prototype.truncateSync=function(_){if(this._dirty=!0,!this._flag.isWriteable())throw new Ee(ne.EPERM,"File not opened with a writeable mode.");if(this._stat.mtime=new Date,_>this._buffer.length){var Ae=f.alloc(_-this._buffer.length,0);this.writeSync(Ae,0,Ae.length,this._buffer.length),this._flag.isSynchronous()&&it.getRootFS().supportsSynch()&&this.syncSync();return}this._stat.size=_;var qe=f.alloc(_);this._buffer.copy(qe,0,0,_),this._buffer=qe,this._flag.isSynchronous()&&it.getRootFS().supportsSynch()&&this.syncSync()},d.prototype.write=function(_,Ae,qe,Me,Ge){try{Ge(null,this.writeSync(_,Ae,qe,Me),_)}catch(et){Ge(et)}},d.prototype.writeSync=function(_,Ae,qe,Me){if(this._dirty=!0,Me==null&&(Me=this.getPos()),!this._flag.isWriteable())throw new Ee(ne.EPERM,"File not opened with a writeable mode.");var Ge=Me+qe;if(Ge>this._stat.size&&(this._stat.size=Ge,Ge>this._buffer.length)){var et=f.alloc(Ge);this._buffer.copy(et),this._buffer=et}var ft=_.copy(this._buffer,Me,Ae,Ae+qe);return this._stat.mtime=new Date,this._flag.isSynchronous()?(this.syncSync(),ft):(this.setPos(Me+ft),ft)},d.prototype.read=function(_,Ae,qe,Me,Ge){try{Ge(null,this.readSync(_,Ae,qe,Me),_)}catch(et){Ge(et)}},d.prototype.readSync=function(_,Ae,qe,Me){if(!this._flag.isReadable())throw new Ee(ne.EPERM,"File not opened with a readable mode.");Me==null&&(Me=this.getPos());var Ge=Me+qe;Ge>this._stat.size&&(qe=this._stat.size-Me);var et=this._buffer.copy(_,Ae,Me,Me+qe);return this._stat.atime=new Date,this._pos=Me+qe,et},d.prototype.chmod=function(_,Ae){try{this.chmodSync(_),Ae()}catch(qe){Ae(qe)}},d.prototype.chmodSync=function(_){if(!this._fs.supportsProps())throw new Ee(ne.ENOTSUP);this._dirty=!0,this._stat.chmod(_),this.syncSync()},d.prototype.isDirty=function(){return this._dirty},d.prototype.resetDirty=function(){this._dirty=!1},d}(xt),Dt=function(_e){function d(k,_,Ae,qe,Me){_e.call(this,k,_,Ae,qe,Me)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.sync=function(_){_()},d.prototype.syncSync=function(){},d.prototype.close=function(_){_()},d.prototype.closeSync=function(){},d}(pt),er=function(_e){function d(k,_,Ae,qe,Me){_e.call(this,k,_,Ae,qe,Me)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},d.prototype.closeSync=function(){this.syncSync()},d}(pt),nt=function(_e){function d(k,_,Ae){if(Ae===void 0&&(Ae=!0),_e.call(this),this._queue=[],this._queueRunning=!1,this._isInitialized=!1,this._initializeCallbacks=[],this._sync=k,this._async=_,!k.supportsSynch())throw new Error("The first argument to AsyncMirror needs to be a synchronous file system.");Zt(Ae,d.Name,{sync:"sync file system instance",async:"async file system instance"})}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.Create=function(_,Ae){try{var qe=new d(_.sync,_.async,!1);qe.initialize(function(Me){Me?Ae(Me):Ae(null,qe)},!1)}catch(Me){Ae(Me)}},d.isAvailable=function(){return!0},d.prototype.getName=function(){return d.Name},d.prototype._syncSync=function(_){this._sync.writeFileSync(_.getPath(),_.getBuffer(),null,Ne.getFileFlag("w"),_.getStats().mode),this.enqueueOp({apiMethod:"writeFile",arguments:[_.getPath(),_.getBuffer(),null,_.getFlag(),_.getStats().mode]})},d.prototype.initialize=function(_,Ae){var qe=this;Ae===void 0&&(Ae=!0),Ae&&console.warn("[AsyncMirror] AsyncMirror.initialize() is deprecated and will be removed in the next major version. Please use 'AsyncMirror.Create({ sync: (sync file system instance), async: (async file system instance)}, cb)' to create and initialize AsyncMirror instances.");var Me=this._initializeCallbacks,Ge=function(Ht){qe._isInitialized=!Ht,qe._initializeCallbacks=[],Me.forEach(function(ir){return ir(Ht)})};if(this._isInitialized)_();else if(Me.push(_)===1){var et=function(Ht,ir,_r){Ht!=="/"&&qe._sync.mkdirSync(Ht,ir),qe._async.readdir(Ht,function(vr,qr){var jr=0;function Wr(En){En?_r(En):jr<qr.length?(kt(Oe.join(Ht,qr[jr]),Wr),jr++):_r()}vr?_r(vr):Wr()})},ft=function(Ht,ir,_r){qe._async.readFile(Ht,null,Ne.getFileFlag("r"),function(vr,qr){if(vr)_r(vr);else try{qe._sync.writeFileSync(Ht,qr,null,Ne.getFileFlag("w"),ir)}catch(jr){vr=jr}finally{_r(vr)}})},kt=function(Ht,ir){qe._async.stat(Ht,!1,function(_r,vr){_r?ir(_r):vr.isDirectory()?et(Ht,vr.mode,ir):ft(Ht,vr.mode,ir)})};et("/",0,Ge)}},d.prototype.isReadOnly=function(){return!1},d.prototype.supportsSynch=function(){return!0},d.prototype.supportsLinks=function(){return!1},d.prototype.supportsProps=function(){return this._sync.supportsProps()&&this._async.supportsProps()},d.prototype.renameSync=function(_,Ae){this.checkInitialized(),this._sync.renameSync(_,Ae),this.enqueueOp({apiMethod:"rename",arguments:[_,Ae]})},d.prototype.statSync=function(_,Ae){return this.checkInitialized(),this._sync.statSync(_,Ae)},d.prototype.openSync=function(_,Ae,qe){this.checkInitialized();var Me=this._sync.openSync(_,Ae,qe);return Me.closeSync(),new er(this,_,Ae,this._sync.statSync(_,!1),this._sync.readFileSync(_,null,Ne.getFileFlag("r")))},d.prototype.unlinkSync=function(_){this.checkInitialized(),this._sync.unlinkSync(_),this.enqueueOp({apiMethod:"unlink",arguments:[_]})},d.prototype.rmdirSync=function(_){this.checkInitialized(),this._sync.rmdirSync(_),this.enqueueOp({apiMethod:"rmdir",arguments:[_]})},d.prototype.mkdirSync=function(_,Ae){this.checkInitialized(),this._sync.mkdirSync(_,Ae),this.enqueueOp({apiMethod:"mkdir",arguments:[_,Ae]})},d.prototype.readdirSync=function(_){return this.checkInitialized(),this._sync.readdirSync(_)},d.prototype.existsSync=function(_){return this.checkInitialized(),this._sync.existsSync(_)},d.prototype.chmodSync=function(_,Ae,qe){this.checkInitialized(),this._sync.chmodSync(_,Ae,qe),this.enqueueOp({apiMethod:"chmod",arguments:[_,Ae,qe]})},d.prototype.chownSync=function(_,Ae,qe,Me){this.checkInitialized(),this._sync.chownSync(_,Ae,qe,Me),this.enqueueOp({apiMethod:"chown",arguments:[_,Ae,qe,Me]})},d.prototype.utimesSync=function(_,Ae,qe){this.checkInitialized(),this._sync.utimesSync(_,Ae,qe),this.enqueueOp({apiMethod:"utimes",arguments:[_,Ae,qe]})},d.prototype.checkInitialized=function(){if(!this._isInitialized)throw new Ee(ne.EPERM,"AsyncMirrorFS is not initialized. Please initialize AsyncMirrorFS using its initialize() method before using it.")},d.prototype.enqueueOp=function(_){var Ae=this;if(this._queue.push(_),!this._queueRunning){this._queueRunning=!0;var qe=function(Me){if(Me&&console.error("WARNING: File system has desynchronized. Received following error: "+Me+`
$`),Ae._queue.length>0){var Ge=Ae._queue.shift(),et=Ge.arguments;et.push(qe),Ae._async[Ge.apiMethod].apply(Ae._async,et)}else Ae._queueRunning=!1};qe()}},d}(Wt);nt.Name="AsyncMirror",nt.Options={sync:{type:"object",description:"The synchronous file system to mirror the asynchronous file system to."},async:{type:"object",description:"The asynchronous file system to mirror."}};function je(_e,d,k){switch(k.length){case 0:return _e.call(d);case 1:return _e.call(d,k[0]);case 2:return _e.call(d,k[0],k[1]);case 3:return _e.call(d,k[0],k[1],k[2])}return _e.apply(d,k)}var Ke=Math.max;function ut(_e,d,k){return d=Ke(d===void 0?_e.length-1:d,0),function(){for(var _=arguments,Ae=-1,qe=Ke(_.length-d,0),Me=Array(qe);++Ae<qe;)Me[Ae]=_[d+Ae];Ae=-1;for(var Ge=Array(d+1);++Ae<d;)Ge[Ae]=_[Ae];return Ge[d]=k(Me),je(_e,this,Ge)}}function Et(_e){return _e}function It(_e,d){return ut(_e,d,Et)}var zt=function(_e){return It(function(d){var k=d.pop();_e.call(this,d,k)})};function tr(_e){return It(function(d,k){var _=zt(function(Ae,qe){var Me=this;return _e(d,function(Ge,et){Ge.apply(Me,Ae.concat(et))},qe)});return k.length?_.apply(this,k):_})}var Sr=typeof m=="object"&&m&&m.Object===Object&&m,Lr=typeof self=="object"&&self&&self.Object===Object&&self,Br=Sr||Lr||Function("return this")(),Er=Br.Symbol,gr=Object.prototype,Qr=gr.hasOwnProperty,Cr=gr.toString,on=Er?Er.toStringTag:void 0;function Bn(_e){var d=Qr.call(_e,on),k=_e[on];try{_e[on]=void 0;var _=!0}catch{}var Ae=Cr.call(_e);return _&&(d?_e[on]=k:delete _e[on]),Ae}var Un=Object.prototype,wr=Un.toString;function Jt(_e){return wr.call(_e)}var yr="[object Null]",at="[object Undefined]",Or=Er?Er.toStringTag:void 0;function en(_e){return _e==null?_e===void 0?at:yr:Or&&Or in Object(_e)?Bn(_e):Jt(_e)}function kr(_e){var d=typeof _e;return _e!=null&&(d=="object"||d=="function")}var Pn="[object AsyncFunction]",Tr="[object Function]",un="[object GeneratorFunction]",or="[object Proxy]";function ar(_e){if(!kr(_e))return!1;var d=en(_e);return d==Tr||d==un||d==Pn||d==or}var Zr=9007199254740991;function Nr(_e){return typeof _e=="number"&&_e>-1&&_e%1==0&&_e<=Zr}function Dr(_e){return _e!=null&&Nr(_e.length)&&!ar(_e)}var Wn={};function jn(){}function ln(_e){return function(){if(_e!==null){var d=_e;_e=null,d.apply(this,arguments)}}}var Jr=typeof Symbol=="function"&&Symbol.iterator,dn=function(_e){return Jr&&_e[Jr]&&_e[Jr]()};function wn(_e,d){for(var k=-1,_=Array(_e);++k<_e;)_[k]=d(k);return _}function xn(_e){return _e!=null&&typeof _e=="object"}var vi="[object Arguments]";function Li(_e){return xn(_e)&&en(_e)==vi}var an=Object.prototype,Ln=an.hasOwnProperty,hn=an.propertyIsEnumerable,Qn=Li(function(){return arguments}())?Li:function(_e){return xn(_e)&&Ln.call(_e,"callee")&&!hn.call(_e,"callee")},zn=Array.isArray;function vn(){return!1}var Ai=typeof i=="object"&&i&&!i.nodeType&&i,li=Ai&&typeof g=="object"&&g&&!g.nodeType&&g,d0=li&&li.exports===Ai,Mi=d0?Br.Buffer:void 0,Qa=Mi?Mi.isBuffer:void 0,as=Qa||vn,ss=9007199254740991,Vi=/^(?:0|[1-9]\d*)$/;function x0(_e,d){return d=d??ss,!!d&&(typeof _e=="number"||Vi.test(_e))&&_e>-1&&_e%1==0&&_e<d}var Ja="[object Arguments]",h0="[object Array]",Xr="[object Boolean]",p0="[object Date]",_0="[object Error]",v0="[object Function]",pn="[object Map]",_a="[object Number]",va="[object Object]",Xi="[object RegExp]",cs="[object Set]",us="[object String]",Xa="[object WeakMap]",m0="[object ArrayBuffer]",Za="[object DataView]",g0="[object Float32Array]",mi="[object Float64Array]",ma="[object Int8Array]",y0="[object Int16Array]",Kc="[object Int32Array]",$r="[object Uint8Array]",ls="[object Uint8ClampedArray]",Yc="[object Uint16Array]",Gc="[object Uint32Array]",Gr={};Gr[g0]=Gr[mi]=Gr[ma]=Gr[y0]=Gr[Kc]=Gr[$r]=Gr[ls]=Gr[Yc]=Gr[Gc]=!0,Gr[Ja]=Gr[h0]=Gr[m0]=Gr[Xr]=Gr[Za]=Gr[p0]=Gr[_0]=Gr[v0]=Gr[pn]=Gr[_a]=Gr[va]=Gr[Xi]=Gr[cs]=Gr[us]=Gr[Xa]=!1;function Zi(_e){return xn(_e)&&Nr(_e.length)&&!!Gr[en(_e)]}function $a(_e){return function(d){return _e(d)}}var gi=typeof i=="object"&&i&&!i.nodeType&&i,fs=gi&&typeof g=="object"&&g&&!g.nodeType&&g,b0=fs&&fs.exports===gi,Sn=b0&&Sr.process,ni=function(){try{return Sn&&Sn.binding&&Sn.binding("util")}catch{}}(),$i=ni&&ni.isTypedArray,ga=$i?$a($i):Zi,ds=Object.prototype,Ii=ds.hasOwnProperty;function Qc(_e,d){var k=zn(_e),_=!k&&Qn(_e),Ae=!k&&!_&&as(_e),qe=!k&&!_&&!Ae&&ga(_e),Me=k||_||Ae||qe,Ge=Me?wn(_e.length,String):[],et=Ge.length;for(var ft in _e)Ii.call(_e,ft)&&!(Me&&(ft=="length"||Ae&&(ft=="offset"||ft=="parent")||qe&&(ft=="buffer"||ft=="byteLength"||ft=="byteOffset")||x0(ft,et)))&&Ge.push(ft);return Ge}var fi=Object.prototype;function xs(_e){var d=_e&&_e.constructor,k=typeof d=="function"&&d.prototype||fi;return _e===k}function E0(_e,d){return function(k){return _e(d(k))}}var hs=E0(Object.keys,Object),ya=Object.prototype,ps=ya.hasOwnProperty;function w0(_e){if(!xs(_e))return hs(_e);var d=[];for(var k in Object(_e))ps.call(_e,k)&&k!="constructor"&&d.push(k);return d}function Jc(_e){return Dr(_e)?Qc(_e):w0(_e)}function ba(_e){var d=-1,k=_e.length;return function(){return++d<k?{value:_e[d],key:d}:null}}function Xc(_e){var d=-1;return function(){var _=_e.next();return _.done?null:(d++,{value:_.value,key:d})}}function Zc(_e){var d=Jc(_e),k=-1,_=d.length;return function(){var qe=d[++k];return k<_?{value:_e[qe],key:qe}:null}}function eo(_e){if(Dr(_e))return ba(_e);var d=dn(_e);return d?Xc(d):Zc(_e)}function Ea(_e){return function(){if(_e===null)throw new Error("Callback was already called.");var d=_e;_e=null,d.apply(this,arguments)}}function to(_e){return function(d,k,_){if(_=ln(_||jn),_e<=0||!d)return _(null);var Ae=eo(d),qe=!1,Me=0;function Ge(ft,kt){if(Me-=1,ft)qe=!0,_(ft);else{if(kt===Wn||qe&&Me<=0)return qe=!0,_(null);et()}}function et(){for(;Me<_e&&!qe;){var ft=Ae();if(ft===null){qe=!0,Me<=0&&_(null);return}Me+=1,k(ft.value,ft.key,Ea(Ge))}}et()}}function S0(_e,d,k,_){to(d)(_e,k,_)}function _s(_e,d){return function(k,_,Ae){return _e(k,d,_,Ae)}}function $c(_e,d,k){k=ln(k||jn);var _=0,Ae=0,qe=_e.length;qe===0&&k(null);function Me(Ge,et){Ge?k(Ge):(++Ae===qe||et===Wn)&&k(null)}for(;_<qe;_++)d(_e[_],_,Ea(Me))}var vs=_s(S0,1/0),ro=function(_e,d,k){var _=Dr(_e)?$c:vs;_(_e,d,k)};function A0(_e){return function(d,k,_){return _e(ro,d,k,_)}}function wa(_e,d,k,_){_=_||jn,d=d||[];var Ae=[],qe=0;_e(d,function(Me,Ge,et){var ft=qe++;k(Me,function(kt,Ht){Ae[ft]=Ht,et(kt)})},function(Me){_(Me,Ae)})}var no=A0(wa);tr(no);function io(_e){return function(d,k,_,Ae){return _e(to(k),d,_,Ae)}}var I0=io(wa),eu=_s(I0,1);tr(eu),It(function(_e,d){return It(function(k){return _e.apply(null,d.concat(k))})});function ao(_e,d){for(var k=-1,_=_e==null?0:_e.length;++k<_&&d(_e[k],k,_e)!==!1;);return _e}var oo=typeof setImmediate=="function"&&setImmediate,so=typeof Te=="object"&&typeof Te.nextTick=="function";function co(_e){setTimeout(_e,0)}function uo(_e){return It(function(d,k){_e(function(){d.apply(null,k)})})}var Dn;oo?Dn=setImmediate:so?Dn=Te.nextTick:Dn=co,uo(Dn);var Sa=_s(S0,1);function Aa(_e,d,k,_){_=ln(_||jn),Sa(_e,function(Ae,qe,Me){k(d,Ae,function(Ge,et){d=et,Me(Ge)})},function(Ae){_(Ae,d)})}var C0=It(function(d){return It(function(k){var _=this,Ae=k[k.length-1];typeof Ae=="function"?k.pop():Ae=jn,Aa(d,k,function(qe,Me,Ge){Me.apply(_,qe.concat(It(function(et,ft){Ge(et,ft)})))},function(qe,Me){Ae.apply(_,[qe].concat(Me))})})});It(function(_e){return C0.apply(null,_e.reverse())}),It(function(_e){var d=[null].concat(_e);return zt(function(k,_){return _.apply(this,d)})});function Ia(_e){return It(function(d,k){d.apply(null,k.concat(It(function(_,Ae){typeof console=="object"&&(_?console.error&&console.error(_):console[_e]&&ao(Ae,function(qe){console[_e](qe)}))})))})}Ia("dir");function k0(_e){return function(d,k,_){return _e(d,_)}}function ms(_e,d,k){ro(_e,k0(d),k)}Ia("log");var Ui;so?Ui=Te.nextTick:oo?Ui=setImmediate:Ui=co,uo(Ui);var qn;function ji(){qn||(qn={},qn[Dropbox.ApiError.NETWORK_ERROR]=ne.EIO,qn[Dropbox.ApiError.INVALID_PARAM]=ne.EINVAL,qn[Dropbox.ApiError.INVALID_TOKEN]=ne.EPERM,qn[Dropbox.ApiError.OAUTH_ERROR]=ne.EPERM,qn[Dropbox.ApiError.NOT_FOUND]=ne.ENOENT,qn[Dropbox.ApiError.INVALID_METHOD]=ne.EINVAL,qn[Dropbox.ApiError.NOT_ACCEPTABLE]=ne.EINVAL,qn[Dropbox.ApiError.CONFLICT]=ne.EINVAL,qn[Dropbox.ApiError.RATE_LIMITED]=ne.EBUSY,qn[Dropbox.ApiError.SERVER_ERROR]=ne.EBUSY,qn[Dropbox.ApiError.OVER_QUOTA]=ne.ENOSPC)}function gs(_e){return _e&&_e.stat.isFile}function ys(_e){return _e&&_e.stat.isFolder}function lo(_e){return _e==null||typeof _e=="object"&&typeof _e.byteLength=="number"}var kn=function(d){this._cache={},this._client=d};kn.prototype.readdir=function(d,k){var _=this,Ae=this.getCachedDirInfo(d);this._wrap(function(qe){Ae!==null&&Ae.contents?_._client.readdir(d,{contentHash:Ae.stat.contentHash},qe):_._client.readdir(d,qe)},function(qe,Me,Ge,et){qe?qe.status===Dropbox.ApiError.NO_CONTENT&&Ae!==null?k(null,Ae.contents.slice(0)):k(qe):(_.updateCachedDirInfo(d,Ge,Me.slice(0)),et.forEach(function(ft){_.updateCachedInfo(Oe.join(d,ft.name),ft)}),k(null,Me))})},kn.prototype.remove=function(d,k){var _=this;this._wrap(function(Ae){_._client.remove(d,Ae)},function(Ae,qe){Ae||_.updateCachedInfo(d,qe),k(Ae)})},kn.prototype.move=function(d,k,_){var Ae=this;this._wrap(function(qe){Ae._client.move(d,k,qe)},function(qe,Me){qe||(Ae.deleteCachedInfo(d),Ae.updateCachedInfo(k,Me)),_(qe)})},kn.prototype.stat=function(d,k){var _=this;this._wrap(function(Ae){_._client.stat(d,Ae)},function(Ae,qe){Ae||_.updateCachedInfo(d,qe),k(Ae,qe)})},kn.prototype.readFile=function(d,k){var _=this,Ae=this.getCachedFileInfo(d);Ae!==null&&Ae.contents!==null?this.stat(d,function(qe,Me){qe?k(qe):Me.contentHash===Ae.stat.contentHash?k(qe,Ae.contents.slice(0),Ae.stat):_.readFile(d,k)}):this._wrap(function(qe){_._client.readFile(d,{arrayBuffer:!0},qe)},function(qe,Me,Ge){qe||_.updateCachedInfo(d,Ge,Me.slice(0)),k(qe,Me,Ge)})},kn.prototype.writeFile=function(d,k,_){var Ae=this;this._wrap(function(qe){Ae._client.writeFile(d,k,qe)},function(qe,Me){qe||Ae.updateCachedInfo(d,Me,k.slice(0)),_(qe,Me)})},kn.prototype.mkdir=function(d,k){var _=this;this._wrap(function(Ae){_._client.mkdir(d,Ae)},function(Ae,qe){Ae||_.updateCachedInfo(d,qe,[]),k(Ae)})},kn.prototype._wrap=function(d,k){var _=0,Ae=function(qe){var Me=2;if(qe&&3>++_)switch(qe.status){case Dropbox.ApiError.SERVER_ERROR:case Dropbox.ApiError.NETWORK_ERROR:case Dropbox.ApiError.RATE_LIMITED:setTimeout(function(){d(Ae)},Me*1e3);break;default:k.apply(null,arguments);break}else k.apply(null,arguments)};d(Ae)},kn.prototype.getCachedInfo=function(d){return this._cache[d.toLowerCase()]},kn.prototype.putCachedInfo=function(d,k){this._cache[d.toLowerCase()]=k},kn.prototype.deleteCachedInfo=function(d){delete this._cache[d.toLowerCase()]},kn.prototype.getCachedDirInfo=function(d){var k=this.getCachedInfo(d);return ys(k)?k:null},kn.prototype.getCachedFileInfo=function(d){var k=this.getCachedInfo(d);return gs(k)?k:null},kn.prototype.updateCachedDirInfo=function(d,k,_){_===void 0&&(_=null);var Ae=this.getCachedInfo(d);k.contentHash!==null&&(Ae===void 0||Ae.stat.contentHash!==k.contentHash)&&this.putCachedInfo(d,{stat:k,contents:_})},kn.prototype.updateCachedFileInfo=function(d,k,_){_===void 0&&(_=null);var Ae=this.getCachedInfo(d);k.versionTag!==null&&(Ae===void 0||Ae.stat.versionTag!==k.versionTag)&&this.putCachedInfo(d,{stat:k,contents:_})},kn.prototype.updateCachedInfo=function(d,k,_){_===void 0&&(_=null),k.isFile&&lo(_)?this.updateCachedFileInfo(d,k,_):k.isFolder&&Array.isArray(_)&&this.updateCachedDirInfo(d,k,_)};var O0=function(_e){function d(k,_,Ae,qe,Me){_e.call(this,k,_,Ae,qe,Me)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.sync=function(_){var Ae=this;if(this.isDirty()){var qe=this.getBuffer(),Me=ct(qe);this._fs._writeFileStrict(this.getPath(),Me,function(Ge){Ge||Ae.resetDirty(),_(Ge)})}else _()},d.prototype.close=function(_){this.sync(_)},d}(pt),fo=function(_e){function d(k,_){_===void 0&&(_=!0),_e.call(this),this._client=new kn(k),Zt(_,d.Name,{client:"authenticated dropbox client instance"}),ji()}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.Create=function(_,Ae){Ae(null,new d(_.client,!1))},d.isAvailable=function(){return typeof Dropbox<"u"},d.prototype.getName=function(){return d.Name},d.prototype.isReadOnly=function(){return!1},d.prototype.supportsSymlinks=function(){return!1},d.prototype.supportsProps=function(){return!1},d.prototype.supportsSynch=function(){return!1},d.prototype.empty=function(_){var Ae=this;this._client.readdir("/",function(qe,Me){if(qe)_(Ae.convert(qe,"/"));else{var Ge=function(ft,kt){var Ht=Oe.join("/",ft);Ae._client.remove(Ht,function(ir){kt(ir?Ae.convert(ir,Ht):null)})},et=function(ft){ft?_(ft):_()};ms(Me,Ge,et)}})},d.prototype.rename=function(_,Ae,qe){var Me=this;this._client.move(_,Ae,function(Ge){Ge?Me._client.stat(Ae,function(et,ft){if(et||ft.isFolder){var kt=Ge.response.error.indexOf(_)>-1?_:Ae;qe(Me.convert(Ge,kt))}else Me._client.remove(Ae,function(Ht){Ht?qe(Me.convert(Ht,Ae)):Me.rename(_,Ae,qe)})}):qe()})},d.prototype.stat=function(_,Ae,qe){var Me=this;this._client.stat(_,function(Ge,et){if(Ge)qe(Me.convert(Ge,_));else if(et&&et.isRemoved)qe(Ee.FileError(ne.ENOENT,_));else{var ft=new Ue(Me._statType(et),et.size);return qe(null,ft)}})},d.prototype.open=function(_,Ae,qe,Me){var Ge=this;this._client.readFile(_,function(et,ft,kt){if(et)if(Ae.isReadable())Me(Ge.convert(et,_));else switch(et.status){case Dropbox.ApiError.NOT_FOUND:var Ht=new ArrayBuffer(0);return Ge._writeFileStrict(_,Ht,function(vr,qr){if(vr)Me(vr);else{var jr=Ge._makeFile(_,Ae,qr,Kt(Ht));Me(null,jr)}});default:return Me(Ge.convert(et,_))}else{var ir;ft===null?ir=sr():ir=Kt(ft);var _r=Ge._makeFile(_,Ae,kt,ir);return Me(null,_r)}})},d.prototype._writeFileStrict=function(_,Ae,qe){var Me=this,Ge=Oe.dirname(_);this.stat(Ge,!1,function(et,ft){et?qe(Ee.FileError(ne.ENOENT,Ge)):Me._client.writeFile(_,Ae,function(kt,Ht){kt?qe(Me.convert(kt,_)):qe(null,Ht)})})},d.prototype._statType=function(_){return _.isFile?Ve.FILE:Ve.DIRECTORY},d.prototype._makeFile=function(_,Ae,qe,Me){var Ge=this._statType(qe),et=new Ue(Ge,qe.size);return new O0(this,_,Ae,et,Me)},d.prototype._remove=function(_,Ae,qe){var Me=this;this._client.stat(_,function(Ge,et){Ge?Ae(Me.convert(Ge,_)):et.isFile&&!qe?Ae(Ee.FileError(ne.ENOTDIR,_)):!et.isFile&&qe?Ae(Ee.FileError(ne.EISDIR,_)):Me._client.remove(_,function(ft){Ae(ft?Me.convert(ft,_):null)})})},d.prototype.unlink=function(_,Ae){this._remove(_,Ae,!0)},d.prototype.rmdir=function(_,Ae){this._remove(_,Ae,!1)},d.prototype.mkdir=function(_,Ae,qe){var Me=this,Ge=Oe.dirname(_);this._client.stat(Ge,function(et,ft){et?qe(Me.convert(et,Ge)):Me._client.mkdir(_,function(kt){qe(kt?Ee.FileError(ne.EEXIST,_):null)})})},d.prototype.readdir=function(_,Ae){var qe=this;this._client.readdir(_,function(Me,Ge){return Me?Ae(qe.convert(Me)):Ae(null,Ge)})},d.prototype.convert=function(_,Ae){Ae===void 0&&(Ae=null);var qe=qn[_.status];return qe===void 0&&(qe=ne.EIO),Ae?Ee.FileError(qe,Ae):new Ee(qe)},d}(At);fo.Name="Dropbox",fo.Options={client:{type:"object",description:"An *authenticated* Dropbox client. Must be from the 0.10 JS SDK.",validator:function(_e,d){_e.isAuthenticated&&_e.isAuthenticated()?d():d(new Ee(ne.EINVAL,"'client' option must be an authenticated Dropbox client from the v0.10 JS SDK."))}}};function _n(_e,d){d===void 0&&(d="");for(var k=_e.errno,_=_e.node,Ae=[];_&&(Ae.unshift(_.name),_!==_.parent);)_=_.parent;return new Ee(k,De[k],Ae.length>0?"/"+Ae.join("/"):d)}var xo=function(_e){function d(k,_,Ae,qe){_e.call(this),this._fs=k,this._FS=_,this._path=Ae,this._stream=qe}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.getPos=function(){},d.prototype.close=function(_){var Ae=null;try{this.closeSync()}catch(qe){Ae=qe}finally{_(Ae)}},d.prototype.closeSync=function(){try{this._FS.close(this._stream)}catch(_){throw _n(_,this._path)}},d.prototype.stat=function(_){try{_(null,this.statSync())}catch(Ae){_(Ae)}},d.prototype.statSync=function(){try{return this._fs.statSync(this._path,!1)}catch(_){throw _n(_,this._path)}},d.prototype.truncate=function(_,Ae){var qe=null;try{this.truncateSync(_)}catch(Me){qe=Me}finally{Ae(qe)}},d.prototype.truncateSync=function(_){try{this._FS.ftruncate(this._stream.fd,_)}catch(Ae){throw _n(Ae,this._path)}},d.prototype.write=function(_,Ae,qe,Me,Ge){try{Ge(null,this.writeSync(_,Ae,qe,Me),_)}catch(et){Ge(et)}},d.prototype.writeSync=function(_,Ae,qe,Me){try{var Ge=dt(_),et=Me===null?void 0:Me;return this._FS.write(this._stream,Ge,Ae,qe,et)}catch(ft){throw _n(ft,this._path)}},d.prototype.read=function(_,Ae,qe,Me,Ge){try{Ge(null,this.readSync(_,Ae,qe,Me),_)}catch(et){Ge(et)}},d.prototype.readSync=function(_,Ae,qe,Me){try{var Ge=dt(_),et=Me===null?void 0:Me;return this._FS.read(this._stream,Ge,Ae,qe,et)}catch(ft){throw _n(ft,this._path)}},d.prototype.sync=function(_){_()},d.prototype.syncSync=function(){},d.prototype.chown=function(_,Ae,qe){var Me=null;try{this.chownSync(_,Ae)}catch(Ge){Me=Ge}finally{qe(Me)}},d.prototype.chownSync=function(_,Ae){try{this._FS.fchown(this._stream.fd,_,Ae)}catch(qe){throw _n(qe,this._path)}},d.prototype.chmod=function(_,Ae){var qe=null;try{this.chmodSync(_)}catch(Me){qe=Me}finally{Ae(qe)}},d.prototype.chmodSync=function(_){try{this._FS.fchmod(this._stream.fd,_)}catch(Ae){throw _n(Ae,this._path)}},d.prototype.utimes=function(_,Ae,qe){var Me=null;try{this.utimesSync(_,Ae)}catch(Ge){Me=Ge}finally{qe(Me)}},d.prototype.utimesSync=function(_,Ae){this._fs.utimesSync(this._path,_,Ae)},d}(xt),ho=function(_e){function d(k){_e.call(this),this._FS=k}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.Create=function(_,Ae){Ae(null,new d(_.FS))},d.isAvailable=function(){return!0},d.prototype.getName=function(){return this._FS.DB_NAME()},d.prototype.isReadOnly=function(){return!1},d.prototype.supportsLinks=function(){return!0},d.prototype.supportsProps=function(){return!0},d.prototype.supportsSynch=function(){return!0},d.prototype.renameSync=function(_,Ae){try{this._FS.rename(_,Ae)}catch(qe){throw qe.errno===ne.ENOENT?_n(qe,this.existsSync(_)?Ae:_):_n(qe)}},d.prototype.statSync=function(_,Ae){try{var qe=Ae?this._FS.lstat(_):this._FS.stat(_),Me=this.modeToFileType(qe.mode);return new Ue(Me,qe.size,qe.mode,qe.atime,qe.mtime,qe.ctime)}catch(Ge){throw _n(Ge,_)}},d.prototype.openSync=function(_,Ae,qe){try{var Me=this._FS.open(_,Ae.getFlagString(),qe);if(this._FS.isDir(Me.node.mode))throw this._FS.close(Me),Ee.EISDIR(_);return new xo(this,this._FS,_,Me)}catch(Ge){throw _n(Ge,_)}},d.prototype.unlinkSync=function(_){try{this._FS.unlink(_)}catch(Ae){throw _n(Ae,_)}},d.prototype.rmdirSync=function(_){try{this._FS.rmdir(_)}catch(Ae){throw _n(Ae,_)}},d.prototype.mkdirSync=function(_,Ae){try{this._FS.mkdir(_,Ae)}catch(qe){throw _n(qe,_)}},d.prototype.readdirSync=function(_){try{return this._FS.readdir(_).filter(function(Ae){return Ae!=="."&&Ae!==".."})}catch(Ae){throw _n(Ae,_)}},d.prototype.truncateSync=function(_,Ae){try{this._FS.truncate(_,Ae)}catch(qe){throw _n(qe,_)}},d.prototype.readFileSync=function(_,Ae,qe){try{var Me=this._FS.readFile(_,{flags:qe.getFlagString()}),Ge=Ct(Me);return Ae?Ge.toString(Ae):Ge}catch(et){throw _n(et,_)}},d.prototype.writeFileSync=function(_,Ae,qe,Me,Ge){try{qe&&(Ae=f.from(Ae,qe));var et=dt(Ae);this._FS.writeFile(_,et,{flags:Me.getFlagString(),encoding:"binary"}),this._FS.chmod(_,Ge)}catch(ft){throw _n(ft,_)}},d.prototype.chmodSync=function(_,Ae,qe){try{Ae?this._FS.lchmod(_,qe):this._FS.chmod(_,qe)}catch(Me){throw _n(Me,_)}},d.prototype.chownSync=function(_,Ae,qe,Me){try{Ae?this._FS.lchown(_,qe,Me):this._FS.chown(_,qe,Me)}catch(Ge){throw _n(Ge,_)}},d.prototype.symlinkSync=function(_,Ae,qe){try{this._FS.symlink(_,Ae)}catch(Me){throw _n(Me)}},d.prototype.readlinkSync=function(_){try{return this._FS.readlink(_)}catch(Ae){throw _n(Ae,_)}},d.prototype.utimesSync=function(_,Ae,qe){try{this._FS.utime(_,Ae.getTime(),qe.getTime())}catch(Me){throw _n(Me,_)}},d.prototype.modeToFileType=function(_){if(this._FS.isDir(_))return Ve.DIRECTORY;if(this._FS.isFile(_))return Ve.FILE;if(this._FS.isLink(_))return Ve.SYMLINK;throw Ee.EPERM("Invalid mode: "+_)},d}(Wt);ho.Name="EmscriptenFileSystem",ho.Options={FS:{type:"object",description:"The Emscripten file system to use (the `FS` variable)"}};var Ci=function(_e){function d(k,_){_e.call(this),this._folder=k,this._wrapped=_}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.Create=function(_,Ae){Ae(null,new d(_.folder,_.wrapped))},d.isAvailable=function(){return!0},d.prototype.initialize=function(_){var Ae=this;this._wrapped.exists(this._folder,function(qe){qe?_():Ae._wrapped.isReadOnly()?_(Ee.ENOENT(Ae._folder)):Ae._wrapped.mkdir(Ae._folder,511,_)})},d.prototype.getName=function(){return this._wrapped.getName()},d.prototype.isReadOnly=function(){return this._wrapped.isReadOnly()},d.prototype.supportsProps=function(){return this._wrapped.supportsProps()},d.prototype.supportsSynch=function(){return this._wrapped.supportsSynch()},d.prototype.supportsLinks=function(){return!1},d}(At);Ci.Name="FolderAdapter",Ci.Options={folder:{type:"string",description:"The folder to use as the root directory"},wrapped:{type:"object",description:"The file system to wrap"}};function po(_e,d){if(d!==null&&typeof d=="object"){var k=d,_=k.path;_&&(_="/"+Oe.relative(_e,_),k.message=k.message.replace(k.path,_),k.path=_)}return d}function tu(_e,d){return typeof d=="function"?function(k){arguments.length>0&&(arguments[0]=po(_e,k)),d.apply(null,arguments)}:d}function bs(_e,d,k){return _e.slice(_e.length-4)!=="Sync"?function(){return arguments.length>0&&(arguments[0]=Oe.join(this._folder,arguments[0]),k&&(arguments[1]=Oe.join(this._folder,arguments[1])),arguments[arguments.length-1]=tu(this._folder,arguments[arguments.length-1])),this._wrapped[_e].apply(this._wrapped,arguments)}:function(){try{return d&&(arguments[0]=Oe.join(this._folder,arguments[0])),k&&(arguments[1]=Oe.join(this._folder,arguments[1])),this._wrapped[_e].apply(this._wrapped,arguments)}catch(_){throw po(this._folder,_)}}}["diskSpace","stat","statSync","open","openSync","unlink","unlinkSync","rmdir","rmdirSync","mkdir","mkdirSync","readdir","readdirSync","exists","existsSync","realpath","realpathSync","truncate","truncateSync","readFile","readFileSync","writeFile","writeFileSync","appendFile","appendFileSync","chmod","chmodSync","chown","chownSync","utimes","utimesSync","readlink","readlinkSync"].forEach(function(_e){Ci.prototype[_e]=bs(_e,!0,!1)}),["rename","renameSync","link","linkSync","symlink","symlinkSync"].forEach(function(_e){Ci.prototype[_e]=bs(_e,!0,!0)});var _o;typeof window<"u"?_o=window:typeof self<"u"?_o=self:_o=m;var bn=_o;function T0(_e){return _e.isDirectory}var Es=bn.webkitRequestFileSystem||bn.requestFileSystem||null;function D0(_e,d,k,_){if(typeof navigator.webkitPersistentStorage<"u")switch(_e){case bn.PERSISTENT:navigator.webkitPersistentStorage.requestQuota(d,k,_);break;case bn.TEMPORARY:navigator.webkitTemporaryStorage.requestQuota(d,k,_);break;default:_(new TypeError("Invalid storage type: "+_e));break}else bn.webkitStorageInfo.requestQuota(_e,d,k,_)}function ws(_e){return Array.prototype.slice.call(_e||[],0)}function ii(_e,d,k){switch(_e.name){case"PathExistsError":return Ee.EEXIST(d);case"QuotaExceededError":return Ee.FileError(ne.ENOSPC,d);case"NotFoundError":return Ee.ENOENT(d);case"SecurityError":return Ee.FileError(ne.EACCES,d);case"InvalidModificationError":return Ee.FileError(ne.EPERM,d);case"TypeMismatchError":return Ee.FileError(k?ne.ENOTDIR:ne.EISDIR,d);case"EncodingError":case"InvalidStateError":case"NoModificationAllowedError":default:return Ee.FileError(ne.EINVAL,d)}}var R0=function(_e){function d(k,_,Ae,qe,Me,Ge){_e.call(this,k,Ae,qe,Me,Ge),this._entry=_}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.sync=function(_){var Ae=this;if(!this.isDirty())return _();this._entry.createWriter(function(qe){var Me=Ae.getBuffer(),Ge=new Blob([ct(Me)]),et=Ge.size;qe.onwriteend=function(ft){qe.onwriteend=null,qe.onerror=null,qe.truncate(et),Ae.resetDirty(),_()},qe.onerror=function(ft){_(ii(ft,Ae.getPath(),!1))},qe.write(Ge)})},d.prototype.close=function(_){this.sync(_)},d}(pt),vo=function(_e){function d(k,_,Ae){k===void 0&&(k=5),_===void 0&&(_=bn.PERSISTENT),Ae===void 0&&(Ae=!0),_e.call(this),this.size=1024*1024*k,this.type=_,Zt(Ae,d.Name,{size:k,type:_})}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.Create=function(_,Ae){var qe=new d(_.size,_.type,!1);qe.allocate(function(Me){return Me?Ae(Me):Ae(null,qe)},!1)},d.isAvailable=function(){return!!Es},d.prototype.getName=function(){return d.Name},d.prototype.isReadOnly=function(){return!1},d.prototype.supportsSymlinks=function(){return!1},d.prototype.supportsProps=function(){return!1},d.prototype.supportsSynch=function(){return!1},d.prototype.allocate=function(_,Ae){var qe=this;_===void 0&&(_=function(){}),Ae===void 0&&(Ae=!0),Ae&&console.warn("[HTML5FS] HTML5FS.allocate() is deprecated and will be removed in the next major release. Please use 'HTML5FS.Create({type: "+this.type+", size: "+this.size+"}, cb)' to create and allocate HTML5FS instances.");var Me=function(et){qe.fs=et,_()},Ge=function(et){_(ii(et,"/",!0))};this.type===bn.PERSISTENT?D0(this.type,this.size,function(et){Es(qe.type,et,Me,Ge)},Ge):Es(this.type,this.size,Me,Ge)},d.prototype.empty=function(_){this._readdir("/",function(Ae,qe){if(Ae)console.error("Failed to empty FS"),_(Ae);else{var Me=function(et){Ae?(console.error("Failed to empty FS"),_(Ae)):_()},Ge=function(et,ft){var kt=function(){ft()},Ht=function(ir){ft(ii(ir,et.fullPath,!et.isDirectory))};T0(et)?et.removeRecursively(kt,Ht):et.remove(kt,Ht)};ms(qe,Ge,Me)}})},d.prototype.rename=function(_,Ae,qe){var Me=this,Ge=2,et=0,ft=this.fs.root,kt=_,Ht=function(_r){--Ge<=0&&qe(ii(_r,kt,!1))},ir=function(_r){if(++et===2)return qe(new Ee(ne.EINVAL,"Something was identified as both a file and a directory. This should never happen."));if(_===Ae)return qe();kt=Oe.dirname(Ae),ft.getDirectory(kt,{},function(vr){kt=Oe.basename(Ae),_r.moveTo(vr,kt,function(qr){qe()},function(qr){_r.isDirectory?(kt=Ae,Me.unlink(Ae,function(jr){jr?Ht(qr):Me.rename(_,Ae,qe)})):Ht(qr)})},Ht)};ft.getFile(_,{},ir,Ht),ft.getDirectory(_,{},ir,Ht)},d.prototype.stat=function(_,Ae,qe){var Me=this,Ge={create:!1},et=function(ir){var _r=function(vr){var qr=new Ue(Ve.FILE,vr.size);qe(null,qr)};ir.file(_r,kt)},ft=function(ir){var _r=4096,vr=new Ue(Ve.DIRECTORY,_r);qe(null,vr)},kt=function(ir){qe(ii(ir,_,!1))},Ht=function(){Me.fs.root.getDirectory(_,Ge,ft,kt)};this.fs.root.getFile(_,Ge,et,Ht)},d.prototype.open=function(_,Ae,qe,Me){var Ge=this,et=function(ft){ft.name==="InvalidModificationError"&&Ae.isExclusive()?Me(Ee.EEXIST(_)):Me(ii(ft,_,!1))};this.fs.root.getFile(_,{create:Ae.pathNotExistsAction()===Fe.CREATE_FILE,exclusive:Ae.isExclusive()},function(ft){ft.file(function(kt){var Ht=new FileReader;Ht.onloadend=function(ir){var _r=Ge._makeFile(_,ft,Ae,kt,Ht.result);Me(null,_r)},Ht.onerror=function(ir){et(Ht.error)},Ht.readAsArrayBuffer(kt)},et)},et)},d.prototype.unlink=function(_,Ae){this._remove(_,Ae,!0)},d.prototype.rmdir=function(_,Ae){var qe=this;this.readdir(_,function(Me,Ge){Me?Ae(Me):Ge.length>0?Ae(Ee.ENOTEMPTY(_)):qe._remove(_,Ae,!1)})},d.prototype.mkdir=function(_,Ae,qe){var Me={create:!0,exclusive:!0},Ge=function(ft){qe()},et=function(ft){qe(ii(ft,_,!0))};this.fs.root.getDirectory(_,Me,Ge,et)},d.prototype.readdir=function(_,Ae){this._readdir(_,function(qe,Me){if(Me){for(var Ge=[],et=0,ft=Me;et<ft.length;et+=1){var kt=ft[et];Ge.push(kt.name)}Ae(null,Ge)}else return Ae(qe)})},d.prototype._makeFile=function(_,Ae,qe,Me,Ge){Ge===void 0&&(Ge=new ArrayBuffer(0));var et=new Ue(Ve.FILE,Me.size),ft=Kt(Ge);return new R0(this,Ae,_,qe,et,ft)},d.prototype._readdir=function(_,Ae){var qe=function(Me){Ae(ii(Me,_,!0))};this.fs.root.getDirectory(_,{create:!1},function(Me){var Ge=Me.createReader(),et=[],ft=function(){Ge.readEntries(function(kt){kt.length?(et=et.concat(ws(kt)),ft()):Ae(null,et)},qe)};ft()},qe)},d.prototype._remove=function(_,Ae,qe){var Me=function(ft){var kt=function(){Ae()},Ht=function(ir){Ae(ii(ir,_,!qe))};ft.remove(kt,Ht)},Ge=function(ft){Ae(ii(ft,_,!qe))},et={create:!1};qe?this.fs.root.getFile(_,et,Me,Ge):this.fs.root.getDirectory(_,et,Me,Ge)},d}(At);vo.Name="HTML5FS",vo.Options={size:{type:"number",optional:!0,description:"Storage quota to request, in megabytes. Allocated value may be less. Defaults to 5."},type:{type:"number",optional:!0,description:"window.PERSISTENT or window.TEMPORARY. Defaults to PERSISTENT."}};var Hn=function(d,k,_,Ae,qe,Me){this.id=d,this.size=k,this.mode=_,this.atime=Ae,this.mtime=qe,this.ctime=Me};Hn.fromBuffer=function(d){if(d===void 0)throw new Error("NO");return new Hn(d.toString("ascii",30),d.readUInt32LE(0),d.readUInt16LE(4),d.readDoubleLE(6),d.readDoubleLE(14),d.readDoubleLE(22))},Hn.prototype.toStats=function(){return new Ue((this.mode&61440)===Ve.DIRECTORY?Ve.DIRECTORY:Ve.FILE,this.size,this.mode,new Date(this.atime),new Date(this.mtime),new Date(this.ctime))},Hn.prototype.getSize=function(){return 30+this.id.length},Hn.prototype.toBuffer=function(d){return d===void 0&&(d=f.alloc(this.getSize())),d.writeUInt32LE(this.size,0),d.writeUInt16LE(this.mode,4),d.writeDoubleLE(this.atime,6),d.writeDoubleLE(this.mtime,14),d.writeDoubleLE(this.ctime,22),d.write(this.id,30,this.id.length,"ascii"),d},Hn.prototype.update=function(d){var k=!1;this.size!==d.size&&(this.size=d.size,k=!0),this.mode!==d.mode&&(this.mode=d.mode,k=!0);var _=d.atime.getTime();this.atime!==_&&(this.atime=_,k=!0);var Ae=d.mtime.getTime();this.mtime!==Ae&&(this.mtime=Ae,k=!0);var qe=d.ctime.getTime();return this.ctime!==qe&&(this.ctime=qe,k=!0),k},Hn.prototype.isFile=function(){return(this.mode&61440)===Ve.FILE},Hn.prototype.isDirectory=function(){return(this.mode&61440)===Ve.DIRECTORY};var ki="/",ea=null;function di(){return ea||(ea=f.from("{}"))}function mn(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(_e){var d=Math.random()*16|0,k=_e==="x"?d:d&3|8;return k.toString(16)})}function Nn(_e,d){return _e?(d(_e),!1):!0}function tn(_e,d,k){return _e?(d.abort(function(){k(_e)}),!1):!0}var yi=function(d){this.store=d,this.originalData={},this.modifiedKeys=[]};yi.prototype.get=function(d){var k=this.store.get(d);return this.stashOldValue(d,k),k},yi.prototype.put=function(d,k,_){return this.markModified(d),this.store.put(d,k,_)},yi.prototype.del=function(d){this.markModified(d),this.store.del(d)},yi.prototype.commit=function(){},yi.prototype.abort=function(){for(var d=this,k=0,_=d.modifiedKeys;k<_.length;k+=1){var Ae=_[k],qe=d.originalData[Ae];qe?d.store.put(Ae,qe,!0):d.store.del(Ae)}},yi.prototype.stashOldValue=function(d,k){this.originalData.hasOwnProperty(d)||(this.originalData[d]=k)},yi.prototype.markModified=function(d){this.modifiedKeys.indexOf(d)===-1&&(this.modifiedKeys.push(d),this.originalData.hasOwnProperty(d)||(this.originalData[d]=this.store.get(d)))};var mo=function(_e){function d(k,_,Ae,qe,Me){_e.call(this,k,_,Ae,qe,Me)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this.getPath(),this.getBuffer(),this.getStats()),this.resetDirty())},d.prototype.closeSync=function(){this.syncSync()},d}(pt),Ss=function(_e){function d(k){_e.call(this),this.store=k.store,this.makeRootDirectory()}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.isAvailable=function(){return!0},d.prototype.getName=function(){return this.store.name()},d.prototype.isReadOnly=function(){return!1},d.prototype.supportsSymlinks=function(){return!1},d.prototype.supportsProps=function(){return!1},d.prototype.supportsSynch=function(){return!0},d.prototype.empty=function(){this.store.clear(),this.makeRootDirectory()},d.prototype.renameSync=function(_,Ae){var qe=this.store.beginTransaction("readwrite"),Me=Oe.dirname(_),Ge=Oe.basename(_),et=Oe.dirname(Ae),ft=Oe.basename(Ae),kt=this.findINode(qe,Me),Ht=this.getDirListing(qe,Me,kt);if(!Ht[Ge])throw Ee.ENOENT(_);var ir=Ht[Ge];if(delete Ht[Ge],(et+"/").indexOf(_+"/")===0)throw new Ee(ne.EBUSY,Me);var _r,vr;if(et===Me?(_r=kt,vr=Ht):(_r=this.findINode(qe,et),vr=this.getDirListing(qe,et,_r)),vr[ft]){var qr=this.getINode(qe,Ae,vr[ft]);if(qr.isFile())try{qe.del(qr.id),qe.del(vr[ft])}catch(jr){throw qe.abort(),jr}else throw Ee.EPERM(Ae)}vr[ft]=ir;try{qe.put(kt.id,f.from(JSON.stringify(Ht)),!0),qe.put(_r.id,f.from(JSON.stringify(vr)),!0)}catch(jr){throw qe.abort(),jr}qe.commit()},d.prototype.statSync=function(_,Ae){return this.findINode(this.store.beginTransaction("readonly"),_).toStats()},d.prototype.createFileSync=function(_,Ae,qe){var Me=this.store.beginTransaction("readwrite"),Ge=sr(),et=this.commitNewFile(Me,_,Ve.FILE,qe,Ge);return new mo(this,_,Ae,et.toStats(),Ge)},d.prototype.openFileSync=function(_,Ae){var qe=this.store.beginTransaction("readonly"),Me=this.findINode(qe,_),Ge=qe.get(Me.id);if(Ge===void 0)throw Ee.ENOENT(_);return new mo(this,_,Ae,Me.toStats(),Ge)},d.prototype.unlinkSync=function(_){this.removeEntry(_,!1)},d.prototype.rmdirSync=function(_){if(this.readdirSync(_).length>0)throw Ee.ENOTEMPTY(_);this.removeEntry(_,!0)},d.prototype.mkdirSync=function(_,Ae){var qe=this.store.beginTransaction("readwrite"),Me=f.from("{}");this.commitNewFile(qe,_,Ve.DIRECTORY,Ae,Me)},d.prototype.readdirSync=function(_){var Ae=this.store.beginTransaction("readonly");return Object.keys(this.getDirListing(Ae,_,this.findINode(Ae,_)))},d.prototype._syncSync=function(_,Ae,qe){var Me=this.store.beginTransaction("readwrite"),Ge=this._findINode(Me,Oe.dirname(_),Oe.basename(_)),et=this.getINode(Me,_,Ge),ft=et.update(qe);try{Me.put(et.id,Ae,!0),ft&&Me.put(Ge,et.toBuffer(),!0)}catch(kt){throw Me.abort(),kt}Me.commit()},d.prototype.makeRootDirectory=function(){var _=this.store.beginTransaction("readwrite");if(_.get(ki)===void 0){var Ae=new Date().getTime(),qe=new Hn(mn(),4096,511|Ve.DIRECTORY,Ae,Ae,Ae);_.put(qe.id,di(),!1),_.put(ki,qe.toBuffer(),!1),_.commit()}},d.prototype._findINode=function(_,Ae,qe){var Me=this,Ge=function(et){var ft=Me.getDirListing(_,Ae,et);if(ft[qe])return ft[qe];throw Ee.ENOENT(Oe.resolve(Ae,qe))};return Ae==="/"?qe===""?ki:Ge(this.getINode(_,Ae,ki)):Ge(this.getINode(_,Ae+Oe.sep+qe,this._findINode(_,Oe.dirname(Ae),Oe.basename(Ae))))},d.prototype.findINode=function(_,Ae){return this.getINode(_,Ae,this._findINode(_,Oe.dirname(Ae),Oe.basename(Ae)))},d.prototype.getINode=function(_,Ae,qe){var Me=_.get(qe);if(Me===void 0)throw Ee.ENOENT(Ae);return Hn.fromBuffer(Me)},d.prototype.getDirListing=function(_,Ae,qe){if(!qe.isDirectory())throw Ee.ENOTDIR(Ae);var Me=_.get(qe.id);if(Me===void 0)throw Ee.ENOENT(Ae);return JSON.parse(Me.toString())},d.prototype.addNewNode=function(_,Ae){for(var qe=0,Me;qe<5;)try{return Me=mn(),_.put(Me,Ae,!1),Me}catch{}throw new Ee(ne.EIO,"Unable to commit data to key-value store.")},d.prototype.commitNewFile=function(_,Ae,qe,Me,Ge){var et=Oe.dirname(Ae),ft=Oe.basename(Ae),kt=this.findINode(_,et),Ht=this.getDirListing(_,et,kt),ir=new Date().getTime();if(Ae==="/"||Ht[ft])throw Ee.EEXIST(Ae);var _r;try{var vr=this.addNewNode(_,Ge);_r=new Hn(vr,Ge.length,Me|qe,ir,ir,ir);var qr=this.addNewNode(_,_r.toBuffer());Ht[ft]=qr,_.put(kt.id,f.from(JSON.stringify(Ht)),!0)}catch(jr){throw _.abort(),jr}return _.commit(),_r},d.prototype.removeEntry=function(_,Ae){var qe=this.store.beginTransaction("readwrite"),Me=Oe.dirname(_),Ge=this.findINode(qe,Me),et=this.getDirListing(qe,Me,Ge),ft=Oe.basename(_);if(!et[ft])throw Ee.ENOENT(_);var kt=et[ft];delete et[ft];var Ht=this.getINode(qe,_,kt);if(!Ae&&Ht.isDirectory())throw Ee.EISDIR(_);if(Ae&&!Ht.isDirectory())throw Ee.ENOTDIR(_);try{qe.del(Ht.id),qe.del(kt),qe.put(Ge.id,f.from(JSON.stringify(et)),!0)}catch(ir){throw qe.abort(),ir}qe.commit()},d}(Wt),Oi=function(_e){function d(k,_,Ae,qe,Me){_e.call(this,k,_,Ae,qe,Me)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.sync=function(_){var Ae=this;this.isDirty()?this._fs._sync(this.getPath(),this.getBuffer(),this.getStats(),function(qe){qe||Ae.resetDirty(),_(qe)}):_()},d.prototype.close=function(_){this.sync(_)},d}(pt),As=function(_e){function d(){_e.apply(this,arguments)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.isAvailable=function(){return!0},d.prototype.init=function(_,Ae){this.store=_,this.makeRootDirectory(Ae)},d.prototype.getName=function(){return this.store.name()},d.prototype.isReadOnly=function(){return!1},d.prototype.supportsSymlinks=function(){return!1},d.prototype.supportsProps=function(){return!1},d.prototype.supportsSynch=function(){return!1},d.prototype.empty=function(_){var Ae=this;this.store.clear(function(qe){Nn(qe,_)&&Ae.makeRootDirectory(_)})},d.prototype.rename=function(_,Ae,qe){var Me=this,Ge=this.store.beginTransaction("readwrite"),et=Oe.dirname(_),ft=Oe.basename(_),kt=Oe.dirname(Ae),Ht=Oe.basename(Ae),ir={},_r={},vr=!1;if((kt+"/").indexOf(_+"/")===0)return qe(new Ee(ne.EBUSY,et));var qr=function(){if(!(vr||!_r.hasOwnProperty(et)||!_r.hasOwnProperty(kt))){var Wr=_r[et],En=ir[et],Mn=_r[kt],Ri=ir[kt];if(!Wr[ft])qe(Ee.ENOENT(_));else{var Fi=Wr[ft];delete Wr[ft];var So=function(){Mn[Ht]=Fi,Ge.put(En.id,f.from(JSON.stringify(Wr)),!0,function(Hi){tn(Hi,Ge,qe)&&(et===kt?Ge.commit(qe):Ge.put(Ri.id,f.from(JSON.stringify(Mn)),!0,function(Wi){tn(Wi,Ge,qe)&&Ge.commit(qe)}))})};Mn[Ht]?Me.getINode(Ge,Ae,Mn[Ht],function(Hi,Wi){tn(Hi,Ge,qe)&&(Wi.isFile()?Ge.del(Wi.id,function(Qu){tn(Qu,Ge,qe)&&Ge.del(Mn[Ht],function(yf){tn(yf,Ge,qe)&&So()})}):Ge.abort(function(Qu){qe(Ee.EPERM(Ae))}))}):So()}}},jr=function(Wr){Me.findINodeAndDirListing(Ge,Wr,function(En,Mn,Ri){En?vr||(vr=!0,Ge.abort(function(){qe(En)})):(ir[Wr]=Mn,_r[Wr]=Ri,qr())})};jr(et),et!==kt&&jr(kt)},d.prototype.stat=function(_,Ae,qe){var Me=this.store.beginTransaction("readonly");this.findINode(Me,_,function(Ge,et){Nn(Ge,qe)&&qe(null,et.toStats())})},d.prototype.createFile=function(_,Ae,qe,Me){var Ge=this,et=this.store.beginTransaction("readwrite"),ft=sr();this.commitNewFile(et,_,Ve.FILE,qe,ft,function(kt,Ht){Nn(kt,Me)&&Me(null,new Oi(Ge,_,Ae,Ht.toStats(),ft))})},d.prototype.openFile=function(_,Ae,qe){var Me=this,Ge=this.store.beginTransaction("readonly");this.findINode(Ge,_,function(et,ft){Nn(et,qe)&&Ge.get(ft.id,function(kt,Ht){Nn(kt,qe)&&(Ht===void 0?qe(Ee.ENOENT(_)):qe(null,new Oi(Me,_,Ae,ft.toStats(),Ht)))})})},d.prototype.unlink=function(_,Ae){this.removeEntry(_,!1,Ae)},d.prototype.rmdir=function(_,Ae){var qe=this;this.readdir(_,function(Me,Ge){Me?Ae(Me):Ge.length>0?Ae(Ee.ENOTEMPTY(_)):qe.removeEntry(_,!0,Ae)})},d.prototype.mkdir=function(_,Ae,qe){var Me=this.store.beginTransaction("readwrite"),Ge=f.from("{}");this.commitNewFile(Me,_,Ve.DIRECTORY,Ae,Ge,qe)},d.prototype.readdir=function(_,Ae){var qe=this,Me=this.store.beginTransaction("readonly");this.findINode(Me,_,function(Ge,et){Nn(Ge,Ae)&&qe.getDirListing(Me,_,et,function(ft,kt){Nn(ft,Ae)&&Ae(null,Object.keys(kt))})})},d.prototype._sync=function(_,Ae,qe,Me){var Ge=this,et=this.store.beginTransaction("readwrite");this._findINode(et,Oe.dirname(_),Oe.basename(_),function(ft,kt){tn(ft,et,Me)&&Ge.getINode(et,_,kt,function(Ht,ir){if(tn(Ht,et,Me)){var _r=ir.update(qe);et.put(ir.id,Ae,!0,function(vr){tn(vr,et,Me)&&(_r?et.put(kt,ir.toBuffer(),!0,function(qr){tn(qr,et,Me)&&et.commit(Me)}):et.commit(Me))})}})})},d.prototype.makeRootDirectory=function(_){var Ae=this.store.beginTransaction("readwrite");Ae.get(ki,function(qe,Me){if(qe||Me===void 0){var Ge=new Date().getTime(),et=new Hn(mn(),4096,511|Ve.DIRECTORY,Ge,Ge,Ge);Ae.put(et.id,di(),!1,function(ft){tn(ft,Ae,_)&&Ae.put(ki,et.toBuffer(),!1,function(kt){kt?Ae.abort(function(){_(kt)}):Ae.commit(_)})})}else Ae.commit(_)})},d.prototype._findINode=function(_,Ae,qe,Me){var Ge=this,et=function(ft,kt,Ht){ft?Me(ft):Ht[qe]?Me(null,Ht[qe]):Me(Ee.ENOENT(Oe.resolve(Ae,qe)))};Ae==="/"?qe===""?Me(null,ki):this.getINode(_,Ae,ki,function(ft,kt){Nn(ft,Me)&&Ge.getDirListing(_,Ae,kt,function(Ht,ir){et(Ht,kt,ir)})}):this.findINodeAndDirListing(_,Ae,et)},d.prototype.findINode=function(_,Ae,qe){var Me=this;this._findINode(_,Oe.dirname(Ae),Oe.basename(Ae),function(Ge,et){Nn(Ge,qe)&&Me.getINode(_,Ae,et,qe)})},d.prototype.getINode=function(_,Ae,qe,Me){_.get(qe,function(Ge,et){Nn(Ge,Me)&&(et===void 0?Me(Ee.ENOENT(Ae)):Me(null,Hn.fromBuffer(et)))})},d.prototype.getDirListing=function(_,Ae,qe,Me){qe.isDirectory()?_.get(qe.id,function(Ge,et){if(Nn(Ge,Me))try{Me(null,JSON.parse(et.toString()))}catch{Me(Ee.ENOENT(Ae))}}):Me(Ee.ENOTDIR(Ae))},d.prototype.findINodeAndDirListing=function(_,Ae,qe){var Me=this;this.findINode(_,Ae,function(Ge,et){Nn(Ge,qe)&&Me.getDirListing(_,Ae,et,function(ft,kt){Nn(ft,qe)&&qe(null,et,kt)})})},d.prototype.addNewNode=function(_,Ae,qe){var Me=0,Ge,et=function(){++Me===5?qe(new Ee(ne.EIO,"Unable to commit data to key-value store.")):(Ge=mn(),_.put(Ge,Ae,!1,function(ft,kt){ft||!kt?et():qe(null,Ge)}))};et()},d.prototype.commitNewFile=function(_,Ae,qe,Me,Ge,et){var ft=this,kt=Oe.dirname(Ae),Ht=Oe.basename(Ae),ir=new Date().getTime();if(Ae==="/")return et(Ee.EEXIST(Ae));this.findINodeAndDirListing(_,kt,function(_r,vr,qr){tn(_r,_,et)&&(qr[Ht]?_.abort(function(){et(Ee.EEXIST(Ae))}):ft.addNewNode(_,Ge,function(jr,Wr){if(tn(jr,_,et)){var En=new Hn(Wr,Ge.length,Me|qe,ir,ir,ir);ft.addNewNode(_,En.toBuffer(),function(Mn,Ri){tn(Mn,_,et)&&(qr[Ht]=Ri,_.put(vr.id,f.from(JSON.stringify(qr)),!0,function(Fi){tn(Fi,_,et)&&_.commit(function(So){tn(So,_,et)&&et(null,En)})}))})}}))})},d.prototype.removeEntry=function(_,Ae,qe){var Me=this,Ge=this.store.beginTransaction("readwrite"),et=Oe.dirname(_),ft=Oe.basename(_);this.findINodeAndDirListing(Ge,et,function(kt,Ht,ir){if(tn(kt,Ge,qe))if(!ir[ft])Ge.abort(function(){qe(Ee.ENOENT(_))});else{var _r=ir[ft];delete ir[ft],Me.getINode(Ge,_,_r,function(vr,qr){tn(vr,Ge,qe)&&(!Ae&&qr.isDirectory()?Ge.abort(function(){qe(Ee.EISDIR(_))}):Ae&&!qr.isDirectory()?Ge.abort(function(){qe(Ee.ENOTDIR(_))}):Ge.del(qr.id,function(jr){tn(jr,Ge,qe)&&Ge.del(_r,function(Wr){tn(Wr,Ge,qe)&&Ge.put(Ht.id,f.from(JSON.stringify(ir)),!0,function(En){tn(En,Ge,qe)&&Ge.commit(qe)})})}))})}})},d}(At),Jn=function(){this.store={}};Jn.prototype.name=function(){return Kn.Name},Jn.prototype.clear=function(){this.store={}},Jn.prototype.beginTransaction=function(d){return new yi(this)},Jn.prototype.get=function(d){return this.store[d]},Jn.prototype.put=function(d,k,_){return!_&&this.store.hasOwnProperty(d)?!1:(this.store[d]=k,!0)},Jn.prototype.del=function(d){delete this.store[d]};var Kn=function(_e){function d(){_e.call(this,{store:new Jn})}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.Create=function(_,Ae){Ae(null,new d)},d}(Ss);Kn.Name="InMemory",Kn.Options={};var go=bn.indexedDB||bn.mozIndexedDB||bn.webkitIndexedDB||bn.msIndexedDB;function Re(_e,d){switch(d===void 0&&(d=_e.toString()),_e.name){case"NotFoundError":return new Ee(ne.ENOENT,d);case"QuotaExceededError":return new Ee(ne.ENOSPC,d);default:return new Ee(ne.EIO,d)}}function Le(_e,d,k){return d===void 0&&(d=ne.EIO),k===void 0&&(k=null),function(_){_.preventDefault(),_e(new Ee(d,k!==null?k:void 0))}}var ze=function(d,k){this.tx=d,this.store=k};ze.prototype.get=function(d,k){try{var _=this.store.get(d);_.onerror=Le(k),_.onsuccess=function(Ae){var qe=Ae.target.result;qe===void 0?k(null,qe):k(null,Kt(qe))}}catch(Ae){k(Re(Ae))}};var Qe=function(_e){function d(k,_){_e.call(this,k,_)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.put=function(_,Ae,qe,Me){try{var Ge=ct(Ae),et;qe?et=this.store.put(Ge,_):et=this.store.add(Ge,_),et.onerror=Le(Me),et.onsuccess=function(ft){Me(null,!0)}}catch(ft){Me(Re(ft))}},d.prototype.del=function(_,Ae){try{var qe=this.store.delete(_);qe.onerror=Le(Ae),qe.onsuccess=function(Me){Ae()}}catch(Me){Ae(Re(Me))}},d.prototype.commit=function(_){setTimeout(_,0)},d.prototype.abort=function(_){var Ae=null;try{this.tx.abort()}catch(qe){Ae=Re(qe)}finally{_(Ae)}},d}(ze),$e=function(d,k){var _=this;k===void 0&&(k="browserfs"),this.storeName=k;var Ae=go.open(this.storeName,1);Ae.onupgradeneeded=function(qe){var Me=qe.target.result;Me.objectStoreNames.contains(_.storeName)&&Me.deleteObjectStore(_.storeName),Me.createObjectStore(_.storeName)},Ae.onsuccess=function(qe){_.db=qe.target.result,d(null,_)},Ae.onerror=Le(d,ne.EACCES)};$e.prototype.name=function(){return st.Name+" - "+this.storeName},$e.prototype.clear=function(d){try{var k=this.db.transaction(this.storeName,"readwrite"),_=k.objectStore(this.storeName),Ae=_.clear();Ae.onsuccess=function(qe){setTimeout(d,0)},Ae.onerror=Le(d)}catch(qe){d(Re(qe))}},$e.prototype.beginTransaction=function(d){d===void 0&&(d="readonly");var k=this.db.transaction(this.storeName,d),_=k.objectStore(this.storeName);if(d==="readwrite")return new Qe(k,_);if(d==="readonly")return new ze(k,_);throw new Ee(ne.EINVAL,"Invalid transaction type.")};var st=function(_e){function d(k,_,Ae){var qe=this;Ae===void 0&&(Ae=!0),_e.call(this),this.store=new $e(function(Me){Me?k(Me):qe.init(qe.store,function(Ge){k(Ge,qe)})},_),Zt(Ae,d.Name,{storeName:_})}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.Create=function(_,Ae){new d(Ae,_.storeName,!1)},d.isAvailable=function(){try{return typeof go<"u"&&go.open("__browserfs_test__")!==null}catch{return!1}},d}(As);st.Name="IndexedDB",st.Options={storeName:{type:"string",optional:!0,description:"The name of this file system. You can have multiple IndexedDB file systems operating at once, but each must have a different name."}};var _t=!1,wt;try{bn.localStorage.setItem("__test__",String.fromCharCode(55296)),_t=bn.localStorage.getItem("__test__")===String.fromCharCode(55296)}catch{_t=!1}wt=_t?"binary_string":"binary_string_ie",f.isEncoding(wt)||(wt="base64");var Rt=function(){};Rt.prototype.name=function(){return Tt.Name},Rt.prototype.clear=function(){bn.localStorage.clear()},Rt.prototype.beginTransaction=function(d){return new yi(this)},Rt.prototype.get=function(d){try{var k=bn.localStorage.getItem(d);if(k!==null)return f.from(k,wt)}catch{}},Rt.prototype.put=function(d,k,_){try{return!_&&bn.localStorage.getItem(d)!==null?!1:(bn.localStorage.setItem(d,k.toString(wt)),!0)}catch{throw new Ee(ne.ENOSPC,"LocalStorage is full.")}},Rt.prototype.del=function(d){try{bn.localStorage.removeItem(d)}catch(k){throw new Ee(ne.EIO,"Unable to delete key "+d+": "+k)}};var Tt=function(_e){function d(){_e.call(this,{store:new Rt})}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.Create=function(_,Ae){Ae(null,new d)},d.isAvailable=function(){return typeof bn.localStorage<"u"},d}(Ss);Tt.Name="LocalStorage",Tt.Options={};var Lt=function(_e){function d(){_e.call(this),this.mountList=[],this.mntMap={},this.rootFs=new Kn}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.Create=function(_,Ae){var qe=new d;Object.keys(_).forEach(function(Me){qe.mount(Me,_[Me])}),Ae(null,qe)},d.isAvailable=function(){return!0},d.prototype.mount=function(_,Ae){if(_[0]!=="/"&&(_="/"+_),_=Oe.resolve(_),this.mntMap[_])throw new Ee(ne.EINVAL,"Mount point "+_+" is already taken.");St(_,511,this.rootFs),this.mntMap[_]=Ae,this.mountList.push(_),this.mountList=this.mountList.sort(function(qe,Me){return Me.length-qe.length})},d.prototype.umount=function(_){var Ae=this;if(_[0]!=="/"&&(_="/"+_),_=Oe.resolve(_),!this.mntMap[_])throw new Ee(ne.EINVAL,"Mount point "+_+" is already unmounted.");for(delete this.mntMap[_],this.mountList.splice(this.mountList.indexOf(_),1);_!=="/"&&Ae.rootFs.readdirSync(_).length===0;)Ae.rootFs.rmdirSync(_),_=Oe.dirname(_)},d.prototype._getFs=function(_){for(var Ae=this,qe=this.mountList,Me=qe.length,Ge=0;Ge<Me;Ge++){var et=qe[Ge];if(et.length<=_.length&&_.indexOf(et)===0)return _=_.substr(et.length>1?et.length:0),_===""&&(_="/"),{fs:Ae.mntMap[et],path:_}}return{fs:this.rootFs,path:_}},d.prototype.getName=function(){return d.Name},d.prototype.diskSpace=function(_,Ae){Ae(0,0)},d.prototype.isReadOnly=function(){return!1},d.prototype.supportsLinks=function(){return!1},d.prototype.supportsProps=function(){return!1},d.prototype.supportsSynch=function(){return!0},d.prototype.standardizeError=function(_,Ae,qe){var Me=_.message.indexOf(Ae);return Me!==-1&&(_.message=_.message.substr(0,Me)+qe+_.message.substr(Me+Ae.length),_.path=qe),_},d.prototype.rename=function(_,Ae,qe){var Me=this,Ge=this._getFs(_),et=this._getFs(Ae);return Ge.fs===et.fs?Ge.fs.rename(Ge.path,et.path,function(ft){ft&&Me.standardizeError(Me.standardizeError(ft,Ge.path,_),et.path,Ae),qe(ft)}):it.readFile(_,function(ft,kt){if(ft)return qe(ft);it.writeFile(Ae,kt,function(Ht){if(Ht)return qe(Ht);it.unlink(_,qe)})})},d.prototype.renameSync=function(_,Ae){var qe=this._getFs(_),Me=this._getFs(Ae);if(qe.fs===Me.fs)try{return qe.fs.renameSync(qe.path,Me.path)}catch(et){throw this.standardizeError(this.standardizeError(et,qe.path,_),Me.path,Ae),et}var Ge=it.readFileSync(_);return it.writeFileSync(Ae,Ge),it.unlinkSync(_)},d.prototype.readdirSync=function(_){var Ae=this._getFs(_),qe=null;if(Ae.fs!==this.rootFs)try{qe=this.rootFs.readdirSync(_)}catch{}try{var Me=Ae.fs.readdirSync(Ae.path);return qe===null?Me:Me.concat(qe.filter(function(Ge){return Me.indexOf(Ge)===-1}))}catch(Ge){if(qe===null)throw this.standardizeError(Ge,Ae.path,_);return qe}},d.prototype.readdir=function(_,Ae){var qe=this,Me=this._getFs(_);Me.fs.readdir(Me.path,function(Ge,et){if(Me.fs!==qe.rootFs)try{var ft=qe.rootFs.readdirSync(_);et?et=et.concat(ft.filter(function(kt){return et.indexOf(kt)===-1})):et=ft}catch{if(Ge)return Ae(qe.standardizeError(Ge,Me.path,_))}else if(Ge)return Ae(qe.standardizeError(Ge,Me.path,_));Ae(null,et)})},d.prototype.rmdirSync=function(_){var Ae=this._getFs(_);if(this._containsMountPt(_))throw Ee.ENOTEMPTY(_);try{Ae.fs.rmdirSync(Ae.path)}catch(qe){throw this.standardizeError(qe,Ae.path,_)}},d.prototype.rmdir=function(_,Ae){var qe=this,Me=this._getFs(_);this._containsMountPt(_)?Ae(Ee.ENOTEMPTY(_)):Me.fs.rmdir(Me.path,function(Ge){Ae(Ge?qe.standardizeError(Ge,Me.path,_):null)})},d.prototype._containsMountPt=function(_){for(var Ae=this.mountList,qe=Ae.length,Me=0;Me<qe;Me++){var Ge=Ae[Me];if(Ge.length>=_.length&&Ge.slice(0,_.length)===_)return!0}return!1},d}(At);Lt.Name="MountableFileSystem",Lt.Options={};function Ot(_e,d,k){return d?function(){for(var _=[],Ae=arguments.length;Ae--;)_[Ae]=arguments[Ae];var qe=_[0],Me=this._getFs(qe);_[0]=Me.path;try{return Me.fs[_e].apply(Me.fs,_)}catch(Ge){throw this.standardizeError(Ge,Me.path,qe),Ge}}:function(){for(var _=this,Ae=[],qe=arguments.length;qe--;)Ae[qe]=arguments[qe];var Me=Ae[0],Ge=this._getFs(Me);if(Ae[0]=Ge.path,typeof Ae[Ae.length-1]=="function"){var et=Ae[Ae.length-1];Ae[Ae.length-1]=function(){for(var ft=[],kt=arguments.length;kt--;)ft[kt]=arguments[kt];ft.length>0&&ft[0]instanceof Ee&&_.standardizeError(ft[0],Ge.path,Me),et.apply(null,ft)}}return Ge.fs[_e].apply(Ge.fs,Ae)}}for(var Ut=[["exists","unlink","readlink"],["stat","mkdir","realpath","truncate"],["open","readFile","chmod","utimes"],["chown"],["writeFile","appendFile"]],Bt=0;Bt<Ut.length;Bt++)for(var Nt=Ut[Bt],Vt=0,qt=Nt;Vt<qt.length;Vt+=1){var Yt=qt[Vt];Lt.prototype[Yt]=Ot(Yt,!1),Lt.prototype[Yt+"Sync"]=Ot(Yt+"Sync",!0)}var Qt;if(typeof setImmediate<"u")Qt=setImmediate;else{var Gt=bn,rr=[],xr="zero-timeout-message",Ir=function(){if(typeof Gt.importScripts<"u"||!Gt.postMessage)return!1;var _e=!0,d=Gt.onmessage;return Gt.onmessage=function(){_e=!1},Gt.postMessage("","*"),Gt.onmessage=d,_e};if(Ir()){Qt=function(_e){rr.push(_e),Gt.postMessage(xr,"*")};var hr=function(_e){if(_e.source===self&&_e.data===xr&&(_e.stopPropagation?_e.stopPropagation():_e.cancelBubble=!0,rr.length>0)){var d=rr.shift();return d()}};Gt.addEventListener?Gt.addEventListener("message",hr,!0):Gt.attachEvent("onmessage",hr)}else if(Gt.MessageChannel){var br=new Gt.MessageChannel;br.port1.onmessage=function(_e){if(rr.length>0)return rr.shift()()},Qt=function(_e){rr.push(_e),br.port2.postMessage("")}}else Qt=function(_e){return setTimeout(_e,0)}}var Ar=Qt,lr=function(){this._locked=!1,this._waiters=[]};lr.prototype.lock=function(d){if(this._locked){this._waiters.push(d);return}this._locked=!0,d()},lr.prototype.unlock=function(){if(!this._locked)throw new Error("unlock of a non-locked mutex");var d=this._waiters.shift();if(d){Ar(d);return}this._locked=!1},lr.prototype.tryLock=function(){return this._locked?!1:(this._locked=!0,!0)},lr.prototype.isLocked=function(){return this._locked};var pr=function(d){this._fs=d,this._mu=new lr};pr.prototype.getName=function(){return"LockedFS<"+this._fs.getName()+">"},pr.prototype.getFSUnlocked=function(){return this._fs},pr.prototype.initialize=function(d){this._fs.initialize(d)},pr.prototype.diskSpace=function(d,k){this._fs.diskSpace(d,k)},pr.prototype.isReadOnly=function(){return this._fs.isReadOnly()},pr.prototype.supportsLinks=function(){return this._fs.supportsLinks()},pr.prototype.supportsProps=function(){return this._fs.supportsProps()},pr.prototype.supportsSynch=function(){return this._fs.supportsSynch()},pr.prototype.rename=function(d,k,_){var Ae=this;this._mu.lock(function(){Ae._fs.rename(d,k,function(qe){Ae._mu.unlock(),_(qe)})})},pr.prototype.renameSync=function(d,k){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.renameSync(d,k)},pr.prototype.stat=function(d,k,_){var Ae=this;this._mu.lock(function(){Ae._fs.stat(d,k,function(qe,Me){Ae._mu.unlock(),_(qe,Me)})})},pr.prototype.statSync=function(d,k){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.statSync(d,k)},pr.prototype.open=function(d,k,_,Ae){var qe=this;this._mu.lock(function(){qe._fs.open(d,k,_,function(Me,Ge){qe._mu.unlock(),Ae(Me,Ge)})})},pr.prototype.openSync=function(d,k,_){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.openSync(d,k,_)},pr.prototype.unlink=function(d,k){var _=this;this._mu.lock(function(){_._fs.unlink(d,function(Ae){_._mu.unlock(),k(Ae)})})},pr.prototype.unlinkSync=function(d){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.unlinkSync(d)},pr.prototype.rmdir=function(d,k){var _=this;this._mu.lock(function(){_._fs.rmdir(d,function(Ae){_._mu.unlock(),k(Ae)})})},pr.prototype.rmdirSync=function(d){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.rmdirSync(d)},pr.prototype.mkdir=function(d,k,_){var Ae=this;this._mu.lock(function(){Ae._fs.mkdir(d,k,function(qe){Ae._mu.unlock(),_(qe)})})},pr.prototype.mkdirSync=function(d,k){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.mkdirSync(d,k)},pr.prototype.readdir=function(d,k){var _=this;this._mu.lock(function(){_._fs.readdir(d,function(Ae,qe){_._mu.unlock(),k(Ae,qe)})})},pr.prototype.readdirSync=function(d){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readdirSync(d)},pr.prototype.exists=function(d,k){var _=this;this._mu.lock(function(){_._fs.exists(d,function(Ae){_._mu.unlock(),k(Ae)})})},pr.prototype.existsSync=function(d){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.existsSync(d)},pr.prototype.realpath=function(d,k,_){var Ae=this;this._mu.lock(function(){Ae._fs.realpath(d,k,function(qe,Me){Ae._mu.unlock(),_(qe,Me)})})},pr.prototype.realpathSync=function(d,k){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.realpathSync(d,k)},pr.prototype.truncate=function(d,k,_){var Ae=this;this._mu.lock(function(){Ae._fs.truncate(d,k,function(qe){Ae._mu.unlock(),_(qe)})})},pr.prototype.truncateSync=function(d,k){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.truncateSync(d,k)},pr.prototype.readFile=function(d,k,_,Ae){var qe=this;this._mu.lock(function(){qe._fs.readFile(d,k,_,function(Me,Ge){qe._mu.unlock(),Ae(Me,Ge)})})},pr.prototype.readFileSync=function(d,k,_){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readFileSync(d,k,_)},pr.prototype.writeFile=function(d,k,_,Ae,qe,Me){var Ge=this;this._mu.lock(function(){Ge._fs.writeFile(d,k,_,Ae,qe,function(et){Ge._mu.unlock(),Me(et)})})},pr.prototype.writeFileSync=function(d,k,_,Ae,qe){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.writeFileSync(d,k,_,Ae,qe)},pr.prototype.appendFile=function(d,k,_,Ae,qe,Me){var Ge=this;this._mu.lock(function(){Ge._fs.appendFile(d,k,_,Ae,qe,function(et){Ge._mu.unlock(),Me(et)})})},pr.prototype.appendFileSync=function(d,k,_,Ae,qe){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.appendFileSync(d,k,_,Ae,qe)},pr.prototype.chmod=function(d,k,_,Ae){var qe=this;this._mu.lock(function(){qe._fs.chmod(d,k,_,function(Me){qe._mu.unlock(),Ae(Me)})})},pr.prototype.chmodSync=function(d,k,_){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chmodSync(d,k,_)},pr.prototype.chown=function(d,k,_,Ae,qe){var Me=this;this._mu.lock(function(){Me._fs.chown(d,k,_,Ae,function(Ge){Me._mu.unlock(),qe(Ge)})})},pr.prototype.chownSync=function(d,k,_,Ae){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chownSync(d,k,_,Ae)},pr.prototype.utimes=function(d,k,_,Ae){var qe=this;this._mu.lock(function(){qe._fs.utimes(d,k,_,function(Me){qe._mu.unlock(),Ae(Me)})})},pr.prototype.utimesSync=function(d,k,_){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.utimesSync(d,k,_)},pr.prototype.link=function(d,k,_){var Ae=this;this._mu.lock(function(){Ae._fs.link(d,k,function(qe){Ae._mu.unlock(),_(qe)})})},pr.prototype.linkSync=function(d,k){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.linkSync(d,k)},pr.prototype.symlink=function(d,k,_,Ae){var qe=this;this._mu.lock(function(){qe._fs.symlink(d,k,_,function(Me){qe._mu.unlock(),Ae(Me)})})},pr.prototype.symlinkSync=function(d,k,_){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.symlinkSync(d,k,_)},pr.prototype.readlink=function(d,k){var _=this;this._mu.lock(function(){_._fs.readlink(d,function(Ae,qe){_._mu.unlock(),k(Ae,qe)})})},pr.prototype.readlinkSync=function(d){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readlinkSync(d)};var Ur="/.deletedFiles.log";function Kr(_e){return 146|_e}function Vr(_e){return Ne.getFileFlag(_e)}var Xn=function(_e){function d(k,_,Ae,qe,Me){_e.call(this,k,_,Ae,qe,Me)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.sync=function(_){var Ae=this;if(!this.isDirty()){_(null);return}this._fs._syncAsync(this,function(qe){Ae.resetDirty(),_(qe)})},d.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},d.prototype.close=function(_){this.sync(_)},d.prototype.closeSync=function(){this.syncSync()},d}(pt),Hr=function(_e){function d(k,_){if(_e.call(this),this._isInitialized=!1,this._initializeCallbacks=[],this._deletedFiles={},this._deleteLog="",this._deleteLogUpdatePending=!1,this._deleteLogUpdateNeeded=!1,this._deleteLogError=null,this._writable=k,this._readable=_,this._writable.isReadOnly())throw new Ee(ne.EINVAL,"Writable file system must be writable.")}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.isAvailable=function(){return!0},d.prototype.getOverlayedFileSystems=function(){return{readable:this._readable,writable:this._writable}},d.prototype._syncAsync=function(_,Ae){var qe=this;this.createParentDirectoriesAsync(_.getPath(),function(Me){if(Me)return Ae(Me);qe._writable.writeFile(_.getPath(),_.getBuffer(),null,Vr("w"),_.getStats().mode,Ae)})},d.prototype._syncSync=function(_){this.createParentDirectories(_.getPath()),this._writable.writeFileSync(_.getPath(),_.getBuffer(),null,Vr("w"),_.getStats().mode)},d.prototype.getName=function(){return An.Name},d.prototype.initialize=function(_){var Ae=this,qe=this._initializeCallbacks,Me=function(Ge){Ae._isInitialized=!Ge,Ae._initializeCallbacks=[],qe.forEach(function(et){return et(Ge)})};if(this._isInitialized)return _();qe.push(_),qe.length===1&&this._writable.readFile(Ur,"utf8",Vr("r"),function(Ge,et){if(Ge){if(Ge.errno!==ne.ENOENT)return Me(Ge)}else Ae._deleteLog=et;Ae._reparseDeletionLog(),Me()})},d.prototype.isReadOnly=function(){return!1},d.prototype.supportsSynch=function(){return this._readable.supportsSynch()&&this._writable.supportsSynch()},d.prototype.supportsLinks=function(){return!1},d.prototype.supportsProps=function(){return this._readable.supportsProps()&&this._writable.supportsProps()},d.prototype.getDeletionLog=function(){return this._deleteLog},d.prototype.restoreDeletionLog=function(_){this._deleteLog=_,this._reparseDeletionLog(),this.updateLog("")},d.prototype.rename=function(_,Ae,qe){var Me=this;if(!(!this.checkInitAsync(qe)||this.checkPathAsync(_,qe)||this.checkPathAsync(Ae,qe))){if(_===Ur||Ae===Ur)return qe(Ee.EPERM("Cannot rename deletion log."));if(_===Ae)return qe();this.stat(_,!1,function(Ge,et){return Ge?qe(Ge):Me.stat(Ae,!1,function(ft,kt){var Ht=Me;function ir(vr){var qr=vr.shift();if(!qr)return qe();var jr=Oe.resolve(_,qr),Wr=Oe.resolve(Ae,qr);Ht.rename(jr,Wr,function(En){if(En)return qe(En);ir(vr)})}var _r=511;if(et.isDirectory()){if(ft)return ft.errno!==ne.ENOENT?qe(ft):Me._writable.exists(_,function(vr){if(vr)return Me._writable.rename(_,Ae,qe);Me._writable.mkdir(Ae,_r,function(qr){if(qr)return qe(qr);Me._readable.readdir(_,function(jr,Wr){if(jr)return qe();ir(Wr)})})});if(_r=kt.mode,!kt.isDirectory())return qe(Ee.ENOTDIR(Ae));Me.readdir(Ae,function(vr,qr){if(qr&&qr.length)return qe(Ee.ENOTEMPTY(Ae));Me._readable.readdir(_,function(jr,Wr){if(jr)return qe();ir(Wr)})})}if(kt&&kt.isDirectory())return qe(Ee.EISDIR(Ae));Me.readFile(_,null,Vr("r"),function(vr,qr){return vr?qe(vr):Me.writeFile(Ae,qr,null,Vr("w"),et.mode,function(jr){return jr?qe(jr):Me.unlink(_,qe)})})})})}},d.prototype.renameSync=function(_,Ae){var qe=this;if(this.checkInitialized(),this.checkPath(_),this.checkPath(Ae),_===Ur||Ae===Ur)throw Ee.EPERM("Cannot rename deletion log.");var Me=this.statSync(_,!1);if(Me.isDirectory()){if(_===Ae)return;var Ge=511;if(this.existsSync(Ae)){var et=this.statSync(Ae,!1);if(Ge=et.mode,et.isDirectory()){if(this.readdirSync(Ae).length>0)throw Ee.ENOTEMPTY(Ae)}else throw Ee.ENOTDIR(Ae)}this._writable.existsSync(_)?this._writable.renameSync(_,Ae):this._writable.existsSync(Ae)||this._writable.mkdirSync(Ae,Ge),this._readable.existsSync(_)&&this._readable.readdirSync(_).forEach(function(ft){qe.renameSync(Oe.resolve(_,ft),Oe.resolve(Ae,ft))})}else{if(this.existsSync(Ae)&&this.statSync(Ae,!1).isDirectory())throw Ee.EISDIR(Ae);this.writeFileSync(Ae,this.readFileSync(_,null,Vr("r")),null,Vr("w"),Me.mode)}_!==Ae&&this.existsSync(_)&&this.unlinkSync(_)},d.prototype.stat=function(_,Ae,qe){var Me=this;this.checkInitAsync(qe)&&this._writable.stat(_,Ae,function(Ge,et){Ge&&Ge.errno===ne.ENOENT?(Me._deletedFiles[_]&&qe(Ee.ENOENT(_)),Me._readable.stat(_,Ae,function(ft,kt){kt&&(kt=kt.clone(),kt.mode=Kr(kt.mode)),qe(ft,kt)})):qe(Ge,et)})},d.prototype.statSync=function(_,Ae){this.checkInitialized();try{return this._writable.statSync(_,Ae)}catch{if(this._deletedFiles[_])throw Ee.ENOENT(_);var qe=this._readable.statSync(_,Ae).clone();return qe.mode=Kr(qe.mode),qe}},d.prototype.open=function(_,Ae,qe,Me){var Ge=this;!this.checkInitAsync(Me)||this.checkPathAsync(_,Me)||this.stat(_,!1,function(et,ft){if(ft)switch(Ae.pathExistsAction()){case Fe.TRUNCATE_FILE:return Ge.createParentDirectoriesAsync(_,function(kt){if(kt)return Me(kt);Ge._writable.open(_,Ae,qe,Me)});case Fe.NOP:return Ge._writable.exists(_,function(kt){kt?Ge._writable.open(_,Ae,qe,Me):(ft=ft.clone(),ft.mode=qe,Ge._readable.readFile(_,null,Vr("r"),function(Ht,ir){if(Ht)return Me(Ht);ft.size===-1&&(ft.size=ir.length);var _r=new Xn(Ge,_,Ae,ft,ir);Me(null,_r)}))});default:return Me(Ee.EEXIST(_))}else switch(Ae.pathNotExistsAction()){case Fe.CREATE_FILE:return Ge.createParentDirectoriesAsync(_,function(kt){return kt?Me(kt):Ge._writable.open(_,Ae,qe,Me)});default:return Me(Ee.ENOENT(_))}})},d.prototype.openSync=function(_,Ae,qe){if(this.checkInitialized(),this.checkPath(_),_===Ur)throw Ee.EPERM("Cannot open deletion log.");if(this.existsSync(_))switch(Ae.pathExistsAction()){case Fe.TRUNCATE_FILE:return this.createParentDirectories(_),this._writable.openSync(_,Ae,qe);case Fe.NOP:if(this._writable.existsSync(_))return this._writable.openSync(_,Ae,qe);var Me=this._readable.readFileSync(_,null,Vr("r")),Ge=this._readable.statSync(_,!1).clone();return Ge.mode=qe,new Xn(this,_,Ae,Ge,Me);default:throw Ee.EEXIST(_)}else switch(Ae.pathNotExistsAction()){case Fe.CREATE_FILE:return this.createParentDirectories(_),this._writable.openSync(_,Ae,qe);default:throw Ee.ENOENT(_)}},d.prototype.unlink=function(_,Ae){var qe=this;!this.checkInitAsync(Ae)||this.checkPathAsync(_,Ae)||this.exists(_,function(Me){if(!Me)return Ae(Ee.ENOENT(_));qe._writable.exists(_,function(Ge){if(Ge)return qe._writable.unlink(_,function(et){if(et)return Ae(et);qe.exists(_,function(ft){ft&&qe.deletePath(_),Ae(null)})});qe.deletePath(_),Ae(null)})})},d.prototype.unlinkSync=function(_){if(this.checkInitialized(),this.checkPath(_),this.existsSync(_))this._writable.existsSync(_)&&this._writable.unlinkSync(_),this.existsSync(_)&&this.deletePath(_);else throw Ee.ENOENT(_)},d.prototype.rmdir=function(_,Ae){var qe=this;if(this.checkInitAsync(Ae)){var Me=function(){qe.readdir(_,function(Ge,et){if(Ge)return Ae(Ge);if(et.length)return Ae(Ee.ENOTEMPTY(_));qe.deletePath(_),Ae(null)})};this.exists(_,function(Ge){if(!Ge)return Ae(Ee.ENOENT(_));qe._writable.exists(_,function(et){et?qe._writable.rmdir(_,function(ft){if(ft)return Ae(ft);qe._readable.exists(_,function(kt){kt?Me():Ae()})}):Me()})})}},d.prototype.rmdirSync=function(_){if(this.checkInitialized(),this.existsSync(_)){if(this._writable.existsSync(_)&&this._writable.rmdirSync(_),this.existsSync(_)){if(this.readdirSync(_).length>0)throw Ee.ENOTEMPTY(_);this.deletePath(_)}}else throw Ee.ENOENT(_)},d.prototype.mkdir=function(_,Ae,qe){var Me=this;this.checkInitAsync(qe)&&this.exists(_,function(Ge){if(Ge)return qe(Ee.EEXIST(_));Me.createParentDirectoriesAsync(_,function(et){if(et)return qe(et);Me._writable.mkdir(_,Ae,qe)})})},d.prototype.mkdirSync=function(_,Ae){if(this.checkInitialized(),this.existsSync(_))throw Ee.EEXIST(_);this.createParentDirectories(_),this._writable.mkdirSync(_,Ae)},d.prototype.readdir=function(_,Ae){var qe=this;this.checkInitAsync(Ae)&&this.stat(_,!1,function(Me,Ge){if(Me)return Ae(Me);if(!Ge.isDirectory())return Ae(Ee.ENOTDIR(_));qe._writable.readdir(_,function(et,ft){if(et&&et.code!=="ENOENT")return Ae(et);(et||!ft)&&(ft=[]),qe._readable.readdir(_,function(kt,Ht){(kt||!Ht)&&(Ht=[]);var ir={},_r=ft.concat(Ht.filter(function(vr){return!qe._deletedFiles[_+"/"+vr]})).filter(function(vr){var qr=!ir[vr];return ir[vr]=!0,qr});Ae(null,_r)})})})},d.prototype.readdirSync=function(_){var Ae=this;this.checkInitialized();var qe=this.statSync(_,!1);if(!qe.isDirectory())throw Ee.ENOTDIR(_);var Me=[];try{Me=Me.concat(this._writable.readdirSync(_))}catch{}try{Me=Me.concat(this._readable.readdirSync(_).filter(function(et){return!Ae._deletedFiles[_+"/"+et]}))}catch{}var Ge={};return Me.filter(function(et){var ft=!Ge[et];return Ge[et]=!0,ft})},d.prototype.exists=function(_,Ae){var qe=this;this.checkInitialized(),this._writable.exists(_,function(Me){if(Me)return Ae(!0);qe._readable.exists(_,function(Ge){Ae(Ge&&qe._deletedFiles[_]!==!0)})})},d.prototype.existsSync=function(_){return this.checkInitialized(),this._writable.existsSync(_)||this._readable.existsSync(_)&&this._deletedFiles[_]!==!0},d.prototype.chmod=function(_,Ae,qe,Me){var Ge=this;this.checkInitAsync(Me)&&this.operateOnWritableAsync(_,function(et){if(et)return Me(et);Ge._writable.chmod(_,Ae,qe,Me)})},d.prototype.chmodSync=function(_,Ae,qe){var Me=this;this.checkInitialized(),this.operateOnWritable(_,function(){Me._writable.chmodSync(_,Ae,qe)})},d.prototype.chown=function(_,Ae,qe,Me,Ge){var et=this;this.checkInitAsync(Ge)&&this.operateOnWritableAsync(_,function(ft){if(ft)return Ge(ft);et._writable.chown(_,Ae,qe,Me,Ge)})},d.prototype.chownSync=function(_,Ae,qe,Me){var Ge=this;this.checkInitialized(),this.operateOnWritable(_,function(){Ge._writable.chownSync(_,Ae,qe,Me)})},d.prototype.utimes=function(_,Ae,qe,Me){var Ge=this;this.checkInitAsync(Me)&&this.operateOnWritableAsync(_,function(et){if(et)return Me(et);Ge._writable.utimes(_,Ae,qe,Me)})},d.prototype.utimesSync=function(_,Ae,qe){var Me=this;this.checkInitialized(),this.operateOnWritable(_,function(){Me._writable.utimesSync(_,Ae,qe)})},d.prototype.deletePath=function(_){this._deletedFiles[_]=!0,this.updateLog("d"+_+`
`)},d.prototype.updateLog=function(_){var Ae=this;this._deleteLog+=_,this._deleteLogUpdatePending?this._deleteLogUpdateNeeded=!0:(this._deleteLogUpdatePending=!0,this._writable.writeFile(Ur,this._deleteLog,"utf8",Ne.getFileFlag("w"),420,function(qe){Ae._deleteLogUpdatePending=!1,qe?Ae._deleteLogError=qe:Ae._deleteLogUpdateNeeded&&(Ae._deleteLogUpdateNeeded=!1,Ae.updateLog(""))}))},d.prototype._reparseDeletionLog=function(){var _=this;this._deletedFiles={},this._deleteLog.split(`
`).forEach(function(Ae){_._deletedFiles[Ae.slice(1)]=Ae.slice(0,1)==="d"})},d.prototype.checkInitialized=function(){if(this._isInitialized){if(this._deleteLogError!==null){var _=this._deleteLogError;throw this._deleteLogError=null,_}}else throw new Ee(ne.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.")},d.prototype.checkInitAsync=function(_){if(this._isInitialized){if(this._deleteLogError!==null){var Ae=this._deleteLogError;return this._deleteLogError=null,_(Ae),!1}}else return _(new Ee(ne.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.")),!1;return!0},d.prototype.checkPath=function(_){if(_===Ur)throw Ee.EPERM(_)},d.prototype.checkPathAsync=function(_,Ae){return _===Ur?(Ae(Ee.EPERM(_)),!0):!1},d.prototype.createParentDirectoriesAsync=function(_,Ae){var qe=Oe.dirname(_),Me=[],Ge=this;this._writable.stat(qe,!1,et);function et(kt,Ht){kt?(Me.push(qe),qe=Oe.dirname(qe),Ge._writable.stat(qe,!1,et)):ft()}function ft(){if(!Me.length)return Ae();var kt=Me.pop();Ge._readable.stat(kt,!1,function(Ht,ir){if(!ir)return Ae();Ge._writable.mkdir(kt,ir.mode,function(_r){if(_r)return Ae(_r);ft()})})}},d.prototype.createParentDirectories=function(_){for(var Ae=this,qe=Oe.dirname(_),Me=[];!this._writable.existsSync(qe);)Me.push(qe),qe=Oe.dirname(qe);Me=Me.reverse(),Me.forEach(function(Ge){Ae._writable.mkdirSync(Ge,Ae.statSync(Ge,!1).mode)})},d.prototype.operateOnWritable=function(_,Ae){if(this.existsSync(_))this._writable.existsSync(_)||this.copyToWritable(_),Ae();else throw Ee.ENOENT(_)},d.prototype.operateOnWritableAsync=function(_,Ae){var qe=this;this.exists(_,function(Me){if(!Me)return Ae(Ee.ENOENT(_));qe._writable.exists(_,function(Ge){if(Ge)Ae();else return qe.copyToWritableAsync(_,Ae)})})},d.prototype.copyToWritable=function(_){var Ae=this.statSync(_,!1);Ae.isDirectory()?this._writable.mkdirSync(_,Ae.mode):this.writeFileSync(_,this._readable.readFileSync(_,null,Vr("r")),null,Vr("w"),this.statSync(_,!1).mode)},d.prototype.copyToWritableAsync=function(_,Ae){var qe=this;this.stat(_,!1,function(Me,Ge){if(Me)return Ae(Me);if(Ge.isDirectory())return qe._writable.mkdir(_,Ge.mode,Ae);qe._readable.readFile(_,null,Vr("r"),function(et,ft){if(et)return Ae(et);qe.writeFile(_,ft,null,Vr("w"),Ge.mode,Ae)})})},d}(At),An=function(_e){function d(k,_,Ae){Ae===void 0&&(Ae=!0),_e.call(this,new Hr(k,_)),Zt(Ae,d.Name,{readable:"readable file system",writable:"writable file system"})}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.Create=function(_,Ae){try{var qe=new d(_.writable,_.readable,!1);qe.initialize(function(Me){Ae(Me,qe)},!1)}catch(Me){Ae(Me)}},d.isAvailable=function(){return Hr.isAvailable()},d.prototype.initialize=function(_,Ae){Ae===void 0&&(Ae=!0),Ae&&console.warn("[OverlayFS] OverlayFS.initialize() is deprecated and will be removed in the next major release. Please use 'OverlayFS.Create({readable: readable file system instance, writable: writable file system instance}, cb)' to create and initialize OverlayFS instances."),_e.prototype.initialize.call(this,_)},d.prototype.getOverlayedFileSystems=function(){return _e.prototype.getFSUnlocked.call(this).getOverlayedFileSystems()},d.prototype.unwrap=function(){return _e.prototype.getFSUnlocked.call(this)},d}(pr);An.Name="OverlayFS",An.Options={writable:{type:"object",description:"The file system to write modified files to."},readable:{type:"object",description:"The file system that initially populates this file system."}};var Yr;(function(_e){_e[_e.CB=0]="CB",_e[_e.FD=1]="FD",_e[_e.API_ERROR=2]="API_ERROR",_e[_e.STATS=3]="STATS",_e[_e.PROBE=4]="PROBE",_e[_e.FILEFLAG=5]="FILEFLAG",_e[_e.BUFFER=6]="BUFFER",_e[_e.ERROR=7]="ERROR"})(Yr||(Yr={}));var ta=function(){this._callbacks={},this._nextId=0};ta.prototype.toRemoteArg=function(d){var k=this._nextId++;return this._callbacks[k]=d,{type:Yr.CB,id:k}},ta.prototype.toLocalArg=function(d){var k=this._callbacks[d];return delete this._callbacks[d],k};var Rn=function(){this._fileDescriptors={},this._nextId=0};Rn.prototype.toRemoteArg=function(d,k,_,Ae){var qe=this._nextId++,Me,Ge;this._fileDescriptors[qe]=d,d.stat(function(et,ft){et?Ae(et):(Ge=Ca(ft.toBuffer()),_.isReadable()?d.read(f.alloc(ft.size),0,ft.size,0,function(kt,Ht,ir){kt?Ae(kt):(Me=Ca(ir),Ae(null,{type:Yr.FD,id:qe,data:Me,stat:Ge,path:k,flag:_.getFlagString()}))}):Ae(null,{type:Yr.FD,id:qe,data:new ArrayBuffer(0),stat:Ge,path:k,flag:_.getFlagString()}))})},Rn.prototype.applyFdAPIRequest=function(d,k){var _=this,Ae=d.args[0];this._applyFdChanges(Ae,function(qe,Me){qe?k(qe):Me[d.method](function(Ge){d.method==="close"&&delete _._fileDescriptors[Ae.id],k(Ge)})})},Rn.prototype._applyFdChanges=function(d,k){var _=this._fileDescriptors[d.id],Ae=ka(d.data),qe=Ue.fromBuffer(ka(d.stat)),Me=Ne.getFileFlag(d.flag);Me.isWriteable()?_.write(Ae,0,Ae.length,Me.isAppendable()?_.getPos():0,function(Ge){function et(){_.stat(function(ft,kt){ft?k(ft):kt.mode!==qe.mode?_.chmod(qe.mode,function(Ht){k(Ht,_)}):k(ft,_)})}Ge?k(Ge):Me.isAppendable()?et():_.truncate(Ae.length,function(){et()})}):k(null,_)};function xi(_e){return{type:Yr.API_ERROR,errorData:Ca(_e.writeToBuffer())}}function yo(_e){return Ee.fromBuffer(ka(_e.errorData))}function gu(_e){return{type:Yr.ERROR,name:_e.name,message:_e.message,stack:_e.stack}}function yu(_e){var d=bn[_e.name];typeof d!="function"&&(d=Error);var k=new d(_e.message);return k.stack=_e.stack,k}function bu(_e){return{type:Yr.STATS,statsData:Ca(_e.toBuffer())}}function Eu(_e){return Ue.fromBuffer(ka(_e.statsData))}function wu(_e){return{type:Yr.FILEFLAG,flagStr:_e.getFlagString()}}function Su(_e){return Ne.getFileFlag(_e.flagStr)}function Ca(_e){return ct(_e)}function ka(_e){return Kt(_e)}function Au(_e){return{type:Yr.BUFFER,data:Ca(_e)}}function Iu(_e){return ka(_e.data)}function Ql(_e){return _e&&typeof _e=="object"&&_e.hasOwnProperty("browserfsMessage")&&_e.browserfsMessage}function Jl(_e){return _e&&typeof _e=="object"&&_e.hasOwnProperty("browserfsMessage")&&_e.browserfsMessage}var Cu=function(_e){function d(k,_,Ae,qe,Me,Ge){_e.call(this,k,_,Ae,qe,Ge),this._remoteFdId=Me}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.getRemoteFdId=function(){return this._remoteFdId},d.prototype.toRemoteArg=function(){return{type:Yr.FD,id:this._remoteFdId,data:Ca(this.getBuffer()),stat:Ca(this.getStats().toBuffer()),path:this.getPath(),flag:this.getFlag().getFlagString()}},d.prototype.sync=function(_){this._syncClose("sync",_)},d.prototype.close=function(_){this._syncClose("close",_)},d.prototype._syncClose=function(_,Ae){var qe=this;this.isDirty()?this._fs.syncClose(_,this,function(Me){Me||qe.resetDirty(),Ae(Me)}):Ae()},d}(pt),F0=function(_e){function d(k,_){var Ae=this;_===void 0&&(_=!0),_e.call(this),this._callbackConverter=new ta,this._isInitialized=!1,this._isReadOnly=!1,this._supportLinks=!1,this._supportProps=!1,this._worker=k,Zt(_,d.Name,{worker:"Web Worker instance"}),this._worker.addEventListener("message",function(qe){var Me=qe.data;if(Jl(Me)){var Ge,et=Me.args,ft=new Array(et.length);for(Ge=0;Ge<ft.length;Ge++)ft[Ge]=Ae._argRemote2Local(et[Ge]);Ae._callbackConverter.toLocalArg(Me.cbId).apply(null,ft)}})}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.Create=function(_,Ae){var qe=new d(_.worker,!1);qe.initialize(function(){Ae(null,qe)})},d.isAvailable=function(){return typeof importScripts<"u"||typeof Worker<"u"},d.attachRemoteListener=function(_){var Ae=new Rn;function qe(Ge,et,ft){switch(typeof Ge){case"object":Ge instanceof Ue?ft(null,bu(Ge)):Ge instanceof Ee?ft(null,xi(Ge)):Ge instanceof xt?ft(null,Ae.toRemoteArg(Ge,et[0],et[1],ft)):Ge instanceof Ne?ft(null,wu(Ge)):Ge instanceof f?ft(null,Au(Ge)):Ge instanceof Error?ft(null,gu(Ge)):ft(null,Ge);break;default:ft(null,Ge);break}}function Me(Ge,et){if(!Ge)return Ge;switch(typeof Ge){case"object":if(typeof Ge.type=="number"){var ft=Ge;switch(ft.type){case Yr.CB:var kt=Ge.id;return function(){var Ht=arguments,ir,_r=new Array(arguments.length),vr,qr=arguments.length;function jr(Wr){qr>0&&(qr=-1,vr={browserfsMessage:!0,cbId:kt,args:[xi(Wr)]},_.postMessage(vr))}for(ir=0;ir<arguments.length;ir++)(function(Wr,En){qe(En,et,function(Mn,Ri){_r[Wr]=Ri,Mn?jr(Mn):--qr===0&&(vr={browserfsMessage:!0,cbId:kt,args:_r},_.postMessage(vr))})})(ir,Ht[ir]);arguments.length===0&&(vr={browserfsMessage:!0,cbId:kt,args:_r},_.postMessage(vr))};case Yr.API_ERROR:return yo(ft);case Yr.STATS:return Eu(ft);case Yr.FILEFLAG:return Su(ft);case Yr.BUFFER:return Iu(ft);case Yr.ERROR:return yu(ft);default:return Ge}}else return Ge;default:return Ge}}_.addEventListener("message",function(Ge){var et=Ge.data;if(Ql(et)){var ft=et.args,kt=new Array(ft.length);switch(et.method){case"close":case"sync":(function(){var _r=ft[1];Ae.applyFdAPIRequest(et,function(vr){var qr={browserfsMessage:!0,cbId:_r.id,args:vr?[xi(vr)]:[]};_.postMessage(qr)})})();break;case"probe":(function(){var _r=it.getRootFS(),vr=ft[1],qr={type:Yr.PROBE,isReadOnly:_r.isReadOnly(),supportsLinks:_r.supportsLinks(),supportsProps:_r.supportsProps()},jr={browserfsMessage:!0,cbId:vr.id,args:[qr]};_.postMessage(jr)})();break;default:for(var Ht=0;Ht<ft.length;Ht++)kt[Ht]=Me(ft[Ht],kt);var ir=it.getRootFS();ir[et.method].apply(ir,kt);break}}})},d.prototype.getName=function(){return d.Name},d.prototype.initialize=function(_){var Ae=this;if(this._isInitialized)_();else{var qe={browserfsMessage:!0,method:"probe",args:[this._argLocal2Remote(sr()),this._callbackConverter.toRemoteArg(function(Me){Ae._isInitialized=!0,Ae._isReadOnly=Me.isReadOnly,Ae._supportLinks=Me.supportsLinks,Ae._supportProps=Me.supportsProps,_()})]};this._worker.postMessage(qe)}},d.prototype.isReadOnly=function(){return this._isReadOnly},d.prototype.supportsSynch=function(){return!1},d.prototype.supportsLinks=function(){return this._supportLinks},d.prototype.supportsProps=function(){return this._supportProps},d.prototype.rename=function(_,Ae,qe){this._rpc("rename",arguments)},d.prototype.stat=function(_,Ae,qe){this._rpc("stat",arguments)},d.prototype.open=function(_,Ae,qe,Me){this._rpc("open",arguments)},d.prototype.unlink=function(_,Ae){this._rpc("unlink",arguments)},d.prototype.rmdir=function(_,Ae){this._rpc("rmdir",arguments)},d.prototype.mkdir=function(_,Ae,qe){this._rpc("mkdir",arguments)},d.prototype.readdir=function(_,Ae){this._rpc("readdir",arguments)},d.prototype.exists=function(_,Ae){this._rpc("exists",arguments)},d.prototype.realpath=function(_,Ae,qe){this._rpc("realpath",arguments)},d.prototype.truncate=function(_,Ae,qe){this._rpc("truncate",arguments)},d.prototype.readFile=function(_,Ae,qe,Me){this._rpc("readFile",arguments)},d.prototype.writeFile=function(_,Ae,qe,Me,Ge,et){this._rpc("writeFile",arguments)},d.prototype.appendFile=function(_,Ae,qe,Me,Ge,et){this._rpc("appendFile",arguments)},d.prototype.chmod=function(_,Ae,qe,Me){this._rpc("chmod",arguments)},d.prototype.chown=function(_,Ae,qe,Me,Ge){this._rpc("chown",arguments)},d.prototype.utimes=function(_,Ae,qe,Me){this._rpc("utimes",arguments)},d.prototype.link=function(_,Ae,qe){this._rpc("link",arguments)},d.prototype.symlink=function(_,Ae,qe,Me){this._rpc("symlink",arguments)},d.prototype.readlink=function(_,Ae){this._rpc("readlink",arguments)},d.prototype.syncClose=function(_,Ae,qe){this._worker.postMessage({browserfsMessage:!0,method:_,args:[Ae.toRemoteArg(),this._callbackConverter.toRemoteArg(qe)]})},d.prototype._argRemote2Local=function(_){if(!_)return _;switch(typeof _){case"object":if(typeof _.type=="number"){var Ae=_;switch(Ae.type){case Yr.API_ERROR:return yo(Ae);case Yr.FD:var qe=Ae;return new Cu(this,qe.path,Ne.getFileFlag(qe.flag),Ue.fromBuffer(ka(qe.stat)),qe.id,ka(qe.data));case Yr.STATS:return Eu(Ae);case Yr.FILEFLAG:return Su(Ae);case Yr.BUFFER:return Iu(Ae);case Yr.ERROR:return yu(Ae);default:return _}}else return _;default:return _}},d.prototype._rpc=function(_,Ae){for(var qe=this,Me=new Array(Ae.length),Ge=0;Ge<Ae.length;Ge++)Me[Ge]=qe._argLocal2Remote(Ae[Ge]);var et={browserfsMessage:!0,method:_,args:Me};this._worker.postMessage(et)},d.prototype._argLocal2Remote=function(_){if(!_)return _;switch(typeof _){case"object":return _ instanceof Ue?bu(_):_ instanceof Ee?xi(_):_ instanceof Cu?_.toRemoteArg():_ instanceof Ne?wu(_):_ instanceof f?Au(_):_ instanceof Error?gu(_):"Unknown argument";case"function":return this._callbackConverter.toRemoteArg(_);default:return _}},d}(At);F0.Name="WorkerFS",F0.Options={worker:{type:"object",description:"The target worker that you want to connect to, or the current worker if in a worker context.",validator:function(_e,d){_e.postMessage?d():d(new Ee(ne.EINVAL,"option must be a Web Worker instance."))}}};function Xl(_e,d,k){var _=new XMLHttpRequest;_.open("GET",_e,!0);var Ae=!0;switch(d){case"buffer":_.responseType="arraybuffer";break;case"json":try{_.responseType="json",Ae=_.responseType==="json"}catch{Ae=!1}break;default:return k(new Ee(ne.EINVAL,"Invalid download type: "+d))}_.onreadystatechange=function(qe){if(_.readyState===4)if(_.status===200)switch(d){case"buffer":return k(null,_.response?f.from(_.response):sr());case"json":return Ae?k(null,_.response):k(null,JSON.parse(_.responseText))}else return k(new Ee(_.status,"XHR error."))},_.send()}function Zl(_e,d){var k=new XMLHttpRequest;k.open("GET",_e,!1);var _=null,Ae=null;if(k.overrideMimeType("text/plain; charset=x-user-defined"),k.onreadystatechange=function(qe){if(k.readyState===4)if(k.status===200)switch(d){case"buffer":var Me=k.responseText;_=f.alloc(Me.length);for(var Ge=0;Ge<Me.length;Ge++)_[Ge]=Me.charCodeAt(Ge);return;case"json":_=JSON.parse(k.responseText);return}else{Ae=new Ee(k.status,"XHR error.");return}},k.send(),Ae)throw Ae;return _}function $l(_e,d){var k=new XMLHttpRequest;switch(k.open("GET",_e,!1),d){case"buffer":k.responseType="arraybuffer";break;case"json":break;default:throw new Ee(ne.EINVAL,"Invalid download type: "+d)}var _,Ae;if(k.onreadystatechange=function(qe){if(k.readyState===4)if(k.status===200)switch(d){case"buffer":_=f.from(k.response);break;case"json":_=JSON.parse(k.response);break}else Ae=new Ee(k.status,"XHR error.")},k.send(),Ae)throw Ae;return _}function ku(_e,d,k){var _=new XMLHttpRequest;_.open("HEAD",d,_e),_.onreadystatechange=function(Ae){if(_.readyState===4)if(_.status===200)try{return k(null,parseInt(_.getResponseHeader("Content-Length")||"-1",10))}catch{return k(new Ee(ne.EIO,"XHR HEAD error: Could not read content-length."))}else return k(new Ee(_.status,"XHR HEAD error."))},_.send()}var Ou=Xl,ef=jt&&typeof Blob<"u"?$l:Zl;function tf(_e){var d=-1;return ku(!1,_e,function(k,_){if(k)throw k;d=_}),d}function rf(_e,d){ku(!0,_e,d)}var hi=function(){this._index={},this.addPath("/",new Zn)};hi.fromListing=function(d){var k=new hi,_=new Zn;k._index["/"]=_;for(var Ae=[["",d,_]];Ae.length>0;){var qe=void 0,Me=Ae.pop(),Ge=Me[0],et=Me[1],ft=Me[2];for(var kt in et)if(et.hasOwnProperty(kt)){var Ht=et[kt],ir=Ge+"/"+kt;Ht?(k._index[ir]=qe=new Zn,Ae.push([ir,Ht,qe])):qe=new bo(new Ue(Ve.FILE,-1,365)),ft&&(ft._ls[kt]=qe)}}return k},hi.prototype.fileIterator=function(d){var k=this;for(var _ in k._index)if(k._index.hasOwnProperty(_))for(var Ae=k._index[_],qe=Ae.getListing(),Me=0,Ge=qe;Me<Ge.length;Me+=1){var et=Ge[Me],ft=Ae.getItem(et);zi(ft)&&d(ft.getData())}},hi.prototype.addPath=function(d,k){if(!k)throw new Error("Inode must be specified");if(d[0]!=="/")throw new Error("Path must be absolute, got: "+d);if(this._index.hasOwnProperty(d))return this._index[d]===k;var _=this._split_path(d),Ae=_[0],qe=_[1],Me=this._index[Ae];return Me===void 0&&d!=="/"&&(Me=new Zn,!this.addPath(Ae,Me))||d!=="/"&&!Me.addItem(qe,k)?!1:(ra(k)&&(this._index[d]=k),!0)},hi.prototype.addPathFast=function(d,k){var _=d.lastIndexOf("/"),Ae=_===0?"/":d.substring(0,_),qe=d.substring(_+1),Me=this._index[Ae];return Me===void 0&&(Me=new Zn,this.addPathFast(Ae,Me)),Me.addItem(qe,k)?(k.isDir()&&(this._index[d]=k),!0):!1},hi.prototype.removePath=function(d){var k=this,_=this._split_path(d),Ae=_[0],qe=_[1],Me=this._index[Ae];if(Me===void 0)return null;var Ge=Me.remItem(qe);if(Ge===null)return null;if(ra(Ge)){for(var et=Ge.getListing(),ft=0,kt=et;ft<kt.length;ft+=1){var Ht=kt[ft];k.removePath(d+"/"+Ht)}d!=="/"&&delete this._index[d]}return Ge},hi.prototype.ls=function(d){var k=this._index[d];return k===void 0?null:k.getListing()},hi.prototype.getInode=function(d){var k=this._split_path(d),_=k[0],Ae=k[1],qe=this._index[_];return qe===void 0?null:_===d?qe:qe.getItem(Ae)},hi.prototype._split_path=function(d){var k=Oe.dirname(d),_=d.substr(k.length+(k==="/"?0:1));return[k,_]};var bo=function(d){this.data=d};bo.prototype.isFile=function(){return!0},bo.prototype.isDir=function(){return!1},bo.prototype.getData=function(){return this.data},bo.prototype.setData=function(d){this.data=d};var Zn=function(d){d===void 0&&(d=null),this.data=d,this._ls={}};Zn.prototype.isFile=function(){return!1},Zn.prototype.isDir=function(){return!0},Zn.prototype.getData=function(){return this.data},Zn.prototype.getStats=function(){return new Ue(Ve.DIRECTORY,4096,365)},Zn.prototype.getListing=function(){return Object.keys(this._ls)},Zn.prototype.getItem=function(d){var k=this._ls[d];return k||null},Zn.prototype.addItem=function(d,k){return d in this._ls?!1:(this._ls[d]=k,!0)},Zn.prototype.remItem=function(d){var k=this._ls[d];return k===void 0?null:(delete this._ls[d],k)};function zi(_e){return!!_e&&_e.isFile()}function ra(_e){return!!_e&&_e.isDir()}function nf(_e,d,k){try{k(null,_e.toString(d))}catch(_){k(_)}}var P0=function(_e){function d(k,_,Ae){_===void 0&&(_=""),Ae===void 0&&(Ae=!0),_e.call(this),k||(k="index.json"),_.length>0&&_.charAt(_.length-1)!=="/"&&(_=_+"/"),this.prefixUrl=_;var qe=null;if(typeof k=="string"){if(qe=this._requestFileSync(k,"json"),!qe)throw new Error("Unable to find listing at URL: ${listingUrlOrObj}")}else qe=k;Zt(Ae,d.Name,{index:typeof k=="string"?k:"file index as an object",baseUrl:_}),this._index=hi.fromListing(qe)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.Create=function(_,Ae){_.index===void 0&&(_.index="index.json"),typeof _.index=="string"?d.FromURL(_.index,Ae,_.baseUrl,!1):Ae(null,new d(_.index,_.baseUrl,!1))},d.isAvailable=function(){return typeof XMLHttpRequest<"u"&&XMLHttpRequest!==null},d.FromURL=function(_,Ae,qe,Me){qe===void 0&&(qe=_.slice(0,_.lastIndexOf("/")+1)),Me===void 0&&(Me=!0),Me&&console.warn(`[XmlHttpRequest] XmlHttpRequest.FromURL() is deprecated and will be removed in the next major release. Please use 'XmlHttpRequest.Create({ index: "`+_+'", baseUrl: "'+qe+`" }, cb)' instead.`),Ou(_,"json",function(Ge,et){Ge?Ae(Ge):Ae(null,new d(et,qe,!1))})},d.prototype.empty=function(){this._index.fileIterator(function(_){_.fileData=null})},d.prototype.getName=function(){return d.Name},d.prototype.diskSpace=function(_,Ae){Ae(0,0)},d.prototype.isReadOnly=function(){return!0},d.prototype.supportsLinks=function(){return!1},d.prototype.supportsProps=function(){return!1},d.prototype.supportsSynch=function(){return!0},d.prototype.preloadFile=function(_,Ae){var qe=this._index.getInode(_);if(zi(qe)){if(qe===null)throw Ee.ENOENT(_);var Me=qe.getData();Me.size=Ae.length,Me.fileData=Ae}else throw Ee.EISDIR(_)},d.prototype.stat=function(_,Ae,qe){var Me=this._index.getInode(_);if(Me===null)return qe(Ee.ENOENT(_));var Ge;zi(Me)?(Ge=Me.getData(),Ge.size<0?this._requestFileSizeAsync(_,function(et,ft){if(et)return qe(et);Ge.size=ft,qe(null,Ge.clone())}):qe(null,Ge.clone())):ra(Me)?(Ge=Me.getStats(),qe(null,Ge)):qe(Ee.FileError(ne.EINVAL,_))},d.prototype.statSync=function(_,Ae){var qe=this._index.getInode(_);if(qe===null)throw Ee.ENOENT(_);var Me;if(zi(qe))Me=qe.getData(),Me.size<0&&(Me.size=this._requestFileSizeSync(_));else if(ra(qe))Me=qe.getStats();else throw Ee.FileError(ne.EINVAL,_);return Me},d.prototype.open=function(_,Ae,qe,Me){if(Ae.isWriteable())return Me(new Ee(ne.EPERM,_));var Ge=this,et=this._index.getInode(_);if(et===null)return Me(Ee.ENOENT(_));if(zi(et)){var ft=et.getData();switch(Ae.pathExistsAction()){case Fe.THROW_EXCEPTION:case Fe.TRUNCATE_FILE:return Me(Ee.EEXIST(_));case Fe.NOP:if(ft.fileData)return Me(null,new Dt(Ge,_,Ae,ft.clone(),ft.fileData));this._requestFileAsync(_,"buffer",function(kt,Ht){return kt?Me(kt):(ft.size=Ht.length,ft.fileData=Ht,Me(null,new Dt(Ge,_,Ae,ft.clone(),Ht)))});break;default:return Me(new Ee(ne.EINVAL,"Invalid FileMode object."))}}else return Me(Ee.EISDIR(_))},d.prototype.openSync=function(_,Ae,qe){if(Ae.isWriteable())throw new Ee(ne.EPERM,_);var Me=this._index.getInode(_);if(Me===null)throw Ee.ENOENT(_);if(zi(Me)){var Ge=Me.getData();switch(Ae.pathExistsAction()){case Fe.THROW_EXCEPTION:case Fe.TRUNCATE_FILE:throw Ee.EEXIST(_);case Fe.NOP:if(Ge.fileData)return new Dt(this,_,Ae,Ge.clone(),Ge.fileData);var et=this._requestFileSync(_,"buffer");return Ge.size=et.length,Ge.fileData=et,new Dt(this,_,Ae,Ge.clone(),et);default:throw new Ee(ne.EINVAL,"Invalid FileMode object.")}}else throw Ee.EISDIR(_)},d.prototype.readdir=function(_,Ae){try{Ae(null,this.readdirSync(_))}catch(qe){Ae(qe)}},d.prototype.readdirSync=function(_){var Ae=this._index.getInode(_);if(Ae===null)throw Ee.ENOENT(_);if(ra(Ae))return Ae.getListing();throw Ee.ENOTDIR(_)},d.prototype.readFile=function(_,Ae,qe,Me){var Ge=Me;this.open(_,qe,420,function(et,ft){if(et)return Me(et);Me=function(ir,_r){ft.close(function(vr){return ir||(ir=vr),Ge(ir,_r)})};var kt=ft,Ht=kt.getBuffer();Ae===null?Me(et,fr(Ht)):nf(Ht,Ae,Me)})},d.prototype.readFileSync=function(_,Ae,qe){var Me=this.openSync(_,qe,420);try{var Ge=Me,et=Ge.getBuffer();return Ae===null?fr(et):et.toString(Ae)}finally{Me.closeSync()}},d.prototype.getXhrPath=function(_){return _.charAt(0)==="/"&&(_=_.slice(1)),this.prefixUrl+_},d.prototype._requestFileAsync=function(_,Ae,qe){Ou(this.getXhrPath(_),Ae,qe)},d.prototype._requestFileSync=function(_,Ae){return ef(this.getXhrPath(_),Ae)},d.prototype._requestFileSizeAsync=function(_,Ae){rf(this.getXhrPath(_),Ae)},d.prototype._requestFileSizeSync=function(_){return tf(this.getXhrPath(_))},d}(At);P0.Name="XmlHttpRequest",P0.Options={index:{type:["string","object"],optional:!0,description:"URL to a file index as a JSON file or the file index object itself, generated with the make_xhrfs_index script. Defaults to `index.json`."},baseUrl:{type:"string",optional:!0,description:"Used as the URL prefix for fetched files. Default: Fetch files relative to the index."}};var Oa=function(){};Oa.str2byte=function(d,k){for(var _=d.length>k.length?k.length:d.length,Ae=0;Ae<_;Ae++){var qe=d.charCodeAt(Ae);if(qe>127){var Me=Oa.extendedChars.indexOf(d.charAt(Ae));Me>-1&&(qe=Me+128)}k[qe]=Ae}return _},Oa.byte2str=function(d){for(var k=new Array(d.length),_=0;_<d.length;_++){var Ae=d[_];Ae>127?k[_]=Oa.extendedChars[Ae-128]:k[_]=String.fromCharCode(Ae)}return k.join("")},Oa.byteLength=function(d){return d.length},Oa.extendedChars=["Ç","ü","é","â","ä","à","å","ç","ê","ë","è","ï","î","ì","Ä","Å","É","æ","Æ","ô","ö","ò","û","ù","ÿ","Ö","Ü","ø","£","Ø","×","ƒ","á","í","ó","ú","ñ","Ñ","ª","º","¿","®","¬","½","¼","¡","«","»","_","_","_","¦","¦","Á","Â","À","©","¦","¦","+","+","¢","¥","+","+","-","-","+","-","+","ã","Ã","+","+","-","-","¦","-","+","¤","ð","Ð","Ê","Ë","È","i","Í","Î","Ï","+","+","_","_","¦","Ì","_","Ó","ß","Ô","Ò","õ","Õ","µ","þ","Þ","Ú","Û","Ù","ý","Ý","¯","´","­","±","_","¾","¶","§","÷","¸","°","¨","·","¹","³","²","_"," "];var af=c(31).inflateRaw,Tu={},Du;(function(_e){_e[_e.MSDOS=0]="MSDOS",_e[_e.AMIGA=1]="AMIGA",_e[_e.OPENVMS=2]="OPENVMS",_e[_e.UNIX=3]="UNIX",_e[_e.VM_CMS=4]="VM_CMS",_e[_e.ATARI_ST=5]="ATARI_ST",_e[_e.OS2_HPFS=6]="OS2_HPFS",_e[_e.MAC=7]="MAC",_e[_e.Z_SYSTEM=8]="Z_SYSTEM",_e[_e.CP_M=9]="CP_M",_e[_e.NTFS=10]="NTFS",_e[_e.MVS=11]="MVS",_e[_e.VSE=12]="VSE",_e[_e.ACORN_RISC=13]="ACORN_RISC",_e[_e.VFAT=14]="VFAT",_e[_e.ALT_MVS=15]="ALT_MVS",_e[_e.BEOS=16]="BEOS",_e[_e.TANDEM=17]="TANDEM",_e[_e.OS_400=18]="OS_400",_e[_e.OSX=19]="OSX"})(Du||(Du={}));var Eo;(function(_e){_e[_e.STORED=0]="STORED",_e[_e.SHRUNK=1]="SHRUNK",_e[_e.REDUCED_1=2]="REDUCED_1",_e[_e.REDUCED_2=3]="REDUCED_2",_e[_e.REDUCED_3=4]="REDUCED_3",_e[_e.REDUCED_4=5]="REDUCED_4",_e[_e.IMPLODE=6]="IMPLODE",_e[_e.DEFLATE=8]="DEFLATE",_e[_e.DEFLATE64=9]="DEFLATE64",_e[_e.TERSE_OLD=10]="TERSE_OLD",_e[_e.BZIP2=12]="BZIP2",_e[_e.LZMA=14]="LZMA",_e[_e.TERSE_NEW=18]="TERSE_NEW",_e[_e.LZ77=19]="LZ77",_e[_e.WAVPACK=97]="WAVPACK",_e[_e.PPMD=98]="PPMD"})(Eo||(Eo={}));function Ru(_e,d){var k=d&31,_=(d>>5&15)-1,Ae=(d>>9)+1980,qe=_e&31,Me=_e>>5&63,Ge=_e>>11;return new Date(Ae,_,k,Ge,Me,qe)}function B0(_e,d,k,_){return _===0?"":d?_e.toString("utf8",k,k+_):Oa.byte2str(_e.slice(k,k+_))}var ai=function(d){if(this.data=d,d.readUInt32LE(0)!==67324752)throw new Ee(ne.EINVAL,"Invalid Zip file: Local file header has invalid signature: "+this.data.readUInt32LE(0))};ai.prototype.versionNeeded=function(){return this.data.readUInt16LE(4)},ai.prototype.flags=function(){return this.data.readUInt16LE(6)},ai.prototype.compressionMethod=function(){return this.data.readUInt16LE(8)},ai.prototype.lastModFileTime=function(){return Ru(this.data.readUInt16LE(10),this.data.readUInt16LE(12))},ai.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(10)},ai.prototype.crc32=function(){return this.data.readUInt32LE(14)},ai.prototype.fileNameLength=function(){return this.data.readUInt16LE(26)},ai.prototype.extraFieldLength=function(){return this.data.readUInt16LE(28)},ai.prototype.fileName=function(){return B0(this.data,this.useUTF8(),30,this.fileNameLength())},ai.prototype.extraField=function(){var d=30+this.fileNameLength();return this.data.slice(d,d+this.extraFieldLength())},ai.prototype.totalSize=function(){return 30+this.fileNameLength()+this.extraFieldLength()},ai.prototype.useUTF8=function(){return(this.flags()&2048)===2048};var Is=function(d,k,_){this.header=d,this.record=k,this.data=_};Is.prototype.decompress=function(){var d=this.header.compressionMethod(),k=Tu[d];if(k)return k(this.data,this.record.compressedSize(),this.record.uncompressedSize(),this.record.flag());var _=Eo[d];throw _||(_="Unknown: "+d),new Ee(ne.EINVAL,"Invalid compression method on file '"+this.header.fileName()+"': "+_)},Is.prototype.getHeader=function(){return this.header},Is.prototype.getRecord=function(){return this.record},Is.prototype.getRawData=function(){return this.data};var rn=function(d,k){if(this.zipData=d,this.data=k,this.data.readUInt32LE(0)!==33639248)throw new Ee(ne.EINVAL,"Invalid Zip file: Central directory record has invalid signature: "+this.data.readUInt32LE(0));this._filename=this.produceFilename()};rn.prototype.versionMadeBy=function(){return this.data.readUInt16LE(4)},rn.prototype.versionNeeded=function(){return this.data.readUInt16LE(6)},rn.prototype.flag=function(){return this.data.readUInt16LE(8)},rn.prototype.compressionMethod=function(){return this.data.readUInt16LE(10)},rn.prototype.lastModFileTime=function(){return Ru(this.data.readUInt16LE(12),this.data.readUInt16LE(14))},rn.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(12)},rn.prototype.crc32=function(){return this.data.readUInt32LE(16)},rn.prototype.compressedSize=function(){return this.data.readUInt32LE(20)},rn.prototype.uncompressedSize=function(){return this.data.readUInt32LE(24)},rn.prototype.fileNameLength=function(){return this.data.readUInt16LE(28)},rn.prototype.extraFieldLength=function(){return this.data.readUInt16LE(30)},rn.prototype.fileCommentLength=function(){return this.data.readUInt16LE(32)},rn.prototype.diskNumberStart=function(){return this.data.readUInt16LE(34)},rn.prototype.internalAttributes=function(){return this.data.readUInt16LE(36)},rn.prototype.externalAttributes=function(){return this.data.readUInt32LE(38)},rn.prototype.headerRelativeOffset=function(){return this.data.readUInt32LE(42)},rn.prototype.produceFilename=function(){var d=B0(this.data,this.useUTF8(),46,this.fileNameLength());return d.replace(/\\/g,"/")},rn.prototype.fileName=function(){return this._filename},rn.prototype.rawFileName=function(){return this.data.slice(46,46+this.fileNameLength())},rn.prototype.extraField=function(){var d=44+this.fileNameLength();return this.data.slice(d,d+this.extraFieldLength())},rn.prototype.fileComment=function(){var d=46+this.fileNameLength()+this.extraFieldLength();return B0(this.data,this.useUTF8(),d,this.fileCommentLength())},rn.prototype.rawFileComment=function(){var d=46+this.fileNameLength()+this.extraFieldLength();return this.data.slice(d,d+this.fileCommentLength())},rn.prototype.totalSize=function(){return 46+this.fileNameLength()+this.extraFieldLength()+this.fileCommentLength()},rn.prototype.isDirectory=function(){var d=this.fileName();return!!(this.externalAttributes()&16)||d.charAt(d.length-1)==="/"},rn.prototype.isFile=function(){return!this.isDirectory()},rn.prototype.useUTF8=function(){return(this.flag()&2048)===2048},rn.prototype.isEncrypted=function(){return(this.flag()&1)===1},rn.prototype.getFileData=function(){var d=this.headerRelativeOffset(),k=new ai(this.zipData.slice(d));return new Is(k,this,this.zipData.slice(d+k.totalSize()))},rn.prototype.getData=function(){return this.getFileData().decompress()},rn.prototype.getRawData=function(){return this.getFileData().getRawData()},rn.prototype.getStats=function(){return new Ue(Ve.FILE,this.uncompressedSize(),365,new Date,this.lastModFileTime())};var Ti=function(d){if(this.data=d,this.data.readUInt32LE(0)!==101010256)throw new Ee(ne.EINVAL,"Invalid Zip file: End of central directory record has invalid signature: "+this.data.readUInt32LE(0))};Ti.prototype.diskNumber=function(){return this.data.readUInt16LE(4)},Ti.prototype.cdDiskNumber=function(){return this.data.readUInt16LE(6)},Ti.prototype.cdDiskEntryCount=function(){return this.data.readUInt16LE(8)},Ti.prototype.cdTotalEntryCount=function(){return this.data.readUInt16LE(10)},Ti.prototype.cdSize=function(){return this.data.readUInt32LE(12)},Ti.prototype.cdOffset=function(){return this.data.readUInt32LE(16)},Ti.prototype.cdZipCommentLength=function(){return this.data.readUInt16LE(20)},Ti.prototype.cdZipComment=function(){return B0(this.data,!0,22,this.cdZipCommentLength())},Ti.prototype.rawCdZipComment=function(){return this.data.slice(22,22+this.cdZipCommentLength())};var Fu=function(d,k,_,Ae){this.index=d,this.directoryEntries=k,this.eocd=_,this.data=Ae},Ta=function(_e){function d(k,_,Ae){_===void 0&&(_=""),Ae===void 0&&(Ae=!0),_e.call(this),this.name=_,this._index=new hi,this._directoryEntries=[],this._eocd=null,Zt(Ae,d.Name,{zipData:"zip data as a Buffer",name:_}),k instanceof Fu?(this._index=k.index,this._directoryEntries=k.directoryEntries,this._eocd=k.eocd,this.data=k.data):(this.data=k,this.populateIndex())}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.Create=function(_,Ae){try{d.computeIndex(_.zipData,function(qe){var Me=new d(qe,_.name,!1);Ae(null,Me)},!1)}catch(qe){Ae(qe)}},d.isAvailable=function(){return!0},d.RegisterDecompressionMethod=function(_,Ae){Tu[_]=Ae},d.computeIndex=function(_,Ae,qe){qe===void 0&&(qe=!0),qe&&console.warn("[ZipFS] ZipFS.computeIndex is now deprecated, and will be removed in the next major release. Please update your code to use 'ZipFS.Create({ zipData: zip file as a Buffer}, cb)' instead.");var Me=new hi,Ge=d.getEOCD(_);if(Ge.diskNumber()!==Ge.cdDiskNumber())throw new Ee(ne.EINVAL,"ZipFS does not support spanned zip files.");var et=Ge.cdOffset();if(et===4294967295)throw new Ee(ne.EINVAL,"ZipFS does not support Zip64.");var ft=et+Ge.cdSize();d.computeIndexResponsive(_,Me,et,ft,Ae,[],Ge)},d.getEOCD=function(_){for(var Ae=22,qe=Math.min(Ae+65535,_.length-1),Me=Ae;Me<qe;Me++)if(_.readUInt32LE(_.length-Me)===101010256)return new Ti(_.slice(_.length-Me));throw new Ee(ne.EINVAL,"Invalid ZIP file: Could not locate End of Central Directory signature.")},d.addToIndex=function(_,Ae){var qe=_.fileName();if(qe.charAt(0)==="/")throw new Error("WHY IS THIS ABSOLUTE");qe.charAt(qe.length-1)==="/"&&(qe=qe.substr(0,qe.length-1)),_.isDirectory()?Ae.addPathFast("/"+qe,new Zn(_)):Ae.addPathFast("/"+qe,new bo(_))},d.computeIndexResponsive=function(_,Ae,qe,Me,Ge,et,ft){if(qe<Me){for(var kt=0;kt++<200&&qe<Me;){var Ht=new rn(_,_.slice(qe));d.addToIndex(Ht,Ae),qe+=Ht.totalSize(),et.push(Ht)}Ar(function(){d.computeIndexResponsive(_,Ae,qe,Me,Ge,et,ft)})}else Ge(new Fu(Ae,et,ft,_))},d.prototype.getName=function(){return d.Name+(this.name!==""?" "+this.name:"")},d.prototype.getCentralDirectoryEntry=function(_){var Ae=this._index.getInode(_);if(Ae===null)throw Ee.ENOENT(_);if(zi(Ae))return Ae.getData();if(ra(Ae))return Ae.getData();throw Ee.EPERM("Invalid inode: "+Ae)},d.prototype.getCentralDirectoryEntryAt=function(_){var Ae=this._directoryEntries[_];if(!Ae)throw new RangeError("Invalid directory index: "+_+".");return Ae},d.prototype.getNumberOfCentralDirectoryEntries=function(){return this._directoryEntries.length},d.prototype.getEndOfCentralDirectory=function(){return this._eocd},d.prototype.diskSpace=function(_,Ae){Ae(this.data.length,0)},d.prototype.isReadOnly=function(){return!0},d.prototype.supportsLinks=function(){return!1},d.prototype.supportsProps=function(){return!1},d.prototype.supportsSynch=function(){return!0},d.prototype.statSync=function(_,Ae){var qe=this._index.getInode(_);if(qe===null)throw Ee.ENOENT(_);var Me;if(zi(qe))Me=qe.getData().getStats();else if(ra(qe))Me=qe.getStats();else throw new Ee(ne.EINVAL,"Invalid inode.");return Me},d.prototype.openSync=function(_,Ae,qe){if(Ae.isWriteable())throw new Ee(ne.EPERM,_);var Me=this._index.getInode(_);if(Me)if(zi(Me)){var Ge=Me.getData(),et=Ge.getStats();switch(Ae.pathExistsAction()){case Fe.THROW_EXCEPTION:case Fe.TRUNCATE_FILE:throw Ee.EEXIST(_);case Fe.NOP:return new Dt(this,_,Ae,et,Ge.getData());default:throw new Ee(ne.EINVAL,"Invalid FileMode object.")}}else throw Ee.EISDIR(_);else throw Ee.ENOENT(_)},d.prototype.readdirSync=function(_){var Ae=this._index.getInode(_);if(Ae){if(ra(Ae))return Ae.getListing();throw Ee.ENOTDIR(_)}else throw Ee.ENOENT(_)},d.prototype.readFileSync=function(_,Ae,qe){var Me=this.openSync(_,qe,420);try{var Ge=Me,et=Ge.getBuffer();return Ae===null?fr(et):et.toString(Ae)}finally{Me.closeSync()}},d.prototype.populateIndex=function(){var _=this,Ae=this._eocd=d.getEOCD(this.data);if(Ae.diskNumber()!==Ae.cdDiskNumber())throw new Ee(ne.EINVAL,"ZipFS does not support spanned zip files.");var qe=Ae.cdOffset();if(qe===4294967295)throw new Ee(ne.EINVAL,"ZipFS does not support Zip64.");for(var Me=qe+Ae.cdSize();qe<Me;){var Ge=new rn(_.data,_.data.slice(qe));qe+=Ge.totalSize(),d.addToIndex(Ge,_._index),_._directoryEntries.push(Ge)}},d}(Wt);Ta.Name="ZipFS",Ta.Options={zipData:{type:"object",description:"The zip file as a Buffer object.",validator:lt},name:{type:"string",optional:!0,description:"The name of the zip file (optional)."}},Ta.CompressionMethod=Eo,Ta.RegisterDecompressionMethod(Eo.DEFLATE,function(_e,d,k){return Pt(af(_e.slice(0,d),{chunkSize:k}))}),Ta.RegisterDecompressionMethod(Eo.STORED,function(_e,d,k){return fr(_e,0,k)});var of="IEEE_P1282";function $n(_e,d,k){return _e.toString("ascii",d,d+k).trim()}function ru(_e,d,k){if(k===1)return String.fromCharCode(_e[d]);for(var _=Math.floor(k/2),Ae=new Array(_),qe=0;qe<_;qe++){var Me=d+(qe<<1);Ae[qe]=String.fromCharCode(_e[Me+1]|_e[Me]<<8)}return Ae.join("")}function Di(_e,d){var k=parseInt($n(_e,d,4),10),_=parseInt($n(_e,d+4,2),10),Ae=parseInt($n(_e,d+6,2),10),qe=parseInt($n(_e,d+8,2),10),Me=parseInt($n(_e,d+10,2),10),Ge=parseInt($n(_e,d+12,2),10),et=parseInt($n(_e,d+14,2),10);return new Date(k,_,Ae,qe,Me,Ge,et*100)}function Da(_e,d){var k=_e[d],_=_e[d+1],Ae=_e[d+2],qe=_e[d+3],Me=_e[d+4],Ge=_e[d+5];return new Date(k,_-1,Ae,qe,Me,Ge)}function sf(_e,d){var k=_e.slice(d),_=new On(k);switch(_.signatureWord()){case 17221:return new Lu(k);case 20548:return new lf(k);case 21328:return new Mu(k);case 21332:return new Vu(k);case 17746:return new Uu(k);case 17747:return new ff(k);case 20568:return new zu(k);case 20558:return new df(k);case 21324:return new nu(k);case 20045:return new Hu(k);case 17228:return new iu(k);case 20556:return new xf(k);case 21061:return new Wu(k);case 21574:return new Ku(k);case 21318:return new hf(k);case 21074:return new ju(k);default:return _}}function Pu(_e,d,k,_){k=k-4;for(var Ae=new Array;d<k;){var qe=sf(_e,d),Me=qe.length();if(Me===0)return Ae;if(d+=Me,qe instanceof Vu)break;qe instanceof Lu?Ae=Ae.concat(qe.getEntries(_)):Ae.push(qe)}return Ae}var wo=function(d){this._data=d};wo.prototype.type=function(){return this._data[0]},wo.prototype.standardIdentifier=function(){return $n(this._data,1,5)},wo.prototype.version=function(){return this._data[6]},wo.prototype.data=function(){return this._data.slice(7,2048)};var Bu=function(_e){function d(k){_e.call(this,k),this._root=null}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.systemIdentifier=function(){return this._getString32(8)},d.prototype.volumeIdentifier=function(){return this._getString32(40)},d.prototype.volumeSpaceSize=function(){return this._data.readUInt32LE(80)},d.prototype.volumeSetSize=function(){return this._data.readUInt16LE(120)},d.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(124)},d.prototype.logicalBlockSize=function(){return this._data.readUInt16LE(128)},d.prototype.pathTableSize=function(){return this._data.readUInt32LE(132)},d.prototype.locationOfTypeLPathTable=function(){return this._data.readUInt32LE(140)},d.prototype.locationOfOptionalTypeLPathTable=function(){return this._data.readUInt32LE(144)},d.prototype.locationOfTypeMPathTable=function(){return this._data.readUInt32BE(148)},d.prototype.locationOfOptionalTypeMPathTable=function(){return this._data.readUInt32BE(152)},d.prototype.rootDirectoryEntry=function(_){return this._root===null&&(this._root=this._constructRootDirectoryRecord(this._data.slice(156)),this._root.rootCheckForRockRidge(_)),this._root},d.prototype.volumeSetIdentifier=function(){return this._getString(190,128)},d.prototype.publisherIdentifier=function(){return this._getString(318,128)},d.prototype.dataPreparerIdentifier=function(){return this._getString(446,128)},d.prototype.applicationIdentifier=function(){return this._getString(574,128)},d.prototype.copyrightFileIdentifier=function(){return this._getString(702,38)},d.prototype.abstractFileIdentifier=function(){return this._getString(740,36)},d.prototype.bibliographicFileIdentifier=function(){return this._getString(776,37)},d.prototype.volumeCreationDate=function(){return Di(this._data,813)},d.prototype.volumeModificationDate=function(){return Di(this._data,830)},d.prototype.volumeExpirationDate=function(){return Di(this._data,847)},d.prototype.volumeEffectiveDate=function(){return Di(this._data,864)},d.prototype.fileStructureVersion=function(){return this._data[881]},d.prototype.applicationUsed=function(){return this._data.slice(883,883+512)},d.prototype.reserved=function(){return this._data.slice(1395,1395+653)},d.prototype._getString32=function(_){return this._getString(_,32)},d}(wo),cf=function(_e){function d(k){if(_e.call(this,k),this.type()!==1)throw new Ee(ne.EIO,"Invalid primary volume descriptor.")}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.name=function(){return"ISO9660"},d.prototype._constructRootDirectoryRecord=function(_){return new qu(_,-1)},d.prototype._getString=function(_,Ae){return this._getString(_,Ae)},d}(Bu),uf=function(_e){function d(k){if(_e.call(this,k),this.type()!==2)throw new Ee(ne.EIO,"Invalid supplementary volume descriptor.");var _=this.escapeSequence(),Ae=_[2];if(_[0]!==37||_[1]!==47||Ae!==64&&Ae!==67&&Ae!==69)throw new Ee(ne.EIO,"Unrecognized escape sequence for SupplementaryVolumeDescriptor: "+_.toString())}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.name=function(){return"Joliet"},d.prototype.escapeSequence=function(){return this._data.slice(88,120)},d.prototype._constructRootDirectoryRecord=function(_){return new Nu(_,-1)},d.prototype._getString=function(_,Ae){return ru(this._data,_,Ae)},d}(Bu),gn=function(d,k){this._suEntries=null,this._fileOrDir=null,this._data=d,this._rockRidgeOffset=k};gn.prototype.hasRockRidge=function(){return this._rockRidgeOffset>-1},gn.prototype.getRockRidgeOffset=function(){return this._rockRidgeOffset},gn.prototype.rootCheckForRockRidge=function(d){var k=this.getDirectory(d);this._rockRidgeOffset=k.getDotEntry(d)._getRockRidgeOffset(d),this._rockRidgeOffset>-1&&(this._fileOrDir=null)},gn.prototype.length=function(){return this._data[0]},gn.prototype.extendedAttributeRecordLength=function(){return this._data[1]},gn.prototype.lba=function(){return this._data.readUInt32LE(2)*2048},gn.prototype.dataLength=function(){return this._data.readUInt32LE(10)},gn.prototype.recordingDate=function(){return Da(this._data,18)},gn.prototype.fileFlags=function(){return this._data[25]},gn.prototype.fileUnitSize=function(){return this._data[26]},gn.prototype.interleaveGapSize=function(){return this._data[27]},gn.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(28)},gn.prototype.identifier=function(){return this._getString(33,this._data[32])},gn.prototype.fileName=function(d){if(this.hasRockRidge()){var k=this._rockRidgeFilename(d);if(k!==null)return k}var _=this.identifier();if(this.isDirectory(d))return _;var Ae=_.indexOf(";");return Ae===-1?_:_[Ae-1]==="."?_.slice(0,Ae-1):_.slice(0,Ae)},gn.prototype.isDirectory=function(d){var k=!!(this.fileFlags()&2);return!k&&this.hasRockRidge()&&(k=this.getSUEntries(d).filter(function(_){return _ instanceof iu}).length>0),k},gn.prototype.isSymlink=function(d){return this.hasRockRidge()&&this.getSUEntries(d).filter(function(k){return k instanceof nu}).length>0},gn.prototype.getSymlinkPath=function(d){for(var k="",_=this.getSUEntries(d),Ae=this._getGetString(),qe=0,Me=_;qe<Me.length;qe+=1){var Ge=Me[qe];if(Ge instanceof nu){for(var et=Ge.componentRecords(),ft=0,kt=et;ft<kt.length;ft+=1){var Ht=kt[ft],ir=Ht.flags();ir&2?k+="./":ir&4?k+="../":ir&8?k+="/":(k+=Ht.content(Ae),ir&1||(k+="/"))}if(!Ge.continueFlag())break}}return k.length>1&&k[k.length-1]==="/"?k.slice(0,k.length-1):k},gn.prototype.getFile=function(d){if(this.isDirectory(d))throw new Error("Tried to get a File from a directory.");return this._fileOrDir===null&&(this._fileOrDir=d.slice(this.lba(),this.lba()+this.dataLength())),this._fileOrDir},gn.prototype.getDirectory=function(d){if(!this.isDirectory(d))throw new Error("Tried to get a Directory from a file.");return this._fileOrDir===null&&(this._fileOrDir=this._constructDirectory(d)),this._fileOrDir},gn.prototype.getSUEntries=function(d){return this._suEntries||this._constructSUEntries(d),this._suEntries},gn.prototype._rockRidgeFilename=function(d){var k=this.getSUEntries(d).filter(function(et){return et instanceof Hu});if(k.length===0||k[0].flags()&6)return null;for(var _="",Ae=this._getGetString(),qe=0,Me=k;qe<Me.length;qe+=1){var Ge=Me[qe];if(_+=Ge.name(Ae),!(Ge.flags()&1))break}return _},gn.prototype._constructSUEntries=function(d){var k=33+this._data[32];k%2===1&&k++,k+=this._rockRidgeOffset,this._suEntries=Pu(this._data,k,this.length(),d)},gn.prototype._getRockRidgeOffset=function(d){this._rockRidgeOffset=0;var k=this.getSUEntries(d);if(k.length>0){var _=k[0];if(_ instanceof Mu&&_.checkBytesPass())for(var Ae=1;Ae<k.length;Ae++){var qe=k[Ae];if(qe instanceof ju||qe instanceof Uu&&qe.extensionIdentifier()===of)return _.bytesSkipped()}}return this._rockRidgeOffset=-1,-1};var qu=function(_e){function d(k,_){_e.call(this,k,_)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype._getString=function(_,Ae){return $n(this._data,_,Ae)},d.prototype._constructDirectory=function(_){return new pf(this,_)},d.prototype._getGetString=function(){return $n},d}(gn),Nu=function(_e){function d(k,_){_e.call(this,k,_)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype._getString=function(_,Ae){return ru(this._data,_,Ae)},d.prototype._constructDirectory=function(_){return new _f(this,_)},d.prototype._getGetString=function(){return ru},d}(gn),On=function(d){this._data=d};On.prototype.signatureWord=function(){return this._data.readUInt16BE(0)},On.prototype.signatureWordString=function(){return $n(this._data,0,2)},On.prototype.length=function(){return this._data[2]},On.prototype.suVersion=function(){return this._data[3]};var Lu=function(_e){function d(k){_e.call(this,k),this._entries=null}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.continuationLba=function(){return this._data.readUInt32LE(4)},d.prototype.continuationLbaOffset=function(){return this._data.readUInt32LE(12)},d.prototype.continuationLength=function(){return this._data.readUInt32LE(20)},d.prototype.getEntries=function(_){if(!this._entries){var Ae=this.continuationLba()*2048+this.continuationLbaOffset();this._entries=Pu(_,Ae,this.continuationLength(),_)}return this._entries},d}(On),lf=function(_e){function d(k){_e.call(this,k)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d}(On),Mu=function(_e){function d(k){_e.call(this,k)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.checkBytesPass=function(){return this._data[4]===190&&this._data[5]===239},d.prototype.bytesSkipped=function(){return this._data[6]},d}(On),Vu=function(_e){function d(k){_e.call(this,k)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d}(On),Uu=function(_e){function d(k){_e.call(this,k)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.identifierLength=function(){return this._data[4]},d.prototype.descriptorLength=function(){return this._data[5]},d.prototype.sourceLength=function(){return this._data[6]},d.prototype.extensionVersion=function(){return this._data[7]},d.prototype.extensionIdentifier=function(){return $n(this._data,8,this.identifierLength())},d.prototype.extensionDescriptor=function(){return $n(this._data,8+this.identifierLength(),this.descriptorLength())},d.prototype.extensionSource=function(){return $n(this._data,8+this.identifierLength()+this.descriptorLength(),this.sourceLength())},d}(On),ff=function(_e){function d(k){_e.call(this,k)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.extensionSequence=function(){return this._data[4]},d}(On),ju=function(_e){function d(k){_e.call(this,k)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d}(On),zu=function(_e){function d(k){_e.call(this,k)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.mode=function(){return this._data.readUInt32LE(4)},d.prototype.fileLinks=function(){return this._data.readUInt32LE(12)},d.prototype.uid=function(){return this._data.readUInt32LE(20)},d.prototype.gid=function(){return this._data.readUInt32LE(28)},d.prototype.inode=function(){return this._data.readUInt32LE(36)},d}(On),df=function(_e){function d(k){_e.call(this,k)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.devTHigh=function(){return this._data.readUInt32LE(4)},d.prototype.devTLow=function(){return this._data.readUInt32LE(12)},d}(On),nu=function(_e){function d(k){_e.call(this,k)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.flags=function(){return this._data[4]},d.prototype.continueFlag=function(){return this.flags()&1},d.prototype.componentRecords=function(){for(var _=this,Ae=new Array,qe=5;qe<this.length();){var Me=new Cs(_._data.slice(qe));Ae.push(Me),qe+=Me.length()}return Ae},d}(On),Cs=function(d){this._data=d};Cs.prototype.flags=function(){return this._data[0]},Cs.prototype.length=function(){return 2+this.componentLength()},Cs.prototype.componentLength=function(){return this._data[1]},Cs.prototype.content=function(d){return d(this._data,2,this.componentLength())};var Hu=function(_e){function d(k){_e.call(this,k)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.flags=function(){return this._data[4]},d.prototype.name=function(_){return _(this._data,5,this.length()-5)},d}(On),iu=function(_e){function d(k){_e.call(this,k)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.childDirectoryLba=function(){return this._data.readUInt32LE(4)},d}(On),xf=function(_e){function d(k){_e.call(this,k)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.parentDirectoryLba=function(){return this._data.readUInt32LE(4)},d}(On),Wu=function(_e){function d(k){_e.call(this,k)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d}(On),Ku=function(_e){function d(k){_e.call(this,k)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.flags=function(){return this._data[4]},d.prototype.creation=function(){return this.flags()&1?this._longFormDates()?Di(this._data,5):Da(this._data,5):null},d.prototype.modify=function(){if(this.flags()&2){var _=this.flags()&1?1:0;return this._longFormDates?Di(this._data,5+_*17):Da(this._data,5+_*7)}else return null},d.prototype.access=function(){if(this.flags()&4){var _=this.flags()&1?1:0;return _+=this.flags()&2?1:0,this._longFormDates?Di(this._data,5+_*17):Da(this._data,5+_*7)}else return null},d.prototype.backup=function(){if(this.flags()&16){var _=this.flags()&1?1:0;return _+=this.flags()&2?1:0,_+=this.flags()&4?1:0,this._longFormDates?Di(this._data,5+_*17):Da(this._data,5+_*7)}else return null},d.prototype.expiration=function(){if(this.flags()&32){var _=this.flags()&1?1:0;return _+=this.flags()&2?1:0,_+=this.flags()&4?1:0,_+=this.flags()&16?1:0,this._longFormDates?Di(this._data,5+_*17):Da(this._data,5+_*7)}else return null},d.prototype.effective=function(){if(this.flags()&64){var _=this.flags()&1?1:0;return _+=this.flags()&2?1:0,_+=this.flags()&4?1:0,_+=this.flags()&16?1:0,_+=this.flags()&32?1:0,this._longFormDates?Di(this._data,5+_*17):Da(this._data,5+_*7)}else return null},d.prototype._longFormDates=function(){return!!this.flags()},d}(On),hf=function(_e){function d(k){_e.call(this,k)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype.virtualSizeHigh=function(){return this._data.readUInt32LE(4)},d.prototype.virtualSizeLow=function(){return this._data.readUInt32LE(12)},d.prototype.tableDepth=function(){return this._data[20]},d}(On),ks=function(d,k){var _=this;this._fileList=[],this._fileMap={},this._record=d;var Ae=d.lba(),qe=Ae+d.dataLength();if(!(d.fileFlags()&2)){var Me=d.getSUEntries(k).filter(function(kt){return kt instanceof iu})[0];Ae=Me.childDirectoryLba()*2048,qe=1/0}for(;Ae<qe;){var Ge=k[Ae];if(Ge===0){Ae++;continue}var et=_._constructDirectoryRecord(k.slice(Ae)),ft=et.fileName(k);ft!=="\0"&&ft!==""?(!et.hasRockRidge()||et.getSUEntries(k).filter(function(kt){return kt instanceof Wu}).length===0)&&(_._fileMap[ft]=et,_._fileList.push(ft)):qe===1/0&&(qe=Ae+et.dataLength()),Ae+=et.length()}};ks.prototype.getRecord=function(d){return this._fileMap[d]},ks.prototype.getFileList=function(){return this._fileList},ks.prototype.getDotEntry=function(d){return this._constructDirectoryRecord(d.slice(this._record.lba()))};var pf=function(_e){function d(k,_){_e.call(this,k,_)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype._constructDirectoryRecord=function(_){return new qu(_,this._record.getRockRidgeOffset())},d}(ks),_f=function(_e){function d(k,_){_e.call(this,k,_)}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.prototype._constructDirectoryRecord=function(_){return new Nu(_,this._record.getRockRidgeOffset())},d}(ks),q0=function(_e){function d(k,_,Ae){var qe=this;_===void 0&&(_=""),Ae===void 0&&(Ae=!0),_e.call(this),this._data=k,Zt(Ae,d.Name,{data:"ISO data as a Buffer",name:_});for(var Me=!1,Ge=16*2048,et=new Array;!Me;){var ft=k.slice(Ge),kt=new wo(ft);switch(kt.type()){case 1:et.push(new cf(ft));break;case 2:et.push(new uf(ft));break;case 255:Me=!0;break}Ge+=2048}if(et.length===0)throw new Ee(ne.EIO,"Unable to find a suitable volume descriptor.");et.forEach(function(Ht){(!qe._pvd||qe._pvd.type()!==2)&&(qe._pvd=Ht)}),this._root=this._pvd.rootDirectoryEntry(k),this._name=_}return _e&&(d.__proto__=_e),d.prototype=Object.create(_e&&_e.prototype),d.prototype.constructor=d,d.Create=function(_,Ae){var qe,Me;try{qe=new d(_.data,_.name,!1)}catch(Ge){Ge=Ge}finally{Ae(Me,qe)}},d.isAvailable=function(){return!0},d.prototype.getName=function(){var _="IsoFS"+this._name+(this._pvd?"-"+this._pvd.name():"");return this._root&&this._root.hasRockRidge()&&(_+="-RockRidge"),_},d.prototype.diskSpace=function(_,Ae){Ae(this._data.length,0)},d.prototype.isReadOnly=function(){return!0},d.prototype.supportsLinks=function(){return!1},d.prototype.supportsProps=function(){return!1},d.prototype.supportsSynch=function(){return!0},d.prototype.statSync=function(_,Ae){var qe=this._getDirectoryRecord(_);if(qe===null)throw Ee.ENOENT(_);return this._getStats(_,qe)},d.prototype.openSync=function(_,Ae,qe){if(Ae.isWriteable())throw new Ee(ne.EPERM,_);var Me=this._getDirectoryRecord(_);if(Me){if(Me.isSymlink(this._data))return this.openSync(Oe.resolve(_,Me.getSymlinkPath(this._data)),Ae,qe);if(Me.isDirectory(this._data))throw Ee.EISDIR(_);var Ge=Me.getFile(this._data),et=this._getStats(_,Me);switch(Ae.pathExistsAction()){case Fe.THROW_EXCEPTION:case Fe.TRUNCATE_FILE:throw Ee.EEXIST(_);case Fe.NOP:return new Dt(this,_,Ae,et,Ge);default:throw new Ee(ne.EINVAL,"Invalid FileMode object.")}}else throw Ee.ENOENT(_)},d.prototype.readdirSync=function(_){var Ae=this._getDirectoryRecord(_);if(Ae){if(Ae.isDirectory(this._data))return Ae.getDirectory(this._data).getFileList().slice(0);throw Ee.ENOTDIR(_)}else throw Ee.ENOENT(_)},d.prototype.readFileSync=function(_,Ae,qe){var Me=this.openSync(_,qe,420);try{var Ge=Me,et=Ge.getBuffer();return Ae===null?fr(et):et.toString(Ae)}finally{Me.closeSync()}},d.prototype._getDirectoryRecord=function(_){var Ae=this;if(_==="/")return this._root;for(var qe=_.split("/").slice(1),Me=this._root,Ge=0,et=qe;Ge<et.length;Ge+=1){var ft=et[Ge];if(Me.isDirectory(Ae._data)){if(Me=Me.getDirectory(Ae._data).getRecord(ft),!Me)return null}else return null}return Me},d.prototype._getStats=function(_,Ae){if(Ae.isSymlink(this._data)){var qe=Oe.resolve(_,Ae.getSymlinkPath(this._data)),Me=this._getDirectoryRecord(qe);return Me?this._getStats(qe,Me):null}else{var Ge=Ae.dataLength(),et=365,ft=Ae.recordingDate(),kt=ft,Ht=ft,ir=ft;if(Ae.hasRockRidge())for(var _r=Ae.getSUEntries(this._data),vr=0,qr=_r;vr<qr.length;vr+=1){var jr=qr[vr];if(jr instanceof zu)et=jr.mode();else if(jr instanceof Ku){var Wr=jr.flags();Wr&4&&(kt=jr.access()),Wr&2&&(Ht=jr.modify()),Wr&1&&(ir=jr.creation())}}return et=et&365,new Ue(Ae.isDirectory(this._data)?Ve.DIRECTORY:Ve.FILE,Ge,et,kt,Ht,ir)}},d}(Wt);q0.Name="IsoFS",q0.Options={data:{type:"object",description:"The ISO file in a buffer",validator:lt}},[nt,fo,ho,Ci,vo,Kn,st,q0,Tt,Lt,An,F0,P0,Ta].forEach(function(_e){var d=_e.Create;_e.Create=function(k,_){var Ae=typeof k=="function",qe=Ae?k:_,Me=Ae?{}:k;function Ge(et){et?qe(et):d.call(_e,Me,qe)}yt(_e,Me,Ge)}});var N0={AsyncMirror:nt,Dropbox:fo,Emscripten:ho,FolderAdapter:Ci,HTML5FS:vo,InMemory:Kn,IndexedDB:st,IsoFS:q0,LocalStorage:Tt,MountableFileSystem:Lt,OverlayFS:An,WorkerFS:F0,XmlHttpRequest:P0,ZipFS:Ta};Te.initializeTTYs&&Te.initializeTTYs();function vf(_e){_e.Buffer=f,_e.process=Te;var d=_e.require?_e.require:null;_e.require=function(k){var _=Yu(k);return _||d.apply(null,Array.prototype.slice.call(arguments,0))}}function mf(_e,d){N0[_e]=d}function Yu(_e){switch(_e){case"fs":return it;case"path":return Oe;case"buffer":return Ie;case"process":return Te;case"bfs_utils":return Xt;default:return N0[_e]}}function Gu(_e){return it.initialize(_e)}function gf(_e,d){au(_e,function(k,_){_?(Gu(_),d()):d(k)})}function au(_e,d){var k=_e.fs;if(!k)return d(new Ee(ne.EPERM,'Missing "fs" property on configuration object.'));var _=_e.options,Ae=0,qe=!1;function Me(){if(!qe){qe=!0;var ft=N0[k];ft?ft.Create(_,d):d(new Ee(ne.EPERM,"File system "+k+" is not available in BrowserFS."))}}if(_!==null&&typeof _=="object"){var Ge=!1,et=Object.keys(_).filter(function(ft){return ft!=="fs"});et.forEach(function(ft){var kt=_[ft];kt!==null&&typeof kt=="object"&&kt.fs&&(Ae++,au(kt,function(Ht,ir){if(Ae--,Ht){if(qe)return;qe=!0,d(Ht)}else _[ft]=ir,Ae===0&&Ge&&Me()}))}),Ge=!0}Ae===0&&Me()}"ab".substr(-1)!=="b"&&(String.prototype.substr=function(_e){return function(d,k){return d<0&&(d=this.length+d),_e.call(this,d,k)}}(String.prototype.substr)),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&(Uint8Array.prototype.slice||(Uint8Array.prototype.slice=function(_e,d){_e===void 0&&(_e=0),d===void 0&&(d=this.length);var k=this;return _e<0&&(_e=this.length+_e,_e<0&&(_e=0)),d<0&&(d=this.length+d,d<0&&(d=0)),d<_e&&(d=_e),new Uint8Array(k.buffer,k.byteOffset+_e,d-_e)})),i.install=vf,i.registerFileSystem=mf,i.BFSRequire=Yu,i.initialize=Gu,i.configure=gf,i.getFileSystem=au,i.EmscriptenFS=Je,i.FileSystem=N0,i.Errors=Be,i.setImmediate=Ar}).call(i,c(1),function(){return this}(),c(5)(e),c(6))},function(e,i,c){e.exports=c(2).Buffer},function(e,i,c){(function(ne){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
* @license  MIT
*/var m=c(3),g=c(4);i.Buffer=ne,i.SlowBuffer=Xe,i.INSPECT_MAX_BYTES=50;var Te=2147483647;i.kMaxLength=Te,ne.TYPED_ARRAY_SUPPORT=Ie(),!ne.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Ie(){try{var nt=new Uint8Array(1);return nt.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},nt.foo()===42}catch{return!1}}function Oe(nt){if(nt>Te)throw new RangeError("Invalid typed array length");var je=new Uint8Array(nt);return je.__proto__=ne.prototype,je}function ne(nt,je,Ke){if(typeof nt=="number"){if(typeof je=="string")throw new Error("If encoding is specified then the first argument must be a string");return Fe(nt)}return De(nt,je,Ke)}typeof Symbol<"u"&&Symbol.species&&ne[Symbol.species]===ne&&Object.defineProperty(ne,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),ne.poolSize=8192;function De(nt,je,Ke){if(typeof nt=="number")throw new TypeError('"value" argument must not be a number');return pt(nt)?Ue(nt,je,Ke):typeof nt=="string"?Ne(nt,je):We(nt)}ne.from=function(nt,je,Ke){return De(nt,je,Ke)},ne.prototype.__proto__=Uint8Array.prototype,ne.__proto__=Uint8Array;function Ee(nt){if(typeof nt!="number")throw new TypeError('"size" argument must be a number');if(nt<0)throw new RangeError('"size" argument must not be negative')}function Be(nt,je,Ke){return Ee(nt),nt<=0?Oe(nt):je!==void 0?typeof Ke=="string"?Oe(nt).fill(je,Ke):Oe(nt).fill(je):Oe(nt)}ne.alloc=function(nt,je,Ke){return Be(nt,je,Ke)};function Fe(nt){return Ee(nt),Oe(nt<0?0:He(nt)|0)}ne.allocUnsafe=function(nt){return Fe(nt)},ne.allocUnsafeSlow=function(nt){return Fe(nt)};function Ne(nt,je){if((typeof je!="string"||je==="")&&(je="utf8"),!ne.isEncoding(je))throw new TypeError('"encoding" must be a valid string encoding');var Ke=ot(nt,je)|0,ut=Oe(Ke),Et=ut.write(nt,je);return Et!==Ke&&(ut=ut.slice(0,Et)),ut}function Ve(nt){for(var je=nt.length<0?0:He(nt.length)|0,Ke=Oe(je),ut=0;ut<je;ut+=1)Ke[ut]=nt[ut]&255;return Ke}function Ue(nt,je,Ke){if(je<0||nt.byteLength<je)throw new RangeError("'offset' is out of bounds");if(nt.byteLength<je+(Ke||0))throw new RangeError("'length' is out of bounds");var ut;return je===void 0&&Ke===void 0?ut=new Uint8Array(nt):Ke===void 0?ut=new Uint8Array(nt,je):ut=new Uint8Array(nt,je,Ke),ut.__proto__=ne.prototype,ut}function We(nt){if(ne.isBuffer(nt)){var je=He(nt.length)|0,Ke=Oe(je);return Ke.length===0||nt.copy(Ke,0,0,je),Ke}if(nt){if(Dt(nt)||"length"in nt)return typeof nt.length!="number"||er(nt.length)?Oe(0):Ve(nt);if(nt.type==="Buffer"&&Array.isArray(nt.data))return Ve(nt.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function He(nt){if(nt>=Te)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Te.toString(16)+" bytes");return nt|0}function Xe(nt){return+nt!=nt&&(nt=0),ne.alloc(+nt)}ne.isBuffer=function(je){return je!=null&&je._isBuffer===!0},ne.compare=function(je,Ke){if(!ne.isBuffer(je)||!ne.isBuffer(Ke))throw new TypeError("Arguments must be Buffers");if(je===Ke)return 0;for(var ut=je.length,Et=Ke.length,It=0,zt=Math.min(ut,Et);It<zt;++It)if(je[It]!==Ke[It]){ut=je[It],Et=Ke[It];break}return ut<Et?-1:Et<ut?1:0},ne.isEncoding=function(je){switch(String(je).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},ne.concat=function(je,Ke){if(!Array.isArray(je))throw new TypeError('"list" argument must be an Array of Buffers');if(je.length===0)return ne.alloc(0);var ut;if(Ke===void 0)for(Ke=0,ut=0;ut<je.length;++ut)Ke+=je[ut].length;var Et=ne.allocUnsafe(Ke),It=0;for(ut=0;ut<je.length;++ut){var zt=je[ut];if(!ne.isBuffer(zt))throw new TypeError('"list" argument must be an Array of Buffers');zt.copy(Et,It),It+=zt.length}return Et};function ot(nt,je){if(ne.isBuffer(nt))return nt.length;if(Dt(nt)||pt(nt))return nt.byteLength;typeof nt!="string"&&(nt=""+nt);var Ke=nt.length;if(Ke===0)return 0;for(var ut=!1;;)switch(je){case"ascii":case"latin1":case"binary":return Ke;case"utf8":case"utf-8":case void 0:return dr(nt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ke*2;case"hex":return Ke>>>1;case"base64":return Wt(nt).length;default:if(ut)return dr(nt).length;je=(""+je).toLowerCase(),ut=!0}}ne.byteLength=ot;function tt(nt,je,Ke){var ut=!1;if((je===void 0||je<0)&&(je=0),je>this.length||((Ke===void 0||Ke>this.length)&&(Ke=this.length),Ke<=0)||(Ke>>>=0,je>>>=0,Ke<=je))return"";for(nt||(nt="utf8");;)switch(nt){case"hex":return Pt(this,je,Ke);case"utf8":case"utf-8":return cr(this,je,Ke);case"ascii":return ct(this,je,Ke);case"latin1":case"binary":return dt(this,je,Ke);case"base64":return jt(this,je,Ke);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ct(this,je,Ke);default:if(ut)throw new TypeError("Unknown encoding: "+nt);nt=(nt+"").toLowerCase(),ut=!0}}ne.prototype._isBuffer=!0;function gt(nt,je,Ke){var ut=nt[je];nt[je]=nt[Ke],nt[Ke]=ut}ne.prototype.swap16=function(){var je=this.length;if(je%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Ke=0;Ke<je;Ke+=2)gt(this,Ke,Ke+1);return this},ne.prototype.swap32=function(){var je=this.length;if(je%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Ke=0;Ke<je;Ke+=4)gt(this,Ke,Ke+3),gt(this,Ke+1,Ke+2);return this},ne.prototype.swap64=function(){var je=this.length;if(je%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Ke=0;Ke<je;Ke+=8)gt(this,Ke,Ke+7),gt(this,Ke+1,Ke+6),gt(this,Ke+2,Ke+5),gt(this,Ke+3,Ke+4);return this},ne.prototype.toString=function(){var je=this.length;return je===0?"":arguments.length===0?cr(this,0,je):tt.apply(this,arguments)},ne.prototype.equals=function(je){if(!ne.isBuffer(je))throw new TypeError("Argument must be a Buffer");return this===je?!0:ne.compare(this,je)===0},ne.prototype.inspect=function(){var je="",Ke=i.INSPECT_MAX_BYTES;return this.length>0&&(je=this.toString("hex",0,Ke).match(/.{2}/g).join(" "),this.length>Ke&&(je+=" ... ")),"<Buffer "+je+">"},ne.prototype.compare=function(je,Ke,ut,Et,It){if(!ne.isBuffer(je))throw new TypeError("Argument must be a Buffer");if(Ke===void 0&&(Ke=0),ut===void 0&&(ut=je?je.length:0),Et===void 0&&(Et=0),It===void 0&&(It=this.length),Ke<0||ut>je.length||Et<0||It>this.length)throw new RangeError("out of range index");if(Et>=It&&Ke>=ut)return 0;if(Et>=It)return-1;if(Ke>=ut)return 1;if(Ke>>>=0,ut>>>=0,Et>>>=0,It>>>=0,this===je)return 0;for(var zt=It-Et,tr=ut-Ke,Sr=Math.min(zt,tr),Lr=this.slice(Et,It),Br=je.slice(Ke,ut),Er=0;Er<Sr;++Er)if(Lr[Er]!==Br[Er]){zt=Lr[Er],tr=Br[Er];break}return zt<tr?-1:tr<zt?1:0};function vt(nt,je,Ke,ut,Et){if(nt.length===0)return-1;if(typeof Ke=="string"?(ut=Ke,Ke=0):Ke>2147483647?Ke=2147483647:Ke<-2147483648&&(Ke=-2147483648),Ke=+Ke,er(Ke)&&(Ke=Et?0:nt.length-1),Ke<0&&(Ke=nt.length+Ke),Ke>=nt.length){if(Et)return-1;Ke=nt.length-1}else if(Ke<0)if(Et)Ke=0;else return-1;if(typeof je=="string"&&(je=ne.from(je,ut)),ne.isBuffer(je))return je.length===0?-1:rt(nt,je,Ke,ut,Et);if(typeof je=="number")return je=je&255,typeof Uint8Array.prototype.indexOf=="function"?Et?Uint8Array.prototype.indexOf.call(nt,je,Ke):Uint8Array.prototype.lastIndexOf.call(nt,je,Ke):rt(nt,[je],Ke,ut,Et);throw new TypeError("val must be string, number or Buffer")}function rt(nt,je,Ke,ut,Et){var It=1,zt=nt.length,tr=je.length;if(ut!==void 0&&(ut=String(ut).toLowerCase(),ut==="ucs2"||ut==="ucs-2"||ut==="utf16le"||ut==="utf-16le")){if(nt.length<2||je.length<2)return-1;It=2,zt/=2,tr/=2,Ke/=2}function Sr(Qr,Cr){return It===1?Qr[Cr]:Qr.readUInt16BE(Cr*It)}var Lr;if(Et){var Br=-1;for(Lr=Ke;Lr<zt;Lr++)if(Sr(nt,Lr)===Sr(je,Br===-1?0:Lr-Br)){if(Br===-1&&(Br=Lr),Lr-Br+1===tr)return Br*It}else Br!==-1&&(Lr-=Lr-Br),Br=-1}else for(Ke+tr>zt&&(Ke=zt-tr),Lr=Ke;Lr>=0;Lr--){for(var Er=!0,gr=0;gr<tr;gr++)if(Sr(nt,Lr+gr)!==Sr(je,gr)){Er=!1;break}if(Er)return Lr}return-1}ne.prototype.includes=function(je,Ke,ut){return this.indexOf(je,Ke,ut)!==-1},ne.prototype.indexOf=function(je,Ke,ut){return vt(this,je,Ke,ut,!0)},ne.prototype.lastIndexOf=function(je,Ke,ut){return vt(this,je,Ke,ut,!1)};function ht(nt,je,Ke,ut){Ke=Number(Ke)||0;var Et=nt.length-Ke;ut?(ut=Number(ut),ut>Et&&(ut=Et)):ut=Et;var It=je.length;if(It%2!==0)throw new TypeError("Invalid hex string");ut>It/2&&(ut=It/2);for(var zt=0;zt<ut;++zt){var tr=parseInt(je.substr(zt*2,2),16);if(er(tr))return zt;nt[Ke+zt]=tr}return zt}function it(nt,je,Ke,ut){return xt(dr(je,nt.length-Ke),nt,Ke,ut)}function mt(nt,je,Ke,ut){return xt(Je(je),nt,Ke,ut)}function Ze(nt,je,Ke,ut){return mt(nt,je,Ke,ut)}function Ft(nt,je,Ke,ut){return xt(Wt(je),nt,Ke,ut)}function Zt(nt,je,Ke,ut){return xt(At(je,nt.length-Ke),nt,Ke,ut)}ne.prototype.write=function(je,Ke,ut,Et){if(Ke===void 0)Et="utf8",ut=this.length,Ke=0;else if(ut===void 0&&typeof Ke=="string")Et=Ke,ut=this.length,Ke=0;else if(isFinite(Ke))Ke=Ke>>>0,isFinite(ut)?(ut=ut>>>0,Et===void 0&&(Et="utf8")):(Et=ut,ut=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var It=this.length-Ke;if((ut===void 0||ut>It)&&(ut=It),je.length>0&&(ut<0||Ke<0)||Ke>this.length)throw new RangeError("Attempt to write outside buffer bounds");Et||(Et="utf8");for(var zt=!1;;)switch(Et){case"hex":return ht(this,je,Ke,ut);case"utf8":case"utf-8":return it(this,je,Ke,ut);case"ascii":return mt(this,je,Ke,ut);case"latin1":case"binary":return Ze(this,je,Ke,ut);case"base64":return Ft(this,je,Ke,ut);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Zt(this,je,Ke,ut);default:if(zt)throw new TypeError("Unknown encoding: "+Et);Et=(""+Et).toLowerCase(),zt=!0}},ne.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function jt(nt,je,Ke){return je===0&&Ke===nt.length?m.fromByteArray(nt):m.fromByteArray(nt.slice(je,Ke))}function cr(nt,je,Ke){Ke=Math.min(nt.length,Ke);for(var ut=[],Et=je;Et<Ke;){var It=nt[Et],zt=null,tr=It>239?4:It>223?3:It>191?2:1;if(Et+tr<=Ke){var Sr,Lr,Br,Er;switch(tr){case 1:It<128&&(zt=It);break;case 2:Sr=nt[Et+1],(Sr&192)===128&&(Er=(It&31)<<6|Sr&63,Er>127&&(zt=Er));break;case 3:Sr=nt[Et+1],Lr=nt[Et+2],(Sr&192)===128&&(Lr&192)===128&&(Er=(It&15)<<12|(Sr&63)<<6|Lr&63,Er>2047&&(Er<55296||Er>57343)&&(zt=Er));break;case 4:Sr=nt[Et+1],Lr=nt[Et+2],Br=nt[Et+3],(Sr&192)===128&&(Lr&192)===128&&(Br&192)===128&&(Er=(It&15)<<18|(Sr&63)<<12|(Lr&63)<<6|Br&63,Er>65535&&Er<1114112&&(zt=Er))}}zt===null?(zt=65533,tr=1):zt>65535&&(zt-=65536,ut.push(zt>>>10&1023|55296),zt=56320|zt&1023),ut.push(zt),Et+=tr}return St(ut)}var bt=4096;function St(nt){var je=nt.length;if(je<=bt)return String.fromCharCode.apply(String,nt);for(var Ke="",ut=0;ut<je;)Ke+=String.fromCharCode.apply(String,nt.slice(ut,ut+=bt));return Ke}function ct(nt,je,Ke){var ut="";Ke=Math.min(nt.length,Ke);for(var Et=je;Et<Ke;++Et)ut+=String.fromCharCode(nt[Et]&127);return ut}function dt(nt,je,Ke){var ut="";Ke=Math.min(nt.length,Ke);for(var Et=je;Et<Ke;++Et)ut+=String.fromCharCode(nt[Et]);return ut}function Pt(nt,je,Ke){var ut=nt.length;(!je||je<0)&&(je=0),(!Ke||Ke<0||Ke>ut)&&(Ke=ut);for(var Et="",It=je;It<Ke;++It)Et+=$t(nt[It]);return Et}function Ct(nt,je,Ke){for(var ut=nt.slice(je,Ke),Et="",It=0;It<ut.length;It+=2)Et+=String.fromCharCode(ut[It]+ut[It+1]*256);return Et}ne.prototype.slice=function(je,Ke){var ut=this.length;je=~~je,Ke=Ke===void 0?ut:~~Ke,je<0?(je+=ut,je<0&&(je=0)):je>ut&&(je=ut),Ke<0?(Ke+=ut,Ke<0&&(Ke=0)):Ke>ut&&(Ke=ut),Ke<je&&(Ke=je);var Et=this.subarray(je,Ke);return Et.__proto__=ne.prototype,Et};function Kt(nt,je,Ke){if(nt%1!==0||nt<0)throw new RangeError("offset is not uint");if(nt+je>Ke)throw new RangeError("Trying to access beyond buffer length")}ne.prototype.readUIntLE=function(je,Ke,ut){je=je>>>0,Ke=Ke>>>0,ut||Kt(je,Ke,this.length);for(var Et=this[je],It=1,zt=0;++zt<Ke&&(It*=256);)Et+=this[je+zt]*It;return Et},ne.prototype.readUIntBE=function(je,Ke,ut){je=je>>>0,Ke=Ke>>>0,ut||Kt(je,Ke,this.length);for(var Et=this[je+--Ke],It=1;Ke>0&&(It*=256);)Et+=this[je+--Ke]*It;return Et},ne.prototype.readUInt8=function(je,Ke){return je=je>>>0,Ke||Kt(je,1,this.length),this[je]},ne.prototype.readUInt16LE=function(je,Ke){return je=je>>>0,Ke||Kt(je,2,this.length),this[je]|this[je+1]<<8},ne.prototype.readUInt16BE=function(je,Ke){return je=je>>>0,Ke||Kt(je,2,this.length),this[je]<<8|this[je+1]},ne.prototype.readUInt32LE=function(je,Ke){return je=je>>>0,Ke||Kt(je,4,this.length),(this[je]|this[je+1]<<8|this[je+2]<<16)+this[je+3]*16777216},ne.prototype.readUInt32BE=function(je,Ke){return je=je>>>0,Ke||Kt(je,4,this.length),this[je]*16777216+(this[je+1]<<16|this[je+2]<<8|this[je+3])},ne.prototype.readIntLE=function(je,Ke,ut){je=je>>>0,Ke=Ke>>>0,ut||Kt(je,Ke,this.length);for(var Et=this[je],It=1,zt=0;++zt<Ke&&(It*=256);)Et+=this[je+zt]*It;return It*=128,Et>=It&&(Et-=Math.pow(2,8*Ke)),Et},ne.prototype.readIntBE=function(je,Ke,ut){je=je>>>0,Ke=Ke>>>0,ut||Kt(je,Ke,this.length);for(var Et=Ke,It=1,zt=this[je+--Et];Et>0&&(It*=256);)zt+=this[je+--Et]*It;return It*=128,zt>=It&&(zt-=Math.pow(2,8*Ke)),zt},ne.prototype.readInt8=function(je,Ke){return je=je>>>0,Ke||Kt(je,1,this.length),this[je]&128?(255-this[je]+1)*-1:this[je]},ne.prototype.readInt16LE=function(je,Ke){je=je>>>0,Ke||Kt(je,2,this.length);var ut=this[je]|this[je+1]<<8;return ut&32768?ut|4294901760:ut},ne.prototype.readInt16BE=function(je,Ke){je=je>>>0,Ke||Kt(je,2,this.length);var ut=this[je+1]|this[je]<<8;return ut&32768?ut|4294901760:ut},ne.prototype.readInt32LE=function(je,Ke){return je=je>>>0,Ke||Kt(je,4,this.length),this[je]|this[je+1]<<8|this[je+2]<<16|this[je+3]<<24},ne.prototype.readInt32BE=function(je,Ke){return je=je>>>0,Ke||Kt(je,4,this.length),this[je]<<24|this[je+1]<<16|this[je+2]<<8|this[je+3]},ne.prototype.readFloatLE=function(je,Ke){return je=je>>>0,Ke||Kt(je,4,this.length),g.read(this,je,!0,23,4)},ne.prototype.readFloatBE=function(je,Ke){return je=je>>>0,Ke||Kt(je,4,this.length),g.read(this,je,!1,23,4)},ne.prototype.readDoubleLE=function(je,Ke){return je=je>>>0,Ke||Kt(je,8,this.length),g.read(this,je,!0,52,8)},ne.prototype.readDoubleBE=function(je,Ke){return je=je>>>0,Ke||Kt(je,8,this.length),g.read(this,je,!1,52,8)};function fr(nt,je,Ke,ut,Et,It){if(!ne.isBuffer(nt))throw new TypeError('"buffer" argument must be a Buffer instance');if(je>Et||je<It)throw new RangeError('"value" argument is out of bounds');if(Ke+ut>nt.length)throw new RangeError("Index out of range")}ne.prototype.writeUIntLE=function(je,Ke,ut,Et){if(je=+je,Ke=Ke>>>0,ut=ut>>>0,!Et){var It=Math.pow(2,8*ut)-1;fr(this,je,Ke,ut,It,0)}var zt=1,tr=0;for(this[Ke]=je&255;++tr<ut&&(zt*=256);)this[Ke+tr]=je/zt&255;return Ke+ut},ne.prototype.writeUIntBE=function(je,Ke,ut,Et){if(je=+je,Ke=Ke>>>0,ut=ut>>>0,!Et){var It=Math.pow(2,8*ut)-1;fr(this,je,Ke,ut,It,0)}var zt=ut-1,tr=1;for(this[Ke+zt]=je&255;--zt>=0&&(tr*=256);)this[Ke+zt]=je/tr&255;return Ke+ut},ne.prototype.writeUInt8=function(je,Ke,ut){return je=+je,Ke=Ke>>>0,ut||fr(this,je,Ke,1,255,0),this[Ke]=je&255,Ke+1},ne.prototype.writeUInt16LE=function(je,Ke,ut){return je=+je,Ke=Ke>>>0,ut||fr(this,je,Ke,2,65535,0),this[Ke]=je&255,this[Ke+1]=je>>>8,Ke+2},ne.prototype.writeUInt16BE=function(je,Ke,ut){return je=+je,Ke=Ke>>>0,ut||fr(this,je,Ke,2,65535,0),this[Ke]=je>>>8,this[Ke+1]=je&255,Ke+2},ne.prototype.writeUInt32LE=function(je,Ke,ut){return je=+je,Ke=Ke>>>0,ut||fr(this,je,Ke,4,4294967295,0),this[Ke+3]=je>>>24,this[Ke+2]=je>>>16,this[Ke+1]=je>>>8,this[Ke]=je&255,Ke+4},ne.prototype.writeUInt32BE=function(je,Ke,ut){return je=+je,Ke=Ke>>>0,ut||fr(this,je,Ke,4,4294967295,0),this[Ke]=je>>>24,this[Ke+1]=je>>>16,this[Ke+2]=je>>>8,this[Ke+3]=je&255,Ke+4},ne.prototype.writeIntLE=function(je,Ke,ut,Et){if(je=+je,Ke=Ke>>>0,!Et){var It=Math.pow(2,8*ut-1);fr(this,je,Ke,ut,It-1,-It)}var zt=0,tr=1,Sr=0;for(this[Ke]=je&255;++zt<ut&&(tr*=256);)je<0&&Sr===0&&this[Ke+zt-1]!==0&&(Sr=1),this[Ke+zt]=(je/tr>>0)-Sr&255;return Ke+ut},ne.prototype.writeIntBE=function(je,Ke,ut,Et){if(je=+je,Ke=Ke>>>0,!Et){var It=Math.pow(2,8*ut-1);fr(this,je,Ke,ut,It-1,-It)}var zt=ut-1,tr=1,Sr=0;for(this[Ke+zt]=je&255;--zt>=0&&(tr*=256);)je<0&&Sr===0&&this[Ke+zt+1]!==0&&(Sr=1),this[Ke+zt]=(je/tr>>0)-Sr&255;return Ke+ut},ne.prototype.writeInt8=function(je,Ke,ut){return je=+je,Ke=Ke>>>0,ut||fr(this,je,Ke,1,127,-128),je<0&&(je=255+je+1),this[Ke]=je&255,Ke+1},ne.prototype.writeInt16LE=function(je,Ke,ut){return je=+je,Ke=Ke>>>0,ut||fr(this,je,Ke,2,32767,-32768),this[Ke]=je&255,this[Ke+1]=je>>>8,Ke+2},ne.prototype.writeInt16BE=function(je,Ke,ut){return je=+je,Ke=Ke>>>0,ut||fr(this,je,Ke,2,32767,-32768),this[Ke]=je>>>8,this[Ke+1]=je&255,Ke+2},ne.prototype.writeInt32LE=function(je,Ke,ut){return je=+je,Ke=Ke>>>0,ut||fr(this,je,Ke,4,2147483647,-2147483648),this[Ke]=je&255,this[Ke+1]=je>>>8,this[Ke+2]=je>>>16,this[Ke+3]=je>>>24,Ke+4},ne.prototype.writeInt32BE=function(je,Ke,ut){return je=+je,Ke=Ke>>>0,ut||fr(this,je,Ke,4,2147483647,-2147483648),je<0&&(je=4294967295+je+1),this[Ke]=je>>>24,this[Ke+1]=je>>>16,this[Ke+2]=je>>>8,this[Ke+3]=je&255,Ke+4};function Rr(nt,je,Ke,ut,Et,It){if(Ke+ut>nt.length)throw new RangeError("Index out of range");if(Ke<0)throw new RangeError("Index out of range")}function sr(nt,je,Ke,ut,Et){return je=+je,Ke=Ke>>>0,Et||Rr(nt,je,Ke,4),g.write(nt,je,Ke,ut,23,4),Ke+4}ne.prototype.writeFloatLE=function(je,Ke,ut){return sr(this,je,Ke,!0,ut)},ne.prototype.writeFloatBE=function(je,Ke,ut){return sr(this,je,Ke,!1,ut)};function lt(nt,je,Ke,ut,Et){return je=+je,Ke=Ke>>>0,Et||Rr(nt,je,Ke,8),g.write(nt,je,Ke,ut,52,8),Ke+8}ne.prototype.writeDoubleLE=function(je,Ke,ut){return lt(this,je,Ke,!0,ut)},ne.prototype.writeDoubleBE=function(je,Ke,ut){return lt(this,je,Ke,!1,ut)},ne.prototype.copy=function(je,Ke,ut,Et){if(ut||(ut=0),!Et&&Et!==0&&(Et=this.length),Ke>=je.length&&(Ke=je.length),Ke||(Ke=0),Et>0&&Et<ut&&(Et=ut),Et===ut||je.length===0||this.length===0)return 0;if(Ke<0)throw new RangeError("targetStart out of bounds");if(ut<0||ut>=this.length)throw new RangeError("sourceStart out of bounds");if(Et<0)throw new RangeError("sourceEnd out of bounds");Et>this.length&&(Et=this.length),je.length-Ke<Et-ut&&(Et=je.length-Ke+ut);var It=Et-ut,zt;if(this===je&&ut<Ke&&Ke<Et)for(zt=It-1;zt>=0;--zt)je[zt+Ke]=this[zt+ut];else if(It<1e3)for(zt=0;zt<It;++zt)je[zt+Ke]=this[zt+ut];else Uint8Array.prototype.set.call(je,this.subarray(ut,ut+It),Ke);return It},ne.prototype.fill=function(je,Ke,ut,Et){if(typeof je=="string"){if(typeof Ke=="string"?(Et=Ke,Ke=0,ut=this.length):typeof ut=="string"&&(Et=ut,ut=this.length),je.length===1){var It=je.charCodeAt(0);It<256&&(je=It)}if(Et!==void 0&&typeof Et!="string")throw new TypeError("encoding must be a string");if(typeof Et=="string"&&!ne.isEncoding(Et))throw new TypeError("Unknown encoding: "+Et)}else typeof je=="number"&&(je=je&255);if(Ke<0||this.length<Ke||this.length<ut)throw new RangeError("Out of range index");if(ut<=Ke)return this;Ke=Ke>>>0,ut=ut===void 0?this.length:ut>>>0,je||(je=0);var zt;if(typeof je=="number")for(zt=Ke;zt<ut;++zt)this[zt]=je;else{var tr=ne.isBuffer(je)?je:new ne(je,Et),Sr=tr.length;for(zt=0;zt<ut-Ke;++zt)this[zt+Ke]=tr[zt%Sr]}return this};var yt=/[^+/0-9A-Za-z-_]/g;function Xt(nt){if(nt=nt.trim().replace(yt,""),nt.length<2)return"";for(;nt.length%4!==0;)nt=nt+"=";return nt}function $t(nt){return nt<16?"0"+nt.toString(16):nt.toString(16)}function dr(nt,je){je=je||1/0;for(var Ke,ut=nt.length,Et=null,It=[],zt=0;zt<ut;++zt){if(Ke=nt.charCodeAt(zt),Ke>55295&&Ke<57344){if(!Et){if(Ke>56319){(je-=3)>-1&&It.push(239,191,189);continue}else if(zt+1===ut){(je-=3)>-1&&It.push(239,191,189);continue}Et=Ke;continue}if(Ke<56320){(je-=3)>-1&&It.push(239,191,189),Et=Ke;continue}Ke=(Et-55296<<10|Ke-56320)+65536}else Et&&(je-=3)>-1&&It.push(239,191,189);if(Et=null,Ke<128){if((je-=1)<0)break;It.push(Ke)}else if(Ke<2048){if((je-=2)<0)break;It.push(Ke>>6|192,Ke&63|128)}else if(Ke<65536){if((je-=3)<0)break;It.push(Ke>>12|224,Ke>>6&63|128,Ke&63|128)}else if(Ke<1114112){if((je-=4)<0)break;It.push(Ke>>18|240,Ke>>12&63|128,Ke>>6&63|128,Ke&63|128)}else throw new Error("Invalid code point")}return It}function Je(nt){for(var je=[],Ke=0;Ke<nt.length;++Ke)je.push(nt.charCodeAt(Ke)&255);return je}function At(nt,je){for(var Ke,ut,Et,It=[],zt=0;zt<nt.length&&!((je-=2)<0);++zt)Ke=nt.charCodeAt(zt),ut=Ke>>8,Et=Ke%256,It.push(Et),It.push(ut);return It}function Wt(nt){return m.toByteArray(Xt(nt))}function xt(nt,je,Ke,ut){for(var Et=0;Et<ut&&!(Et+Ke>=je.length||Et>=nt.length);++Et)je[Et+Ke]=nt[Et];return Et}function pt(nt){return nt instanceof ArrayBuffer||nt!=null&&nt.constructor!=null&&nt.constructor.name==="ArrayBuffer"&&typeof nt.byteLength=="number"}function Dt(nt){return typeof ArrayBuffer.isView=="function"&&ArrayBuffer.isView(nt)}function er(nt){return nt!==nt}}).call(i,c(1))},function(e,i){i.byteLength=ne,i.toByteArray=De,i.fromByteArray=Fe;for(var c=[],f=[],m=typeof Uint8Array<"u"?Uint8Array:Array,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Te=0,Ie=g.length;Te<Ie;++Te)c[Te]=g[Te],f[g.charCodeAt(Te)]=Te;f["-".charCodeAt(0)]=62,f["_".charCodeAt(0)]=63;function Oe(Ne){var Ve=Ne.length;if(Ve%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return Ne[Ve-2]==="="?2:Ne[Ve-1]==="="?1:0}function ne(Ne){return Ne.length*3/4-Oe(Ne)}function De(Ne){var Ve,Ue,We,He,Xe,ot,tt=Ne.length;Xe=Oe(Ne),ot=new m(tt*3/4-Xe),We=Xe>0?tt-4:tt;var gt=0;for(Ve=0,Ue=0;Ve<We;Ve+=4,Ue+=3)He=f[Ne.charCodeAt(Ve)]<<18|f[Ne.charCodeAt(Ve+1)]<<12|f[Ne.charCodeAt(Ve+2)]<<6|f[Ne.charCodeAt(Ve+3)],ot[gt++]=He>>16&255,ot[gt++]=He>>8&255,ot[gt++]=He&255;return Xe===2?(He=f[Ne.charCodeAt(Ve)]<<2|f[Ne.charCodeAt(Ve+1)]>>4,ot[gt++]=He&255):Xe===1&&(He=f[Ne.charCodeAt(Ve)]<<10|f[Ne.charCodeAt(Ve+1)]<<4|f[Ne.charCodeAt(Ve+2)]>>2,ot[gt++]=He>>8&255,ot[gt++]=He&255),ot}function Ee(Ne){return c[Ne>>18&63]+c[Ne>>12&63]+c[Ne>>6&63]+c[Ne&63]}function Be(Ne,Ve,Ue){for(var We,He=[],Xe=Ve;Xe<Ue;Xe+=3)We=(Ne[Xe]<<16)+(Ne[Xe+1]<<8)+Ne[Xe+2],He.push(Ee(We));return He.join("")}function Fe(Ne){for(var Ve,Ue=Ne.length,We=Ue%3,He="",Xe=[],ot=16383,tt=0,gt=Ue-We;tt<gt;tt+=ot)Xe.push(Be(Ne,tt,tt+ot>gt?gt:tt+ot));return We===1?(Ve=Ne[Ue-1],He+=c[Ve>>2],He+=c[Ve<<4&63],He+="=="):We===2&&(Ve=(Ne[Ue-2]<<8)+Ne[Ue-1],He+=c[Ve>>10],He+=c[Ve>>4&63],He+=c[Ve<<2&63],He+="="),Xe.push(He),Xe.join("")}},function(e,i){i.read=function(c,f,m,g,Te){var Ie,Oe,ne=Te*8-g-1,De=(1<<ne)-1,Ee=De>>1,Be=-7,Fe=m?Te-1:0,Ne=m?-1:1,Ve=c[f+Fe];for(Fe+=Ne,Ie=Ve&(1<<-Be)-1,Ve>>=-Be,Be+=ne;Be>0;Ie=Ie*256+c[f+Fe],Fe+=Ne,Be-=8);for(Oe=Ie&(1<<-Be)-1,Ie>>=-Be,Be+=g;Be>0;Oe=Oe*256+c[f+Fe],Fe+=Ne,Be-=8);if(Ie===0)Ie=1-Ee;else{if(Ie===De)return Oe?NaN:(Ve?-1:1)*(1/0);Oe=Oe+Math.pow(2,g),Ie=Ie-Ee}return(Ve?-1:1)*Oe*Math.pow(2,Ie-g)},i.write=function(c,f,m,g,Te,Ie){var Oe,ne,De,Ee=Ie*8-Te-1,Be=(1<<Ee)-1,Fe=Be>>1,Ne=Te===23?Math.pow(2,-24)-Math.pow(2,-77):0,Ve=g?0:Ie-1,Ue=g?1:-1,We=f<0||f===0&&1/f<0?1:0;for(f=Math.abs(f),isNaN(f)||f===1/0?(ne=isNaN(f)?1:0,Oe=Be):(Oe=Math.floor(Math.log(f)/Math.LN2),f*(De=Math.pow(2,-Oe))<1&&(Oe--,De*=2),Oe+Fe>=1?f+=Ne/De:f+=Ne*Math.pow(2,1-Fe),f*De>=2&&(Oe++,De/=2),Oe+Fe>=Be?(ne=0,Oe=Be):Oe+Fe>=1?(ne=(f*De-1)*Math.pow(2,Te),Oe=Oe+Fe):(ne=f*Math.pow(2,Fe-1)*Math.pow(2,Te),Oe=0));Te>=8;c[m+Ve]=ne&255,Ve+=Ue,ne/=256,Te-=8);for(Oe=Oe<<Te|ne,Ee+=Te;Ee>0;c[m+Ve]=Oe&255,Ve+=Ue,Oe/=256,Ee-=8);c[m+Ve-Ue]|=We*128}},function(e,i){e.exports=function(c){return c.webpackPolyfill||(c.deprecate=function(){},c.paths=[],c.children=[],c.webpackPolyfill=1),c}},function(e,i,c){var f=c(7),m=new f,g={};function Te(Oe){g[Oe]||(typeof m[Oe]=="function"?g[Oe]=function(){return m[Oe].apply(m,arguments)}:g[Oe]=m[Oe])}for(var Ie in m)Te(Ie);g.initializeTTYs=function(){m.stdin===null&&(m.initializeTTYs(),g.stdin=m.stdin,g.stdout=m.stdout,g.stderr=m.stderr)},m.nextTick(function(){g.initializeTTYs()}),e.exports=g},function(e,i,c){(function(f){var m=this&&this.__extends||function(De,Ee){for(var Be in Ee)Ee.hasOwnProperty(Be)&&(De[Be]=Ee[Be]);function Fe(){this.constructor=De}De.prototype=Ee===null?Object.create(Ee):(Fe.prototype=Ee.prototype,new Fe)},g=c(8),Te=null,Ie=function(){function De(Ee,Be){this.fun=Ee,this.array=Be}return De.prototype.run=function(){this.fun.apply(null,this.array)},De}(),Oe=function(){function De(){this._queue=[],this._draining=!1,this._currentQueue=null,this._queueIndex=-1}return De.prototype.push=function(Ee){var Be=this;this._queue.push(Ee)===1&&!this._draining&&setTimeout(function(){return Be._drainQueue()},0)},De.prototype._cleanUpNextTick=function(){this._draining=!1,this._currentQueue&&this._currentQueue.length?this._queue=this._currentQueue.concat(this._queue):this._queueIndex=-1,this._queue.length&&this._drainQueue()},De.prototype._drainQueue=function(){var Ee=this;if(!this._draining){var Be=setTimeout(function(){return Ee._cleanUpNextTick()});this._draining=!0;for(var Fe=this._queue.length;Fe;){for(this._currentQueue=this._queue,this._queue=[];++this._queueIndex<Fe;)this._currentQueue&&this._currentQueue[this._queueIndex].run();this._queueIndex=-1,Fe=this._queue.length}this._currentQueue=null,this._draining=!1,clearTimeout(Be)}},De}(),ne=function(De){m(Ee,De);function Ee(){De.apply(this,arguments),this.startTime=Date.now(),this._cwd="/",this.platform="browser",this.argv=[],this.execArgv=[],this.stdout=null,this.stderr=null,this.stdin=null,this.domain=null,this._queue=new Oe,this.execPath=f,this.env={},this.exitCode=0,this._gid=1,this._uid=1,this.version="v5.0",this.versions={http_parser:"0.0",node:"5.0",v8:"0.0",uv:"0.0",zlib:"0.0",ares:"0.0",icu:"0.0",modules:"0",openssl:"0.0"},this.config={target_defaults:{cflags:[],default_configuration:"Release",defines:[],include_dirs:[],libraries:[]},variables:{clang:0,host_arch:"x32",node_install_npm:!1,node_install_waf:!1,node_prefix:"",node_shared_cares:!1,node_shared_http_parser:!1,node_shared_libuv:!1,node_shared_zlib:!1,node_shared_v8:!1,node_use_dtrace:!1,node_use_etw:!1,node_use_openssl:!1,node_shared_openssl:!1,strict_aliasing:!1,target_arch:"x32",v8_use_snapshot:!1,v8_no_strict_aliasing:0,visibility:""}},this.pid=Math.random()*1e3|0,this.title="node",this.arch="x32",this._mask=18,this.connected=void 0}return Ee.prototype.chdir=function(Be){Te===null&&(Te=c(9)),this._cwd=Te.resolve(Be)},Ee.prototype.cwd=function(){return this._cwd},Ee.prototype.uptime=function(){return(Date.now()-this.startTime)/1e3|0},Ee.prototype.nextTick=function(Be){for(var Fe=[],Ne=1;Ne<arguments.length;Ne++)Fe[Ne-1]=arguments[Ne];this._queue.push(new Ie(Be,Fe))},Ee.prototype.abort=function(){this.emit("abort")},Ee.prototype.exit=function(Be){this.exitCode=Be,this.emit("exit",[Be])},Ee.prototype.getgid=function(){return this._gid},Ee.prototype.setgid=function(Be){typeof Be=="number"?this._gid=Be:this._gid=1},Ee.prototype.getuid=function(){return this._uid},Ee.prototype.setuid=function(Be){typeof Be=="number"?this._uid=Be:this._uid=1},Ee.prototype.kill=function(Be,Fe){this.emit("kill",[Be,Fe])},Ee.prototype.memoryUsage=function(){return{rss:0,heapTotal:0,heapUsed:0}},Ee.prototype.umask=function(Be){Be===void 0&&(Be=this._mask);var Fe=this._mask;return this._mask=Be,this.emit("umask",[Be]),Fe},Ee.prototype.hrtime=function(){var Be;typeof performance<"u"?Be=performance.now():Date.now?Be=Date.now():Be=new Date().getTime();var Fe=Be/1e3|0;return Be-=Fe*1e3,Be=Be*1e6|0,[Fe,Be]},Ee.prototype.initializeTTYs=function(){if(this.stdout===null){var Be=c(10);this.stdout=new Be,this.stderr=new Be,this.stdin=new Be}},Ee.prototype.disconnect=function(){},Ee}(g.EventEmitter);e.exports=ne}).call(i,"/")},function(e,i){function c(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}e.exports=c,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._maxListeners=void 0,c.defaultMaxListeners=10,c.prototype.setMaxListeners=function(Ie){if(!m(Ie)||Ie<0||isNaN(Ie))throw TypeError("n must be a positive number");return this._maxListeners=Ie,this},c.prototype.emit=function(Ie){var Oe,ne,De,Ee,Be,Fe;if(this._events||(this._events={}),Ie==="error"&&(!this._events.error||g(this._events.error)&&!this._events.error.length)){if(Oe=arguments[1],Oe instanceof Error)throw Oe;var Ne=new Error('Uncaught, unspecified "error" event. ('+Oe+")");throw Ne.context=Oe,Ne}if(ne=this._events[Ie],Te(ne))return!1;if(f(ne))switch(arguments.length){case 1:ne.call(this);break;case 2:ne.call(this,arguments[1]);break;case 3:ne.call(this,arguments[1],arguments[2]);break;default:Ee=Array.prototype.slice.call(arguments,1),ne.apply(this,Ee)}else if(g(ne))for(Ee=Array.prototype.slice.call(arguments,1),Fe=ne.slice(),De=Fe.length,Be=0;Be<De;Be++)Fe[Be].apply(this,Ee);return!0},c.prototype.addListener=function(Ie,Oe){var ne;if(!f(Oe))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",Ie,f(Oe.listener)?Oe.listener:Oe),this._events[Ie]?g(this._events[Ie])?this._events[Ie].push(Oe):this._events[Ie]=[this._events[Ie],Oe]:this._events[Ie]=Oe,g(this._events[Ie])&&!this._events[Ie].warned&&(Te(this._maxListeners)?ne=c.defaultMaxListeners:ne=this._maxListeners,ne&&ne>0&&this._events[Ie].length>ne&&(this._events[Ie].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[Ie].length),typeof console.trace=="function"&&console.trace())),this},c.prototype.on=c.prototype.addListener,c.prototype.once=function(Ie,Oe){if(!f(Oe))throw TypeError("listener must be a function");var ne=!1;function De(){this.removeListener(Ie,De),ne||(ne=!0,Oe.apply(this,arguments))}return De.listener=Oe,this.on(Ie,De),this},c.prototype.removeListener=function(Ie,Oe){var ne,De,Ee,Be;if(!f(Oe))throw TypeError("listener must be a function");if(!this._events||!this._events[Ie])return this;if(ne=this._events[Ie],Ee=ne.length,De=-1,ne===Oe||f(ne.listener)&&ne.listener===Oe)delete this._events[Ie],this._events.removeListener&&this.emit("removeListener",Ie,Oe);else if(g(ne)){for(Be=Ee;Be-- >0;)if(ne[Be]===Oe||ne[Be].listener&&ne[Be].listener===Oe){De=Be;break}if(De<0)return this;ne.length===1?(ne.length=0,delete this._events[Ie]):ne.splice(De,1),this._events.removeListener&&this.emit("removeListener",Ie,Oe)}return this},c.prototype.removeAllListeners=function(Ie){var Oe,ne;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[Ie]&&delete this._events[Ie],this;if(arguments.length===0){for(Oe in this._events)Oe!=="removeListener"&&this.removeAllListeners(Oe);return this.removeAllListeners("removeListener"),this._events={},this}if(ne=this._events[Ie],f(ne))this.removeListener(Ie,ne);else if(ne)for(;ne.length;)this.removeListener(Ie,ne[ne.length-1]);return delete this._events[Ie],this},c.prototype.listeners=function(Ie){var Oe;return!this._events||!this._events[Ie]?Oe=[]:f(this._events[Ie])?Oe=[this._events[Ie]]:Oe=this._events[Ie].slice(),Oe},c.prototype.listenerCount=function(Ie){if(this._events){var Oe=this._events[Ie];if(f(Oe))return 1;if(Oe)return Oe.length}return 0},c.listenerCount=function(Ie,Oe){return Ie.listenerCount(Oe)};function f(Ie){return typeof Ie=="function"}function m(Ie){return typeof Ie=="number"}function g(Ie){return typeof Ie=="object"&&Ie!==null}function Te(Ie){return Ie===void 0}},function(e,i,c){(function(f){var m=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;function g(Ie){var Oe=m.exec(Ie);return Oe.shift(),Oe}var Te=function(){function Ie(){}return Ie.normalize=function(Oe){Oe===""&&(Oe=".");var ne=Oe.charAt(0)===Ie.sep;Oe=Ie._removeDuplicateSeps(Oe);for(var De=Oe.split(Ie.sep),Ee=[],Be=0;Be<De.length;Be++){var Fe=De[Be];Fe!=="."&&(Fe===".."&&(ne||!ne&&Ee.length>0&&Ee[0]!=="..")?Ee.pop():Ee.push(Fe))}if(!ne&&Ee.length<2)switch(Ee.length){case 1:Ee[0]===""&&Ee.unshift(".");break;default:Ee.push(".")}return Oe=Ee.join(Ie.sep),ne&&Oe.charAt(0)!==Ie.sep&&(Oe=Ie.sep+Oe),Oe},Ie.join=function(){for(var Oe=[],ne=0;ne<arguments.length;ne++)Oe[ne-0]=arguments[ne];for(var De=[],Ee=0;Ee<Oe.length;Ee++){var Be=Oe[Ee];if(typeof Be!="string")throw new TypeError("Invalid argument type to path.join: "+typeof Be);Be!==""&&De.push(Be)}return Ie.normalize(De.join(Ie.sep))},Ie.resolve=function(){for(var Oe=[],ne=0;ne<arguments.length;ne++)Oe[ne-0]=arguments[ne];for(var De=[],Ee=0;Ee<Oe.length;Ee++){var Be=Oe[Ee];if(typeof Be!="string")throw new TypeError("Invalid argument type to path.join: "+typeof Be);Be!==""&&(Be.charAt(0)===Ie.sep&&(De=[]),De.push(Be))}var Fe=Ie.normalize(De.join(Ie.sep));if(Fe.length>1&&Fe.charAt(Fe.length-1)===Ie.sep)return Fe.substr(0,Fe.length-1);if(Fe.charAt(0)!==Ie.sep){Fe.charAt(0)==="."&&(Fe.length===1||Fe.charAt(1)===Ie.sep)&&(Fe=Fe.length===1?"":Fe.substr(2));var Ne=f.cwd();Fe!==""?Fe=this.normalize(Ne+(Ne!=="/"?Ie.sep:"")+Fe):Fe=Ne}return Fe},Ie.relative=function(Oe,ne){var De;Oe=Ie.resolve(Oe),ne=Ie.resolve(ne);var Ee=Oe.split(Ie.sep),Be=ne.split(Ie.sep);Be.shift(),Ee.shift();var Fe=0,Ne=[];for(De=0;De<Ee.length;De++){var Ve=Ee[De];if(Ve!==Be[De]){Fe=Ee.length-De;break}}Ne=Be.slice(De),Ee.length===1&&Ee[0]===""&&(Fe=0),Fe>Ee.length&&(Fe=Ee.length);var Ue="";for(De=0;De<Fe;De++)Ue+="../";return Ue+=Ne.join(Ie.sep),Ue.length>1&&Ue.charAt(Ue.length-1)===Ie.sep&&(Ue=Ue.substr(0,Ue.length-1)),Ue},Ie.dirname=function(Oe){Oe=Ie._removeDuplicateSeps(Oe);var ne=Oe.charAt(0)===Ie.sep,De=Oe.split(Ie.sep);return De.pop()===""&&De.length>0&&De.pop(),De.length>1||De.length===1&&!ne?De.join(Ie.sep):ne?Ie.sep:"."},Ie.basename=function(Oe,ne){if(ne===void 0&&(ne=""),Oe==="")return Oe;Oe=Ie.normalize(Oe);var De=Oe.split(Ie.sep),Ee=De[De.length-1];if(Ee===""&&De.length>1)return De[De.length-2];if(ne.length>0){var Be=Ee.substr(Ee.length-ne.length);if(Be===ne)return Ee.substr(0,Ee.length-ne.length)}return Ee},Ie.extname=function(Oe){Oe=Ie.normalize(Oe);var ne=Oe.split(Ie.sep);if(Oe=ne.pop(),Oe===""&&ne.length>0&&(Oe=ne.pop()),Oe==="..")return"";var De=Oe.lastIndexOf(".");return De===-1||De===0?"":Oe.substr(De)},Ie.isAbsolute=function(Oe){return Oe.length>0&&Oe.charAt(0)===Ie.sep},Ie._makeLong=function(Oe){return Oe},Ie.parse=function(Oe){var ne=g(Oe);return{root:ne[0],dir:ne[0]+ne[1].slice(0,-1),base:ne[2],ext:ne[3],name:ne[2].slice(0,ne[2].length-ne[3].length)}},Ie.format=function(Oe){if(Oe===null||typeof Oe!="object")throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof Oe);var ne=Oe.root||"";if(typeof ne!="string")throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof Oe.root);var De=Oe.dir?Oe.dir+Ie.sep:"",Ee=Oe.base||"";return De+Ee},Ie._removeDuplicateSeps=function(Oe){return Oe=Oe.replace(this._replaceRegex,this.sep),Oe},Ie.sep="/",Ie._replaceRegex=new RegExp("//+","g"),Ie.delimiter=":",Ie.posix=Ie,Ie.win32=Ie,Ie}();e.exports=Te}).call(i,c(6))},function(e,i,c){(function(f){var m=this&&this.__extends||function(Ie,Oe){for(var ne in Oe)Oe.hasOwnProperty(ne)&&(Ie[ne]=Oe[ne]);function De(){this.constructor=Ie}Ie.prototype=Oe===null?Object.create(Oe):(De.prototype=Oe.prototype,new De)},g=c(11),Te=function(Ie){m(Oe,Ie);function Oe(){Ie.call(this),this.isRaw=!1,this.columns=80,this.rows=120,this.isTTY=!0,this._bufferedWrites=[],this._waitingForWrites=!1}return Oe.prototype.setRawMode=function(ne){this.isRaw!==ne&&(this.isRaw=ne,this.emit("modeChange"))},Oe.prototype.changeColumns=function(ne){ne!==this.columns&&(this.columns=ne,this.emit("resize"))},Oe.prototype.changeRows=function(ne){ne!==this.rows&&(this.rows=ne,this.emit("resize"))},Oe.isatty=function(ne){return ne&&ne instanceof Oe},Oe.prototype._write=function(ne,De,Ee){var Be;try{var Fe;typeof ne=="string"?Fe=new f(ne,De):Fe=ne,this._bufferedWrites.push(Fe),this._waitingForWrites&&this._read(1024)}catch(Ne){Be=Ne}finally{Ee(Be)}},Oe.prototype._read=function(ne){if(this._bufferedWrites.length===0)this._waitingForWrites=!0;else for(;this._bufferedWrites.length>0&&(this._waitingForWrites=this.push(this._bufferedWrites.shift()),!!this._waitingForWrites););},Oe}(g.Duplex);e.exports=Te}).call(i,c(1))},function(e,i,c){e.exports=g;var f=c(8).EventEmitter,m=c(12);m(g,f),g.Readable=c(13),g.Writable=c(27),g.Duplex=c(28),g.Transform=c(29),g.PassThrough=c(30),g.Stream=g;function g(){f.call(this)}g.prototype.pipe=function(Te,Ie){var Oe=this;function ne(Ue){Te.writable&&Te.write(Ue)===!1&&Oe.pause&&Oe.pause()}Oe.on("data",ne);function De(){Oe.readable&&Oe.resume&&Oe.resume()}Te.on("drain",De),!Te._isStdio&&(!Ie||Ie.end!==!1)&&(Oe.on("end",Be),Oe.on("close",Fe));var Ee=!1;function Be(){Ee||(Ee=!0,Te.end())}function Fe(){Ee||(Ee=!0,typeof Te.destroy=="function"&&Te.destroy())}function Ne(Ue){if(Ve(),f.listenerCount(this,"error")===0)throw Ue}Oe.on("error",Ne),Te.on("error",Ne);function Ve(){Oe.removeListener("data",ne),Te.removeListener("drain",De),Oe.removeListener("end",Be),Oe.removeListener("close",Fe),Oe.removeListener("error",Ne),Te.removeListener("error",Ne),Oe.removeListener("end",Ve),Oe.removeListener("close",Ve),Te.removeListener("close",Ve)}return Oe.on("end",Ve),Oe.on("close",Ve),Te.on("close",Ve),Te.emit("pipe",Oe),Te}},function(e,i){typeof Object.create=="function"?e.exports=function(f,m){f.super_=m,f.prototype=Object.create(m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(f,m){f.super_=m;var g=function(){};g.prototype=m.prototype,f.prototype=new g,f.prototype.constructor=f}},function(e,i,c){(function(f){var m=function(){try{return c(11)}catch{}}();i=e.exports=c(14),i.Stream=m||i,i.Readable=i,i.Writable=c(22),i.Duplex=c(21),i.Transform=c(25),i.PassThrough=c(26),!f.browser&&f.env.READABLE_STREAM==="disable"&&m&&(e.exports=m)}).call(i,c(6))},function(e,i,c){(function(f){e.exports=He;var m=c(15),g=c(16),Te;He.ReadableState=We,c(8).EventEmitter;var Ie=function(lt,yt){return lt.listeners(yt).length},Oe;(function(){try{Oe=c(11)}catch{}finally{Oe||(Oe=c(8).EventEmitter)}})();var ne=c(2).Buffer,De=c(17),Ee=c(18);Ee.inherits=c(12);var Be=c(19),Fe=void 0;Be&&Be.debuglog?Fe=Be.debuglog("stream"):Fe=function(){};var Ne=c(20),Ve;Ee.inherits(He,Oe);function Ue(lt,yt,Xt){if(typeof lt.prependListener=="function")return lt.prependListener(yt,Xt);!lt._events||!lt._events[yt]?lt.on(yt,Xt):g(lt._events[yt])?lt._events[yt].unshift(Xt):lt._events[yt]=[Xt,lt._events[yt]]}function We(lt,yt){Te=Te||c(21),lt=lt||{},this.objectMode=!!lt.objectMode,yt instanceof Te&&(this.objectMode=this.objectMode||!!lt.readableObjectMode);var Xt=lt.highWaterMark,$t=this.objectMode?16:16*1024;this.highWaterMark=Xt||Xt===0?Xt:$t,this.highWaterMark=~~this.highWaterMark,this.buffer=new Ne,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=lt.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,lt.encoding&&(Ve||(Ve=c(24).StringDecoder),this.decoder=new Ve(lt.encoding),this.encoding=lt.encoding)}function He(lt){if(Te=Te||c(21),!(this instanceof He))return new He(lt);this._readableState=new We(lt,this),this.readable=!0,lt&&typeof lt.read=="function"&&(this._read=lt.read),Oe.call(this)}He.prototype.push=function(lt,yt){var Xt=this._readableState;return!Xt.objectMode&&typeof lt=="string"&&(yt=yt||Xt.defaultEncoding,yt!==Xt.encoding&&(lt=De.from(lt,yt),yt="")),Xe(this,Xt,lt,yt,!1)},He.prototype.unshift=function(lt){var yt=this._readableState;return Xe(this,yt,lt,"",!0)},He.prototype.isPaused=function(){return this._readableState.flowing===!1};function Xe(lt,yt,Xt,$t,dr){var Je=rt(yt,Xt);if(Je)lt.emit("error",Je);else if(Xt===null)yt.reading=!1,ht(lt,yt);else if(yt.objectMode||Xt&&Xt.length>0)if(yt.ended&&!dr){var At=new Error("stream.push() after EOF");lt.emit("error",At)}else if(yt.endEmitted&&dr){var Wt=new Error("stream.unshift() after end event");lt.emit("error",Wt)}else{var xt;yt.decoder&&!dr&&!$t&&(Xt=yt.decoder.write(Xt),xt=!yt.objectMode&&Xt.length===0),dr||(yt.reading=!1),xt||(yt.flowing&&yt.length===0&&!yt.sync?(lt.emit("data",Xt),lt.read(0)):(yt.length+=yt.objectMode?1:Xt.length,dr?yt.buffer.unshift(Xt):yt.buffer.push(Xt),yt.needReadable&&it(lt))),Ze(lt,yt)}else dr||(yt.reading=!1);return ot(yt)}function ot(lt){return!lt.ended&&(lt.needReadable||lt.length<lt.highWaterMark||lt.length===0)}He.prototype.setEncoding=function(lt){return Ve||(Ve=c(24).StringDecoder),this._readableState.decoder=new Ve(lt),this._readableState.encoding=lt,this};var tt=8388608;function gt(lt){return lt>=tt?lt=tt:(lt--,lt|=lt>>>1,lt|=lt>>>2,lt|=lt>>>4,lt|=lt>>>8,lt|=lt>>>16,lt++),lt}function vt(lt,yt){return lt<=0||yt.length===0&&yt.ended?0:yt.objectMode?1:lt!==lt?yt.flowing&&yt.length?yt.buffer.head.data.length:yt.length:(lt>yt.highWaterMark&&(yt.highWaterMark=gt(lt)),lt<=yt.length?lt:yt.ended?yt.length:(yt.needReadable=!0,0))}He.prototype.read=function(lt){Fe("read",lt),lt=parseInt(lt,10);var yt=this._readableState,Xt=lt;if(lt!==0&&(yt.emittedReadable=!1),lt===0&&yt.needReadable&&(yt.length>=yt.highWaterMark||yt.ended))return Fe("read: emitReadable",yt.length,yt.ended),yt.length===0&&yt.ended?Kt(this):it(this),null;if(lt=vt(lt,yt),lt===0&&yt.ended)return yt.length===0&&Kt(this),null;var $t=yt.needReadable;Fe("need readable",$t),(yt.length===0||yt.length-lt<yt.highWaterMark)&&($t=!0,Fe("length less than watermark",$t)),yt.ended||yt.reading?($t=!1,Fe("reading or ended",$t)):$t&&(Fe("do read"),yt.reading=!0,yt.sync=!0,yt.length===0&&(yt.needReadable=!0),this._read(yt.highWaterMark),yt.sync=!1,yt.reading||(lt=vt(Xt,yt)));var dr;return lt>0?dr=ct(lt,yt):dr=null,dr===null?(yt.needReadable=!0,lt=0):yt.length-=lt,yt.length===0&&(yt.ended||(yt.needReadable=!0),Xt!==lt&&yt.ended&&Kt(this)),dr!==null&&this.emit("data",dr),dr};function rt(lt,yt){var Xt=null;return!ne.isBuffer(yt)&&typeof yt!="string"&&yt!==null&&yt!==void 0&&!lt.objectMode&&(Xt=new TypeError("Invalid non-string/buffer chunk")),Xt}function ht(lt,yt){if(!yt.ended){if(yt.decoder){var Xt=yt.decoder.end();Xt&&Xt.length&&(yt.buffer.push(Xt),yt.length+=yt.objectMode?1:Xt.length)}yt.ended=!0,it(lt)}}function it(lt){var yt=lt._readableState;yt.needReadable=!1,yt.emittedReadable||(Fe("emitReadable",yt.flowing),yt.emittedReadable=!0,yt.sync?m(mt,lt):mt(lt))}function mt(lt){Fe("emit readable"),lt.emit("readable"),St(lt)}function Ze(lt,yt){yt.readingMore||(yt.readingMore=!0,m(Ft,lt,yt))}function Ft(lt,yt){for(var Xt=yt.length;!yt.reading&&!yt.flowing&&!yt.ended&&yt.length<yt.highWaterMark&&(Fe("maybeReadMore read 0"),lt.read(0),Xt!==yt.length);)Xt=yt.length;yt.readingMore=!1}He.prototype._read=function(lt){this.emit("error",new Error("_read() is not implemented"))},He.prototype.pipe=function(lt,yt){var Xt=this,$t=this._readableState;switch($t.pipesCount){case 0:$t.pipes=lt;break;case 1:$t.pipes=[$t.pipes,lt];break;default:$t.pipes.push(lt);break}$t.pipesCount+=1,Fe("pipe count=%d opts=%j",$t.pipesCount,yt);var dr=(!yt||yt.end!==!1)&&lt!==f.stdout&&lt!==f.stderr,Je=dr?Wt:Dt;$t.endEmitted?m(Je):Xt.once("end",Je),lt.on("unpipe",At);function At(It){Fe("onunpipe"),It===Xt&&Dt()}function Wt(){Fe("onend"),lt.end()}var xt=Zt(Xt);lt.on("drain",xt);var pt=!1;function Dt(){Fe("cleanup"),lt.removeListener("close",Ke),lt.removeListener("finish",ut),lt.removeListener("drain",xt),lt.removeListener("error",je),lt.removeListener("unpipe",At),Xt.removeListener("end",Wt),Xt.removeListener("end",Dt),Xt.removeListener("data",nt),pt=!0,$t.awaitDrain&&(!lt._writableState||lt._writableState.needDrain)&&xt()}var er=!1;Xt.on("data",nt);function nt(It){Fe("ondata"),er=!1;var zt=lt.write(It);zt===!1&&!er&&(($t.pipesCount===1&&$t.pipes===lt||$t.pipesCount>1&&sr($t.pipes,lt)!==-1)&&!pt&&(Fe("false write response, pause",Xt._readableState.awaitDrain),Xt._readableState.awaitDrain++,er=!0),Xt.pause())}function je(It){Fe("onerror",It),Et(),lt.removeListener("error",je),Ie(lt,"error")===0&&lt.emit("error",It)}Ue(lt,"error",je);function Ke(){lt.removeListener("finish",ut),Et()}lt.once("close",Ke);function ut(){Fe("onfinish"),lt.removeListener("close",Ke),Et()}lt.once("finish",ut);function Et(){Fe("unpipe"),Xt.unpipe(lt)}return lt.emit("pipe",Xt),$t.flowing||(Fe("pipe resume"),Xt.resume()),lt};function Zt(lt){return function(){var yt=lt._readableState;Fe("pipeOnDrain",yt.awaitDrain),yt.awaitDrain&&yt.awaitDrain--,yt.awaitDrain===0&&Ie(lt,"data")&&(yt.flowing=!0,St(lt))}}He.prototype.unpipe=function(lt){var yt=this._readableState;if(yt.pipesCount===0)return this;if(yt.pipesCount===1)return lt&&lt!==yt.pipes?this:(lt||(lt=yt.pipes),yt.pipes=null,yt.pipesCount=0,yt.flowing=!1,lt&&lt.emit("unpipe",this),this);if(!lt){var Xt=yt.pipes,$t=yt.pipesCount;yt.pipes=null,yt.pipesCount=0,yt.flowing=!1;for(var dr=0;dr<$t;dr++)Xt[dr].emit("unpipe",this);return this}var Je=sr(yt.pipes,lt);return Je===-1?this:(yt.pipes.splice(Je,1),yt.pipesCount-=1,yt.pipesCount===1&&(yt.pipes=yt.pipes[0]),lt.emit("unpipe",this),this)},He.prototype.on=function(lt,yt){var Xt=Oe.prototype.on.call(this,lt,yt);if(lt==="data")this._readableState.flowing!==!1&&this.resume();else if(lt==="readable"){var $t=this._readableState;!$t.endEmitted&&!$t.readableListening&&($t.readableListening=$t.needReadable=!0,$t.emittedReadable=!1,$t.reading?$t.length&&it(this):m(jt,this))}return Xt},He.prototype.addListener=He.prototype.on;function jt(lt){Fe("readable nexttick read 0"),lt.read(0)}He.prototype.resume=function(){var lt=this._readableState;return lt.flowing||(Fe("resume"),lt.flowing=!0,cr(this,lt)),this};function cr(lt,yt){yt.resumeScheduled||(yt.resumeScheduled=!0,m(bt,lt,yt))}function bt(lt,yt){yt.reading||(Fe("resume read 0"),lt.read(0)),yt.resumeScheduled=!1,yt.awaitDrain=0,lt.emit("resume"),St(lt),yt.flowing&&!yt.reading&&lt.read(0)}He.prototype.pause=function(){return Fe("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Fe("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function St(lt){var yt=lt._readableState;for(Fe("flow",yt.flowing);yt.flowing&&lt.read()!==null;);}He.prototype.wrap=function(lt){var yt=this._readableState,Xt=!1,$t=this;lt.on("end",function(){if(Fe("wrapped end"),yt.decoder&&!yt.ended){var At=yt.decoder.end();At&&At.length&&$t.push(At)}$t.push(null)}),lt.on("data",function(At){if(Fe("wrapped data"),yt.decoder&&(At=yt.decoder.write(At)),!(yt.objectMode&&At==null)&&!(!yt.objectMode&&(!At||!At.length))){var Wt=$t.push(At);Wt||(Xt=!0,lt.pause())}});for(var dr in lt)this[dr]===void 0&&typeof lt[dr]=="function"&&(this[dr]=function(At){return function(){return lt[At].apply(lt,arguments)}}(dr));var Je=["error","close","destroy","pause","resume"];return Rr(Je,function(At){lt.on(At,$t.emit.bind($t,At))}),$t._read=function(At){Fe("wrapped _read",At),Xt&&(Xt=!1,lt.resume())},$t},He._fromList=ct;function ct(lt,yt){if(yt.length===0)return null;var Xt;return yt.objectMode?Xt=yt.buffer.shift():!lt||lt>=yt.length?(yt.decoder?Xt=yt.buffer.join(""):yt.buffer.length===1?Xt=yt.buffer.head.data:Xt=yt.buffer.concat(yt.length),yt.buffer.clear()):Xt=dt(lt,yt.buffer,yt.decoder),Xt}function dt(lt,yt,Xt){var $t;return lt<yt.head.data.length?($t=yt.head.data.slice(0,lt),yt.head.data=yt.head.data.slice(lt)):lt===yt.head.data.length?$t=yt.shift():$t=Xt?Pt(lt,yt):Ct(lt,yt),$t}function Pt(lt,yt){var Xt=yt.head,$t=1,dr=Xt.data;for(lt-=dr.length;Xt=Xt.next;){var Je=Xt.data,At=lt>Je.length?Je.length:lt;if(At===Je.length?dr+=Je:dr+=Je.slice(0,lt),lt-=At,lt===0){At===Je.length?(++$t,Xt.next?yt.head=Xt.next:yt.head=yt.tail=null):(yt.head=Xt,Xt.data=Je.slice(At));break}++$t}return yt.length-=$t,dr}function Ct(lt,yt){var Xt=De.allocUnsafe(lt),$t=yt.head,dr=1;for($t.data.copy(Xt),lt-=$t.data.length;$t=$t.next;){var Je=$t.data,At=lt>Je.length?Je.length:lt;if(Je.copy(Xt,Xt.length-lt,0,At),lt-=At,lt===0){At===Je.length?(++dr,$t.next?yt.head=$t.next:yt.head=yt.tail=null):(yt.head=$t,$t.data=Je.slice(At));break}++dr}return yt.length-=dr,Xt}function Kt(lt){var yt=lt._readableState;if(yt.length>0)throw new Error('"endReadable()" called on non-empty stream');yt.endEmitted||(yt.ended=!0,m(fr,yt,lt))}function fr(lt,yt){!lt.endEmitted&&lt.length===0&&(lt.endEmitted=!0,yt.readable=!1,yt.emit("end"))}function Rr(lt,yt){for(var Xt=0,$t=lt.length;Xt<$t;Xt++)yt(lt[Xt],Xt)}function sr(lt,yt){for(var Xt=0,$t=lt.length;Xt<$t;Xt++)if(lt[Xt]===yt)return Xt;return-1}}).call(i,c(6))},function(e,i,c){(function(f){!f.version||f.version.indexOf("v0.")===0||f.version.indexOf("v1.")===0&&f.version.indexOf("v1.8.")!==0?e.exports=m:e.exports=f.nextTick;function m(g,Te,Ie,Oe){if(typeof g!="function")throw new TypeError('"callback" argument must be a function');var ne=arguments.length,De,Ee;switch(ne){case 0:case 1:return f.nextTick(g);case 2:return f.nextTick(function(){g.call(null,Te)});case 3:return f.nextTick(function(){g.call(null,Te,Ie)});case 4:return f.nextTick(function(){g.call(null,Te,Ie,Oe)});default:for(De=new Array(ne-1),Ee=0;Ee<De.length;)De[Ee++]=arguments[Ee];return f.nextTick(function(){g.apply(null,De)})}}}).call(i,c(6))},function(e,i){var c={}.toString;e.exports=Array.isArray||function(f){return c.call(f)=="[object Array]"}},function(e,i,c){(function(f){var m=c(2),g=m.Buffer,Te=m.SlowBuffer,Ie=m.kMaxLength||2147483647;i.alloc=function(ne,De,Ee){if(typeof g.alloc=="function")return g.alloc(ne,De,Ee);if(typeof Ee=="number")throw new TypeError("encoding must not be number");if(typeof ne!="number")throw new TypeError("size must be a number");if(ne>Ie)throw new RangeError("size is too large");var Be=Ee,Fe=De;Fe===void 0&&(Be=void 0,Fe=0);var Ne=new g(ne);if(typeof Fe=="string")for(var Ve=new g(Fe,Be),Ue=Ve.length,We=-1;++We<ne;)Ne[We]=Ve[We%Ue];else Ne.fill(Fe);return Ne},i.allocUnsafe=function(ne){if(typeof g.allocUnsafe=="function")return g.allocUnsafe(ne);if(typeof ne!="number")throw new TypeError("size must be a number");if(ne>Ie)throw new RangeError("size is too large");return new g(ne)},i.from=function(ne,De,Ee){if(typeof g.from=="function"&&(!f.Uint8Array||Uint8Array.from!==g.from))return g.from(ne,De,Ee);if(typeof ne=="number")throw new TypeError('"value" argument must not be a number');if(typeof ne=="string")return new g(ne,De);if(typeof ArrayBuffer<"u"&&ne instanceof ArrayBuffer){var Be=De;if(arguments.length===1)return new g(ne);typeof Be>"u"&&(Be=0);var Fe=Ee;if(typeof Fe>"u"&&(Fe=ne.byteLength-Be),Be>=ne.byteLength)throw new RangeError("'offset' is out of bounds");if(Fe>ne.byteLength-Be)throw new RangeError("'length' is out of bounds");return new g(ne.slice(Be,Be+Fe))}if(g.isBuffer(ne)){var Ne=new g(ne.length);return ne.copy(Ne,0,0,ne.length),Ne}if(ne){if(Array.isArray(ne)||typeof ArrayBuffer<"u"&&ne.buffer instanceof ArrayBuffer||"length"in ne)return new g(ne);if(ne.type==="Buffer"&&Array.isArray(ne.data))return new g(ne.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},i.allocUnsafeSlow=function(ne){if(typeof g.allocUnsafeSlow=="function")return g.allocUnsafeSlow(ne);if(typeof ne!="number")throw new TypeError("size must be a number");if(ne>=Ie)throw new RangeError("size is too large");return new Te(ne)}}).call(i,function(){return this}())},function(e,i,c){(function(f){function m(Xe){return Array.isArray?Array.isArray(Xe):He(Xe)==="[object Array]"}i.isArray=m;function g(Xe){return typeof Xe=="boolean"}i.isBoolean=g;function Te(Xe){return Xe===null}i.isNull=Te;function Ie(Xe){return Xe==null}i.isNullOrUndefined=Ie;function Oe(Xe){return typeof Xe=="number"}i.isNumber=Oe;function ne(Xe){return typeof Xe=="string"}i.isString=ne;function De(Xe){return typeof Xe=="symbol"}i.isSymbol=De;function Ee(Xe){return Xe===void 0}i.isUndefined=Ee;function Be(Xe){return He(Xe)==="[object RegExp]"}i.isRegExp=Be;function Fe(Xe){return typeof Xe=="object"&&Xe!==null}i.isObject=Fe;function Ne(Xe){return He(Xe)==="[object Date]"}i.isDate=Ne;function Ve(Xe){return He(Xe)==="[object Error]"||Xe instanceof Error}i.isError=Ve;function Ue(Xe){return typeof Xe=="function"}i.isFunction=Ue;function We(Xe){return Xe===null||typeof Xe=="boolean"||typeof Xe=="number"||typeof Xe=="string"||typeof Xe=="symbol"||typeof Xe>"u"}i.isPrimitive=We,i.isBuffer=f.isBuffer;function He(Xe){return Object.prototype.toString.call(Xe)}}).call(i,c(1))},function(e,i){},function(e,i,c){c(2).Buffer;var f=c(17);e.exports=m;function m(){this.head=null,this.tail=null,this.length=0}m.prototype.push=function(g){var Te={data:g,next:null};this.length>0?this.tail.next=Te:this.head=Te,this.tail=Te,++this.length},m.prototype.unshift=function(g){var Te={data:g,next:this.head};this.length===0&&(this.tail=Te),this.head=Te,++this.length},m.prototype.shift=function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}},m.prototype.clear=function(){this.head=this.tail=null,this.length=0},m.prototype.join=function(g){if(this.length===0)return"";for(var Te=this.head,Ie=""+Te.data;Te=Te.next;)Ie+=g+Te.data;return Ie},m.prototype.concat=function(g){if(this.length===0)return f.alloc(0);if(this.length===1)return this.head.data;for(var Te=f.allocUnsafe(g>>>0),Ie=this.head,Oe=0;Ie;)Ie.data.copy(Te,Oe),Oe+=Ie.data.length,Ie=Ie.next;return Te}},function(e,i,c){var f=Object.keys||function(Ne){var Ve=[];for(var Ue in Ne)Ve.push(Ue);return Ve};e.exports=Ee;var m=c(15),g=c(18);g.inherits=c(12);var Te=c(14),Ie=c(22);g.inherits(Ee,Te);for(var Oe=f(Ie.prototype),ne=0;ne<Oe.length;ne++){var De=Oe[ne];Ee.prototype[De]||(Ee.prototype[De]=Ie.prototype[De])}function Ee(Ne){if(!(this instanceof Ee))return new Ee(Ne);Te.call(this,Ne),Ie.call(this,Ne),Ne&&Ne.readable===!1&&(this.readable=!1),Ne&&Ne.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,Ne&&Ne.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",Be)}function Be(){this.allowHalfOpen||this._writableState.ended||m(Fe,this)}function Fe(Ne){Ne.end()}},function(e,i,c){(function(f){e.exports=Ue;var m=c(15),g=!f.browser&&["v0.10","v0.9."].indexOf(f.version.slice(0,5))>-1?setImmediate:m,Te;Ue.WritableState=Ne;var Ie=c(18);Ie.inherits=c(12);var Oe={deprecate:c(23)},ne;(function(){try{ne=c(11)}catch{}finally{ne||(ne=c(8).EventEmitter)}})();var De=c(2).Buffer,Ee=c(17);Ie.inherits(Ue,ne);function Be(){}function Fe(bt,St,ct){this.chunk=bt,this.encoding=St,this.callback=ct,this.next=null}function Ne(bt,St){Te=Te||c(21),bt=bt||{},this.objectMode=!!bt.objectMode,St instanceof Te&&(this.objectMode=this.objectMode||!!bt.writableObjectMode);var ct=bt.highWaterMark,dt=this.objectMode?16:16*1024;this.highWaterMark=ct||ct===0?ct:dt,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var Pt=bt.decodeStrings===!1;this.decodeStrings=!Pt,this.defaultEncoding=bt.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ct){rt(St,Ct)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new cr(this)}Ne.prototype.getBuffer=function(){for(var St=this.bufferedRequest,ct=[];St;)ct.push(St),St=St.next;return ct},function(){try{Object.defineProperty(Ne.prototype,"buffer",{get:Oe.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch{}}();var Ve;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Ve=Function.prototype[Symbol.hasInstance],Object.defineProperty(Ue,Symbol.hasInstance,{value:function(bt){return Ve.call(this,bt)?!0:bt&&bt._writableState instanceof Ne}})):Ve=function(bt){return bt instanceof this};function Ue(bt){if(Te=Te||c(21),!Ve.call(Ue,this)&&!(this instanceof Te))return new Ue(bt);this._writableState=new Ne(bt,this),this.writable=!0,bt&&(typeof bt.write=="function"&&(this._write=bt.write),typeof bt.writev=="function"&&(this._writev=bt.writev)),ne.call(this)}Ue.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function We(bt,St){var ct=new Error("write after end");bt.emit("error",ct),m(St,ct)}function He(bt,St,ct,dt){var Pt=!0,Ct=!1;return ct===null?Ct=new TypeError("May not write null values to stream"):typeof ct!="string"&&ct!==void 0&&!St.objectMode&&(Ct=new TypeError("Invalid non-string/buffer chunk")),Ct&&(bt.emit("error",Ct),m(dt,Ct),Pt=!1),Pt}Ue.prototype.write=function(bt,St,ct){var dt=this._writableState,Pt=!1,Ct=De.isBuffer(bt);return typeof St=="function"&&(ct=St,St=null),Ct?St="buffer":St||(St=dt.defaultEncoding),typeof ct!="function"&&(ct=Be),dt.ended?We(this,ct):(Ct||He(this,dt,bt,ct))&&(dt.pendingcb++,Pt=ot(this,dt,Ct,bt,St,ct)),Pt},Ue.prototype.cork=function(){var bt=this._writableState;bt.corked++},Ue.prototype.uncork=function(){var bt=this._writableState;bt.corked&&(bt.corked--,!bt.writing&&!bt.corked&&!bt.finished&&!bt.bufferProcessing&&bt.bufferedRequest&&mt(this,bt))},Ue.prototype.setDefaultEncoding=function(St){if(typeof St=="string"&&(St=St.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((St+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+St);return this._writableState.defaultEncoding=St,this};function Xe(bt,St,ct){return!bt.objectMode&&bt.decodeStrings!==!1&&typeof St=="string"&&(St=Ee.from(St,ct)),St}function ot(bt,St,ct,dt,Pt,Ct){ct||(dt=Xe(St,dt,Pt),De.isBuffer(dt)&&(Pt="buffer"));var Kt=St.objectMode?1:dt.length;St.length+=Kt;var fr=St.length<St.highWaterMark;if(fr||(St.needDrain=!0),St.writing||St.corked){var Rr=St.lastBufferedRequest;St.lastBufferedRequest=new Fe(dt,Pt,Ct),Rr?Rr.next=St.lastBufferedRequest:St.bufferedRequest=St.lastBufferedRequest,St.bufferedRequestCount+=1}else tt(bt,St,!1,Kt,dt,Pt,Ct);return fr}function tt(bt,St,ct,dt,Pt,Ct,Kt){St.writelen=dt,St.writecb=Kt,St.writing=!0,St.sync=!0,ct?bt._writev(Pt,St.onwrite):bt._write(Pt,Ct,St.onwrite),St.sync=!1}function gt(bt,St,ct,dt,Pt){--St.pendingcb,ct?m(Pt,dt):Pt(dt),bt._writableState.errorEmitted=!0,bt.emit("error",dt)}function vt(bt){bt.writing=!1,bt.writecb=null,bt.length-=bt.writelen,bt.writelen=0}function rt(bt,St){var ct=bt._writableState,dt=ct.sync,Pt=ct.writecb;if(vt(ct),St)gt(bt,ct,dt,St,Pt);else{var Ct=Ze(ct);!Ct&&!ct.corked&&!ct.bufferProcessing&&ct.bufferedRequest&&mt(bt,ct),dt?g(ht,bt,ct,Ct,Pt):ht(bt,ct,Ct,Pt)}}function ht(bt,St,ct,dt){ct||it(bt,St),St.pendingcb--,dt(),Zt(bt,St)}function it(bt,St){St.length===0&&St.needDrain&&(St.needDrain=!1,bt.emit("drain"))}function mt(bt,St){St.bufferProcessing=!0;var ct=St.bufferedRequest;if(bt._writev&&ct&&ct.next){var dt=St.bufferedRequestCount,Pt=new Array(dt),Ct=St.corkedRequestsFree;Ct.entry=ct;for(var Kt=0;ct;)Pt[Kt]=ct,ct=ct.next,Kt+=1;tt(bt,St,!0,St.length,Pt,"",Ct.finish),St.pendingcb++,St.lastBufferedRequest=null,Ct.next?(St.corkedRequestsFree=Ct.next,Ct.next=null):St.corkedRequestsFree=new cr(St)}else{for(;ct;){var fr=ct.chunk,Rr=ct.encoding,sr=ct.callback,lt=St.objectMode?1:fr.length;if(tt(bt,St,!1,lt,fr,Rr,sr),ct=ct.next,St.writing)break}ct===null&&(St.lastBufferedRequest=null)}St.bufferedRequestCount=0,St.bufferedRequest=ct,St.bufferProcessing=!1}Ue.prototype._write=function(bt,St,ct){ct(new Error("_write() is not implemented"))},Ue.prototype._writev=null,Ue.prototype.end=function(bt,St,ct){var dt=this._writableState;typeof bt=="function"?(ct=bt,bt=null,St=null):typeof St=="function"&&(ct=St,St=null),bt!=null&&this.write(bt,St),dt.corked&&(dt.corked=1,this.uncork()),!dt.ending&&!dt.finished&&jt(this,dt,ct)};function Ze(bt){return bt.ending&&bt.length===0&&bt.bufferedRequest===null&&!bt.finished&&!bt.writing}function Ft(bt,St){St.prefinished||(St.prefinished=!0,bt.emit("prefinish"))}function Zt(bt,St){var ct=Ze(St);return ct&&(St.pendingcb===0?(Ft(bt,St),St.finished=!0,bt.emit("finish")):Ft(bt,St)),ct}function jt(bt,St,ct){St.ending=!0,Zt(bt,St),ct&&(St.finished?m(ct):bt.once("finish",ct)),St.ended=!0,bt.writable=!1}function cr(bt){var St=this;this.next=null,this.entry=null,this.finish=function(ct){var dt=St.entry;for(St.entry=null;dt;){var Pt=dt.callback;bt.pendingcb--,Pt(ct),dt=dt.next}bt.corkedRequestsFree?bt.corkedRequestsFree.next=St:bt.corkedRequestsFree=St}}}).call(i,c(6))},function(e,i){(function(c){e.exports=f;function f(g,Te){if(m("noDeprecation"))return g;var Ie=!1;function Oe(){if(!Ie){if(m("throwDeprecation"))throw new Error(Te);m("traceDeprecation")?console.trace(Te):console.warn(Te),Ie=!0}return g.apply(this,arguments)}return Oe}function m(g){try{if(!c.localStorage)return!1}catch{return!1}var Te=c.localStorage[g];return Te==null?!1:String(Te).toLowerCase()==="true"}}).call(i,function(){return this}())},function(e,i,c){var f=c(2).Buffer,m=f.isEncoding||function(De){switch(De&&De.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function g(De){if(De&&!m(De))throw new Error("Unknown encoding: "+De)}var Te=i.StringDecoder=function(De){switch(this.encoding=(De||"utf8").toLowerCase().replace(/[-_]/,""),g(De),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=Oe;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=ne;break;default:this.write=Ie;return}this.charBuffer=new f(6),this.charReceived=0,this.charLength=0};Te.prototype.write=function(De){for(var Ee="";this.charLength;){var Be=De.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:De.length;if(De.copy(this.charBuffer,this.charReceived,0,Be),this.charReceived+=Be,this.charReceived<this.charLength)return"";De=De.slice(Be,De.length),Ee=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var Ne=Ee.charCodeAt(Ee.length-1);if(Ne>=55296&&Ne<=56319){this.charLength+=this.surrogateSize,Ee="";continue}if(this.charReceived=this.charLength=0,De.length===0)return Ee;break}this.detectIncompleteChar(De);var Fe=De.length;this.charLength&&(De.copy(this.charBuffer,0,De.length-this.charReceived,Fe),Fe-=this.charReceived),Ee+=De.toString(this.encoding,0,Fe);var Fe=Ee.length-1,Ne=Ee.charCodeAt(Fe);if(Ne>=55296&&Ne<=56319){var Ve=this.surrogateSize;return this.charLength+=Ve,this.charReceived+=Ve,this.charBuffer.copy(this.charBuffer,Ve,0,Ve),De.copy(this.charBuffer,0,0,Ve),Ee.substring(0,Fe)}return Ee},Te.prototype.detectIncompleteChar=function(De){for(var Ee=De.length>=3?3:De.length;Ee>0;Ee--){var Be=De[De.length-Ee];if(Ee==1&&Be>>5==6){this.charLength=2;break}if(Ee<=2&&Be>>4==14){this.charLength=3;break}if(Ee<=3&&Be>>3==30){this.charLength=4;break}}this.charReceived=Ee},Te.prototype.end=function(De){var Ee="";if(De&&De.length&&(Ee=this.write(De)),this.charReceived){var Be=this.charReceived,Fe=this.charBuffer,Ne=this.encoding;Ee+=Fe.slice(0,Be).toString(Ne)}return Ee};function Ie(De){return De.toString(this.encoding)}function Oe(De){this.charReceived=De.length%2,this.charLength=this.charReceived?2:0}function ne(De){this.charReceived=De.length%3,this.charLength=this.charReceived?3:0}},function(e,i,c){e.exports=Ie;var f=c(21),m=c(18);m.inherits=c(12),m.inherits(Ie,f);function g(ne){this.afterTransform=function(De,Ee){return Te(ne,De,Ee)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function Te(ne,De,Ee){var Be=ne._transformState;Be.transforming=!1;var Fe=Be.writecb;if(!Fe)return ne.emit("error",new Error("no writecb in Transform class"));Be.writechunk=null,Be.writecb=null,Ee!=null&&ne.push(Ee),Fe(De);var Ne=ne._readableState;Ne.reading=!1,(Ne.needReadable||Ne.length<Ne.highWaterMark)&&ne._read(Ne.highWaterMark)}function Ie(ne){if(!(this instanceof Ie))return new Ie(ne);f.call(this,ne),this._transformState=new g(this);var De=this;this._readableState.needReadable=!0,this._readableState.sync=!1,ne&&(typeof ne.transform=="function"&&(this._transform=ne.transform),typeof ne.flush=="function"&&(this._flush=ne.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(Ee,Be){Oe(De,Ee,Be)}):Oe(De)})}Ie.prototype.push=function(ne,De){return this._transformState.needTransform=!1,f.prototype.push.call(this,ne,De)},Ie.prototype._transform=function(ne,De,Ee){throw new Error("_transform() is not implemented")},Ie.prototype._write=function(ne,De,Ee){var Be=this._transformState;if(Be.writecb=Ee,Be.writechunk=ne,Be.writeencoding=De,!Be.transforming){var Fe=this._readableState;(Be.needTransform||Fe.needReadable||Fe.length<Fe.highWaterMark)&&this._read(Fe.highWaterMark)}},Ie.prototype._read=function(ne){var De=this._transformState;De.writechunk!==null&&De.writecb&&!De.transforming?(De.transforming=!0,this._transform(De.writechunk,De.writeencoding,De.afterTransform)):De.needTransform=!0};function Oe(ne,De,Ee){if(De)return ne.emit("error",De);Ee!=null&&ne.push(Ee);var Be=ne._writableState,Fe=ne._transformState;if(Be.length)throw new Error("Calling transform done when ws.length != 0");if(Fe.transforming)throw new Error("Calling transform done when still transforming");return ne.push(null)}},function(e,i,c){e.exports=g;var f=c(25),m=c(18);m.inherits=c(12),m.inherits(g,f);function g(Te){if(!(this instanceof g))return new g(Te);f.call(this,Te)}g.prototype._transform=function(Te,Ie,Oe){Oe(null,Te)}},function(e,i,c){e.exports=c(22)},function(e,i,c){e.exports=c(21)},function(e,i,c){e.exports=c(25)},function(e,i,c){e.exports=c(26)},function(e,i,c){var f=c(32),m=c(33),g=c(38),Te=c(39),Ie=c(40),Oe=c(41),ne=c(42),De=Object.prototype.toString;function Ee(Ne){if(!(this instanceof Ee))return new Ee(Ne);this.options=m.assign({chunkSize:16384,windowBits:0,to:""},Ne||{});var Ve=this.options;Ve.raw&&Ve.windowBits>=0&&Ve.windowBits<16&&(Ve.windowBits=-Ve.windowBits,Ve.windowBits===0&&(Ve.windowBits=-15)),Ve.windowBits>=0&&Ve.windowBits<16&&!(Ne&&Ne.windowBits)&&(Ve.windowBits+=32),Ve.windowBits>15&&Ve.windowBits<48&&(Ve.windowBits&15||(Ve.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Oe,this.strm.avail_out=0;var Ue=f.inflateInit2(this.strm,Ve.windowBits);if(Ue!==Te.Z_OK)throw new Error(Ie[Ue]);this.header=new ne,f.inflateGetHeader(this.strm,this.header)}Ee.prototype.push=function(Ne,Ve){var Ue=this.strm,We=this.options.chunkSize,He=this.options.dictionary,Xe,ot,tt,gt,vt,rt,ht=!1;if(this.ended)return!1;ot=Ve===~~Ve?Ve:Ve===!0?Te.Z_FINISH:Te.Z_NO_FLUSH,typeof Ne=="string"?Ue.input=g.binstring2buf(Ne):De.call(Ne)==="[object ArrayBuffer]"?Ue.input=new Uint8Array(Ne):Ue.input=Ne,Ue.next_in=0,Ue.avail_in=Ue.input.length;do{if(Ue.avail_out===0&&(Ue.output=new m.Buf8(We),Ue.next_out=0,Ue.avail_out=We),Xe=f.inflate(Ue,Te.Z_NO_FLUSH),Xe===Te.Z_NEED_DICT&&He&&(typeof He=="string"?rt=g.string2buf(He):De.call(He)==="[object ArrayBuffer]"?rt=new Uint8Array(He):rt=He,Xe=f.inflateSetDictionary(this.strm,rt)),Xe===Te.Z_BUF_ERROR&&ht===!0&&(Xe=Te.Z_OK,ht=!1),Xe!==Te.Z_STREAM_END&&Xe!==Te.Z_OK)return this.onEnd(Xe),this.ended=!0,!1;Ue.next_out&&(Ue.avail_out===0||Xe===Te.Z_STREAM_END||Ue.avail_in===0&&(ot===Te.Z_FINISH||ot===Te.Z_SYNC_FLUSH))&&(this.options.to==="string"?(tt=g.utf8border(Ue.output,Ue.next_out),gt=Ue.next_out-tt,vt=g.buf2string(Ue.output,tt),Ue.next_out=gt,Ue.avail_out=We-gt,gt&&m.arraySet(Ue.output,Ue.output,tt,gt,0),this.onData(vt)):this.onData(m.shrinkBuf(Ue.output,Ue.next_out))),Ue.avail_in===0&&Ue.avail_out===0&&(ht=!0)}while((Ue.avail_in>0||Ue.avail_out===0)&&Xe!==Te.Z_STREAM_END);return Xe===Te.Z_STREAM_END&&(ot=Te.Z_FINISH),ot===Te.Z_FINISH?(Xe=f.inflateEnd(this.strm),this.onEnd(Xe),this.ended=!0,Xe===Te.Z_OK):(ot===Te.Z_SYNC_FLUSH&&(this.onEnd(Te.Z_OK),Ue.avail_out=0),!0)},Ee.prototype.onData=function(Ne){this.chunks.push(Ne)},Ee.prototype.onEnd=function(Ne){Ne===Te.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=Ne,this.msg=this.strm.msg};function Be(Ne,Ve){var Ue=new Ee(Ve);if(Ue.push(Ne,!0),Ue.err)throw Ue.msg||Ie[Ue.err];return Ue.result}function Fe(Ne,Ve){return Ve=Ve||{},Ve.raw=!0,Be(Ne,Ve)}i.Inflate=Ee,i.inflate=Be,i.inflateRaw=Fe,i.ungzip=Be},function(e,i,c){var f=c(33),m=c(34),g=c(35),Te=c(36),Ie=c(37),Oe=0,ne=1,De=2,Ee=4,Be=5,Fe=6,Ne=0,Ve=1,Ue=2,We=-2,He=-3,Xe=-4,ot=-5,tt=8,gt=1,vt=2,rt=3,ht=4,it=5,mt=6,Ze=7,Ft=8,Zt=9,jt=10,cr=11,bt=12,St=13,ct=14,dt=15,Pt=16,Ct=17,Kt=18,fr=19,Rr=20,sr=21,lt=22,yt=23,Xt=24,$t=25,dr=26,Je=27,At=28,Wt=29,xt=30,pt=31,Dt=32,er=852,nt=592,je=15,Ke=je;function ut(Jt){return(Jt>>>24&255)+(Jt>>>8&65280)+((Jt&65280)<<8)+((Jt&255)<<24)}function Et(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new f.Buf16(320),this.work=new f.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function It(Jt){var yr;return!Jt||!Jt.state?We:(yr=Jt.state,Jt.total_in=Jt.total_out=yr.total=0,Jt.msg="",yr.wrap&&(Jt.adler=yr.wrap&1),yr.mode=gt,yr.last=0,yr.havedict=0,yr.dmax=32768,yr.head=null,yr.hold=0,yr.bits=0,yr.lencode=yr.lendyn=new f.Buf32(er),yr.distcode=yr.distdyn=new f.Buf32(nt),yr.sane=1,yr.back=-1,Ne)}function zt(Jt){var yr;return!Jt||!Jt.state?We:(yr=Jt.state,yr.wsize=0,yr.whave=0,yr.wnext=0,It(Jt))}function tr(Jt,yr){var at,Or;return!Jt||!Jt.state||(Or=Jt.state,yr<0?(at=0,yr=-yr):(at=(yr>>4)+1,yr<48&&(yr&=15)),yr&&(yr<8||yr>15))?We:(Or.window!==null&&Or.wbits!==yr&&(Or.window=null),Or.wrap=at,Or.wbits=yr,zt(Jt))}function Sr(Jt,yr){var at,Or;return Jt?(Or=new Et,Jt.state=Or,Or.window=null,at=tr(Jt,yr),at!==Ne&&(Jt.state=null),at):We}function Lr(Jt){return Sr(Jt,Ke)}var Br=!0,Er,gr;function Qr(Jt){if(Br){var yr;for(Er=new f.Buf32(512),gr=new f.Buf32(32),yr=0;yr<144;)Jt.lens[yr++]=8;for(;yr<256;)Jt.lens[yr++]=9;for(;yr<280;)Jt.lens[yr++]=7;for(;yr<288;)Jt.lens[yr++]=8;for(Ie(ne,Jt.lens,0,288,Er,0,Jt.work,{bits:9}),yr=0;yr<32;)Jt.lens[yr++]=5;Ie(De,Jt.lens,0,32,gr,0,Jt.work,{bits:5}),Br=!1}Jt.lencode=Er,Jt.lenbits=9,Jt.distcode=gr,Jt.distbits=5}function Cr(Jt,yr,at,Or){var en,kr=Jt.state;return kr.window===null&&(kr.wsize=1<<kr.wbits,kr.wnext=0,kr.whave=0,kr.window=new f.Buf8(kr.wsize)),Or>=kr.wsize?(f.arraySet(kr.window,yr,at-kr.wsize,kr.wsize,0),kr.wnext=0,kr.whave=kr.wsize):(en=kr.wsize-kr.wnext,en>Or&&(en=Or),f.arraySet(kr.window,yr,at-Or,en,kr.wnext),Or-=en,Or?(f.arraySet(kr.window,yr,at-Or,Or,0),kr.wnext=Or,kr.whave=kr.wsize):(kr.wnext+=en,kr.wnext===kr.wsize&&(kr.wnext=0),kr.whave<kr.wsize&&(kr.whave+=en))),0}function on(Jt,yr){var at,Or,en,kr,Pn,Tr,un,or,ar,Zr,Nr,Dr,Wn,jn,ln=0,Jr,dn,wn,xn,vi,Li,an,Ln,hn=new f.Buf8(4),Qn,zn,vn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Jt||!Jt.state||!Jt.output||!Jt.input&&Jt.avail_in!==0)return We;at=Jt.state,at.mode===bt&&(at.mode=St),Pn=Jt.next_out,en=Jt.output,un=Jt.avail_out,kr=Jt.next_in,Or=Jt.input,Tr=Jt.avail_in,or=at.hold,ar=at.bits,Zr=Tr,Nr=un,Ln=Ne;e:for(;;)switch(at.mode){case gt:if(at.wrap===0){at.mode=St;break}for(;ar<16;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}if(at.wrap&2&&or===35615){at.check=0,hn[0]=or&255,hn[1]=or>>>8&255,at.check=g(at.check,hn,2,0),or=0,ar=0,at.mode=vt;break}if(at.flags=0,at.head&&(at.head.done=!1),!(at.wrap&1)||(((or&255)<<8)+(or>>8))%31){Jt.msg="incorrect header check",at.mode=xt;break}if((or&15)!==tt){Jt.msg="unknown compression method",at.mode=xt;break}if(or>>>=4,ar-=4,an=(or&15)+8,at.wbits===0)at.wbits=an;else if(an>at.wbits){Jt.msg="invalid window size",at.mode=xt;break}at.dmax=1<<an,Jt.adler=at.check=1,at.mode=or&512?jt:bt,or=0,ar=0;break;case vt:for(;ar<16;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}if(at.flags=or,(at.flags&255)!==tt){Jt.msg="unknown compression method",at.mode=xt;break}if(at.flags&57344){Jt.msg="unknown header flags set",at.mode=xt;break}at.head&&(at.head.text=or>>8&1),at.flags&512&&(hn[0]=or&255,hn[1]=or>>>8&255,at.check=g(at.check,hn,2,0)),or=0,ar=0,at.mode=rt;case rt:for(;ar<32;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}at.head&&(at.head.time=or),at.flags&512&&(hn[0]=or&255,hn[1]=or>>>8&255,hn[2]=or>>>16&255,hn[3]=or>>>24&255,at.check=g(at.check,hn,4,0)),or=0,ar=0,at.mode=ht;case ht:for(;ar<16;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}at.head&&(at.head.xflags=or&255,at.head.os=or>>8),at.flags&512&&(hn[0]=or&255,hn[1]=or>>>8&255,at.check=g(at.check,hn,2,0)),or=0,ar=0,at.mode=it;case it:if(at.flags&1024){for(;ar<16;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}at.length=or,at.head&&(at.head.extra_len=or),at.flags&512&&(hn[0]=or&255,hn[1]=or>>>8&255,at.check=g(at.check,hn,2,0)),or=0,ar=0}else at.head&&(at.head.extra=null);at.mode=mt;case mt:if(at.flags&1024&&(Dr=at.length,Dr>Tr&&(Dr=Tr),Dr&&(at.head&&(an=at.head.extra_len-at.length,at.head.extra||(at.head.extra=new Array(at.head.extra_len)),f.arraySet(at.head.extra,Or,kr,Dr,an)),at.flags&512&&(at.check=g(at.check,Or,Dr,kr)),Tr-=Dr,kr+=Dr,at.length-=Dr),at.length))break e;at.length=0,at.mode=Ze;case Ze:if(at.flags&2048){if(Tr===0)break e;Dr=0;do an=Or[kr+Dr++],at.head&&an&&at.length<65536&&(at.head.name+=String.fromCharCode(an));while(an&&Dr<Tr);if(at.flags&512&&(at.check=g(at.check,Or,Dr,kr)),Tr-=Dr,kr+=Dr,an)break e}else at.head&&(at.head.name=null);at.length=0,at.mode=Ft;case Ft:if(at.flags&4096){if(Tr===0)break e;Dr=0;do an=Or[kr+Dr++],at.head&&an&&at.length<65536&&(at.head.comment+=String.fromCharCode(an));while(an&&Dr<Tr);if(at.flags&512&&(at.check=g(at.check,Or,Dr,kr)),Tr-=Dr,kr+=Dr,an)break e}else at.head&&(at.head.comment=null);at.mode=Zt;case Zt:if(at.flags&512){for(;ar<16;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}if(or!==(at.check&65535)){Jt.msg="header crc mismatch",at.mode=xt;break}or=0,ar=0}at.head&&(at.head.hcrc=at.flags>>9&1,at.head.done=!0),Jt.adler=at.check=0,at.mode=bt;break;case jt:for(;ar<32;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}Jt.adler=at.check=ut(or),or=0,ar=0,at.mode=cr;case cr:if(at.havedict===0)return Jt.next_out=Pn,Jt.avail_out=un,Jt.next_in=kr,Jt.avail_in=Tr,at.hold=or,at.bits=ar,Ue;Jt.adler=at.check=1,at.mode=bt;case bt:if(yr===Be||yr===Fe)break e;case St:if(at.last){or>>>=ar&7,ar-=ar&7,at.mode=Je;break}for(;ar<3;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}switch(at.last=or&1,or>>>=1,ar-=1,or&3){case 0:at.mode=ct;break;case 1:if(Qr(at),at.mode=Rr,yr===Fe){or>>>=2,ar-=2;break e}break;case 2:at.mode=Ct;break;case 3:Jt.msg="invalid block type",at.mode=xt}or>>>=2,ar-=2;break;case ct:for(or>>>=ar&7,ar-=ar&7;ar<32;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}if((or&65535)!==(or>>>16^65535)){Jt.msg="invalid stored block lengths",at.mode=xt;break}if(at.length=or&65535,or=0,ar=0,at.mode=dt,yr===Fe)break e;case dt:at.mode=Pt;case Pt:if(Dr=at.length,Dr){if(Dr>Tr&&(Dr=Tr),Dr>un&&(Dr=un),Dr===0)break e;f.arraySet(en,Or,kr,Dr,Pn),Tr-=Dr,kr+=Dr,un-=Dr,Pn+=Dr,at.length-=Dr;break}at.mode=bt;break;case Ct:for(;ar<14;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}if(at.nlen=(or&31)+257,or>>>=5,ar-=5,at.ndist=(or&31)+1,or>>>=5,ar-=5,at.ncode=(or&15)+4,or>>>=4,ar-=4,at.nlen>286||at.ndist>30){Jt.msg="too many length or distance symbols",at.mode=xt;break}at.have=0,at.mode=Kt;case Kt:for(;at.have<at.ncode;){for(;ar<3;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}at.lens[vn[at.have++]]=or&7,or>>>=3,ar-=3}for(;at.have<19;)at.lens[vn[at.have++]]=0;if(at.lencode=at.lendyn,at.lenbits=7,Qn={bits:at.lenbits},Ln=Ie(Oe,at.lens,0,19,at.lencode,0,at.work,Qn),at.lenbits=Qn.bits,Ln){Jt.msg="invalid code lengths set",at.mode=xt;break}at.have=0,at.mode=fr;case fr:for(;at.have<at.nlen+at.ndist;){for(;ln=at.lencode[or&(1<<at.lenbits)-1],Jr=ln>>>24,dn=ln>>>16&255,wn=ln&65535,!(Jr<=ar);){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}if(wn<16)or>>>=Jr,ar-=Jr,at.lens[at.have++]=wn;else{if(wn===16){for(zn=Jr+2;ar<zn;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}if(or>>>=Jr,ar-=Jr,at.have===0){Jt.msg="invalid bit length repeat",at.mode=xt;break}an=at.lens[at.have-1],Dr=3+(or&3),or>>>=2,ar-=2}else if(wn===17){for(zn=Jr+3;ar<zn;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}or>>>=Jr,ar-=Jr,an=0,Dr=3+(or&7),or>>>=3,ar-=3}else{for(zn=Jr+7;ar<zn;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}or>>>=Jr,ar-=Jr,an=0,Dr=11+(or&127),or>>>=7,ar-=7}if(at.have+Dr>at.nlen+at.ndist){Jt.msg="invalid bit length repeat",at.mode=xt;break}for(;Dr--;)at.lens[at.have++]=an}}if(at.mode===xt)break;if(at.lens[256]===0){Jt.msg="invalid code -- missing end-of-block",at.mode=xt;break}if(at.lenbits=9,Qn={bits:at.lenbits},Ln=Ie(ne,at.lens,0,at.nlen,at.lencode,0,at.work,Qn),at.lenbits=Qn.bits,Ln){Jt.msg="invalid literal/lengths set",at.mode=xt;break}if(at.distbits=6,at.distcode=at.distdyn,Qn={bits:at.distbits},Ln=Ie(De,at.lens,at.nlen,at.ndist,at.distcode,0,at.work,Qn),at.distbits=Qn.bits,Ln){Jt.msg="invalid distances set",at.mode=xt;break}if(at.mode=Rr,yr===Fe)break e;case Rr:at.mode=sr;case sr:if(Tr>=6&&un>=258){Jt.next_out=Pn,Jt.avail_out=un,Jt.next_in=kr,Jt.avail_in=Tr,at.hold=or,at.bits=ar,Te(Jt,Nr),Pn=Jt.next_out,en=Jt.output,un=Jt.avail_out,kr=Jt.next_in,Or=Jt.input,Tr=Jt.avail_in,or=at.hold,ar=at.bits,at.mode===bt&&(at.back=-1);break}for(at.back=0;ln=at.lencode[or&(1<<at.lenbits)-1],Jr=ln>>>24,dn=ln>>>16&255,wn=ln&65535,!(Jr<=ar);){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}if(dn&&!(dn&240)){for(xn=Jr,vi=dn,Li=wn;ln=at.lencode[Li+((or&(1<<xn+vi)-1)>>xn)],Jr=ln>>>24,dn=ln>>>16&255,wn=ln&65535,!(xn+Jr<=ar);){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}or>>>=xn,ar-=xn,at.back+=xn}if(or>>>=Jr,ar-=Jr,at.back+=Jr,at.length=wn,dn===0){at.mode=dr;break}if(dn&32){at.back=-1,at.mode=bt;break}if(dn&64){Jt.msg="invalid literal/length code",at.mode=xt;break}at.extra=dn&15,at.mode=lt;case lt:if(at.extra){for(zn=at.extra;ar<zn;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}at.length+=or&(1<<at.extra)-1,or>>>=at.extra,ar-=at.extra,at.back+=at.extra}at.was=at.length,at.mode=yt;case yt:for(;ln=at.distcode[or&(1<<at.distbits)-1],Jr=ln>>>24,dn=ln>>>16&255,wn=ln&65535,!(Jr<=ar);){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}if(!(dn&240)){for(xn=Jr,vi=dn,Li=wn;ln=at.distcode[Li+((or&(1<<xn+vi)-1)>>xn)],Jr=ln>>>24,dn=ln>>>16&255,wn=ln&65535,!(xn+Jr<=ar);){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}or>>>=xn,ar-=xn,at.back+=xn}if(or>>>=Jr,ar-=Jr,at.back+=Jr,dn&64){Jt.msg="invalid distance code",at.mode=xt;break}at.offset=wn,at.extra=dn&15,at.mode=Xt;case Xt:if(at.extra){for(zn=at.extra;ar<zn;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}at.offset+=or&(1<<at.extra)-1,or>>>=at.extra,ar-=at.extra,at.back+=at.extra}if(at.offset>at.dmax){Jt.msg="invalid distance too far back",at.mode=xt;break}at.mode=$t;case $t:if(un===0)break e;if(Dr=Nr-un,at.offset>Dr){if(Dr=at.offset-Dr,Dr>at.whave&&at.sane){Jt.msg="invalid distance too far back",at.mode=xt;break}Dr>at.wnext?(Dr-=at.wnext,Wn=at.wsize-Dr):Wn=at.wnext-Dr,Dr>at.length&&(Dr=at.length),jn=at.window}else jn=en,Wn=Pn-at.offset,Dr=at.length;Dr>un&&(Dr=un),un-=Dr,at.length-=Dr;do en[Pn++]=jn[Wn++];while(--Dr);at.length===0&&(at.mode=sr);break;case dr:if(un===0)break e;en[Pn++]=at.length,un--,at.mode=sr;break;case Je:if(at.wrap){for(;ar<32;){if(Tr===0)break e;Tr--,or|=Or[kr++]<<ar,ar+=8}if(Nr-=un,Jt.total_out+=Nr,at.total+=Nr,Nr&&(Jt.adler=at.check=at.flags?g(at.check,en,Nr,Pn-Nr):m(at.check,en,Nr,Pn-Nr)),Nr=un,(at.flags?or:ut(or))!==at.check){Jt.msg="incorrect data check",at.mode=xt;break}or=0,ar=0}at.mode=At;case At:if(at.wrap&&at.flags){for(;ar<32;){if(Tr===0)break e;Tr--,or+=Or[kr++]<<ar,ar+=8}if(or!==(at.total&4294967295)){Jt.msg="incorrect length check",at.mode=xt;break}or=0,ar=0}at.mode=Wt;case Wt:Ln=Ve;break e;case xt:Ln=He;break e;case pt:return Xe;case Dt:default:return We}return Jt.next_out=Pn,Jt.avail_out=un,Jt.next_in=kr,Jt.avail_in=Tr,at.hold=or,at.bits=ar,(at.wsize||Nr!==Jt.avail_out&&at.mode<xt&&(at.mode<Je||yr!==Ee))&&Cr(Jt,Jt.output,Jt.next_out,Nr-Jt.avail_out),Zr-=Jt.avail_in,Nr-=Jt.avail_out,Jt.total_in+=Zr,Jt.total_out+=Nr,at.total+=Nr,at.wrap&&Nr&&(Jt.adler=at.check=at.flags?g(at.check,en,Nr,Jt.next_out-Nr):m(at.check,en,Nr,Jt.next_out-Nr)),Jt.data_type=at.bits+(at.last?64:0)+(at.mode===bt?128:0)+(at.mode===Rr||at.mode===dt?256:0),(Zr===0&&Nr===0||yr===Ee)&&Ln===Ne&&(Ln=ot),Ln}function Bn(Jt){if(!Jt||!Jt.state)return We;var yr=Jt.state;return yr.window&&(yr.window=null),Jt.state=null,Ne}function Un(Jt,yr){var at;return!Jt||!Jt.state||(at=Jt.state,!(at.wrap&2))?We:(at.head=yr,yr.done=!1,Ne)}function wr(Jt,yr){var at=yr.length,Or,en,kr;return!Jt||!Jt.state||(Or=Jt.state,Or.wrap!==0&&Or.mode!==cr)?We:Or.mode===cr&&(en=1,en=m(en,yr,at,0),en!==Or.check)?He:(kr=Cr(Jt,yr,at,at),kr?(Or.mode=pt,Xe):(Or.havedict=1,Ne))}i.inflateReset=zt,i.inflateReset2=tr,i.inflateResetKeep=It,i.inflateInit=Lr,i.inflateInit2=Sr,i.inflate=on,i.inflateEnd=Bn,i.inflateGetHeader=Un,i.inflateSetDictionary=wr,i.inflateInfo="pako inflate (from Nodeca project)"},function(e,i){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(g){for(var Te=Array.prototype.slice.call(arguments,1);Te.length;){var Ie=Te.shift();if(Ie){if(typeof Ie!="object")throw new TypeError(Ie+"must be non-object");for(var Oe in Ie)Ie.hasOwnProperty(Oe)&&(g[Oe]=Ie[Oe])}}return g},i.shrinkBuf=function(g,Te){return g.length===Te?g:g.subarray?g.subarray(0,Te):(g.length=Te,g)};var f={arraySet:function(g,Te,Ie,Oe,ne){if(Te.subarray&&g.subarray){g.set(Te.subarray(Ie,Ie+Oe),ne);return}for(var De=0;De<Oe;De++)g[ne+De]=Te[Ie+De]},flattenChunks:function(g){var Te,Ie,Oe,ne,De,Ee;for(Oe=0,Te=0,Ie=g.length;Te<Ie;Te++)Oe+=g[Te].length;for(Ee=new Uint8Array(Oe),ne=0,Te=0,Ie=g.length;Te<Ie;Te++)De=g[Te],Ee.set(De,ne),ne+=De.length;return Ee}},m={arraySet:function(g,Te,Ie,Oe,ne){for(var De=0;De<Oe;De++)g[ne+De]=Te[Ie+De]},flattenChunks:function(g){return[].concat.apply([],g)}};i.setTyped=function(g){g?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,f)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,m))},i.setTyped(c)},function(e,i){function c(f,m,g,Te){for(var Ie=f&65535|0,Oe=f>>>16&65535|0,ne=0;g!==0;){ne=g>2e3?2e3:g,g-=ne;do Ie=Ie+m[Te++]|0,Oe=Oe+Ie|0;while(--ne);Ie%=65521,Oe%=65521}return Ie|Oe<<16|0}e.exports=c},function(e,i){function c(){for(var g,Te=[],Ie=0;Ie<256;Ie++){g=Ie;for(var Oe=0;Oe<8;Oe++)g=g&1?3988292384^g>>>1:g>>>1;Te[Ie]=g}return Te}var f=c();function m(g,Te,Ie,Oe){var ne=f,De=Oe+Ie;g^=-1;for(var Ee=Oe;Ee<De;Ee++)g=g>>>8^ne[(g^Te[Ee])&255];return g^-1}e.exports=m},function(e,i){var c=30,f=12;e.exports=function(g,Te){var Ie,Oe,ne,De,Ee,Be,Fe,Ne,Ve,Ue,We,He,Xe,ot,tt,gt,vt,rt,ht,it,mt,Ze,Ft,Zt,jt;Ie=g.state,Oe=g.next_in,Zt=g.input,ne=Oe+(g.avail_in-5),De=g.next_out,jt=g.output,Ee=De-(Te-g.avail_out),Be=De+(g.avail_out-257),Fe=Ie.dmax,Ne=Ie.wsize,Ve=Ie.whave,Ue=Ie.wnext,We=Ie.window,He=Ie.hold,Xe=Ie.bits,ot=Ie.lencode,tt=Ie.distcode,gt=(1<<Ie.lenbits)-1,vt=(1<<Ie.distbits)-1;e:do{Xe<15&&(He+=Zt[Oe++]<<Xe,Xe+=8,He+=Zt[Oe++]<<Xe,Xe+=8),rt=ot[He&gt];t:for(;;){if(ht=rt>>>24,He>>>=ht,Xe-=ht,ht=rt>>>16&255,ht===0)jt[De++]=rt&65535;else if(ht&16){it=rt&65535,ht&=15,ht&&(Xe<ht&&(He+=Zt[Oe++]<<Xe,Xe+=8),it+=He&(1<<ht)-1,He>>>=ht,Xe-=ht),Xe<15&&(He+=Zt[Oe++]<<Xe,Xe+=8,He+=Zt[Oe++]<<Xe,Xe+=8),rt=tt[He&vt];r:for(;;){if(ht=rt>>>24,He>>>=ht,Xe-=ht,ht=rt>>>16&255,ht&16){if(mt=rt&65535,ht&=15,Xe<ht&&(He+=Zt[Oe++]<<Xe,Xe+=8,Xe<ht&&(He+=Zt[Oe++]<<Xe,Xe+=8)),mt+=He&(1<<ht)-1,mt>Fe){g.msg="invalid distance too far back",Ie.mode=c;break e}if(He>>>=ht,Xe-=ht,ht=De-Ee,mt>ht){if(ht=mt-ht,ht>Ve&&Ie.sane){g.msg="invalid distance too far back",Ie.mode=c;break e}if(Ze=0,Ft=We,Ue===0){if(Ze+=Ne-ht,ht<it){it-=ht;do jt[De++]=We[Ze++];while(--ht);Ze=De-mt,Ft=jt}}else if(Ue<ht){if(Ze+=Ne+Ue-ht,ht-=Ue,ht<it){it-=ht;do jt[De++]=We[Ze++];while(--ht);if(Ze=0,Ue<it){ht=Ue,it-=ht;do jt[De++]=We[Ze++];while(--ht);Ze=De-mt,Ft=jt}}}else if(Ze+=Ue-ht,ht<it){it-=ht;do jt[De++]=We[Ze++];while(--ht);Ze=De-mt,Ft=jt}for(;it>2;)jt[De++]=Ft[Ze++],jt[De++]=Ft[Ze++],jt[De++]=Ft[Ze++],it-=3;it&&(jt[De++]=Ft[Ze++],it>1&&(jt[De++]=Ft[Ze++]))}else{Ze=De-mt;do jt[De++]=jt[Ze++],jt[De++]=jt[Ze++],jt[De++]=jt[Ze++],it-=3;while(it>2);it&&(jt[De++]=jt[Ze++],it>1&&(jt[De++]=jt[Ze++]))}}else if(ht&64){g.msg="invalid distance code",Ie.mode=c;break e}else{rt=tt[(rt&65535)+(He&(1<<ht)-1)];continue r}break}}else if(ht&64)if(ht&32){Ie.mode=f;break e}else{g.msg="invalid literal/length code",Ie.mode=c;break e}else{rt=ot[(rt&65535)+(He&(1<<ht)-1)];continue t}break}}while(Oe<ne&&De<Be);it=Xe>>3,Oe-=it,Xe-=it<<3,He&=(1<<Xe)-1,g.next_in=Oe,g.next_out=De,g.avail_in=Oe<ne?5+(ne-Oe):5-(Oe-ne),g.avail_out=De<Be?257+(Be-De):257-(De-Be),Ie.hold=He,Ie.bits=Xe}},function(e,i,c){var f=c(33),m=15,g=852,Te=592,Ie=0,Oe=1,ne=2,De=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Ee=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Be=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Fe=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(Ve,Ue,We,He,Xe,ot,tt,gt){var vt=gt.bits,rt=0,ht=0,it=0,mt=0,Ze=0,Ft=0,Zt=0,jt=0,cr=0,bt=0,St,ct,dt,Pt,Ct,Kt=null,fr=0,Rr,sr=new f.Buf16(m+1),lt=new f.Buf16(m+1),yt=null,Xt=0,$t,dr,Je;for(rt=0;rt<=m;rt++)sr[rt]=0;for(ht=0;ht<He;ht++)sr[Ue[We+ht]]++;for(Ze=vt,mt=m;mt>=1&&sr[mt]===0;mt--);if(Ze>mt&&(Ze=mt),mt===0)return Xe[ot++]=1<<24|64<<16|0,Xe[ot++]=1<<24|64<<16|0,gt.bits=1,0;for(it=1;it<mt&&sr[it]===0;it++);for(Ze<it&&(Ze=it),jt=1,rt=1;rt<=m;rt++)if(jt<<=1,jt-=sr[rt],jt<0)return-1;if(jt>0&&(Ve===Ie||mt!==1))return-1;for(lt[1]=0,rt=1;rt<m;rt++)lt[rt+1]=lt[rt]+sr[rt];for(ht=0;ht<He;ht++)Ue[We+ht]!==0&&(tt[lt[Ue[We+ht]]++]=ht);if(Ve===Ie?(Kt=yt=tt,Rr=19):Ve===Oe?(Kt=De,fr-=257,yt=Ee,Xt-=257,Rr=256):(Kt=Be,yt=Fe,Rr=-1),bt=0,ht=0,rt=it,Ct=ot,Ft=Ze,Zt=0,dt=-1,cr=1<<Ze,Pt=cr-1,Ve===Oe&&cr>g||Ve===ne&&cr>Te)return 1;for(;;){$t=rt-Zt,tt[ht]<Rr?(dr=0,Je=tt[ht]):tt[ht]>Rr?(dr=yt[Xt+tt[ht]],Je=Kt[fr+tt[ht]]):(dr=32+64,Je=0),St=1<<rt-Zt,ct=1<<Ft,it=ct;do ct-=St,Xe[Ct+(bt>>Zt)+ct]=$t<<24|dr<<16|Je|0;while(ct!==0);for(St=1<<rt-1;bt&St;)St>>=1;if(St!==0?(bt&=St-1,bt+=St):bt=0,ht++,--sr[rt]===0){if(rt===mt)break;rt=Ue[We+tt[ht]]}if(rt>Ze&&(bt&Pt)!==dt){for(Zt===0&&(Zt=Ze),Ct+=it,Ft=rt-Zt,jt=1<<Ft;Ft+Zt<mt&&(jt-=sr[Ft+Zt],!(jt<=0));)Ft++,jt<<=1;if(cr+=1<<Ft,Ve===Oe&&cr>g||Ve===ne&&cr>Te)return 1;dt=bt&Pt,Xe[dt]=Ze<<24|Ft<<16|Ct-ot|0}}return bt!==0&&(Xe[Ct+bt]=rt-Zt<<24|64<<16|0),gt.bits=Ze,0}},function(e,i,c){var f=c(33),m=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch{m=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{g=!1}for(var Te=new f.Buf8(256),Ie=0;Ie<256;Ie++)Te[Ie]=Ie>=252?6:Ie>=248?5:Ie>=240?4:Ie>=224?3:Ie>=192?2:1;Te[254]=Te[254]=1,i.string2buf=function(ne){var De,Ee,Be,Fe,Ne,Ve=ne.length,Ue=0;for(Fe=0;Fe<Ve;Fe++)Ee=ne.charCodeAt(Fe),(Ee&64512)===55296&&Fe+1<Ve&&(Be=ne.charCodeAt(Fe+1),(Be&64512)===56320&&(Ee=65536+(Ee-55296<<10)+(Be-56320),Fe++)),Ue+=Ee<128?1:Ee<2048?2:Ee<65536?3:4;for(De=new f.Buf8(Ue),Ne=0,Fe=0;Ne<Ue;Fe++)Ee=ne.charCodeAt(Fe),(Ee&64512)===55296&&Fe+1<Ve&&(Be=ne.charCodeAt(Fe+1),(Be&64512)===56320&&(Ee=65536+(Ee-55296<<10)+(Be-56320),Fe++)),Ee<128?De[Ne++]=Ee:Ee<2048?(De[Ne++]=192|Ee>>>6,De[Ne++]=128|Ee&63):Ee<65536?(De[Ne++]=224|Ee>>>12,De[Ne++]=128|Ee>>>6&63,De[Ne++]=128|Ee&63):(De[Ne++]=240|Ee>>>18,De[Ne++]=128|Ee>>>12&63,De[Ne++]=128|Ee>>>6&63,De[Ne++]=128|Ee&63);return De};function Oe(ne,De){if(De<65537&&(ne.subarray&&g||!ne.subarray&&m))return String.fromCharCode.apply(null,f.shrinkBuf(ne,De));for(var Ee="",Be=0;Be<De;Be++)Ee+=String.fromCharCode(ne[Be]);return Ee}i.buf2binstring=function(ne){return Oe(ne,ne.length)},i.binstring2buf=function(ne){for(var De=new f.Buf8(ne.length),Ee=0,Be=De.length;Ee<Be;Ee++)De[Ee]=ne.charCodeAt(Ee);return De},i.buf2string=function(ne,De){var Ee,Be,Fe,Ne,Ve=De||ne.length,Ue=new Array(Ve*2);for(Be=0,Ee=0;Ee<Ve;){if(Fe=ne[Ee++],Fe<128){Ue[Be++]=Fe;continue}if(Ne=Te[Fe],Ne>4){Ue[Be++]=65533,Ee+=Ne-1;continue}for(Fe&=Ne===2?31:Ne===3?15:7;Ne>1&&Ee<Ve;)Fe=Fe<<6|ne[Ee++]&63,Ne--;if(Ne>1){Ue[Be++]=65533;continue}Fe<65536?Ue[Be++]=Fe:(Fe-=65536,Ue[Be++]=55296|Fe>>10&1023,Ue[Be++]=56320|Fe&1023)}return Oe(Ue,Be)},i.utf8border=function(ne,De){var Ee;for(De=De||ne.length,De>ne.length&&(De=ne.length),Ee=De-1;Ee>=0&&(ne[Ee]&192)===128;)Ee--;return Ee<0||Ee===0?De:Ee+Te[ne[Ee]]>De?Ee:De}},function(e,i){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,i){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,i){function c(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=c},function(e,i){function c(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}e.exports=c}])})})(browserfs$2);var browserfsExports=browserfs$2.exports;const browserfs=getDefaultExportFromCjs(browserfsExports),browserfs$1=_mergeNamespaces({__proto__:null,default:browserfs},[browserfsExports]),raUserdataDir$1="/home/web_user/retroarch/userdata";function createEmscriptenFS({ERRNO_CODES:h,FS:o,PATH:e}){const i=new browserfsExports.FileSystem.InMemory,c=new browserfsExports.FileSystem.MountableFileSystem;try{c.umount(raUserdataDir$1)}catch{}return c.mount(raUserdataDir$1,i),browserfsExports.initialize(c),new browserfsExports.EmscriptenFS(o,e,h)}function getEmscriptenModuleOverrides(h){let o;const e=new Promise(c=>{o=c});return{noExitRuntime:!1,noInitialRun:!0,locateFile(c){return c},async monitorRunDependencies(c){return c===0&&o(),await e},print(...c){console.info(...c)},printErr(...c){console.error(...c)},quit(c,f){c&&console.info(c,f)},...h}}const{Buffer:Buffer$1}=browserfsExports.BFSRequire("buffer"),path=browserfsExports.BFSRequire("path"),{basename,dirname,extname,join,relative}=path;function urlBaseName(h){let o=h;try{o=new URL(h).pathname}catch{}const e=basename(o);try{return decodeURIComponent(e)}catch{return e}}function isAbsoluteUrl(h){return!h||typeof h!="string"?!1:["http://","https://","//","data:","blob:"].some(e=>h.startsWith(e))}async function blobToBuffer(h){const o=await h.arrayBuffer();return Buffer$1.from(o)}function stringToBuffer(h){return Buffer$1.from(h,"utf8")}function updateStyle(h,o){if(h)for(const e in o){const i=o[e];h.style[e]=i||null}}function delay(h){return new Promise(o=>{setTimeout(o,h)})}function isGlobalScript(h){return h.startsWith("var Module")}function isEsmScript(h){return h.includes("import.meta.url")}function patchCoreJs({js:h,name:o}){let e=h;return isGlobalScript(h)?e=`export function getEmscripten({ Module }) {
        ${h};
        Module.FS = FS;
        Module.PATH = PATH;
        Module.ERRNO_CODES = ERRNO_CODES;
        return { AL, Browser, JSEvents, Module, exit: _emscripten_force_exit }
      }`:isEsmScript(h)&&(e=`${h.replace("readyPromiseResolve(Module)","readyPromiseResolve({ AL, Browser, JSEvents, Module, exit: _emscripten_force_exit })")};
      export function getEmscripten({ Module }) {
        return (libretro_${o} || ${o})(Module)
      }
    `),e}async function importCoreJsAsESM({js,name}){const jsContent=patchCoreJs({js,name}),jsBlob=new Blob([jsContent],{type:"application/javascript"}),jsBlobUrl=URL.createObjectURL(jsBlob);if(!jsBlobUrl)throw new Error("invalid jsBlob");try{return await __vitePreload(()=>import(jsBlobUrl),[])}catch{return await eval("import(jsBlobUrl)")}finally{URL.revokeObjectURL(jsBlobUrl)}}function isNil(h){return h==null}function isPlainObject(h){if(isNil(h))return!1;const{constructor:o}=h;return o===Object||!o}function mergeSourceToTarget(h,o){for(const e in o)if(Object.prototype.hasOwnProperty.call(o,e)){const i=h[e],c=o[e];isNil(i)?h[e]=c:Array.isArray(i)&&Array.isArray(c)?h[e]=[...i,...c]:isPlainObject(i)&&isPlainObject(c)?(h[e]=isPlainObject(i)?h[e]:{},mergeSourceToTarget(h[e],c)):h[e]=c}}function merge(h,...o){for(const e of o)mergeSourceToTarget(h,e)}function checkIsAborted(h){if(h!=null&&h.aborted)throw new Error("Launch aborted")}function padZero(h){return(h<10?"0":"")+h}const encoder=new TextEncoder,raUserdataDir="/home/web_user/retroarch/userdata",raBundleDir="/home/web_user/retroarch/bundle",raContentDir=join(raUserdataDir,"content"),raSystemDir=join(raUserdataDir,"system"),raConfigDir=join(raUserdataDir,"config"),raShaderDir=join(raBundleDir,"shaders","shaders_glsl"),raConfigPath=join(raUserdataDir,"retroarch.cfg"),raCoreConfigPath=join(raUserdataDir,"retroarch-core-options.cfg");class Emulator{constructor(o){__publicField(this,"canvasInitialSize",{height:0,width:0}),__publicField(this,"gameStatus","initial"),__publicField(this,"messageQueue",[]),__publicField(this,"options"),__publicField(this,"browserFS"),__publicField(this,"emscripten"),this.options=o}clearStateFile(){const{Module:o}=this.getEmscripten(),{FS:e}=o;try{e.unlink(this.stateFileName),e.unlink(this.stateThumbnailFileName)}catch{}}fireKeyboardEvent(o,e){const{JSEvents:i}=this.getEmscripten();for(const{eventListenerFunc:c,eventTypeString:f}of i.eventHandlers)if(f===o)try{c({code:e,target:this.options.element})}catch{}}getCurrentRetroarchConfig(){const{Module:o}=this.getEmscripten(),{FS:e}=o,i=e.readFile(raConfigPath,{encoding:"utf8"});return ini$1.parse(i)}getElementSize(){const{element:o,size:e}=this.options;return!e||e==="auto"?{height:o.offsetHeight,width:o.offsetWidth}:e}getKeyboardCode(o,e=1){const i=this.getCurrentRetroarchConfig(),c=`input_player${e}_${o}`,f=i[c];if(!f||f==="nul")return;const{length:m}=f;return m===1?`Key${f.toUpperCase()}`:f[0]==="f"&&(m===2||m===3)?f.toUpperCase():m===4&&f.startsWith("num")?`Numpad${f.at(-1)}`:m===7&&f.startsWith("keypad")?`Digit${f.at(-1)}`:keyboardCodeMap[f]||""}guessScreenshotFileName(){const o=new Date,e=o.getFullYear()%1e3,i=padZero(o.getMonth()+1),c=padZero(o.getDate()),f=padZero(o.getHours()),m=padZero(o.getMinutes()),g=padZero(o.getSeconds()),Te=`${e}${i}${c}-${f}${m}${g}`;return`${this.romBaseName}-${Te}.png`}keyboardDown(o){this.fireKeyboardEvent("keydown",o)}async keyboardPress(o,e=100){this.keyboardDown(o),await delay(e),this.keyboardUp(o)}keyboardUp(o){this.fireKeyboardEvent("keyup",o)}postRun(){var o;this.resize(this.canvasInitialSize);for(const e of((o=navigator.getGamepads)==null?void 0:o.call(navigator))??[])e&&window.dispatchEvent(new GamepadEvent("gamepadconnected",{gamepad:e}));this.updateKeyboardEventHandlers()}get romBaseName(){const{rom:[{fileName:o}]}=this.options;return o.slice(0,o.lastIndexOf("."))}runMain(){checkIsAborted(this.options.signal);const{Module:o}=this.getEmscripten(),{arguments:e=[]}=o,{rom:i,signal:c}=this.options;if(!o.arguments&&i.length>0){const[{fileName:f}]=i;e.push(join(raContentDir,f))}o.callMain(e),c==null||c.addEventListener("abort",()=>{this.exit()}),this.gameStatus="running",this.postRun()}async setupEmscripten(){var o;typeof window=="object"&&(window.setImmediate??(window.setImmediate=window.setTimeout));const{core:e,element:i,emscriptenModule:c,signal:f}=this.options,{wasm:m}=e,g={canvas:i,preRun:[],wasmBinary:m,...c},Te=getEmscriptenModuleOverrides(g);(o=Te.preRun)==null||o.push(()=>Te.FS.init(()=>this.stdin()));const{getEmscripten:Ie}=await importCoreJsAsESM(e),Oe=await Ie({Module:Te});this.emscripten=Oe;const{Module:ne}=Oe;await ne.monitorRunDependencies(),checkIsAborted(f),await this.setupFileSystem()}async setupFileSystem(){const{Module:o}=this.getEmscripten(),{ERRNO_CODES:e,FS:i,PATH:c}=o,{bios:f,rom:m,signal:g,state:Te}=this.options,Ie=createEmscriptenFS({ERRNO_CODES:e,FS:i,PATH:c});this.browserFS=Ie,i.mount(Ie,{root:"/home"},"/home"),m.length>0&&i.mkdirTree(raContentDir),f.length>0&&i.mkdirTree(raSystemDir),Te&&i.mkdirTree(this.stateFileDirectory);const Oe=100;let ne=0;for(;!o.asm&&ne<Oe;)await delay(10),checkIsAborted(g),ne+=5;const De=[];if(De.push(...m.map(Ee=>this.writeBlobToDirectory({...Ee,directory:raContentDir})),...f.map(Ee=>this.writeBlobToDirectory({...Ee,directory:raSystemDir}))),Te){const Ee=this.writeBlobToDirectory({directory:this.stateFileDirectory,fileContent:Te,fileName:`${this.romBaseName}.state.auto`});De.push(Ee)}await Promise.all(De),checkIsAborted(g)}async setupRaConfigFile(){this.writeConfigFile({config:this.options.retroarchConfig,path:raConfigPath}),this.writeConfigFile({config:this.options.retroarchCoreConfig,path:raCoreConfigPath}),await this.setupRaShaderFile()}async setupRaShaderFile(){const{shader:o}=this.options;if(o.length===0)return;const e=o.filter(c=>c.fileName.endsWith(".glslp"));if(e.length===0)return;const i=e.map(c=>`#reference "${join(raShaderDir,c.fileName)}"`).join(`
`);this.writeTextToDirectory({directory:raConfigDir,fileContent:i,fileName:"global.glslp"}),await Promise.all(o.map(async({fileContent:c,fileName:f})=>{const m=f.endsWith(".glslp")?raShaderDir:join(raShaderDir,"shaders");await this.writeBlobToDirectory({directory:m,fileContent:c,fileName:f})}))}get stateFileDirectory(){const{core:o}=this.options,e=coreInfoMap[o.name].corename;if(!e)throw new Error(`invalid core name: ${o.name}`);return join(raUserdataDir,"states",e)}get stateFileName(){return join(this.stateFileDirectory,`${this.romBaseName}.state`)}get stateThumbnailFileName(){return`${this.stateFileName}.png`}stdin(){const{messageQueue:o}=this;for(;o.length>0;){const e=o[0][0],i=o[0][1];if(i>=e.length)o.shift();else return o[0][1]=i+1,e[i]}return null}updateKeyboardEventHandlers(){const{JSEvents:o}=this.getEmscripten(),{element:e,respondToGlobalEvents:i}=this.options;i||(e.getAttribute("tabindex")||(e.tabIndex=-1),e.focus(),e.addEventListener("click",()=>{e.focus()}));const c=new Set(["keyup","keydown","keypress"]),f=o.eventHandlers.filter(({eventTypeString:m,target:g})=>c.has(m)&&(g===document||g===e));for(const m of f){const{eventTypeString:g,handlerFunc:Te,target:Ie}=m;o.registerOrRemoveHandler({eventTypeString:g,target:Ie}),o.registerOrRemoveHandler({...m,handlerFunc:(...Oe)=>{const[ne]=Oe;(i||(ne==null?void 0:ne.target)===e)&&Te(...Oe)},target:i?document:e})}}async waitForEmscriptenFile(o){const{Module:e}=this.getEmscripten(),{FS:i}=e,c=30;let f,m=!1,g=0;for(;g<=c&&!m;){const Te=Math.min(100*2**g,1e3);await delay(Te);try{const Ie=i.readFile(o).buffer;m=(f==null?void 0:f.byteLength)>0&&(f==null?void 0:f.byteLength)===Ie.byteLength,f=Ie}catch(Ie){console.warn(Ie)}g+=1}if(!m)throw new Error("fs timeout");return f}async writeBlobToDirectory({directory:o,fileContent:e,fileName:i}){const{Module:c}=this.getEmscripten(),{FS:f}=c,m=await blobToBuffer(e);f.createDataFile("/",i,m,!0,!1);const g="binary",Te=f.readFile(i,{encoding:g});f.mkdirTree(o),f.writeFile(join(o,i),Te,{encoding:g}),f.unlink(i)}writeConfigFile({config:o,path:e}){const{Module:i}=this.getEmscripten(),{FS:c}=i,f=e.slice(0,e.lastIndexOf("/"));c.mkdirTree(f);for(const Ie in o)o[Ie]=`__${o[Ie]}__`;let m=ini$1.stringify(o,{platform:"linux",whitespace:!0});m=m.replaceAll("__",'"');const g=basename(e),Te=dirname(e);this.writeTextToDirectory({directory:Te,fileContent:m,fileName:g})}writeTextToDirectory({directory:o,fileContent:e,fileName:i}){const{Module:c}=this.getEmscripten(),{FS:f}=c,m=stringToBuffer(e);f.createDataFile("/",i,m,!0,!1);const g="binary",Te=f.readFile(i,{encoding:g});f.mkdirTree(o),f.writeFile(join(o,i),Te,{encoding:g}),f.unlink(i)}exit(o=0){const{emscripten:e}=this;if(e){const{exit:i,JSEvents:c,Module:f}=this.getEmscripten(),{FS:m}=f;i(o),m.unmount("/home"),c.removeAllEventListeners()}}getEmscripten(){if(!this.emscripten)throw new Error("emulator is not ready");return this.emscripten}getOptions(){return this.options}async launch(){await this.setupEmscripten(),checkIsAborted(this.options.signal),await this.setupRaConfigFile(),checkIsAborted(this.options.signal);const{element:o,respondToGlobalEvents:e,signal:i,style:c,waitForInteraction:f}=this.options;if(updateStyle(o,c),o.isConnected||(document.body.append(o),i==null||i.addEventListener("abort",()=>{o==null||o.remove()})),this.canvasInitialSize=this.getElementSize(),e===!1){(!o.tabIndex||o.tabIndex===-1)&&(o.tabIndex=0);const{activeElement:Oe}=document;o.focus(),i==null||i.addEventListener("abort",()=>{Oe instanceof HTMLElement&&Oe.focus()})}const{beforeLaunch:m,nostalgist:g,onLaunch:Te}=this.options;m&&await m(g);const Ie=async()=>{this.runMain(),Te&&await Te(g)};f?f({done:Ie}):Ie()}async loadState(o){this.clearStateFile();const{Module:e}=this.getEmscripten(),{FS:i}=e,c=await blobToBuffer(o);i.writeFile(this.stateFileName,c),await this.waitForEmscriptenFile(this.stateFileName),this.sendCommand("LOAD_STATE")}pause(){this.gameStatus==="running"&&this.sendCommand("PAUSE_TOGGLE"),this.gameStatus="paused"}async press(o,e=1,i=100){const c=this.getKeyboardCode(o,e);c&&await this.keyboardPress(c,i)}pressDown(o,e=1){const i=this.getKeyboardCode(o,e);i&&this.keyboardDown(i)}pressUp(o,e=1){const i=this.getKeyboardCode(o,e);i&&this.keyboardUp(i)}resize({height:o,width:e}){const{Module:i}=this.getEmscripten();typeof e=="number"&&typeof o=="number"&&i.setCanvasSize(e,o)}restart(){this.sendCommand("RESET"),this.resume()}resume(){this.gameStatus==="paused"&&this.sendCommand("PAUSE_TOGGLE"),this.gameStatus="running"}async saveState(){this.clearStateFile(),this.sendCommand("SAVE_STATE");const o=this.options.retroarchConfig.savestate_thumbnail_enable;let e,i;o?[e,i]=await Promise.all([this.waitForEmscriptenFile(this.stateFileName),this.waitForEmscriptenFile(this.stateThumbnailFileName)]):e=await this.waitForEmscriptenFile(this.stateFileName),this.clearStateFile();const c=new Blob([e],{type:"application/octet-stream"}),f=i?new Blob([i],{type:"image/png"}):void 0;return{state:c,thumbnail:f}}async screenshot(){this.sendCommand("SCREENSHOT");const o=join(raUserdataDir,"screenshots"),e=this.guessScreenshotFileName(),i=join(o,e),c=await this.waitForEmscriptenFile(i),{Module:f}=this.getEmscripten(),{FS:m}=f;m.unlink(i);const g={type:"image/png"};return new Blob([c],g)}sendCommand(o){const e=encoder.encode(`${o}
`);this.messageQueue.push([e,0])}}const defaultRetroarchConfig={menu_driver:"rgui",notification_show_when_menu_is_alive:!0,savestate_auto_load:!0,savestate_thumbnail_enable:!0,stdin_cmd_enable:!0,video_shader_enable:!0,input_audio_mute:"nul",input_cheat_index_minus:"nul",input_cheat_index_plus:"nul",input_cheat_toggle:"nul",input_desktop_menu_toggle:"nul",input_exit_emulator:"nul",input_fps_toggle:"nul",input_frame_advance:"nul",input_game_focus_toggle:"nul",input_grab_mouse_toggle:"nul",input_hold_fast_forward:"nul",input_hold_slowmotion:"nul",input_load_state:"nul",input_netplay_game_watch:"nul",input_netplay_player_chat:"nul",input_pause_toggle:"nul",input_reset:"nul",input_rewind:"nul",input_save_state:"nul",input_screenshot:"nul",input_shader_next:"nul",input_shader_prev:"nul",input_shader_toggle:"nul",input_state_slot_decrease:"nul",input_state_slot_increase:"nul",input_toggle_fast_forward:"nul",input_toggle_fullscreen:"nul",input_volume_down:"nul",input_volume_up:"nul",input_player1_analog_dpad_mode:1,input_player2_analog_dpad_mode:1,input_player3_analog_dpad_mode:1,input_player4_analog_dpad_mode:1},cdnBaseUrl="https://cdn.jsdelivr.net/gh",coreRepo="arianrhodsandlot/retroarch-emscripten-build",coreVersion="v1.19.1",coreDirectory="retroarch",shaderRepo="libretro/glsl-shaders",shaderVersion="bc8df9";function getDefaultOptions(){return{element:"",retroarchConfig:defaultRetroarchConfig,retroarchCoreConfig:{},runEmulatorManually:!1,resolveCoreJs(o){return`${cdnBaseUrl}/${coreRepo}@${coreVersion}/${coreDirectory}/${o}_libretro.js`},resolveCoreWasm(o){return`${cdnBaseUrl}/${coreRepo}@${coreVersion}/${coreDirectory}/${o}_libretro.wasm`},resolveRom(o){if(typeof o!="string")return o||[];if(isAbsoluteUrl(o))return o;let e="";if(o.endsWith(".nes")?e="retrobrews/nes-games":o.endsWith(".sfc")?e="retrobrews/snes-games":o.endsWith(".gb")||o.endsWith(".gbc")?e="retrobrews/gbc-games":o.endsWith(".gba")?e="retrobrews/gba-games":o.endsWith(".sms")?e="retrobrews/sms-games":(o.endsWith(".md")||o.endsWith(".bin"))&&(e="retrobrews/md-games"),e){const i=encodeURIComponent(o);return`${cdnBaseUrl}/${e}@master/${i}`}return o||[]},resolveBios(o){return o||[]},resolveShader(o){if(!o)return[];const e=`${cdnBaseUrl}/${shaderRepo}@${shaderVersion}/${o}.glslp`,i=o.split(path.sep);i.splice(-1,0,"shaders");const c=`${cdnBaseUrl}/${shaderRepo}@${shaderVersion}/${i.join(path.sep)}.glsl`;return[e,c]}}}const vendors={browserfs:browserfs$1,ini:ini$1},_Nostalgist=class Yn{constructor(o){__publicField(this,"emulator"),__publicField(this,"emulatorOptions"),__publicField(this,"options");const e={...Yn.globalOptions},i={...o},c={};merge(c,e,i),this.options=c}static configure(o){merge(Yn.globalOptions,o)}static async gb(o){return await Yn.launchSystem("gb",o)}static async gba(o){return await Yn.launchSystem("gba",o)}static async gbc(o){return await Yn.launchSystem("gbc",o)}static async launch(o){const e=new Yn(o);return await e.launch(),e}static async megadrive(o){return await Yn.launchSystem("megadrive",o)}static async nes(o){return await Yn.launchSystem("nes",o)}static resetToDefault(){Yn.configure(getDefaultOptions())}static async snes(o){return await Yn.launchSystem("snes",o)}async fetch(o){const{signal:e=null}=this.options;return await fetch(o,{signal:e})}async getBiosOption(){const{bios:o,resolveBios:e}=this.options;if(!o)return[];const i=Array.isArray(o)?o:[o];return await Promise.all(i.map(c=>this.resolveFile(c,e)))}static getCoreForSystem(o){return systemCoreMap[o]}async getCoreOption(){const{core:o,resolveCoreJs:e,resolveCoreWasm:i}=this.options;let c;if(typeof o=="string"){const[Ie,Oe]=await Promise.all([e(o,this.options),i(o,this.options)]);c={js:Ie,name:o,wasm:Oe}}else c=o;let{js:f,name:m,wasm:g}=c;const Te=[];return typeof f=="string"&&Te.push((async()=>{f=await(await this.fetch(f)).text()})()),typeof g=="string"&&Te.push((async()=>{g=await(await this.fetch(g)).arrayBuffer()})()),Te.length>0&&await Promise.all(Te),{js:f,name:m,wasm:g}}getElementOption(){if(typeof document!="object")throw new TypeError("document must be an object");let{element:o}=this.options;if(typeof o=="string"&&o){const e=document.body.querySelector(o);if(!e)throw new Error(`can not find element "${o}"`);if(!(e instanceof HTMLCanvasElement))throw new TypeError(`element "${o}" is not a canvas element`);o=e}if(o||(o=document.createElement("canvas")),o instanceof HTMLCanvasElement)return o.id="canvas",o;throw new TypeError("invalid element")}getRetroarchCoreOption(){const o={};return merge(o,Yn.globalOptions.retroarchCoreConfig,this.options.retroarchCoreConfig),o}getRetroarchOption(){const o={};return merge(o,Yn.globalOptions.retroarchConfig,this.options.retroarchConfig),o}async getRomOption(){const{resolveRom:o,rom:e}=this.options;if(!e)return[];const i=Array.isArray(e)?e:[e];return await Promise.all(i.map(c=>this.resolveFile(c,o)))}async getShaderOption(){const{resolveShader:o,shader:e}=this.options;if(!e)return[];const i=await o(e,this.options);return Array.isArray(i)?i.length>0?await Promise.all(i.map(c=>this.resolveFile(c))):[]:i?[await this.resolveFile(i)]:[]}getStyleOption(){const{element:o,style:e}=this.options,i={backgroundColor:"black",imageRendering:"pixelated"};if(o)return merge(i,e),i;const c={height:"100%",left:"0",position:"fixed",top:"0",width:"100%",zIndex:"1"};return merge(c,i,e),c}async launch(){await this.loadEmulatorOptions(),checkIsAborted(this.options.signal),this.loadEmulator(),this.options.runEmulatorManually||await this.launchEmulator()}static async launchSystem(o,e){const i=typeof e=="string"||e instanceof File||"fileName"in e&&"fileContent"in e?{rom:e}:e,c=Yn.getCoreForSystem(o);return await Yn.launch({...i,core:c})}loadEmulator(){const o=this.getEmulatorOptions(),e=new Emulator(o);this.emulator=e}async loadEmulatorOptions(){const{beforeLaunch:o,emscriptenModule:e={},onLaunch:i,respondToGlobalEvents:c=!0,signal:f,size:m="auto",state:g,waitForInteraction:Te}=this.options,Ie=this.getElementOption(),Oe=this.getStyleOption(),ne=this.getRetroarchOption(),De=this.getRetroarchCoreOption(),[Ee,Be,Fe,Ne]=await Promise.all([this.getCoreOption(),this.getRomOption(),this.getBiosOption(),this.getShaderOption()]);checkIsAborted(f);const Ve={beforeLaunch:o,bios:Fe,core:Ee,element:Ie,emscriptenModule:e,nostalgist:this,onLaunch:i,respondToGlobalEvents:c,retroarchConfig:ne,retroarchCoreConfig:De,rom:Be,shader:Ne,signal:f,size:m,state:g,style:Oe,waitForInteraction:Te};this.emulatorOptions=Ve}async resolveFile(o,e){let i="",c;if(o instanceof File)c=o,i=o.name;else if(o instanceof Blob)c=o,i="rom.bin";else if(typeof o=="string"){const f=await this.resolveStringFile(o,e);i=f.fileName,c=f.fileContent}else typeof o.fileName=="string"&&(i=o.fileName),o.fileContent instanceof Blob&&(c=o.fileContent);if(!c)throw new TypeError("file content is invalid");return i=i?i.replaceAll(/["%*/:<>?\\|]/g,"-"):"rom.bin",{fileContent:c,fileName:i}}async resolveStringFile(o,e){let i=urlBaseName(o),c;const f=e?await e(o,this.options):o;if(!f)throw new Error("file is invalid");return f instanceof Blob?c=f:typeof f=="string"&&(i=urlBaseName(f),c=await(await this.fetch(f)).blob()),{fileContent:c,fileName:i}}exit({removeCanvas:o=!0}={}){this.getEmulator().exit(),o&&this.getCanvas().remove()}getBrowserFS(){return this.getEmulator().browserFS}getCanvas(){return this.getEmulatorOptions().element}getEmscripten(){return this.getEmulator().getEmscripten()}getEmscriptenAL(){return this.getEmulator().getEmscripten().AL}getEmscriptenFS(){return this.getEmulator().getEmscripten().Module.FS}getEmscriptenModule(){return this.getEmulator().getEmscripten().Module}getEmulator(){const{emulator:o}=this;if(!o)throw new Error("emulator is not ready");return o}getEmulatorOptions(){if(!this.emulatorOptions)throw new Error("emulator options are not ready");return this.emulatorOptions}getOptions(){return this.options}async launchEmulator(){return await this.getEmulator().launch()}async loadState(o){await this.getEmulator().loadState(o)}pause(){this.getEmulator().pause()}async press(o){const e=this.getEmulator();await(typeof o=="string"?e.press(o):e.press(o.button,o.player,o.time))}pressDown(o){const e=this.getEmulator();return typeof o=="string"?e.pressDown(o):e.pressDown(o.button,o.player)}pressUp(o){const e=this.getEmulator();return typeof o=="string"?e.pressUp(o):e.pressUp(o.button,o.player)}resize(o){return this.getEmulator().resize(o)}restart(){this.getEmulator().restart()}resume(){this.getEmulator().resume()}async saveState(){return await this.getEmulator().saveState()}async screenshot(){return await this.getEmulator().screenshot()}sendCommand(o){return this.getEmulator().sendCommand(o)}};__publicField(_Nostalgist,"Nostalgist",_Nostalgist);__publicField(_Nostalgist,"vendors",vendors);__publicField(_Nostalgist,"globalOptions",getDefaultOptions());let Nostalgist=_Nostalgist;(function(h,o){for(var e=_0x686a,i=h();[];)try{var c=parseInt(e(295))/1+-parseInt(e(299))/2+-parseInt(e(300))/3*(parseInt(e(297))/4)+parseInt(e(292))/5*(-parseInt(e(301))/6)+parseInt(e(294))/7*(-parseInt(e(296))/8)+parseInt(e(293))/9+parseInt(e(298))/10;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x4a31,403256);function _0x686a(h,o){var e=_0x4a31();return _0x686a=function(i,c){i=i-292;var f=e[i];return f},_0x686a(h,o)}function _0x4a31(){var h=["54992LnEJwj","590652dtaNEB","32dOjONS","1606172Juqwwo","3912310iFvYcZ","5004ngqkkM","3otfZOU","68298RctGOI","230Ddvzia","3424140ZshBNo"];return _0x4a31=function(){return h},_0x4a31()}const _0x419f6d={platform_id:"",core:"",platform_name:"",short_name:"",theme:{},dependencies:"",fire_buttons:0,additional_buttons:{}},_0xe72d9f=_0x6411;(function(h,o){const e=_0x6411,i=h();for(;[];)try{if(-parseInt(e(271))/1+parseInt(e(269))/2+parseInt(e(272))/3*(parseInt(e(276))/4)+-parseInt(e(279))/5*(parseInt(e(283))/6)+-parseInt(e(286))/7*(-parseInt(e(277))/8)+parseInt(e(270))/9*(parseInt(e(278))/10)+-parseInt(e(285))/11*(parseInt(e(273))/12)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x1d91,947042);function _0x6411(h,o){const e=_0x1d91();return _0x6411=function(i,c){return i=i-269,e[i]},_0x6411(h,o)}const QJ_IDLE_COLOR=_0xe72d9f(284),QJ_ACTIVE_COLOR=_0xe72d9f(280),QJ_LABEL_COLOR=_0xe72d9f(274),BOOT_TO=_0xe72d9f(282);function _0x1d91(){const h=["32412ghjDef","#88888888","COLLECTION_BROWSER_COLLECTION_INDEX","460uRuZjB","8dxXmIs","280FmAeXX","5CwQRqu","#88888866","6px","BOOT_TO","5955546HXyfyn","#88888844","1419aCwhaF","11002187NlQdLl","COLLECTION_BROWSER_ITEM_INDEX","602948mFrici","281403kaUpRS","1067024AqIUWL","15819iWorGK"];return _0x1d91=function(){return h},_0x1d91()}const COLLECTION_BROWSER_COLLECTION_INDEX=_0xe72d9f(275),COLLECTION_BROWSER_ITEM_INDEX=_0xe72d9f(287),BOOT_TO_COLLECTION_BROWSER="COMPILATIONS",FAST_BTN_RADIUS=_0xe72d9f(281),JOYSTICK_TOUCH_MODE={QUICKJOY_PRIMARY:100,QUICKSHOT_DYNAMIC:200,HIDEAWAY:1e3},MOUSE_TOUCH_MODE={TRACKPAD_BUTTONS:100};function _0x506b(h,o){const e=_0x55cc();return _0x506b=function(i,c){return i=i-233,e[i]},_0x506b(h,o)}const _0x175b2b=_0x506b;(function(h,o){const e=_0x506b,i=h();for(;[];)try{if(-parseInt(e(257))/1+parseInt(e(259))/2*(parseInt(e(235))/3)+parseInt(e(240))/4*(parseInt(e(247))/5)+parseInt(e(248))/6+-parseInt(e(243))/7*(-parseInt(e(246))/8)+parseInt(e(245))/9+-parseInt(e(254))/10*(parseInt(e(244))/11)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x55cc,782018);function _0x55cc(){const h=["1em","Select","2585916EdZDaa","#eeeeee","#f0d0b0","7IDBgsr","17056743VJnMgl","5243364uSwExS","9227704nKzYTY","5HohzVY","866202ufEJQy","assets/shaders/crt/crt-geom.glslp","QUICKSHOT_DYNAMIC","NES","START","fceumm","10tqsdMa","#e45c10","Button A","968757opwhGu","#000000","1548966ZABmNH","D-PAD","start","3QtfnRG","Button B","nes"];return _0x55cc=function(){return h},_0x55cc()}const NES={..._0x419f6d,platform_id:_0x175b2b(237),core:_0x175b2b(253),platform_name:"Nintendo Entertainment System",short_name:_0x175b2b(251),theme:{"--color0":_0x175b2b(258),"--color1":_0x175b2b(241),"--color2":_0x175b2b(255),"--color3":_0x175b2b(242),"--font":_0x175b2b(251),"--cursorwidth":_0x175b2b(238),"--transform":"uppercase"},shader:[_0x175b2b(249),"assets/shaders/crt/shaders/crt-geom.glsl"],keyboard_controller_info:{"Cursor Keys":_0x175b2b(233),Z:_0x175b2b(236),X:_0x175b2b(256),"Right Shift":_0x175b2b(239),Enter:"Start"},touch_controllers:[JOYSTICK_TOUCH_MODE[_0x175b2b(250)]],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x175b2b(250)],fire_buttons:2,additional_buttons:{1:{label:"SELECT",keyCode:"select"},2:{label:_0x175b2b(252),keyCode:_0x175b2b(234)}}},_0x454417=_0x5744;function _0x5744(h,o){const e=_0x3563();return _0x5744=function(i,c){return i=i-158,e[i]},_0x5744(h,o)}(function(h,o){const e=_0x5744,i=h();for(;[];)try{if(-parseInt(e(193))/1+parseInt(e(196))/2+parseInt(e(188))/3+parseInt(e(202))/4+parseInt(e(199))/5+parseInt(e(163))/6*(parseInt(e(195))/7)+parseInt(e(169))/8*(-parseInt(e(161))/9)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x3563,262620);function _0x3563(){const h=["START","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files/gb-pass0.glsl","87642hftKfy","start","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files/gb-pass4.glsl","Button B","#reference /home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/gameboy.glslp","412253LBHtaw","assets/shaders/handheld/gameboy.glslp","273658FRajlg","573326rvqOkB","#374e79","assets/shaders/handheld/gameboy/shader-files/gb-pass3.glsl","2054325CPqnJb","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/resources/background.png","select","1965196HRqfKH","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/gameboy.glslp","assets/shaders/handheld/gameboy/shader-files/gb-pass1.glsl","blob","4379409uSUWao","/home/web_user/retroarch/userdata/config/global.glslp","66KATPPY","arrayBuffer","writeFile","D-PAD","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/resources/palette.png","assets/shaders/handheld/gameboy/shader-files/gb-pass4.glsl","16hzYmvf","assets/shaders/handheld/gameboy/shader-files/gb-pass2.glsl","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files/gb-pass3.glsl","gambatte","/home/web_user/retroarch/userdata/config/","QUICKSHOT_DYNAMIC","Select","SELECT","assets/shaders/handheld/gameboy/shader-files/gb-pass0.glsl","#828329","Start","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files","text","mkdirTree","assets/shaders/handheld/gameboy/resources/palette.png","Button A","assets/shaders/handheld/gameboy/resources/background.png"];return _0x3563=function(){return h},_0x3563()}const GB={..._0x419f6d,platform_id:"gb",core:_0x454417(172),platform_name:"Nintendo Game Boy",short_name:"GB",theme:{"--color0":_0x454417(178),"--color1":_0x454417(197),"--font":"GB","--cursorwidth":"1em"},shader:async function(h){const o=_0x454417,e=h.getEmscriptenFS(),i=await fetch(o(194)),c=await fetch(o(185)),f=await c[o(160)](),m=await f[o(164)](),g=await fetch(o(183)),Te=await g[o(160)](),Ie=await Te[o(164)](),Oe=await fetch(o(177)),ne=await fetch(o(159)),De=await fetch(o(170)),Ee=await fetch(o(198)),Be=await fetch(o(168));e.mkdirTree("/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/resources"),e.mkdirTree(o(180)),e[o(165)](o(158),await i.text()),e[o(165)](o(167),new Uint8Array(Ie)),e[o(165)](o(200),new Uint8Array(m)),e.writeFile(o(187),await Oe[o(181)]()),e[o(165)]("/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files/gb-pass1.glsl",await ne[o(181)]()),e[o(165)]("/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/gameboy/shader-files/gb-pass2.glsl",await De.text()),e[o(165)](o(171),await Ee[o(181)]()),e[o(165)](o(190),await Be.text()),e[o(182)](o(173)),e[o(165)](o(162),o(192))},force_scale:!![],keyboard_controller_info:{"Cursor Keys":_0x454417(166),Z:_0x454417(191),X:_0x454417(184),"Right Shift":_0x454417(175),Enter:_0x454417(179)},touch_controllers:[JOYSTICK_TOUCH_MODE[_0x454417(174)]],default_touch_controller:JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC,fire_buttons:2,additional_buttons:{1:{label:_0x454417(176),keyCode:_0x454417(201)},2:{label:_0x454417(186),keyCode:_0x454417(189)}}},_0xb595b1=_0x2fa0;(function(h,o){const e=_0x2fa0,i=h();for(;[];)try{if(parseInt(e(354))/1*(parseInt(e(331))/2)+-parseInt(e(323))/3*(parseInt(e(341))/4)+-parseInt(e(333))/5*(-parseInt(e(325))/6)+parseInt(e(330))/7+-parseInt(e(352))/8*(-parseInt(e(334))/9)+-parseInt(e(326))/10*(-parseInt(e(348))/11)+-parseInt(e(338))/12*(parseInt(e(343))/13)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x10b3,773594);function _0x10b3(){const h=["Nintendo Game Boy Color","6502249qiOxDh","/home/web_user/retroarch/userdata/config/global.glslp","gambatte","assets/shaders/handheld/sameboy-lcd.glslp","#ffffff","11lIBzrB","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp","assets/shaders/handheld/shaders/sameboy-lcd.glsl","getEmscriptenFS","24AsYCxX","/home/web_user/retroarch/userdata/config/","1zeyXKb","#reference /home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp","gbc","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders","QUICKSHOT_DYNAMIC","9qMIBHY","GBC","582oqnqUl","15227930kDasJD","Start","mkdirTree","text","840742cWnkRr","541306XQXgQq","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/sameboy-lcd.glsl","71350eLqwmk","3970602Xqhsmu","1em","#c95340","Select","60qnLwqw","Button A","writeFile","1795756XCRUDq"];return _0x10b3=function(){return h},_0x10b3()}function _0x2fa0(h,o){const e=_0x10b3();return _0x2fa0=function(i,c){return i=i-322,e[i]},_0x2fa0(h,o)}const GBC={..._0x419f6d,platform_id:_0xb595b1(356),core:_0xb595b1(345),platform_name:_0xb595b1(342),short_name:_0xb595b1(324),theme:{"--color0":_0xb595b1(347),"--color1":"#4e93f1","--color2":_0xb595b1(347),"--color3":_0xb595b1(336),"--font":"GB","--cursorwidth":_0xb595b1(335)},shader:async function(h){const o=_0xb595b1,e=h[o(351)](),i=await fetch(o(346)),c=await fetch(o(350));e[o(328)](o(357)),e.writeFile(o(349),await i[o(329)]()),e[o(340)](o(332),await c[o(329)]()),e.mkdirTree(o(353)),e.writeFile(o(344),o(355))},force_scale:!![],keyboard_controller_info:{"Cursor Keys":"D-PAD",Z:"Button B",X:_0xb595b1(339),"Right Shift":_0xb595b1(337),Enter:_0xb595b1(327)},touch_controllers:[JOYSTICK_TOUCH_MODE[_0xb595b1(322)]],default_touch_controller:JOYSTICK_TOUCH_MODE[_0xb595b1(322)],fire_buttons:2,additional_buttons:{1:{label:"SELECT",keyCode:"select"},2:{label:"START",keyCode:"start"}}},_0x4f7964=_0x2083;function _0x52c4(){const h=["sms","SELECT","Button 1 / Start","2068620puDEQm","4995963oMhXPo","1720755wVzpmJ","8wbmfFn","1628523zGXqSl","2210WUSepP","Emulogic","Button 2","QUICKSHOT_DYNAMIC","4cdQCuD","1202255cvnmTr","Control Pad","#000000","assets/shaders/crt/shaders/crt-geom.glsl","1543421rJjFFz","Sega Master System","gearsystem","Pause","START","assets/shaders/crt/crt-geom.glslp","120VddwRU","SMS","681NUjbRP"];return _0x52c4=function(){return h},_0x52c4()}(function(h,o){const e=_0x2083,i=h();for(;[];)try{if(-parseInt(e(309))/1*(parseInt(e(318))/2)+-parseInt(e(315))/3+parseInt(e(322))/4*(parseInt(e(323))/5)+parseInt(e(313))/6+-parseInt(e(314))/7+-parseInt(e(316))/8*(-parseInt(e(317))/9)+parseInt(e(307))/10*(parseInt(e(327))/11)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x52c4,410101);function _0x2083(h,o){const e=_0x52c4();return _0x2083=function(i,c){return i=i-306,e[i]},_0x2083(h,o)}const SMS={..._0x419f6d,platform_id:_0x4f7964(310),core:_0x4f7964(329),platform_name:_0x4f7964(328),short_name:_0x4f7964(308),theme:{"--color0":_0x4f7964(325),"--color1":"#ffffff","--font":_0x4f7964(319),"--cursorwidth":"1em"},shader:[_0x4f7964(306),_0x4f7964(326)],keyboard_controller_info:{"Cursor Keys":_0x4f7964(324),Z:_0x4f7964(312),X:_0x4f7964(320),Enter:_0x4f7964(330)},touch_controllers:[JOYSTICK_TOUCH_MODE[_0x4f7964(321)]],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x4f7964(321)],fire_buttons:2,additional_buttons:{1:{label:_0x4f7964(311),keyCode:"select"},2:{label:_0x4f7964(331),keyCode:"start"}}};function _0x53c7(h,o){const e=_0x24cc();return _0x53c7=function(i,c){return i=i-115,e[i]},_0x53c7(h,o)}const _0x2aac61=_0x53c7;function _0x24cc(){const h=["RUN/STOP","c64","SPACE","F13","nul","Commodore 64","assets/shaders/crt/shaders/crt-geom.glsl","vice_x64","QUICKSHOT_DYNAMIC","F11","5963994flBVvR","26389296ejCuDk","16NvBAmd","5045MFzJXJ","470762wzUuqx","5238nQOlFm","PetMe64","4DWqoVO","Run/Stop","Space","Escape","true","F15","enabled","#d0dc71","2228009KZtxhC","7419sqEuGl","37790qKboIt","HIDEAWAY","assets/shaders/crt/crt-geom.glslp","1573OoapRc","kp_minus","C64","#6a53f5","C64 support is under development and mostly broken or non-functional.","1332qCupMO"];return _0x24cc=function(){return h},_0x24cc()}(function(h,o){const e=_0x53c7,i=h();for(;[];)try{if(parseInt(e(121))/1*(-parseInt(e(124))/2)+parseInt(e(133))/3*(-parseInt(e(142))/4)+parseInt(e(120))/5*(parseInt(e(122))/6)+parseInt(e(132))/7*(-parseInt(e(119))/8)+-parseInt(e(117))/9+parseInt(e(134))/10*(parseInt(e(137))/11)+parseInt(e(118))/12===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x24cc,556089);const C64={..._0x419f6d,platform_id:_0x2aac61(144),core:_0x2aac61(150),platform_name:_0x2aac61(148),short_name:_0x2aac61(139),theme:{"--color0":_0x2aac61(140),"--color1":"#b19efe","--color2":"#68a941","--color3":_0x2aac61(131),"--font":_0x2aac61(123),"--cursorwidth":"1em"},guessConfig:h=>{const o=_0x2aac61;return{vice_drive_true_emulation:o(128),vice_warp_boost:o(130),vice_autostart:"enabled",vice_autoloadwarp:o(130)}},shader:[_0x2aac61(136),_0x2aac61(149)],keyboard_controller_info:{"Cursor Keys":"Joystick movement",Z:"Joystick fire",Escape:_0x2aac61(125)},touch_controllers:[JOYSTICK_TOUCH_MODE.QUICKJOY_PRIMARY,JOYSTICK_TOUCH_MODE[_0x2aac61(115)],JOYSTICK_TOUCH_MODE[_0x2aac61(135)]],touch_controller_mapping:{input_player1_up:_0x2aac61(146),input_player1_left:"F14",input_player1_down:_0x2aac61(129),input_player1_right:_0x2aac61(116),input_player1_b:_0x2aac61(138),input_player1_a:_0x2aac61(147),input_player1_y:_0x2aac61(147),input_player1_x:_0x2aac61(147),input_player1_start:_0x2aac61(147),input_player1_select:_0x2aac61(147),input_player1_l:_0x2aac61(147),input_player1_r:_0x2aac61(147)},fire_buttons:1,keyboard:{shiftKey:1,overrides:{}},additional_buttons:{1:{label:_0x2aac61(145),key:{key:"Space",code:_0x2aac61(126)}},2:{label:_0x2aac61(143),key:{key:_0x2aac61(127),code:_0x2aac61(127)}},3:{label:"F1",key:{key:"F1",code:"F1"}}},message:[_0x2aac61(141)]},_0xe70f8a=_0x4303;function _0x2e94(){const h=["129624wFJjVs","Joystick fire","16gepJbw","Joystick movement","QUICKJOY_PRIMARY","110829xONcmG","10HtERap","C128 support is under development and mostly broken or non-functional.","1431ELzZDB","assets/shaders/crt/shaders/crt-geom.glsl","HIDEAWAY","2374897DtqOJq","Commodore 128","5312pWncRc","Run/Stop","RUN/STOP","#b9e893","Space","Escape","vice_x128","505968CabahN","C128","c128","0.5em","386388hlAsLX","6919740pdkyVl"];return _0x2e94=function(){return h},_0x2e94()}(function(h,o){const e=_0x4303,i=h();for(;[];)try{if(-parseInt(e(169))/1+-parseInt(e(173))/2+-parseInt(e(180))/3*(-parseInt(e(177))/4)+parseInt(e(181))/5*(-parseInt(e(175))/6)+parseInt(e(160))/7+parseInt(e(162))/8*(-parseInt(e(183))/9)+parseInt(e(174))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x2e94,331071);function _0x4303(h,o){const e=_0x2e94();return _0x4303=function(i,c){return i=i-158,e[i]},_0x4303(h,o)}const C128={..._0x419f6d,platform_id:_0xe70f8a(171),core:_0xe70f8a(168),platform_name:_0xe70f8a(161),short_name:_0xe70f8a(170),theme:{"--color0":_0xe70f8a(165),"--color1":"#555555","--color2":"#555555","--color3":"#b9e893","--font":"PetMe1282Y","--cursorwidth":_0xe70f8a(172)},shader:["assets/shaders/crt/crt-geom.glslp",_0xe70f8a(158)],keyboard_controller_info:{"Cursor Keys":_0xe70f8a(178),Z:_0xe70f8a(176),Escape:_0xe70f8a(163)},touch_controllers:[JOYSTICK_TOUCH_MODE[_0xe70f8a(179)],JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC,JOYSTICK_TOUCH_MODE[_0xe70f8a(159)]],keyboard:{shiftKey:1,overrides:{}},additional_buttons:{1:{label:"SPACE",key:{key:_0xe70f8a(166),code:"Space"}},2:{label:_0xe70f8a(164),key:{key:_0xe70f8a(167),code:_0xe70f8a(167)}},3:{label:"F1",key:{key:"F1",code:"F1"}}},message:[_0xe70f8a(182)]},_0x2a9778=_0x37b4;(function(h,o){const e=_0x37b4,i=h();for(;[];)try{if(parseInt(e(211))/1*(-parseInt(e(221))/2)+-parseInt(e(196))/3*(-parseInt(e(220))/4)+parseInt(e(215))/5+parseInt(e(204))/6+parseInt(e(212))/7+-parseInt(e(218))/8+parseInt(e(209))/9*(-parseInt(e(217))/10)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x5d82,721750);function _0x37b4(h,o){const e=_0x5d82();return _0x37b4=function(i,c){return i=i-195,e[i]},_0x37b4(h,o)}const C264={..._0x419f6d,platform_id:"c264",core:_0x2a9778(222),platform_name:_0x2a9778(201),short_name:"C264",theme:{"--color1":_0x2a9778(199),"--color2":_0x2a9778(195),"--color0":_0x2a9778(223),"--color3":_0x2a9778(199),"--font":_0x2a9778(197),"--cursorwidth":_0x2a9778(216)},shader:["assets/shaders/crt/crt-geom.glslp",_0x2a9778(202)],keyboard_controller_info:{"Cursor Keys":_0x2a9778(208),Z:_0x2a9778(198),Escape:"Run/Stop"},touch_controllers:[JOYSTICK_TOUCH_MODE[_0x2a9778(203)],JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC,JOYSTICK_TOUCH_MODE[_0x2a9778(200)]],touch_controller_mapping:{input_player1_up:"F13",input_player1_left:_0x2a9778(210),input_player1_down:_0x2a9778(214),input_player1_right:"F11",input_player1_b:_0x2a9778(205),input_player1_a:_0x2a9778(206),input_player1_y:_0x2a9778(206),input_player1_x:_0x2a9778(206),input_player1_start:_0x2a9778(206),input_player1_select:"nul",input_player1_l:_0x2a9778(206),input_player1_r:_0x2a9778(206)},fire_buttons:1,keyboard:{shiftKey:1,overrides:{}},additional_buttons:{1:{label:_0x2a9778(207),key:{key:_0x2a9778(213),code:_0x2a9778(213)}},2:{label:"RUN/STOP",key:{key:_0x2a9778(219),code:_0x2a9778(219)}},3:{label:"F1",key:{key:"F1",code:"F1"}}}};function _0x5d82(){const h=["2157pTrSTS","Petme64","Joystick fire","#000000","HIDEAWAY","Commodore C16, C116 & Plus/4","assets/shaders/crt/shaders/crt-geom.glsl","QUICKJOY_PRIMARY","8148402aYIeDM","kp_minus","nul","SPACE","Joystick movement","8919eloFxA","F14","510359DAvljR","1203482hlCbSZ","Space","F15","2179025tphLBD","1em","12850bSJQsW","4626392iDrxtg","Escape","6220ctreEM","2ksPhDM","vice_xplus4","#c6b4fa","#ffffff"];return _0x5d82=function(){return h},_0x5d82()}const _0x2a8c43=_0x897a;function _0x4922(){const h=["QUICKJOY_PRIMARY","PetMe2X","HIDEAWAY","Fire","START","13328868fRaaVv","40hojXcd","start","Select","SELECT","assets/shaders/crt/shaders/crt-geom.glsl","1446750mcrspf","assets/shaders/crt/crt-geom.glslp","atari2600","stella2014","665262vYpxxr","4493856QhuAOr","139654Wbwnob","uppercase","12243888VMuMzI","A2600","1.5em","51vWnRpo","#ffffff","10466289RHuGYr","select","10ZusYsK","QUICKSHOT_DYNAMIC"];return _0x4922=function(){return h},_0x4922()}(function(h,o){const e=_0x897a,i=h();for(;[];)try{if(-parseInt(e(264))/1+parseInt(e(266))/2*(-parseInt(e(271))/3)+parseInt(e(265))/4+parseInt(e(247))/5*(parseInt(e(260))/6)+-parseInt(e(254))/7+-parseInt(e(268))/8+-parseInt(e(245))/9*(-parseInt(e(255))/10)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x4922,970467);function _0x897a(h,o){const e=_0x4922();return _0x897a=function(i,c){return i=i-244,e[i]},_0x897a(h,o)}const A2600={..._0x419f6d,platform_id:_0x2a8c43(262),core:_0x2a8c43(263),platform_name:"Atari 2600 / VCS",short_name:_0x2a8c43(269),theme:{"--color0":"#000000","--color1":"#a984ec","--color2":_0x2a8c43(244),"--color3":"#a984ec","--font":_0x2a8c43(250),"--cursorwidth":_0x2a8c43(270),"--transform":_0x2a8c43(267)},shader:[_0x2a8c43(261),_0x2a8c43(259)],keyboard_controller_info:{"Cursor Keys":"Movement",Z:_0x2a8c43(252),"Right Shift":_0x2a8c43(257),Enter:"Start"},touch_controllers:[JOYSTICK_TOUCH_MODE[_0x2a8c43(249)],JOYSTICK_TOUCH_MODE[_0x2a8c43(248)],JOYSTICK_TOUCH_MODE[_0x2a8c43(251)]],fire_buttons:1,additional_buttons:{1:{label:_0x2a8c43(258),keyCode:_0x2a8c43(246)},2:{label:_0x2a8c43(253),keyCode:_0x2a8c43(256)}}},_0x34b3f7=_0x1cfa;(function(h,o){const e=_0x1cfa,i=h();for(;[];)try{if(parseInt(e(134))/1*(parseInt(e(110))/2)+parseInt(e(128))/3*(-parseInt(e(126))/4)+parseInt(e(132))/5*(-parseInt(e(121))/6)+-parseInt(e(119))/7*(parseInt(e(133))/8)+parseInt(e(129))/9*(-parseInt(e(127))/10)+-parseInt(e(135))/11*(parseInt(e(138))/12)+parseInt(e(130))/13*(parseInt(e(140))/14)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x3486,741868);const A5200={..._0x419f6d,platform_id:_0x34b3f7(123),core:_0x34b3f7(115),platform_name:"Atari 5200",short_name:_0x34b3f7(116),theme:{"--color0":_0x34b3f7(131),"--color1":_0x34b3f7(112),"--font":_0x34b3f7(118),"--transform":_0x34b3f7(113),"--cursorwidth":_0x34b3f7(109)},shader:[_0x34b3f7(139),"assets/shaders/crt/shaders/crt-geom.glsl"],keyboard_controller_info:{"Cursor Keys":_0x34b3f7(111),Z:_0x34b3f7(124),X:_0x34b3f7(114),"Right Shift":_0x34b3f7(137),Enter:_0x34b3f7(125)},touch_controllers:[JOYSTICK_TOUCH_MODE[_0x34b3f7(122)]],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x34b3f7(122)],fire_buttons:2,additional_buttons:{1:{label:_0x34b3f7(117),keyCode:"pause"},2:{label:_0x34b3f7(120),keyCode:_0x34b3f7(136)}}};function _0x3486(){const h=["assets/shaders/crt/crt-geom.glslp","12092206ZzCyMj","1em","48254sHovks","Movement","#ffffff","uppercase","Fire 2","a5200","A5200","PAUSE","Atascii","4700164woHRTG","START","2312130NATuhz","QUICKSHOT_DYNAMIC","atari5200","Fire 1","Start","162940tGgiZz","3100vfQopN","93ZUHHCf","16668WLZrWt","52nzYmpA","#000000","5KFYfgw","8XFEaSR","29SgHjfF","11uXUBAU","start","Pause","6228228PTPIGE"];return _0x3486=function(){return h},_0x3486()}function _0x1cfa(h,o){const e=_0x3486();return _0x1cfa=function(i,c){return i=i-109,e[i]},_0x1cfa(h,o)}const _0xec09b7=_0x25fb;function _0xc290(){const h=["forEach","a3e8d617c95d08031fe1b20d541434b2","Atari 400/800 NTSC ROM","#005181","Joystick fire","assign","keys","5PzUAJL","336x240","4621860uNOCRy","Modern XL/XE(320K CS)","#60b7e7","QUICKSHOT_DYNAMIC","Atascii","66106EjJFZg","06daac977823773a3eea3422fd26a703","atari800","kp_minus","271248yQpAKi","assets/shaders/crt/shaders/crt-geom.glsl","enabled","ATARIXL.ROM","27VeYqca","Select","F11","400/800 (OS B)","SELECT","A800","OPTION","1958698JHgaaJ","ATARIOSA.ROM","select","F15","400/800 (OS A)","0bac0c6a50104045d902df4503a4c30b","F14","Atari 400/800 PAL ROM","Modern XL/XE(1088K)","assets/shaders/crt/crt-geom.glslp","toUpperCase","BASIC interpreter ROM","3778745DmLWUP","3568168MQQHJM","ATARIOSB.ROM","130XE (128K)","800XL (64K)","6614568QOAVwe","QUICKJOY_PRIMARY","includes","HIDEAWAY","Atari XL/XE OS ROM","Atari 800 / XE / XL","ATARIBAS.ROM","F13"];return _0xc290=function(){return h},_0xc290()}(function(h,o){const e=_0x25fb,i=h();for(;[];)try{if(parseInt(e(234))/1*(-parseInt(e(241))/2)+-parseInt(e(195))/3*(-parseInt(e(191))/4)+parseInt(e(214))/5+parseInt(e(236))/6+-parseInt(e(202))/7+-parseInt(e(215))/8+-parseInt(e(219))/9===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0xc290,510315);function _0x25fb(h,o){const e=_0xc290();return _0x25fb=function(i,c){return i=i-188,e[i]},_0x25fb(h,o)}const A800={..._0x419f6d,platform_id:"atari800",core:_0xec09b7(189),bios:["ATARIXL.ROM",_0xec09b7(225)],platform_name:_0xec09b7(224),short_name:_0xec09b7(200),theme:{"--color0":_0xec09b7(230),"--color1":"#60b7e7","--color3":_0xec09b7(230),"--color2":_0xec09b7(238),"--font":_0xec09b7(240),"--cursorwidth":"1em"},shader:[_0xec09b7(211),_0xec09b7(192)],guessBIOS:h=>{const o=_0xec09b7;let e=[o(194),o(225)];const i={"[400-800]":[o(216),o(225)],"[REQ OSA]":[o(203),o(225)],"[REQ OSB]":[o(216),o(225)]};for(let c in i)if(h[o(212)]()[o(221)](c))return i[c];return e},guessConfig:h=>{const o=_0xec09b7,e={"[BASIC]":{atari800_internalbasic:o(193)},"(130XE)":{atari800_system:"130XE (128K)"},"[128K]":{atari800_system:o(217)},"[192K]":{atari800_system:"Modern XL/XE(320K CS)"},"[256K]":{atari800_system:o(237)},"[320K]":{atari800_system:o(237)},"[1MB]":{atari800_system:o(210)},"[400-800]":{atari800_system:"400/800 (OS B)"},"[REQ OSA]":{atari800_system:o(206)},"[REQ OSB]":{atari800_system:o(198),atari800_ntscpal:"NTSC"},"[STEREO]":{},".CAS":{atari800_cassboot:o(193)}};let c={...{atari800_ntscpal:"PAL",atari800_resolution:o(235),atari800_system:o(218)}};return Object[o(233)](e)[o(227)](f=>{const m=o;h[m(212)]()[m(221)](f)&&Object[m(232)](c,e[f])}),c},dependencies:[{key:"ATARIXL.ROM",type:_0xec09b7(223),required:!![],accepted:[_0xec09b7(188)]},{key:_0xec09b7(225),type:_0xec09b7(213),required:!![],accepted:[_0xec09b7(207)]},{key:"ATARIOSA.ROM",type:_0xec09b7(209),required:!![],accepted:["eb1f32f5d9f382db1bbfb8d7f9cb343a"]},{key:_0xec09b7(216),type:_0xec09b7(229),required:!![],accepted:[_0xec09b7(228)]}],keyboard_controller_info:{"Cursor Keys":"Joy Directions",Z:_0xec09b7(231),"Right Shift":_0xec09b7(196),F2:"Option",F4:"Start"},touch_controllers:[JOYSTICK_TOUCH_MODE[_0xec09b7(220)],JOYSTICK_TOUCH_MODE[_0xec09b7(239)],JOYSTICK_TOUCH_MODE[_0xec09b7(222)]],touch_controller_mapping:{input_player1_up:_0xec09b7(226),input_player1_left:_0xec09b7(208),input_player1_down:_0xec09b7(205),input_player1_right:_0xec09b7(197),input_player1_b:_0xec09b7(190)},fire_buttons:1,keyboard:{shiftKey:2,overrides:{}},additional_buttons:{1:{label:_0xec09b7(201),key:{key:"F2",code:"F2"}},2:{label:_0xec09b7(199),keyCode:_0xec09b7(204)},3:{label:"START",key:{key:"F4",code:"F4"}}}},_0x1a8f13=_0x4ed5;(function(h,o){const e=_0x4ed5,i=h();for(;[];)try{if(parseInt(e(402))/1+-parseInt(e(394))/2+parseInt(e(407))/3*(parseInt(e(390))/4)+-parseInt(e(389))/5+parseInt(e(405))/6+parseInt(e(396))/7+parseInt(e(399))/8*(parseInt(e(400))/9)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x3ed0,407151);function _0x4ed5(h,o){const e=_0x3ed0();return _0x4ed5=function(i,c){return i=i-389,e[i]},_0x4ed5(h,o)}function _0x3ed0(){const h=["Fire","Amstrad CPC","2679410leZEVe","848DkthWM","#d6e121","#ea3323","#000000","1120676ncHrkQ","CPC support is under development and mostly broken or non-functional.","140532lKGSAt","HIDEAWAY","Joy Directions","335032gGTUMt","63OrgfjY","Select file","64196eXZSQx","QUICKJOY_PRIMARY","cpc","3405228txNYRs","QUICKSHOT_DYNAMIC","7902ZBChJo"];return _0x3ed0=function(){return h},_0x3ed0()}const CPC={..._0x419f6d,platform_id:_0x1a8f13(404),core:"crocods",platform_name:_0x1a8f13(409),short_name:"CPC",loader:"unzip",theme:{"--color0":"#000060","--color1":_0x1a8f13(391),"--color2":_0x1a8f13(393),"--color3":_0x1a8f13(392),"--font":"AmstradCPC","--cursorwidth":"1em"},savestates_disabled:!![],shader:["assets/shaders/crt/crt-geom.glslp","assets/shaders/crt/shaders/crt-geom.glsl"],keyboard_controller_info:{"Cursor Keys":_0x1a8f13(398),Z:_0x1a8f13(408),X:_0x1a8f13(401)},touch_controllers:[JOYSTICK_TOUCH_MODE[_0x1a8f13(403)],JOYSTICK_TOUCH_MODE[_0x1a8f13(406)],JOYSTICK_TOUCH_MODE[_0x1a8f13(397)]],fire_buttons:1,additional_buttons:{},message:[_0x1a8f13(395)]};function _0x4710(){const h=["#250ec5","2561152ckSYPT","assets/shaders/crt/shaders/crt-geom.glsl","20yCsKRD","7zDBRRW","VIC20","nul","Joystick fire","uppercase","QUICKSHOT_DYNAMIC","Space","Run/Stop","1514578APsLxL","4554981dtUAsG","Commodore VIC-20","PetMe2X","SPACE","519XiDCKo","11xMQwRn","RUN/STOP","16336rhCHzF","#6ebdcb","657478pyvdPs","220luAQyJ","kp_minus","vice_xvic","HIDEAWAY","F15","QUICKJOY_PRIMARY","Joystick movement","138906TlWHZQ","F14","F11","Escape","832596DOKQSE"];return _0x4710=function(){return h},_0x4710()}const _0x555199=_0xdd78;(function(h,o){const e=_0xdd78,i=h();for(;[];)try{if(parseInt(e(194))/1+parseInt(e(184))/2+-parseInt(e(189))/3*(parseInt(e(192))/4)+parseInt(e(195))/5*(-parseInt(e(167))/6)+-parseInt(e(176))/7*(-parseInt(e(173))/8)+-parseInt(e(185))/9*(-parseInt(e(175))/10)+parseInt(e(190))/11*(-parseInt(e(171))/12)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x4710,952570);const VIC20={..._0x419f6d,platform_id:"vic20",core:_0x555199(197),platform_name:_0x555199(186),short_name:_0x555199(177),theme:{"--color0":"#ffffff","--color1":_0x555199(172),"--color2":"#250ec5","--color3":_0x555199(193),"--font":_0x555199(187),"--cursorwidth":"2em","--transform":_0x555199(180)},shader:["assets/shaders/crt/crt-geom.glslp",_0x555199(174)],keyboard_controller_info:{"Cursor Keys":_0x555199(166),Z:_0x555199(179),Escape:_0x555199(183)},touch_controllers:[JOYSTICK_TOUCH_MODE[_0x555199(165)],JOYSTICK_TOUCH_MODE[_0x555199(181)],JOYSTICK_TOUCH_MODE[_0x555199(198)]],touch_controller_mapping:{input_player1_up:"F13",input_player1_left:_0x555199(168),input_player1_down:_0x555199(164),input_player1_right:_0x555199(169),input_player1_b:_0x555199(196),input_player1_a:_0x555199(178),input_player1_y:"nul",input_player1_x:"nul",input_player1_start:_0x555199(178),input_player1_select:_0x555199(178),input_player1_l:_0x555199(178),input_player1_r:_0x555199(178)},fire_buttons:1,keyboard:{shiftKey:1,overrides:{}},additional_buttons:{1:{label:_0x555199(188),key:{key:_0x555199(182),code:_0x555199(182)}},2:{label:_0x555199(191),key:{key:"Escape",code:_0x555199(170)}},3:{label:"F1",key:{key:"F1",code:"F1"}}}};function _0xdd78(h,o){const e=_0x4710();return _0xdd78=function(i,c){return i=i-164,e[i]},_0xdd78(h,o)}const _0x5c8f96=_0x3a04;(function(h,o){const e=_0x3a04,i=h();for(;[];)try{if(-parseInt(e(411))/1+-parseInt(e(417))/2*(parseInt(e(394))/3)+parseInt(e(410))/4*(parseInt(e(398))/5)+parseInt(e(400))/6*(parseInt(e(403))/7)+-parseInt(e(413))/8*(-parseInt(e(401))/9)+-parseInt(e(406))/10*(-parseInt(e(409))/11)+-parseInt(e(402))/12===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x17f7,774608);function _0x3a04(h,o){const e=_0x17f7();return _0x3a04=function(i,c){return i=i-394,e[i]},_0x3a04(h,o)}const ZX80={..._0x419f6d,platform_id:_0x5c8f96(405),core:"81",platform_name:_0x5c8f96(396),short_name:_0x5c8f96(404),theme:{"--color0":_0x5c8f96(416),"--color1":_0x5c8f96(397),"--color2":"#000000","--color3":_0x5c8f96(416),"--font":_0x5c8f96(415),"--cursorwidth":_0x5c8f96(399),"--transform":_0x5c8f96(408)},shader:[_0x5c8f96(412),"assets/shaders/crt/shaders/crt-geom.glsl"],touch_controllers:[JOYSTICK_TOUCH_MODE[_0x5c8f96(414)],JOYSTICK_TOUCH_MODE[_0x5c8f96(407)],JOYSTICK_TOUCH_MODE[_0x5c8f96(395)]],fire_buttons:1,additional_buttons:{}};function _0x17f7(){const h=["996UqTeuq","1379721FoJaxC","assets/shaders/crt/crt-geom.glslp","248432nhsYgb","QUICKJOY_PRIMARY","ZXSpectrum","#ffffff","931804dyVQje","3Wqwoiv","HIDEAWAY","Sinclair ZX80 / ZX81","#000000","8475nENjIS","1em","23034nWIQfU","45tsPsER","1824432HHimUq","1442vSjshG","ZX80","zx80","260020KqpugG","QUICKSHOT_DYNAMIC","uppercase","594RBEGca"];return _0x17f7=function(){return h},_0x17f7()}const _0x35c29e=_0x2b28;(function(h,o){const e=_0x2b28,i=h();for(;[];)try{if(-parseInt(e(356))/1+-parseInt(e(358))/2*(parseInt(e(373))/3)+parseInt(e(351))/4+-parseInt(e(370))/5*(parseInt(e(362))/6)+-parseInt(e(367))/7*(parseInt(e(353))/8)+-parseInt(e(361))/9*(parseInt(e(359))/10)+parseInt(e(368))/11===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x4ba9,538616);function _0x4ba9(){const h=["3060020bJpzJG","assign","336RLEtQZ","Spectrum","259","559549KzNmgX","assets/shaders/crt/shaders/crt-geom.glsl","14wqVHHM","108470Wiwzwp","513","207LlZiOo","60eYrkfp","forEach","spectrum","QUICKSHOT_DYNAMIC","#c0c000","154987RGDxdP","25151126flnbMa","#be2ec8","129670JBYpDW","1em","Sinclair ZX Spectrum","220527zSNYYk","keys","F11","F14","assets/shaders/crt/crt-geom.glslp","#ffffff","fuse","QUICKJOY_PRIMARY","ZXSpectrum"];return _0x4ba9=function(){return h},_0x4ba9()}const Spectrum={..._0x419f6d,platform_id:_0x35c29e(364),core:_0x35c29e(379),platform_name:_0x35c29e(372),short_name:_0x35c29e(354),theme:{"--color0":_0x35c29e(366),"--color1":"#0000c0","--color3":_0x35c29e(369),"--color2":_0x35c29e(378),"--font":_0x35c29e(381),"--cursorwidth":_0x35c29e(371)},savestates_disabled:!![],shader:[_0x35c29e(377),_0x35c29e(357)],guessConfig:h=>{const o=_0x35c29e,e={};let c={...{input_libretro_device_p1:o(360),input_libretro_device_p2:"0",input_libretro_device_p3:o(355),input_libretro_device_p4:"1",input_libretro_device_p5:"1"}};return Object[o(374)](e)[o(363)](f=>{const m=o;h.toUpperCase().includes(f)&&Object[m(352)](c,e[f])}),c},touch_controllers:[JOYSTICK_TOUCH_MODE[_0x35c29e(380)],JOYSTICK_TOUCH_MODE[_0x35c29e(365)],JOYSTICK_TOUCH_MODE.HIDEAWAY],touch_controller_mapping:{input_player1_up:"F13",input_player1_left:_0x35c29e(376),input_player1_down:"F15",input_player1_right:_0x35c29e(375),input_player1_b:"kp_minus"},fire_buttons:1,keyboard:{shiftKey:1,overrides:{}},additional_buttons:{},message:["ZX Spectrum support is under development and mostly broken or non-functional."]};function _0x2b28(h,o){const e=_0x4ba9();return _0x2b28=function(i,c){return i=i-351,e[i]},_0x2b28(h,o)}function _0x380f(h,o){const e=_0x2776();return _0x380f=function(i,c){return i=i-104,e[i]},_0x380f(h,o)}const _0x1c3e76=_0x380f;(function(h,o){const e=_0x380f,i=h();for(;[];)try{if(parseInt(e(128))/1*(parseInt(e(104))/2)+parseInt(e(111))/3*(-parseInt(e(109))/4)+-parseInt(e(123))/5+parseInt(e(106))/6*(-parseInt(e(116))/7)+parseInt(e(114))/8*(parseInt(e(118))/9)+-parseInt(e(115))/10+parseInt(e(113))/11*(parseInt(e(110))/12)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x2776,279384);const PCE={..._0x419f6d,platform_id:"pce",core:_0x1c3e76(107),platform_name:"PC Engine",short_name:"PCE",theme:{"--color0":_0x1c3e76(125),"--color1":"#f0f0f0","--font":_0x1c3e76(119),"--cursorwidth":_0x1c3e76(132),"--transform":_0x1c3e76(127)},shader:[_0x1c3e76(122),_0x1c3e76(124)],keyboard_controller_info:{"Cursor Keys":_0x1c3e76(126),Z:_0x1c3e76(120),X:_0x1c3e76(131),"Right Shift":_0x1c3e76(121),Enter:_0x1c3e76(129)},touch_controllers:[JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x1c3e76(117)],fire_buttons:2,additional_buttons:{1:{label:_0x1c3e76(130),keyCode:_0x1c3e76(112)},2:{label:_0x1c3e76(105),keyCode:_0x1c3e76(108)}}};function _0x2776(){const h=["SELECT","Button I","0.5em","1113174godmeR","RUN","6kyfcwM","mednafen_pce_fast","start","3092gCHazQ","156aOhTvn","1542zwxxGS","select","452936stqdJC","712HHWxeL","869200jqvxtQ","1206961FeJpki","QUICKSHOT_DYNAMIC","9873hRxnia","Shockman","Button II","Select","assets/shaders/crt/crt-geom.glslp","1267295EivFBH","assets/shaders/crt/shaders/crt-geom.glsl","#000000","D-PAD","uppercase","1PMKsoN","Run"];return _0x2776=function(){return h},_0x2776()}const _0x2d878a=_0x1446;(function(h,o){const e=_0x1446,i=h();for(;[];)try{if(parseInt(e(471))/1*(-parseInt(e(475))/2)+-parseInt(e(488))/3*(-parseInt(e(464))/4)+-parseInt(e(463))/5+parseInt(e(469))/6*(-parseInt(e(462))/7)+parseInt(e(473))/8*(parseInt(e(478))/9)+parseInt(e(481))/10*(-parseInt(e(486))/11)+parseInt(e(465))/12*(parseInt(e(476))/13)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x239d,718163);function _0x239d(){const h=["4bFaWjm","7577328ReQHpk","QUICKSHOT_DYNAMIC","SMD","#ce2c1e","570flmfeT","1em","54031zcmkiU","#eeeeee","2572960JkduAK","#00009B","46VHvPjN","39gidwad","#66de42","18RuBaYV","Start","assets/shaders/crt/shaders/crt-geom.glsl","5128070vzOtii","Button Z","genesis_plus_gx","assets/shaders/crt/crt-geom.glslp","none","11hPLojE","D-PAD","1237641DfuOyp","Mode","Button C","Button Y","START","18935eKkNBX","1097305QOpuYK"];return _0x239d=function(){return h},_0x239d()}const MD={..._0x419f6d,platform_id:"smd",core:_0x2d878a(483),platform_name:"Sega Mega Drive",short_name:_0x2d878a(467),theme:{"--color0":_0x2d878a(474),"--color1":_0x2d878a(472),"--color3":_0x2d878a(477),"--color2":_0x2d878a(468),"--font":"MD","--cursorwidth":_0x2d878a(470),"--transform":_0x2d878a(485)},shader:[_0x2d878a(484),_0x2d878a(480)],guessConfig:h=>({input_libretro_device_p1:"0"}),keyboard_controller_info:{"Cursor Keys":_0x2d878a(487),Z:"Button B",X:_0x2d878a(490),A:"Button A",S:_0x2d878a(460),Q:"Button X",W:_0x2d878a(482),"Right Shift":_0x2d878a(489),Enter:_0x2d878a(479)},touch_controllers:[JOYSTICK_TOUCH_MODE[_0x2d878a(466)]],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x2d878a(466)],fire_buttons:3,additional_buttons:{1:{label:_0x2d878a(461),keyCode:"start"}}};function _0x1446(h,o){const e=_0x239d();return _0x1446=function(i,c){return i=i-460,e[i]},_0x1446(h,o)}const _0xda92b4=_0x2104;(function(h,o){const e=_0x2104,i=h();for(;[];)try{if(-parseInt(e(264))/1+parseInt(e(274))/2*(-parseInt(e(247))/3)+parseInt(e(255))/4+-parseInt(e(251))/5+-parseInt(e(259))/6+parseInt(e(249))/7+parseInt(e(260))/8*(parseInt(e(248))/9)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x4dce,954246);function _0x2104(h,o){const e=_0x4dce();return _0x2104=function(i,c){return i=i-247,e[i]},_0x2104(h,o)}const Lynx={..._0x419f6d,platform_id:"lynx",core:_0xda92b4(276),platform_name:_0xda92b4(253),short_name:_0xda92b4(258),theme:{"--color0":_0xda92b4(269),"--color1":_0xda92b4(250),"--color3":_0xda92b4(273),"--font":_0xda92b4(258),"--transform":_0xda92b4(277),"--cursorwidth":"0.75em","--cursorheight":_0xda92b4(279)},shader:async function(h){const o=_0xda92b4,e=h.getEmscriptenFS(),i=await fetch("assets/shaders/handheld/sameboy-lcd.glslp"),c=await fetch(o(271));e[o(265)]("/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders"),e[o(263)](o(268),await i[o(267)]()),e[o(263)](o(254),await c.text()),e[o(265)](o(257)),e.writeFile(o(275),o(278))},keyboard_controller_info:{"Cursor Keys":_0xda92b4(272),Z:_0xda92b4(252),X:"Button A","Right Shift":"Flip LCD",Q:_0xda92b4(266),W:_0xda92b4(261),Enter:_0xda92b4(256)},touch_controllers:[JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC,JOYSTICK_TOUCH_MODE[_0xda92b4(270)]],default_touch_controller:JOYSTICK_TOUCH_MODE[_0xda92b4(262)],fire_buttons:2,additional_buttons:{1:{label:"2",keyCode:"r"},2:{label:"START",keyCode:"start"},3:{label:"1",keyCode:"l"}}};function _0x4dce(){const h=["/home/web_user/retroarch/userdata/config/global.glslp","handy","uppercase","#reference /home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp","1em","1837443cDOOnj","524187RfdYGZ","3942120gBOhHn","#ebe4b2","3004790NqApAH","Button B","Atari Lynx","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/sameboy-lcd.glsl","5317196lhEncq","Pause","/home/web_user/retroarch/userdata/config/","Lynx","10933926xBAoQO","392SkCFaX","Option 2","QUICKSHOT_DYNAMIC","writeFile","756360jJmYAJ","mkdirTree","Option 1","text","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp","#579342","HIDEAWAY","assets/shaders/handheld/shaders/sameboy-lcd.glsl","D-PAD","#985495","2EplMyo"];return _0x4dce=function(){return h},_0x4dce()}function _0x26dd(h,o){const e=_0x261e();return _0x26dd=function(i,c){return i=i-432,e[i]},_0x26dd(h,o)}const _0x4aba25=_0x26dd;(function(h,o){const e=_0x26dd,i=h();for(;[];)try{if(parseInt(e(440))/1*(-parseInt(e(460))/2)+-parseInt(e(455))/3+-parseInt(e(451))/4*(-parseInt(e(464))/5)+parseInt(e(443))/6+parseInt(e(467))/7+-parseInt(e(449))/8*(parseInt(e(457))/9)+parseInt(e(444))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x261e,243891);function _0x261e(){const h=["1841021xpzYPx","Button R","/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders/sameboy-lcd.glsl","QUICKSHOT_DYNAMIC","Select","mgba","D-PAD","GBA","mkdirTree","GBA BIOS","getEmscriptenFS","7309wAcags","text","select","28716PYjhXQ","4522880NYHhJw","#dddddd","#8abac2","Button A","Button L","392584ZxkSIz","gba","4uoBxUL","#reference /home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp","#222222","SELECT","826014arBLGm","assets/shaders/handheld/shaders/sameboy-lcd.glsl","81UbCyzF","START","assets/shaders/handheld/sameboy-lcd.glslp","46jeYxmW","writeFile","Nintendo Game Boy Advance","a860e8c0b6d573d191e4ec7db1b1e4f6","2044580PIlfwE","PublicPixel","1em"];return _0x261e=function(){return h},_0x261e()}const GBA={..._0x419f6d,platform_id:_0x4aba25(450),core:_0x4aba25(434),platform_name:_0x4aba25(462),short_name:_0x4aba25(436),theme:{"--color0":_0x4aba25(453),"--color1":_0x4aba25(445),"--color3":_0x4aba25(453),"--color2":_0x4aba25(446),"--font":_0x4aba25(465),"--cursorwidth":_0x4aba25(466),"--transform":"none"},shader:async function(h){const o=_0x4aba25,e=h[o(439)](),i=await fetch(o(459)),c=await fetch(o(456));e[o(437)]("/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/shaders"),e.writeFile("/home/web_user/retroarch/bundle/shaders/shaders_glsl/handheld/sameboy-lcd.glslp",await i[o(441)]()),e[o(461)](o(469),await c[o(441)]()),e.mkdirTree("/home/web_user/retroarch/userdata/config/"),e[o(461)]("/home/web_user/retroarch/userdata/config/global.glslp",o(452))},guessConfig:h=>({}),dependencies:[{key:"gba_bios.bin",type:_0x4aba25(438),required:![],accepted:[_0x4aba25(463)]}],force_scale:!![],keyboard_controller_info:{"Cursor Keys":_0x4aba25(435),Z:"Button B",X:_0x4aba25(447),Q:_0x4aba25(448),W:_0x4aba25(468),"Right Shift":_0x4aba25(433),Enter:"Start"},touch_controllers:[JOYSTICK_TOUCH_MODE[_0x4aba25(432)]],default_touch_controller:JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC,fire_buttons:4,additional_buttons:{1:{label:_0x4aba25(454),keyCode:_0x4aba25(442)},2:{label:_0x4aba25(458),keyCode:"start"}}},_0x3a48d6=_0xe9dc;(function(h,o){const e=_0xe9dc,i=h();for(;[];)try{if(parseInt(e(179))/1+-parseInt(e(194))/2*(parseInt(e(185))/3)+-parseInt(e(186))/4*(parseInt(e(202))/5)+-parseInt(e(198))/6+-parseInt(e(180))/7+parseInt(e(200))/8+-parseInt(e(196))/9*(-parseInt(e(195))/10)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x3725,935160);function _0xe9dc(h,o){const e=_0x3725();return _0xe9dc=function(i,c){return i=i-177,e[i]},_0xe9dc(h,o)}const SNK={..._0x419f6d,platform_id:"snk",core:_0x3a48d6(190),platform_name:_0x3a48d6(184),short_name:_0x3a48d6(183),theme:{"--color0":_0x3a48d6(187),"--color1":_0x3a48d6(178),"--color3":_0x3a48d6(193),"--color2":"#000000","--font":_0x3a48d6(183),"--cursorwidth":_0x3a48d6(182),"--transform":"none"},shader:[_0x3a48d6(177),"assets/shaders/crt/shaders/crt-geom.glsl"],guessConfig:h=>({}),keyboard_controller_info:{"Cursor Keys":_0x3a48d6(191),Z:_0x3a48d6(181),X:_0x3a48d6(192),A:"Fire C",S:_0x3a48d6(201),"Right Shift":_0x3a48d6(188),Enter:_0x3a48d6(199)},touch_controllers:[JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x3a48d6(189)],fire_buttons:4,button_overrides:{"3countb":4,"2020bb":4,alpham2:3,androdun:2,aodk:4,aof:4,aof2:4,aof3:4,bakatono:4,bjourney:3,blazstar:2,breakers:4,bstars:4,bstars2:4,burningf:3,crsword:2,cyberlip:3,doubledr:4,eightman:3,fatfursp:4,fatfury1:4,fatfury2:4,fatfury3:4,fbfrenzy:4,galaxyfg:4,garou:4,gowcaizr:4,gpilots:2,joyjoy:2,kabukikl:4,karnovr:4,kizuna:4,kof94:4,kof95:4,kof96:4,kof97:4,kof98:4,kof99:4,kof2000:4,kof2001:4,kof2002:4,kof2003:4,kotm:3,kotm2:3,lastblad:4,lastbld2:4,lbowling:1,legendos:2,lresort:2,magdrop2:2,magdrop3:3,maglord:2,mahretsu:2,marukodq:4,matrim:4,minasan:0,mosyougi:0,mslug:3,mslug2:3,mslug3:3,mslug4:4,mslug5:4,mslugx:3,mutnat:2,nam1975:3,ncombat:3,ncommand:3,neocup98:3,ninjamas:4,overtop:2,pulstar:2,quizdai2:4,quizdais:4,quizkof:4,ragnagrd:4,rbff1:4,rbff1a:4,rbff2:4,rbffspec:4,ridhero:3,roboarmy:3,rotd:4,samsh5sp:4,samsho:4,samsho2:4,samsho3:4,samsho4:4,samsho5:4,savagere:4,sengoku:3,sengoku2:4,sengoku3:4,shocktr2:4,socbrawl:2,sonicwi2:2,sonicwi3:2,spinmast:3,ssideki:2,ssideki2:3,ssideki3:3,ssideki4:3,stakwin:2,stakwin2:3,strhoop:2,superspy:3,svc:4,tophuntr:3,tpgolf:4,trally:2,turfmast:3,twinspri:2,viewpoin:2,wakuwak7:4,wh1:3,wh2:3,wh2j:3,whp:4,wjammers:2},additional_buttons:{1:{label:"COIN",keyCode:"select"},2:{label:_0x3a48d6(197),keyCode:"start"}}};function _0x3725(){const h=["SNK","Neo Geo AES / MVS","314724TjNJbs","372gtiouj","#656565","Insert Coin","QUICKSHOT_DYNAMIC","fbalpha2012_neogeo","Joystick movement","Fire B","#71f3f2","2uUqbHm","10Mtwijv","4675284FINGBb","START","1263930xHpzNb","Start","12529128AHgprS","Fire D","18450dOqcpp","assets/shaders/crt/crt-geom.glslp","#c3c3c3","1247895xGmtGN","12177333OSWvqV","Fire A","1em"];return _0x3725=function(){return h},_0x3725()}function _0x26b2(){const h=["0.5em","amiga.kick40063.A600","kick1x","/home/web_user/retroarch/userdata/system/kick40068.A1200","Joy Directions","#A7A7A7","21XzwDVA",".adf","single","561993vvYXSF","kick34005.A500","A600 Kickstart v3.1 rev 40.063","20qFWZTh","698679PoVOan","A500","48hXlbyY","646773759326fbac3b2311fd8c8793ee","A1200 Kickstart v3.1 rev 40.068","Topaz1200","A500 Kickstart v1.3 rev 34.005","Fire","kick40068.A1200","kick3x","e40a5dfb3d017ba8779faba30cbd1c8e","1563290fMlTsV","amiga.kick34005.A500","F14","QUICKJOY_PRIMARY","13726163tgHion","nul","#666666","Commodore Amiga","hires","#ffffff","writeFile","amiga","Amiga","55388rOpMTm","endsWith","QUICKSHOT_DYNAMIC","2242093ZPzpKf","assets/shaders/crt/shaders/crt-geom.glsl","puae","211278Mhfhvg","HIDEAWAY","exact","#000000","12qbworx"];return _0x26b2=function(){return h},_0x26b2()}function _0x2f7c(h,o){const e=_0x26b2();return _0x2f7c=function(i,c){return i=i-124,e[i]},_0x2f7c(h,o)}const _0x4a5116=_0x2f7c;(function(h,o){const e=_0x2f7c,i=h();for(;[];)try{if(-parseInt(e(161))/1+-parseInt(e(147))/2+parseInt(e(158))/3*(-parseInt(e(141))/4)+parseInt(e(128))/5*(-parseInt(e(151))/6)+-parseInt(e(144))/7+-parseInt(e(167))/8*(parseInt(e(165))/9)+-parseInt(e(164))/10*(-parseInt(e(132))/11)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x26b2,319704);const Amiga={..._0x419f6d,not_ready:!![],platform_id:_0x4a5116(139),core:_0x4a5116(146),bios:[_0x4a5116(154),"kick2x",_0x4a5116(126)],platform_name:_0x4a5116(135),short_name:_0x4a5116(140),theme:{"--color0":_0x4a5116(157),"--color1":_0x4a5116(150),"--color2":_0x4a5116(134),"--color3":_0x4a5116(137),"--color4":"#6780ae","--font":_0x4a5116(170),"--cursorwidth":_0x4a5116(152)},startup_beforelaunch:async function(h,o){const e=_0x4a5116,i=h.getEmscriptenFS(),c=await o.getFile(e(129)),f=await o.getFile(e(153)),m=await o.getFile("amiga.kick40068.A1200");i[e(138)]("/home/web_user/retroarch/userdata/system/kick34005.A500",await new Uint8Array(c)),i[e(138)]("/home/web_user/retroarch/userdata/system/kick40063.A600",await new Uint8Array(f)),i[e(138)](e(155),await new Uint8Array(m))},guessConfig:h=>{const o=_0x4a5116;return h[o(142)](o(159))?{puae_model:o(166),puae_kickstart:o(162),puae_video_vresolution:o(160),puae_video_resolution:o(136),puae_cpu_compatibility:o(149),puae_crop_mode:"auto"}:{puae_cpu_compatibility:"exact",puae_video_vresolution:o(160),puae_video_resolution:o(136),puae_crop_mode:"auto"}},shader:["assets/shaders/crt/crt-geom.glslp",_0x4a5116(145)],video_smooth:![],dependencies:[{key:_0x4a5116(162),type:_0x4a5116(171),required:!![],accepted:["82a21c1890cae844b3df741f2762d48d"]},{key:"kick40063.A600",type:_0x4a5116(163),required:!![],accepted:[_0x4a5116(127)]},{key:_0x4a5116(125),type:_0x4a5116(169),required:!![],accepted:[_0x4a5116(168)]}],keyboard_controller_info:{"Cursor Keys":_0x4a5116(156),Z:_0x4a5116(124),Mouse:"Mouse"},touch_controllers:[JOYSTICK_TOUCH_MODE[_0x4a5116(131)],JOYSTICK_TOUCH_MODE[_0x4a5116(143)],JOYSTICK_TOUCH_MODE[_0x4a5116(148)]],mouse_controllers:[MOUSE_TOUCH_MODE.TRACKPAD_BUTTONS],touch_controller_mapping:{input_player1_x:_0x4a5116(133),input_player1_y:_0x4a5116(133),input_player1_c:_0x4a5116(133),input_player1_a:"nul",input_player1_l:"nul",input_player1_r:"nul",input_player1_select:"nul",input_player1_start:"nul",input_player1_l2:"F13",input_player1_r2:_0x4a5116(130),input_player1_b:"F15"},fire_buttons:1,keyboard:{shiftKey:2,overrides:{}},additional_buttons:{},rewind_granularity:25,fastforward_ratio:10},_0x5954cb=_0x1b61;function _0x3199(){const h=["getFile","#E7585B","31720NJQIpX","getEmscriptenFS","1970554obhFdr","#000000","coleco","4138044pnmsYh","Fire Left","Numpad #","Numpad *","Numpad 3","Coleco","6337800AxaMNt","14836bOsbFK","uppercase","colecovision.rom","Numpad 1","1272194SYgZwG","ColecoVision ROM","#F0E59B","Joy directions","0.5em","2c66f5911e5b42b8ebe113403548eee7","assets/shaders/crt/shaders/crt-geom.glsl","7926093kapLhY","/home/web_user/retroarch/userdata/system/","writeFile","/home/web_user/retroarch/userdata/system/colecovision.rom","12996jvqEEd","1044Upqixa","QUICKSHOT_DYNAMIC","mkdirTree","select","#EEEEEE","gearcoleco"];return _0x3199=function(){return h},_0x3199()}(function(h,o){const e=_0x1b61,i=h();for(;[];)try{if(parseInt(e(119))/1+parseInt(e(105))/2+-parseInt(e(131))/3*(-parseInt(e(115))/4)+parseInt(e(114))/5+parseInt(e(108))/6+parseInt(e(126))/7+parseInt(e(103))/8*(-parseInt(e(130))/9)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x3199,912276);function _0x1b61(h,o){const e=_0x3199();return _0x1b61=function(i,c){return i=i-101,e[i]},_0x1b61(h,o)}const Coleco={..._0x419f6d,platform_id:_0x5954cb(107),core:_0x5954cb(136),platform_name:"ColecoVision",short_name:_0x5954cb(113),theme:{"--color0":_0x5954cb(106),"--color1":_0x5954cb(135),"--color3":_0x5954cb(102),"--color2":_0x5954cb(121),"--font":_0x5954cb(113),"--fontsize":"1.2em","--transform":_0x5954cb(116),"--cursorwidth":_0x5954cb(123)},startup_beforelaunch:async function(h,o){const e=_0x5954cb,i=h[e(104)](),c=await o[e(101)]("coleco.colecovision.rom");i[e(133)](e(127)),i[e(128)](e(129),await new Uint8Array(c))},shader:["assets/shaders/crt/crt-geom.glslp",_0x5954cb(125)],keyboard_controller_info:{"Cursor Keys":_0x5954cb(122),Z:_0x5954cb(109),X:"Fire Right",A:_0x5954cb(118),S:"Numpad 2",Q:_0x5954cb(112),"Right Shift":_0x5954cb(110),Enter:_0x5954cb(111)},touch_controllers:[JOYSTICK_TOUCH_MODE.QUICKSHOT_DYNAMIC],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x5954cb(132)],dependencies:[{key:_0x5954cb(117),type:_0x5954cb(120),required:!![],accepted:[_0x5954cb(124)]}],fire_buttons:2,additional_buttons:{3:{label:"1",keyCode:"x"},2:{label:"2",keyCode:"y"},1:{label:"#",keyCode:_0x5954cb(134)}}},_0x1682e0=_0x1473;(function(h,o){const e=_0x1473,i=h();for(;[];)try{if(parseInt(e(470))/1*(-parseInt(e(463))/2)+parseInt(e(478))/3*(parseInt(e(456))/4)+parseInt(e(477))/5+-parseInt(e(472))/6*(-parseInt(e(474))/7)+-parseInt(e(479))/8*(parseInt(e(476))/9)+parseInt(e(460))/10+parseInt(e(450))/11*(-parseInt(e(482))/12)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x1acd,470323);const SNES={..._0x419f6d,platform_id:_0x1682e0(457),core:_0x1682e0(475),platform_name:_0x1682e0(480),short_name:_0x1682e0(471),loader:_0x1682e0(452),theme:{"--color0":_0x1682e0(461),"--color1":"#fdfcff","--color2":_0x1682e0(466),"--color3":_0x1682e0(459),"--font":_0x1682e0(448),"--fontsize":_0x1682e0(455),"--cursorwidth":_0x1682e0(455)},shader:["assets/shaders/crt/crt-geom.glslp",_0x1682e0(462)],keyboard_controller_info:{"Cursor Keys":_0x1682e0(454),Z:_0x1682e0(447),X:_0x1682e0(467),A:_0x1682e0(451),S:_0x1682e0(481),Q:_0x1682e0(464),W:"Button R","Right Shift":_0x1682e0(469),Enter:_0x1682e0(458)},touch_controllers:[JOYSTICK_TOUCH_MODE[_0x1682e0(449)]],default_touch_controller:JOYSTICK_TOUCH_MODE[_0x1682e0(449)],fire_buttons:6,additional_buttons:{1:{label:_0x1682e0(465),keyCode:_0x1682e0(468)},2:{label:_0x1682e0(453),keyCode:_0x1682e0(473)}}};function _0x1473(h,o){const e=_0x1acd();return _0x1473=function(i,c){return i=i-447,e[i]},_0x1473(h,o)}function _0x1acd(){const h=["1em","1658516wVkxvb","snes","Start","#e17f30","2587170uJxDzP","#3c246d","assets/shaders/crt/shaders/crt-geom.glsl","182710NqOrZi","Button L","SELECT","#be321c","Button A","select","Select","1VexvGp","SNES","773088EuMeko","start","21WSOWQh","snes9x","1464381nStBft","296695eglARg","6averhL","8IIKimR","Super Nintendo Entertainment System","Button X","12LKrdAl","Button B","NES","QUICKSHOT_DYNAMIC","8904181NXyRAN","Button Y","unzip","START","D-PAD"];return _0x1acd=function(){return h},_0x1acd()}var jszip_min={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(h,o){(function(e){h.exports=e()})(function(){return function e(i,c,f){function m(Ie,Oe){if(!c[Ie]){if(!i[Ie]){var ne=typeof commonjsRequire=="function"&&commonjsRequire;if(!Oe&&ne)return ne(Ie,!0);if(g)return g(Ie,!0);var De=new Error("Cannot find module '"+Ie+"'");throw De.code="MODULE_NOT_FOUND",De}var Ee=c[Ie]={exports:{}};i[Ie][0].call(Ee.exports,function(Be){var Fe=i[Ie][1][Be];return m(Fe||Be)},Ee,Ee.exports,e,i,c,f)}return c[Ie].exports}for(var g=typeof commonjsRequire=="function"&&commonjsRequire,Te=0;Te<f.length;Te++)m(f[Te]);return m}({1:[function(e,i,c){var f=e("./utils"),m=e("./support"),g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";c.encode=function(Te){for(var Ie,Oe,ne,De,Ee,Be,Fe,Ne=[],Ve=0,Ue=Te.length,We=Ue,He=f.getTypeOf(Te)!=="string";Ve<Te.length;)We=Ue-Ve,ne=He?(Ie=Te[Ve++],Oe=Ve<Ue?Te[Ve++]:0,Ve<Ue?Te[Ve++]:0):(Ie=Te.charCodeAt(Ve++),Oe=Ve<Ue?Te.charCodeAt(Ve++):0,Ve<Ue?Te.charCodeAt(Ve++):0),De=Ie>>2,Ee=(3&Ie)<<4|Oe>>4,Be=1<We?(15&Oe)<<2|ne>>6:64,Fe=2<We?63&ne:64,Ne.push(g.charAt(De)+g.charAt(Ee)+g.charAt(Be)+g.charAt(Fe));return Ne.join("")},c.decode=function(Te){var Ie,Oe,ne,De,Ee,Be,Fe=0,Ne=0,Ve="data:";if(Te.substr(0,Ve.length)===Ve)throw new Error("Invalid base64 input, it looks like a data url.");var Ue,We=3*(Te=Te.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(Te.charAt(Te.length-1)===g.charAt(64)&&We--,Te.charAt(Te.length-2)===g.charAt(64)&&We--,We%1!=0)throw new Error("Invalid base64 input, bad content length.");for(Ue=m.uint8array?new Uint8Array(0|We):new Array(0|We);Fe<Te.length;)Ie=g.indexOf(Te.charAt(Fe++))<<2|(De=g.indexOf(Te.charAt(Fe++)))>>4,Oe=(15&De)<<4|(Ee=g.indexOf(Te.charAt(Fe++)))>>2,ne=(3&Ee)<<6|(Be=g.indexOf(Te.charAt(Fe++))),Ue[Ne++]=Ie,Ee!==64&&(Ue[Ne++]=Oe),Be!==64&&(Ue[Ne++]=ne);return Ue}},{"./support":30,"./utils":32}],2:[function(e,i,c){var f=e("./external"),m=e("./stream/DataWorker"),g=e("./stream/Crc32Probe"),Te=e("./stream/DataLengthProbe");function Ie(Oe,ne,De,Ee,Be){this.compressedSize=Oe,this.uncompressedSize=ne,this.crc32=De,this.compression=Ee,this.compressedContent=Be}Ie.prototype={getContentWorker:function(){var Oe=new m(f.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new Te("data_length")),ne=this;return Oe.on("end",function(){if(this.streamInfo.data_length!==ne.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),Oe},getCompressedWorker:function(){return new m(f.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},Ie.createWorkerFrom=function(Oe,ne,De){return Oe.pipe(new g).pipe(new Te("uncompressedSize")).pipe(ne.compressWorker(De)).pipe(new Te("compressedSize")).withStreamInfo("compression",ne)},i.exports=Ie},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,i,c){var f=e("./stream/GenericWorker");c.STORE={magic:"\0\0",compressWorker:function(){return new f("STORE compression")},uncompressWorker:function(){return new f("STORE decompression")}},c.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,i,c){var f=e("./utils"),m=function(){for(var g,Te=[],Ie=0;Ie<256;Ie++){g=Ie;for(var Oe=0;Oe<8;Oe++)g=1&g?3988292384^g>>>1:g>>>1;Te[Ie]=g}return Te}();i.exports=function(g,Te){return g!==void 0&&g.length?f.getTypeOf(g)!=="string"?function(Ie,Oe,ne,De){var Ee=m,Be=De+ne;Ie^=-1;for(var Fe=De;Fe<Be;Fe++)Ie=Ie>>>8^Ee[255&(Ie^Oe[Fe])];return-1^Ie}(0|Te,g,g.length,0):function(Ie,Oe,ne,De){var Ee=m,Be=De+ne;Ie^=-1;for(var Fe=De;Fe<Be;Fe++)Ie=Ie>>>8^Ee[255&(Ie^Oe.charCodeAt(Fe))];return-1^Ie}(0|Te,g,g.length,0):0}},{"./utils":32}],5:[function(e,i,c){c.base64=!1,c.binary=!1,c.dir=!1,c.createFolders=!0,c.date=null,c.compression=null,c.compressionOptions=null,c.comment=null,c.unixPermissions=null,c.dosPermissions=null},{}],6:[function(e,i,c){var f=null;f=typeof Promise<"u"?Promise:e("lie"),i.exports={Promise:f}},{lie:37}],7:[function(e,i,c){var f=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",m=e("pako"),g=e("./utils"),Te=e("./stream/GenericWorker"),Ie=f?"uint8array":"array";function Oe(ne,De){Te.call(this,"FlateWorker/"+ne),this._pako=null,this._pakoAction=ne,this._pakoOptions=De,this.meta={}}c.magic="\b\0",g.inherits(Oe,Te),Oe.prototype.processChunk=function(ne){this.meta=ne.meta,this._pako===null&&this._createPako(),this._pako.push(g.transformTo(Ie,ne.data),!1)},Oe.prototype.flush=function(){Te.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},Oe.prototype.cleanUp=function(){Te.prototype.cleanUp.call(this),this._pako=null},Oe.prototype._createPako=function(){this._pako=new m[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var ne=this;this._pako.onData=function(De){ne.push({data:De,meta:ne.meta})}},c.compressWorker=function(ne){return new Oe("Deflate",ne)},c.uncompressWorker=function(){return new Oe("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,i,c){function f(Ee,Be){var Fe,Ne="";for(Fe=0;Fe<Be;Fe++)Ne+=String.fromCharCode(255&Ee),Ee>>>=8;return Ne}function m(Ee,Be,Fe,Ne,Ve,Ue){var We,He,Xe=Ee.file,ot=Ee.compression,tt=Ue!==Ie.utf8encode,gt=g.transformTo("string",Ue(Xe.name)),vt=g.transformTo("string",Ie.utf8encode(Xe.name)),rt=Xe.comment,ht=g.transformTo("string",Ue(rt)),it=g.transformTo("string",Ie.utf8encode(rt)),mt=vt.length!==Xe.name.length,Ze=it.length!==rt.length,Ft="",Zt="",jt="",cr=Xe.dir,bt=Xe.date,St={crc32:0,compressedSize:0,uncompressedSize:0};Be&&!Fe||(St.crc32=Ee.crc32,St.compressedSize=Ee.compressedSize,St.uncompressedSize=Ee.uncompressedSize);var ct=0;Be&&(ct|=8),tt||!mt&&!Ze||(ct|=2048);var dt=0,Pt=0;cr&&(dt|=16),Ve==="UNIX"?(Pt=798,dt|=function(Kt,fr){var Rr=Kt;return Kt||(Rr=fr?16893:33204),(65535&Rr)<<16}(Xe.unixPermissions,cr)):(Pt=20,dt|=function(Kt){return 63&(Kt||0)}(Xe.dosPermissions)),We=bt.getUTCHours(),We<<=6,We|=bt.getUTCMinutes(),We<<=5,We|=bt.getUTCSeconds()/2,He=bt.getUTCFullYear()-1980,He<<=4,He|=bt.getUTCMonth()+1,He<<=5,He|=bt.getUTCDate(),mt&&(Zt=f(1,1)+f(Oe(gt),4)+vt,Ft+="up"+f(Zt.length,2)+Zt),Ze&&(jt=f(1,1)+f(Oe(ht),4)+it,Ft+="uc"+f(jt.length,2)+jt);var Ct="";return Ct+=`
\0`,Ct+=f(ct,2),Ct+=ot.magic,Ct+=f(We,2),Ct+=f(He,2),Ct+=f(St.crc32,4),Ct+=f(St.compressedSize,4),Ct+=f(St.uncompressedSize,4),Ct+=f(gt.length,2),Ct+=f(Ft.length,2),{fileRecord:ne.LOCAL_FILE_HEADER+Ct+gt+Ft,dirRecord:ne.CENTRAL_FILE_HEADER+f(Pt,2)+Ct+f(ht.length,2)+"\0\0\0\0"+f(dt,4)+f(Ne,4)+gt+Ft+ht}}var g=e("../utils"),Te=e("../stream/GenericWorker"),Ie=e("../utf8"),Oe=e("../crc32"),ne=e("../signature");function De(Ee,Be,Fe,Ne){Te.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=Be,this.zipPlatform=Fe,this.encodeFileName=Ne,this.streamFiles=Ee,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}g.inherits(De,Te),De.prototype.push=function(Ee){var Be=Ee.meta.percent||0,Fe=this.entriesCount,Ne=this._sources.length;this.accumulate?this.contentBuffer.push(Ee):(this.bytesWritten+=Ee.data.length,Te.prototype.push.call(this,{data:Ee.data,meta:{currentFile:this.currentFile,percent:Fe?(Be+100*(Fe-Ne-1))/Fe:100}}))},De.prototype.openedSource=function(Ee){this.currentSourceOffset=this.bytesWritten,this.currentFile=Ee.file.name;var Be=this.streamFiles&&!Ee.file.dir;if(Be){var Fe=m(Ee,Be,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:Fe.fileRecord,meta:{percent:0}})}else this.accumulate=!0},De.prototype.closedSource=function(Ee){this.accumulate=!1;var Be=this.streamFiles&&!Ee.file.dir,Fe=m(Ee,Be,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(Fe.dirRecord),Be)this.push({data:function(Ne){return ne.DATA_DESCRIPTOR+f(Ne.crc32,4)+f(Ne.compressedSize,4)+f(Ne.uncompressedSize,4)}(Ee),meta:{percent:100}});else for(this.push({data:Fe.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},De.prototype.flush=function(){for(var Ee=this.bytesWritten,Be=0;Be<this.dirRecords.length;Be++)this.push({data:this.dirRecords[Be],meta:{percent:100}});var Fe=this.bytesWritten-Ee,Ne=function(Ve,Ue,We,He,Xe){var ot=g.transformTo("string",Xe(He));return ne.CENTRAL_DIRECTORY_END+"\0\0\0\0"+f(Ve,2)+f(Ve,2)+f(Ue,4)+f(We,4)+f(ot.length,2)+ot}(this.dirRecords.length,Fe,Ee,this.zipComment,this.encodeFileName);this.push({data:Ne,meta:{percent:100}})},De.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},De.prototype.registerPrevious=function(Ee){this._sources.push(Ee);var Be=this;return Ee.on("data",function(Fe){Be.processChunk(Fe)}),Ee.on("end",function(){Be.closedSource(Be.previous.streamInfo),Be._sources.length?Be.prepareNextSource():Be.end()}),Ee.on("error",function(Fe){Be.error(Fe)}),this},De.prototype.resume=function(){return!!Te.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},De.prototype.error=function(Ee){var Be=this._sources;if(!Te.prototype.error.call(this,Ee))return!1;for(var Fe=0;Fe<Be.length;Fe++)try{Be[Fe].error(Ee)}catch{}return!0},De.prototype.lock=function(){Te.prototype.lock.call(this);for(var Ee=this._sources,Be=0;Be<Ee.length;Be++)Ee[Be].lock()},i.exports=De},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,i,c){var f=e("../compressions"),m=e("./ZipFileWorker");c.generateWorker=function(g,Te,Ie){var Oe=new m(Te.streamFiles,Ie,Te.platform,Te.encodeFileName),ne=0;try{g.forEach(function(De,Ee){ne++;var Be=function(Ue,We){var He=Ue||We,Xe=f[He];if(!Xe)throw new Error(He+" is not a valid compression method !");return Xe}(Ee.options.compression,Te.compression),Fe=Ee.options.compressionOptions||Te.compressionOptions||{},Ne=Ee.dir,Ve=Ee.date;Ee._compressWorker(Be,Fe).withStreamInfo("file",{name:De,dir:Ne,date:Ve,comment:Ee.comment||"",unixPermissions:Ee.unixPermissions,dosPermissions:Ee.dosPermissions}).pipe(Oe)}),Oe.entriesCount=ne}catch(De){Oe.error(De)}return Oe}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,i,c){function f(){if(!(this instanceof f))return new f;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var m=new f;for(var g in this)typeof this[g]!="function"&&(m[g]=this[g]);return m}}(f.prototype=e("./object")).loadAsync=e("./load"),f.support=e("./support"),f.defaults=e("./defaults"),f.version="3.10.1",f.loadAsync=function(m,g){return new f().loadAsync(m,g)},f.external=e("./external"),i.exports=f},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,i,c){var f=e("./utils"),m=e("./external"),g=e("./utf8"),Te=e("./zipEntries"),Ie=e("./stream/Crc32Probe"),Oe=e("./nodejsUtils");function ne(De){return new m.Promise(function(Ee,Be){var Fe=De.decompressed.getContentWorker().pipe(new Ie);Fe.on("error",function(Ne){Be(Ne)}).on("end",function(){Fe.streamInfo.crc32!==De.decompressed.crc32?Be(new Error("Corrupted zip : CRC32 mismatch")):Ee()}).resume()})}i.exports=function(De,Ee){var Be=this;return Ee=f.extend(Ee||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:g.utf8decode}),Oe.isNode&&Oe.isStream(De)?m.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):f.prepareContent("the loaded zip file",De,!0,Ee.optimizedBinaryString,Ee.base64).then(function(Fe){var Ne=new Te(Ee);return Ne.load(Fe),Ne}).then(function(Fe){var Ne=[m.Promise.resolve(Fe)],Ve=Fe.files;if(Ee.checkCRC32)for(var Ue=0;Ue<Ve.length;Ue++)Ne.push(ne(Ve[Ue]));return m.Promise.all(Ne)}).then(function(Fe){for(var Ne=Fe.shift(),Ve=Ne.files,Ue=0;Ue<Ve.length;Ue++){var We=Ve[Ue],He=We.fileNameStr,Xe=f.resolve(We.fileNameStr);Be.file(Xe,We.decompressed,{binary:!0,optimizedBinaryString:!0,date:We.date,dir:We.dir,comment:We.fileCommentStr.length?We.fileCommentStr:null,unixPermissions:We.unixPermissions,dosPermissions:We.dosPermissions,createFolders:Ee.createFolders}),We.dir||(Be.file(Xe).unsafeOriginalName=He)}return Ne.zipComment.length&&(Be.comment=Ne.zipComment),Be})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,i,c){var f=e("../utils"),m=e("../stream/GenericWorker");function g(Te,Ie){m.call(this,"Nodejs stream input adapter for "+Te),this._upstreamEnded=!1,this._bindStream(Ie)}f.inherits(g,m),g.prototype._bindStream=function(Te){var Ie=this;(this._stream=Te).pause(),Te.on("data",function(Oe){Ie.push({data:Oe,meta:{percent:0}})}).on("error",function(Oe){Ie.isPaused?this.generatedError=Oe:Ie.error(Oe)}).on("end",function(){Ie.isPaused?Ie._upstreamEnded=!0:Ie.end()})},g.prototype.pause=function(){return!!m.prototype.pause.call(this)&&(this._stream.pause(),!0)},g.prototype.resume=function(){return!!m.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},i.exports=g},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,i,c){var f=e("readable-stream").Readable;function m(g,Te,Ie){f.call(this,Te),this._helper=g;var Oe=this;g.on("data",function(ne,De){Oe.push(ne)||Oe._helper.pause(),Ie&&Ie(De)}).on("error",function(ne){Oe.emit("error",ne)}).on("end",function(){Oe.push(null)})}e("../utils").inherits(m,f),m.prototype._read=function(){this._helper.resume()},i.exports=m},{"../utils":32,"readable-stream":16}],14:[function(e,i,c){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(f,m){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(f,m);if(typeof f=="number")throw new Error('The "data" argument must not be a number');return new Buffer(f,m)},allocBuffer:function(f){if(Buffer.alloc)return Buffer.alloc(f);var m=new Buffer(f);return m.fill(0),m},isBuffer:function(f){return Buffer.isBuffer(f)},isStream:function(f){return f&&typeof f.on=="function"&&typeof f.pause=="function"&&typeof f.resume=="function"}}},{}],15:[function(e,i,c){function f(Xe,ot,tt){var gt,vt=g.getTypeOf(ot),rt=g.extend(tt||{},Oe);rt.date=rt.date||new Date,rt.compression!==null&&(rt.compression=rt.compression.toUpperCase()),typeof rt.unixPermissions=="string"&&(rt.unixPermissions=parseInt(rt.unixPermissions,8)),rt.unixPermissions&&16384&rt.unixPermissions&&(rt.dir=!0),rt.dosPermissions&&16&rt.dosPermissions&&(rt.dir=!0),rt.dir&&(Xe=Ve(Xe)),rt.createFolders&&(gt=Ne(Xe))&&Ue.call(this,gt,!0);var ht=vt==="string"&&rt.binary===!1&&rt.base64===!1;tt&&tt.binary!==void 0||(rt.binary=!ht),(ot instanceof ne&&ot.uncompressedSize===0||rt.dir||!ot||ot.length===0)&&(rt.base64=!1,rt.binary=!0,ot="",rt.compression="STORE",vt="string");var it=null;it=ot instanceof ne||ot instanceof Te?ot:Be.isNode&&Be.isStream(ot)?new Fe(Xe,ot):g.prepareContent(Xe,ot,rt.binary,rt.optimizedBinaryString,rt.base64);var mt=new De(Xe,it,rt);this.files[Xe]=mt}var m=e("./utf8"),g=e("./utils"),Te=e("./stream/GenericWorker"),Ie=e("./stream/StreamHelper"),Oe=e("./defaults"),ne=e("./compressedObject"),De=e("./zipObject"),Ee=e("./generate"),Be=e("./nodejsUtils"),Fe=e("./nodejs/NodejsStreamInputAdapter"),Ne=function(Xe){Xe.slice(-1)==="/"&&(Xe=Xe.substring(0,Xe.length-1));var ot=Xe.lastIndexOf("/");return 0<ot?Xe.substring(0,ot):""},Ve=function(Xe){return Xe.slice(-1)!=="/"&&(Xe+="/"),Xe},Ue=function(Xe,ot){return ot=ot!==void 0?ot:Oe.createFolders,Xe=Ve(Xe),this.files[Xe]||f.call(this,Xe,null,{dir:!0,createFolders:ot}),this.files[Xe]};function We(Xe){return Object.prototype.toString.call(Xe)==="[object RegExp]"}var He={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(Xe){var ot,tt,gt;for(ot in this.files)gt=this.files[ot],(tt=ot.slice(this.root.length,ot.length))&&ot.slice(0,this.root.length)===this.root&&Xe(tt,gt)},filter:function(Xe){var ot=[];return this.forEach(function(tt,gt){Xe(tt,gt)&&ot.push(gt)}),ot},file:function(Xe,ot,tt){if(arguments.length!==1)return Xe=this.root+Xe,f.call(this,Xe,ot,tt),this;if(We(Xe)){var gt=Xe;return this.filter(function(rt,ht){return!ht.dir&&gt.test(rt)})}var vt=this.files[this.root+Xe];return vt&&!vt.dir?vt:null},folder:function(Xe){if(!Xe)return this;if(We(Xe))return this.filter(function(vt,rt){return rt.dir&&Xe.test(vt)});var ot=this.root+Xe,tt=Ue.call(this,ot),gt=this.clone();return gt.root=tt.name,gt},remove:function(Xe){Xe=this.root+Xe;var ot=this.files[Xe];if(ot||(Xe.slice(-1)!=="/"&&(Xe+="/"),ot=this.files[Xe]),ot&&!ot.dir)delete this.files[Xe];else for(var tt=this.filter(function(vt,rt){return rt.name.slice(0,Xe.length)===Xe}),gt=0;gt<tt.length;gt++)delete this.files[tt[gt].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(Xe){var ot,tt={};try{if((tt=g.extend(Xe||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:m.utf8encode})).type=tt.type.toLowerCase(),tt.compression=tt.compression.toUpperCase(),tt.type==="binarystring"&&(tt.type="string"),!tt.type)throw new Error("No output type specified.");g.checkSupport(tt.type),tt.platform!=="darwin"&&tt.platform!=="freebsd"&&tt.platform!=="linux"&&tt.platform!=="sunos"||(tt.platform="UNIX"),tt.platform==="win32"&&(tt.platform="DOS");var gt=tt.comment||this.comment||"";ot=Ee.generateWorker(this,tt,gt)}catch(vt){(ot=new Te("error")).error(vt)}return new Ie(ot,tt.type||"string",tt.mimeType)},generateAsync:function(Xe,ot){return this.generateInternalStream(Xe).accumulate(ot)},generateNodeStream:function(Xe,ot){return(Xe=Xe||{}).type||(Xe.type="nodebuffer"),this.generateInternalStream(Xe).toNodejsStream(ot)}};i.exports=He},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,i,c){i.exports=e("stream")},{stream:void 0}],17:[function(e,i,c){var f=e("./DataReader");function m(g){f.call(this,g);for(var Te=0;Te<this.data.length;Te++)g[Te]=255&g[Te]}e("../utils").inherits(m,f),m.prototype.byteAt=function(g){return this.data[this.zero+g]},m.prototype.lastIndexOfSignature=function(g){for(var Te=g.charCodeAt(0),Ie=g.charCodeAt(1),Oe=g.charCodeAt(2),ne=g.charCodeAt(3),De=this.length-4;0<=De;--De)if(this.data[De]===Te&&this.data[De+1]===Ie&&this.data[De+2]===Oe&&this.data[De+3]===ne)return De-this.zero;return-1},m.prototype.readAndCheckSignature=function(g){var Te=g.charCodeAt(0),Ie=g.charCodeAt(1),Oe=g.charCodeAt(2),ne=g.charCodeAt(3),De=this.readData(4);return Te===De[0]&&Ie===De[1]&&Oe===De[2]&&ne===De[3]},m.prototype.readData=function(g){if(this.checkOffset(g),g===0)return[];var Te=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,Te},i.exports=m},{"../utils":32,"./DataReader":18}],18:[function(e,i,c){var f=e("../utils");function m(g){this.data=g,this.length=g.length,this.index=0,this.zero=0}m.prototype={checkOffset:function(g){this.checkIndex(this.index+g)},checkIndex:function(g){if(this.length<this.zero+g||g<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+g+"). Corrupted zip ?")},setIndex:function(g){this.checkIndex(g),this.index=g},skip:function(g){this.setIndex(this.index+g)},byteAt:function(){},readInt:function(g){var Te,Ie=0;for(this.checkOffset(g),Te=this.index+g-1;Te>=this.index;Te--)Ie=(Ie<<8)+this.byteAt(Te);return this.index+=g,Ie},readString:function(g){return f.transformTo("string",this.readData(g))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var g=this.readInt(4);return new Date(Date.UTC(1980+(g>>25&127),(g>>21&15)-1,g>>16&31,g>>11&31,g>>5&63,(31&g)<<1))}},i.exports=m},{"../utils":32}],19:[function(e,i,c){var f=e("./Uint8ArrayReader");function m(g){f.call(this,g)}e("../utils").inherits(m,f),m.prototype.readData=function(g){this.checkOffset(g);var Te=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,Te},i.exports=m},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,i,c){var f=e("./DataReader");function m(g){f.call(this,g)}e("../utils").inherits(m,f),m.prototype.byteAt=function(g){return this.data.charCodeAt(this.zero+g)},m.prototype.lastIndexOfSignature=function(g){return this.data.lastIndexOf(g)-this.zero},m.prototype.readAndCheckSignature=function(g){return g===this.readData(4)},m.prototype.readData=function(g){this.checkOffset(g);var Te=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,Te},i.exports=m},{"../utils":32,"./DataReader":18}],21:[function(e,i,c){var f=e("./ArrayReader");function m(g){f.call(this,g)}e("../utils").inherits(m,f),m.prototype.readData=function(g){if(this.checkOffset(g),g===0)return new Uint8Array(0);var Te=this.data.subarray(this.zero+this.index,this.zero+this.index+g);return this.index+=g,Te},i.exports=m},{"../utils":32,"./ArrayReader":17}],22:[function(e,i,c){var f=e("../utils"),m=e("../support"),g=e("./ArrayReader"),Te=e("./StringReader"),Ie=e("./NodeBufferReader"),Oe=e("./Uint8ArrayReader");i.exports=function(ne){var De=f.getTypeOf(ne);return f.checkSupport(De),De!=="string"||m.uint8array?De==="nodebuffer"?new Ie(ne):m.uint8array?new Oe(f.transformTo("uint8array",ne)):new g(f.transformTo("array",ne)):new Te(ne)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,i,c){c.LOCAL_FILE_HEADER="PK",c.CENTRAL_FILE_HEADER="PK",c.CENTRAL_DIRECTORY_END="PK",c.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",c.ZIP64_CENTRAL_DIRECTORY_END="PK",c.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,i,c){var f=e("./GenericWorker"),m=e("../utils");function g(Te){f.call(this,"ConvertWorker to "+Te),this.destType=Te}m.inherits(g,f),g.prototype.processChunk=function(Te){this.push({data:m.transformTo(this.destType,Te.data),meta:Te.meta})},i.exports=g},{"../utils":32,"./GenericWorker":28}],25:[function(e,i,c){var f=e("./GenericWorker"),m=e("../crc32");function g(){f.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(g,f),g.prototype.processChunk=function(Te){this.streamInfo.crc32=m(Te.data,this.streamInfo.crc32||0),this.push(Te)},i.exports=g},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,i,c){var f=e("../utils"),m=e("./GenericWorker");function g(Te){m.call(this,"DataLengthProbe for "+Te),this.propName=Te,this.withStreamInfo(Te,0)}f.inherits(g,m),g.prototype.processChunk=function(Te){if(Te){var Ie=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=Ie+Te.data.length}m.prototype.processChunk.call(this,Te)},i.exports=g},{"../utils":32,"./GenericWorker":28}],27:[function(e,i,c){var f=e("../utils"),m=e("./GenericWorker");function g(Te){m.call(this,"DataWorker");var Ie=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,Te.then(function(Oe){Ie.dataIsReady=!0,Ie.data=Oe,Ie.max=Oe&&Oe.length||0,Ie.type=f.getTypeOf(Oe),Ie.isPaused||Ie._tickAndRepeat()},function(Oe){Ie.error(Oe)})}f.inherits(g,m),g.prototype.cleanUp=function(){m.prototype.cleanUp.call(this),this.data=null},g.prototype.resume=function(){return!!m.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,f.delay(this._tickAndRepeat,[],this)),!0)},g.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(f.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},g.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var Te=null,Ie=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":Te=this.data.substring(this.index,Ie);break;case"uint8array":Te=this.data.subarray(this.index,Ie);break;case"array":case"nodebuffer":Te=this.data.slice(this.index,Ie)}return this.index=Ie,this.push({data:Te,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=g},{"../utils":32,"./GenericWorker":28}],28:[function(e,i,c){function f(m){this.name=m||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}f.prototype={push:function(m){this.emit("data",m)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(m){this.emit("error",m)}return!0},error:function(m){return!this.isFinished&&(this.isPaused?this.generatedError=m:(this.isFinished=!0,this.emit("error",m),this.previous&&this.previous.error(m),this.cleanUp()),!0)},on:function(m,g){return this._listeners[m].push(g),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(m,g){if(this._listeners[m])for(var Te=0;Te<this._listeners[m].length;Te++)this._listeners[m][Te].call(this,g)},pipe:function(m){return m.registerPrevious(this)},registerPrevious:function(m){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=m.streamInfo,this.mergeStreamInfo(),this.previous=m;var g=this;return m.on("data",function(Te){g.processChunk(Te)}),m.on("end",function(){g.end()}),m.on("error",function(Te){g.error(Te)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var m=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),m=!0),this.previous&&this.previous.resume(),!m},flush:function(){},processChunk:function(m){this.push(m)},withStreamInfo:function(m,g){return this.extraStreamInfo[m]=g,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var m in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,m)&&(this.streamInfo[m]=this.extraStreamInfo[m])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var m="Worker "+this.name;return this.previous?this.previous+" -> "+m:m}},i.exports=f},{}],29:[function(e,i,c){var f=e("../utils"),m=e("./ConvertWorker"),g=e("./GenericWorker"),Te=e("../base64"),Ie=e("../support"),Oe=e("../external"),ne=null;if(Ie.nodestream)try{ne=e("../nodejs/NodejsStreamOutputAdapter")}catch{}function De(Be,Fe){return new Oe.Promise(function(Ne,Ve){var Ue=[],We=Be._internalType,He=Be._outputType,Xe=Be._mimeType;Be.on("data",function(ot,tt){Ue.push(ot),Fe&&Fe(tt)}).on("error",function(ot){Ue=[],Ve(ot)}).on("end",function(){try{var ot=function(tt,gt,vt){switch(tt){case"blob":return f.newBlob(f.transformTo("arraybuffer",gt),vt);case"base64":return Te.encode(gt);default:return f.transformTo(tt,gt)}}(He,function(tt,gt){var vt,rt=0,ht=null,it=0;for(vt=0;vt<gt.length;vt++)it+=gt[vt].length;switch(tt){case"string":return gt.join("");case"array":return Array.prototype.concat.apply([],gt);case"uint8array":for(ht=new Uint8Array(it),vt=0;vt<gt.length;vt++)ht.set(gt[vt],rt),rt+=gt[vt].length;return ht;case"nodebuffer":return Buffer.concat(gt);default:throw new Error("concat : unsupported type '"+tt+"'")}}(We,Ue),Xe);Ne(ot)}catch(tt){Ve(tt)}Ue=[]}).resume()})}function Ee(Be,Fe,Ne){var Ve=Fe;switch(Fe){case"blob":case"arraybuffer":Ve="uint8array";break;case"base64":Ve="string"}try{this._internalType=Ve,this._outputType=Fe,this._mimeType=Ne,f.checkSupport(Ve),this._worker=Be.pipe(new m(Ve)),Be.lock()}catch(Ue){this._worker=new g("error"),this._worker.error(Ue)}}Ee.prototype={accumulate:function(Be){return De(this,Be)},on:function(Be,Fe){var Ne=this;return Be==="data"?this._worker.on(Be,function(Ve){Fe.call(Ne,Ve.data,Ve.meta)}):this._worker.on(Be,function(){f.delay(Fe,arguments,Ne)}),this},resume:function(){return f.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(Be){if(f.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new ne(this,{objectMode:this._outputType!=="nodebuffer"},Be)}},i.exports=Ee},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,i,c){if(c.base64=!0,c.array=!0,c.string=!0,c.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",c.nodebuffer=typeof Buffer<"u",c.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")c.blob=!1;else{var f=new ArrayBuffer(0);try{c.blob=new Blob([f],{type:"application/zip"}).size===0}catch{try{var m=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);m.append(f),c.blob=m.getBlob("application/zip").size===0}catch{c.blob=!1}}}try{c.nodestream=!!e("readable-stream").Readable}catch{c.nodestream=!1}},{"readable-stream":16}],31:[function(e,i,c){for(var f=e("./utils"),m=e("./support"),g=e("./nodejsUtils"),Te=e("./stream/GenericWorker"),Ie=new Array(256),Oe=0;Oe<256;Oe++)Ie[Oe]=252<=Oe?6:248<=Oe?5:240<=Oe?4:224<=Oe?3:192<=Oe?2:1;Ie[254]=Ie[254]=1;function ne(){Te.call(this,"utf-8 decode"),this.leftOver=null}function De(){Te.call(this,"utf-8 encode")}c.utf8encode=function(Ee){return m.nodebuffer?g.newBufferFrom(Ee,"utf-8"):function(Be){var Fe,Ne,Ve,Ue,We,He=Be.length,Xe=0;for(Ue=0;Ue<He;Ue++)(64512&(Ne=Be.charCodeAt(Ue)))==55296&&Ue+1<He&&(64512&(Ve=Be.charCodeAt(Ue+1)))==56320&&(Ne=65536+(Ne-55296<<10)+(Ve-56320),Ue++),Xe+=Ne<128?1:Ne<2048?2:Ne<65536?3:4;for(Fe=m.uint8array?new Uint8Array(Xe):new Array(Xe),Ue=We=0;We<Xe;Ue++)(64512&(Ne=Be.charCodeAt(Ue)))==55296&&Ue+1<He&&(64512&(Ve=Be.charCodeAt(Ue+1)))==56320&&(Ne=65536+(Ne-55296<<10)+(Ve-56320),Ue++),Ne<128?Fe[We++]=Ne:(Ne<2048?Fe[We++]=192|Ne>>>6:(Ne<65536?Fe[We++]=224|Ne>>>12:(Fe[We++]=240|Ne>>>18,Fe[We++]=128|Ne>>>12&63),Fe[We++]=128|Ne>>>6&63),Fe[We++]=128|63&Ne);return Fe}(Ee)},c.utf8decode=function(Ee){return m.nodebuffer?f.transformTo("nodebuffer",Ee).toString("utf-8"):function(Be){var Fe,Ne,Ve,Ue,We=Be.length,He=new Array(2*We);for(Fe=Ne=0;Fe<We;)if((Ve=Be[Fe++])<128)He[Ne++]=Ve;else if(4<(Ue=Ie[Ve]))He[Ne++]=65533,Fe+=Ue-1;else{for(Ve&=Ue===2?31:Ue===3?15:7;1<Ue&&Fe<We;)Ve=Ve<<6|63&Be[Fe++],Ue--;1<Ue?He[Ne++]=65533:Ve<65536?He[Ne++]=Ve:(Ve-=65536,He[Ne++]=55296|Ve>>10&1023,He[Ne++]=56320|1023&Ve)}return He.length!==Ne&&(He.subarray?He=He.subarray(0,Ne):He.length=Ne),f.applyFromCharCode(He)}(Ee=f.transformTo(m.uint8array?"uint8array":"array",Ee))},f.inherits(ne,Te),ne.prototype.processChunk=function(Ee){var Be=f.transformTo(m.uint8array?"uint8array":"array",Ee.data);if(this.leftOver&&this.leftOver.length){if(m.uint8array){var Fe=Be;(Be=new Uint8Array(Fe.length+this.leftOver.length)).set(this.leftOver,0),Be.set(Fe,this.leftOver.length)}else Be=this.leftOver.concat(Be);this.leftOver=null}var Ne=function(Ue,We){var He;for((We=We||Ue.length)>Ue.length&&(We=Ue.length),He=We-1;0<=He&&(192&Ue[He])==128;)He--;return He<0||He===0?We:He+Ie[Ue[He]]>We?He:We}(Be),Ve=Be;Ne!==Be.length&&(m.uint8array?(Ve=Be.subarray(0,Ne),this.leftOver=Be.subarray(Ne,Be.length)):(Ve=Be.slice(0,Ne),this.leftOver=Be.slice(Ne,Be.length))),this.push({data:c.utf8decode(Ve),meta:Ee.meta})},ne.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:c.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},c.Utf8DecodeWorker=ne,f.inherits(De,Te),De.prototype.processChunk=function(Ee){this.push({data:c.utf8encode(Ee.data),meta:Ee.meta})},c.Utf8EncodeWorker=De},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,i,c){var f=e("./support"),m=e("./base64"),g=e("./nodejsUtils"),Te=e("./external");function Ie(Fe){return Fe}function Oe(Fe,Ne){for(var Ve=0;Ve<Fe.length;++Ve)Ne[Ve]=255&Fe.charCodeAt(Ve);return Ne}e("setimmediate"),c.newBlob=function(Fe,Ne){c.checkSupport("blob");try{return new Blob([Fe],{type:Ne})}catch{try{var Ve=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return Ve.append(Fe),Ve.getBlob(Ne)}catch{throw new Error("Bug : can't construct the Blob.")}}};var ne={stringifyByChunk:function(Fe,Ne,Ve){var Ue=[],We=0,He=Fe.length;if(He<=Ve)return String.fromCharCode.apply(null,Fe);for(;We<He;)Ne==="array"||Ne==="nodebuffer"?Ue.push(String.fromCharCode.apply(null,Fe.slice(We,Math.min(We+Ve,He)))):Ue.push(String.fromCharCode.apply(null,Fe.subarray(We,Math.min(We+Ve,He)))),We+=Ve;return Ue.join("")},stringifyByChar:function(Fe){for(var Ne="",Ve=0;Ve<Fe.length;Ve++)Ne+=String.fromCharCode(Fe[Ve]);return Ne},applyCanBeUsed:{uint8array:function(){try{return f.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return f.nodebuffer&&String.fromCharCode.apply(null,g.allocBuffer(1)).length===1}catch{return!1}}()}};function De(Fe){var Ne=65536,Ve=c.getTypeOf(Fe),Ue=!0;if(Ve==="uint8array"?Ue=ne.applyCanBeUsed.uint8array:Ve==="nodebuffer"&&(Ue=ne.applyCanBeUsed.nodebuffer),Ue)for(;1<Ne;)try{return ne.stringifyByChunk(Fe,Ve,Ne)}catch{Ne=Math.floor(Ne/2)}return ne.stringifyByChar(Fe)}function Ee(Fe,Ne){for(var Ve=0;Ve<Fe.length;Ve++)Ne[Ve]=Fe[Ve];return Ne}c.applyFromCharCode=De;var Be={};Be.string={string:Ie,array:function(Fe){return Oe(Fe,new Array(Fe.length))},arraybuffer:function(Fe){return Be.string.uint8array(Fe).buffer},uint8array:function(Fe){return Oe(Fe,new Uint8Array(Fe.length))},nodebuffer:function(Fe){return Oe(Fe,g.allocBuffer(Fe.length))}},Be.array={string:De,array:Ie,arraybuffer:function(Fe){return new Uint8Array(Fe).buffer},uint8array:function(Fe){return new Uint8Array(Fe)},nodebuffer:function(Fe){return g.newBufferFrom(Fe)}},Be.arraybuffer={string:function(Fe){return De(new Uint8Array(Fe))},array:function(Fe){return Ee(new Uint8Array(Fe),new Array(Fe.byteLength))},arraybuffer:Ie,uint8array:function(Fe){return new Uint8Array(Fe)},nodebuffer:function(Fe){return g.newBufferFrom(new Uint8Array(Fe))}},Be.uint8array={string:De,array:function(Fe){return Ee(Fe,new Array(Fe.length))},arraybuffer:function(Fe){return Fe.buffer},uint8array:Ie,nodebuffer:function(Fe){return g.newBufferFrom(Fe)}},Be.nodebuffer={string:De,array:function(Fe){return Ee(Fe,new Array(Fe.length))},arraybuffer:function(Fe){return Be.nodebuffer.uint8array(Fe).buffer},uint8array:function(Fe){return Ee(Fe,new Uint8Array(Fe.length))},nodebuffer:Ie},c.transformTo=function(Fe,Ne){if(Ne=Ne||"",!Fe)return Ne;c.checkSupport(Fe);var Ve=c.getTypeOf(Ne);return Be[Ve][Fe](Ne)},c.resolve=function(Fe){for(var Ne=Fe.split("/"),Ve=[],Ue=0;Ue<Ne.length;Ue++){var We=Ne[Ue];We==="."||We===""&&Ue!==0&&Ue!==Ne.length-1||(We===".."?Ve.pop():Ve.push(We))}return Ve.join("/")},c.getTypeOf=function(Fe){return typeof Fe=="string"?"string":Object.prototype.toString.call(Fe)==="[object Array]"?"array":f.nodebuffer&&g.isBuffer(Fe)?"nodebuffer":f.uint8array&&Fe instanceof Uint8Array?"uint8array":f.arraybuffer&&Fe instanceof ArrayBuffer?"arraybuffer":void 0},c.checkSupport=function(Fe){if(!f[Fe.toLowerCase()])throw new Error(Fe+" is not supported by this platform")},c.MAX_VALUE_16BITS=65535,c.MAX_VALUE_32BITS=-1,c.pretty=function(Fe){var Ne,Ve,Ue="";for(Ve=0;Ve<(Fe||"").length;Ve++)Ue+="\\x"+((Ne=Fe.charCodeAt(Ve))<16?"0":"")+Ne.toString(16).toUpperCase();return Ue},c.delay=function(Fe,Ne,Ve){setImmediate(function(){Fe.apply(Ve||null,Ne||[])})},c.inherits=function(Fe,Ne){function Ve(){}Ve.prototype=Ne.prototype,Fe.prototype=new Ve},c.extend=function(){var Fe,Ne,Ve={};for(Fe=0;Fe<arguments.length;Fe++)for(Ne in arguments[Fe])Object.prototype.hasOwnProperty.call(arguments[Fe],Ne)&&Ve[Ne]===void 0&&(Ve[Ne]=arguments[Fe][Ne]);return Ve},c.prepareContent=function(Fe,Ne,Ve,Ue,We){return Te.Promise.resolve(Ne).then(function(He){return f.blob&&(He instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(He))!==-1)&&typeof FileReader<"u"?new Te.Promise(function(Xe,ot){var tt=new FileReader;tt.onload=function(gt){Xe(gt.target.result)},tt.onerror=function(gt){ot(gt.target.error)},tt.readAsArrayBuffer(He)}):He}).then(function(He){var Xe=c.getTypeOf(He);return Xe?(Xe==="arraybuffer"?He=c.transformTo("uint8array",He):Xe==="string"&&(We?He=m.decode(He):Ve&&Ue!==!0&&(He=function(ot){return Oe(ot,f.uint8array?new Uint8Array(ot.length):new Array(ot.length))}(He))),He):Te.Promise.reject(new Error("Can't read the data of '"+Fe+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,i,c){var f=e("./reader/readerFor"),m=e("./utils"),g=e("./signature"),Te=e("./zipEntry"),Ie=e("./support");function Oe(ne){this.files=[],this.loadOptions=ne}Oe.prototype={checkSignature:function(ne){if(!this.reader.readAndCheckSignature(ne)){this.reader.index-=4;var De=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+m.pretty(De)+", expected "+m.pretty(ne)+")")}},isSignature:function(ne,De){var Ee=this.reader.index;this.reader.setIndex(ne);var Be=this.reader.readString(4)===De;return this.reader.setIndex(Ee),Be},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var ne=this.reader.readData(this.zipCommentLength),De=Ie.uint8array?"uint8array":"array",Ee=m.transformTo(De,ne);this.zipComment=this.loadOptions.decodeFileName(Ee)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var ne,De,Ee,Be=this.zip64EndOfCentralSize-44;0<Be;)ne=this.reader.readInt(2),De=this.reader.readInt(4),Ee=this.reader.readData(De),this.zip64ExtensibleData[ne]={id:ne,length:De,value:Ee}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var ne,De;for(ne=0;ne<this.files.length;ne++)De=this.files[ne],this.reader.setIndex(De.localHeaderOffset),this.checkSignature(g.LOCAL_FILE_HEADER),De.readLocalPart(this.reader),De.handleUTF8(),De.processAttributes()},readCentralDir:function(){var ne;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(g.CENTRAL_FILE_HEADER);)(ne=new Te({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(ne);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var ne=this.reader.lastIndexOfSignature(g.CENTRAL_DIRECTORY_END);if(ne<0)throw this.isSignature(0,g.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(ne);var De=ne;if(this.checkSignature(g.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===m.MAX_VALUE_16BITS||this.diskWithCentralDirStart===m.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===m.MAX_VALUE_16BITS||this.centralDirRecords===m.MAX_VALUE_16BITS||this.centralDirSize===m.MAX_VALUE_32BITS||this.centralDirOffset===m.MAX_VALUE_32BITS){if(this.zip64=!0,(ne=this.reader.lastIndexOfSignature(g.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(ne),this.checkSignature(g.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,g.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(g.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(g.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var Ee=this.centralDirOffset+this.centralDirSize;this.zip64&&(Ee+=20,Ee+=12+this.zip64EndOfCentralSize);var Be=De-Ee;if(0<Be)this.isSignature(De,g.CENTRAL_FILE_HEADER)||(this.reader.zero=Be);else if(Be<0)throw new Error("Corrupted zip: missing "+Math.abs(Be)+" bytes.")},prepareReader:function(ne){this.reader=f(ne)},load:function(ne){this.prepareReader(ne),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=Oe},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,i,c){var f=e("./reader/readerFor"),m=e("./utils"),g=e("./compressedObject"),Te=e("./crc32"),Ie=e("./utf8"),Oe=e("./compressions"),ne=e("./support");function De(Ee,Be){this.options=Ee,this.loadOptions=Be}De.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(Ee){var Be,Fe;if(Ee.skip(22),this.fileNameLength=Ee.readInt(2),Fe=Ee.readInt(2),this.fileName=Ee.readData(this.fileNameLength),Ee.skip(Fe),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((Be=function(Ne){for(var Ve in Oe)if(Object.prototype.hasOwnProperty.call(Oe,Ve)&&Oe[Ve].magic===Ne)return Oe[Ve];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+m.pretty(this.compressionMethod)+" unknown (inner file : "+m.transformTo("string",this.fileName)+")");this.decompressed=new g(this.compressedSize,this.uncompressedSize,this.crc32,Be,Ee.readData(this.compressedSize))},readCentralPart:function(Ee){this.versionMadeBy=Ee.readInt(2),Ee.skip(2),this.bitFlag=Ee.readInt(2),this.compressionMethod=Ee.readString(2),this.date=Ee.readDate(),this.crc32=Ee.readInt(4),this.compressedSize=Ee.readInt(4),this.uncompressedSize=Ee.readInt(4);var Be=Ee.readInt(2);if(this.extraFieldsLength=Ee.readInt(2),this.fileCommentLength=Ee.readInt(2),this.diskNumberStart=Ee.readInt(2),this.internalFileAttributes=Ee.readInt(2),this.externalFileAttributes=Ee.readInt(4),this.localHeaderOffset=Ee.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");Ee.skip(Be),this.readExtraFields(Ee),this.parseZIP64ExtraField(Ee),this.fileComment=Ee.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var Ee=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),Ee==0&&(this.dosPermissions=63&this.externalFileAttributes),Ee==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var Ee=f(this.extraFields[1].value);this.uncompressedSize===m.MAX_VALUE_32BITS&&(this.uncompressedSize=Ee.readInt(8)),this.compressedSize===m.MAX_VALUE_32BITS&&(this.compressedSize=Ee.readInt(8)),this.localHeaderOffset===m.MAX_VALUE_32BITS&&(this.localHeaderOffset=Ee.readInt(8)),this.diskNumberStart===m.MAX_VALUE_32BITS&&(this.diskNumberStart=Ee.readInt(4))}},readExtraFields:function(Ee){var Be,Fe,Ne,Ve=Ee.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});Ee.index+4<Ve;)Be=Ee.readInt(2),Fe=Ee.readInt(2),Ne=Ee.readData(Fe),this.extraFields[Be]={id:Be,length:Fe,value:Ne};Ee.setIndex(Ve)},handleUTF8:function(){var Ee=ne.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=Ie.utf8decode(this.fileName),this.fileCommentStr=Ie.utf8decode(this.fileComment);else{var Be=this.findExtraFieldUnicodePath();if(Be!==null)this.fileNameStr=Be;else{var Fe=m.transformTo(Ee,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(Fe)}var Ne=this.findExtraFieldUnicodeComment();if(Ne!==null)this.fileCommentStr=Ne;else{var Ve=m.transformTo(Ee,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(Ve)}}},findExtraFieldUnicodePath:function(){var Ee=this.extraFields[28789];if(Ee){var Be=f(Ee.value);return Be.readInt(1)!==1||Te(this.fileName)!==Be.readInt(4)?null:Ie.utf8decode(Be.readData(Ee.length-5))}return null},findExtraFieldUnicodeComment:function(){var Ee=this.extraFields[25461];if(Ee){var Be=f(Ee.value);return Be.readInt(1)!==1||Te(this.fileComment)!==Be.readInt(4)?null:Ie.utf8decode(Be.readData(Ee.length-5))}return null}},i.exports=De},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,i,c){function f(Be,Fe,Ne){this.name=Be,this.dir=Ne.dir,this.date=Ne.date,this.comment=Ne.comment,this.unixPermissions=Ne.unixPermissions,this.dosPermissions=Ne.dosPermissions,this._data=Fe,this._dataBinary=Ne.binary,this.options={compression:Ne.compression,compressionOptions:Ne.compressionOptions}}var m=e("./stream/StreamHelper"),g=e("./stream/DataWorker"),Te=e("./utf8"),Ie=e("./compressedObject"),Oe=e("./stream/GenericWorker");f.prototype={internalStream:function(Be){var Fe=null,Ne="string";try{if(!Be)throw new Error("No output type specified.");var Ve=(Ne=Be.toLowerCase())==="string"||Ne==="text";Ne!=="binarystring"&&Ne!=="text"||(Ne="string"),Fe=this._decompressWorker();var Ue=!this._dataBinary;Ue&&!Ve&&(Fe=Fe.pipe(new Te.Utf8EncodeWorker)),!Ue&&Ve&&(Fe=Fe.pipe(new Te.Utf8DecodeWorker))}catch(We){(Fe=new Oe("error")).error(We)}return new m(Fe,Ne,"")},async:function(Be,Fe){return this.internalStream(Be).accumulate(Fe)},nodeStream:function(Be,Fe){return this.internalStream(Be||"nodebuffer").toNodejsStream(Fe)},_compressWorker:function(Be,Fe){if(this._data instanceof Ie&&this._data.compression.magic===Be.magic)return this._data.getCompressedWorker();var Ne=this._decompressWorker();return this._dataBinary||(Ne=Ne.pipe(new Te.Utf8EncodeWorker)),Ie.createWorkerFrom(Ne,Be,Fe)},_decompressWorker:function(){return this._data instanceof Ie?this._data.getContentWorker():this._data instanceof Oe?this._data:new g(this._data)}};for(var ne=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],De=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},Ee=0;Ee<ne.length;Ee++)f.prototype[ne[Ee]]=De;i.exports=f},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,i,c){(function(f){var m,g,Te=f.MutationObserver||f.WebKitMutationObserver;if(Te){var Ie=0,Oe=new Te(Be),ne=f.document.createTextNode("");Oe.observe(ne,{characterData:!0}),m=function(){ne.data=Ie=++Ie%2}}else if(f.setImmediate||f.MessageChannel===void 0)m="document"in f&&"onreadystatechange"in f.document.createElement("script")?function(){var Fe=f.document.createElement("script");Fe.onreadystatechange=function(){Be(),Fe.onreadystatechange=null,Fe.parentNode.removeChild(Fe),Fe=null},f.document.documentElement.appendChild(Fe)}:function(){setTimeout(Be,0)};else{var De=new f.MessageChannel;De.port1.onmessage=Be,m=function(){De.port2.postMessage(0)}}var Ee=[];function Be(){var Fe,Ne;g=!0;for(var Ve=Ee.length;Ve;){for(Ne=Ee,Ee=[],Fe=-1;++Fe<Ve;)Ne[Fe]();Ve=Ee.length}g=!1}i.exports=function(Fe){Ee.push(Fe)!==1||g||m()}}).call(this,typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(e,i,c){var f=e("immediate");function m(){}var g={},Te=["REJECTED"],Ie=["FULFILLED"],Oe=["PENDING"];function ne(Ve){if(typeof Ve!="function")throw new TypeError("resolver must be a function");this.state=Oe,this.queue=[],this.outcome=void 0,Ve!==m&&Fe(this,Ve)}function De(Ve,Ue,We){this.promise=Ve,typeof Ue=="function"&&(this.onFulfilled=Ue,this.callFulfilled=this.otherCallFulfilled),typeof We=="function"&&(this.onRejected=We,this.callRejected=this.otherCallRejected)}function Ee(Ve,Ue,We){f(function(){var He;try{He=Ue(We)}catch(Xe){return g.reject(Ve,Xe)}He===Ve?g.reject(Ve,new TypeError("Cannot resolve promise with itself")):g.resolve(Ve,He)})}function Be(Ve){var Ue=Ve&&Ve.then;if(Ve&&(typeof Ve=="object"||typeof Ve=="function")&&typeof Ue=="function")return function(){Ue.apply(Ve,arguments)}}function Fe(Ve,Ue){var We=!1;function He(tt){We||(We=!0,g.reject(Ve,tt))}function Xe(tt){We||(We=!0,g.resolve(Ve,tt))}var ot=Ne(function(){Ue(Xe,He)});ot.status==="error"&&He(ot.value)}function Ne(Ve,Ue){var We={};try{We.value=Ve(Ue),We.status="success"}catch(He){We.status="error",We.value=He}return We}(i.exports=ne).prototype.finally=function(Ve){if(typeof Ve!="function")return this;var Ue=this.constructor;return this.then(function(We){return Ue.resolve(Ve()).then(function(){return We})},function(We){return Ue.resolve(Ve()).then(function(){throw We})})},ne.prototype.catch=function(Ve){return this.then(null,Ve)},ne.prototype.then=function(Ve,Ue){if(typeof Ve!="function"&&this.state===Ie||typeof Ue!="function"&&this.state===Te)return this;var We=new this.constructor(m);return this.state!==Oe?Ee(We,this.state===Ie?Ve:Ue,this.outcome):this.queue.push(new De(We,Ve,Ue)),We},De.prototype.callFulfilled=function(Ve){g.resolve(this.promise,Ve)},De.prototype.otherCallFulfilled=function(Ve){Ee(this.promise,this.onFulfilled,Ve)},De.prototype.callRejected=function(Ve){g.reject(this.promise,Ve)},De.prototype.otherCallRejected=function(Ve){Ee(this.promise,this.onRejected,Ve)},g.resolve=function(Ve,Ue){var We=Ne(Be,Ue);if(We.status==="error")return g.reject(Ve,We.value);var He=We.value;if(He)Fe(Ve,He);else{Ve.state=Ie,Ve.outcome=Ue;for(var Xe=-1,ot=Ve.queue.length;++Xe<ot;)Ve.queue[Xe].callFulfilled(Ue)}return Ve},g.reject=function(Ve,Ue){Ve.state=Te,Ve.outcome=Ue;for(var We=-1,He=Ve.queue.length;++We<He;)Ve.queue[We].callRejected(Ue);return Ve},ne.resolve=function(Ve){return Ve instanceof this?Ve:g.resolve(new this(m),Ve)},ne.reject=function(Ve){var Ue=new this(m);return g.reject(Ue,Ve)},ne.all=function(Ve){var Ue=this;if(Object.prototype.toString.call(Ve)!=="[object Array]")return this.reject(new TypeError("must be an array"));var We=Ve.length,He=!1;if(!We)return this.resolve([]);for(var Xe=new Array(We),ot=0,tt=-1,gt=new this(m);++tt<We;)vt(Ve[tt],tt);return gt;function vt(rt,ht){Ue.resolve(rt).then(function(it){Xe[ht]=it,++ot!==We||He||(He=!0,g.resolve(gt,Xe))},function(it){He||(He=!0,g.reject(gt,it))})}},ne.race=function(Ve){var Ue=this;if(Object.prototype.toString.call(Ve)!=="[object Array]")return this.reject(new TypeError("must be an array"));var We=Ve.length,He=!1;if(!We)return this.resolve([]);for(var Xe=-1,ot=new this(m);++Xe<We;)tt=Ve[Xe],Ue.resolve(tt).then(function(gt){He||(He=!0,g.resolve(ot,gt))},function(gt){He||(He=!0,g.reject(ot,gt))});var tt;return ot}},{immediate:36}],38:[function(e,i,c){var f={};(0,e("./lib/utils/common").assign)(f,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),i.exports=f},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,i,c){var f=e("./zlib/deflate"),m=e("./utils/common"),g=e("./utils/strings"),Te=e("./zlib/messages"),Ie=e("./zlib/zstream"),Oe=Object.prototype.toString,ne=0,De=-1,Ee=0,Be=8;function Fe(Ve){if(!(this instanceof Fe))return new Fe(Ve);this.options=m.assign({level:De,method:Be,chunkSize:16384,windowBits:15,memLevel:8,strategy:Ee,to:""},Ve||{});var Ue=this.options;Ue.raw&&0<Ue.windowBits?Ue.windowBits=-Ue.windowBits:Ue.gzip&&0<Ue.windowBits&&Ue.windowBits<16&&(Ue.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ie,this.strm.avail_out=0;var We=f.deflateInit2(this.strm,Ue.level,Ue.method,Ue.windowBits,Ue.memLevel,Ue.strategy);if(We!==ne)throw new Error(Te[We]);if(Ue.header&&f.deflateSetHeader(this.strm,Ue.header),Ue.dictionary){var He;if(He=typeof Ue.dictionary=="string"?g.string2buf(Ue.dictionary):Oe.call(Ue.dictionary)==="[object ArrayBuffer]"?new Uint8Array(Ue.dictionary):Ue.dictionary,(We=f.deflateSetDictionary(this.strm,He))!==ne)throw new Error(Te[We]);this._dict_set=!0}}function Ne(Ve,Ue){var We=new Fe(Ue);if(We.push(Ve,!0),We.err)throw We.msg||Te[We.err];return We.result}Fe.prototype.push=function(Ve,Ue){var We,He,Xe=this.strm,ot=this.options.chunkSize;if(this.ended)return!1;He=Ue===~~Ue?Ue:Ue===!0?4:0,typeof Ve=="string"?Xe.input=g.string2buf(Ve):Oe.call(Ve)==="[object ArrayBuffer]"?Xe.input=new Uint8Array(Ve):Xe.input=Ve,Xe.next_in=0,Xe.avail_in=Xe.input.length;do{if(Xe.avail_out===0&&(Xe.output=new m.Buf8(ot),Xe.next_out=0,Xe.avail_out=ot),(We=f.deflate(Xe,He))!==1&&We!==ne)return this.onEnd(We),!(this.ended=!0);Xe.avail_out!==0&&(Xe.avail_in!==0||He!==4&&He!==2)||(this.options.to==="string"?this.onData(g.buf2binstring(m.shrinkBuf(Xe.output,Xe.next_out))):this.onData(m.shrinkBuf(Xe.output,Xe.next_out)))}while((0<Xe.avail_in||Xe.avail_out===0)&&We!==1);return He===4?(We=f.deflateEnd(this.strm),this.onEnd(We),this.ended=!0,We===ne):He!==2||(this.onEnd(ne),!(Xe.avail_out=0))},Fe.prototype.onData=function(Ve){this.chunks.push(Ve)},Fe.prototype.onEnd=function(Ve){Ve===ne&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=Ve,this.msg=this.strm.msg},c.Deflate=Fe,c.deflate=Ne,c.deflateRaw=function(Ve,Ue){return(Ue=Ue||{}).raw=!0,Ne(Ve,Ue)},c.gzip=function(Ve,Ue){return(Ue=Ue||{}).gzip=!0,Ne(Ve,Ue)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,i,c){var f=e("./zlib/inflate"),m=e("./utils/common"),g=e("./utils/strings"),Te=e("./zlib/constants"),Ie=e("./zlib/messages"),Oe=e("./zlib/zstream"),ne=e("./zlib/gzheader"),De=Object.prototype.toString;function Ee(Fe){if(!(this instanceof Ee))return new Ee(Fe);this.options=m.assign({chunkSize:16384,windowBits:0,to:""},Fe||{});var Ne=this.options;Ne.raw&&0<=Ne.windowBits&&Ne.windowBits<16&&(Ne.windowBits=-Ne.windowBits,Ne.windowBits===0&&(Ne.windowBits=-15)),!(0<=Ne.windowBits&&Ne.windowBits<16)||Fe&&Fe.windowBits||(Ne.windowBits+=32),15<Ne.windowBits&&Ne.windowBits<48&&!(15&Ne.windowBits)&&(Ne.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Oe,this.strm.avail_out=0;var Ve=f.inflateInit2(this.strm,Ne.windowBits);if(Ve!==Te.Z_OK)throw new Error(Ie[Ve]);this.header=new ne,f.inflateGetHeader(this.strm,this.header)}function Be(Fe,Ne){var Ve=new Ee(Ne);if(Ve.push(Fe,!0),Ve.err)throw Ve.msg||Ie[Ve.err];return Ve.result}Ee.prototype.push=function(Fe,Ne){var Ve,Ue,We,He,Xe,ot,tt=this.strm,gt=this.options.chunkSize,vt=this.options.dictionary,rt=!1;if(this.ended)return!1;Ue=Ne===~~Ne?Ne:Ne===!0?Te.Z_FINISH:Te.Z_NO_FLUSH,typeof Fe=="string"?tt.input=g.binstring2buf(Fe):De.call(Fe)==="[object ArrayBuffer]"?tt.input=new Uint8Array(Fe):tt.input=Fe,tt.next_in=0,tt.avail_in=tt.input.length;do{if(tt.avail_out===0&&(tt.output=new m.Buf8(gt),tt.next_out=0,tt.avail_out=gt),(Ve=f.inflate(tt,Te.Z_NO_FLUSH))===Te.Z_NEED_DICT&&vt&&(ot=typeof vt=="string"?g.string2buf(vt):De.call(vt)==="[object ArrayBuffer]"?new Uint8Array(vt):vt,Ve=f.inflateSetDictionary(this.strm,ot)),Ve===Te.Z_BUF_ERROR&&rt===!0&&(Ve=Te.Z_OK,rt=!1),Ve!==Te.Z_STREAM_END&&Ve!==Te.Z_OK)return this.onEnd(Ve),!(this.ended=!0);tt.next_out&&(tt.avail_out!==0&&Ve!==Te.Z_STREAM_END&&(tt.avail_in!==0||Ue!==Te.Z_FINISH&&Ue!==Te.Z_SYNC_FLUSH)||(this.options.to==="string"?(We=g.utf8border(tt.output,tt.next_out),He=tt.next_out-We,Xe=g.buf2string(tt.output,We),tt.next_out=He,tt.avail_out=gt-He,He&&m.arraySet(tt.output,tt.output,We,He,0),this.onData(Xe)):this.onData(m.shrinkBuf(tt.output,tt.next_out)))),tt.avail_in===0&&tt.avail_out===0&&(rt=!0)}while((0<tt.avail_in||tt.avail_out===0)&&Ve!==Te.Z_STREAM_END);return Ve===Te.Z_STREAM_END&&(Ue=Te.Z_FINISH),Ue===Te.Z_FINISH?(Ve=f.inflateEnd(this.strm),this.onEnd(Ve),this.ended=!0,Ve===Te.Z_OK):Ue!==Te.Z_SYNC_FLUSH||(this.onEnd(Te.Z_OK),!(tt.avail_out=0))},Ee.prototype.onData=function(Fe){this.chunks.push(Fe)},Ee.prototype.onEnd=function(Fe){Fe===Te.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=Fe,this.msg=this.strm.msg},c.Inflate=Ee,c.inflate=Be,c.inflateRaw=function(Fe,Ne){return(Ne=Ne||{}).raw=!0,Be(Fe,Ne)},c.ungzip=Be},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,i,c){var f=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";c.assign=function(Te){for(var Ie=Array.prototype.slice.call(arguments,1);Ie.length;){var Oe=Ie.shift();if(Oe){if(typeof Oe!="object")throw new TypeError(Oe+"must be non-object");for(var ne in Oe)Oe.hasOwnProperty(ne)&&(Te[ne]=Oe[ne])}}return Te},c.shrinkBuf=function(Te,Ie){return Te.length===Ie?Te:Te.subarray?Te.subarray(0,Ie):(Te.length=Ie,Te)};var m={arraySet:function(Te,Ie,Oe,ne,De){if(Ie.subarray&&Te.subarray)Te.set(Ie.subarray(Oe,Oe+ne),De);else for(var Ee=0;Ee<ne;Ee++)Te[De+Ee]=Ie[Oe+Ee]},flattenChunks:function(Te){var Ie,Oe,ne,De,Ee,Be;for(Ie=ne=0,Oe=Te.length;Ie<Oe;Ie++)ne+=Te[Ie].length;for(Be=new Uint8Array(ne),Ie=De=0,Oe=Te.length;Ie<Oe;Ie++)Ee=Te[Ie],Be.set(Ee,De),De+=Ee.length;return Be}},g={arraySet:function(Te,Ie,Oe,ne,De){for(var Ee=0;Ee<ne;Ee++)Te[De+Ee]=Ie[Oe+Ee]},flattenChunks:function(Te){return[].concat.apply([],Te)}};c.setTyped=function(Te){Te?(c.Buf8=Uint8Array,c.Buf16=Uint16Array,c.Buf32=Int32Array,c.assign(c,m)):(c.Buf8=Array,c.Buf16=Array,c.Buf32=Array,c.assign(c,g))},c.setTyped(f)},{}],42:[function(e,i,c){var f=e("./common"),m=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch{m=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{g=!1}for(var Te=new f.Buf8(256),Ie=0;Ie<256;Ie++)Te[Ie]=252<=Ie?6:248<=Ie?5:240<=Ie?4:224<=Ie?3:192<=Ie?2:1;function Oe(ne,De){if(De<65537&&(ne.subarray&&g||!ne.subarray&&m))return String.fromCharCode.apply(null,f.shrinkBuf(ne,De));for(var Ee="",Be=0;Be<De;Be++)Ee+=String.fromCharCode(ne[Be]);return Ee}Te[254]=Te[254]=1,c.string2buf=function(ne){var De,Ee,Be,Fe,Ne,Ve=ne.length,Ue=0;for(Fe=0;Fe<Ve;Fe++)(64512&(Ee=ne.charCodeAt(Fe)))==55296&&Fe+1<Ve&&(64512&(Be=ne.charCodeAt(Fe+1)))==56320&&(Ee=65536+(Ee-55296<<10)+(Be-56320),Fe++),Ue+=Ee<128?1:Ee<2048?2:Ee<65536?3:4;for(De=new f.Buf8(Ue),Fe=Ne=0;Ne<Ue;Fe++)(64512&(Ee=ne.charCodeAt(Fe)))==55296&&Fe+1<Ve&&(64512&(Be=ne.charCodeAt(Fe+1)))==56320&&(Ee=65536+(Ee-55296<<10)+(Be-56320),Fe++),Ee<128?De[Ne++]=Ee:(Ee<2048?De[Ne++]=192|Ee>>>6:(Ee<65536?De[Ne++]=224|Ee>>>12:(De[Ne++]=240|Ee>>>18,De[Ne++]=128|Ee>>>12&63),De[Ne++]=128|Ee>>>6&63),De[Ne++]=128|63&Ee);return De},c.buf2binstring=function(ne){return Oe(ne,ne.length)},c.binstring2buf=function(ne){for(var De=new f.Buf8(ne.length),Ee=0,Be=De.length;Ee<Be;Ee++)De[Ee]=ne.charCodeAt(Ee);return De},c.buf2string=function(ne,De){var Ee,Be,Fe,Ne,Ve=De||ne.length,Ue=new Array(2*Ve);for(Ee=Be=0;Ee<Ve;)if((Fe=ne[Ee++])<128)Ue[Be++]=Fe;else if(4<(Ne=Te[Fe]))Ue[Be++]=65533,Ee+=Ne-1;else{for(Fe&=Ne===2?31:Ne===3?15:7;1<Ne&&Ee<Ve;)Fe=Fe<<6|63&ne[Ee++],Ne--;1<Ne?Ue[Be++]=65533:Fe<65536?Ue[Be++]=Fe:(Fe-=65536,Ue[Be++]=55296|Fe>>10&1023,Ue[Be++]=56320|1023&Fe)}return Oe(Ue,Be)},c.utf8border=function(ne,De){var Ee;for((De=De||ne.length)>ne.length&&(De=ne.length),Ee=De-1;0<=Ee&&(192&ne[Ee])==128;)Ee--;return Ee<0||Ee===0?De:Ee+Te[ne[Ee]]>De?Ee:De}},{"./common":41}],43:[function(e,i,c){i.exports=function(f,m,g,Te){for(var Ie=65535&f|0,Oe=f>>>16&65535|0,ne=0;g!==0;){for(g-=ne=2e3<g?2e3:g;Oe=Oe+(Ie=Ie+m[Te++]|0)|0,--ne;);Ie%=65521,Oe%=65521}return Ie|Oe<<16|0}},{}],44:[function(e,i,c){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,i,c){var f=function(){for(var m,g=[],Te=0;Te<256;Te++){m=Te;for(var Ie=0;Ie<8;Ie++)m=1&m?3988292384^m>>>1:m>>>1;g[Te]=m}return g}();i.exports=function(m,g,Te,Ie){var Oe=f,ne=Ie+Te;m^=-1;for(var De=Ie;De<ne;De++)m=m>>>8^Oe[255&(m^g[De])];return-1^m}},{}],46:[function(e,i,c){var f,m=e("../utils/common"),g=e("./trees"),Te=e("./adler32"),Ie=e("./crc32"),Oe=e("./messages"),ne=0,De=4,Ee=0,Be=-2,Fe=-1,Ne=4,Ve=2,Ue=8,We=9,He=286,Xe=30,ot=19,tt=2*He+1,gt=15,vt=3,rt=258,ht=rt+vt+1,it=42,mt=113,Ze=1,Ft=2,Zt=3,jt=4;function cr(Je,At){return Je.msg=Oe[At],At}function bt(Je){return(Je<<1)-(4<Je?9:0)}function St(Je){for(var At=Je.length;0<=--At;)Je[At]=0}function ct(Je){var At=Je.state,Wt=At.pending;Wt>Je.avail_out&&(Wt=Je.avail_out),Wt!==0&&(m.arraySet(Je.output,At.pending_buf,At.pending_out,Wt,Je.next_out),Je.next_out+=Wt,At.pending_out+=Wt,Je.total_out+=Wt,Je.avail_out-=Wt,At.pending-=Wt,At.pending===0&&(At.pending_out=0))}function dt(Je,At){g._tr_flush_block(Je,0<=Je.block_start?Je.block_start:-1,Je.strstart-Je.block_start,At),Je.block_start=Je.strstart,ct(Je.strm)}function Pt(Je,At){Je.pending_buf[Je.pending++]=At}function Ct(Je,At){Je.pending_buf[Je.pending++]=At>>>8&255,Je.pending_buf[Je.pending++]=255&At}function Kt(Je,At){var Wt,xt,pt=Je.max_chain_length,Dt=Je.strstart,er=Je.prev_length,nt=Je.nice_match,je=Je.strstart>Je.w_size-ht?Je.strstart-(Je.w_size-ht):0,Ke=Je.window,ut=Je.w_mask,Et=Je.prev,It=Je.strstart+rt,zt=Ke[Dt+er-1],tr=Ke[Dt+er];Je.prev_length>=Je.good_match&&(pt>>=2),nt>Je.lookahead&&(nt=Je.lookahead);do if(Ke[(Wt=At)+er]===tr&&Ke[Wt+er-1]===zt&&Ke[Wt]===Ke[Dt]&&Ke[++Wt]===Ke[Dt+1]){Dt+=2,Wt++;do;while(Ke[++Dt]===Ke[++Wt]&&Ke[++Dt]===Ke[++Wt]&&Ke[++Dt]===Ke[++Wt]&&Ke[++Dt]===Ke[++Wt]&&Ke[++Dt]===Ke[++Wt]&&Ke[++Dt]===Ke[++Wt]&&Ke[++Dt]===Ke[++Wt]&&Ke[++Dt]===Ke[++Wt]&&Dt<It);if(xt=rt-(It-Dt),Dt=It-rt,er<xt){if(Je.match_start=At,nt<=(er=xt))break;zt=Ke[Dt+er-1],tr=Ke[Dt+er]}}while((At=Et[At&ut])>je&&--pt!=0);return er<=Je.lookahead?er:Je.lookahead}function fr(Je){var At,Wt,xt,pt,Dt,er,nt,je,Ke,ut,Et=Je.w_size;do{if(pt=Je.window_size-Je.lookahead-Je.strstart,Je.strstart>=Et+(Et-ht)){for(m.arraySet(Je.window,Je.window,Et,Et,0),Je.match_start-=Et,Je.strstart-=Et,Je.block_start-=Et,At=Wt=Je.hash_size;xt=Je.head[--At],Je.head[At]=Et<=xt?xt-Et:0,--Wt;);for(At=Wt=Et;xt=Je.prev[--At],Je.prev[At]=Et<=xt?xt-Et:0,--Wt;);pt+=Et}if(Je.strm.avail_in===0)break;if(er=Je.strm,nt=Je.window,je=Je.strstart+Je.lookahead,Ke=pt,ut=void 0,ut=er.avail_in,Ke<ut&&(ut=Ke),Wt=ut===0?0:(er.avail_in-=ut,m.arraySet(nt,er.input,er.next_in,ut,je),er.state.wrap===1?er.adler=Te(er.adler,nt,ut,je):er.state.wrap===2&&(er.adler=Ie(er.adler,nt,ut,je)),er.next_in+=ut,er.total_in+=ut,ut),Je.lookahead+=Wt,Je.lookahead+Je.insert>=vt)for(Dt=Je.strstart-Je.insert,Je.ins_h=Je.window[Dt],Je.ins_h=(Je.ins_h<<Je.hash_shift^Je.window[Dt+1])&Je.hash_mask;Je.insert&&(Je.ins_h=(Je.ins_h<<Je.hash_shift^Je.window[Dt+vt-1])&Je.hash_mask,Je.prev[Dt&Je.w_mask]=Je.head[Je.ins_h],Je.head[Je.ins_h]=Dt,Dt++,Je.insert--,!(Je.lookahead+Je.insert<vt)););}while(Je.lookahead<ht&&Je.strm.avail_in!==0)}function Rr(Je,At){for(var Wt,xt;;){if(Je.lookahead<ht){if(fr(Je),Je.lookahead<ht&&At===ne)return Ze;if(Je.lookahead===0)break}if(Wt=0,Je.lookahead>=vt&&(Je.ins_h=(Je.ins_h<<Je.hash_shift^Je.window[Je.strstart+vt-1])&Je.hash_mask,Wt=Je.prev[Je.strstart&Je.w_mask]=Je.head[Je.ins_h],Je.head[Je.ins_h]=Je.strstart),Wt!==0&&Je.strstart-Wt<=Je.w_size-ht&&(Je.match_length=Kt(Je,Wt)),Je.match_length>=vt)if(xt=g._tr_tally(Je,Je.strstart-Je.match_start,Je.match_length-vt),Je.lookahead-=Je.match_length,Je.match_length<=Je.max_lazy_match&&Je.lookahead>=vt){for(Je.match_length--;Je.strstart++,Je.ins_h=(Je.ins_h<<Je.hash_shift^Je.window[Je.strstart+vt-1])&Je.hash_mask,Wt=Je.prev[Je.strstart&Je.w_mask]=Je.head[Je.ins_h],Je.head[Je.ins_h]=Je.strstart,--Je.match_length!=0;);Je.strstart++}else Je.strstart+=Je.match_length,Je.match_length=0,Je.ins_h=Je.window[Je.strstart],Je.ins_h=(Je.ins_h<<Je.hash_shift^Je.window[Je.strstart+1])&Je.hash_mask;else xt=g._tr_tally(Je,0,Je.window[Je.strstart]),Je.lookahead--,Je.strstart++;if(xt&&(dt(Je,!1),Je.strm.avail_out===0))return Ze}return Je.insert=Je.strstart<vt-1?Je.strstart:vt-1,At===De?(dt(Je,!0),Je.strm.avail_out===0?Zt:jt):Je.last_lit&&(dt(Je,!1),Je.strm.avail_out===0)?Ze:Ft}function sr(Je,At){for(var Wt,xt,pt;;){if(Je.lookahead<ht){if(fr(Je),Je.lookahead<ht&&At===ne)return Ze;if(Je.lookahead===0)break}if(Wt=0,Je.lookahead>=vt&&(Je.ins_h=(Je.ins_h<<Je.hash_shift^Je.window[Je.strstart+vt-1])&Je.hash_mask,Wt=Je.prev[Je.strstart&Je.w_mask]=Je.head[Je.ins_h],Je.head[Je.ins_h]=Je.strstart),Je.prev_length=Je.match_length,Je.prev_match=Je.match_start,Je.match_length=vt-1,Wt!==0&&Je.prev_length<Je.max_lazy_match&&Je.strstart-Wt<=Je.w_size-ht&&(Je.match_length=Kt(Je,Wt),Je.match_length<=5&&(Je.strategy===1||Je.match_length===vt&&4096<Je.strstart-Je.match_start)&&(Je.match_length=vt-1)),Je.prev_length>=vt&&Je.match_length<=Je.prev_length){for(pt=Je.strstart+Je.lookahead-vt,xt=g._tr_tally(Je,Je.strstart-1-Je.prev_match,Je.prev_length-vt),Je.lookahead-=Je.prev_length-1,Je.prev_length-=2;++Je.strstart<=pt&&(Je.ins_h=(Je.ins_h<<Je.hash_shift^Je.window[Je.strstart+vt-1])&Je.hash_mask,Wt=Je.prev[Je.strstart&Je.w_mask]=Je.head[Je.ins_h],Je.head[Je.ins_h]=Je.strstart),--Je.prev_length!=0;);if(Je.match_available=0,Je.match_length=vt-1,Je.strstart++,xt&&(dt(Je,!1),Je.strm.avail_out===0))return Ze}else if(Je.match_available){if((xt=g._tr_tally(Je,0,Je.window[Je.strstart-1]))&&dt(Je,!1),Je.strstart++,Je.lookahead--,Je.strm.avail_out===0)return Ze}else Je.match_available=1,Je.strstart++,Je.lookahead--}return Je.match_available&&(xt=g._tr_tally(Je,0,Je.window[Je.strstart-1]),Je.match_available=0),Je.insert=Je.strstart<vt-1?Je.strstart:vt-1,At===De?(dt(Je,!0),Je.strm.avail_out===0?Zt:jt):Je.last_lit&&(dt(Je,!1),Je.strm.avail_out===0)?Ze:Ft}function lt(Je,At,Wt,xt,pt){this.good_length=Je,this.max_lazy=At,this.nice_length=Wt,this.max_chain=xt,this.func=pt}function yt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ue,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new m.Buf16(2*tt),this.dyn_dtree=new m.Buf16(2*(2*Xe+1)),this.bl_tree=new m.Buf16(2*(2*ot+1)),St(this.dyn_ltree),St(this.dyn_dtree),St(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new m.Buf16(gt+1),this.heap=new m.Buf16(2*He+1),St(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new m.Buf16(2*He+1),St(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Xt(Je){var At;return Je&&Je.state?(Je.total_in=Je.total_out=0,Je.data_type=Ve,(At=Je.state).pending=0,At.pending_out=0,At.wrap<0&&(At.wrap=-At.wrap),At.status=At.wrap?it:mt,Je.adler=At.wrap===2?0:1,At.last_flush=ne,g._tr_init(At),Ee):cr(Je,Be)}function $t(Je){var At=Xt(Je);return At===Ee&&function(Wt){Wt.window_size=2*Wt.w_size,St(Wt.head),Wt.max_lazy_match=f[Wt.level].max_lazy,Wt.good_match=f[Wt.level].good_length,Wt.nice_match=f[Wt.level].nice_length,Wt.max_chain_length=f[Wt.level].max_chain,Wt.strstart=0,Wt.block_start=0,Wt.lookahead=0,Wt.insert=0,Wt.match_length=Wt.prev_length=vt-1,Wt.match_available=0,Wt.ins_h=0}(Je.state),At}function dr(Je,At,Wt,xt,pt,Dt){if(!Je)return Be;var er=1;if(At===Fe&&(At=6),xt<0?(er=0,xt=-xt):15<xt&&(er=2,xt-=16),pt<1||We<pt||Wt!==Ue||xt<8||15<xt||At<0||9<At||Dt<0||Ne<Dt)return cr(Je,Be);xt===8&&(xt=9);var nt=new yt;return(Je.state=nt).strm=Je,nt.wrap=er,nt.gzhead=null,nt.w_bits=xt,nt.w_size=1<<nt.w_bits,nt.w_mask=nt.w_size-1,nt.hash_bits=pt+7,nt.hash_size=1<<nt.hash_bits,nt.hash_mask=nt.hash_size-1,nt.hash_shift=~~((nt.hash_bits+vt-1)/vt),nt.window=new m.Buf8(2*nt.w_size),nt.head=new m.Buf16(nt.hash_size),nt.prev=new m.Buf16(nt.w_size),nt.lit_bufsize=1<<pt+6,nt.pending_buf_size=4*nt.lit_bufsize,nt.pending_buf=new m.Buf8(nt.pending_buf_size),nt.d_buf=1*nt.lit_bufsize,nt.l_buf=3*nt.lit_bufsize,nt.level=At,nt.strategy=Dt,nt.method=Wt,$t(Je)}f=[new lt(0,0,0,0,function(Je,At){var Wt=65535;for(Wt>Je.pending_buf_size-5&&(Wt=Je.pending_buf_size-5);;){if(Je.lookahead<=1){if(fr(Je),Je.lookahead===0&&At===ne)return Ze;if(Je.lookahead===0)break}Je.strstart+=Je.lookahead,Je.lookahead=0;var xt=Je.block_start+Wt;if((Je.strstart===0||Je.strstart>=xt)&&(Je.lookahead=Je.strstart-xt,Je.strstart=xt,dt(Je,!1),Je.strm.avail_out===0)||Je.strstart-Je.block_start>=Je.w_size-ht&&(dt(Je,!1),Je.strm.avail_out===0))return Ze}return Je.insert=0,At===De?(dt(Je,!0),Je.strm.avail_out===0?Zt:jt):(Je.strstart>Je.block_start&&(dt(Je,!1),Je.strm.avail_out),Ze)}),new lt(4,4,8,4,Rr),new lt(4,5,16,8,Rr),new lt(4,6,32,32,Rr),new lt(4,4,16,16,sr),new lt(8,16,32,32,sr),new lt(8,16,128,128,sr),new lt(8,32,128,256,sr),new lt(32,128,258,1024,sr),new lt(32,258,258,4096,sr)],c.deflateInit=function(Je,At){return dr(Je,At,Ue,15,8,0)},c.deflateInit2=dr,c.deflateReset=$t,c.deflateResetKeep=Xt,c.deflateSetHeader=function(Je,At){return Je&&Je.state?Je.state.wrap!==2?Be:(Je.state.gzhead=At,Ee):Be},c.deflate=function(Je,At){var Wt,xt,pt,Dt;if(!Je||!Je.state||5<At||At<0)return Je?cr(Je,Be):Be;if(xt=Je.state,!Je.output||!Je.input&&Je.avail_in!==0||xt.status===666&&At!==De)return cr(Je,Je.avail_out===0?-5:Be);if(xt.strm=Je,Wt=xt.last_flush,xt.last_flush=At,xt.status===it)if(xt.wrap===2)Je.adler=0,Pt(xt,31),Pt(xt,139),Pt(xt,8),xt.gzhead?(Pt(xt,(xt.gzhead.text?1:0)+(xt.gzhead.hcrc?2:0)+(xt.gzhead.extra?4:0)+(xt.gzhead.name?8:0)+(xt.gzhead.comment?16:0)),Pt(xt,255&xt.gzhead.time),Pt(xt,xt.gzhead.time>>8&255),Pt(xt,xt.gzhead.time>>16&255),Pt(xt,xt.gzhead.time>>24&255),Pt(xt,xt.level===9?2:2<=xt.strategy||xt.level<2?4:0),Pt(xt,255&xt.gzhead.os),xt.gzhead.extra&&xt.gzhead.extra.length&&(Pt(xt,255&xt.gzhead.extra.length),Pt(xt,xt.gzhead.extra.length>>8&255)),xt.gzhead.hcrc&&(Je.adler=Ie(Je.adler,xt.pending_buf,xt.pending,0)),xt.gzindex=0,xt.status=69):(Pt(xt,0),Pt(xt,0),Pt(xt,0),Pt(xt,0),Pt(xt,0),Pt(xt,xt.level===9?2:2<=xt.strategy||xt.level<2?4:0),Pt(xt,3),xt.status=mt);else{var er=Ue+(xt.w_bits-8<<4)<<8;er|=(2<=xt.strategy||xt.level<2?0:xt.level<6?1:xt.level===6?2:3)<<6,xt.strstart!==0&&(er|=32),er+=31-er%31,xt.status=mt,Ct(xt,er),xt.strstart!==0&&(Ct(xt,Je.adler>>>16),Ct(xt,65535&Je.adler)),Je.adler=1}if(xt.status===69)if(xt.gzhead.extra){for(pt=xt.pending;xt.gzindex<(65535&xt.gzhead.extra.length)&&(xt.pending!==xt.pending_buf_size||(xt.gzhead.hcrc&&xt.pending>pt&&(Je.adler=Ie(Je.adler,xt.pending_buf,xt.pending-pt,pt)),ct(Je),pt=xt.pending,xt.pending!==xt.pending_buf_size));)Pt(xt,255&xt.gzhead.extra[xt.gzindex]),xt.gzindex++;xt.gzhead.hcrc&&xt.pending>pt&&(Je.adler=Ie(Je.adler,xt.pending_buf,xt.pending-pt,pt)),xt.gzindex===xt.gzhead.extra.length&&(xt.gzindex=0,xt.status=73)}else xt.status=73;if(xt.status===73)if(xt.gzhead.name){pt=xt.pending;do{if(xt.pending===xt.pending_buf_size&&(xt.gzhead.hcrc&&xt.pending>pt&&(Je.adler=Ie(Je.adler,xt.pending_buf,xt.pending-pt,pt)),ct(Je),pt=xt.pending,xt.pending===xt.pending_buf_size)){Dt=1;break}Dt=xt.gzindex<xt.gzhead.name.length?255&xt.gzhead.name.charCodeAt(xt.gzindex++):0,Pt(xt,Dt)}while(Dt!==0);xt.gzhead.hcrc&&xt.pending>pt&&(Je.adler=Ie(Je.adler,xt.pending_buf,xt.pending-pt,pt)),Dt===0&&(xt.gzindex=0,xt.status=91)}else xt.status=91;if(xt.status===91)if(xt.gzhead.comment){pt=xt.pending;do{if(xt.pending===xt.pending_buf_size&&(xt.gzhead.hcrc&&xt.pending>pt&&(Je.adler=Ie(Je.adler,xt.pending_buf,xt.pending-pt,pt)),ct(Je),pt=xt.pending,xt.pending===xt.pending_buf_size)){Dt=1;break}Dt=xt.gzindex<xt.gzhead.comment.length?255&xt.gzhead.comment.charCodeAt(xt.gzindex++):0,Pt(xt,Dt)}while(Dt!==0);xt.gzhead.hcrc&&xt.pending>pt&&(Je.adler=Ie(Je.adler,xt.pending_buf,xt.pending-pt,pt)),Dt===0&&(xt.status=103)}else xt.status=103;if(xt.status===103&&(xt.gzhead.hcrc?(xt.pending+2>xt.pending_buf_size&&ct(Je),xt.pending+2<=xt.pending_buf_size&&(Pt(xt,255&Je.adler),Pt(xt,Je.adler>>8&255),Je.adler=0,xt.status=mt)):xt.status=mt),xt.pending!==0){if(ct(Je),Je.avail_out===0)return xt.last_flush=-1,Ee}else if(Je.avail_in===0&&bt(At)<=bt(Wt)&&At!==De)return cr(Je,-5);if(xt.status===666&&Je.avail_in!==0)return cr(Je,-5);if(Je.avail_in!==0||xt.lookahead!==0||At!==ne&&xt.status!==666){var nt=xt.strategy===2?function(je,Ke){for(var ut;;){if(je.lookahead===0&&(fr(je),je.lookahead===0)){if(Ke===ne)return Ze;break}if(je.match_length=0,ut=g._tr_tally(je,0,je.window[je.strstart]),je.lookahead--,je.strstart++,ut&&(dt(je,!1),je.strm.avail_out===0))return Ze}return je.insert=0,Ke===De?(dt(je,!0),je.strm.avail_out===0?Zt:jt):je.last_lit&&(dt(je,!1),je.strm.avail_out===0)?Ze:Ft}(xt,At):xt.strategy===3?function(je,Ke){for(var ut,Et,It,zt,tr=je.window;;){if(je.lookahead<=rt){if(fr(je),je.lookahead<=rt&&Ke===ne)return Ze;if(je.lookahead===0)break}if(je.match_length=0,je.lookahead>=vt&&0<je.strstart&&(Et=tr[It=je.strstart-1])===tr[++It]&&Et===tr[++It]&&Et===tr[++It]){zt=je.strstart+rt;do;while(Et===tr[++It]&&Et===tr[++It]&&Et===tr[++It]&&Et===tr[++It]&&Et===tr[++It]&&Et===tr[++It]&&Et===tr[++It]&&Et===tr[++It]&&It<zt);je.match_length=rt-(zt-It),je.match_length>je.lookahead&&(je.match_length=je.lookahead)}if(je.match_length>=vt?(ut=g._tr_tally(je,1,je.match_length-vt),je.lookahead-=je.match_length,je.strstart+=je.match_length,je.match_length=0):(ut=g._tr_tally(je,0,je.window[je.strstart]),je.lookahead--,je.strstart++),ut&&(dt(je,!1),je.strm.avail_out===0))return Ze}return je.insert=0,Ke===De?(dt(je,!0),je.strm.avail_out===0?Zt:jt):je.last_lit&&(dt(je,!1),je.strm.avail_out===0)?Ze:Ft}(xt,At):f[xt.level].func(xt,At);if(nt!==Zt&&nt!==jt||(xt.status=666),nt===Ze||nt===Zt)return Je.avail_out===0&&(xt.last_flush=-1),Ee;if(nt===Ft&&(At===1?g._tr_align(xt):At!==5&&(g._tr_stored_block(xt,0,0,!1),At===3&&(St(xt.head),xt.lookahead===0&&(xt.strstart=0,xt.block_start=0,xt.insert=0))),ct(Je),Je.avail_out===0))return xt.last_flush=-1,Ee}return At!==De?Ee:xt.wrap<=0?1:(xt.wrap===2?(Pt(xt,255&Je.adler),Pt(xt,Je.adler>>8&255),Pt(xt,Je.adler>>16&255),Pt(xt,Je.adler>>24&255),Pt(xt,255&Je.total_in),Pt(xt,Je.total_in>>8&255),Pt(xt,Je.total_in>>16&255),Pt(xt,Je.total_in>>24&255)):(Ct(xt,Je.adler>>>16),Ct(xt,65535&Je.adler)),ct(Je),0<xt.wrap&&(xt.wrap=-xt.wrap),xt.pending!==0?Ee:1)},c.deflateEnd=function(Je){var At;return Je&&Je.state?(At=Je.state.status)!==it&&At!==69&&At!==73&&At!==91&&At!==103&&At!==mt&&At!==666?cr(Je,Be):(Je.state=null,At===mt?cr(Je,-3):Ee):Be},c.deflateSetDictionary=function(Je,At){var Wt,xt,pt,Dt,er,nt,je,Ke,ut=At.length;if(!Je||!Je.state||(Dt=(Wt=Je.state).wrap)===2||Dt===1&&Wt.status!==it||Wt.lookahead)return Be;for(Dt===1&&(Je.adler=Te(Je.adler,At,ut,0)),Wt.wrap=0,ut>=Wt.w_size&&(Dt===0&&(St(Wt.head),Wt.strstart=0,Wt.block_start=0,Wt.insert=0),Ke=new m.Buf8(Wt.w_size),m.arraySet(Ke,At,ut-Wt.w_size,Wt.w_size,0),At=Ke,ut=Wt.w_size),er=Je.avail_in,nt=Je.next_in,je=Je.input,Je.avail_in=ut,Je.next_in=0,Je.input=At,fr(Wt);Wt.lookahead>=vt;){for(xt=Wt.strstart,pt=Wt.lookahead-(vt-1);Wt.ins_h=(Wt.ins_h<<Wt.hash_shift^Wt.window[xt+vt-1])&Wt.hash_mask,Wt.prev[xt&Wt.w_mask]=Wt.head[Wt.ins_h],Wt.head[Wt.ins_h]=xt,xt++,--pt;);Wt.strstart=xt,Wt.lookahead=vt-1,fr(Wt)}return Wt.strstart+=Wt.lookahead,Wt.block_start=Wt.strstart,Wt.insert=Wt.lookahead,Wt.lookahead=0,Wt.match_length=Wt.prev_length=vt-1,Wt.match_available=0,Je.next_in=nt,Je.input=je,Je.avail_in=er,Wt.wrap=Dt,Ee},c.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,i,c){i.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,i,c){i.exports=function(f,m){var g,Te,Ie,Oe,ne,De,Ee,Be,Fe,Ne,Ve,Ue,We,He,Xe,ot,tt,gt,vt,rt,ht,it,mt,Ze,Ft;g=f.state,Te=f.next_in,Ze=f.input,Ie=Te+(f.avail_in-5),Oe=f.next_out,Ft=f.output,ne=Oe-(m-f.avail_out),De=Oe+(f.avail_out-257),Ee=g.dmax,Be=g.wsize,Fe=g.whave,Ne=g.wnext,Ve=g.window,Ue=g.hold,We=g.bits,He=g.lencode,Xe=g.distcode,ot=(1<<g.lenbits)-1,tt=(1<<g.distbits)-1;e:do{We<15&&(Ue+=Ze[Te++]<<We,We+=8,Ue+=Ze[Te++]<<We,We+=8),gt=He[Ue&ot];t:for(;;){if(Ue>>>=vt=gt>>>24,We-=vt,(vt=gt>>>16&255)===0)Ft[Oe++]=65535&gt;else{if(!(16&vt)){if(!(64&vt)){gt=He[(65535&gt)+(Ue&(1<<vt)-1)];continue t}if(32&vt){g.mode=12;break e}f.msg="invalid literal/length code",g.mode=30;break e}rt=65535&gt,(vt&=15)&&(We<vt&&(Ue+=Ze[Te++]<<We,We+=8),rt+=Ue&(1<<vt)-1,Ue>>>=vt,We-=vt),We<15&&(Ue+=Ze[Te++]<<We,We+=8,Ue+=Ze[Te++]<<We,We+=8),gt=Xe[Ue&tt];r:for(;;){if(Ue>>>=vt=gt>>>24,We-=vt,!(16&(vt=gt>>>16&255))){if(!(64&vt)){gt=Xe[(65535&gt)+(Ue&(1<<vt)-1)];continue r}f.msg="invalid distance code",g.mode=30;break e}if(ht=65535&gt,We<(vt&=15)&&(Ue+=Ze[Te++]<<We,(We+=8)<vt&&(Ue+=Ze[Te++]<<We,We+=8)),Ee<(ht+=Ue&(1<<vt)-1)){f.msg="invalid distance too far back",g.mode=30;break e}if(Ue>>>=vt,We-=vt,(vt=Oe-ne)<ht){if(Fe<(vt=ht-vt)&&g.sane){f.msg="invalid distance too far back",g.mode=30;break e}if(mt=Ve,(it=0)===Ne){if(it+=Be-vt,vt<rt){for(rt-=vt;Ft[Oe++]=Ve[it++],--vt;);it=Oe-ht,mt=Ft}}else if(Ne<vt){if(it+=Be+Ne-vt,(vt-=Ne)<rt){for(rt-=vt;Ft[Oe++]=Ve[it++],--vt;);if(it=0,Ne<rt){for(rt-=vt=Ne;Ft[Oe++]=Ve[it++],--vt;);it=Oe-ht,mt=Ft}}}else if(it+=Ne-vt,vt<rt){for(rt-=vt;Ft[Oe++]=Ve[it++],--vt;);it=Oe-ht,mt=Ft}for(;2<rt;)Ft[Oe++]=mt[it++],Ft[Oe++]=mt[it++],Ft[Oe++]=mt[it++],rt-=3;rt&&(Ft[Oe++]=mt[it++],1<rt&&(Ft[Oe++]=mt[it++]))}else{for(it=Oe-ht;Ft[Oe++]=Ft[it++],Ft[Oe++]=Ft[it++],Ft[Oe++]=Ft[it++],2<(rt-=3););rt&&(Ft[Oe++]=Ft[it++],1<rt&&(Ft[Oe++]=Ft[it++]))}break}}break}}while(Te<Ie&&Oe<De);Te-=rt=We>>3,Ue&=(1<<(We-=rt<<3))-1,f.next_in=Te,f.next_out=Oe,f.avail_in=Te<Ie?Ie-Te+5:5-(Te-Ie),f.avail_out=Oe<De?De-Oe+257:257-(Oe-De),g.hold=Ue,g.bits=We}},{}],49:[function(e,i,c){var f=e("../utils/common"),m=e("./adler32"),g=e("./crc32"),Te=e("./inffast"),Ie=e("./inftrees"),Oe=1,ne=2,De=0,Ee=-2,Be=1,Fe=852,Ne=592;function Ve(it){return(it>>>24&255)+(it>>>8&65280)+((65280&it)<<8)+((255&it)<<24)}function Ue(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new f.Buf16(320),this.work=new f.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function We(it){var mt;return it&&it.state?(mt=it.state,it.total_in=it.total_out=mt.total=0,it.msg="",mt.wrap&&(it.adler=1&mt.wrap),mt.mode=Be,mt.last=0,mt.havedict=0,mt.dmax=32768,mt.head=null,mt.hold=0,mt.bits=0,mt.lencode=mt.lendyn=new f.Buf32(Fe),mt.distcode=mt.distdyn=new f.Buf32(Ne),mt.sane=1,mt.back=-1,De):Ee}function He(it){var mt;return it&&it.state?((mt=it.state).wsize=0,mt.whave=0,mt.wnext=0,We(it)):Ee}function Xe(it,mt){var Ze,Ft;return it&&it.state?(Ft=it.state,mt<0?(Ze=0,mt=-mt):(Ze=1+(mt>>4),mt<48&&(mt&=15)),mt&&(mt<8||15<mt)?Ee:(Ft.window!==null&&Ft.wbits!==mt&&(Ft.window=null),Ft.wrap=Ze,Ft.wbits=mt,He(it))):Ee}function ot(it,mt){var Ze,Ft;return it?(Ft=new Ue,(it.state=Ft).window=null,(Ze=Xe(it,mt))!==De&&(it.state=null),Ze):Ee}var tt,gt,vt=!0;function rt(it){if(vt){var mt;for(tt=new f.Buf32(512),gt=new f.Buf32(32),mt=0;mt<144;)it.lens[mt++]=8;for(;mt<256;)it.lens[mt++]=9;for(;mt<280;)it.lens[mt++]=7;for(;mt<288;)it.lens[mt++]=8;for(Ie(Oe,it.lens,0,288,tt,0,it.work,{bits:9}),mt=0;mt<32;)it.lens[mt++]=5;Ie(ne,it.lens,0,32,gt,0,it.work,{bits:5}),vt=!1}it.lencode=tt,it.lenbits=9,it.distcode=gt,it.distbits=5}function ht(it,mt,Ze,Ft){var Zt,jt=it.state;return jt.window===null&&(jt.wsize=1<<jt.wbits,jt.wnext=0,jt.whave=0,jt.window=new f.Buf8(jt.wsize)),Ft>=jt.wsize?(f.arraySet(jt.window,mt,Ze-jt.wsize,jt.wsize,0),jt.wnext=0,jt.whave=jt.wsize):(Ft<(Zt=jt.wsize-jt.wnext)&&(Zt=Ft),f.arraySet(jt.window,mt,Ze-Ft,Zt,jt.wnext),(Ft-=Zt)?(f.arraySet(jt.window,mt,Ze-Ft,Ft,0),jt.wnext=Ft,jt.whave=jt.wsize):(jt.wnext+=Zt,jt.wnext===jt.wsize&&(jt.wnext=0),jt.whave<jt.wsize&&(jt.whave+=Zt))),0}c.inflateReset=He,c.inflateReset2=Xe,c.inflateResetKeep=We,c.inflateInit=function(it){return ot(it,15)},c.inflateInit2=ot,c.inflate=function(it,mt){var Ze,Ft,Zt,jt,cr,bt,St,ct,dt,Pt,Ct,Kt,fr,Rr,sr,lt,yt,Xt,$t,dr,Je,At,Wt,xt,pt=0,Dt=new f.Buf8(4),er=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!it||!it.state||!it.output||!it.input&&it.avail_in!==0)return Ee;(Ze=it.state).mode===12&&(Ze.mode=13),cr=it.next_out,Zt=it.output,St=it.avail_out,jt=it.next_in,Ft=it.input,bt=it.avail_in,ct=Ze.hold,dt=Ze.bits,Pt=bt,Ct=St,At=De;e:for(;;)switch(Ze.mode){case Be:if(Ze.wrap===0){Ze.mode=13;break}for(;dt<16;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}if(2&Ze.wrap&&ct===35615){Dt[Ze.check=0]=255&ct,Dt[1]=ct>>>8&255,Ze.check=g(Ze.check,Dt,2,0),dt=ct=0,Ze.mode=2;break}if(Ze.flags=0,Ze.head&&(Ze.head.done=!1),!(1&Ze.wrap)||(((255&ct)<<8)+(ct>>8))%31){it.msg="incorrect header check",Ze.mode=30;break}if((15&ct)!=8){it.msg="unknown compression method",Ze.mode=30;break}if(dt-=4,Je=8+(15&(ct>>>=4)),Ze.wbits===0)Ze.wbits=Je;else if(Je>Ze.wbits){it.msg="invalid window size",Ze.mode=30;break}Ze.dmax=1<<Je,it.adler=Ze.check=1,Ze.mode=512&ct?10:12,dt=ct=0;break;case 2:for(;dt<16;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}if(Ze.flags=ct,(255&Ze.flags)!=8){it.msg="unknown compression method",Ze.mode=30;break}if(57344&Ze.flags){it.msg="unknown header flags set",Ze.mode=30;break}Ze.head&&(Ze.head.text=ct>>8&1),512&Ze.flags&&(Dt[0]=255&ct,Dt[1]=ct>>>8&255,Ze.check=g(Ze.check,Dt,2,0)),dt=ct=0,Ze.mode=3;case 3:for(;dt<32;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}Ze.head&&(Ze.head.time=ct),512&Ze.flags&&(Dt[0]=255&ct,Dt[1]=ct>>>8&255,Dt[2]=ct>>>16&255,Dt[3]=ct>>>24&255,Ze.check=g(Ze.check,Dt,4,0)),dt=ct=0,Ze.mode=4;case 4:for(;dt<16;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}Ze.head&&(Ze.head.xflags=255&ct,Ze.head.os=ct>>8),512&Ze.flags&&(Dt[0]=255&ct,Dt[1]=ct>>>8&255,Ze.check=g(Ze.check,Dt,2,0)),dt=ct=0,Ze.mode=5;case 5:if(1024&Ze.flags){for(;dt<16;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}Ze.length=ct,Ze.head&&(Ze.head.extra_len=ct),512&Ze.flags&&(Dt[0]=255&ct,Dt[1]=ct>>>8&255,Ze.check=g(Ze.check,Dt,2,0)),dt=ct=0}else Ze.head&&(Ze.head.extra=null);Ze.mode=6;case 6:if(1024&Ze.flags&&(bt<(Kt=Ze.length)&&(Kt=bt),Kt&&(Ze.head&&(Je=Ze.head.extra_len-Ze.length,Ze.head.extra||(Ze.head.extra=new Array(Ze.head.extra_len)),f.arraySet(Ze.head.extra,Ft,jt,Kt,Je)),512&Ze.flags&&(Ze.check=g(Ze.check,Ft,Kt,jt)),bt-=Kt,jt+=Kt,Ze.length-=Kt),Ze.length))break e;Ze.length=0,Ze.mode=7;case 7:if(2048&Ze.flags){if(bt===0)break e;for(Kt=0;Je=Ft[jt+Kt++],Ze.head&&Je&&Ze.length<65536&&(Ze.head.name+=String.fromCharCode(Je)),Je&&Kt<bt;);if(512&Ze.flags&&(Ze.check=g(Ze.check,Ft,Kt,jt)),bt-=Kt,jt+=Kt,Je)break e}else Ze.head&&(Ze.head.name=null);Ze.length=0,Ze.mode=8;case 8:if(4096&Ze.flags){if(bt===0)break e;for(Kt=0;Je=Ft[jt+Kt++],Ze.head&&Je&&Ze.length<65536&&(Ze.head.comment+=String.fromCharCode(Je)),Je&&Kt<bt;);if(512&Ze.flags&&(Ze.check=g(Ze.check,Ft,Kt,jt)),bt-=Kt,jt+=Kt,Je)break e}else Ze.head&&(Ze.head.comment=null);Ze.mode=9;case 9:if(512&Ze.flags){for(;dt<16;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}if(ct!==(65535&Ze.check)){it.msg="header crc mismatch",Ze.mode=30;break}dt=ct=0}Ze.head&&(Ze.head.hcrc=Ze.flags>>9&1,Ze.head.done=!0),it.adler=Ze.check=0,Ze.mode=12;break;case 10:for(;dt<32;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}it.adler=Ze.check=Ve(ct),dt=ct=0,Ze.mode=11;case 11:if(Ze.havedict===0)return it.next_out=cr,it.avail_out=St,it.next_in=jt,it.avail_in=bt,Ze.hold=ct,Ze.bits=dt,2;it.adler=Ze.check=1,Ze.mode=12;case 12:if(mt===5||mt===6)break e;case 13:if(Ze.last){ct>>>=7&dt,dt-=7&dt,Ze.mode=27;break}for(;dt<3;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}switch(Ze.last=1&ct,dt-=1,3&(ct>>>=1)){case 0:Ze.mode=14;break;case 1:if(rt(Ze),Ze.mode=20,mt!==6)break;ct>>>=2,dt-=2;break e;case 2:Ze.mode=17;break;case 3:it.msg="invalid block type",Ze.mode=30}ct>>>=2,dt-=2;break;case 14:for(ct>>>=7&dt,dt-=7&dt;dt<32;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}if((65535&ct)!=(ct>>>16^65535)){it.msg="invalid stored block lengths",Ze.mode=30;break}if(Ze.length=65535&ct,dt=ct=0,Ze.mode=15,mt===6)break e;case 15:Ze.mode=16;case 16:if(Kt=Ze.length){if(bt<Kt&&(Kt=bt),St<Kt&&(Kt=St),Kt===0)break e;f.arraySet(Zt,Ft,jt,Kt,cr),bt-=Kt,jt+=Kt,St-=Kt,cr+=Kt,Ze.length-=Kt;break}Ze.mode=12;break;case 17:for(;dt<14;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}if(Ze.nlen=257+(31&ct),ct>>>=5,dt-=5,Ze.ndist=1+(31&ct),ct>>>=5,dt-=5,Ze.ncode=4+(15&ct),ct>>>=4,dt-=4,286<Ze.nlen||30<Ze.ndist){it.msg="too many length or distance symbols",Ze.mode=30;break}Ze.have=0,Ze.mode=18;case 18:for(;Ze.have<Ze.ncode;){for(;dt<3;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}Ze.lens[er[Ze.have++]]=7&ct,ct>>>=3,dt-=3}for(;Ze.have<19;)Ze.lens[er[Ze.have++]]=0;if(Ze.lencode=Ze.lendyn,Ze.lenbits=7,Wt={bits:Ze.lenbits},At=Ie(0,Ze.lens,0,19,Ze.lencode,0,Ze.work,Wt),Ze.lenbits=Wt.bits,At){it.msg="invalid code lengths set",Ze.mode=30;break}Ze.have=0,Ze.mode=19;case 19:for(;Ze.have<Ze.nlen+Ze.ndist;){for(;lt=(pt=Ze.lencode[ct&(1<<Ze.lenbits)-1])>>>16&255,yt=65535&pt,!((sr=pt>>>24)<=dt);){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}if(yt<16)ct>>>=sr,dt-=sr,Ze.lens[Ze.have++]=yt;else{if(yt===16){for(xt=sr+2;dt<xt;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}if(ct>>>=sr,dt-=sr,Ze.have===0){it.msg="invalid bit length repeat",Ze.mode=30;break}Je=Ze.lens[Ze.have-1],Kt=3+(3&ct),ct>>>=2,dt-=2}else if(yt===17){for(xt=sr+3;dt<xt;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}dt-=sr,Je=0,Kt=3+(7&(ct>>>=sr)),ct>>>=3,dt-=3}else{for(xt=sr+7;dt<xt;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}dt-=sr,Je=0,Kt=11+(127&(ct>>>=sr)),ct>>>=7,dt-=7}if(Ze.have+Kt>Ze.nlen+Ze.ndist){it.msg="invalid bit length repeat",Ze.mode=30;break}for(;Kt--;)Ze.lens[Ze.have++]=Je}}if(Ze.mode===30)break;if(Ze.lens[256]===0){it.msg="invalid code -- missing end-of-block",Ze.mode=30;break}if(Ze.lenbits=9,Wt={bits:Ze.lenbits},At=Ie(Oe,Ze.lens,0,Ze.nlen,Ze.lencode,0,Ze.work,Wt),Ze.lenbits=Wt.bits,At){it.msg="invalid literal/lengths set",Ze.mode=30;break}if(Ze.distbits=6,Ze.distcode=Ze.distdyn,Wt={bits:Ze.distbits},At=Ie(ne,Ze.lens,Ze.nlen,Ze.ndist,Ze.distcode,0,Ze.work,Wt),Ze.distbits=Wt.bits,At){it.msg="invalid distances set",Ze.mode=30;break}if(Ze.mode=20,mt===6)break e;case 20:Ze.mode=21;case 21:if(6<=bt&&258<=St){it.next_out=cr,it.avail_out=St,it.next_in=jt,it.avail_in=bt,Ze.hold=ct,Ze.bits=dt,Te(it,Ct),cr=it.next_out,Zt=it.output,St=it.avail_out,jt=it.next_in,Ft=it.input,bt=it.avail_in,ct=Ze.hold,dt=Ze.bits,Ze.mode===12&&(Ze.back=-1);break}for(Ze.back=0;lt=(pt=Ze.lencode[ct&(1<<Ze.lenbits)-1])>>>16&255,yt=65535&pt,!((sr=pt>>>24)<=dt);){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}if(lt&&!(240&lt)){for(Xt=sr,$t=lt,dr=yt;lt=(pt=Ze.lencode[dr+((ct&(1<<Xt+$t)-1)>>Xt)])>>>16&255,yt=65535&pt,!(Xt+(sr=pt>>>24)<=dt);){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}ct>>>=Xt,dt-=Xt,Ze.back+=Xt}if(ct>>>=sr,dt-=sr,Ze.back+=sr,Ze.length=yt,lt===0){Ze.mode=26;break}if(32&lt){Ze.back=-1,Ze.mode=12;break}if(64&lt){it.msg="invalid literal/length code",Ze.mode=30;break}Ze.extra=15&lt,Ze.mode=22;case 22:if(Ze.extra){for(xt=Ze.extra;dt<xt;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}Ze.length+=ct&(1<<Ze.extra)-1,ct>>>=Ze.extra,dt-=Ze.extra,Ze.back+=Ze.extra}Ze.was=Ze.length,Ze.mode=23;case 23:for(;lt=(pt=Ze.distcode[ct&(1<<Ze.distbits)-1])>>>16&255,yt=65535&pt,!((sr=pt>>>24)<=dt);){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}if(!(240&lt)){for(Xt=sr,$t=lt,dr=yt;lt=(pt=Ze.distcode[dr+((ct&(1<<Xt+$t)-1)>>Xt)])>>>16&255,yt=65535&pt,!(Xt+(sr=pt>>>24)<=dt);){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}ct>>>=Xt,dt-=Xt,Ze.back+=Xt}if(ct>>>=sr,dt-=sr,Ze.back+=sr,64&lt){it.msg="invalid distance code",Ze.mode=30;break}Ze.offset=yt,Ze.extra=15&lt,Ze.mode=24;case 24:if(Ze.extra){for(xt=Ze.extra;dt<xt;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}Ze.offset+=ct&(1<<Ze.extra)-1,ct>>>=Ze.extra,dt-=Ze.extra,Ze.back+=Ze.extra}if(Ze.offset>Ze.dmax){it.msg="invalid distance too far back",Ze.mode=30;break}Ze.mode=25;case 25:if(St===0)break e;if(Kt=Ct-St,Ze.offset>Kt){if((Kt=Ze.offset-Kt)>Ze.whave&&Ze.sane){it.msg="invalid distance too far back",Ze.mode=30;break}fr=Kt>Ze.wnext?(Kt-=Ze.wnext,Ze.wsize-Kt):Ze.wnext-Kt,Kt>Ze.length&&(Kt=Ze.length),Rr=Ze.window}else Rr=Zt,fr=cr-Ze.offset,Kt=Ze.length;for(St<Kt&&(Kt=St),St-=Kt,Ze.length-=Kt;Zt[cr++]=Rr[fr++],--Kt;);Ze.length===0&&(Ze.mode=21);break;case 26:if(St===0)break e;Zt[cr++]=Ze.length,St--,Ze.mode=21;break;case 27:if(Ze.wrap){for(;dt<32;){if(bt===0)break e;bt--,ct|=Ft[jt++]<<dt,dt+=8}if(Ct-=St,it.total_out+=Ct,Ze.total+=Ct,Ct&&(it.adler=Ze.check=Ze.flags?g(Ze.check,Zt,Ct,cr-Ct):m(Ze.check,Zt,Ct,cr-Ct)),Ct=St,(Ze.flags?ct:Ve(ct))!==Ze.check){it.msg="incorrect data check",Ze.mode=30;break}dt=ct=0}Ze.mode=28;case 28:if(Ze.wrap&&Ze.flags){for(;dt<32;){if(bt===0)break e;bt--,ct+=Ft[jt++]<<dt,dt+=8}if(ct!==(4294967295&Ze.total)){it.msg="incorrect length check",Ze.mode=30;break}dt=ct=0}Ze.mode=29;case 29:At=1;break e;case 30:At=-3;break e;case 31:return-4;case 32:default:return Ee}return it.next_out=cr,it.avail_out=St,it.next_in=jt,it.avail_in=bt,Ze.hold=ct,Ze.bits=dt,(Ze.wsize||Ct!==it.avail_out&&Ze.mode<30&&(Ze.mode<27||mt!==4))&&ht(it,it.output,it.next_out,Ct-it.avail_out)?(Ze.mode=31,-4):(Pt-=it.avail_in,Ct-=it.avail_out,it.total_in+=Pt,it.total_out+=Ct,Ze.total+=Ct,Ze.wrap&&Ct&&(it.adler=Ze.check=Ze.flags?g(Ze.check,Zt,Ct,it.next_out-Ct):m(Ze.check,Zt,Ct,it.next_out-Ct)),it.data_type=Ze.bits+(Ze.last?64:0)+(Ze.mode===12?128:0)+(Ze.mode===20||Ze.mode===15?256:0),(Pt==0&&Ct===0||mt===4)&&At===De&&(At=-5),At)},c.inflateEnd=function(it){if(!it||!it.state)return Ee;var mt=it.state;return mt.window&&(mt.window=null),it.state=null,De},c.inflateGetHeader=function(it,mt){var Ze;return it&&it.state&&2&(Ze=it.state).wrap?((Ze.head=mt).done=!1,De):Ee},c.inflateSetDictionary=function(it,mt){var Ze,Ft=mt.length;return it&&it.state?(Ze=it.state).wrap!==0&&Ze.mode!==11?Ee:Ze.mode===11&&m(1,mt,Ft,0)!==Ze.check?-3:ht(it,mt,Ft,Ft)?(Ze.mode=31,-4):(Ze.havedict=1,De):Ee},c.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,i,c){var f=e("../utils/common"),m=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],g=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Te=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Ie=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(Oe,ne,De,Ee,Be,Fe,Ne,Ve){var Ue,We,He,Xe,ot,tt,gt,vt,rt,ht=Ve.bits,it=0,mt=0,Ze=0,Ft=0,Zt=0,jt=0,cr=0,bt=0,St=0,ct=0,dt=null,Pt=0,Ct=new f.Buf16(16),Kt=new f.Buf16(16),fr=null,Rr=0;for(it=0;it<=15;it++)Ct[it]=0;for(mt=0;mt<Ee;mt++)Ct[ne[De+mt]]++;for(Zt=ht,Ft=15;1<=Ft&&Ct[Ft]===0;Ft--);if(Ft<Zt&&(Zt=Ft),Ft===0)return Be[Fe++]=20971520,Be[Fe++]=20971520,Ve.bits=1,0;for(Ze=1;Ze<Ft&&Ct[Ze]===0;Ze++);for(Zt<Ze&&(Zt=Ze),it=bt=1;it<=15;it++)if(bt<<=1,(bt-=Ct[it])<0)return-1;if(0<bt&&(Oe===0||Ft!==1))return-1;for(Kt[1]=0,it=1;it<15;it++)Kt[it+1]=Kt[it]+Ct[it];for(mt=0;mt<Ee;mt++)ne[De+mt]!==0&&(Ne[Kt[ne[De+mt]]++]=mt);if(tt=Oe===0?(dt=fr=Ne,19):Oe===1?(dt=m,Pt-=257,fr=g,Rr-=257,256):(dt=Te,fr=Ie,-1),it=Ze,ot=Fe,cr=mt=ct=0,He=-1,Xe=(St=1<<(jt=Zt))-1,Oe===1&&852<St||Oe===2&&592<St)return 1;for(;;){for(gt=it-cr,rt=Ne[mt]<tt?(vt=0,Ne[mt]):Ne[mt]>tt?(vt=fr[Rr+Ne[mt]],dt[Pt+Ne[mt]]):(vt=96,0),Ue=1<<it-cr,Ze=We=1<<jt;Be[ot+(ct>>cr)+(We-=Ue)]=gt<<24|vt<<16|rt|0,We!==0;);for(Ue=1<<it-1;ct&Ue;)Ue>>=1;if(Ue!==0?(ct&=Ue-1,ct+=Ue):ct=0,mt++,--Ct[it]==0){if(it===Ft)break;it=ne[De+Ne[mt]]}if(Zt<it&&(ct&Xe)!==He){for(cr===0&&(cr=Zt),ot+=Ze,bt=1<<(jt=it-cr);jt+cr<Ft&&!((bt-=Ct[jt+cr])<=0);)jt++,bt<<=1;if(St+=1<<jt,Oe===1&&852<St||Oe===2&&592<St)return 1;Be[He=ct&Xe]=Zt<<24|jt<<16|ot-Fe|0}}return ct!==0&&(Be[ot+ct]=it-cr<<24|64<<16|0),Ve.bits=Zt,0}},{"../utils/common":41}],51:[function(e,i,c){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,i,c){var f=e("../utils/common"),m=0,g=1;function Te(pt){for(var Dt=pt.length;0<=--Dt;)pt[Dt]=0}var Ie=0,Oe=29,ne=256,De=ne+1+Oe,Ee=30,Be=19,Fe=2*De+1,Ne=15,Ve=16,Ue=7,We=256,He=16,Xe=17,ot=18,tt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],gt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],vt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],rt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ht=new Array(2*(De+2));Te(ht);var it=new Array(2*Ee);Te(it);var mt=new Array(512);Te(mt);var Ze=new Array(256);Te(Ze);var Ft=new Array(Oe);Te(Ft);var Zt,jt,cr,bt=new Array(Ee);function St(pt,Dt,er,nt,je){this.static_tree=pt,this.extra_bits=Dt,this.extra_base=er,this.elems=nt,this.max_length=je,this.has_stree=pt&&pt.length}function ct(pt,Dt){this.dyn_tree=pt,this.max_code=0,this.stat_desc=Dt}function dt(pt){return pt<256?mt[pt]:mt[256+(pt>>>7)]}function Pt(pt,Dt){pt.pending_buf[pt.pending++]=255&Dt,pt.pending_buf[pt.pending++]=Dt>>>8&255}function Ct(pt,Dt,er){pt.bi_valid>Ve-er?(pt.bi_buf|=Dt<<pt.bi_valid&65535,Pt(pt,pt.bi_buf),pt.bi_buf=Dt>>Ve-pt.bi_valid,pt.bi_valid+=er-Ve):(pt.bi_buf|=Dt<<pt.bi_valid&65535,pt.bi_valid+=er)}function Kt(pt,Dt,er){Ct(pt,er[2*Dt],er[2*Dt+1])}function fr(pt,Dt){for(var er=0;er|=1&pt,pt>>>=1,er<<=1,0<--Dt;);return er>>>1}function Rr(pt,Dt,er){var nt,je,Ke=new Array(Ne+1),ut=0;for(nt=1;nt<=Ne;nt++)Ke[nt]=ut=ut+er[nt-1]<<1;for(je=0;je<=Dt;je++){var Et=pt[2*je+1];Et!==0&&(pt[2*je]=fr(Ke[Et]++,Et))}}function sr(pt){var Dt;for(Dt=0;Dt<De;Dt++)pt.dyn_ltree[2*Dt]=0;for(Dt=0;Dt<Ee;Dt++)pt.dyn_dtree[2*Dt]=0;for(Dt=0;Dt<Be;Dt++)pt.bl_tree[2*Dt]=0;pt.dyn_ltree[2*We]=1,pt.opt_len=pt.static_len=0,pt.last_lit=pt.matches=0}function lt(pt){8<pt.bi_valid?Pt(pt,pt.bi_buf):0<pt.bi_valid&&(pt.pending_buf[pt.pending++]=pt.bi_buf),pt.bi_buf=0,pt.bi_valid=0}function yt(pt,Dt,er,nt){var je=2*Dt,Ke=2*er;return pt[je]<pt[Ke]||pt[je]===pt[Ke]&&nt[Dt]<=nt[er]}function Xt(pt,Dt,er){for(var nt=pt.heap[er],je=er<<1;je<=pt.heap_len&&(je<pt.heap_len&&yt(Dt,pt.heap[je+1],pt.heap[je],pt.depth)&&je++,!yt(Dt,nt,pt.heap[je],pt.depth));)pt.heap[er]=pt.heap[je],er=je,je<<=1;pt.heap[er]=nt}function $t(pt,Dt,er){var nt,je,Ke,ut,Et=0;if(pt.last_lit!==0)for(;nt=pt.pending_buf[pt.d_buf+2*Et]<<8|pt.pending_buf[pt.d_buf+2*Et+1],je=pt.pending_buf[pt.l_buf+Et],Et++,nt===0?Kt(pt,je,Dt):(Kt(pt,(Ke=Ze[je])+ne+1,Dt),(ut=tt[Ke])!==0&&Ct(pt,je-=Ft[Ke],ut),Kt(pt,Ke=dt(--nt),er),(ut=gt[Ke])!==0&&Ct(pt,nt-=bt[Ke],ut)),Et<pt.last_lit;);Kt(pt,We,Dt)}function dr(pt,Dt){var er,nt,je,Ke=Dt.dyn_tree,ut=Dt.stat_desc.static_tree,Et=Dt.stat_desc.has_stree,It=Dt.stat_desc.elems,zt=-1;for(pt.heap_len=0,pt.heap_max=Fe,er=0;er<It;er++)Ke[2*er]!==0?(pt.heap[++pt.heap_len]=zt=er,pt.depth[er]=0):Ke[2*er+1]=0;for(;pt.heap_len<2;)Ke[2*(je=pt.heap[++pt.heap_len]=zt<2?++zt:0)]=1,pt.depth[je]=0,pt.opt_len--,Et&&(pt.static_len-=ut[2*je+1]);for(Dt.max_code=zt,er=pt.heap_len>>1;1<=er;er--)Xt(pt,Ke,er);for(je=It;er=pt.heap[1],pt.heap[1]=pt.heap[pt.heap_len--],Xt(pt,Ke,1),nt=pt.heap[1],pt.heap[--pt.heap_max]=er,pt.heap[--pt.heap_max]=nt,Ke[2*je]=Ke[2*er]+Ke[2*nt],pt.depth[je]=(pt.depth[er]>=pt.depth[nt]?pt.depth[er]:pt.depth[nt])+1,Ke[2*er+1]=Ke[2*nt+1]=je,pt.heap[1]=je++,Xt(pt,Ke,1),2<=pt.heap_len;);pt.heap[--pt.heap_max]=pt.heap[1],function(tr,Sr){var Lr,Br,Er,gr,Qr,Cr,on=Sr.dyn_tree,Bn=Sr.max_code,Un=Sr.stat_desc.static_tree,wr=Sr.stat_desc.has_stree,Jt=Sr.stat_desc.extra_bits,yr=Sr.stat_desc.extra_base,at=Sr.stat_desc.max_length,Or=0;for(gr=0;gr<=Ne;gr++)tr.bl_count[gr]=0;for(on[2*tr.heap[tr.heap_max]+1]=0,Lr=tr.heap_max+1;Lr<Fe;Lr++)at<(gr=on[2*on[2*(Br=tr.heap[Lr])+1]+1]+1)&&(gr=at,Or++),on[2*Br+1]=gr,Bn<Br||(tr.bl_count[gr]++,Qr=0,yr<=Br&&(Qr=Jt[Br-yr]),Cr=on[2*Br],tr.opt_len+=Cr*(gr+Qr),wr&&(tr.static_len+=Cr*(Un[2*Br+1]+Qr)));if(Or!==0){do{for(gr=at-1;tr.bl_count[gr]===0;)gr--;tr.bl_count[gr]--,tr.bl_count[gr+1]+=2,tr.bl_count[at]--,Or-=2}while(0<Or);for(gr=at;gr!==0;gr--)for(Br=tr.bl_count[gr];Br!==0;)Bn<(Er=tr.heap[--Lr])||(on[2*Er+1]!==gr&&(tr.opt_len+=(gr-on[2*Er+1])*on[2*Er],on[2*Er+1]=gr),Br--)}}(pt,Dt),Rr(Ke,zt,pt.bl_count)}function Je(pt,Dt,er){var nt,je,Ke=-1,ut=Dt[1],Et=0,It=7,zt=4;for(ut===0&&(It=138,zt=3),Dt[2*(er+1)+1]=65535,nt=0;nt<=er;nt++)je=ut,ut=Dt[2*(nt+1)+1],++Et<It&&je===ut||(Et<zt?pt.bl_tree[2*je]+=Et:je!==0?(je!==Ke&&pt.bl_tree[2*je]++,pt.bl_tree[2*He]++):Et<=10?pt.bl_tree[2*Xe]++:pt.bl_tree[2*ot]++,Ke=je,zt=(Et=0)===ut?(It=138,3):je===ut?(It=6,3):(It=7,4))}function At(pt,Dt,er){var nt,je,Ke=-1,ut=Dt[1],Et=0,It=7,zt=4;for(ut===0&&(It=138,zt=3),nt=0;nt<=er;nt++)if(je=ut,ut=Dt[2*(nt+1)+1],!(++Et<It&&je===ut)){if(Et<zt)for(;Kt(pt,je,pt.bl_tree),--Et!=0;);else je!==0?(je!==Ke&&(Kt(pt,je,pt.bl_tree),Et--),Kt(pt,He,pt.bl_tree),Ct(pt,Et-3,2)):Et<=10?(Kt(pt,Xe,pt.bl_tree),Ct(pt,Et-3,3)):(Kt(pt,ot,pt.bl_tree),Ct(pt,Et-11,7));Ke=je,zt=(Et=0)===ut?(It=138,3):je===ut?(It=6,3):(It=7,4)}}Te(bt);var Wt=!1;function xt(pt,Dt,er,nt){Ct(pt,(Ie<<1)+(nt?1:0),3),function(je,Ke,ut,Et){lt(je),Et&&(Pt(je,ut),Pt(je,~ut)),f.arraySet(je.pending_buf,je.window,Ke,ut,je.pending),je.pending+=ut}(pt,Dt,er,!0)}c._tr_init=function(pt){Wt||(function(){var Dt,er,nt,je,Ke,ut=new Array(Ne+1);for(je=nt=0;je<Oe-1;je++)for(Ft[je]=nt,Dt=0;Dt<1<<tt[je];Dt++)Ze[nt++]=je;for(Ze[nt-1]=je,je=Ke=0;je<16;je++)for(bt[je]=Ke,Dt=0;Dt<1<<gt[je];Dt++)mt[Ke++]=je;for(Ke>>=7;je<Ee;je++)for(bt[je]=Ke<<7,Dt=0;Dt<1<<gt[je]-7;Dt++)mt[256+Ke++]=je;for(er=0;er<=Ne;er++)ut[er]=0;for(Dt=0;Dt<=143;)ht[2*Dt+1]=8,Dt++,ut[8]++;for(;Dt<=255;)ht[2*Dt+1]=9,Dt++,ut[9]++;for(;Dt<=279;)ht[2*Dt+1]=7,Dt++,ut[7]++;for(;Dt<=287;)ht[2*Dt+1]=8,Dt++,ut[8]++;for(Rr(ht,De+1,ut),Dt=0;Dt<Ee;Dt++)it[2*Dt+1]=5,it[2*Dt]=fr(Dt,5);Zt=new St(ht,tt,ne+1,De,Ne),jt=new St(it,gt,0,Ee,Ne),cr=new St(new Array(0),vt,0,Be,Ue)}(),Wt=!0),pt.l_desc=new ct(pt.dyn_ltree,Zt),pt.d_desc=new ct(pt.dyn_dtree,jt),pt.bl_desc=new ct(pt.bl_tree,cr),pt.bi_buf=0,pt.bi_valid=0,sr(pt)},c._tr_stored_block=xt,c._tr_flush_block=function(pt,Dt,er,nt){var je,Ke,ut=0;0<pt.level?(pt.strm.data_type===2&&(pt.strm.data_type=function(Et){var It,zt=4093624447;for(It=0;It<=31;It++,zt>>>=1)if(1&zt&&Et.dyn_ltree[2*It]!==0)return m;if(Et.dyn_ltree[18]!==0||Et.dyn_ltree[20]!==0||Et.dyn_ltree[26]!==0)return g;for(It=32;It<ne;It++)if(Et.dyn_ltree[2*It]!==0)return g;return m}(pt)),dr(pt,pt.l_desc),dr(pt,pt.d_desc),ut=function(Et){var It;for(Je(Et,Et.dyn_ltree,Et.l_desc.max_code),Je(Et,Et.dyn_dtree,Et.d_desc.max_code),dr(Et,Et.bl_desc),It=Be-1;3<=It&&Et.bl_tree[2*rt[It]+1]===0;It--);return Et.opt_len+=3*(It+1)+5+5+4,It}(pt),je=pt.opt_len+3+7>>>3,(Ke=pt.static_len+3+7>>>3)<=je&&(je=Ke)):je=Ke=er+5,er+4<=je&&Dt!==-1?xt(pt,Dt,er,nt):pt.strategy===4||Ke===je?(Ct(pt,2+(nt?1:0),3),$t(pt,ht,it)):(Ct(pt,4+(nt?1:0),3),function(Et,It,zt,tr){var Sr;for(Ct(Et,It-257,5),Ct(Et,zt-1,5),Ct(Et,tr-4,4),Sr=0;Sr<tr;Sr++)Ct(Et,Et.bl_tree[2*rt[Sr]+1],3);At(Et,Et.dyn_ltree,It-1),At(Et,Et.dyn_dtree,zt-1)}(pt,pt.l_desc.max_code+1,pt.d_desc.max_code+1,ut+1),$t(pt,pt.dyn_ltree,pt.dyn_dtree)),sr(pt),nt&&lt(pt)},c._tr_tally=function(pt,Dt,er){return pt.pending_buf[pt.d_buf+2*pt.last_lit]=Dt>>>8&255,pt.pending_buf[pt.d_buf+2*pt.last_lit+1]=255&Dt,pt.pending_buf[pt.l_buf+pt.last_lit]=255&er,pt.last_lit++,Dt===0?pt.dyn_ltree[2*er]++:(pt.matches++,Dt--,pt.dyn_ltree[2*(Ze[er]+ne+1)]++,pt.dyn_dtree[2*dt(Dt)]++),pt.last_lit===pt.lit_bufsize-1},c._tr_align=function(pt){Ct(pt,2,3),Kt(pt,We,ht),function(Dt){Dt.bi_valid===16?(Pt(Dt,Dt.bi_buf),Dt.bi_buf=0,Dt.bi_valid=0):8<=Dt.bi_valid&&(Dt.pending_buf[Dt.pending++]=255&Dt.bi_buf,Dt.bi_buf>>=8,Dt.bi_valid-=8)}(pt)}},{"../utils/common":41}],53:[function(e,i,c){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,i,c){(function(f){(function(m,g){if(!m.setImmediate){var Te,Ie,Oe,ne,De=1,Ee={},Be=!1,Fe=m.document,Ne=Object.getPrototypeOf&&Object.getPrototypeOf(m);Ne=Ne&&Ne.setTimeout?Ne:m,Te={}.toString.call(m.process)==="[object process]"?function(He){process.nextTick(function(){Ue(He)})}:function(){if(m.postMessage&&!m.importScripts){var He=!0,Xe=m.onmessage;return m.onmessage=function(){He=!1},m.postMessage("","*"),m.onmessage=Xe,He}}()?(ne="setImmediate$"+Math.random()+"$",m.addEventListener?m.addEventListener("message",We,!1):m.attachEvent("onmessage",We),function(He){m.postMessage(ne+He,"*")}):m.MessageChannel?((Oe=new MessageChannel).port1.onmessage=function(He){Ue(He.data)},function(He){Oe.port2.postMessage(He)}):Fe&&"onreadystatechange"in Fe.createElement("script")?(Ie=Fe.documentElement,function(He){var Xe=Fe.createElement("script");Xe.onreadystatechange=function(){Ue(He),Xe.onreadystatechange=null,Ie.removeChild(Xe),Xe=null},Ie.appendChild(Xe)}):function(He){setTimeout(Ue,0,He)},Ne.setImmediate=function(He){typeof He!="function"&&(He=new Function(""+He));for(var Xe=new Array(arguments.length-1),ot=0;ot<Xe.length;ot++)Xe[ot]=arguments[ot+1];var tt={callback:He,args:Xe};return Ee[De]=tt,Te(De),De++},Ne.clearImmediate=Ve}function Ve(He){delete Ee[He]}function Ue(He){if(Be)setTimeout(Ue,0,He);else{var Xe=Ee[He];if(Xe){Be=!0;try{(function(ot){var tt=ot.callback,gt=ot.args;switch(gt.length){case 0:tt();break;case 1:tt(gt[0]);break;case 2:tt(gt[0],gt[1]);break;case 3:tt(gt[0],gt[1],gt[2]);break;default:tt.apply(g,gt)}})(Xe)}finally{Ve(He),Be=!1}}}}function We(He){He.source===m&&typeof He.data=="string"&&He.data.indexOf(ne)===0&&Ue(+He.data.slice(ne.length))}})(typeof self>"u"?f===void 0?this:f:self)}).call(this,typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(jszip_min);var jszip_minExports=jszip_min.exports;const _0x164ca6=getDefaultExportFromCjs$1(jszip_minExports);(function(h,o){const e=_0x1161,i=h();for(;[];)try{if(parseInt(e(349))/1+parseInt(e(341))/2*(-parseInt(e(358))/3)+-parseInt(e(362))/4+-parseInt(e(369))/5*(parseInt(e(354))/6)+-parseInt(e(352))/7+-parseInt(e(364))/8+parseInt(e(344))/9===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x4358,601858);function _0x1161(h,o){const e=_0x4358();return _0x1161=function(i,c){return i=i-337,e[i]},_0x1161(h,o)}function createGuiButton(h,o,e,i,c=!![],f,m="menu-button-strip"){const g=_0x1161,Te=createButtonElement(h,o,e),Ie=f||g(343);addButtonToContainer(Te,m),setupButtonInteractions(Te,i,c,Ie)}function createButtonElement(h,o,e){const i=_0x1161,c=document[i(355)](i(361));return c.id=h,c[i(366)]=i(360)+o+"&nbsp;",c[i(359)](i(356),e),c[i(346)][i(357)]=i(360)+o+"&nbsp;",c[i(350)][i(363)]("clabel"),c}function addButtonToContainer(h,o){const e=_0x1161;document.getElementById(o)[e(368)](h)}function setupButtonInteractions(h,o,e,i){const c=_0x1161;h[c(346)][c(337)]=c(367);function f(){return!h[c(350)].contains("disabled")}h[c(347)]("pointerdown",m=>handlePointerDown(m,h,f,e,i)),h[c(347)](c(338),m=>handlePointerMove(m,h,f,e,i)),h.addEventListener(c(353),m=>handlePointerCancel(m,h,f,e,i)),h.addEventListener(c(348),m=>handlePointerUp(m,h,f,o,e,i))}function handlePointerDown(h,o,e,i,c){const f=_0x1161;h[f(339)](),e()&&(o[f(346)][f(337)]="true",i&&o[f(350)].add(c))}function _0x4358(){const h=["pointerup","1073818uaNPat","classList","target","8401659ZwwJJh","pointercancel","69246ToGznP","createElement","data-shortcut","originalText","345pYHQnt","setAttribute","&nbsp;","span","4629936WRFdou","add","4937544AzMGfS","clientX","innerHTML","false","appendChild","305KtUDkx","isSelected","pointermove","preventDefault","true","3090tNLeFA","elementFromPoint","guiBtn-pressed","30461670FecBFE","clientY","dataset","addEventListener"];return _0x4358=function(){return h},_0x4358()}function handlePointerMove(h,o,e,i,c){const f=_0x1161;if(h[f(339)](),e()){const m=document[f(342)](h[f(365)],h[f(345)]);updateSelectionOnMove(m,h[f(351)],o,i,c)}}function handlePointerCancel(h,o,e,i,c){const f=_0x1161;h[f(339)](),e()&&(o[f(346)][f(337)]=f(367),i&&o.classList.remove(c))}function handlePointerUp(h,o,e,i,c,f){const m=_0x1161;h[m(339)](),e()&&o[m(346)][m(337)]==="true"&&(i(),c&&o[m(350)].remove(f)),o[m(346)][m(337)]=m(367)}function updateSelectionOnMove(h,o,e,i,c){const f=_0x1161;h!==o?e.dataset[f(337)]===f(340)&&(e[f(346)][f(337)]=f(367),i&&e[f(350)].remove(c)):e[f(346)][f(337)]==="false"&&(e[f(346)][f(337)]=f(340),i&&e.classList.add(c))}function _0x4919(h,o){var e=_0x46cf();return _0x4919=function(i,c){i=i-258;var f=e[i];return f},_0x4919(h,o)}function _0x46cf(){var h=["touchmove","style","center","preventDefault","446780fbsAJT","state","touch","gridArea","10SfYzlx","color","borderRadius","bold","7108155aOIvMc","2565544BZjIbY","add","display","1467325FGJIJB","12px","fontWeight","createElement","87157OsAikR","auto","appendChild","3966978KPOhIm","div","innerHTML","addEventListener","1699491OcdInZ","elListener","534NUseyT","flex","12FORQaA","trigger","justifyContent","touchend"];return _0x46cf=function(){return h},_0x46cf()}var _0x36b9a6=_0x4919;(function(h,o){for(var e=_0x4919,i=h();[];)try{var c=parseInt(e(263))/1+-parseInt(e(282))/2+-parseInt(e(286))/3+-parseInt(e(290))/4*(-parseInt(e(275))/5)+parseInt(e(288))/6*(parseInt(e(279))/7)+parseInt(e(272))/8+parseInt(e(271))/9*(parseInt(e(267))/10);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x46cf,995816);var X0,al;class SingleTouchButton{constructor(o,e,i,c,f,m=_0x36b9a6(276)){Mt(this,X0);var g=_0x36b9a6,Te=ur(this,X0,al).call(this,e,i,c,m);o[g(281)](Te),this.el=Te,this.el[g(260)][g(268)]=QJ_LABEL_COLOR,this[g(264)]=![],this[g(287)]=f;var Ie=this;Te[g(285)]("touchstart",function(Oe){Ie.touch(Oe,!![])}),Te[g(285)](g(259),function(Oe){var ne=g;Ie[ne(265)](Oe,!![])}),Te.addEventListener(g(258),function(Oe){var ne=g;Oe[ne(262)](),Ie[ne(265)](Oe,![])})}[_0x36b9a6(265)](o,e){var i=_0x36b9a6,c=![];e&&(c=!![]),c!=this[i(264)]&&(this.state=c,this[i(287)][i(291)](this[i(264)]),this.el[i(260)].background=this[i(264)]?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR)}}X0=new WeakSet,al=function(o,e,i,c=_0x36b9a6(276)){var f=_0x36b9a6,m=document[f(278)](f(283));return m.classList[f(273)]("fast-button"),m[f(284)]=o,e!=null&&(m.style[f(266)]=e),i!=null&&(m.id=i),m[f(260)].backgroundColor=QJ_IDLE_COLOR,m[f(260)][f(269)]=c,m[f(260)][f(274)]=f(289),m.style.alignItems=f(261),m[f(260)][f(268)]="white",m[f(260)][f(277)]=f(270),m.style[f(292)]=f(261),m[f(260)].pointerEvents=f(280),m};var _0x4a4b4f=_0x1f6b;function _0x1f6b(h,o){var e=_0x5e99();return _0x1f6b=function(i,c){i=i-283;var f=e[i];return f},_0x1f6b(h,o)}function _0x5e99(){var h=["4643704tkaUyF","2320eQUyAB","2310006TNmIOs","9162XOphhC","5339355eipRND","469718nKGCQO","trigger","2157032dRzZba","19994648BzMDio"];return _0x5e99=function(){return h},_0x5e99()}(function(h,o){for(var e=_0x1f6b,i=h();[];)try{var c=parseInt(e(289))/1+parseInt(e(291))/2+-parseInt(e(286))/3+-parseInt(e(284))/4+-parseInt(e(285))/5*(parseInt(e(287))/6)+-parseInt(e(288))/7+parseInt(e(283))/8;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x5e99,645344);class TouchButtonListener{[_0x4a4b4f(290)](o){}}var _0x31cdcd=_0x2e1f;function _0x2e1f(h,o){var e=_0x2b26();return _0x2e1f=function(i,c){i=i-135;var f=e[i];return f},_0x2e1f(h,o)}(function(h,o){for(var e=_0x2e1f,i=h();[];)try{var c=-parseInt(e(136))/1+parseInt(e(147))/2*(-parseInt(e(137))/3)+parseInt(e(141))/4*(parseInt(e(139))/5)+parseInt(e(148))/6+-parseInt(e(143))/7*(parseInt(e(135))/8)+parseInt(e(142))/9+parseInt(e(144))/10;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x2b26,346705);function _0x2b26(){var h=["2029959tGmBVi","14xhyyEb","7350900gozgsk","bind","pressDown","391074SVAWPC","3448752Tsxbjk","1116088fchqRH","376070VqVycM","9couwZA","input","10595eHRGWR","trigger","100eqrGLj"];return _0x2b26=function(){return h},_0x2b26()}var Ro;class SingleTouchButtonJoyListener extends TouchButtonListener{constructor(e,i){var c=_0x2e1f;super();Mt(this,Ro,void 0);nr(this,Ro,e),this[c(138)]=i,this[c(140)]=this[c(140)][c(145)](this)}[_0x31cdcd(140)](e){var i=_0x31cdcd;e?Ye(this,Ro)[i(146)](this[i(138)]):Ye(this,Ro).pressUp(this[i(138)])}}Ro=new WeakMap;function _0x35ae(){const h=["keyup","bind","14272540cPMTlZ","1342204FHfmyF","11kiruJY","8226DxMfcS","172btzmku","4270BlQzHI","keydown","5333274VfYPcJ","413lqzORR","3192XeZmXn","237208xjWCzA","79089DHoNjJ","dispatchEvent","trigger"];return _0x35ae=function(){return h},_0x35ae()}const _0x22a2c9=_0x4dd2;(function(h,o){const e=_0x4dd2,i=h();for(;[];)try{if(-parseInt(e(150))/1+parseInt(e(157))/2+-parseInt(e(151))/3*(-parseInt(e(160))/4)+-parseInt(e(161))/5*(-parseInt(e(159))/6)+parseInt(e(164))/7*(-parseInt(e(165))/8)+-parseInt(e(163))/9+-parseInt(e(156))/10*(parseInt(e(158))/11)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x35ae,694956);function _0x4dd2(h,o){const e=_0x35ae();return _0x4dd2=function(i,c){return i=i-150,e[i]},_0x4dd2(h,o)}var Fo,Po,Bo,ia,Z0,ol,$0,sl;class SingleTouchButtonKbListener extends TouchButtonListener{constructor(e,i,c,f=document){const m=_0x4dd2;super();Mt(this,Z0);Mt(this,$0);Mt(this,Fo,void 0);Mt(this,Po,void 0);Mt(this,Bo,void 0);Mt(this,ia,void 0);nr(this,Po,e),nr(this,Bo,i),nr(this,ia,c),nr(this,Fo,f),this[m(153)]=this[m(153)][m(155)](this)}[_0x22a2c9(153)](e){e?ur(this,Z0,ol).call(this):ur(this,$0,sl).call(this)}}Fo=new WeakMap,Po=new WeakMap,Bo=new WeakMap,ia=new WeakMap,Z0=new WeakSet,ol=function(){const e=_0x22a2c9;let i=new KeyboardEvent(e(162),{key:Ye(this,Po),code:Ye(this,Bo),keyCode:Ye(this,ia),charCode:Ye(this,ia),bubbles:!![],cancelable:!![]});Ye(this,Fo).dispatchEvent(i)},$0=new WeakSet,sl=function(){const e=_0x22a2c9;let i=new KeyboardEvent(e(154),{key:Ye(this,Po),code:Ye(this,Bo),keyCode:Ye(this,ia),charCode:Ye(this,ia),bubbles:!![],cancelable:!![]});Ye(this,Fo)[e(152)](i)};var _0x214713=_0xe15e;(function(h,o){for(var e=_0xe15e,i=h();[];)try{var c=parseInt(e(324))/1+parseInt(e(323))/2*(parseInt(e(298))/3)+parseInt(e(312))/4*(parseInt(e(350))/5)+-parseInt(e(342))/6*(parseInt(e(351))/7)+parseInt(e(305))/8*(parseInt(e(325))/9)+parseInt(e(338))/10*(parseInt(e(333))/11)+-parseInt(e(299))/12;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x2297,349834);function _0xe15e(h,o){var e=_0x2297();return _0xe15e=function(i,c){i=i-297;var f=e[i];return f},_0xe15e(h,o)}function _0x2297(){var h=["style","183970atHssS","column","allowSimultaneous","height","24sjAHmY","appendChild","isHorizontal","bold","clientY","display","auto","touchend","62940hxgINq","170359vtoCfh","center","touchmove","fontWeight","backgroundColor","top","width","4827IehJRi","18371520zWnmUd","left","justifyContent","clientX","flexDirection","state","1037096eCsoJZ","container","el2","touch","offsetWidth","trigger","addEventListener","188jmmyrh","el1","getBoundingClientRect","simultaneousTimeout","flex","100%","gridArea","color","offsetHeight","12px","elListener","838nNrkAp","29930APLmWm","18ijJyTp","2px","classList","background","pointerEvents","add","textContent","div","253kfkdEH","gap","changedTouches","createElement"];return _0x2297=function(){return h},_0x2297()}class DualTouchButton{constructor(o,e,i,c,f,m,g,Te=_0x214713(321),Ie=![]){var Oe=_0x214713,ne=document[Oe(336)](Oe(332));ne[Oe(327)][Oe(330)]("fast-button"),f!=null&&(ne[Oe(337)][Oe(318)]=f),m!=null&&(ne.id=m),ne[Oe(337)][Oe(347)]=Oe(316),!e&&(ne[Oe(337)][Oe(303)]=Oe(339)),ne[Oe(337)].alignItems="center",ne[Oe(337)][Oe(354)]=Oe(345),ne[Oe(337)][Oe(301)]="center",ne[Oe(337)][Oe(334)]=Oe(326);var De=document[Oe(336)](Oe(332)),Ee=document[Oe(336)]("div");De[Oe(337)].borderRadius=Te,Ee[Oe(337)].borderRadius=Te,De.style[Oe(329)]=Oe(348),Ee[Oe(337)][Oe(329)]=Oe(348),De[Oe(337)].color=QJ_LABEL_COLOR,Ee[Oe(337)][Oe(319)]=QJ_LABEL_COLOR,De[Oe(337)][Oe(355)]=QJ_IDLE_COLOR,Ee[Oe(337)][Oe(355)]=QJ_IDLE_COLOR,De[Oe(337)].width=Oe(317),Ee[Oe(337)][Oe(297)]=Oe(317),De[Oe(337)][Oe(341)]="100%",Ee[Oe(337)][Oe(341)]="100%",De[Oe(337)][Oe(347)]=Oe(316),De.style[Oe(301)]=Oe(352),De.style.alignItems=Oe(352),Ee[Oe(337)][Oe(347)]="flex",Ee.style[Oe(301)]=Oe(352),Ee[Oe(337)].alignItems=Oe(352),this[Oe(313)]=De,this[Oe(307)]=Ee,o[Oe(343)](ne),ne[Oe(343)](De),ne.appendChild(Ee),this[Oe(306)]=ne,this[Oe(344)]=e,this[Oe(322)]=g,this[Oe(304)]=0,this[Oe(340)]=Ie,this[Oe(315)]=null;var Be=this;this[Oe(313)]!=null&&(this.el1[Oe(331)]=i),this.el2!=null&&(this[Oe(307)][Oe(331)]=c),this[Oe(306)][Oe(311)]("touchstart",function(Fe){var Ne=Oe;Be[Ne(308)](Fe,!![])}),this[Oe(306)][Oe(311)](Oe(353),function(Fe){var Ne=Oe;Be[Ne(308)](Fe,!![])}),this[Oe(306)][Oe(311)](Oe(349),function(Fe){var Ne=Oe;Fe.preventDefault(),Be[Ne(308)](Fe,![])})}[_0x214713(308)](o,e){var i=_0x214713,c=0;if(e){if(this.isHorizontal)var f=this[i(306)][i(309)],m=o[i(335)][0][i(302)]-this.container[i(314)]()[i(300)];else var f=this[i(306)][i(320)],m=o[i(335)][0][i(346)]-this[i(306)][i(314)]()[i(356)];m<f/2?c=1:c=2}else c=0;c!=this[i(304)]&&(this[i(304)]=c,this.elListener[i(310)](this.state),this[i(313)].style[i(328)]=this[i(304)]==1?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this[i(307)][i(337)][i(328)]=this[i(304)]==2?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR)}}var _0x2efb7e=_0x3a47;(function(h,o){for(var e=_0x3a47,i=h();[];)try{var c=parseInt(e(313))/1+parseInt(e(314))/2+-parseInt(e(310))/3*(-parseInt(e(309))/4)+parseInt(e(322))/5*(-parseInt(e(320))/6)+-parseInt(e(316))/7*(parseInt(e(319))/8)+-parseInt(e(321))/9+parseInt(e(317))/10;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x3f6c,941963);function _0x3a47(h,o){var e=_0x3f6c();return _0x3a47=function(i,c){i=i-309;var f=e[i];return f},_0x3a47(h,o)}var qo;class DualTouchButtonJoyListener extends TouchButtonListener{constructor(e,i,c){var f=_0x3a47;super();Mt(this,qo,void 0);nr(this,qo,e),this[f(312)]=i,this.input2=c,this[f(318)]=0,this.trigger=this[f(323)].bind(this)}[_0x2efb7e(323)](e){var i=_0x2efb7e;e>0&&Ye(this,qo)[i(324)](e==1?this.input1:this[i(315)]),this.previous>0&&Ye(this,qo)[i(311)](this.previous==1?this[i(312)]:this[i(315)]),this[i(318)]=e}}qo=new WeakMap;function _0x3f6c(){var h=["pressDown","844RaRevt","21633rTgfYy","pressUp","input1","1039993ziXhdA","1167746xYzPaV","input2","5856046fmNEuj","9092640FSeQrF","previous","8KdaZgV","882KLhUOZ","9230229UyijjZ","42535IoGDqo","trigger"];return _0x3f6c=function(){return h},_0x3f6c()}function _0x3693(h,o){var e=_0x14c1();return _0x3693=function(i,c){i=i-250;var f=e[i];return f},_0x3693(h,o)}var _0x1cf395=_0x3693;(function(h,o){for(var e=_0x3693,i=h();[];)try{var c=-parseInt(e(267))/1*(parseInt(e(264))/2)+-parseInt(e(296))/3*(-parseInt(e(291))/4)+parseInt(e(273))/5*(parseInt(e(275))/6)+parseInt(e(253))/7+-parseInt(e(288))/8*(-parseInt(e(298))/9)+parseInt(e(270))/10*(-parseInt(e(250))/11)+parseInt(e(260))/12;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x14c1,409245);function _0x14c1(){var h=["6770FQxmaM","classList","none","359175zeWfRW","style","18yQpZIV","down","getNostalgist","display","getSelectedPlatform","qjud1","bottom","#quickjoys","qjlr","gridTemplateRows","qja","center","mode","1272872qetdzi","justifyContent","right","8CKzPtR","zIndex","toggle","repeat(50, 1fr)","position","481398tSHROS","div","9xtCPyo","hide","height","100%","2497zSYlWc","add","fire_buttons","1115772uEEEXC","pointerEvents","qjab","show","qjud2","appendChild","quickjoys","2876508xcPbaO","createElement","body","secondary","518hmYMgd","FIRE","grid","2053VMOBGl","left","7777"];return _0x14c1=function(){return h},_0x14c1()}var Bi,ec,cl;class QuickJoy{constructor(o){Mt(this,ec);Mt(this,Bi,void 0);nr(this,Bi,o),ur(this,ec,cl).call(this)}[_0x1cf395(256)](){var o=_0x1cf395;show(o(282),o(266))}[_0x1cf395(299)](){var o=_0x1cf395;hide("#quickjoy"),hide(o(282))}[_0x1cf395(287)](o){var e=_0x1cf395;const i=s(e(282));i[e(271)][e(293)]("primary"),i[e(271)][e(293)]("secondary")}}Bi=new WeakMap,ec=new WeakSet,cl=function(){var o=_0x3693,e=document[o(261)](o(297));e.id=o(259),e[o(271)][o(251)](o(263)),e[o(274)][o(295)]="fixed",e[o(274)][o(290)]="0",e[o(274)][o(281)]="0",e.style.width="100%",e[o(274)][o(300)]=o(301),e[o(274)].display=o(266),e.style.gap="2px",e[o(274)][o(292)]=o(269),e[o(274)].textAlign=o(286),e.style.fontFamily="Helvetica, Arial, sans-serif !important",e.style[o(289)]=o(286),e[o(274)].gridTemplateColumns=o(294),e[o(274)][o(284)]=o(294),e[o(274)][o(254)]="none",new DualTouchButton(e,!![],"⇦","⇨",void 0,o(283),new DualTouchButtonJoyListener(Ye(this,Bi)[o(277)](),o(268),o(290)));let i=Ye(this,Bi)[o(279)]()[o(252)];i==1?(new DualTouchButton(e,![],"⇧","⇩",void 0,o(280),new DualTouchButtonJoyListener(Ye(this,Bi)[o(277)](),"up","down")),new SingleTouchButton(e,o(265),void 0,o(285),new SingleTouchButtonJoyListener(Ye(this,Bi)[o(277)](),"b"))):i==2&&(new DualTouchButton(e,![],"⇧","⇩",void 0,o(257),new DualTouchButtonJoyListener(Ye(this,Bi).getNostalgist(),"up",o(276))),new DualTouchButton(e,!![],"B","A",void 0,o(255),new DualTouchButtonJoyListener(Ye(this,Bi).getNostalgist(),"b","a"))),e[o(274)][o(278)]=o(272),document[o(262)][o(258)](e)};function _0x1c4b(h,o){var e=_0x4047();return _0x1c4b=function(i,c){i=i-132;var f=e[i];return f},_0x1c4b(h,o)}var _0x2592f6=_0x1c4b;(function(h,o){for(var e=_0x1c4b,i=h();[];)try{var c=-parseInt(e(159))/1*(-parseInt(e(162))/2)+parseInt(e(144))/3*(-parseInt(e(187))/4)+-parseInt(e(148))/5*(-parseInt(e(133))/6)+-parseInt(e(193))/7*(parseInt(e(166))/8)+parseInt(e(184))/9*(-parseInt(e(175))/10)+parseInt(e(168))/11*(-parseInt(e(145))/12)+-parseInt(e(185))/13*(-parseInt(e(174))/14);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x4047,423738);class TripleTouchButton{constructor(o,e,i,c,f,m,g,Te,Ie="12px",Oe=![]){var ne=_0x1c4b,De=document[ne(171)](ne(136));De[ne(188)][ne(161)]("fast-button"),m!=null&&(De[ne(138)].gridArea=m),g!=null&&(De.id=g),De[ne(138)].display=ne(189),De[ne(138)][ne(169)]=e?ne(183):"column",De[ne(138)][ne(192)]=ne(177),De[ne(138)][ne(141)]=ne(177),De[ne(138)][ne(160)]="8px";var Ee=document.createElement("div"),Be=document[ne(171)]("div"),Fe=document[ne(171)](ne(136));Ee[ne(138)].borderRadius=Ie,Be[ne(138)][ne(179)]=Ie,Fe.style[ne(179)]=Ie,Ee[ne(138)][ne(151)]=ne(176),Be[ne(138)][ne(151)]=ne(176),Fe[ne(138)][ne(151)]=ne(176),Ee[ne(138)][ne(143)]=QJ_LABEL_COLOR,Be[ne(138)].color=QJ_LABEL_COLOR,Fe.style[ne(143)]=QJ_LABEL_COLOR,Ee[ne(138)][ne(146)]=QJ_IDLE_COLOR,Be[ne(138)].backgroundColor=QJ_IDLE_COLOR,Fe[ne(138)][ne(146)]=QJ_IDLE_COLOR,Ee.style[ne(167)]=ne(181),Be[ne(138)][ne(167)]=ne(181),Fe[ne(138)].width=ne(181),Ee.style.height="100%",Be[ne(138)][ne(150)]="100%",Fe.style[ne(150)]=ne(181),e&&(Ee.style[ne(190)]=ne(147),Be[ne(138)].transform=ne(154),Fe[ne(138)].transform=ne(153)),[Ee,Be,Fe][ne(149)](Ne=>{var Ve=ne;Ne[Ve(138)][Ve(172)]=Ve(189),Ne[Ve(138)][Ve(141)]=Ve(177),Ne.style[Ve(192)]="center",Ne.style[Ve(150)]=Ve(181)}),o[ne(135)](De),De[ne(135)](Ee),De.appendChild(Be),De[ne(135)](Fe),this.container=De,this[ne(155)]=e,this[ne(182)]=Te,this[ne(170)]=0,this[ne(156)]=Oe,this.simultaneousTimeout=null,this.el1=Ee,this[ne(139)]=Be,this.el3=Fe,Ee[ne(132)]=i,Be[ne(132)]=c,Fe[ne(132)]=f,De[ne(137)](ne(173),Ne=>this[ne(178)](Ne,!![])),De.addEventListener(ne(191),Ne=>this[ne(178)](Ne,!![])),De[ne(137)](ne(158),Ne=>{var Ve=ne;Ne.preventDefault(),this[Ve(178)](Ne,![])})}[_0x2592f6(178)](o,e){var i=_0x2592f6,c=0,f,m;if(e){this.isHorizontal?(f=this.container[i(142)],m=o[i(186)][0].clientX-this[i(140)][i(134)]()[i(180)]):(f=this[i(140)][i(164)],m=o[i(186)][0][i(152)]-this.container[i(134)]()[i(163)]);const g=f/3;m<g?c=1:m<g*2?c=2:c=3}else c=0;c!==this[i(170)]&&(this.state=c,this[i(182)][i(157)](this[i(170)]),this.el1[i(138)].background=this[i(170)]===1?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this[i(139)][i(138)][i(165)]=this.state===2?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this.el3[i(138)].background=this[i(170)]===3?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR)}}function _0x4047(){var h=["forEach","height","pointerEvents","clientY","translateY(0px)","translateY(25px)","isHorizontal","allowSimultaneous","trigger","touchend","3poaXiy","gap","add","422658hqDele","top","offsetHeight","background","5837192AfZqMW","width","775522YQBkYR","flexDirection","state","createElement","display","touchstart","210TndBSD","30OgFReC","auto","center","touch","borderRadius","left","100%","elListener","row","168579yYiwNI","984217nIeCXI","changedTouches","8kxMDhd","classList","flex","transform","touchmove","alignItems","7nPUvRL","textContent","2256618UMHFTS","getBoundingClientRect","appendChild","div","addEventListener","style","el2","container","justifyContent","offsetWidth","color","1228101gGQZvh","84TWtFin","backgroundColor","translateY(50px)","10QbENpF"];return _0x4047=function(){return h},_0x4047()}var _0x4761be=_0xc57b;function _0x5e5c(){var h=["670CmXjai","pressUp","bind","502676fVNETU","6971447WJhjhu","509526deIfZK","3HqBjzS","trigger","1619489hNYCQa","257565kASrNH","previous","6GKzhuK","29593896AYbJgp","1340292NAvtMT","input2","88rVzIXr","input1","20dWsBqc","input3","pressDown"];return _0x5e5c=function(){return h},_0x5e5c()}(function(h,o){for(var e=_0xc57b,i=h();[];)try{var c=-parseInt(e(168))/1+-parseInt(e(153))/2*(-parseInt(e(166))/3)+parseInt(e(163))/4*(-parseInt(e(157))/5)+-parseInt(e(151))/6*(parseInt(e(164))/7)+parseInt(e(155))/8*(-parseInt(e(165))/9)+-parseInt(e(160))/10*(-parseInt(e(149))/11)+parseInt(e(152))/12;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x5e5c,964269);function _0xc57b(h,o){var e=_0x5e5c();return _0xc57b=function(i,c){i=i-149;var f=e[i];return f},_0xc57b(h,o)}var No;class TripleTouchButtonJoyListener extends TouchButtonListener{constructor(e,i,c,f){var m=_0xc57b;super();Mt(this,No,void 0);nr(this,No,e),this[m(156)]=i,this[m(154)]=c,this.input3=f,this[m(150)]=0,this[m(167)]=this[m(167)][m(162)](this)}[_0x4761be(167)](e){var i=_0x4761be;e>0&&Ye(this,No)[i(159)](e===1?this.input1:e===2?this[i(154)]:this.input3),this[i(150)]>0&&Ye(this,No)[i(161)](this[i(150)]===1?this[i(156)]:this[i(150)]===2?this[i(154)]:this[i(158)]),this.previous=e}}No=new WeakMap;var _0x3fc804=_0x4f5f;(function(h,o){for(var e=_0x4f5f,i=h();[];)try{var c=parseInt(e(471))/1+parseInt(e(412))/2*(-parseInt(e(424))/3)+parseInt(e(452))/4+-parseInt(e(453))/5*(parseInt(e(436))/6)+parseInt(e(455))/7*(parseInt(e(466))/8)+-parseInt(e(463))/9+parseInt(e(411))/10*(parseInt(e(423))/11);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0xda72,694442);var Tf,Ns;const Fa=class Fa{constructor(o,e,i,c,f,m,g,Te,Ie=Fa.Layout[_0x3fc804(454)],Oe=_0x3fc804(457),ne=![]){Mt(this,Ns,void 0);var De=_0x3fc804;nr(this,Ns,Ie);var Ee=document[De(448)](De(438));Ee[De(450)][De(447)](De(440)),m!=null&&(Ee[De(435)].gridArea=m),g!=null&&(Ee.id=g),Ee[De(435)][De(462)]=De(425),Ee.style[De(413)]=De(449),Ie==Fa[De(459)].ABCD?Ee[De(435)][De(418)]=De(449):Ie==Fa[De(459)][De(414)]&&(Ee[De(435)].gridTemplateRows=De(469)),Ee[De(435)].gap=De(432);var Be=document[De(448)](De(438)),Fe=document.createElement("div"),Ne=document.createElement("div"),Ve=document[De(448)]("div");Be[De(435)][De(410)]=Oe,Fe[De(435)].borderRadius=Oe,Ne[De(435)].borderRadius=Oe,Ve.style[De(410)]=Oe,Be[De(435)][De(465)]=De(429),Fe.style.pointerEvents=De(429),Ne[De(435)][De(465)]="auto",Ve[De(435)][De(465)]=De(429),Be[De(435)].color=QJ_LABEL_COLOR,Fe[De(435)].color=QJ_LABEL_COLOR,Ne[De(435)].color=QJ_LABEL_COLOR,Ve[De(435)][De(434)]=QJ_LABEL_COLOR,Be[De(435)][De(419)]=QJ_IDLE_COLOR,Fe[De(435)][De(419)]=QJ_IDLE_COLOR,Ne[De(435)][De(419)]=QJ_IDLE_COLOR,Ve[De(435)].backgroundColor=QJ_IDLE_COLOR;const Ue=De(443);Be.style.width=Ue,Fe[De(435)][De(442)]=Ue,Ne[De(435)][De(442)]=Ue,Ve[De(435)][De(442)]=Ue,Be.style[De(445)]=Ue,Fe[De(435)][De(445)]=Ue,Ne.style.height=Ue,Ve[De(435)][De(445)]=Ue,[Be,Fe,Ne,Ve][De(460)](We=>{var He=De;We.style.display=He(446),We.style[He(417)]="center",We[He(435)][He(415)]=He(428)}),o.appendChild(Ee),Ee[De(439)](Be),Ee[De(439)](Fe),Ee[De(439)](Ne),Ee.appendChild(Ve),this.container=Ee,this[De(441)]=Te,this[De(427)]=0,this[De(430)]=ne,this.simultaneousTimeout=null,this[De(437)]=Be,this[De(433)]=Fe,this[De(422)]=Ne,this[De(431)]=Ve,Be[De(464)]=e,Fe[De(464)]=i,Ne.textContent=c,Ve.textContent=f,Ee[De(470)](De(420),We=>this[De(444)](We,!![])),Ee[De(470)](De(458),We=>this[De(444)](We,!![])),Ee[De(470)]("touchend",We=>{var He=De;We.preventDefault(),this[He(444)](We,![])})}[(Tf=_0x3fc804(459),_0x3fc804(444))](o,e){var i=_0x3fc804,c=0,f;if(e){f=this[i(421)][i(416)];var m=this[i(421)][i(426)],g=o[i(461)][0][i(456)]-this[i(421)][i(468)]().left,Te=o[i(461)][0].clientY-this[i(421)][i(468)]().top;let Ie;Ye(this,Ns)==Fa[i(459)][i(454)]?Ie=2:Ie=4,g<f/2&&Te<m/Ie?c=1:g>=f/2&&Te<m/Ie?c=2:g<f/2&&Te>=m/Ie?c=3:c=4}else c=0;c!==this.state&&(this.state=c,this[i(441)][i(467)](this[i(427)]),this[i(437)][i(435)][i(451)]=this[i(427)]===1?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this.el2[i(435)][i(451)]=this.state===2?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this[i(422)][i(435)][i(451)]=this[i(427)]===3?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR,this[i(431)].style.background=this[i(427)]===4?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR)}};Ns=new WeakMap,sn(Fa,Tf,{ABCD:10,ABLR:50});let QuadrupleTouchButton=Fa;function _0x4f5f(h,o){var e=_0xda72();return _0x4f5f=function(i,c){i=i-410;var f=e[i];return f},_0x4f5f(h,o)}function _0xda72(){var h=["gridTemplateRows","backgroundColor","touchstart","container","el3","55rXSjTe","1584624EJjfum","grid","offsetHeight","state","center","auto","allowSimultaneous","el4","8px","el2","color","style","3216vAoUOO","el1","div","appendChild","fast-button","elListener","width","100%","touch","height","flex","add","createElement","1fr 1fr","classList","background","56848lQRLTB","11590tXeFhp","ABCD","141029nfPrqL","clientX","12px","touchmove","Layout","forEach","changedTouches","display","649755LlCOZT","textContent","pointerEvents","16tQsMsi","trigger","getBoundingClientRect","1fr 3fr","addEventListener","520672HRHidX","borderRadius","3924230BdMCav","2tfJAve","gridTemplateColumns","ABLR","alignItems","offsetWidth","justifyContent"];return _0xda72=function(){return h},_0xda72()}function _0xfeb2(h,o){var e=_0x3f9b();return _0xfeb2=function(i,c){i=i-277;var f=e[i];return f},_0xfeb2(h,o)}(function(h,o){for(var e=_0xfeb2,i=h();[];)try{var c=parseInt(e(285))/1*(parseInt(e(279))/2)+-parseInt(e(286))/3+parseInt(e(294))/4*(-parseInt(e(288))/5)+parseInt(e(297))/6*(-parseInt(e(282))/7)+-parseInt(e(290))/8+parseInt(e(280))/9*(-parseInt(e(296))/10)+-parseInt(e(278))/11*(-parseInt(e(292))/12);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x3f9b,643512);var Lo;class QuadrupleTouchButtonJoyListener extends TouchButtonListener{constructor(e,i,c,f,m){var g=_0xfeb2;super();Mt(this,Lo,void 0);nr(this,Lo,e),this.input1=i,this[g(291)]=c,this[g(281)]=f,this[g(277)]=m,this[g(283)]=0,this[g(293)]=this[g(293)][g(284)](this)}trigger(e){var i=_0xfeb2;e>0&&Ye(this,Lo)[i(287)](e===1?this[i(289)]:e===2?this.input2:e===3?this[i(281)]:this[i(277)]),this[i(283)]>0&&Ye(this,Lo)[i(295)](this.previous===1?this[i(289)]:this[i(283)]===2?this[i(291)]:this.previous===3?this[i(281)]:this[i(277)]),this[i(283)]=e}}Lo=new WeakMap;function _0x3f9b(){var h=["input1","3571064nybfQx","input2","12uPDJXA","trigger","2385924htQZTp","pressUp","920HNbXbq","2089518EOGNcY","input4","26867071qLqyxf","17282iAfxrq","36882FDERVO","input3","7WVziOK","previous","bind","119GSEJnU","3177285JTbvIa","pressDown","5kXdfNh"];return _0x3f9b=function(){return h},_0x3f9b()}function _0x1524(h,o){var e=_0x5711();return _0x1524=function(i,c){i=i-368;var f=e[i];return f},_0x1524(h,o)}var _0x2d1ca0=_0x1524;(function(h,o){for(var e=_0x1524,i=h();[];)try{var c=parseInt(e(413))/1+parseInt(e(417))/2+parseInt(e(399))/3+parseInt(e(371))/4*(-parseInt(e(424))/5)+parseInt(e(414))/6+-parseInt(e(402))/7*(parseInt(e(404))/8)+-parseInt(e(368))/9*(parseInt(e(423))/10);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x5711,492680);var Ls;const Io=class Io{constructor(o,e,i,c,f,m,g,Te,Ie,Oe,ne=Io.Layout.TWO_ROWS,De=_0x2d1ca0(427),Ee=![]){Mt(this,Ls,void 0);var Be=_0x2d1ca0;nr(this,Ls,ne);var Fe=document[Be(379)](Be(372));Fe[Be(429)][Be(398)](Be(422)),Te!=null&&(Fe[Be(386)].gridArea=Te),Ie!=null&&(Fe.id=Ie),Fe[Be(386)][Be(375)]=Be(395),ne==Io[Be(373)][Be(389)]&&(Fe[Be(386)][Be(390)]=Be(428),Fe[Be(386)][Be(401)]=Be(400)),Fe.style[Be(426)]=Be(393);var Ne=document[Be(379)]("div"),Ve=document[Be(379)](Be(372)),Ue=document.createElement(Be(372)),We=document.createElement(Be(372)),He=document[Be(379)](Be(372)),Xe=document[Be(379)](Be(372));[Ne,Ve,Ue,We,He,Xe].forEach(ot=>{var tt=Be;ot.style[tt(412)]=De,ot[tt(386)][tt(407)]=tt(383),ot.style.color=QJ_LABEL_COLOR,ot[tt(386)][tt(396)]=QJ_IDLE_COLOR,ot.style.display=tt(392),ot.style[tt(406)]="center",ot[tt(386)].alignItems=tt(409),ot[tt(386)].width=tt(394),ot[tt(386)][tt(380)]="100%"}),o.appendChild(Fe),[Ne,Ve,Ue,We,He,Xe][Be(405)](ot=>Fe[Be(376)](ot)),this[Be(378)]=Fe,this[Be(384)]=Oe,this.state=0,this[Be(419)]=Ee,this[Be(388)]=Ne,this[Be(408)]=Ve,this.el3=Ue,this[Be(391)]=We,this[Be(382)]=He,this[Be(377)]=Xe,Ne[Be(420)]=e,Ve.textContent=i,Ue[Be(420)]=c,We[Be(420)]=f,He.textContent=m,Xe[Be(420)]=g,Fe.addEventListener(Be(425),ot=>this[Be(387)](ot,!![])),Fe.addEventListener(Be(381),ot=>this[Be(387)](ot,!![])),Fe[Be(374)](Be(421),ot=>{var tt=Be;ot[tt(385)](),this[tt(387)](ot,![])})}touch(o,e){var i=_0x2d1ca0,c=0,f=this[i(378)].offsetWidth,m=this[i(378)][i(369)],g=o[i(411)][0][i(415)]-this[i(378)][i(397)]().left,Te=o[i(411)][0][i(418)]-this[i(378)][i(397)]()[i(416)];e?Ye(this,Ls)==Io[i(373)][i(389)]&&(Te<m/2?g<f/3?c=1:g<2*f/3?c=2:c=3:g<f/3?c=4:g<2*f/3?c=5:c=6):c=0,c!==this.state&&(this[i(403)]=c,this[i(384)][i(370)](this[i(403)]),[this.el1,this[i(408)],this.el3,this.el4,this[i(382)],this[i(377)]][i(405)]((Ie,Oe)=>{var ne=i;Ie.style[ne(410)]=this[ne(403)]===Oe+1?QJ_ACTIVE_COLOR:QJ_IDLE_COLOR}))}};Ls=new WeakMap,sn(Io,"Layout",{TWO_ROWS:10});let SextupleTouchButton=Io;function _0x5711(){var h=["allowSimultaneous","textContent","touchend","fast-button","270wOceHw","4231915rVvCIB","touchstart","gap","12px","1fr 1fr 1fr","classList","359928PIPvvj","offsetHeight","trigger","4IITfDt","div","Layout","addEventListener","display","appendChild","el6","container","createElement","height","touchmove","el5","auto","elListener","preventDefault","style","touch","el1","TWO_ROWS","gridTemplateColumns","el4","flex","8px","100%","grid","backgroundColor","getBoundingClientRect","add","2769462JIICom","1fr 1fr","gridTemplateRows","49KmZklp","state","58888jNLRlf","forEach","justifyContent","pointerEvents","el2","center","background","changedTouches","borderRadius","575084ByAPXw","5706792SwrwWH","clientX","top","42008glYTOh","clientY"];return _0x5711=function(){return h},_0x5711()}var _0x1c8c37=_0x5ee3;(function(h,o){for(var e=_0x5ee3,i=h();[];)try{var c=parseInt(e(249))/1+parseInt(e(263))/2+parseInt(e(259))/3*(parseInt(e(247))/4)+parseInt(e(254))/5*(-parseInt(e(250))/6)+parseInt(e(256))/7+-parseInt(e(264))/8+-parseInt(e(261))/9;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x334b,314997);function _0x334b(){var h=["1047400MwtIJw","pressUp","input5","2302948MfnQiM","input3","511212yTowlB","398214owmQtc","input6","input2","previous","5WHAhhj","trigger","4152610rNOFWj","input4","bind","3JADZpf","input1","12394602otfbXt","pressDown","418580jtCwPL"];return _0x334b=function(){return h},_0x334b()}function _0x5ee3(h,o){var e=_0x334b();return _0x5ee3=function(i,c){i=i-246;var f=e[i];return f},_0x5ee3(h,o)}var Mo;class SextupleTouchButtonJoyListener extends TouchButtonListener{constructor(e,i,c,f,m,g,Te){var Ie=_0x5ee3;super();Mt(this,Mo,void 0);nr(this,Mo,e),this[Ie(260)]=i,this[Ie(252)]=c,this.input3=f,this.input4=m,this[Ie(246)]=g,this.input6=Te,this[Ie(253)]=0,this.trigger=this.trigger[Ie(258)](this)}[_0x1c8c37(255)](e){var i=_0x1c8c37;e>0&&Ye(this,Mo)[i(262)](e===1?this.input1:e===2?this[i(252)]:e===3?this.input3:e===4?this[i(257)]:e===5?this[i(246)]:this[i(251)]),this[i(253)]>0&&Ye(this,Mo)[i(265)](this[i(253)]===1?this[i(260)]:this[i(253)]===2?this[i(252)]:this[i(253)]===3?this[i(248)]:this.previous===4?this[i(257)]:this.previous===5?this[i(246)]:this[i(251)]),this[i(253)]=e}}Mo=new WeakMap;const _0x2dead8=_0x2d13;(function(h,o){const e=_0x2d13,i=h();for(;[];)try{if(parseInt(e(232))/1*(-parseInt(e(240))/2)+parseInt(e(210))/3+parseInt(e(256))/4*(-parseInt(e(217))/5)+parseInt(e(233))/6*(parseInt(e(229))/7)+parseInt(e(222))/8*(-parseInt(e(261))/9)+-parseInt(e(243))/10*(parseInt(e(219))/11)+parseInt(e(253))/12===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x4ade,295449);function _0x4ade(){const h=["top","touchcancel","position","2254rbFIuU","platform_id","block","142260raetDV","classList","getSelectedPlatform","7777","fontFamily","zIndex","pageX","666","qsa","cos","11303508eBKTKa","pageY","getNostalgist","16QWbofj","style","pressDown","show","body","9HVFuPI","Helvetica, Arial, sans-serif !important","delete","touchstart","absolute","width","Layout","center","joystick-base","#quickshot","quickshots","has","TWO_ROWS","bottom","12px","atan2","gap","add","justifyContent","div","fixed","identifier","qsab","qs4","sqrt","createElement","button_overrides","filter","display","repeat(23, 1fr)","preventDefault","forEach","gridTemplateRows","appendChild","gba","pointerEvents","left","1721334RLveVD","right","fire_buttons","substring","none","qsab4","textAlign","342610jjEIHj","hide","440XPsJgN","snk","pressUp","2879056CJvdPo","qsabc3","remove","2px","quickshot","100%","ABCD","7xZdPCk","#quickshots","down","502ZDlzXS","3290856RIaDll","addEventListener","qs6tr","height"];return _0x4ade=function(){return h},_0x4ade()}function _0x2d13(h,o){const e=_0x4ade();return _0x2d13=function(i,c){return i=i-175,e[i]},_0x2d13(h,o)}var tc,aa,ei,ui,pi,Fn,oa,sa,rc,ul,nc,ll,ic,fl,ac,dl,oc,xl,Ms,sc,cc,Vo,M0,uc,hl,lc,pl;const fc=class fc{constructor(o){Mt(this,rc);Mt(this,nc);Mt(this,ic);Mt(this,ac);Mt(this,oc);Mt(this,Vo);Mt(this,uc);Mt(this,lc);Mt(this,aa,void 0);Mt(this,ei,void 0);Mt(this,ui,void 0);Mt(this,pi,void 0);Mt(this,Fn,void 0);Mt(this,oa,null);Mt(this,sa,new Set);Mt(this,Ms,o=>{const e=_0x2dead8;o[e(203)]();for(let i of o.changedTouches)i[e(194)]===Ye(this,oa)&&(ur(this,Vo,M0).call(this,[]),Ye(this,ui)&&Ye(this,pi)&&(Ye(this,ui)[e(224)](),Ye(this,pi)[e(224)]()),nr(this,oa,null))});Mt(this,sc,o=>{const e=_0x2dead8;if(o[e(203)](),Ye(this,oa)===null){for(let i of o.touches)if(i.target.id===e(226)){nr(this,oa,i[e(194)]),ur(this,oc,xl).call(this,i);break}}});Mt(this,cc,o=>{const e=_0x2dead8;o[e(203)]();for(let i of o.touches)if(i[e(194)]===Ye(this,oa)){let c=Ye(this,ui).getBoundingClientRect(),f={x:c[e(209)]+c[e(178)]/2,y:c[e(237)]+c[e(236)]/2},m=ur(this,ic,fl).call(this,f,{x:i[e(249)],y:i[e(254)]});if(m>c[e(178)]/2){let Ie=Math[e(188)](i[e(254)]-f.y,i.pageX-f.x);Ye(this,ui).style[e(209)]=i.pageX-c[e(178)]/2-Math[e(252)](Ie)*c[e(178)]/2+"px",Ye(this,ui)[e(257)][e(237)]=i[e(254)]-c[e(236)]/2-Math.sin(Ie)*c[e(236)]/2+"px"}Ye(this,pi)[e(257)][e(209)]=i[e(249)]-25+"px",Ye(this,pi)[e(257)][e(237)]=i.pageY-25+"px";let g=Math[e(188)](i.pageY-f.y,i[e(249)]-f.x),Te=g*(180/Math.PI);if(Te<0&&(Te+=360),m>Ye(fc,tc)){let Ie=ur(this,ac,dl).call(this,Te);ur(this,Vo,M0).call(this,Ie)}else ur(this,Vo,M0).call(this,[])}});const e=_0x2d13;nr(this,aa,o),nr(this,ei,o[e(255)]()),ur(this,nc,ll).call(this),nr(this,sa,new Set)}[_0x2dead8(259)](){const o=_0x2dead8;show(o(230),"grid"),show(o(182),o(242))}[_0x2dead8(218)](){const o=_0x2dead8;hide(o(182)),hide(o(230))}};tc=new WeakMap,aa=new WeakMap,ei=new WeakMap,ui=new WeakMap,pi=new WeakMap,Fn=new WeakMap,oa=new WeakMap,sa=new WeakMap,rc=new WeakSet,ul=function(o){const e=_0x2d13;if(o==null||o==null)return"";const i=o.lastIndexOf(".");return i===-1?o:o[e(213)](0,i)},nc=new WeakSet,ll=function(){const o=_0x2d13;var e=document[o(198)](o(192));e.id=o(183),e.style[o(201)]=o(214),e.style[o(239)]=o(193),e[o(257)][o(211)]="0",e[o(257)][o(186)]="0",e[o(257)][o(178)]=o(227),e[o(257)][o(236)]=o(227),e[o(257)][o(201)]="none",e[o(257)][o(189)]=o(225),e[o(257)][o(248)]=o(246),e.style[o(216)]=o(180),e[o(257)][o(247)]=o(262),e[o(257)][o(191)]="center",e[o(257)].gridTemplateColumns=o(202),e[o(257)][o(205)]="repeat(10, 1fr)",e.style[o(208)]=o(214);let i=Ye(this,aa).getSelectedPlatform()[o(212)],c=Ye(this,aa)[o(245)]()[o(241)],f=Ye(this,aa)[o(245)]()[o(199)],m=ur(this,rc,ul).call(this,Ye(this,aa).getProgramName());f&&f[m]&&(i=f[m]),i==1?new SingleTouchButton(e,"A",void 0,o(251),new SingleTouchButtonJoyListener(Ye(this,ei),"b")):i==2?c==o(220)?new DualTouchButton(e,!![],"A","B",void 0,o(195),new DualTouchButtonJoyListener(Ye(this,ei),"b","a"),"12px"):new DualTouchButton(e,!![],"B","A",void 0,o(195),new DualTouchButtonJoyListener(Ye(this,ei),"b","a"),o(187)):i==3?c==o(220)?new TripleTouchButton(e,!![],"A","B","C",void 0,o(223),new TripleTouchButtonJoyListener(Ye(this,ei),"b","a","y")):new TripleTouchButton(e,!![],"A","B","C",void 0,"qsabc3",new TripleTouchButtonJoyListener(Ye(this,ei),"y","b","a")):i==4?c==o(207)?new QuadrupleTouchButton(e,"L","R","B","A",void 0,o(196),new QuadrupleTouchButtonJoyListener(Ye(this,ei),"l","r","b","a"),QuadrupleTouchButton.Layout.ABLR):c==o(220)&&new QuadrupleTouchButton(e,"C","D","A","B",void 0,o(215),new QuadrupleTouchButtonJoyListener(Ye(this,ei),"x","y","a","b"),QuadrupleTouchButton[o(179)][o(228)]):(i==6||i==5)&&new SextupleTouchButton(e,"L","A","Y","R","X","B",void 0,o(235),new SextupleTouchButtonJoyListener(Ye(this,ei),"l","a","y","r","x","b"),QuadrupleTouchButton[o(179)][o(185)]),document[o(260)].appendChild(e),nr(this,Fn,document[o(198)]("div")),Ye(this,Fn).id=o(226),Ye(this,Fn)[o(257)].overflow="hidden",Ye(this,Fn)[o(257)][o(239)]=o(177),Ye(this,Fn)[o(257)][o(211)]="0",Ye(this,Fn).style[o(186)]="0",Ye(this,Fn)[o(257)][o(178)]=o(227),Ye(this,Fn)[o(257)][o(236)]=o(227),Ye(this,Fn)[o(257)][o(248)]=o(250),Ye(this,Fn)[o(257)][o(201)]=o(214),document[o(260)][o(206)](Ye(this,Fn)),Ye(this,Fn)[o(234)](o(176),Ye(this,sc)),Ye(this,Fn)[o(234)]("touchmove",Ye(this,cc)),Ye(this,Fn)[o(234)]("touchend",Ye(this,Ms)),Ye(this,Fn)[o(234)](o(238),Ye(this,Ms))},ic=new WeakSet,fl=function(o,e){const i=_0x2dead8;let c=e.x-o.x,f=e.y-o.y;return Math[i(197)](c*c+f*f)},ac=new WeakSet,dl=function(o){const e=_0x2dead8;return o>=337.5||o<22.5?[e(211)]:o>=22.5&&o<67.5?[e(211),"down"]:o>=67.5&&o<112.5?[e(231)]:o>=112.5&&o<157.5?[e(231),e(209)]:o>=157.5&&o<202.5?[e(209)]:o>=202.5&&o<247.5?[e(209),"up"]:o>=247.5&&o<292.5?["up"]:["up",e(211)]},oc=new WeakSet,xl=function(o){const e=_0x2dead8;nr(this,ui,document.createElement(e(192))),Ye(this,ui)[e(244)][e(190)](e(181)),Ye(this,ui).style[e(209)]=o[e(249)]-50+"px",Ye(this,ui)[e(257)].top=o.pageY-50+"px",Ye(this,Fn).appendChild(Ye(this,ui)),nr(this,pi,document.createElement("div")),Ye(this,pi)[e(244)][e(190)]("joystick-thumb"),Ye(this,pi)[e(257)].left=o[e(249)]-25+"px",Ye(this,pi)[e(257)][e(237)]=o.pageY-25+"px",Ye(this,Fn)[e(206)](Ye(this,pi))},Ms=new WeakMap,sc=new WeakMap,cc=new WeakMap,Vo=new WeakSet,M0=function(o){const e=_0x2dead8,i=new Set(o),c=new Set([...Ye(this,sa)][e(200)](m=>!i.has(m))),f=new Set([...i].filter(m=>!Ye(this,sa)[e(184)](m)));c[e(204)](m=>{const g=e;ur(this,lc,pl).call(this,m),Ye(this,sa)[g(175)](m)}),f.forEach(m=>{const g=e;ur(this,uc,hl).call(this,m),Ye(this,sa)[g(190)](m)})},uc=new WeakSet,hl=function(o){const e=_0x2dead8;Ye(this,ei)[e(258)](o)},lc=new WeakSet,pl=function(o){const e=_0x2dead8;Ye(this,ei)[e(221)](o)},Mt(fc,tc,30);let QuickShot=fc;var _0x202e12=_0x3035;(function(h,o){for(var e=_0x3035,i=h();[];)try{var c=-parseInt(e(257))/1*(-parseInt(e(252))/2)+-parseInt(e(229))/3*(-parseInt(e(233))/4)+-parseInt(e(244))/5*(parseInt(e(241))/6)+parseInt(e(262))/7+parseInt(e(245))/8+parseInt(e(234))/9+-parseInt(e(235))/10;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x538f,531185);function _0x3035(h,o){var e=_0x538f();return _0x3035=function(i,c){i=i-228;var f=e[i];return f},_0x3035(h,o)}var Ba,Uo,Vs,qi,dc,_l,xc,vl;class Mousepad{constructor(){Mt(this,dc);Mt(this,xc);Mt(this,Ba,-1);Mt(this,Uo,-1);Mt(this,Vs,1);Mt(this,qi,null);ur(this,dc,_l).call(this)}[_0x202e12(236)](){var o=_0x202e12;show(o(263),"grid")}[_0x202e12(246)](){var o=_0x202e12;hide(o(263))}}Ba=new WeakMap,Uo=new WeakMap,Vs=new WeakMap,qi=new WeakMap,dc=new WeakSet,_l=function(){var o=_0x3035;const e=document.createElement(o(268));e.id=o(240),e[o(247)][o(243)]=o(261),e[o(247)].right="0",e[o(247)].bottom="0",e.style.width=o(266),e[o(247)][o(232)]="100%",e[o(247)][o(231)]=o(254),e[o(247)].zIndex=o(253),e[o(247)].pointerEvents="auto",e[o(247)][o(264)]="none";const i=(c,f)=>{var m=o;if(f===![])nr(this,Ba,-1),nr(this,Uo,-1),nr(this,qi,null);else{var g=c[m(250)][0],Te=g[m(242)]*Ye(this,Vs),Ie=g[m(230)]*Ye(this,Vs);Ye(this,Ba)!=-1&&Ye(this,qi)===g[m(255)]&&ur(this,xc,vl).call(this,Te-Ye(this,Ba),Ie-Ye(this,Uo)),nr(this,Ba,Te),nr(this,Uo,Ie)}};e.addEventListener(o(248),c=>{var f=o,m=c.changedTouches[0];const g=c[f(258)].id;!g||g!==f(249)&&g!=="rmb"?(nr(this,qi,m[f(255)]),i(c,!![])):(c.stopPropagation(),c[f(238)]())}),e[o(260)](o(265),c=>{var f=o,m=c[f(250)][0];Ye(this,qi)!==null&&Ye(this,qi)===m[f(255)]&&i(c,!![])}),e.addEventListener("touchend",c=>{var f=o,m=c[f(250)][0];Ye(this,qi)!==null&&Ye(this,qi)===m[f(255)]&&(c[f(238)](),i(c,![]))}),e[o(260)]("touchcancel",c=>i(c,![])),new SingleTouchButton(e,"LMB",void 0,o(249),new SingleTouchButtonKbListener("F13",o(259),"124",s(o(228)))),new SingleTouchButton(e,"RMB",void 0,o(256),new SingleTouchButtonKbListener("F14","F14",o(251),s(o(228)))),document.body[o(239)](e)},xc=new WeakSet,vl=function(o,e){var i=_0x3035;const c=new MouseEvent(i(267),{movementX:o,movementY:e,bubbles:!![],cancelable:!![]});s(i(228))[i(237)](c)};function _0x538f(){var h=["195222wMzjyD","clientX","position","155DcxjHl","1249856JgFFcB","hide","style","touchstart","lmb","changedTouches","125","98mjEZcx","7777","none","identifier","rmb","8615EaOKnF","target","F13","addEventListener","fixed","1101156Vgzzjm","#mousepads","touchAction","touchmove","100%","mousemove","div","canvas","3yeKptu","clientY","display","height","2315948MMyyfB","7703244XbFvsb","6307460YWmAeC","show","dispatchEvent","preventDefault","appendChild","mousepads"];return _0x538f=function(){return h},_0x538f()}function _0x442e(){var h=["addEventListener","711678jawacX","5fDreAz","217976UlsRkO","#fastui","grid","141092AWLUxc","preventDefault","696zarYEH","360151zKDJqc","9aRGYwz","7893KfdNCR","516702daFdrT","timeoutId","touchstart","162160gWAWiW","hide","click","847zyoaTs","removeEventListener"];return _0x442e=function(){return h},_0x442e()}var _0x30e3b0=_0x4c42;(function(h,o){for(var e=_0x4c42,i=h();[];)try{var c=-parseInt(e(320))/1+-parseInt(e(332))/2+parseInt(e(321))/3*(-parseInt(e(334))/4)+parseInt(e(333))/5*(-parseInt(e(323))/6)+-parseInt(e(317))/7+-parseInt(e(319))/8*(parseInt(e(322))/9)+parseInt(e(326))/10*(parseInt(e(329))/11);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x442e,186588);function _0x4c42(h,o){var e=_0x442e();return _0x4c42=function(i,c){i=i-317;var f=e[i];return f},_0x4c42(h,o)}var Df,qa,Os;const Pa=class Pa{constructor(){Mt(this,qa)}show(){var o=_0x30e3b0;hide(o(335)),document.addEventListener("click",ur(this,qa,Os)),document[o(331)]("touchstart",ur(this,qa,Os)),clearTimeout(Pa[o(324)])}[(Df=_0x30e3b0(324),_0x30e3b0(327))](){var o=_0x30e3b0;clearTimeout(Pa.timeoutId),document[o(330)](o(328),ur(this,qa,Os)),document[o(330)](o(325),ur(this,qa,Os)),show("#fastui",o(336))}};qa=new WeakSet,Os=function(o){var e=_0x30e3b0;o[e(318)](),clearTimeout(Pa[e(324)]),show(e(335),e(336)),Pa.timeoutId=setTimeout(()=>{var i=e;hide(i(335))},2e3)},sn(Pa,Df);let Hideaway=Pa;function _0x37eb(h,o){const e=_0x5795();return _0x37eb=function(i,c){return i=i-251,e[i]},_0x37eb(h,o)}const _0x474c3b=_0x37eb;(function(h,o){const e=_0x37eb,i=h();for(;[];)try{if(parseInt(e(339))/1+-parseInt(e(254))/2+parseInt(e(347))/3+parseInt(e(308))/4*(parseInt(e(305))/5)+-parseInt(e(266))/6*(-parseInt(e(343))/7)+parseInt(e(297))/8+-parseInt(e(302))/9===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x5795,995336);function _0x5795(){const h=["1883353YDuLhr","addEventListener","fontSize","controlsMenu","319291SuyzWD","initTouchControllerMenu","FAST_FORWARD","fastjoy","3786702oXHavP","#keyboardContainer","none","saveState",'<span style="font-size: 50%;">MOUSE</span>',"isQuest","osdMessage","getElementById","#mousepads","fastui-msg","catch","mousepadVisible","appendChild","HIDEAWAY","initHideaway","className","querySelector","initQuickshot","hide","resizeCanvas","grid","savestates_disabled","showJoystick","showKeyboard","left","REWIND","keys","QuickShot","#quickjoys","currentJoyTouchMode","mousemove","padding","hideKeyboard","QUICKSHOT_DYNAMIC","QuickJoy","label","keyboardVisible","display",'<span style="font-size: 50%;">FFD</span>',"exitFullscreen","2870276uCsdEs","textContent","block","sendCommand","show","8px 16px","</span>","key","fastsave","showMousepad","nodeName","getSelectedPlatform","108reoUWR","QUICKJOY_PRIMARY","toggleMousePad","position","keydown","hideMousepad","classList","fastmenu","requestPointerLock","menu-item","fastui","style","fastffd","documentElement","top","canvas","reverse","name","#canvas","div","length","action","TRACKPAD_BUTTONS",'<span style="font-size: 50%;">QUIT</span>',"initQuickJoy","initFastUI","log","desktopUiControls","then","initMousepad","desktopUiSave","7347448HHEVbZ","desktopUi","currentMouseTouchMode","getNostalgist","fast","22950315Tzogsx","10pt","keyCode","235zYQsQr","fastmouse","#desktopUiRewind","8124uLGoQs","isDesktop","additional_buttons","hideJoystick","#quickshots","#desktopUiFs","observe","fadeOutTimeout","#desktopUiSave","reload","mouse_controllers","visible",'<span style="font-size: 50%;">SAVE</span>',"add","addedNodes","initControlsButton","toggleJoystick","bottom","code","createElement","push","fastrewind","forEach","fastkb","click",'<span style="font-size: 50%;">KB</span>',"CANVAS","keyboard",'<span style="font-size: 50%;">',"opacity","trigger"];return _0x5795=function(){return h},_0x5795()}var cn,Us,ca,la,Yi,fa,Rf,Ff,Pf,Bf,hc,ml,qf,Nf;const Pr=class Pr{constructor(o,e){Mt(this,hc);Mt(this,cn,void 0);Mt(this,Us,void 0);nr(this,cn,o),nr(this,Us,e)}[(Rf=_0x474c3b(376),Ff=_0x474c3b(299),Pf=_0x474c3b(383),Bf=_0x474c3b(358),_0x474c3b(291))](){const o=_0x474c3b;var e=document.createElement(o(285));e.id=o(276),e.style.display="none",new SingleTouchButton(e,'<span style="font-size: 50%;">REWIND</span>',void 0,o(329),new RewindButtonListener(Ye(this,cn)[o(300)]()),FAST_BTN_RADIUS),new SingleTouchButton(e,o(252),void 0,o(278),new CommandButtonListener(o(345),Ye(this,cn).getNostalgist()),FAST_BTN_RADIUS),new SingleTouchButton(e,o(289),void 0,o(273),new ResetButtonListener,FAST_BTN_RADIUS),!Ye(this,cn).getSelectedPlatform()[o(368)]&&new SingleTouchButton(e,o(320),void 0,o(262),new SaveButtonListener(Ye(this,cn)),FAST_BTN_RADIUS),Ye(this,cn)[o(265)]()[o(335)]&&new SingleTouchButton(e,o(333),void 0,o(331),new KbListener(Ye(this,Us)),FAST_BTN_RADIUS),ur(this,hc,ml).call(this,e);var i=document[o(327)](o(285));i.id=o(356),i[o(277)].display=o(349),e[o(359)](i),document.body.appendChild(e)}initDesktopUI(){const o=_0x474c3b,e=document[o(354)](o(298));Ye(this,cn)[o(265)]()[o(368)]&&(document[o(354)](o(296))[o(277)][o(251)]="none");let i;function c(Ie){const Oe=o;e[Oe(340)](Oe(377),function(){const ne=Oe;e.classList[ne(321)]("visible"),clearTimeout(i)}),e.addEventListener("mouseleave",function(){i=setTimeout(function(){const ne=_0x37eb;e[ne(272)].remove(ne(319))},1e3)})}function f(Ie,Oe){const ne=o;return Ie[ne(264)]===ne(334)?(c(),!![]):Ie.querySelector&&Ie[ne(363)](ne(281))?(c(),!![]):![]}new MutationObserver(function(Ie){const Oe=o;for(const ne of Ie)if(ne.addedNodes&&ne[Oe(322)][Oe(286)]>0){for(const De of ne[Oe(322)])if(f(De))return}})[o(314)](document.body,{childList:!![],subtree:!![]}),c();let g=null,Te=this;addButtonEventListeners(s(o(313)),Ie=>{const Oe=o;Ie&&(document.fullscreenElement?document[Oe(253)]().then(()=>{const ne=Oe;EnvironmentManager[ne(366)](Ye(this,cn)[ne(300)]())})[Oe(357)](ne=>{console.log(ne)}):document[Oe(279)].requestFullscreen()[Oe(294)](()=>{const ne=Oe;EnvironmentManager[ne(366)](Ye(this,cn)[ne(300)]())}).catch(ne=>{console[Oe(292)](ne)}))}),addButtonEventListeners(s(o(316)),Ie=>{const Oe=o;Ie?Ye(this,cn)[Oe(350)]()[Oe(294)](De=>{console.log(De)})[Oe(357)](De=>{console.error("Error resolving state:",De)}):clearInterval(g)}),addButtonEventListeners(s(o(307)),Ie=>{const Oe=o;Ie?(Ye(Te,cn)[Oe(300)]()[Oe(257)](Oe(372)),g=setInterval(()=>{const ne=Oe;Ye(Te,cn)[ne(300)]()[ne(257)](ne(372))},5)):clearInterval(g)}),addButtonEventListeners(s("#desktopUiBack"),Ie=>{location[o(317)]()}),this[o(323)](),Ye(this,cn)[o(265)]().mouse_controllers&&s(o(284)).addEventListener(o(332),()=>{const Ie=o;s(Ie(284))[Ie(274)]()})}[_0x474c3b(344)](){const o=_0x474c3b,e=Ye(this,cn)[o(265)]().touch_controllers;if(e[o(286)]==1)return;let i=0;new SingleTouchButton(s("#fastui"),'<span style="font-size: 50%;">JOY</span>',void 0,o(346),new class extends TouchButtonListener{constructor(){super()}[o(338)](m){const g=o;if(m)if(Pr[g(358)])Pr[g(379)](),Pr.hideMousepad(),Pr[g(358)]=![],Pr[g(369)]();else if(Pr[g(383)])Pr.hideKeyboard(),Pr[g(271)](),Pr[g(358)]=![],Pr.showJoystick();else{i=(i+1)%e.length;const Te=e[i];Pr.toggleJoystick(Te,!![])}}},FAST_BTN_RADIUS);const c=Ye(this,cn)[o(265)]()[o(318)];if(c==null||c[o(286)]==0)return;let f=0;new SingleTouchButton(s("#fastui"),o(351),void 0,o(306),new class extends TouchButtonListener{constructor(){super()}trigger(m){const g=o;if(m)if(Pr[g(358)]=!![],Pr[g(358)]){f=(f+1)%c[g(286)];const Te=c[f];Pr[g(268)](Te,!![])}else{Pr[g(379)](),Pr[g(311)]();const Te=c[f];Pr[g(268)](Te,!![])}}},FAST_BTN_RADIUS)}[_0x474c3b(323)](){const o=_0x474c3b,e=document[o(354)](o(293)),i=document.getElementById(o(342)),c=Ye(this,cn).getNostalgist(),f=[];let m=Object[o(373)](Ye(this,cn).getSelectedPlatform()[o(310)]);if(m[o(286)]>0)for(let De=0;De<m[o(286)];De++){let Ee=m[De],Be=Ye(this,cn)[o(265)]()[o(310)][Ee].label,Fe=Ye(this,cn)[o(265)]()[o(310)][Ee][o(304)],Ne=Ye(this,cn).getSelectedPlatform().additional_buttons[Ee][o(261)];f[o(328)]({name:Be,action:()=>{const Ve=o;Ne?Ie(Ne[Ve(261)],Ne[Ve(326)],Ne[Ve(261)][Ve(304)]):c.press({button:Fe,player:1,time:100})}})}else e[o(277)].display=o(349);function g(De,Ee,Be){const Fe=o;let Ne=new KeyboardEvent(Fe(270),{key:De,code:Ee,keyCode:Be,charCode:Be,bubbles:!![],cancelable:!![]});document.dispatchEvent(Ne)}function Te(De,Ee,Be){let Fe=new KeyboardEvent("keyup",{key:De,code:Ee,keyCode:Be,charCode:Be,bubbles:!![],cancelable:!![]});document.dispatchEvent(Fe)}function Ie(De,Ee,Be){g(De,Ee,Be),setTimeout(()=>{Te(De,Ee,Be)},50)}function Oe(){const De=o;i.innerHTML="",f[De(330)](Ee=>{const Be=De,Fe=document[Be(327)](Be(285));Fe[Be(255)]=Ee[Be(283)],Fe[Be(362)]=Be(275),Fe.addEventListener(Be(332),Ee[Be(287)]),i[Be(359)](Fe)})}function ne(){const De=o;if(i[De(277)][De(251)]==="none"||i[De(277)][De(251)]===""){const Ee=e.getBoundingClientRect();i[De(277)][De(269)]="absolute",i[De(277)][De(378)]=De(259),i[De(277)][De(280)]=Ee[De(325)]+"px",i[De(277)].left=Ee[De(371)]+"px",i[De(277)][De(251)]=De(256),i[De(277)][De(341)]=De(303)}else i[De(277)].display=De(349)}e.addEventListener("click",ne),Oe()}[_0x474c3b(290)](){nr(Pr,ca,new QuickJoy(Ye(this,cn)))}[_0x474c3b(364)](){nr(Pr,la,new QuickShot(Ye(this,cn)))}[_0x474c3b(295)](){nr(Pr,fa,new Mousepad(Ye(this,cn)))}[_0x474c3b(361)](){nr(Pr,Yi,new Hideaway)}static[_0x474c3b(311)](){const o=_0x474c3b;Pr[o(376)]==JOYSTICK_TOUCH_MODE[o(360)]&&Ye(this,Yi).hide(),s(o(312)).style[o(251)]=o(349),s(o(375)).style[o(251)]=o(349)}static[_0x474c3b(369)](){const o=_0x474c3b;Pr[o(376)]==JOYSTICK_TOUCH_MODE[o(380)]?s(o(312))[o(277)].display=o(367):Pr[o(376)]==JOYSTICK_TOUCH_MODE.QUICKJOY_PRIMARY?s("#quickjoys")[o(277)][o(251)]="grid":Pr.currentJoyTouchMode==JOYSTICK_TOUCH_MODE.HIDEAWAY}static hideKeyboard(){const o=_0x474c3b;Pr[o(383)]=![],s("#keyboardContainer")[o(277)][o(251)]="none"}static[_0x474c3b(370)](){const o=_0x474c3b;s(o(348))[o(277)][o(251)]=o(256)}static hideMousepad(){const o=_0x474c3b;s("#mousepads").style[o(251)]=o(349)}static[_0x474c3b(263)](){const o=_0x474c3b;s(o(355))[o(277)].display=o(367)}static[(qf=_0x474c3b(268),Nf=_0x474c3b(324),_0x474c3b(353))](o,e=null){const i=_0x474c3b,c=document[i(354)](i(356));function f(){const m=i;c[m(277)][m(337)]="0",setTimeout(()=>c[m(277)][m(251)]=m(349),250)}if(c[i(315)]&&(clearTimeout(c[i(315)]),c[i(315)]=null),o===null){f();return}c[i(255)]=o,c[i(277)][i(251)]=i(367),setTimeout(()=>c[i(277)].opacity="1",0),e!==null&&(c[i(315)]=setTimeout(()=>{const m=i;f(),c[m(315)]=null},e))}};cn=new WeakMap,Us=new WeakMap,ca=new WeakMap,la=new WeakMap,Yi=new WeakMap,fa=new WeakMap,hc=new WeakSet,ml=function(o){const e=_0x474c3b;let i=1,c=Object.keys(Ye(this,cn).getSelectedPlatform()[e(310)]);c[e(282)]();for(let f=0;f<c.length;f++){let m=c[f],g=Ye(this,cn).getSelectedPlatform()[e(310)][m][e(382)],Te=Ye(this,cn).getSelectedPlatform()[e(310)][m][e(304)],Ie=Ye(this,cn)[e(265)]().additional_buttons[m][e(261)],Oe;Ie?Oe=new SingleTouchButtonKbListener(Ie.key,Ie.code,Ie[e(304)]):Oe=new SingleTouchButtonJoyListener(Ye(this,cn)[e(300)](),Te),new SingleTouchButton(o,e(336)+g+e(260),void 0,e(301)+i,Oe,FAST_BTN_RADIUS),i+=1}},Mt(Pr,ca,void 0),Mt(Pr,la,void 0),Mt(Pr,Yi,void 0),Mt(Pr,fa,void 0),sn(Pr,Rf),sn(Pr,Ff),sn(Pr,Pf),sn(Pr,Bf),sn(Pr,qf,(o,e)=>{const i=_0x474c3b;if(!(EnvironmentManager.isDesktop()||EnvironmentManager[i(352)]()))switch(o){case MOUSE_TOUCH_MODE[i(288)]:Pr.mousepadVisible=!![],Pr.currentMouseTouchMode=MOUSE_TOUCH_MODE[i(288)],Ye(Pr,ca).hide(),Ye(Pr,la)[i(365)](),Ye(Pr,Yi).hide(),Ye(Pr,fa)[i(258)]();break}}),sn(Pr,Nf,(o,e)=>{const i=_0x474c3b;if(!(EnvironmentManager[i(309)]()||EnvironmentManager.isQuest()))switch(o){case JOYSTICK_TOUCH_MODE[i(267)]:Pr.currentJoyTouchMode=JOYSTICK_TOUCH_MODE[i(267)],e&&Pr.osdMessage(i(381),1e3),Ye(Pr,Yi)[i(365)](),Ye(Pr,la)[i(365)](),Ye(Pr,fa).hide(),Ye(Pr,ca)[i(258)]();break;case JOYSTICK_TOUCH_MODE[i(380)]:Pr.currentJoyTouchMode=JOYSTICK_TOUCH_MODE[i(380)],e&&Pr[i(353)](i(374),1e3),Ye(Pr,ca)[i(365)](),Ye(Pr,fa).hide(),Ye(Pr,Yi)[i(365)](),Ye(Pr,la)[i(258)]();break;case JOYSTICK_TOUCH_MODE[i(360)]:Pr[i(376)]=JOYSTICK_TOUCH_MODE.HIDEAWAY,e&&Pr[i(353)]("Auto Hide",1e3),Ye(Pr,ca)[i(365)](),Ye(Pr,la)[i(365)](),Ye(Pr,fa)[i(365)](),Ye(Pr,Yi)[i(258)]();break}});let UiManager=Pr;var jo,zs,Hs;const Rs=class Rs extends TouchButtonListener{constructor(e){super();Mt(this,jo,void 0);Mt(this,zs,void 0);nr(this,jo,e)}trigger(e){const i=_0x474c3b;e?(Ye(this,jo)[i(257)](Ye(Rs,Hs)),nr(this,zs,setInterval(()=>{const c=i;Ye(this,jo)[c(257)](Ye(Rs,Hs))},5))):clearInterval(Ye(this,zs))}};jo=new WeakMap,zs=new WeakMap,Hs=new WeakMap,Mt(Rs,Hs,_0x474c3b(372));let RewindButtonListener=Rs;var Ws,Ks;class CommandButtonListener extends TouchButtonListener{constructor(e,i,c){super();Mt(this,Ws,void 0);Mt(this,Ks,void 0);nr(this,Ws,e),nr(this,Ks,i),this.message=c}[_0x474c3b(338)](e){const i=_0x474c3b;Ye(this,Ks)[i(257)](Ye(this,Ws))}}Ws=new WeakMap,Ks=new WeakMap;var Ys;class SaveButtonListener extends TouchButtonListener{constructor(e){super();Mt(this,Ys,void 0);nr(this,Ys,e)}async[_0x474c3b(338)](e){const i=_0x474c3b;e&&Ye(this,Ys)[i(350)]()}}Ys=new WeakMap;var Gs;class KbListener extends TouchButtonListener{constructor(e){super();Mt(this,Gs,void 0);nr(this,Gs,e)}[_0x474c3b(338)](e){const i=_0x474c3b;e&&(UiManager.keyboardVisible=!![],UiManager[i(311)](),UiManager[i(271)](),UiManager[i(370)](),Ye(this,Gs).showTouchKeyboard())}}Gs=new WeakMap;class ResetButtonListener extends TouchButtonListener{constructor(){super()}trigger(o){o&&location[_0x474c3b(317)]()}}var lib={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z=Symbol.iterator;function A(h){return h===null||typeof h!="object"?null:(h=z&&h[z]||h["@@iterator"],typeof h=="function"?h:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,D$1={};function E(h,o,e){this.props=h,this.context=o,this.refs=D$1,this.updater=e||B}E.prototype.isReactComponent={};E.prototype.setState=function(h,o){if(typeof h!="object"&&typeof h!="function"&&h!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,h,o,"setState")};E.prototype.forceUpdate=function(h){this.updater.enqueueForceUpdate(this,h,"forceUpdate")};function F$1(){}F$1.prototype=E.prototype;function G$1(h,o,e){this.props=h,this.context=o,this.refs=D$1,this.updater=e||B}var H=G$1.prototype=new F$1;H.constructor=G$1;C(H,E.prototype);H.isPureReactComponent=!0;var I$1=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M(h,o,e){var i,c={},f=null,m=null;if(o!=null)for(i in o.ref!==void 0&&(m=o.ref),o.key!==void 0&&(f=""+o.key),o)J$1.call(o,i)&&!L$1.hasOwnProperty(i)&&(c[i]=o[i]);var g=arguments.length-2;if(g===1)c.children=e;else if(1<g){for(var Te=Array(g),Ie=0;Ie<g;Ie++)Te[Ie]=arguments[Ie+2];c.children=Te}if(h&&h.defaultProps)for(i in g=h.defaultProps,g)c[i]===void 0&&(c[i]=g[i]);return{$$typeof:l$1,type:h,key:f,ref:m,props:c,_owner:K$1.current}}function N$1(h,o){return{$$typeof:l$1,type:h.type,key:o,ref:h.ref,props:h.props,_owner:h._owner}}function O$1(h){return typeof h=="object"&&h!==null&&h.$$typeof===l$1}function escape$1(h){var o={"=":"=0",":":"=2"};return"$"+h.replace(/[=:]/g,function(e){return o[e]})}var P=/\/+/g;function Q$1(h,o){return typeof h=="object"&&h!==null&&h.key!=null?escape$1(""+h.key):o.toString(36)}function R$1(h,o,e,i,c){var f=typeof h;(f==="undefined"||f==="boolean")&&(h=null);var m=!1;if(h===null)m=!0;else switch(f){case"string":case"number":m=!0;break;case"object":switch(h.$$typeof){case l$1:case n:m=!0}}if(m)return m=h,c=c(m),h=i===""?"."+Q$1(m,0):i,I$1(c)?(e="",h!=null&&(e=h.replace(P,"$&/")+"/"),R$1(c,o,e,"",function(Ie){return Ie})):c!=null&&(O$1(c)&&(c=N$1(c,e+(!c.key||m&&m.key===c.key?"":(""+c.key).replace(P,"$&/")+"/")+h)),o.push(c)),1;if(m=0,i=i===""?".":i+":",I$1(h))for(var g=0;g<h.length;g++){f=h[g];var Te=i+Q$1(f,g);m+=R$1(f,o,e,Te,c)}else if(Te=A(h),typeof Te=="function")for(h=Te.call(h),g=0;!(f=h.next()).done;)f=f.value,Te=i+Q$1(f,g++),m+=R$1(f,o,e,Te,c);else if(f==="object")throw o=String(h),Error("Objects are not valid as a React child (found: "+(o==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":o)+"). If you meant to render a collection of children, use an array instead.");return m}function S(h,o,e){if(h==null)return h;var i=[],c=0;return R$1(h,i,"","",function(f){return o.call(e,f,c++)}),i}function T(h){if(h._status===-1){var o=h._result;o=o(),o.then(function(e){(h._status===0||h._status===-1)&&(h._status=1,h._result=e)},function(e){(h._status===0||h._status===-1)&&(h._status=2,h._result=e)}),h._status===-1&&(h._status=0,h._result=o)}if(h._status===1)return h._result.default;throw h._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S,forEach:function(h,o,e){S(h,function(){o.apply(this,arguments)},e)},count:function(h){var o=0;return S(h,function(){o++}),o},toArray:function(h){return S(h,function(o){return o})||[]},only:function(h){if(!O$1(h))throw Error("React.Children.only expected to receive a single React element child.");return h}};react_production_min.Component=E;react_production_min.Fragment=p;react_production_min.Profiler=r;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$1;react_production_min.cloneElement=function(h,o,e){if(h==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+h+".");var i=C({},h.props),c=h.key,f=h.ref,m=h._owner;if(o!=null){if(o.ref!==void 0&&(f=o.ref,m=K$1.current),o.key!==void 0&&(c=""+o.key),h.type&&h.type.defaultProps)var g=h.type.defaultProps;for(Te in o)J$1.call(o,Te)&&!L$1.hasOwnProperty(Te)&&(i[Te]=o[Te]===void 0&&g!==void 0?g[Te]:o[Te])}var Te=arguments.length-2;if(Te===1)i.children=e;else if(1<Te){g=Array(Te);for(var Ie=0;Ie<Te;Ie++)g[Ie]=arguments[Ie+2];i.children=g}return{$$typeof:l$1,type:h.type,key:c,ref:f,props:i,_owner:m}};react_production_min.createContext=function(h){return h={$$typeof:u,_currentValue:h,_currentValue2:h,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},h.Provider={$$typeof:t,_context:h},h.Consumer=h};react_production_min.createElement=M;react_production_min.createFactory=function(h){var o=M.bind(null,h);return o.type=h,o};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(h){return{$$typeof:v,render:h}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(h){return{$$typeof:y,_payload:{_status:-1,_result:h},_init:T}};react_production_min.memo=function(h,o){return{$$typeof:x,type:h,compare:o===void 0?null:o}};react_production_min.startTransition=function(h){var o=V$1.transition;V$1.transition={};try{h()}finally{V$1.transition=o}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(h,o){return U$1.current.useCallback(h,o)};react_production_min.useContext=function(h){return U$1.current.useContext(h)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(h){return U$1.current.useDeferredValue(h)};react_production_min.useEffect=function(h,o){return U$1.current.useEffect(h,o)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(h,o,e){return U$1.current.useImperativeHandle(h,o,e)};react_production_min.useInsertionEffect=function(h,o){return U$1.current.useInsertionEffect(h,o)};react_production_min.useLayoutEffect=function(h,o){return U$1.current.useLayoutEffect(h,o)};react_production_min.useMemo=function(h,o){return U$1.current.useMemo(h,o)};react_production_min.useReducer=function(h,o,e){return U$1.current.useReducer(h,o,e)};react_production_min.useRef=function(h){return U$1.current.useRef(h)};react_production_min.useState=function(h){return U$1.current.useState(h)};react_production_min.useSyncExternalStore=function(h,o,e){return U$1.current.useSyncExternalStore(h,o,e)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports,uaParser_min={exports:{}};(function(h,o){(function(e,i){var c="1.0.39",f="",m="?",g="function",Te="undefined",Ie="object",Oe="string",ne="major",De="model",Ee="name",Be="type",Fe="vendor",Ne="version",Ve="architecture",Ue="console",We="mobile",He="tablet",Xe="smarttv",ot="wearable",tt="embedded",gt=500,vt="Amazon",rt="Apple",ht="ASUS",it="BlackBerry",mt="Browser",Ze="Chrome",Ft="Edge",Zt="Firefox",jt="Google",cr="Huawei",bt="LG",St="Microsoft",ct="Motorola",dt="Opera",Pt="Samsung",Ct="Sharp",Kt="Sony",fr="Xiaomi",Rr="Zebra",sr="Facebook",lt="Chromium OS",yt="Mac OS",Xt=" Browser",$t=function(It,zt){var tr={};for(var Sr in It)zt[Sr]&&zt[Sr].length%2===0?tr[Sr]=zt[Sr].concat(It[Sr]):tr[Sr]=It[Sr];return tr},dr=function(It){for(var zt={},tr=0;tr<It.length;tr++)zt[It[tr].toUpperCase()]=It[tr];return zt},Je=function(It,zt){return typeof It===Oe?At(zt).indexOf(At(It))!==-1:!1},At=function(It){return It.toLowerCase()},Wt=function(It){return typeof It===Oe?It.replace(/[^\d\.]/g,f).split(".")[0]:i},xt=function(It,zt){if(typeof It===Oe)return It=It.replace(/^\s\s*/,f),typeof zt===Te?It:It.substring(0,gt)},pt=function(It,zt){for(var tr=0,Sr,Lr,Br,Er,gr,Qr;tr<zt.length&&!gr;){var Cr=zt[tr],on=zt[tr+1];for(Sr=Lr=0;Sr<Cr.length&&!gr&&Cr[Sr];)if(gr=Cr[Sr++].exec(It),gr)for(Br=0;Br<on.length;Br++)Qr=gr[++Lr],Er=on[Br],typeof Er===Ie&&Er.length>0?Er.length===2?typeof Er[1]==g?this[Er[0]]=Er[1].call(this,Qr):this[Er[0]]=Er[1]:Er.length===3?typeof Er[1]===g&&!(Er[1].exec&&Er[1].test)?this[Er[0]]=Qr?Er[1].call(this,Qr,Er[2]):i:this[Er[0]]=Qr?Qr.replace(Er[1],Er[2]):i:Er.length===4&&(this[Er[0]]=Qr?Er[3].call(this,Qr.replace(Er[1],Er[2])):i):this[Er]=Qr||i;tr+=2}},Dt=function(It,zt){for(var tr in zt)if(typeof zt[tr]===Ie&&zt[tr].length>0){for(var Sr=0;Sr<zt[tr].length;Sr++)if(Je(zt[tr][Sr],It))return tr===m?i:tr}else if(Je(zt[tr],It))return tr===m?i:tr;return zt.hasOwnProperty("*")?zt["*"]:It},er={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},nt={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},je={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[Ne,[Ee,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[Ne,[Ee,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[Ee,Ne],[/opios[\/ ]+([\w\.]+)/i],[Ne,[Ee,dt+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[Ne,[Ee,dt+" GX"]],[/\bopr\/([\w\.]+)/i],[Ne,[Ee,dt]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[Ne,[Ee,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[Ee,Ne],[/quark(?:pc)?\/([-\w\.]+)/i],[Ne,[Ee,"Quark"]],[/\bddg\/([\w\.]+)/i],[Ne,[Ee,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[Ne,[Ee,"UC"+mt]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[Ne,[Ee,"WeChat"]],[/konqueror\/([\w\.]+)/i],[Ne,[Ee,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[Ne,[Ee,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[Ne,[Ee,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[Ne,[Ee,"Smart Lenovo "+mt]],[/(avast|avg)\/([\w\.]+)/i],[[Ee,/(.+)/,"$1 Secure "+mt],Ne],[/\bfocus\/([\w\.]+)/i],[Ne,[Ee,Zt+" Focus"]],[/\bopt\/([\w\.]+)/i],[Ne,[Ee,dt+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[Ne,[Ee,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[Ne,[Ee,"Dolphin"]],[/coast\/([\w\.]+)/i],[Ne,[Ee,dt+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[Ne,[Ee,"MIUI "+mt]],[/fxios\/([-\w\.]+)/i],[Ne,[Ee,Zt]],[/\bqihu|(qi?ho?o?|360)browser/i],[[Ee,"360"+Xt]],[/\b(qq)\/([\w\.]+)/i],[[Ee,/(.+)/,"$1Browser"],Ne],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[Ee,/(.+)/,"$1"+Xt],Ne],[/samsungbrowser\/([\w\.]+)/i],[Ne,[Ee,Pt+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[Ee,/_/g," "],Ne],[/metasr[\/ ]?([\d\.]+)/i],[Ne,[Ee,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[Ee,"Sogou Mobile"],Ne],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[Ee,Ne],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[Ee],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[Ee,sr],Ne],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[Ee,Ne],[/\bgsa\/([\w\.]+) .*safari\//i],[Ne,[Ee,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[Ne,[Ee,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[Ne,[Ee,Ze+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[Ee,Ze+" WebView"],Ne],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[Ne,[Ee,"Android "+mt]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[Ee,Ne],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[Ne,[Ee,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[Ne,Ee],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[Ee,[Ne,Dt,er]],[/(webkit|khtml)\/([\w\.]+)/i],[Ee,Ne],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[Ee,"Netscape"],Ne],[/(wolvic)\/([\w\.]+)/i],[Ee,Ne],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[Ne,[Ee,Zt+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[Ee,[Ne,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[Ee,[Ne,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[Ve,"amd64"]],[/(ia32(?=;))/i],[[Ve,At]],[/((?:i[346]|x)86)[;\)]/i],[[Ve,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[Ve,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[Ve,"armhf"]],[/windows (ce|mobile); ppc;/i],[[Ve,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[Ve,/ower/,f,At]],[/(sun4\w)[;\)]/i],[[Ve,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[Ve,At]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[De,[Fe,Pt],[Be,He]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[De,[Fe,Pt],[Be,We]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[De,[Fe,rt],[Be,We]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[De,[Fe,rt],[Be,He]],[/(macintosh);/i],[De,[Fe,rt]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[De,[Fe,Ct],[Be,We]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[De,[Fe,cr],[Be,He]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[De,[Fe,cr],[Be,We]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[De,/_/g," "],[Fe,fr],[Be,We]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[De,/_/g," "],[Fe,fr],[Be,He]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[De,[Fe,"OPPO"],[Be,We]],[/\b(opd2\d{3}a?) bui/i],[De,[Fe,"OPPO"],[Be,He]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[De,[Fe,"Vivo"],[Be,We]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[De,[Fe,"Realme"],[Be,We]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[De,[Fe,ct],[Be,We]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[De,[Fe,ct],[Be,He]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[De,[Fe,bt],[Be,He]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[De,[Fe,bt],[Be,We]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[De,[Fe,"Lenovo"],[Be,He]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[De,/_/g," "],[Fe,"Nokia"],[Be,We]],[/(pixel c)\b/i],[De,[Fe,jt],[Be,He]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[De,[Fe,jt],[Be,We]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[De,[Fe,Kt],[Be,We]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[De,"Xperia Tablet"],[Fe,Kt],[Be,He]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[De,[Fe,"OnePlus"],[Be,We]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[De,[Fe,vt],[Be,He]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[De,/(.+)/g,"Fire Phone $1"],[Fe,vt],[Be,We]],[/(playbook);[-\w\),; ]+(rim)/i],[De,Fe,[Be,He]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[De,[Fe,it],[Be,We]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[De,[Fe,ht],[Be,He]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[De,[Fe,ht],[Be,We]],[/(nexus 9)/i],[De,[Fe,"HTC"],[Be,He]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[Fe,[De,/_/g," "],[Be,We]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[De,[Fe,"TCL"],[Be,He]],[/(itel) ((\w+))/i],[[Fe,At],De,[Be,Dt,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[De,[Fe,"Acer"],[Be,He]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[De,[Fe,"Meizu"],[Be,We]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[De,[Fe,"Ulefone"],[Be,We]],[/droid.+; (a(?:015|06[35]|142p?))/i],[De,[Fe,"Nothing"],[Be,We]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[Fe,De,[Be,We]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[Fe,De,[Be,He]],[/(surface duo)/i],[De,[Fe,St],[Be,He]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[De,[Fe,"Fairphone"],[Be,We]],[/(u304aa)/i],[De,[Fe,"AT&T"],[Be,We]],[/\bsie-(\w*)/i],[De,[Fe,"Siemens"],[Be,We]],[/\b(rct\w+) b/i],[De,[Fe,"RCA"],[Be,He]],[/\b(venue[\d ]{2,7}) b/i],[De,[Fe,"Dell"],[Be,He]],[/\b(q(?:mv|ta)\w+) b/i],[De,[Fe,"Verizon"],[Be,He]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[De,[Fe,"Barnes & Noble"],[Be,He]],[/\b(tm\d{3}\w+) b/i],[De,[Fe,"NuVision"],[Be,He]],[/\b(k88) b/i],[De,[Fe,"ZTE"],[Be,He]],[/\b(nx\d{3}j) b/i],[De,[Fe,"ZTE"],[Be,We]],[/\b(gen\d{3}) b.+49h/i],[De,[Fe,"Swiss"],[Be,We]],[/\b(zur\d{3}) b/i],[De,[Fe,"Swiss"],[Be,He]],[/\b((zeki)?tb.*\b) b/i],[De,[Fe,"Zeki"],[Be,He]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[Fe,"Dragon Touch"],De,[Be,He]],[/\b(ns-?\w{0,9}) b/i],[De,[Fe,"Insignia"],[Be,He]],[/\b((nxa|next)-?\w{0,9}) b/i],[De,[Fe,"NextBook"],[Be,He]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[Fe,"Voice"],De,[Be,We]],[/\b(lvtel\-)?(v1[12]) b/i],[[Fe,"LvTel"],De,[Be,We]],[/\b(ph-1) /i],[De,[Fe,"Essential"],[Be,We]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[De,[Fe,"Envizen"],[Be,He]],[/\b(trio[-\w\. ]+) b/i],[De,[Fe,"MachSpeed"],[Be,He]],[/\btu_(1491) b/i],[De,[Fe,"Rotor"],[Be,He]],[/(shield[\w ]+) b/i],[De,[Fe,"Nvidia"],[Be,He]],[/(sprint) (\w+)/i],[Fe,De,[Be,We]],[/(kin\.[onetw]{3})/i],[[De,/\./g," "],[Fe,St],[Be,We]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[De,[Fe,Rr],[Be,He]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[De,[Fe,Rr],[Be,We]],[/smart-tv.+(samsung)/i],[Fe,[Be,Xe]],[/hbbtv.+maple;(\d+)/i],[[De,/^/,"SmartTV"],[Fe,Pt],[Be,Xe]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[Fe,bt],[Be,Xe]],[/(apple) ?tv/i],[Fe,[De,rt+" TV"],[Be,Xe]],[/crkey/i],[[De,Ze+"cast"],[Fe,jt],[Be,Xe]],[/droid.+aft(\w+)( bui|\))/i],[De,[Fe,vt],[Be,Xe]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[De,[Fe,Ct],[Be,Xe]],[/(bravia[\w ]+)( bui|\))/i],[De,[Fe,Kt],[Be,Xe]],[/(mitv-\w{5}) bui/i],[De,[Fe,fr],[Be,Xe]],[/Hbbtv.*(technisat) (.*);/i],[Fe,De,[Be,Xe]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[Fe,xt],[De,xt],[Be,Xe]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[Be,Xe]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[Fe,De,[Be,Ue]],[/droid.+; (shield) bui/i],[De,[Fe,"Nvidia"],[Be,Ue]],[/(playstation [345portablevi]+)/i],[De,[Fe,Kt],[Be,Ue]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[De,[Fe,St],[Be,Ue]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[De,[Fe,Pt],[Be,ot]],[/((pebble))app/i],[Fe,De,[Be,ot]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[De,[Fe,rt],[Be,ot]],[/droid.+; (glass) \d/i],[De,[Fe,jt],[Be,ot]],[/droid.+; (wt63?0{2,3})\)/i],[De,[Fe,Rr],[Be,ot]],[/(quest( \d| pro)?)/i],[De,[Fe,sr],[Be,ot]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[Fe,[Be,tt]],[/(aeobc)\b/i],[De,[Fe,vt],[Be,tt]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[De,[Be,We]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[De,[Be,He]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[Be,He]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[Be,We]],[/(android[-\w\. ]{0,9});.+buil/i],[De,[Fe,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[Ne,[Ee,Ft+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[Ne,[Ee,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[Ee,Ne],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[Ne,Ee]],os:[[/microsoft (windows) (vista|xp)/i],[Ee,Ne],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[Ee,[Ne,Dt,nt]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[Ne,Dt,nt],[Ee,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[Ne,/_/g,"."],[Ee,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[Ee,yt],[Ne,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[Ne,Ee],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[Ee,Ne],[/\(bb(10);/i],[Ne,[Ee,it]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[Ne,[Ee,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[Ne,[Ee,Zt+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[Ne,[Ee,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[Ne,[Ee,"watchOS"]],[/crkey\/([\d\.]+)/i],[Ne,[Ee,Ze+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[Ee,lt],Ne],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[Ee,Ne],[/(sunos) ?([\w\.\d]*)/i],[[Ee,"Solaris"],Ne],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[Ee,Ne]]},Ke=function(It,zt){if(typeof It===Ie&&(zt=It,It=i),!(this instanceof Ke))return new Ke(It,zt).getResult();var tr=typeof e!==Te&&e.navigator?e.navigator:i,Sr=It||(tr&&tr.userAgent?tr.userAgent:f),Lr=tr&&tr.userAgentData?tr.userAgentData:i,Br=zt?$t(je,zt):je,Er=tr&&tr.userAgent==Sr;return this.getBrowser=function(){var gr={};return gr[Ee]=i,gr[Ne]=i,pt.call(gr,Sr,Br.browser),gr[ne]=Wt(gr[Ne]),Er&&tr&&tr.brave&&typeof tr.brave.isBrave==g&&(gr[Ee]="Brave"),gr},this.getCPU=function(){var gr={};return gr[Ve]=i,pt.call(gr,Sr,Br.cpu),gr},this.getDevice=function(){var gr={};return gr[Fe]=i,gr[De]=i,gr[Be]=i,pt.call(gr,Sr,Br.device),Er&&!gr[Be]&&Lr&&Lr.mobile&&(gr[Be]=We),Er&&gr[De]=="Macintosh"&&tr&&typeof tr.standalone!==Te&&tr.maxTouchPoints&&tr.maxTouchPoints>2&&(gr[De]="iPad",gr[Be]=He),gr},this.getEngine=function(){var gr={};return gr[Ee]=i,gr[Ne]=i,pt.call(gr,Sr,Br.engine),gr},this.getOS=function(){var gr={};return gr[Ee]=i,gr[Ne]=i,pt.call(gr,Sr,Br.os),Er&&!gr[Ee]&&Lr&&Lr.platform&&Lr.platform!="Unknown"&&(gr[Ee]=Lr.platform.replace(/chrome os/i,lt).replace(/macos/i,yt)),gr},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Sr},this.setUA=function(gr){return Sr=typeof gr===Oe&&gr.length>gt?xt(gr,gt):gr,this},this.setUA(Sr),this};Ke.VERSION=c,Ke.BROWSER=dr([Ee,Ne,ne]),Ke.CPU=dr([Ve]),Ke.DEVICE=dr([De,Fe,Be,Ue,We,Xe,He,ot,tt]),Ke.ENGINE=Ke.OS=dr([Ee,Ne]),h.exports&&(o=h.exports=Ke),o.UAParser=Ke;var ut=typeof e!==Te&&(e.jQuery||e.Zepto);if(ut&&!ut.ua){var Et=new Ke;ut.ua=Et.getResult(),ut.ua.get=function(){return Et.getUA()},ut.ua.set=function(It){Et.setUA(It);var zt=Et.getResult();for(var tr in zt)ut.ua[tr]=zt[tr]}}})(typeof window=="object"?window:commonjsGlobal$1)})(uaParser_min,uaParser_min.exports);var uaParser_minExports=uaParser_min.exports;Object.defineProperty(lib,"__esModule",{value:!0});function _interopDefault(h){return h&&typeof h=="object"&&"default"in h?h.default:h}var React=reactExports,React__default=_interopDefault(React),UAParser=uaParser_minExports,ClientUAInstance=new UAParser,browser=ClientUAInstance.getBrowser(),cpu=ClientUAInstance.getCPU(),device=ClientUAInstance.getDevice(),engine=ClientUAInstance.getEngine(),os=ClientUAInstance.getOS(),ua=ClientUAInstance.getUA(),setUa=function h(o){return ClientUAInstance.setUA(o)},parseUserAgent=function h(o){if(!o){console.error("No userAgent string was provided");return}var e=new UAParser(o);return{UA:e,browser:e.getBrowser(),cpu:e.getCPU(),device:e.getDevice(),engine:e.getEngine(),os:e.getOS(),ua:e.getUA(),setUserAgent:function(c){return e.setUA(c)}}},UAHelper=Object.freeze({ClientUAInstance,browser,cpu,device,engine,os,ua,setUa,parseUserAgent});function ownKeys(h,o){var e=Object.keys(h);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(h);o&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(h,c).enumerable})),e.push.apply(e,i)}return e}function _objectSpread2(h){for(var o=1;o<arguments.length;o++){var e=arguments[o]!=null?arguments[o]:{};o%2?ownKeys(Object(e),!0).forEach(function(i){_defineProperty(h,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(e)):ownKeys(Object(e)).forEach(function(i){Object.defineProperty(h,i,Object.getOwnPropertyDescriptor(e,i))})}return h}function _typeof(h){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(o){return typeof o}:_typeof=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(h)}function _classCallCheck(h,o){if(!(h instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties(h,o){for(var e=0;e<o.length;e++){var i=o[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(h,i.key,i)}}function _createClass(h,o,e){return o&&_defineProperties(h.prototype,o),e&&_defineProperties(h,e),h}function _defineProperty(h,o,e){return o in h?Object.defineProperty(h,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):h[o]=e,h}function _extends(){return _extends=Object.assign||function(h){for(var o=1;o<arguments.length;o++){var e=arguments[o];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(h[i]=e[i])}return h},_extends.apply(this,arguments)}function _inherits(h,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(o&&o.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),o&&_setPrototypeOf(h,o)}function _getPrototypeOf(h){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(h)}function _setPrototypeOf(h,o){return _setPrototypeOf=Object.setPrototypeOf||function(i,c){return i.__proto__=c,i},_setPrototypeOf(h,o)}function _objectWithoutPropertiesLoose(h,o){if(h==null)return{};var e={},i=Object.keys(h),c,f;for(f=0;f<i.length;f++)c=i[f],!(o.indexOf(c)>=0)&&(e[c]=h[c]);return e}function _objectWithoutProperties(h,o){if(h==null)return{};var e=_objectWithoutPropertiesLoose(h,o),i,c;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(h);for(c=0;c<f.length;c++)i=f[c],!(o.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(h,i)&&(e[i]=h[i])}return e}function _assertThisInitialized(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function _possibleConstructorReturn(h,o){if(o&&(typeof o=="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(h)}function _slicedToArray(h,o){return _arrayWithHoles(h)||_iterableToArrayLimit(h,o)||_unsupportedIterableToArray(h,o)||_nonIterableRest()}function _arrayWithHoles(h){if(Array.isArray(h))return h}function _iterableToArrayLimit(h,o){var e=h==null?null:typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(e!=null){var i=[],c=!0,f=!1,m,g;try{for(e=e.call(h);!(c=(m=e.next()).done)&&(i.push(m.value),!(o&&i.length===o));c=!0);}catch(Te){f=!0,g=Te}finally{try{!c&&e.return!=null&&e.return()}finally{if(f)throw g}}return i}}function _unsupportedIterableToArray(h,o){if(h){if(typeof h=="string")return _arrayLikeToArray(h,o);var e=Object.prototype.toString.call(h).slice(8,-1);if(e==="Object"&&h.constructor&&(e=h.constructor.name),e==="Map"||e==="Set")return Array.from(h);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return _arrayLikeToArray(h,o)}}function _arrayLikeToArray(h,o){(o==null||o>h.length)&&(o=h.length);for(var e=0,i=new Array(o);e<o;e++)i[e]=h[e];return i}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var DeviceTypes={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},BrowserTypes={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},OsTypes={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},InitialDeviceTypes={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},checkDeviceType=function h(o){switch(o){case DeviceTypes.Mobile:return{isMobile:!0};case DeviceTypes.Tablet:return{isTablet:!0};case DeviceTypes.SmartTv:return{isSmartTV:!0};case DeviceTypes.Console:return{isConsole:!0};case DeviceTypes.Wearable:return{isWearable:!0};case DeviceTypes.Browser:return{isBrowser:!0};case DeviceTypes.Embedded:return{isEmbedded:!0};default:return InitialDeviceTypes}},setUserAgent=function h(o){return setUa(o)},setDefaults=function h(o){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return o||e},getNavigatorInstance=function h(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},isIOS13Check=function h(o){var e=getNavigatorInstance();return e&&e.platform&&(e.platform.indexOf(o)!==-1||e.platform==="MacIntel"&&e.maxTouchPoints>1&&!window.MSStream)},browserPayload=function h(o,e,i,c,f){return{isBrowser:o,browserMajorVersion:setDefaults(e.major),browserFullVersion:setDefaults(e.version),browserName:setDefaults(e.name),engineName:setDefaults(i.name),engineVersion:setDefaults(i.version),osName:setDefaults(c.name),osVersion:setDefaults(c.version),userAgent:setDefaults(f)}},mobilePayload=function h(o,e,i,c){return _objectSpread2({},o,{vendor:setDefaults(e.vendor),model:setDefaults(e.model),os:setDefaults(i.name),osVersion:setDefaults(i.version),ua:setDefaults(c)})},smartTvPayload=function h(o,e,i,c){return{isSmartTV:o,engineName:setDefaults(e.name),engineVersion:setDefaults(e.version),osName:setDefaults(i.name),osVersion:setDefaults(i.version),userAgent:setDefaults(c)}},consolePayload=function h(o,e,i,c){return{isConsole:o,engineName:setDefaults(e.name),engineVersion:setDefaults(e.version),osName:setDefaults(i.name),osVersion:setDefaults(i.version),userAgent:setDefaults(c)}},wearablePayload=function h(o,e,i,c){return{isWearable:o,engineName:setDefaults(e.name),engineVersion:setDefaults(e.version),osName:setDefaults(i.name),osVersion:setDefaults(i.version),userAgent:setDefaults(c)}},embeddedPayload=function h(o,e,i,c,f){return{isEmbedded:o,vendor:setDefaults(e.vendor),model:setDefaults(e.model),engineName:setDefaults(i.name),engineVersion:setDefaults(i.version),osName:setDefaults(c.name),osVersion:setDefaults(c.version),userAgent:setDefaults(f)}};function deviceDetect(h){var o=h?parseUserAgent(h):UAHelper,e=o.device,i=o.browser,c=o.engine,f=o.os,m=o.ua,g=checkDeviceType(e.type),Te=g.isBrowser,Ie=g.isMobile,Oe=g.isTablet,ne=g.isSmartTV,De=g.isConsole,Ee=g.isWearable,Be=g.isEmbedded;if(Te)return browserPayload(Te,i,c,f,m);if(ne)return smartTvPayload(ne,c,f,m);if(De)return consolePayload(De,c,f,m);if(Ie||Oe)return mobilePayload(g,e,f,m);if(Ee)return wearablePayload(Ee,c,f,m);if(Be)return embeddedPayload(Be,e,c,f,m)}var isMobileType=function h(o){var e=o.type;return e===DeviceTypes.Mobile},isTabletType=function h(o){var e=o.type;return e===DeviceTypes.Tablet},isMobileAndTabletType=function h(o){var e=o.type;return e===DeviceTypes.Mobile||e===DeviceTypes.Tablet},isSmartTVType=function h(o){var e=o.type;return e===DeviceTypes.SmartTv},isBrowserType=function h(o){var e=o.type;return e===DeviceTypes.Browser},isWearableType=function h(o){var e=o.type;return e===DeviceTypes.Wearable},isConsoleType=function h(o){var e=o.type;return e===DeviceTypes.Console},isEmbeddedType=function h(o){var e=o.type;return e===DeviceTypes.Embedded},getMobileVendor=function h(o){var e=o.vendor;return setDefaults(e)},getMobileModel=function h(o){var e=o.model;return setDefaults(e)},getDeviceType=function h(o){var e=o.type;return setDefaults(e,"browser")},isAndroidType=function h(o){var e=o.name;return e===OsTypes.Android},isWindowsType=function h(o){var e=o.name;return e===OsTypes.Windows},isMacOsType=function h(o){var e=o.name;return e===OsTypes.MAC_OS},isWinPhoneType=function h(o){var e=o.name;return e===OsTypes.WindowsPhone},isIOSType=function h(o){var e=o.name;return e===OsTypes.IOS},getOsVersion=function h(o){var e=o.version;return setDefaults(e)},getOsName=function h(o){var e=o.name;return setDefaults(e)},isChromeType=function h(o){var e=o.name;return e===BrowserTypes.Chrome},isFirefoxType=function h(o){var e=o.name;return e===BrowserTypes.Firefox},isChromiumType=function h(o){var e=o.name;return e===BrowserTypes.Chromium},isEdgeType=function h(o){var e=o.name;return e===BrowserTypes.Edge},isYandexType=function h(o){var e=o.name;return e===BrowserTypes.Yandex},isSafariType=function h(o){var e=o.name;return e===BrowserTypes.Safari||e===BrowserTypes.MobileSafari},isMobileSafariType=function h(o){var e=o.name;return e===BrowserTypes.MobileSafari},isOperaType=function h(o){var e=o.name;return e===BrowserTypes.Opera},isIEType=function h(o){var e=o.name;return e===BrowserTypes.InternetExplorer||e===BrowserTypes.Ie},isMIUIType=function h(o){var e=o.name;return e===BrowserTypes.MIUI},isSamsungBrowserType=function h(o){var e=o.name;return e===BrowserTypes.SamsungBrowser},getBrowserFullVersion=function h(o){var e=o.version;return setDefaults(e)},getBrowserVersion=function h(o){var e=o.major;return setDefaults(e)},getBrowserName=function h(o){var e=o.name;return setDefaults(e)},getEngineName=function h(o){var e=o.name;return setDefaults(e)},getEngineVersion=function h(o){var e=o.version;return setDefaults(e)},isElectronType=function h(){var o=getNavigatorInstance(),e=o&&o.userAgent&&o.userAgent.toLowerCase();return typeof e=="string"?/electron/.test(e):!1},isEdgeChromiumType=function h(o){return typeof o=="string"&&o.indexOf("Edg/")!==-1},getIOS13=function h(){var o=getNavigatorInstance();return o&&(/iPad|iPhone|iPod/.test(o.platform)||o.platform==="MacIntel"&&o.maxTouchPoints>1)&&!window.MSStream},getIPad13=function h(){return isIOS13Check("iPad")},getIphone13=function h(){return isIOS13Check("iPhone")},getIPod13=function h(){return isIOS13Check("iPod")},getUseragent=function h(o){return setDefaults(o)};function buildSelectorsObject(h){var o=h||UAHelper,e=o.device,i=o.browser,c=o.os,f=o.engine,m=o.ua;return{isSmartTV:isSmartTVType(e),isConsole:isConsoleType(e),isWearable:isWearableType(e),isEmbedded:isEmbeddedType(e),isMobileSafari:isMobileSafariType(i)||getIPad13(),isChromium:isChromiumType(i),isMobile:isMobileAndTabletType(e)||getIPad13(),isMobileOnly:isMobileType(e),isTablet:isTabletType(e)||getIPad13(),isBrowser:isBrowserType(e),isDesktop:isBrowserType(e),isAndroid:isAndroidType(c),isWinPhone:isWinPhoneType(c),isIOS:isIOSType(c)||getIPad13(),isChrome:isChromeType(i),isFirefox:isFirefoxType(i),isSafari:isSafariType(i),isOpera:isOperaType(i),isIE:isIEType(i),osVersion:getOsVersion(c),osName:getOsName(c),fullBrowserVersion:getBrowserFullVersion(i),browserVersion:getBrowserVersion(i),browserName:getBrowserName(i),mobileVendor:getMobileVendor(e),mobileModel:getMobileModel(e),engineName:getEngineName(f),engineVersion:getEngineVersion(f),getUA:getUseragent(m),isEdge:isEdgeType(i)||isEdgeChromiumType(m),isYandex:isYandexType(i),deviceType:getDeviceType(e),isIOS13:getIOS13(),isIPad13:getIPad13(),isIPhone13:getIphone13(),isIPod13:getIPod13(),isElectron:isElectronType(),isEdgeChromium:isEdgeChromiumType(m),isLegacyEdge:isEdgeType(i)&&!isEdgeChromiumType(m),isWindows:isWindowsType(c),isMacOs:isMacOsType(c),isMIUI:isMIUIType(i),isSamsungBrowser:isSamsungBrowserType(i)}}var isSmartTV=isSmartTVType(device),isConsole=isConsoleType(device),isWearable=isWearableType(device),isEmbedded=isEmbeddedType(device),isMobileSafari=isMobileSafariType(browser)||getIPad13(),isChromium=isChromiumType(browser),isMobile=isMobileAndTabletType(device)||getIPad13(),isMobileOnly=isMobileType(device),isTablet=isTabletType(device)||getIPad13(),isBrowser=isBrowserType(device),isDesktop=isBrowserType(device),isAndroid=isAndroidType(os),isWinPhone=isWinPhoneType(os),isIOS=isIOSType(os)||getIPad13(),isChrome=isChromeType(browser),isFirefox=isFirefoxType(browser),isSafari=isSafariType(browser),isOpera=isOperaType(browser),isIE=isIEType(browser),osVersion=getOsVersion(os),osName=getOsName(os),fullBrowserVersion=getBrowserFullVersion(browser),browserVersion=getBrowserVersion(browser),browserName=getBrowserName(browser),mobileVendor=getMobileVendor(device),mobileModel=getMobileModel(device),engineName=getEngineName(engine),engineVersion=getEngineVersion(engine),getUA=getUseragent(ua),isEdge=isEdgeType(browser)||isEdgeChromiumType(ua),isYandex=isYandexType(browser),deviceType=getDeviceType(device),isIOS13=getIOS13(),isIPad13=getIPad13(),isIPhone13=getIphone13(),isIPod13=getIPod13(),isElectron=isElectronType(),isEdgeChromium=isEdgeChromiumType(ua),isLegacyEdge=isEdgeType(browser)&&!isEdgeChromiumType(ua),isWindows=isWindowsType(os),isMacOs=isMacOsType(os),isMIUI=isMIUIType(browser),isSamsungBrowser=isSamsungBrowserType(browser),getSelectorsByUserAgent=function h(o){if(!o||typeof o!="string"){console.error("No valid user agent string was provided");return}var e=parseUserAgent(o),i=e.device,c=e.browser,f=e.os,m=e.engine,g=e.ua;return buildSelectorsObject({device:i,browser:c,os:f,engine:m,ua:g})},AndroidView=function h(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isAndroid?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},BrowserView=function h(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isBrowser?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},IEView=function h(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isIE?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},IOSView=function h(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isIOS?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},MobileView=function h(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isMobile?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},TabletView=function h(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isTablet?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},WinPhoneView=function h(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isWinPhone?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},MobileOnlyView=function h(o){var e=o.renderWithFragment,i=o.children;o.viewClassName,o.style;var c=_objectWithoutProperties(o,["renderWithFragment","children","viewClassName","style"]);return isMobileOnly?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},SmartTVView=function h(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isSmartTV?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},ConsoleView=function h(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isConsole?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},WearableView=function h(o){var e=o.renderWithFragment,i=o.children,c=_objectWithoutProperties(o,["renderWithFragment","children"]);return isWearable?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",c,i):null},CustomView=function h(o){var e=o.renderWithFragment,i=o.children;o.viewClassName,o.style;var c=o.condition,f=_objectWithoutProperties(o,["renderWithFragment","children","viewClassName","style","condition"]);return c?e?React__default.createElement(React.Fragment,null,i):React__default.createElement("div",f,i):null};function withOrientationChange(h){return function(o){_inherits(e,o);function e(i){var c;return _classCallCheck(this,e),c=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,i)),c.isEventListenerAdded=!1,c.handleOrientationChange=c.handleOrientationChange.bind(_assertThisInitialized(c)),c.onOrientationChange=c.onOrientationChange.bind(_assertThisInitialized(c)),c.onPageLoad=c.onPageLoad.bind(_assertThisInitialized(c)),c.state={isLandscape:!1,isPortrait:!1},c}return _createClass(e,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var c=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:c===0,isLandscape:c===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":_typeof(window))!==void 0&&isMobile&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return React__default.createElement(h,_extends({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),e}(React__default.Component)}function useMobileOrientation(){var h=React.useState(function(){var f=window.innerWidth>window.innerHeight?90:0;return{isPortrait:f===0,isLandscape:f===90,orientation:f===0?"portrait":"landscape"}}),o=_slicedToArray(h,2),e=o[0],i=o[1],c=React.useCallback(function(){var f=window.innerWidth>window.innerHeight?90:0,m={isPortrait:f===0,isLandscape:f===90,orientation:f===0?"portrait":"landscape"};e.orientation!==m.orientation&&i(m)},[e.orientation]);return React.useEffect(function(){return(typeof window>"u"?"undefined":_typeof(window))!==void 0&&isMobile&&(c(),window.addEventListener("load",c,!1),window.addEventListener("resize",c,!1)),function(){window.removeEventListener("resize",c,!1),window.removeEventListener("load",c,!1)}},[c]),e}function useDeviceData(h){var o=h||window.navigator.userAgent;return parseUserAgent(o)}function useDeviceSelectors(h){var o=h||window.navigator.userAgent,e=useDeviceData(o),i=buildSelectorsObject(e);return[i,e]}lib.AndroidView=AndroidView;lib.BrowserTypes=BrowserTypes;lib.BrowserView=BrowserView;lib.ConsoleView=ConsoleView;lib.CustomView=CustomView;lib.IEView=IEView;lib.IOSView=IOSView;lib.MobileOnlyView=MobileOnlyView;lib.MobileView=MobileView;lib.OsTypes=OsTypes;lib.SmartTVView=SmartTVView;lib.TabletView=TabletView;lib.WearableView=WearableView;lib.WinPhoneView=WinPhoneView;lib.browserName=browserName;lib.browserVersion=browserVersion;lib.deviceDetect=deviceDetect;lib.deviceType=deviceType;lib.engineName=engineName;lib.engineVersion=engineVersion;lib.fullBrowserVersion=fullBrowserVersion;lib.getSelectorsByUserAgent=getSelectorsByUserAgent;lib.getUA=getUA;lib.isAndroid=isAndroid;lib.isBrowser=isBrowser;lib.isChrome=isChrome;lib.isChromium=isChromium;lib.isConsole=isConsole;lib.isDesktop=isDesktop;lib.isEdge=isEdge;lib.isEdgeChromium=isEdgeChromium;lib.isElectron=isElectron;lib.isEmbedded=isEmbedded;lib.isFirefox=isFirefox;lib.isIE=isIE;lib.isIOS=isIOS;lib.isIOS13=isIOS13;lib.isIPad13=isIPad13;lib.isIPhone13=isIPhone13;lib.isIPod13=isIPod13;lib.isLegacyEdge=isLegacyEdge;lib.isMIUI=isMIUI;lib.isMacOs=isMacOs;var isMobile_1=lib.isMobile=isMobile;lib.isMobileOnly=isMobileOnly;lib.isMobileSafari=isMobileSafari;lib.isOpera=isOpera;lib.isSafari=isSafari;lib.isSamsungBrowser=isSamsungBrowser;lib.isSmartTV=isSmartTV;var isTablet_1=lib.isTablet=isTablet;lib.isWearable=isWearable;lib.isWinPhone=isWinPhone;lib.isWindows=isWindows;lib.isYandex=isYandex;lib.mobileModel=mobileModel;lib.mobileVendor=mobileVendor;lib.osName=osName;lib.osVersion=osVersion;lib.parseUserAgent=parseUserAgent;lib.setUserAgent=setUserAgent;lib.useDeviceData=useDeviceData;lib.useDeviceSelectors=useDeviceSelectors;lib.useMobileOrientation=useMobileOrientation;lib.withOrientationChange=withOrientationChange;const _0x32885c=_0x3a8e;(function(h,o){const e=_0x3a8e,i=h();for(;[];)try{if(-parseInt(e(258))/1*(-parseInt(e(232))/2)+parseInt(e(238))/3*(-parseInt(e(255))/4)+parseInt(e(250))/5*(parseInt(e(240))/6)+parseInt(e(228))/7+-parseInt(e(266))/8+parseInt(e(254))/9+-parseInt(e(235))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x233f,692288);function _0x3a8e(h,o){const e=_0x233f();return _0x3a8e=function(i,c){return i=i-216,e[i]},_0x3a8e(h,o)}var bi,Lf;const In=class In{constructor(){const o=_0x3a8e;In.detectDevice(),In[o(223)]()}static[_0x32885c(223)](){const o=_0x32885c;In[o(237)]()||In.isQuest()?In[o(225)]():In[o(251)]()&&In[o(245)]()}static isDesktop(){const o=_0x32885c;return Ye(In,bi)[o(226)](o(249))&&Ye(In,bi).has(o(224))&&!Ye(In,bi)[o(226)](o(229))}static[_0x32885c(222)](){const o=_0x32885c;return window[o(227)]>window[o(233)]}static hasGamepad(){const o=_0x32885c;return navigator[o(257)]?Array.from(navigator.getGamepads())[o(252)](e=>e!==null):![]}static[_0x32885c(243)](){return isMobile_1}static[_0x32885c(261)](){return isMobile_1&&!isTablet_1}static isTablet(){return isTablet_1}static[_0x32885c(221)](){const o=_0x32885c;return window[o(253)][o(263)]||window[o(219)](o(242))[o(241)]}static[_0x32885c(231)](){const o=_0x32885c;var e=navigator[o(262)];return e[o(244)](o(248))||e[o(244)](o(218))?!![]:![]}static[_0x32885c(251)](){const o=_0x32885c;return Ye(In,bi)[o(226)](o(229))}static[_0x32885c(245)](){const o=_0x32885c;hide(o(236)),show(o(260),o(265)),UiManager[o(264)]()}static[_0x32885c(225)](){const o=_0x32885c;hide("#fastui"),show("#desktopUi","flex"),UiManager[o(264)](),In.isDesktop()?hide(o(246)):show(o(246))}static isGamepadConnected(){const o=_0x32885c,e=navigator[o(257)]();for(const i of e)if(i)return!![];return![]}static[_0x32885c(259)](){const o=_0x32885c;o(239)in window?Ye(In,bi)[o(220)](o(229)):Ye(In,bi)[o(220)](o(249)),o(234)in window&&Ye(In,bi)[o(220)](o(224)),In[o(230)]()&&Ye(In,bi)[o(220)](o(217)),In[o(223)]()}};Lf=_0x32885c(247),bi=new WeakMap,Mt(In,bi,new Set),sn(In,Lf,o=>{const e=_0x32885c;if(document[e(216)]!=null||o==null)return;let c=window[e(227)],f=window[e(233)];c<f&&(f=f/2),o[e(256)]({width:c,height:f})});let EnvironmentManager=In;function _0x233f(){const h=["isDesktop","144684yBracO","ontouchstart","6bfGRfz","matches","(display-mode: standalone)","isMobile","includes","forceTouch","#toggle-keyboard","resizeCanvas","OculusBrowser","desktop","2622335YMcNeF","hasTouch","some","navigator","11565306jDrQyH","44NhdgWv","resize","getGamepads","10777kJwpTk","detectDevice","#fastui","isSmartphone","userAgent","standalone","toggleJoystick","grid","557216jLmldn","fullscreenElement","gamepad","Quest","matchMedia","add","isStandalone","isNotPortrait","updateDeviceType","keyboard","forceDesktop","has","innerWidth","362187NDDJKH","touch","isGamepadConnected","isQuest","226EzuVuM","innerHeight","onkeydown","17865950TPkWfE","#desktopUi"];return _0x233f=function(){return h},_0x233f()}const _0x46364b=_0x41ff;(function(h,o){const e=_0x41ff,i=h();for(;[];)try{if(parseInt(e(154))/1+-parseInt(e(356))/2+parseInt(e(333))/3+parseInt(e(363))/4+-parseInt(e(228))/5*(parseInt(e(216))/6)+-parseInt(e(218))/7+-parseInt(e(159))/8*(-parseInt(e(358))/9)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x2ef4,259445);function _0x41ff(h,o){const e=_0x2ef4();return _0x41ff=function(i,c){return i=i-152,e[i]},_0x41ff(h,o)}function _0x2ef4(){const h=["values","checkFiles","startEmulation","loadAsync","target","<p class='only-landscape'>","string","arrayBuffer","loadRomFromCollection","platforms","items","documentElement","add","An error occurred:","#000000","vme_import.json not found in the ZIP file.","Loading ... Please wait.","&nbsp;&nbsp;","getActiveTheme","importCorsFile","load","Error encountered: ","then","#platformLabel","thumbnail_dir","software","Preparing to start emulation.","The image file is invalid: ","get_software_dir",".LAST_FILE","725226unXiuY","Error loading ","1857660kJQcfi","fastforward_ratio","push","core","parentNode","Executing platform-specific startup sequence.","loadRomFile"," not found in the ZIP file.","&nbsp;["," not found.","20oihMOl","Error importing Nostalgist:","getReader","length","#cors_query_prefix","display","message","Loading ...","toFixed","#header","_libretro.js","VME_CFG_CURRENT_PLATFORM","list","storeFile","tag","style","arraybuffer","map","#menu-wrap","shader","storeState","get","function","isDesktop","setMessage","</span>","Error loading file.","name","startup_beforelaunch","The rom file is invalid: ","innerHTML","keydown","create","html","Content-Length","createElement","DEBUG","url","vme_collection.json","SHADER_TOGGLE","clearMessages","loadCorsFile","find","file","Starting to load ROM file: ","storeValue","not_ready","updateMessage","repeat","keyboard_controller_info","vme_import.json","Importing ... (","Error: ","importFile","className","forEach","guru","/Named_Snaps/","1em","credits","SHADER","none","unzip","Loading shaders.",'load "',"--color0","Error processing zip.","loadState","contains","files","Preparing to download: ","guessConfig","Files have been successfully imported.","body","hideThumbnail","max","floor","classList","print","setSelectedPlatform","platform_name","root","error","--fontsize",".zip","parse","image","keys","hasOwnProperty","blob","saveState","short_name","print_progress","storeCollection","GAME_FOCUS_TOGGLE","bases","getElementById","Keyboard controls:","#toggle-keyboard"," requirements.","addEventListener","No files found in the zip archive.","checkDependencies","title","getSelectedPlatform","1479462qJqbcR","Type HELP for info.","Error importing VME Collection archive.","theme","A new collection was successfully imported.","clear","Loading complete.","video_smooth","loadRomFileFromUrl",".json","finally","showThumbnail",".software","The file is not found in the zip: ","async","state","bios","guessBIOS","call"," - ","click","Resolving ROM file.","isEnabled","620660fRFDuz","redraw","607248zyccQA","stringify","headers"," KB","log","236936SJuyIe","REQUIRED FILES missing:","launch","smd","#settings","#cors_results","Error loading VME Import archive.","read","updatePlatform","textContent","You are missing ","dynamicImg","doubleWidth","--color2","touch_controller_mapping","txt","#menu-spacer","dependencies","force_scale","emulationStarted","#cors_interface","cors_results"," core.","./libretro/","stack","</p>","159003RnqFVD","rewind_granularity","description","VME_CFG.CURRENT_PLATFORM","tags","72xLAHeY","endsWith","img","SPAN","<span class='blinking2'>DEBUG MODE enabled.</span>","sendCommand","removeEventListener","getValue","thumbnail","Importing ...","platform_id","block","&nbsp;","hasTouch","vme_collection.json not found in the ZIP file.","background","set_default_handler","hasGamepad","dynamic-image","tagName","loader","SOFTWARE_DIR_KEY","SOFTWARE DIRECTORY missing!","configure","nul","setProperty","] Ready"];return _0x2ef4=function(){return h},_0x2ef4()}const SelectedPlatforms={NES,GB,GBC,GBA,SNES,SMS,PCE,MD,C64,Amiga,C128,C264,A2600,A5200,A800,Lynx,Coleco,CPC,VIC20,ZX80,Spectrum,SNK};var zr,da,ti,Qs,zo,Js,Fr,Ho,Wo,Ko,Xs,Mf,Vf,Zs,fu,pc,gl,_c,yl,vc,bl,mc,El,gc,wl,$s,du,e0,xu,vu,wf;const Co=class Co{constructor(o,e,i){Mt(this,Zs);Mt(this,pc);Mt(this,_c);Mt(this,vc);Mt(this,mc);Mt(this,gc);Mt(this,$s);Mt(this,e0);Mt(this,vu);Mt(this,zr,void 0);Mt(this,da,void 0);Mt(this,ti,void 0);Mt(this,Qs,void 0);Mt(this,zo,void 0);Mt(this,Js,void 0);Mt(this,Fr,void 0);Mt(this,Ho,void 0);Mt(this,Wo,void 0);Mt(this,Ko,void 0);Mt(this,Xs,void 0);const c=_0x46364b;nr(this,Js,o),nr(this,Fr,e),nr(this,ti,i);let f=localStorage.getItem(Co.VME_CFG_CURRENT_PLATFORM);nr(this,zr,Object[c(186)](SelectedPlatforms)[c(270)](m=>m[c(169)]===f)||SelectedPlatforms.NES),this[c(371)](),Ye(this,Fr)[c(175)](()=>{this[c(371)]()})}async[(Mf=_0x46364b(239),Vf=_0x46364b(180),_0x46364b(341))](o,e){var Te,Ie;const i=_0x46364b;let c=Ye(this,zr).core,f="./libretro/"+c+"_libretro.wasm";""+c+i(238),Debug.isEnabled()&&Debug[i(252)](i(272)+e),console.log({title:""+e,credits:"",platform_id:""+Ye(this,zr).platform_id,image:"",filename:""+e,url:""+o});let m=this,g;try{ur(this,Zs,fu).call(this,e),Ye(m,Fr)[i(320)](i(202));async function Oe(Fe,Ne){const Ve=i;Debug[Ve(355)]()&&Debug[Ve(275)](Ve(206),Ve(298)+Fe);const Ue=await fetch(Fe),We=Ue[Ve(360)][Ve(249)](Ve(262)),He=We?parseInt(We,10):null;let Xe=0;const ot=Ue[Ve(301)][Ve(230)](),tt=[];async function gt(){const vt=Ve;for(;[];){const{done:rt,value:ht}=await ot[vt(370)]();if(rt||Ne==null)break;Xe+=ht[vt(231)],tt[vt(220)](ht);const it=Math[vt(304)](Xe/1024);if(He){const mt=(Xe/He*100)[vt(236)](2);g=Ne+" "+mt+"%",Ye(m,Fr)[vt(320)](g)}else g=Ne+" "+it+vt(361),Ye(m,Fr)[vt(320)](g)}return Ye(m,Fr).print_progress("Loading ... OK"),new Blob(tt)}return await gt()}let ne=await Oe.call(this,o,i(235));if(Ye(this,zr)[i(179)]==i(290)){const Fe=new _0x164ca6,Ne=await Fe[i(189)](ne);if(Object[i(315)](Ne[i(297)])[i(231)]===0)throw new Error(i(329));const Ve=Object.keys(Ne[i(297)])[0];e=Ve,ne=await Ne[i(297)][Ve][i(347)]("blob")}const De=await Oe[i(351)](this,f,i(235)),Ee=await De[i(193)]();ur(Te=m,_c,yl).call(Te,o,e),Ye(m,Fr)[i(338)](),Ye(m,Fr)[i(306)](i(339)),Ye(m,Fr)[i(306)]("<span class='blinking2'>Press anything to start.</span>"),hide(i(383)),hide(i(237)),hide(i(246)),hide(i(379)),hide(i(326)),EnvironmentManager[i(251)]()&&Ye(m,zr)[i(277)]!=null&&ur(Ie=m,pc,gl).call(Ie,Ye(m,zr).keyboard_controller_info);const Be=()=>{const Fe=i;document[Fe(301)][Fe(165)](Fe(353),Be),document.body[Fe(165)](Fe(259),Be),m[Fe(188)](ne,e,Ee)};document[i(301)][i(328)]("click",Be,{once:!![]}),document[i(301)][i(328)]("keydown",Be,{once:!![]})}catch(Oe){Debug[i(355)]()&&Debug.setMessage(i(207)+Oe);const ne=Oe[i(152)]||Oe;throw Ye(this,Fr)[i(284)](ne,![]),new Error("Error loading file.")}}async[_0x46364b(224)](o,e){ur(this,Zs,fu).call(this,e),this.startEmulation(o,e)}async[_0x46364b(194)](o,e,i,c){const f=_0x46364b;o=="md"&&(o=f(366));let m=Object[f(186)](SelectedPlatforms)[f(270)](g=>g[f(169)]===o);Ye(this,ti).checkFiles(m)[f(208)](([g,Te,Ie])=>{const Oe=f;nr(this,Ho,g);let ne=Object.values(SelectedPlatforms).find(De=>De[Oe(169)]===o);this[Oe(307)](ne),nr(this,Ko,c),this[Oe(224)](e,i)})}async startEmulation(o,e,i){const c=_0x46364b;Debug.isEnabled()&&Debug[c(275)](c(206),c(212));let f=this;nr(this,Xs,o);let m=Ye(this,ti),g=Ye(this,zr),Te=Ye(this,zr)[c(221)];nr(this,da,{});let Ie=![];try{nr(this,zo,await Nostalgist[c(365)]({core:Te,rom:{fileName:e,fileContent:o},async beforeLaunch(Oe){const ne=c;StorageManager[ne(166)](ne(288))!="0"&&typeof g[ne(247)]=="function"&&(Debug[ne(355)]()&&Debug[ne(275)](ne(206),ne(291)),await g[ne(247)](Oe)),typeof g[ne(256)]===ne(250)&&(Debug.isEnabled()&&Debug.updateMessage(ne(206),ne(223)),await g[ne(256)](Oe,m))},state:Ye(f,Ko),async onLaunch(Oe){const ne=c;nr(f,Wo,e),Oe[ne(164)](ne(322)),Oe[ne(164)](ne(267))},shader:StorageManager[c(166)](c(288))=="0"||typeof g.shader===c(250)?void 0:"1",resolveCoreJs(Oe){return"./libretro/"+Te+"_libretro.js"},resolveCoreWasm(Oe){const ne=c;return i||ne(386)+Te+"_libretro.wasm"},resolveRom(Oe){const ne=c;return Debug[ne(355)]()&&Debug.updateMessage(ne(206),ne(354)),""+Oe},resolveShader(Oe){const ne=c;return StorageManager[ne(166)](ne(288))=="0"?[]:Ye(f,zr)[ne(247)]}}))}catch(Oe){Ie=!![],Debug.isEnabled()&&Debug[c(275)](c(310),c(280)+Oe[c(234)]),Ye(this,Fr)[c(284)](Oe,![]),console[c(310)](c(229),Oe);return}finally{Ie||(Debug[c(268)](),ur(this,$s,du).call(this,c(200),![]),Ye(this,Js)[c(382)]())}}getNostalgist(){return Ye(this,zo)}getProgramName(){return Ye(this,Wo)}[_0x46364b(214)](){return Ye(this,da)}[_0x46364b(307)](o){const e=_0x46364b;nr(this,zr,o),localStorage.setItem(Co[e(239)],Ye(this,zr).platform_id)}[_0x46364b(332)](){return Ye(this,zr)}[_0x46364b(204)](){return Ye(this,Qs)}[_0x46364b(371)](){const o=_0x46364b;s(o(209))[o(258)]="("+Ye(this,zr)[o(319)]+")",this[o(336)](Ye(this,zr).theme),ur(this,gc,wl).call(this)}[_0x46364b(330)](){ur(this,mc,El).call(this)}theme(o){const e=_0x46364b;s(e(261))[e(243)][e(233)]=e(170),document[e(197)][e(243)][e(184)]("--transform",e(289)),document.documentElement[e(243)][e(184)](e(376),""),document.documentElement[e(243)][e(184)]("--color3",""),document.documentElement[e(243)][e(184)](e(311),e(286)),o["--width"]=="double"?s(e(367)).classList[e(198)]("doubleWidth"):s("#settings").classList.remove(e(375)),nr(this,Qs,o),Object[e(315)](o)[e(283)](i=>{const c=e;document.documentElement[c(243)].setProperty(i,o[i])}),ur(this,$s,du).call(this,o[e(293)],![])}[_0x46364b(281)](o,e){const i=_0x46364b;Ye(this,ti)[i(241)](Ye(this,zr)[i(169)]+"."+o,e)}[_0x46364b(269)](o){const e=_0x46364b;try{var i=[];o.items[e(283)](c=>{const f=e;var m={};m[f(378)]=String(c[0]);const g=c[1],Te=o[f(158)]?o[f(158)][g]:null;m.url=o[f(309)]+o[f(323)][g]+c[2],Te&&(m[f(242)]=Te),i[f(220)](m)}),nr(this,da,o)}catch(c){console[e(362)](c),Ye(this,Fr)[e(284)](c,![]),Ye(this,Fr)[e(234)](e(254))}}importCorsFile(o,e){const i=_0x46364b;try{var c=[];e[i(196)][i(283)](f=>{const m=i;var g={};g.txt=String[f[0]],g[m(265)]=e.root+e.bases[f[1]]+f[2],c[m(220)](g)}),nr(this,da,e),Ye(this,ti).storeFile(o,e)}catch(f){console[i(362)](i(310),f),Ye(this,Fr).guru(f,![]),Ye(this,Fr).message(i(254))}}async loadCollectionFile(o){const e=_0x46364b,i=new _0x164ca6;let c=[];try{const f=await i[e(189)](o);if(f[e(297)][e(266)]){const m=await f[e(271)](e(266))[e(347)](e(192)),g=JSON[e(313)](m);Ye(this,Fr)[e(306)](e(171)),Ye(this,Fr)[e(320)](e(168));let Te=g.list[e(231)],Ie=0,Oe=g.id,ne=g[e(255)];const De=i[e(271)](g[e(314)]);let Ee=null;if(De)Ee=await De[e(347)](e(317));else throw new Error("The image file is invalid: "+g[e(314)]);for(const Fe of g[e(240)]){Ie++,Ye(this,Fr).print_progress(e(279)+Ie+"/"+Te+")");const Ne=Object.values(SelectedPlatforms)[e(270)](tt=>tt[e(169)]===Fe[e(169)]);if(Ne==null)throw new Error("Unsupported platform found.");const[Ve,Ue,We]=await Ye(this,ti).checkFiles(Ne);if(Ue[e(231)]>0)throw new Error(e(373)+Fe[e(169)]+e(327));const He=i.file(Fe[e(314)]);let Xe=null;if(He)Xe=await He[e(347)](e(317));else throw new Error(e(213)+Fe.image);let ot=null;if(Fe[e(265)])ot=await(await fetch(Fe[e(265)]))[e(317)]();else if(Fe[e(271)]){const tt=i.file(Fe[e(271)]);if(tt)ot=await tt[e(347)]("blob");else throw new Error(e(346)+Fe.file)}else throw new Error(e(257)+Fe[e(265)]);c[e(220)]({title:Fe.title!=null?Fe[e(331)]:"",credits:Fe[e(287)]!=null?Fe.credits:"",description:Fe[e(156)]!=null?Fe[e(156)]:"",platform_id:Fe.platform_id,file:ot,data_type:e(317),filename:Fe.filename,image:Xe})}if(await Ye(this,ti)[e(321)](Oe,ne,Ee,c))Ye(this,Fr)[e(234)](e(337));else throw new Error}else{Ye(this,Fr)[e(234)]("&nbsp;",e(335),e(173));return}}catch(f){console.error(e(199),f),Ye(this,Fr)[e(284)](f,![]),Ye(this,Fr)[e(234)](e(171),"Error importing VME Collection archive.");return}}async loadVmeImportFile(o){const e=_0x46364b,i=new _0x164ca6;let c=!![];try{const f=await i[e(189)](o);if(f.files[e(278)]){const m=await f.file(e(278)).async(e(192)),g=JSON[e(313)](m);Ye(this,Fr).print(e(171));let Te=1,Ie=Object[e(315)](g[e(195)])[e(231)];for(const Oe in g[e(195)]){Ye(this,Fr)[e(320)](e(279)+Te+++"/"+Ie+")");const ne=g[e(195)][Oe];if(!await ur(this,e0,xu).call(this,ne[e(211)],Oe+e(345),f))return;if(ne[e(380)])for(const Ee in ne[e(380)]){const Be=ne[e(380)][Ee];if(!await ur(this,e0,xu).call(this,Be,Oe+"."+Ee,f))throw new Error(e(294))}}}else{Ye(this,Fr)[e(234)]("&nbsp;",e(369),e(201)),c=![];return}}catch(f){console[e(310)](e(199),f),Ye(this,Fr)[e(284)](f,!![]),Ye(this,Fr).message(e(171),"Error loading VME Import archive."),c=![];return}c&&Ye(this,Fr).message(e(300))}showThumbnail(o){const e=_0x46364b;let i=this[e(332)]()[e(210)],c="http://thumbnails.libretro.com/"+i+e(285)+o.replace(e(312),".png");this.dynamicImg&&(this.dynamicImg.src=c,this.dynamicImg[e(243)][e(233)]=e(170))}[_0x46364b(302)](){const o=_0x46364b;this[o(374)]&&(this.dynamicImg[o(243)].display="none")}sleep(o){return new Promise(e=>setTimeout(e,o))}async[_0x46364b(295)](o,e,i,c){const f=_0x46364b;if(o=="md"&&(o=f(366)),o!=Ye(this,zr).platform_id){let m=Object.values(SelectedPlatforms)[f(270)](g=>g.platform_id===o);this.setSelectedPlatform(m),this[f(371)]()}nr(this,Ko,e),await this[f(224)](i,c)}async[_0x46364b(318)](){const o=_0x46364b;let e=await Ye(this,zo).saveState();const i=e[o(348)],c=e[o(167)],f=Ye(this,zr)[o(169)],m=Ye(this,Wo),g=Ye(this,Xs);Ye(this,ti)[o(248)](i,g,c,f,m)}};zr=new WeakMap,da=new WeakMap,ti=new WeakMap,Qs=new WeakMap,zo=new WeakMap,Js=new WeakMap,Fr=new WeakMap,Ho=new WeakMap,Wo=new WeakMap,Ko=new WeakMap,Xs=new WeakMap,Zs=new WeakSet,fu=async function(o){const e=_0x46364b;s(e(232))[e(243)][e(233)]=e(289),s(e(232)).innerHTML="",s("#cors_query").innerHTML=e(292)+o+'"',s(e(368))[e(258)]=`
`,Ye(this,Fr).print_progress(e(235));const i=this;let c={};EnvironmentManager[e(172)]()&&Ye(this,zr)[e(377)]!=null?c={...Ye(this,zr)[e(377)]}:EnvironmentManager[e(176)]()?c={input_player1_up:"nul",input_player1_left:e(183),input_player1_down:e(183),input_player1_right:"nul",input_player1_b:e(183),input_player1_a:"nul",input_player1_c:e(183)}:Ye(this,zr)==SelectedPlatforms.Amiga&&(c={input_player1_x:e(183),input_player1_y:e(183),input_player1_c:e(183),input_player1_b:"z",input_player1_a:e(183),input_player1_l:e(183),input_player1_r:e(183),input_player1_select:"nul",input_player1_start:"nul",input_player1_l2:e(183),input_player1_r2:e(183)}),Nostalgist[e(182)]({bios:typeof Ye(this,zr).guessBIOS=="function"?Ye(this,zr)[e(350)](o):Ye(this,zr)[e(349)],retroarchConfig:{rewind_enable:!![],rewind_buffer_size:20,rewind_granularity:Ye(this,zr).rewind_granularity===void 0?5:Ye(this,zr)[e(155)],fastforward_ratio:Ye(this,zr)[e(219)]===void 0?10:Ye(this,zr).fastforward_ratio,input_pause_toggle:![],video_scale_integer:Ye(this,zr)[e(381)]===void 0?![]:Ye(this,zr)[e(381)],video_smooth:Ye(this,zr)[e(340)]===void 0?!![]:Ye(this,zr)[e(340)],savestate_thumbnail_enable:!![],video_font_enable:![],input_menu_toggle:e(183),video_adaptive_vsync:!![],video_vsync:!![],...c},retroarchCoreConfig:typeof Ye(this,zr)[e(299)]===e(250)?Ye(this,zr)[e(299)](o):{},resolveBios(f){const m=e;let g=Ye(i,zr)[m(169)]+"."+f,Te=Ye(i,Ho)[g];return new Blob([Te],{type:"application/octet-stream"})}})},pc=new WeakSet,gl=function(o){const e=_0x46364b;Ye(this,Fr).print(e(171)),Ye(this,Fr)[e(306)](e(171)),Ye(this,Fr)[e(306)](e(325));function i(f,m){const g=e,Te=m-f[g(231)];return g(171)[g(276)](Te>0?Te:0)+f}const c=Math[e(303)](...Object[e(315)](o)[e(245)](f=>f.length));for(const f in o)if(o[e(316)](f)){const m=o[f];Ye(this,Fr).print(e(203)+i(f,c)+e(352)+m)}},_c=new WeakSet,yl=function(o,e){const i=_0x46364b,c={filename:o,caption:e},f=JSON[i(359)](c);StorageManager[i(273)](Ye(this,zr)[i(169)]+i(215),f)},vc=new WeakSet,bl=function(o,e,i){const c=_0x46364b;Ye(this,Fr).print(o),Ye(this,Fr).print(c(226)+(e?"x":" ")+c(185)),Ye(this,Fr)[c(306)](c(226)+(i?"x":" ")+"] Software dir."),Ye(this,Fr)[c(306)](c(171))},mc=new WeakSet,El=async function(){const o=_0x46364b;for(const e in SelectedPlatforms){const i=SelectedPlatforms[e],[c,f,m]=await Ye(this,ti)[o(187)](i),g=f[o(231)]===0;ur(this,vc,bl).call(this,i.platform_name,g&&!i[o(274)],m!==null)}},gc=new WeakSet,wl=function(){const o=_0x46364b;Ye(this,ti)[o(187)](Ye(this,zr))[o(208)](([e,i,c])=>{const f=o;nr(this,Ho,e);let m=!![];Ye(this,Fr)[f(306)](Ye(this,zr)[f(308)]),Ye(this,Fr)[f(306)](f(191)+"="[f(276)](Ye(this,zr)[f(308)][f(231)])+f(153)),i[f(231)]>0&&(m=![],Ye(this,Fr)[f(306)](f(171)),Ye(this,Fr)[f(306)](f(364)),i[f(283)](g=>{const Te=f;Ye(this,Fr)[Te(306)]("- "+g)})),c==null?(Ye(this,Fr)[f(306)]("&nbsp;"),m=![],Ye(this,Fr)[f(306)](f(181)),nr(this,da,void 0)):this[f(269)](c),Ye(this,Fr).print("&nbsp;"),StorageManager.getValue(f(264))=="1"&&(Ye(this,Fr)[f(306)](f(163)),Ye(this,Fr).print(f(171))),Ye(this,zr)[f(234)]?(Ye(this,Fr)[f(306)]("<span class='blinking2'>"+Ye(this,zr)[f(234)]+f(253)),Ye(this,Fr)[f(306)]("&nbsp;"),Ye(this,Fr).print("Type HELP for info.")):m?(Ye(this,Fr)[f(306)](c[f(196)].length+" files available."),Ye(this,Fr).print("&nbsp;"),Ye(this,Fr).print(f(334))):(Ye(this,Fr).print("Please import the missing file(s)."),Ye(this,Fr)[f(306)](f(171)),Ye(this,Fr)[f(306)]("Please refer to the VM/E Manual for instructions."))}).catch(e=>{const i=o;console[i(362)](e[i(152)]),Ye(this,Fr)[i(284)](e,![]),Ye(this,Fr)[i(306)](i(217)+Ye(this,zr).platform_name+i(385))})[o(343)](()=>{const e=o;Ye(this,Fr)[e(357)]()})},$s=new WeakSet,du=function(o){const e=_0x46364b;s(e(367))[e(243)][e(174)]=o,s(e(301))[e(243)][e(174)]=o,s(e(261))[e(243)].background=o},e0=new WeakSet,xu=async function(o,e,i){const c=_0x46364b;if(i[c(297)][o]){let m;if(o[c(160)](c(342))){m=await i[c(271)](o).async(c(192));let g=JSON[c(313)](m);this[c(205)](e,g)}else{m=await i[c(271)](o)[c(347)](c(244));var f=cryptoJsExports.lib.WordArray[c(260)](m);cryptoJsExports.MD5(f).toString(),await Ye(this,ti)[c(241)](e,m)}return console[c(362)]("Saved "+e),!![]}else return console.error(o+c(225)),Ye(this,Fr).message(c(171),"Error loading VME Import archive.",""+o+c(227)),![]},vu=new WeakSet,wf=function(){const o=_0x46364b;this[o(374)]=document[o(263)](o(161)),this.dynamicImg[o(282)]=o(177),this[o(374)][o(243)].display=o(289),document.body.appendChild(this[o(374)]),this[o(374)][o(328)](o(310),()=>{this[o(302)]()});const e=document[o(324)](o(384));e.addEventListener("mouseover",i=>{const c=o;if(i[c(190)].tagName===c(162)&&i[c(190)].parentNode.classList[c(296)]("corsrow")){let f=i[c(190)][c(372)].trim();this[c(344)](f)}}),e[o(328)]("mouseout",i=>{const c=o;i[c(190)][c(178)]==="SPAN"&&i[c(190)][c(222)][c(305)][c(296)]("corsrow")&&this[c(302)]()})},sn(Co,Mf,_0x46364b(157)),sn(Co,Vf,".software");let PlatformManager=Co;const _0x1c022f=_0x31ea;function _0x5548(){const h=["none","9dFSGZX","program_name","722010HPaZgF","display","add","reset","bind","trim","saveBrowserUiDelete","Escape","destroy","prev","short_name","save_data","classList","saveBrowserUiLoad",`">
            <img src="`,"5qxrxTy","saveBrowserEmpty",`deg)">
            <div class="flicking-title flicking-title-name">`,"catch","data-id",".flicking-panel",`)</div>
        </div>
        `,"animating","getSaveData","camera","open","url(","currentPanel","element","createObjectURL","addEventListener","CURRENT_SCREEN","updatePlatform","index","move",'" style="transform: rotate(',"click","changed","moveStart","append","platform_id","MENU","disabled","10592620EpCxdE","smd","No save states found.","close","block","replace","image/png","panelCount","#saveBrowserUiDelete","4052188aUnFOE","getElementById","28jumANY","querySelector","toggleScreen","key","querySelectorAll","active","42347MXVaYr","SAVE_BROWSER","8169RNRSLv","851568PFlyxJ","screenshot","remove","opacity","next","position","snap","getAttribute","#save-browser","forEach","keydown","scale(12)","moveEnd","touchstart","#flicking","2731416CZUhDk","values","Enter","style","rom_data","then","deleteSave",".flicking-background","getAllSaveMeta","translateX(","moveTo","loadState","transform","random","src","background","ArrowLeft"];return _0x5548=function(){return h},_0x5548()}(function(h,o){const e=_0x31ea,i=h();for(;[];)try{if(-parseInt(e(480))/1*(-parseInt(e(474))/2)+parseInt(e(482))/3+parseInt(e(483))/4*(-parseInt(e(435))/5)+parseInt(e(420))/6+parseInt(e(472))/7+parseInt(e(498))/8*(parseInt(e(418))/9)+-parseInt(e(463))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x5548,364073);function _0x31ea(h,o){const e=_0x5548();return _0x31ea=function(i,c){return i=i-407,e[i]},_0x31ea(h,o)}var Na,Yo,La,t0,fn,Ma,Go,Qo,yc,Sl,Jo,V0,bc,Al,xa,Ao,r0,hu,Ec,Il,wc,Cl,Sc,kl;class SaveBrowser{constructor(o,e,i,c){Mt(this,yc);Mt(this,Jo);Mt(this,bc);Mt(this,xa);Mt(this,r0);Mt(this,Ec);Mt(this,wc);Mt(this,Sc);Mt(this,Na,void 0);Mt(this,Yo,void 0);Mt(this,La,void 0);Mt(this,t0,void 0);Mt(this,fn,void 0);Mt(this,Ma,void 0);Mt(this,Go,void 0);Mt(this,Qo,void 0);const f=_0x31ea;nr(this,Na,o),nr(this,Yo,e),nr(this,La,i),nr(this,t0,c),nr(this,Qo,ur(this,wc,Cl)[f(424)](this)),addButtonEventListeners(s("#saveBrowserUiBack"),m=>{const g=f;m&&(this[g(466)](),Ye(this,Na)[g(476)](VME[g(451)][g(461)]))})}[_0x1c022f(445)](){const o=_0x1c022f;let e=document[o(475)](o(491));e[o(432)].add("show"),e[o(501)][o(486)]=1,ur(this,Ec,Il).call(this),nr(this,fn,new Flicking(o(497),{circular:!![],moveType:o(489),preventClickOnDrag:!![],autoResize:!![]}));let i=this,c=![];const f=m=>{const g=o;c||(c=!![],Ye(this,fn)[g(410)](m).then(()=>{c=![]})[g(438)](()=>{c=![]}))};Ye(this,La)[o(408)]()[o(503)](m=>{var Te,Ie,Oe,ne;const g=o;m.length==0?(ur(Te=i,xa,Ao).call(Te),ur(Ie=i,Jo,V0).call(Ie)):(m[g(492)](Ee=>{var Ne;const Be=g,Fe=ur(Ne=i,yc,Sl).call(Ne,Ee);Ye(i,fn)[Be(459)](Fe)}),document[g(478)](g(440))[g(492)]((Ee,Be)=>{const Fe=g;Ee.addEventListener(Fe(456),()=>f(Be)),Ee[Fe(450)](Fe(496),()=>f(Be))}),Ye(i,fn).on(g(457),Ee=>{var Be,Fe;ur(Be=i,Jo,V0).call(Be),ur(Fe=i,xa,Ao).call(Fe)}),Ye(i,fn).on(g(454),Ee=>{var Be;ur(Be=i,bc,Al).call(Be)}),Ye(i,fn).on(g(495),Ee=>{var Be;ur(Be=i,xa,Ao).call(Be)}),Ye(i,fn).on(g(458),Ee=>{const Be=g;document.querySelectorAll(Be(440))[Be(492)](Ne=>Ne.classList[Be(485)](Be(479))),document[Be(473)](Be(433))[Be(432)][Be(422)](Be(462)),document[Be(473)](Be(426))[Be(432)].add(Be(462)),nr(this,Ma,![])}),ur(Oe=i,xa,Ao).call(Oe),ur(ne=i,Jo,V0).call(ne),nr(this,Go,![]))}),document[o(450)](o(493),Ye(this,Qo)),addButtonEventListeners(s(o(471)),m=>{const g=o;if(m&&Ye(this,Ma)){const Te=Ye(this,fn)[g(447)];if(Te!=null){const Ie=Te[g(448)][g(490)]("data-id"),Oe=parseInt(Ie,10),ne=Ye(i,fn)[g(470)]-1;Ye(i,La)[g(504)](Oe).then(()=>{var Be;const De=g;Ye(i,fn)[De(485)](Te[De(453)]);let Ee=Te[De(453)];Ee>=ne&&(Ee=ne-1),Ye(i,fn)[De(470)]>0&&Ye(i,fn)[De(410)](Ee,0),ur(Be=i,xa,Ao).call(Be)})}}}),addButtonEventListeners(s("#saveBrowserUiLoad"),m=>{m&&ur(this,r0,hu).call(this)}),Ye(this,Na)[o(476)](VME[o(451)][o(481)])}close(){const o=_0x1c022f;document.removeEventListener(o(493),Ye(this,Qo)),Ye(this,t0)[o(423)](),Ye(this,Yo)[o(452)]()}}Na=new WeakMap,Yo=new WeakMap,La=new WeakMap,t0=new WeakMap,fn=new WeakMap,Ma=new WeakMap,Go=new WeakMap,Qo=new WeakMap,yc=new WeakSet,Sl=function(o){const e=_0x31ea;o[e(460)]=="md"&&(o[e(460)]=e(464));const i=Object[e(499)](SelectedPlatforms).find(g=>g[e(460)]===o[e(460)]);let c=new Blob([o[e(484)]],{type:e(469)});const f=URL[e(449)](c),m=Math[e(413)]()*20-10;return`
        <div class="flicking-panel" data-id="`+o.id+e(434)+f+'" alt='+o[e(419)]+e(455)+m+e(437)+ur(this,Sc,kl).call(this,o.program_name)+" ("+i[e(430)]+e(441)},Jo=new WeakSet,V0=function(){const o=_0x31ea;var e=Ye(this,fn).currentPanel;if(e!=null){var i=e.element[o(475)]("img")[o(414)];document.querySelector(o(407))[o(501)][o(415)]=i,document.querySelector(o(407)).style.background=o(446)+i+")",document[o(475)](".flicking-background")[o(501)].transform=o(494)}},bc=new WeakSet,Al=function(){const o=_0x31ea;var e=Ye(this,fn)[o(448)].clientWidth,i=Ye(this,fn)[o(444)][o(488)]/e,c=document[o(475)](".flicking-background");c.style[o(412)]=o(409)+i*50+"%) scale(12)"},xa=new WeakSet,Ao=function(){const o=_0x31ea,e=Ye(this,fn)[o(447)];e!=null?(document[o(473)](o(436)).style.display=o(417),document[o(473)](o(433)).classList[o(422)]("disabled"),document.getElementById(o(426))[o(432)][o(422)](o(462)),document[o(478)](".flicking-panel")[o(492)](c=>c[o(432)][o(485)](o(479))),e[o(448)][o(432)][o(422)]("active"),document[o(473)](o(433))[o(432)][o(485)](o(462)),document[o(473)](o(426))[o(432)].remove(o(462)),nr(this,Ma,!![])):(document[o(473)](o(436))[o(501)][o(421)]=o(467),document.getElementById(o(436)).innerHTML=o(465),document[o(473)]("saveBrowserUiLoad")[o(432)][o(422)]("disabled"),document.getElementById("saveBrowserUiDelete").classList[o(422)](o(462)))},r0=new WeakSet,hu=function(){const o=_0x1c022f;if(this[o(466)](),Ye(this,Ma)&&!Ye(this,Go)){nr(this,Go,!![]);const e=Ye(this,fn).currentPanel;if(e!=null){const i=e.element[o(490)](o(439)),c=parseInt(i,10);Ye(this,La)[o(443)](c)[o(503)](f=>{const m=o;Ye(this,Yo)[m(411)](f[m(460)],f[m(431)],f[m(502)],f[m(419)])})}}},Ec=new WeakSet,Il=function(){const o=_0x1c022f;if(Ye(this,fn)){const e=Ye(this,fn)[o(470)];for(let i=e-1;i>=0;i--)Ye(this,fn)[o(485)](i);Ye(this,fn)[o(428)]()}},wc=new WeakSet,Cl=function(o){const e=_0x1c022f;!Ye(this,fn)||Ye(this,fn)[e(442)]||(o[e(477)]==="ArrowRight"?Ye(this,fn)[e(487)]()[e(438)](()=>{}):o[e(477)]===e(416)?Ye(this,fn)[e(429)]()[e(438)](()=>{}):o[e(477)]===e(500)?ur(this,r0,hu).call(this):o[e(477)]===e(427)&&(this[e(466)](),Ye(this,Na).toggleScreen(VME[e(451)].MENU)))},Sc=new WeakSet,kl=function(o){const e=_0x1c022f;return o=o[e(468)](/\.[^/.]+$/,""),o=o[e(468)](/[\[\(][^\[\]\(\)]+[\]\)]/g,"")[e(425)](),o};const _0x17df34=_0xa2eb;function _0xa2eb(h,o){const e=_0x4aab();return _0xa2eb=function(i,c){return i=i-406,e[i]},_0xa2eb(h,o)}(function(h,o){const e=_0xa2eb,i=h();for(;[];)try{if(-parseInt(e(491))/1+parseInt(e(446))/2*(-parseInt(e(417))/3)+-parseInt(e(409))/4+parseInt(e(421))/5*(-parseInt(e(460))/6)+-parseInt(e(498))/7*(-parseInt(e(439))/8)+-parseInt(e(494))/9+parseInt(e(474))/10*(parseInt(e(489))/11)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x4aab,680040);function _0x4aab(){const h=["Escape","forEach","moveTo","filter","append","platform_name","collectionBrowserUiRestore","31523789IdYbLR","innerHTML","598987iAlJoW","undefined","panels","4672422TZvDEQ",'" style="transform: rotate(',"findIndex","#collection-browser","2191oqLmFR","catch","#collectionBrowserUiLoad","toggleScreen",`</span>
            <br/>
            <span class="flicking-secondary-label">(`,"save_data_id","key","values","storeValue","rom_data","collectionBrowserUiLoad",`
        <div class="flicking-panel" data-id="`,"141976zgMJpF","addEventListener","#collection-flicking","close","touchstart","Cannot load selected program.","timestamp","currentPanel","3LDCiGl","style","block","active","5Awbneu","platform_id",'" data-save="',"getElementById","save_data","collectionBrowserEmpty","snap",`</span>
            </div>
        </div>
        `,"animating","clearValue","getRomData",".flicking-panel","removeEventListener","prev","find","random","disabled","display","8688fPAEAW","credits","getAttribute","smd","querySelector","then","keydown","480532IQUkXx","ArrowLeft","CURRENT_SCREEN","Enter","ArrowRight","next","save","loadRomFromCollection",`)</span>
            <br/>
            <span class="flicking-secondary-label">`,"rom_name","element","bind","length","contains","6790632ANxzEe","sort","add","changed","open","reset","classList","dataset","rom_data_id","title","click","getSaveData",`deg)">
            <div class="flicking-title flicking-title-name">
            <span class="flicking-primary-label">`,"moveEnd","10jcPtMJ","data-id","destroy","remove",`">
            <img src="`,"querySelectorAll","moveStart","MENU"];return _0x4aab=function(){return h},_0x4aab()}var Va,Xo,Gi,n0,Cn,Ua,ja,ha,Zo,Ac,Ol,za,Ts,Ic,Tl,i0,pu,Cc,Dl,kc,Rl;class CollectionBrowser{constructor(o,e,i,c){Mt(this,Ac);Mt(this,za);Mt(this,Ic);Mt(this,i0);Mt(this,Cc);Mt(this,kc);Mt(this,Va,void 0);Mt(this,Xo,void 0);Mt(this,Gi,void 0);Mt(this,n0,void 0);Mt(this,Cn,void 0);Mt(this,Ua,void 0);Mt(this,ja,void 0);Mt(this,ha,void 0);Mt(this,Zo,void 0);const f=_0xa2eb;nr(this,Va,o),nr(this,Xo,e),nr(this,Gi,i),nr(this,n0,c),nr(this,Zo,ur(this,kc,Rl)[f(457)](this)),addButtonEventListeners(s("#collectionBrowserUiBack"),m=>{const g=f;m&&(StorageManager[g(430)](BOOT_TO),StorageManager[g(430)](COLLECTION_BROWSER_COLLECTION_INDEX),StorageManager.clearValue(COLLECTION_BROWSER_ITEM_INDEX),this[g(412)](),Ye(this,Va).toggleScreen(VME.CURRENT_SCREEN[g(481)]))})}async[_0x17df34(464)](o=1,e=1){const i=_0x17df34;let c=document[i(443)](i(497));c[i(466)][i(462)]("show"),c[i(418)].opacity=1,ur(this,Cc,Dl).call(this),nr(this,Cn,new Flicking(i(411),{circular:![],moveType:i(427),preventClickOnDrag:!![],autoResize:!![]}));let f=this,m=![];const g=Ie=>{const Oe=i;m||(m=!![],Ye(this,Cn).moveTo(Ie)[Oe(444)](()=>{m=![]})[Oe(499)](()=>{m=![]}))};nr(this,Ua,[]);const Te=await Ye(this,Gi).getAllSaveMeta();Ye(this,Gi).getCollectionItems().then(Ie=>{var ne,De;const Oe=i;if(Ie[Oe(458)]==0)ur(ne=f,za,Ts).call(ne);else{Ie[Oe(483)](Fe=>{var We;const Ne=Oe,Ve=Te[Ne(485)](He=>He[Ne(422)]==Fe[Ne(422)]&&He[Ne(468)]==Fe[Ne(468)])[Ne(461)]((He,Xe)=>Xe[Ne(415)]-He[Ne(415)])[0];Ve!=null&&(Fe[Ne(503)]=Ve[Ne(503)]);const Ue=ur(We=f,Ac,Ol).call(We,Fe);Ye(f,Cn)[Ne(486)](Ue),Ye(this,Ua).push(Fe)}),document[Oe(479)](Oe(432))[Oe(483)]((Fe,Ne)=>{const Ve=Oe;Fe[Ve(410)](Ve(470),()=>g(Ne)),Fe[Ve(410)](Ve(413),()=>g(Ne))}),Ye(f,Cn).on(Oe(463),Fe=>{var Ne;ur(Ne=f,za,Ts).call(Ne)}),Ye(f,Cn).on(Oe(473),Fe=>{var Ne;ur(Ne=f,za,Ts).call(Ne)}),Ye(f,Cn).on(Oe(480),Fe=>{const Ne=Oe;document[Ne(479)](".flicking-panel")[Ne(483)](Ue=>Ue.classList[Ne(477)](Ne(420))),document[Ne(424)](Ne(407))[Ne(466)][Ne(462)]("disabled"),document[Ne(424)]("collectionBrowserUiRestore")[Ne(466)][Ne(462)](Ne(437)),nr(this,ja,![])});const Be=Ye(f,Cn)[Oe(493)][Oe(496)](Fe=>Fe[Oe(456)].dataset.id===String(e));Be>=0&&Ye(f,Cn)[Oe(484)](Be,0),ur(De=f,za,Ts).call(De),nr(this,ha,![])}}),document[i(410)](i(445),Ye(this,Zo)),addButtonEventListeners(s(i(500)),Ie=>{Ie&&ur(this,i0,pu).call(this)}),addButtonEventListeners(s("#collectionBrowserUiRestore"),Ie=>{Ie&&ur(this,Ic,Tl).call(this)}),StorageManager[i(506)](BOOT_TO,BOOT_TO_COLLECTION_BROWSER),Ye(this,Va)[i(501)](VME[i(448)].COLLECTION_BROWSER)}[_0x17df34(412)](){const o=_0x17df34;document[o(433)](o(445),Ye(this,Zo)),Ye(this,n0)[o(465)]()}}Va=new WeakMap,Xo=new WeakMap,Gi=new WeakMap,n0=new WeakMap,Cn=new WeakMap,Ua=new WeakMap,ja=new WeakMap,ha=new WeakMap,Zo=new WeakMap,Ac=new WeakSet,Ol=function(o){const e=_0xa2eb;o[e(422)]=="md"&&(o[e(422)]=e(442));const i=Object[e(505)](SelectedPlatforms)[e(435)](f=>f[e(422)]===o[e(422)]),c=Math[e(436)]()*20-10;return e(408)+o.id+e(423)+o.save_data_id+e(478)+o.image+'" alt='+o[e(469)]+e(495)+c+e(472)+o[e(469)]+e(502)+o[e(440)]+e(454)+i[e(487)]+e(428)},za=new WeakSet,Ts=function(){const o=_0xa2eb,e=Ye(this,Cn)[o(416)];e!=null?(document[o(424)](o(426))[o(418)][o(438)]="none",document[o(479)](o(432)).forEach(c=>c.classList[o(477)](o(420))),e[o(456)].classList[o(462)](o(420)),document[o(424)]("collectionBrowserUiLoad")[o(466)][o(477)](o(437)),e.element[o(467)][o(452)]!=o(492)?document[o(424)](o(488))[o(466)][o(477)]("disabled"):document[o(424)](o(488))[o(466)][o(462)]("disabled"),nr(this,ja,!![])):(document.getElementById(o(426))[o(418)].display=o(419),document[o(424)](o(426))[o(490)]="No collection found.",document.getElementById("collectionBrowserUiRestore").classList.add(o(437)),document.getElementById(o(407)).classList.add(o(437)))},Ic=new WeakSet,Tl=async function(){const o=_0x17df34;if(Ye(this,ja)&&!Ye(this,ha)){const e=Ye(this,Cn)[o(416)];if(e!=null){if(document[o(424)](o(488))[o(466)][o(459)](o(437)))return;nr(this,ha,!![]);const i=e.element.getAttribute(o(475)),c=parseInt(i,10);StorageManager[o(506)](COLLECTION_BROWSER_COLLECTION_INDEX,1),StorageManager.storeValue(COLLECTION_BROWSER_ITEM_INDEX,c);const f=Ye(this,Ua)[o(485)](m=>m.id===c);if(f[o(458)]>0){const m=e[o(456)][o(467)].save,g=parseInt(m,10),Te=await Ye(this,Gi)[o(471)](g),Ie=f[0],Oe=await Ye(this,Gi)[o(431)](Ie[o(468)]);Ye(this,Xo)[o(453)](Ie[o(422)],Oe[o(406)],Ie[o(455)],Te[o(425)]),this[o(412)]()}else throw new Exception(o(414))}}},i0=new WeakSet,pu=async function(){const o=_0x17df34;if(Ye(this,ja)&&!Ye(this,ha)){nr(this,ha,!![]);const e=Ye(this,Cn)[o(416)];if(e!=null){const i=e[o(456)][o(441)](o(475)),c=parseInt(i,10);StorageManager[o(506)](COLLECTION_BROWSER_COLLECTION_INDEX,1),StorageManager[o(506)](COLLECTION_BROWSER_ITEM_INDEX,c);const f=Ye(this,Ua)[o(485)](m=>m.id===c);if(f[o(458)]>0){const m=f[0],g=await Ye(this,Gi)[o(431)](m.rom_data_id);Ye(this,Xo)[o(453)](m[o(422)],g[o(406)],m[o(455)]),this.close()}else throw new Exception("Cannot load selected program.")}}},Cc=new WeakSet,Dl=function(){const o=_0x17df34;if(Ye(this,Cn)){const e=Ye(this,Cn).panelCount;for(let i=e-1;i>=0;i--)Ye(this,Cn)[o(477)](i);Ye(this,Cn)[o(476)]()}},kc=new WeakSet,Rl=async function(o){const e=_0x17df34;!Ye(this,Cn)||Ye(this,Cn)[e(429)]||(o.key===e(450)?Ye(this,Cn)[e(451)]()[e(499)](()=>{}):o.key===e(447)?Ye(this,Cn)[e(434)]()[e(499)](()=>{}):o.key===e(449)?ur(this,i0,pu).call(this):o[e(504)]===e(482)&&(this[e(412)](),Ye(this,Va).toggleScreen(VME.CURRENT_SCREEN[e(481)])))};const _0x113512="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAKUPMvFBQAAXaWbT8YkAAYBgAA4x/4xj/5d3vd3d34QXFxc+A4BoKDQUAKAKAsBoKU4uDQGgpTu7ule7u9/u7vf/8u91/Lu7pW5Yue7mKHYKwFwFw/YOAFwFwbngQEDPg++olnOqSYV1ZhCJNKWMAJgBxgjIjV2XFoAfl2GMKBQaWUJESywrggJFVDq0RDyAKF3Qsh9IhUCDrdh4Ut+DWznv8/OfjNJHWVqf++9/8oq0IHZaXDLJAgSKZb+DDutKr/3of+h3UXrrUA//tSxAUAC3EBUrjFgAF8HGuDEvAAS4ZECEdUqFxQ1ghPPPIM4OhYgkiUfOnjyJLYoYqSudPmA6hKEidLT1/SkO7fG2my+Lnpjnuc2Ld3bI631P7d0SgaxWyfg9Md55705ps6Jr3e5KxAYEAPPTAsZEzWWbUNms3nYISopCeKBgbWp8+vNeG5ORyN+runVKzx8FGRQNwUomiJISeK7VPp9fqN0wZWI/zAfWt///3kje5w4UTH3BzXH/zP8/2pd7cUKVf4g+IqHiuAoHBC0nccSXP/+1LEBYALcNVMGYSAAX2UqMMykADLONBirVnei9LAkgBYNKqsCoQEhpESztHo+yqFYUULJahEIPA1Fh7SKCOXmru+Lo7cZQqEM+V99Vcff97/WVv///8kUXRjkoMHSVMtZ/bnIiECrFQCe/5whX3mfxrEqeyGmzs5lEjmbgyBlAye0LCUiaM2rmkYiRE1L9BkF2FTJ8mYjSJRpRTqL5JiO25KW1ru/M9xx8LUwHlh4GDpNRcmMaxj4bIHaz6JG3mmyS//1y6IYQdsalponDrbnP/7UsQGAAvk51IY94ABc6WpwxiwASEXxGFMgFFM/fNDT7TZgSQa1+Zo5+HBqr4SHftOTs01XMxs1U6xTxa5/Z5mNnZM7xGs+hf//V3mvTXjYtC+df//948ph5Ef3+ISeYVa94ls5/vKhorEpW0ZwmjhQH8fDJFfjdWaGpph4OG70m003Bg3YhNO7T0CkltjqWPezH0ah2AmK7u23/zB8nuOez39s+GfvTP5z+JfW7+eJv9BA0Mx4Hwnwctl///3//+Os3HbkttbkZcTYAFqYrDQ//tSxAYADATvZ7iUAAF1oCsDEvAAoAPIlkQIrETAiRMKESJZDi5IBg7aSyQaiFCSego4sE4/vFaFxc8RwBAEyUVGnSd7EYRkEo1aX+nFEp+tjVi///kXHigoZ8LUytf//nuBHYa/65QBzszi7ieabcYrhskOx1AoQ+cNvldF2p4U+d9hXM4hUsZle69KmeRz9yiNsWDXxJs01D97R4vtjP19Zz/F3iE/gw//65rreKX/xueLNmlJcb9rW9rf/5//gQEkeIvU5VGNJWoQSAwAVUT/+1LEBQALpRtiGJQAAWMR6reYgAAsLmRoyYLywmD2x1UQSwfcuYNo5ygOWVU5WNDuhY46Uibk+hez0ZZD0mv2+SxHMH1zyqipX/Hno5toQNPqxKHRYyauLn5+T+Ve36vs4Rclw1859VWSBTgQMcluBEZKxpGoyA8cD0qLSJKa4ZsGQAWbNBQUIIc1JqoLCwszN/qpNNGqyvC1OtNEfbdSSG8SiV07OoQtxIFTCciOeWNqtMBQ9/R8SpZpCZyn63/Qjc1QApttwfJpLRrkqS6MT//7UsQIAAwkM0lHsSYJYounYPYkyZkHYVEoQHyBoRIhLI8TDiMy1jjgkrplWmqE0xkonLc3gvYUyw6aoxLMt+9jieUOHxsWKcqW5j7Y3tKA34fu1lcktrenov92nHdpYsbpv////QjAgAMNUmYrx5mk6NY0mQRbAtZoEA2QCAMEYUOGjAfWc5Gky9BsnZNJOs3GXv2DWE2gsF5n6rmuCiHy/MKf/zP2/z4MRb7fzLpW4r9gPKnPXurDN//ch8pqYsqkIITjbcAAokABGAbCoOCs//tSxAkACjx7QaWwaMFGqGaw8Iq4Mgk+MBpPQ8HtEIDEUabFxbXS1M5pWuaP3XNTzliDoKB8weLDkwsXJuHSG8BiZjRzLC0klgtqpVItEu5aBSOVHEORIglVpsVhNzuLybx6l6XRksDRCNt4rFfpqvJVvpp7H3P4mxgANmyRiQWTSjhadZEcy5BxhmYObe9TIjl9f+nXDRXwsofDe1maiUVmu4lSUIoBRJIgDSqBBhGlor0Kgh+neaUyOS8VASAWdJDsUiiutYzrMNckwutPLNX/+1LEFQAJ7IMph6RswQ2Mo9j3mADNU6qfAx5l2B3FWvfJDIuhBsehNFais9S5jNEqR0N+Bvss93/yIF/2WQV5HogcSygpI0lZEJKCtNIuRRYBbMtLHU5HDqokkai1aRo1Fjh4xlZ0s9AVO6zp4RLnst8j+Wh3/Ge2S0f//74AA2VmRI7t/+lJHnEnrSEq0jLK0/Y/liX69jmyP4U1IQRqb/20J//td//lqkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqv/7UsQpg8VoARPgjEAgAAA0gAAABKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",_0x57e3ad="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAIhHErNDGAAbGs7fcSgAGUACAADbd3d+IBgbnoicL/03c/0RAMDFu7nEAwMDfiE4AAHAfD4jPlAQWCCwfPlz//E5//wffiMP6wQDH/y4f//BA5D/s0e/9fr7VJgCJ6QKCOVMjTI4T0nChxvk0EE63caf3VhEKkT2emwdhsIClcmnd0HmIIRvyxXV0knjomxwtx/d/+MEYcnes02tf/9XzdkUjp3zXHf///o9Lb8uNZv+fWV/////k0PxQoD0uRJcVOHUIMYwuxdgD5//tSxAUACyy/Uhj0gAF+IuxnGIAALApj/XbIsImGyYbA0TWwTaaNdrc6c+6akt78xAw5sq0hz1nn/CAhlKvGOX6v/0j2Ecr/IITbENzNbVEQFUoWa5S2KeKBxvnVRZZd87/5EwAr/z/zqhx5+AYEgtjYQT3T8Go7xg0lx6hXIKoFDBQPqQWMebG0wxeYoXkWNv4mxe0IFAXS1FfszGIrjRcWvnaF4/D8ckI6C0TX///cWm03Bhf/Ps0f//4iOEHAm+OdIjAIIAhRLqCpnBpG4tP/+1LEBoAL5ING/YSAAXCU6PDEjZgXdD5ABB1vVboGca20qNP8KSUZGGjT2I1Wyi12cdlqb8QoZSWxCoinLfLylLbk08XUFTC1iU3KmHKfDS3JqAwNeE3U0zbOcY1RNyQlGsahv//IQVBIkEAK9KwKk0oBKSiqSQ7Py6YFoQyYPMpnUsLM0iXMEKCfLTVguwc2y2iFvXTG7Q4GLEe9OyOUJIxEgJYbAtCAfaF1JKkB5Ne8ACoOBgXQY1Kc6LquW31f/+QqihsQAAYDQ0TMxVOWFP/7UsQGgIvwjT0nsMbBcRhnQp6QANL4FDGhHMhhw/nBfhOQD2ErVr6g/i0ph1qAJoKb5zdOrTzkiRIGOtiWVSXwmwJoXARARktx6KtCAdFzwfS96hYcDV7noUpzIde1IbWKi56n//6iwB1oghtE8nVIJmVw9JbkCq6PojMNEMpHi5aSGWEwyQI1UkAYHx0NKkomFJAw9DkvJmUE6gtpnYul2DUWFoqu2eJdh61uldeTF1KKVKgkPIzVui1ha/+zo////kauNi1WKkUhoNiNWIOA//tSxAaADB0tWbj0AAFnoq63DDAAAjmHTGrWWrhHfvnOeGz4XjkiQDiQoAMjOYQYIYNg9+boPJcVJEWI7WE5ML1okVHx809y/Ytnpw3/78vN2lCp2jR////GkvftzKx///6f//7mzpUjqs3ttLtKxG2Q2Mxoc0f1lBB31ALIhfOHsaEho8G08ormRI/m7kjoxe/ENMqFSH/kiF5K2V8yI0dTR9C45ro5EafX/p1/n/S///yMXAiKCBZapTf5R31wCy2uRmCbSIAAFABIHLqQAxb/+1LEBwAL/KNjnMMAAXIPK/KYYAATDkkDsYHRyUV5wiGkw7pZDQ/zNjd3fFGNDevn/+ZcE1Joff9vT2Tyvf9PlIhIOCMuLQyAhIXB0ffSZa5gQACighIuD5/f7iaaOgTCyK+1/vqUUZKkowQEuwSgNLGhyFJkXgajUExkTrHJZZBgEl55s1mY3b5O+jTSJHGlHx/PztVHUHBYKHoKhQuiKLW8kQQ0aAiK3r97KEpAxu5t8iFDwU0Klgax4K2t9vmDABMVV2V2aoaGeoV2gr1gsP/7UsQGgAwNM5X4kRBRRRSqt55gAGg2GRHpuPoDyDBYoJdbNigJHgQRnMUUIQEoECAAjgRjI1Q4Mc5qhl+zqJFspW3+QUUyUKVi/84VF+lJv/qkQt2FzP///dTAlWKg4DILR6F2/xRtSmpmrcJILQVnLMelIl9WSEM+U7CWjwRzArWF6pQ8ikbCSE0kjUs8ricyfPf5+/eq++Zwi+9+7P/9+/vPOEwTkCbpLqTyR1+ur/6CTau32E3LQjIjU2kCQUlAjRPEYWIUoA+FkTTgnGKc//tSxAuACkx9R6ewY4FKn2k48wl0smItLayitRaJbXY29aoVddmi3/0tC/IUAtBQDS7gK0LC4InBx0TgAHschjpoUeRazuVf70CJqyKTM0KgcwjKSMjUIxMXU91Q9CrGGtKdUqdPLFAEJCErPIbRro1OepftWZuU+bu5rFmZjUThxDyXR7dNTLcromXyn7TL0WXppR4J0uAUiLA1qURXCCj1Ky77dLI6k0SwwmYdSzFRJ8ilQTeFxY+NGSF5ZgLDozUlVm7ALgoQAMcNv7eHc6T/+1LEFwAJ3J1Jp6RooUePqLj2DHxwGS5dGc+mSqE2hMa4QmEnGHXJyff5yeZzGx7ypaAnZdArDKrIyHXs2MRBSan+mAiuHc4IpklElUZOlTDpOtc9mj1MiYia3Kft6lfkOLubsLEGiRoXLJbuFUjknFIDKWQFShHYRHkjJiZnjJKok70PnRE+AgJRIABC1DIFyNtCm5gQ56pTgUx0kHzpEuwScTRo+EqdGiwEChZpoiGnBkaReBrhV45QlJBeqd3AKaCt6WL71unUcS2g01SnHv/7UsQkgApIQTNnpMpBPRQn8PYMfA3c6phSn//ZU9T66SQtPTEMf5JVYZFkfyqDwcF9Qbnp8ctGKdz3XlrTcIyaxydllz2v3n1bD7wz/4GszGhxqKPqkhiRglNG6AboPK7PYKDVMVVGhy4XfC7Kb3+1rakbjbGhuLlAMvJIJDiPJacMj1UYrlq1dV5WrWzlllrPH7Dcv11PzrVMrYZHMoudl9T5utsDUuhcPCjycVUtEnUsOVysmTMtcsa/UYUKrV3+21brbiaApAuCgHViMrBe//tSxDGACji7QaewZWFQimf0xI0dDyUgC5QuNEKIwSI0C7KwlzllYjJHBA0JZ6+qq+rxB8mtRItm+VGUsht5SvQxXejvszptZ0LNy/C1Yi/Pta/xiXf/+WrbbLHf0qDyCAHDcjmByVAhLI1mRqIZIcLCAIFTEPSFsMnCgsaPhsEzYBQFhI9AuJxEGY4WKuScIOFQI8cOGrfXfFk7pC/kA9LMF3yIzs1g91IMLKE5E1E/LE3Y8EUjnYvHQ/Vkg5MyQuOG32GX2CSmivCejnAITDL/+1LEPIAJ7DVJhjDE8UuJpaT2DHgJjhMIXWpImRI6NIJWPQ1aikBxKOA4qpVpVzWL2jd829ljnv9lH//r+9UABJJwIvKBdRcVS9xU4aBEZBE8FkbNPAKRmHsqqNksjKTVBRMNHgFQsBEgZLVjQKJQagyGg6Ehx1UNEAKGSIlv1PpKwK6eRRhI9Wd////8NABAIFKTQWiSBRQEfFigg6E1QyOyWX5ZKhkf/+RqGCg2dno0UJEmHgmZFRY1Coo2oWFf/qF2atYqKN1CusUaaeKtxf/7UsRJAAn8RyWHpGPBKpCdlGGZeIXZMizP/rFBZUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",_0x42cc49="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAJxN0tFBGAAY4s7v8SUAEQwEAAzH4B+ACoX130A30Ku8FmEAABKHAwAQQcDAxZ7u4G78R3OIno7nohcfQAEJu4hE3cW+7u7uegG59RzBDWD58QAnKAhEH4If+CBzRNJLpTpcLCsxF2qlkgxUWwgiAddS5twfMnkwrr4MggouxBAsWBVDgk4vIhCB80xhQljirscBPR3RiRQUOd2D39ydxEWHNYuT/9srsxm/7K759GLQyvc49v9f3/9mERY2ZUADIacnqGJoP8el4q//tSxASACuDFWhj1gAGOm2tzHtAAlcT5vYltpiNpcEMPNP2DacvidpuPks0jHrXXHeT0XviEnWpeO9djjQ8yWxxcT9G580SBAXY6I+HN/kfIrYsu/9YEeXECn+nyBf//9MuaJIAAOrrQBFqWTwAHSYIteGhyIIN4bCFIqGuhHjpgxoABGATpMHGbIheiTMColSSUg6RUUhVdKd2OiNOXlOZsmYu28lTE1MTJJI2TRTa+zGxixORb1PpP+1T1qMvk/ColDQNA1TMACSQgSE1AYAP/+1LEBQALoK9HvPMAAW2aqTaeUAH4K4XFIEhSpkoUtQDsRKlixEOhHhJAsSZuHS/6SVR/sU7+6x5mvvntd7KW01u3/+7Hj598WdiMjQMDC2rjA8NpMnQ4ApLS7ZcQLpFRoIpjCqj6a0fBHE0i0VLQLakCepQwESjT+NjSAdrg6dLhpVQRGso0VKzO58yqqIaqFmIRqOyTNZXKY8zvrMVKOnOzXeti5HazyoUYXaM02LarmSj4aIcMZymoEb9h/6hb5b+qIKAYViyaKjhTSSRAAP/7UsQGgAu8vUW49gAJg5mpJx7AAACMwCfYRk06tXB0E+gwmFzYmFjBwKnF6KQ+Uli92LrNgiYh/Yl7y+hxEqs5KuJqCp6/WL7T25L1s/5WbrLFXpv9LbTv6fjl9pVFR8/9m1rV9oSKNLSCgzUAAFCaZ8IWyLZUGOT05ly2p5GLUY1Wcn6LnVMK8VhXClgmYRIKQvO1odE7+TH1sovPIT9qPO+tYcJ7LVXX52nXzPnq8YIVVcbjcX5XZmt7T+7CvoOJCAqGv656SSCAAyjNU4Ti//tSxAUAC8C/TrjHgAFmpitDGHAADqc/JgiAYTNnlg5AvFwhhyHw15rRwJwQgM0L46f9ZWFIThYE1BlEjJz/nFonyr1ffqaKpP//93v6aUUHerzf6//9/q9/u0J5H8H3k0CERAqz5z4ahlf520mTZh2FC4p2hRNHoWcbk1ac5xg4xccOXZjxu5kxqZuNxLOFw0Y/mG9JYA8IAwDgz0/4kAsFollRu///8cLD5zMI7///+XGjCRGq//6aBO6Hyn////yFBekwlhQABiNZts7esfP/+1LEBwAL1QNkGGMAAXqVcHceYAL+5X7f0wMYdl4drsXlUKNb95n82yznlsVh+1zv6arpIwJateCs3m98mvLdtaSj27f/9+/+/ZZkzTUYJQMMcOZPISNrColYMO931Nb+d////27Xyff2/e222yRiwSCwEgH9BZD21ZRPnJu3CPFjuoWQJCqaeias+kdaCwSyAkGB1O3pbphHR12Ohu8Q0Q0Sxy/Ff/+m8Uh3xK7tUcD9dwNelwPh6ge6LHvwSuKTmVOjlbbZf/7f/rbbrbBoLf/7UsQGAAvY2YG4xYARcxao85hgABAGlCUktaWmzpQKjUr1XGsjMln0Lv1CQTjjG0ooLyDKYVhDe+68+eRbUkE/2RZfDScfJ7HK3u2d87reia+2v//9DpO7NWHOt3jBGfSfC0SwVT+pSgLFRAiLJkFA0isAoQBMIzgih24fi0lNHDZFHTa/glzcmvTHAqkqokdVF/1Vfzrlmmoo///9v7/8/1pu0zb6OpgBJWojQVY5Y2VMFQVKqBrubWhtoNHutYKu//61LBVgAAYO8NIdKVLa//tSxAYACnx7PyeYbgFFEeek9gx4ojos+MV2/YE+0NMBHSKJ8B8WhUiZYRfSsMu+yG93dQpgLCZ4UF3HzLHonS8qXEczYWj2p0rrOtXnnLlwm1qSoswCVGGL//8kWh7ipJQlRiKExSGIpNKhOBiWXAlVlglnC1S+xrXPsVTjwnI9pYuTm0yz1yzPCHWJtoYwVQPGiJoMveSIEyS3Rd37TV0FUD1JWpfQyaqs///JKiOWR3VXSRspFg6zLPp+xkiU6RP5QqA6UecCyHRCQQ88w1L/+1LEEQAKVINH55hsoUWPaHT0jSwx3eE6JYUxRFlT/utUFTHnnqYkcwUfSyISzo8oB3IYaCjTSk0X2uF9nFMZBlay15t039v08cbaSQHa2KoJUnWBLH8sqZ5smDBkvMFElk9Syb83M3Q7DhPkrqc+8qn91GEoGECAXXDoDcLJDj0uTalD1LvZVHqryKxkJKIrWoI0jhXqASnhKCYgDkD6yu4SgSAGQBKOwarBKfJKkxceOXbeySkxrG1ybUqoU1KVerSPpdAaJJjgE6//Dv3Ug//7UsQdAAlosSUHsGPBNRkdgGCM4DSQNPkwVIkYaEoClfy3/qfltCQYDIJq0iYSf52VBQWkfYf8/llUMDQ1a/kyw/svkatHIy/+wyZWB1D81DAwYZc7RWKN/WKPoBkSGgKKijf/SEhX2DGjxZAFCoo9ICFqTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",_0x55ae76="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAKDKUzNFSAAXsSq28ewAAgABQACTeQhCMSsQAAAAIooFCCGf//+c5zmjQIMXIxWK0ero29UQChxGAAEDFo29UFAJgmK26QIEDE5znOe1BGD8HxwPvEDgTP8Hz/93//w/a4wEAAAAAEhwySJSIrYENxVC3IuJILmM5InsAw8HNEwJ7kC1FzIxLNz9DM7JTw0i5KemK+0O0Xx3YYKx8uZr/5szEvvelKtA09AWeo2LCC8BFPA79ZYlqMoD8oz0HUqnakigCQCklKLILg//tSxAWAC7Spb7zxgBF6lKw09I1aL0ph0iNpxdreIdKUVj27+ggBwMMIFuQ4gOxOkYRf66RWLy3IDiUWAV6aELCJTYAouCA4tGEZMBscoaFhjgHBP9Rcgoz382itZ8FhJFnDpcMH/1GOAogAgApKQvRSl/R8UcqMELVvX1YQmBUAw8UjELAkfxZqmuYVVUljbMyl//sbGsZSampSkzMsakGFUgoCHrCRk6DRIOXhoj/PBI6HQ0sN+VGQ6CxKSDpIRWNCT//6qkORIiEAAAAl3UX/+1LEBQALXG1R57DDwX2M6nz0mRgs3jKR4HTGxLQhDFbZVVFxDJzyPmGEFbdffbx9uz0FGYGQhiB94nt3ayhiJwcIKaXUGDqQsQGTjWtkQuPJt76+kDFxOaqocwB460+zq9fu+p41ZiJEAiACXN2TWUKgM4SdQQD+IUwDJgegaC3IiHCEWJWRUSeNakm9GkZE4aiaRJHDqSqTCgZio4sKNUBmMIguYGijAXsShMWCREKNyJs28AkgCNfgN41b1irtOa//+moLsBUAAATw8RYFSv/7UsQFgAu4p0eHmRKBeqSqtpiAAQC+mUq1Gwl+lOl+jUywrzjDW3M00LnvBGXFlcmQSY9A7CKqQQNCeoikRNKiJqXrpFeeLLGlli4ueeYgIKBd63hdaggxAMHggKfKK/r6TPrp//+kWwpxoAAhSsD4VzA9XnY5k8+QnFBgeVFAGNAeBIEXDoPx7Rb9T9XfXFsUcXI15fv37d7e4SP/0SEhOO3sYkIiTL833G4wa098y/N73pSRFy9ChhAogogpcxRBhBtlvnVRFIAAGREm1oFt//tSxAUAC3k1YZj0AAF5j+kznoAE8CPDEzY1ddYb6MV1c1TRvVaDg849xwQPQfqgkOi2FTlPHzcHHHJeoxMwUklWuNvtL4+ir9UXXa2/r49V1Yb9/9JV/+11Nfz/6x//wkf+3XjXrDqYcAIyqOQV+cCCSJ0Js3jZTkQ0VerSQgfDBOl8Apgey0iKfSf2qvbdDLZpGxKqNGm1MzKqT0KNgVSnmAqfMPkZhqxMKPxiIvtJ0aUColDaJfQaHpQuwwQLogTRT8kqCiAIAAHAihjDLIT/+1LEBYALkHs5Z5hygV+OZqz2DZAfpPjrajyanNL2QbCMFKKZFyuUZwiUWAnBqijqsW+kfQHVqVapzBUaIfkPSTOgEYCooxaF6S5gUMTpgmM3KsLLaclgvZaBqDRJVRI2JXkv//kgJAESQGAuYuUpipQtqoJ6lGfmCaKlULpJD0+XwryGh+vFDCOBmh5ggLYiTHtcjjwHig2FGnjoLkYBKBUOhItDA0UhYOpfz3dDtKrbeTPRgG4sxRJn6f0dFZP/JHYUo0UgKMfKAY2InxpIkP/7UsQJAArofz+nsGdpWJSlsPYMuEhaaqDERT0sul1M0ugYic4kjBmkjWrmpF23vuUJFtUY7EIJA3La/Nf+/cqrdzOH7ff7jcH3Hve/vcrBQji6+VL+7O+dBwCQtEAIqyjOS4v5jPyQgdDkRUEbkwYlksj6VRxgaXNtss1deetYNEQGEnGM2Om7qZNmVKr6+kz7fzONGCkrkkCobm9iJsypfoTpm3qqvnBpWzaz/2+pyjLrNGylImSQQlxIewMHQTDUfioSicHw+iKYuQwpVq2J//tSxBAACky/NaewY+EyDiV09Ix4hp4yZmDdtPqlmKYTXNmkXjM1VUPUvvCLjGfzY73IssGyiRRI1x0qUm7353vrY5Cn2FnhJtuFBKRtpBGwhwmqpMUko0IQJMAkDQ2CIpBIhZSRPVQwikzRQqhlKMdUtS2DGqxRKgaWsFTorZUPSVpANblnXgrZXev+j1/6H///1RZAUYApVJdQmOhpohUAMTilgmwLEyZEoKLAJZGCWm4drNV2qkFEkRKIkCUY+1uzr7cs9XkP/+es/0FfsZ7/+1LEHoAISF8UJJhwgJ8AILAAjATsj4ircgBEEKKMyiS3LMtMtKsirttfahmmR//b3fUvq6tin9K//UzrAX/+MQpMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7UsRHg8AAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",_0x25f1ec="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAKQN0s1BSAAWGXrrcSgAIAQABAOQAAX4xjgRt74QhDzXI0ekAoMFwAAAAwKHLisVk7CBAwmKwTJ5BcExWTo57UEaOe1CEM85znvhBG3P+EIQnv9Qh//CEIQ80CAEIf+CAYttttdjkiJaEjabbkgAY3JkEmFyJRgjbpQ2dC9uNOBEdjiAlNKBMPw7kfXsMNddBht+oglTwKV93BlWdDN2x78J/u//CxdGAMTm/J6soZn8xngm2RD8Hz8+rXRpEEgAkkqGokAEmwFDkH//tSxAgADCiBZ72kgBGAhm309hgyODHrS14oAQUafm6MAzN6HZTJZIiIibnaREqRiMjvahn9IGHd8sPEqqsbv7OfggQIEE5ATg+GHNQUcwPg+51PUkmD4Pg+Hv/WL1t8pxBcUBCH3Y3IiQiCkpMTYhQGgJHxkF4IhKjCUPStUcjKxVqjgEcSJBUGg7gyCuVUDT8FQViIFXSOVBUFQaAwNA1BoGgaBqdWCp34NB3xKJREeWCp1YKuVqBo9EQNA0EgaDs77NdlNSpDnUDCG3d8DcT/+1LEBQALzZtVtMOAAXifLbcegAJIigOgjA8lHE+WBPUpGB6fpChxcA0jRjUVDXLTJShqHvdXd6UqPFTFurzp7VroYeezr/Wmvd7Hnu6a90/q6TDzKU/r7GGMZ+ul/ajonX/3Zva36pLtxtxtpSONtKRSOCAQAQ3qM0P3a5e3gP2Se016LMkjT1F+ZEC6BvVotjeVxQCYuDecn46rEwA4Bw0Lqw5NXjtM8ysXv1+f708UGGOp8fN////+IwcGZZ9H//uAYfAY9T2hBuuU6uiOZ//7UsQEgAuIzUoY94ABeZwqP5hgAHqxcrRPy+7mnZziHi3SYVZcCQikqZE4jMUZoYhZQ6axrMUFibtImY7VMfenlNUhT6t1mZiY+269vnWf8628e43uC9t///r4+/muoTBZ/29p0S/6SWFNSIiAkAKSwAUdAJmAHDIeSENYhnZ0oqjO3xIJSYTgei73CaGtnu8uYrY16en/7u15r/cnvjPlS8bLf9qltzZb/t//jY1mWpIiSOLM0y1IwkDKZHHI6XJx8z///1o1eFRBIBYCAV+F//tSxAUACwEjUfTCgAGEJe03HoACgYl4PTguj8JRffPBYYSI52dxjQ+YAAIKDTupzqdaEH8+QhzMSejOjX2pO//yEyNO6Eb/f53seRv5N//tSjMmJFDIq6PHqAFtNrKej2YkblrbTYkbkjkbbMhAYAZ6zxxVGW1vGqNc07sPc1ezmCcaLGUETx0ovvcKOREIPADni4cB365bRkILh4KX/X+/PCUH5BVT/3W39P0e792//1/f9Fi54eVaV///////6CiH6GwAAAAAAQHI3zmIW6b/+1LEBoAL6NtWmPaAAW4bafeYUATxAzoIwpjmVprqGKgoccN0CnLpJGg9h6D4SwnJANq3DlF0TwLU7pGS9QgI2lBqRKvdFukmak5FHZ/8u6ZsXS7Utf/nTArMTg9nQMlla/oCoGEKFkA20Wi42U0FCGIoNrgqDrohF45LtB1VozojihRULUOlMPI6rOdVXIdFehDvM5GYxCEu53ZJk6EJQlk2faxivVEas9p1i5W4vDgtfbHxS2QODTIsOCUuPTf//6ICAAIADEOk8g/SGHSN0v/7UsQHAAus2T1nmG8Bbpum7PMN4HRbyck/QB9HCbrCtJZTAZvBQCEVCShpE0t11UoyU8bzkI4qqWxq6ItsjGT2rfhkSrNm8/M+aFmhlgj6FPssIXnbnfcwWNhtoRpcuYAX//1FUgpAASiWJw3AlJ2IW0pBXn8jk++cUNfH8zOREAxPiQkFSdEjLEiTc6jtLlHIwVSDM1hmZlKF17+zFmc9V9V29r/0u2rnPpiB7kMFwmGl9NQ7YLFgap56wl//6gQYAAYADmfpghSOunVwLcXE//tSxAiAClRbJyekyAD2Bx0ExJgakDVkQCoGAUEknIwDJFkkpIyyTkac2fzUZEqjwlOqBoGjxWDUQgrJLQIj1ZY8V4lARARRL6WiLlXNkJZcRP///+DQjhKQiNA3SoiB0ZBCaCakpOa4vNk40sEwTAQSYthkX0iyxUiAhfizMYLkcWFf4sK/qFiPWx31C7MVb1/1C9VMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=",_0x2cade7="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAKgN04tDWACWsgrrcYcAMAIAPoibmgGLNET0Nzd+xjGV/wxkksPBMabm9saN4CAIhMVJZPN7h7+K5ve++Xvv9lb3vg3Pv2MZTzRm973v2MZUpm5+Dc+kMH5j/AOgDo5+b//w/aRutxL3EpNpxkNCQAALCqUFBVusIxITFIWjoeICWi8JBLFRcfcAwSDlEoJx8dClyA3tXU0R0fHGNpfmIzvRk52rqj6s/0X+NhaTOW+hqLOnf+zIUJW/IFmsppgouSVClK+JCbIxj9//tSxAYACzD3TBj0AAGLE693GJACONRjyhTnC4A1BwUEMg5nlJp4u4kZTCkMSPaBPXaJBlHnB7Bj2b/UD7odcim50RfzwlclWiGHy5yzukpU08j6VC7Ja6kRiDreXWngYPaJW4tXs9ZKYzUnE2pEJB3ZLAsPBTzyZYoW11YYIxHJpikgMedyRkYHGlyap1uA5Ex5M3fnvEiZsnbbMrZK6vLvzrM8knqsz0pDhhoJEkWc/YxVkWsOYnJlwfD4esGHT3+j8qVVUAXShNhIRaZKolL/+1LEBYALmNNOGYeAAXAeKpcesADGJQt1FPvOzeCZQ/kOgOxPk6cbnBc4KGyw5q7qkmWIibfdv86SKGEGfPq+2dVz7/bFdsgP4X9rY+vj/EK24UJ9/rH////+I1sPpwKzXf1PigqgD/FDBhQqtNrRTM9WlibHygbmJzfsirIpmbWuzZVnjvP1dPiz1PMT6z2dnda3DYA8BMIc01ndW+ou8sMAIA0DdDvt8VPH+TD7Di6BMv/7///8dZ/E5cP/q8Hw9mXUAADsEEAABcAIk6Y9WP/7UsQHAAwQz1E5hIABe6Kpwx6wAIrZkTD3YeOD70hgFwI/CeYgMBT0SdgkCSnoy+q0qGfdK7L5YieREIZ3auOQj7BYBRzbAXxuPr78zoAVDLKrKHa//////sUimRoAnf+0sFajPqjSijiEsprzPMn4bnVD6EhqjULI+ihUPA64WeHsgzQpKh3PhnZRtG6zVSvvEgBYEA2QO4dTka/q84O0fmoExjZiHd1/LWJstNjoub6Y/uKqdEdi6R9reeHZ7j4///1Wckq6bbbW66avabTW//tSxAUAC6k3fbj1ABF7JWwnEoAAaPNgQtNICK9y2qGPEa1C6u44ZV8icwwQg4qywhB+LwFy557EcnMMdidt2kjqphISHofMo7sPPVrGL2trnn0q9P1b/fS1Lou/2zP97mpsVARH//tplqZEAEYAUACItAJaq+IbbJ0bM52jXkxzAndCrOOihicCohNCuYIAigByRixmPTYOgTSDGhY2vqPqYoXPuV+v//QgyVHpr81///7CiwcZolLX/H6///+eD5cHHI//6aqqkUEAAAAEJEv/+1LEBQALeQtpOMOAAYEzaauYUABEGODHwQPky5MrJz7H0AkGjR400gLAqNh1kSXEsHwwgpGrePCoaDh6UNX5rjxIdc3/5E0SyhMsRSo6rf6DZTj1elv0/5g1UwbjQ4aIqgd/yX5abgACA0XJAY8DU0HYFx4JhIJa0OA/ZoVjeIzAIZDCweMHSxoi91c5BQzlaQqHv0Ew4Q70FEZc7VbZG+keo91fX6o0733VbaLZ00O26M6STmIjm0T15P221f/1rr3/2rjUZKcICAA1acwzmP/7UsQFAAuct0eHmG1BYjNocMGKcIxbl9Qllem6jU8onrIDHAQkSPRTWXR6VEl7uvfA0X5rZRHJ+0VROfPy8zVeaN5mgzrKeGAXApsBmXpSDaixoaARS1g7kSwSKIGjVDVqX6Vf/+4klY4qkAIf0XioijqSgLMgSEo1TFk5UnjJUmydLqKtXSdsUbG5sui9Xvxo32NDMqeXnt/qvMotRyuQt/PvXKiP1rmXsjimP6+y6u+zV/ZE6y0+VUX/////qNUmZWIAgqtheCcAwZrwlBFK//tSxAgACmCzO4YMUUFIlab09gx8TbC9DjLB6erTlpc1goMz2NmcOBiyUkbyRvWNUzNjNoq+/uaz2YrqNeYM1CV9GHfOjXCwVm8S0liSXhZMLRa4Wf//6HLr/IiEYSSQqzbL4KUfAWFwhBMeBMVzIRvZMSSZP01a71mVSjM3ZmeWtPJf43cbMyfpfxj2jH1S7hmAqjqZGoixpUsVEU8dKhKR5WR5EqVXqRSqAMlKLJQRAipvQFApQ41UqFAYBCjCrquwoy4aiSBoqBXHSQmeREv/+1LEEwIItFMaxiBgQQWnGMhQD4g8WXqPRLaHflckR/iWyt1k7zsKv513ki2zeSnSPATxEAA1AMNEDkOioip/+qKqf//+qKqf/n+ysFBAg6GWygpUMvWSoZMstQ/1a2X2ChgYMEHBMaKizTQVFG4sK4qKC38XTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==",_0x3a528c="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAKaQEcFBQAAVYkMHcMcAL/AMbgABGKJzwiaJ8EChkigpU3oQKB+L2goKCiVy7wHANA8LAUBZRbkBwYWAICwxxd/kUMTcsXeBc+ETd4Fxe4RERHe9EMTSv0RJFDBoP+Xh//B8aer+/TNRis1GtBoMCD8LkEbxA8gv2WBYHJjgHEROezGHiQI6XsfG4rEcubaehlBEEhRIK0OQ62snHDEXp+hkmYjHDRlod/+yvW2v///seYXAYb//hlkYAiAABSBdBhSMDWnRRCAX6U//tSxAkADNExU72CgAlZDGpxh5hgqTWpna7PQZHo1HLwkYPAMLjVQJAKcw4cBAIUCh4pQ6KOxEFURhEoiNdzuZDJupVKWgl0cyE+T21VTui59/PKNPM58c7O+ifshEJ3kYtxdJ0zqw5RlYAFgEAAD4UIXIM0Bqc5UshPiBptXsqbYUiGD5JiKs0iipzcNIugcUqGJeklzVuULhh44XPsDB9BBrNAlQ1ArkmLbF3VQaKBOqfXV0JYYLDW2Qgn//+hMSSZSIIABSgqwwhYGJKiL6z/+1LECIAMmZtPtYKAAWofqcMwsABB7nejMrjr/TMolk/UACGB0YHjkKUXFVjWOjRchimRFOQcWRnmq6sQXHLajHdyMd2e1G2akl7NOr27exckium26XTS3f5b2bf8rq//2/tbZFXf/jkcrQ0uEqKN5K6Oltx5l+Vu1yRyM3YT4aS7qt6adEjyx1UeeQpMD2G8srpZ8VZMDwsWDe1sRM3X9Ga4IA+Ewr////9dcbDgIhiCf//z///mq5pDSedPstKf71oVgwQA8wAAAA0AA1XkW//7UsQGgAwo51c5hYABbouom7CQAPbZZSRqKuS6NJnKYvZilDIQyM9meYikeafiVSVJML1+ZUJJgmokbJHopp3hrJqfUWND0tNYl26fqoUXXVJLj1uh0dR/H0xa2Vy1x4xJQF8uYexKo5iAII8kYKlhllt1lVO6zhWmeNu+r9MtkEFz4+TgcRG29Y1RV9sRjP5iqr6YljwZAYNPBuRfPkBO0Ai6CbACbEIndE4o2kci2wwtpGz16yWsHkuGUn1oDn+r8sfaS2dRRQESScYngnxe//tSxAYAC4BrS6ewZwGJnml+nlAAynKM8BJBvkNAMA7O1BcQka/mzO4aVRyN6nbasymxAaiY7mFIqA6ISAoYOoaFG1ihASrPmTdaCyxKLhAKFQYcGD4rGpZoVANI+5ymv2V//5EUlkREIzIjZFxP0IknBKjROFDh9JRtjKqElVRAVzOEBRhomPFjM7nYiIcTISpzmscogMIS7nad0IhhxplpY1mu6/ftsRp/7v/7ucNGig0FiSgQm0PIDBcWFllHsGIWAnf//TX+v/v8BdUEDsD/+1LEBIALSStdOMQACYCgr/cecAIhrXVoe01en5EJ2xq7udDwJ2BY8CJaF5QNBcO2rUVWjBt0PTub/BeLMe/y9x/92kni7UlfMN/+kXyWPh4iYv7/jf25tpPjn///r6+PrM9WcQIsllttktrkksgbDAtEAFAm1upxSnQcEFxKujmoGnS06EwiiASzheJAPhSg2GxY0sawwLjyhMdOTFxovHjdfeceXEULGEjXMT/Y1DBqcnT/0dEohdv//xacaNQyom4DK/0qAZg4QlmkDtBxaP/7UsQFAAtobUA9hIABVY8n4PeYMPDaE1Jp80JSgysUWdWHMG7FDI6TBAqSpVGDFtWnKknomqR3G689cnRMJGw2EcJzQ+wu2WyzltfGWoWYGGA2MF6RWeKXF4qKmoleBSZxQX//+sH2QIWBQl7KM4mIM413iKCUMJuluR90YvMtEAqF3Y0iFEt8omvNzKHmWbJd5OpErJKs3kQmdEUieSWxwhaPPDAZdKuQva5SmABr8YqVtHNCTehyWzNdMbrlaKsoIDMDAeBIwDUlDyLB/Xk0//tSxAqACdxTRYYYbmFFk+hw8w2kKTlfBUSRSQGCkYhNmZtVeRUYUZIa46CTGirqVRtEsFLyUuwKDys6l+dMi2KFTHTI4iigGDxQZ3rbGBfO6Nvr4YSIxVSVhdU4cJ7I9mOpPnCsHUSsAsRkCJOiqkfVEZOKkowaxjXSxj6UXPql+zayWt0TR8qtTydORTnsjvYsSVxdOdUkil4YKiZdepUH1RwlNbLAcgaKJyIpVBIrgyuDAnTDMg0dQqQZ1CM4kUFCipMEbhJX76UTY/qVqL//+1LEGAAKODc/hiRm6UWHJnD2GNnye55tTaLvsNoBySlSzneLWtvj//99+7PzuWv85o19rW5sCJRIgA13AGElAQ4UafqiTkDJMF5ijJsR8STgiDHhjrVR6ySWUkxMci+ov4Irej8vswk4l2aUSyzJRx0LH/77bfPO17qZdk/qja8KZ/8j/t/qKgHC2iAF1QBCQiQXppI5ZA8SxaWQqEEkJyLGTToweRJSYtS6BEpUSVlRVL1Rcexc6GF8Fv2dtFprh3ZfxJ1pt/5xOW/ZP8n53//7UsQkAAmkOS+HsMUJSo8kpYYYaPj+n+/+BLUADygDCS0QtNZhNKiGYDI/EgtkU3WC49PiRpQGUepcKXmzUs7w+bm5rS27KtzLRotgdOnTow0LgsLFhLY4ysaLzCEJuQmJ+5C//op98r//1DoBVpCrgRGuQk0GWtqBMYoSVKSIUgmmGTIEyrKUmVlMjInQdKV5YTKatrkZZeVLI03lwZwfOpCLq7v+f/T+ma9X///SAYqJEFAdGjS+jF2UOgmo5SZjpRZ5SKSBZ0m6VldLDI4F//tSxDIACFybIywYY8EIjeOdgwx48eakM4JaHCPQMgB8aTGEQI9lHb/s1p+jNPu6Otlbf//pI0mYuQAqDqaImZjUgx6ZA/QgtHRRdmYlAMBYBkAugWAcEykKiJm5u9Z12eb7aForiFE4nufci5GrVZzFniXsF0Jd5OSAAWC2hqQkKUzjyGAxF2IDrIEkC5Ol0o6GbiDyZxrwXEgESYJQ0heNdO3a6d+tiMry38NdbpIRVjXcNLDXyv2V1MYNMIqE9ASA0mkkSSyVACEhJ1kVAyD/+1LETYMIiDcSJ6TCgREJIQj0mEhI0adaOEoJFjTnRxmJWo7UREkSrDTxKCqzKw0JXNvLB0SmTpt4aH1yP//////3BPJFRo86GiTQdWAhkACSoABCSLoq3QASLVYzMyr+zMGXUm4zVVVVL/Veqqsx7Nk0bKf/+vQp0RPDoKqBo3Dankf/////+Gg77Cp0FQ0C2JQVDtUIAAAJM7cbQOmILSmuPHFFGIGkgBSbzVo7EJFDJAKBUyMEi0SVovJ1o08qROhUBESR5ykEQkPQnCacJf/7UsRnAQlwVvYGGMcBGpQcqJMMGFsin9jf/////9VZF1bIqkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq//tSxHuDyTRCmwzowwAAADSAAAAEqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqo=",_0x39660e="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1DEAAAI9HMsdBMAAaQdrrcY8AIAAAC2MbgAADkAAAQXe/3d3GezyZNNgcLJk77RBO9ggQIIOQIIHN4gBB0hz5QEHYIAgGHiAEAwJAQ4IAg7/y7/5c////BBwIfXVZKN2RMtmNtFIwQAAwHonl5QsUAbBuCTYkGb77ixE2Mi6hwFuZPq+1UO3Hv4b+PCevhTsTvIj+94mlapXG+nld3+rZ+Nfda4jZ/+/77+8Uhf2/z/ffpfN70p9/wcVxbGv5gsKvn//Jr/pOTIuSgJuW4A//tSxAUAC8zTX7mFgAF1JG43EoAAICAABkNDTMzZs/JIctA1l3m6OInGr1S6WM3ZuH4J9zQ7RFHcbDdBoitA7Sweoh31vA8uV2apIxN8u8bUumnWxfMMi74mLbBsbf///+Si5sJSx3/ALgkUikDgiDYUCYDAZAEskwoskyciHnfTYkKDquBoAexF7QLoLjFG1N1QiuDc0lGq0pwBwcBWHZhTr/f+wgForPcT//f5BrQffrE03//7HyW/cTG23////8LfoY5vReqwwAACAm9wSjf/+1LEBQALuGNZvYSACXsSavT0jSiS6/cHvDkw5wpmQO9LqZ3oGl0aFKFkKmE1DUotS2mltV33GMPu1JFL0IMv/4pQUFNkcu2Cjf+9/+EdCCgp/9d+Xwkv/l/guIqEFPhBS7/KHZfz4ur/+4S3CE5N6F3su6FocQs7VCWxFIAkNmTIkklmrlRynQkrqjg5srhKekr5Z36cMpTN3jwnA4IoGoWGn4GEBMEBp9YsVCIWDBMzDGw+GGsdQNGUgQkXAhcECG8If//5NVrLECCAACpAFf/7UsQEgAuQcU2npMqJbyVqPPCKuCTYY6ycRinSjDTO45UaVDKzIc2LYHkMSvRqJ/dntDI21PfY3UoLSIE6nUpfA1VaVCpxKnXn5dsJNO0lmaWx/nylCiJLrnzmeU4jAkWNq8fu//+llVmERzIyILad0RZ6RiaoeYZ0JM/EMlYVBZTpNUXjRnjW+1TE9sxtk0IPCRk0QgCkIyjUQwzO/UoToUifu0dhJoQBHGEvYVTOqISZwkancB+LGdBLxZT4C3mf//tVAcKgIACg4KQTIhm2//tSxAYAC0ifQYYYcQGBm+finoAAIAjB0jFJUVg0O4YyK2rPXiwDqKJ6xtWU8+DNZP7f03R6Vy8dozG8+NeVV2YypC2oeRJ3mhRgWFQoFSKXq7RqB52fF9wHCF2lqZxTv//kg6xQEIwQ3ohrMx/rylR8c/Vt65aaWhjEOJDwAOMQqSYei2HC8HUrkIilHCUohlHqMouL7q1iIaITSd494lbq445VFnRWUaUWwraj0UqkGg4A7IxxyceOqUXPgRGR///8knFYbVSLCwKRWIAgAgD/+1LEBoAMMOVhuJWAAWGNKj+ekAAHark7uTZI8Y3BQSElzY2AmFR2GWiAwWHj7I3s2D2CfKVjy9dy7BFGsdhccgvWa3r+HvvPHKdMbuuet5oyWvNIpzuYv/69ImJon2PvX/LgUBgkA1GUWFMBQAAABATBqDTLkTRChbCWFzJkmVM0JGJVdy3kisLGSZEhTatbrb5SyaHoVipRGjMtEtJsAUJEn9T6aJ7FhZQsHgKKGgZCqfoKxEIgaf0LnmEYkGXqLw84HAAD9WEsK4yk0FYlB//7UsQHgApknUWHsGPBUAwodMMNyUIwisFgKrkxcS1xUq4W3WHz46MOAO6jGaZSyKwJYbMq/kzkk0y2u5JcHQhH3MHOACibNJZKFJuV6rLdCQ6pkmoQuFLFEytOEJANtOAAqh4Iz4QQOl9IEp8ThOgPyueFTWGiXXSDCYLyRQ97xbmxDU22/t6U4o3gbt5k/2Zdq0fXva11z/1Q/edmmv18H7c56zKo7jdFNjezKmdW40QE421AxCxrgmwhkIVOlhQeC0fS2H5LlEh/RpYc94uG//tSxBGAClSnP6ewY8FEGOf0ww3c9Ip3QLTlUsRXezErwrFhv4ZzszPSHNlByqwrF6xi3oQWF/Wq7R1QYB1ISF54di9Se8riaRcKJIA2OwHyQfjSE49xjEwTmxujEtDZcDLPCj0jZWnszBhjachEXoTXIH214/UR7JJlS/jG/r2ufT3MvYMuSHvhO/Ef3oXanbqPBS5FitrcbffSoAYRTEiRFwPB8H0ZnzRo+jEYfEJxLWMCVTKRfyUUYpr/NNLAWMR3mNd9c+wkrmv8L0ls9/v/+1LEHYAKSEdLhiTI+TwUJnDEjV2+jFzj+Kct7tNfOpNzJP99Xc7f8fy//sN26xEN+iAlK4RBcXrnh2GAii15UDwqXD6yKSzWtNMqqoCFVVgJpIxsJEjJtGYTCIlLLc9VJO51jgo6+72r2C1/CKf7rfjqs02NG+bWs97VAVpFJ6AH4dh2DO7piesMrR1HUmk09goFBQUFIjZxpRIkSJpv920iItHGlV6WZ5mZ7bSSs6LTwIDSQQExsktyoKnXD1LWLKNo39Fmvq1tX///WABKgf/7UsQqgAo0nSUmGG0BKZAjpMMOQGoAA0piQWsTLrNnx8uQx1EF2ToqrWDoyXNshKWyaAqcYuMxkqyqt/aKRysoNiLUKGnSwdUbWE+Ik32nUfrd5DV/YqnZ/R/rGEaw3S8pNFRSgJYEQamS4DBWHErBQliSVEtNRYGhMFQ0DWCsOhtZ0lBoS1hu7WdYhfQJS2dz0q4sJXWiLiI9WCuDUO2W/3/p4lJERG2VkQqRBZhERNUifzCu1VXZvCiQEBQFLVPBXSddDS4KlQV0aMFXZLnq//tSxDqDSTBDDgekwwEWiZ4EkI2QgaBp6hEeO2509BVYKyrqtbt3Ep3f7DpENw6qTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr/+1LEUIPAAAGkAAAAIAAANIAAAASqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==",_0x30067d=_0x18e5;(function(h,o){const e=_0x18e5,i=h();for(;[];)try{if(parseInt(e(354))/1+parseInt(e(321))/2*(-parseInt(e(372))/3)+parseInt(e(289))/4*(-parseInt(e(351))/5)+-parseInt(e(259))/6+parseInt(e(254))/7+parseInt(e(281))/8*(parseInt(e(271))/9)+-parseInt(e(251))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x126d,920262);function _0x126d(){const h=["gui_type8","querySelector","clicks_on","all","gui_type2","keydownHandlerBound","contains","audioFiles",".layerA","STRIP","keysDown","dispatchEvent","MORE","start","keyupHandler","keyupHandlerBound","#keyShift","81KliYwR","hideTouchKeyboard","remove","gui_type7","entries","showTouchKeyboard",".kbCtrl","arrayBuffer","audioContext","visible","playSound","getAttribute","destination","cors_query","ShiftRight","mousepadVisible","2392100PgaWjk","cors_hidden_input","Escape","9797494yfBTPO","loadAllAudioFiles","&#x25BD;","isQuest","settings","5598918NmDpmo",".layerC","querySelectorAll","SYSKB","#keyToggle","Shift","CURRENT_SCREEN","touchcancel","gui_type6","showJoystick","#kbCtrlClear","keydown","360FPwCFf","connect","AudioContext is not initialized.","clicks_off",".nostrip","gui_type3","display","block","click",".layerB","161176fPkNAB","audioBuffers","#kbCtrlCross","#keyboardContainer","key","error","gui_type1","textContent","52632fcheVj","data-shift","keyboardStrip","#keyboard","state","keyboardQwerty","charCodeAt","reset","6px","removeEventListener","which","getElementById","EMULATION","MENU","add","isDesktop","AudioContext","Layer","keyup","paddingTop","active","style","forEach","code","hidden","value","initAudioContext",".xx","touchend","resume","type","#kbCtrlArrow","24856DaTcrG","process_input","catch",".key","playSoundHelper","initButtons","keydownHandler","is_loading","classList","&#x25B3;","toggle-keyboard","audioMap","updateMode","touchstart","bind","div#keyboardContainer","#toggle-keyboard","data-code","CAPS","target","0px","innerHTML","suspended","then","map","Mode","gui_type4","QWERTY","visibility","State","485TwjqlE","addEventListener","gui_type5","1498985HFvZeV"];return _0x126d=function(){return h},_0x126d()}function _0x18e5(h,o){const e=_0x126d();return _0x18e5=function(i,c){return i=i-244,e[i]},_0x18e5(h,o)}var pa,ri,Qi,a0,$o,Uf,es,ts,rs,jf,zf,Oc,Fl,Tc,Pl,Dc,Bl,Rc,ql,Fc,Nl,Ei,Ki;const Tn=class Tn{constructor(o){Mt(this,Oc);Mt(this,Tc);Mt(this,Dc);Mt(this,Rc);Mt(this,Fc);Mt(this,Ei);Mt(this,pa,void 0);Mt(this,ri,void 0);Mt(this,Qi,void 0);Mt(this,a0,![]);Mt(this,$o,void 0);sn(this,"audioContext");sn(this,Uf,{});Mt(this,es,void 0);Mt(this,ts,void 0);Mt(this,rs,void 0);const e=_0x30067d;nr(this,Qi,o),this[e(365)]={},this[e(362)]={gui_type1:_0x113512,gui_type2:_0x57e3ad,gui_type3:_0x42cc49,gui_type4:_0x55ae76,gui_type5:_0x25f1ec,gui_type6:_0x2cade7,gui_type7:_0x3a528c,gui_type8:_0x39660e},this[e(332)]={Digit1:"gui_type4",Digit2:e(353),Digit3:"gui_type6",Digit4:e(375),Digit5:e(355),Digit6:"gui_type1",Digit7:e(347),Digit8:e(353),Digit9:e(267),Digit0:"gui_type7",KeyA:"gui_type1",KeyB:e(267),KeyC:e(347),KeyD:e(353),KeyE:e(353),KeyF:e(267),KeyG:e(375),KeyH:e(355),KeyI:"gui_type4",KeyJ:e(287),KeyK:"gui_type4",KeyL:e(353),KeyM:"gui_type8",KeyN:e(375),KeyO:e(353),KeyP:e(267),KeyQ:e(287),KeyR:e(267),KeyS:e(347),KeyT:"gui_type7",KeyU:e(287),KeyW:e(347),KeyV:"gui_type5",KeyX:e(287),KeyY:e(355),KeyZ:e(355),Space:e(287),Enter:e(276),Escape:e(359),Backquote:e(287),Minus:e(287),Equal:e(347),Backspace:e(359),Tab:e(359),CapsLock:e(276),BracketLeft:e(375),BracketRight:e(355),Backslash:"gui_type1",Semicolon:e(267),Quote:"gui_type7",Comma:e(287),Period:"gui_type4",Slash:e(353),ArrowUp:e(287),ArrowLeft:e(347),ArrowRight:e(267),ArrowDown:"gui_type5",Shift:e(276)},this.initAudioContext(),nr(this,pa,Tn[e(346)][e(348)]),this[e(360)]=this.keydownHandler.bind(this),this[e(370)]=this[e(369)][e(335)](this),nr(this,es,ur(this,Tc,Pl).bind(this)),nr(this,ts,ur(this,Rc,ql).bind(this)),nr(this,rs,ur(this,Dc,Bl)[e(335)](this)),ur(this,Oc,Fl).call(this),ur(this,Fc,Nl).call(this),document[e(261)](e(378))[e(311)](c=>{const f=e;c[f(310)][f(308)]=f(341)})}[(Uf=_0x30067d(282),jf=_0x30067d(350),zf=_0x30067d(346),_0x30067d(326))](){const o=_0x30067d;createGuiButton(o(331),"Show Keyboard","Kb",()=>{const e=o;this[e(315)](),setTimeout(()=>{this[e(377)]()},50)},!![],o(316),o(258))}[_0x30067d(357)](){const o=_0x30067d;document[o(352)](o(270),this[o(360)]),document[o(352)](o(307),this[o(370)])}[_0x30067d(274)](){const o=_0x30067d;document[o(298)](o(270),this.keydownHandlerBound),document[o(298)](o(307),this.keyupHandlerBound)}[_0x30067d(315)](){const o=_0x30067d;if(!Ye(this,a0))try{this[o(380)]=new(window[o(305)]||window.webkitAudioContext),this[o(255)](),nr(this,a0,!![])}catch(e){console.error("Failed to initialize AudioContext:",e)}}async loadAllAudioFiles(){const o=_0x30067d,e=Object[o(376)](this[o(362)])[o(345)](([i,c])=>fetch(c)[o(344)](f=>f[o(379)]())[o(344)](f=>this[o(380)].decodeAudioData(f))[o(344)](f=>{const m=o;this[m(282)][i]=f})[o(323)](f=>console[o(286)]("Error loading audio file "+i+":",f)));await Promise[o(358)](e)}playSound(o){const e=_0x30067d;if(!Ye(this,$o)){if(!this.audioContext){console.error(e(273));return}this[e(380)][e(293)]===e(343)?this[e(380)][e(318)]()[e(344)](()=>{this[e(325)](o)})[e(323)](i=>{console.error("Error resuming AudioContext:",i)}):this.playSoundHelper(o)}}[_0x30067d(325)](o){const e=_0x30067d,i=this[e(332)][o],c=this[e(282)][i];if(c){const f=this.audioContext.createBufferSource();f.buffer=c,f[e(272)](this[e(380)][e(247)]),f[e(368)](0)}}[_0x30067d(327)](o){const e=_0x30067d;EnvironmentManager[e(304)]()&&(s(e(336))[e(310)][e(277)]="none"),!this.keysDown[o.code]&&(this.keysDown[o[e(312)]]=!![],this[e(245)](o.code))}[_0x30067d(369)](o){const e=_0x30067d;this[e(365)][o[e(312)]]=![]}[_0x30067d(333)](o){const e=_0x30067d;switch(o){case VME[e(265)][e(302)]:nr(this,$o,![]),document[e(356)](e(292))[e(352)](e(279),Ye(this,es));break;case VME[e(265)][e(301)]:nr(this,$o,!![]),document[e(356)](e(292))[e(298)](e(279),Ye(this,es)),document.querySelector("#keyboard")[e(352)]("touchstart",Ye(this,ts)),document.querySelector("#keyboard")[e(352)](e(317),Ye(this,ts)),document[e(356)](e(269)).addEventListener(e(334),Ye(this,rs)),document[e(356)]("#kbCtrlClear")[e(352)](e(317),Ye(this,rs));break}}toggleTouchKeyboard(){const o=_0x30067d;s(o(284))[o(329)][o(361)](o(244))?this[o(373)]():StorageManager.getValue(o(262))=="1"||EnvironmentManager[o(257)]()?document[o(300)](o(252)).focus():this[o(377)]()}[_0x30067d(377)](){const o=_0x30067d,e=document[o(356)](o(337));e[o(310)][o(349)]="hidden",document[o(261)](".kbCtrl").forEach(c=>{const f=o;c.style.paddingTop=f(297)}),s(o(284))[o(329)].add(o(244))}hideTouchKeyboard(){const o=_0x30067d;UiManager.keyboardVisible=![],UiManager[o(250)]?UiManager.showMousepad():UiManager[o(268)](),document[o(261)](o(378))[o(311)](c=>{const f=o;c[f(310)][f(308)]=f(341)}),s(o(284))[o(329)][o(374)](o(244));const i=document.querySelector(o(337));i[o(310)][o(349)]="visible"}};pa=new WeakMap,ri=new WeakMap,Qi=new WeakMap,a0=new WeakMap,$o=new WeakMap,es=new WeakMap,ts=new WeakMap,rs=new WeakMap,Oc=new WeakSet,Fl=function(){const o=_0x30067d;nr(this,ri,Tn[o(306)].A),document[o(356)](o(320))[o(352)]("click",e=>{const i=o;Ye(this,pa)==Tn[i(346)][i(348)]?(nr(this,pa,Tn[i(346)].STRIP),s(i(292)).classList[i(374)]("keyboardQwerty"),s(i(292))[i(329)][i(303)](i(291)),s(i(320))[i(342)]=i(330),document[i(261)](i(363))[i(311)](function(c){const f=i;c[f(310)][f(349)]=f(244)}),document[i(261)](i(280))[i(311)](function(c){const f=i;c[f(310)][f(349)]=f(244)}),document[i(261)](i(260))[i(311)](function(c){const f=i;c[f(310)][f(349)]=f(244)}),document[i(261)](i(275)).forEach(function(c){const f=i;c[f(310)].display="none"})):Ye(this,pa)==Tn[i(346)][i(364)]&&(nr(this,pa,Tn[i(346)][i(348)]),s(i(292)).classList[i(374)]("keyboardStrip"),s(i(292))[i(329)][i(303)](i(294)),s("#kbCtrlArrow")[i(342)]=i(256),nr(this,ri,Tn[i(306)].A),document.querySelectorAll(i(280))[i(311)](function(c){const f=i;c[f(310)][f(349)]=f(313)}),document[i(261)](i(260))[i(311)](function(c){const f=i;c[f(310)].visibility=f(313)}),document.querySelectorAll(".layerA")[i(311)](function(c){const f=i;c[f(310)][f(349)]=f(244)}),document[i(261)](i(275))[i(311)](function(c){const f=i;c.style[f(277)]=f(278)}))}),document[o(356)]("#kbCtrlClear").addEventListener(o(279),e=>{const i=o;!Ye(this,Qi)[i(328)]()&&Ye(this,Qi)[i(296)]()}),document.querySelector(o(283))[o(352)](o(279),e=>{this[o(373)]()}),document[o(356)]("#keyShift").addEventListener(o(279),e=>{const i=o;Ye(this,ri)==Tn[i(306)].A||(Ye(this,ri)==Tn[i(306)].B?(nr(this,ri,Tn[i(306)].C),document[i(261)](i(280))[i(311)](function(c){const f=i;c[f(310)].visibility="hidden"}),document[i(261)](i(260)).forEach(function(c){const f=i;c[f(310)].visibility=f(244)})):Ye(this,ri)==Tn.Layer.C&&(nr(this,ri,Tn[i(306)].B),document.querySelectorAll(".layerC")[i(311)](function(c){const f=i;c[f(310)][f(349)]="hidden"}),document[i(261)](".layerB").forEach(function(c){const f=i;c[f(310)].visibility=f(244)})))}),document[o(356)](o(263)).addEventListener(o(279),e=>{const i=o;Ye(this,ri)==Tn.Layer.A?(document[i(356)](i(371))[i(342)]=i(367),nr(this,ri,Tn[i(306)].B),document[i(261)](i(363)).forEach(function(c){const f=i;c[f(310)][f(349)]=f(313)}),document[i(261)](i(260)).forEach(function(c){const f=i;c.style[f(349)]=f(313)}),document[i(261)](i(280))[i(311)](function(c){const f=i;c[f(310)][f(349)]=f(244)})):Ye(this,ri)==Tn[i(306)].B&&(nr(this,ri,Tn[i(306)].A),document[i(356)](i(371))[i(342)]=i(339),document[i(261)](i(280))[i(311)](function(c){const f=i;c[f(310)][f(349)]=f(313)}),document[i(261)](i(260))[i(311)](function(c){const f=i;c[f(310)][f(349)]=f(313)}),document[i(261)](i(363))[i(311)](function(c){const f=i;c[f(310)][f(349)]=f(244)}))}),document[o(261)](o(324))[o(311)](function(e){const i=o;e[i(352)](i(334),function(){const c=i;e[c(329)][c(303)]("active")}),e.addEventListener(i(317),function(){const c=i;e[c(329)][c(374)](c(309))}),e.addEventListener(i(266),function(){const c=i;e[c(329)][c(374)](c(309))})})},Tc=new WeakSet,Pl=function(o){const e=_0x30067d,i=o.target;if(i[e(329)][e(361)](e(285))){const c=i[e(246)]("data-value"),f=i[e(246)](e(338));this.playSound(f),!Ye(this,Qi)[e(328)]()&&Ye(this,Qi)[e(322)](c)}},Dc=new WeakSet,Bl=function(o){const e=_0x30067d,i=o[e(319)];i==e(334)?ur(this,Ei,Ki).call(this,e(253),e(253),e(270)):i=="touchend"&&ur(this,Ei,Ki).call(this,"Escape",e(253),e(307))},Rc=new WeakSet,ql=function(o){const e=_0x30067d,i=o[e(319)],c=o[e(340)],f=c.getAttribute("data-value"),m=c[e(246)](e(338));c[e(246)](e(290))?i==e(334)?(ur(this,Ei,Ki).call(this,"Shift","ShiftRight","keydown",{keyCode:16,which:16,shiftKey:!![],location:2}),ur(this,Ei,Ki).call(this,f,m,e(270),{shiftKey:!![],location:2})):i==e(317)&&(ur(this,Ei,Ki).call(this,e(264),e(249),e(307),{keyCode:16,which:16,shiftKey:!![],location:2}),ur(this,Ei,Ki).call(this,f,m,e(307),{shiftKey:!![],location:2})):i==e(334)?ur(this,Ei,Ki).call(this,f,m,e(270)):i=="touchend"&&ur(this,Ei,Ki).call(this,f,m,e(307))},Fc=new WeakSet,Nl=function(){const o=_0x30067d;let e=this;document[o(300)]("cors_hidden_input")[o(352)]("input",function(i){const c=o;var f=document.getElementById(c(248));f[c(288)]=this[c(314)],Ye(e,Qi).parse_hidden_input()})},Ei=new WeakSet,Ki=function(o,e,i,c={}){const f=_0x30067d,m=new KeyboardEvent(i,{key:o,code:e,keyCode:c.keyCode||o[f(295)](0),which:c[f(299)]||o[f(295)](0),shiftKey:c.shiftKey||![],location:c.location||0,bubbles:!![],cancelable:!![]});document[f(366)](m)},sn(Tn,jf,{OFF:0,ON:1}),sn(Tn,zf,{STRIP:0,QWERTY:1}),sn(Tn,"Layer",{A:0,B:1,C:2});let KeyboardManager=Tn;var _0x341b16=_0x2e36;function _0x26ef(){var h=["1BFsWXr","help","1443424SWyvFz","583144AcleZq","706692ruzpBT","show available commands","32853MEwJxh","6CYWlCc","get_help","8727957VgPKBV","print_help","185765hrkfjL","get_keywords","cli","1360359GMvcuO"];return _0x26ef=function(){return h},_0x26ef()}function _0x2e36(h,o){var e=_0x26ef();return _0x2e36=function(i,c){i=i-349;var f=e[i];return f},_0x2e36(h,o)}(function(h,o){for(var e=_0x2e36,i=h();[];)try{var c=-parseInt(e(362))/1*(parseInt(e(350))/2)+-parseInt(e(353))/3+-parseInt(e(351))/4+parseInt(e(358))/5+parseInt(e(354))/6*(-parseInt(e(361))/7)+-parseInt(e(349))/8+parseInt(e(356))/9;if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x26ef,152965);class HelpCommand extends CommandBase{[_0x341b16(359)](){var o=_0x341b16;return[o(363)]}[_0x341b16(355)](){var o=_0x341b16;return["help",o(352)]}process_input(o){var e=_0x341b16;this[e(360)][e(357)]()}}function _0x2be8(h,o){const e=_0x54d3();return _0x2be8=function(i,c){return i=i-425,e[i]},_0x2be8(h,o)}const _0xbbf457=_0x2be8;(function(h,o){const e=_0x2be8,i=h();for(;[];)try{if(-parseInt(e(428))/1*(parseInt(e(437))/2)+parseInt(e(443))/3*(-parseInt(e(433))/4)+-parseInt(e(438))/5*(-parseInt(e(452))/6)+parseInt(e(434))/7*(-parseInt(e(449))/8)+-parseInt(e(435))/9+parseInt(e(430))/10*(parseInt(e(441))/11)+parseInt(e(440))/12*(parseInt(e(425))/13)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x54d3,757303);function _0x54d3(){const h=["setSelectedPlatform","filter","622432mDngDB","platform_name","process_input","30DxVCEA","entries","cli","platform_id","get_help","sys","is_selection_enabled","39247VXTjge","localeCompare","find","22956wFOEOq","switch to system [FILTER]","3963350rAMWBK","reset","updatePlatform","3973132Ibwhos","42FHKogN","12700143Mdmlly","length","22GWkqHc","203065lVsMrr","short_name","13044ANhmWm","11NvwivI","show_results","3xKDvYb","process_selection","toLowerCase","sys [FILTER]"];return _0x54d3=function(){return h},_0x54d3()}var ns;class SystemCommand extends CommandBase{constructor(e){super();Mt(this,ns,void 0);nr(this,ns,e)}get_keywords(){return[_0x2be8(457)]}[_0xbbf457(456)](){const e=_0xbbf457;return[e(446),e(429)]}[_0xbbf457(451)](e){const i=_0xbbf457;let c=[];var f=e[i(448)](Boolean);f[i(436)]==0?c=Object[i(453)](SelectedPlatforms):c=Object[i(453)](SelectedPlatforms)[i(448)](g=>{const Te=i;return g[0][Te(445)]().includes(f[0].toLowerCase())||g[1].platform_name[Te(445)]().includes(f[0][Te(445)]())}),c.sort((g,Te)=>g[1][i(450)][i(426)](Te[1][i(450)]));let m=c.map(g=>{const Te=i;return{id:g[1][Te(455)],label:g[1][Te(439)]+" - "+g[1][Te(450)],data:g[1].platform_id}});this[i(442)](m)}[_0xbbf457(458)](){return!![]}[_0xbbf457(444)](e){const i=_0xbbf457;this[i(454)].set_loading(!![]);let c=Object.values(SelectedPlatforms)[i(427)](f=>f[i(455)]===e.id);Ye(this,ns)[i(447)](c),this.cli[i(431)](),Ye(this,ns)[i(432)]()}}ns=new WeakMap;const _0x24a1a8=_0xc75b;(function(h,o){const e=_0xc75b,i=h();for(;[];)try{if(parseInt(e(289))/1+parseInt(e(314))/2*(-parseInt(e(293))/3)+-parseInt(e(286))/4+-parseInt(e(310))/5+-parseInt(e(296))/6*(parseInt(e(311))/7)+parseInt(e(297))/8+parseInt(e(304))/9===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x34c9,821978);function _0xc75b(h,o){const e=_0x34c9();return _0xc75b=function(i,c){return i=i-282,e[i]},_0xc75b(h,o)}function _0x34c9(){const h=["2174868xbkrxB","Error loading file.","process_selection","996663cRqZIO","list","exit_selection","tags","21vfUNop","data","root","66TXEBTZ","6911416EQDYyt","process_input","filter","show_results","get_keywords","sort","cli","20051064yBLbIh","label","message","set_loading","get_software_dir","list [FILTER]","6031990ksryZw","913661EXYpEl","&nbsp;","selection_changed","23040IPvxnC","get_help","is_selection_enabled","bases","startsWith","length"];return _0x34c9=function(){return h},_0x34c9()}var Ha;class ListCommand extends CommandBase{constructor(e){super();Mt(this,Ha,void 0);nr(this,Ha,e)}[_0x24a1a8(301)](){return[_0x24a1a8(290)]}[_0x24a1a8(315)](){return[_0x24a1a8(309),"list files starting with text"]}[_0x24a1a8(298)](e){const i=_0x24a1a8;if(Ye(this,Ha)[i(308)]()==null){this.cli.soft_msg("To use LIST command please import SOFTWARE DIRECTORY first.");return}let c=Ye(this,Ha)[i(308)](),f=[];var m=e[i(299)](Boolean);if(m.length==0)return;m[i(285)]>0&&(f=c.items[i(299)](Te=>{const Ie=i;return Te[0].toLowerCase()[Ie(284)](m[0].toLowerCase())})),f[i(302)]((Te,Ie)=>{const Oe=i,ne=c[Oe(292)]?c[Oe(292)][Te[1]]:null,De=c[Oe(292)]?c[Oe(292)][Ie[1]]:null;return ne&&De||!ne&&!De?Te[0].localeCompare(Ie[0]):ne?-1:1});let g=f.map(Te=>{const Ie=i,Oe=Te[1],ne=c[Ie(292)]?c[Ie(292)][Oe]:null;let De=Te[0];return{id:c.root+c[Ie(283)][Oe]+Te[2],label:De,tag:ne,data:c[Ie(295)]+c.bases[Oe]+Te[2]}});this[i(300)](g)}[_0x24a1a8(282)](){return!![]}[_0x24a1a8(291)](){return!![]}async[_0x24a1a8(288)](e){const i=_0x24a1a8;this[i(303)][i(307)](!![]);try{await Ye(this,Ha).loadRomFileFromUrl(e[i(294)],e[i(305)])}catch{this[i(303)][i(306)]("LOADING...",i(312),i(287))}}[_0x24a1a8(313)](e){}}Ha=new WeakMap;const _0x3ce8f5=_0x2c89;(function(h,o){const e=_0x2c89,i=h();for(;[];)try{if(-parseInt(e(376))/1*(parseInt(e(357))/2)+parseInt(e(359))/3*(parseInt(e(362))/4)+-parseInt(e(356))/5+parseInt(e(386))/6+parseInt(e(363))/7*(parseInt(e(355))/8)+parseInt(e(366))/9+parseInt(e(391))/10*(parseInt(e(389))/11)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x2cec,908660);var Ji;class FindCommand extends CommandBase{constructor(e){super();Mt(this,Ji,void 0);nr(this,Ji,e)}get_keywords(){return["find"]}[_0x3ce8f5(360)](){const e=_0x3ce8f5;return[e(368),e(378)]}process_input(e){const i=_0x3ce8f5;if(Ye(this,Ji)[i(354)]()==null){this[i(372)][i(381)]("To use FIND command please import SOFTWARE DIRECTORY first.");return}let c=[];var f=e[i(384)](Boolean);if(f.length>0){var m=f[i(371)](".*");if(m[i(388)]<3)return;var g=new RegExp(m,"i");c=Ye(this,Ji)[i(354)]()[i(367)][i(384)](Ie=>g[i(392)](Ie[0]))}c[i(375)]((Ie,Oe)=>{const ne=i,De=Ye(this,Ji).get_software_dir(),Ee=De[ne(383)]?De[ne(383)][Ie[1]]:null,Be=De.tags?De[ne(383)][Oe[1]]:null;return Ee&&Be||!Ee&&!Be?Ie[0][ne(370)](Oe[0]):Ee?-1:1});let Te=c[i(369)](Ie=>{const Oe=i,ne=Ie[1],De=Ye(this,Ji)[Oe(354)](),Ee=De[Oe(383)]?De[Oe(383)][ne]:null;let Be=Ie[0];return{id:De[Oe(364)]+De.bases[ne]+Ie[2],label:Be,tag:Ee,data:De[Oe(364)]+De[Oe(385)][ne]+Ie[2]}});this[i(393)](Te)}[_0x3ce8f5(358)](){return!![]}[_0x3ce8f5(373)](){return!![]}async[_0x3ce8f5(361)](e){const i=_0x3ce8f5;this[i(372)][i(390)](!![]);try{await Ye(this,Ji)[i(377)](e[i(374)],e[i(353)])}catch{this[i(372)][i(387)](i(379),i(365),i(380))}}[_0x3ce8f5(382)](e){}}Ji=new WeakMap;function _0x2c89(h,o){const e=_0x2cec();return _0x2c89=function(i,c){return i=i-353,e[i]},_0x2c89(h,o)}function _0x2cec(){const h=["is_selection_enabled","742902yKFUfx","get_help","process_selection","16uEoXra","46193CtfOZE","root","&nbsp;","753426ALXXse","items","find [FILTER]","map","localeCompare","join","cli","exit_selection","data","sort","1ilcRZU","loadRomFileFromUrl","list filenames containing text","LOADING...","Error loading file.","soft_msg","selection_changed","tags","filter","bases","5350866IRnutt","message","length","1463zOPTmz","set_loading","7420simnAQ","test","show_results","label","get_software_dir","1368IUETuo","8524025JiIrCf","1159422dHzfwO"];return _0x2cec=function(){return h},_0x2cec()}const _0x3d2a44=_0x3980;function _0x3980(h,o){const e=_0x4e0e();return _0x3980=function(i,c){return i=i-327,e[i]},_0x3980(h,o)}function _0x4e0e(){const h=["<p style='margin-left: 1ch;'>","setVisible","includes","clearValue","26406ovcahP","entries","DEFAULT","getValue","get_help","Configuration has been saved.","2379751ruWPfH","1728005bznTks","print","clear","</p>","join","39mHcTNz","storeValue","is_selection_enabled","single or multi line results","&nbsp;","120936UJrnBC","Default value restored.","set [PARAM] [VALUE]","configure system parameter","105LaWHme","Invalid value.","forEach","300637GphANG","enable CRT/LCD screen effect","16VzzvdI","hasOwnProperty","get_keywords","Enter DEFAULT as a value to reset.","cli","onChange","70VMyyTi","SINGLE","542628Pmfdpc","toUpperCase","6518916MizOOE","sort","function","&nbsp;=&nbsp;","length","validValues","is_enter_required","<p style='margin-left: 2ch;'>(&nbsp;","Invalid parameter.","164hSDTYd","set","783mJgwHD","MULTI","&nbsp;)","enable debug information"];return _0x4e0e=function(){return h},_0x4e0e()}(function(h,o){const e=_0x3980,i=h();for(;[];)try{if(-parseInt(e(372))/1+parseInt(e(338))/2*(-parseInt(e(348))/3)+-parseInt(e(374))/4*(parseInt(e(355))/5)+parseInt(e(327))/6*(parseInt(e(369))/7)+-parseInt(e(365))/8*(parseInt(e(340))/9)+-parseInt(e(380))/10*(-parseInt(e(354))/11)+parseInt(e(329))/12*(parseInt(e(360))/13)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x4e0e,780702);var Wa,Ka,Ds;class SetCommand extends CommandBase{constructor(){super(...arguments);Mt(this,Ka);Mt(this,Wa,{SHADER:{validValues:["0","1"],description:_0x3d2a44(373)},LINES:{validValues:[_0x3d2a44(381),_0x3d2a44(341)],description:_0x3d2a44(363)},SYSKB:{validValues:["0","1"],description:"use system touchscreen keyboard"},DEBUG:{validValues:["0","1"],description:_0x3d2a44(343),onChange:e=>{Debug[_0x3d2a44(345)](e==1)}}})}[_0x3d2a44(376)](){return[_0x3d2a44(339)]}[_0x3d2a44(352)](){const e=_0x3d2a44;return[e(367),e(368)]}process_input(e,i){const c=_0x3d2a44;if(!e[c(333)]){this[c(378)][c(356)]("Configure system parameter:"),this.cli[c(356)](c(364)),Object[c(349)](Ye(this,Wa))[c(330)](([Te],[Ie])=>Te.localeCompare(Ie))[c(371)](([Te,Ie])=>{ur(this,Ka,Ds).call(this,Te,Ie)});return}const f=e[0][c(328)](),m=Ye(this,Wa)[f],g=e[1];if(m!=null&&(ur(this,Ka,Ds).call(this,f,m),this.cli[c(356)]("Enter new value and press ENTER."),this[c(378)][c(356)](c(377))),i&&e[c(333)]==2)if(Ye(this,Wa)[c(375)](f)){const Te=Ye(this,Wa)[f];g.toUpperCase()==c(350)?(StorageManager[c(347)](f,g),this.cli[c(357)](),ur(this,Ka,Ds).call(this,f,m),this.cli[c(356)](c(366)),Te.onChange&&typeof Te.onChange===c(331)&&Te.onChange(g)):Te.validValues[c(346)](g[c(328)]())?(StorageManager[c(361)](f,g),this.cli[c(357)](),ur(this,Ka,Ds).call(this,f,m),this[c(378)].print(c(353)),Te.onChange&&typeof Te.onChange===c(331)&&Te[c(379)](g)):(this.cli[c(356)](c(364)),this[c(378)].print(c(370)))}else this[c(378)][c(356)](c(364)),this[c(378)][c(356)](c(337))}[_0x3d2a44(362)](){return![]}[_0x3d2a44(335)](){return![]}}Wa=new WeakMap,Ka=new WeakSet,Ds=function(e,i){const c=_0x3d2a44;let f=StorageManager[c(351)](e[c(328)]()),m="";f!=null&&(m=c(332)+f[c(328)]()),this.cli.print(c(344)+e[c(328)]()+m+c(358)),this[c(378)][c(356)]("<p style='margin-left: 2ch;'>"+i.description+c(358)),this[c(378)].print(c(336)+i[c(334)][c(359)](" | ")+c(342)+c(358)),this[c(378)][c(356)](c(364))};function _0x4934(){const h=["2047491AkJqRx","stopPropagation","loadRomFile","includes","vme_collection","dragging","accepted","addEventListener","cli","click","add","3097675ptqYKa","result","dataTransfer","157448CgEGew","getElementById","1277320nVyEay","dragenter","drop","vme-file-input","body","platform_id","onload","remove","type","loadVmeImportFile",".software","files","readAsArrayBuffer","error","appendChild","endsWith","redraw","target","2oNUJDE","classList","settings","<span class='blinking2'>Drop the file to open it.</span>","Press ENTER to open local file.","bind","parse","6cviaOD","createElement","soft_msg","3009748qZxYtp"," ...","64465nYQkta","clear","importCorsFile","length","process_input","toString","set_loading","onerror","is_selection_enabled","get_help","importFile","dragover","file","10LDHpDe","none","display","Successfully imported ","import/open local file","Loading ","523593gQiQkv","Successfully imported software directory.","name","&nbsp;","dragleave","Failed to read file!","create","forEach","loadCollectionFile","WordArray",".json","message"];return _0x4934=function(){return h},_0x4934()}function _0x5724(h,o){const e=_0x4934();return _0x5724=function(i,c){return i=i-134,e[i]},_0x5724(h,o)}const _0x3c703b=_0x5724;(function(h,o){const e=_0x5724,i=h();for(;[];)try{if(parseInt(e(158))/1*(parseInt(e(138))/2)+-parseInt(e(201))/3+parseInt(e(168))/4+-parseInt(e(170))/5*(-parseInt(e(165))/6)+parseInt(e(135))/7+-parseInt(e(140))/8+-parseInt(e(189))/9*(parseInt(e(183))/10)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x4934,464964);var wi,Pc,Ll,Bc,Ml,qc,Vl,o0,_u,Nc,Ul;class OpenCommand extends CommandBase{constructor(e){super();Mt(this,Pc);Mt(this,Bc);Mt(this,qc);Mt(this,o0);Mt(this,Nc);Mt(this,wi,void 0);nr(this,wi,e),ur(this,Pc,Ll).call(this)}get_keywords(){return["open"]}[_0x3c703b(179)](){return["open",_0x3c703b(187)]}[_0x3c703b(174)](e,i){const c=_0x3c703b;if(!i){this[c(209)][c(171)](),this.cli.print(c(162)),this[c(209)][c(156)]();return}ur(this,Nc,Ul).call(this)}[_0x3c703b(178)](){return![]}is_enter_required(){return!![]}}wi=new WeakMap,Pc=new WeakSet,Ll=function(){const e=_0x5724,i=document.getElementById(e(160));let c=![];[e(141),e(181),e(193),e(142)][e(196)](Ie=>{const Oe=e;i[Oe(208)](Ie,f,![]),document[Oe(144)][Oe(208)](Ie,f,![])}),[e(141),e(181)][e(196)](Ie=>{const Oe=e;i[Oe(208)](Ie,m[Oe(163)](this),![])}),[e(193),e(142)][e(196)](Ie=>{const Oe=e;i[Oe(208)](Ie,g[Oe(163)](this),![])}),i.addEventListener("drop",Te.bind(this),![]);function f(Ie){const Oe=e;Ie.preventDefault(),Ie[Oe(202)]()}function m(Ie){const Oe=e;i[Oe(159)][Oe(134)]("dragging"),!c&&(c=!![],this[Oe(209)][Oe(171)](),this[Oe(209)][Oe(167)](Oe(161)))}function g(Ie){const Oe=e;c=![],this.cli.clear(),i.classList[Oe(147)](Oe(206))}function Te(Ie){const Oe=e,ne=Ie[Oe(137)],De=ne[Oe(151)];De[Oe(173)]>0&&ur(this,Bc,Ml).call(this,De[0])}},Bc=new WeakSet,Ml=function(e){const i=_0x5724;ur(this,o0,_u).call(this,e,e[i(191)])},qc=new WeakSet,Vl=function(e){const i=_0x3c703b;let c=Ye(this,wi).getSelectedPlatform();for(const f of c.dependencies)if(f[i(207)].includes(e))return f},o0=new WeakSet,_u=function(e,i){const c=_0x3c703b;this[c(209)][c(176)](!![]);const f=this;if(i[c(155)](c(199))){const g=new FileReader;g[c(146)]=function(Te){const Ie=c,Oe=Te.target[Ie(136)];let ne=""+Ye(f,wi).getSelectedPlatform()[Ie(145)]+Ie(150);try{let De=JSON[Ie(164)](Oe);Ye(f,wi)[Ie(172)](ne,De),f[Ie(209)][Ie(200)](Ie(192),Ie(190))}catch{f[Ie(209)][Ie(200)](Ie(192),"Failed to read file.","Not a valid software directory file.");return}},g[c(177)]=function(Te){const Ie=c;console[Ie(153)](Ie(194),Te)},g.readAsText(e)}else if(i[c(204)]("vme_import"))Ye(f,wi)[c(149)](e);else if(i[c(204)](c(205)))Ye(f,wi)[c(197)](e);else{var m=new FileReader;m[c(146)]=function(g){var De;const Te=c;var Ie=cryptoJsExports.lib[Te(198)][Te(195)](g[Te(157)].result),Oe=cryptoJsExports.MD5(Ie)[Te(175)]();let ne=ur(De=f,qc,Vl).call(De,Oe);if(ne!=null)Ye(f,wi)[Te(180)](ne.key,e),f[Te(209)][Te(200)](Te(192),Te(186)+ne.type);else{const Ee=new Blob([g[Te(157)][Te(136)]],{type:e.type});Ye(f,wi)[Te(203)](Ee,i)}},m[c(152)](e)}},Nc=new WeakSet,Ul=function(){const e=_0x3c703b,i=this;var c=document[e(166)]("input");c[e(148)]=e(182),c.id=e(143),c.style[e(185)]=e(184),document[e(144)][e(154)](c),document[e(139)](e(143))[e(210)](),document.getElementById(e(143))[e(208)]("change",function(f){var Ie;const m=e;i.cli[m(176)](!![]);var g=f[m(157)][m(151)][0],Te=g[m(191)];i[m(209)][m(171)](),i[m(209)].print(m(188)+Te+m(169)),ur(Ie=i,o0,_u).call(Ie,g,Te)})};const _0x355a7c=_0x3fcd;function _0x3fcd(h,o){const e=_0x4979();return _0x3fcd=function(i,c){return i=i-430,e[i]},_0x3fcd(h,o)}(function(h,o){const e=_0x3fcd,i=h();for(;[];)try{if(parseInt(e(446))/1*(-parseInt(e(434))/2)+parseInt(e(435))/3*(parseInt(e(437))/4)+parseInt(e(436))/5+parseInt(e(447))/6*(parseInt(e(463))/7)+parseInt(e(455))/8+parseInt(e(448))/9*(parseInt(e(433))/10)+parseInt(e(441))/11*(-parseInt(e(430))/12)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x4979,935830);function _0x4979(){const h=["isStandalone","20WnFDlz","2UsCEuG","4214919YzAPLR","3576730TtgDKs","4XpDSpJ","Environment","process_input","get_help","22709797irgOXc","isSmartphone",'<div id="flip-image-outer"><div id="flip-image-container"></div></div>',"&nbsp;[","about","1331719MhyVEx","6YApiSZ","5807124xzYsuM","] Meta Quest Browser","print","isTablet","] Tablet","] Installed","cli","899048LzMslB","&nbsp;",'<a href="https://github.com/gitGalu/vme/blob/main/CHANGES.md">View Changelog</a>',"hasGamepad","show VM/E information","Prerelease",'<a href="https://github.com/gitGalu/VME">Visit Project Website</a>',"get_keywords","5662328qELnlH","12KuRYew","------------"];return _0x4979=function(){return h},_0x4979()}var s0,Lc,jl,Mc,zl;class AboutCommand extends CommandBase{constructor(e){super();Mt(this,Lc);Mt(this,Mc);Mt(this,s0,void 0);nr(this,s0,e)}[_0x355a7c(462)](){return[_0x355a7c(445)]}[_0x355a7c(440)](){const e=_0x355a7c;return[e(445),e(459)]}[_0x355a7c(439)](e){ur(this,Mc,zl).call(this)}}s0=new WeakMap,Lc=new WeakSet,jl=function(e,i){const c=_0x355a7c;this[c(454)][c(450)](c(456)),this.cli[c(450)](c(438)),this[c(454)][c(450)](c(431));let f=EnvironmentManager[c(442)](),m=EnvironmentManager[c(451)](),g=EnvironmentManager.isQuest(),Te=EnvironmentManager[c(458)](),Ie=EnvironmentManager[c(432)]();this.cli[c(450)]("&nbsp;["+(Ie?"x":" ")+c(453)),this[c(454)][c(450)](c(444)+(f?"x":" ")+"] Smartphone"),this[c(454)][c(450)](c(444)+(m?"x":" ")+c(452)),this[c(454)][c(450)](c(444)+(g?"x":" ")+c(449)),this[c(454)][c(450)]("&nbsp;["+(Te?"x":" ")+"] Gamepad / Joystick"),this[c(454)][c(450)](c(456)),this[c(454)][c(450)]("Emulated systems"),this.cli.print("---------------"),Ye(this,s0).checkDependencies(),this[c(454)].redraw()},Mc=new WeakSet,zl=function(){const e=_0x355a7c;this[e(454)][e(450)]("Virtual Machine / Emulator"),this[e(454)][e(450)](e(460)),this.cli[e(450)](e(443)),this[e(454)][e(450)]("Developed by Michal Galinski"),this[e(454)][e(450)](e(456)),this.cli[e(450)]("Built using Nostalgist.js and Libretro."),this[e(454)][e(450)](e(456)),this.cli[e(450)](e(461)),this.cli[e(450)](e(456)),this[e(454)][e(450)](e(457)),this[e(454)][e(450)](e(456)),ur(this,Lc,jl).call(this)};const _0x41363e=_0x197d;(function(h,o){const e=_0x197d,i=h();for(;[];)try{if(parseInt(e(191))/1+parseInt(e(189))/2+-parseInt(e(188))/3+-parseInt(e(187))/4+-parseInt(e(200))/5+-parseInt(e(208))/6+parseInt(e(194))/7===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x25d5,533918);function _0x197d(h,o){const e=_0x25d5();return _0x197d=function(i,c){return i=i-187,e[i]},_0x197d(h,o)}function _0x25d5(){const h=["1155718JuGYRC","parse","898147oUruch","platform_id","message_clear","1079127rbWmPI","caption","process_input","getValue",".LAST_FILE","<p style='margin-left: 1ch;'>","1382185vnXIon","Press ENTER to load:","set_loading","re-launch last program for the selected platform","getSelectedPlatform","cli","filename","Error loading file.","2143812xfjomn","loadRomFileFromUrl","print","600716RJWnoF","936993tdocQv"];return _0x25d5=function(){return h},_0x25d5()}var is,Vc,Hl;class LastCommand extends CommandBase{constructor(e){super();Mt(this,Vc);Mt(this,is,void 0);nr(this,is,e)}get_keywords(){return["l"]}get_help(){return["l",_0x197d(203)]}[_0x41363e(196)](e,i){const c=_0x41363e;let f=StorageManager[c(197)](Ye(this,is)[c(204)]()[c(192)]+c(198),void 0);if(f!=null){const m=JSON[c(190)](f);if(this[c(205)][c(210)](c(201)),this[c(205)][c(210)]("&nbsp;"),this[c(205)].print(c(199)+m[c(195)]),!i)return;ur(this,Vc,Hl).call(this,m[c(206)],m[c(195)])}}}is=new WeakMap,Vc=new WeakSet,Hl=async function(e,i){const c=_0x41363e;this[c(205)][c(202)](!![]);try{await Ye(this,is)[c(209)](e,i)}catch{this[c(205)][c(193)](c(207))}};const _0x98edfa=_0x6f5b;(function(h,o){const e=_0x6f5b,i=h();for(;[];)try{if(parseInt(e(330))/1+-parseInt(e(321))/2*(-parseInt(e(311))/3)+-parseInt(e(335))/4*(-parseInt(e(347))/5)+parseInt(e(306))/6*(-parseInt(e(350))/7)+parseInt(e(332))/8+-parseInt(e(345))/9*(parseInt(e(303))/10)+parseInt(e(331))/11===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x2c47,279411);function _0x6f5b(h,o){const e=_0x2c47();return _0x6f5b=function(i,c){return i=i-303,e[i]},_0x6f5b(h,o)}function _0x2c47(){const h=["innerHTML","extract","31214gpMqBL","show_results","NFD","get_wiki_results","then","Connecting to WikiPedia(tm)...","set_article_mode","forEach","Query + enter to search WikiPedia(tm)","205635ArwORx","1695100JtWewi","1137656OqPQzh","#cors_results","currentIndex","4YGopZu","process_input","keys","&prop=extracts&format=json&origin=*","get_wiki_article","wiki",".wikipedia.org/w/api.php?action=opensearch&search=","https://","get_keywords","&limit=20&namespace=0&format=json&origin=*","18vHXqFV","clear","841860PoLXSO","createElement","print","14wuLCBT","error",`
                #wiki img {
                    display: none;
                }
                #wiki .image, 
                #wiki .caption {
                    display: none;
                }
                #wiki {
                    line-height: 200%;
                }
                #wiki h1, h2, h3, h4, h5, h6 {
                }
            `,"1799470bTlESd","wiki-style","head","795342hpAzEI","length","getElementById","query","style","45uENITN","cli","Error fetching Wikipedia(tm) article:","redraw","append","is_selection_enabled",".wikipedia.org/w/api.php?action=query&titles=","appendChild"];return _0x2c47=function(){return h},_0x2c47()}var c0,Uc,Wl,jc,Kl;class WikiCommand extends CommandBase{constructor(){super(...arguments);Mt(this,Uc);Mt(this,jc);Mt(this,c0,"en")}[_0x98edfa(343)](){return[_0x98edfa(340)]}get_help(){return["wiki [QUERY]","find and read WikiPedia(tm) articles"]}[_0x98edfa(336)](e,i){const c=_0x98edfa;if(i)this.cli[c(346)](),this[c(312)][c(349)](c(326)),this.cli.redraw(),this[c(324)](e.join(" "))[c(325)](f=>{const m=c;f[m(307)]>0?(this[m(334)]=0,this[m(322)](f,!![])):this[m(322)]([])});else{this[c(312)][c(346)](),this[c(312)][c(349)](c(329)),this.cli[c(314)]();return}}exit_selection(){return!![]}process_selection(e){const i=_0x98edfa;this.currentIndex=-1,this.cli[i(327)](!![]),this[i(339)](e.label)[i(325)](c=>{const f=i;this[f(312)][f(346)]();var m=s(f(333));m[f(319)]="",ur(this,Uc,Wl).call(this);var g=document.createElement("div");g.id="wiki",g[f(319)]=c,m[f(315)](g)})}[_0x98edfa(316)](){return!![]}is_enter_required(){return!![]}async get_wiki_results(e){const i=_0x98edfa;try{const c=await fetch(i(342)+Ye(this,c0)+i(341)+e+i(344)),f=await c.json();let m=[];return f[1][i(328)]((g,Te)=>{let Ie={label:f[1][Te],url:f[3][Te]};m.push(Ie)}),m}catch(c){return console.error("Error fetching Wikipedia(tm) results:",c),[]}}async[_0x98edfa(339)](e){const i=_0x98edfa;try{const c=await fetch(i(342)+Ye(this,c0)+i(317)+e+i(338)),f=await c.json(),m=f[i(309)].pages;let g=m[Object[i(337)](m)[0]][i(320)];return g=ur(this,jc,Kl).call(this,g),g}catch(c){console[i(351)](i(313),c)}}}c0=new WeakMap,Uc=new WeakSet,Wl=function(){const e=_0x98edfa;var i=e(304);if(!document[e(308)](i)){var c=document[e(348)](e(310));c.id=i,c[e(319)]=e(352),document[e(305)][e(318)](c)}},jc=new WeakSet,Kl=function(e){const i=_0x98edfa;return e.normalize(i(323)).replace(/[\u0300-\u036f]/g,"")};var _0x51ce28=_0x18f3;(function(h,o){for(var e=_0x18f3,i=h();[];)try{var c=-parseInt(e(326))/1+parseInt(e(325))/2+parseInt(e(323))/3+-parseInt(e(330))/4*(-parseInt(e(316))/5)+-parseInt(e(327))/6+parseInt(e(332))/7*(-parseInt(e(321))/8)+-parseInt(e(329))/9*(-parseInt(e(328))/10);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x3fa3,291771);function _0x3fa3(){var h=["660714SzTWjq","410jAECMa","60039xVhwTc","10776rXpxwq","print","7BuWYKP","get_help","985npRVZw","get_keywords","cli","open","Press ENTER to open Save Browser.","4626992xvtYTo","clear","77490kdUcXa","open save browser","979758eeVLPG","339674SzBwLS"];return _0x3fa3=function(){return h},_0x3fa3()}function _0x18f3(h,o){var e=_0x3fa3();return _0x18f3=function(i,c){i=i-316;var f=e[i];return f},_0x18f3(h,o)}var u0;class RestoreCommand extends CommandBase{constructor(e){super();Mt(this,u0,void 0);nr(this,u0,e)}[_0x51ce28(317)](){return["r"]}[_0x51ce28(333)](){var e=_0x51ce28;return["r",e(324)]}process_input(e,i){var c=_0x51ce28;if(this[c(318)][c(322)](),this.cli[c(331)](c(320)),i)Ye(this,u0)[c(319)]();else return}}u0=new WeakMap;(function(h,o){for(var e=_0xfdea,i=h();[];)try{var c=-parseInt(e(203))/1+parseInt(e(214))/2+-parseInt(e(216))/3*(parseInt(e(213))/4)+parseInt(e(200))/5*(-parseInt(e(207))/6)+-parseInt(e(206))/7*(parseInt(e(215))/8)+parseInt(e(199))/9*(parseInt(e(210))/10)+-parseInt(e(205))/11*(-parseInt(e(202))/12);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x55a8,664909);function _0x55a8(){var h=["2142CIGNqZ","1122666oISVwc","open","print","20EFjwMa","open compilations browser","clear","4BlfPXX","8026UpJcqk","9072xgQwUj","2122149UZINDd","5366682JMGkJr","5MXDMDo","cli","1280100RRnZDQ","997002NVtgBf","Press ENTER to open Compilations Browser.","176aBjnlG"];return _0x55a8=function(){return h},_0x55a8()}function _0xfdea(h,o){var e=_0x55a8();return _0xfdea=function(i,c){i=i-199;var f=e[i];return f},_0xfdea(h,o)}var l0;class BrowseCommand extends CommandBase{constructor(e){super();Mt(this,l0,void 0);nr(this,l0,e)}get_keywords(){return["c"]}get_help(){var e=_0xfdea;return["c",e(211)]}process_input(e,i){var c=_0xfdea;if(this[c(201)][c(212)](),this.cli[c(209)](c(204)),i)Ye(this,l0)[c(208)]();else return}}l0=new WeakMap;let F={};function D(h={}){F={animate:!0,allowClose:!0,overlayOpacity:.7,smoothScroll:!1,disableActiveInteraction:!1,showProgress:!1,stagePadding:10,stageRadius:5,popoverOffset:10,showButtons:["next","previous","close"],disableButtons:[],overlayColor:"#000",...h}}function a(h){return h?F[h]:F}function W(h,o,e,i){return(h/=i/2)<1?e/2*h*h+o:-e/2*(--h*(h-2)-1)+o}function Q(h){const o='a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])';return h.flatMap(e=>{const i=e.matches(o),c=Array.from(e.querySelectorAll(o));return[...i?[e]:[],...c]}).filter(e=>getComputedStyle(e).pointerEvents!=="none"&&ae(e))}function Z(h){if(!h||se(h))return;const o=a("smoothScroll");h.scrollIntoView({behavior:!o||re(h)?"auto":"smooth",inline:"center",block:"center"})}function re(h){if(!h||!h.parentElement)return;const o=h.parentElement;return o.scrollHeight>o.clientHeight}function se(h){const o=h.getBoundingClientRect();return o.top>=0&&o.left>=0&&o.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&o.right<=(window.innerWidth||document.documentElement.clientWidth)}function ae(h){return!!(h.offsetWidth||h.offsetHeight||h.getClientRects().length)}let O={};function b(h,o){O[h]=o}function l(h){return h?O[h]:O}function V(){O={}}let R={};function N(h,o){R[h]=o}function L(h){var o;(o=R[h])==null||o.call(R)}function ce(){R={}}function le(h,o,e,i){let c=l("__activeStagePosition");const f=c||e.getBoundingClientRect(),m=i.getBoundingClientRect(),g=W(h,f.x,m.x-f.x,o),Te=W(h,f.y,m.y-f.y,o),Ie=W(h,f.width,m.width-f.width,o),Oe=W(h,f.height,m.height-f.height,o);c={x:g,y:Te,width:Ie,height:Oe},J(c),b("__activeStagePosition",c)}function G(h){if(!h)return;const o=h.getBoundingClientRect(),e={x:o.x,y:o.y,width:o.width,height:o.height};b("__activeStagePosition",e),J(e)}function de(){const h=l("__activeStagePosition"),o=l("__overlaySvg");if(!h)return;if(!o){console.warn("No stage svg found.");return}const e=window.innerWidth,i=window.innerHeight;o.setAttribute("viewBox",`0 0 ${e} ${i}`)}function pe(h){const o=ue(h);document.body.appendChild(o),te(o,e=>{e.target.tagName==="path"&&L("overlayClick")}),b("__overlaySvg",o)}function J(h){const o=l("__overlaySvg");if(!o){pe(h);return}const e=o.firstElementChild;if((e==null?void 0:e.tagName)!=="path")throw new Error("no path element found in stage svg");e.setAttribute("d",U(h))}function ue(h){const o=window.innerWidth,e=window.innerHeight,i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.classList.add("driver-overlay","driver-overlay-animated"),i.setAttribute("viewBox",`0 0 ${o} ${e}`),i.setAttribute("xmlSpace","preserve"),i.setAttribute("xmlnsXlink","http://www.w3.org/1999/xlink"),i.setAttribute("version","1.1"),i.setAttribute("preserveAspectRatio","xMinYMin slice"),i.style.fillRule="evenodd",i.style.clipRule="evenodd",i.style.strokeLinejoin="round",i.style.strokeMiterlimit="2",i.style.zIndex="10000",i.style.position="fixed",i.style.top="0",i.style.left="0",i.style.width="100%",i.style.height="100%";const c=document.createElementNS("http://www.w3.org/2000/svg","path");return c.setAttribute("d",U(h)),c.style.fill=a("overlayColor")||"rgb(0,0,0)",c.style.opacity=`${a("overlayOpacity")}`,c.style.pointerEvents="auto",c.style.cursor="auto",i.appendChild(c),i}function U(h){const o=window.innerWidth,e=window.innerHeight,i=a("stagePadding")||0,c=a("stageRadius")||0,f=h.width+i*2,m=h.height+i*2,g=Math.min(c,f/2,m/2),Te=Math.floor(Math.max(g,0)),Ie=h.x-i+Te,Oe=h.y-i,ne=f-Te*2,De=m-Te*2;return`M${o},0L0,0L0,${e}L${o},${e}L${o},0Z
    M${Ie},${Oe} h${ne} a${Te},${Te} 0 0 1 ${Te},${Te} v${De} a${Te},${Te} 0 0 1 -${Te},${Te} h-${ne} a${Te},${Te} 0 0 1 -${Te},-${Te} v-${De} a${Te},${Te} 0 0 1 ${Te},-${Te} z`}function ve(){const h=l("__overlaySvg");h&&h.remove()}function fe(){const h=document.getElementById("driver-dummy-element");if(h)return h;let o=document.createElement("div");return o.id="driver-dummy-element",o.style.width="0",o.style.height="0",o.style.pointerEvents="none",o.style.opacity="0",o.style.position="fixed",o.style.top="50%",o.style.left="50%",document.body.appendChild(o),o}function K(h){const{element:o}=h;let e=typeof o=="string"?document.querySelector(o):o;e||(e=fe()),ge(e,h)}function he(){const h=l("__activeElement"),o=l("__activeStep");h&&(G(h),de(),ie(h,o))}function ge(h,o){const e=Date.now(),i=l("__activeStep"),c=l("__activeElement")||h,f=!c||c===h,m=h.id==="driver-dummy-element",g=c.id==="driver-dummy-element",Te=a("animate"),Ie=o.onHighlightStarted||a("onHighlightStarted"),Oe=(o==null?void 0:o.onHighlighted)||a("onHighlighted"),ne=(i==null?void 0:i.onDeselected)||a("onDeselected"),De=a(),Ee=l();!f&&ne&&ne(g?void 0:c,i,{config:De,state:Ee}),Ie&&Ie(m?void 0:h,o,{config:De,state:Ee});const Be=!f&&Te;let Fe=!1;xe(),b("previousStep",i),b("previousElement",c),b("activeStep",o),b("activeElement",h);const Ne=()=>{if(l("__transitionCallback")!==Ne)return;const Ve=Date.now()-e,Ue=400-Ve<=400/2;o.popover&&Ue&&!Fe&&Be&&(X(h,o),Fe=!0),a("animate")&&Ve<400?le(Ve,400,c,h):(G(h),Oe&&Oe(m?void 0:h,o,{config:a(),state:l()}),b("__transitionCallback",void 0),b("__previousStep",i),b("__previousElement",c),b("__activeStep",o),b("__activeElement",h)),window.requestAnimationFrame(Ne)};b("__transitionCallback",Ne),window.requestAnimationFrame(Ne),Z(h),!Be&&o.popover&&X(h,o),c.classList.remove("driver-active-element","driver-no-interaction"),c.removeAttribute("aria-haspopup"),c.removeAttribute("aria-expanded"),c.removeAttribute("aria-controls"),a("disableActiveInteraction")&&h.classList.add("driver-no-interaction"),h.classList.add("driver-active-element"),h.setAttribute("aria-haspopup","dialog"),h.setAttribute("aria-expanded","true"),h.setAttribute("aria-controls","driver-popover-content")}function we(){var h;(h=document.getElementById("driver-dummy-element"))==null||h.remove(),document.querySelectorAll(".driver-active-element").forEach(o=>{o.classList.remove("driver-active-element","driver-no-interaction"),o.removeAttribute("aria-haspopup"),o.removeAttribute("aria-expanded"),o.removeAttribute("aria-controls")})}function I(){const h=l("__resizeTimeout");h&&window.cancelAnimationFrame(h),b("__resizeTimeout",window.requestAnimationFrame(he))}function me(h){var o;if(!l("isInitialized")||!(h.key==="Tab"||h.keyCode===9))return;const e=l("__activeElement"),i=(o=l("popover"))==null?void 0:o.wrapper,c=Q([...i?[i]:[],...e?[e]:[]]),f=c[0],m=c[c.length-1];if(h.preventDefault(),h.shiftKey){const g=c[c.indexOf(document.activeElement)-1]||m;g==null||g.focus()}else{const g=c[c.indexOf(document.activeElement)+1]||f;g==null||g.focus()}}function ee(h){var o;((o=a("allowKeyboardControl"))==null||o)&&(h.key==="Escape"?L("escapePress"):h.key==="ArrowRight"?L("arrowRightPress"):h.key==="ArrowLeft"&&L("arrowLeftPress"))}function te(h,o,e){const i=(c,f)=>{const m=c.target;h.contains(m)&&((!e||e(m))&&(c.preventDefault(),c.stopPropagation(),c.stopImmediatePropagation()),f==null||f(c))};document.addEventListener("pointerdown",i,!0),document.addEventListener("mousedown",i,!0),document.addEventListener("pointerup",i,!0),document.addEventListener("mouseup",i,!0),document.addEventListener("click",c=>{i(c,o)},!0)}function ye(){window.addEventListener("keyup",ee,!1),window.addEventListener("keydown",me,!1),window.addEventListener("resize",I),window.addEventListener("scroll",I)}function be(){window.removeEventListener("keyup",ee),window.removeEventListener("resize",I),window.removeEventListener("scroll",I)}function xe(){const h=l("popover");h&&(h.wrapper.style.display="none")}function X(h,o){var e,i;let c=l("popover");c&&document.body.removeChild(c.wrapper),c=Pe(),document.body.appendChild(c.wrapper);const{title:f,description:m,showButtons:g,disableButtons:Te,showProgress:Ie,nextBtnText:Oe=a("nextBtnText")||"Next &rarr;",prevBtnText:ne=a("prevBtnText")||"&larr; Previous",progressText:De=a("progressText")||"{current} of {total}"}=o.popover||{};c.nextButton.innerHTML=Oe,c.previousButton.innerHTML=ne,c.progress.innerHTML=De,f?(c.title.innerHTML=f,c.title.style.display="block"):c.title.style.display="none",m?(c.description.innerHTML=m,c.description.style.display="block"):c.description.style.display="none";const Ee=g||a("showButtons"),Be=Ie||a("showProgress")||!1,Fe=(Ee==null?void 0:Ee.includes("next"))||(Ee==null?void 0:Ee.includes("previous"))||Be;c.closeButton.style.display=Ee.includes("close")?"block":"none",Fe?(c.footer.style.display="flex",c.progress.style.display=Be?"block":"none",c.nextButton.style.display=Ee.includes("next")?"block":"none",c.previousButton.style.display=Ee.includes("previous")?"block":"none"):c.footer.style.display="none";const Ne=Te||a("disableButtons")||[];Ne!=null&&Ne.includes("next")&&(c.nextButton.disabled=!0,c.nextButton.classList.add("driver-popover-btn-disabled")),Ne!=null&&Ne.includes("previous")&&(c.previousButton.disabled=!0,c.previousButton.classList.add("driver-popover-btn-disabled")),Ne!=null&&Ne.includes("close")&&(c.closeButton.disabled=!0,c.closeButton.classList.add("driver-popover-btn-disabled"));const Ve=c.wrapper;Ve.style.display="block",Ve.style.left="",Ve.style.top="",Ve.style.bottom="",Ve.style.right="",Ve.id="driver-popover-content",Ve.setAttribute("role","dialog"),Ve.setAttribute("aria-labelledby","driver-popover-title"),Ve.setAttribute("aria-describedby","driver-popover-description");const Ue=c.arrow;Ue.className="driver-popover-arrow";const We=((e=o.popover)==null?void 0:e.popoverClass)||a("popoverClass")||"";Ve.className=`driver-popover ${We}`.trim(),te(c.wrapper,tt=>{var gt,vt,rt;const ht=tt.target,it=((gt=o.popover)==null?void 0:gt.onNextClick)||a("onNextClick"),mt=((vt=o.popover)==null?void 0:vt.onPrevClick)||a("onPrevClick"),Ze=((rt=o.popover)==null?void 0:rt.onCloseClick)||a("onCloseClick");if(ht.classList.contains("driver-popover-next-btn"))return it?it(h,o,{config:a(),state:l()}):L("nextClick");if(ht.classList.contains("driver-popover-prev-btn"))return mt?mt(h,o,{config:a(),state:l()}):L("prevClick");if(ht.classList.contains("driver-popover-close-btn"))return Ze?Ze(h,o,{config:a(),state:l()}):L("closeClick")},tt=>!(c!=null&&c.description.contains(tt))&&!(c!=null&&c.title.contains(tt))&&typeof tt.className=="string"&&tt.className.includes("driver-popover")),b("popover",c);const He=((i=o.popover)==null?void 0:i.onPopoverRender)||a("onPopoverRender");He&&He(c,{config:a(),state:l()}),ie(h,o),Z(Ve);const Xe=h.classList.contains("driver-dummy-element"),ot=Q([Ve,...Xe?[]:[h]]);ot.length>0&&ot[0].focus()}function oe(){const h=l("popover");if(!(h!=null&&h.wrapper))return;const o=h.wrapper.getBoundingClientRect(),e=a("stagePadding")||0,i=a("popoverOffset")||0;return{width:o.width+e+i,height:o.height+e+i,realWidth:o.width,realHeight:o.height}}function Y(h,o){const{elementDimensions:e,popoverDimensions:i,popoverPadding:c,popoverArrowDimensions:f}=o;return h==="start"?Math.max(Math.min(e.top-c,window.innerHeight-i.realHeight-f.width),f.width):h==="end"?Math.max(Math.min(e.top-(i==null?void 0:i.realHeight)+e.height+c,window.innerHeight-(i==null?void 0:i.realHeight)-f.width),f.width):h==="center"?Math.max(Math.min(e.top+e.height/2-(i==null?void 0:i.realHeight)/2,window.innerHeight-(i==null?void 0:i.realHeight)-f.width),f.width):0}function j(h,o){const{elementDimensions:e,popoverDimensions:i,popoverPadding:c,popoverArrowDimensions:f}=o;return h==="start"?Math.max(Math.min(e.left-c,window.innerWidth-i.realWidth-f.width),f.width):h==="end"?Math.max(Math.min(e.left-(i==null?void 0:i.realWidth)+e.width+c,window.innerWidth-(i==null?void 0:i.realWidth)-f.width),f.width):h==="center"?Math.max(Math.min(e.left+e.width/2-(i==null?void 0:i.realWidth)/2,window.innerWidth-(i==null?void 0:i.realWidth)-f.width),f.width):0}function ie(h,o){const e=l("popover");if(!e)return;const{align:i="start",side:c="left"}=(o==null?void 0:o.popover)||{},f=i,m=h.id==="driver-dummy-element"?"over":c,g=a("stagePadding")||0,Te=oe(),Ie=e.arrow.getBoundingClientRect(),Oe=h.getBoundingClientRect(),ne=Oe.top-Te.height;let De=ne>=0;const Ee=window.innerHeight-(Oe.bottom+Te.height);let Be=Ee>=0;const Fe=Oe.left-Te.width;let Ne=Fe>=0;const Ve=window.innerWidth-(Oe.right+Te.width);let Ue=Ve>=0;const We=!De&&!Be&&!Ne&&!Ue;let He=m;if(m==="top"&&De?Ue=Ne=Be=!1:m==="bottom"&&Be?Ue=Ne=De=!1:m==="left"&&Ne?Ue=De=Be=!1:m==="right"&&Ue&&(Ne=De=Be=!1),m==="over"){const Xe=window.innerWidth/2-Te.realWidth/2,ot=window.innerHeight/2-Te.realHeight/2;e.wrapper.style.left=`${Xe}px`,e.wrapper.style.right="auto",e.wrapper.style.top=`${ot}px`,e.wrapper.style.bottom="auto"}else if(We){const Xe=window.innerWidth/2-(Te==null?void 0:Te.realWidth)/2,ot=10;e.wrapper.style.left=`${Xe}px`,e.wrapper.style.right="auto",e.wrapper.style.bottom=`${ot}px`,e.wrapper.style.top="auto"}else if(Ne){const Xe=Math.min(Fe,window.innerWidth-(Te==null?void 0:Te.realWidth)-Ie.width),ot=Y(f,{elementDimensions:Oe,popoverDimensions:Te,popoverPadding:g,popoverArrowDimensions:Ie});e.wrapper.style.left=`${Xe}px`,e.wrapper.style.top=`${ot}px`,e.wrapper.style.bottom="auto",e.wrapper.style.right="auto",He="left"}else if(Ue){const Xe=Math.min(Ve,window.innerWidth-(Te==null?void 0:Te.realWidth)-Ie.width),ot=Y(f,{elementDimensions:Oe,popoverDimensions:Te,popoverPadding:g,popoverArrowDimensions:Ie});e.wrapper.style.right=`${Xe}px`,e.wrapper.style.top=`${ot}px`,e.wrapper.style.bottom="auto",e.wrapper.style.left="auto",He="right"}else if(De){const Xe=Math.min(ne,window.innerHeight-Te.realHeight-Ie.width);let ot=j(f,{elementDimensions:Oe,popoverDimensions:Te,popoverPadding:g,popoverArrowDimensions:Ie});e.wrapper.style.top=`${Xe}px`,e.wrapper.style.left=`${ot}px`,e.wrapper.style.bottom="auto",e.wrapper.style.right="auto",He="top"}else if(Be){const Xe=Math.min(Ee,window.innerHeight-(Te==null?void 0:Te.realHeight)-Ie.width);let ot=j(f,{elementDimensions:Oe,popoverDimensions:Te,popoverPadding:g,popoverArrowDimensions:Ie});e.wrapper.style.left=`${ot}px`,e.wrapper.style.bottom=`${Xe}px`,e.wrapper.style.top="auto",e.wrapper.style.right="auto",He="bottom"}We?e.arrow.classList.add("driver-popover-arrow-none"):Ce(f,He,h)}function Ce(h,o,e){const i=l("popover");if(!i)return;const c=e.getBoundingClientRect(),f=oe(),m=i.arrow,g=f.width,Te=window.innerWidth,Ie=c.width,Oe=c.left,ne=f.height,De=window.innerHeight,Ee=c.top,Be=c.height;m.className="driver-popover-arrow";let Fe=o,Ne=h;o==="top"?(Oe+Ie<=0?(Fe="right",Ne="end"):Oe+Ie-g<=0&&(Fe="top",Ne="start"),Oe>=Te?(Fe="left",Ne="end"):Oe+g>=Te&&(Fe="top",Ne="end")):o==="bottom"?(Oe+Ie<=0?(Fe="right",Ne="start"):Oe+Ie-g<=0&&(Fe="bottom",Ne="start"),Oe>=Te?(Fe="left",Ne="start"):Oe+g>=Te&&(Fe="bottom",Ne="end")):o==="left"?(Ee+Be<=0?(Fe="bottom",Ne="end"):Ee+Be-ne<=0&&(Fe="left",Ne="start"),Ee>=De?(Fe="top",Ne="end"):Ee+ne>=De&&(Fe="left",Ne="end")):o==="right"&&(Ee+Be<=0?(Fe="bottom",Ne="start"):Ee+Be-ne<=0&&(Fe="right",Ne="start"),Ee>=De?(Fe="top",Ne="start"):Ee+ne>=De&&(Fe="right",Ne="end")),Fe?(m.classList.add(`driver-popover-arrow-side-${Fe}`),m.classList.add(`driver-popover-arrow-align-${Ne}`)):m.classList.add("driver-popover-arrow-none")}function Pe(){const h=document.createElement("div");h.classList.add("driver-popover");const o=document.createElement("div");o.classList.add("driver-popover-arrow");const e=document.createElement("header");e.id="driver-popover-title",e.classList.add("driver-popover-title"),e.style.display="none",e.innerText="Popover Title";const i=document.createElement("div");i.id="driver-popover-description",i.classList.add("driver-popover-description"),i.style.display="none",i.innerText="Popover description is here";const c=document.createElement("button");c.type="button",c.classList.add("driver-popover-close-btn"),c.setAttribute("aria-label","Close"),c.innerHTML="&times;";const f=document.createElement("footer");f.classList.add("driver-popover-footer");const m=document.createElement("span");m.classList.add("driver-popover-progress-text"),m.innerText="";const g=document.createElement("span");g.classList.add("driver-popover-navigation-btns");const Te=document.createElement("button");Te.type="button",Te.classList.add("driver-popover-prev-btn"),Te.innerHTML="&larr; Previous";const Ie=document.createElement("button");return Ie.type="button",Ie.classList.add("driver-popover-next-btn"),Ie.innerHTML="Next &rarr;",g.appendChild(Te),g.appendChild(Ie),f.appendChild(m),f.appendChild(g),h.appendChild(c),h.appendChild(o),h.appendChild(e),h.appendChild(i),h.appendChild(f),{wrapper:h,arrow:o,title:e,description:i,footer:f,previousButton:Te,nextButton:Ie,closeButton:c,footerButtons:g,progress:m}}function Se(){var h;const o=l("popover");o&&((h=o.wrapper.parentElement)==null||h.removeChild(o.wrapper))}function ke(h={}){D(h);function o(){a("allowClose")&&Ie()}function e(){const Oe=l("activeIndex"),ne=a("steps")||[];if(typeof Oe>"u")return;const De=Oe+1;ne[De]?Te(De):Ie()}function i(){const Oe=l("activeIndex"),ne=a("steps")||[];if(typeof Oe>"u")return;const De=Oe-1;ne[De]?Te(De):Ie()}function c(Oe){(a("steps")||[])[Oe]?Te(Oe):Ie()}function f(){var Oe;if(l("__transitionCallback"))return;const ne=l("activeIndex"),De=l("__activeStep"),Ee=l("__activeElement");if(typeof ne>"u"||typeof De>"u"||typeof l("activeIndex")>"u")return;const Be=((Oe=De.popover)==null?void 0:Oe.onPrevClick)||a("onPrevClick");if(Be)return Be(Ee,De,{config:a(),state:l()});i()}function m(){var Oe;if(l("__transitionCallback"))return;const ne=l("activeIndex"),De=l("__activeStep"),Ee=l("__activeElement");if(typeof ne>"u"||typeof De>"u")return;const Be=((Oe=De.popover)==null?void 0:Oe.onNextClick)||a("onNextClick");if(Be)return Be(Ee,De,{config:a(),state:l()});e()}function g(){l("isInitialized")||(b("isInitialized",!0),document.body.classList.add("driver-active",a("animate")?"driver-fade":"driver-simple"),ye(),N("overlayClick",o),N("escapePress",o),N("arrowLeftPress",f),N("arrowRightPress",m))}function Te(Oe=0){var ne,De,Ee,Be,Fe,Ne,Ve,Ue;const We=a("steps");if(!We){console.error("No steps to drive through"),Ie();return}if(!We[Oe]){Ie();return}b("__activeOnDestroyed",document.activeElement),b("activeIndex",Oe);const He=We[Oe],Xe=We[Oe+1],ot=We[Oe-1],tt=((ne=He.popover)==null?void 0:ne.doneBtnText)||a("doneBtnText")||"Done",gt=a("allowClose"),vt=typeof((De=He.popover)==null?void 0:De.showProgress)<"u"?(Ee=He.popover)==null?void 0:Ee.showProgress:a("showProgress"),rt=(((Be=He.popover)==null?void 0:Be.progressText)||a("progressText")||"{{current}} of {{total}}").replace("{{current}}",`${Oe+1}`).replace("{{total}}",`${We.length}`),ht=((Fe=He.popover)==null?void 0:Fe.showButtons)||a("showButtons"),it=["next","previous",...gt?["close"]:[]].filter(Zt=>!(ht!=null&&ht.length)||ht.includes(Zt)),mt=((Ne=He.popover)==null?void 0:Ne.onNextClick)||a("onNextClick"),Ze=((Ve=He.popover)==null?void 0:Ve.onPrevClick)||a("onPrevClick"),Ft=((Ue=He.popover)==null?void 0:Ue.onCloseClick)||a("onCloseClick");K({...He,popover:{showButtons:it,nextBtnText:Xe?void 0:tt,disableButtons:[...ot?[]:["previous"]],showProgress:vt,progressText:rt,onNextClick:mt||(()=>{Xe?Te(Oe+1):Ie()}),onPrevClick:Ze||(()=>{Te(Oe-1)}),onCloseClick:Ft||(()=>{Ie()}),...(He==null?void 0:He.popover)||{}}})}function Ie(Oe=!0){const ne=l("__activeElement"),De=l("__activeStep"),Ee=l("__activeOnDestroyed"),Be=a("onDestroyStarted");if(Oe&&Be){const Ve=!ne||(ne==null?void 0:ne.id)==="driver-dummy-element";Be(Ve?void 0:ne,De,{config:a(),state:l()});return}const Fe=(De==null?void 0:De.onDeselected)||a("onDeselected"),Ne=a("onDestroyed");if(document.body.classList.remove("driver-active","driver-fade","driver-simple"),be(),Se(),we(),ve(),ce(),V(),ne&&De){const Ve=ne.id==="driver-dummy-element";Fe&&Fe(Ve?void 0:ne,De,{config:a(),state:l()}),Ne&&Ne(Ve?void 0:ne,De,{config:a(),state:l()})}Ee&&Ee.focus()}return{isActive:()=>l("isInitialized")||!1,refresh:I,drive:(Oe=0)=>{g(),Te(Oe)},setConfig:D,setSteps:Oe=>{V(),D({...a(),steps:Oe})},getConfig:a,getState:l,getActiveIndex:()=>l("activeIndex"),isFirstStep:()=>l("activeIndex")===0,isLastStep:()=>{const Oe=a("steps")||[],ne=l("activeIndex");return ne!==void 0&&ne===Oe.length-1},getActiveStep:()=>l("activeStep"),getActiveElement:()=>l("activeElement"),getPreviousElement:()=>l("previousElement"),getPreviousStep:()=>l("previousStep"),moveNext:e,movePrevious:i,moveTo:c,hasNextStep:()=>{const Oe=a("steps")||[],ne=l("activeIndex");return ne!==void 0&&Oe[ne+1]},hasPreviousStep:()=>{const Oe=a("steps")||[],ne=l("activeIndex");return ne!==void 0&&Oe[ne-1]},highlight:Oe=>{g(),K({...Oe,popover:Oe.popover?{showButtons:[],showProgress:!1,progressText:"",...Oe.popover}:void 0})},destroy:()=>{Ie(!1)}}}const driver="";function _0x16ff(){const h=["querySelector","#menu-item-help","Open Save Browser","inject","full-screen","Switch platforms","<p>Click here to browse software compilations.</p>","exitFullscreen","webkitRequestFullscreen","About VM/E","458658zymxCn","#menu-item-open","#toggle-keyboard","msFullscreenElement","List available commands","fullscreenElement",'<p>Click here to display the "About VM/E" information, including credits and licensing details.</p>',"menu-item-savestates","webkitExitFullscreen","start","addCollectionButton","<p>Use the VM/E shell by entering CLI commands or performing search queries.</p><p>If you have imported a software list for the current platform, you can start typing the name of the file you are looking for. After entering a few characters, you will see a list of files that match your search query.</p>","addFsButton","#menu-item-savestates","mozRequestFullScreen","msExitFullscreen","60GZTGlO","<p>Click here to browse and load save states.</p>","#cors_interface","696273mbFdor","mozFullScreenElement","<p>Click here to open the system file dialog, where you can load a program to run and import programs and VME files.</p><p>You can import *vme_import*.zip files. These files contain a list of software for one or multiple platforms, which you can easily access from the VM/E Shell by typing a few letters of the desired programs`s name.</p>","addSaveBrowserButton","msRequestFullscreen","<p>Click here to display the list of available emulated platforms.</p>","Fullscreen","504404jfcosp","right","addOpenButton","176575mFwUGB","#menu-item-system","addTourButton","requestFullscreen","#full-screen","Import file","112jesWEe","about","addHelpButton","drive","push","menu-item-about","Open Compilations Browser","2635990CsKQSa","addButtons","open","2WBpAEZ","<p>Click here to toggle fullscreen mode on and off.</p>","2350ykIRPq","webkitFullscreenElement","addSystemButton","#menu-item-compilations","sys ","#menu-item-about","menu-item-system","help","29282IlVrpQ","mozCancelFullScreen","documentElement","218664VzMZpH","addAboutButton","Toggle fullscreen","VM/E CLI Shell","menu-item-open"];return _0x16ff=function(){return h},_0x16ff()}const _0x45294c=_0x3774;function _0x3774(h,o){const e=_0x16ff();return _0x3774=function(i,c){return i=i-498,e[i]},_0x3774(h,o)}(function(h,o){const e=_0x3774,i=h();for(;[];)try{if(-parseInt(e(528))/1+parseInt(e(547))/2*(parseInt(e(521))/3)+-parseInt(e(518))/4*(-parseInt(e(531))/5)+-parseInt(e(502))/6+parseInt(e(544))/7+parseInt(e(537))/8*(parseInt(e(560))/9)+parseInt(e(549))/10*(-parseInt(e(557))/11)===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x16ff,272113);var Ni;class ButtonManager{constructor(o){Mt(this,Ni,void 0);nr(this,Ni,o)}[_0x45294c(545)](){const o=_0x45294c;this[o(551)](),this[o(539)](),this[o(524)](),this[o(512)](),this[o(530)](),this[o(514)](),this[o(561)](),this[o(533)]()}[_0x45294c(551)](){const o=_0x45294c;createGuiButton(o(555),"S","S",()=>{const e=o;Ye(this,Ni)[e(568)](e(553))})}addHelpButton(){createGuiButton("menu-item-help","H","H",()=>{const o=_0x3774;Ye(this,Ni)[o(568)](o(556))})}[_0x45294c(524)](){createGuiButton(_0x45294c(509),"R","R",()=>{Ye(this,Ni).inject("r",!![])})}[_0x45294c(512)](){createGuiButton("menu-item-compilations","C","C",()=>{const o=_0x3774;Ye(this,Ni)[o(568)]("c",!![])})}addOpenButton(){const o=_0x45294c;createGuiButton(o(564),"O","O",()=>{const e=o;Ye(this,Ni)[e(568)](e(546),!![])})}[_0x45294c(561)](){const o=_0x45294c;createGuiButton(o(542),"A","A",()=>{const e=o;Ye(this,Ni)[e(568)](e(538))})}addFsButton(){const o=_0x45294c;EnvironmentManager.isQuest()&&createGuiButton(o(569),o(527),"Fs",()=>{const e=o;let i=document[e(559)];const c=()=>{const m=e;i.requestFullscreen?i[m(534)]():i[m(516)]?i.mozRequestFullScreen():i[m(500)]?i.webkitRequestFullscreen():i[m(525)]&&i[m(525)]()},f=()=>{const m=e;document[m(499)]?document[m(499)]():document[m(558)]?document.mozCancelFullScreen():document[m(510)]?document.webkitExitFullscreen():document.msExitFullscreen&&document[m(517)]()};!document[e(507)]&&!document[e(522)]&&!document[e(550)]&&!document[e(505)]?c():f()})}[_0x45294c(533)](){createGuiButton("menu-item-tour","?","?",()=>{const o=_0x3774,e=[];e[o(541)]({element:o(532),popover:{title:o(570),description:o(526),side:"right",align:o(511)}}),e[o(541)]({element:o(566),popover:{title:o(506),description:"<p>Click here to show the list of available CLI commands.</p><p>Some commands require confirmation by pressing ENTER, while others update the results automatically as you type.</p>",side:"right",align:"start"}}),e[o(541)]({element:o(515),popover:{title:o(567),description:o(519),side:o(529),align:"start"}}),document[o(565)]("#full-screen")&&e.push({element:o(535),popover:{title:o(562),description:o(548),side:o(529),align:o(511)}}),document[o(565)](o(535))&&e[o(541)]({element:o(504),popover:{title:"Toggle on-screen keyboard",description:"<p>Click here to show the on-screen keyboard.</p>",side:o(529),align:"start"}}),e.push({element:o(552),popover:{title:o(543),description:o(498),side:"right",align:o(511)}}),e[o(541)]({element:o(503),popover:{title:o(536),description:o(523),side:"right",align:"start"}}),e[o(541)]({element:o(554),popover:{title:o(501),description:o(508),side:o(529),align:"start"}}),e[o(541)]({element:o(520),popover:{title:o(563),description:o(513),side:o(529),align:"start"}}),ke({animate:![],showProgress:![],overlayOpacity:"0.66",stagePadding:10,smoothScroll:![],steps:e})[o(540)]()})}}Ni=new WeakMap;const _0x24fb7b=_0x2555;(function(h,o){const e=_0x2555,i=h();for(;[];)try{if(parseInt(e(251))/1+-parseInt(e(225))/2+-parseInt(e(207))/3*(parseInt(e(266))/4)+parseInt(e(193))/5*(-parseInt(e(236))/6)+-parseInt(e(238))/7*(-parseInt(e(217))/8)+-parseInt(e(262))/9+parseInt(e(227))/10===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x18bb,661532);function _0x2555(h,o){const e=_0x18bb();return _0x2555=function(i,c){return i=i-190,e[i]},_0x2555(h,o)}var yn,_i,zc,Vn,Ya,Si,f0,Ga,Hf,Wf,Kf,Hc,Yl,Wc,Gl;const si=class si{constructor(){Mt(this,Hc);Mt(this,Wc);Mt(this,yn,void 0);Mt(this,_i,void 0);Mt(this,zc,void 0);Mt(this,Vn,void 0);Mt(this,Ya,void 0);Mt(this,Si,void 0);Mt(this,f0,void 0);Mt(this,Ga,void 0);const o=_0x24fb7b;if(window[o(228)]=function(){const i=o;document.body[i(255)][i(214)](i(210))},ur(this,Wc,Gl).call(this)){show(o(231),"block"),show(o(206));return}if(nr(this,yn,new CLI),nr(this,_i,new KeyboardManager(Ye(this,yn))),nr(this,Ya,new StorageManager),nr(this,Vn,new PlatformManager(this,Ye(this,yn),Ye(this,Ya))),nr(this,zc,new EnvironmentManager(Ye(this,Vn))),nr(this,Si,new UiManager(Ye(this,Vn),Ye(this,_i))),nr(this,f0,new SaveBrowser(this,Ye(this,Vn),Ye(this,Ya),Ye(this,yn))),nr(this,Ga,new CollectionBrowser(this,Ye(this,Vn),Ye(this,Ya),Ye(this,yn))),Ye(this,_i)[o(250)](),Ye(this,yn).register_command(new HelpCommand),Ye(this,yn)[o(252)](new RestoreCommand(Ye(this,f0))),Ye(this,yn).register_command(new BrowseCommand(Ye(this,Ga))),Ye(this,yn).register_command(new OpenCommand(Ye(this,Vn))),Ye(this,yn)[o(252)](new ListCommand(Ye(this,Vn))),Ye(this,yn)[o(252)](new FindCommand(Ye(this,Vn))),Ye(this,yn)[o(252)](new SystemCommand(Ye(this,Vn))),Ye(this,yn)[o(252)](new SetCommand),Ye(this,yn)[o(252)](new LastCommand(Ye(this,Vn))),Ye(this,yn)[o(252)](new WikiCommand),Ye(this,yn).register_default(o(259)),ur(this,Hc,Yl).call(this),Ye(this,_i).initButtons(),Ye(this,yn)[o(252)](new AboutCommand(Ye(this,Vn))),new ButtonManager(Ye(this,yn))[o(204)](),EnvironmentManager[o(202)](),s("#versionLabel")[o(229)]="v0.8.6",this[o(199)](si.CURRENT_SCREEN[o(264)]),StorageManager.getValue(BOOT_TO)==BOOT_TO_COLLECTION_BROWSER){let i=StorageManager[o(224)](COLLECTION_BROWSER_COLLECTION_INDEX),c=StorageManager[o(224)](COLLECTION_BROWSER_ITEM_INDEX);i&&c?Ye(this,Ga).open(i,c):Ye(this,Ga)[o(239)]()}Debug.isEnabled()&&Debug[o(248)](!![])}[(Hf=_0x24fb7b(265),Wf=_0x24fb7b(218),Kf=_0x24fb7b(267),_0x24fb7b(201))](){const o=_0x24fb7b;let e=Ye(this,Vn)[o(198)]().default_touch_controller;Ye(this,Si)[o(211)](),Ye(this,Si)[o(233)](),Ye(this,Si).initMousepad(),Ye(this,Si).initHideaway(),Ye(this,Si)[o(253)](),e?UiManager.toggleJoystick(e,![]):UiManager[o(216)](JOYSTICK_TOUCH_MODE[o(243)],![]),Ye(this,Si)[o(235)](),this[o(199)](si.CURRENT_SCREEN[o(261)]),EnvironmentManager[o(244)](),Ye(this,Si)[o(215)](),EnvironmentManager[o(232)](Ye(this,Vn)[o(194)]())}[_0x24fb7b(199)](o){const e=_0x24fb7b;switch(o){case si[e(203)][e(264)]:hide("#warningStandalone"),hide(e(245)),hide(e(242)),hide(e(190)),hide("#quickjoys"),hide(e(222)),hide(e(246)),show(e(256),e(219)),Ye(this,yn).on(),Ye(this,_i)[e(250)](),Ye(this,_i).updateMode(o),document[e(230)][e(255)][e(195)]("black");break;case si[e(203)].EMULATION:Ye(this,yn)[e(213)](),hide("#warningStandalone"),hide(e(256)),hide("#save-browser"),hide(e(242)),show(e(190),e(205)),EnvironmentManager[e(226)]()||EnvironmentManager[e(209)]()?(hide(e(222),e(234)),hide("#quickshots"),hide(e(246)),hide(e(258)),hide(e(212))):show(e(222),e(234)),Ye(this,_i)[e(197)](),Ye(this,_i).clicks_off(),Ye(this,_i)[e(260)](o),document[e(230)][e(255)][e(214)](e(247));break;case si[e(203)].SAVE_BROWSER:Ye(this,yn)[e(213)](),hide(e(231)),hide(e(256)),hide(e(190)),hide("#collection-browser"),show("#save-browser","flex"),document[e(230)][e(255)].add(e(247));break;case si.CURRENT_SCREEN[e(249)]:Ye(this,yn)[e(213)](),hide(e(231)),hide(e(245)),hide(e(190)),hide("#settings"),hide(e(258)),hide(e(222)),hide(e(246)),show("#collection-browser",e(219)),document[e(230)][e(255)][e(214)](e(247));break}}};yn=new WeakMap,_i=new WeakMap,zc=new WeakMap,Vn=new WeakMap,Ya=new WeakMap,Si=new WeakMap,f0=new WeakMap,Ga=new WeakMap,Hc=new WeakSet,Yl=function(){const o=_0x24fb7b;window[o(196)](o(208),()=>EnvironmentManager[o(232)](Ye(this,Vn)[o(194)]())),window[o(196)](o(208),()=>EnvironmentManager[o(202)]()),window[o(196)](o(221),()=>EnvironmentManager[o(202)]()),window[o(196)](o(200),()=>EnvironmentManager[o(202)]()),window[o(196)](o(254),()=>EnvironmentManager[o(202)]())},Wc=new WeakSet,Gl=function(){const o=_0x24fb7b,e=new URLSearchParams(window[o(220)].search),i=e[o(191)](o(240))==="pwa";if(isMobile_1&&!(window[o(257)][o(263)]||window.matchMedia(o(241))[o(192)]||window.matchMedia(o(237))[o(192)]||i))return!![]},sn(si,Hf,_0x24fb7b(223)),sn(si,"CURRENT_SCREEN",{STANDALONE_WARNING:50,MENU:100,EMULATION:200,SAVE_BROWSER:220,COLLECTION_BROWSER:300}),sn(si,Wf,{TOUCH_SMALL:100,TOUCH_BIG:200,DESKTOP:300}),sn(si,Kf,{NONE:10,PLATFORM_SELECT:100,CORS_QUERY:200}),sn(si,"SCREEN_SIZE",{SMALLER:100,BIGGER:300});let VME=si;function _0x18bb(){const h=["innerHTML","body","#warningStandalone","resizeCanvas","initQuickshot","grid","initDesktopUI","18978sWayvl","(display-mode: fullscreen)","3488646NhJREL","open","source","(display-mode: standalone)","#collection-browser","QUICKJOY_PRIMARY","updateDeviceType","#save-browser","#quickshot","black","setVisible","COLLECTION_BROWSER","clicks_on","1066205KcSzOl","register_command","initFastUI","gamepadconnected","classList","#settings","navigator","#quickjoys","find","updateMode","EMULATION","6799005kPalaF","standalone","MENU","whitespace","4vtqUdu","CURRENT_MAIN_MENU","#emulator","get","matches","1965WIpfpI","getNostalgist","remove","addEventListener","hideTouchKeyboard","getSelectedPlatform","toggleScreen","gamepaddisconnected","emulationStarted","detectDevice","CURRENT_SCREEN","addButtons","block","html","125637REIMWe","resize","isQuest","fade-in-visible","initQuickJoy","#quickjoy","off","add","initTouchControllerMenu","toggleJoystick","16dgeoGZ","CURRENT_ENV","flex","location","orientationchange","#fastui","&nbsp;","getValue","1010892UqtcHb","isDesktop","11444000QairnX","onload"];return _0x18bb=function(){return h},_0x18bb()}var _0x22d7c0=_0x594f;function _0x1367(){var h=["1459128VtQNJU","191980mPkgPH","3TvAsZa","492968OUvgwE","addEventListener","154966DeBMRn","427GTCNXn","3263312xszbwI","1639WnLvrl","DOMContentLoaded","151722onluTU","4214275agbNPu","153KaCzhp"];return _0x1367=function(){return h},_0x1367()}(function(h,o){for(var e=_0x594f,i=h();[];)try{var c=parseInt(e(245))/1*(-parseInt(e(248))/2)+parseInt(e(243))/3+-parseInt(e(250))/4+-parseInt(e(254))/5+-parseInt(e(253))/6*(parseInt(e(249))/7)+parseInt(e(246))/8*(parseInt(e(255))/9)+-parseInt(e(244))/10*(-parseInt(e(251))/11);if(c===o)break;i.push(i.shift())}catch{i.push(i.shift())}})(_0x1367,960796);function _0x594f(h,o){var e=_0x1367();return _0x594f=function(i,c){i=i-243;var f=e[i];return f},_0x594f(h,o)}document[_0x22d7c0(247)](_0x22d7c0(252),new VME);
